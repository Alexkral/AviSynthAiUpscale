sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(-0.0051837307401001,-0.2265385985374451,0.0447637178003788,-0.1151468977332115);
res += mul(Get(s0,-dx,-dy), float4x4(-0.0284368004649878,0.1524418890476227,0.0521792545914650,-0.1203022748231888,-0.0011484941933304,0.0270097795873880,-0.0356690473854542,0.1861105263233185,0.0777856633067131,-0.0230636466294527,-0.0322560817003250,-0.0739679634571075,-0.0022614821791649,0.0081282546743751,0.0088582662865520,-0.0048099504783750));
res += mul(Get(s1,-dx,-dy), float4x4(-0.1176869869232178,0.0090943742543459,0.0712561607360840,-0.0018990944372490,0.0712624117732048,0.0435635223984718,-0.1349064558744431,0.1058290824294090,0.0305237900465727,-0.0191174857318401,-0.0311273839324713,0.0269086398184299,-0.0098544480279088,-0.0083248149603605,0.0450171791017056,-0.0168410371989012));
res += mul(Get(s2,-dx,-dy), float4x4(-0.0124128423631191,-0.0322778075933456,-0.0552392378449440,0.0930405333638191,-0.0268140267580748,-0.0658287703990936,0.0380290076136589,0.0853204876184464,0.0285307094454765,0.0784991160035133,-0.1059036031365395,-0.0225625168532133,-0.0252056382596493,0.0104981288313866,0.0038413982838392,0.0139437075704336));
res += mul(Get(s0,-dx,0), float4x4(-0.0224431157112122,0.0537396743893623,-0.0896917134523392,-0.4153550565242767,-0.0280499532818794,0.0559119358658791,0.0225068405270576,-0.0110582886263728,-0.0286677181720734,0.0451188161969185,-0.0876561179757118,-0.0062683299183846,-0.0030754082836211,-0.0627637133002281,0.0774265751242638,-0.0804880335927010));
res += mul(Get(s1,-dx,0), float4x4(0.0861421227455139,0.0658038184046745,-0.0568225830793381,-0.2864560186862946,0.2667621374130249,0.2604712247848511,-0.0888982564210892,0.2331614345312119,-0.0981842502951622,-0.0549559034407139,0.2735283076763153,0.3032839000225067,0.0497812256217003,-0.0491010472178459,-0.1045198515057564,-0.0357819274067879));
res += mul(Get(s2,-dx,0), float4x4(0.0277227181941271,0.0190090294927359,0.0808840692043304,0.1201171502470970,-0.0242236610502005,-0.0033198141027242,-0.0017118320101872,0.2196419090032578,0.0220501050353050,0.0525880157947540,0.0337209105491638,0.2979017496109009,0.0070117455907166,0.0075420057401061,-0.0300400946289301,0.0286857765167952));
res += mul(Get(s0,-dx,dy), float4x4(0.0541019663214684,-0.1046508997678757,0.1733296662569046,-0.3717318773269653,-0.0164699666202068,-0.0372236557304859,-0.0150786098092794,-0.0250796061009169,0.0121886627748609,0.0102344090119004,0.0112882694229484,0.0258495435118675,-0.0289477668702602,0.0040341606363654,-0.0490291677415371,-0.0244734343141317));
res += mul(Get(s1,-dx,dy), float4x4(-0.0510871969163418,-0.0355310030281544,-0.0242187958210707,-0.0297219660133123,-0.0672919452190399,-0.0076356022618711,0.0673577412962914,0.0324150584638119,-0.0064445594325662,0.1150312647223473,0.1617314368486404,0.1530267149209976,-0.0050816596485674,-0.0005643497570418,0.0124591756612062,0.1402097195386887));
res += mul(Get(s2,-dx,dy), float4x4(-0.0117893302813172,-0.0859730094671249,0.0259309895336628,-0.0965019315481186,0.0064099966548383,-0.0537249110639095,-0.0309351906180382,-0.0470714531838894,-0.0285744201391935,0.0509817525744438,0.0582494661211967,0.0265935491770506,0.0189033839851618,0.0086803454905748,-0.0312764570116997,0.0079979561269283));
res += mul(Get(s0,0,-dy), float4x4(-0.1091521456837654,0.0960834845900536,0.0780695006251335,0.0426223389804363,-0.1823413074016571,0.0791196003556252,-0.3812699019908905,0.1299093961715698,0.1987904161214828,-0.0333510562777519,-0.0853834450244904,-0.6346397995948792,-0.0249395295977592,0.0030458651017398,0.1161001771688461,0.0617568641901016));
res += mul(Get(s1,0,-dy), float4x4(-0.2116669267416000,0.0073735597543418,-0.1367769539356232,0.3487157523632050,0.0839456915855408,0.3057891428470612,-0.3670054376125336,0.0576040893793106,0.0231447927653790,-0.1017245799303055,-0.0421778485178947,-0.0808006897568703,-0.0185911469161510,0.0990037396550179,-0.1106904074549675,0.0078768273815513));
res += mul(Get(s2,0,-dy), float4x4(0.0209287330508232,-0.1049086377024651,-0.1144880577921867,0.0331220999360085,-0.0743839442729950,0.2201420664787292,-0.0026057488285005,-0.0433128103613853,0.0496193803846836,-0.0145615339279175,-0.0714018940925598,0.0276637319475412,-0.0032413259614259,0.0895221531391144,-0.0870062410831451,-0.0049498165026307));
res += mul(Get(s0,0,0), float4x4(0.2303307503461838,0.5433534383773804,0.3825433850288391,-0.3093933463096619,0.6742122173309326,-0.2440755218267441,0.2265107482671738,0.1230770349502563,0.2748247385025024,0.2286923378705978,-0.8109623789787292,0.1667176038026810,-0.1526730060577393,0.0291103832423687,0.2495762258768082,0.2256281673908234));
res += mul(Get(s1,0,0), float4x4(0.2801208794116974,-0.0650351867079735,0.6726110577583313,-0.0261890925467014,0.4678995609283447,0.1966100931167603,0.1266575157642365,0.1419700831174850,0.0150322746485472,-0.7262094616889954,-0.2099672704935074,-0.2151410728693008,0.0657260268926620,0.5497190356254578,-0.0415748581290245,0.2194429636001587));
res += mul(Get(s2,0,0), float4x4(0.3042368292808533,-0.1940650641918182,-0.0762336030602455,-0.3707633316516876,0.1083834692835808,0.2189049273729324,-0.1016229838132858,-0.0917955785989761,0.1158154457807541,-0.4175321459770203,0.4384596645832062,-0.4022292196750641,0.1205295845866203,0.1316017806529999,-0.1821667551994324,0.0091655040159822));
res += mul(Get(s0,0,dy), float4x4(-0.3332895040512085,0.2571629881858826,0.2045686095952988,-0.0749983787536621,-0.2271230667829514,-0.0468221753835678,-0.0179889798164368,-0.0274620279669762,0.0236822087317705,0.0557335428893566,0.2276259511709213,-0.1191423386335373,-0.0783529654145241,0.0692126378417015,-0.1559393554925919,0.0893272235989571));
res += mul(Get(s1,0,dy), float4x4(-0.1157277822494507,0.0553163960576057,-0.0180593691766262,-0.2200419604778290,0.1316318958997726,0.0654363185167313,-0.1466089934110641,0.0524586513638496,0.0528570823371410,-0.2713589072227478,0.0425386987626553,-0.0750246495008469,0.0015274159377441,-0.0803323611617088,0.2271200418472290,-0.0526340641081333));
res += mul(Get(s2,0,dy), float4x4(0.0598470047116280,0.0016713619697839,-0.3456545472145081,-0.0956934541463852,0.0116209741681814,0.1317898929119110,-0.2623292207717896,0.1886781305074692,0.1633245944976807,0.0595319159328938,-0.1063253432512283,0.0029171220958233,-0.0419661924242973,0.0630737543106079,0.0663712322711945,0.0611143372952938));
res += mul(Get(s0,dx,-dy), float4x4(0.0006341447588056,0.0623461231589317,0.1288097798824310,-0.0004498526977841,-0.0747388303279877,-0.0705746114253998,-0.0345758758485317,0.1035252884030342,-0.0615221448242664,0.1629170626401901,0.0436697639524937,0.0822625905275345,0.0204849056899548,-0.0086681060492992,0.0386705435812473,-0.0379382036626339));
res += mul(Get(s1,dx,-dy), float4x4(-0.0021448903717101,0.0609132722020149,-0.1579240411520004,0.0739895775914192,0.0139592969790101,-0.0385570488870144,0.1925804913043976,0.1164072304964066,0.0570232570171356,0.1040100529789925,0.0321887210011482,-0.0263473801314831,-0.0025879018940032,-0.0193639229983091,-0.0117618851363659,0.0199816264212132));
res += mul(Get(s2,dx,-dy), float4x4(-0.0209368262439966,-0.0715804845094681,-0.0240765791386366,0.0397859141230583,0.0023880577646196,-0.0898226127028465,0.0623713992536068,0.0014467922737822,-0.0512049943208694,0.0484492667019367,-0.0450175292789936,0.0411090627312660,0.0205528065562248,-0.0920625478029251,-0.0477059222757816,0.0199424866586924));
res += mul(Get(s0,dx,0), float4x4(0.0555703155696392,0.2266642153263092,-0.1023643612861633,-0.1135269701480865,-0.0054543339647353,-0.0666626766324043,0.1017781570553780,0.1344078332185745,0.1112731769680977,-0.0411651320755482,0.0402519702911377,0.0327883511781693,-0.0372498296201229,0.0372213050723076,-0.0792395025491714,-0.2647037804126740));
res += mul(Get(s1,dx,0), float4x4(-0.0572196096181870,0.1438623815774918,0.0480668060481548,0.3132433891296387,0.0235222093760967,-0.0445989146828651,0.0289709232747555,-0.1051330193877220,0.0084238946437836,-0.2404948920011520,0.0461100973188877,-0.0991308093070984,-0.0271913241595030,0.0535926818847656,0.1091233715415001,0.0441265255212784));
res += mul(Get(s2,dx,0), float4x4(0.0538098290562630,-0.0175927374511957,0.0809756964445114,0.1290751248598099,0.0109601235017180,-0.0658636763691902,0.0112561685964465,-0.1229077652096748,0.0386095717549324,0.1585533171892166,0.0312861613929272,0.2330504506826401,-0.0231614354997873,0.0066110156476498,0.0450379550457001,0.0844701007008553));
res += mul(Get(s0,dx,dy), float4x4(-0.0192039180546999,0.0185447130352259,-0.0608774162828922,-0.1171885803341866,0.0801838859915733,-0.0301511473953724,-0.0770971104502678,0.0221879500895739,0.0098638311028481,-0.0308527350425720,0.0217406824231148,-0.0290010813623667,-0.0397178232669830,-0.0370389148592949,0.0281431507319212,-0.0182311683893204));
res += mul(Get(s1,dx,dy), float4x4(-0.0743377506732941,0.0030002212151885,0.1636460423469543,0.0940764248371124,0.0019941932987422,-0.0735320523381233,0.0486564002931118,0.0811586529016495,0.0888775661587715,0.0517316833138466,-0.0805658847093582,-0.0315807200968266,0.0375402979552746,0.0357588194310665,0.0038362084887922,-0.0454219542443752));
res += mul(Get(s2,dx,dy), float4x4(0.0395159535109997,0.0294511094689369,-0.0591356754302979,0.1118698343634605,0.0270770955830812,-0.0896606221795082,0.0508983694016933,-0.0097294989973307,-0.0664249435067177,0.0819891020655632,0.0740620717406273,0.0461266674101353,0.0423818267881870,-0.0536129176616669,-0.0423850752413273,-0.0197691172361374));
res = max(float4(0, 0, 0, 0), res) + float4(0.9902442693710327,0.3150228261947632,1.0529935359954834,1.0092651844024658) * min(float4(0, 0, 0, 0), res);
return res;
}
