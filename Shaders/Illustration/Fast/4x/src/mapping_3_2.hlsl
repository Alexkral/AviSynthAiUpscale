sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0.0946675688028336,0.0568169988691807,-0.2068748623132706,0.1189056858420372);
res += mul(Get(s0,-dx,-dy), float4x4(0.0386493355035782,0.1321498304605484,0.0397594086825848,0.0411520004272461,0.0396497398614883,-0.1030633151531219,0.1863962113857269,0.0981449857354164,0.0578850843012333,0.0099666910246015,0.0076656327582896,0.0220520142465830,-0.0302683468908072,-0.1804038435220718,0.1176650375127792,-0.0525369234383106));
res += mul(Get(s1,-dx,-dy), float4x4(0.0168239492923021,-0.0607578903436661,-0.0121477833017707,0.0233169700950384,0.0187088474631310,0.0814726725220680,-0.0617582425475121,-0.1172082126140594,0.1262995898723602,-0.0011630076915026,0.3450883328914642,0.0351525060832500,-0.0326412655413151,0.0030000430997461,-0.2092787623405457,0.0097157265990973));
res += mul(Get(s2,-dx,-dy), float4x4(-0.0124455476179719,0.0806097090244293,-0.1779839396476746,-0.0391816869378090,-0.0345013439655304,-0.0528215542435646,-0.0765703693032265,-0.0220797918736935,0.1104179322719574,-0.0072876368649304,0.2685182988643646,-0.0274053588509560,-0.0140158087015152,-0.0758685693144798,0.0030620228499174,0.0674565657973289));
res += mul(Get(s0,-dx,0), float4x4(-0.0098588708788157,0.0699012950062752,0.0791282877326012,-0.0986593589186668,0.0347675643861294,0.0791085958480835,0.2284098863601685,-0.0451075956225395,-0.0535493120551109,0.0206984467804432,0.1191024258732796,-0.0706747695803642,0.1713887453079224,-0.3078372180461884,0.4521834254264832,-0.1156510263681412));
res += mul(Get(s1,-dx,0), float4x4(-0.0420654453337193,0.0219950247555971,-0.2018261700868607,0.0858977809548378,-0.0869831070303917,0.1405946314334869,-0.4436893463134766,0.1053809821605682,-0.0161248408257961,0.1085976436734200,0.0212451163679361,-0.0587516240775585,-0.0332887470722198,0.1777023375034332,-0.2331487238407135,0.1241099759936333));
res += mul(Get(s2,-dx,0), float4x4(-0.0200646016746759,-0.0782711803913116,-0.3065634369850159,-0.0239106062799692,-0.0033041534479707,-0.3619850873947144,0.1741829365491867,0.0805667638778687,0.0690476968884468,-0.0585209913551807,0.0366101041436195,-0.0784084051847458,-0.0560700111091137,-0.0911860615015030,0.0528805777430534,-0.0141246318817139));
res += mul(Get(s0,-dx,dy), float4x4(-0.0296634268015623,0.0115921311080456,0.0140305627137423,0.0423323959112167,0.1707703918218613,0.0626167431473732,-0.0726980790495872,0.1691987663507462,0.0095816049724817,0.1774891465902328,-0.0135091338306665,0.0118862893432379,0.0728775933384895,-0.2340119481086731,0.0405103303492069,-0.0723994374275208));
res += mul(Get(s1,-dx,dy), float4x4(0.0528266951441765,0.0311472974717617,-0.0648894235491753,0.0550586357712746,-0.0302432850003242,0.1084314361214638,0.0400202311575413,0.0461730808019638,-0.0505777746438980,-0.0942329466342926,-0.0212460774928331,0.0543075054883957,-0.0215043686330318,0.1610148996114731,-0.0657217279076576,0.0621014013886452));
res += mul(Get(s2,-dx,dy), float4x4(0.0371110141277313,0.1292534768581390,-0.0498070977628231,0.0386435650289059,0.0133231822401285,0.0185914970934391,0.0428711548447609,0.0570691786706448,-0.0526968538761139,-0.0501097477972507,0.1726476103067398,-0.1613765060901642,-0.0505726970732212,-0.0333698578178883,-0.0582371354103088,-0.0200548954308033));
res += mul(Get(s0,0,-dy), float4x4(-0.0044160890392959,-0.0171778127551079,0.1672088950872421,0.0946715548634529,-0.0672744140028954,0.0236991103738546,0.1288378387689590,0.0521875694394112,-0.0311258975416422,-0.0205446258187294,-0.0519827455282211,-0.0541770905256271,0.1603541821241379,0.0200569946318865,0.0190493352711201,-0.0697702169418335));
res += mul(Get(s1,0,-dy), float4x4(0.0328906886279583,-0.0861534699797630,-0.1374382525682449,0.0107029899954796,-0.0489375106990337,0.1329542249441147,-0.0203825365751982,-0.1959497481584549,-0.0087744882330298,0.2068704515695572,0.1206305548548698,0.1880858838558197,-0.0172005798667669,0.0771464854478836,-0.1968981176614761,0.0600108318030834));
res += mul(Get(s2,0,-dy), float4x4(-0.0030650778207928,-0.1287303417921066,-0.0899056047201157,0.1718271970748901,0.0889481976628304,-0.0528812855482101,-0.4627521336078644,-0.1203041598200798,0.0734621733427048,-0.1168730407953262,0.3226232230663300,0.1877710968255997,-0.1537795811891556,-0.0241776555776596,0.0430360250174999,0.0709861516952515));
res += mul(Get(s0,0,0), float4x4(-0.3091050386428833,-0.2818242013454437,0.1314508765935898,-0.1237786188721657,0.1551206558942795,-0.2480372041463852,0.0900328904390335,0.1429179012775421,0.0045145256444812,0.1758359223604202,0.1321237087249756,-0.0414982922375202,0.1356657743453979,-0.1488283574581146,0.2780463695526123,-0.1066676378250122));
res += mul(Get(s1,0,0), float4x4(0.6654675602912903,-0.4367012977600098,0.4243348538875580,-0.3463916778564453,0.2756968736648560,0.5515711903572083,-0.0926294401288033,0.0568243786692619,0.2519014775753021,0.3036632239818573,0.1444372832775116,-0.2768373787403107,0.0588312596082687,0.1540561765432358,-0.0936591550707817,0.0982390791177750));
res += mul(Get(s2,0,0), float4x4(-0.1886043995618820,-0.3093711733818054,0.2833899557590485,-0.0514071770012379,-0.0966720655560493,-0.1915183663368225,0.2835036218166351,0.3873530030250549,-0.3382816612720490,-0.2491223365068436,0.0709080174565315,-0.0270227361470461,0.0040487563237548,-0.0776685699820518,-0.0684903338551521,0.0473808906972408));
res += mul(Get(s0,0,dy), float4x4(-0.0868846476078033,-0.2826888263225555,0.0078410739079118,0.0318631157279015,-0.1688916534185410,-0.4006485641002655,-0.2003020793199539,-0.4043634235858917,0.0071981642395258,0.2116678357124329,0.0828912034630775,0.0321192406117916,0.0229345168918371,-0.1360117644071579,-0.0898208320140839,-0.1341011971235275));
res += mul(Get(s1,0,dy), float4x4(0.0024574834387749,-0.0070062205195427,-0.0407723300158978,0.0150946667417884,0.1819922327995300,0.1634176224470139,0.1779903322458267,-0.0173356160521507,0.0673249214887619,-0.0498592294752598,0.0336053185164928,-0.2461122125387192,0.0294613074511290,0.0504607111215591,-0.0540679432451725,0.0227907169610262));
res += mul(Get(s2,0,dy), float4x4(-0.1435242742300034,-0.0603768900036812,-0.0269079227000475,-0.0440004132688046,0.0067292973399162,0.2219214290380478,0.1045447289943695,0.1240678504109383,-0.0445735566318035,-0.4510054886341095,-0.1024592146277428,-0.1664589643478394,-0.0484137982130051,-0.0040638516657054,-0.0538978129625320,-0.0453114695847034));
res += mul(Get(s0,dx,-dy), float4x4(0.0057034944184124,0.0433640405535698,0.0718198269605637,0.0353182703256607,0.1478679329156876,0.0664490386843681,-0.0177068468183279,-0.0181202832609415,-0.0419367402791977,0.1804894804954529,-0.0323249101638794,-0.0549243539571762,0.0498326830565929,-0.0650064125657082,0.1865658164024353,-0.1092584133148193));
res += mul(Get(s1,dx,-dy), float4x4(-0.0080371294170618,0.0125882485881448,-0.2994585931301117,-0.0025832774117589,0.0683429539203644,-0.1023622006177902,0.0748768746852875,-0.0971657335758209,-0.0600467622280121,0.0323144234716892,-0.0229131300002337,0.0472142770886421,-0.0137939387932420,0.1024633347988129,-0.0239235777407885,0.0087337475270033));
res += mul(Get(s2,dx,-dy), float4x4(0.0576379895210266,-0.1531087458133698,0.0186078865081072,0.0574028119444847,-0.0506973676383495,0.0335876867175102,0.1311945617198944,-0.1097169890999794,-0.0662697181105614,-0.1224509924650192,0.0018733493052423,-0.0436503626406193,0.0121065964922309,-0.1123686134815216,-0.0126772690564394,0.0609372258186340));
res += mul(Get(s0,dx,0), float4x4(0.0489596910774708,-0.0995337143540382,-0.1230115890502930,0.0300413575023413,0.0753360167145729,-0.3406738340854645,-0.2774107754230499,0.1777325868606567,-0.0044231172651052,0.2844489812850952,0.0446608513593674,0.0717186555266380,0.1982167810201645,-0.3884504437446594,0.1866369545459747,-0.0663428157567978));
res += mul(Get(s1,dx,0), float4x4(0.1048045903444290,0.1953638345003128,-0.2300822734832764,0.0739862397313118,0.0762993693351746,-0.1949493736028671,0.2206167131662369,-0.0749218612909317,0.0765461102128029,-0.1324103474617004,-0.1134921461343765,0.0849972069263458,-0.0312716402113438,0.2304615676403046,-0.0253399442881346,0.0413111932575703));
res += mul(Get(s2,dx,0), float4x4(0.0318732894957066,0.3602896928787231,-0.3109108507633209,0.0882662758231163,0.0133199561387300,-0.0275218058377504,0.2064227461814880,-0.0345546789467335,0.2584934532642365,-0.4841092228889465,-0.0149336066097021,0.0461610928177834,-0.0705314427614212,-0.1276894807815552,-0.1050819829106331,-0.0072474768385291));
res += mul(Get(s0,dx,dy), float4x4(-0.0710837692022324,-0.1793792694807053,-0.0249513853341341,0.0341605544090271,-0.0096360985189676,-0.1105055809020996,-0.1478554010391235,-0.0280529595911503,-0.0474239215254784,-0.0623500458896160,0.0513532720506191,-0.0001066333061317,-0.0055462974123657,-0.0117442989721894,0.0730381980538368,0.0129881463944912));
res += mul(Get(s1,dx,dy), float4x4(0.0825955271720886,0.3758268952369690,0.0081108994781971,0.0660717934370041,0.1383771002292633,-0.2280246019363403,0.0704748332500458,0.0416185967624187,0.0648372769355774,-0.2291782945394516,0.0612313039600849,0.0415803492069244,0.0011882664402947,-0.0084279756993055,-0.0644399076700211,0.0227096322923899));
res += mul(Get(s2,dx,dy), float4x4(0.0116942906752229,-0.1289412826299667,-0.1568774580955505,-0.0356205403804779,0.1346243172883987,0.0272644534707069,0.0475769042968750,0.0013347525382414,-0.1784722954034805,0.2261502295732498,-0.2710699439048767,-0.0284828972071409,-0.0162884127348661,-0.0007984291878529,-0.0054974299855530,-0.0307542849332094));
res = max(float4(0, 0, 0, 0), res) + float4(0.9799579977989197,-0.1065109595656395,0.1033825054764748,2.9570667743682861) * min(float4(0, 0, 0, 0), res);
return res;
}
