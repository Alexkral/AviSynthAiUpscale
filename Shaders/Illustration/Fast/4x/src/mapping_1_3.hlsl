sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0.0106490412726998,0.0013204793212935,-0.2705350518226624,0.0079889744520187);
res += mul(Get(s0,-dx,-dy), float4x4(0.1015657410025597,-0.1090740039944649,0.2659603655338287,0.2324880361557007,0.2216314077377319,0.1479512453079224,-0.1021440401673317,-0.0539411716163158,-0.0060747242532670,0.2274538129568100,0.1357545852661133,-0.1347019076347351,-0.0119993062689900,0.0067912200465798,0.2791314125061035,-0.3037373721599579));
res += mul(Get(s1,-dx,-dy), float4x4(-0.1325731426477432,0.0490837208926678,-0.0612961202859879,0.0754433795809746,-0.0710971578955650,-0.0534385740756989,0.1164721176028252,0.1511361002922058,0.0660757571458817,0.1108863428235054,0.2775163948535919,-0.0451455451548100,0.0588467679917812,-0.0511406958103180,0.3322015404701233,-0.1590674519538879));
res += mul(Get(s2,-dx,-dy), float4x4(-0.0810810327529907,-0.3008071184158325,-0.2674004137516022,0.4213146865367889,0.0815667212009430,-0.0226972773671150,-0.1197269409894943,0.0759394466876984,0.1035527139902115,0.1989126652479172,0.1541225761175156,-0.0914089605212212,-0.1247874796390533,0.0571322888135910,0.1412672102451324,0.0262744855135679));
res += mul(Get(s0,-dx,0), float4x4(-0.0042824940755963,0.1187764033675194,-0.0004761476593558,0.2248861789703369,0.0375205166637897,-0.3036710321903229,0.1200064942240715,0.0440886840224266,0.2964426875114441,-0.3629767000675201,0.0156040247529745,-0.0571865625679493,0.1632915884256363,-0.2165208607912064,-0.1256486028432846,0.2623768448829651));
res += mul(Get(s1,-dx,0), float4x4(-0.0740732774138451,-0.0403253287076950,0.0483747087419033,-0.1318114697933197,-0.0831465795636177,-0.1727135926485062,0.0343831665813923,0.3940345942974091,0.1043149158358574,-0.2843482494354248,-0.0308184567838907,0.0308128409087658,0.2675644457340240,0.2596511840820312,0.1522530913352966,0.1828517615795135));
res += mul(Get(s2,-dx,0), float4x4(-0.1155568435788155,0.2369325011968613,0.0725038200616837,-0.2340652793645859,0.2418798059225082,0.3734499514102936,0.0477599874138832,0.2415206283330917,0.0192115083336830,0.2485720515251160,-0.1729197800159454,-0.2039731442928314,-0.0706358999013901,-0.0894344523549080,0.1362062692642212,-0.0392697304487228));
res += mul(Get(s0,-dx,dy), float4x4(0.1665073633193970,0.1706808805465698,0.1179074943065643,-0.1948208659887314,-0.1533135473728180,-0.0714921727776527,0.0193457528948784,-0.0436675883829594,-0.0838903784751892,-0.2681628465652466,0.0465392470359802,0.0430020503699780,-0.0177371762692928,0.0054381177760661,-0.0071541001088917,0.1542073935270309));
res += mul(Get(s1,-dx,dy), float4x4(0.1119259074330330,0.0643505752086639,0.0688931867480278,-0.0251444615423679,0.0685009807348251,-0.2874903678894043,-0.0546579547226429,0.1907269954681396,0.0860861912369728,0.0498540475964546,-0.2820206880569458,-0.0000820644345367,-0.0236638914793730,0.0898370966315269,0.1700330376625061,-0.1044489368796349));
res += mul(Get(s2,-dx,dy), float4x4(-0.0680090114474297,0.1746298521757126,0.0653147846460342,0.0124617535620928,-0.1561667174100876,-0.1041867583990097,-0.0040488583035767,0.0042850268073380,-0.0166213735938072,-0.0841105207800865,0.1174682974815369,-0.0485587120056152,0.1560455709695816,0.0674238651990891,0.0743459686636925,0.1120453551411629));
res += mul(Get(s0,0,-dy), float4x4(0.3327393531799316,-0.2814833819866180,-0.2355795204639435,-0.0323183611035347,0.0075546391308308,0.1412520408630371,-0.0994205921888351,0.0120584126561880,-0.1154310405254364,0.2164487540721893,-0.1822615712881088,0.0865090265870094,0.0498474314808846,0.0750721395015717,0.4280507266521454,-0.3077430427074432));
res += mul(Get(s1,0,-dy), float4x4(0.0414611101150513,-0.1429338753223419,0.2722488045692444,-0.2113156467676163,0.1022070050239563,0.2143183350563049,-0.0460155196487904,-0.1940727978944778,-0.0048156520351768,-0.0172666776925325,-0.2134716361761093,0.1376070678234100,0.0504919737577438,-0.2967819571495056,0.2079436182975769,-0.0503530204296112));
res += mul(Get(s2,0,-dy), float4x4(-0.0632025301456451,-0.1154979988932610,0.2613818943500519,-0.0876995623111725,-0.0374100580811501,-0.0318963378667831,-0.0419591516256332,0.1853903532028198,0.1537828594446182,-0.1377803683280945,-0.0155479637905955,0.2831802368164062,0.0866890028119087,0.0641485825181007,0.2378834187984467,0.2785443961620331));
res += mul(Get(s0,0,0), float4x4(-0.8836280107498169,0.4100567400455475,0.1696914285421371,0.0958812981843948,0.0374967902898788,-0.0012335921637714,0.6819151043891907,-0.1711020022630692,-0.3848406374454498,0.3518775701522827,-0.0837764292955399,-0.3547180891036987,-0.1412117779254913,-0.1099084988236427,-0.4749880731105804,0.4876435697078705));
res += mul(Get(s1,0,0), float4x4(0.3411335945129395,-0.0031944955699146,0.0164293181151152,0.4487011432647705,-0.7552442550659180,0.6064723730087280,0.4356011152267456,-0.7696837782859802,0.0127023039385676,0.3761889934539795,0.8580961823463440,-0.5860928297042847,-0.2283648550510406,0.2352132499217987,-0.7460249662399292,0.3720544576644897));
res += mul(Get(s2,0,0), float4x4(-0.0608357414603233,0.4314499795436859,0.1069098636507988,-0.5641797184944153,-0.9397934675216675,0.4213960170745850,-0.3949160575866699,0.2060325890779495,0.5905016660690308,0.3946220576763153,-0.7011581659317017,0.2722294032573700,-0.3308871388435364,-0.5538147091865540,-0.1016025990247726,0.2791478633880615));
res += mul(Get(s0,0,dy), float4x4(0.0399685800075531,-0.0256457775831223,-0.3304413855075836,-0.1089488938450813,0.0398129969835281,-0.0810320824384689,0.1060790196061134,-0.1468423455953598,-0.1980887949466705,-0.1232325583696365,0.1019387617707253,0.1464481800794601,-0.1486634910106659,-0.2406669408082962,0.0804206132888794,0.0019128230633214));
res += mul(Get(s1,0,dy), float4x4(-0.0576573461294174,0.0839312598109245,-0.1696703433990479,0.0624844431877136,0.0986608713865280,-0.1256217956542969,0.0487556271255016,-0.1921175271272659,-0.1190245449542999,0.4081718623638153,-0.0478086173534393,-0.0062495791353285,0.1381853073835373,-0.2530688047409058,-0.0604533329606056,-0.3838317692279816));
res += mul(Get(s2,0,dy), float4x4(0.1852467954158783,-0.3341823220252991,0.0485397987067699,0.1527237147092819,-0.1003828868269920,-0.0526861026883125,0.2356324642896652,-0.3829116523265839,0.0995959043502808,0.2078446298837662,0.1208392605185509,-0.2776981592178345,0.1119138896465302,-0.0027965684421360,-0.0150387240573764,-0.2952320575714111));
res += mul(Get(s0,dx,-dy), float4x4(-0.1129932552576065,0.0351235754787922,-0.1479043215513229,-0.0490362569689751,-0.1346982717514038,-0.1086034998297691,0.0102987475693226,-0.0330669693648815,0.1658958345651627,0.0437271744012833,0.0743992179632187,0.1244682744145393,-0.0947735682129860,0.2246806621551514,-0.2307462692260742,0.2185496240854263));
res += mul(Get(s1,dx,-dy), float4x4(-0.0417936593294144,0.0898268893361092,-0.1154870986938477,0.0901362895965576,0.0472476221621037,-0.1338421255350113,0.1584449410438538,0.0890703797340393,-0.0424873232841492,0.1923246234655380,-0.0641041174530983,0.0290699563920498,-0.0157827511429787,-0.0604788251221180,0.1079695150256157,-0.1041740924119949));
res += mul(Get(s2,dx,-dy), float4x4(0.2346340864896774,-0.0490190386772156,0.1967404484748840,-0.0938091725111008,0.0194041114300489,-0.0910617709159851,0.3907056152820587,-0.0451939553022385,-0.1829281598329544,-0.1541334837675095,0.0786599963903427,0.0134698878973722,-0.1658838391304016,-0.1085989102721214,-0.1595927178859711,0.0502662956714630));
res += mul(Get(s0,dx,0), float4x4(-0.0451304689049721,-0.2187032103538513,0.0037886945065111,0.0779915302991867,0.0262763462960720,0.0457525178790092,0.1321174800395966,-0.0510443374514580,0.2182482928037643,0.0766161903738976,-0.0056512174196541,0.0522796474397182,-0.1002494916319847,0.2068108171224594,0.0713982358574867,-0.2185664921998978));
res += mul(Get(s1,dx,0), float4x4(-0.0883368849754333,-0.0106636174023151,-0.0648853257298470,-0.1543896347284317,0.8525434732437134,-0.0881912410259247,-0.1122988164424896,-0.0934573262929916,0.1686486303806305,-0.1786101311445236,0.3005570471286774,0.1992232948541641,-0.1145596727728844,-0.0116191199049354,0.0751935988664627,-0.0485886745154858));
res += mul(Get(s2,dx,0), float4x4(0.2248184382915497,0.1356377750635147,0.2565428018569946,0.0787700116634369,0.1505968719720840,-0.2423162162303925,0.2734127640724182,0.0503183454275131,0.2758481204509735,-0.1638019829988480,0.1555007398128510,-0.0025739902630448,-0.0564402677118778,-0.0314181335270405,0.0974641665816307,0.0654440298676491));
res += mul(Get(s0,dx,dy), float4x4(0.1155468672513962,-0.0538062639534473,0.0527814961969852,-0.0086544379591942,0.0399785526096821,-0.0013495649909601,-0.0426384806632996,0.1800067126750946,-0.0027461226563901,-0.0439006164669991,-0.0322992056608200,0.1138757616281509,0.1169340834021568,0.0520665198564529,-0.2047080993652344,-0.1662472784519196));
res += mul(Get(s1,dx,dy), float4x4(0.0287312511354685,0.0790232643485069,0.0870625153183937,-0.0164176784455776,0.1674476116895676,0.0366549529135227,0.0163902230560780,0.1070697233080864,0.0730721503496170,-0.4382871687412262,0.0049871448427439,-0.0913040116429329,0.0791416615247726,0.0127261048182845,0.0274614486843348,0.0409987792372704));
res += mul(Get(s2,dx,dy), float4x4(-0.0769576653838158,-0.1309253722429276,-0.2347939461469650,0.1121614053845406,0.1011348292231560,-0.2967771291732788,-0.1489277333021164,-0.1955585181713104,0.0230874065309763,-0.0542991384863853,-0.0834548473358154,-0.0220833327621222,-0.0327586717903614,0.1043875962495804,-0.1025848686695099,-0.1894403249025345));
res = max(float4(0, 0, 0, 0), res) + float4(-0.3299763500690460,-0.8288236856460571,0.1012755557894707,-0.7244906425476074) * min(float4(0, 0, 0, 0), res);
return res;
}
