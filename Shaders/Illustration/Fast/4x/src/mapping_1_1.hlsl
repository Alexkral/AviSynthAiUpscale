sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(-0.0339685492217541,0.1508708000183105,-0.0335518531501293,-0.7146124243736267);
res += mul(Get(s0,-dx,-dy), float4x4(0.4737114608287811,-0.1065422520041466,0.0211853217333555,0.0058315815404058,0.1114390939474106,-0.0518661998212337,0.0376116856932640,-0.0054103699512780,-0.1665861308574677,0.0541403405368328,-0.1577367186546326,0.0388676486909389,0.2683031558990479,-0.2699601352214813,0.0649137943983078,-0.0574341453611851));
res += mul(Get(s1,-dx,-dy), float4x4(0.0083834948018193,0.0559352710843086,0.0367838107049465,-0.0636854767799377,0.0849689617753029,0.0408976338803768,0.0085204979404807,-0.0603401400148869,-0.0232385843992233,0.0641329139471054,-0.0432823337614536,0.0372049212455750,-0.1281989365816116,-0.0352990850806236,-0.0216843690723181,-0.0138689298182726));
res += mul(Get(s2,-dx,-dy), float4x4(0.1604532152414322,-0.2266000956296921,0.0706835538148880,-0.0925504863262177,-0.1763613522052765,0.0129122640937567,0.0272199455648661,-0.0554684475064278,0.0465596094727516,-0.0948780328035355,0.1426914185285568,-0.0503313317894936,0.0369035899639130,-0.0606123991310596,0.0273184422403574,-0.0173334777355194));
res += mul(Get(s0,-dx,0), float4x4(-0.2384868413209915,0.0305750947445631,-0.1039416417479515,0.0347880050539970,-0.0915967375040054,-0.0236677974462509,0.1301375925540924,0.1551367342472076,0.0502030029892921,0.0664233788847923,-0.1217887029051781,-0.1042973026633263,0.1120642721652985,-0.0418834723532200,0.1853821128606796,-0.0303998645395041));
res += mul(Get(s1,-dx,0), float4x4(-0.1061535850167274,0.1016279608011246,-0.2043462097644806,0.0535551756620407,0.1549662202596664,0.1156658604741096,-0.0472611375153065,-0.0192544255405664,0.0191849246621132,-0.0447906032204628,0.2085605710744858,-0.0941818058490753,0.2035373300313950,-0.1627176553010941,0.0833580642938614,0.0471071340143681));
res += mul(Get(s2,-dx,0), float4x4(0.0835835114121437,0.0543599613010883,-0.1205623969435692,-0.1802625805139542,0.1211733743548393,0.0340105071663857,0.1509039252996445,-0.2103250473737717,-0.2466529309749603,0.2335239946842194,0.0853588059544563,-0.0847832709550858,0.0772998481988907,0.1570707559585571,-0.1597265899181366,-0.2537260353565216));
res += mul(Get(s0,-dx,dy), float4x4(0.0559284649789333,-0.0604385435581207,0.1887688040733337,-0.0525397099554539,0.1415079534053802,0.0434713847935200,0.1042543128132820,-0.2390729486942291,0.0196106918156147,0.0851631015539169,0.0728922933340073,-0.0181240774691105,0.0714744329452515,0.1263798773288727,0.1445349454879761,0.0379436649382114));
res += mul(Get(s1,-dx,dy), float4x4(0.0072750397957861,-0.1125711724162102,0.0591297671198845,0.1104340329766273,-0.0511004626750946,0.1311732977628708,0.1002548038959503,-0.0114886574447155,0.1611558496952057,-0.1852828711271286,0.1351831704378128,-0.0911895558238029,0.1713915318250656,0.1045274809002876,-0.1076444163918495,-0.0604044906795025));
res += mul(Get(s2,-dx,dy), float4x4(-0.1475206315517426,-0.0388669110834599,0.0609678886830807,0.1061516180634499,-0.1345251798629761,0.1833730041980743,-0.0336647704243660,-0.0093290004879236,0.0710006654262543,-0.0642751976847649,0.1326948553323746,-0.1041486337780952,0.0035389002878219,-0.0046407226473093,0.2624134719371796,-0.0827998146414757));
res += mul(Get(s0,0,-dy), float4x4(-0.0066320751793683,0.0662704110145569,-0.0267868824303150,-0.2244471758604050,-0.1864529848098755,0.1346350014209747,0.1292166709899902,-0.0771067664027214,-0.0770785957574844,-0.0228165332227945,-0.0694879740476608,-0.0168860759586096,0.0563232526183128,0.1498193740844727,-0.2225692272186279,0.0018699117936194));
res += mul(Get(s1,0,-dy), float4x4(0.1105383858084679,-0.0643085464835167,-0.1581082940101624,0.1775105297565460,-0.0432585291564465,-0.0718735307455063,-0.0563974753022194,0.0370796993374825,-0.4194578230381012,0.0542417764663696,0.0228927507996559,0.0467396043241024,0.2655810415744781,-0.0042480151169002,0.0513056889176369,-0.0624248646199703));
res += mul(Get(s2,0,-dy), float4x4(-0.0114869344979525,0.0491971373558044,-0.3154934048652649,0.2451877444982529,-0.0932182073593140,0.0451500341296196,0.0903374701738358,0.2427174746990204,-0.0379590690135956,0.1872275620698929,-0.1336243301630020,-0.1086669936776161,-0.3246978521347046,0.2007304728031158,-0.1958622783422470,0.0341789536178112));
res += mul(Get(s0,0,0), float4x4(-0.5173842906951904,0.1523337960243225,-0.8394184112548828,0.5949300527572632,-0.1201328560709953,-0.0167493168264627,-0.0085915606468916,0.6811227798461914,-0.0842109620571136,-0.2684455215930939,0.6522855758666992,0.6511057019233704,-0.6432183384895325,0.1184892356395721,-0.3293489515781403,0.0688076987862587));
res += mul(Get(s1,0,0), float4x4(-0.2602118253707886,0.2809281349182129,0.4776236414909363,0.6205369830131531,-0.2892284393310547,0.2715349793434143,-0.8318066000938416,0.0740888863801956,0.3191027045249939,-0.3020663559436798,0.1997769773006439,0.1081305146217346,-0.2002056390047073,-0.2572916150093079,0.6540536284446716,0.0949796959757805));
res += mul(Get(s2,0,0), float4x4(-0.3307044506072998,0.1024220436811447,0.0755211636424065,-0.2057370394468307,-0.7073405385017395,0.0009755023638718,-0.4175388514995575,0.6809712648391724,-0.4349989295005798,0.0807555764913559,0.0408298633992672,-0.5323768854141235,0.1508829891681671,-0.2892578840255737,0.5499600768089294,0.2939201891422272));
res += mul(Get(s0,0,dy), float4x4(-0.1608786433935165,0.0461081303656101,-0.0162176396697760,0.2248494178056717,-0.0987513810396194,-0.1009167730808258,-0.0335440859198570,0.2209374159574509,0.1108623296022415,-0.0839883536100388,-0.1722870171070099,-0.0640672966837883,0.1022541448473930,0.0236501861363649,-0.2349272370338440,0.0413622856140137));
res += mul(Get(s1,0,dy), float4x4(0.0660362839698792,0.1585614532232285,-0.3551913201808929,0.0401126965880394,-0.1242924332618713,-0.1424064338207245,0.7134993076324463,0.0483802780508995,0.1751398444175720,0.0948032960295677,0.0669989436864853,-0.1241812556982040,0.0070199896581471,-0.1530160009860992,-0.1208344921469688,0.2302018404006958));
res += mul(Get(s2,0,dy), float4x4(0.2241376936435699,0.1594460308551788,0.1140880584716797,0.2571674287319183,0.2472407519817352,-0.1067333966493607,-0.2552160918712616,0.1207273602485657,-0.0203999895602465,-0.0534721463918686,-0.6182646155357361,-0.0923668295145035,0.2605115175247192,0.0764956697821617,0.0058873859234154,0.0364977344870567));
res += mul(Get(s0,dx,-dy), float4x4(0.0046272138133645,0.0085166646167636,-0.0025370654184371,0.2253905832767487,0.1537819206714630,0.0579183660447598,0.1355404108762741,0.0867948010563850,-0.0140879331156611,0.0196896921843290,0.0935275033116341,-0.2582163512706757,0.1131727620959282,-0.1314255446195602,0.1549516916275024,-0.1055836752057076));
res += mul(Get(s1,dx,-dy), float4x4(-0.0947385206818581,-0.0852588489651680,-0.0660275965929031,-0.1863655149936676,0.0083421720191836,-0.0055665690451860,0.0407952144742012,-0.0294493976980448,-0.1514352262020111,-0.0057535623200238,-0.0166257377713919,0.0616035535931587,0.0529528632760048,-0.0614316128194332,0.0780451744794846,-0.0386840812861919));
res += mul(Get(s2,dx,-dy), float4x4(0.0019568623974919,-0.0097096571698785,0.0124125843867660,-0.1585594415664673,-0.0019865431822836,0.0197489950805902,-0.0355815067887306,0.1585949510335922,0.0448433980345726,-0.0161947887390852,0.0828459188342094,0.0651640966534615,-0.0115262707695365,-0.0642318353056908,-0.0623281784355640,0.0745140686631203));
res += mul(Get(s0,dx,0), float4x4(0.1838281899690628,-0.0526989623904228,0.3197613060474396,-0.2462671846151352,0.1601203978061676,0.1951818019151688,-0.0970634520053864,0.0824498534202576,-0.0630546212196350,0.0546526573598385,-0.1284757256507874,-0.1991389840841293,-0.1895056217908859,0.2348624616861343,-0.4299392104148865,-0.1507229655981064));
res += mul(Get(s1,dx,0), float4x4(0.0433240644633770,-0.0058558424934745,-0.2897840142250061,0.3319103419780731,0.1210149675607681,0.0948192849755287,-0.1747223883867264,-0.4610269665718079,-0.3510293662548065,0.0493758097290993,-0.0723465830087662,-0.2841914594173431,0.3444430232048035,0.0826088637113571,0.1158280745148659,-0.1770772635936737));
res += mul(Get(s2,dx,0), float4x4(-0.1006121933460236,-0.1812111884355545,0.1235522776842117,0.1399691253900528,-0.0474734492599964,-0.0084116887301207,-0.0763894841074944,-0.0517692118883133,0.3268026411533356,0.0215828418731689,-0.0800193920731544,-0.1324538737535477,0.1116510853171349,-0.1385495960712433,0.0441227667033672,0.2294635325670242));
res += mul(Get(s0,dx,dy), float4x4(0.3391041457653046,-0.0117477495223284,-0.0472161509096622,-0.3094249367713928,-0.0686177834868431,0.0299692191183567,-0.0479584783315659,-0.1193251162767410,0.0487540550529957,0.0951286554336548,-0.0824186727404594,0.2516828477382660,-0.0276807900518179,-0.0395464561879635,0.1808657795190811,-0.0819738730788231));
res += mul(Get(s1,dx,dy), float4x4(-0.0054270378313959,-0.0747741386294365,0.2821253538131714,-0.1213954538106918,0.2173927575349808,-0.0241313520818949,0.1575217694044113,0.0702116489410400,0.3384316563606262,0.0842607393860817,0.0768198370933533,-0.2007519602775574,-0.1714734584093094,0.0306579545140266,0.0562549084424973,-0.0687327086925507));
res += mul(Get(s2,dx,dy), float4x4(0.0998450517654419,0.0787432640790939,0.0994141548871994,-0.1278528571128845,-0.1454139500856400,0.0872723609209061,-0.1605714261531830,0.0824892967939377,-0.2497058510780334,0.0732415243983269,-0.3732887804508209,-0.0611523017287254,0.0927578955888748,-0.0732631608843803,-0.1653482466936111,-0.1134714707732201));
res = max(float4(0, 0, 0, 0), res) + float4(0.9285601377487183,4.1678056716918945,-0.3339958786964417,0.0005123321316205) * min(float4(0, 0, 0, 0), res);
return res;
}
