sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0.0170400924980640,0.0847861468791962,0.0229737181216478,-0.0077368249185383);
res += mul(Get(s0,-dx,-dy), float4x4(0.0481496974825859,-0.0050726495683193,0.0031964371446520,-0.0101624932140112,0.0916951298713684,0.1500356793403625,0.0333477966487408,0.0179624874144793,0.0251893755048513,0.1180906444787979,0.1771951317787170,0.1017012819647789,0.0710837692022324,0.3629671633243561,-0.4601080715656281,-0.1119642108678818));
res += mul(Get(s1,-dx,-dy), float4x4(-0.0737608596682549,0.1627819389104843,0.0528812259435654,0.0469280928373337,0.0166128017008305,-0.0755986645817757,0.0017515709623694,0.0849452391266823,0.0182029996067286,0.0267070122063160,0.0639571547508240,0.0184101462364197,0.1365700662136078,-0.0584706775844097,-0.0159870591014624,0.0807520970702171));
res += mul(Get(s2,-dx,-dy), float4x4(0.0624257624149323,-0.0777832791209221,-0.0083738202229142,0.1477981656789780,-0.0304961297661066,0.1024438813328743,0.1938560903072357,0.1308211237192154,-0.0511964485049248,-0.0493444986641407,0.0919292792677879,-0.1643936038017273,-0.0355464480817318,-0.1231244578957558,-0.1028291359543800,-0.0696175247430801));
res += mul(Get(s0,-dx,0), float4x4(-0.0308021903038025,0.0644984021782875,0.2258369922637939,-0.3653498589992523,-0.0315143987536430,0.0734446346759796,0.0641540586948395,-0.0611593276262283,0.1440589278936386,0.1182428374886513,0.0368415303528309,0.1532397866249084,1.8385411500930786,-1.0209374427795410,0.8441625237464905,1.5342154502868652));
res += mul(Get(s1,-dx,0), float4x4(0.1394401192665100,-0.2116500586271286,0.1148332729935646,-0.0679342746734619,-0.1764872223138809,0.0500360280275345,0.0027248845435679,-0.0569504946470261,0.2640528976917267,-0.1154848262667656,-0.0473121106624603,0.1479783803224564,0.2327961623668671,0.0979698523879051,-0.0741053745150566,0.0699759647250175));
res += mul(Get(s2,-dx,0), float4x4(0.4466395378112793,0.1575540304183960,-0.3760887980461121,-0.1789055168628693,0.0368246622383595,0.0778973698616028,0.2199721336364746,0.0435466505587101,-0.1492454111576080,0.0172638297080994,0.2266821116209030,-0.1672582477331161,0.0027674967423081,-0.1031278893351555,-0.1506856083869934,-0.2131504118442535));
res += mul(Get(s0,-dx,dy), float4x4(-0.0167948044836521,-0.0414195396006107,-0.0295047722756863,-0.0145710706710815,-0.0750692561268806,0.0546544492244720,0.0105937421321869,-0.0557600148022175,0.0345959179103374,-0.0068983021192253,-0.0901515930891037,0.0448127053678036,0.3228883743286133,-0.1464724987745285,0.2326217293739319,-0.1541630923748016));
res += mul(Get(s1,-dx,dy), float4x4(-0.0186354219913483,-0.0404009483754635,0.0243609044700861,0.0762047171592712,-0.0559009015560150,0.0945122539997101,0.0995980724692345,-0.0537437386810780,-0.0313716791570187,0.0153929768130183,-0.0172995664179325,0.0078961960971355,0.0271411780267954,0.1503288298845291,-0.0915662497282028,0.0012501101009548));
res += mul(Get(s2,-dx,dy), float4x4(0.0804738551378250,-0.0160004291683435,-0.0692246630787849,0.1154444739222527,-0.0606593228876591,0.1465418636798859,0.0814438983798027,0.0880935937166214,0.1066480129957199,0.0772121176123619,-0.2055940628051758,-0.0028117892798036,-0.0478710122406483,-0.1554110497236252,-0.1159120574593544,-0.0035586731974036));
res += mul(Get(s0,0,-dy), float4x4(-0.0429736562073231,-0.4148615002632141,0.1995118856430054,0.0759836584329605,0.2696716487407684,-0.3235716223716736,-0.0993988886475563,-0.0529253892600536,0.0061146179214120,-0.7277073860168457,0.0542093627154827,-0.4416772723197937,-0.1628534495830536,-0.0292331352829933,-0.4078219532966614,0.3175303339958191));
res += mul(Get(s1,0,-dy), float4x4(-0.0556970424950123,-0.2049100995063782,0.0253140758723021,-0.3913383781909943,0.0107538020238280,0.4965718388557434,-0.3922669291496277,0.3656056821346283,0.0677963420748711,0.0591550730168819,-0.0705187842249870,0.3179480433464050,0.2158229202032089,-0.1717991083860397,-0.1076124235987663,0.0873065665364265));
res += mul(Get(s2,0,-dy), float4x4(0.1227300912141800,-0.0296313520520926,-0.1856323778629303,-0.2086575180292130,-0.1001446694135666,0.2067664861679077,0.3394666910171509,0.0438705310225487,-0.2008009701967239,-0.3317418694496155,0.2278256863355637,-0.5194156765937805,-0.0905533060431480,-0.1389767080545425,-0.0242911465466022,-0.1108399927616119));
res += mul(Get(s0,0,0), float4x4(0.1785805374383926,-0.2551604211330414,-0.3722764849662781,0.2884333431720734,0.1056691259145737,-0.0684074684977531,-0.0051504941657186,0.1400568187236786,0.2796764373779297,-0.0875530987977982,-0.0355871506035328,-0.2810941636562347,0.3232055008411407,-0.3918619155883789,0.3876940608024597,0.6707530617713928));
res += mul(Get(s1,0,0), float4x4(-0.0595008395612240,0.2973995506763458,-0.6234443187713623,0.4340642392635345,-0.0875036120414734,-0.0533172935247421,-0.2190201580524445,0.3533951640129089,0.2070160657167435,-0.2486341148614883,0.3896644711494446,0.4557357430458069,-0.5385553240776062,0.3593654632568359,0.3658893108367920,0.0211122930049896));
res += mul(Get(s2,0,0), float4x4(0.2373975068330765,-0.1076964437961578,-0.0808364301919937,-0.0979700684547424,-0.0933906808495522,0.0993604362010956,0.2970224618911743,0.2239807397127151,0.1097320690751076,0.8809230327606201,-0.5161260962486267,0.3064227998256683,-0.0132732931524515,-0.5847758054733276,0.1879489719867706,-0.0754708722233772));
res += mul(Get(s0,0,dy), float4x4(0.1922506839036942,-0.0780315101146698,-0.0809223130345345,0.1719306260347366,-0.0336991660296917,0.0482701621949673,-0.0782933086156845,-0.1049945428967476,0.1251220107078552,0.0596860200166702,0.0079776216298342,0.2466689050197601,0.0654035955667496,-0.5676293373107910,0.1464296430349350,0.4206789731979370));
res += mul(Get(s1,0,dy), float4x4(0.0008896077051759,-0.0045470818877220,0.0318179428577423,-0.1261478066444397,-0.1051767319440842,-0.0720964372158051,-0.0201901681721210,-0.1283536106348038,0.0420253574848175,0.0192574393004179,-0.1708835363388062,-0.2932944595813751,0.0369042083621025,-0.1650169938802719,-0.0232763383537531,0.0181555673480034));
res += mul(Get(s2,0,dy), float4x4(0.1721763312816620,-0.1251046508550644,0.0353225432336330,0.0448888093233109,-0.1450056582689285,0.0186023525893688,0.1072186678647995,0.0743320509791374,0.6047887802124023,-0.0433478988707066,0.5098764896392822,0.5658968687057495,-0.0364495664834976,-0.2991351187229156,-0.1333875954151154,0.2617523074150085));
res += mul(Get(s0,dx,-dy), float4x4(0.1136761158704758,0.0105647128075361,-0.0992362275719643,-0.1033970788121223,0.1644013822078705,-0.0866933315992355,-0.0516225397586823,0.1167192235589027,0.0121282450854778,-0.0916561856865883,-0.1725841164588928,-0.1066723391413689,-0.2668233215808868,0.2005932778120041,-0.0435274131596088,-0.5141700506210327));
res += mul(Get(s1,dx,-dy), float4x4(-0.0062920576892793,-0.1121627390384674,-0.1262321323156357,0.0700017288327217,-0.0216134022921324,0.0942860096693039,0.0981885865330696,0.0335165970027447,-0.0859709158539772,0.0976340994238853,0.0205163247883320,0.0345827378332615,0.0773082450032234,-0.0201230794191360,-0.0575119778513908,-0.1005780249834061));
res += mul(Get(s2,dx,-dy), float4x4(0.0090176342055202,-0.0936669260263443,-0.0220695957541466,-0.0154445264488459,-0.1708816289901733,0.1542475223541260,0.3783541321754456,0.1305752992630005,-0.1166921332478523,-0.0968734025955200,0.0191928893327713,-0.0405081585049629,-0.0607734434306622,-0.1840885430574417,-0.0781383067369461,-0.0609182566404343));
res += mul(Get(s0,dx,0), float4x4(0.0199005119502544,-0.0295803956687450,0.0265963040292263,0.3977278470993042,-0.1132225766777992,0.0865593776106834,0.0626995190978050,-0.1000082492828369,0.1562089771032333,0.0664542093873024,-0.1494383960962296,0.1009365469217300,-0.2517576217651367,0.1091405972838402,-0.2852155566215515,-0.6129855513572693));
res += mul(Get(s1,dx,0), float4x4(0.0915760993957520,-0.1739720404148102,0.3511760532855988,0.1089814901351929,-0.1478668600320816,0.1218862310051918,0.3987648189067841,-0.2842007279396057,-0.0949724912643433,0.0935422778129578,-0.1324588954448700,-0.0497577972710133,-0.0415726080536842,-0.1459297239780426,-0.0340342335402966,-0.2383055984973907));
res += mul(Get(s2,dx,0), float4x4(0.0350856408476830,-0.1285062581300735,0.0172204002737999,-0.1603688001632690,0.0087458444759250,0.2019239366054535,0.1117480248212814,-0.0095011126250029,-0.1124921143054962,-0.2012773156166077,-0.1406100392341614,0.1005470231175423,0.0222874414175749,-0.5265262722969055,-0.2028129249811172,-0.2127609997987747));
res += mul(Get(s0,dx,dy), float4x4(0.0107361394912004,0.1396802961826324,0.0470557324588299,-0.0096402065828443,0.0302915498614311,0.0487132966518402,-0.0110584879294038,-0.0792337208986282,0.0844886228442192,0.0417186766862869,-0.0140037667006254,0.1275620609521866,-0.2900667190551758,0.0731629431247711,0.2685253322124481,-0.3460433483123779));
res += mul(Get(s1,dx,dy), float4x4(-0.0365384705364704,0.1035746484994888,0.0093683209270239,-0.1270608454942703,-0.0865684747695923,-0.0781285762786865,0.0525471121072769,-0.0612149313092232,0.0059981206431985,0.0423127375543118,0.0385121926665306,0.0070566800422966,-0.0810282453894615,-0.0921068936586380,0.0229934509843588,0.0347024686634541));
res += mul(Get(s2,dx,dy), float4x4(-0.0711918249726295,-0.0806614682078362,0.0846977606415749,0.0426823869347572,-0.1445993930101395,0.1080664172768593,0.1503897011280060,0.3110522031784058,0.1222109273076057,-0.3016326427459717,-0.1369701176881790,0.3221834003925323,-0.0346593558788300,-0.3488901257514954,-0.1935841441154480,0.1885603666305542));
res = max(float4(0, 0, 0, 0), res) + float4(-0.4605538547039032,0.5916196703910828,-1.6396456956863403,0.1540612429380417) * min(float4(0, 0, 0, 0), res);
return res;
}
