sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float3 res = float3(0.2943550646305084,0.2972815036773682,0.2926196455955505);
res += mul(Get(s0,-dx,-dy), float4x3(0.0163454245775938,-0.0162067953497171,-0.0077601820230484,-0.0034358622506261,-0.0426699221134186,-0.0306588876992464,-0.0233998782932758,0.0026971639599651,0.0081154536455870,0.0176911130547523,-0.0254642665386200,-0.0259485356509686));
res += mul(Get(s1,-dx,-dy), float4x3(-0.0089985495433211,0.0009050617227331,0.0012044820468873,0.0106317354366183,0.0228951647877693,0.0076250010170043,0.0339634716510773,-0.0029090901371092,-0.0143706668168306,-0.0947158038616180,0.0873532742261887,0.0737890228629112));
res += mul(Get(s2,-dx,-dy), float4x3(-0.0369185209274292,-0.0051465765573084,-0.0011837538331747,0.0554459355771542,-0.0059887245297432,-0.0196490325033665,-0.0652186051011086,-0.0096297161653638,0.0171447750180960,0.0192559845745564,0.0056108380667865,-0.0052139032632113));
res += mul(Get(s0,-dx,0), float4x3(-0.0222881790250540,-0.0222793165594339,0.0377188026905060,-0.0508651882410049,0.0419489927589893,0.0175133366137743,0.0497580245137215,0.0383460409939289,-0.0701338127255440,0.0527984797954559,0.0116846784949303,-0.0160152055323124));
res += mul(Get(s1,-dx,0), float4x3(-0.0202502571046352,0.0182997286319733,0.0102599337697029,-0.0311151780188084,-0.0403724312782288,0.0242967251688242,0.0205935854464769,-0.0367188565433025,-0.0807170271873474,0.1732138246297836,0.0793750658631325,-0.0778226703405380));
res += mul(Get(s2,-dx,0), float4x3(0.0211118943989277,0.0319631472229958,0.0625583082437515,-0.0964355841279030,-0.0213648360222578,0.0703161358833313,0.0075664147734642,-0.0266283508390188,-0.0765054002404213,0.0304028876125813,0.0551780164241791,0.0368806347250938));
res += mul(Get(s0,-dx,dy), float4x3(0.0019488054094836,0.0047875125892460,0.0004786734934896,0.0083616813644767,0.0001982669200515,-0.0278926920145750,-0.0047999611124396,-0.0065436447039247,0.0176305305212736,-0.0203741304576397,-0.0281453914940357,0.0048012146726251));
res += mul(Get(s1,-dx,dy), float4x3(0.0083330152556300,0.0033755716867745,-0.0319064781069756,0.0035416421014816,0.0137202413752675,-0.0015769184101373,-0.0065506706014276,-0.0119217056781054,0.0144720403477550,-0.0202272888273001,-0.0151104144752026,0.0259496998041868));
res += mul(Get(s2,-dx,dy), float4x3(-0.0020027144346386,-0.0003703347174451,-0.0198812056332827,0.0110533153638244,0.0121058402583003,-0.0433186367154121,-0.0008694569114596,-0.0081417132169008,-0.0025219162926078,-0.0030468222685158,-0.0045819804072380,0.0060933250933886));
res += mul(Get(s0,0,-dy), float4x3(0.0050318893045187,-0.0146292345598340,-0.0014847933780402,0.0400012582540512,-0.0279880482703447,-0.0222970657050610,-0.0479858368635178,0.0119973933324218,0.0108317844569683,0.0447206385433674,0.0434695892035961,0.0215068906545639));
res += mul(Get(s1,0,-dy), float4x3(0.0148954130709171,0.0005258764722385,-0.0039389217272401,-0.0002890548494179,-0.0277897510677576,-0.0063655246049166,-0.0282584819942713,0.0390676297247410,0.0270451139658689,-0.0080121243372560,-0.0043354737572372,0.0182827599346638));
res += mul(Get(s2,0,-dy), float4x3(0.0493306778371334,-0.0162005145102739,-0.0120745366439223,-0.0150326248258352,0.0066383788362145,-0.0422515831887722,0.0057093882933259,-0.0067368391901255,-0.0087094986811280,0.0320179872214794,0.0001967712305486,-0.0007520778453909));
res += mul(Get(s0,0,0), float4x3(0.0194656532257795,-0.0276954583823681,-0.0021922767627984,0.0995563268661499,0.2604250609874725,0.3127193450927734,-0.1270278543233871,-0.1224275082349777,-0.1865667700767517,0.7858289480209351,0.8009635806083679,0.4123609066009521));
res += mul(Get(s1,0,0), float4x3(0.0364117175340652,-0.0921525061130524,0.0210121348500252,0.0073534329421818,0.1713755130767822,0.2470340430736542,0.1131180226802826,0.0841991528868675,-0.1484631747007370,-0.0878335461020470,-0.1154784113168716,0.1562700718641281));
res += mul(Get(s2,0,0), float4x3(0.4531410932540894,0.4840589165687561,0.6956340670585632,-0.3298316895961761,-0.3610630035400391,-0.2996834814548492,-0.0227386113256216,-0.0094315195456147,0.0198629628866911,0.0048304740339518,0.0268267765641212,0.0498002059757710));
res += mul(Get(s0,0,dy), float4x3(-0.0004390748217702,-0.0067437477409840,0.0065657817758620,0.0317256897687912,0.0625555217266083,0.0098013821989298,-0.0051481947302818,-0.0099336216226220,-0.0608428157866001,-0.0083063067868352,0.0007066287798807,0.0260830298066139));
res += mul(Get(s1,0,dy), float4x3(-0.0225938446819782,-0.0057021533139050,0.0870468243956566,0.0264012794941664,0.0266768708825111,0.0018891026265919,-0.0030693728476763,-0.0146726602688432,-0.0172874983400106,-0.0388317964971066,-0.0465659610927105,-0.0032789474353194));
res += mul(Get(s2,0,dy), float4x3(0.0220625940710306,0.0461081378161907,0.0482476986944675,0.0047550597228110,0.0579503886401653,0.0342411585152149,0.0058842776343226,0.0026394552551210,-0.0140429167076945,-0.0069031510502100,-0.0036199858877808,0.0068053533323109));
res += mul(Get(s0,dx,-dy), float4x3(0.0029055797494948,0.0028003547340631,-0.0029346931260079,-0.0024496789555997,0.0092233801260591,0.0033916872926056,0.0166958775371313,0.0001701872388367,0.0014073413331062,0.0321270078420639,-0.0032358898315579,-0.0062069110572338));
res += mul(Get(s1,dx,-dy), float4x3(-0.0126875285059214,-0.0014007076388225,-0.0015155107248574,-0.0289008729159832,0.0052093854174018,0.0086709074676037,0.0101434411481023,-0.0027194411959499,0.0139525346457958,-0.0414102673530579,0.0015329857124016,-0.0042257644236088));
res += mul(Get(s2,dx,-dy), float4x3(0.0042392425239086,0.0175312273204327,-0.0091993529349566,0.0996850952506065,-0.0242037754505873,-0.0236827079206705,0.0147782946005464,0.0031057915184647,-0.0033273478038609,-0.0162401683628559,-0.0038787329103798,0.0006538179586641));
res += mul(Get(s0,dx,0), float4x3(-0.0002790876606014,-0.0024358474183828,0.0023241096641868,0.0085500236600637,0.0172272436320782,0.0140943853184581,0.0205570124089718,0.0248340051621199,0.0305023752152920,0.0000244912916969,0.0025438582524657,0.0195677690207958));
res += mul(Get(s1,dx,0), float4x3(-0.0072979307733476,0.0251907836645842,0.0210487749427557,-0.0088550066575408,-0.0294371079653502,-0.0418479926884174,-0.0056087658740580,-0.0068228133022785,-0.0043114176951349,0.0263051576912403,0.0121313650161028,-0.0019405235070735));
res += mul(Get(s2,dx,0), float4x3(0.0162592418491840,0.0374351404607296,0.0613037385046482,-0.0337251536548138,0.1269999891519547,0.0776982605457306,-0.0026773731224239,0.0077740624547005,0.0182840507477522,-0.0042093503288925,-0.0095280325040221,-0.0215367246419191));
res += mul(Get(s0,dx,dy), float4x3(-0.0010923038935289,0.0007170716417022,0.0007825076463632,-0.0043536610901356,-0.0104217519983649,-0.0182486455887556,0.0071759112179279,0.0057818200439215,0.0037803116720170,-0.0011333763832226,-0.0026076138019562,-0.0102351810783148));
res += mul(Get(s1,dx,dy), float4x3(-0.0100189000368118,-0.0063729258254170,-0.0172359142452478,-0.0069214808754623,-0.0130910845473409,0.0004991214955226,0.0027142025064677,-0.0000882620952325,0.0026964161079377,0.0022933168802410,0.0068604433909059,0.0067090420052409));
res += mul(Get(s2,dx,dy), float4x3(-0.0109202126041055,-0.0105582578107715,-0.0234138183295727,-0.0084365457296371,-0.0061298115178943,0.0042358450591564,0.0038141170516610,0.0048228339292109,-0.0031397899147123,0.0040601571090519,0.0012137944577262,-0.0027348520234227));
return float4(res, 0);
}
