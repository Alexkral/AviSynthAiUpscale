sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float3 res = float3(0.2930677831172943,0.2970572412014008,0.2912991940975189);
res += mul(Get(s0,-dx,-dy), float4x3(-0.0015933938557282,0.0058033675886691,-0.0012024738825858,0.0116906696930528,-0.0007464093505405,-0.0002132884255843,-0.0015601502964273,-0.0083577521145344,0.0031570636201650,-0.0086204372346401,-0.0264452714473009,0.0012708668364212));
res += mul(Get(s1,-dx,-dy), float4x3(0.0031694001518190,0.0028848368674517,-0.0041520334780216,0.0054888194426894,0.0084331817924976,-0.0009991755941883,0.0028528070542961,-0.0120284035801888,0.0054300581105053,-0.0072786984965205,0.0040475656278431,0.0049971458502114));
res += mul(Get(s2,-dx,-dy), float4x3(-0.0009561522165313,0.0040573137812316,-0.0023737230803818,-0.0016447658417746,-0.0049781855195761,-0.0094112977385521,0.0112602673470974,0.0031612783204764,-0.0000492699291499,-0.0041502369567752,-0.0003787795139942,0.0070222285576165));
res += mul(Get(s0,-dx,0), float4x3(0.0058461595326662,-0.0041162469424307,-0.0114967301487923,0.0060907509177923,0.0082805166020989,0.0092784557491541,-0.0375796444714069,-0.0135650448501110,-0.0044112298637629,0.0192429479211569,0.0439325869083405,0.0242675226181746));
res += mul(Get(s1,-dx,0), float4x3(-0.0036773204337806,-0.0132010132074356,0.0021881700959057,0.0344366505742073,0.0168844331055880,0.0162529852241278,0.0250825081020594,0.0475454404950142,0.0186254661530256,-0.0716399699449539,-0.0652244538068771,0.0067196134477854));
res += mul(Get(s2,-dx,0), float4x3(0.0010288308840245,-0.0247671920806170,0.0101369796320796,0.0296553075313568,0.0199380349367857,-0.0001957972563105,-0.0000267536488536,0.0060762367211282,0.0157781410962343,-0.0105771636590362,-0.0101134805008769,-0.0062516545876861));
res += mul(Get(s0,-dx,dy), float4x3(0.0000047538542276,0.0030296491459012,-0.0021437529940158,0.0100148934870958,0.0019874251447618,0.0115757752209902,-0.0054551661014557,-0.0083771143108606,-0.0111775631085038,0.0032630502246320,0.0160038787871599,-0.0083521688356996));
res += mul(Get(s1,-dx,dy), float4x3(0.0030165249481797,0.0054887933656573,0.0054227141663432,-0.0040957960300148,-0.0063791987486184,0.0104355625808239,-0.0008975689997897,0.0028949265833944,0.0142382150515914,-0.0200069621205330,-0.0164598561823368,-0.0408433862030506));
res += mul(Get(s2,-dx,dy), float4x3(-0.0005298627074808,0.0029076472856104,-0.0162499658763409,0.0155838411301374,0.0071216383948922,0.0232274197041988,-0.0001413290010532,0.0023099847603589,0.0011089624604210,-0.0007891613058746,-0.0028677049558610,-0.0041493824683130));
res += mul(Get(s0,0,-dy), float4x3(0.0485957674682140,-0.0243185441941023,-0.0093164211139083,0.0505394972860813,-0.0545499101281166,-0.0350127927958965,-0.0058480850420892,0.0170740541070700,0.0086265560239553,0.0776350200176239,0.0445737726986408,0.0042822305113077));
res += mul(Get(s1,0,-dy), float4x3(-0.0100826434791088,-0.0049576475284994,-0.0048026144504547,-0.0367771871387959,-0.0067699179053307,0.0023632703814656,0.0553375110030174,0.0262532476335764,-0.0084752542898059,-0.2074288278818130,0.0790072754025459,0.0702233910560608));
res += mul(Get(s2,0,-dy), float4x3(0.0277437958866358,-0.0039397999644279,-0.0037328980397433,0.0239996835589409,0.0271846894174814,-0.0292181614786386,-0.0496800057590008,0.0012409321498126,0.0158214271068573,-0.0002760530041996,0.0030686878599226,-0.0029225288890302));
res += mul(Get(s0,0,0), float4x3(-0.0178457312285900,-0.0568048097193241,0.0592356249690056,0.1329172551631927,0.3928606808185577,0.3774460256099701,0.2190554141998291,0.2528062164783478,-0.0171904172748327,0.5178347229957581,0.3988826274871826,0.2150541096925735));
res += mul(Get(s1,0,0), float4x3(-0.0583094023168087,0.0035347959492356,0.0596821010112762,-0.2265198230743408,-0.1458306014537811,0.0602662973105907,0.0843487307429314,0.0000114763633974,-0.1566328108310699,0.2258961945772171,0.0964776277542114,-0.0872622951865196));
res += mul(Get(s2,0,0), float4x3(0.3755449354648590,0.4904680550098419,0.6745408773422241,-0.8556553721427917,-0.8363859653472900,-0.5374530553817749,-0.0095233349129558,-0.0655521303415298,-0.0902237519621849,0.0625335872173309,0.0424452759325504,-0.0076503879390657));
res += mul(Get(s0,0,dy), float4x3(-0.0033754000905901,-0.0001498175988672,0.0123354317620397,0.0281331948935986,0.0281767006963491,-0.0319728776812553,-0.0129016414284706,-0.0232020691037178,0.0314250588417053,-0.0015901006991044,-0.0305784586817026,0.0014715058496222));
res += mul(Get(s1,0,dy), float4x3(0.0071350764483213,-0.0021734533365816,-0.0432908087968826,0.0291921049356461,0.0434104315936565,-0.0472718402743340,-0.0096730981022120,-0.0252834539860487,-0.0021798741072416,-0.0204491727054119,-0.0270305797457695,0.0432722344994545));
res += mul(Get(s2,0,dy), float4x3(0.0409536287188530,0.0407948903739452,0.0052880593575537,0.0586016550660133,0.0694566369056702,-0.1065145879983902,0.0068279234692454,0.0039737774059176,-0.0001466557296226,-0.0110315913334489,-0.0107565550133586,0.0204830914735794));
res += mul(Get(s0,dx,-dy), float4x3(-0.0038536698557436,-0.0015853882068768,-0.0014405316906050,-0.0056393807753921,-0.0027243576478213,-0.0068361810408533,-0.0335079431533813,-0.0009455739636905,0.0145979691296816,-0.0194500200450420,0.0125990118831396,0.0052136736921966));
res += mul(Get(s1,dx,-dy), float4x3(0.0138102928176522,0.0022952326107770,-0.0021842324640602,-0.0021248033735901,-0.0031215939670801,-0.0029127043671906,-0.0214905906468630,0.0167567282915115,0.0317267961800098,-0.0152174513787031,-0.0175057649612427,-0.0021116032730788));
res += mul(Get(s2,dx,-dy), float4x3(-0.0390278957784176,-0.0041975271888077,-0.0120003521442413,0.0385762825608253,-0.0168904550373554,-0.0088401800021529,-0.0364037714898586,-0.0046994336880744,0.0101010007783771,0.0360400192439556,-0.0010975847253576,-0.0118519440293312));
res += mul(Get(s0,dx,0), float4x3(0.0051280870102346,0.0006811404018663,0.0000195636457647,-0.0258191861212254,-0.0209148265421391,0.0086784129962325,-0.0050425836816430,-0.0281224884092808,-0.0604805871844292,0.0170354377478361,0.0199443958699703,-0.1231700256466866));
res += mul(Get(s1,dx,0), float4x3(0.0112808393314481,-0.0620612911880016,0.0044597219675779,0.0053141973912716,0.0641399174928665,0.0806136950850487,0.0267171524465084,0.0266650822013617,-0.0590259023010731,-0.0134959788993001,-0.0328860469162464,0.0942891389131546));
res += mul(Get(s2,dx,0), float4x3(0.0062206555157900,-0.0678512156009674,-0.0235100798308849,-0.1558308452367783,-0.1262016147375107,-0.2362542301416397,-0.0155910206958652,-0.0470778718590736,-0.0554462932050228,0.0162686835974455,0.0593044385313988,0.0723353326320648));
res += mul(Get(s0,dx,dy), float4x3(0.0035603789146990,-0.0026104520075023,-0.0033191607799381,-0.0063484772108495,0.0183613374829292,0.0110627226531506,-0.0136247538030148,-0.0019395928829908,0.0044600465334952,-0.0014228149084374,0.0110733332112432,0.0185438245534897));
res += mul(Get(s1,dx,dy), float4x3(-0.0169025976210833,-0.0005845545674674,0.0441518723964691,0.0104459160938859,-0.0009299050434493,-0.0203964319080114,0.0005199374281801,-0.0043127080425620,-0.0111219566315413,-0.0193508975207806,-0.0182549506425858,0.0071755670942366));
res += mul(Get(s2,dx,dy), float4x3(-0.0171592589467764,0.0066454247571528,0.0492234416306019,-0.0070945797488093,0.0477785505354404,0.1438334286212921,-0.0018695455510169,0.0039863684214652,0.0030065986793488,-0.0026555415242910,-0.0007469585398212,0.0037958405446261));
return float4(res, 0);
}