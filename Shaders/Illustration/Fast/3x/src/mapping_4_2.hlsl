sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(-0.1513345092535019,-0.1396715342998505,-0.1094129234552383,-0.1091290861368179);
res += mul(Get(s0,-dx,-dy), float4x4(-0.0558471977710724,-0.0652172788977623,-0.0283131096512079,0.0744184926152229,-0.0385163612663746,-0.0461435876786709,0.0179775431752205,0.0460341721773148,-0.0705115199089050,-0.0300822798162699,-0.1562331020832062,-0.0929664596915245,-0.0636087059974670,-0.0063384501263499,0.2761126756668091,0.0004855459264945));
res += mul(Get(s1,-dx,-dy), float4x4(0.0471004210412502,0.0509934313595295,-0.0784665495157242,-0.0477794706821442,-0.0535387396812439,0.0181456953287125,0.0264583490788937,0.0601859278976917,-0.0296789780259132,0.0968532487750053,0.0775211080908775,-0.1919578313827515,0.0359606109559536,0.0089208055287600,-0.0602698624134064,0.0602205507457256));
res += mul(Get(s2,-dx,-dy), float4x4(0.1228756755590439,0.0051087723113596,0.0014590639621019,-0.4188691973686218,0.0831058993935585,0.0938884392380714,0.0648597478866577,0.0082919271662831,-0.0091756777837873,-0.1010245010256767,-0.1966570615768433,0.1114787459373474,-0.0827205777168274,-0.0258965268731117,-0.1039293333888054,0.0657491907477379));
res += mul(Get(s0,-dx,0), float4x4(0.1407127231359482,-0.1948601454496384,-0.1710891574621201,0.0601930133998394,-0.0379376336932182,-0.0338215120136738,-0.0480931103229523,0.0249767620116472,0.0854517817497253,-0.0134745910763741,-0.1770625859498978,0.4456233084201813,-0.0927955135703087,0.1399300694465637,-0.4444164037704468,-0.0792207717895508));
res += mul(Get(s1,-dx,0), float4x4(-0.0081458771601319,0.0691282749176025,-0.0545057542622089,-0.0461587496101856,-0.3354899287223816,-0.1991312056779861,0.0554640330374241,-0.0424676351249218,0.2814647257328033,-0.0649700388312340,0.0580786019563675,0.2255812138319016,-0.0517288669943810,0.0468024574220181,-0.0716300830245018,-0.0598229095339775));
res += mul(Get(s2,-dx,0), float4x4(0.0772583484649658,-0.1784624308347702,0.1206020116806030,0.0836349874734879,0.0491436198353767,0.1260785013437271,0.3490298986434937,-0.0367836281657219,-0.3348210453987122,-0.1701070070266724,-0.4099230766296387,-0.0304165482521057,-0.2059965431690216,0.0526613667607307,0.0272446721792221,0.2925124466419220));
res += mul(Get(s0,-dx,dy), float4x4(-0.0070232753641903,-0.0374154001474380,-0.0409951694309711,0.0280110444873571,-0.0079394057393074,-0.0051608467474580,-0.0457244887948036,-0.0141856130212545,-0.0955007076263428,0.0487972758710384,-0.2024591416120529,0.0084705930203199,-0.0740679427981377,0.0546620935201645,-0.0030680934432894,-0.0517553575336933));
res += mul(Get(s1,-dx,dy), float4x4(0.0423340275883675,0.0224725604057312,-0.0171203613281250,-0.0549307763576508,0.1256329119205475,-0.1272596120834351,0.2288539260625839,-0.0269584450870752,-0.1630853712558746,0.0057628094218671,0.0178637057542801,0.0309662017971277,0.0205537602305412,-0.0368805304169655,-0.0764178484678268,-0.1068373546004295));
res += mul(Get(s2,-dx,dy), float4x4(-0.0335858948528767,0.0070892237126827,0.0296514630317688,-0.0535861104726791,0.0121671399101615,-0.0829426050186157,0.0873362421989441,-0.0926913842558861,0.1851575076580048,-0.0518857613205910,-0.1584074497222900,-0.1538377851247787,0.0238482989370823,0.1418626457452774,-0.0995668247342110,0.0002417421783321));
res += mul(Get(s0,0,-dy), float4x4(0.2146840095520020,-0.0090532852336764,0.2386848926544189,0.6274642944335938,0.1336590647697449,0.0763833522796631,-0.0764733776450157,0.1304066777229309,-0.0767456591129303,0.0536613427102566,-0.0988793745636940,-0.2644290328025818,0.0041562914848328,-0.0373003035783768,-0.0768450871109962,-0.2527158558368683));
res += mul(Get(s1,0,-dy), float4x4(0.0397838316857815,-0.0061413059011102,0.0084945652633905,0.1720355898141861,-0.1350581049919128,-0.0047557125799358,0.0420236028730869,0.0862967520952225,-0.0799092277884483,-0.0963608399033546,-0.2299762517213821,0.1524292081594467,-0.0244714431464672,-0.0431541316211224,-0.1158576682209969,-0.1263278275728226));
res += mul(Get(s2,0,-dy), float4x4(0.0039238473400474,0.0602421686053276,-0.0736888498067856,-0.4894886016845703,0.2323496192693710,0.0236594378948212,-0.0869531333446503,0.2912447750568390,0.1360804140567780,0.0732856392860413,-0.0698001980781555,0.0158770885318518,-0.2352823764085770,0.0150192566215992,0.1651623398065567,-0.3104234635829926));
res += mul(Get(s0,0,0), float4x4(-0.5852517485618591,0.1866863816976547,0.6062954664230347,-0.1507358849048615,-0.0243871174752712,0.0786494091153145,-0.0633804872632027,-0.0677815303206444,-0.1291012167930603,0.0846680477261543,-0.2444086223840714,0.4654195606708527,-0.3318430185317993,0.0175268482416868,-0.2306395471096039,-0.0317843183875084));
res += mul(Get(s1,0,0), float4x4(0.2723196744918823,0.0381560437381268,0.1313233375549316,-0.0965170860290527,0.2708813250064850,0.2247662842273712,-0.2214221060276031,-0.2484729290008545,-0.1386078447103500,-0.2783473432064056,-0.1804616600275040,-0.0194169431924820,-0.3954525589942932,0.0460785329341888,-0.2176178097724915,-0.2113452404737473));
res += mul(Get(s2,0,0), float4x4(0.2736930251121521,0.0925236567854881,-0.2715937793254852,0.2306663095951080,-0.1703460365533829,0.2725311815738678,0.0094210421666503,0.0836217850446701,-0.4337185919284821,0.0084635531529784,-0.0937168374657631,-0.1625906378030777,-0.0209823027253151,0.0601915866136551,0.3290756344795227,0.6302703022956848));
res += mul(Get(s0,0,dy), float4x4(0.2653297185897827,0.0734729617834091,0.1892314106225967,-0.0206260140985250,0.0369166061282158,0.0826120525598526,0.0496006421744823,0.2490153312683105,0.1161237582564354,0.0431139990687370,0.0007982244715095,0.3419442772865295,-0.2129738777875900,-0.1582114249467850,-0.1129888966679573,-0.2814098298549652));
res += mul(Get(s1,0,dy), float4x4(-0.1085838824510574,0.0012391960481182,-0.0139327961951494,0.0828789994120598,-0.2320461273193359,0.0642187297344208,-0.2372521013021469,0.1598039418458939,0.1050527393817902,-0.0463338159024715,-0.2126931399106979,-0.2264537066221237,0.0650857761502266,0.0412131994962692,0.0026898405048996,0.0965653583407402));
res += mul(Get(s2,0,dy), float4x4(0.1411307603120804,0.1190023571252823,-0.2071622461080551,-0.3106719255447388,0.1882440000772476,0.0759650021791458,-0.0137763265520334,-0.0943661257624626,-0.2256501615047455,0.0154682947322726,-0.1015364602208138,-0.0009582368656993,0.1221205145120621,-0.0527270734310150,0.1409471929073334,-0.0822731629014015));
res += mul(Get(s0,dx,-dy), float4x4(-0.0352447330951691,0.0998389869928360,-0.2939419150352478,0.2517521977424622,-0.0617144815623760,0.0028726621530950,0.0410883352160454,0.0943851023912430,-0.0302400495857000,0.0209143161773682,0.1476232558488846,0.1359328180551529,-0.0573369897902012,-0.0848948583006859,0.0218610726296902,-0.1395503431558609));
res += mul(Get(s1,dx,-dy), float4x4(-0.0090629030019045,0.0111681623384356,-0.1069716885685921,0.0202754549682140,0.0454252697527409,-0.0212321318686008,0.0139348246157169,0.2059596478939056,0.1618465930223465,-0.0041227424517274,0.0230483729392290,0.1445530354976654,0.0408798381686211,0.0327109582722187,0.1361544281244278,-0.0828050300478935));
res += mul(Get(s2,dx,-dy), float4x4(-0.0051049105823040,-0.0795088410377502,-0.1030639335513115,-0.0995393395423889,-0.0404494628310204,0.0162098463624716,0.0962097048759460,0.2050729990005493,-0.1282196640968323,0.0598009265959263,-0.0151522662490606,0.1103222593665123,-0.0444849841296673,-0.0101166553795338,-0.1389035135507584,0.0080663701519370));
res += mul(Get(s0,dx,0), float4x4(0.1822923570871353,-0.1101665869355202,-0.4509998559951782,-0.0638210177421570,0.0265808738768101,-0.0134899271652102,0.0976779535412788,-0.0819508954882622,0.2149769514799118,0.0803047940135002,0.1988622844219208,0.0617625154554844,-0.0507609508931637,-0.0329962186515331,0.2712774872779846,-0.0197173487395048));
res += mul(Get(s1,dx,0), float4x4(0.1360802501440048,-0.1097746640443802,-0.1924577951431274,-0.1072882488369942,-0.2674812972545624,-0.0435226149857044,0.6014072895050049,-0.1747298836708069,-0.6640552878379822,0.1649435907602310,-0.2851570546627045,-0.1593023687601089,0.3108415305614471,-0.0263571944087744,0.3842033445835114,-0.0811970904469490));
res += mul(Get(s2,dx,0), float4x4(-0.0798376947641373,0.0866973325610161,0.2780377268791199,0.2309491932392120,0.1355841904878616,-0.2722498178482056,0.2154458761215210,-0.3243646323680878,-0.2307273298501968,0.0689694881439209,-0.1811845898628235,-0.3120613992214203,0.0410018414258957,-0.1503067910671234,-0.3896367847919464,0.1638986468315125));
res += mul(Get(s0,dx,dy), float4x4(-0.1224444061517715,-0.0905893594026566,-0.2105693221092224,0.0653444156050682,0.0826006755232811,0.0205326285213232,-0.1156440675258636,-0.0292856469750404,0.0254257190972567,0.0041364501230419,0.0016571481246501,0.0374055281281471,0.0782074481248856,0.0185542050749063,0.3897358477115631,-0.0891102775931358));
res += mul(Get(s1,dx,dy), float4x4(0.0295599829405546,0.0011006605345756,-0.1255639046430588,0.0518462769687176,0.1397753506898880,0.0054839998483658,0.0651081055402756,-0.0745220705866814,-0.0365334004163742,0.1234636455774307,-0.1131471619009972,-0.0017442541429773,-0.0232555456459522,0.0433043576776981,0.1640698611736298,0.0796091109514236));
res += mul(Get(s2,dx,dy), float4x4(0.1878358572721481,-0.0636691078543663,0.1240345165133476,-0.1272542029619217,-0.0686138868331909,0.0217434056103230,0.0827830955386162,0.0357154272496700,-0.2410875707864761,0.0146297076717019,0.0824460908770561,0.0951512902975082,-0.1300291270017624,-0.0932295024394989,0.0044703641906381,0.1234776824712753));
res = max(float4(0, 0, 0, 0), res) + float4(0.2949058711528778,0.3460478484630585,-0.0000656038391753,0.0619271136820316) * min(float4(0, 0, 0, 0), res);
return res;
}
