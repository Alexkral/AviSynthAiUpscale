sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(-0.0955357328057289,-0.0258411597460508,0.0966554731130600,0.2368125468492508);
res += mul(Get(s0,-dx,-dy), float4x4(-0.2028198838233948,0.0851524546742439,-0.1662523597478867,-0.3553363084793091,0.2406940758228302,0.0514494702219963,0.2525247335433960,0.1492144167423248,0.1328713893890381,-0.2619617581367493,0.0481709055602551,-0.0202840119600296,-0.0379601120948792,-0.1575767248868942,0.0609841048717499,-0.0322213359177113));
res += mul(Get(s1,-dx,-dy), float4x4(-0.0267087910324335,-0.0618045590817928,0.0554690733551979,-0.0711478888988495,-0.0761809125542641,0.0677098855376244,-0.1209724768996239,-0.0335775129497051,0.1070695891976357,-0.0328431278467178,-0.2342191934585571,-0.1884160786867142,-0.1847966164350510,-0.0147289913147688,0.1491440981626511,0.1288232207298279));
res += mul(Get(s2,-dx,-dy), float4x4(0.1873180419206619,0.0484932288527489,0.0821223482489586,0.0545661225914955,-0.0256790034472942,-0.0174923427402973,-0.1121255233883858,0.1790596693754196,0.1515069752931595,-0.0769470855593681,0.0512559898197651,-1.1657837629318237,0.1558303833007812,0.0003416391555220,0.1397559344768524,-0.1068420186638832));
res += mul(Get(s0,-dx,0), float4x4(0.0081777162849903,0.0029055755585432,-0.0016720879357308,-0.3388376832008362,0.0788271874189377,-0.1131819859147072,0.0065963808447123,-0.1815027445554733,-0.2008166313171387,-0.1029630154371262,-0.3733205795288086,-0.2776026129722595,-0.1794141530990601,-0.1648516207933426,0.2834383249282837,-0.0734159499406815));
res += mul(Get(s1,-dx,0), float4x4(0.0475285165011883,-0.1420336514711380,-0.1613031476736069,0.0772966220974922,-0.0569535605609417,0.1248235255479813,-0.0782410353422165,0.1748371422290802,-0.0850991308689117,0.0436459407210350,-0.2988902926445007,0.0566233731806278,-0.2526550889015198,0.0030227918177843,0.1142739132046700,0.2028913348913193));
res += mul(Get(s2,-dx,0), float4x4(-0.1143186911940575,0.1911662518978119,-0.1104775816202164,-0.1185846626758575,0.0760472938418388,0.0129213491454720,-0.2047301977872849,-0.1837722063064575,0.0976078510284424,-0.0846978574991226,-0.4201301336288452,-0.3989318609237671,0.1431978940963745,0.0183358173817396,-0.2300605028867722,-0.2175983488559723));
res += mul(Get(s0,-dx,dy), float4x4(-0.2325122654438019,-0.0234424229711294,0.0000376460302505,0.1940486282110214,0.4141066968441010,0.0188405998051167,-0.2732155323028564,0.0444846786558628,-0.0689386278390884,0.0520358830690384,0.1507291644811630,0.1465003341436386,-0.0385243892669678,-0.0561677254736423,0.1791546046733856,-0.0135158598423004));
res += mul(Get(s1,-dx,dy), float4x4(0.0610538236796856,-0.0493252091109753,0.0918889716267586,-0.1121574193239212,-0.0074429907836020,0.0758492946624756,0.1135065034031868,0.0976619943976402,0.1315299570560455,-0.1169272288680077,0.2443845272064209,0.0126380966976285,-0.1905871778726578,0.0403306148946285,0.0979593917727470,0.1893773227930069));
res += mul(Get(s2,-dx,dy), float4x4(-0.1347592175006866,0.0709529817104340,0.4303767383098602,0.1869434863328934,-0.0845035389065742,-0.0515669099986553,-0.0084255505353212,-0.0376458801329136,-0.0397139489650726,-0.0405324399471283,-0.4816999733448029,0.2014150172472000,0.0911380499601364,0.0382141098380089,-0.3905427753925323,0.4522441923618317));
res += mul(Get(s0,0,-dy), float4x4(0.3347471952438354,-0.3372570276260376,0.3918013572692871,0.0342830754816532,-0.2634969651699066,0.2998781800270081,0.0724459812045097,-0.7625877261161804,0.2251208275556564,0.1032259911298752,0.0021149390377104,0.4629441499710083,0.0315423533320427,0.2776650190353394,-0.1151394248008728,0.1468831598758698));
res += mul(Get(s1,0,-dy), float4x4(0.1209222674369812,-0.0122401211410761,0.0512302890419960,0.1014691814780235,-0.1999583542346954,-0.0000580961896048,-0.0235723610967398,0.1153867840766907,-0.0084118088707328,0.0684778317809105,-0.2963669896125793,-0.3730411827564240,-0.1467896848917007,-0.1587282419204712,-0.0817718654870987,0.0038419978227466));
res += mul(Get(s2,0,-dy), float4x4(0.4194074571132660,0.0358218736946583,0.0990228131413460,0.1527443230152130,0.0655745491385460,-0.0540097616612911,-0.1088795587420464,-0.1944505125284195,0.0655999034643173,0.1121355518698692,0.0615177154541016,-0.9745461940765381,0.1696890145540237,0.0137278148904443,0.1460749506950378,-0.0387106537818909));
res += mul(Get(s0,0,0), float4x4(0.8387154340744019,-0.1295086145401001,-0.9606728553771973,-0.6390086412429810,-0.3589466214179993,0.5470784902572632,-0.2238563448190689,0.1852266639471054,-0.4300885200500488,0.1635557115077972,1.6507096290588379,0.0771655142307281,0.1886105239391327,1.3835808038711548,-0.5227816104888916,0.0890635102987289));
res += mul(Get(s1,0,0), float4x4(0.5842569470405579,0.1757005900144577,-0.0056299031712115,-0.0628397390246391,-0.4457968771457672,0.1550596952438354,0.1429022699594498,-0.0492474250495434,-0.0108092650771141,-0.1632157713174820,0.2062011212110519,0.5692815184593201,-0.2530733942985535,-0.0754680037498474,-0.5079230666160583,0.8855788111686707));
res += mul(Get(s2,0,0), float4x4(-0.2825369536876678,0.0105094155296683,0.1076398640871048,0.4659941494464874,0.5290582180023193,-0.3308583498001099,-0.2741181552410126,-1.6378179788589478,-0.0663529261946678,0.1421372890472412,-0.5350072979927063,-0.8276311755180359,0.3037932515144348,-0.0046071163378656,0.0710716769099236,-1.1317590475082397));
res += mul(Get(s0,0,dy), float4x4(0.3192864954471588,0.1648676991462708,-0.6202051639556885,-0.1264205425977707,-0.4147258400917053,0.3309612870216370,1.0149085521697998,0.4466902315616608,0.1966751962900162,-0.0843038409948349,-0.5755344033241272,0.0017802686197683,0.1288191527128220,-0.1024310961365700,-0.0336035378277302,-0.0732155442237854));
res += mul(Get(s1,0,dy), float4x4(-0.0643226802349091,0.0281388480216265,0.1117630600929260,0.0943598970770836,0.2306144982576370,0.0844410955905914,-0.2421392947435379,-0.1093364506959915,-0.2475971579551697,0.1519580483436584,-0.1235171556472778,-0.7978582978248596,-0.2017124146223068,0.0358421988785267,0.0473869368433952,0.1954043060541153));
res += mul(Get(s2,0,dy), float4x4(0.4607846438884735,-0.0946932956576347,0.0384976193308830,-0.3118253946304321,0.2979537844657898,-0.2358756810426712,-0.1835478395223618,-0.4828890562057495,-0.0038704187609255,0.0262604858726263,-0.3860294520854950,-0.0466563999652863,0.0367988646030426,-0.1038846448063850,-0.6376048326492310,-0.2608500123023987));
res += mul(Get(s0,dx,-dy), float4x4(-0.0793719366192818,0.1213055253028870,-0.0154480515047908,0.1590419262647629,-0.0321337133646011,0.0550942271947861,-0.0795959904789925,0.8058797717094421,-0.1826032549142838,0.2107012420892715,0.0017691925168037,0.1188845932483673,0.1981810331344604,-0.0939957574009895,0.0316461101174355,-0.0694903880357742));
res += mul(Get(s1,dx,-dy), float4x4(-0.0293749682605267,0.0162700340151787,0.0446654036641121,0.0690284669399261,-0.0180303230881691,-0.0903780236840248,-0.1893323510885239,-0.1332613527774811,0.0898359641432762,-0.0667476877570152,-0.0534459054470062,0.1907272487878799,-0.1517924070358276,0.0176237840205431,0.0824760198593140,0.9749466180801392));
res += mul(Get(s2,dx,-dy), float4x4(-0.1855715513229370,0.0437055863440037,-0.1981589645147324,-0.0305592808872461,0.1072081401944160,0.0055005531758070,0.0249982718378305,-0.5508499741554260,-0.0083902189508080,0.1869637072086334,0.1228382140398026,0.1100862100720406,0.0251945033669472,0.0698858201503754,0.1570475697517395,0.3390085995197296));
res += mul(Get(s0,dx,0), float4x4(-0.3061749637126923,0.3396169841289520,-0.0473586730659008,0.1072699874639511,0.1429565250873566,-0.5561544299125671,0.2252984195947647,0.5290778875350952,-0.1171642169356346,0.6892480254173279,-0.1817477047443390,0.0977330654859543,-0.0174864567816257,-0.3323037326335907,0.0734713673591614,0.1963280588388443));
res += mul(Get(s1,dx,0), float4x4(-0.2166685909032822,0.0901641920208931,0.0885564908385277,-0.0264158081263304,0.1149930208921432,-0.2030414640903473,-0.0383775532245636,-0.1084139198064804,0.2725881040096283,-0.0795366093516350,-0.0340298227965832,-0.5249163508415222,-0.3290334045886993,-0.0860368087887764,-0.0241264756768942,0.1657241731882095));
res += mul(Get(s2,dx,0), float4x4(0.2878110408782959,0.1588846296072006,-0.1432873308658600,0.1375854462385178,0.2651794254779816,-0.3615404367446899,-0.1969651281833649,-1.3762544393539429,0.0322666801512241,0.2939552962779999,-0.0738989189267159,0.5400750041007996,0.0744242593646049,0.1612890213727951,0.2140534967184067,0.0349313654005527));
res += mul(Get(s0,dx,dy), float4x4(-0.1439523994922638,0.0738684982061386,-0.0219882298260927,0.0320442989468575,-0.0346015021204948,-0.0953557640314102,0.2594382762908936,0.8815696239471436,-0.1553384512662888,0.0150157725438476,-0.2065961062908173,-0.0623694472014904,0.1100304126739502,0.0485622175037861,0.0171180721372366,0.0011167700868100));
res += mul(Get(s1,dx,dy), float4x4(-0.1558797508478165,0.0127040743827820,-0.0438077040016651,0.0674183219671249,0.1277662366628647,-0.0339547619223595,0.0539448522031307,-0.1953729540109634,0.1385589092969894,0.1337469369173050,0.1365075409412384,-0.3665261268615723,-0.1855414211750031,-0.0000885638146428,0.0715080574154854,0.0394572392106056));
res += mul(Get(s2,dx,dy), float4x4(-0.1597205698490143,-0.1562933921813965,0.1672127991914749,0.1222982183098793,0.2392292171716690,-0.1559876650571823,-0.0510390065610409,-0.6169280409812927,0.0505130551755428,0.0839372873306274,0.0722738504409790,0.5847347378730774,0.0386881828308105,-0.0160427298396826,0.0186979491263628,-0.4197855889797211));
res = max(float4(0, 0, 0, 0), res) + float4(0.4728251695632935,-0.3982911407947540,0.3783513307571411,-0.0178119596093893) * min(float4(0, 0, 0, 0), res);
return res;
}
