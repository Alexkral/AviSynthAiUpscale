sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0.0826662406325340,-0.0197236835956573,-0.0147986831143498,-0.0384997874498367);
res += mul(Get(s0,-dx,-dy), float4x4(0.1538452208042145,-0.1369214504957199,-0.1852381676435471,0.0524668805301189,-0.1302985101938248,-0.0462394542992115,-0.1439104229211807,0.1555910259485245,0.0487583503127098,0.0038429223932326,-0.1278355419635773,0.0167919546365738,0.1396023333072662,0.2162436991930008,-0.4943215250968933,-0.0565132200717926));
res += mul(Get(s1,-dx,-dy), float4x4(-0.0403910838067532,0.0147892981767654,0.0598620139062405,-0.0617113448679447,0.0006500364979729,0.0449540801346302,-0.1019658818840981,0.0302277877926826,-0.0441108494997025,0.1271559447050095,0.0684927850961685,0.0468183346092701,-0.0027721892111003,-0.0556482188403606,0.1470730006694794,0.0803511142730713));
res += mul(Get(s2,-dx,-dy), float4x4(0.0958011001348495,0.0017670040251687,-0.2695851325988770,0.2408283799886703,0.0831302255392075,-0.0123005965724587,-0.0946807637810707,-0.0278800912201405,-0.1912169903516769,0.1797618418931961,0.1295262128114700,0.0550434030592442,0.0156773999333382,0.0308443773537874,-0.0808648690581322,0.2319364696741104));
res += mul(Get(s0,-dx,0), float4x4(0.2171115428209305,-0.1241100654006004,0.1339413225650787,-0.0588346607983112,-0.3302360177040100,-0.0307675544172525,0.0135890496894717,0.1795607507228851,0.0191168710589409,0.1099625527858734,-0.1654603630304337,0.1166281253099442,0.1531838625669479,0.0469274446368217,-0.0573293119668961,0.0370298661291599));
res += mul(Get(s1,-dx,0), float4x4(-0.0075573227368295,0.0466574318706989,-0.0489523634314537,-0.0017286540241912,0.1419358402490616,-0.0327178835868835,0.1749607771635056,0.0667380243539810,-0.0535576678812504,0.1976277977228165,0.2368659526109695,0.4749947488307953,-0.1544136703014374,0.0779883936047554,-0.1543166637420654,-0.0272844843566418));
res += mul(Get(s2,-dx,0), float4x4(-0.1483931988477707,0.2376900762319565,0.0464699715375900,0.1344450414180756,-0.0674117282032967,-0.1787784695625305,-0.5175724625587463,-0.1585033833980560,-0.1787109225988388,0.1104442030191422,-0.1092223599553108,0.0405936352908611,0.4869185090065002,0.0250262338668108,0.3452922105789185,0.2018168270587921));
res += mul(Get(s0,-dx,dy), float4x4(-0.1881157904863358,0.0668999478220940,-0.0558822415769100,-0.0045919157564640,-0.1552329510450363,-0.0100624272599816,-0.0663505047559738,0.0253404881805182,-0.0045228968374431,-0.1196848601102829,0.0320298373699188,-0.0803601890802383,0.0137221170589328,-0.0402659513056278,-0.0517250448465347,0.0627573281526566));
res += mul(Get(s1,-dx,dy), float4x4(0.0602696426212788,-0.0349938534200191,-0.0168806556612253,-0.0086741540580988,-0.0241943467408419,0.0572155751287937,0.0252400040626526,0.0516361929476261,0.1865279227495193,-0.0475506670773029,0.2217340469360352,0.2904053628444672,-0.0882346108555794,0.0799580812454224,-0.0698088258504868,-0.1115527376532555));
res += mul(Get(s2,-dx,dy), float4x4(0.0979791060090065,-0.0949107855558395,-0.0608337596058846,-0.0296994354575872,-0.0519217811524868,-0.0094571104273200,0.1114266067743301,-0.0578098967671394,0.1089500039815903,-0.1495383232831955,0.0694990605115891,-0.0396446213126183,-0.0109156053513288,0.1422720998525620,-0.0197423230856657,0.0723909959197044));
res += mul(Get(s0,0,-dy), float4x4(0.0386211909353733,0.0711808055639267,0.1235084906220436,-0.5687478184700012,-0.1747543811798096,-0.1026598215103149,-0.1564607024192810,0.4675868749618530,0.1199890896677971,-0.1371977776288986,0.5385660529136658,-0.0092448228970170,0.1144163385033607,0.1901483833789825,-0.2690442204475403,-0.1217331662774086));
res += mul(Get(s1,0,-dy), float4x4(0.0145136332139373,-0.0214492119848728,-0.0737582221627235,0.2141419053077698,0.1926917880773544,0.1002746894955635,-0.1550864875316620,0.0623011998832226,-0.1152630969882011,-0.1857606470584869,-0.0099157914519310,0.1999739855527878,-0.0869166105985641,0.1553783565759659,-0.3103489875793457,-0.1298703849315643));
res += mul(Get(s2,0,-dy), float4x4(0.1370170563459396,0.0732731893658638,0.2651334404945374,-0.3773120939731598,-0.2211246639490128,-0.0727008432149887,0.0588379167020321,-0.1877354979515076,-0.1711290478706360,0.1603644192218781,-0.2381988763809204,0.0864403545856476,0.0340870022773743,-0.0864339023828506,0.0019957865588367,-0.0139574538916349));
res += mul(Get(s0,0,0), float4x4(-0.0858985930681229,-0.4289932250976562,-0.1887949556112289,0.1581631451845169,-0.0933333784341812,0.0107699753716588,0.1913718134164810,0.4734859168529510,-1.0008821487426758,0.3716735541820526,-0.4842061102390289,-0.0763762518763542,0.1587573438882828,0.1152330636978149,-0.1465422660112381,0.0231864657253027));
res += mul(Get(s1,0,0), float4x4(-0.0211697779595852,0.0495301261544228,0.7826697826385498,0.2032594680786133,0.5444599390029907,-0.3803440034389496,-0.1267280131578445,0.1275686621665955,-0.4531715810298920,0.0196744054555893,0.1024831607937813,-0.0149569166824222,0.3885710835456848,-0.2492164671421051,0.2667016685009003,0.0762302279472351));
res += mul(Get(s2,0,0), float4x4(-0.5973177552223206,0.4556393325328827,-0.4034762978553772,0.4372279942035675,-0.0527348034083843,-0.1377304494380951,-0.9528360366821289,-0.1457212567329407,0.0290594883263111,0.4934285283088684,-0.6328698396682739,0.1868976950645447,-0.0659330487251282,-0.2472936511039734,0.4488333761692047,-0.3743495941162109));
res += mul(Get(s0,0,dy), float4x4(-0.3362936675548553,-0.0108395423740149,0.0550470054149628,-0.1726520508527756,0.0210184380412102,-0.2056099474430084,-0.0973546952009201,0.0838979631662369,0.1288825273513794,-0.3273486793041229,0.0388602912425995,0.0218781679868698,0.1790299117565155,-0.0007857771124691,0.0203932914882898,0.0900282263755798));
res += mul(Get(s1,0,dy), float4x4(0.1529400795698166,0.0164418630301952,-0.0497045107185841,-0.0331055968999863,-0.1671409010887146,0.2474081665277481,-0.1195278167724609,-0.1184013336896896,-0.1313070952892303,0.0601579509675503,0.1449390500783920,-0.0393367707729340,0.0722451657056808,-0.0241019893437624,-0.0745377615094185,-0.0535787083208561));
res += mul(Get(s2,0,dy), float4x4(0.0728568658232689,-0.2281706780195236,0.0564192421734333,0.1876503974199295,-0.0109676169231534,-0.2234067320823669,0.0720604211091995,0.0927595123648643,0.1207298785448074,-0.3746433556079865,0.2636372745037079,0.1857860684394836,-0.3443230688571930,0.2661378383636475,-0.0187150705605745,-0.2347250282764435));
res += mul(Get(s0,dx,-dy), float4x4(-0.0390243269503117,-0.0955993086099625,0.3914439976215363,0.0538556985557079,0.0065752030350268,-0.0661126002669334,0.0315853506326675,0.0976868271827698,-0.0813519433140755,-0.2631145119667053,0.4321945309638977,-0.0071619050577283,0.0259213019162416,0.1021810770034790,-0.2213004529476166,0.0279778875410557));
res += mul(Get(s1,dx,-dy), float4x4(0.0371933989226818,-0.0305230990052223,-0.0741467103362083,-0.0706720799207687,-0.1198595017194748,0.0705912634730339,0.1093500256538391,0.1176320090889931,0.0920784771442413,-0.0264384932816029,0.1780465543270111,-0.0939732417464256,-0.1749814748764038,0.2058783620595932,-0.3945773839950562,0.1285794377326965));
res += mul(Get(s2,dx,-dy), float4x4(0.0262862183153629,0.0422395244240761,0.1963664740324020,0.0380142517387867,0.0351481623947620,0.1549025475978851,-0.2566271126270294,-0.0400706045329571,0.1045141965150833,0.0152774536982179,0.0749981701374054,-0.0433911345899105,-0.0166212413460016,-0.0099474955350161,0.0773242264986038,-0.1722948253154755));
res += mul(Get(s0,dx,0), float4x4(-0.1657105535268784,0.1516363769769669,-0.2217558324337006,-0.0691680461168289,0.0308030489832163,-0.0885416269302368,0.0621334575116634,-0.0157329253852367,0.0033268111292273,0.1754948645830154,0.1696233153343201,-0.0216272827237844,0.1198893934488297,0.0517689436674118,-0.1224242001771927,-0.0955819636583328));
res += mul(Get(s1,dx,0), float4x4(0.0397386811673641,-0.0635759681463242,0.1647357344627380,-0.0322562083601952,-0.1251474618911743,-0.0469333529472351,-0.0255737882107496,0.2432459443807602,0.1463841646909714,-0.1218152120709419,0.0020055568311363,0.0324902534484863,0.0875158235430717,0.1242694109678268,0.0353641249239445,-0.1370266526937485));
res += mul(Get(s2,dx,0), float4x4(-0.0695390328764915,0.3303531408309937,-0.8264324069023132,-0.0758943781256676,0.1537922620773315,-0.2463711798191071,-0.6983314752578735,-0.1853087246417999,0.1626180410385132,0.0305901132524014,0.1403996348381042,-0.0514960139989853,-0.1617236286401749,0.0177310910075903,-0.3854871094226837,-0.2508404254913330));
res += mul(Get(s0,dx,dy), float4x4(-0.0440705455839634,0.0776672959327698,-0.0964896529912949,-0.0105740120634437,0.0094275055453181,-0.0100973453372717,-0.0367802157998085,-0.0467484258115292,0.1089221760630608,-0.2469385266304016,-0.0361529327929020,-0.1164720207452774,0.0836987271904945,-0.0302469972521067,-0.1820970773696899,-0.0237432867288589));
res += mul(Get(s1,dx,dy), float4x4(-0.0315891914069653,0.0279256533831358,-0.0373596251010895,-0.0103953713551164,-0.1041413322091103,0.0558110363781452,-0.0965157970786095,0.0573920197784901,-0.1489591151475906,0.1566085219383240,-0.0069582690484822,0.0336093455553055,0.1237346827983856,-0.2693529129028320,0.0155912069603801,0.0416331402957439));
res += mul(Get(s2,dx,dy), float4x4(0.0115550588816404,0.0038729743100703,0.2072144746780396,0.1746345907449722,0.0899565219879150,-0.1325362026691437,0.2202308624982834,-0.0063740327022970,0.0640936344861984,0.0182616561651230,0.1240642815828323,-0.1528823077678680,-0.0407652184367180,0.1350216418504715,-0.0698509141802788,-0.0364004112780094));
res = max(float4(0, 0, 0, 0), res) + float4(0.6021757721900940,2.2307116985321045,0.1519083231687546,-0.1025106534361839) * min(float4(0, 0, 0, 0), res);
return res;
}