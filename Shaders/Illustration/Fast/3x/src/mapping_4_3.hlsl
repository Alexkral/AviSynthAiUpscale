sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(-0.0808203443884850,-0.0481928288936615,-0.1360410749912262,-0.1974979788064957);
res += mul(Get(s0,-dx,-dy), float4x4(0.2347595244646072,-0.1575044989585876,0.0705785229802132,-0.0249321013689041,0.2155325412750244,-0.0271802525967360,-0.0079930908977985,0.0438498891890049,0.1327574551105499,0.0700967684388161,-0.0844249352812767,0.1343100666999817,-0.0394717194139957,0.0341914966702461,-0.0387829653918743,0.0454027913510799));
res += mul(Get(s1,-dx,-dy), float4x4(-0.0939426869153976,0.0158979352563620,0.0245563741773367,-0.0085432240739465,-0.0620235018432140,-0.1133840456604958,0.0438627637922764,0.1680413484573364,0.0784555077552795,0.1581580787897110,0.0093624088913202,-0.1214233040809631,-0.1116237118840218,0.0804959535598755,-0.0434976555407047,0.1075311303138733));
res += mul(Get(s2,-dx,-dy), float4x4(0.2236080467700958,-0.0897354111075401,0.2278425693511963,-0.1439925730228424,0.0918406546115875,0.1149957403540611,0.0870516449213028,-0.0901301279664040,0.1655300110578537,-0.0136063061654568,-0.0201589055359364,0.0118408538401127,-0.1646054238080978,-0.1801759153604507,0.0261145438998938,-0.0167385023087263));
res += mul(Get(s0,-dx,0), float4x4(-0.1163534522056580,-0.0549681223928928,0.1769494116306305,-0.2573314905166626,-0.0716265961527824,-0.0847341790795326,0.0178251713514328,0.0524077527225018,0.0312408022582531,-0.1006092876195908,0.1334119141101837,-0.0669589415192604,-0.3958348035812378,0.3477627038955688,-0.2925628721714020,-0.0479825735092163));
res += mul(Get(s1,-dx,0), float4x4(0.0507261976599693,-0.0506257154047489,0.1206947416067123,0.0596998818218708,0.0067432024516165,0.0302280150353909,-0.1201212555170059,-0.1880310028791428,0.4639473557472229,0.1063088029623032,0.1668792963027954,-0.2318787127733231,-0.1908846795558929,0.0399604439735413,-0.0414129793643951,0.3533863425254822));
res += mul(Get(s2,-dx,0), float4x4(-0.2637429833412170,-0.1252221465110779,0.0028906022198498,-0.5004168152809143,0.1934884935617447,0.1311997473239899,0.2449272125959396,0.1269296407699585,-0.3827798664569855,-0.4426767528057098,-0.1698647290468216,-0.0738620907068253,-0.0920474678277969,-0.1849317252635956,0.0582431294023991,0.0741394013166428));
res += mul(Get(s0,-dx,dy), float4x4(-0.1599750965833664,0.0019001344917342,-0.0690086036920547,-0.0629217103123665,-0.1238190233707428,-0.0544414706528187,0.0492739193141460,0.0679216980934143,-0.0997978672385216,-0.0814241394400597,-0.0217146091163158,0.2022069543600082,0.1500621736049652,0.0621375292539597,-0.1176826581358910,0.0452230684459209));
res += mul(Get(s1,-dx,dy), float4x4(-0.1486227810382843,-0.0283728037029505,0.0179030746221542,0.0050820899195969,0.0505758300423622,-0.2907671332359314,-0.0722585991024971,0.0386939384043217,-0.1171650663018227,0.1971413642168045,-0.1206293478608131,-0.0733001306653023,-0.0712478905916214,-0.1171063855290413,0.0768429711461067,0.0729646235704422));
res += mul(Get(s2,-dx,dy), float4x4(-0.0199097376316786,-0.0132618183270097,0.0027945195324719,-0.0504948981106281,-0.0270751398056746,-0.0694094300270081,0.0394534543156624,-0.0870587825775146,0.4022510647773743,-0.2043094485998154,0.1020229458808899,0.1024315357208252,0.1057107374072075,0.1273591518402100,-0.1638236045837402,-0.0277219451963902));
res += mul(Get(s0,0,-dy), float4x4(-0.2192790210247040,-0.0512286722660065,-0.0304055102169514,0.0686628371477127,-0.0365934036672115,0.0439782626926899,0.0104155139997602,-0.0295343138277531,0.3605449199676514,-0.2368562221527100,0.1439813077449799,-0.1698364168405533,0.2961523532867432,0.0878874063491821,0.0194619223475456,0.0769332945346832));
res += mul(Get(s1,0,-dy), float4x4(-0.1637229323387146,-0.0164442341774702,0.0197649318724871,0.0067434678785503,-0.0458720587193966,0.0192614998668432,-0.0349653139710426,-0.0686825141310692,-0.5512645244598389,0.1369320601224899,-0.2804730236530304,0.0326517634093761,0.1117478609085083,-0.0979641526937485,0.0369876436889172,-0.0280602127313614));
res += mul(Get(s2,0,-dy), float4x4(0.3245124816894531,0.0021557831205428,0.2846907675266266,0.0207741744816303,-0.1633013933897018,0.1518138200044632,-0.0093079451471567,0.1703644394874573,0.2947359979152679,-0.1061953827738762,0.0857749059796333,0.0766070708632469,0.0600658841431141,0.0307464357465506,0.0191895086318254,-0.0220295470207930));
res += mul(Get(s0,0,0), float4x4(0.2854199707508087,-0.4006458222866058,0.2046786248683929,0.5918433070182800,0.2814668416976929,-0.0341392531991005,0.0760429725050926,-0.1073727905750275,0.3486852645874023,-0.4120092988014221,0.3403540551662445,-0.1582586467266083,-0.7313845753669739,-0.0850871950387955,-0.2587344944477081,-0.0091005871072412));
res += mul(Get(s1,0,0), float4x4(0.1825783699750900,-0.0660804882645607,0.3401158750057220,0.0049163759686053,-0.0332120098173618,0.2271979302167892,-0.0909380018711090,-0.0537245683372021,0.0286366082727909,-0.4278792142868042,0.0632907077670097,0.1672200858592987,-0.5040403008460999,-0.5809603929519653,-0.0351400375366211,-0.2196943461894989));
res += mul(Get(s2,0,0), float4x4(-0.2204127758741379,0.2687337696552277,0.6394296884536743,0.0545041225850582,0.2366010546684265,-0.3184229731559753,0.7029843926429749,0.5100979208946228,-0.2295075803995132,0.0206244476139545,-0.2796158194541931,-0.1790819913148880,0.0920500457286835,0.1200149208307266,-0.0320605970919132,0.1459717154502869));
res += mul(Get(s0,0,dy), float4x4(0.2106777131557465,-0.0891033932566643,-0.0367901735007763,0.0127759417518973,-0.1325396448373795,-0.0140064237639308,-0.0746634826064110,-0.1566869020462036,-0.3762890398502350,-0.4718944430351257,-0.0840002894401550,-0.4881094694137573,0.0182044859975576,0.0740831866860390,0.0115737551823258,-0.0391173399984837));
res += mul(Get(s1,0,dy), float4x4(-0.3906863629817963,0.0417262688279152,0.0252584107220173,0.0697552114725113,-0.3087355494499207,0.3158517777919769,-0.0706216618418694,0.0210811123251915,0.3263233304023743,-0.1080524846911430,0.0588252209126949,0.0089259156957269,-0.0291933994740248,-0.1735568046569824,0.0529686398804188,-0.1461135447025299));
res += mul(Get(s2,0,dy), float4x4(0.2380076050758362,0.0822945460677147,-0.0809804648160934,-0.0841522514820099,-0.1656863242387772,0.0042683840729296,-0.1326950639486313,0.2757344245910645,0.1616360098123550,0.0227797944098711,0.0105611262843013,-0.0163139905780554,0.1670888066291809,0.0017242410685867,-0.1286212503910065,0.0015347801381722));
res += mul(Get(s0,dx,-dy), float4x4(0.1308213323354721,0.2381656169891357,-0.0184744484722614,0.0789876803755760,0.0108989700675011,-0.0074019855819643,-0.0100437467917800,0.0247107911854982,-0.0530908741056919,-0.0445338562130928,0.0116244647651911,-0.0051583000458777,0.0338938757777214,-0.0846925303339958,-0.0730176046490669,0.0038216128014028));
res += mul(Get(s1,dx,-dy), float4x4(-0.1065319404006004,-0.0703131258487701,-0.0105056976899505,-0.0368987880647182,-0.0342651605606079,0.0620724186301231,-0.0607560351490974,-0.0038583970163018,-0.1243441998958588,-0.0339529477059841,-0.1339437961578369,-0.2065917998552322,-0.0922029390931129,0.0283093601465225,0.0867632031440735,0.0103513030335307));
res += mul(Get(s2,dx,-dy), float4x4(-0.0494270473718643,-0.0468264296650887,0.0135912597179413,-0.0720826983451843,-0.1097158640623093,0.0524140894412994,-0.0180329103022814,0.0779005810618401,-0.2141562998294830,-0.0665507689118385,-0.0893190279603004,-0.1238592714071274,0.1261470764875412,0.0277545619755983,0.0214286278933287,0.0094225164502859));
res += mul(Get(s0,dx,0), float4x4(0.0767217725515366,0.3940414190292358,-0.1903087198734283,-0.1465089023113251,0.0366392433643341,-0.0519198030233383,0.0713483542203903,0.0106138288974762,0.4070307016372681,-0.0809573158621788,0.1625006496906281,0.0128944981843233,-0.1774515360593796,-0.4077593982219696,0.1864591836929321,0.0619434751570225));
res += mul(Get(s1,dx,0), float4x4(0.1567585170269012,0.2019363641738892,0.0348778590559959,-0.1232378184795380,0.1513307392597198,-0.1861107200384140,-0.0860010609030724,0.1100117787718773,0.2486289441585541,-0.0380968078970909,-0.0462285764515400,-0.6465870141983032,0.0664656311273575,0.1166322901844978,0.1246883794665337,-0.0023166956380010));
res += mul(Get(s2,dx,0), float4x4(-0.2120364755392075,-0.4141976833343506,0.2052948027849197,0.1031209453940392,0.0805499628186226,0.1016714945435524,-0.0675802007317543,-0.0659552067518234,0.2829312086105347,-0.0506153553724289,-0.1483752280473709,-0.4048373699188232,0.1234821975231171,0.1836946457624435,-0.0361263751983643,-0.0970270335674286));
res += mul(Get(s0,dx,dy), float4x4(0.1479336321353912,0.3460905551910400,-0.0132121294736862,0.0291131008416414,-0.1380169987678528,0.0599362999200821,-0.0776655673980713,0.0333125852048397,-0.0190338455140591,-0.0136935217306018,-0.0531520806252956,0.1491789370775223,-0.0604630559682846,-0.3823506534099579,-0.0430331416428089,0.1552162468433380));
res += mul(Get(s1,dx,dy), float4x4(-0.2124066203832626,0.0634997189044952,0.0439979545772076,-0.0203878786414862,-0.1023677214980125,-0.1726111769676208,0.0731121599674225,0.0072709084488451,-0.1602823287248611,-0.1184931918978691,0.0705479308962822,-0.2271004617214203,-0.1449379473924637,0.0879158750176430,0.0126897776499391,0.0431126430630684));
res += mul(Get(s2,dx,dy), float4x4(-0.0226406082510948,-0.1573146730661392,0.1090866699814796,-0.0291881840676069,-0.2574714720249176,0.0289536528289318,0.0556199587881565,-0.0084647731855512,0.0898398086428642,-0.0111047104001045,0.0443482138216496,-0.0744623020291328,-0.1104081273078918,0.0041674100793898,-0.0867755264043808,0.0048292749561369));
res = max(float4(0, 0, 0, 0), res) + float4(0.0616172254085541,0.1643704175949097,0.2105256617069244,0.1327864378690720) * min(float4(0, 0, 0, 0), res);
return res;
}
