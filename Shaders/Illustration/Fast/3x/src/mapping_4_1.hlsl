sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(-0.2903094291687012,-0.1758886426687241,0.0030853082425892,-0.1466421931982040);
res += mul(Get(s0,-dx,-dy), float4x4(-0.1713847666978836,0.0335248336195946,-0.0015218837652355,0.1816758364439011,0.1195917800068855,0.0244947988539934,-0.0073159490711987,0.0302285719662905,0.0657079890370369,0.1630712300539017,0.0405128747224808,-0.0950042307376862,0.0423871390521526,0.0421286597847939,0.0214011594653130,-0.0224095620214939));
res += mul(Get(s1,-dx,-dy), float4x4(-0.2500289678573608,-0.0964085310697556,0.0016553925815970,0.0325766094028950,0.3365385234355927,0.0090207727625966,0.0079710297286510,0.0592495799064636,-0.2267437279224396,-0.0083729885518551,0.0107733355835080,0.0413342379033566,0.1755145341157913,0.0631640478968620,-0.0069241444580257,-0.0546895153820515));
res += mul(Get(s2,-dx,-dy), float4x4(0.0133452303707600,-0.0092567205429077,-0.0596760958433151,0.1024417281150818,0.0019952806178480,-0.1599231064319611,-0.0726855918765068,0.1324947923421860,0.2951657474040985,0.1030521094799042,-0.0114824334159493,-0.0026966799050570,0.0222425218671560,-0.1499471515417099,0.0789560824632645,-0.0062420750036836));
res += mul(Get(s0,-dx,0), float4x4(0.2355597168207169,0.3803386390209198,-0.0714054405689240,-0.0224873330444098,0.0560805425047874,0.0806696340441704,0.0016003946075216,-0.0458979308605194,0.1524664759635925,0.0698788091540337,-0.0973000526428223,0.0548008345067501,0.0249379090964794,0.0643869414925575,0.0108872037380934,-0.1521681249141693));
res += mul(Get(s1,-dx,0), float4x4(0.0474270582199097,-0.2726236879825592,0.0081313531845808,0.0416985489428043,-0.2066123783588409,0.3195112943649292,0.0388666316866875,-0.0323524549603462,-0.0594471208751202,0.2891626954078674,-0.1128063648939133,0.0706946179270744,-0.0008589746430516,-0.1288619637489319,0.0462183877825737,-0.0450776666402817));
res += mul(Get(s2,-dx,0), float4x4(0.2541633248329163,0.2501863241195679,0.0078564584255219,-0.0407441966235638,0.1740934401750565,-0.5016710162162781,0.0034595814067870,0.1558887213468552,0.1377778798341751,-0.0143790338188410,0.0672901049256325,-0.0454226396977901,0.1738883256912231,-0.5115898847579956,0.0158950127661228,0.1084002852439880));
res += mul(Get(s0,-dx,dy), float4x4(0.1054281517863274,0.1001090705394745,0.0330100581049919,-0.0723844021558762,0.0669994428753853,-0.0608489066362381,0.0135043291375041,-0.0005023083649576,0.4163343310356140,-0.2424394935369492,-0.0805343613028526,0.1082598790526390,-0.1963980793952942,0.0436019450426102,0.0206835735589266,0.0694850981235504));
res += mul(Get(s1,-dx,dy), float4x4(0.0420349091291428,-0.0595316328108311,-0.0018248424166813,-0.0385625995695591,-0.0501257665455341,0.1954905688762665,-0.0070615550503135,-0.1133159995079041,0.2140442132949829,-0.0527960285544395,0.0553335063159466,-0.0257557984441519,-0.1621081978082657,-0.0002821311354637,-0.0214474871754646,-0.0151141704991460));
res += mul(Get(s2,-dx,dy), float4x4(-0.0616133213043213,-0.2434022724628448,0.0559354871511459,0.0534737296402454,0.0436382591724396,-0.0084379082545638,-0.0088194077834487,-0.1155419200658798,-0.3477593660354614,0.1288655102252960,-0.0364638902246952,0.1341519951820374,-0.1193342506885529,-0.1259465813636780,0.0006456830888055,-0.1812917590141296));
res += mul(Get(s0,0,-dy), float4x4(-0.2176160216331482,-0.1057791560888290,-0.0762142688035965,0.1942777484655380,-0.0769973471760750,-0.0864956378936768,-0.0200049951672554,0.0887219756841660,0.0520702078938484,-0.2633531987667084,-0.0337377227842808,-0.0580597147345543,0.0348458215594292,0.1034198999404907,0.0015265791444108,-0.0769585818052292));
res += mul(Get(s1,0,-dy), float4x4(-0.2087254524230957,0.0431568808853626,0.0325567349791527,0.0638793185353279,-0.0298651177436113,-0.0595078915357590,-0.0152557501569390,-0.0713065788149834,-0.2330761700868607,0.2357207685709000,0.0879572182893753,-0.1738655567169189,0.2766889333724976,-0.0118062766268849,0.0185888316482306,-0.1374198794364929));
res += mul(Get(s2,0,-dy), float4x4(0.3525868952274323,0.0524799786508083,-0.0921967998147011,0.0236892141401768,-0.3316983282566071,0.2471584677696228,0.0250016544014215,-0.0775366649031639,0.3733344674110413,-0.1178821176290512,-0.0125010982155800,-0.0615722239017487,-0.1561587601900101,0.0302155949175358,0.0583141222596169,-0.0895028933882713));
res += mul(Get(s0,0,0), float4x4(0.6512477397918701,-0.5401640534400940,0.0385377854108810,0.0314833223819733,0.1201253086328506,-0.3249076604843140,-0.0815596878528595,-0.0973160117864609,0.2208505719900131,-0.5992354154586792,0.0713408961892128,0.4000055491924286,0.2264735102653503,-0.2883682250976562,0.2418917715549469,-0.0325249321758747));
res += mul(Get(s1,0,0), float4x4(0.1517216265201569,0.0688489452004433,-0.1123425140976906,-0.0522021651268005,-0.1699797064065933,-0.3692037463188171,0.0022995807230473,-0.2321081459522247,-0.1874029189348221,0.0659504458308220,-0.2032098025083542,0.1859848052263260,-0.0897530242800713,-0.1818030625581741,0.1679123789072037,0.1343242079019547));
res += mul(Get(s2,0,0), float4x4(0.0655543059110641,-0.1937192082405090,0.0031297015957534,0.8211959004402161,0.6149785518646240,0.2222743183374405,-0.0933768451213837,0.3244762420654297,-0.2076666951179504,-0.1475021392107010,0.0519702732563019,0.0181928444653749,0.3811005055904388,0.3656830489635468,-0.0496508926153183,0.4344033300876617));
res += mul(Get(s0,0,dy), float4x4(-0.1639292687177658,-0.0324744991958141,-0.0407597087323666,0.0954719558358192,0.4350210428237915,-0.0919393822550774,0.0832987055182457,0.1183430105447769,0.8529659509658813,-0.3204415738582611,0.0688078254461288,0.4375691115856171,-0.4522686004638672,0.0099370554089546,-0.0453985296189785,-0.1040358245372772));
res += mul(Get(s1,0,dy), float4x4(0.2199636846780777,0.0317982062697411,0.0900063738226891,0.0682362541556358,0.0876257196068764,-0.0368777886033058,0.0055421162396669,0.2053859978914261,-0.8181667923927307,0.1515874564647675,0.0095644257962704,-0.1353238672018051,-0.0772905051708221,-0.2611387670040131,-0.0244369208812714,0.0357031673192978));
res += mul(Get(s2,0,dy), float4x4(-0.2596340775489807,-0.0205573365092278,-0.1211500167846680,-0.2749884128570557,-0.0350959897041321,0.1251932084560394,-0.0442126058042049,-0.0320488214492798,-0.2195477932691574,-0.0744465813040733,-0.0475503429770470,-0.0427619405090809,-0.2799420356750488,0.1195968538522720,-0.0775073021650314,-0.4212379455566406));
res += mul(Get(s0,dx,-dy), float4x4(0.1114474162459373,0.0345543846487999,-0.0134189194068313,0.0830208286643028,0.1189828738570213,-0.0037664584815502,0.0050695529207587,-0.0316268801689148,-0.1112699657678604,-0.0989765301346779,0.0078142210841179,0.0113739632070065,-0.1874764859676361,0.0717978328466415,0.0479957908391953,0.0071040764451027));
res += mul(Get(s1,dx,-dy), float4x4(-0.0471290647983551,-0.0477972291409969,0.0013535475591198,-0.0452740080654621,0.2254851162433624,-0.0004390797403175,0.0091619752347469,0.0606918372213840,-0.0178555641323328,-0.1139322295784950,0.0457114689052105,-0.0981995090842247,-0.0597198978066444,0.0038091742899269,0.0051656132563949,-0.0358325615525246));
res += mul(Get(s2,dx,-dy), float4x4(-0.2081583440303802,-0.0253453683108091,0.0421836934983730,0.0790871828794479,0.1516089737415314,0.0846930518746376,-0.0015329425223172,-0.0681904405355453,0.2483012825250626,-0.2278483808040619,0.0088778110221028,-0.0572460629045963,-0.2021047770977020,-0.0185893904417753,0.0198542010039091,-0.0798958912491798));
res += mul(Get(s0,dx,0), float4x4(0.0456275269389153,0.1748421341180801,-0.0252093058079481,0.0194988343864679,-0.0081099700182676,0.0527816191315651,-0.0368279851973057,-0.0788163989782333,-0.1771245300769806,0.0281741619110107,-0.1565141528844833,0.0456317812204361,-0.0748334601521492,-0.0170674864202738,-0.0208793487399817,-0.0756011828780174));
res += mul(Get(s1,dx,0), float4x4(-0.0415910370647907,0.0505561828613281,-0.0303484890609980,0.0420360714197159,-0.0570968575775623,0.2235169410705566,-0.0172958374023438,-0.0603343658149242,0.0667476654052734,-0.4772093594074249,0.1891492903232574,-0.0362117290496826,-0.1150796264410019,0.0545677430927753,0.0214603245258331,-0.0248071774840355));
res += mul(Get(s2,dx,0), float4x4(0.2752655744552612,-0.0465480275452137,-0.0510600097477436,0.1624769270420074,0.1114889979362488,0.1070858761668205,0.0204046312719584,-0.0538729727268219,-0.3419385552406311,-0.2723573446273804,0.0637600123882294,0.0005166713381186,0.0780870690941811,0.0387011393904686,-0.0015551277901977,0.1049302443861961));
res += mul(Get(s0,dx,dy), float4x4(-0.0298625826835632,0.1217275112867355,-0.0323015339672565,-0.0197500195354223,0.0013958357740194,0.0067473878152668,0.0249306205660105,-0.0324358530342579,0.3389370739459991,-0.0230969004333019,-0.1102885678410530,0.0140313701704144,-0.0652400329709053,0.0362306423485279,0.0336906276643276,-0.0641197636723518));
res += mul(Get(s1,dx,dy), float4x4(0.1220912262797356,-0.0246367640793324,0.0174496304243803,0.0256019216030836,0.0129047548398376,-0.0706231221556664,0.0933320820331573,0.0022287229076028,-0.0557153113186359,-0.3422808945178986,0.0073683732189238,0.0365489125251770,0.0993375107645988,0.0211511645466089,-0.0636052042245865,0.0337175056338310));
res += mul(Get(s2,dx,dy), float4x4(-0.0580308586359024,0.0716462805867195,-0.0876301303505898,-0.0975941121578217,0.0962323397397995,-0.0801963582634926,0.0121507914736867,0.0926442071795464,-0.0241569615900517,-0.1046893969178200,-0.0133658889681101,0.0762908384203911,0.0674037709832191,0.1029385253787041,-0.0182890295982361,-0.0780062749981880));
res = max(float4(0, 0, 0, 0), res) + float4(0.0479853115975857,0.2532784640789032,3.7444784641265869,0.2076573073863983) * min(float4(0, 0, 0, 0), res);
return res;
}
