sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(-0.0034871054813266,-0.1466386169195175,-0.1784773319959641,0.1411913633346558);
res += mul(Get(s0,-dx,-dy), float4x4(0.0174895934760571,-0.3515390455722809,-0.1466395258903503,-0.1553266495466232,-0.1628094315528870,-0.0474207028746605,0.0278358403593302,0.0543577894568443,-0.0962645038962364,-0.0149062387645245,-0.2039888650178909,-0.0107929343357682,0.1421993225812912,-0.0272112172096968,0.2518679201602936,0.4764776229858398));
res += mul(Get(s1,-dx,-dy), float4x4(0.0320741124451160,0.0116330012679100,-0.0100876139476895,0.0365010201931000,-0.0498868860304356,-0.1369177997112274,0.0201174709945917,0.0140670826658607,-0.0084568709135056,0.1058754697442055,0.2203313410282135,0.0260367989540100,0.1500992327928543,0.4432528018951416,-0.0755851566791534,-0.1711564511060715));
res += mul(Get(s2,-dx,-dy), float4x4(-0.0574186816811562,-0.1235121265053749,-0.0461508482694626,0.0816161483526230,0.1136950850486755,0.1424356698989868,0.2278175652027130,0.1649079620838165,-0.0043401424773037,0.1705127209424973,0.1334578394889832,-0.1074154302477837,0.0097388848662376,-0.3135147690773010,-0.1367039829492569,-0.1123483404517174));
res += mul(Get(s0,-dx,0), float4x4(0.2056625783443451,0.2454954087734222,0.1520012170076370,0.1368589997291565,-0.3986401259899139,0.0272945463657379,-0.4260224997997284,-0.2481478601694107,0.2953197658061981,-0.0142296114936471,0.0973171964287758,0.0098526673391461,0.1955276429653168,-0.0753293335437775,0.4345095753669739,0.4725053310394287));
res += mul(Get(s1,-dx,0), float4x4(0.0208570193499327,-0.1159210279583931,-0.0315653085708618,-0.0366582833230495,-0.1554900705814362,-0.0421291626989841,-0.0649318173527718,0.1563771516084671,0.1510673016309738,0.0150380497798324,0.0198905207216740,-0.3065984845161438,-0.1119571253657341,-0.0720871463418007,0.0622154735028744,0.1361587941646576));
res += mul(Get(s2,-dx,0), float4x4(0.2402746528387070,0.3315450847148895,0.1701007634401321,-0.2792755365371704,0.1402006596326828,-0.0770353972911835,-0.0019647867884487,0.1270130574703217,-0.0584237948060036,-0.2184276580810547,0.2781356573104858,-0.0974057242274284,0.1019775718450546,0.0461819507181644,-0.2847247719764709,-0.3008597195148468));
res += mul(Get(s0,-dx,dy), float4x4(0.0310722533613443,0.1215576604008675,0.0119909057393670,-0.1162393614649773,0.0971792191267014,0.0483959168195724,0.0580561421811581,-0.0429101139307022,-0.2317177206277847,-0.1173889860510826,-0.0363492928445339,0.0074972533620894,0.0083008287474513,-0.0206186007708311,0.0734444782137871,-0.0236613303422928));
res += mul(Get(s1,-dx,dy), float4x4(0.0437037944793701,0.0279258061200380,0.0272947009652853,0.0711745917797089,0.0550820827484131,-0.0878318026661873,-0.0931296795606613,-0.0844505131244659,0.3558810353279114,0.1216473132371902,0.0865653604269028,-0.2250943481922150,0.0091370297595859,-0.0685657113790512,-0.0514531508088112,0.0601758286356926));
res += mul(Get(s2,-dx,dy), float4x4(-0.0205949805676937,0.3746489286422729,0.0674521923065186,0.1210601404309273,-0.0756751075387001,-0.1275670081377029,0.0768454521894455,0.1429260224103928,-0.0558664873242378,-0.0090299164876342,0.0590128935873508,0.0025169602595270,0.0314952842891216,0.0622038841247559,-0.1123802885413170,-0.1521044522523880));
res += mul(Get(s0,0,-dy), float4x4(-0.4504112303256989,0.0898244529962540,0.1758755743503571,-0.0481759272515774,-0.0011613386450335,0.0429513044655323,-0.0351280830800533,-0.2334389686584473,-0.1693697273731232,0.3581252694129944,0.1093618124723434,-0.3123244643211365,0.0420212745666504,-0.0145778739824891,0.1959009021520615,0.3821579515933990));
res += mul(Get(s1,0,-dy), float4x4(0.1201392263174057,-0.1003560349345207,-0.1232338696718216,0.0070826178416610,0.1503784954547882,0.1955982744693756,0.1586911529302597,0.0454273112118244,-0.1009902656078339,0.3706647753715515,-0.1345222145318985,-0.3004250824451447,0.0955991446971893,0.0254686214029789,0.0972954258322716,0.2687589824199677));
res += mul(Get(s2,0,-dy), float4x4(-0.3085157573223114,-0.2165070921182632,0.1493359357118607,-0.2732813954353333,-0.1971252262592316,-0.0773789286613464,0.2723166346549988,-0.0433075763285160,-0.0040388582274318,-0.1786527186632156,-0.2717648148536682,-0.2091210633516312,-0.2613701224327087,-0.0696837082505226,0.0347196795046329,-0.1221419349312782));
res += mul(Get(s0,0,0), float4x4(0.1574548482894897,0.2792113125324249,0.0439391881227493,0.3216655850410461,-0.3579421341419220,0.1273874342441559,0.1087850704789162,-0.4128597676753998,-0.5689487457275391,0.0910039395093918,0.0174309909343719,-0.1837045997381210,0.1090875864028931,-0.2920599877834320,0.2720078825950623,0.2358094006776810));
res += mul(Get(s1,0,0), float4x4(-0.3191945850849152,0.0709581226110458,-0.2129706740379333,-0.4443819224834442,0.4616405963897705,-0.2854248881340027,0.7887694239616394,0.9240977168083191,0.6428140401840210,-0.0441250614821911,-0.2500821948051453,-0.4107282459735870,0.0181528478860855,0.4291532337665558,0.2336845844984055,0.0749961212277412));
res += mul(Get(s2,0,0), float4x4(0.1504546552896500,-0.0126193976029754,-0.3076589703559875,0.3572738468647003,0.4573950469493866,-0.0021371839102358,-0.0847705751657486,0.2461649924516678,0.2688194811344147,-0.1638098806142807,-0.4579104781150818,-0.1166524663567543,-0.0580957084894180,0.0580723434686661,-0.0082078808918595,0.3733620345592499));
res += mul(Get(s0,0,dy), float4x4(-0.1737631559371948,-0.3896896839141846,-0.3031167984008789,-0.0777002796530724,0.0378201380372047,-0.1305615305900574,0.0455976165831089,-0.1413614302873611,0.3195269107818604,0.0836152508854866,0.0948075652122498,0.1656854897737503,0.0904942825436592,0.0672459155321121,0.1217073276638985,0.0958011373877525));
res += mul(Get(s1,0,dy), float4x4(-0.0325397923588753,0.0848282873630524,0.1856551170349121,0.1017033532261848,-0.2991217672824860,-0.0968943983316422,-0.2677853107452393,0.0547914430499077,-0.1128083243966103,0.2190639078617096,-0.0204525105655193,-0.0699798166751862,0.1763565242290497,0.0131180491298437,0.0669280067086220,0.1596169918775558));
res += mul(Get(s2,0,dy), float4x4(0.4110769927501678,-0.0863519683480263,0.3215420842170715,-0.1837424188852310,0.2880408465862274,-0.1759400665760040,0.2058762907981873,0.1010178476572037,0.1935312747955322,0.1712368875741959,0.1705814898014069,-0.0881910100579262,-0.1489423960447311,-0.3298534750938416,-0.1085778325796127,0.1830371916294098));
res += mul(Get(s0,dx,-dy), float4x4(0.2008674591779709,0.0266721956431866,-0.0290799289941788,-0.0734313279390335,0.0270556565374136,-0.1254325211048126,-0.1412983685731888,-0.1228872239589691,0.0764336138963699,0.0134690031409264,-0.1856850832700729,-0.0664017722010612,-0.0605504512786865,-0.1943139135837555,0.0502289906144142,-0.0119092678651214));
res += mul(Get(s1,dx,-dy), float4x4(-0.0045169056393206,0.0121342297643423,0.0205134395509958,0.0553972907364368,-0.1190256103873253,0.1794454455375671,0.0858170464634895,-0.1073721796274185,-0.1918245404958725,0.2918633520603180,0.0196731109172106,-0.1114264726638794,0.1804819852113724,0.1612855494022369,0.0151436878368258,0.0587011612951756));
res += mul(Get(s2,dx,-dy), float4x4(0.0128046460449696,0.0632587522268295,-0.0375646986067295,0.0323531106114388,-0.0938087850809097,-0.4323289096355438,-0.0108111537992954,-0.0382597148418427,-0.0044814110733569,-0.1129548549652100,-0.0785626694560051,0.0081348493695259,-0.1501067131757736,-0.0409797318279743,0.0229355227202177,0.0051433453336358));
res += mul(Get(s0,dx,0), float4x4(0.0977382808923721,-0.0740406289696693,-0.0011190900113434,0.0414821244776249,-0.1517439484596252,0.2062505185604095,-0.2292062491178513,-0.1702961921691895,-0.3768087625503540,-0.0669198185205460,-0.0332457870244980,-0.0125537291169167,-0.0011268142843619,-0.0406067594885826,0.2121297866106033,0.2782190740108490));
res += mul(Get(s1,dx,0), float4x4(0.0522307194769382,0.1356834918260574,-0.0195038188248873,-0.0194245856255293,0.1384609937667847,-0.0725090205669403,-0.0717233642935753,-0.0635182037949562,0.0585813894867897,0.7238596677780151,-0.0091027822345495,0.0085900099948049,0.1931215226650238,-0.3926033675670624,0.0997968241572380,0.0664745420217514));
res += mul(Get(s2,dx,0), float4x4(-0.2303554117679596,0.0950306579470634,-0.1305099874734879,0.1804414987564087,-0.0019270658958703,-0.2547993361949921,0.1720881462097168,0.3190387487411499,-0.1313315778970718,0.1878503859043121,-0.0144323725253344,-0.0353245995938778,0.2575245499610901,-0.1003469228744507,-0.1584435701370239,-0.0718468576669693));
res += mul(Get(s0,dx,dy), float4x4(0.1074747964739799,0.0665700212121010,-0.1456190049648285,0.0625858008861542,-0.0516112633049488,0.0074274763464928,-0.0271861925721169,-0.0188905801624060,0.0415403321385384,0.3471045792102814,0.2825342416763306,0.0363140888512135,0.2190267145633698,0.1682976484298706,0.1883041113615036,0.2562106549739838));
res += mul(Get(s1,dx,dy), float4x4(-0.0247335284948349,-0.0944593176245689,0.0356436744332314,0.0098197413608432,0.0395170040428638,-0.2452229857444763,-0.1043294295668602,0.0126511016860604,-0.0964097827672958,-0.0791360065340996,-0.0918628573417664,-0.0504175536334515,-0.0133590549230576,0.3032961189746857,0.1393093168735504,0.0052116862498224));
res += mul(Get(s2,dx,dy), float4x4(-0.1221706122159958,0.2572973370552063,0.0082296226173639,-0.3117619752883911,-0.1450881212949753,0.0505030192434788,-0.1882891058921814,0.0126232365146279,-0.0308815743774176,0.1527886837720871,0.0976077467203140,0.0201429948210716,0.0331009626388550,-0.4992370903491974,0.0832151696085930,0.2123436927795410));
res = max(float4(0, 0, 0, 0), res) + float4(-1.0205436944961548,-0.1960840076208115,0.1142405495047569,1.4409724473953247) * min(float4(0, 0, 0, 0), res);
return res;
}
