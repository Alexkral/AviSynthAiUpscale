sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(-0.0273854695260525,-0.1937417387962341,-0.0524920858442783,-0.0586483925580978);
res += mul(Get(s0,-dx,-dy), float4x4(0.1503573358058929,-0.0007505835383199,-0.0336464494466782,-0.1402991414070129,-0.0073299994692206,-0.2512851953506470,0.1673702597618103,0.0478971824049950,0.1059055030345917,0.1874978542327881,-0.1620450019836426,-0.1441278159618378,0.1291893869638443,-0.0786874741315842,0.0914787948131561,-0.0254708584398031));
res += mul(Get(s1,-dx,-dy), float4x4(0.1649839878082275,-0.5059390664100647,0.0846858844161034,0.1749499291181564,0.0053016250021756,0.0550845563411713,-0.0587821602821350,-0.0040099266916513,0.2046270668506622,-0.1065557003021240,0.1040481105446815,-0.0090108010917902,-0.1998289227485657,0.2413692027330399,-0.2185739427804947,-0.1036488413810730));
res += mul(Get(s2,-dx,-dy), float4x4(-0.0268327109515667,0.4121538102626801,-0.1017379164695740,0.0904456377029419,-0.0432785376906395,-0.0668178647756577,0.0303072948008776,0.0734951347112656,0.1195439919829369,-0.0662979334592819,-0.0807278230786324,0.0479017011821270,-0.2015111744403839,-0.1340347081422806,0.1066220551729202,-0.0502294562757015));
res += mul(Get(s0,-dx,0), float4x4(-0.0062787053175271,0.3082588613033295,0.3663442134857178,0.0224747750908136,0.0564038157463074,-0.2499475777149200,0.0837117582559586,-0.0967125520110130,0.2750070691108704,-0.1598156541585922,-0.5399277210235596,0.2213624268770218,-0.1395357251167297,0.1709417253732681,0.1523943394422531,-0.0640320256352425));
res += mul(Get(s1,-dx,0), float4x4(-0.1665654629468918,0.2479233592748642,-0.0275309085845947,-0.1530317813158035,-0.2241829484701157,-0.0503170974552631,0.0996685698628426,0.0756509006023407,-0.4240690171718597,-0.0514213480055332,0.3063641488552094,-0.1623956412076950,0.4075683355331421,0.3792144060134888,-0.0767918452620506,0.1664655804634094));
res += mul(Get(s2,-dx,0), float4x4(-0.0563046671450138,0.0632637590169907,-0.0747422128915787,0.0260671172291040,-0.0431489832699299,0.0449556745588779,-0.0469151213765144,0.0177313983440399,0.1173757240176201,0.4999219477176666,-0.2251142412424088,0.0467261560261250,-0.2463608980178833,-0.0226660110056400,-0.0748294144868851,-0.2239143997430801));
res += mul(Get(s0,-dx,dy), float4x4(-0.1935676783323288,0.3987304866313934,-0.1460398882627487,-0.0891303345561028,0.1719941645860672,-0.2378714233636856,-0.0428956001996994,0.0154137415811419,0.1914001703262329,-0.3188596963882446,0.0874667912721634,-0.0022508588153869,-0.0358093827962875,-0.0330099239945412,0.0227485485374928,0.0072049670852721));
res += mul(Get(s1,-dx,dy), float4x4(-0.1629775911569595,0.0404017381370068,-0.0202207863330841,0.0415955632925034,-0.1226625517010689,0.0629081502556801,-0.0882238820195198,-0.0432661958038807,0.0190946832299232,0.1340584456920624,0.1854391545057297,0.0212478060275316,0.2389887273311615,0.1484623402357101,0.1298905611038208,-0.0418775416910648));
res += mul(Get(s2,-dx,dy), float4x4(-0.0095829544588923,-0.1166256368160248,-0.0168339610099792,0.0030868491157889,0.0243540592491627,-0.1058390215039253,0.0240214616060257,0.0377728417515755,0.0934521108865738,-0.1546605229377747,0.0317446850240231,-0.0760210230946541,-0.1108112335205078,0.1211568713188171,0.1758076101541519,0.0681590735912323));
res += mul(Get(s0,0,-dy), float4x4(-0.0651239156723022,-0.2024021744728088,-0.1026887297630310,-0.1897840350866318,-0.0094710132107139,0.2335053235292435,-0.0020323654171079,-0.3343263268470764,-0.3877494633197784,-0.1211981475353241,0.0577907152473927,0.2793846130371094,-0.0755901560187340,-0.3876609802246094,0.0858071893453598,0.1601913571357727));
res += mul(Get(s1,0,-dy), float4x4(0.0380731038749218,0.3504184186458588,0.1587417721748352,-0.1760216355323792,-0.3512878715991974,-0.3206282854080200,-0.1736818104982376,-0.1682046949863434,-0.1114781647920609,-0.1122243925929070,-0.3677856922149658,0.1636849641799927,-0.5710087418556213,0.2573372423648834,-0.1792095750570297,-0.0355866737663746));
res += mul(Get(s2,0,-dy), float4x4(0.0022985700052232,-0.0117575498297811,0.0292036402970552,-0.1880571246147156,0.0332220122218132,0.6390956044197083,0.0471526831388474,0.0151527179405093,0.0722604691982269,0.0591200254857540,0.4323025941848755,0.4650755226612091,-0.0410212948918343,0.6280457377433777,0.0464756265282631,-0.0429758243262768));
res += mul(Get(s0,0,0), float4x4(-0.0679840072989464,-0.0534746237099171,-0.3442079126834869,0.8275148272514343,-0.4592199325561523,-0.6329289674758911,-0.6474051475524902,-0.3094353377819061,-0.1317987740039825,-0.5004721283912659,0.7437397837638855,-1.0337599515914917,0.4246618151664734,0.2096215486526489,-0.1847167760133743,0.5462635159492493));
res += mul(Get(s1,0,0), float4x4(-0.0223623476922512,0.2355484664440155,-0.2907167375087738,0.5107515454292297,-0.4186429977416992,-0.7994458675384521,-0.2516521513462067,1.4030941724777222,0.2005916386842728,0.0320153869688511,-0.0907820537686348,-0.3826487064361572,0.2027071267366409,0.3100627958774567,0.9223249554634094,0.3062182068824768));
res += mul(Get(s2,0,0), float4x4(-0.0636932104825974,0.1582687199115753,0.5677673816680908,-0.2357755750417709,0.4526042342185974,0.2255488485097885,1.0907881259918213,-0.4094793796539307,-0.2392679452896118,-0.9536758661270142,-0.8275778293609619,0.2546868026256561,1.3343085050582886,-0.1415165066719055,-1.0564434528350830,0.2131201624870300));
res += mul(Get(s0,0,dy), float4x4(0.1104581132531166,0.0741664245724678,-0.1449985355138779,-0.3458611667156219,0.0240018106997013,0.0561003573238850,-0.1760351657867432,-0.3939103186130524,0.1578702181577682,-0.0611960701644421,-0.5115551948547363,0.1821918040513992,0.1853591203689575,0.2364901900291443,0.1222289651632309,-0.0667205452919006));
res += mul(Get(s1,0,dy), float4x4(0.2116852253675461,-0.2210169285535812,0.0309123937040567,0.0690886527299881,-0.4479360878467560,0.0515640601515770,0.2333823144435883,0.2804654240608215,0.0742657557129860,0.0943419709801674,-0.0665027946233749,-0.0245213620364666,-0.2538869082927704,0.0310481227934361,0.1728126108646393,0.0285174436867237));
res += mul(Get(s2,0,dy), float4x4(0.1705726087093353,-0.0921097025275230,0.0761743187904358,-0.0328079164028168,0.2723989784717560,0.0342266596853733,0.2227766662836075,-0.0306036695837975,-0.1877357065677643,0.6314635276794434,0.4319730103015900,-0.2637756764888763,-0.2870275080204010,-0.4730545878410339,0.0541114658117294,0.2213016748428345));
res += mul(Get(s0,dx,-dy), float4x4(-0.2662394344806671,-0.1909177750349045,-0.1748208552598953,-0.0772905796766281,-0.1356625258922577,0.1977428793907166,-0.0661800205707550,0.0122820949181914,-0.1625589877367020,0.0227440577000380,-0.0090841371566057,-0.2071477323770523,0.1052554845809937,-0.2407564222812653,0.0061850813217461,0.0410582497715950));
res += mul(Get(s1,dx,-dy), float4x4(-0.1092107668519020,0.2157652676105499,-0.0445742495357990,-0.0536359474062920,0.0498031154274940,-0.1118670329451561,0.0892991945147514,0.2826660573482513,0.1987680792808533,-0.1753142178058624,0.1861915141344070,0.0184787102043629,-0.0466256141662598,0.0701686963438988,-0.0397520735859871,-0.1531730145215988));
res += mul(Get(s2,dx,-dy), float4x4(-0.1705155521631241,-0.1027007848024368,0.0095555679872632,0.1302153617143631,0.0024698686320335,0.1106272637844086,0.0397314541041851,-0.0974781140685081,-0.1465996503829956,-0.4735984206199646,-0.1060823500156403,0.0252049639821053,-0.1521616280078888,-0.1192153096199036,0.0191618297249079,0.0849208682775497));
res += mul(Get(s0,dx,0), float4x4(0.3506146669387817,-0.0959531068801880,0.1784329861402512,0.1069058328866959,-0.0932226926088333,-0.3784888386726379,0.0207906924188137,0.3956747651100159,0.1269399225711823,0.1768012344837189,-0.2104514092206955,0.6037646532058716,0.3070459961891174,0.3587416410446167,0.0388163626194000,0.1341560035943985));
res += mul(Get(s1,dx,0), float4x4(0.0050039961934090,-0.1207970380783081,0.2388179302215576,0.2848199903964996,-0.3279867470264435,0.0466898307204247,-0.0299060903489590,0.0378596782684326,-0.0267600361257792,-0.0654256865382195,0.1733404099941254,0.2882607877254486,-0.0897765159606934,-0.1209446415305138,-0.3253905773162842,0.1410682350397110));
res += mul(Get(s2,dx,0), float4x4(0.0328208021819592,0.0861114263534546,0.1003869324922562,-0.2271669209003448,-0.0346782356500626,-0.0706896558403969,0.0984943956136703,0.2167212963104248,0.3002455532550812,-0.0618145950138569,0.0625647753477097,-0.2375761717557907,-0.2429012507200241,-0.0277402792125940,0.4484450817108154,0.2213774472475052));
res += mul(Get(s0,dx,dy), float4x4(-0.0852955505251884,-0.0949357822537422,0.0643456727266312,0.1298734247684479,0.3635508418083191,-0.0494086630642414,-0.1131135821342468,0.0467536672949791,0.0030945918988436,0.0532266385853291,0.1842549145221710,-0.3161487281322479,-0.1162861138582230,-0.1411839574575424,0.0130767570808530,-0.0404510796070099));
res += mul(Get(s1,dx,dy), float4x4(-0.0540973469614983,-0.1379560530185699,-0.1662768423557281,-0.3202596902847290,-0.0211356822401285,0.0761444568634033,0.0784557014703751,-0.0415990091860294,-0.1267873942852020,0.1246818676590919,-0.1432424783706665,-0.3309044837951660,-0.0133707607164979,-0.1822281330823898,-0.0317221358418465,0.1203555613756180));
res += mul(Get(s2,dx,dy), float4x4(0.0016904191579670,0.0189341921359301,0.0553031414747238,0.0059407134540379,0.0604896284639835,-0.0766556933522224,0.0400052592158318,-0.1175280436873436,-0.0785571336746216,0.2295756489038467,-0.0173858013004065,-0.1737708598375320,-0.0573654212057590,0.0325819365680218,0.0691569522023201,-0.2944886684417725));
res = max(float4(0, 0, 0, 0), res) + float4(0.9296389818191528,0.0031048862729222,0.9802322387695312,1.3435336351394653) * min(float4(0, 0, 0, 0), res);
return res;
}
