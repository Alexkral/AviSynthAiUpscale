sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float3 res = float3(0.2932181954383850,0.2967234551906586,0.2919224500656128);
res += mul(Get(s0,-dx,-dy), float4x3(-0.0045711672864854,-0.0013120456133038,-0.0017037154175341,0.0184185020625591,-0.0016241431003436,-0.0026407316327095,0.0013233090285212,-0.0008838778012432,0.0057793180458248,0.0190982874482870,-0.0272198226302862,-0.0084780193865299));
res += mul(Get(s1,-dx,-dy), float4x3(-0.0082978112623096,0.0039688302204013,-0.0006750565953553,-0.0080975545570254,0.0082836095243692,-0.0020344308577478,0.0228551719337702,-0.0066845989786088,-0.0002260475157527,-0.0439149141311646,0.0211324524134398,0.0167127009481192));
res += mul(Get(s2,-dx,-dy), float4x3(-0.0255715157836676,0.0040848129428923,0.0005641082534567,-0.0015116417780519,-0.0204623676836491,-0.0188341680914164,0.0182509608566761,0.0077310507185757,0.0019901467021555,-0.0032413795124739,-0.0004092209564988,0.0057058571837842));
res += mul(Get(s0,-dx,0), float4x3(-0.0017672628164291,0.0005612591630779,0.0009874770184979,0.0020007540006191,0.0193328559398651,0.0166152492165565,-0.0563925392925739,-0.0444101542234421,-0.0297227874398232,0.0256363060325384,0.0482704229652882,0.0590319819748402));
res += mul(Get(s1,-dx,0), float4x3(0.0074217305518687,0.0006036125705577,-0.0133058056235313,0.0558583624660969,0.0041895969770849,-0.0171567946672440,0.0259620882570744,0.0220887679606676,0.0091760773211718,-0.0464794412255287,-0.0944803133606911,-0.0879369825124741));
res += mul(Get(s2,-dx,0), float4x3(0.0138878673315048,-0.0342276878654957,-0.0287905111908913,0.0523432306945324,0.0738094821572304,0.0430535003542900,0.0126356976106763,0.0373521633446217,0.0401734113693237,-0.0192415509372950,-0.0128634227439761,-0.0057051237672567));
res += mul(Get(s0,-dx,dy), float4x3(0.0025963671505451,0.0052091898396611,-0.0031371151562780,0.0124162333086133,0.0075603113509715,0.0093213291838765,-0.0069434330798686,-0.0099740969017148,-0.0158900152891874,-0.0042850696481764,0.0176826287060976,0.0157830808311701));
res += mul(Get(s1,-dx,dy), float4x3(0.0039433254860342,0.0069125513546169,0.0021709150169045,0.0008709987159818,0.0031301290728152,0.0263227801769972,-0.0060913413763046,-0.0050377310253680,0.0159808956086636,-0.0211261231452227,-0.0120325218886137,-0.0256633013486862));
res += mul(Get(s2,-dx,dy), float4x3(0.0074340454302728,0.0228579379618168,0.0039600599557161,0.0102970432490110,0.0024924096651375,0.0183916315436363,-0.0033015690278262,-0.0076764789409935,-0.0037041003815830,0.0019834262784570,0.0016467809909955,-0.0053195911459625));
res += mul(Get(s0,0,-dy), float4x3(0.0348181650042534,-0.0256716981530190,-0.0081501500681043,0.0413063429296017,-0.0702247098088264,-0.0520211905241013,0.0023169468622655,0.0233571231365204,0.0033344135154039,0.0088169276714325,0.0291693750768900,-0.0042585209012032));
res += mul(Get(s1,0,-dy), float4x3(0.0034973900765181,-0.0055057844147086,-0.0034702019765973,-0.0343572795391083,-0.0263358578085899,0.0084818955510855,0.0065366858616471,0.0391813255846500,0.0050667766481638,-0.0862473696470261,0.0554826855659485,0.0686754435300827));
res += mul(Get(s2,0,-dy), float4x3(0.0476462393999100,-0.0428791530430317,-0.0261411536484957,-0.0206078290939331,0.0368678607046604,-0.0248397737741470,0.0826434642076492,0.0127765890210867,-0.0150829786434770,-0.0528220050036907,-0.0048770289868116,0.0098557211458683));
res += mul(Get(s0,0,0), float4x3(0.0123029071837664,-0.0552302636206150,0.0337066426873207,0.0437619239091873,0.3279421329498291,0.3658290505409241,0.0710787326097488,0.1357646435499191,-0.0591404214501381,0.6663149595260620,0.5731466412544250,0.1806195974349976));
res += mul(Get(s1,0,0), float4x3(-0.0046765855513513,-0.0431209355592728,0.0564896278083324,-0.1489419043064117,0.0193717088550329,0.1955035477876663,0.1130026504397392,0.0402600392699242,-0.2119726985692978,0.1306251436471939,0.0742116570472717,0.1500435322523117));
res += mul(Get(s2,0,0), float4x3(0.3624395430088043,0.5025789737701416,0.7696500420570374,-0.7840270400047302,-0.8295781016349792,-0.5733022093772888,0.0382010862231255,0.0846713706851006,0.1256356388330460,-0.0508400723338127,-0.1262251287698746,-0.1286375075578690));
res += mul(Get(s0,0,dy), float4x3(-0.0044703544117510,-0.0047816089354455,0.0214918535202742,0.0356359630823135,0.0454765036702156,-0.0525769554078579,-0.0002471938205417,-0.0204335972666740,-0.0264628212898970,-0.0160068422555923,-0.0447068475186825,-0.0090696355327964));
res += mul(Get(s1,0,dy), float4x3(-0.0143701853230596,-0.0119988592341542,0.0245508775115013,0.0320600271224976,0.0489066466689110,-0.0332712344825268,-0.0040542697533965,-0.0242154356092215,-0.0144177991896868,-0.0359072498977184,-0.0476412437856197,0.0338222347199917));
res += mul(Get(s2,0,dy), float4x3(0.0257850605994463,0.0244867261499166,-0.0167271513491869,0.0516440942883492,0.0886524543166161,-0.0736191421747208,0.0064497301355004,0.0035310736857355,0.0044625685550272,-0.0042302771471441,-0.0029673222452402,-0.0021820976398885));
res += mul(Get(s0,dx,-dy), float4x3(0.0013901037164032,0.0044342027977109,-0.0013207568554208,-0.0074388766661286,0.0130087388679385,0.0055543552152812,0.0075137414969504,-0.0041013117879629,0.0037348603364080,0.0088862590491772,0.0040336064994335,0.0174935087561607));
res += mul(Get(s1,dx,-dy), float4x3(-0.0027301956433803,0.0009662922238931,-0.0018107879441231,-0.0327287837862968,0.0087561551481485,0.0032110649626702,-0.0069620595313609,-0.0108550656586885,0.0142252044752240,-0.0381061434745789,0.0080457394942641,-0.0043936762958765));
res += mul(Get(s2,dx,-dy), float4x3(-0.0058527034707367,0.0285525005310774,0.0023121112026274,0.1051382645964622,-0.0568162612617016,-0.0227077826857567,0.0046326508745551,-0.0001442279026378,-0.0023588868789375,-0.0085444999858737,-0.0002552857040428,0.0009873592061922));
res += mul(Get(s0,dx,0), float4x3(-0.0058729005977511,-0.0027550063095987,0.0028575351461768,0.0345013216137886,0.0222329013049603,0.0062225651927292,0.0443522669374943,0.0498012043535709,0.0351602137088776,0.0440280623733997,0.0531011521816254,0.0160693749785423));
res += mul(Get(s1,dx,0), float4x3(-0.0194370392709970,-0.0076612317934632,0.0121001442894340,-0.0303378310054541,-0.0610277801752090,-0.0641850978136063,0.0070325825363398,0.0248243082314730,0.0046530361287296,-0.0069927824661136,-0.0462251305580139,-0.0175318308174610));
res += mul(Get(s2,dx,0), float4x3(0.0772221311926842,0.0427611283957958,0.0365326181054115,0.0990858525037766,0.2798714041709900,0.1243030056357384,0.0147612402215600,0.0163182336837053,0.0118592493236065,-0.0182213298976421,-0.0168524850159883,-0.0157041475176811));
res += mul(Get(s0,dx,dy), float4x3(0.0005920387338847,-0.0001235201052623,-0.0044125751592219,-0.0065522813238204,-0.0039026916492730,0.0030699335038662,-0.0050861323252320,-0.0004384914645925,0.0140350563451648,-0.0018501781160012,-0.0002740768541116,0.0049450537189841));
res += mul(Get(s1,dx,dy), float4x3(-0.0092423427850008,-0.0052623003721237,-0.0104361530393362,-0.0021717771887779,-0.0082549247890711,-0.0063479235395789,0.0016085662646219,0.0014004538534209,-0.0019121656659991,-0.0057362699881196,-0.0007966415141709,0.0102968746796250));
res += mul(Get(s2,dx,dy), float4x3(-0.0169782936573029,-0.0129037452861667,0.0209929738193750,-0.0295646339654922,-0.0239694919437170,0.0570041984319687,-0.0018425802700222,0.0007098366040736,0.0049946480430663,0.0067390711046755,0.0064568030647933,-0.0041468627750874));
return float4(res, 0);
}
