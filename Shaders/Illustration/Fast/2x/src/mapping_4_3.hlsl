sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(-0.0535925030708313,0.0754949003458023,0.0105418851599097,-0.3085251748561859);
res += mul(Get(s0,-dx,-dy), float4x4(-0.2596103549003601,0.0123749952763319,0.0992236658930779,-0.0075294403359294,0.1832517534494400,0.0470462441444397,0.2910744249820709,0.2555562853813171,-0.2137621343135834,0.0245974790304899,-0.0244696401059628,0.1005798950791359,-0.1186131164431572,-0.0836153551936150,0.0546930842101574,0.1451822519302368));
res += mul(Get(s1,-dx,-dy), float4x4(-0.0969871357083321,0.0758248567581177,-0.0824427008628845,-0.0269438698887825,-0.2081196457147598,-0.0680255889892578,-0.1319631636142731,0.0332888402044773,-0.0703286379575729,0.0211311317980289,-0.1483636945486069,-0.0925310552120209,0.1013418883085251,0.0745599120855331,0.0008665935602039,-0.1333677321672440));
res += mul(Get(s2,-dx,-dy), float4x4(-0.0512347780168056,-0.0134202074259520,-0.1212624162435532,-0.0396350249648094,-0.0532374754548073,-0.0671544075012207,-0.2395156323909760,-0.0489420220255852,-0.3086563646793365,0.0525186248123646,0.0618600584566593,0.1640207767486572,0.4842420518398285,-0.0272429119795561,0.2145126312971115,-0.1007197573781013));
res += mul(Get(s0,-dx,0), float4x4(-0.0940330997109413,0.0925269946455956,-0.2898126542568207,-0.0799773484468460,-0.6037079691886902,0.2191389650106430,-0.4810078740119934,0.2472373247146606,0.2252133786678314,0.0140397734940052,-0.0699154436588287,-0.2913274168968201,-0.2013451159000397,0.0275009144097567,0.0312615446746349,0.2484695911407471));
res += mul(Get(s1,-dx,0), float4x4(-0.0517296344041824,-0.2386929541826248,-0.0580168366432190,0.2533086240291595,0.1050193533301353,-0.0240676496177912,-0.0485383272171021,-0.2556450664997101,0.3455688953399658,-0.2092380523681641,-0.0289097502827644,-0.0830543637275696,-0.2170297056436539,0.0170097444206476,0.0027900293935090,0.1597044914960861));
res += mul(Get(s2,-dx,0), float4x4(0.0924056246876717,0.1630579531192780,0.1085493788123131,0.1175380498170853,0.1117779761552811,0.0983874350786209,0.1408326476812363,-0.1028554588556290,-0.3009893298149109,-0.0203404426574707,-0.1762536168098450,0.1995914876461029,-0.2506502270698547,-0.0893564224243164,-0.2042278349399567,0.0113043403252959));
res += mul(Get(s0,-dx,dy), float4x4(0.3775988519191742,-0.0634256154298782,-0.1849079877138138,-0.1271941810846329,0.2773226797580719,0.0269475877285004,-0.3515366613864899,0.0214360132813454,-0.1167000532150269,-0.0585863068699837,-0.1274857223033905,0.0725564956665039,0.1496070921421051,0.0833035260438919,-0.0671790316700935,0.0391289778053761));
res += mul(Get(s1,-dx,dy), float4x4(0.2342877686023712,0.0209077056497335,0.0275848396122456,-0.1275185942649841,-0.1666400879621506,-0.1039136499166489,-0.2624157965183258,-0.1413865685462952,-0.2210597544908524,0.0720026120543480,0.4006550610065460,0.1499367654323578,0.1336352974176407,-0.0016837241128087,0.0204064510762691,-0.0231402348726988));
res += mul(Get(s2,-dx,dy), float4x4(0.0100659551098943,-0.0288318432867527,0.1452091932296753,0.0543602928519249,-0.3206015527248383,0.0693620443344116,-0.0896889641880989,0.0470409840345383,0.2111951559782028,0.0571153797209263,-0.5674425363540649,-0.0503492280840874,-0.1768193691968918,0.0984176471829414,0.2904487252235413,-0.2025266140699387));
res += mul(Get(s0,0,-dy), float4x4(0.4102907776832581,-0.1007224768400192,0.0891758129000664,0.0822571739554405,-0.0207182541489601,-0.0078673250973225,0.1242330968379974,-0.0715992152690887,-0.2263343781232834,-0.0163292288780212,-0.0706528201699257,0.1102771759033203,0.0792115852236748,-0.0301177669316530,0.0819860100746155,-0.0096623515710235));
res += mul(Get(s1,0,-dy), float4x4(0.1286115348339081,0.0058672223240137,-0.1129248738288879,0.0171715263277292,-0.0092243002727628,0.0124437948688865,-0.2235276401042938,-0.0757901370525360,0.0257900748401880,0.0696922764182091,0.1815007627010345,0.1812461167573929,0.0951472967863083,0.0860129520297050,0.0750770494341850,-0.0355240590870380));
res += mul(Get(s2,0,-dy), float4x4(-0.0638482421636581,0.0643271058797836,0.0092907026410103,-0.1430592536926270,-0.1888699829578400,0.0285627245903015,-0.1151667311787605,-0.0325419716536999,-0.2307591736316681,-0.0777506753802299,-0.0468164682388306,0.1500991135835648,-0.0420297570526600,0.0178507938981056,0.0470165871083736,0.0095326937735081));
res += mul(Get(s0,0,0), float4x4(-0.4632659256458282,0.2557151019573212,0.1434096544981003,-0.3487174212932587,-0.6179338097572327,-0.1611056029796600,-0.2171160578727722,-0.3724970519542694,0.0008566289907321,0.1695953756570816,-0.0517150461673737,0.3188230395317078,-0.3415895700454712,0.1841386258602142,0.2854653894901276,0.4755649566650391));
res += mul(Get(s1,0,0), float4x4(-0.2394690215587616,0.1268348246812820,0.2818193435668945,-0.5118910074234009,0.6276319622993469,-0.4060073494911194,0.3266901671886444,0.0681025162339211,-0.0048421020619571,0.0034612314775586,-0.0279826112091541,-0.1030879020690918,-0.5103310942649841,0.0739553049206734,0.0566277354955673,-0.0464615486562252));
res += mul(Get(s2,0,0), float4x4(-0.0228552557528019,0.5695431232452393,0.2799302339553833,0.1082053780555725,-0.6050543785095215,0.0037667972501367,-0.1239741742610931,0.2364600747823715,-0.4002922177314758,-0.0889509469270706,-0.1153604537248611,0.0467537231743336,-0.2211135774850845,0.1626339852809906,0.3022424280643463,-0.6828841567039490));
res += mul(Get(s0,0,dy), float4x4(0.3907929956912994,0.0942378640174866,-0.5594929456710815,-0.2611219584941864,0.2869687676429749,0.0099871549755335,-0.0686148926615715,-0.1549271792173386,0.2585365176200867,0.0718159079551697,-0.0968280956149101,-0.0112909805029631,0.0541279017925262,-0.0164856296032667,-0.4129163324832916,-0.2378229200839996));
res += mul(Get(s1,0,dy), float4x4(0.5057448148727417,0.0991148576140404,-0.0485940426588058,-0.0554944612085819,-0.3995836079120636,0.0247339084744453,0.1922582536935806,0.1420277357101440,0.1769955158233643,-0.0267442855983973,0.0845657512545586,0.0406080037355423,0.5706817507743835,0.0136877782642841,0.0606773793697357,0.0759868919849396));
res += mul(Get(s2,0,dy), float4x4(0.0848421603441238,0.1785140931606293,-0.0687391459941864,-0.2313862890005112,0.0189140159636736,0.0375117063522339,-0.2973825037479401,-0.2730122804641724,0.0093871448189020,0.0011165851028636,-0.2797179520130157,-0.1221053004264832,0.5363476872444153,-0.2456863075494766,0.5661458373069763,0.1200029551982880));
res += mul(Get(s0,dx,-dy), float4x4(0.0283599998801947,0.0188522171229124,0.0240161959081888,0.0043831504881382,-0.1021251007914543,0.0276970993727446,0.0126653937622905,0.1099763736128807,0.0481745675206184,0.0327709689736366,-0.0304864998906851,-0.0105233602225780,0.0475044548511505,-0.0066771437413990,-0.0878142938017845,-0.0030266635585576));
res += mul(Get(s1,dx,-dy), float4x4(0.0916031002998352,-0.0177859961986542,-0.0030012461356819,0.0180984381586313,-0.0480408817529678,-0.0382429398596287,-0.0965609326958656,-0.0398959778249264,0.2123155444860458,-0.0127629321068525,0.0474001951515675,-0.0291861649602652,0.2195078283548355,0.0241704806685448,0.0169402454048395,-0.0732028484344482));
res += mul(Get(s2,dx,-dy), float4x4(-0.0232947263866663,-0.0198981389403343,-0.0729937851428986,-0.0121125392615795,-0.0391432903707027,-0.0271241217851639,0.0678274929523468,-0.0453777089715004,-0.3058941662311554,-0.0900651067495346,0.0617896951735020,0.0536278635263443,-0.0462299995124340,0.0129437269642949,-0.2136289030313492,-0.0141522940248251));
res += mul(Get(s0,dx,0), float4x4(0.0168956276029348,-0.0000179074268090,-0.1114037930965424,0.1616533100605011,0.1294863522052765,0.0458944067358971,-0.1451864689588547,0.1153072714805603,-0.5426483750343323,0.0501787252724171,-0.0312388353049755,0.1978972703218460,0.0326268076896667,0.0359236896038055,0.1402766704559326,0.0528948269784451));
res += mul(Get(s1,dx,0), float4x4(0.0332931838929653,0.0114531246945262,-0.1893128603696823,0.1400028914213181,0.0068573602475226,-0.0165166594088078,0.1503752022981644,-0.2184948325157166,-0.2286883294582367,0.0259540062397718,-0.1341103762388229,0.1006294414401054,-0.0340652987360954,-0.0326488167047501,0.1244831010699272,0.1117632240056992));
res += mul(Get(s2,dx,0), float4x4(0.1285570710897446,-0.0349030792713165,-0.0160583294928074,-0.1719288975000381,-0.6375634670257568,-0.0296482648700476,-0.0960810333490372,-0.0902161002159119,-0.3934862613677979,-0.0609657019376755,0.0614111535251141,-0.0628555789589882,0.3187405169010162,-0.2074441015720367,0.1113148704171181,0.3298715353012085));
res += mul(Get(s0,dx,dy), float4x4(0.0196089688688517,-0.0000082222322817,0.0938269793987274,-0.0201349556446075,-0.0196073930710554,0.0258740577846766,0.0201404094696045,0.0736900568008423,0.2748782634735107,0.1226769760251045,-0.3055886924266815,-0.0555372945964336,0.0298171918839216,0.0054095922969282,-0.0232625994831324,0.0344372056424618));
res += mul(Get(s1,dx,dy), float4x4(0.1177202537655830,0.0104597341269255,0.1369912922382355,-0.1261063367128372,-0.0185489989817142,-0.0379867628216743,-0.1105671450495720,-0.0191037561744452,0.0929407626390457,0.0259653683751822,0.0016640459652990,-0.0269623529165983,0.0450094379484653,0.0010646143928170,0.0606183037161827,-0.0774248465895653));
res += mul(Get(s2,dx,dy), float4x4(-0.0141774844378233,-0.0842293351888657,-0.1204162836074829,-0.1309162527322769,0.1974896490573883,0.0480849556624889,-0.3189417421817780,-0.1066967844963074,-0.1464409232139587,-0.0528750196099281,-0.3329271376132965,-0.2589692175388336,0.2658622562885284,0.0173513628542423,0.7078310847282410,0.3278996348381042));
res = max(float4(0, 0, 0, 0), res) + float4(0.1028417423367500,0.9798711538314819,0.2266441434621811,0.8312467932701111) * min(float4(0, 0, 0, 0), res);
return res;
}
