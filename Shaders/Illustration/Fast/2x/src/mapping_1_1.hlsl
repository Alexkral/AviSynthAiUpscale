sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(-0.0561269111931324,0.0851937308907509,-0.0103666512295604,0.1162114664912224);
res += mul(Get(s0,-dx,-dy), float4x4(-0.1713206619024277,0.1881034970283508,-0.2671636044979095,-0.0567355453968048,-0.0477219521999359,-0.1277718842029572,0.1520464718341827,0.0386869758367538,0.0204848293215036,0.0713714957237244,-0.1202384829521179,-0.1262231022119522,-0.1717851758003235,-0.0482890419661999,0.0345594696700573,0.0286625418812037));
res += mul(Get(s1,-dx,-dy), float4x4(0.0326904207468033,-0.2059305757284164,0.0500989519059658,-0.0260347314178944,-0.1624127477407455,0.0640635043382645,0.0417972505092621,-0.0185327529907227,-0.0919941514730453,-0.0473110675811768,0.1572998017072678,0.0161225683987141,0.0437619276344776,0.0966474339365959,0.1068993210792542,-0.0520736947655678));
res += mul(Get(s2,-dx,-dy), float4x4(0.0347102060914040,0.3212744593620300,0.0327469110488892,0.0832582488656044,0.0328090600669384,0.0163494106382132,0.0082549564540386,0.0399831868708134,0.1617104560136795,-0.0366854742169380,0.0420474968850613,0.0708794444799423,0.2825925648212433,-0.4316438734531403,0.6355875134468079,0.0608546882867813));
res += mul(Get(s0,-dx,0), float4x4(-0.3216581344604492,0.3749368786811829,0.0358072444796562,0.1101876273751259,-0.0480212680995464,0.0003545348881744,0.0090265395119786,-0.0025175807531923,-0.0078728115186095,0.2781761288642883,0.1497314572334290,-0.0330224186182022,-0.3612527549266815,0.2051360160112381,0.1208507940173149,0.0793350413441658));
res += mul(Get(s1,-dx,0), float4x4(-0.0592979565262794,0.2439532279968262,0.0203593485057354,0.0719744041562080,-0.1314810365438461,-0.1530354321002960,-0.0577428340911865,0.0342721529304981,0.4004501998424530,-0.5424620509147644,-0.2893396914005280,0.0289026293903589,0.0659427270293236,0.3602302670478821,-0.4639906287193298,0.0169603303074837));
res += mul(Get(s2,-dx,0), float4x4(-0.0793026685714722,-0.1600283682346344,-0.0136600285768509,0.2071464210748672,0.4257924854755402,-0.2245888859033585,0.2612148225307465,-0.0921105369925499,0.0069059235975146,-0.1279157251119614,-0.0531643219292164,0.1399650424718857,-0.0333788022398949,-0.2395495474338531,-0.1062741503119469,0.1101628765463829));
res += mul(Get(s0,-dx,dy), float4x4(-0.2252645790576935,0.2300507575273514,0.3343990445137024,-0.1046808883547783,0.1169589012861252,0.1404447555541992,-0.0747366771101952,-0.0104209426790476,-0.0731845647096634,0.0323263667523861,0.1022629439830780,-0.0973473936319351,0.1507502794265747,0.0765845030546188,0.1110327914357185,-0.0174865536391735));
res += mul(Get(s1,-dx,dy), float4x4(-0.1570765227079391,-0.0022261368576437,0.0179232899099588,-0.0281238183379173,0.0119543680921197,0.0740123540163040,-0.0623248666524887,0.0511792115867138,-0.1614085584878922,0.2192018777132034,-0.0343688316643238,0.0394153706729412,-0.2001270502805710,-0.0858335047960281,0.2178862541913986,0.0359047502279282));
res += mul(Get(s2,-dx,dy), float4x4(0.0381579063832760,0.0114452997222543,-0.0356181077659130,-0.0313417576253414,0.1792624592781067,-0.0611542500555515,-0.1463678032159805,-0.0544506870210171,0.0405492186546326,-0.1875239908695221,-0.0551848933100700,0.0439403131604195,-0.1173117011785507,-0.0847677886486053,0.0359362959861755,0.0073020476847887));
res += mul(Get(s0,0,-dy), float4x4(-0.0400738827884197,-0.0321788899600506,-0.0921997055411339,0.0662347227334976,0.0871015265583992,0.3068453669548035,-0.1843260973691940,-0.1491932868957520,-0.0395916961133480,0.3189229965209961,0.1698705703020096,-0.0311621893197298,-0.0882354527711868,-0.2096443623304367,-0.1555977910757065,-0.0147960390895605));
res += mul(Get(s1,0,-dy), float4x4(0.0736581832170486,-0.0619139336049557,0.0263781026005745,-0.0159449633210897,0.1999006271362305,-0.2063550055027008,-0.1282272040843964,0.0331835784018040,0.3185297548770905,-0.0633375942707062,0.1713351756334305,-0.0059926933608949,-0.0206600762903690,0.4276939332485199,0.1764097511768341,0.0964968502521515));
res += mul(Get(s2,0,-dy), float4x4(-0.0311399325728416,-0.6710629463195801,0.0661722198128700,0.0331203527748585,0.4177494943141937,0.1401023417711258,0.2244518697261810,-0.0270120128989220,0.2835104465484619,0.0953585207462311,-0.1235016509890556,-0.0895445197820663,0.0928759798407555,0.3290868103504181,-0.2180461287498474,-0.0206188224256039));
res += mul(Get(s0,0,0), float4x4(0.4376817047595978,-0.6405682563781738,0.1475194096565247,-0.7431780695915222,0.0218192003667355,-0.0070260674692690,-0.3664764761924744,0.0481396913528442,0.4342137575149536,-0.0585838593542576,0.4341152310371399,0.5788357853889465,-0.1713691651821136,0.1829243302345276,0.4439112842082977,-0.1674285829067230));
res += mul(Get(s1,0,0), float4x4(-0.0376403480768204,-0.5554497241973877,0.1280919909477234,-0.0671068504452705,0.3221182525157928,-0.1516596972942352,0.1545992046594620,0.5043414831161499,-0.5231586694717407,-0.0658282265067101,-0.1607863456010818,0.0339371152222157,0.9328795075416565,-0.0789424031972885,-0.1845894753932953,-0.2980244159698486));
res += mul(Get(s2,0,0), float4x4(-0.5973154306411743,1.5703384876251221,0.7914305925369263,-0.1796433478593826,-0.2618905603885651,0.6770218014717102,-0.0697835087776184,-0.3031571805477142,0.5823160409927368,-0.2813962101936340,-0.2623822391033173,-0.4119572341442108,-0.5017940998077393,-0.0709573552012444,-0.2709666788578033,-0.0227008368819952));
res += mul(Get(s0,0,dy), float4x4(-0.1097298115491867,-0.0022640333045274,-0.0382759720087051,0.1673468649387360,-0.0851710364222527,-0.0935378670692444,-0.0254948474466801,0.0707105547189713,-0.0726725906133652,0.1401925534009933,-0.1573659032583237,-0.0215573459863663,0.0103842299431562,0.0388709008693695,-0.0963954031467438,-0.0737150087952614));
res += mul(Get(s1,0,dy), float4x4(-0.1305168569087982,-0.1998822540044785,0.1596565842628479,0.1190984696149826,0.0518925376236439,-0.0582950152456760,-0.1786891072988510,-0.0383830256760120,-0.1615467816591263,0.2236877232789993,0.0776577442884445,0.0418560989201069,-0.3440692722797394,0.3335344791412354,0.0110108060762286,0.1476593464612961));
res += mul(Get(s2,0,dy), float4x4(-0.3754603564739227,-0.3130444288253784,-0.1638092994689941,0.1905949264764786,0.0821631178259850,-0.3444229364395142,-0.1654515415430069,0.0965727493166924,-0.0264964960515499,0.3770565688610077,0.2712796926498413,0.0415007732808590,0.2101556956768036,0.7890577316284180,0.6862779855728149,-0.0997049584984779));
res += mul(Get(s0,dx,-dy), float4x4(0.0517692640423775,0.0426039174199104,0.0298241637647152,-0.0616311207413673,-0.0138835469260812,-0.2509479820728302,-0.1290707588195801,-0.0325998216867447,-0.1448743641376495,-0.0187485814094543,-0.2944482564926147,0.0468565747141838,0.2211565524339676,-0.2719098329544067,0.1278805136680603,0.0460322983562946));
res += mul(Get(s1,dx,-dy), float4x4(0.0917272940278053,0.0799524337053299,0.0521193817257881,0.0453625731170177,-0.0937714353203773,-0.0758711174130440,0.1566274017095566,-0.0592998899519444,0.0965066924691200,0.2549118697643280,0.1741052716970444,0.0672759115695953,0.1962995082139969,-0.4256085753440857,0.0386135019361973,0.0765378028154373));
res += mul(Get(s2,dx,-dy), float4x4(0.1575961858034134,-0.1734751313924789,0.1313986480236053,-0.0346855670213699,-0.1990322917699814,-0.1485686302185059,0.0615135468542576,0.0055138184688985,-0.0600959137082100,-0.2923437952995300,0.0983327478170395,-0.0166921019554138,-0.3504271805286407,-0.0818333253264427,0.2438294440507889,0.0207921229302883));
res += mul(Get(s0,dx,0), float4x4(0.2852750122547150,-0.1274096667766571,0.2517722249031067,0.0125509789213538,0.0225032456219196,0.3901507854461670,0.0151677364483476,-0.0419381372630596,0.0527816563844681,-0.2752437293529510,0.0219826716929674,-0.1191914156079292,-0.2088142484426498,0.2862358987331390,0.0339471362531185,0.1394810080528259));
res += mul(Get(s1,dx,0), float4x4(0.0396710522472858,0.3172281384468079,-0.0927704647183418,0.1112478598952293,0.0161631926894188,0.0052912957035005,0.0700614899396896,0.0668139308691025,-0.0285121742635965,0.0096067674458027,0.0430829077959061,0.0228304155170918,0.1180650293827057,-0.0239273477345705,0.0587592571973801,-0.0372439473867416));
res += mul(Get(s2,dx,0), float4x4(0.0893556997179985,-0.2125749588012695,-0.2179753482341766,0.0866567566990852,-0.3792367875576019,0.0696678906679153,-0.2552371621131897,0.1037003174424171,-0.1320210248231888,-0.2185283750295639,-0.2120669037103653,0.0826294869184494,-0.2874048650264740,0.4280651211738586,-0.0966590121388435,0.1068304032087326));
res += mul(Get(s0,dx,dy), float4x4(0.1276164054870605,-0.1997198015451431,-0.0621995143592358,-0.1093860045075417,0.1658921837806702,-0.1678087711334229,-0.1057914718985558,-0.0029603694565594,0.3133622705936432,-0.1043827533721924,-0.0804190263152122,-0.0884276032447815,0.1021085679531097,-0.3033294081687927,-0.2320841550827026,-0.0050693675875664));
res += mul(Get(s1,dx,dy), float4x4(0.0716589093208313,-0.0262577291578054,0.1542805135250092,0.0530594997107983,0.0343989990651608,-0.0400356128811836,0.1608793437480927,-0.0038579143583775,0.3125852048397064,0.0662964954972267,0.0880993977189064,-0.0953052788972855,0.2114838510751724,-0.4974759817123413,-0.0617203973233700,0.1374150216579437));
res += mul(Get(s2,dx,dy), float4x4(0.1757043600082397,-0.0986676067113876,0.1688662469387054,0.0869439393281937,-0.1215718537569046,0.1132798120379448,-0.0834170952439308,-0.0192150417715311,0.2648360729217529,-0.1478563100099564,0.0572052672505379,0.0645237267017365,0.0703691691160202,-0.4217060804367065,0.0706566199660301,0.0276975613087416));
res = max(float4(0, 0, 0, 0), res) + float4(0.8749172091484070,-0.6152225136756897,0.5849454402923584,1.1668908596038818) * min(float4(0, 0, 0, 0), res);
return res;
}
