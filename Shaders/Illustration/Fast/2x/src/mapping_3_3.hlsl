sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0.1152379587292671,0.0030768136493862,0.0796865895390511,0.0275258049368858);
res += mul(Get(s0,-dx,-dy), float4x4(-0.0382820777595043,0.0019708066247404,0.0486718937754631,-0.2033016234636307,0.0119743198156357,0.0727457702159882,-0.2948224544525146,0.2629618644714355,-0.1305788606405258,0.1580283641815186,-0.2174317538738251,-0.1335281133651733,0.0282093230634928,-0.0910985320806503,-0.0249718278646469,0.1040746048092842));
res += mul(Get(s1,-dx,-dy), float4x4(0.0752692967653275,-0.1066727191209793,-0.0161421131342649,-0.1809224039316177,0.0648352652788162,-0.0403743460774422,-0.0556386224925518,-0.1603457182645798,-0.0361359752714634,0.0862804651260376,0.0564536713063717,-0.0961655303835869,0.0407604277133942,-0.0483077429234982,-0.1176755651831627,-0.0086824838072062));
res += mul(Get(s2,-dx,-dy), float4x4(0.0549444481730461,-0.0684727355837822,-0.0009124750504270,-0.1313270777463913,0.0058550164103508,0.0069200545549393,0.1076493561267853,-0.0462840832769871,-0.0470726266503334,0.0044733537361026,-0.0976955667138100,0.0313068591058254,0.0094865849241614,-0.0163715630769730,-0.0352915786206722,0.2525789439678192));
res += mul(Get(s0,-dx,0), float4x4(-0.0585740171372890,0.0205642413347960,0.0831431224942207,-0.5365234017372131,0.0872293785214424,-0.2096923887729645,0.4610486924648285,-0.0797413438558578,-0.1367797851562500,0.2477432489395142,-0.3569824397563934,-0.3689946532249451,0.0618330240249634,0.0095665352419019,-0.2295600622892380,-0.5880101323127747));
res += mul(Get(s1,-dx,0), float4x4(-0.0197685305029154,0.0233184862881899,0.0703903213143349,0.1552208960056305,0.0782419070601463,-0.2189250141382217,0.0186163354665041,-0.1917190849781036,-0.0044333706609905,-0.0464177913963795,0.2858194112777710,-0.3352068662643433,0.1396550089120865,-0.3548042774200439,-0.6399648189544678,0.0493926592171192));
res += mul(Get(s2,-dx,0), float4x4(-0.0181926060467958,-0.1363787502050400,0.1075256466865540,0.2287946343421936,0.0257912408560514,0.0948898941278458,-0.1761066913604736,-0.3292276561260223,0.1212408989667892,-0.0951637923717499,-0.5669019818305969,-0.3301439285278320,-0.0933853611350060,0.2139942795038223,-0.0679430067539215,0.0808149799704552));
res += mul(Get(s0,-dx,dy), float4x4(-0.0895415097475052,0.1181542873382568,0.1690759956836700,-0.1823889911174774,0.0278614386916161,0.0331437140703201,-0.0428375527262688,0.0713491514325142,0.0282658524811268,-0.0415749996900558,-0.2893546819686890,-0.1760497391223907,-0.0693383142352104,0.0746401399374008,-0.1369363218545914,0.0668557733297348));
res += mul(Get(s1,-dx,dy), float4x4(0.0557186603546143,-0.1579189002513885,-0.2496146261692047,-0.0424829646945000,-0.0085166469216347,0.0956965088844299,-0.1932659149169922,0.0524863749742508,0.0418173819780350,0.0316399559378624,-0.0191318709403276,0.1699874550104141,0.0272500179708004,0.0115191843360662,-0.2405396699905396,-0.0604521855711937));
res += mul(Get(s2,-dx,dy), float4x4(0.0271666999906301,0.0122004644945264,-0.1669938117265701,0.2310013324022293,-0.0371118485927582,0.0100568579509854,-0.0588610954582691,-0.0127288941293955,-0.0998348817229271,0.1564900428056717,-0.0074263596907258,0.3513077497482300,0.0695173367857933,-0.2292835861444473,-0.0750721469521523,-0.2550974786281586));
res += mul(Get(s0,0,-dy), float4x4(0.0005580659490079,-0.0227961726486683,-0.0638524070382118,-0.0346209667623043,-0.1317015141248703,0.0245855841785669,-0.5485956668853760,0.1849711537361145,0.1762568652629852,-0.0117056155577302,-0.0491450428962708,-0.3065274357795715,-0.1062281653285027,0.3970716297626495,0.1040255725383759,-0.2061874419450760));
res += mul(Get(s1,0,-dy), float4x4(0.1163653507828712,-0.1382415145635605,-0.0616308413445950,0.0829793885350227,-0.0365981459617615,-0.0129597159102559,-0.1811298429965973,0.0669482648372650,0.1109260544180870,-0.0855916142463684,-0.3822603225708008,-0.2753138542175293,0.0117648504674435,-0.1017543822526932,0.1670069396495819,0.2618218362331390));
res += mul(Get(s2,0,-dy), float4x4(0.0315121151506901,0.0042461608536541,0.3171094655990601,-0.0255042705684900,-0.0782027989625931,-0.0316233448684216,-0.0294872783124447,-0.2537675201892853,-0.1163743361830711,0.1251121014356613,0.0117199886590242,0.0433930233120918,-0.0671881511807442,-0.1478172540664673,-0.1731426268815994,0.2530525326728821));
res += mul(Get(s0,0,0), float4x4(0.2743439078330994,0.2640195190906525,0.1749958693981171,0.4254962801933289,0.8060117959976196,0.5447643399238586,0.5254827737808228,0.1813200116157532,0.4966041445732117,-0.4448853731155396,-0.1878504753112793,0.4378359019756317,0.1562258601188660,0.2021689563989639,-0.3219324052333832,-0.3588802516460419));
res += mul(Get(s1,0,0), float4x4(0.0886565223336220,-0.4214169681072235,0.0091919908300042,0.4048271179199219,-0.1349055022001266,0.0399053394794464,0.4879906475543976,-0.0534666776657104,0.7846478819847107,-0.3375993669033051,-0.2520803213119507,0.1262379735708237,-0.1173738762736320,0.3962009847164154,0.3081301450729370,-0.2599407136440277));
res += mul(Get(s2,0,0), float4x4(-0.0478233285248280,-0.1746399849653244,0.0532735325396061,0.0246979724615812,-0.1157612800598145,0.0698976442217827,-0.6056645512580872,0.1628726273775101,0.5900906920433044,0.0481063649058342,-0.0438344590365887,0.4054274857044220,0.0542880035936832,0.1287881582975388,0.0133037809282541,-0.0088382409885526));
res += mul(Get(s0,0,dy), float4x4(0.0573011189699173,-0.0993994176387787,-0.0808021128177643,0.1045122593641281,-0.0859777927398682,-0.1933971941471100,0.0491116717457771,-0.0199533104896545,0.1625543385744095,-0.1882907450199127,-0.0747624337673187,-0.2313480079174042,0.0481247976422310,0.1358098834753036,0.1084443330764771,-0.0114255761727691));
res += mul(Get(s1,0,dy), float4x4(0.1003750935196877,0.0251401383429766,-0.3598974347114563,-0.2977345883846283,0.0198028311133385,-0.1934209913015366,-0.0283800251781940,-0.0291608795523643,-0.1781637966632843,-0.0823260843753815,0.2024455517530441,0.2350262999534607,-0.0141249122098088,0.0201358329504728,0.1451936811208725,0.3440383076667786));
res += mul(Get(s2,0,dy), float4x4(0.0130585739389062,-0.0948126390576363,-0.0361814126372337,-0.0277714636176825,-0.0356063693761826,-0.0461899936199188,-0.0541785545647144,-0.2789395153522491,-0.0583661384880543,-0.0246672928333282,0.2510171830654144,-0.1973798573017120,0.0768895968794823,0.0336030870676041,-0.1112291738390923,0.1119833663105965));
res += mul(Get(s0,dx,-dy), float4x4(-0.0167004056274891,0.1048898622393608,0.0900990813970566,0.0058274334296584,-0.0043766521848738,-0.1354038864374161,-0.0059583787806332,0.0497974120080471,0.0167046356946230,-0.1012523621320724,0.2050390839576721,0.0232424084097147,0.0436735078692436,-0.0978351756930351,-0.0820156931877136,0.0262490510940552));
res += mul(Get(s1,dx,-dy), float4x4(-0.0091615775600076,-0.0796858593821526,-0.1997127830982208,-0.0837540253996849,0.0167076755315065,-0.0631177648901939,-0.0241210348904133,0.0502602830529213,-0.0548299141228199,-0.0971390455961227,0.1556471288204193,0.0140377972275019,0.0705821737647057,-0.0758605077862740,0.0040476224385202,-0.0991468206048012));
res += mul(Get(s2,dx,-dy), float4x4(-0.0002987808547914,0.0047941231168807,0.0091663673520088,0.0400840416550636,-0.0106261335313320,0.1224219501018524,0.0199322383850813,0.0020584468729794,0.0852051079273224,-0.0906752422451973,-0.0948650091886520,0.0779878497123718,-0.0206951908767223,0.0699445232748985,0.0661093518137932,-0.0441336371004581));
res += mul(Get(s0,dx,0), float4x4(0.3373286128044128,-0.0445542521774769,-0.0996634662151337,0.0858401954174042,0.0064968261867762,-0.0215185787528753,0.0955532863736153,0.0290642362087965,-0.0972811952233315,-0.2199339866638184,0.2193540632724762,0.0618896149098873,-0.1178838983178139,-0.1981695294380188,-0.1021237745881081,0.0593339875340462));
res += mul(Get(s1,dx,0), float4x4(-0.0388757549226284,0.1028922349214554,0.1247575134038925,-0.0427744723856449,-0.1672588586807251,-0.0117612387984991,-0.0886641144752502,-0.0336105562746525,0.0711138620972633,-0.1856350749731064,0.1827465593814850,0.0657834336161613,0.1287735700607300,-0.0157347694039345,-0.1661705225706100,-0.0845497697591782));
res += mul(Get(s2,dx,0), float4x4(0.0233451128005981,-0.0134880272671580,-0.0262231174856424,0.0910732969641685,-0.0599649250507355,0.2073885053396225,0.0756242126226425,-0.0135014113038778,0.0376371107995510,0.0029143216088414,0.0781583562493324,0.2250009477138519,0.1192362681031227,-0.0910567343235016,0.1122102439403534,0.0272207874804735));
res += mul(Get(s0,dx,dy), float4x4(0.0008087261812761,-0.0311002116650343,-0.0779327452182770,-0.0458319112658501,0.0218291673809290,0.1812336444854736,-0.0849180892109871,-0.0752289518713951,-0.0501570552587509,-0.0811558067798615,0.2130346000194550,-0.0639296248555183,0.0466638691723347,0.0736613944172859,-0.1155473068356514,0.0566465258598328));
res += mul(Get(s1,dx,dy), float4x4(-0.0880090892314911,-0.2332467138767242,-0.2708078920841217,0.0521499179303646,-0.0496503524482250,0.0770107880234718,-0.0651909261941910,-0.0490125976502895,0.0268160328269005,0.0588464178144932,0.0830517113208771,0.1246168166399002,0.0459850095212460,-0.0719619467854500,-0.0662631392478943,0.1494159102439880));
res += mul(Get(s2,dx,dy), float4x4(0.0282163359224796,0.0033832066692412,-0.0839483961462975,-0.0052079590968788,-0.0395070724189281,0.0877491906285286,-0.0670672133564949,-0.1375546157360077,0.0360466837882996,0.0049781403504312,-0.0698971599340439,-0.1362220346927643,-0.0736400038003922,-0.0725228190422058,0.0539532378315926,0.0089016975834966));
res = max(float4(0, 0, 0, 0), res) + float4(1.0027554035186768,0.9852658510208130,0.0165131278336048,0.2053267061710358) * min(float4(0, 0, 0, 0), res);
return res;
}
