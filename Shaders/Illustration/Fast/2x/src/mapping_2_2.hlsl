sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0.1345573961734772,-0.0861465483903885,0.1066838130354881,0.0087250638753176);
res += mul(Get(s0,-dx,-dy), float4x4(-0.0172694139182568,-0.0608318522572517,0.1256627589464188,-0.0439820103347301,0.2023865878582001,-0.0042454437352717,-0.0653501227498055,0.0362696386873722,-0.1834678500890732,-0.0910494700074196,-0.2313567996025085,-0.2633504569530487,0.0907213613390923,-0.0356063395738602,0.0710823237895966,0.0721930041909218));
res += mul(Get(s1,-dx,-dy), float4x4(0.0525290668010712,0.1245468482375145,-0.0992324948310852,-0.0049357991665602,-0.1941849291324615,0.1342090666294098,-0.0980853587388992,0.0259907543659210,-0.1622529029846191,-0.1078474521636963,-0.0441188588738441,0.0764345973730087,0.1246958374977112,0.0025329750496894,0.0198894329369068,0.0112451082095504));
res += mul(Get(s2,-dx,-dy), float4x4(-0.0654224380850792,-0.0070857666432858,-0.0448548905551434,-0.0212300289422274,0.0593694038689137,0.0027750814333558,-0.2390020191669464,0.0281118601560593,-0.0159191507846117,-0.0629428923130035,0.0278530269861221,-0.0473277755081654,-0.3621369004249573,-0.1605202704668045,0.1874628067016602,-0.0401959866285324));
res += mul(Get(s0,-dx,0), float4x4(-0.3201954364776611,-0.1112833023071289,-0.0711720585823059,0.0901404470205307,0.3848653137683868,-0.0763986185193062,0.0972062870860100,0.0008148418273777,-0.2647673487663269,0.2048864662647247,0.1185931339859962,-0.0549710355699062,-0.0427320934832096,-0.1190699562430382,0.0227000322192907,0.1770395934581757));
res += mul(Get(s1,-dx,0), float4x4(0.0538413971662521,-0.1899016201496124,-0.0008127831970342,-0.0628799200057983,0.2291928380727768,0.1190576925873756,0.2893470227718353,-0.1331217736005783,0.0394368842244148,0.0484338812530041,0.1521828770637512,0.3466621339321136,0.1113193780183792,0.0390045531094074,0.0635287761688232,0.0955436378717422));
res += mul(Get(s2,-dx,0), float4x4(0.2154323905706406,0.0310581158846617,0.0757469311356544,0.0362099371850491,0.0155240399762988,0.0268201678991318,-0.1586024016141891,0.0425965301692486,-0.0849851071834564,-0.0302733927965164,-0.0932896211743355,-0.1474093496799469,-0.6765774488449097,-0.2356386333703995,0.2180595248937607,0.0131059540435672));
res += mul(Get(s0,-dx,dy), float4x4(0.1941344588994980,0.2283698171377182,0.1714631468057632,0.1166704520583153,0.3802621662616730,0.0856704637408257,-0.0598227046430111,-0.0475919283926487,0.1664538383483887,0.0843278616666794,-0.0799758732318878,-0.0169919244945049,-0.0163186434656382,0.1075510755181313,0.1482218801975250,0.1428644061088562));
res += mul(Get(s1,-dx,dy), float4x4(-0.1924716979265213,0.0355532541871071,0.1110515892505646,-0.1547711193561554,-0.3401740789413452,-0.0800982564687729,0.1824802160263062,-0.0547185838222504,0.1207039058208466,-0.0400864705443382,0.0288616083562374,0.0437407009303570,0.1294413208961487,-0.2097534686326981,0.0644577965140343,-0.0205758325755596));
res += mul(Get(s2,-dx,dy), float4x4(0.1124305352568626,-0.0122817847877741,0.0616262145340443,0.0651684626936913,0.0194065887480974,-0.0005492549389601,-0.0906459614634514,0.0106701804324985,0.0071265646256506,0.1289457231760025,0.0713868215680122,0.0091339424252510,-0.5591478943824768,0.0357082560658455,0.0395110212266445,0.1038807854056358));
res += mul(Get(s0,0,-dy), float4x4(-0.5444989800453186,-0.1453183591365814,0.2945365905761719,-0.1074607968330383,-0.1314418464899063,0.2352065443992615,0.1364537626504898,-0.0802270844578743,0.1159362941980362,0.1003894880414009,-0.0476093739271164,0.3276410698890686,0.1690954715013504,0.2944145202636719,-0.2867114543914795,0.0917347669601440));
res += mul(Get(s1,0,-dy), float4x4(-0.4986802637577057,-0.2018690556287766,0.0626849830150604,-0.0099514797329903,0.0907648727297783,0.0661033391952515,-0.1247258484363556,0.2099121063947678,0.3232614398002625,-0.2005373388528824,-0.1571572870016098,-0.2209566235542297,-0.1044417023658752,0.0176815502345562,-0.0218375436961651,-0.0016596368514001));
res += mul(Get(s2,0,-dy), float4x4(0.0513442195951939,-0.0637276768684387,-0.0227501988410950,0.0138383572921157,-0.0470759607851505,-0.0576868802309036,-0.2718238234519958,-0.0588991269469261,-0.2460268288850784,0.1886048614978790,0.0146394008770585,0.1007623896002769,-0.2706322968006134,-0.2164521068334579,0.1679645776748657,-0.0268187224864960));
res += mul(Get(s0,0,0), float4x4(0.1331472247838974,-0.1910771131515503,-0.4205669164657593,0.3477052450180054,0.0607268065214157,-0.0412405692040920,0.4376974701881409,0.0997517332434654,-0.0387244373559952,-0.7486350536346436,0.5100974440574646,0.1387226581573486,0.4479487240314484,-0.0293751284480095,0.5961859226226807,0.0107602542266250));
res += mul(Get(s1,0,0), float4x4(0.2793890535831451,0.5904203057289124,0.1599421352148056,0.3011316657066345,-0.3584983050823212,0.1999328732490540,-0.3512195944786072,0.1581817567348480,-0.5572949647903442,0.2762014865875244,-0.3383673131465912,-1.0343111753463745,-0.0582665428519249,0.1252410113811493,0.0612501055002213,-0.0186129882931709));
res += mul(Get(s2,0,0), float4x4(-0.2545678019523621,0.0495000556111336,-0.2794860899448395,-0.0834465846419334,0.1815281808376312,-0.1060706153512001,-0.5456954240798950,0.0069432933814824,-0.2646338343620300,0.3224687576293945,-0.2036981433629990,0.1731255948543549,-0.7458115220069885,-0.1542993485927582,0.1468929499387741,0.0931740626692772));
res += mul(Get(s0,0,dy), float4x4(-0.4383564293384552,0.1585407853126526,0.0153664974495769,-0.0190309248864651,0.2015319019556046,0.1705334931612015,-0.0402447283267975,-0.0508435033261776,0.2788273692131042,0.3019174039363861,0.0034672201145440,0.1009973809123039,-0.1113920733332634,-0.0796230360865593,-0.0693331658840179,-0.1240369528532028));
res += mul(Get(s1,0,dy), float4x4(-0.1001818850636482,-0.1571745425462723,0.2910098135471344,0.0563190989196301,0.0033574022818357,-0.1408688127994537,0.0774494633078575,0.0370372086763382,0.4081221520900726,0.1167331710457802,0.1449549645185471,0.0983228236436844,0.5528820157051086,-0.0829947963356972,0.0493474602699280,-0.1142605319619179));
res += mul(Get(s2,0,dy), float4x4(-2.0726649761199951,0.5992847084999084,0.3609526753425598,-0.0189664680510759,0.1870275139808655,0.0783252418041229,-0.1183648779988289,0.0173956807702780,-0.0690340921282768,-0.0735979601740837,0.0298099163919687,-0.0630194246768951,-0.5115929841995239,-0.0988765582442284,0.2029060870409012,-0.0384595729410648));
res += mul(Get(s0,dx,-dy), float4x4(0.0490316897630692,0.0793187394738197,0.0444410592317581,-0.0969026386737823,0.1416113227605820,0.0452169142663479,0.0057498915120959,-0.0573320388793945,-0.3179756402969360,0.0841168537735939,-0.0752308890223503,0.0470059327781200,0.0287503022700548,-0.1661564707756042,0.1465138792991638,0.0387549325823784));
res += mul(Get(s1,dx,-dy), float4x4(-0.2827250063419342,0.2309006899595261,-0.0467532314360142,0.0848193466663361,-0.0887338817119598,0.1877998560667038,0.0834337770938873,-0.0137664470821619,-0.0921966508030891,0.1520127207040787,0.0113455941900611,-0.0091283097863197,0.0252736844122410,0.0265234485268593,-0.0159532111138105,0.0336911901831627));
res += mul(Get(s2,dx,-dy), float4x4(0.0007934262393974,0.0133112668991089,0.0017505624564365,0.0573783144354820,-0.0072647882625461,0.1000762581825256,-0.0858310386538506,0.0311525687575340,0.0455911681056023,-0.0837961062788963,-0.0586662329733372,-0.0473907701671124,-0.4390395581722260,0.0202321168035269,0.0136419711634517,-0.1685347110033035));
res += mul(Get(s0,dx,0), float4x4(0.3499604463577271,0.0109609737992287,0.0244571994990110,0.2337908893823624,0.0367853790521622,0.0178893618285656,0.1310279071331024,0.0915640071034431,-0.3586062788963318,-0.0290456265211105,0.1529885083436966,-0.1582205742597580,-0.0874878466129303,0.1386211961507797,-0.0748554691672325,-0.4038273096084595));
res += mul(Get(s1,dx,0), float4x4(-0.1628151535987854,-0.1483362466096878,-0.0823851376771927,-0.1676370948553085,-0.4834270179271698,0.2953662574291229,-0.2205535620450974,0.1071591973304749,0.2582354545593262,-0.1179190129041672,0.1034807637333870,0.2637704014778137,0.1151111796498299,0.0631330758333206,-0.0197382103651762,0.0479971468448639));
res += mul(Get(s2,dx,0), float4x4(-0.0867844671010971,-0.0984546542167664,0.1342548877000809,0.0030075218528509,-0.5203898549079895,0.0351362302899361,-0.4098811745643616,0.0703160911798477,-0.3090893030166626,0.1549855619668961,0.1062306314706802,0.0363027639687061,-0.5084804296493530,-0.2522244751453400,0.0821842402219772,-0.0012375380611047));
res += mul(Get(s0,dx,dy), float4x4(0.0664738640189171,0.1101344153285027,-0.0039184517227113,-0.0168578065931797,0.0131135238334537,0.1461569666862488,0.1161154136061668,0.0477173775434494,-0.2053490877151489,-0.0171835385262966,-0.0367188528180122,0.1592612564563751,-0.2217044979333878,-0.0837534666061401,-0.1184706091880798,-0.0965207889676094));
res += mul(Get(s1,dx,dy), float4x4(-0.1227214336395264,0.0013486144598573,-0.0313344150781631,0.0695451423525810,0.1940503716468811,0.1584815680980682,0.3018857836723328,-0.1402311921119690,-0.0062298271805048,-0.0134157193824649,-0.0201928615570068,0.1296182572841644,0.2042900919914246,0.0499152280390263,-0.0149592291563749,0.1285450309514999));
res += mul(Get(s2,dx,dy), float4x4(-0.2376073151826859,0.0400321483612061,-0.2392675131559372,0.1179438605904579,0.1427405923604965,-0.1388596743345261,-0.0326974466443062,0.0160798989236355,-0.0171603076159954,-0.1170201450586319,-0.0141256731003523,0.0578890815377235,-0.3393625020980835,-0.1334709674119949,0.0326325930655003,-0.0185272246599197));
res = max(float4(0, 0, 0, 0), res) + float4(0.2646704614162445,3.2197368144989014,1.0315001010894775,-1.0964853763580322) * min(float4(0, 0, 0, 0), res);
return res;
}
