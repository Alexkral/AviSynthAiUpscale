sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(-0.0012934784172103,0.0381329730153084,0.0476191602647305,0.1393873691558838);
res += mul(Get(s0,-dx,-dy), float4x4(0.0205158703029156,-0.2266945540904999,-0.0368409045040607,0.0066405748948455,-0.0772147178649902,0.0879424363374710,-0.0536612160503864,0.0693023428320885,0.0406254604458809,0.0334864780306816,0.0503050014376640,-0.0317254625260830,-0.0874680206179619,-0.1496954560279846,0.2406467348337173,0.0841074213385582));
res += mul(Get(s1,-dx,-dy), float4x4(-0.0593455396592617,-0.1272437870502472,0.1856634914875031,-0.2081603258848190,-0.0931601226329803,-0.0137968296185136,0.0254446696490049,-0.0481577962636948,0.0032335801515728,0.1030008643865585,0.0105083538219333,-0.0339923165738583,0.0460666529834270,0.0564148947596550,-0.0816297531127930,0.0382056348025799));
res += mul(Get(s2,-dx,-dy), float4x4(-0.0209030527621508,0.0327516272664070,0.0259548351168633,-0.0370645336806774,0.0807316899299622,-0.0939381420612335,0.0397887565195560,-0.0981123745441437,0.0421040877699852,-0.1728639602661133,0.3547073304653168,0.0004280805296730,0.0326823033392429,0.0790462344884872,-0.0589863918721676,-0.0165549870580435));
res += mul(Get(s0,-dx,0), float4x4(0.1498564332723618,-0.2297966331243515,-0.2015133500099182,-0.1384037882089615,-0.0295940171927214,0.2821747660636902,-0.8424122333526611,-0.0787088572978973,0.0824167802929878,-0.0099422726780176,-0.1337243467569351,-0.1658649444580078,-0.0281728431582451,-0.0771255046129227,0.0683195888996124,-0.2009491622447968));
res += mul(Get(s1,-dx,0), float4x4(0.0319195874035358,-0.1175847873091698,0.1250180304050446,-0.2301917523145676,0.0202140491455793,-0.0311724934726954,-0.2333473265171051,0.0312896370887756,-0.0047491383738816,0.1919146329164505,-0.3832737803459167,-0.0056977253407240,-0.1506661027669907,0.0402133390307426,-0.1924686729907990,0.2819782793521881));
res += mul(Get(s2,-dx,0), float4x4(0.0425976254045963,-0.0191697739064693,-0.0211464054882526,0.1260265707969666,-0.0127552049234509,-0.1910614222288132,0.1210195720195770,-0.1315549165010452,-0.0331696830689907,-0.0198500901460648,0.0921895429491997,-0.2133122980594635,-0.0061870450153947,0.0362501591444016,-0.0818407535552979,0.0888328030705452));
res += mul(Get(s0,-dx,dy), float4x4(0.0246037226170301,-0.0414058230817318,0.0099636130034924,0.0584514364600182,-0.0101392921060324,-0.0228528901934624,-0.2386608421802521,-0.0519548244774342,0.0249659325927496,-0.3934122622013092,-0.1838982850313187,0.0895372107625008,-0.0301356762647629,0.1311379522085190,-0.0265482477843761,0.0418368838727474));
res += mul(Get(s1,-dx,dy), float4x4(-0.0298665408045053,-0.0042453352361917,-0.1289127469062805,0.0343265160918236,-0.0261778384447098,0.0176882799714804,0.0503297075629234,-0.0582662150263786,-0.0281762499362230,-0.2161286175251007,-0.0494112260639668,0.0354863852262497,-0.1000040397047997,0.5524458885192871,0.0308397896587849,-0.0608309619128704));
res += mul(Get(s2,-dx,dy), float4x4(0.0107680764049292,-0.0372653156518936,-0.0549561716616154,0.0107916919514537,0.0757212415337563,-0.0516743697226048,-0.0278835501521826,0.0381610542535782,0.0096775041893125,0.1030499860644341,0.2456727474927902,-0.0071324575692415,-0.0005521437269635,0.0891647636890411,-0.2271426171064377,-0.0244539864361286));
res += mul(Get(s0,0,-dy), float4x4(-0.0575493238866329,-0.0755687952041626,-0.0704060718417168,0.0181398391723633,0.1039915159344673,0.1290008574724197,-0.0083313547074795,0.1364537477493286,-0.0138496998697519,0.0508097559213638,-0.0991057008504868,-0.1651232391595840,-0.1531048417091370,-0.3588137030601501,-0.2590390741825104,0.1322531998157501));
res += mul(Get(s1,0,-dy), float4x4(-0.4623233973979950,-0.2137779146432877,0.0942046567797661,0.2837128043174744,-0.1204157099127769,-0.1449901759624481,0.1393122524023056,0.0223562344908714,-0.1550662964582443,-0.1523900926113129,0.2642030417919159,-0.0394704937934875,0.2060944885015488,0.0546963475644588,0.1455267518758774,-0.0477039031684399));
res += mul(Get(s2,0,-dy), float4x4(-0.0226998608559370,-0.1292786747217178,0.0662717670202255,-0.0100023159757257,-0.3503480255603790,-0.0432025752961636,0.1256237328052521,0.3559815883636475,-0.0038611369673163,0.0401654504239559,0.2404744625091553,-0.0315813347697258,0.2110630571842194,0.2710186839103699,0.0419152043759823,0.0380816720426083));
res += mul(Get(s0,0,0), float4x4(0.3510754406452179,0.3752620518207550,-0.1203780770301819,0.1148014813661575,0.0140426633879542,-0.6102778911590576,-0.1488991975784302,0.1799275726079941,0.1179138422012329,0.2127436101436615,0.0764719471335411,-0.2036420255899429,0.2888495624065399,-0.6575734615325928,-0.0154300332069397,0.2086766958236694));
res += mul(Get(s1,0,0), float4x4(0.1954983323812485,-0.1517537087202072,0.2377812117338181,-0.4590181112289429,0.4034706056118011,-0.1242877915501595,-0.0175359006971121,-0.1795012801885605,0.2595300376415253,-0.5445087552070618,1.0548218488693237,0.1324958801269531,0.0257154293358326,0.2513662278652191,-0.0781703516840935,-0.1836100518703461));
res += mul(Get(s2,0,0), float4x4(0.3657085597515106,0.0918350666761398,0.1336385458707809,-0.1820060908794403,-0.1482989192008972,0.1721843183040619,0.1199318915605545,-0.2389805465936661,-0.1366593986749649,0.4251467585563660,0.4041388332843781,0.3609256446361542,-0.2690302133560181,-0.0594207420945168,-0.0702205970883369,0.0711215659976006));
res += mul(Get(s0,0,dy), float4x4(0.1259111762046814,0.0990883409976959,0.0527389571070671,0.0451600179076195,0.2139856666326523,0.3061734735965729,-0.2125480920076370,0.2159751653671265,-0.1843059659004211,-0.0555225349962711,-0.1901504844427109,-0.0752476602792740,-0.0160608645528555,0.1369728147983551,0.0876963734626770,-0.0034594025928527));
res += mul(Get(s1,0,dy), float4x4(-0.0554284527897835,-0.2474309802055359,0.1574543863534927,0.0613440908491611,0.0100886272266507,-0.1107785329222679,0.0371526218950748,0.2437356412410736,0.0164600796997547,0.2949704527854919,0.5628025531768799,-0.1775102615356445,0.1714706122875214,0.5823231339454651,0.2486009299755096,-0.0243758354336023));
res += mul(Get(s2,0,dy), float4x4(0.0177421253174543,0.3201713562011719,0.1585563570261002,-0.0311633311212063,-0.0114046735689044,-0.0873015150427818,-0.0661198049783707,0.0412186421453953,0.0810332298278809,0.0782708078622818,-0.4796423316001892,0.4049127399921417,-0.0189664382487535,-0.0247240997850895,-0.0166601147502661,-0.1592698693275452));
res += mul(Get(s0,dx,-dy), float4x4(0.0212212186306715,0.0238089486956596,-0.0339566282927990,-0.0853839591145515,0.0844003260135651,0.3114874362945557,0.0463382266461849,-0.1507412493228912,0.0314051173627377,-0.1128663346171379,0.0960858166217804,0.0464598126709461,-0.0494178496301174,0.1296497732400894,0.0886210650205612,-0.1241825371980667));
res += mul(Get(s1,dx,-dy), float4x4(-0.0127270743250847,-0.3050408661365509,-0.1611077040433884,0.2072191834449768,0.0902246609330177,-0.0266101583838463,-0.0124005498364568,-0.0330862589180470,-0.0265694782137871,-0.0416995733976364,0.0670753866434097,0.1428597271442413,0.0709013342857361,0.0165290068835020,-0.0039876145310700,-0.0361638739705086));
res += mul(Get(s2,dx,-dy), float4x4(-0.0319603756070137,-0.1017056703567505,-0.0091179711744189,0.0378382317721844,-0.0784376412630081,-0.2097222805023193,-0.0699561014771461,0.0218713935464621,-0.0269976127892733,-0.0685847699642181,0.1491912007331848,-0.0901229903101921,-0.0171742048114538,0.0177862364798784,-0.0581025667488575,-0.0392745360732079));
res += mul(Get(s0,dx,0), float4x4(-0.2451842874288559,-0.0062028141692281,0.0018684311071411,0.0656158104538918,-0.0520568080246449,-0.1376655697822571,-0.1585288941860199,0.0377495698630810,0.2107365131378174,0.5727084875106812,0.3131379783153534,0.0312116313725710,-0.0194342695176601,0.1645734161138535,-0.0538254231214523,0.1828264296054840));
res += mul(Get(s1,dx,0), float4x4(-0.1720209121704102,-0.0217993445694447,-0.0282886698842049,-0.0707717165350914,0.1551836133003235,-0.0750360116362572,-0.0130790285766125,0.0844544023275375,-0.0135318320244551,0.3628684580326080,0.1406120359897614,-0.0013778269058093,-0.1613544672727585,-0.5877326726913452,-0.1839973032474518,-0.0145912319421768));
res += mul(Get(s2,dx,0), float4x4(0.1405131071805954,0.4078976809978485,0.0889395475387573,0.0349440686404705,0.0590456053614616,-0.2344433963298798,-0.2135047018527985,0.0817684605717659,-0.0047788308002055,0.2787597179412842,0.1489430814981461,0.0507754012942314,-0.1541797667741776,-0.2791773080825806,-0.0009621512144804,-0.0694702193140984));
res += mul(Get(s0,dx,dy), float4x4(-0.1453017592430115,-0.3446508049964905,0.2527319192886353,-0.0465207099914551,-0.0363654755055904,-0.0550453066825867,-0.0806825309991837,-0.0351334102451801,0.0772035866975784,0.3533786833286285,0.0885595157742500,-0.0577553696930408,-0.1253926753997803,0.2465475052595139,-0.0961054563522339,0.0131461285054684));
res += mul(Get(s1,dx,dy), float4x4(-0.0925618782639503,-0.0621479749679565,0.1947206556797028,-0.0370011180639267,-0.0395099371671677,-0.0468113049864769,-0.0503674410283566,-0.0170654412358999,-0.0217637084424496,0.0357910133898258,0.0219463109970093,0.0055570797994733,0.0148021448403597,-0.2492280304431915,-0.0378264486789703,0.1495593786239624));
res += mul(Get(s2,dx,dy), float4x4(-0.0608808510005474,-0.0808443874120712,-0.0720673054456711,-0.0252828598022461,-0.0815922468900681,-0.2587296366691589,-0.0816479623317719,-0.0163361746817827,-0.3267814815044403,0.0549016594886780,0.0000457055066363,0.0043635531328619,0.0910921320319176,-0.0987456738948822,0.0758392885327339,0.0277496948838234));
res = max(float4(0, 0, 0, 0), res) + float4(1.0084321498870850,0.0756666213274002,0.1671099215745926,0.9287323951721191) * min(float4(0, 0, 0, 0), res);
return res;
}
