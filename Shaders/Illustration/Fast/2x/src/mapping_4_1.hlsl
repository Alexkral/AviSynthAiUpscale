sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0.1489057093858719,0.1290808767080307,-0.2116581946611404,0.0154034988954663);
res += mul(Get(s0,-dx,-dy), float4x4(-0.0179723463952541,-0.1245530694723129,-0.0838089808821678,0.0301135629415512,0.0606465786695480,-0.0916820541024208,-0.1041054427623749,0.1131708323955536,-0.0225710887461901,-0.0218499824404716,-0.0091639794409275,0.0377819724380970,0.0418815687298775,-0.0917034596204758,0.0126860430464149,0.0293072592467070));
res += mul(Get(s1,-dx,-dy), float4x4(-0.0337108187377453,-0.0006155432201922,-0.1492687165737152,0.0459155291318893,0.0523438714444637,0.0422959886491299,-0.0092153092846274,-0.0621036849915981,-0.0704629048705101,0.0771277099847794,0.0550067052245140,-0.0677357390522957,-0.0488820001482964,-0.0073728500865400,0.0517878495156765,-0.0014245169004425));
res += mul(Get(s2,-dx,-dy), float4x4(-0.0184454228729010,0.0332768857479095,0.0722821727395058,0.0552134141325951,0.0266046132892370,0.0825143530964851,0.0439661033451557,-0.0613362081348896,-0.0575170814990997,-0.0553372837603092,-0.1545651853084564,0.1374531239271164,0.0241340324282646,0.0909571200609207,0.0627234652638435,-0.1036754399538040));
res += mul(Get(s0,-dx,0), float4x4(-0.0215250309556723,0.0332662947475910,0.2862616777420044,0.1323988735675812,-0.0182437822222710,-0.1114557310938835,-0.1716552376747131,0.3165546953678131,-0.1427750289440155,0.0286525525152683,0.0981310904026031,-0.1654445827007294,0.0399279445409775,-0.1228489726781845,0.0322398319840431,0.2860147356987000));
res += mul(Get(s1,-dx,0), float4x4(0.1796202957630157,-0.0172397121787071,0.3408513963222504,-0.0461167283356190,0.0282178670167923,0.0440112091600895,-0.0107561554759741,-0.1076942607760429,0.0901173502206802,0.1102509349584579,0.2109200060367584,-0.2312447726726532,0.0035384122747928,-0.0505584478378296,-0.0575595125555992,0.0552338510751724));
res += mul(Get(s2,-dx,0), float4x4(-0.0006967021035962,0.0863206610083580,0.1436536610126495,0.2002807110548019,-0.1089169830083847,0.0995770692825317,0.0640691891312599,0.0177409779280424,-0.0406309664249420,0.0318239219486713,0.1644867509603500,0.1468300372362137,0.0807786807417870,0.1120189353823662,-0.1364612281322479,-0.1292102783918381));
res += mul(Get(s0,-dx,dy), float4x4(0.0445444732904434,-0.0618253685534000,0.0601340830326080,-0.0216328296810389,0.0067797736264765,-0.0365164615213871,-0.0648301392793655,0.0366950295865536,0.0253534205257893,0.0490237139165401,0.0432073362171650,-0.0235543549060822,-0.1017284095287323,0.0146197471767664,-0.0456070713698864,0.0637690722942352));
res += mul(Get(s1,-dx,dy), float4x4(0.0720251202583313,-0.0729072317481041,0.0309419352561235,0.0908404737710953,0.0210520364344120,0.0914151445031166,0.2641634047031403,-0.0902677774429321,0.0075937728397548,-0.0895485877990723,-0.1407280862331390,0.1030211821198463,0.0271651837974787,-0.0172107499092817,0.0608078688383102,0.0228462871164083));
res += mul(Get(s2,-dx,dy), float4x4(0.0619526617228985,-0.0852715075016022,-0.0379081517457962,0.0474335029721260,-0.0187115576118231,0.0161416083574295,-0.0276123620569706,0.1181775182485580,0.0065804058685899,0.0982237085700035,0.1029246523976326,0.2245377153158188,-0.0134107433259487,-0.0811603963375092,-0.1016891226172447,0.0641652718186378));
res += mul(Get(s0,0,-dy), float4x4(-0.0006879604770802,0.0946729630231857,-0.1362531930208206,-0.2238690406084061,-0.0551701411604881,0.0391689836978912,-0.1468581855297089,-0.1809154152870178,0.0826898887753487,-0.0230258423835039,-0.1356022953987122,0.0485453344881535,0.0701974183320999,-0.0048793079331517,0.0854174122214317,0.0022612481843680));
res += mul(Get(s1,0,-dy), float4x4(0.0249587539583445,0.0290718842297792,0.0361454375088215,0.0319464839994907,-0.0115209659561515,-0.0094912294298410,0.2205934375524521,0.0804716795682907,0.0878648161888123,-0.1360870897769928,-0.1555999517440796,0.2436062544584274,0.0439002513885498,0.0356864705681801,-0.1952969878911972,0.0888675376772881));
res += mul(Get(s2,0,-dy), float4x4(0.0918901339173317,0.0914337113499641,0.0831852629780769,0.1567454934120178,0.0370248630642891,-0.0085900202393532,0.0352456681430340,0.1289895027875900,0.0407081916928291,-0.0242688655853271,0.2435388267040253,-0.0254153236746788,0.0751392021775246,-0.1284421235322952,-0.2543608546257019,0.0417449623346329));
res += mul(Get(s0,0,0), float4x4(0.2216747254133224,-0.0024737627245486,-0.3098986744880676,-0.0391963683068752,0.1264396160840988,0.0896337553858757,0.1459971368312836,-0.2960981130599976,0.1816545724868774,-0.0478841625154018,-0.0908550098538399,0.4744822382926941,0.1390530019998550,-0.0503396354615688,-0.1707638204097748,0.0087078176438808));
res += mul(Get(s1,0,0), float4x4(0.1014855951070786,0.1401503533124924,-0.1961859762668610,-0.5864961743354797,-0.1947867572307587,0.0131424404680729,0.4897096455097198,-0.2569449245929718,-0.0864915996789932,-0.0082277096807957,0.0077033811248839,-0.0743040293455124,-0.0762477740645409,-0.0698146000504494,-0.2074440419673920,-0.0243274923413992));
res += mul(Get(s2,0,0), float4x4(0.4409016370773315,0.3358767032623291,-1.0188602209091187,-0.2640971243381500,0.1353571712970734,0.1066587418317795,-0.0903346017003059,-0.1223555356264114,0.0772497355937958,-0.0650038048624992,0.5360029339790344,0.0885826349258423,-0.2206047475337982,-0.0237491969019175,0.2696010768413544,-0.1267475634813309));
res += mul(Get(s0,0,dy), float4x4(-0.0373422577977180,-0.0812791958451271,-0.1807165294885635,0.0395910143852234,-0.0233599580824375,0.0045066266320646,0.1084247753024101,-0.0464200712740421,0.0577497109770775,0.0254421178251505,-0.0467355474829674,0.1398491412401199,0.1499111950397491,-0.0813796371221542,0.0717824473977089,0.1071592569351196));
res += mul(Get(s1,0,dy), float4x4(-0.0718862935900688,-0.1292980313301086,0.0067550307139754,0.1013353615999222,0.0463150516152382,0.0117466105148196,-0.1140119358897209,0.1529297530651093,-0.0606197193264961,0.0595140829682350,-0.0117807248607278,-0.0943540185689926,-0.0354818999767303,-0.0464266911149025,-0.0880932658910751,-0.0225953180342913));
res += mul(Get(s2,0,dy), float4x4(-0.1014583855867386,-0.1761384606361389,-0.0453131794929504,0.1301326900720596,0.0988413617014885,-0.0199441239237785,0.0790980234742165,0.0960288196802139,0.0781115368008614,0.0500951670110226,0.4528014957904816,0.1758009195327759,0.0765173807740211,-0.0684668719768524,0.3793805539608002,-0.1516232490539551));
res += mul(Get(s0,dx,-dy), float4x4(-0.0042769471183419,-0.0307008456438780,0.0644005462527275,0.0249360315501690,0.0909708589315414,-0.0807555764913559,-0.0379998981952667,0.1836382895708084,0.0243989061564207,0.0067948102951050,0.0177538674324751,0.0807710438966751,-0.0259881801903248,0.0437546670436859,0.0477161556482315,-0.0687610059976578));
res += mul(Get(s1,dx,-dy), float4x4(0.1029210463166237,-0.0143965585157275,-0.0445701107382774,0.0427830927073956,-0.0484696216881275,0.0482644811272621,0.0596557967364788,-0.0805488526821136,-0.0437926240265369,0.0421770624816418,-0.0418893024325371,-0.0882837548851967,-0.0350482389330864,0.0138657046481967,-0.0414687059819698,-0.0391259416937828));
res += mul(Get(s2,dx,-dy), float4x4(0.0076327039860189,0.0042211189866066,0.0388748794794083,-0.0140543356537819,-0.0543565452098846,0.0088534420356154,0.0187434889376163,-0.1301354020833969,0.0781846642494202,-0.0250924807041883,0.1818696707487106,-0.0564769133925438,-0.1297355294227600,0.1026143655180931,0.2698231935501099,-0.0830950140953064));
res += mul(Get(s0,dx,0), float4x4(0.0015823119319975,0.0017480411333963,-0.0863878726959229,0.0790661796927452,0.0605534426867962,-0.0551178194582462,0.1109287515282631,0.2699324786663055,0.0381743535399437,0.0059360270388424,-0.0552646443247795,0.1295527964830399,-0.0722812935709953,0.0094547644257545,-0.0344309285283089,0.0316624641418457));
res += mul(Get(s1,dx,0), float4x4(0.1061676815152168,-0.0400209911167622,-0.1709835529327393,0.1959049999713898,-0.0429457947611809,0.0712977945804596,0.0831704214215279,-0.2203882932662964,0.0628250762820244,-0.0242295823991299,-0.0666237547993660,0.1105434298515320,0.0070353872142732,-0.0122536960989237,-0.1536513715982437,-0.0793370604515076));
res += mul(Get(s2,dx,0), float4x4(0.0114933177828789,-0.0099898176267743,-0.1693525165319443,-0.0445544235408306,0.0921446979045868,0.0552181191742420,0.0555663891136646,-0.0410702191293240,0.0802122205495834,-0.0739365592598915,0.2247215062379837,-0.0266466028988361,-0.0831599310040474,-0.0158470533788204,-0.1634407341480255,-0.3730414807796478));
res += mul(Get(s0,dx,dy), float4x4(-0.0190373435616493,-0.0337173677980900,0.0977242141962051,0.0518503263592720,-0.0310049112886190,-0.0212734807282686,0.0226324275135994,0.0570695213973522,0.0521478727459908,-0.0280004367232323,-0.0760509148240089,0.2011095881462097,-0.0850910469889641,0.0046620760113001,0.0133691895753145,-0.0177044402807951));
res += mul(Get(s1,dx,dy), float4x4(-0.0005110806669109,-0.0692412629723549,0.0915318429470062,0.0387505739927292,-0.0207485426217318,0.0700596719980240,-0.0755166336894035,-0.1266040802001953,0.0384236797690392,-0.0504304282367229,0.0436033830046654,0.0864150300621986,-0.0379523895680904,0.0017000067746267,0.0658568665385246,-0.0294537618756294));
res += mul(Get(s2,dx,dy), float4x4(-0.0493639260530472,0.0033114841207862,0.2232308834791183,-0.0555452294647694,-0.0199896320700645,0.0755837857723236,-0.0098613603040576,0.0327307283878326,0.1338274031877518,0.0034455256536603,0.4080680012702942,0.0187970437109470,-0.1919759809970856,-0.1606844663619995,0.0790091380476952,-0.1115904226899147));
res = max(float4(0, 0, 0, 0), res) + float4(0.9224627017974854,1.0778878927230835,0.4187989830970764,1.0029727220535278) * min(float4(0, 0, 0, 0), res);
return res;
}
