sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(-0.0760756358504295,0.0140978358685970,-0.0653175637125969,0.0637788474559784);
res += mul(Get(s0,-dx,-dy), float4x4(0.1407020241022110,0.3232878148555756,0.0616466701030731,0.1381930112838745,0.0069056833162904,-0.0283442959189415,0.1182204037904739,0.0164150688797235,0.0817713141441345,-0.0314986705780029,0.0433248020708561,-0.1014318913221359,-0.1105357930064201,-0.0947881788015366,-0.0681273862719536,0.0912947505712509));
res += mul(Get(s1,-dx,-dy), float4x4(-0.0126938177272677,-0.1507675200700760,0.0583294816315174,0.0432694740593433,-0.0389631576836109,-0.0340664722025394,-0.0811740010976791,0.0736097246408463,-0.0886815860867500,-0.1038735434412956,0.1515664905309677,-0.0514496676623821,0.0213124267756939,-0.0210152156651020,-0.0037547878455371,-0.1311584264039993));
res += mul(Get(s2,-dx,-dy), float4x4(-0.1847268790006638,0.1997764110565186,0.0037915338762105,-0.0058417753316462,-0.1434805691242218,0.0211469251662493,0.0743612498044968,-0.1988715976476669,-0.1167893558740616,0.1429149806499481,0.0641005039215088,-0.1495499014854431,-0.0790579989552498,-0.0711797922849655,0.1498975902795792,0.3525090515613556));
res += mul(Get(s0,-dx,0), float4x4(-0.1805356442928314,0.1346868723630905,0.1884595006704330,-0.0650608688592911,-0.0848983749747276,0.1430914402008057,0.0156705565750599,-0.0675371214747429,0.1204103529453278,0.1728514432907104,0.3249472379684448,0.1214355975389481,-0.1023590639233589,-0.1475985199213028,-0.0781822949647903,-0.2169052660465240));
res += mul(Get(s1,-dx,0), float4x4(-0.0721416696906090,-0.1661525815725327,-0.0713491737842560,0.1285345703363419,0.0242041908204556,-0.0431780256330967,0.1803012043237686,-0.1136591583490372,-0.0440593697130680,0.1164814382791519,-0.0059793721884489,0.0338634960353374,0.1112114563584328,0.0903365686535835,-0.0285084024071693,0.3136133551597595));
res += mul(Get(s2,-dx,0), float4x4(0.0279948357492685,-0.2569328248500824,-0.0146562783047557,0.2734706699848175,0.2676700949668884,-0.1435353457927704,-0.3373867273330688,0.2050317525863647,0.0077999662607908,-0.0709670335054398,-0.0522858984768391,-0.1106721758842468,-0.1680086553096771,0.1198648512363434,0.1913018971681595,-0.3442257344722748));
res += mul(Get(s0,-dx,dy), float4x4(0.1194383203983307,-0.0009608798427507,-0.0135548701509833,0.1484441757202148,0.0310167279094458,0.1195252090692520,0.0803315863013268,0.0268752500414848,0.0149354254826903,-0.0352366454899311,-0.2007076293230057,0.0283233113586903,0.0770999565720558,-0.0479335635900497,0.0242363885045052,0.0839105695486069));
res += mul(Get(s1,-dx,dy), float4x4(0.0390344150364399,0.0626182556152344,-0.1154873892664909,-0.0170811191201210,-0.1010388135910034,0.0857793167233467,0.0369079373776913,0.0309295393526554,-0.0322521701455116,-0.0307978391647339,-0.0568260662257671,-0.0052446573972702,-0.0629957392811775,-0.1033790633082390,0.0614876784384251,-0.0108192777261138));
res += mul(Get(s2,-dx,dy), float4x4(-0.0571831688284874,0.0578789748251438,-0.0501452684402466,-0.0789907723665237,0.0394272990524769,-0.1306191235780716,0.0110485451295972,0.0235952045768499,-0.1367634981870651,-0.0271708089858294,0.0970803797245026,0.0220782812684774,-0.0655687749385834,-0.1550380140542984,0.0463827885687351,0.0085001140832901));
res += mul(Get(s0,0,-dy), float4x4(-0.0832528322935104,0.2605474293231964,0.0228519625961781,-0.6787385344505310,0.0437690019607544,-0.0317549034953117,-0.1508223116397858,-0.5226976275444031,0.1782315373420715,0.2387638986110687,0.3683660328388214,0.1072035431861877,0.1607088893651962,0.1842650771141052,-0.1498575210571289,0.3566955626010895));
res += mul(Get(s1,0,-dy), float4x4(-0.0864126160740852,0.1089013963937759,-0.1004509851336479,-0.0477870665490627,-0.0604301318526268,-0.0561735481023788,0.0638559833168983,-0.3882116675376892,-0.0254182927310467,-0.0355156250298023,-0.1057484000921249,-0.2779773771762848,-0.0754890367388725,0.3589801788330078,0.0978501588106155,-0.9563819766044617));
res += mul(Get(s2,0,-dy), float4x4(0.1278116703033447,-0.0587264634668827,-0.2093565016984940,-0.2570267319679260,0.0821833908557892,0.0793106555938721,0.3353633880615234,0.8165960311889648,0.0391568653285503,0.0127942394465208,-0.2092252969741821,-0.0785039812326431,-0.0446852631866932,-0.2098230868577957,-0.2177150547504425,0.2214789539575577));
res += mul(Get(s0,0,0), float4x4(-0.5350661277770996,-0.7492067217826843,0.2564737498760223,0.5292437076568604,0.1762513071298599,-0.0076914737001061,0.8017396330833435,0.2596387565135956,0.0373212248086929,0.1307942867279053,-0.9880968928337097,-0.0094480114057660,-0.0136158149689436,0.3086116015911102,-0.1565315872430801,-0.0206872913986444));
res += mul(Get(s1,0,0), float4x4(-0.1098785996437073,-0.0046016531996429,-0.7374747991561890,-0.5266013145446777,-0.0554484277963638,0.3323210775852203,-0.1375785470008850,0.1815156191587448,0.0468598492443562,0.0008518420509063,0.0130634158849716,-0.1215081885457039,-0.2525822818279266,-0.0886017903685570,0.5905151367187500,0.4095417559146881));
res += mul(Get(s2,0,0), float4x4(-0.3203027248382568,-0.2784404456615448,-0.0423767790198326,-0.0658022761344910,-0.2441181540489197,-0.2711303830146790,0.3549003005027771,-0.9787859916687012,-0.0262594707310200,-0.0649950429797173,-0.3066150248050690,-0.0601541027426720,0.2475187033414841,-0.4980438649654388,-0.2423688620328903,-0.0514648966491222));
res += mul(Get(s0,0,dy), float4x4(-0.1746079772710800,0.0454554334282875,-0.0986083671450615,-0.0707894787192345,-0.0658914446830750,-0.0794222801923752,0.0934846326708794,0.0070641064085066,0.0406666137278080,-0.1481576412916183,0.2252154350280762,0.2676131129264832,0.0860086604952812,-0.0071100592613220,-0.1872155815362930,0.0377230644226074));
res += mul(Get(s1,0,dy), float4x4(-0.1350883543491364,0.1975077986717224,0.0245235152542591,0.1770641952753067,0.1755592525005341,-0.1831253916025162,0.2014489471912384,-0.1248127147555351,0.0074787600897253,0.0723283216357231,0.2073128968477249,0.0943354815244675,-0.1031037122011185,-0.0452130623161793,0.2992203533649445,0.0021695145405829));
res += mul(Get(s2,0,dy), float4x4(-0.1070118844509125,0.2029305100440979,0.1667150408029556,-0.0057311006821692,0.0118689890950918,-0.1023437231779099,0.3304956853389740,0.1738861799240112,0.1646273583173752,0.1175369396805763,-0.0489983148872852,-0.0232766848057508,-0.0407009795308113,0.4117932021617889,-0.1527340561151505,-0.0303102415055037));
res += mul(Get(s0,dx,-dy), float4x4(-0.0254444330930710,-0.1025682613253593,-0.1348449289798737,0.1676836460828781,-0.0526479780673981,-0.0478280484676361,0.0246848128736019,-0.1909583508968353,-0.0829011723399162,-0.0789994671940804,-0.1300976723432541,0.2667884528636932,-0.1824072599411011,0.0088486904278398,0.1192473918199539,0.1270236819982529));
res += mul(Get(s1,dx,-dy), float4x4(0.0157773382961750,-0.0141096264123917,0.1924701631069183,0.0232963375747204,0.1300050169229507,-0.0008021415560506,-0.1305682510137558,0.0870767161250114,-0.0853272154927254,0.1924937218427658,0.1208608075976372,0.3064203858375549,-0.0730104893445969,-0.1273754984140396,0.1251842826604843,0.2516202032566071));
res += mul(Get(s2,dx,-dy), float4x4(-0.1363955289125443,0.0116666499525309,-0.0613029971718788,0.0522358454763889,0.1202439516782761,-0.1373827606439590,0.1657970100641251,0.3406357467174530,0.0979643166065216,0.2033849060535431,0.1071093529462814,-0.0603817440569401,-0.0268820561468601,0.0636104568839073,-0.0552058666944504,-0.0813788622617722));
res += mul(Get(s0,dx,0), float4x4(-0.1447243690490723,0.0408445708453655,0.0489740669727325,0.0042461412958801,-0.0065924888476729,-0.0410879552364349,0.0152162816375494,-0.0417706556618214,0.1071313172578812,0.0071074869483709,-0.0813829079270363,-0.2249093502759933,0.2813595831394196,0.0304691083729267,0.0301673896610737,-0.2593595087528229));
res += mul(Get(s1,dx,0), float4x4(-0.0736401528120041,0.1909020990133286,0.1692484170198441,-0.1159916371107101,-0.0367454662919044,-0.1028556600213051,0.0921375304460526,-0.1077245548367500,-0.0139828752726316,-0.1724204421043396,0.0561879873275757,-0.0160176828503609,0.1254083961248398,0.0460528656840324,-0.0944485440850258,-0.2041002511978149));
res += mul(Get(s2,dx,0), float4x4(-0.1300445944070816,-0.1051838994026184,-0.2863104343414307,-0.0740927383303642,0.1535707563161850,0.3533778190612793,-0.0334457159042358,-0.2472108900547028,-0.0286596789956093,0.0501237958669662,-0.1737605482339859,-0.0238325912505388,-0.1082405224442482,0.1431589126586914,0.6477671861648560,0.1928893029689789));
res += mul(Get(s0,dx,dy), float4x4(0.0337506867945194,-0.0282884258776903,-0.2178624421358109,-0.1539053618907928,0.0433161705732346,-0.0767908990383148,-0.0485106222331524,0.0234082061797380,0.0732342824339867,-0.0900551602244377,-0.3956765234470367,-0.1421337276697159,-0.0667275562882423,-0.1592572331428528,0.0926493257284164,-0.0391377322375774));
res += mul(Get(s1,dx,dy), float4x4(-0.0914255753159523,-0.0056386310607195,-0.0486569590866566,0.0828181058168411,-0.1411435306072235,0.0774795934557915,-0.1606490314006805,0.0855015218257904,-0.0357266180217266,-0.1090571209788322,-0.1127860322594643,0.0446147136390209,-0.1460678577423096,-0.0797070860862732,0.1569871455430984,0.1221340820193291));
res += mul(Get(s2,dx,dy), float4x4(-0.2487222403287888,-0.1737475246191025,0.0046134344302118,0.1739311218261719,0.0689156949520111,-0.2664511203765869,0.0429175272583961,-0.1127330362796783,-0.1003818437457085,-0.0187941808253527,-0.0452708378434181,0.0998221710324287,-0.1750381141901016,0.0285413730889559,-0.2488118857145309,-0.0234500300139189));
res = max(float4(0, 0, 0, 0), res) + float4(0.9873898029327393,0.1690859049558640,0.9846662878990173,-0.8441734910011292) * min(float4(0, 0, 0, 0), res);
return res;
}
