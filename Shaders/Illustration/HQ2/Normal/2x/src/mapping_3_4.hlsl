sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.022848118096590,0.014187986031175,0.018414124846458,-0.010103181004524,0.017518257722259,-0.057366386055946,-0.054354678839445,-0.000246456736932,0.000574100413360,0.035226371139288,0.019155135378242,0.009925924241543,-0.012278124690056,0.008487142622471,0.001700491411611,0.012202952057123));
res += mul(Get(s0,-dx,0), float4x4(-0.007574550341815,0.005787894595414,-0.003044004784897,0.000454378954601,-0.002872900106013,-0.021648826077580,0.001771622453816,0.002658572513610,-0.019792368635535,0.014270834624767,-0.016265375539660,0.050668716430664,-0.030738946050406,0.012610242702067,0.078036859631538,-0.014012264087796));
res += mul(Get(s0,-dx,dy), float4x4(0.016516443341970,0.017656847834587,0.038632098585367,0.012206051498652,-0.001920132082887,0.005439449567348,-0.036764062941074,0.043443851172924,-0.007128594908863,-0.000618352962192,0.029826736077666,-0.054624915122986,0.003537257667631,0.023368045687675,0.005846356973052,-0.013995175249875));
res += mul(Get(s0,0,-dy), float4x4(-0.017011363059282,0.010975479148328,-0.073077701032162,0.031177861616015,-0.002115046139807,0.022635076195002,0.061281185597181,-0.010424197651446,0.026970824226737,0.003117453306913,0.020048284903169,0.032339092344046,-0.002045731293038,0.002221825299785,-0.009336682036519,-0.005099252332002));
res += mul(Get(s0,0,0), float4x4(-0.001156980637461,-0.036785434931517,0.010976132005453,-0.025423130020499,-0.005539324600250,0.012630666606128,0.070489257574081,-0.011765317991376,0.005198571365327,0.009898559190333,-0.018417812883854,0.028200207278132,0.029376354068518,0.001827457686886,0.002898533828557,0.024472754448652));
res += mul(Get(s0,0,dy), float4x4(-0.025136329233646,0.025588361546397,0.058685347437859,0.008484212681651,0.038989242166281,0.012933605350554,-0.028262294828892,0.018860096111894,0.021423349156976,0.008037447929382,0.018499780446291,-0.011660812422633,0.035159558057785,-0.038605395704508,-0.022443791851401,-0.015712309628725));
res += mul(Get(s0,dx,-dy), float4x4(-0.013547439128160,0.024848710745573,-0.054300580173731,0.006848245393485,0.014672129414976,-0.000388349522837,0.034750159829855,-0.007110240869224,-0.013247436843812,0.015380951575935,0.011388238519430,-0.018983339890838,-0.008821465075016,0.013012031093240,0.010201155208051,-0.001324864919297));
res += mul(Get(s0,dx,0), float4x4(-0.022797068580985,-0.003429744625464,0.034657239913940,-0.036945171654224,0.023736353963614,-0.014182294718921,-0.047030918300152,0.001522573176771,0.006251742132008,0.022405147552490,0.034766722470522,-0.005579249467701,0.005585391540080,-0.008901604451239,-0.013681557029486,0.014176525175571));
res += mul(Get(s0,dx,dy), float4x4(-0.024709988385439,0.001859637675807,-0.011150841601193,0.057963319122791,0.011349497362971,-0.003509686328471,0.002352780196816,0.011958200484514,0.046220410615206,-0.005984649527818,0.008788868784904,-0.027504330500960,-0.024065963923931,0.011918883770704,0.020989483222365,0.004692364949733));
res += mul(Get(s1,-dx,-dy), float4x4(-0.045507874339819,0.006278206128627,0.045388381928205,-0.032286643981934,0.040288720279932,-0.032144531607628,0.046926192939281,0.002046129433438,-0.010767088271677,0.049312703311443,0.106665909290314,-0.020123010501266,0.026331182569265,-0.007230627816170,0.010439507663250,0.001636853907257));
res += mul(Get(s1,-dx,0), float4x4(0.006116663105786,0.024533107876778,0.057429287582636,0.001846303348430,0.028090106323361,0.004555407911539,0.037137791514397,0.019812820479274,-0.005968473851681,0.066367037594318,0.039143111556768,-0.011741912923753,0.010572331026196,0.022162472829223,0.042946252971888,-0.044007036834955));
res += mul(Get(s1,-dx,dy), float4x4(0.025675809010863,0.003652380313724,0.063391536474228,0.033388637006283,0.008466298691928,0.037845157086849,0.035330291837454,-0.011409901082516,0.000852585653774,0.004290321376175,0.044857464730740,0.002614829223603,-0.004536343272775,-0.001303502125666,0.037043899297714,0.005539923440665));
res += mul(Get(s1,0,-dy), float4x4(0.028986338526011,0.067083299160004,-0.017972679808736,0.011670776642859,0.007595688570291,-0.029733911156654,0.059530176222324,-0.025495188310742,0.034321174025536,0.021918717771769,0.047111727297306,0.058227673172951,-0.003988273441792,-0.013060611672699,-0.014579113572836,0.021060295403004));
res += mul(Get(s1,0,0), float4x4(0.050111416727304,-0.048253256827593,-0.007792178541422,0.005387251731008,-0.028675433248281,0.051113482564688,-0.007018608041108,0.028395261615515,0.112589471042156,-0.017882328480482,-0.032948553562164,0.006559860892594,0.010869394987822,-0.002650210401043,0.000981188029982,0.008864914067090));
res += mul(Get(s1,0,dy), float4x4(0.075854331254959,-0.000505420553964,0.076098293066025,0.001552501576953,0.031248670071363,-0.004513507243246,-0.046868123114109,0.016312232241035,0.012863851152360,-0.034011788666248,0.001196108874865,-0.040722198784351,0.018731053918600,0.010594146326184,-0.027419768273830,0.002867433242500));
res += mul(Get(s1,dx,-dy), float4x4(0.026591567322612,0.011374295689166,-0.035383902490139,0.042840402573347,-0.014222954399884,0.004629985429347,0.043308850377798,0.002469993429258,0.029752751812339,0.000668654043693,-0.008456157520413,0.013761164620519,0.014814999885857,-0.001814454561099,-0.001951858750544,0.011600955389440));
res += mul(Get(s1,dx,0), float4x4(-0.009709097445011,-0.009961415082216,0.023007875308394,-0.054590668529272,-0.004689016845077,0.000716029026080,-0.037571988999844,-0.010996842756867,-0.036889616400003,-0.035918913781643,-0.012692721560597,0.001121459761634,-0.023241594433784,0.016108263283968,0.002345447428524,0.015226503834128));
res += mul(Get(s1,dx,dy), float4x4(-0.005342404823750,0.047050982713699,0.072667203843594,0.042528983205557,0.014917531050742,-0.032701905816793,0.025257904082537,-0.029140885919333,-0.014358782209456,-0.001719677005894,-0.009894345887005,0.012717186473310,-0.008426622487605,-0.005669067613780,0.017746387049556,-0.045269329100847));
res += mul(Get(s2,-dx,-dy), float4x4(-0.024493854492903,0.025291437283158,0.014339537359774,0.011877113021910,-0.000052473933465,0.001721742446534,-0.035520259290934,0.016774259507656,-0.007069306448102,-0.006430152803659,-0.005474287085235,0.002479665912688,-0.023583581671119,0.025181798264384,-0.020256582647562,0.027097037062049));
res += mul(Get(s2,-dx,0), float4x4(-0.009314515627921,0.019468428567052,-0.001949674799107,0.024496905505657,0.001237235846929,-0.031873740255833,-0.009274755604565,0.027241647243500,-0.004071399103850,0.006059620995075,0.032251954078674,-0.001607402344234,-0.018039269372821,0.015307172201574,0.005335352383554,-0.015361374244094));
res += mul(Get(s2,-dx,dy), float4x4(-0.004547634627670,0.015959650278091,0.002129630651325,0.007021189201623,-0.040345046669245,-0.011910618282855,0.002341473475099,-0.010469819419086,-0.017242539674044,0.005754598416388,0.002669936511666,-0.002281924476847,-0.030757855623960,0.012243509292603,0.000284467532765,0.035532999783754));
res += mul(Get(s2,0,-dy), float4x4(0.021703869104385,0.021199416369200,-0.004393597599119,-0.010107947513461,-0.007476989179850,0.041228234767914,0.024698387831450,-0.021253105252981,0.008611677214503,0.009178109467030,0.012956787832081,-0.001557251554914,-0.014510292559862,-0.000406188337365,-0.026827577501535,-0.038898959755898));
res += mul(Get(s2,0,0), float4x4(0.010305568575859,-0.004517218098044,0.006329706870019,-0.000859040068462,-0.032672934234142,0.027173517271876,0.092652536928654,-0.008558760397136,0.009027441032231,-0.011528155766428,0.042063001543283,0.015209311619401,-0.021948466077447,-0.000359674799256,0.023311339318752,-0.002206029137596));
res += mul(Get(s2,0,dy), float4x4(0.007352851796895,-0.006931129842997,0.034482818096876,-0.019834607839584,0.013240221887827,0.037749074399471,0.064857766032219,-0.034999623894691,0.013763704337180,0.015664916485548,0.057730119675398,-0.009009638801217,-0.020706355571747,0.008324412629008,-0.005976710002869,0.047623593360186));
res += mul(Get(s2,dx,-dy), float4x4(-0.006866773124784,-0.025447333231568,0.006607671268284,-0.006402044091374,0.044086284935474,0.003206845372915,-0.033835001289845,-0.005912914406508,-0.008337869308889,0.000816798885353,-0.041924670338631,0.049230493605137,-0.023685500025749,-0.026256788522005,0.008150543086231,0.012379525229335));
res += mul(Get(s2,dx,0), float4x4(-0.002072035800666,-0.019122987985611,-0.009651026688516,-0.010245963931084,0.022205781191587,-0.015373058617115,-0.023541131988168,0.039399240165949,0.014702787622809,-0.002753195818514,-0.038401786237955,-0.024557659402490,-0.005815109703690,-0.008417592383921,0.013559866696596,0.034346941858530));
res += mul(Get(s2,dx,dy), float4x4(0.014178823679686,-0.011934480629861,-0.039837680757046,-0.014816828072071,0.069833561778069,-0.005727064330131,0.000637535471469,0.012210243381560,0.026839794591069,0.018885506317019,0.005134761799127,0.030544130131602,-0.027478402480483,-0.004430216271430,-0.006394821219146,0.014854344539344));
res += mul(Get(s3,-dx,-dy), float4x4(0.008482055738568,-0.004742637276649,-0.003990763798356,-0.007362683303654,0.031264849007130,0.034787531942129,0.081241659820080,-0.009611753746867,0.000077158227214,0.011720102280378,0.008301218971610,0.009634939953685,-0.005672783590853,-0.021012362092733,-0.002016216516495,-0.005863280966878));
res += mul(Get(s3,-dx,0), float4x4(0.035066705197096,-0.008304321207106,-0.042023509740829,0.033882182091475,-0.005468917544931,0.041314203292131,0.007141355425119,0.012800620868802,0.017947549000382,0.003890116699040,-0.005691632162780,0.022856477648020,-0.022625649347901,-0.002889673225582,-0.005452703218907,0.009789492934942));
res += mul(Get(s3,-dx,dy), float4x4(0.005881344433874,-0.048901170492172,0.021023856475949,-0.014101326465607,-0.013771019876003,0.026378156617284,-0.006131203845143,0.021983319893479,0.030795747414231,0.015026732347906,0.024117596447468,-0.017308114096522,-0.020992867648602,0.000407914136304,0.014010813087225,0.015873232856393));
res += mul(Get(s3,0,-dy), float4x4(0.003799444995821,-0.010272617451847,0.064086817204952,0.029843553900719,0.010723965242505,0.008625429123640,-0.005219891667366,-0.015705216675997,0.003912675194442,0.008184794336557,-0.038208793848753,0.011173743754625,-0.024121616035700,0.001138285151683,-0.003876620670781,-0.015219095163047));
res += mul(Get(s3,0,0), float4x4(-0.029904980212450,0.058527108281851,0.095557004213333,-0.012211560271680,0.028663337230682,0.021342171356082,-0.017264245077968,0.014296219684184,0.005738361272961,-0.017475135624409,0.029604459181428,0.015292441472411,-0.008513365872204,-0.000620359089226,-0.007427301257849,-0.029791684821248));
res += mul(Get(s3,0,dy), float4x4(-0.032249189913273,0.020949900150299,0.047824520617723,-0.002982335630804,0.016344167292118,0.008248918689787,-0.006030833814293,-0.009000180289149,-0.003978899214417,0.014827229082584,0.017244350165129,0.033421758562326,-0.002779126632959,0.013518297113478,-0.008361225016415,-0.006017173640430));
res += mul(Get(s3,dx,-dy), float4x4(0.009780360385776,0.052345156669617,0.034789737313986,-0.003627585945651,-0.032670132815838,0.011066993698478,0.019331196323037,0.006300695706159,-0.034941300749779,-0.008842488750815,0.004322499036789,-0.014024537056684,-0.029762946069241,0.003361663082615,-0.022124653682113,0.018289675936103));
res += mul(Get(s3,dx,0), float4x4(0.011601993814111,0.059859570115805,0.003554309485480,0.013478250242770,0.022698059678078,0.007412379141897,-0.007373316213489,0.016614658758044,-0.034584984183311,0.031134305521846,0.044250782579184,-0.003042711177841,0.005917285103351,-0.006597561296076,-0.029917892068624,0.013382758945227));
res += mul(Get(s3,dx,dy), float4x4(0.058463636785746,0.006045328918844,-0.000309650000418,0.006018534302711,-0.009058636613190,-0.024630090221763,-0.022250240668654,-0.000045776938350,0.026154143735766,0.026865631341934,-0.033620387315750,0.018348239362240,0.010584391653538,-0.006591020617634,0.002048218157142,0.001345461118035));
return max(float4(0,0,0,0), res);
}
