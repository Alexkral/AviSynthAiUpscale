sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.010380543768406,0.005250356160104,0.022798942402005,-0.002658762503415,0.020614922046661,-0.007947812788188,-0.001618203124963,0.063842922449112,-0.021614849567413,-0.001593298744410,-0.003803031751886,-0.002543489448726,-0.025889221578836,0.020431471988559,-0.031913135200739,-0.054729327559471));
res += mul(Get(s0,-dx,0), float4x4(0.039800785481930,0.021344918757677,-0.014055517502129,0.007948696613312,0.044584657996893,0.015367914922535,0.013380500487983,0.008538133464754,-0.009740582667291,-0.036322001367807,-0.003224759362638,0.000912512128707,0.000632370123640,0.029585367068648,-0.013854841701686,-0.000435229594586));
res += mul(Get(s0,-dx,dy), float4x4(0.025520922616124,-0.024572214111686,-0.000547453702893,0.035696469247341,-0.014811020344496,0.018396690487862,0.008876144886017,0.083140052855015,-0.021233843639493,0.014889559708536,0.004108563996851,0.024287784472108,0.033483058214188,0.013051895424724,-0.013577399775386,0.028019586578012));
res += mul(Get(s0,0,-dy), float4x4(0.042144145816565,0.013645402155817,0.039265617728233,0.042573008686304,0.006938091013581,-0.018187189474702,0.018154453486204,0.018382662907243,-0.014132915064692,-0.012360390275717,0.013735275715590,0.010640701279044,0.019583383575082,-0.003863555844873,-0.014948173426092,-0.028721556067467));
res += mul(Get(s0,0,0), float4x4(0.010629934258759,0.022904790937901,0.000870735093486,0.038628101348877,-0.004258926026523,0.002636016812176,0.016120113432407,-0.011828653514385,0.004081774037331,0.022695887833834,-0.029082102701068,-0.016698008403182,0.038839090615511,0.029369214549661,-0.002218253212050,-0.028581164777279));
res += mul(Get(s0,0,dy), float4x4(0.031247658655047,0.027576921507716,0.032819390296936,0.060934778302908,0.009370857849717,-0.016262177377939,-0.010492313653231,0.030641155317426,-0.012378807179630,-0.013743960298598,0.011021846905351,-0.024624802172184,0.022762753069401,-0.020936800166965,0.038173034787178,0.014660369604826));
res += mul(Get(s0,dx,-dy), float4x4(0.022405918687582,-0.017146272584796,-0.005078688263893,-0.020944016054273,0.003368301549926,0.013019187375903,-0.005895505659282,0.006622428074479,-0.030258081853390,0.012259101495147,-0.011485078372061,0.029547473415732,0.034087531268597,-0.031285639852285,0.037361282855272,-0.011734516359866));
res += mul(Get(s0,dx,0), float4x4(-0.010802079923451,0.037524182349443,0.005272637121379,-0.042385384440422,0.002097981516272,0.043230444192886,0.001328446902335,0.022375652566552,0.009391034953296,-0.007345058489591,-0.026711491867900,-0.016992872580886,0.017062811180949,-0.015705095604062,0.006393576040864,-0.007826837711036));
res += mul(Get(s0,dx,dy), float4x4(0.038060843944550,0.030526086688042,0.005121028050780,0.000341630016919,0.021135590970516,-0.052958182990551,-0.018962584435940,0.023753358051181,-0.005999969784170,0.005009705200791,-0.002081237500533,0.022303154692054,-0.009139208123088,0.062995284795761,-0.040204901248217,0.072598449885845));
res += mul(Get(s1,-dx,-dy), float4x4(0.017069132998586,0.033177576959133,0.024032589048147,-0.003061895025894,0.022707877680659,0.008178187534213,0.033423721790314,0.027882888913155,-0.029186790809035,0.008229472674429,-0.006310134660453,0.017973108217120,-0.001146083930507,-0.011999474838376,0.022093662992120,0.008849642239511));
res += mul(Get(s1,-dx,0), float4x4(-0.025524113327265,0.018786128610373,-0.009268566034734,0.007719933055341,-0.018181392922997,-0.002967446111143,-0.013036655262113,0.040957603603601,-0.016528759151697,-0.014560774900019,-0.009554744698107,0.030347201973200,-0.001520821941085,0.027037225663662,0.002694950439036,-0.007043623831123));
res += mul(Get(s1,-dx,dy), float4x4(-0.019047133624554,0.010386008769274,-0.010805401951075,-0.008928161114454,0.008651564829051,0.039489407092333,-0.005894476547837,-0.000526486895978,-0.022419277578592,-0.016745809465647,0.017847981303930,0.030740207061172,-0.021701093763113,-0.034916225820780,0.017967900261283,0.023610610514879));
res += mul(Get(s1,0,-dy), float4x4(0.008089574985206,-0.004630643408746,-0.018492832779884,0.014927396550775,0.010814030654728,0.012193527072668,0.021250845864415,-0.004807769320905,-0.024876900017262,-0.003200866747648,-0.001044136821292,0.003292964305729,-0.003095619380474,-0.020602272823453,-0.015253483317792,0.031926527619362));
res += mul(Get(s1,0,0), float4x4(-0.021523242816329,0.021262384951115,-0.025997079908848,-0.025588432326913,0.013010362163186,0.076049096882343,-0.026347341015935,0.038099739700556,0.007665528450161,0.049120098352432,-0.004838838707656,0.018421066924930,-0.040633480995893,0.003161364933476,0.012296128086746,0.013111391104758));
res += mul(Get(s1,0,dy), float4x4(-0.019978487864137,0.024338081479073,-0.010805522091687,0.031315177679062,0.016775619238615,-0.043052449822426,-0.017873415723443,0.002661192789674,-0.007357610855252,-0.028046917170286,0.005119636654854,-0.022343393415213,0.022672932595015,-0.035361599177122,-0.024556003510952,0.049186836928129));
res += mul(Get(s1,dx,-dy), float4x4(-0.022244837135077,-0.001251547713764,-0.015174767933786,0.021689884364605,-0.029798870906234,-0.011505194939673,0.036133993417025,-0.005420241039246,0.002305983798578,0.021781470626593,-0.026667671278119,0.035674583166838,0.030746968463063,0.014086041599512,0.007202841807157,-0.002048805356026));
res += mul(Get(s1,dx,0), float4x4(-0.007386680226773,-0.012142656370997,-0.002408180851489,-0.020159339532256,0.017504548653960,0.008141618221998,-0.004468827508390,0.051555018872023,-0.002959513803944,0.003709822893143,0.016695477068424,-0.008122081868351,0.036184184253216,-0.012251926586032,0.019300948828459,-0.027838878333569));
res += mul(Get(s1,dx,dy), float4x4(-0.021277448162436,0.019404973834753,-0.001003221957944,-0.031901687383652,0.008296642452478,0.010727399960160,0.029608538374305,0.013091606087983,-0.031026355922222,0.013578486628830,-0.002656687516719,0.016854593530297,-0.022059699520469,0.011546984314919,0.023064663633704,-0.020409855991602));
res += mul(Get(s2,-dx,-dy), float4x4(0.040055301040411,-0.000518749351613,0.011201504617929,0.019682966172695,0.001990859163925,-0.000098082717159,0.000937220873311,0.020878525450826,-0.017667645588517,0.002045596484095,0.015537107363343,0.002851611934602,0.005488997790962,0.015059677883983,-0.005344586912543,0.021130161359906));
res += mul(Get(s2,-dx,0), float4x4(0.013277703896165,-0.026963159441948,0.012023472227156,0.042281519621611,0.086896583437920,0.014022069983184,0.006397304125130,0.029281135648489,0.067101724445820,0.047218360006809,0.036764506250620,-0.055380333214998,0.044273886829615,0.023465642705560,0.030390735715628,-0.028519146144390));
res += mul(Get(s2,-dx,dy), float4x4(0.008693645708263,-0.046903233975172,0.002117374911904,0.013158750720322,0.070704907178879,0.019434323534369,-0.003224443411455,0.011053561232984,0.002222677925602,-0.004662120249122,0.006141882855445,0.084470562636852,-0.044748358428478,0.024684147909284,-0.032979384064674,0.082767657935619));
res += mul(Get(s2,0,-dy), float4x4(0.012953198514879,0.036572847515345,-0.018546350300312,0.024875083938241,0.102791048586369,-0.041756913065910,-0.026116760447621,0.016068700700998,0.014572076499462,-0.020986085757613,-0.004705493338406,0.070770278573036,0.038247652351856,-0.017826037481427,0.005797071382403,0.023360831663013));
res += mul(Get(s2,0,0), float4x4(-0.005807737819850,-0.031412146985531,-0.017469637095928,0.044809725135565,0.021300453692675,0.019046751782298,-0.003135166130960,0.065964519977570,0.062013488262892,0.037410397082567,0.029273217543960,-0.026644712314010,0.009267332032323,0.042932529002428,0.026367163285613,-0.007070223800838));
res += mul(Get(s2,0,dy), float4x4(0.011605678126216,-0.041735008358955,-0.025408484041691,0.013999404385686,-0.012097817845643,0.071186929941177,-0.031278267502785,0.025893175974488,-0.019821066409349,0.012914003804326,-0.001033056410961,0.086011014878750,-0.017380304634571,0.046168368309736,0.014290267601609,0.033509682863951));
res += mul(Get(s2,dx,-dy), float4x4(-0.018596908077598,0.048111349344254,-0.020764522254467,-0.012003913521767,-0.003784410888329,-0.079669862985611,0.004768674261868,-0.012942599132657,-0.004430894274265,0.006971431896091,0.025107620283961,0.029426667839289,0.022499866783619,-0.005570811219513,-0.024553241208196,-0.006911847740412));
res += mul(Get(s2,dx,0), float4x4(-0.006108708214015,0.051813744008541,-0.006769874598831,0.034718241542578,-0.044686477631330,0.023795729503036,0.019027654081583,0.061707310378551,-0.002160568488762,0.063357219099998,0.006470192689449,-0.044835414737463,-0.006886329501867,0.077259816229343,0.021927393972874,0.026104941964149));
res += mul(Get(s2,dx,dy), float4x4(0.011808075010777,0.003646569559351,-0.008574215695262,0.002546715317294,0.050110936164856,-0.009053481742740,0.011665536090732,0.043520629405975,-0.013097430579364,0.008039062842727,0.009673061780632,0.068511337041855,0.021626139059663,-0.015090214088559,-0.019368937239051,0.015046405605972));
res += mul(Get(s3,-dx,-dy), float4x4(0.022832171991467,0.007119794376194,0.034893665462732,0.009567399509251,0.005685763899237,-0.014664498157799,0.002177171874791,0.007959169335663,0.005264899693429,0.001238203607500,-0.021235711872578,0.026782352477312,0.019077075645328,0.005429951939732,-0.041689377278090,0.008940490894020));
res += mul(Get(s3,-dx,0), float4x4(0.011525548063219,-0.011700928211212,-0.023336574435234,0.024598959833384,-0.002241517184302,0.017086381092668,0.009665057063103,-0.002732143271714,0.011887448839843,0.001326960744336,-0.035861831158400,0.042216759175062,-0.010272802785039,0.037311971187592,0.015304167754948,0.000905057881027));
res += mul(Get(s3,-dx,dy), float4x4(0.022665657103062,-0.055224802345037,0.028229586780071,-0.021504878997803,-0.000705471553374,-0.011556425131857,-0.015969077125192,-0.022071190178394,0.034914106130600,0.016117347404361,-0.005319936200976,-0.018148668110371,-0.006143281701952,-0.031713709235191,-0.002449841937050,0.012318690307438));
res += mul(Get(s3,0,-dy), float4x4(-0.009920973330736,0.000068996814662,-0.034260168671608,0.016644679009914,0.019820146262646,0.018200185149908,-0.024133739992976,-0.005163287743926,0.012711152434349,0.002348291920498,-0.006489494349808,-0.008123416453600,0.020846949890256,0.026635760441422,-0.009706309065223,0.018442938104272));
res += mul(Get(s3,0,0), float4x4(-0.009458597749472,0.030596131458879,-0.018510071560740,-0.003011644585058,0.004834857769310,-0.014271860942245,0.005485290661454,0.007622033823282,0.000868654809892,0.025561686605215,0.022712571546435,0.006444641854614,0.027805346995592,0.013127438724041,0.001070361118764,0.043162878602743));
res += mul(Get(s3,0,dy), float4x4(-0.032850209623575,-0.031468287110329,-0.031648706644773,-0.011883432976902,-0.018643021583557,-0.003489837283269,0.040512554347515,0.024721998721361,-0.024389542639256,0.011895774863660,-0.024347485974431,-0.034962367266417,0.012310729362071,0.048542723059654,0.002669952111319,0.043564252555370));
res += mul(Get(s3,dx,-dy), float4x4(0.003282564459369,0.014774573035538,0.002602341352031,0.006592042744160,-0.004500202368945,-0.013514628633857,-0.025280006229877,-0.021187523379922,0.019236948341131,0.003983343485743,0.006623436231166,-0.028870020061731,-0.004230717197061,0.004313223529607,0.027100302278996,0.027233732864261));
res += mul(Get(s3,dx,0), float4x4(-0.016807338222861,-0.018414119258523,-0.020372305065393,-0.004860615823418,-0.006795424968004,-0.021883172914386,-0.000288831564831,-0.006658594124019,-0.022903636097908,-0.006354582495987,-0.027021450921893,-0.020203575491905,0.002505728509277,-0.015433323569596,-0.013441068120301,0.004866624251008));
res += mul(Get(s3,dx,dy), float4x4(-0.009309475310147,0.003378911875188,-0.020374922081828,0.000059723359300,-0.002339283004403,-0.040441703051329,-0.026957169175148,-0.027467409148812,0.016454305499792,-0.004001003224403,-0.005077530164272,-0.018476454541087,-0.027775129303336,0.011543006636202,-0.002024045679718,-0.046724785119295));
return max(float4(0,0,0,0), res);
}
