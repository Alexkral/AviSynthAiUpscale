sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.042672853916883,-0.012021016329527,0.002177810762078,-0.021929543465376,-0.011207564733922,-0.012113654986024,-0.001532235997729,-0.002075866330415,-0.007688098587096,0.028030827641487,0.010625266470015,-0.022868655622005,-0.026987606659532,0.018586214631796,-0.000662953825668,-0.000932892959099));
res += mul(Get(s0,-dx,0), float4x4(0.026772972196341,-0.036508936434984,0.016955191269517,0.020699778571725,-0.019528226926923,0.002543784910813,-0.038247626274824,-0.005173368845135,-0.014155870303512,-0.005549124442041,0.019089922308922,-0.017124557867646,0.011662661097944,0.003980932757258,-0.005619335919619,-0.001349753583781));
res += mul(Get(s0,-dx,dy), float4x4(-0.011015756055713,-0.019563756883144,0.003474165219814,-0.041402373462915,-0.000912865623832,0.001813312061131,0.005854960065335,0.022045819088817,0.009417735971510,0.011686770245433,0.023726096376777,-0.023317795246840,-0.006397569552064,-0.007906367070973,-0.010175212286413,0.001732123317197));
res += mul(Get(s0,0,-dy), float4x4(0.015977032482624,-0.017937440425158,0.005309999920428,-0.008207847364247,-0.006316910497844,0.038955930620432,-0.008627424947917,0.004112662281841,0.024599296972156,-0.008403230458498,0.000943552469835,-0.008100179955363,0.005852655041963,-0.018017107620835,0.010312019847333,-0.018498364835978));
res += mul(Get(s0,0,0), float4x4(0.014069902710617,-0.022094171494246,0.013582285493612,-0.008934263139963,-0.013037673197687,-0.014075792394578,0.009360792115331,0.027513381093740,-0.020902596414089,0.023281330242753,-0.028077585622668,-0.004688485525548,0.025306198745966,0.003103599650785,-0.033268284052610,0.049701329320669));
res += mul(Get(s0,0,dy), float4x4(0.024347655475140,0.007638491224498,0.003485906869173,-0.004481079056859,-0.005806935485452,0.000514206825756,-0.035580895841122,0.006453781854361,-0.010209984146059,0.007128354161978,0.005024649202824,-0.029146276414394,0.016013758257031,0.027669107541442,0.000721251708455,0.011056155897677));
res += mul(Get(s0,dx,-dy), float4x4(-0.025639520958066,0.011979923583567,0.018092563375831,-0.027606908231974,-0.006891680415720,0.008476910181344,0.006503239739686,-0.001331283594482,0.055671148002148,-0.025200404226780,-0.014911837875843,-0.010994643904269,-0.030630053952336,0.029646106064320,-0.001615624758415,-0.002776852343231));
res += mul(Get(s0,dx,0), float4x4(-0.006402517668903,0.031441051512957,0.030692502856255,-0.010909896343946,0.017291305586696,0.004856260493398,0.035281430929899,0.000139687224873,-0.034244801849127,-0.001573338056915,-0.031603608280420,-0.002159794559702,0.001075468258932,0.004915439058095,0.010615515522659,0.020526014268398));
res += mul(Get(s0,dx,dy), float4x4(0.008412721566856,0.002074952470139,-0.020021524280310,0.006210108287632,-0.001579636591487,-0.000321847881423,-0.014293109998107,0.005358987953514,-0.018807059153914,-0.005582676734775,-0.015451122075319,-0.040357187390327,-0.022630902007222,-0.007449651602656,-0.001505326479673,-0.027271900326014));
res += mul(Get(s1,-dx,-dy), float4x4(-0.016085088253021,-0.006983336061239,-0.005680695176125,-0.022478386759758,-0.019570313394070,-0.012422285974026,0.010869638063014,0.020079275593162,-0.000238215186982,-0.026814579963684,0.042556095868349,0.012642317451537,-0.010800244286656,0.037898942828178,-0.014650928787887,-0.013275516219437));
res += mul(Get(s1,-dx,0), float4x4(0.003180332481861,0.001348976278678,-0.042270652949810,-0.026502944529057,0.023479951545596,0.008986183442175,0.004399204161018,0.000804758979939,0.011584872379899,0.026805775240064,-0.016747593879700,0.009111525490880,0.000096009534900,0.000460524548544,-0.005456200800836,0.005502301733941));
res += mul(Get(s1,-dx,dy), float4x4(0.008677959442139,0.020070375874639,0.017647711560130,0.001051984727383,-0.012811111286283,-0.011459401808679,0.000147379265400,-0.010636173188686,0.023826986551285,0.006660475395620,-0.011342266574502,0.003866703249514,-0.006125221028924,0.002330609830096,0.002222281647846,-0.002438031136990));
res += mul(Get(s1,0,-dy), float4x4(-0.027015769854188,-0.014817070215940,-0.005829060915858,-0.005337578710169,0.004479244817048,0.014671322889626,0.023710411041975,-0.027452195063233,0.026070050895214,0.001789868692867,0.006828525569290,0.005170888733119,-0.001131856115535,0.015316219069064,0.009493712335825,0.017117474228144));
res += mul(Get(s1,0,0), float4x4(0.029095537960529,-0.013992003165185,0.002075577853248,-0.016255393624306,0.027401903644204,0.008190790191293,-0.004386508837342,0.021309426054358,-0.013705940917134,-0.006320821586996,0.000588839699049,-0.005052253138274,0.011025384999812,-0.012422794476151,-0.007924734614789,-0.020780082792044));
res += mul(Get(s1,0,dy), float4x4(-0.006572466809303,0.020473213866353,0.003682357026264,0.010252008214593,0.010997450910509,0.008123205043375,0.031577151268721,-0.002873815828934,-0.003917506895959,0.031127518042922,-0.020013799890876,-0.014654115773737,-0.014873814769089,-0.015154337510467,-0.037368282675743,-0.029513703659177));
res += mul(Get(s1,dx,-dy), float4x4(-0.010666273534298,0.013988186605275,0.008209511637688,0.005029896739870,-0.008967398665845,0.056989572942257,0.033278312534094,0.009771198965609,0.009418549947441,-0.023454947397113,0.024249736219645,-0.004565576091409,-0.004452886059880,0.008353203535080,-0.009376400150359,-0.030411563813686));
res += mul(Get(s1,dx,0), float4x4(-0.000713733374141,0.007593800313771,0.038776982575655,-0.010584757663310,-0.003945046104491,-0.023255662992597,-0.000495025771670,0.017133966088295,0.000864711822942,0.023938611149788,0.011870088987052,-0.017265966162086,-0.006268782075495,0.018275661394000,-0.000328435853589,0.017521757632494));
res += mul(Get(s1,dx,dy), float4x4(-0.021808693185449,-0.002360892714933,0.025098053738475,0.021084787324071,0.018013687804341,-0.010226615704596,0.003407958894968,-0.019538162276149,0.015737712383270,-0.000061925537011,-0.005668276920915,0.004927469883114,0.004952821880579,0.017775997519493,0.007128302939236,-0.043488837778568));
res += mul(Get(s2,-dx,-dy), float4x4(0.037420988082886,-0.025436693802476,-0.021413585171103,0.025027530267835,0.035366863012314,-0.019108524546027,-0.030165029689670,0.033862583339214,0.031939752399921,0.044795662164688,0.009657988324761,-0.024402283132076,-0.019734563305974,0.005246709100902,0.006078841630369,0.022590180858970));
res += mul(Get(s2,-dx,0), float4x4(0.023072240874171,-0.034281726926565,-0.015674216672778,-0.018968228250742,0.003591308603063,0.011422035284340,0.032096516340971,0.029235387220979,0.008119811303914,-0.016358826309443,0.013020376674831,0.004615850746632,-0.024795452132821,0.009847329929471,0.012528811581433,-0.001290249521844));
res += mul(Get(s2,-dx,dy), float4x4(-0.011588786728680,0.000725392717868,-0.006450443528593,0.032812867313623,0.001853811671026,0.009666485711932,-0.004402848891914,0.022861242294312,-0.013653167523444,-0.017900038510561,0.034494929015636,-0.001902978867292,-0.001746361143887,-0.003252665745094,-0.053059715777636,0.011380682699382));
res += mul(Get(s2,0,-dy), float4x4(-0.010325995273888,0.014391656965017,0.011205612681806,0.021108875051141,-0.005674740765244,0.018050005659461,-0.010285235941410,-0.026877718046308,-0.053508039563894,-0.010398483835161,0.020925387740135,0.004561623558402,-0.008339914493263,-0.029586888849735,0.003322406904772,0.007949703373015));
res += mul(Get(s2,0,0), float4x4(0.006790924351662,-0.004871351178735,-0.001946392119862,-0.002695844974369,-0.035301286727190,-0.009667722508311,0.011644905433059,-0.013537785969675,-0.004874022677541,-0.026593370363116,-0.001709326403216,-0.000682356825564,0.012012920342386,0.007723907940090,0.009839499369264,0.000145372468978));
res += mul(Get(s2,0,dy), float4x4(-0.030868284404278,0.010532153770328,0.025396894663572,0.010664433240891,-0.011037359014153,0.021806402131915,-0.007411564700305,-0.028734559193254,0.015016107819974,-0.030616277828813,-0.006029944866896,-0.002934004412964,-0.003087762976065,-0.019950393587351,0.004593303892761,-0.006405449006706));
res += mul(Get(s2,dx,-dy), float4x4(0.004254878498614,0.033866941928864,-0.012914673425257,-0.002514843596146,0.000663792132400,0.008897017687559,-0.023349108174443,-0.003491034731269,-0.000264275120571,0.023835578933358,-0.013628846034408,-0.040363427251577,-0.001622875221074,-0.007521929685026,-0.007861105725169,-0.038139309734106));
res += mul(Get(s2,dx,0), float4x4(-0.017191914841533,-0.021932337433100,0.020246258005500,0.017475819215178,0.003306611906737,-0.034336861222982,0.009064634330571,0.039156284183264,0.009361645206809,-0.019381508231163,0.014765324071050,0.012491717934608,0.020526690408587,0.009616700001061,-0.017520176246762,0.028762588277459));
res += mul(Get(s2,dx,dy), float4x4(0.024658633396029,0.015176708810031,0.015152054838836,0.007298145908862,-0.039837278425694,-0.002247848082334,0.033561892807484,-0.008341779001057,-0.035224515944719,0.046378370374441,-0.012080027721822,-0.009113506413996,0.008939898572862,0.006942785345018,-0.004488338716328,0.005864683073014));
res += mul(Get(s3,-dx,-dy), float4x4(0.002754413057119,0.018552985042334,-0.008141175843775,-0.014794599264860,-0.019783977419138,0.000109673870611,0.011326479725540,-0.054622918367386,-0.022017179057002,-0.026989426463842,-0.025645500048995,-0.019610395655036,-0.008280932903290,0.018458541482687,-0.005660701077431,0.018622495234013));
res += mul(Get(s3,-dx,0), float4x4(0.020755011588335,-0.030159907415509,0.007116211112589,-0.017200630158186,0.011376949958503,0.015043877996504,0.007176299113780,-0.014880686067045,0.005565135739744,0.005507263820618,-0.004129955079406,0.011814485304058,-0.017258064821362,0.016904642805457,0.003706586547196,-0.011990669183433));
res += mul(Get(s3,-dx,dy), float4x4(-0.002379676094279,0.006132116541266,0.018128328025341,-0.017088379710913,0.005480781197548,-0.033304065465927,0.002322466112673,0.021979242563248,-0.013910800218582,-0.012349841184914,-0.039070881903172,-0.014826615341008,-0.007197776343673,0.007512961514294,0.021859487518668,0.026782875880599));
res += mul(Get(s3,0,-dy), float4x4(0.011772470548749,0.001746330410242,-0.019168395549059,0.019472802057862,0.016080331057310,0.024396108463407,0.009465636685491,-0.020428838208318,0.023202495649457,-0.015124002471566,0.004227242432535,-0.005321416072547,0.026385687291622,-0.002900565741584,0.007861551828682,0.033329583704472));
res += mul(Get(s3,0,0), float4x4(0.004172376357019,-0.034961145371199,-0.002531751291826,-0.006866878364235,0.002010884461924,0.007824308238924,-0.011664210818708,0.004037865437567,0.013762237504125,0.025422269478440,0.023230334743857,-0.023193474858999,0.024907499551773,0.013649898581207,-0.011367415077984,0.029390288516879));
res += mul(Get(s3,0,dy), float4x4(0.021113846451044,-0.009613095782697,0.033752482384443,-0.013733238913119,-0.061614122241735,0.000638425699435,-0.019966995343566,-0.013183145783842,-0.027574274688959,-0.009962020441890,-0.017800401896238,-0.017374362796545,-0.008802098222077,-0.014403050765395,0.017083859071136,0.017362102866173));
res += mul(Get(s3,dx,-dy), float4x4(0.016065545380116,0.035584919154644,0.004412950482219,0.004621586762369,-0.016762819141150,0.023454448208213,0.015344314277172,-0.011968364939094,-0.037105266004801,0.001468959497288,-0.010127788409591,-0.016180459409952,-0.021465616300702,0.007433632854372,-0.014623795635998,0.008062653243542));
res += mul(Get(s3,dx,0), float4x4(0.012515207752585,0.042774263769388,-0.000209223275306,-0.008681310340762,-0.030625917017460,-0.015818301588297,-0.023278933018446,0.040041550993919,0.011500609107316,-0.028955884277821,-0.020637204870582,0.020711764693260,-0.009063773788512,0.038962788879871,-0.006403294857591,-0.008533654734492));
res += mul(Get(s3,dx,dy), float4x4(0.013637658208609,0.020052358508110,-0.058443821966648,-0.001881406526081,-0.011029380373657,0.028016798198223,-0.019431861117482,-0.035202145576477,0.003568115644157,-0.007539332378656,-0.014836674556136,-0.011131828650832,-0.009780779480934,0.018078127875924,0.028133038431406,0.008471840061247));
return max(float4(0,0,0,0), res);
}
