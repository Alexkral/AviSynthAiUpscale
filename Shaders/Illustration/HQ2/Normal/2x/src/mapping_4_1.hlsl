sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.016766147688031,-0.035039238631725,0.016315681859851,-0.022586531937122,0.015556982718408,0.007433066144586,0.031598944216967,0.022260269150138,-0.038268640637398,-0.018982686102390,-0.003657587571070,0.062565974891186,-0.004938364028931,-0.015882054343820,0.021729249507189,-0.027144279330969));
res += mul(Get(s0,-dx,0), float4x4(0.015861462801695,-0.021054469048977,-0.010252156294882,0.011614331975579,-0.041687518358231,-0.066797971725464,0.005458487663418,0.020601516589522,-0.018954833969474,-0.039984222501516,-0.006236267741770,0.068970099091530,0.023541480302811,-0.001142932800576,-0.023232918232679,0.025432979688048));
res += mul(Get(s0,-dx,dy), float4x4(-0.027402209118009,-0.008019687607884,0.004115352872759,-0.007545011118054,0.002661543898284,-0.008207927457988,0.005791017785668,0.039600107818842,-0.022680616006255,0.011589755304158,0.096025034785271,0.009184013120830,0.005971302744001,-0.019125791266561,-0.013033632189035,-0.024269135668874));
res += mul(Get(s0,0,-dy), float4x4(-0.009164987131953,-0.018378362059593,0.008290295489132,-0.024467565119267,0.005234645213932,0.014158996753395,0.014903541654348,0.021213285624981,-0.006051813717932,0.017155161127448,-0.043300505727530,0.227502584457397,-0.007002787664533,0.013942816294730,0.010631809011102,-0.045160003006458));
res += mul(Get(s0,0,0), float4x4(0.018678838387132,-0.002435052068904,0.030659742653370,-0.035194322466850,-0.023392667993903,0.009857839904726,-0.034266062080860,-0.027596630156040,-0.000595195509959,-0.035025447607040,0.119287140667439,0.083556465804577,-0.033902611583471,-0.033984828740358,0.034035336226225,-0.010397725738585));
res += mul(Get(s0,0,dy), float4x4(-0.012775752693415,0.030842125415802,-0.001277284114622,0.010903740301728,-0.002581279492006,0.003780535887927,0.015370386652648,-0.015985533595085,-0.012969464063644,-0.015823308378458,0.075499765574932,-0.028700582683086,-0.001725136302412,0.008181378245354,0.036854438483715,0.005017509683967));
res += mul(Get(s0,dx,-dy), float4x4(0.015154435299337,0.024302691221237,0.039055299013853,-0.028892230242491,0.014163815416396,-0.017674466595054,-0.022519268095493,0.005120516754687,0.025503274053335,-0.002875834936276,0.042667422443628,0.120473228394985,-0.033582866191864,-0.033284150063992,-0.008305612020195,0.013251552358270));
res += mul(Get(s0,dx,0), float4x4(0.029625158756971,0.019982831552625,0.005102882627398,-0.004900527186692,0.004596625920385,-0.002621874678880,0.006295307073742,0.023437326774001,-0.035078786313534,0.013668752275407,0.094878315925598,-0.022868448868394,0.000269864453003,-0.010061654262245,0.008513845503330,0.015179753303528));
res += mul(Get(s0,dx,dy), float4x4(-0.002454058732837,-0.000047579374950,-0.040855556726456,0.001712292549200,0.003029533429071,-0.011046313680708,0.013708967715502,-0.022626463323832,-0.035775516182184,-0.002960896119475,-0.012139878235757,0.000786399003118,0.036343764513731,-0.002190923085436,-0.003766838926822,0.019697565585375));
res += mul(Get(s1,-dx,-dy), float4x4(-0.030202036723495,0.039330787956715,-0.037436526268721,0.103119641542435,0.014278224669397,0.027546396479011,0.021015089005232,0.016478043049574,-0.021414255723357,-0.013447710312903,-0.013048091903329,-0.011806210502982,-0.028640599921346,-0.002959289355204,0.050470672547817,-0.040881242603064));
res += mul(Get(s1,-dx,0), float4x4(-0.000660640711430,-0.022544251754880,0.071658082306385,-0.017263421788812,0.004289633594453,0.003088623052463,0.005205643363297,-0.019401956349611,0.007122537121177,0.015398828312755,-0.030182510614395,-0.003175727557391,0.006313402671367,0.025519695132971,-0.061577420681715,0.142874747514725));
res += mul(Get(s1,-dx,dy), float4x4(-0.029624532908201,-0.015607366338372,0.019219724461436,-0.055116385221481,0.018618697300553,0.028783760964870,0.025020996108651,0.020562518388033,0.008355563506484,0.017050238326192,-0.010858048684895,-0.044090956449509,-0.018470963463187,0.024905763566494,0.028190065175295,0.081430956721306));
res += mul(Get(s1,0,-dy), float4x4(-0.004298840183765,-0.008903536945581,0.041682869195938,0.011942543089390,0.016270978376269,0.013726705685258,0.047796588391066,-0.017156893387437,0.004567395430058,0.006987666711211,0.019691135734320,-0.018024181947112,-0.006123786326498,-0.003798059886321,0.018075972795486,-0.020030552521348));
res += mul(Get(s1,0,0), float4x4(0.037350270897150,-0.004248539451510,0.070794343948364,-0.062953546643257,0.058929912745953,-0.014545054174960,-0.050102148205042,-0.029133122414351,0.011836034245789,-0.016889983788133,0.002084228675812,0.063664898276329,0.028729781508446,-0.014459851197898,-0.022286538034678,0.115241147577763));
res += mul(Get(s1,0,dy), float4x4(0.006140624638647,-0.018945680931211,-0.019777568057179,0.004528943914920,0.013942775316536,0.020879475399852,-0.041462287306786,0.022359920665622,-0.015090866014361,0.014840084128082,0.018260015174747,0.007412043400109,0.027544775977731,-0.002739815507084,0.064647093415260,-0.043601792305708));
res += mul(Get(s1,dx,-dy), float4x4(-0.008742251433432,-0.017877191305161,-0.004025909584016,-0.030289616435766,0.002321073086932,0.019658360630274,0.046301417052746,0.008156461641192,0.010928164236248,-0.003479781560600,-0.024819100275636,0.001737475162372,-0.004672714509070,-0.008217230439186,0.050643719732761,-0.044786948710680));
res += mul(Get(s1,dx,0), float4x4(-0.032316137105227,0.001781083410606,-0.046691406518221,0.054204519838095,0.012529408559203,-0.027992634102702,0.019870446994901,0.017867077142000,-0.009292553178966,0.003629178740084,-0.045023512095213,0.049208279699087,0.054872103035450,-0.040696758776903,0.061492387205362,0.033874146640301));
res += mul(Get(s1,dx,dy), float4x4(-0.007954228669405,-0.003054957371205,0.035407003015280,0.063761696219444,0.049383915960789,-0.019024813547730,-0.025196591392159,-0.004228425677866,-0.010096409358084,0.011304522864521,0.003235802520066,-0.062508352100849,0.031931705772877,0.014398734085262,0.041762124747038,-0.010046377778053));
res += mul(Get(s2,-dx,-dy), float4x4(0.003138655330986,-0.015767194330692,-0.001555798808113,0.008714055642486,-0.020741486921906,0.036166206002235,0.044789884239435,-0.000254375510849,-0.043789897114038,-0.031783554702997,-0.008285947144032,0.021912962198257,-0.000022151447411,0.005753185134381,-0.036561056971550,0.013452067971230));
res += mul(Get(s2,-dx,0), float4x4(0.006666608620435,-0.004731774795800,0.028601029887795,-0.031397968530655,-0.004378582816571,-0.044482443481684,-0.026743650436401,0.039696373045444,0.016493996605277,-0.000618214136921,-0.004860070068389,0.000741310941521,-0.025955250486732,-0.003160626860335,0.016270143911242,-0.033727213740349));
res += mul(Get(s2,-dx,dy), float4x4(-0.010248221457005,-0.003322276985273,-0.001805135514587,-0.013491989113390,-0.004567983094603,-0.019328590482473,0.029861176386476,0.038214374333620,-0.001311782863922,-0.016040233895183,0.008738970384002,-0.027804162353277,0.011683754622936,-0.020501920953393,-0.017035815864801,-0.039044100791216));
res += mul(Get(s2,0,-dy), float4x4(-0.030083762481809,0.003364833770320,0.010937754064798,0.011485231108963,0.037305574864149,-0.014637367799878,0.009433166123927,0.029858369380236,0.026019630953670,0.013932370580733,0.007185044232756,0.026786286383867,0.001213853945956,-0.020717883482575,-0.023625044152141,0.026181656867266));
res += mul(Get(s2,0,0), float4x4(0.006130907684565,0.026337774470448,-0.012445189990103,-0.011188209056854,-0.008455141447484,0.002522862050682,0.020218966528773,0.028955962508917,0.014085633680224,-0.008248206228018,-0.002191745676100,0.001855567912571,0.006344019901007,-0.025827134028077,0.018929675221443,0.012245651334524));
res += mul(Get(s2,0,dy), float4x4(0.040922701358795,0.015070423483849,-0.018684048205614,-0.002163351513445,-0.014865643344820,0.003669342491776,0.024986496195197,0.025014854967594,0.020133767277002,-0.012011129409075,0.040793702006340,-0.035358123481274,0.025736890733242,0.009301502257586,-0.022800248116255,-0.009239673614502));
res += mul(Get(s2,dx,-dy), float4x4(0.009756423532963,0.009885182604194,-0.054227683693171,0.021979136392474,0.007753678597510,0.021462546661496,-0.002412182278931,-0.070617862045765,-0.000259619118879,-0.015297596342862,-0.007242661900818,-0.039272442460060,0.019459100440145,0.000812525860965,0.025326525792480,0.041193958371878));
res += mul(Get(s2,dx,0), float4x4(0.008527451194823,0.025362502783537,-0.022156948223710,-0.000781099428423,-0.018894286826253,-0.016801603138447,-0.008087312802672,-0.003994395956397,-0.033732950687408,0.008316503837705,-0.005563633516431,0.012066014111042,-0.026417896151543,-0.029616734012961,0.029059220105410,-0.020601008087397));
res += mul(Get(s2,dx,dy), float4x4(-0.006789172999561,0.038327548652887,0.034099735319614,-0.006633686367422,-0.026523197069764,0.043778419494629,0.020202646031976,-0.005764293018728,0.019665360450745,-0.009787560440600,-0.006509591359645,-0.034818623214960,0.011072611436248,-0.032243955880404,0.021827762946486,0.018704211339355));
res += mul(Get(s3,-dx,-dy), float4x4(0.024625387042761,0.013708317652345,-0.001334203756414,-0.002569894306362,-0.018743896856904,0.000085191568360,0.043378405272961,-0.009126965887845,0.010356590151787,0.008128745481372,0.008859511464834,0.043120183050632,0.003656843677163,-0.013817409053445,0.039967168122530,-0.012397838756442));
res += mul(Get(s3,-dx,0), float4x4(0.002354057505727,0.009259087033570,-0.025758253410459,0.005402408540249,-0.014770671725273,0.012540597468615,0.000589691218920,-0.045173555612564,-0.049202855676413,0.037647984921932,0.118078373372555,-0.066273674368858,-0.011956799775362,0.016878712922335,-0.020073357969522,0.019048267975450));
res += mul(Get(s3,-dx,dy), float4x4(0.015961680561304,0.014489474706352,-0.005248973146081,0.048710279166698,0.002662918996066,0.031348366290331,0.005765533540398,-0.013545823283494,0.035750102251768,-0.038546700030565,0.019083926454186,0.013501022942364,-0.003873472800478,-0.035559300333261,-0.037357069551945,0.068767488002777));
res += mul(Get(s3,0,-dy), float4x4(-0.041416361927986,-0.002184949815273,-0.058917842805386,0.050476655364037,0.015056967735291,0.014211311005056,0.032579254359007,-0.053785227239132,-0.011489278636873,-0.007730796467513,0.067678742110729,0.070322290062904,0.008005289360881,0.012125853449106,0.012023683637381,-0.049267549067736));
res += mul(Get(s3,0,0), float4x4(0.003468520706519,-0.019727760925889,-0.013519967906177,0.028173804283142,0.010916034691036,-0.015432509593666,-0.020019685849547,0.061369348317385,-0.007652018219233,0.007950947619975,0.095383144915104,-0.051682073622942,-0.026571171358228,0.037406336516142,-0.018180193379521,0.044320728629827));
res += mul(Get(s3,0,dy), float4x4(0.031356625258923,-0.000488322693855,0.002334367949516,-0.000353442737833,-0.010084116831422,-0.001893470413052,0.005393177270889,0.049559619277716,0.003262208774686,-0.026835726574063,-0.020291583612561,0.132102206349373,0.029718790203333,-0.013072626665235,0.005195861682296,0.028579391539097));
res += mul(Get(s3,dx,-dy), float4x4(-0.007152404636145,0.013027070090175,0.030962903052568,-0.038719173520803,-0.022794162854552,-0.008394827134907,-0.005936948582530,0.002332205651328,0.037062160670757,-0.006158254574984,-0.019400276243687,-0.019651513546705,0.029799167066813,-0.050165895372629,0.009522312320769,0.007573047652841));
res += mul(Get(s3,dx,0), float4x4(-0.007451738696545,-0.010523051954806,0.040511649101973,-0.037170093506575,-0.010666882619262,0.052039839327335,-0.011116171255708,0.040479607880116,0.019842127338052,0.014401067979634,-0.050459507852793,-0.017678355798125,-0.008862328715622,0.032177899032831,0.013828791677952,0.009663516655564));
res += mul(Get(s3,dx,dy), float4x4(-0.004650833085179,0.019096940755844,0.005214446689934,-0.017586108297110,0.015022444538772,-0.016214527189732,0.026214983314276,-0.003035191213712,0.067095793783665,-0.011782802641392,-0.015294521115720,0.032693043351173,0.029032172635198,-0.010562001727521,0.023550905287266,0.044089440256357));
return max(float4(0,0,0,0), res);
}
