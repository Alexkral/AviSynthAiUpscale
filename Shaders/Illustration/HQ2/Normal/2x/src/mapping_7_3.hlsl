sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.055221948772669,0.019987439736724,0.002852548612282,0.009583559818566,-0.040873128920794,-0.041581112891436,-0.028001312166452,0.008398239500821,-0.001569498213939,0.025121534243226,0.013925223611295,-0.009443494491279,-0.021817989647388,-0.016188556328416,0.000845927570481,0.012310795485973));
res += mul(Get(s0,-dx,0), float4x4(0.023205276578665,0.050264481455088,0.025745604187250,-0.008751003071666,0.032287508249283,-0.022275263443589,-0.001581923919730,0.010394176468253,-0.007604095619172,0.050041433423758,0.046497274190187,-0.019260877743363,0.014704990200698,0.004253341350704,-0.010391091927886,0.015222329646349));
res += mul(Get(s0,-dx,dy), float4x4(0.012907570227981,0.044823974370956,0.082979574799538,-0.017816200852394,0.026223784312606,0.001365586416796,-0.011452804319561,-0.004839628934860,0.025020539760590,-0.029625767841935,0.020777665078640,0.039891764521599,-0.022657744586468,0.030683817341924,0.009428257122636,0.000793968327343));
res += mul(Get(s0,0,-dy), float4x4(0.070448614656925,0.055640850216150,0.017195791006088,0.002281648339704,-0.018332634121180,-0.003331179730594,-0.045218657702208,0.013668416999280,0.000347008550307,0.025376761332154,-0.039684437215328,-0.012258416041732,-0.031033415347338,-0.011569560505450,-0.046957612037659,0.023188404738903));
res += mul(Get(s0,0,0), float4x4(0.011988256126642,-0.037537436932325,-0.058800987899303,-0.000363309663953,0.015885051339865,0.097932711243629,0.076789349317551,-0.022727454081178,-0.021054383367300,-0.026205055415630,-0.016881827265024,-0.001677070045844,-0.019735401496291,-0.017918605357409,-0.017419956624508,0.002168926643208));
res += mul(Get(s0,0,dy), float4x4(0.009770725853741,-0.001593172666617,0.005317528266460,-0.006918203551322,0.029738795012236,0.044082183390856,0.012828459963202,0.009278887882829,0.002280792919919,-0.032424356788397,-0.005778059829026,-0.018442375585437,-0.005915803834796,0.003183043096215,0.017611172050238,0.002993182279170));
res += mul(Get(s0,dx,-dy), float4x4(0.002539288019761,0.015356795862317,0.005253251176327,0.001629613689147,-0.034054495394230,-0.016377832740545,-0.014534856192768,0.019168775528669,0.015115614049137,-0.005373748484999,-0.033831577748060,-0.011026400141418,-0.023608140647411,-0.010996530763805,-0.004105523228645,0.004630594048649));
res += mul(Get(s0,dx,0), float4x4(0.048539713025093,-0.067013680934906,-0.047822158783674,0.008651199750602,0.008943456225097,0.021900832653046,0.020005876198411,-0.005896204151213,0.013755753636360,0.004840759560466,0.004252895247191,-0.003294759662822,0.032005961984396,0.002534969942644,-0.011742030270398,-0.011085344478488));
res += mul(Get(s0,dx,dy), float4x4(-0.020805044099689,0.019692514091730,0.091217070817947,0.011355403810740,0.032466836273670,-0.089088171720505,-0.085722588002682,-0.003101975191385,0.017982725054026,0.078221768140793,0.049661576747894,-0.017094764858484,-0.027358451858163,0.008837516419590,0.013959988020360,-0.020959069952369));
res += mul(Get(s1,-dx,-dy), float4x4(0.003283602884039,0.017863342538476,-0.017527421936393,-0.038479123264551,0.013093726709485,0.015464994125068,0.017105169594288,-0.019158609211445,-0.008109521120787,-0.054657440632582,-0.001605331199244,0.014888622798026,-0.029910128563643,0.007912891916931,-0.003351563587785,-0.018328420817852));
res += mul(Get(s1,-dx,0), float4x4(0.004361029248685,-0.024860322475433,0.012821942567825,-0.012676302343607,-0.014060743153095,-0.049917224794626,-0.005985340103507,-0.013612418435514,-0.010151344351470,0.097443826496601,0.129326596856117,-0.005453847348690,-0.007506130263209,0.006705032661557,0.005641257856041,-0.028607496991754));
res += mul(Get(s1,-dx,dy), float4x4(0.065679155290127,-0.002992813475430,-0.008226075209677,-0.014461243525147,-0.005510536953807,0.007306520361453,0.005975469946861,-0.012054097838700,-0.007676582783461,0.113107837736607,0.086651556193829,-0.025588709861040,-0.021882973611355,-0.001082071801648,0.000849063275382,-0.007193062454462));
res += mul(Get(s1,0,-dy), float4x4(0.013917637057602,0.000732289976440,-0.046594046056271,-0.006264226045460,-0.021943679079413,0.031127691268921,-0.012208882719278,-0.008780046366155,0.008701537735760,-0.086490832269192,-0.012139521539211,-0.014589495956898,0.006414205301553,0.008271014317870,-0.015988737344742,0.015808630734682));
res += mul(Get(s1,0,0), float4x4(-0.001791008631699,0.098756358027458,0.095104381442070,-0.048336770385504,0.009989847429097,-0.016923625022173,0.007931661792099,-0.012790067121387,-0.018012663349509,0.034875620156527,0.024867182597518,0.015250741504133,-0.018338587135077,-0.001109222881496,0.024299243465066,0.017843239009380));
res += mul(Get(s1,0,dy), float4x4(0.010824978351593,0.086812376976013,0.033528428524733,0.010257900692523,-0.017957273870707,0.063748143613338,0.020892333239317,0.021326158195734,0.033224646002054,-0.084823809564114,-0.039769399911165,-0.008572362363338,-0.013003528118134,0.013468762859702,0.011461218819022,0.009142545051873));
res += mul(Get(s1,dx,-dy), float4x4(-0.001824180246331,0.009514387696981,-0.040698427706957,-0.008337063714862,0.003393392311409,0.006463881116360,0.020334284752607,-0.005021667573601,-0.006701968610287,0.036409117281437,0.014302435331047,0.021224338561296,0.005438038613647,-0.004343354143202,-0.011705726385117,0.020710548385978));
res += mul(Get(s1,dx,0), float4x4(0.001647621975280,0.065200231969357,0.089470207691193,0.008419709280133,-0.028924470767379,0.034988578408957,0.035802122205496,-0.021632513031363,0.019234422594309,0.033578779548407,-0.019682900980115,0.007532615680248,-0.038115445524454,-0.027011649683118,-0.005447077564895,-0.017916522920132));
res += mul(Get(s1,dx,dy), float4x4(0.020980520173907,0.034554466605186,0.033298224210739,0.010306677781045,-0.013482592999935,0.035648487508297,0.071144439280033,-0.027472091838717,0.031891413033009,-0.007043655496091,-0.008379888720810,0.008097715675831,-0.011012443341315,0.020402977243066,-0.021153848618269,-0.021638635545969));
res += mul(Get(s2,-dx,-dy), float4x4(-0.001607039244846,-0.005189924966544,0.009180017746985,0.002665216568857,0.004497298505157,-0.007722881622612,0.010215374641120,0.026868022978306,0.028117619454861,0.014709737151861,-0.004469885025173,-0.034270230680704,-0.014353964477777,0.056663338094950,0.022129207849503,-0.006785707548261));
res += mul(Get(s2,-dx,0), float4x4(0.003646039403975,0.020552486181259,0.012254462577403,-0.030457878485322,-0.010779034346342,0.033102370798588,0.037905056029558,0.011836932972074,0.008380460552871,-0.003105570329353,-0.012811856344342,-0.012521500699222,0.001406924682669,0.046482630074024,0.017906986176968,-0.006108119618148));
res += mul(Get(s2,-dx,dy), float4x4(0.003219704609364,0.007669397629797,0.001042635296471,-0.017959458753467,0.010203599929810,0.025347003713250,0.042855191975832,-0.004524141550064,0.038706980645657,0.024049760773778,-0.013351026922464,-0.039887029677629,-0.012492144480348,-0.028986362740397,-0.026346182450652,0.026242181658745));
res += mul(Get(s2,0,-dy), float4x4(0.025455746799707,0.020656324923038,-0.003828331595287,-0.009096117690206,0.026035051792860,-0.012979983352125,-0.003140389453620,-0.000445208657766,-0.016356021165848,0.008718864060938,-0.034276586025953,-0.001259072567336,-0.014314168132842,0.008715044707060,0.007241078652442,0.030756983906031));
res += mul(Get(s2,0,0), float4x4(-0.005107653327286,-0.005883079487830,-0.001936053507961,-0.023822605609894,-0.032553710043430,-0.022807836532593,-0.023798553273082,0.020148664712906,0.017043674364686,0.011008324101567,-0.011749261990190,-0.026670342311263,0.022272625938058,-0.026789180934429,0.023751715198159,-0.023541329428554));
res += mul(Get(s2,0,dy), float4x4(-0.020653529092669,-0.013823714107275,0.029947819188237,-0.022316528484225,-0.029603220522404,-0.015195326879621,0.006911823991686,0.006256587337703,-0.033911816775799,-0.020949041470885,0.027860978618264,-0.003718951018527,0.041726667433977,0.031351935118437,0.025811320170760,-0.017823308706284));
res += mul(Get(s2,dx,-dy), float4x4(0.013703167438507,-0.030995815992355,-0.012000417336822,0.002439577365294,0.006600379943848,0.000416511495132,0.000382017664379,-0.037243884056807,0.009963233955204,-0.011827953159809,-0.010702535510063,0.025430729612708,0.023695254698396,-0.049188852310181,-0.041025225073099,-0.005999470129609));
res += mul(Get(s2,dx,0), float4x4(-0.008250499144197,-0.008844817988575,0.018213070929050,-0.010546629317105,0.029544664546847,-0.026426840573549,-0.009093718603253,-0.040308032184839,0.017517387866974,0.014058309607208,-0.014439918100834,0.020092943683267,0.022214313969016,0.024431366473436,0.072488725185394,0.027949506416917));
res += mul(Get(s2,dx,dy), float4x4(0.010231400839984,-0.004943807609379,0.008397405035794,0.035067658871412,0.013114344328642,0.029295688495040,0.007857541553676,-0.025963865220547,-0.028606962412596,-0.003645118325949,0.010200249962509,0.010551510378718,0.009548109024763,0.064499840140343,0.047260459512472,-0.020475275814533));
res += mul(Get(s3,-dx,-dy), float4x4(0.004855441860855,-0.004160300828516,0.007776900194585,0.008867897093296,0.010632038116455,-0.000265674403636,0.015392758883536,0.008777234703302,-0.020868636667728,-0.056588925421238,-0.083030797541142,-0.018054537475109,-0.002131582936272,0.019011318683624,0.032881073653698,-0.009794228710234));
res += mul(Get(s3,-dx,0), float4x4(0.005258528050035,0.034646321088076,0.012891613878310,-0.002084658946842,0.008953474462032,-0.009143094532192,-0.012993963435292,0.008570183068514,0.006090466398746,-0.050809785723686,-0.002500405535102,0.030645340681076,0.028762768954039,-0.010078211314976,-0.026262963190675,0.029642529785633));
res += mul(Get(s3,-dx,dy), float4x4(-0.050854269415140,0.006733505986631,-0.008019652217627,0.036701992154121,-0.007214050274342,0.004242004826665,0.011994791217148,0.016101066023111,0.049441419541836,0.009169647470117,-0.049791883677244,-0.016764264553785,-0.023919511586428,0.011010494083166,0.004772190004587,-0.017735766246915));
res += mul(Get(s3,0,-dy), float4x4(-0.015268666669726,-0.001958315027878,0.002483453834429,0.009049454703927,-0.020881086587906,-0.015520644374192,0.002421535551548,0.039535377174616,0.002449312247336,0.022393641993403,-0.049367841333151,0.014385668560863,-0.021907337009907,-0.008621938526630,0.050040252506733,0.006015150807798));
res += mul(Get(s3,0,0), float4x4(0.002404889091849,0.022527597844601,0.015328054316342,-0.011149603873491,0.008540588431060,-0.002769428538159,0.026434812694788,0.021073296666145,-0.005595081020147,0.094402782618999,0.106962986290455,0.031565200537443,-0.000670214591082,0.005673876032233,0.006601892877370,-0.011197597719729));
res += mul(Get(s3,0,dy), float4x4(-0.009568436071277,0.028359116986394,0.003137452760711,-0.023570530116558,0.003721127985045,0.011939831078053,0.018800346180797,-0.015150020830333,0.026828860864043,0.094945922493935,0.030088860541582,-0.009009396657348,0.006765848025680,0.018650535494089,0.016337158158422,0.010667398571968));
res += mul(Get(s3,dx,-dy), float4x4(0.006824145559222,-0.024129770696163,0.002442631404847,-0.008952787145972,0.030386911705136,0.017441656440496,0.022917650640011,0.021209113299847,-0.026258889585733,-0.052465338259935,-0.003897706046700,-0.012138072401285,0.039987262338400,0.006160079035908,-0.030536275357008,-0.013873010873795));
res += mul(Get(s3,dx,0), float4x4(-0.011358149349689,-0.009283824823797,0.021139346063137,0.004458775743842,-0.006237161811441,0.005756940227002,0.020449098199606,0.000463887990918,-0.035841651260853,0.023477463051677,0.057551659643650,-0.011536343023181,-0.007401462178677,-0.005241666454822,-0.016712026670575,0.003249049652368));
res += mul(Get(s3,dx,dy), float4x4(-0.021720930933952,-0.004049267154187,-0.007698420900851,-0.012745688669384,-0.003429058706388,0.018746076151729,0.006372879259288,-0.008625762537122,0.069558590650558,-0.030975790694356,-0.019913418218493,0.013835917226970,0.022395422682166,-0.015080906450748,-0.022813187912107,-0.000099803568446));
return max(float4(0,0,0,0), res);
}
