sampler s0 : register(s0);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(x, y)   tex2D(s0, tex + float2(x, y))[0]

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += float4(-0.119437903165817,-0.036596156656742,-0.014593956060708,0.039142195135355) * Get(-dx,-dy);
res += float4(-0.072907738387585,-0.050241429358721,0.001439527957700,-0.019000638276339) * Get(-dx,0);
res += float4(-0.032410666346550,0.009176469407976,-0.013701257295907,-0.004551209043711) * Get(-dx,dy);
res += float4(-0.065196454524994,-0.074868686497211,-0.032087393105030,-0.023337574675679) * Get(0,-dy);
res += float4(-0.116983674466610,-0.063170105218887,-0.002026798669249,-0.066186897456646) * Get(0,0);
res += float4(-0.005993876606226,-0.023933239281178,0.011315037496388,0.030960487201810) * Get(0,dy);
res += float4(0.021851528435946,-0.044696617871523,-0.014672835357487,-0.004437227267772) * Get(dx,-dy);
res += float4(0.021204309538007,-0.027639292180538,-0.019594732671976,-0.020887795835733) * Get(dx,0);
res += float4(0.078388355672359,0.086932942271233,0.008303534239531,-0.026877596974373) * Get(dx,dy);
return max(float4(0,0,0,0), res);
}
