sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.052581775933504,-0.001039113849401,0.025521000847220,-0.007848744280636,-0.014882282353938,0.023247513920069,-0.008118038997054,0.071063116192818,0.010067356750369,-0.024894770234823,0.009348646737635,-0.030578704550862,0.011575683951378,-0.004193657543510,0.027391761541367,0.012421905994415));
res += mul(Get(s0,-dx,0), float4x4(-0.009453090839088,0.003637894522399,0.030947860330343,-0.025887735188007,0.024741793051362,-0.023311985656619,-0.022199112921953,0.040025576949120,-0.008667814545333,-0.037926573306322,-0.005676962900907,0.044929578900337,0.018770869821310,-0.020068857818842,0.008770804852247,-0.040834385901690));
res += mul(Get(s0,-dx,dy), float4x4(0.008485331200063,0.009605787694454,-0.001274656504393,0.032511994242668,-0.013450769707561,-0.044464044272900,-0.032900881022215,0.011893895454705,0.018333911895752,-0.011818827129900,0.016360383480787,-0.023715553805232,-0.000121886936540,0.007679975125939,0.000587311282288,0.008494690991938));
res += mul(Get(s0,0,-dy), float4x4(-0.036107979714870,-0.018818337470293,0.015311732888222,0.055319532752037,0.061250399798155,-0.006427837535739,0.013224359601736,-0.000928044551983,-0.032472446560860,-0.007758522871882,-0.000296433048788,-0.038815859705210,0.022736085578799,0.011631377041340,-0.028665270656347,-0.016757331788540));
res += mul(Get(s0,0,0), float4x4(0.006577466148883,0.039878543466330,-0.021562954410911,-0.000618117453996,0.006132091395557,-0.018045457080007,0.064035370945930,-0.064718425273895,0.014508330263197,-0.024808499962091,0.001496686716564,0.017157236114144,-0.004050672054291,0.014367515221238,-0.001300041098148,0.024162501096725));
res += mul(Get(s0,0,dy), float4x4(0.038776353001595,-0.025817861780524,-0.022721616551280,-0.008482573553920,0.015102177858353,-0.041703343391418,0.007953116670251,0.029026642441750,0.040487132966518,0.024215502664447,-0.022344622761011,-0.018737893551588,-0.026855476200581,0.006250983569771,-0.001621291157790,0.039550691843033));
res += mul(Get(s0,dx,-dy), float4x4(0.002591270487756,-0.025960659608245,0.022953739389777,0.053843215107918,-0.007452882360667,-0.039825711399317,0.005667312070727,0.036597326397896,-0.006750295404345,0.014466859400272,-0.014785345643759,0.014921796508133,0.018370790407062,-0.016851266846061,0.019142335280776,0.014993922784925));
res += mul(Get(s0,dx,0), float4x4(0.068864174187183,0.004018224775791,0.024479400366545,-0.075533278286457,-0.053381573408842,0.005296277347952,0.039387110620737,0.032703943550587,0.004096118733287,0.001002562930807,0.047865152359009,0.000182752337423,-0.014554411172867,-0.015376469120383,0.000202036870178,0.052749745547771));
res += mul(Get(s0,dx,dy), float4x4(-0.002292352030054,-0.013421548530459,-0.012161056511104,-0.006382631137967,0.016717655584216,-0.035153336822987,0.004217975307256,0.028513120487332,-0.014597675763071,0.007264774758369,0.011897495947778,0.014167233370245,0.055637601763010,0.005214960779995,-0.002064437139779,0.000644255545922));
res += mul(Get(s1,-dx,-dy), float4x4(0.110360592603683,-0.010142019949853,0.046950872987509,-0.017054714262486,-0.028820604085922,0.019802080467343,0.003288419218734,-0.034479495137930,0.044827233999968,-0.035801932215691,-0.015841120854020,-0.038898177444935,0.001951910089701,0.009356311522424,-0.002441756892949,-0.000842021778226));
res += mul(Get(s1,-dx,0), float4x4(-0.030407726764679,-0.020970124751329,0.040273644030094,-0.028340313583612,0.016355488449335,0.001979342428967,0.003017537761480,0.020199328660965,-0.006113002076745,0.008978773839772,0.048969749361277,0.002346502384171,0.007921944372356,-0.013655403628945,-0.018453018739820,0.020671065896749));
res += mul(Get(s1,-dx,dy), float4x4(0.009471364319324,-0.032762918621302,-0.003832000540569,0.028770407661796,-0.004053374286741,-0.014511527493596,0.003754226025194,-0.005144174676389,0.015781516209245,-0.008224366232753,0.016527438536286,-0.023510202765465,-0.032044824212790,0.007807656191289,-0.006114291492850,0.007509222719818));
res += mul(Get(s1,0,-dy), float4x4(-0.017456931993365,0.013666430488229,0.041486460715532,0.111288391053677,0.072510145604610,0.011975497938693,-0.040151823312044,-0.050439029932022,-0.011193203739822,0.021555412560701,-0.018605083227158,0.008986431173980,0.027192631736398,0.041154451668262,0.001286098384298,0.010563641786575));
res += mul(Get(s1,0,0), float4x4(-0.035054575651884,-0.006213538348675,-0.009768053889275,0.039251945912838,0.007389154285192,-0.000385572202504,-0.022183528169990,0.029129773378372,-0.059622019529343,-0.026838466525078,0.045147031545639,0.113134168088436,-0.012449438683689,0.013265515677631,-0.052981089800596,0.025768354535103));
res += mul(Get(s1,0,dy), float4x4(0.066128134727478,0.001108616706915,-0.026309361681342,0.024865485727787,0.000377475604182,-0.034035623073578,-0.013143205083907,0.061626575887203,0.046056997030973,0.003481644438580,0.036445822566748,0.014757267199457,-0.027973221614957,-0.033382657915354,0.020190244540572,-0.028922270983458));
res += mul(Get(s1,dx,-dy), float4x4(-0.019455602392554,-0.002499053487554,-0.008429247885942,0.112197935581207,0.008642410859466,-0.009495719335973,0.011603229679167,0.005981053691357,0.022051675245166,0.013516880571842,-0.007767151575536,0.050399124622345,0.013210134580731,-0.013396344147623,0.003213288495317,0.023107025772333));
res += mul(Get(s1,dx,0), float4x4(0.090712763369083,-0.008413351140916,-0.019194161519408,-0.045476756989956,-0.018405631184578,0.008588092401624,0.031634505838156,0.072683431208134,0.043035842478275,-0.011163863353431,-0.008362796157598,0.035798504948616,-0.010414332151413,-0.021686520427465,0.034736488014460,-0.019163465127349));
res += mul(Get(s1,dx,dy), float4x4(0.000895427074283,-0.025205759331584,0.027742549777031,-0.008356656879187,0.044377379119396,0.016022510826588,-0.001670269062743,-0.009835921227932,0.066671334207058,0.001462324173190,-0.013596491888165,-0.009988083504140,-0.056236352771521,0.017767170444131,0.010630057193339,0.026724625378847));
res += mul(Get(s2,-dx,-dy), float4x4(0.035604476928711,-0.001302189193666,0.002496286993846,-0.021592259407043,0.012925186194479,0.002944237552583,0.044618710875511,0.038345173001289,0.033382125198841,0.018884344026446,0.017736759036779,0.027876624837518,0.020645614713430,0.020473435521126,-0.014896643348038,0.007816556841135));
res += mul(Get(s2,-dx,0), float4x4(-0.010591022670269,0.007060559932142,0.038558300584555,-0.005797831341624,0.023091688752174,-0.001841379911639,0.000399660755647,-0.004045991692692,0.042252041399479,0.001777518307790,-0.009385148063302,0.004127225372940,0.006042946595699,-0.014140878804028,-0.006219069939107,-0.026883130893111));
res += mul(Get(s2,-dx,dy), float4x4(-0.042795032262802,-0.001354408916086,0.004672532435507,-0.042302943766117,0.015521881170571,-0.007712074089795,0.013229710981250,-0.012849737890065,-0.004129428416491,0.005110934376717,0.011934617534280,0.015636339783669,-0.023259744048119,0.014454038813710,-0.030347244814038,0.007288313936442));
res += mul(Get(s2,0,-dy), float4x4(-0.040385108441114,-0.003620913252234,-0.016475975513458,0.015500790439546,0.003250916954130,0.015156062319875,0.037638347595930,-0.017526527866721,-0.005092453677207,0.003399770474061,0.065104812383652,0.049175977706909,-0.028144106268883,0.003152513643727,-0.009893734939396,0.004628979135305));
res += mul(Get(s2,0,0), float4x4(0.001224298146553,0.021447146311402,0.003717944491655,0.043372470885515,0.006993525661528,0.030638532713056,0.033385857939720,-0.042448319494724,-0.004900499712676,0.017589505761862,0.015634836629033,-0.025795988738537,-0.007726631127298,-0.011519146151841,-0.015773359686136,0.026466110721231));
res += mul(Get(s2,0,dy), float4x4(0.034915350377560,-0.010735156945884,0.021658258512616,-0.016516359522939,0.035915572196245,-0.005558585282415,0.018956085667014,-0.006241548340768,-0.018313430249691,-0.005496301688254,0.005612221546471,-0.012918829917908,-0.021253274753690,-0.023733187466860,0.006607024464756,0.004583148285747));
res += mul(Get(s2,dx,-dy), float4x4(0.009976233355701,0.017998062074184,0.000968686887063,0.025146408006549,-0.063263788819313,-0.019686333835125,-0.008167652413249,0.063694305717945,0.003870809683576,0.013169094920158,0.020219247788191,0.088616028428078,-0.007054790388793,-0.009978133253753,-0.030102664604783,0.005296228919178));
res += mul(Get(s2,dx,0), float4x4(0.005551793146878,0.010377577506006,0.011653983965516,-0.005167384631932,-0.032918740063906,-0.015439163893461,0.008436779491603,0.056002710014582,0.022158343344927,-0.017211567610502,0.026923442259431,0.010338912717998,0.011042393743992,-0.005989533383399,-0.032315447926521,-0.024724522605538));
res += mul(Get(s2,dx,dy), float4x4(0.027626881375909,0.014978745020926,0.021536331623793,0.026494601741433,-0.009084177203476,0.001812950125895,-0.015221746638417,0.030900765210390,-0.009173009544611,-0.006655455566943,-0.001387928496115,0.011551628820598,-0.002224068623036,-0.003772662021220,-0.021868092939258,-0.012913170270622));
res += mul(Get(s3,-dx,-dy), float4x4(-0.019667897373438,0.000634370255284,-0.010752614587545,0.032676640897989,0.008012708276510,-0.015128948725760,-0.019030889496207,-0.025301761925220,-0.023943627253175,0.029464544728398,-0.009944214485586,-0.008067462593317,0.033705592155457,-0.015281207859516,-0.006803581956774,0.005233052186668));
res += mul(Get(s3,-dx,0), float4x4(0.006125556770712,0.017027847468853,-0.011890173889697,0.066906042397022,0.003265852807090,-0.015743682160974,0.010164730250835,-0.006502410396934,-0.044983055442572,0.013346236199141,-0.004873538855463,0.023615606129169,-0.000211239806958,-0.001267842948437,-0.009547791443765,0.016693698242307));
res += mul(Get(s3,-dx,dy), float4x4(0.028481818735600,0.002199759474024,-0.003587807295844,0.045982688665390,0.017102040350437,-0.013479966670275,0.026164747774601,0.018855238333344,0.022614728659391,0.008532278239727,-0.030005702748895,0.028647057712078,-0.034247137606144,0.011338488198817,0.007888784632087,-0.023739069700241));
res += mul(Get(s3,0,-dy), float4x4(0.080306850373745,-0.019298922270536,0.003693331964314,-0.072712346911430,-0.010082602500916,-0.026669299229980,-0.007869837805629,0.015244061127305,0.003406946780160,-0.033329397439957,-0.009167185053229,0.031961079686880,-0.006785310339183,0.002960557583719,-0.012879272922873,0.009650944732130));
res += mul(Get(s3,0,0), float4x4(0.051525436341763,-0.008662456646562,0.008504038676620,-0.035867486149073,-0.003355219494551,0.017335727810860,-0.024395743384957,0.018344881013036,0.051518186926842,-0.017205854877830,-0.038357675075531,-0.000608571688645,0.020256135612726,0.006573946680874,-0.003453198587522,-0.032155673950911));
res += mul(Get(s3,0,dy), float4x4(0.034626644104719,0.010253295302391,0.003227736568078,-0.020381998270750,0.035279471427202,-0.003100391943008,-0.033549711108208,0.005024172831327,0.037521913647652,-0.006267027463764,0.008174556307495,0.019065409898758,0.006703766994178,0.013637756928802,0.010897459462285,-0.002007425064221));
res += mul(Get(s3,dx,-dy), float4x4(0.020279174670577,-0.017836494371295,-0.016960084438324,-0.014610690996051,0.008383674547076,-0.003544569248334,-0.001631376100704,-0.037130896002054,0.039418559521437,-0.012451672926545,0.035013247281313,-0.020692706108093,-0.013443672098219,-0.000517425418366,-0.047689661383629,0.011074480600655));
res += mul(Get(s3,dx,0), float4x4(-0.036891900002956,0.013042746111751,-0.001670677098446,0.059736769646406,-0.019567497074604,-0.032243467867374,0.039483375847340,0.028512246906757,0.024138044565916,-0.003874418791384,-0.017195757478476,-0.031725458800793,-0.013004472479224,0.023758461698890,0.013810067437589,0.011798771098256));
res += mul(Get(s3,dx,dy), float4x4(-0.036793619394302,-0.007375888526440,-0.030407240614295,0.091212511062622,0.018832445144653,-0.009071609005332,0.004723741207272,-0.036908946931362,-0.055555950850248,0.031846243888140,0.007975148968399,0.058896206319332,-0.019573148339987,0.018244167789817,-0.001008773338981,0.010336798615754));
return max(float4(0,0,0,0), res);
}
