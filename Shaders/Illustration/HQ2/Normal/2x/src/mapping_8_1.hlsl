sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.009384434670210,-0.001022976823151,-0.014402847737074,-0.012153745628893,-0.007547956891358,0.016088115051389,0.002658313838765,0.016466284170747,-0.034908216446638,-0.010104311630130,0.020587867125869,0.020163046196103,0.018015909940004,-0.017453467473388,0.002984858350828,-0.022245474159718));
res += mul(Get(s0,-dx,0), float4x4(0.006095190998167,0.035404868423939,-0.030526380985975,0.037367343902588,0.002696954878047,-0.023839551955462,0.003810313297436,-0.000540048757102,0.005888156592846,-0.011013440787792,-0.010678332298994,-0.040272690355778,0.024363653734326,-0.014631279744208,0.013300752267241,-0.024211874231696));
res += mul(Get(s0,-dx,dy), float4x4(-0.005735001061112,0.010655176825821,-0.001215272117406,-0.008860213682055,0.014351300895214,0.000624236476142,0.020960047841072,-0.018091807141900,0.000242065303610,-0.019436070695519,0.013973332010210,0.014635725878179,0.018113240599632,-0.005638347472996,-0.037205394357443,0.017879834398627));
res += mul(Get(s0,0,-dy), float4x4(-0.013188644312322,-0.001360491733067,0.008496516384184,-0.004026185255498,0.024980017915368,0.011814966797829,-0.021347649395466,-0.012485285289586,-0.004075691103935,0.005515347234905,0.036795336753130,0.007933964021504,0.021802660077810,-0.006761630997062,-0.003407846437767,-0.005399427842349));
res += mul(Get(s0,0,0), float4x4(-0.008705095387995,0.009328996762633,0.002541350666434,0.019670225679874,0.011802318505943,-0.011387795209885,-0.018896585330367,-0.004712176974863,0.015755984932184,0.014464396983385,-0.000605870562140,0.007499074097723,0.005303267389536,-0.025237517431378,0.025120098143816,0.022952985018492));
res += mul(Get(s0,0,dy), float4x4(-0.016305143013597,0.003246060106903,-0.005140128079802,0.007057481445372,0.006286297924817,0.004002919886261,0.007879253476858,0.011272898875177,0.024161323904991,-0.001144551089965,0.015801250934601,0.004282278474420,-0.027274075895548,0.004285903647542,-0.005656887311488,-0.036436036229134));
res += mul(Get(s0,dx,-dy), float4x4(0.018175341188908,-0.005749885924160,-0.024951668456197,0.007736139930785,0.028689278289676,-0.008591674268246,-0.039381247013807,0.008121078833938,-0.014519193209708,-0.018517509102821,0.005383380688727,0.009174010716379,0.005350122228265,0.005462333559990,0.036449279636145,-0.006896686274558));
res += mul(Get(s0,dx,0), float4x4(-0.028054213151336,0.010800251737237,-0.001845665741712,-0.012988480739295,-0.017406037077308,0.002040034160018,-0.047884937375784,0.006921034306288,-0.013304755091667,-0.020432619377971,-0.014907998964190,-0.014034992083907,-0.002990373643115,-0.044200953096151,0.013310889713466,-0.005967537872493));
res += mul(Get(s0,dx,dy), float4x4(-0.011901881545782,0.006400566082448,0.043439708650112,-0.011533435434103,0.011713250540197,-0.027710147202015,-0.022884154692292,-0.011821115389466,0.026795335114002,0.006184959784150,-0.011174027808011,0.005886484403163,-0.002262488473207,0.001621479750611,-0.011219820007682,-0.008622693829238));
res += mul(Get(s1,-dx,-dy), float4x4(0.017650678753853,-0.021957525983453,-0.001862427918240,0.015817575156689,0.017236802726984,-0.006304522510618,0.047959964722395,-0.027852017432451,0.004193861968815,0.016605483368039,0.029656713828444,-0.004949335008860,0.001434842357412,-0.000234013423324,0.005855429451913,0.001749066403136));
res += mul(Get(s1,-dx,0), float4x4(-0.024862803518772,0.000558246043511,-0.008815483190119,0.000458299677121,-0.005133364349604,-0.002033575903624,0.003407800570130,0.030523670837283,-0.042302157729864,-0.013622220605612,0.000473917374620,0.018187928944826,0.034858021885157,0.023367017507553,-0.005495753139257,-0.001618533977307));
res += mul(Get(s1,-dx,dy), float4x4(-0.012317867018282,-0.016048178076744,-0.021828562021255,-0.011217489838600,-0.002341128187254,0.003772985655814,-0.038396332412958,-0.035297922790051,-0.006529146339744,-0.000143744880916,-0.000229862838751,-0.005559388548136,-0.029492791742086,-0.018194017931819,-0.018376629799604,-0.010659540072083));
res += mul(Get(s1,0,-dy), float4x4(-0.012311543338001,-0.003891654545441,-0.021888781338930,0.008399751037359,0.048143967986107,-0.013561913743615,-0.010172186419368,0.008852737955749,-0.006934260483831,0.004896769765764,-0.009112155996263,-0.015999576076865,-0.018471090123057,-0.011592408642173,0.002838395303115,-0.004053866025060));
res += mul(Get(s1,0,0), float4x4(-0.008863477036357,-0.038356877863407,-0.013536824844778,0.007506891153753,0.020906068384647,-0.035558197647333,-0.030135443434119,0.005943338386714,-0.018394650891423,0.011188645847142,0.009210948832333,-0.009713385254145,0.015614399686456,0.003513432107866,0.009059591218829,0.035153497010469));
res += mul(Get(s1,0,dy), float4x4(-0.008719783276320,0.030057938769460,0.007123592309654,0.021317103877664,-0.037225097417831,0.004645031411201,-0.007659807801247,-0.006794068031013,0.030280254781246,0.017509082332253,0.004202439915389,-0.007036586757749,0.020434748381376,-0.006480849348009,0.023846412077546,0.020444117486477));
res += mul(Get(s1,dx,-dy), float4x4(0.029768642038107,-0.021836448460817,-0.012945351190865,0.010880252346396,-0.000873825512826,0.017672818154097,0.023773284628987,-0.021847909316421,-0.007688263431191,0.019531600177288,-0.007184957154095,0.001168373739347,0.014765162952244,-0.007406555116177,0.043165307492018,0.001551967929117));
res += mul(Get(s1,dx,0), float4x4(-0.000298273022054,0.006965973880142,0.033000182360411,-0.023207157850266,0.043873835355043,-0.015067698433995,-0.031999859958887,0.001969251781702,0.009305186569691,0.009635559283197,-0.021115943789482,0.006771143991500,0.047939583659172,-0.011422315612435,-0.016565041616559,-0.000517256848980));
res += mul(Get(s1,dx,dy), float4x4(0.003582647070289,-0.011273141019046,0.013845767825842,0.011468223296106,-0.005046446342021,-0.012372829951346,-0.012506159022450,-0.003110045101494,-0.021220946684480,0.003626279765740,0.006202460732311,0.025006731972098,0.013868372887373,-0.007828091271222,0.006997680757195,-0.007470841985196));
res += mul(Get(s2,-dx,-dy), float4x4(-0.002767158206552,0.003496800549328,0.000513609615155,-0.009360792115331,0.019099226221442,0.006846311502159,-0.002909847768024,0.015104532241821,0.053848151117563,-0.020324658602476,-0.012348626740277,0.035594269633293,-0.005084555130452,-0.004994682036340,0.009526963345706,0.003709194250405));
res += mul(Get(s2,-dx,0), float4x4(0.000734066474251,-0.001537644653581,-0.007051555439830,-0.014393719844520,0.006854809820652,0.010132739320397,0.002864791313186,0.009822144173086,-0.018014037981629,-0.011489325203001,0.000714554567821,-0.009537977166474,-0.009209756739438,-0.026297932490706,0.000441968644736,0.029886649921536));
res += mul(Get(s2,-dx,dy), float4x4(-0.024105943739414,0.013097558170557,-0.003325529163703,-0.002325949491933,0.010371576994658,-0.031683739274740,0.004450579639524,0.011695069260895,-0.017854629084468,-0.016584442928433,0.023112608119845,0.017674470320344,-0.022401221096516,0.004906941205263,-0.036668550223112,0.019224856048822));
res += mul(Get(s2,0,-dy), float4x4(-0.025879040360451,-0.003438032465056,-0.013573156669736,0.001750718336552,-0.004176743794233,0.005279478617013,0.001661005546339,0.008755060844123,-0.009962788783014,0.014321316964924,0.005760830827057,-0.039148408919573,-0.019201578572392,-0.010790225118399,-0.000252164871199,0.011549500748515));
res += mul(Get(s2,0,0), float4x4(0.012955023907125,0.000161555188242,-0.046602208167315,-0.018423238769174,-0.020418906584382,0.015531699173152,-0.026962036266923,-0.018325615674257,-0.047303922474384,0.021592631936073,0.009271427057683,-0.019919667392969,-0.015616683289409,-0.020965320989490,-0.008074874989688,0.045041546225548));
res += mul(Get(s2,0,dy), float4x4(0.009204854257405,-0.016124807298183,-0.003361798822880,-0.029357889667153,0.004448543302715,-0.012043856084347,0.002112565562129,-0.008970341645181,0.016121314838529,-0.005906941834837,0.003240266116336,0.000085225510702,-0.006422273349017,-0.000755823974032,0.031898088753223,0.000917244236916));
res += mul(Get(s2,dx,-dy), float4x4(-0.006186774466187,0.011779217049479,0.016490278765559,0.008648726157844,-0.020724812522531,-0.006625638809055,-0.017598278820515,0.011337976902723,0.019986409693956,0.001824151142500,-0.000497252680361,0.027308149263263,-0.012378678657115,0.004423439037055,0.022097580134869,-0.018344677984715));
res += mul(Get(s2,dx,0), float4x4(0.018523473292589,0.004454773385078,-0.016052125021815,0.001768076559529,0.015573472715914,-0.012819811701775,0.020290270447731,-0.002881341613829,0.002506633987650,-0.027777690440416,-0.039501480758190,-0.011116966605186,-0.003033142769709,0.031890012323856,-0.019399521872401,0.023912893608212));
res += mul(Get(s2,dx,dy), float4x4(-0.009970786981285,-0.013252018950880,0.009967312216759,-0.006677875295281,0.017746137455106,-0.033446602523327,0.002702128142118,0.002119886921719,-0.002480570459738,-0.020083934068680,-0.002631124807522,0.044760137796402,0.006425541825593,0.005802804138511,-0.013728638179600,-0.002433786634356));
res += mul(Get(s3,-dx,-dy), float4x4(-0.014080529101193,0.006750884931535,0.018277412280440,0.012047084979713,-0.019219208508730,0.007934628054500,0.003829340217635,0.023407699540257,0.023279383778572,-0.003465458750725,-0.012405185960233,0.013782854191959,0.010602178983390,0.002982293721288,0.005101008340716,-0.015291615389287));
res += mul(Get(s3,-dx,0), float4x4(-0.010567143559456,0.014377078041434,-0.013136980123818,-0.023683333769441,-0.008000717498362,-0.024967135861516,0.025313697755337,-0.009172282181680,-0.011273246258497,-0.013461405411363,0.024690376594663,-0.013288759626448,0.015676695853472,-0.002427139086649,0.011112282052636,-0.008815550245345));
res += mul(Get(s3,-dx,dy), float4x4(-0.023995241150260,-0.029545180499554,0.010020916350186,-0.000213838429772,-0.015626834705472,0.017671655863523,0.002814692677930,-0.012555529363453,-0.003997854422778,0.025431148707867,0.022368261590600,-0.020355259999633,0.012286889366806,0.011557180434465,0.012159837409854,0.017464151605964));
res += mul(Get(s3,0,-dy), float4x4(-0.008575727231801,-0.035545751452446,-0.004311263095587,0.001103052869439,0.017305132001638,-0.015223279595375,0.010182133875787,0.002309413626790,-0.031287983059883,0.004140722099692,0.036093201488256,-0.009661531075835,0.019824756309390,-0.019621934741735,0.008882543072104,-0.022893182933331));
res += mul(Get(s3,0,0), float4x4(-0.022021073848009,0.006424267310649,0.001137075247243,-0.000901262334082,0.028130210936069,0.021920584142208,-0.017140846699476,-0.013221475295722,0.001352055580355,0.000930924376007,-0.005271958187222,0.018472503870726,0.057093940675259,0.019217533990741,0.013002492487431,-0.008543042466044));
res += mul(Get(s3,0,dy), float4x4(-0.002468121238053,-0.001938246539794,-0.018515475094318,-0.001399451284669,-0.035902053117752,0.020097570493817,-0.009724169969559,0.007866212166846,0.003454855643213,-0.019879907369614,-0.000231551239267,-0.029543776065111,0.004053147975355,0.012375706806779,0.003321250202134,-0.009115532040596));
res += mul(Get(s3,dx,-dy), float4x4(0.011873600073159,-0.052426319569349,-0.013666218146682,0.000715200323611,-0.003773255506530,-0.013368581421673,-0.017884815111756,-0.012904724106193,-0.016898941248655,-0.002069797832519,0.009583703242242,0.032626107335091,-0.015880947932601,-0.034429851919413,0.007700285874307,-0.004337447695434));
res += mul(Get(s3,dx,0), float4x4(0.011960346251726,-0.002381899859756,-0.018833851441741,0.018509335815907,0.002890411531553,0.007786866277456,-0.039169408380985,-0.034402798861265,0.030963100492954,0.029644036665559,-0.012560315430164,0.000939795223530,0.039543628692627,0.006241453811526,-0.011284437030554,-0.008597260341048));
res += mul(Get(s3,dx,dy), float4x4(-0.026329265907407,0.031482338905334,0.006479449104518,0.011619245633483,0.005999133456498,-0.020240891724825,0.004736568778753,0.004544213879853,0.002449590479955,0.014883636496961,-0.039090711623430,0.001316627603956,-0.048310529440641,-0.003903144504875,-0.007686954457313,0.037233211100101));
return max(float4(0,0,0,0), res);
}
