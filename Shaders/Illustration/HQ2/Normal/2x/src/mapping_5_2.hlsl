sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.021377177909017,0.004728041123599,-0.026111401617527,0.008843880146742,0.043515540659428,0.002991303801537,-0.012242339551449,0.022237488999963,-0.033113446086645,-0.014034195803106,-0.044495351612568,-0.005254067480564,-0.010873606428504,0.015212851576507,0.090078718960285,0.057177383452654));
res += mul(Get(s0,-dx,0), float4x4(0.004396299365908,-0.011871855705976,-0.022456120699644,0.014750283211470,0.011347692459822,-0.012640808708966,0.001652011182159,0.039615422487259,-0.004261245485395,-0.005323289427906,0.006800333037972,0.000993637368083,0.009993987157941,0.010721304453909,-0.028056945651770,0.079562492668629));
res += mul(Get(s0,-dx,dy), float4x4(0.031543973833323,0.002582649467513,-0.003821932943538,-0.015051837079227,-0.039622750133276,0.023223161697388,0.004465151578188,-0.022686276584864,-0.001684099086560,0.013973576948047,0.033882949501276,-0.032129928469658,0.005786502268165,0.011385260149837,0.054996646940708,0.059627473354340));
res += mul(Get(s0,0,-dy), float4x4(-0.010695080272853,0.027206061407924,0.030203310772777,-0.002181247808039,0.038971301168203,0.008391747251153,-0.033781524747610,-0.006962071638554,0.023651758208871,0.046299409121275,0.052644953131676,0.075913615524769,0.014478884637356,0.021731501445174,-0.044903211295605,0.052542097866535));
res += mul(Get(s0,0,0), float4x4(0.020492976531386,0.022811725735664,0.017523514106870,0.037399016320705,-0.025424486026168,0.022757712751627,-0.056574326008558,0.003570398781449,-0.017710037529469,0.018769195303321,0.129783734679222,0.073663055896759,-0.017764184623957,-0.011567191220820,-0.030741147696972,0.108932837843895));
res += mul(Get(s0,0,dy), float4x4(0.004704318940639,-0.033223900943995,0.016392838209867,-0.025332361459732,-0.023735688999295,0.033772807568312,0.008123303763568,-0.007566256448627,-0.013766891323030,0.011883991770446,0.032838638871908,0.068634271621704,-0.010364699177444,0.045335657894611,0.106893725693226,0.039885833859444));
res += mul(Get(s0,dx,-dy), float4x4(0.054458726197481,0.000113327092549,-0.000596705067437,0.006830070633441,-0.006043160334229,-0.001761465216987,0.008028203621507,0.004279716871679,-0.032660819590092,0.020537599921227,0.072802588343620,0.017637884244323,-0.004373760428280,-0.005875311791897,-0.019421046599746,-0.038087997585535));
res += mul(Get(s0,dx,0), float4x4(-0.012845133431256,-0.001226922380738,0.016398221254349,-0.001144273672253,-0.019016547128558,0.043411221355200,0.007699038367718,-0.018099088221788,-0.002959054661915,0.004184499382973,-0.011508534662426,-0.022796517238021,0.002106314757839,0.004544391762465,0.092016361653805,-0.025184856727719));
res += mul(Get(s0,dx,dy), float4x4(-0.001204125350341,-0.004630219656974,-0.026033133268356,0.040191553533077,-0.011865252628922,0.032615382224321,0.040028039366007,-0.014118599705398,-0.015870226547122,-0.002478792564943,-0.039934698492289,0.051778234541416,0.007980698719621,0.005364099051803,0.012509440071881,-0.069029390811920));
res += mul(Get(s1,-dx,-dy), float4x4(0.005431604571640,0.032973017543554,-0.009365765377879,0.034183923155069,-0.013316049240530,-0.027368338778615,-0.035005912184715,0.029984872788191,0.019202409312129,0.022504791617393,0.018344014883041,0.111878670752048,-0.015855059027672,0.040853898972273,-0.002534430939704,0.020482363179326));
res += mul(Get(s1,-dx,0), float4x4(0.032074760645628,0.002531874226406,-0.044390458613634,0.067942507565022,-0.034455798566341,0.022703355178237,0.023485414683819,0.036064397543669,0.001621402916498,0.004264257382601,0.005719453562051,0.021329887211323,0.008292941376567,0.049424737691879,-0.012035889551044,0.032020211219788));
res += mul(Get(s1,-dx,dy), float4x4(-0.021227393299341,0.019353883340955,-0.017596742138267,0.061123456805944,-0.006280907429755,-0.022749138996005,-0.002763776108623,-0.000971927365754,0.029679391533136,0.004690482746810,-0.030872689560056,0.097538337111473,-0.015893504023552,0.014474483206868,0.005732459481806,0.005992872174829));
res += mul(Get(s1,0,-dy), float4x4(0.004674122203141,-0.005370225757360,-0.062922671437263,-0.036130134016275,-0.016794104129076,-0.010629069991410,0.001945678610355,0.014123524539173,0.007272578310221,-0.046174101531506,-0.049228034913540,0.029941329732537,-0.001778549747542,0.006649328395724,0.019920902326703,-0.015983350574970));
res += mul(Get(s1,0,0), float4x4(-0.031496677547693,-0.009392848238349,0.042387899011374,-0.048918988555670,-0.011413145810366,-0.013150558806956,0.018621783703566,-0.030792927369475,0.027388330549002,-0.020903836935759,-0.015448837541044,-0.035483509302139,-0.034333098679781,-0.008503553457558,0.004132307134569,0.026783045381308));
res += mul(Get(s1,0,dy), float4x4(-0.047107938677073,0.027140643447638,0.066885143518448,-0.069656439125538,-0.003823899896815,-0.029364868998528,-0.002638003556058,-0.028255868703127,-0.026932384818792,0.039529964327812,0.033316828310490,0.021850731223822,0.038082025945187,-0.037735290825367,-0.037790734320879,-0.009683556854725));
res += mul(Get(s1,dx,-dy), float4x4(0.004026845097542,0.017020367085934,0.074333630502224,0.076032690703869,0.006489331368357,0.003140608081594,0.036432154476643,-0.001676156534813,-0.034484464675188,-0.001912124338560,0.011800010688603,0.042487405240536,-0.001478022430092,-0.007521819323301,-0.002843494527042,-0.022732675075531));
res += mul(Get(s1,dx,0), float4x4(-0.003177744569257,0.010902398265898,0.087909221649170,0.092212490737438,-0.002262641675770,0.011182125657797,-0.009071393869817,0.003428877331316,0.012814105488360,-0.025581840425730,0.064406156539917,0.000200474154553,0.002532723126933,-0.023402461782098,0.006882675923407,-0.005695002153516));
res += mul(Get(s1,dx,dy), float4x4(0.044895984232426,-0.023015044629574,0.007275275420398,0.001122217392549,-0.020544182509184,-0.039901033043861,0.001056184759364,0.077584289014339,-0.015604327432811,-0.012433151714504,0.000489755533636,-0.005342291202396,-0.013738703913987,0.005871961824596,-0.010250830091536,-0.003792583243921));
res += mul(Get(s2,-dx,-dy), float4x4(-0.033623065799475,0.006348383147269,0.012567228637636,-0.026235485449433,-0.013113706372678,-0.007769566494972,-0.004098798148334,0.003481887979433,-0.009611079469323,-0.007160367909819,0.003660654649138,0.016410665586591,0.028419874608517,-0.002457721857354,0.008507288061082,0.058281678706408));
res += mul(Get(s2,-dx,0), float4x4(0.003520900150761,0.025985144078732,0.047133915126324,-0.021624164655805,-0.001901971758343,-0.017100578173995,0.006953455042094,-0.003702944610268,0.038726788014174,0.012388471513987,0.011753445491195,0.034746989607811,-0.013115002773702,0.003669914789498,0.081643037497997,0.051384396851063));
res += mul(Get(s2,-dx,dy), float4x4(-0.004958232399076,0.021288651973009,0.047906227409840,-0.037400424480438,0.023643270134926,-0.011533863842487,0.027049710974097,-0.020311409607530,-0.028909577056766,-0.022518113255501,-0.024208486080170,-0.051177747547626,-0.020015990361571,0.002428120467812,-0.022095179185271,-0.005568380467594));
res += mul(Get(s2,0,-dy), float4x4(0.009000614285469,0.008275719359517,0.123164370656013,0.104672394692898,0.007626448757946,0.004209003411233,0.025741359218955,0.000292903103400,-0.022525135427713,-0.005340269301087,-0.017945913597941,0.006977897603065,-0.012520769611001,0.016452340409160,0.107754431664944,0.026279821991920));
res += mul(Get(s2,0,0), float4x4(0.023857180029154,-0.010274797677994,0.023009536787868,0.149991139769554,0.017881335690618,-0.024919079616666,0.002272124867886,-0.021470012143254,-0.004249322228134,0.000378378172172,0.015661256387830,0.004672578535974,0.015948213636875,-0.004870037082583,-0.021876066923141,0.028934357687831));
res += mul(Get(s2,0,dy), float4x4(-0.006073364056647,-0.015140785835683,-0.012666096910834,0.116716451942921,0.000921905331779,0.022508194670081,-0.006548593286425,0.003039191244170,-0.019961150363088,-0.010217168368399,-0.027192493900657,0.015082065016031,-0.002614123513922,-0.005473492667079,-0.024930035695434,0.034277487546206));
res += mul(Get(s2,dx,-dy), float4x4(0.005156342405826,0.010217508301139,-0.013820666819811,-0.016298623755574,-0.021286297589540,0.029737157747149,-0.004897573031485,-0.020164910703897,-0.017902676016092,-0.025297097861767,0.014267605729401,0.001907704398036,-0.009774856269360,0.018502904102206,0.011462789028883,-0.043404057621956));
res += mul(Get(s2,dx,0), float4x4(-0.006582247558981,-0.049815166741610,-0.064957037568092,-0.003694540355355,0.026989394798875,-0.004422990139574,-0.010481381788850,-0.001902281306684,0.000587889575399,0.003643210977316,-0.022033182904124,-0.000042830663006,0.023585487157106,-0.013750935904682,-0.068902760744095,0.005017746705562));
res += mul(Get(s2,dx,dy), float4x4(0.026020392775536,0.023452563211322,0.020749868825078,-0.019090270623565,-0.015100807882845,0.018277434632182,0.003952044527978,0.025117158889771,0.026744084432721,-0.000024462042347,0.002675854368135,0.005138749722391,-0.019786920398474,0.003963402006775,0.066048741340637,0.005357623100281));
res += mul(Get(s3,-dx,-dy), float4x4(0.021552640944719,-0.013323035091162,0.002912471303716,0.017851354554296,-0.019165603443980,-0.009121728129685,-0.008461323566735,0.001499994657934,0.025900136679411,0.012193304486573,0.009634389542043,0.000528138654772,0.002268531126902,0.008089205250144,-0.017073985189199,0.023510720580816));
res += mul(Get(s3,-dx,0), float4x4(-0.022022699937224,0.014012873172760,0.009374958463013,0.003420071909204,0.021751241758466,0.009798995219171,0.015751542523503,0.000699315336533,-0.017648495733738,0.027862021699548,-0.009537472389638,-0.029065230861306,0.027169294655323,-0.007716955151409,0.015429974533617,0.020358053967357));
res += mul(Get(s3,-dx,dy), float4x4(0.005977833177894,-0.001982306130230,0.000956909439992,0.000449225888588,-0.025485290214419,-0.024717105552554,0.009770263917744,-0.004931571893394,-0.005048722960055,-0.025849532335997,0.034409523010254,-0.004813957959414,-0.006505484227091,0.032127588987350,-0.002603144617751,-0.017064567655325));
res += mul(Get(s3,0,-dy), float4x4(0.015698686242104,0.022467780858278,0.021013500168920,0.029616020619869,0.008063927292824,-0.010320884175599,0.024463387206197,0.014195799827576,0.034852262586355,0.003533486742526,0.001302652759477,0.016224851831794,-0.018157776445150,0.005879896227270,0.029053334146738,-0.021208543330431));
res += mul(Get(s3,0,0), float4x4(-0.023590376600623,0.027254901826382,-0.021601062268019,-0.019674325361848,0.016549924388528,-0.024743471294641,0.028584407642484,0.026547959074378,0.001471560099162,-0.009484473615885,0.011454683728516,0.011171369813383,-0.001976741710678,-0.027726408094168,0.025880118831992,-0.008938014507294));
res += mul(Get(s3,0,dy), float4x4(-0.017915992066264,0.043686464428902,-0.010381286963820,-0.018252300098538,-0.010416344739497,0.027442213147879,-0.025561735033989,-0.020794035866857,-0.025097036734223,-0.003657897002995,-0.018268140032887,0.012331748381257,0.000554620695766,-0.002230484737083,-0.005077932495624,0.032372985035181));
res += mul(Get(s3,dx,-dy), float4x4(0.004689199849963,-0.015228522010148,-0.007281465455890,-0.046461131423712,0.011762954294682,0.011819747276604,0.030042266473174,-0.034072164446115,0.010766621679068,0.012247870676219,-0.015595426782966,-0.010014014318585,0.026135684922338,-0.019720230251551,-0.032106917351484,-0.002314477460459));
res += mul(Get(s3,dx,0), float4x4(-0.011590859852731,-0.003353744279593,-0.013161285780370,0.021394344046712,-0.015814384445548,0.001113077974878,-0.035851843655109,-0.020757285878062,-0.021173626184464,-0.035543259233236,0.017617912963033,-0.007851347327232,-0.008326212875545,-0.014241860248148,-0.013402059674263,-0.033026896417141));
res += mul(Get(s3,dx,dy), float4x4(0.019706644117832,0.005990807432681,0.017530294135213,0.032838221639395,-0.010174696333706,0.024515554308891,0.003687924472615,-0.028402574360371,-0.015848986804485,0.008082999847829,0.032659292221069,-0.009354703128338,0.016994433477521,0.003744720946997,0.009424452669919,0.006379663478583));
return max(float4(0,0,0,0), res);
}
