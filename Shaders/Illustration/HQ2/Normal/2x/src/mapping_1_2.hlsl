sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.015062483027577,-0.028000459074974,-0.002121237339452,-0.000514575629495,0.016379209235311,0.009217716753483,0.007703181821853,0.008528965525329,0.022368524223566,-0.018781973049045,0.003276075702161,-0.005218494683504,0.029283350333571,0.004657926037908,-0.004354893695563,0.012962359003723));
res += mul(Get(s0,-dx,0), float4x4(0.019923983141780,0.015048208646476,0.019835548475385,-0.018512306734920,0.042069621384144,0.013831456191838,0.020209843292832,0.005460405256599,-0.006691126152873,0.016085047274828,-0.010246968828142,-0.008031614124775,0.038284208625555,0.034220896661282,-0.012443589977920,-0.001862762845121));
res += mul(Get(s0,-dx,dy), float4x4(0.002758381888270,0.003902853000909,0.045932609587908,0.019617993384600,0.018834849819541,-0.021152181550860,0.006097448989749,0.031609505414963,-0.007082987111062,0.006747406907380,-0.037546504288912,-0.009304094128311,0.046120058745146,0.022936867550015,0.028515603393316,0.021817218512297));
res += mul(Get(s0,0,-dy), float4x4(0.100255481898785,0.027280613780022,0.005175638478249,-0.022218491882086,-0.002437749644741,0.039275888353586,0.025167969986796,-0.009546722285450,-0.020287213847041,-0.018827304244041,0.009212670847774,0.018335394561291,0.020131429657340,-0.027095850557089,-0.004969203379005,-0.000880113802850));
res += mul(Get(s0,0,0), float4x4(0.056647758930922,-0.035794310271740,0.130879625678062,-0.008695744909346,0.018712503835559,-0.044043838977814,0.062288437038660,0.024643775075674,-0.003425744827837,0.030619993805885,0.021043693646789,0.024267837405205,0.033245332539082,0.049696326255798,0.040633026510477,0.007346349768341));
res += mul(Get(s0,0,dy), float4x4(0.072447843849659,-0.038581594824791,0.074353843927383,-0.015542737208307,0.002507791854441,-0.002744010183960,-0.046696983277798,0.018770741298795,0.005690699443221,0.021079067140818,-0.018327737227082,-0.033849678933620,0.026456197723746,0.029944745823741,0.006593119353056,0.012594268657267));
res += mul(Get(s0,dx,-dy), float4x4(-0.013249842450023,0.009881718084216,0.032917164266109,0.037435054779053,0.010215375572443,-0.025498948991299,0.016291493549943,0.012825323268771,-0.013961416669190,-0.020742395892739,0.015834797173738,0.009874441660941,-0.028391085565090,0.002353533869609,0.025494294241071,-0.024731246754527));
res += mul(Get(s0,dx,0), float4x4(-0.004285449162126,-0.004099828656763,-0.035992693156004,0.017822017893195,0.024881908670068,0.014869811013341,0.015682116150856,0.021703083068132,-0.011398651637137,0.036875832825899,0.014372020959854,-0.018452037125826,0.003010213840753,0.019364167004824,0.055442817509174,0.048407994210720));
res += mul(Get(s0,dx,dy), float4x4(-0.013793290592730,0.002562396228313,-0.007035468704998,0.013014625757933,0.017656775191426,0.018726222217083,-0.024887841194868,0.003718905616552,0.012008651159704,0.000844428315759,0.001565074548125,0.016262618824840,0.018562780693173,-0.007725689094514,-0.016052525490522,0.023899575695395));
res += mul(Get(s1,-dx,-dy), float4x4(-0.009120114147663,-0.013313950970769,-0.017516324296594,0.017789451405406,-0.015130378305912,0.036834683269262,0.004085344262421,-0.005135601386428,-0.006113993469626,0.008772942237556,0.002959341509268,0.021862626075745,0.012655857019126,-0.024224838241935,0.027362270280719,0.009091285057366));
res += mul(Get(s1,-dx,0), float4x4(0.007137810345739,0.006741989403963,0.012064597569406,0.011550757102668,-0.052053231745958,0.026204306632280,0.019118018448353,0.022564496845007,0.015837654471397,0.015103374607861,-0.017999935895205,-0.000114525493700,0.014106584712863,-0.007433377671987,0.032182518392801,-0.020052516832948));
res += mul(Get(s1,-dx,dy), float4x4(-0.010299876332283,0.016479365527630,0.023053171113133,0.020154464989901,-0.030837865546346,-0.008169337175786,-0.069273039698601,0.003129612421617,-0.015821412205696,0.017314096912742,0.009902841411531,0.008890403434634,-0.070623464882374,0.003117501270026,-0.028941707685590,0.018878497183323));
res += mul(Get(s1,0,-dy), float4x4(-0.008356207050383,0.037930786609650,-0.002264646114781,-0.002973741851747,-0.031494606286287,0.002797915833071,0.040492624044418,-0.010309242643416,0.028315957635641,0.000663653598167,-0.002093901392072,-0.004462573677301,0.063731953501701,-0.014713443815708,-0.005912013351917,0.016646057367325));
res += mul(Get(s1,0,0), float4x4(-0.015396797098219,0.030724499374628,0.001942043891177,-0.015565418638289,-0.017193552106619,0.014956501312554,0.019351003691554,-0.007904900237918,0.018111709505320,-0.024018697440624,0.009714414365590,-0.010659774765372,0.100123763084412,0.001615724875592,-0.009804288856685,0.004772246349603));
res += mul(Get(s1,0,dy), float4x4(-0.006704709958285,0.008146078325808,0.019431291148067,-0.006852169521153,-0.031522002071142,0.035519462078810,0.029677050188184,-0.032771423459053,-0.000482143543195,-0.024792846292257,0.001371046178974,-0.011972564272583,0.067606754601002,0.003073496744037,0.032771497964859,-0.028304459527135));
res += mul(Get(s1,dx,-dy), float4x4(-0.011397474445403,0.029921708628535,0.008677195757627,-0.020457353442907,0.072614058852196,0.007724222261459,-0.003724748734385,0.037490006536245,0.012185634113848,0.022871596738696,0.008932312019169,-0.005400523077697,-0.032308936119080,-0.001390781369992,0.015687169507146,-0.000505953794345));
res += mul(Get(s1,dx,0), float4x4(-0.003024589968845,0.007040331605822,-0.001976857194677,-0.012822868302464,0.059494659304619,-0.007194421254098,0.012514605186880,0.003639860777184,-0.001100154826418,0.022564675658941,0.028688780963421,-0.012422943487763,-0.022771986201406,0.000986829982139,0.010077033191919,0.005776089616120));
res += mul(Get(s1,dx,dy), float4x4(-0.011869510635734,-0.038983579725027,0.014457208104432,0.014818762429059,0.037583358585835,-0.001326707308181,0.029394701123238,-0.019180988892913,-0.001016429159790,0.012127663940191,-0.013162517920136,-0.028807861730456,0.011618875898421,0.027975771576166,-0.012635256163776,-0.008494579233229));
res += mul(Get(s2,-dx,-dy), float4x4(0.042611949145794,0.013609579764307,-0.003608624218032,-0.026377804577351,0.044128332287073,0.024584706872702,-0.004497073590755,-0.003750904463232,-0.041261937469244,-0.007075315341353,0.002168926643208,0.000543078873307,0.012724077329040,0.001133866608143,-0.002050996990874,-0.009131330065429));
res += mul(Get(s2,-dx,0), float4x4(0.022621341049671,0.021146776154637,-0.029742710292339,0.008318288251758,0.048186838626862,0.032729536294937,0.039057884365320,-0.014747067354620,0.018186952918768,0.016339782625437,0.026949482038617,-0.015820788219571,0.039492145180702,0.034033577889204,0.039389576762915,0.003699437016621));
res += mul(Get(s2,-dx,dy), float4x4(0.008399325422943,0.010611519217491,0.041591811925173,0.016029423102736,0.024949457496405,0.009561762213707,-0.001191676710732,0.034218315035105,-0.016008689999580,0.006048868410289,0.028513465076685,0.002544659189880,-0.025502614676952,0.000111781249871,0.021257538348436,0.052665367722511));
res += mul(Get(s2,0,-dy), float4x4(0.000070322043030,0.009841726161540,-0.003423689166084,-0.031561713665724,0.102381385862827,0.029427068307996,0.064290173351765,0.014985515736043,0.068382054567337,-0.003289192449301,-0.044170644134283,-0.015228659845889,0.007377940230072,-0.011585588566959,0.014628932811320,-0.014300590381026));
res += mul(Get(s2,0,0), float4x4(0.004013582598418,-0.010207275860012,-0.012109529227018,-0.015724597498775,0.042471602559090,0.022675035521388,0.030206078663468,0.032165460288525,0.063921265304089,-0.010190774686635,0.078597985208035,0.000710672058631,-0.004036904312670,-0.029073195531964,0.081602931022644,0.051625180989504));
res += mul(Get(s2,0,dy), float4x4(0.008029811084270,0.007293726317585,-0.002204008633271,-0.026510458439589,0.023380545899272,-0.012189703993499,-0.046981655061245,0.038819983601570,0.026444321498275,-0.013186711817980,0.024570276960731,0.004127562046051,-0.002082438673824,-0.002344324486330,-0.013479830697179,0.023265367373824));
res += mul(Get(s2,dx,-dy), float4x4(-0.073791034519672,-0.007775222882628,0.013235453516245,-0.024907650426030,0.001071571256034,0.013503253459930,0.051671255379915,0.004992905072868,-0.006816901266575,-0.006320211570710,0.011863949708641,0.006125004496425,0.026328647509217,-0.016572691500187,0.027458807453513,-0.018790312111378));
res += mul(Get(s2,dx,0), float4x4(-0.011962347663939,-0.019377391785383,0.001843528938480,0.004617693834007,0.020892597734928,-0.029506117105484,-0.065499991178513,0.032709013670683,-0.009357673116028,-0.032508797943592,0.024923248216510,0.021465787664056,0.030401382595301,0.009173349477351,0.032136794179678,-0.008793179877102));
res += mul(Get(s2,dx,dy), float4x4(-0.015663601458073,0.012639735825360,0.011242131702602,-0.049154393374920,0.048523467034101,0.025951340794563,-0.074506223201752,-0.015762297436595,0.035050459206104,0.043994519859552,-0.016622213646770,-0.023943243548274,0.012967536225915,0.005069063510746,-0.009137510322034,-0.041104197502136));
res += mul(Get(s3,-dx,-dy), float4x4(0.001130210352130,-0.003608608618379,0.022107524797320,-0.002999713644385,-0.000519834400620,0.015220150351524,0.027978722006083,0.012839907780290,-0.028957882896066,0.000780118396506,0.022625965997577,0.028235539793968,-0.009135497733951,-0.007533704396337,0.030164264142513,-0.003265036037192));
res += mul(Get(s3,-dx,0), float4x4(-0.000711689819582,-0.037555165588856,-0.014915552921593,-0.008053323253989,0.001785692758858,0.012705765664577,0.004292394034564,-0.019741680473089,-0.016324052587152,0.046506118029356,-0.001385982963257,-0.008963247761130,-0.010738735087216,-0.029087152332067,-0.011124722659588,0.005743091460317));
res += mul(Get(s3,-dx,dy), float4x4(0.001396542531438,-0.010361171327531,0.002004683949053,-0.001050847466104,-0.011876057833433,0.010591359809041,0.023857243359089,-0.016750732436776,-0.016000531613827,-0.000944211671595,0.000544283248018,0.003391948994249,0.011860327795148,0.020214378833771,0.037193674594164,-0.011082733049989));
res += mul(Get(s3,0,-dy), float4x4(-0.006142360158265,-0.005487945862114,-0.000935355492402,-0.020703794434667,-0.019561041146517,0.010379242710769,0.007040516939014,0.017316306009889,0.017109367996454,-0.020339816808701,0.031880579888821,0.016055207699537,0.036483045667410,-0.005378619302064,0.027065077796578,0.010932016186416));
res += mul(Get(s3,0,0), float4x4(-0.013543329201639,0.011753424070776,0.007727349642664,0.002478639828041,0.032468404620886,-0.004198669921607,-0.012005408294499,0.020568858832121,0.008748753927648,-0.018271002918482,-0.007235526572913,0.000135455076816,0.016465850174427,-0.018157646059990,0.030378827825189,0.015083589591086));
res += mul(Get(s3,0,dy), float4x4(-0.017992276698351,-0.005349171347916,-0.022664779797196,-0.005290338303894,0.027946811169386,-0.018503768369555,0.002727798186243,-0.013108097948134,-0.007004458922893,-0.019729932770133,0.007614626549184,0.017216201871634,0.044055610895157,-0.011181554757059,-0.013337998650968,0.001723266206682));
res += mul(Get(s3,dx,-dy), float4x4(-0.016668969765306,0.027299601584673,0.008302984759212,-0.018377121537924,-0.032520756125450,-0.042835470288992,-0.007763620465994,0.014013083651662,0.000376455573132,-0.004808789119124,-0.015428585931659,0.019720628857613,-0.032879229635000,-0.031294088810682,0.033434808254242,-0.036274001002312));
res += mul(Get(s3,dx,0), float4x4(0.007957763969898,-0.029913829639554,0.018479123711586,0.056393537670374,0.008576701395214,0.013359141536057,-0.002320574829355,-0.023591814562678,0.026118736714125,-0.008676278404891,0.007437889464200,0.012628782540560,0.014843908138573,0.000481996044982,0.001459069782868,0.021157985553145));
res += mul(Get(s3,dx,dy), float4x4(-0.002274634549394,-0.010948413982987,-0.025500556454062,-0.006327399984002,0.003257872071117,0.028152970597148,-0.015993045642972,0.005608275998384,0.038665089756250,-0.018043713644147,0.011911533772945,-0.012106045149267,0.004285368137062,0.000170504194102,-0.022649232298136,-0.009763850830495));
return max(float4(0,0,0,0), res);
}
