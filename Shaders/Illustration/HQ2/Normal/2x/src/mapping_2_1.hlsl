sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.001074768137187,-0.012661918997765,-0.013457235880196,0.010290328413248,0.075754418969154,-0.028630565851927,0.027094015851617,0.021915048360825,0.021148566156626,0.025809545069933,0.036331336945295,0.001465301262215,0.006841461639851,0.005667299032211,0.012290178798139,-0.009403171949089));
res += mul(Get(s0,-dx,0), float4x4(0.003911112435162,0.025120593607426,0.005411267280579,0.015786450356245,-0.004243105649948,-0.050895661115646,-0.015870749950409,-0.001634370186366,-0.006950740236789,0.003554419148713,0.007412183098495,0.025267612189054,0.007662293966860,-0.008267002180219,-0.004262384958565,0.004441017750651));
res += mul(Get(s0,-dx,dy), float4x4(0.041525304317474,0.035640344023705,0.000159571034601,0.006857714150101,-0.046841483563185,0.031125409528613,0.017714491114020,0.028132490813732,-0.018196552991867,-0.005368145182729,-0.012958465144038,0.007908854633570,0.020494434982538,-0.003573636757210,0.010081446729600,-0.019311008974910));
res += mul(Get(s0,0,-dy), float4x4(-0.021477768197656,0.022211326286197,0.032975174486637,-0.008474629372358,0.016159236431122,0.038601774722338,0.010852932929993,-0.062538899481297,0.017405975610018,0.013446419499815,-0.047287501394749,-0.017431929707527,-0.030459238216281,-0.006344078108668,-0.047918632626534,0.002435154747218));
res += mul(Get(s0,0,0), float4x4(0.012973476201296,0.004955869168043,0.029126703739166,-0.018398281186819,-0.092294581234455,0.100766494870186,0.010178545489907,-0.000815568782855,0.007144623436034,-0.040518749505281,-0.007221495732665,0.022722750902176,-0.000204589669011,0.046110577881336,0.058626692742109,0.018851531669497));
res += mul(Get(s0,0,dy), float4x4(0.040712513029575,0.039378270506859,0.002444755053148,0.015520610846579,-0.032910894602537,0.059673525393009,0.017110301181674,0.027793545275927,0.003726731985807,0.001860271207988,0.017054419964552,0.025531116873026,0.038270745426416,0.009056995622814,0.003668422810733,-0.034473195672035));
res += mul(Get(s0,dx,-dy), float4x4(0.019873153418303,0.014934650622308,0.012263880111277,-0.014371217228472,0.016976913437247,0.040453046560287,-0.005297599826008,0.025190800428391,0.016721373423934,0.028050400316715,0.002071558032185,-0.006784035358578,0.025391073897481,-0.018129715695977,-0.025218924507499,0.035684626549482));
res += mul(Get(s0,dx,0), float4x4(0.019025955349207,-0.008585382252932,-0.034288763999939,0.021775636821985,-0.022273490205407,0.027178866788745,0.006546447984874,-0.005310250911862,0.009997545741498,-0.020646452903748,0.004914105404168,0.016203232109547,-0.000255158491200,-0.027862731367350,0.007848762907088,0.013712581247091));
res += mul(Get(s0,dx,dy), float4x4(0.014331388287246,0.016660787165165,-0.015893140807748,-0.013163882307708,0.029265383258462,-0.039470363408327,-0.000079867037130,0.006805266253650,-0.034689888358116,0.063608467578888,0.016237584874034,0.006744588725269,0.028515420854092,-0.014829762279987,0.006193509325385,0.022483736276627));
res += mul(Get(s1,-dx,-dy), float4x4(0.035444352775812,0.008140881545842,-0.005659038666636,0.004048862960190,-0.012749513611197,0.018127219751477,-0.010237349197268,-0.001154349301942,-0.011659965850413,0.053098622709513,0.009969303384423,0.011696159839630,0.006897240411490,-0.021829096600413,0.015158766880631,0.007136749103665));
res += mul(Get(s1,-dx,0), float4x4(0.007500691339374,0.026637610048056,-0.013710070401430,0.015200439840555,0.010852840729058,0.018818717449903,-0.001069156685844,-0.017512625083327,0.061998676508665,0.016096495091915,0.031041773036122,-0.000038228670746,0.034530475735664,0.005914962850511,-0.045099470764399,-0.027889765799046));
res += mul(Get(s1,-dx,dy), float4x4(-0.008597138337791,0.013404508121312,0.016779076308012,0.011427731253207,-0.026891915127635,0.008769482374191,-0.009822440333664,-0.008052088320255,0.002717177849263,-0.007691068574786,0.036362476646900,0.008948726579547,0.021055012941360,0.010771261528134,-0.012089570052922,0.012374186888337));
res += mul(Get(s1,0,-dy), float4x4(-0.002117998898029,0.010772703215480,-0.018701313063502,0.022296495735645,0.004541558679193,-0.008851247839630,-0.015016252174973,0.029362088069320,0.024310933426023,-0.038282103836536,0.001859781099483,-0.008638201281428,0.015364918857813,-0.028157804161310,0.036996655166149,-0.043346516788006));
res += mul(Get(s1,0,0), float4x4(0.026868415996432,-0.027625996619463,0.014427377842367,0.016810989007354,0.011057210154831,-0.010225583799183,-0.018167102709413,0.003280292497948,0.041971217840910,-0.008475095033646,0.028470147401094,-0.031694661825895,0.006191617809236,0.012315980158746,-0.006476381793618,-0.025340264663100));
res += mul(Get(s1,0,dy), float4x4(-0.020820833742619,-0.026293678209186,0.020754288882017,0.026999922469258,-0.019171033054590,0.021186718717217,0.020093014463782,-0.005689070560038,0.021047614514828,0.014619940891862,-0.019259897992015,0.034707035869360,-0.012757021933794,0.010181946679950,0.016873156651855,-0.027661524713039));
res += mul(Get(s1,dx,-dy), float4x4(0.012408551760018,0.050834380090237,0.008575258776546,0.031536441296339,0.032869897782803,0.009542834945023,0.027951011434197,-0.021385770291090,0.006227104924619,0.002148769795895,0.028474368155003,0.009440702386200,0.001325309858657,0.036941595375538,0.017877893522382,-0.013214611448348));
res += mul(Get(s1,dx,0), float4x4(0.034778177738190,0.049839846789837,0.009359596297145,-0.067116893827915,0.008237909525633,-0.000144775782246,-0.003192466218024,0.022116666659713,0.004770783707500,0.020485527813435,-0.043188512325287,0.010413740761578,-0.020529586821795,0.000751838029828,-0.021986298263073,-0.001010732492432));
res += mul(Get(s1,dx,dy), float4x4(-0.009719878435135,0.059703096747398,0.011525628156960,0.005905858706683,-0.042805109173059,0.014167727902532,-0.008386274799705,0.000596627767663,0.036648202687502,0.001042038085870,0.024704616516829,-0.003276835195720,0.006194357760251,-0.037267073988914,-0.002581289736554,-0.003054636297747));
res += mul(Get(s2,-dx,-dy), float4x4(-0.035004548728466,-0.006169834174216,0.033265214413404,0.005434867925942,0.035680469125509,0.008283130824566,0.037899609655142,-0.000475532666314,0.000474340311484,-0.006311226636171,0.017729662358761,0.004837678745389,0.054497130215168,0.023126121610403,0.003471898846328,0.005075290333480));
res += mul(Get(s2,-dx,0), float4x4(0.001519962679595,0.009188750758767,0.003590356325731,0.047013431787491,0.019429838284850,-0.024602202698588,0.014582253061235,0.022650867700577,0.009572857990861,-0.000250035431236,0.031745579093695,0.013102157972753,-0.063108995556831,0.064557760953903,-0.023641942068934,0.020631270483136));
res += mul(Get(s2,-dx,dy), float4x4(0.016156410798430,0.000775027205236,0.026712704449892,-0.013162565417588,-0.045297686010599,0.052535656839609,0.004573080688715,-0.019936623051763,-0.014937573112547,-0.022079108282924,0.001593328430317,-0.015254201367497,-0.013244668021798,-0.022141976282001,0.017999066039920,-0.007041319273412));
res += mul(Get(s2,0,-dy), float4x4(-0.022896986454725,0.013212893158197,-0.014873648062348,0.042204521596432,-0.011530946940184,0.006469262763858,0.018544493243098,0.004406476859003,0.009690432809293,0.002280133776367,0.007107550743967,0.001196657540277,0.080682978034019,-0.001284340280108,-0.020173214375973,0.021397544071078));
res += mul(Get(s2,0,0), float4x4(0.050643097609282,-0.031334627419710,0.027242271229625,0.009193304926157,0.031698450446129,-0.001075965701602,-0.012189454399049,0.048633925616741,0.055915672332048,-0.000518017855939,0.016248244792223,-0.007395705208182,-0.031473871320486,-0.026003837585449,-0.001506668049842,0.007920738309622));
res += mul(Get(s2,0,dy), float4x4(0.003589757718146,0.031578496098518,0.012719395570457,0.005850818939507,-0.001726227113977,-0.000345936889062,0.018189150840044,-0.001398995169438,-0.002503167837858,0.033998981118202,0.002983608283103,-0.006910341326147,0.015343421138823,-0.013735281303525,0.064428508281708,0.009083651006222));
res += mul(Get(s2,dx,-dy), float4x4(0.033357415348291,-0.021740498021245,-0.005467480979860,0.009326972067356,-0.001652338658459,0.019437616690993,0.012959025800228,-0.008357051759958,-0.003766692942008,0.026940371841192,0.011033790186048,0.049557242542505,0.013329547829926,0.052892159670591,0.004156521987170,-0.008022715337574));
res += mul(Get(s2,dx,0), float4x4(-0.010315401479602,0.019964076578617,0.025905687361956,0.035926789045334,0.001217538025230,-0.005311840213835,-0.017050851136446,0.009847038425505,-0.004639633931220,-0.009558538906276,0.012260814197361,0.039788182824850,-0.006547771859914,0.020971333608031,0.003372328123078,0.015516258776188));
res += mul(Get(s2,dx,dy), float4x4(-0.034794371575117,0.033961087465286,0.002244684612378,0.030470203608274,0.035579606890678,-0.034563131630421,-0.014974699355662,-0.006546016316861,0.007842310704291,0.009386832825840,-0.036985542625189,0.005353012587875,-0.003655009903014,0.015344004146755,-0.035196196287870,0.008752815425396));
res += mul(Get(s3,-dx,-dy), float4x4(-0.029540032148361,0.030844183638692,0.031969420611858,0.017392942681909,-0.010389103554189,0.006606799084693,0.050760608166456,0.042494241148233,0.030160976573825,0.006279496941715,0.055550843477249,-0.021084180101752,0.010909745469689,0.006829421035945,0.002796290675178,-0.010848316363990));
res += mul(Get(s3,-dx,0), float4x4(0.065706081688404,0.010641577653587,-0.017574772238731,0.015732206404209,-0.009330286644399,0.003763172542676,0.036696489900351,0.059795673936605,0.033593680709600,0.042752187699080,-0.020543264225125,0.023465832695365,0.012784576043487,0.019505983218551,-0.022604715079069,-0.009887967258692));
res += mul(Get(s3,-dx,dy), float4x4(0.040899768471718,-0.023020355030894,0.014498841948807,-0.005010840483010,0.010363870300353,0.000060309390392,-0.002091958653182,0.003493083640933,0.003738146042451,0.031754493713379,0.012269879691303,-0.004469601437449,0.003416722640395,-0.001997253391892,-0.017692176625133,-0.017347918823361));
res += mul(Get(s3,0,-dy), float4x4(0.061309356242418,-0.011631995439529,0.010536863468587,0.042362269014120,-0.000227649972658,0.023066572844982,0.004463186487556,0.025392411276698,0.002626096596941,-0.024952614679933,0.021535499021411,-0.002625847700983,0.001670726691373,-0.041364099830389,0.000384043087251,-0.027864130213857));
res += mul(Get(s3,0,0), float4x4(0.051471456885338,-0.048924770206213,-0.003643058473244,-0.038750767707825,-0.004778846632689,0.002600462874398,-0.017988109961152,-0.015012266114354,0.006746143102646,0.003119502449408,0.005081437528133,0.038998637348413,0.006946910172701,0.019989358261228,-0.011622062884271,0.018683485686779));
res += mul(Get(s3,0,dy), float4x4(-0.029404401779175,0.054839525371790,0.029489099979401,0.031586453318596,-0.030723532661796,-0.006965872365981,0.010139548219740,-0.008542846888304,0.038483723998070,0.031783416867256,0.026047911494970,-0.016740417107940,-0.020255593582988,0.022451817989349,0.015301409177482,0.007778471801430));
res += mul(Get(s3,dx,-dy), float4x4(0.000862947956193,0.007178220432252,0.082443945109844,-0.006177122239023,0.005522718653083,-0.005413545295596,0.034096159040928,0.024642817676067,0.012919067405164,0.012778566218913,-0.017844287678599,0.023231806233525,0.024744531139731,0.008753341622651,-0.015165058895946,0.010822702199221));
res += mul(Get(s3,dx,0), float4x4(0.013833428733051,0.032222718000412,-0.034542240202427,0.003176807193086,-0.017594428732991,-0.014908174052835,0.036776971071959,0.008610669523478,0.054837726056576,-0.020460899919271,0.018271490931511,-0.007127997465432,0.010550214909017,0.024032155051827,-0.033179417252541,0.019769048318267));
res += mul(Get(s3,dx,dy), float4x4(-0.009373826906085,0.027307556942105,-0.010699644684792,0.001684425515123,-0.030297636985779,0.001506356988102,-0.001399930915795,0.044839851558208,-0.016210092231631,-0.009777303785086,0.002762659685686,-0.000048125588364,0.013709242455661,0.033530212938786,-0.017504213377833,0.002906952751800));
return max(float4(0,0,0,0), res);
}
