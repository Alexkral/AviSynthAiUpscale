sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.024352069944143,0.012132392264903,0.005707175005227,-0.001283000572585,0.009406480006874,-0.007060744334012,0.049360100179911,-0.033556271344423,0.016530765220523,-0.019256930798292,-0.010835045017302,-0.060820017009974,-0.008458064869046,0.007303121499717,0.020213168114424,-0.050447471439838));
res += mul(Get(s0,-dx,0), float4x4(-0.011440458707511,0.002329263137653,0.032355342060328,0.000542072637472,-0.016594102606177,0.003347433637828,-0.018006237223744,0.015533235855401,-0.002487007295713,-0.010506900958717,-0.014138395898044,-0.021947730332613,-0.009088475257158,-0.020058382302523,-0.044307697564363,-0.008727109991014));
res += mul(Get(s0,-dx,dy), float4x4(-0.021285250782967,0.044147524982691,0.017035676166415,-0.007734855171293,0.015544134192169,-0.027009997516870,0.032463341951370,-0.011579229496419,-0.021074149757624,-0.014034364372492,-0.019627947360277,-0.032621853053570,0.005698779597878,0.013310372829437,0.001910423743539,0.020702747628093));
res += mul(Get(s0,0,-dy), float4x4(-0.006235721521080,0.022055221721530,-0.016713432967663,0.009893625974655,0.029928933829069,-0.015222670510411,-0.015727756544948,0.004614991601557,-0.003200239734724,0.025825832039118,0.001849704305641,-0.007136739324778,0.044288247823715,0.006856620777398,-0.032491110265255,-0.023998396471143));
res += mul(Get(s0,0,0), float4x4(0.010526506230235,0.007923278957605,0.023870309814811,0.013395596295595,0.027253655716777,-0.014731626026332,0.002406142419204,0.025870066136122,-0.004202427342534,0.006858701352030,-0.021687936037779,0.019881596788764,-0.018101494759321,0.004920976236463,0.006170614622533,0.037117816507816));
res += mul(Get(s0,0,dy), float4x4(-0.017901988700032,-0.013135240413249,0.008125334978104,0.012492598034441,-0.000151891916175,0.016470296308398,0.017821228131652,0.008257045410573,0.008360021747649,-0.009946028701961,-0.013788204640150,0.006747102830559,0.006491397507489,-0.016003305092454,-0.015004473738372,-0.007314498536289));
res += mul(Get(s0,dx,-dy), float4x4(-0.042879682034254,-0.011594211682677,-0.005734307225794,0.006472678389400,-0.008013602346182,0.001651740050875,-0.018026554957032,-0.032794926315546,0.038465503603220,-0.010126499459147,0.011498626321554,0.020249797031283,0.017522558569908,-0.038392838090658,-0.017798624932766,0.007320519536734));
res += mul(Get(s0,dx,0), float4x4(-0.014744632877409,-0.033429440110922,0.020852290093899,0.009483703412116,-0.013397701084614,-0.006677938625216,0.011286151595414,0.037707287818193,-0.031408119946718,-0.009421093389392,-0.015793273225427,-0.018378712236881,0.000217559805606,0.015812607482076,-0.014652745798230,-0.010964759625494));
res += mul(Get(s0,dx,dy), float4x4(-0.001819113036618,-0.018048595637083,0.030624087899923,-0.031375147402287,0.011209966614842,-0.005500181578100,-0.015250019729137,-0.004429342690855,-0.012248434126377,0.027420917525887,-0.015067783184350,-0.042066808789968,-0.044546920806170,0.011685770936310,0.031055077910423,-0.037067670375109));
res += mul(Get(s1,-dx,-dy), float4x4(-0.014651271514595,0.005057986825705,-0.027186442166567,0.017485182732344,-0.022778553888202,-0.020060777664185,0.013467887416482,-0.007870852015913,0.010687354952097,0.002768068574369,-0.016544429585338,-0.024978056550026,0.011775209568441,0.000319642305840,-0.024579232558608,-0.017831485718489));
res += mul(Get(s1,-dx,0), float4x4(0.007849880494177,0.009827459231019,0.003782271873206,0.013082521036267,-0.010114360600710,-0.002162962453440,0.015954533591866,0.012303115800023,-0.016117490828037,-0.007067033555359,-0.018994484096766,0.037662055343390,0.029124692082405,-0.005371560808271,0.028571177273989,0.004813467152417));
res += mul(Get(s1,-dx,dy), float4x4(-0.011183450929821,0.014345736242831,0.001937533728778,0.021589206531644,0.019737638533115,-0.010478640906513,-0.017223838716745,0.026012642309070,0.010534372180700,-0.000824009941425,-0.001409726450220,-0.006184116005898,0.000443829805590,0.001040417701006,-0.008031887002289,-0.021136058494449));
res += mul(Get(s1,0,-dy), float4x4(0.028644902631640,0.002921174746007,-0.000843937625177,0.006860749330372,0.039756931364536,-0.013327978551388,-0.005421384237707,0.018707714974880,-0.006492101121694,0.031383804976940,-0.030919563025236,0.005583557765931,-0.061158921569586,0.023696709424257,0.000743684358895,-0.013561473228037));
res += mul(Get(s1,0,0), float4x4(0.018917640671134,-0.017853369936347,-0.017062675207853,0.010764000937343,-0.006319326814264,0.003961307927966,-0.021532198414207,0.026959307491779,0.002185065532103,0.001938537461683,-0.002138730837032,0.008198304101825,0.024648599326611,-0.016918573528528,0.020108409225941,0.047906517982483));
res += mul(Get(s1,0,dy), float4x4(-0.014030059799552,-0.012574451044202,-0.006192804314196,0.025127559900284,0.011654774658382,-0.006143983453512,-0.007152670994401,0.032211095094681,-0.038354519754648,-0.012693612836301,0.000668447406497,-0.014664401300251,-0.000493394152727,-0.008453714661300,-0.009052741341293,-0.028993301093578));
res += mul(Get(s1,dx,-dy), float4x4(-0.050377476960421,0.028875051066279,-0.009850967675447,0.012820026837289,0.022272769361734,-0.021856134757400,0.018922602757812,0.001464755972847,-0.026862829923630,0.004338904749602,-0.002621469320729,0.009951891377568,-0.002460994524881,-0.018963877111673,-0.003839201992378,-0.008230780251324));
res += mul(Get(s1,dx,0), float4x4(0.044855710119009,0.005483641289175,0.000455802801298,0.027105676010251,-0.004017410334200,0.015387425199151,-0.019009519368410,0.000697601353750,-0.016780758276582,0.018647845834494,0.004023984074593,-0.012915442697704,0.004381189122796,0.024265499785542,0.013088150881231,0.001384250586852));
res += mul(Get(s1,dx,dy), float4x4(0.003101439913735,0.000094767994597,-0.000522565911524,-0.038085497915745,-0.003212612355128,-0.009752578102052,-0.025033306330442,-0.003487707348540,-0.010355400852859,0.007677985355258,-0.019765527918935,-0.009283528663218,0.007754595950246,0.016047921031713,0.001262678997591,-0.015742978081107));
res += mul(Get(s2,-dx,-dy), float4x4(-0.012111483141780,0.022297028452158,0.000376490264898,0.011139060370624,-0.006780711468309,0.018042311072350,-0.035868547856808,0.008231677114964,0.017554488033056,-0.014856353402138,-0.027882238849998,-0.005349617451429,-0.022158162668347,0.023611685261130,0.020753057673573,-0.015996938571334));
res += mul(Get(s2,-dx,0), float4x4(0.012834365479648,-0.035302810370922,0.001332408981398,0.011133692227304,-0.023532198742032,0.039917726069689,-0.003843127284199,0.013531619682908,-0.012273300439119,-0.008104686625302,-0.012523524463177,-0.018658747896552,0.001653421670198,-0.011750794015825,-0.018927194178104,0.039786141365767));
res += mul(Get(s2,-dx,dy), float4x4(-0.023112351074815,0.012159228324890,-0.014120236970484,0.001060900278389,0.008971673436463,0.021129596978426,0.003633103799075,-0.001175359473564,0.022705048322678,-0.017198480665684,0.003518068464473,-0.016728179529309,-0.011428809724748,0.011901599355042,0.010307206772268,-0.009018164128065));
res += mul(Get(s2,0,-dy), float4x4(0.015004619024694,0.014913299120963,0.009566793218255,0.015910822898149,-0.005577603355050,-0.013383802026510,0.013589512556791,0.009051261469722,-0.018214007839561,0.047882296144962,0.001962256385013,0.009565658867359,-0.019131466746330,-0.012773952446878,0.064691461622715,0.013485182076693));
res += mul(Get(s2,0,0), float4x4(-0.011627140454948,-0.001078611938283,-0.019225228577852,-0.031249370425940,-0.046315215528011,0.010560245253146,-0.022070951759815,-0.001630817772821,-0.021246863529086,-0.025236707180738,-0.024872556328773,-0.011404097080231,-0.011675683781505,-0.016193775460124,-0.021405905485153,-0.007093019783497));
res += mul(Get(s2,0,dy), float4x4(-0.025436403229833,0.011744998395443,0.016351519152522,0.001142080407590,0.025412535294890,0.023229718208313,-0.016119545325637,0.023165408521891,0.000751322775614,0.001685686176643,0.003541108220816,0.000055849093769,-0.020890044048429,0.005509741138667,-0.029249256476760,0.003638482419774));
res += mul(Get(s2,dx,-dy), float4x4(0.005254390649498,-0.015479477122426,0.002844935283065,-0.042118106037378,0.017007201910019,0.011879393830895,-0.019126655533910,-0.009162891656160,0.009072436019778,0.040987111628056,-0.045391932129860,-0.030324596911669,0.042470775544643,-0.002588595729321,-0.002923816908151,-0.015055773779750));
res += mul(Get(s2,dx,0), float4x4(-0.020829617977142,0.019684974104166,-0.003979922272265,0.024028671905398,-0.012926119379699,-0.028818981721997,-0.035833247005939,-0.048245240002871,0.000095811403298,0.004148873966187,0.003535220632330,0.022369330748916,0.000432852975791,0.010678830556571,0.009981918148696,-0.014872888103127));
res += mul(Get(s2,dx,dy), float4x4(-0.019344890490174,0.012301488779485,0.032352723181248,-0.003399152774364,-0.035179525613785,-0.025422932580113,-0.020500067621469,0.019889265298843,0.000702379329596,0.027842177078128,-0.021335743367672,-0.005895795766264,-0.003600438358262,0.027367593720555,0.001267060288228,-0.000960954523180));
res += mul(Get(s3,-dx,-dy), float4x4(0.017486829310656,-0.002197957364842,0.012835742905736,0.005676999688148,0.002818864304572,-0.010923662222922,-0.006065263878554,0.039609864354134,0.005015662405640,-0.021986637264490,0.007036191876978,0.018643714487553,0.015576603822410,0.009724801406264,0.016042049974203,-0.011599454097450));
res += mul(Get(s3,-dx,0), float4x4(-0.000978395342827,-0.046907331794500,-0.009346683509648,0.029393563047051,0.008529654704034,-0.025468038395047,0.032159287482500,-0.027825249359012,0.001419251435436,0.003983023110777,-0.007980597205460,-0.008656330406666,0.005527408793569,-0.027695804834366,-0.038255892693996,-0.001392239006236));
res += mul(Get(s3,-dx,dy), float4x4(0.016571642830968,-0.012173637747765,0.025121219456196,-0.025709500536323,0.036427531391382,-0.031444232910872,0.032884817570448,-0.006772737018764,0.004969888366759,-0.000963927479461,-0.006321860477328,-0.015167918987572,-0.000349196954630,-0.038915380835533,0.018724983558059,0.020799335092306));
res += mul(Get(s3,0,-dy), float4x4(-0.007833628915250,0.031884014606476,0.034474037587643,-0.025878554210067,0.000836779479869,0.012990036979318,0.036924079060555,0.009064948186278,-0.023786030709743,-0.000987080507912,0.025947172194719,0.007748503703624,-0.009110325016081,0.019506134092808,0.006312864366919,0.021512877196074));
res += mul(Get(s3,0,0), float4x4(0.000561914115679,-0.006992858368903,-0.018811499699950,-0.009705178439617,-0.012236160226166,0.022062260657549,-0.013952753506601,0.016547555103898,-0.019392695277929,-0.011085799895227,-0.003234810195863,0.017933072522283,-0.003740288317204,-0.003337547648698,-0.000070654059527,0.031739704310894));
res += mul(Get(s3,0,dy), float4x4(0.004087564535439,0.028502946719527,0.016324426978827,-0.019397582858801,-0.013479116372764,0.009083755314350,-0.011162976734340,-0.011701160110533,0.007919951342046,-0.020236656069756,-0.002302009845152,0.031590130180120,-0.000297648919513,0.027077231556177,-0.013957187533379,0.029938876628876));
res += mul(Get(s3,dx,-dy), float4x4(-0.054861549288034,0.012676998041570,-0.039436593651772,0.017979102209210,0.030170867219567,0.002125892555341,0.006142076104879,-0.034818939864635,-0.022714732214808,-0.028358614072204,-0.004776266403496,-0.020991878584027,-0.022070640698075,0.005610383115709,-0.006421936210245,-0.002302022883669));
res += mul(Get(s3,dx,0), float4x4(-0.014182956889272,-0.005984740797430,0.022072141990066,0.000671801564749,-0.010889448225498,0.021627830341458,0.006893455050886,0.004403957631439,0.023972414433956,-0.023916622623801,-0.019960502162576,0.025016983971000,0.013050073757768,-0.023137997835875,-0.012203136458993,0.019420035183430));
res += mul(Get(s3,dx,dy), float4x4(0.012608313001692,-0.004881173837930,0.022043796256185,0.012729526497424,-0.002530947793275,0.018290041014552,0.013718247413635,-0.032741751521826,0.022252202033997,0.025794364511967,-0.000613848562352,0.000085495099484,-0.010294587351382,-0.009997547604144,-0.040513705462217,0.021977351978421));
return max(float4(0,0,0,0), res);
}
