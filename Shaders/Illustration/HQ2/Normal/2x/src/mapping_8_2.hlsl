sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.002352472394705,0.011808724142611,0.019966263324022,-0.020048117265105,0.007643872871995,0.016606025397778,0.007067254278809,0.024164026603103,0.032068874686956,0.023638892918825,-0.004822786431760,0.010889601893723,-0.025007585063577,0.015596721321344,0.001213877229020,0.008376901969314));
res += mul(Get(s0,-dx,0), float4x4(0.022954119369388,0.000735256995540,0.018942682072520,0.030442979186773,-0.005126467905939,0.014725288376212,-0.012936955317855,0.007067241240293,-0.004271950107068,0.003578884992748,0.016445640474558,-0.021834265440702,-0.014731147326529,0.046987369656563,0.038569301366806,0.015079698525369));
res += mul(Get(s0,-dx,dy), float4x4(-0.002309361239895,-0.007580258883536,0.015211872756481,-0.018432401120663,0.004553326871246,0.027696575969458,0.014857949689031,-0.024098938331008,0.022085005417466,-0.007538772188127,-0.014490764588118,0.001203721971251,-0.017657598480582,0.012222094461322,-0.005046518985182,0.016252279281616));
res += mul(Get(s0,0,-dy), float4x4(-0.010000115260482,0.012242595665157,-0.011350424028933,0.006126656662673,-0.004509633406997,0.014069935306907,-0.018777387216687,-0.008793168701231,0.040951371192932,0.031585033982992,-0.008426611311734,-0.005385735072196,0.009392349049449,0.040114089846611,-0.033272285014391,0.004277360625565));
res += mul(Get(s0,0,0), float4x4(0.051960881799459,0.002576041035354,0.016241757199168,-0.005614783149213,0.044148992747068,0.020019905641675,-0.014706249348819,-0.022009763866663,-0.001274704700336,0.036351528018713,0.008330189622939,0.027768971398473,-0.056738846004009,0.008171401917934,-0.001493088318966,0.019486643373966));
res += mul(Get(s0,0,dy), float4x4(0.005607910454273,0.008822049945593,-0.004050877410918,0.037666570395231,-0.007195089943707,-0.014913755469024,-0.003665829775855,0.013603015802801,-0.025241805240512,-0.028593681752682,-0.017653189599514,-0.035952549427748,-0.003942849580199,-0.047058556228876,0.014764630235732,0.029883742332458));
res += mul(Get(s0,dx,-dy), float4x4(-0.003551283385605,-0.002460012910888,0.014792294241488,-0.003726558061317,-0.011190314777195,0.011456467211246,0.014357756823301,-0.005755180027336,0.028545971959829,0.017942339181900,0.030896285548806,0.053680744022131,0.036093175411224,-0.004381069913507,0.003161516040564,0.004221009556204));
res += mul(Get(s0,dx,0), float4x4(-0.015556906349957,-0.004346751142293,0.006911341566592,0.054923020303249,-0.028624208644032,-0.020253615453839,-0.001326521974988,0.029457669705153,-0.023641742765903,0.011035585775971,0.027361195534468,0.015393083915114,-0.029995419085026,0.001648239791393,-0.024697627872229,-0.012074808590114));
res += mul(Get(s0,dx,dy), float4x4(-0.019039461389184,-0.026850663125515,-0.003565498860553,0.033937308937311,0.003509801579639,0.006016305647790,-0.017115639522672,0.003178299404681,0.002054974669591,-0.022910730913281,-0.025650944560766,0.010987122543156,0.017381882295012,-0.017010059207678,0.008664796128869,-0.020934814587235));
res += mul(Get(s1,-dx,-dy), float4x4(-0.006887031719089,-0.007461971603334,0.000500184542034,0.008120968006551,0.066684901714325,-0.008618837222457,-0.038913752883673,0.011575216427445,0.013491031713784,0.017741894349456,-0.015947781503201,0.028203081339598,-0.009880739264190,-0.056335452944040,0.001258200150914,0.026426851749420));
res += mul(Get(s1,-dx,0), float4x4(-0.002594432560727,0.046279657632113,0.006578730419278,-0.005808228161186,-0.041796334087849,0.047297168523073,-0.021605186164379,0.013885578140616,0.016524821519852,-0.030298776924610,0.004467124119401,-0.004991896916181,0.006533061154187,0.031054729595780,0.022940104827285,-0.012311191298068));
res += mul(Get(s1,-dx,dy), float4x4(0.011172596365213,-0.022094832733274,0.017893461510539,-0.025190718472004,-0.016981869935989,-0.020997069776058,0.026646764948964,-0.014024674892426,0.021951494738460,0.012777688913047,0.005116332322359,0.014489784836769,0.001796892378479,-0.009370971471071,-0.009061255492270,-0.012686942704022));
res += mul(Get(s1,0,-dy), float4x4(0.014933309517801,0.007902907207608,-0.010396489873528,-0.002813105937093,0.018700744956732,-0.004398465622216,-0.010613045655191,0.004692709539086,0.019835062325001,0.019707597792149,0.006673122756183,0.009327738545835,0.035044800490141,0.006731745321304,-0.011796105653048,0.019477022811770));
res += mul(Get(s1,0,0), float4x4(0.005557892844081,-0.004648404661566,-0.000758900539950,0.006762335076928,-0.014714586548507,0.009962351061404,0.011430351994932,-0.000801134156063,0.026774214580655,-0.019831737503409,-0.014646195806563,-0.005294417031109,-0.006880657747388,0.041879016906023,-0.010002036578953,0.003949441481382));
res += mul(Get(s1,0,dy), float4x4(0.003809699090198,0.000329995673383,0.010116418823600,0.000007364147223,0.016436375677586,-0.021591559052467,-0.040956627577543,-0.031501449644566,-0.007608247920871,-0.031130539253354,-0.009024629369378,0.007349649909884,-0.035912849009037,0.001924852374941,-0.053168553858995,-0.019666405394673));
res += mul(Get(s1,dx,-dy), float4x4(0.013761678710580,0.017849691212177,0.020899347960949,-0.015971008688211,0.044378299266100,0.013535605743527,0.005525523331016,-0.002457649912685,0.016738027334213,-0.020635847002268,-0.039957739412785,0.027400087565184,0.083450794219971,-0.008018353953958,-0.020129309967160,0.004391294438392));
res += mul(Get(s1,dx,0), float4x4(-0.010548032820225,-0.010181387886405,0.031653575599194,0.046965777873993,0.006545544136316,0.018721185624599,-0.002569987438619,-0.034338627010584,0.012034593150020,0.007797700818628,0.009943990968168,-0.008367964066565,0.002266523893923,0.082035794854164,0.006047578062862,0.038463417440653));
res += mul(Get(s1,dx,dy), float4x4(0.005127361509949,-0.025300275534391,0.008888339623809,0.000054587064369,0.011290540918708,-0.032065384089947,0.017747821286321,-0.016833417117596,-0.024875605478883,0.007853532209992,0.020951643586159,-0.004313834477216,0.004123580642045,0.001271829940379,-0.007889379747212,0.020450621843338));
res += mul(Get(s2,-dx,-dy), float4x4(0.004236437380314,0.010998321697116,-0.004896103404462,-0.002872543176636,0.017727408558130,0.055134255439043,0.014350528828800,0.030316004529595,0.032632008194923,0.039487775415182,-0.017408760264516,0.037937033921480,0.008696799166501,-0.034284234046936,-0.015444518066943,0.013898456469178));
res += mul(Get(s2,-dx,0), float4x4(0.022505778819323,0.014647909440100,-0.038312651216984,-0.030177533626556,-0.016801316291094,-0.025190604850650,-0.013374628499150,0.012920270673931,0.007920774631202,-0.030665677040815,-0.019697709009051,0.026293190196157,-0.016178425401449,0.022098483517766,0.010820338502526,-0.009488322772086));
res += mul(Get(s2,-dx,dy), float4x4(-0.019803859293461,-0.002767640398815,-0.010197480209172,0.013173385523260,0.027218701317906,0.016443558037281,0.036633081734180,0.016641853377223,0.017014158889651,0.011262374930084,-0.003080536145717,-0.006302750203758,-0.007198319770396,-0.029661905020475,0.000783589144703,0.024894235655665));
res += mul(Get(s2,0,-dy), float4x4(0.005036249291152,-0.028679437935352,0.006556475069374,0.002944607054815,-0.049302633851767,0.000606887915637,0.005273753777146,-0.027924550697207,-0.038181863725185,-0.007599133998156,-0.002108361572027,-0.008857535198331,0.021881584078074,0.004258264321834,0.013289314694703,0.024013686925173));
res += mul(Get(s2,0,0), float4x4(0.031090615317225,0.002757886191830,-0.007961439900100,0.002401451580226,0.043467164039612,-0.012883256189525,0.008632954210043,0.013713170774281,0.055798165500164,-0.047708921134472,0.034085582941771,-0.004139804281294,0.003344143508002,-0.003219278063625,-0.005065787583590,-0.014177272096276));
res += mul(Get(s2,0,dy), float4x4(-0.038244605064392,0.031895149499178,-0.035889573395252,-0.015019050799310,0.033331584185362,0.040186814963818,-0.016428826376796,-0.027184963226318,0.012194383889437,0.063207529485226,-0.026200808584690,-0.023964358493686,0.027809349820018,-0.000232589271036,-0.020776659250259,0.014900068752468));
res += mul(Get(s2,dx,-dy), float4x4(-0.000472535612062,0.003093069419265,0.011519932188094,-0.001431809854694,-0.025856548920274,-0.028898492455482,0.034985758364201,-0.008126893080771,-0.018483648076653,0.001868350547738,0.001912496867590,-0.002885423600674,-0.025788767263293,0.018603546544909,0.007026029750705,-0.030753726139665));
res += mul(Get(s2,dx,0), float4x4(0.032110232859850,0.044572267681360,0.000173145876033,-0.038475308567286,-0.010991504415870,0.015268001705408,-0.002073233481497,-0.005993842612952,0.012066988274455,-0.011967930942774,0.009451017715037,0.000176280285814,0.008719895035028,0.008682480081916,0.008946989662945,-0.009367076680064));
res += mul(Get(s2,dx,dy), float4x4(0.017214242368937,-0.008999670855701,0.009485028684139,0.014201399870217,-0.076639793813229,0.032848566770554,0.031581506133080,0.009820192120969,0.009657491929829,0.020676324144006,-0.024283263832331,0.016758529469371,0.019335241988301,0.003907121252269,0.018193941563368,-0.033295881003141));
res += mul(Get(s3,-dx,-dy), float4x4(0.008356127887964,-0.030426412820816,0.016371687874198,0.011138830333948,-0.051946278661489,-0.023255672305822,0.020826250314713,-0.042641710489988,0.003819906385615,0.037184320390224,0.016915339976549,0.032311156392097,-0.009329707361758,-0.022300682961941,-0.001521480269730,0.044013578444719));
res += mul(Get(s3,-dx,0), float4x4(-0.019024772569537,0.001415168400854,-0.025707002729177,-0.042741551995277,0.010492522269487,-0.028877712786198,0.023708211258054,-0.002067430177703,0.012291270308197,0.006527199875563,0.028689574450254,0.008794886991382,0.012076735496521,0.000915497133974,0.000417278817622,-0.001951916376129));
res += mul(Get(s3,-dx,dy), float4x4(-0.029310537502170,0.012496570125222,0.000567723764107,0.022440006956458,0.002140240278095,-0.018281808122993,-0.006737709511071,0.017499797046185,0.034893285483122,0.010780199430883,-0.006184976082295,0.006718831136823,-0.000325681961840,0.028932660818100,-0.036720555275679,-0.014070714823902));
res += mul(Get(s3,0,-dy), float4x4(-0.003569137770683,0.020510654896498,-0.012152252718806,-0.004773281514645,0.010686067864299,0.010283804498613,-0.003894500201568,0.043422576040030,-0.016027718782425,-0.004300042055547,0.020745391026139,-0.032394111156464,0.006273131351918,-0.020798817276955,-0.000982365687378,-0.014863504096866));
res += mul(Get(s3,0,0), float4x4(0.007146274205297,-0.001033333828673,0.004562355112284,0.010200060904026,-0.000706109509338,0.006932282820344,-0.005380123853683,0.018977096304297,0.043456301093102,0.022559825330973,0.019312053918839,-0.014049618504941,0.066398151218891,0.063172392547131,-0.022513108327985,0.009061343967915));
res += mul(Get(s3,0,dy), float4x4(-0.006395612377673,-0.010498755611479,-0.024880006909370,-0.009412894956768,-0.041027262806892,-0.020191093906760,-0.024213314056396,0.007678864058107,-0.006188450381160,0.010105142369866,0.015789827331901,-0.008686712943017,0.019466970115900,0.036933843046427,0.023174852132797,0.027967898175120));
res += mul(Get(s3,dx,-dy), float4x4(0.009591542184353,0.015796367079020,-0.004371142014861,-0.003374180523679,0.014497417956591,-0.002604412846267,0.006259534042329,0.021023200824857,0.022711452096701,0.032088011503220,0.020931087434292,0.030499706044793,0.067216962575912,-0.032173801213503,-0.000731556850951,0.003802111139521));
res += mul(Get(s3,dx,0), float4x4(-0.013745473697782,-0.011599922552705,-0.007380048744380,-0.012180611491203,-0.003630626248196,-0.027323661372066,-0.017060937359929,0.028509896248579,0.000479025125969,0.042517695575953,0.003213302697986,0.029748167842627,0.044665344059467,0.102718293666840,-0.012843314558268,-0.036219634115696));
res += mul(Get(s3,dx,dy), float4x4(0.006924831774086,0.025580272078514,-0.020218899473548,0.012683634646237,0.021517964079976,0.003508781548589,-0.009739516302943,0.009289492852986,-0.010448569431901,0.003876897972077,-0.014411550015211,0.028710512444377,-0.048046819865704,-0.022285971790552,-0.033661257475615,0.032358448952436));
return max(float4(0,0,0,0), res);
}
