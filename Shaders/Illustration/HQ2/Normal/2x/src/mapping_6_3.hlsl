sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.008090670220554,0.021619608625770,-0.021635705605149,-0.008793829940259,0.011869819834828,0.008932614699006,-0.008160656318069,0.022319300100207,0.014056201092899,0.001783473300748,-0.020126940682530,-0.074533857405186,0.028786402195692,-0.013981363736093,0.009195414371789,0.003060260321945));
res += mul(Get(s0,-dx,0), float4x4(-0.011797142215073,-0.002772414358333,-0.001387207885273,-0.007059027440846,-0.024757411330938,0.009893107227981,-0.013247408904135,-0.013840137049556,-0.007427853532135,0.032766904681921,0.041998434811831,0.161144897341728,-0.024574570357800,0.007143866736442,0.039192777127028,-0.000396755960537));
res += mul(Get(s0,-dx,dy), float4x4(-0.011029788292944,-0.000941373582464,-0.009293556213379,0.004745775368065,0.020170558243990,-0.004748815204948,-0.010236979462206,0.050519216805696,-0.014131413772702,0.013356507755816,-0.019189255312085,0.072653278708458,-0.040440998971462,-0.016499985009432,-0.023867562413216,-0.036522902548313));
res += mul(Get(s0,0,-dy), float4x4(-0.008417421020567,-0.002697731833905,-0.012206103652716,0.000425340229413,0.012972410768270,-0.010432669892907,-0.018762037158012,-0.031066356226802,-0.009906725026667,0.045465454459190,0.050404105335474,0.051863063126802,0.004037309903651,-0.005840697791427,-0.015938701108098,-0.011483511887491));
res += mul(Get(s0,0,0), float4x4(-0.008225249126554,0.026909390464425,0.006941460538656,-0.012090927921236,-0.002926999703050,0.026452781632543,0.005389592610300,0.013901711441576,0.018160840496421,0.029403427615762,0.009361048229039,0.061487458646297,0.019537601619959,0.007638672832400,-0.014248307794333,-0.045377317816019));
res += mul(Get(s0,0,dy), float4x4(-0.046653989702463,-0.008574532344937,0.006525556091219,0.001590080442838,-0.007817517034709,0.022450454533100,0.002655281918123,0.059385649859905,0.000303135078866,-0.046230621635914,-0.015737757086754,-0.027783559635282,0.040088992565870,0.018130283802748,0.020133962854743,-0.001941613736562));
res += mul(Get(s0,dx,-dy), float4x4(-0.021296817809343,-0.002038063248619,-0.002773275831714,-0.006948611699045,0.008637586608529,-0.025149527937174,-0.036411840468645,-0.006092857569456,0.001883443212137,0.025941969826818,0.024587776511908,0.009439150802791,0.001282159588300,-0.000839875778183,0.003393807681277,-0.007488300092518));
res += mul(Get(s0,dx,0), float4x4(-0.001070141908713,0.014756983146071,0.011242493987083,0.048489660024643,-0.018745629116893,-0.005190899129957,0.012719477526844,0.014186946675181,-0.016127949580550,-0.014589602127671,0.043219365179539,-0.017939474433661,0.007650306914002,0.012754474766552,-0.000997141585685,0.032489553093910));
res += mul(Get(s0,dx,dy), float4x4(-0.010802323929965,-0.022034225985408,0.005796934477985,-0.019430221989751,0.042875807732344,0.000703393423464,0.000140851669130,-0.004131499212235,-0.020616754889488,0.004141495097429,0.005521317478269,0.031254023313522,0.015535959042609,-0.014966938644648,0.022656437009573,0.016626339405775));
res += mul(Get(s1,-dx,-dy), float4x4(-0.032445397228003,-0.016314994543791,-0.002533973660320,0.030938239768147,-0.004310804884881,-0.017731720581651,0.027693033218384,0.001697940751910,-0.000289058283670,0.024329770356417,-0.008500764146447,0.042979355901480,0.003202193183824,-0.015463690273464,0.007955928333104,0.028064668178558));
res += mul(Get(s1,-dx,0), float4x4(0.006407802458853,-0.002571711316705,-0.000499994028360,0.011412549763918,-0.015702214092016,-0.018123395740986,0.007968361489475,0.016973342746496,0.007113831583411,0.010716401040554,-0.011229859665036,0.105747900903225,0.024998715147376,0.008071452379227,0.010366329923272,0.033458653837442));
res += mul(Get(s1,-dx,dy), float4x4(0.013400083407760,-0.014233984053135,-0.015431634150445,0.034881491214037,0.002935206517577,-0.020019650459290,0.010697092860937,0.014190634712577,0.032576482743025,0.003391335019842,-0.016407553106546,-0.030473869293928,0.031395770609379,-0.017578601837158,0.021936221048236,0.017237180843949));
res += mul(Get(s1,0,-dy), float4x4(0.034479148685932,-0.031952366232872,-0.030414141714573,0.006219212897122,-0.000371453905245,0.008612731471658,-0.036028828471899,0.052600201219320,-0.014782418496907,-0.005248584784567,-0.020836917683482,0.064187705516815,-0.011055726557970,-0.003003946272656,-0.015059511177242,0.026409011334181));
res += mul(Get(s1,0,0), float4x4(0.002973467577249,-0.014385423623025,-0.008145320229232,0.001723608002067,-0.016582679003477,-0.002504223724827,0.013458051718771,0.014256500639021,-0.022457474842668,-0.026538845151663,0.041753258556128,-0.073068052530289,0.014629275538027,0.057898804545403,-0.013153095729649,0.021122286096215));
res += mul(Get(s1,0,dy), float4x4(-0.021684737876058,0.010663608089089,0.013239842839539,-0.008609618060291,-0.004809228237718,-0.012937073595822,-0.021615767851472,0.021748827770352,-0.000915783923119,0.013259856030345,-0.011251259595156,-0.047433365136385,0.000394346105168,0.017979547381401,-0.003862911136821,0.003824273124337));
res += mul(Get(s1,dx,-dy), float4x4(0.027623092755675,-0.006465530488640,-0.007774441037327,-0.010883588343859,0.004199783783406,-0.000621462299023,0.005561688449234,0.006211306899786,0.023426651954651,0.026987310498953,0.008950822055340,-0.030650658532977,-0.006367834750563,-0.023254726082087,-0.012380700558424,0.012952834367752));
res += mul(Get(s1,dx,0), float4x4(0.019781433045864,0.013009353540838,-0.008659435436130,-0.015880953520536,0.009885950945318,-0.006701254751533,0.000518095970619,0.012976639904082,-0.020551696419716,0.018385639414191,-0.031393166631460,0.010242512449622,-0.031379073858261,-0.035472735762596,0.000427134305937,-0.041712451726198));
res += mul(Get(s1,dx,dy), float4x4(0.011331039480865,0.020720984786749,-0.017088469117880,-0.006081280298531,0.012945509515703,0.037000842392445,-0.004442324396223,0.022908866405487,0.004352885298431,0.021428370848298,0.002477722708136,0.087406784296036,0.010903825983405,-0.002694067312405,0.007127280812711,0.008338373154402));
res += mul(Get(s2,-dx,-dy), float4x4(-0.014244486577809,-0.045996122062206,0.001252389512956,0.033079534769058,-0.024746719747782,0.013915063813329,-0.007261169143021,0.000890513882041,0.007947199977934,0.051129143685102,0.013256563805044,-0.009466547518969,0.018896553665400,0.016851531341672,0.015247168019414,-0.011359661817551));
res += mul(Get(s2,-dx,0), float4x4(0.009989155456424,0.013545581139624,0.002542898291722,-0.026117751374841,-0.037343371659517,-0.005445154849440,0.025402143597603,0.018801085650921,0.002588069532067,0.008257128298283,0.000655146723147,0.012965003959835,-0.023700576275587,-0.007623495534062,0.016041513532400,-0.001469506882131));
res += mul(Get(s2,-dx,dy), float4x4(0.006662254687399,-0.001028475700878,0.020527437329292,-0.006847381126136,0.009234864264727,0.015313342213631,-0.011385220102966,0.020271046087146,-0.002833852078766,-0.003115750383586,-0.006876219995320,0.010883052833378,-0.020651143044233,-0.028175642713904,0.011162032373250,-0.001337973633781));
res += mul(Get(s2,0,-dy), float4x4(-0.004960123449564,-0.021661987528205,-0.038318321108818,0.025992995128036,0.017837574705482,-0.011594272218645,-0.026828346773982,0.009090967476368,0.041431140154600,0.016282679513097,0.001878190203570,0.011600144207478,0.014108852483332,0.060306765139103,0.024179015308619,0.004247645847499));
res += mul(Get(s2,0,0), float4x4(-0.016166927292943,0.001319139148109,-0.011177180334926,0.002449925057590,0.008923955261707,0.011582865379751,-0.008879487402737,-0.006648410577327,0.029702793806791,0.034705538302660,-0.005381971597672,-0.006211403757334,-0.011525848880410,-0.012560776434839,0.035900827497244,0.037451762706041));
res += mul(Get(s2,0,dy), float4x4(0.033682398498058,0.008070224896073,0.030515514314175,0.028649417683482,0.004066430497915,-0.013039268553257,-0.010266155004501,-0.000810316530988,-0.007736279163510,-0.009227323345840,-0.000071961927461,0.004183209035546,0.004105838015676,-0.029096620157361,0.001892568427138,-0.030325520783663));
res += mul(Get(s2,dx,-dy), float4x4(-0.001868665800430,0.024079646915197,-0.020107151940465,0.025422587990761,-0.002048809081316,-0.007734728045762,-0.011052072979510,0.001076265471056,0.009399159811437,-0.005300098564476,0.024570997804403,0.002787699922919,-0.028586627915502,-0.002753928769380,0.007158226799220,0.006302316207439));
res += mul(Get(s2,dx,0), float4x4(-0.006634268909693,0.012762035243213,-0.004402218386531,0.016666207462549,-0.009723005816340,0.026295742020011,-0.005306046921760,-0.009481726214290,-0.025038251653314,-0.006439465563744,-0.035147786140442,-0.004133109468967,-0.000855531601701,-0.018352150917053,0.001563251251355,0.006490817759186));
res += mul(Get(s2,dx,dy), float4x4(-0.008840000256896,-0.017082603648305,-0.001714854850434,-0.054088503122330,-0.020206980407238,-0.007300578057766,0.024621823802590,0.007497170008719,0.046584539115429,-0.013394308276474,-0.009331532754004,-0.007291347719729,0.006743112578988,0.033763840794563,-0.026600234210491,-0.021798733621836));
res += mul(Get(s3,-dx,-dy), float4x4(-0.010834878310561,0.005817119032145,0.009869240224361,-0.030437247827649,-0.030576173216105,-0.013274759985507,-0.003192071802914,-0.040776476264000,-0.002757255919278,-0.017941404134035,0.002306941431016,0.023620095103979,0.013655397109687,-0.022826563566923,0.020431552082300,-0.013259292580187));
res += mul(Get(s3,-dx,0), float4x4(0.005490261595696,-0.000785299169365,-0.020544070750475,0.037552006542683,0.011299766600132,0.026631509885192,-0.002367501379922,-0.007429743185639,0.021574461832643,-0.004017875064164,-0.002180930692703,-0.012986996211112,-0.014595699496567,0.014777026139200,0.006269209552556,-0.009174105711281));
res += mul(Get(s3,-dx,dy), float4x4(0.007725058123469,0.003118264256045,0.016347840428352,0.024386832490563,-0.023009575903416,-0.005445742513984,0.012821710668504,-0.005591077264398,-0.002525492338464,0.004295548424125,0.025476746261120,-0.019535804167390,-0.017544459551573,0.020817711949348,-0.020234070718288,-0.017374627292156));
res += mul(Get(s3,0,-dy), float4x4(0.004949276801199,-0.015535782091320,0.025042187422514,0.022351449355483,0.034527741372585,0.000350583752152,0.025219788774848,0.005360298324376,0.041332121938467,-0.020184595137835,-0.015773937106133,0.015812624245882,0.007039210759103,0.012090964242816,0.007910727523267,0.018100433051586));
res += mul(Get(s3,0,0), float4x4(-0.000784184259828,-0.000814568600617,-0.002538678236306,-0.008056042715907,0.038916412740946,-0.008839427493513,-0.021327149122953,-0.012759524397552,0.025539927184582,-0.018363442271948,-0.014472167007625,0.015173584222794,-0.005964286159724,0.001311688916758,-0.017374623566866,0.008147134445608));
res += mul(Get(s3,0,dy), float4x4(-0.030385045334697,0.009208772331476,0.016204923391342,0.032368611544371,0.016428263857961,0.019163778051734,0.020639253780246,0.003776364028454,0.017936641350389,0.008732434362173,0.011728104203939,0.023288877680898,-0.034184105694294,0.029894864186645,0.001270573004149,-0.026194768026471));
res += mul(Get(s3,dx,-dy), float4x4(0.010063267312944,0.020512999966741,-0.005807407200336,0.040681432932615,0.004743020515889,-0.032687120139599,0.011014593765140,0.003389914752916,-0.016437072306871,-0.004360741470009,-0.016140075400472,-0.025233983993530,0.023983899503946,-0.003137994091958,-0.043906826525927,-0.034929476678371));
res += mul(Get(s3,dx,0), float4x4(0.002617354504764,0.031995948404074,0.001814644900151,0.005117635708302,-0.034829147160053,0.012724453583360,-0.009954980574548,0.007954007945955,-0.008893809281290,0.006234868895262,0.021012388169765,-0.012489895336330,0.009302528575063,0.013300099410117,-0.017025541514158,-0.031228290870786));
res += mul(Get(s3,dx,dy), float4x4(-0.018675588071346,0.001497513498180,0.034193150699139,-0.024102622643113,-0.033381074666977,-0.004679013043642,-0.007317743264139,-0.012463412247598,-0.011120211333036,0.028322448953986,0.011452080681920,0.029029563069344,-0.001421308610588,-0.011223725974560,-0.010333540849388,-0.000013114984540));
return max(float4(0,0,0,0), res);
}
