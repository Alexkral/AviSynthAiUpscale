sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.004850095137954,0.082306824624538,0.005911902058870,0.007290446199477,0.010961904190481,0.012045730836689,0.006673233117908,0.043633546680212,0.001787228044122,0.006772077176720,-0.006919499486685,-0.022093048319221,0.004813008476049,0.029207523912191,0.002971251728013,0.006151290144771));
res += mul(Get(s0,-dx,0), float4x4(0.013557647354901,0.008453839458525,-0.004537033382803,-0.012568835169077,0.028014818206429,-0.020290561020374,-0.004542838782072,-0.010800401680171,0.002261874265969,0.010978830978274,0.021682368591428,0.001455573830754,-0.033369015902281,0.005469715222716,0.007152557373047,0.019410973414779));
res += mul(Get(s0,-dx,dy), float4x4(-0.003753540804610,0.019026186317205,-0.020870737731457,-0.015592980198562,0.002189161954448,0.024890618398786,0.002425775863230,-0.033745013177395,0.007362256757915,-0.026007713750005,0.024289932101965,0.012944943271577,0.002917159814388,0.008867031894624,0.006651187781245,0.000181809198693));
res += mul(Get(s0,0,-dy), float4x4(-0.021834369748831,-0.043513685464859,0.010847016237676,0.010829845443368,-0.015610697679222,-0.048886209726334,0.004428486805409,0.037261173129082,0.004528477787971,-0.008406548760831,0.026220636442304,0.008068221621215,0.016474537551403,-0.003632465843111,-0.012594476342201,0.011850895360112));
res += mul(Get(s0,0,0), float4x4(-0.017026154324412,-0.021407777443528,0.023861248046160,-0.017467316240072,0.000784922274761,0.018166605383158,-0.021263966336846,0.003141731023788,-0.012259572744370,-0.053105652332306,0.004139259457588,-0.012622705660760,-0.049566626548767,-0.034352742135525,0.001303374767303,-0.017141867429018));
res += mul(Get(s0,0,dy), float4x4(-0.038364157080650,0.021294809877872,-0.038179084658623,-0.024511497467756,-0.012031094171107,0.031677771359682,0.000918005825952,0.041655473411083,-0.012753323651850,-0.031008357182145,0.010638956911862,-0.010587369091809,0.022817470133305,-0.006628497503698,0.002439541509375,0.009838141500950));
res += mul(Get(s0,dx,-dy), float4x4(0.006278083194047,0.078440748155117,-0.019635638222098,-0.030821776017547,0.008332000114024,0.030868977308273,0.007779214065522,0.033482138067484,0.019822314381599,-0.010867618024349,-0.035968210548162,0.006435347255319,-0.011610060930252,-0.004466287791729,0.004428026266396,0.026938891038299));
res += mul(Get(s0,dx,0), float4x4(-0.004025377333164,0.131571471691132,-0.019043460488319,-0.021634565666318,-0.004785718396306,0.029655613005161,0.001317613525316,-0.011246774345636,-0.017810061573982,-0.037913866341114,-0.028313919901848,0.018454818055034,0.005071099847555,0.034443784505129,0.019065188243985,-0.002404075115919));
res += mul(Get(s0,dx,dy), float4x4(-0.012227671220899,0.007397011853755,-0.001770008006133,-0.008056704886258,0.001811989699490,-0.011211685836315,0.027344075962901,-0.021441224962473,0.008497647941113,-0.035082429647446,-0.026353958994150,-0.027589183300734,0.028922636061907,0.061054717749357,-0.022920250892639,0.014320871792734));
res += mul(Get(s1,-dx,-dy), float4x4(-0.005432756152004,-0.031866427510977,0.008565630763769,0.050439789891243,-0.009267110377550,-0.015741202980280,-0.001329047605395,0.004678950645030,-0.017823666334152,0.014505993574858,0.025154924020171,0.035467132925987,0.002243930706754,0.014552732929587,-0.006726298015565,0.028102919459343));
res += mul(Get(s1,-dx,0), float4x4(0.045718867331743,0.036653023213148,0.022630220279098,-0.008517860434949,-0.033736541867256,0.024183731526136,0.036678358912468,-0.004380141850561,0.017084540799260,-0.027871778234839,-0.014894984662533,0.009428797289729,-0.006945429369807,0.030018543824553,0.010955756530166,-0.024543425068259));
res += mul(Get(s1,-dx,dy), float4x4(-0.026526883244514,-0.028713736683130,0.009434661827981,-0.024521281942725,0.031450238078833,0.024806858971715,-0.007780857849866,0.013204419054091,0.005636163055897,-0.006641015876085,-0.003185154404491,-0.030499830842018,-0.001057650311850,0.051570374518633,0.028682481497526,0.044262163341045));
res += mul(Get(s1,0,-dy), float4x4(0.003716424340382,0.013836019672453,-0.014481849037111,-0.007041418924928,0.029243139550090,0.030312677845359,-0.001586592290550,-0.021362721920013,-0.015523971058428,-0.005127979442477,0.008598149754107,0.046234015375376,0.026280334219337,-0.009930864907801,0.006101044826210,-0.026337865740061));
res += mul(Get(s1,0,0), float4x4(0.011875822208822,-0.020221890881658,0.035360787063837,0.022262096405029,-0.024389183148742,0.034660823643208,0.036588493734598,-0.014550839550793,-0.010455817915499,0.005330258049071,-0.000621984887403,-0.012691218405962,-0.014448988251388,-0.015443571843207,0.017892956733704,-0.039416559040546));
res += mul(Get(s1,0,dy), float4x4(0.026196420192719,-0.002896919380873,0.017165601253510,0.007216407917440,-0.006063625216484,-0.031573597341776,0.010487355291843,0.001735788653605,0.010472383350134,-0.003476364072412,-0.040630422532558,0.011007651686668,0.016961431130767,-0.055760148912668,0.017894923686981,-0.002669556299224));
res += mul(Get(s1,dx,-dy), float4x4(-0.006596748717129,-0.027211332693696,0.017886448651552,0.036537475883961,0.025109695270658,-0.007296179421246,0.026004502549767,0.002970728091896,-0.005174216348678,0.000750199018512,0.008007988333702,0.015363987535238,-0.011435172520578,0.050868149846792,0.014208105392754,0.019998405128717));
res += mul(Get(s1,dx,0), float4x4(-0.025536935776472,-0.003705017734319,-0.014633129350841,-0.013416020199656,-0.004066028166562,0.001174521516077,-0.014673300087452,-0.051598954945803,0.001261633005925,0.039734121412039,-0.023208614438772,0.002659823046997,0.031943365931511,0.067585103213787,-0.002621500054374,-0.029380854219198));
res += mul(Get(s1,dx,dy), float4x4(0.007329129613936,0.001066382159479,0.008709146641195,0.005136819556355,-0.010865814983845,0.023703280836344,0.020301476120949,-0.019535722211003,-0.012215844355524,0.034927658736706,0.033196602016687,0.007416868582368,0.010346688330173,0.045742455869913,-0.014133805409074,0.019075889140368));
res += mul(Get(s2,-dx,-dy), float4x4(-0.030455583706498,-0.015011221170425,0.011864243075252,0.015147218480706,0.000020782461434,0.024965018033981,0.012870945036411,0.001449737581424,0.065471880137920,0.093547604978085,-0.017748964950442,-0.023095995187759,0.036827336996794,0.024302421137691,-0.015875155106187,0.020026454702020));
res += mul(Get(s2,-dx,0), float4x4(0.015353770926595,0.023945154622197,-0.032278575003147,0.021591397002339,-0.026451693847775,-0.020812267437577,0.017367029562593,-0.033655546605587,-0.014402666129172,-0.013809689320624,-0.008109803311527,-0.018542388454080,-0.039082139730453,-0.035158749669790,0.009168966673315,0.008981923572719));
res += mul(Get(s2,-dx,dy), float4x4(0.020566467195749,-0.009692594408989,-0.041480652987957,-0.026922039687634,-0.008397093974054,0.016858091577888,-0.003106717253104,0.000808386364952,-0.000613045936916,0.037064254283905,0.005923043005168,-0.015704046934843,-0.026809409260750,0.022810809314251,-0.013977117836475,-0.006508230231702));
res += mul(Get(s2,0,-dy), float4x4(0.022187989205122,-0.018267467617989,-0.010462513193488,0.008748498745263,0.002302935114130,-0.032202810049057,0.044702172279358,-0.002393169794232,0.022959891706705,-0.053536601364613,-0.014131895266473,0.009914563968778,0.001745780231431,0.025591442361474,0.006486483383924,0.010765678249300));
res += mul(Get(s2,0,0), float4x4(-0.007325243204832,0.013485859148204,-0.018405975773931,-0.029065374284983,-0.025142077356577,0.067935049533844,0.040482785552740,-0.044043321162462,0.006641250569373,-0.037631120532751,0.009898808784783,-0.013412385247648,-0.002852513222024,0.043698262423277,-0.016444880515337,-0.016164915636182));
res += mul(Get(s2,0,dy), float4x4(-0.022833431139588,0.010630826465786,-0.038971174508333,-0.001902644988149,0.005320197902620,0.103494189679623,-0.012102283537388,0.019145021215081,0.030028624460101,0.027367407456040,0.025269202888012,0.035324718803167,0.007264008279890,0.064219854772091,-0.009917235001922,0.001154486439191));
res += mul(Get(s2,dx,-dy), float4x4(-0.016199430450797,0.025830475613475,0.012474818155169,0.026430789381266,-0.009535815566778,0.127636089920998,-0.019212264567614,0.010555901564658,0.015309863723814,0.042775105684996,0.021537486463785,-0.020200066268444,0.009867702610791,-0.024863626807928,-0.007166869472712,0.026656340807676));
res += mul(Get(s2,dx,0), float4x4(-0.012652959674597,-0.007150262128562,0.012499577365816,0.010031420737505,0.012609674595296,0.213205397129059,-0.018519025295973,-0.038345590233803,0.008480158634484,0.082548096776009,0.026022844016552,-0.030244069173932,-0.003742765169591,0.003988964017481,0.007633825764060,-0.008210565894842));
res += mul(Get(s2,dx,dy), float4x4(0.023495001718402,0.023956499993801,-0.006167223677039,0.017434205859900,0.036029946058989,0.033713098615408,0.004497350193560,0.052032127976418,0.014004149474204,0.040467943996191,0.007390964310616,0.059353034943342,-0.004098940640688,-0.033883061259985,0.018828965723515,-0.023025233298540));
res += mul(Get(s3,-dx,-dy), float4x4(0.022966017946601,0.011677671223879,-0.010485190898180,0.017275817692280,-0.000556544109713,-0.003462511813268,0.012699987739325,-0.020204847678542,-0.000842848443426,0.009573189541698,0.012536856345832,-0.015811398625374,-0.014466333203018,-0.001648966572247,-0.008788140490651,-0.022362049669027));
res += mul(Get(s3,-dx,0), float4x4(-0.006646479945630,0.026915092021227,0.008774899877608,0.030413970351219,0.013430881313980,-0.018979338929057,0.035506207495928,0.032082904130220,0.035557802766562,0.022114489227533,-0.023928830400109,-0.028512502089143,-0.023569043725729,0.041072048246861,0.011351004242897,-0.014978994615376));
res += mul(Get(s3,-dx,dy), float4x4(0.043373405933380,-0.004517887718976,-0.020793160423636,-0.019993998110294,-0.015169799327850,-0.036798380315304,-0.038231689482927,0.021254826337099,-0.015162584371865,0.022978207096457,-0.017458152025938,-0.016397072002292,0.004577770363539,0.028932783752680,0.006172308698297,-0.021300390362740));
res += mul(Get(s3,0,-dy), float4x4(0.000993679161184,-0.016217190772295,-0.008712592534721,-0.041492372751236,0.005218439269811,-0.029689157381654,-0.019740423187613,0.022833408787847,-0.015853641554713,-0.017516076564789,-0.017966138198972,0.024064004421234,0.014610638841987,-0.005687972065061,-0.038960404694080,0.008017967455089));
res += mul(Get(s3,0,0), float4x4(-0.027008052915335,-0.015577222220600,-0.004827042575926,-0.022710004821420,-0.042147517204285,-0.011928416788578,-0.000504083116539,-0.000119906486361,0.035319168120623,0.025688676163554,-0.021317481994629,0.025070253759623,0.004604735877365,-0.020148273557425,0.006132021546364,-0.048314921557903));
res += mul(Get(s3,0,dy), float4x4(-0.011568138375878,0.025065382942557,0.027410175651312,0.001046025659889,-0.017478777095675,-0.019657231867313,0.015469809062779,0.023610940203071,-0.018262967467308,-0.014238451607525,0.000293957040412,-0.009951673448086,-0.029449325054884,-0.032824430614710,-0.012977518141270,-0.034568592905998));
res += mul(Get(s3,dx,-dy), float4x4(0.031733378767967,0.009372968226671,-0.014175728894770,0.002060345374048,-0.002846239600331,0.014623642899096,-0.002963820006698,0.009994743391871,-0.010952677577734,0.000279814732494,0.002137832576409,0.025613263249397,-0.018087530508637,0.076589539647102,0.016757002100348,-0.023219002410769));
res += mul(Get(s3,dx,0), float4x4(-0.002719011390582,-0.012336931191385,0.003605219768360,-0.017108213156462,0.025344362482429,-0.006674086675048,0.005634590052068,0.000636333948933,-0.004505021031946,-0.006638094317168,0.003584590274841,0.015437298454344,-0.016027204692364,0.071248397231102,-0.008773649111390,-0.019091287627816));
res += mul(Get(s3,dx,dy), float4x4(-0.027475602924824,-0.007707994896919,0.012344298884273,-0.022232841700315,0.024894259870052,-0.004813461098820,0.006960652302951,-0.000051058079407,0.012907637283206,0.001026862184517,0.020790485665202,-0.028919866308570,-0.024943046271801,0.040382158011198,-0.009336083196104,-0.005427258089185));
return max(float4(0,0,0,0), res);
}
