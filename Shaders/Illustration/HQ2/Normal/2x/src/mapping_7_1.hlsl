sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.012349193915725,-0.015911031514406,-0.027682298794389,-0.013012850657105,0.053126741200686,0.046676345169544,0.008220572955906,0.033222660422325,-0.012327197007835,0.007433969527483,-0.021175144240260,-0.009218444116414,-0.004328383132815,-0.009697302244604,0.008262965828180,-0.022999845445156));
res += mul(Get(s0,-dx,0), float4x4(-0.005375390406698,0.001431860961020,0.007762590888888,0.041073005646467,0.026005584746599,-0.026196565479040,-0.048602480441332,0.011311972513795,0.008223397657275,0.008076974190772,-0.006355531048030,-0.024208683520555,-0.006491218693554,0.016257584095001,-0.005447764880955,0.000079836034274));
res += mul(Get(s0,-dx,dy), float4x4(0.037601824849844,-0.013097687624395,-0.029097044840455,-0.020614728331566,-0.008478353731334,0.003237721044570,0.036043070256710,0.025676891207695,0.037782512605190,-0.005732900928706,-0.000788775156252,0.009283337742090,-0.021559517830610,0.023788500577211,0.001219312660396,-0.011954459361732));
res += mul(Get(s0,0,-dy), float4x4(0.025026790797710,-0.045231558382511,0.000637635879684,-0.057116191834211,-0.022321019321680,-0.008304486051202,0.016816822811961,0.008122327737510,0.007013116497546,0.017394566908479,0.030826576054096,0.033926278352737,-0.017686858773232,-0.029856864362955,-0.028460323810577,-0.008850350044668));
res += mul(Get(s0,0,0), float4x4(0.010158671066165,0.046307642012835,0.017996471375227,0.006454040762037,-0.028524436056614,0.021847015246749,-0.028043642640114,-0.044886060059071,-0.013516520150006,-0.011086236685514,0.023781005293131,0.013156964443624,-0.017820874229074,0.021743346005678,0.015675116330385,-0.003678227774799));
res += mul(Get(s0,0,dy), float4x4(0.012675485573709,-0.008214908652008,-0.010567639954388,0.024456316605210,0.017428368330002,-0.024604484438896,0.002003508619964,0.005817205179483,-0.021683458238840,0.009473164565861,-0.040424935519695,0.005360543262213,-0.013173742219806,-0.030138568952680,-0.011860024183989,0.012191715650260));
res += mul(Get(s0,dx,-dy), float4x4(0.033787660300732,-0.003399067092687,-0.011503766290843,-0.022135958075523,-0.010304857976735,-0.013604310341179,0.040850553661585,0.022084027528763,-0.005808596964926,-0.014627208933234,0.015914840623736,-0.015280265361071,-0.005273062270135,-0.028393248096108,0.013306866399944,0.014705627225339));
res += mul(Get(s0,dx,0), float4x4(0.026191644370556,-0.013242074288428,0.011651271954179,0.039130847901106,0.005633324384689,0.013918772339821,0.001030022744089,-0.015739599242806,0.012346915900707,-0.009652941487730,0.015551174059510,-0.002984963823110,0.005933864973485,0.018409185111523,0.009493411518633,-0.014265085570514));
res += mul(Get(s0,dx,dy), float4x4(-0.029295086860657,-0.005132383666933,-0.031128793954849,-0.050389602780342,0.012982665561140,-0.026875985786319,0.056128494441509,0.017452703788877,-0.023222854360938,0.002731379354373,-0.033506389707327,-0.015395284630358,0.022986246272922,0.059661444276571,-0.017206115648150,-0.018431676551700));
res += mul(Get(s1,-dx,-dy), float4x4(0.043012265115976,-0.029761677607894,0.038948133587837,0.042835932224989,0.025967068970203,-0.018596827983856,0.046390671283007,0.004451775457710,-0.005223694723099,0.039714194834232,0.012836683541536,0.030187541618943,0.016510915011168,0.004453302361071,0.001165547175333,-0.004633370786905));
res += mul(Get(s1,-dx,0), float4x4(-0.013146819546819,-0.042912688106298,0.003004193538800,0.009813934564590,-0.001150494674221,0.002263772301376,0.022729512304068,-0.002745879581198,-0.019559323787689,-0.000945884443354,-0.022229366004467,-0.007555489894003,0.023198580369353,-0.027324859052896,0.004003665875643,-0.005214446224272));
res += mul(Get(s1,-dx,dy), float4x4(0.018493482843041,0.009821127168834,0.018705355003476,-0.018401509150863,0.004924127366394,-0.019605962559581,-0.007950260303915,-0.015039851889014,-0.021797319874167,0.006444491446018,0.006166580598801,-0.011786557734013,0.013337756507099,0.012095704674721,-0.002280271379277,-0.018986349925399));
res += mul(Get(s1,0,-dy), float4x4(-0.036511849611998,-0.002169100567698,0.014305829070508,0.058836396783590,-0.009216096252203,-0.010598204098642,0.019865272566676,0.028197720646858,-0.015884716063738,-0.017945200204849,0.062322095036507,-0.012819007039070,-0.010466113686562,-0.016937801614404,-0.009146903641522,-0.029986847192049));
res += mul(Get(s1,0,0), float4x4(0.004967771470547,0.000149098588736,-0.009496800601482,0.012706165201962,0.003786416957155,0.016248337924480,-0.002175070811063,0.023075208067894,-0.009270014241338,-0.022421235218644,0.010269832797348,-0.019046507775784,0.015056330710649,0.001338173286058,0.007504755165428,-0.013869670219719));
res += mul(Get(s1,0,dy), float4x4(0.047718495130539,-0.015564261004329,0.015541104599833,0.004718496929854,0.010086964815855,0.003038032446057,-0.001614615553990,-0.024011533707380,-0.030414300039411,-0.014597304165363,0.029098691418767,-0.021093057468534,0.010279200039804,0.010021788068116,-0.008657214231789,0.008045684546232));
res += mul(Get(s1,dx,-dy), float4x4(-0.001750926370732,-0.023445831611753,0.006977241486311,0.027683379128575,-0.015544971451163,0.002806743141264,0.002467273268849,0.007181578315794,0.017720106989145,-0.004645932465792,0.007750929333270,0.000060973987274,-0.039382312446833,0.009900541044772,-0.014144850894809,-0.017563777044415));
res += mul(Get(s1,dx,0), float4x4(0.029686924070120,-0.014783434569836,0.001486000488512,0.027736190706491,0.024615667760372,0.000894188124221,-0.018177896738052,-0.008652528747916,-0.000444348348537,0.027327803894877,-0.018815713003278,0.008381297811866,-0.006932824384421,-0.025700485333800,0.000194910768187,-0.004867843352258));
res += mul(Get(s1,dx,dy), float4x4(-0.009756251238286,-0.005867507308722,0.020618617534637,0.011687941849232,0.029140360653400,-0.006778845097870,-0.022114902734756,-0.004239436239004,0.023754432797432,-0.010274135507643,-0.020452680066228,0.023918120190501,-0.034977409988642,0.022021252661943,-0.046568904072046,0.004085443913937));
res += mul(Get(s2,-dx,-dy), float4x4(0.004333762917668,-0.023619573563337,0.013516020961106,0.021480403840542,0.006761529017240,0.021085018292069,0.000265267444775,-0.016845231875777,-0.028689736500382,-0.011507843621075,0.007409903220832,-0.017401505261660,-0.014642757363617,-0.020023871213198,-0.009643384255469,0.017406035214663));
res += mul(Get(s2,-dx,0), float4x4(0.024482036009431,-0.003330644220114,-0.005125148687512,-0.025051385164261,0.006066193804145,0.008468861691654,0.012354555539787,0.024367593228817,-0.019051341339946,0.013451857492328,0.035774316638708,0.012117491103709,0.045696042478085,0.003464880166575,0.023770397529006,-0.012537430971861));
res += mul(Get(s2,-dx,dy), float4x4(-0.005470396950841,0.006784185767174,0.007838119752705,-0.030426954850554,-0.019734503701329,-0.029864350333810,0.011008527129889,-0.002585575450212,-0.023522403091192,-0.023090906441212,0.009453547187150,-0.016824876889586,0.036088339984417,0.005723479203880,0.027402404695749,0.014802833087742));
res += mul(Get(s2,0,-dy), float4x4(0.006249068770558,-0.026571491733193,0.026941761374474,-0.003470729105175,0.045033253729343,0.004332342185080,0.018554052338004,-0.002829120028764,0.009841468185186,-0.006125589832664,-0.041122958064079,0.013395521789789,-0.009712107479572,-0.027492439374328,-0.013315443880856,0.034863606095314));
res += mul(Get(s2,0,0), float4x4(-0.026805466040969,-0.057926606386900,0.015135113149881,0.004303594585508,-0.025487037375569,-0.021919358521700,0.034309294074774,0.038993488997221,0.006715234834701,-0.023773781955242,0.026378229260445,0.024640934541821,-0.001084456802346,0.026706881821156,-0.012921284884214,0.018299791961908));
res += mul(Get(s2,0,dy), float4x4(-0.016028188169003,-0.009380920790136,-0.007944312877953,0.009538376703858,-0.009795165620744,0.012279730290174,0.016358701512218,-0.011044211685658,0.011444946750998,0.005219784099609,-0.002486353274435,-0.048574171960354,-0.007530315313488,-0.024356428533792,0.047146905213594,-0.011303177103400));
res += mul(Get(s2,dx,-dy), float4x4(-0.004548843950033,0.000449393177405,0.006479050498456,0.020335121080279,-0.014799409545958,-0.026914840564132,0.015544676221907,-0.017639840021729,-0.019290078431368,-0.006399033125490,0.024913545697927,0.004775466397405,0.004134170245379,0.001922128139995,0.019035363569856,0.024258276447654));
res += mul(Get(s2,dx,0), float4x4(0.001160036306828,0.056782618165016,0.004990067332983,-0.026288663968444,-0.037268795073032,0.009677816182375,0.000572283752263,0.038101471960545,0.009601594880223,-0.015794236212969,-0.000149605068145,-0.017121922224760,-0.020128333941102,0.011215571314096,-0.023658907040954,-0.024009630084038));
res += mul(Get(s2,dx,dy), float4x4(0.044554281979799,0.018191533163190,0.016043612733483,0.003887333441526,0.001312783104368,0.000310527713737,0.010206153616309,-0.017879487946630,0.015783702954650,-0.002431686734781,0.006028953939676,0.005736262071878,0.015210608951747,-0.008460501208901,0.053191572427750,-0.029884831979871));
res += mul(Get(s3,-dx,-dy), float4x4(0.026540400460362,0.008051700890064,0.020108308643103,-0.030249666422606,0.007895932532847,0.007422806695104,0.015047988854349,-0.016336007043719,-0.022150708362460,-0.004186214879155,0.010051693767309,0.040558829903603,-0.005589271429926,0.005707786418498,0.005335848778486,0.011913593858480));
res += mul(Get(s3,-dx,0), float4x4(0.008236218243837,-0.006115810945630,-0.007091401144862,0.005028807092458,0.014606639742851,0.024795165285468,0.012256565503776,-0.009754684753716,-0.010405838489532,-0.007177660707384,-0.031542208045721,0.004805589094758,-0.012028524652123,-0.012555548921227,-0.009705447591841,0.028351463377476));
res += mul(Get(s3,-dx,dy), float4x4(-0.009434222243726,-0.014056299813092,-0.002524562645704,-0.012295022606850,0.003612266154960,0.015216149389744,-0.012452092953026,-0.020399296656251,0.012535638175905,0.001689922180958,0.014723484404385,-0.008759384974837,0.004760210402310,0.019154436886311,0.011257329955697,0.017817033454776));
res += mul(Get(s3,0,-dy), float4x4(-0.003395841922611,-0.003149746218696,0.032801650464535,0.025396455079317,0.014440976083279,0.048727806657553,0.038356345146894,-0.003832976799458,0.003721221117303,0.022028019651771,0.014307467266917,0.022951418533921,0.006996344309300,0.006742974277586,0.000463491451228,0.006442455574870));
res += mul(Get(s3,0,0), float4x4(-0.008031568489969,-0.007068584207445,-0.004762260243297,0.014547466300428,0.026539847254753,-0.015788128599524,0.007191313430667,-0.016680251806974,0.000667651707772,-0.027076214551926,-0.032560899853706,0.008077619597316,-0.007128692232072,0.000333849777235,0.028684640303254,-0.003817940130830));
res += mul(Get(s3,0,dy), float4x4(0.005399880465120,0.001220804871991,0.023990025743842,-0.027152569964528,0.000300633430015,0.021570069715381,0.006880061700940,-0.013014134019613,0.000888487207703,-0.008646300062537,0.001306716701947,-0.001341958763078,-0.040106818079948,-0.010504159145057,-0.006077943835407,-0.017658444121480));
res += mul(Get(s3,dx,-dy), float4x4(0.002753817010671,0.001419164822437,0.018030755221844,0.037549592554569,0.040594648569822,-0.004995814058930,0.015043622814119,-0.021230168640614,-0.004040042404085,0.016464468091726,0.046295497566462,0.033840410411358,-0.013473897241056,-0.004558487795293,-0.005351800471544,-0.027593182399869));
res += mul(Get(s3,dx,0), float4x4(-0.005001980345696,-0.024304309859872,0.011669894680381,0.008825959637761,-0.014680866152048,-0.008869432844222,0.011449071578681,0.022394906729460,-0.002940956270322,-0.071011133491993,-0.019137376919389,-0.012852314859629,-0.042543482035398,0.020696919411421,-0.024997083470225,0.002758815884590));
res += mul(Get(s3,dx,dy), float4x4(-0.024053107947111,-0.020905505865812,-0.003773115575314,-0.033532403409481,0.000818645639811,0.004780185408890,-0.005023909732699,0.007042321842164,-0.021025458350778,0.010228995233774,0.009121126495302,-0.018716091290116,0.024063879624009,0.012655153870583,0.000355334399501,-0.024534689262509));
return max(float4(0,0,0,0), res);
}
