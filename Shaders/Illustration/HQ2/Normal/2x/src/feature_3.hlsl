sampler s0 : register(s0);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(x, y)   tex2D(s0, tex + float2(x, y))[0]

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += float4(-0.000683309219312,0.007179867476225,0.043211434036493,-0.049110472202301) * Get(-dx,-dy);
res += float4(-0.007875067181885,-0.005324243567884,0.022022087126970,-0.013773427344859) * Get(-dx,0);
res += float4(0.002180641284212,0.001394245889969,0.042933754622936,-0.004283027723432) * Get(-dx,dy);
res += float4(0.011511934921145,0.038060072809458,0.042297974228859,-0.064681969583035) * Get(0,-dy);
res += float4(-0.023253852501512,-0.019608957692981,-0.109716519713402,-0.083198040723801) * Get(0,0);
res += float4(-0.022886050865054,-0.006860875524580,-0.112808793783188,0.020998449996114) * Get(0,dy);
res += float4(-0.014322637580335,-0.013428374193609,0.024016581475735,-0.082298941910267) * Get(dx,-dy);
res += float4(-0.000865012290888,0.026913786306977,-0.082790717482567,-0.024021551012993) * Get(dx,0);
res += float4(-0.001079402747564,-0.007691103499383,-0.149137571454048,0.079901993274689) * Get(dx,dy);
return max(float4(0,0,0,0), res);
}
