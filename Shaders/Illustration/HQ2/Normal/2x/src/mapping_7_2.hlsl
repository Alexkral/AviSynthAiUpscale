sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.039807435125113,0.038376364856958,-0.000340614496963,-0.028909835964441,0.011472587473691,0.000430144020356,-0.060658089816570,0.029411569237709,-0.013881898485124,0.036972705274820,0.004667774308473,0.010113148018718,0.035126905888319,0.021331636235118,0.013750900514424,0.005977702792734));
res += mul(Get(s0,-dx,0), float4x4(0.041017893701792,-0.037621106952429,-0.041690066456795,-0.030535386875272,0.018003497272730,-0.006778129842132,0.009122045710683,-0.058388225734234,-0.002244276227430,0.005810334812850,0.019847407937050,0.030082404613495,0.004080893937498,-0.013961547985673,0.027749117463827,0.014016550965607));
res += mul(Get(s0,-dx,dy), float4x4(0.007354863919318,-0.011091897264123,0.004407025408000,-0.009852410294116,-0.008281293325126,-0.000059170506574,-0.045320771634579,0.022655684500933,0.012806146405637,0.004343218170106,-0.000335268880008,0.040056657046080,-0.005325631238520,0.036784335970879,0.025524990633130,-0.004188018850982));
res += mul(Get(s0,0,-dy), float4x4(-0.020598208531737,0.000269565003691,0.001918986788951,0.020494041964412,0.000934460724238,0.016444666311145,-0.004490819294006,-0.019718369469047,0.009419837966561,0.003269804175943,-0.015972869470716,0.030701847746968,-0.009326297789812,-0.012936593033373,-0.020831396803260,0.014110486954451));
res += mul(Get(s0,0,0), float4x4(0.010671376250684,0.025252586230636,0.039185170084238,0.096545845270157,-0.007675012573600,0.000073091963714,0.011244603432715,-0.081448361277580,0.035621695220470,0.017305431887507,0.009283969178796,0.032847117632627,0.008746842853725,0.030038798227906,-0.003830818692222,0.021993933245540));
res += mul(Get(s0,0,dy), float4x4(-0.012618644163013,-0.002633515046909,-0.012033575214446,-0.015436600893736,0.009950280189514,0.033094611018896,0.021376119926572,0.013505903072655,-0.025859354063869,-0.028405040502548,-0.009743223898113,-0.002312661148608,0.006159931886941,0.005867246538401,0.037555441260338,-0.029283341020346));
res += mul(Get(s0,dx,-dy), float4x4(0.032345324754715,-0.027007160708308,0.015164759010077,0.019733464345336,0.002536744344980,0.058546788990498,-0.018305618315935,0.070462509989738,-0.006683909334242,-0.015859194099903,-0.004374547395855,0.025676731020212,-0.006304642651230,0.002318708458915,0.019792519509792,-0.011828505434096));
res += mul(Get(s0,dx,0), float4x4(0.003368425648659,0.021434962749481,0.020094033330679,0.009146102704108,0.047443434596062,-0.031378705054522,-0.010659909807146,0.005832266993821,0.008294833824039,0.029250420629978,-0.002286429749802,-0.055366106331348,-0.004835802130401,0.003697508480400,-0.019623609259725,0.009000347927213));
res += mul(Get(s0,dx,dy), float4x4(0.004917461890727,-0.005007741972804,0.013037078082561,-0.058858264237642,-0.013427919708192,0.026741269975901,-0.027558153495193,0.063611857593060,0.027004348114133,0.024598609656096,0.030528072267771,-0.021224383264780,-0.020087365061045,-0.009862092323601,0.015226256102324,-0.019145855680108));
res += mul(Get(s1,-dx,-dy), float4x4(0.031940191984177,0.033059071749449,0.003906963393092,0.097788676619530,0.033619709312916,0.028328536078334,0.030292218551040,0.023145476356149,0.003230347996578,0.003000437282026,0.003281964687631,0.001183008658700,0.023401549085975,0.023186758160591,-0.017036367207766,0.024811469018459));
res += mul(Get(s1,-dx,0), float4x4(0.006391964852810,-0.003646674565971,-0.033715806901455,0.031429369002581,0.009238599799573,0.002972281537950,0.015969507396221,0.083913661539555,-0.029222283512354,0.001775072887540,0.009337062947452,-0.050489917397499,0.022677002474666,0.025543227791786,0.002673776587471,-0.001676667248830));
res += mul(Get(s1,-dx,dy), float4x4(-0.026702336966991,-0.015735873952508,-0.033007089048624,0.051957227289677,0.003588696243241,0.016920063644648,-0.002764491597190,0.013830265030265,0.010191612876952,0.003380966605619,-0.039948381483555,-0.000860870000906,-0.011085147969425,0.007547361776233,0.000940354133490,-0.008298596367240));
res += mul(Get(s1,0,-dy), float4x4(0.013458734378219,0.057884290814400,-0.026024166494608,0.046288054436445,-0.030060200020671,-0.046267639845610,-0.002209762576967,-0.004138374701142,-0.025722466409206,0.105780690908432,-0.007435077801347,0.063357532024384,0.008680837228894,-0.005514492280781,0.007633063476533,0.040029246360064));
res += mul(Get(s1,0,0), float4x4(-0.039040505886078,0.010403021238744,0.019246732816100,-0.070591226220131,-0.007016846444458,0.060993589460850,0.019894829019904,-0.019090464338660,0.006603406276554,0.004982625599951,0.011637816205621,0.085288688540459,-0.008796718902886,0.004768675658852,-0.008359737694263,-0.028255611658096));
res += mul(Get(s1,0,dy), float4x4(-0.009395817294717,-0.040972881019115,-0.027591509744525,0.022345816716552,-0.012308625504375,-0.001421460183337,-0.024806963279843,-0.020078321918845,-0.004289073869586,0.017401622608304,-0.001907458296046,0.060069207102060,0.021080555394292,-0.020674590021372,-0.008990960195661,-0.023133369162679));
res += mul(Get(s1,dx,-dy), float4x4(0.021962670609355,0.035723499953747,-0.013103286735713,0.057767622172832,-0.001358886016533,0.001163716544397,-0.021296821534634,0.002479183953255,0.028241982683539,-0.012895145453513,-0.024547498673201,-0.012883211486042,0.000572878401726,0.017271332442760,0.003185679903254,-0.024468908086419));
res += mul(Get(s1,dx,0), float4x4(0.031875126063824,-0.005918744951487,0.007492295932025,-0.027313819155097,-0.018982797861099,0.034303694963455,-0.016332114115357,0.004785462282598,-0.038082472980022,-0.069999545812607,0.006277714855969,-0.026099413633347,-0.009379360824823,-0.028963929042220,0.022473709657788,-0.008503957651556));
res += mul(Get(s1,dx,dy), float4x4(0.007199737243354,0.012836002744734,-0.006383212283254,0.032917466014624,-0.001579002942890,-0.019083157181740,0.014034535735846,-0.024136694148183,-0.007420530077070,0.045484967529774,0.013059077784419,-0.037803832441568,-0.008440229110420,0.010099175386131,-0.009803054854274,-0.005920552182943));
res += mul(Get(s2,-dx,-dy), float4x4(0.002925313543528,-0.021083671599627,-0.001014520414174,0.009383037686348,0.009118327870965,0.002325714100152,-0.011677269823849,0.016709664836526,-0.014558842405677,0.000287380418740,0.013652805238962,-0.000011907291082,0.010518524795771,0.027775015681982,-0.018792390823364,-0.007683336734772));
res += mul(Get(s2,-dx,0), float4x4(0.004158585797995,-0.004810481332242,0.003969745710492,-0.014964176341891,-0.023746395483613,0.012552808970213,0.009896877221763,0.015836156904697,-0.007512027397752,0.009632798843086,0.004181323107332,-0.007482240442187,0.033342078328133,-0.032416842877865,-0.012054576538503,0.025326306000352));
res += mul(Get(s2,-dx,dy), float4x4(-0.021467614918947,-0.005947232712060,0.015050905756652,-0.017383869737387,-0.006163365673274,-0.005031379405409,0.022319380193949,0.009505141526461,-0.025646708905697,0.012973167002201,-0.010534662753344,-0.038538884371519,0.021440017968416,0.006354391109198,0.032146599143744,0.020335944369435));
res += mul(Get(s2,0,-dy), float4x4(0.003934803884476,-0.000513618870173,0.008044078014791,-0.009937915019691,0.004153243731707,-0.009273457340896,0.009379611350596,0.020173864439130,0.015682773664594,0.035449553281069,0.010517710819840,0.012290524318814,-0.008389840833843,-0.009980436414480,-0.002185579854995,0.070296369493008));
res += mul(Get(s2,0,0), float4x4(-0.014065962284803,0.027989167720079,0.008565722033381,0.046735584735870,0.007481689099222,0.024950079619884,-0.001695693703368,0.010801456868649,-0.011438188143075,0.026743089780211,-0.022165862843394,-0.005721366498619,0.009250752627850,0.012907703407109,-0.015823708847165,0.008622352033854));
res += mul(Get(s2,0,dy), float4x4(0.046834282577038,0.018026856705546,0.006166972685605,-0.009993990883231,0.008054767735302,0.000439463939983,-0.023272767663002,-0.015146891586483,-0.009505148045719,-0.024192811921239,-0.000865296868142,0.013396439142525,-0.014645650051534,0.050442744046450,-0.018639117479324,-0.015311777591705));
res += mul(Get(s2,dx,-dy), float4x4(0.035192303359509,0.014018134213984,0.009830824099481,0.017849693074822,0.014573400840163,-0.012184556573629,-0.025699079036713,0.016480084508657,-0.015153163112700,0.037687528878450,0.023654131218791,0.022734273225069,0.021257435902953,0.027198549360037,0.030869012698531,0.034512232989073));
res += mul(Get(s2,dx,0), float4x4(-0.005315789952874,-0.015286522917449,0.020540464669466,0.024132274091244,0.009232500568032,0.034980699419975,0.002710520522669,-0.034031979739666,-0.010180338285863,-0.025115834549069,-0.047600254416466,0.000803970498964,-0.009906806983054,0.010900260880589,-0.006450540386140,-0.031090237200260));
res += mul(Get(s2,dx,dy), float4x4(0.003357764333487,0.012594155035913,-0.004241840913892,-0.028567753732204,0.004534564446658,0.023471688851714,-0.000062126717239,-0.018145406618714,-0.029124366119504,-0.038291331380606,-0.014556403271854,-0.014973371289670,0.020380930975080,0.010947478935122,-0.006892897188663,0.049857579171658));
res += mul(Get(s3,-dx,-dy), float4x4(-0.014113028533757,0.008890159428120,-0.020062409341335,0.000780775677413,-0.010914407670498,-0.024557292461395,-0.015826150774956,-0.019843494519591,0.000396042829379,0.040203064680099,-0.038620665669441,0.065676242113113,-0.008187703788280,0.011788361705840,-0.001091419719160,-0.007458142470568));
res += mul(Get(s3,-dx,0), float4x4(0.031506385654211,-0.027717592194676,-0.007181757129729,-0.025089433416724,0.023929942399263,-0.041678447276354,-0.008234152570367,0.016455193981528,-0.014126935042441,0.039248067885637,0.027110805734992,0.010218110866845,-0.009193248115480,-0.010041375644505,0.014285804703832,0.014182967133820));
res += mul(Get(s3,-dx,dy), float4x4(0.014173536561430,-0.005080396775156,0.014249873347580,-0.001603026641533,-0.027872541919351,-0.015459533780813,-0.021066809073091,0.001875835587271,0.017939871177077,0.005563267506659,0.020127015188336,0.028001707047224,-0.022572217509151,-0.022868746891618,-0.000048418172810,-0.007013597059995));
res += mul(Get(s3,0,-dy), float4x4(-0.005926368758082,-0.003640834474936,0.015921335667372,-0.016684681177139,0.014139090664685,-0.011072177439928,-0.013563973829150,-0.029834276065230,0.017272107303143,0.029799470677972,-0.005690956022590,0.012434815987945,-0.011590944603086,-0.019660726189613,0.016598334535956,0.015599969774485));
res += mul(Get(s3,0,0), float4x4(-0.004320548847318,-0.001147171482444,0.008069822564721,-0.003539751050994,-0.003587368410081,0.006989652756602,0.004566716495901,0.027535101398826,-0.000570473843254,-0.049342900514603,0.019948532804847,-0.081438012421131,0.002960021374747,0.008872850798070,-0.030938208103180,0.021177945658565));
res += mul(Get(s3,0,dy), float4x4(-0.003927276004106,-0.020062178373337,0.022669283673167,-0.002929168986157,0.002690312219784,0.036620877683163,-0.001258975476958,0.007958266884089,0.009517453610897,-0.036052692681551,-0.005166073329747,0.011181869544089,-0.037240121513605,-0.003339184680954,0.007639550603926,-0.014716081321239));
res += mul(Get(s3,dx,-dy), float4x4(-0.014149233698845,-0.014309358783066,-0.012471568770707,-0.018757568672299,0.017786487936974,0.018142638728023,0.037330258637667,0.018963569775224,-0.003987667616457,0.068693518638611,-0.015315953642130,0.051866848021746,0.003046657424420,-0.015757303684950,-0.020654324442148,-0.007542866282165));
res += mul(Get(s3,dx,0), float4x4(-0.025996824726462,0.015084188431501,-0.018968639895320,0.037559580057859,-0.016244973987341,-0.004353764466941,-0.016878597438335,0.021876327693462,-0.006662509404123,-0.003557003801689,0.000873152748682,0.010476985014975,0.014008820056915,0.003265637904406,0.006952601484954,0.027830686420202));
res += mul(Get(s3,dx,dy), float4x4(-0.015648609027267,-0.015515184029937,-0.050048872828484,-0.024246349930763,-0.014364972710609,0.008118297904730,-0.021852169185877,0.001634910586290,0.015636302530766,0.039319984614849,0.030392564833164,0.081719227135181,0.010226778686047,-0.013597194105387,-0.028182685375214,0.022949973121285));
return max(float4(0,0,0,0), res);
}
