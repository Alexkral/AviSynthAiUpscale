sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.023281522095203,-0.020580541342497,0.013714260421693,0.004244048614055,-0.006327688228339,0.007852005772293,-0.001041748677380,-0.014726655557752,0.004256376530975,-0.024761354550719,0.015552829951048,-0.016535079106688,-0.002453518100083,-0.019109513610601,-0.025937257334590,0.019749689847231));
res += mul(Get(s0,-dx,0), float4x4(0.000737991766073,-0.025929672643542,-0.023266870528460,-0.013099646195769,0.007819747552276,0.011309830471873,-0.012280852533877,0.008570285513997,0.000984903424978,0.035047486424446,-0.008883679285645,0.010309585370123,-0.001748115406372,0.018804257735610,-0.028307275846601,-0.012486374936998));
res += mul(Get(s0,-dx,dy), float4x4(-0.038530021905899,0.029662821441889,-0.021338861435652,-0.000776718894485,-0.018322417512536,0.004805069416761,0.007600076962262,-0.003648993559182,0.017113270238042,-0.047397673130035,0.026568956673145,0.020002486184239,0.025582119822502,-0.018054639920592,0.013076351024210,-0.022789923474193));
res += mul(Get(s0,0,-dy), float4x4(-0.008079577237368,-0.024732941761613,0.021646291017532,-0.009048569947481,-0.002027937909588,-0.005753008183092,-0.012919630855322,0.013691286556423,-0.030368531122804,-0.039769820868969,0.000129394276883,0.012920469045639,0.049444533884525,0.015218649990857,-0.004588815383613,0.021370800212026));
res += mul(Get(s0,0,0), float4x4(-0.017451046034694,-0.006716047879308,-0.011876236647367,0.015371999703348,0.001275266869925,0.016692681238055,-0.010754989460111,-0.003728687763214,-0.029568925499916,0.046725645661354,0.019568929448724,-0.017388219013810,-0.005773664452136,0.051908418536186,-0.014542763121426,-0.018182273954153));
res += mul(Get(s0,0,dy), float4x4(0.045898672193289,0.012144773267210,0.008234250359237,-0.030986610800028,0.008355887606740,-0.000736979767680,-0.009007131680846,0.041699789464474,0.012701315805316,0.019784435629845,0.018017034977674,0.012689233757555,-0.010731770657003,-0.024752490222454,0.014628864824772,-0.036903411149979));
res += mul(Get(s0,dx,-dy), float4x4(0.012560319155455,0.020523553714156,-0.027936995029449,0.031626120209694,-0.007550494279712,0.051995858550072,-0.023941695690155,-0.020991099998355,-0.000860105152242,-0.008425529114902,0.043365173041821,0.004715229850262,-0.022362144663930,0.008592943660915,0.005004053469747,0.012642128393054));
res += mul(Get(s0,dx,0), float4x4(-0.010866917669773,0.002075364114717,0.046902816742659,-0.011292175389826,-0.031934276223183,-0.000009898141798,-0.003450549207628,-0.023140639066696,-0.001298151444644,0.061923995614052,0.004241001326591,0.012128986418247,-0.010658693499863,0.030713070183992,-0.041826747357845,0.025202652439475));
res += mul(Get(s0,dx,dy), float4x4(-0.009903690777719,0.001699166838080,0.016899053007364,0.039678584784269,-0.004432727117091,0.031463529914618,0.008018179796636,0.007361989002675,0.002383672865108,-0.047693014144897,0.000181958384928,-0.002883323701099,-0.042905244976282,-0.019763913005590,0.000047114102927,0.014423973858356));
res += mul(Get(s1,-dx,-dy), float4x4(-0.002985280938447,0.000666744716000,-0.001824878505431,0.011325248517096,-0.018118727952242,-0.031479410827160,-0.005538614466786,0.005973210558295,-0.023256242275238,-0.008695917204022,0.019703947007656,-0.009207285940647,0.025824144482613,-0.061213631182909,-0.015655146911740,0.001441348809749));
res += mul(Get(s1,-dx,0), float4x4(0.028182076290250,-0.029762731865048,-0.005565132014453,-0.033354278653860,-0.003148348769173,0.069230616092682,-0.009501191787422,0.017644105479121,-0.001137357437983,0.021328886970878,-0.010209800675511,-0.000420062773628,0.008979048579931,0.022374611347914,-0.026917790994048,0.041759300976992));
res += mul(Get(s1,-dx,dy), float4x4(-0.009995338506997,0.014985621906817,0.000702990277205,-0.020213656127453,-0.027699304744601,-0.045407887548208,-0.016528520733118,-0.012498669326305,0.023667072877288,-0.026665721088648,0.022226698696613,0.008052540011704,0.009023521095514,-0.018336623907089,-0.017627658322453,0.038993734866381));
res += mul(Get(s1,0,-dy), float4x4(0.026581741869450,-0.031452164053917,-0.002810053760186,-0.005355262197554,0.023769915103912,0.012286413460970,0.041663274168968,0.029747050255537,-0.012649108655751,0.028080327436328,-0.014683465473354,0.015536231920123,-0.002819746499881,-0.013360480777919,0.016739292070270,0.001534602721222));
res += mul(Get(s1,0,0), float4x4(-0.010042392648757,0.035323232412338,-0.020211188122630,0.002957474905998,-0.016737194731832,0.051232036203146,-0.032740697264671,-0.032701760530472,-0.000640390266199,-0.018616203218699,0.006435227580369,0.010944205336273,-0.000220558940782,0.133930161595345,-0.003121197223663,-0.005921034142375));
res += mul(Get(s1,0,dy), float4x4(-0.025318555533886,0.044860895723104,-0.017636593431234,0.001535943360068,0.013356898911297,0.005551119800657,0.010339215397835,0.007425552234054,0.001226176158525,-0.021949859336019,0.027702521532774,0.011507119052112,0.005682777613401,0.059729680418968,-0.012692604213953,-0.021492756903172));
res += mul(Get(s1,dx,-dy), float4x4(-0.023153053596616,0.015373311936855,0.007723112124950,0.021456373855472,-0.002377145458013,0.014972457662225,0.005764133762568,-0.006287360563874,0.051826134324074,-0.009961412288249,-0.034510247409344,0.002083362545818,0.002935830270872,-0.023096585646272,0.014339955523610,-0.012368133291602));
res += mul(Get(s1,dx,0), float4x4(0.042597208172083,0.034281585365534,0.003605568315834,-0.028338219970465,0.004437803290784,0.015532285906374,-0.015510773286223,-0.012487205676734,-0.006408624816686,-0.016135079786181,-0.007416314911097,0.017820263281465,0.037586878985167,0.067910850048065,0.022014223039150,-0.026867358013988));
res += mul(Get(s1,dx,dy), float4x4(0.009355783462524,-0.008515568450093,-0.016626404598355,0.007410459686071,0.038695339113474,0.015713514760137,0.026422007009387,-0.019466556608677,0.023788830265403,0.019614581018686,0.002408696338534,-0.027787338942289,-0.017550082877278,-0.097951844334602,0.026679772883654,-0.013142892159522));
res += mul(Get(s2,-dx,-dy), float4x4(0.015840675681829,-0.027976645156741,0.012131084688008,-0.015076009556651,-0.018856879323721,0.081666335463524,0.065144136548042,-0.042238041758537,-0.009700200520456,0.073747336864471,0.034969206899405,-0.032149311155081,0.012434655800462,-0.018866904079914,0.031172538176179,-0.013418938964605));
res += mul(Get(s2,-dx,0), float4x4(-0.023562237620354,0.064755365252495,-0.008781779557467,-0.000561168766581,0.008711294271052,-0.042091317474842,0.001143970759585,-0.020478114485741,0.008559226058424,-0.060732036828995,0.022350110113621,-0.048417177051306,0.002102845115587,0.003425486851484,0.001927116536535,0.014060198329389));
res += mul(Get(s2,-dx,dy), float4x4(-0.000514977378771,0.033091526478529,0.014959798194468,0.025779237970710,-0.009897996671498,0.024387521669269,-0.003446137998253,0.014759600162506,-0.011518635787070,0.003280606353655,-0.019483115524054,-0.013673827052116,0.048552926629782,-0.009066315367818,0.013752959668636,0.009258697740734));
res += mul(Get(s2,0,-dy), float4x4(-0.022683827206492,-0.001196283614263,0.015869339928031,0.001549977343529,-0.009663997218013,-0.044061094522476,-0.060147278010845,-0.021241161972284,0.015344379469752,0.053740739822388,-0.017478736117482,0.003431991441175,0.009303307160735,0.000145495956531,0.017076004296541,0.007450857665390));
res += mul(Get(s2,0,0), float4x4(-0.022785250097513,-0.021206103265285,-0.010837665759027,0.027747271582484,-0.005607396829873,-0.067310549318790,0.011760506778955,-0.006286804564297,0.000371375586838,-0.083207547664642,-0.000982729834504,0.001651900005527,0.015727147459984,-0.001847756793723,0.018657486885786,0.010095989331603));
res += mul(Get(s2,0,dy), float4x4(-0.013575528748333,-0.008318114094436,-0.044276788830757,0.003555472241715,0.007621040567756,0.107834666967392,0.052380636334419,0.015975901857018,-0.002097355900332,0.091999255120754,0.000546833500266,0.068990044295788,-0.030371652916074,0.026605064049363,0.005959094036371,-0.001430975040421));
res += mul(Get(s2,dx,-dy), float4x4(-0.046972319483757,-0.042510949075222,0.004070835188031,-0.019345378503203,-0.003301840741187,0.045299019664526,-0.057992305606604,0.005704629700631,0.021626042202115,0.083273351192474,-0.015653833746910,-0.033206682652235,0.002058658981696,0.000789700716268,0.016097800806165,-0.003602748038247));
res += mul(Get(s2,dx,0), float4x4(0.027216522023082,-0.001779741607606,0.015821471810341,-0.004211093764752,-0.015405653975904,0.083317756652832,0.023251906037331,0.023395413532853,0.025851823389530,0.022902473807335,0.018426138907671,0.022890480235219,0.007436523213983,-0.004217864014208,0.032963711768389,0.006243500858545));
res += mul(Get(s2,dx,dy), float4x4(-0.018311155959964,0.029519926756620,0.066281110048294,0.042420048266649,-0.036334384232759,0.124265052378178,0.001047599944286,0.023272477090359,-0.021562838926911,0.089708536863327,0.013416712172329,0.015613947995007,0.016056245192885,0.019281586632133,-0.043595954775810,-0.013256092555821));
res += mul(Get(s3,-dx,-dy), float4x4(-0.001334398170002,0.012235750444233,-0.015849474817514,0.014201510697603,-0.008659929968417,-0.006090116687119,-0.036737281829119,0.002889347029850,0.010089426301420,0.011663109064102,0.065561503171921,-0.028708491474390,0.031957961618900,0.025222904980183,0.051556617021561,-0.005282274913043));
res += mul(Get(s3,-dx,0), float4x4(0.000409624219174,0.005991007201374,-0.010502191260457,0.037801466882229,-0.008280294016004,0.020823687314987,-0.019672987982631,0.007510964293033,0.028797723352909,-0.011542069725692,0.015739604830742,0.004892443772405,-0.043524913489819,-0.012240507639945,-0.014154212549329,-0.004562314599752));
res += mul(Get(s3,-dx,dy), float4x4(-0.040291078388691,-0.013108179904521,0.005123803392053,-0.017052715644240,0.029596915468574,0.015302172861993,0.013128125108778,0.024244280532002,0.021017746999860,-0.002308070426807,-0.041668795049191,-0.026752498000860,-0.020628707483411,0.084101736545563,0.038145497441292,0.067910321056843));
res += mul(Get(s3,0,-dy), float4x4(-0.026159610599279,0.020871309563518,-0.011372771114111,-0.020401421934366,0.011614595539868,0.004869918804616,0.041647233068943,0.011994841508567,-0.030783098191023,-0.067128919064999,-0.022367263212800,-0.009877372533083,-0.011922245845199,-0.125323936343193,-0.038039814680815,0.029861165210605));
res += mul(Get(s3,0,0), float4x4(0.000958073243964,0.011276811361313,-0.015908975154161,-0.013962002471089,0.012488019652665,0.050079949200153,0.014970659278333,-0.026542415842414,-0.011913570575416,-0.005606346298009,-0.006640137173235,0.030172131955624,-0.033465903252363,0.093462876975536,0.034860242158175,0.030615169554949));
res += mul(Get(s3,0,dy), float4x4(0.035787533968687,-0.009005303494632,-0.007246745750308,0.050439134240150,-0.037228148430586,-0.023149402812123,0.021854890510440,-0.009883726947010,-0.017027620226145,0.033718220889568,-0.006696908734739,0.009365713223815,0.022137792780995,0.131097778677940,0.079051241278648,-0.048768777400255));
res += mul(Get(s3,dx,-dy), float4x4(0.009926862083375,0.001770387520082,-0.005362808238715,0.015899129211903,-0.043245676904917,-0.043945729732513,0.006338101811707,0.000279725878499,-0.014711477793753,0.029179828241467,-0.016567068174481,0.021690655499697,-0.007745311129838,0.013190475292504,0.012107712216675,0.047434795647860));
res += mul(Get(s3,dx,0), float4x4(0.007017434574664,-0.020236464217305,0.023512220010161,0.011568113230169,-0.000098485383205,-0.030242707580328,0.003104365663603,-0.015341854654253,-0.016876412555575,0.092103034257889,0.008333141915500,0.048420906066895,0.032580044120550,0.118765406310558,0.073703676462173,0.038876414299011));
res += mul(Get(s3,dx,dy), float4x4(-0.013265595771372,0.001550156506710,0.019659714773297,-0.018722875043750,0.023085301741958,-0.065174311399460,0.004118639510125,0.020814632996917,0.023018766194582,-0.016697743907571,-0.028404215350747,-0.003146919189021,-0.040871910750866,-0.054723564535379,-0.037222471088171,-0.000824730144814));
return max(float4(0,0,0,0), res);
}
