sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.006680125370622,0.007082558702677,0.065522544085979,-0.030209166929126,-0.019840748980641,0.021226633340120,0.038799062371254,-0.013972939923406,-0.017305502668023,-0.006910460069776,-0.014687957242131,0.028073301538825,-0.004361129831523,-0.001763122738339,0.027882946655154,0.021540360525250));
res += mul(Get(s0,-dx,0), float4x4(0.033021736890078,-0.023891637101769,0.036743603646755,-0.008688174188137,0.067996449768543,-0.000158926239237,0.024818167090416,0.017202831804752,0.019452292472124,0.022593628615141,-0.023936586454511,-0.003641974413767,0.011990603990853,-0.005080324597657,0.024643842130899,-0.012521924450994));
res += mul(Get(s0,-dx,dy), float4x4(-0.013304548338056,0.000698590069078,0.012046316638589,-0.001824099919759,0.019827280193567,0.018604269251227,-0.022643854841590,0.016240065917373,-0.032517530024052,0.039141409099102,0.007286534644663,0.010581902228296,0.038271158933640,0.022968981415033,0.020086169242859,-0.019671237096190));
res += mul(Get(s0,0,-dy), float4x4(0.027235347777605,0.024114849045873,0.006436643656343,0.007189101539552,0.046945303678513,-0.015581000596285,-0.001309579471126,-0.003746175207198,-0.013008035719395,0.019714532420039,-0.008386908099055,0.016701005399227,-0.021018367260695,0.016804385930300,0.063796870410442,0.007764539681375));
res += mul(Get(s0,0,0), float4x4(0.052514638751745,0.005134417209774,-0.007346519269049,0.050018012523651,0.068360790610313,-0.000814696424641,0.035867627710104,-0.015312671661377,-0.015255955047905,0.025677062571049,-0.006150803063065,0.002948076231405,0.050687935203314,0.030095007270575,-0.033159907907248,-0.004748178180307));
res += mul(Get(s0,0,dy), float4x4(-0.009840870276093,0.009646408259869,0.001031991792843,-0.000492902239785,-0.004232526291162,0.003384927287698,0.025050144642591,0.007560625206679,0.032191876322031,-0.028701890259981,0.031873483210802,0.024376694113016,0.008508503437042,0.023526404052973,-0.027236223220825,0.026847986504436));
res += mul(Get(s0,dx,-dy), float4x4(0.060164209455252,0.034821525216103,-0.027621179819107,0.003115797182545,0.007284355815500,-0.038481295108795,0.001832540263422,0.022956775501370,0.013362352736294,-0.002985451836139,0.021469458937645,0.014030346646905,0.057712446898222,0.005717058666050,-0.002450492931530,-0.018445750698447));
res += mul(Get(s0,dx,0), float4x4(-0.019293030723929,-0.005372179672122,0.033820465207100,-0.021977106109262,0.026976624503732,0.007189911324531,0.073378540575504,-0.050623487681150,-0.016635250300169,0.016742303967476,0.003738923231140,-0.015119949355721,0.030242608860135,-0.032893769443035,-0.006464704871178,0.041192945092916));
res += mul(Get(s0,dx,dy), float4x4(-0.037560630589724,0.010680026374757,0.017917381599545,0.025678470730782,-0.005870989989489,0.001843554084189,-0.008978570811450,0.033358097076416,0.023703269660473,0.047903448343277,0.017191665247083,0.004103898536414,-0.011714152060449,-0.026152538135648,0.020787132903934,-0.004474365152419));
res += mul(Get(s1,-dx,-dy), float4x4(-0.009322607889771,-0.012784967198968,0.018547650426626,-0.007341348100454,0.032212391495705,0.017996996641159,-0.042851250618696,0.053055308759212,0.014473805204034,0.003908470273018,0.032342139631510,0.004192360211164,0.020474307239056,0.017737232148647,-0.010535848326981,0.001647403696552));
res += mul(Get(s1,-dx,0), float4x4(-0.026435049250722,-0.021436080336571,-0.009620110504329,0.023093454539776,0.014272154308856,-0.005795671604574,-0.011571987532079,-0.015646480023861,-0.039173379540443,0.016070336103439,0.019980536773801,0.016257684677839,-0.001167469425127,0.012733251787722,0.040233470499516,-0.002289402065799));
res += mul(Get(s1,-dx,dy), float4x4(-0.027245979756117,-0.008494269102812,-0.018518459051847,0.007879531942308,-0.056661386042833,-0.013623020611703,0.005303733982146,-0.047039777040482,0.013213654048741,0.020837616175413,-0.021136311814189,-0.026181710883975,-0.046492028981447,0.013332982547581,0.012186823412776,-0.013697450980544));
res += mul(Get(s1,0,-dy), float4x4(-0.000551449134946,-0.018581321462989,0.003397394670174,0.015228466130793,-0.000912332849111,-0.026484070345759,-0.045743532478809,0.045153986662626,-0.000634447613265,-0.012665290385485,0.036674812436104,-0.016664432361722,-0.029972072690725,-0.033601924777031,-0.028979439288378,-0.004168833140284));
res += mul(Get(s1,0,0), float4x4(0.018673703074455,0.038201756775379,-0.017531402409077,-0.031701996922493,0.006486746482551,0.010161307640374,0.007163582369685,-0.023088404908776,0.007785314694047,-0.037037435919046,0.001814172370359,0.002941454527900,0.014182459563017,0.003358299145475,0.015779795125127,-0.033245157450438));
res += mul(Get(s1,0,dy), float4x4(0.028567539528012,-0.004052647855133,-0.020799729973078,0.007348419632763,-0.013519214466214,0.018642144277692,0.028861502185464,-0.033652365207672,0.018104292452335,0.017466779798269,-0.007823711261153,0.006193537265062,0.051662009209394,0.004569311160594,-0.012737136334181,0.021158162504435));
res += mul(Get(s1,dx,-dy), float4x4(0.006577527616173,0.010779978707433,0.009290149435401,0.007174630183727,-0.016600020229816,0.045207183808088,-0.013091280125082,0.005158746149391,0.045815546065569,-0.022093225270510,0.027135083451867,0.008952377364039,0.009695484302938,0.015933388844132,-0.012384849600494,-0.009563380852342));
res += mul(Get(s1,dx,0), float4x4(-0.000524453935213,-0.032977417111397,-0.008894181810319,-0.018327981233597,0.023321751505136,0.033435676246881,0.052702557295561,0.006736875977367,-0.034198746085167,-0.007927288301289,-0.006224757991731,-0.011630677618086,-0.007853252813220,0.022103808820248,0.032284613698721,0.022726541385055));
res += mul(Get(s1,dx,dy), float4x4(-0.018229024484754,0.016683058813214,-0.033710218966007,0.010912501253188,0.010701522231102,0.040752604603767,0.024795882403851,-0.002778775291517,-0.010379885323346,0.000976020121016,-0.020707365125418,0.007080779876560,0.024556599557400,-0.010196954943240,-0.029454099014401,-0.016642877832055));
res += mul(Get(s2,-dx,-dy), float4x4(0.037289898842573,0.001477866317146,0.005706166848540,0.003240962279961,0.067476600408554,0.030090855434537,0.070766218006611,0.023753223940730,-0.067291751503944,-0.014082880690694,0.027385013177991,-0.009573623538017,0.012244034558535,0.005655328277498,0.049945898354053,0.015318388119340));
res += mul(Get(s2,-dx,0), float4x4(-0.000306833622744,-0.037744626402855,-0.016693098470569,-0.007439970970154,0.025435339659452,0.071307644248009,0.017791723832488,0.004823382943869,0.030620910227299,-0.010702578350902,0.028595661744475,0.019899588078260,0.083045803010464,-0.022261822596192,0.034794300794601,-0.008681146427989));
res += mul(Get(s2,-dx,dy), float4x4(-0.021833360195160,-0.038850069046021,-0.017448829486966,-0.006871618796140,-0.020809296518564,0.034426726400852,-0.046515166759491,-0.024626806378365,0.040780976414680,-0.002757532754913,-0.001905383425765,-0.015255891717970,-0.014975313097239,0.003292131237686,-0.029155384749174,-0.038902357220650));
res += mul(Get(s2,0,-dy), float4x4(0.075273290276527,0.009956334717572,0.013079384341836,-0.015341569669545,0.140087127685547,0.059283997863531,0.007587164640427,0.051396373659372,-0.035976327955723,0.053092852234840,-0.022314868867397,-0.002167326631024,0.003485850524157,-0.016433548182249,-0.022999769076705,-0.005868420470506));
res += mul(Get(s2,0,0), float4x4(-0.018691577017307,-0.011363545432687,0.005626471713185,-0.044099859893322,-0.021772906184196,-0.000357793236617,-0.077647104859352,0.002871811622754,0.106538534164429,-0.016911804676056,0.036882102489471,0.057069528847933,0.078006029129028,-0.005707773379982,0.040900070220232,0.035665936768055));
res += mul(Get(s2,0,dy), float4x4(-0.069674640893936,-0.026410190388560,-0.017080835998058,-0.005371751263738,-0.066363930702209,0.025305029004812,-0.007055065594614,-0.040547624230385,0.018867634236813,-0.027914477512240,0.037212111055851,0.021050000563264,-0.017916098237038,-0.002365573775023,0.061850205063820,-0.043175373226404));
res += mul(Get(s2,dx,-dy), float4x4(-0.008749733678997,-0.007164137903601,0.040241628885269,-0.003189912531525,0.039663437753916,0.000418879149947,-0.016855327412486,0.086958818137646,0.038521204143763,0.012366692535579,-0.025379002094269,-0.019647317007184,0.033429376780987,-0.018866417929530,0.013844558969140,0.036841336637735));
res += mul(Get(s2,dx,0), float4x4(-0.041378978639841,0.010067560710013,0.000374052207917,-0.024582386016846,-0.093928709626198,-0.017860285937786,0.028651664033532,-0.039292514324188,0.029330722987652,-0.008097349666059,0.080259643495083,0.006667570676655,0.018049689009786,0.012638559564948,0.031874865293503,0.012282203882933));
res += mul(Get(s2,dx,dy), float4x4(0.024313988164067,-0.012487318366766,-0.014561628922820,-0.021517302840948,-0.075073339045048,0.023696539923549,0.022309063002467,-0.073498100042343,-0.021449394524097,0.010743125341833,0.045611642301083,0.005992955062538,-0.006111924536526,-0.011224352754653,-0.024717560037971,0.001793727744371));
res += mul(Get(s3,-dx,-dy), float4x4(-0.002216397318989,0.005072000902146,0.032126009464264,-0.053228653967381,0.010267214849591,0.019186085090041,-0.002446100581437,0.031261887401342,-0.001225731684826,0.034662965685129,0.001530643668957,0.004629302304238,0.032378360629082,-0.014119018800557,0.026603849604726,0.001017253613099));
res += mul(Get(s3,-dx,0), float4x4(0.002200251910836,0.034313559532166,-0.004620478488505,0.007356551941484,-0.003987490665168,-0.000968730077147,-0.007617854047567,-0.066661387681961,-0.001530006993562,-0.038723662495613,0.002444198820740,0.025713561102748,-0.014533557929099,-0.025888146832585,0.020777871832252,0.010774556547403));
res += mul(Get(s3,-dx,dy), float4x4(-0.016833731904626,-0.024602040648460,-0.032009970396757,-0.037571690976620,0.002353821182624,0.013633421622217,-0.012206180952489,-0.034429416060448,-0.008151361718774,-0.013805080205202,-0.012012019753456,-0.019790854305029,0.006277752108872,-0.020003931596875,0.019910752773285,0.015769444406033));
res += mul(Get(s3,0,-dy), float4x4(-0.014937842264771,-0.019960362464190,0.000177448280738,-0.017747323960066,-0.014896087348461,-0.008923387154937,-0.003622659714893,0.013011640869081,-0.007460603490472,-0.000890874769539,0.027568319812417,-0.019005151465535,0.013562036678195,-0.014333325438201,-0.027675235643983,0.023218624293804));
res += mul(Get(s3,0,0), float4x4(0.024591596797109,-0.001012115622871,-0.026298252865672,-0.034238189458847,0.012643874622881,-0.011102928780019,0.017990441992879,-0.002710531000048,-0.003372911829501,0.013550105504692,-0.017562786117196,-0.020622652024031,0.011038054712117,0.000428962404840,-0.000581274158321,0.011101249605417));
res += mul(Get(s3,0,dy), float4x4(0.021428307518363,0.030368281528354,0.030927864834666,-0.003820768557489,-0.003742243163288,0.005034452769905,-0.006722324993461,0.000626507273410,-0.043219309300184,0.002904173918068,0.023241208866239,-0.004069666843861,-0.023732673376799,-0.017782418057323,-0.002049085684121,0.005465870257467));
res += mul(Get(s3,dx,-dy), float4x4(-0.008785477839410,-0.012745295651257,-0.001098504406400,-0.019795868545771,0.002059792866930,-0.045211158692837,-0.002694402821362,0.012819093652070,-0.023217745125294,0.025797003880143,-0.008761951699853,-0.008525415323675,0.036528702825308,0.028337916359305,0.022402422502637,0.016370901837945));
res += mul(Get(s3,dx,0), float4x4(-0.004055399447680,-0.015982050448656,0.005534303374588,0.007959399372339,-0.037055797874928,-0.008573785424232,-0.001371296122670,0.011355516500771,0.003863696008921,-0.031129987910390,-0.005375206936151,0.008263425901532,-0.014974742196500,0.014207374304533,-0.019256548956037,-0.026732224971056));
res += mul(Get(s3,dx,dy), float4x4(-0.021112188696861,0.036849692463875,0.028084740042686,-0.010037348605692,0.019171042367816,0.019070705398917,0.023162512108684,0.015661790966988,-0.009858234785497,-0.021307813003659,0.019365759566426,-0.012659354135394,0.029140019789338,-0.009415213949978,-0.009722427465022,-0.010072399862111));
return max(float4(0,0,0,0), res);
}
