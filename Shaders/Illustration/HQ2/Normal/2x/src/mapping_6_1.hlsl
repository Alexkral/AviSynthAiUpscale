sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.024429518729448,0.010317924432456,-0.001258168369532,0.002149415900931,-0.018908070400357,0.033960737287998,-0.015541614964604,-0.033686362206936,0.134079530835152,-0.029120007529855,0.021419774740934,0.001711081364192,-0.001907827099785,0.004445674363524,0.008214253000915,0.034695025533438));
res += mul(Get(s0,-dx,0), float4x4(-0.001860979595222,0.022057214751840,0.032314483076334,0.018307767808437,0.017060929909348,-0.009879512712359,0.005855652038008,0.003257288131863,0.012617028318346,-0.003112349426374,0.135819360613823,0.023372499272227,-0.003402188187465,-0.017430065199733,-0.014813411980867,0.000382881204132));
res += mul(Get(s0,-dx,dy), float4x4(-0.020333766937256,-0.000006859730547,-0.006740864831954,0.040755774825811,-0.013063712045550,0.051214721053839,-0.023958712816238,0.005234750453383,-0.041059989482164,0.015359603799880,-0.041567776352167,-0.023541020229459,-0.000172985193785,0.011953869834542,-0.039534140378237,0.042337272316217));
res += mul(Get(s0,0,-dy), float4x4(-0.004972866736352,0.003342609619722,-0.010603148490191,0.008638745173812,0.018047014251351,0.012126982212067,-0.000908532238100,-0.013325166888535,0.118156470358372,-0.108793847262859,0.048281479626894,-0.004555418621749,0.010411130264401,0.001721306005493,0.025767689570785,-0.008502866141498));
res += mul(Get(s0,0,0), float4x4(0.012013628147542,-0.004049138631672,-0.008482471108437,0.018473599106073,0.055301386862993,-0.060650981962681,0.029091082513332,0.017541339620948,-0.040669281035662,0.121388062834740,0.012697254307568,0.031514242291451,0.021167388185859,-0.019804732874036,0.009830561466515,-0.013829854317009));
res += mul(Get(s0,0,dy), float4x4(-0.020673703402281,-0.005275034345686,-0.010156136937439,-0.003628741018474,-0.024251781404018,0.047464631497860,0.043758843094110,0.006199795752764,-0.019818646833301,0.055898755788803,-0.059688027948141,0.003110399469733,-0.019973259419203,0.001924331183545,-0.006921283435076,-0.020821232348680));
res += mul(Get(s0,dx,-dy), float4x4(-0.057750355452299,0.005326420534402,0.013858015649021,0.004456823226064,-0.026438357308507,0.010779273696244,0.033570744097233,0.002133842557669,0.042444750666618,-0.014516272582114,-0.013215115293860,-0.022736221551895,0.017375361174345,-0.028333105146885,0.010083679109812,-0.038436178117990));
res += mul(Get(s0,dx,0), float4x4(-0.009083292447031,-0.004841506946832,0.012432507239282,-0.013212090358138,0.029102051630616,0.000365522719221,0.033631611615419,0.000489800353535,0.002840717788786,0.081909917294979,-0.022946573793888,0.010460292920470,0.002583609195426,-0.018451234325767,0.012785330414772,0.019990695640445));
res += mul(Get(s0,dx,dy), float4x4(-0.014193769544363,0.002616446930915,-0.001874503330328,-0.016538329422474,-0.014594436623156,0.063940860331059,-0.021296050399542,-0.004129647742957,0.069357819855213,-0.053681425750256,0.039959028363228,-0.022350663319230,0.018597031012177,-0.022880960255861,0.000032760970498,0.025535207241774));
res += mul(Get(s1,-dx,-dy), float4x4(-0.041345570236444,0.034646734595299,0.016702700406313,-0.002612755866721,0.018811760470271,-0.020261110737920,0.027637509629130,0.005389893427491,0.042747333645821,-0.044923339039087,0.083733297884464,-0.035566799342632,-0.007958714850247,0.077162675559521,-0.017103355377913,0.011915642768145));
res += mul(Get(s1,-dx,0), float4x4(0.000292534765322,0.008906304836273,0.006023888476193,-0.009796148166060,-0.031061509624124,0.018663523718715,0.021769193932414,-0.012157619930804,-0.054966874420643,0.052279297262430,0.022291453555226,-0.012193438597023,0.036769453436136,0.046771991997957,-0.004953866824508,-0.003831924172118));
res += mul(Get(s1,-dx,dy), float4x4(0.001461729989387,0.021650478243828,0.021375084295869,-0.016463156789541,0.007099721580744,0.049664918333292,0.004971413873136,-0.008334559388459,-0.050791192799807,0.074743531644344,-0.065066747367382,-0.000387577834772,-0.009673439897597,0.040295708924532,-0.033503413200378,-0.032934736460447));
res += mul(Get(s1,0,-dy), float4x4(-0.007741168141365,-0.016505334526300,0.008625587448478,-0.014313785359263,0.017751473933458,-0.030281463637948,0.014165150932968,0.017771327868104,0.017298815771937,0.020252315327525,-0.014139327220619,0.038341276347637,0.050980232656002,-0.019392676651478,0.031222941353917,0.013206675648689));
res += mul(Get(s1,0,0), float4x4(0.004586054012179,0.003517313161865,-0.003068824065849,0.022870067507029,0.006988905370235,0.023357797414064,0.028230745345354,0.024447178468108,-0.030557418242097,0.087046697735786,-0.022057302296162,-0.008540518581867,0.041051629930735,-0.069549657404423,0.040021948516369,0.022540377452970));
res += mul(Get(s1,0,dy), float4x4(0.012614793144166,-0.004262992180884,-0.022356903180480,-0.006161177065223,0.010313442908227,-0.050522774457932,-0.004413559101522,-0.009601629339159,0.088569596409798,-0.018389539793134,0.044714182615280,0.005930186249316,0.046996522694826,-0.005019068717957,0.056295249611139,0.000638730940409));
res += mul(Get(s1,dx,-dy), float4x4(-0.023626895621419,0.008424264378846,-0.013571671210229,0.006509231869131,0.029537022113800,0.015195770189166,-0.024287434294820,-0.018403513357043,0.014884583652020,-0.016921037808061,0.007885130122304,-0.035500369966030,-0.041703801602125,0.052651025354862,0.025858813896775,-0.024839179590344));
res += mul(Get(s1,dx,0), float4x4(-0.000334494805429,0.007158307824284,0.022423893213272,-0.014290742576122,-0.007149817422032,-0.037221163511276,0.029155315831304,-0.011144766584039,0.008321460336447,0.018151501193643,0.045712847262621,-0.029797328636050,-0.024759493768215,0.037083491683006,0.029708394780755,0.016858862712979));
res += mul(Get(s1,dx,dy), float4x4(0.002028089947999,-0.012458375655115,0.006660433486104,0.007453031837940,0.003904932644218,-0.025886714458466,-0.005236594937742,-0.020800545811653,-0.000449460145319,-0.038501333445311,0.025982867926359,-0.004456075839698,-0.007403781637549,0.030637202784419,-0.002235795604065,-0.001849406864494));
res += mul(Get(s2,-dx,-dy), float4x4(-0.022841529920697,0.079745143651962,-0.000588273280300,0.013991591520607,0.006061448715627,-0.002805297262967,0.023937871679664,0.003365770447999,-0.018114991486073,0.003339469432831,0.003147041657940,-0.011397462338209,0.038115039467812,-0.016926975920796,0.008747626096010,0.012030939571559));
res += mul(Get(s2,-dx,0), float4x4(0.028173478320241,0.053580429404974,-0.026511527597904,0.004981505684555,-0.015016588382423,0.001009110128507,0.008193598128855,0.009514811448753,0.017794709652662,-0.016931453719735,-0.010336384177208,0.020161271095276,-0.008078332990408,0.042891867458820,0.033681575208902,-0.028055338189006));
res += mul(Get(s2,-dx,dy), float4x4(0.043535333126783,0.037494245916605,0.011779715307057,0.012515786103904,0.007146230433136,0.037247452884912,0.029133487492800,0.000533907907084,-0.002942061750218,-0.021937405690551,0.017888626083732,-0.001071409555152,0.007484889123589,0.026874491944909,-0.004513986408710,-0.002580892061815));
res += mul(Get(s2,0,-dy), float4x4(0.023560982197523,-0.003597809001803,0.005165764130652,0.021660473197699,-0.021428709849715,0.020751202479005,0.042188525199890,-0.002940085483715,-0.034857787191868,0.021307762712240,-0.025814101099968,0.024363450706005,0.045423459261656,-0.047956787049770,0.017208633944392,0.008037339895964));
res += mul(Get(s2,0,0), float4x4(0.067007362842560,-0.026167998090386,0.038145620375872,0.000614047341514,-0.017433978617191,-0.017567727714777,-0.002683387137949,0.011653686873615,-0.018117463216186,-0.011462325230241,0.017066976055503,-0.022139666602015,-0.023348975926638,0.054616905748844,-0.035917390137911,-0.021078746765852));
res += mul(Get(s2,0,dy), float4x4(0.016638683155179,-0.038703877478838,0.045778073370457,-0.029757294803858,0.003126716939732,0.003902536584064,-0.031480405479670,0.004934911616147,0.005072071217000,0.033014416694641,0.001803683699109,0.014048137702048,-0.024885252118111,0.019567968323827,-0.005952397827059,-0.005795185454190));
res += mul(Get(s2,dx,-dy), float4x4(0.014049577526748,-0.030427169054747,0.019305488094687,0.008430087007582,0.002448426559567,0.004080771468580,0.008909707888961,0.033882550895214,-0.029678439721465,-0.040835868567228,0.000294736732030,-0.003073110477999,0.002132616471499,0.026495633646846,0.009023308753967,0.006648734677583));
res += mul(Get(s2,dx,0), float4x4(-0.031892858445644,-0.033513993024826,0.005969982594252,0.004675217438489,0.013922318816185,-0.002767840167508,-0.021609248593450,-0.006500882562250,-0.031422782689333,0.021823637187481,0.001156286569312,0.004692267160863,-0.049399118870497,0.027952369302511,0.021803060546517,-0.014642342925072));
res += mul(Get(s2,dx,dy), float4x4(-0.025473767891526,-0.005367522593588,-0.032320369035006,-0.013216212391853,-0.018307451158762,0.020379528403282,0.020205296576023,0.019531287252903,-0.004823083989322,0.020778894424438,0.010606987401843,-0.025289403274655,0.023811023682356,-0.038471706211567,-0.011609203182161,0.011855959892273));
res += mul(Get(s3,-dx,-dy), float4x4(0.016624730080366,-0.020859785377979,0.000544497277588,0.034040749073029,-0.005106547381729,0.004008488263935,0.004305913113058,0.000956350006163,-0.026708172634244,-0.015065331943333,0.039807833731174,-0.007064937613904,0.004249267745763,0.007079464849085,-0.037045821547508,-0.015208195894957));
res += mul(Get(s3,-dx,0), float4x4(0.016086375340819,0.007213971111923,-0.016650158911943,-0.016374111175537,0.032386779785156,0.013109710998833,-0.008417909964919,0.018636777997017,-0.012357491068542,0.020330596715212,-0.003004557685927,-0.005031405482441,0.008179333060980,0.015618491917849,0.033773675560951,0.025740524753928));
res += mul(Get(s3,-dx,dy), float4x4(0.019645249471068,-0.033618383109570,0.026198022067547,0.008479796350002,0.004313360434026,0.003626806894317,-0.008503017015755,-0.032533656805754,0.011985172517598,0.028844570741057,-0.016742376610637,0.017640674486756,0.022500768303871,0.005003220401704,0.010331637226045,0.017001254484057));
res += mul(Get(s3,0,-dy), float4x4(-0.026295406743884,0.020569611340761,0.026552749797702,-0.023351291194558,0.028007702901959,-0.043330054730177,0.036154691129923,0.003070854116231,0.029282214120030,-0.010546614415944,0.042706884443760,0.004099079407752,-0.016272520646453,0.047805208712816,-0.005756154190749,0.005322196055204));
res += mul(Get(s3,0,0), float4x4(-0.018908511847258,0.025654975324869,-0.014332119375467,0.023004887625575,-0.001552399597131,0.002283416455612,0.021293036639690,-0.018049318343401,0.030307155102491,-0.022451175376773,-0.016844237223268,-0.011132324114442,-0.001453814678825,0.013093935325742,-0.027966486290097,-0.010461552068591));
res += mul(Get(s3,0,dy), float4x4(-0.008510155603290,0.019847476854920,0.020161308348179,0.035322777926922,0.007681979797781,-0.011826142668724,-0.005711928941309,-0.024458678439260,-0.000908279092982,-0.003175064455718,0.000338385347277,-0.001873658271506,0.014873629435897,-0.056023743003607,-0.032136712223291,-0.027232367545366));
res += mul(Get(s3,dx,-dy), float4x4(0.010261964052916,-0.005019422154874,-0.013455686159432,0.005636644549668,0.006863222923130,-0.023693172261119,-0.011370176449418,0.007253360003233,0.022770933806896,0.013289777562022,-0.000616767618340,0.012634145095944,-0.032176271080971,-0.016522295773029,-0.018284762278199,0.011697662994266));
res += mul(Get(s3,dx,0), float4x4(-0.024628125131130,-0.017235759645700,0.022674992680550,0.018978826701641,0.001496596611105,-0.007279469165951,-0.007717350963503,0.040247905999422,0.010674462653697,0.004803506191820,0.006182394456118,-0.013051141053438,-0.042772155255079,0.014657163992524,0.004077755846083,0.020159240812063));
res += mul(Get(s3,dx,dy), float4x4(-0.024299707263708,-0.003668315010145,-0.024991458281875,0.008291617967188,0.006998710799962,0.005876417737454,0.008430127054453,-0.003592918859795,0.010012080892920,-0.023239245638251,-0.011950652115047,-0.003074702341110,-0.006728636100888,0.001424570102245,0.015645110979676,-0.010914588347077));
return max(float4(0,0,0,0), res);
}
