sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.009727593511343,-0.008769988082349,-0.012487994506955,0.001562300138175,-0.013416319154203,0.016696341335773,-0.016472676768899,0.028417984023690,0.006636742036790,-0.002774723339826,-0.031679652631283,-0.011126173660159,0.060748618096113,-0.009727637283504,0.007116533815861,0.000836967723444));
res += mul(Get(s0,-dx,0), float4x4(-0.015401590615511,0.001937404391356,-0.012081440538168,0.021676069125533,0.000548532698303,-0.020120859146118,-0.011746127158403,0.043053403496742,-0.006320728454739,0.011621614918113,0.007708369754255,0.051755614578724,0.059534598141909,0.000091907371825,-0.015761535614729,-0.046433512121439));
res += mul(Get(s0,-dx,dy), float4x4(-0.019863452762365,0.016041427850723,0.022878719493747,-0.033888563513756,0.001608269987628,0.022951047867537,0.014603896997869,0.005250493995845,-0.010606168769300,0.005214490927756,0.003474498400465,-0.013563709333539,0.056971434503794,0.007019734475762,0.009045996703207,0.089566908776760));
res += mul(Get(s0,0,-dy), float4x4(-0.002589126816019,-0.031552139669657,-0.018227139487863,-0.015488227829337,-0.022865045815706,0.004750488791615,-0.059469074010849,0.018094899132848,0.000963597383816,-0.002687075175345,-0.021353259682655,0.003913452383131,0.069075845181942,-0.022893615067005,-0.001976668136194,-0.001883232966065));
res += mul(Get(s0,0,0), float4x4(-0.022425334900618,0.009292841888964,0.031217154115438,-0.024777762591839,0.002528672339395,0.024258714169264,0.032957404851913,-0.004698121454567,0.009378071874380,0.015472967177629,-0.058972451835871,0.011944422498345,-0.006290819961578,0.010812491178513,0.002740834373981,-0.074737347662449));
res += mul(Get(s0,0,dy), float4x4(0.019677842035890,-0.026995101943612,-0.028856663033366,0.015523498877883,0.000812790705822,-0.001679925830103,0.009474465623498,0.010158980265260,0.072094753384590,-0.004071408417076,-0.009294381365180,-0.021390577778220,-0.061113573610783,-0.005811613518745,0.015663638710976,0.056798003613949));
res += mul(Get(s0,dx,-dy), float4x4(-0.004024122375995,-0.008206635713577,0.017979228869081,-0.019429031759501,-0.008755022659898,-0.012805744074285,-0.004009521100670,0.007670973893255,-0.013747829943895,-0.022926565259695,-0.021667053923011,-0.035110674798489,-0.018801851198077,-0.003301292425022,0.005480802617967,0.010529531165957));
res += mul(Get(s0,dx,0), float4x4(0.034444648772478,0.001958057517186,0.031268727034330,0.022028913721442,0.018325291574001,0.003653616178781,0.002654525684193,-0.009408466517925,0.021931217983365,0.014831551350653,-0.026877447962761,0.004300316330045,-0.039097696542740,0.029095156118274,-0.010287376120687,0.001609702478163));
res += mul(Get(s0,dx,dy), float4x4(0.031026232987642,0.040960952639580,0.029450140893459,0.020145885646343,0.001545939827338,-0.019914187490940,-0.018149597570300,-0.016132596880198,0.040939871221781,0.015722874552011,0.001389731303789,0.006597567815334,-0.009536476805806,0.015227617695928,0.014474709518254,0.020133804529905));
res += mul(Get(s1,-dx,-dy), float4x4(-0.014038375578821,0.017264753580093,0.015471306629479,-0.025687083601952,0.030853569507599,-0.006089846603572,0.002210230799392,-0.012911540456116,0.038807578384876,0.024679763242602,-0.014087694697082,-0.008748464286327,-0.028735252097249,-0.013870373368263,0.007079321891069,0.004094008821994));
res += mul(Get(s1,-dx,0), float4x4(0.037525616586208,-0.023728184401989,0.004960686899722,0.006727786269039,-0.000627614732366,-0.002976459916681,0.024034954607487,0.053266439586878,0.042943209409714,-0.033834882080555,0.005450915545225,0.031094651669264,0.007046462502331,-0.000629567250144,-0.002614388242364,0.019054794684052));
res += mul(Get(s1,-dx,dy), float4x4(-0.003038099734113,0.050232365727425,-0.020820887759328,0.015047091059387,0.002050251001492,-0.006312187295407,-0.021603120490909,-0.036185108125210,0.027322592213750,0.008801599033177,0.007597548887134,-0.007714712992311,-0.004216113593429,0.009077962487936,-0.000610336021055,-0.011842813342810));
res += mul(Get(s1,0,-dy), float4x4(-0.019836461171508,0.033783122897148,0.002203143201768,-0.037949662655592,-0.000731887295842,0.002132426714525,0.024345720186830,-0.001543857739307,-0.009742865338922,-0.030697513371706,-0.017164312303066,0.005144941620529,-0.010077100247145,0.004857148509473,0.020295139402151,-0.005563765764236));
res += mul(Get(s1,0,0), float4x4(-0.063044652342796,-0.004400222096592,-0.007931934669614,0.005295470356941,0.017882101237774,0.028976261615753,-0.005666384939104,-0.006947442889214,-0.042160939425230,-0.011547596193850,-0.005124020855874,0.035041600465775,0.013697572052479,0.007775715086609,-0.016216216608882,0.003151108045131));
res += mul(Get(s1,0,dy), float4x4(-0.027990514412522,-0.004959038458765,-0.000688297848683,-0.030425393953919,-0.000782284303568,0.024907302111387,-0.002574392361566,-0.008619860745966,0.007155669853091,-0.020298892632127,-0.001207472174428,0.008916815742850,0.016217412427068,-0.023959416896105,0.022451698780060,-0.008830907754600));
res += mul(Get(s1,dx,-dy), float4x4(0.036614973098040,0.030585978180170,-0.001106392126530,-0.004433855880052,-0.005029940046370,0.019056987017393,-0.005467215552926,-0.010498806834221,-0.015473126433790,-0.017657177522779,-0.016248684376478,0.003070112783462,-0.000049800783017,-0.001041929121129,-0.021087387576699,0.029965471476316));
res += mul(Get(s1,dx,0), float4x4(0.037945326417685,0.005245824344456,-0.008966558612883,0.015237705782056,0.018990729004145,0.009610796347260,0.021618736907840,-0.000550338183530,0.000059410296672,-0.006777832750231,-0.021916452795267,0.021986680105329,-0.013470192439854,0.036481555551291,-0.002205152297392,0.006979645695537));
res += mul(Get(s1,dx,dy), float4x4(0.063688665628433,-0.008104126900434,0.019137196242809,-0.019237732514739,-0.026911096647382,0.017054587602615,-0.001692474121228,-0.005624972283840,0.037646222859621,-0.046068575233221,0.030027350410819,-0.025276899337769,-0.002064235741273,-0.007911247201264,-0.016611749306321,-0.003702340647578));
res += mul(Get(s2,-dx,-dy), float4x4(-0.022107912227511,-0.032052569091320,0.018539238721132,0.012445116415620,-0.012484686449170,-0.002272051526234,-0.009283081628382,-0.019347550347447,-0.003335156943649,0.028190789744258,0.030668154358864,0.008626246824861,0.004400719422847,-0.021228233352304,-0.029677199199796,0.037017021328211));
res += mul(Get(s2,-dx,0), float4x4(-0.012606510892510,-0.007933527231216,0.001435101032257,0.016473501920700,0.016911448910832,-0.009565678425133,-0.002403327496722,-0.012144970707595,-0.024726660922170,0.013397771865129,-0.031033700332046,-0.000787570956163,-0.024034669622779,-0.000441353797214,-0.025216016918421,0.020584827288985));
res += mul(Get(s2,-dx,dy), float4x4(0.015186403878033,-0.017589893192053,-0.019253516569734,-0.016280019655824,0.012403995729983,-0.004861697554588,0.007522841915488,-0.015943514183164,0.006552934646606,-0.018798079341650,0.004051969386637,0.009141036309302,-0.001537345699035,-0.018956225365400,0.003445151727647,0.001300822477788));
res += mul(Get(s2,0,-dy), float4x4(0.033585488796234,-0.029215427115560,0.011065542697906,0.019545739516616,0.001091159181669,0.007266494445503,-0.023260248824954,0.003235111013055,0.006206741556525,0.012525260448456,0.013727135956287,-0.007579757831991,-0.035295482724905,0.015262174420059,0.000550579454284,0.024336218833923));
res += mul(Get(s2,0,0), float4x4(0.070797085762024,-0.036926709115505,0.005703679751605,-0.020537795498967,0.039296243339777,0.020301453769207,-0.019007749855518,0.031541708856821,0.013666891492903,0.038722816854715,0.031534858047962,0.005173509940505,0.065791599452496,0.017172066494823,-0.013396643102169,-0.017484230920672));
res += mul(Get(s2,0,dy), float4x4(0.083105936646461,-0.021250620484352,-0.026672862470150,0.031921438872814,0.037417002022266,0.002808836754411,0.016120729967952,0.001267617219128,0.004917742684484,-0.017534766346216,0.009032002650201,0.020450334995985,0.005049014929682,0.011666475795209,-0.004962780978531,0.011596002615988));
res += mul(Get(s2,dx,-dy), float4x4(0.004435481503606,-0.031246732920408,0.016796058043838,0.004474598448724,-0.048793230205774,-0.020192138850689,0.032095976173878,-0.006219706032425,-0.006579542998224,0.027854805812240,0.013762912712991,0.031207181513309,-0.037148386240005,0.010018309578300,-0.002021487802267,0.014314075931907));
res += mul(Get(s2,dx,0), float4x4(0.014172009192407,-0.022816220298409,0.009578248485923,-0.019896402955055,0.015507665462792,-0.008518015965819,0.015219950117171,0.013299322687089,-0.017424315214157,-0.002106243977323,0.010887680575252,0.027118865400553,0.044215001165867,-0.015314528718591,0.014847639948130,0.031541105359793));
res += mul(Get(s2,dx,dy), float4x4(-0.050573542714119,0.000280685548205,-0.003511776216328,0.029769565910101,0.020434986799955,-0.015740331262350,0.021709641441703,0.010396209545434,-0.012697433121502,0.060454107820988,-0.007252668030560,0.029867528006434,-0.010442527011037,-0.015718529000878,-0.006092517171055,0.030269030481577));
res += mul(Get(s3,-dx,-dy), float4x4(0.004855159204453,-0.003565693739802,0.006995710544288,-0.018160443753004,0.005223764572293,-0.036350741982460,0.002466164529324,-0.012106000445783,0.017874816432595,-0.023813832551241,-0.024428676813841,-0.008065824396908,-0.004114878829569,0.002517154440284,-0.019463634118438,0.010133308358490));
res += mul(Get(s3,-dx,0), float4x4(0.000931485905312,-0.010838597081602,-0.008098238147795,-0.015803506597877,-0.013303411193192,-0.018830897286534,-0.006851355545223,-0.005136098247021,-0.029348252341151,0.015636414289474,0.045167114585638,-0.011391233652830,0.004242890980095,-0.010594699531794,0.036945201456547,-0.015887305140495));
res += mul(Get(s3,-dx,dy), float4x4(0.019048755988479,0.008051094599068,-0.017444815486670,-0.000906706030946,0.011597967706621,0.010502247139812,-0.020571280270815,0.010744067840278,0.003192839678377,-0.010564122349024,0.015407033264637,-0.006674712523818,-0.000100196419226,0.029092598706484,-0.024696705862880,-0.009638352319598));
res += mul(Get(s3,0,-dy), float4x4(-0.011788696050644,-0.008292701095343,0.012705042958260,-0.038176577538252,0.004982666112483,-0.020653523504734,0.012791559100151,0.004826300311834,-0.014613021165133,-0.013451399281621,-0.007106292992830,-0.010634824633598,-0.003001532983035,0.003436704399064,-0.000784196658060,0.003168809460476));
res += mul(Get(s3,0,0), float4x4(-0.030788537114859,0.022973328828812,0.012486161664128,0.012415156699717,0.013770411722362,0.005125518422574,0.007250777445734,-0.005056732334197,-0.003160913474858,-0.008819403126836,-0.001782126608305,0.010137813165784,-0.002643459243700,0.028636073693633,0.020484874024987,0.007007597479969));
res += mul(Get(s3,0,dy), float4x4(-0.003001983044669,0.006885251961648,0.003129584947601,0.025258691981435,-0.008503070101142,-0.010597412474453,-0.007839097641408,0.001357792294584,0.003276735544205,0.020209552720189,-0.014336067251861,-0.019180815666914,0.034273408353329,0.019810605794191,-0.026906585320830,-0.022190907970071));
res += mul(Get(s3,dx,-dy), float4x4(0.025414118543267,0.033614031970501,-0.029756588861346,-0.000165135395946,0.046079032123089,-0.034773118793964,0.001090981531888,-0.010343466885388,0.030876321718097,-0.023056538775563,-0.010599486529827,0.001687977230176,-0.026523921638727,0.013696794398129,0.004276684951037,0.006277473177761));
res += mul(Get(s3,dx,0), float4x4(0.016948349773884,-0.009512172080576,0.017593199387193,0.031271677464247,0.052991438657045,0.008848184719682,-0.014228771440685,-0.022590423002839,-0.002736012684181,0.035682804882526,-0.034027148038149,-0.014893378131092,0.019607238471508,0.034113034605980,0.005901196971536,-0.012508614920080));
res += mul(Get(s3,dx,dy), float4x4(-0.001054522930644,-0.010126052424312,-0.000603685912210,0.000367039494449,-0.002299907617271,0.010469332337379,0.018548807129264,0.021793281659484,-0.001825793879107,0.013180396519601,0.005367972422391,-0.026416324079037,-0.016198236495256,0.013618031516671,-0.002836705418304,-0.011291570030153));
return max(float4(0,0,0,0), res);
}
