sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.012015308253467,-0.003429610980675,-0.015798501670361,-0.032296776771545,0.001910492544994,-0.008307571522892,0.007434683851898,0.001283152494580,-0.032702710479498,0.007883481681347,0.036747619509697,-0.036258112639189,-0.009223337285221,-0.008707493543625,-0.003291863948107,0.000774921558332));
res += mul(Get(s0,-dx,0), float4x4(0.008220789022744,-0.004203897435218,0.000193058484001,0.008198924362659,-0.014679799787700,0.013538543134928,0.011424900032580,-0.000832534977235,0.122366175055504,0.049086831510067,0.023806801065803,0.011069948785007,-0.001799128367566,0.006937876809388,0.009882087819278,0.011572137475014));
res += mul(Get(s0,-dx,dy), float4x4(0.012229798361659,0.000040548711695,0.006120490841568,-0.034868415445089,0.052557948976755,-0.003811998292804,0.023368930444121,-0.009807057678699,0.027773031964898,0.032656978815794,-0.038883041590452,0.016801983118057,-0.020821265876293,-0.027729665860534,0.022036479786038,-0.019273361191154));
res += mul(Get(s0,0,-dy), float4x4(-0.020351041108370,-0.006995730102062,-0.003571833716705,-0.020015584304929,-0.033095937222242,-0.000584966444876,0.006751023698598,0.030225550755858,-0.016593243926764,0.045396376401186,-0.032383494079113,0.000517758540809,-0.043291427195072,0.003554980736226,-0.021826835349202,-0.004983289632946));
res += mul(Get(s0,0,0), float4x4(-0.009477515704930,-0.011935300193727,0.010177028365433,0.001614304841496,-0.024437531828880,0.020156819373369,0.030125921592116,-0.000042721079808,0.174586862325668,0.048085693269968,0.037793640047312,0.011226580478251,0.003835052950308,0.015087730251253,-0.022281151264906,0.009927984327078));
res += mul(Get(s0,0,dy), float4x4(-0.000406531209592,-0.024347724393010,0.011018547229469,0.010657949373126,0.078098461031914,-0.009316348470747,-0.005275411065668,-0.018025254830718,0.031870789825916,-0.043423242866993,0.034714244306087,-0.007851450704038,-0.001691832905635,-0.007690074853599,-0.008129251189530,0.011974587105215));
res += mul(Get(s0,dx,-dy), float4x4(0.021403059363365,0.000696778821293,0.012557328678668,-0.002944793784991,-0.030511891469359,0.029930796474218,0.006592119578272,-0.013838189654052,0.059853963553905,0.084907069802284,-0.064307063817978,-0.053626447916031,0.001017896807753,-0.008208174258471,0.017493614926934,0.032338742166758));
res += mul(Get(s0,dx,0), float4x4(0.011903999373317,0.025505309924483,0.012426984496415,-0.031383916735649,0.005668551661074,0.064493671059608,-0.030728586018085,-0.002605768619105,0.099180348217487,-0.032750833779573,0.153974533081055,-0.026308465749025,-0.024183539673686,-0.007946147583425,-0.006619661580771,-0.008593583479524));
res += mul(Get(s0,dx,dy), float4x4(-0.009942954406142,0.047674413770437,0.025066923350096,0.023085989058018,0.078520581126213,0.025398323312402,0.062056798487902,0.033027585595846,-0.078032582998276,-0.046506676822901,0.043640781193972,-0.019008507952094,0.003817536635324,0.001421106397174,-0.002028329297900,0.003532352391630));
res += mul(Get(s1,-dx,-dy), float4x4(-0.007426653988659,0.033492684364319,0.005614542867988,0.004666434135288,0.030410632491112,-0.003300726879388,-0.018534805625677,0.008882241323590,-0.000553053745534,-0.017247110605240,0.015017897821963,0.004808559082448,0.010792867280543,-0.025608422234654,0.029740134254098,-0.018674762919545));
res += mul(Get(s1,-dx,0), float4x4(-0.005516642238945,-0.013062280602753,0.012066946364939,-0.021401356905699,0.017575833946466,0.003165618516505,0.008954379707575,-0.006776974070817,0.071073688566685,0.061115134507418,-0.063930809497833,0.011718355119228,-0.019143495708704,0.006053546443582,-0.006828434765339,0.017861405387521));
res += mul(Get(s1,-dx,dy), float4x4(0.006742241326720,0.002841664478183,-0.034084841609001,-0.026081092655659,-0.003043095348403,-0.012324503622949,0.015199072659016,-0.007183437701315,0.076853066682816,0.023557960987091,0.007705265190452,0.009006106294692,0.095453143119812,-0.004216621629894,-0.024978028610349,0.010462478734553));
res += mul(Get(s1,0,-dy), float4x4(-0.011114488355815,-0.010610540397465,0.026396706700325,-0.015991032123566,0.027234554290771,0.004006209783256,-0.023624135181308,-0.001521502854303,0.017026104032993,0.034355014562607,-0.026447867974639,-0.011899736709893,0.011238826438785,0.007228341884911,0.091157466173172,0.002940548583865));
res += mul(Get(s1,0,0), float4x4(-0.009722342714667,0.022595925256610,0.001772332354449,0.009479231201112,0.021748546510935,0.031833782792091,0.002029401948676,-0.016360359266400,0.048808529973030,-0.019461004063487,0.060371141880751,-0.003824799321592,0.013507006689906,0.035524018108845,0.086536400020123,-0.023006759583950));
res += mul(Get(s1,0,dy), float4x4(-0.003890917170793,0.037850279361010,-0.004837756045163,0.028365228325129,0.021138617768884,-0.017737479880452,-0.013347630389035,-0.049789287149906,-0.001595886191353,-0.074230633676052,0.108194909989834,0.000109320913907,0.010882717557251,0.007004759274423,0.148974552750587,-0.004766346886754));
res += mul(Get(s1,dx,-dy), float4x4(0.002111549722031,-0.022075019776821,-0.016388673335314,-0.001986452145502,0.009947067126632,0.006720003671944,0.030163707211614,0.012178762815893,0.057417668402195,0.053399927914143,0.041691683232784,-0.020129857584834,0.098295710980892,0.022615423426032,-0.060667499899864,-0.002373336348683));
res += mul(Get(s1,dx,0), float4x4(-0.038958530873060,-0.007870507426560,0.015132820233703,0.035689394921064,-0.037228833884001,0.004900342319161,0.023201910778880,-0.012815843336284,0.038882907480001,-0.011234001256526,0.077462486922741,0.020685926079750,0.077839113771915,0.061652060598135,-0.070048838853836,-0.015630524605513));
res += mul(Get(s1,dx,dy), float4x4(0.018736211583018,-0.030928146094084,-0.013033500872552,-0.021939659491181,0.028397178277373,0.015624137595296,-0.016964236274362,0.022783396765590,0.003550945548341,0.007393694017082,-0.024989167228341,0.024033799767494,0.078164458274841,0.058398950845003,-0.051639892160892,0.002713521476835));
res += mul(Get(s2,-dx,-dy), float4x4(0.049124658107758,-0.004924201872200,-0.004108328372240,-0.003821646561846,-0.000035634286178,0.026713959872723,-0.000045213080739,0.000753415341023,-0.035603042691946,-0.039047610014677,0.008236139081419,0.003030273830518,-0.001870003412478,0.007101259659976,-0.000164644210599,0.015565354377031));
res += mul(Get(s2,-dx,0), float4x4(0.004378079902381,-0.026618575677276,0.008085968904197,-0.020502625033259,-0.012440786696970,-0.005934594664723,-0.007026354316622,-0.023155244067311,-0.018597798421979,0.037623554468155,0.010513222776353,-0.016829829663038,-0.027429327368736,-0.059534408152103,0.005804052110761,0.003838277654722));
res += mul(Get(s2,-dx,dy), float4x4(0.003443452529609,-0.006780115421861,0.013391595333815,-0.001872384687886,0.002590088173747,0.003006037324667,0.001284240395762,-0.023672742769122,0.024569135159254,-0.008535658940673,0.017202783375978,-0.009569163434207,0.006871438585222,0.007908282801509,0.000639592530206,0.009278635494411));
res += mul(Get(s2,0,-dy), float4x4(0.027080085128546,0.013228252530098,0.109419837594032,-0.001784241525456,0.048753742128611,-0.004046380054206,-0.004730012733489,0.003520747413859,-0.040632713586092,-0.002643947023898,-0.012292218394578,-0.008468968793750,-0.005283505190164,0.004899443127215,-0.037122681736946,-0.016043996438384));
res += mul(Get(s2,0,0), float4x4(-0.083821743726730,-0.017492482438684,0.036950688809156,-0.038411673158407,0.001947957673110,-0.012520335614681,-0.031553264707327,0.022236773744226,0.020789111033082,-0.010360819287598,-0.010243068449199,-0.006619941443205,0.037873763591051,-0.026543034240603,0.002252998063341,0.001742243417539));
res += mul(Get(s2,0,dy), float4x4(-0.028056673705578,0.007964611984789,-0.002870407188311,-0.002352342475206,-0.045716375112534,-0.008313777856529,-0.034914325922728,0.003629256971180,0.011375378817320,0.024385716766119,0.007644856814295,0.023044440895319,-0.018611837178469,-0.004681531339884,-0.003423172980547,0.014549973420799));
res += mul(Get(s2,dx,-dy), float4x4(0.011190888471901,0.043363906443119,0.003465517191216,0.043439157307148,0.014194184914231,-0.028228180482984,-0.014907289296389,0.014003197662532,-0.014193356968462,-0.000502849987242,0.000598851067480,-0.025131246075034,0.003078247886151,-0.010972169227898,-0.024940071627498,-0.022571742534637));
res += mul(Get(s2,dx,0), float4x4(0.025113809853792,0.020099829882383,-0.054085236042738,-0.040077816694975,0.010394347831607,0.011433096602559,0.043210331350565,-0.038251794874668,-0.019896257668734,0.027158925309777,-0.016404654830694,-0.005526867229491,0.030665356665850,-0.003221684833989,0.045814674347639,-0.018787210807204));
res += mul(Get(s2,dx,dy), float4x4(0.043181858956814,0.043035183101892,-0.026505885645747,0.008689666166902,0.013277195394039,-0.009171435609460,-0.022447464987636,-0.035636153072119,0.005342999473214,-0.017184767872095,-0.042949687689543,-0.006520272698253,-0.038690630346537,-0.009617344476283,-0.020595466718078,0.020605668425560));
res += mul(Get(s3,-dx,-dy), float4x4(-0.038080096244812,-0.030032290145755,-0.016556560993195,0.017104011029005,-0.014378149993718,0.001066062832251,-0.017228106036782,0.007713808678091,0.006361523177475,0.023885376751423,0.003155702957883,-0.016824034973979,-0.002372351940721,0.010663792490959,0.032197684049606,-0.013448502868414));
res += mul(Get(s3,-dx,0), float4x4(-0.008740028366446,0.002269781427458,-0.002204483374953,0.000071686125011,0.014668283052742,0.026275159791112,-0.016725426539779,-0.006369349546731,0.006525672040880,-0.032096270471811,-0.028381658717990,-0.019663795828819,0.032270707190037,0.023438375443220,-0.022200752049685,0.026913948357105));
res += mul(Get(s3,-dx,dy), float4x4(0.003822223516181,-0.039643090218306,-0.004444804973900,0.032499711960554,0.006156411487609,-0.007009395863861,-0.015176156535745,-0.038998890668154,0.011349966749549,-0.009111114777625,-0.004470637533814,-0.000437194976257,0.003716858569533,-0.026206098496914,-0.003543419530615,-0.002326134592295));
res += mul(Get(s3,0,-dy), float4x4(-0.005208835471421,0.016467886045575,0.031061027199030,0.013101586140692,0.010898650623858,-0.014355176128447,-0.029788756743073,0.012392019852996,-0.039023146033287,-0.013722553849220,-0.031389180570841,0.012699528597295,0.000406402919907,-0.011935930699110,0.048179086297750,0.014377345331013));
res += mul(Get(s3,0,0), float4x4(0.017615268006921,-0.003454378806055,0.006450446788222,0.031600497663021,0.045698966830969,0.043073475360870,0.009591429494321,-0.003665347816423,0.002262384165078,0.024056224152446,-0.005408347584307,-0.017099207267165,-0.010150679387152,0.001179997809231,0.005250560585409,-0.001797839766368));
res += mul(Get(s3,0,dy), float4x4(-0.008732370100915,-0.005683944094926,0.015402255579829,-0.008856902830303,0.018162213265896,0.040806248784065,-0.007807313930243,-0.008194968104362,-0.013105534948409,0.006579050328583,-0.019504744559526,-0.026102801784873,0.016941454261541,0.012856042012572,-0.012821793556213,-0.021021105349064));
res += mul(Get(s3,dx,-dy), float4x4(-0.017923098057508,-0.011199969798326,0.008408599533141,0.029465628787875,0.019574047997594,0.035058733075857,0.002382293576375,0.012215062975883,0.002839926863089,-0.017842739820480,-0.015954302623868,-0.002225502626970,-0.004217804875225,0.002631048439071,-0.008209984749556,-0.005713366903365));
res += mul(Get(s3,dx,0), float4x4(-0.016075922176242,-0.012381703592837,0.010894855484366,-0.027997678145766,0.017272911965847,0.034827232360840,-0.020079258829355,-0.017114110291004,0.004799494519830,0.004825215321034,0.009340467862785,-0.004840768873692,-0.003648445243016,-0.019429383799434,0.005702143535018,0.010531544685364));
res += mul(Get(s3,dx,dy), float4x4(-0.018999194726348,-0.003122637281194,-0.008481479249895,0.022062588483095,-0.024055529385805,-0.009743034839630,-0.015373219735920,0.039333801716566,0.008421171456575,0.012208585627377,0.013688893988729,-0.046626321971416,-0.012433758005500,0.018628723919392,0.000778450106736,-0.009423566050828));
return max(float4(0,0,0,0), res);
}
