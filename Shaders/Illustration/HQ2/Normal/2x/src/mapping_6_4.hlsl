sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.002554934704676,0.006017363630235,-0.020289570093155,0.004044747911394,0.029812809079885,-0.022364698350430,-0.017544392496347,0.022404763847589,-0.007648572325706,-0.012372594326735,-0.036412723362446,0.009333726018667,-0.004162037279457,-0.010198933072388,0.003225730732083,0.008136375807226));
res += mul(Get(s0,-dx,0), float4x4(0.006047404836863,-0.011863819323480,0.018172353506088,-0.002152802888304,0.057836588472128,0.000191700280993,0.024900749325752,-0.019033009186387,0.011641211807728,0.027980597689748,0.051083430647850,0.023757737129927,-0.006777712609619,0.004099860321730,-0.021796504035592,-0.021957112476230));
res += mul(Get(s0,-dx,dy), float4x4(-0.015361784957349,0.025915486738086,-0.004741637501866,0.008706999942660,-0.025621706619859,0.005464143585414,0.059258773922920,0.022881601005793,0.017271306365728,0.018939957022667,0.007465507835150,-0.003659253474325,-0.046361293643713,0.023934943601489,0.005117870401591,-0.034635823220015));
res += mul(Get(s0,0,-dy), float4x4(-0.028058957308531,-0.029903845861554,0.031073765829206,-0.007758372463286,0.030012404546142,0.011270973831415,-0.042924098670483,0.017930595204234,-0.001375251682475,0.009174790233374,-0.083556845784187,-0.029869314283133,-0.002660891972482,0.001536474912427,-0.008199289441109,-0.031446088105440));
res += mul(Get(s0,0,0), float4x4(-0.006288021337241,-0.008217740803957,0.043910957872868,-0.032377600669861,0.009265237487853,-0.011852381750941,-0.026966856792569,-0.007866756059229,0.014491608366370,-0.003089618403465,0.117496319115162,-0.013486688025296,0.004303829744458,0.004979685880244,-0.000479981274111,-0.009712824597955));
res += mul(Get(s0,0,dy), float4x4(-0.027022231370211,-0.025233391672373,-0.013019440695643,0.039860341697931,-0.031915578991175,-0.034246295690536,0.053387660533190,-0.011695772409439,-0.010596284642816,-0.008021493442357,0.033846165984869,-0.008565047755837,-0.010209136642516,0.004943559411913,0.002896816702560,-0.027065848931670));
res += mul(Get(s0,dx,-dy), float4x4(0.016068549826741,0.020530428737402,-0.032657343894243,-0.016986105591059,-0.003088581608608,-0.020467419177294,-0.011610245332122,0.010454621165991,0.013967639766634,-0.019351258873940,-0.022948229685426,-0.012012987397611,0.010930984281003,0.009768553078175,0.011736129410565,-0.009526328183711));
res += mul(Get(s0,dx,0), float4x4(0.016576131805778,0.020867038518190,0.007655636407435,0.021205304190516,-0.032242774963379,-0.025364466011524,0.022661337628961,-0.023356197401881,0.025371838361025,-0.042383249849081,0.110726840794086,-0.026171548292041,-0.004680928308517,-0.005146948155016,-0.016558749601245,-0.010802595876157));
res += mul(Get(s0,dx,dy), float4x4(0.020793743431568,0.001329958671704,0.009837656281888,0.015731936320662,0.012358344160020,-0.020288441330194,0.077596150338650,0.007710812147707,0.011543632484972,0.020475674420595,-0.057302411645651,0.009973735548556,0.010541156865656,0.009001675993204,-0.006626031361520,-0.012562280520797));
res += mul(Get(s1,-dx,-dy), float4x4(-0.019534487277269,-0.017005005851388,-0.016587376594543,0.003958282992244,0.013527315109968,0.009368319995701,0.003705125767738,0.011534245684743,0.007567085791379,-0.018824473023415,-0.023782692849636,-0.043323423713446,-0.023924872279167,0.007007290609181,0.049138717353344,0.008279879577458));
res += mul(Get(s1,-dx,0), float4x4(-0.006961952429265,-0.040841151028872,-0.019838694483042,0.033806499093771,-0.003457951359451,-0.013888285495341,-0.011037382297218,0.008363671600819,-0.018408225849271,-0.023451237007976,0.049357999116182,-0.007885025814176,0.015568979084492,-0.011923758313060,0.025461647659540,-0.021297516301274));
res += mul(Get(s1,-dx,dy), float4x4(0.017618019133806,-0.025231698527932,0.009779793210328,-0.023613376542926,0.013274925760925,0.005474930163473,0.019902698695660,-0.003616678994149,-0.035075232386589,0.017337158322334,0.075469896197319,-0.008568891324103,-0.031686481088400,-0.020137336105108,0.064528986811638,-0.018118543550372));
res += mul(Get(s1,0,-dy), float4x4(0.018704563379288,-0.007611738983542,-0.006603875197470,0.021534040570259,0.021565634757280,-0.027030255645514,0.000565366703086,-0.017601585015655,0.005319309420884,-0.026925511658192,-0.042573455721140,0.004367880057544,0.010629962198436,0.010988362133503,-0.066869102418423,0.000537066196557));
res += mul(Get(s1,0,0), float4x4(0.013481676578522,-0.010939355939627,0.012592751532793,0.001877399859950,-0.011458965018392,-0.018865272402763,0.037538144737482,0.060972660779953,-0.022824009880424,0.014534054324031,0.052728600800037,-0.009635552763939,-0.009671579115093,-0.010987366549671,-0.045572929084301,0.004468472674489));
res += mul(Get(s1,0,dy), float4x4(-0.016307819634676,0.034843448549509,-0.009300281293690,0.010750093497336,0.017333690077066,-0.004441302735358,-0.021340526640415,-0.003186190966517,-0.010982356034219,-0.002434172434732,-0.035891853272915,-0.010948946699500,-0.010274326428771,-0.000152906606672,-0.026935756206512,0.018066596239805));
res += mul(Get(s1,dx,-dy), float4x4(0.015252958983183,0.000479886424728,0.007236382458359,0.017817083746195,-0.019744904711843,0.010209158062935,0.013079714961350,0.011275975964963,-0.000322040606989,0.000898476864677,-0.002920066006482,-0.013012855313718,-0.022290755063295,0.002527188276872,0.062210891395807,0.015433974564075));
res += mul(Get(s1,dx,0), float4x4(-0.005976574029773,-0.001942838192917,-0.004174313042313,0.024398425593972,-0.020241852849722,-0.025771949440241,0.025984443724155,-0.008879021741450,0.010171015746891,-0.019386479631066,0.054793104529381,-0.017278769984841,-0.037320092320442,-0.005721986293793,0.094330184161663,0.015264671295881));
res += mul(Get(s1,dx,dy), float4x4(0.045057777315378,-0.044748213142157,0.001721984241158,-0.015636906027794,-0.037468452006578,-0.010865270160139,0.036472581326962,-0.031478673219681,-0.021570358425379,-0.001205242588185,-0.032064519822598,-0.022703608497977,-0.046833753585815,0.024655500426888,0.098389185965061,0.013013678602874));
res += mul(Get(s2,-dx,-dy), float4x4(-0.017608299851418,0.009586427360773,0.037359870970249,0.016802599653602,-0.002514124382287,0.019331747666001,0.010883127339184,0.002729814266786,-0.014583650976419,-0.025602059438825,0.019935650750995,0.015330309048295,-0.020193288102746,-0.030610626563430,-0.001804236322641,-0.002055457094684));
res += mul(Get(s2,-dx,0), float4x4(0.012049087323248,-0.030804362148046,-0.002358155790716,0.005994271486998,0.005449804943055,0.016592595726252,-0.022790165618062,0.005653104279190,-0.032176490873098,-0.011422224342823,0.007970936596394,-0.028449958190322,-0.004603251349181,-0.023758389055729,0.031746130436659,-0.002438935916871));
res += mul(Get(s2,-dx,dy), float4x4(-0.011260590516031,0.021845480427146,0.055715683847666,-0.003757246769965,-0.013685781508684,0.008923584595323,-0.023466194048524,-0.034220363944769,-0.024149416014552,-0.008210548199713,0.046309359371662,-0.007948157377541,-0.014509503729641,-0.025687599554658,-0.029550438746810,-0.013496662490070));
res += mul(Get(s2,0,-dy), float4x4(0.024571843445301,-0.023538343608379,0.000472121726489,0.022476380690932,0.004441763274372,0.006449826993048,-0.017209462821484,-0.016332924365997,-0.035912815481424,-0.025793300941586,0.014333844184875,-0.009256958961487,0.014317288063467,-0.007001906167716,-0.007527990266681,0.016952950507402));
res += mul(Get(s2,0,0), float4x4(-0.014955420978367,0.012834549881518,-0.046389542520046,-0.000209195408388,-0.009851530194283,-0.010225638747215,-0.003044707933441,-0.019094996154308,-0.001194385811687,-0.009181506931782,0.026358004659414,-0.017023013904691,-0.016849596053362,-0.005125369410962,0.014715834520757,0.015292399562895));
res += mul(Get(s2,0,dy), float4x4(0.015075999312103,0.007012257352471,-0.040863506495953,0.001378443208523,-0.020757703110576,0.008730784989893,-0.019988117739558,-0.037683598697186,-0.013456771150231,0.015315265394747,0.033022604882717,-0.012349127791822,-0.008847546763718,0.013809183612466,-0.047712698578835,-0.011642435565591));
res += mul(Get(s2,dx,-dy), float4x4(0.007639061193913,-0.021145928651094,0.030595604330301,0.012035475112498,0.019928874447942,-0.004838498774916,0.003945555537939,-0.007687608245760,0.019215319305658,0.000601621519309,0.000526661635377,0.004978756885976,0.020262368023396,-0.020476620644331,0.005076520610601,0.016100361943245));
res += mul(Get(s2,dx,0), float4x4(0.044433262199163,-0.021182250231504,0.022671118378639,-0.022437071427703,-0.002981632249430,0.015160667710006,0.004897458478808,0.001714184531011,0.037605363875628,-0.026172999292612,-0.044081717729568,0.023231742903590,-0.006932714954019,0.011563325300813,0.048651754856110,0.012594175525010));
res += mul(Get(s2,dx,dy), float4x4(-0.019079931080341,-0.000546103052329,0.020265696570277,0.002615105593577,0.022760983556509,-0.004455393645912,0.020137090235949,0.009604474529624,-0.002336866687983,0.053472422063351,0.001226041233167,0.007566922809929,-0.003759148065001,0.004263808950782,-0.007781538646668,-0.025768782943487));
res += mul(Get(s3,-dx,-dy), float4x4(-0.023426136001945,-0.010355676524341,-0.029847230762243,0.025307074189186,0.001638945424929,-0.007578394375741,-0.009391552768648,-0.026281183585525,0.016047695651650,-0.014278670772910,-0.012049085460603,-0.021250111982226,0.007998335175216,0.015106162056327,0.020788311958313,-0.019944367930293));
res += mul(Get(s3,-dx,0), float4x4(-0.003556230105460,-0.005492450669408,0.044738307595253,0.023387271910906,0.014099242165685,-0.005049880128354,0.016667598858476,0.016457853838801,0.019519377499819,0.015513016842306,0.000414279493270,-0.000334225362167,-0.037105400115252,0.012754982337356,0.038746256381273,0.025816773995757));
res += mul(Get(s3,-dx,dy), float4x4(0.005025467835367,-0.016297921538353,-0.013202593661845,0.032931603491306,0.005665168166161,-0.004967323038727,0.029352935031056,0.000971457804553,-0.005145680624992,0.003704045200720,0.033627219498158,0.020856400951743,-0.011242464184761,-0.019811026751995,0.014124085195363,0.004079492297024));
res += mul(Get(s3,0,-dy), float4x4(0.017978316172957,0.001254103030078,-0.033747222274542,-0.033425193279982,0.010854953899980,-0.007170607801527,0.007964692078531,0.003337450791150,0.007697666063905,-0.005551896058023,0.008437652140856,-0.011585446074605,0.000506704149302,0.005334672052413,-0.033341977745295,0.025830158963799));
res += mul(Get(s3,0,0), float4x4(-0.005887529812753,0.013827915303409,0.035461738705635,-0.006204038858414,0.012904270552099,-0.033677197992802,-0.019894704222679,-0.021920690312982,-0.011466334573925,-0.033448286354542,0.023192891851068,-0.007399223744869,-0.030881406739354,0.017308831214905,-0.017025383189321,0.001025227480568));
res += mul(Get(s3,0,dy), float4x4(-0.004218391142786,0.008740661665797,-0.009607901796699,-0.024840209633112,-0.005788654088974,0.031247619539499,0.013867422007024,0.005770291201770,-0.001062575960532,0.015695737674832,0.033265471458435,0.017892094329000,-0.000600345083512,0.003064540214837,-0.015418442897499,0.023628056049347));
res += mul(Get(s3,dx,-dy), float4x4(0.015803545713425,-0.055963087826967,0.006207896862179,0.022873586043715,-0.007556412369013,0.013953281566501,-0.014143003150821,-0.025223348289728,-0.013926846906543,-0.011781704612076,0.005081105977297,-0.014536847360432,0.022407697513700,-0.024980785325170,-0.015084216371179,0.026705309748650));
res += mul(Get(s3,dx,0), float4x4(-0.028957773000002,0.005205751396716,0.007813174277544,0.009753911755979,0.020193068310618,-0.000291269039735,-0.023464882746339,-0.002937134820968,-0.006441257428378,-0.027021843940020,0.008724960498512,0.017738910391927,0.002685228362679,-0.006165408063680,0.042979337275028,0.017750538885593));
res += mul(Get(s3,dx,dy), float4x4(0.029341343790293,-0.018219258636236,-0.030384629964828,0.011789750307798,-0.013559145852923,-0.005027580074966,0.023955360054970,-0.032666321843863,-0.019019102677703,0.005044603720307,-0.011332841590047,-0.000045372915338,-0.023291805759072,0.038167342543602,0.003340765135363,-0.016447763890028));
return max(float4(0,0,0,0), res);
}
