sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.022043116390705,0.018554551526904,-0.038835868239403,-0.012178512290120,0.012780367396772,-0.002917612204328,0.010611742734909,0.014280068688095,0.101336784660816,0.019149435684085,0.022217251360416,0.086180403828621,-0.005036897957325,-0.017244460061193,0.002769153099507,-0.000322509498801));
res += mul(Get(s0,-dx,0), float4x4(0.035940010100603,-0.004052179399878,-0.006053888704628,-0.004122682381421,0.022161560133100,0.028725832700729,-0.030176218599081,-0.007109274156392,0.015868498012424,-0.025708634406328,-0.008982265368104,-0.046112935990095,-0.043153524398804,0.001068396260962,0.009326470084488,-0.017757557332516));
res += mul(Get(s0,-dx,dy), float4x4(-0.023989837616682,-0.003603921737522,0.026107335463166,0.031159378588200,0.002443257952109,0.010056856088340,0.009042187593877,-0.019846368581057,0.083331175148487,0.002450189087540,-0.018837435171008,0.087730616331100,0.011332112364471,-0.030554659664631,0.017532071098685,-0.002281719120219));
res += mul(Get(s0,0,-dy), float4x4(0.007908241823316,0.020931705832481,0.003616992617026,0.007170670665801,-0.041102945804596,0.014001379720867,0.020787829533219,-0.020253889262676,0.012360268272460,-0.043196834623814,0.007761144544929,0.055017959326506,0.032691776752472,-0.015756754204631,0.000136780538014,0.006187262944877));
res += mul(Get(s0,0,0), float4x4(0.000942305719946,0.025552054867148,0.050580110400915,-0.015337313525379,-0.021482586860657,0.025995310395956,-0.011061180382967,-0.006388738751411,0.007923201657832,-0.012194827198982,-0.035981781780720,-0.046870745718479,-0.007860668003559,0.007023427635431,-0.001303767319769,-0.021340867504478));
res += mul(Get(s0,0,dy), float4x4(0.023177454248071,-0.036612581461668,0.013106553815305,-0.006971887778491,0.020202571526170,-0.007267300039530,0.023872509598732,0.023227157071233,0.098391398787498,-0.033669270575047,-0.014905473217368,0.113962695002556,0.005783553235233,-0.009856885299087,-0.019569328054786,-0.012686830945313));
res += mul(Get(s0,dx,-dy), float4x4(0.021344749256968,-0.032567061483860,0.013102075085044,0.045498542487621,0.004005340859294,-0.009517171420157,-0.005466163158417,-0.021908482536674,-0.018324218690395,-0.014299679547548,0.027585808187723,-0.008701561018825,-0.003384714247659,-0.004029344301671,0.006456275470555,0.007047115359455));
res += mul(Get(s0,dx,0), float4x4(-0.003067078301683,0.013060556724668,-0.000157931935973,0.001659710658714,0.010997548699379,-0.008990866132081,-0.017022399231791,-0.013844775035977,0.081527687609196,0.004117755219340,0.003224604297429,0.026348737999797,0.018057290464640,-0.026695156469941,0.028688261285424,0.028293957933784));
res += mul(Get(s0,dx,dy), float4x4(0.014427374117076,0.015991255640984,-0.009106470271945,0.010971166193485,0.001483713975176,-0.005982318893075,0.009593936614692,0.002370886737481,0.071818590164185,0.021682556718588,-0.024075904861093,0.059895262122154,-0.031379558146000,-0.001826805877499,-0.002669542795047,0.021540800109506));
res += mul(Get(s1,-dx,-dy), float4x4(-0.025132462382317,-0.014543924480677,0.012513437308371,-0.017231658101082,0.020020114257932,0.005337653215975,-0.010569505393505,-0.035309813916683,-0.007012011017650,0.006007652729750,0.013272969052196,0.019845068454742,0.048109456896782,0.012084588408470,0.014070708304644,0.064063541591167));
res += mul(Get(s1,-dx,0), float4x4(-0.065454684197903,-0.016841635107994,-0.011341452598572,-0.071867570281029,-0.009392807260156,0.003115459112450,0.022751366719604,-0.027528505772352,0.019489435479045,-0.013891128823161,-0.019906697794795,0.022266719490290,0.036655481904745,-0.016587894409895,0.034504290670156,0.005594771355391));
res += mul(Get(s1,-dx,dy), float4x4(-0.014017667621374,-0.006065398454666,0.019881036132574,0.072170846164227,-0.010688574053347,-0.014209252782166,0.011240976862609,-0.013553994707763,0.006716628093272,-0.020355958491564,0.009698750451207,0.018235415220261,0.010267905890942,0.007118416950107,-0.000305460474920,-0.052578009665012));
res += mul(Get(s1,0,-dy), float4x4(0.023709056898952,0.011834681965411,0.007467754185200,-0.008966867811978,0.010882305912673,-0.013384829275310,0.017332803457975,-0.025355201214552,0.060587290674448,0.011091643013060,-0.036394968628883,0.053073994815350,-0.042763136327267,0.005862650461495,0.010496896691620,0.040005329996347));
res += mul(Get(s1,0,0), float4x4(0.068438112735748,0.010521154850721,0.009058006107807,0.033787690103054,0.012454682029784,0.003771299030632,0.001140088774264,-0.032811015844345,0.047897506505251,0.004974096547812,-0.021084738895297,-0.004172625020146,-0.050495523959398,-0.013028237968683,-0.006331384647638,-0.024047143757343));
res += mul(Get(s1,0,dy), float4x4(0.057764329016209,-0.033511277288198,-0.018731394782662,0.047334026545286,-0.023693073540926,-0.011117544956505,0.001115403720178,-0.001372713013552,0.024004645645618,-0.003736596088856,0.013307960703969,0.024728914722800,-0.010172988288105,-0.019116990268230,-0.000431134132668,-0.018583511933684));
res += mul(Get(s1,dx,-dy), float4x4(0.036728750914335,-0.023915207013488,0.008760728873312,0.021602941676974,-0.002726502250880,-0.004499590955675,-0.009381863288581,0.003245062194765,-0.040115758776665,0.018160693347454,0.010033118538558,-0.007678247522563,0.023982726037502,-0.020774938166142,-0.047929063439369,-0.022217227146029));
res += mul(Get(s1,dx,0), float4x4(0.032251499593258,-0.025864964351058,0.028552893549204,0.059553865343332,0.019290709868073,-0.010551301762462,0.003666529431939,-0.015106081962585,-0.005442250985652,0.026362966746092,-0.039855405688286,0.014762893319130,0.098044455051422,0.000847001792863,0.005538119468838,0.022187964990735));
res += mul(Get(s1,dx,dy), float4x4(-0.024544080719352,-0.041194185614586,0.015241221524775,-0.058559622615576,0.009916698560119,-0.025568287819624,0.023512650281191,-0.023994132876396,0.000775477092247,-0.012565750628710,0.007324778474867,-0.012168243527412,0.065236195921898,-0.017290541902184,-0.003837658325210,0.053022101521492));
res += mul(Get(s2,-dx,-dy), float4x4(-0.003374593798071,0.014417827129364,-0.012682544067502,-0.016589863225818,0.006311947014183,0.002690839115530,0.009222359396517,-0.005050213076174,-0.008667912334204,0.010178737342358,-0.010043778456748,0.008578266948462,0.032453604042530,-0.005572489928454,0.036215156316757,0.044291760772467));
res += mul(Get(s2,-dx,0), float4x4(-0.016743142157793,0.031756792217493,-0.012131093069911,-0.025363244116306,0.024262610822916,0.008868858218193,0.004370108246803,0.019309213384986,0.000283728702925,-0.037043284624815,0.040719985961914,-0.014190648682415,-0.040379952639341,-0.004646370187402,0.032735191285610,-0.062495686113834));
res += mul(Get(s2,-dx,dy), float4x4(0.005355685018003,0.002063702791929,0.031507045030594,-0.020781230181456,0.003923538140953,0.010278934612870,-0.047416727989912,-0.004831967409700,-0.004239106550813,0.016925901174545,0.005306619219482,-0.000775770982727,-0.007970615290105,0.010083003900945,-0.012279651127756,0.023770628497005));
res += mul(Get(s2,0,-dy), float4x4(0.036594539880753,-0.000062935876485,0.013790857978165,0.005500776693225,-0.045135047286749,-0.000062408653321,-0.012525921687484,0.007069366052747,-0.009437091648579,0.024673141539097,0.025970973074436,0.032327208667994,0.031639032065868,0.018552646040916,-0.005287754349411,0.012995970435441));
res += mul(Get(s2,0,0), float4x4(0.021582685410976,-0.001323876087554,-0.014103136956692,0.021959679201245,0.023603506386280,0.004181750118732,-0.008119381032884,0.033997930586338,0.011535607278347,-0.028066251426935,0.009600562974811,-0.008444734849036,0.012225223705173,0.002279496984556,-0.027997041121125,-0.034477621316910));
res += mul(Get(s2,0,dy), float4x4(0.042590919882059,0.000540099805221,0.026158537715673,-0.003595534944907,0.019181428477168,0.006823140662163,0.009526966139674,-0.022131236270070,-0.014045627787709,0.005906306207180,-0.010353250429034,0.001589191844687,0.010869299061596,-0.004070901311934,-0.004691112786531,0.014396003447473));
res += mul(Get(s2,dx,-dy), float4x4(0.010338261723518,-0.012523805722594,0.008606576360762,0.006043258123100,-0.016125295311213,0.013447077013552,0.021248523145914,-0.018627680838108,0.030864391475916,-0.017239389941096,0.000498776556924,-0.007702237460762,-0.005006487015635,0.017853105440736,-0.039256352931261,0.021919200196862));
res += mul(Get(s2,dx,0), float4x4(0.001082057249732,0.000339212041581,0.011852411553264,0.013953763060272,0.022843897342682,-0.001646172720939,-0.003064206102863,0.017235716804862,-0.027863560244441,-0.016427244991064,0.015436628833413,-0.025244140997529,0.016075896099210,0.017852714285254,0.008064940571785,0.015589085407555));
res += mul(Get(s2,dx,dy), float4x4(-0.006788831669837,0.004818059969693,0.014839843846858,-0.014675199985504,0.003888014238328,-0.016440862789750,-0.015162353403866,0.002574620768428,0.002075723372400,-0.003776475321501,-0.005850431509316,0.030572839081287,0.014959744177759,-0.029624493792653,0.005583157297224,0.029908513650298));
res += mul(Get(s3,-dx,-dy), float4x4(0.052940342575312,0.004272616468370,-0.044181708246469,0.029527692124248,-0.001220356207341,-0.013119034469128,-0.002373572904617,-0.013237488456070,0.016754630953074,-0.001429260009900,-0.002620461164042,-0.030904127284884,0.006339313462377,-0.004085186403245,-0.002469722181559,0.030022619292140));
res += mul(Get(s3,-dx,0), float4x4(0.083329133689404,-0.037189476191998,0.019541030749679,0.041666388511658,0.053634043782949,0.012777581810951,0.007802387233824,0.034396465867758,0.017184427008033,-0.014594054780900,-0.010834154672921,0.016028594225645,0.024415999650955,-0.025949532166123,0.008715498261154,0.025059491395950));
res += mul(Get(s3,-dx,dy), float4x4(0.007382243871689,0.001561392797157,-0.029923440888524,-0.001575664500706,0.001674704253674,-0.033141486346722,0.019055763259530,-0.030329296365380,0.059324458241463,0.023998972028494,0.008767806924880,0.051270086318254,-0.021190192550421,0.008432237431407,0.017717326059937,-0.024784035980701));
res += mul(Get(s3,0,-dy), float4x4(-0.057841252535582,-0.005917287897319,0.019690182060003,-0.011464124545455,0.052366796880960,0.009370221756399,0.008361468091607,0.037854671478271,0.056940075010061,-0.011946788989007,-0.004265812225640,-0.023952040821314,-0.007624946534634,-0.003689122153446,-0.009283311665058,-0.010138791985810));
res += mul(Get(s3,0,0), float4x4(-0.020499637350440,-0.031447160989046,0.009342312812805,-0.003840446937829,0.056425765156746,-0.023654676973820,0.011634957976639,0.021552193909883,0.054431028664112,0.015342109836638,0.020579975098372,0.070485927164555,-0.022887790575624,-0.015487781725824,0.004508405923843,-0.017404023557901));
res += mul(Get(s3,0,dy), float4x4(0.006450904533267,-0.000502414477523,-0.017081379890442,0.063589766621590,-0.009785340167582,-0.013620593585074,0.002336668549106,0.000041021532525,0.063373714685440,-0.006869301199913,0.018462367355824,0.032017938792706,-0.006835867650807,-0.005476220976561,0.008817547000945,-0.000360587640898));
res += mul(Get(s3,dx,-dy), float4x4(0.013260023668408,0.016670502722263,0.005501399748027,-0.017500646412373,-0.027524016797543,0.005423894617707,-0.027385143563151,-0.009402215480804,-0.025229953229427,0.023888746276498,0.000341347127687,0.022491173818707,-0.016939684748650,0.018011672422290,0.009054404683411,-0.010878407396376));
res += mul(Get(s3,dx,0), float4x4(-0.006222568452358,0.015096521936357,0.022775106132030,0.033604640513659,-0.063111387193203,-0.029486503452063,-0.000492056773510,-0.027988914400339,-0.065082848072052,-0.030841274186969,0.019151780754328,0.020629923790693,0.015494291670620,0.017485598102212,0.021965797990561,-0.005269334185869));
res += mul(Get(s3,dx,dy), float4x4(0.033827491104603,0.006840320769697,0.007247971370816,-0.017971277236938,0.010133739560843,-0.028288884088397,0.004467817023396,-0.010708527639508,-0.079176060855389,-0.014051639474928,-0.005779284518212,0.012700974941254,0.014713509939611,-0.002969717141241,0.000768236175645,-0.019290545955300));
return max(float4(0,0,0,0), res);
}
