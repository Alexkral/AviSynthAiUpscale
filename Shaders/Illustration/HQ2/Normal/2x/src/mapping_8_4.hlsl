sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.008253154344857,-0.012986205518246,0.020001225173473,-0.003504620399326,0.002667150460184,-0.012550874613225,0.016423147171736,-0.014107311144471,0.038681302219629,-0.008188391104341,0.022507578134537,0.015113171190023,0.013910826295614,0.023137992247939,-0.005077226553112,-0.000919920916203));
res += mul(Get(s0,-dx,0), float4x4(0.025174982845783,-0.000045873730414,-0.020806895568967,-0.005172428674996,0.019531244412065,0.004237097222358,-0.002908638445660,0.015637496486306,0.007438508793712,-0.002281859982759,-0.071658432483673,-0.022597404196858,-0.037144627422094,-0.016047837212682,-0.014878459274769,0.012314126826823));
res += mul(Get(s0,-dx,dy), float4x4(-0.008622542023659,0.022172499448061,0.038258045911789,-0.024024629965425,0.017466623336077,-0.002017532475293,0.030538605526090,0.011251069605350,-0.035857740789652,0.026240246370435,-0.023625137284398,-0.025034245103598,-0.012928354553878,-0.000010752511116,0.052758131176233,-0.036286417394876));
res += mul(Get(s0,0,-dy), float4x4(0.005700205918401,-0.002657206729054,-0.001713253208436,0.016830176115036,0.017551492899656,-0.025743985548615,-0.041663482785225,0.014835123904049,0.021295832470059,-0.035156693309546,0.031443048268557,-0.001286540064029,0.006463322322816,0.021598825231194,0.002741941250861,0.000869542302098));
res += mul(Get(s0,0,0), float4x4(0.001342137227766,-0.004952064249665,0.017143746837974,-0.020433967933059,-0.013310597278178,-0.003385511692613,0.042235746979713,-0.017851099371910,0.002601028652862,-0.002944762352854,0.004406121559441,-0.007703683339059,-0.003698685206473,0.001503475126810,0.004924875218421,-0.009320744313300));
res += mul(Get(s0,0,dy), float4x4(0.009734215214849,0.006752764340490,0.020372681319714,0.013692728243768,0.005083251744509,0.014527441002429,-0.006630760151893,0.004116018302739,-0.018642155453563,0.014058998785913,0.031586155295372,0.029986208304763,0.068780563771725,0.011918342672288,0.028623454272747,0.016387261450291));
res += mul(Get(s0,dx,-dy), float4x4(-0.020143376663327,0.007279073353857,0.033462222665548,-0.027502868324518,0.032364610582590,-0.020274266600609,-0.041364897042513,0.007733190897852,0.021241318434477,0.017444916069508,0.027840612456203,0.029164137318730,0.024097945541143,0.004228080622852,0.033100940287113,-0.036463063210249));
res += mul(Get(s0,dx,0), float4x4(0.019391933456063,-0.029551271349192,-0.022932931780815,-0.007641008123755,0.011691460385919,0.006677858531475,0.012743332423270,-0.007693110033870,0.015844834968448,0.026424460113049,-0.043733585625887,-0.013184191659093,-0.000271911063464,-0.018320407718420,-0.045867606997490,0.000973380985670));
res += mul(Get(s0,dx,dy), float4x4(0.022901955991983,-0.002974692033604,-0.056327611207962,-0.002444141078740,-0.011914101429284,0.011385820806026,-0.030428711324930,0.007261347025633,0.031907301396132,0.027399268001318,0.021450493484735,-0.034033358097076,0.009211612865329,-0.013670630753040,-0.005609596148133,0.010849960148335));
res += mul(Get(s1,-dx,-dy), float4x4(-0.018020385876298,0.009085641242564,-0.001822205143981,0.017266415059566,-0.000912374409381,-0.003614804940298,0.018185464665294,0.033385612070560,-0.024725506082177,-0.021517554298043,-0.007138335611671,0.030398992821574,0.059106893837452,-0.006650814786553,-0.020494882017374,-0.021785076707602));
res += mul(Get(s1,-dx,0), float4x4(0.012435414828360,0.020795343443751,-0.004913343582302,-0.006742777768523,-0.003829082706943,0.017097184434533,-0.044789362698793,0.001684223534539,0.007203314453363,0.000864112807903,0.020580243319273,0.006215411704034,-0.000013887600289,0.019825564697385,-0.093228921294212,-0.003715831553563));
res += mul(Get(s1,-dx,dy), float4x4(0.005351368337870,0.036509271711111,-0.005623250268400,-0.008239376358688,0.064492918550968,0.014220829121768,-0.025158621370792,0.020099276676774,-0.027172494679689,-0.030534397810698,0.025377172976732,-0.027434293180704,-0.031660873442888,0.010525190271437,0.001687870128080,-0.013409021310508));
res += mul(Get(s1,0,-dy), float4x4(0.002291411627084,0.000858475104906,-0.016320293769240,-0.005598012823611,-0.006992181763053,-0.017984747886658,0.048503395169973,-0.042354799807072,-0.015746690332890,-0.018847031518817,-0.013698372989893,0.002982344245538,-0.002401464385912,0.033722940832376,0.088455416262150,-0.034956458956003));
res += mul(Get(s1,0,0), float4x4(0.027154002338648,0.015018473379314,0.000900547369383,0.014292510226369,0.032834820449352,0.007696938235313,-0.017546782270074,0.006725959479809,0.019311157986522,-0.037794452160597,0.017222385853529,0.002498450456187,-0.073205485939980,0.037603314965963,0.057914212346077,-0.003238522214815));
res += mul(Get(s1,0,dy), float4x4(0.020490799099207,0.024850267916918,0.021220343187451,0.011187063530087,-0.007196307182312,-0.013467340730131,0.098730899393559,-0.001612532185391,0.018244940787554,-0.010727806016803,0.003292332636192,0.011863010935485,-0.008533161133528,-0.019703688099980,0.111414559185505,-0.008379387669265));
res += mul(Get(s1,dx,-dy), float4x4(-0.023513479158282,0.004617618862540,0.024149836972356,-0.025555949658155,0.052099701017141,-0.003153658704832,-0.046776413917542,0.021009488031268,0.008060222491622,0.012262213975191,0.001763723092154,0.003048076061532,0.063217833638191,0.000195920787519,0.027588225901127,-0.000531830824912));
res += mul(Get(s1,dx,0), float4x4(-0.016764419153333,-0.020793467760086,-0.012471606954932,-0.047364450991154,0.007651679683477,-0.015064813196659,0.005675117485225,0.007441778667271,-0.012432063929737,-0.001491095754318,-0.007730440236628,0.021145658567548,0.037478610873222,-0.010317668318748,-0.064821332693100,-0.043222431093454));
res += mul(Get(s1,dx,dy), float4x4(0.033391889184713,0.035482268780470,-0.005760601721704,-0.002969235647470,-0.019935555756092,-0.023825265467167,0.047189913690090,-0.009660768322647,0.009777856059372,0.022945415228605,0.003615552093834,-0.007236654870212,0.076669469475746,-0.020820651203394,0.013703551143408,-0.006018660962582));
res += mul(Get(s2,-dx,-dy), float4x4(0.039269778877497,-0.008340148255229,0.041757576167583,0.009277920238674,0.001778822159395,-0.028388381004333,0.065499134361744,-0.027809780091047,-0.006110168993473,-0.009967664256692,0.031629189848900,-0.002657969016582,-0.023659033700824,-0.011242843233049,0.014524579048157,-0.005542090628296));
res += mul(Get(s2,-dx,0), float4x4(-0.000161832111189,0.037923045456409,0.006427736487240,-0.037087939679623,0.126949578523636,-0.028212681412697,0.086646869778633,-0.012788656167686,0.103120408952236,0.009773885831237,0.083833523094654,-0.023563766852021,0.012223958037794,0.019895249977708,0.010848270729184,0.024817630648613));
res += mul(Get(s2,-dx,dy), float4x4(0.012175642885268,-0.005287991371006,-0.002160380128771,-0.010401576757431,0.026809448376298,-0.014616167172790,-0.011159342713654,0.040695115923882,0.031202286481857,-0.019613297656178,-0.046953696757555,0.018253438174725,0.011823154054582,0.002862289315090,-0.009482095018029,0.018502263352275));
res += mul(Get(s2,0,-dy), float4x4(0.010383593849838,-0.005014262627810,0.036736328154802,-0.010942080989480,0.065127417445183,-0.000755097775254,-0.084079064428806,-0.008379825390875,-0.016179028898478,0.023995099589229,-0.085557729005814,-0.034838564693928,-0.003183921333402,-0.013414272107184,-0.000138433169923,-0.010817254893482));
res += mul(Get(s2,0,0), float4x4(0.044531531631947,-0.018210984766483,0.017593342810869,-0.001221056911163,0.047712236642838,-0.017995353788137,-0.020879033952951,0.012117483653128,0.047815676778555,-0.002611133735627,0.025000693276525,-0.001060595037416,-0.042393729090691,0.000906516797841,-0.013938456773758,0.013800429180264));
res += mul(Get(s2,0,dy), float4x4(-0.000676319643389,0.003347455756739,-0.010551090352237,-0.010472406633198,0.005271260626614,-0.003037890419364,-0.072790369391441,-0.021032523363829,-0.011295747011900,0.031165439635515,-0.070481434464455,-0.021441444754601,0.003065841505304,0.003641892457381,0.005935939960182,0.005526705179363));
res += mul(Get(s2,dx,-dy), float4x4(0.014950576238334,0.012919464148581,0.026437530294061,-0.007843834348023,-0.021145509555936,0.012435441836715,0.078578919172287,0.011829906143248,-0.002459640847519,-0.010046929121017,0.032503075897694,0.010082360357046,-0.000566194765270,0.037332236766815,0.014645444229245,-0.014053797349334));
res += mul(Get(s2,dx,0), float4x4(0.057171605527401,-0.003793225390837,0.009737400338054,-0.049340475350618,-0.067377284169197,0.017703732475638,0.112750940024853,0.004567946307361,-0.075079977512360,0.015513547696173,0.141307204961777,-0.004198392853141,-0.031253054738045,-0.006315284408629,-0.011298035271466,0.008456626906991));
res += mul(Get(s2,dx,dy), float4x4(-0.011866753920913,-0.002947253175080,-0.027745874598622,0.005536614451557,0.004289676435292,0.019824877381325,0.023345546796918,-0.009601309895515,-0.019350411370397,-0.014006919227540,0.013888940215111,0.018582642078400,-0.030384024605155,0.001511041889898,-0.063067205250263,0.000402241916163));
res += mul(Get(s3,-dx,-dy), float4x4(0.031973179429770,0.016325898468494,-0.014551101252437,0.011688572354615,0.018279168754816,-0.006515062414110,-0.056252844631672,-0.018610334023833,0.030989933758974,0.010631090961397,0.029915329068899,0.020097034052014,0.048586770892143,-0.022912198677659,0.077889852225780,-0.010565336793661));
res += mul(Get(s3,-dx,0), float4x4(0.018656428903341,-0.007116431836039,-0.004708030726761,-0.028133548796177,0.031520169228315,0.017816532403231,-0.009247705340385,0.031112305819988,0.005156749859452,-0.014869239181280,-0.013029218651354,0.015308423899114,0.086934149265289,0.026324830949306,-0.020405853167176,0.006469421088696));
res += mul(Get(s3,-dx,dy), float4x4(0.039971645921469,-0.017273742705584,0.019387666136026,0.009863140061498,-0.023848403245211,0.031073700636625,0.011627950705588,-0.004607998766005,0.006954066921026,-0.013606358319521,-0.009228274226189,-0.016038946807384,-0.035990003496408,0.051064264029264,0.056932516396046,-0.038118038326502));
res += mul(Get(s3,0,-dy), float4x4(-0.011910934932530,-0.016671409830451,-0.022153215482831,-0.008047598414123,-0.025901751592755,-0.014595552347600,0.047257456928492,-0.009554577060044,0.049565717577934,-0.018902029842138,-0.012183915823698,-0.039279848337173,0.109923429787159,-0.001263686339371,0.019789323210716,-0.032842058688402));
res += mul(Get(s3,0,0), float4x4(-0.017531365156174,-0.009385665878654,-0.005614935886115,0.020385101437569,-0.021893743425608,0.035682737827301,0.058186687529087,0.007206778042018,-0.024851400405169,0.024425888434052,-0.047894861549139,0.007637829054147,-0.086886569857597,0.007969764061272,0.015117757953703,-0.047705024480820));
res += mul(Get(s3,0,dy), float4x4(-0.011915613897145,-0.016977142542601,0.009475084021688,0.002911869203672,0.011740393005311,-0.016283784061670,0.073929399251938,-0.011389847844839,-0.024464014917612,-0.009395821951330,0.002023987704888,0.011233340017498,-0.023900547996163,-0.017911581322551,0.079756386578083,-0.013471666723490));
res += mul(Get(s3,dx,-dy), float4x4(0.038028892129660,0.012976148165762,0.009206754155457,-0.038685262203217,0.018857305869460,-0.022566819563508,-0.043996982276440,0.005326654762030,-0.043415255844593,-0.014122948981822,0.031219674274325,0.011213041841984,-0.039250936359167,0.023491816595197,0.114939466118813,0.025686403736472));
res += mul(Get(s3,dx,0), float4x4(-0.021094465628266,-0.003293104702607,-0.029811907559633,-0.007181928027421,0.064189396798611,0.028598774224520,-0.059920798987150,0.018248794600368,-0.015941616147757,-0.028965028002858,0.028677415102720,-0.002436908660457,-0.001037578680553,-0.034551721066236,-0.007322267163545,-0.027810925617814));
res += mul(Get(s3,dx,dy), float4x4(0.036362428218126,0.015555755235255,-0.001415472477674,0.005707314237952,0.006742097903043,-0.000379102741135,-0.020063497126102,0.000335746211931,0.017573915421963,0.002030166098848,0.038494776934385,-0.008746701292694,0.114369876682758,0.031365904957056,0.010510069318116,0.018758049234748));
return max(float4(0,0,0,0), res);
}
