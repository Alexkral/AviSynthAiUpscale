sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.018106322735548,0.029298150911927,0.009000401943922,0.018707932904363,-0.054602254182100,-0.016809741035104,0.025485806167126,0.005813923198730,-0.003960594534874,-0.025016671046615,0.022559473291039,-0.001824265578762,0.007117628119886,-0.012460702098906,-0.000250844488619,0.041062619537115));
res += mul(Get(s0,-dx,0), float4x4(-0.031181244179606,0.000721843272913,0.033597491681576,0.013522883877158,0.000502830313053,0.039925854653120,0.062387645244598,-0.001278519164771,-0.002334912540391,0.010516894981265,0.018454713746905,0.010547605343163,0.029416605830193,-0.013173380866647,0.014691779389977,0.012419467791915));
res += mul(Get(s0,-dx,dy), float4x4(-0.016348661854863,0.025315409526229,-0.038213957101107,0.015040076337755,0.064580410718918,0.021161358803511,0.013374086469412,0.020013865083456,0.002268946031108,0.024570576846600,-0.012331704609096,-0.032163731753826,0.009564268402755,0.048696357756853,-0.012993413023651,-0.029941869899631));
res += mul(Get(s0,0,-dy), float4x4(-0.033313844352961,-0.024302734062076,0.008541848510504,-0.005935628432781,0.096553884446621,-0.048688791692257,0.053431991487741,-0.000640622107312,0.006405823398381,0.009109879843891,0.015246827155352,-0.000900552375242,0.004329739138484,-0.012917553074658,0.005495572462678,0.008470444940031));
res += mul(Get(s0,0,0), float4x4(-0.002074454445392,0.005423261318356,-0.008848504163325,-0.011253886856139,0.114859178662300,0.006650484167039,0.028856663033366,-0.020509881898761,0.006177847739309,-0.021299112588167,0.019445283338428,-0.019640658050776,0.023604741320014,0.011164532974362,0.018700189888477,-0.005485630594194));
res += mul(Get(s0,0,dy), float4x4(-0.017765756696463,-0.003437100676820,0.022157125174999,-0.000039175381971,0.009904698468745,0.007893471047282,-0.043513610959053,0.017818583175540,0.005517001263797,0.022040110081434,-0.004002299159765,0.004768101498485,0.016980972141027,0.021870903670788,0.003694849787280,-0.017744835466146));
res += mul(Get(s0,dx,-dy), float4x4(0.028847903013229,0.010891938582063,-0.026607058942318,0.045671235769987,-0.031676113605499,0.040233969688416,-0.015025726519525,-0.001000975491479,0.007891927845776,-0.003936124499887,-0.001160892541520,-0.010460386984050,0.008017595857382,-0.041589085012674,0.002018762752414,0.008450806140900));
res += mul(Get(s0,dx,0), float4x4(0.020179409533739,0.005916429683566,-0.011130694299936,0.011309061199427,-0.002941195154563,0.032460618764162,0.005108996760100,-0.004167207516730,0.011992210522294,0.005642501171678,-0.025380099192262,0.015521191060543,0.029538337141275,0.009673766791821,0.013675104826689,-0.009164631366730));
res += mul(Get(s0,dx,dy), float4x4(-0.023002954199910,-0.009272567927837,-0.014647805131972,0.011242829263210,0.001939115230925,0.023702241480350,0.013421096839011,0.010055216029286,-0.013007250614464,0.019577654078603,-0.009175322949886,-0.032189823687077,0.005453447345644,0.032439626753330,-0.001973302802071,-0.028060209006071));
res += mul(Get(s1,-dx,-dy), float4x4(0.046163726598024,0.002780986949801,0.027101419866085,-0.005632803775370,0.000670108187478,0.016957070678473,0.022622236981988,-0.001848739804700,-0.007141062524170,-0.000688288477249,-0.049577891826630,-0.006788633298129,-0.000626768160146,0.016807299107313,0.008069597184658,0.016422897577286));
res += mul(Get(s1,-dx,0), float4x4(0.066726110875607,0.007926538586617,0.028455592691898,0.013299286365509,0.034538164734840,0.013827641494572,0.013214226812124,-0.025829149410129,0.009620594792068,-0.062694661319256,0.004873975645751,0.021826941519976,-0.020479600876570,0.018561528995633,0.030103081837296,-0.011194127611816));
res += mul(Get(s1,-dx,dy), float4x4(0.042869005352259,-0.000830275821500,-0.017432639375329,0.013451498001814,-0.014381956309080,-0.006639343686402,0.022999117150903,0.001590934814885,0.020019672811031,-0.004351413808763,0.037736058235168,0.000241064451984,0.013433653861284,0.035661831498146,0.015006552450359,0.013592191040516));
res += mul(Get(s1,0,-dy), float4x4(-0.055179502815008,0.006887265946716,-0.017650388181210,-0.005952118430287,0.016679335385561,0.007682660128921,-0.046127110719681,0.033508479595184,-0.001894695684314,0.059486158192158,0.018494620919228,-0.019749449566007,-0.012435935437679,-0.012022147886455,0.017403580248356,0.000854553712998));
res += mul(Get(s1,0,0), float4x4(-0.071078456938267,-0.014522965066135,0.020487394183874,-0.012227750383317,0.019366983324289,0.010997558012605,0.033080190420151,-0.028537828475237,0.002255064202473,0.026180407032371,0.049182970076799,0.015609435737133,0.012526496313512,0.002400589641184,-0.013042237609625,-0.003354811808094));
res += mul(Get(s1,0,dy), float4x4(-0.000513293489348,0.050383266061544,0.085784666240215,-0.012222563847899,0.001694976002909,-0.014298400841653,0.001057982095517,-0.032733455300331,0.070023804903030,0.041990011930466,0.011489978060126,-0.014876523055136,0.001605179510079,0.002010147320107,0.001219787169248,0.008908288553357));
res += mul(Get(s1,dx,-dy), float4x4(0.060328561812639,-0.006336514838040,0.019190218299627,-0.005257911980152,0.037955041974783,0.011314205825329,0.030032750219107,-0.025622479617596,0.031427394598722,0.018379325047135,0.050869930535555,-0.002270650817081,0.022213893011212,-0.010889106430113,0.033389292657375,0.015106611885130));
res += mul(Get(s1,dx,0), float4x4(0.064253062009811,0.019458400085568,-0.020399788394570,-0.008702434599400,0.013863687403500,-0.017382012680173,0.022727999836206,-0.030952537432313,0.033297762274742,-0.025910979136825,-0.004783695098013,-0.035588841885328,0.002157488139346,0.007780420128256,-0.032093539834023,0.015256866812706));
res += mul(Get(s1,dx,dy), float4x4(0.054349232465029,-0.013590242713690,0.056040134280920,0.011082233861089,0.013454315252602,0.002950030611828,0.006566219031811,0.019899684935808,-0.025806972756982,0.039026394486427,0.034318849444389,-0.012740299105644,-0.011174703016877,0.024181677028537,0.019080709666014,-0.008763640187681));
res += mul(Get(s2,-dx,-dy), float4x4(0.027871862053871,-0.001133623067290,-0.001858582370915,-0.022403860464692,0.013027934357524,-0.018247967585921,-0.006385131273419,-0.040358144789934,0.002384488470852,0.017760613933206,-0.002619881182909,0.029467593878508,0.009614932350814,-0.019146390259266,0.024408468976617,0.007011157460511));
res += mul(Get(s2,-dx,0), float4x4(-0.016929781064391,-0.002281701192260,-0.021538820117712,-0.009872688911855,0.029544221237302,0.034681178629398,0.045221939682961,-0.038796104490757,-0.005187245085835,-0.032271564006805,0.006179598625749,-0.007613469846547,0.045338917523623,0.008348923176527,-0.004154384601861,0.011700366623700));
res += mul(Get(s2,-dx,dy), float4x4(-0.017499536275864,0.003914947155863,0.034853190183640,-0.017382774502039,0.036674134433270,0.000807685020845,-0.032079223543406,0.001176087185740,-0.014883073046803,-0.001970911864191,0.039098311215639,-0.017212929204106,-0.001618791953661,-0.062489874660969,-0.017549365758896,0.000134877525852));
res += mul(Get(s2,0,-dy), float4x4(0.006627424620092,0.008883525617421,-0.000127807186800,0.002197722904384,0.023916183039546,-0.007939734496176,0.017792597413063,-0.009381826967001,0.020576784387231,0.011189064010978,0.016047688201070,0.013314221985638,-0.025143584236503,0.033354781568050,0.033025152981281,-0.023006780073047));
res += mul(Get(s2,0,0), float4x4(0.023204021155834,0.003583798417822,0.008951014839113,-0.002676788717508,-0.015820473432541,0.015167370438576,-0.013083830475807,0.015726566314697,0.021917017176747,-0.013984283432364,0.010115653276443,0.002312565920874,0.041756581515074,0.013398413546383,0.027300626039505,0.005073248874396));
res += mul(Get(s2,0,dy), float4x4(0.053567729890347,-0.013110217638314,0.007497800979763,0.040623363107443,0.035764217376709,-0.010820126160979,0.005775659345090,-0.032378777861595,0.034263107925653,0.014696601778269,0.047684211283922,0.000779933645390,0.027721691876650,0.013561249710619,0.022395040839911,-0.027388082817197));
res += mul(Get(s2,dx,-dy), float4x4(0.019183766096830,0.012976449914277,-0.001367552787997,-0.012495424598455,0.004116911906749,0.008881489746273,0.000957174052019,-0.016405683010817,-0.014893834479153,0.005894733592868,-0.006066540721804,0.025504207238555,0.032326947897673,-0.044324953109026,0.044695265591145,-0.023070855066180));
res += mul(Get(s2,dx,0), float4x4(0.040475782006979,0.020020857453346,0.026647053658962,0.001630799844861,-0.002426480175927,0.025440014898777,0.004074952099472,0.054027013480663,-0.013138415291905,0.003768699243665,-0.004995810333639,-0.009081962518394,0.066302426159382,0.003517674049363,0.022670906037092,-0.017941413447261));
res += mul(Get(s2,dx,dy), float4x4(0.014872958883643,-0.010691164061427,-0.019837453961372,0.016005050390959,0.040744319558144,0.015566634014249,0.051325775682926,0.015697389841080,0.014974556863308,0.010570637881756,-0.013049092143774,0.012069015763700,-0.021630251780152,-0.004047975875437,0.019863791763783,0.012959432788193));
res += mul(Get(s3,-dx,-dy), float4x4(0.027649531140924,0.001287032733671,-0.022992309182882,-0.005978243425488,-0.016136389225721,0.007164130453020,0.015680655837059,0.007960686460137,0.033669061958790,-0.019581370055676,0.016879037022591,-0.000507779594045,-0.013914192095399,-0.004045914858580,-0.028721330687404,0.011369646526873));
res += mul(Get(s3,-dx,0), float4x4(-0.056780468672514,0.001585151534528,-0.040827713906765,0.040755767375231,-0.030210241675377,0.002868041628972,-0.051820144057274,-0.006072376389056,0.032210875302553,-0.033725567162037,0.048713069409132,0.018591551110148,0.009965970180929,-0.012130589224398,-0.010674176737666,-0.022000581026077));
res += mul(Get(s3,-dx,dy), float4x4(0.059578698128462,-0.003474015509710,0.007330514024943,0.045184779912233,-0.048611618578434,-0.002793864347041,-0.015112436376512,0.026756202802062,0.065375648438931,0.016706481575966,-0.027400309219956,-0.017422856763005,0.029978519305587,0.033648427575827,0.036247186362743,-0.028992967680097));
res += mul(Get(s3,0,-dy), float4x4(0.004807827528566,0.025092324241996,-0.039914119988680,0.000999282579869,-0.025221789255738,-0.012343771755695,-0.037042360752821,0.010295853950083,0.014750165864825,-0.012931033037603,-0.018922926858068,-0.043816022574902,-0.013973021879792,0.034874223172665,-0.031069364398718,-0.028852213174105));
res += mul(Get(s3,0,0), float4x4(0.008766839280725,-0.030642205849290,0.037573829293251,-0.014286273159087,0.007284796796739,-0.012638476677239,0.013507304713130,-0.017140476033092,0.004135446622968,0.013718748465180,-0.001972267869860,0.012644572183490,0.012736646458507,-0.012311285361648,0.003145387396216,0.016640124842525));
res += mul(Get(s3,0,dy), float4x4(0.065724723041058,0.004257972817868,0.006979638710618,-0.015665965154767,0.055759899318218,-0.000753616448492,0.040912259370089,-0.008456265553832,0.016330366954207,0.013157192617655,0.021188752725720,-0.019706685096025,0.017116548493505,0.002838848158717,-0.015027657151222,0.023668499663472));
res += mul(Get(s3,dx,-dy), float4x4(0.052093390375376,0.005591924302280,0.026677936315536,-0.005207758396864,-0.017924472689629,0.027908651158214,-0.001569441170432,-0.031733665615320,0.014972429722548,0.013145769014955,-0.002431209664792,-0.011409225873649,0.010639030486345,-0.040842313319445,-0.016801141202450,0.009443837217987));
res += mul(Get(s3,dx,0), float4x4(0.010980878025293,-0.032695032656193,0.038050051778555,-0.034233339130878,0.031284056603909,-0.020045820623636,-0.011035412549973,0.031321059912443,-0.014996428042650,0.033553604036570,0.015318635851145,-0.015377988107502,-0.009088071994483,-0.013667811639607,-0.007521283812821,0.014678856357932));
res += mul(Get(s3,dx,dy), float4x4(0.002235770924017,0.037356939166784,-0.035512134432793,-0.016910171136260,0.023321351036429,0.006153197959065,0.009016794152558,0.005006245337427,0.055330097675323,0.016422579064965,0.033078722655773,0.000031278301321,0.003271988127381,0.022553144022822,0.021001318469644,-0.005353430751711));
return max(float4(0,0,0,0), res);
}
