sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.006919684819877,-0.000523520866409,-0.006771910935640,0.036576669663191,-0.000752891879529,-0.001751860720105,-0.009211994707584,-0.017103124409914,-0.061208095401525,0.023984447121620,-0.074020519852638,-0.001053196028806,0.037272501736879,0.006290873512626,0.019902901723981,-0.011172938160598));
res += mul(Get(s0,-dx,0), float4x4(0.035238653421402,0.035425696521997,0.021059257909656,-0.005186668597162,-0.000001423332492,0.006988089531660,0.032206416130066,-0.011043912731111,0.115416198968887,-0.019597426056862,0.079031683504581,-0.014317093417048,0.028569342568517,0.010377832688391,-0.012527517043054,0.027697715908289));
res += mul(Get(s0,-dx,dy), float4x4(0.001778360805474,-0.007620178163052,0.004074891563505,0.010130370967090,-0.011126341298223,0.003643508767709,-0.007932995446026,0.023395393043756,0.028544573113322,-0.007637647446245,0.013958488591015,0.015919441357255,0.030724966898561,0.000581682834309,0.006210119929165,0.019029414281249));
res += mul(Get(s0,0,-dy), float4x4(-0.012924993410707,0.020405432209373,0.029955381527543,-0.009515905752778,-0.021935269236565,-0.001520688412711,0.007475351914763,0.025759549811482,0.008094841614366,-0.000866108341143,0.005938282702118,-0.013791625387967,-0.025394933298230,0.007981698028743,-0.037297453731298,0.003716016188264));
res += mul(Get(s0,0,0), float4x4(-0.028476536273956,-0.028722006827593,0.018876863643527,0.044586505740881,-0.013958847150207,0.002030669944361,-0.021692659705877,-0.008074196986854,0.113508537411690,0.030531024560332,0.104538373649120,-0.014611252583563,0.004848344717175,-0.045809008181095,0.006159550044686,0.009984656237066));
res += mul(Get(s0,0,dy), float4x4(-0.026089932769537,0.023147648200393,0.020881321281195,0.001625401433557,-0.004376032389700,0.015465210191905,-0.008441212587059,-0.032524537295103,-0.052334114909172,0.008960056118667,-0.000904310902115,-0.019661027938128,-0.008149803616107,0.015683740377426,0.018438888713717,-0.017110507935286));
res += mul(Get(s0,dx,-dy), float4x4(0.020580401644111,-0.018278393894434,-0.027174703776836,0.001572866225615,-0.003532867180184,-0.016080781817436,-0.031862042844296,0.022045802325010,0.052494231611490,0.002454263158143,-0.009602663107216,-0.037461079657078,-0.012043906375766,0.022992592304945,0.002498698653653,0.010515687055886));
res += mul(Get(s0,dx,0), float4x4(-0.011367836967111,0.015827191993594,-0.027729235589504,0.015215102583170,0.008870412595570,0.004989549983293,0.000145115802297,-0.016579067334533,0.029921259731054,0.019569747149944,0.038266785442829,-0.014303597621620,0.012085688300431,0.009477410465479,-0.032030649483204,0.004897569771856));
res += mul(Get(s0,dx,dy), float4x4(0.018507644534111,0.012735990807414,-0.024526827037334,0.010921601206064,-0.013015507720411,0.022331295534968,-0.003793829353526,0.003641368355602,-0.033248912543058,-0.005871228408068,0.034930951893330,-0.025595484301448,-0.004449054598808,-0.009895140305161,0.027881955727935,0.024446077644825));
res += mul(Get(s1,-dx,-dy), float4x4(0.073096551001072,0.011971684172750,-0.001999517902732,0.028103975579143,0.011077007278800,0.027881585061550,0.007407162804157,-0.017504436895251,-0.010283020325005,0.017867008224130,-0.009855981916189,0.019518190994859,-0.047078143805265,0.019660055637360,-0.005905138328671,0.029478933662176));
res += mul(Get(s1,-dx,0), float4x4(0.076521523296833,-0.010414185933769,0.045867074280977,0.025598695501685,-0.005491190589964,-0.002869022311643,-0.007998087443411,-0.003153740661219,0.003883348079398,-0.017519293352962,-0.011621304787695,-0.012067688629031,-0.049884080886841,-0.020646208897233,-0.039122797548771,-0.009494131430984));
res += mul(Get(s1,-dx,dy), float4x4(-0.021337294951081,0.011223527602851,-0.024579260498285,0.008822091855109,-0.002051231218502,0.004739318974316,-0.012554876506329,0.010752642527223,0.012394790537655,-0.005961417686194,0.038100145757198,-0.015943210572004,0.043467748910189,0.009712707251310,0.078728146851063,0.014379497617483));
res += mul(Get(s1,0,-dy), float4x4(0.021760815754533,-0.021607844159007,-0.000642583938316,0.032855432480574,-0.002430798485875,0.003968044184148,0.026150576770306,0.004390144255012,-0.027518963441253,0.008093516342342,0.016305213794112,-0.011936645023525,0.042106404900551,0.014305843040347,0.042149789631367,0.012783498503268));
res += mul(Get(s1,0,0), float4x4(-0.044833563268185,-0.005425493698567,-0.030278919264674,-0.006297531072050,-0.032119818031788,0.017890375107527,-0.000650688307360,-0.019123600795865,-0.035464759916067,0.001993257319555,0.009447955526412,0.029831387102604,0.066210292279720,0.013954549096525,0.020943038165569,-0.005098079331219));
res += mul(Get(s1,0,dy), float4x4(0.011106648482382,-0.025088861584663,0.000533851387445,0.016777060925961,0.006942785810679,-0.008127028122544,0.004029508680105,-0.000582764856517,0.031892679631710,0.033440802246332,0.040064953267574,0.001639835652895,0.087437689304352,0.034975510090590,0.061651088297367,0.004562854301184));
res += mul(Get(s1,dx,-dy), float4x4(-0.020614201202989,0.026529278606176,-0.012482869438827,-0.003491684794426,-0.014512718655169,0.004479974042624,0.002434903522953,-0.003030683146790,0.034678325057030,0.022574525326490,0.019727732986212,0.033909343183041,-0.005763611290604,-0.008523823693395,0.030672693625093,0.039312712848186));
res += mul(Get(s1,dx,0), float4x4(-0.015205748379230,-0.016323335468769,0.024276737123728,0.031201465055346,-0.005094645544887,0.041779026389122,0.011989016085863,-0.021006083115935,0.051082227379084,-0.009032362140715,0.005045655183494,0.033336360007524,-0.057742040604353,0.037952482700348,-0.054702404886484,-0.002899809740484));
res += mul(Get(s1,dx,dy), float4x4(0.075994826853275,-0.002821774687618,0.022629518061876,-0.003467240137979,0.004590259864926,-0.013190672732890,-0.007296792231500,-0.007255420088768,0.021604588255286,0.023840541020036,0.015301017090678,-0.007138196378946,0.007984261959791,-0.019983554258943,-0.040973443537951,-0.012843465432525));
res += mul(Get(s2,-dx,-dy), float4x4(0.014841005206108,-0.002652070019394,-0.020685022696853,-0.026881737634540,0.000823614071123,0.009668998420238,0.002351608593017,0.011494277045131,0.011700192466378,-0.024351010099053,-0.030718190595508,0.013984973542392,-0.006609356030822,0.010565935634077,-0.002789971185848,0.005420728120953));
res += mul(Get(s2,-dx,0), float4x4(0.007982460781932,-0.033109430223703,0.019416531547904,0.009962609037757,-0.020396603271365,-0.000176362562343,-0.026750322431326,-0.000108790329250,0.024333601817489,-0.033476267009974,-0.002396590309218,-0.000860399100929,0.026963826268911,0.012775333598256,0.019720781594515,-0.020775871351361));
res += mul(Get(s2,-dx,dy), float4x4(0.005933296866715,-0.031164413318038,-0.006717365700752,-0.013047650456429,0.032378550618887,-0.001467364490964,0.001782784471288,-0.020432066172361,-0.004756998736411,-0.022202234715223,0.013324308209121,-0.011422490701079,-0.024032011628151,-0.006796662695706,-0.030909417197108,0.002760917413980));
res += mul(Get(s2,0,-dy), float4x4(0.020042311400175,-0.026582336053252,0.001076527521946,-0.016304450109601,-0.011598101817071,-0.007635081186891,0.024651898071170,0.010772907175124,-0.016337951645255,0.001193048432469,-0.017749495804310,-0.010604534298182,-0.006520655937493,-0.008177338168025,0.008004307746887,-0.015509095042944));
res += mul(Get(s2,0,0), float4x4(-0.042849645018578,-0.025788430124521,-0.012818767689168,0.007032093591988,0.012069530785084,-0.000348097499227,-0.006033692043275,-0.041171152144670,0.021474290639162,-0.037630155682564,0.010524943470955,-0.006062383297831,0.009873668663204,0.015667269006371,0.039315208792686,-0.024992201477289));
res += mul(Get(s2,0,dy), float4x4(-0.051173746585846,0.001729076146148,0.017731031402946,-0.005175237078220,-0.007890623062849,0.011692337691784,-0.019563492387533,-0.004187475889921,0.023629069328308,0.001477794023231,0.033005598932505,0.003671377664432,-0.022709911689162,0.014412110671401,-0.054019208997488,-0.016755115240812));
res += mul(Get(s2,dx,-dy), float4x4(-0.027742492035031,0.003967537544668,0.011426165699959,0.003567564068362,0.031390458345413,0.015279724262655,0.005029136780649,-0.001865801750682,0.027955323457718,-0.004632215015590,0.015274956822395,0.009648464620113,-0.031315010040998,0.010682160966098,0.005887593608350,-0.017859678715467));
res += mul(Get(s2,dx,0), float4x4(0.031460646539927,-0.013872356154025,0.026606068015099,0.006104874424636,-0.025716567412019,-0.013927874155343,-0.022635594010353,0.006578205153346,-0.009632037021220,0.004320913460106,-0.028024142608047,-0.009907756000757,-0.009170290082693,-0.012620526365936,0.035157028585672,-0.006839999929070));
res += mul(Get(s2,dx,dy), float4x4(0.067607954144478,-0.014794030226767,0.000984619604424,-0.019823988899589,0.012125102803111,-0.013789360411465,-0.004338861443102,-0.024851959198713,-0.027626844123006,-0.017409712076187,-0.027975514531136,0.001109503209591,-0.051137458533049,-0.022447815164924,0.024499049410224,-0.021493725478649));
res += mul(Get(s3,-dx,-dy), float4x4(-0.089076705276966,0.004993108101189,0.008082083426416,0.002750809071586,0.046862188726664,0.009883425198495,0.011598370969296,-0.010867780074477,0.069599121809006,0.001556171104312,0.038666758686304,-0.008560978807509,-0.007438328117132,-0.009599131532013,0.015324185602367,0.015367110259831));
res += mul(Get(s3,-dx,0), float4x4(-0.048637304455042,-0.002876409096643,-0.009969433769584,-0.031253304332495,-0.041577998548746,-0.000564551795833,-0.001811279449612,0.007916883565485,0.061393279582262,-0.009830401279032,-0.037461541593075,-0.003201572224498,-0.034824516624212,-0.000073384428106,-0.016494156792760,-0.009050540626049));
res += mul(Get(s3,-dx,dy), float4x4(-0.006468653213233,0.006265493575484,0.002189260907471,-0.005996041465551,0.016014738008380,-0.011576379649341,-0.003477624617517,-0.005541803780943,-0.004791773855686,0.002312732394785,-0.032949063926935,-0.005130354315042,0.028458906337619,0.000509333389346,0.017166737467051,0.025673873722553));
res += mul(Get(s3,0,-dy), float4x4(0.026072649285197,-0.028522202745080,0.051929272711277,0.006590072065592,0.021657118573785,-0.016657946631312,-0.007303664926440,-0.004293031059206,0.000581588246860,-0.016834620386362,0.027739785611629,-0.001866544131190,-0.004592618905008,0.046911232173443,0.025236478075385,0.003586646635085));
res += mul(Get(s3,0,0), float4x4(0.039854649454355,-0.003051533130929,0.032072979956865,0.030391987413168,-0.042841035872698,-0.033604633063078,0.016115918755531,0.004641407169402,-0.046209782361984,-0.000000402465872,-0.001212569302879,-0.014764113351703,0.014293386600912,-0.003173142438754,-0.012439744547009,-0.008471670560539));
res += mul(Get(s3,0,dy), float4x4(0.013205436058342,0.030653905123472,-0.006911682430655,0.024709770455956,0.033432569354773,-0.001225308631547,0.029922069981694,-0.009667365811765,-0.054999943822622,-0.028955880552530,-0.035277850925922,0.018112296238542,0.033279344439507,0.011730238795280,0.016176015138626,0.037780698388815));
res += mul(Get(s3,dx,-dy), float4x4(0.019851341843605,0.003342531854287,0.016886902973056,-0.015962334349751,-0.001919742790051,0.028608079999685,0.053056802600622,0.016741614788771,0.060007482767105,0.030936377122998,0.032010614871979,0.002419283380732,-0.023009270429611,-0.025786029174924,0.014785931445658,-0.029571942985058));
res += mul(Get(s3,dx,0), float4x4(0.016466693952680,-0.020992491394281,-0.054989576339722,0.002895305864513,0.036157727241516,0.037662971764803,0.019876684993505,0.000474249303807,0.070161186158657,0.038909155875444,0.092104375362396,-0.005122791044414,0.000894868979231,0.020249998196959,-0.047235317528248,-0.003035589354113));
res += mul(Get(s3,dx,dy), float4x4(-0.011303473263979,0.025066500529647,-0.003840413875878,0.005786837544292,0.054691620171070,0.002287953160703,0.008829284459352,0.013982928358018,0.052238505333662,0.013206503354013,0.009275707416236,-0.014021406881511,-0.004187332931906,0.011910551227629,-0.015741759911180,0.001949412282556));
return max(float4(0,0,0,0), res);
}
