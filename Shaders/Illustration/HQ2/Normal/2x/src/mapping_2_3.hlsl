sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.014720357023180,-0.010816838592291,-0.014000476337969,-0.019230762496591,0.011337692849338,-0.065470904111862,0.019222125411034,-0.009135210886598,-0.051007192581892,0.002266123658046,0.005736369639635,0.018334023654461,-0.016641158610582,0.011530153453350,-0.011681735515594,-0.011512342840433));
res += mul(Get(s0,-dx,0), float4x4(-0.016017917543650,-0.044794097542763,-0.000859653227963,-0.007657137233764,0.029480103403330,-0.050842162221670,-0.008914574980736,0.006087918300182,0.011261462233961,-0.033481728285551,-0.007311459165066,0.023515403270721,0.054509565234184,-0.012922503985465,-0.009051005356014,-0.044740807265043));
res += mul(Get(s0,-dx,dy), float4x4(0.018972858786583,-0.004897216334939,0.035460922867060,0.009795826859772,-0.013124163262546,0.014174807816744,-0.010704179294407,-0.031089879572392,0.001917976187542,0.011203859001398,0.025236494839191,-0.006548413541168,-0.020588697865605,0.019075671210885,0.032622300088406,0.031037645414472));
res += mul(Get(s0,0,-dy), float4x4(0.018409384414554,0.002545097377151,-0.005092064384371,-0.028253715485334,0.003952280152589,0.077955633401871,0.004285824019462,-0.020819447934628,-0.025262583047152,-0.026491215452552,-0.002353393007070,0.030648024752736,0.020150914788246,0.024911472573876,0.017881682142615,-0.036542478948832));
res += mul(Get(s0,0,0), float4x4(-0.011847426183522,-0.044575009495020,-0.006880183238536,0.012988166883588,-0.019252182915807,0.083828143775463,0.027498546987772,-0.032376967370510,-0.006575000472367,0.011388215236366,-0.021032718941569,-0.002848033327609,-0.023705538362265,-0.021317770704627,0.015500660054386,-0.002360940445215));
res += mul(Get(s0,0,dy), float4x4(0.025993820279837,-0.016844592988491,-0.005745522677898,0.026013184338808,0.010991746559739,0.046294927597046,0.005793342366815,0.007806784939021,0.004822666291147,-0.011796477250755,0.024046201258898,0.015630314126611,0.012765297666192,-0.011830324307084,-0.004391748923808,0.021732050925493));
res += mul(Get(s0,dx,-dy), float4x4(0.004347793292254,0.031649716198444,0.023670587688684,-0.021537516266108,0.009033469483256,0.033309929072857,-0.000754094508011,0.032190527766943,-0.002273089485243,0.008307210169733,0.011635889299214,0.027495801448822,0.006619929336011,-0.006973019335419,0.027121579274535,-0.010734809562564));
res += mul(Get(s0,dx,0), float4x4(0.017833586782217,-0.032476518303156,0.005830864887685,-0.030886180698872,0.037392202764750,0.032604742795229,0.004040892701596,0.012480297125876,0.026983458548784,0.005685338750482,-0.004558110609651,0.035889782011509,0.027305768802762,0.003255411284044,0.046084251254797,0.001766714267433));
res += mul(Get(s0,dx,dy), float4x4(0.007250925060362,-0.015031100250781,-0.001082664588466,0.029080608859658,0.075530283153057,-0.001918361056596,0.025232838466763,-0.004525247961283,0.010623983107507,0.011382343247533,-0.046743847429752,0.012913657352328,0.014808295294642,0.022924769669771,0.025704935193062,-0.014029717072845));
res += mul(Get(s1,-dx,-dy), float4x4(0.032178927212954,0.054549828171730,0.045695692300797,0.002435060450807,0.014558241702616,-0.007844504900277,-0.050766758620739,-0.007593241985887,-0.024797374382615,-0.013241744600236,0.001172402524389,0.011728413403034,0.006696647964418,0.017826089635491,-0.009556251578033,-0.001447473536246));
res += mul(Get(s1,-dx,0), float4x4(-0.009313412010670,0.067090682685375,0.091324590146542,0.004475758410990,-0.014981297776103,-0.025419332087040,-0.029663421213627,0.002810348989442,0.030298795551062,0.027193557471037,0.017344320192933,0.018629621714354,0.020182367414236,0.014994653873146,0.008346527814865,0.018502803519368));
res += mul(Get(s1,-dx,dy), float4x4(0.044587019830942,0.063175052404404,0.059982229024172,-0.033016372472048,-0.002887205453590,0.001746964990161,0.003605044446886,0.000943813822232,-0.012867419049144,0.007358501665294,-0.026822032406926,0.015200740657747,0.014216265641153,-0.010245168581605,-0.027348758652806,-0.012875180691481));
res += mul(Get(s1,0,-dy), float4x4(0.001737280166708,-0.004673600662500,-0.000675343209878,0.006041864864528,0.001434471458197,0.019905045628548,0.002366376807913,0.001596609596163,0.039120167493820,-0.011441290378571,0.039358340203762,0.010519080795348,-0.003896221518517,0.024110220372677,0.007318515330553,0.002892101416364));
res += mul(Get(s1,0,0), float4x4(0.011180784553289,-0.007959780283272,0.008226085454226,-0.000423459947342,0.015829516574740,0.001928855548613,0.027722690254450,0.034628901630640,0.019148914143443,0.023153878748417,0.049601908773184,0.047502171248198,-0.007312256842852,-0.010679027065635,-0.017767090350389,-0.013526144437492));
res += mul(Get(s1,0,dy), float4x4(0.012159613892436,-0.025728886947036,0.007961697876453,-0.000634421012364,0.002784739015624,-0.005170006770641,-0.009155050851405,0.014718120917678,-0.013353371992707,0.022431502118707,-0.004050595220178,-0.029346978291869,0.025110291317105,0.001367837074213,-0.006779500748962,-0.005274627357721));
res += mul(Get(s1,dx,-dy), float4x4(-0.016542427241802,0.052244540303946,0.014917070046067,0.008034050464630,-0.011660506948829,0.010552410967648,0.000063353865698,0.002650795504451,0.004220531322062,0.002606178401038,0.015220657922328,0.028770191594958,-0.031708434224129,-0.000638858939055,0.007682547438890,-0.002781827701256));
res += mul(Get(s1,dx,0), float4x4(-0.000788493023720,0.004501545336097,-0.020302647724748,0.005388520192355,-0.025037532672286,-0.003151814453304,0.024324215948582,0.020394913852215,0.015589118935168,0.007039537187666,0.020401729270816,0.005881555378437,0.014458041638136,-0.010741775855422,0.022193238139153,-0.021008646115661));
res += mul(Get(s1,dx,dy), float4x4(-0.002000390086323,0.035035882145166,0.007583555765450,-0.010236262343824,-0.023833096027374,0.029626969248056,0.006441902834922,0.006972982082516,0.005102096125484,-0.002870006486773,-0.021352047100663,0.004506390076131,-0.002330891322345,0.003564719576389,0.026689516380429,0.007253887597471));
res += mul(Get(s2,-dx,-dy), float4x4(-0.003931912127882,0.021168397739530,0.032209683209658,0.004127396736294,0.029307452961802,0.001321990625001,0.048666860908270,0.014124610461295,-0.008127659559250,-0.012607047334313,0.005685530137271,-0.018599377945065,-0.038192141801119,0.060465130954981,0.035805821418762,-0.005421627778560));
res += mul(Get(s2,-dx,0), float4x4(0.004600751213729,0.018067134544253,0.027323830872774,-0.035745259374380,0.022309714928269,0.044465478509665,0.023116713389754,0.020606279373169,0.013683610595763,-0.002951414790004,0.031875465065241,-0.005888827145100,0.025724947452545,0.000676846946590,-0.007231247145683,-0.023438196629286));
res += mul(Get(s2,-dx,dy), float4x4(0.029377348721027,-0.021529685705900,0.019598450511694,0.034475635737181,-0.010210336185992,-0.002878708997741,-0.024971051141620,-0.012497837655246,-0.007228388916701,-0.017273973673582,-0.006713323760778,-0.009101242758334,0.022382607683539,0.020683979615569,0.020372735336423,-0.004182835109532));
res += mul(Get(s2,0,-dy), float4x4(0.008382533676922,-0.003708856878802,0.023538339883089,0.021860731765628,0.003032645676285,0.012122866697609,-0.008363192901015,0.000974831171334,0.035124171525240,-0.014424520544708,-0.024425491690636,-0.012929675169289,-0.032537344843149,-0.027083467692137,0.028781803324819,0.037577688694000));
res += mul(Get(s2,0,0), float4x4(0.012085768394172,0.028539787977934,0.020362315699458,0.016096115112305,0.006021397653967,-0.029348952695727,0.038022197782993,0.002906675217673,-0.026067897677422,-0.039119046181440,0.022780133411288,-0.028325745835900,0.044688485562801,-0.026569884270430,-0.005269747693092,0.000051170518418));
res += mul(Get(s2,0,dy), float4x4(0.023682782426476,-0.022393707185984,-0.003728891490027,0.005574935581535,-0.008615444414318,-0.017938522621989,-0.010541743598878,0.019190918654203,-0.036329302936792,-0.025128830224276,0.008754293434322,-0.010740378871560,-0.021117763593793,-0.006249703001231,-0.007872355170548,0.007435334380716));
res += mul(Get(s2,dx,-dy), float4x4(-0.001103318762034,-0.002803095849231,-0.012313199229538,-0.000466447847430,0.023787688463926,0.012136114761233,0.046094149351120,0.022587733343244,-0.009422543458641,0.015535241924226,0.003766756970435,0.047729983925819,-0.019159518182278,0.057714212685823,0.006113466341048,0.034361686557531));
res += mul(Get(s2,dx,0), float4x4(-0.003651158185676,0.017890688031912,0.007990831509233,0.005440429318696,0.030601946637034,0.045406609773636,-0.004656812176108,0.029311837628484,-0.006704320199788,0.016841048374772,0.005529595538974,-0.019135126844049,0.005026429425925,0.011268110945821,-0.005613089539111,-0.038188152015209));
res += mul(Get(s2,dx,dy), float4x4(0.025797190144658,0.018299849703908,-0.013121851719916,0.017013911157846,-0.018752977252007,-0.001359101966955,-0.014215370640159,-0.002606397727504,0.005878855939955,-0.031618226319551,0.018110185861588,0.009841377846897,0.000246609764872,0.013954511843622,0.016913164407015,-0.027639614418149));
res += mul(Get(s3,-dx,-dy), float4x4(-0.018587164580822,0.059064965695143,0.021157493814826,0.023368185386062,0.009740127250552,0.004477790091187,0.015091500245035,0.008234176784754,0.032093662768602,0.027010025456548,0.021092236042023,-0.021646272391081,-0.018231397494674,0.015095531940460,-0.016210271045566,-0.026084106415510));
res += mul(Get(s3,-dx,0), float4x4(0.028081052005291,0.040398828685284,0.031670529395342,0.039467308670282,0.006508697289973,0.024541120976210,0.008572262711823,-0.004551236517727,-0.012360193766654,0.005181381013244,0.031741261482239,0.007874263450503,-0.002616933081299,0.002028163755313,0.043002057820559,0.004348428454250));
res += mul(Get(s3,-dx,dy), float4x4(-0.015651945024729,-0.034998428076506,-0.019315609708428,0.028676558285952,0.027679562568665,0.044990889728069,0.044166609644890,-0.024069651961327,-0.029581937938929,-0.007518862374127,0.020705973729491,0.010226033627987,0.010072594508529,-0.032413035631180,-0.015488348901272,0.009129585698247));
res += mul(Get(s3,0,-dy), float4x4(0.007733025588095,0.012625771574676,0.030851628631353,0.000571609125473,-0.026605518534780,0.007915178313851,0.026282051578164,0.011732487939298,0.022859491407871,0.037480484694242,0.004751197993755,-0.000775524531491,-0.001510435598902,-0.033469580113888,-0.026368465274572,-0.002862325636670));
res += mul(Get(s3,0,0), float4x4(0.016504861414433,0.013074251823127,0.064292654395103,0.006504553835839,0.026024462655187,-0.016014404594898,0.008659373037517,0.007087977603078,-0.003469482297078,0.068810820579529,0.036362521350384,-0.005659903399646,0.018698802217841,0.023777665570378,0.000698731630109,0.003477766644210));
res += mul(Get(s3,0,dy), float4x4(-0.023533318191767,-0.018794093281031,-0.015786342322826,0.015362756326795,0.016479846090078,-0.014866377227008,-0.020398663356900,-0.002880045212805,0.020104555413127,-0.006770118139684,-0.013696624897420,0.007216076366603,0.008318885229528,0.004553467500955,-0.036095626652241,-0.030488748103380));
res += mul(Get(s3,dx,-dy), float4x4(0.017007822170854,0.012641553767025,-0.021114606410265,-0.013936208561063,-0.021378269419074,-0.022091254591942,0.004671107046306,0.011721789836884,-0.017969256266952,-0.015480393543839,-0.034356877207756,-0.003476338461041,-0.006437481380999,0.035896554589272,0.010030736215413,0.006895549129695));
res += mul(Get(s3,dx,0), float4x4(-0.017696812748909,0.028235472738743,0.033764187246561,0.028763886541128,0.024392021819949,0.036207541823387,-0.003258708864450,-0.015525533817708,-0.001739454222843,-0.016952591016889,0.006213480606675,0.007541771512479,-0.025420347228646,0.000626110471785,0.021196069195867,0.037571538239717));
res += mul(Get(s3,dx,dy), float4x4(-0.008339364081621,0.000149205967318,-0.013658135198057,-0.017589654773474,0.008329142816365,-0.029078086838126,0.014374811202288,-0.025022022426128,0.011003480292857,-0.003765344154090,-0.014516962692142,0.008231217972934,0.000494852429256,0.005695430561900,-0.033589538186789,0.009147290140390));
return max(float4(0,0,0,0), res);
}
