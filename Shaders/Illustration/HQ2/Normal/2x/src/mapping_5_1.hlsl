sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.016584742814302,-0.014855517074466,-0.028002681210637,0.027530793100595,-0.019523769617081,-0.018156658858061,-0.021450294181705,0.007271886337548,-0.003925917670131,0.052768070250750,-0.025842020288110,-0.043217778205872,-0.008754325099289,-0.020706122741103,-0.009481715038419,-0.020358718931675));
res += mul(Get(s0,-dx,0), float4x4(-0.000798741762992,0.014652229845524,0.029887577518821,0.004986915737391,-0.005543012637645,-0.008136603981256,-0.030739506706595,0.035857059061527,0.015189018100500,-0.062718555331230,0.148195758461952,-0.012547890655696,0.001249261898920,0.119331955909729,-0.070973962545395,0.012516696006060));
res += mul(Get(s0,-dx,dy), float4x4(-0.000669450615533,0.022339841350913,-0.006515630986542,0.010522261261940,-0.019159300252795,0.018469627946615,0.012221736833453,-0.004362517967820,-0.011573322117329,-0.014893097802997,0.006641388405114,-0.001692086108960,0.030152795836329,0.001912062754855,0.164888799190521,-0.017748888581991));
res += mul(Get(s0,0,-dy), float4x4(-0.026000039651990,0.020183062180877,-0.024903541430831,-0.009692346677184,-0.031517866998911,-0.029631789773703,-0.011102493852377,-0.001619974849746,0.000399453740101,0.019583804532886,0.105283781886101,0.041298773139715,0.028513520956039,-0.017173482105136,-0.101967975497246,-0.017326368018985));
res += mul(Get(s0,0,0), float4x4(-0.002771777799353,-0.011054366827011,-0.012161955237389,0.001031285151839,0.024709044024348,-0.005027967039496,0.010310229845345,-0.027272904291749,-0.017987439408898,-0.028150144964457,0.081956729292870,-0.030702976509929,0.001911133411340,0.083797276020050,0.088807798922062,-0.020746178925037));
res += mul(Get(s0,0,dy), float4x4(-0.028638411313295,0.007109853904694,0.001204580650665,-0.019374741241336,-0.007884252816439,-0.015205865725875,-0.015776572749019,-0.002294807927683,-0.005546716973186,0.041686832904816,-0.080113410949707,0.006622496992350,0.002975578419864,-0.027550937607884,0.222574874758720,0.003928695339710));
res += mul(Get(s0,dx,-dy), float4x4(-0.020261194556952,0.003364899661392,0.006259457208216,0.015257677063346,0.032770056277514,-0.014487234875560,-0.014663276262581,0.003032825654373,0.014779054559767,0.031709499657154,0.058990363031626,-0.015121705830097,0.000242611567955,-0.036488998681307,0.013256135396659,-0.000833455706015));
res += mul(Get(s0,dx,0), float4x4(-0.004893395584077,-0.024359967559576,-0.031028695404530,0.010911077260971,0.011755602434278,0.007245614193380,-0.024332910776138,-0.015100283548236,-0.031444713473320,-0.018695905804634,-0.009172467514873,0.007975211367011,-0.013623129576445,0.026312043890357,0.020062737166882,-0.020246068015695));
res += mul(Get(s0,dx,dy), float4x4(-0.013695213943720,0.006775213871151,0.029298337176442,-0.000135251946631,-0.018015859648585,0.012476381845772,0.008458836004138,-0.005951846484095,-0.024030964821577,0.012454601004720,0.000672012625728,0.028235847130418,-0.007652355358005,-0.002435680013150,0.033190052956343,-0.037085220217705));
res += mul(Get(s1,-dx,-dy), float4x4(0.007342957891524,0.050629090517759,-0.092847689986229,-0.011029075831175,-0.012734247371554,0.007382917683572,-0.026604032143950,-0.006139726378024,-0.002782777650282,0.087437979876995,-0.018893307074904,-0.007538792677224,0.022076528519392,-0.008341999724507,-0.012526268139482,0.008730572648346));
res += mul(Get(s1,-dx,0), float4x4(0.018128274008632,0.014066308736801,0.013825907371938,-0.013383280485868,-0.001280955853872,0.023445753380656,-0.004094934556633,-0.003751515876502,0.006190293002874,0.006546427961439,-0.004483434371650,-0.035113021731377,0.017034489661455,-0.025872942060232,0.022062953561544,-0.024236904457211));
res += mul(Get(s1,-dx,dy), float4x4(-0.017162660136819,0.017078138887882,0.029927585273981,-0.009648548439145,0.004331161268055,0.003340799594298,0.019774794578552,-0.018321378156543,0.007041162811220,-0.001255588489585,-0.020518124103546,-0.004769631661475,-0.015188428573310,0.002825922099873,0.009408690035343,-0.011633989401162));
res += mul(Get(s1,0,-dy), float4x4(0.017576565966010,0.065079197287560,-0.023592690005898,-0.008826978504658,-0.020367544144392,-0.009136353619397,-0.006107781082392,0.002971194451675,0.002074405783787,0.039798349142075,-0.003105518873781,-0.019615909084678,-0.012613521888852,-0.005626689642668,0.016736088320613,0.026866691187024));
res += mul(Get(s1,0,0), float4x4(0.009570015594363,-0.004657046403736,0.209679856896400,-0.013086262159050,0.000103293408756,0.011753479950130,0.006425866391510,-0.025292318314314,0.023350220173597,-0.029218720272183,0.098568812012672,0.007600049953908,0.017490070313215,-0.004259263165295,-0.012771355919540,-0.014379754662514));
res += mul(Get(s1,0,dy), float4x4(-0.026160506531596,-0.044788554310799,-0.015786735340953,0.000154302819283,0.013150672428310,-0.007809813600034,0.008539732545614,0.001304475707002,0.003141260473058,-0.023879919201136,-0.045842841267586,-0.029279638081789,-0.016035143285990,0.010183114558458,-0.017076851800084,0.015465850941837));
res += mul(Get(s1,dx,-dy), float4x4(-0.010466815903783,0.046692036092281,-0.000026959247407,-0.016944305971265,-0.020829785615206,0.032533437013626,-0.006125763524324,-0.003623380325735,-0.029174419119954,0.018485900014639,0.026537667959929,-0.008654013276100,-0.002372700255364,-0.003230618312955,-0.020149575546384,0.004601602442563));
res += mul(Get(s1,dx,0), float4x4(0.009611493907869,-0.023855332285166,0.078545890748501,-0.018745537847281,0.029204886406660,-0.026729809120297,-0.001833304064348,0.000677623727825,-0.012542635202408,-0.020408846437931,0.085073828697205,0.001030210638419,-0.005630376283079,0.019391417503357,0.001271601067856,0.011797106824815));
res += mul(Get(s1,dx,dy), float4x4(0.014960866421461,0.033590100705624,-0.079240575432777,0.031524896621704,0.006799330469221,0.023960312828422,0.006544576026499,0.016782464459538,0.028957031667233,-0.014144094660878,-0.071825519204140,-0.003590401494876,0.004528894089162,-0.009730326011777,-0.024424782022834,0.041300132870674));
res += mul(Get(s2,-dx,-dy), float4x4(-0.028427550569177,0.035729218274355,0.117466561496258,-0.018249860033393,-0.007557051256299,0.011631021276116,0.029757389798760,0.027119677513838,0.008468974381685,-0.019753549247980,0.024725500494242,-0.030994482338428,-0.032525870949030,-0.000890061201062,0.114525198936462,0.006816853303462));
res += mul(Get(s2,-dx,0), float4x4(-0.009854589588940,-0.010050518438220,0.094013407826424,-0.043129369616508,-0.024215232580900,-0.015525045804679,0.011007367633283,0.000257742154645,-0.016435869038105,0.010358924977481,0.032446678727865,0.004523544106632,-0.026324825361371,-0.011409066617489,0.013908326625824,-0.020992379635572));
res += mul(Get(s2,-dx,dy), float4x4(0.006644429638982,0.011014151386917,-0.027130050584674,0.007736492902040,-0.008130444213748,0.015687271952629,0.008621233515441,0.025742245838046,-0.003687349148095,-0.008780806325376,-0.012294578365982,0.002068697009236,0.000799305504188,0.044299710541964,-0.010312044061720,-0.005075261462480));
res += mul(Get(s2,0,-dy), float4x4(-0.033742588013411,-0.003629537997767,0.030440822243690,0.012743190862238,-0.003983693197370,-0.010119006037712,-0.011589306406677,0.018664030358195,0.017058091238141,-0.007298773620278,-0.000253469799645,0.004419208038598,0.013571470975876,-0.018102971836925,0.099084220826626,-0.033096425235271));
res += mul(Get(s2,0,0), float4x4(-0.022148704156280,0.051409460604191,-0.033176388591528,0.003290703985840,0.014447432011366,-0.012615332379937,0.002279096283019,0.010741936974227,0.016776829957962,0.026066228747368,-0.006889777723700,-0.010324758477509,-0.010663385502994,0.019948597997427,-0.098573349416256,0.008127429522574));
res += mul(Get(s2,0,dy), float4x4(-0.005738476291299,0.028792163357139,0.051558956503868,0.004139212891459,-0.009281178005040,0.012786868959665,-0.033223554491997,-0.002693339716643,0.030757438391447,0.007723898626864,0.014631477184594,0.008840234950185,0.025689482688904,0.040529284626245,0.053828742355108,0.000171247796970));
res += mul(Get(s2,dx,-dy), float4x4(-0.018352685496211,-0.018400982022285,0.011406828649342,0.021620059385896,0.022390164434910,0.031257614493370,-0.022677440196276,0.041797660291195,-0.010932920500636,-0.006003314163536,-0.007621225900948,0.000695003487635,-0.009776379913092,0.011424315162003,0.068075560033321,-0.005518123041838));
res += mul(Get(s2,dx,0), float4x4(0.009913874790072,0.030968319624662,0.004110896494240,0.022874025627971,-0.006044196896255,-0.020015360787511,-0.027372425422072,0.016012478619814,-0.023956654593349,-0.029373686760664,0.011563233099878,0.026665166020393,0.004978316370398,-0.011618145741522,-0.031243395060301,0.000748783932067));
res += mul(Get(s2,dx,dy), float4x4(0.019831456243992,0.006037158891559,0.075629219412804,0.009088510647416,0.018119707703590,-0.018869698047638,-0.031884182244539,0.020438820123672,0.013857990503311,0.001506451168098,0.014979739673436,0.010727664455771,0.015448172576725,0.027155397459865,0.071021974086761,-0.041194237768650));
res += mul(Get(s3,-dx,-dy), float4x4(-0.012273083440959,-0.001937738154083,0.002052991418168,-0.016705447807908,-0.009667420759797,-0.000081628139014,0.016819233074784,-0.019201291725039,-0.012011427432299,0.034657754004002,-0.022051626816392,-0.018136676400900,-0.004874913953245,0.017001483589411,-0.012665819376707,-0.005807370413095));
res += mul(Get(s3,-dx,0), float4x4(-0.018258662894368,0.005932392086834,0.015235970728099,-0.027820374816656,0.021226275712252,-0.018294852226973,0.014886935241520,0.020246263593435,0.019530348479748,-0.023377021774650,0.026811042800546,-0.009961877949536,-0.009658127091825,0.012301106937230,0.021840166300535,0.009861951693892));
res += mul(Get(s3,-dx,dy), float4x4(0.022296627983451,0.005033410619944,-0.025336239486933,-0.014860115014017,0.030341735109687,-0.051993753761053,-0.024729410186410,-0.008768565952778,-0.010362416505814,-0.007799803745002,-0.009817196056247,-0.031639534980059,0.018699387088418,0.032743863761425,-0.010998701676726,-0.013994149863720));
res += mul(Get(s3,0,-dy), float4x4(0.025288155302405,-0.012020492926240,0.002103036735207,-0.031179098412395,-0.013163682073355,0.001954980893061,0.027846090495586,-0.008159449324012,0.017708845436573,-0.006649859249592,-0.018613282591105,-0.023735811933875,-0.017613120377064,0.012351490557194,0.001324600190856,0.022404875606298));
res += mul(Get(s3,0,0), float4x4(0.001488127163611,-0.015519835054874,0.007928473874927,0.006415614392608,0.006277181208134,0.025322318077087,0.024786502122879,-0.023886570706964,0.039089716970921,0.004217724315822,-0.014645136892796,0.016107613220811,0.015056698583066,-0.001594272558577,-0.033183697611094,-0.006198284216225));
res += mul(Get(s3,0,dy), float4x4(-0.005095588974655,0.007738361135125,0.005720195360482,-0.010507348924875,0.008056364953518,0.003081475617364,-0.031183104962111,-0.013965715654194,0.010690703988075,0.016360446810722,0.012601540423930,0.003278359072283,0.005132963880897,-0.004999412689358,0.013290673494339,-0.003412361722440));
res += mul(Get(s3,dx,-dy), float4x4(-0.001355181448162,0.006498154718429,0.025038415566087,-0.011839340440929,-0.002328934846446,-0.018675247207284,0.014793078415096,0.021487519145012,-0.001166081754491,-0.026189466938376,0.008864197880030,-0.021828837692738,0.011827173642814,-0.005301405210048,0.006061562802643,0.029323216527700));
res += mul(Get(s3,dx,0), float4x4(-0.001815075753257,0.002137905918062,0.007735364139080,0.018967477604747,-0.020004585385323,-0.020026443526149,0.001623841002584,0.005620472598821,0.004969293251634,-0.029570490121841,0.009017459116876,-0.005243418272585,-0.038092039525509,-0.006363641470671,0.002924548927695,-0.014480263926089));
res += mul(Get(s3,dx,dy), float4x4(-0.030761739239097,0.004546775482595,-0.004296998959035,-0.032069195061922,-0.012133540585637,-0.028371434658766,0.013825328089297,-0.023065187036991,0.022157160565257,-0.009826626628637,0.005348384380341,0.005799334496260,0.032463792711496,0.019119663164020,-0.014947187155485,0.009318527765572));
return max(float4(0,0,0,0), res);
}
