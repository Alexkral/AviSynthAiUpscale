sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.002624651649967,-0.008580740541220,-0.002310068113729,-0.037931576371193,-0.044426500797272,0.020761262625456,0.044601295143366,0.061775885522366,0.017450008541346,0.078306242823601,-0.011201105080545,0.058650001883507,0.004481092095375,-0.049035731703043,0.011027925647795,0.000544515089132));
res += mul(Get(s0,-dx,0), float4x4(-0.033976905047894,0.017355265095830,-0.030143607407808,0.005393235012889,0.012247047387064,0.023032452911139,0.046463083475828,-0.016879541799426,-0.010880015790462,0.042730797082186,-0.008498223498464,0.047656789422035,0.010247663594782,0.004976505413651,0.005035974085331,0.018197750672698));
res += mul(Get(s0,-dx,dy), float4x4(-0.019656641408801,0.021476615220308,-0.024386232718825,0.005260961595923,-0.050264291465282,-0.050870563834906,-0.019074194133282,-0.034953925758600,-0.025319425389171,-0.020545830950141,-0.008976936340332,0.004842882044613,-0.004983767867088,0.031779889017344,-0.033258628100157,-0.029383759945631));
res += mul(Get(s0,0,-dy), float4x4(-0.002244807779789,-0.051400382071733,0.011901834048331,-0.086154617369175,0.020233962684870,0.038245897740126,-0.002400675090030,-0.008565839380026,0.006004674825817,0.020017415285110,-0.064789101481438,0.024995613843203,-0.011805444955826,0.010199143551290,-0.009103791788220,0.039472091943026));
res += mul(Get(s0,0,0), float4x4(-0.024703213945031,-0.003983003087342,0.007740808185190,0.038498882204294,0.054743926972151,-0.008025728166103,-0.050913635641336,0.009303388185799,0.021906623616815,-0.038455348461866,0.011954322457314,0.035470601171255,-0.032274350523949,0.023971809074283,0.006848505232483,-0.015167366713285));
res += mul(Get(s0,0,dy), float4x4(-0.015625379979610,-0.011096504516900,-0.009382637217641,0.057932905852795,-0.017297653481364,-0.003308875486255,-0.071572117507458,0.059870891273022,-0.033394351601601,-0.028591632843018,-0.035509545356035,0.044152662158012,0.008633078075945,-0.021603820845485,-0.046937931329012,-0.047775588929653));
res += mul(Get(s0,dx,-dy), float4x4(-0.010779459029436,-0.051667310297489,0.034911267459393,-0.071896187961102,-0.016333378851414,0.005520621314645,0.013696654699743,-0.053053434938192,-0.030093990266323,-0.018181197345257,-0.038519546389580,0.067809052765369,0.025697780773044,-0.010137213394046,-0.004093303345144,0.022078931331635));
res += mul(Get(s0,dx,0), float4x4(-0.017712423577905,0.011024547740817,-0.017389027401805,-0.001543965074234,-0.023083901032805,0.078755885362625,-0.032767076045275,-0.001101640751585,0.012006478384137,-0.013135065324605,-0.052149463444948,0.019843660295010,-0.003757076570764,-0.007834076881409,-0.022204190492630,-0.003966582939029));
res += mul(Get(s0,dx,dy), float4x4(-0.018344135954976,0.016429176554084,0.002291446551681,0.009850366972387,-0.016859814524651,-0.020023668184876,-0.055469725281000,0.026230277493596,0.031698517501354,-0.071140684187412,-0.053001534193754,0.000634310708847,-0.028448708355427,-0.067175164818764,-0.023842765018344,-0.032819442451000));
res += mul(Get(s1,-dx,-dy), float4x4(-0.003948548808694,0.002328857313842,-0.011626086197793,-0.029771631583571,0.051811892539263,-0.037780396640301,0.002647715387866,0.031141193583608,-0.013233291916549,-0.020129736512899,0.047892615199089,0.010621742345393,-0.002993204630911,-0.027769291773438,0.023473653942347,0.021817456930876));
res += mul(Get(s1,-dx,0), float4x4(-0.011619258671999,0.046397939324379,-0.025281177833676,-0.041231546550989,0.037618279457092,-0.008470215834677,-0.013686151243746,0.009425804018974,-0.013391708955169,0.016689755022526,0.014525520615280,-0.031102607026696,-0.006771960295737,-0.000247746385867,0.016284555196762,0.014921936206520));
res += mul(Get(s1,-dx,dy), float4x4(-0.023747663944960,0.024683473631740,-0.030412413179874,-0.021397814154625,0.055825456976891,-0.023986473679543,-0.011981295421720,0.009337298572063,-0.024300567805767,0.005828829482198,0.024427745491266,-0.004668823909014,-0.024253414943814,0.005882220808417,0.027400303632021,0.007983874529600));
res += mul(Get(s1,0,-dy), float4x4(-0.035484004765749,0.035067122429609,0.045187406241894,0.016714580357075,0.045266516506672,-0.010741275735199,0.011467322707176,-0.054221484810114,-0.028387887403369,0.064397782087326,0.054882906377316,0.010570194572210,0.047706004232168,-0.027168672531843,-0.030695477500558,0.051239773631096));
res += mul(Get(s1,0,0), float4x4(-0.034286752343178,0.062712162733078,0.014767239801586,-0.011085074394941,0.077311448752880,0.027227023616433,0.042606279253960,0.004292710684240,0.005228195339441,0.019734401255846,0.035413078963757,0.018686179071665,-0.004785679746419,0.010123111307621,0.028894804418087,0.086193203926086));
res += mul(Get(s1,0,dy), float4x4(-0.002044077496976,0.045432087033987,-0.006575412582606,-0.044524453580379,0.045632433146238,0.043267369270325,-0.014273164793849,-0.008820670656860,0.028047027066350,-0.007897182367742,0.055500090122223,-0.015842976048589,0.019878184422851,-0.012295160442591,0.001233039889485,0.064552731812000));
res += mul(Get(s1,dx,-dy), float4x4(-0.006356765981764,-0.055998224765062,0.000089429711807,-0.005986108444631,0.012307125143707,0.020676892250776,0.067211136221886,0.008123225532472,-0.009721972048283,0.086544856429100,0.013322629034519,-0.020538609474897,0.020382158458233,-0.019348956644535,-0.087141059339046,0.049223821610212));
res += mul(Get(s1,dx,0), float4x4(0.028033297508955,-0.003962428774685,-0.028172934427857,-0.053292043507099,0.044091798365116,0.029413104057312,0.056347079575062,0.012356219813228,-0.032948698848486,-0.000671646092087,0.019309131428599,0.008982273750007,0.019127359613776,-0.038174055516720,0.031149916350842,0.028349196538329));
res += mul(Get(s1,dx,dy), float4x4(-0.000860944623128,0.041835773736238,-0.004053325392306,-0.031776975840330,0.025574561208487,0.008793199434876,0.020813725888729,0.009114511311054,-0.040231164544821,0.013067189604044,-0.000258539512288,-0.006378673017025,0.001427582930773,0.014445912092924,0.022715011611581,0.059307076036930));
res += mul(Get(s2,-dx,-dy), float4x4(-0.036146212369204,-0.019645793363452,0.015546824783087,0.028560383245349,0.000314744946081,-0.009675494395196,0.026512786746025,-0.004714474547654,-0.040003675967455,-0.092207528650761,-0.021565536037087,-0.002691658912227,-0.022048825398088,-0.034927487373352,-0.018837440758944,0.020398322492838));
res += mul(Get(s2,-dx,0), float4x4(-0.002752407686785,-0.027405682951212,0.091103211045265,0.038413077592850,0.001580474665388,0.020907126367092,0.035303056240082,-0.001270788256079,-0.061381787061691,0.026606258004904,-0.046314503997564,-0.003608447499573,-0.013945147395134,-0.061219628900290,-0.043643347918987,0.000146538703120));
res += mul(Get(s2,-dx,dy), float4x4(-0.017196258530021,-0.020642809569836,-0.038116768002510,-0.003710357937962,-0.013822143897414,-0.001978481654078,0.001950483652763,0.011524374596775,-0.022603653371334,0.090023711323738,-0.043551087379456,0.008545218035579,-0.029548237100244,-0.069256998598576,0.007040871307254,0.032344527542591));
res += mul(Get(s2,0,-dy), float4x4(0.003209904767573,-0.028170956298709,0.005307921208441,0.076026484370232,0.027451351284981,0.063308745622635,0.023954136297107,-0.001421176944859,-0.034311939030886,0.045783035457134,-0.018275834619999,0.068976454436779,-0.029738795012236,0.045376237481833,-0.031402740627527,0.042689047753811));
res += mul(Get(s2,0,0), float4x4(0.006506001576781,-0.034059386700392,-0.045466694980860,-0.002117365598679,0.017201660200953,0.015066248364747,0.023071300238371,-0.043419752269983,0.003473223419860,0.003485565539449,0.039056502282619,0.031838104128838,-0.022744253277779,-0.004798659589142,-0.003489227499813,0.045784119516611));
res += mul(Get(s2,0,dy), float4x4(0.008571312762797,0.006845944095403,-0.013641779311001,0.019049046561122,-0.022539265453815,-0.047170773148537,-0.031128855422139,-0.015624763444066,-0.017102893441916,0.007382959127426,-0.013280989602208,-0.000585977861192,-0.033225111663342,-0.023638956248760,-0.003012616420165,-0.001772850635462));
res += mul(Get(s2,dx,-dy), float4x4(-0.024163212627172,0.054655749350786,-0.005586635321379,0.054125368595123,0.018577894195914,0.104540951550007,0.029606737196445,0.031104348599911,0.016671923920512,0.031468693166971,0.024104001000524,-0.002037334023044,-0.049724493175745,0.029273390769958,-0.012696526013315,0.001883385120891));
res += mul(Get(s2,dx,0), float4x4(-0.011766120791435,0.048890773206949,-0.019913246855140,0.011662504635751,0.020243020728230,0.037340108305216,0.036399286240339,-0.009140050038695,-0.024208236485720,0.008193045854568,0.010451516136527,0.009109854698181,-0.037952523678541,0.016115242615342,-0.050999246537685,0.034855373203754));
res += mul(Get(s2,dx,dy), float4x4(-0.016859591007233,0.034487310796976,0.022445322945714,0.045263960957527,0.003566629020497,0.008815180510283,-0.023294808343053,0.016193579882383,-0.019312253221869,0.007168112788349,0.014536591246724,0.018257174640894,-0.027579821646214,-0.065210670232773,-0.038156446069479,-0.009531510062516));
res += mul(Get(s3,-dx,-dy), float4x4(0.005861151032150,-0.030807249248028,-0.022533969953656,0.013859759084880,-0.010983674786985,-0.011963956989348,-0.009937454946339,-0.003250076901168,-0.017722327262163,-0.042190238833427,-0.007325358688831,-0.011003308929503,-0.010615549981594,0.007119585294276,-0.016816077753901,-0.035161692649126));
res += mul(Get(s3,-dx,0), float4x4(0.031046651303768,-0.059769537299871,-0.017447557300329,0.054885931313038,-0.005389086902142,0.045398876070976,0.077531002461910,-0.034592047333717,0.023056775331497,-0.021306373178959,0.008521016687155,0.022327451035380,0.021171094849706,-0.036923263221979,-0.035647474229336,-0.011571059003472));
res += mul(Get(s3,-dx,dy), float4x4(-0.000745643046685,-0.046523448079824,-0.046853329986334,0.008225278928876,-0.037345621734858,0.027569148689508,0.087600424885750,0.022975528612733,-0.066325761377811,0.019925698637962,-0.001259752665646,0.014427252113819,0.019783617928624,-0.027004960924387,-0.062850907444954,-0.035066574811935));
res += mul(Get(s3,0,-dy), float4x4(0.014722710475326,-0.008808891288936,0.030611643567681,0.000071431335527,-0.022354414686561,-0.044038884341717,0.026338040828705,-0.008303320035338,0.014890589751303,-0.052045028656721,0.018297372385859,0.022631874307990,0.015986902639270,-0.003515289397910,0.049477919936180,-0.062693268060684));
res += mul(Get(s3,0,0), float4x4(0.017472717911005,0.000200304799364,0.034018166363239,-0.020579703152180,-0.008812496438622,-0.027540139853954,0.018536789342761,0.005111905280501,0.036055214703083,0.013244358822703,-0.001046215416864,0.075055070221424,0.026201415807009,-0.000524225877598,0.029186733067036,-0.006565796677023));
res += mul(Get(s3,0,dy), float4x4(-0.035485986620188,-0.052383720874786,0.019164636731148,0.023128725588322,0.032180435955524,0.012663652189076,0.074867509305477,-0.000981167191640,-0.047919318079948,-0.011800652369857,-0.023964311927557,0.004195817280561,-0.014418068341911,0.024578046053648,-0.018724050372839,0.023435330018401));
res += mul(Get(s3,dx,-dy), float4x4(-0.036666691303253,0.010467583313584,0.017675707116723,0.007145815063268,-0.008497066795826,-0.056551430374384,-0.027809264138341,-0.038611758500338,-0.032883796840906,-0.025945238769054,0.006208891980350,0.020041696727276,0.023887246847153,-0.055669698864222,0.082981221377850,-0.025324359536171));
res += mul(Get(s3,dx,0), float4x4(-0.055763106793165,-0.032655891031027,0.042280942201614,0.032113000750542,-0.020578423514962,-0.032509543001652,0.055870432406664,-0.073799982666969,0.014800433069468,-0.004627658054233,0.026283957064152,-0.004207527264953,-0.014809078536928,-0.040887396782637,0.087036028504372,-0.065751470625401));
res += mul(Get(s3,dx,dy), float4x4(-0.057363525032997,-0.062767602503300,0.041270583868027,0.024121399968863,-0.040665533393621,0.058672878891230,0.071779891848564,0.019531475380063,-0.045681420713663,-0.065871573984623,-0.036099933087826,-0.019196622073650,-0.020050540566444,-0.043216031044722,0.021309861913323,-0.036258578300476));
return max(float4(0,0,0,0), res);
}
