sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.040893260389566,-0.001802208134905,-0.011826791800559,0.023132834583521,-0.034500326961279,-0.042571708559990,-0.025087852030993,0.013847679831088,-0.028977662324905,0.019529473036528,-0.004046631045640,0.004729727283120,0.015105133876204,-0.021286807954311,0.073339544236660,0.051901895552874));
res += mul(Get(s0,-dx,0), float4x4(0.008558565750718,-0.012342638336122,0.011298237368464,0.021685050800443,-0.039223611354828,-0.031243653967977,0.023612122982740,0.012112060561776,-0.019453458487988,0.035107668489218,-0.002657565288246,-0.010664278641343,0.011450307443738,-0.019636450335383,0.002120483899489,-0.009944949299097));
res += mul(Get(s0,-dx,dy), float4x4(0.048182658851147,0.004593396559358,0.022199349477887,0.016831396147609,-0.008446349762380,-0.042419869452715,-0.019592216238379,-0.038279037922621,-0.008339839056134,-0.031209263950586,0.010240696370602,-0.000262923014816,-0.003250953974202,-0.048530630767345,0.034054886549711,0.025668919086456));
res += mul(Get(s0,0,-dy), float4x4(0.037782732397318,-0.003443578490987,-0.066603258252144,-0.015776282176375,-0.025432234629989,-0.040854938328266,-0.018234249204397,-0.001312925014645,0.091041304171085,0.018390633165836,-0.035183303058147,-0.047194987535477,0.006166303064674,-0.028782729059458,0.024173263460398,0.049989353865385));
res += mul(Get(s0,0,0), float4x4(0.000269570649834,-0.003197912359610,0.009523718617857,0.007166745606810,-0.065402969717979,0.080588050186634,0.006600796245039,0.012344192713499,0.013550659641623,-0.060249112546444,-0.032579481601715,0.033804047852755,0.000172086278326,-0.053302381187677,0.012246101163328,0.012238202616572));
res += mul(Get(s0,0,dy), float4x4(0.019015619531274,-0.020458623766899,0.030478077009320,0.014048308134079,-0.027066092938185,0.029848508536816,0.008528926409781,-0.027010288089514,-0.001575193717144,-0.067561887204647,-0.039952799677849,0.041104756295681,-0.002801933325827,-0.056448057293892,-0.058386895805597,0.015677182003856));
res += mul(Get(s0,dx,-dy), float4x4(0.047506872564554,-0.063437119126320,-0.000453761662357,-0.011555899865925,-0.017690397799015,0.004610743839294,-0.111805334687233,0.036270521581173,0.083799749612808,-0.007402908056974,0.003027960192412,-0.030096169561148,0.008030560798943,-0.009976716712117,-0.010906099341810,0.016826163977385));
res += mul(Get(s0,dx,0), float4x4(0.000232791164308,-0.086530365049839,0.018761176615953,0.019651619717479,-0.073796637356281,-0.038919661194086,-0.085763819515705,0.031663808971643,0.019699461758137,0.015617954544723,-0.037899781018496,-0.037485994398594,-0.009064050391316,-0.012655553407967,0.010929560288787,0.033553801476955));
res += mul(Get(s0,dx,dy), float4x4(-0.015331423841417,-0.010452146641910,0.030222296714783,0.006675976794213,-0.014700640924275,-0.013042082078755,-0.060369893908501,-0.008249150589108,0.017216123640537,-0.012695305980742,0.000677107425872,0.001189221278764,-0.002531971316785,-0.050643734633923,0.026902083307505,-0.068778529763222));
res += mul(Get(s1,-dx,-dy), float4x4(-0.001337534165941,0.000695411115885,0.029977947473526,0.019968241453171,-0.020552506670356,0.027304276823997,-0.002192625310272,0.059777274727821,-0.003085803473368,-0.002390361158177,0.064970307052135,0.021901497617364,0.010769512504339,-0.019617713987827,0.032242376357317,-0.018450796604156));
res += mul(Get(s1,-dx,0), float4x4(-0.014834298752248,-0.038402523845434,0.026947535574436,0.002877426799387,-0.025906404480338,0.038531757891178,0.052107587456703,0.028730409219861,0.033853739500046,-0.002342757070437,0.067878775298595,-0.024737432599068,0.014191946946084,-0.092120155692101,-0.033207744359970,-0.050954263657331));
res += mul(Get(s1,-dx,dy), float4x4(-0.001051069819368,-0.006533627398312,0.019907243549824,0.011524564586580,0.010442696511745,-0.002361317398027,0.035896565765142,0.040469460189342,0.006156434305012,0.020799694582820,0.017236107960343,-0.008417532779276,-0.008326305076480,-0.032591670751572,-0.055744864046574,-0.023005908355117));
res += mul(Get(s1,0,-dy), float4x4(-0.049323596060276,0.023541767150164,0.000228597447858,0.078897476196289,-0.025289988145232,0.028258319944143,0.013186669908464,0.019178085029125,-0.000802840630058,-0.044954586774111,0.067060559988022,-0.034322049468756,0.023961273953319,0.054050028324127,-0.017961902543902,-0.071450859308243));
res += mul(Get(s1,0,0), float4x4(-0.003093034960330,0.038953199982643,-0.037237860262394,-0.016259219497442,-0.017991062253714,-0.029770771041512,-0.005429437849671,0.040473047643900,0.020886799320579,-0.045579131692648,0.018100518733263,0.040726851671934,-0.033645417541265,-0.044176232069731,-0.002333772368729,-0.008114778436720));
res += mul(Get(s1,0,dy), float4x4(0.025785364210606,0.001988718984649,0.030301483348012,-0.012662104330957,0.007962208241224,-0.006382463034242,0.018360005691648,0.007140807807446,0.000795925094280,-0.027038788422942,-0.016823682934046,-0.040557354688644,-0.005337590817362,-0.070806719362736,-0.027226414531469,-0.044682614505291));
res += mul(Get(s1,dx,-dy), float4x4(-0.018475186079741,0.023597966879606,-0.004967222921550,-0.022734561935067,-0.002410799497738,-0.022944435477257,0.041224081069231,0.030132696032524,-0.027985980734229,-0.006160308606923,0.052817001938820,0.001787017332390,0.021975066512823,-0.002796134212986,0.039246462285519,0.015895904973149));
res += mul(Get(s1,dx,0), float4x4(0.029387500137091,0.022190233692527,-0.025041464716196,-0.059375565499067,-0.030230518430471,-0.009533408097923,0.032449249178171,-0.025114348158240,0.000700474076439,0.037193529307842,0.046030811965466,-0.027775170281529,-0.045208245515823,-0.039067998528481,-0.019982786849141,0.019136594608426));
res += mul(Get(s1,dx,dy), float4x4(0.024847120046616,0.047582123428583,-0.007808375637978,0.036363523453474,-0.018264085054398,0.021288093179464,-0.016051188111305,-0.013085850514472,-0.013915040530264,0.035733472555876,0.012673377990723,-0.079066574573517,-0.045812714844942,-0.026961525902152,-0.005836274474859,-0.003202500520274));
res += mul(Get(s2,-dx,-dy), float4x4(-0.026305539533496,0.025765642523766,0.018256260082126,0.033757623285055,-0.042006723582745,-0.025743147358298,-0.026763429865241,-0.012438989244401,0.023012494668365,-0.000437140086433,0.009265479631722,-0.017661351710558,0.048160046339035,-0.020022451877594,0.031990397721529,0.021825717762113));
res += mul(Get(s2,-dx,0), float4x4(-0.011246353387833,0.045638926327229,0.010145511478186,0.068225972354412,-0.031572636216879,-0.003696896135807,0.006033539306372,-0.026244575157762,0.006164708640426,-0.044804811477661,0.044054973870516,0.020022226497531,0.037877444177866,-0.032731615006924,0.012633248232305,0.044426903128624));
res += mul(Get(s2,-dx,dy), float4x4(-0.048430286347866,0.036442995071411,-0.023879580199718,0.041351713240147,0.057003773748875,-0.009996529668570,0.000043300533434,-0.024951437488198,0.016274539753795,-0.012480333447456,0.031656805425882,-0.021055862307549,0.025156917050481,-0.039148576557636,0.062698803842068,-0.000464231154183));
res += mul(Get(s2,0,-dy), float4x4(-0.026643598452210,0.019580926746130,0.018843352794647,0.000342125305906,-0.085870973765850,-0.035303056240082,-0.033212833106518,-0.007979655638337,0.041702810674906,-0.024786330759525,-0.002734733046964,-0.026193587109447,0.028011312708259,-0.047448210418224,0.050380658358335,0.023387653753161));
res += mul(Get(s2,0,0), float4x4(-0.038855176419020,0.033152300864458,0.054386146366596,0.036121014505625,-0.020945562049747,-0.067718975245953,0.005448387935758,-0.015727354213595,-0.010159219615161,-0.065859287977219,0.014977798797190,0.006335090845823,0.031403608620167,-0.033307779580355,-0.015620403923094,-0.027156734839082));
res += mul(Get(s2,0,dy), float4x4(0.019834816455841,-0.058925259858370,-0.058318261057138,-0.004152799956501,0.033138871192932,-0.056575577706099,-0.050614565610886,-0.023254241794348,0.045836780220270,-0.041530832648277,-0.015148174017668,-0.005317399743944,0.002964324317873,-0.044266063719988,0.009211769327521,0.025001101195812));
res += mul(Get(s2,dx,-dy), float4x4(-0.043104648590088,-0.001436753547750,-0.020579950883985,0.036342557519674,-0.041133694350719,-0.024692170321941,-0.063421808183193,-0.009482476860285,0.043475504964590,-0.018096720799804,0.027792332693934,-0.059007398784161,0.018468774855137,-0.020883696153760,-0.025815237313509,-0.005380345508456));
res += mul(Get(s2,dx,0), float4x4(-0.058941647410393,0.030763957649469,0.005583482794464,0.033253956586123,-0.008115604519844,0.019536940380931,-0.059625577181578,-0.053455874323845,0.013695607893169,-0.033022552728653,-0.012543930672109,-0.027211118489504,0.002694746712223,-0.030762063339353,-0.006838737521321,0.055109605193138));
res += mul(Get(s2,dx,dy), float4x4(0.025354528799653,-0.004478529561311,-0.036907687783241,0.010097131133080,0.028355652466416,-0.025189332664013,-0.073776230216026,-0.040329560637474,0.031528204679489,-0.033567391335964,-0.000037323690776,-0.004213941283524,0.005757488775998,-0.041095402091742,-0.001266951323487,0.032687548547983));
res += mul(Get(s3,-dx,-dy), float4x4(-0.019318830221891,-0.009874239563942,-0.004527674522251,0.034212287515402,-0.024913514032960,-0.005157422740012,-0.001651146449149,0.014639553613961,0.016994452103972,-0.007910610176623,0.005187276285142,-0.026929562911391,-0.019889408722520,0.026000874117017,0.008765016682446,-0.004241550806910));
res += mul(Get(s3,-dx,0), float4x4(-0.044496443122625,-0.011467046104372,0.012118715792894,0.021626699715853,0.035276420414448,0.059697236865759,0.023685209453106,0.001920597744174,-0.029243685305119,-0.007344814017415,0.003793365787715,0.009905123151839,-0.058451786637306,-0.015016303397715,-0.032388225197792,0.022350087761879));
res += mul(Get(s3,-dx,dy), float4x4(-0.020640220493078,0.012767936103046,0.026686478406191,0.066444471478462,-0.009921071119606,0.009144273586571,-0.020647205412388,-0.030603215098381,-0.058503530919552,0.001709121512249,-0.009659390896559,-0.030289063230157,0.053769376128912,0.058558754622936,-0.037631820887327,0.023320835083723));
res += mul(Get(s3,0,-dy), float4x4(-0.005039841867983,0.002453156514093,-0.000703047029674,0.027380725368857,-0.013296508230269,0.009592481888831,-0.022469751536846,0.005745916627347,0.014100817963481,-0.012538350187242,0.004453919827938,0.010977089405060,-0.038936641067266,0.007238287478685,-0.025144636631012,-0.015640573576093));
res += mul(Get(s3,0,0), float4x4(-0.024994647130370,0.024823920801282,-0.001808119006455,-0.026245685294271,0.011927607469261,0.022813547402620,-0.044820498675108,-0.024160873144865,-0.027180707082152,0.084098786115646,0.083455577492714,-0.077185191214085,-0.054080054163933,0.049957722425461,0.041520386934280,-0.026030246168375));
res += mul(Get(s3,0,dy), float4x4(-0.034983076155186,0.012650637887418,0.008188463747501,0.065391235053539,-0.022821694612503,0.027604037895799,0.006040160544217,0.000761534320191,-0.023105770349503,0.003911384381354,0.046230074018240,-0.056345272809267,0.027460880577564,-0.001187989255413,-0.049085885286331,0.039354603737593));
res += mul(Get(s3,dx,-dy), float4x4(-0.007949231192470,-0.018523884937167,0.001216172939166,0.050473339855671,-0.005441270302981,-0.023518599569798,-0.023265229538083,-0.023552825674415,0.021384468302131,-0.000400021846872,-0.026751292869449,0.003510044422001,-0.034138519316912,-0.002355652628466,-0.070173494517803,0.013575260527432));
res += mul(Get(s3,dx,0), float4x4(0.010359968058765,-0.005058598238975,-0.016905007883906,-0.011872475966811,0.041630089282990,-0.012023206800222,0.018040796741843,-0.104646094143391,-0.023240715265274,0.092291086912155,0.021670913323760,-0.072496332228184,0.055746871978045,0.025589691475034,-0.040400817990303,0.002772869076580));
res += mul(Get(s3,dx,dy), float4x4(-0.065850175917149,0.011895537376404,-0.013721198774874,0.048560190945864,0.052347760647535,0.070144414901733,0.014493903145194,-0.039481252431870,-0.024658491834998,-0.033144246786833,-0.017470857128501,0.036996435374022,0.002714086789638,-0.005179141648114,-0.054060470312834,0.010787809267640));
return max(float4(0,0,0,0), res);
}
