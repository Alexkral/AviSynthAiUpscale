sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.016827465966344,0.045494168996811,0.008519187569618,-0.025322850793600,0.026828661561012,-0.006740120705217,-0.021300381049514,0.022016145288944,-0.018695617094636,0.035235140472651,-0.013569224625826,0.017921982333064,0.031174689531326,0.001102363923565,-0.023698467761278,-0.066611200571060));
res += mul(Get(s0,-dx,0), float4x4(-0.008870919235051,0.002851008670405,-0.008241492323577,-0.033897839486599,0.063322067260742,-0.015054203569889,0.060760933905840,0.100331410765648,0.036514334380627,-0.005881227087229,-0.073043242096901,-0.021599356085062,0.004333335906267,-0.008730286732316,-0.006044367793947,-0.050685338675976));
res += mul(Get(s0,-dx,dy), float4x4(0.025106608867645,-0.024044848978519,0.013156672008336,-0.035480409860611,0.012507130391896,-0.020413238555193,0.015964334830642,0.023341419175267,0.001421642140485,-0.044339809566736,-0.020794605836272,-0.029221834614873,-0.000944976403844,0.009885258041322,-0.016711968928576,-0.057359918951988));
res += mul(Get(s0,0,-dy), float4x4(-0.035932313650846,0.052026018500328,-0.013728358782828,-0.018520202487707,0.049908183515072,-0.057201098650694,0.041695028543472,0.005567000713199,-0.068758547306061,0.167766317725182,-0.028416277840734,0.022856416180730,-0.015602016821504,0.012412471696734,-0.036572810262442,0.028129983693361));
res += mul(Get(s0,0,0), float4x4(0.004237334709615,0.012025892734528,-0.000893464311957,-0.011065041646361,-0.080408476293087,0.005636412184685,0.103926159441471,0.030924102291465,0.193645074963570,-0.091229721903801,-0.030488612130284,0.015175200998783,0.037008218467236,-0.033906970173120,-0.035183873027563,-0.010799589566886));
res += mul(Get(s0,0,dy), float4x4(0.052684906870127,-0.003262019017711,0.037223733961582,-0.001108303666115,-0.022366298362613,0.003302436554804,0.014057891443372,0.014859569258988,0.069874726235867,-0.095038995146751,0.076671898365021,-0.015271976590157,-0.011046015657485,-0.038130726665258,-0.002163690980524,-0.025710742920637));
res += mul(Get(s0,dx,-dy), float4x4(-0.013161652721465,-0.015709316357970,-0.010448743589222,-0.018334783613682,0.006183548364788,-0.023849807679653,-0.018785944208503,0.020725874230266,-0.069214947521687,0.074491888284683,-0.001913166837767,-0.012052979320288,-0.048541739583015,0.057787839323282,0.003780145430937,-0.006272830534726));
res += mul(Get(s0,dx,0), float4x4(0.001478178543039,0.001983975525945,0.013290635310113,0.005722827743739,-0.050997417420149,-0.037076722830534,0.040199175477028,-0.020652225241065,0.037586845457554,0.023778676986694,0.032656580209732,-0.006274474784732,-0.025582225993276,-0.017481498420238,-0.016770236194134,0.010410635732114));
res += mul(Get(s0,dx,dy), float4x4(0.012027225457132,0.002136512659490,0.019623691216111,0.013542944565415,-0.026927959173918,0.012103861197829,0.023873684927821,0.009987503290176,-0.019870901480317,-0.074139125645161,0.032228652387857,-0.004719711374491,0.025931959971786,-0.021439971402287,-0.002897738246247,-0.010840794071555));
res += mul(Get(s1,-dx,-dy), float4x4(-0.051005601882935,-0.028714094310999,-0.007112771272659,-0.020043360069394,-0.006627045106143,0.009232485666871,-0.059106763452291,-0.013554412871599,-0.015498029068112,0.026726707816124,0.012875466607511,-0.042149268090725,-0.018043713644147,0.050536680966616,-0.088632449507713,-0.043130092322826));
res += mul(Get(s1,-dx,0), float4x4(-0.036089945584536,-0.000897621503100,-0.016280155628920,-0.010119254700840,0.002775802277029,0.006395710632205,-0.004790722392499,-0.008063484914601,0.019263807684183,-0.025285083800554,-0.006382768042386,-0.029542092233896,0.028228117153049,0.043630972504616,-0.048239734023809,-0.030261322855949));
res += mul(Get(s1,-dx,dy), float4x4(0.024129757657647,-0.025564955547452,-0.007191327866167,-0.016377609223127,-0.042724017053843,-0.001767684938386,0.017864108085632,0.048326000571251,-0.033890616148710,-0.006210690829903,0.016260985285044,-0.024930136278272,-0.020907785743475,-0.027403734624386,0.001577046117745,0.046285882592201));
res += mul(Get(s1,0,-dy), float4x4(0.030465001240373,-0.020496590062976,-0.013924696482718,-0.035736981779337,0.049788925796747,-0.031787879765034,-0.007325675338507,0.000871286436450,-0.005187182687223,0.030792422592640,-0.014629298821092,-0.023214120417833,0.102300792932510,0.002322091488168,-0.018699545413256,-0.001099764602259));
res += mul(Get(s1,0,0), float4x4(0.030231863260269,-0.023756254464388,0.020019844174385,-0.021405696868896,0.011606997810304,-0.072550095617771,0.099765226244926,0.028967434540391,0.000594054348767,-0.029158072546124,-0.026781329885125,-0.019763030111790,0.067427925765514,-0.071212232112885,0.154251545667648,0.015212805010378));
res += mul(Get(s1,0,dy), float4x4(-0.002357195829973,-0.029908461496234,0.019848767668009,-0.023903394117951,-0.060697615146637,0.100794203579426,-0.016816429793835,-0.023814214393497,-0.048204664140940,0.002537014661357,-0.007622994016856,-0.014846890233457,-0.080080926418304,-0.014435712248087,-0.021434560418129,-0.013308545574546));
res += mul(Get(s1,dx,-dy), float4x4(-0.024076858535409,0.011939306743443,0.026826547458768,-0.026394404470921,-0.017699738964438,-0.029917562380433,-0.047233060002327,-0.024954410269856,-0.007997876033187,0.060170806944370,0.039429828524590,0.001823961269110,-0.001052587875165,-0.011495544575155,-0.016397260129452,0.012045752257109));
res += mul(Get(s1,dx,0), float4x4(-0.022835046052933,-0.014736623503268,0.023082820698619,-0.012731099501252,0.015642534941435,-0.018453728407621,0.045112602412701,0.011528632603586,0.016082393005490,-0.018739774823189,0.001384367700666,0.000128883199068,0.024259114637971,-0.047862730920315,-0.016845066100359,-0.002219776157290));
res += mul(Get(s1,dx,dy), float4x4(-0.029019901528955,-0.027215432375669,-0.040662717074156,0.009207618422806,-0.054023090749979,0.020960101857781,-0.019604787230492,-0.026496734470129,-0.017952555790544,-0.015925807878375,-0.028749926015735,0.005895325914025,-0.069488026201725,-0.001554257120006,-0.134337231516838,-0.009902610443532));
res += mul(Get(s2,-dx,-dy), float4x4(-0.003944107796997,-0.014317343011498,0.011060297489166,0.019761053845286,0.002326027257368,0.006498685106635,0.027682803571224,0.014541595242918,0.005112405400723,0.050086002796888,-0.019986232742667,-0.005736261140555,-0.015444613061845,0.004090063273907,-0.020081557333469,-0.074825733900070));
res += mul(Get(s2,-dx,0), float4x4(0.065203808248043,-0.015584878623486,-0.003426856826991,0.011579345911741,-0.032081931829453,0.029849521815777,0.019777482375503,-0.008071049116552,-0.045655328780413,-0.016003109514713,0.037395283579826,0.191991999745369,-0.019594905897975,-0.002229749225080,-0.024890948086977,-0.101510494947433));
res += mul(Get(s2,-dx,dy), float4x4(-0.015692465007305,-0.018174713477492,0.001064680749550,-0.008089259266853,-0.001182840554975,0.014597807079554,0.015988528728485,-0.009051442146301,0.023352267220616,-0.047536455094814,-0.038619611412287,0.090403877198696,0.030902795493603,0.007389453239739,-0.001365306437947,-0.106014408171177));
res += mul(Get(s2,0,-dy), float4x4(-0.027348963543773,0.051883898675442,0.026028804481030,0.005254105199128,-0.021590812131763,-0.005603279452771,0.022702086716890,0.033601321280003,0.022908378392458,-0.127881884574890,0.137414112687111,-0.010597615502775,-0.014489831402898,0.043339248746634,-0.016076607629657,0.035679269582033));
res += mul(Get(s2,0,0), float4x4(0.078438796103001,-0.022654011845589,-0.002143730642274,0.010291113518178,-0.017112687230110,0.008429062552750,0.000637213990558,0.028826765716076,-0.131831914186478,0.245622992515564,-0.088508613407612,-0.142322003841400,-0.008628672920167,-0.002932598581538,0.007375654764473,0.005543050821871));
res += mul(Get(s2,0,dy), float4x4(0.048291563987732,-0.018883684650064,0.032307922840118,-0.014176984317601,0.026234595105052,-0.020512133836746,0.006820051930845,0.045207627117634,0.065789535641670,-0.083303473889828,-0.072792701423168,-0.018878743052483,0.003145740367472,0.030384883284569,0.038530122488737,0.009481339715421));
res += mul(Get(s2,dx,-dy), float4x4(0.005122237838805,0.057686664164066,0.052666317671537,0.014026447199285,-0.028344776481390,0.011139763519168,0.007573487702757,-0.011610516346991,-0.021070132032037,0.029195144772530,-0.012782781384885,0.034388858824968,-0.043276563286781,-0.052178971469402,-0.052707701921463,0.016265761107206));
res += mul(Get(s2,dx,0), float4x4(-0.018843993544579,0.011940978467464,0.019589478150010,0.014218155294657,0.003454842837527,0.056346729397774,-0.011443411000073,-0.003076579654589,-0.032546024769545,-0.095733091235161,0.021705228835344,-0.042006611824036,-0.005942648742348,-0.068739376962185,-0.024654872715473,0.015309873037040));
res += mul(Get(s2,dx,dy), float4x4(-0.010477186180651,-0.021312206983566,0.024895789101720,0.044155500829220,0.053579162806273,0.007653417997062,0.016712412238121,0.036975953727961,0.006786754354835,0.027087997645140,0.091972082853317,0.003650657366961,-0.003374170744792,-0.037416856735945,0.004245108459145,0.004049834795296));
res += mul(Get(s3,-dx,-dy), float4x4(-0.029520966112614,0.057549890130758,-0.017853556200862,-0.023200254887342,0.023390349000692,0.019987048581243,0.002422278979793,0.034071933478117,0.028383761644363,0.042689684778452,-0.038905669003725,-0.049726217985153,-0.017625212669373,0.005679185967892,0.003190563293174,0.036436390131712));
res += mul(Get(s3,-dx,0), float4x4(-0.009524821303785,-0.008223515003920,-0.028000155463815,-0.091560870409012,-0.018014879897237,-0.014116250909865,-0.002479647751898,0.054144784808159,0.017146009951830,0.004522333852947,-0.043337363749743,-0.087375938892365,-0.021053636446595,0.008058016188443,-0.012062708847225,0.013846941292286));
res += mul(Get(s3,-dx,dy), float4x4(0.008595381863415,0.022006843239069,-0.040545336902142,-0.078156024217606,-0.020094053819776,0.028262214735150,0.013849507085979,0.035230297595263,-0.056024640798569,-0.008979175239801,0.017248492687941,-0.071208573877811,-0.008227596059442,0.006336135324091,-0.004067206289619,0.005021633580327));
res += mul(Get(s3,0,-dy), float4x4(-0.005170260090381,0.035684563219547,0.001827860134654,0.033410776406527,0.017880145460367,0.015404977835715,0.025334704667330,-0.021396763622761,-0.035500474274158,-0.006093958392739,-0.078277908265591,0.026736011728644,-0.048933956772089,0.003666919190437,0.020609349012375,-0.024672007188201));
res += mul(Get(s3,0,0), float4x4(-0.040965158492327,-0.039493031799793,0.023264111950994,0.148452490568161,0.012637660838664,-0.024220606312156,-0.024046909064054,-0.027787623926997,0.104548946022987,-0.022194515913725,-0.004448913503438,0.050893478095531,0.020636638626456,-0.046766206622124,-0.011393791995943,-0.001164196757600));
res += mul(Get(s3,0,dy), float4x4(0.071551568806171,-0.042750850319862,-0.027745973318815,0.039915651082993,-0.024221276864409,0.012058433145285,-0.019617816433311,-0.016555594280362,-0.047681726515293,0.029795542359352,0.023918434977531,0.022735478356481,0.034402243793011,-0.043925881385803,-0.002374961040914,-0.014774426817894));
res += mul(Get(s3,dx,-dy), float4x4(-0.033594619482756,-0.022236332297325,0.103312492370605,0.023537689819932,-0.013978769071400,-0.021780073642731,0.000942360900808,-0.032801814377308,-0.052918456494808,-0.012339376844466,-0.006985197775066,-0.014380546286702,0.000933168921620,-0.017777003347874,0.003889356739819,0.002263285685331));
res += mul(Get(s3,dx,0), float4x4(-0.099212743341923,0.135010018944740,-0.047363411635160,-0.030613357201219,-0.009810870513320,-0.028489248827100,0.017947558313608,-0.020945673808455,0.001804506639019,-0.050641179084778,0.088981643319130,0.012194090522826,0.012100761756301,-0.024848533794284,-0.006773703265935,-0.014435927383602));
res += mul(Get(s3,dx,dy), float4x4(0.095049910247326,-0.076631218194962,-0.023899612948298,0.044433634728193,-0.026643477380276,0.024501811712980,0.007442627102137,-0.062481474131346,-0.029017338529229,-0.049160037189722,0.002887569833547,-0.014762153849006,-0.026403324678540,-0.034698475152254,0.010340286418796,-0.015266844071448));
return max(float4(0,0,0,0), res);
}
