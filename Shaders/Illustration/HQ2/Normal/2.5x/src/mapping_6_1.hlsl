sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.010912744328380,0.003443943569437,-0.000768177036662,0.007762824650854,-0.001809089211747,0.014484317041934,0.003229203633964,0.044069003313780,0.015982432290912,0.048692956566811,-0.012195068411529,-0.040436618030071,0.017108188942075,0.037746563553810,-0.009896616451442,0.009007396176457));
res += mul(Get(s0,-dx,0), float4x4(0.007839652709663,0.007084195502102,-0.004615351092070,-0.052514597773552,0.043138228356838,0.091863960027695,0.000646239495836,0.068233303725719,0.060982428491116,0.082111835479736,-0.010772950015962,0.027376599609852,0.000210892554605,0.082723416388035,-0.001789392554201,-0.096790507435799));
res += mul(Get(s0,-dx,dy), float4x4(0.009243551641703,0.046494364738464,-0.004129508044571,-0.057906921952963,0.033196665346622,0.057622052729130,-0.004607289563864,0.041073761880398,0.045547217130661,0.034754667431116,-0.005317299161106,0.008175613358617,-0.009209732525051,-0.026220701634884,0.002082820516080,-0.039576105773449));
res += mul(Get(s0,0,-dy), float4x4(0.003138698171824,0.040409199893475,0.006582959089428,0.019459750503302,0.039752453565598,0.050644837319851,-0.006165797822177,0.081771388649940,-0.008382564410567,0.027019113302231,0.000876941019669,-0.040110845118761,0.014249400235713,-0.061912991106510,0.003595521207899,0.041510712355375));
res += mul(Get(s0,0,0), float4x4(-0.018706792965531,-0.042145997285843,0.009686728939414,0.081791192293167,0.031276516616344,0.090740621089935,-0.007271374110132,-0.050476599484682,-0.005026328377426,-0.068719282746315,0.002070195274428,0.085321828722954,0.026569500565529,0.078343719244003,0.000486295408336,-0.034089703112841));
res += mul(Get(s0,0,dy), float4x4(-0.006429781671613,-0.020212512463331,0.004275509621948,0.026409314945340,0.003653419902548,0.033138368278742,-0.005436258390546,-0.029189484193921,0.025441028177738,0.028342330828309,-0.004891317803413,0.031252052634954,0.040647249668837,0.038211032748222,0.009044123813510,0.064758993685246));
res += mul(Get(s0,dx,-dy), float4x4(0.017919572070241,0.068713672459126,-0.003737299237400,-0.020330594852567,0.000126834027469,-0.030172238126397,-0.003294602036476,-0.051388334482908,-0.008079177699983,0.043713372200727,-0.000022166948838,-0.021470198407769,0.026187961921096,0.020245777443051,0.007811301853508,0.062893152236938));
res += mul(Get(s0,dx,0), float4x4(0.038873199373484,0.091683425009251,-0.002466915640980,0.062350809574127,-0.004737203940749,0.018819529563189,0.001171796466224,-0.046576995402575,-0.004211005754769,-0.002983802463859,0.007634965237230,0.137668609619141,0.008296071551740,-0.045333191752434,0.002983269514516,-0.037170160561800));
res += mul(Get(s0,dx,dy), float4x4(0.012464787811041,0.029783366248012,-0.000021976789867,0.048502653837204,0.004822707735002,0.036036789417267,0.001691718469374,-0.021007273346186,-0.006348176393658,-0.033531982451677,0.003159582614899,0.120075039565563,0.006312285084277,-0.007433453574777,-0.003120230278000,-0.095258735120296));
res += mul(Get(s1,-dx,-dy), float4x4(-0.033662542700768,-0.025999860838056,0.010436773300171,0.004683204460889,-0.011281811632216,-0.087215505540371,-0.005618266295642,0.025738650932908,-0.032784711569548,-0.022508820518851,-0.000293856923236,0.003407138632610,0.023844083771110,0.021433956921101,0.000698911549989,0.018581107258797));
res += mul(Get(s1,-dx,0), float4x4(-0.062286306172609,-0.104389764368534,0.014338719658554,0.017290906980634,0.020941579714417,0.082088463008404,-0.004498915746808,0.004597214981914,0.002335880883038,0.017049185931683,-0.000342342245858,0.102551922202110,0.044034849852324,0.078887648880482,0.002997022122145,0.038516689091921));
res += mul(Get(s1,-dx,dy), float4x4(-0.029216708615422,-0.085352078080177,0.001513339462690,0.067908339202404,-0.011271256953478,0.111852563917637,0.000642152852379,0.002084230538458,-0.001174205332063,-0.009047907777131,-0.001289976062253,0.019097292795777,-0.014527565799654,0.042629778385162,0.004502902738750,-0.044878970831633));
res += mul(Get(s1,0,-dy), float4x4(0.012783552519977,0.048260714858770,-0.003607109654695,0.017788438126445,-0.012067393399775,-0.080673992633820,0.000584140361752,0.038067098706961,0.015583354048431,0.026087176054716,-0.007084353361279,0.062663428485394,-0.002579525345936,-0.025330146774650,-0.002957137767226,0.048550423234701));
res += mul(Get(s1,0,0), float4x4(0.059448882937431,0.148857861757278,0.003895258065313,0.121430344879627,0.002217077184469,-0.017670189961791,-0.004361096769571,-0.055774763226509,0.022444922477007,0.055593606084585,-0.006899569649249,-0.104826644062996,-0.015362867154181,0.001824577921070,-0.005680018570274,-0.042601134628057));
res += mul(Get(s1,0,dy), float4x4(0.022520078346133,-0.006476505659521,0.007270389236510,0.113888390362263,0.011581156402826,0.158078908920288,-0.006564642768353,-0.070374011993408,-0.000182198244147,-0.013203920796514,-0.001648393576033,0.051006607711315,-0.014463371597230,0.023152505978942,-0.006141028832644,0.001698787556961));
res += mul(Get(s1,dx,-dy), float4x4(-0.012236565351486,-0.059480924159288,-0.000185898592463,-0.109499581158161,0.009772734716535,0.022937988862395,0.002678855787963,0.041549753397703,-0.002084672683850,-0.008580604568124,-0.001150510390289,-0.016522977501154,-0.015294540673494,-0.011958348564804,0.011450952850282,0.089982211589813));
res += mul(Get(s1,dx,0), float4x4(0.011011896654963,-0.010473054833710,-0.009878460317850,-0.127904489636421,-0.009654939174652,-0.040860205888748,0.006788788363338,-0.030265342444181,-0.041074935346842,-0.075355619192123,0.006271956022829,-0.044899605214596,-0.011280774138868,-0.007086795289069,0.014110635034740,0.141409933567047));
res += mul(Get(s1,dx,dy), float4x4(0.021846437826753,0.004179231356829,-0.008482175879180,-0.032052282243967,-0.018749244511127,0.025862261652946,0.000456222129287,-0.079879447817802,0.013055270537734,-0.040496829897165,0.002287636743858,0.004409323446453,-0.006332998163998,-0.006864910479635,0.008954595774412,0.106058120727539));
res += mul(Get(s2,-dx,-dy), float4x4(-0.020084612071514,0.018032599240541,0.001061562797986,-0.096579536795616,-0.023721402511001,-0.059069827198982,0.000742067932151,0.006400914862752,0.043228868395090,0.069182381033897,-0.004129525274038,0.024062333628535,0.018113976344466,0.067636586725712,-0.001754849101417,-0.031686075031757));
res += mul(Get(s2,-dx,0), float4x4(-0.015543118119240,-0.006420257966965,0.002108906162903,-0.011143768206239,-0.019625451415777,-0.020816298201680,-0.000926044303924,0.001675212290138,0.042050018906593,0.075350761413574,-0.004784761462361,0.009835833683610,-0.007562546990812,0.011708931997418,-0.000742488366086,0.012462958693504));
res += mul(Get(s2,-dx,dy), float4x4(0.004253881517798,-0.003692920785397,0.001293704845011,0.035282760858536,-0.012317295186222,0.022610073909163,0.000138675211929,0.021878665313125,0.042839452624321,0.012279710732400,-0.003772635711357,0.041493035852909,-0.015183803625405,-0.047974660992622,-0.003805975662544,0.030604179948568));
res += mul(Get(s2,0,-dy), float4x4(-0.004537574015558,0.055767592042685,0.000702119607013,-0.062233056873083,-0.006765779107809,-0.012632724829018,0.006092798896134,0.057208940386772,0.014139235019684,0.031693242490292,0.000431690918049,-0.059840042144060,0.007432375103235,0.032155938446522,-0.002231150632724,-0.045410618185997));
res += mul(Get(s2,0,0), float4x4(0.015092150308192,0.043996460735798,0.002981460187584,-0.000529852637555,-0.020140659064054,-0.044066332280636,0.008094710297883,0.050264008343220,-0.003244858002290,-0.011394849978387,0.001372169703245,0.026357516646385,0.000963567348663,0.098480075597763,-0.000136387854582,-0.019730519503355));
res += mul(Get(s2,0,dy), float4x4(0.011534390971065,0.024814866483212,-0.000354530202458,0.004018914885819,-0.008866152726114,0.012798358686268,0.001316652866080,-0.006435497663915,0.017825314775109,-0.037450637668371,-0.000709387066308,0.053126666694880,-0.022118436172605,-0.074528686702251,0.002126406179741,0.087485961616039));
res += mul(Get(s2,dx,-dy), float4x4(-0.011482329107821,0.022194236516953,-0.002601242624223,-0.018514659255743,0.022373039275408,0.076213978230953,0.003069206606597,0.117188096046448,-0.002612114418298,0.022313755005598,0.006063821259886,0.023445770144463,0.006811231374741,0.023279014974833,-0.001021104515530,-0.048480749130249));
res += mul(Get(s2,dx,0), float4x4(0.006703773979098,0.030122315511107,-0.001868412946351,0.000931457441766,0.030532384291291,0.086217209696770,0.007259135600179,0.107935383915901,0.019078472629189,0.028187708929181,0.002261267276481,0.088661625981331,-0.005293055903167,0.078263022005558,-0.002909532515332,-0.040365070104599));
res += mul(Get(s2,dx,dy), float4x4(0.007170782424510,0.015490327030420,0.000007475608072,0.027072163298726,-0.001718005514704,0.048352468758821,0.006193902809173,-0.005700015462935,0.008688142523170,-0.008057805709541,-0.003793554147705,0.019802674651146,-0.010046607814729,-0.004282013513148,-0.001419041538611,0.061717085540295));
res += mul(Get(s3,-dx,-dy), float4x4(-0.002863125409931,-0.028953267261386,-0.001157043850981,0.024381568655372,0.027933863922954,0.025158956646919,-0.003019454190508,0.006781577598304,0.000570443342440,0.017813177779317,0.006384560838342,0.039503540843725,-0.012010549195111,-0.059340346604586,-0.007614386733621,-0.064387239515781));
res += mul(Get(s3,-dx,0), float4x4(0.021500686183572,0.045809824019670,-0.001056997803971,0.035288907587528,0.008304062299430,0.029251568019390,-0.003599076764658,-0.030457219108939,0.019471066072583,0.083471223711967,0.012957769446075,0.093113146722317,0.029193205758929,0.019332755357027,-0.007535990327597,-0.047061905264854));
res += mul(Get(s3,-dx,dy), float4x4(-0.004881091881543,0.039042476564646,0.000966533902101,0.006812949664891,-0.005202158819884,-0.001589071238413,-0.002998313400894,0.026776399463415,-0.009084790945053,0.045684929937124,0.008471949025989,0.016651451587677,0.036753807216883,0.000344670901541,-0.005682918708771,0.013060206547379));
res += mul(Get(s3,0,-dy), float4x4(-0.002628669142723,-0.041081663221121,0.003311007516459,0.124814860522747,0.022379847243428,0.040195036679506,-0.001016607624479,-0.038570251315832,0.012918899767101,0.005023024044931,-0.004025945905596,0.052737049758434,-0.000665264436975,-0.069086477160454,-0.002907299669459,-0.073171369731426));
res += mul(Get(s3,0,0), float4x4(0.018959360197186,0.024315096437931,-0.001644133473746,0.003881282173097,-0.015470115467906,0.022896045818925,-0.001235742121935,-0.063948057591915,0.040781915187836,0.129225254058838,-0.005457445979118,0.003635068424046,0.024721922352910,-0.060998644679785,-0.005322312936187,0.009006169624627));
res += mul(Get(s3,0,dy), float4x4(-0.006376127246767,0.077546373009682,-0.001852841582149,-0.065121017396450,0.012238653376698,-0.015651661902666,-0.000404938444262,0.125648498535156,-0.003834927454591,0.081439338624477,0.002937914803624,0.026916900649667,0.026360074058175,-0.000810987665318,-0.009791160002351,0.037102330476046));
res += mul(Get(s3,dx,-dy), float4x4(0.015448627062142,0.017436914145947,-0.000617937243078,0.079872556030750,-0.016271483153105,0.013940118253231,-0.000865058973432,-0.062871113419533,0.004625674802810,-0.007856291718781,0.007310315035284,-0.026879122480750,0.039812196046114,0.035468667745590,-0.004992959089577,0.039456538856030));
res += mul(Get(s3,dx,0), float4x4(-0.006184793543071,0.003676254767925,0.000842754379846,0.008742724545300,-0.011108880862594,-0.005066719837487,-0.000795836152975,0.057344343513250,-0.009583866223693,0.009894261136651,0.010690948925912,0.021523196250200,0.050960924476385,0.017765898257494,-0.003315276931971,0.031580515205860));
res += mul(Get(s3,dx,dy), float4x4(-0.008227910846472,0.044734299182892,0.000364609790267,-0.003486782079563,0.023414911702275,0.007952149957418,-0.001963277580217,0.110343746840954,0.015779625624418,0.101183593273163,0.006102519109845,0.060768261551857,0.019632993265986,0.021261384710670,-0.008558987639844,-0.015453283675015));
return max(float4(0,0,0,0), res);
}
