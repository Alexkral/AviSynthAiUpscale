sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.000722567667253,0.005874692462385,0.001160727115348,-0.001631385064684,0.004217998590320,-0.004056646954268,0.001927956705913,0.005060346797109,0.002003485336900,0.014837349765003,0.002569064497948,-0.009506096132100,0.015060932375491,0.009483831003308,0.006385736633092,-0.007051552645862));
res += mul(Get(s0,-dx,0), float4x4(-0.002614828059450,0.013305705972016,0.002081902930513,-0.008483135141432,0.006090437527746,-0.020929619669914,-0.000606158690061,0.012261992320418,-0.001734021701850,0.013836935162544,0.001248413464054,-0.004098623991013,0.021591050550342,-0.028283497318625,0.002593518467620,-0.005209104157984));
res += mul(Get(s0,-dx,dy), float4x4(0.002796406159177,-0.003732485929504,-0.000511681777425,-0.005181886255741,-0.000579987594392,-0.012740300968289,-0.001501266960986,0.005742280278355,0.004844272974879,0.008292307145894,0.000392335350625,-0.008976358920336,-0.001304842531681,0.000359385827323,0.001877600792795,-0.007149608805776));
res += mul(Get(s0,0,-dy), float4x4(0.009385021403432,-0.012364254333079,-0.000305261579342,0.009895185939968,0.002814132487401,0.016968732699752,0.002507253317162,0.002909120405093,0.007676229812205,-0.000005439360393,0.001024537254125,-0.015559639781713,0.014839470386505,0.012882806360722,0.008252671919763,-0.005547924432904));
res += mul(Get(s0,0,0), float4x4(0.005205595865846,0.006761829368770,0.002367984503508,0.009659621864557,0.007471802644432,-0.013892532326281,0.000800097011961,-0.011035350151360,-0.005486218258739,0.048354327678680,0.006824284326285,-0.014047971926630,0.021467223763466,-0.014781338162720,0.002747932216153,0.005394861567765));
res += mul(Get(s0,0,dy), float4x4(0.002001259243116,0.018225712701678,0.003825748106465,0.004257207736373,0.003384074661881,-0.018146231770515,-0.000563426699955,-0.012151276692748,0.008555394597352,0.014896845445037,0.003912520594895,-0.018299369141459,0.009401718154550,-0.002273543039337,-0.000800383975729,0.029134633019567));
res += mul(Get(s0,dx,-dy), float4x4(0.004248684737831,-0.006853515747935,0.000172310450580,0.000390587199945,-0.005671308841556,0.013852888718247,0.002194856991991,-0.025379464030266,0.003536168020219,0.002026534173638,0.002247704192996,-0.004311825614423,0.022222530096769,-0.015660377219319,0.003236766671762,0.014874302782118));
res += mul(Get(s0,dx,0), float4x4(0.006821853574365,-0.012298686429858,-0.002077078213915,0.003935661632568,0.004558189772069,-0.017031935974956,0.001871844055131,-0.013166310265660,0.003053512424231,0.013072819449008,0.002202213509008,0.015076855197549,0.005711483769119,0.019909238442779,0.006346185691655,0.002849659183994));
res += mul(Get(s0,dx,dy), float4x4(0.005951326806098,0.001198255107738,0.000116751136375,0.003314165631309,0.004152106586844,-0.017535192891955,0.000954656919930,-0.006521971430629,0.001140086678788,0.030099868774414,0.005675110034645,0.009283716790378,0.001094724750146,0.000241144472966,0.001333094667643,-0.003705851733685));
res += mul(Get(s1,-dx,-dy), float4x4(0.015078848227859,-0.012347089126706,0.004489121492952,-0.011881752870977,-0.017793118953705,0.054604031145573,0.001911777770147,0.004050384741277,0.016064591705799,0.001108193537220,0.005840384401381,0.001490627415478,0.001780695980415,0.013450401835144,0.002300025196746,0.023607844486833));
res += mul(Get(s1,-dx,0), float4x4(0.014808827079833,-0.020684964954853,0.005590731743723,-0.012036895379424,0.003167836228386,0.019051348790526,0.001277221716009,0.009964760392904,0.018133237957954,-0.012950097210705,0.004763706587255,0.018117943778634,0.015328452922404,-0.013960871845484,0.001556365168653,0.029638843610883));
res += mul(Get(s1,-dx,dy), float4x4(0.004121185746044,0.031933765858412,0.005866596940905,-0.007286140695214,0.017639124765992,-0.055686872452497,-0.002137273550034,0.008256830275059,0.002015482634306,0.008844999596477,0.005154862999916,-0.004797617439181,0.017775850370526,-0.046567641198635,0.001807845779695,0.015881977975368));
res += mul(Get(s1,0,-dy), float4x4(0.004676850046962,0.023068031296134,0.004866105038673,0.019751554355025,-0.010808497667313,0.033131618052721,0.000161304618814,-0.008647627197206,0.007148450240493,0.024254677817225,0.007159254979342,0.008038156665862,-0.002283700974658,0.021641768515110,0.004704194143414,-0.003560259239748));
res += mul(Get(s1,0,0), float4x4(0.017363343387842,-0.038258954882622,-0.001570449094288,0.031439032405615,-0.006821418646723,0.053139261901379,0.005525243002921,-0.007348218467087,0.008461212739348,-0.006532749161124,0.003841169644147,-0.006580385379493,0.003786418121308,-0.006259659305215,0.005567910149693,-0.012471470981836));
res += mul(Get(s1,0,dy), float4x4(0.002761266659945,0.019955998286605,0.002722952282056,0.021285368129611,0.014459369704127,-0.044476725161076,-0.001212399220094,-0.007392445579171,-0.004300441592932,0.028864502906799,0.001868301071227,0.005950083024800,0.004483834840357,-0.031899411231279,0.001315758796409,-0.005727536510676));
res += mul(Get(s1,dx,-dy), float4x4(-0.003522052196786,0.034080635756254,0.004565178882331,-0.014025384560227,-0.002981209894642,-0.003008935134858,-0.001932342187501,-0.004340848419815,0.008451533503830,-0.020985731855035,0.001905885874294,-0.013312772847712,0.005039536859840,-0.007019520271569,0.002271913457662,0.026750950142741));
res += mul(Get(s1,dx,0), float4x4(-0.008565098047256,0.024115746840835,0.004880030639470,-0.025618379935622,-0.000620045000687,0.021129360422492,0.002218124456704,-0.006259198766202,-0.002623054664582,0.006390719208866,0.006338215433061,-0.002497818553820,0.009533041156828,-0.014414835721254,0.003252146299928,0.036914590746164));
res += mul(Get(s1,dx,dy), float4x4(-0.005579533521086,0.007667147088796,0.000506845244672,-0.019675388932228,0.003599046496674,-0.007371589075774,0.002666381653398,-0.011017108336091,-0.014646128751338,0.033527113497257,0.002717767376453,0.003527917666361,0.004924185108393,-0.005102727096528,0.002348688663915,0.021878940984607));
res += mul(Get(s2,-dx,-dy), float4x4(0.005334706511348,-0.006887474097311,0.001989897340536,-0.021872492507100,-0.002218375215307,0.023425854742527,0.002358533209190,-0.010518547147512,0.002135976916179,0.007808525115252,0.000052611776482,0.003280788427219,0.006051569711417,-0.002806453499943,-0.000160975178005,-0.002084825886413));
res += mul(Get(s2,-dx,0), float4x4(-0.000939675373957,-0.000254823069554,0.001157457358204,-0.019476354122162,0.002937166718766,0.011548818089068,0.003794116899371,-0.010782408528030,0.000666518229991,-0.000808999931905,-0.000774780579377,-0.001199322170578,0.005219588056207,-0.010218661278486,-0.000279296451481,-0.004809157922864));
res += mul(Get(s2,-dx,dy), float4x4(-0.003169205039740,0.020117297768593,0.001227796776220,-0.007605323567986,0.005634023342282,-0.018910534679890,0.001136081176810,-0.003982564434409,-0.005033462774009,0.030983649194241,0.000084872001025,-0.005517058074474,-0.007202787324786,0.030976604670286,0.003219002624974,-0.006949155591428));
res += mul(Get(s2,0,-dy), float4x4(0.006029166746885,-0.002060432685539,0.001378738670610,0.000730616971850,-0.002017099177465,0.008001307025552,0.000629100366496,0.008010106161237,0.002920869272202,0.005856866948307,0.001170340692624,-0.015533564612269,0.001797439879738,0.020772693678737,0.002968086861074,0.001136771286838));
res += mul(Get(s2,0,0), float4x4(-0.000369644752936,0.003547048196197,-0.000516839732882,0.004845076706260,-0.003145328955725,0.019469957798719,0.003055926878005,0.006850875914097,0.000396582996473,-0.002794181229547,0.000772328232415,-0.006535482592881,0.012766146101058,-0.038755036890507,-0.002122146077454,-0.001495409058407));
res += mul(Get(s2,0,dy), float4x4(-0.002803153591231,0.014645701274276,0.000817539403215,0.005136725027114,0.001349280704744,-0.007984824478626,0.000900986371562,0.000273236306384,-0.002915912540630,0.038932472467422,0.003487544134259,0.001729422830977,-0.008066368289292,0.022197980433702,0.001526690437458,-0.001247311127372));
res += mul(Get(s2,dx,-dy), float4x4(0.002029441762716,-0.001390561694279,0.000909334979951,-0.009359532967210,0.007325066253543,-0.001835218397900,-0.000743086508010,0.037144169211388,0.008917434141040,-0.002018670784310,0.002407482359558,0.010523919016123,0.003990940283984,0.006675264332443,0.000370925321477,-0.000040571874706));
res += mul(Get(s2,dx,0), float4x4(-0.000464197684778,0.002316838596016,-0.000086764222942,-0.005838776472956,0.012526380829513,0.002817924832925,-0.000408274005167,0.041834104806185,0.006059136707336,-0.010878427885473,0.000833764730487,0.013639069162309,0.009023997001350,-0.018403802067041,0.000673946633469,-0.001889064675197));
res += mul(Get(s2,dx,dy), float4x4(-0.001704249065369,0.004580528941005,0.001005914644338,-0.002872876822948,0.011684161610901,-0.015835359692574,0.000811446981970,0.024889964610338,0.002569555304945,0.015141957439482,0.002185998018831,-0.000075280957390,-0.003396291751415,-0.007992666214705,-0.001543586491607,-0.002358642639592));
res += mul(Get(s3,-dx,-dy), float4x4(-0.001036410685629,0.007261069025844,0.001439073821530,-0.003697292413563,-0.001033785752952,0.009629453532398,-0.001266897190362,-0.004973598755896,0.009772378951311,0.014107879251242,0.003708666888997,0.013956483453512,0.001558948657475,0.038993947207928,0.005367451813072,-0.008822896517813));
res += mul(Get(s3,-dx,0), float4x4(0.007309361360967,0.005789948161691,0.000959861092269,0.003332234220579,0.005440687295049,-0.000651004898828,0.000391072011553,-0.006871529389173,0.023945007473230,-0.015318349003792,0.004059722181410,0.029811713844538,0.001614831737243,0.016531018540263,0.003044660901651,-0.011223986744881));
res += mul(Get(s3,-dx,dy), float4x4(0.010918594896793,-0.010997023433447,0.000817649823148,0.004054229240865,-0.002748838625848,0.003477041609585,0.000552523008082,-0.013516069389880,0.010962303727865,-0.037816062569618,0.002621816471219,0.017681829631329,0.002332088304684,0.007498371414840,0.000668979890179,-0.014405380003154));
res += mul(Get(s3,0,-dy), float4x4(-0.001025023171678,0.007534228265285,0.001064231386408,0.001941215479746,0.002520960057154,0.010687810368836,0.000649064604659,-0.005649921018630,-0.003120104549453,0.039581112563610,0.005189122632146,-0.004866257309914,-0.000444733334007,0.023575952276587,0.001252559246495,-0.009791666641831));
res += mul(Get(s3,0,0), float4x4(0.003019325202331,0.024965547025204,0.004407177213579,-0.004002704750746,0.004506036639214,-0.015026250854135,0.000182604955626,-0.006302937865257,0.011996896006167,-0.004465390928090,0.004993637558073,-0.009739132598042,0.001394025632180,0.043702524155378,0.004675976466388,-0.010932063683867));
res += mul(Get(s3,0,dy), float4x4(0.010873202234507,-0.021321849897504,-0.000752454390749,-0.007942344993353,-0.006644228473306,0.021213784813881,0.000285847112536,-0.002467055805027,0.011528595350683,-0.056010033935308,-0.001026440993883,0.003517533652484,0.015457573346794,-0.010303784161806,0.002518111374229,-0.021600481122732));
res += mul(Get(s3,dx,-dy), float4x4(0.001167953945696,-0.004301952198148,-0.000472858344438,0.002215313492343,0.003570900531486,-0.006615766324103,0.000331192917656,-0.000365494954167,-0.002316983416677,0.014793737791479,0.002076675416902,-0.008405099622905,0.005041325930506,0.011482775211334,-0.000542469730135,0.008673235774040));
res += mul(Get(s3,dx,0), float4x4(0.003971002995968,0.011630378663540,0.002768813399598,-0.001932354178280,-0.000402917037718,-0.007522867061198,0.000312236137688,0.002152644330636,0.008517054840922,0.011018004268408,0.007057803217322,0.006605191156268,0.008799921721220,0.031168378889561,0.003552014706656,-0.000235501545831));
res += mul(Get(s3,dx,dy), float4x4(0.008911467157304,-0.016580438241363,0.000041511524614,-0.003142734523863,-0.003959942143410,0.024117356166244,0.001025778357871,-0.006989770568907,0.011080281808972,-0.035415150225163,0.000771359715145,0.012692512944341,0.014038228429854,-0.013987262733281,0.002498754765838,-0.014385992661119));
return max(float4(0,0,0,0), res);
}
