sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.013410139828920,-0.011371239088476,-0.017173413187265,0.000725562218577,0.009926607832313,0.000182646064786,0.004945123568177,0.005026339553297,-0.068346329033375,-0.045697104185820,-0.006136603653431,-0.054825473576784,-0.047522149980068,0.070002526044846,0.019324932247400,-0.009700900875032));
res += mul(Get(s0,-dx,0), float4x4(-0.013138304464519,-0.017950993031263,0.002221828093752,-0.007211840245873,-0.010211544111371,-0.017592884600163,-0.038205150514841,-0.003837793599814,-0.033870063722134,-0.057800970971584,-0.019734987989068,-0.084007076919079,0.002263174159452,0.079175211489201,0.042037554085255,-0.014959896914661));
res += mul(Get(s0,-dx,dy), float4x4(-0.027306701987982,-0.020388130098581,-0.008632642216980,0.011155758053064,0.007505564484745,0.013547757640481,-0.003900197800249,-0.005536235868931,-0.051536016166210,0.092713542282581,0.039807673543692,-0.014888479374349,-0.002171399770305,0.092259764671326,0.057600215077400,0.002000757725909));
res += mul(Get(s0,0,-dy), float4x4(-0.021129023283720,-0.002383489627391,-0.014233238063753,0.013937097042799,0.006146030500531,0.000006682716048,0.027318703010678,-0.031398631632328,-0.028834519907832,-0.079036451876163,-0.008254855871201,-0.011656250804663,-0.010593725368381,-0.088192716240883,-0.032545816153288,0.019232820719481));
res += mul(Get(s0,0,0), float4x4(-0.030532818287611,-0.002113060792908,-0.006248498801142,-0.013971086591482,0.031916186213493,-0.019142264500260,0.026610113680363,-0.021538382396102,-0.026042556390166,-0.143594652414322,-0.056769121438265,0.107026271522045,0.009382199496031,-0.102749004960060,-0.055642120540142,0.040389422327280));
res += mul(Get(s0,0,dy), float4x4(-0.012979554943740,-0.003089683596045,-0.000905029708520,0.006137826014310,-0.045160438865423,0.004995236638933,0.034975502640009,-0.013998321257532,-0.039174307137728,0.015923321247101,-0.026256281882524,0.032480448484421,0.001700601656921,-0.023568667471409,-0.056083269417286,0.055561363697052));
res += mul(Get(s0,dx,-dy), float4x4(-0.018450748175383,0.001200644997880,0.016477962955832,-0.022402504459023,-0.003227645531297,-0.002523830393329,0.006799521856010,-0.035690870136023,0.007857348769903,0.002536522923037,0.033516027033329,-0.027674211189151,0.043094117194414,-0.050168737769127,-0.054250046610832,0.005348982755095));
res += mul(Get(s0,dx,0), float4x4(-0.016379881650209,0.012102115899324,0.016421625390649,-0.001190844806843,0.008391959592700,-0.014964812435210,0.051448006182909,-0.049634531140327,-0.033396977931261,-0.019292309880257,0.003428770694882,0.096329145133495,0.012310120277107,-0.081217490136623,-0.044088143855333,-0.045437581837177));
res += mul(Get(s0,dx,dy), float4x4(-0.007711465004832,0.000953089329414,0.030220236629248,0.022079536691308,-0.055137492716312,0.022600747644901,0.014601056464016,-0.033551435917616,-0.015711272135377,0.078309290111065,-0.007686538156122,0.005013718735427,-0.013256109319627,-0.066148646175861,-0.016037428751588,-0.011712457984686));
res += mul(Get(s1,-dx,-dy), float4x4(-0.027800489217043,0.080835781991482,0.020777374505997,0.057474482804537,0.014255854301155,-0.014478535391390,0.011963698081672,-0.019552493467927,-0.015077986754477,-0.002283095382154,-0.017842270433903,-0.021686112508178,-0.076685264706612,0.094278529286385,0.017261132597923,-0.030317688360810));
res += mul(Get(s1,-dx,0), float4x4(-0.051191363483667,0.018008392304182,0.023559685796499,0.051886219531298,-0.002565607661381,-0.030019879341125,0.005378145724535,0.006251925136894,-0.038715496659279,-0.001418463420123,-0.006429222878069,0.017256693914533,-0.058583289384842,-0.042356904596090,-0.003468346782029,0.007005041930825));
res += mul(Get(s1,-dx,dy), float4x4(-0.035316053777933,-0.017371967434883,-0.001341365394183,0.004003447480500,-0.007956061512232,0.016411304473877,-0.048348046839237,0.033170107752085,-0.043232273310423,0.017963830381632,-0.016493169590831,-0.010011773556471,0.028778126463294,-0.072455108165741,-0.061348505318165,-0.051194176077843));
res += mul(Get(s1,0,-dy), float4x4(-0.014952163212001,-0.031852804124355,-0.031447730958462,0.063057459890842,0.029856942594051,0.002753631211817,0.008894361555576,-0.028078923001885,-0.001275186892599,0.006606817245483,-0.011432362720370,0.062007315456867,-0.028366591781378,0.011931392364204,0.002001404063776,0.027594499289989));
res += mul(Get(s1,0,0), float4x4(-0.009874831885099,-0.068073369562626,-0.038628622889519,0.010664228349924,0.020423876121640,-0.017468463629484,-0.008006174117327,-0.018715273588896,-0.018842326477170,0.004018727224320,-0.037103209644556,0.065616957843304,0.040353696793318,-0.120903775095940,0.009185737930238,-0.087285898625851));
res += mul(Get(s1,0,dy), float4x4(0.038077186793089,-0.050315067172050,-0.042180486023426,-0.039091292768717,-0.009885724633932,0.068574927747250,0.017466435208917,0.030215118080378,-0.010250301100314,0.028924591839314,-0.005237899720669,-0.020257636904716,0.124452836811543,-0.069841414690018,0.038567591458559,-0.079308621585369));
res += mul(Get(s1,dx,-dy), float4x4(0.058720044791698,-0.038033429533243,-0.002488166559488,-0.022284643724561,0.016564128920436,0.044062692672014,0.045956846326590,-0.024691890925169,-0.016553614288568,0.005922749638557,0.003222767263651,-0.013393010944128,0.055306263267994,0.027977230027318,0.021571580320597,-0.002279923297465));
res += mul(Get(s1,dx,0), float4x4(0.072569809854031,-0.031160175800323,-0.018527179956436,-0.037118829786777,0.007775509264320,-0.013818645849824,0.002032864606008,-0.021070567891002,0.003598114941269,-0.037324417382479,-0.021022509783506,0.017524018883705,0.078960902988911,-0.098121635615826,-0.021165508776903,-0.070768103003502));
res += mul(Get(s1,dx,dy), float4x4(0.058397866785526,-0.021070037037134,-0.007198283448815,-0.013900732621551,-0.058656785637140,0.030601089820266,0.034451562911272,-0.011369572021067,0.016339790076017,0.013093241490424,0.000278482737485,0.013356233015656,-0.052386403083801,-0.091675132513046,0.074752584099770,-0.052463747560978));
res += mul(Get(s2,-dx,-dy), float4x4(-0.008864161558449,0.039925839751959,0.014574232511222,-0.031602773815393,-0.004683453589678,0.022408951073885,-0.017692731693387,0.013030415400863,0.026040662080050,-0.021758357062936,0.002156710252166,0.026248058304191,0.002490356098861,0.017642132937908,-0.002970273140818,-0.025667708367109));
res += mul(Get(s2,-dx,0), float4x4(-0.012206627987325,0.031694300472736,0.019351251423359,0.044967800378799,-0.002881740685552,0.036702770739794,-0.012471660040319,-0.031936340034008,0.044605385512114,0.003970329184085,-0.107511259615421,-0.008960011415184,-0.010647489689291,-0.001581528107636,0.020334167405963,-0.021257735788822));
res += mul(Get(s2,-dx,dy), float4x4(-0.033554930239916,0.050249330699444,0.030552539974451,0.068605050444603,0.003137440886348,0.037413381040096,-0.008120464161038,-0.016084091737866,-0.032760161906481,-0.027482911944389,-0.024939717724919,-0.014156379736960,-0.006915313657373,0.002795549109578,-0.007069500163198,0.026074910536408));
res += mul(Get(s2,0,-dy), float4x4(-0.020894814282656,0.035483177751303,0.000627071945928,0.029298365116119,0.001761304563843,-0.014430081471801,-0.005505963228643,0.019416131079197,0.072309203445911,-0.000802886555903,-0.013294029049575,-0.027177866548300,0.000832063145936,-0.047506410628557,-0.084911033511162,0.008197476156056));
res += mul(Get(s2,0,0), float4x4(-0.031069727614522,-0.001084204064682,-0.022676404565573,0.045414589345455,-0.020091971382499,-0.020644130185246,-0.002982207108289,0.021807201206684,0.063711762428284,0.062790594995022,0.172671005129814,0.030734548345208,-0.007080472540110,-0.078779034316540,-0.019992243498564,-0.028607510030270));
res += mul(Get(s2,0,dy), float4x4(-0.026690753176808,-0.008574827574193,-0.035334683954716,0.075809657573700,-0.019007351249456,-0.012047600932419,-0.013317692093551,0.009522510692477,-0.120667032897472,0.014930747449398,-0.076180502772331,0.086738064885139,-0.016179816797376,-0.033332858234644,-0.022569917142391,0.023512315005064));
res += mul(Get(s2,dx,-dy), float4x4(-0.011407290585339,0.029249703511596,0.010032163932920,-0.002502884715796,0.006015838123858,-0.006995313335210,0.024977188557386,-0.035001531243324,0.056213796138763,-0.027763696387410,-0.037690814584494,-0.060130998492241,0.009010555222631,-0.001893767388538,0.013942463323474,0.005029185675085));
res += mul(Get(s2,dx,0), float4x4(0.000323707354255,0.017974089831114,-0.006701781880111,0.014302769675851,-0.030671045184135,-0.012701053172350,0.013325300067663,-0.005749153438956,-0.067603766918182,-0.042813215404749,0.003939377609640,-0.020823901519179,0.017893100157380,0.004296169150621,0.046779170632362,0.030599713325500));
res += mul(Get(s2,dx,dy), float4x4(0.006003261543810,0.001973874634132,-0.050425656139851,0.007295593153685,-0.023312311619520,-0.018987925723195,-0.009226487949491,0.013367492705584,-0.061856348067522,-0.032621797174215,0.020028639584780,0.021552998572588,0.007541182916611,-0.003777856472880,-0.000952858710662,0.020190728828311));
res += mul(Get(s3,-dx,-dy), float4x4(0.027239680290222,0.003005471313372,-0.056993775069714,-0.003300160169601,0.029875867068768,-0.027636475861073,-0.028920441865921,0.035574600100517,0.038632359355688,-0.032497998327017,0.051974609494209,-0.077812679111958,-0.012817732058465,0.051479995250702,-0.072030544281006,-0.019667353481054));
res += mul(Get(s3,-dx,0), float4x4(-0.033694643527269,0.004410988651216,0.001994182355702,-0.033078197389841,0.023697670549154,-0.014714512042701,-0.011092287488282,0.012080142274499,-0.078252345323563,-0.107774600386620,0.120482474565506,-0.110747635364532,-0.004368343856186,0.020755767822266,0.032772447913885,-0.050466082990170));
res += mul(Get(s3,-dx,dy), float4x4(-0.011752126738429,0.001106576761231,-0.014130407012999,-0.009541655890644,-0.003752907738090,-0.011307659558952,-0.014002890326083,0.004350593779236,-0.027064915746450,0.003819114761427,0.078282281756401,-0.090423487126827,-0.019714454188943,0.021493976935744,0.065799653530121,-0.061406306922436));
res += mul(Get(s3,0,-dy), float4x4(0.008225346915424,-0.039821211248636,-0.026350621134043,0.091580033302307,0.060194872319698,0.000174438609974,0.049823530018330,-0.029839007183909,-0.010868590325117,-0.004649772774428,-0.034470990300179,0.052645403891802,-0.010027233511209,0.047951750457287,-0.020609050989151,-0.028746783733368));
res += mul(Get(s3,0,0), float4x4(-0.000264246657025,-0.032049946486950,-0.039311181753874,0.008915502578020,-0.018723590299487,0.011877179145813,0.027298718690872,-0.023859566077590,-0.076698981225491,-0.098219767212868,-0.080773055553436,-0.028906628489494,0.000297836610116,0.044814955443144,0.027000831440091,-0.024524886161089));
res += mul(Get(s3,0,dy), float4x4(-0.047718826681376,-0.072723828256130,-0.016818722710013,-0.063923820853233,-0.035111326724291,0.030341628938913,0.015346174128354,0.019813984632492,-0.003565357532352,-0.022441767156124,-0.001797085627913,-0.040237054228783,-0.001141579123214,-0.000205109303351,0.036927629262209,-0.087173081934452));
res += mul(Get(s3,dx,-dy), float4x4(0.058603093028069,-0.001120046013966,0.029318545013666,0.020995633676648,-0.002325931331143,0.012104993686080,0.039301063865423,-0.023770237341523,-0.043947946280241,0.129654139280319,-0.052071467041969,0.046172186732292,0.002796609885991,-0.014682149514556,-0.022440223023295,0.103242419660091));
res += mul(Get(s3,dx,0), float4x4(0.030799968168139,0.067089051008224,0.075906790792942,0.042914904654026,-0.064032234251499,-0.005043299868703,0.033621307462454,-0.051433805376291,-0.013866745866835,0.111707352101803,-0.046426147222519,0.038416810333729,0.001107037765905,-0.027470327913761,-0.036573141813278,0.108349494636059));
res += mul(Get(s3,dx,dy), float4x4(-0.066941238939762,-0.018237665295601,-0.020320652052760,0.041374780237675,-0.045315507799387,0.027267381548882,0.077090725302696,-0.026691475883126,0.002769951941445,0.107611581683159,0.009155707433820,-0.013169944286346,0.027271047234535,-0.030589511618018,-0.027873860672116,-0.048121865838766));
return max(float4(0,0,0,0), res);
}
