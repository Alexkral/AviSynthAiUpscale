sampler s0 : register(s0);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(x, y)   tex2D(s0, tex + float2(x, y))[0]

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += float4(-0.083525389432907,-0.039611391723156,-0.091818422079086,0.033154781907797) * Get(-dx,-dy);
res += float4(-0.023514252156019,0.000842876906972,0.322829246520996,-0.013558377511799) * Get(-dx,0);
res += float4(-0.075358591973782,-0.037993822246790,-0.060083527117968,-0.037714097648859) * Get(-dx,dy);
res += float4(-0.133502647280693,-0.024816444143653,0.062785543501377,-0.036364689469337) * Get(0,-dy);
res += float4(0.143879175186157,-0.005457105580717,-0.213521182537079,-0.013101788237691) * Get(0,0);
res += float4(0.203319102525711,0.019739355891943,0.043661706149578,-0.024947304278612) * Get(0,dy);
res += float4(-0.091390728950500,0.017452007159591,-0.023059669882059,0.005201390013099) * Get(dx,-dy);
res += float4(-0.096737101674080,-0.020140441134572,0.053355723619461,-0.018588477745652) * Get(dx,0);
res += float4(-0.070174098014832,-0.007568643894047,-0.010439850389957,-0.017418598756194) * Get(dx,dy);
return max(float4(0,0,0,0), res);
}
