sampler s0 : register(s0);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(x, y)   tex2D(s0, tex + float2(x, y))[0]

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += float4(0.106224879622459,-0.003547900123522,0.115858897566795,-0.091916136443615) * Get(-dx,-dy);
res += float4(0.031949695199728,0.010191404260695,0.093100249767303,-0.017615929245949) * Get(-dx,0);
res += float4(-0.070626161992550,-0.015993388369679,0.056326944380999,-0.028956579044461) * Get(-dx,dy);
res += float4(0.032793939113617,-0.002638424746692,-0.157056301832199,0.010133162140846) * Get(0,-dy);
res += float4(0.049548123031855,-0.019777385517955,-0.131939485669136,0.188735634088516) * Get(0,0);
res += float4(-0.112828873097897,-0.028686281293631,0.039073191583157,0.027076285332441) * Get(0,dy);
res += float4(-0.015292323194444,0.003601002972573,-0.148832470178604,-0.006831442471594) * Get(dx,-dy);
res += float4(-0.149232447147369,-0.023380484431982,-0.149015828967094,-0.006764939986169) * Get(dx,0);
res += float4(-0.099842652678490,-0.009110787883401,0.118223942816257,0.029512397944927) * Get(dx,dy);
return max(float4(0,0,0,0), res);
}
