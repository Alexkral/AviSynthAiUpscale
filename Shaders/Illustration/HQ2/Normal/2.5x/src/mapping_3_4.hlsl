sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.015643069520593,-0.053486283868551,0.017718140035868,0.027769688516855,-0.027326017618179,-0.006818301044405,0.018638331443071,-0.002100571757182,0.016295969486237,-0.024477904662490,-0.033552803099155,0.023921433836222,0.012650747783482,-0.067487798631191,-0.030832789838314,-0.037771653383970));
res += mul(Get(s0,-dx,0), float4x4(-0.021980764344335,0.002509930171072,0.025926327332854,-0.029259700328112,-0.009815212339163,0.011363074183464,0.001067871227860,-0.002748345024884,-0.014320342801511,-0.008112744428217,-0.032080765813589,-0.017346849665046,-0.016587445512414,-0.030732041224837,0.031166786327958,0.010328474454582));
res += mul(Get(s0,-dx,dy), float4x4(0.010283416137099,-0.009163834154606,-0.032664678990841,0.009063728153706,-0.009205410256982,0.022274052724242,0.027402881532907,0.005534318275750,-0.018611082807183,0.030280092731118,0.003273130394518,-0.045037224888802,0.009219480678439,-0.025866936892271,0.005772045813501,-0.020294262096286));
res += mul(Get(s0,0,-dy), float4x4(0.070812650024891,-0.003476615995169,-0.052962984889746,0.120027199387550,-0.030716441571712,-0.027597678825259,0.020353388041258,-0.008320070803165,-0.008138759061694,-0.049419932067394,-0.040525808930397,-0.045505270361900,0.033467680215836,-0.053036529570818,-0.033435259014368,0.073892086744308));
res += mul(Get(s0,0,0), float4x4(-0.015049106441438,0.018945997580886,-0.052863445132971,0.009511032141745,0.015834741294384,-0.024972192943096,-0.035952400416136,-0.043172515928745,-0.016277084127069,-0.038937497884035,-0.038027495145798,-0.042482551187277,0.020360201597214,0.124599874019623,-0.042831182479858,-0.048434227705002));
res += mul(Get(s0,0,dy), float4x4(0.017822967842221,-0.043138753622770,-0.044541738927364,-0.016779463738203,-0.012434959411621,0.004317939281464,0.051589883863926,-0.032934486865997,0.009542572312057,0.013011995702982,-0.035804409533739,0.012826886959374,0.035832736641169,0.057107765227556,0.018748108297586,-0.030313352122903));
res += mul(Get(s0,dx,-dy), float4x4(-0.074979901313782,0.030079169198871,-0.025394400581717,0.044401530176401,-0.046517647802830,0.026314960792661,0.005667420104146,-0.016512587666512,-0.024735515937209,0.015002286061645,0.064603351056576,-0.083036385476589,0.002008951269090,-0.019551249220967,0.011799971573055,0.047987870872021));
res += mul(Get(s0,dx,0), float4x4(-0.047475736588240,0.015943562611938,-0.002993603935465,-0.020307373255491,0.013248726725578,0.042820882052183,0.013283336535096,-0.051212724298239,0.048396311700344,0.014678570441902,0.093553915619850,-0.018495028838515,-0.040128264576197,0.026376686990261,0.036207351833582,-0.007284335792065));
res += mul(Get(s0,dx,dy), float4x4(-0.002607249887660,-0.018259664997458,0.030786197632551,-0.007558256853372,-0.011435337364674,0.013294666074216,0.027830116450787,0.007374320179224,-0.019290201365948,0.055374953895807,-0.005203235894442,0.074290655553341,-0.027128633111715,-0.005768626462668,0.001900215167552,0.023919327184558));
res += mul(Get(s1,-dx,-dy), float4x4(-0.009339731186628,0.045348968356848,-0.006986308842897,0.033930160105228,-0.033383809030056,-0.035091109573841,-0.041373249143362,0.010663090273738,0.035158365964890,0.032138098031282,-0.028888741508126,0.033908739686012,0.105164445936680,0.046412918716669,0.012876352295280,0.023759156465530));
res += mul(Get(s1,-dx,0), float4x4(0.029617324471474,0.077012144029140,-0.019327623769641,-0.032761413604021,-0.043867148458958,-0.017311073839664,-0.032667357474566,-0.012143928557634,-0.043632864952087,0.026873216032982,-0.006987337023020,0.028435824438930,-0.008665288798511,-0.005978059023619,-0.000913397874683,-0.007242905907333));
res += mul(Get(s1,-dx,dy), float4x4(-0.028430048376322,0.043528147041798,-0.007318387739360,0.061352096498013,-0.018878206610680,0.000891235657036,-0.050443485379219,0.022253138944507,-0.004110043402761,-0.009239892475307,-0.023146694526076,0.026439117267728,0.031820289790630,-0.022132294252515,0.003134669037536,-0.050200447440147));
res += mul(Get(s1,0,-dy), float4x4(-0.015167044475675,0.057448167353868,-0.010921163484454,0.011841569095850,-0.028353109955788,-0.033106625080109,-0.044441081583500,-0.056598119437695,0.080443225800991,0.013934596441686,-0.024103023111820,-0.011573872528970,-0.001496325829066,0.005027902312577,0.040128309279680,-0.018545513972640));
res += mul(Get(s1,0,0), float4x4(-0.014492790214717,0.027135390788317,0.003420221852139,0.016206076368690,-0.040408626198769,0.010503150522709,0.010992920026183,0.032762128859758,-0.011074829846621,-0.028877047821879,-0.029386619105935,0.053288895636797,-0.058161497116089,-0.064224526286125,-0.041960008442402,0.010517966933548));
res += mul(Get(s1,0,dy), float4x4(0.002642113482580,0.011643836274743,0.016235029324889,0.061166815459728,-0.015345242805779,0.068405784666538,0.042416680604219,0.109173431992531,-0.012269401922822,-0.026297669857740,-0.100748755037785,0.012324915267527,0.108957685530186,0.110858283936977,-0.005615065805614,-0.022829867899418));
res += mul(Get(s1,dx,-dy), float4x4(-0.021435143426061,0.046575192362070,0.050113014876842,0.013380884192884,-0.002326987683773,-0.032703250646591,0.001882559736259,0.054561007767916,0.021407216787338,-0.013727148994803,0.034452419728041,-0.063964992761612,0.008032429963350,0.040490038692951,0.053753241896629,0.004279137589037));
res += mul(Get(s1,dx,0), float4x4(-0.000216802436626,0.064621746540070,0.060747347772121,0.035711463540792,-0.027675740420818,0.043736524879932,0.073583602905273,0.096781112253666,-0.046931650489569,-0.015955545008183,0.037602625787258,0.032688979059458,0.003489217720926,0.002228319644928,0.014560727402568,0.026953639462590));
res += mul(Get(s1,dx,dy), float4x4(-0.013463984243572,0.027783636003733,0.011388652957976,0.004094065167010,-0.038775611668825,-0.026009386405349,0.015516354702413,0.032879214733839,-0.029515301808715,-0.022024113684893,0.043691270053387,0.034181494265795,-0.049030359834433,0.018420951440930,-0.006922434549779,0.022937849164009));
res += mul(Get(s2,-dx,-dy), float4x4(0.000816019019112,0.023618785664439,-0.034281585365534,-0.042366724461317,0.080037176609039,-0.055495224893093,0.037714120000601,0.037725314497948,0.044487372040749,-0.052985373884439,0.021541688591242,-0.016616059467196,0.019584640860558,-0.028558013960719,0.021355370059609,-0.024054925888777));
res += mul(Get(s2,-dx,0), float4x4(-0.028790641576052,0.043559364974499,0.048543307930231,-0.025938419625163,-0.028147833421826,0.035722646862268,-0.006239781621844,0.009572214446962,0.023617286235094,-0.058737523853779,0.031469028443098,0.003509832546115,0.021552270278335,0.008981503546238,0.049676012247801,0.073526136577129));
res += mul(Get(s2,-dx,dy), float4x4(-0.032131668180227,0.041307512670755,0.017867656424642,-0.055914953351021,-0.037920814007521,0.035048007965088,-0.010923285037279,0.024625768885016,0.010597678832710,0.033503521233797,0.016881505027413,-0.034464623779058,-0.008867546916008,0.006513275206089,0.021114043891430,0.030358327552676));
res += mul(Get(s2,0,-dy), float4x4(-0.003846370847896,-0.005577527452260,0.028944641351700,-0.078181669116020,0.082388877868652,0.002673587761819,-0.021449869498610,0.003360430011526,0.119600154459476,0.040363099426031,-0.074278004467487,0.019618563354015,0.069330677390099,-0.027371622622013,0.038406770676374,-0.004748090170324));
res += mul(Get(s2,0,0), float4x4(0.023966230452061,-0.005759214982390,0.039420828223228,0.000128443993162,-0.029783057048917,-0.040951620787382,-0.048688251525164,-0.076854370534420,-0.004152989946306,-0.009618529118598,-0.040543269366026,-0.029639279469848,-0.014784164726734,-0.020186988636851,0.087199181318283,0.042731467634439));
res += mul(Get(s2,0,dy), float4x4(-0.011181267909706,0.056611794978380,-0.003779116785154,-0.083148710429668,-0.040289673954248,0.006759260781109,-0.034401454031467,-0.052962813526392,-0.013594512827694,0.017216511070728,-0.003294853027910,-0.013364151120186,-0.024147227406502,0.029731934890151,0.027815988287330,0.026921572163701));
res += mul(Get(s2,dx,-dy), float4x4(0.027881531044841,-0.054794583469629,-0.032732732594013,-0.038548413664103,-0.007867716252804,0.026312792673707,-0.002796672983095,-0.082027673721313,-0.047968436032534,0.026724742725492,-0.009473791345954,-0.017248202115297,0.023320116102695,-0.009491705335677,0.082258962094784,0.021632036194205));
res += mul(Get(s2,dx,0), float4x4(0.022792015224695,0.069198757410049,0.055986493825912,0.001940873451531,-0.005046084057540,-0.048644635826349,-0.009378248825669,-0.026094837114215,-0.036106389015913,-0.043132990598679,0.004277509171516,-0.033329464495182,-0.009830734692514,-0.020330905914307,0.088774420320988,0.060047119855881));
res += mul(Get(s2,dx,dy), float4x4(-0.037172134965658,0.044424932450056,0.022617403417826,-0.010034264996648,-0.009112890809774,0.002499038819224,-0.010733623988926,0.051090575754642,0.008090327493846,-0.002033508615568,-0.023552825674415,0.035918444395065,-0.018103977665305,0.013310148380697,0.004494340158999,0.015662349760532));
res += mul(Get(s3,-dx,-dy), float4x4(-0.010028138756752,-0.053220257163048,-0.052771244198084,-0.064185321331024,0.048979390412569,-0.050239864736795,-0.021012140437961,0.013166425749660,0.009715020656586,-0.067159593105316,-0.017572591081262,-0.014064601622522,-0.020537020638585,-0.036141268908978,0.045879233628511,-0.017508316785097));
res += mul(Get(s3,-dx,0), float4x4(0.042696718126535,-0.037467073649168,-0.083090431988239,-0.041063856333494,-0.048483960330486,-0.020132374018431,-0.014181504957378,-0.005397576373070,0.020015308633447,-0.022882767021656,0.049347557127476,0.039140865206718,0.003007261082530,-0.002647897228599,0.084287293255329,0.024366000667214));
res += mul(Get(s3,-dx,dy), float4x4(-0.041408672928810,0.004801858216524,-0.051990590989590,-0.006093488074839,0.011566216126084,-0.023167697712779,0.026963902637362,-0.060243334621191,-0.008209815248847,-0.011044661514461,-0.010906119830906,0.024656169116497,-0.007981072179973,-0.001759287551977,-0.009121418930590,-0.029378408566117));
res += mul(Get(s3,0,-dy), float4x4(-0.012035170570016,-0.053570799529552,-0.064566396176815,-0.013059963472188,0.065363496541977,-0.001783791580237,-0.013371220789850,-0.006049407180399,0.027595723047853,0.024691866710782,-0.001700701774098,0.042324729263783,0.030514437705278,-0.007130810525268,-0.038088593631983,0.012462986633182));
res += mul(Get(s3,0,0), float4x4(0.106816329061985,0.013774717226624,0.062522388994694,0.050398208200932,-0.092909641563892,-0.041871465742588,-0.020566567778587,-0.059339813888073,0.071463406085968,0.015474321320653,-0.040136810392141,0.054503966122866,-0.015926571562886,0.068038918077946,0.027614725753665,0.026847381144762));
res += mul(Get(s3,0,dy), float4x4(0.011271892115474,-0.050519570708275,-0.060881506651640,0.011249368079007,-0.032660722732544,0.061300195753574,-0.022562598809600,-0.039655234664679,-0.001078217872418,-0.001780074555427,-0.033019028604031,0.000907674315386,-0.015831895172596,0.006339062936604,-0.015724994242191,-0.009708566591144));
res += mul(Get(s3,dx,-dy), float4x4(-0.025215182453394,-0.033506806939840,-0.069153219461441,-0.028935670852661,0.006925018969923,0.004682585131377,0.010407811030746,-0.003679778892547,0.011317392811179,0.040504686534405,-0.007573777344078,0.042197480797768,-0.042519059032202,-0.061884496361017,-0.000830826757010,-0.009160369634628));
res += mul(Get(s3,dx,0), float4x4(0.011695719324052,0.023742401972413,-0.013295427896082,0.089919045567513,-0.026301637291908,-0.058544632047415,-0.005546879023314,-0.016075793653727,-0.010787449777126,0.037015706300735,-0.012687384150922,-0.030487185344100,-0.041833307594061,-0.028247185051441,-0.044052250683308,-0.074688710272312));
res += mul(Get(s3,dx,dy), float4x4(-0.061714846640825,-0.028496045619249,-0.048831049352884,-0.011408877559006,-0.049344301223755,0.030430587008595,-0.013479895889759,0.014770262874663,0.007799853570759,-0.010863973759115,0.027874493971467,-0.031929284334183,-0.003280283883214,-0.015344741754234,-0.002311524469405,-0.078270427882671));
return max(float4(0,0,0,0), res);
}
