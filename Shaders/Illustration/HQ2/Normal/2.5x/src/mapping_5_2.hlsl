sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.038213368505239,-0.044264730066061,0.016688283532858,0.025621155276895,-0.039199445396662,-0.059073731303215,0.048265423625708,-0.039164233952761,-0.025456300005317,-0.018095362931490,-0.006582103669643,0.035421464592218,0.070558160543442,0.053930770605803,0.049189988523722,-0.066200025379658));
res += mul(Get(s0,-dx,0), float4x4(0.035421717911959,-0.017868153750896,0.000691917608492,-0.011411264538765,-0.036971408873796,0.004062668886036,-0.005975176580250,0.074734568595886,-0.046626985073090,0.000390000321204,0.028119163587689,0.041588436812162,0.036854054778814,-0.003107124008238,0.029316028580070,-0.060317855328321));
res += mul(Get(s0,-dx,dy), float4x4(-0.014624026603997,-0.061611197888851,0.018894206732512,-0.009193754754961,0.019329182803631,0.008545636199415,-0.015365997329354,0.003559916513041,-0.038794532418251,0.024440729990602,-0.047452036291361,0.007151373196393,-0.002351168077439,0.022499864920974,-0.008273810148239,-0.012097281403840));
res += mul(Get(s0,0,-dy), float4x4(0.002741580596194,-0.042437996715307,-0.031542032957077,-0.034676987677813,-0.029595416039228,-0.046365838497877,0.037689473479986,0.039777755737305,0.003572221146896,-0.065728791058064,-0.009337740018964,0.054747179150581,-0.038187552243471,0.020776383578777,0.022120777517557,-0.039301767945290));
res += mul(Get(s0,0,0), float4x4(-0.026097344234586,-0.030155966058373,-0.004442597273737,-0.011350753717124,0.059078622609377,-0.011429423466325,-0.006863191258162,0.039092216640711,-0.005561036057770,-0.019717017188668,-0.053147718310356,-0.019741464406252,-0.009068670682609,0.006882007699460,0.027374166995287,-0.063571527600288));
res += mul(Get(s0,0,dy), float4x4(-0.037386354058981,-0.042125958949327,-0.042496204376221,-0.021541982889175,0.048842571675777,-0.067847006022930,0.087139606475830,-0.002512309933081,-0.068638458848000,-0.012586584314704,0.020847201347351,-0.031489629298449,-0.002400579629466,-0.003473999211565,0.088577277958393,0.024600133299828));
res += mul(Get(s0,dx,-dy), float4x4(-0.007978521287441,-0.057095307856798,0.046568628400564,0.001153080258518,0.010698684491217,-0.005019619129598,0.022903699427843,0.059214361011982,0.022704115137458,-0.034130711108446,-0.011144303716719,0.002098193392158,-0.057581048458815,0.012047525495291,0.003635595086962,0.013393131084740));
res += mul(Get(s0,dx,0), float4x4(0.001141988323070,-0.040961343795061,0.031559437513351,0.010009628720582,0.006060186773539,0.095271475613117,0.128057628870010,0.102343529462814,0.051548365503550,-0.056059136986732,-0.002184496494010,-0.003216228913516,-0.060402855277061,-0.007347447797656,0.057174537330866,-0.010037548840046));
res += mul(Get(s0,dx,dy), float4x4(-0.051087152212858,-0.031589679419994,0.034801490604877,0.012755215167999,0.034433424472809,-0.000583637331147,0.025319619104266,0.014482179656625,-0.004002232570201,-0.025995500385761,-0.023167815059423,0.023531034588814,0.000288114213618,0.002816796768457,0.043515343219042,-0.007234720978886));
res += mul(Get(s1,-dx,-dy), float4x4(-0.012632307596505,0.011146763339639,-0.001277820672840,0.006895804777741,0.025995878502727,-0.005979940760881,0.007004970684648,0.028499552980065,0.010737558826804,0.028969135135412,-0.008539276197553,-0.040094982832670,-0.043137479573488,0.055961348116398,-0.006918316707015,-0.062380421906710));
res += mul(Get(s1,-dx,0), float4x4(0.003701749024913,-0.098555609583855,-0.027958173304796,-0.050535034388304,0.029469456523657,0.016242025420070,0.033693216741085,0.012609938159585,0.007624692283571,-0.089601688086987,0.039825771003962,0.011526119895279,0.039386615157127,-0.010691166855395,-0.003965953830630,-0.049951672554016));
res += mul(Get(s1,-dx,dy), float4x4(0.044370915740728,-0.065142340958118,0.014781793579459,-0.015505866147578,0.006556403823197,0.022274447605014,0.002378468634561,0.025989154353738,0.010271734558046,0.015851840376854,0.013640806078911,-0.013224182650447,-0.014112099073827,0.026716262102127,-0.018240287899971,0.053012128919363));
res += mul(Get(s1,0,-dy), float4x4(-0.012854716740549,-0.018837859854102,-0.054879829287529,0.027246803045273,0.073119558393955,0.035513546317816,0.046611629426479,0.050168149173260,-0.069553688168526,0.073286138474941,0.027307441458106,-0.051535122096539,-0.015019876882434,-0.040467198938131,-0.005893677938730,0.017000999301672));
res += mul(Get(s1,0,0), float4x4(0.008821638301015,-0.018029469996691,0.036417990922928,0.030053030699492,0.029677959159017,0.037446189671755,0.027313603088260,0.064295552670956,0.052057586610317,-0.018416220322251,0.024080814793706,-0.011701945215464,0.024341249838471,-0.018385501578450,0.038740441203117,0.017565825954080));
res += mul(Get(s1,0,dy), float4x4(-0.022925462573767,-0.054516792297363,0.005904881283641,-0.021926367655396,0.013522438704967,-0.046681724488735,0.052232805639505,0.004540200810879,-0.021214494481683,0.002637312049046,0.019595453515649,-0.054780911654234,0.019998680800200,0.004232227336615,0.009757380001247,-0.027586575597525));
res += mul(Get(s1,dx,-dy), float4x4(-0.002401923527941,-0.039493061602116,-0.010816126130521,-0.005922389682382,0.070109628140926,0.037609186023474,0.011652126908302,-0.011531268246472,-0.064532108604908,0.043699555099010,-0.029254261404276,-0.007789365947247,0.017972491681576,-0.002572121564299,-0.053877096623182,-0.047660019248724));
res += mul(Get(s1,dx,0), float4x4(-0.030307797715068,-0.003578603034839,-0.028737327083945,0.006187901832163,0.050094179809093,0.031872522085905,0.032532319426537,-0.008143802173436,-0.007226719055325,0.005399066954851,-0.029374117031693,-0.030658308416605,0.047456543892622,-0.027508320286870,-0.010262243449688,-0.066258139908314));
res += mul(Get(s1,dx,dy), float4x4(0.004983778577298,-0.062418695539236,0.023208789527416,0.033665299415588,0.012098505161703,0.005645508412272,0.002938218414783,-0.002582197776064,-0.031523600220680,-0.043068312108517,0.013218250125647,-0.005743062123656,0.026078417897224,0.020082227885723,0.018598925322294,-0.036879595369101));
res += mul(Get(s2,-dx,-dy), float4x4(-0.047765944153070,0.016543274745345,-0.007673992775381,-0.014198400080204,-0.010655252262950,0.051375400274992,-0.028158815577626,-0.002136993687600,0.023711556568742,0.028728667646646,-0.037468325346708,-0.068627998232841,-0.017543978989124,-0.012532186694443,-0.029407700523734,-0.016529465094209));
res += mul(Get(s2,-dx,0), float4x4(-0.086861863732338,0.042676694691181,-0.050808183848858,-0.041462127119303,-0.007489689625800,0.031943354755640,0.043626319617033,0.027251200750470,0.030933817848563,-0.012184004299343,0.065105505287647,-0.029228905215859,-0.069780066609383,-0.016323452815413,0.067281074821949,0.018463235348463));
res += mul(Get(s2,-dx,dy), float4x4(0.016973922029138,-0.007720001041889,0.009901627898216,-0.002998548094183,-0.042608037590981,0.006285027135164,-0.024944687262177,-0.008687525056303,0.041769780218601,-0.049760989844799,0.070868328213692,-0.040948756039143,-0.053758874535561,0.061671879142523,-0.005823960062116,0.009299160912633));
res += mul(Get(s2,0,-dy), float4x4(0.002889814320952,0.036975875496864,0.003753848606721,-0.017845747992396,0.007379164919257,0.005806673783809,-0.002726428909227,0.002479463117197,-0.042291209101677,-0.012499499134719,0.109085515141487,0.022748051211238,-0.040346249938011,-0.038237784057856,0.013739156536758,-0.003939633723348));
res += mul(Get(s2,0,0), float4x4(0.011867506429553,-0.045922033488750,-0.023820267990232,-0.022259732708335,-0.018321836367249,0.009389045648277,-0.028191061690450,-0.006942819803953,-0.009827265515924,-0.018824579194188,-0.093448340892792,-0.074168652296066,0.023082243278623,-0.072653628885746,-0.000574929406866,-0.018774664029479));
res += mul(Get(s2,0,dy), float4x4(-0.009078553877771,0.041031733155251,-0.002183891367167,0.003271551337093,-0.064595617353916,0.071621872484684,-0.002535706618801,0.016689598560333,0.002696723211557,-0.018224524334073,0.062460895627737,-0.047532159835100,-0.082339748740196,0.041138913482428,-0.003177693812177,-0.011510684154928));
res += mul(Get(s2,dx,-dy), float4x4(-0.011115815490484,0.042315479367971,-0.007175575476140,-0.009649094194174,0.018406748771667,0.007113783620298,-0.012426252476871,0.040445100516081,-0.036629766225815,-0.050157237797976,-0.014960310421884,0.021192515268922,-0.065396957099438,0.013957852497697,0.002410544315353,0.018976751714945));
res += mul(Get(s2,dx,0), float4x4(-0.018476167693734,0.050805747509003,-0.028148634359241,0.000782911840361,0.036816190928221,0.045098785310984,0.040180973708630,0.034520581364632,-0.015699809417129,-0.035519339144230,0.069089703261852,0.007887344807386,-0.081324733793736,0.015219268389046,-0.006719181314111,0.022813564166427));
res += mul(Get(s2,dx,dy), float4x4(0.012790309265256,0.016876628622413,-0.025604257360101,-0.014557518996298,0.044589467346668,0.019094470888376,0.038599185645580,-0.002777636749670,-0.010692729614675,-0.030822347849607,0.005949924234301,0.000092255824711,-0.042404092848301,0.039063569158316,0.009321872144938,0.073755986988544));
res += mul(Get(s3,-dx,-dy), float4x4(0.005718699190766,-0.005368799902499,-0.040830761194229,0.019873961806297,0.006434972397983,0.005568769294769,0.048738438636065,-0.018425608053803,0.039966948330402,0.022942449897528,0.031430210918188,0.058647770434618,0.006511142477393,-0.050245895981789,0.005288955755532,0.038304470479488));
res += mul(Get(s3,-dx,0), float4x4(0.011041183955967,0.022088300436735,-0.032421384006739,-0.002869338029996,-0.022810600697994,-0.021268619224429,0.004953648429364,-0.001302456948906,0.035303261131048,0.023970311507583,-0.030802696943283,0.015353713184595,0.031661823391914,-0.036446437239647,-0.036317117512226,-0.016836959868670));
res += mul(Get(s3,-dx,dy), float4x4(0.011339103803039,-0.014299647882581,0.041418757289648,-0.050243034958839,-0.013647538609803,0.062333580106497,-0.011210151948035,-0.034651339054108,-0.002080627949908,-0.007958334870636,-0.021622523665428,-0.016644472256303,0.008438374847174,-0.013038062490523,-0.010554848238826,-0.023842906579375));
res += mul(Get(s3,0,-dy), float4x4(0.035107616335154,0.014826412312686,-0.030648289248347,-0.048754293471575,-0.035436548292637,0.047818481922150,-0.004112859722227,-0.008633258752525,0.024307580664754,-0.049163240939379,0.010923992842436,-0.012819912284613,0.008910102769732,-0.008017702959478,-0.044332366436720,0.005552339833230));
res += mul(Get(s3,0,0), float4x4(0.002399376593530,0.020232072100043,0.056399423629045,-0.007584329228848,0.060740496963263,-0.009590194560587,0.043005991727114,0.061565268784761,0.026624754071236,-0.020522028207779,0.038943305611610,-0.005020231008530,-0.077579036355019,0.024007473140955,-0.030049543827772,0.014780914410949));
res += mul(Get(s3,0,dy), float4x4(0.028419254347682,-0.016695173457265,0.014243218116462,-0.022986052557826,0.063858777284622,-0.002230677055195,0.020562000572681,-0.010377828963101,-0.001564449630678,-0.043865844607353,0.009645103476942,0.033543173223734,-0.014184110797942,0.009597409516573,0.004707884974778,0.065862707793713));
res += mul(Get(s3,dx,-dy), float4x4(0.011643569916487,0.032370880246162,0.002679569413885,0.002689009532332,0.012737563811243,0.047864627093077,0.096351295709610,-0.031370002776384,0.022094741463661,0.017067380249500,0.061450660228729,-0.006854718551040,0.004630212672055,-0.011805507354438,-0.030384417623281,0.021995844319463));
res += mul(Get(s3,dx,0), float4x4(0.033236052840948,0.022240376099944,0.008501745760441,-0.024277832359076,0.006646563764662,0.055318463593721,-0.001423100824468,-0.001538644544780,-0.016188943758607,0.024380391463637,0.015817118808627,0.064117178320885,-0.045180834829807,0.040135484188795,-0.022246139124036,0.031786613166332));
res += mul(Get(s3,dx,dy), float4x4(-0.003230587113649,-0.011799661442637,0.003804420121014,-0.047461926937103,0.047934900969267,-0.029202289879322,0.044176362454891,0.000368352077203,0.008693078532815,-0.048547439277172,-0.008433422073722,0.028904160484672,-0.030831610783935,0.046425484120846,-0.041656494140625,0.061232287436724));
return max(float4(0,0,0,0), res);
}
