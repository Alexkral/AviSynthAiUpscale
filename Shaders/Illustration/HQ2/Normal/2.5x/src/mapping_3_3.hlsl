sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.073702633380890,-0.019529828801751,-0.064253449440002,-0.057638075202703,0.016163658350706,0.044726509600878,0.016501756384969,0.065442472696304,-0.000857358565554,-0.050638131797314,0.013460343703628,-0.013501862995327,-0.034822575747967,0.017230054363608,-0.019212832674384,-0.000257400795817));
res += mul(Get(s0,-dx,0), float4x4(0.038948994129896,-0.053047679364681,-0.038907717913389,-0.015961620956659,-0.012682382948697,0.009360671043396,-0.007667400408536,0.048606101423502,0.014409924857318,0.013571216724813,0.025276087224483,0.056341610848904,-0.043530281633139,-0.019970253109932,-0.004983830731362,0.002088133012876));
res += mul(Get(s0,-dx,dy), float4x4(0.018902808427811,-0.059663422405720,-0.048402480781078,-0.048552740365267,0.037300970405340,-0.013651825487614,0.022415162995458,0.032832231372595,-0.002510933438316,0.043587394058704,0.033609703183174,0.059330087155104,-0.001262817648239,-0.038979947566986,0.072865970432758,-0.009591203182936));
res += mul(Get(s0,0,-dy), float4x4(0.027787333354354,-0.039999909698963,-0.062319111078978,-0.019467452540994,-0.028666784986854,-0.015731269493699,0.028948795050383,0.037673059850931,-0.053034756332636,-0.069223664700985,-0.044895973056555,-0.007368498016149,0.011244073510170,0.051027137786150,-0.047526046633720,-0.003785863053054));
res += mul(Get(s0,0,0), float4x4(0.003713606856763,-0.041654199361801,-0.019315782934427,-0.067781299352646,-0.012710069306195,-0.006097131408751,-0.009651337750256,-0.016993785277009,-0.063220880925655,0.046619851142168,-0.023713877424598,-0.165280163288116,0.058499287813902,0.029409429058433,-0.043400507420301,-0.032676864415407));
res += mul(Get(s0,0,dy), float4x4(-0.002327108988538,-0.027085136622190,0.015062306076288,0.020746363326907,0.030981795862317,-0.002555474406108,-0.004928849171847,0.011220456101000,-0.019105626270175,0.043796621263027,0.001299667055719,0.002515025902539,-0.019388535991311,-0.025324799120426,0.032372977584600,-0.014152447693050));
res += mul(Get(s0,dx,-dy), float4x4(-0.048054710030556,-0.056804530322552,-0.046611610800028,-0.005031028762460,0.036565288901329,-0.008722485043108,0.015722287818789,0.020516432821751,-0.032632071524858,-0.057409543544054,-0.022261401638389,-0.010293844155967,-0.026728326454759,0.054132658988237,-0.035027828067541,0.083042703568935));
res += mul(Get(s0,dx,0), float4x4(0.011461195535958,-0.055433645844460,-0.001615989021957,0.021487616002560,-0.010898652486503,0.007762480527163,0.003986400086433,-0.019524343311787,-0.134040609002113,0.008598990738392,-0.045146521180868,0.004108736291528,0.028250833973289,-0.005433182697743,-0.024515012279153,-0.027181915938854));
res += mul(Get(s0,dx,dy), float4x4(0.024447109550238,-0.051574949175119,-0.048545405268669,0.064602904021740,-0.023098351433873,0.002073033479974,0.025306822732091,-0.006369163282216,-0.086404725909233,0.002002903725952,-0.019520465284586,-0.013349327258766,-0.009018652141094,-0.018297437578440,0.022973500192165,-0.051111899316311));
res += mul(Get(s1,-dx,-dy), float4x4(-0.001342126517557,-0.004445122554898,-0.002362730214372,0.008761793375015,0.032928574830294,0.058016408234835,-0.078185372054577,0.138489246368408,-0.077688604593277,-0.054565303027630,0.012856364250183,0.018134087324142,0.000287935195956,-0.036852709949017,0.010240176692605,0.074676118791103));
res += mul(Get(s1,-dx,0), float4x4(-0.021106623113155,-0.095426715910435,0.003593774279580,0.013869727961719,0.042703393846750,0.000138153220178,-0.029408546164632,0.006831220816821,-0.035745173692703,-0.030574588105083,0.044077508151531,0.024158272892237,0.011387996375561,-0.049343928694725,0.004068383015692,-0.035422045737505));
res += mul(Get(s1,-dx,dy), float4x4(0.001167444163002,-0.026993360370398,0.039862342178822,-0.023644534870982,0.014019203372300,0.010487698018551,-0.013790698722005,-0.009653980843723,-0.016885926946998,0.000976368901320,0.025894334539771,0.064713373780251,0.026392340660095,0.035470753908157,0.032973513007164,-0.037286631762981));
res += mul(Get(s1,0,-dy), float4x4(0.021240796893835,0.007926486432552,-0.035010270774364,-0.068251088261604,-0.012196634896100,0.049480441957712,-0.074909560382366,-0.011386670172215,-0.025988973677158,-0.023470124229789,0.020091947168112,0.009937890805304,0.019586088135839,-0.012539718300104,0.040306929498911,-0.000822683097795));
res += mul(Get(s1,0,0), float4x4(0.007693397812545,-0.034396853297949,-0.009527847170830,-0.077348969876766,-0.055654048919678,-0.035951379686594,-0.037362176924944,-0.117230087518692,-0.070912949740887,-0.046746335923672,-0.018575664609671,-0.029743405058980,0.050910305231810,0.072531104087830,0.094695761799812,-0.155898407101631));
res += mul(Get(s1,0,dy), float4x4(0.006300085689873,0.032753966748714,0.045106008648872,0.025883385911584,-0.035936035215855,-0.024297052994370,-0.012807046994567,-0.039396230131388,0.014614182524383,0.003664509626105,0.022464325651526,-0.043905045837164,-0.036299653351307,-0.002253644401208,0.006338602863252,0.133205577731133));
res += mul(Get(s1,dx,-dy), float4x4(0.009829286485910,0.018809773027897,0.012500656768680,0.037956617772579,-0.027704507112503,0.036373034119606,-0.055299852043390,-0.040632639080286,0.004308227449656,-0.011262004263699,0.034962423145771,-0.024221079424024,-0.036948952823877,-0.031436577439308,-0.021676003932953,0.029047165066004));
res += mul(Get(s1,dx,0), float4x4(0.023408863693476,-0.000773084757384,-0.034740254282951,0.078198038041592,-0.011321770027280,0.031456511467695,-0.032646168023348,-0.050760656595230,0.005947613157332,0.015403605066240,-0.029786877334118,-0.036508817225695,0.001078497152776,0.051149338483810,0.037001721560955,-0.069268472492695));
res += mul(Get(s1,dx,dy), float4x4(0.030722828581929,0.031065134331584,0.009123785421252,0.052832331508398,0.037948027253151,-0.007950184866786,0.026015277951956,-0.023757971823215,-0.009210801683366,0.022585663944483,-0.040307700634003,-0.049004063010216,0.024215849116445,0.043929215520620,0.024850785732269,-0.006285103503615));
res += mul(Get(s2,-dx,-dy), float4x4(0.017717078328133,-0.042165294289589,-0.029829457402229,-0.009735564701259,-0.003029129002243,-0.057096976786852,0.008022423833609,-0.024735001847148,-0.027930827811360,-0.066224202513695,-0.019579805433750,-0.039999764412642,0.035728819668293,-0.038335409015417,-0.033133715391159,-0.014370628632605));
res += mul(Get(s2,-dx,0), float4x4(0.027799986302853,-0.005421723704785,-0.005334958899766,-0.057562626898289,-0.005736280232668,-0.061620652675629,0.000234806706430,-0.033744599670172,0.026468615978956,-0.015867518261075,-0.028968388214707,-0.002162880729884,0.023123942315578,-0.005936899688095,-0.040671475231647,-0.030843740329146));
res += mul(Get(s2,-dx,dy), float4x4(0.006184457801282,0.019574925303459,0.040699839591980,0.044130198657513,-0.015864653512836,0.004532390274107,-0.016525773331523,-0.013670696876943,0.019198924303055,0.000067731802119,0.043458014726639,0.040514558553696,0.031170910224319,0.001861034426838,0.013559505343437,-0.017685836181045));
res += mul(Get(s2,0,-dy), float4x4(-0.036610674113035,-0.005623120814562,-0.028865175321698,-0.009292845614254,-0.074435994029045,-0.084665589034557,0.015435878187418,0.059770487248898,-0.073451459407806,-0.080131225287914,-0.092326179146767,-0.035324048250914,0.015139016322792,-0.011698968708515,-0.030516294762492,-0.032956779003143));
res += mul(Get(s2,0,0), float4x4(-0.036346923559904,-0.027026819065213,0.010850362479687,-0.047168493270874,0.054441358894110,0.074057243764400,0.088886097073555,-0.157352656126022,-0.009279195219278,0.011279298923910,-0.027181608602405,-0.121742218732834,0.028373613953590,-0.036544259637594,-0.009225891903043,-0.018091287463903));
res += mul(Get(s2,0,dy), float4x4(-0.017328072339296,0.000301583233522,0.022047089412808,-0.072667755186558,0.061337966471910,0.135171025991440,0.039750952273607,-0.039850831031799,-0.010161103680730,0.001540365046822,0.097379714250565,0.155440509319305,0.023251999169588,-0.020118176937103,0.006378978490829,0.009723350405693));
res += mul(Get(s2,dx,-dy), float4x4(-0.037109177559614,0.034438095986843,-0.032533854246140,-0.032284054905176,-0.051637567579746,-0.066534191370010,0.036117944866419,-0.017018590122461,-0.047924935817719,-0.029206959530711,-0.045454647392035,-0.054763596504927,-0.084857158362865,-0.019972411915660,-0.021551538258791,0.011381064541638));
res += mul(Get(s2,dx,0), float4x4(-0.037507686764002,0.008309175260365,-0.058868855237961,-0.012655211612582,-0.021269777789712,0.033916391432285,0.027045952156186,0.146041274070740,-0.029002528637648,0.044433854520321,-0.012364401482046,-0.065622225403786,0.046987641602755,-0.052675992250443,-0.052130404859781,-0.049613039940596));
res += mul(Get(s2,dx,dy), float4x4(-0.028336521238089,0.036639951169491,-0.015296783298254,-0.031196877360344,0.011834718286991,0.034086260944605,-0.050983577966690,-0.003934818319976,-0.001677829888649,0.015550202690065,0.021113676950336,0.033781781792641,0.067472174763680,-0.007869127206504,-0.026259360834956,-0.000919866841286));
res += mul(Get(s3,-dx,-dy), float4x4(0.119367383420467,-0.068726778030396,-0.041160199791193,-0.020546995103359,0.071833692491055,-0.011396314017475,-0.022308621555567,0.001107958843932,0.010672819800675,0.045826215296984,-0.005454397760332,0.040413361042738,-0.036405529826880,-0.024369221180677,-0.037268076092005,-0.031185658648610));
res += mul(Get(s3,-dx,0), float4x4(-0.050393145531416,0.019866334274411,-0.022965228185058,-0.054440498352051,0.036789048463106,-0.081237062811852,-0.025307150557637,0.064186893403530,0.029650019481778,0.031088115647435,-0.022827113047242,-0.053393378853798,-0.022818794474006,-0.048297386616468,-0.016284404322505,-0.020439649000764));
res += mul(Get(s3,-dx,dy), float4x4(-0.011121849529445,-0.002981567289680,0.049508407711983,-0.017738550901413,0.011171780526638,0.024787919595838,0.030298462137580,-0.035138592123985,0.019360862672329,-0.030386228114367,-0.016724234446883,-0.034362502396107,-0.022455051541328,-0.001553041976877,0.060151465237141,-0.010511179454625));
res += mul(Get(s3,0,-dy), float4x4(-0.005583136808127,-0.001261270255782,-0.051810577511787,-0.096818320453167,-0.039428897202015,-0.011190750636160,-0.048328656703234,0.160025268793106,0.027304621413350,0.002291034441441,0.032527726143599,0.042273033410311,0.040924649685621,-0.070589914917946,-0.012631895020604,0.017587928101420));
res += mul(Get(s3,0,0), float4x4(-0.012338528409600,0.030196655541658,-0.027922095730901,-0.025585509836674,0.132015570998192,0.061370909214020,0.071004018187523,-0.202893719077110,-0.004531578626484,-0.002508393488824,0.053310379385948,-0.025545625016093,0.033532530069351,-0.033259779214859,-0.055710088461637,0.075477622449398));
res += mul(Get(s3,0,dy), float4x4(0.010482093319297,0.027886711061001,0.036890693008900,-0.065146520733833,-0.022148078307509,-0.018439443781972,0.046830192208290,-0.006677657831460,0.036806907504797,-0.004890840966254,0.018120676279068,-0.040694795548916,0.011368261650205,0.015578034333885,0.035659115761518,-0.003551614005119));
res += mul(Get(s3,dx,-dy), float4x4(-0.039364445954561,0.072388187050819,-0.037487033754587,-0.060346312820911,-0.044145677238703,0.030681421980262,-0.078714504837990,0.085090436041355,-0.019749224185944,0.012603864073753,0.007198029663414,-0.006193506065756,-0.024257725104690,-0.020617781206965,-0.042482994496822,0.005868822801858));
res += mul(Get(s3,dx,0), float4x4(0.049038764089346,-0.008093844167888,-0.021649669855833,-0.042600236833096,-0.103407271206379,0.062986887991428,-0.026959277689457,0.026922795921564,-0.003267091698945,0.000187992627616,0.024080825969577,-0.012812720611691,0.049345247447491,0.023970635607839,0.003984312061220,-0.107613228261471));
res += mul(Get(s3,dx,dy), float4x4(-0.001483246334828,0.033638536930084,0.053282026201487,-0.053838312625885,-0.050242852419615,-0.005946578923613,0.010443788021803,-0.029041152447462,-0.018173312768340,-0.017302097752690,0.022765431553125,0.106407314538956,0.010614741593599,0.054954204708338,0.038112018257380,0.018024927005172));
return max(float4(0,0,0,0), res);
}
