sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.012197354808450,0.045212570577860,0.003638215828687,0.012174695730209,-0.014710194431245,0.016141038388014,-0.017878452315927,0.031339593231678,0.000096921809018,0.101931273937225,-0.048580426722765,-0.093269824981689,-0.010446863248944,0.152794599533081,-0.041398964822292,0.017940819263458));
res += mul(Get(s0,-dx,0), float4x4(-0.001273785252124,0.093017570674419,-0.023198021575809,-0.005518605466932,0.041332911700010,0.025434775277972,-0.067728668451309,-0.039172105491161,0.047932885587215,0.153205037117004,-0.049884755164385,-0.087558686733246,-0.006806010846049,-0.004059946630150,0.055622350424528,-0.021276725456119));
res += mul(Get(s0,-dx,dy), float4x4(0.008055814541876,-0.001472544274293,-0.027179662138224,-0.042764689773321,0.024929635226727,0.039436019957066,-0.058369226753712,-0.053960945457220,0.059610400348902,0.084341645240784,0.053827866911888,-0.006156491581351,-0.021795377135277,-0.021614182740450,0.179020792245865,0.041936222463846));
res += mul(Get(s0,0,-dy), float4x4(0.006683295127004,-0.022294947877526,-0.011749927885830,0.026554964482784,0.018904775381088,0.127315297722816,-0.081360444426537,-0.058167029172182,-0.003480696817860,0.026750203222036,-0.025334935635328,0.016797346994281,0.008137051016092,0.177395969629288,0.018410913646221,0.127886369824409));
res += mul(Get(s0,0,0), float4x4(-0.001827061758377,-0.035393066704273,0.168945699930191,0.094981342554092,0.015376692637801,0.093627132475376,-0.084744945168495,-0.066869832575321,0.005768686532974,0.150041431188583,0.190614089369774,0.087766632437706,0.018735831603408,0.000308769085677,0.018770566210151,-0.047813355922699));
res += mul(Get(s0,0,dy), float4x4(-0.016352305188775,0.071032546460629,0.009659543633461,0.049302533268929,0.006970470305532,-0.033992353826761,0.064982391893864,-0.033135790377855,0.024207884445786,0.130860060453415,0.003381848568097,0.017427999526262,0.058569163084030,-0.043714776635170,0.101058095693588,-0.004486501682550));
res += mul(Get(s0,dx,-dy), float4x4(0.003927759360522,0.019981535151601,-0.063652105629444,-0.063244670629501,-0.010241362266243,0.099772363901138,-0.032736297696829,0.015339766629040,-0.023790962994099,0.053340185433626,-0.057561941444874,0.001593056716956,0.048910997807980,0.049995459616184,0.018274577334523,0.072048880159855));
res += mul(Get(s0,dx,0), float4x4(0.046900700777769,-0.008334297686815,-0.041760489344597,-0.061052262783051,-0.010459152050316,-0.009441263973713,0.057566054165363,0.019475650042295,0.019971774891019,0.033258873969316,0.106504335999489,0.063431881368160,0.016632199287415,0.116464257240295,0.136932045221329,0.012924877926707));
res += mul(Get(s0,dx,dy), float4x4(0.013798106461763,0.009542404673994,0.005449199117720,0.015841525048018,0.004925392102450,0.008149043656886,0.004043152555823,0.025467472150922,-0.015313021838665,0.093246258795261,0.127567902207375,0.059816725552082,0.011035655625165,0.080406345427036,0.011205848306417,-0.059113036841154));
res += mul(Get(s1,-dx,-dy), float4x4(-0.016813728958368,0.065032579004765,-0.017846537753940,0.089907839894295,-0.018822984769940,0.103324636816978,0.011123356409371,-0.005977858323604,-0.041070044040680,0.049226552248001,0.154343307018280,0.003485667519271,0.019339513033628,0.080677978694439,0.032331913709641,-0.015822472050786));
res += mul(Get(s1,-dx,0), float4x4(-0.021952290087938,-0.044913202524185,0.271942824125290,0.191066592931747,0.003741309279576,0.088518880307674,-0.146610930562019,-0.087843544781208,0.024516209959984,-0.019416183233261,0.203273341059685,-0.006635227240622,0.057427313178778,0.078693754971027,-0.048842154443264,-0.017904594540596));
res += mul(Get(s1,-dx,dy), float4x4(-0.011603157967329,0.069832384586334,0.141408637166023,0.087666675448418,-0.009434891864657,-0.096055462956429,-0.074725262820721,-0.010597932152450,-0.015797883272171,0.113738350570202,0.092322960495949,0.026828674599528,-0.004024506546557,-0.038704819977283,0.061013173311949,0.019331373274326));
res += mul(Get(s1,0,-dy), float4x4(-0.030676078051329,0.139592692255974,-0.078848294913769,-0.052881475538015,0.000559497275390,0.035080377012491,0.058530297130346,0.072218731045723,0.003754380391911,0.120601035654545,0.189168959856033,-0.081231914460659,0.000574208970647,0.162877991795540,0.042641624808311,0.022552020847797));
res += mul(Get(s1,0,0), float4x4(0.064115479588509,-0.028139598667622,-0.032936155796051,-0.074567109346390,-0.019492838531733,0.185861349105835,-0.054360426962376,-0.003233360126615,-0.000416447437601,0.172882229089737,-0.060397587716579,-0.069653473794460,-0.028778968378901,0.173419073224068,-0.007277958095074,0.012519324198365));
res += mul(Get(s1,0,dy), float4x4(0.024455333128572,0.079283230006695,0.099996738135815,0.052148092538118,-0.009374411776662,-0.019473008811474,-0.181546613574028,-0.109387256205082,0.007715895771980,-0.048740185797215,0.288979649543762,0.001318756490946,-0.013482032343745,-0.013824037276208,0.065286330878735,-0.028981750831008));
res += mul(Get(s1,dx,-dy), float4x4(-0.016030123457313,0.092159047722816,0.074323870241642,0.064623720943928,0.009723073802888,-0.001114170067012,-0.026675207540393,0.015443295240402,0.019732547923923,0.032475776970387,0.078820608556271,0.011814477853477,-0.021192302927375,0.045566882938147,0.018671171739697,0.058138061314821));
res += mul(Get(s1,dx,0), float4x4(-0.006256700959057,0.171064153313637,-0.004026005975902,-0.040056474506855,0.004229658748955,0.041077800095081,0.052495840936899,0.098705083131790,-0.043134290724993,0.006707577034831,0.262337893247604,0.092215061187744,-0.010937402024865,-0.021367050707340,0.122214406728745,0.086280010640621));
res += mul(Get(s1,dx,dy), float4x4(0.026792304590344,0.036367449909449,0.070527032017708,-0.020977457985282,-0.031591653823853,0.034336071461439,-0.041750848293304,0.030327240005136,0.015167815610766,0.105697713792324,0.049990579485893,0.024559238925576,-0.018800258636475,0.025510190054774,0.004271395970136,0.064655847847462));
res += mul(Get(s2,-dx,-dy), float4x4(-0.022810116410255,-0.020267101004720,0.042771123349667,0.044554479420185,-0.005854330956936,-0.008823218755424,0.102005556225777,0.070947825908661,0.035507656633854,0.073217168450356,-0.115117982029915,-0.065236188471317,0.013898040167987,0.012935770675540,-0.075214631855488,-0.050780963152647));
res += mul(Get(s2,-dx,0), float4x4(-0.001980239059776,-0.071681380271912,0.163974106311798,0.065242804586887,-0.012662284076214,0.034337833523750,0.028164679184556,0.051175173372030,0.039713822305202,0.061101052910089,-0.046102274209261,-0.069598473608494,0.009325618855655,-0.032387554645538,0.058798611164093,0.018567517399788));
res += mul(Get(s2,-dx,dy), float4x4(0.016941098496318,0.032767709344625,0.025669788941741,0.057797200977802,-0.005042499396950,-0.038072034716606,0.022067336365581,0.030725775286555,0.049663685262203,0.081914737820625,0.027819404378533,-0.050247386097908,-0.015013894997537,0.068301156163216,0.094006821513176,0.049360141158104));
res += mul(Get(s2,0,-dy), float4x4(-0.013759383000433,-0.009611871093512,0.014236046001315,-0.020153321325779,0.004300154745579,0.001306216348894,0.027777874842286,0.047810856252909,0.001061754650436,0.098843164741993,-0.116993844509125,0.024194743484259,-0.009410791099072,0.089870534837246,-0.044662725180387,-0.038825538009405));
res += mul(Get(s2,0,0), float4x4(0.018923938274384,-0.009742264635861,0.043972268700600,-0.003738656640053,-0.020401675254107,0.026120893657207,0.083122231066227,0.082279443740845,0.010155960917473,-0.017256647348404,0.145207598805428,0.016643708571792,0.007481372449547,-0.061612870544195,-0.059103012084961,-0.047991748899221));
res += mul(Get(s2,0,dy), float4x4(0.006505899596959,0.055999670177698,-0.015982585027814,0.008270825259387,-0.017225870862603,0.011761979199946,-0.038728646934032,0.026388453319669,0.023095728829503,0.114863090217113,0.058535322546959,0.007028340827674,0.001585121732205,-0.010909977369010,0.227406531572342,0.077198393642902));
res += mul(Get(s2,dx,-dy), float4x4(-0.007120097521693,0.008995322510600,0.048275887966156,-0.029645090922713,0.024426965042949,-0.020957129076123,-0.035530194640160,-0.046054184436798,-0.019540496170521,0.022445628419518,-0.022478362545371,0.047680731862783,0.014380596578121,0.005956115201116,0.012671916745603,0.000217790016904));
res += mul(Get(s2,dx,0), float4x4(0.009489449672401,0.022453133016825,0.004349932540208,-0.027809966355562,0.045918688178062,-0.019698161631823,-0.014571296982467,-0.027308123186231,0.028104474768043,-0.005209462251514,0.065728038549423,-0.009782584384084,-0.014021296054125,0.004275993909687,-0.069072455167770,-0.044897209852934));
res += mul(Get(s2,dx,dy), float4x4(0.011566274799407,0.053370628505945,-0.006483462173492,0.024587491527200,-0.002455277135596,-0.020191021263599,-0.018175270408392,0.016658646985888,0.009912648238242,0.078768402338028,0.012100772000849,0.009244470857084,0.013508728705347,-0.052921235561371,0.117401704192162,-0.004736650269479));
res += mul(Get(s3,-dx,-dy), float4x4(-0.000602255633567,0.021316215395927,0.080025404691696,0.033098325133324,0.038759369403124,-0.005802035331726,0.029524808749557,-0.042462296783924,-0.012271570041776,0.101736903190613,-0.023775018751621,0.072329692542553,-0.019600080326200,0.089367359876633,0.037365887314081,-0.024525338783860));
res += mul(Get(s3,-dx,0), float4x4(0.023127255961299,0.040984351187944,-0.044402975589037,-0.002849333919585,0.006364415399730,0.044056791812181,-0.081517569720745,-0.025316813960671,0.021794330328703,0.043819203972816,0.010438119992614,0.067781656980515,0.021951315924525,0.100065127015114,-0.002383494516835,-0.083764478564262));
res += mul(Get(s3,-dx,dy), float4x4(-0.000129803520394,-0.015824709087610,0.012457604520023,0.018757816404104,-0.003619543975219,-0.007118158973753,0.072497755289078,-0.017859987914562,-0.044089261442423,0.021537471562624,-0.008680066093802,0.058428440243006,0.048205118626356,0.072052493691444,0.042488802224398,-0.033869002014399));
res += mul(Get(s3,0,-dy), float4x4(0.016564048826694,-0.020265035331249,0.171656414866447,0.056502487510443,0.029945604503155,0.060931254178286,-0.032948497682810,-0.028905713930726,-0.009695485234261,0.173050582408905,0.032510980963707,0.015383125282824,0.010120644234121,0.030419217422605,0.087247446179390,-0.015880806371570));
res += mul(Get(s3,0,0), float4x4(0.000033140393498,0.176438450813293,-0.110301353037357,0.017992870882154,-0.017766347154975,-0.013095856644213,0.016067208722234,-0.017303928732872,0.003193778451532,0.245246410369873,-0.197610259056091,-0.055830579251051,0.024180794134736,0.132739275693893,0.044357188045979,-0.021004788577557));
res += mul(Get(s3,0,dy), float4x4(-0.007608793675900,-0.041400648653507,-0.013372668996453,-0.032786276191473,0.026858448982239,-0.011471570469439,0.131586730480194,-0.002364777028561,-0.017373645678163,-0.081252627074718,0.065197944641113,-0.005176641512662,0.035213496536016,0.068771518766880,0.005245449021459,-0.039784595370293));
res += mul(Get(s3,dx,-dy), float4x4(0.026369780302048,0.014875859953463,0.020570676773787,-0.009641652926803,-0.011834460310638,-0.004133489448577,0.014173597097397,-0.013644598424435,-0.000504323805217,0.065537035465240,0.002680650213733,0.081449553370476,0.049323417246342,0.002893830183893,0.037465348839760,-0.100813828408718));
res += mul(Get(s3,dx,0), float4x4(-0.014258133247495,0.071514703333378,-0.001978846034035,0.054778464138508,-0.006815514061600,-0.044284794479609,0.096443429589272,-0.007236098870635,-0.028446644544601,0.068145081400871,0.106981180608273,0.116119563579559,0.052200816571712,0.162293270230293,-0.051324196159840,-0.056362450122833));
res += mul(Get(s3,dx,dy), float4x4(-0.006689999718219,-0.064682334661484,0.024633308872581,0.016568124294281,0.030566411092877,0.087186418473721,-0.013567036949098,-0.003908894956112,-0.007224026601762,-0.033655297011137,-0.018547872081399,0.015821076929569,0.016022291034460,0.050841242074966,0.024540748447180,-0.067621096968651));
return max(float4(0,0,0,0), res);
}
