sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.036068815737963,-0.019194645807147,-0.033658403903246,0.000479619979160,-0.005861947312951,-0.014790110290051,0.020982889458537,0.001322392839938,0.025173058733344,0.007726389914751,0.047249965369701,0.006480093579739,-0.021182304248214,0.037722788751125,-0.036277890205383,0.004300669301301));
res += mul(Get(s0,-dx,0), float4x4(0.039621919393539,-0.034213267266750,-0.008684507571161,-0.032781068235636,-0.002822018694133,-0.029952943325043,0.019748339429498,0.004777370486408,-0.023043069988489,0.005853145383298,0.016459342092276,-0.008143063634634,-0.026430580765009,-0.023887854069471,0.033908016979694,-0.049763251096010));
res += mul(Get(s0,-dx,dy), float4x4(-0.013214401900768,-0.003650903003290,-0.013777364976704,0.019657265394926,0.014104020781815,-0.040441174060106,-0.002341227140278,0.011573137715459,0.021085480228066,-0.039678424596786,-0.006855322979391,-0.044451154768467,-0.016297597438097,-0.019416483119130,0.017991807311773,-0.008588230237365));
res += mul(Get(s0,0,-dy), float4x4(0.082434818148613,-0.061051994562149,-0.023319587111473,-0.000966397055890,0.021851206198335,-0.012306932359934,-0.023796148598194,0.037170793861151,-0.051247995346785,-0.073231972754002,-0.044627282768488,0.033835504204035,-0.015436841174960,0.054752666503191,0.003117283340544,0.000314529257594));
res += mul(Get(s0,0,0), float4x4(-0.008514090441167,-0.011999476701021,-0.029859814792871,-0.047833282500505,0.000006052418030,-0.004667536821216,-0.016970243304968,0.035548057407141,-0.064179338514805,0.121199823915958,0.096188820898533,0.106478996574879,0.017105387523770,-0.012451283633709,0.043222829699516,-0.061292611062527));
res += mul(Get(s0,0,dy), float4x4(-0.015565520152450,0.003851254470646,0.006595357786864,0.019244737923145,0.029170164838433,-0.009427485987544,-0.016487395390868,-0.002070613903925,-0.073276467621326,0.034083232283592,0.019311416894197,-0.033238273113966,-0.018945597112179,-0.029728956520557,0.019501868635416,-0.012536402791739));
res += mul(Get(s0,dx,-dy), float4x4(0.045295599848032,-0.028705550357699,-0.060002382844687,-0.033999275416136,0.017219137400389,-0.004469124134630,-0.010283457115293,0.000683529942762,-0.023762671276927,-0.021384418010712,-0.026188829913735,0.015883367508650,-0.008212358690798,-0.015961354598403,-0.064082637429237,0.054363761097193));
res += mul(Get(s0,dx,0), float4x4(-0.041029222309589,-0.022929064929485,-0.036633078008890,0.020664324983954,0.026653476059437,-0.044912710785866,0.022444361820817,-0.013062112964690,-0.020019344985485,-0.052407316863537,0.003771023591980,-0.026479726657271,0.002118383534253,-0.019626868888736,-0.010543426498771,-0.014196577481925));
res += mul(Get(s0,dx,dy), float4x4(-0.000711498432793,-0.048873987048864,-0.004252778366208,0.004622571170330,0.017711481079459,-0.044672016054392,0.008818157948554,0.000706876860932,-0.001660002861172,-0.003864417551085,-0.025653503835201,-0.043643735349178,-0.021704627200961,0.018751457333565,0.000705018872395,0.003188270144165));
res += mul(Get(s1,-dx,-dy), float4x4(0.024735145270824,-0.028358090668917,0.028895197436213,0.010228692553937,0.036958858370781,-0.146006569266319,0.002630688482895,-0.044257983565331,0.029149131849408,-0.004448009189218,0.036772731691599,-0.003875298891217,0.032753180712461,-0.037347588688135,-0.015298346988857,0.043600775301456));
res += mul(Get(s1,-dx,0), float4x4(-0.020728860050440,-0.012760273180902,-0.005104168318212,-0.049162793904543,-0.000346550863469,0.060325395315886,0.085164204239845,-0.012326122261584,0.001811577240005,0.027759918943048,0.022119937464595,-0.027541112154722,-0.005738011095673,0.008716161362827,0.026823353022337,-0.008669057860970));
res += mul(Get(s1,-dx,dy), float4x4(-0.068119339644909,0.016427125781775,0.025793302804232,0.009207464754581,-0.024916574358940,-0.029157925397158,0.047203473746777,-0.066164791584015,0.003147228155285,-0.011424977332354,-0.015721280127764,-0.027810042724013,-0.002093642484397,0.020332494750619,0.046965632587671,0.023973369970918));
res += mul(Get(s1,0,-dy), float4x4(-0.017945725470781,-0.006274217274040,-0.007922260090709,-0.013749743811786,0.013428238220513,0.016672560945153,0.033506933599710,-0.023280233144760,0.039454665035009,-0.070400632917881,-0.057485330849886,0.017514940351248,-0.020870633423328,0.041767466813326,-0.028314603492618,-0.005327947437763));
res += mul(Get(s1,0,0), float4x4(-0.016323076561093,-0.018012559041381,0.010933181270957,0.040440399199724,-0.026813957840204,-0.033388659358025,0.061434440314770,-0.006414486560971,0.005574483890086,0.051827408373356,-0.012429416179657,-0.077281765639782,0.009487930685282,0.075439475476742,0.008029880002141,0.042076922953129));
res += mul(Get(s1,0,dy), float4x4(-0.018054075539112,0.036630008369684,-0.007963762618601,-0.016934581100941,-0.040289688855410,-0.028273954987526,0.004972856491804,-0.066029839217663,-0.055634688585997,0.066962867975235,-0.003773776814342,-0.052774697542191,0.096049197018147,-0.137757331132889,0.002892994321883,-0.033713087439537));
res += mul(Get(s1,dx,-dy), float4x4(-0.002256929175928,0.007857058197260,-0.027739426121116,0.048127610236406,0.043250102549791,-0.000183671800187,-0.037289492785931,0.006393712013960,0.020168794319034,-0.005163354333490,-0.021699815988541,0.057508163154125,0.006822825875133,-0.046650249511003,-0.033314913511276,-0.036333285272121));
res += mul(Get(s1,dx,0), float4x4(-0.013122355565429,-0.046088669449091,-0.042684469372034,0.024147318676114,0.073147915303707,-0.015242725610733,-0.050435736775398,-0.014116151258349,0.000401687109843,0.001658475259319,-0.019571369513869,-0.038649860769510,0.044725328683853,-0.045155789703131,-0.026135867461562,0.065817333757877));
res += mul(Get(s1,dx,dy), float4x4(-0.024392900988460,-0.006942239124328,-0.024548904970288,0.039383944123983,0.010267734527588,-0.022335026413202,-0.068298771977425,-0.041207220405340,-0.039531487971544,-0.013929012231529,-0.040171671658754,-0.049537707120180,0.055575925856829,-0.025572787970304,0.022638102993369,0.093838237226009));
res += mul(Get(s2,-dx,-dy), float4x4(-0.019100490957499,-0.041245732456446,0.038889672607183,-0.035358451306820,0.066276699304581,-0.015441597439349,-0.055117268115282,-0.009072402492166,-0.019876297563314,0.032042015343904,0.033149231225252,0.004400928039104,0.052341733127832,0.040154319256544,0.031893756240606,0.004819365683943));
res += mul(Get(s2,-dx,0), float4x4(-0.023585401475430,0.111134126782417,0.101341955363750,-0.098129250109196,-0.042614988982677,-0.036757092922926,-0.035023219883442,-0.035645842552185,-0.008917393162847,0.016686497256160,-0.015817759558558,-0.051181461662054,-0.081968873739243,-0.006230295635760,0.068512827157974,0.003427545074373));
res += mul(Get(s2,-dx,dy), float4x4(-0.044253885746002,0.058233410120010,0.006025373004377,-0.117585442960262,0.005294437520206,-0.059687744826078,-0.013309516012669,-0.048496361821890,0.004105317406356,0.007849672809243,0.023265413939953,-0.040929529815912,-0.076824262738228,-0.005259569734335,0.045704163610935,-0.005153115373105));
res += mul(Get(s2,0,-dy), float4x4(-0.001542891026475,-0.001289015752263,-0.019874684512615,0.025607630610466,-0.029268559068441,-0.049279969185591,-0.019651234149933,-0.007626845501363,-0.014805974438787,-0.066275402903557,-0.014433847740293,-0.047902025282383,0.051860891282558,-0.022665083408356,-0.012331222184002,-0.021438576281071));
res += mul(Get(s2,0,0), float4x4(-0.020704830065370,-0.017619227990508,0.023739058524370,-0.029364338144660,-0.041781373322010,0.051914539188147,0.059995800256729,0.085409581661224,-0.055775672197342,0.068528003990650,-0.039559487253428,-0.005080416798592,0.005429374054074,-0.021989217028022,0.005922353360802,-0.015477712266147));
res += mul(Get(s2,0,dy), float4x4(-0.032347444444895,0.067220494151115,0.009739189408720,-0.061655972152948,-0.004779121838510,-0.030979093164206,0.011240568011999,-0.021105794236064,0.014028592966497,0.031623978167772,-0.003574695670977,-0.061051495373249,-0.001640402828343,-0.019315756857395,-0.002339898608625,-0.014848540537059));
res += mul(Get(s2,dx,-dy), float4x4(0.007924029603601,0.083048164844513,-0.017682299017906,0.105042263865471,-0.024966794997454,0.036895446479321,-0.005318343173712,0.032655753195286,0.004234660416842,-0.098589643836021,-0.063243925571442,-0.010931044816971,-0.013557391241193,0.016866186633706,-0.062806524336338,0.027512492612004));
res += mul(Get(s2,dx,0), float4x4(-0.031506933271885,-0.019768333062530,-0.041973926126957,0.046100724488497,-0.032563053071499,-0.051490191370249,-0.004950966220349,0.016624929383397,-0.045403070747852,-0.049094945192337,-0.088396199047565,0.039801150560379,-0.044623941183090,0.011741072870791,-0.057017378509045,-0.046853985637426));
res += mul(Get(s2,dx,dy), float4x4(-0.030889745801687,-0.005085691809654,-0.048008389770985,-0.003526721382514,0.032376516610384,-0.033580560237169,0.004580346401781,0.016446491703391,0.012066131457686,0.059112071990967,-0.013166978955269,-0.018951740115881,-0.066435217857361,0.044097710400820,-0.047087445855141,-0.008040093816817));
res += mul(Get(s3,-dx,-dy), float4x4(0.003365983022377,0.077131554484367,0.001033009379171,0.043611563742161,0.054373420774937,-0.001468502450734,-0.030866000801325,0.026617478579283,0.026477221399546,0.056699413806200,0.005473894067109,0.005353332031518,-0.021369805559516,0.012629942037165,-0.009980417788029,-0.009131823666394));
res += mul(Get(s3,-dx,0), float4x4(-0.053855039179325,0.014886784367263,0.055447999387980,-0.024834377691150,-0.007489534560591,-0.011744483374059,-0.059202574193478,-0.049703471362591,-0.015055678784847,0.003414500737563,-0.000252529192949,-0.004853486549109,0.007897348143160,-0.001735386787914,0.015705548226833,-0.006432263646275));
res += mul(Get(s3,-dx,dy), float4x4(-0.110252954065800,0.048983309417963,0.008264561183751,-0.026935461908579,-0.017747711390257,-0.017397686839104,0.001315552275628,-0.001565436366946,-0.007880294695497,0.030490737408400,0.015180294401944,0.008353318087757,0.007186244707555,0.026775073260069,0.031014064326882,0.027654398232698));
res += mul(Get(s3,0,-dy), float4x4(0.023020382970572,0.124339483678341,-0.101185262203217,0.031924650073051,0.013996360823512,-0.045117493718863,-0.019778713583946,-0.072254084050655,0.067088998854160,0.006576742045581,0.010421504266560,0.002724112709984,0.039258722215891,-0.032246749848127,-0.026867618784308,-0.044274039566517));
res += mul(Get(s3,0,0), float4x4(0.004265132360160,-0.033568315207958,-0.068579614162445,-0.015559547580779,-0.009772656485438,0.138670310378075,0.049281079322100,0.022084521129727,-0.004637455567718,-0.018342239782214,-0.017876250669360,0.039906483143568,0.066262669861317,-0.076532028615475,-0.042675994336605,-0.097105912864208));
res += mul(Get(s3,0,dy), float4x4(-0.054448354989290,-0.010900514200330,-0.011112097650766,0.005148811731488,0.055510994046926,-0.070917047560215,-0.012298097833991,-0.106555119156837,0.006733496207744,0.052782222628593,0.025830954313278,0.032119765877724,0.004847963340580,-0.007077963091433,-0.008177028037608,-0.017040040344000));
res += mul(Get(s3,dx,-dy), float4x4(-0.031275089830160,-0.010267333127558,-0.050143122673035,0.025247383862734,-0.036405563354492,0.039939336478710,-0.027960138395429,-0.015439812093973,0.041605167090893,-0.012064798735082,0.001715644844808,0.033459853380919,0.014951884746552,0.027254369109869,0.020487403497100,0.085805736482143));
res += mul(Get(s3,dx,0), float4x4(-0.017555570229888,-0.014309319667518,-0.035541933029890,-0.050892245024443,-0.005524778738618,-0.078452952206135,-0.055968165397644,0.057647731155157,0.014733442105353,0.053868532180786,-0.000110249988211,0.048996679484844,-0.025468375533819,0.097198635339737,0.056951995939016,0.087592653930187));
res += mul(Get(s3,dx,dy), float4x4(-0.037353813648224,-0.019915800541639,-0.040134213864803,-0.003801970742643,0.023708704859018,-0.049607843160629,0.019055454060435,0.000289994612103,0.033406954258680,0.002176670823246,-0.017471266910434,0.040975034236908,-0.046201810240746,0.020942946895957,-0.004973450209945,0.045151524245739));
return max(float4(0,0,0,0), res);
}
