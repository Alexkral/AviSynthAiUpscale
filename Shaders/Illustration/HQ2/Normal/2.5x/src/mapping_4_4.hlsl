sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.010816107504070,0.005500135011971,-0.071011349558830,-0.032756153494120,0.029163563624024,-0.003335885237902,-0.018712695688009,-0.076647050678730,-0.030972847715020,0.017189588397741,-0.007735308725387,-0.004028098657727,0.015885274857283,0.030632425099611,0.009516691789031,0.022511484101415));
res += mul(Get(s0,-dx,0), float4x4(-0.009238174185157,0.013094659894705,-0.044655237346888,0.038925867527723,0.025381449609995,-0.019953573122621,-0.037326015532017,-0.046310491859913,-0.036918390542269,-0.030106741935015,0.049107868224382,-0.005926331039518,-0.053467903286219,0.011623224243522,0.027369014918804,-0.019654227420688));
res += mul(Get(s0,-dx,dy), float4x4(-0.005834984127432,0.054108887910843,-0.049718756228685,-0.013095973990858,0.033054430037737,0.003705397481099,0.063059397041798,0.002694714814425,0.021054906770587,-0.032721001654863,-0.008943936787546,0.018672000616789,-0.011843957938254,-0.003805021289736,-0.011188045144081,-0.063913702964783));
res += mul(Get(s0,0,-dy), float4x4(-0.032927967607975,-0.012194897979498,0.007862667553127,-0.012164599262178,-0.001775980344974,0.038288980722427,-0.000611210358329,-0.044960841536522,-0.008270969614387,-0.020969804376364,-0.026832783594728,0.043003909289837,0.046006981283426,0.040392536669970,-0.053811907768250,-0.039762303233147));
res += mul(Get(s0,0,0), float4x4(0.034450307488441,-0.017869971692562,-0.032461307942867,-0.019707577303052,-0.005047214217484,0.022614048793912,-0.043973308056593,-0.024968078359962,0.032771781086922,-0.054924316704273,0.048020351678133,0.052432358264923,0.017309434711933,-0.028334816917777,-0.009603241458535,-0.006947383284569));
res += mul(Get(s0,0,dy), float4x4(-0.020736169070005,0.021368063986301,-0.014845621772110,-0.032295357435942,-0.003433469915763,-0.029980102553964,0.013492424972355,0.101739056408405,0.067282624542713,0.040715888142586,-0.048014707863331,0.008578762412071,0.067206792533398,0.045118022710085,0.043521702289581,-0.018264500424266));
res += mul(Get(s0,dx,-dy), float4x4(-0.014177709817886,-0.014057307504117,-0.067155629396439,0.069887973368168,-0.024424871429801,0.003087648656219,0.001108510536142,0.098394274711609,0.023393381386995,0.001627124147490,0.034592494368553,-0.027608215808868,0.037638086825609,0.003955659922212,0.003551539499313,-0.055122938007116));
res += mul(Get(s0,dx,0), float4x4(-0.019813153892756,-0.024459090083838,-0.037397753447294,-0.013739717192948,-0.014424069784582,0.012970893643796,0.038219120353460,0.046035248786211,0.014293009415269,-0.022325236350298,0.028767542913556,-0.010993704199791,0.040382709354162,-0.051502168178558,-0.011539598926902,0.009731501340866));
res += mul(Get(s0,dx,dy), float4x4(-0.070709243416786,0.005346900317818,0.005366623401642,0.003474267898127,-0.006311955396086,0.023952422663569,0.024609033018351,0.057102341204882,0.011665264144540,0.032654173672199,-0.003138727042824,0.001708019990474,0.086340799927711,-0.041315108537674,-0.011741387657821,-0.004964350722730));
res += mul(Get(s1,-dx,-dy), float4x4(-0.003198867198080,0.011987091973424,-0.011804746463895,-0.046976070851088,0.025418737903237,-0.025821750983596,0.037252712994814,-0.073333151638508,0.016997180879116,-0.049774926155806,-0.038412686437368,-0.001178708043881,0.051396615803242,-0.049322519451380,-0.026163410395384,-0.048449650406837));
res += mul(Get(s1,-dx,0), float4x4(0.022445138543844,0.006115980446339,-0.045708909630775,-0.022752074524760,-0.012207007035613,0.012070585042238,-0.014937605708838,-0.033511921763420,0.004121971782297,-0.027407892048359,0.060624253004789,-0.000418248557253,0.047962613403797,0.011436369270086,0.030255392193794,-0.068662330508232));
res += mul(Get(s1,-dx,dy), float4x4(0.058738343417645,-0.002803046256304,-0.022701468318701,-0.032301183789968,-0.037566654384136,0.001547294901684,0.034250758588314,0.005672641564161,0.022560790181160,0.008705765008926,0.067009761929512,0.002645654371008,0.012326771393418,-0.026688005775213,-0.001687131705694,-0.072022043168545));
res += mul(Get(s1,0,-dy), float4x4(0.042055595666170,-0.034876815974712,0.012540732510388,-0.041339114308357,0.000355662923539,-0.005496769677848,0.036114186048508,-0.003564540063962,-0.054515626281500,-0.079554438591003,-0.065946914255619,0.007224428933114,-0.034054812043905,0.004067747853696,0.017901532351971,0.020736159756780));
res += mul(Get(s1,0,0), float4x4(0.084456183016300,0.007244473788887,-0.015069971792400,-0.021252531558275,-0.036271892488003,0.026665695011616,0.049571853131056,0.028799859806895,-0.049928538501263,-0.043381616473198,0.106010384857655,0.077508486807346,-0.004756185691804,-0.058783091604710,0.024572081863880,-0.012729143723845));
res += mul(Get(s1,0,dy), float4x4(0.000348933768691,-0.007830391637981,-0.059564199298620,0.012298759073019,0.010992059484124,0.021387083455920,0.006681766826659,0.039580572396517,0.025152312591672,0.045854941010475,-0.031634464859962,0.061638414859772,0.020071692764759,0.040006130933762,0.053170170634985,-0.036805320531130));
res += mul(Get(s1,dx,-dy), float4x4(-0.027872117236257,-0.010860424488783,0.057143937796354,-0.026122566312551,0.035648703575134,0.019856438040733,-0.016784297302365,0.083397693932056,-0.017830744385719,-0.075039744377136,-0.008024309761822,-0.060429636389017,-0.001760880928487,-0.023543002083898,-0.031970325857401,0.013325913809240));
res += mul(Get(s1,dx,0), float4x4(0.039842989295721,0.050763435661793,0.040670871734619,-0.028022045269608,0.019777368754148,-0.020672822371125,-0.003126907860860,0.014965680427849,-0.039081122726202,-0.039882227778435,-0.014508096501231,-0.009337502531707,0.022464003413916,-0.018442057073116,-0.020925421267748,0.009647227823734));
res += mul(Get(s1,dx,dy), float4x4(-0.038780778646469,0.005791111849248,-0.080795034766197,0.053933646529913,0.028423873707652,-0.013731188140810,-0.011402676813304,0.040451567620039,-0.032330535352230,-0.001527475425974,-0.027959208935499,0.037325702607632,0.036046013236046,-0.018104432150722,-0.039789479225874,-0.030081748962402));
res += mul(Get(s2,-dx,-dy), float4x4(0.025150204077363,-0.013826339505613,0.003106200834736,0.019592795521021,-0.056242987513542,0.033838585019112,-0.007489189971238,0.045083787292242,-0.001736654550768,-0.021373104304075,-0.023778418079019,-0.041657723486423,0.024327794089913,0.004668022040278,0.017621275037527,-0.016681158915162));
res += mul(Get(s2,-dx,0), float4x4(0.009044143371284,0.007045351900160,0.001603968907148,-0.043982397764921,-0.061225045472383,-0.009606265462935,0.018949680030346,-0.001634065178223,0.017165111377835,0.004562604241073,0.001223069615662,-0.053949929773808,0.024107107892632,-0.011323489248753,-0.006081225816160,-0.015970589593053));
res += mul(Get(s2,-dx,dy), float4x4(-0.015862584114075,0.045835804194212,0.056717295199633,-0.009835691191256,-0.045297119766474,0.032572735100985,-0.008830607868731,-0.021452629938722,-0.012873062863946,0.008866307325661,0.035432469099760,0.016976298764348,0.047586452215910,-0.022510759532452,0.013026157394052,-0.035581480711699));
res += mul(Get(s2,0,-dy), float4x4(0.043795950710773,0.038789514452219,0.011438002809882,-0.054320108145475,-0.038016434758902,0.055804997682571,-0.047642745077610,0.026599003002048,-0.018819773569703,-0.034445788711309,-0.041717510670424,-0.012749729678035,0.013728388585150,-0.045095916837454,-0.021807514131069,-0.003865988226607));
res += mul(Get(s2,0,0), float4x4(-0.011493067257106,0.026025794446468,0.048446085304022,-0.021752068772912,0.004480911418796,0.005403772927821,-0.014337602071464,0.061269458383322,0.003841467667371,-0.002718684729189,0.012790575623512,-0.023386901244521,-0.003286970080808,0.025805020704865,-0.004418247379363,0.000297377235256));
res += mul(Get(s2,0,dy), float4x4(-0.018724132329226,0.056583508849144,0.031488109380007,-0.044222857803106,-0.004368398804218,0.119916878640652,-0.016705779358745,-0.039791733026505,0.031777370721102,0.037916488945484,0.034932449460030,-0.012577995657921,0.033993709832430,-0.047352723777294,-0.019328661262989,0.029581168666482));
res += mul(Get(s2,dx,-dy), float4x4(0.034480880945921,0.025204990059137,0.032929949462414,-0.012361922301352,0.000049476897402,0.051661808043718,-0.040991518646479,0.041606072336435,0.026013772934675,-0.014581433497369,-0.059317138046026,-0.001223225262947,0.003723096335307,-0.025985781103373,0.044546727091074,-0.012916463427246));
res += mul(Get(s2,dx,0), float4x4(-0.049740597605705,0.055763456970453,0.025974825024605,-0.008110249415040,0.058186352252960,0.060791309922934,-0.045042961835861,0.030336370691657,-0.000413231726270,0.002032464137301,0.000668494380079,0.019784221425653,-0.014724302105606,-0.031950026750565,0.028640734031796,0.019951352849603));
res += mul(Get(s2,dx,dy), float4x4(-0.015750756487250,-0.050116699188948,-0.039114780724049,0.019675802439451,0.042027059942484,0.024265669286251,-0.023451553657651,-0.043577633798122,0.022472934797406,-0.028549171984196,-0.007496793754399,0.015497806482017,0.013062993064523,-0.022506395354867,-0.011965318582952,0.054428249597549));
res += mul(Get(s3,-dx,-dy), float4x4(0.009099405258894,0.002765875309706,-0.026265868917108,0.023006767034531,-0.026921179145575,-0.014701393432915,0.005110988393426,-0.022933257743716,-0.009299665689468,0.014155691489577,0.053472213447094,-0.090566664934158,-0.059804733842611,-0.004565281327814,0.011339759454131,-0.067100711166859));
res += mul(Get(s3,-dx,0), float4x4(-0.014139392413199,-0.043070863932371,0.018095897510648,0.023031374439597,0.018522609025240,-0.042934022843838,0.005580792203546,-0.014746460132301,-0.025632904842496,0.036236148327589,0.034083072096109,-0.055828917771578,-0.039976421743631,-0.008011008612812,-0.018525566905737,0.056677099317312));
res += mul(Get(s3,-dx,dy), float4x4(0.045036759227514,0.023615835234523,0.017670609056950,-0.042391985654831,-0.020008983090520,-0.000564660003874,-0.073503471910954,0.059401981532574,0.019635375589132,0.051446907222271,-0.034217108041048,0.069685436785221,-0.082002483308315,-0.011841191910207,-0.008951170369983,-0.001658183406107));
res += mul(Get(s3,0,-dy), float4x4(0.074555195868015,0.007043464574963,-0.007737773470581,0.051765952259302,0.005841083358973,-0.021846070885658,-0.008521581068635,-0.033671498298645,0.005902729462832,-0.002823608927429,0.087813220918179,-0.057955335825682,-0.049322854727507,-0.003193674143404,-0.037310834974051,-0.057346988469362));
res += mul(Get(s3,0,0), float4x4(0.014040979556739,-0.016014160588384,0.031771119683981,0.086440838873386,0.031068010255694,0.008559828624129,0.030534515157342,-0.034847378730774,-0.014894647523761,0.027947831898928,0.031277637928724,-0.052586194127798,-0.050686482340097,-0.022515229880810,-0.018802838400006,-0.048006966710091));
res += mul(Get(s3,0,dy), float4x4(0.019247137010098,-0.018909838050604,-0.002985201077536,-0.002994768088683,-0.024471139535308,-0.000430806423537,-0.095908083021641,0.070508807897568,0.013583315536380,-0.045321483165026,-0.010502680204809,0.021723128855228,-0.088921315968037,-0.063955537974834,0.032012335956097,-0.002608193550259));
res += mul(Get(s3,dx,-dy), float4x4(0.075835756957531,-0.001166059984826,0.016971956938505,0.006639781408012,0.028811365365982,0.000796232430730,0.004286420531571,0.034530129283667,0.014695000834763,-0.042167086154222,0.026577837765217,-0.027586853131652,-0.011014005169272,-0.049365542829037,-0.015278204344213,-0.069870002567768));
res += mul(Get(s3,dx,0), float4x4(0.008786956779659,0.023737937211990,-0.029031848534942,-0.042427279055119,0.027367794886231,0.035999100655317,0.035399753600359,-0.019914269447327,0.023968217894435,0.084898158907890,0.089760936796665,-0.023009132593870,-0.050559327006340,-0.034122835844755,0.025956569239497,-0.039054751396179));
res += mul(Get(s3,dx,dy), float4x4(-0.051343403756618,-0.014696487225592,-0.009969044476748,0.003486905945465,-0.026971321552992,0.073514848947525,0.000986801926047,0.039389245212078,-0.027663744986057,0.008176317438483,-0.014584667980671,-0.042116686701775,-0.022654527798295,0.004865299910307,0.007339892908931,0.021408863365650));
return max(float4(0,0,0,0), res);
}
