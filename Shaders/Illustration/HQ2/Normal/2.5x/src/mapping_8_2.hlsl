sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.017989680171013,0.003876280738041,0.087770752608776,-0.004936160054058,0.018976178020239,0.002745174570009,0.053254008293152,0.025493271648884,0.002730328589678,0.000241592584644,-0.022719863802195,0.044625561684370,0.000002704556209,-0.000002923209877,0.000010151019524,-0.000008449211236));
res += mul(Get(s0,-dx,0), float4x4(-0.034079886972904,0.008377159014344,0.050296887755394,-0.008997546508908,0.090021289885044,0.005466936156154,0.090702295303345,0.006563290953636,0.101361580193043,-0.003183143679053,0.043136842548847,0.042546149343252,-0.000013553977624,-0.000006685570497,-0.000010586225471,0.000004867499683));
res += mul(Get(s0,-dx,dy), float4x4(-0.013406867161393,0.007156267296523,0.069599606096745,-0.021610422059894,0.050192907452583,0.003749989205971,-0.021835258230567,0.024606119841337,0.079051703214645,-0.000734650820959,-0.036159142851830,0.050527848303318,0.000002847040378,0.000002867571084,-0.000009362374840,-0.000006615173334));
res += mul(Get(s0,0,-dy), float4x4(0.031194720417261,0.002688774839044,-0.015755839645863,-0.028263377025723,-0.024868151172996,0.004618802107871,0.190447360277176,0.037517875432968,-0.025042615830898,0.003114865394309,0.171628013253212,0.079295419156551,0.000006942059827,0.000011391610315,0.000007011860362,0.000011245875612));
res += mul(Get(s0,0,0), float4x4(-0.019584029912949,-0.012601416558027,-0.253920435905457,0.056993141770363,0.010564084164798,0.021891990676522,0.304516434669495,-0.059271033853292,0.058855175971985,0.029957678169012,0.541175723075867,-0.056457836180925,-0.000003062003998,-0.000009314278941,-0.000008605183211,-0.000003253647719));
res += mul(Get(s0,0,dy), float4x4(-0.028696572408080,-0.010602256283164,0.026402521878481,0.055752661079168,0.028129473328590,0.016092563048005,0.012262537144125,-0.043901905417442,0.081118494272232,0.029191037639976,0.071878917515278,-0.077944591641426,0.000000075789650,-0.000001594104447,-0.000006449903140,0.000013695832422));
res += mul(Get(s0,dx,-dy), float4x4(0.020034402608871,0.007043902296573,0.045755561441183,-0.026366408914328,-0.020913813263178,-0.006338918581605,-0.012939995154738,0.042017165571451,-0.029516415670514,-0.005291603971273,0.058350648730993,0.073152258992195,0.000013806839888,-0.000002658755875,-0.000014875272427,-0.000002761095175));
res += mul(Get(s0,dx,0), float4x4(0.059570409357548,0.005424855276942,-0.031603168696165,0.007823823951185,-0.050175692886114,-0.007155817002058,-0.020720684900880,0.029670575633645,-0.080666467547417,-0.001148125506006,0.151035010814667,0.016435075551271,-0.000013022183339,-0.000005812257314,-0.000006625238711,-0.000006435282558));
res += mul(Get(s0,dx,dy), float4x4(0.021667791530490,0.000603624037467,0.074658207595348,0.030006153509021,-0.014215277507901,-0.000996640068479,-0.027593297883868,0.008882069960237,-0.023315472528338,0.006846255622804,-0.038816943764687,-0.029251016676426,0.000002374565156,0.000011558789993,0.000002582614570,-0.000006346270311));
res += mul(Get(s1,-dx,-dy), float4x4(0.026256343349814,0.011046408675611,0.148058608174324,-0.007670201826841,-0.011021962389350,0.004898322746158,0.031599536538124,0.008394256234169,0.000001708257059,0.000010600955648,-0.000009606400454,-0.000004085743512,-0.011853321455419,0.003444202942774,0.012424411252141,0.000115147879114));
res += mul(Get(s1,-dx,0), float4x4(-0.052636515349150,0.019744109362364,0.162524864077568,-0.024424197152257,-0.004017264116555,0.007323644589633,0.100779861211777,-0.009480813518167,-0.000002482710215,0.000007372116215,-0.000009119327842,0.000002315698566,-0.033488452434540,0.001620442257263,0.012919289059937,0.004214563872665));
res += mul(Get(s1,-dx,dy), float4x4(0.041773132979870,0.015790056437254,0.162553638219833,-0.052590675652027,0.054856110364199,0.005376925226301,0.048372697085142,-0.016435792669654,0.000007177168300,0.000008932012861,0.000013145890080,0.000009943052646,0.022492462769151,0.001090354868211,0.042015627026558,-0.006967252120376));
res += mul(Get(s1,0,-dy), float4x4(0.041555065661669,0.001115100691095,-0.150816529989243,-0.032211396843195,-0.003661400638521,-0.004848066251725,-0.132085502147675,0.028180671855807,-0.000008636947314,-0.000012534989764,-0.000004547164281,0.000009733941624,0.007797190453857,-0.004361495375633,-0.153186142444611,0.016854425892234));
res += mul(Get(s1,0,0), float4x4(-0.104422166943550,-0.024836977943778,-0.308726966381073,0.136268854141235,-0.053220927715302,-0.006710776593536,0.076866395771503,0.058043643832207,-0.000001880223977,-0.000001378935167,0.000001914047516,-0.000009609335393,-0.015294036827981,-0.010618951171637,-0.019339056685567,0.069304443895817));
res += mul(Get(s1,0,dy), float4x4(-0.036169160157442,-0.003926794044673,0.240334898233414,0.022223057225347,0.019655041396618,0.010704962536693,0.165562257170677,-0.044967617839575,0.000001517285568,0.000002940223112,0.000005122699804,-0.000007242694210,0.024102784693241,0.003930385224521,0.127473860979080,-0.008336859755218));
res += mul(Get(s1,dx,-dy), float4x4(0.063528299331665,0.011825215071440,-0.039450094103813,-0.048725400120020,0.034708503633738,0.003099759109318,-0.049134533852339,0.001322023570538,-0.000001695455694,0.000008914881619,-0.000001801097596,-0.000006529373422,0.029166655614972,0.005502232816070,0.011242367327213,0.000430931191659));
res += mul(Get(s1,dx,0), float4x4(0.079446494579315,-0.004718803800642,-0.127866625785828,0.080025359988213,0.001992661971599,-0.006248393561691,0.006678312551230,0.054052952677011,0.000008580657777,0.000007330911558,0.000002546284804,0.000002394393277,0.020653415471315,0.003239620011300,0.101816684007645,0.020676402375102));
res += mul(Get(s1,dx,dy), float4x4(0.002817836124450,-0.004678843077272,0.151126146316528,0.057295721024275,-0.014653676189482,-0.000338161335094,0.052481871098280,0.001151716685854,-0.000002475514066,0.000018289989384,0.000006465013485,-0.000003635547500,0.000473869207781,0.005377859342843,0.063340567052364,-0.015908991917968));
res += mul(Get(s2,-dx,-dy), float4x4(0.100711166858673,-0.003430700162426,-0.010047967545688,0.018595112487674,0.010505849495530,0.001458328217268,0.053808901458979,0.031586065888405,-0.021087508648634,0.004873900674284,0.131279885768890,0.026113426312804,0.000011195016668,0.000003939045200,-0.000003181322882,-0.000005333988611));
res += mul(Get(s2,-dx,0), float4x4(0.090096950531006,-0.013235918246210,-0.217805415391922,0.098071977496147,0.096306212246418,0.004191176034510,0.088720530271530,0.007283871993423,0.039577860385180,0.016538359224796,0.236045747995377,-0.039470460265875,-0.000013280842722,-0.000006152833521,0.000005962975138,-0.000011772031939));
res += mul(Get(s2,-dx,dy), float4x4(-0.024045495316386,-0.006147721782327,-0.017734887078404,0.091252088546753,0.040005192160606,0.002668438013643,-0.047170374542475,0.031450968235731,0.033431053161621,0.012680061161518,0.015464824624360,-0.025056077167392,0.000011090087355,0.000003155638524,-0.000001973016651,-0.000001347535772));
res += mul(Get(s2,0,-dy), float4x4(0.049305938184261,0.029830761253834,0.561988472938538,-0.049068279564381,-0.029580082744360,0.003364933887497,0.211430311203003,0.051269106566906,-0.025537708774209,-0.007050405256450,0.004909847397357,0.058241855353117,-0.000007883882972,0.000008454862837,0.000016214236894,-0.000018342267140));
res += mul(Get(s2,0,0), float4x4(0.168544679880142,0.041260443627834,0.142816647887230,-0.114113971590996,0.034510355442762,0.024153759703040,0.333568155765533,-0.072189040482044,-0.028151696547866,-0.000957375334110,0.085770398378372,0.008337863720953,-0.000009032333764,0.000002131577958,0.000009615979252,-0.000001168051540));
res += mul(Get(s2,0,dy), float4x4(0.022689934819937,0.004089040216058,-0.086761780083179,0.069941364228725,0.036222305148840,0.015033815987408,-0.046399991959333,-0.033714164048433,-0.004640122409910,0.002951107686386,-0.056211907416582,-0.004074406344444,0.000000884269468,0.000012880499526,0.000014197788005,0.000000502428179));
res += mul(Get(s2,dx,-dy), float4x4(-0.097114585340023,-0.002180336974561,0.220044314861298,0.034827187657356,-0.027717007324100,-0.006808641832322,0.026864752173424,0.053920898586512,0.020415017381310,-0.000379138509743,0.027638221159577,0.027922380715609,-0.000001886297810,0.000006293260867,-0.000006480257980,0.000001678042054));
res += mul(Get(s2,dx,0), float4x4(-0.042794615030289,0.015823366120458,0.054687485098839,-0.068280793726444,-0.049273770302534,-0.002718032104895,0.038203489035368,0.011421898379922,0.024983789771795,-0.000186786302947,0.017425922676921,0.021925417706370,-0.000013710277926,0.000000688158423,0.000011832923519,-0.000021899561034));
res += mul(Get(s2,dx,dy), float4x4(0.003834496252239,0.007244970183820,-0.016481770202518,0.015784516930580,-0.004105376545340,0.002178369555622,-0.042940195649862,-0.000956115894951,0.021814506500959,0.000103136153484,-0.023482695221901,0.021436288952827,-0.000013713544831,0.000003448817779,0.000002735166163,0.000005166555638));
res += mul(Get(s3,-dx,-dy), float4x4(0.037029694765806,0.022112719714642,0.324032217264175,-0.026297621428967,0.051816355437040,0.002062251791358,0.111906729638577,0.000497006578371,0.013284120708704,0.000619221478701,0.017058154568076,0.021440016105771,-0.030567711219192,0.003126160241663,-0.031378693878651,0.001148684765212));
res += mul(Get(s3,-dx,0), float4x4(-0.184178248047829,0.035992614924908,0.241043522953987,-0.042850755155087,0.021422194316983,0.005535534117371,-0.005797438323498,0.007040232885629,0.067539960145950,0.000130608314066,0.027286343276501,0.017468806356192,-0.131036981940269,-0.007196960970759,-0.092214785516262,0.049598176032305));
res += mul(Get(s3,-dx,dy), float4x4(0.023082485422492,0.028148960322142,0.333907753229141,-0.105671234428883,-0.041842948645353,0.004295534919947,0.014098551124334,0.013159327208996,0.030924435704947,0.000179644717718,-0.029580134898424,0.029794627800584,0.001965405652300,-0.001154083875008,0.121037103235722,-0.006541013717651));
res += mul(Get(s3,0,-dy), float4x4(0.109209783375263,-0.001703229849227,-0.434175550937653,-0.072564527392387,0.025656003504992,0.012634090147913,0.248512372374535,-0.042357865720987,-0.016906103119254,0.004234955180436,0.160664811730385,0.031835209578276,0.054680410772562,-0.007554094772786,-0.359499007463455,0.025899650529027));
res += mul(Get(s3,0,0), float4x4(-0.163524270057678,-0.068304024636745,-0.902816057205200,0.342666804790497,0.043376907706261,0.006676643621176,-0.193377569317818,-0.029161797836423,0.034624777734280,0.019162019714713,0.259852200746536,-0.052049588412046,0.051324892789125,-0.030627997592092,-0.195388853549957,0.188549354672432));
res += mul(Get(s3,0,dy), float4x4(-0.063753269612789,-0.024617590010166,0.429100930690765,0.131546407938004,-0.028320387005806,-0.013093246147037,-0.117849357426167,0.088274732232094,0.033162575215101,0.012563905678689,-0.007615350652486,-0.027787612751126,0.058749530464411,-0.003060219576582,0.209441944956779,0.055530160665512));
res += mul(Get(s3,dx,-dy), float4x4(0.143519490957260,0.032611310482025,0.049585472792387,-0.105758480727673,-0.027513369917870,0.000952028611209,0.090814687311649,-0.002827957738191,-0.024990264326334,-0.004813826642931,0.022487400099635,0.040056765079498,0.051268592476845,0.019387114793062,0.201195925474167,0.003307002363726));
res += mul(Get(s3,dx,0), float4x4(0.230057865381241,0.011269769631326,-0.040411207824945,0.113536722958088,0.035123139619827,0.008894240483642,-0.038401082158089,-0.024773415178061,-0.042925592511892,-0.001438942854293,0.044016655534506,0.006355277262628,0.090691424906254,0.029608374461532,0.437405824661255,-0.027369074523449));
res += mul(Get(s3,dx,dy), float4x4(0.050889406353235,0.004467342048883,0.385963708162308,0.085443459451199,0.032722212374210,0.002245456678793,0.036932013928890,0.035155549645424,-0.007528074551374,0.002466768492013,-0.025642119348049,-0.006323235575110,0.037386596202850,0.023762907832861,0.150494813919067,-0.060753270983696));
return max(float4(0,0,0,0), res);
}
