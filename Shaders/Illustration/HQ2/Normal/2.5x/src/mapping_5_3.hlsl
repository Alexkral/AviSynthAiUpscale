sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.047250263392925,0.012684243731201,-0.037011686712503,-0.029194205999374,-0.039167493581772,-0.040010910481215,-0.041557092219591,0.000363479135558,0.003584675025195,-0.021719168871641,-0.016785355284810,-0.052469812333584,0.007033671252429,0.005586891900748,0.030326690524817,0.025736495852470));
res += mul(Get(s0,-dx,0), float4x4(0.027750406414270,-0.049917075783014,-0.030133098363876,0.009704017080367,-0.047521628439426,-0.011718644760549,-0.006678430363536,-0.045827478170395,0.028207309544086,0.050978668034077,-0.016092825680971,-0.040683817118406,0.004276250954717,0.006977824028581,0.009174084290862,0.045839011669159));
res += mul(Get(s0,-dx,dy), float4x4(0.020902464166284,-0.038896258920431,-0.043444305658340,0.007997795008123,-0.050588544458151,-0.048602294176817,0.013772054575384,-0.011959412135184,0.030989391729236,0.037882868200541,-0.003197569400072,-0.011536617763340,-0.001429930445738,-0.038058500736952,-0.023159550502896,0.053498294204473));
res += mul(Get(s0,0,-dy), float4x4(0.015409863553941,0.013208799995482,-0.021079486235976,-0.006854613777250,-0.005932535976171,-0.012662039138377,0.006978071294725,0.029366716742516,-0.014173846691847,-0.004742010030895,0.018519243225455,-0.046912603080273,-0.039329376071692,-0.009502204135060,-0.009651210159063,0.013646584004164));
res += mul(Get(s0,0,0), float4x4(-0.015371459536254,-0.017051734030247,-0.020783482119441,-0.007654858287424,-0.022618740797043,-0.012893415056169,-0.005671746563166,-0.029703097417951,0.017300393432379,0.053407307714224,0.015703449025750,-0.024808896705508,-0.004564453847706,-0.006588227581233,-0.032384883612394,-0.011100335977972));
res += mul(Get(s0,0,dy), float4x4(0.011732500977814,-0.037900842726231,-0.024487584829330,0.006163216661662,-0.056795157492161,-0.034833502024412,-0.024359876289964,0.029840877279639,-0.034912381321192,0.010294870473444,-0.021105362102389,0.009509100578725,-0.004614884033799,0.006263388786465,-0.048062443733215,0.026173375546932));
res += mul(Get(s0,dx,-dy), float4x4(0.039743043482304,-0.009121553972363,-0.016760496422648,-0.007008924148977,-0.006738406606019,-0.000163413409609,-0.010591136291623,-0.012516511604190,0.000360410893336,-0.039719633758068,0.008108819834888,-0.027376642450690,-0.006681296974421,0.030835816636682,-0.017055386677384,0.047571428120136));
res += mul(Get(s0,dx,0), float4x4(0.024305874481797,-0.018624382093549,-0.044280491769314,0.010330807417631,-0.030910167843103,-0.002531268633902,-0.015518488362432,-0.059125445783138,0.036868095397949,-0.022790720686316,-0.005444721784443,-0.002377945929766,0.009746692143381,0.039576258510351,-0.036734819412231,-0.005965556949377));
res += mul(Get(s0,dx,dy), float4x4(0.028355710208416,-0.009423030540347,-0.005528242327273,0.007419756148010,-0.043952427804470,-0.030727829784155,-0.000433032168075,0.015048146247864,-0.019801164045930,-0.021076412871480,-0.016297897323966,-0.014157061465085,0.046463012695313,0.055455621331930,-0.025468004867435,-0.000155809422722));
res += mul(Get(s1,-dx,-dy), float4x4(-0.015797654166818,0.031010378152132,-0.011517106555402,-0.027821611613035,-0.014537552371621,0.030128678306937,-0.011490375734866,0.024039113894105,-0.049614720046520,-0.006698832847178,-0.000138768256875,0.001671648002230,-0.033129554241896,-0.055285878479481,-0.015087198466063,-0.068255625665188));
res += mul(Get(s1,-dx,0), float4x4(-0.002978983102366,0.034124046564102,-0.026867177337408,-0.033952984958887,0.013250046409667,0.021789168938994,0.047719970345497,0.016190191730857,-0.012625076808035,0.019985530525446,-0.027145253494382,-0.028701605275273,0.002999120624736,0.009584262035787,-0.025567462667823,-0.026671294122934));
res += mul(Get(s1,-dx,dy), float4x4(0.034680102020502,-0.025906966999173,0.040532197803259,-0.050388518720865,0.022770717740059,0.011897050775588,0.044926006346941,0.000145057609188,0.010905075818300,-0.018260600045323,0.043833225965500,-0.047122202813625,0.028772739693522,0.073237881064415,-0.008334622718394,0.016288323327899));
res += mul(Get(s1,0,-dy), float4x4(-0.042992223054171,0.025596968829632,0.006907763890922,-0.031885996460915,0.003614935791120,0.003880813950673,0.026675350964069,0.058257587254047,-0.042748007923365,-0.006640719249845,-0.026428461074829,-0.020190026611090,-0.039286408573389,0.023235067725182,0.002926174318418,0.023315623402596));
res += mul(Get(s1,0,0), float4x4(-0.032218560576439,0.030938630923629,0.034947860985994,0.001976385712624,-0.003434936515987,0.019951511174440,0.062842756509781,0.030268110334873,0.016339024528861,0.001508602988906,0.014540258795023,0.073173962533474,-0.004098806995898,0.022555813193321,0.002566312206909,-0.013438843190670));
res += mul(Get(s1,0,dy), float4x4(0.018512537702918,-0.051918040961027,0.038633208721876,0.014156869612634,0.017167996615171,-0.009325449354947,0.011500225402415,0.014262260869145,0.012668028473854,-0.031187184154987,0.017551502212882,-0.030238147825003,0.038350876420736,0.060991443693638,-0.026650022715330,-0.006305016111583));
res += mul(Get(s1,dx,-dy), float4x4(0.006125734187663,0.071949250996113,0.021008880808949,-0.036820255219936,-0.016584936529398,-0.007138474378735,0.008278075605631,-0.004885484930128,-0.010836531408131,-0.014212151989341,0.025833714753389,-0.032957442104816,0.008520208299160,0.048502381891012,0.018520684912801,0.042052071541548));
res += mul(Get(s1,dx,0), float4x4(-0.016015414148569,0.039303582161665,0.033835630863905,0.031810060143471,-0.024714196100831,0.003245678730309,0.006944445427507,-0.018025137484074,-0.008308601565659,0.002380568534136,0.032554175704718,-0.013223181478679,0.034838143736124,0.017455708235502,0.012286759912968,-0.010004098527133));
res += mul(Get(s1,dx,dy), float4x4(0.018706358969212,0.030470816418529,-0.024766895920038,0.058919172734022,0.003555913921446,0.002081152983010,0.010756960138679,-0.005499649327248,-0.005474509205669,-0.009520826861262,-0.026185179129243,0.021039836108685,0.041069563478231,0.006508060265332,-0.015869000926614,-0.059798840433359));
res += mul(Get(s2,-dx,-dy), float4x4(0.003490668255836,-0.044446188956499,-0.028734788298607,0.013782251626253,-0.016856743022799,0.033377747982740,0.035516217350960,-0.024822922423482,-0.006937961094081,-0.032681263983250,-0.018842484802008,-0.058644078671932,-0.010104580782354,0.011317912489176,-0.017487665638328,0.026316668838263));
res += mul(Get(s2,-dx,0), float4x4(0.015361807309091,-0.027838209643960,-0.013126179575920,-0.053773250430822,0.038066864013672,0.031417146325111,0.046912301331758,-0.065702363848686,-0.028758753091097,-0.014169420115650,-0.041373189538717,-0.043536271899939,-0.007481165230274,0.045981515198946,-0.052287988364697,-0.049530077725649));
res += mul(Get(s2,-dx,dy), float4x4(0.053326219320297,-0.037199068814516,-0.068841643631458,0.020110860466957,-0.022159371525049,-0.006375486962497,0.034428551793098,0.000341093022143,-0.021082513034344,-0.036393541842699,-0.042561527341604,0.010566633194685,-0.007634244859219,0.042928464710712,-0.035598110407591,-0.023015480488539));
res += mul(Get(s2,0,-dy), float4x4(0.015802213922143,0.001973967067897,-0.024929342791438,0.035416387021542,-0.056993894279003,-0.006171503104270,-0.022346170619130,0.009411538951099,-0.058555174618959,-0.035322461277246,-0.075781591236591,-0.017804821953177,0.002482574665919,-0.008154933340847,-0.023674320429564,-0.001135200611316));
res += mul(Get(s2,0,0), float4x4(0.040005195885897,-0.030208447948098,-0.001606293721125,0.040172748267651,-0.017307065427303,-0.006414218340069,0.036203805357218,-0.017968641594052,-0.055839296430349,-0.041661117225885,-0.019262144342065,-0.023560672998428,0.059777658432722,-0.001380800968036,-0.042755369096994,-0.004379939753562));
res += mul(Get(s2,0,dy), float4x4(0.027253437787294,-0.018758760765195,0.005337109789252,0.002979899058118,-0.030308820307255,0.015559621155262,0.013120811432600,-0.062175426632166,0.006367542315274,-0.000755774148274,0.000444261211669,-0.002276598708704,0.021869931370020,0.013269568793476,-0.017652131617069,-0.014299673959613));
res += mul(Get(s2,dx,-dy), float4x4(0.042595233768225,0.061113573610783,-0.006719726137817,0.011881539598107,-0.016361443325877,-0.071408361196518,-0.010104403831065,-0.052571453154087,-0.004251454491168,0.031757172197104,-0.032662484794855,-0.040014896541834,0.014016053639352,-0.040793031454086,-0.008740208111703,-0.022301562130451));
res += mul(Get(s2,dx,0), float4x4(0.017735958099365,0.006107957568020,0.004975918680429,-0.000551260076463,0.024382272735238,-0.040142212063074,0.021286198869348,-0.006627566646785,0.033827062696218,0.027485897764564,-0.005654857493937,-0.019483167678118,-0.001090881996788,-0.116890847682953,0.007083047647029,-0.051143161952496));
res += mul(Get(s2,dx,dy), float4x4(0.025383124127984,0.042546410113573,0.037445254623890,0.042709484696388,0.026998942717910,-0.007524731568992,-0.021062690764666,-0.032624050974846,-0.003298413241282,0.046884007751942,0.019224692136049,-0.009504841640592,-0.022818980738521,-0.099505186080933,0.022286409512162,0.036348193883896));
res += mul(Get(s3,-dx,-dy), float4x4(0.093143291771412,-0.015308168716729,-0.001443765708245,0.040141846984625,0.008339130319655,-0.019929217174649,-0.055303420871496,-0.035643696784973,0.000799196772277,-0.009812563657761,0.025263164192438,-0.035200268030167,-0.008594092912972,0.051981847733259,-0.049737729132175,0.050970323383808));
res += mul(Get(s3,-dx,0), float4x4(0.030883468687534,-0.025520693510771,0.008301462978125,0.035651095211506,-0.024666134268045,-0.006822925992310,-0.067631423473358,-0.024457527324557,0.002600139472634,0.020157253369689,-0.027806043624878,-0.031173940747976,0.008496037684381,0.046508107334375,0.015811478719115,-0.001898053567857));
res += mul(Get(s3,-dx,dy), float4x4(-0.035277191549540,-0.087545521557331,-0.014255389571190,0.044646337628365,-0.019688034430146,-0.004959374666214,-0.033973053097725,-0.066286593675613,-0.013151004910469,-0.001828106236644,-0.043012302368879,0.003562303958461,0.042457196861506,0.059915043413639,0.000068041867053,0.020716277882457));
res += mul(Get(s3,0,-dy), float4x4(0.024353984743357,-0.037950519472361,-0.002920987783000,-0.012907773256302,-0.000744593911804,-0.014155089855194,-0.008013128302991,-0.013785470277071,-0.003949973266572,-0.004581256303936,0.023094380274415,-0.003500866470858,-0.003206235356629,-0.004604713059962,0.014507115818560,0.073956698179245));
res += mul(Get(s3,0,0), float4x4(-0.020900551229715,-0.069127142429352,0.010243536904454,0.042514804750681,0.027624679729342,-0.013928095810115,0.029574226588011,0.037502098828554,-0.023617535829544,0.017595954239368,-0.037671297788620,-0.037989921867847,0.007817733101547,-0.043969999998808,0.011447200551629,-0.003627689555287));
res += mul(Get(s3,0,dy), float4x4(-0.068795755505562,-0.032168231904507,0.015751540660858,0.018656197935343,-0.002114649629220,-0.040112894028425,0.041735891252756,-0.095540948212147,-0.014609249308705,0.015190124511719,-0.040226902812719,-0.022945675998926,0.031326036900282,-0.028089512139559,0.026449963450432,0.041656900197268));
res += mul(Get(s3,dx,-dy), float4x4(-0.055767092853785,-0.022647786885500,0.000919440353755,-0.004924737848341,0.061797466129065,0.013249181210995,0.024407524615526,0.006994704250246,0.036098543554544,0.033059567213058,0.060151390731335,-0.001264438731596,-0.003243264509365,-0.026070699095726,0.022102165967226,0.027847604826093));
res += mul(Get(s3,dx,0), float4x4(-0.081909395754337,0.015718305483460,0.019782235845923,0.053691815584898,0.043938934803009,-0.020729228854179,0.028794430196285,-0.006515346933156,-0.024089980870485,0.051899064332247,-0.003262079786509,-0.051669016480446,0.020977221429348,0.002899054437876,-0.027589224278927,0.045754190534353));
res += mul(Get(s3,dx,dy), float4x4(-0.002019282430410,0.040755465626717,-0.010778253898025,0.016139490529895,-0.001124538946897,-0.089374579489231,0.025611473247409,0.007091107778251,-0.003458224004135,-0.000223482085858,0.003224635496736,0.041220255196095,0.019886132329702,-0.014855592511594,-0.020777724683285,0.007272244896740));
return max(float4(0,0,0,0), res);
}
