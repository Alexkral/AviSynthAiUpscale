sampler s0 : register(s0);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(x, y)   tex2D(s0, tex + float2(x, y))[0]

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += float4(-0.026389161124825,-0.244874000549316,-0.045449852943420,-0.026091311126947) * Get(-dx,-dy);
res += float4(-0.109631262719631,0.003114809049293,-0.039354108273983,-0.110458090901375) * Get(-dx,0);
res += float4(-0.020740531384945,-0.037476457655430,-0.016899287700653,-0.040180582553148) * Get(-dx,dy);
res += float4(0.117952927947044,-0.060726068913937,-0.047705914825201,0.048498835414648) * Get(0,-dy);
res += float4(0.065401107072830,0.134739026427269,0.034503810107708,0.113763056695461) * Get(0,0);
res += float4(0.029667057096958,-0.088756307959557,-0.078818283975124,0.065374694764614) * Get(0,dy);
res += float4(-0.046479374170303,0.024412052705884,-0.073717921972275,-0.069200165569782) * Get(dx,-dy);
res += float4(-0.064107328653336,0.188055574893951,0.064359828829765,0.086318992078304) * Get(dx,0);
res += float4(-0.043651502579451,-0.111326590180397,0.048464130610228,-0.115705035626888) * Get(dx,dy);
return max(float4(0,0,0,0), res);
}
