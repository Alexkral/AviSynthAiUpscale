sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.031531628221273,-0.017872445285320,-0.083225801587105,-0.058088824152946,-0.012670023366809,-0.021507473662496,0.024034772068262,0.045797731727362,0.024418469518423,-0.003965452313423,0.039116311818361,-0.000378854165319,0.016706027090549,0.059904608875513,0.022184908390045,0.015579029917717));
res += mul(Get(s0,-dx,0), float4x4(-0.022218354046345,-0.001729091047309,0.015779158100486,-0.004994307179004,-0.059081681072712,-0.015653500333428,0.043007899075747,0.045444175601006,-0.019643969833851,-0.011284820735455,0.038317684084177,0.018503095954657,0.066740445792675,0.004650339949876,-0.021900881081820,0.000788039818872));
res += mul(Get(s0,-dx,dy), float4x4(-0.063990317285061,0.017835315316916,0.015381378121674,-0.020031694322824,-0.039220899343491,-0.055681936442852,-0.005067122634500,-0.036202795803547,-0.051833026111126,-0.021954441443086,-0.053210396319628,-0.006771876011044,0.036372423171997,0.019631464034319,0.030945129692554,-0.035352818667889));
res += mul(Get(s0,0,-dy), float4x4(-0.034770306199789,-0.003515684744343,-0.032642703503370,-0.042272102087736,-0.014655687846243,0.029617190361023,-0.002345409709960,-0.003983685746789,0.027704732492566,-0.001245295978151,-0.006696955300868,-0.031913030892611,0.013504154980183,0.005773848388344,0.062853559851646,0.018590983003378));
res += mul(Get(s0,0,0), float4x4(0.021636042743921,-0.002928545465693,0.003919928800315,0.012690719217062,-0.011323357932270,-0.026636110618711,-0.006556891836226,0.032915383577347,-0.036538880318403,-0.007700345944613,-0.033780146390200,0.013128450140357,0.004106598440558,-0.023286484181881,-0.012369728647172,0.029267555102706));
res += mul(Get(s0,0,dy), float4x4(0.014592911116779,0.030655201524496,0.010541331022978,-0.013450800441206,0.014991122297943,0.001506470143795,0.003832711139694,-0.088934227824211,-0.068698249757290,-0.024363297969103,-0.000825935509056,0.015195797197521,-0.024446735158563,0.089692458510399,-0.006476425100118,0.019842896610498));
res += mul(Get(s0,dx,-dy), float4x4(-0.006387649569660,0.021195374429226,-0.006489420775324,0.000078872399172,0.013339075259864,-0.017000947147608,0.011654057539999,0.031045675277710,0.002480640541762,0.013437130488455,-0.016694102436304,-0.001039111753926,-0.034775424748659,0.058589283376932,-0.012305336073041,-0.063189975917339));
res += mul(Get(s0,dx,0), float4x4(0.041654635220766,0.006379960570484,0.003334034234285,0.005325880367309,0.015165622346103,-0.020306289196014,0.064221113920212,-0.048399198800325,-0.031688757240772,0.031249875202775,0.029986813664436,-0.003443181049079,-0.061987947672606,0.005746365990490,0.003604491008446,-0.012253140099347));
res += mul(Get(s0,dx,dy), float4x4(0.025952899828553,0.026722621172667,0.026737224310637,-0.018290983512998,0.007897101342678,0.049910750240088,0.021358635276556,-0.114307090640068,-0.031203068792820,0.017373269423842,0.005689995363355,0.038111608475447,-0.062053252011538,0.006657204590738,-0.016508204862475,0.046418163925409));
res += mul(Get(s1,-dx,-dy), float4x4(0.040483318269253,0.017971180379391,0.065748125314713,0.055921863764524,-0.019213201478124,-0.032773043960333,-0.007020873948932,-0.011987030506134,0.047725025564432,0.006585392169654,0.012971676886082,0.059588022530079,0.007045311853290,0.004132056143135,0.048738628625870,0.010634372010827));
res += mul(Get(s1,-dx,0), float4x4(-0.036000657826662,0.013701421208680,-0.012821563519537,0.011499905027449,0.011600741185248,-0.019131371751428,0.073551453649998,0.001387718948536,0.034606572240591,-0.012828752398491,-0.000899089616723,0.025303602218628,0.029995564371347,0.006806141231209,0.040978487581015,0.010995821096003));
res += mul(Get(s1,-dx,dy), float4x4(-0.038141917437315,0.029896240681410,-0.018639611080289,-0.022266995161772,0.037854541093111,0.012163314968348,0.009527396410704,-0.035388890653849,0.061591640114784,0.048584934324026,-0.016912095248699,0.013114042580128,0.029058111831546,-0.022019846364856,0.002952127950266,-0.031798604875803));
res += mul(Get(s1,0,-dy), float4x4(0.025142796337605,-0.048719216138124,0.002643191022798,0.038894195109606,-0.015989808365703,-0.004152425099164,0.012044284492731,0.007920666597784,0.051322150975466,-0.014463190920651,0.075125604867935,0.051101431250572,-0.019707709550858,-0.018956400454044,0.001531466958113,-0.050934553146362));
res += mul(Get(s1,0,0), float4x4(-0.010627890937030,0.015745200216770,-0.002097352640703,0.007310049608350,0.077210806310177,0.016848303377628,0.050180282443762,0.002140789758414,-0.024605503305793,0.078926168382168,-0.003771314863116,0.011032523587346,0.012531396001577,-0.010409271344543,0.028469391167164,0.006003702059388));
res += mul(Get(s1,0,dy), float4x4(-0.026878597214818,-0.011333732865751,-0.017570497468114,-0.027123214676976,0.086800515651703,0.015358942560852,0.087011516094208,-0.060352679342031,0.069261953234673,-0.047353412955999,-0.036622136831284,0.018922574818134,0.010002888739109,-0.037139084190130,-0.042304251343012,-0.016975974664092));
res += mul(Get(s1,dx,-dy), float4x4(-0.009802065789700,0.036619629710913,-0.067434184253216,0.027848726138473,-0.023748952895403,-0.019089439883828,0.008044465444982,0.010207258164883,0.033009253442287,-0.008255149237812,-0.020425925031304,0.013591373339295,-0.036008019000292,-0.024627188220620,-0.001045149518177,-0.042331136763096));
res += mul(Get(s1,dx,0), float4x4(0.007752071600407,0.044101879000664,-0.005508596543223,0.100263245403767,0.017978647723794,0.010196371935308,0.028676778078079,0.034753128886223,-0.014276634901762,0.041901379823685,0.019048241898417,-0.001497729914263,0.001030900864862,-0.016464071348310,-0.009613550268114,-0.031061414629221));
res += mul(Get(s1,dx,dy), float4x4(-0.026354737579823,0.033183317631483,-0.047262500971556,0.014357147738338,0.055955734103918,-0.006311635952443,-0.002410952467471,-0.009652749635279,0.045085757970810,-0.036406010389328,-0.031792227178812,0.025141948834062,0.022119287401438,-0.065439969301224,-0.034557096660137,0.008462781086564));
res += mul(Get(s2,-dx,-dy), float4x4(-0.016919925808907,-0.033390287309885,0.065311357378960,0.049025971442461,0.000083417115093,0.015406992286444,0.012615427374840,0.038970518857241,0.036510441452265,-0.056256089359522,-0.004459311719984,0.033101361244917,-0.028379226103425,-0.024698683992028,0.007150136865675,-0.000105185768916));
res += mul(Get(s2,-dx,0), float4x4(-0.034732572734356,-0.014451305381954,0.032827675342560,0.047397583723068,-0.004328239709139,0.007453563623130,0.031330719590187,0.045931100845337,-0.012728275731206,-0.035403620451689,0.062543131411076,-0.010788072831929,-0.021087719127536,0.016988219693303,-0.097724236547947,0.029018197208643));
res += mul(Get(s2,-dx,dy), float4x4(-0.007437815424055,0.010988148860633,0.064415127038956,0.006641017273068,-0.035910397768021,-0.040668930858374,0.029589300975204,0.058415357023478,-0.035931825637817,0.010657492093742,-0.009941793046892,-0.030538996681571,-0.071781910955906,-0.007061162497848,-0.059835009276867,0.068079978227615));
res += mul(Get(s2,0,-dy), float4x4(0.002113760216162,-0.002589478157461,-0.039172444492579,0.005547837354243,0.032499440014362,0.013934149406850,0.063538894057274,0.026324789971113,0.079633422195911,-0.022879255935550,0.029542261734605,0.051564186811447,0.004872791469097,0.037673596292734,0.035798117518425,-0.008739864453673));
res += mul(Get(s2,0,0), float4x4(-0.018015600740910,-0.020076213404536,-0.016633188351989,0.005598903633654,-0.015630895271897,-0.003828046610579,-0.017090145498514,-0.005071309860796,-0.067285381257534,0.008565134368837,-0.104537770152092,-0.001129130832851,0.006379545666277,0.011594999581575,-0.096641942858696,0.005484461784363));
res += mul(Get(s2,0,dy), float4x4(-0.014378399588168,0.017582604661584,0.012018627487123,0.005301551893353,0.038539860397577,-0.028812281787395,-0.027640245854855,0.008442043326795,-0.039914883673191,-0.046649347990751,-0.022273497655988,-0.044244516640902,-0.050854440778494,0.019878864288330,-0.053379658609629,-0.011347029358149));
res += mul(Get(s2,dx,-dy), float4x4(0.017403667792678,-0.002251317258924,0.044740702956915,0.029330171644688,0.057673141360283,-0.054177019745111,0.003902591066435,-0.001306366641074,0.010289986617863,-0.007878025062382,-0.029064377769828,0.019387638196349,0.029910493642092,0.005461038090289,-0.042182397097349,0.014649212360382));
res += mul(Get(s2,dx,0), float4x4(-0.010355096310377,-0.014833631925285,0.066411413252354,0.034625127911568,0.012021836824715,0.040700212121010,-0.025868879631162,-0.037306550890207,-0.020634537562728,0.004444701597095,0.033348601311445,0.030669298022985,-0.001383717288263,0.011236387304962,-0.013406950980425,0.000950949790422));
res += mul(Get(s2,dx,dy), float4x4(-0.013374069705606,0.002353815361857,0.049242846667767,0.003102616174147,0.010966163128614,-0.008485729806125,0.019825831055641,-0.008722611702979,-0.052789214998484,-0.023084122687578,0.007952001877129,0.053132712841034,-0.040687233209610,0.063914999365807,-0.028193255886436,-0.051248423755169));
res += mul(Get(s3,-dx,-dy), float4x4(-0.057063389569521,0.000913470226806,-0.070560738444328,0.007972876541317,-0.017612678930163,-0.008264421485364,-0.022856447845697,-0.011123337782919,-0.003058030270040,0.021653719246387,-0.023341150954366,-0.026723111048341,-0.033643178641796,0.003501259954646,-0.065369702875614,0.009908229112625));
res += mul(Get(s3,-dx,0), float4x4(-0.045212756842375,-0.000139686148032,-0.001683062757365,0.032073035836220,-0.031102968379855,-0.022043995559216,0.007002240512520,0.056317608803511,0.006185039412230,-0.030077571049333,0.059121754020452,-0.010398805141449,-0.062087766826153,-0.022870197892189,-0.050402682274580,-0.013727071695030));
res += mul(Get(s3,-dx,dy), float4x4(-0.035450227558613,0.016507739201188,0.013052668422461,0.011533019132912,-0.028094856068492,-0.044600766152143,0.022457303479314,0.067273348569870,-0.008749508298934,-0.020924009382725,0.028304558247328,-0.074742443859577,0.020749306306243,-0.033686924725771,-0.030044786632061,-0.043134950101376));
res += mul(Get(s3,0,-dy), float4x4(-0.006595663260669,0.006594852078706,-0.006989364512265,0.019995708018541,-0.001290359883569,0.024223428219557,-0.035219740122557,0.001108968397602,-0.046165928244591,0.022528950124979,-0.032420150935650,-0.011609656736255,-0.015850001946092,0.012684559449553,-0.018852213397622,0.020147845149040));
res += mul(Get(s3,0,0), float4x4(-0.037234567105770,0.029612885788083,0.037895411252975,0.006692491471767,-0.026471199467778,-0.040107794106007,0.072590984404087,0.044654302299023,-0.035920076072216,-0.054930157959461,0.115581482648849,-0.024575401097536,0.035665515810251,-0.036705181002617,0.011161685921252,-0.006506728008389));
res += mul(Get(s3,0,dy), float4x4(-0.024249512702227,0.014622319489717,-0.038351885974407,0.057901091873646,0.030148291960359,-0.046189341694117,-0.011966408230364,0.063040301203728,-0.017882019281387,-0.001613169675693,0.064255945384502,-0.085401915013790,0.018644178286195,0.007919831201434,0.046478852629662,-0.060491066426039));
res += mul(Get(s3,dx,-dy), float4x4(0.037167679518461,-0.006084537599236,0.011981090530753,0.017270145937800,0.034378632903099,-0.032271817326546,0.003409808501601,-0.012180482037365,-0.020556265488267,-0.014765572734177,-0.015181936323643,-0.035240694880486,0.037300471216440,-0.014863866381347,0.018439466133714,-0.005635335575789));
res += mul(Get(s3,dx,0), float4x4(-0.016806015744805,0.038357444107533,-0.023885084316134,0.040059432387352,-0.014010382816195,-0.061964865773916,-0.011135498061776,0.036207430064678,-0.030016407370567,-0.013615227304399,0.085168801248074,-0.048082564026117,0.067868381738663,-0.060226935893297,-0.029100937768817,-0.010020890273154));
res += mul(Get(s3,dx,dy), float4x4(-0.036539003252983,-0.064653217792511,-0.075839981436729,0.046072401106358,0.003479639533907,-0.034687984734774,-0.016267642378807,0.031832627952099,-0.048093415796757,-0.031090594828129,0.010808006860316,-0.072335839271545,0.027667116373777,-0.008785645477474,0.035768091678619,-0.043279383331537));
return max(float4(0,0,0,0), res);
}
