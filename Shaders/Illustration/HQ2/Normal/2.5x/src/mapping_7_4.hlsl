sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.038952190428972,-0.035286385565996,0.027486335486174,0.002157493494451,0.021158440038562,-0.012306033633649,0.031018486246467,-0.038836520165205,0.012169899418950,0.005637121852487,-0.003760893596336,0.017611023038626,0.065099902451038,-0.080466166138649,-0.001391278929077,0.322245597839355));
res += mul(Get(s0,-dx,0), float4x4(-0.201597049832344,0.000667524174787,0.055487737059593,-0.082251936197281,-0.318909972906113,-0.074255503714085,0.101919293403625,-0.059092216193676,0.035213571041822,0.005238139070570,-0.009020889177918,0.031104486435652,-0.290751546621323,0.030421113595366,0.038585145026445,0.240930765867233));
res += mul(Get(s0,-dx,dy), float4x4(-0.050166707485914,0.039135105907917,0.021714579313993,-0.048877455294132,-0.385045439004898,0.053570777177811,0.086723715066910,-0.057150684297085,0.034172188490629,-0.001943380804732,-0.007878604345024,0.025597566738725,0.188579976558685,0.067463353276253,-0.040040086954832,0.090769581496716));
res += mul(Get(s0,0,-dy), float4x4(0.056360039860010,0.008240029215813,0.001529356930405,-0.015872156247497,0.300869882106781,0.115409426391125,-0.034854311496019,-0.078477919101715,-0.029113605618477,-0.006408604793251,0.008824265561998,-0.010129740461707,-0.349958837032318,-0.229130446910858,0.123959772288799,-0.004913609940559));
res += mul(Get(s0,0,0), float4x4(0.165518119931221,0.034276209771633,-0.011482977308333,-0.063638113439083,0.428593993186951,-0.083873100578785,-0.025602683424950,-0.017549546435475,-0.053864069283009,-0.002184336539358,0.012818976305425,-0.012202391400933,-0.891829669475555,0.074067197740078,0.217079207301140,-0.477659285068512));
res += mul(Get(s0,0,dy), float4x4(0.128234341740608,-0.001052114646882,-0.006180756259710,0.019631339237094,-0.276502311229706,-0.021579166874290,0.089943528175354,-0.131413891911507,-0.036455042660236,0.003182912943885,0.007596304174513,-0.004577648360282,0.116261079907417,0.159991890192032,0.012676418758929,-0.150623857975006));
res += mul(Get(s0,dx,-dy), float4x4(0.045131146907806,0.031716328114271,-0.006033489946276,0.056799389421940,0.181202068924904,0.141672790050507,-0.036006301641464,0.107574000954628,0.024831959977746,0.001794477691874,-0.002790498547256,-0.005023477599025,0.181652933359146,-0.034257210791111,-0.006371248047799,-0.046013660728931));
res += mul(Get(s0,dx,0), float4x4(0.204927563667297,0.034808874130249,-0.039202198386192,0.151626423001289,0.549695670604706,-0.009378425776958,-0.105391040444374,0.381895631551743,0.018980089575052,-0.003741020802408,-0.000003093194209,-0.010951465927064,0.265645474195480,0.094111941754818,-0.012958666309714,-0.142920657992363));
res += mul(Get(s0,dx,dy), float4x4(0.100876249372959,-0.027519457042217,-0.016979105770588,0.127622470259666,0.043226081877947,-0.068328745663166,0.001657735672779,0.128084078431129,-0.005566997919232,-0.000565336784348,0.003917079884559,-0.014586057513952,0.378214985132217,0.022135060280561,-0.051213122904301,0.101924680173397));
res += mul(Get(s1,-dx,-dy), float4x4(0.030702773481607,0.010207519866526,0.001587399630807,0.020232012495399,-0.049555785953999,-0.000313622556860,0.013488576747477,0.012096546590328,0.009915367700160,0.004286045208573,0.001639489317313,0.008077148348093,0.003557662712410,-0.000169984225067,-0.001502329716459,0.038891408592463));
res += mul(Get(s1,-dx,0), float4x4(0.030651651322842,0.000453173910500,0.001921643037349,0.038699429482222,0.072214789688587,0.030514549463987,-0.007847957313061,-0.022150045260787,0.026878023520112,0.002496023662388,-0.000741313910112,0.009652621112764,-0.012702814303339,-0.005165827926248,0.000539587461390,0.050283502787352));
res += mul(Get(s1,-dx,dy), float4x4(-0.006733597256243,0.002125671133399,0.005550041329116,0.032309602946043,0.076312713325024,-0.018259909003973,-0.001293792622164,-0.004261884838343,0.001738734892569,-0.001837234245613,0.003491810755804,0.005785402376205,-0.027518084272742,-0.003313256893307,0.003467655507848,0.025317130610347));
res += mul(Get(s1,0,-dy), float4x4(0.021805625408888,0.012771442532539,0.007982058450580,-0.010119621641934,-0.138930082321167,-0.020132284611464,0.033211067318916,-0.009017227217555,-0.009580774232745,0.001530391047709,0.006809911690652,0.000711918226443,-0.056728195399046,-0.012145287357271,0.018719660118222,-0.042908389121294));
res += mul(Get(s1,0,0), float4x4(0.016673641279340,-0.009393051266670,0.011829631403089,0.003319882322103,0.019848069176078,0.076831974089146,-0.004867156967521,-0.015692790970206,0.010351118631661,0.007581428159028,0.002423437777907,0.007884354330599,-0.084807351231575,-0.004357868339866,0.026172300800681,-0.073458619415760));
res += mul(Get(s1,0,dy), float4x4(-0.070061877369881,0.003208058187738,0.022637939080596,-0.013055043295026,0.235210567712784,-0.020665701478720,-0.035131908953190,0.086467765271664,0.012013069353998,-0.000990834436379,0.001815671799704,0.009870329871774,-0.055618580430746,0.006978942546993,0.018322579562664,-0.058340348303318));
res += mul(Get(s1,dx,-dy), float4x4(0.057573318481445,0.020903080701828,-0.001826300751418,0.004895397461951,-0.054040104150772,-0.028864350169897,0.021157167851925,-0.018766101449728,0.008517074398696,-0.000384664745070,0.003940449096262,-0.002200078917667,0.076387129724026,0.017302693799138,-0.014908447861671,0.010964623652399));
res += mul(Get(s1,dx,0), float4x4(0.089934401214123,-0.002222646027803,-0.006302336230874,0.032602716237307,-0.060570251196623,0.043969597667456,0.018178571015596,-0.041532661765814,0.001721953623928,0.004040998406708,0.004999917000532,-0.002594180405140,0.126554951071739,0.010291272774339,-0.024075539782643,0.038017343729734));
res += mul(Get(s1,dx,dy), float4x4(-0.002180200768635,-0.002141580218449,0.009316570125520,-0.000983742880635,0.097253717482090,-0.000604905362707,-0.013918464072049,0.068103566765785,0.005364767275751,0.002536804880947,0.002799124689773,0.003445208305493,0.088968135416508,-0.003173142671585,-0.016929822042584,0.039311114698648));
res += mul(Get(s2,-dx,-dy), float4x4(-0.002539409557357,-0.044649802148342,0.019480044022202,0.021386122331023,-0.081266522407532,-0.013872518204153,0.103648453950882,0.116915494203568,0.347172260284424,0.074297778308392,0.005643459502608,0.109467245638371,-0.020617146044970,0.061335552483797,0.000056775141275,0.107736766338348));
res += mul(Get(s2,-dx,0), float4x4(-0.219402879476547,0.020405897870660,0.049273055046797,-0.056297134608030,0.158117532730103,0.086580686271191,0.082956492900848,-0.147207513451576,0.453667908906937,0.097605489194393,-0.041277308017015,0.370147347450256,0.551539182662964,0.123286098241806,-0.113497257232666,0.221978217363358));
res += mul(Get(s2,-dx,dy), float4x4(0.095698058605194,0.057642698287964,-0.011699756607413,-0.014396827667952,0.000083285456640,0.003180305473506,0.102662049233913,0.004881250672042,0.489026546478271,0.027454219758511,-0.045483294874430,0.113804638385773,0.472746133804321,-0.062420938163996,-0.082264691591263,0.227832451462746));
res += mul(Get(s2,0,-dy), float4x4(0.102919898927212,-0.026623478159308,-0.005207255017012,0.023829208686948,-0.304474800825119,0.075605787336826,0.151479423046112,-0.081794030964375,0.390132546424866,-0.183180555701256,0.036993488669395,0.363550364971161,-0.422085225582123,-0.077061407268047,0.115869350731373,-0.054066371172667));
res += mul(Get(s2,0,0), float4x4(0.004902826156467,0.025070667266846,0.018294185400009,-0.101393975317478,0.831569612026215,0.285010993480682,-0.060402370989323,0.173991456627846,-1.000362396240234,0.036551702767611,0.241984903812408,0.004151219036430,-0.419282346963882,0.086299538612366,0.091682679951191,-0.004062542226166));
res += mul(Get(s2,0,dy), float4x4(0.125631064176559,0.035135589540005,-0.010974451899529,0.026585258543491,0.575048387050629,-0.119208216667175,-0.012643798254430,0.391692310571671,0.444959551095963,0.287793725728989,-0.042144913226366,0.031287837773561,-0.030731676146388,0.014859652146697,0.006147538311779,0.135592713952065));
res += mul(Get(s2,dx,-dy), float4x4(0.070054292678833,0.023762270808220,-0.011525893583894,0.076635889708996,0.055680193006992,-0.002002230146900,0.098311319947243,0.000125519887661,0.333978086709976,-0.149825602769852,0.031742818653584,0.185115277767181,0.059718839824200,-0.054987713694572,0.031772606074810,-0.123148247599602));
res += mul(Get(s2,dx,0), float4x4(0.207209825515747,0.024750193580985,-0.034530475735664,0.127970993518829,0.082429572939873,0.124086789786816,0.077659659087658,0.160288080573082,-0.436564981937408,0.048572264611721,0.188765525817871,-0.420594424009323,-0.152120620012283,-0.009241432882845,0.082606874406338,-0.257266610860825));
res += mul(Get(s2,dx,dy), float4x4(0.072784759104252,-0.020588390529156,-0.009261721745133,0.103917136788368,0.097031377255917,0.006038072053343,0.052885834127665,0.192168056964874,0.307168185710907,0.215392649173737,0.009098401293159,-0.009652597829700,-0.138937085866928,0.032912779599428,0.058604069054127,-0.154672726988792));
res += mul(Get(s3,-dx,-dy), float4x4(0.174912571907043,-0.041267760097980,0.002441537100822,0.237117543816566,0.000046304401621,0.000020487612346,-0.000006763754300,0.000001958126177,0.450706094503403,-0.016869140788913,-0.073407597839832,0.246873915195465,0.120146051049232,0.005599230993539,-0.023365277796984,0.099001534283161));
res += mul(Get(s3,-dx,0), float4x4(-0.222223281860352,0.051727633923292,0.038157772272825,0.264148443937302,0.000000004986861,-0.000021053599994,0.000000102767096,0.000025600165827,-0.117093950510025,-0.091047480702400,0.024276964366436,0.314922004938126,-0.006983036175370,-0.034741893410683,-0.001294949557632,0.127757966518402));
res += mul(Get(s3,-dx,dy), float4x4(0.350392550230026,0.080038182437420,-0.058426335453987,0.114125683903694,0.000001713533607,-0.000000148558826,-0.000013556717022,-0.000004328127034,-0.154463589191437,0.051250882446766,0.023598561063409,0.010063316673040,-0.101899176836014,-0.000664579856675,0.016976019367576,0.000607658352237));
res += mul(Get(s3,0,-dy), float4x4(0.027245441451669,-0.205707430839539,0.064970441162586,0.105543538928032,0.000007216984159,0.000000320875500,-0.000006645360827,0.000005007264008,0.107854157686234,-0.158964037895203,0.014502290636301,0.239579990506172,-0.111562497913837,-0.043584063649178,0.031998645514250,0.001490415073931));
res += mul(Get(s3,0,0), float4x4(-0.824844717979431,0.049727950245142,0.215941086411476,-0.457930117845535,-0.000005919577234,0.000007254837328,-0.000000967294113,0.000002202208861,-0.825143277645111,-0.086055673658848,0.186780244112015,-0.188111245632172,-0.224462941288948,-0.002474742243066,0.055066127330065,-0.132379516959190));
res += mul(Get(s3,0,dy), float4x4(0.256230235099792,0.198509976267815,-0.004956244491041,-0.083721451461315,0.000002059359531,0.000020886538550,-0.000013070311979,0.000014191522496,-0.129126846790314,0.192795380949974,0.050728525966406,-0.329378187656403,-0.022796520963311,0.041249793022871,0.017432257533073,-0.111199848353863));
res += mul(Get(s3,dx,-dy), float4x4(0.263335406780243,0.016162423416972,-0.022510947659612,0.095646247267723,0.000036946083128,0.000006737033345,-0.000022642534532,0.000011221488421,0.040215168148279,-0.077690556645393,0.022887077182531,-0.017483374103904,0.018737044185400,0.012293099425733,0.000838102598209,-0.036494731903076));
res += mul(Get(s3,dx,0), float4x4(0.521874189376831,0.102855332195759,-0.053535468876362,0.016644068062305,0.000040701212129,0.000002188484359,-0.000015198739675,0.000018363014533,-0.156817972660065,0.070527873933315,0.062037408351898,-0.275898218154907,0.159558221697807,0.046294964849949,-0.025016194209456,-0.016933042556047));
res += mul(Get(s3,dx,dy), float4x4(0.418421059846878,-0.006215929519385,-0.048606600612402,0.235631197690964,-0.000034034757846,-0.000005476838851,0.000002495361286,0.000013523789676,0.410232484340668,0.134685546159744,-0.060665585100651,-0.015328287146986,0.184046477079391,-0.000400172983063,-0.033162180334330,0.085915870964527));
return max(float4(0,0,0,0), res);
}
