sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.033484689891338,-0.002870356896892,-0.005870262626559,0.044771552085876,-0.011969863437116,0.001134086749516,-0.002578183077276,-0.007157026790082,-0.004115053452551,-0.028672041371465,-0.004695714917034,-0.054046444594860,0.038688227534294,0.047595538198948,-0.088639073073864,-0.043963070958853));
res += mul(Get(s0,-dx,0), float4x4(-0.028971372172236,-0.012338737025857,0.036054231226444,0.030740940943360,0.005181848071516,-0.002087645232677,0.001497930148616,0.001627890276723,-0.032056074589491,0.002618942875415,0.021560803055763,0.015514308586717,0.111979261040688,-0.035071652382612,-0.094808265566826,-0.091202929615974));
res += mul(Get(s0,-dx,dy), float4x4(-0.040848515927792,-0.003435512306169,0.019426533952355,0.001875342684798,-0.000432260072557,-0.000762526702601,0.007550049573183,0.003502992214635,0.005950469058007,-0.009193642996252,-0.017721984535456,0.062743529677391,0.024039359763265,-0.018050292506814,-0.042224116623402,-0.018903568387032));
res += mul(Get(s0,0,-dy), float4x4(-0.057204950600863,0.020386770367622,-0.028633853420615,0.017342077568173,-0.003076903289184,0.018860038369894,0.004643834661692,-0.010163292288780,0.028870081529021,0.007653704844415,-0.011368204839528,-0.049767695367336,-0.020177789032459,-0.011387911625206,-0.044493678957224,-0.054499194025993));
res += mul(Get(s0,0,0), float4x4(-0.016902567818761,-0.006652664858848,-0.014913873746991,-0.018979122862220,-0.002686950843781,0.003083304967731,0.001781556871720,0.000768698926549,-0.032723333686590,0.002527011325583,-0.002272740006447,-0.049065496772528,-0.005216761026531,-0.029845407232642,-0.125284135341644,-0.059484969824553));
res += mul(Get(s0,0,dy), float4x4(0.011215603910387,-0.019086301326752,-0.012519130483270,-0.012045793235302,-0.003799279686064,-0.011163828894496,0.003011810127646,0.006986703723669,-0.020047802478075,-0.008823425509036,-0.009238676168025,-0.055538106709719,-0.027077633887529,0.008730772882700,-0.040118999779224,0.093743614852428));
res += mul(Get(s0,dx,-dy), float4x4(-0.047851342707872,0.005892879795283,-0.022745495662093,-0.001729918643832,-0.002000545384362,0.003445151029155,0.003686066251248,0.001230004825629,0.034601125866175,0.004501043353230,-0.029134724289179,-0.024810133501887,-0.008804984390736,0.038286764174700,0.181340798735619,-0.029471069574356));
res += mul(Get(s0,dx,0), float4x4(0.002805118914694,-0.026891684159636,-0.028048448264599,-0.019369162619114,-0.004209333099425,-0.001480890787207,-0.000732157379389,0.003890643827617,0.032204039394855,-0.052247326821089,-0.047418329864740,-0.018976299092174,-0.044561520218849,0.020098023116589,0.146978348493576,0.022686136886477));
res += mul(Get(s0,dx,dy), float4x4(0.018484037369490,-0.010852847248316,-0.037565112113953,-0.009549007751048,0.001861525233835,0.000198887311853,-0.004655735101551,0.001166530302726,0.019335709512234,-0.039249643683434,-0.041431263089180,-0.018875658512115,-0.050945509225130,0.011243981309235,0.099972136318684,0.093777753412724));
res += mul(Get(s1,-dx,-dy), float4x4(0.046836264431477,-0.022834569215775,-0.027074482291937,0.014620930887759,-0.009303973987699,0.001270453562029,-0.004766597878188,0.003302691271529,0.036599036306143,-0.114404261112213,-0.158633917570114,0.103898867964745,-0.005372573155910,-0.001040316652507,-0.004297924693674,0.003237156895921));
res += mul(Get(s1,-dx,0), float4x4(-0.067342139780521,0.027512045577168,0.000479947339045,0.002103305188939,0.004166001919657,0.006288722157478,-0.011998148635030,0.000696853210684,-0.098440401256084,-0.064965926110744,-0.026431076228619,0.073055110871792,-0.003647189820185,-0.005120087880641,-0.002338804537430,0.009609634988010));
res += mul(Get(s1,-dx,dy), float4x4(-0.021257357671857,0.015979519113898,-0.002780754817650,0.050432164222002,0.000232668913668,0.001240034704097,0.009680014103651,0.000554758938961,0.010394367389381,-0.100840754806995,-0.088422730565071,0.061031904071569,0.006240707822144,0.002442437224090,-0.001978335902095,-0.000860339612700));
res += mul(Get(s1,0,-dy), float4x4(-0.042419493198395,-0.004818023648113,-0.047565955668688,0.024019133299589,-0.000450602849014,0.012366992421448,0.006144163198769,-0.004354921635240,-0.072747625410557,0.041466187685728,0.079527899622917,-0.025918642058969,-0.004213648848236,-0.001689454657026,0.001782910432667,-0.003172774100676));
res += mul(Get(s1,0,0), float4x4(-0.033798556774855,-0.011095914989710,-0.005604918580502,0.000391755718738,0.003068077377975,-0.003952559549361,-0.004847531206906,-0.004991267807782,0.327994495630264,-0.095760576426983,0.079418621957302,-0.177873700857162,0.000788289529737,0.009013195522130,0.002161381766200,-0.004101660568267));
res += mul(Get(s1,0,dy), float4x4(-0.015048818662763,-0.004494747612625,-0.031633708626032,0.006915659643710,-0.005287505686283,-0.002384159713984,0.007591341156512,-0.002705560531467,0.011310834437609,-0.015352370217443,0.024891549721360,-0.104515001177788,-0.004183083306998,-0.009810635820031,0.008401968516409,0.000362198828952));
res += mul(Get(s1,dx,-dy), float4x4(-0.024865368381143,0.008609815500677,0.016861228272319,0.007020452059805,-0.002777427434921,0.005335950292647,-0.000913761788979,0.005283582489938,-0.072516247630119,0.156851977109909,0.143075525760651,-0.032855413854122,-0.002315941033885,-0.000238727676333,-0.001759241335094,0.001204082393087));
res += mul(Get(s1,dx,0), float4x4(0.006676039192826,-0.003082810435444,0.043358061462641,0.010153256356716,-0.003851888002828,-0.006200035102665,0.003525495994836,0.015996001660824,-0.083134673535824,0.109824739396572,-0.157431140542030,-0.118796549737453,-0.002051950898021,0.000949889363255,-0.012037594802678,0.006200637668371));
res += mul(Get(s1,dx,dy), float4x4(-0.040544115006924,0.000162380834809,-0.025603748857975,0.021730877459049,0.006651364266872,-0.003387868404388,-0.001821990823373,0.005117708817124,0.013361257500947,0.142671287059784,0.128458350896835,0.010792078450322,0.001456201192923,0.000673404545523,-0.009714993648231,0.001930421683937));
res += mul(Get(s2,-dx,-dy), float4x4(-0.031972594559193,-0.014530579559505,-0.007282619364560,0.025128332898021,-0.032190930098295,-0.012636784464121,0.054315287619829,0.050044097006321,-0.035390790551901,0.057165812700987,-0.041972428560257,0.004996779840440,-0.053669225424528,-0.020096974447370,0.011047475039959,0.024229299277067));
res += mul(Get(s2,-dx,0), float4x4(-0.002565144794062,-0.026862295344472,0.000596181023866,0.005294831469655,-0.023796197026968,-0.044885069131851,-0.004507685080171,-0.021880725398660,-0.009807621128857,0.016396161168814,-0.005731776822358,-0.000697166833561,-0.057610966265202,-0.036679923534393,-0.027070771902800,-0.005643740296364));
res += mul(Get(s2,-dx,dy), float4x4(-0.014233494177461,-0.028718277812004,-0.060455694794655,-0.048599205911160,-0.034583877772093,-0.029019800946116,0.031804885715246,-0.037681080400944,0.023306800052524,0.001562909223139,0.007750086952001,-0.002891635289416,-0.006263467948884,-0.010807574726641,-0.007139637134969,-0.025329969823360));
res += mul(Get(s2,0,-dy), float4x4(-0.015953028574586,-0.029123887419701,-0.017617564648390,0.008879080414772,0.019498491659760,-0.002570135518909,-0.003446171525866,0.039346773177385,0.009678537957370,-0.012691048905253,0.067109167575836,-0.000171907202457,-0.015372226946056,-0.023664953187108,-0.013250088319182,-0.008255255408585));
res += mul(Get(s2,0,0), float4x4(0.001067729783244,-0.042128577828407,0.013874582946301,0.022442832589149,0.028039162978530,-0.025151524692774,0.047733239829540,0.038911875337362,-0.005932031664997,-0.026629606261849,0.030343936756253,0.016716243699193,-0.037652257829905,-0.027751604095101,0.032565105706453,0.005005216691643));
res += mul(Get(s2,0,dy), float4x4(-0.033827431499958,-0.037774160504341,-0.089514218270779,-0.030431302264333,0.023142484948039,-0.009563965722919,0.035228509455919,0.055150929838419,0.021218845620751,0.002908577211201,0.022490622475743,0.011459112167358,-0.021519854664803,-0.013812365010381,-0.003032179083675,0.023178886622190));
res += mul(Get(s2,dx,-dy), float4x4(-0.029866442084312,-0.018338732421398,-0.009932651184499,0.013361131772399,-0.010409149341285,0.001431628013961,0.001974538434297,0.015338816680014,-0.014174723066390,-0.023908155038953,0.007835697382689,-0.003008106024936,0.007992873899639,0.001035978086293,-0.037811316549778,-0.003716001985595));
res += mul(Get(s2,dx,0), float4x4(-0.014824340119958,-0.016782859340310,0.132280617952347,0.033155966550112,-0.036671161651611,-0.005535261239856,0.116968795657158,0.030044093728065,-0.043717559427023,-0.017292710021138,0.051251303404570,0.023317666724324,0.008318366482854,0.003503013635054,0.101474337279797,0.037880368530750));
res += mul(Get(s2,dx,dy), float4x4(-0.030346797779202,-0.028557149693370,0.048163935542107,-0.016430916264653,0.018985824659467,0.005710763391107,0.016756543889642,0.043400943279266,-0.005282453261316,-0.019919482991099,0.005589575972408,0.004552721511573,0.006260318215936,-0.002871076110750,-0.001468782313168,0.002909726230428));
res += mul(Get(s3,-dx,-dy), float4x4(-0.037338089197874,-0.019075056537986,-0.026785496622324,0.013062978163362,-0.000784425123129,0.000945342588238,-0.026114910840988,-0.009064862504601,0.020083606243134,-0.022265736013651,0.005531962495297,0.037097319960594,0.009705327451229,-0.002780343638733,-0.005095807835460,-0.001206953194924));
res += mul(Get(s3,-dx,0), float4x4(0.005713319405913,-0.029145404696465,0.043757155537605,0.023253398016095,0.019654499366879,-0.021988317370415,-0.049342174082994,-0.030869489535689,-0.030202519148588,0.014888073317707,0.003652881132439,-0.009709584526718,0.014162093400955,-0.005869408138096,0.012824801728129,-0.006732416339219));
res += mul(Get(s3,-dx,dy), float4x4(0.000393448281102,0.035594157874584,-0.020420921966434,-0.084680594503880,-0.004369366914034,-0.018503708764911,-0.027801925316453,-0.010211259126663,0.037121929228306,0.005873707588762,-0.014964915812016,-0.020810179412365,-0.002788674086332,0.005552510730922,-0.001895390683785,-0.002776933135465));
res += mul(Get(s3,0,-dy), float4x4(-0.000041984487325,-0.006254313979298,0.012336692772806,0.029281176626682,0.013300245627761,-0.016452997922897,0.027465941384435,0.004698399454355,-0.021948335692286,-0.015374247916043,-0.082283370196819,-0.015182599425316,-0.014779258519411,0.003159010084346,0.000820563174784,0.000053857882449));
res += mul(Get(s3,0,0), float4x4(0.008785524405539,-0.023928077891469,-0.004331442993134,0.018665170297027,0.005415107123554,-0.018607906997204,0.011913011781871,0.011979804374278,-0.004494351800531,-0.031097276136279,-0.074709683656693,-0.027829263359308,-0.001256635412574,0.004567926283926,0.011341504752636,0.005124607589096));
res += mul(Get(s3,0,dy), float4x4(-0.028671003878117,0.002982304664329,-0.077565088868141,-0.083201959729195,0.012870217673481,-0.017444401979446,0.062153775244951,0.035533860325813,-0.029055906459689,-0.018628990277648,-0.050196643918753,-0.015600220300257,0.008286796510220,-0.002605421934277,-0.007058405783027,0.000765981851146));
res += mul(Get(s3,dx,-dy), float4x4(-0.029879251495004,-0.004610034637153,-0.007149194832891,0.003865452948958,0.006369864568114,-0.007020891644061,0.029536491259933,-0.014058420434594,-0.015757877379656,-0.000287933973595,-0.051084212958813,-0.022662924602628,-0.016977043822408,0.007763030938804,0.004200359806418,-0.001906561432406));
res += mul(Get(s3,dx,0), float4x4(0.006365713663399,-0.010203196667135,0.082062341272831,0.051389202475548,-0.013012383133173,-0.015262935310602,-0.016797324642539,-0.012000179849565,-0.042387850582600,0.000551719393115,-0.009474311955273,-0.014749128371477,0.002930874004960,-0.007047801278532,0.001375014195219,-0.007846426218748));
res += mul(Get(s3,dx,dy), float4x4(0.016093442216516,0.032048620283604,0.038831539452076,-0.042099218815565,-0.010182872414589,-0.003186115296558,0.002764704637229,-0.005000715143979,0.008935488760471,0.000852375640534,-0.034859530627728,-0.021715598180890,0.003704781411216,0.000747739570215,-0.006297073792666,0.005883521866053));
return max(float4(0,0,0,0), res);
}
