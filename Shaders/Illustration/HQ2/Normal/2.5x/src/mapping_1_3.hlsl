sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.000925845466554,-0.001153663848527,0.025470931082964,-0.020398467779160,0.000630294263829,-0.000849324918818,-0.004411971196532,0.001211981754750,0.021722694858909,-0.017551859840751,-0.023298278450966,0.002675652271137,-0.030200477689505,-0.021547436714172,0.047948278486729,-0.052395474165678));
res += mul(Get(s0,-dx,0), float4x4(0.039881151169538,-0.007929220795631,-0.010809747502208,-0.008927511982620,-0.004926125053316,0.005454698111862,-0.000047760455345,0.000336209923262,0.020748579874635,-0.016645271331072,0.017254730686545,-0.022170156240463,0.024696944281459,-0.035269603133202,0.031690053641796,-0.051982037723064));
res += mul(Get(s0,-dx,dy), float4x4(0.021231377497315,0.000321632425766,-0.024644335731864,-0.013362221419811,0.004840645007789,0.010066663846374,-0.002186623634771,-0.002773236716166,0.009657622314990,0.035501696169376,0.072538696229458,-0.007877694442868,-0.066262841224670,-0.031319733709097,0.016322607174516,0.019815064966679));
res += mul(Get(s0,0,-dy), float4x4(0.041601385921240,-0.013142514042556,-0.022265216335654,0.002205332275480,0.009443490765989,0.005952988751233,0.003813386196271,0.004701433703303,0.059280678629875,-0.059683207422495,-0.013693339191377,-0.017194136977196,-0.015958961099386,-0.029195919632912,0.025931596755981,-0.007984670810401));
res += mul(Get(s0,0,0), float4x4(-0.000695307739079,-0.020615700632334,0.039120659232140,0.000980411656201,0.004404261708260,-0.000715180882253,0.008043991401792,0.004037968348712,0.180981829762459,-0.059348560869694,-0.020658092573285,-0.045302215963602,0.018698401749134,-0.052606243640184,0.161225616931915,0.026373989880085));
res += mul(Get(s0,0,dy), float4x4(0.010895160026848,-0.005738447885960,-0.019793728366494,-0.012486218474805,0.004839979112148,-0.001286981860176,0.001139945001341,-0.004898899234831,0.031764101237059,0.014803575351834,-0.007001650054008,-0.025612737983465,-0.044737022370100,-0.062214206904173,-0.003979952074587,0.031501881778240));
res += mul(Get(s0,dx,-dy), float4x4(0.021429706364870,-0.009483975358307,0.004094391129911,0.003262263257056,-0.003276158357039,0.001908360398374,0.005186565686017,-0.002756791887805,-0.026531888172030,0.010317002423108,0.010667378082871,0.021975692361593,-0.012980832718313,-0.016110930591822,-0.059633571654558,0.001126904855482));
res += mul(Get(s0,dx,0), float4x4(-0.022008594125509,-0.002894413657486,-0.033097621053457,0.019937505945563,0.000015924093532,0.007706755306572,-0.003366563003510,-0.000563702662475,0.053645022213459,-0.009590819478035,0.028708549216390,0.007204078603536,0.027383446693420,-0.014424171298742,-0.054509192705154,0.080074429512024));
res += mul(Get(s0,dx,dy), float4x4(-0.020965743809938,0.014323707669973,0.031135128811002,-0.026626609265804,0.002282758709043,0.000134746122058,-0.000617002835497,0.002563484245911,-0.007338818162680,0.012532442808151,0.017686976119876,0.002732274821028,-0.034443881362677,-0.033896088600159,-0.104891471564770,0.042177394032478));
res += mul(Get(s1,-dx,-dy), float4x4(0.038771346211433,-0.009770813398063,0.017189215868711,-0.004498531110585,-0.000507765158545,-0.001498026540503,-0.000113692527520,0.001881742035039,-0.047004990279675,-0.043966956436634,0.095855481922626,-0.073556557297707,0.003280484117568,0.009876810945570,-0.001748404349200,-0.001889753155410));
res += mul(Get(s1,-dx,0), float4x4(0.033956516534090,-0.039802540093660,-0.029153380542994,-0.028881596401334,0.004490211140364,-0.002029298106208,0.009925574995577,0.005795961245894,-0.035879675298929,-0.028654048219323,0.053673565387726,-0.119573965668678,-0.001896616420709,0.000185305048944,-0.000205254633329,0.000119270080177));
res += mul(Get(s1,-dx,dy), float4x4(0.010485942475498,0.002233783015981,0.021787889301777,-0.003907503560185,-0.000877919082996,0.003218520898372,-0.006873815320432,-0.007529937662184,-0.075467057526112,-0.007338695228100,0.063555173575878,-0.056817784905434,-0.001543986145407,-0.006054218858480,0.003275291062891,-0.008885568939149));
res += mul(Get(s1,0,-dy), float4x4(-0.005138736683875,-0.011940060183406,0.033304389566183,-0.001545578707010,0.003853876842186,-0.010499159805477,0.000111603156256,0.008668410591781,0.009365245699883,-0.007529542781413,0.045386400073767,-0.020740373060107,0.002750109881163,-0.003466030582786,-0.001644315314479,0.004235463216901));
res += mul(Get(s1,0,0), float4x4(0.071968555450439,-0.012610856443644,-0.057137444615364,-0.008201861754060,0.002268381183967,-0.003018144983798,0.005269843153656,0.002358542289585,0.030416101217270,0.039519112557173,-0.295562624931335,-0.030254414305091,0.000044385560614,-0.004563677590340,0.002487767953426,0.001382121234201));
res += mul(Get(s1,0,dy), float4x4(0.013344565406442,-0.003669813973829,-0.047276418656111,0.019296592101455,0.006295944098383,0.007060217205435,0.000220673726290,-0.001643294934183,-0.057155031710863,0.095126591622829,0.059289235621691,-0.008113268762827,0.007905913516879,-0.000105992279714,0.007867138832808,-0.003919555805624));
res += mul(Get(s1,dx,-dy), float4x4(0.007460405118763,-0.007793837226927,-0.000594979734160,-0.015516626648605,0.000943022081628,-0.004192567430437,0.000500349909998,0.000411908811657,-0.061539027839899,-0.021888332441449,-0.111634470522404,0.041248194873333,-0.000774800428189,-0.000597526028287,-0.000791622151155,-0.008915701881051));
res += mul(Get(s1,dx,0), float4x4(0.028853770345449,-0.012450176291168,-0.023568186908960,0.037249013781548,0.004683678038418,0.003096354193985,0.004591073375195,0.000824068789370,-0.033748522400856,0.055263727903366,0.318645983934402,0.056428093463182,-0.010757300071418,0.004114351235330,0.004699804820120,-0.007107709068805));
res += mul(Get(s1,dx,dy), float4x4(-0.004622917622328,-0.004511040169746,-0.016192262992263,-0.000246943236561,-0.002844680333510,0.001084350282326,0.005250948946923,0.000594640616328,-0.049025300890207,0.109007768332958,-0.130733817815781,0.054299086332321,0.000945412321016,0.003450768766925,-0.002665641484782,-0.000349846988684));
res += mul(Get(s2,-dx,-dy), float4x4(0.019509667530656,-0.011239702813327,-0.001859141397290,-0.010276980698109,0.041590820997953,0.004483583848923,-0.039883870631456,-0.010141127742827,-0.003634775755927,-0.006445724982768,0.056303687393665,-0.007597972173244,0.018726816400886,0.007625144906342,-0.011536855250597,-0.022192113101482));
res += mul(Get(s2,-dx,0), float4x4(-0.022541956976056,-0.010808167047799,-0.026401204988360,-0.019120948389173,-0.007586529944092,-0.016709677875042,0.023773746564984,0.002109764376655,-0.008412664756179,-0.004246592987329,0.013569503091276,-0.003554098308086,-0.008660475723445,0.009889668785036,0.041047547012568,-0.014465136453509));
res += mul(Get(s2,-dx,dy), float4x4(-0.056685738265514,-0.003557011485100,0.043438185006380,-0.031515758484602,-0.017217308282852,-0.004476306959987,-0.016578717157245,-0.002126989420503,-0.012305090203881,0.012067391537130,-0.020977091044188,-0.006960741709918,-0.012419233098626,0.009996582753956,0.013482501730323,-0.024089472368360));
res += mul(Get(s2,0,-dy), float4x4(0.068738773465157,-0.024842867627740,-0.016391251236200,-0.000846340786666,0.046044051647186,0.000062558625359,-0.017364317551255,0.009862061589956,-0.003920105751604,-0.009392988868058,-0.069806702435017,-0.005431762896478,0.025843007490039,0.002800770103931,0.016600823029876,0.009656963869929));
res += mul(Get(s2,0,0), float4x4(0.008860027417541,-0.005114826839417,-0.055081829428673,0.021875113248825,0.014694104902446,-0.005520216654986,-0.084578424692154,0.062452021986246,-0.000197714805836,-0.004212973173708,-0.024424163624644,0.024965982884169,-0.006330386269838,0.004490642342716,-0.055563908070326,0.054195895791054));
res += mul(Get(s2,0,dy), float4x4(-0.060609001666307,-0.006658153608441,0.044988375157118,0.023606041446328,0.002023245207965,-0.016071433201432,-0.043030239641666,0.018554553389549,-0.006309043150395,0.002295367186889,0.012619387358427,-0.005940544418991,-0.008640855550766,-0.009115659631789,0.035767044872046,0.002897179918364));
res += mul(Get(s2,dx,-dy), float4x4(0.022471234202385,-0.029835144057870,0.000087103522674,0.001067314180546,-0.000678708718624,-0.002133305883035,0.043992832303047,0.024076873436570,0.002021198393777,0.000436155562056,0.031373865902424,-0.003348495578393,0.026628645136952,0.000006664550710,-0.016703277826309,-0.000012371462617));
res += mul(Get(s2,dx,0), float4x4(0.044024243950844,-0.020715015009046,-0.052161198109388,0.000573794357479,0.029848953709006,-0.010409118607640,-0.001922497409396,0.067275047302246,0.015521206893027,-0.007224085740745,-0.025490472093225,0.018054001033306,0.027089571580291,-0.003419747110456,-0.028428675606847,0.020726114511490));
res += mul(Get(s2,dx,dy), float4x4(-0.008360341191292,-0.004459728952497,-0.030221182852983,0.014282645657659,0.044183112680912,-0.013259669765830,-0.001759129459970,-0.000745001132600,-0.008304480463266,-0.005179557949305,-0.014454877935350,-0.007057310082018,0.003526303218678,-0.001252601388842,0.007247203495353,-0.009196697734296));
res += mul(Get(s3,-dx,-dy), float4x4(-0.020418327301741,-0.011667250655591,0.019797956570983,-0.002007460221648,-0.004203154239804,0.003086494980380,0.013594849966466,-0.013572216965258,0.041563209146261,-0.001741296728142,0.022394761443138,-0.009382312186062,-0.006636901292950,-0.010124099440873,0.001508153975010,-0.001731451950036));
res += mul(Get(s3,-dx,0), float4x4(-0.023103119805455,-0.009430307894945,-0.034633997827768,0.002741222269833,0.017180757597089,-0.006815091706812,0.056136664003134,-0.019948385655880,0.031217876821756,-0.020174136385322,-0.041079062968493,-0.012002630159259,-0.007980114780366,-0.000808864831924,-0.011414986103773,-0.005359245929867));
res += mul(Get(s3,-dx,dy), float4x4(-0.086462751030922,-0.011551661416888,0.010199188254774,-0.029768377542496,-0.028373004868627,-0.001835726085119,0.013760021887720,0.023905085399747,0.003713278332725,0.001735864323564,0.001500031445175,-0.009307792410254,-0.006494113709778,-0.003765508299693,0.009190177544951,-0.009242748841643));
res += mul(Get(s3,0,-dy), float4x4(0.056002192199230,-0.024264717474580,0.002172610722482,-0.004269641824067,-0.000756257039029,-0.000006525880053,-0.013311729766428,0.002627138979733,-0.011797723360360,-0.002870654221624,-0.067973144352436,0.054352443665266,0.006479192059487,0.002735987305641,0.033373184502125,-0.000265771290287));
res += mul(Get(s3,0,0), float4x4(0.034481890499592,-0.017295952886343,0.015342616476119,0.035001832991838,0.006689818110317,-0.022624591365457,-0.019218053668737,0.024559637531638,-0.003388710785657,-0.013345494866371,0.068316563963890,0.013071639463305,0.005187328904867,-0.007179241627455,0.010435577481985,-0.010353033430874));
res += mul(Get(s3,0,dy), float4x4(-0.087871111929417,-0.006615678779781,0.055193047970533,0.020019296556711,-0.014424488879740,-0.018818851560354,-0.039631064981222,0.007962316274643,0.032374080270529,0.002312928438187,-0.014796665869653,0.006298320367932,-0.003706407267600,-0.006158669479191,-0.007758215069771,0.004849737975746));
res += mul(Get(s3,dx,-dy), float4x4(-0.002012096811086,-0.039718162268400,-0.016172824427485,-0.000039908809413,-0.007623095996678,0.000271305878414,0.013025937601924,0.005273422691971,0.023726154118776,0.000521928945091,-0.011230826377869,-0.001403350033797,0.001143223140389,-0.000642822182272,-0.003581739030778,-0.005855036899447));
res += mul(Get(s3,dx,0), float4x4(0.066156812012196,-0.012124432250857,-0.044947657734156,-0.001541552599519,0.007415166124701,-0.019709771499038,0.006479825358838,0.021325990557671,0.004418785218149,-0.014479417353868,0.070237025618553,0.026059951633215,-0.003127904608846,-0.008925363421440,-0.019750416278839,0.002538630273193));
res += mul(Get(s3,dx,dy), float4x4(-0.029251920059323,0.002713256748393,-0.025973143056035,0.006702852435410,0.004293636418879,-0.004910056944937,-0.008438074029982,-0.003248767927289,-0.024684483185410,-0.005588239058852,0.004574171733111,0.002708364045247,-0.002831066725776,0.002621186431497,-0.002602868946269,-0.004670681431890));
return max(float4(0,0,0,0), res);
}
