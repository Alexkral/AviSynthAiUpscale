sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.005181564018130,0.019820518791676,0.017661521211267,-0.002525412011892,-0.051594931632280,-0.017988035455346,-0.014295547269285,0.001409106887877,-0.016158448532224,-0.059081397950649,-0.061037275940180,0.003132545389235,0.036004070192575,-0.006725793704391,-0.029353579506278,0.009332844056189));
res += mul(Get(s0,-dx,0), float4x4(0.023801542818546,0.033856026828289,0.007078922353685,-0.012713147327304,-0.006575551815331,-0.036661922931671,-0.039280589669943,0.112137697637081,0.118737243115902,-0.004241036251187,-0.100791171193123,-0.061528187245131,0.056561380624771,-0.031440261751413,-0.009308443404734,0.025787930935621));
res += mul(Get(s0,-dx,dy), float4x4(0.033133734017611,-0.002359213074669,-0.031396992504597,-0.018525682389736,0.010229788720608,-0.052962042391300,0.004284255206585,0.032260511070490,-0.011699768714607,-0.050730787217617,0.023373892530799,-0.005025697872043,-0.009750562720001,0.016618546098471,0.013222715817392,0.044544428586960));
res += mul(Get(s0,0,-dy), float4x4(-0.003871339606121,0.045886877924204,0.017006268724799,-0.029593855142593,-0.003551795380190,0.003585748374462,-0.003640864975750,-0.025107070803642,-0.122347041964531,-0.062716871500015,-0.089278921484947,-0.024192322045565,-0.034540098160505,-0.055656205862761,0.009468047879636,0.058257687836885));
res += mul(Get(s0,0,0), float4x4(-0.009379460476339,0.014762808568776,-0.017161328345537,-0.026205087080598,-0.059262190014124,0.035641212016344,0.023093670606613,-0.045063626021147,-0.001256620045751,-0.059754941612482,-0.061252258718014,0.003659602487460,0.050565224140882,0.008815353736281,0.010791633278131,0.060555916279554));
res += mul(Get(s0,0,dy), float4x4(-0.010997647419572,-0.003234498901293,-0.034982290118933,-0.016931094229221,-0.020557763054967,0.028464337810874,0.007285680156201,-0.048280086368322,0.045907825231552,-0.069876834750175,0.079335704445839,0.043926529586315,0.061653159558773,-0.020457334816456,0.023136997595429,-0.004614613950253));
res += mul(Get(s0,dx,-dy), float4x4(0.045933317393064,-0.001734717981890,-0.000098414282547,-0.031365744769573,0.036053568124771,-0.008226140402257,-0.004184878896922,-0.023154690861702,-0.062646970152855,0.011211182922125,-0.089587450027466,-0.000456687179394,-0.066445901989937,0.046050697565079,-0.056751731783152,0.033958401530981));
res += mul(Get(s0,dx,0), float4x4(0.009074412286282,0.009604204446077,0.009647388011217,-0.009384689852595,0.022379457950592,0.022935744374990,0.004256977234036,-0.108775153756142,-0.101296380162239,-0.013360298238695,-0.030900025740266,-0.035874366760254,-0.014508430846035,0.013206197880208,-0.067484304308891,-0.019252246245742));
res += mul(Get(s0,dx,dy), float4x4(-0.009551311843097,0.015582773834467,0.005913382861763,0.002651524962857,-0.027548428624868,0.003266637213528,-0.006758584175259,-0.043689478188753,-0.060049779713154,-0.033576697111130,0.002763762837276,0.007746271789074,0.036620102822781,-0.018272653222084,-0.019810872152448,-0.026042798534036));
res += mul(Get(s1,-dx,-dy), float4x4(-0.024319481104612,-0.005751787219197,0.044590864330530,0.014435904100537,-0.036518674343824,0.029088037088513,0.006970364134759,0.016195513308048,0.046057119965553,0.015613897703588,-0.009075569920242,0.020159067586064,-0.039985347539186,-0.068448372185230,-0.059477917850018,0.046304926276207));
res += mul(Get(s1,-dx,0), float4x4(-0.012506811879575,-0.026275824755430,0.060830317437649,0.017811305820942,-0.021127248182893,0.036648206412792,-0.013079350814223,0.046647630631924,0.038246188312769,-0.015404894948006,-0.015921117737889,-0.029551582410932,0.010108426213264,-0.012707450427115,0.019220717251301,0.048379573971033));
res += mul(Get(s1,-dx,dy), float4x4(-0.008512065745890,-0.043552957475185,0.027980078011751,0.020000666379929,-0.035272281616926,-0.009982630610466,-0.020960433408618,0.053032454103231,0.002871798351407,-0.024379814043641,0.043579991906881,0.001433002064005,-0.018339993432164,-0.013264520093799,0.004170881584287,0.122639611363411));
res += mul(Get(s1,0,-dy), float4x4(0.007283410988748,-0.019751397892833,0.018115179613233,0.073684699833393,0.018968947231770,-0.031910669058561,0.008211860433221,-0.038699235767126,-0.009374799206853,0.005523873493075,-0.000906726927496,0.047877624630928,0.006166164297611,-0.077370949089527,-0.087658345699310,-0.025482896715403));
res += mul(Get(s1,0,0), float4x4(0.034476075321436,-0.040757264941931,-0.002220563357696,0.055361658334732,0.038758438080549,-0.049275420606136,-0.047027964144945,-0.019841182976961,0.001863395329565,-0.024128528311849,-0.014065022580326,-0.006700302939862,0.069550544023514,-0.053102932870388,-0.043864756822586,-0.105003744363785));
res += mul(Get(s1,0,dy), float4x4(0.019554635509849,-0.028237175196409,0.009856236167252,0.023937668651342,-0.062744989991188,0.096870362758636,0.094933331012726,-0.001507434644736,-0.047017987817526,0.003756406949833,0.034391015768051,-0.005467670038342,-0.059350091964006,0.074030794203281,0.266318529844284,-0.017465470358729));
res += mul(Get(s1,dx,-dy), float4x4(-0.029793886467814,0.016724891960621,-0.008385589346290,-0.004255798179656,0.012212618254125,0.019014969468117,-0.007334742695093,-0.054657790809870,-0.000901844701730,0.020441776141524,-0.004810542333871,0.004621488042176,-0.077841982245445,0.014943953603506,-0.124038174748421,-0.029938528314233));
res += mul(Get(s1,dx,0), float4x4(-0.036315895617008,0.023350385949016,-0.019383074715734,-0.030024353414774,0.068318694829941,-0.048255976289511,-0.036496177315712,-0.031563989818096,0.025517569854856,0.009781407192349,-0.018112465739250,-0.017039943486452,0.053750440478325,-0.046774245798588,-0.066330119967461,-0.063633143901825));
res += mul(Get(s1,dx,dy), float4x4(-0.056629724800587,0.052848685532808,-0.000989640015177,-0.037568178027868,0.022255454212427,0.033230960369110,0.062636129558086,-0.007470004726201,-0.008785002864897,0.011233404278755,0.016174379736185,-0.000242145426455,0.001687683048658,-0.005502591840923,0.135590746998787,-0.040142070502043));
res += mul(Get(s2,-dx,-dy), float4x4(-0.013838638551533,0.007602961268276,-0.016936276108027,-0.014583457261324,0.019898291677237,-0.017553357407451,0.022111348807812,0.028567081317306,-0.043789360672235,-0.010476281866431,-0.001640938455239,0.075619734823704,0.006879650522023,-0.016918705776334,0.016438761726022,-0.020944071933627));
res += mul(Get(s2,-dx,0), float4x4(0.028404671698809,-0.005336132831872,-0.028971653431654,-0.006435579154640,0.009618358686566,0.000067129760282,0.010609792545438,0.004020841792226,-0.082462139427662,-0.119704730808735,-0.040147405117750,0.143245413899422,0.000911359733436,0.051965650171041,-0.006598716601729,0.001884614815935));
res += mul(Get(s2,-dx,dy), float4x4(0.016223985701799,-0.030143244192004,0.003444200614467,-0.037038110196590,0.007970953360200,0.002350805792958,-0.012566414661705,-0.002689983230084,0.004742959514260,0.025321273133159,-0.058724548667669,-0.031653679907322,0.003647598437965,0.012375695630908,-0.001797918928787,-0.016226656734943));
res += mul(Get(s2,0,-dy), float4x4(-0.009394533000886,0.010703624226153,-0.009800055995584,0.020328223705292,-0.011601486243308,0.015611283481121,0.022305104881525,0.015267329290509,0.092160426080227,0.026706418022513,-0.044452477246523,-0.011821539141238,-0.020419916138053,-0.021482361480594,0.036534786224365,-0.006450322456658));
res += mul(Get(s2,0,0), float4x4(-0.012761669233441,-0.005199193488806,-0.041773129254580,0.052098602056503,0.000414898764575,0.026162460446358,-0.008086527697742,-0.003705306444317,-0.068225003778934,0.255335271358490,0.129670441150665,-0.060562141239643,0.025280790403485,-0.007829055190086,-0.024891011416912,0.003762821201235));
res += mul(Get(s2,0,dy), float4x4(0.041284237056971,-0.034007437527180,-0.037324022501707,0.043795373290777,-0.004812617320567,0.010703039355576,-0.023443752899766,-0.010164584033191,-0.068413101136684,-0.061151925474405,-0.103447481989861,-0.052540004253387,-0.008978092111647,-0.001066306838766,0.007053102366626,-0.005199288018048));
res += mul(Get(s2,dx,-dy), float4x4(0.023709710687399,0.050792232155800,-0.016146369278431,-0.006645665038377,-0.011587499640882,0.049229107797146,0.044659744948149,-0.039647739380598,0.009489824064076,-0.011151195503771,0.026511728763580,-0.001580932294019,0.014654092490673,0.024704525247216,0.027525242418051,-0.065373435616493));
res += mul(Get(s2,dx,0), float4x4(-0.016877835616469,-0.000747480313294,-0.032435867935419,0.011474408209324,-0.012991246767342,0.025478849187493,0.000414998328779,-0.047806963324547,0.078967250883579,-0.012683722190559,-0.033662043511868,-0.036441914737225,0.048988927155733,-0.045036662369967,0.033700339496136,-0.055342644453049));
res += mul(Get(s2,dx,dy), float4x4(-0.047287296503782,-0.019383473321795,-0.015511224977672,-0.001822838908993,0.000526151037775,-0.005087593104690,-0.031059572473168,-0.043251324445009,-0.049893271178007,0.016713196411729,0.036025170236826,0.022053537890315,0.008479248732328,-0.004492484033108,0.059495259076357,-0.031181147322059));
res += mul(Get(s3,-dx,-dy), float4x4(-0.028359983116388,-0.018574947491288,0.006010362412781,0.021727433428168,-0.019139783456922,0.016012776643038,-0.006511121056974,0.074751518666744,0.006247698329389,-0.017410093918443,-0.004367876332253,-0.061914514750242,-0.000625036016572,-0.030831383541226,-0.013652757741511,-0.013823506422341));
res += mul(Get(s3,-dx,0), float4x4(0.096129074692726,0.003649579361081,-0.032419390976429,0.057234160602093,-0.041637398302555,0.022709986194968,0.018477261066437,0.043411288410425,0.061625778675079,-0.027151422575116,-0.029990971088409,-0.072423838078976,0.007982660084963,-0.011295591481030,-0.023225255310535,-0.036807972937822));
res += mul(Get(s3,-dx,dy), float4x4(0.042822368443012,-0.038006320595741,-0.000420399301220,0.005220620892942,-0.042096178978682,0.064420849084854,-0.004650113638490,0.017356604337692,-0.071664772927761,-0.005763467866927,0.013064202852547,-0.026299785822630,0.027364179491997,-0.031748231500387,0.006849015597254,-0.016138030216098));
res += mul(Get(s3,0,-dy), float4x4(-0.060159098356962,0.026179743930697,0.017251482233405,0.083915188908577,0.022814435884356,0.000427581224358,0.004620768129826,-0.061934169381857,-0.008181561715901,-0.012608215212822,-0.032457247376442,0.011395808309317,-0.014732977375388,0.016547255218029,0.010936568491161,-0.051208920776844));
res += mul(Get(s3,0,0), float4x4(-0.056034747511148,-0.032611157745123,-0.007268688641489,0.091063618659973,0.000254219834460,-0.013343382626772,-0.004009214695543,-0.037995032966137,0.161481544375420,-0.003324183169752,-0.071674041450024,0.029181715101004,-0.005319864023477,-0.030142575502396,0.052341178059578,-0.094607152044773));
res += mul(Get(s3,0,dy), float4x4(0.060365259647369,0.041168510913849,-0.032585673034191,-0.046263549476862,-0.031203169375658,0.000129882944748,-0.000652410031762,-0.027912382036448,0.052487719804049,-0.008511500433087,0.083055704832077,0.031941134482622,0.049054007977247,-0.036226566880941,0.073624044656754,0.005613418295979));
res += mul(Get(s3,dx,-dy), float4x4(-0.003759237937629,0.038882263004780,0.029376052320004,-0.049137629568577,0.071733921766281,-0.018699264153838,-0.008774502202868,-0.077696420252323,-0.076749600470066,-0.002158367540687,0.022678589448333,0.029482901096344,0.001975661376491,-0.005751285236329,0.049846403300762,0.064639277756214));
res += mul(Get(s3,dx,0), float4x4(-0.104733325541019,0.131386205554008,0.031188063323498,-0.074272260069847,0.049725264310837,-0.035378783941269,-0.000787392433267,-0.057914711534977,-0.043367289006710,-0.001315733883530,-0.021218640729785,0.002266570227221,-0.013499398715794,-0.003010087646544,0.053833082318306,0.006554245948792));
res += mul(Get(s3,dx,dy), float4x4(-0.056125998497009,-0.031765930354595,-0.051075827330351,-0.076694853603840,-0.001857280964032,0.009574173018336,0.049639541655779,-0.033618293702602,-0.025632664561272,0.007795270066708,0.043441258370876,-0.012569061480463,-0.024492921307683,-0.015464826487005,0.056231040507555,0.036852303892374));
return max(float4(0,0,0,0), res);
}
