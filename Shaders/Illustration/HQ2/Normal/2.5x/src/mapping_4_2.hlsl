sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.008694747462869,0.002950320951641,0.059698197990656,-0.010815015062690,-0.025566002354026,0.004797299392521,-0.004477449692786,0.019752701744437,-0.022435829043388,-0.014696367084980,-0.047877896577120,-0.011878334917128,0.035785548388958,0.032034922391176,0.040252070873976,0.042585682123899));
res += mul(Get(s0,-dx,0), float4x4(-0.014352417550981,0.009166233241558,0.019067047163844,-0.013434521853924,-0.068245612084866,0.056959580630064,0.016513483598828,0.039536871016026,-0.006554953753948,-0.070440158247948,-0.031116334721446,-0.040034051984549,0.038980912417173,0.041932787746191,-0.007603981997818,0.026590004563332));
res += mul(Get(s0,-dx,dy), float4x4(-0.032700788229704,0.037068810313940,-0.045025072991848,0.016065753996372,-0.135731920599937,-0.096542000770569,-0.045310780405998,-0.015206515789032,-0.002908535068855,-0.033318351954222,0.014192569069564,-0.028735937550664,0.037407837808132,-0.059051435440779,-0.047468189150095,-0.010384336113930));
res += mul(Get(s0,0,-dy), float4x4(-0.000139365045470,-0.025227895006537,0.000698425399605,-0.044737454503775,-0.058987602591515,0.063198246061802,0.073571093380451,0.051130708307028,-0.022790690883994,0.090508110821247,-0.027823187410831,0.004440424963832,0.041621334850788,0.040032226592302,0.048269271850586,0.004787133540958));
res += mul(Get(s0,0,0), float4x4(-0.062866881489754,-0.028261702507734,-0.052633300423622,-0.037511136382818,-0.077961303293705,0.029244052246213,0.035551741719246,-0.029110020026565,0.023360475897789,0.089433744549751,-0.090607829391956,0.016049271449447,0.028544755652547,0.065746292471886,0.036157824099064,-0.072947360575199));
res += mul(Get(s0,0,dy), float4x4(-0.023402707651258,0.024265540763736,-0.049738556146622,-0.007300885394216,-0.110786303877831,-0.034505400806665,-0.031952094286680,0.050258129835129,0.028078421950340,0.019964732229710,0.043440084904432,-0.015805566683412,0.055591482669115,0.046368815004826,-0.024313356727362,-0.061671730130911));
res += mul(Get(s0,dx,-dy), float4x4(0.104278765618801,-0.006861878093332,-0.066385999321938,-0.019194642081857,-0.038504656404257,0.015944184735417,-0.060883231461048,0.082190804183483,0.009804418310523,-0.008728026412427,-0.062615223228931,-0.013765975832939,-0.033925350755453,0.019951106980443,0.038834515959024,-0.015232777222991));
res += mul(Get(s0,dx,0), float4x4(0.041151348501444,-0.002326544374228,-0.037045177072287,0.022032648324966,-0.119455054402351,-0.080370195209980,-0.022088624536991,0.054569646716118,0.078002527356148,-0.015728203579783,-0.033714406192303,0.039688218384981,-0.007906695827842,0.003025981597602,-0.032703645527363,-0.067570656538010));
res += mul(Get(s0,dx,dy), float4x4(0.017793977633119,0.030594160780311,-0.001132741686888,0.035310801118612,-0.045286025851965,-0.091140754520893,-0.135844171047211,0.033936504274607,0.023173088207841,-0.044296737760305,-0.019722539931536,-0.010462459176779,0.024109821766615,0.008256022818387,-0.064252115786076,-0.031878773123026));
res += mul(Get(s1,-dx,-dy), float4x4(0.035211324691772,-0.030990857630968,0.007337489631027,0.010579618625343,-0.011430277489126,0.041521243751049,-0.030579004436731,0.035860229283571,-0.021890500560403,-0.026672678068280,-0.029863899573684,-0.009568925946951,-0.021027417853475,-0.002142480108887,-0.044405184686184,-0.007743047550321));
res += mul(Get(s1,-dx,0), float4x4(0.050898544490337,-0.006842807400972,-0.044966105371714,0.011970683000982,-0.007033891510218,0.046502254903316,0.049652941524982,0.039865724742413,0.013863150030375,0.021551216021180,0.001967010786757,-0.045851562172174,-0.007330804597586,-0.003411362413317,-0.009368821978569,0.027980865910649));
res += mul(Get(s1,-dx,dy), float4x4(0.056995861232281,-0.016591833904386,-0.052433289587498,0.001688911230303,0.012788307853043,0.088106140494347,0.016608979552984,0.051051754504442,0.017113504931331,0.065921403467655,-0.014408748596907,0.003353893291205,0.007722145412117,-0.023904725909233,0.052123378962278,-0.057875230908394));
res += mul(Get(s1,0,-dy), float4x4(0.035585992038250,0.020198345184326,-0.005721072666347,-0.009800357744098,0.014709121547639,0.042143817991018,-0.045595422387123,0.059869810938835,0.016650222241879,-0.019988071173429,-0.041125159710646,0.003485758556053,-0.019277319312096,-0.010708429850638,-0.009568414650857,0.025185689330101));
res += mul(Get(s1,0,0), float4x4(0.029117872938514,0.039007898420095,0.065936110913754,-0.020040392875671,0.019276970997453,-0.034231506288052,0.033849444240332,0.059141900390387,-0.014590423554182,0.019408093765378,-0.000845354050398,0.031840831041336,-0.011785795912147,-0.035864390432835,0.006199065130204,-0.011868370696902));
res += mul(Get(s1,0,dy), float4x4(0.020406974479556,0.043309651315212,-0.015865633264184,0.002085901563987,0.055310495197773,0.050846397876740,0.053471982479095,-0.002880632411689,-0.022344749420881,-0.007895249873400,-0.008097349666059,-0.034761492162943,-0.019469659775496,-0.029082072898746,0.009555779397488,-0.025306506082416));
res += mul(Get(s1,dx,-dy), float4x4(-0.005707844160497,-0.057189457118511,0.018895750865340,0.019842417910695,0.039799522608519,0.027043644338846,-0.047067303210497,-0.011618002317846,0.006796430330724,-0.013306027278304,-0.078733436763287,-0.096634209156036,0.018658807501197,0.007075850851834,-0.043557528406382,0.051595963537693));
res += mul(Get(s1,dx,0), float4x4(-0.077301405370235,-0.051723118871450,-0.038487926125526,-0.022970527410507,0.062555611133575,0.115930497646332,0.060821220278740,0.046122726052999,-0.024274852126837,0.086580529808998,-0.026454849168658,0.051274303346872,0.039035759866238,0.030621618032455,0.032063111662865,-0.034415543079376));
res += mul(Get(s1,dx,dy), float4x4(0.028353253379464,-0.080339498817921,-0.066387310624123,-0.019259070977569,-0.015742504969239,0.010115157812834,0.049268458038568,-0.025284295901656,-0.068609967827797,-0.006553335580975,-0.026956781744957,0.057276256382465,-0.037324298173189,-0.004998311866075,-0.008434358052909,0.001218870747834));
res += mul(Get(s2,-dx,-dy), float4x4(-0.009039684198797,0.001812068163417,-0.033823303878307,0.053856354206800,0.054570317268372,-0.007921869866550,-0.101281344890594,-0.011839719489217,-0.059341151267290,-0.012855887413025,-0.065259702503681,0.005542364437133,-0.035361103713512,0.005029585678130,-0.037125613540411,0.013133689761162));
res += mul(Get(s2,-dx,0), float4x4(0.028538767248392,0.058047596365213,0.041897300630808,0.020203635096550,0.010695261880755,-0.012184676714242,0.001782600302249,-0.018611615523696,-0.025998633354902,-0.038464330136776,-0.002527136355639,0.007813738659024,-0.033826626837254,-0.040869303047657,-0.058431256562471,0.005560873541981));
res += mul(Get(s2,-dx,dy), float4x4(0.064723514020443,0.034696329385042,0.059126961976290,0.072990499436855,0.028002562001348,0.023013640195131,0.006566390860826,-0.017999317497015,-0.034536268562078,-0.017011614516377,0.015706030651927,0.027668697759509,0.001639340189286,0.010160914622247,-0.063088953495026,-0.023057116195560));
res += mul(Get(s2,0,-dy), float4x4(-0.016151422634721,-0.042908124625683,0.006889273878187,0.006047802045941,0.037889301776886,0.006947954650968,-0.002452045679092,-0.031342700123787,-0.021951137110591,-0.019850678741932,-0.016911366954446,0.066068679094315,-0.026114776730537,-0.008157649077475,-0.057246956974268,-0.000347690685885));
res += mul(Get(s2,0,0), float4x4(-0.040325049310923,-0.055595412850380,0.050861749798059,-0.025207201018929,0.009796828962862,-0.028104538097978,0.063273206353188,-0.033558234572411,0.004278744570911,-0.064766786992550,0.023731341585517,-0.004885699134320,-0.014345100149512,-0.049592588096857,-0.074186585843563,0.006153631489724));
res += mul(Get(s2,0,dy), float4x4(0.097304292023182,0.027488665655255,0.054157249629498,-0.017821170389652,0.022064676508307,0.053971860557795,0.024324787780643,-0.017016405239701,0.007902250625193,0.000746256147977,0.027223316952586,-0.000830199103802,-0.011223313398659,-0.008604786358774,-0.065037660300732,0.005927891470492));
res += mul(Get(s2,dx,-dy), float4x4(-0.040849126875401,-0.035838644951582,-0.039189271628857,0.001773035270162,0.023245794698596,-0.025031732395291,0.019326219335198,-0.060425750911236,-0.038292042911053,-0.045638203620911,-0.042609535157681,-0.021140955388546,-0.020185051485896,0.005362112075090,-0.064240999519825,-0.006480767857283));
res += mul(Get(s2,dx,0), float4x4(-0.063588790595531,-0.035369165241718,-0.028774542734027,0.021156523376703,0.019891776144505,-0.022891648113728,0.032930955290794,-0.087789520621300,0.047651734203100,-0.020163537934422,0.015018572099507,0.026698237285018,-0.030876191332936,-0.020050764083862,-0.055518921464682,-0.012305469252169));
res += mul(Get(s2,dx,dy), float4x4(0.006131469737738,-0.020007813349366,-0.025930278003216,-0.034624550491571,-0.035251520574093,-0.059904184192419,-0.001057574991137,-0.033901464194059,0.008943274617195,0.001954698702320,-0.018646052107215,0.019936759024858,-0.007153979036957,0.017900757491589,-0.076691381633282,0.012102236971259));
res += mul(Get(s3,-dx,-dy), float4x4(0.050223968923092,0.002692803740501,0.012694341130555,-0.028171708807349,-0.028829464688897,-0.074267573654652,0.039097044616938,-0.043118938803673,-0.006216448266059,-0.078510813415051,-0.038848400115967,0.003521555569023,-0.016424397006631,-0.048504926264286,-0.033197440207005,-0.011697670444846));
res += mul(Get(s3,-dx,0), float4x4(0.012609093450010,-0.036269981414080,0.022242316976190,-0.013940958306193,0.001051032217219,0.049723356962204,-0.018251666799188,-0.012163528241217,0.034651063382626,-0.014016941189766,0.005254026502371,0.055960983037949,0.037183646112680,0.045058187097311,0.007379644550383,0.001518528559245));
res += mul(Get(s3,-dx,dy), float4x4(-0.024736771360040,-0.020274043083191,0.013061061501503,-0.026828516274691,-0.021610742434859,0.013923812657595,-0.027775587514043,0.017071954905987,0.039140131324530,-0.115271121263504,-0.058008994907141,0.008711088448763,0.036166336387396,0.033343140035868,-0.075864434242249,-0.048937968909740));
res += mul(Get(s3,0,-dy), float4x4(0.024218412116170,0.041553247720003,0.105880208313465,-0.053981456905603,-0.019066549837589,-0.003531387075782,0.015310282818973,-0.020608531311154,0.007337659597397,-0.023072380572557,0.009323296137154,-0.041584312915802,0.043057344853878,-0.051768820732832,0.083799891173840,0.001892542117275));
res += mul(Get(s3,0,0), float4x4(0.015151038765907,0.156731203198433,0.049996905028820,0.008792766369879,0.009514290839434,0.072646483778954,0.028348797932267,0.039341323077679,-0.011918799951673,0.034281615167856,-0.048854745924473,0.008224689401686,0.017234249040484,0.070586383342743,0.033470254391432,-0.021849131211638));
res += mul(Get(s3,0,dy), float4x4(-0.047175969928503,-0.030182024464011,0.022302055731416,-0.000880422769114,-0.014214062131941,0.017919337376952,0.008567055687308,0.095586508512497,-0.055291891098022,-0.008306228555739,-0.070895142853260,0.028141219168901,0.068097256124020,0.039270084351301,-0.018483109772205,-0.041372194886208));
res += mul(Get(s3,dx,-dy), float4x4(-0.031274206936359,-0.047528516501188,-0.035085562616587,-0.035037692636251,-0.007663968950510,-0.056120123714209,0.055742561817169,0.019233288243413,-0.048662666231394,-0.029981283470988,-0.062720365822315,0.018847761675715,0.021565759554505,-0.103106558322906,0.021459918469191,-0.015390658751130));
res += mul(Get(s3,dx,0), float4x4(0.002519484842196,-0.023271344602108,-0.095458537340164,0.007463336922228,-0.029744129627943,-0.027373546734452,-0.007028446067125,0.042331919074059,-0.005560753401369,-0.041053563356400,-0.042466375976801,0.023594599217176,0.042514216154814,-0.065530255436897,-0.030034177005291,-0.063042119145393));
res += mul(Get(s3,dx,dy), float4x4(-0.050567809492350,-0.119135551154613,-0.052433799952269,-0.032131228595972,-0.011147403158247,-0.037423506379128,-0.027493031695485,0.037115853279829,-0.006741039454937,-0.002606473397464,-0.059424307197332,0.008220989257097,0.066775113344193,0.021556140854955,0.031631451100111,-0.135024830698967));
return max(float4(0,0,0,0), res);
}
