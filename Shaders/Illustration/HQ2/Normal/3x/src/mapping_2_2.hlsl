sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.029075047001243,0.015961140394211,-0.010639673098922,-0.002875437261537,-0.028747040778399,-0.095661498606205,-0.043893072754145,-0.054301492869854,-0.007131339516491,0.021454760804772,-0.020435927435756,0.023599572479725,0.015557288192213,0.043500773608685,-0.041353475302458,-0.034683734178543));
res += mul(Get(s0,-dx,0), float4x4(0.004306339193135,-0.019444564357400,0.078558959066868,0.031152868643403,0.007460764609277,-0.075500734150410,0.025397043675184,0.091541625559330,0.000743558339309,0.008416473865509,-0.030229618772864,0.010830035433173,0.043923646211624,0.061485059559345,0.011103554628789,-0.036361213773489));
res += mul(Get(s0,-dx,dy), float4x4(0.017040494829416,-0.010019751265645,-0.008548976853490,-0.004030256997794,0.016760023310781,0.008876615203917,-0.006561915390193,-0.069447576999664,-0.011480866931379,-0.006247746292502,0.010578626766801,0.005644874647260,0.032967124134302,-0.019617706537247,0.060005500912666,0.030019884929061));
res += mul(Get(s0,0,-dy), float4x4(-0.042569041252136,0.014231591485441,-0.018871927633882,-0.003908616025001,-0.042176075279713,-0.117593564093113,0.007683199364692,-0.111707568168640,0.003174436278641,0.002683227881789,-0.004735004622489,0.024303719401360,0.010544419288635,0.028152791783214,0.006121283397079,-0.073340654373169));
res += mul(Get(s0,0,0), float4x4(-0.012626547366381,0.012281028553843,0.093318484723568,0.020666366443038,-0.023221405223012,-0.026345832273364,0.054586067795753,0.057395983487368,0.025304613634944,-0.002932127797976,-0.018667152151465,-0.005776638165116,0.003240883350372,0.070236094295979,-0.038913983851671,-0.100733749568462));
res += mul(Get(s0,0,dy), float4x4(0.039577655494213,0.037684649229050,0.053517919033766,-0.046020764857531,0.020942645147443,0.037918098270893,0.022999044507742,0.061009820550680,-0.009486299008131,0.010465977713466,0.024944772943854,-0.004958024248481,0.037200953811407,0.014181461185217,0.031145943328738,0.014446304179728));
res += mul(Get(s0,dx,-dy), float4x4(0.007514494936913,-0.012406056746840,-0.029258307069540,0.041596304625273,-0.072770036756992,0.053671065717936,0.008742749691010,-0.105300247669220,-0.005685369018465,0.019899016246200,0.030479894950986,0.012951392680407,-0.030431931838393,0.022837076336145,0.092257611453533,-0.017752215266228));
res += mul(Get(s0,dx,0), float4x4(0.018882097676396,0.007277282420546,0.076973415911198,0.082696504890919,-0.048884049057961,0.042220704257488,-0.036463383585215,-0.062109019607306,0.018924096599221,0.005949397571385,0.024413188919425,-0.004738062154502,-0.037588130682707,0.007681145798415,-0.012575084343553,-0.065835990011692));
res += mul(Get(s0,dx,dy), float4x4(0.003183498978615,0.074038527905941,0.053906761109829,0.074105314910412,-0.056055355817080,-0.034189105033875,0.013720811344683,-0.072166487574577,-0.011381690390408,0.003204481210560,0.039927508682013,-0.013957397080958,-0.057947441935539,-0.046323522925377,0.058526501059532,-0.026406286284328));
res += mul(Get(s1,-dx,-dy), float4x4(0.001889221020974,0.011894928291440,-0.058316923677921,-0.022345410659909,-0.069243758916855,-0.062382884323597,0.095699325203896,-0.111941903829575,0.006246198434383,-0.026810813695192,-0.025747012346983,0.014536599628627,0.004472553264350,-0.055138457566500,0.089283682405949,0.021842913702130));
res += mul(Get(s1,-dx,0), float4x4(-0.040945526212454,0.070523992180824,-0.083413533866405,-0.107191249728203,-0.081004269421101,-0.060849223285913,0.172548875212669,-0.118308164179325,0.030597453936934,0.024761706590652,-0.008517943322659,0.039187859743834,0.012263299897313,-0.021393254399300,0.073798112571239,-0.029199274256825));
res += mul(Get(s1,-dx,dy), float4x4(-0.040405549108982,0.024288641288877,0.033978492021561,0.015195454470813,-0.056529924273491,-0.037597369402647,0.103208750486374,-0.055932410061359,0.049883950501680,-0.038198601454496,-0.056435205042362,0.027462907135487,-0.002234409563243,-0.024405615404248,0.076082162559032,-0.017573755234480));
res += mul(Get(s1,0,-dy), float4x4(0.049109525978565,-0.023664632812142,-0.103050902485847,0.148814737796783,0.045361857861280,0.057963527739048,0.032398916780949,-0.020155323669314,0.042280405759811,0.011206543073058,-0.013217697851360,0.027992401272058,0.049043010920286,-0.046801943331957,0.046760123223066,0.140894815325737));
res += mul(Get(s1,0,0), float4x4(-0.039489325135946,-0.055535737425089,-0.063267149031162,-0.164090588688850,0.036521174013615,0.150554433465004,0.063059307634830,0.032899584621191,0.031445991247892,0.023819107562304,0.019485702738166,0.010695428587496,0.019010191783309,-0.021911261603236,-0.017529986798763,-0.017339738085866));
res += mul(Get(s1,0,dy), float4x4(-0.052252504974604,-0.076371371746063,0.065105646848679,-0.097313486039639,0.028425095602870,0.155044183135033,-0.024496996775270,-0.042876698076725,-0.008578682318330,-0.008503408171237,-0.044297594577074,-0.002302330220118,0.009591319598258,-0.019377900287509,0.038907013833523,-0.008841824717820));
res += mul(Get(s1,dx,-dy), float4x4(-0.006222695112228,-0.048611849546432,0.004637922625989,0.259076893329620,-0.064346335828304,0.005074964370579,0.030150871723890,-0.066547878086567,-0.002611413132399,0.006832648068666,-0.011472819373012,0.111480288207531,0.024094372987747,-0.050811462104321,-0.013995795510709,0.045313246548176));
res += mul(Get(s1,dx,0), float4x4(0.000667406828143,0.018155898898840,0.130541026592255,-0.035120815038681,-0.058272581547499,0.034571692347527,0.010612690821290,0.095942027866840,-0.029296766966581,0.011329745873809,0.063408754765987,0.046406108886003,0.043554171919823,-0.000417874020059,-0.019604668021202,-0.063804253935814));
res += mul(Get(s1,dx,dy), float4x4(0.014256654307246,0.071412742137909,0.031618013978004,-0.098806776106358,-0.021272094920278,0.025182969868183,0.029409926384687,0.040141630917788,-0.020852321758866,0.056977164000273,-0.050286047160625,-0.003101825714111,0.027708899229765,-0.008023213595152,0.022701960057020,-0.021541593596339));
res += mul(Get(s2,-dx,-dy), float4x4(-0.019239025190473,-0.075713798403740,-0.103336438536644,-0.032972976565361,0.013197111897171,0.012644222937524,0.030376890674233,-0.064331747591496,0.028000902384520,-0.060118485242128,-0.014788871631026,0.060010042041540,0.032249163836241,-0.045203045010567,0.054486136883497,0.000328495254507));
res += mul(Get(s2,-dx,0), float4x4(-0.012151427567005,-0.080940164625645,-0.000582272652537,0.058225423097610,-0.001772417803295,0.035113271325827,-0.051972784101963,-0.024812815710902,0.061070747673512,0.095977447926998,-0.006858900655061,0.049032095819712,0.079740069806576,0.132628500461578,0.135816931724548,0.047551658004522));
res += mul(Get(s2,-dx,dy), float4x4(0.003376432927325,0.001618332462385,-0.007548425812274,0.097769014537334,-0.045885257422924,0.007467265706509,0.012108992785215,-0.012765501625836,0.024120626971126,-0.008287802338600,-0.008492644876242,-0.007675126660615,0.077810168266296,-0.003102594288066,0.001477153506130,-0.056679278612137));
res += mul(Get(s2,0,-dy), float4x4(-0.061259865760803,-0.075547270476818,0.003600019961596,-0.069602765142918,0.026118308305740,0.009026236832142,0.053953774273396,-0.029520491138101,-0.001846960629337,0.042653337121010,0.004465927369893,-0.063781939446926,0.020155988633633,0.001154475612566,-0.078309521079063,0.046749539673328));
res += mul(Get(s2,0,0), float4x4(-0.036459520459175,-0.019146751612425,0.123948879539967,-0.013318984769285,-0.005557851400226,0.018035596236587,-0.022295882925391,-0.015099442563951,-0.002353289164603,0.023088471964002,-0.066416792571545,-0.128318294882774,0.025904867798090,0.061994194984436,-0.066202260553837,0.042641766369343));
res += mul(Get(s2,0,dy), float4x4(-0.000375111354515,0.072690062224865,-0.065732128918171,0.074206501245499,0.014828436076641,-0.006965525448322,0.071538329124451,0.012127613648772,-0.015160017646849,-0.012921977788210,-0.074354864656925,-0.055988825857639,0.047568339854479,-0.013714563101530,0.024695321917534,0.031958233565092));
res += mul(Get(s2,dx,-dy), float4x4(0.020422179251909,0.046921145170927,0.060296867042780,-0.020832149311900,0.020805696025491,0.026005223393440,0.023302821442485,0.021959794685245,-0.075271286070347,-0.041425209492445,0.049405213445425,-0.064866468310356,-0.063136041164398,-0.039051141589880,0.074332825839520,-0.024483989924192));
res += mul(Get(s2,dx,0), float4x4(-0.026912869885564,0.074793338775635,-0.018224373459816,-0.045146439224482,0.006059379782528,0.050115898251534,-0.053964499384165,0.016228271648288,-0.107336930930614,-0.024772794917226,0.024980857968330,-0.099588312208652,-0.109944902360439,-0.088026791810989,-0.103237956762314,-0.072798810899258));
res += mul(Get(s2,dx,dy), float4x4(0.019820379093289,0.052902527153492,0.043300576508045,-0.065562427043915,-0.002460896037519,0.027016177773476,-0.030687557533383,-0.026109531521797,-0.052510213106871,-0.047074507921934,-0.007369365077466,-0.009096705354750,-0.107734918594360,-0.093016423285007,0.091474294662476,0.027057172730565));
res += mul(Get(s3,-dx,-dy), float4x4(0.030744541436434,0.003627206431702,-0.001739980769344,0.006770443171263,-0.026966661214828,0.022510785609484,-0.036655992269516,0.005194701720029,-0.067623652517796,-0.026347359642386,-0.103506393730640,-0.040968619287014,-0.010041426867247,-0.004293129779398,-0.013587879948318,0.045107863843441));
res += mul(Get(s3,-dx,0), float4x4(0.036741089075804,0.014743321575224,-0.015242407098413,-0.014310978353024,-0.055120892822742,0.029673798009753,-0.051232215017080,0.165159866213799,-0.006962164770812,-0.012611295096576,-0.090115234255791,0.092344082891941,-0.000665588304400,-0.041195217519999,-0.088690280914307,0.004513194784522));
res += mul(Get(s3,-dx,dy), float4x4(0.009336931630969,0.009953936561942,-0.011791893281043,-0.014121790416539,0.101740106940269,0.011442188173532,0.027379799634218,0.058357596397400,-0.004139391705394,-0.038304988294840,-0.024624321609735,0.009712086990476,-0.076248809695244,-0.130986675620079,-0.064906291663647,0.051187079399824));
res += mul(Get(s3,0,-dy), float4x4(0.039465811103582,0.012767093256116,0.006819744128734,0.034439243376255,0.041639637202024,-0.018375245854259,-0.085339084267616,-0.090617194771767,-0.066694073379040,-0.088985517621040,-0.070353411138058,-0.022759983316064,0.078242354094982,-0.008465212769806,0.029430134221911,0.011822136119008));
res += mul(Get(s3,0,0), float4x4(0.011444321833551,0.018868243321776,0.004476528149098,-0.000639999168925,0.142712533473969,-0.064369574189186,-0.105452395975590,0.009092483669519,-0.029569894075394,-0.060782205313444,0.093986690044403,0.040571212768555,0.107867091894150,0.001096050022170,-0.057225849479437,-0.075683213770390));
res += mul(Get(s3,0,dy), float4x4(-0.005985177122056,0.021876920014620,-0.000161992007634,-0.002064466476440,0.178770750761032,-0.040135066956282,0.004883661400527,-0.028526328504086,-0.006011195015162,-0.021617891266942,0.031813003122807,0.000302899396047,-0.003336316673085,-0.061264470219612,0.067971356213093,-0.071602448821068));
res += mul(Get(s3,dx,-dy), float4x4(0.005396662279963,-0.000309033872327,0.013457589782774,0.081288501620293,-0.007712680846453,-0.007141913753003,0.093683294951916,-0.057428956031799,-0.068614564836025,-0.058730933815241,0.031077411025763,-0.036066561937332,-0.043011587113142,-0.002003474626690,0.018386282026768,0.095676913857460));
res += mul(Get(s3,dx,0), float4x4(0.006733885500580,0.005572475958616,0.016175560653210,0.042640250176191,0.028222490102053,-0.000859430816490,0.000322815001709,-0.022952986881137,-0.098993666470051,-0.035045806318521,0.071386925876141,-0.018174326047301,0.061570852994919,0.058754269033670,0.054581541568041,0.012753118760884));
res += mul(Get(s3,dx,dy), float4x4(0.007580644451082,-0.013371627777815,-0.007246275898069,-0.003471508622169,0.038373723626137,0.011280084960163,-0.020425925031304,0.015471817925572,-0.057348795235157,0.041031252592802,0.027534980326891,0.005375645123422,0.015082903206348,0.097856782376766,-0.056571669876575,-0.044178407639265));
return max(float4(0,0,0,0), res);
}
