sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.000337026547641,-0.027060296386480,-0.017427785322070,0.007426301017404,0.003595124464482,-0.025265714153647,0.031693041324615,-0.094810768961906,-0.017338706180453,-0.006226276978850,0.055158223956823,0.039734248071909,0.027885679155588,0.060315202921629,0.007027174811810,0.029658287763596));
res += mul(Get(s0,-dx,0), float4x4(-0.007641808595508,0.021756904199719,-0.003459992585704,-0.045073304325342,-0.035512909293175,0.092447660863400,0.060418434441090,0.081200614571571,0.048671215772629,-0.037053063511848,-0.102921612560749,0.027366781607270,0.038496043533087,0.187059551477432,-0.028274381533265,0.035263981670141));
res += mul(Get(s0,-dx,dy), float4x4(-0.002087235683575,-0.014285006560385,-0.040789734572172,-0.020588515326381,0.001443104119971,0.054152093827724,-0.225741893053055,-0.083364024758339,-0.039147656410933,-0.002423958620057,-0.014584078453481,0.023083532229066,0.045067392289639,0.137384995818138,-0.064962103962898,-0.039459079504013));
res += mul(Get(s0,0,-dy), float4x4(-0.010200033895671,-0.006859740708023,0.029495436698198,0.006026433780789,-0.045605387538671,-0.040909659117460,-0.007287797518075,0.019736187532544,0.015937484800816,-0.049226228147745,0.031226014718413,0.055960733443499,-0.036118041723967,-0.011074210517108,0.028917761519551,0.013449687510729));
res += mul(Get(s0,0,0), float4x4(-0.010743366554379,0.005632996559143,-0.009624493308365,0.012703394517303,-0.051830079406500,0.013874058611691,-0.067844867706299,-0.132936626672745,0.021214837208390,-0.031119221821427,-0.047325663268566,-0.042822591960430,-0.052536197006702,0.005185877904296,-0.045627139508724,0.078826844692230));
res += mul(Get(s0,0,dy), float4x4(-0.025535183027387,-0.021717388182878,-0.007236085366458,0.018912617117167,0.110995084047318,-0.022452121600509,-0.097667470574379,-0.035480566322803,-0.054434999823570,-0.008568361401558,0.051888205111027,-0.039110779762268,0.063677713274956,0.014347619377077,-0.014676298014820,-0.010832596570253));
res += mul(Get(s0,dx,-dy), float4x4(-0.006696349009871,-0.030776603147388,-0.001724229892716,0.006344853434712,-0.009062714874744,-0.013747687451541,-0.007240995299071,0.002571144374087,0.013894045725465,0.014127726666629,0.051985044032335,-0.027828222140670,0.001000647549517,-0.060126706957817,-0.015165060758591,-0.049174539744854));
res += mul(Get(s0,dx,0), float4x4(0.003187934635207,-0.018240408971906,0.012040986679494,-0.002277031540871,0.024668347090483,-0.007624515332282,0.000308741931804,0.045431949198246,0.059963673353195,0.000567323470023,-0.031954199075699,-0.013916243799031,-0.076631307601929,-0.060957551002502,-0.019671807065606,0.040792129933834));
res += mul(Get(s0,dx,dy), float4x4(0.028267482295632,-0.010411035269499,-0.004459801129997,-0.005215619690716,-0.078225493431091,-0.042407304048538,-0.014013397507370,-0.021861353889108,-0.051160294562578,0.056943621486425,0.033121451735497,0.013970110565424,-0.096345014870167,-0.043607078492641,-0.051433648914099,-0.005252608098090));
res += mul(Get(s1,-dx,-dy), float4x4(0.002492158673704,0.022459536790848,-0.001431974698789,-0.016425676643848,-0.034134965389967,-0.013539283536375,0.015839934349060,-0.014407462440431,-0.012253603897989,-0.007791030220687,-0.064458005130291,0.055547799915075,0.070944309234619,-0.021814383566380,0.070514552295208,-0.011652124114335));
res += mul(Get(s1,-dx,0), float4x4(0.014785199426115,-0.020190639421344,-0.028222322463989,-0.011311678215861,-0.005971067585051,-0.022483965381980,-0.008898211643100,-0.015839759260416,0.061708189547062,-0.012215905822814,0.026071930304170,-0.017387600615621,-0.000170415994944,-0.014304640702903,0.024662245064974,0.065789490938187));
res += mul(Get(s1,-dx,dy), float4x4(-0.018839295953512,0.017804749310017,-0.019298532977700,-0.012895687483251,0.002329419367015,-0.044567100703716,-0.002052437048405,-0.026297386735678,-0.001935949083418,0.113210961222649,0.218549519777298,-0.001638723188080,0.057484008371830,0.021925609558821,-0.038881536573172,0.002269568154588));
res += mul(Get(s1,0,-dy), float4x4(0.008912414312363,0.002883678534999,-0.031102448701859,0.037611320614815,0.007830858230591,0.000566218746826,-0.048107765614986,-0.008461665362120,-0.077871672809124,-0.073469772934914,-0.045847412198782,-0.009035664610565,-0.045420512557030,0.009906823746860,-0.065674878656864,-0.022898854687810));
res += mul(Get(s1,0,0), float4x4(-0.023813309147954,0.020954610779881,-0.013067753985524,-0.016212100163102,0.040369953960180,-0.028272431343794,0.006046659313142,0.007297819945961,-0.020575886592269,-0.018174380064011,-0.014378598891199,-0.053790725767612,-0.013004430569708,-0.004830569960177,-0.018125550821424,-0.015879565849900));
res += mul(Get(s1,0,dy), float4x4(0.013925937935710,-0.005830080714077,0.021489545702934,-0.011154240928590,-0.019369032233953,0.013585345819592,0.016801176592708,0.038055226206779,0.015367146581411,0.082211717963219,0.086775384843349,0.001864170772023,-0.001146198948845,-0.049928378313780,-0.035417880862951,0.011505067348480));
res += mul(Get(s1,dx,-dy), float4x4(0.008724173530936,0.011106722988188,-0.010940880514681,0.002308271592483,-0.013629795983434,-0.008422899059951,-0.004733483772725,0.000361619924661,0.006648167502135,-0.044561915099621,0.029828026890755,0.005204475950450,-0.013569645583630,0.038032993674278,-0.052771367132664,0.011412693187594));
res += mul(Get(s1,dx,0), float4x4(0.015591262839735,0.004618999082595,0.034707915037870,-0.000157479677000,0.009633411653340,-0.056200422346592,0.025854827836156,0.025132313370705,0.028747802600265,-0.045255113393068,-0.060826148837805,0.042466465383768,0.013648670166731,0.000713702174835,-0.003327441867441,-0.038400001823902));
res += mul(Get(s1,dx,dy), float4x4(-0.024300066754222,-0.018899211660028,-0.008595516905189,0.004215443041176,-0.065221972763538,-0.012081936001778,0.032525673508644,0.051233634352684,-0.036106903105974,0.033508982509375,-0.026612084358931,0.064045019447803,0.001307038008235,0.007786049507558,0.021930979564786,-0.006698932964355));
res += mul(Get(s2,-dx,-dy), float4x4(0.034349013119936,-0.053605735301971,0.097316130995750,-0.066843636333942,0.018767436966300,0.006622840650380,-0.082831777632236,-0.029720185324550,0.018742302432656,0.041051443666220,0.258374214172363,0.244075119495392,-0.000947956286836,-0.019446166232228,-0.006211472675204,-0.027820052579045));
res += mul(Get(s2,-dx,0), float4x4(-0.008370787836611,0.029189761728048,0.164928227663040,0.314048767089844,-0.037928283214569,-0.036890782415867,-0.032934978604317,-0.060940414667130,0.031345512717962,-0.066472522914410,0.079430215060711,-0.065403550863266,0.002986183390021,-0.060494687408209,-0.105074472725391,-0.048989091068506));
res += mul(Get(s2,-dx,dy), float4x4(-0.125969201326370,-0.000915047305170,-0.026652168482542,-0.246323138475418,-0.068411961197853,-0.013017730787396,0.001351909479126,0.025233725085855,0.005740310996771,0.100032523274422,0.034415997564793,0.132402524352074,-0.121660612523556,0.014219281263649,-0.044747143983841,-0.045436717569828));
res += mul(Get(s2,0,-dy), float4x4(0.009939520619810,-0.105672061443329,0.002135975984856,-0.141988053917885,0.006204023957253,0.005886195227504,-0.033103354275227,-0.027954485267401,-0.098846212029457,0.001753983204253,-0.012982837855816,-0.167378768324852,-0.040191993117332,-0.016472078859806,-0.001890651648864,-0.057344563305378));
res += mul(Get(s2,0,0), float4x4(-0.020586708560586,0.039079416543245,0.110918551683426,-0.014461166225374,-0.027842389419675,0.004816876724362,-0.017566777765751,-0.015297155827284,0.225752294063568,-0.075944721698761,-0.099315576255322,-0.033162944018841,0.081216499209404,0.004857385996729,-0.102937176823616,-0.035591691732407));
res += mul(Get(s2,0,dy), float4x4(0.207725241780281,0.010799448005855,-0.083317764103413,0.206981271505356,-0.002146310871467,0.005724319256842,0.016254525631666,0.000416998751462,-0.169180080294609,0.003009505569935,-0.092432722449303,-0.115706659853458,-0.037316277623177,0.059217981994152,-0.010049243457615,-0.016553647816181));
res += mul(Get(s2,dx,-dy), float4x4(0.000819754961412,-0.079259634017944,0.000948635337409,-0.003067559329793,-0.052208870649338,0.036040257662535,-0.041427675634623,-0.028193278238177,0.017628058791161,-0.051574382930994,-0.041256725788116,-0.064297072589397,-0.045504447072744,0.001812682719901,-0.012528913095593,-0.061593506485224));
res += mul(Get(s2,dx,0), float4x4(-0.066302858293056,0.001743516419083,-0.080966189503670,-0.045080326497555,0.003936701454222,0.021114230155945,0.002747140824795,-0.006054750178009,0.118922539055347,-0.061220593750477,-0.055039364844561,0.175980046391487,0.032646846026182,0.006090801209211,-0.093989595770836,0.017775034531951));
res += mul(Get(s2,dx,dy), float4x4(-0.026418518275023,0.014127383939922,-0.107141271233559,0.015597170218825,0.009457921609282,0.005497008562088,-0.094448707997799,0.028583919629455,0.018019143491983,-0.042963460087776,-0.101129479706287,-0.033367723226547,-0.035553578287363,0.010697008110583,-0.024015292525291,0.016939667984843));
res += mul(Get(s3,-dx,-dy), float4x4(-0.039294272661209,0.015107221901417,0.055812351405621,0.018477112054825,0.092549718916416,-0.052172515541315,0.214859470725060,0.215281322598457,0.012614072300494,0.030288862064481,0.007725194096565,-0.018379675224423,-0.010893667116761,-0.007831866852939,-0.026696052402258,0.020823596045375));
res += mul(Get(s3,-dx,0), float4x4(0.024405952543020,0.065414890646935,0.069448165595531,0.042159199714661,-0.177761659026146,0.042975425720215,0.195161834359169,0.190830901265144,0.016362342983484,0.012472255155444,-0.005513287149370,0.034966781735420,0.001272741705179,-0.012737615033984,-0.010611919686198,0.000893375196029));
res += mul(Get(s3,-dx,dy), float4x4(-0.012927373871207,-0.022880945354700,-0.036740351468325,0.032323513180017,-0.015851138159633,0.054212607443333,-0.089408017694950,-0.121619790792465,-0.026004932820797,-0.020297616720200,0.009315357543528,-0.014360773377120,0.015570191666484,-0.013248858042061,0.010251642204821,-0.035434868186712));
res += mul(Get(s3,0,-dy), float4x4(-0.023701753467321,0.023934351280332,0.047561466693878,0.033393323421478,-0.097598128020763,-0.050935611128807,-0.011240066029131,-0.176247417926788,0.017746446654201,-0.034910608083010,-0.005317008122802,0.005769316107035,0.001982841873541,0.009568908251822,-0.005886955652386,0.015724239870906));
res += mul(Get(s3,0,0), float4x4(0.011854249052703,0.059631541371346,0.035741791129112,0.029563212767243,0.108390532433987,-0.035742353647947,-0.108816988766193,-0.257875621318817,-0.012717977166176,0.010242726653814,0.012095422483981,-0.010222475044429,-0.003737662453204,0.024558406323195,-0.002825903007761,-0.002317202277482));
res += mul(Get(s3,0,dy), float4x4(-0.051975674927235,-0.019074583426118,-0.003684059018269,-0.010357494466007,0.188891172409058,-0.047977745532990,-0.098550401628017,0.168293938040733,0.001403222675435,-0.001342618139461,-0.009338924661279,-0.008512204512954,0.000138410337968,0.013699639588594,-0.007253662217408,0.031323820352554));
res += mul(Get(s3,dx,-dy), float4x4(0.013776613399386,0.019009657204151,-0.023608980700374,0.041745562106371,-0.005112430080771,-0.070152655243874,-0.030156021937728,-0.004278624430299,0.018999166786671,-0.014095841906965,-0.027232123538852,0.032304387539625,-0.004034709185362,0.008519954979420,0.011088074184954,-0.003127371659502));
res += mul(Get(s3,dx,0), float4x4(-0.048586923629045,-0.015632119029760,-0.004060464445502,-0.010152284987271,0.044885456562042,-0.094868704676628,-0.030134653672576,0.018324946984649,-0.001091530779377,-0.021471200510859,-0.002556055784225,-0.014373986050487,0.033849544823170,0.006604331545532,-0.037117727100849,-0.000802156166174));
res += mul(Get(s3,dx,dy), float4x4(-0.041645929217339,-0.033381462097168,0.025947621092200,0.022723609581590,-0.114932358264923,0.006271805148572,0.001160965417512,0.024034582078457,-0.006351748015732,-0.009321301244199,-0.008254521526396,-0.000730562955141,0.003914572298527,0.027989713475108,-0.014459196478128,-0.010680303908885));
return max(float4(0,0,0,0), res);
}
