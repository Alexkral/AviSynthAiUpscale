sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.001533177681267,-0.004617854952812,-0.001363259158097,0.019736595451832,-0.013132939115167,-0.031386423856020,-0.025128753855824,0.023981887847185,0.079842373728752,-0.022426288574934,0.055337578058243,-0.004382760263979,0.059202298521996,0.022526316344738,0.069333717226982,-0.027207240462303));
res += mul(Get(s0,-dx,0), float4x4(0.042409073561430,-0.033585421741009,-0.044376317411661,-0.007142356596887,-0.031044051051140,-0.064857840538025,0.084729492664337,-0.003983236849308,-0.027370121330023,0.016141911968589,0.041285555809736,0.050421167165041,0.071248456835747,0.041969094425440,0.108553327620029,0.000900315935723));
res += mul(Get(s0,-dx,dy), float4x4(0.028266999870539,0.003859940217808,0.052071731537580,-0.023170772939920,-0.031081039458513,-0.017455613240600,-0.030225796625018,-0.038921087980270,-0.054822560399771,-0.006379583850503,-0.039791490882635,0.097336873412132,0.022985862568021,-0.053190439939499,0.014696998521686,-0.025451658293605));
res += mul(Get(s0,0,-dy), float4x4(-0.002411425346509,-0.018448680639267,-0.020151101052761,0.018285641446710,0.026866085827351,-0.079784378409386,0.064738392829895,0.068224817514420,0.033501502126455,-0.016755485907197,0.036031413823366,0.001754852244630,-0.097193695604801,0.036417011171579,-0.053352940827608,-0.028967743739486));
res += mul(Get(s0,0,0), float4x4(0.000573849363718,-0.013889500871301,0.010798243805766,0.036008834838867,0.083092845976353,-0.102855749428272,0.058491881936789,0.028020890429616,0.042777806520462,0.018658716231585,0.135056167840958,-0.016660962253809,-0.078241817653179,0.209754601120949,-0.090104378759861,0.030056914314628));
res += mul(Get(s0,0,dy), float4x4(-0.016984444111586,-0.002976543270051,0.017390588298440,-0.002175766509026,-0.063028752803802,-0.077554434537888,-0.027374273166060,-0.062222417443991,-0.048983644694090,-0.011878496967256,0.048274029046297,-0.019188469275832,-0.031333357095718,0.020093942061067,-0.054203480482101,0.016161210834980));
res += mul(Get(s0,dx,-dy), float4x4(0.014283789321780,0.015047092922032,0.006443408317864,0.021313646808267,0.042609658092260,0.027747020125389,-0.040750123560429,0.023527467623353,0.015977017581463,-0.056831847876310,0.015467154793441,-0.023012606427073,0.049201156944036,-0.023350594565272,-0.037726107984781,0.005969015415758));
res += mul(Get(s0,dx,0), float4x4(-0.008495569229126,0.014587304554880,-0.043333742767572,0.039511933922768,-0.015710800886154,0.108884483575821,-0.049816887825727,-0.034479130059481,0.048440277576447,-0.067487820982933,0.032974205911160,-0.015774527564645,0.037141371518373,0.040472410619259,-0.041934557259083,0.002901878207922));
res += mul(Get(s0,dx,dy), float4x4(-0.013946416787803,0.010315294377506,-0.005927154328674,-0.014460975304246,0.053495716303587,-0.005603012628853,-0.023005362600088,-0.005601670127362,0.027811042964458,-0.036318305879831,-0.042446091771126,-0.010749627836049,0.063817419111729,-0.034095052629709,0.002493601059541,0.031772281974554));
res += mul(Get(s1,-dx,-dy), float4x4(-0.004075354896486,0.011882984079421,-0.018471991643310,0.037779096513987,0.010342392139137,0.013510043732822,-0.025206496939063,0.031652264297009,0.026801828294992,0.059634141623974,-0.045581884682178,0.034558355808258,-0.011297488585114,-0.031959693878889,0.031465739011765,-0.026488799601793));
res += mul(Get(s1,-dx,0), float4x4(-0.034669775515795,-0.020794764161110,0.024912398308516,0.032778479158878,-0.022923324257135,-0.038287263363600,0.041359044611454,0.002258902648464,-0.082304961979389,0.023902935907245,-0.007168387528509,-0.034895099699497,-0.032558090984821,0.037265032529831,0.054968472570181,-0.012693306431174));
res += mul(Get(s1,-dx,dy), float4x4(-0.009960735216737,0.038262225687504,-0.002907562302426,0.000065982087108,-0.018205733969808,-0.006918942090124,-0.002295707585290,-0.011871612630785,0.097477197647095,-0.065838314592838,0.005020953249186,0.133232399821281,0.037634991109371,0.084279432892799,-0.012230879627168,-0.034050174057484));
res += mul(Get(s1,0,-dy), float4x4(0.019366048276424,-0.004018820356578,0.006260424852371,0.004815207794309,0.009486005641520,-0.020708961412311,-0.028986794874072,0.024037232622504,-0.015237998217344,0.007992650382221,0.015333354473114,0.097071543335915,-0.009549564681947,-0.051141798496246,0.007546873297542,0.022614039480686));
res += mul(Get(s1,0,0), float4x4(-0.016625648364425,0.020885443314910,-0.008739352226257,-0.003858326235786,-0.046182774007320,0.000106509993202,0.020465357229114,-0.014980766922235,-0.001640734379180,0.007675398606807,0.059393528848886,-0.004071091301739,-0.100142203271389,0.000892122392543,-0.053051292896271,-0.016932504251599));
res += mul(Get(s1,0,dy), float4x4(0.008253950625658,0.007399500347674,0.020483236759901,0.026955464854836,-0.024863937869668,0.008039707317948,-0.002584096044302,0.022433012723923,0.264917194843292,-0.078506700694561,0.002969837281853,0.183499813079834,0.022553453221917,0.012341221794486,-0.056271746754646,-0.044443204998970));
res += mul(Get(s1,dx,-dy), float4x4(0.011890469118953,0.000339424615959,0.022523317486048,0.014978938736022,-0.038098260760307,0.006180723197758,0.013896325603127,0.031480442732573,0.002458124887198,0.002623302163556,-0.017038609832525,0.015729207545519,0.007624772842973,-0.066396273672581,0.014824046753347,0.007877598516643));
res += mul(Get(s1,dx,0), float4x4(-0.012924717739224,0.028813587501645,0.018943730741739,0.036631088703871,-0.023792847990990,-0.016675267368555,0.045938320457935,0.021981097757816,-0.061777815222740,0.018322831019759,-0.038180571049452,-0.059120800346136,-0.020927401259542,-0.036017611622810,-0.036439280956984,-0.004979863297194));
res += mul(Get(s1,dx,dy), float4x4(0.009858638979495,0.013871307484806,-0.005259398370981,-0.007819348014891,0.036647673696280,0.011692424304783,0.032564740628004,-0.015892429277301,0.003106597810984,-0.002440131269395,-0.068664580583572,0.134637117385864,-0.006249171216041,-0.036312948912382,-0.030252728611231,-0.054844591766596));
res += mul(Get(s2,-dx,-dy), float4x4(-0.010902691632509,-0.009230913594365,-0.076027065515518,0.020386828109622,0.022839199751616,0.026499817147851,0.032663337886333,0.000317695521517,-0.016760101541877,-0.108914233744144,-0.013554036617279,-0.031922806054354,-0.017486467957497,0.038630027323961,0.057626426219940,-0.005104803014547));
res += mul(Get(s2,-dx,0), float4x4(-0.062778353691101,-0.133566364645958,0.142991855740547,-0.047836545854807,-0.020364513620734,0.073423892259598,-0.053407475352287,-0.004589977674186,-0.048844218254089,0.023197071626782,-0.062426798045635,-0.060956466943026,-0.030473757535219,0.013551278971136,0.045387487858534,0.013874909840524));
res += mul(Get(s2,-dx,dy), float4x4(0.080425404012203,-0.068060271441936,-0.040299113839865,-0.096180565655231,0.019534185528755,0.076241433620453,-0.000025818722861,-0.002057260833681,0.005836340598762,0.008815067820251,-0.017961842939258,-0.033039759844542,-0.007905618287623,0.031906090676785,0.009941422380507,-0.031542602926493));
res += mul(Get(s2,0,-dy), float4x4(0.023818723857403,0.025199543684721,-0.064027518033981,0.036157391965389,-0.020446971058846,0.064800493419170,0.053876832127571,0.026975715532899,0.103942155838013,-0.112015411257744,0.046348422765732,0.005521895829588,0.031025102362037,0.016761414706707,0.039486587047577,0.017232894897461));
res += mul(Get(s2,0,0), float4x4(0.155840784311295,-0.085648842155933,0.042257461696863,0.005521566141397,-0.055431377142668,0.095721639692783,0.006194841582328,-0.020460840314627,-0.137234106659889,-0.012778324075043,-0.020035941153765,-0.101373858749866,0.038685861974955,0.042368263006210,-0.015285862609744,-0.007810583338141));
res += mul(Get(s2,0,dy), float4x4(-0.203508853912354,0.014913017861545,-0.100062690675259,-0.077854506671429,0.014336584135890,-0.019832624122500,-0.012179124169052,-0.015440063551068,0.053483285009861,-0.041806392371655,-0.027424616739154,-0.030697410926223,-0.051489412784576,0.046523217111826,-0.027767654508352,0.026314713060856));
res += mul(Get(s2,dx,-dy), float4x4(-0.079396292567253,0.089402213692665,-0.077602878212929,0.025627704337239,-0.000231030629948,0.010748487897217,-0.028342202305794,-0.016090072691441,-0.002937782555819,0.036768194288015,-0.012940073385835,0.013739299960434,0.032472874969244,-0.003364300820976,0.073963820934296,0.001934512052685));
res += mul(Get(s2,dx,0), float4x4(0.059770055115223,0.025730183348060,0.019444320350885,0.040398601442575,-0.000161679505254,0.020301232114434,-0.035697922110558,-0.011372681707144,-0.030818905681372,0.087495267391205,0.033464472740889,-0.016191011294723,0.031551171094179,0.021120551973581,-0.040506355464458,-0.027047330513597));
res += mul(Get(s2,dx,dy), float4x4(0.090743914246559,0.036720704287291,-0.016250154003501,-0.052681040018797,0.017908792942762,0.021672187373042,-0.001244698883966,-0.020330509170890,0.072820857167244,0.027294570580125,-0.042661271989346,-0.020972602069378,0.040781024843454,0.023577326908708,-0.010971792973578,0.003927471116185));
res += mul(Get(s3,-dx,-dy), float4x4(0.037684433162212,-0.049635875970125,0.020033430308104,0.020133191719651,-0.096741661429405,-0.030167074874043,-0.066589936614037,-0.022054329514503,0.040850285440683,0.017269808799028,0.004709423519671,0.012879825197160,-0.013008969835937,0.012630513869226,-0.009452629834414,0.020702971145511));
res += mul(Get(s3,-dx,0), float4x4(0.051429238170385,-0.035039428621531,0.103123173117638,0.012555462308228,0.107274301350117,-0.079801551997662,0.011100891977549,-0.037508301436901,0.000261123728706,0.006609149742872,0.003343869931996,-0.015098558738828,0.001031449763104,-0.006340618710965,-0.002155192894861,0.022997580468655));
res += mul(Get(s3,-dx,dy), float4x4(0.001324570272118,-0.001058077439666,-0.012984515167773,0.020799776539207,-0.035059910267591,-0.040278386324644,-0.034472689032555,-0.085577107965946,-0.003914520610124,0.026527918875217,0.021713577210903,-0.024161625653505,0.004582035820931,-0.023833045735955,0.013975958339870,-0.011831208132207));
res += mul(Get(s3,0,-dy), float4x4(0.042951166629791,0.052497599273920,-0.021432442590594,0.030357046052814,0.108190819621086,-0.080384843051434,0.057055965065956,0.015162691473961,-0.004445784259588,0.014544915407896,-0.021506516262889,-0.032289709895849,-0.037897750735283,0.000077954238805,-0.041144445538521,-0.013681376352906));
res += mul(Get(s3,0,0), float4x4(-0.023187972605228,0.078530997037888,-0.016682073473930,-0.020828446373343,0.084653846919537,-0.056044895201921,-0.011354558169842,-0.004711692687124,0.032992765307426,0.007803893648088,0.002490286948159,-0.023106597363949,0.016273031011224,0.014107873663306,-0.017497692257166,0.019602211192250));
res += mul(Get(s3,0,dy), float4x4(-0.050768774002790,0.005417266860604,0.003662771545351,-0.032575424760580,-0.114853620529175,-0.011328603141010,-0.011756917461753,-0.081253364682198,0.043234884738922,0.009790900163352,0.021259898319840,0.014673848636448,-0.019185723736882,0.022293819114566,0.014851748012006,-0.022182615473866));
res += mul(Get(s3,dx,-dy), float4x4(-0.048501636832952,0.068495765328407,0.008868088945746,0.025979705154896,-0.051260523498058,0.115561299026012,-0.028118431568146,0.048390209674835,-0.010653434321284,-0.029786134138703,-0.015465921722353,0.011083372868598,0.001406897325069,0.000097036667285,0.015485362149775,0.011371490545571));
res += mul(Get(s3,dx,0), float4x4(0.009783818386495,0.079371206462383,-0.011103562079370,-0.008383283391595,-0.030832737684250,0.093794904649258,-0.012546847574413,0.009132580831647,0.015489565208554,-0.012083999812603,-0.010717953555286,0.043301191180944,-0.033032953739166,-0.006407131440938,0.015417385846376,-0.000457397574792));
res += mul(Get(s3,dx,dy), float4x4(0.000716004171409,-0.005762245971709,0.004052731208503,-0.051688883453608,0.121753357350826,-0.033191189169884,-0.017562149092555,-0.005368977319449,-0.023490648716688,-0.012017764151096,0.011939961463213,-0.018256060779095,0.006299084983766,-0.013462622649968,0.037885997444391,0.004292797762901));
return max(float4(0,0,0,0), res);
}
