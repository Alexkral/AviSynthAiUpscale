sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.044042304158211,-0.005943898111582,-0.028689496219158,0.000127438397612,0.109473533928394,0.086815878748894,-0.026416540145874,0.011859648860991,-0.020976888015866,0.070738725364208,0.027603223919868,0.073389790952206,0.003880226984620,-0.124288380146027,0.029433686286211,0.011114120483398));
res += mul(Get(s0,-dx,0), float4x4(-0.007927831262350,0.004730988293886,0.014818205498159,-0.021405402570963,0.056341189891100,-0.003421023022383,0.036910187453032,-0.000625979795586,-0.036043699830770,0.145911768078804,0.034856956452131,0.028003117069602,0.024976640939713,-0.154086336493492,0.010578805580735,0.102247074246407));
res += mul(Get(s0,-dx,dy), float4x4(-0.017379827797413,-0.010132847353816,-0.010171347297728,0.019637696444988,-0.022645691409707,0.031863652169704,0.021120563149452,-0.043220158666372,-0.011151578277349,0.048204649239779,0.003074296051636,0.046524263918400,0.019782666116953,-0.085745409131050,-0.050119459629059,0.129797950387001));
res += mul(Get(s0,0,-dy), float4x4(0.016205266118050,-0.019280524924397,0.012502938508987,0.029717035591602,-0.005282412283123,0.001958658918738,0.038129430264235,0.011456060223281,0.043235171586275,0.101950243115425,-0.009589239023626,-0.036812804639339,-0.020032057538629,-0.091026790440083,-0.009713891893625,-0.101296156644821));
res += mul(Get(s0,0,0), float4x4(-0.010239454917610,-0.016231972724199,-0.036054879426956,-0.002060789614916,-0.031946651637554,-0.056775532662868,0.081980980932713,0.095215998589993,0.043404892086983,0.012845857068896,-0.073280625045300,-0.005253957584500,0.008562018163502,-0.101827599108219,-0.119152367115021,-0.028883181512356));
res += mul(Get(s0,0,dy), float4x4(-0.017572712153196,0.020822459831834,0.013420560397208,-0.003967476077378,0.002645725617185,-0.016082271933556,0.029351491481066,-0.000201783870580,0.028016710653901,-0.075733236968517,-0.085182271897793,-0.073388762772083,-0.026470214128494,-0.024261798709631,-0.104888901114464,-0.062055092304945));
res += mul(Get(s0,dx,-dy), float4x4(-0.018601125106215,0.010042971931398,0.009807190857828,0.043771993368864,0.001693930476904,0.008164195343852,-0.086331419646740,0.012388564646244,-0.006910599302500,0.049336951225996,0.039639335125685,-0.013246282935143,-0.012857506982982,0.071229025721550,0.001389957149513,0.035161018371582));
res += mul(Get(s0,dx,0), float4x4(-0.014820618554950,-0.030760657042265,-0.008276010863483,0.023259328678250,-0.006684748921543,-0.030193381011486,-0.039432201534510,-0.080260351300240,0.000338415469741,-0.023853985592723,-0.051768854260445,0.011950834654272,0.013791884295642,0.092258945107460,-0.006560048088431,-0.047910246998072));
res += mul(Get(s0,dx,dy), float4x4(0.011557649821043,-0.024250553920865,0.007637674920261,-0.025703677907586,0.028351971879601,0.067763403058052,-0.104700572788715,0.000801307498477,0.018054127693176,-0.020626556128263,-0.015546635724604,-0.048000980168581,0.034970503300428,0.062769144773483,0.008556937798858,-0.096278265118599));
res += mul(Get(s1,-dx,-dy), float4x4(-0.034815251827240,0.011042061261833,0.001870342181064,0.004115501884371,-0.002993890549988,0.009620239026845,-0.056628536432981,-0.011609042063355,0.008122335188091,0.010792167857289,0.028333267197013,0.005346995312721,-0.020241271704435,-0.003221246879548,-0.017941694706678,0.049660909920931));
res += mul(Get(s1,-dx,0), float4x4(-0.015171824023128,0.008518809452653,-0.002586587797850,-0.008996694348752,-0.010624331422150,0.023460781201720,0.017269335687160,0.026278467848897,-0.003275375114754,-0.010129666887224,-0.074759379029274,-0.032492771744728,-0.008523684926331,0.086971506476402,0.019074454903603,0.022969055920839));
res += mul(Get(s1,-dx,dy), float4x4(0.001014862442389,0.003964150324464,-0.000276616512565,0.041691254824400,0.008687985129654,0.023709455505013,0.012639193795621,-0.011082924902439,0.025967227295041,-0.062053930014372,0.025256603956223,0.010167975910008,-0.033431388437748,0.016538850963116,-0.036753967404366,0.070687681436539));
res += mul(Get(s1,0,-dy), float4x4(0.036313772201538,0.002425000071526,-0.045576058328152,-0.002024162327871,-0.034430120140314,0.032333079725504,-0.023201290518045,0.008282447233796,-0.032570544630289,0.083664424717426,0.035936329513788,-0.066131308674812,-0.013959467411041,-0.110315382480621,-0.035950571298599,-0.007190325297415));
res += mul(Get(s1,0,0), float4x4(-0.036050979048014,0.001815486699343,0.017958609387279,-0.022627584636211,0.000817088643089,-0.000225911368034,0.007637032773346,-0.015262301079929,0.009279636666179,-0.114645659923553,0.042875371873379,-0.021305443719029,-0.030671937391162,-0.054870631545782,0.080393329262733,-0.054361183196306));
res += mul(Get(s1,0,dy), float4x4(-0.004873301368207,-0.021448740735650,-0.013737727887928,0.004846678115427,-0.016651146113873,0.023233849555254,0.002052583731711,-0.005161425564438,0.034111943095922,-0.128736004233360,0.103222668170929,-0.015620681457222,-0.012755829840899,0.087093554437160,-0.096659578382969,0.046337019652128));
res += mul(Get(s1,dx,-dy), float4x4(0.035910043865442,0.005789611488581,-0.001871858374216,0.003966807387769,0.026512069627643,0.065846286714077,-0.005152370780706,-0.000514787680004,-0.010508480481803,0.011326863430440,-0.036522641777992,-0.002238921122625,-0.006195440422744,-0.115312658250332,0.008586598560214,0.011370000429451));
res += mul(Get(s1,dx,0), float4x4(0.016924638301134,-0.000549998774659,0.002629125490785,-0.024499619379640,-0.002764352131635,-0.020692495629191,-0.021047880873084,0.014326835051179,-0.042184550315142,-0.060835011303425,0.028635537251830,-0.020708685740829,-0.008586408570409,-0.130603998899460,0.058536689728498,-0.009441725909710));
res += mul(Get(s1,dx,dy), float4x4(0.033669643104076,0.004256288520992,-0.026868991553783,0.018782150000334,-0.003657028544694,0.009802754037082,0.056466873735189,0.008920046500862,-0.020299600437284,-0.090242564678192,-0.024758938699961,-0.002581835957244,0.008082111366093,0.107043862342834,-0.012007607147098,0.026101803407073));
res += mul(Get(s2,-dx,-dy), float4x4(-0.035065881907940,0.088249258697033,0.013178898952901,-0.014487245120108,-0.002171900356188,-0.017395077273250,-0.035446070134640,0.023757107555866,0.058577980846167,-0.046300161629915,-0.009782426059246,0.016386765986681,0.044464398175478,0.051638849079609,0.022766649723053,-0.061127889901400));
res += mul(Get(s2,-dx,0), float4x4(-0.034049183130264,0.042402174323797,0.022557841613889,0.016638385131955,0.042989552021027,-0.050245974212885,0.014839420095086,-0.079208388924599,-0.005155722610652,0.089124314486980,0.038940288126469,-0.004953351337463,0.058917015790939,-0.071048885583878,0.018755855038762,0.018257565796375));
res += mul(Get(s2,-dx,dy), float4x4(0.020168213173747,0.039225459098816,0.003338428912684,0.244546622037888,-0.031910538673401,0.001209406764247,0.011810493655503,-0.020462196320295,0.019115747883916,0.017252970486879,0.003840069752187,0.196127951145172,0.027326416224241,0.036073576658964,0.023524925112724,-0.043189886957407));
res += mul(Get(s2,0,-dy), float4x4(0.026005059480667,-0.044486258178949,0.045510347932577,-0.028914900496602,-0.015193776227534,-0.049999032169580,-0.018178617581725,-0.037214454263449,-0.008139332756400,-0.161814630031586,-0.023513350635767,0.057844415307045,-0.022546438500285,0.083813183009624,0.008124231360853,0.036565843969584));
res += mul(Get(s2,0,0), float4x4(0.015233952552080,-0.101008720695972,-0.027356136590242,0.144454836845398,0.028432177379727,-0.001517754630186,-0.071288518607616,0.004395744763315,-0.021098593249917,-0.006385594140738,0.164598375558853,-0.279826849699020,-0.013702992349863,-0.037462033331394,-0.053904477506876,-0.007224846631289));
res += mul(Get(s2,0,dy), float4x4(-0.057446319609880,-0.025255005806684,0.054305635392666,-0.247099459171295,-0.022979425266385,0.155903637409210,0.002273206366226,0.011677638627589,-0.008155271410942,0.023208081722260,-0.042168449610472,0.239844456315041,-0.019093368202448,-0.005026608705521,-0.040472250431776,-0.015192801132798));
res += mul(Get(s2,dx,-dy), float4x4(-0.037014290690422,-0.060159504413605,0.065744183957577,-0.033559851348400,-0.014555248431861,0.001405949820764,-0.048022363334894,-0.000857330276631,-0.011112979613245,-0.135581508278847,-0.102444954216480,0.003119787201285,-0.002115436829627,0.094907775521278,0.005765630397946,0.113499268889427));
res += mul(Get(s2,dx,0), float4x4(0.016903158277273,-0.100832618772984,-0.074188195168972,0.020833633840084,-0.003466376103461,0.091161146759987,-0.038560438901186,0.014326492324471,-0.045294929295778,0.028870448470116,-0.007467164192349,-0.107968933880329,-0.018542943522334,0.085020750761032,0.012951233424246,0.046951539814472));
res += mul(Get(s2,dx,dy), float4x4(-0.003316559130326,-0.033613581210375,0.016185279935598,-0.013606684282422,-0.015246828086674,0.141271084547043,0.005002810619771,-0.013970776461065,-0.013820149004459,0.072564691305161,0.039246343076229,0.049997694790363,-0.059242796152830,-0.003032153472304,-0.032770853489637,0.035717632621527));
res += mul(Get(s3,-dx,-dy), float4x4(-0.001541645266116,0.042393933981657,0.020599951967597,0.021799404174089,0.054693285375834,0.060353267937899,-0.010849949903786,-0.081523083150387,0.037705112248659,0.007283276412636,0.008139523677528,0.020631100982428,0.039215315133333,-0.023918488994241,0.028044484555721,0.024069743230939));
res += mul(Get(s3,-dx,0), float4x4(-0.025977488607168,-0.049675595015287,0.127669498324394,-0.024555888026953,0.028795119374990,0.006247744429857,0.000809678342193,0.082616761326790,-0.019566912204027,-0.010877409018576,0.020369714125991,-0.002465988043696,-0.022034516558051,-0.036235991865396,0.013148183934391,-0.027799259871244));
res += mul(Get(s3,-dx,dy), float4x4(-0.013236420229077,0.015439952723682,-0.013991711661220,0.015183260664344,-0.016520926728845,0.052308332175016,0.045770887285471,0.100801773369312,-0.021866189315915,0.001543716527522,0.011503472924232,0.036429591476917,-0.018011020496488,-0.010131387971342,-0.013020496815443,-0.018950851634145));
res += mul(Get(s3,0,-dy), float4x4(-0.037207331508398,0.009488947689533,0.003685069503263,0.007572641130537,0.015045151114464,-0.084321260452271,0.074419774115086,0.062790185213089,-0.015079504810274,0.011006728745997,-0.016257395967841,-0.016664961352944,-0.020950818434358,-0.000592041411437,-0.048934254795313,0.001539907418191));
res += mul(Get(s3,0,0), float4x4(-0.003372393548489,-0.031066453084350,0.040721349418163,-0.058069016784430,-0.030220333486795,-0.128181591629982,0.099474892020226,0.009443287737668,-0.001955277984962,-0.009999928995967,-0.015130668878555,0.007166412658989,0.001875972258858,-0.011571367271245,0.051550593227148,-0.011738765053451));
res += mul(Get(s3,0,dy), float4x4(-0.011363912373781,0.069422237575054,-0.009665815159678,0.007771213073283,-0.054862067103386,-0.020301586017013,0.012159948237240,-0.126550287008286,0.005768311675638,0.000295021076454,-0.049666538834572,-0.031220570206642,0.004626835230738,-0.035751104354858,0.030162854120135,0.019926209002733));
res += mul(Get(s3,dx,-dy), float4x4(-0.010249779559672,0.006846531294286,0.010777909308672,-0.064282618463039,-0.042182818055153,-0.036043114960194,-0.000747080892324,-0.012036770582199,-0.005893729627132,-0.008768881671131,-0.041807904839516,0.017318714410067,0.020045055076480,-0.008615600876510,0.008780102245510,-0.008576060645282));
res += mul(Get(s3,dx,0), float4x4(-0.013898903504014,-0.003331420477480,-0.031255159527063,-0.024118585512042,-0.019629182294011,-0.024616800248623,-0.040437564253807,-0.064406447112560,0.011797333136201,-0.035102464258671,-0.008836391381919,-0.023556176573038,0.003462705062702,-0.025447253137827,0.018382666632533,-0.040940854698420));
res += mul(Get(s3,dx,dy), float4x4(-0.000163699325640,0.034332394599915,-0.002241141628474,-0.025684677064419,-0.012097335420549,0.060379710048437,-0.006175834685564,0.116924062371254,-0.029787648469210,-0.020320575684309,-0.001473449985497,0.023901717737317,-0.009744863957167,0.016265893355012,0.007958638481796,0.011607310734689));
return max(float4(0,0,0,0), res);
}
