sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.021446451544762,-0.004920351784676,-0.030463717877865,-0.009214596822858,-0.000602715590503,0.000692370580509,-0.000162628974067,-0.000016497751858,0.061665125191212,-0.052998382598162,-0.001875927089714,0.000809109711554,-0.024468276649714,-0.004218394402415,0.023848637938499,-0.005849417764693));
res += mul(Get(s0,-dx,0), float4x4(0.016474967822433,0.013973352499306,0.001693119294941,-0.010633184574544,-0.000242873051320,0.001237582298927,-0.001007099868730,0.000051371407608,0.055606063455343,-0.047467999160290,0.057264335453510,0.009702405892313,-0.079193130135536,0.018676320090890,-0.001989568118006,-0.006567267235368));
res += mul(Get(s0,-dx,dy), float4x4(0.017154401168227,-0.011104076169431,0.007752547506243,-0.009342246688902,-0.000538447231520,0.000712490931619,-0.000672101683449,-0.000121009936265,0.088143989443779,-0.018362570554018,-0.026167154312134,0.002217072062194,-0.078597962856293,0.018028872087598,-0.020140172913671,-0.004841761663556));
res += mul(Get(s0,0,-dy), float4x4(-0.054215580224991,0.007108258549124,-0.007632463704795,-0.007820217870176,-0.001671934267506,0.000471214385470,0.000473353953566,-0.000025595501938,0.094896540045738,-0.034055966883898,0.036008011549711,-0.000004152068868,-0.004053998738527,-0.015550612471998,0.034627228975296,-0.007151071913540));
res += mul(Get(s0,0,0), float4x4(0.053322605788708,0.008587365970016,-0.055605910718441,-0.011189458891749,-0.000602703308687,0.000455244182376,-0.000373347167624,0.000238389548031,-0.093573555350304,0.004644572269171,0.206790670752525,0.006210035178810,-0.003237460041419,-0.002209614031017,-0.031351584941149,-0.010207201354206));
res += mul(Get(s0,0,dy), float4x4(-0.004395795054734,-0.008735409006476,0.066893666982651,-0.009885059669614,-0.000679315999150,0.000177449139301,-0.000770448008552,-0.000037707130105,0.047365013509989,0.012210341170430,-0.026034517213702,0.004469996318221,-0.042444396764040,-0.012452128343284,-0.037504095584154,-0.007495188619941));
res += mul(Get(s0,dx,-dy), float4x4(0.037556417286396,0.002511528553441,-0.046277448534966,-0.002204679651186,-0.000611224793829,0.000232184946071,-0.000257168256212,-0.000209125762922,0.087321810424328,0.001139732659794,-0.006209777202457,0.003550106426701,-0.035182800143957,-0.003227507928386,0.052391413599253,-0.008745836094022));
res += mul(Get(s0,dx,0), float4x4(0.186562657356262,-0.022268012166023,-0.043348323553801,0.007110209204257,-0.001043913071044,0.000212959610508,0.000453519925941,-0.000051699909818,0.010540628805757,0.038522243499756,0.001826408784837,-0.001723525463603,-0.100776232779026,-0.001477940706536,0.059088934212923,-0.009774213656783));
res += mul(Get(s0,dx,dy), float4x4(0.066235601902008,-0.006000061985105,0.022791085764766,-0.001404393347912,-0.000557537015993,0.000170013488969,-0.001011109095998,-0.000048633166443,0.073556736111641,-0.003250564681366,-0.019977062940598,0.003556753275916,-0.073331467807293,-0.002087130211294,-0.006501169409603,-0.007865949533880));
res += mul(Get(s1,-dx,-dy), float4x4(-0.000184603108210,-0.000066859836807,0.000442996097263,-0.000072070244642,-0.002359542530030,-0.020197911188006,0.026336474344134,0.010502472519875,0.014878517948091,0.041328284889460,-0.045668140053749,-0.003036510199308,-0.038821943104267,0.051454547792673,-0.018620766699314,-0.011963102035224));
res += mul(Get(s1,-dx,0), float4x4(0.000012355208128,0.000033638938476,0.000408721272834,-0.000062652798078,0.006247307639569,-0.024236641824245,0.025715943425894,0.012854332104325,0.017193442210555,0.018377088010311,0.004508498590440,0.002559136133641,-0.054494503885508,0.064480721950531,-0.004363559652120,-0.011855187825859));
res += mul(Get(s1,-dx,dy), float4x4(-0.000196449342184,-0.000012616466847,0.000436282658484,-0.000018347358491,0.023378506302834,-0.021414164453745,-0.009627888910472,0.007981923408806,-0.005931894294918,0.011059428565204,-0.001423498848453,0.005856817122549,-0.015717912465334,0.030870603397489,-0.020845999941230,-0.006923077162355));
res += mul(Get(s1,0,-dy), float4x4(-0.000089762965217,0.000266321148956,-0.000062829938543,0.000186835692148,-0.013764956966043,0.004989485256374,-0.008584295399487,0.001537105883472,0.040651954710484,-0.003548420732841,-0.014713116921484,0.004085537511855,0.058712538331747,0.036873091012239,-0.066433653235435,0.003501202911139));
res += mul(Get(s1,0,0), float4x4(-0.000242739435635,0.000027556332498,-0.000252504483797,0.000097565221949,-0.037631388753653,0.003539372934029,0.032484672963619,0.003581417957321,-0.070582307875156,-0.003412578953430,0.098254211246967,0.004553689621389,0.147291451692581,0.017423268407583,-0.070413783192635,0.002385226311162));
res += mul(Get(s1,0,dy), float4x4(-0.000147824554006,0.000170824408997,-0.000183197524166,-0.000130999265821,-0.024707280099392,-0.000895919045433,0.012758787721395,0.007068919017911,-0.090760156512260,0.023987920954823,0.005442945752293,-0.000387320556911,0.035385891795158,0.019105343148112,0.009676593355834,0.002231793012470));
res += mul(Get(s1,dx,-dy), float4x4(0.000042635238060,0.000064206753450,-0.000016108369891,0.000067831126216,-0.012544967234135,0.014713836833835,-0.020176805555820,0.000382204743801,0.025770332664251,-0.009153715334833,-0.018728999421000,0.001645509037189,0.053628034889698,-0.004986291751266,-0.002141826087609,0.014807788655162));
res += mul(Get(s1,dx,0), float4x4(-0.000033111475204,0.000043562315113,-0.000041829429392,0.000097931850178,-0.008623861707747,0.010830513201654,-0.016261078417301,-0.000195589920622,-0.046702686697245,0.015973668545485,0.000835749029648,-0.004111493006349,0.091851465404034,-0.013339832425117,0.066616624593735,0.020784558728337));
res += mul(Get(s1,dx,dy), float4x4(-0.000142600707477,-0.000038844398659,-0.000029751259717,0.000047536435886,-0.031119436025620,0.003568556858227,0.007545435801148,0.002642960287631,-0.039831966161728,0.004730305168778,-0.042861066758633,-0.003041319083422,0.005136642605066,0.017126418650150,0.008069945499301,0.008514874614775));
res += mul(Get(s2,-dx,-dy), float4x4(-0.021788381040096,0.036460343748331,-0.021340275183320,-0.005910730455071,0.015562571585178,0.021739797666669,-0.014346608892083,-0.000292581738904,-0.009304375387728,0.031056437641382,-0.067933328449726,-0.007824989035726,-0.001419419422746,-0.006776325870305,-0.004509920720011,0.002028152113780));
res += mul(Get(s2,-dx,0), float4x4(-0.001344727817923,0.030400028452277,-0.002809709170833,-0.002270066644996,0.039569281041622,0.027598774060607,-0.037140052765608,-0.000181510549737,0.019131651148200,0.023242898285389,-0.086401358246803,-0.009370059706271,0.011524788103998,-0.005409829318523,-0.014702932909131,0.001108573167585));
res += mul(Get(s2,-dx,dy), float4x4(-0.000674350303598,0.020048243924975,0.002328674541786,0.001658603781834,0.017227664589882,0.019370896741748,-0.033239711076021,-0.001754413591698,0.054558344185352,-0.004581547807902,-0.025452597066760,-0.007727682590485,0.024770094081759,-0.005373186431825,-0.010367220267653,0.000007577202268));
res += mul(Get(s2,0,-dy), float4x4(0.034345712512732,0.024975525215268,-0.043423082679510,0.000071608679718,0.030995780602098,-0.004298939835280,0.012903319671750,0.006949219852686,-0.052886083722115,0.000020338895411,0.001975062070414,0.001607290003449,-0.025985090062022,0.000100763034425,0.003847858402878,-0.000004703986633));
res += mul(Get(s2,0,0), float4x4(0.054573144763708,0.008426985703409,0.008852346800268,0.003560235491022,0.044576790183783,-0.005452631507069,0.041634626686573,0.011887158267200,0.051800336688757,-0.012756329029799,-0.063629277050495,0.003369314130396,-0.005742545239627,0.002040363149717,-0.013183322735131,-0.000976169772912));
res += mul(Get(s2,0,dy), float4x4(-0.014054348692298,0.012060923501849,0.038948334753513,0.005645116325468,0.045436192303896,-0.001962685259059,0.001020315801725,0.007507945876569,0.116006292402744,-0.017758371308446,-0.010442285798490,-0.001971229910851,0.015810923650861,-0.001627749414183,0.000465457764221,-0.000408520776546));
res += mul(Get(s2,dx,-dy), float4x4(0.009729859419167,0.005919381044805,-0.007522966247052,0.004619499668479,-0.057516142725945,0.012519604526460,0.012189934030175,0.002615385688841,-0.024585837498307,-0.005081063602120,-0.046983297914267,-0.003486900823191,-0.007084813434631,0.002561188768595,-0.014489566907287,-0.001113698701374));
res += mul(Get(s2,dx,0), float4x4(-0.005755091086030,0.008719286881387,0.031421203166246,0.003638345981017,-0.086592517793179,0.026011778041720,0.051286906003952,0.003067729994655,0.018821544945240,-0.019214851781726,-0.023318985477090,0.004204956348985,0.024113755673170,0.002097972435877,-0.030090654268861,-0.000638955447357));
res += mul(Get(s2,dx,dy), float4x4(-0.064617544412613,0.019886527210474,0.014546925202012,0.000843203451950,-0.060726542025805,0.018640240654349,0.022851603105664,0.002728824969381,0.072653770446777,-0.012749154120684,-0.009046192280948,0.001176900346763,0.039311610162258,-0.003577034221962,-0.012150303460658,0.000163115095347));
res += mul(Get(s3,-dx,-dy), float4x4(-0.021502485498786,0.005196358077228,0.040837690234184,0.001492074690759,-0.026517458260059,-0.007078862283379,0.030903298407793,0.005000095348805,-0.003694257466123,0.002502143383026,-0.005921277217567,0.000399291981012,0.051769856363535,-0.047448333352804,-0.014462670311332,0.007281768601388));
res += mul(Get(s3,-dx,0), float4x4(-0.006222637835890,0.021379332989454,-0.003146808361635,-0.000838140840642,0.039073638617992,-0.004355734214187,-0.027265634387732,0.005656975321472,0.002719707088545,0.001082275528461,-0.008632944896817,-0.000649440684356,0.076334506273270,-0.054001398384571,0.062600776553154,0.013230219483376));
res += mul(Get(s3,-dx,dy), float4x4(-0.001938110450283,0.013922858983278,-0.001106298295781,-0.002663903171197,0.014528597705066,0.001105312490836,-0.025056088343263,-0.002138878684491,-0.027254384011030,-0.000591151241679,0.018864950165153,-0.000092305228463,0.022845087572932,-0.015695368871093,0.013566459529102,0.005279280245304));
res += mul(Get(s3,0,-dy), float4x4(-0.062442064285278,0.021029228344560,0.042355000972748,-0.003154695034027,-0.038085736334324,0.000675795949064,0.046281460672617,-0.001397672924213,-0.010711396113038,0.001904417062178,-0.002603312022984,0.000884895387571,0.063475303351879,-0.005482403095812,0.003660674206913,0.001815692172386));
res += mul(Get(s3,0,0), float4x4(-0.003466446418315,0.024212986230850,-0.026055825874209,-0.003929739352316,-0.038852538913488,-0.002645269036293,0.068709217011929,0.006632694508880,0.021153403446078,-0.000818455300760,-0.017624828964472,-0.000504281488247,-0.060655325651169,0.013934496790171,0.200319960713387,0.006310747470707));
res += mul(Get(s3,0,dy), float4x4(0.005969726946205,0.000057480236137,0.002048881491646,-0.003265397623181,0.049171444028616,-0.005064170807600,-0.030711418017745,0.003877225331962,-0.019739044830203,0.000262551940978,0.021630555391312,-0.000388369633583,-0.028672382235527,0.025387153029442,0.029689526185393,0.002877012128010));
res += mul(Get(s3,dx,-dy), float4x4(-0.047617681324482,0.016598127782345,0.011795651167631,-0.003859441028908,0.013803800567985,0.016355829313397,-0.026804829016328,-0.003640700131655,-0.014446065761149,0.001569467363879,-0.001395833562128,0.000217115812120,0.025392102077603,0.038518760353327,-0.028019214048982,0.002241578185931));
res += mul(Get(s3,dx,0), float4x4(-0.007202883251011,0.000750077946577,-0.019157066941261,-0.001616636523977,-0.044244140386581,0.018046112731099,0.039314087480307,-0.002188151003793,0.011487655341625,-0.001634663902223,-0.005978863686323,0.000362929073162,-0.030027987435460,0.061771363019943,0.023208098486066,-0.002016238868237));
res += mul(Get(s3,dx,dy), float4x4(-0.015519042499363,-0.012081017717719,0.001194973825477,-0.001447175163776,-0.011734112165868,-0.000624427921139,0.024593094363809,0.003858679905534,-0.016557399183512,0.002458014292642,0.015556626953185,-0.000008630656339,-0.040004499256611,0.019954016432166,0.014519026502967,0.001346403383650));
return max(float4(0,0,0,0), res);
}
