sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.089864127337933,0.030177209526300,-0.103164345026016,-0.061954345554113,0.065851226449013,-0.044446576386690,0.024872129783034,-0.044285286217928,0.026613617315888,-0.090591944754124,0.029233230277896,0.109179906547070,-0.022429332137108,0.037878904491663,0.081948302686214,0.010580227710307));
res += mul(Get(s0,-dx,0), float4x4(-0.067285776138306,0.002025624969974,-0.016511121764779,0.032789669930935,0.124358132481575,0.050082620233297,-0.013883373700082,0.001656568842009,-0.060121946036816,0.009328282438219,-0.010836324654520,-0.013438345864415,-0.115140549838543,0.096484214067459,0.055002991110086,-0.103821098804474));
res += mul(Get(s0,-dx,dy), float4x4(0.000285954651190,0.000567975337617,-0.013603236526251,0.029419396072626,0.100543625652790,0.100259624421597,0.013983479700983,0.010782264173031,0.046168066561222,0.030577054247260,-0.084219567477703,0.018965380266309,-0.004731177352369,-0.006649095099419,0.061499189585447,-0.147312372922897));
res += mul(Get(s0,0,-dy), float4x4(-0.091154329478741,0.083516553044319,-0.121633969247341,0.017728626728058,0.069534219801426,-0.053890563547611,0.114497378468513,-0.060459304600954,0.023826617747545,-0.080611787736416,-0.035386327654123,0.013192950747907,0.033469919115305,0.018349168822169,0.102499276399612,-0.038912691175938));
res += mul(Get(s0,0,0), float4x4(-0.003576066112146,-0.029066571965814,-0.049192901700735,0.019951328635216,-0.087066210806370,-0.013483436778188,0.077319413423538,-0.009869152680039,-0.021799422800541,-0.022967677563429,0.020324040204287,-0.004741066135466,-0.077695116400719,0.049200430512428,0.060037270188332,-0.065869271755219));
res += mul(Get(s0,0,dy), float4x4(0.037084523588419,-0.077176883816719,0.045677792280912,-0.081348195672035,0.017884762957692,0.060646131634712,0.045332346111536,0.082374051213264,0.052691753953695,0.008501676842570,-0.027049122378230,0.091577909886837,-0.040524031966925,-0.029149293899536,0.026520544663072,-0.043425060808659));
res += mul(Get(s0,dx,-dy), float4x4(-0.031476799398661,0.069086484611034,-0.140272542834282,-0.004493454471231,-0.040523972362280,-0.085703931748867,0.130871087312698,-0.038897667080164,0.010896795429289,-0.072197541594505,-0.053705256432295,0.001846724888310,0.056270964443684,0.009660627692938,-0.001147134113126,-0.025494376197457));
res += mul(Get(s0,dx,0), float4x4(-0.015079055912793,-0.010463805869222,-0.105772450566292,-0.118390269577503,-0.106846764683723,-0.027160413563251,0.115841612219810,0.009169631637633,0.010334216989577,-0.122901566326618,0.050258763134480,0.010742038488388,0.021656578406692,-0.009355535730720,0.071737580001354,-0.066341146826744));
res += mul(Get(s0,dx,dy), float4x4(-0.034036137163639,-0.044375825673342,-0.001974633196369,-0.154052391648293,0.053310018032789,0.084835700690746,-0.014195911586285,0.136599272489548,0.117000229656696,-0.078729011118412,-0.012264148332179,0.111552350223064,0.034968465566635,-0.094275303184986,0.036589108407497,-0.033359985798597));
res += mul(Get(s1,-dx,-dy), float4x4(-0.044187061488628,-0.033972360193729,0.082370333373547,-0.036353450268507,-0.049087248742580,0.026460034772754,-0.008007894270122,-0.029423337429762,0.011220559477806,-0.037963982671499,-0.001503208070062,-0.103650674223900,0.093345865607262,-0.024609273299575,0.010592095553875,-0.016967937350273));
res += mul(Get(s1,-dx,0), float4x4(-0.060032475739717,0.046869087964296,0.028531746938825,0.001463206135668,-0.002037765691057,0.005365893710405,-0.035068172961473,-0.019822461530566,-0.098480626940727,0.127089798450470,0.019791275262833,-0.071432061493397,0.084750577807426,-0.008270405232906,-0.008821642957628,-0.050454638898373));
res += mul(Get(s1,-dx,dy), float4x4(0.028738295659423,0.029663583263755,-0.015055719763041,-0.030529636889696,0.038686279207468,0.028478370979428,-0.035361811518669,0.057049993425608,0.060575421899557,0.113394223153591,-0.004590786062181,0.008193081244826,0.043035980314016,-0.001181079423986,-0.034544833004475,-0.089926131069660));
res += mul(Get(s1,0,-dy), float4x4(-0.059905547648668,-0.109163150191307,0.115734808146954,-0.056067485362291,-0.187569364905357,0.000122282974189,-0.092566870152950,-0.129791602492332,0.050636868923903,0.037391096353531,0.006614109035581,0.011521287262440,0.100082695484161,-0.014300256036222,0.006260622758418,0.081403128802776));
res += mul(Get(s1,0,0), float4x4(-0.087645709514618,-0.025479320436716,0.024768570438027,0.041837759315968,-0.042872037738562,-0.039540115743876,-0.005593090783805,-0.021288437768817,-0.024694243445992,0.031255897134542,0.095143996179104,-0.021766895428300,0.030295241624117,-0.033437270671129,-0.006580097600818,0.012361112050712));
res += mul(Get(s1,0,dy), float4x4(0.022467181086540,0.034307997673750,0.010136918164790,-0.027203861624002,0.010639557614923,0.018452104181051,-0.051161956042051,-0.105076149106026,0.023789789527655,0.106462910771370,0.026732627302408,-0.013225957751274,-0.018148660659790,-0.018532872200012,-0.036483656615019,0.074844114482403));
res += mul(Get(s1,dx,-dy), float4x4(-0.063787281513214,-0.054232101887465,0.078251928091049,-0.018314531072974,-0.077991016209126,-0.046800442039967,0.019464392215014,0.000622865976766,0.041980717331171,0.023739634081721,-0.030758690088987,-0.054312471300364,0.093766927719116,0.036153275519609,-0.006974080111831,0.083199895918369));
res += mul(Get(s1,dx,0), float4x4(-0.064829386770725,-0.070047535002232,0.046453643590212,0.030193939805031,-0.016243550926447,-0.041498642414808,0.013534517027438,0.045929592102766,-0.029104126617312,-0.043652392923832,0.023215141147375,-0.096432678401470,0.136723920702934,-0.019747847691178,0.051009155809879,0.105651609599590));
res += mul(Get(s1,dx,dy), float4x4(0.012191266752779,-0.055753756314516,0.033349476754665,-0.081910014152527,-0.002356341574341,-0.011831818148494,0.002288755727932,0.014518165960908,-0.002624386455864,-0.002310958225280,0.028935704380274,-0.071435414254665,0.055260267108679,-0.006048975046724,0.012773762457073,0.151385813951492));
res += mul(Get(s2,-dx,-dy), float4x4(0.000989083899185,-0.024724435061216,0.020343597978354,0.105271838605404,0.079697564244270,-0.050669420510530,0.075821653008461,0.072917945683002,0.031020706519485,0.013713427819312,-0.091687813401222,-0.075170248746872,-0.073333464562893,-0.012950362637639,-0.065980240702629,-0.051099397242069));
res += mul(Get(s2,-dx,0), float4x4(-0.006354619748890,-0.042306810617447,0.041632618755102,0.121353045105934,-0.027623789384961,-0.022300193086267,-0.054010365158319,-0.005058659240603,0.084428884088993,-0.054279971867800,-0.064114242792130,-0.121292367577553,-0.098571501672268,0.021131804212928,-0.057864677160978,0.017764354124665));
res += mul(Get(s2,-dx,dy), float4x4(-0.010971297509968,-0.041355017572641,0.034014634788036,0.034556705504656,0.085837490856647,0.069765016436577,-0.008526587858796,-0.008739934302866,-0.004012708086520,-0.098100036382675,0.018182436004281,0.035065341740847,0.019153214991093,0.037745736539364,-0.006237082649022,0.016482848674059));
res += mul(Get(s2,0,-dy), float4x4(0.095516070723534,-0.047083996236324,-0.008210820145905,-0.033635303378105,0.092208839952946,0.027313346043229,0.057690866291523,0.109482400119305,0.020746691152453,-0.005610960535705,-0.080639064311981,-0.009935957379639,-0.094474054872990,-0.037891294807196,0.005632177926600,-0.012676256708801));
res += mul(Get(s2,0,0), float4x4(0.015917953103781,0.055010583251715,0.016856344416738,-0.063959166407585,0.067000880837440,-0.034472741186619,0.037324056029320,0.046063691377640,0.066784471273422,-0.075728297233582,-0.060491420328617,-0.018599271774292,-0.113089405000210,-0.029601791873574,0.041889738291502,0.097424224019051));
res += mul(Get(s2,0,dy), float4x4(0.068401977419853,0.029287658631802,-0.018140768632293,0.046167951077223,0.030667426064610,-0.000854327226989,-0.020812865346670,0.029007883742452,-0.033770088106394,-0.079157270491123,0.022265132516623,-0.074706308543682,0.071072891354561,-0.037537198513746,0.017680209130049,-0.060861688107252));
res += mul(Get(s2,dx,-dy), float4x4(0.006123064085841,-0.075495697557926,0.023386158049107,-0.062291473150253,0.013790950179100,0.092080950737000,-0.080686114728451,-0.079087853431702,0.110115453600883,-0.013318359851837,-0.020126814022660,0.025367805734277,-0.059141386300325,-0.118938170373440,0.034759894013405,0.011562681756914));
res += mul(Get(s2,dx,0), float4x4(-0.014729233458638,-0.121864631772041,0.115521818399429,0.041316792368889,0.037216570228338,0.102126292884350,-0.097084343433380,-0.100303038954735,0.011217985302210,-0.045757494866848,-0.055351391434669,-0.023478846997023,0.020819362252951,-0.036849562078714,-0.010172402486205,0.021125683560967));
res += mul(Get(s2,dx,dy), float4x4(0.108875922858715,-0.111161030828953,-0.013462374918163,0.136556327342987,0.087252870202065,0.159682273864746,-0.093069046735764,-0.096269808709621,0.012284859083593,-0.050718780606985,0.028005374595523,-0.010317692533135,0.041176471859217,-0.036304920911789,-0.020821928977966,-0.038452621549368));
res += mul(Get(s3,-dx,-dy), float4x4(-0.044579949229956,-0.037910565733910,0.016034696251154,0.011300259269774,-0.028351699933410,-0.011043788865209,0.006365060806274,0.016235064715147,0.058877725154161,0.051490336656570,0.037454169243574,0.019533593207598,-0.093495301902294,0.172095865011215,-0.059782866388559,-0.100531779229641));
res += mul(Get(s3,-dx,0), float4x4(-0.098598755896091,0.008122878149152,0.040150705724955,-0.008255828171968,0.030618140473962,0.008393788710237,0.044874757528305,0.070186041295528,0.025314247235656,0.057626079767942,0.026127811521292,0.034796640276909,-0.018155960366130,0.043628923594952,-0.032474935054779,-0.114785768091679));
res += mul(Get(s3,-dx,dy), float4x4(-0.111240372061729,0.036677293479443,0.022741615772247,0.039137121289968,0.015217195264995,0.053206663578749,-0.011722091585398,-0.004237712360919,0.041364125907421,0.016142768785357,-0.077923491597176,-0.018766542896628,0.062320098280907,-0.029380744323134,0.013255857862532,-0.107074707746506));
res += mul(Get(s3,0,-dy), float4x4(-0.056992653757334,-0.046805799007416,-0.034998483955860,-0.053819518536329,0.047746542841196,0.080011427402496,-0.004519933369011,0.060763198882341,0.055583134293556,0.067123614251614,0.002544483635575,0.059237554669380,-0.110134862363338,0.064279563724995,-0.025886809453368,-0.043635390698910));
res += mul(Get(s3,0,0), float4x4(-0.079382963478565,0.055202931165695,-0.029522137716413,0.027203992009163,0.054180815815926,0.036293730139732,0.035659592598677,0.050463348627090,0.030925532802939,0.072378568351269,0.046806093305349,0.049824394285679,-0.051173076033592,0.020654590800405,-0.043992839753628,0.030609313398600));
res += mul(Get(s3,0,dy), float4x4(-0.050784062594175,0.119303680956364,-0.086447522044182,-0.015280992724001,0.089636541903019,0.054716836661100,-0.003574419533834,-0.015865294262767,0.052730914205313,0.097228743135929,-0.045081995427608,0.000384968559956,0.134384885430336,0.000754701904953,0.011479729786515,-0.006572134327143));
res += mul(Get(s3,dx,-dy), float4x4(-0.045118868350983,-0.087418131530285,0.008310846053064,0.016981795430183,0.035983085632324,-0.002241807291284,0.015610820613801,0.033103097230196,0.051270645111799,0.042359430342913,-0.032299790531397,0.022263063117862,-0.025474838912487,-0.131756663322449,0.055570088326931,-0.002023567445576));
res += mul(Get(s3,dx,0), float4x4(-0.065599724650383,0.002353858435526,-0.027912376448512,0.033246528357267,0.008819684386253,-0.027987288311124,0.000264845351921,0.072461932897568,0.023476295173168,0.022456755861640,-0.005135455634445,0.082283370196819,0.018666151911020,-0.066080093383789,-0.028832515701652,0.115607127547264));
res += mul(Get(s3,dx,dy), float4x4(-0.076484896242619,-0.001333232037723,-0.053407661616802,-0.109523534774780,0.000845601665787,-0.033026669174433,-0.029842859134078,-0.013352439738810,0.042488854378462,0.023072980344296,-0.037089668214321,0.042100675404072,0.065155528485775,0.048707187175751,-0.063520453870296,0.031052380800247));
return max(float4(0,0,0,0), res);
}
