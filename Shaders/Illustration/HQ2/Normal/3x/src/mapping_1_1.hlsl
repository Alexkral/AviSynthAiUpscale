sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.005631570238620,-0.027756566181779,-0.003328432794660,-0.004314216785133,0.060904730111361,-0.050334759056568,-0.050927963107824,0.025170028209686,0.017507936805487,-0.035806283354759,-0.007704171817750,-0.017839776352048,0.094965621829033,-0.049700830131769,-0.012602279894054,-0.013212119229138));
res += mul(Get(s0,-dx,0), float4x4(-0.003697136417031,-0.009115603752434,-0.046434350311756,-0.009988206438720,0.009185661561787,-0.017842277884483,-0.004124714061618,0.069182641804218,-0.027322690933943,-0.010243687778711,0.006708821281791,0.065620966255665,0.038523867726326,-0.036976516246796,-0.082237690687180,-0.095078155398369));
res += mul(Get(s0,-dx,dy), float4x4(-0.020137261599302,0.015649743378162,-0.011510629206896,-0.002249396173283,-0.009032892994583,0.134642347693443,-0.021514680236578,0.015709491446614,-0.033314872533083,-0.039779834449291,-0.034882426261902,0.018155565485358,-0.032408621162176,0.077180601656437,-0.110960595309734,-0.010282159782946));
res += mul(Get(s0,0,-dy), float4x4(0.000749244412873,0.008212628774345,0.009739102795720,-0.031341880559921,0.048423200845718,-0.083341129124165,-0.022654570639133,-0.104454286396503,0.072289213538170,-0.022805912420154,0.016377303749323,-0.057455115020275,0.084532909095287,0.053399562835693,-0.072867631912231,0.000357060605893));
res += mul(Get(s0,0,0), float4x4(0.034939944744110,-0.015052744187415,0.015342677012086,-0.021690396592021,0.010101671330631,-0.124775640666485,-0.063047252595425,-0.068948775529861,0.040007710456848,-0.041668232530355,-0.016353271901608,-0.030161269009113,0.042297028005123,-0.050623349845409,-0.085173934698105,-0.082270488142967));
res += mul(Get(s0,0,dy), float4x4(-0.012354579754174,-0.010570236481726,-0.026988251134753,0.013625898398459,-0.051776412874460,0.195357173681259,0.010489282198250,-0.003076128661633,-0.041534021496773,-0.056400097906590,-0.015146677382290,-0.028934884816408,-0.028700314462185,0.041671607643366,-0.041992820799351,-0.011743368580937));
res += mul(Get(s0,dx,-dy), float4x4(0.031524445861578,0.003821779042482,0.000212048980757,-0.018672047182918,0.026763908565044,-0.006571408826858,-0.002317783422768,0.004983113612980,-0.031096937134862,-0.004614233039320,0.000256670435192,-0.045453190803528,-0.062382292002439,0.004307453986257,-0.009631289169192,-0.027896832674742));
res += mul(Get(s0,dx,0), float4x4(-0.020677275955677,-0.027769628912210,-0.016156831756234,-0.007792333606631,0.000257881678408,-0.043361004441977,-0.011727699078619,-0.038251452147961,-0.006883549038321,-0.012618698179722,0.004259639885277,0.027120061218739,-0.041618488729000,-0.000155295187142,-0.012092028744519,-0.008796612732112));
res += mul(Get(s0,dx,dy), float4x4(-0.003054601140320,0.010732815600932,-0.002485939068720,0.011452483944595,-0.034254159778357,0.070074073970318,-0.010887452401221,0.011847116053104,-0.011923551559448,-0.069794662296772,0.023761875927448,-0.027452988550067,-0.079296745359898,0.014921654015779,0.009393240325153,-0.035106517374516));
res += mul(Get(s1,-dx,-dy), float4x4(0.018626265227795,0.020918449386954,-0.031299896538258,-0.011105854064226,-0.003013737266883,-0.007081145886332,-0.000505642441567,0.006122535094619,0.101895280182362,-0.035744339227676,-0.097737021744251,-0.051796194165945,0.066465750336647,0.009016984142363,-0.032130643725395,0.066539622843266));
res += mul(Get(s1,-dx,0), float4x4(-0.007262209895998,-0.002542041009292,0.012521017342806,-0.006830535363406,0.008506108075380,0.013982360251248,-0.020928703248501,0.020288016647100,0.046913318336010,-0.011801144108176,-0.011694073677063,-0.033007625490427,0.022846547886729,-0.059943504631519,-0.035265933722258,-0.043060123920441));
res += mul(Get(s1,-dx,dy), float4x4(-0.009973720647395,0.004222388379276,0.022554254159331,-0.016008336097002,0.011182037182152,0.006106983870268,0.006751506123692,0.021674377843738,-0.101877860724926,-0.054692361503839,-0.004781394265592,-0.037131201475859,-0.015436952933669,0.006062071770430,0.028162967413664,0.010382601059973));
res += mul(Get(s1,0,-dy), float4x4(0.006390501279384,-0.010537826456130,-0.010796085000038,0.027354380115867,-0.006276308093220,0.011592426337302,-0.037180230021477,0.037073504179716,0.018562892451882,0.007942952215672,-0.035433180630207,0.009507554583251,0.059647195041180,0.029261857271194,-0.009166080504656,0.110444054007530));
res += mul(Get(s1,0,0), float4x4(-0.019749023020267,-0.004975834861398,0.052450541406870,-0.010544420219958,-0.022939478978515,-0.005987492389977,0.011150342412293,0.037516366690397,0.043416827917099,-0.096688248217106,0.022775037214160,-0.081379197537899,0.040720254182816,0.051607564091682,-0.003267991822213,-0.040334921330214));
res += mul(Get(s1,0,dy), float4x4(0.021923853084445,0.001153357559815,-0.009898146614432,0.009010539390147,0.039266839623451,0.007210518233478,0.008844217285514,0.017660928890109,-0.145189702510834,-0.071792051196098,0.051143001765013,-0.064734295010567,0.003790223039687,0.088305301964283,0.006708174943924,-0.053261961787939));
res += mul(Get(s1,dx,-dy), float4x4(0.042152956128120,-0.000375075382181,0.015406695194542,-0.000497506815009,-0.023521427065134,-0.030233470723033,-0.009348547086120,-0.003821786958724,-0.141011118888855,-0.006427858024836,-0.076057165861130,-0.004944875370711,0.000518612214364,0.026316177099943,-0.034757915884256,0.078246571123600));
res += mul(Get(s1,dx,0), float4x4(-0.003762508975342,0.013764880597591,0.020674137398601,0.011632460169494,-0.009214019402862,-0.007119269110262,0.022073775529861,0.050812892615795,0.049303617328405,0.010626641102135,0.043028794229031,0.005840605590492,-0.015815183520317,-0.016600888222456,-0.034966588020325,0.045360196381807));
res += mul(Get(s1,dx,dy), float4x4(-0.017006494104862,-0.003646395867690,-0.015930352732539,-0.011129335500300,0.018134141340852,0.021893285214901,-0.026651335880160,0.028591206297278,-0.110876232385635,-0.013507855124772,0.055931255221367,0.003991835750639,-0.008932589553297,0.055238679051399,0.004176038783044,0.014264310710132));
res += mul(Get(s2,-dx,-dy), float4x4(-0.015379573218524,-0.068409301340580,-0.056801695376635,-0.051170315593481,0.012616774998605,0.035088069736958,-0.045883096754551,0.017270319163799,0.040038667619228,-0.183415114879608,-0.012785811908543,0.127122923731804,0.098903223872185,0.023768909275532,-0.026771141216159,-0.022221500054002));
res += mul(Get(s2,-dx,0), float4x4(-0.093572862446308,-0.076799847185612,-0.028688209131360,0.147299364209175,-0.020989516749978,0.002872405806556,0.001477426500060,-0.099052049219608,0.044481072574854,0.116875976324081,-0.047425288707018,0.001224209787324,0.088572323322296,-0.017882283776999,-0.013550687581301,-0.081549584865570));
res += mul(Get(s2,-dx,dy), float4x4(-0.009923683479428,0.035993527621031,0.037045586854219,0.033837951719761,0.015580542385578,-0.011913249269128,0.022234946489334,0.010768646374345,-0.035628855228424,0.043235052376986,0.028823319822550,0.033825200051069,-0.001531947520562,-0.062597483396530,0.053639356046915,-0.005203118082136));
res += mul(Get(s2,0,-dy), float4x4(-0.003912448417395,-0.088121101260185,-0.035328395664692,-0.131037130951881,0.025026425719261,0.010439904406667,-0.017065970227122,-0.042129360139370,-0.017881421372294,-0.260030388832092,0.031796708703041,0.049408823251724,-0.042774785310030,0.001777177094482,-0.014510978944600,-0.019338609650731));
res += mul(Get(s2,0,0), float4x4(-0.075098544359207,-0.093705825507641,-0.004399011377245,0.102525830268860,-0.004622971173376,0.021121097728610,-0.034449256956577,-0.026208288967609,0.028953356668353,0.211032286286354,-0.029705423861742,-0.042108979076147,0.083452135324478,-0.008524603210390,-0.050535023212433,-0.011071396991611));
res += mul(Get(s2,0,dy), float4x4(0.007470494601876,0.254549950361252,0.023724434897304,0.071180716156960,0.026460379362106,-0.012144652195275,0.014614991843700,-0.004686678294092,-0.049749970436096,0.117291584610939,0.073424480855465,0.000977631774731,-0.029111132025719,-0.036658614873886,-0.004152934532613,-0.018250023946166));
res += mul(Get(s2,dx,-dy), float4x4(0.039191000163555,-0.061211876571178,0.009283072315156,-0.145963251590729,0.001599031966180,0.004568986594677,0.005531339440495,-0.019659351557493,-0.028591789305210,-0.209721103310585,0.013808735646307,-0.071367874741554,-0.037228092551231,-0.076721638441086,-0.025258477777243,-0.115028589963913));
res += mul(Get(s2,dx,0), float4x4(-0.035249885171652,-0.098215803503990,-0.001273924834095,-0.033560182899237,-0.005717401392758,-0.007706499192864,0.005183979403228,-0.042198214679956,-0.003825095016509,0.156442880630493,0.020103104412556,-0.014297140762210,0.035477299243212,-0.034646667540073,-0.015739539638162,-0.040445800870657));
res += mul(Get(s2,dx,dy), float4x4(-0.038463696837425,0.130984261631966,0.035814095288515,0.009773994795978,-0.003725342685357,-0.056728012859821,0.055371221154928,0.018000552430749,-0.023113399744034,0.072566322982311,0.082367941737175,-0.022095432505012,-0.046752184629440,-0.039623182266951,0.015333225950599,-0.050173386931419));
res += mul(Get(s3,-dx,-dy), float4x4(0.028903609141707,-0.083155848085880,0.010162102058530,0.022096250206232,-0.031341388821602,-0.051605675369501,-0.096565105021000,0.050995577126741,-0.021556342020631,-0.010182312689722,-0.000351727678208,-0.000419677293394,0.015077565796673,0.032139986753464,-0.012541047297418,0.004387275315821));
res += mul(Get(s3,-dx,0), float4x4(0.015641458332539,-0.162216693162918,-0.022732464596629,0.009900980629027,-0.011611046269536,-0.103524103760719,-0.047496870160103,0.098353877663612,-0.022238211706281,0.009259477257729,0.014099224470556,-0.005233475007117,0.042223129421473,-0.002355107106268,-0.005544143263251,-0.025166850537062));
res += mul(Get(s3,-dx,dy), float4x4(-0.027746042236686,0.045124389231205,-0.026482658460736,0.038479711860418,-0.022141698747873,0.096173994243145,-0.010785010643303,0.040514126420021,-0.003481411840767,0.001063002157025,0.007945572957397,0.021448105573654,0.008747400715947,0.005678147077560,-0.023636853322387,0.002714324975386));
res += mul(Get(s3,0,-dy), float4x4(0.056877329945564,-0.092937707901001,-0.029932089149952,-0.035383943468332,-0.000449787708931,-0.149454697966576,-0.001111906836741,-0.101385027170181,0.010543100535870,0.003070458304137,-0.024062564596534,-0.012872248888016,-0.000342236162396,-0.010469982400537,0.008613713085651,-0.012634641490877));
res += mul(Get(s3,0,0), float4x4(0.004541220143437,-0.135996118187904,-0.033400095999241,-0.016834743320942,-0.028784114867449,-0.048414070159197,-0.008416500873864,0.007379283197224,-0.029343165457249,-0.005790979135782,0.012026974000037,-0.029063213616610,0.002013278659433,-0.018321271985769,0.002015402773395,0.011165025644004));
res += mul(Get(s3,0,dy), float4x4(-0.011947464197874,0.023576751351357,0.010846332646906,-0.008193723857403,-0.048720993101597,0.248940914869308,0.051845096051693,0.062607623636723,0.012481385841966,-0.011802955530584,0.021866535767913,-0.004971318878233,0.010731948539615,-0.039455443620682,0.024630712345243,-0.001403080066666));
res += mul(Get(s3,dx,-dy), float4x4(0.043587263673544,-0.049154222011566,-0.045454461127520,-0.063992083072662,-0.003662357805297,-0.094742283225060,0.017921976745129,-0.077942468225956,-0.023420769721270,-0.005263089202344,-0.006748201325536,0.008342684246600,0.024297289550304,0.012032238766551,0.004160233773291,-0.025502750650048));
res += mul(Get(s3,dx,0), float4x4(0.019976997748017,-0.134056717157364,-0.065378829836845,-0.046949151903391,-0.019620625302196,-0.027495212852955,0.030677236616611,-0.064560785889626,-0.022406237199903,0.021918457001448,-0.018028965219855,-0.023486452177167,0.012746716849506,0.009205022826791,-0.013564123772085,0.031493790447712));
res += mul(Get(s3,dx,dy), float4x4(-0.005981879774481,-0.008869322016835,-0.026029206812382,0.009291960857809,-0.029002020135522,0.075332008302212,0.016586484387517,0.028092214837670,0.024778556078672,-0.015310281887650,0.004454841371626,0.024637188762426,0.006037244107574,0.001408669981174,0.004331942647696,-0.015407823026180));
return max(float4(0,0,0,0), res);
}
