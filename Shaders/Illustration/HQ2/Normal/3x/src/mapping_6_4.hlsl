sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.053175538778305,-0.039131030440331,-0.001315597677603,0.024296848103404,0.021997550502419,0.013031960465014,-0.031962130218744,-0.006078833248466,-0.069205097854137,-0.054179012775421,-0.047614671289921,0.006858100648969,-0.182221770286560,0.054199352860451,-0.112148612737656,-0.025413466617465));
res += mul(Get(s0,-dx,0), float4x4(0.149537816643715,-0.103500694036484,-0.001141594373621,0.076556764543056,-0.045059520751238,-0.030042823404074,-0.059743318706751,-0.112664371728897,-0.039695747196674,-0.034378424286842,-0.042276583611965,-0.001049567596056,-0.091420009732246,0.028880614787340,-0.037740390747786,0.029283050447702));
res += mul(Get(s0,-dx,dy), float4x4(0.101499818265438,-0.087048545479774,-0.019033698365092,0.098915234208107,0.018952056765556,-0.055153887718916,-0.025875270366669,0.026689661666751,0.012755426578224,-0.013044754974544,-0.093694098293781,0.022902870550752,-0.133580029010773,0.123725533485413,-0.000150856416440,0.031554169952869));
res += mul(Get(s0,0,-dy), float4x4(0.038459084928036,0.025645639747381,0.012205288745463,0.056759212166071,0.027515096589923,0.059755843132734,-0.044783126562834,0.048299998044968,-0.053493898361921,-0.044832430779934,-0.041140422224998,-0.020988514646888,0.003342239418998,-0.040231525897980,-0.051326874643564,-0.033664174377918));
res += mul(Get(s0,0,0), float4x4(0.051720529794693,-0.085859388113022,-0.009763007052243,0.042998775839806,-0.004778565373272,-0.017537532374263,0.019275227561593,-0.019524417817593,0.041231308132410,-0.065104186534882,0.015447082929313,0.016754413023591,0.058476537466049,-0.046137660741806,0.026741707697511,-0.009505217894912));
res += mul(Get(s0,0,dy), float4x4(0.051232710480690,-0.195247307419777,-0.050064340233803,0.022951785475016,0.122720547020435,-0.042539019137621,-0.031444646418095,-0.040376003831625,-0.005892220418900,-0.047789115458727,0.017986107617617,-0.004595099948347,-0.006518672220409,-0.015196193940938,0.093055039644241,-0.073279730975628));
res += mul(Get(s0,dx,-dy), float4x4(-0.042069558054209,0.011944627389312,0.044759638607502,0.058137748390436,0.054012756794691,0.052895441651344,-0.028917536139488,0.098996952176094,0.029962612316012,-0.028680929914117,-0.046538446098566,0.007625168189406,-0.025906441733241,0.082715474069118,0.051959656178951,0.001543778926134));
res += mul(Get(s0,dx,0), float4x4(-0.020340953022242,0.068010821938515,0.007600527722389,0.081371091306210,0.005366430152208,0.048763867467642,0.066255748271942,0.107755810022354,0.084331177175045,-0.042977776378393,-0.048479776829481,0.041376933455467,-0.010231469757855,-0.007282523903996,0.041960153728724,0.033216133713722));
res += mul(Get(s0,dx,dy), float4x4(-0.024984752759337,-0.058584176003933,-0.039962623268366,0.093066163361073,-0.038928087800741,0.006267205346376,0.028439790010452,0.004516274668276,0.001663456205279,-0.083986058831215,-0.009162583388388,0.037402577698231,0.008988161571324,-0.009601539932191,0.128404423594475,-0.100275866687298));
res += mul(Get(s1,-dx,-dy), float4x4(-0.000458430527942,-0.039384085685015,0.018850404769182,0.008261591196060,-0.012131780385971,-0.028706055134535,-0.102722495794296,-0.054463155567646,0.058343030512333,0.034744530916214,-0.035846222192049,-0.101003833115101,-0.060336206108332,0.063639938831329,-0.044424150139093,-0.003246024250984));
res += mul(Get(s1,-dx,0), float4x4(0.075443886220455,-0.035311464220285,0.022658478468657,-0.020743429660797,-0.009307658299804,0.014174639247358,-0.085887633264065,-0.073751866817474,0.021421417593956,-0.034250486642122,-0.061507087200880,-0.010059568099678,-0.085981741547585,0.019677890464664,-0.032790306955576,0.003297614632174));
res += mul(Get(s1,-dx,dy), float4x4(0.119440168142319,-0.037412390112877,0.034219019114971,0.049374774098396,-0.013088115490973,-0.115184955298901,-0.138205170631409,-0.046279333531857,0.011586045846343,-0.003519921330735,-0.041710913181305,-0.014361442066729,-0.058044336736202,0.065056607127190,0.023492706939578,0.060286071151495));
res += mul(Get(s1,0,-dy), float4x4(0.123278960585594,-0.016242079436779,0.025382675230503,-0.031380467116833,0.100938826799393,-0.007753876969218,0.016576051712036,0.115458458662033,0.035872548818588,0.170525506138802,-0.021901568397880,-0.059513416141272,0.001828624750488,-0.028739282861352,-0.017347209155560,-0.034349758177996));
res += mul(Get(s1,0,0), float4x4(0.158986091613770,0.038660649210215,-0.005481428466737,-0.029032392427325,0.035671323537827,0.043724972754717,0.024286279454827,0.000450001156423,0.088209867477417,-0.018892120569944,0.002643117448315,0.082607731223106,-0.019722044467926,-0.012075767852366,-0.001324259210378,0.016778884455562));
res += mul(Get(s1,0,dy), float4x4(0.073906622827053,-0.013703238219023,-0.001114522456191,0.037915807217360,-0.135420635342598,0.034967292100191,-0.078059434890747,-0.013172250241041,0.026877606287599,0.035202112048864,0.012051775120199,0.045792523771524,0.009102381765842,0.059945933520794,0.017292454838753,-0.009170757606626));
res += mul(Get(s1,dx,-dy), float4x4(0.068480566143990,0.000858105602674,0.004906147252768,0.025855867192149,0.044083259999752,0.045715305954218,0.027419421821833,0.105257444083691,-0.075621880590916,0.194180771708488,0.023177100345492,-0.088128112256527,-0.089293718338013,-0.008746900595725,0.032398838549852,0.028141235932708));
res += mul(Get(s1,dx,0), float4x4(-0.033437076956034,0.049670118838549,0.010098284110427,0.043057251721621,0.006599351298064,0.009714409708977,0.017517777159810,0.028400415554643,0.045751385390759,0.107629649341106,-0.013564620167017,0.049834702163935,-0.052870739251375,-0.014663912355900,-0.017975080758333,-0.003828964428976));
res += mul(Get(s1,dx,dy), float4x4(-0.002331248251721,-0.008929161354899,0.020083855837584,0.036938194185495,-0.064231261610985,0.022865092381835,-0.006339628249407,0.068658523261547,-0.002118458040059,-0.023051718249917,0.011950058862567,0.088117972016335,-0.026587788015604,0.063536517322063,0.010154619812965,-0.031173093244433));
res += mul(Get(s2,-dx,-dy), float4x4(0.015310851857066,-0.019501125440001,-0.031715761870146,0.014916649088264,0.011261561885476,-0.101181633770466,-0.005622285883874,0.080497913062572,0.066958472132683,0.091316439211369,-0.106613941490650,-0.018727099522948,-0.023158133029938,-0.047253400087357,-0.019109906628728,0.040545783936977));
res += mul(Get(s2,-dx,0), float4x4(0.010596534237266,-0.048444122076035,-0.041001923382282,-0.036573946475983,-0.033570107072592,-0.080048777163029,-0.017204169183969,0.139146655797958,0.002670875750482,0.116152584552765,-0.060573559254408,-0.022879790514708,-0.022305620834231,-0.028911221772432,-0.111099943518639,-0.019049508497119));
res += mul(Get(s2,-dx,dy), float4x4(-0.063333302736282,-0.102691195905209,0.005571489222348,-0.026444664224982,-0.032128144055605,-0.027484551072121,-0.017141822725534,0.060269530862570,-0.006770490203053,-0.015323316678405,-0.078761547803879,-0.118334442377090,-0.022079624235630,-0.066680960357189,-0.113148190081120,0.016570786014199));
res += mul(Get(s2,0,-dy), float4x4(0.005867192987353,-0.032491594552994,0.011250173673034,0.037996660917997,-0.042763121426105,-0.058003477752209,-0.037860147655010,-0.000372311042156,-0.050500232726336,-0.023232230916619,-0.055912639945745,0.061593398451805,0.039067346602678,0.010909073986113,0.060827266424894,0.021186539903283));
res += mul(Get(s2,0,0), float4x4(-0.001171203562990,0.002244548872113,-0.001957076601684,0.026196593418717,-0.037439882755280,-0.033804751932621,-0.002799015957862,0.033008676022291,-0.105677217245102,0.081291869282722,-0.000739753537346,0.009433413855731,-0.002367040840909,0.013032606802881,-0.023399518802762,0.061546389013529));
res += mul(Get(s2,0,dy), float4x4(-0.023961544036865,-0.003860136028379,0.089106403291225,-0.021739410236478,-0.022617954760790,-0.000886574212927,-0.001860426273197,0.029757045209408,-0.131015643477440,0.038485027849674,0.025880048051476,-0.042080078274012,-0.020108556374907,-0.025402262806892,-0.017445625737309,0.021272538229823));
res += mul(Get(s2,dx,-dy), float4x4(0.144003257155418,-0.011946293525398,-0.080542080104351,-0.004439414944500,-0.094817645847797,-0.069967195391655,0.020491313189268,0.025048941373825,-0.151306644082069,-0.036352898925543,-0.054703000932932,-0.010841221548617,-0.043854817748070,0.052078582346439,0.192067861557007,-0.032660260796547));
res += mul(Get(s2,dx,0), float4x4(0.217925101518631,-0.023140914738178,-0.022817680612206,0.018779363483191,-0.073344185948372,-0.068438559770584,0.021949032321572,0.004431731067598,-0.155289709568024,-0.018260829150677,-0.034541942179203,0.077728554606438,-0.053179044276476,0.076679140329361,0.057468008249998,0.049699649214745));
res += mul(Get(s2,dx,dy), float4x4(0.107530526816845,-0.023874301463366,0.087101809680462,-0.104054287075996,-0.069410622119904,-0.021828498691320,0.036524038761854,0.061239354312420,-0.061503544449806,0.054827842861414,0.019298991188407,-0.012080334126949,-0.047959078103304,-0.005484328605235,-0.002006513066590,0.062356144189835));
res += mul(Get(s3,-dx,-dy), float4x4(-0.043473992496729,0.026596842333674,-0.014289572834969,0.005378513131291,-0.016015559434891,-0.019415879622102,0.109501309692860,-0.051511842757463,0.031716454774141,0.010955207049847,0.053729996085167,-0.001033915206790,-0.019026193767786,-0.003334753215313,-0.089672088623047,0.066505491733551));
res += mul(Get(s3,-dx,0), float4x4(-0.030574170872569,0.077384501695633,0.006068506743759,0.037479523569345,0.032219834625721,-0.038140360265970,0.058361873030663,-0.029229285195470,0.018173858523369,0.018822949379683,-0.003405192866921,0.063106477260590,-0.055706512182951,0.058279421180487,-0.130262210965157,0.065858982503414));
res += mul(Get(s3,-dx,dy), float4x4(0.005756068043411,-0.015099818818271,-0.024211350828409,-0.000365056039300,0.120750993490219,-0.034615144133568,0.010965221561491,0.051173910498619,0.046050515025854,0.049936186522245,0.010973664931953,0.009473499841988,-0.090979993343353,0.036852825433016,0.034792523831129,0.040015801787376));
res += mul(Get(s3,0,-dy), float4x4(-0.059684921056032,-0.084284894168377,0.030804311856627,0.007693448569626,-0.026405539363623,0.020581755787134,0.048380605876446,-0.021946948021650,0.050741966813803,0.049308110028505,0.003796054283157,-0.064283251762390,0.024161227047443,-0.005917133297771,-0.071453481912613,0.118192426860332));
res += mul(Get(s3,0,0), float4x4(-0.002768929582089,-0.046479307115078,0.068200051784515,-0.006769910454750,0.066783308982849,0.013948460109532,0.034660980105400,-0.062836304306984,0.094017647206783,0.042346090078354,-0.030083760619164,-0.034981422126293,-0.095332853496075,0.039737407118082,-0.057330708950758,0.026572287082672));
res += mul(Get(s3,0,dy), float4x4(-0.055523682385683,-0.041517116129398,-0.029353186488152,-0.074756361544132,0.098154999315739,-0.010843915864825,-0.014593661762774,-0.010861957445741,0.050685442984104,0.086751595139503,0.047522354871035,-0.038335554301739,-0.160133868455887,-0.000708917388692,0.007054461631924,0.011472276411951));
res += mul(Get(s3,dx,-dy), float4x4(0.068993069231510,-0.044346839189529,0.036703344434500,-0.085866473615170,0.007008395157754,0.009542641229928,-0.015723824501038,0.041120413690805,-0.054741825908422,0.013023744337261,-0.011962995864451,-0.052404049783945,-0.064462356269360,-0.051912009716034,-0.009042955935001,0.119220420718193));
res += mul(Get(s3,dx,0), float4x4(0.114634528756142,-0.053606256842613,0.064154744148254,-0.064473949372768,0.042260028421879,0.032862052321434,0.047901403158903,-0.080449812114239,0.058738149702549,0.020756252110004,-0.035382803529501,-0.052422806620598,-0.067514620721340,-0.039755322039127,0.048376172780991,-0.013519702479243));
res += mul(Get(s3,dx,dy), float4x4(0.093281619250774,-0.000891326286364,-0.007547263521701,-0.140764608979225,-0.029510179534554,-0.009080767631531,0.047771070152521,0.004736958537251,0.017400594428182,-0.009541720151901,-0.007522142957896,-0.030485779047012,-0.089339934289455,-0.005564433988184,0.035512313246727,0.024283502250910));
return max(float4(0,0,0,0), res);
}
