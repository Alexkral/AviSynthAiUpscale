sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.078621461987495,0.010173845104873,-0.028739500790834,-0.082326121628284,0.032951887696981,0.015131996013224,0.010911456309259,0.004050968214869,-0.062305994331837,0.055421534925699,0.028087068349123,-0.016436008736491,-0.049194406718016,-0.010826474986970,-0.007051106542349,-0.004085536580533));
res += mul(Get(s0,-dx,0), float4x4(-0.010864669457078,0.009378316812217,-0.007940621115267,-0.068845011293888,-0.008069217205048,0.046087995171547,0.006671502254903,0.006426037289202,0.008690022863448,-0.012576963752508,0.002969945548102,0.038319211453199,-0.024255461990833,-0.000919756770600,0.013726592995226,-0.005895151291043));
res += mul(Get(s0,-dx,dy), float4x4(0.014651553705335,-0.016250440850854,-0.002088733715937,-0.032916992902756,-0.001307335332967,0.052980165928602,-0.002917994279414,0.011466101743281,0.010585079900920,0.047098517417908,0.000954604824074,0.019009778276086,-0.004377125762403,-0.007123057730496,0.002977312076837,-0.009299953468144));
res += mul(Get(s0,0,-dy), float4x4(-0.133060693740845,-0.008262397721410,-0.026019526645541,0.122419439256191,0.075659945607185,0.049413520842791,-0.010642001405358,0.062856845557690,-0.052813410758972,0.105735979974270,0.032222542911768,-0.002442002296448,-0.047985896468163,0.019885670393705,0.005562780424953,0.008496389724314));
res += mul(Get(s0,0,0), float4x4(0.005812560673803,0.015806900337338,-0.009003373794258,-0.069819018244743,0.010214841924608,0.022573662921786,0.010856010019779,0.103631444275379,0.012705658562481,0.041802231222391,-0.001698812353425,-0.042254425585270,-0.023168591782451,0.040044710040092,0.019497970119119,0.032836806029081));
res += mul(Get(s0,0,dy), float4x4(0.011921469122171,-0.014294450171292,-0.013193698599935,-0.002602834952995,-0.010853689163923,0.073798209428787,0.008190682157874,0.121494278311729,-0.012584513053298,0.017418846487999,0.024279193952680,-0.056897036731243,0.034773346036673,0.024376319721341,-0.005474975798279,0.049651265144348));
res += mul(Get(s0,dx,-dy), float4x4(-0.056617349386215,-0.097897112369537,-0.012986880727112,0.039149899035692,0.037893619388342,0.041285745799541,-0.020373739302158,-0.006684779189527,-0.047667674720287,-0.018733488395810,0.020264068618417,-0.065129131078720,-0.031901422888041,-0.010089584626257,0.001339004025795,0.096102863550186));
res += mul(Get(s0,dx,0), float4x4(0.004498585592955,-0.019745714962482,-0.007502222433686,-0.039024554193020,-0.008832032792270,-0.025300303474069,0.012675696983933,-0.006230506114662,0.000824252900202,0.052471358329058,-0.022141870111227,0.000157180737006,-0.001886382931843,0.059084299951792,-0.004177264403552,0.186878010630608));
res += mul(Get(s0,dx,dy), float4x4(-0.024107886478305,-0.035598490387201,-0.010487738065422,-0.008121813647449,0.008147181011736,-0.005922097247094,0.012478110380471,-0.032791972160339,-0.052490238100290,0.027508644387126,0.024130212143064,0.019972970709205,0.043985247612000,0.048414818942547,-0.008345598354936,0.048415999859571));
res += mul(Get(s1,-dx,-dy), float4x4(-0.007549388334155,-0.019458385184407,0.010248590260744,0.044595275074244,-0.145853489637375,-0.064254730939865,0.030826130881906,-0.097149237990379,0.054577477276325,-0.050664700567722,0.015368048101664,0.027228970080614,-0.024324266240001,0.001764480373822,0.034105837345123,0.068327054381371));
res += mul(Get(s1,-dx,0), float4x4(-0.000596986617893,0.063984163105488,0.023535734042525,0.208323746919632,-0.064795508980751,-0.016203669831157,0.007073584012687,-0.062037266790867,0.029519872739911,0.031254716217518,-0.040724802762270,0.134885236620903,0.022630875930190,0.052582334727049,-0.033955365419388,0.130073994398117));
res += mul(Get(s1,-dx,dy), float4x4(0.038036577403545,0.061547178775072,-0.015570996329188,0.133186355233192,-0.015295687131584,-0.007231419906020,-0.038565896451473,-0.036158349364996,0.019858449697495,0.098176017403603,-0.020537991076708,0.125407159328461,0.013562151230872,0.021587375551462,-0.032071281224489,-0.021153135225177));
res += mul(Get(s1,0,-dy), float4x4(0.003506837179884,-0.017212664708495,0.009704083204269,0.031894464045763,-0.104667134582996,-0.082645341753960,0.052234940230846,-0.000355249969289,0.043982110917568,-0.000560023006983,0.006563147529960,-0.014181152917445,0.043165832757950,0.049108926206827,0.033304080367088,0.112114794552326));
res += mul(Get(s1,0,0), float4x4(0.027350125834346,-0.024903193116188,0.033300202339888,-0.014936753548682,-0.019317835569382,0.110011078417301,-0.019902572035789,0.208449408411980,0.007178852800280,-0.003690873971209,-0.015117624774575,-0.024325715377927,0.047224298119545,0.028218839317560,-0.025968657806516,-0.019792681559920));
res += mul(Get(s1,0,dy), float4x4(0.015380429103971,0.015505600720644,-0.015673827379942,0.020040212199092,0.022956173866987,0.022517221048474,-0.043176393955946,0.000012106582290,0.040258746594191,0.059716477990150,-0.004230662714690,0.066944241523743,0.052038781344891,0.006976733915508,-0.014474370516837,0.020261716097593));
res += mul(Get(s1,dx,-dy), float4x4(-0.026549713686109,-0.003702224232256,0.001873626024462,-0.006112456787378,-0.094820573925972,-0.158855885267258,0.019939795136452,-0.000204014664632,-0.014384813606739,-0.050279382616282,-0.008746071718633,-0.017145568504930,-0.010726822540164,-0.152919366955757,0.021806709468365,0.050792820751667));
res += mul(Get(s1,dx,0), float4x4(0.005592818371952,-0.003289893036708,0.024679487571120,-0.037032466381788,-0.028292560949922,-0.066331237554550,-0.021910620853305,0.016680309548974,0.011305276304483,0.032313253730536,-0.013105552643538,0.089210815727711,0.015569882467389,-0.011258002370596,-0.029631556943059,0.192963376641273));
res += mul(Get(s1,dx,dy), float4x4(0.001747323200107,-0.012965661473572,-0.014144764281809,-0.006319580599666,-0.050992000848055,-0.032040521502495,-0.048635963350534,-0.070157408714294,0.092531822621822,-0.033867374062538,0.012708042748272,0.046663884073496,0.097651928663254,-0.033458244055510,0.000386815896491,-0.024537552148104));
res += mul(Get(s2,-dx,-dy), float4x4(-0.008952268399298,-0.018277058377862,0.016421414911747,0.028687017038465,0.064871557056904,-0.038437969982624,0.016533754765987,-0.034860137850046,0.017246687784791,-0.008552304469049,0.041711889207363,-0.055319260805845,0.004853650927544,0.001077770488337,-0.004474862013012,0.028890671208501));
res += mul(Get(s2,-dx,0), float4x4(-0.027367394417524,0.060285996645689,-0.000096299700090,0.105541296303272,0.068082302808762,-0.077298492193222,-0.002365537919104,-0.050638023763895,-0.031320225447416,0.032849773764610,-0.000695227994584,0.035990718752146,0.000370888446923,-0.004569096490741,0.018810044974089,-0.029698263853788));
res += mul(Get(s2,-dx,dy), float4x4(-0.002825357485563,-0.008501850068569,-0.008098878897727,0.033159118145704,0.024888856336474,-0.070454016327858,-0.021423669531941,-0.083719730377197,-0.032667584717274,0.118912041187286,-0.005699547007680,0.038974843919277,0.022103954106569,0.046403542160988,0.052551545202732,0.043472215533257));
res += mul(Get(s2,0,-dy), float4x4(-0.010702687315643,-0.033455818891525,0.019567323848605,-0.013878820464015,0.071576498448849,0.057059653103352,-0.003904620883986,-0.048893727362156,0.009499097242951,0.086288027465343,0.017008703202009,0.030603721737862,0.004100963007659,0.012934402562678,-0.008028412237763,0.081526935100555));
res += mul(Get(s2,0,0), float4x4(-0.014920310117304,0.021133130416274,0.000898278900422,0.068056032061577,0.045540489256382,-0.012274404987693,0.000620337086730,-0.093974009156227,-0.012133085168898,-0.035575564950705,0.020848017185926,-0.068860836327076,0.007121029775590,0.002301284344867,0.024327220395207,-0.050696291029453));
res += mul(Get(s2,0,dy), float4x4(-0.005468971095979,0.015186894685030,-0.015513922087848,0.017564065754414,-0.012087178416550,-0.051203835755587,-0.006908499635756,-0.031143747270107,-0.031407743692398,0.045354612171650,0.022542713209987,0.079393789172173,0.014217253774405,-0.009556245990098,0.073250479996204,0.000274506863207));
res += mul(Get(s2,dx,-dy), float4x4(-0.004335050936788,-0.029992247000337,0.006125930231065,0.109067544341087,0.027950778603554,-0.024007111787796,0.010167810134590,-0.001630090991966,0.000349876267137,0.087843775749207,0.003815468866378,0.068683139979839,-0.015299120917916,0.002542591420934,-0.008763117715716,0.032366320490837));
res += mul(Get(s2,dx,0), float4x4(0.022318376228213,-0.004067091736943,0.006818022578955,0.049481712281704,-0.019312806427479,0.118394143879414,-0.019694292917848,0.080860912799835,-0.018420495092869,0.056377392262220,-0.002171642379835,0.077240183949471,-0.016143737360835,-0.002480511087924,0.023169513791800,-0.039623647928238));
res += mul(Get(s2,dx,dy), float4x4(0.004482731688768,-0.024515761062503,-0.023069920018315,0.011598576791584,-0.051729653030634,-0.006150328088552,-0.004529513418674,0.027771856635809,-0.038216896355152,0.017614301294088,0.037219226360321,0.022973276674747,0.014931046403944,-0.019290424883366,0.056851044297218,0.015566290356219));
res += mul(Get(s3,-dx,-dy), float4x4(0.002223655814305,-0.056092441082001,0.012738949619234,-0.007006546482444,-0.036987215280533,0.048650655895472,-0.029932415112853,0.096591524779797,-0.005446007940918,0.011397087015212,0.012525542639196,0.015586512163281,0.072769142687321,-0.014014991000295,-0.007708286400884,-0.024425163865089));
res += mul(Get(s3,-dx,0), float4x4(0.069712266325951,-0.052371475845575,-0.031288642436266,-0.052483890205622,-0.024262866005301,0.129614874720573,0.003467345610261,0.120487600564957,-0.002888944465667,0.039629235863686,0.006536921951920,0.035967580974102,0.010649001225829,-0.049890413880348,-0.020348930731416,0.014634782448411));
res += mul(Get(s3,-dx,dy), float4x4(-0.004991437308490,-0.055473182350397,-0.011216325685382,-0.055382251739502,0.007558285724372,0.011974398046732,-0.006145234219730,0.025252284482121,0.017926694825292,0.054729413241148,0.006436020601541,0.049404256045818,0.011374216526747,-0.065821133553982,0.000000900192390,0.092552378773689));
res += mul(Get(s3,0,-dy), float4x4(-0.002271121600643,0.074941098690033,-0.009952070191503,0.043264582753181,-0.017286313697696,-0.053333863615990,-0.020934915170074,0.008043563924730,0.002946284366772,0.024201313033700,0.022517712786794,0.018435757607222,0.039141573011875,0.032076209783554,0.011441890150309,-0.020540580153465));
res += mul(Get(s3,0,0), float4x4(0.035317704081535,0.009689021855593,-0.021194478496909,-0.071660615503788,-0.010478393174708,0.057702988386154,0.019559884443879,0.068998850882053,0.000300414190860,0.051396895200014,0.021300690248609,0.037990238517523,0.009170116856694,0.004521619062871,-0.012306001037359,-0.000328133843141));
res += mul(Get(s3,0,dy), float4x4(0.021021468564868,-0.058196779340506,0.005238720215857,0.032309923321009,-0.007278357632458,0.069404013454914,-0.018094802275300,0.079129293560982,0.045781157910824,0.076060831546783,0.014182910323143,0.127806723117828,0.032201096415520,-0.041387468576431,0.005652187857777,-0.000055575568695));
res += mul(Get(s3,dx,-dy), float4x4(0.021741954609752,-0.038138478994370,-0.004790036007762,-0.017454409971833,-0.007828443311155,-0.029515273869038,-0.026047205552459,0.033118821680546,0.007275621406734,-0.014642767608166,0.011931315995753,0.014986293390393,-0.008545468561351,0.038273956626654,0.016035918146372,0.079164035618305));
res += mul(Get(s3,dx,0), float4x4(0.048989862203598,0.067027971148491,-0.018285468220711,0.087942108511925,0.006326187402010,-0.046498123556376,0.023138312622905,-0.008713942952454,-0.008422299288213,0.005407415330410,0.006057403516024,0.029799703508615,0.032337535172701,0.009702103212476,-0.012007725425065,-0.010544246062636));
res += mul(Get(s3,dx,dy), float4x4(0.050110705196857,-0.030623884871602,0.003603017656133,0.023612855002284,-0.013601923361421,0.029197487980127,-0.014922525733709,0.053491931408644,0.031753696501255,0.040844261646271,0.016702344641089,0.073796704411507,0.050336461514235,-0.005467703100294,-0.004857747815549,0.014669992960989));
return max(float4(0,0,0,0), res);
}
