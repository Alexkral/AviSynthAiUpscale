sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.056435097008944,-0.001619436778128,-0.077654376626015,-0.050964426249266,0.109654270112514,0.009721210226417,-0.052321966737509,-0.103302799165249,0.028263991698623,-0.032208353281021,-0.027113156393170,-0.006069823168218,-0.125219151377678,0.042481362819672,-0.040687844157219,0.043885048478842));
res += mul(Get(s0,-dx,0), float4x4(0.085717089474201,0.024993397295475,-0.043722864240408,-0.040681075304747,0.138086810708046,-0.008099857717752,-0.099161282181740,-0.065451674163342,0.041018411517143,-0.006174698472023,-0.042217686772346,-0.059013962745667,-0.065821848809719,0.058263652026653,-0.004221971612424,0.105980888009071));
res += mul(Get(s0,-dx,dy), float4x4(0.007660677190870,0.034201126545668,-0.068023361265659,0.034105297178030,0.051880095154047,0.140787005424500,-0.110878765583038,0.022534655407071,0.005344604607671,0.110788173973560,0.013166228309274,-0.026647223159671,-0.060710433870554,-0.058536637574434,0.004918300546706,0.132019028067589));
res += mul(Get(s0,0,-dy), float4x4(0.020914532244205,-0.041958261281252,-0.063906602561474,-0.017445180565119,0.058043356984854,0.047003358602524,-0.059264700859785,-0.047946870326996,0.033696904778481,0.003822090337053,0.018503202125430,0.054400902241468,-0.059883963316679,0.053365461528301,-0.014894963242114,0.017903972417116));
res += mul(Get(s0,0,0), float4x4(-0.070753537118435,-0.007432288955897,0.063962526619434,-0.018656007945538,-0.040139283984900,0.012843920849264,-0.021087840199471,-0.034602086991072,0.075118400156498,-0.030462503433228,-0.032601822167635,-0.016370976343751,0.004424441140145,0.014321827329695,0.001467883936130,-0.007859308272600));
res += mul(Get(s0,0,dy), float4x4(0.109477072954178,0.085101008415222,0.013716090470552,-0.033805251121521,-0.083729393780231,-0.006162019446492,-0.041303183883429,-0.011280240491033,0.081363677978516,0.093280963599682,0.088644213974476,0.058075316250324,-0.022867882624269,0.043249260634184,0.057315651327372,0.101036414504051));
res += mul(Get(s0,dx,-dy), float4x4(0.083930134773254,-0.027417086064816,-0.046926680952311,0.033163391053677,-0.087631784379482,-0.021004321053624,-0.057082097977400,0.028494812548161,0.049627371132374,0.048959217965603,-0.040920522063971,0.026462901383638,-0.069883674383163,0.070431709289551,-0.053064659237862,0.011043029837310));
res += mul(Get(s0,dx,0), float4x4(0.095618985593319,0.016429737210274,0.052224472165108,0.045633394271135,-0.173600256443024,-0.019138740375638,-0.029922032728791,-0.130869626998901,0.040563315153122,-0.027644623070955,-0.072046086192131,-0.040171775966883,-0.049189556390047,-0.028870472684503,-0.067693501710892,0.020324463024735));
res += mul(Get(s0,dx,dy), float4x4(0.057410646229982,0.073485150933266,0.025247728452086,0.026391020044684,-0.163360103964806,-0.073771901428699,0.024666082113981,-0.102807216346264,0.020709833130240,0.002942076884210,0.008993162773550,-0.011977127753198,0.042924836277962,-0.004745960235596,-0.025040231645107,0.025635598227382));
res += mul(Get(s1,-dx,-dy), float4x4(-0.018298994749784,0.038584858179092,-0.115060493350029,0.055941954255104,-0.091653034090996,-0.008768360130489,-0.050937294960022,-0.013699814677238,-0.007138581946492,0.012782052159309,-0.026936113834381,0.004211886785924,-0.062628142535686,0.002589149400592,0.026678986847401,-0.009930572472513));
res += mul(Get(s1,-dx,0), float4x4(-0.047195959836245,0.043086759746075,-0.095422402024269,0.034718468785286,0.003976644482464,0.033330235630274,-0.071325629949570,0.027509901672602,0.083699896931648,-0.041843298822641,-0.021260192617774,-0.010710529983044,-0.007169173099101,0.041698783636093,-0.035415038466454,-0.002411908237264));
res += mul(Get(s1,-dx,dy), float4x4(-0.090150609612465,-0.004657277837396,0.052068434655666,0.071171469986439,-0.009335376322269,0.103793695569038,-0.138935118913651,0.020198609679937,0.045656573027372,-0.023416468873620,0.075691379606724,-0.021549431607127,-0.014782125130296,0.033289063721895,-0.109990179538727,0.067392751574516));
res += mul(Get(s1,0,-dy), float4x4(-0.003885142738000,0.011962905526161,0.052407309412956,0.048347264528275,-0.095708802342415,-0.014720205217600,-0.008521424606442,0.020181516185403,-0.025873245671391,-0.012689609080553,-0.019927099347115,0.030673189088702,-0.047774147242308,-0.059402342885733,0.083241917192936,0.039759337902069));
res += mul(Get(s1,0,0), float4x4(0.040067717432976,-0.012044318951666,0.043987773358822,0.037619158625603,0.020079143345356,-0.030422955751419,-0.031503390520811,0.050738949328661,0.058295581489801,-0.022393535822630,0.036746736615896,0.079704776406288,0.025987714529037,0.091088049113750,-0.052788663655519,0.028463885188103));
res += mul(Get(s1,0,dy), float4x4(-0.011971762403846,0.005964980460703,0.133664518594742,0.181903123855591,-0.042422052472830,-0.040311016142368,-0.030715163797140,-0.057983703911304,0.018033746629953,-0.022746067494154,0.111792154610157,0.021921448409557,-0.004010606091470,0.025218131020665,-0.059765558689833,0.006415955256671));
res += mul(Get(s1,dx,-dy), float4x4(-0.008032405748963,-0.064107269048691,0.013654189184308,-0.014874496497214,-0.015044687315822,-0.066509813070297,-0.097660861909389,-0.004710620269179,-0.032715883105993,-0.013962623663247,0.013032692484558,-0.032806932926178,0.076820597052574,-0.055861737579107,0.102697513997555,0.083403736352921));
res += mul(Get(s1,dx,0), float4x4(-0.000143072174978,-0.048016887158155,-0.019389653578401,-0.040835596621037,0.113826930522919,-0.045634038746357,-0.006307830102742,0.094471439719200,0.039834264665842,-0.032127477228642,-0.009186203591526,0.054395660758018,0.082950651645660,0.153450399637222,0.015030005015433,0.117666728794575));
res += mul(Get(s1,dx,dy), float4x4(0.007710055448115,0.099943220615387,0.016141334548593,0.020879559218884,0.055027224123478,0.014179171063006,0.042176462709904,0.066974647343159,0.001194610842504,0.004353839904070,0.006896281614900,0.051129262894392,0.014215761795640,0.090892948210239,-0.008238425478339,0.057022843509912));
res += mul(Get(s2,-dx,-dy), float4x4(-0.056512206792831,0.014260557480156,-0.028315866366029,-0.016575727611780,-0.020745635032654,-0.069049164652824,-0.104181922972202,-0.036138650029898,0.043305419385433,-0.063706934452057,0.047574386000633,0.050993740558624,-0.096753910183907,0.016185244545341,-0.022211385890841,0.039276540279388));
res += mul(Get(s2,-dx,0), float4x4(-0.110539965331554,0.000707898638211,-0.043803967535496,-0.084995634853840,-0.013764381408691,-0.002854181686416,-0.135421365499496,-0.042755249887705,0.068312406539917,-0.001138543477282,0.067870453000069,-0.031697694212198,-0.059916097670794,-0.038072396069765,0.030638337135315,0.089660316705704));
res += mul(Get(s2,-dx,dy), float4x4(-0.176655873656273,-0.014562044292688,0.027515381574631,-0.137307092547417,0.004678944125772,0.045238841325045,-0.139310941100121,-0.035214323550463,0.040869213640690,-0.003233475377783,0.006479375064373,0.047443382441998,-0.062764845788479,-0.050402153283358,0.048798024654388,0.009134052321315));
res += mul(Get(s2,0,-dy), float4x4(-0.152679383754730,-0.003814793890342,-0.035927109420300,-0.021119210869074,0.148500069975853,-0.050060365349054,-0.050249561667442,-0.003596395719796,0.034717768430710,-0.091751195490360,-0.008953483775258,-0.024697955697775,-0.037543438374996,0.056233614683151,-0.027597177773714,0.011809754185379));
res += mul(Get(s2,0,0), float4x4(-0.164278849959373,0.063899375498295,0.080657549202442,0.043008849024773,-0.068030074238777,-0.042923163622618,0.035896912217140,0.013856336474419,0.015933368355036,0.014963696710765,0.102518439292908,-0.042733550071716,0.032696347683668,0.056224659085274,0.005514087155461,-0.068339541554451));
res += mul(Get(s2,0,dy), float4x4(-0.109678305685520,-0.062104456126690,0.011330038309097,-0.056870255619287,-0.027604131028056,0.048592127859592,0.049231208860874,0.026451088488102,-0.006128768436611,-0.049585551023483,-0.033964812755585,-0.063328690826893,0.048757884651423,0.028224647045135,-0.016864500939846,0.034872803837061));
res += mul(Get(s2,dx,-dy), float4x4(-0.040587812662125,-0.066003456711769,-0.005908566992730,0.053476739674807,-0.058553453534842,0.040249507874250,-0.048958938568830,0.072843082249165,0.055967729538679,-0.087072871625423,-0.013538907282054,0.054290629923344,0.096207141876221,0.083974167704582,-0.022777853533626,0.060749817639589));
res += mul(Get(s2,dx,0), float4x4(0.070570185780525,0.118833735585213,0.042330082505941,0.045167848467827,-0.062377613037825,0.067817941308022,0.110582955181599,0.075682915747166,0.092875324189663,-0.021863026544452,-0.000839179963805,-0.040256205946207,0.026699801906943,0.079511195421219,0.009986580349505,0.019422318786383));
res += mul(Get(s2,dx,dy), float4x4(0.041142731904984,-0.047458469867706,-0.085752129554749,-0.050149619579315,0.002780768554658,-0.021002639085054,0.045859768986702,0.115225948393345,-0.031018747016788,-0.020488545298576,-0.071426592767239,-0.120906434953213,0.011395712383091,0.023198060691357,-0.026848115026951,0.076281286776066));
res += mul(Get(s3,-dx,-dy), float4x4(0.027646144852042,0.040533248335123,-0.024664215743542,-0.072716280817986,-0.094703666865826,0.050369065254927,0.046259731054306,0.058634959161282,-0.000080669764429,-0.020504560321569,-0.049423180520535,-0.024271480739117,0.016405891627073,0.017336888238788,0.013080307282507,-0.003334132023156));
res += mul(Get(s3,-dx,0), float4x4(0.083581939339638,-0.065796814858913,-0.053793337196112,-0.103686824440956,-0.041583903133869,-0.091482192277908,0.114982359111309,0.052416436374187,-0.055601682513952,0.020096987485886,-0.018782163038850,-0.015175012871623,-0.004209253005683,0.057911384850740,-0.020632788538933,-0.006175130605698));
res += mul(Get(s3,-dx,dy), float4x4(-0.003931944258511,-0.042425759136677,-0.069060906767845,-0.066281393170357,0.022416606545448,-0.089343555271626,0.072244606912136,-0.000830342818517,-0.010758725926280,0.026643151417375,0.013739094138145,-0.025246251374483,0.010342814959586,0.026245022192597,0.046134836971760,-0.011960466392338));
res += mul(Get(s3,0,-dy), float4x4(-0.038249280303717,0.010616277344525,0.003988102544099,0.055577464401722,-0.149976432323456,0.035825643688440,0.075360581278801,0.018413661047816,0.031928494572639,-0.059868946671486,0.012185399420559,-0.113934881985188,0.031840313225985,-0.027812777087092,0.005358635913581,-0.012514772824943));
res += mul(Get(s3,0,0), float4x4(-0.060096286237240,-0.051024843007326,0.023970929905772,-0.023084919899702,0.061829917132854,-0.068541757762432,0.053495258092880,-0.031221184879541,0.026155594736338,0.012778910808265,-0.067197680473328,-0.067904219031334,0.065375544130802,-0.004433187190443,0.007222899235785,0.006416088901460));
res += mul(Get(s3,0,dy), float4x4(-0.080293968319893,-0.067167192697525,-0.036449573934078,-0.023632401600480,-0.005191692151129,0.013558071106672,0.071222580969334,-0.021545737981796,-0.001535419723950,-0.039244391024113,0.085953049361706,0.005333125591278,0.070655018091202,0.037004064768553,0.098189823329449,0.068828687071800));
res += mul(Get(s3,dx,-dy), float4x4(0.012777565047145,-0.056111987680197,0.004341902211308,0.019605183973908,-0.103996202349663,0.002735889749601,0.061291668564081,0.059227682650089,0.032801959663630,-0.021171651780605,0.042571220546961,-0.081227108836174,0.005715454928577,-0.027888605371118,0.002593135228381,0.013747008517385));
res += mul(Get(s3,dx,0), float4x4(0.019348613917828,-0.081830538809299,0.025236681103706,0.029967403039336,-0.080230452120304,0.041686434298754,0.066607460379601,0.003856234950945,0.027310663834214,-0.062532447278500,0.108980208635330,-0.076775059103966,0.044499397277832,-0.038785312324762,0.032608896493912,-0.025982186198235));
res += mul(Get(s3,dx,dy), float4x4(0.033127143979073,-0.070850521326065,-0.051840230822563,-0.007221733219922,-0.087858825922012,0.175085127353668,0.036940824240446,-0.006590347737074,-0.023098284378648,-0.042217370122671,0.134771436452866,-0.091956697404385,0.037223696708679,-0.002093835268170,0.088643901050091,0.013392563909292));
return max(float4(0,0,0,0), res);
}
