sampler s0 : register(s0);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(x, y)   tex2D(s0, tex + float2(x, y))[0]

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += float4(0.070455916225910,-0.145886480808258,-0.054726701229811,-0.002799813169986) * Get(-dx,-dy);
res += float4(0.052448593080044,-0.226145252585411,-0.020072158426046,-0.149998903274536) * Get(-dx,0);
res += float4(-0.068896375596523,0.026526255533099,0.000984966405667,-0.202766776084900) * Get(-dx,dy);
res += float4(-0.258606940507889,-0.157633602619171,0.167263984680176,0.007932577282190) * Get(0,-dy);
res += float4(0.363020390272141,-0.100454896688461,-0.230443507432938,-0.083126679062843) * Get(0,0);
res += float4(-0.072084359824657,0.075214408338070,0.342345774173737,-0.186864450573921) * Get(0,dy);
res += float4(0.166473686695099,-0.122707977890968,-0.029663601890206,0.186084896326065) * Get(dx,-dy);
res += float4(-0.187697336077690,0.119131967425346,0.010194617323577,0.256954878568649) * Get(dx,0);
res += float4(0.009040371514857,0.155021950602531,-0.023684572428465,-0.076571732759476) * Get(dx,dy);
return max(float4(0,0,0,0), res);
}
