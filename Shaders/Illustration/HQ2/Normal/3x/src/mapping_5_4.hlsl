sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.028401624411345,-0.036785677075386,-0.037260796874762,0.066603481769562,-0.054564416408539,-0.061541676521301,-0.020292989909649,0.038894884288311,-0.037926528602839,0.036445323377848,-0.052563425153494,-0.012685806490481,0.007479849737138,0.085405282676220,0.004297480452806,0.047786355018616));
res += mul(Get(s0,-dx,0), float4x4(-0.012675004079938,0.128493368625641,-0.099966496229172,0.072906896471977,-0.038049284368753,0.016118070110679,-0.045803323388100,0.017205642536283,0.052573684602976,0.070231184363365,-0.024927450343966,0.045429214835167,0.083551637828350,0.074972800910473,0.044399682432413,-0.018807342275977));
res += mul(Get(s0,-dx,dy), float4x4(-0.047971230000257,0.131171897053719,-0.107268989086151,-0.040033247321844,0.017335381358862,0.053871650248766,-0.074585698544979,-0.067688517272472,0.040590316057205,0.160114109516144,0.017522776499391,-0.016519006341696,0.031880136579275,0.010430601425469,-0.002053436590359,-0.106963016092777));
res += mul(Get(s0,0,-dy), float4x4(0.010560639202595,0.023302169516683,0.104756079614162,0.062689259648323,-0.013176877982914,-0.026769343763590,0.052870340645313,0.033023495227098,0.015031042508781,-0.003128634765744,-0.017379064112902,0.057928159832954,0.016093170270324,0.112603060901165,0.072583988308907,0.078927509486675));
res += mul(Get(s0,0,0), float4x4(0.038315061479807,-0.089830584824085,-0.001032238826156,-0.020172005519271,0.069163180887699,-0.073292605578899,0.007202890701592,0.008411295711994,-0.002049106173217,0.036660488694906,-0.022913584485650,0.088639780879021,-0.013950269669294,0.017936738207936,0.079549401998520,-0.012629251927137));
res += mul(Get(s0,0,dy), float4x4(-0.037723254412413,-0.035798486322165,0.014852926135063,0.006877664942294,0.015481657348573,-0.087810851633549,-0.075693458318710,-0.101847633719444,0.023728318512440,0.100448273122311,0.012938020750880,-0.020276041701436,0.018816502764821,0.033178146928549,-0.015596739016473,-0.083433948457241));
res += mul(Get(s0,dx,-dy), float4x4(-0.082358896732330,-0.019293475896120,0.091392226517200,-0.049987304955721,0.049506120383739,-0.119343288242817,-0.081773176789284,-0.079035401344299,0.024461215361953,-0.025937981903553,0.037033714354038,0.046784248203039,-0.023825239390135,0.115689381957054,0.051335241645575,0.071753948926926));
res += mul(Get(s0,dx,0), float4x4(-0.028369260951877,0.029862936586142,0.046767521649599,-0.057829104363918,0.067014321684837,0.034312427043915,-0.028431532904506,0.038734000176191,0.030361918732524,0.027665510773659,-0.020349983125925,0.065277293324471,0.033882480114698,0.020801918581128,0.041527118533850,-0.050892163068056));
res += mul(Get(s0,dx,dy), float4x4(-0.090085469186306,-0.011658902280033,0.047824848443270,-0.034616999328136,0.118966661393642,0.023806871846318,-0.064913541078568,-0.105748772621155,-0.015760004520416,-0.003590609878302,-0.000414414011175,-0.000721463700756,-0.007959544658661,-0.030251421034336,-0.026430463418365,-0.048640426248312));
res += mul(Get(s1,-dx,-dy), float4x4(0.047258075326681,0.014922222122550,0.012147463858128,-0.034840036183596,-0.075008802115917,-0.091106489300728,0.051938153803349,-0.112368799746037,-0.005790844559669,-0.007243816275150,0.021519871428609,0.013905449770391,0.023840067908168,-0.018168812617660,-0.031547695398331,-0.027542686089873));
res += mul(Get(s1,-dx,0), float4x4(0.047307007014751,0.066145539283752,-0.017563272267580,0.023805763572454,-0.033542975783348,0.017306467518210,0.014416556805372,-0.048695717006922,0.011791122145951,0.099395751953125,0.020825281739235,-0.006033862940967,-0.047663547098637,-0.006930314470083,-0.044575296342373,0.047076400369406));
res += mul(Get(s1,-dx,dy), float4x4(0.038113690912724,0.014533782377839,0.095867872238159,0.062247645109892,0.014511248096824,-0.066160514950752,-0.056680049747229,0.010616490617394,-0.014224703423679,0.007963463664055,0.041358150541782,-0.020252268761396,0.006595113780349,0.012328428216279,0.010379951447248,0.023819429799914));
res += mul(Get(s1,0,-dy), float4x4(0.040711205452681,-0.019573951140046,-0.009867699816823,0.058536514639854,-0.011980913579464,-0.079653643071651,-0.015503347851336,-0.075758434832096,-0.003111971076578,0.072165511548519,0.052098855376244,0.017166152596474,0.056216709315777,-0.048268791288137,-0.052861332893372,-0.022436177358031));
res += mul(Get(s1,0,0), float4x4(-0.023515641689301,0.000220671674469,-0.095797389745712,0.048566911369562,0.023949010297656,0.075668856501579,-0.022562470287085,-0.033120524138212,0.009953310713172,0.134564206004143,0.056103382259607,-0.009481421671808,0.003858370007947,-0.000009529590898,-0.131172895431519,0.066839449107647));
res += mul(Get(s1,0,dy), float4x4(-0.035314042121172,0.025418803095818,0.069623515009880,0.090668119490147,0.046632081270218,0.084301486611366,-0.009533378295600,0.049553424119949,0.035064969211817,0.071959398686886,0.024293724447489,0.089488856494427,-0.036108657717705,0.078242078423500,-0.030036691576242,0.007699087727815));
res += mul(Get(s1,dx,-dy), float4x4(0.077620051801205,-0.037882111966610,0.080464474856853,0.021336028352380,0.016529887914658,-0.145039260387421,0.011074942536652,-0.024124776944518,-0.005728525575250,-0.024182416498661,-0.031311765313148,-0.036483824253082,0.041226904839277,-0.052443519234657,0.019708327949047,-0.043327040970325));
res += mul(Get(s1,dx,0), float4x4(0.013642233796418,-0.091086655855179,-0.079192511737347,-0.000739676819649,0.006681393366307,-0.031120592728257,-0.077365510165691,-0.071459740400314,0.000970155058894,0.029699631035328,-0.045861724764109,-0.073715575039387,0.029337478801608,-0.078390248119831,-0.027288233861327,0.055189251899719));
res += mul(Get(s1,dx,dy), float4x4(-0.017464777454734,-0.042145986109972,-0.072889961302280,0.037671022117138,0.062921807169914,0.050527550280094,-0.124133028090000,0.052287999540567,0.001054114894941,0.021399565041065,-0.041987199336290,-0.008521446026862,0.030939910560846,-0.020964387804270,-0.013389799743891,0.020734021440148));
res += mul(Get(s2,-dx,-dy), float4x4(-0.005860598757863,0.092253848910332,0.086400292813778,-0.022946855053306,-0.084475420415401,-0.028603421524167,0.123868107795715,0.091947779059410,-0.037420928478241,0.005722715985030,0.044515319168568,-0.019060362130404,0.058317344635725,-0.045518569648266,0.072454355657101,-0.040682297199965));
res += mul(Get(s2,-dx,0), float4x4(0.059431660920382,0.035203833132982,0.044352065771818,0.022533150389791,0.029068138450384,-0.006345696747303,-0.004561808425933,0.017410306259990,-0.056661743670702,0.044648278504610,0.089470565319061,-0.093819238245487,-0.018153717741370,-0.040842819958925,0.087247557938099,-0.056003872305155));
res += mul(Get(s2,-dx,dy), float4x4(-0.030271966010332,-0.027799548581243,-0.027769183740020,0.038617748767138,-0.015457177534699,-0.033013597130775,-0.100094728171825,0.016949636861682,-0.114699795842171,-0.015248592011631,0.040716931223869,-0.028349339962006,0.040676783770323,-0.035477317869663,0.050127208232880,-0.014431328512728));
res += mul(Get(s2,0,-dy), float4x4(-0.021462433040142,0.002844828180969,-0.012666714377701,-0.003323710057884,-0.020016157999635,0.032034408301115,0.080540433526039,0.208677336573601,-0.041915554553270,-0.001474983990192,0.006422054953873,-0.013697450049222,0.114744149148464,-0.065681412816048,-0.025062195956707,-0.028408747166395));
res += mul(Get(s2,0,0), float4x4(0.106682479381561,-0.009505779482424,0.012948939576745,-0.094258464872837,0.015947952866554,0.080349557101727,0.103215947747231,-0.014085935428739,0.014324751682580,0.025293178856373,0.028788793832064,-0.086616463959217,0.019214626401663,0.023254314437509,-0.011414394713938,0.039749298244715));
res += mul(Get(s2,0,dy), float4x4(0.057800650596619,0.036271985620260,-0.066094942390919,0.116058059036732,0.043313559144735,0.011986932717264,-0.045063387602568,-0.024128509685397,0.006230720784515,0.015125883743167,-0.074071966111660,0.013432119973004,0.001464966568165,0.088417798280716,-0.010257362388074,-0.031923554837704));
res += mul(Get(s2,dx,-dy), float4x4(-0.061945781111717,-0.085193477571011,0.004182981792837,-0.035403646528721,0.011999773792922,-0.201250508427620,-0.125849559903145,0.061252195388079,-0.040313731878996,-0.012938678264618,0.125896051526070,-0.062089003622532,0.003877560608089,-0.109635464847088,-0.040374271571636,-0.028306208550930));
res += mul(Get(s2,dx,0), float4x4(0.063619956374168,-0.022331226617098,0.000848916068207,-0.100917272269726,-0.028660902753472,0.043400790542364,-0.066694170236588,0.067353151738644,0.023783622309566,-0.001223708386533,0.067329794168472,-0.053892593830824,-0.023080253973603,-0.081882677972317,-0.023161120712757,0.001315723056905));
res += mul(Get(s2,dx,dy), float4x4(-0.015986725687981,0.021689943969250,-0.005040365271270,0.029482766985893,-0.057517793029547,0.029764199629426,-0.079912923276424,0.002717157360166,-0.048182707279921,-0.070205420255661,0.003647343255579,-0.016583735123277,0.023930206894875,-0.017781740054488,-0.079532817006111,-0.057704761624336));
res += mul(Get(s3,-dx,-dy), float4x4(-0.009357328526676,-0.011800460517406,0.042939551174641,-0.020558374002576,0.136614546179771,0.006407889537513,0.058440633118153,-0.118286281824112,0.029473053291440,0.004229764919728,0.025296617299318,-0.050583913922310,-0.002511489670724,0.001088033546694,0.008663208223879,-0.024490058422089));
res += mul(Get(s3,-dx,0), float4x4(-0.065047368407249,-0.001635899534449,0.016838775947690,-0.016413837671280,0.096953645348549,-0.034116294234991,0.012818811461329,-0.009990472346544,0.090613350272179,-0.018833961337805,-0.073029235005379,-0.047488156706095,0.080502346158028,-0.057156696915627,0.008440452627838,0.002843154128641));
res += mul(Get(s3,-dx,dy), float4x4(-0.061753563582897,-0.010991954244673,-0.082163363695145,-0.030905634164810,-0.056841451674700,-0.050769329071045,0.024604184553027,-0.003160817315802,0.005298476666212,0.049911715090275,-0.065252378582954,-0.032309472560883,0.028442787006497,0.026885164901614,-0.067194402217865,0.033513251692057));
res += mul(Get(s3,0,-dy), float4x4(0.038145028054714,-0.064397960901260,0.064810313284397,-0.014492593705654,0.118012636899948,-0.034465845674276,-0.021114544942975,-0.042161367833614,-0.033209152519703,-0.029457114636898,0.088714845478535,-0.029858002439141,0.063580960035324,0.039432357996702,0.108524799346924,0.017440242692828));
res += mul(Get(s3,0,0), float4x4(0.027012025937438,-0.008911295793951,-0.002837140113115,0.006653105840087,-0.064570382237434,0.062082443386316,-0.025148319080472,0.030744429677725,-0.058172341436148,-0.035422682762146,-0.018959138542414,-0.049088291823864,0.007295719813555,-0.032448895275593,0.082662530243397,-0.024118108674884));
res += mul(Get(s3,0,dy), float4x4(-0.038034334778786,0.033734135329723,-0.051188893616199,-0.037436403334141,-0.091707959771156,0.073384866118431,0.054026205092669,-0.032135337591171,-0.024819387122989,0.004971606656909,0.008775446563959,-0.023859985172749,0.009561012499034,0.027421066537499,0.053761709481478,0.003322624601424));
res += mul(Get(s3,dx,-dy), float4x4(-0.009553330019116,-0.026913294568658,0.033140830695629,-0.041024055331945,0.071937896311283,-0.035230129957199,0.021379748359323,-0.023442134261131,-0.027041198685765,-0.089709803462029,0.037479020655155,-0.012464323081076,0.041765701025724,-0.018928701058030,0.041759692132473,0.014298930764198));
res += mul(Get(s3,dx,0), float4x4(0.051671378314495,0.016109718009830,0.008118130266666,-0.012003934010863,-0.051750175654888,0.008824458345771,0.032491289079189,-0.002932627918199,-0.068025685846806,0.010799653828144,0.002318207640201,-0.035473167896271,0.007676935754716,0.014678373932838,0.031962741166353,-0.005187044851482));
res += mul(Get(s3,dx,dy), float4x4(-0.002874538069591,0.072883382439613,-0.033371504396200,-0.027521153911948,0.038697931915522,-0.004912596195936,0.013306344859302,-0.022590735927224,-0.002881950233132,0.002644726540893,0.013831675983965,-0.009847437962890,0.019232045859098,0.049502447247505,0.044562324881554,0.010237033478916));
return max(float4(0,0,0,0), res);
}
