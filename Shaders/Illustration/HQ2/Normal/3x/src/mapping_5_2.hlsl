sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.070765614509583,-0.020303905010223,0.090905472636223,0.039904158562422,-0.085951097309589,-0.005349108483642,0.000950228073634,-0.046089239418507,0.009020898491144,-0.056373387575150,0.004287735093385,-0.017777228727937,-0.043779697269201,0.002509731333703,0.102700762450695,0.040541771799326));
res += mul(Get(s0,-dx,0), float4x4(0.019821161404252,-0.009894310496747,0.110151678323746,-0.007563753984869,-0.070627950131893,-0.013250251300633,0.015212655067444,0.005353268701583,0.202328100800514,0.022105960175395,0.048818737268448,-0.076810441911221,0.029613722115755,0.018585808575153,0.067918002605438,0.046702504158020));
res += mul(Get(s0,-dx,dy), float4x4(0.073985934257507,0.030612021684647,0.001312640262768,0.016749210655689,-0.005711709614843,0.006473129149526,-0.007661289535463,-0.080119669437408,0.072359032928944,0.005011502653360,0.021896719932556,-0.091309137642384,0.007423914037645,0.036960791796446,-0.102201290428638,0.015123054385185));
res += mul(Get(s0,0,-dy), float4x4(-0.092398911714554,-0.036917492747307,0.012508496642113,0.034292809665203,-0.020683383569121,-0.060662336647511,-0.063205078244209,-0.091650731861591,0.005466522183269,-0.048067476600409,-0.003555966308340,-0.026411352679133,0.000672401452903,0.007350981235504,0.035670358687639,0.028922952711582));
res += mul(Get(s0,0,0), float4x4(0.053806461393833,-0.024130597710609,-0.087421387434006,-0.072409778833389,-0.102246612310410,0.065289191901684,-0.053520552814007,-0.038598835468292,0.078784823417664,-0.003170809010044,0.008493077009916,-0.034691043198109,-0.013969482854009,-0.045554928481579,0.049345728009939,0.026758249849081));
res += mul(Get(s0,0,dy), float4x4(0.098854273557663,0.032400824129581,-0.037372935563326,0.169624269008636,-0.043775580823421,0.031028609722853,-0.076559290289879,0.111653104424477,0.043004419654608,0.028550244867802,0.050426445901394,-0.035098247230053,-0.020836612209678,-0.036511812359095,0.021953241899610,0.053131368011236));
res += mul(Get(s0,dx,-dy), float4x4(-0.034686192870140,0.006920012645423,0.036186248064041,0.203908517956734,-0.014446005225182,-0.006334511097521,-0.090471640229225,-0.033569686114788,-0.001866522827186,0.020757816731930,0.024980744346976,0.003460764652118,-0.009312989190221,0.010994303971529,0.017105316743255,0.132441759109497));
res += mul(Get(s0,dx,0), float4x4(0.063708007335663,0.136714801192284,0.015349952504039,0.097635477781296,-0.119001545011997,-0.008192031644285,-0.128219217061996,0.184776365756989,-0.026536103338003,0.012038176879287,-0.004745825659484,-0.022484309971333,0.022816836833954,0.058730527758598,-0.033043537288904,-0.037578072398901));
res += mul(Get(s0,dx,dy), float4x4(0.084119029343128,0.134792193770409,0.026786921545863,0.075985334813595,-0.046885937452316,0.051689777523279,-0.098801575601101,-0.100220322608948,0.053571026772261,0.075899094343185,0.056481972336769,-0.049823936074972,-0.037152934819460,0.043274559080601,-0.004049887880683,0.032342750579119));
res += mul(Get(s1,-dx,-dy), float4x4(-0.011146695353091,-0.012527714483440,-0.031962592154741,-0.034320738166571,-0.025813763961196,-0.023896472528577,0.057317476719618,-0.030007258057594,0.001958788139746,-0.035580988973379,-0.019642431288958,0.036253087222576,-0.053379923105240,0.050875853747129,0.077660270035267,-0.005172847770154));
res += mul(Get(s1,-dx,0), float4x4(0.028042150661349,0.004758437164128,-0.084043391048908,-0.089605383574963,0.013231905177236,-0.030667077749968,-0.014634366147220,-0.054588455706835,0.025219604372978,-0.001880810013972,0.009145333431661,-0.009883915074170,0.037176776677370,0.087398469448090,0.001918474794365,-0.020878130570054));
res += mul(Get(s1,-dx,dy), float4x4(-0.003302950644866,-0.052040118724108,-0.161185070872307,0.033496502786875,-0.014330768957734,-0.031681839376688,-0.014233237132430,0.033664938062429,0.059864416718483,-0.071085751056671,0.054266709834337,0.018512953072786,-0.029911708086729,0.038945376873016,0.034246321767569,0.047490485012531));
res += mul(Get(s1,0,-dy), float4x4(-0.027525952085853,0.107896581292152,0.021485932171345,-0.052508544176817,-0.053394738584757,0.055955946445465,0.058664169162512,-0.066092833876610,0.011900094337761,0.049112245440483,0.044136881828308,-0.011958168819547,-0.094544343650341,0.031810041517019,0.079910747706890,-0.061858836561441));
res += mul(Get(s1,0,0), float4x4(0.033109840005636,-0.018124690279365,0.065895348787308,-0.066464044153690,0.015735188499093,-0.021369827911258,0.118377141654491,-0.060756787657738,0.174726590514183,-0.037161141633987,0.119451552629471,-0.017816331237555,-0.047004412859678,0.111817702651024,0.015345483087003,-0.055584631860256));
res += mul(Get(s1,0,dy), float4x4(0.032770086079836,-0.031326152384281,0.056424316018820,0.011454837396741,-0.050744239240885,-0.035203684121370,0.039801776409149,-0.074559584259987,0.184217378497124,-0.125873506069183,0.038711879402399,0.007486466784030,-0.028029410168529,0.007917829789221,0.041996993124485,-0.014551543630660));
res += mul(Get(s1,dx,-dy), float4x4(-0.008711677975953,0.032039150595665,0.019471917301416,-0.056952603161335,-0.051573436707258,0.121046945452690,0.023971157148480,-0.068147867918015,-0.049470797181129,0.015777459368110,-0.048679750412703,-0.030063522979617,-0.060121316462755,-0.002131448825821,0.025783598423004,-0.045473527163267));
res += mul(Get(s1,dx,0), float4x4(0.005238451994956,-0.045735593885183,0.010781324468553,-0.028132239356637,0.048387147486210,-0.071651019155979,0.090769805014133,-0.075442641973495,0.086540468037128,-0.001146986032836,0.071925312280655,-0.030008058995008,0.064870148897171,-0.002433901419863,0.057171776890755,-0.066479042172432));
res += mul(Get(s1,dx,dy), float4x4(-0.029759258031845,-0.032261963933706,-0.001278893207200,0.009508084505796,-0.018900630995631,-0.096378996968269,0.021863903850317,-0.043749399483204,0.056234404444695,0.008382809348404,0.039731353521347,0.003440358908847,0.035348147153854,-0.060907486826181,0.020265229046345,-0.010240529663861));
res += mul(Get(s2,-dx,-dy), float4x4(0.045883506536484,-0.073052525520325,0.057278402149677,0.073617063462734,0.006575877778232,-0.080332592129707,-0.044636037200689,-0.033034555613995,0.042733665555716,0.048737742006779,0.050915054976940,-0.014638677239418,0.016863040626049,0.004873597528785,0.013981780968606,-0.029775269329548));
res += mul(Get(s2,-dx,0), float4x4(0.104095324873924,-0.050277736037970,-0.061506956815720,0.035920914262533,-0.020473865792155,-0.124151095747948,0.099943347275257,0.010794561356306,-0.031879737973213,0.023646123707294,0.068709380924702,-0.027922552078962,0.041912056505680,0.013420651666820,0.058814227581024,-0.006074772682041));
res += mul(Get(s2,-dx,dy), float4x4(0.091392867267132,-0.046129308640957,-0.088733889162540,0.007716190069914,-0.022990230470896,-0.002328021684662,0.064708508551121,0.022666087374091,-0.007160931359977,0.041960082948208,0.016822213307023,-0.031539801508188,0.002621230902150,0.035795517265797,-0.053779613226652,0.031075665727258));
res += mul(Get(s2,0,-dy), float4x4(0.005948980338871,-0.061041727662086,-0.000408402556786,0.008731497451663,0.006704359315336,-0.175408884882927,-0.071958780288696,-0.052213199436665,-0.029781302437186,0.049336053431034,0.106647402048111,-0.088162772357464,0.029203087091446,0.029841797426343,0.034014187753201,-0.110255271196365));
res += mul(Get(s2,0,0), float4x4(0.089729100465775,-0.051875427365303,-0.010784674435854,-0.000089739078248,-0.053570844233036,-0.190789580345154,0.009298448450863,-0.133199349045753,-0.099741920828819,0.061990864574909,0.140124276280403,-0.047695040702820,0.009141908958554,-0.008800577372313,0.019466605037451,-0.097495846450329));
res += mul(Get(s2,0,dy), float4x4(0.103716760873795,-0.042942125350237,-0.177901893854141,-0.030308747664094,-0.046212170273066,-0.170049965381622,0.005023324862123,0.140013903379440,-0.019221588969231,0.006207412108779,0.078071832656860,-0.019477659836411,0.006805736105889,0.066856309771538,-0.020910140126944,-0.068256124854088));
res += mul(Get(s2,dx,-dy), float4x4(-0.128084063529968,0.035909414291382,-0.138301968574524,0.015866504982114,0.027121270075440,-0.039948314428329,-0.096008144319057,-0.068078301846981,-0.052132163196802,-0.008061725646257,-0.011902290396392,-0.001824805280194,0.017594719305634,-0.014644086360931,0.115773841738701,-0.052865970879793));
res += mul(Get(s2,dx,0), float4x4(-0.161935299634933,0.035143829882145,0.006632132455707,0.011214328929782,-0.041966434568167,-0.114185161888599,-0.052505936473608,-0.011257336474955,-0.016329031437635,0.035612814128399,0.056912012398243,-0.020841451361775,-0.018277434632182,0.036216918379068,0.033562146127224,-0.083422623574734));
res += mul(Get(s2,dx,dy), float4x4(-0.059264667332172,0.032626967877150,-0.076862454414368,-0.005126401782036,-0.027469215914607,-0.062209293246269,0.000036658042518,-0.004413425456733,0.001101422007196,0.016282346099615,-0.030036719515920,0.073703102767467,0.010278436355293,0.107967711985111,-0.040201865136623,-0.046441514045000));
res += mul(Get(s3,-dx,-dy), float4x4(-0.000321814324707,-0.028494825586677,-0.033756047487259,0.098629117012024,-0.005333140026778,-0.045524124056101,-0.039488356560469,0.016284765675664,0.008980335667729,0.002045635832474,-0.017423134297132,0.181978076696396,0.019962681457400,-0.041790664196014,0.056747164577246,0.089961245656013));
res += mul(Get(s3,-dx,0), float4x4(-0.082992635667324,0.041548382490873,0.008247219957411,-0.006058561149985,0.097020812332630,0.013858250342309,-0.102455735206604,-0.062416147440672,0.018723735585809,0.044856559485197,-0.017339209094644,0.033818475902081,0.011139111593366,0.021927729249001,0.041577816009521,0.078875795006752));
res += mul(Get(s3,-dx,dy), float4x4(-0.053407117724419,0.008739507757127,0.035047601908445,-0.030024556443095,0.025207756087184,0.050516344606876,0.031794045120478,0.026377461850643,0.017334213480353,0.041949305683374,-0.037345170974731,-0.006972725037485,0.015003407374024,-0.029393553733826,-0.008555067703128,0.018643656745553));
res += mul(Get(s3,0,-dy), float4x4(-0.033395942300558,0.047419279813766,-0.075100675225258,0.014998749829829,-0.022730724886060,0.011553514748812,-0.066133126616478,-0.064780876040459,-0.068331323564053,0.079967886209488,-0.016231887042522,-0.000709361745976,-0.017718328163028,-0.029268750920892,0.042720809578896,0.082721889019012));
res += mul(Get(s3,0,0), float4x4(-0.063662767410278,0.080261550843716,-0.121224559843540,-0.083956398069859,0.027445850893855,0.047855757176876,-0.048871282488108,-0.013013608753681,-0.110619410872459,0.117806643247604,0.006086429115385,0.021474462002516,-0.040512263774872,0.066184766590595,0.058435007929802,-0.018016684800386));
res += mul(Get(s3,0,dy), float4x4(-0.005852700676769,0.004816906992346,-0.063208885490894,-0.030263237655163,0.001654367311858,0.008074915036559,0.089007146656513,0.007804300170392,-0.000831600627862,0.081036008894444,0.015862325206399,0.026901094242930,0.055274035781622,-0.009336871095002,0.091798335313797,-0.024038635194302));
res += mul(Get(s3,dx,-dy), float4x4(-0.035803124308586,0.004138489253819,0.019069934263825,-0.023216513916850,-0.040631230920553,0.002624085638672,-0.005461515393108,-0.037352360785007,-0.053340755403042,0.025121605023742,-0.021207982674241,-0.024515302851796,-0.024553729221225,0.005218269769102,0.017041034996510,0.024235470220447));
res += mul(Get(s3,dx,0), float4x4(0.007478516083211,0.070133194327354,-0.048763003200293,-0.042016390711069,-0.019818980246782,0.002747247694060,0.000621217419393,0.053416557610035,-0.082762166857719,-0.058164276182652,0.002561678411439,0.061272174119949,-0.023982357233763,-0.025672128424048,-0.009207561612129,-0.033174209296703));
res += mul(Get(s3,dx,dy), float4x4(0.020360492169857,-0.059714168310165,-0.108726158738136,-0.000284178706352,0.065687507390976,0.023702932521701,0.005585771054029,-0.020438471809030,0.037177231162786,0.099511109292507,-0.014305411837995,-0.012830957770348,0.088296942412853,-0.036020625382662,0.042824186384678,0.006533251609653));
return max(float4(0,0,0,0), res);
}
