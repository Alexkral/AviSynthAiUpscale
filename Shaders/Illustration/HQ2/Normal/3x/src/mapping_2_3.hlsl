sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.043198212981224,0.000642291153781,0.048569075763226,-0.015877110883594,-0.085341900587082,-0.116540677845478,0.148227825760841,-0.095049187541008,0.034392859786749,0.034258183091879,-0.005479100160301,0.048175003379583,-0.034563247114420,0.009145917370915,-0.015056684613228,0.091602467000484));
res += mul(Get(s0,-dx,0), float4x4(0.028086964040995,0.035535141825676,0.037383399903774,0.010171085596085,-0.159438714385033,-0.045056637376547,0.005600107368082,0.046227931976318,-0.000648143060971,0.003271004883572,0.006772182416171,0.009552314877510,-0.035652901977301,0.010865268297493,0.035607609897852,0.004895371850580));
res += mul(Get(s0,-dx,dy), float4x4(0.017688393592834,-0.002105580177158,0.029614236205816,-0.002687754109502,-0.083345532417297,0.007577388547361,0.047727972269058,0.010727751068771,0.014764593914151,0.013620465993881,0.000880738429260,0.013017503544688,-0.085667267441750,-0.035661663860083,-0.036168605089188,0.027516599744558));
res += mul(Get(s0,0,-dy), float4x4(0.049257695674896,-0.017224324867129,0.050496995449066,-0.028952904045582,0.028640776872635,-0.118570245802402,0.143883362412453,-0.026137307286263,0.003105405252427,0.003548715263605,-0.006007503718138,0.016209425404668,0.072632320225239,0.084695234894753,-0.014012337662280,-0.009471230208874));
res += mul(Get(s0,0,0), float4x4(0.023433594033122,0.022825272753835,0.089764975011349,-0.067709669470787,-0.014756253920496,0.016263015568256,-0.031459752470255,0.218375667929649,-0.009444175288081,-0.009877282194793,0.023970238864422,-0.043068889528513,0.139128372073174,0.005372051615268,0.064210124313831,-0.117511510848999));
res += mul(Get(s0,0,dy), float4x4(-0.005001600831747,0.023677015677094,0.018558267503977,0.045269858092070,-0.040809925645590,0.030721306800842,0.051451697945595,0.118572823703289,0.009860875084996,-0.003795938100666,0.009360085241497,-0.043965183198452,0.024193309247494,0.002061706967652,-0.002020805375651,0.024838518351316));
res += mul(Get(s0,dx,-dy), float4x4(0.056714922189713,-0.006078197155148,0.023806676268578,0.043878499418497,0.038650024682283,0.018107920885086,-0.012996568344533,-0.109281249344349,-0.000690635817591,0.021985750645399,-0.003419091226533,0.015857920050621,-0.008226305246353,0.025563286617398,-0.033593639731407,0.064693063497543));
res += mul(Get(s0,dx,0), float4x4(0.094923794269562,-0.010708863846958,0.030729135498405,-0.066482372581959,0.070389360189438,0.027719706296921,-0.118884772062302,0.016607439145446,-0.021779403090477,0.025322183966637,0.016575459390879,-0.023126540705562,0.093324705958366,-0.037637613713741,-0.021312098950148,-0.091211177408695));
res += mul(Get(s0,dx,dy), float4x4(-0.014962947927415,-0.022781221196055,0.003270789282396,0.005009703338146,0.026337167248130,-0.055702175945044,0.028086576610804,-0.106478020548820,-0.006788349244744,0.017696272581816,0.015668433159590,-0.005462960805744,0.061461552977562,-0.010176803916693,-0.055260233581066,-0.039771564304829));
res += mul(Get(s1,-dx,-dy), float4x4(-0.029920507222414,0.012557913549244,-0.008846402168274,0.034955613315105,-0.054735027253628,-0.011936042457819,0.107990697026253,-0.017443643882871,0.015543844550848,0.004209533333778,0.008056685328484,-0.037635877728462,-0.041070718318224,0.075247861444950,-0.020155102014542,0.020165029913187));
res += mul(Get(s1,-dx,0), float4x4(-0.064129136502743,0.068597696721554,0.073076002299786,-0.059255152940750,-0.037050515413284,-0.037351168692112,-0.035931352525949,-0.058424752205610,0.055552169680595,0.081844903528690,0.009719285182655,0.030174439772964,-0.088395416736603,0.011432351544499,0.004738836549222,0.008544209413230));
res += mul(Get(s1,-dx,dy), float4x4(-0.038818072527647,0.054477848112583,0.029655832797289,-0.026729477569461,-0.076351717114449,0.026306975632906,-0.051493450999260,0.003722913563251,-0.032483417540789,0.051847789436579,0.004705527797341,-0.002832898404449,-0.051590695977211,0.000753121043090,-0.030075645074248,0.107015147805214));
res += mul(Get(s1,0,-dy), float4x4(0.038356587290764,0.008507082238793,-0.050924688577652,0.309461861848831,0.035904776304960,-0.012225940823555,0.083801008760929,0.004274898674339,0.011755269020796,0.061609532684088,0.007804686669260,0.029165742918849,-0.006304799113423,0.084628440439701,-0.011776127852499,0.013319871388376));
res += mul(Get(s1,0,0), float4x4(-0.071617051959038,-0.068303346633911,0.034135814756155,-0.026888402178884,0.049589287489653,-0.048320803791285,-0.043650802224874,-0.005589137785137,0.028728051111102,0.102353818714619,0.038554064929485,0.118489719927311,-0.035516723990440,0.000471821054816,0.001342816394754,0.020495507866144));
res += mul(Get(s1,0,dy), float4x4(-0.028672643005848,0.006948207505047,-0.038102082908154,0.007234023883939,-0.034896232187748,-0.002922755898908,-0.023136369884014,0.042821411043406,-0.011797448620200,0.065518662333488,-0.001579698524438,0.061251483857632,-0.003882714081556,0.009009454399347,-0.028034884482622,0.116229273378849));
res += mul(Get(s1,dx,-dy), float4x4(0.094212174415588,0.005923642776906,-0.051738895475864,-0.020895801484585,0.053539808839560,-0.031570021063089,-0.019851591438055,-0.002147936960682,0.031663734465837,-0.007726543582976,-0.017371019348502,-0.047859221696854,0.006822307594121,0.078712292015553,-0.038108926266432,-0.017805308103561));
res += mul(Get(s1,dx,0), float4x4(-0.019530696794391,-0.103010512888432,0.016275512054563,-0.119782701134682,0.105636037886143,-0.041237741708755,-0.053199157118797,-0.027234317734838,0.046867184340954,-0.004761215765029,0.008527228608727,0.030216516926885,-0.036004204303026,0.036941234022379,-0.030854253098369,-0.021819205954671));
res += mul(Get(s1,dx,dy), float4x4(-0.001138934399933,-0.078995905816555,-0.061030507087708,-0.007365480531007,0.009286581538618,-0.101068466901779,-0.006487577687949,-0.001540198340081,-0.008778176270425,-0.012484872713685,-0.021017085760832,0.004581296816468,-0.009138289839029,0.037874493747950,-0.028455091640353,0.044767901301384));
res += mul(Get(s2,-dx,-dy), float4x4(0.001017679693177,-0.009406534954906,0.051416549831629,-0.033427659422159,0.027648733928800,-0.038460090756416,-0.041715998202562,-0.020564468577504,-0.048105463385582,-0.058845661580563,0.073947593569756,0.005789632909000,-0.109805904328823,-0.101695708930492,0.103668637573719,-0.012861604802310));
res += mul(Get(s2,-dx,0), float4x4(-0.037631034851074,0.018469210714102,0.015242682769895,0.004892498254776,0.078805424273014,0.044686589390039,0.011671205982566,-0.033897116780281,-0.088237397372723,0.016471007838845,0.045606624335051,-0.019039222970605,-0.082957379519939,0.111991144716740,0.074585244059563,0.064153738319874));
res += mul(Get(s2,-dx,dy), float4x4(0.026231979951262,0.004902360960841,-0.041911546140909,0.018027890473604,0.023170024156570,-0.021294062957168,0.016124151647091,-0.003753944532946,-0.078128091990948,0.005396870896220,-0.021975237876177,-0.016331607475877,-0.110971108078957,0.060848366469145,0.000264632457402,0.019694898277521));
res += mul(Get(s2,0,-dy), float4x4(-0.041069541126490,-0.142756298184395,0.047586712986231,-0.130258083343506,0.006490730680525,-0.074204638600349,-0.010406293906271,-0.001399035449140,0.081062182784081,0.073525607585907,-0.000816136074718,0.143680796027184,-0.028784522786736,0.152088657021523,0.011580010876060,0.045511502772570));
res += mul(Get(s2,0,0), float4x4(0.025189477950335,0.097436226904392,-0.059492494910955,0.006639152765274,0.099076323211193,0.010780161246657,0.033669460564852,-0.045853812247515,0.008424897678196,0.063571125268936,-0.031410776078701,0.011670144274831,0.054558839648962,0.185199245810509,0.091200478374958,-0.054522413760424));
res += mul(Get(s2,0,dy), float4x4(-0.012625602073967,0.121436282992363,-0.039575271308422,0.070026017725468,0.021537162363529,0.023421522229910,0.027979757636786,0.045264888554811,-0.041524257510900,0.021917795762420,-0.077182017266750,0.004478137474507,-0.155030578374863,0.111631795763969,0.035604752600193,0.033140126615763));
res += mul(Get(s2,dx,-dy), float4x4(-0.009224507957697,-0.057787775993347,-0.002237602602690,0.018386378884315,0.006073346827179,-0.084595322608948,-0.018248232081532,0.026893425732851,0.088097304105759,-0.062535092234612,-0.058153480291367,0.271077007055283,0.078342869877815,-0.075439020991325,-0.081109106540680,0.172274813055992));
res += mul(Get(s2,dx,0), float4x4(0.070407755672932,0.004124619998038,-0.072527453303337,0.061761025339365,0.034203771501780,-0.018372748047113,-0.002574863843620,-0.050644692033529,0.003934535663575,-0.006433226168156,-0.091763973236084,0.004396593663841,0.116450779139996,-0.202873975038528,0.005393761675805,-0.109814681112766));
res += mul(Get(s2,dx,dy), float4x4(-0.028993465006351,0.021779585629702,0.011336877942085,0.016195923089981,-0.008515585213900,-0.009621731005609,0.011700464412570,-0.008872335776687,-0.005547096952796,0.049146078526974,-0.073791667819023,0.020052555948496,0.019571963697672,-0.087220259010792,-0.017059760168195,-0.158979341387749));
res += mul(Get(s3,-dx,-dy), float4x4(0.015003981068730,0.011499091982841,-0.006805302109569,-0.028770165517926,0.034895185381174,-0.028632916510105,0.029222933575511,0.062846347689629,-0.001761135878041,-0.013997645117342,0.030905602499843,0.041127808392048,0.001224391860887,0.096126057207584,-0.068186707794666,0.058609873056412));
res += mul(Get(s3,-dx,0), float4x4(-0.009537339210510,0.008799736388028,0.004532857798040,-0.002232790691778,0.025622509419918,-0.070472724735737,-0.036139678210020,-0.044471550732851,0.043370701372623,0.117841377854347,-0.073791623115540,0.006465782877058,0.103677943348885,0.083716183900833,-0.014804358594120,0.002689332701266));
res += mul(Get(s3,-dx,dy), float4x4(-0.020247677341104,-0.003557097865269,0.003687266027555,-0.006785511039197,-0.033700589090586,0.013549744151533,-0.019623357802629,-0.012227769009769,0.017294730991125,0.034699253737926,-0.052882526069880,-0.024657232686877,0.024487402290106,-0.010922373272479,0.017245244234800,-0.042509067803621));
res += mul(Get(s3,0,-dy), float4x4(0.020972214639187,-0.000222420669161,0.003207881934941,0.022590810433030,-0.037711609154940,-0.021299816668034,0.067054450511932,0.012808389030397,0.026438100263476,-0.062707170844078,0.037114728242159,0.076049357652664,0.011863181367517,0.191274017095566,-0.039862338453531,0.073410235345364));
res += mul(Get(s3,0,0), float4x4(-0.008527139201760,-0.029776902869344,0.019687009975314,0.081662438809872,-0.009655873291194,-0.034421153366566,-0.043065089732409,0.016912525519729,0.087045416235924,0.083264999091625,-0.050720635801554,-0.039906945079565,-0.000469478487503,0.003179817227647,0.019379140809178,-0.010581240057945));
res += mul(Get(s3,0,dy), float4x4(0.000610000337474,-0.048944812268019,0.008237310685217,0.015049112960696,-0.008515024557710,0.012134617194533,-0.007602851372212,-0.006472507026047,-0.023385889828205,0.048892389982939,-0.045893844217062,0.050848841667175,0.043695241212845,-0.008028550073504,-0.008811829611659,-0.094192489981651));
res += mul(Get(s3,dx,-dy), float4x4(0.042883817106485,-0.008548114448786,0.001411594450474,0.028081111609936,0.039906844496727,0.042399074882269,0.094726666808128,-0.022662993520498,-0.057509258389473,-0.050309732556343,0.007061648648232,0.014406808651984,-0.060096967965364,0.008937265723944,-0.037327039986849,-0.040768530219793));
res += mul(Get(s3,dx,0), float4x4(0.015038915909827,0.001870825188234,-0.011058880947530,0.058466535061598,0.036487918347120,-0.011322257108986,-0.017355782911181,0.082545109093189,0.021336989477277,-0.018416143953800,-0.086905606091022,-0.071042999625206,-0.098588109016418,-0.014710043556988,0.030147798359394,-0.012969464063644));
res += mul(Get(s3,dx,dy), float4x4(-0.012792642228305,0.025481551885605,0.002480535069481,0.032228589057922,0.054396811872721,-0.014143092557788,-0.013755510561168,-0.037578556686640,-0.072739973664284,-0.004839968867600,-0.060749076306820,0.023324608802795,-0.014936904422939,-0.060619935393333,-0.034791130572557,0.000806359050330));
return max(float4(0,0,0,0), res);
}
