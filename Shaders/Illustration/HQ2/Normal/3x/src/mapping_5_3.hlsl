sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.005337746348232,-0.031345587223768,-0.014104066416621,-0.023055080324411,-0.069377228617668,-0.037036016583443,0.072464138269424,0.013221278786659,0.050467964261770,-0.026432657614350,0.023407362401485,-0.019483705982566,-0.036638025194407,0.067392118275166,0.092647716403008,-0.038598001003265));
res += mul(Get(s0,-dx,0), float4x4(0.006948302965611,0.002160160802305,-0.009439948946238,-0.035689268261194,-0.076765701174736,-0.045857705175877,0.014270140789449,0.002188031561673,0.019091600552201,-0.039978384971619,0.020451029762626,0.051822531968355,-0.083011433482170,0.027267793193460,0.043347526341677,-0.082726553082466));
res += mul(Get(s0,-dx,dy), float4x4(-0.049953933805227,0.023065384477377,0.115035951137543,-0.082408800721169,-0.009360671974719,-0.090189114212990,0.064114823937416,-0.082804694771767,-0.024605365470052,-0.039562709629536,-0.057091057300568,-0.048544742166996,-0.061287213116884,-0.054935101419687,0.021328326314688,-0.076781421899796));
res += mul(Get(s0,0,-dy), float4x4(-0.033126331865788,-0.027570908889174,0.063587076961994,-0.007106873206794,-0.021797766909003,0.017547842115164,0.053533472120762,-0.006773846223950,-0.004113499540836,-0.022948194295168,0.013355975970626,-0.020866777747869,0.036028075963259,0.046619657427073,0.175517424941063,-0.011190540157259));
res += mul(Get(s0,0,0), float4x4(-0.017403768375516,0.048599574714899,0.088595159351826,0.006584616377950,-0.093225359916687,0.086123637855053,0.201404199004173,0.112517096102238,-0.089412815868855,-0.016853410750628,0.033313959836960,0.094861574470997,0.013116559945047,0.073715128004551,0.028745366260409,-0.032521273940802));
res += mul(Get(s0,0,dy), float4x4(0.005514981225133,0.082164078950882,0.008840369991958,0.056452456861734,-0.027366789057851,0.047145046293736,0.008821425959468,-0.060050979256630,-0.080689713358879,-0.029302041977644,-0.073068596422672,-0.001753304968588,0.022943448275328,-0.068348817527294,0.040853843092918,-0.122515782713890));
res += mul(Get(s0,dx,-dy), float4x4(-0.013134506531060,-0.037060275673866,-0.005194553639740,-0.050957724452019,0.053297128528357,0.008805408142507,0.033930737525225,-0.061123657971621,-0.035256136208773,-0.047399539500475,-0.008386766538024,0.038805294781923,-0.023026384413242,0.034571856260300,0.003263390623033,0.028107119724154));
res += mul(Get(s0,dx,0), float4x4(-0.024756392464042,-0.025582544505596,0.013720846734941,0.011276626028121,0.141738414764404,-0.030513020232320,-0.082471258938313,-0.061480723321438,-0.071928933262825,-0.021968757733703,0.097236685454845,0.043778959661722,-0.089569546282291,0.111706964671612,0.175709620118141,-0.042944096028805));
res += mul(Get(s0,dx,dy), float4x4(-0.000218159038923,0.049344010651112,0.058341119438410,-0.064462266862392,0.028297016397119,0.066036954522133,0.066252574324608,-0.082727171480656,-0.104647107422352,-0.020542638376355,-0.024735823273659,0.026709381490946,-0.083065696060658,0.059997685253620,0.045390307903290,-0.098681367933750));
res += mul(Get(s1,-dx,-dy), float4x4(0.005804139655083,0.026771210134029,-0.025706226006150,0.090985938906670,0.002916389144957,0.051209390163422,-0.033057596534491,-0.084922201931477,0.005470403470099,-0.021465795114636,0.078573130071163,0.015556158497930,0.022472521290183,0.087275058031082,0.017743526026607,-0.033231474459171));
res += mul(Get(s1,-dx,0), float4x4(0.012634881772101,0.025375200435519,-0.045930743217468,0.025833867490292,0.072343498468399,0.141243979334831,-0.141865685582161,0.029408920556307,0.045200970023870,0.036751188337803,0.073627077043056,0.060854900628328,0.061067022383213,0.064771644771099,0.060318656265736,0.053998913615942));
res += mul(Get(s1,-dx,dy), float4x4(0.029822256416082,0.055479098111391,-0.111866772174835,-0.060757387429476,-0.030152143910527,0.151043757796288,-0.136900663375854,-0.030389893800020,0.023649154230952,0.037610799074173,0.003740893444046,0.027823358774185,0.074045248329639,0.118336781859398,0.065461583435535,0.018661094829440));
res += mul(Get(s1,0,-dy), float4x4(-0.049325194209814,-0.101460158824921,0.019657526165247,0.109022252261639,-0.022852413356304,-0.042540278285742,-0.018543638288975,-0.017887543886900,0.012168212793767,-0.062204997986555,0.056509867310524,0.018172858282924,0.084351077675819,-0.017062110826373,-0.047410067170858,-0.019241200760007));
res += mul(Get(s1,0,0), float4x4(-0.000901132414583,-0.052793838083744,-0.033834192901850,0.059238705784082,0.061266623437405,-0.061817400157452,-0.076901867985725,0.027071604505181,0.097002364695072,-0.053723748773336,-0.004029556177557,0.025711709633470,0.148421034216881,-0.041913777589798,0.004132629837841,0.083448462188244));
res += mul(Get(s1,0,dy), float4x4(-0.002149542327970,-0.021097749471664,-0.117285348474979,-0.048634294420481,0.037724044173956,-0.004575408063829,-0.104090511798859,-0.031948585063219,0.050877172499895,-0.032391801476479,-0.010022374801338,0.004612088669091,0.081535622477531,-0.017513494938612,0.002391598653048,-0.041080478578806));
res += mul(Get(s1,dx,-dy), float4x4(-0.047714255750179,-0.078505285084248,-0.006792990956455,0.081730276346207,0.005851040128618,-0.021857624873519,-0.009105737321079,0.072871200740337,-0.018434457480907,-0.034976318478584,0.003099360736087,-0.060006335377693,0.036741267889738,-0.031111167743802,0.017748668789864,0.059871625155210));
res += mul(Get(s1,dx,0), float4x4(0.022530589252710,-0.030321044847369,0.039785683155060,0.135032474994659,0.070443302392960,-0.030460825189948,-0.144172087311745,0.050320912152529,-0.024992834776640,-0.049512930214405,-0.023004742339253,0.009168175980449,0.060549937188625,-0.048380851745605,-0.003921581432223,0.115479744970798));
res += mul(Get(s1,dx,dy), float4x4(0.009295186959207,-0.010341449640691,-0.035638488829136,0.010461838915944,0.031786825507879,-0.096192792057991,-0.063692294061184,-0.084593787789345,-0.019582090899348,-0.040930986404419,0.020999236032367,-0.070927850902081,-0.004608879331499,-0.052212007343769,0.007720634806901,-0.006360020022839));
res += mul(Get(s2,-dx,-dy), float4x4(-0.078351058065891,0.050309114158154,0.121470339596272,0.008836638182402,-0.009980466216803,0.052011102437973,-0.073849089443684,0.086794577538967,0.047475263476372,0.018276043236256,0.023238200694323,-0.017306398600340,0.016514554619789,0.011299580335617,-0.097973287105560,-0.000989536289126));
res += mul(Get(s2,-dx,0), float4x4(-0.071020163595676,-0.001025796984322,-0.014368934556842,-0.003666942939162,0.066122263669968,0.040378015488386,-0.027814557775855,0.080119147896767,0.109335862100124,0.030834030359983,0.018847031518817,0.017336815595627,-0.061019670218229,0.024018159136176,-0.165044292807579,-0.018415348604321));
res += mul(Get(s2,-dx,dy), float4x4(0.003989960532635,0.023388015106320,-0.051348954439163,-0.035170339047909,0.035239689052105,0.006838509812951,0.010754038579762,0.113416522741318,0.016318053007126,0.005657139234245,0.022070363163948,0.036943163722754,-0.066683597862720,0.048686593770981,-0.114199839532375,-0.015130858868361));
res += mul(Get(s2,0,-dy), float4x4(0.084169648587704,-0.024894347414374,0.080631114542484,-0.019463215023279,0.028838580474257,-0.187774360179901,-0.041677150875330,0.081669658422470,0.065073013305664,-0.031076649203897,-0.023288404569030,-0.015403237193823,0.074163004755974,-0.040478207170963,-0.012214532122016,0.009398459456861));
res += mul(Get(s2,0,0), float4x4(0.012664409354329,-0.039672017097473,-0.135060474276543,-0.010010599158704,0.023288711905479,-0.022770637646317,-0.015012253075838,-0.040735963732004,0.090175464749336,0.031423531472683,-0.016928294673562,0.075132206082344,-0.021405074745417,-0.061807539314032,-0.119736179709435,-0.068307884037495));
res += mul(Get(s2,0,dy), float4x4(-0.081900313496590,-0.065020948648453,-0.056936301290989,0.058749102056026,0.042216930538416,0.082061879336834,0.001360913971439,0.054305754601955,-0.027917068451643,-0.043556176126003,0.015264914371073,0.025389844551682,-0.115373581647873,-0.007803497835994,0.009988657198846,-0.048503864556551));
res += mul(Get(s2,dx,-dy), float4x4(0.158283203840256,-0.030668357387185,0.050096932798624,0.058904368430376,0.050831504166126,-0.073842361569405,-0.058708157390356,0.062482621520758,-0.041944280266762,-0.114149615168571,-0.052828159183264,-0.008212249726057,-0.079945370554924,-0.053403861820698,-0.063479296863079,0.060754276812077));
res += mul(Get(s2,dx,0), float4x4(-0.027651291340590,-0.039050616323948,-0.107958763837814,0.116193443536758,-0.040654860436916,-0.050625964999199,0.001306170830503,0.033206272870302,-0.076014950871468,-0.068387098610401,-0.047739371657372,0.053321059793234,-0.081095129251480,-0.092079542577267,-0.002681331010535,0.009623733349144));
res += mul(Get(s2,dx,dy), float4x4(-0.084852203726768,-0.074518658220768,0.047355350106955,0.035613797605038,-0.136146381497383,0.102562323212624,0.011219617910683,0.039364747703075,-0.027393992990255,-0.031523719429970,-0.043463259935379,-0.037757139652967,-0.078902773559093,-0.027157586067915,0.038087055087090,-0.066726244986057));
res += mul(Get(s3,-dx,-dy), float4x4(0.027419624850154,0.011512817814946,0.045051500201225,0.056834638118744,0.055848225951195,0.011941683478653,-0.012936319224536,-0.002604763256386,-0.003172527067363,0.044905576854944,-0.066754989326000,0.097944669425488,0.004354396369308,0.014839112758636,-0.010984147898853,-0.047291975468397));
res += mul(Get(s3,-dx,0), float4x4(0.038624461740255,0.042038373649120,0.034349150955677,0.003693792736158,0.020922429859638,0.078855007886887,-0.046522397547960,0.054415162652731,-0.036466751247644,0.058095410466194,0.063609890639782,0.082761451601982,-0.017061285674572,-0.003862412180752,-0.028595749288797,-0.010976475663483));
res += mul(Get(s3,-dx,dy), float4x4(0.026411745697260,0.008719843812287,0.096871934831142,-0.082900695502758,0.009543111547828,0.049855109304190,0.015556338243186,-0.043926808983088,-0.065126545727253,0.056017912924290,-0.020666288211942,0.058164499700069,-0.029588449746370,-0.017722146585584,-0.019907465204597,0.017571877688169));
res += mul(Get(s3,0,-dy), float4x4(0.093685187399387,-0.029220722615719,-0.028756814077497,0.058824319392443,0.025316599756479,-0.079822599887848,0.012401865795255,-0.055707592517138,-0.022060630843043,0.006764471530914,0.109361439943314,0.111547648906708,-0.006534948479384,0.003968409262598,0.005818306934088,0.074879035353661));
res += mul(Get(s3,0,0), float4x4(0.136887565255165,-0.047530975192785,-0.040592584758997,-0.054809223860502,-0.041716616600752,-0.083201393485069,-0.078928232192993,-0.002224905183539,-0.044269032776356,0.015634303912520,0.050851080566645,-0.013374513946474,-0.032666873186827,0.035552877932787,-0.059307262301445,0.060177247971296));
res += mul(Get(s3,0,dy), float4x4(0.019910857081413,-0.036152523010969,0.027094826102257,-0.074168100953102,-0.028585977852345,-0.042468916624784,-0.021340509876609,-0.109168313443661,-0.009025170467794,0.005807472392917,-0.031278468668461,-0.041287310421467,-0.014288003556430,-0.016667064279318,-0.119900487363338,0.000202536932193));
res += mul(Get(s3,dx,-dy), float4x4(0.018888998776674,0.014769370667636,-0.041447870433331,0.006755200214684,0.068411596119404,0.042390160262585,0.014154668897390,-0.001046167337336,0.017259154468775,-0.108804143965244,0.040463477373123,0.108560189604759,-0.008929306641221,0.008206822909415,-0.006528669968247,0.086851648986340));
res += mul(Get(s3,dx,0), float4x4(-0.012648634612560,-0.007830768823624,-0.015885196626186,0.025560025125742,0.123417124152184,0.068878017365932,0.006675326731056,0.038435980677605,0.080308862030506,-0.082826390862465,-0.015062709338963,-0.024960469454527,0.056510504335165,-0.023302275687456,-0.035292703658342,0.025754641741514));
res += mul(Get(s3,dx,dy), float4x4(0.073412306606770,-0.006067133508623,-0.012812174856663,-0.032602328807116,0.053685795515776,0.003853003727272,0.151433825492859,0.050520993769169,0.005212561693043,0.013024200685322,0.025144837796688,0.003763958811760,-0.002567884512246,-0.025811899453402,-0.015813149511814,0.051283374428749));
return max(float4(0,0,0,0), res);
}
