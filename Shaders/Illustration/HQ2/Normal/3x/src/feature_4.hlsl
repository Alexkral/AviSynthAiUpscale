sampler s0 : register(s0);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(x, y)   tex2D(s0, tex + float2(x, y))[0]

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += float4(-0.091071188449860,0.133914962410927,-0.051822133362293,0.006032714154571) * Get(-dx,-dy);
res += float4(0.089209169149399,-0.143041312694550,-0.057191513478756,-0.122324407100677) * Get(-dx,0);
res += float4(-0.060168586671352,-0.043736025691032,-0.014428582973778,-0.034367214888334) * Get(-dx,dy);
res += float4(-0.081795327365398,-0.173397243022919,-0.000408845895436,-0.012123904190958) * Get(0,-dy);
res += float4(0.073618382215500,0.264279603958130,0.013417387381196,-0.023688206449151) * Get(0,0);
res += float4(-0.033954635262489,0.141505524516106,0.012476259842515,-0.023853609338403) * Get(0,dy);
res += float4(-0.161576285958290,0.024980854243040,-0.044909466058016,-0.021467898041010) * Get(dx,-dy);
res += float4(0.233646854758263,0.046480610966682,-0.047835309058428,0.023377956822515) * Get(dx,0);
res += float4(-0.078797385096550,-0.149623155593872,-0.023630950599909,-0.004084347281605) * Get(dx,dy);
return max(float4(0,0,0,0), res);
}
