sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.109097294509411,-0.008531134575605,-0.004384971689433,-0.009547639638186,0.001952755497769,0.000021882422516,-0.000007359937172,-0.000556906394195,0.041659463196993,0.001719527994283,0.001230276306160,0.037245918065310,-0.092314414680004,-0.001751799019985,-0.005089634563774,0.010940278880298));
res += mul(Get(s0,-dx,0), float4x4(0.036445472389460,-0.008488197810948,-0.010215207934380,-0.003601445816457,0.003000243566930,-0.000056731329096,0.000006184224276,-0.000178019108716,0.070938490331173,0.010347417555749,0.019695930182934,0.019584611058235,-0.122321814298630,-0.007528446149081,-0.012244073674083,-0.014401875436306));
res += mul(Get(s0,-dx,dy), float4x4(0.057062942534685,-0.004893005825579,-0.003776035737246,0.012530339881778,0.001060124137439,-0.000069065717980,-0.000230329998885,-0.000178653353942,0.179500803351402,0.004895119462162,0.004473950248212,0.007704184856266,-0.118137389421463,-0.006746542174369,-0.011728716082871,-0.022370105609298));
res += mul(Get(s0,0,-dy), float4x4(0.053916562348604,-0.009822379797697,-0.012701870873570,-0.038717169314623,-0.002102483063936,-0.000132535598823,-0.000042462001147,-0.000280341133475,0.043653141707182,0.001352807856165,0.004232818260789,0.061819583177567,-0.075863301753998,-0.001511672977358,0.000749356229790,0.015737988054752));
res += mul(Get(s0,0,0), float4x4(0.315920650959015,-0.004690272733569,-0.014390005730093,0.009503385052085,0.000289715477265,0.000017931310140,-0.000141451499076,-0.000285538349999,-0.492144256830215,-0.002676450647414,0.000473292835522,-0.005516723729670,0.165122553706169,-0.003475543810055,0.001636048662476,-0.005280323326588));
res += mul(Get(s0,0,dy), float4x4(-0.090483188629150,-0.002153656911105,-0.006728237494826,0.031881734728813,-0.000973628717475,-0.000063100567786,-0.000030395898648,-0.000376461481210,0.288625419139862,-0.000748137477785,0.000094050701591,-0.007959146983922,-0.063181869685650,-0.003969510551542,-0.003440149826929,-0.015667224302888));
res += mul(Get(s0,dx,-dy), float4x4(0.263095825910568,0.001575393602252,0.009220931679010,-0.013917568139732,0.001510649919510,-0.000120521668578,-0.000104891514638,-0.000011496338630,0.084193684160709,0.002296915045008,0.001994386315346,0.028758786618710,-0.176942601799965,-0.004486258141696,-0.006644299719483,0.014236221089959));
res += mul(Get(s0,dx,0), float4x4(0.463040262460709,0.012885565869510,0.025697005912662,0.030151337385178,-0.002903667744249,-0.000026469222576,0.000044457017793,-0.000272893579677,0.127370551228523,0.000961705460213,0.000436578178778,0.012307532131672,-0.235012680292130,-0.006811975501478,-0.011440904811025,-0.019878746941686));
res += mul(Get(s0,dx,dy), float4x4(0.071297056972980,0.005060890689492,0.014030465856194,0.029050927609205,0.001726335030980,-0.000064959880547,0.000089352040959,-0.000468475598609,0.217260524630547,0.004609695170075,0.004833028651774,0.015654018148780,-0.102681435644627,-0.005652437917888,-0.010036404244602,-0.022156983613968));
res += mul(Get(s1,-dx,-dy), float4x4(-0.000854481302667,-0.000051022376283,0.000043242882384,0.000065883017669,-0.059997249394655,0.001941261347383,0.002239074558020,-0.005147651303560,0.298962473869324,0.000264493981376,-0.007407744415104,0.007153701502830,0.011792581528425,-0.007229525130242,-0.003159616608173,-0.010716688819230));
res += mul(Get(s1,-dx,0), float4x4(-0.001046743011102,0.000110912085802,-0.000117692565254,-0.000111586748972,0.011857070028782,0.002126303268597,0.005195577163249,-0.008721973747015,0.124298624694347,0.006021074019372,0.004345867782831,0.024284444749355,-0.028741290792823,-0.006457550916821,-0.005503835622221,-0.006848329212517));
res += mul(Get(s1,-dx,dy), float4x4(-0.001131112454459,0.000047416651796,-0.000159040675499,-0.000025261284463,0.101859644055367,0.000534394988790,0.001427136478014,-0.013401860371232,0.084153801202774,0.002252988982946,0.002455747686327,0.003657365916297,0.043964229524136,-0.000060682417825,0.005138864740729,-0.002853079931810));
res += mul(Get(s1,0,-dy), float4x4(0.000362175138434,-0.000157180038514,0.000025090317649,-0.000102988982690,0.017730658873916,-0.001368573284708,-0.002900258637965,-0.006234223023057,0.151302993297577,0.002920661820099,-0.002686516148970,0.023363145068288,0.331062436103821,0.010126025415957,0.009097442030907,0.001243592356332));
res += mul(Get(s1,0,0), float4x4(0.000455410103314,0.000172901301994,-0.000013782362657,0.000069097695814,-0.085722252726555,-0.002517213113606,-0.003473355202004,-0.010335826314986,-0.345914959907532,-0.002187169156969,-0.006517564877868,0.011100471019745,0.456223517656326,0.017530871555209,0.016972517594695,0.043828621506691));
res += mul(Get(s1,0,dy), float4x4(0.000505442731082,-0.000049323214625,0.000018441200154,0.000160865136422,0.004310303367674,-0.001857040915638,-0.001497297780588,-0.028115397319198,-0.041845258325338,-0.008457388728857,-0.012362455017865,-0.019964512437582,0.055306639522314,0.010170282796025,0.011326219886541,0.016985857859254));
res += mul(Get(s1,dx,-dy), float4x4(0.000034383956518,0.000055054773838,0.000103162426967,-0.000100216784631,0.011024566367269,-0.000944263709243,-0.000728913466446,-0.013864660635591,0.146035954356194,-0.000012804433936,0.000146161401062,0.014850048348308,0.077322989702225,0.008779033087194,0.014234575442970,0.007098992355168));
res += mul(Get(s1,dx,0), float4x4(-0.000102674166556,-0.000039132170059,0.000076592375990,-0.000159225179232,0.041940290480852,-0.000907299108803,-0.001452999655157,-0.007737094536424,0.004857399500906,-0.005236536730081,-0.002416362287477,0.009553332813084,-0.018377743661404,0.011803810484707,0.022408366203308,0.016991509124637));
res += mul(Get(s1,dx,dy), float4x4(-0.000017358484911,0.000099307682831,-0.000079139987065,0.000118344105431,-0.046723850071430,-0.001639776281081,-0.001424740534276,-0.020749360322952,0.163071319460869,-0.003274650312960,0.000589506176766,0.000773447565734,-0.000318705366226,0.001723090070300,0.007904584519565,-0.011784872971475));
res += mul(Get(s2,-dx,-dy), float4x4(0.096216544508934,-0.000967713946011,-0.000890165509190,-0.009232955984771,0.059947971254587,0.001898188027553,0.003457842394710,0.004873533733189,0.112563475966454,-0.004971064161509,-0.007307832594961,-0.012364862486720,-0.029653288424015,0.000995013862848,0.002044330816716,-0.007443684618920));
res += mul(Get(s2,-dx,0), float4x4(0.023683141916990,0.002915320917964,0.003487749258056,0.006048006471246,0.181981757283211,0.004068988841027,0.006490520667285,0.008057895116508,0.238401785492897,-0.005544420331717,-0.010920983739197,-0.014369363896549,0.050835724920034,0.000559710490052,0.001376105472445,-0.007035261020064));
res += mul(Get(s2,-dx,dy), float4x4(0.035419624298811,0.005541331600398,0.008236585184932,-0.007051755674183,0.099264815449715,0.002162795513868,0.004780188202858,0.003887731349096,0.127661660313606,-0.003206339431927,-0.007229699287564,0.023291133344173,0.034245170652866,0.000814410974272,0.001039498369209,0.003653960768133));
res += mul(Get(s2,0,-dy), float4x4(0.269492000341415,0.004726664163172,0.004610161297023,-0.003456297563389,0.047110106796026,0.004292979370803,0.007556373719126,0.011072283610702,-0.177180424332619,-0.003031319472939,-0.007256347686052,-0.022459331899881,-0.092979587614536,-0.000510881305672,-0.000851671036799,-0.010192906484008));
res += mul(Get(s2,0,0), float4x4(0.043776441365480,0.008273362182081,0.009816991165280,0.026812896132469,0.024790639057755,0.007631456479430,0.014162323437631,0.006814961321652,0.233776122331619,0.001541448407806,-0.002050628419966,-0.020792713388801,0.036688856780529,-0.000988329993561,-0.001955673797056,-0.009825068525970));
res += mul(Get(s2,0,dy), float4x4(-0.103032410144806,0.005424711387604,0.006830628495663,-0.003329827683046,0.092658072710037,0.004925644025207,0.010497974231839,0.000524317089003,0.174415245652199,0.002228301018476,0.000769974139985,0.037949003279209,-0.005272488575429,0.000200036345632,-0.000342269282555,0.003461406566203));
res += mul(Get(s2,dx,-dy), float4x4(0.119968988001347,0.003121167654172,0.002845093840733,-0.005758221726865,-0.052367035299540,-0.005578704178333,-0.007499189581722,-0.009449465200305,0.006629509851336,-0.003522909246385,-0.003161914413795,-0.013089958578348,-0.035891387611628,0.000989690190181,0.000671222107485,-0.003820042125881));
res += mul(Get(s2,dx,0), float4x4(-0.076263777911663,0.000835236627609,0.000183225609362,0.007740405388176,-0.172501161694527,-0.006950611248612,-0.009111222811043,-0.012266173027456,0.024990355595946,-0.001946325297467,0.003217077581212,-0.011060992255807,0.102786861360073,0.001923598465510,0.002190314698964,-0.000804255018011));
res += mul(Get(s2,dx,dy), float4x4(-0.124115020036697,-0.002849943470210,-0.005186720751226,-0.010925635695457,-0.083438828587532,-0.006898828316480,-0.008087513968349,-0.009312488138676,0.110381096601486,-0.002014006488025,0.002314128912985,0.017389697954059,0.044332910329103,0.002535404404625,0.003566893050447,0.008657390251756));
res += mul(Get(s3,-dx,-dy), float4x4(-0.074205845594406,0.000275202299235,0.002232992090285,-0.005375728011131,-0.061014629900455,-0.000921820406802,0.002538980916142,-0.011773861944675,0.003957557957619,-0.000130446642288,-0.000189482045243,-0.003582172561437,0.182787671685219,0.003012680448592,0.004010662436485,-0.001840819139034));
res += mul(Get(s3,-dx,0), float4x4(0.063615098595619,-0.002193427179009,-0.002543704118580,-0.015429231338203,0.180822461843491,0.001979865366593,0.005309381987900,-0.008398734033108,0.030978603288531,-0.001184290042147,-0.001477458863519,0.003250052453950,0.110007807612419,0.010039512068033,0.018836159259081,0.028510738164186));
res += mul(Get(s3,-dx,dy), float4x4(0.016209423542023,-0.002204002812505,-0.003226479282603,0.002321645850316,0.033926345407963,-0.001587127218954,-0.003114243270829,0.011238450184464,-0.084624797105789,-0.001049913465977,-0.000375223113224,-0.003359637688845,0.049916993826628,0.001564004574902,0.004401412792504,0.005473305936903));
res += mul(Get(s3,0,-dy), float4x4(-0.121411487460136,-0.003877473529428,-0.004883389919996,-0.018454771488905,-0.133860468864441,-0.003210527123883,-0.005405502393842,0.015443093143404,-0.012343115173280,-0.000108608968731,-0.000301283900626,-0.006988922134042,0.239403352141380,-0.001066624769010,0.002194542437792,0.012395787984133));
res += mul(Get(s3,0,0), float4x4(0.152195826172829,-0.002525173360482,-0.005251103546470,-0.018947504460812,-0.103387266397476,-0.001493608811870,0.000772326777223,-0.015607569366693,0.093120001256466,-0.000345381908119,-0.000131787703140,0.005665693432093,-0.390278816223145,-0.003020640462637,-0.000572498363908,0.002388556022197));
res += mul(Get(s3,0,dy), float4x4(0.008399812504649,-0.000621346523985,-0.003396989312023,0.005413508042693,0.226599216461182,0.000291570584523,0.002887126524001,-0.002209343016148,-0.092538826167583,-0.000421844451921,-0.000462498137495,-0.001678908360191,0.101281538605690,-0.003927865531296,-0.002751979744062,-0.014292466454208));
res += mul(Get(s3,dx,-dy), float4x4(-0.014472253620625,-0.002829451812431,-0.003822310362011,-0.014633499085903,0.068027459084988,-0.002275770995766,-0.005495891906321,0.014119373634458,-0.024430185556412,-0.000589667703025,-0.000371358939447,-0.004325166810304,0.217315897345543,-0.001824758248404,-0.004676600452513,-0.015364659950137));
res += mul(Get(s3,dx,0), float4x4(0.104796998202801,-0.000670716050081,-0.002105046296492,-0.012980493716896,-0.142075791954994,-0.003503815270960,-0.004942996427417,0.005152242258191,0.044403992593288,-0.000255007296801,0.000081265883637,0.002442373894155,0.067117005586624,-0.001824641018175,-0.008434834890068,0.006396879907697));
res += mul(Get(s3,dx,dy), float4x4(-0.024246007204056,-0.001017476315610,-0.003435507416725,0.001427804119885,-0.028633026406169,-0.002960090292618,-0.001523098559119,-0.006780666764826,-0.072683684527874,-0.001103530521505,-0.000887733593117,-0.005781707353890,0.061931442469358,0.000193451371160,-0.005580332130194,0.001111190067604));
return max(float4(0,0,0,0), res);
}
