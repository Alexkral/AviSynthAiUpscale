sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.054131515324116,0.002003614790738,-0.030105823650956,0.037895850837231,-0.013787187635899,0.066678248345852,0.140084594488144,-0.038613896816969,0.000156118025188,-0.050696246325970,-0.022249946370721,-0.026706680655479,0.000567495240830,0.067923933267593,-0.085281841456890,0.030841197818518));
res += mul(Get(s0,-dx,0), float4x4(-0.034047134220600,0.062027845531702,0.055865023285151,0.034322436898947,0.021821688860655,-0.030977509915829,0.043231379240751,-0.047268863767385,0.007156215608120,0.008438008837402,0.065638057887554,-0.014173663221300,-0.017622640356421,0.112953148782253,0.024836357682943,-0.002700346056372));
res += mul(Get(s0,-dx,dy), float4x4(-0.077474676072598,-0.003363993484527,-0.024497633799911,0.001646450604312,-0.092114284634590,-0.055181890726089,0.041454624384642,-0.039376545697451,0.061639804393053,0.000954759248998,-0.036847814917564,-0.062575303018093,-0.016646182164550,0.009988533332944,0.025013172999024,-0.002029242925346));
res += mul(Get(s0,0,-dy), float4x4(-0.021988350898027,-0.051780965179205,-0.075114525854588,-0.002925519598648,0.037253111600876,-0.093866303563118,-0.010112435556948,-0.015753038227558,0.030624225735664,0.123348861932755,0.019808262586594,-0.036653399467468,-0.007736547384411,0.073623925447464,0.007214597892016,-0.012438978068531));
res += mul(Get(s0,0,0), float4x4(0.164884537458420,-0.050894957035780,-0.042186491191387,-0.068269751966000,0.027694677934051,-0.097468420863152,-0.081260606646538,-0.003552089678124,0.006537081208080,0.075006313621998,0.053635340183973,-0.022872857749462,0.053492661565542,0.059045579284430,-0.015461666509509,-0.052943859249353));
res += mul(Get(s0,0,dy), float4x4(0.038502912968397,-0.029061798006296,-0.039319068193436,-0.019262004643679,-0.036495573818684,0.059976000338793,0.041406262665987,-0.064568005502224,0.021093700081110,0.027784738689661,-0.064562223851681,-0.060840390622616,0.006887390278280,-0.006287603639066,0.012117252685130,0.007974321022630));
res += mul(Get(s0,dx,-dy), float4x4(-0.057915057986975,0.061647821217775,-0.068299993872643,0.036650571972132,0.052210781723261,0.039977382868528,0.018221667036414,0.001856971648522,0.024713356047869,0.029616566374898,-0.044402141124010,-0.001643451396376,-0.069438472390175,0.029746849089861,0.004478108137846,0.057165533304214));
res += mul(Get(s0,dx,0), float4x4(0.013647400774062,-0.015049959532917,-0.055618397891521,0.006499554961920,-0.018458874896169,0.059964861720800,0.064379125833511,0.021005474030972,-0.003591726068407,-0.009213273413479,-0.056087907403708,0.036690305918455,-0.010906720533967,-0.076215423643589,0.049640271812677,0.060052014887333));
res += mul(Get(s0,dx,dy), float4x4(-0.050419818609953,-0.026436373591423,-0.018004894256592,0.006379912141711,0.022242633625865,0.021079285070300,-0.105369456112385,-0.127942860126495,0.003046588040888,-0.015256431885064,-0.010032462887466,0.000236461652094,0.022640032693744,-0.023195354267955,0.117217428982258,0.003862298559397));
res += mul(Get(s1,-dx,-dy), float4x4(-0.008620583452284,0.029907019808888,0.112905666232109,-0.054350852966309,-0.079738169908524,0.022629328072071,-0.060836672782898,-0.017894698306918,0.088516369462013,-0.033485077321529,-0.000083952938439,0.040244646370411,0.020080536603928,-0.011107825674117,0.040719103068113,0.073433220386505));
res += mul(Get(s1,-dx,0), float4x4(0.021194681525230,-0.084762014448643,0.008498280309141,-0.014925757423043,-0.089515380561352,-0.038346976041794,-0.079444102942944,-0.084164150059223,0.116795971989632,-0.065945073962212,-0.021466292440891,0.139470726251602,0.015414938330650,0.106261767446995,-0.029244376346469,-0.025424810126424));
res += mul(Get(s1,-dx,dy), float4x4(-0.034237481653690,-0.087006412446499,0.063247308135033,0.031746271997690,-0.012555949389935,-0.002599952742457,-0.009170127101243,-0.072655282914639,0.060657013207674,0.049462359398603,-0.001636548899114,0.068201355636120,-0.049021150916815,-0.028331696987152,0.013378087431192,-0.072236277163029));
res += mul(Get(s1,0,-dy), float4x4(-0.017444618046284,-0.042630180716515,0.042866375297308,-0.011687368154526,-0.044848136603832,0.054296277463436,-0.099234402179718,-0.040388800203800,0.031688924878836,0.001628059544601,-0.001084523391910,-0.014638987369835,-0.016269151121378,-0.051924042403698,0.007579010911286,0.061559829860926));
res += mul(Get(s1,0,0), float4x4(0.032009396702051,0.011462003923953,0.157197430729866,0.150407835841179,-0.060666888952255,0.067724734544754,-0.020159356296062,-0.085336029529572,0.032120447605848,0.082914061844349,-0.007956839166582,-0.003914277069271,-0.016591066494584,0.028611125424504,0.025401495397091,0.033684596419334));
res += mul(Get(s1,0,dy), float4x4(-0.025492222979665,0.044052105396986,0.182447761297226,0.068799480795860,0.006733871996403,0.034033689647913,0.004267764277756,-0.041281219571829,0.005455492530018,0.124473422765732,0.047915842384100,-0.063211262226105,-0.000556976534426,-0.080554962158203,-0.019053066149354,-0.043096978217363));
res += mul(Get(s1,dx,-dy), float4x4(0.012322282418609,0.010602238588035,0.052288178354502,-0.034344621002674,-0.095228843390942,-0.019108977168798,-0.064547844231129,-0.032045774161816,0.043547555804253,0.017988158389926,0.029318818822503,0.057768940925598,0.002956856973469,0.063981927931309,0.030885292217135,-0.019404148682952));
res += mul(Get(s1,dx,0), float4x4(0.030032608658075,0.052390597760677,0.073840171098709,-0.013856655918062,-0.053949747234583,0.018247559666634,0.002450956497341,-0.024030558764935,-0.030297728255391,0.058369923382998,0.025874909013510,0.058818656951189,0.013415368273854,0.061620697379112,-0.070752359926701,-0.013887096196413));
res += mul(Get(s1,dx,dy), float4x4(-0.023593796417117,0.035889975726604,-0.112388066947460,-0.110400311648846,-0.006174512207508,0.040243443101645,0.039072707295418,0.013688593171537,-0.007335246540606,0.049047622829676,0.030185569077730,-0.022002493962646,0.042366825044155,0.002892267657444,-0.099319189786911,-0.024656634777784));
res += mul(Get(s2,-dx,-dy), float4x4(-0.052826035767794,0.041952166706324,0.022031037136912,0.008841979317367,0.009694664739072,-0.212031915783882,-0.087188646197319,-0.036619655787945,0.063069641590118,-0.016688026487827,0.038855995982885,0.025902552530169,0.115894556045532,-0.000416067021433,-0.096876278519630,-0.069495618343353));
res += mul(Get(s2,-dx,0), float4x4(0.023496486246586,0.043933562934399,0.029840297996998,0.026761991903186,0.009013535454869,-0.092274077236652,-0.026932336390018,-0.002174964407459,0.119411610066891,0.000973186106421,0.013792488723993,-0.072445183992386,0.023736521601677,-0.005049068480730,0.016420921310782,0.061403471976519));
res += mul(Get(s2,-dx,dy), float4x4(0.043654844164848,0.080809250473976,0.011941652745008,0.017281910404563,-0.020614916458726,0.051013883203268,0.031469710171223,-0.005016322713345,0.034465800970793,-0.038665618747473,0.039834972470999,-0.075275212526321,0.034545894712210,0.034587137401104,-0.007930302992463,0.008438240736723));
res += mul(Get(s2,0,-dy), float4x4(0.011254451237619,-0.000563648529351,-0.007382709532976,-0.078683130443096,-0.011489405296743,-0.066715069115162,-0.012794381007552,-0.022532945498824,0.091808885335922,-0.042461406439543,0.069785676896572,0.087871000170708,0.056870549917221,0.027820616960526,0.007986204698682,0.017047787085176));
res += mul(Get(s2,0,0), float4x4(0.036828160285950,-0.023723270744085,-0.096916452050209,0.008036395534873,-0.002268398413435,-0.022386521100998,0.019095776602626,0.001419065520167,0.102064386010170,-0.088977299630642,-0.018274117261171,-0.047659050673246,0.013631654903293,0.058067742735147,0.072525508701801,0.106245920062065));
res += mul(Get(s2,0,dy), float4x4(0.059782721102238,0.019827524200082,-0.044290203601122,0.052299141883850,0.001262300182134,0.079705797135830,0.014849859289825,-0.062318850308657,0.029512312263250,-0.046368114650249,0.016760790720582,-0.038056712597609,0.039042089134455,0.039356674998999,-0.011517365463078,0.021104086190462));
res += mul(Get(s2,dx,-dy), float4x4(0.083691053092480,0.003823132719845,0.004605113528669,-0.045663863420486,-0.003107682336122,0.095794863998890,-0.012994932010770,-0.048554275184870,-0.038523573428392,-0.016452742740512,0.078730531036854,0.076073281466961,-0.005704806651920,-0.029852690175176,0.064802594482899,0.001482382067479));
res += mul(Get(s2,dx,0), float4x4(0.042777981609106,0.034456603229046,0.029475560411811,0.019872542470694,-0.055703252553940,0.156228303909302,-0.046377941966057,-0.049406435340643,-0.027850026264787,-0.013861731626093,0.078322209417820,0.034934606403112,-0.076181717216969,-0.074072785675526,-0.068372592329979,0.013574835844338));
res += mul(Get(s2,dx,dy), float4x4(0.029467036947608,0.025022594258189,0.027948683127761,-0.007538041565567,-0.109316527843475,0.080963850021362,-0.089558072388172,-0.097577691078186,0.043679099529982,-0.001711884979159,0.037986498326063,0.042778130620718,-0.051823079586029,-0.079675711691380,-0.006487749982625,-0.008121373131871));
res += mul(Get(s3,-dx,-dy), float4x4(0.029332265257835,0.019584951922297,-0.027717210352421,0.032533649355173,0.017815258353949,0.026731666177511,0.053774617612362,0.046231850981712,-0.071285694837570,0.070324577391148,0.053691968321800,0.009720247238874,0.064454503357410,-0.032688997685909,-0.032750956714153,-0.003505453001708));
res += mul(Get(s3,-dx,0), float4x4(-0.069946475327015,-0.010614327155054,0.003752251621336,0.049608837813139,0.016355790197849,0.012054148130119,0.065910629928112,0.049110122025013,-0.042835768312216,-0.061661273241043,-0.049322571605444,-0.047534592449665,0.058903574943542,-0.037759564816952,-0.054776724427938,0.001498742843978));
res += mul(Get(s3,-dx,dy), float4x4(-0.014169475995004,-0.082219392061234,-0.090598203241825,0.034723103046417,0.054146286100149,0.006339383311570,-0.000100771067082,0.025661392137408,-0.065744392573833,-0.063660509884357,-0.036405045539141,-0.003693104488775,0.019976481795311,0.023841714486480,-0.013329022563994,0.000883423490450));
res += mul(Get(s3,0,-dy), float4x4(-0.057247113436460,0.033419139683247,-0.053515795618296,-0.017318071797490,0.012181775644422,-0.023773055523634,0.044939797371626,0.033451668918133,-0.069911666214466,0.057088188827038,0.003924543038011,-0.040390547364950,0.046580437570810,0.048492535948753,0.015631221234798,-0.007922804914415));
res += mul(Get(s3,0,0), float4x4(-0.090056471526623,-0.048595465719700,0.006437634117901,-0.055432755500078,0.041470866650343,0.017168216407299,0.021080136299133,-0.024661913514137,-0.058700490742922,-0.017037998884916,-0.089231528341770,0.045736543834209,0.026523239910603,0.014355556108057,-0.024877507239580,-0.021643988788128));
res += mul(Get(s3,0,dy), float4x4(-0.076143085956573,-0.048447769135237,-0.076861619949341,-0.030588014051318,0.035488214343786,0.018215896561742,0.026879912242293,0.027642833068967,-0.071634851396084,-0.000215394771658,0.100439250469208,0.126390710473061,0.002836429746822,0.046367466449738,0.010243729688227,-0.037978865206242));
res += mul(Get(s3,dx,-dy), float4x4(-0.006290548946708,0.003681717440486,-0.034132182598114,-0.019748199731112,0.012013454921544,0.041463632136583,0.004209742881358,0.050246201455593,0.008208953775465,-0.039039224386215,0.038289904594421,-0.070390067994595,0.088077418506145,0.051079869270325,0.011085652746260,-0.001259069424123));
res += mul(Get(s3,dx,0), float4x4(-0.075082615017891,-0.083091102540493,-0.027619747444987,-0.039172105491161,0.031802564859390,0.032151177525520,-0.005079842172563,0.013423741795123,-0.013706474564970,-0.067793563008308,0.087000168859959,0.032006658613682,0.067156732082367,0.005607329774648,0.011286992579699,0.011413828469813));
res += mul(Get(s3,dx,dy), float4x4(-0.125552058219910,0.013544307090342,-0.047350853681564,-0.003024760400876,0.023154919967055,-0.000495281710755,0.044480059295893,0.061309389770031,0.040809068828821,-0.023512443527579,0.030735669657588,-0.054319728165865,0.020777823403478,0.031668756157160,0.017206871882081,-0.012755041010678));
return max(float4(0,0,0,0), res);
}
