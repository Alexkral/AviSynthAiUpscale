sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.011478750966489,-0.010180640034378,-0.019440978765488,0.029276492074132,-0.048053506761789,-0.129021018743515,-0.016604214906693,0.032122820615768,0.021520921960473,-0.001516040647402,-0.040529571473598,-0.000043723975978,-0.010699077509344,-0.018033552914858,0.032005958259106,-0.059208896011114));
res += mul(Get(s0,-dx,0), float4x4(-0.001316041802056,-0.017978524789214,0.023312933743000,0.011278970167041,-0.078715182840824,-0.046015884727240,0.009797876700759,-0.029143471270800,-0.020547175779939,0.028085224330425,-0.026054617017508,-0.002300429623574,-0.004955541808158,-0.016893278807402,-0.042675703763962,0.021288191899657));
res += mul(Get(s0,-dx,dy), float4x4(-0.030966414138675,-0.022825857624412,0.019064838066697,0.012739653699100,0.005516591947526,0.113889701664448,0.017060844227672,0.006347121670842,-0.002232926664874,0.027698399499059,0.036581836640835,0.025283066555858,-0.019895741716027,0.008409013971686,0.045568868517876,0.036048263311386));
res += mul(Get(s0,0,-dy), float4x4(-0.013406516052783,0.026026777923107,0.006194287445396,0.023511085659266,0.030719803646207,-0.101447135210037,-0.085001014173031,0.082583613693714,0.011321611702442,-0.015939271077514,-0.024395477026701,0.000395586859668,-0.059026964008808,-0.022984668612480,0.068904057145119,-0.017290174961090));
res += mul(Get(s0,0,0), float4x4(-0.009232003241777,0.015172934159636,-0.002147291321307,0.034978866577148,0.050724703818560,-0.012548443861306,-0.050916038453579,-0.001228599692695,-0.017177514731884,0.014595264568925,0.063655987381935,0.005073512438685,-0.082446388900280,-0.021321292966604,-0.084055028855801,0.051957994699478));
res += mul(Get(s0,0,dy), float4x4(-0.019953258335590,-0.041840761899948,-0.000791985599790,0.007499902974814,0.036239076405764,0.129812628030777,-0.021589303389192,-0.037555549293756,0.019254907965660,0.031833238899708,0.078642293810844,0.012934736907482,-0.039666958153248,-0.040541425347328,-0.007717900443822,0.054447520524263));
res += mul(Get(s0,dx,-dy), float4x4(0.007700327783823,0.029437314718962,0.055971439927816,-0.015283584594727,0.081887520849705,-0.027353677898645,0.094550244510174,-0.033205769956112,-0.000629118876532,-0.002287282608449,-0.026631729677320,-0.010194550268352,-0.057027503848076,-0.036836910992861,0.066113695502281,-0.061728738248348));
res += mul(Get(s0,dx,0), float4x4(0.015879878774285,0.023015996441245,-0.054455053061247,0.029208442196250,0.066514424979687,-0.006937882862985,0.020416876301169,-0.019003435969353,0.003594734473154,0.022812236100435,-0.008908726274967,-0.018886527046561,-0.109872803092003,-0.011912253685296,-0.025299174711108,-0.004787470214069));
res += mul(Get(s0,dx,dy), float4x4(-0.007207912392914,-0.014682668261230,-0.006617000326514,0.017135454341769,0.038424737751484,0.115637153387070,0.006805259734392,-0.003732015145943,0.045541420578957,0.022936277091503,-0.011771303601563,-0.000827986339573,-0.027641804888844,-0.060455895960331,-0.016109738498926,0.023287560790777));
res += mul(Get(s1,-dx,-dy), float4x4(-0.035387072712183,-0.033596277236938,-0.006363465916365,-0.088100686669350,-0.037068206816912,-0.032917659729719,-0.020451465621591,0.027881048619747,0.005274974741042,0.004967307206243,0.018977932631969,0.003469228977337,-0.042811449617147,-0.085736393928528,0.045373100787401,-0.060947760939598));
res += mul(Get(s1,-dx,0), float4x4(-0.030111296102405,-0.023900829255581,-0.093981295824051,-0.013809590600431,-0.039206448942423,-0.080324701964855,0.020285539329052,0.025058761239052,0.008390468545258,0.000879368104506,-0.023240920156240,0.032076809555292,-0.038321726024151,-0.050319999456406,-0.020337186753750,-0.038701608777046));
res += mul(Get(s1,-dx,dy), float4x4(0.089842088520527,0.058917995542288,-0.047568876296282,-0.017982536926866,-0.036481108516455,-0.051521524786949,-0.029433330520988,0.034145198762417,-0.058467723429203,-0.005193866323680,-0.028167853131890,0.013150776736438,0.047295995056629,-0.003686662297696,0.015874754637480,-0.001618820824660));
res += mul(Get(s1,0,-dy), float4x4(-0.054071582853794,-0.068705089390278,-0.130800485610962,-0.036611527204514,0.030937662348151,0.003578011412174,0.034133188426495,0.033094238489866,-0.004988039843738,-0.000313509022817,-0.083547785878181,0.008899823762476,-0.043864216655493,-0.085897877812386,0.024619221687317,0.012108041904867));
res += mul(Get(s1,0,0), float4x4(-0.100515283644199,-0.047156888991594,0.360505253076553,0.122860208153725,0.060841899365187,0.007282888982445,-0.049834184348583,-0.033197201788425,0.001553447684273,-0.025172008201480,0.017879955470562,0.073874756693840,-0.004437817260623,-0.049788802862167,0.004346381407231,0.019963441416621));
res += mul(Get(s1,0,dy), float4x4(0.100026071071625,0.033557314425707,0.075047135353088,-0.019975382834673,0.003374908585101,0.010675573721528,0.013440848328173,-0.014110101386905,-0.040790937840939,-0.001715907361358,0.088871352374554,0.024499442428350,0.054166980087757,-0.000203419185709,-0.061021450906992,0.005313568282872));
res += mul(Get(s1,dx,-dy), float4x4(-0.083874933421612,-0.051429320126772,-0.066334009170532,-0.037716154009104,0.068299554288387,0.006824365817010,0.036181557923555,0.010808563791215,-0.020181324332952,-0.030321381986141,-0.012403212487698,0.010392013005912,-0.030568584799767,-0.052386537194252,0.111669570207596,-0.017003640532494));
res += mul(Get(s1,dx,0), float4x4(-0.017594102770090,-0.065619759261608,0.109724998474121,0.096757695078850,0.026209242641926,0.003117191372439,0.071068063378334,-0.029812533408403,0.012790788896382,-0.023134246468544,0.011059700511396,0.074690684676170,-0.026567017659545,-0.045401275157928,0.007843611761928,0.019069915637374));
res += mul(Get(s1,dx,dy), float4x4(0.145683333277702,0.051594905555248,0.024466907605529,-0.086735077202320,-0.055139183998108,0.008637168444693,0.034946754574776,0.006404498592019,-0.030426809564233,-0.014791729860008,0.053655941039324,-0.004563085734844,0.016107995063066,0.000337458506692,-0.020479366183281,0.000976313487627));
res += mul(Get(s2,-dx,-dy), float4x4(-0.034274030476809,-0.027082329615951,-0.074290163815022,0.053162448108196,0.006031546276063,0.005447933916003,-0.037485588341951,-0.020081333816051,0.045163452625275,-0.096688725054264,0.053852822631598,-0.084118068218231,-0.042808651924133,0.000616755220108,0.069342404603958,-0.018214151263237));
res += mul(Get(s2,-dx,0), float4x4(-0.018183315172791,-0.036206420511007,0.056159079074860,0.072245873510838,-0.014369572512805,-0.048149697482586,-0.006341913249344,0.017227618023753,0.042163729667664,-0.084366597235203,0.009417201392353,-0.103715479373932,-0.001280355965719,-0.033240821212530,0.091505751013756,-0.052059367299080));
res += mul(Get(s2,-dx,dy), float4x4(-0.044534970074892,0.023261375725269,0.020826941356063,0.004254637286067,0.044195752590895,0.000712541164830,0.052159689366817,-0.005185712594539,0.053666196763515,0.010763282887638,0.022309035062790,-0.028073528781533,-0.038968678563833,0.062661871314049,0.073101334273815,-0.043944340199232));
res += mul(Get(s2,0,-dy), float4x4(-0.052451942116022,-0.036004506051540,0.269008547067642,0.065373659133911,-0.022652748972178,-0.004392816219479,0.064811602234840,0.013516771607101,0.064617194235325,-0.115330047905445,-0.007968638092279,-0.059017054736614,0.013563474640250,0.000391689944081,0.068755574524403,-0.122260883450508));
res += mul(Get(s2,0,0), float4x4(0.071532540023327,-0.022377148270607,-0.136316210031509,-0.005166378337890,-0.054057840257883,-0.051783137023449,0.021089294925332,0.106121122837067,-0.002201949246228,-0.082368515431881,-0.074354186654091,-0.012477672658861,0.058219429105520,-0.011763391084969,-0.414746135473251,-0.077815964818001));
res += mul(Get(s2,0,dy), float4x4(0.001701066154055,0.059330578893423,-0.001388205331750,-0.063500985503197,0.039859481155872,0.007466308306903,0.074904471635818,0.053524002432823,0.065819256007671,-0.024628661572933,0.005655842833221,0.086443871259689,0.032753854990005,0.018056595697999,0.003763836575672,-0.009441816248000));
res += mul(Get(s2,dx,-dy), float4x4(0.007510980125517,-0.029084648936987,-0.018394935876131,-0.075819417834282,-0.009958213195205,-0.006431587971747,-0.004350108560175,-0.018674563616514,0.001913050538860,-0.104926913976669,0.007981637492776,0.087933257222176,-0.033353175967932,-0.016484199091792,0.027553051710129,-0.015447442419827));
res += mul(Get(s2,dx,0), float4x4(0.049167923629284,0.034508060663939,-0.006604266818613,-0.066681377589703,0.009582333266735,-0.050170518457890,0.047940798103809,0.009009754285216,-0.022644819691777,-0.043395567685366,0.056957669556141,0.086283192038536,-0.044396106153727,-0.032645612955093,0.294159084558487,0.106987603008747));
res += mul(Get(s2,dx,dy), float4x4(-0.074850685894489,0.058504875749350,0.035812925547361,-0.011658442206681,0.104416124522686,0.017999410629272,0.024788118898869,-0.052085179835558,0.021027237176895,-0.028322530910373,-0.009989059530199,0.004961049184203,0.048726838082075,-0.026303635910153,-0.102403700351715,-0.022158734500408));
res += mul(Get(s3,-dx,-dy), float4x4(-0.023323897272348,-0.001081525580958,-0.012646797113121,0.013023156672716,0.060644678771496,0.060880575329065,0.058907955884933,-0.004601757042110,0.018586827442050,-0.032945215702057,-0.186631515622139,-0.033936079591513,-0.022950075566769,-0.043498802930117,0.075972691178322,-0.025955241173506));
res += mul(Get(s3,-dx,0), float4x4(-0.010793375782669,-0.015856606885791,0.014009979553521,-0.009907938539982,-0.013583064079285,0.166969314217567,0.041737049818039,-0.016983054578304,-0.027870533987880,-0.105193383991718,-0.048067763447762,-0.035455714911222,-0.035109672695398,0.065160721540451,-0.121147930622101,-0.003158912993968));
res += mul(Get(s3,-dx,dy), float4x4(-0.000831487763207,0.013175581581891,-0.026185452938080,0.001634617452510,-0.063631899654865,0.037526883184910,-0.006434176582843,-0.007313576061279,-0.012149600312114,0.044502809643745,0.025349551811814,-0.025344075635076,-0.037077967077494,0.068198598921299,-0.001324856304564,0.038718640804291));
res += mul(Get(s3,0,-dy), float4x4(0.001802468788810,0.021424785256386,-0.009688087739050,-0.029690563678741,0.069924771785736,0.027748910710216,0.033308032900095,-0.011881274171174,-0.017061434686184,0.009741843678057,0.129757076501846,0.150063604116440,-0.044186320155859,-0.056752648204565,-0.079082056879997,-0.006789188366383));
res += mul(Get(s3,0,0), float4x4(0.001039281371050,0.011494467034936,0.049693658947945,-0.013096645474434,-0.068824231624603,0.073516331613064,-0.153626710176468,-0.014169894158840,-0.016142459586263,-0.076738610863686,0.019339874386787,0.129082396626472,-0.057206340134144,0.039594564586878,0.255843967199326,0.116920210421085));
res += mul(Get(s3,0,dy), float4x4(0.015226137824357,-0.001556394272484,0.061482638120651,0.006744457874447,-0.034106198698282,0.017608484253287,0.030025864019990,-0.014043645001948,-0.003068007295951,0.043587941676378,0.105736337602139,0.032397303730249,-0.043648600578308,0.047262422740459,-0.013018502853811,0.068658322095871));
res += mul(Get(s3,dx,-dy), float4x4(0.009783649817109,-0.003381163813174,-0.037315677851439,0.015078566968441,0.007474160287529,-0.020903794094920,0.032700907438993,0.009911725297570,-0.054499860852957,0.033329389989376,0.071943499147892,0.030009947717190,-0.057202022522688,-0.062755808234215,-0.020510908216238,-0.097294107079506));
res += mul(Get(s3,dx,0), float4x4(0.013136149384081,-0.003178498707712,-0.034500975161791,0.020870989188552,-0.047028835862875,-0.012950570322573,0.003461036831141,-0.010401272214949,0.013563633896410,-0.033688515424728,0.038235165178776,-0.085152670741081,-0.034651100635529,0.012115402147174,-0.006076615303755,-0.034973807632923));
res += mul(Get(s3,dx,dy), float4x4(0.017002977430820,0.005955373868346,0.003505663247779,-0.008154281415045,-0.008932243101299,0.002207777695730,-0.033887211233377,-0.020231530070305,0.050066161900759,0.060135632753372,0.036982085555792,-0.127990365028381,0.019597111269832,0.052504178136587,-0.000526063260622,-0.115385890007019));
return max(float4(0,0,0,0), res);
}
