sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.066455751657486,-0.021706718951464,-0.014837679453194,0.038650624454021,-0.017808150500059,0.074569493532181,0.071420915424824,-0.023746106773615,-0.137072116136551,0.110340967774391,-0.084910973906517,0.095113471150398,0.027862949296832,-0.056613992899656,0.010936106555164,-0.027713939547539));
res += mul(Get(s0,-dx,0), float4x4(-0.010459780693054,-0.018850890919566,0.006937876343727,0.015861216932535,-0.063400633633137,-0.025008168071508,0.029544824734330,0.024680225178599,-0.037180475890636,-0.115089304745197,-0.078205488622189,0.019531911239028,0.036481976509094,0.045154031366110,0.003992251586169,0.034473728388548));
res += mul(Get(s0,-dx,dy), float4x4(-0.029639011248946,0.046969573944807,0.038410931825638,0.024321055039763,-0.059709239751101,0.060846138745546,0.006659287959337,0.019730426371098,0.076411694288254,0.023482425138354,-0.022564250975847,-0.020823720842600,0.021207440644503,0.024508796632290,-0.014355525374413,0.009013168513775));
res += mul(Get(s0,0,-dy), float4x4(0.078465089201927,-0.011923492886126,-0.000357011507731,0.022201158106327,-0.023845056071877,0.164595782756805,0.094663307070732,0.041440103203058,-0.109301023185253,-0.027761323377490,-0.056453000754118,-0.027800392359495,0.105798706412315,-0.052239913493395,-0.009479293599725,-0.006568925920874));
res += mul(Get(s0,0,0), float4x4(0.033416453748941,0.005966552533209,0.064947761595249,0.024393124505877,-0.020561324432492,0.090086013078690,0.077054195106030,0.063594870269299,0.160733774304390,-0.006019690539688,-0.020602546632290,0.010331738740206,0.139326393604279,0.015016959980130,-0.014187335968018,0.019042033702135));
res += mul(Get(s0,0,dy), float4x4(0.008598143234849,0.070080205798149,0.066610790789127,0.087091095745564,-0.023794310167432,0.052687991410494,0.077788256108761,0.020292768254876,0.162437394261360,0.028442999348044,-0.052896745502949,0.181035310029984,0.011272698640823,0.074313335120678,-0.005737843457609,-0.027136988937855));
res += mul(Get(s0,dx,-dy), float4x4(0.027328070253134,0.046630181372166,-0.011511892080307,0.039987515658140,-0.005495715420693,0.107022151350975,0.055055137723684,0.049249365925789,0.037949662655592,-0.057019256055355,0.138399109244347,-0.030680796131492,-0.009162883274257,-0.008676148951054,-0.040341760963202,-0.006440462078899));
res += mul(Get(s0,dx,0), float4x4(0.044322140514851,0.064697884023190,-0.018887519836426,0.042318556457758,-0.010265582241118,0.029212865978479,0.032308764755726,0.078226879239082,-0.050508711487055,0.068009302020073,0.214281722903252,-0.187035754323006,-0.008460626937449,0.003719044616446,-0.027726128697395,-0.018743576481938));
res += mul(Get(s0,dx,dy), float4x4(0.005723237060010,0.094102106988430,0.021749338135123,0.066957093775272,-0.036418985575438,0.017539888620377,0.060659747570753,-0.013945306651294,0.071267351508141,0.000903853971977,0.040204487740993,-0.016879860311747,-0.021986396983266,0.046846874058247,0.020163001492620,-0.003057520138100));
res += mul(Get(s1,-dx,-dy), float4x4(-0.003092601895332,0.053938962519169,0.049847126007080,0.061540730297565,0.046759881079197,-0.074371732771397,-0.039325661957264,0.022111088037491,0.007481407839805,-0.091468177735806,-0.040141217410564,0.048633024096489,-0.056419499218464,0.014954022131860,0.071802198886871,-0.045905683189631));
res += mul(Get(s1,-dx,0), float4x4(0.024650096893311,-0.030643112957478,-0.008575442247093,0.079587161540985,0.071181192994118,-0.047401972115040,-0.094013996422291,0.001522724982351,0.056186817586422,-0.099386274814606,-0.069508440792561,-0.057659801095724,-0.023945050314069,-0.056600436568260,-0.028404513373971,-0.058363214135170));
res += mul(Get(s1,-dx,dy), float4x4(0.037535961717367,-0.002811635844409,0.002934313612059,0.026379350572824,0.089446209371090,-0.001679477747530,-0.101392626762390,-0.011532644741237,0.011549519374967,0.024150889366865,-0.106734424829483,-0.019124248996377,-0.048624876886606,0.064728431403637,-0.044138226658106,-0.027880428358912));
res += mul(Get(s1,0,-dy), float4x4(-0.000621384358965,0.058173842728138,0.013452781364322,0.096919663250446,-0.070321619510651,-0.057386651635170,0.028939547017217,-0.030254283919930,0.171594426035881,-0.108381487429142,-0.000287478644168,0.017475459724665,-0.078695677220821,0.053059849888086,0.094494089484215,-0.038619305938482));
res += mul(Get(s1,0,0), float4x4(0.002285338006914,-0.051691588014364,-0.069155059754848,0.035362102091312,-0.060739576816559,-0.028810335323215,0.029645048081875,-0.056290995329618,0.062458723783493,-0.056046776473522,-0.019579583778977,-0.041496653109789,-0.030080802738667,0.030852772295475,-0.026447260752320,-0.019294817000628));
res += mul(Get(s1,0,dy), float4x4(0.009741583839059,0.018633218482137,-0.021560182794929,-0.017805432900786,-0.009510387666523,-0.020995866507292,-0.022556165233254,0.021337701007724,-0.010031383484602,0.060984164476395,-0.098513498902321,-0.055402982980013,-0.007174539845437,0.049159377813339,-0.048597715795040,-0.077056832611561));
res += mul(Get(s1,dx,-dy), float4x4(-0.008434087038040,-0.005468023940921,-0.029794311150908,0.061875466257334,-0.045760944485664,-0.066384404897690,0.019345553591847,-0.023180222138762,0.025991071015596,0.006871681660414,0.146076336503029,-0.047066580504179,0.018005322664976,0.079583011567593,-0.032563015818596,-0.007925993762910));
res += mul(Get(s1,dx,0), float4x4(0.006885937415063,-0.091423571109772,-0.079929709434509,-0.057497456669807,-0.024673672392964,-0.058767292648554,0.004577439744025,-0.034514509141445,-0.054605841636658,-0.060323145240545,0.132918685674667,-0.053779423236847,-0.013429559767246,0.055086899548769,-0.066953681409359,0.115595348179340));
res += mul(Get(s1,dx,dy), float4x4(0.024356847628951,0.015097871422768,-0.041387580335140,-0.000754193169996,-0.039964519441128,-0.038161206990480,-0.012433827854693,-0.054112698882818,-0.066344045102596,0.090738832950592,0.019019177183509,-0.082178257405758,-0.029571192339063,0.020459914579988,-0.041535284370184,-0.088791571557522));
res += mul(Get(s2,-dx,-dy), float4x4(0.010351832956076,-0.025284187868237,0.023557515814900,0.034734182059765,-0.075706236064434,0.006390734575689,-0.000016583086108,0.015246044844389,0.017556207254529,-0.029785452410579,-0.004022785462439,-0.028421571478248,0.065259248018265,-0.140828967094421,0.065446548163891,-0.027036407962441));
res += mul(Get(s2,-dx,0), float4x4(-0.037171702831984,-0.056938704103231,0.043397270143032,-0.013612831011415,-0.137070909142494,0.080758571624756,0.001117569976486,0.051396917551756,0.053202707320452,-0.035472482442856,0.035994395613670,-0.010061164386570,-0.042487397789955,0.065607927739620,0.009534332901239,0.017729222774506));
res += mul(Get(s2,-dx,dy), float4x4(-0.021849099546671,-0.026963459327817,0.037633180618286,-0.016385393217206,0.067308053374290,0.050450991839170,-0.007219354156405,-0.051799871027470,0.044912390410900,0.005039203912020,-0.012317035347223,0.044767644256353,-0.046949353069067,-0.031192198395729,-0.024279145523906,0.010177030228078));
res += mul(Get(s2,0,-dy), float4x4(-0.002466304926202,0.002320329425856,-0.027737682685256,0.023365678265691,-0.101064309477806,-0.034286394715309,-0.000670062494464,0.066216245293617,0.040445737540722,-0.030944788828492,-0.018347634002566,-0.015831397846341,-0.088715426623821,-0.059660058468580,-0.026687271893024,0.012097997590899));
res += mul(Get(s2,0,0), float4x4(-0.004116874188185,0.002421486424282,-0.003147095907480,0.004632991272956,-0.148677274584770,0.061057135462761,-0.034913510084152,-0.026420487090945,0.079198338091373,-0.032868690788746,0.041779998689890,-0.027559198439121,-0.153532281517982,0.103818587958813,-0.024629682302475,-0.053835779428482));
res += mul(Get(s2,0,dy), float4x4(-0.002891431096941,-0.024806736037135,-0.019072236493230,-0.030615543946624,0.109467417001724,0.019653096795082,0.023986684158444,-0.110175564885139,-0.021358009427786,0.039697237312794,0.022597417235374,0.031559761613607,-0.111303709447384,0.032123204320669,-0.045557957142591,-0.106536783277988));
res += mul(Get(s2,dx,-dy), float4x4(-0.036513909697533,0.063106335699558,0.030768094584346,-0.008908833377063,-0.070674225687981,-0.037363100796938,-0.093570895493031,0.123105108737946,0.039408139884472,-0.036244563758373,-0.072242945432663,0.001642833114602,-0.092366352677345,0.025197384878993,-0.119804814457893,0.150861650705338));
res += mul(Get(s2,dx,0), float4x4(0.018408047035336,0.112730532884598,0.002565715927631,0.005171088501811,-0.072194524109364,-0.009563863277435,-0.067337088286877,0.057860910892487,0.016416639089584,-0.002323000459000,0.022220470011234,-0.003164652269334,-0.138119786977768,0.060798302292824,-0.018491603434086,0.003515283111483));
res += mul(Get(s2,dx,dy), float4x4(0.010691767558455,0.047480061650276,0.008263750001788,-0.044157348573208,0.136016085743904,0.000452971260529,0.014317905530334,-0.027099190279841,-0.041147623211145,0.012443528510630,0.039863355457783,0.024737449362874,0.020865423604846,0.097196087241173,0.022324647754431,-0.107297457754612));
res += mul(Get(s3,-dx,-dy), float4x4(-0.027522914111614,0.085805259644985,-0.029999285936356,0.122536510229111,-0.018866999074817,0.023428771644831,0.097627997398376,0.033006247133017,-0.056228715926409,0.099986910820007,-0.046619199216366,0.032524079084396,-0.059956319630146,0.070318311452866,0.028559738770127,-0.077821657061577));
res += mul(Get(s3,-dx,0), float4x4(-0.098099462687969,-0.142284423112869,-0.056895595043898,0.002510032150894,-0.056351132690907,0.026673950254917,0.014700004830956,-0.017367722466588,-0.069991849362850,0.160457715392113,-0.021914124488831,0.002108427695930,0.012005683034658,-0.000458871392766,0.045964490622282,-0.038444746285677));
res += mul(Get(s3,-dx,dy), float4x4(-0.091358974575996,-0.036002203822136,-0.065246939659119,-0.009178034029901,-0.039731062948704,0.035069178789854,-0.038794245570898,-0.033887740224600,0.031624231487513,0.062516175210476,-0.025362618267536,-0.002347253728658,-0.002891981508583,0.033137969672680,0.037444598972797,-0.035548303276300));
res += mul(Get(s3,0,-dy), float4x4(-0.032532241195440,-0.016453173011541,0.092873856425285,0.020614404231310,-0.025599183514714,-0.052658993750811,0.071567930281162,0.062458422034979,-0.075560204684734,-0.031115412712097,-0.012051639147103,0.017333539202809,0.001153309596702,0.006045256275684,-0.000306952686515,0.029855769127607));
res += mul(Get(s3,0,0), float4x4(-0.045649670064449,-0.002357563469559,0.077009305357933,-0.009807781316340,-0.046358324587345,-0.010040581226349,-0.049845606088638,0.047044560313225,-0.026493577286601,0.052656691521406,0.004237633664161,-0.072858221828938,0.032237228006124,-0.053765464574099,-0.018603280186653,-0.020856853574514));
res += mul(Get(s3,0,dy), float4x4(-0.039001319557428,-0.035308998078108,-0.049506425857544,-0.015128925442696,-0.046449597924948,0.025117328390479,-0.035713717341423,-0.067551709711552,0.138054519891739,0.006664489395916,0.053425643593073,-0.033112946897745,-0.000981990830041,-0.001567009137943,0.016991626471281,0.052868288010359));
res += mul(Get(s3,dx,-dy), float4x4(-0.051346126943827,-0.057132396847010,-0.102503597736359,0.006210974883288,-0.010690754279494,-0.068206347525120,-0.027640677988529,0.044951982796192,0.016314283013344,-0.045402668416500,-0.004963616374880,0.143159002065659,0.107850417494774,-0.018288372084498,-0.028043732047081,0.056529860943556));
res += mul(Get(s3,dx,0), float4x4(-0.042793810367584,-0.003680954221636,-0.095570236444473,0.024024613201618,-0.067220017313957,0.039752554148436,-0.051982402801514,0.050313640385866,0.136129423975945,-0.079427205026150,0.040613785386086,0.161200642585754,0.051949132233858,-0.020389728248119,-0.032204277813435,0.001749878050759));
res += mul(Get(s3,dx,dy), float4x4(-0.024682816118002,-0.018742021173239,-0.082200191915035,-0.061789285391569,-0.120619364082813,0.019952319562435,0.008137757889926,-0.039848316460848,0.065381787717342,-0.122456423938274,-0.019315766170621,0.064440935850143,0.016926584765315,0.068440616130829,-0.017668653279543,0.052261110395193));
return max(float4(0,0,0,0), res);
}
