sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.015038504265249,-0.002591114491224,0.013029112480581,-0.018431087955832,-0.058590680360794,-0.059006635099649,-0.110721513628960,-0.020324436947703,-0.093791119754314,-0.063332930207253,-0.028528057038784,-0.015807112678885,-0.015508866868913,0.002588882576674,0.007509720511734,-0.021053593605757));
res += mul(Get(s0,-dx,0), float4x4(-0.023809740319848,-0.006630503572524,0.102718248963356,-0.016897726804018,-0.069073989987373,0.002097514225170,-0.009864457882941,-0.020840916782618,-0.035736974328756,-0.031451348215342,-0.060513816773891,-0.051643036305904,0.018613871186972,-0.008264945819974,0.014451702125371,0.003347031306475));
res += mul(Get(s0,-dx,dy), float4x4(-0.058019090443850,-0.102441847324371,-0.029644088819623,0.044642463326454,-0.035323917865753,0.004443179350346,-0.017201831564307,0.074196361005306,-0.071143053472042,-0.010796865448356,-0.039247646927834,0.018490657210350,0.050145879387856,-0.005790430121124,-0.019648656249046,-0.050838112831116));
res += mul(Get(s0,0,-dy), float4x4(0.008104159496725,-0.024640521034598,-0.003453497309238,0.008544373326004,-0.004745038691908,-0.011085906997323,-0.059431314468384,-0.051636893302202,0.006365496199578,-0.087307512760162,-0.050326038151979,-0.012151104398072,-0.025157900527120,0.065669476985931,0.072021797299385,0.004842880181968));
res += mul(Get(s0,0,0), float4x4(-0.008645828813314,-0.014564230106771,0.044063217937946,-0.015899945050478,-0.067866005003452,0.043592385947704,-0.020345306023955,-0.062091633677483,-0.072322182357311,0.084264323115349,0.011273003183305,-0.007831719703972,-0.029660109430552,0.076529525220394,0.154620349407196,0.024990575388074));
res += mul(Get(s0,0,dy), float4x4(-0.107623331248760,0.027124853804708,-0.025523032993078,0.005650199949741,-0.099396392703056,0.060787055641413,0.032196093350649,0.028919409960508,-0.080934874713421,-0.029283294454217,-0.027621472254395,0.018666027113795,0.032429859042168,-0.007664063945413,0.113092489540577,0.103232488036156));
res += mul(Get(s0,dx,-dy), float4x4(0.022004995495081,-0.137759208679199,0.003380271140486,0.068690359592438,-0.032639950513840,-0.006730001885444,-0.088367871940136,-0.048332408070564,0.035319730639458,0.024469748139381,-0.033059827983379,-0.006324632558972,0.024120306596160,0.061435885727406,-0.057530999183655,0.041110340505838));
res += mul(Get(s0,dx,0), float4x4(0.071906045079231,-0.208274245262146,-0.029950538650155,0.037119977176189,-0.002983520738780,0.056415803730488,-0.025985145941377,-0.035842601209879,-0.025583589449525,0.097970955073833,-0.095218010246754,-0.009150923229754,0.032553169876337,0.100238204002380,0.058195829391479,-0.030484819784760));
res += mul(Get(s0,dx,dy), float4x4(-0.006023868918419,-0.024539062753320,-0.051535036414862,-0.027267495170236,-0.108659841120243,0.043263193219900,0.021985406056046,-0.023274661973119,-0.110935568809509,-0.016505066305399,-0.107228979468346,0.034660391509533,0.020633522421122,0.056806296110153,0.094283446669579,0.067691549658775));
res += mul(Get(s1,-dx,-dy), float4x4(-0.050181124359369,-0.002385665662587,-0.026135178282857,-0.024749357253313,0.044221993535757,0.004037527367473,-0.014547220431268,0.020718470215797,0.043254069983959,-0.001810934743844,0.122443489730358,-0.005224112421274,0.079444192349911,0.051986608654261,-0.010633496567607,-0.012937006540596));
res += mul(Get(s1,-dx,0), float4x4(0.039696697145700,-0.009340201504529,-0.007283497136086,0.043937738984823,0.082593061029911,0.059508856385946,-0.002907431684434,-0.009454742074013,0.041353963315487,0.028289731591940,0.121274188160896,-0.020692702382803,0.048848431557417,-0.012289121747017,0.008687918074429,0.036033563315868));
res += mul(Get(s1,-dx,dy), float4x4(-0.015785604715347,0.045457944273949,0.042356543242931,0.037281490862370,0.082598559558392,0.033987086266279,-0.092432379722595,-0.033835701644421,0.004494147375226,-0.001788732246496,0.018182020634413,0.009746504947543,0.083822399377823,0.006512563675642,0.005973621271551,0.085649110376835));
res += mul(Get(s1,0,-dy), float4x4(-0.038184270262718,0.079179219901562,0.025146696716547,-0.031676709651947,-0.031864095479250,-0.100486718118191,0.018997957929969,0.053042951971292,0.040659625083208,-0.110360227525234,-0.010465226136148,0.048148162662983,0.033371269702911,0.130747348070145,-0.001827101805247,0.024963803589344));
res += mul(Get(s1,0,0), float4x4(-0.011833743192255,0.070354744791985,0.086865730583668,0.029112676158547,-0.015577924437821,-0.052698310464621,0.031367745250463,-0.051683932542801,0.004639469552785,-0.030447732657194,0.077046394348145,0.001175231882371,0.034687343984842,0.077601097524166,-0.006487224716693,0.065805152058601));
res += mul(Get(s1,0,dy), float4x4(-0.025341669097543,-0.007352164015174,0.034819651395082,0.005985704250634,0.156231418251991,0.018569990992546,-0.018438737839460,-0.056954275816679,-0.006552847102284,-0.035404320806265,0.062274064868689,-0.005330607295036,-0.010278997011483,0.012638925574720,-0.001195674529299,0.043735388666391));
res += mul(Get(s1,dx,-dy), float4x4(0.015458946116269,0.035247460007668,-0.064735844731331,-0.037068422883749,0.008136852644384,-0.088211938738823,-0.022418856620789,0.026611335575581,0.076916024088860,-0.086442902684212,-0.084279060363770,0.089540839195251,-0.003649433609098,0.116618774831295,-0.004960467107594,0.036863259971142));
res += mul(Get(s1,dx,0), float4x4(-0.005698178894818,0.025226114317775,-0.010078832507133,-0.003017175942659,0.002961671212688,-0.044890247285366,-0.055225681513548,0.044790722429752,0.060395479202271,-0.095351576805115,-0.065854117274284,0.021426260471344,-0.020445641130209,0.084789507091045,-0.011709062382579,0.036574963480234));
res += mul(Get(s1,dx,dy), float4x4(-0.027193475514650,0.035362016409636,-0.017157098278403,-0.016973542049527,0.024968342855573,0.064630441367626,-0.096361473202705,0.004457180388272,-0.046208940446377,-0.036350000649691,0.002272606128827,-0.019747056066990,0.014734597876668,0.027099248021841,-0.004857424180955,0.027855148538947));
res += mul(Get(s2,-dx,-dy), float4x4(0.000057746292441,0.009804636240005,-0.045702341943979,0.004279972985387,-0.065911397337914,0.047631442546844,-0.029447736218572,-0.002479003509507,0.036691572517157,-0.015751445665956,-0.006017719395459,0.039761118590832,-0.001569452928379,-0.013104530051351,0.008176285773516,0.087144456803799));
res += mul(Get(s2,-dx,0), float4x4(-0.031505033373833,-0.036774963140488,-0.122654050588608,-0.061524998396635,-0.059827279299498,0.134280174970627,0.010843195952475,-0.004583586473018,0.025630861520767,-0.007789798546582,-0.100340619683266,0.034567449241877,0.042941961437464,-0.028430398553610,-0.052338387817144,0.051783297210932));
res += mul(Get(s2,-dx,dy), float4x4(-0.088283233344555,0.012860189191997,-0.078796304762363,0.020086847245693,-0.029111852869391,0.018758492544293,0.024610634893179,0.011745532974601,-0.067970417439938,-0.009603334590793,-0.048134416341782,0.005714488681406,-0.068797558546066,-0.101628251373768,-0.019806459546089,-0.024111412465572));
res += mul(Get(s2,0,-dy), float4x4(0.022741252556443,-0.067970447242260,0.028695834800601,0.000657696451526,-0.048104386776686,-0.085264086723328,-0.059724591672421,-0.017414500936866,0.056573212146759,0.057657636702061,-0.016817152500153,0.039981409907341,-0.001202750834636,0.041795197874308,0.060887835919857,0.078790575265884));
res += mul(Get(s2,0,0), float4x4(0.015064513310790,-0.124785579741001,-0.003675330895931,-0.037845943123102,0.006235914770514,0.016572328284383,-0.032652251422405,-0.041991725564003,-0.013551590964198,0.104605831205845,-0.058581549674273,-0.009493697434664,0.051905870437622,0.048035424202681,0.020493481308222,0.003658813890070));
res += mul(Get(s2,0,dy), float4x4(-0.067864343523979,-0.109110325574875,-0.115143075585365,0.003898863913491,-0.041332516819239,-0.001762393396348,-0.010742386803031,-0.010271164588630,0.158156871795654,-0.037369232624769,-0.092366293072701,0.020797196775675,-0.002447900827974,-0.042025458067656,0.036255702376366,-0.090388141572475));
res += mul(Get(s2,dx,-dy), float4x4(0.058261387050152,-0.035879421979189,-0.047606486827135,-0.016868561506271,-0.015648549422622,-0.090944446623325,0.039010621607304,-0.019911307841539,-0.026164172217250,0.047553800046444,0.026029147207737,0.011068943887949,0.029934063553810,0.098473668098450,0.017210725694895,0.036379728466272));
res += mul(Get(s2,dx,0), float4x4(0.115582302212715,0.033788703382015,0.087803423404694,-0.027136350050569,0.004699297249317,-0.088491149246693,-0.027591414749622,-0.042590331286192,-0.073274277150631,0.107740119099617,-0.049661014229059,0.038587804883718,0.035722222179174,0.045775137841702,-0.017187589779496,-0.009797568432987));
res += mul(Get(s2,dx,dy), float4x4(0.066182248294353,-0.083849966526031,-0.104698419570923,-0.018544586375356,0.010174475610256,-0.025269920006394,-0.024484196677804,-0.037743933498859,-0.035258211195469,0.009868376888335,-0.104577213525772,0.048997357487679,-0.040311872959137,0.030133659020066,0.002181203570217,-0.074606060981750));
res += mul(Get(s3,-dx,-dy), float4x4(-0.005622223019600,-0.044831547886133,-0.005567952524871,0.020249631255865,0.005461710039526,-0.025905000045896,0.011938923969865,0.036188591271639,-0.002836492611095,0.041425291448832,0.065287560224533,-0.008695841766894,-0.009051178582013,0.017266478389502,0.025500543415546,-0.052058998495340));
res += mul(Get(s3,-dx,0), float4x4(0.018571434542537,0.070051796734333,-0.008802156895399,0.001185304368846,0.028957657516003,0.028802949935198,-0.006030792370439,-0.007199537009001,-0.009044150821865,0.131267935037613,0.071733675897121,-0.000945599982515,0.057150658220053,-0.043211665004492,-0.048925954848528,-0.051231358200312));
res += mul(Get(s3,-dx,dy), float4x4(-0.007814264856279,0.047427933663130,0.016652148216963,-0.105679370462894,0.011404732242227,0.095905177295208,0.018940350040793,-0.007492150180042,-0.025822911411524,0.042307820171118,0.029974441975355,0.027908643707633,0.058216098695993,-0.011145513504744,-0.046363960951567,-0.013915574178100));
res += mul(Get(s3,0,-dy), float4x4(-0.051995050162077,-0.007225596811622,0.009111822582781,0.069661460816860,-0.041265085339546,0.005438626743853,0.018316436558962,0.007917178794742,0.031653720885515,0.043359663337469,0.030113941058517,-0.001957278000191,0.014801242388785,0.120125979185104,0.119976557791233,-0.043209277093410));
res += mul(Get(s3,0,0), float4x4(-0.056780442595482,0.131331354379654,-0.011237055063248,-0.029635343700647,-0.021981518715620,-0.008861737325788,0.043202057480812,0.018508480861783,0.002498643472791,0.055384628474712,0.057873915880919,0.019757928326726,0.020791530609131,-0.042133964598179,-0.033105522394180,-0.065330915153027));
res += mul(Get(s3,0,dy), float4x4(0.139005973935127,-0.000010658550309,-0.030720738694072,-0.109895974397659,0.008721869438887,0.117822051048279,0.017980717122555,0.001160087063909,-0.025238001719117,0.011409140191972,0.039948638528585,-0.013758113607764,0.028644794598222,0.037528682500124,-0.062545746564865,-0.048803508281708));
res += mul(Get(s3,dx,-dy), float4x4(-0.034656871110201,0.001959933666512,-0.013528746552765,0.055759012699127,0.007095986977220,-0.027508666738868,0.038898389786482,-0.040883429348469,-0.017773069441319,0.020468795672059,0.023392848670483,0.005903310142457,-0.004370745271444,0.105110794305801,0.006207598373294,-0.052667710930109));
res += mul(Get(s3,dx,0), float4x4(-0.019743297249079,0.063873387873173,-0.000739283044823,-0.011495550163090,0.045185830444098,-0.027646152302623,0.039822429418564,-0.002550774253905,-0.027738392353058,0.042395841330290,-0.005408184602857,0.031622830778360,-0.005610803607851,-0.005532025825232,-0.025495465844870,-0.028785731643438));
res += mul(Get(s3,dx,dy), float4x4(0.030237283557653,0.020263629034162,-0.029802894219756,-0.081294909119606,-0.026852058246732,0.013736587017775,-0.013649308122694,0.008391106501222,-0.072372443974018,-0.007310018409044,0.046700846403837,0.029044805094600,0.000907897308934,0.023096928372979,-0.034647330641747,-0.036803420633078));
return max(float4(0,0,0,0), res);
}
