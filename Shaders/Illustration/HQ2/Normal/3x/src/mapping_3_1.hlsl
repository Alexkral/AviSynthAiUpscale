sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.026532433927059,-0.075267501175404,-0.015305062755942,0.013097774237394,-0.038001108914614,-0.049360364675522,-0.039079882204533,-0.029762452468276,-0.047940578311682,-0.033016923815012,-0.013214370235801,0.035665187984705,-0.049636315554380,-0.026406722143292,0.002574826590717,-0.093751668930054));
res += mul(Get(s0,-dx,0), float4x4(0.001854694331996,-0.031187757849693,0.026700703427196,0.003509608563036,-0.039610262960196,-0.068180084228516,-0.005009053274989,-0.034217793494463,-0.100630864500999,0.096824944019318,0.088751576840878,0.155293181538582,-0.082142196595669,-0.071849435567856,0.032955866307020,-0.018194464966655));
res += mul(Get(s0,-dx,dy), float4x4(-0.030553277581930,-0.035903517156839,-0.020306546241045,-0.001755798701197,-0.028860723599792,0.048626225441694,0.006518824491650,-0.046625871211290,0.123070769011974,0.190972223877907,0.094784036278725,-0.053509753197432,-0.012612516991794,0.018561925739050,-0.041475892066956,0.027867896482348));
res += mul(Get(s0,0,-dy), float4x4(-0.024817544966936,-0.049509808421135,-0.074704565107822,-0.001435037003830,-0.024417124688625,-0.041609000414610,-0.052560552954674,-0.007662386633456,0.077729508280754,-0.020451806485653,-0.027542173862457,0.099684879183769,-0.015781335532665,0.044215004891157,0.027219358831644,-0.019779447466135));
res += mul(Get(s0,0,0), float4x4(-0.003565131453797,-0.018250092864037,0.020089516416192,0.021710375323892,-0.035704068839550,-0.056051902472973,-0.015848496928811,0.001270057051443,0.018261503428221,0.048791617155075,-0.176127240061760,-0.325926363468170,0.016300350427628,-0.047081317752600,0.128276214003563,0.029305884614587));
res += mul(Get(s0,0,dy), float4x4(-0.038062736392021,-0.033720470964909,0.019747210666537,0.051662381738424,-0.056703180074692,0.052227169275284,0.034444358199835,-0.068878419697285,-0.025472816079855,-0.014456403441727,0.057938348501921,0.117477342486382,0.031814575195313,0.011559383012354,0.040431022644043,0.000683669524733));
res += mul(Get(s0,dx,-dy), float4x4(-0.031009221449494,-0.030037844553590,-0.056104894727468,0.050653316080570,0.036300498992205,-0.026714188978076,-0.023905061185360,-0.031562294811010,0.040382158011198,-0.008620705455542,0.032163765281439,-0.026174206286669,0.031910281628370,-0.020067507401109,0.032864592969418,-0.019247934222221));
res += mul(Get(s0,dx,0), float4x4(-0.047908358275890,-0.001960763940588,0.020020343363285,0.022180149331689,0.040342878550291,0.008499194867909,-0.024293493479490,-0.057973589748144,0.114259675145149,-0.172133848071098,0.199848055839539,0.227157801389694,0.029593927785754,-0.034772075712681,0.039178032428026,-0.005773667711765));
res += mul(Get(s0,dx,dy), float4x4(-0.023452509194613,0.004162120167166,0.017582429572940,0.028712200000882,-0.014358799904585,0.084833703935146,0.015785472467542,-0.038890995085239,-0.001347821205854,0.036552783101797,-0.053424224257469,0.027377488091588,-0.086525380611420,-0.007105488795787,-0.048997942358255,0.046197969466448));
res += mul(Get(s1,-dx,-dy), float4x4(-0.064798146486282,-0.015675935894251,-0.067039825022221,-0.051220074295998,0.091254279017448,0.004140380769968,-0.019228331744671,-0.108751490712166,-0.010667676106095,-0.007140753790736,0.059631846845150,0.054667018353939,0.043823443353176,0.011877131648362,-0.031682502478361,0.019967444241047));
res += mul(Get(s1,-dx,0), float4x4(-0.069211304187775,-0.056576654314995,0.011745830066502,-0.046005323529243,0.076039478182793,0.025997335091233,0.002032543299720,-0.099642679095268,0.117150790989399,0.009859148412943,0.028830161318183,0.014265994541347,0.025701085105538,0.007277729455382,0.024209121242166,-0.005584035534412));
res += mul(Get(s1,-dx,dy), float4x4(-0.029477460309863,-0.041812039911747,0.000344861939084,-0.026940077543259,0.019703075289726,-0.021152479574084,0.040248457342386,-0.053295619785786,-0.058091621845961,-0.022781142964959,0.052360288798809,0.055010963231325,0.084034822881222,-0.046694189310074,-0.070604301989079,0.000170699728187));
res += mul(Get(s1,0,-dy), float4x4(0.086990267038345,-0.034607306122780,-0.019349699839950,0.077294394373894,0.027008192613721,-0.054587878286839,0.030302518978715,0.003594545181841,-0.026004731655121,0.018016954883933,-0.016012290492654,-0.044111855328083,0.000180297545739,0.006535838358104,0.010572512634099,-0.040203828364611));
res += mul(Get(s1,0,0), float4x4(0.114135690033436,-0.083063796162605,0.052997011691332,0.057348232716322,0.093460880219936,-0.035081453621387,0.003598937764764,0.003910394385457,0.124752119183540,-0.133015900850296,0.034699115902185,0.039879694581032,-0.043060950934887,-0.069748550653458,0.041445802897215,0.001898702117614));
res += mul(Get(s1,0,dy), float4x4(0.091188989579678,-0.048508718609810,-0.019138475880027,0.023052595555782,0.024238452315331,-0.043061181902885,-0.030458867549896,-0.044811278581619,-0.028050014749169,-0.052313446998596,-0.092357173562050,0.017311789095402,0.023397825658321,-0.018869923427701,-0.008461210876703,0.029924565926194));
res += mul(Get(s1,dx,-dy), float4x4(0.047747444361448,-0.055442530661821,-0.008568081073463,-0.014894861727953,-0.010384767316282,0.031688109040260,-0.018787361681461,-0.010331571102142,-0.071773827075958,0.039067335426807,-0.008767391555011,0.026661148294806,0.091992214322090,-0.014468904584646,0.032000016421080,0.024474365636706));
res += mul(Get(s1,dx,0), float4x4(0.039654303342104,-0.057437524199486,-0.006570044439286,-0.019709967076778,0.018981005996466,0.055794894695282,-0.063273757696152,0.015299372375011,0.076008275151253,-0.056362226605415,0.014996923506260,0.063973248004913,0.125318974256516,-0.028083197772503,0.009334499947727,0.026665026322007));
res += mul(Get(s1,dx,dy), float4x4(0.048408020287752,-0.023488456383348,-0.040357626974583,0.070416420698166,0.036454997956753,0.033837340772152,-0.066670596599579,-0.015521627850831,0.046057362109423,-0.050158239901066,-0.094030931591988,0.103297777473927,0.038514215499163,-0.018366431817412,-0.065676808357239,-0.019567346200347));
res += mul(Get(s2,-dx,-dy), float4x4(-0.048637636005878,0.000964484759606,0.040747527033091,-0.026047471910715,-0.038263306021690,0.059248853474855,-0.010783070698380,-0.012859094887972,-0.006038712337613,0.015932008624077,0.115030586719513,0.019053552299738,-0.172694325447083,0.095021277666092,-0.068705521523952,-0.074361294507980));
res += mul(Get(s2,-dx,0), float4x4(0.102435119450092,-0.053596068173647,0.033475618809462,0.016381621360779,-0.013886894099414,-0.043152324855328,0.091809146106243,0.021630087867379,-0.061629526317120,0.057274527847767,0.043429918587208,0.001938543864526,-0.124133065342903,0.003704754402861,0.075005270540714,-0.017504058778286));
res += mul(Get(s2,-dx,dy), float4x4(0.092204555869102,-0.047011431306601,-0.054411921650171,0.002302325330675,-0.118992522358894,0.006659939419478,0.008864665403962,-0.080272689461708,-0.095500901341438,0.025302529335022,-0.031717386096716,-0.013529925607145,-0.125714212656021,0.062188420444727,0.018115872517228,0.047388434410095));
res += mul(Get(s2,0,-dy), float4x4(-0.030394369736314,0.104350537061691,0.022971900179982,-0.000778917747084,0.029443411156535,-0.004625095985830,0.005312758963555,-0.014361328445375,-0.044540639966726,0.012005686759949,0.099274002015591,0.055135190486908,0.044287543743849,-0.085634186863899,-0.045420207083225,0.001980951754376));
res += mul(Get(s2,0,0), float4x4(-0.031329821795225,0.035230346024036,0.008199715986848,0.020351180806756,0.109390802681446,-0.078399769961834,0.142690032720566,0.062778644263744,0.014061406254768,0.037266995757818,0.050159901380539,0.010781919583678,0.052712995558977,-0.142317354679108,0.035668671131134,0.058195956051350));
res += mul(Get(s2,0,dy), float4x4(0.062434464693069,-0.023641020059586,0.000713460205588,0.016731772571802,-0.011172795668244,0.115296132862568,-0.065443985164165,0.018562996760011,-0.011266422457993,-0.014950376935303,-0.009852168150246,0.037597276270390,-0.052902590483427,0.037010811269283,-0.169385612010956,-0.073512278497219));
res += mul(Get(s2,dx,-dy), float4x4(0.020405147224665,0.118486493825912,0.061273034662008,0.009875320829451,-0.090032465755939,0.059401344507933,-0.099974766373634,-0.028180936351418,-0.037567887455225,0.021855916827917,0.041039880365133,0.016770415008068,0.050271913409233,0.039427269250154,-0.045163601636887,0.025441581383348));
res += mul(Get(s2,dx,0), float4x4(-0.036636523902416,0.108890727162361,0.011291667819023,0.076808512210846,-0.106554478406906,0.038506202399731,-0.033744312822819,0.035405427217484,-0.010708319023252,-0.005515870638192,0.026889087632298,-0.031073253601789,0.095042712986469,-0.114688955247402,0.046008236706257,0.100955553352833));
res += mul(Get(s2,dx,dy), float4x4(0.024774674326181,0.042383760213852,-0.006848220713437,0.065125085413456,-0.102254167199135,0.131694614887238,-0.174146324396133,-0.048010729253292,-0.002176475012675,0.010891098529100,-0.004895599093288,-0.030960241332650,0.004352666903287,-0.014258306473494,-0.061796259135008,0.114395208656788));
res += mul(Get(s3,-dx,-dy), float4x4(0.049659617245197,0.034740578383207,0.004847650881857,0.019896786659956,-0.123783752322197,-0.010090397670865,-0.000296807702398,0.027162767946720,0.059107430279255,-0.001259443699382,-0.014320007525384,0.008083271794021,-0.005347467958927,-0.098043501377106,0.080494478344917,-0.043227877467871));
res += mul(Get(s3,-dx,0), float4x4(0.033199422061443,0.123813502490520,0.094898797571659,-0.034102831035852,-0.139106079936028,0.000601356616244,0.006761429831386,0.022882681339979,0.015953624621034,0.028874890878797,0.002308018039912,-0.058551125228405,-0.027596410363913,0.026651721447706,0.042950388044119,-0.041237752884626));
res += mul(Get(s3,-dx,dy), float4x4(-0.017889879643917,0.062711834907532,0.099406458437443,-0.124266751110554,-0.038374666124582,0.017890604212880,0.051034428179264,-0.020398136228323,-0.044527746737003,0.076532334089279,0.044769398868084,0.033272922039032,0.060775883495808,-0.027982689440250,0.034445304423571,-0.028108643367887));
res += mul(Get(s3,0,-dy), float4x4(0.067090876400471,-0.010069253854454,0.060877718031406,-0.049017820507288,-0.008788225241005,0.040019214153290,-0.067841544747353,0.002274384954944,-0.013847250491381,-0.068172350525856,0.045342441648245,0.034255158156157,-0.001620876253583,-0.088337488472462,0.062567755579948,0.089543603360653));
res += mul(Get(s3,0,0), float4x4(0.225264713168144,-0.098281912505627,0.004725292325020,-0.013586808927357,-0.077645905315876,0.030654458329082,-0.056593421846628,-0.035570170730352,-0.045215018093586,-0.044917479157448,0.090792454779148,0.060549825429916,-0.012971539050341,0.033048663288355,0.011137919500470,-0.057052105665207));
res += mul(Get(s3,0,dy), float4x4(0.117212802171707,-0.105996899306774,-0.006965846754611,0.045188970863819,-0.084065198898315,0.010375949554145,-0.043588653206825,0.015769414603710,-0.048132687807083,0.143131852149963,0.026405777782202,-0.088597558438778,0.033320572227240,-0.002489970298484,-0.029348913580179,0.008323252201080));
res += mul(Get(s3,dx,-dy), float4x4(-0.013574646785855,-0.085806056857109,-0.076819010078907,-0.106995150446892,0.011892745271325,0.037010919302702,-0.039771560579538,-0.050544600933790,-0.079400524497032,0.060147736221552,-0.078178331255913,-0.069881133735180,0.005423476919532,-0.004705839324743,0.054745808243752,-0.011278193444014));
res += mul(Get(s3,dx,0), float4x4(0.081280671060085,-0.087284758687019,-0.064331687986851,0.020792966708541,-0.072346359491348,0.019942738115788,-0.000379806151614,0.058397602289915,-0.077820844948292,0.013862051069736,-0.078923933207989,-0.032291010022163,-0.032880052924156,0.013217104598880,0.056840438395739,-0.005548216868192));
res += mul(Get(s3,dx,dy), float4x4(0.069052554666996,-0.051381200551987,-0.059293527156115,-0.038973391056061,-0.075756661593914,0.043370321393013,0.014898926019669,0.000377401127480,0.005081607960165,0.105022579431534,-0.005279172211885,0.028033679351211,-0.031662683933973,-0.006002890877426,0.028651257976890,0.014395604841411));
return max(float4(0,0,0,0), res);
}
