sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.142327219247818,0.045415677130222,0.051003094762564,0.020632052794099,0.046099491417408,0.058621391654015,-0.000892036186997,-0.013421496376395,-0.051055181771517,-0.040000360459089,-0.055817753076553,-0.007181462831795,0.026551458984613,0.000373559247237,-0.012442749924958,0.031213203445077));
res += mul(Get(s0,-dx,0), float4x4(-0.004549582488835,-0.012195810675621,0.068524718284607,-0.003687821794301,-0.016617789864540,0.076284453272820,-0.043291516602039,-0.002290474716574,-0.020160779356956,-0.056271888315678,0.011602638289332,-0.019036436453462,-0.024749640375376,0.003028528532013,0.039764348417521,0.029753765091300));
res += mul(Get(s0,-dx,dy), float4x4(0.036460340023041,-0.005572421476245,0.041848495602608,-0.017029652372003,0.037558957934380,0.063584268093109,-0.040650296956301,-0.015519043430686,-0.053484216332436,-0.056140031665564,-0.068583913147449,-0.012613721191883,-0.002068135188892,0.012532480061054,-0.000383444828913,0.002542318776250));
res += mul(Get(s0,0,-dy), float4x4(0.059622779488564,0.027088381350040,-0.065012082457542,0.050191670656204,0.088799975812435,-0.003601060481742,0.063753850758076,-0.007156646344811,-0.066965878009796,-0.027618888765574,0.001131026889198,0.002413452137262,0.005837692879140,0.040164150297642,0.013626493513584,0.011336862109601));
res += mul(Get(s0,0,0), float4x4(-0.084562018513680,-0.028736494481564,-0.088805615901947,0.016626855358481,0.034821253269911,-0.023512287065387,0.003496848512441,0.009397557005286,-0.029431352391839,0.020023478195071,0.076729491353035,-0.030576113611460,-0.022168448194861,0.054451499134302,-0.047881018370390,-0.006872063502669));
res += mul(Get(s0,0,dy), float4x4(0.056156486272812,-0.001077188877389,0.024856396019459,0.000447214290034,0.026057727634907,0.004893949721009,-0.096006594598293,-0.011282058432698,-0.058735337108374,-0.003681510919705,-0.018479315564036,-0.020028157159686,0.008186696097255,0.026320839300752,-0.055260933935642,-0.023093907162547));
res += mul(Get(s0,dx,-dy), float4x4(0.024484559893608,-0.054047495126724,-0.091835089027882,0.041403133422136,0.029851306229830,0.018013112246990,0.046387836337090,0.001273357309401,-0.030681757256389,-0.024776197969913,0.066308230161667,0.025600854307413,0.019821632653475,-0.001987568568438,-0.051351528614759,0.002294098492712));
res += mul(Get(s0,dx,0), float4x4(-0.021588731557131,-0.037515096366405,-0.069606482982635,0.000854966870975,0.023088051006198,-0.019742604345083,0.042281404137611,0.005097991786897,0.004053478594869,0.039602939039469,0.076850011944771,-0.006558688823134,-0.019536409527063,0.002792108105496,-0.091551013290882,-0.003601177828386));
res += mul(Get(s0,dx,dy), float4x4(0.059254631400108,0.000850166659802,0.046978194266558,-0.000878295861185,-0.038636922836304,-0.015480151399970,-0.023192422464490,-0.013818786479533,-0.012147279456258,0.055825233459473,-0.055398590862751,-0.002998344134539,0.006695400923491,-0.012205740436912,-0.004595192149282,0.007892892695963));
res += mul(Get(s1,-dx,-dy), float4x4(-0.014811246655881,0.024061493575573,0.015800660476089,0.018829939886928,0.014245267957449,0.013519285246730,0.130757197737694,0.079492151737213,-0.096103578805923,-0.034473009407520,-0.080286294221878,-0.006186188664287,-0.071214430034161,-0.071670010685921,-0.031347203999758,0.021333046257496));
res += mul(Get(s1,-dx,0), float4x4(-0.003079478163272,0.052711699157953,-0.094101883471012,0.003730861237273,0.007039760705084,0.054665900766850,0.045758474618196,0.009900555014610,-0.006115281954408,-0.013079138472676,-0.161273583769798,0.004990470129997,-0.006613883655518,0.002993213245645,-0.060467563569546,-0.008851923048496));
res += mul(Get(s1,-dx,dy), float4x4(0.003277422627434,0.033649794757366,-0.083869948983192,-0.009958956390619,0.002261005574837,0.042391892522573,0.089250527322292,-0.008222080767155,0.061777956783772,-0.062163487076759,-0.199431911110878,-0.033525694161654,0.020484095439315,-0.054045740514994,-0.070790089666843,-0.008509823121130));
res += mul(Get(s1,0,-dy), float4x4(-0.021730754524469,-0.026478599756956,0.010223939083517,0.007247249130160,-0.066297978162766,0.038055803626776,0.048559598624706,0.087317980825901,0.000163685093867,-0.029485685750842,0.007873135618865,0.013904872350395,0.006439513061196,-0.091314040124416,0.024705214425921,0.009751817211509));
res += mul(Get(s1,0,0), float4x4(-0.018954483792186,-0.027030861005187,-0.060398403555155,-0.004081847611815,-0.031321965157986,0.095617748796940,-0.035289496183395,-0.005074365064502,0.054979212582111,-0.025888856500387,0.024005344137549,0.013533242046833,0.006237371824682,-0.016453089192510,0.153144657611847,-0.001145199406892));
res += mul(Get(s1,0,dy), float4x4(0.015004745684564,-0.000567744544242,-0.041752140969038,-0.020324077457190,0.035478934645653,-0.024403244256973,0.194250494241714,0.010259792208672,0.047046355903149,-0.021295683458447,-0.171881005167961,-0.072080947458744,0.006734221708030,-0.073226928710938,-0.021838633343577,-0.023770544677973));
res += mul(Get(s1,dx,-dy), float4x4(0.007285370025784,-0.024505205452442,0.004240816924721,0.004133154172450,-0.021961493417621,-0.072046600282192,0.023134272545576,0.074891068041325,0.060593578964472,0.030703105032444,-0.013872603885829,0.004972538445145,0.069658048450947,-0.067326359450817,0.044647186994553,0.027047397568822));
res += mul(Get(s1,dx,0), float4x4(0.007588122971356,-0.007093529682606,0.011833162978292,-0.023042893037200,-0.035335980355740,-0.048547983169556,-0.007406205870211,0.025326365604997,0.081276312470436,0.079534970223904,0.012571024708450,-0.004149130079895,0.015607779845595,-0.036878135055304,0.133893638849258,0.002600585808977));
res += mul(Get(s1,dx,dy), float4x4(0.007524731568992,-0.011618586257100,0.029880639165640,-0.024345861747861,0.045952986925840,-0.071521013975143,0.108923815190792,0.015333662740886,0.013083803467453,0.042025789618492,-0.142836898565292,-0.077226936817169,0.007813752628863,-0.095252647995949,-0.034389961510897,-0.048963028937578));
res += mul(Get(s2,-dx,-dy), float4x4(-0.014011967927217,0.049349240958691,-0.045516349375248,0.013359803706408,-0.022685971111059,-0.018908878788352,0.024434177204967,-0.019339270889759,0.059510834515095,-0.031171917915344,0.084530271589756,-0.020356817170978,0.022421162575483,0.021833585575223,0.019383460283279,0.021760337054729));
res += mul(Get(s2,-dx,0), float4x4(0.016471497714520,0.091301314532757,-0.018777931109071,-0.007956624031067,0.027096806094050,-0.017300026491284,0.074605658650398,-0.023024681955576,-0.011524774134159,-0.020838376134634,-0.053400520235300,0.000097413634649,-0.022203959524632,-0.014753177762032,0.047844365239143,0.019329644739628));
res += mul(Get(s2,-dx,dy), float4x4(-0.028467463329434,0.049669794738293,0.078349813818932,0.014594144187868,-0.051119603216648,-0.020981831476092,0.110067039728165,-0.016090027987957,-0.003784180153161,0.007853971794248,-0.082147203385830,-0.017716474831104,0.023399805650115,-0.041124489158392,-0.091469287872314,-0.025789946317673));
res += mul(Get(s2,0,-dy), float4x4(0.016015820205212,0.032560512423515,-0.055733554065228,-0.008372819982469,-0.101067319512367,-0.008095774799585,0.005191022995859,-0.000008174320101,0.014807379804552,0.045915927737951,0.066974416375160,-0.015659302473068,0.026993019506335,0.026000566780567,0.014614650979638,0.027526671066880));
res += mul(Get(s2,0,0), float4x4(0.009993680752814,0.058094408363104,-0.054575670510530,-0.001739104394801,0.035584509372711,0.022240860387683,0.053579587489367,-0.008596164174378,0.007755469065160,0.001886209473014,0.044573493301868,-0.011905418708920,-0.056741297245026,0.009921273216605,0.123120933771133,0.034210644662380));
res += mul(Get(s2,0,dy), float4x4(0.001468815142289,0.054833155125380,0.061886411160231,0.016159579157829,-0.048033185303211,-0.002442714991048,0.060394551604986,-0.009224664419889,-0.026526173576713,-0.020086167380214,-0.070681087672710,-0.024351898580790,-0.009039441123605,-0.042577218264341,-0.079828500747681,-0.024934947490692));
res += mul(Get(s2,dx,-dy), float4x4(0.003277120646089,0.035685036331415,-0.045779727399349,-0.011172644793987,-0.090122774243355,0.027556167915463,0.004427721258253,-0.022759405896068,-0.034312814474106,-0.003437456674874,-0.020056903362274,0.004831579979509,0.039304494857788,-0.006684376392514,0.013485034927726,0.032467424869537));
res += mul(Get(s2,dx,0), float4x4(-0.010852021165192,0.030816251412034,-0.003941736184061,0.003691693767905,0.034488022327423,0.083486638963223,-0.037455782294273,-0.014135850593448,-0.032213848084211,0.062917798757553,-0.004046073649079,0.008983344770968,-0.031046275049448,0.003708478994668,0.089674971997738,0.032503519207239));
res += mul(Get(s2,dx,dy), float4x4(0.034460563212633,0.013404324650764,0.023030215874314,0.010071511380374,-0.002187082543969,0.033613592386246,-0.053303815424442,0.012307897210121,-0.073579825460911,0.035831652581692,-0.018129009753466,0.002730041043833,-0.035391468554735,-0.015131012536585,-0.029481891542673,-0.022017767652869));
res += mul(Get(s3,-dx,-dy), float4x4(-0.005425870418549,0.073169462382793,-0.112724982202053,0.003117099637166,-0.042557165026665,0.002573775593191,-0.022017102688551,0.018208561465144,0.000653053633869,0.009902792982757,0.033388700336218,0.007662980351597,0.001896242727526,-0.020196024328470,-0.053924188017845,-0.044414106756449));
res += mul(Get(s3,-dx,0), float4x4(0.029789471998811,0.023857070133090,0.032598383724689,-0.019707333296537,-0.039376489818096,0.030229080468416,-0.082076080143452,-0.000492414401378,-0.002326436340809,0.030187994241714,0.003808894427493,0.005395160987973,0.094284147024155,-0.018878299742937,-0.004602108150721,-0.013425866141915));
res += mul(Get(s3,-dx,dy), float4x4(0.058793928474188,-0.022344565019011,-0.015713784843683,-0.008133496157825,-0.013525796122849,0.032453138381243,0.099393278360367,0.011616637930274,-0.001490573864430,0.035814899951220,-0.014401862397790,-0.025942290201783,0.033840756863356,0.015580642968416,-0.020340908318758,-0.011940415017307));
res += mul(Get(s3,0,-dy), float4x4(0.010104103945196,0.139849811792374,-0.052694741636515,-0.001358914887533,0.012953132390976,-0.033903364092112,0.070184305310249,0.002405938226730,-0.015868837013841,0.001505444059148,0.081789188086987,0.002876502694562,-0.016024747863412,0.011055792681873,-0.119258806109428,-0.018658747896552));
res += mul(Get(s3,0,0), float4x4(0.075573213398457,0.135564729571342,0.130396321415901,-0.012441359460354,-0.031505096703768,-0.033111713826656,-0.033365886658430,0.002974769566208,-0.011316807940602,-0.011187534779310,0.012830344028771,-0.004871310666203,0.056114263832569,0.000120288925245,0.046362716704607,0.012917556799948));
res += mul(Get(s3,0,dy), float4x4(0.057209413498640,0.107974164187908,-0.008714982308447,-0.025802899152040,0.004151765722781,0.003145826980472,0.013747939839959,0.003355578519404,-0.019188949838281,-0.014720361679792,-0.066633135080338,-0.033610057085752,0.007513835094869,-0.021825945004821,0.093221656978130,-0.009514310397208));
res += mul(Get(s3,dx,-dy), float4x4(0.007394922897220,0.041077498346567,-0.053843956440687,-0.035350318998098,0.034177638590336,-0.001007200567983,0.050581548362970,0.020140105858445,-0.005609731655568,0.003136776620522,0.061408746987581,-0.006734611000866,-0.010538744740188,0.068503282964230,-0.089158311486244,-0.013752855360508));
res += mul(Get(s3,dx,0), float4x4(0.057737708091736,0.082308612763882,-0.037941157817841,-0.015189936384559,-0.016672074794769,-0.028120398521423,0.049840755760670,0.019547494128346,-0.032062206417322,-0.010123044252396,0.042892381548882,-0.003936537075788,0.051909383386374,0.040783263742924,-0.024502133950591,-0.026937380433083));
res += mul(Get(s3,dx,dy), float4x4(0.088479958474636,0.051051154732704,-0.101510465145111,-0.019456306472421,0.008463389240205,-0.022959886118770,0.008253586478531,0.000078597469837,-0.027519708499312,-0.027889991179109,-0.034938964992762,-0.023281691595912,0.063326418399811,0.009867444634438,0.088109202682972,-0.048866972327232));
return max(float4(0,0,0,0), res);
}
