sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.036231745034456,0.007904149591923,-0.124896898865700,-0.050980608910322,0.003447451861575,-0.028703125193715,0.004723205231130,-0.064925745129585,0.006920257583261,-0.007867188192904,0.013244937174022,0.025118153542280,0.014478527009487,0.007935240864754,-0.033522646874189,-0.112202592194080));
res += mul(Get(s0,-dx,0), float4x4(0.046223782002926,0.055625434964895,-0.038331951946020,0.020396795123816,0.030371226370335,-0.056361023336649,-0.007145000156015,-0.025028994306922,0.018433349207044,0.065150752663612,0.086976379156113,0.027398502454162,-0.063467383384705,0.046358291059732,0.036259792745113,-0.028824191540480));
res += mul(Get(s0,-dx,dy), float4x4(0.026903996244073,0.015797518193722,0.051947891712189,0.030658408999443,-0.002178640337661,-0.108700767159462,0.007820221595466,-0.040674846619368,-0.003872783388942,-0.007092093583196,-0.001847347943112,0.014339081011713,-0.052395012229681,-0.041141208261251,-0.016390038654208,-0.010052585974336));
res += mul(Get(s0,0,-dy), float4x4(-0.001410256722011,0.028623035177588,-0.059867199510336,-0.026083417236805,0.006756198126823,-0.097318395972252,-0.005044545512646,-0.089476071298122,0.056921876966953,-0.008994004689157,-0.030215894803405,0.031010769307613,0.031338814646006,-0.058441091328859,-0.089566223323345,0.065134957432747));
res += mul(Get(s0,0,0), float4x4(-0.013026826083660,0.189653411507607,0.086114265024662,0.052041713148355,0.074705675244331,-0.032511483877897,0.007061093114316,0.024487411603332,0.092332825064659,0.045338377356529,0.097949072718620,0.010451009497046,-0.028271464630961,0.073759496212006,0.048112586140633,0.099319905042648));
res += mul(Get(s0,0,dy), float4x4(-0.027645023539662,0.116028748452663,0.059317678213120,0.051261391490698,0.125374853610992,0.010577009990811,0.052673563361168,0.004253099206835,0.024412769824266,-0.036500826478004,-0.030178247019649,-0.006895719096065,-0.039385356009007,0.039313349872828,0.046363513916731,-0.003012514207512));
res += mul(Get(s0,dx,-dy), float4x4(-0.068169824779034,-0.104889266192913,-0.102849937975407,-0.131041154265404,-0.057535421103239,-0.038828264921904,0.031228167936206,-0.098396949470043,0.024205828085542,-0.039018534123898,-0.036207985132933,0.057641178369522,0.016052985563874,-0.047053638845682,-0.101594686508179,0.077675901353359));
res += mul(Get(s0,dx,0), float4x4(0.042135082185268,0.127946376800537,-0.002819663379341,-0.119618251919746,-0.006238887086511,0.008863675408065,-0.042649045586586,0.016284627839923,0.048845704644918,-0.022574970498681,0.030742445960641,-0.008902850560844,0.002411508467048,-0.031334642320871,0.034619316458702,0.052813038229942));
res += mul(Get(s0,dx,dy), float4x4(0.058411005884409,0.129388332366943,-0.008772507309914,0.054725605994463,0.077063538134098,0.051542069762945,0.017229957506061,-0.034061320126057,0.039164170622826,-0.011002507992089,-0.088320478796959,-0.027761830016971,0.015218059532344,0.027146207168698,0.040044959634542,-0.015425204299390));
res += mul(Get(s1,-dx,-dy), float4x4(-0.012372976168990,-0.004975183866918,-0.003349859500304,-0.054310366511345,-0.073070697486401,-0.066597402095795,-0.001636080443859,-0.105080381035805,-0.034858994185925,0.078100912272930,-0.009381474927068,-0.069903396070004,-0.035073835402727,-0.038567017763853,0.012655502185225,0.009354331530631));
res += mul(Get(s1,-dx,0), float4x4(0.032883949577808,-0.008963887579739,-0.029989713802934,-0.041499998420477,0.019092269241810,-0.022732513025403,-0.028051462024450,0.017279017716646,-0.032075062394142,0.026225503534079,0.006420102901757,-0.137201324105263,0.034997787326574,0.001950686681084,-0.022886376827955,0.153690889477730));
res += mul(Get(s1,-dx,dy), float4x4(0.062033243477345,-0.021838217973709,-0.007546872831881,0.010820589028299,-0.025092011317611,0.059385955333710,0.050914186984301,0.022424684837461,-0.081297971308231,0.004811785649508,0.044405955821276,-0.193668916821480,0.044974166899920,0.006126528605819,-0.014139613136649,-0.017328137531877));
res += mul(Get(s1,0,-dy), float4x4(-0.041131339967251,-0.009109485894442,-0.043955836445093,0.016453003510833,0.001578316441737,-0.050794474780560,-0.041009068489075,0.061339501291513,0.012438815087080,-0.021071562543511,-0.037274595350027,0.013765810057521,-0.027350794523954,-0.065656036138535,-0.071409657597542,0.014852429740131));
res += mul(Get(s1,0,0), float4x4(0.047690123319626,-0.042895168066025,-0.046539369970560,0.020405247807503,0.078462608158588,-0.063385687768459,-0.026935612782836,0.133884429931641,0.025618614628911,-0.028511349111795,0.016209932044148,0.031039007008076,0.049291905015707,-0.009063975885510,-0.068337142467499,0.168230667710304));
res += mul(Get(s1,0,dy), float4x4(0.128065839409828,0.124981828033924,0.166281685233116,-0.009042670018971,0.013914725743234,0.016408151015639,0.042350053787231,0.064286857843399,-0.014379781670868,-0.047613084316254,0.047628220170736,-0.096770569682121,0.048475649207830,0.026831131428480,0.022746445611119,0.050162572413683));
res += mul(Get(s1,dx,-dy), float4x4(-0.029053244739771,0.004947440698743,-0.105097018182278,0.112978689372540,-0.022205103188753,-0.038654994219542,-0.125959128141403,0.077379040420055,-0.046578232198954,-0.009385436773300,-0.068982094526291,-0.009262819774449,0.009336868301034,0.116872422397137,-0.107682995498180,-0.001471456722356));
res += mul(Get(s1,dx,0), float4x4(0.016674805432558,0.044707249850035,-0.033770337700844,0.133114248514175,-0.037819001823664,-0.054904412478209,-0.044935904443264,0.100321367383003,-0.039542261511087,-0.002200541319326,0.023928809911013,0.042979247868061,-0.021321700885892,0.127901464700699,-0.138907298445702,0.096691206097603));
res += mul(Get(s1,dx,dy), float4x4(0.105836637318134,0.093710049986839,0.103367798030376,-0.006519174668938,-0.084022410213947,0.006974322255701,-0.021026000380516,0.069450154900551,-0.024987481534481,-0.013632671907544,0.060758456587791,-0.041062112897635,-0.007889103144407,0.120625458657742,-0.063821949064732,0.031723383814096));
res += mul(Get(s2,-dx,-dy), float4x4(-0.037313245236874,-0.029568379744887,-0.007081427611411,-0.000748381076846,-0.095821656286716,-0.023392258211970,-0.011828114278615,-0.126518309116364,-0.028497181832790,-0.115409813821316,-0.062283098697662,-0.006416174117476,0.004044604487717,0.017114205285907,0.020276300609112,0.047656882554293));
res += mul(Get(s2,-dx,0), float4x4(-0.076336979866028,0.026445737108588,0.039732720702887,0.067945517599583,-0.011646938510239,-0.069965548813343,-0.025580918416381,-0.043442986905575,0.003481559222564,0.004011997487396,0.099948860704899,-0.045088309794664,-0.002314436016604,0.079747334122658,-0.016644865274429,0.011126262135804));
res += mul(Get(s2,-dx,dy), float4x4(0.013971482403576,0.008595382794738,-0.001128429663368,0.063254505395889,0.143739059567451,-0.002353006275371,-0.046695448458195,0.035231292247772,0.048769947141409,0.050136957317591,0.130497217178345,-0.099735595285892,-0.044696271419525,-0.001967826625332,-0.013229232281446,-0.007232366595417));
res += mul(Get(s2,0,-dy), float4x4(-0.030321566388011,0.025864209979773,-0.008672322146595,-0.113946758210659,-0.104673296213150,0.009571862407029,-0.064749509096146,-0.078833185136318,-0.071477591991425,-0.109140634536743,-0.033286083489656,0.042616918683052,-0.000299147039186,-0.006444237194955,0.033369928598404,0.048791836947203));
res += mul(Get(s2,0,0), float4x4(-0.145028129220009,0.057124875485897,0.020710045471787,-0.031445868313313,-0.073207020759583,-0.069284521043301,-0.040081419050694,-0.031534548848867,-0.004423037637025,-0.008052773773670,0.096897527575493,0.104437611997128,0.024729205295444,0.086876526474953,0.105133391916752,-0.060073796659708));
res += mul(Get(s2,0,dy), float4x4(-0.041078846901655,0.007526420056820,0.033924978226423,-0.015720050781965,0.094367727637291,-0.064168706536293,-0.080836318433285,0.015469336882234,0.117505177855492,-0.024890108034015,0.056838437914848,-0.033454693853855,-0.029249114915729,0.018991805613041,0.089583866298199,-0.005173687357455));
res += mul(Get(s2,dx,-dy), float4x4(0.087549768388271,-0.019850427284837,-0.114359125494957,-0.022823859006166,0.004820551257581,0.114162944257259,-0.078742042183876,0.010813733562827,-0.066686511039734,-0.057593766599894,-0.153642103075981,0.018209688365459,0.037917114794254,-0.065444432199001,-0.030709253624082,0.036237139254808));
res += mul(Get(s2,dx,0), float4x4(-0.029605273157358,0.063582591712475,-0.029891420155764,0.020310338586569,-0.063512720167637,0.100183814764023,-0.029383646324277,-0.040298711508512,-0.098655141890049,-0.028310839086771,-0.028386540710926,0.129429042339325,0.014515260234475,0.012005862779915,-0.022855317220092,-0.060918673872948));
res += mul(Get(s2,dx,dy), float4x4(-0.002440035343170,0.037412542849779,0.016913006082177,0.040140643715858,-0.078218311071396,0.017175130546093,-0.108879864215851,-0.068855829536915,-0.035970062017441,-0.030052868649364,0.083322465419769,0.019539263099432,-0.004705813247710,-0.009710596874356,-0.003563061589375,0.006542209070176));
res += mul(Get(s3,-dx,-dy), float4x4(0.056958023458719,-0.050353083759546,-0.050791002810001,-0.067594118416309,-0.015859877690673,0.031708706170321,-0.008357230573893,0.032350618392229,-0.048665415495634,-0.110594391822815,0.057232018560171,-0.072113081812859,-0.016070192679763,-0.017532100901008,-0.033473834395409,-0.011853653937578));
res += mul(Get(s3,-dx,0), float4x4(0.007170748896897,0.024048307910562,0.028361696749926,-0.113214828073978,0.013132201507688,-0.024242885410786,0.031304717063904,0.028073664754629,-0.041747491806746,-0.020011512562633,0.050589732825756,-0.018061261624098,0.003412721911445,-0.049072455614805,0.010426569730043,0.007312627974898));
res += mul(Get(s3,-dx,dy), float4x4(-0.018611392006278,-0.020468162372708,0.001797646982595,-0.045539285987616,-0.010015467181802,-0.043706804513931,0.028619917109609,0.055742438882589,-0.032001316547394,0.019855389371514,-0.057367034256458,-0.002888513263315,0.036429215222597,-0.032076597213745,0.049747724086046,-0.017112005501986));
res += mul(Get(s3,0,-dy), float4x4(0.112464562058449,-0.009786333888769,0.076342739164829,-0.002088648034260,0.085883356630802,0.065824121236801,0.183334454894066,0.024013951420784,-0.104835368692875,-0.099725805222988,-0.059755951166153,-0.069330208003521,0.036974105983973,-0.016666663810611,-0.023841910064220,-0.013016832992435));
res += mul(Get(s3,0,0), float4x4(0.079012766480446,0.015356266871095,0.114403411746025,0.019860384985805,-0.007051995024085,0.101659484207630,0.146724075078964,0.050049081444740,-0.056512530893087,-0.063781253993511,-0.087268732488155,-0.037153050303459,0.033220417797565,-0.033191699534655,0.022315921261907,-0.012704927474260));
res += mul(Get(s3,0,dy), float4x4(-0.031710132956505,0.042157832533121,0.043477784842253,-0.004715770483017,-0.000729597581085,0.002229652134702,-0.004535779822618,0.035637203603983,0.130519837141037,-0.023126423358917,0.103523299098015,-0.031220426782966,0.076062239706516,-0.029803300276399,0.029005700722337,0.006209502462298));
res += mul(Get(s3,dx,-dy), float4x4(-0.090536117553711,0.018267264589667,-0.019689301028848,0.055793855339289,0.018040647730231,0.013482304289937,-0.022352386265993,0.025714311748743,-0.056061360985041,0.028687290847301,0.023702025413513,-0.031940635293722,-0.000275250407867,-0.037453070282936,0.008988170884550,-0.041014924645424));
res += mul(Get(s3,dx,0), float4x4(-0.000953159236815,0.079852677881718,-0.011388123966753,0.096928901970387,-0.012019194662571,0.069199033081532,0.029856167733669,0.088149912655354,-0.072569452226162,-0.056722797453403,0.019795471802354,-0.109017662703991,-0.015109067782760,-0.014486889354885,0.022103959694505,-0.004176441580057));
res += mul(Get(s3,dx,dy), float4x4(-0.014308970421553,0.087156824767590,-0.046325989067554,0.110659800469875,-0.019692037254572,0.002187795704231,0.024796446785331,0.033943701535463,0.051246508955956,0.031132712960243,0.086994111537933,-0.060323525220156,0.020166996866465,-0.016600949689746,0.019913898780942,0.041470751166344));
return max(float4(0,0,0,0), res);
}
