sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.005287639331073,-0.041579056531191,0.032951179891825,0.000589165661950,-0.108265891671181,0.032505549490452,-0.046385578811169,-0.016233911737800,0.054306726902723,0.008532011881471,-0.005970639642328,0.085266023874283,-0.001177528174594,-0.089489318430424,-0.054102569818497,0.019747054204345));
res += mul(Get(s0,-dx,0), float4x4(-0.013938490301371,0.087403029203415,0.002385582309216,-0.031356036663055,-0.062458008527756,-0.113742023706436,0.031350608915091,0.086365193128586,0.106435336172581,0.145697608590126,0.005842124111950,0.044305212795734,0.068122640252113,0.209470972418785,-0.095463983714581,-0.166517749428749));
res += mul(Get(s0,-dx,dy), float4x4(-0.030304612591863,0.026360066607594,0.034065224230289,0.074590623378754,-0.045915905386209,0.075701512396336,-0.009654927067459,0.027638174593449,0.106187343597412,0.056156836450100,0.010609632357955,0.039137650281191,0.101147159934044,-0.002562886103988,0.002711479319260,0.024161444976926));
res += mul(Get(s0,0,-dy), float4x4(-0.050664026290178,-0.125922709703445,-0.034611374139786,0.068121388554573,-0.104382969439030,-0.058820601552725,-0.003643940901384,-0.017091332003474,0.089484974741936,0.103427872061729,0.016764700412750,0.012395842932165,0.161487773060799,0.093658693134785,-0.052980460226536,0.069717839360237));
res += mul(Get(s0,0,0), float4x4(0.006827753502876,-0.020073493942618,-0.054291293025017,-0.098036885261536,0.107610918581486,-0.061242863535881,0.057527668774128,-0.005231503397226,-0.072409138083458,0.056987099349499,0.020098168402910,0.065207757055759,-0.147032871842384,-0.153145417571068,-0.036378812044859,0.051762681454420));
res += mul(Get(s0,0,dy), float4x4(0.001274464186281,0.079095192253590,0.005550293251872,-0.051006924360991,0.011155286803842,0.058628909289837,0.015313268639147,0.148134455084801,-0.041112579405308,0.021063869819045,-0.055995531380177,-0.026885783299804,-0.077483288943768,0.016417762264609,0.002403344959021,-0.154040142893791));
res += mul(Get(s0,dx,-dy), float4x4(0.025110108777881,-0.010193100199103,-0.068693928420544,0.097601056098938,-0.020086253061891,0.136922597885132,-0.015320792794228,-0.007782419677824,0.016538720577955,0.040565222501755,-0.035872478038073,0.020200137048960,-0.101275600492954,-0.010880053043365,-0.038403473794460,0.095466449856758));
res += mul(Get(s0,dx,0), float4x4(0.140511542558670,-0.061815593391657,0.055939763784409,0.101414971053600,0.000655118667055,0.068615011870861,0.072529271245003,-0.077300496399403,0.029222592711449,0.150194376707077,0.003175277262926,0.065489262342453,0.092285953462124,0.152912959456444,0.016791099682450,0.027456576004624));
res += mul(Get(s0,dx,dy), float4x4(0.073000878095627,-0.069383002817631,0.079433791339397,-0.025450780987740,-0.069477021694183,0.064165331423283,-0.024090075865388,0.053609151393175,-0.019721290096641,-0.032506003975868,-0.027671856805682,0.039707936346531,0.100873447954655,-0.008624960668385,0.045371204614639,0.023773333057761));
res += mul(Get(s1,-dx,-dy), float4x4(0.002438083756715,0.013567439280450,0.101909831166267,-0.034773193299770,0.068747863173485,-0.029951721429825,-0.052062194794416,0.040713120251894,-0.044641893357038,-0.076269909739494,-0.002126660896465,0.014957073144615,0.045266512781382,0.000848228461109,0.007238603662699,0.145182296633720));
res += mul(Get(s1,-dx,0), float4x4(-0.149159312248230,-0.130325570702553,0.128078445792198,-0.002330125309527,0.077939562499523,0.044990882277489,0.015862673521042,-0.016354909166694,0.011733027175069,-0.071940124034882,0.023331983014941,-0.039806760847569,-0.141819924116135,-0.022200489416718,0.028473371639848,-0.004560189787298));
res += mul(Get(s1,-dx,dy), float4x4(-0.085904709994793,-0.100099027156830,0.112724170088768,-0.080092601478100,0.028687587007880,0.013711350038648,0.093328557908535,0.076518848538399,0.056170012801886,-0.059110861271620,-0.006931972689927,-0.021605769172311,-0.142621561884880,0.056698519736528,-0.094462811946869,-0.131221011281013));
res += mul(Get(s1,0,-dy), float4x4(-0.126269131898880,0.108525902032852,-0.026035409420729,-0.059220038354397,0.111253470182419,-0.029953276738524,-0.062069747596979,-0.105673186480999,-0.042701385915279,-0.053578693419695,-0.014636834152043,0.026835005730391,0.069698221981525,0.049995463341475,-0.011818471364677,0.014081374742091));
res += mul(Get(s1,0,0), float4x4(-0.031371783465147,-0.029327273368835,0.090779438614845,-0.006523801013827,0.010260478593409,0.029305130243301,-0.051346067339182,-0.179403752088547,-0.055919349193573,-0.114286541938782,0.003692399710417,-0.061128154397011,-0.001483215484768,0.000314198550768,0.006734587252140,0.079397529363632));
res += mul(Get(s1,0,dy), float4x4(-0.021279096603394,-0.076814733445644,0.061821471899748,0.016770701855421,0.145807027816772,0.053560834378004,0.040892563760281,0.026428159326315,-0.084126196801662,-0.004015435930341,0.003694294951856,-0.013296344317496,0.039688538759947,-0.053246937692165,-0.103184141218662,0.019585592672229));
res += mul(Get(s1,dx,-dy), float4x4(-0.061038088053465,0.013477450236678,-0.075562849640846,-0.089656025171280,0.051029916852713,-0.010237992741168,-0.077884815633297,-0.028277292847633,0.028450312092900,-0.009551539085805,-0.032820850610733,0.108048796653748,0.001944171148352,0.041617531329393,0.000763171759900,-0.059638746082783));
res += mul(Get(s1,dx,0), float4x4(0.017396768555045,-0.063235200941563,-0.005150876939297,-0.114818535745144,-0.099761068820953,-0.084128029644489,-0.070713967084885,0.007709277328104,0.012903683818877,-0.017757115885615,0.036571599543095,0.025984276086092,-0.009817526675761,0.018459424376488,-0.018679913133383,-0.050555665045977));
res += mul(Get(s1,dx,dy), float4x4(-0.012453550472856,-0.115512579679489,-0.027553701773286,-0.096788525581360,0.069214627146721,0.066301189363003,-0.020892523229122,0.025638878345490,-0.019130337983370,0.037176173180342,0.051285110414028,0.015242796391249,0.083769008517265,0.053593531250954,-0.070574045181274,-0.054669912904501));
res += mul(Get(s2,-dx,-dy), float4x4(0.002357714576647,0.075166158378124,-0.038386162370443,0.010448301210999,0.116631411015987,-0.046374771744013,-0.144005373120308,-0.028561705723405,-0.035634081810713,-0.044706184417009,0.029880315065384,-0.059204086661339,-0.022445878013968,0.077334910631180,0.032276954501867,0.032118353992701));
res += mul(Get(s2,-dx,0), float4x4(0.050938803702593,0.011632280424237,0.035267625004053,0.122672021389008,0.071332871913910,0.099436372518539,-0.017029954120517,-0.035022638738155,0.011293523944914,0.062779203057289,-0.014764678664505,-0.169181123375893,-0.016274455934763,0.012314168736339,0.042670924216509,-0.007502479944378));
res += mul(Get(s2,-dx,dy), float4x4(-0.026965638622642,0.012822729535401,0.066450975835323,0.004572311881930,0.062601111829281,-0.007382048759609,-0.016256300732493,-0.064140789210796,0.001424350426532,-0.028248319402337,-0.085494555532932,-0.172331467270851,-0.006943906191736,0.003991421777755,-0.023211663588881,-0.003795554395765));
res += mul(Get(s2,0,-dy), float4x4(-0.077577732503414,-0.001654750551097,-0.116639137268066,-0.068116083741188,-0.029356850311160,0.098415464162827,-0.128294795751572,-0.025607425719500,0.062820799648762,-0.055165350437164,-0.025224085897207,-0.013229752890766,-0.011213838122785,-0.030229777097702,0.013765797950327,0.063313610851765));
res += mul(Get(s2,0,0), float4x4(0.007867727428675,-0.023990213871002,-0.037673477083445,0.030730886384845,-0.102454848587513,0.107017278671265,-0.030210359022021,0.039837989956141,0.048468582332134,-0.099149651825428,-0.045621927827597,-0.097854338586330,-0.006157188676298,-0.120431810617447,0.017599172890186,0.025978878140450));
res += mul(Get(s2,0,dy), float4x4(0.057032670825720,0.088254839181900,0.037937294691801,-0.001791075570509,-0.037720624357462,0.001151062548161,-0.041657418012619,-0.016464071348310,-0.003246842417866,-0.007856154814363,0.013271076604724,-0.139375805854797,-0.010560703463852,-0.097617261111736,-0.058124713599682,-0.024429842829704));
res += mul(Get(s2,dx,-dy), float4x4(-0.097139924764633,0.018810506910086,-0.127328112721443,-0.069975495338440,-0.009554811753333,-0.075241982936859,-0.140610948204994,0.006284456234425,0.001062150229700,-0.115709662437439,-0.043662376701832,-0.022096559405327,0.006150225177407,0.038578037172556,-0.005693147890270,0.080809198319912));
res += mul(Get(s2,dx,0), float4x4(0.018068546429276,0.078938975930214,-0.008799497038126,-0.064790628850460,-0.055534511804581,-0.056916825473309,-0.044455658644438,0.037319593131542,0.094533137977123,-0.102036066353321,-0.011611592955887,-0.043201792985201,-0.017328569665551,-0.009346515871584,-0.001340893446468,0.049666862934828));
res += mul(Get(s2,dx,dy), float4x4(-0.015727598220110,0.066221132874489,0.082295417785645,0.013760949485004,-0.024111436679959,0.003903872333467,-0.044405177235603,0.003614178625867,0.162829771637917,-0.030442824587226,0.095526322722435,-0.113586343824863,-0.018159842118621,-0.016516903415322,-0.045101772993803,0.031617648899555));
res += mul(Get(s3,-dx,-dy), float4x4(0.005395245272666,-0.072971336543560,0.020780738443136,0.054132871329784,0.020795619115233,0.087906844913960,0.037249714136124,0.013835376128554,-0.002050008857623,-0.059886395931244,-0.050748839974403,0.007416677661240,0.031414307653904,0.077983014285564,-0.031307782977819,-0.014155835844576));
res += mul(Get(s3,-dx,0), float4x4(-0.094140686094761,-0.113811217248440,-0.037169583141804,0.010154550895095,0.057650946080685,0.079021997749805,0.017859509214759,0.030681964010000,-0.132297754287720,-0.134091943502426,0.097600907087326,0.093726292252541,0.094385884702206,0.046099420636892,-0.014212043024600,-0.023346217349172));
res += mul(Get(s3,-dx,dy), float4x4(0.030048152431846,-0.087494954466820,0.001385932671838,0.002093138406053,0.053272265940905,-0.012231073342264,0.052954867482185,0.122445553541183,-0.025729080662131,-0.003788395319134,0.027474334463477,-0.127626955509186,0.020592195913196,0.009129866957664,-0.011381700634956,0.040334045886993));
res += mul(Get(s3,0,-dy), float4x4(0.026719518005848,0.021050229668617,0.008034903556108,0.026885131374002,-0.008323603309691,0.019366322085261,0.070373862981796,0.078874774277210,-0.092508912086487,0.122762255370617,-0.137707456946373,-0.121870212256908,-0.001604732125998,0.033030189573765,-0.045960355550051,-0.032482087612152));
res += mul(Get(s3,0,0), float4x4(-0.062706895172596,-0.151613652706146,-0.006910911295563,0.083599843084812,-0.009058631956577,0.029646880924702,0.003495552809909,-0.001384224509820,0.054300803691149,0.073882974684238,0.123874671757221,0.175268024206161,0.025926705449820,0.013252099975944,-0.017791390419006,-0.025844661518931));
res += mul(Get(s3,0,dy), float4x4(0.000613001000602,-0.138401508331299,0.024663204327226,0.023697162047029,0.053288795053959,0.063890546560287,0.055711388587952,0.082041628658772,0.062339827418327,0.133999302983284,0.061540000140667,-0.026850039139390,-0.001696509425528,-0.008303460665047,-0.015970755368471,0.051429811865091));
res += mul(Get(s3,dx,-dy), float4x4(0.009268261492252,0.043785095214844,0.022759461775422,0.017788674682379,-0.012731405906379,0.006427315529436,0.025019045919180,0.081723317503929,-0.063023693859577,-0.070973820984364,-0.138548865914345,0.004970950540155,-0.016162429004908,0.014951412566006,-0.011383000761271,0.046658184379339));
res += mul(Get(s3,dx,0), float4x4(-0.003109375247732,0.004908783361316,0.033532653003931,0.001650726306252,-0.032801263034344,0.055371668189764,0.043981354683638,0.001471274299547,0.040567152202129,0.069045402109623,0.038076318800449,-0.061983656138182,0.005211105570197,0.015844900161028,0.006495153065771,0.046454031020403));
res += mul(Get(s3,dx,dy), float4x4(0.017610361799598,-0.066721551120281,0.020916666835546,-0.001817546319216,0.068146213889122,0.014338296838105,0.049997173249722,0.017692789435387,0.018662227317691,-0.068932406604290,-0.013608433306217,0.026519233360887,-0.038486555218697,0.009124924428761,0.039564426988363,0.088836252689362));
return max(float4(0,0,0,0), res);
}
