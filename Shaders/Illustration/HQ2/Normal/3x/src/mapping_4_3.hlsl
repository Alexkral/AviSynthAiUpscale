sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.000381505087717,-0.022149777039886,0.019830627366900,0.069481424987316,-0.036593381315470,-0.038426127284765,0.041853152215481,0.090982757508755,-0.043336130678654,-0.000585931702517,0.044302962720394,0.032765779644251,0.040858197957277,-0.051694527268410,-0.107095301151276,0.013539282605052));
res += mul(Get(s0,-dx,0), float4x4(-0.045817416161299,-0.072890676558018,0.019198557361960,-0.016477208584547,-0.141628846526146,-0.039118032902479,0.023367306217551,0.148183047771454,-0.021802071481943,0.052987657487392,0.008636333979666,0.024113278836012,0.034083027392626,0.057362057268620,-0.071141429245472,0.018189338967204));
res += mul(Get(s0,-dx,dy), float4x4(-0.058821633458138,-0.026927465572953,0.006244722753763,-0.078469857573509,-0.080981045961380,-0.014974011108279,-0.106040239334106,0.120638936758041,-0.020938124507666,-0.016725605353713,0.002630994189531,0.012495776638389,-0.101071678102016,0.003041449002922,-0.059774190187454,0.036710664629936));
res += mul(Get(s0,0,-dy), float4x4(-0.046834144741297,0.058811571449041,0.071453236043453,0.078664049506187,-0.040627427399158,0.023107755929232,0.052538823336363,-0.048292301595211,-0.058688383549452,0.000184886623174,-0.045365326106548,0.008335786871612,0.039231963455677,0.016138982027769,0.024519214406610,-0.003643240313977));
res += mul(Get(s0,0,0), float4x4(0.016751136630774,0.036872033029795,0.055262129753828,0.010042413137853,-0.060470864176750,-0.109412506222725,0.077889211475849,0.025377079844475,-0.004961096215993,-0.034492753446102,-0.001477447920479,0.053720634430647,-0.058019436895847,-0.101594269275665,0.021463781595230,0.059798102825880));
res += mul(Get(s0,0,dy), float4x4(-0.045172676444054,0.092411287128925,0.036111969500780,0.000120849712403,-0.081866323947906,-0.062174327671528,-0.010253340937197,0.044374965131283,-0.013311740010977,-0.142336368560791,0.007549211382866,0.028613116592169,0.032277446240187,0.121064327657223,-0.008582510054111,-0.004804960452020));
res += mul(Get(s0,dx,-dy), float4x4(-0.099662616848946,0.003303667297587,0.004899424966425,-0.001513507682830,-0.078679904341698,0.085235618054867,-0.078712895512581,-0.081231363117695,-0.054143231362104,-0.025924727320671,0.042277351021767,0.016012419015169,0.016771581023932,-0.008446777239442,0.048234365880489,-0.019451998174191));
res += mul(Get(s0,dx,0), float4x4(-0.049295976758003,-0.016016418114305,-0.003088342025876,-0.037145625799894,-0.056703504174948,-0.044532891362906,-0.014352738857269,-0.095297932624817,-0.013162735849619,0.032104726880789,0.088653594255447,0.004659772384912,-0.020040920004249,0.078732281923294,0.020560057833791,-0.040565785020590));
res += mul(Get(s0,dx,dy), float4x4(-0.060536898672581,0.038142181932926,-0.085677392780781,-0.036611564457417,0.052833836525679,-0.065563373267651,0.031289841979742,-0.073886588215828,-0.060383271425962,-0.099209792912006,0.030386555939913,0.035049658268690,-0.005569585599005,0.044701445847750,-0.002189052756876,-0.023781815543771));
res += mul(Get(s1,-dx,-dy), float4x4(0.032389737665653,-0.035041011869907,-0.041408091783524,0.026491355150938,0.000300342217088,-0.034440185874701,-0.081832796335220,0.029920881614089,0.035561118274927,0.066802479326725,-0.018081696704030,0.096696421504021,0.084854826331139,0.037692271173000,0.015820775181055,-0.055459387600422));
res += mul(Get(s1,-dx,0), float4x4(-0.036415468901396,0.012439910322428,-0.093135058879852,0.001912042149343,-0.025469666346908,0.000314048898872,-0.044221926480532,0.057728312909603,0.132156848907471,0.063108257949352,-0.020169928669930,0.059573680162430,-0.065291933715343,-0.051294460892677,-0.034846104681492,0.085559345781803));
res += mul(Get(s1,-dx,dy), float4x4(0.060736604034901,-0.109350040555000,-0.066603422164917,0.001056984532624,0.027582108974457,-0.059573732316494,-0.004628912545741,0.049192510545254,-0.077152498066425,-0.008570780046284,-0.115670308470726,0.056129772216082,0.048467587679625,-0.053750418126583,0.024533487856388,-0.017225921154022));
res += mul(Get(s1,0,-dy), float4x4(0.015245316550136,-0.011156467720866,-0.053225357085466,-0.017237216234207,0.115205630660057,0.011933092959225,-0.036660350859165,0.010854436084628,0.035511918365955,-0.014254177920520,0.047189313918352,0.066911138594151,0.044525749981403,0.097929827868938,0.012312088161707,-0.062824085354805));
res += mul(Get(s1,0,0), float4x4(-0.041247181594372,-0.037486843764782,-0.054045189172029,-0.098165385425091,-0.010289587080479,-0.032476991415024,-0.018103415146470,0.042032279074192,0.062496121972799,-0.022203441709280,0.076253540813923,0.076370783150196,-0.040019553154707,-0.050607692450285,-0.018001178279519,0.041559252887964));
res += mul(Get(s1,0,dy), float4x4(0.023471282795072,-0.169495716691017,-0.078288942575455,-0.017691414803267,0.016847524791956,0.070987865328789,0.060789506882429,0.024156935513020,-0.013404423370957,0.025920689105988,-0.002040945226327,0.049990847706795,0.087271280586720,0.001283345860429,0.030386229977012,-0.015172327868640));
res += mul(Get(s1,dx,-dy), float4x4(0.108338221907616,-0.065827764570713,0.040302354842424,-0.050222188234329,0.087017364799976,-0.110912367701530,0.025600861757994,-0.031519252806902,-0.008800525218248,-0.032637484371662,0.011029406450689,0.055255271494389,0.036982126533985,0.023277884349227,0.025156894698739,-0.027026381343603));
res += mul(Get(s1,dx,0), float4x4(0.047555241733789,-0.115081429481506,0.061750080436468,-0.087776251137257,0.088334515690804,-0.074474543333054,0.001711486722343,-0.022679431363940,0.015223298221827,-0.063418708741665,0.068862363696098,0.045152492821217,0.072732277214527,-0.018300080671906,-0.012609577737749,-0.007235090713948));
res += mul(Get(s1,dx,dy), float4x4(0.069230034947395,-0.035111393779516,-0.003721122629941,-0.053672999143600,-0.046432092785835,0.068699419498444,0.006803385447711,0.020183505490422,-0.000963406753726,-0.062011655420065,0.038941938430071,0.027707619592547,0.040541522204876,0.027552215382457,-0.036047164350748,-0.000587606686167));
res += mul(Get(s2,-dx,-dy), float4x4(-0.065531998872757,0.078909389674664,0.056901797652245,-0.044857501983643,0.047358144074678,0.092966124415398,-0.029078131541610,-0.074746415019035,-0.009670847095549,0.028828252106905,0.046566605567932,0.041743848472834,0.027559153735638,-0.020741097629070,-0.048966538161039,-0.027209496125579));
res += mul(Get(s2,-dx,0), float4x4(-0.046034924685955,0.095150336623192,0.114173777401447,-0.085055708885193,-0.005787692964077,-0.017858741804957,-0.088906064629555,0.017276607453823,0.050117529928684,-0.015149647369981,-0.019270882010460,0.020907247439027,0.031090449541807,0.001208337605931,-0.038313832134008,-0.074311241507530));
res += mul(Get(s2,-dx,dy), float4x4(-0.078571051359177,-0.026867074891925,0.081211492419243,-0.073587819933891,-0.054163757711649,-0.043317195028067,-0.054744452238083,0.110823735594749,0.023681100457907,-0.045846033841372,-0.005981076508760,-0.028358988463879,0.067638754844666,-0.041077956557274,-0.041677847504616,-0.006754438392818));
res += mul(Get(s2,0,-dy), float4x4(-0.034067336469889,0.053599450737238,-0.031852222979069,0.061866417527199,-0.012890348210931,0.179185017943382,-0.067825555801392,-0.052958499640226,0.107176348567009,-0.018240485340357,0.071492791175842,0.027689905837178,-0.011149999685585,0.015102659352124,-0.060080934315920,0.004930565599352));
res += mul(Get(s2,0,0), float4x4(-0.005401474889368,0.127756804227829,0.040072388947010,-0.040799859911203,-0.016149532049894,-0.000062899751356,-0.034677129238844,-0.115886904299259,0.086053214967251,-0.085205063223839,0.093531087040901,0.040891785174608,0.081775434315205,0.040585912764072,-0.045266699045897,-0.025386685505509));
res += mul(Get(s2,0,dy), float4x4(-0.090954013168812,-0.001554323709570,0.018746273592114,0.007321696728468,-0.025571070611477,-0.146314978599548,0.058356713503599,-0.045197091996670,-0.049081385135651,-0.031059464439750,-0.033014167100191,-0.045878455042839,0.164170339703560,-0.055678881704807,0.016589613631368,0.029250420629978));
res += mul(Get(s2,dx,-dy), float4x4(0.067596413195133,-0.021946260705590,0.004647607915103,0.063142746686935,0.011097580194473,0.059420876204967,-0.009138888679445,0.065077587962151,0.043406534940004,0.039169851690531,0.072207652032375,-0.030377415940166,-0.056430246680975,-0.014504825696349,-0.039355184882879,-0.007685897406191));
res += mul(Get(s2,dx,0), float4x4(-0.022640727460384,0.037547085434198,-0.033002801239491,-0.006117457989603,0.009124430827796,0.081835232675076,0.028843272477388,-0.042363088577986,0.019441176205873,-0.011563635431230,0.068910829722881,-0.050892557948828,0.010516627691686,0.015772160142660,0.049896556884050,0.015548805706203));
res += mul(Get(s2,dx,dy), float4x4(-0.132450625300407,0.016824269667268,-0.048257164657116,0.057096868753433,-0.040740229189396,-0.000391228852095,0.062279488891363,-0.043762244284153,-0.040744252502918,-0.049450494349003,-0.098843052983284,-0.013909211382270,-0.030447363853455,-0.002008515875787,0.053652085363865,-0.002437349408865));
res += mul(Get(s3,-dx,-dy), float4x4(-0.051052615046501,-0.105656109750271,0.003167012240738,0.015874367207289,0.025655347853899,0.015308758243918,0.022045563906431,-0.012686236761510,0.112110055983067,-0.006009944714606,0.079121239483356,-0.041205570101738,-0.013229258358479,0.048187643289566,-0.072729885578156,0.033894110471010));
res += mul(Get(s3,-dx,0), float4x4(-0.010254928842187,-0.061526417732239,-0.090420044958591,-0.054137460887432,0.027982896193862,0.024138312786818,0.059635292738676,0.003509137080982,-0.055077645927668,-0.009441240690649,0.136080101132393,0.099923096597195,-0.021583314985037,0.025214048102498,-0.057204328477383,-0.038851089775562));
res += mul(Get(s3,-dx,dy), float4x4(0.067155830562115,-0.005367002449930,-0.018255356699228,-0.115112863481045,-0.038162745535374,0.055392738431692,0.034456077963114,-0.025850122794509,-0.047541435807943,0.030577631667256,0.004047896247357,0.159620597958565,-0.054922860115767,0.006159096024930,-0.069145046174526,-0.037189390510321));
res += mul(Get(s3,0,-dy), float4x4(0.008136041462421,-0.033948175609112,0.059643596410751,-0.030360339209437,0.091430857777596,-0.045843977481127,-0.023667408153415,0.005544809624553,0.034814503043890,0.069717675447464,0.084713846445084,-0.062286872416735,-0.038835301995277,-0.000013446056983,-0.073321454226971,0.031931228935719));
res += mul(Get(s3,0,0), float4x4(0.099089749157429,0.011745941825211,0.020038736984134,-0.027034804224968,0.069655425846577,-0.001810738351196,0.054272193461657,0.026453830301762,-0.139980480074883,0.048147007822990,-0.089031197130680,-0.033084295690060,-0.018921053037047,-0.012097513303161,-0.032663818448782,-0.045407578349113));
res += mul(Get(s3,0,dy), float4x4(0.118475720286369,0.085375159978867,0.064906232059002,-0.053874712437391,-0.115457825362682,0.172319531440735,0.003993829246610,-0.037418507039547,-0.052745379507542,0.011694713495672,-0.129263907670975,-0.010398161597550,-0.052175287157297,0.031267732381821,-0.051934812217951,-0.061397019773722));
res += mul(Get(s3,dx,-dy), float4x4(0.023429920896888,0.074358448386192,0.069252908229828,-0.011923389509320,0.065669991075993,0.008405133150518,0.077026419341564,-0.007725878618658,0.001621095696464,-0.030551806092262,-0.015779010951519,-0.005367123987526,-0.072418950498104,-0.063752487301826,-0.055829625576735,0.046214196830988));
res += mul(Get(s3,dx,0), float4x4(0.053201515227556,0.087975226342678,0.028692107647657,-0.028804404661059,0.059832967817783,-0.040919207036495,0.021945752203465,0.000941510079429,-0.086960025131702,0.129718139767647,-0.077118955552578,-0.067212373018265,-0.064920835196972,-0.029252151027322,-0.020630188286304,0.005802882369608));
res += mul(Get(s3,dx,dy), float4x4(0.002618496771902,0.086366385221481,-0.022619040682912,-0.023769997060299,-0.041322484612465,0.083779744803905,-0.003604561788961,-0.031648378819227,-0.008883716538548,-0.102430246770382,0.005075788125396,-0.084975473582745,-0.075582124292850,0.002331790281460,-0.046488963067532,-0.012655728496611));
return max(float4(0,0,0,0), res);
}
