sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.016522647812963,0.005628507118672,0.027203090488911,0.011653951369226,-0.122560724616051,0.043810203671455,-0.052180416882038,-0.080503709614277,0.002085315994918,0.110958598554134,-0.029434693977237,-0.009366228245199,0.045889969915152,-0.054854173213243,-0.012286351062357,0.025775959715247));
res += mul(Get(s0,-dx,0), float4x4(0.008222047239542,0.022735321894288,0.000513223640155,-0.033467512577772,-0.027511326596141,0.036881335079670,-0.051227141171694,-0.050913911312819,0.036075413227081,-0.026795450598001,-0.030835038051009,0.061223592609167,0.053217548877001,-0.115225583314896,0.040469836443663,0.068030931055546));
res += mul(Get(s0,-dx,dy), float4x4(-0.091655060648918,0.023292697966099,-0.000548072741367,-0.076085619628429,-0.027157314121723,0.007498129736632,0.101911820471287,0.092257492244244,0.043225076049566,-0.059732198715210,0.128635153174400,0.086466632783413,0.084070183336735,-0.039354216307402,0.031925231218338,-0.018789961934090));
res += mul(Get(s0,0,-dy), float4x4(-0.054121855646372,0.006129701621830,0.008949055336416,-0.034659966826439,-0.008529438637197,-0.075737066566944,-0.033140975981951,0.039301495999098,0.006886384915560,0.116616435348988,0.017193473875523,0.050815690308809,0.007308619096875,0.055950019508600,-0.047444581985474,-0.017826516181231));
res += mul(Get(s0,0,0), float4x4(-0.013016845099628,0.201443612575531,-0.099667102098465,-0.100124903023243,-0.025190366432071,-0.080815255641937,-0.024950094521046,-0.023700205609202,0.023046992719173,-0.102433338761330,0.067448034882545,0.152420207858086,-0.036865144968033,-0.029820693656802,-0.001110852113925,0.032640680670738));
res += mul(Get(s0,0,dy), float4x4(0.038828775286674,0.027432100847363,-0.114892013370991,0.008503932505846,-0.004038314335048,-0.048160292208195,0.049706865102053,0.052226498723030,-0.028093686327338,-0.072076983749866,0.163098096847534,0.043340858072042,-0.009772826917470,0.047895897179842,0.093585290014744,-0.014647932723165));
res += mul(Get(s0,dx,-dy), float4x4(0.016595631837845,-0.024491038173437,-0.011208108626306,-0.046948742121458,-0.029822114855051,0.006092306692153,-0.035010222345591,0.118354402482510,-0.036646962165833,0.023629730567336,0.006886345334351,0.055466610938311,-0.090472161769867,0.060203626751900,0.027696525678039,0.000483994313981));
res += mul(Get(s0,dx,0), float4x4(0.156148552894592,0.082436069846153,-0.093911401927471,-0.034584630280733,-0.038682017475367,-0.020993670448661,0.044362168759108,0.014760096557438,-0.022846426814795,-0.027113135904074,-0.031509492546320,0.001790421432815,-0.129082217812538,0.045329999178648,-0.004283248446882,-0.028452809900045));
res += mul(Get(s0,dx,dy), float4x4(0.072882220149040,0.005491937976331,-0.044842738658190,0.029432442039251,-0.025917675346136,-0.020718464627862,0.018067006021738,0.004902129061520,0.015510160475969,-0.017625894397497,0.039923027157784,0.014209853485227,-0.062693223357201,0.003638871014118,0.080039516091347,-0.023349931463599));
res += mul(Get(s1,-dx,-dy), float4x4(0.016342971473932,0.040179274976254,-0.017436262220144,-0.017941130325198,0.038739826530218,-0.066531226038933,0.021446928381920,0.109931893646717,0.007025636732578,0.019906278699636,0.013898557052016,-0.089685074985027,0.045549470931292,-0.045264702290297,-0.061165008693933,0.010344178415835));
res += mul(Get(s1,-dx,0), float4x4(0.060170352458954,0.002809029305354,0.054306559264660,0.140861883759499,0.100719995796680,-0.128510892391205,0.074631914496422,0.012393174692988,0.032327163964510,0.010218209587038,0.053761474788189,0.008144824765623,0.084266848862171,-0.073644325137138,-0.005902773234993,0.099408634006977));
res += mul(Get(s1,-dx,dy), float4x4(-0.028608186170459,-0.066254980862141,0.053411513566971,0.038103565573692,0.024880910292268,0.077309697866440,-0.018667249009013,0.020139813423157,0.002143278252333,-0.026438696309924,0.011875341646373,-0.007054815534502,0.110263377428055,-0.075156643986702,0.021641561761498,0.017781384289265));
res += mul(Get(s1,0,-dy), float4x4(0.001600493444130,0.038803156465292,0.061190288513899,0.024710986763239,-0.030251290649176,-0.051214456558228,-0.009829143062234,-0.011243646033108,-0.068231783807278,0.124479822814465,-0.025209158658981,-0.024042529985309,0.035488840192556,-0.068434983491898,-0.056618049740791,0.030121156945825));
res += mul(Get(s1,0,0), float4x4(-0.014704970642924,0.002874148776755,0.098108001053333,0.127583444118500,0.068893894553185,0.038016017526388,-0.003536063246429,-0.034276906400919,-0.022052288055420,0.069626919925213,0.027353838086128,0.094016484916210,-0.053401600569487,-0.117241606116295,-0.098616257309914,-0.052450247108936));
res += mul(Get(s1,0,dy), float4x4(-0.035152241587639,0.080691628158092,-0.016182305291295,-0.016963113099337,0.024507177993655,0.181603029370308,-0.070199668407440,-0.060660071671009,-0.010879667475820,-0.041051298379898,0.022054845467210,0.040636211633682,0.043021593242884,-0.095229178667068,-0.022182028740644,-0.032032970339060));
res += mul(Get(s1,dx,-dy), float4x4(-0.006085063796490,0.035440482199192,0.023420957848430,-0.011913814581931,-0.053254857659340,-0.021877961233258,-0.027531076222658,-0.021079862490296,-0.009999847039580,0.010340360924602,-0.008686942979693,0.002511516446248,-0.056367266923189,0.023915430530906,-0.094294682145119,-0.003451048163697));
res += mul(Get(s1,dx,0), float4x4(-0.004330061841756,0.088226832449436,0.000029917391657,-0.029022071510553,0.046292770653963,-0.007029846310616,0.017257340252399,-0.037122197449207,0.055179204791784,0.008481096476316,-0.012797229923308,0.098346479237080,-0.035136885941029,-0.025553384795785,-0.095355115830898,0.011665617115796));
res += mul(Get(s1,dx,dy), float4x4(0.071387521922588,-0.004696096293628,-0.009022758342326,-0.028917312622070,0.038974065333605,-0.008606262505054,0.071027077734470,0.084311388432980,0.016038857400417,-0.027211172506213,-0.023440174758434,0.078611046075821,-0.051448091864586,-0.087375760078430,-0.065192997455597,-0.041525315493345));
res += mul(Get(s2,-dx,-dy), float4x4(-0.049092836678028,0.060846943408251,-0.040707185864449,-0.047844476997852,0.010961536318064,-0.046550031751394,-0.067035719752312,-0.009996244683862,-0.040996257215738,-0.050824824720621,-0.060117982327938,0.015225784853101,-0.026562403887510,0.024520354345441,0.023838106542826,0.118923835456371));
res += mul(Get(s2,-dx,0), float4x4(-0.068722270429134,0.161238834261894,-0.005512069445103,-0.009368489496410,-0.031103514134884,0.057475171983242,-0.078504450619221,-0.039048198610544,0.009732607752085,0.019674491137266,-0.113911889493465,-0.161880970001221,0.001578230061568,0.023091841489077,0.023626515641809,0.102396108210087));
res += mul(Get(s2,-dx,dy), float4x4(-0.062087811529636,0.040236704051495,0.047403618693352,-0.044176861643791,-0.006739196367562,0.121550790965557,-0.044356431812048,0.059770688414574,0.001903336495161,0.006611938122660,-0.191486626863480,-0.026513511314988,-0.077447377145290,-0.002018590690568,-0.097762219607830,0.032968860119581));
res += mul(Get(s2,0,-dy), float4x4(-0.023524262011051,0.018256355077028,0.039331991225481,-0.043306630104780,-0.033280346542597,0.000811786856502,-0.051121808588505,-0.024598492309451,-0.093562155961990,-0.017058866098523,-0.089678071439266,-0.088647052645683,-0.044302951544523,0.059647385030985,0.027309069409966,0.142955660820007));
res += mul(Get(s2,0,0), float4x4(0.075604699552059,0.007537313736975,0.078142203390598,-0.036191206425428,-0.035267386585474,0.041906777769327,-0.071730591356754,0.028539288789034,0.131334438920021,-0.094195291399956,-0.085576847195625,0.100455269217491,0.051924768835306,0.082564771175385,0.048185598105192,0.181511193513870));
res += mul(Get(s2,0,dy), float4x4(-0.010923013091087,-0.018808402121067,0.042034134268761,-0.016939647495747,-0.026184400543571,0.006637997459620,-0.079609140753746,0.005617160350084,0.005599643569440,0.065904460847378,-0.122469395399094,0.052228521555662,-0.039084699004889,0.024515446275473,-0.020779697224498,0.073352187871933));
res += mul(Get(s2,dx,-dy), float4x4(-0.027520887553692,0.080278225243092,0.002046663081273,-0.041417818516493,-0.076126553118229,0.020849267020822,-0.037501700222492,-0.030832849442959,0.004179450683296,0.042198792099953,-0.034132387489080,0.027575647458434,-0.051925875246525,0.155364751815796,0.071389228105545,0.078731246292591));
res += mul(Get(s2,dx,0), float4x4(0.013432180508971,-0.051026031374931,0.153275623917580,0.074131496250629,-0.073799535632133,0.073101803660393,-0.072737172245979,-0.015915308147669,-0.115626290440559,0.055492807179689,-0.125481337308884,-0.066319569945335,0.061940591782331,0.164059430360794,0.040795285254717,0.042847000062466));
res += mul(Get(s2,dx,dy), float4x4(-0.049580264836550,-0.088433086872101,0.035120755434036,-0.036608416587114,-0.011544612236321,0.060177646577358,-0.059190921485424,0.021505493670702,0.010051122866571,-0.033509075641632,-0.021059853956103,-0.008806218393147,0.001511787297204,0.032022934406996,0.015142070129514,0.087094426155090));
res += mul(Get(s3,-dx,-dy), float4x4(0.049514222890139,0.094081871211529,0.002433189889416,0.092661209404469,-0.027658673003316,0.079779200255871,0.029414024204016,-0.017029674723744,-0.012006966397166,0.048269622027874,0.050572089850903,0.042046319693327,-0.001731962198392,-0.056871417909861,0.023466778919101,0.047478720545769));
res += mul(Get(s3,-dx,0), float4x4(0.113687485456467,-0.019505996257067,-0.009262500330806,-0.061348531395197,0.031585507094860,0.122756659984589,0.007431306876242,0.051046285778284,-0.001555948983878,-0.018614646047354,0.062362700700760,0.048884984105825,-0.014309297315776,0.043591119349003,-0.017031047493219,0.046008184552193));
res += mul(Get(s3,-dx,dy), float4x4(-0.014552895911038,0.012131034396589,0.004041319712996,-0.016384733840823,-0.011649797670543,0.023475140333176,0.016302078962326,-0.046409633010626,-0.018765259534121,-0.034954410046339,0.055138505995274,-0.034052129834890,-0.030663616955280,-0.035663560032845,-0.012092291377485,0.028040263801813));
res += mul(Get(s3,0,-dy), float4x4(0.008672746829689,0.011693613603711,0.008983585983515,0.000212963583181,-0.024887010455132,0.113288223743439,0.017482345923781,-0.032739993184805,0.014010681770742,0.138705238699913,0.042983237653971,0.056214835494757,-0.020080218091607,-0.083945922553539,0.061277303844690,0.058075364679098));
res += mul(Get(s3,0,0), float4x4(0.007247365545481,-0.112929329276085,0.045200310647488,-0.008386433124542,0.033045746386051,0.166656240820885,0.068290315568447,0.048503682017326,0.046897858381271,0.082998454570770,0.048033542931080,0.090632714331150,-0.002782285446301,0.086062811315060,-0.042361881583929,0.021290542557836));
res += mul(Get(s3,0,dy), float4x4(-0.122133679687977,0.046430051326752,0.013872945681214,0.019373428076506,0.021812699735165,0.089056305587292,-0.001418967032805,0.035487730056047,-0.017101120203733,0.005937966052443,0.087295390665531,0.000041673200030,-0.028361530974507,0.012289497070014,-0.010241973213851,0.057916052639484));
res += mul(Get(s3,dx,-dy), float4x4(0.025959884747863,0.034502483904362,-0.010019117966294,0.023082029074430,0.089757129549980,-0.001457084319554,-0.001103359274566,0.002692492445931,0.023696150630713,0.074262641370296,0.032407231628895,0.013462093658745,-0.010481280274689,-0.051608897745609,0.044551160186529,0.032349053770304));
res += mul(Get(s3,dx,0), float4x4(-0.051918748766184,-0.020272087305784,-0.075764052569866,-0.013228779658675,0.107168324291706,-0.003825132735074,0.062886856496334,0.078319355845451,0.094606027007103,0.093828886747360,0.041416339576244,0.031944099813700,0.059149578213692,-0.037150412797928,-0.016370277851820,0.006837443448603));
res += mul(Get(s3,dx,dy), float4x4(-0.049991898238659,0.017229471355677,-0.068994000554085,-0.005857441574335,0.081486903131008,0.101823329925537,-0.042315915226936,-0.012110638432205,-0.002476889640093,0.036461025476456,0.107103049755096,0.003264758503065,-0.007725825533271,0.025901922956109,-0.003062298055738,0.026123177260160));
return max(float4(0,0,0,0), res);
}
