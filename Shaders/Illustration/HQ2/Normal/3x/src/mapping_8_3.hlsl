sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.091841615736485,0.004915837664157,-0.042683321982622,-0.015616935677826,0.002567540854216,-0.001197345554829,0.000173299820744,0.000819539010990,-0.195562437176704,0.004353602882475,-0.008476724848151,-0.084183208644390,-0.030590057373047,-0.081341519951820,-0.019375074654818,-0.007645807694644));
res += mul(Get(s0,-dx,0), float4x4(0.065362170338631,0.099822215735912,-0.022863920778036,0.015205678530037,0.001794541720301,-0.002814129227772,-0.000993489753455,0.001675679814070,-0.066526480019093,0.048826672136784,0.058509811758995,-0.099526770412922,0.080381534993649,0.016717121005058,-0.002434469526634,0.007131589110941));
res += mul(Get(s0,-dx,dy), float4x4(0.001860354677774,-0.100273713469505,-0.018597202375531,-0.031390685588121,0.001059354981408,-0.003166464157403,-0.000693948182743,0.001457872218452,0.006329725496471,-0.035539560019970,-0.012989695183933,-0.090006425976753,0.100869558751583,0.131586551666260,-0.011567684821784,0.009211650118232));
res += mul(Get(s0,0,-dy), float4x4(0.226418256759644,0.283490478992462,0.004527458455414,-0.013581031933427,0.002055469667539,0.001389166573063,0.001019495888613,0.000414147623815,-0.238905802369118,-0.099169872701168,0.006236151792109,-0.003099873196334,-0.036488246172667,-0.079871043562889,-0.016797058284283,-0.024964580312371));
res += mul(Get(s0,0,0), float4x4(0.044103272259235,-0.024725222960114,-0.083686813712120,-0.006142230238765,0.002375811338425,-0.002134097274393,0.000206440148759,0.000280818872852,0.045540135353804,0.659735202789307,0.225538581609726,0.034252107143402,0.074128068983555,-0.179757758975029,-0.064850352704525,-0.023107757791877));
res += mul(Get(s0,0,dy), float4x4(-0.032185282558203,-0.063720874488354,0.024852804839611,-0.033869192004204,0.001001115189865,-0.002553009660915,-0.000318144186167,0.000117975614558,0.140738055109978,0.166662037372589,-0.011420274153352,0.009081341326237,0.079559557139874,0.078399725258350,-0.042513683438301,-0.045473694801331));
res += mul(Get(s0,dx,-dy), float4x4(0.159829884767532,0.065790049731731,-0.043954852968454,-0.022494174540043,0.000126566315885,-0.001713757636026,-0.000551376084331,0.001011724583805,-0.153658464550972,-0.010618076659739,-0.016123680397868,0.012389215640724,-0.043657545000315,0.068033501505852,-0.003424067515880,0.037495519965887));
res += mul(Get(s0,dx,0), float4x4(0.008998902514577,-0.375570356845856,-0.044390544295311,-0.073228858411312,0.001326448866166,0.000522943038959,0.000712441047654,0.000157765214681,-0.037563398480415,0.255103170871735,-0.043611023575068,0.104829840362072,0.081769078969955,0.253642469644547,0.030934868380427,0.025243304669857));
res += mul(Get(s0,dx,dy), float4x4(0.001524805207737,-0.218321010470390,-0.011348850093782,-0.042840816080570,0.001921626157127,-0.001967939315364,-0.000482512667077,0.000178092668648,-0.023254945874214,0.016263391822577,-0.029458830133080,0.008680847473443,0.100581541657448,0.269039392471313,-0.020832799375057,0.010939893312752));
res += mul(Get(s1,-dx,-dy), float4x4(0.000269509415375,0.000853998935781,0.000711761706043,-0.000282399851130,-0.029064886271954,0.028686229139566,0.077839985489845,-0.051255211234093,0.076498463749886,-0.058927923440933,-0.047018367797136,0.053646408021450,0.066970586776733,0.149853914976120,-0.042664702981710,0.134561046957970));
res += mul(Get(s1,-dx,0), float4x4(0.000318398058880,0.000839469139464,0.000651808339171,-0.000172614774783,-0.013512874953449,0.020334204658866,0.078182563185692,-0.053897548466921,-0.007481663022190,-0.146148398518562,0.003336604917422,0.021007299423218,0.054290544241667,0.265718460083008,-0.040495518594980,0.168999969959259));
res += mul(Get(s1,-dx,dy), float4x4(0.000236045118072,0.000397680065362,0.000538874475751,-0.000144967430970,0.016602184623480,0.031846068799496,0.016232710331678,-0.046735610812902,0.036236353218555,-0.082972906529903,0.031758677214384,0.001108076190576,0.048048578202724,0.054982613772154,-0.046022225171328,0.091259650886059));
res += mul(Get(s1,0,-dy), float4x4(0.000154935201863,0.000177085268660,-0.000000175640210,0.000297358521493,0.010648820549250,-0.004349496215582,0.010113777592778,0.008454337716103,-0.011728666722775,-0.155952259898186,-0.006547633092850,-0.020548740401864,0.076150961220264,0.005504691973329,-0.051877941936255,0.059833873063326));
res += mul(Get(s1,0,0), float4x4(0.000344706611941,-0.000206426411751,-0.000108938816993,0.000383643258829,0.012751256115735,0.122137360274792,0.068205617368221,0.014380806125700,-0.020855423063040,0.092359110713005,0.113381154835224,-0.012781357392669,-0.087843187153339,-0.253606379032135,-0.086391046643257,0.045656736940145));
res += mul(Get(s1,0,dy), float4x4(0.000206777142012,-0.000250488083111,-0.000081061021774,0.000293831020826,0.099153839051723,0.230058118700981,0.053414970636368,-0.004994333256036,0.111982449889183,0.134174868464470,0.029511280357838,0.030432516708970,0.000241965608438,-0.028260173276067,0.015363202430308,0.038546685129404));
res += mul(Get(s1,dx,-dy), float4x4(-0.000042776609916,-0.000366858817870,0.000240586712607,0.000010475879208,0.028327889740467,0.002895111683756,0.000374597351765,0.016248960047960,-0.022141374647617,-0.153160467743874,-0.011496314778924,-0.039390679448843,-0.006954655051231,-0.060038678348064,0.051460605114698,-0.008940612897277));
res += mul(Get(s1,dx,0), float4x4(0.000069640482252,-0.000320924766129,0.000266777817160,0.000008157810043,-0.007060129195452,-0.022071484476328,-0.000093520393420,0.023950245231390,-0.018824094906449,-0.053465243428946,-0.014764305204153,0.012524791061878,-0.041866183280945,-0.109296806156635,0.128027975559235,-0.014685420319438));
res += mul(Get(s1,dx,dy), float4x4(0.000125708887936,-0.000383820995921,0.000234011517023,-0.000139258714626,0.053880043327808,0.197524800896645,0.038012851029634,0.004555352963507,0.014035886153579,-0.129609629511833,-0.038974337279797,-0.008530310355127,0.072408504784107,0.023800956085324,0.049274764955044,0.027557536959648));
res += mul(Get(s2,-dx,-dy), float4x4(0.086012475192547,0.067690968513489,-0.028062477707863,0.059649851173162,-0.019785152748227,-0.012590481899679,-0.029191257432103,0.058838579803705,0.039042938500643,-0.037783581763506,-0.087170019745827,0.044292032718658,-0.016214255243540,0.036428838968277,0.007015655282885,-0.012600106187165));
res += mul(Get(s2,-dx,0), float4x4(0.015715127810836,0.033925499767065,-0.012138582766056,0.056294634938240,-0.017979443073273,-0.059005089104176,-0.053842369467020,0.068458110094070,0.051410358399153,-0.009536241181195,-0.119935981929302,0.055334366858006,-0.016462069004774,0.012489788234234,-0.000685618084390,-0.011336049064994));
res += mul(Get(s2,-dx,dy), float4x4(0.043530538678169,0.021129466593266,-0.001932427287102,0.038253977894783,-0.004846604540944,-0.020273165777326,-0.049112021923065,0.053529452532530,-0.052050299942493,-0.168926492333412,-0.042087599635124,0.003175009740517,-0.036524478346109,-0.018191246315837,-0.007944310083985,-0.011752124875784));
res += mul(Get(s2,0,-dy), float4x4(0.082122899591923,-0.042261328548193,-0.038401342928410,0.034275144338608,-0.035076726227999,-0.072423540055752,0.032782644033432,0.002269556745887,0.050846364349127,0.161246225237846,0.036092828959227,-0.037983845919371,-0.005919863935560,0.114264391362667,0.008817628957331,0.002886471105739));
res += mul(Get(s2,0,0), float4x4(-0.055984240025282,-0.118938863277435,0.007099376991391,0.019367886707187,-0.007800002116710,-0.035010945051908,0.076748102903366,-0.003617244772613,0.061853129416704,-0.008286211639643,-0.045786406844854,-0.049185868352652,-0.005091210827231,0.063415586948395,-0.004619909450412,0.006508369930089));
res += mul(Get(s2,0,dy), float4x4(0.028964320197701,0.082787498831749,0.053920228034258,0.020999122411013,0.023913655430079,-0.061198368668556,0.030129697173834,-0.000531309400685,-0.100448623299599,-0.340015947818756,-0.028216011822224,-0.032359361648560,-0.031020920723677,0.019519608467817,0.000374400464352,-0.002944153035060));
res += mul(Get(s2,dx,-dy), float4x4(0.052197370678186,-0.025670489296317,0.011274665594101,0.006764771882445,0.008032840676606,0.057715948671103,0.022218145430088,0.041522532701492,-0.011403215117753,-0.010215004906058,-0.044934418052435,-0.031805206090212,-0.025131007656455,0.061304312199354,-0.019011866301298,0.003154456149787));
res += mul(Get(s2,dx,0), float4x4(-0.026823466643691,-0.015379842370749,0.039525050669909,0.026742037385702,0.022084090858698,0.232804715633392,0.061436224728823,0.078589677810669,0.000639824313112,-0.009781512431800,0.003704568604007,-0.051461771130562,-0.028771320357919,-0.030372411012650,-0.030617298558354,0.001684652874246));
res += mul(Get(s2,dx,dy), float4x4(0.030455697327852,0.143339678645134,0.021700918674469,0.048251952975988,0.035127911716700,0.123569250106812,0.038386218249798,0.062739305198193,-0.050120960921049,-0.253788053989410,-0.014860590919852,-0.039833281189203,-0.047255363315344,-0.059085637331009,-0.015657572075725,-0.010147423483431));
res += mul(Get(s3,-dx,-dy), float4x4(0.051934063434601,0.033653661608696,0.038902170956135,-0.002021507360041,0.043572384864092,0.121487759053707,0.049861978739500,-0.020369201898575,0.004789897706360,0.010579882189631,-0.005254542455077,0.007899614050984,-0.012344547547400,0.030278714373708,0.027611924335361,-0.099376522004604));
res += mul(Get(s3,-dx,0), float4x4(0.095517873764038,0.031034002080560,0.008600922301412,0.028359206393361,0.044604994356632,-0.060607258230448,-0.009016843512654,-0.015872670337558,-0.007608681451529,-0.034038592129946,-0.006389908026904,0.008164400234818,-0.070918217301369,-0.073616363108158,0.083613164722919,-0.118157327175140));
res += mul(Get(s3,-dx,dy), float4x4(0.006334413774312,-0.031882785260677,-0.005982206668705,0.027658987790346,-0.041496198624372,-0.088491648435593,-0.039313659071922,-0.000867310154717,0.022905847057700,0.100466951727867,0.012907654047012,0.003849022556096,0.036454021930695,0.013396354392171,0.033469464629889,-0.092192150652409));
res += mul(Get(s3,0,-dy), float4x4(0.107664443552494,0.164758116006851,0.031869351863861,0.027644980698824,-0.018702251836658,0.106085114181042,0.042616382241249,0.025598609820008,0.010997561737895,0.041283421218395,0.001938838162459,0.001676763757132,0.033749978989363,-0.052974384278059,0.025231331586838,0.021597631275654));
res += mul(Get(s3,0,0), float4x4(0.118232697248459,0.048287436366081,-0.023062974214554,0.033315759152174,0.093785390257835,0.239153519272804,0.106094978749752,-0.005607439670712,-0.016711462289095,-0.091393060982227,-0.016617694869637,0.002961942693219,0.078362889587879,0.470923066139221,0.232254624366760,0.055919874459505));
res += mul(Get(s3,0,dy), float4x4(-0.023044647648931,-0.034709513187408,-0.012149916961789,0.006732765119523,0.041170213371515,-0.099983669817448,-0.012617858126760,-0.021730564534664,0.018666110932827,0.103589162230492,0.015457564964890,0.003170470939949,0.192984610795975,0.283153802156448,0.047583989799023,0.048169050365686));
res += mul(Get(s3,dx,-dy), float4x4(0.084536954760551,0.099656179547310,-0.003953135106713,0.021769315004349,-0.038996994495392,-0.076205626130104,-0.045466791838408,0.047320198267698,-0.004891211166978,0.036541506648064,-0.001246539060958,0.002885817084461,0.093776486814022,0.034145805984735,0.011659842915833,0.064253717660904));
res += mul(Get(s3,dx,0), float4x4(0.065194487571716,0.002141149248928,-0.015201022848487,-0.007466168142855,-0.010529792867601,0.179746434092522,0.027755372226238,0.063011147081852,-0.013053367845714,-0.055579677224159,-0.001158224185929,0.000311127048917,0.035783123224974,0.249462261795998,0.011711655184627,0.147073388099670));
res += mul(Get(s3,dx,dy), float4x4(-0.035345058888197,-0.014405623078346,-0.006786997895688,-0.021758956834674,0.038901112973690,0.097719684243202,0.043870065361261,0.015171902254224,0.025852350518107,0.110109910368919,0.014913801103830,0.003586109261960,0.053045440465212,0.195757284760475,0.027315497398376,0.062155704945326));
return max(float4(0,0,0,0), res);
}
