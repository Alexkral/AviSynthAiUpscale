sampler s0 : register(s0);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(x, y)   tex2D(s0, tex + float2(x, y))[0]

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += float4(-0.018194790929556,-0.080310173332691,0.195038259029388,-0.025264918804169) * Get(-dx,-dy);
res += float4(0.022302297875285,-0.144605621695518,0.025167018175125,-0.042960580438375) * Get(-dx,0);
res += float4(-0.038253664970398,-0.043813172727823,0.040180556476116,-0.028182776644826) * Get(-dx,dy);
res += float4(0.003294131718576,-0.039449840784073,0.181959986686707,-0.156137764453888) * Get(0,-dy);
res += float4(-0.024438528344035,0.434258371591568,-0.089390121400356,-0.133153945207596) * Get(0,0);
res += float4(0.030745064839721,-0.065930508077145,-0.230027079582214,-0.143820688128471) * Get(0,dy);
res += float4(-0.016270406544209,-0.067980118095875,-0.035714834928513,0.208675101399422) * Get(dx,-dy);
res += float4(-0.029998881742358,-0.067820832133293,-0.145563036203384,0.215871050953865) * Get(dx,0);
res += float4(-0.028786892071366,-0.057159341871738,-0.090706251561642,0.160325184464455) * Get(dx,dy);
return max(float4(0,0,0,0), res);
}
