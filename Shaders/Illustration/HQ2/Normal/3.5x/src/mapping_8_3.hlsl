sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.067245379090309,0.078130759298801,-0.016989447176456,-0.052898269146681,-0.012606172822416,0.009843604639173,0.023168647661805,-0.069770231842995,0.025763144716620,0.082219406962395,-0.009094678796828,0.005984970368445,0.052451815456152,-0.031098175793886,-0.101185485720634,0.165920376777649));
res += mul(Get(s0,-dx,0), float4x4(0.116066969931126,0.041271425783634,0.029095159843564,-0.017231512814760,-0.037912305444479,0.028835074976087,0.002540718764067,-0.051709219813347,-0.042323295027018,0.065965466201305,-0.011772301048040,0.030593244358897,0.073100782930851,-0.112330168485641,-0.006249153986573,0.190815195441246));
res += mul(Get(s0,-dx,dy), float4x4(0.066872812807560,0.053268752992153,-0.031273897737265,-0.024601945653558,-0.006830228492618,-0.007555497344583,0.029505835846066,-0.015560825355351,-0.065907552838326,0.065651774406433,-0.005901721306145,-0.034347679466009,0.074818894267082,-0.090642832219601,0.045181021094322,0.058075539767742));
res += mul(Get(s0,0,-dy), float4x4(0.026857120916247,0.025640770792961,-0.039497412741184,0.108257822692394,0.063961543142796,0.042117882519960,0.066715829074383,-0.028036592528224,0.056067265570164,0.053806602954865,-0.017420737072825,0.052810046821833,-0.038663666695356,-0.010787670500576,-0.033980160951614,0.017511764541268));
res += mul(Get(s0,0,0), float4x4(0.110022090375423,-0.062256980687380,0.043229419738054,0.200919270515442,0.061239015311003,0.054391756653786,0.005869035609066,-0.038113441318274,0.017099544405937,0.012318347580731,-0.037127509713173,0.057839471846819,-0.098408833146095,-0.025430051609874,0.073324464261532,-0.081127114593983));
res += mul(Get(s0,0,dy), float4x4(0.028496591374278,0.021441025659442,0.086166396737099,0.036761499941349,-0.012190391309559,-0.004078007303178,-0.034308325499296,0.047804526984692,-0.097044706344604,0.067912995815277,0.015190622769296,-0.073060102760792,-0.011735327541828,-0.035976335406303,0.028262441977859,-0.061265200376511));
res += mul(Get(s0,dx,-dy), float4x4(-0.016345039010048,0.026183167472482,-0.163052320480347,0.022765098139644,0.087564736604691,-0.030668502673507,0.028594411909580,0.070304855704308,0.052599303424358,0.021097177639604,-0.036891400814056,0.021361107006669,0.003557610325515,0.065974742174149,-0.043279822915792,-0.009233269840479));
res += mul(Get(s0,dx,0), float4x4(-0.065553814172745,-0.000112993526272,-0.079048886895180,0.036155261099339,0.124156028032303,-0.032300136983395,0.035089619457722,0.115710407495499,0.052777469158173,-0.030085433274508,-0.045768368989229,0.047959361225367,-0.006427855230868,0.103324569761753,-0.015954740345478,-0.058488678187132));
res += mul(Get(s0,dx,dy), float4x4(-0.015856433659792,0.035582777112722,-0.010115643031895,-0.029160086065531,-0.025172863155603,-0.031631845980883,0.037467408925295,0.038282454013824,-0.039502114057541,0.028968000784516,-0.031446345150471,0.018540209159255,0.026736630126834,0.030889036133885,-0.052159804850817,-0.001796320662834));
res += mul(Get(s1,-dx,-dy), float4x4(0.036945749074221,-0.009861252270639,-0.051990643143654,-0.038366369903088,0.062265906482935,-0.033468041568995,0.107839390635490,-0.100261978805065,0.092531338334084,-0.022582069039345,0.009606178849936,0.113164648413658,-0.078213714063168,0.082709684967995,0.024552199989557,-0.064896054565907));
res += mul(Get(s1,-dx,0), float4x4(0.013245734386146,-0.021807547658682,0.036855630576611,0.038948811590672,0.010956544429064,0.039359327405691,-0.004434044938534,-0.040990952402353,0.079526796936989,-0.029204107820988,0.077045693993568,0.054478064179420,-0.056884512305260,0.063296139240265,-0.003228202927858,-0.117112264037132));
res += mul(Get(s1,-dx,dy), float4x4(-0.083592765033245,0.027955908328295,0.018634313717484,-0.065223924815655,-0.031365349888802,0.044790711253881,-0.001643232419156,-0.107521928846836,0.033471077680588,0.045545019209385,0.020682942122221,0.001423092675395,-0.091778568923473,0.067143328487873,0.006022886373103,-0.093675628304482));
res += mul(Get(s1,0,-dy), float4x4(0.074157342314720,-0.012283148244023,-0.099590487778187,0.068672202527523,0.033085402101278,-0.033468179404736,0.101264365017414,-0.021558545529842,-0.011769305914640,-0.036931034177542,-0.006079937331378,0.026788691058755,0.018266888335347,0.054452974349260,-0.005121632944793,-0.029576981440187));
res += mul(Get(s1,0,0), float4x4(0.008578855544329,-0.007701689843088,0.000217017470277,0.129204943776131,-0.007825649343431,0.073647521436214,-0.011258788406849,-0.028078619390726,0.043749362230301,-0.045630998909473,0.038033835589886,0.035927072167397,0.058249991387129,0.058377545326948,-0.065346017479897,0.058508638292551));
res += mul(Get(s1,0,dy), float4x4(-0.067626506090164,0.065959349274635,0.083725824952126,-0.087921060621738,-0.005398500245064,0.062507301568985,-0.021246926859021,-0.023062415421009,-0.017682870849967,0.041169654577971,-0.003629682352766,0.060117773711681,-0.027886083349586,0.106200747191906,-0.008985044434667,0.019657751545310));
res += mul(Get(s1,dx,-dy), float4x4(0.033579874783754,-0.040878824889660,-0.039837036281824,0.035356879234314,-0.033966720104218,0.005716617219150,0.080157279968262,-0.130489543080330,0.039219878613949,-0.078734137117863,0.036018233746290,-0.020876083523035,0.016268854960799,0.026087310165167,0.000970095861703,0.025301542133093));
res += mul(Get(s1,dx,0), float4x4(-0.039212021976709,0.001518499804661,-0.006994798779488,-0.023626632988453,-0.018079349771142,0.015218380838633,0.007800599560142,-0.085855640470982,0.060563560575247,-0.113608784973621,0.062309421598911,0.037612266838551,-0.021823866292834,0.055249009281397,-0.067116141319275,0.053001794964075));
res += mul(Get(s1,dx,dy), float4x4(-0.008088115602732,0.047289852052927,0.015387884341180,-0.066180445253849,-0.005644263699651,0.001939880428836,0.000783132854849,-0.028504081070423,-0.005749888252467,-0.054883759468794,0.059030432254076,0.022626066580415,-0.040005732327700,0.111970663070679,-0.062494046986103,0.000888287439011));
res += mul(Get(s2,-dx,-dy), float4x4(0.062893569469452,0.017778586596251,-0.020370919257402,0.002368734451011,-0.091185279190540,-0.019483441486955,0.090803638100624,-0.046486537903547,-0.064720541238785,-0.025620114058256,0.111825153231621,-0.042347230017185,0.049426767975092,0.042655061930418,-0.071297727525234,-0.035072911530733));
res += mul(Get(s2,-dx,0), float4x4(0.090418882668018,-0.001138180843554,0.062078129500151,0.008819845505059,-0.084585189819336,-0.011001294478774,0.059833437204361,0.003557150019333,-0.037947945296764,-0.000956111529376,-0.037669714540243,-0.025082899257541,0.109671279788017,0.012701704166830,0.006228196434677,0.093221075832844));
res += mul(Get(s2,-dx,dy), float4x4(0.038512073457241,-0.021610165014863,0.076353795826435,-0.046716999262571,-0.023772070184350,-0.042152248322964,0.141378611326218,-0.037121571600437,0.000167397898622,-0.008604507893324,0.033522561192513,-0.025075582787395,-0.028565229848027,0.012155096977949,0.024375237524509,0.010527393780649));
res += mul(Get(s2,0,-dy), float4x4(0.041329924017191,0.003550613299012,-0.055070318281651,0.061477985233068,-0.048711642622948,0.095141276717186,-0.017219379544258,-0.081466190516949,-0.020654572173953,-0.023403378203511,0.160743474960327,-0.106349319219589,0.060486905276775,0.013257382437587,-0.128579050302505,0.150900050997734));
res += mul(Get(s2,0,0), float4x4(0.082786291837692,-0.019875479862094,0.026735449209809,0.114545032382011,-0.022369695827365,0.080285876989365,-0.009580928832293,-0.078173398971558,-0.060284383594990,0.005556120071560,-0.040247671306133,-0.081464387476444,-0.007063665892929,0.002066367072985,-0.023729225620627,0.246832877397537));
res += mul(Get(s2,0,dy), float4x4(0.023969957605004,-0.024848794564605,0.095703110098839,0.003174765966833,0.024266123771667,-0.040345948189497,0.114884845912457,-0.046880442649126,0.037980116903782,0.004577089101076,0.030480971559882,-0.074858658015728,-0.074417680501938,0.043946072459221,0.058564838021994,0.011832891032100));
res += mul(Get(s2,dx,-dy), float4x4(0.009361802600324,0.001378010027111,-0.079248845577240,-0.015286577865481,0.053997069597244,0.047228984534740,-0.000977358547971,0.024848224595189,0.105179958045483,-0.077404066920280,0.214605763554573,-0.002177704125643,-0.010003882460296,-0.024882579222322,-0.052953712642193,0.082170531153679));
res += mul(Get(s2,dx,0), float4x4(-0.016313802450895,0.010791885666549,-0.025557043030858,0.007685296237469,0.140358224511147,-0.002994776237756,0.040701590478420,0.123698502779007,0.097258478403091,-0.073157519102097,0.145081669092178,-0.029505068436265,-0.078414216637611,0.027986638247967,0.015862783417106,0.012793284840882));
res += mul(Get(s2,dx,dy), float4x4(-0.021305840462446,-0.005372043699026,0.033332496881485,-0.044165473431349,0.136004894971848,-0.088148303329945,0.114458955824375,0.036999423056841,0.097145631909370,-0.056525707244873,0.079361915588379,0.038715772330761,-0.028118599206209,0.022776190191507,0.010311217047274,-0.030894001945853));
res += mul(Get(s3,-dx,-dy), float4x4(-0.007837139070034,0.062536329030991,-0.021757606416941,-0.046524100005627,0.051849849522114,-0.055129580199718,0.056200455874205,0.033937804400921,0.024065624922514,0.073638454079628,0.055759880691767,-0.060570385307074,-0.042423285543919,0.030840547755361,0.042522683739662,-0.099832408130169));
res += mul(Get(s3,-dx,0), float4x4(0.037682540714741,0.032059606164694,-0.001609424129128,0.055715020745993,0.138937383890152,-0.049895633012056,-0.040324836969376,0.160657584667206,0.141175031661987,0.053537316620350,0.035104129463434,-0.024539725854993,-0.056318752467632,0.073908694088459,-0.011627879925072,-0.059141334146261));
res += mul(Get(s3,-dx,dy), float4x4(0.097757071256638,-0.016620537266135,0.039439808577299,0.042225785553455,0.129127785563469,-0.011461096815765,-0.007326317951083,0.141170576214790,0.060934141278267,0.058072131127119,-0.004684931598604,-0.049960006028414,-0.070044659078121,0.004716407507658,-0.047976158559322,-0.010316963307559));
res += mul(Get(s3,0,-dy), float4x4(-0.015918795019388,0.083647616207600,-0.108227640390396,0.043008983135223,-0.012205970473588,-0.025183850899339,0.095737986266613,-0.043838407844305,0.023104146122932,0.026808831840754,-0.029117764905095,-0.015632672235370,0.025777745991945,-0.047697417438030,-0.013823421671987,-0.071020260453224));
res += mul(Get(s3,0,0), float4x4(-0.059222597628832,0.087171353399754,0.032851900905371,-0.025282284244895,-0.030658284202218,0.016206193715334,-0.033264026045799,0.061695192009211,0.082301013171673,0.004846284165978,-0.140383407473564,0.183646127581596,0.042058084160089,-0.033578258007765,-0.022872447967529,-0.086811035871506));
res += mul(Get(s3,0,dy), float4x4(0.056597992777824,-0.042222216725349,0.027054654434323,0.031957238912582,-0.012450354173779,0.030445260927081,-0.037695106118917,0.080018296837807,-0.003628006204963,0.054986815899611,-0.069704234600067,0.037118028849363,0.029559757560492,-0.071325674653053,0.011264814063907,-0.117813825607300));
res += mul(Get(s3,dx,-dy), float4x4(-0.000846773735248,-0.021611990407109,-0.077365003526211,-0.027790974825621,-0.000419323623646,0.005886581260711,0.062849700450897,-0.118002884089947,-0.026912050321698,0.024661181494594,-0.057658497244120,-0.008947622962296,0.012950086966157,-0.035525955259800,0.026918746531010,-0.096254035830498));
res += mul(Get(s3,dx,0), float4x4(0.063479028642178,-0.022710125893354,0.036515720188618,-0.003985729999840,0.010275906883180,0.035907797515392,-0.037415336817503,-0.049740951508284,-0.057939428836107,0.043329689651728,-0.064665116369724,-0.005276025272906,0.072708949446678,-0.072880856692791,0.046306077390909,-0.045018661767244));
res += mul(Get(s3,dx,dy), float4x4(0.125861316919327,-0.155754804611206,0.044751472771168,0.022459844127297,0.026067635044456,0.003997540567070,-0.030167307704687,-0.024003647267818,-0.014913079328835,0.039440333843231,-0.020325317978859,-0.046564787626266,0.130664184689522,-0.101980373263359,0.030989998951554,-0.044961176812649));
return max(float4(0,0,0,0), res);
}
