sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.051076758652925,-0.098312735557556,-0.006318451836705,-0.064113512635231,-0.011675136163831,-0.029307523742318,0.056973721832037,0.010123867541552,0.031518712639809,0.076540164649487,-0.003162595210597,0.133711248636246,0.010914805345237,0.050005350261927,-0.072528496384621,0.117837846279144));
res += mul(Get(s0,-dx,0), float4x4(0.048879597336054,-0.044973470270634,-0.067169353365898,-0.060019232332706,-0.075969181954861,-0.044959966093302,0.022846782580018,-0.039670549333096,-0.131732597947121,0.158158585429192,0.036746975034475,0.017297714948654,0.021675944328308,0.036601617932320,-0.162302345037460,0.025653533637524));
res += mul(Get(s0,-dx,dy), float4x4(0.070791564881802,0.049539025872946,-0.017306556925178,0.044862605631351,0.086351275444031,0.000573875498958,-0.055309314280748,0.052435833960772,-0.036482416093349,0.140843152999878,-0.014874577522278,0.003460053354502,0.002572690835223,0.045685723423958,-0.102127745747566,0.047492641955614));
res += mul(Get(s0,0,-dy), float4x4(-0.080410540103912,-0.059181746095419,-0.069043628871441,-0.041016552597284,-0.011318673379719,0.044560920447111,0.127001747488976,0.146315887570381,0.005868739914149,-0.053482823073864,0.080698631703854,0.091694988310337,0.001814256189391,0.019497873261571,0.029135849326849,0.159790650010109));
res += mul(Get(s0,0,0), float4x4(-0.078173868358135,-0.083683878183365,-0.068334043025970,-0.068551741540432,-0.100199542939663,-0.049847032874823,0.078029341995716,0.030098997056484,-0.014926463365555,-0.072392582893372,0.029039269313216,0.039536256343126,-0.023183295503259,0.024681199342012,-0.039414551109076,0.023619588464499));
res += mul(Get(s0,0,dy), float4x4(-0.043436627835035,0.013225311413407,-0.034739669412374,0.013549926690757,0.002248270669952,-0.014578381553292,0.057720042765141,-0.001127639552578,0.019198752939701,0.067779541015625,-0.006203212775290,0.025300005450845,-0.068886868655682,-0.007114134728909,-0.032584071159363,0.027808096259832));
res += mul(Get(s0,dx,-dy), float4x4(0.053239606320858,-0.012037423439324,0.043396156281233,0.014045927673578,-0.001959314569831,0.020395347848535,-0.014081627130508,0.067110642790794,-0.081237092614174,-0.087824486196041,-0.022490900009871,0.048786189407110,-0.051796391606331,-0.055858537554741,0.048964314162731,0.110704012215137));
res += mul(Get(s0,dx,0), float4x4(0.012606031261384,-0.006429085042328,0.028413055464625,-0.033378425985575,-0.038913555443287,-0.088251523673534,0.013790069147944,0.034784402698278,-0.064536005258560,-0.093939371407032,-0.072502210736275,0.057408157736063,-0.031430453062057,0.024633586406708,0.033188264816999,0.025693850591779));
res += mul(Get(s0,dx,dy), float4x4(-0.064107805490494,0.033853691071272,0.019494723528624,-0.009252246469259,0.032074395567179,-0.030803026631474,0.030852103605866,-0.013852170668542,-0.013428189791739,-0.035155322402716,-0.070390053093433,0.048994604498148,-0.088649980723858,-0.032901655882597,0.061813298612833,0.044364962726831));
res += mul(Get(s1,-dx,-dy), float4x4(-0.022101851180196,-0.025632493197918,-0.023534048348665,0.026683380827308,0.001250347704627,-0.059498451650143,-0.002337132347748,-0.007858967408538,0.084849201142788,0.096272200345993,-0.049427997320890,-0.098808288574219,-0.006847780663520,-0.055705863982439,-0.126510828733444,0.092381082475185));
res += mul(Get(s1,-dx,0), float4x4(-0.010789158754051,0.016074182465672,-0.143915250897408,-0.037112664431334,0.001689513679594,-0.033043060451746,-0.064360000193119,-0.023355282843113,-0.081527575850487,-0.009725538082421,-0.029517684131861,-0.093414023518562,-0.017616102471948,-0.117776557803154,-0.075814723968506,-0.026731217280030));
res += mul(Get(s1,-dx,dy), float4x4(0.031563512980938,0.068129867315292,-0.035634111613035,0.004094721749425,0.049831993877888,-0.080093473196030,-0.057836618274450,-0.004066837485880,-0.056505080312490,0.084922753274441,-0.043276842683554,0.010048368014395,-0.021635597571731,-0.049854405224323,-0.075934655964375,-0.062041942030191));
res += mul(Get(s1,0,-dy), float4x4(-0.059276532381773,0.081377528607845,-0.008520632050931,0.056597035378218,-0.023656437173486,-0.032261263579130,0.065726235508919,-0.083101928234100,0.052027817815542,0.170612335205078,-0.045471660792828,-0.037374857813120,0.032449953258038,-0.058507494628429,-0.062104456126690,0.120336852967739));
res += mul(Get(s1,0,0), float4x4(-0.030100610107183,-0.028878930956125,-0.101470924913883,-0.045944426208735,-0.018360374495387,-0.010919627733529,-0.081652611494064,-0.118084244430065,-0.052688673138618,0.078204959630966,-0.039941560477018,-0.001731505384669,0.066642709076405,-0.053020350635052,0.181588858366013,0.003704234492034));
res += mul(Get(s1,0,dy), float4x4(0.066173940896988,0.044307768344879,-0.046891629695892,-0.008936403319240,0.023328559473157,-0.034357234835625,-0.066535867750645,-0.053649060428143,-0.080689974129200,0.014001074247062,-0.087054744362831,-0.006011390127242,0.041882175952196,-0.042010892182589,0.038073331117630,-0.085635952651501));
res += mul(Get(s1,dx,-dy), float4x4(-0.035506237298250,-0.025269724428654,-0.030534116551280,0.007645193953067,-0.047763023525476,0.002052947878838,0.023866185918450,-0.100695997476578,0.047824420034885,-0.093844175338745,-0.079653136432171,-0.044168315827847,-0.082046858966351,-0.028601227328181,-0.000884922046680,-0.040248423814774));
res += mul(Get(s1,dx,0), float4x4(-0.048359189182520,0.014215344563127,-0.095709316432476,-0.036466255784035,-0.071188710629940,0.005846039857715,-0.049728684127331,-0.107952579855919,0.103965096175671,0.076265782117844,-0.095819674432278,-0.013172669336200,-0.070546664297581,-0.052451200783253,0.111989714205265,0.060151241719723));
res += mul(Get(s1,dx,dy), float4x4(-0.008052160032094,-0.024709112942219,-0.044485274702311,-0.026689518243074,-0.004325212445110,0.005430509801954,-0.075906753540039,-0.070190675556660,0.031387791037560,0.039735354483128,-0.016049453988671,0.005894913338125,0.009113275445998,-0.099348470568657,-0.051162932068110,-0.026188893243670));
res += mul(Get(s2,-dx,-dy), float4x4(-0.021133549511433,0.015173245221376,-0.029290175065398,-0.114713504910469,0.018389483913779,0.055023368448019,-0.024432579055429,0.037163380533457,0.050964657217264,-0.023144898936152,0.024530036374927,-0.024227691814303,0.012951038777828,0.048043496906757,-0.023084739223123,-0.056051246821880));
res += mul(Get(s2,-dx,0), float4x4(-0.030843859538436,0.041031803935766,-0.023121399804950,-0.027815273031592,0.016685679554939,0.037052053958178,0.075027823448181,0.080634027719498,0.003256825730205,0.068403579294682,-0.022171318531036,0.007783304899931,-0.093545041978359,-0.059861902147532,0.002424727426842,-0.043006218969822));
res += mul(Get(s2,-dx,dy), float4x4(-0.055301491171122,0.042165383696556,0.001836306648329,0.009905157610774,0.097748905420303,0.050051376223564,-0.004615637008101,0.006612525321543,0.050327479839325,-0.060015328228474,-0.074674367904663,-0.074767552316189,0.034760951995850,-0.085183396935463,-0.042409185320139,-0.009912418201566));
res += mul(Get(s2,0,-dy), float4x4(0.004330677911639,-0.119689583778381,-0.023869626224041,-0.118909880518913,0.058688398450613,-0.002308766590431,0.017503013834357,0.035795345902443,0.073126129806042,-0.080918803811073,0.106955580413342,-0.072730533778667,-0.013819775544107,0.122422799468040,0.013109137304127,-0.075474627315998));
res += mul(Get(s2,0,0), float4x4(0.025522049516439,-0.010738919489086,-0.013155743479729,-0.000832055462524,0.012351117096841,-0.035860877484083,0.088775597512722,0.112393535673618,0.040485445410013,0.039524946361780,-0.008831324987113,-0.057565227150917,-0.062104012817144,0.063500031828880,0.033583503216505,0.012671326287091));
res += mul(Get(s2,0,dy), float4x4(-0.019814273342490,-0.014881024137139,0.013641197234392,-0.021267443895340,0.098583303391933,-0.013231116347015,0.033173982053995,0.038535542786121,0.162555396556854,0.103418208658695,-0.054994788020849,-0.034005187451839,-0.002609627321362,-0.006881400477141,0.017004439607263,0.003678086213768));
res += mul(Get(s2,dx,-dy), float4x4(-0.024420551955700,-0.040080796927214,-0.045607101172209,-0.105190746486187,0.041515834629536,-0.020275572314858,0.053950794041157,-0.065709106624126,-0.058889083564281,-0.058344300836325,-0.031764682382345,-0.052483309060335,0.016857484355569,0.105314902961254,-0.025310959666967,-0.123232081532478));
res += mul(Get(s2,dx,0), float4x4(-0.034365683794022,0.016412544995546,0.034922074526548,-0.021899599581957,-0.057873830199242,-0.028612723574042,0.011994115076959,0.058184683322906,-0.002852857578546,-0.019176892936230,-0.048100993037224,-0.070892028510571,0.017191030085087,0.034713644534349,-0.035834427922964,-0.011317859403789));
res += mul(Get(s2,dx,dy), float4x4(0.048156965523958,-0.110010147094727,0.078894630074501,-0.065432578325272,0.001536440337077,0.002969214925542,0.027521025389433,0.075681380927563,0.144563898444176,0.113063938915730,0.075505428016186,-0.038274038583040,0.075978554785252,0.051103219389915,0.070680797100067,-0.017343785613775));
res += mul(Get(s3,-dx,-dy), float4x4(0.030616490170360,0.081193260848522,-0.187171265482903,0.108145803213120,-0.044950399547815,0.109662838280201,-0.049552198499441,-0.011300123296678,-0.012987323105335,0.065537407994270,0.005726328119636,0.089214421808720,-0.053277697414160,-0.166214704513550,-0.118983224034309,-0.056273903697729));
res += mul(Get(s3,-dx,0), float4x4(-0.021644927561283,-0.000129848966026,-0.154583677649498,0.023405766114593,0.037432186305523,0.145815849304199,0.280148178339005,0.147677689790726,-0.012379748746753,0.079360537230968,-0.013686666265130,-0.016525708138943,0.045381046831608,-0.039470970630646,-0.138569146394730,0.008759907446802));
res += mul(Get(s3,-dx,dy), float4x4(0.063440598547459,-0.026517877355218,-0.077693589031696,0.020979000255466,0.056286513805389,-0.081254608929157,0.108933158218861,-0.046976871788502,0.168798834085464,0.130042925477028,0.031373810023069,-0.047154642641544,0.250716120004654,0.047340460121632,-0.014750801958144,-0.040967043489218));
res += mul(Get(s3,0,-dy), float4x4(0.055953681468964,0.087011128664017,0.039902627468109,0.034490399062634,-0.000653102470096,-0.048118270933628,0.079403400421143,-0.070911318063736,-0.073650926351547,-0.030031738802791,-0.062630847096443,0.031636200845242,-0.156185060739517,0.055054757744074,0.016514008864760,0.021104026585817));
res += mul(Get(s3,0,0), float4x4(0.026907958090305,0.070780798792839,0.132345020771027,0.060382489115000,-0.037104800343513,-0.015791555866599,-0.049998719245195,-0.023364627733827,-0.066252492368221,0.008091648109257,-0.043517686426640,-0.019441934302449,-0.140859305858612,0.027744403108954,-0.038610301911831,0.023851294070482));
res += mul(Get(s3,0,dy), float4x4(0.006111473310739,-0.040114179253578,-0.035575672984123,-0.030033845454454,0.109956726431847,0.010991454124451,0.084831938147545,0.034553460776806,0.050932228565216,0.049300737679005,-0.031550109386444,-0.016125272959471,0.097377240657806,-0.008389331400394,0.032265253365040,-0.099460601806641));
res += mul(Get(s3,dx,-dy), float4x4(0.022037129849195,-0.026215771213174,0.118995770812035,-0.078187257051468,-0.032196946442127,0.010411888360977,-0.016640864312649,-0.030186967924237,-0.064636610448360,0.024896459653974,0.014339015819132,0.016505550593138,-0.069703333079815,-0.008382127620280,0.115620367228985,0.020144853740931));
res += mul(Get(s3,dx,0), float4x4(0.022428633645177,0.017858458682895,0.115924775600433,0.020586274564266,-0.083274073898792,-0.057883758097887,-0.038248360157013,0.001618714770302,-0.070205010473728,-0.012198604643345,0.062379296869040,-0.059973362833261,-0.041329100728035,-0.092602543532848,0.027108589187264,0.010185519233346));
res += mul(Get(s3,dx,dy), float4x4(0.003187344642356,0.002196038607508,0.021595375612378,-0.084020890295506,0.049679782241583,-0.031795248389244,0.059856176376343,0.044313184916973,0.078909672796726,-0.012457364238799,-0.004353412427008,-0.026781952008605,-0.026181543245912,-0.126380249857903,0.006789633072913,-0.165614977478981));
return max(float4(0,0,0,0), res);
}
