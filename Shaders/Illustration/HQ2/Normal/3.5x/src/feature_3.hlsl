sampler s0 : register(s0);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(x, y)   tex2D(s0, tex + float2(x, y))[0]

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += float4(0.093469575047493,-0.230822592973709,0.010870036669075,-0.007205230183899) * Get(-dx,-dy);
res += float4(-0.018300510942936,-0.198177799582481,-0.097806319594383,-0.043294638395309) * Get(-dx,0);
res += float4(-0.149972960352898,0.211483716964722,-0.009840946644545,0.025949958711863) * Get(-dx,dy);
res += float4(-0.389672249555588,0.044453077018261,-0.109582170844078,0.344674676656723) * Get(0,-dy);
res += float4(0.656441211700439,-0.066425383090973,-0.012450090609491,-0.052453212440014) * Get(0,0);
res += float4(-0.074030697345734,0.232318937778473,-0.192654103040695,0.036268077790737) * Get(0,dy);
res += float4(0.219173386693001,-0.014168770052493,0.079441078007221,0.014117442071438) * Get(dx,-dy);
res += float4(-0.292557716369629,-0.132118910551071,0.351328760385513,-0.175894320011139) * Get(dx,0);
res += float4(0.060087278485298,-0.070621609687805,0.023722879588604,-0.025056479498744) * Get(dx,dy);
return max(float4(0,0,0,0), res);
}
