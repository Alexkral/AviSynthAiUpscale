sampler s0 : register(s0);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(x, y)   tex2D(s0, tex + float2(x, y))[0]

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += float4(0.233793482184410,0.043530762195587,0.058410108089447,-0.043306492269039) * Get(-dx,-dy);
res += float4(0.197563678026199,-0.276923358440399,-0.097460761666298,-0.045878361910582) * Get(-dx,0);
res += float4(-0.029041280969977,-0.240188345313072,-0.105839826166630,-0.055146161466837) * Get(-dx,dy);
res += float4(-0.087252765893936,0.241580545902252,-0.031441107392311,0.010543780401349) * Get(0,-dy);
res += float4(-0.088992767035961,-0.006878985092044,0.043562747538090,-0.039059169590473) * Get(0,0);
res += float4(-0.224760577082634,-0.191525503993034,-0.109339043498039,0.034222703427076) * Get(0,dy);
res += float4(0.002247311873361,0.101263351738453,-0.026817966252565,0.028414450585842) * Get(dx,-dy);
res += float4(-0.172393590211868,-0.058106262236834,-0.070958435535431,-0.091298118233681) * Get(dx,0);
res += float4(-0.112587004899979,0.014638410881162,0.020793333649635,-0.023989744484425) * Get(dx,dy);
return max(float4(0,0,0,0), res);
}
