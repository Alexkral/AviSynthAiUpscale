sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.022144401445985,-0.150482714176178,-0.076032765209675,0.027696006000042,-0.017825629562140,-0.036966297775507,0.038192909210920,-0.038475424051285,0.151038706302643,-0.018630269914865,0.145454123616219,0.063804402947426,-0.008803939446807,-0.013327690772712,0.134629756212234,0.011875666677952));
res += mul(Get(s0,-dx,0), float4x4(0.004293558653444,-0.041958294808865,-0.103442013263702,0.047991130501032,-0.005226511042565,-0.037196449935436,-0.005359478760511,-0.043528243899345,0.035576384514570,-0.005762849934399,0.048014394938946,0.005024160724133,0.063129276037216,-0.049359682947397,0.065798118710518,-0.059676993638277));
res += mul(Get(s0,-dx,dy), float4x4(0.042528461664915,-0.053525201976299,-0.083002418279648,-0.033558201044798,-0.059749718755484,0.036173038184643,0.017310997471213,-0.012411900795996,0.060288913547993,0.002645151223987,0.080139629542828,0.026195146143436,0.080941237509251,-0.043704126030207,0.060259416699409,-0.065780088305473));
res += mul(Get(s0,0,-dy), float4x4(0.023018715903163,-0.113146156072617,0.059007316827774,0.115877829492092,-0.111313328146935,0.017071051523089,0.018423145636916,-0.052073061466217,0.032115403562784,0.016973257064819,-0.015410877764225,0.022270074114203,-0.027742547914386,0.116699360311031,-0.076778307557106,0.069469071924686));
res += mul(Get(s0,0,0), float4x4(0.013747319579124,-0.028768733143806,0.016377819702029,0.048586793243885,-0.026726387441158,0.001858834293671,-0.035923022776842,-0.006928401533514,0.047510940581560,0.048483174294233,-0.028763391077518,0.056409876793623,0.022387258708477,0.015642955899239,0.122141018509865,-0.065455630421638));
res += mul(Get(s0,0,dy), float4x4(0.022814653813839,-0.047636985778809,0.001147848553956,-0.013391777873039,-0.070541188120842,0.043526142835617,-0.089833714067936,-0.013471193611622,0.016760626807809,-0.008652745746076,0.080925241112709,0.027155581861734,-0.041616961359978,0.055706046521664,0.093249931931496,-0.037827227264643));
res += mul(Get(s0,dx,-dy), float4x4(0.049519769847393,-0.013355523347855,0.043296467512846,0.092610470950603,-0.035588402301073,0.039982929825783,0.045225907117128,-0.003607136663049,0.034482222050428,0.032226424664259,-0.106300257146358,0.034987341612577,-0.076276756823063,0.116204768419266,0.031378876417875,0.066185988485813));
res += mul(Get(s0,dx,0), float4x4(-0.004088779911399,0.053240507841110,0.009038181044161,0.036991521716118,-0.056644722819328,0.116407528519630,0.043881740421057,-0.037381544709206,0.014960042200983,0.086560010910034,-0.047362122684717,0.002148188417777,0.024423703551292,0.185398325324059,0.001368710072711,0.005574038252234));
res += mul(Get(s0,dx,dy), float4x4(-0.003857335774228,0.010959153994918,0.033233620226383,-0.002681722398847,-0.085043005645275,0.013177019543946,-0.002757734851912,-0.018650395795703,0.004264526069164,0.134009912610054,-0.010485271923244,-0.030478162690997,-0.004433492198586,0.024929281324148,-0.118027009069920,0.023925198242068));
res += mul(Get(s1,-dx,-dy), float4x4(0.037397813051939,0.068810023367405,0.047262229025364,0.038141984492540,0.141740575432777,0.051671091467142,0.051888708025217,-0.004039194434881,0.022526854649186,-0.098709873855114,0.251149445772171,-0.066403657197952,-0.020812533795834,0.010003949515522,0.048186894506216,-0.022483438253403));
res += mul(Get(s1,-dx,0), float4x4(0.110274113714695,-0.029766904190183,-0.051172569394112,-0.013036251068115,-0.034716952592134,-0.008672968484461,0.081179052591324,-0.028478067368269,-0.066551156342030,-0.068349659442902,0.240039721131325,0.043403856456280,0.010602802969515,0.056433245539665,0.063250474631786,0.042697928845882));
res += mul(Get(s1,-dx,dy), float4x4(0.047065015882254,-0.009502775967121,-0.024103725329041,-0.006618186831474,-0.122100390493870,0.019984135404229,0.056443139910698,-0.088438712060452,-0.123715527355671,-0.190605998039246,-0.019191823899746,-0.076942972838879,-0.023155149072409,0.040561057627201,0.056841295212507,0.094304196536541));
res += mul(Get(s1,0,-dy), float4x4(-0.007177079096437,0.119631730020046,-0.032669838517904,0.038769323378801,0.021653862670064,-0.007532855030149,-0.016680346801877,0.014094340614974,-0.024270355701447,-0.006062123924494,-0.203603386878967,-0.088900648057461,0.002566691953689,-0.014522559940815,-0.040170438587666,-0.034009777009487));
res += mul(Get(s1,0,0), float4x4(0.123184069991112,0.005340634379536,0.082852125167847,0.056155767291784,-0.126386612653732,-0.018105125054717,-0.031658973544836,0.021053319796920,0.093100823462009,0.094978146255016,0.028452601283789,0.091783024370670,0.061701849102974,0.002740033436567,0.039895340800285,-0.015486774966121));
res += mul(Get(s1,0,dy), float4x4(-0.055625814944506,-0.074539005756378,0.066396370530128,-0.006282357033342,-0.133122682571411,0.060477115213871,-0.023380527272820,0.027885925024748,-0.067237526178360,-0.048474818468094,-0.049798734486103,-0.022232297807932,0.058850780129433,0.057423684746027,0.001258645788766,0.101614445447922));
res += mul(Get(s1,dx,-dy), float4x4(0.009635319001973,0.046777471899986,-0.011360876262188,-0.061553522944450,0.000524085422512,0.017396869137883,0.046729922294617,-0.002178801456466,-0.047202680259943,-0.007367485668510,-0.159472018480301,-0.107138454914093,-0.020104171708226,0.004679886624217,0.008449208922684,-0.009801652282476));
res += mul(Get(s1,dx,0), float4x4(0.072988204658031,0.086211882531643,0.014439132995903,0.026511356234550,-0.120686180889606,0.059543106704950,0.067922823131084,0.007368017453700,0.079094566404819,0.138326466083527,0.092864193022251,0.036822419613600,0.010564046911895,-0.062157176434994,0.018190274015069,-0.008372902870178));
res += mul(Get(s1,dx,dy), float4x4(0.115808546543121,0.017852790653706,-0.009645848535001,0.033509384840727,-0.157732412219048,-0.005104809999466,0.026495186612010,0.000299995474052,0.019269207492471,-0.014592654071748,-0.100074425339699,0.049345735460520,-0.002479759510607,-0.007498210761696,-0.003259201301262,0.021805247291923));
res += mul(Get(s2,-dx,-dy), float4x4(-0.006108138244599,-0.004684892483056,0.121154151856899,0.012885255739093,0.104268424212933,-0.183196619153023,-0.000078510034655,-0.073160208761692,0.102554999291897,-0.146550893783569,-0.169966802000999,-0.117963649332523,-0.008914437144995,-0.064014688134193,0.056854970753193,0.053534124046564));
res += mul(Get(s2,-dx,0), float4x4(-0.043531756848097,0.079613186419010,0.094236008822918,-0.030090950429440,-0.033015485852957,-0.042579606175423,-0.132549792528152,-0.134429246187210,0.088429912924767,-0.009267372079194,-0.095106385648251,-0.027037205174565,-0.038898903876543,0.090518936514854,0.086211852729321,0.010680214501917));
res += mul(Get(s2,-dx,dy), float4x4(0.029943834990263,-0.047166064381599,0.038603432476521,0.068629756569862,-0.064221553504467,-0.078082859516144,0.001733552548103,0.105712167918682,-0.002379607176408,0.040080893784761,-0.003523355349898,0.016644496470690,-0.073306448757648,-0.017533402889967,-0.014802504330873,-0.042322717607021));
res += mul(Get(s2,0,-dy), float4x4(0.002062045503408,0.025550954043865,-0.015560575760901,-0.019130632281303,0.125975593924522,-0.162168368697166,0.054857447743416,0.001828304841183,-0.038060270249844,-0.119313165545464,-0.154348805546761,-0.115280628204346,-0.022294146940112,-0.097605720162392,-0.046018321067095,0.068015061318874));
res += mul(Get(s2,0,0), float4x4(-0.027171488851309,0.095899268984795,0.125976264476776,-0.082775078713894,0.011032925918698,-0.138367965817451,-0.029474332928658,-0.132704541087151,-0.085549362003803,0.061602164059877,-0.139955937862396,-0.084499925374985,0.006541161332279,0.135025784373283,0.050363812595606,0.039453461766243));
res += mul(Get(s2,0,dy), float4x4(0.016832277178764,0.010712614282966,0.021292667835951,-0.055213447660208,-0.054396625608206,-0.111329108476639,-0.031802013516426,-0.004146218765527,-0.013346224091947,0.044651389122009,-0.023615717887878,-0.034130074083805,-0.091222569346428,0.024413324892521,0.011349621228874,0.017422100529075));
res += mul(Get(s2,dx,-dy), float4x4(0.046366382390261,-0.068612679839134,-0.048890776932240,-0.029641263186932,0.053365021944046,0.119925394654274,0.101531162858009,0.053951658308506,-0.058933153748512,0.061542607843876,0.005555475130677,-0.112270675599575,-0.009205611422658,-0.119471609592438,-0.082050479948521,0.102279834449291));
res += mul(Get(s2,dx,0), float4x4(0.020760094746947,0.052634142339230,0.074889369308949,-0.104124046862125,0.172776237130165,0.039543699473143,0.169130653142929,-0.010896823368967,-0.042260602116585,0.088076457381248,-0.065800771117210,-0.064765483140945,-0.066532112658024,0.152875885367393,0.044323932379484,0.067017540335655));
res += mul(Get(s2,dx,dy), float4x4(-0.020673150196671,-0.033865898847580,0.012975801713765,-0.034733366221189,-0.075737446546555,-0.046368118375540,0.051944244652987,-0.031785968691111,-0.046893071383238,-0.021860608831048,-0.084247134625912,0.011246333830059,-0.008425837382674,0.085941895842552,0.025407359004021,0.118947334587574));
res += mul(Get(s3,-dx,-dy), float4x4(-0.000139831478009,-0.033874142915010,-0.072291672229767,-0.051142178475857,-0.013875839300454,-0.028320392593741,-0.029361234977841,-0.002816242864355,-0.108781628310680,-0.009488300420344,-0.104811944067478,0.035004630684853,0.022134575992823,-0.013458623550832,-0.053694073110819,-0.044647056609392));
res += mul(Get(s3,-dx,0), float4x4(-0.031611677259207,0.048702653497458,-0.094046577811241,0.020635532215238,0.026910241693258,-0.030243273824453,0.046558029949665,0.012301680631936,-0.119768694043159,0.053322687745094,-0.052511934190989,0.027414221316576,0.003229942172766,-0.076429523527622,-0.063707992434502,0.002773892600089));
res += mul(Get(s3,-dx,dy), float4x4(-0.082159504294395,0.099793218076229,-0.000454436172731,0.117452755570412,0.009163576178253,-0.046689234673977,0.058985423296690,-0.007038501556963,0.007895438931882,-0.054324313998222,0.012310029007494,0.108959279954433,0.001941846800037,-0.002276679268107,-0.047430422157049,0.039731025695801));
res += mul(Get(s3,0,-dy), float4x4(0.055017884820700,-0.075794145464897,0.027823384851217,-0.026307597756386,-0.012660941109061,-0.049073297530413,-0.018477052450180,-0.055305976420641,-0.118015348911285,-0.062097754329443,-0.066005751490593,-0.035949468612671,0.050435937941074,0.009731709025800,-0.144896939396858,-0.003207718720660));
res += mul(Get(s3,0,0), float4x4(-0.061190083622932,-0.009525875560939,0.009966802783310,-0.077376872301102,-0.005557672586292,-0.036166157573462,0.068804897367954,0.005629185121506,-0.027197351679206,0.071754716336727,-0.035085108131170,-0.005158725194633,0.215591520071030,0.031753629446030,-0.068174503743649,0.069567777216434));
res += mul(Get(s3,0,dy), float4x4(-0.072485141456127,0.192933648824692,-0.022240743041039,0.000353045936208,-0.001480317558162,-0.046508409082890,0.004059450235218,0.025878766551614,0.078906007111073,-0.015614571049809,0.045275069773197,0.115273103117943,0.064443394541740,0.055106796324253,-0.017864627763629,0.054032646119595));
res += mul(Get(s3,dx,-dy), float4x4(0.194401249289513,0.070549540221691,-0.040429562330246,0.067902073264122,-0.002659083809704,-0.006540325935930,-0.013291535899043,-0.028706973418593,-0.015265068039298,-0.059220504015684,0.061285037547350,-0.039061777293682,-0.100413806736469,-0.106756754219532,0.024523288011551,-0.056246828287840));
res += mul(Get(s3,dx,0), float4x4(-0.035308815538883,0.036854345351458,-0.049841653555632,0.041363362222910,-0.001272936235182,-0.051693528890610,0.009968649595976,0.015008874237537,0.073025479912758,-0.033359277993441,0.071372859179974,-0.065812632441521,0.077967457473278,0.059516638517380,-0.004133767448366,-0.008654691278934));
res += mul(Get(s3,dx,dy), float4x4(-0.110967896878719,0.067775472998619,0.024373548105359,0.013544877991080,0.052623242139816,-0.038127616047859,0.019320772960782,-0.012561203911901,0.084754996001720,-0.051605202257633,0.059741728007793,0.080286033451557,-0.004773429594934,0.127678915858269,-0.078106775879860,-0.037585824728012));
return max(float4(0,0,0,0), res);
}
