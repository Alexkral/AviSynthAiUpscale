sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.032807644456625,-0.048952139914036,-0.038381330668926,-0.084705010056496,-0.032501284033060,0.031600896269083,0.016496144235134,-0.023080518469214,0.012064261361957,0.052622660994530,-0.030216585844755,0.087837137281895,0.067826680839062,0.038765605539083,-0.158881589770317,0.105565197765827));
res += mul(Get(s0,-dx,0), float4x4(0.015504100359976,-0.074597619473934,-0.048437863588333,-0.045274831354618,-0.023734062910080,0.069100782275200,0.036234259605408,0.027572957798839,-0.007474797777832,-0.010934709571302,0.051310345530510,0.008277560584247,0.059884805232286,-0.110030353069305,0.014870821498334,-0.102720119059086));
res += mul(Get(s0,-dx,dy), float4x4(-0.017472550272942,-0.058601137250662,-0.031942810863256,-0.047676909714937,-0.003069617087021,0.026213401928544,0.007006387226284,0.001517859054729,-0.030647870153189,0.042306017130613,0.081163808703423,-0.010921792127192,0.018318915739655,-0.051971562206745,-0.024319794028997,-0.046620450913906));
res += mul(Get(s0,0,-dy), float4x4(-0.002702667145059,0.061998445540667,-0.083989597856998,0.124529823660851,0.016973940655589,0.025935890153050,0.003081524744630,-0.074114628136158,0.001349000027403,0.108405895531178,-0.068002104759216,0.194698289036751,-0.022784074768424,0.097881242632866,-0.036190882325172,0.122641302645206));
res += mul(Get(s0,0,0), float4x4(0.000453629530966,-0.071704424917698,0.014974205754697,-0.012222236953676,0.050691492855549,0.152805700898170,-0.058491203933954,0.061727780848742,-0.019153933972120,-0.023750774562359,0.052577912807465,-0.002617795486003,-0.076156020164490,-0.039721027016640,0.108953237533569,-0.000691898167133));
res += mul(Get(s0,0,dy), float4x4(-0.045011349022388,-0.056575741618872,0.093099534511566,-0.108408808708191,0.024066288024187,0.133150935173035,-0.074652470648289,0.104958727955818,-0.027641395106912,0.044980268925428,0.125088497996330,-0.051543008536100,-0.058709062635899,-0.026185158640146,-0.023630471900105,0.056287731975317));
res += mul(Get(s0,dx,-dy), float4x4(0.004247641656548,0.022871248424053,-0.021521905437112,0.044705510139465,0.051924940198660,-0.045702613890171,-0.012544744648039,-0.009082227945328,-0.023694528266788,0.069801941514015,-0.044907175004482,0.189003050327301,-0.044528964906931,0.058544404804707,-0.002402216428891,0.021465945988894));
res += mul(Get(s0,dx,0), float4x4(-0.010062766261399,-0.062304269522429,0.124305494129658,-0.105286866426468,0.069912143051624,-0.048838496208191,-0.019665451720357,-0.079628810286522,-0.026483623310924,-0.028521634638309,-0.040622714906931,0.057073321193457,-0.042390745133162,0.065433681011200,0.058893013745546,0.014773912727833));
res += mul(Get(s0,dx,dy), float4x4(0.002687118947506,-0.055969338864088,0.089457005262375,-0.135504245758057,0.000665166298859,-0.015833843499422,0.015836536884308,-0.031720638275146,-0.014087242074311,-0.010406801477075,0.050198376178741,-0.077789999544621,-0.020720455795527,0.046697817742825,0.004911263007671,0.021253030747175));
res += mul(Get(s1,-dx,-dy), float4x4(0.003147820243612,0.076674945652485,-0.091728210449219,0.074329562485218,-0.020542250946164,-0.047700017690659,0.037726458162069,0.086570784449577,0.049551822245121,-0.077024303376675,-0.071094594895840,-0.057955082505941,-0.047133598476648,0.011028198525310,0.142825156450272,-0.043978001922369));
res += mul(Get(s1,-dx,0), float4x4(0.010402614250779,0.021121198311448,-0.031039193272591,0.005883211735636,-0.020670015364885,0.028972672298551,0.047843169420958,0.005374985281378,0.052319198846817,-0.055652633309364,0.052992098033428,-0.093960873782635,-0.058068715035915,0.039408195763826,0.100922733545303,-0.000362726568710));
res += mul(Get(s1,-dx,dy), float4x4(-0.019262015819550,0.007892374880612,0.055082052946091,-0.059208426624537,-0.002452709712088,0.098440006375313,0.016946557909250,0.128936231136322,0.015649728477001,0.013396082445979,0.026146907359362,-0.130038052797318,-0.049620445817709,0.026264963671565,0.137185320258141,-0.017561964690685));
res += mul(Get(s1,0,-dy), float4x4(0.017511229962111,0.124254815280437,-0.144432395696640,0.126624718308449,-0.033709045499563,-0.073116444051266,0.114973150193691,0.135647639632225,-0.011474080383778,-0.012457586824894,0.037571221590042,-0.004090007860214,0.021868553012609,0.022699110209942,0.044615458697081,0.020618455484509));
res += mul(Get(s1,0,0), float4x4(-0.028248669579625,-0.005719724111259,0.002098078140989,-0.031743284314871,-0.006199734751135,0.013519151136279,0.175568059086800,-0.027878154069185,0.018909534439445,0.006598113104701,0.114289000630379,-0.027589298784733,0.023511977866292,0.030424855649471,-0.023345410823822,0.015750663354993));
res += mul(Get(s1,0,dy), float4x4(-0.035731893032789,0.013205769471824,0.097162358462811,-0.062669530510902,0.016737362369895,0.175709217786789,-0.007707622367889,0.152738690376282,0.026919290423393,0.040274150669575,0.068741895258427,-0.127478227019310,0.008914399892092,0.009955535642803,0.112949550151825,-0.055883646011353));
res += mul(Get(s1,dx,-dy), float4x4(-0.024786718189716,0.025143677368760,-0.053610194474459,0.022473676130176,-0.068930394947529,-0.018590945750475,0.112560123205185,0.155481666326523,-0.039129335433245,-0.029103295877576,-0.018555825576186,-0.003234601346776,0.002282726112753,-0.015267068520188,0.063461564481258,0.001848658779636));
res += mul(Get(s1,dx,0), float4x4(-0.046193920075893,0.026721052825451,0.049959719181061,0.016754571348429,-0.022173648700118,-0.014363805763423,0.077718622982502,0.043905854225159,-0.003129947464913,-0.010410636663437,0.022503433749080,0.005578107666224,-0.004541623406112,0.017110843211412,0.047588266432285,0.023304592818022));
res += mul(Get(s1,dx,dy), float4x4(-0.013139790855348,0.027925703674555,0.031961884349585,-0.041761454194784,-0.050510335713625,0.054441012442112,0.003416690975428,0.066571272909641,-0.001559407333843,-0.014360190369189,0.046382900327444,-0.084535874426365,-0.007570186164230,0.004526973236352,0.092530369758606,-0.069797940552235));
res += mul(Get(s2,-dx,-dy), float4x4(-0.021565701812506,0.040439497679472,-0.057738773524761,0.039401158690453,-0.033123120665550,-0.079372838139534,0.210213214159012,-0.004384506493807,-0.017127096652985,-0.044951006770134,0.124373607337475,-0.006729644723237,0.042895503342152,0.063698709011078,-0.026419492438436,0.067220054566860));
res += mul(Get(s2,-dx,0), float4x4(-0.017605399712920,-0.013462639413774,0.007356517016888,-0.038750838488340,-0.047558143734932,0.004283472429961,0.132640466094017,-0.022383002564311,-0.013810715638101,-0.018703049048781,0.009199772030115,-0.002776029752567,0.098893575370312,0.043129734694958,-0.054254472255707,-0.032967340201139));
res += mul(Get(s2,-dx,dy), float4x4(-0.033356189727783,-0.007731086108834,0.001539523480460,0.009546534158289,-0.048663489520550,-0.026784069836140,0.056369993835688,-0.045533061027527,-0.002110758330673,-0.012041363865137,0.007542818784714,0.037820123136044,0.025566594675183,0.037477057427168,-0.015024303458631,-0.036098577082157));
res += mul(Get(s2,0,-dy), float4x4(-0.016140675172210,0.093229934573174,-0.051481094211340,0.131592378020287,0.022920008748770,-0.001292622881010,0.181228607892990,-0.126452460885048,-0.030309148132801,-0.033056981861591,0.120774194598198,-0.027608387172222,0.078282758593559,0.155856251716614,-0.103921964764595,0.194048568606377));
res += mul(Get(s2,0,0), float4x4(-0.005452116020024,-0.008949393406510,0.043467011302710,-0.029193351045251,0.046717502176762,0.159259244799614,0.013355144299567,0.056446492671967,-0.023618852719665,0.019031345844269,-0.025752298533916,-0.014056205749512,0.026094840839505,-0.000873857992701,0.050599213689566,-0.066178195178509));
res += mul(Get(s2,0,dy), float4x4(-0.034941550344229,-0.003409972880036,0.063739314675331,-0.002764429198578,0.009986658580601,0.003003216115758,0.040816847234964,0.041667506098747,-0.018207373097539,0.003982548601925,-0.029556389898062,0.064046718180180,-0.011936978437006,-0.009711288847029,0.095087967813015,-0.074886761605740));
res += mul(Get(s2,dx,-dy), float4x4(-0.021386062726378,0.101891875267029,-0.034597363322973,0.113208882510662,0.064843855798244,-0.055189982056618,-0.017931632697582,-0.064359672367573,-0.023274576291442,-0.075620539486408,0.065971523523331,-0.079910449683666,0.013189564459026,0.021027803421021,-0.004482091404498,0.042113311588764));
res += mul(Get(s2,dx,0), float4x4(-0.014821032062173,0.059019688516855,0.087216168642044,0.020853929221630,0.084477074444294,0.033412795513868,-0.117525316774845,-0.016090637072921,-0.018782535567880,0.017488911747932,-0.077241323888302,0.047174643725157,-0.025554232299328,0.002740316325799,0.089311748743057,-0.016249425709248));
res += mul(Get(s2,dx,dy), float4x4(-0.026043424382806,0.037650685757399,0.071323320269585,-0.008229061961174,0.019839644432068,-0.019413659349084,-0.063765510916710,0.036111127585173,-0.025539306923747,0.038759708404541,-0.124021202325821,0.118209861218929,0.002386278240010,0.010836725123227,-0.045805703848600,-0.007655697874725));
res += mul(Get(s3,-dx,-dy), float4x4(0.011919315904379,-0.063993625342846,-0.020731437951326,0.076936520636082,0.049986552447081,-0.101465277373791,-0.012547421269119,-0.016038479283452,0.000303679087665,0.025532022118568,-0.006503526121378,-0.058436334133148,-0.034469716250896,0.028250193223357,0.070006653666496,-0.086375705897808));
res += mul(Get(s3,-dx,0), float4x4(0.053029771894217,-0.036884203553200,0.036112379282713,0.050342872738838,0.083561845123768,-0.057665802538395,-0.040728405117989,-0.029577124863863,0.020590450614691,0.024985959753394,-0.086499676108360,-0.035551670938730,-0.012322907336056,0.120973356068134,0.065373361110687,0.003693731036037));
res += mul(Get(s3,-dx,dy), float4x4(0.043910156935453,-0.046810638159513,-0.030094699934125,0.124359287321568,0.084016665816307,-0.064907960593700,-0.004086568020284,-0.119153521955013,-0.012944820336998,0.010192198678851,-0.070849418640137,-0.066911734640598,-0.016404835507274,0.136633262038231,0.043217189610004,0.159374430775642));
res += mul(Get(s3,0,-dy), float4x4(0.017470661550760,-0.012254149653018,0.058962672948837,-0.059754535555840,-0.029063900932670,-0.069166362285614,0.095453783869743,-0.009566300548613,-0.010838258080184,0.118750065565109,-0.031438756734133,0.154860928654671,-0.007790179457515,-0.020898893475533,-0.036740917712450,-0.070725411176682));
res += mul(Get(s3,0,0), float4x4(0.048782385885715,0.076329030096531,0.147246360778809,0.067919351160526,-0.029953861609101,-0.010425065644085,0.081156387925148,0.044544640928507,-0.002771346364170,-0.009225595742464,-0.024010183289647,-0.039520591497421,0.025863686576486,0.009803562425077,-0.010267381556332,-0.117837958037853));
res += mul(Get(s3,0,dy), float4x4(0.021567597985268,0.063100062310696,-0.031313061714172,0.274270772933960,-0.012054429389536,-0.044696401804686,0.074571110308170,-0.062565721571445,-0.024053668603301,-0.049179054796696,0.081857658922672,-0.151619255542755,-0.006393403280526,0.063342079520226,0.033372361212969,0.147856518626213));
res += mul(Get(s3,dx,-dy), float4x4(0.034159917384386,0.012587035074830,-0.088318236172199,-0.014052903279662,-0.046673864126205,-0.077899336814880,0.085566043853760,-0.098967038094997,-0.019301511347294,0.066468879580498,0.052757259458303,0.026373479515314,-0.049020461738110,-0.009496725164354,-0.000960262492299,0.026613732799888));
res += mul(Get(s3,dx,0), float4x4(0.069259732961655,0.012944820336998,-0.002681099344045,-0.015310704708099,-0.030014760792255,0.017968297004700,0.043219108134508,0.009937882423401,-0.025631865486503,0.070430584251881,0.108304835855961,-0.005178341176361,-0.028651891276240,-0.021257365122437,-0.085979141294956,0.014075875282288));
res += mul(Get(s3,dx,dy), float4x4(0.009162493981421,0.017146380618215,-0.078662663698196,0.188719481229782,-0.014984107576311,-0.037120517343283,0.031886029988527,-0.049901194870472,-0.018785266205668,0.017681997269392,0.036224510520697,-0.045744698494673,-0.028680324554443,-0.001002386678010,-0.086559459567070,0.077206298708916));
return max(float4(0,0,0,0), res);
}
