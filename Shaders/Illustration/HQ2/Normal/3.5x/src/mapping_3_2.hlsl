sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.075666218996048,-0.038719981908798,-0.000396059040213,-0.049923636019230,0.004603620618582,-0.003329217899591,0.058824606239796,0.099710091948509,-0.123239174485207,0.072002775967121,0.001752451993525,-0.051490060985088,-0.104823961853981,-0.034737396985292,-0.007234683260322,-0.063408896327019));
res += mul(Get(s0,-dx,0), float4x4(-0.002960782730952,-0.038107551634312,-0.040058042854071,0.089976869523525,-0.019295884296298,-0.036381181329489,0.037375289946795,-0.014333033002913,-0.060434140264988,0.157990425825119,0.077985189855099,-0.047204554080963,-0.061224073171616,0.078109525144100,0.072632923722267,-0.098578490316868));
res += mul(Get(s0,-dx,dy), float4x4(-0.021529197692871,0.086243718862534,-0.061462428420782,0.009573644958436,0.060100901871920,-0.007933937013149,0.160295918583870,-0.098153509199619,-0.015756392851472,0.129461526870728,-0.049171909689903,-0.035319358110428,-0.030863923951983,-0.001421102089807,0.314546883106232,-0.035211812704802));
res += mul(Get(s0,0,-dy), float4x4(-0.058066751807928,-0.064816042780876,0.020953461527824,0.032643269747496,-0.049433480948210,-0.031451430171728,0.049272231757641,0.151608318090439,-0.159918040037155,-0.027220133692026,-0.136330828070641,-0.102301232516766,-0.040031749755144,-0.159894108772278,-0.038530945777893,0.114181846380234));
res += mul(Get(s0,0,0), float4x4(-0.050520975142717,-0.046896249055862,-0.087254814803600,0.107436716556549,-0.030362045392394,0.004617357626557,-0.039988324046135,-0.002631003037095,-0.066605269908905,-0.024639038369060,0.022193085402250,0.001389463315718,-0.021844264119864,-0.008052438497543,-0.098563693463802,-0.063388742506504));
res += mul(Get(s0,0,dy), float4x4(-0.046813026070595,0.113006159663200,-0.079950794577599,-0.020708803087473,0.091405831277370,-0.012318062596023,0.078788399696350,-0.079478725790977,0.032972522079945,-0.047643728554249,-0.059986308217049,0.054323833435774,-0.064279124140739,-0.040731940418482,-0.133102521300316,0.013405681587756));
res += mul(Get(s0,dx,-dy), float4x4(0.034501288086176,-0.084927923977375,0.024231100454926,0.085200399160385,-0.021052990108728,-0.026571447029710,0.033086135983467,0.104199953377247,-0.069482363760471,-0.016160292550921,-0.101037710905075,-0.123946651816368,-0.102175801992416,-0.090567827224731,-0.090587772428989,0.143289491534233));
res += mul(Get(s0,dx,0), float4x4(0.050936076790094,-0.007988382130861,-0.009768181480467,0.102837085723877,0.029806861653924,-0.055126555263996,-0.010310190729797,0.014883234165609,-0.071611277759075,-0.025592032819986,-0.005919569171965,-0.039746228605509,0.033929321914911,-0.015434297733009,-0.195025265216827,-0.075929455459118));
res += mul(Get(s0,dx,dy), float4x4(0.069551363587379,0.158432379364967,0.016915787011385,0.019246699288487,0.045545421540737,-0.031453147530556,0.148537948727608,-0.010389109142125,-0.071665056049824,-0.086629055440426,-0.074681960046291,0.050663810223341,0.156306192278862,-0.088137485086918,-0.136610507965088,-0.002771578961983));
res += mul(Get(s1,-dx,-dy), float4x4(-0.045476689934731,-0.039638783782721,-0.016101324930787,-0.114461474120617,0.056367743760347,0.037843670696020,-0.066360145807266,0.053440809249878,-0.019936164841056,-0.092077262699604,0.141933441162109,0.032839432358742,0.005932354833931,0.004496013745666,0.016127614304423,0.013479943387210));
res += mul(Get(s1,-dx,0), float4x4(0.061188768595457,0.064691536128521,0.098934233188629,-0.147472083568573,0.126918256282806,-0.115522935986519,-0.069140762090683,0.064889930188656,-0.030655585229397,-0.082355491816998,-0.042852010577917,-0.024598659947515,0.010738986544311,0.025825431570411,-0.026075463742018,0.097858816385269));
res += mul(Get(s1,-dx,dy), float4x4(-0.053940158337355,0.096163243055344,0.116121187806129,-0.095742911100388,0.026882885023952,-0.092472828924656,-0.154834821820259,0.089108169078827,0.038221191614866,-0.096946440637112,0.048348877578974,-0.056313224136829,0.025304961949587,-0.037779599428177,-0.035954851657152,0.084747128188610));
res += mul(Get(s1,0,-dy), float4x4(-0.073810555040836,-0.103441283106804,0.058882433921099,-0.003624826669693,-0.043032560497522,0.123154513537884,-0.086719796061516,0.155851691961288,-0.076128169894218,0.011295471340418,-0.129889041185379,-0.127783685922623,-0.038111899048090,0.045240387320518,0.056059539318085,-0.053438998758793));
res += mul(Get(s1,0,0), float4x4(-0.052941970527172,0.041808541864157,0.166024208068848,-0.039836522191763,0.009079995565116,-0.087161004543304,-0.080086968839169,0.161488279700279,0.029528632760048,-0.047406684607267,-0.021694349125028,0.076229222118855,-0.023225143551826,0.071998663246632,0.060550358146429,0.125374197959900));
res += mul(Get(s1,0,dy), float4x4(-0.097296513617039,0.069827198982239,-0.061644986271858,-0.112149529159069,0.074733696877956,-0.148411840200424,-0.133408948779106,0.156137779355049,0.064555637538433,-0.031777918338776,-0.138384908437729,0.021414775401354,0.023212604224682,0.057112131267786,0.049574688076973,0.133876055479050));
res += mul(Get(s1,dx,-dy), float4x4(-0.038828790187836,-0.067849718034267,0.102042235434055,0.070483751595020,-0.018585883080959,0.202832296490669,-0.089288190007210,-0.043566249310970,-0.003968399018049,0.044869381934404,-0.076840497553349,0.039540458470583,0.055435985326767,-0.010424600914121,0.144839823246002,-0.011571898125112));
res += mul(Get(s1,dx,0), float4x4(-0.026762412860990,-0.073831155896187,-0.016066817566752,0.088169090449810,0.004976708441973,0.007996364496648,-0.066184461116791,-0.035896033048630,-0.014236363582313,0.016860639676452,-0.040120828896761,0.130302429199219,0.048175316303968,0.022116919979453,0.115236110985279,-0.048631180077791));
res += mul(Get(s1,dx,dy), float4x4(0.056154474616051,-0.066172167658806,-0.066312380135059,-0.082037791609764,0.075433589518070,-0.040198303759098,-0.117883473634720,0.144677415490150,0.122016742825508,0.053862638771534,-0.141101971268654,-0.016383454203606,0.027436191216111,0.047045085579157,0.089004039764404,-0.024906760081649));
res += mul(Get(s2,-dx,-dy), float4x4(-0.028851762413979,-0.047668945044279,0.051591135561466,-0.067439228296280,0.038047488778830,-0.023847429081798,0.010519080795348,-0.023819062858820,-0.229204580187798,0.041957542300224,-0.180988565087318,-0.029276985675097,-0.084659852087498,-0.209384262561798,-0.070420488715172,0.057125885039568));
res += mul(Get(s2,-dx,0), float4x4(-0.044915642589331,-0.128126740455627,-0.021632578223944,-0.001989897806197,0.032867982983589,-0.055990718305111,-0.089156851172447,-0.052761171013117,-0.194299101829529,-0.096466176211834,-0.121211968362331,0.071617312729359,-0.070721283555031,-0.184390574693680,-0.124714538455009,0.173237174749374));
res += mul(Get(s2,-dx,dy), float4x4(-0.083403535187244,-0.098407231271267,0.032680023461580,0.072437740862370,0.129523277282715,0.008168614469469,0.194108158349991,-0.038998894393444,-0.148639649152756,-0.104182824492455,-0.170948728919029,-0.096953392028809,0.046028293669224,0.086448252201080,-0.095684789121151,-0.008860681205988));
res += mul(Get(s2,0,-dy), float4x4(-0.045796684920788,-0.081960842013359,-0.074310347437859,0.084517970681190,0.019184796139598,-0.145818695425987,0.091836966574192,0.094007536768913,-0.125802338123322,0.008237410336733,0.006928927265108,0.002149904845282,-0.061670217663050,-0.067542321980000,-0.112589068710804,0.033617276698351));
res += mul(Get(s2,0,0), float4x4(0.120609886944294,-0.109459802508354,0.032570693641901,0.156993731856346,-0.024314643815160,-0.091666243970394,-0.176386684179306,-0.091582410037518,-0.159494280815125,-0.082686759531498,-0.176034554839134,-0.009460739791393,-0.045254692435265,-0.052418339997530,-0.121931113302708,0.088283576071262));
res += mul(Get(s2,0,dy), float4x4(0.009671247564256,0.031933907419443,0.024545505642891,0.052678611129522,-0.015309748239815,0.041108518838882,0.176450967788696,-0.019969515502453,-0.063980430364609,-0.022068105638027,-0.151317715644836,-0.098544076085091,-0.062170237302780,0.213252648711205,-0.115456223487854,-0.063278399407864));
res += mul(Get(s2,dx,-dy), float4x4(0.011212875135243,0.039356626570225,0.003500577062368,0.002490689046681,-0.067464098334312,-0.161671832203865,0.022230984643102,0.159899652004242,-0.000206097378395,-0.174573928117752,0.063929773867130,0.042534410953522,-0.012412116862833,-0.052068158984184,0.003583796322346,0.033497262746096));
res += mul(Get(s2,dx,0), float4x4(0.116190440952778,0.089989051222801,0.083786025643349,0.005390418227762,0.122167818248272,-0.079440854489803,0.052423331886530,-0.005657974164933,0.014806179329753,-0.165821790695190,-0.017247553914785,-0.001686276518740,0.023647816851735,-0.047520760446787,-0.125286653637886,0.089997425675392));
res += mul(Get(s2,dx,dy), float4x4(-0.002037246944383,0.173739656805992,0.052594095468521,-0.040039774030447,-0.075957074761391,0.017409866675735,0.102629452943802,-0.037175387144089,0.031249385327101,-0.119479537010193,0.099037669599056,-0.059570711106062,0.039493095129728,0.105289772152901,-0.131359413266182,-0.005245729815215));
res += mul(Get(s3,-dx,-dy), float4x4(-0.029011823236942,-0.037518132477999,-0.063539810478687,-0.059413414448500,-0.021052105352283,-0.001035658526234,0.058411817997694,0.010528800077736,0.071776404976845,-0.057266067713499,0.068917155265808,-0.057102382183075,0.092213548719883,-0.085593804717064,0.102399244904518,0.055074818432331));
res += mul(Get(s3,-dx,0), float4x4(-0.008916071616113,0.026029536500573,0.098471380770206,0.033251602202654,-0.033735401928425,0.007094727363437,0.089411340653896,0.042405698448420,0.091269418597221,0.012885058298707,0.125677600502968,-0.033293131738901,0.069115959107876,-0.055472515523434,-0.037807796150446,0.037118978798389));
res += mul(Get(s3,-dx,dy), float4x4(-0.022893808782101,-0.004649959504604,0.086176767945290,-0.029287958517671,-0.025342524051666,0.005169829819351,0.073313862085342,0.039135377854109,0.062956847250462,0.089672505855560,0.029598871245980,-0.064448654651642,-0.006700383499265,-0.014656926505268,0.019230499863625,-0.066525198519230));
res += mul(Get(s3,0,-dy), float4x4(-0.006037198938429,-0.021885689347982,-0.069541417062283,-0.018761148676276,0.021504353731871,0.032603662461042,0.078078009188175,-0.032125975936651,0.029172403737903,-0.023572959005833,0.088728845119476,-0.027167161926627,0.041304770857096,-0.045032367110252,0.039494886994362,0.031010754406452));
res += mul(Get(s3,0,0), float4x4(-0.044433869421482,0.004832936450839,-0.073119133710861,0.016066377982497,-0.041281748563051,0.039665158838034,0.035598758608103,-0.010166316293180,-0.040814436972141,0.032356601208448,0.080229118466377,-0.024893762543797,0.167176902294159,0.026181986555457,0.104053623974323,-0.069520898163319));
res += mul(Get(s3,0,dy), float4x4(-0.023845635354519,-0.036586094647646,-0.020930530503392,0.022704169154167,-0.020916732028127,0.019064854830503,0.013156536035240,-0.006186848506331,-0.044829625636339,0.102158866822720,0.020107751712203,-0.009316819719970,0.067517586052418,0.094730891287327,-0.103784799575806,-0.133380189538002));
res += mul(Get(s3,dx,-dy), float4x4(0.170765832066536,-0.014385186135769,-0.042622275650501,-0.056486945599318,-0.020663864910603,0.037838581949472,0.039737001061440,-0.058755852282047,0.020272634923458,-0.073688112199306,0.026616225019097,-0.023673428222537,0.041713271290064,0.103743992745876,-0.036470223218203,0.011405416764319));
res += mul(Get(s3,dx,0), float4x4(0.062155570834875,0.007527792826295,0.049664806574583,0.015963224694133,0.019117200747132,0.002195946173742,-0.023277882486582,-0.020322931930423,0.038006108254194,0.009812486357987,0.031216358765960,0.002946514403448,0.041005652397871,0.078723654150963,0.096135623753071,0.033808827400208));
res += mul(Get(s3,dx,dy), float4x4(-0.026395531371236,-0.044339016079903,-0.027092464268208,0.089477352797985,-0.027313418686390,-0.026952974498272,-0.031157465651631,0.009281289763749,-0.037442672997713,0.053862858563662,-0.002484579337761,0.001758833066560,0.091427564620972,0.020535871386528,0.025516446679831,-0.032073687762022));
return max(float4(0,0,0,0), res);
}
