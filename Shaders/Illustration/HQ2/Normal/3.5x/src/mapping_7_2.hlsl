sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.084656506776810,-0.005206601228565,0.008829222060740,-0.035361301153898,-0.031115932390094,0.026568712666631,0.050418116152287,0.033338289707899,-0.004371545277536,-0.026306945830584,-0.022374412044883,-0.018244570121169,0.011395678855479,-0.019310232251883,-0.020550724118948,0.029154649004340));
res += mul(Get(s0,-dx,0), float4x4(-0.012616972438991,-0.002074008341879,0.065341629087925,-0.098064005374908,-0.007274550385773,0.010944155044854,-0.003876753384247,0.089920118451118,0.119379654526711,-0.012428167276084,0.036210920661688,-0.008477331139147,0.000398551404942,0.001089302124456,0.043625961989164,0.016998555511236));
res += mul(Get(s0,-dx,dy), float4x4(0.009231783449650,0.140019580721855,0.090728901326656,-0.142807424068451,0.023453310132027,0.020416203886271,-0.060330923646688,0.080304898321629,0.078342482447624,0.042355295270681,0.058716509491205,-0.008467616513371,-0.095755003392696,-0.004165887366980,-0.040067531168461,0.012991335242987));
res += mul(Get(s0,0,-dy), float4x4(-0.014033471234143,-0.044345781207085,-0.109904058277607,0.049274191260338,0.006622577551752,0.028881868347526,0.082561112940311,-0.017721233889461,0.005016466602683,-0.068764723837376,0.021242052316666,-0.021755116060376,-0.002724872669205,-0.107396364212036,-0.023752328008413,-0.015915097668767));
res += mul(Get(s0,0,0), float4x4(-0.070517368614674,-0.108980856835842,-0.026403803378344,-0.042084094136953,-0.005755228456110,0.018036114051938,0.042638178914785,0.038840610533953,0.085290618240833,-0.054246082901955,0.011045881547034,-0.008940778672695,0.002962409751490,-0.041943877935410,0.051275055855513,0.016420712694526));
res += mul(Get(s0,0,dy), float4x4(-0.011068725958467,0.006412035785615,-0.046916268765926,-0.104429036378860,-0.001779039623216,0.010636501945555,-0.051925025880337,0.071786962449551,0.002724332036451,-0.008696497417986,0.038643956184387,-0.004085600841790,-0.109696134924889,0.125214725732803,-0.023623127490282,-0.007709813769907));
res += mul(Get(s0,dx,-dy), float4x4(-0.075406096875668,-0.069100007414818,-0.040142826735973,0.017751112580299,0.004529830068350,-0.019670842215419,0.095953553915024,-0.014726936817169,-0.037268936634064,0.019547738134861,-0.012799505144358,0.034664191305637,0.004975522402674,-0.056263450533152,0.009342946112156,-0.005996590945870));
res += mul(Get(s0,dx,0), float4x4(0.026732482016087,-0.055650666356087,0.070657260715961,-0.014109127223492,0.061698965728283,0.016606483608484,0.090458400547504,0.003656552638859,-0.012785360217094,0.009837861172855,-0.068864308297634,0.031429741531610,-0.061570417135954,-0.008572652004659,0.060105565935373,0.030550133436918));
res += mul(Get(s0,dx,dy), float4x4(-0.024092327803373,0.107839316129684,-0.051858719438314,-0.025780742987990,0.024544266983867,0.078212991356850,0.009890175424516,0.008055217564106,-0.038168013095856,0.038467582315207,-0.006270748097450,0.027406224980950,-0.061365939676762,0.024874156340957,0.024876100942492,0.004905515816063));
res += mul(Get(s1,-dx,-dy), float4x4(-0.033366765826941,0.052696097642183,0.040934357792139,0.009610683657229,0.109680861234665,-0.050724666565657,-0.048509392887354,-0.008779699914157,-0.006504205986857,0.074785821139812,-0.066806875169277,-0.010064925998449,-0.033883761614561,0.003476889338344,0.024930138140917,-0.015208459459245));
res += mul(Get(s1,-dx,0), float4x4(0.027343016117811,0.038236554712057,0.032725870609283,-0.000764803728089,0.089280612766743,0.050170466303825,-0.010132508352399,-0.057736359536648,-0.000173952445039,-0.058906961232424,0.011850737035275,-0.042937580496073,-0.079099453985691,0.009794851765037,-0.045707281678915,0.005853537470102));
res += mul(Get(s1,-dx,dy), float4x4(-0.036917507648468,0.017996722832322,0.016516519710422,-0.010830803774297,0.070385657250881,0.010101413354278,-0.032619282603264,-0.023710398003459,0.041704729199409,-0.029766155406833,0.078271418809891,-0.064281471073627,0.019674282521009,-0.097525119781494,-0.003236871212721,0.048516500741243));
res += mul(Get(s1,0,-dy), float4x4(-0.032463852316141,0.105602964758873,0.050176795572042,-0.056112580001354,0.180162906646729,-0.065395973622799,-0.016985869035125,-0.020519517362118,-0.048992197960615,0.158284068107605,-0.095393843948841,0.020328335464001,-0.100091189146042,-0.033583324402571,0.025015890598297,0.026152586564422));
res += mul(Get(s1,0,0), float4x4(-0.032293666154146,0.007311226800084,0.037506826221943,-0.007744968868792,0.040505677461624,0.044395834207535,-0.018119614571333,-0.061055999249220,0.016238145530224,0.004122564569116,-0.013767733238637,0.062149349600077,-0.033189296722412,0.025550587102771,0.009430092759430,0.019623063504696));
res += mul(Get(s1,0,dy), float4x4(0.038382887840271,-0.025424264371395,-0.016663705930114,-0.033072188496590,-0.002487415215001,-0.002963663078845,-0.059865299612284,0.013045003637671,0.057240322232246,0.023477395996451,0.108711808919907,0.036415953189135,0.069713816046715,0.005776834208518,0.084564723074436,0.057246759533882));
res += mul(Get(s1,dx,-dy), float4x4(-0.051436543464661,0.091342516243458,0.104861222207546,0.077272973954678,0.093163050711155,-0.128968119621277,0.014486940577626,-0.051086388528347,-0.105960838496685,0.036889865994453,0.004600118845701,0.052782207727432,-0.073513023555279,-0.125122696161270,-0.009630621410906,0.070211529731750));
res += mul(Get(s1,dx,0), float4x4(-0.113017432391644,0.038174360990524,0.101765073835850,0.097679741680622,0.113676883280277,-0.031794883310795,-0.059020981192589,-0.028538115322590,0.021842718124390,0.013542483560741,0.031104786321521,0.149069622159004,-0.037847109138966,-0.001090032863431,-0.082695752382278,0.048291597515345));
res += mul(Get(s1,dx,dy), float4x4(0.005402064416558,-0.083944737911224,-0.010877800174057,0.036346014589071,-0.002623699605465,-0.027460379526019,-0.049731872975826,0.023190211504698,-0.010892483405769,0.008827667683363,0.008771956898272,0.144221201539040,-0.023988926783204,-0.036689382046461,-0.024368574842811,0.074602916836739));
res += mul(Get(s2,-dx,-dy), float4x4(-0.046471804380417,-0.023115271702409,-0.046086844056845,-0.073134250938892,-0.024140359833837,0.025731094181538,0.004972686525434,0.142888352274895,0.037068046629429,-0.036837697029114,0.025627925992012,-0.023738389834762,0.034879062324762,-0.049001391977072,0.042963553220034,-0.056885145604610));
res += mul(Get(s2,-dx,0), float4x4(0.058987420052290,0.027045665308833,0.062168996781111,-0.094659790396690,-0.102695189416409,0.019590185955167,0.012622497044504,0.093580000102520,0.086708106100559,0.065678171813488,0.084108822047710,-0.013305214233696,0.012529442086816,-0.045164413750172,0.112383201718330,-0.058756463229656));
res += mul(Get(s2,-dx,dy), float4x4(-0.018063584342599,0.012775962240994,0.041521150618792,-0.097960524260998,-0.010587492957711,-0.051734037697315,-0.086954474449158,0.107260338962078,0.029215190559626,-0.014088041149080,-0.012650483287871,-0.007806926500052,-0.027630452066660,-0.058791909366846,0.173977643251419,-0.062821701169014));
res += mul(Get(s2,0,-dy), float4x4(0.091234289109707,-0.023401454091072,-0.029082067310810,-0.098816849291325,0.003263423684984,-0.048256631940603,-0.016368295997381,0.009922155179083,0.043308727443218,0.041648991405964,0.048049870878458,0.005159480497241,0.003870775690302,-0.035314295440912,0.071791499853134,-0.017076857388020));
res += mul(Get(s2,0,0), float4x4(-0.008994501084089,0.144922107458115,0.021028766408563,-0.075874350965023,-0.022755289450288,-0.070825815200806,0.071105167269707,-0.040390100330114,0.116478748619556,0.173515722155571,0.095626808702946,0.048396505415440,-0.016921440139413,-0.036104097962379,0.061860695481300,0.024461368098855));
res += mul(Get(s2,0,dy), float4x4(-0.034872572869062,-0.002409131499007,-0.039946191012859,-0.016747016459703,-0.014965505339205,-0.067522391676903,-0.019761638715863,-0.042245108634233,0.048819161951542,0.059875454753637,0.015770317986608,0.061882130801678,0.002361353021115,-0.126668825745583,0.064576417207718,0.071726940572262));
res += mul(Get(s2,dx,-dy), float4x4(0.000110986191430,-0.074254594743252,0.002312202239409,-0.035540632903576,-0.036669347435236,-0.014227643609047,-0.023627497255802,0.027923809364438,0.025655424222350,-0.027388058602810,0.055733293294907,-0.021654849871993,-0.014589929953218,-0.031740434467793,0.130475729703903,-0.012796929106116));
res += mul(Get(s2,dx,0), float4x4(-0.049415994435549,0.061337959021330,-0.039958793669939,-0.058178063482046,0.066966220736504,-0.099623635411263,-0.006055459380150,0.000669335655402,0.062783777713776,0.087793424725533,0.087147183716297,-0.006796585861593,0.004485061857849,0.015912586823106,0.086071498692036,-0.000432550470578));
res += mul(Get(s2,dx,dy), float4x4(-0.015127175487578,0.086914263665676,-0.046757020056248,-0.066354066133499,0.019115392118692,-0.037412106990814,0.018206402659416,0.015418898314238,0.006688566412777,0.002541901310906,0.025182303041220,0.013624723069370,0.030950391665101,-0.051846999675035,0.056614108383656,0.026713624596596));
res += mul(Get(s3,-dx,-dy), float4x4(-0.040147081017494,-0.068005256354809,0.001551452791318,-0.021747060120106,0.022017700597644,0.001010574284010,-0.007059006951749,0.063757181167603,-0.061809867620468,0.032332196831703,-0.001181624131277,0.170737981796265,-0.028333688154817,0.109853319823742,-0.076234966516495,-0.003091184189543));
res += mul(Get(s3,-dx,0), float4x4(-0.044536888599396,-0.007278704550117,0.087259218096733,-0.005779370665550,0.042351230978966,0.069682702422142,-0.009833603166044,0.012166812084615,-0.031128713861108,-0.031927205622196,-0.050317339599133,0.077980510890484,0.064958460628986,0.089839912950993,0.040350548923016,0.012154991738498));
res += mul(Get(s3,-dx,dy), float4x4(0.033484160900116,0.159675836563110,0.073091030120850,-0.007012458983809,-0.067543864250183,-0.003443198045716,-0.063040412962437,-0.050628155469894,0.020764039829373,-0.097568646073341,-0.082645550370216,0.029064394533634,-0.045899901539087,0.117822639644146,0.119672656059265,0.063392519950867));
res += mul(Get(s3,0,-dy), float4x4(-0.030703093856573,-0.046754200011492,-0.047927588224411,0.019427129998803,0.070793278515339,0.038265861570835,-0.034082997590303,0.013472002930939,-0.069749720394611,0.003564970102161,0.019519949331880,0.026175182312727,-0.073613695800304,0.121651925146580,-0.063401930034161,-0.018486723303795));
res += mul(Get(s3,0,0), float4x4(-0.028681743890047,-0.046368043869734,0.058202791959047,-0.020939230918884,-0.026444165036082,0.155527114868164,-0.066305786371231,-0.040393624454737,0.000644819927402,-0.033146034926176,0.000352693779860,-0.029931046068668,0.217607200145721,0.004867101553828,0.038210362195969,0.038468331098557));
res += mul(Get(s3,0,dy), float4x4(-0.017730079591274,0.035557221621275,0.032889280468225,-0.019690372049809,-0.012363425455987,0.005404083523899,-0.095692828297615,-0.026634357869625,-0.010964960791171,-0.029098726809025,-0.020665604621172,-0.025568073615432,0.007591701578349,0.076298192143440,0.126066043972969,0.020832234993577));
res += mul(Get(s3,dx,-dy), float4x4(-0.040252022445202,0.038637194782495,-0.035242654383183,-0.026680953800678,0.048486426472664,0.055804241448641,0.045076265931129,-0.024596672505140,-0.022973073646426,-0.032716426998377,0.073159664869308,-0.058344896882772,-0.051359940320253,0.158983990550041,-0.052151463925838,-0.017416553571820));
res += mul(Get(s3,dx,0), float4x4(-0.030566504225135,-0.032357975840569,0.050071854144335,-0.023899819701910,-0.032088644802570,0.151935353875160,-0.013227632269263,-0.025505172088742,0.013255162164569,-0.020911976695061,0.047610718756914,-0.075505875051022,0.112372979521751,0.015953479334712,-0.004538891837001,0.015290745534003));
res += mul(Get(s3,dx,dy), float4x4(-0.043732274323702,0.059495806694031,-0.019170185551047,-0.017786532640457,0.037564069032669,-0.001757049001753,-0.080552391707897,0.014460444450378,-0.009087318554521,-0.047771267592907,0.068974182009697,-0.032085645943880,-0.016811801120639,-0.037439566105604,0.040230132639408,0.000465242745122));
return max(float4(0,0,0,0), res);
}
