sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.071696333587170,0.013208932243288,0.040585268288851,0.062999732792377,0.062055476009846,-0.061209231615067,0.066537879407406,-0.026167264208198,0.035761781036854,0.014698319137096,-0.007676521781832,-0.010833781212568,-0.033027969300747,-0.048521220684052,0.129665687680244,-0.038999885320663));
res += mul(Get(s0,-dx,0), float4x4(0.006737926043570,0.006624516099691,0.069409847259521,0.016907196491957,0.039620105177164,0.050613302737474,-0.008123599924147,-0.050755653530359,0.034663494676352,-0.024758365005255,0.048355069011450,-0.074482209980488,0.057345684617758,-0.079986892640591,0.056957628577948,0.053158223628998));
res += mul(Get(s0,-dx,dy), float4x4(0.001678677974269,-0.005051042884588,0.054567251354456,0.045133080333471,0.007791165262461,0.095364399254322,0.029494917020202,-0.035272162407637,-0.030019331723452,0.030407987535000,0.078442260622978,0.024298535659909,0.099057354032993,0.029562709853053,-0.102808378636837,0.076924942433834));
res += mul(Get(s0,0,-dy), float4x4(-0.063549563288689,-0.068160593509674,0.017819333821535,0.018695525825024,0.098691061139107,-0.082137890160084,0.041385091841221,-0.037169400602579,-0.043052114546299,0.069955632090569,-0.004441538359970,-0.028239266946912,0.001747049624100,-0.111099064350128,0.054376278072596,-0.001147641101852));
res += mul(Get(s0,0,0), float4x4(0.025700267404318,0.017312528565526,0.009792880155146,-0.031286060810089,0.032736487686634,0.078613236546516,0.021580470725894,-0.115254014730453,0.018005520105362,-0.039464145898819,0.172742679715157,0.080127887427807,-0.062861971557140,0.134486958384514,0.137376815080643,-0.009773178026080));
res += mul(Get(s0,0,dy), float4x4(0.047918271273375,0.020648451521993,0.002451337408274,0.001570762600750,0.000349225505488,0.111309841275215,0.014388663694263,-0.029642680659890,-0.068543612957001,-0.045718647539616,0.126788094639778,0.132870703935623,-0.008619333617389,0.128842666745186,-0.027272978797555,-0.139893189072609));
res += mul(Get(s0,dx,-dy), float4x4(0.061075814068317,-0.057912897318602,-0.035245861858130,0.034807324409485,0.132309243083000,-0.068346112966537,0.023399375379086,-0.014163104817271,0.085790097713470,-0.004158087074757,-0.043823581188917,-0.055801823735237,-0.042788069695234,-0.022232824936509,-0.014074553735554,-0.073627568781376));
res += mul(Get(s0,dx,0), float4x4(0.038955781608820,0.036845784634352,0.018683886155486,-0.052815884351730,-0.040219541639090,0.045333646237850,-0.033672343939543,-0.133687868714333,0.034043733030558,-0.068596504628658,-0.020642919465899,0.011678799986839,-0.194263562560081,-0.002337662735954,-0.039529241621494,0.137806102633476));
res += mul(Get(s0,dx,dy), float4x4(-0.032709233462811,0.024374041706324,0.050749056041241,0.027207385748625,0.048763453960419,-0.021469533443451,-0.105487361550331,-0.112557604908943,0.035761814564466,-0.086141228675842,0.008248084224761,0.091783843934536,0.058163192123175,-0.148301243782043,-0.121645152568817,0.177173897624016));
res += mul(Get(s1,-dx,-dy), float4x4(-0.005503525491804,0.072955593466759,0.121967814862728,-0.051961578428745,0.070605903863907,-0.102664969861507,-0.072578914463520,0.011392821557820,-0.119288422167301,0.014188123866916,0.027103053405881,0.005058335140347,-0.011327164247632,0.019743632525206,0.009158962406218,-0.043880134820938));
res += mul(Get(s1,-dx,0), float4x4(-0.039294514805079,-0.028679259121418,0.039581701159477,0.029185954481363,-0.002806515898556,-0.103050388395786,0.017079312354326,-0.050944533199072,-0.105196498334408,0.011615876108408,0.169259786605835,-0.036613758653402,-0.051131181418896,0.008710958994925,-0.054155245423317,0.025233021005988));
res += mul(Get(s1,-dx,dy), float4x4(0.008483938872814,0.022425118833780,-0.080348409712315,-0.019220981746912,-0.058768559247255,-0.047125454992056,0.052832342684269,-0.115434855222702,0.008344450034201,-0.108987137675285,0.109653957188129,0.097971819341183,-0.054951295256615,-0.005188582930714,0.016463525593281,-0.009783098474145));
res += mul(Get(s1,0,-dy), float4x4(0.018268633633852,-0.175081089138985,-0.064083293080330,0.037451770156622,0.127753019332886,-0.097061969339848,0.032782785594463,-0.014971371740103,-0.146096602082253,-0.022688046097755,-0.006775293499231,0.010984167456627,-0.024297907948494,0.141770705580711,-0.081652641296387,-0.074435979127884));
res += mul(Get(s1,0,0), float4x4(-0.051757398992777,-0.074080735445023,-0.061668619513512,0.120836660265923,0.119144693017006,-0.051642313599586,0.156902670860291,-0.027689388021827,0.249966010451317,-0.167153269052505,0.077659778296947,0.206046327948570,0.053972590714693,0.089351333677769,-0.056582152843475,0.025874629616737));
res += mul(Get(s1,0,dy), float4x4(-0.064133413136005,0.120436474680901,-0.085882730782032,-0.098205231130123,0.102048344910145,-0.063208140432835,-0.030076447874308,0.023608159273863,0.093915984034538,0.026904612779617,-0.018559923395514,0.175906747579575,0.067664682865143,-0.001763258478604,-0.014275822788477,-0.056593786925077));
res += mul(Get(s1,dx,-dy), float4x4(-0.029432810842991,-0.056100565940142,-0.019268816336989,-0.046020116657019,0.033843558281660,-0.045451492071152,0.009501584805548,0.003871634602547,-0.051243547350168,-0.074380137026310,-0.109273560345173,-0.004090063739568,0.051008414477110,0.020861018449068,-0.031657259911299,-0.042449623346329));
res += mul(Get(s1,dx,0), float4x4(-0.066243588924408,0.021205205470324,-0.022902511060238,-0.038908787071705,0.043989393860102,0.031849082559347,0.021122571080923,-0.038934670388699,0.217080250382423,-0.006984362378716,-0.059554301202297,0.034891743212938,-0.008454209193587,0.100771337747574,-0.009013567119837,0.007966089993715));
res += mul(Get(s1,dx,dy), float4x4(0.013009085319936,-0.041027795523405,-0.041882220655680,-0.036844104528427,0.096626102924347,-0.096347048878670,-0.049794182181358,0.034531265497208,-0.006637385115027,0.049050729721785,-0.074804514646530,0.049998868256807,0.042364474385977,0.028171243146062,-0.000734953675419,-0.078182384371758));
res += mul(Get(s2,-dx,-dy), float4x4(-0.044687658548355,0.025102423503995,-0.083002224564552,-0.064220249652863,0.019981136545539,-0.022742794826627,0.139087870717049,0.086345799267292,0.109152637422085,-0.041196618229151,0.111610412597656,-0.045622400939465,-0.128334999084473,-0.071093834936619,0.023577796295285,0.004147704225034));
res += mul(Get(s2,-dx,0), float4x4(-0.017259826883674,0.096587084233761,-0.102807998657227,-0.025687459856272,0.032148707658052,0.089468739926815,-0.008545349352062,-0.009971199557185,0.157137393951416,-0.106180980801582,0.099698394536972,0.055114693939686,-0.039832461625338,-0.162972077727318,0.151234716176987,0.012636929750443));
res += mul(Get(s2,-dx,dy), float4x4(0.002766710473225,-0.114184960722923,-0.054478745907545,0.052237726747990,0.016539275646210,-0.134850814938545,-0.038622342050076,-0.018652571365237,-0.046764407306910,0.020441403612494,0.007661546114832,0.056329328566790,-0.020429335534573,-0.124706678092480,0.053891990333796,0.088679380714893));
res += mul(Get(s2,0,-dy), float4x4(-0.133262157440186,-0.097306653857231,-0.014116128906608,-0.042282883077860,0.070657089352608,-0.136437252163887,0.009069671854377,0.176834329962730,0.018576057627797,-0.057949531823397,-0.048384401947260,-0.024802070111036,0.073766954243183,-0.079090356826782,-0.135634422302246,0.004420736338943));
res += mul(Get(s2,0,0), float4x4(-0.052079156041145,-0.027184894308448,-0.000736075802706,0.102419972419739,-0.097581192851067,0.257275283336639,-0.105620063841343,-0.036155261099339,-0.013740411028266,0.289274364709854,-0.179834067821503,-0.096296213567257,0.127943739295006,-0.067052237689495,-0.032056394964457,0.016645690426230));
res += mul(Get(s2,0,dy), float4x4(-0.059213455766439,-0.030606208369136,-0.034115761518478,-0.062880888581276,0.067246846854687,-0.053498685359955,-0.127155944705009,-0.054164342582226,-0.205596610903740,0.191385209560394,-0.184148550033569,-0.113581851124763,0.082586094737053,0.041589818894863,-0.027158310636878,0.044075898826122));
res += mul(Get(s2,dx,-dy), float4x4(0.022614801302552,0.023956038057804,-0.034463796764612,0.025005782023072,0.007626536302269,0.112100265920162,-0.038804370909929,-0.007527137640864,0.073997735977173,0.048463959246874,-0.072285145521164,0.052184931933880,0.028891166672111,0.013847625814378,-0.109136648476124,-0.022709283977747));
res += mul(Get(s2,dx,0), float4x4(0.024303724989295,0.088826909661293,-0.001414732076228,0.076435171067715,-0.108102768659592,-0.013853089883924,-0.019375137984753,0.130246639251709,-0.081412181258202,0.135427236557007,-0.091542936861515,0.108895540237427,0.031050963327289,0.036245681345463,-0.066778115928173,-0.027290347963572));
res += mul(Get(s2,dx,dy), float4x4(-0.062312610447407,0.118548423051834,-0.009500497952104,-0.008459831587970,-0.028772968798876,0.024291118606925,-0.059097997844219,-0.012445040047169,-0.182747915387154,-0.085618317127228,-0.103822849690914,0.098148874938488,0.010213176719844,0.049429442733526,-0.070948399603367,0.011997602880001));
res += mul(Get(s3,-dx,-dy), float4x4(-0.022519228979945,0.086476810276508,-0.023613628000021,-0.006520960479975,-0.008165985345840,0.019327305257320,0.023348586633801,-0.030721649527550,-0.008552817627788,0.012196557596326,0.127569258213043,-0.023580878973007,-0.093412078917027,-0.150864347815514,0.029375163838267,-0.016594363376498));
res += mul(Get(s3,-dx,0), float4x4(0.011585768312216,-0.091872893273830,-0.027843108400702,-0.002611807081848,0.016466142609715,0.002658180193976,0.025799065828323,-0.003798213554546,-0.002699387026951,-0.015389671549201,0.083873167634010,0.057440061122179,-0.059531781822443,-0.035158853977919,0.012972882948816,-0.064142294228077));
res += mul(Get(s3,-dx,dy), float4x4(-0.005400795955211,-0.054848134517670,-0.056898981332779,-0.020106116309762,-0.005273045506328,0.027302388101816,0.034167297184467,-0.004515703301877,-0.054750122129917,0.051766064018011,-0.023200454190373,-0.010210041888058,0.084386602044106,0.020838055759668,0.034696076065302,-0.005169494543225));
res += mul(Get(s3,0,-dy), float4x4(-0.110524088144302,0.143295124173164,0.051660951226950,-0.080399662256241,-0.033642373979092,0.059240955859423,0.005920619238168,-0.005681614857167,0.046067029237747,-0.006265300326049,0.021260323002934,-0.031109418720007,0.048118934035301,-0.149464964866638,-0.018484566360712,0.048093661665916));
res += mul(Get(s3,0,0), float4x4(-0.060494154691696,0.228095263242722,-0.017460500821471,-0.113991364836693,0.001380356727168,0.055493276566267,0.076636664569378,0.000085265957750,0.069721370935440,0.136031046509743,-0.012890726327896,-0.015673605725169,0.020942311733961,-0.061236646026373,-0.015531881712377,0.098675876855850));
res += mul(Get(s3,0,dy), float4x4(0.027448074892163,-0.015594416297972,-0.079087063670158,-0.034906744956970,-0.031932409852743,0.025815494358540,0.055172502994537,0.006945429835469,-0.008618594147265,-0.027972927317023,-0.077042616903782,0.017585907131433,-0.029338357970119,0.142197683453560,-0.001056051580235,0.020037291571498));
res += mul(Get(s3,dx,-dy), float4x4(0.041333742439747,-0.183530792593956,0.017580870538950,0.132078364491463,0.007557414006442,0.004806332290173,0.024773314595222,-0.034537512809038,0.017597366124392,-0.079678364098072,-0.005104434676468,-0.017197955399752,0.068129166960716,0.110944673418999,0.015348534099758,-0.044671870768070));
res += mul(Get(s3,dx,0), float4x4(0.157862275838852,-0.070026360452175,-0.043139014393091,0.147718504071236,-0.040018726140261,0.022321915253997,0.022123182192445,-0.004875141661614,-0.000744416902307,-0.018390182405710,-0.019341409206390,-0.006482735276222,0.123583354055882,0.136830717325211,-0.074844233691692,-0.077628985047340));
res += mul(Get(s3,dx,dy), float4x4(0.112204261124134,0.061016432940960,-0.067755311727524,0.027520796284080,0.029695086181164,0.012323977425694,0.072298914194107,-0.037767264991999,0.049262154847383,-0.073743246495724,-0.030365198850632,-0.044543500989676,0.006736077368259,-0.014327276498079,-0.061131916940212,0.003581952070817));
return max(float4(0,0,0,0), res);
}
