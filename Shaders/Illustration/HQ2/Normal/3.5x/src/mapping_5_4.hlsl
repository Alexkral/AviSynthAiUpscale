sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.014294746331871,0.049090560525656,0.020757764577866,0.079451881349087,-0.037640959024429,-0.103762932121754,0.043438188731670,0.018844796344638,0.015082299709320,0.033283546566963,0.018938912078738,0.038691941648722,0.018600407987833,-0.128881216049194,-0.032805100083351,0.024837384000421));
res += mul(Get(s0,-dx,0), float4x4(-0.018716072663665,-0.003350966610014,-0.008489388972521,-0.019997542724013,-0.027535710483789,-0.070943452417850,-0.011087024584413,-0.123919062316418,-0.015379746444523,0.000042149418732,-0.000568449380808,0.040669016540051,0.058210313320160,-0.028524551540613,0.036933720111847,-0.074477933347225));
res += mul(Get(s0,-dx,dy), float4x4(0.003723116591573,0.036773990839720,-0.022385979071259,0.003259537741542,-0.018151376396418,-0.045352313667536,-0.001914322143421,-0.097440555691719,-0.010642579756677,-0.075534485280514,-0.028927497565746,0.105130329728127,-0.017044899985194,-0.060030683875084,-0.001287594088353,-0.076977789402008));
res += mul(Get(s0,0,-dy), float4x4(-0.079118952155113,0.047180760651827,-0.000399177573854,0.121915899217129,-0.047212880104780,-0.081363022327423,-0.048049204051495,0.044720735400915,-0.017206355929375,0.045910734683275,0.024997677654028,-0.105673074722290,0.094743132591248,-0.083841115236282,-0.018238790333271,0.084080047905445));
res += mul(Get(s0,0,0), float4x4(-0.027401916682720,-0.019852003082633,-0.013548527844250,0.083152629435062,-0.094319641590118,-0.058129291981459,-0.045907057821751,-0.085154652595520,-0.084411509335041,-0.025429617613554,-0.010204913094640,-0.001832446549088,0.040337946265936,-0.059526499360800,0.020422883331776,-0.076700814068317));
res += mul(Get(s0,0,dy), float4x4(-0.025320881977677,0.028756741434336,-0.066928967833519,0.063582785427570,-0.091228306293488,0.020983418449759,-0.082048989832401,-0.011963025666773,-0.034487351775169,-0.066925026476383,-0.051675800234079,0.057410489767790,0.016785569489002,-0.064106538891792,-0.083849437534809,-0.060417179018259));
res += mul(Get(s0,dx,-dy), float4x4(-0.072844468057156,0.093258790671825,-0.062241926789284,0.041082702577114,-0.054400492459536,-0.054025758057833,-0.009300989098847,0.044886294752359,0.013157390989363,0.026035802438855,-0.042771980166435,-0.100731104612350,0.001829185988754,-0.077226445078850,0.002199455862865,0.125942140817642));
res += mul(Get(s0,dx,0), float4x4(0.036772776395082,0.049900785088539,-0.017717162147164,0.033594008535147,-0.037451170384884,-0.024771552532911,0.009693671949208,-0.039973214268684,0.046640608459711,-0.037299986928701,-0.027293192222714,0.013845783658326,-0.129059374332428,-0.041492763906717,0.056445550173521,-0.048967897891998));
res += mul(Get(s0,dx,dy), float4x4(-0.017492821440101,0.039773639291525,-0.089422456920147,0.067622378468513,0.012330080382526,0.094289734959602,-0.039510011672974,0.020952466875315,-0.079078264534473,-0.059609193354845,-0.086539641022682,0.032410342246294,-0.141469642519951,-0.082696355879307,-0.116038359701633,-0.025884889066219));
res += mul(Get(s1,-dx,-dy), float4x4(-0.028435427695513,0.096629060804844,0.016508920118213,-0.016909552738070,-0.024661490693688,0.060327351093292,0.030992858111858,-0.043131835758686,-0.029421426355839,0.039472140371799,0.088949032127857,0.090749904513359,0.038406085222960,-0.009584973566234,0.050282139331102,0.037741251289845));
res += mul(Get(s1,-dx,0), float4x4(-0.020615575835109,0.030165616422892,0.009350253269076,-0.100015744566917,-0.021215030923486,0.129796862602234,-0.003159939078614,-0.000295236095553,0.031105736270547,0.004987955093384,0.100863821804523,0.041963655501604,0.075005009770393,0.013068029657006,0.134159028530121,0.024632612243295));
res += mul(Get(s1,-dx,dy), float4x4(0.036832951009274,0.153794482350349,0.009823587723076,-0.130707025527954,0.006444056052715,0.181436121463776,0.001674762228504,-0.013687763363123,-0.005148910917342,-0.014717183075845,0.022179473191500,0.056335207074881,0.098087914288044,0.038038436323404,0.001246458734386,-0.094039335846901));
res += mul(Get(s1,0,-dy), float4x4(-0.011786251328886,0.052556835114956,0.024274088442326,0.039979618042707,-0.012363310903311,-0.015106721781194,-0.006344156339765,0.018797760829329,-0.068255707621574,0.041877113282681,0.037018787115812,0.021194716915488,0.005232407245785,0.064352646470070,0.033267956227064,-0.009476737119257));
res += mul(Get(s1,0,0), float4x4(0.031669266521931,-0.037452243268490,0.008504831232131,-0.083177432417870,0.004103508312255,-0.008657882921398,0.014661018736660,0.030349565669894,-0.024661419913173,-0.042146001011133,0.032734796404839,0.006483034230769,0.005185949150473,0.027211984619498,0.096639908850193,-0.012137621641159));
res += mul(Get(s1,0,dy), float4x4(0.040307160466909,0.014462093822658,0.051852490752935,-0.120413675904274,-0.014149931259453,0.014392166398466,-0.038743715733290,-0.033544007688761,-0.047357648611069,0.026824887841940,-0.134089902043343,0.078135684132576,-0.001629238482565,0.038814160972834,-0.052003063261509,-0.115011706948280));
res += mul(Get(s1,dx,-dy), float4x4(0.017076883465052,0.082059361040592,-0.003046545898542,-0.010391569696367,-0.035727445036173,-0.016609484329820,-0.021100735291839,0.007208364084363,-0.031824491918087,-0.023318288847804,0.110202416777611,0.047625713050365,0.039037827402353,0.053558163344860,-0.012618329375982,-0.036050632596016));
res += mul(Get(s1,dx,0), float4x4(0.063970603048801,-0.000379574601538,0.003494412405416,-0.042084511369467,-0.007880106568336,-0.037897787988186,-0.010917641222477,0.009716789238155,0.006896389648318,-0.052962664514780,0.102196782827377,0.088870398700237,-0.047206368297338,0.011954528279603,0.002412814879790,0.014246527105570));
res += mul(Get(s1,dx,dy), float4x4(0.047575909644365,0.038929831236601,0.024989487603307,-0.075847633183002,0.006757404189557,-0.100758530199528,-0.046889729797840,-0.054079234600067,-0.012395633384585,-0.056962229311466,-0.089862041175365,-0.017198761925101,-0.131270825862885,0.010272365994751,-0.131763964891434,-0.162017911672592));
res += mul(Get(s2,-dx,-dy), float4x4(-0.004862851928920,-0.016109405085444,-0.001108206808567,-0.046858470886946,-0.007890530861914,0.079729110002518,-0.014652702957392,0.018309056758881,-0.018875420093536,-0.044404339045286,0.028021927922964,-0.023721450939775,0.032475858926773,0.006429847795516,0.048052079975605,-0.065742939710617));
res += mul(Get(s2,-dx,0), float4x4(0.092555835843086,-0.049259167164564,-0.024485535919666,-0.117017239332199,0.004345987457782,-0.022983469069004,-0.010466524399817,0.076193079352379,-0.031060788780451,-0.075774043798447,0.034744445234537,0.014211105182767,0.032368097454309,0.045158721506596,0.033493921160698,-0.025554927065969));
res += mul(Get(s2,-dx,dy), float4x4(0.061638906598091,0.023951182141900,-0.081696704030037,-0.119017966091633,-0.012012809514999,-0.035242248326540,-0.113040715456009,0.126907467842102,-0.023873103782535,-0.021002268418670,-0.009348068386316,-0.066819630563259,-0.044389441609383,0.047033488750458,0.011673487722874,-0.043046358972788));
res += mul(Get(s2,0,-dy), float4x4(0.067021846771240,-0.008901251479983,0.038866043090820,-0.067886896431446,-0.058629281818867,0.046610705554485,0.016278006136417,0.073155283927917,0.041885074228048,-0.053351115435362,0.025244690477848,0.048076361417770,-0.006575076375157,-0.056908357888460,0.036171518266201,0.023612000048161));
res += mul(Get(s2,0,0), float4x4(0.151788592338562,-0.009351072832942,0.023804748430848,-0.082680702209473,-0.044758666306734,-0.011016136966646,-0.032117795199156,0.149187639355659,0.179249137639999,-0.100237838923931,0.152364969253540,0.009943038225174,-0.008203390054405,-0.006681385450065,-0.010655303485692,0.041920986026525));
res += mul(Get(s2,0,dy), float4x4(0.071517221629620,0.066822133958340,-0.036027189344168,0.058642312884331,-0.028100118041039,-0.018523722887039,-0.137560263276100,0.059124365448952,0.098935551941395,-0.044325392693281,0.112131528556347,0.006263121496886,-0.002567770890892,0.001600998104550,0.014899171888828,0.026898652315140));
res += mul(Get(s2,dx,-dy), float4x4(-0.087872907519341,0.027713527902961,0.018858827650547,-0.026033796370029,-0.013907372951508,0.040653966367245,0.022893201559782,0.051771719008684,0.040521375834942,-0.068953834474087,-0.069326795637608,0.015846056863666,-0.020645350217819,-0.083215512335300,0.011333495378494,0.015140149742365));
res += mul(Get(s2,dx,0), float4x4(-0.058654852211475,0.086870715022087,-0.014866188168526,-0.060786899179220,0.006353605538607,-0.018102739006281,0.035423494875431,-0.093735851347446,-0.130816653370857,-0.064960844814777,0.063522674143314,-0.072833798825741,-0.014027672819793,0.001493935356848,-0.011196305975318,0.078430689871311));
res += mul(Get(s2,dx,dy), float4x4(-0.175268039107323,0.082316659390926,-0.099016733467579,0.062467053532600,-0.042372725903988,0.035592973232269,-0.033131733536720,-0.025534141808748,-0.080382391810417,0.001823819940910,-0.044474460184574,0.010664004832506,0.004979213234037,0.030570102855563,0.008240649476647,0.093623332679272));
res += mul(Get(s3,-dx,-dy), float4x4(0.043376866728067,0.039352163672447,0.069270893931389,0.052769396454096,-0.042537804692984,0.029485382139683,0.000390124099795,-0.037835147231817,0.013975318521261,0.020006025210023,0.011463553644717,0.053588420152664,0.099673457443714,0.011314623989165,-0.010789660736918,-0.085651315748692));
res += mul(Get(s3,-dx,0), float4x4(0.082531318068504,0.053280219435692,0.066807642579079,0.016608666628599,-0.019737636670470,0.013535010628402,0.056444633752108,-0.025032170116901,0.091247729957104,0.027293464168906,-0.010338760912418,0.104489311575890,0.059832647442818,-0.062512055039406,0.061167340725660,-0.006576829124242));
res += mul(Get(s3,-dx,dy), float4x4(0.017664978280663,0.076814755797386,-0.019818317145109,0.006824076175690,-0.109800375998020,0.006407582666725,0.016924975439906,-0.060039695352316,0.080133825540543,0.025635037571192,-0.026181709021330,0.101970598101616,0.015128675848246,0.019919039681554,-0.078097932040691,0.087155371904373));
res += mul(Get(s3,0,-dy), float4x4(-0.019215760752559,0.029140055179596,0.060240637511015,0.006888865493238,0.065702885389328,0.019136862829328,0.020985357463360,-0.005047082901001,0.028470709919930,-0.055233795195818,0.018977304920554,-0.017747770994902,-0.027910204604268,-0.004444355610758,-0.018184043467045,0.000662194506731));
res += mul(Get(s3,0,0), float4x4(0.024477042257786,0.019587257876992,0.099255979061127,0.002196231856942,0.074044443666935,0.062257155776024,0.122855857014656,0.048556424677372,0.010583666153252,-0.005369850434363,-0.012763173319399,-0.004796960856766,-0.061467010527849,0.034166458994150,0.019531207159162,0.112081997096539));
res += mul(Get(s3,0,dy), float4x4(-0.038037367165089,0.018196787685156,-0.078199744224548,0.073793850839138,-0.013822785578668,0.026394514366984,0.036007601767778,0.001763422624208,0.020816087722778,0.015560177154839,-0.010808832012117,-0.018442424014211,-0.041392251849174,0.076362639665604,-0.139732807874680,0.113916821777821));
res += mul(Get(s3,dx,-dy), float4x4(0.020051004365087,-0.017999341711402,0.076307170093060,0.075079515576363,-0.018718209117651,-0.038157448172569,-0.019435571506619,0.065783835947514,-0.050474252551794,-0.085429809987545,-0.002563126385212,-0.005199505016208,-0.145782664418221,0.023634219542146,0.007337648421526,-0.041187353432178));
res += mul(Get(s3,dx,0), float4x4(0.018227893859148,-0.012223795987666,0.058933682739735,0.043923642486334,0.010806172154844,0.012630099430680,0.025574849918485,0.109956339001656,-0.059885140508413,-0.012700518593192,-0.030305845662951,-0.096472196280956,-0.090099982917309,-0.002804002491757,-0.039281602948904,-0.010111012496054));
res += mul(Get(s3,dx,dy), float4x4(0.036464404314756,-0.001368124387227,-0.091027222573757,0.032913889735937,-0.025847351178527,-0.031035168096423,-0.079879403114319,0.017262656241655,-0.079412311315536,0.040141642093658,-0.085334300994873,-0.050012934952974,-0.032547891139984,-0.002233367413282,-0.135523304343224,0.057575862854719));
return max(float4(0,0,0,0), res);
}
