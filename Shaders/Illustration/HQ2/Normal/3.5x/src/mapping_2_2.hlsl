sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.085123032331467,0.100760526955128,0.132663488388062,-0.007946851663291,-0.111716821789742,-0.032757129520178,0.015156484209001,-0.044230740517378,0.019536510109901,0.024498017504811,0.040546905249357,-0.019615726545453,0.086784429848194,0.021867191419005,-0.072390213608742,-0.036924935877323));
res += mul(Get(s0,-dx,0), float4x4(-0.011193113401532,-0.090598046779633,0.168338909745216,-0.087806686758995,-0.027116658166051,-0.072508879005909,0.007243832107633,0.000273304263828,0.014128193259239,-0.008402583189309,-0.044725615531206,-0.025934755802155,0.019993498921394,-0.057258874177933,-0.077906176447868,-0.051313616335392));
res += mul(Get(s0,-dx,dy), float4x4(-0.047905601561069,-0.049393128603697,-0.040133979171515,-0.102689027786255,-0.011093650013208,0.004112164024264,-0.138978809118271,-0.064635574817657,0.008256451226771,-0.053298451006413,-0.001243277452886,-0.020793762058020,-0.001745202345774,0.083945132791996,-0.067740663886070,-0.067542970180511));
res += mul(Get(s0,0,-dy), float4x4(-0.127435892820358,0.199737310409546,-0.079500779509544,0.068960502743721,0.037904471158981,0.199474334716797,-0.023330319672823,-0.009294279851019,0.001273332512937,0.104725539684296,-0.041406124830246,-0.004736976232380,0.117566838860512,-0.006667634937912,0.108977787196636,0.060999505221844));
res += mul(Get(s0,0,0), float4x4(-0.031269676983356,0.048448957502842,0.038181796669960,0.045052144676447,0.182675629854202,0.041426047682762,-0.180224373936653,-0.029824888333678,-0.003847108921036,0.075860373675823,-0.015677731484175,-0.021793602034450,-0.091461256146431,-0.064223185181618,0.035327117890120,0.083213716745377));
res += mul(Get(s0,0,dy), float4x4(-0.100200444459915,-0.012803022749722,-0.049421440809965,-0.010641827248037,-0.061039697378874,-0.054051429033279,-0.074038907885551,0.015768254175782,0.034391153603792,-0.051852371543646,0.039125423878431,-0.015998769551516,-0.059502623975277,-0.053606986999512,0.120253235101700,0.067066222429276));
res += mul(Get(s0,dx,-dy), float4x4(0.003086954820901,0.111503578722477,0.007476914674044,0.022670356556773,-0.051966197788715,0.064416304230690,-0.036689344793558,-0.032270740717649,0.004564173053950,0.044240292161703,0.066466867923737,-0.000934477080591,0.020578261464834,0.044022072106600,-0.098451942205429,-0.037544045597315));
res += mul(Get(s0,dx,0), float4x4(0.002757293870673,0.086651571094990,0.021972987800837,0.029183825477958,-0.075885564088821,0.024216692894697,0.008912172168493,0.029370224103332,-0.026093246415257,0.093275353312492,0.109898567199707,0.008704698644578,-0.059897668659687,-0.106563165783882,0.151755511760712,0.027949851006269));
res += mul(Get(s0,dx,dy), float4x4(0.042303804308176,-0.030578831210732,-0.102331653237343,0.000013791097444,0.086404412984848,-0.052237130701542,0.220451131463051,0.047388117760420,-0.010829917155206,-0.011837880127132,0.154795557260513,0.011529074981809,0.019883101806045,-0.063471548259258,0.116656035184860,-0.031722351908684));
res += mul(Get(s1,-dx,-dy), float4x4(-0.004952680319548,0.177545428276062,-0.012940073385835,-0.002293602330610,0.055314037948847,-0.118781350553036,-0.002379127778113,-0.089380890130997,0.012467125430703,-0.052782651036978,0.008691719733179,-0.007883890531957,0.118534259498119,-0.072199739515781,0.068345874547958,0.003544337581843));
res += mul(Get(s1,-dx,0), float4x4(0.051509782671928,-0.008597562089562,0.046148106455803,0.039487101137638,0.093857221305370,-0.126552298665047,-0.012445150874555,-0.064465329051018,-0.007149699609727,-0.100498810410500,-0.127803832292557,-0.034729264676571,0.072645828127861,-0.115084454417229,-0.018104141578078,-0.032132308930159));
res += mul(Get(s1,-dx,dy), float4x4(0.006839158479124,-0.034030981361866,-0.089972421526909,0.051088206470013,0.022061308845878,-0.066178306937218,0.085960693657398,-0.069103084504604,0.016349477693439,-0.004859653767198,0.100029423832893,-0.029925754293799,-0.029331136494875,-0.037467751652002,-0.002804950345308,-0.076882265508175));
res += mul(Get(s1,0,-dy), float4x4(-0.043066438287497,0.120757639408112,0.004286259412766,-0.020726913586259,-0.025074506178498,0.083288513123989,0.099454611539841,0.024122163653374,0.092720620334148,0.022531691938639,-0.031098252162337,-0.000078831166320,0.098731450736523,0.008567209355533,0.087934888899326,0.048011485487223));
res += mul(Get(s1,0,0), float4x4(0.077963009476662,0.065897241234779,0.018009295687079,-0.028763722628355,-0.012871764600277,-0.050956152379513,0.076569423079491,-0.014193106442690,-0.123645067214966,-0.077902860939503,-0.135999724268913,-0.022248523309827,-0.042642969638109,-0.046737797558308,-0.004508255049586,0.102150611579418));
res += mul(Get(s1,0,dy), float4x4(0.018140261992812,0.011936861090362,-0.145026698708534,-0.017972227185965,0.026528663933277,-0.065003119409084,0.013647982850671,0.017766296863556,0.064407445490360,-0.080229416489601,0.231590732932091,0.045701965689659,-0.040194839239120,0.050950706005096,-0.131199955940247,-0.011928466148674));
res += mul(Get(s1,dx,-dy), float4x4(0.035691443830729,0.063677206635475,-0.011901080608368,0.018948344513774,0.001289953594096,0.146013721823692,-0.034476630389690,0.086680896580219,0.057868450880051,0.069688655436039,-0.087745226919651,0.015281577594578,-0.017175726592541,-0.032443258911371,0.052650880068541,0.059419266879559));
res += mul(Get(s1,dx,0), float4x4(-0.004669970367104,0.028565943241119,0.006432569120079,0.038150627166033,-0.021559229120612,0.086524009704590,-0.011196124367416,0.043571453541517,-0.069174259901047,-0.070766918361187,0.068682596087456,-0.029105603694916,-0.004592155572027,-0.058190964162350,-0.031596153974533,-0.026131186634302));
res += mul(Get(s1,dx,dy), float4x4(0.031266994774342,-0.004812016617507,-0.024345075711608,-0.004197163041681,-0.049502380192280,0.090462975203991,-0.023697199299932,0.038676757365465,-0.033960524946451,-0.079600080847740,0.066700667142868,0.047608643770218,0.074310265481472,0.003095700638369,-0.111488588154316,-0.079012036323547));
res += mul(Get(s2,-dx,-dy), float4x4(0.054750021547079,0.021890785545111,0.072116278111935,0.020039658993483,-0.015313968062401,0.035108391195536,-0.108366809785366,-0.040605768561363,0.049657344818115,-0.111607827246189,0.057204399257898,0.029112320393324,-0.033389233052731,-0.064794488251209,-0.158423095941544,0.036973986774683));
res += mul(Get(s2,-dx,0), float4x4(0.091132365167141,-0.079702056944370,0.072322696447372,-0.003682632232085,0.003400420304388,0.105525128543377,-0.005798472091556,-0.074689507484436,-0.027893977239728,0.011726499535143,-0.005213710479438,0.101710185408592,0.000267158262432,-0.012461939826608,0.169488430023193,-0.048643723130226));
res += mul(Get(s2,-dx,dy), float4x4(0.107719577848911,-0.006451593246311,-0.026784259825945,0.052481904625893,-0.015014310367405,-0.023762041702867,-0.047884557396173,-0.021550284698606,-0.020835690200329,-0.005939501803368,0.007975525222719,0.004962226375937,0.169937878847122,0.094708763062954,-0.018352445214987,-0.132847055792809));
res += mul(Get(s2,0,-dy), float4x4(0.022076642140746,0.038213483989239,0.045648828148842,0.107585862278938,-0.018809191882610,-0.018226988613605,0.079274341464043,0.097684845328331,0.101499617099762,-0.022602260112762,-0.055823106318712,0.028630562126637,-0.244129747152328,-0.145493224263191,-0.086724713444710,0.140317648649216));
res += mul(Get(s2,0,0), float4x4(0.027517516165972,-0.068192251026630,0.089225724339485,0.173162534832954,0.075719140470028,-0.026821130886674,0.199753910303116,0.004772488959134,-0.032196123152971,-0.019598558545113,-0.018144369125366,0.078109815716743,0.005905814934522,-0.024182645604014,0.219195485115051,0.064612768590450));
res += mul(Get(s2,0,dy), float4x4(0.065660387277603,0.001324409851804,-0.008732234127820,0.124553650617599,0.089897818863392,-0.012973396107554,-0.020274132490158,-0.018294673413038,-0.011753066442907,-0.035125166177750,0.088520117104053,0.002772792009637,0.110237322747707,0.060986816883087,-0.061746440827847,-0.167894884943962));
res += mul(Get(s2,dx,-dy), float4x4(0.070761978626251,0.049485877156258,-0.098046824336052,0.024988621473312,0.045067273080349,-0.110739275813103,-0.139234438538551,-0.024818817153573,0.075890868902206,-0.106638498604298,-0.039208840578794,0.024212056770921,0.090500369668007,-0.088588275015354,0.114448614418507,0.082352831959724));
res += mul(Get(s2,dx,0), float4x4(0.053578857332468,-0.021235974505544,-0.075858235359192,0.063937716186047,-0.041031427681446,-0.083104029297829,-0.053073182702065,-0.050851792097092,0.113887600600719,-0.026036029681563,0.042742107063532,0.004583385773003,0.016006415709853,0.007162410765886,-0.149923875927925,-0.038822975009680));
res += mul(Get(s2,dx,dy), float4x4(0.046596139669418,0.062954597175121,-0.120987929403782,0.048874504864216,-0.127587437629700,-0.032534431666136,0.014896919950843,-0.098925575613976,0.050349768251181,-0.042187444865704,0.075467921793461,0.055028073489666,-0.090182632207870,0.072608068585396,-0.001719311112538,-0.041638258844614));
res += mul(Get(s3,-dx,-dy), float4x4(-0.007535266689956,0.047803856432438,0.088464602828026,-0.021466774865985,0.230983853340149,0.013687680475414,0.073443740606308,-0.125542894005775,-0.007119631394744,-0.049572117626667,-0.147552728652954,0.030949974432588,0.035758875310421,0.087634980678558,-0.082582287490368,0.005765581037849));
res += mul(Get(s3,-dx,0), float4x4(0.019726086407900,-0.045352425426245,-0.058593675494194,-0.066576898097992,-0.066303119063377,0.011932907626033,-0.216441586613655,-0.122339643537998,0.091162420809269,-0.009319062344730,-0.011513287201524,-0.005045506171882,0.005027034785599,0.017298571765423,0.054028894752264,-0.027572721242905));
res += mul(Get(s3,-dx,dy), float4x4(-0.068228214979172,0.013803520239890,-0.020399797707796,-0.007676253095269,-0.122810445725918,-0.075507193803787,0.145750880241394,-0.064071938395500,0.124136269092560,0.057654585689306,-0.034104503691196,-0.073870204389095,0.045650128275156,0.018503891304135,0.061060305684805,-0.043687839061022));
res += mul(Get(s3,0,-dy), float4x4(0.012399902567267,0.099325604736805,0.033956147730350,-0.052638024091721,0.153813809156418,-0.024897929280996,-0.128454267978668,-0.077287480235100,-0.075665898621082,-0.049625594168901,0.005194051656872,0.091002225875854,0.098912999033928,0.087737627327442,-0.066952340304852,-0.038536835461855));
res += mul(Get(s3,0,0), float4x4(0.074105992913246,-0.109438277781010,-0.036644630134106,-0.055129565298557,-0.065860286355019,-0.124134838581085,0.204015299677849,-0.027171391993761,0.029784904792905,-0.030895698815584,0.085482440888882,0.025088064372540,-0.003851279849187,0.092694029211998,0.029918463900685,-0.056366696953773));
res += mul(Get(s3,0,dy), float4x4(-0.067055292427540,-0.066833347082138,-0.001261883648112,0.083797179162502,-0.050760153681040,-0.083301350474358,0.162426292896271,-0.031973421573639,0.094766147434711,0.082115098834038,-0.044452443718910,-0.065126724541187,0.038362305611372,0.081033751368523,0.055832508951426,-0.061318725347519));
res += mul(Get(s3,dx,-dy), float4x4(-0.076401077210903,0.097809031605721,0.050582010298967,-0.018149066716433,0.058853141963482,0.024480609223247,0.129920303821564,0.002577004255727,-0.071534134447575,0.046974666416645,-0.138731211423874,0.129188746213913,-0.006113934330642,-0.030115088447928,0.036831300705671,0.022244000807405));
res += mul(Get(s3,dx,0), float4x4(0.051061488687992,-0.079171605408192,0.182054758071899,-0.036160614341497,0.001420069835149,-0.079597182571888,0.213344112038612,0.082707703113556,0.002689320128411,0.005524861626327,-0.126505360007286,0.080560751259327,-0.046510200947523,-0.019527230411768,0.123918890953064,0.058108210563660));
res += mul(Get(s3,dx,dy), float4x4(0.084570132195950,-0.087611362338066,0.040132354944944,-0.020616760477424,-0.135851040482521,0.022386427968740,0.007621132768691,0.026221049949527,0.054598242044449,-0.113917350769043,-0.060617908835411,-0.029981181025505,-0.070180214941502,0.073765940964222,0.096493266522884,0.005070493090898));
return max(float4(0,0,0,0), res);
}
