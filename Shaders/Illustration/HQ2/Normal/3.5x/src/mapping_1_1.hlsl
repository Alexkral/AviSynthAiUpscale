sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.050260782241821,0.022342683747411,-0.078992083668709,0.062893204391003,0.039713520556688,-0.031951405107975,0.068891741335392,-0.036583751440048,-0.043415769934654,0.012246251106262,0.004971080459654,-0.017028646543622,-0.012600110843778,-0.017241297289729,-0.023224724456668,0.015826240181923));
res += mul(Get(s0,-dx,0), float4x4(-0.015071912668645,-0.033715508878231,-0.032612234354019,-0.020725363865495,0.033557765185833,-0.050887130200863,0.002145413774997,-0.047019030898809,-0.011443085968494,-0.028061695396900,0.025720892474055,0.042803633958101,-0.002209834754467,-0.027089728042483,-0.029304493218660,0.034219540655613));
res += mul(Get(s0,-dx,dy), float4x4(-0.031635310500860,0.041044786572456,-0.040934402495623,0.071073412895203,-0.049616739153862,0.030512738972902,-0.031214924529195,-0.042704828083515,-0.017697308212519,0.054977584630251,-0.033606041222811,0.048906080424786,0.053437624126673,-0.000874870514963,0.038747295737267,0.006566612515599));
res += mul(Get(s0,0,-dy), float4x4(0.002742732642218,0.001561505836435,-0.022505631670356,0.095246858894825,0.085264667868614,-0.020273627713323,0.016759093850851,0.001621557865292,-0.032370157539845,-0.022893363609910,0.045476678758860,-0.015942448750138,0.010704954154789,0.058701518923044,0.021819874644279,0.012173169292510));
res += mul(Get(s0,0,0), float4x4(-0.038280442357063,-0.110565528273582,-0.016548847779632,-0.001182477921247,0.051240380853415,-0.022698340937495,0.011996407993138,-0.048251070082188,0.012096690945327,0.046191800385714,0.030103933066130,0.027278220281005,0.058760691434145,0.049600418657064,-0.073272846639156,-0.081494145095348));
res += mul(Get(s0,0,dy), float4x4(0.038641788065434,-0.044379465281963,-0.001455175690353,-0.026429260149598,0.025905394926667,-0.027574073523283,0.063210837543011,-0.087918035686016,-0.021480334922671,-0.048625297844410,0.076926194131374,0.053325366228819,0.014237592928112,0.076957412064075,0.052194338291883,-0.010146301239729));
res += mul(Get(s0,dx,-dy), float4x4(-0.034539252519608,-0.057043928653002,0.054543577134609,0.010343903675675,-0.020706200972199,-0.012828567065299,0.000641526305117,-0.006191800348461,-0.013380866497755,-0.083280287683010,0.033808253705502,0.008652250282466,0.016337448731065,0.048238903284073,0.024896860122681,0.066496051847935));
res += mul(Get(s0,dx,0), float4x4(0.008918627165258,-0.067310415208340,-0.001467265770771,0.075363337993622,-0.039432119578123,-0.159543588757515,-0.002697741147131,0.003819732228294,-0.030590023845434,0.036220766603947,-0.010001580230892,-0.006842395756394,0.002498541492969,0.031279087066650,-0.024387953802943,-0.074958562850952));
res += mul(Get(s0,dx,dy), float4x4(-0.035139821469784,-0.016297029331326,0.067956708371639,-0.038329187780619,0.039621558040380,-0.057930715382099,0.019198644906282,-0.031611535698175,-0.006201270502061,-0.025252273306251,-0.057402368634939,0.023669708520174,-0.015735782682896,0.026777366176248,0.041643686592579,0.032190550118685));
res += mul(Get(s1,-dx,-dy), float4x4(0.016811303794384,-0.047525368630886,-0.021819729357958,-0.064365096390247,-0.063079982995987,-0.032753277570009,-0.060901761054993,-0.030462812632322,0.005435374565423,-0.005700965877622,-0.057386755943298,-0.073516063392162,-0.050860226154327,-0.058702677488327,0.023147333413363,-0.080518610775471));
res += mul(Get(s1,-dx,0), float4x4(0.040788251906633,0.018178287893534,-0.038539726287127,-0.009418230503798,0.037168223410845,-0.010045161470771,0.043515082448721,-0.020297413691878,0.031526703387499,-0.017469406127930,-0.029249139130116,-0.029460465535522,0.038747765123844,0.070798031985760,-0.097813300788403,-0.135483264923096));
res += mul(Get(s1,-dx,dy), float4x4(0.031386256217957,0.062284007668495,0.027845306321979,0.038476515561342,0.015371283516288,0.037692826241255,-0.068323165178299,0.012184353545308,-0.003246693639085,-0.014162897132337,-0.006559242494404,-0.002669837791473,0.017918098717928,0.059288587421179,-0.016259539872408,-0.002679125173017));
res += mul(Get(s1,0,-dy), float4x4(0.027732901275158,-0.010593526065350,-0.005156216677278,0.015329144895077,-0.021362952888012,-0.037287916988134,-0.073845624923706,0.011225689202547,-0.057751070708036,-0.099283337593079,-0.004305935930461,0.004919084720314,-0.078310206532478,0.049658615142107,0.107968054711819,-0.100591175258160));
res += mul(Get(s1,0,0), float4x4(0.001081519876607,-0.075837314128876,0.027785573154688,-0.080082096159458,-0.039330445230007,0.009689239785075,-0.024124780669808,0.048811286687851,-0.059959761798382,-0.105285391211510,-0.016938116401434,0.030016638338566,0.024283854290843,-0.055601060390472,0.015120481140912,-0.128595635294914));
res += mul(Get(s1,0,dy), float4x4(-0.021164141595364,-0.016089597716928,-0.022479839622974,0.012292064726353,-0.035918157547712,-0.000656496442389,0.043485291302204,0.001174683915451,0.057654269039631,0.034284252673388,-0.021997056901455,-0.033338353037834,-0.028694691136479,-0.031496208161116,-0.068282373249531,-0.025941638275981));
res += mul(Get(s1,dx,-dy), float4x4(0.040938332676888,-0.060964781790972,-0.013717289082706,-0.046856127679348,-0.036156605929136,0.068196967244148,-0.000629512884188,0.037534974515438,0.010660684667528,-0.074098125100136,0.023688530549407,0.037010587751865,-0.255761027336121,0.002230726182461,0.029326129704714,0.075838543474674));
res += mul(Get(s1,dx,0), float4x4(-0.038981392979622,0.032600779086351,-0.010243917815387,0.043260809034109,0.013447700068355,-0.093026190996170,0.018441570922732,-0.047497078776360,0.055436130613089,0.040528044104576,-0.017188787460327,-0.006184970028698,0.059613846242428,-0.033117741346359,-0.001040738774464,0.057833876460791));
res += mul(Get(s1,dx,dy), float4x4(-0.005366502795368,0.005583434831351,-0.059666171669960,0.009407370351255,-0.048643618822098,-0.010986343957484,-0.005225842352957,0.049385417252779,-0.005961022339761,0.043428920209408,-0.032487578690052,0.034445367753506,0.010890711098909,0.009638152085245,0.001971079967916,0.024831216782331));
res += mul(Get(s2,-dx,-dy), float4x4(0.123830497264862,-0.076992295682430,-0.065206497907639,-0.097475580871105,-0.036397632211447,-0.002765247598290,-0.002199005335569,-0.003108592703938,0.054533701390028,0.063086763024330,-0.026473905891180,0.049404822289944,0.004905613604933,0.136466413736343,-0.182221382856369,0.025495622307062));
res += mul(Get(s2,-dx,0), float4x4(-0.010086842812598,0.114198938012123,0.005927703343332,-0.163384154438972,0.039565909653902,-0.013688533566892,0.026040501892567,-0.029400631785393,0.011096725240350,0.049467533826828,-0.000882286753040,0.103289224207401,0.143095135688782,-0.115761533379555,-0.083968818187714,-0.088481031358242));
res += mul(Get(s2,-dx,dy), float4x4(-0.075782090425491,0.019808178767562,0.068511925637722,0.202515423297882,0.015027616173029,-0.047555856406689,-0.046495944261551,-0.070473328232765,-0.004820763599128,0.022193515673280,0.021020380780101,-0.066633500158787,-0.165089055895805,-0.148200586438179,-0.018862636759877,-0.043131113052368));
res += mul(Get(s2,0,-dy), float4x4(0.350856840610504,0.412661164999008,0.064454436302185,0.030530564486980,0.084455303847790,-0.090557634830475,0.075491040945053,0.029318388551474,0.069309458136559,-0.012712898664176,0.043346408754587,-0.030037492513657,-0.003194581717253,0.134994104504585,-0.044212054461241,0.068420574069023));
res += mul(Get(s2,0,0), float4x4(-0.069625303149223,0.009072293527424,-0.074834071099758,0.207740873098373,0.036562241613865,-0.068283282220364,0.009734410792589,0.051472250372171,-0.149515137076378,-0.068573519587517,-0.004027223680168,0.094457484781742,0.186917588114738,0.077822908759117,0.037003062665462,-0.080738812685013));
res += mul(Get(s2,0,dy), float4x4(-0.186300486326218,-0.444022506475449,-0.032132577151060,-0.073949836194515,0.025892088189721,-0.056495741009712,-0.049294825643301,0.012012289837003,0.002676184521988,-0.024387931451201,0.051248513162136,-0.066459134221077,-0.120825447142124,-0.020633259788156,0.027657646685839,0.114075504243374));
res += mul(Get(s2,dx,-dy), float4x4(0.300049960613251,0.074636772274971,0.096677646040916,-0.192724585533142,-0.071653790771961,-0.016450243070722,-0.062984116375446,-0.029828788712621,0.058349091559649,0.070486783981323,0.041396863758564,-0.065675221383572,0.081514522433281,-0.012937736697495,-0.030697299167514,-0.023997519165277));
res += mul(Get(s2,dx,0), float4x4(-0.220538347959518,-0.090244285762310,-0.067545473575592,0.030564660206437,-0.066623590886593,-0.054973803460598,-0.002007781993598,0.003628473728895,-0.033403445035219,-0.021873055025935,-0.067406974732876,0.004026200156659,0.141276344656944,0.043628819286823,0.075100108981133,-0.049945726990700));
res += mul(Get(s2,dx,dy), float4x4(-0.222774252295494,0.083540067076683,-0.025766726583242,0.072283908724785,-0.059334170073271,-0.052420645952225,-0.012840233743191,-0.016132999211550,0.051905415952206,-0.035622458904982,0.049532089382410,-0.004020227119327,-0.192665725946426,-0.011378824710846,0.144399300217628,0.047219518572092));
res += mul(Get(s3,-dx,-dy), float4x4(0.067057825624943,0.030961535871029,0.030928330495954,-0.008236456662416,-0.032271981239319,0.130012571811676,-0.045290842652321,0.167733043432236,-0.054711662232876,-0.081473186612129,-0.060580950230360,0.045680515468121,0.011674532666802,-0.018732387572527,0.006553092505783,-0.010421090759337));
res += mul(Get(s3,-dx,0), float4x4(-0.030418066307902,-0.033801682293415,0.004948650952429,-0.084452986717224,0.066760398447514,0.010017986409366,-0.038869678974152,-0.054183445870876,0.036296669393778,-0.056207820773125,0.002799531677738,-0.077688038349152,-0.097257509827614,-0.033209566026926,-0.053655430674553,-0.025899298489094));
res += mul(Get(s3,-dx,dy), float4x4(-0.072102874517441,-0.120717965066433,0.076325803995132,-0.092031598091125,-0.063834004104137,0.003653954248875,-0.006332072895020,0.095656909048557,-0.071015179157257,0.004274355247617,-0.042762111872435,0.040783997625113,0.022234324365854,0.084200948476791,0.018193043768406,-0.012420857325196));
res += mul(Get(s3,0,-dy), float4x4(0.058250226080418,0.387978106737137,0.014875172637403,0.088034048676491,-0.061710607260466,-0.110394515097141,-0.132851898670197,-0.045798152685165,-0.069004856050014,-0.077891170978546,-0.028104683384299,0.060717619955540,0.071100123226643,-0.094827219843864,0.023110641166568,-0.014459078200161));
res += mul(Get(s3,0,0), float4x4(0.082241117954254,0.101080119609833,-0.042814876884222,-0.055557321757078,-0.043421775102615,-0.067621007561684,-0.105589300394058,-0.017056578770280,-0.027626503258944,0.005873129703104,-0.002825471106917,0.023814331740141,0.003222883213311,0.013229776173830,-0.031336210668087,0.037186380475760));
res += mul(Get(s3,0,dy), float4x4(-0.085482783615589,-0.188087970018387,0.030556626617908,0.077901035547256,-0.003714136080816,-0.057128649204969,-0.086861729621887,-0.005450722295791,-0.011939833872020,-0.019055930897593,-0.048001889139414,-0.014261073432863,-0.002130971755832,-0.055286571383476,0.061039570719004,-0.019310027360916));
res += mul(Get(s3,dx,-dy), float4x4(-0.014646266587079,-0.061039112508297,-0.119789212942123,0.108521372079849,0.147797435522079,0.138485163450241,0.097484461963177,-0.026495214551687,0.031242161989212,-0.062207717448473,-0.022020215168595,-0.024504659697413,-0.002890833886340,0.016112484037876,-0.091731294989586,-0.051927305757999));
res += mul(Get(s3,dx,0), float4x4(0.003645869204774,-0.008518982678652,-0.137540817260742,-0.014532837085426,-0.053947173058987,-0.011827295646071,0.013521180488169,-0.010091563686728,0.034307554364204,0.028364542871714,-0.045053802430630,-0.022501930594444,0.042129814624786,0.008725043386221,-0.000151711719809,0.014432366006076));
res += mul(Get(s3,dx,dy), float4x4(-0.108585231006145,-0.054003354161978,-0.009648536331952,0.078799657523632,0.114957682788372,0.035902228206396,-0.054922763258219,0.107290841639042,0.041718095541000,0.000430753512774,-0.023423664271832,0.021088117733598,-0.008520807139575,0.018011074513197,0.019981764256954,-0.137103423476219));
return max(float4(0,0,0,0), res);
}
