sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.008754954673350,-0.091000825166702,-0.012253408320248,0.019647302106023,0.067091949284077,0.030316153541207,-0.004605567548424,-0.001890541519970,-0.023237900808454,0.059899494051933,0.056435130536556,0.074101291596889,-0.006379457656294,0.013054369948804,-0.013340363278985,0.028599159792066));
res += mul(Get(s0,-dx,0), float4x4(0.001144225359894,0.002582699060440,-0.026663295924664,-0.047837167978287,0.074134141206741,0.031108181923628,-0.062344431877136,0.024113969877362,-0.006005865521729,0.097335070371628,-0.044233147054911,-0.017218403518200,-0.007180844899267,-0.091018542647362,0.082834362983704,-0.004371696151793));
res += mul(Get(s0,-dx,dy), float4x4(0.091850288212299,-0.063781827688217,0.053628280758858,-0.033109970390797,0.007158422376961,-0.036028902977705,-0.051054596900940,-0.061861693859100,0.031556177884340,0.056501045823097,-0.085309997200966,-0.018511941656470,0.058114685118198,0.054787937551737,0.060902003198862,-0.076381847262383));
res += mul(Get(s0,0,-dy), float4x4(-0.054522655904293,-0.015496444888413,-0.071477539837360,-0.034556474536657,-0.092710860073566,0.015212222933769,0.017541438341141,-0.047826189547777,-0.062893189489841,-0.002807922661304,0.010408111847937,0.007580194622278,0.082115791738033,0.017553871497512,0.001458895974793,-0.027974627912045));
res += mul(Get(s0,0,0), float4x4(0.054987691342831,-0.091221190989017,-0.003278293879703,-0.070829264819622,0.082989171147346,0.019221117720008,-0.053928557783365,-0.040487002581358,-0.011652708984911,-0.046301864087582,-0.002706861356273,-0.033406477421522,-0.027456996962428,0.058448899537325,-0.034486558288336,-0.001372493105009));
res += mul(Get(s0,0,dy), float4x4(0.014747360721231,-0.045559477061033,-0.031901899725199,-0.023379925638437,-0.086866945028305,0.075608588755131,0.066535711288452,0.018282296136022,-0.102650277316570,-0.024717880412936,0.054156161844730,-0.001795257441700,-0.043014883995056,-0.044294580817223,-0.062335956841707,0.003728434210643));
res += mul(Get(s0,dx,-dy), float4x4(0.088331095874310,-0.020934846252203,-0.037321634590626,0.021346095949411,-0.001632323022932,-0.006276619620621,-0.039840020239353,0.000125596081489,-0.015743222087622,0.007485792040825,-0.057240471243858,-0.040976591408253,0.019379727542400,-0.049371246248484,-0.042600437998772,0.009231963194907));
res += mul(Get(s0,dx,0), float4x4(0.070463746786118,-0.086643412709236,-0.143175229430199,-0.008291931822896,0.029261313378811,0.004507990088314,-0.099815256893635,0.025909814983606,-0.026409216225147,0.068811990320683,0.043394375592470,0.032870024442673,-0.010261656716466,0.016109518706799,0.059158083051443,-0.030810607597232));
res += mul(Get(s0,dx,dy), float4x4(-0.045710545033216,-0.056940522044897,-0.018321754410863,-0.018377980217338,-0.040998879820108,0.059567477554083,-0.032007619738579,-0.035284135490656,-0.015185317024589,-0.009674486704171,0.079252801835537,-0.048596650362015,0.004983482416719,0.018697127699852,-0.011812972836196,0.005442134104669));
res += mul(Get(s1,-dx,-dy), float4x4(-0.034723985940218,0.075922288000584,0.000247645744821,-0.003713091369718,0.011456764303148,0.030032394453883,0.011121026240289,0.058691170066595,0.067438393831253,-0.010809010826051,-0.022525010630488,0.014629302546382,0.078808739781380,0.046640522778034,0.035999484360218,0.031036933884025));
res += mul(Get(s1,-dx,0), float4x4(-0.065148241817951,-0.045763716101646,-0.004776410292834,-0.101294897496700,-0.039774160832167,0.023557895794511,0.051359992474318,-0.046874471008778,0.043250471353531,0.023884303867817,-0.043171040713787,0.010819067247212,-0.007322036661208,-0.034751690924168,-0.002041667699814,0.028801769018173));
res += mul(Get(s1,-dx,dy), float4x4(0.018011260777712,0.030923360958695,0.027509225532413,-0.038450039923191,0.026392582803965,-0.027923757210374,-0.005725525785238,0.009661602787673,-0.050219468772411,0.007066734600812,-0.068337097764015,-0.005961525253952,-0.029456794261932,0.045457538217306,-0.046347677707672,0.011652712710202));
res += mul(Get(s1,0,-dy), float4x4(-0.019190872088075,0.032149054110050,-0.052233856171370,0.016219973564148,0.026871915906668,-0.004032694268972,0.074066407978535,0.082223370671272,-0.027745954692364,0.023894110694528,-0.043471731245518,0.171615436673164,-0.071597211062908,0.015988709405065,-0.007146457675844,-0.088658988475800));
res += mul(Get(s1,0,0), float4x4(-0.018757568672299,0.046553701162338,0.055444911122322,0.063020654022694,0.064923636615276,0.047597751021385,-0.003615232883021,-0.020933458581567,-0.069009922444820,0.057733785361052,0.086913764476776,0.114191427826881,0.023923417553306,-0.002719166222960,0.033581111580133,0.015487767755985));
res += mul(Get(s1,0,dy), float4x4(-0.014861160889268,0.023037828505039,-0.009089291095734,-0.032051976770163,-0.014027002267540,0.013088095933199,0.034381743520498,0.036356262862682,-0.001473103300668,0.056525073945522,-0.023050822317600,0.006906259804964,0.012528294697404,-0.046111244708300,-0.007755237631500,0.039777677506208));
res += mul(Get(s1,dx,-dy), float4x4(0.031182544305921,0.003619094844908,-0.051123987883329,-0.005751300137490,-0.057822111994028,-0.000050500126235,0.021242722868919,0.019325811415911,0.014962618239224,-0.035725146532059,-0.022426743060350,0.093679502606392,0.067623369395733,0.054701182991266,0.055033110082150,0.140606492757797));
res += mul(Get(s1,dx,0), float4x4(-0.029216799885035,-0.016418475657701,-0.049315921962261,-0.035475496202707,0.049492560327053,0.018687430769205,0.016022883355618,0.016482120379806,0.030889147892594,0.006766598671675,0.057170569896698,-0.035573858767748,-0.006306739524007,0.075709663331509,-0.100834719836712,0.064866133034229));
res += mul(Get(s1,dx,dy), float4x4(0.043549574911594,0.034652478992939,0.028759635984898,0.013903983868659,-0.002860789652914,-0.002382390201092,-0.009888670407236,0.050259359180927,0.042524371296167,0.035995520651340,0.078460231423378,-0.032894968986511,-0.066994175314903,-0.063675619661808,-0.000507394142915,-0.047165002673864));
res += mul(Get(s2,-dx,-dy), float4x4(-0.100541293621063,-0.023762147873640,-0.007878483273089,-0.158652976155281,-0.018408587202430,0.053383771330118,-0.070764683187008,0.129922196269035,0.090334542095661,-0.124619908630848,-0.054572563618422,-0.024204816669226,-0.043295029550791,-0.006666396744549,-0.002345485147089,-0.053198117762804));
res += mul(Get(s2,-dx,0), float4x4(0.004788609221578,-0.048613131046295,-0.038111288100481,-0.105274848639965,0.021970180794597,0.034625094383955,0.041050322353840,0.026559976860881,0.143752470612526,-0.107272028923035,-0.034997526556253,-0.036834254860878,0.013683574274182,0.128777265548706,-0.061952993273735,-0.115511357784271));
res += mul(Get(s2,-dx,dy), float4x4(0.064381808042526,-0.024162271991372,0.149273350834846,0.048214703798294,-0.042292710393667,-0.029123786836863,0.019478214904666,0.002832533791661,0.031911451369524,-0.055531740188599,0.000653448631056,-0.012310706079006,-0.087232403457165,0.110134787857533,0.087090335786343,-0.005207101814449));
res += mul(Get(s2,0,-dy), float4x4(-0.079924002289772,-0.081187270581722,-0.156054958701134,-0.255284935235977,-0.081179894506931,-0.003577525960281,-0.013894985429943,0.120722539722919,0.017083201557398,0.017397264018655,0.006207096856087,-0.040704801678658,0.007457928266376,0.008792323991656,-0.121242552995682,-0.003670594189316));
res += mul(Get(s2,0,0), float4x4(0.027101181447506,0.013879022561014,0.321513384580612,-0.028432963415980,0.067912802100182,0.059881843626499,0.013464062474668,0.078471213579178,0.089294947683811,0.249421283602715,0.027552127838135,0.092605032026768,0.007900819182396,-0.108808502554893,-0.094446860253811,-0.038130864500999));
res += mul(Get(s2,0,dy), float4x4(0.074411071836948,-0.165838718414307,-0.021690296009183,0.057023189961910,-0.057760931551456,0.025006163865328,-0.017163772135973,-0.042998917400837,-0.026142280548811,0.201432153582573,-0.016587920486927,-0.020332697778940,-0.032675988972187,-0.083903327584267,0.179000541567802,0.013246993534267));
res += mul(Get(s2,dx,-dy), float4x4(-0.028685858473182,0.098829522728920,-0.275729745626450,-0.016188735142350,0.000206775235711,-0.006441139616072,-0.117123246192932,0.019930150359869,-0.131883516907692,-0.042904179543257,-0.005230165552348,-0.050077892839909,0.101202234625816,0.043484278023243,-0.027119373902678,0.005874278489500));
res += mul(Get(s2,dx,0), float4x4(-0.134395077824593,0.185816898941994,0.087333947420120,0.088321886956692,0.012128817848861,-0.034971386194229,-0.025250915437937,0.147092118859291,-0.028409566730261,-0.001758835045621,-0.095386534929276,0.082979761064053,0.144416972994804,-0.006218064576387,-0.031092606484890,0.029496707022190));
res += mul(Get(s2,dx,dy), float4x4(-0.158907547593117,0.026644596830010,-0.052713524550200,0.065723590552807,-0.022443156689405,-0.002917560283095,0.003627448342741,0.046065669506788,-0.042796000838280,0.029219772666693,0.088081769645214,-0.036502923816442,-0.051051020622253,-0.162159517407417,0.060433991253376,-0.003929914906621));
res += mul(Get(s3,-dx,-dy), float4x4(-0.071562021970749,0.015103222802281,-0.010530695319176,-0.003523910650983,0.018566757440567,-0.008645807392895,-0.047770522534847,0.061833959072828,0.028540479019284,-0.011577862314880,-0.051713887602091,0.053765077143908,-0.008481714874506,0.056801665574312,-0.055819157510996,0.033675845712423));
res += mul(Get(s3,-dx,0), float4x4(-0.023547956719995,0.004624610766768,0.050916265696287,-0.030035972595215,-0.045291088521481,-0.024564946070313,0.016037829220295,0.020720520988107,0.002841488458216,0.052150104194880,-0.021828802302480,0.053438052535057,0.035331234335899,-0.022934490814805,-0.017965044826269,-0.023428322747350));
res += mul(Get(s3,-dx,dy), float4x4(-0.005232528317720,-0.003703563241288,0.118789695203304,0.126831829547882,0.048419099301100,-0.048199079930782,-0.044918909668922,0.061570122838020,-0.015316027216613,-0.057813216000795,-0.047221083194017,-0.025452587753534,0.053192090243101,-0.013650153763592,-0.004993778187782,-0.046786099672318));
res += mul(Get(s3,0,-dy), float4x4(-0.034243218600750,-0.148830309510231,0.192362666130066,-0.081138208508492,-0.044852118939161,-0.064287140965462,-0.072865329682827,-0.019383089616895,0.018809625878930,-0.004958476871252,0.095189720392227,-0.007557725068182,0.008525547571480,-0.007983606308699,-0.017431477084756,0.008090618066490));
res += mul(Get(s3,0,0), float4x4(-0.058048643171787,-0.093310661613941,-0.055926162749529,-0.086892999708652,-0.049818694591522,-0.011588967405260,0.078387260437012,-0.006545499898493,-0.004670172464103,0.057696726173162,-0.108618363738060,0.107757024466991,0.082981325685978,-0.044448144733906,-0.045736312866211,0.009758099913597));
res += mul(Get(s3,0,dy), float4x4(0.002189515857026,-0.004110823385417,-0.077547274529934,-0.032002869993448,0.015329729765654,-0.019018581137061,0.015872668474913,0.121769256889820,-0.072689041495323,0.037416774779558,-0.008541932329535,0.032826915383339,-0.056730527430773,-0.017539739608765,-0.030080679804087,-0.063490509986877));
res += mul(Get(s3,dx,-dy), float4x4(0.071092545986176,0.043666865676641,0.067296043038368,0.148573592305183,0.100624158978462,-0.101485721766949,0.037951543927193,-0.155864834785461,0.007881254889071,-0.029526002705097,-0.080557718873024,0.040258374065161,0.045743715018034,-0.031285274773836,-0.020008526742458,-0.137630894780159));
res += mul(Get(s3,dx,0), float4x4(-0.028582597151399,0.052415784448385,-0.159019306302071,0.114765971899033,-0.046631570905447,-0.026743035763502,0.060803044587374,-0.151230365037918,-0.049994044005871,0.055857386440039,-0.017148558050394,0.005543798208237,0.084001779556274,-0.006232861895114,-0.157462179660797,0.038719631731510));
res += mul(Get(s3,dx,dy), float4x4(-0.084683954715729,-0.001519156387076,-0.086100876331329,0.089727990329266,-0.075195908546448,-0.110251612961292,-0.093039385974407,-0.048606175929308,-0.011422243900597,-0.056228771805763,0.015766886994243,0.036457952111959,0.032990660518408,0.009329544380307,-0.006195102352649,-0.032937809824944));
return max(float4(0,0,0,0), res);
}
