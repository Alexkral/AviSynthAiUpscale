sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.101933546364307,0.056773670017719,-0.116084240376949,-0.097541868686676,0.061655655503273,-0.016044380143285,-0.138017132878304,-0.107526943087578,-0.046214662492275,-0.011986411176622,-0.182496860623360,0.028221191838384,-0.017180357128382,0.036127835512161,0.042699698358774,0.006940664723516));
res += mul(Get(s0,-dx,0), float4x4(-0.020125295966864,0.100324504077435,-0.001260776305571,0.010680890642107,0.199986338615417,-0.014898611232638,-0.111067175865173,-0.130417630076408,0.027572479099035,-0.055111844092607,-0.032949041575193,-0.021394018083811,0.012418246828020,0.094564653933048,0.023827433586121,0.098635792732239));
res += mul(Get(s0,-dx,dy), float4x4(0.006437149830163,-0.063484728336334,0.046319425106049,0.061884164810181,0.037456139922142,-0.005795016884804,-0.070657648146152,-0.050698023289442,-0.000901161925867,-0.058221511542797,0.053235888481140,-0.101941049098969,0.049419593065977,-0.044742289930582,-0.035286366939545,0.035306084901094));
res += mul(Get(s0,0,-dy), float4x4(-0.056064646691084,0.118175737559795,-0.008486974984407,-0.081065431237221,-0.025080438703299,-0.053971182554960,0.070813879370689,-0.042531285434961,-0.103766985237598,-0.038002900779247,-0.188076183199883,0.016227986663580,0.031247541308403,0.033935885876417,0.080722518265247,-0.021962717175484));
res += mul(Get(s0,0,0), float4x4(-0.003526100190356,0.004974208772182,-0.018210142850876,-0.044472433626652,-0.099760316312313,-0.022577237337828,0.077624753117561,-0.078118689358234,-0.050366893410683,-0.066348969936371,-0.029297647997737,-0.018865050747991,0.008495990186930,0.037440065294504,0.022739803418517,0.095263160765171));
res += mul(Get(s0,0,dy), float4x4(0.011521812528372,-0.039988212287426,0.018845224753022,0.128719478845596,0.171915829181671,-0.049177136272192,0.071139931678772,-0.105887234210968,-0.035478308796883,-0.059216585010290,0.133577972650528,-0.043589379638433,0.065747715532780,-0.049305558204651,-0.074836701154709,0.065341256558895));
res += mul(Get(s0,dx,-dy), float4x4(0.020936474204063,0.072106316685677,-0.067571789026260,-0.084377318620682,-0.017274342477322,0.006899484433234,0.134077027440071,-0.065716065466404,-0.070605315268040,-0.084879964590073,-0.175493866205215,0.039214268326759,0.068975336849689,0.061133179813623,-0.003851037938148,0.035525918006897));
res += mul(Get(s0,dx,0), float4x4(-0.043161746114492,-0.042092245072126,-0.044460300356150,-0.184675499796867,-0.089261777698994,0.011353280395269,0.026987258344889,-0.108842179179192,-0.116946734488010,-0.055367026478052,-0.027524957433343,0.008882597088814,-0.029854472726583,-0.031301807612181,-0.040217798203230,-0.009499510750175));
res += mul(Get(s0,dx,dy), float4x4(0.011658260598779,-0.043330725282431,0.048519566655159,0.009643849916756,0.065147638320923,-0.074501454830170,0.022227816283703,-0.134874433279037,-0.070759966969490,-0.067250005900860,0.060753621160984,-0.015127776190639,0.071617402136326,-0.104140147566795,-0.035277929157019,0.096908718347549));
res += mul(Get(s1,-dx,-dy), float4x4(0.001748031587340,0.011844563297927,-0.036301165819168,0.031103942543268,-0.043226450681686,-0.008261370472610,0.081458508968353,-0.021761424839497,0.059999089688063,-0.041833978146315,0.016509909182787,-0.051225014030933,0.009150088764727,0.027462115511298,0.092930965125561,0.160345464944839));
res += mul(Get(s1,-dx,0), float4x4(-0.003068514168262,0.034224394708872,0.006275008898228,-0.068687751889229,-0.049951050430536,-0.123824991285801,-0.022971181198955,-0.081565357744694,-0.003461415180936,-0.077807039022446,-0.013863375410438,0.030581004917622,0.056458860635757,-0.079899996519089,-0.042842205613852,0.034279167652130));
res += mul(Get(s1,-dx,dy), float4x4(-0.014827662147582,-0.021652145311236,-0.005776724312454,0.015056651085615,-0.100729636847973,-0.006306006573141,-0.004893342498690,-0.082623749971390,-0.024049907922745,-0.059996463358402,0.005643610376865,0.055192466825247,-0.076564416289330,-0.036959264427423,-0.083090409636497,-0.029784362763166));
res += mul(Get(s1,0,-dy), float4x4(-0.014862567186356,0.042829181998968,-0.054421961307526,0.048009477555752,0.019627504050732,0.034517493098974,0.035128619521856,-0.050312053412199,0.089926891028881,0.038384366780519,0.055244013667107,0.013699898496270,-0.077419415116310,0.037768401205540,-0.031356818974018,0.257913976907730));
res += mul(Get(s1,0,0), float4x4(0.010929014533758,0.005697048269212,-0.059397209435701,0.004446621984243,0.032781627029181,-0.013276727870107,-0.027254197746515,-0.019830886274576,0.021521015092731,-0.008618809282780,0.013035094365478,0.062093880027533,0.147183597087860,-0.037602663040161,0.082560315728188,-0.018802043050528));
res += mul(Get(s1,0,dy), float4x4(-0.031938694417477,-0.005024370737374,-0.042639520019293,0.018126657232642,-0.089027233421803,0.114583678543568,-0.080438077449799,-0.089788094162941,-0.029767135158181,0.000336169207003,-0.028141800314188,0.020815121009946,-0.065470777451992,0.030081987380981,0.065951719880104,-0.037587355822325));
res += mul(Get(s1,dx,-dy), float4x4(-0.011750171892345,0.047422379255295,-0.012560416944325,-0.035533003509045,-0.038613829761744,0.074683122336864,-0.015712590888143,-0.066187128424644,0.115080706775188,0.009657029062510,0.059316925704479,0.030078582465649,-0.062959544360638,0.046261087059975,-0.019831033423543,0.064139202237129));
res += mul(Get(s1,dx,0), float4x4(-0.006639741826802,0.030056117102504,-0.025100639089942,-0.011699197813869,0.049924746155739,0.035948175936937,-0.095515467226505,0.078663215041161,0.045848827809095,-0.031558554619551,0.030139504000545,0.056763116270304,0.036650035530329,0.043202176690102,0.129961684346199,0.134888768196106));
res += mul(Get(s1,dx,dy), float4x4(-0.023630172014236,-0.006326064933091,-0.014106533490121,-0.027967212721705,0.061618391424417,0.032837014645338,-0.100413896143436,-0.002183691831306,-0.032070435583591,0.025914251804352,-0.005658349953592,0.042687725275755,-0.009906911291182,0.018334826454520,0.078091681003571,0.036765918135643));
res += mul(Get(s2,-dx,-dy), float4x4(0.007898745127022,0.044423870742321,0.028035817667842,-0.062492810189724,0.016999691724777,-0.027801498770714,0.024848649278283,0.017831234261394,-0.056497439742088,-0.077496580779552,0.156319245696068,0.057833567261696,-0.016623107716441,0.025414317846298,0.067531779408455,-0.044931728392839));
res += mul(Get(s2,-dx,0), float4x4(-0.014117960818112,0.055915180593729,0.031718149781227,-0.043068457394838,0.033031374216080,-0.083289466798306,0.037046734243631,-0.018733739852905,-0.035711385309696,-0.042180847376585,0.082413330674171,-0.001219233614393,-0.007378313224763,0.033456943929195,0.068725749850273,0.061312235891819));
res += mul(Get(s2,-dx,dy), float4x4(-0.075473152101040,0.093459963798523,0.014154132455587,-0.054952450096607,0.022892143577337,-0.070624060928822,0.043882243335247,0.002011279342696,-0.030949946492910,-0.032210852950811,0.002503737807274,-0.070626102387905,0.031755678355694,0.021305177360773,0.072517566382885,0.015732645988464));
res += mul(Get(s2,0,-dy), float4x4(0.020552283152938,0.103283129632473,0.027226155623794,-0.029032951220870,-0.018435033038259,-0.010244222357869,0.042124200612307,0.025041963905096,0.044552166014910,-0.011985181830823,-0.020611966028810,0.071932002902031,-0.008729605004191,-0.036478094756603,0.060231156647205,0.023918133229017));
res += mul(Get(s2,0,0), float4x4(0.000663167505991,0.065047219395638,0.004080576822162,0.027577316388488,0.020008021965623,-0.031789559870958,0.096084214746952,0.038736730813980,-0.033455859869719,-0.039918307214975,-0.073062412440777,0.050318751484156,-0.010924502275884,-0.014980017207563,0.082258731126785,0.073169037699699));
res += mul(Get(s2,0,dy), float4x4(-0.026077499613166,0.088241733610630,0.008989857509732,0.004068609327078,0.032694000750780,-0.050907630473375,0.057010639458895,-0.096753448247910,-0.021726604551077,-0.002187679056078,0.044040996581316,0.005888295359910,-0.013309557922184,-0.011807597242296,0.047683119773865,0.080388061702251));
res += mul(Get(s2,dx,-dy), float4x4(0.046815138310194,0.042678628116846,0.001348178833723,0.077439181506634,-0.009344980120659,-0.085382394492626,-0.039598505944014,-0.054480563849211,0.073813669383526,-0.012969317846000,0.031742282211781,0.033916637301445,0.018150033429265,-0.086813323199749,0.068303003907204,0.071235775947571));
res += mul(Get(s2,dx,0), float4x4(0.043698292225599,0.030274372547865,0.045584578067064,0.038517966866493,-0.007518252823502,-0.029733767732978,-0.007522054482251,0.138681218028069,-0.010784938000143,0.042803920805454,-0.007086127065122,-0.005438473075628,0.002204327611253,0.000093130685855,0.063895650207996,0.048652343451977));
res += mul(Get(s2,dx,dy), float4x4(-0.039992351084948,0.108993805944920,0.029463833197951,-0.018359934911132,-0.015325540676713,-0.035947419703007,-0.011823036707938,0.031092604622245,-0.087630607187748,0.035723138600588,0.103755384683609,0.014187541790307,-0.055548708885908,-0.047122746706009,0.000096910982393,-0.016224231570959));
res += mul(Get(s3,-dx,-dy), float4x4(-0.050462491810322,0.087406158447266,0.003801976097748,-0.017857264727354,-0.014894623309374,-0.024355186149478,0.005823084618896,0.023189254105091,0.017959045246243,-0.042465485632420,-0.007384485565126,0.049780275672674,0.011865857057273,-0.073130942881107,-0.020011963322759,-0.078088134527206));
res += mul(Get(s3,-dx,0), float4x4(-0.020659940317273,-0.025953145697713,-0.000544616312254,0.038880750536919,0.015127691440284,-0.012526759877801,0.060580115765333,-0.051595829427242,0.017165033146739,-0.017856096848845,-0.033541932702065,0.090902179479599,-0.022206449881196,-0.071207106113434,-0.114294789731503,-0.098057188093662));
res += mul(Get(s3,-dx,dy), float4x4(0.045908562839031,0.014695445075631,0.030194899067283,0.005657564383000,0.021344937384129,-0.038490787148476,0.006086781620979,0.002847384428605,-0.026055945083499,-0.048386484384537,0.000586756039411,0.022862605750561,-0.071254357695580,0.094085775315762,-0.089469559490681,-0.005904177203774));
res += mul(Get(s3,0,-dy), float4x4(-0.016545603051782,0.110946409404278,0.018643723800778,-0.119162052869797,0.007056651636958,-0.026644060388207,0.096575677394867,0.019944360479712,0.036341574043036,0.057290062308311,0.015742776915431,0.035843450576067,-0.083594016730785,-0.074942968785763,0.057977426797152,0.011841966770589));
res += mul(Get(s3,0,0), float4x4(-0.027801882475615,0.049879308789968,-0.029862403869629,-0.025873403996229,0.035512451082468,-0.017755167558789,0.153125524520874,-0.061338815838099,0.022299962118268,0.046177562326193,-0.015140378847718,0.046209931373596,0.063558615744114,-0.135907351970673,-0.135872945189476,-0.053301807492971));
res += mul(Get(s3,0,dy), float4x4(0.036901887506247,0.025552533566952,-0.040751229971647,0.133381947875023,0.054813884198666,-0.075363516807556,0.038681726902723,0.037153325974941,-0.015255386941135,-0.008980493992567,0.025181794539094,0.107849299907684,-0.061902433633804,0.094942159950733,-0.090005494654179,-0.048171021044254));
res += mul(Get(s3,dx,-dy), float4x4(0.015541996806860,0.011968823149800,0.016483912244439,-0.077060468494892,0.000692345143761,0.014227287843823,-0.051959138363600,0.009928653948009,0.039696436375380,0.087228968739510,0.006139865145087,0.019166700541973,-0.088610894978046,-0.023151768371463,0.064434260129929,-0.002643185667694));
res += mul(Get(s3,dx,0), float4x4(-0.021601082757115,-0.088509246706963,0.026698168367147,-0.027341295033693,0.012391690164804,-0.028171619400382,-0.021959297358990,-0.102677039802074,0.064818151295185,0.012702296487987,0.032262764871120,0.030808838084340,-0.018558146432042,-0.040186226367950,-0.041778542101383,-0.157661616802216));
res += mul(Get(s3,dx,dy), float4x4(0.023952674120665,0.003363184630871,0.032001025974751,-0.019855739548802,0.116439715027809,-0.095803506672382,-0.058806691318750,0.000896324811038,-0.001719081192277,-0.054995037615299,0.067495964467525,0.112733058631420,-0.062852196395397,0.102261893451214,0.029989825561643,-0.106049627065659));
return max(float4(0,0,0,0), res);
}
