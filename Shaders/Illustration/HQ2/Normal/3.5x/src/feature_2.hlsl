sampler s0 : register(s0);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(x, y)   tex2D(s0, tex + float2(x, y))[0]

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += float4(-0.103868879377842,-0.016503609716892,-0.096689365804195,-0.189299672842026) * Get(-dx,-dy);
res += float4(0.044178809970617,-0.008085005916655,-0.324015110731125,-0.125760227441788) * Get(-dx,0);
res += float4(-0.067273728549480,0.027824373915792,0.064427696168423,-0.021299794316292) * Get(-dx,dy);
res += float4(-0.104202508926392,0.064677737653255,-0.175107166171074,-0.064245365560055) * Get(0,-dy);
res += float4(-0.017567088827491,-0.152433454990387,-0.294016510248184,0.097478240728378) * Get(0,0);
res += float4(-0.083231255412102,-0.073014758527279,-0.068592630326748,0.193012848496437) * Get(0,dy);
res += float4(0.072554424405098,-0.033313833177090,0.196989595890045,-0.030272763222456) * Get(dx,-dy);
res += float4(-0.098263040184975,0.036772493273020,0.178368210792542,0.075855344533920) * Get(dx,0);
res += float4(0.017304068431258,-0.160243362188339,0.311498880386353,-0.062034036964178) * Get(dx,dy);
return max(float4(0,0,0,0), res);
}
