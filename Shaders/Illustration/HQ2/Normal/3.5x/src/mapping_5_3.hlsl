sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.048427257686853,-0.072786413133144,-0.097364306449890,-0.046725697815418,-0.038207028061152,-0.050751559436321,0.051201298832893,-0.163337945938110,0.055089902132750,-0.014872257597744,0.033672034740448,0.068274967372417,0.145594865083694,0.094007059931755,0.065712228417397,-0.037064392119646));
res += mul(Get(s0,-dx,0), float4x4(-0.008892927318811,-0.092659778892994,-0.128185823559761,-0.036006595939398,-0.038996286690235,-0.013974508270621,0.035217393189669,-0.099221676588058,0.009691818617284,-0.046751998364925,0.049196582287550,-0.021055554971099,0.030506256967783,0.146364375948906,-0.022695079445839,0.061838656663895));
res += mul(Get(s0,-dx,dy), float4x4(0.008721880614758,-0.091172300279140,-0.048785414546728,-0.011484736576676,0.056690819561481,-0.019554691389203,0.015197635628283,-0.040256008505821,0.005311526823789,-0.005507077090442,0.079239785671234,-0.032709166407585,-0.039830818772316,-0.019375696778297,-0.033261992037296,-0.027363611385226));
res += mul(Get(s0,0,-dy), float4x4(-0.087932132184505,0.067532710731030,-0.078072160482407,-0.063157595694065,0.053306262940168,-0.104334197938442,-0.031369451433420,-0.019942559301853,0.053068686276674,0.037029400467873,-0.075418233871460,0.018981853500009,0.016202781349421,-0.130823045969009,0.052241422235966,0.129050046205521));
res += mul(Get(s0,0,0), float4x4(0.010295785963535,0.018388580530882,-0.037344764918089,-0.010226009413600,0.028101783245802,-0.018226416781545,-0.025377972051501,-0.059398856014013,-0.048369877040386,0.068034164607525,-0.016326718032360,-0.011752305552363,-0.041424311697483,-0.024419477209449,-0.036020468920469,0.101074725389481));
res += mul(Get(s0,0,dy), float4x4(0.047768499702215,0.001336433459073,0.033668801188469,0.004935668781400,0.020441494882107,-0.060421556234360,0.008282408118248,0.001802138402127,0.053110588341951,0.082912050187588,0.061504211276770,-0.052490089088678,-0.081433400511742,-0.056279543787241,-0.084315881133080,-0.019526202231646));
res += mul(Get(s0,dx,-dy), float4x4(-0.109062105417252,-0.030058115720749,-0.089287251234055,-0.022276338189840,0.073892265558243,0.001496873213910,-0.042347967624664,0.088174119591713,0.012627046555281,-0.091643460094929,-0.127037703990936,-0.029440425336361,-0.024612382054329,-0.062862403690815,0.087497852742672,0.035272616893053));
res += mul(Get(s0,dx,0), float4x4(-0.021425561979413,0.076235599815845,-0.072324179112911,-0.000175207911525,-0.058944944292307,-0.061293900012970,-0.086283937096596,0.028000770136714,-0.083740234375000,0.002824502997100,-0.060933642089367,-0.042127657681704,-0.118841923773289,-0.072291895747185,0.167850032448769,-0.064576327800751));
res += mul(Get(s0,dx,dy), float4x4(0.065789461135864,0.031872212886810,-0.021865192800760,-0.020679246634245,-0.028726909309626,-0.042848769575357,0.051771260797977,0.064607702195644,0.019889621064067,-0.024815633893013,-0.073599532246590,-0.096839413046837,-0.087030477821827,-0.117978654801846,0.062922284007072,-0.097635872662067));
res += mul(Get(s1,-dx,-dy), float4x4(0.041490957140923,0.013937101699412,0.068554125726223,0.036014374345541,0.028131114318967,0.053193867206573,0.064699418842793,0.013192432932556,0.049072224646807,0.015440884046257,-0.049400500953197,0.027936827391386,-0.082665577530861,-0.031165836378932,-0.024720653891563,0.068952634930611));
res += mul(Get(s1,-dx,0), float4x4(0.089987121522427,-0.018682127818465,0.095299452543259,-0.009970929473639,0.058154914528131,0.091834008693695,0.005307973828167,0.027286048978567,0.043085791170597,0.076829716563225,-0.058342918753624,-0.012307891622186,-0.021146081387997,-0.027503013610840,0.003629600396380,0.045390523970127));
res += mul(Get(s1,-dx,dy), float4x4(0.080520711839199,-0.012144676409662,0.032349638640881,0.038248863071203,0.046890910714865,0.081574931740761,-0.098395541310310,0.033746156841516,-0.007120153401047,0.093702398240566,-0.134682759642601,-0.072624988853931,0.029484385624528,0.010582974180579,-0.029704393818974,-0.002835216233507));
res += mul(Get(s1,0,-dy), float4x4(0.019817475229502,0.073168173432350,-0.054594539105892,0.089101381599903,-0.033289540559053,0.036989159882069,0.035646490752697,0.052050080150366,0.035057283937931,-0.025947071611881,-0.127136945724487,0.076582737267017,-0.094226479530334,0.032392308115959,0.004139419645071,0.012169490568340));
res += mul(Get(s1,0,0), float4x4(0.028326848521829,-0.005982858128846,0.006501568015665,0.076244443655014,0.012767034582794,-0.099999107420444,0.003393538063392,0.029753148555756,0.105936452746391,0.004419115837663,0.003575036302209,0.063429825007915,-0.001721518347040,-0.019898973405361,-0.029014732688665,0.018530659377575));
res += mul(Get(s1,0,dy), float4x4(0.091137416660786,0.027183746919036,0.067637071013451,0.034359440207481,0.049839310348034,-0.050265967845917,-0.014168296009302,0.004517633467913,-0.022374728694558,0.030170807614923,0.103504344820976,-0.015813980251551,0.063385210931301,-0.062783077359200,-0.068636968731880,0.025770870968699));
res += mul(Get(s1,dx,-dy), float4x4(-0.057677429169416,-0.021948721259832,-0.049246422946453,0.034964811056852,-0.060910727828741,0.144646018743515,-0.002470587147400,-0.028586041182280,0.041814636439085,-0.059037160128355,-0.020519776269794,0.000331497489242,-0.070518508553505,0.066630221903324,0.022551409900188,-0.048510059714317));
res += mul(Get(s1,dx,0), float4x4(-0.051272731274366,0.050463385879993,-0.043602827936411,0.062494952231646,-0.028733236715198,0.169025063514709,-0.062958687543869,0.021954819560051,0.010412355884910,0.026203537359834,0.020636238157749,0.021439936012030,0.016556357964873,0.054043736308813,-0.011165724135935,-0.027913292869925));
res += mul(Get(s1,dx,dy), float4x4(0.063599981367588,0.071297511458397,-0.040749162435532,0.023066548630595,0.021658314391971,0.097455635666847,-0.005180930718780,-0.050573371350765,-0.043029401451349,-0.017535066232085,0.042984250932932,-0.024864546954632,0.076328575611115,-0.044521022588015,-0.003001003060490,-0.055561088025570));
res += mul(Get(s2,-dx,-dy), float4x4(-0.070813253521919,0.042313519865274,-0.020591443404555,-0.095706865191460,-0.057452481240034,-0.065363787114620,-0.044427819550037,0.109008193016052,0.038787093013525,-0.123588733375072,-0.072665974497795,-0.009671558625996,-0.015459271147847,0.019111905246973,0.022213587537408,0.040809895843267));
res += mul(Get(s2,-dx,0), float4x4(-0.051429133862257,0.031753566116095,-0.041386976838112,0.009914662688971,-0.062857896089554,-0.069383077323437,0.002933511510491,-0.034752659499645,-0.010547607205808,-0.012000630609691,0.037732925266027,0.028645940124989,0.036553092300892,-0.049092553555965,0.047153882682323,0.080883629620075));
res += mul(Get(s2,-dx,dy), float4x4(0.038161791861057,-0.004713510628790,0.016349164769053,-0.010745771229267,0.006611307151616,-0.051705334335566,0.045643914490938,-0.100136049091816,0.069936931133270,-0.044654361903667,-0.009701976552606,0.068282067775726,0.051790796220303,-0.064048863947392,0.130636096000671,0.037267524749041));
res += mul(Get(s2,0,-dy), float4x4(-0.084299877285957,-0.128739297389984,-0.010784883052111,0.037274044007063,-0.028165273368359,-0.071117058396339,-0.002324886620045,0.043386910110712,0.006011020857841,-0.007837712764740,0.034312468022108,-0.008168436586857,0.031439512968063,0.079828739166260,0.031310260295868,-0.005940410308540));
res += mul(Get(s2,0,0), float4x4(-0.027477646246552,0.152496710419655,0.031536098569632,0.001650239340961,-0.064520038664341,-0.011329567991197,0.071115270256996,-0.007071470841765,0.064939655363560,0.028885183855891,0.077669054269791,-0.029546802863479,-0.011325172148645,0.140689000487328,0.049857877194881,0.007397362496704));
res += mul(Get(s2,0,dy), float4x4(0.077936284244061,0.098493419587612,-0.029225969687104,0.056888546794653,0.065667927265167,-0.056457478553057,0.051511194556952,-0.137637153267860,0.136805817484856,0.008184858597815,-0.075601145625114,0.038135442882776,0.005240101367235,0.018861990422010,0.033419985324144,0.005783669184893));
res += mul(Get(s2,dx,-dy), float4x4(-0.067353181540966,-0.185654982924461,-0.007097904104739,0.095479123294353,-0.130484536290169,-0.000770410173573,0.074475109577179,-0.078688323497772,0.019414408132434,-0.005800339858979,-0.031071677803993,-0.027207804843783,-0.009057668037713,0.016415756195784,-0.015435931272805,-0.047715619206429));
res += mul(Get(s2,dx,0), float4x4(0.000242628593696,-0.084618754684925,0.049778524786234,0.024004189297557,-0.052900873124599,0.095746122300625,-0.049575977027416,-0.013647994957864,0.016471138224006,-0.037316877394915,0.053344804793596,-0.078564070165157,0.013538721948862,0.078541181981564,-0.027471380308270,-0.007418282330036));
res += mul(Get(s2,dx,dy), float4x4(0.005405053962022,0.045954491943121,-0.148357540369034,0.018217748031020,0.112137533724308,0.032460391521454,-0.076590232551098,0.005075294990093,-0.050340048968792,-0.066193953156471,-0.043730273842812,-0.055864471942186,0.041613023728132,0.080368764698505,-0.005981302820146,0.105069018900394));
res += mul(Get(s3,-dx,-dy), float4x4(-0.021789545193315,-0.009616544470191,0.029706262052059,0.134218007326126,0.011929851025343,0.067336931824684,0.010477579198778,-0.057435266673565,0.039380259811878,-0.107290193438530,0.073015309870243,0.054264251142740,-0.128017216920853,-0.160071194171906,0.072251655161381,0.009712692350149));
res += mul(Get(s3,-dx,0), float4x4(0.007747391238809,0.036767490208149,-0.087592162191868,0.096392899751663,-0.042528908699751,0.106766209006310,0.030434187501669,-0.028148610144854,-0.111506141722202,-0.055140465497971,-0.123098544776440,0.026495318859816,0.076849073171616,-0.106168098747730,0.140342175960541,0.001716318423860));
res += mul(Get(s3,-dx,dy), float4x4(-0.068663254380226,0.084460213780403,-0.212718144059181,0.006036607082933,-0.079896673560143,0.041073679924011,0.006210969295353,0.033469069749117,-0.103120990097523,-0.036363482475281,-0.164699748158455,-0.020988235250115,0.080454967916012,-0.059924639761448,0.078031815588474,0.073900282382965));
res += mul(Get(s3,0,-dy), float4x4(-0.033160075545311,-0.002390099922195,0.021742442622781,0.071993395686150,0.085699073970318,-0.023158224299550,0.068349517881870,0.048267249017954,-0.001706674811430,-0.055149257183075,0.117461122572422,0.080985486507416,-0.086341418325901,0.083484545350075,-0.010337649844587,-0.010491165332496));
res += mul(Get(s3,0,0), float4x4(-0.026338290423155,-0.029127353802323,0.056252911686897,0.008019912987947,0.040603246539831,-0.104558050632477,0.107429996132851,0.028524599969387,-0.033422350883484,-0.080925405025482,-0.016270786523819,0.095386154949665,0.031681131571531,0.070259705185890,-0.089812062680721,-0.053363155573606));
res += mul(Get(s3,0,dy), float4x4(-0.026080437004566,-0.004069527611136,0.048196248710155,0.025968104600906,0.001054458436556,-0.033283066004515,0.124755151569843,0.026308393105865,-0.039309959858656,-0.013465045019984,-0.005971575621516,0.059977270662785,0.141116589307785,0.023472268134356,0.068065315485001,-0.040935508906841));
res += mul(Get(s3,dx,-dy), float4x4(-0.055984813719988,0.074043355882168,0.040522266179323,0.040873937308788,0.068382188677788,0.088246881961823,0.011110283434391,-0.041996672749519,-0.014060109853745,-0.063563659787178,-0.033787295222282,-0.086436495184898,-0.049759581685066,-0.185870528221130,0.099257647991180,0.012183813378215));
res += mul(Get(s3,dx,0), float4x4(-0.028648158535361,0.145143970847130,0.048909671604633,0.015937324613333,-0.033693283796310,-0.011003483086824,0.096661888062954,-0.013359703123569,0.040504757314920,-0.081534832715988,-0.025977401062846,-0.090667366981506,0.041367713361979,-0.018097201362252,0.041433338075876,-0.062533870339394));
res += mul(Get(s3,dx,dy), float4x4(-0.063376970589161,0.024517295882106,0.052076611667871,-0.001252958318219,-0.070995859801769,-0.044377129524946,0.043735817074776,-0.026287812739611,0.047702465206385,-0.070145644247532,-0.033566683530807,-0.033951949328184,0.138334542512894,0.037492770701647,0.081922896206379,-0.150440856814384));
return max(float4(0,0,0,0), res);
}
