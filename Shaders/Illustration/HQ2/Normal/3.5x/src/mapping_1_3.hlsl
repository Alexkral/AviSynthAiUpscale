sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.042434286326170,-0.029934190213680,0.002827236428857,-0.089012362062931,0.024654967710376,0.007540575228631,-0.002600010950118,-0.024756165221334,0.005477293860167,-0.043649632483721,0.111902959644794,-0.068507790565491,0.029664274305105,0.011836594901979,-0.021347852423787,0.018825914710760));
res += mul(Get(s0,-dx,0), float4x4(0.015561294741929,0.076588243246078,0.016841862350702,0.053666479885578,0.021250026300550,-0.018036613240838,-0.046699054539204,-0.017127115279436,0.046631433069706,0.004604698624462,-0.015590062364936,-0.008090537041426,0.102535150945187,-0.007755168713629,-0.012787112966180,-0.014157472178340));
res += mul(Get(s0,-dx,dy), float4x4(0.029905090108514,0.042849939316511,-0.004876863677055,-0.002711936831474,0.032534033060074,-0.036128558218479,0.017674680799246,-0.164027005434036,-0.014299831353128,-0.007464402355254,-0.071802027523518,-0.003693505423144,-0.018844813108444,-0.034888830035925,-0.080376677215099,0.019282104447484));
res += mul(Get(s0,0,-dy), float4x4(-0.039714477956295,0.093542158603668,0.015960616990924,-0.131148651242256,-0.009458313696086,0.065494365990162,0.060990758240223,-0.000485775672132,0.044177509844303,0.043937709182501,-0.011690670624375,0.044263072311878,0.031124830245972,-0.029372977092862,0.018614724278450,0.040365591645241));
res += mul(Get(s0,0,0), float4x4(0.024890609085560,0.145675450563431,0.011139789596200,-0.040689017623663,-0.023107483983040,0.076786704361439,-0.076509520411491,-0.037233904004097,0.052247714251280,-0.009184490889311,-0.045461662113667,0.016981432214379,-0.085956193506718,0.002147764433175,0.017643515020609,0.040823671966791));
res += mul(Get(s0,0,dy), float4x4(0.014016957022250,0.023106956854463,0.018389832228422,0.025881567969918,-0.071458175778389,-0.073367789387703,0.026350848376751,-0.018539989367127,0.025985693559051,-0.000225933734328,-0.008149717003107,0.016047464683652,-0.039255708456039,-0.038516525179148,-0.014650580473244,-0.026099126785994));
res += mul(Get(s0,dx,-dy), float4x4(0.006963917519897,0.058250654488802,-0.087278157472610,-0.079543009400368,-0.002247268101200,-0.039164312183857,0.012802211567760,-0.029028173536062,0.011767141520977,0.024878129363060,-0.028969433158636,0.035479549318552,-0.024980992078781,-0.007255400996655,0.072153031826019,-0.009592587128282));
res += mul(Get(s0,dx,0), float4x4(0.007207237649709,-0.026963824406266,-0.112023241817951,0.018042566254735,-0.014532310888171,0.089639715850353,-0.018147563561797,0.011477627791464,-0.029782580211759,-0.026068078354001,0.031549021601677,0.030432593077421,-0.009384177625179,-0.003786429995671,-0.000614783260971,0.027667293325067));
res += mul(Get(s0,dx,dy), float4x4(0.020290216431022,-0.019671911373734,0.023451985791326,-0.060091767460108,-0.016114879399538,-0.045839816331863,0.010044287890196,0.010255170986056,-0.008942809887230,0.001399912638590,-0.015021415427327,0.010786677710712,0.054464053362608,-0.029439760372043,0.031178062781692,0.017220772802830));
res += mul(Get(s1,-dx,-dy), float4x4(-0.033066991716623,0.009271258488297,0.028761154040694,0.035220660269260,0.029771124944091,0.008339433930814,0.014737622812390,-0.058930117636919,0.018928369507194,-0.121432729065418,0.005014019552618,0.013794476166368,0.034587938338518,-0.023685218766332,0.183987587690353,-0.000568626041058));
res += mul(Get(s1,-dx,0), float4x4(-0.054522205144167,0.081317231059074,0.021896222606301,0.017256030812860,-0.031722478568554,-0.026554957032204,0.010730421170592,0.044540934264660,0.015161116607487,-0.052291415631771,0.000614528602455,-0.038072101771832,0.035002969205379,0.004226654302329,0.108846865594387,-0.038533322513103));
res += mul(Get(s1,-dx,dy), float4x4(0.075994871556759,0.003228089306504,0.022490812465549,-0.095973461866379,-0.011951982043684,0.031710449606180,-0.020151987671852,0.088765054941177,-0.030435584485531,-0.005325242411345,0.070425257086754,0.058761429041624,0.086373731493950,-0.013950955122709,0.101837806403637,-0.023708669468760));
res += mul(Get(s1,0,-dy), float4x4(-0.011172054335475,-0.077560238540173,-0.009809970855713,0.043239861726761,-0.023700527846813,-0.003465593559667,-0.029337558895350,0.045972328633070,0.085515685379505,-0.008003732189536,0.005421549081802,-0.048781752586365,-0.000414143665694,0.024306304752827,0.117064125835896,0.057887289673090));
res += mul(Get(s1,0,0), float4x4(0.058542367070913,0.045692663639784,-0.009025863371789,0.026145813986659,-0.032084528356791,0.008549570105970,0.018835870549083,-0.020393198356032,0.094493210315704,-0.032877609133720,-0.036345642060041,-0.008992452174425,-0.037515312433243,-0.026842229068279,0.007291178684682,0.096852213144302));
res += mul(Get(s1,0,dy), float4x4(0.057428307831287,-0.028480542823672,-0.050914116203785,-0.009385313838720,-0.018819725140929,0.029448032379150,0.049563251435757,0.005025531630963,0.023640817031264,-0.052666690200567,0.044382199645042,-0.017439140006900,-0.098137654364109,0.006702775601298,0.015705091878772,0.151796028017998));
res += mul(Get(s1,dx,-dy), float4x4(-0.014815084636211,-0.033582285046577,-0.006827511824667,-0.039696816354990,0.003463159548119,0.077629126608372,-0.069840185344219,-0.006683934014291,0.032633904367685,-0.012880529277027,-0.013069745153189,0.009994466789067,0.139093115925789,-0.037451587617397,0.067843519151211,-0.042179401963949));
res += mul(Get(s1,dx,0), float4x4(0.013554854318500,-0.044863678514957,-0.013278276659548,0.003259411547333,0.036209776997566,0.079147733747959,0.017820088192821,0.000766215147451,-0.030625924468040,0.011202642694116,-0.026777965947986,-0.023793810978532,0.022307045757771,0.053686808794737,-0.022578069940209,-0.145578458905220));
res += mul(Get(s1,dx,dy), float4x4(-0.017274109646678,0.027233839035034,-0.001315286499448,-0.040215376764536,-0.127022236585617,-0.031239369884133,-0.014536925591528,-0.046135906130075,0.001153381541371,0.094913668930531,-0.041369576007128,0.043944809585810,0.045735765248537,0.012527474202216,0.013024055399001,-0.081668034195900));
res += mul(Get(s2,-dx,-dy), float4x4(-0.107590608298779,0.100302956998348,0.084657579660416,0.023200074210763,0.024234423413873,-0.051472198218107,-0.092905387282372,-0.034790083765984,-0.043289553374052,-0.057142104953527,0.012070829980075,-0.014754162169993,-0.091101221740246,0.009780996479094,-0.084051854908466,-0.060360286384821));
res += mul(Get(s2,-dx,0), float4x4(-0.005469773430377,0.101184733211994,-0.092466108500957,0.378866821527481,0.033344879746437,-0.041770052164793,-0.002773876301944,-0.037463337182999,-0.105239361524582,-0.067280746996403,0.006308321841061,-0.013789184391499,-0.055121764540672,0.148408263921738,-0.125108495354652,0.065680153667927));
res += mul(Get(s2,-dx,dy), float4x4(-0.147053062915802,0.007352007087320,-0.077135592699051,-0.413931667804718,0.015145156532526,0.027286116033792,0.014227531850338,0.064946807920933,0.003980244509876,0.021776692941785,0.080059349536896,-0.072185054421425,-0.044003009796143,-0.001565940910950,0.015304547734559,0.041388012468815));
res += mul(Get(s2,0,-dy), float4x4(-0.106885291635990,-0.037081900984049,-0.008278884924948,-0.159666031599045,0.000929722096771,-0.004260092973709,-0.040005795657635,0.012801523320377,-0.002469342667609,0.007240127772093,-0.045887254178524,0.000803566421382,0.014799122698605,-0.075327880680561,-0.084193825721741,0.025295879691839));
res += mul(Get(s2,0,0), float4x4(0.114954128861427,-0.069319151341915,0.015233971178532,-0.091316722333431,0.053676784038544,-0.085808254778385,-0.013314535841346,0.008311457000673,0.037880185991526,-0.076241075992584,-0.056598108261824,0.002023485954851,0.040219463407993,0.030593000352383,-0.104228176176548,0.064049452543259));
res += mul(Get(s2,0,dy), float4x4(0.044006094336510,0.037570994347334,-0.158228725194931,0.364868372678757,0.014734962955117,0.028477642685175,0.028670048341155,-0.013165554963052,-0.126799613237381,-0.130232810974121,-0.035171505063772,-0.013670332729816,0.048530869185925,-0.076494455337524,0.051830261945724,-0.076053321361542));
res += mul(Get(s2,dx,-dy), float4x4(-0.108082026243210,-0.044108811765909,0.021384380757809,0.002840367378667,0.076664261519909,0.040501527488232,-0.014935811050236,-0.011712838895619,0.056768137961626,0.041254073381424,-0.042030759155750,0.028310621157289,0.073723018169403,0.015261967666447,-0.013381645083427,-0.038865592330694));
res += mul(Get(s2,dx,0), float4x4(0.021813869476318,-0.133265793323517,-0.059963297098875,-0.180496603250504,-0.021331598982215,-0.042197935283184,0.023873040452600,0.030390717089176,0.029896942898631,0.000403945858125,-0.003127525094897,-0.011783225461841,-0.013236993923783,0.034285407513380,-0.011753380298615,0.001857312978245));
res += mul(Get(s2,dx,dy), float4x4(-0.147548288106918,-0.074412114918232,-0.117381513118744,0.152282193303108,-0.077053606510162,0.099162116646767,-0.009844572283328,-0.005431459750980,-0.074155084788799,0.006394246593118,-0.008969029411674,0.034924227744341,-0.049855280667543,-0.074922323226929,0.076361961662769,-0.012380451895297));
res += mul(Get(s3,-dx,-dy), float4x4(0.076901212334633,0.014909932389855,0.065773881971836,0.078420281410217,-0.107126444578171,-0.017017360776663,-0.056767422705889,-0.095378130674362,0.060999199748039,0.048548866063356,0.032909296452999,-0.025780873373151,0.023301964625716,0.008187144063413,0.003684487426654,-0.004829778801650));
res += mul(Get(s3,-dx,0), float4x4(-0.077354602515697,0.004181883763522,0.013306931592524,0.056910581886768,-0.000131147593493,0.021311007440090,-0.042589634656906,0.048245068639517,0.032908961176872,0.063114926218987,0.018892666324973,-0.003880957607180,0.021240778267384,0.031508874148130,-0.003480161074549,0.024058373644948));
res += mul(Get(s3,-dx,dy), float4x4(-0.110767893493176,0.093100428581238,-0.027762252837420,0.045056473463774,-0.125553891062737,-0.042040597647429,-0.086446866393089,0.054287537932396,-0.032603725790977,0.026828559115529,-0.091471955180168,-0.050522912293673,0.005492147523910,0.042432222515345,0.018962591886520,-0.048334911465645));
res += mul(Get(s3,0,-dy), float4x4(0.076564341783524,-0.095738053321838,0.055638425052166,-0.167290791869164,0.116514235734940,0.119360320270061,-0.006592134013772,0.050898879766464,0.053477190434933,0.104764938354492,-0.002462411765009,0.027697931975126,0.041182119399309,0.042678285390139,-0.035985682159662,0.009503118693829));
res += mul(Get(s3,0,0), float4x4(0.029557153582573,-0.111031733453274,-0.094427727162838,0.139125958085060,0.159890517592430,0.261718899011612,-0.043188028037548,-0.070832140743732,0.089132808148861,0.070824936032295,0.079419463872910,-0.008919703774154,0.055572867393494,-0.034259032458067,-0.002212938386947,-0.016477467492223));
res += mul(Get(s3,0,dy), float4x4(0.057965233922005,0.026056896895170,-0.126802816987038,-0.015582519583404,0.003758864011616,0.174747556447983,-0.056650880724192,0.033028673380613,-0.024423571303487,-0.027849670499563,-0.004352981224656,-0.048156786710024,0.073803499341011,0.031660996377468,0.009945126250386,0.066528297960758));
res += mul(Get(s3,dx,-dy), float4x4(0.119277074933052,-0.019734106957912,0.088063046336174,-0.120155200362206,-0.075646184384823,-0.065632469952106,0.162575572729111,0.063570603728294,-0.032556798309088,0.061439160257578,-0.038333371281624,0.001753220916726,0.058573096990585,0.017583375796676,0.029252059757710,-0.039690934121609));
res += mul(Get(s3,dx,0), float4x4(-0.053215254098177,-0.090532884001732,0.028533134609461,0.276818931102753,0.058531433343887,-0.060354221612215,0.132821515202522,0.019177038222551,-0.000847253715619,-0.000634243944660,-0.057880066335201,0.046229094266891,-0.026134885847569,0.021003047004342,-0.026297301054001,0.036305744200945));
res += mul(Get(s3,dx,dy), float4x4(-0.046324994415045,0.051449306309223,-0.021473735570908,-0.095882013440132,-0.035633411258459,-0.118886061012745,0.124163970351219,-0.041995584964752,0.001927043427713,0.034528221935034,0.025673989206553,-0.037951279431581,0.031798709183931,-0.002755919471383,0.124122962355614,0.004779607988894));
return max(float4(0,0,0,0), res);
}
