sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.056777320802212,0.008953115902841,0.027667015790939,0.084969967603683,0.017043298110366,0.093735203146935,-0.050350818783045,0.030743723735213,0.076919510960579,0.066862456500530,0.036392681300640,0.012957803905010,0.026268778368831,-0.003737282240763,0.122109606862068,-0.022503618150949));
res += mul(Get(s0,-dx,0), float4x4(-0.132235318422318,-0.031073212623596,-0.018212057650089,0.077238067984581,0.028300194069743,0.146032974123955,-0.057730872184038,0.068157278001308,0.176448926329613,0.150331273674965,0.024215098470449,-0.037853360176086,-0.053410381078720,-0.103150770068169,0.101922698318958,-0.011986055411398));
res += mul(Get(s0,-dx,dy), float4x4(-0.075854018330574,-0.057953901588917,-0.085536703467369,0.099865324795246,-0.048852600157261,-0.000635887030512,-0.103863872587681,0.053544495254755,0.049878925085068,-0.028072932735085,-0.087669909000397,0.024566506966949,-0.061491534113884,-0.047670032829046,0.000430982676335,0.041395775973797));
res += mul(Get(s0,0,-dy), float4x4(-0.009400306269526,0.015378059819341,0.002941485960037,0.033379781991243,-0.018839741125703,0.010521981865168,-0.101755425333977,0.080765828490257,0.013754874467850,-0.049015376716852,-0.020730180665851,-0.080734267830849,-0.043988678604364,0.085916481912136,0.082062728703022,-0.061344310641289));
res += mul(Get(s0,0,0), float4x4(-0.006272559519857,0.032164480537176,-0.069456540048122,-0.040950823575258,-0.051604371517897,0.119501344859600,0.001794053823687,-0.034860603511333,-0.100943021476269,0.012606361880898,-0.013221718370914,-0.035811517387629,-0.067622788250446,0.013101260177791,0.029743066057563,-0.078951723873615));
res += mul(Get(s0,0,dy), float4x4(-0.009661229327321,-0.021035224199295,-0.085507288575172,0.132829546928406,-0.148963034152985,0.074366472661495,-0.064562492072582,-0.060204736888409,-0.092051923274994,-0.084746487438679,-0.172843456268311,-0.035544544458389,-0.079724118113518,-0.007818823680282,0.021433532238007,-0.093451954424381));
res += mul(Get(s0,dx,-dy), float4x4(0.115359447896481,0.038004141300917,0.031777344644070,0.034094396978617,0.069227263331413,-0.049449607729912,-0.072686664760113,0.042501002550125,0.088345609605312,-0.038365967571735,-0.097239404916763,-0.027261955663562,-0.017071532085538,-0.024992486461997,0.049664024263620,-0.009723818860948));
res += mul(Get(s0,dx,0), float4x4(0.052833098918200,0.092407837510109,-0.032216712832451,0.031371895223856,0.141150429844856,0.012910673394799,-0.003392721991986,0.031239259988070,-0.003475642064586,0.014904212206602,-0.036056563258171,0.066075921058655,-0.025641165673733,-0.016177853569388,-0.087331824004650,0.060323502868414));
res += mul(Get(s0,dx,dy), float4x4(-0.001657676999457,-0.005291617009789,-0.038264371454716,0.069270975887775,0.073866166174412,-0.001005751080811,-0.032072406262159,-0.094727218151093,-0.094050347805023,-0.116895757615566,-0.028063306584954,0.177982062101364,-0.015727343037724,-0.037000399082899,0.054359000176191,-0.009720752015710));
res += mul(Get(s1,-dx,-dy), float4x4(-0.123800128698349,-0.001109097036533,-0.063639134168625,-0.062494851648808,0.067384682595730,-0.054727800190449,0.060631759464741,-0.032066833227873,-0.085124887526035,-0.000022245265427,-0.029423929750919,-0.020870342850685,-0.053555034101009,-0.041858173906803,0.018813785165548,-0.073184266686440));
res += mul(Get(s1,-dx,0), float4x4(-0.125874727964401,0.016200054436922,-0.051455371081829,0.077532835304737,0.089786998927593,-0.001093417988159,0.112521409988403,0.039829809218645,-0.083170346915722,0.017152292653918,0.009682524949312,0.091402254998684,-0.143489703536034,0.107376456260681,-0.042141683399677,-0.071263164281845));
res += mul(Get(s1,-dx,dy), float4x4(-0.008096626959741,0.009200767613947,0.006298127118498,0.084154471755028,0.115576565265656,-0.032719459384680,0.088370643556118,0.045276775956154,0.039489157497883,-0.060192275792360,0.068133376538754,0.008862865157425,-0.160546988248825,-0.046960033476353,-0.097738444805145,-0.115068800747395));
res += mul(Get(s1,0,-dy), float4x4(0.086279816925526,-0.008080424740911,0.044992856681347,-0.114889338612556,0.008603272959590,-0.020513778552413,0.031788218766451,0.010284732095897,0.002810918726027,-0.036113560199738,-0.056098211556673,-0.079852484166622,0.018293568864465,-0.027330819517374,0.096524275839329,0.001692845718935));
res += mul(Get(s1,0,0), float4x4(0.041180379688740,0.023957584053278,0.019381573423743,-0.013909059576690,0.053353559225798,0.063144393265247,-0.007360573858023,0.027472062036395,-0.010922110639513,-0.006984049454331,0.010657425969839,-0.031450033187866,0.055853821337223,0.058481939136982,0.061383768916130,-0.016422245651484));
res += mul(Get(s1,0,dy), float4x4(0.025867346674204,-0.017635317519307,0.019545508548617,0.067211493849754,0.080037325620651,0.025264797732234,0.038702890276909,-0.016710765659809,-0.126804336905479,-0.089993253350258,-0.044262446463108,-0.025227406993508,-0.043643213808537,0.059865981340408,-0.007420592941344,-0.013186813332140));
res += mul(Get(s1,dx,-dy), float4x4(0.063102021813393,0.132124736905098,0.009353941306472,-0.070774994790554,-0.026305893436074,-0.046142239123583,-0.015467399731278,0.048379648476839,-0.009310093708336,-0.100157395005226,-0.019675197079778,-0.050108358263969,-0.014721947722137,-0.089712657034397,-0.053854010999203,0.047531049698591));
res += mul(Get(s1,dx,0), float4x4(0.158788606524467,0.109592124819756,-0.003374448046088,-0.072209611535072,-0.076237909495831,-0.019165053963661,-0.033425971865654,0.039470180869102,-0.014926401898265,-0.034422863274813,-0.018197968602180,-0.016545565798879,0.092989176511765,-0.026114588603377,-0.029033433645964,0.120326459407806));
res += mul(Get(s1,dx,dy), float4x4(0.002824184251949,0.053053997457027,0.044044401496649,-0.027422504499555,0.006137903314084,-0.003687263932079,-0.005847251042724,0.081615626811981,-0.050831995904446,-0.035311419516802,-0.012482734397054,-0.029882403090596,-0.049641266465187,-0.039770767092705,0.010963185690343,-0.026881583034992));
res += mul(Get(s2,-dx,-dy), float4x4(0.153020039200783,0.006290820892900,-0.009671904146671,0.116404518485069,0.037534881383181,-0.005541570018977,-0.013300925493240,0.009304115548730,0.017525888979435,-0.003861509030685,-0.085193306207657,-0.075558982789516,-0.026017408818007,0.054851878434420,-0.056436005979776,0.049194790422916));
res += mul(Get(s2,-dx,0), float4x4(0.077479846775532,-0.014076560735703,0.041768018156290,0.029850391671062,0.021435491740704,0.075496561825275,-0.045590627938509,0.011919963173568,-0.021176327019930,0.002897841390222,-0.089557819068432,-0.050166267901659,0.003068488324061,0.136188909411430,0.023579211905599,0.021591326221824));
res += mul(Get(s2,-dx,dy), float4x4(-0.040571346879005,-0.031222676858306,0.013040096499026,0.031786534935236,-0.041923809796572,0.080504074692726,-0.011264103464782,-0.056823663413525,-0.063812315464020,-0.022135984152555,-0.139134451746941,0.002796863205731,0.029280312359333,0.097771003842354,0.026226747781038,-0.033317334949970));
res += mul(Get(s2,0,-dy), float4x4(-0.037481602281332,-0.013836313970387,-0.093207821249962,0.043486814945936,0.032389704138041,0.068812988698483,-0.044615238904953,0.056440100073814,0.003151611890644,0.101808376610279,-0.011338659562171,-0.180483192205429,0.094054207205772,-0.110868319869041,-0.006294853053987,0.095637284219265));
res += mul(Get(s2,0,0), float4x4(-0.001798566780053,0.073945268988609,0.006332742981613,0.021157540380955,0.088024966418743,0.086276128888130,-0.032862342894077,0.084272086620331,-0.000824501737952,0.052945755422115,0.030250379815698,-0.050079241394997,0.049386352300644,0.065996393561363,0.025655444711447,0.016538027673960));
res += mul(Get(s2,0,dy), float4x4(-0.031791452318430,0.054809175431728,-0.013072405010462,0.044293794780970,0.043779656291008,0.054286874830723,-0.010248778387904,0.012855043634772,-0.005268127657473,-0.045622002333403,-0.054328326135874,-0.035773053765297,-0.032153904438019,0.132303044199944,-0.014345603995025,-0.032560728490353));
res += mul(Get(s2,dx,-dy), float4x4(0.037724472582340,-0.046241167932749,-0.041033316403627,0.051276065409184,0.011013465933502,0.065349459648132,-0.050607170909643,0.094779230654240,-0.084293477237225,0.024461830034852,0.067876338958740,-0.123453855514526,-0.010149816051126,-0.063601702451706,-0.062774933874607,0.053921259939671));
res += mul(Get(s2,dx,0), float4x4(0.100022412836552,0.028545182198286,0.077426269650459,0.034196324646473,0.077469117939472,0.026954090222716,-0.051830116659403,0.092893905937672,-0.024399278685451,0.027102017775178,0.084312580525875,-0.215764909982681,-0.004177856259048,-0.010340665467083,0.016271354630589,-0.021747350692749));
res += mul(Get(s2,dx,dy), float4x4(0.070313803851604,0.004812475293875,0.062098052352667,0.067894548177719,0.078905805945396,0.066030472517014,-0.014677392318845,0.045550480484962,-0.035123642534018,0.022998113185167,0.003331559011713,-0.088787518441677,-0.028964931145310,0.072139449417591,0.005145428236574,-0.018939049914479));
res += mul(Get(s3,-dx,-dy), float4x4(0.022045906633139,-0.156786739826202,0.195618212223053,-0.061072696000338,0.070983588695526,-0.111379370093346,0.055131386965513,-0.057157754898071,-0.035037048161030,0.073544293642044,-0.026898426935077,-0.127598449587822,0.012284508906305,-0.055778682231903,0.030840447172523,-0.138884469866753));
res += mul(Get(s3,-dx,0), float4x4(-0.055486954748631,-0.039890412241220,0.141732737421989,0.011943068355322,0.109206333756447,0.009678055532277,0.233214572072029,-0.151619270443916,0.029784444719553,0.037723235785961,-0.077421896159649,-0.063596278429031,-0.121506646275520,-0.035538442432880,-0.049194443970919,-0.024953786283731));
res += mul(Get(s3,-dx,dy), float4x4(-0.165812328457832,-0.071738086640835,0.123470745980740,0.018712025135756,-0.137759476900101,-0.019737070426345,0.089586690068245,-0.024519927799702,-0.013985347934067,-0.006878882180899,-0.070260979235172,-0.001473268610425,-0.056589171290398,-0.103774681687355,-0.071309819817543,0.087050758302212));
res += mul(Get(s3,0,-dy), float4x4(0.092656217515469,-0.007244339678437,0.040023531764746,0.076679125428200,0.165557801723480,0.046942751854658,0.031010540202260,-0.098305001854897,-0.056097365915775,-0.063927643001080,-0.006957666017115,0.057361923158169,0.005499715916812,-0.031802359968424,0.036984216421843,-0.027936952188611));
res += mul(Get(s3,0,0), float4x4(0.084745839238167,0.145234063267708,0.022330172359943,0.043000902980566,-0.000781792274211,-0.124684609472752,-0.029583552852273,0.076709590852261,-0.045113448053598,-0.024312179535627,0.091439582407475,0.115220569074154,0.047676954418421,0.057432200759649,0.044737815856934,-0.086179986596107));
res += mul(Get(s3,0,dy), float4x4(-0.043210823088884,0.040550760924816,0.037206470966339,0.023405063897371,0.025154618546367,-0.042513947933912,-0.005934021901339,0.061720982193947,-0.009768743999302,-0.011553132906556,0.032741673290730,0.110352754592896,-0.063216120004654,0.002729369793087,-0.045462056994438,0.119000978767872));
res += mul(Get(s3,dx,-dy), float4x4(-0.020313898101449,0.012231728062034,0.076109401881695,0.101600028574467,0.038309589028358,-0.003560102079064,0.004359725862741,-0.076422765851021,-0.031424295157194,-0.055317748337984,-0.101590566337109,0.083529189229012,0.093817584216595,-0.003100211732090,0.026076382026076,0.082101114094257));
res += mul(Get(s3,dx,0), float4x4(-0.019728960469365,-0.014334185980260,0.033836774528027,0.176643446087837,0.000938163022511,-0.000570370582864,-0.032303657382727,-0.021245015785098,-0.040896799415350,-0.022681050002575,0.122269801795483,0.047314297407866,0.100610367953777,0.044564243406057,-0.029781017452478,-0.010725998319685));
res += mul(Get(s3,dx,dy), float4x4(-0.066534198820591,-0.155965417623520,0.052933420985937,-0.038727611303329,0.113816805183887,-0.013405900448561,0.014286455698311,0.101399458944798,-0.037466336041689,-0.134153991937637,-0.036729715764523,0.003970020450652,0.003113138023764,-0.017909398302436,-0.048674941062927,0.052855856716633));
return max(float4(0,0,0,0), res);
}
