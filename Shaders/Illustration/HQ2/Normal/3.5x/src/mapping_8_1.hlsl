sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.029142586514354,0.056893516331911,-0.013148899190128,-0.075419530272484,-0.016400391235948,0.007099996786565,-0.025084761902690,0.012871794402599,0.037649925798178,-0.011653576046228,0.005862179677933,0.003003354882821,0.005246803164482,0.181141033768654,0.009646028280258,-0.093564763665199));
res += mul(Get(s0,-dx,0), float4x4(-0.020602716132998,0.017224248498678,-0.009705153293908,0.052305921912193,-0.014251108281314,0.054344817996025,-0.078699581325054,0.075085721910000,-0.013444156385958,0.057113803923130,0.041020467877388,0.011544914916158,0.043282747268677,0.133261784911156,0.080954648554325,-0.096047669649124));
res += mul(Get(s0,-dx,dy), float4x4(-0.015836125239730,0.063843525946140,-0.051544871181250,-0.079264126718044,-0.019288858398795,0.058673374354839,-0.007063647266477,-0.054872896522284,-0.046377040445805,0.047497138381004,0.058123674243689,0.071573339402676,0.037547614425421,0.064992882311344,0.018546707928181,-0.020236287266016));
res += mul(Get(s0,0,-dy), float4x4(0.007873727940023,0.163476407527924,-0.030312145128846,-0.064716085791588,-0.015333956107497,-0.107032783329487,0.074094906449318,0.088279455900192,0.050205573439598,0.038088951259851,-0.014757545664907,-0.003375042695552,-0.019417725503445,0.103206969797611,-0.038740620017052,-0.085606411099434));
res += mul(Get(s0,0,0), float4x4(0.010022544302046,0.154807612299919,0.089759573340416,-0.071988344192505,-0.017022186890244,-0.135972350835800,-0.034663289785385,0.230448275804520,-0.019463600590825,0.033511657267809,0.100822865962982,-0.034374073147774,0.067612171173096,0.019797820597887,-0.029735751450062,-0.036773681640625));
res += mul(Get(s0,0,dy), float4x4(0.013035075739026,0.024318093433976,0.056304335594177,0.025467524304986,-0.024013709276915,0.081227578222752,-0.045077599585056,-0.072373166680336,-0.063127480447292,-0.056461252272129,0.108926519751549,0.191682547330856,0.070858001708984,0.013750962913036,-0.034703314304352,-0.014179243706167));
res += mul(Get(s0,dx,-dy), float4x4(-0.059624720364809,0.156726777553558,-0.060593176633120,-0.111346274614334,-0.013427016325295,0.030900536105037,0.086973287165165,-0.032711274921894,0.054683577269316,-0.014631009660661,-0.034284356981516,-0.028345026075840,-0.052574865520000,0.089365571737289,-0.018416825681925,-0.032066825777292));
res += mul(Get(s0,dx,0), float4x4(-0.054836198687553,0.183204621076584,-0.000272992532700,-0.060863289982080,-0.015169273130596,0.007410291582346,0.080752462148666,0.069015428423882,-0.007196337450296,0.012527071870863,0.048789285123348,-0.048620663583279,0.003895508125424,0.051433455199003,-0.028037533164024,0.058746043592691));
res += mul(Get(s0,dx,dy), float4x4(-0.047669392079115,0.029521634802222,0.018324224278331,-0.054509386420250,-0.026523703709245,0.020752232521772,-0.009027917869389,-0.042487796396017,-0.033324044197798,-0.002834514249116,0.071545243263245,0.071446999907494,0.019463613629341,0.101111598312855,-0.022250987589359,-0.070408411324024));
res += mul(Get(s1,-dx,-dy), float4x4(0.021898869425058,-0.017539991065860,-0.052019555121660,0.062123175710440,0.041084725409746,-0.088808536529541,0.041804280132055,-0.018274180591106,0.011522462591529,0.102217584848404,0.072150625288486,-0.140938416123390,-0.015993751585484,0.022797426208854,-0.044296786189079,-0.025779727846384));
res += mul(Get(s1,-dx,0), float4x4(-0.028980409726501,0.027467563748360,0.020333560183644,0.014155410230160,-0.019515039399266,-0.014501609839499,0.049569271504879,0.102966137230396,0.048281539231539,0.031418625265360,0.047528330236673,0.019571309909225,-0.035534337162971,0.002969261724502,-0.015018207021058,-0.039701953530312));
res += mul(Get(s1,-dx,dy), float4x4(0.012668790295720,-0.000532940088306,0.004429743625224,0.069137781858444,-0.012435732409358,-0.026101555675268,-0.010132182389498,0.028420174494386,-0.026561524719000,0.052350200712681,0.060741223394871,-0.050341587513685,-0.050038129091263,0.021963989362121,0.001331706647761,0.007864432409406));
res += mul(Get(s1,0,-dy), float4x4(0.014762029051781,0.080056920647621,-0.058286722749472,0.086392767727375,0.056765042245388,0.005752113647759,0.071822658181190,-0.066479317843914,-0.005117543041706,0.059047278016806,0.025850277394056,-0.116175249218941,-0.015344615094364,-0.046152524650097,-0.029607387259603,0.033238854259253));
res += mul(Get(s1,0,0), float4x4(-0.037663992494345,0.148575156927109,0.022503914311528,-0.048491682857275,-0.002780402777717,-0.076129987835884,0.153161764144897,0.186874926090240,0.033097434788942,0.013914480805397,0.049315717071295,-0.010271266102791,-0.056554969400167,0.053629215806723,0.005433050449938,-0.014887250959873));
res += mul(Get(s1,0,dy), float4x4(0.009380958974361,-0.073920950293541,0.081523090600967,0.144018828868866,-0.026229398325086,0.025037227198482,0.019596103578806,0.113312453031540,-0.052584350109100,0.099851980805397,0.088543325662613,-0.049453392624855,-0.078284531831741,0.022320536896586,0.068617619574070,0.046828497201204));
res += mul(Get(s1,dx,-dy), float4x4(0.017184419557452,0.000224433606490,-0.031795993447304,0.042982406914234,0.052922178059816,-0.024836385622621,-0.001818285440095,-0.077753648161888,-0.002550996607170,0.010981991887093,0.017626818269491,-0.102911047637463,-0.033771999180317,-0.036027871072292,0.013973132707179,0.001938406610861));
res += mul(Get(s1,dx,0), float4x4(-0.032646995037794,0.066594056785107,-0.061938099563122,0.050636082887650,0.026620382443070,-0.027895322069526,0.090207524597645,0.066434100270271,0.040204059332609,-0.016013894230127,0.041740342974663,-0.014734070748091,-0.065795943140984,0.057274416089058,0.002899873768911,0.006164220627397));
res += mul(Get(s1,dx,dy), float4x4(0.014835171401501,0.016846546903253,0.016857817769051,0.024914564564824,-0.009072488173842,0.049706738442183,0.036928445100784,0.054966982454062,-0.006950578652322,0.033365525305271,0.064592048525810,-0.046334836632013,-0.096773549914360,0.024179164320230,0.046673443168402,0.042831882834435));
res += mul(Get(s2,-dx,-dy), float4x4(0.007906453683972,0.056215982884169,0.000524252769537,-0.060272552073002,-0.026303142309189,-0.027903916314244,-0.034280579537153,-0.013786084949970,0.072629258036613,-0.012781553901732,-0.007325090467930,0.049995802342892,0.001302410615608,-0.014937557280064,-0.045740671455860,0.033054850995541));
res += mul(Get(s2,-dx,0), float4x4(-0.004809558391571,-0.006522742565721,0.047266617417336,0.060367364436388,-0.032035790383816,0.043611951172352,-0.051448352634907,0.012692048214376,0.039350152015686,0.032102309167385,0.035324905067682,-0.017802083864808,-0.037139542400837,0.003980562090874,0.048987999558449,0.037729796022177));
res += mul(Get(s2,-dx,dy), float4x4(0.048001546412706,0.003733820281923,-0.019987395033240,-0.037650953978300,-0.001096060848795,-0.037554204463959,-0.046319685876369,-0.026368804275990,0.071882188320160,-0.025639304891229,-0.017333485186100,0.031304571777582,0.013763836584985,0.011433652602136,-0.008344366215169,0.032394055277109));
res += mul(Get(s2,0,-dy), float4x4(0.015906743705273,0.123924329876900,-0.013943121768534,-0.018193406984210,-0.057190969586372,-0.066818431019783,-0.044954169541597,0.096716701984406,0.039783921092749,-0.140932008624077,0.028437867760658,0.099714510142803,-0.001776801538654,0.103074960410595,-0.049714446067810,0.065011903643608));
res += mul(Get(s2,0,0), float4x4(-0.001628341618925,0.123259916901588,0.083378568291664,0.027436591684818,-0.051254946738482,-0.020669909194112,-0.124241635203362,0.174074411392212,0.018476424738765,0.029181035235524,-0.039200671017170,0.021618453785777,-0.022290546447039,0.228089198470116,0.010585207492113,-0.071475192904472));
res += mul(Get(s2,0,dy), float4x4(0.037050209939480,0.017488764598966,0.031239975243807,0.040263589471579,-0.016133062541485,-0.039676487445831,-0.055108837783337,-0.086800113320351,0.050650753080845,-0.017805738374591,-0.066889129579067,0.028665293008089,0.025688618421555,-0.004868352785707,0.031789124011993,0.099818110466003));
res += mul(Get(s2,dx,-dy), float4x4(0.005179021973163,0.066639155149460,-0.021657461300492,-0.009316009469330,-0.019190154969692,-0.104046329855919,-0.002922007581219,0.057760916650295,0.038043420761824,-0.101401291787624,0.093724101781845,0.079808995127678,0.029081532731652,-0.002666387706995,-0.043019190430641,-0.013863348402083));
res += mul(Get(s2,dx,0), float4x4(-0.003222239436582,0.107188403606415,-0.005124446470290,0.047727301716805,-0.049110438674688,-0.018947510048747,-0.017467265948653,0.059142064303160,0.051105141639709,-0.117762453854084,0.028219031170011,0.078179657459259,0.004731622990221,-0.018445368856192,-0.072692863643169,0.060417193919420));
res += mul(Get(s2,dx,dy), float4x4(0.006624585483223,0.064347021281719,0.013515859842300,-0.002432508626953,-0.022326532751322,-0.059777133166790,-0.045487653464079,-0.084227249026299,0.053107969462872,-0.009077937342227,-0.036421068012714,0.033273480832577,0.048345785588026,-0.026635471731424,-0.042291920632124,0.025777086615562));
res += mul(Get(s3,-dx,-dy), float4x4(0.053705748170614,-0.017887214198709,0.068476818501949,-0.100503340363503,0.012919619679451,-0.049468323588371,0.000240849883994,-0.077160447835922,0.015895687043667,-0.054961405694485,0.044220015406609,-0.027036974206567,-0.040322452783585,-0.060129705816507,0.004840562120080,-0.017680840566754));
res += mul(Get(s3,-dx,0), float4x4(0.069807924330235,0.066133044660091,0.040979836136103,-0.032394364476204,0.024424476549029,0.047382161021233,-0.013800340704620,-0.051209770143032,-0.003177083563060,-0.082681104540825,0.061833288520575,0.051988132297993,-0.024401659145951,-0.068546295166016,-0.039811778813601,0.137331634759903));
res += mul(Get(s3,-dx,dy), float4x4(0.134050235152245,0.085932940244675,-0.057370565831661,-0.073999240994453,-0.065042063593864,0.023365387693048,0.075517930090427,0.005026697181165,-0.021811602637172,-0.021990185603499,0.015625221654773,-0.013937081210315,0.081446625292301,0.029814163222909,-0.147459536790848,-0.012900300323963));
res += mul(Get(s3,0,-dy), float4x4(-0.022411851212382,0.035588037222624,0.083577580749989,-0.014606014825404,-0.009588283486664,-0.067613035440445,-0.019145445898175,-0.027221519500017,-0.020366106182337,0.031208299100399,-0.001532240072265,0.013257654383779,-0.038974847644567,-0.042839955538511,0.016674054786563,-0.055517129600048));
res += mul(Get(s3,0,0), float4x4(0.012763590551913,-0.031354568898678,0.012737775221467,0.160675913095474,0.041550543159246,0.035504952073097,-0.104025870561600,0.000481314491481,-0.035285938531160,0.255907237529755,0.063511908054352,-0.069682113826275,-0.054765753448009,-0.090051546692848,0.047586008906364,0.084090568125248));
res += mul(Get(s3,0,dy), float4x4(0.134343624114990,0.032216873019934,-0.133598834276199,-0.060552854090929,-0.029686752706766,0.037760231643915,0.016349539160728,-0.022263821214437,-0.047402761876583,0.092401348054409,0.095926277339458,-0.000277478015050,0.035379547625780,-0.098274067044258,-0.031435992568731,0.060915701091290));
res += mul(Get(s3,dx,-dy), float4x4(-0.003646845696494,-0.031302083283663,0.014535496011376,-0.057519398629665,-0.030216487124562,-0.059455454349518,-0.017602920532227,-0.010081237182021,-0.005261536687613,0.009339257143438,0.025273999199271,0.004625012166798,-0.025995694100857,-0.022093784064054,-0.003175931517035,-0.043200455605984));
res += mul(Get(s3,dx,0), float4x4(-0.004262213595212,-0.070592351257801,0.015919972211123,0.092201478779316,0.006361333187670,-0.075071386992931,-0.074703328311443,0.054868597537279,-0.014490571804345,0.047730565071106,0.032791819423437,0.070494800806046,-0.001795639400370,-0.067519538104534,0.031236829236150,-0.021755153313279));
res += mul(Get(s3,dx,dy), float4x4(0.088020116090775,0.007890448905528,-0.092652261257172,-0.060353923588991,-0.023797964677215,-0.064501114189625,-0.016842888668180,-0.041073419153690,-0.029627807438374,-0.019945614039898,0.034914627671242,0.018968248739839,0.041993718594313,-0.096253179013729,0.036301113665104,0.041511062532663));
return max(float4(0,0,0,0), res);
}
