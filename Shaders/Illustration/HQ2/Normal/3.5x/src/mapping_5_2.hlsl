sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.083971284329891,0.005704693030566,-0.032002720981836,0.012751182541251,0.055028270930052,0.052777979522943,-0.083917029201984,0.161555826663971,0.003716934472322,0.115123942494392,0.021091308444738,-0.007221459411085,-0.027559673413634,0.041351687163115,0.031216260045767,-0.054066967219114));
res += mul(Get(s0,-dx,0), float4x4(-0.015048948116601,-0.066549420356750,-0.014802071265876,0.014398550614715,-0.013210983946919,-0.008531888946891,0.031883884221315,0.113790161907673,0.034946113824844,0.038014680147171,0.015010243281722,-0.045416586101055,-0.016818374395370,0.103141918778419,0.084169045090675,0.134982243180275));
res += mul(Get(s0,-dx,dy), float4x4(0.008302988484502,-0.032680395990610,-0.004360988270491,-0.024429211392999,0.043728493154049,-0.106989964842796,0.063382297754288,-0.012923429720104,0.016850275918841,0.143365830183029,0.041022308170795,-0.057021010667086,-0.102731004357338,-0.085463218390942,0.052283130586147,0.023805104196072));
res += mul(Get(s0,0,-dy), float4x4(0.115312494337559,0.053086459636688,-0.034269832074642,0.046049360185862,0.039972465485334,-0.028501115739346,-0.046201229095459,0.104889519512653,0.022804362699389,-0.002512452658266,0.017920460551977,0.151484370231628,0.033121414482594,0.053821850568056,0.009624386206269,-0.046689111739397));
res += mul(Get(s0,0,0), float4x4(-0.015735328197479,0.106755025684834,-0.038690075278282,0.062597125768661,0.007568933535367,-0.017822355031967,0.055742882192135,-0.071489483118057,0.027530450373888,0.058508127927780,0.011015699245036,0.138285204768181,0.106096826493740,-0.034918401390314,0.019693683832884,0.034660980105400));
res += mul(Get(s0,0,dy), float4x4(0.020111277699471,0.107237026095390,-0.057794515043497,-0.044955741614103,0.020037461072206,-0.089638195931911,0.127651795744896,0.043314877897501,0.025854447856545,0.157511100172997,0.064820758998394,-0.008571415208280,-0.072236545383930,-0.131508663296700,0.126243516802788,0.029397374019027));
res += mul(Get(s0,dx,-dy), float4x4(0.110959656536579,0.031476359814405,-0.127891600131989,-0.004381312523037,0.000594107899815,-0.026892479509115,0.018607497215271,0.074968405067921,0.013818478211761,0.015172400511801,-0.088755674660206,0.040179274976254,0.012567496858537,0.063467025756836,0.028781576082110,-0.058539886027575));
res += mul(Get(s0,dx,0), float4x4(0.103200197219849,0.115354537963867,-0.011405131779611,-0.010089363902807,-0.029659800231457,-0.035184208303690,0.062289729714394,-0.019676327705383,-0.014560096897185,0.174334853887558,-0.060659050941467,0.128556653857231,0.080912761390209,0.051880046725273,-0.073041543364525,0.022634642198682));
res += mul(Get(s0,dx,dy), float4x4(0.076176561415195,0.039608970284462,-0.054111458361149,-0.104372978210449,-0.024126274511218,-0.095931261777878,0.130909562110901,0.091546311974525,-0.005758843850344,0.065756551921368,-0.008050637319684,-0.044381629675627,-0.032732330262661,-0.075543701648712,0.074294097721577,0.000692336994689));
res += mul(Get(s1,-dx,-dy), float4x4(-0.030173527076840,-0.030925648286939,-0.097835838794708,-0.028388980776072,0.023256871849298,0.040288910269737,-0.109585359692574,0.082297496497631,-0.027583878487349,0.024622250348330,-0.093004651367664,-0.089707881212234,-0.071045987308025,0.012451270595193,-0.023284647613764,-0.004772700369358));
res += mul(Get(s1,-dx,0), float4x4(-0.051841765642166,0.033797960728407,0.056868050247431,-0.008623853325844,0.011934055946767,0.048473726958036,-0.041979640722275,-0.022571468725801,0.063767075538635,-0.040055561810732,0.005780033767223,-0.121176861226559,-0.054519396275282,-0.104314967989922,0.079328745603561,-0.030498892068863));
res += mul(Get(s1,-dx,dy), float4x4(0.048095282167196,-0.108363673090935,-0.019472910091281,0.033377781510353,0.072450600564480,0.006597301457077,-0.003421074710786,-0.022445106878877,0.063915953040123,-0.044774398207664,0.062609814107418,-0.002764399629086,0.009361545555294,-0.082307107746601,-0.105450771749020,-0.018404180184007));
res += mul(Get(s1,0,-dy), float4x4(0.046947848051786,-0.087913304567337,-0.079486057162285,0.070059388875961,-0.009872129186988,-0.034714147448540,-0.073075361549854,0.123014897108078,-0.004052226431668,0.133744373917580,-0.041937757283449,-0.121251925826073,-0.066043242812157,0.034919518977404,0.010226419195533,0.050398603081703));
res += mul(Get(s1,0,0), float4x4(-0.095962136983871,0.029831662774086,0.097034782171249,-0.031909570097923,-0.088963381946087,0.022888675332069,-0.002319013467059,0.038126703351736,0.090376883745193,-0.008455289527774,0.098150514066219,-0.094395428895950,-0.043490238487720,-0.047525037080050,0.014400064945221,0.050789449363947));
res += mul(Get(s1,0,dy), float4x4(-0.014938741922379,0.002937080338597,-0.008838023059070,0.017611397430301,0.026261387392879,-0.060913257300854,0.018977938219905,-0.099472060799599,0.099388912320137,-0.097418934106827,0.149306476116180,0.102675206959248,-0.015188177116215,-0.071670435369015,-0.139836832880974,0.023835217580199));
res += mul(Get(s1,dx,-dy), float4x4(0.088604606688023,-0.067796081304550,-0.089025005698204,0.092113487422466,0.030037993565202,0.020870070904493,-0.103092573583126,-0.035282004624605,-0.013049390166998,0.053697519004345,-0.048391193151474,-0.028763398528099,-0.035191092640162,-0.006949794944376,0.058292448520660,0.013118366710842));
res += mul(Get(s1,dx,0), float4x4(-0.057414278388023,-0.030327579006553,0.087861761450768,-0.017284959554672,-0.040401853621006,0.022897340357304,-0.022203413769603,0.123085357248783,-0.003434637561440,0.061008583754301,0.090376056730747,0.018878264352679,0.009314199909568,0.075456522405148,0.045770484954119,0.081117108464241));
res += mul(Get(s1,dx,dy), float4x4(-0.057879947125912,-0.061620876193047,0.053690090775490,-0.030598934739828,-0.040805026888847,0.019572176039219,-0.031171461567283,-0.033539708703756,-0.003425455652177,-0.025152951478958,0.107049375772476,-0.001003180514090,-0.002771557308733,0.034630171954632,-0.078461214900017,0.006395792588592));
res += mul(Get(s2,-dx,-dy), float4x4(-0.052205089479685,-0.015536300837994,0.089265733957291,-0.087626256048679,-0.003009391250089,0.058764625340700,-0.087973207235336,0.073889084160328,-0.017913203686476,-0.150420963764191,0.052990458905697,-0.008648320101202,0.042584788054228,0.010214302688837,-0.017028218135238,0.033792138099670));
res += mul(Get(s2,-dx,0), float4x4(-0.000839173444547,0.035601425915956,0.039701405912638,0.066241569817066,-0.056055851280689,0.014598662965000,-0.051266495138407,0.017312712967396,0.024016287177801,0.055420689284801,0.080887742340565,-0.001234146184288,0.057510357350111,0.020674675703049,-0.031730763614178,0.033412639051676));
res += mul(Get(s2,-dx,dy), float4x4(-0.051018919795752,-0.051337938755751,0.025162277743220,-0.066314935684204,0.005633175838739,0.002991033019498,-0.010418199934065,-0.030071033164859,0.001269033295102,-0.019820427522063,0.031244127079844,-0.023564467206597,-0.010318788699806,0.016697922721505,0.014108631759882,-0.005630397237837));
res += mul(Get(s2,0,-dy), float4x4(-0.050423238426447,0.054186079651117,-0.060295861214399,-0.114176429808140,0.011035223491490,-0.084475688636303,-0.057542365044355,-0.019165694713593,-0.026944579556584,0.185995399951935,-0.007919993251562,0.056599479168653,0.000059250462073,0.026335656642914,0.013907023705542,-0.056776557117701));
res += mul(Get(s2,0,0), float4x4(0.000802506168839,0.102492108941078,-0.008265970274806,-0.042902279645205,-0.081013426184654,-0.029953073710203,-0.068815819919109,0.235585466027260,0.022086201235652,0.000620707753114,0.034629337489605,-0.034598618745804,0.078930258750916,0.103576913475990,0.019295867532492,0.070385895669460));
res += mul(Get(s2,0,dy), float4x4(-0.004694697912782,0.070158369839191,0.070705004036427,-0.029075805097818,-0.048345122486353,0.042111407965422,0.034814890474081,0.063237361609936,0.025828327983618,-0.015529693104327,0.016011137515306,-0.004978312645108,-0.007411606144160,0.095878034830093,0.037472501397133,0.008484990336001));
res += mul(Get(s2,dx,-dy), float4x4(-0.083436019718647,-0.000140240677865,-0.091593690216541,-0.016247529536486,0.036705341190100,0.026067564263940,-0.119001857936382,0.037652060389519,0.025992562994361,0.047397926449776,-0.030053492635489,0.109412223100662,0.040951326489449,0.044327206909657,-0.021170459687710,-0.089820466935635));
res += mul(Get(s2,dx,0), float4x4(-0.079507827758789,0.085829742252827,-0.038825675845146,-0.015978744253516,-0.022092964500189,0.038718264549971,-0.050213340669870,-0.007201956119388,0.041737407445908,-0.080782815814018,0.002337417332456,0.049234177917242,0.044002950191498,0.065367363393307,0.000324340129737,-0.089405730366707));
res += mul(Get(s2,dx,dy), float4x4(0.028174843639135,0.036671824753284,0.063781149685383,0.021101133897901,0.008125518448651,-0.007032934576273,0.040202263742685,0.080737449228764,-0.038107402622700,0.005446138791740,0.056215066462755,-0.034211553633213,-0.014462298713624,-0.042396869510412,0.036157302558422,0.012690827250481));
res += mul(Get(s3,-dx,-dy), float4x4(-0.052170053124428,-0.007428884506226,-0.031170094385743,-0.042686779052019,-0.049153197556734,-0.040248211473227,-0.023348998278379,-0.049119647592306,-0.008298434317112,-0.083530195057392,-0.111152224242687,0.001374796032906,-0.037153765559196,-0.022668048739433,-0.128444969654083,-0.030827311798930));
res += mul(Get(s3,-dx,0), float4x4(0.026547944173217,-0.060730941593647,-0.012597798369825,-0.075345724821091,-0.004714324139059,0.038815766572952,0.033341553062201,-0.061604637652636,-0.005625039339066,-0.016165770590305,-0.116100519895554,-0.079385876655579,-0.009361281059682,0.054286528378725,-0.015878465026617,-0.031853713095188));
res += mul(Get(s3,-dx,dy), float4x4(0.016907909885049,-0.028768008574843,-0.036347776651382,-0.110965698957443,-0.028306029736996,-0.005429890472442,0.064751103520393,-0.052580539137125,-0.040575645864010,-0.115134947001934,-0.116782002151012,0.031238015741110,0.052529193460941,0.057596493512392,-0.082285046577454,-0.028629248961806));
res += mul(Get(s3,0,-dy), float4x4(-0.000032916272175,0.035963501781225,0.037077222019434,-0.043665736913681,-0.010204302147031,0.043801851570606,0.040148176252842,-0.042887810617685,-0.043003987520933,0.129357919096947,-0.075293377041817,-0.015146741643548,-0.051378741860390,0.020566821098328,0.036763630807400,0.062862709164619));
res += mul(Get(s3,0,0), float4x4(0.018363947048783,0.038945365697145,-0.015979526564479,-0.105463571846485,0.041220583021641,-0.024235114455223,-0.004262391012162,-0.126719579100609,0.006953170057386,0.044722069054842,-0.029586775228381,-0.050099253654480,-0.099414795637131,0.084446057677269,0.123806558549404,0.016104519367218));
res += mul(Get(s3,0,dy), float4x4(0.034226577728987,-0.005310888867825,-0.036485143005848,-0.021133722737432,0.032277844846249,-0.090181015431881,0.057743005454540,0.053861200809479,0.019949359819293,-0.102333210408688,-0.019603064283729,0.065735816955566,-0.016027439385653,0.063545688986778,0.088816940784454,0.027084859088063));
res += mul(Get(s3,dx,-dy), float4x4(0.035398606210947,-0.042069789022207,-0.034207545220852,0.088998638093472,-0.016261043027043,0.038537811487913,0.018851853907108,-0.003910731989890,-0.054253607988358,0.032555036246777,-0.025885114446282,0.013467029668391,-0.031872883439064,0.006504178047180,0.025376673787832,0.049267772585154));
res += mul(Get(s3,dx,0), float4x4(0.030663803219795,0.048297103494406,-0.011597137898207,0.146595463156700,0.038432691246271,-0.048437558114529,-0.004006498958915,-0.069957576692104,0.001048216829076,-0.072806462645531,-0.053600676357746,-0.037954863160849,0.001345635624602,-0.090863637626171,0.026214124634862,-0.001132787903771));
res += mul(Get(s3,dx,dy), float4x4(0.023091088980436,-0.032500993460417,-0.023555459454656,0.064034648239613,0.007539142854512,-0.066717877984047,0.017042206600308,0.052286852151155,0.002211628714576,-0.191889211535454,-0.005338932853192,-0.009172974154353,-0.029957339167595,-0.137495473027229,-0.005332790780813,-0.033972457051277));
return max(float4(0,0,0,0), res);
}
