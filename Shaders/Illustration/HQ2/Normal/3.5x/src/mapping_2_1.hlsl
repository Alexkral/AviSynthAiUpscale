sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.018707316368818,-0.045889042317867,0.087180942296982,-0.116555951535702,0.056553222239017,-0.027468157932162,0.050159674137831,-0.056408148258924,-0.046713028103113,0.031423900276423,0.051848601549864,0.066655613481998,-0.077560149133205,0.033023592084646,-0.059534221887589,-0.014291965402663));
res += mul(Get(s0,-dx,0), float4x4(0.064680911600590,-0.004910149145871,-0.105608865618706,0.028775822371244,0.071227714419365,-0.001511335372925,-0.052567135542631,-0.128712311387062,-0.033351909369230,0.009984015487134,-0.027443610131741,0.010928699746728,-0.031534619629383,-0.026415586471558,0.027749886736274,-0.047988526523113));
res += mul(Get(s0,-dx,dy), float4x4(-0.095104776322842,0.214206591248512,-0.145898893475533,0.116261295974255,-0.062068093568087,-0.064638547599316,-0.021281680092216,0.010971634648740,0.020453570410609,0.027599692344666,0.005493538454175,0.007031649351120,-0.006548047997057,-0.016649000346661,0.045584473758936,0.040696799755096));
res += mul(Get(s0,0,-dy), float4x4(-0.010893666185439,-0.052086401730776,-0.013577627949417,-0.040338870137930,-0.007111170329154,0.041100736707449,-0.053717646747828,0.155355930328369,-0.025963874533772,0.052781067788601,0.012850848026574,-0.026752820238471,-0.064698673784733,0.116506531834602,-0.002437300281599,0.084773324429989));
res += mul(Get(s0,0,0), float4x4(0.070478893816471,0.073097132146358,-0.100716732442379,0.105484671890736,0.027827069163322,0.036985017359257,-0.046561345458031,0.238279893994331,-0.021210210397840,0.017457211390138,0.018728090450168,0.042550671845675,-0.033013090491295,-0.000718258961570,0.124885082244873,0.009953819215298));
res += mul(Get(s0,0,dy), float4x4(-0.107570059597492,0.183563932776451,-0.082906052470207,0.039910279214382,-0.016195127740502,-0.057074394077063,0.026485458016396,0.097792051732540,0.009320686571300,0.017990833148360,0.009250206872821,0.057260036468506,-0.011298831552267,-0.064729303121567,0.098926551640034,-0.017566954717040));
res += mul(Get(s0,dx,-dy), float4x4(0.027935693040490,-0.085002861917019,-0.043620880693197,-0.024457685649395,-0.088172830641270,-0.085892148315907,-0.049133673310280,0.100206449627876,0.005624528974295,0.071588210761547,0.011428346857429,0.026956731453538,-0.001640286762267,0.085467070341110,-0.080341398715973,-0.058964211493731));
res += mul(Get(s0,dx,0), float4x4(0.077883012592793,-0.077205114066601,-0.084080055356026,0.018803173676133,-0.028471121564507,-0.102859444916248,0.035300407558680,-0.132695525884628,-0.013743671588600,-0.031129024922848,0.009643589146435,0.026175184175372,-0.007593276444823,-0.027212459594011,-0.031183905899525,-0.111646287143230));
res += mul(Get(s0,dx,dy), float4x4(-0.066357120871544,0.065058067440987,-0.066490553319454,-0.025592006742954,0.001517254742794,-0.117050550878048,0.052764806896448,0.090780995786190,-0.017986061051488,-0.017361223697662,0.011355348862708,0.035842206329107,0.126281708478928,-0.067842662334442,-0.049848645925522,0.040707342326641));
res += mul(Get(s1,-dx,-dy), float4x4(0.021804718300700,0.078644588589668,0.021670637652278,0.126045852899551,-0.010084599256516,0.023306893184781,0.030615719035268,0.078594379127026,-0.068572856485844,0.089198067784309,0.039405431598425,-0.053553532809019,-0.045919667929411,0.051513534039259,0.046096913516521,0.045357767492533));
res += mul(Get(s1,-dx,0), float4x4(0.000121313874843,0.083262294530869,-0.051129039376974,0.087160579860210,0.060082260519266,0.072208486497402,0.020243432372808,0.085404604673386,-0.018825547769666,0.093367278575897,0.004444052465260,-0.030623817816377,0.104701042175293,0.016680777072906,-0.074128150939941,0.066927410662174));
res += mul(Get(s1,-dx,dy), float4x4(-0.052572868764400,0.128820493817329,-0.002127374522388,0.031824294477701,0.042725771665573,0.054358884692192,0.006080898921937,0.051083158701658,-0.039465799927711,-0.063582003116608,0.033733293414116,0.008849292993546,0.154406026005745,-0.013195211999118,-0.080648668110371,0.063051916658878));
res += mul(Get(s1,0,-dy), float4x4(0.004119928460568,0.072537332773209,0.024226067587733,0.044113490730524,-0.076535478234291,-0.039062112569809,0.063692294061184,-0.038472551852465,-0.089257851243019,0.082809418439865,-0.024882277473807,-0.032796174287796,-0.028574021533132,-0.025935009121895,-0.036969017237425,-0.026816193014383));
res += mul(Get(s1,0,0), float4x4(0.010673412121832,0.037728197872639,-0.028825080022216,0.056147411465645,-0.051235623657703,0.033977776765823,0.035725262016058,-0.017498733475804,-0.082958534359932,0.004809526726604,-0.050474386662245,-0.111399270594120,0.044811505824327,-0.045228563249111,-0.006011690013111,-0.108671307563782));
res += mul(Get(s1,0,dy), float4x4(-0.004642623476684,0.158681824803352,-0.024923628196120,0.005656386725605,-0.008910797536373,-0.000270565360552,-0.027982555329800,0.073489330708981,-0.052331499755383,-0.051385331898928,0.036223139613867,0.006810698192567,0.151609584689140,-0.035445693880320,0.007027586922050,-0.010883474722505));
res += mul(Get(s1,dx,-dy), float4x4(0.007794541306794,0.015560582280159,0.040753815323114,0.020291291177273,-0.000117724492156,-0.043615788221359,-0.091569282114506,-0.009577675722539,-0.042672559618950,0.017839537933469,-0.033861309289932,0.032569952309132,-0.016260892152786,-0.028325285762548,-0.088169261813164,0.040336992591619));
res += mul(Get(s1,dx,0), float4x4(0.013696987181902,0.034119814634323,0.012726222164929,0.013319058343768,-0.026540290564299,-0.024512536823750,-0.054726209491491,-0.046768352389336,-0.056195698678493,0.043408513069153,0.026733651757240,-0.021162126213312,0.007862715981901,-0.010889233089983,0.012060130015016,-0.039457820355892));
res += mul(Get(s1,dx,dy), float4x4(-0.045577522367239,0.056762445718050,0.015569908544421,0.034491430968046,-0.011111865751445,-0.012103138491511,-0.002595441881567,-0.003856061259285,0.075626976788044,-0.024425540119410,0.018209630623460,-0.102586992084980,0.112712264060974,-0.051343113183975,0.040797099471092,0.023975001648068));
res += mul(Get(s2,-dx,-dy), float4x4(-0.005881367716938,0.021035777404904,0.071966119110584,-0.004832819569856,0.013623089529574,0.026048108935356,0.222102105617523,0.125701338052750,-0.013394414447248,0.078513316810131,-0.105817660689354,-0.039384745061398,-0.102326534688473,-0.094242751598358,0.113277390599251,-0.069676272571087));
res += mul(Get(s2,-dx,0), float4x4(0.055628050118685,0.059908144176006,0.062607020139694,0.000654025992844,-0.007555090822279,0.004081161227077,0.130073383450508,0.181545853614807,-0.025941785424948,0.013360831886530,-0.089177280664444,-0.026294136419892,0.030285084620118,-0.132976382970810,0.240454301238060,-0.112189285457134));
res += mul(Get(s2,-dx,dy), float4x4(0.022878866642714,-0.028267275542021,-0.037081211805344,0.105373166501522,-0.042809013277292,0.116654478013515,0.085551358759403,0.047116179019213,-0.021495999768376,-0.038973558694124,-0.094026379287243,-0.081929892301559,0.152629703283310,-0.023443901911378,0.034028302878141,0.094176024198532));
res += mul(Get(s2,0,-dy), float4x4(0.011241521686316,0.038748230785131,0.040173068642616,-0.095912866294384,0.118388049304485,-0.074375577270985,-0.005891263950616,-0.054467994719744,-0.023394815623760,0.131465360522270,-0.006988851353526,0.011546159163117,-0.085915736854076,-0.156321376562119,0.043000105768442,-0.219239205121994));
res += mul(Get(s2,0,0), float4x4(-0.016951041296124,0.054586615413427,0.059777464717627,-0.149393841624260,0.014948162250221,-0.057127624750137,-0.102601431310177,0.069443374872208,-0.061052624136209,0.054147306829691,0.023476902395487,0.094670668244362,0.073923401534557,-0.063409142196178,-0.000249660835834,-0.215855315327644));
res += mul(Get(s2,0,dy), float4x4(0.048545468598604,0.036846946924925,-0.057377703487873,-0.063326440751553,-0.013066627085209,-0.025466457009315,-0.145680695772171,-0.008947361260653,0.012158047407866,-0.027692047879100,-0.009763723239303,-0.029311936348677,0.044663339853287,0.063129521906376,-0.078238859772682,0.055580530315638));
res += mul(Get(s2,dx,-dy), float4x4(0.010109387338161,0.036509700119495,-0.023074448108673,-0.012814533896744,-0.014192360453308,-0.059787400066853,-0.005976737476885,0.052880931645632,-0.007807406596839,0.041236575692892,0.004689036868513,-0.054230056703091,-0.025423936545849,-0.080034986138344,-0.027810599654913,0.217348411679268));
res += mul(Get(s2,dx,0), float4x4(0.045010179281235,0.062261410057545,0.012332824990153,-0.006676967255771,-0.087342590093613,-0.036350194364786,-0.076874792575836,0.107170529663563,0.047167781740427,0.007333268877119,0.036281269043684,-0.004821531940252,0.058528810739517,0.029409987851977,-0.121702969074249,0.117239497601986));
res += mul(Get(s2,dx,dy), float4x4(0.081103250384331,0.004486825317144,-0.007952566258609,-0.005991209764034,-0.047469027340412,0.010211660526693,-0.085289508104324,-0.121414572000504,0.120611175894737,-0.064184717833996,0.023681599646807,-0.063156880438328,0.009634391404688,0.042643330991268,-0.112496048212051,-0.042030762881041));
res += mul(Get(s3,-dx,-dy), float4x4(0.079804055392742,-0.100982472300529,-0.010069020092487,-0.004261584486812,-0.070368364453316,0.045973718166351,-0.091932058334351,0.181530341506004,-0.087811067700386,0.079950310289860,0.011214269325137,-0.072307132184505,-0.027388351038098,0.049274869263172,-0.010747235268354,0.001213873736560));
res += mul(Get(s3,-dx,0), float4x4(-0.037445150315762,0.166578173637390,0.000350369722582,0.058112569153309,-0.101781249046326,-0.098059624433517,-0.097480230033398,0.048097696155310,-0.000394933362259,0.016955282539129,0.198160439729691,0.014466905966401,-0.062512129545212,0.058222290128469,0.169879168272018,-0.018097151070833));
res += mul(Get(s3,-dx,dy), float4x4(-0.040534310042858,-0.066229298710823,-0.059126287698746,-0.087670549750328,0.045887980610132,-0.047333050519228,-0.000659265031572,-0.082072205841541,-0.023881360888481,0.002413747832179,0.045256327837706,0.087893120944500,0.054930232465267,-0.062219619750977,-0.047002233564854,-0.039124216884375));
res += mul(Get(s3,0,-dy), float4x4(0.075473539531231,0.005859624128789,0.005375724751502,0.075897157192230,-0.092994071543217,0.016579030081630,0.001427879324183,0.055838644504547,-0.083588622510433,0.035470072180033,0.029727606102824,-0.132111892104149,-0.105061203241348,0.022088434547186,0.099799439311028,0.078136250376701));
res += mul(Get(s3,0,0), float4x4(0.045625351369381,0.113077752292156,-0.027971738949418,0.181684538722038,-0.069136641919613,-0.056653961539268,0.064724162220955,-0.020722933113575,0.014365790411830,-0.045815400779247,-0.010536614805460,-0.064538970589638,-0.054770115762949,0.018993733450770,0.141872122883797,-0.029052402824163));
res += mul(Get(s3,0,dy), float4x4(0.034267131239176,-0.056625775992870,-0.002332132775337,-0.136799260973930,0.144815415143967,-0.062804013490677,0.063887983560562,-0.026036283001304,0.005417461507022,0.011842547915876,-0.005133453756571,0.126420378684998,0.095286414027214,-0.040285345166922,-0.097949981689453,-0.139714851975441));
res += mul(Get(s3,dx,-dy), float4x4(0.007905505597591,0.044450592249632,0.017103279009461,-0.058764263987541,-0.092638619244099,-0.014185908250511,-0.005206132773310,0.059377755969763,0.052489589899778,-0.024056073278189,-0.131228804588318,-0.119691938161850,-0.006547904107720,-0.001512795919552,-0.016472395509481,-0.027853902429342));
res += mul(Get(s3,dx,0), float4x4(-0.046252414584160,0.051781170070171,0.035103309899569,0.001517073716968,-0.049661166965961,-0.058675818145275,0.021777167916298,0.020687665790319,0.062680251896381,-0.061345029622316,-0.130597114562988,-0.065630368888378,0.001620242255740,0.004462881479412,0.040027245879173,0.042053658515215));
res += mul(Get(s3,dx,dy), float4x4(0.028238441795111,-0.053784504532814,-0.026455592364073,0.011677944101393,0.084390275180340,0.024517189711332,-0.052327465265989,0.004842018708587,0.075703904032707,-0.020413860678673,-0.071473523974419,0.080029055476189,0.036800500005484,-0.021463204175234,-0.067275457084179,-0.053703766316175));
return max(float4(0,0,0,0), res);
}
