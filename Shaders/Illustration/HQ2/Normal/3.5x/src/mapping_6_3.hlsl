sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.034727644175291,-0.044379442930222,0.021527912467718,0.116981074213982,0.136381790041924,-0.038657274097204,0.061002887785435,-0.017150377854705,-0.119497522711754,-0.081131704151630,0.071812011301517,-0.085170872509480,0.000487765413709,-0.049420144408941,0.016705140471458,-0.003117095679045));
res += mul(Get(s0,-dx,0), float4x4(-0.025369014590979,-0.040248330682516,-0.059465147554874,0.056895896792412,0.102055780589581,-0.063437283039093,-0.008048735558987,0.006419377401471,-0.016917312517762,-0.083550781011581,-0.011884905397892,-0.043309569358826,0.088022090494633,-0.025813914835453,-0.014832820743322,-0.022465620189905));
res += mul(Get(s0,-dx,dy), float4x4(0.078239202499390,-0.132562577724457,-0.071059517562389,0.119429059326649,-0.061386495828629,-0.073953650891781,-0.056922614574432,-0.010627111420035,-0.022411737591028,-0.044289503246546,0.012626734562218,-0.029396314173937,-0.013705330900848,-0.080332599580288,0.018924959003925,-0.024590848013759));
res += mul(Get(s0,0,-dy), float4x4(0.082394063472748,-0.133266344666481,0.173817276954651,0.010175067931414,0.070037081837654,0.017260739579797,0.018040360882878,-0.022888682782650,0.106034360826015,-0.021536704152822,-0.009968870319426,0.041421044617891,0.183576956391335,-0.079852081835270,0.058300763368607,-0.008893571794033));
res += mul(Get(s0,0,0), float4x4(-0.013590688817203,-0.029028089717031,0.042737264186144,-0.053844820708036,-0.122281424701214,0.016776354983449,0.021256810054183,-0.082689464092255,0.020938400179148,-0.025938818231225,-0.039291244000196,0.030184162780643,0.155097335577011,-0.070077434182167,-0.047264467924833,-0.007492469623685));
res += mul(Get(s0,0,dy), float4x4(0.035782411694527,-0.000759481568821,0.004415876232088,0.010995066724718,-0.040869113057852,-0.003501463448629,0.020364422351122,0.045300614088774,-0.133049368858337,0.018574293702841,0.030896537005901,-0.017181752249599,0.036623753607273,0.042928595095873,-0.015477558597922,-0.044253785163164));
res += mul(Get(s0,dx,-dy), float4x4(0.055923100560904,0.071396030485630,-0.000366069900338,0.026642693206668,0.093941785395145,0.001569365384057,0.008199411444366,-0.051051117479801,0.030037667602301,0.052425779402256,-0.125657930970192,0.088876783847809,0.152840867638588,-0.008024422451854,0.127752065658569,0.018337339162827));
res += mul(Get(s0,dx,0), float4x4(-0.030275408178568,0.120564617216587,-0.058576494455338,-0.055273279547691,0.062135569751263,-0.014515887945890,-0.030167356133461,-0.063581503927708,0.021300401538610,0.098503395915031,-0.079532511532307,0.029143152758479,0.182761803269386,-0.130664885044098,0.014596576802433,-0.000921253405977));
res += mul(Get(s0,dx,dy), float4x4(0.012332567945123,0.045318275690079,-0.120865955948830,0.012438497506082,-0.039730705320835,0.025841053575277,-0.065100908279419,0.025587541982532,-0.091052584350109,0.049290861934423,-0.021913314238191,0.016339613124728,-0.015725720673800,-0.025291359052062,-0.045605856925249,-0.026909356936812));
res += mul(Get(s1,-dx,-dy), float4x4(-0.064550496637821,0.054347094148397,-0.051784720271826,0.009522670879960,0.026508610695601,0.001281080767512,-0.062709957361221,-0.006940839812160,-0.070458270609379,0.062914833426476,-0.039781842380762,-0.015036824159324,-0.153405278921127,-0.067197605967522,0.105679430067539,-0.147895649075508));
res += mul(Get(s1,-dx,0), float4x4(0.031572449952364,0.022330125793815,-0.034078855067492,-0.013636718504131,-0.037141874432564,0.120718106627464,0.017489561811090,-0.081937566399574,0.005286965053529,0.071381531655788,-0.007552145514637,-0.032686147838831,-0.089820630848408,-0.093986764550209,0.054839164018631,-0.112411648035049));
res += mul(Get(s1,-dx,dy), float4x4(0.070706672966480,0.011537180282176,-0.034946236759424,-0.027495495975018,0.008273508399725,0.065932877361774,-0.105447024106979,0.001146027469076,0.028615437448025,0.034707471728325,0.041006684303284,-0.023217147216201,0.023797564208508,-0.061939883977175,-0.055661406368017,-0.109834112226963));
res += mul(Get(s1,0,-dy), float4x4(-0.002610302297398,0.016013402491808,-0.000991126638837,0.013553893193603,-0.078198082745075,0.062442470341921,-0.066234931349754,-0.000098200500361,-0.029434235766530,0.077887244522572,0.044822197407484,0.005349216517061,-0.159212216734886,-0.004557321313769,0.040811575949192,-0.085452951490879));
res += mul(Get(s1,0,0), float4x4(0.029745563864708,0.054808057844639,0.007820847444236,0.021888863295317,-0.094213068485260,0.093136012554169,0.089093491435051,-0.045367330312729,-0.031002104282379,0.087023295462132,0.022006269544363,0.009305336512625,0.107052154839039,0.072718895971775,-0.033241704106331,-0.037548903375864));
res += mul(Get(s1,0,dy), float4x4(0.081790573894978,0.075600177049637,0.004610350821167,0.014608358964324,0.035744454711676,0.021720936521888,-0.042229767888784,-0.097195066511631,-0.000353384646587,0.002740721683949,0.071853742003441,-0.000300808344036,0.057020395994186,-0.058886222541332,-0.120048366487026,-0.000402680831030));
res += mul(Get(s1,dx,-dy), float4x4(-0.019137782976031,-0.001342074479908,0.021375978365541,-0.052202098071575,-0.081022672355175,0.058564294129610,0.043039344251156,0.022200413048267,-0.032376375049353,0.010762814432383,-0.038899179548025,-0.007526308763772,-0.023099202662706,0.017594009637833,-0.029168516397476,0.096380330622196));
res += mul(Get(s1,dx,0), float4x4(-0.012831318192184,0.038229282945395,0.015833126381040,-0.050213288515806,-0.004875633399934,-0.063629642128944,0.148500770330429,-0.035602085292339,0.024448201060295,0.033646941184998,-0.040097720921040,0.056099794805050,0.026695955544710,0.160776108503342,0.002582800807431,0.113067425787449));
res += mul(Get(s1,dx,dy), float4x4(0.002591226482764,0.122798688709736,-0.004261565394700,-0.027956729754806,-0.006096497178078,-0.050985727459192,-0.091664962470531,-0.096799746155739,0.048145703971386,0.021189782768488,0.033958449959755,0.077973186969757,0.030654394999146,0.022737864404917,-0.034477416425943,0.011544790118933));
res += mul(Get(s2,-dx,-dy), float4x4(0.054048351943493,-0.027131879702210,-0.027599863708019,0.056724067777395,-0.018856877461076,0.025951219722629,0.037521019577980,0.008728046901524,-0.106362879276276,0.047419715672731,-0.017314001917839,-0.124753214418888,-0.063343703746796,-0.011639161035419,-0.006052571348846,0.040216784924269));
res += mul(Get(s2,-dx,0), float4x4(0.055821198970079,-0.004955060780048,-0.031509079039097,0.048449527472258,-0.014151494950056,0.020671946927905,0.064066499471664,-0.023845648393035,0.060150951147079,0.073827527463436,0.014141244813800,-0.096491955220699,-0.003692997153848,-0.036046382039785,0.039139676839113,0.012370356358588));
res += mul(Get(s2,-dx,dy), float4x4(0.043388284742832,0.030011706054211,0.046552859246731,0.071548633277416,0.020776621997356,0.025362931191921,0.004735555965453,-0.017272423952818,0.006475631147623,-0.000651982845739,-0.049044001847506,0.081166908144951,-0.018318679183722,-0.006131156347692,-0.013632150366902,-0.036341670900583));
res += mul(Get(s2,0,-dy), float4x4(0.080654352903366,0.024026632308960,-0.022045789286494,0.084959492087364,-0.063515171408653,-0.028983635827899,-0.008261237293482,0.026418497785926,0.018968544900417,0.022398445755243,0.146371155977249,0.142091155052185,-0.034046042710543,-0.016154525801539,0.001900116680190,0.052414286881685));
res += mul(Get(s2,0,0), float4x4(0.056679680943489,0.009830834344029,-0.002432642737404,-0.024299740791321,-0.080431170761585,0.062608599662781,0.033106457442045,0.009353062137961,-0.015153048560023,0.017876908183098,0.072418287396431,0.087260186672211,0.075496643781662,0.053813446313143,0.077824525535107,-0.025511767715216));
res += mul(Get(s2,0,dy), float4x4(0.036400683224201,0.041614744812250,0.059521362185478,-0.021643921732903,-0.063429318368435,0.002423183061182,-0.004113674163818,-0.013842537999153,0.009314978495240,-0.007850815542042,-0.023848460987210,0.033462192863226,0.025771973654628,-0.028448048979044,0.022399455308914,-0.012210940942168));
res += mul(Get(s2,dx,-dy), float4x4(0.074077524244785,0.061302714049816,-0.037387400865555,0.061193712055683,-0.068140678107738,0.006248980294913,0.003378763794899,-0.017734514549375,0.086981654167175,0.076415434479713,-0.046980582177639,0.137462899088860,-0.073509439826012,0.016412004828453,-0.013817813247442,0.044597957283258));
res += mul(Get(s2,dx,0), float4x4(0.020258044824004,-0.017796112224460,-0.032679881900549,-0.053643304854631,-0.107448160648346,0.011603374965489,-0.001799362711608,0.004005296621472,0.117418222129345,0.102958872914314,0.013857586309314,0.126138046383858,-0.028202243149281,0.018217183649540,0.052120968699455,-0.025260677561164));
res += mul(Get(s2,dx,dy), float4x4(0.024408547207713,0.025504276156425,0.017325287684798,-0.006144353188574,-0.067470967769623,0.096733883023262,-0.040426876395941,0.004424958955497,0.007138743996620,-0.001896345987916,0.031660664826632,0.028837297111750,-0.034396812319756,-0.068538308143616,-0.000758948619477,0.013690843246877));
res += mul(Get(s3,-dx,-dy), float4x4(0.024466481059790,-0.000587061396800,0.061085943132639,0.077123060822487,-0.035616431385279,0.083354398608208,-0.012801728211343,0.029268132522702,-0.040754679590464,-0.041151069104671,-0.046920616179705,0.010471627116203,0.034422904253006,-0.020179776474833,-0.052369724959135,0.100355140864849));
res += mul(Get(s3,-dx,0), float4x4(-0.061999510973692,0.079440705478191,0.023552993312478,0.014863438904285,-0.129213646054268,0.116531312465668,-0.015227996744215,0.015874117612839,0.062537834048271,-0.044321704655886,0.126882657408714,0.025951335206628,0.025013929232955,-0.053329106420279,-0.129706725478172,0.136866122484207));
res += mul(Get(s3,-dx,dy), float4x4(-0.056751951575279,0.033944062888622,-0.000901872001123,0.048024732619524,-0.026049802079797,0.098468691110611,-0.001540221739560,0.095765188336372,-0.014869614504278,-0.007936017587781,0.024742322042584,-0.021207088604569,0.067305751144886,-0.167991682887077,-0.228645995259285,0.049874451011419));
res += mul(Get(s3,0,-dy), float4x4(0.093946866691113,0.108833208680153,-0.000874953984749,0.062496151775122,-0.087136559188366,-0.007367879617959,-0.010190982371569,-0.128865167498589,0.060792852193117,0.005616600625217,-0.032381508499384,-0.010090453550220,-0.082311503589153,-0.013516270555556,0.103252477943897,0.016295632347465));
res += mul(Get(s3,0,0), float4x4(0.081143677234650,0.023323565721512,-0.008055849932134,-0.039958193898201,-0.049624793231487,0.008384125307202,-0.009471108205616,-0.069279871881008,0.145796611905098,0.042906489223242,0.165701866149902,-0.015725977718830,0.000336869095918,0.000000691732566,0.006583034992218,0.069429054856300));
res += mul(Get(s3,0,dy), float4x4(0.047820750623941,0.029365429654717,0.004623833578080,0.007622597739100,0.032677713781595,0.069848075509071,-0.005379195790738,0.067792288959026,0.024966672062874,0.007218212820590,0.048053704202175,-0.002977645723149,0.018671633675694,-0.034742500633001,-0.090431272983551,-0.033144518733025));
res += mul(Get(s3,dx,-dy), float4x4(-0.005919632967561,0.029897879809141,-0.013368678279221,0.051385078579187,-0.024054508656263,0.019164619967341,-0.009332930669188,-0.135093659162521,0.012727961875498,-0.007000607438385,-0.018177371472120,-0.003238335717469,-0.059539366513491,-0.000575758051127,0.119353860616684,-0.030756076797843));
res += mul(Get(s3,dx,0), float4x4(-0.061560723930597,-0.046874102205038,0.072839155793190,-0.019301911816001,-0.016814284026623,-0.042746670544147,0.005550889763981,-0.037689030170441,0.039744667708874,0.030769951641560,0.118357397615910,0.012652349658310,0.062835104763508,-0.040722254663706,0.045719541609287,0.110083036124706));
res += mul(Get(s3,dx,dy), float4x4(0.069900199770927,-0.035855561494827,-0.036408592015505,0.004484985489398,0.015333401970565,0.044793158769608,-0.019224056974053,0.040290251374245,0.028849218040705,-0.006701021455228,-0.001491076778620,0.001161628984846,-0.052346937358379,-0.046415615826845,-0.021641757339239,0.016100106760859));
return max(float4(0,0,0,0), res);
}
