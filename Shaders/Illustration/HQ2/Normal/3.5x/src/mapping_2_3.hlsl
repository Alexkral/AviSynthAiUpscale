sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.033127747476101,-0.019586717709899,-0.039389029145241,-0.011763634160161,-0.005737098399550,0.080889441072941,0.045284163206816,-0.108680605888367,-0.015126237645745,-0.014384549111128,0.076859824359417,-0.058985464274883,-0.069995075464249,0.044859182089567,0.100821830332279,-0.005225317552686));
res += mul(Get(s0,-dx,0), float4x4(0.041345447301865,0.122011817991734,0.053229313343763,-0.075188726186752,-0.063030235469341,0.019748808816075,0.072279088199139,-0.007329245097935,-0.018227782100439,-0.041387479752302,-0.022992957383394,-0.061415411531925,0.030070450156927,0.008270677179098,0.036082737147808,0.109009087085724));
res += mul(Get(s0,-dx,dy), float4x4(-0.060314696282148,0.117372646927834,0.160707220435143,-0.092271901667118,-0.051814638078213,0.084894098341465,0.103822410106659,0.066763415932655,-0.004778997041285,0.003820447251201,-0.039207961410284,-0.086287140846252,0.016178466379642,-0.095154233276844,0.016604933887720,0.110054500401020));
res += mul(Get(s0,0,-dy), float4x4(0.003809930523857,0.052801243960857,0.084542274475098,0.046436838805676,-0.014363154768944,0.042470756918192,0.005968293175101,-0.108381405472755,0.010619843378663,-0.027683772146702,0.011955115944147,-0.032920040190220,-0.026979558169842,0.029395407065749,-0.004032092634588,-0.122286610305309));
res += mul(Get(s0,0,0), float4x4(0.021121820434928,-0.034048262983561,0.118664890527725,-0.101791679859161,-0.135599911212921,0.025323042646050,0.187884956598282,-0.096611320972443,-0.007525559514761,-0.031238732859492,-0.028702875599265,0.000278819934465,0.057913444936275,0.107763573527336,-0.113229006528854,0.022078527137637));
res += mul(Get(s0,0,dy), float4x4(0.045319836586714,0.057792920619249,-0.020343929529190,-0.095369406044483,-0.038534935563803,0.027439573779702,-0.010746486485004,-0.068253956735134,0.044359523802996,0.074664697051048,-0.017746675759554,-0.040091473609209,0.036440081894398,-0.162152811884880,-0.075135454535484,0.109896391630173));
res += mul(Get(s0,dx,-dy), float4x4(0.050152543932199,-0.077663876116276,-0.036859441548586,0.042866814881563,-0.028570376336575,-0.006642313674092,-0.035294968634844,-0.134659856557846,0.011626103892922,-0.019689990207553,-0.028324879705906,-0.000669731292874,-0.112544320523739,0.118110351264477,0.014595705084503,-0.128973931074142));
res += mul(Get(s0,dx,0), float4x4(-0.002585491165519,0.031861007213593,0.040321301668882,-0.071257054805756,-0.072078980505466,-0.098709650337696,-0.178890705108643,-0.134887084364891,-0.010572263039649,-0.048840947449207,-0.039784461259842,-0.006825562566519,-0.000764578173403,-0.023950675502419,-0.082698680460453,0.046388421207666));
res += mul(Get(s0,dx,dy), float4x4(0.108803614974022,0.109194323420525,-0.000316387682687,-0.028761457651854,0.121554575860500,-0.142295613884926,-0.136678084731102,-0.115218214690685,0.057381171733141,0.001272096880712,-0.042365510016680,-0.059287495911121,-0.035933908075094,0.013883530162275,-0.070432446897030,-0.006790601648390));
res += mul(Get(s1,-dx,-dy), float4x4(-0.013009472750127,-0.019794600084424,-0.015590670518577,-0.015466525219381,0.037993542850018,-0.023000769317150,-0.056877598166466,-0.064152643084526,0.025117302313447,0.106781266629696,0.072987109422684,-0.067524731159210,-0.123402990400791,0.010618517175317,-0.097721748054028,-0.045317072421312));
res += mul(Get(s1,-dx,0), float4x4(0.002450826577842,0.097532004117966,0.085269473493099,-0.020235754549503,0.048708774149418,0.004410524852574,-0.058741349726915,-0.107527598738670,-0.051917795091867,0.075967654585838,0.161606147885323,-0.021954834461212,-0.061400186270475,0.010170856490731,-0.031011141836643,-0.120002806186676));
res += mul(Get(s1,-dx,dy), float4x4(-0.037225916981697,0.037917260080576,0.003414432751015,-0.068022847175598,0.023272348567843,-0.050610981881618,-0.122159346938133,-0.063479624688625,0.031873829662800,-0.048173900693655,-0.064800292253494,0.156166493892670,0.131989076733589,-0.062849387526512,-0.026812624186277,0.068429961800575));
res += mul(Get(s1,0,-dy), float4x4(-0.022148502990603,-0.004771284759045,0.054024361073971,-0.035864945501089,0.099901281297207,-0.070001035928726,-0.040020186454058,-0.055771805346012,0.018854005262256,0.013417410664260,0.106960251927376,-0.001913550077006,-0.096701949834824,0.007409307174385,-0.079994015395641,-0.010590389370918));
res += mul(Get(s1,0,0), float4x4(-0.007403896190226,-0.024147488176823,0.003789377631620,-0.010144238360226,0.213422015309334,0.012880609370768,-0.077609591186047,-0.070978805422783,0.005631795153022,0.199734956026077,0.113265983760357,0.001719769788906,0.103358685970306,-0.059455990791321,-0.129942610859871,0.011978302150965));
res += mul(Get(s1,0,dy), float4x4(-0.025063430890441,0.009876293130219,-0.010575111955404,-0.053081128746271,0.108954578638077,-0.040584024041891,-0.081094503402710,-0.023926252499223,0.027009248733521,-0.206331104040146,0.009429671801627,0.217753693461418,0.189920932054520,-0.071809880435467,-0.078875422477722,0.140430867671967));
res += mul(Get(s1,dx,-dy), float4x4(0.050577580928802,-0.013199687004089,-0.015346360392869,-0.051446639001369,0.051425404846668,-0.033222850412130,-0.018763449043036,0.086233861744404,-0.031101463362575,-0.026945425197482,-0.065795525908470,-0.025592550635338,-0.041833151131868,-0.064465835690498,-0.060562748461962,0.057569939643145));
res += mul(Get(s1,dx,0), float4x4(0.009259016253054,-0.019258702173829,-0.033767703920603,-0.019843654707074,0.070729583501816,-0.046702183783054,-0.009934916161001,0.031575657427311,0.152199894189835,0.068343102931976,-0.071190878748894,-0.111646741628647,0.034125931560993,-0.008196260780096,-0.044742502272129,0.127291992306709));
res += mul(Get(s1,dx,dy), float4x4(0.029110528528690,0.058959122747183,0.012134243734181,-0.096004731953144,-0.025491736829281,-0.039882715791464,0.001696644816548,-0.046806678175926,-0.014509326778352,-0.100595064461231,-0.044977471232414,0.101783528923988,-0.024877080693841,-0.043189719319344,0.054634347558022,0.057468391954899));
res += mul(Get(s2,-dx,-dy), float4x4(-0.032659579068422,-0.036719024181366,0.007815980352461,0.001476492732763,-0.032797612249851,-0.126031935214996,0.018006665632129,0.093046441674232,0.028010448440909,0.048353713005781,-0.003794833784923,-0.017553627490997,-0.075224615633488,0.036885287612677,0.087331704795361,-0.166527912020683));
res += mul(Get(s2,-dx,0), float4x4(0.002647315151989,-0.078203491866589,0.065546654164791,0.002794393338263,0.076624304056168,-0.048462890088558,0.010427735745907,-0.085927911102772,0.023264680057764,0.009600305929780,0.031689304858446,-0.027184221893549,-0.069490432739258,-0.124310173094273,-0.003345675300807,0.151570916175842));
res += mul(Get(s2,-dx,dy), float4x4(0.049474172294140,-0.058804359287024,-0.024569878354669,-0.019893445074558,-0.046616252511740,-0.075223781168461,0.135112196207047,-0.061722807586193,0.002766408491880,0.076363041996956,0.010141580365598,0.023796342313290,-0.020415775477886,-0.117411546409130,-0.005556466057897,0.094274312257767));
res += mul(Get(s2,0,-dy), float4x4(-0.005176023114473,-0.011370211839676,-0.077903889119625,-0.027568778023124,-0.141170188784599,-0.101432807743549,-0.052767455577850,0.135094955563545,-0.021606698632240,0.026698751375079,0.007120700553060,-0.012113987468183,0.025986885651946,0.305983781814575,-0.118745706975460,-0.130741372704506));
res += mul(Get(s2,0,0), float4x4(0.067673891782761,-0.036550782620907,0.059087608009577,-0.002079693367705,-0.078564591705799,-0.058288261294365,-0.007985920645297,0.008336283266544,-0.025468491017818,0.043440844863653,-0.010639485903084,-0.008577792905271,0.022207595407963,-0.172133833169937,-0.015164404176176,0.223916724324226));
res += mul(Get(s2,0,dy), float4x4(0.091469153761864,-0.011204043403268,-0.023222260177135,0.075267270207405,-0.107716888189316,0.022994294762611,0.101441428065300,-0.010261795483530,0.005794532131404,-0.034272260963917,-0.073182918131351,0.013491095975041,-0.013517510145903,-0.023159720003605,-0.013489286415279,0.181713059544563));
res += mul(Get(s2,dx,-dy), float4x4(-0.050844173878431,0.040249478071928,0.011483890935779,0.029459457844496,-0.110681764781475,-0.006800718139857,0.108814097940922,0.074768409132957,-0.002182962838560,0.027535283938050,0.045885719358921,-0.007354462519288,0.091434046626091,0.150929212570190,-0.025682561099529,-0.172533929347992));
res += mul(Get(s2,dx,0), float4x4(-0.026937188580632,0.003838664852083,0.110778704285622,0.090468689799309,0.000335116550559,-0.032060828059912,0.109336249530315,-0.050303962081671,0.034389518201351,0.067268200218678,-0.012201533652842,-0.036948572844267,-0.042943693697453,0.063851192593575,0.187104374170303,-0.065485335886478));
res += mul(Get(s2,dx,dy), float4x4(-0.092420861124992,-0.024660209193826,0.037512883543968,0.089808620512486,0.024723479524255,0.009140276350081,0.091755144298077,0.017604753375053,0.084071092307568,0.054177749902010,-0.076309405267239,-0.024265894666314,-0.020834263414145,-0.158900395035744,-0.061551026999950,0.037253197282553));
res += mul(Get(s3,-dx,-dy), float4x4(-0.008769714273512,-0.032277163118124,0.002035700250417,0.162614047527313,-0.061834175139666,0.030658593401313,0.015039911493659,-0.060190986841917,-0.081604868173599,-0.020923947915435,0.091554954648018,-0.005550016649067,-0.013738400302827,0.043849974870682,0.060187324881554,-0.044566921889782));
res += mul(Get(s3,-dx,0), float4x4(0.000524062023032,0.007412386126816,0.152264520525932,-0.061868999153376,-0.076672978699207,0.078812539577484,-0.015397241339087,-0.046827211976051,-0.130251631140709,-0.030176602303982,0.103560522198677,0.027863476425409,0.068072654306889,-0.003142067464069,-0.047423668205738,-0.048916816711426));
res += mul(Get(s3,-dx,dy), float4x4(0.008215205743909,-0.016164308413863,-0.042808480560780,0.077494166791439,0.010753262788057,-0.147002503275871,-0.112408533692360,0.044258274137974,-0.082645036280155,-0.002888484392315,0.034898310899734,0.000723793811630,0.016640624031425,-0.073429927229881,-0.028244584798813,-0.004283771384507));
res += mul(Get(s3,0,-dy), float4x4(-0.028372455388308,-0.066234074532986,0.011959685944021,0.107178911566734,-0.162283241748810,-0.019787548109889,0.008995360694826,-0.054857898503542,-0.030554886907339,0.024656081572175,0.117025271058083,-0.040051717311144,-0.075132198631763,0.066630430519581,0.016231367364526,-0.028269410133362));
res += mul(Get(s3,0,0), float4x4(0.052916608750820,0.148298442363739,-0.005136902909726,-0.134981572628021,0.023485027253628,-0.044952608644962,-0.138273075222969,0.006605037953705,0.032389570027590,-0.019811773672700,-0.031452611088753,0.097910970449448,0.019683755934238,-0.002376556163654,-0.108904927968979,-0.032525934278965));
res += mul(Get(s3,0,dy), float4x4(0.042738784104586,-0.053233772516251,-0.098468147218227,0.034867569804192,0.023990672081709,-0.041459701955318,-0.155876442790031,0.136066973209381,-0.012052726000547,0.056972619146109,-0.016234690323472,0.070671640336514,-0.031206168234348,-0.051905792206526,0.004622757900506,0.065917879343033));
res += mul(Get(s3,dx,-dy), float4x4(0.028223052620888,-0.025519972667098,-0.079484842717648,0.123823359608650,-0.009288300760090,0.152102649211884,-0.031686887145042,-0.128086850047112,0.035248078405857,0.064767360687256,0.087956875562668,-0.035607911646366,-0.030866697430611,0.068908840417862,0.066644355654716,0.003016934497282));
res += mul(Get(s3,dx,0), float4x4(0.179528981447220,-0.030092552304268,-0.209798365831375,-0.113771408796310,0.095859430730343,-0.026202179491520,-0.091474264860153,-0.101256012916565,0.030668318271637,-0.044985607266426,0.196800053119659,0.118221834301949,0.083234548568726,-0.017987711355090,0.023542402312160,0.064970485866070));
res += mul(Get(s3,dx,dy), float4x4(0.059704124927521,0.016638977453113,-0.122238449752331,-0.019111670553684,-0.036028537899256,0.051199425011873,-0.121993958950043,-0.017020463943481,0.042961206287146,0.112241253256798,0.090017266571522,0.116957984864712,-0.007057505659759,-0.088728614151478,0.050790622830391,0.057766288518906));
return max(float4(0,0,0,0), res);
}
