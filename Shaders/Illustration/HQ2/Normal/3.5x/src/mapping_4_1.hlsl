sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.054745797067881,-0.078942187130451,0.050296854227781,0.058610901236534,-0.120031282305717,-0.070278525352478,-0.000862056505866,-0.004157992545515,-0.027437603101134,0.029908940196037,0.009166187606752,-0.015747686848044,0.006924802903086,0.026097401976585,0.059405203908682,-0.033749945461750));
res += mul(Get(s0,-dx,0), float4x4(-0.083096697926521,-0.038844678550959,0.068906597793102,-0.062443949282169,-0.044405691325665,-0.089988753199577,-0.051754135638475,-0.036260202527046,0.040019221603870,0.100861594080925,0.005321665201336,0.114547222852707,0.004915178287774,0.014829790219665,-0.069736316800117,-0.059019301086664));
res += mul(Get(s0,-dx,dy), float4x4(0.049268722534180,-0.029950655996799,0.125274777412415,-0.026080129668117,0.133120998740196,-0.010581652633846,-0.074343606829643,-0.074139863252640,0.090892419219017,-0.093670815229416,0.057075165212154,0.033388737589121,0.025885680690408,0.040096659213305,-0.054958760738373,-0.019954834133387));
res += mul(Get(s0,0,-dy), float4x4(-0.000713080575224,-0.066181980073452,-0.005815812386572,0.089657768607140,0.005037028342485,-0.055887673050165,-0.050552982836962,-0.016079349443316,0.040452238172293,-0.009439465589821,0.028433179482818,0.034838940948248,-0.005125372670591,-0.021400377154350,-0.003087317571044,0.014951106160879));
res += mul(Get(s0,0,0), float4x4(-0.002738322364166,0.015006619505584,0.084941744804382,0.036740224808455,-0.105495087802410,0.001487176516093,0.024209240451455,0.075238317251205,0.075382448732853,-0.011345451697707,0.039015833288431,0.023935595527291,-0.086170412600040,0.058940906077623,-0.064587228000164,0.020202070474625));
res += mul(Get(s0,0,dy), float4x4(0.117959074676037,-0.017198640853167,0.055446848273277,0.009263992309570,0.091499954462051,0.156761929392815,-0.060400519520044,-0.002162489108741,0.001155953854322,-0.050382822751999,-0.071316942572594,-0.151145979762077,-0.006739525124431,0.040545150637627,-0.058054722845554,0.047117587178946));
res += mul(Get(s0,dx,-dy), float4x4(-0.011272218078375,0.016598211601377,0.036455515772104,0.016494894400239,0.018498454242945,-0.065919160842896,-0.135656997561455,-0.040406815707684,0.084091991186142,-0.075109787285328,0.022906839847565,0.074579454958439,0.018886247649789,-0.043527863919735,-0.062209803611040,-0.005326498765498));
res += mul(Get(s0,dx,0), float4x4(-0.038359738886356,0.044438559561968,0.130870863795280,-0.018888391554356,0.007879229262471,0.037982124835253,-0.002248133532703,-0.018743541091681,0.038219355046749,0.022414963692427,-0.044958692044020,0.106889173388481,-0.036881640553474,0.018170658499002,-0.014894227497280,-0.025302020832896));
res += mul(Get(s0,dx,dy), float4x4(0.032579958438873,-0.071641892194748,0.069942191243172,0.009960840456188,-0.064169056713581,0.077651590108871,0.011881002224982,-0.110601387917995,0.002790899015963,0.022387301549315,-0.084752462804317,-0.034252673387527,-0.041774068027735,-0.018242033198476,-0.043076019734144,0.005564263090491));
res += mul(Get(s1,-dx,-dy), float4x4(-0.074248909950256,0.169596776366234,0.013249423354864,-0.182947844266891,0.029559306800365,0.032398622483015,0.017333421856165,-0.094757959246635,0.099076241254807,-0.029341546818614,0.071829922497272,-0.003131687873974,0.023529032245278,-0.081675834953785,0.042560633271933,-0.008131000213325));
res += mul(Get(s1,-dx,0), float4x4(0.011296101845801,0.163221359252930,0.096361018717289,-0.144584536552429,0.134045735001564,0.024789230898023,0.050650943070650,-0.092317186295986,-0.043181642889977,0.136733889579773,-0.013120232149959,-0.010363397188485,-0.158876344561577,-0.075821653008461,-0.085686273872852,0.039705678820610));
res += mul(Get(s1,-dx,dy), float4x4(0.103973485529423,0.078354209661484,0.033876884728670,-0.044697146862745,0.151310876011848,0.025281995534897,-0.023044494912028,-0.056863926351070,0.032350685447454,-0.009865499101579,0.088181681931019,-0.149782821536064,-0.135614201426506,-0.059963218867779,0.036854878067970,-0.025871487334371));
res += mul(Get(s1,0,-dy), float4x4(0.009832847863436,-0.041225206106901,0.010719327256083,-0.078039370477200,0.000041806350055,-0.041985731571913,0.009888728149235,-0.048521131277084,0.095340110361576,-0.004188566468656,-0.067508645355701,-0.091723024845123,0.130762711167336,0.053244091570377,-0.085233360528946,-0.000751334941015));
res += mul(Get(s1,0,0), float4x4(0.005707650445402,-0.042255736887455,0.069739304482937,0.035510510206223,0.106420248746872,-0.052571952342987,0.039787027984858,-0.063005201518536,-0.096196502447128,0.097729586064816,0.009599018841982,-0.134906470775604,-0.081229969859123,0.091626435518265,-0.060845870524645,0.021052448078990));
res += mul(Get(s1,0,dy), float4x4(0.085898734629154,-0.087190635502338,0.045779854059219,-0.034592248499393,0.128036528825760,0.017906751483679,0.005075279623270,-0.020120603963733,0.051684811711311,-0.045178111642599,0.015801170840859,-0.212602004408836,-0.072666049003601,-0.049581084400415,0.014898596331477,-0.057979982346296));
res += mul(Get(s1,dx,-dy), float4x4(0.038852244615555,0.011788076721132,-0.050853870809078,0.000402808509534,0.061972662806511,-0.039987947791815,0.040933590382338,-0.011920176446438,0.146302506327629,0.068685181438923,0.025782164186239,-0.024056380614638,0.081008993089199,0.093098118901253,-0.102998055517673,-0.027947736904025));
res += mul(Get(s1,dx,0), float4x4(-0.014528676867485,-0.053819771856070,0.013283170759678,0.081415273249149,0.082576490938663,-0.009622281417251,0.032443262636662,-0.074008248746395,-0.032822024077177,-0.012178169563413,0.107398062944412,-0.054402824491262,0.063895180821419,0.094209678471088,-0.030899140983820,-0.075632706284523));
res += mul(Get(s1,dx,dy), float4x4(-0.083793520927429,-0.052864395081997,0.000454789929790,0.061891082674265,0.168318867683411,-0.041362509131432,-0.024107309058309,-0.042937662452459,-0.033712446689606,0.015125283040106,0.007721202913672,-0.120521426200867,-0.026402030140162,0.118250675499439,-0.010521429590881,-0.021935582160950));
res += mul(Get(s2,-dx,-dy), float4x4(-0.034636434167624,-0.069145314395428,0.167627573013306,0.025694560259581,-0.021748261526227,-0.126905098557472,0.049764849245548,-0.055218648165464,0.014447578229010,-0.007371744606644,-0.113510288298130,-0.022069035097957,0.074996203184128,0.104502625763416,-0.023011900484562,-0.109760902822018));
res += mul(Get(s2,-dx,0), float4x4(0.058398522436619,-0.029337009415030,0.118398882448673,-0.022205621004105,0.109037987887859,-0.063811965286732,0.055833283811808,0.007886220701039,0.017234669998288,0.010328991338611,0.025557579472661,0.005402388516814,-0.017077093943954,0.042130973190069,0.008441355079412,-0.004899022635072));
res += mul(Get(s2,-dx,dy), float4x4(0.009162031114101,0.005365325603634,0.055379122495651,-0.008902727626264,0.066915117204189,-0.015031001530588,-0.040525078773499,0.060801129788160,0.039479818195105,0.081069402396679,-0.023548003286123,0.139838039875031,0.019752081483603,-0.015106921084225,-0.004250188823789,-0.027226991951466));
res += mul(Get(s2,0,-dy), float4x4(-0.010719140991569,-0.001568906009197,0.149009868502617,-0.002488498808816,-0.053989943116903,-0.007861959747970,0.001006808481179,0.050237912684679,0.091522537171841,0.017703492194414,-0.046185538172722,0.079882696270943,0.070913277566433,0.046472433954477,-0.033531587570906,-0.139080852270126));
res += mul(Get(s2,0,0), float4x4(-0.044524811208248,0.138629674911499,-0.094023481011391,0.060895454138517,0.071907885372639,-0.026703037321568,0.010007231496274,0.061673924326897,0.028418060392141,-0.016205327585340,-0.007955296896398,0.100679859519005,0.032404895871878,-0.067998573184013,-0.026729248464108,0.030876725912094));
res += mul(Get(s2,0,dy), float4x4(-0.077800653874874,0.028144288808107,-0.051524076610804,-0.009082750417292,0.146912515163422,0.055423967540264,0.019782328978181,0.000806861440651,-0.037604391574860,0.005072348751128,0.020996112376451,0.062361039221287,-0.021140769124031,-0.048437897115946,-0.039585925638676,0.019573936238885));
res += mul(Get(s2,dx,-dy), float4x4(-0.045837949961424,-0.051712907850742,0.039434947073460,0.112205676734447,-0.000898458471056,0.069589070975780,-0.029399966821074,0.048076413571835,0.027622938156128,-0.006670052651316,0.034723211079836,0.075422309339046,0.068789757788181,0.026492398232222,0.020635787397623,-0.043694484978914));
res += mul(Get(s2,dx,0), float4x4(-0.050663687288761,0.036818403750658,-0.077518366277218,0.169433131814003,-0.034002777189016,0.044352959841490,-0.009486203081906,-0.003937035333365,-0.064705379307270,0.093325689435005,-0.010083035565913,0.196196317672729,0.057856410741806,-0.074295863509178,-0.021875718608499,0.030485693365335));
res += mul(Get(s2,dx,dy), float4x4(-0.055783323943615,-0.024631273001432,-0.108791172504425,0.053259275853634,0.001358886016533,0.126729741692543,-0.029639735817909,-0.042310386896133,-0.161252081394196,0.094890445470810,-0.041813522577286,0.016699254512787,0.051492512226105,-0.035627812147141,-0.018600996583700,-0.077229015529156));
res += mul(Get(s3,-dx,-dy), float4x4(0.089905895292759,-0.110020793974400,0.051547352224588,0.047873243689537,-0.070117525756359,-0.108607962727547,-0.072218924760818,0.093038395047188,-0.039164260029793,-0.020985072478652,0.016774462535977,0.040099460631609,0.034038804471493,-0.015871148556471,-0.035399436950684,-0.027379753068089));
res += mul(Get(s3,-dx,0), float4x4(0.000743006414268,-0.187019020318985,0.072815209627151,0.035972461104393,-0.083990372717381,-0.137441948056221,0.004396026022732,0.081612743437290,0.005481697618961,-0.003282693447545,-0.014090942218900,0.121130518615246,-0.060257486999035,-0.059093337506056,-0.066078655421734,0.030293693765998));
res += mul(Get(s3,-dx,dy), float4x4(-0.027992121875286,-0.129645824432373,0.033822979778051,0.007205573376268,-0.089792147278786,-0.068020462989807,-0.036075651645660,0.032398581504822,0.039008006453514,-0.026670401915908,-0.034698672592640,0.081465199589729,-0.069325320422649,0.001117827370763,0.084988750517368,-0.022495396435261));
res += mul(Get(s3,0,-dy), float4x4(0.040353562682867,-0.113690823316574,0.035441469401121,0.053433399647474,-0.024070935323834,-0.019625052809715,-0.020243702456355,-0.036536548286676,0.049017153680325,-0.022337775677443,0.133060514926910,-0.019851263612509,-0.040581438690424,-0.040978632867336,-0.093874946236610,-0.041422832757235));
res += mul(Get(s3,0,0), float4x4(-0.007736031897366,0.039110708981752,0.051885154098272,-0.004009497817606,0.012091668322682,-0.208221107721329,0.209489300847054,-0.134709596633911,0.096923358738422,-0.073665373027325,0.034155815839767,0.010346386581659,-0.072199635207653,0.050583980977535,-0.107002936303616,0.142741024494171));
res += mul(Get(s3,0,dy), float4x4(0.025254329666495,0.043467089533806,-0.021202433854342,0.002496134722605,0.032880272716284,0.105889804661274,0.048556752502918,-0.099250100553036,0.047946259379387,-0.051632218062878,-0.017240177839994,0.038598537445068,0.094548761844635,-0.000937306613196,0.000414655660279,0.039520911872387));
res += mul(Get(s3,dx,-dy), float4x4(-0.021010434255004,0.000643318577204,0.010573414154351,0.112838856875896,-0.093222953379154,-0.070424877107143,-0.067955881357193,0.036997690796852,-0.047651160508394,0.006612566765398,0.017506370320916,-0.033204928040504,-0.056082662194967,0.057972654700279,-0.004248818848282,-0.122138686478138));
res += mul(Get(s3,dx,0), float4x4(-0.063001252710819,0.118059642612934,-0.013211886398494,0.076996088027954,0.063622318208218,0.190353333950043,0.043162222951651,-0.032619766891003,-0.090832799673080,0.016535494476557,-0.011708036065102,0.103505946695805,-0.124151922762394,-0.027197200804949,-0.014962806366384,-0.032093059271574));
res += mul(Get(s3,dx,dy), float4x4(-0.065976805984974,0.201826140284538,-0.152165621519089,0.029163617640734,0.155196443200111,0.218761920928955,-0.023028032854199,-0.070541270077229,-0.002443880075589,0.026738613843918,-0.047271862626076,0.007984862662852,-0.142705246806145,0.041229300200939,-0.076265864074230,-0.012491274625063));
return max(float4(0,0,0,0), res);
}
