sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.020950648933649,0.049226488918066,0.037807814776897,0.018119506537914,0.020180022343993,-0.034253094345331,0.020660590380430,0.035730309784412,-0.053646855056286,-0.049961093813181,0.071150504052639,0.053055930882692,-0.008354055695236,0.078446835279465,-0.011509800329804,-0.018791098147631));
res += mul(Get(s0,-dx,0), float4x4(-0.046303428709507,-0.029837444424629,-0.019365916028619,0.065842024981976,-0.012702004052699,-0.051789466291666,0.034480866044760,-0.037431038916111,-0.003536361735314,-0.060186605900526,0.094291470944881,-0.157480612397194,0.046385563910007,0.072566643357277,-0.031351640820503,-0.091720610857010));
res += mul(Get(s0,-dx,dy), float4x4(-0.013833804987371,-0.132904022932053,-0.011890362948179,0.050509560853243,-0.043961293995380,-0.090024158358574,0.075122341513634,-0.090517155826092,-0.025921566411853,-0.093322359025478,-0.064115695655346,-0.062713012099266,-0.020154548808932,-0.150986358523369,-0.052512332797050,0.014996352605522));
res += mul(Get(s0,0,-dy), float4x4(-0.020332811400294,0.067195564508438,0.033577986061573,0.003203887026757,0.014533540233970,0.084149487316608,-0.030036635696888,0.000008464259736,0.003069830359891,-0.029941067099571,0.007711818441749,0.046591635793447,-0.004657337442040,0.111000239849091,0.007032702211291,-0.049570515751839));
res += mul(Get(s0,0,0), float4x4(-0.045579776167870,0.116789042949677,0.022014880552888,0.024585373699665,-0.035825304687023,0.062469664961100,-0.056299261748791,-0.063362807035446,0.087259851396084,0.029051931574941,0.175757959485054,0.034768000245094,0.014349158853292,0.074455775320530,0.032541517168283,-0.054746609181166));
res += mul(Get(s0,0,dy), float4x4(-0.016045773401856,0.017377359792590,0.018400747328997,0.043915878981352,-0.036885581910610,0.014823129400611,-0.034573569893837,-0.067239031195641,0.078562378883362,-0.041219718754292,-0.008706358261406,0.079015702009201,-0.055477056652308,0.000699527212419,0.108426861464977,0.081787534058094));
res += mul(Get(s0,dx,-dy), float4x4(0.030629171058536,-0.091691151261330,0.075613901019096,-0.012036275118589,-0.010945538058877,0.013555400073528,0.007069085258991,0.065840929746628,0.014460971578956,0.047759123146534,-0.082377381622791,-0.142891258001328,0.010368669405580,0.063811898231506,-0.022536270320415,0.076728954911232));
res += mul(Get(s0,dx,0), float4x4(0.030156947672367,0.039700582623482,0.103371553122997,-0.025484817102551,-0.028946202248335,-0.084051311016083,0.017890729010105,0.197046771645546,0.087986953556538,-0.008789913728833,-0.046759385615587,-0.137969329953194,-0.023121364414692,0.005314736161381,-0.023817349225283,0.127790719270706));
res += mul(Get(s0,dx,dy), float4x4(0.043104838579893,-0.066002570092678,0.029257453978062,0.010543500073254,0.001372446073219,-0.128404065966606,0.026153491809964,0.091942429542542,0.047321900725365,-0.102803841233253,-0.050010532140732,-0.054079677909613,0.028568746522069,-0.107623517513275,0.046197760850191,0.162976831197739));
res += mul(Get(s1,-dx,-dy), float4x4(-0.074011251330376,0.031115993857384,-0.051384113729000,0.058570083230734,-0.045019291341305,-0.024541737511754,-0.066427320241928,-0.055790226906538,-0.040196005254984,-0.011000744067132,-0.105660997331142,-0.042388144880533,0.062377743422985,-0.019739814102650,-0.130320236086845,0.104704186320305));
res += mul(Get(s1,-dx,0), float4x4(-0.094239972531796,-0.063203655183315,0.031241752207279,-0.012653521262109,-0.014474307186902,-0.045608572661877,-0.067737609148026,-0.067144542932510,0.019021701067686,-0.099019929766655,-0.070189386606216,-0.019441921263933,-0.045707300305367,0.001091948710382,0.069393798708916,0.042432598769665));
res += mul(Get(s1,-dx,dy), float4x4(-0.053863584995270,-0.125062882900238,0.043445661664009,-0.044648084789515,-0.005531363654882,-0.134833112359047,-0.059816043823957,0.028738819062710,-0.021009504795074,-0.050094749778509,0.074415542185307,0.023386433720589,0.033340025693178,0.098758250474930,-0.032330583781004,-0.041594568639994));
res += mul(Get(s1,0,-dy), float4x4(-0.095595329999924,0.020221589133143,0.031545232981443,-0.008005104027689,-0.054061722010374,-0.003520274301991,-0.060847021639347,-0.053712714463472,-0.028731847181916,0.231928065419197,-0.108141511678696,0.101807750761509,-0.006871305871755,-0.091663569211960,-0.048015281558037,0.005179535597563));
res += mul(Get(s1,0,0), float4x4(-0.108108080923557,0.067312374711037,0.097271226346493,0.012404603883624,0.018428960815072,0.008786888793111,0.014811974018812,0.119258530437946,-0.008184827864170,-0.037193119525909,-0.081660978496075,0.134337708353996,0.051297970116138,-0.044835228472948,0.026754438877106,0.051971521228552));
res += mul(Get(s1,0,dy), float4x4(-0.094198368489742,0.057022262364626,0.025162260979414,-0.045310098677874,-0.020663242787123,-0.025053486227989,0.068976998329163,0.188457831740379,0.015261054039001,0.007484877947718,-0.064841106534004,-0.009801935404539,0.024332286790013,-0.007726666983217,0.092736810445786,0.019836455583572));
res += mul(Get(s1,dx,-dy), float4x4(0.025859016925097,0.018649660050869,0.041043829172850,-0.067161396145821,-0.044393181800842,0.063200153410435,-0.120988175272942,-0.097436077892780,-0.069190286099911,0.101294420659542,-0.048035319894552,0.183796286582947,0.032267611473799,-0.066656164824963,-0.031525682657957,-0.026138294488192));
res += mul(Get(s1,dx,0), float4x4(0.000606120971497,-0.016738409176469,0.052660223096609,0.022611392661929,0.042759027332067,0.074375502765179,-0.064258418977261,0.061471678316593,-0.058196038007736,-0.107493616640568,-0.207526758313179,0.220507904887199,0.084497168660164,0.005074332468212,0.066360853612423,-0.017292149364948));
res += mul(Get(s1,dx,dy), float4x4(-0.043972305953503,-0.134713366627693,0.043154135346413,-0.001818669144996,0.042286589741707,-0.078359439969063,0.044001918286085,0.196954742074013,-0.045229099690914,-0.053936984390020,-0.130077838897705,-0.025837816298008,0.083393745124340,-0.013521704822779,-0.020106559619308,0.007983664050698));
res += mul(Get(s2,-dx,-dy), float4x4(-0.007160318549722,-0.094911709427834,0.040571246296167,-0.006538708228618,-0.008402513340116,-0.090938761830330,-0.001879104878753,0.106400601565838,-0.051281075924635,0.045936275273561,-0.060984529554844,-0.003363670781255,-0.055621359497309,-0.016626661643386,0.080703191459179,0.051970481872559));
res += mul(Get(s2,-dx,0), float4x4(-0.013840511441231,-0.021455079317093,0.016585754230618,-0.061094377189875,-0.007095282897353,-0.026785746216774,-0.084094941616058,-0.058269958943129,-0.005272406619042,-0.045207951217890,-0.004068936686963,0.038865394890308,0.008765632286668,0.029678143560886,0.029574567452073,0.004671525210142));
res += mul(Get(s2,-dx,dy), float4x4(-0.005718324333429,-0.128168568015099,-0.054961178451777,-0.048418272286654,0.007579521276057,-0.000760049500968,-0.094096571207047,-0.072174511849880,-0.034686021506786,-0.088943324983120,0.021071005612612,0.019896356388927,-0.019318025559187,0.009035493247211,0.019579866901040,0.057507306337357));
res += mul(Get(s2,0,-dy), float4x4(0.004109010100365,-0.035360436886549,0.083101242780685,-0.064285799860954,-0.014885767363012,0.049272090196609,-0.072815299034119,-0.010285344906151,-0.074758082628250,0.133537486195564,-0.021744141355157,0.059709835797548,0.003054511034861,0.027877762913704,0.078402638435364,0.036461256444454));
res += mul(Get(s2,0,0), float4x4(0.007311347872019,0.023280091583729,0.106411449611187,0.015754755586386,0.008729263208807,0.103098444640636,-0.090559735894203,-0.050274208188057,0.021932598203421,0.184436738491058,-0.072852760553360,0.049701638519764,0.016018087044358,0.029134506359696,0.040558557957411,0.026802426204085));
res += mul(Get(s2,0,dy), float4x4(0.026475733146071,-0.058108296245337,0.030688067898154,0.090949334204197,0.019733885303140,0.040929570794106,-0.042169950902462,-0.089049644768238,0.004391667898744,0.056658390909433,0.078519277274609,-0.021826988086104,0.030888766050339,0.025191538035870,0.046066414564848,-0.005201345775276));
res += mul(Get(s2,dx,-dy), float4x4(0.065703026950359,-0.000596580677666,0.015963053330779,0.053194541484118,0.018356299027801,-0.016738411039114,-0.034235063940287,-0.026217600330710,-0.078002102673054,-0.010969015769660,-0.049661148339510,-0.020883768796921,-0.016804743558168,-0.015287946909666,0.067131832242012,0.029060095548630));
res += mul(Get(s2,dx,0), float4x4(0.080739349126816,-0.021340996026993,0.082880809903145,-0.064044721424580,-0.010904987342656,-0.120119526982307,-0.084910377860069,-0.068593502044678,0.002221736591309,0.011398974806070,0.108558036386967,-0.023889470845461,0.007650322280824,-0.053882803767920,0.031966697424650,0.024211535230279));
res += mul(Get(s2,dx,dy), float4x4(-0.004867783747613,-0.038862042129040,0.019953398033977,-0.001999765867367,0.026388760656118,-0.097208462655544,0.008167345076799,-0.063795350492001,0.034985512495041,-0.017198357731104,0.052283842116594,-0.021428810432553,0.016466762870550,-0.054704830050468,0.051674742251635,-0.034343473613262));
res += mul(Get(s3,-dx,-dy), float4x4(0.026303557679057,0.022478748112917,-0.026623623445630,-0.010807597078383,0.024832056835294,-0.021039599552751,0.168915480375290,-0.076267145574093,0.013363392092288,0.063913390040398,-0.072070002555847,-0.056496985256672,0.047437343746424,-0.026480590924621,-0.023945251479745,-0.090281531214714));
res += mul(Get(s3,-dx,0), float4x4(0.057552266865969,-0.046507060527802,-0.063093982636929,0.127874419093132,0.039940789341927,-0.026448531076312,0.186493858695030,-0.042527992278337,-0.021887432783842,-0.123800866305828,0.067221209406853,-0.064944736659527,-0.016287310048938,-0.104762881994247,0.027026364579797,-0.137622699141502));
res += mul(Get(s3,-dx,dy), float4x4(0.033445265144110,-0.009737976826727,0.089448265731335,0.170773878693581,0.021669978275895,-0.056091114878654,0.176537632942200,0.066315896809101,0.006209744606167,-0.213736280798912,0.099132448434830,-0.050777822732925,0.018863251432776,-0.057188421487808,0.030890941619873,0.016561361029744));
res += mul(Get(s3,0,-dy), float4x4(0.046319387853146,0.208189278841019,-0.101590350270271,0.060182061046362,0.088061235845089,-0.013979277573526,0.164924100041389,-0.100924447178841,-0.045918308198452,0.106356054544449,0.051113240420818,-0.024147804826498,0.058139000087976,0.153763622045517,-0.066970936954021,-0.036034762859344));
res += mul(Get(s3,0,0), float4x4(0.004035796038806,0.145525872707367,-0.069817222654819,0.120651848614216,0.099580876529217,-0.039435338228941,0.026788817718625,-0.010317319072783,-0.005453678779304,0.088757269084454,0.061330169439316,-0.012191801331937,0.032299429178238,0.082874417304993,-0.055309720337391,-0.079169616103172));
res += mul(Get(s3,0,dy), float4x4(0.055522978305817,0.077206045389175,-0.060041882097721,0.107929043471813,0.049444008618593,-0.012673681601882,0.119717530906200,0.030166724696755,-0.028223820030689,0.029809311032295,0.024532975628972,-0.029785355553031,0.043395210057497,0.043492421507835,0.084833301603794,0.071424834430218));
res += mul(Get(s3,dx,-dy), float4x4(0.006942525040358,0.117564596235752,0.001349352183752,0.046279661357403,0.031462494283915,-0.049022134393454,0.106488555669785,0.051557365804911,-0.076490953564644,0.013751377351582,0.085318505764008,0.090986274182796,0.053195714950562,0.093075215816498,-0.070704281330109,-0.068702213466167));
res += mul(Get(s3,dx,0), float4x4(-0.009024659171700,0.032799936830997,-0.070685259997845,0.041953533887863,0.009782331995666,-0.012399231083691,0.138312429189682,-0.057947926223278,-0.067568928003311,-0.050574604421854,0.055446065962315,0.072023108601570,-0.000297851453070,0.062751717865467,0.038358166813850,-0.063164442777634));
res += mul(Get(s3,dx,dy), float4x4(-0.026447352021933,0.069429591298103,0.009012921713293,0.010304679162800,0.019542841240764,-0.078680656850338,0.164328515529633,-0.098158061504364,-0.086949951946735,-0.135548263788223,0.047796450555325,-0.018140951171517,-0.001969230826944,-0.010150674730539,0.073137797415257,0.099301509559155));
return max(float4(0,0,0,0), res);
}
