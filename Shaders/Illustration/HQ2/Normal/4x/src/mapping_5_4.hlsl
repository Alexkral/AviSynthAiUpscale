sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.051385320723057,0.013822106644511,-0.093149304389954,-0.043800864368677,0.002143166493624,-0.016560923308134,-0.021393589675426,0.014578306116164,0.026465497910976,0.026845676824450,-0.004195280373096,-0.129415541887283,0.037276729941368,-0.160466238856316,-0.032696921378374,-0.091923490166664));
res += mul(Get(s0,-dx,0), float4x4(0.081064581871033,0.007502203341573,0.011068351566792,0.013557596132159,0.042797964066267,-0.033863246440887,-0.018549362197518,-0.001915231463499,0.043231941759586,0.030631784349680,0.089864149689674,0.050782229751348,0.121842317283154,-0.157777041196823,-0.041944637894630,0.123086079955101));
res += mul(Get(s0,-dx,dy), float4x4(-0.054762590676546,-0.005779287777841,-0.059344928711653,0.034020613878965,0.117132052779198,0.009919785894454,-0.021147450432181,0.033596836030483,0.090426817536354,0.007105458993465,0.006021207198501,-0.101689852774143,0.080622687935829,0.028335593640804,-0.149514511227608,0.027831515297294));
res += mul(Get(s0,0,-dy), float4x4(0.016046760603786,-0.062226690351963,0.001403286121786,-0.086834669113159,-0.021773217245936,-0.033983986824751,-0.040225621312857,-0.014827437698841,-0.031129304319620,0.006255369167775,0.068642213940620,0.072024337947369,-0.042803648859262,-0.084784016013145,-0.076743438839912,0.063966155052185));
res += mul(Get(s0,0,0), float4x4(0.278762400150299,-0.057598020881414,0.007016045041382,0.060485679656267,-0.007547239772975,-0.000695609953254,-0.106452114880085,-0.010875754058361,-0.132956743240356,-0.022414151579142,0.097321644425392,0.059368092566729,-0.016597814857960,-0.200219735503197,-0.113493658602238,0.021758403629065));
res += mul(Get(s0,0,dy), float4x4(0.080453351140022,-0.039193183183670,-0.090724110603333,0.143270000815392,0.065827973186970,-0.008236012421548,0.013300243765116,0.001797351287678,0.012303288094699,0.026085041463375,0.094790555536747,-0.016045242547989,-0.042769666761160,0.072976738214493,-0.132409065961838,-0.067233234643936));
res += mul(Get(s0,dx,-dy), float4x4(-0.041133120656013,-0.029515543952584,0.025294354185462,-0.076803341507912,0.001054334687069,0.006054788362235,-0.033582758158445,-0.006072698626667,0.008192361332476,-0.013701315037906,0.029136052355170,0.025676911696792,-0.021741013973951,-0.038401011377573,-0.109872892498970,-0.009131200611591));
res += mul(Get(s0,dx,0), float4x4(0.143899649381638,-0.082665733993053,0.154992803931236,-0.008461399003863,-0.033182252198458,-0.001199401449412,-0.072746045887470,0.015004004351795,-0.086375974118710,-0.101849377155304,-0.038672197610140,-0.024974500760436,0.018505055457354,0.124518737196922,-0.001694996142760,-0.052634760737419));
res += mul(Get(s0,dx,dy), float4x4(-0.006044145673513,-0.018173964694142,0.087318331003189,0.029281193390489,0.027250135317445,-0.028630238026381,0.013398338109255,-0.001935741631314,0.010711825452745,-0.006861370056868,0.034534413367510,0.008706839755177,0.006829451303929,0.325749903917313,-0.042160876095295,-0.025349317118526));
res += mul(Get(s1,-dx,-dy), float4x4(0.055370192974806,-0.031397677958012,0.054250679910183,0.037012316286564,-0.021897675469518,-0.051445025950670,0.156209677457809,0.019694367423654,0.019590724259615,-0.059774950146675,-0.104280747473240,-0.100188076496124,-0.107504129409790,0.033464789390564,-0.021205550059676,-0.007099874317646));
res += mul(Get(s1,-dx,0), float4x4(0.064327806234360,0.005065064411610,-0.025544289499521,0.048504896461964,-0.048460569232702,0.030751507729292,0.067807972431183,0.051059659570456,0.021124426275492,0.129971906542778,0.130337446928024,-0.036884576082230,-0.061755817383528,0.246951252222061,0.106026753783226,0.073695689439774));
res += mul(Get(s1,-dx,dy), float4x4(0.094311952590942,-0.056502323597670,-0.023465445265174,0.014886468648911,-0.016013445332646,-0.026680344715714,0.052055388689041,0.064426213502884,-0.012216656468809,0.071481391787529,-0.002444826997817,0.019149264320731,-0.041398283094168,0.010339212603867,-0.130212247371674,0.040630288422108));
res += mul(Get(s1,0,-dy), float4x4(-0.012624821625650,0.094129964709282,0.041770808398724,-0.024638758972287,0.051900226622820,-0.010001478716731,0.115175627171993,0.056402537971735,-0.017484929412603,-0.061067473143339,-0.087192535400391,-0.139585450291634,-0.167241483926773,0.006232555024326,0.064143009483814,0.111642107367516));
res += mul(Get(s1,0,0), float4x4(-0.083151258528233,-0.234101042151451,-0.128970816731453,0.050645008683205,0.067701131105423,0.013941849581897,0.099247217178345,0.003435752587393,0.005505393259227,-0.093875870108604,0.078633129596710,-0.075707048177719,-0.089833833277225,-0.101226300001144,-0.004917589947581,0.059754453599453));
res += mul(Get(s1,0,dy), float4x4(-0.031699128448963,-0.105526722967625,-0.004235689993948,0.023626245558262,-0.023590300232172,0.045299828052521,0.042287603020668,0.122611135244370,-0.008941054344177,-0.095999464392662,0.029721774160862,-0.026815451681614,-0.113554514944553,-0.108621895313263,-0.042375557124615,-0.066196352243423));
res += mul(Get(s1,dx,-dy), float4x4(-0.035887412726879,0.244369179010391,0.124309211969376,-0.135452792048454,-0.029815096408129,0.003780080238357,-0.027419688180089,-0.036286816000938,-0.002628072630614,0.038004897534847,0.010281279683113,-0.184720084071159,0.026777047663927,0.050277955830097,-0.002327037043869,0.111892141401768));
res += mul(Get(s1,dx,0), float4x4(-0.076035313308239,0.015685776248574,0.098258726298809,0.006821143906564,-0.076687932014465,0.033326067030430,0.132230028510094,0.007910785265267,0.006534353829920,-0.052677307277918,0.074056044220924,-0.105359412729740,-0.011318678036332,-0.040020685642958,-0.028391683474183,-0.006818365305662));
res += mul(Get(s1,dx,dy), float4x4(-0.084667906165123,-0.125073090195656,-0.053832802921534,-0.050063747912645,0.007407053373754,0.008146486245096,0.055789023637772,0.105985455214977,-0.040355239063501,-0.086660355329514,-0.025869304314256,0.013720169663429,-0.048831790685654,0.034906867891550,-0.082180030643940,-0.046985991299152));
res += mul(Get(s2,-dx,-dy), float4x4(-0.151908621191978,-0.027869416400790,0.043122109025717,0.030439797788858,0.152620658278465,-0.073597684502602,-0.091260939836502,-0.115728370845318,-0.117682769894600,-0.109805248677731,-0.066020861268044,0.007546072825789,-0.024869035929441,-0.029356572777033,-0.047935552895069,-0.101676367223263));
res += mul(Get(s2,-dx,0), float4x4(-0.041560877114534,-0.178533181548119,0.001208954025060,-0.047052439302206,0.055998764932156,-0.019420975819230,-0.047941014170647,-0.112045891582966,-0.025008941069245,-0.029296813532710,-0.134903281927109,0.143624961376190,0.012916790321469,0.192040577530861,0.069640606641769,-0.005159420426935));
res += mul(Get(s2,-dx,dy), float4x4(-0.002912227064371,0.039790797978640,0.084529817104340,-0.049811843782663,-0.078602910041809,-0.037882670760155,0.034104488790035,-0.005776598583907,0.044305622577667,-0.108618363738060,-0.072162337601185,-0.010671087540686,0.036465112119913,0.175657495856285,0.022602146491408,0.000179677212145));
res += mul(Get(s2,0,-dy), float4x4(-0.017675317823887,0.059426154941320,0.034701600670815,-0.052960202097893,0.152474045753479,-0.109749510884285,-0.044214073568583,-0.116764314472675,-0.102387242019176,-0.080719359219074,-0.143200516700745,0.032528147101402,-0.054956108331680,-0.113370254635811,-0.094206213951111,0.060168758034706));
res += mul(Get(s2,0,0), float4x4(-0.033427990972996,-0.025842284783721,0.104321874678135,-0.062636189162731,0.205958634614944,0.080887153744698,0.041262257844210,-0.006285029463470,0.007149950135499,-0.070537038147449,-0.110247522592545,0.078778415918350,0.008389650844038,-0.096244543790817,-0.140108853578568,-0.032541140913963));
res += mul(Get(s2,0,dy), float4x4(0.056852385401726,0.077972620725632,0.172913134098053,-0.076004534959793,-0.013562780804932,-0.069909937679768,-0.069074846804142,0.169863358139992,0.043983537703753,-0.045680474489927,-0.016302477568388,-0.035210091620684,0.028677498921752,0.114365667104721,0.076077960431576,-0.036634698510170));
res += mul(Get(s2,dx,-dy), float4x4(-0.020788388326764,0.074504941701889,0.046476162970066,0.030578084290028,-0.317982852458954,0.019756207242608,0.000716329959687,-0.102471135556698,-0.072433665394783,-0.042562607675791,-0.023724641650915,-0.062539815902710,0.117388248443604,0.033837791532278,-0.030122948810458,0.028171746060252));
res += mul(Get(s2,dx,0), float4x4(0.058939237147570,0.112513199448586,0.060921844094992,0.038906719535589,-0.173032537102699,-0.001545110833831,0.049227606505156,-0.094671681523323,-0.073031917214394,-0.013133639469743,0.001562694669701,-0.007386993151158,-0.011780712753534,-0.092400789260864,-0.066290982067585,0.112025827169418));
res += mul(Get(s2,dx,dy), float4x4(0.020955350250006,0.015574538148940,0.081767074763775,-0.010468441061676,-0.137040168046951,-0.114079535007477,0.031870506703854,0.057866249233484,-0.073879741132259,0.010408455505967,0.132697343826294,-0.091633461415768,-0.002750084036961,0.026241810992360,-0.006688256282359,-0.061171367764473));
res += mul(Get(s3,-dx,-dy), float4x4(0.065166622400284,0.067695088684559,0.083319582045078,0.033931531012058,0.005256311967969,0.032533857971430,-0.000265345413936,-0.029756916686893,-0.047202389687300,0.038327760994434,0.073218554258347,-0.028577314689755,0.009396364912391,0.138976663351059,-0.044602371752262,-0.083558127284050));
res += mul(Get(s3,-dx,0), float4x4(0.037206977605820,0.032786443829536,0.004731017164886,0.025853464379907,-0.048839740455151,0.012444566003978,-0.005677884444594,-0.092713132500648,-0.040222726762295,-0.019976848736405,0.050022378563881,0.060174047946930,0.029070094227791,0.105690456926823,-0.037066202610731,-0.075580671429634));
res += mul(Get(s3,-dx,dy), float4x4(0.021108401939273,-0.035710141062737,-0.043128017336130,0.050638806074858,-0.050752073526382,0.052699517458677,-0.002037166152149,-0.003479165490717,-0.113690897822380,-0.087018527090549,0.036367565393448,0.085145644843578,0.012435147538781,0.057509064674377,-0.001309778075665,0.060774013400078));
res += mul(Get(s3,0,-dy), float4x4(0.020807491615415,-0.057311471551657,0.070271581411362,0.025087466463447,-0.024876687675714,-0.079151362180710,-0.049610637128353,0.140107378363609,0.034301444888115,-0.044645600020885,-0.112176388502121,-0.062883816659451,-0.002174830297008,0.047798171639442,0.115609131753445,0.023651156574488));
res += mul(Get(s3,0,0), float4x4(0.015808029100299,-0.146860182285309,-0.005717599298805,-0.004808190744370,-0.005532602313906,-0.076449245214462,-0.029340423643589,0.009481127373874,0.147015959024429,-0.032347716391087,-0.096352986991405,0.163876757025719,0.046893399208784,0.004637002944946,0.097015798091888,0.078957617282867));
res += mul(Get(s3,0,dy), float4x4(-0.078586131334305,-0.088572621345520,-0.076675988733768,-0.042265895754099,-0.011373661458492,-0.005343976896256,-0.008240750990808,-0.022338759154081,0.038342013955116,-0.022969014942646,0.034174572676420,0.089154556393623,0.004987171385437,0.063359506428242,0.168069660663605,0.235385149717331));
res += mul(Get(s3,dx,-dy), float4x4(0.092444337904453,-0.075504422187805,-0.058181352913380,-0.041732735931873,-0.015211806632578,-0.046971585601568,-0.073057591915131,0.168962210416794,-0.070527687668800,-0.037147443741560,0.041493989527225,-0.173385202884674,-0.051299721002579,0.067698754370213,-0.029075998812914,0.074846804141998));
res += mul(Get(s3,dx,0), float4x4(0.016258109360933,-0.054561752825975,-0.043759036809206,-0.005793205928057,0.026483340188861,0.018376421183348,-0.064220234751701,0.077353663742542,0.148310571908951,-0.050177063792944,0.106590412557125,0.006376276258379,-0.066990293562412,0.056461505591869,-0.064901046454906,0.079123146831989));
res += mul(Get(s3,dx,dy), float4x4(-0.073296360671520,-0.032053761184216,-0.030163906514645,-0.001162825035863,-0.014266522601247,0.036487802863121,-0.062091376632452,-0.023903960362077,0.032210923731327,0.005065788049251,0.187342643737793,-0.142095327377319,-0.054643969982862,0.037031669169664,0.037019893527031,0.009866299107671));
return max(float4(0,0,0,0), res);
}
