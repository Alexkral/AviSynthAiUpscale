sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.004367849323899,0.029349049553275,-0.078919835388660,-0.060340192168951,0.000695315364283,-0.016018664464355,0.069123812019825,0.019847091287374,0.062847346067429,-0.093406111001968,0.030383978039026,0.207777708768845,-0.022548338398337,0.144531816244125,-0.104382455348969,-0.045290954411030));
res += mul(Get(s0,-dx,0), float4x4(-0.102786831557751,-0.016497559845448,0.024152984842658,-0.110744878649712,0.003337661270052,0.047408349812031,-0.012928090058267,-0.089381709694862,-0.026597389951348,0.047721132636070,0.054967377334833,0.074266783893108,-0.030023500323296,0.154216572642326,-0.126102834939957,-0.047045871615410));
res += mul(Get(s0,-dx,dy), float4x4(-0.027811571955681,-0.170512154698372,-0.026421366259456,-0.040466882288456,0.021541021764278,0.029897777363658,-0.011302122846246,-0.020121302455664,-0.009722049348056,0.137402623891830,0.030962418764830,-0.019512087106705,0.057613398879766,0.078640542924404,-0.076748929917812,0.147777363657951));
res += mul(Get(s0,0,-dy), float4x4(-0.034953664988279,0.042158819735050,-0.057779610157013,0.057819776237011,-0.068109482526779,-0.086845189332962,0.100739575922489,0.095069311559200,0.010736587457359,-0.125398173928261,0.007796297781169,0.136049538850784,0.036825869232416,-0.063769489526749,-0.044879134744406,-0.082339733839035));
res += mul(Get(s0,0,0), float4x4(-0.127867326140404,0.004734714981169,0.214690506458282,-0.014415849000216,-0.022675387561321,0.104874573647976,0.024448873475194,-0.032879874110222,-0.022372296079993,0.000194578984519,0.004898825194687,0.102187514305115,0.058503221720457,0.095109038054943,-0.113893173635006,-0.026447674259543));
res += mul(Get(s0,0,dy), float4x4(-0.109028019011021,-0.105981513857841,0.077414862811565,-0.018440112471581,0.015523004345596,0.122914336621761,0.001811565132812,-0.055699709802866,-0.031407296657562,0.162559539079666,0.010822591371834,0.014485239982605,0.008735870011151,0.029822561889887,0.012898857705295,0.060432162135839));
res += mul(Get(s0,dx,-dy), float4x4(0.007666002959013,0.126212313771248,-0.017168946564198,-0.037080723792315,-0.022284591570497,-0.020945305004716,-0.001051196362823,0.009996684268117,0.030274799093604,-0.038795761764050,-0.006257943809032,-0.097073137760162,0.072607137262821,-0.081254392862320,0.026283314451575,-0.003810948925093));
res += mul(Get(s0,dx,0), float4x4(-0.038266766816378,0.149853184819221,0.098785951733589,0.013489081524312,-0.046157374978065,0.030960619449615,0.019973490387201,0.033628754317760,0.042545959353447,-0.019763121381402,0.003738314611837,0.090255148708820,-0.031157135963440,0.106660254299641,0.001237823744304,-0.094315432012081));
res += mul(Get(s0,dx,dy), float4x4(-0.112004257738590,0.049847472459078,0.022730333730578,-0.028728859499097,0.107225157320499,-0.027012579143047,-0.034282352775335,-0.076479546725750,0.003321343334392,0.054026104509830,0.035343732684851,0.071438476443291,0.044857297092676,-0.040550082921982,0.122852221131325,0.028459172695875));
res += mul(Get(s1,-dx,-dy), float4x4(0.044823925942183,-0.003080080030486,-0.009049411863089,0.041194941848516,0.024571664631367,-0.031873472034931,-0.032732639461756,0.105574823915958,-0.084813490509987,0.119899682700634,0.072895839810371,0.037070401012897,-0.001908131642267,0.029324764385819,0.012498174794018,-0.012875012122095));
res += mul(Get(s1,-dx,0), float4x4(-0.011994075030088,0.068365924060345,0.069094277918339,0.044380269944668,0.038273796439171,0.052912056446075,-0.084377512335777,-0.030719200149179,0.041623868048191,0.046472940593958,-0.009882215410471,0.008532395586371,0.023201383650303,0.023848451673985,0.077907592058182,0.151756703853607));
res += mul(Get(s1,-dx,dy), float4x4(-0.001295067020692,0.029622700065374,-0.002107585314661,-0.070795200765133,-0.062389701604843,0.059344451874495,-0.060205616056919,0.050743211060762,-0.001037546084262,0.072086378931999,0.031108904629946,0.292644411325455,0.039938844740391,-0.086126498878002,0.090415947139263,-0.015505432151258));
res += mul(Get(s1,0,-dy), float4x4(0.035636626183987,0.059515722095966,-0.089483469724655,-0.026218526065350,-0.032160639762878,-0.021900810301304,0.031799960881472,0.077586896717548,-0.103711247444153,0.017911298200488,0.013101925142109,0.122188597917557,0.028885325416923,-0.056631896644831,0.021985128521919,0.053325176239014));
res += mul(Get(s1,0,0), float4x4(0.092320129275322,-0.076349794864655,0.022571366280317,0.128531828522682,0.007582558318973,0.001686386181973,-0.039595913141966,-0.081551238894463,-0.012751729227602,0.028464935719967,-0.056044608354568,-0.027199083939195,0.165007472038269,-0.025994807481766,0.117950432002544,0.094272345304489));
res += mul(Get(s1,0,dy), float4x4(0.011758387088776,0.004210396669805,-0.037618491798639,-0.001277752220631,0.009616788476706,0.023146880790591,-0.001494347350672,-0.001282013254240,-0.013997448608279,0.093952655792236,-0.013860116712749,0.037253752350807,-0.034199934452772,-0.073955431580544,0.115989081561565,0.018089110031724));
res += mul(Get(s1,dx,-dy), float4x4(0.161043152213097,0.000902818515897,-0.039728224277496,0.010988126508892,0.047433651983738,0.056308306753635,0.087161459028721,0.030377896502614,-0.012103860266507,0.084629870951176,0.012562794610858,0.108126886188984,-0.084312297403812,0.014665163122118,0.112439446151257,0.030954064801335));
res += mul(Get(s1,dx,0), float4x4(0.280077248811722,-0.045563329011202,0.054464105516672,0.017471589148045,0.048923023045063,-0.049987148493528,-0.019540257751942,-0.000160502706422,0.032201912254095,-0.047348119318485,-0.093643739819527,0.066783472895622,0.029806477949023,-0.052484072744846,0.048682037740946,-0.012438434176147));
res += mul(Get(s1,dx,dy), float4x4(0.125177741050720,0.030603371560574,0.028132257983088,0.001141077140346,0.070240497589111,0.098667860031128,-0.001753866556101,-0.043005391955376,-0.031520131975412,0.058904867619276,-0.097233109176159,0.010892963968217,0.002384703839198,-0.045539584010839,-0.020762784406543,0.045167244970798));
res += mul(Get(s2,-dx,-dy), float4x4(0.015087728388608,0.032054454088211,0.104621984064579,-0.023561473935843,-0.177597627043724,-0.008528856560588,0.036134265363216,0.031569872051477,0.136548280715942,-0.122771009802818,-0.050502598285675,0.002840469824150,-0.246244639158249,-0.040573194622993,-0.076448716223240,0.011824909597635));
res += mul(Get(s2,-dx,0), float4x4(0.064548715949059,-0.055943220853806,0.091545455157757,-0.019047841429710,-0.141717240214348,-0.070879213511944,-0.056637365370989,0.160817727446556,0.019766015931964,-0.052915241569281,-0.066590867936611,0.189191192388535,-0.108372181653976,-0.125156462192535,0.001321305986494,0.052458934485912));
res += mul(Get(s2,-dx,dy), float4x4(0.018685577437282,0.142144531011581,0.122429117560387,-0.044292375445366,-0.141694620251656,0.007764412090182,-0.073654785752296,-0.029876921325922,-0.038939554244280,-0.147356435656548,0.021426517516375,0.090182885527611,-0.065931282937527,-0.057466130703688,0.056502930819988,0.028767306357622));
res += mul(Get(s2,0,-dy), float4x4(0.052676562219858,0.070052057504654,0.046928137540817,0.060540426522493,0.006411322392523,0.038239646703005,-0.000823494396172,-0.106042578816414,-0.005396736785769,0.038372084498405,-0.019380869343877,-0.158993095159531,-0.155817076563835,-0.006480010692030,-0.008017148822546,-0.062148869037628));
res += mul(Get(s2,0,0), float4x4(-0.003648303914815,-0.026033967733383,-0.002724312478676,-0.076038368046284,0.091933555901051,-0.125847056508064,-0.023733887821436,-0.048569295555353,0.077398806810379,0.073952250182629,-0.010784686543047,-0.080222994089127,-0.071601390838623,-0.019850041717291,0.042165875434875,0.057845670729876));
res += mul(Get(s2,0,dy), float4x4(-0.009500075131655,0.103644296526909,-0.038200899958611,-0.005906993057579,-0.057624533772469,-0.107010871171951,-0.032702647149563,0.174177676439285,-0.057151421904564,-0.140049815177917,0.044073764234781,0.075214006006718,0.026212226599455,0.132200032472610,0.007281533442438,0.030381787568331));
res += mul(Get(s2,dx,-dy), float4x4(0.112573973834515,-0.096599668264389,0.016356246545911,0.099131725728512,-0.060555495321751,0.096849255263805,-0.024356890469790,-0.060673698782921,-0.077734597027302,0.108310952782631,-0.072731629014015,-0.132148623466492,-0.053866982460022,-0.028913695365191,-0.005831681191921,-0.170707106590271));
res += mul(Get(s2,dx,0), float4x4(-0.065301954746246,0.036171168088913,-0.145185038447380,-0.034087579697371,-0.012386948801577,0.084585137665272,-0.039080016314983,-0.159913077950478,0.026964969933033,0.013405744917691,-0.020654264837503,-0.174532249569893,-0.037049155682325,-0.030769649893045,0.016435341909528,-0.002717693103477));
res += mul(Get(s2,dx,dy), float4x4(0.128299713134766,0.013048769906163,-0.044701159000397,-0.055384028702974,0.068978786468506,-0.005989064462483,0.022136254236102,-0.006229510530829,0.166318893432617,-0.041776128113270,0.020266739651561,-0.022050855681300,-0.012110828422010,0.030129197984934,-0.003082694252953,0.043399706482887));
res += mul(Get(s3,-dx,-dy), float4x4(-0.055578708648682,-0.089690409600735,0.079616539180279,-0.055301800370216,0.016579786315560,-0.049231581389904,-0.066465385258198,0.068907268345356,0.015171715058386,0.066041886806488,0.121503397822380,-0.004647111054510,-0.007540595717728,0.066654659807682,-0.057331383228302,-0.086766228079796));
res += mul(Get(s3,-dx,0), float4x4(0.009419982321560,-0.164265021681786,-0.072092197835445,-0.089875422418118,-0.047015648335218,-0.127127185463905,-0.121280819177628,-0.028154175728559,-0.049033612012863,-0.030255820602179,0.061878185719252,0.019785821437836,-0.010075199417770,0.050238572061062,-0.052382551133633,-0.111220784485340));
res += mul(Get(s3,-dx,dy), float4x4(-0.078931778669357,-0.060581933706999,-0.031860139220953,0.037627600133419,-0.006496257614344,0.020193269476295,-0.054665595293045,0.011188549920917,0.009199702180922,0.102971479296684,-0.017199151217937,0.087848536670208,-0.052643503993750,0.020718159154058,-0.041813403367996,0.038070973008871));
res += mul(Get(s3,0,-dy), float4x4(-0.172516256570816,-0.036062255501747,0.051436509937048,0.029246976599097,0.291663736104965,0.049689631909132,0.037091005593538,0.074500888586044,0.008057742379606,0.057269338518381,0.059273485094309,0.022284856066108,-0.059071224182844,0.003003795864061,-0.013508193194866,-0.035826861858368));
res += mul(Get(s3,0,0), float4x4(-0.051386047154665,0.074290283024311,0.048107445240021,-0.069650128483772,0.055067252367735,0.145134523510933,0.019404629245400,-0.289434552192688,0.002126277191564,0.007672785781324,0.065198816359043,-0.005583907477558,-0.056391485035419,0.051796019077301,-0.005164361093193,-0.034182056784630));
res += mul(Get(s3,0,dy), float4x4(0.002107208129019,0.032898548990488,0.054523784667253,-0.028423478826880,0.071571335196495,0.053985100239515,0.002250419696793,-0.117503523826599,0.034088049083948,-0.002312217606232,0.009241572581232,0.073609240353107,-0.056347191333771,-0.059880562126637,0.046194158494473,0.020070668309927));
res += mul(Get(s3,dx,-dy), float4x4(0.009366318583488,-0.162302866578102,0.053074587136507,-0.023574497550726,0.082406021654606,-0.075587548315525,-0.007605868857354,0.012244089506567,-0.092778414487839,0.094277076423168,0.025574544444680,0.041093181818724,-0.037059556692839,-0.007297392003238,-0.015414257533848,-0.050527390092611));
res += mul(Get(s3,dx,0), float4x4(0.023176304996014,-0.069943495094776,0.037610910832882,-0.085831880569458,-0.062871620059013,0.027274612337351,0.011114160530269,0.005868945270777,-0.026784371584654,0.152832433581352,0.013191223144531,-0.035074710845947,-0.055959314107895,0.023269016295671,0.073305010795593,-0.071178674697876));
res += mul(Get(s3,dx,dy), float4x4(-0.044804409146309,-0.019162483513355,0.015387529507279,-0.073325365781784,0.095250368118286,-0.039350576698780,0.045814178884029,-0.125247001647949,0.036447431892157,0.035529155284166,-0.016060596331954,0.045218534767628,-0.043460045009851,-0.064200960099697,0.017790462821722,-0.042129721492529));
return max(float4(0,0,0,0), res);
}
