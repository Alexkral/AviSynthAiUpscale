sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.084748223423958,0.020208274945617,0.101494483649731,0.008467592298985,-0.078242331743240,0.026087764650583,-0.081687159836292,0.039984721690416,0.025162346661091,-0.008362901397049,0.132365077733994,0.029317162930965,-0.011054286733270,0.070469126105309,-0.054937645792961,0.056618835777044));
res += mul(Get(s0,-dx,0), float4x4(-0.036286644637585,-0.087814413011074,0.021418659016490,-0.086569622159004,0.141830697655678,-0.039032697677612,0.015966214239597,-0.019539190456271,-0.030089667066932,-0.049971509724855,0.091587044298649,-0.054791547358036,-0.109644383192062,0.022904451936483,0.019675344228745,-0.015473247505724));
res += mul(Get(s0,-dx,dy), float4x4(-0.003947569057345,-0.058818463236094,0.071540012955666,0.037715408951044,-0.059865605086088,0.020512057468295,-0.058436274528503,-0.003300508251414,0.003157529979944,-0.086153842508793,-0.062216829508543,0.016432374715805,-0.015329896472394,-0.017793646082282,-0.001971800345927,0.025529522448778));
res += mul(Get(s0,0,-dy), float4x4(-0.043993122875690,-0.044881936162710,-0.075058206915855,-0.008527196012437,-0.044424649327993,-0.019734146073461,0.029762603342533,-0.024953436106443,-0.016281958669424,-0.002731931395829,0.101008862257004,-0.024291655048728,-0.056370366364717,0.024879010394216,0.068161904811859,0.031400721520185));
res += mul(Get(s0,0,0), float4x4(-0.018269434571266,-0.062879405915737,0.055500935763121,-0.082435905933380,0.030238403007388,-0.086619406938553,-0.063720598816872,-0.022436980158091,-0.015264174900949,-0.028057932853699,-0.029589312151074,-0.010001583956182,-0.025135865435004,0.118127644062042,0.007866612635553,-0.087923258543015));
res += mul(Get(s0,0,dy), float4x4(-0.058732666075230,0.081436924636364,-0.045825727283955,-0.181981191039085,0.042201835662127,-0.044082507491112,-0.001439880812541,0.068059764802456,-0.044380020350218,-0.131053373217583,-0.102329038083553,0.090210832655430,-0.122863784432411,0.090023413300514,0.052355177700520,0.012633653357625));
res += mul(Get(s0,dx,-dy), float4x4(-0.037413723766804,-0.030141722410917,-0.006512300577015,-0.022565823048353,0.040134783834219,-0.013162522576749,-0.058401934802532,0.074190922081470,0.001688760938123,0.041916392743587,0.025943716987967,0.000847347080708,0.009936109185219,-0.076739668846130,-0.026727426797152,0.002809295430779));
res += mul(Get(s0,dx,0), float4x4(0.221273213624954,0.004322411026806,-0.056675888597965,0.121524818241596,-0.050382774323225,0.033942211419344,0.012842703610659,0.008172615431249,0.042676314711571,-0.059235215187073,-0.052798960357904,-0.013170669786632,0.071839280426502,-0.056620892137289,-0.040969721972942,-0.048216525465250));
res += mul(Get(s0,dx,dy), float4x4(0.105903267860413,0.077101640403271,-0.033029172569513,-0.080621615052223,-0.011220746673644,-0.042085386812687,-0.017887147143483,0.013021690770984,-0.018155772238970,-0.128731697797775,0.038328312337399,-0.020755235105753,0.011328312568367,-0.066918440163136,-0.007871580310166,0.006289189215750));
res += mul(Get(s1,-dx,-dy), float4x4(0.039083823561668,0.050107046961784,0.101382069289684,-0.065098911523819,-0.033420275896788,-0.016018666327000,-0.019476838409901,-0.060928247869015,-0.034635547548532,-0.037443809211254,0.129571333527565,-0.044348280876875,0.023093184456229,0.029345059767365,-0.175732716917992,-0.002768940757960));
res += mul(Get(s1,-dx,0), float4x4(-0.063014745712280,-0.154955521225929,0.141786441206932,-0.082534581422806,-0.069606572389603,-0.033174574375153,0.087188407778740,-0.076598003506660,0.070329032838345,-0.038971908390522,0.169124528765678,-0.003950233571231,0.041629444807768,0.070718020200729,-0.054044201970100,0.009062058292329));
res += mul(Get(s1,-dx,dy), float4x4(0.001570805558003,-0.064469613134861,0.126019567251205,0.065734758973122,0.025608902797103,0.045891556888819,0.114387750625610,-0.074793078005314,0.027272326871753,-0.056154541671276,0.018106287345290,-0.056207321584225,-0.110119387507439,-0.052271075546741,0.192554175853729,-0.065728507936001));
res += mul(Get(s1,0,-dy), float4x4(0.021109322085977,-0.128794044256210,-0.116911955177784,0.031723216176033,0.031994234770536,0.038836702704430,0.023845244199038,0.010453091003001,-0.070057637989521,-0.025296472012997,-0.042811550199986,-0.028747539967299,-0.138877451419830,-0.056136935949326,0.001304530422203,-0.018531909212470));
res += mul(Get(s1,0,0), float4x4(-0.082460664212704,0.112427353858948,-0.045464627444744,-0.094774127006531,0.062789246439934,0.082944683730602,0.030462712049484,-0.053997993469238,-0.119319833815098,0.013800368644297,0.129111900925636,-0.077801533043385,0.021046610549092,0.073129422962666,0.028835967183113,0.008770390413702));
res += mul(Get(s1,0,dy), float4x4(-0.076831638813019,0.133421435952187,0.038431379944086,-0.032967612147331,-0.022192239761353,0.027486424893141,0.036909408867359,-0.039092015475035,-0.083956211805344,-0.102110587060452,0.099550791084766,-0.054522331804037,-0.128916189074516,0.064303271472454,0.152502566576004,-0.067244775593281));
res += mul(Get(s1,dx,-dy), float4x4(0.181246340274811,-0.212367758154869,-0.141379743814468,-0.041818048804998,-0.062898740172386,0.026207514107227,-0.005237167235464,-0.005851232912391,0.027012553066015,-0.029126768931746,-0.112817175686359,-0.041911449283361,0.061855856329203,0.029297856613994,0.079617820680141,0.044058065861464));
res += mul(Get(s1,dx,0), float4x4(0.073219932615757,0.107252798974514,-0.130357131361961,-0.148025393486023,-0.049987278878689,0.009949848987162,0.036108702421188,-0.065148204565048,-0.097221478819847,0.076070375740528,-0.000049190242862,-0.041621223092079,0.003545906627551,-0.074318908154964,-0.004919024184346,0.005932366941124));
res += mul(Get(s1,dx,dy), float4x4(-0.010838493704796,0.187309056520462,-0.214718163013458,0.065077058970928,0.028931602835655,-0.092810779809952,0.001811563270167,0.023041654378176,-0.039821799844503,0.043487623333931,-0.081312023103237,0.013030776754022,-0.013921460136771,-0.052548505365849,-0.046175997704268,-0.030272886157036));
res += mul(Get(s2,-dx,-dy), float4x4(-0.047898307442665,-0.058100417256355,-0.015853509306908,0.022170983254910,-0.005214356817305,0.101929992437363,0.038645800203085,-0.099930673837662,0.008727265521884,-0.008464695885777,0.012245425954461,0.050463169813156,0.036574997007847,-0.079091966152191,-0.040986463427544,0.142603501677513));
res += mul(Get(s2,-dx,0), float4x4(0.018595842644572,-0.015279319137335,0.014616350643337,0.037115760147572,-0.093090221285820,0.019523855298758,-0.012502108700573,0.062832385301590,-0.063874721527100,-0.004543913528323,0.010306576266885,0.116135068237782,0.055576540529728,-0.008378787897527,-0.007378960959613,0.103828713297844));
res += mul(Get(s2,-dx,dy), float4x4(-0.017832754179835,-0.093892157077789,0.022052828222513,0.017861638218164,-0.041545085608959,-0.049943190068007,-0.028390027582645,0.104401156306267,0.023982511833310,-0.078752540051937,-0.008233522064984,0.073896467685699,-0.026294631883502,0.097057759761810,-0.030444012954831,-0.060230351984501));
res += mul(Get(s2,0,-dy), float4x4(-0.023171264678240,0.063701629638672,-0.021958932280540,-0.017114473506808,-0.037897452712059,0.089106105268002,0.027675729244947,0.021135697141290,-0.023437336087227,0.045026727020741,0.055174093693495,-0.005947256460786,0.043085839599371,0.002124747959897,0.075287163257599,-0.071891769766808));
res += mul(Get(s2,0,0), float4x4(-0.060714580118656,0.029915135353804,-0.035866890102625,-0.076396882534027,-0.033617842942476,-0.026933168992400,-0.176172450184822,0.053657267242670,-0.020942430943251,0.007351232226938,0.072066575288773,-0.055299233645201,0.145479023456573,-0.004397642333061,-0.051460236310959,-0.047927446663380));
res += mul(Get(s2,0,dy), float4x4(0.054212864488363,0.060715954750776,-0.006477861199528,0.054348092526197,0.192343309521675,-0.047586858272552,-0.091129682958126,0.250382870435715,-0.021207192912698,0.029307594522834,-0.070205502212048,0.012916516512632,-0.119368441402912,0.059083245694637,-0.000628868292551,0.007828257046640));
res += mul(Get(s2,dx,-dy), float4x4(-0.015920152887702,0.031821772456169,-0.100132912397385,-0.121664464473724,0.125357002019882,0.036112882196903,0.166093364357948,-0.133710026741028,0.056924961507320,-0.004424215760082,0.116197481751442,-0.002032712800428,0.037408467382193,0.043486949056387,-0.027209080755711,0.042763315141201));
res += mul(Get(s2,dx,0), float4x4(0.045688804239035,0.101366579532623,-0.021512286737561,-0.046033874154091,-0.199355363845825,-0.047738935798407,-0.060541559010744,-0.062840215861797,-0.033031228929758,-0.023430002853274,0.133517369627953,0.027265708893538,-0.054691895842552,-0.082681670784950,0.013795929029584,0.032673098146915));
res += mul(Get(s2,dx,dy), float4x4(-0.048149473965168,-0.045264333486557,-0.087999090552330,0.042457304894924,0.133337676525116,-0.025064984336495,-0.168722227215767,-0.003754750825465,0.031708057969809,-0.004441587254405,0.037992961704731,0.018016556277871,-0.026404120028019,-0.012708794325590,0.004599581006914,0.001106720068492));
res += mul(Get(s3,-dx,-dy), float4x4(0.042799793183804,-0.030909799039364,-0.226443976163864,-0.091175176203251,0.021047106012702,-0.029486050829291,-0.043580546975136,-0.001575187779963,-0.078379094600677,0.078413650393486,-0.016883740201592,0.004771275445819,0.103421978652477,0.005464959423989,-0.113854810595512,0.071615822613239));
res += mul(Get(s3,-dx,0), float4x4(0.169666096568108,0.062736645340919,-0.145667061209679,-0.001910437829792,0.026674209162593,-0.043270193040371,-0.015532618388534,-0.006034241057932,0.028032498434186,0.071153104305267,-0.057092517614365,0.012410151772201,0.120878241956234,0.076842047274113,-0.019054910168052,0.057772219181061));
res += mul(Get(s3,-dx,dy), float4x4(0.028334498405457,0.287686973810196,-0.029244838282466,0.038033749908209,0.053928561508656,-0.029702508822083,-0.033610325306654,-0.041267193853855,-0.018550418317318,0.000580442894716,-0.068904556334019,0.034433163702488,-0.153187707066536,0.010973891243339,0.036951854825020,0.058622792363167));
res += mul(Get(s3,0,-dy), float4x4(-0.016507782042027,0.078165844082832,0.053697206079960,-0.032927956432104,0.024326320737600,-0.076665960252285,0.037044063210487,0.009569780901074,0.098531603813171,0.023055801168084,0.020213393494487,0.052327208220959,0.101159214973450,-0.034603979438543,-0.047272492200136,0.012442434206605));
res += mul(Get(s3,0,0), float4x4(0.011093375273049,-0.113598421216011,-0.026634596288204,-0.017959276214242,0.049424298107624,-0.016285413876176,-0.041420970112085,-0.005037299357355,0.015606778673828,0.075686298310757,-0.045535918325186,-0.045037969946861,-0.102545157074928,0.000955211231485,0.063402205705643,-0.056382186710835));
res += mul(Get(s3,0,dy), float4x4(-0.232562586665154,-0.012372339144349,0.051598731428385,0.088328354060650,0.083852484822273,0.101917624473572,-0.016525009647012,-0.048363417387009,-0.007830207236111,-0.007838562130928,0.025376813486218,0.012599729932845,0.064890176057816,-0.048687022179365,-0.121758699417114,-0.037848979234695));
res += mul(Get(s3,dx,-dy), float4x4(0.180544316768646,0.005301319994032,0.117661140859127,-0.025567842647433,-0.072429299354553,-0.083426050841808,0.053603231906891,-0.006945297122002,0.019777595996857,-0.020561056211591,-0.064774446189404,-0.008917099796236,0.093801900744438,-0.068084396421909,0.047232683748007,-0.034865248948336));
res += mul(Get(s3,dx,0), float4x4(-0.038254514336586,-0.215197250247002,-0.036509245634079,-0.146914511919022,-0.008972078561783,0.114075385034084,-0.085822798311710,0.079863622784615,0.033100977540016,-0.017220456153154,0.034533806145191,-0.036067295819521,-0.109499305486679,0.165929019451141,0.035643819719553,-0.020101048052311));
res += mul(Get(s3,dx,dy), float4x4(-0.067121386528015,0.030700700357556,0.049597974866629,0.103593803942204,0.018615590408444,-0.077666237950325,0.072622112929821,-0.072497606277466,-0.089513018727303,0.008689724840224,-0.042483158409595,0.008394374512136,0.037608813494444,-0.004949738271534,-0.073340311646461,-0.125320121645927));
return max(float4(0,0,0,0), res);
}
