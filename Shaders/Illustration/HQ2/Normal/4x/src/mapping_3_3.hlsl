sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.013975266367197,0.009628273546696,0.176756575703621,-0.082602202892303,-0.007320570759475,-0.044206738471985,0.015895260497928,-0.061541128903627,-0.087122164666653,0.056564342230558,-0.062961466610432,-0.002999227726832,0.157567918300629,0.019326200708747,-0.015548044815660,0.012341507710516));
res += mul(Get(s0,-dx,0), float4x4(-0.017452800646424,0.091605991125107,0.008785303682089,-0.099247865378857,-0.055736374109983,-0.062914192676544,-0.045263692736626,0.058886278420687,0.011237525381148,-0.002626395085827,-0.016681130975485,-0.072410598397255,0.031801920384169,-0.028799876570702,0.044104740023613,0.045938909053802));
res += mul(Get(s0,-dx,dy), float4x4(-0.052505392581224,-0.011517703533173,0.023571798577905,0.208092048764229,-0.063867047429085,-0.069692976772785,-0.122866533696651,-0.071288451552391,-0.018315762281418,-0.074354395270348,-0.080290488898754,-0.115794114768505,0.068562746047974,-0.003253788454458,-0.010840659961104,0.010309440083802));
res += mul(Get(s0,0,-dy), float4x4(-0.088739931583405,0.077964469790459,0.049675293266773,-0.031503278762102,0.054364576935768,-0.015324704349041,0.165834367275238,0.018230462446809,0.039305001497269,0.003446185495704,-0.003230073722079,0.129192993044853,0.159714594483376,-0.001550583983772,-0.084988653659821,0.087602637708187));
res += mul(Get(s0,0,0), float4x4(-0.139994502067566,0.157907292246819,0.142211258411407,0.069159887731075,-0.003950055688620,-0.054904326796532,-0.240887925028801,0.261843740940094,0.115110069513321,0.028037661686540,-0.041306998580694,-0.031094426289201,-0.117006316781044,0.006470507942140,-0.097394786775112,0.058854337781668));
res += mul(Get(s0,0,dy), float4x4(-0.070022024214268,-0.055733233690262,0.043295077979565,0.086850337684155,-0.152248725295067,0.047630768269300,-0.153898388147354,-0.035387497395277,-0.024203071370721,-0.029685942456126,-0.075902454555035,-0.054769024252892,0.019805084913969,0.012577688321471,-0.066825851798058,0.006667971145362));
res += mul(Get(s0,dx,-dy), float4x4(-0.031155159696937,-0.060440443456173,-0.079205833375454,-0.088475421071053,0.158028110861778,0.120351508259773,0.167382016777992,-0.027409886941314,0.054739311337471,-0.018118452280760,0.035861067473888,0.017135156318545,0.103895798325539,0.012069999240339,-0.056369591504335,0.041003987193108));
res += mul(Get(s0,dx,0), float4x4(0.019797427579761,-0.108324199914932,0.046355072408915,0.032050121575594,0.094973064959049,0.050195142626762,0.115855902433395,-0.024678489193320,0.039879981428385,-0.027957959100604,0.030061556026340,0.053487613797188,0.038724426180124,-0.008067448623478,-0.017055194824934,0.015787778422236));
res += mul(Get(s0,dx,dy), float4x4(0.211567655205727,-0.061087671667337,-0.019556812942028,0.136567562818527,0.060889553278685,0.010612550191581,-0.054946489632130,-0.012119264341891,0.062022302299738,-0.033481899648905,-0.034758906811476,-0.029047839343548,0.112076289951801,0.000196449516807,-0.070710286498070,0.046445749700069));
res += mul(Get(s1,-dx,-dy), float4x4(-0.015920501202345,0.068822443485260,0.064398571848869,0.154847636818886,0.159797951579094,0.032481461763382,0.094523876905441,-0.043917305767536,-0.197863385081291,0.011660822667181,-0.066529318690300,-0.051228769123554,-0.063369646668434,0.042578291147947,0.084005109965801,0.082113131880760));
res += mul(Get(s1,-dx,0), float4x4(-0.057533510029316,-0.052135229110718,-0.064773641526699,0.119682662189007,0.119329929351807,-0.156535655260086,-0.085766188800335,0.103905968368053,-0.022271716967225,0.171347141265869,-0.122959494590759,-0.043038301169872,0.041900333017111,0.110378295183182,0.123297996819019,0.170822829008102));
res += mul(Get(s1,-dx,dy), float4x4(-0.116500571370125,0.034399569034576,-0.057955592870712,0.032692901790142,-0.012014388106763,-0.123415455222130,0.050200581550598,0.027846368029714,-0.104374110698700,0.074248656630516,-0.087149672210217,-0.142622619867325,-0.075151205062866,0.040235415101051,-0.016832470893860,-0.077963620424271));
res += mul(Get(s1,0,-dy), float4x4(-0.097975321114063,0.018240161240101,-0.081741660833359,0.077765561640263,0.076054379343987,0.030411163344979,0.081701584160328,0.035432271659374,-0.156182691454887,-0.042272936552763,-0.035123195499182,-0.077165216207504,0.051249410957098,-0.050347216427326,-0.024325652047992,0.138367190957069));
res += mul(Get(s1,0,0), float4x4(-0.012732842937112,-0.061563149094582,-0.073452375829220,0.023270592093468,0.032496079802513,-0.014504389837384,0.082233339548111,-0.193920701742172,-0.178078725934029,0.133514180779457,-0.008953396230936,-0.031749136745930,-0.072615511715412,-0.059859961271286,0.056901600211859,-0.089740246534348));
res += mul(Get(s1,0,dy), float4x4(0.008839576505125,-0.125026658177376,-0.068076163530350,-0.176048889756203,0.049476891756058,-0.043789979070425,-0.122660174965858,0.168249532580376,-0.185311391949654,0.139151796698570,-0.012287324294448,-0.019954916089773,-0.059547450393438,-0.012153479270637,-0.124276727437973,-0.141189515590668));
res += mul(Get(s1,dx,-dy), float4x4(-0.090316198766232,-0.003078712616116,-0.052753191441298,-0.025951184332371,-0.039999227970839,-0.068330042064190,-0.007028493098915,-0.002895146608353,-0.049877643585205,-0.004554689396173,0.160708412528038,-0.024056078866124,0.113295361399651,-0.064984135329723,0.056248325854540,-0.048978958278894));
res += mul(Get(s1,dx,0), float4x4(0.003828748129308,-0.163514554500580,-0.099506072700024,0.073808215558529,-0.031241701915860,0.130923628807068,0.031110096722841,-0.126701056957245,-0.098947256803513,0.092339299619198,0.059893563389778,-0.023434635251760,0.003226995700970,-0.046193495392799,0.005235715303570,-0.033680543303490));
res += mul(Get(s1,dx,dy), float4x4(0.040750917047262,-0.054470881819725,-0.085410356521606,-0.051796507090330,0.065188139677048,0.035966973751783,0.083139084279537,0.124491117894650,-0.026652138680220,0.106007508933544,-0.022483445703983,0.060774385929108,0.148007884621620,0.029911363497376,0.048807621002197,-0.033971857279539));
res += mul(Get(s2,-dx,-dy), float4x4(0.044211875647306,-0.118143379688263,-0.058636140078306,0.033419683575630,-0.042268354445696,-0.046535562723875,-0.024434639140964,0.017685016617179,0.032304402440786,-0.045386619865894,0.044891983270645,0.010139683261514,0.010806498117745,0.025673113763332,0.013178921304643,-0.066123068332672));
res += mul(Get(s2,-dx,0), float4x4(0.077335089445114,-0.129445239901543,-0.042746026068926,-0.017076004296541,-0.016163775697351,-0.033216502517462,-0.047172348946333,-0.054788950830698,0.074052557349205,0.010720294900239,0.010520681738853,0.110821545124054,-0.009591753594577,0.139212012290955,0.148666068911552,-0.163916915655136));
res += mul(Get(s2,-dx,dy), float4x4(-0.005741466768086,-0.034315831959248,-0.183863297104836,-0.096884727478027,0.071866683661938,-0.038872964680195,0.013977537862957,-0.015531450510025,0.093444764614105,0.096268519759178,0.000735204608645,-0.033304795622826,0.116328924894333,-0.004574330057949,0.033636607229710,0.006262540351599));
res += mul(Get(s2,0,-dy), float4x4(0.015553262084723,-0.091373570263386,0.003082847688347,-0.031095635145903,0.071433782577515,-0.051644582301378,0.021677825599909,0.030153205618262,0.099763229489326,0.020188486203551,0.041607700288296,0.016527129337192,0.061425950378180,0.037602894008160,0.167316809296608,-0.112915091216564));
res += mul(Get(s2,0,0), float4x4(0.021703159436584,-0.012546283192933,-0.010666018351912,-0.012061976827681,0.040268711745739,0.013670924119651,-0.031441211700439,0.026441324502230,0.140930235385895,0.070582553744316,-0.138156011700630,0.010243664495647,-0.007623829413205,-0.047295220196247,-0.162965714931488,0.035955604165792));
res += mul(Get(s2,0,dy), float4x4(0.105686500668526,-0.007532014045864,-0.136882707476616,0.011645925231278,0.097661495208740,-0.050958767533302,0.063639312982559,0.024763161316514,0.000337103323545,0.063583761453629,-0.026878932490945,-0.053958415985107,-0.070240274071693,-0.051801256835461,0.238344907760620,0.198272660374641));
res += mul(Get(s2,dx,-dy), float4x4(0.087603144347668,-0.150913313031197,0.032555140554905,0.076499484479427,0.044034879654646,-0.057985588908195,0.012467443011701,0.023562222719193,0.024636384099722,0.061085518449545,0.012191182933748,0.025769989937544,-0.062241788953543,0.076271064579487,0.201594188809395,-0.081930965185165));
res += mul(Get(s2,dx,0), float4x4(0.115477249026299,-0.039793428033590,0.034369327127934,-0.024823319166899,0.050066500902176,-0.035132329910994,-0.023029614239931,0.054496906697750,0.021931832656264,-0.051744598895311,-0.089485324919224,-0.052994579076767,-0.071091353893280,0.013013808988035,0.054796289652586,-0.132168501615524));
res += mul(Get(s2,dx,dy), float4x4(0.099082753062248,-0.029249403625727,-0.100777484476566,0.053589146584272,0.055769272148609,-0.036356065422297,0.125556915998459,0.120786115527153,-0.022390794008970,-0.026252964511514,-0.085664957761765,-0.162090703845024,-0.058671969920397,-0.143097147345543,-0.074427723884583,0.116813406348228));
res += mul(Get(s3,-dx,-dy), float4x4(0.037805542349815,-0.020660530775785,0.014508556574583,-0.007503432221711,-0.062911517918110,-0.016609668731689,-0.123665317893028,-0.021761110052466,0.016975359991193,0.132605940103531,-0.061756204813719,0.094812482595444,-0.002547863638029,-0.022694958373904,0.008246351964772,0.031304616481066));
res += mul(Get(s3,-dx,0), float4x4(0.018675763159990,0.024417990818620,0.027995338663459,-0.032861106097698,-0.108936809003353,0.031003406271338,-0.032047312706709,-0.119948454201221,0.068525344133377,-0.169690415263176,-0.025417489930987,-0.006701252888888,0.026840217411518,-0.063712410628796,-0.026103103533387,0.015808505937457));
res += mul(Get(s3,-dx,dy), float4x4(-0.013588666915894,-0.051842655986547,-0.054785970598459,0.018245531246066,-0.055134531110525,-0.011624101549387,0.012866715900600,-0.045384272933006,0.116324737668037,-0.053809478878975,-0.051204591989517,-0.086784467101097,0.015085865743458,-0.006238908506930,0.024102335795760,-0.000354801653884));
res += mul(Get(s3,0,-dy), float4x4(0.064316831529140,-0.002350898459554,0.028051679953933,0.000017443548131,0.060966081917286,0.015354936942458,-0.032758004963398,-0.115299910306931,0.012255112640560,0.150951698422432,-0.012043969705701,0.019564155489206,0.046122897416353,-0.023204097524285,0.051756739616394,0.017581364139915));
res += mul(Get(s3,0,0), float4x4(0.003381872083992,-0.055956576019526,0.028153274208307,-0.040493931621313,0.039316680282354,0.100514352321625,-0.078258924186230,-0.005934502463788,0.011704449541867,-0.088831096887589,-0.032291490584612,-0.090840220451355,0.015110291540623,-0.086764529347420,0.003418493550271,0.039657603949308));
res += mul(Get(s3,0,dy), float4x4(-0.011623702012002,-0.018048180267215,0.009446723386645,0.004525387659669,-0.026801669970155,0.039316985756159,0.055664271116257,0.041042625904083,0.051636423915625,-0.139556735754013,-0.142907708883286,-0.070226430892944,0.013862740248442,-0.078911677002907,0.017877290025353,-0.037753012031317));
res += mul(Get(s3,dx,-dy), float4x4(0.010402850806713,0.019578240811825,-0.034260354936123,-0.036173097789288,-0.020896382629871,-0.011282576248050,0.134573161602020,0.036240849643946,-0.030601250007749,0.010120546445251,0.009746288880706,-0.118404030799866,0.046254988759756,-0.037413846701384,-0.010117344558239,-0.000818646745756));
res += mul(Get(s3,dx,0), float4x4(0.007169498130679,-0.028157688677311,0.001173064694740,-0.010502180084586,-0.012494635768235,0.064429193735123,0.024485856294632,0.064052104949951,0.058137711137533,0.082317791879177,0.124320060014725,-0.113978505134583,-0.036797218024731,-0.000768211320974,0.044515073299408,0.021142017096281));
res += mul(Get(s3,dx,dy), float4x4(0.031619187444448,-0.014512617141008,0.011996079236269,0.009802602231503,-0.034476816654205,0.084315478801727,0.032717451453209,-0.053528092801571,0.053299549967051,0.002229062607512,0.002346156863496,0.091025874018669,-0.042168315500021,-0.007322852034122,0.016889402642846,-0.029330927878618));
return max(float4(0,0,0,0), res);
}
