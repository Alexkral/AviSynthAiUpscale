sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.001027485355735,-0.012412446551025,-0.080637805163860,-0.039125036448240,0.027133293449879,-0.047797698527575,0.015734689310193,-0.009757712483406,-0.050488293170929,0.056517928838730,0.029283320531249,0.035132776945829,0.105622656643391,-0.118490256369114,0.050452303141356,0.034468956291676));
res += mul(Get(s0,-dx,0), float4x4(0.051889337599277,-0.009014980867505,0.044868592172861,0.033563025295734,0.055255733430386,0.014099347405136,0.126293376088142,0.001310443389229,-0.024964664131403,0.063521489500999,0.006941787432879,0.093020074069500,0.194656595587730,0.023430939763784,0.036764416843653,0.013768494129181));
res += mul(Get(s0,-dx,dy), float4x4(-0.022040084004402,0.021778922528028,0.033634506165981,0.029815508052707,0.002037197817117,0.002322439337149,0.118066400289536,0.015472805127501,0.013959195464849,0.028649890795350,0.058464135974646,0.065207839012146,0.048968303948641,0.032206300646067,0.203910648822784,-0.007740077562630));
res += mul(Get(s0,0,-dy), float4x4(-0.034180544316769,-0.051976609975100,0.020814843475819,-0.053799588233232,-0.029497222974896,-0.032072007656097,-0.057744890451431,0.092674069106579,-0.054731972515583,0.066218338906765,0.003239357145503,-0.013640246354043,0.114875696599483,-0.056872379034758,-0.135382786393166,-0.043275933712721));
res += mul(Get(s0,0,0), float4x4(0.007428769487888,-0.061534199863672,0.105351425707340,-0.052709925919771,-0.071760825812817,0.017254794016480,0.003427979769185,0.184009626507759,0.016782429069281,0.040091197937727,-0.041910115629435,0.102360829710960,0.075177550315857,0.012298441492021,0.072721786797047,0.042915165424347));
res += mul(Get(s0,0,dy), float4x4(0.025470964610577,-0.039612818509340,-0.048023644834757,-0.039319202303886,0.033600196242332,0.009940717369318,-0.087165564298630,-0.032082438468933,-0.006077180150896,0.042717684060335,0.124585390090942,0.054891817271709,-0.152331247925758,-0.041359387338161,0.131961479783058,0.173472523689270));
res += mul(Get(s0,dx,-dy), float4x4(-0.050787247717381,0.005029001738876,0.022606544196606,-0.007119563408196,0.000117390372907,0.037483543157578,0.020388389006257,0.066350840032101,-0.010292726568878,0.057446237653494,-0.104481495916843,0.040735505521297,-0.019107673317194,-0.069392740726471,-0.040334574878216,0.073193594813347));
res += mul(Get(s0,dx,0), float4x4(0.027914689853787,-0.032285653054714,-0.000181892202818,-0.015014602802694,0.061644963920116,-0.018044875934720,-0.023329721763730,0.104092523455620,0.058497074991465,0.115067973732948,-0.008395004086196,0.134385034441948,-0.031155439093709,-0.017584349960089,-0.025151332840323,-0.072931393980980));
res += mul(Get(s0,dx,dy), float4x4(-0.012846737168729,0.001470399321988,-0.088959187269211,0.004349452909082,0.083837918937206,0.067670635879040,-0.095812931656837,0.059214539825916,0.020451495423913,0.025936184450984,0.104405798017979,0.089431948959827,-0.185893312096596,-0.009978133253753,0.025467349216342,-0.073641851544380));
res += mul(Get(s1,-dx,-dy), float4x4(0.072835125029087,-0.037139829248190,0.021097298711538,0.123731344938278,0.059349749237299,-0.017482468858361,-0.095660418272018,-0.034695733338594,-0.004840601701289,0.031378045678139,-0.001263658283278,0.047771692276001,-0.006623880472034,0.134909600019455,-0.060573216527700,0.068794719874859));
res += mul(Get(s1,-dx,0), float4x4(0.038591243326664,-0.022418271750212,0.082883298397064,0.098592743277550,0.082694649696350,-0.033471383154392,0.015697240829468,-0.036956842988729,0.026120748370886,-0.032290667295456,-0.078293658792973,0.040891014039516,-0.051240604370832,0.063660003244877,-0.001520487479866,0.007981371134520));
res += mul(Get(s1,-dx,dy), float4x4(-0.025807065889239,0.012673680670559,-0.034725174307823,0.091447331011295,-0.027358584105968,-0.026409074664116,0.018986832350492,0.024089079350233,-0.038272798061371,-0.007976499386132,0.040918674319983,-0.041447300463915,-0.101972989737988,0.007745605893433,-0.013598074205220,0.034806981682777));
res += mul(Get(s1,0,-dy), float4x4(0.002297710627317,-0.100765377283096,-0.055117506533861,-0.118316225707531,0.011860249564052,-0.029211195185781,-0.106870174407959,-0.044668700546026,0.046398352831602,0.036608956754208,-0.149278417229652,0.030617807060480,0.059442769736052,0.064874410629272,0.006716453470290,0.121213220059872));
res += mul(Get(s1,0,0), float4x4(0.033815696835518,-0.001150447526015,-0.035281773656607,-0.087930329144001,-0.010236866772175,-0.031385794281960,-0.071787014603615,-0.041554212570190,0.064076647162437,0.000589349307120,-0.119879402220249,0.058740932494402,0.003231762209907,0.131800055503845,-0.026112321764231,0.052490271627903));
res += mul(Get(s1,0,dy), float4x4(-0.059985022991896,-0.001780975144356,-0.052454665303230,-0.051454730331898,-0.013228133320808,-0.021705480292439,0.014339544810355,-0.011940254829824,-0.003649906720966,-0.012212187983096,0.021819896996021,-0.014994334429502,-0.014573423191905,0.025068750604987,-0.068419799208641,0.035374920815229));
res += mul(Get(s1,dx,-dy), float4x4(0.049166850745678,-0.042667441070080,-0.042038232088089,-0.042093090713024,0.151517733931541,0.039539083838463,-0.003063689917326,0.035100121051073,0.020666047930717,0.009621059522033,-0.066291138529778,-0.067488260567188,0.015600543469191,0.050508257001638,0.020143408328295,0.091115579009056));
res += mul(Get(s1,dx,0), float4x4(0.048157874494791,0.055955402553082,0.050379961729050,0.067294716835022,0.068923488259315,-0.031961303204298,0.001674095285125,-0.006496658083051,-0.028348146006465,-0.049561593681574,-0.067909084260464,-0.037383530288935,0.033527005463839,0.106387555599213,-0.071979857981205,0.077535472810268));
res += mul(Get(s1,dx,dy), float4x4(-0.004452091641724,0.050593782216311,0.019947560504079,0.040831588208675,0.017042566090822,-0.057411611080170,0.046191524714231,-0.042879723012447,0.051747225224972,-0.002135599264875,-0.087391331791878,-0.094472497701645,-0.003053314052522,0.038168083876371,-0.110434308648109,0.044365469366312));
res += mul(Get(s2,-dx,-dy), float4x4(-0.028547292575240,-0.031793713569641,0.049718577414751,0.006107777822763,-0.028243519365788,0.007539823185652,-0.035460006445646,0.053025595843792,0.044583551585674,-0.010166390798986,-0.107979200780392,0.006515822838992,-0.011514058336616,-0.023755222558975,0.062203384935856,0.052678328007460));
res += mul(Get(s2,-dx,0), float4x4(-0.075306668877602,0.011563642881811,-0.045573864132166,-0.108760833740234,0.116653792560101,0.087537042796612,-0.112436041235924,0.151294574141502,0.007727898191661,0.058386292308569,-0.064762465655804,0.003868781495839,0.010765953920782,-0.052327021956444,0.179780185222626,-0.086053617298603));
res += mul(Get(s2,-dx,dy), float4x4(-0.129567965865135,-0.031028760597110,0.132117107510567,-0.101100243628025,0.102355867624283,0.013926848769188,-0.026350179687142,0.067333124577999,0.028074810281396,-0.084465652704239,-0.027341783046722,-0.088578373193741,-0.015965070575476,-0.012695254758000,0.182524979114532,0.012640201486647));
res += mul(Get(s2,0,-dy), float4x4(-0.074405066668987,-0.115182913839817,0.066949956119061,-0.143260449171066,-0.048879928886890,-0.094395495951176,-0.061970800161362,-0.100228995084763,-0.000293031043839,0.003663049312308,-0.083705507218838,0.016427554190159,-0.031271416693926,0.025175778195262,0.066842399537563,0.072868451476097));
res += mul(Get(s2,0,0), float4x4(-0.067998133599758,-0.106732793152332,-0.019143858924508,-0.139586165547371,0.119969218969345,0.026615725830197,-0.139462068676949,-0.060795415192842,0.009059231728315,0.079479023814201,-0.089661315083504,-0.109287239611149,-0.082723416388035,-0.003449585987255,0.072158828377724,-0.017853315919638));
res += mul(Get(s2,0,dy), float4x4(-0.180141285061836,-0.119905829429626,0.046486403793097,-0.086411811411381,0.070452995598316,0.023970508947968,0.007501239422709,-0.027634343132377,0.106968715786934,-0.006061368156224,-0.003026512451470,-0.150405108928680,-0.069727204740047,-0.047988168895245,0.034237757325172,0.033749300986528));
res += mul(Get(s2,dx,-dy), float4x4(-0.053239371627569,-0.140015035867691,0.034620329737663,-0.055703837424517,-0.142358630895615,-0.105608329176903,-0.042898148298264,-0.152611255645752,-0.041778776794672,-0.016414031386375,0.032942023128271,0.030706711113453,0.044981919229031,0.101042903959751,0.076115474104881,0.106448642909527));
res += mul(Get(s2,dx,0), float4x4(-0.018813006579876,-0.151406198740005,-0.067153543233871,-0.137042000889778,-0.026481734588742,-0.078284479677677,0.072501175105572,-0.061277765780687,-0.055905263870955,0.056822955608368,0.130417987704277,-0.087974965572357,-0.040935892611742,-0.042456857860088,-0.072249546647072,-0.086903043091297));
res += mul(Get(s2,dx,dy), float4x4(-0.067061513662338,-0.158280014991760,0.007545372005552,-0.076656512916088,-0.146179467439651,0.065071269869804,0.068574614822865,-0.066940724849701,-0.122428178787231,0.086619302630424,0.072088897228241,-0.071790918707848,-0.058045435696840,-0.094137199223042,-0.007178598083556,-0.121947012841702));
res += mul(Get(s3,-dx,-dy), float4x4(0.082475036382675,-0.041232064366341,0.034222509711981,-0.007876295596361,-0.028891021385789,-0.045742508023977,0.020671941339970,-0.201223671436310,0.053121924400330,-0.012687070295215,-0.032230481505394,0.093302607536316,0.060993228107691,-0.035674002021551,0.085242293775082,0.002771359635517));
res += mul(Get(s3,-dx,0), float4x4(-0.003573206486180,-0.083897754549980,0.107493214309216,0.028753560036421,0.119675509631634,0.039107222110033,-0.023297686129808,-0.050193157047033,0.037518266588449,0.127916157245636,0.015440043993294,0.067644558846951,0.115613222122192,-0.022759441286325,-0.029100270941854,0.054286237806082));
res += mul(Get(s3,-dx,dy), float4x4(0.003067750949413,0.033803954720497,0.111269816756248,0.069925807416439,0.056680213660002,-0.025466790422797,-0.051512870937586,0.047811400145292,0.044343158602715,0.159193634986877,-0.026396503672004,0.056323893368244,0.007842972874641,-0.013834785670042,0.041904773563147,0.034439098089933));
res += mul(Get(s3,0,-dy), float4x4(-0.113139159977436,-0.012199305929244,-0.008486776612699,-0.106463350355625,-0.120168603956699,0.065035142004490,0.030878629535437,0.145992130041122,0.044205095618963,-0.074821740388870,-0.100618116557598,0.047259941697121,0.077268809080124,-0.016904203221202,0.007716161198914,-0.014656719751656));
res += mul(Get(s3,0,0), float4x4(-0.103597819805145,-0.020780749619007,-0.082499489188194,-0.079389885067940,-0.073660507798195,0.084998644888401,0.071002215147018,0.140150949358940,-0.008074230514467,-0.071647897362709,-0.005396523512900,-0.014990255236626,0.068006776273251,-0.021795758977532,-0.055045209825039,0.020776771008968));
res += mul(Get(s3,0,dy), float4x4(0.031625732779503,0.098126336932182,-0.028612876310945,-0.034764338284731,-0.023397469893098,0.047956477850676,0.027836197987199,0.110503867268562,-0.024742204695940,0.058777716010809,-0.028039295226336,-0.046523276716471,0.063411444425583,-0.004389346577227,-0.035309005528688,0.010169740766287));
res += mul(Get(s3,dx,-dy), float4x4(-0.069535955786705,-0.023290915414691,-0.100057609379292,-0.105108052492142,-0.042646486312151,0.081244722008705,0.097046330571175,0.081767693161964,-0.066311120986938,-0.047540623694658,-0.034231290221214,-0.018650986254215,-0.026522569358349,-0.038647372275591,0.017471576109529,0.019738560542464));
res += mul(Get(s3,dx,0), float4x4(-0.051544364541769,0.024498194456100,-0.018020914867520,-0.036851678043604,-0.025326695293188,0.100286222994328,0.082703247666359,-0.066385611891747,0.038559194654226,-0.002952325157821,0.076299145817757,0.042128194123507,0.074793934822083,-0.031207202002406,-0.043772656470537,-0.018459156155586));
res += mul(Get(s3,dx,dy), float4x4(0.006084328982979,0.144067421555519,0.066122852265835,0.041987970471382,0.037014182657003,-0.000889899325557,-0.013533464632928,-0.031905192881823,0.030084272846580,0.027948319911957,-0.054030355066061,-0.007009650580585,0.065671257674694,0.039286445826292,-0.025905441492796,0.036512695252895));
return max(float4(0,0,0,0), res);
}
