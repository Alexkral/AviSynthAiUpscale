sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.113259844481945,-0.089861430227757,-0.044422771781683,-0.080254212021828,-0.004527707118541,-0.020512301474810,-0.033047277480364,0.063821740448475,0.058355621993542,0.036949917674065,-0.007421100977808,-0.024873116984963,-0.040542792528868,-0.023328917101026,-0.052600648254156,0.079819224774837));
res += mul(Get(s0,-dx,0), float4x4(-0.034132696688175,0.029892656952143,0.050299610942602,0.002079650061205,0.019455738365650,0.054054249078035,-0.058353472501040,0.030826056376100,-0.067229852080345,-0.088705606758595,0.017888689413667,-0.019355710595846,-0.037205263972282,-0.006618992891163,0.009796254336834,0.123924978077412));
res += mul(Get(s0,-dx,dy), float4x4(-0.012687174603343,0.074866190552711,0.001050792983733,-0.003093488514423,0.090426109731197,0.007638153620064,-0.051024779677391,-0.036945320665836,-0.069287739694118,-0.012873633764684,0.067296311259270,0.022246357053518,-0.001572155742906,-0.065983586013317,0.060341179370880,0.072146229445934));
res += mul(Get(s0,0,-dy), float4x4(0.051090557128191,0.115224689245224,0.031677924096584,0.064946144819260,0.030418025329709,0.005711576901376,0.084768734872341,0.060741472989321,0.031160712242126,-0.003473822493106,0.041338529437780,-0.020848637446761,0.003726003691554,0.004665064159781,0.032216034829617,-0.000549870135728));
res += mul(Get(s0,0,0), float4x4(-0.034001305699348,-0.053895398974419,0.048728339374065,-0.080720171332359,-0.049460172653198,0.041616149246693,-0.020868826657534,-0.050991438329220,0.004976291209459,0.005620621144772,-0.004925285466015,0.017565691843629,0.133438006043434,0.020897101610899,-0.004601025488228,0.005910984706134));
res += mul(Get(s0,0,dy), float4x4(-0.017219496890903,-0.020789301022887,-0.019903857260942,0.004125247709453,0.009803966619074,0.005425923038274,-0.027071272954345,-0.011893047951162,-0.082628741860390,-0.018620874732733,0.097003437578678,0.071759216487408,-0.074231892824173,-0.023935835808516,0.051456592977047,-0.058267332613468));
res += mul(Get(s0,dx,-dy), float4x4(0.031145019456744,-0.115864656865597,0.009311874397099,0.078376114368439,-0.008143387734890,-0.044067393988371,0.047613300383091,-0.001013078261167,-0.146754950284958,-0.026427796110511,-0.005992014426738,-0.007703705225140,0.028858389705420,-0.033499490469694,0.030913732945919,0.083912700414658));
res += mul(Get(s0,dx,0), float4x4(-0.039794594049454,-0.173753187060356,-0.082524105906487,-0.094885908067226,0.063389986753464,-0.038743112236261,0.031451869755983,-0.048811297863722,-0.129007488489151,-0.000242696391069,0.071348525583744,-0.073221541941166,0.021392092108727,-0.091464921832085,0.054013431072235,0.028579285368323));
res += mul(Get(s0,dx,dy), float4x4(-0.069701649248600,-0.034373082220554,-0.125120550394058,-0.049058802425861,0.037836350500584,-0.047095354646444,-0.000356569449650,-0.019468117505312,-0.037419985979795,0.032839111983776,0.041080728173256,-0.136940255761147,-0.023633429780602,0.036446981132030,-0.002349453512579,-0.037638932466507));
res += mul(Get(s1,-dx,-dy), float4x4(-0.085664354264736,0.063414685428143,0.132639020681381,-0.005008152220398,0.002049830975011,-0.121032372117043,-0.018424497917295,-0.110387563705444,0.017542734742165,-0.007083076983690,0.039705917239189,0.004562028683722,-0.076597049832344,-0.020301776006818,-0.038256205618382,0.049994818866253));
res += mul(Get(s1,-dx,0), float4x4(-0.036194920539856,0.039178937673569,0.071660034358501,-0.125524625182152,-0.068310208618641,0.023111250251532,-0.030156750231981,0.004770510829985,-0.038751821964979,-0.005911283195019,0.010654365643859,0.014260940253735,-0.111822970211506,0.056534711271524,-0.031447682529688,0.086702995002270));
res += mul(Get(s1,-dx,dy), float4x4(0.091087095439434,0.003521845676005,0.008025001734495,-0.150986984372139,-0.026426760479808,0.018816629424691,0.015870047733188,-0.099585346877575,-0.086206957697868,-0.053108118474483,-0.043813861906528,-0.123467534780502,0.128508016467094,0.031042037531734,-0.097497448325157,0.073080226778984));
res += mul(Get(s1,0,-dy), float4x4(0.052785646170378,0.072429075837135,0.179049685597420,0.078454211354256,0.087707266211510,0.022402767091990,-0.026613429188728,0.002032943535596,0.017552312463522,-0.049497012048960,-0.025634892284870,0.099449388682842,0.050399791449308,0.014031313359737,-0.132977604866028,-0.200590014457703));
res += mul(Get(s1,0,0), float4x4(0.035454191267490,0.019361130893230,-0.139948442578316,0.131968989968300,-0.029457820579410,-0.012450705282390,0.097671389579773,0.060017399489880,0.037641763687134,-0.023422703146935,-0.071297660470009,0.134946063160896,0.052380159497261,0.141346573829651,-0.062839888036251,-0.130851969122887));
res += mul(Get(s1,0,dy), float4x4(0.126759350299835,-0.003172456286848,-0.098473973572254,0.161306008696556,0.053155671805143,-0.042369648814201,-0.040358647704124,0.077054210007191,0.032847467809916,-0.015769196674228,0.052552748471498,0.038268394768238,0.286384761333466,0.021224914118648,-0.083408050239086,-0.123074911534786));
res += mul(Get(s1,dx,-dy), float4x4(-0.101264156401157,0.065102770924568,0.094377599656582,0.058611132204533,-0.000397984200390,-0.055764500051737,-0.036449529230595,-0.078281894326210,0.022409848868847,-0.029064487665892,-0.067882381379604,-0.070528917014599,0.025284428149462,-0.002295980229974,0.082416452467442,0.142820566892624));
res += mul(Get(s1,dx,0), float4x4(-0.059753496199846,-0.126296713948250,-0.035742320120335,-0.092441603541374,0.084223441779613,0.024875199422240,-0.011705953627825,-0.070366382598877,-0.016767218708992,0.024142250418663,-0.046669870615005,-0.098968677222729,-0.128928586840630,0.028769018128514,-0.056149650365114,0.098146677017212));
res += mul(Get(s1,dx,dy), float4x4(0.012829079292715,-0.054042447358370,-0.196206673979759,-0.032761365175247,0.085069499909878,-0.035480543971062,-0.027383660897613,0.011822451837361,0.019416444003582,0.036668505519629,-0.036398228257895,-0.089462682604790,0.020085142925382,-0.019173696637154,-0.148949667811394,0.029110318049788));
res += mul(Get(s2,-dx,-dy), float4x4(-0.003507333807647,0.078361086547375,0.022852446883917,0.026978233829141,-0.053655479103327,-0.054901406168938,0.021607736125588,0.083972930908203,0.065612636506557,-0.037338729947805,0.100372344255447,-0.072237752377987,0.013301880098879,0.092448249459267,0.031382884830236,0.024157555773854));
res += mul(Get(s2,-dx,0), float4x4(-0.108287096023560,0.032911382615566,-0.095800891518593,-0.006038424558938,-0.068884737789631,0.124770827591419,-0.011811201460660,-0.066293247044086,-0.059104945510626,0.030409675091505,-0.092345729470253,0.087213359773159,0.119161121547222,-0.074902087450027,0.069030448794365,-0.167428553104401));
res += mul(Get(s2,-dx,dy), float4x4(-0.048275187611580,-0.072712153196335,-0.034588377922773,0.055509783327579,0.119833841919899,0.013314456678927,0.043819133192301,-0.031947251409292,-0.044719632714987,-0.031175561249256,-0.022660419344902,0.023480135947466,0.013411831110716,0.036819938570261,-0.034774534404278,-0.098906546831131));
res += mul(Get(s2,0,-dy), float4x4(-0.008886717259884,0.099518187344074,0.054124053567648,0.068463154137135,-0.079336829483509,-0.042830146849155,0.061048526316881,-0.073314510285854,0.017374007031322,-0.100063219666481,0.027563041076064,-0.103196367621422,-0.239175841212273,0.013186129741371,0.030741706490517,-0.115187093615532));
res += mul(Get(s2,0,0), float4x4(0.027881313115358,0.059625484049320,-0.015095373615623,0.015846423804760,0.040474344044924,0.232187882065773,-0.091598026454449,0.011783284135163,0.090267561376095,-0.045819334685802,0.041550293564796,0.079205736517906,-0.051325980573893,-0.055965971201658,-0.040615912526846,-0.215585276484489));
res += mul(Get(s2,0,dy), float4x4(-0.093717426061630,-0.010964212939143,-0.029301207512617,-0.000527582829818,0.054509628564119,-0.233673304319382,-0.009604944847524,0.056475430727005,-0.019713729619980,0.028732415288687,-0.074188239872456,-0.003555726492777,0.004717546515167,0.103012174367905,-0.080433405935764,-0.108748391270638));
res += mul(Get(s2,dx,-dy), float4x4(0.070172756910324,-0.058973155915737,-0.000817913271021,0.006100085098296,-0.049492407590151,-0.008210225030780,0.254020094871521,-0.095904611051083,-0.031994804739952,0.087777242064476,0.022951155900955,-0.086306847631931,-0.075239390134811,-0.051796160638332,-0.008318767882884,0.086912713944912));
res += mul(Get(s2,dx,0), float4x4(-0.019411487504840,0.018418120220304,0.007307611871511,0.036115087568760,-0.035091098397970,0.134069725871086,-0.051952172070742,0.167931988835335,0.056299328804016,0.023146396502852,0.099488951265812,0.010553657077253,-0.016084063798189,0.097088739275932,0.148514688014984,0.203423574566841));
res += mul(Get(s2,dx,dy), float4x4(0.046213939785957,-0.001723420456983,-0.017089568078518,-0.025356858968735,-0.045915622264147,-0.047771640121937,-0.105549700558186,-0.081126041710377,-0.032403312623501,-0.014426368288696,0.084927409887314,-0.042663585394621,0.068746574223042,0.070318892598152,-0.045027878135443,0.156385138630867));
res += mul(Get(s3,-dx,-dy), float4x4(-0.136149004101753,0.274708539247513,-0.099337175488472,-0.117371924221516,0.037620551884174,-0.050796557217836,-0.098219707608223,-0.071605198085308,-0.014084953814745,0.160492986440659,-0.023265516385436,-0.017444372177124,-0.172501221299171,0.020716622471809,-0.002661698497832,-0.080517329275608));
res += mul(Get(s3,-dx,0), float4x4(-0.030053621158004,-0.238659918308258,-0.071552909910679,-0.200482323765755,-0.042419090867043,-0.096184536814690,-0.063024625182152,0.079311423003674,-0.059599101543427,0.026527605950832,-0.043567642569542,-0.046013884246349,-0.048466045409441,-0.101878300309181,-0.042398300021887,-0.008325829170644));
res += mul(Get(s3,-dx,dy), float4x4(0.051999680697918,-0.082150645554066,-0.212211474776268,-0.202862873673439,-0.034995641559362,-0.017290383577347,0.023625217378139,0.016245570033789,0.049427513033152,0.055304653942585,0.039276748895645,-0.070497438311577,0.138386726379395,-0.029056683182716,-0.021010708063841,-0.131286591291428));
res += mul(Get(s3,0,-dy), float4x4(-0.069437749683857,0.064875252544880,0.169077426195145,-0.092179708182812,-0.012305817566812,-0.009440118446946,0.007356309797615,-0.013589598238468,0.001455087214708,0.052953552454710,0.091187216341496,-0.001050259103067,-0.116908192634583,-0.043964385986328,-0.026766566559672,-0.007865250110626));
res += mul(Get(s3,0,0), float4x4(-0.048965740948915,-0.030013319104910,0.008669832721353,-0.200395166873932,0.096236430108547,0.018864970654249,0.026725122705102,-0.072035171091557,-0.197019875049591,0.014922026544809,0.103669255971909,-0.071185976266861,0.050189696252346,0.484279125928879,-0.059735294431448,-0.077895671129227));
res += mul(Get(s3,0,dy), float4x4(0.162736415863037,0.279086202383041,-0.076358400285244,-0.133283063769341,0.024339649826288,0.107175864279270,-0.001505624502897,0.072797343134880,-0.026649136096239,0.024169864133000,0.013334934599698,0.068813301622868,0.083295226097107,-0.233946144580841,-0.093776591122150,-0.131678640842438));
res += mul(Get(s3,dx,-dy), float4x4(-0.078341901302338,0.031030708923936,0.217842876911163,0.354858726263046,0.092526957392693,-0.131901353597641,-0.008641824126244,0.081545092165470,-0.032529257237911,0.088470563292503,-0.109546244144440,-0.002137260744348,-0.058946922421455,-0.248752295970917,0.088100463151932,0.213201910257339));
res += mul(Get(s3,dx,0), float4x4(0.063040658831596,-0.020155154168606,0.000526254589204,0.394876658916473,-0.055438321083784,0.011408722959459,-0.054039955139160,0.079246014356613,0.020789682865143,0.002082403516397,0.013296728953719,-0.014606344513595,0.164397567510605,0.087094880640507,-0.011942615732551,0.193935573101044));
res += mul(Get(s3,dx,dy), float4x4(0.040943603962660,-0.219081997871399,-0.067089416086674,0.193307772278786,-0.031345661729574,0.007654260378331,-0.048880320042372,0.059953294694424,0.139704421162605,-0.032444033771753,0.025948412716389,0.002264269394800,-0.008827256970108,0.071955315768719,0.147593885660172,0.033312812447548));
return max(float4(0,0,0,0), res);
}
