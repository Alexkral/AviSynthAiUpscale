sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.048271082341671,-0.003684643656015,-0.017433760687709,-0.010749110952020,-0.036516588181257,-0.017969651147723,-0.029259704053402,-0.001882608281448,0.025294803082943,-0.071560338139534,-0.080929957330227,-0.075550682842731,-0.033421915024519,0.069512046873569,0.076284043490887,-0.022701261565089));
res += mul(Get(s0,-dx,0), float4x4(-0.001930343685672,0.019425911828876,0.008156201802194,0.004426196217537,-0.014849643222988,0.035189840942621,0.086976818740368,0.044847760349512,-0.025750944390893,0.002304909517989,-0.191991195082664,-0.019564144313335,0.005573553498834,0.074871331453323,0.023390147835016,-0.042077507823706));
res += mul(Get(s0,-dx,dy), float4x4(0.013126120902598,0.004970864392817,0.003306796774268,0.004528428893536,0.043961603194475,0.053472835570574,0.141171336174011,0.048080068081617,-0.043756112456322,-0.003441621782258,-0.148844480514526,-0.014349319040775,-0.031625952571630,0.055364556610584,0.058796931058168,0.003813155228272));
res += mul(Get(s0,0,-dy), float4x4(-0.035457246005535,-0.046587396413088,-0.029206102713943,0.001825721119530,-0.085113912820816,0.066356174647808,0.045447699725628,0.011557204648852,-0.056073319166899,-0.075934924185276,-0.003371646394953,-0.029394617304206,0.113635599613190,-0.053103275597095,0.034735046327114,-0.040763702243567));
res += mul(Get(s0,0,0), float4x4(-0.024389829486609,-0.066494926810265,-0.023246809840202,-0.000871594937053,0.040953818708658,0.058432519435883,0.162384942173958,0.033878818154335,-0.052374590188265,0.020882045850158,0.060336895287037,-0.018464185297489,-0.009675483219326,-0.072078257799149,0.036184955388308,-0.033786483108997));
res += mul(Get(s0,0,dy), float4x4(0.025593997910619,-0.106486149132252,-0.010940526612103,0.011969946324825,0.094336442649364,0.020317766815424,0.186136379837990,0.038575790822506,-0.059839416295290,0.073613241314888,-0.026691501960158,-0.013276614248753,-0.131418108940125,0.007989927195013,0.073142513632774,-0.025548975914717));
res += mul(Get(s0,dx,-dy), float4x4(-0.064363531768322,-0.019840236753225,0.029468853026628,-0.013018244877458,0.030527886003256,0.062799163162708,-0.020106256008148,-0.017578715458512,-0.054742649197578,-0.029256876558065,0.006091907154769,-0.012933000922203,-0.044861152768135,-0.186938345432281,-0.047733258455992,-0.026500064879656));
res += mul(Get(s0,dx,0), float4x4(0.012670088559389,-0.023613769561052,-0.004682690836489,0.003342389129102,0.043268837034702,0.008639718405902,0.061080124229193,0.009975619614124,-0.051644902676344,0.072634570300579,0.014027737081051,-0.009632284753025,-0.120912410318851,-0.117770008742809,-0.109392382204533,-0.022579900920391));
res += mul(Get(s0,dx,dy), float4x4(0.029478255659342,-0.071190446615219,-0.021946383640170,0.000755261862651,-0.028420854359865,0.035423472523689,0.050995592027903,0.014511356130242,-0.033624667674303,-0.006113153416663,-0.049781475216150,-0.025920854881406,-0.129606708884239,-0.001261225785129,-0.031124444678426,0.031069897115231));
res += mul(Get(s1,-dx,-dy), float4x4(-0.011213812977076,0.050156600773335,0.057426899671555,-0.010618444532156,0.046620365232229,-0.011326991021633,-0.003554009832442,-0.021562714129686,-0.094924807548523,0.074559293687344,-0.030820915475488,0.019718870520592,0.019765656441450,0.027846392244101,-0.007270979229361,0.007077159360051));
res += mul(Get(s1,-dx,0), float4x4(0.009751023724675,-0.017678724601865,0.004729172680527,-0.014117444865406,0.044850666075945,0.051942400634289,0.002758789341897,-0.003909691236913,-0.009861895814538,0.054981339722872,0.000775727618020,-0.012504180893302,-0.059614978730679,-0.044529169797897,-0.082334771752357,-0.025877883657813));
res += mul(Get(s1,-dx,dy), float4x4(0.037281531840563,0.113997183740139,-0.030685808509588,-0.018806649371982,0.004260075278580,0.018331686034799,0.024106988683343,-0.011006833985448,0.116383492946625,0.055192425847054,-0.014471533708274,0.012006791308522,-0.125784188508987,-0.002422872465104,-0.152994468808174,-0.004697218537331));
res += mul(Get(s1,0,-dy), float4x4(0.033107232302427,-0.019628696143627,-0.001394937513396,0.001015349989757,0.011893566697836,0.008341053500772,0.130498021841049,0.001176111865789,0.034506119787693,0.060620471835136,-0.018290631473064,0.017497431486845,-0.046351190656424,-0.027484159916639,-0.042026579380035,-0.007160958833992));
res += mul(Get(s1,0,0), float4x4(0.046890504658222,0.066193491220474,0.026050208136439,0.004943267442286,0.008623654954135,0.025037253275514,0.093640975654125,0.010421940125525,0.048644255846739,-0.006391293369234,-0.092004701495171,-0.014981422573328,-0.073361709713936,-0.018860835582018,-0.108132340013981,-0.027670223265886));
res += mul(Get(s1,0,dy), float4x4(0.165805071592331,0.124922215938568,0.115770816802979,0.020005835220218,0.040853869169950,-0.026065740734339,0.060654010623693,-0.000082553786342,0.130014240741730,-0.085319191217422,0.098140753805637,0.023367667570710,-0.089107781648636,-0.002421063138172,-0.157189875841141,-0.020664187148213));
res += mul(Get(s1,dx,-dy), float4x4(0.029259400442243,-0.009429073892534,-0.062037788331509,-0.023267963901162,-0.019238512963057,-0.049959838390350,0.166844621300697,-0.016637247055769,0.010040841996670,0.028565132990479,-0.102907970547676,0.000186497680261,-0.059981677681208,0.159868299961090,0.051110770553350,-0.040590930730104));
res += mul(Get(s1,dx,0), float4x4(0.099272072315216,0.053187265992165,-0.067075610160828,-0.011895732022822,-0.035239789634943,-0.096600964665413,0.023380571976304,0.015574221499264,0.005083622410893,-0.033103995025158,-0.077256210148335,-0.009349985979497,-0.034617565572262,0.121237851679325,0.065456964075565,-0.017692236229777));
res += mul(Get(s1,dx,dy), float4x4(0.183045297861099,0.021384838968515,0.003639626549557,0.022971341386437,-0.049504954367876,0.073593758046627,0.002543277107179,-0.012059083208442,-0.075121104717255,-0.079571768641472,0.130655765533447,0.009649750776589,-0.022434096783400,0.051450259983540,-0.084082804620266,0.029432656243443));
res += mul(Get(s2,-dx,-dy), float4x4(-0.052607402205467,0.083308555185795,-0.083102479577065,-0.003725565969944,-0.069530017673969,0.060560911893845,0.049331322312355,0.062993936240673,-0.064972013235092,-0.074767716228962,-0.012220260687172,-0.018611228093505,0.001984913367778,-0.037696804851294,-0.008017138577998,-0.027580630034208));
res += mul(Get(s2,-dx,0), float4x4(-0.016419736668468,0.032332532107830,-0.052998274564743,-0.009720597416162,0.066783405840397,0.010949330404401,0.089090853929520,0.055287819355726,-0.051872253417969,-0.024021707475185,-0.032308477908373,0.009237880818546,0.016320522874594,0.018549656495452,-0.026250544935465,-0.043264124542475));
res += mul(Get(s2,-dx,dy), float4x4(-0.046568255871534,0.065367959439754,-0.080416418612003,-0.022213347256184,0.092904999852180,0.049443658441305,0.001579956384376,0.024050829932094,0.109503269195557,0.041060321033001,0.119863018393517,0.054560147225857,0.133453190326691,0.054953463375568,-0.057915318757296,0.016001125797629));
res += mul(Get(s2,0,-dy), float4x4(0.012698696926236,-0.107679881155491,0.073315434157848,0.014946965500712,-0.043836236000061,0.122644051909447,0.051962286233902,0.076426208019257,0.020914707332850,-0.083319313824177,-0.031961236149073,0.021436175331473,0.024007186293602,-0.046311084181070,0.023998623713851,-0.031513258814812));
res += mul(Get(s2,0,0), float4x4(-0.017279095947742,-0.071126140654087,0.064004257321358,-0.029494911432266,-0.009132941253483,0.011260614730418,0.103996746242046,0.043259568512440,0.005914196837693,-0.004617945291102,-0.072192862629890,-0.025628415867686,0.008829209022224,0.096580699086189,-0.086186140775681,-0.025441901758313));
res += mul(Get(s2,0,dy), float4x4(-0.044912155717611,0.005346310790628,-0.062093622982502,-0.029389824718237,0.017612287774682,0.040224902331829,-0.016654668375850,0.022486859932542,0.126082345843315,-0.009772175922990,0.235328778624535,0.073908001184464,0.118093200027943,0.095028214156628,-0.019197652116418,0.002849388169125));
res += mul(Get(s2,dx,-dy), float4x4(-0.147580564022064,-0.094061121344566,0.089448072016239,-0.010204318910837,-0.133709356188774,0.148588150739670,-0.016594622284174,0.057449702173471,0.056523293256760,-0.100955389440060,-0.031273212283850,-0.002923813648522,0.084257945418358,0.104160048067570,-0.023578135296702,-0.009206317365170));
res += mul(Get(s2,dx,0), float4x4(-0.088980361819267,0.021097278222442,-0.022816497832537,-0.022709950804710,-0.110037505626678,0.097977966070175,0.029982807114720,0.052697665989399,0.003356642555445,-0.015442768111825,-0.013529500924051,-0.035853482782841,0.074522368609905,0.147241860628128,0.007156738080084,-0.003218679223210));
res += mul(Get(s2,dx,dy), float4x4(0.036531548947096,0.062039989978075,-0.132201433181763,-0.039299957454205,-0.044586855918169,0.056039802730083,0.032393455505371,0.023439608514309,-0.021479712799191,-0.061326127499342,0.216329604387283,0.015295271761715,0.140293821692467,0.049058966338634,0.050039820373058,0.018985303118825));
res += mul(Get(s3,-dx,-dy), float4x4(-0.005688153207302,-0.069509141147137,-0.001295115216635,-0.004332629963756,0.052034921944141,-0.230236575007439,-0.106891959905624,-0.034831568598747,0.082546822726727,0.067182049155235,0.077457867562771,-0.003620518837124,-0.031274143606424,-0.142161637544632,0.014410693198442,0.005088908597827));
res += mul(Get(s3,-dx,0), float4x4(-0.041443463414907,-0.115116618573666,0.001863927347586,-0.004195167683065,0.073265276849270,-0.063422322273254,-0.113837525248528,0.023846311494708,0.140413939952850,-0.003303730394691,0.121344961225986,0.014373359270394,0.049369890242815,-0.046461194753647,0.043544039130211,0.013321822509170));
res += mul(Get(s3,-dx,dy), float4x4(-0.076277486979961,-0.048354044556618,-0.090627200901508,-0.027517599985003,0.022302130237222,0.071277685463428,0.004869529046118,0.038279946893454,0.120120435953140,-0.020060386508703,-0.066176205873489,-0.011211024597287,0.083357036113739,-0.074924409389496,0.063740022480488,-0.016787480562925));
res += mul(Get(s3,0,-dy), float4x4(-0.015026607550681,-0.017008945345879,0.117434300482273,0.013315721414983,-0.094053909182549,0.012471209280193,-0.111217767000198,-0.009267748333514,0.078099720180035,-0.013768473640084,0.285795390605927,0.000579224433750,-0.082787580788136,-0.075838737189770,-0.024342928081751,-0.011385289952159));
res += mul(Get(s3,0,0), float4x4(-0.047360137104988,-0.007381792180240,0.068519502878189,-0.027440814301372,-0.028083752840757,-0.002861542860046,0.029546510428190,0.038224954158068,-0.062149126082659,0.047201555222273,-0.023746784776449,-0.005638173781335,0.020198773592710,-0.043833322823048,-0.049694165587425,-0.025338366627693));
res += mul(Get(s3,0,dy), float4x4(-0.072076275944710,0.006487339269370,-0.077778190374374,-0.015266146510839,-0.134928435087204,0.119394592940807,0.057788893580437,0.022268982604146,-0.033158000558615,0.106786370277405,-0.093843244016171,-0.003768126480281,0.061532288789749,-0.062168311327696,-0.055686015635729,-0.022393967956305));
res += mul(Get(s3,dx,-dy), float4x4(-0.071159332990646,-0.014244276098907,0.165106073021889,0.005433106329292,-0.036621980369091,-0.017438879236579,0.013637354597449,0.014758329838514,-0.129324957728386,0.023811951279640,0.122678667306900,-0.020291607826948,-0.016075823456049,-0.042374778538942,-0.003182367654517,-0.010504004545510));
res += mul(Get(s3,dx,0), float4x4(-0.079760119318962,-0.029230201616883,0.133138671517372,-0.016718221828341,-0.048124238848686,-0.104797311127186,0.084765478968620,0.025794569402933,-0.102100826799870,0.086645118892193,0.005262900143862,-0.039830133318901,-0.007485199254006,-0.046815812587738,-0.020912926644087,-0.048461910337210));
res += mul(Get(s3,dx,dy), float4x4(-0.060232345014811,0.003959853667766,0.005034383386374,-0.005992223508656,-0.153931662440300,0.020769489929080,0.000152567314217,-0.018078777939081,-0.053175151348114,0.021648336201906,-0.030978700146079,0.000737152877264,-0.003659649053589,-0.014973524026573,-0.046781551092863,-0.002183618256822));
return max(float4(0,0,0,0), res);
}
