sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.030680777505040,-0.053969219326973,-0.029553014785051,-0.044191684573889,-0.017399540171027,0.061110761016607,0.003925694618374,0.006962379440665,0.001077615423128,-0.071039728820324,0.057592738419771,-0.068948723375797,0.062021091580391,-0.056903440505266,-0.002318352228031,-0.009277182631195));
res += mul(Get(s0,-dx,0), float4x4(-0.014129457063973,-0.158734068274498,0.021100107580423,0.070473410189152,-0.063922196626663,-0.024017652496696,-0.021880280226469,0.018155414611101,-0.004579118918628,-0.015110935084522,-0.017372464761138,0.036778792738914,0.008531150408089,-0.035137400031090,-0.050048638135195,-0.048442251980305));
res += mul(Get(s0,-dx,dy), float4x4(0.013965233229101,-0.088310338556767,-0.086303502321243,-0.054731346666813,0.013452999293804,0.026749867945910,0.018586374819279,-0.004395756870508,-0.038537170737982,-0.020832769572735,0.023587865754962,-0.019464749842882,-0.043618645519018,-0.037394832819700,-0.037154190242290,0.074906945228577));
res += mul(Get(s0,0,-dy), float4x4(-0.071676887571812,-0.094829291105270,-0.094740539789200,0.067604415118694,0.002738562645391,-0.067231573164463,-0.002879620995373,-0.000393139402149,0.017904084175825,-0.029063297435641,0.011810561642051,0.007116578985006,-0.066892288625240,-0.046051889657974,-0.092913575470448,-0.034765690565109));
res += mul(Get(s0,0,0), float4x4(-0.099878482520580,-0.112545229494572,0.026293424889445,0.229126855731010,0.037418775260448,0.013984134420753,-0.039275169372559,-0.037880554795265,-0.043902158737183,-0.010761714540422,-0.015592128038406,0.066920958459377,-0.007633308880031,0.044929791241884,0.059874363243580,-0.029693260788918));
res += mul(Get(s0,0,dy), float4x4(-0.032379359006882,-0.015003109350801,-0.033093638718128,-0.004441220313311,0.028806537389755,-0.022864494472742,-0.068444788455963,0.018385846167803,-0.117806620895863,0.023731008172035,-0.025456756353378,-0.016789427027106,-0.012943170964718,-0.013032447546721,0.020313268527389,-0.045739386230707));
res += mul(Get(s0,dx,-dy), float4x4(-0.127863422036171,0.214069724082947,0.015608534216881,0.082343712449074,-0.022006288170815,0.066789180040359,-0.068716570734978,0.034600071609020,-0.017313139513135,-0.074139617383480,-0.056484054774046,-0.020949393510818,-0.051418036222458,0.006777062080801,-0.091397248208523,0.029764356091619));
res += mul(Get(s0,dx,0), float4x4(-0.004242749419063,0.217587098479271,0.038736470043659,-0.030681641772389,-0.052517369389534,-0.028697151690722,-0.036712765693665,0.040590498596430,0.045154783874750,0.021206952631474,0.069335773587227,-0.034617539495230,0.056560713797808,-0.057347957044840,-0.049053128808737,-0.015343180857599));
res += mul(Get(s0,dx,dy), float4x4(0.026500614359975,0.134810879826546,-0.025362413376570,-0.055479958653450,-0.034310817718506,-0.109414428472519,0.101127371191978,0.000763119023759,-0.026163250207901,0.025094771757722,0.006684417370707,-0.051292795687914,0.019348558038473,0.018273377791047,-0.051101621240377,-0.014691952615976));
res += mul(Get(s1,-dx,-dy), float4x4(-0.107914328575134,-0.114532388746738,-0.112385295331478,0.159273266792297,0.079499520361423,-0.076089769601822,-0.019064292311668,-0.007693164981902,0.003962512593716,-0.107119239866734,-0.024869516491890,0.042594734579325,-0.065515480935574,0.055598162114620,-0.078182160854340,0.134931683540344));
res += mul(Get(s1,-dx,0), float4x4(-0.114460080862045,-0.040770694613457,-0.076650090515614,0.053564645349979,0.022378075867891,0.030690597370267,0.082407794892788,0.079551823437214,-0.102748304605484,0.010076627135277,0.088387325406075,-0.035036679357290,0.010361214168370,-0.007747288793325,-0.094720296561718,0.005759941879660));
res += mul(Get(s1,-dx,dy), float4x4(0.031020356342196,-0.174584046006203,0.102753855288029,-0.105906270444393,-0.032125174999237,-0.047922849655151,0.132293477654457,0.107275217771530,0.055321823805571,-0.036258079111576,0.057376053184271,0.035421691834927,0.018567332997918,0.014688588678837,0.007018669974059,-0.038181576877832));
res += mul(Get(s1,0,-dy), float4x4(-0.108234480023384,0.009121627546847,0.031875144690275,0.122823506593704,-0.022765982896090,-0.043247368186712,0.164824321866035,-0.082811243832111,-0.084335163235664,0.016249783337116,0.006158096250147,0.091713763773441,0.159539923071861,-0.033058285713196,0.042199432849884,-0.008638794533908));
res += mul(Get(s1,0,0), float4x4(-0.011074590496719,-0.185850664973259,-0.055385664105415,0.136273846030235,-0.122131079435349,-0.053110770881176,0.079016603529453,-0.073565937578678,-0.068062029778957,-0.057452410459518,0.012364286929369,-0.032418724149466,0.088368877768517,-0.029760301113129,-0.000634980271570,0.000334585638484));
res += mul(Get(s1,0,dy), float4x4(0.022405838593841,-0.038980007171631,-0.016536049544811,0.042019687592983,-0.094328276813030,-0.081923671066761,-0.017183128744364,-0.064765721559525,-0.062220249325037,-0.021737592294812,-0.085943073034286,-0.060323510318995,0.079502902925014,-0.078771248459816,0.019009985029697,-0.078085042536259));
res += mul(Get(s1,dx,-dy), float4x4(0.022044820711017,0.241811081767082,0.144157350063324,-0.188216149806976,-0.049652218818665,-0.023741414770484,0.077837236225605,-0.096878305077553,-0.014173837378621,0.018890865147114,0.201525285840034,-0.090356692671776,0.000424269586802,0.018393555656075,-0.026665821671486,-0.071779429912567));
res += mul(Get(s1,dx,0), float4x4(-0.037348419427872,0.216071784496307,0.081910088658333,-0.049932692199945,0.036867044866085,0.091490246355534,0.087447069585323,-0.056893013417721,-0.017577121034265,-0.023293791338801,-0.016345456242561,-0.103895373642445,-0.094993196427822,-0.084399402141571,-0.080624587833881,0.009364367462695));
res += mul(Get(s1,dx,dy), float4x4(0.131847858428955,0.159978210926056,0.060732316225767,0.000620508682914,-0.018119348213077,0.002388238208368,0.067826017737389,0.022997817024589,0.003548091044649,-0.054272003471851,0.024694440886378,-0.085592724382877,-0.079469561576843,0.007969489321113,0.049024976789951,0.128100320696831));
res += mul(Get(s2,-dx,-dy), float4x4(-0.045959919691086,0.031403012573719,0.011744282208383,0.037602864205837,-0.005270530004054,-0.061237100511789,-0.029811440035701,-0.023406183347106,0.155515909194946,0.031169706955552,0.065891794860363,-0.037077218294144,-0.000277713639662,0.085882052779198,0.018680226057768,-0.002973837079480));
res += mul(Get(s2,-dx,0), float4x4(-0.016907649114728,0.043000917881727,-0.023669198155403,0.100688286125660,-0.134599357843399,0.001954934094101,0.162790149450302,0.176659613847733,0.076444096863270,-0.079954348504543,-0.034287944436073,-0.090912699699402,-0.090694241225719,0.034608948975801,-0.008232370950282,0.014305271208286));
res += mul(Get(s2,-dx,dy), float4x4(0.004273742903024,-0.026222407817841,0.049627009779215,-0.013414633460343,-0.037283249199390,-0.130770087242126,-0.054655872285366,0.039271168410778,0.120217539370060,-0.022235671058297,0.063243433833122,-0.004228217992932,0.019275750964880,0.088113576173782,-0.047428492456675,-0.219794765114784));
res += mul(Get(s2,0,-dy), float4x4(0.015808781608939,-0.022070115432143,0.089807644486427,-0.028871126472950,0.016854358837008,-0.031588625162840,-0.015000551939011,-0.100364133715630,0.038243379443884,-0.050382658839226,-0.043933864682913,-0.062489833682775,-0.018157461658120,0.118728578090668,0.047129217535257,0.006354161538184));
res += mul(Get(s2,0,0), float4x4(0.024980841204524,0.065610393881798,-0.095299869775772,-0.003011704888195,-0.032938797026873,0.073579221963882,0.002360794926062,0.007105890661478,0.088744550943375,-0.027162011712790,-0.115010656416416,0.032490335404873,0.126396134495735,0.055723242461681,0.223031699657440,-0.046992786228657));
res += mul(Get(s2,0,dy), float4x4(-0.081560418009758,0.030124187469482,-0.127268448472023,-0.020736960694194,-0.092149488627911,0.117871545255184,0.057831037789583,-0.072998024523258,0.086813949048519,-0.078695662319660,-0.112403824925423,-0.054205715656281,0.015282600186765,-0.019580686464906,0.027339134365320,0.167944923043251));
res += mul(Get(s2,dx,-dy), float4x4(-0.026696152985096,0.008278113789856,0.015667844563723,0.087007008492947,-0.017672879621387,-0.031522639095783,0.016982927918434,-0.020390396937728,0.004910917021334,0.005402000155300,0.054435700178146,0.016115201637149,-0.086497500538826,-0.028650019317865,-0.018337283283472,-0.045974433422089));
res += mul(Get(s2,dx,0), float4x4(0.021430786699057,-0.072974473237991,-0.005554224364460,-0.063806071877480,-0.013405342586339,-0.025398474186659,-0.173768773674965,0.059508506208658,-0.070846259593964,-0.007397797890007,0.014827637001872,-0.048059321939945,0.040618225932121,-0.032741773873568,-0.065111123025417,-0.132348865270615));
res += mul(Get(s2,dx,dy), float4x4(-0.068419031798840,-0.017977777868509,-0.057380851358175,-0.022906946018338,0.081849791109562,0.006646222900599,0.111150920391083,-0.028913579881191,-0.015701474621892,0.005305134691298,-0.100767865777016,-0.071230098605156,0.048269644379616,-0.052615717053413,-0.121500410139561,-0.108996175229549));
res += mul(Get(s3,-dx,-dy), float4x4(-0.070090591907501,-0.036368094384670,-0.135073885321617,0.025332557037473,0.075396515429020,0.089680954813957,-0.044142138212919,-0.006646735593677,0.027485791593790,-0.057411611080170,0.027880463749170,0.051086202263832,-0.052510790526867,-0.026634342968464,-0.061367772519588,0.034961510449648));
res += mul(Get(s3,-dx,0), float4x4(0.006485173013061,0.114001654088497,-0.017509061843157,0.101435236632824,0.028835851699114,-0.048070523887873,0.031509522348642,0.020136866718531,-0.028086911886930,-0.073115035891533,-0.130341589450836,-0.063482187688351,-0.060823842883110,0.107421293854713,-0.042432617396116,0.116735398769379));
res += mul(Get(s3,-dx,dy), float4x4(-0.020644329488277,0.132457032799721,-0.046363316476345,0.085624463856220,-0.028196359053254,-0.068915106356144,-0.083104431629181,0.037810109555721,-0.009041888639331,0.071777589619160,-0.053533263504505,-0.015261526219547,-0.094252876937389,-0.220385327935219,-0.139216586947441,0.219764739274979));
res += mul(Get(s3,0,-dy), float4x4(-0.003984483890235,0.084256835281849,-0.120554625988007,-0.089589558541775,0.043537553399801,0.025862809270620,-0.005869778804481,-0.005487584508955,0.022267604246736,-0.078308641910553,0.017951441928744,-0.073279693722725,-0.069996230304241,-0.112194299697876,-0.029073406010866,0.039898671209812));
res += mul(Get(s3,0,0), float4x4(0.130757540464401,0.011015438474715,0.019537502899766,0.028317116200924,-0.032325431704521,-0.047563903033733,0.093662828207016,0.101476967334747,-0.058019727468491,0.027737617492676,0.009542835876346,0.062807291746140,-0.020137533545494,-0.037081062793732,-0.019005587324500,-0.003982114605606));
res += mul(Get(s3,0,dy), float4x4(0.002012628363445,-0.206914722919464,-0.032474484294653,0.167740330100060,0.051255449652672,0.034277532249689,0.063945092260838,0.012387482449412,-0.065479800105095,0.071248441934586,-0.101251289248466,0.083484105765820,0.033929258584976,0.260609269142151,0.017944581806660,-0.014705369248986));
res += mul(Get(s3,dx,-dy), float4x4(0.023484161123633,-0.185936182737350,-0.000028079284675,-0.105241149663925,-0.023303208872676,0.023039769381285,-0.011097782291472,0.084111906588078,0.047820836305618,0.038113661110401,0.054146558046341,0.019454453140497,-0.010933969169855,0.101423710584641,0.080701477825642,-0.068334087729454));
res += mul(Get(s3,dx,0), float4x4(-0.008231409825385,0.073472283780575,0.049617428332567,-0.175888657569885,-0.037275601178408,-0.024093452841043,0.107097037136555,-0.046119187027216,0.033385440707207,-0.133417978882790,0.101310998201370,0.001170164090581,0.012400443665683,0.005295288283378,-0.066672638058662,-0.071408607065678));
res += mul(Get(s3,dx,dy), float4x4(0.042722120881081,0.113652512431145,-0.032463129609823,-0.040879484266043,-0.017542066052556,-0.010842051357031,0.081134930253029,-0.044455040246248,-0.088265776634216,-0.053309619426727,0.014216067269444,0.010649300180376,0.085055187344551,-0.069672055542469,0.041750043630600,-0.211247026920319));
return max(float4(0,0,0,0), res);
}
