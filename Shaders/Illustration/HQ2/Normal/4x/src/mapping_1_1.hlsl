sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.268928617238998,-0.107698760926723,0.060320958495140,-0.030968802049756,0.014012149535120,0.002203014213592,-0.064162127673626,-0.027288261801004,0.093382574617863,-0.019391741603613,-0.018208628520370,0.111582927405834,-0.071871705353260,0.003787257242948,0.025595659390092,0.006384144537151));
res += mul(Get(s0,-dx,0), float4x4(0.100594229996204,-0.051452454179525,0.168945610523224,-0.063862137496471,-0.085221081972122,0.045871503651142,-0.023554662242532,0.059072062373161,-0.046131979674101,-0.032663460820913,-0.003563962876797,0.025478098541498,-0.067317351698875,-0.052222941070795,0.048514101654291,0.002796825952828));
res += mul(Get(s0,-dx,dy), float4x4(0.087010152637959,0.031082458794117,0.047460291534662,-0.104776404798031,-0.006414264440536,0.033938098698854,0.011150441132486,-0.075862020254135,0.041417568922043,0.024615867063403,0.001904757809825,0.024474428966641,0.004962961655110,0.024895476177335,-0.001957640284672,-0.041304733604193));
res += mul(Get(s0,0,-dy), float4x4(-0.041817195713520,0.066634893417358,0.077644772827625,-0.041570704430342,-0.051417112350464,-0.033242437988520,-0.076676361262798,0.010564342141151,0.036427885293961,0.088781587779522,-0.018861556425691,0.024638650938869,0.070922091603279,0.009567158296704,0.019840527325869,-0.012963815592229));
res += mul(Get(s0,0,0), float4x4(-0.177140459418297,-0.010531912557781,-0.106825008988380,0.024115392938256,0.078757315874100,-0.002688734792173,0.001941962516867,0.023909222334623,-0.040753569453955,-0.029468854889274,-0.003348717000335,-0.027963904663920,-0.056228701025248,-0.053872965276241,-0.112877905368805,-0.111262485384941));
res += mul(Get(s0,0,dy), float4x4(-0.050797518342733,0.022303642705083,-0.009563220664859,0.098252885043621,-0.024748152121902,0.007982135750353,0.107036381959915,-0.023524481803179,0.001038199872710,-0.008362438529730,0.012739348225296,0.028064075857401,-0.002191005274653,0.083901964128017,0.018160603940487,0.042217869311571));
res += mul(Get(s0,dx,-dy), float4x4(-0.114263467490673,-0.070265896618366,-0.006799484603107,-0.065299868583679,0.024201208725572,0.049516454339027,-0.004430558066815,0.130200937390327,0.041512705385685,0.016608435660601,0.128734096884727,0.006901051849127,-0.060795903205872,-0.016990700736642,0.064937166869640,0.059182625263929));
res += mul(Get(s0,dx,0), float4x4(0.066954225301743,-0.032037008553743,0.017159825190902,0.034735407680273,-0.020358953624964,-0.023232581093907,0.044029064476490,-0.005026996135712,-0.127364814281464,-0.045799609273672,0.067610025405884,-0.114863641560078,0.074583001434803,0.031172020360827,-0.095109663903713,0.008600406348705));
res += mul(Get(s0,dx,dy), float4x4(-0.047680255025625,-0.051417376846075,-0.035939507186413,0.045585528016090,0.011120197363198,-0.023502631112933,-0.051492728292942,0.010779925622046,-0.021336093544960,-0.024544503539801,0.094866544008255,-0.128665387630463,-0.017474344000220,-0.004841022659093,-0.016090473160148,0.008675287477672));
res += mul(Get(s1,-dx,-dy), float4x4(0.306361407041550,0.025326829403639,-0.027034912258387,-0.164264261722565,-0.000481164315715,0.044267248362303,-0.063277296721935,-0.030854806303978,-0.030037589371204,0.025721477344632,-0.004325358662754,-0.012419554404914,0.007377734407783,0.037751987576485,0.055875845253468,-0.030532952398062));
res += mul(Get(s1,-dx,0), float4x4(0.227441176772118,-0.030924480408430,0.042940478771925,-0.129863634705544,-0.012063499540091,0.014704301953316,0.112699463963509,0.073659852147102,-0.016476601362228,0.079189792275429,0.130772173404694,0.006194056943059,-0.000110687797132,-0.141084715723991,0.011613529175520,-0.081370867788792));
res += mul(Get(s1,-dx,dy), float4x4(0.261741667985916,0.047331195324659,0.034856792539358,-0.070506617426872,-0.039440914988518,0.044064685702324,0.047119028866291,0.088139370083809,0.030225027352571,0.075458131730556,0.083050370216370,0.001715941238217,0.044781044125557,-0.089487992227077,0.002327819122002,0.000018261271180));
res += mul(Get(s1,0,-dy), float4x4(-0.216253131628036,-0.019871043041348,-0.048973165452480,-0.139923095703125,0.087639488279819,0.096268847584724,0.022247029468417,-0.033583369106054,0.069949902594090,0.008592112921178,-0.047086916863918,0.016954679042101,0.002994849346578,0.268016248941422,-0.117096185684204,0.106953173875809));
res += mul(Get(s1,0,0), float4x4(-0.082391686737537,0.028351044282317,0.109250076115131,0.159936875104904,-0.088010333478451,-0.011137641035020,-0.024965042248368,0.033667057752609,-0.090682417154312,-0.000880724634044,-0.006520868279040,0.029419837519526,-0.069242939352989,-0.007833796553314,0.029398869723082,-0.011632630601525));
res += mul(Get(s1,0,dy), float4x4(0.047298830002546,-0.074756428599358,0.042329479008913,0.011429141275585,-0.026485051959753,0.016506586223841,0.009932004846632,0.078105598688126,-0.060632459819317,-0.016786277294159,-0.004894053097814,-0.002853523008525,0.012915336526930,-0.031895928084850,0.101623237133026,-0.046583015471697));
res += mul(Get(s1,dx,-dy), float4x4(-0.203804820775986,-0.085356824100018,0.042325329035521,0.134806722402573,-0.191066920757294,0.041092984378338,-0.037002488970757,-0.136616319417953,-0.004729633685201,0.073921158909798,-0.039030201733112,-0.004345101770014,0.081150896847248,-0.018866296857595,-0.073104240000248,0.063521288335323));
res += mul(Get(s1,dx,0), float4x4(-0.189831763505936,0.025302024558187,-0.013909022323787,0.089616261422634,-0.110080853104591,-0.057085920125246,-0.074410423636436,-0.076382465660572,-0.033524215221405,-0.078360483050346,0.044138763099909,0.070133328437805,-0.006803598254919,-0.056725345551968,-0.076615281403065,-0.017984339967370));
res += mul(Get(s1,dx,dy), float4x4(-0.160438135266304,-0.080102659761906,0.030380707234144,0.166522443294525,-0.047666911035776,0.008786333724856,0.051652971655130,-0.055588603019714,-0.097521334886551,-0.122725389897823,0.144390225410461,-0.093932233750820,-0.042090866714716,-0.085449099540710,0.087259583175182,0.100234478712082));
res += mul(Get(s2,-dx,-dy), float4x4(-0.010193675756454,-0.039696943014860,0.007917014881968,-0.060273353010416,0.065324269235134,-0.024635098874569,0.071855127811432,0.006413845345378,-0.040400363504887,0.084841795265675,0.007682715076953,-0.037222418934107,-0.021883770823479,-0.067623242735863,-0.081353634595871,-0.010669698007405));
res += mul(Get(s2,-dx,0), float4x4(0.047126967459917,0.003936544992030,0.105519227683544,-0.009456593543291,0.050134070217609,-0.105708315968513,0.019144203513861,-0.086535915732384,-0.043971255421638,0.015131909400225,0.021140970289707,-0.061050951480865,0.002529786201194,0.034516692161560,0.005728167016059,0.094240196049213));
res += mul(Get(s2,-dx,dy), float4x4(-0.053784921765327,-0.014053888618946,-0.048238243907690,-0.037823490798473,-0.003559502074495,0.160434469580650,0.065038062632084,-0.020635038614273,-0.022548466920853,-0.022979782894254,-0.070283256471157,0.041568823158741,0.015241602435708,0.026691388338804,0.027206210419536,-0.043248850852251));
res += mul(Get(s2,0,-dy), float4x4(-0.009025667794049,0.055427502840757,0.008059789426625,0.065123930573463,-0.049153659492731,-0.084650963544846,0.001627721125260,-0.039905317127705,-0.025045802816749,-0.088090278208256,0.013326091691852,0.037486996501684,0.052599411457777,-0.026775468140841,-0.083449013531208,0.011966004967690));
res += mul(Get(s2,0,0), float4x4(0.024840870872140,-0.082247763872147,-0.053179103881121,0.049852211028337,-0.013820050284266,-0.055835146456957,-0.069647416472435,-0.036012172698975,0.091691039502621,0.052912198007107,-0.034503627568483,0.047746013849974,0.099720887839794,0.062488209456205,0.025994926691055,-0.032251793891191));
res += mul(Get(s2,0,dy), float4x4(-0.069980643689632,0.072907537221909,0.050052706152201,0.001639218418859,0.005938921589404,0.177439972758293,0.139738366007805,-0.011130578815937,0.079916678369045,-0.019475255161524,0.077490992844105,0.085666164755821,0.093960523605347,0.054529052227736,0.014580735005438,-0.095837727189064));
res += mul(Get(s2,dx,-dy), float4x4(-0.047274947166443,0.030601281672716,0.003050850937143,0.002828891156241,0.063289150595665,-0.001468079979531,-0.034453593194485,-0.001074283150956,0.055985856801271,0.021364983171225,-0.092752806842327,0.047014750540257,-0.080321639776230,0.017603855580091,-0.059945881366730,0.130886152386665));
res += mul(Get(s2,dx,0), float4x4(0.022021064534783,-0.034494668245316,-0.050810825079679,0.065941639244556,-0.100133851170540,-0.135933250188828,-0.086508624255657,0.174347147345543,-0.033199410885572,0.008727638982236,-0.060343202203512,0.056984353810549,-0.130065903067589,-0.020084924995899,-0.122921526432037,0.034884650260210));
res += mul(Get(s2,dx,dy), float4x4(0.030482433736324,-0.051338355988264,0.028765184804797,-0.099703468382359,-0.025278178974986,0.166307419538498,-0.137949213385582,0.002850823570043,-0.041747130453587,0.043225321918726,-0.004918997641653,-0.039752960205078,-0.009698169305921,0.007241591345519,-0.061542402952909,0.060096278786659));
res += mul(Get(s3,-dx,-dy), float4x4(-0.099844090640545,-0.092907764017582,0.069050863385201,-0.281036496162415,-0.014710878953338,-0.052432537078857,-0.016503972932696,0.049657993018627,0.091854892671108,0.044831063598394,-0.040908072143793,0.029317729175091,0.239365875720978,-0.000803272589110,0.065571241080761,-0.213453084230423));
res += mul(Get(s3,-dx,0), float4x4(0.415390580892563,0.013975415378809,0.043954152613878,-0.104758597910404,-0.055955678224564,-0.008582915179431,0.089131675660610,-0.062461934983730,0.000801648013294,0.022641526535153,0.037538621574640,0.101371109485626,0.191319942474365,0.048561826348305,0.081373304128647,-0.281472533941269));
res += mul(Get(s3,-dx,dy), float4x4(0.239469155669212,-0.025784332305193,0.022756591439247,-0.096162036061287,0.003767205635086,-0.098511599004269,-0.023184835910797,0.040813647210598,0.033900573849678,-0.033240254968405,0.069736078381538,0.049134436994791,-0.129513472318649,0.058582652360201,0.037104807794094,0.068545818328857));
res += mul(Get(s3,0,-dy), float4x4(0.046163473278284,-0.007765953894705,-0.088404282927513,-0.024762455374002,-0.061317224055529,0.046982116997242,-0.003877685172483,0.006609223783016,0.007094257511199,-0.010451634414494,0.027418758720160,-0.021891752257943,0.139931440353394,0.112252287566662,0.036201227456331,0.254325330257416));
res += mul(Get(s3,0,0), float4x4(0.370673447847366,-0.121368788182735,-0.087602958083153,0.289192080497742,0.060049563646317,0.009219102561474,0.014354029670358,-0.021454770117998,-0.003640340873972,-0.080652013421059,-0.005551152396947,-0.044882100075483,-0.162466213107109,-0.087353758513927,-0.111825130879879,0.018915049731731));
res += mul(Get(s3,0,dy), float4x4(0.005720181856304,-0.101115733385086,-0.123519882559776,0.147856831550598,0.030014377087355,0.024224216118455,0.034677147865295,-0.097673669457436,-0.054868746548891,-0.008722692728043,-0.003673736471683,0.029774896800518,-0.106946490705013,-0.019093062728643,-0.043660439550877,-0.365317195653915));
res += mul(Get(s3,dx,-dy), float4x4(-0.269699871540070,-0.038915589451790,-0.071572557091713,0.214881554245949,-0.022908348590136,-0.119618386030197,0.063625596463680,-0.040431201457977,-0.046563733369112,0.027930593118072,0.027916703373194,0.022469626739621,-0.119896680116653,-0.045697614550591,0.031528893858194,0.074784375727177));
res += mul(Get(s3,dx,0), float4x4(-0.348545908927917,-0.031948577612638,-0.087585255503654,-0.038684550672770,-0.064488761126995,0.042375393211842,-0.005521241575480,0.031624007970095,-0.043145239353180,-0.125557571649551,-0.011182405985892,-0.050301671028137,-0.227097570896149,-0.029336966574192,-0.094696901738644,0.166627496480942));
res += mul(Get(s3,dx,dy), float4x4(-0.211633607745171,-0.019516583532095,-0.011026316322386,0.014692228287458,-0.085212275385857,0.056226652115583,0.004540659021586,0.017162427306175,-0.048267338424921,0.037540782243013,-0.014173871837556,-0.066363729536533,0.208576261997223,-0.003611588384956,-0.095989398658276,0.311635971069336));
return max(float4(0,0,0,0), res);
}
