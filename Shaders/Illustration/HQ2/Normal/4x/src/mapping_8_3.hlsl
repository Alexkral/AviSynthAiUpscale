sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.031954396516085,-0.013824805617332,0.028164170682430,0.021338161081076,-0.127830713987350,-0.055380359292030,-0.004531449172646,-0.008669679053128,-0.071445852518082,0.032488472759724,0.014016988687217,-0.036480028182268,-0.037719633430243,-0.037859477102757,-0.018999988213181,-0.013934219256043));
res += mul(Get(s0,-dx,0), float4x4(-0.010606147348881,-0.042877353727818,0.024700203910470,0.072043396532536,-0.042808298021555,0.009438045322895,0.034921679645777,-0.053205206990242,0.045548576861620,0.087299950420856,0.128287240862846,-0.045048657804728,-0.009841728955507,-0.004665929358453,-0.036794785410166,0.024743085727096));
res += mul(Get(s0,-dx,dy), float4x4(0.034220956265926,-0.001095188548788,-0.014645406976342,0.115083478391171,0.047175861895084,0.010818463750184,0.039736870676279,-0.061345197260380,-0.015164465643466,0.028287541121244,0.035395819693804,-0.110104881227016,0.006636436562985,-0.007303163874894,-0.040707282721996,0.018377074971795));
res += mul(Get(s0,0,-dy), float4x4(0.016934845596552,-0.031486500054598,-0.015701808035374,0.042037930339575,-0.067590869963169,-0.049828775227070,0.028624800965190,-0.039878342300653,-0.054263118654490,-0.049876235425472,-0.098171509802341,0.070323340594769,-0.041437346488237,-0.042151421308517,-0.019694577902555,-0.034869138151407));
res += mul(Get(s0,0,0), float4x4(0.017957892268896,-0.018215892836452,-0.068913891911507,0.150912061333656,0.015561703592539,0.013193902559578,0.065545864403248,-0.038921497762203,0.151609048247337,0.020261185243726,0.013681412674487,0.177776172757149,0.004705101717263,-0.007812148425728,-0.032956205308437,0.001678082160652));
res += mul(Get(s0,0,dy), float4x4(-0.012211432680488,-0.022195423021913,-0.035378430038691,0.151349782943726,0.025601983070374,0.043294306844473,0.030432751402259,-0.020656632259488,0.024175979197025,-0.041917473077774,0.030522840097547,-0.100701220333576,0.013318382203579,-0.014718825928867,-0.026838777586818,-0.013149883598089));
res += mul(Get(s0,dx,-dy), float4x4(-0.019046910107136,0.002828496042639,-0.051905263215303,-0.038353741168976,-0.009524674154818,-0.046795006841421,-0.060274053364992,0.107253685593605,0.028422946110368,-0.077760815620422,-0.128127813339233,-0.098402760922909,-0.033002320677042,-0.026382543146610,-0.015459038317204,-0.031054154038429));
res += mul(Get(s0,dx,0), float4x4(-0.052858959883451,-0.006239766255021,-0.126709461212158,0.081901401281357,-0.006304218433797,0.005242310464382,-0.097214981913567,0.134296253323555,0.082672238349915,-0.025569222867489,0.016633516177535,-0.085772946476936,0.004406324587762,0.002786840545014,-0.010682987980545,-0.041055902838707));
res += mul(Get(s0,dx,dy), float4x4(-0.024987280368805,-0.044977895915508,-0.062203556299210,0.054175093770027,-0.027120841667056,0.063934721052647,-0.096692100167274,0.118492633104324,-0.006044547073543,-0.018593354150653,-0.028818149119616,-0.176425918936729,-0.009640734642744,-0.002005690941587,0.000007993432519,-0.045394107699394));
res += mul(Get(s1,-dx,-dy), float4x4(-0.063793152570724,-0.111901491880417,-0.046996675431728,-0.095418959856033,0.020816773176193,-0.001374841784127,-0.031786777079105,0.070243380963802,-0.013337279669940,-0.043599367141724,-0.043878968805075,-0.045336131006479,0.031386461108923,0.205546975135803,0.125882670283318,0.041197504848242));
res += mul(Get(s1,-dx,0), float4x4(-0.121414043009281,-0.152415037155151,0.012347783893347,0.010539911687374,0.046229302883148,0.006231607403606,-0.014715878292918,0.025762176141143,0.067497655749321,0.058795917779207,-0.034874901175499,-0.087693080306053,0.007083641830832,0.193546459078789,0.052554450929165,0.063207030296326));
res += mul(Get(s1,-dx,dy), float4x4(-0.104936413466930,-0.022320199757814,0.074850611388683,-0.044241540133953,-0.013341790996492,-0.045871119946241,-0.053774453699589,-0.029861573129892,0.071419306099415,0.016789576038718,-0.153184935450554,0.005689268466085,-0.045624759048223,0.068755619227886,0.043594613671303,0.080153755843639));
res += mul(Get(s1,0,-dy), float4x4(-0.044876605272293,-0.111864358186722,0.050904437899590,-0.060086738318205,0.073951616883278,0.000121672659589,0.041514888405800,0.011765317060053,-0.021293425932527,-0.021242847666144,-0.078376241028309,0.046482939273119,0.062634341418743,0.083874061703682,0.002125199884176,0.049878753721714));
res += mul(Get(s1,0,0), float4x4(-0.099402613937855,-0.135694950819016,0.140972226858139,-0.044870797544718,0.041973743587732,-0.016939030960202,0.061894148588181,-0.051887921988964,0.060121841728687,0.109031535685062,0.059031516313553,-0.074446678161621,0.003699332708493,0.040364738553762,-0.090443171560764,0.146285206079483));
res += mul(Get(s1,0,dy), float4x4(-0.084526747465134,-0.023144109174609,0.004065663088113,0.074524402618408,-0.030757566913962,-0.049715895205736,0.026207838207483,-0.080240897834301,0.033244982361794,0.042151212692261,-0.038085095584393,0.028895344585180,-0.034549742937088,-0.039019621908665,-0.038782406598330,0.071544133126736));
res += mul(Get(s1,dx,-dy), float4x4(-0.071903213858604,-0.046017955988646,0.066395409405231,-0.104154951870441,0.037536434829235,-0.025300575420260,-0.039315085858107,0.073956109583378,0.007591575849801,-0.075344584882259,-0.185519501566887,0.058928672224283,0.023878434672952,-0.034648660570383,-0.043221741914749,0.067328013479710));
res += mul(Get(s1,dx,0), float4x4(-0.080496460199356,-0.082082346081734,0.122756801545620,-0.034411966800690,0.014303672127426,-0.070356622338295,-0.079094365239143,0.108479574322701,0.029290996491909,-0.054808832705021,-0.007932293228805,0.018544640392065,-0.001079473178834,-0.073031343519688,-0.080389879643917,0.086898729205132));
res += mul(Get(s1,dx,dy), float4x4(-0.048739280551672,0.006580621935427,0.037159763276577,-0.045390561223030,-0.011628587730229,-0.055270612239838,-0.063468314707279,-0.018273953348398,0.004184392280877,-0.049631491303444,-0.038016732782125,0.069838739931583,0.025668043643236,-0.030302667990327,-0.000182467265404,-0.080144807696342));
res += mul(Get(s2,-dx,-dy), float4x4(-0.020531108602881,0.062972173094749,0.064979016780853,0.074410445988178,0.022143231704831,-0.052990775555372,-0.069312810897827,0.039030864834785,0.127100482583046,0.044654350727797,-0.050273410975933,-0.020807856693864,-0.104944609105587,-0.029236197471619,0.024001505225897,0.065612837672234));
res += mul(Get(s2,-dx,0), float4x4(-0.021188583225012,0.045833703130484,0.018364792689681,0.031572639942169,0.009973092935979,0.003294002031907,-0.056864269077778,0.085549950599670,0.064089849591255,-0.050377048552036,0.016896905377507,-0.135464921593666,-0.044694349169731,0.037119079381227,0.197874918580055,0.048462811857462));
res += mul(Get(s2,-dx,dy), float4x4(-0.045261047780514,0.046756483614445,0.006321315187961,0.004766581114382,-0.007121220231056,0.012916402891278,-0.024112261831760,0.011083642020822,-0.122684791684151,-0.111603796482086,-0.040957979857922,-0.059544455260038,0.005563125945628,-0.031103543937206,0.084825552999973,-0.018242053687572));
res += mul(Get(s2,0,-dy), float4x4(0.033360179513693,0.055369820445776,0.106663867831230,-0.002171540167183,0.011874143034220,-0.036477539688349,-0.038832444697618,-0.034133702516556,0.090492010116577,0.111025020480156,0.025925714522600,-0.061757024377584,-0.018992643803358,-0.092799380421638,-0.020426128059626,0.018366787582636));
res += mul(Get(s2,0,0), float4x4(0.023929016664624,0.025871500372887,0.095749080181122,-0.079764381051064,-0.021406657993793,-0.013240986503661,0.016115929931402,-0.033472206443548,0.026219263672829,0.040781479328871,0.060843672603369,-0.067712932825089,0.034005004912615,0.011163273826241,0.030369075015187,0.216942444443703));
res += mul(Get(s2,0,dy), float4x4(0.020347751677036,0.033934678882360,0.063303329050541,-0.052349254488945,-0.033076908439398,0.001634406042285,0.020191390067339,-0.047434363514185,-0.074136711657047,-0.052407532930374,0.012254161760211,0.040134102106094,0.023987291380763,-0.003021208103746,0.112043961882591,0.097015790641308));
res += mul(Get(s2,dx,-dy), float4x4(0.066894419491291,0.068085454404354,0.070160634815693,-0.023300688713789,-0.019255097955465,-0.042112689465284,-0.168129414319992,0.006408293265849,0.080381408333778,0.107630036771297,-0.024572303518653,0.037874452769756,0.031240733340383,-0.066048890352249,-0.158084914088249,0.039306037127972));
res += mul(Get(s2,dx,0), float4x4(0.087412849068642,0.033729225397110,0.046448174864054,-0.049230471253395,-0.017133649438620,-0.053132779896259,-0.135639399290085,0.059121251106262,0.058385256677866,0.109826944768429,0.008424903266132,-0.005339900963008,0.008661730214953,-0.056310333311558,-0.145800098776817,0.303503841161728));
res += mul(Get(s2,dx,dy), float4x4(0.069161027669907,0.034559503197670,0.045260157436132,-0.084374055266380,-0.009385872632265,-0.016763592138886,-0.107374072074890,0.014213375747204,0.001853535184637,0.048318233340979,-0.016526104882360,0.012117614969611,-0.037239104509354,-0.047643579542637,-0.087249755859375,0.269627064466476));
res += mul(Get(s3,-dx,-dy), float4x4(-0.003505069762468,-0.026881374418736,0.003872990841046,0.044261392205954,0.122334994375706,0.047364272177219,0.100109487771988,0.049468792974949,-0.068684302270412,-0.015298078767955,0.064934253692627,-0.127056002616882,-0.046782448887825,-0.065787956118584,0.001696746447124,0.035496313124895));
res += mul(Get(s3,-dx,0), float4x4(0.038127508014441,0.008421259932220,0.059420358389616,0.022508675232530,-0.036788076162338,0.014454747550189,-0.033783875405788,0.198660865426064,-0.021179897710681,0.056398440152407,0.091633245348930,-0.074493780732155,-0.015063210390508,-0.022138584405184,0.012377652339637,0.116616860032082));
res += mul(Get(s3,-dx,dy), float4x4(0.059780407696962,0.018802223727107,0.091239631175995,-0.032908130437136,-0.082436725497246,0.152454122900963,0.124276727437973,0.018396124243736,0.044461447745562,0.069837331771851,-0.002700193552300,-0.002848276169971,0.036840844899416,-0.010965963825583,0.036655128002167,0.024006227031350));
res += mul(Get(s3,0,-dy), float4x4(0.051949720829725,-0.021187776699662,0.028969464823604,0.011367304250598,0.188196852803230,0.057422898709774,0.106482461094856,-0.095688372850418,-0.070125162601471,-0.011644338257611,0.072504565119743,-0.020387856289744,-0.002959748031572,-0.004448175430298,-0.000553658872377,-0.048421815037727));
res += mul(Get(s3,0,0), float4x4(0.058802578598261,0.016733145341277,0.020585326477885,0.083716258406639,-0.077112175524235,-0.042399372905493,0.018065778538585,-0.095962814986706,0.089251406490803,0.054964572191238,0.022959625348449,0.106471143662930,0.033845901489258,-0.006781203206629,-0.077337808907032,0.096112519502640));
res += mul(Get(s3,0,dy), float4x4(0.077487088739872,0.057466175407171,0.078987598419189,-0.026418469846249,-0.094615563750267,0.131886094808578,0.085731044411659,-0.020385460928082,0.097217984497547,0.039996184408665,-0.007128895726055,0.027423843741417,0.043845660984516,-0.036283556371927,-0.038096800446510,0.071381829679012));
res += mul(Get(s3,dx,-dy), float4x4(-0.007271746173501,-0.086547464132309,-0.088964961469173,0.157283082604408,0.007832478731871,0.105802126228809,0.071126662194729,-0.130003422498703,0.046585611999035,0.020937964320183,0.011177525855601,0.022183334454894,0.004908242728561,-0.023992225527763,0.013979803770781,-0.049790985882282));
res += mul(Get(s3,dx,0), float4x4(0.028680184856057,-0.039774969220161,-0.074210554361343,0.119651563465595,-0.066860362887383,0.033677637577057,0.088455528020859,-0.174496173858643,0.118866741657257,0.049934852868319,-0.009871339425445,0.052655190229416,0.016921112313867,-0.045416038483381,0.008627605624497,-0.027297213673592));
res += mul(Get(s3,dx,dy), float4x4(0.040874503552914,0.046256508678198,0.031212521716952,-0.038249842822552,-0.022217458114028,0.159468501806259,0.102876856923103,-0.166676744818687,0.038747247308493,0.033966019749641,-0.026479134336114,0.008358030579984,0.005911897867918,-0.074311360716820,0.016688521951437,-0.009665359742939));
return max(float4(0,0,0,0), res);
}
