sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.042083185166121,0.022537924349308,-0.012731034308672,-0.012438685633242,0.011268869973719,0.061976194381714,0.111348897218704,-0.077214390039444,-0.099966302514076,0.008444797247648,0.082998983561993,0.045109771192074,-0.162666246294975,-0.053358331322670,-0.083696544170380,-0.078411392867565));
res += mul(Get(s0,-dx,0), float4x4(0.045639440417290,0.025595368817449,0.063219100236893,0.034613855183125,-0.023888006806374,0.076081246137619,-0.022222420200706,-0.120280750095844,-0.056110568344593,0.078584432601929,-0.015500353649259,0.035230539739132,-0.155797407031059,-0.087225504219532,-0.092261008918285,-0.093565292656422));
res += mul(Get(s0,-dx,dy), float4x4(0.011865516193211,-0.035759475082159,0.002743520773947,0.016528777778149,0.102235913276672,-0.056190580129623,-0.000941703503486,-0.073611021041870,-0.026259861886501,0.010002662427723,-0.030487168580294,-0.034375522285700,-0.062914289534092,-0.090593591332436,-0.152631327509880,-0.101871035993099));
res += mul(Get(s0,0,-dy), float4x4(0.036304421722889,0.066950544714928,0.048621524125338,-0.027786625549197,-0.052605871111155,-0.023507041856647,0.004270972684026,-0.083884134888649,-0.061243128031492,0.032557521015406,0.058946710079908,0.136076226830482,-0.127571105957031,0.099379129707813,0.204914644360542,-0.103430181741714));
res += mul(Get(s0,0,0), float4x4(0.015606565400958,0.009484455920756,0.096209615468979,-0.058906283229589,0.001432470860891,0.134753823280334,0.087957762181759,0.004056128673255,0.003593110712245,0.098307870328426,-0.004808297380805,0.148272305727005,0.092800594866276,-0.013427621684968,-0.080403707921505,-0.191967546939850));
res += mul(Get(s0,0,dy), float4x4(-0.111270539462566,0.015593375079334,-0.007281511090696,0.008637711405754,0.114411436021328,-0.014777761884034,0.080402143299580,0.099048092961311,0.011541214771569,0.014212713576853,-0.130630493164063,-0.002127173356712,-0.006575007922947,-0.116844892501831,-0.022553833201528,0.010283416137099));
res += mul(Get(s0,dx,-dy), float4x4(0.037869062274694,0.034108713269234,-0.053129874169827,-0.027567148208618,-0.099381543695927,-0.039028242230415,0.012151426635683,-0.021852310746908,0.031585264950991,-0.007092726416886,0.057910963892937,0.016356021165848,-0.099788725376129,0.143300697207451,-0.031110538169742,-0.100683405995369));
res += mul(Get(s0,dx,0), float4x4(0.198400110006332,-0.032071899622679,0.011422452516854,-0.048386082053185,-0.082200899720192,0.055010531097651,0.155225872993469,0.201914593577385,-0.005353543907404,0.052770681679249,-0.011474640108645,0.058821339160204,0.111429512500763,0.012102214619517,0.057631690055132,-0.066077701747417));
res += mul(Get(s0,dx,dy), float4x4(0.057891320437193,0.001585561549291,-0.082488477230072,-0.034634422510862,0.075204998254776,-0.050546407699585,-0.034595210105181,-0.056980758905411,0.001618506968953,-0.018902538344264,-0.054368030279875,-0.044373430311680,0.026879649609327,-0.071092925965786,-0.016573224216700,0.043936602771282));
res += mul(Get(s1,-dx,-dy), float4x4(-0.066718012094498,0.097236238420010,0.035328559577465,-0.090988382697105,-0.149650186300278,0.066103294491768,0.097907647490501,0.012456639669836,0.066262871026993,-0.052888609468937,0.089043885469437,-0.019994225353003,-0.015020019374788,-0.005801657680422,-0.054138354957104,-0.068774707615376));
res += mul(Get(s1,-dx,0), float4x4(0.022270420566201,0.110462084412575,0.170235827565193,0.053497284650803,-0.046359207481146,-0.013685489073396,-0.112137958407402,-0.036947961896658,-0.196228027343750,-0.013090118765831,-0.061797123402357,-0.092120133340359,-0.036158632487059,0.010749017819762,0.034325204789639,0.011805843561888));
res += mul(Get(s1,-dx,dy), float4x4(-0.050964761525393,-0.037132844328880,-0.078362762928009,0.105159394443035,0.118985928595066,0.006191249936819,-0.031444460153580,-0.060627147555351,-0.007767472416162,0.019514102488756,0.053710334002972,-0.158367872238159,-0.088956549763680,-0.052733667194843,0.018669808283448,0.033241849392653));
res += mul(Get(s1,0,-dy), float4x4(-0.020612984895706,0.066080115735531,0.021517103537917,-0.061093155294657,-0.075819358229637,0.031825888901949,0.132948920130730,-0.015720760449767,0.091504722833633,-0.024939537048340,0.109085194766521,-0.045833997428417,-0.049070443958044,0.017869215458632,0.044504657387733,-0.006029034033418));
res += mul(Get(s1,0,0), float4x4(0.001686428906396,0.046091798692942,0.245535567402840,0.227983176708221,-0.154286935925484,-0.042277317494154,0.133120194077492,-0.009531757794321,0.007189269177616,0.020700717344880,-0.003617023583502,-0.059973336756229,0.017991976812482,0.072376355528831,-0.015892311930656,-0.046753343194723));
res += mul(Get(s1,0,dy), float4x4(-0.021816635504365,-0.035445056855679,0.062485042959452,0.170652359724045,0.027420843020082,-0.080450102686882,0.046759769320488,-0.003274069633335,0.131399393081665,-0.048241544514894,0.017107503488660,-0.065635189414024,-0.046592015773058,-0.072626687586308,0.080388963222504,-0.025487089529634));
res += mul(Get(s1,dx,-dy), float4x4(-0.023877687752247,0.064625978469849,-0.037915792316198,0.030680043622851,-0.055515881627798,0.027479173615575,-0.091756202280521,-0.053403429687023,-0.008507959544659,0.060026854276657,0.109362930059433,-0.024183576926589,-0.044019170105457,-0.059326712042093,0.040618326514959,-0.115421973168850));
res += mul(Get(s1,dx,0), float4x4(-0.037628363817930,0.022748455405235,0.043741945177317,0.000453872780781,0.058170150965452,0.041710659861565,-0.002554308623075,-0.052844002842903,0.088476203382015,0.107136771082878,0.053715605288744,0.050727996975183,-0.059411630034447,-0.025656796991825,0.008844895288348,-0.057881463319063));
res += mul(Get(s1,dx,dy), float4x4(-0.013926072046161,0.076140530407429,-0.063155919313431,0.010380443185568,0.115457497537136,-0.038441319018602,0.033339709043503,-0.039760462939739,0.179154112935066,0.001284299185500,-0.007535777054727,0.039982192218304,0.047080453485250,-0.092200323939323,0.045595839619637,-0.007986354641616));
res += mul(Get(s2,-dx,-dy), float4x4(-0.059543680399656,0.114896014332771,-0.113081865012646,-0.023600287735462,-0.086763553321362,-0.003432500641793,0.007033686619252,0.079863443970680,-0.067630872130394,-0.089657321572304,-0.101693168282509,0.155596598982811,-0.127850964665413,0.031872618943453,0.074370667338371,-0.039104804396629));
res += mul(Get(s2,-dx,0), float4x4(-0.088041521608829,0.045476846396923,-0.185035139322281,0.049713481217623,-0.095688097178936,0.085759222507477,-0.043809592723846,0.037016354501247,-0.065904736518860,-0.089475654065609,-0.105000339448452,0.005251953378320,-0.032373551279306,0.018415065482259,-0.006377520039678,0.000024491717340));
res += mul(Get(s2,-dx,dy), float4x4(0.123061820864677,-0.070416301488876,-0.072028122842312,0.000128666608362,-0.079750992357731,0.010394022800028,-0.052563883364201,0.037624113261700,-0.042596347630024,-0.115074090659618,0.208877339959145,0.026284879073501,-0.082699455320835,0.028660641983151,-0.052914526313543,-0.060329250991344));
res += mul(Get(s2,0,-dy), float4x4(-0.105734772980213,-0.006956397090107,0.093539193272591,0.006350744049996,0.014728948473930,0.024741815403104,0.068375058472157,-0.072402842342854,-0.028909796848893,-0.088945113122463,-0.055466689169407,-0.129231244325638,-0.026089867576957,0.024473708122969,0.023878125473857,0.026297401636839));
res += mul(Get(s2,0,0), float4x4(-0.090864002704620,0.034849148243666,-0.037112679332495,0.031272485852242,-0.008110176771879,0.002568696625531,-0.099542632699013,-0.154511719942093,-0.023377073928714,-0.064397133886814,0.010590264573693,-0.063246779143810,0.139113366603851,-0.076423279941082,-0.089391067624092,0.065520972013474));
res += mul(Get(s2,0,dy), float4x4(0.061826955527067,-0.058228287845850,0.035807479172945,0.089741438627243,-0.030525533482432,-0.024185778573155,0.007942315191031,0.011012723669410,-0.058407470583916,-0.059343229979277,0.143959909677505,0.008556271903217,-0.031643029302359,0.066809751093388,-0.018706077709794,0.056194040924311));
res += mul(Get(s2,dx,-dy), float4x4(-0.124766454100609,-0.049341816455126,-0.137762770056725,-0.024897033348680,-0.007963852956891,-0.055155742913485,-0.013477708213031,-0.117994174361229,-0.029225906357169,0.013448880985379,-0.021575026214123,0.001827373285778,-0.053371462970972,0.015254856087267,-0.034722384065390,0.037308417260647));
res += mul(Get(s2,dx,0), float4x4(-0.088399775326252,-0.003791401395574,-0.205357760190964,0.124504730105400,0.046054840087891,0.028142409399152,-0.103377506136894,-0.090180024504662,0.058350551873446,-0.040655039250851,-0.002389024011791,0.001394668011926,0.094149135053158,-0.053949184715748,-0.021785799413919,0.103526830673218));
res += mul(Get(s2,dx,dy), float4x4(-0.006041105836630,-0.092484124004841,0.004982254467905,0.243629917502403,0.132471337914467,-0.005106824915856,0.012061696499586,0.028978198766708,0.040064334869385,-0.073619380593300,0.103907108306885,-0.092778176069260,0.033371496945620,-0.039216760545969,0.078974179923534,0.178664460778236));
res += mul(Get(s3,-dx,-dy), float4x4(-0.002572333905846,-0.021963931620121,0.071920931339264,-0.197251826524734,-0.050926648080349,-0.047045737504959,0.058681022375822,0.206031084060669,-0.071027606725693,-0.047235082834959,-0.090426638722420,-0.147931486368179,0.071808293461800,-0.001315896399319,0.032609593123198,-0.001275530550629));
res += mul(Get(s3,-dx,0), float4x4(-0.056699287146330,-0.045193605124950,-0.181639105081558,-0.215882509946823,0.041036486625671,-0.078344888985157,-0.012550189159811,0.188345849514008,0.026793390512466,0.039388202130795,-0.031148178502917,-0.086761362850666,-0.057539366185665,0.002430356340483,-0.063498839735985,0.001499995123595));
res += mul(Get(s3,-dx,dy), float4x4(-0.098920792341232,-0.060303796082735,0.053624637424946,0.102375999093056,0.053896129131317,-0.069601714611053,0.080231115221977,-0.055242277681828,-0.016588559374213,-0.012195284478366,0.134583979845047,-0.055316146463156,-0.051933847367764,0.004339122679085,0.033459350466728,0.007894855923951));
res += mul(Get(s3,0,-dy), float4x4(0.133406475186348,0.033436194062233,0.058734342455864,-0.068077445030212,0.021656615659595,-0.019825205206871,0.057239755988121,0.108458913862705,0.030342126265168,-0.016561068594456,-0.031268037855625,0.001422980334610,0.059171847999096,0.003183708060533,0.012335151433945,-0.005832327529788));
res += mul(Get(s3,0,0), float4x4(-0.048303570598364,0.004311697091907,0.021961636841297,0.081116408109665,0.188743263483047,-0.066529102623463,-0.191908299922943,-0.159431174397469,0.090491093695164,-0.006684450898319,0.002318993676454,-0.034893549978733,-0.046567201614380,-0.031708002090454,-0.031360860913992,0.002679631346837));
res += mul(Get(s3,0,dy), float4x4(0.004468941129744,-0.042902905493975,0.124832518398762,0.176727697253227,0.021547088399529,-0.028346898034215,0.094886712729931,0.015528503805399,-0.044732168316841,-0.060138940811157,0.039933998137712,-0.017573880031705,-0.092218711972237,0.021856063976884,-0.001296797418036,0.071744121611118));
res += mul(Get(s3,dx,-dy), float4x4(0.052498523145914,0.010914070531726,-0.058974601328373,0.103357933461666,-0.164811611175537,0.003536009462550,0.035925652831793,-0.042254604399204,0.059364207088947,0.051483966410160,0.000057071847550,-0.077283844351768,0.065575614571571,0.022449541836977,-0.055447753518820,-0.049443341791630));
res += mul(Get(s3,dx,0), float4x4(-0.003579793963581,-0.031523797661066,-0.008511766791344,0.110014341771603,0.000997384311631,-0.015717884525657,-0.129094526171684,-0.016563564538956,0.262237817049026,0.019970025867224,-0.002072897041216,-0.058387149125338,-0.033982601016760,-0.047339212149382,-0.092827968299389,0.039874419569969));
res += mul(Get(s3,dx,dy), float4x4(0.146939709782600,-0.049691189080477,-0.044268146157265,0.062566459178925,0.064932145178318,0.003948366735131,0.001906779245473,0.002197395544499,0.098611406981945,-0.034993074834347,-0.090016081929207,-0.103714331984520,-0.067479953169823,-0.010571476072073,-0.019347809255123,0.018152808770537));
return max(float4(0,0,0,0), res);
}
