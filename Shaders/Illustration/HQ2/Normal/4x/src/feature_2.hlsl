sampler s0 : register(s0);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(x, y)   tex2D(s0, tex + float2(x, y))[0]

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += float4(-0.024087494239211,-0.108785822987556,0.090462833642960,-0.085378006100655) * Get(-dx,-dy);
res += float4(0.228765279054642,-0.203065261244774,-0.031651522964239,-0.022229179739952) * Get(-dx,0);
res += float4(-0.009923423640430,0.116096831858158,0.294988125562668,0.038924202322960) * Get(-dx,dy);
res += float4(-0.059541929513216,0.012650582008064,-0.129269212484360,-0.271392256021500) * Get(0,-dy);
res += float4(-0.042470067739487,0.104636676609516,-0.282979816198349,-0.009003339335322) * Get(0,0);
res += float4(0.017977438867092,0.269525229930878,0.130626305937767,0.160171851515770) * Get(0,dy);
res += float4(0.030472530052066,-0.148407459259033,-0.083083182573318,-0.090146593749523) * Get(dx,-dy);
res += float4(-0.023637708276510,-0.171963274478912,-0.094380542635918,0.052637256681919) * Get(dx,0);
res += float4(-0.044035505503416,-0.020033162087202,-0.071680121123791,0.236473083496094) * Get(dx,dy);
return max(float4(0,0,0,0), res);
}
