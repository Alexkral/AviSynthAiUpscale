sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.070617467164993,0.000228471209994,-0.045566421002150,0.079306356608868,0.033529739826918,-0.084285512566566,0.126423820853233,0.013412443920970,0.042810972779989,-0.011475607752800,-0.042448077350855,-0.017438132315874,-0.125460490584373,-0.082455389201641,-0.075664162635803,0.037389848381281));
res += mul(Get(s0,-dx,0), float4x4(0.049404945224524,-0.057086423039436,-0.042594585567713,0.040443468838930,0.072828225791454,0.120193704962730,-0.009946667589247,-0.026720583438873,-0.029700519517064,-0.085693120956421,0.028295325115323,-0.042494930326939,-0.029387196525931,0.022923422977328,-0.098165608942509,-0.121834844350815));
res += mul(Get(s0,-dx,dy), float4x4(-0.012904315255582,-0.072809606790543,0.007359169889241,-0.036195948719978,-0.012792860157788,0.015445836819708,0.149181872606277,0.002217178931460,-0.022265482693911,-0.009556207805872,-0.026000455021858,0.025334617123008,-0.094538398087025,0.051050733774900,-0.073681302368641,-0.125727429986000));
res += mul(Get(s0,0,-dy), float4x4(-0.002062224317342,0.101286187767982,-0.042568545788527,-0.021514790132642,-0.021600451320410,-0.014062128029764,0.117505609989166,0.026463646441698,0.099030800163746,-0.060288522392511,-0.028344571590424,-0.043292760848999,-0.059941411018372,-0.071791432797909,-0.125262841582298,0.006435039453208));
res += mul(Get(s0,0,0), float4x4(-0.081620901823044,0.013712129555643,0.039407324045897,-0.068283110857010,-0.023150812834501,0.120670258998871,-0.005759636871517,0.039601478725672,0.030258879065514,-0.102122969925404,-0.030725734308362,-0.056796029210091,0.023735703900456,-0.004411272238940,-0.111989647150040,-0.098363071680069));
res += mul(Get(s0,0,dy), float4x4(-0.102106854319572,0.051909167319536,0.100452288985252,-0.007090039085597,-0.043005883693695,-0.017430042847991,0.185897827148438,0.093069419264793,0.001813862938434,-0.038885790854692,0.105032689869404,0.134441480040550,0.042331948876381,-0.028460737317801,-0.069915123283863,0.003019259311259));
res += mul(Get(s0,dx,-dy), float4x4(0.028905590996146,0.052144095301628,0.088581725955009,0.137937694787979,0.032724265009165,-0.019925639033318,0.114917851984501,-0.053213220089674,0.121995724737644,0.043885774910450,-0.071113854646683,0.088804051280022,-0.075461767613888,-0.046887911856174,-0.024180646985769,0.024550070986152));
res += mul(Get(s0,dx,0), float4x4(-0.036293301731348,-0.008566516451538,0.136353775858879,0.043188173323870,0.046322580426931,0.091063886880875,-0.008641203865409,-0.019336340948939,0.070358268916607,-0.092962533235550,0.031684089452028,0.141710668802261,0.056369420140982,0.006332452408969,-0.068174481391907,0.121742211282253));
res += mul(Get(s0,dx,dy), float4x4(-0.074684612452984,0.052613347768784,0.174118518829346,-0.070577792823315,-0.032052148133516,0.011276578530669,0.104040160775185,0.012400348670781,0.016873968765140,-0.069579929113388,0.098259881138802,0.090837821364403,0.063151963055134,0.008885388262570,-0.088209033012390,0.160795822739601));
res += mul(Get(s1,-dx,-dy), float4x4(0.014148290269077,-0.046448279172182,0.007219832856208,-0.020817007869482,-0.011481667868793,-0.095560409128666,0.024664539843798,-0.045301303267479,-0.090713977813721,-0.046118907630444,0.027184212580323,-0.018382852897048,0.019966529682279,0.195478260517120,-0.064176984131336,-0.025096766650677));
res += mul(Get(s1,-dx,0), float4x4(-0.040072035044432,-0.068605609238148,0.082657977938652,-0.084099821746349,0.034668918699026,-0.008200044743717,0.002118074800819,0.060919094830751,-0.036770585924387,0.059725500643253,-0.076224729418755,0.021979032084346,0.041099283844233,-0.031618773937225,-0.031713251024485,-0.089454658329487));
res += mul(Get(s1,-dx,dy), float4x4(0.005593928974122,-0.146636232733727,-0.016454080119729,-0.099439121782780,-0.001816941658035,0.036728020757437,-0.008410664275289,-0.013503298163414,-0.084172286093235,0.020895833149552,-0.039690542966127,-0.059814479202032,0.092769272625446,0.042726814746857,-0.070465147495270,-0.159134238958359));
res += mul(Get(s1,0,-dy), float4x4(-0.013745722360909,-0.102028198540211,-0.012375468388200,-0.022347427904606,-0.036629401147366,-0.011890598572791,0.041165180504322,-0.021664643660188,-0.081786923110485,-0.101146884262562,0.161552399396896,-0.027776980772614,0.141153946518898,0.206676334142685,-0.089124925434589,-0.067605756223202));
res += mul(Get(s1,0,0), float4x4(0.084112077951431,-0.053330861032009,-0.002757243346423,-0.130578517913818,0.092582724988461,-0.001915313536301,-0.118437595665455,-0.017441356554627,-0.016447274014354,0.079479925334454,0.000097400028608,0.091349802911282,0.068666204810143,-0.185351490974426,-0.000332065101247,-0.046560276299715));
res += mul(Get(s1,0,dy), float4x4(0.020563611760736,-0.080124147236347,0.080753237009048,0.023349910974503,0.109102226793766,0.024456158280373,-0.083737723529339,-0.055819652974606,0.075624361634254,0.000879804836586,-0.092156603932381,0.011404095217586,-0.004371484741569,-0.096635863184929,-0.076453290879726,-0.111685775220394));
res += mul(Get(s1,dx,-dy), float4x4(-0.003780810628086,-0.053188126534224,0.068956263363361,0.077240794897079,0.019530616700649,0.013860188424587,-0.014293944463134,0.002872868208215,-0.033686332404613,0.029694594442844,0.040981952100992,-0.110036768019199,-0.025579031556845,0.148097634315491,-0.067028112709522,-0.081049002707005));
res += mul(Get(s1,dx,0), float4x4(0.129002511501312,0.056548118591309,-0.000378654687665,0.125409901142120,0.192209318280220,0.030522722750902,-0.091728478670120,0.066676184535027,-0.060818437486887,0.037726182490587,0.036273211240768,-0.068955995142460,0.063442572951317,-0.068657182157040,0.010998746380210,0.041019160300493));
res += mul(Get(s1,dx,dy), float4x4(0.001040413393639,-0.006780606694520,-0.021266475319862,0.031606964766979,0.101539686322212,0.043256454169750,-0.103444375097752,0.137023419141769,-0.068006753921509,-0.019773561507463,-0.090133972465992,-0.064556621015072,-0.015168676152825,-0.062322784215212,-0.095998130738735,-0.025370677933097));
res += mul(Get(s2,-dx,-dy), float4x4(0.013010269030929,-0.001699359505437,0.019842552021146,0.129323348402977,0.027429560199380,-0.155015096068382,0.100922852754593,0.012291043996811,-0.023605847731233,0.084236092865467,0.131026297807693,-0.008799187839031,-0.016942435875535,0.002695241710171,-0.046312026679516,-0.019960392266512));
res += mul(Get(s2,-dx,0), float4x4(0.029191456735134,-0.001214000862092,-0.086122773587704,0.000811074802186,-0.048500787466764,-0.100978806614876,0.086718522012234,-0.138174682855606,-0.028309028595686,0.085069663822651,-0.007939828559756,-0.020943937823176,-0.060725573450327,-0.026808623224497,0.047581944614649,0.010266188532114));
res += mul(Get(s2,-dx,dy), float4x4(-0.069755584001541,-0.016113920137286,0.157383948564529,-0.001534970826469,0.006588807329535,0.065019406378269,-0.109877713024616,-0.043481212109327,0.004257729742676,0.028548952192068,-0.063588276505470,-0.100221142172813,-0.031581979244947,0.055109065026045,0.058149158954620,-0.044393140822649));
res += mul(Get(s2,0,-dy), float4x4(0.051606930792332,0.018822418525815,0.141450047492981,0.087117813527584,-0.038538396358490,-0.197019219398499,0.100758060812950,0.130197033286095,-0.072925470769405,0.059910308569670,0.138470932841301,-0.047293212264776,0.023937499150634,-0.017082236707211,-0.050873823463917,-0.033759888261557));
res += mul(Get(s2,0,0), float4x4(0.045359168201685,0.085439525544643,-0.050284765660763,0.107953101396561,-0.129621833562851,-0.084772177040577,0.100549876689911,-0.018479868769646,-0.025506811216474,0.031758829951286,0.040238175541162,-0.065817184746265,0.056168884038925,-0.051705997437239,0.056997008621693,-0.008625973947346));
res += mul(Get(s2,0,dy), float4x4(-0.012796740978956,0.010923819616437,0.043611302971840,0.095059603452682,-0.072024933993816,0.104617908596992,-0.021406183019280,0.049953252077103,-0.108636423945427,0.010132296010852,-0.101058416068554,-0.120802700519562,0.005358762573451,0.023460827767849,0.099873922765255,-0.043078493326902));
res += mul(Get(s2,dx,-dy), float4x4(0.045183267444372,-0.045871160924435,0.060516584664583,0.046406440436840,-0.024513792246580,-0.050429616123438,0.092111557722092,0.259223163127899,-0.118554174900055,0.025663821026683,0.037032529711723,-0.023762935772538,0.044300686568022,-0.034824989736080,-0.037471316754818,0.014841045252979));
res += mul(Get(s2,dx,0), float4x4(0.017737228423357,0.027662301436067,0.066992416977882,0.085340067744255,-0.097740672528744,-0.010369754396379,0.052765563130379,0.116659559309483,-0.050387464463711,-0.028144488111138,-0.038181856274605,-0.136300906538963,0.032072898000479,-0.098519541323185,-0.006088805850595,0.026701763272285));
res += mul(Get(s2,dx,dy), float4x4(0.001675188424997,-0.014100747182965,0.076968125998974,0.095196515321732,-0.048189058899879,-0.023750772699714,0.005363953765482,0.026652548462152,-0.053916234523058,0.027296302840114,-0.016576906666160,-0.079966999590397,-0.085268653929234,0.006485943216830,-0.023977717384696,-0.054581433534622));
res += mul(Get(s3,-dx,-dy), float4x4(0.142169266939163,-0.055588774383068,-0.022297743707895,-0.049422223120928,0.009906098246574,-0.078528232872486,-0.035870272666216,0.017616713419557,0.032517921179533,-0.005236112046987,-0.029330689460039,0.020096782594919,0.005958354566246,0.063830055296421,0.030543360859156,-0.038229655474424));
res += mul(Get(s3,-dx,0), float4x4(0.119124040007591,-0.039038538932800,-0.004721818957478,-0.008028277195990,-0.019428823143244,-0.017948705703020,-0.067884385585785,-0.026215553283691,0.019564582034945,0.028100458905101,0.043675243854523,0.033228680491447,-0.025376684963703,0.149274721741676,0.017804870381951,0.052758965641260));
res += mul(Get(s3,-dx,dy), float4x4(-0.005453983321786,-0.031933628022671,-0.059322811663151,-0.085626870393753,-0.068217650055885,-0.027108410373330,-0.045462504029274,0.025028556585312,-0.000897493388038,0.060010906308889,-0.161644384264946,-0.002046392299235,-0.015994643792510,0.128773629665375,-0.003573800902814,0.004289496690035));
res += mul(Get(s3,0,-dy), float4x4(-0.035976428538561,-0.016440393403172,-0.042386382818222,-0.014196437783539,-0.045744989067316,-0.043026309460402,-0.030408849939704,0.033669117838144,-0.064014293253422,0.030142875388265,-0.045494053512812,0.003867898136377,0.036258410662413,0.160035550594330,-0.008991206064820,0.084712237119675));
res += mul(Get(s3,0,0), float4x4(-0.027912911027670,-0.025927085429430,0.076941542327404,-0.012876285240054,0.119820132851601,-0.005507726687938,-0.023638671264052,-0.004878669511527,0.012587965466082,0.026103539392352,0.006859225220978,-0.030113801360130,0.026682585477829,0.038530625402927,0.007582300808281,0.069931626319885));
res += mul(Get(s3,0,dy), float4x4(0.028152151033282,-0.013659060932696,-0.008367063477635,-0.072079867124557,-0.045777894556522,0.030980151146650,-0.001401549205184,0.022392742335796,-0.025799714028835,0.029874609783292,-0.116179540753365,0.010960996150970,0.124469958245754,0.053945310413837,0.025692882016301,-0.018600802868605));
res += mul(Get(s3,dx,-dy), float4x4(-0.061259400099516,-0.022263769060373,0.014918876811862,0.065247409045696,-0.082777969539165,-0.059653058648109,-0.067875862121582,-0.021388776600361,-0.046035505831242,-0.004742725752294,0.046522919088602,0.028474621474743,0.035435911267996,0.115281961858273,-0.079115517437458,0.080681711435318));
res += mul(Get(s3,dx,0), float4x4(-0.054271496832371,-0.036791045218706,-0.033729519695044,0.002187269972637,0.029991693794727,-0.077936023473740,-0.094954080879688,-0.013501001521945,0.053663536906242,0.023150257766247,-0.057301927357912,0.017082979902625,0.047068599611521,0.113719075918198,-0.044572036713362,0.132427215576172));
res += mul(Get(s3,dx,dy), float4x4(0.043986521661282,-0.006741061341017,-0.075672090053558,-0.091351360082626,-0.145109504461288,-0.027674425393343,0.005058487411588,0.011496705003083,0.056167781352997,-0.018073877319694,-0.075391083955765,0.052142914384604,0.083651371300220,0.056345842778683,0.046816553920507,0.131072357296944));
return max(float4(0,0,0,0), res);
}
