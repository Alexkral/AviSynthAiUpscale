sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.038587290793657,0.002687963424250,0.005320355296135,-0.018646659329534,0.077509410679340,0.056555289775133,-0.051508948206902,-0.028306178748608,-0.131564065814018,0.033004630357027,0.088535018265247,-0.041556172072887,0.008283045142889,0.037454247474670,0.038368672132492,0.145535528659821));
res += mul(Get(s0,-dx,0), float4x4(-0.029660796746612,-0.021166574209929,0.030591117218137,-0.006583219859749,0.075134411454201,-0.019395422190428,-0.032549384981394,0.224918350577354,-0.066894486546516,0.044705409556627,0.095988780260086,-0.098218999803066,-0.009339827112854,0.096816159784794,0.008821779862046,0.040451984852552));
res += mul(Get(s0,-dx,dy), float4x4(0.000117626084830,-0.007489973679185,0.061453003436327,0.075192160904408,0.075543425977230,-0.050574824213982,-0.095017284154892,0.139492541551590,0.104728855192661,0.041139837354422,0.185717344284058,-0.122220829129219,-0.026515007019043,0.102696560323238,-0.010046307928860,-0.038417663425207));
res += mul(Get(s0,0,-dy), float4x4(0.007136583793908,-0.040531374514103,0.016143033280969,-0.061883039772511,0.048587199300528,0.029742395505309,0.084753096103668,0.054270777851343,-0.081482678651810,-0.067714601755142,0.047698106616735,-0.114560328423977,-0.014289887621999,0.021088339388371,-0.017520684748888,0.009255765937269));
res += mul(Get(s0,0,0), float4x4(-0.007715975865722,-0.028017245233059,-0.027420911937952,-0.034693881869316,0.067309945821762,-0.022188613191247,0.046199660748243,0.216933220624924,-0.085983663797379,-0.083797529339790,-0.018999507650733,-0.056956097483635,-0.001268681837246,0.036194831132889,-0.026050772517920,0.097050599753857));
res += mul(Get(s0,0,dy), float4x4(0.022911986336112,-0.018706949427724,0.014452935196459,0.071283660829067,0.053103368729353,-0.018203033134341,0.017544582486153,0.129653900861740,0.086752250790596,-0.084099665284157,0.040606778115034,-0.214002117514610,-0.013838429935277,0.072593092918396,-0.064284980297089,0.007230458781123));
res += mul(Get(s0,dx,-dy), float4x4(0.034903176128864,-0.024045147001743,0.036563541740179,0.025631440803409,0.015033201314509,0.027438422665000,0.067946270108223,0.003272030968219,-0.022418322041631,-0.033155769109726,-0.054425120353699,-0.226961612701416,0.132123947143555,-0.048449583351612,-0.049949690699577,-0.099751546978951));
res += mul(Get(s0,dx,0), float4x4(-0.008862571790814,-0.010728009976447,-0.007456242106855,0.013137266971171,-0.001577091519721,0.038113024085760,0.056222882121801,0.009769827127457,-0.072671100497246,-0.023926969617605,-0.059162653982639,-0.057892255485058,0.120391950011253,-0.075180396437645,-0.002366585424170,-0.172212362289429));
res += mul(Get(s0,dx,dy), float4x4(-0.004069842863828,0.010936215519905,-0.004762860946357,0.004218094982207,0.018737297505140,0.049164850264788,0.019752904772758,-0.001181418658234,0.036544073373079,-0.045094802975655,0.059444986283779,-0.112808689475060,0.084374792873859,-0.046928774565458,-0.061615481972694,-0.025744574144483));
res += mul(Get(s1,-dx,-dy), float4x4(0.089906841516495,0.061789106577635,0.029220042750239,-0.052764505147934,-0.008005592040718,0.002654842799529,0.024942997843027,-0.073039844632149,-0.058589439839125,-0.080974481999874,0.021172011271119,0.131094813346863,-0.002778328256682,-0.043809428811073,-0.080688223242760,-0.060231145471334));
res += mul(Get(s1,-dx,0), float4x4(0.055216655135155,0.023688238114119,0.062757551670074,-0.001737828482874,-0.019959773868322,0.003118709195405,0.010927645489573,0.092739135026932,-0.072924897074699,-0.078886933624744,-0.086251057684422,0.103467315435410,-0.017926529049873,-0.033614121377468,-0.011737330816686,-0.043554171919823));
res += mul(Get(s1,-dx,dy), float4x4(0.088657788932323,-0.010442782193422,0.055744599550962,-0.074172064661980,-0.035609725862741,0.001747658825479,-0.013395423069596,0.056925658136606,-0.125713542103767,-0.113584473729134,-0.129803895950317,0.164844259619713,-0.062145095318556,-0.040649529546499,0.098849318921566,0.000118225834740));
res += mul(Get(s1,0,-dy), float4x4(0.052943781018257,0.052399709820747,-0.056216314435005,0.046624206006527,0.011882157064974,0.000260408269241,0.043500423431396,-0.059440098702908,-0.038015048950911,-0.131424397230148,0.021013790741563,-0.051915768533945,0.130962654948235,-0.097089044749737,-0.050093952566385,0.072100624442101));
res += mul(Get(s1,0,0), float4x4(0.062019780278206,0.011108447797596,-0.004098789300770,0.104574002325535,-0.002835363149643,-0.019927317276597,0.001627026591450,-0.001473920419812,0.001294889952987,-0.053006481379271,-0.044915199279785,-0.038630727678537,0.080952480435371,-0.072230875492096,-0.025835167616606,0.041824892163277));
res += mul(Get(s1,0,dy), float4x4(0.084537997841835,-0.023292331025004,-0.006447462830693,0.097219094634056,0.012816240079701,0.033198893070221,-0.036455798894167,-0.033664584159851,-0.015556001104414,-0.089865997433662,-0.085451230406761,0.325369089841843,-0.037651732563972,-0.057319719344378,0.048943091183901,0.005995276849717));
res += mul(Get(s1,dx,-dy), float4x4(-0.013791735284030,0.058054976165295,-0.109552808105946,0.035583760589361,-0.027917740866542,0.004240334499627,0.035358052700758,-0.063609071075916,-0.038768637925386,-0.110194385051727,0.047277875244617,0.004110622685403,0.025919033214450,0.006967453751713,0.002817295491695,0.151396602392197));
res += mul(Get(s1,dx,0), float4x4(0.018914943560958,0.064282290637493,-0.065677374601364,0.158867388963699,0.039868451654911,-0.013893391937017,-0.066092483699322,-0.126153528690338,-0.004078777041286,-0.048182491213083,0.019581293687224,-0.033606059849262,-0.096435107290745,0.031868990510702,0.010902886278927,0.278259992599487));
res += mul(Get(s1,dx,dy), float4x4(0.032949794083834,0.055961616337299,-0.014193699695170,0.065018631517887,0.104944236576557,0.000438882503659,-0.027475535869598,-0.122730441391468,-0.049595087766647,-0.017641847953200,0.039212845265865,0.146372631192207,-0.096850156784058,0.001595517504029,0.082658603787422,0.089095003902912));
res += mul(Get(s2,-dx,-dy), float4x4(-0.020645171403885,-0.046099647879601,0.005337373819202,-0.068595856428146,0.007242178544402,0.018950225785375,-0.023889880627394,0.092000409960747,0.086046740412712,0.072413355112076,0.069685354828835,-0.157581433653831,0.009789461269975,-0.007819065824151,0.112393833696842,-0.013687774538994));
res += mul(Get(s2,-dx,0), float4x4(-0.015436739660800,-0.003644261742011,0.023139595985413,-0.091779254376888,-0.035645473748446,0.016175396740437,0.018704758957028,0.008184453472495,-0.028342833742499,0.025671539828181,0.004851839505136,-0.142490804195404,-0.024371709674597,0.110374070703983,0.076665513217449,-0.110119961202145));
res += mul(Get(s2,-dx,dy), float4x4(0.089436605572701,-0.003534238319844,-0.022194676101208,-0.134920239448547,-0.083015687763691,0.091337844729424,0.080585137009621,0.031514231115580,-0.000753800268285,0.016046429052949,-0.055650863796473,-0.153078377246857,-0.004152127075940,0.165635883808136,-0.042817231267691,-0.119625724852085));
res += mul(Get(s2,0,-dy), float4x4(-0.026617936789989,-0.092063985764980,-0.055542189627886,-0.004703811835498,-0.031770460307598,0.070225052535534,0.018904017284513,0.055303186178207,0.121214345097542,0.003159880638123,0.057791899889708,-0.107793532311916,0.066740915179253,-0.071227848529816,0.027341742068529,-0.067599825561047));
res += mul(Get(s2,0,0), float4x4(-0.071163736283779,-0.041161593049765,-0.047926992177963,-0.127915516495705,0.005970273166895,0.033118713647127,0.088423557579517,-0.045656736940145,-0.036176301538944,-0.025386648252606,0.017928389832377,-0.033254012465477,0.083439677953720,-0.072339504957199,0.126357793807983,-0.093049190938473));
res += mul(Get(s2,0,dy), float4x4(0.022857261821628,-0.050643071532249,-0.117899015545845,-0.052043631672859,0.021130766719580,0.033601135015488,0.107263505458832,-0.008629699237645,-0.049477461725473,-0.037157859653234,-0.013332834467292,0.150539770722389,0.093563303351402,-0.017473805695772,0.067327760159969,-0.041319809854031));
res += mul(Get(s2,dx,-dy), float4x4(0.134446159005165,0.001152288867161,0.090586155653000,0.146142050623894,-0.040589936077595,0.086427479982376,-0.022252911701798,-0.075727246701717,0.078610427677631,0.029816148802638,0.008372811600566,-0.088518470525742,0.162365481257439,-0.007539547979832,-0.006425125990063,-0.025298696011305));
res += mul(Get(s2,dx,0), float4x4(0.040711022913456,-0.045729812234640,0.019685346633196,0.042267825454473,-0.005552466958761,0.050882179290056,0.037967290729284,-0.036585688591003,-0.030730787664652,-0.067954607307911,-0.015251572243869,-0.055056016892195,0.041827060282230,0.032363455742598,0.057622913271189,0.164154589176178));
res += mul(Get(s2,dx,dy), float4x4(-0.015018359757960,-0.045146964490414,-0.097544267773628,0.108198881149292,0.036513611674309,-0.005258002784103,0.028930423781276,-0.081635698676109,-0.045029710978270,-0.000723302015103,-0.023118326440454,0.138509854674339,0.039104163646698,0.004231501370668,0.086391307413578,0.122057624161243));
res += mul(Get(s3,-dx,-dy), float4x4(-0.020324885845184,0.035985153168440,0.018047556281090,-0.057941142469645,-0.122606068849564,0.043918654322624,0.100328683853149,-0.247508034110069,0.064999997615814,-0.035059906542301,-0.049671892076731,-0.007685572840273,0.109791450202465,0.067292794585228,-0.183821558952332,0.141935139894485));
res += mul(Get(s3,-dx,0), float4x4(-0.079958684742451,0.031140444800258,0.047939416021109,-0.118977800011635,-0.072032004594803,0.181083589792252,-0.021828237921000,0.018249223008752,-0.010635835118592,0.070419527590275,-0.086997829377651,0.035360503941774,0.043207373470068,0.012564180418849,-0.152553454041481,0.150922298431396));
res += mul(Get(s3,-dx,dy), float4x4(-0.056214381009340,0.081474706530571,0.075491018593311,-0.218396812677383,0.076847441494465,0.220647707581520,-0.134588718414307,0.029741423204541,0.080828942358494,0.063521668314934,-0.024818282574415,-0.000058681533119,-0.025419346988201,-0.012250451371074,-0.138645321130753,0.118209794163704));
res += mul(Get(s3,0,-dy), float4x4(-0.008777345530689,0.033200565725565,0.014098880812526,0.116743981838226,-0.026969004422426,-0.024991288781166,0.126639425754547,-0.018248170614243,0.032876364886761,-0.020793795585632,-0.063514888286591,-0.001466868794523,-0.014976098202169,0.051208809018135,0.044218923896551,0.087173655629158));
res += mul(Get(s3,0,0), float4x4(-0.054317146539688,-0.033718954771757,0.051394116133451,-0.019708253443241,-0.067244604229927,0.028020404279232,0.020333269611001,0.169079959392548,0.123706884682178,0.045387487858534,-0.015579364262521,-0.170266479253769,-0.053008817136288,0.046545043587685,-0.034189824014902,0.040942680090666));
res += mul(Get(s3,0,dy), float4x4(-0.042334519326687,0.000768254511058,-0.006347307004035,-0.081147074699402,0.085587799549103,0.133958414196968,-0.052461449056864,0.144327789545059,0.102930508553982,-0.029039237648249,-0.016994046047330,-0.155579045414925,-0.080737762153149,0.046344295144081,0.012086175382137,0.040367849171162));
res += mul(Get(s3,dx,-dy), float4x4(-0.042629465460777,0.102480992674828,0.037972848862410,0.128567308187485,-0.026678474619985,-0.077710568904877,0.016301777213812,-0.042645882815123,0.004977326374501,-0.034366659820080,0.015398895367980,0.027350839227438,-0.082289807498455,0.079581603407860,0.055469047278166,0.031032130122185));
res += mul(Get(s3,dx,0), float4x4(-0.026826623827219,-0.009414305910468,0.032382600009441,0.098373197019100,-0.004068233538419,-0.001902611227706,-0.012561198323965,0.059939172118902,0.127556115388870,-0.060565616935492,-0.020555367693305,-0.032865103334188,-0.078798942267895,0.014048364013433,0.061907976865768,-0.008739039301872));
res += mul(Get(s3,dx,dy), float4x4(-0.075735613703728,-0.045332994312048,-0.026053462177515,-0.016147239133716,0.127315014600754,0.028933594003320,0.027918819338083,-0.105491876602173,0.061113826930523,-0.073302492499352,0.005552245769650,-0.008996515534818,-0.092054389417171,0.047312725335360,0.018157167360187,-0.004860271699727));
return max(float4(0,0,0,0), res);
}
