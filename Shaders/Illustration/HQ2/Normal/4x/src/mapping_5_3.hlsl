sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.018936844542623,0.018674891442060,-0.089410588145256,-0.002317306818441,-0.079344406723976,-0.047902796417475,0.009676186367869,-0.001603791490197,-0.030534280464053,0.002574884332716,0.087182447314262,-0.004968640860170,-0.084568127989769,-0.121509641408920,0.011557397432625,-0.050994057208300));
res += mul(Get(s0,-dx,0), float4x4(-0.011265285313129,0.042960640043020,-0.026972856372595,0.019153118133545,-0.062861204147339,-0.016540598124266,0.007672370411456,-0.026452982798219,0.045351915061474,-0.012829778715968,0.102941922843456,-0.033691976219416,-0.108362764120102,-0.091912657022476,0.126636177301407,-0.025003630667925));
res += mul(Get(s0,-dx,dy), float4x4(-0.038833100348711,-0.027629196643829,-0.011499446816742,-0.055698964744806,0.005100878886878,-0.001667715958320,0.038103595376015,-0.044155046343803,-0.055215213447809,0.022705314680934,-0.096390500664711,0.061094440519810,-0.139845147728920,-0.068104974925518,0.010336652398109,0.036768950521946));
res += mul(Get(s0,0,-dy), float4x4(-0.068394102156162,0.079133711755276,0.027821332216263,-0.026816148310900,-0.015809714794159,-0.004493382759392,0.021959228441119,-0.009602194651961,-0.007877417840064,0.125259548425674,0.142974823713303,0.081166639924049,-0.013620555400848,0.001044105505571,0.241721689701080,-0.064292825758457));
res += mul(Get(s0,0,0), float4x4(-0.040379881858826,0.050727952271700,0.128677427768707,-0.022120973095298,-0.015081544406712,-0.022751167416573,-0.017747597768903,-0.016153139993548,0.042791612446308,-0.017946876585484,0.080230481922626,-0.042740914970636,-0.040778167545795,0.027680877596140,-0.007994051091373,-0.051713723689318));
res += mul(Get(s0,0,dy), float4x4(0.015165075659752,-0.010725105181336,0.122953519225121,-0.086952641606331,-0.043787755072117,-0.003268633969128,0.028172973543406,-0.036152008920908,-0.060504935681820,-0.015366916544735,-0.013415521942079,0.081329628825188,-0.003632404375821,0.013804057613015,-0.159994050860405,0.028252771124244));
res += mul(Get(s0,dx,-dy), float4x4(0.034543905407190,0.068972282111645,0.043962374329567,0.025602448731661,0.052297167479992,0.017878934741020,0.028149046003819,0.019179629161954,-0.091626301407814,-0.029638284817338,0.027135696262121,0.071941211819649,0.093355998396873,-0.040878761559725,0.051125910133123,-0.020919354632497));
res += mul(Get(s0,dx,0), float4x4(-0.048604048788548,-0.014333554543555,0.028887744992971,-0.031996890902519,0.036912653595209,-0.013561513274908,-0.001596072805114,-0.025758737698197,0.118707954883575,-0.085977256298065,-0.056271571666002,-0.060116376727819,0.130852967500687,-0.040720649063587,-0.106445156037807,-0.033701620995998));
res += mul(Get(s0,dx,dy), float4x4(-0.060689356178045,-0.035487364977598,0.029169933870435,-0.053906738758087,0.014529789797962,0.032198656350374,0.032463386654854,-0.068807706236839,-0.023919299244881,0.027471125125885,-0.000404197140597,0.098298326134682,0.145530045032501,0.033726647496223,0.083411633968353,0.094042770564556));
res += mul(Get(s1,-dx,-dy), float4x4(0.015188423916698,0.015264895744622,0.052535653114319,-0.068547770380974,-0.056056793779135,-0.023287875577807,0.005290094297379,0.101909637451172,-0.063666254281998,-0.005867250263691,-0.035888846963644,0.032776836305857,0.033172637224197,-0.204960793256760,-0.056043379008770,0.073771871626377));
res += mul(Get(s1,-dx,0), float4x4(0.088865078985691,-0.007279579993337,-0.081634208559990,-0.116819009184837,-0.000595405232161,-0.012403185479343,-0.032194342464209,0.111520290374756,0.009553567506373,-0.081880964338779,-0.020041830837727,-0.056502368301153,0.003290083725005,-0.099779129028320,-0.019888190552592,-0.005298575852066));
res += mul(Get(s1,-dx,dy), float4x4(-0.086540617048740,-0.023429894819856,-0.247620016336441,0.043323509395123,0.036089371889830,0.118159800767899,0.071089953184128,0.032142221927643,0.039342559874058,0.003793597919866,-0.003486320609227,0.002821959787980,0.036503702402115,-0.002738050417975,-0.043411828577518,-0.095771722495556));
res += mul(Get(s1,0,-dy), float4x4(0.061776544898748,0.028528127819300,0.031925909221172,-0.011100270785391,-0.047356560826302,0.125781327486038,-0.023654781281948,0.119181632995605,-0.092384330928326,0.007116526830941,-0.024122223258018,-0.000086008338258,-0.032769210636616,-0.145066529512405,0.114456422626972,0.063254974782467));
res += mul(Get(s1,0,0), float4x4(0.135187342762947,-0.052425216883421,-0.106031730771065,-0.049821007996798,-0.051525149494410,-0.013312636874616,-0.027973923832178,0.079674579203129,-0.079298257827759,-0.071942411363125,0.021330906078219,-0.021354138851166,-0.057600859552622,-0.011743773706257,-0.127368912100792,-0.047275763005018));
res += mul(Get(s1,0,dy), float4x4(-0.145566180348396,-0.038557492196560,-0.106563627719879,-0.045775488018990,0.050350923091173,0.088379383087158,0.005232117604464,0.008516620844603,0.000944843515754,0.051910549402237,-0.039488028734922,0.050465270876884,-0.041956614702940,-0.037823636084795,-0.024974092841148,-0.073995165526867));
res += mul(Get(s1,dx,-dy), float4x4(0.017663273960352,-0.092252232134342,0.019329469650984,0.119884289801121,0.050600159913301,0.152818873524666,-0.015234148129821,0.122698873281479,-0.048618420958519,0.010508590377867,-0.052210792899132,0.024059161543846,-0.065403819084167,-0.120864018797874,0.018660826608539,-0.007372424937785));
res += mul(Get(s1,dx,0), float4x4(0.158502340316772,-0.121344327926636,0.061647523194551,-0.085073545575142,-0.037505410611629,0.024584978818893,0.035814445465803,0.040006890892982,-0.072187662124634,0.014324668794870,0.026637168601155,-0.034368705004454,-0.035483717918396,0.022768063470721,-0.167629078030586,-0.072603344917297));
res += mul(Get(s1,dx,dy), float4x4(0.176972195506096,-0.116641186177731,-0.043916016817093,-0.094961844384670,0.081108108162880,0.059210766106844,0.108163379132748,-0.073688164353371,0.028532605618238,0.116495847702026,-0.030404258519411,-0.000070970141678,-0.017465336248279,0.169697061181068,0.010314043611288,0.020902385935187));
res += mul(Get(s2,-dx,-dy), float4x4(0.146215826272964,-0.076574653387070,0.044472038745880,-0.033154197037220,-0.122430831193924,-0.101192310452461,-0.174891486763954,0.053096748888493,0.041180480271578,0.112297974526882,-0.019254382699728,-0.100333265960217,-0.060931015759706,-0.058633334934711,0.092860877513885,0.025428967550397));
res += mul(Get(s2,-dx,0), float4x4(0.174889475107193,0.019252322614193,-0.053227540105581,-0.023957984521985,-0.078315548598766,0.047016583383083,-0.075126558542252,0.128971800208092,0.058037970215082,0.063388817012310,-0.063058480620384,-0.046528719365597,-0.029747031629086,-0.035523727536201,0.018556756898761,-0.040692474693060));
res += mul(Get(s2,-dx,dy), float4x4(0.054116673767567,-0.005954959429801,-0.054478224366903,-0.023827716708183,-0.221910238265991,-0.036542948335409,0.013584954664111,-0.026289517059922,0.050258766859770,0.182912811636925,-0.032811902463436,0.006986681837589,-0.021345714107156,-0.054495736956596,-0.013072171248496,0.062697432935238));
res += mul(Get(s2,0,-dy), float4x4(-0.024254092946649,-0.036120951175690,0.065140463411808,0.033452864736319,0.007230151910335,-0.046373590826988,-0.110157571732998,-0.086261689662933,0.006604523397982,0.054587829858065,0.014095778577030,-0.037601746618748,-0.026921570301056,-0.025209121406078,0.136048063635826,0.060770820826292));
res += mul(Get(s2,0,0), float4x4(-0.045228224247694,0.027913896366954,-0.132888376712799,0.060618121176958,-0.124208502471447,0.099834166467190,0.168270498514175,0.082840837538242,-0.012940657325089,-0.048080913722515,-0.020734122022986,-0.035954665392637,0.032534193247557,-0.047527536749840,-0.119338899850845,0.042728561908007));
res += mul(Get(s2,0,dy), float4x4(0.062666662037373,0.010240990668535,0.002796842018142,-0.020465414971113,-0.132212951779366,-0.091358467936516,0.046750064939260,-0.033956285566092,-0.050026200711727,0.055905077606440,0.046826366335154,0.006792340427637,-0.054090354591608,0.022408187389374,-0.017150951549411,0.064040057361126));
res += mul(Get(s2,dx,-dy), float4x4(0.013275002129376,-0.034940894693136,0.071411289274693,0.018113452941179,0.228693470358849,-0.092216446995735,-0.056741766631603,-0.147121846675873,0.013300889171660,0.050455588847399,-0.041206490248442,-0.018860252574086,-0.007442859932780,-0.068330608308315,0.192182719707489,-0.027037108317018));
res += mul(Get(s2,dx,0), float4x4(-0.055520743131638,0.069103464484215,0.016727689653635,0.043413244187832,-0.009858472272754,0.046433527022600,-0.048977218568325,-0.043759334832430,-0.060483641922474,0.001632309169509,-0.008988200686872,-0.112292259931564,0.097184844315052,-0.053371354937553,-0.009824266657233,-0.032486647367477));
res += mul(Get(s2,dx,dy), float4x4(0.012408378534019,0.011125751771033,-0.017573630437255,-0.033087730407715,-0.135316312313080,-0.044722441583872,-0.144986703991890,-0.038041871041059,-0.085372857749462,0.054825410246849,-0.000079331861343,-0.085337139666080,0.000651072768960,-0.032062441110611,-0.022658077999949,0.030990600585938));
res += mul(Get(s3,-dx,-dy), float4x4(-0.094230294227600,0.012293447740376,0.064195737242699,0.042685180902481,0.002612974261865,-0.083329550921917,-0.039791893213987,0.007534858770669,-0.067011788487434,0.062526136636734,0.099895812571049,-0.017067728564143,-0.023632671684027,0.037383433431387,0.055945266038179,0.066064849495888));
res += mul(Get(s3,-dx,0), float4x4(-0.168621554970741,-0.009304655715823,0.116809383034706,-0.030309079214931,-0.021794268861413,-0.082165248692036,-0.083727933466434,0.017037756741047,-0.085035666823387,0.144562780857086,0.018960762768984,0.125212058424950,-0.026917364448309,0.038299091160297,-0.063508361577988,0.055315326899290));
res += mul(Get(s3,-dx,dy), float4x4(-0.161342665553093,-0.034538690000772,-0.000973902526312,-0.013997717760503,-0.025422623381019,-0.103940442204475,-0.027048649266362,-0.019437717273831,-0.056633852422237,0.047334283590317,-0.077267758548260,0.009759911336005,-0.039120834320784,0.045413773506880,0.020899396389723,-0.001146980561316));
res += mul(Get(s3,0,-dy), float4x4(-0.065903007984161,-0.009786568582058,0.026728482916951,0.022230846807361,-0.042064815759659,-0.067006565630436,-0.021054903045297,-0.031645540148020,-0.028932280838490,-0.021434968337417,0.100379787385464,-0.114618204534054,-0.031388033181429,0.037913851439953,0.055114950984716,-0.051889296621084));
res += mul(Get(s3,0,0), float4x4(-0.074844591319561,-0.041464380919933,0.121471859514713,0.001579934847541,-0.032782170921564,-0.046753935515881,-0.005906765814871,-0.049298845231533,-0.058525312691927,0.134704723954201,-0.048423975706100,0.114821657538414,-0.080957978963852,0.024134194478393,0.027371879667044,0.066529929637909));
res += mul(Get(s3,0,dy), float4x4(-0.090587958693504,-0.040783986449242,0.005397947505116,0.095880396664143,-0.009868412278593,-0.051519080996513,0.074467375874519,-0.013248558156192,-0.031000675633550,0.007894272916019,-0.077048599720001,-0.071169517934322,0.021090088412166,0.102164208889008,0.188497111201286,-0.026225676760077));
res += mul(Get(s3,dx,-dy), float4x4(-0.045157570391893,0.003154720645398,-0.012551603838801,-0.080458462238312,-0.001303006429225,-0.013709145598114,0.005095207132399,-0.046345580369234,0.037468042224646,0.099672049283981,0.129912883043289,-0.017825439572334,0.044506363570690,0.090569287538528,-0.009704929776490,0.015627326443791));
res += mul(Get(s3,dx,0), float4x4(-0.030184853821993,-0.009031007066369,0.084786273539066,-0.013379477895796,0.015782127156854,0.048860531300306,0.063549458980560,0.003274548565969,-0.118786782026291,0.130713582038879,0.036017607897520,0.077598311007023,-0.017488352954388,-0.070719309151173,-0.008785273879766,0.025458831340075));
res += mul(Get(s3,dx,dy), float4x4(-0.113432168960571,0.039499845355749,0.062614165246487,0.024899017065763,0.067388102412224,-0.041302748024464,0.008675137534738,-0.050379700958729,-0.049205943942070,0.111080601811409,0.013581711798906,-0.107383206486702,-0.005961075890809,-0.013966923579574,-0.047595340758562,-0.020291330292821));
return max(float4(0,0,0,0), res);
}
