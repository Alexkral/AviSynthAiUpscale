sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.058830335736275,0.062461309134960,-0.073964662849903,-0.106671810150146,0.023128211498260,0.170873925089836,0.074157796800137,0.032801032066345,0.104583211243153,0.007710205856711,-0.011304838582873,0.151387587189674,0.062882065773010,-0.008294505067170,-0.036706432700157,-0.041951797902584));
res += mul(Get(s0,-dx,0), float4x4(-0.137624204158783,-0.041652586311102,-0.011611119844019,-0.017390305176377,0.018174411728978,-0.110046684741974,-0.021886492148042,0.117947347462177,0.020686432719231,-0.096253007650375,-0.022349787876010,0.089288569986820,0.117758207023144,0.079235561192036,-0.041148219257593,0.116825088858604));
res += mul(Get(s0,-dx,dy), float4x4(-0.039129856973886,-0.006643662229180,-0.150617629289627,0.211258754134178,0.008735756389797,-0.033748783171177,-0.141523867845535,0.127681493759155,0.062125608325005,0.045278780162334,0.035259325057268,0.099643103778362,-0.045042108744383,-0.000944092054851,-0.032214917242527,-0.085244119167328));
res += mul(Get(s0,0,-dy), float4x4(0.174338102340698,0.008463485166430,0.013036753050983,0.056484486907721,0.010713647119701,-0.038504727184772,-0.086827129125595,0.034660976380110,-0.051792301237583,0.049832563847303,0.015556587837636,0.112386763095856,-0.106705091893673,0.044405303895473,0.000355358351953,0.022594649344683));
res += mul(Get(s0,0,0), float4x4(0.086496941745281,0.103006638586521,-0.044433392584324,0.110294528305531,-0.064880117774010,0.120739094913006,0.061580613255501,-0.061587736010551,-0.084837518632412,-0.025270657613873,0.003626569639891,0.043672073632479,0.111109323799610,0.001276249997318,-0.062428649514914,0.070749931037426));
res += mul(Get(s0,0,dy), float4x4(0.006077122874558,-0.153547137975693,-0.025765715166926,-0.016215533018112,-0.034626923501492,0.217076554894447,-0.144451484084129,0.025183252990246,-0.048062335699797,-0.039017219096422,0.101130120456219,-0.034806117415428,-0.043575882911682,-0.057064518332481,-0.037510797381401,0.019610080868006));
res += mul(Get(s0,dx,-dy), float4x4(0.010159675963223,0.025004494935274,0.049260165542364,-0.001824267324992,-0.012366959825158,0.102563142776489,-0.136111438274384,0.004264279734343,-0.091800391674042,0.019194522872567,-0.033824518322945,0.032249841839075,-0.094254657626152,0.015574030578136,-0.004270086996257,0.023349449038506));
res += mul(Get(s0,dx,0), float4x4(0.040617559105158,0.022028222680092,-0.008065138012171,0.007195190992206,-0.013920406810939,-0.060567189007998,0.013792937621474,-0.127599164843559,-0.124993845820427,0.035699598491192,-0.068173713982105,0.019523967057467,0.057188693434000,-0.103765234351158,-0.046320587396622,0.039156027138233));
res += mul(Get(s0,dx,dy), float4x4(0.033880457282066,-0.096398010849953,0.032046347856522,0.086742967367172,0.033728126436472,-0.012249245308340,-0.018747562542558,-0.018162878230214,-0.085859768092632,-0.085028849542141,0.038122639060020,-0.121950343251228,-0.014682005159557,-0.057693570852280,-0.046013295650482,-0.017187295481563));
res += mul(Get(s1,-dx,-dy), float4x4(-0.100639693439007,0.074293069541454,-0.010880181565881,-0.090991705656052,-0.105184644460678,0.042361941188574,-0.049283541738987,0.078116931021214,-0.122939571738243,-0.011456995271146,-0.074069239199162,0.043214332312346,-0.186293736100197,-0.090506970882416,0.007798821665347,0.071097135543823));
res += mul(Get(s1,-dx,0), float4x4(0.062887541949749,0.017179876565933,-0.084816843271255,0.074971109628677,0.048640325665474,0.356892764568329,0.120632253587246,-0.096372418105602,-0.109933152794838,0.070164039731026,0.033677276223898,0.082122892141342,-0.088273257017136,-0.074421413242817,-0.106709308922291,0.138315692543983));
res += mul(Get(s1,-dx,dy), float4x4(0.050056986510754,-0.051610521972179,-0.099830500781536,-0.057384870946407,0.015293702483177,0.023697726428509,0.020380273461342,0.070212006568909,-0.056187834590673,0.014074571430683,0.081193655729294,0.068713255226612,0.005093332380056,-0.080843247473240,0.073412306606770,-0.145371854305267));
res += mul(Get(s1,0,-dy), float4x4(-0.063576221466064,-0.026872316375375,0.016166817396879,0.084540009498596,-0.066061399877071,0.274914503097534,-0.076335944235325,0.014897190965712,-0.036385305225849,0.077508598566055,-0.044813934713602,0.051160994917154,-0.133903861045837,0.196156114339828,0.013380351476371,0.002468275837600));
res += mul(Get(s1,0,0), float4x4(0.077266521751881,0.127491146326065,-0.039449539035559,0.080968603491783,-0.009931981563568,-0.039573844522238,-0.045869272202253,-0.127292126417160,-0.106565348803997,0.049067962914705,-0.033119283616543,-0.069300256669521,-0.004112203605473,0.060348831117153,-0.138079375028610,0.037392225116491));
res += mul(Get(s1,0,dy), float4x4(0.011739045381546,0.024523932486773,-0.113495059311390,-0.014185828156769,0.026958212256432,-0.251901000738144,0.197220325469971,0.098744966089725,-0.092761278152466,-0.131388902664185,-0.001841427874751,-0.004855438135564,0.105237349867821,-0.105562485754490,0.017593732103705,-0.034567870199680));
res += mul(Get(s1,dx,-dy), float4x4(0.045285541564226,-0.063371337950230,0.072163745760918,0.061307605355978,-0.064504086971283,0.082725748419762,-0.095968991518021,-0.029829474166036,0.005036909598857,-0.111681781709194,-0.069546587765217,0.110923409461975,-0.075622066855431,0.095303915441036,-0.024685971438885,-0.055776346474886));
res += mul(Get(s1,dx,0), float4x4(0.123328529298306,-0.020097747445107,-0.015075466595590,0.016177915036678,0.049725502729416,-0.084099799394608,-0.065381959080696,0.112071014940739,-0.179952412843704,-0.189708173274994,-0.042000342160463,0.006019633263350,0.086569331586361,0.033820692449808,-0.149510696530342,0.005950841121376));
res += mul(Get(s1,dx,dy), float4x4(-0.025734640657902,-0.017162591218948,-0.016230951994658,0.004800501279533,0.046050336211920,-0.220518633723259,0.132359355688095,0.045024015009403,-0.096180252730846,-0.219274237751961,0.023899165913463,0.103451132774353,0.098446018993855,0.062531612813473,0.055683411657810,0.030254064127803));
res += mul(Get(s2,-dx,-dy), float4x4(0.075174242258072,-0.001518764882348,0.003732484532520,0.162626683712006,-0.043917216360569,0.057705543935299,0.014499659650028,0.100020594894886,0.063886381685734,-0.081698425114155,-0.074598267674446,-0.085324212908745,-0.034566946327686,0.113786928355694,-0.002810547593981,-0.108989581465721));
res += mul(Get(s2,-dx,0), float4x4(-0.025481294840574,0.198835313320160,-0.097411446273327,0.086393073201180,-0.027374247089028,0.068098247051239,0.017097176983953,0.012143653817475,0.159365788102150,0.039059203118086,0.002106062369421,-0.148916974663734,-0.008198777213693,-0.024156749248505,0.057081256061792,-0.052340790629387));
res += mul(Get(s2,-dx,dy), float4x4(-0.076037123799324,-0.042685672640800,0.012238664552569,0.064717583358288,0.008190932683647,0.038784168660641,-0.005277451593429,-0.005088373087347,0.075744301080704,-0.014933185651898,-0.035433635115623,-0.027556512504816,-0.003624357283115,-0.138950943946838,-0.089483581483364,0.080322891473770));
res += mul(Get(s2,0,-dy), float4x4(0.054272204637527,-0.056405987590551,0.009669605642557,0.073320485651493,0.106233112514019,0.024509681388736,0.061583317816257,0.037521243095398,0.051944646984339,-0.006098621059209,-0.045253954827785,-0.055942565202713,-0.110880844295025,-0.106597930192947,-0.064443618059158,0.037657946348190));
res += mul(Get(s2,0,0), float4x4(0.035918682813644,0.084052115678787,-0.084444098174572,0.064522966742516,-0.032880231738091,0.034448824822903,0.034956675022840,0.027124335989356,0.057440087199211,-0.029383176937699,-0.002893551718444,-0.097605668008327,-0.186965227127075,0.129019379615784,0.235461905598640,0.116341575980186));
res += mul(Get(s2,0,dy), float4x4(0.062524557113647,-0.052562862634659,0.020170854404569,0.146436646580696,0.071964204311371,0.016892613843083,-0.007850012741983,-0.030825985595584,-0.058479532599449,-0.039643675088882,-0.013923762366176,0.010746601969004,-0.054064445197582,0.121224701404572,-0.042837940156460,-0.080261677503586));
res += mul(Get(s2,dx,-dy), float4x4(-0.005251503549516,-0.005114361643791,0.017450328916311,0.039250783622265,0.096769958734512,-0.006965789012611,0.007558002602309,-0.015164791606367,0.013134652748704,-0.077599391341209,-0.053682100027800,-0.048350051045418,-0.082395680248737,0.061171334236860,-0.000048134155804,-0.113132730126381));
res += mul(Get(s2,dx,0), float4x4(0.017116913571954,0.070223860442638,-0.031725071370602,-0.027961656451225,0.043442498892546,0.031583786010742,0.066263303160667,-0.066164806485176,-0.044890455901623,0.001712309196591,-0.051165021955967,-0.030165255069733,-0.104548141360283,0.028176221996546,0.142950996756554,0.088639706373215));
res += mul(Get(s2,dx,dy), float4x4(-0.049413643777370,-0.043667528778315,-0.067109756171703,0.036385234445333,0.031706545501947,0.027651151642203,0.015358706004918,-0.008388610556722,-0.064491122961044,-0.029076248407364,-0.028128014877439,-0.043909821659327,-0.014216978102922,-0.083852306008339,0.103483200073242,-0.062263645231724));
res += mul(Get(s3,-dx,-dy), float4x4(-0.023802326992154,-0.004893688019365,-0.028703024610877,-0.040616571903229,0.088043294847012,0.005618828348815,0.028899881988764,0.044537175446749,-0.032837592065334,-0.086401596665382,-0.054814297705889,0.044511489570141,0.032309733331203,0.005702713970095,0.041968621313572,-0.016477541998029));
res += mul(Get(s3,-dx,0), float4x4(0.026545831933618,0.016721313819289,0.014395991340280,-0.013801166787744,0.120076633989811,0.062375910580158,-0.037505492568016,-0.073613896965981,0.083632573485374,0.067313186824322,0.070006154477596,-0.134323224425316,0.074401862919331,0.083903238177299,0.017789654433727,0.006673158146441));
res += mul(Get(s3,-dx,dy), float4x4(-0.015984298661351,0.000217312626773,0.022128518670797,-0.053427848964930,0.031868726015091,0.009520413354039,0.061888352036476,0.009269710630178,-0.006493652239442,-0.076706521213055,0.060410927981138,0.011096263304353,-0.049192897975445,0.002357965568081,0.000851916382089,-0.023699045181274));
res += mul(Get(s3,0,-dy), float4x4(0.055905789136887,0.009580906480551,-0.003978114109486,0.013380276970565,0.122069083154202,-0.093966804444790,-0.026241715997458,-0.078857384622097,0.102208144962788,0.091672904789448,-0.116375163197517,0.078954249620438,-0.000104960854515,0.030774809420109,0.017662005499005,-0.057155746966600));
res += mul(Get(s3,0,0), float4x4(0.016594544053078,0.049937956035137,0.023030100390315,-0.048205025494099,0.130971729755402,-0.043722558766603,0.012903855182230,-0.138542100787163,0.048252630978823,0.030679589137435,-0.023681964725256,-0.097870238125324,-0.057948704808950,0.044107951223850,0.013845329172909,-0.024259695783257));
res += mul(Get(s3,0,dy), float4x4(0.009112654253840,-0.039048135280609,-0.012781072407961,-0.007456392981112,0.033643562346697,-0.043302837759256,0.073234535753727,-0.059779576957226,-0.032141160219908,0.036310121417046,0.191587820649147,0.037456933408976,-0.033791627734900,0.024076996371150,0.004742749966681,-0.062585391104221));
res += mul(Get(s3,dx,-dy), float4x4(0.015474055893719,-0.012248074635863,0.050279337912798,0.020981648936868,0.065685056149960,-0.065018795430660,-0.008007782511413,0.032822441309690,0.008086164481938,0.067041993141174,-0.129527702927589,-0.055356860160828,0.020994411781430,0.039583943784237,0.026062708348036,-0.028741147369146));
res += mul(Get(s3,dx,0), float4x4(0.073641046881676,0.007931399159133,-0.031906660646200,-0.038874909281731,0.033081818372011,0.000322162202792,-0.002028952352703,-0.034674476832151,0.045553933829069,-0.084033153951168,-0.093448519706726,-0.043589156121016,0.026644648984075,0.042627796530724,0.032060801982880,0.000535261933692));
res += mul(Get(s3,dx,dy), float4x4(-0.015876438468695,0.005749641917646,-0.036885250359774,-0.035023272037506,-0.030517311766744,-0.084329538047314,-0.003638023743406,0.011443377472460,-0.031545370817184,-0.005142894573510,0.228629216551781,0.029522398486733,0.005874059628695,0.032157175242901,0.034290663897991,-0.066776648163795));
return max(float4(0,0,0,0), res);
}
