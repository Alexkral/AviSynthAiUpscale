sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.018217520788312,-0.008966044522822,-0.068739332258701,-0.019767437130213,0.037293579429388,0.045427769422531,-0.037006542086601,-0.074898093938828,-0.021604465320706,-0.067727670073509,0.102777637541294,-0.028196241706610,-0.066403530538082,-0.099618069827557,-0.085605137050152,0.177014037966728));
res += mul(Get(s0,-dx,0), float4x4(-0.075282692909241,-0.014653863385320,-0.019305286929011,0.025087837129831,0.068050935864449,0.008690347895026,0.047797687351704,0.083992347121239,-0.018413348123431,0.002140241675079,-0.001425555790775,-0.022450648248196,-0.063944950699806,-0.069853611290455,-0.027426525950432,0.115895412862301));
res += mul(Get(s0,-dx,dy), float4x4(-0.108348153531551,-0.092435911297798,0.041757516562939,0.091906487941742,-0.000161200063303,-0.034065917134285,-0.025246774777770,0.089750051498413,0.031215386465192,-0.054216563701630,-0.099591910839081,0.019154366105795,-0.057774689048529,0.024165255948901,0.121575929224491,0.037994835525751));
res += mul(Get(s0,0,-dy), float4x4(-0.002475671004504,0.009231506846845,-0.006349724717438,-0.073247835040092,-0.035600863397121,0.001386370626278,-0.007241763174534,-0.059488348662853,0.045785859227180,-0.091579832136631,0.170120835304260,-0.115537494421005,-0.003532355418429,-0.076849386096001,-0.058510337024927,0.097962193191051));
res += mul(Get(s0,0,0), float4x4(-0.061375536024570,-0.053751729428768,0.043541230261326,0.009461201727390,-0.016065664589405,0.057968448847532,-0.016608471050858,-0.014659554697573,-0.090380117297173,0.081432491540909,0.035695794969797,-0.007492573466152,-0.048515334725380,-0.080212615430355,0.011376342736185,0.082961469888687));
res += mul(Get(s0,0,dy), float4x4(-0.036886651068926,-0.042253274470568,-0.009983700700104,0.051304079592228,0.047594740986824,0.042478363960981,0.011099576018751,0.002560206223279,-0.043608654290438,-0.088469326496124,-0.115533091127872,0.026322759687901,-0.114076495170593,0.068142853677273,-0.041373174637556,-0.044032171368599));
res += mul(Get(s0,dx,-dy), float4x4(0.027412354946136,-0.030359661206603,0.042807951569557,-0.101190410554409,-0.012986404821277,0.030768858268857,-0.025178840383887,-0.096179053187370,0.009398845024407,-0.080036625266075,0.043798811733723,-0.066007010638714,-0.098939515650272,0.024865055456758,0.055729664862156,0.023046586662531));
res += mul(Get(s0,dx,0), float4x4(-0.034084558486938,0.007860797457397,-0.030740659683943,-0.074633754789829,-0.055789969861507,0.013897906057537,-0.091063871979713,-0.078630417585373,-0.016764840111136,-0.007230277173221,0.073763869702816,-0.074396565556526,-0.087558381259441,0.017558190971613,0.000418160692789,-0.060141064226627));
res += mul(Get(s0,dx,dy), float4x4(-0.039747241884470,-0.048677019774914,-0.043770767748356,0.056396927684546,-0.020980857312679,-0.108202666044235,-0.087808519601822,-0.046376697719097,-0.002467422280461,-0.151916906237602,-0.181153699755669,-0.087889067828655,-0.091144569218159,0.004397814627737,-0.064595922827721,-0.123442776501179));
res += mul(Get(s1,-dx,-dy), float4x4(-0.023740967735648,0.134702578186989,0.146946728229523,0.086968109011650,0.086942628026009,0.058745790272951,-0.009126732125878,-0.002352969255298,-0.124388955533504,-0.032407972961664,0.059112351387739,0.024717148393393,0.102162152528763,-0.045140448957682,0.029367558658123,0.039600651711226));
res += mul(Get(s1,-dx,0), float4x4(-0.006200490519404,0.161201804876328,0.050376493483782,0.185323700308800,0.043996199965477,-0.018044851720333,0.002622562926263,-0.004186710342765,0.004253174643964,-0.001426875358447,-0.105137467384338,0.021837497130036,0.023927016183734,0.006965231150389,0.006591481156647,0.093949168920517));
res += mul(Get(s1,-dx,dy), float4x4(-0.012780698016286,0.023621423169971,-0.009421248920262,0.114403471350670,-0.000131936569232,0.053158286958933,-0.060161765664816,0.004051533527672,-0.025519941002131,-0.004717167001218,-0.086864903569221,0.011600207537413,-0.014688625000417,-0.128245249390602,0.112275749444962,0.034819032996893));
res += mul(Get(s1,0,-dy), float4x4(-0.082062333822250,0.200573921203613,0.055542137473822,-0.099718533456326,-0.061033286154270,0.005468469578773,-0.060805547982454,0.157852649688721,-0.062063228338957,-0.105816505849361,-0.016986398026347,0.001858008792624,0.097398497164249,0.039309170097113,0.094172149896622,0.032510712742805));
res += mul(Get(s1,0,0), float4x4(0.032688878476620,0.075929448008537,-0.087751470506191,-0.013549384661019,-0.050950147211552,0.020402440801263,0.014778398908675,0.063408710062504,0.014750782400370,-0.039954595267773,-0.067775949835777,-0.091220870614052,-0.013474610634148,0.085473328828812,0.046052623540163,-0.033973168581724));
res += mul(Get(s1,0,dy), float4x4(0.070625334978104,0.014419308863580,-0.106486007571220,0.039311915636063,-0.081974685192108,-0.055855229496956,-0.069123424589634,0.009239236824214,0.095787979662418,0.105814494192600,0.123189769685268,-0.077943772077560,-0.060284867882729,-0.067149505019188,-0.033393464982510,-0.103441022336483));
res += mul(Get(s1,dx,-dy), float4x4(0.023593731224537,0.018842024728656,0.063124209642410,-0.020008992403746,0.066262736916542,0.002338629681617,-0.004276183899492,0.160933628678322,-0.009572367183864,0.040370222181082,-0.025124799460173,0.028395950794220,-0.045145429670811,0.104791894555092,-0.078814886510372,-0.047818310558796));
res += mul(Get(s1,dx,0), float4x4(0.080453500151634,0.015091633424163,-0.067313589155674,0.010516667738557,0.039956834167242,-0.010166992433369,0.023985112085938,0.060132548213005,-0.089051768183708,-0.012911670841277,-0.025435866788030,-0.019582770764828,0.080742649734020,0.109555087983608,-0.085454538464546,0.014755266718566));
res += mul(Get(s1,dx,dy), float4x4(0.097135491669178,-0.006672498304397,-0.188223287463188,-0.060693800449371,0.007007838692516,0.007124039810151,-0.008825864642859,-0.075915791094303,0.051613416522741,0.136193722486496,0.001465004286729,-0.080431446433067,0.023361152037978,-0.013001549988985,0.081307426095009,0.035122688859701));
res += mul(Get(s2,-dx,-dy), float4x4(0.102598555386066,0.165138870477676,0.084039822220802,0.164475828409195,-0.086310394108295,0.125199034810066,0.061994094401598,-0.167807430028915,0.089796550571918,-0.226887971162796,0.042896769940853,-0.010458710603416,0.062993839383125,0.113889269530773,0.020237548276782,-0.036117684096098));
res += mul(Get(s2,-dx,0), float4x4(0.015344790183008,0.131568521261215,0.014742607250810,0.223034307360649,-0.084147594869137,0.031236853450537,-0.127572342753410,-0.031603332608938,0.151145741343498,-0.085253931581974,0.068939507007599,-0.052997808903456,0.052713476121426,0.031804427504539,0.029692146927118,0.043781690299511));
res += mul(Get(s2,-dx,dy), float4x4(-0.026863286271691,0.012548037804663,0.016741508617997,0.249781832098961,-0.062395717948675,-0.040860433131456,0.004754885565490,-0.108627818524837,-0.016425356268883,-0.019339878112078,0.129343941807747,-0.108452178537846,0.062867604196072,0.000896840705536,-0.000268782052444,-0.008467527106404));
res += mul(Get(s2,0,-dy), float4x4(0.053400468081236,0.073990479111671,-0.006329219788313,0.009825500659645,-0.087419562041759,-0.021018410101533,0.044610027223825,-0.017682503908873,0.081333301961422,-0.046996772289276,0.026700058951974,0.051030661910772,0.018523432314396,0.050302904099226,0.024370687082410,0.035187561064959));
res += mul(Get(s2,0,0), float4x4(0.047742120921612,0.129318177700043,-0.001890309969895,0.014623696915805,-0.041982203722000,-0.029761886224151,-0.050879463553429,0.045343533158302,0.089632779359818,-0.046528510749340,0.199417054653168,-0.038046207278967,0.021682670339942,-0.034209504723549,0.007292533293366,0.091832503676414));
res += mul(Get(s2,0,dy), float4x4(0.014959252439439,-0.000524058006704,-0.015049762092531,0.145368844270706,-0.088699534535408,-0.086729243397713,0.124169662594795,0.013134079985321,-0.004846176132560,0.003749735886231,0.262013614177704,-0.045332532376051,0.007915461435914,-0.026077115908265,-0.039991606026888,0.017429091036320));
res += mul(Get(s2,dx,-dy), float4x4(-0.023885475471616,-0.037146952003241,0.048086926341057,0.157414525747299,0.006898167543113,-0.002639885758981,-0.036474477499723,-0.026078065857291,0.025569163262844,-0.089922711253166,0.042455185204744,-0.002334177726880,0.027631958946586,0.070479020476341,0.002759625436738,0.065317705273628));
res += mul(Get(s2,dx,0), float4x4(-0.021643908694386,0.050347629934549,-0.004443494137377,0.069334127008915,0.020343264564872,0.089406870305538,0.034132346510887,-0.007262215018272,0.065482459962368,-0.048424869775772,-0.037913020700216,-0.027415225282311,-0.037156555801630,-0.010198303498328,-0.049425955861807,0.040973499417305));
res += mul(Get(s2,dx,dy), float4x4(0.021316932514310,-0.038919195532799,-0.086723275482655,0.058483060449362,-0.080877386033535,0.144231542944908,0.037011418491602,-0.022936571389437,-0.002100920537487,-0.020519308745861,0.127870425581932,0.009465563111007,-0.052674513310194,0.009572421200573,-0.114160597324371,0.025260277092457));
res += mul(Get(s3,-dx,-dy), float4x4(0.041599538177252,-0.009098032489419,-0.020240468904376,0.003406258067116,-0.014290302991867,0.173611640930176,-0.050755199044943,-0.029951747506857,-0.068148173391819,0.071422755718231,-0.002006120514125,-0.112052969634533,-0.058668505400419,-0.031180884689093,-0.094694003462791,0.069990426301956));
res += mul(Get(s3,-dx,0), float4x4(0.074055738747120,0.009625129401684,0.045963816344738,0.078323058784008,0.121065907180309,0.137539118528366,0.015841804444790,-0.007764855399728,0.008578116074204,0.036716874688864,-0.130874693393707,-0.036080311983824,-0.025585850700736,-0.070678435266018,0.023581283167005,0.083085112273693));
res += mul(Get(s3,-dx,dy), float4x4(-0.068913251161575,-0.038686588406563,-0.006035986356437,0.071680873632431,0.149475619196892,0.049165725708008,-0.017871443182230,-0.009675303474069,0.068775542080402,0.118802756071091,-0.133989140391350,-0.102302290499210,-0.091308183968067,-0.032610602676868,-0.033086985349655,0.002116791205481));
res += mul(Get(s3,0,-dy), float4x4(-0.058599919080734,-0.008603059686720,-0.035697888582945,0.046518031507730,0.026131903752685,0.090665258467197,-0.054769784212112,-0.033347364515066,0.000823325477540,-0.085743561387062,-0.004558655433357,0.031482290476561,0.101990453898907,-0.007735773921013,0.019806552678347,-0.040596544742584));
res += mul(Get(s3,0,0), float4x4(0.043332062661648,-0.046126727014780,-0.003353257663548,-0.003031529719010,0.106620334088802,-0.010549317114055,0.027629906311631,-0.033655904233456,0.073085263371468,-0.037844397127628,-0.072836771607399,0.053184811025858,0.051036555320024,-0.061744086444378,0.206013813614845,0.037773244082928));
res += mul(Get(s3,0,dy), float4x4(0.066463321447372,-0.001920835580677,0.003453704062849,0.062259331345558,0.103416487574577,0.012987263500690,-0.040579844266176,0.007159825414419,0.086441159248352,0.130503833293915,-0.113765321671963,-0.055163536220789,-0.012241745367646,0.079427406191826,-0.024564616382122,-0.023779066279531));
res += mul(Get(s3,dx,-dy), float4x4(-0.051192089915276,0.018480719998479,-0.043259754776955,0.121484018862247,-0.018991675227880,0.058140009641647,-0.006182677578181,-0.029672950506210,-0.037260212004185,0.062967985868454,-0.049378890544176,-0.053790282458067,0.037941645830870,-0.015014021657407,-0.026533283293247,-0.079420432448387));
res += mul(Get(s3,dx,0), float4x4(-0.021016245707870,-0.052974503487349,0.058004569262266,0.036429002881050,0.087050721049309,0.070808224380016,0.046751946210861,-0.009421769529581,-0.026681188493967,0.089479200541973,-0.103739924728870,-0.019923981279135,0.079013049602509,0.016069553792477,0.009791977703571,-0.034633006900549));
res += mul(Get(s3,dx,dy), float4x4(0.065305769443512,0.017943007871509,0.004593672230840,0.087251231074333,0.099783584475517,0.016185866668820,-0.067340999841690,-0.065202318131924,0.031810671091080,0.111593797802925,-0.066181041300297,0.070813715457916,0.000620128237642,0.104404352605343,0.016799576580524,-0.024971473962069));
return max(float4(0,0,0,0), res);
}
