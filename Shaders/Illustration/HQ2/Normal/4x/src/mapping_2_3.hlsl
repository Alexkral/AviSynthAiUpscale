sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.065759211778641,-0.035842727869749,0.041135899722576,-0.103919826447964,-0.018352495506406,-0.018895357847214,-0.004049951210618,-0.093515858054161,-0.032790705561638,-0.007682092022151,0.117184661328793,-0.090711750090122,0.021314259618521,-0.042888391762972,0.025539604946971,-0.043672509491444));
res += mul(Get(s0,-dx,0), float4x4(0.096129626035690,-0.006151484325528,0.025956083089113,-0.137009486556053,0.132069960236549,0.020946420729160,-0.029594065621495,-0.082179673016071,0.036370731890202,0.041802626103163,0.143334582448006,-0.041821725666523,0.014640907756984,-0.058888990432024,0.030714048072696,-0.214357167482376));
res += mul(Get(s0,-dx,dy), float4x4(0.000312413787469,-0.016046661883593,-0.023316703736782,-0.064982190728188,0.106143161654472,-0.012738399207592,0.023772481828928,0.016079913824797,-0.026792773976922,0.067647553980350,0.068451270461082,-0.041380222886801,-0.062526673078537,-0.045628931373358,-0.031481374055147,0.043841313570738));
res += mul(Get(s0,0,-dy), float4x4(0.066625468432903,-0.040086179971695,0.079538084566593,-0.023401351645589,-0.064270563423634,0.033725515007973,-0.035096723586321,-0.026755958795547,-0.123908184468746,-0.024912765249610,0.087418884038925,0.022999742999673,0.095397844910622,-0.053009156137705,0.054586376994848,0.090036727488041));
res += mul(Get(s0,0,0), float4x4(0.067653208971024,0.045306190848351,0.013216926716268,0.137172788381577,0.021334283053875,0.062811940908432,-0.006382008083165,0.069071874022484,-0.027396135032177,0.026572911068797,0.012990980409086,0.115948274731636,0.061237584799528,-0.037511691451073,0.050295170396566,0.351893126964569));
res += mul(Get(s0,0,dy), float4x4(-0.060381177812815,0.059139940887690,0.016698800027370,0.031936757266521,-0.000777011329774,0.047715496271849,0.029902236536145,0.076591730117798,0.075295127928257,0.128278434276581,-0.047938294708729,0.081583090126514,-0.128182128071785,-0.121485464274883,-0.023568393662572,-0.099028676748276));
res += mul(Get(s0,dx,-dy), float4x4(0.032869979739189,-0.002526328898966,0.093954078853130,0.033239580690861,-0.015969574451447,-0.020132893696427,-0.055798996239901,0.015123249031603,-0.123492293059826,-0.026818489655852,-0.073091328144073,0.031757190823555,-0.024911379441619,0.011937838979065,-0.142794325947762,-0.042666893452406));
res += mul(Get(s0,dx,0), float4x4(0.067114107310772,0.025374656543136,0.081255905330181,0.175159364938736,-0.039639595896006,-0.034419290721416,0.018031554296613,-0.040091760456562,-0.001176930381916,-0.091971069574356,-0.031318787485361,0.060535103082657,0.003406736301258,0.084325045347214,-0.014568717218935,0.092206530272961));
res += mul(Get(s0,dx,dy), float4x4(0.123823814094067,-0.028297848999500,0.028351310640574,-0.112079322338104,0.009827019646764,0.007475766818970,0.035050377249718,0.017415698617697,0.057421520352364,-0.049897216260433,-0.096105247735977,0.012381729669869,-0.141067311167717,-0.063267588615417,-0.081580385565758,0.046460639685392));
res += mul(Get(s1,-dx,-dy), float4x4(-0.231076017022133,-0.164746508002281,0.163322880864143,0.000402327626944,0.120299123227596,0.101335339248180,-0.047001823782921,0.072862997651100,-0.041686858981848,0.108884759247303,-0.073932260274887,0.000588518916629,-0.075550131499767,0.026675814762712,0.003633028361946,-0.006729033309966));
res += mul(Get(s1,-dx,0), float4x4(0.092941880226135,-0.012973820790648,-0.071053683757782,0.005130614154041,0.196794360876083,0.000690847635269,-0.028858661651611,0.043164428323507,-0.020412722602487,0.034394998103380,-0.111938141286373,0.044138532131910,-0.092074826359749,0.040476683527231,-0.039862174540758,0.001615042914636));
res += mul(Get(s1,-dx,dy), float4x4(0.157828316092491,0.078590713441372,-0.032698892056942,0.061674185097218,0.042594026774168,-0.027099985629320,-0.036515567451715,-0.102354876697063,-0.052751358598471,-0.027348199859262,-0.058189086616039,0.022876938804984,-0.019778413698077,0.015696447342634,-0.022267535328865,0.048137728124857));
res += mul(Get(s1,0,-dy), float4x4(-0.075476735830307,-0.079195991158485,-0.001644126023166,-0.079304829239845,-0.058880232274532,0.056159447878599,-0.012040400877595,0.045338634401560,-0.026332817971706,-0.000881735119037,-0.105905145406723,-0.100553818047047,-0.061668891459703,-0.027053762227297,0.054526023566723,-0.077212870121002));
res += mul(Get(s1,0,0), float4x4(-0.076289914548397,-0.059639014303684,-0.016367884352803,-0.063701547682285,0.090492524206638,-0.066137768328190,0.004730443004519,-0.015311665832996,0.020287269726396,0.004697691649199,-0.011710349470377,-0.083848424255848,-0.059934090822935,0.031806010752916,0.035874478518963,0.092495799064636));
res += mul(Get(s1,0,dy), float4x4(0.003362755523995,0.057258535176516,-0.024696398526430,0.032565716654062,0.114503830671310,-0.063163496553898,-0.059904213994741,0.044822361320257,-0.051864776760340,0.106108985841274,0.021089078858495,-0.013694253750145,-0.028279498219490,0.065650507807732,-0.006647936068475,-0.040104031562805));
res += mul(Get(s1,dx,-dy), float4x4(0.193682447075844,-0.050734166055918,-0.020002586767077,0.113682068884373,-0.193926602602005,0.031941268593073,-0.080699048936367,0.089022979140282,-0.099367953836918,0.001660975976847,0.063751786947250,0.015437956899405,-0.019774995744228,0.061440594494343,0.009866015985608,0.006522203329951));
res += mul(Get(s1,dx,0), float4x4(-0.120904728770256,-0.039364572614431,-0.020817730575800,0.122175730764866,-0.112983740866184,-0.028693584725261,-0.076905205845833,0.002905759494752,0.067601658403873,-0.066168174147606,0.268843114376068,-0.091314777731895,0.001000110409223,0.079055592417717,-0.071357369422913,0.011430140584707));
res += mul(Get(s1,dx,dy), float4x4(-0.057385366410017,-0.052524726837873,-0.078815534710884,0.049800682812929,-0.046053666621447,-0.052404008805752,0.050265215337276,-0.059843204915524,0.021393718197942,-0.079774886369705,0.047457359731197,-0.012340568937361,-0.047940555959940,0.051153294742107,-0.044192124158144,0.050963863730431));
res += mul(Get(s2,-dx,-dy), float4x4(-0.092851862311363,0.027268128469586,-0.054288581013680,0.065825700759888,-0.056961469352245,-0.098210580646992,0.105326943099499,0.134756252169609,-0.099938392639160,0.054197497665882,0.003528650617227,-0.065192617475986,-0.015406027436256,-0.015535774640739,0.001001977594569,-0.035245336592197));
res += mul(Get(s2,-dx,0), float4x4(0.020856264978647,0.010044944472611,0.006491457577795,0.085509702563286,0.049081608653069,0.070565596222878,-0.030848380178213,0.185879543423653,-0.002478495938703,0.028374841436744,0.036646693944931,0.177768826484680,0.178787156939507,0.007404724135995,-0.038259234279394,0.019235208630562));
res += mul(Get(s2,-dx,dy), float4x4(0.026826631277800,0.032304193824530,-0.017545957118273,0.013833846896887,0.107478506863117,0.013114514760673,-0.102899938821793,-0.119522601366043,0.138709306716919,0.055396933108568,-0.005451034288853,-0.061095394194126,0.155771911144257,0.017586860805750,-0.059917546808720,0.008346140384674));
res += mul(Get(s2,0,-dy), float4x4(0.041376292705536,-0.004433420021087,-0.007200337480754,0.036729346960783,0.024621902033687,-0.020613782107830,-0.007849096320570,-0.104108184576035,-0.099947713315487,-0.027839336544275,0.015936495736241,0.004781558178365,-0.098460540175438,-0.001720456988551,0.138457417488098,-0.074981257319450));
res += mul(Get(s2,0,0), float4x4(-0.019336992874742,-0.053040411323309,-0.009223035536706,0.023427728563547,-0.102325260639191,-0.024782385677099,-0.025907732546329,-0.180666491389275,0.010030791163445,-0.007631286047399,0.023271318525076,0.113112598657608,0.061520893126726,-0.084871456027031,0.113917194306850,0.094309799373150));
res += mul(Get(s2,0,dy), float4x4(-0.044424165040255,-0.027542797848582,0.006192960776389,0.047241795808077,-0.086048088967800,-0.051697418093681,-0.002227254211903,0.080002807080746,-0.019489925354719,0.082519233226776,0.059069734066725,0.034520801156759,0.115370780229568,0.044483590871096,-0.001512434217148,-0.011618065647781));
res += mul(Get(s2,dx,-dy), float4x4(-0.009905056096613,0.013739515095949,-0.065911710262299,-0.023829741403461,0.014687611721456,-0.041821673512459,-0.011340171098709,0.117554925382137,0.066860049962997,0.047069154679775,-0.019318211823702,0.050172790884972,-0.148459613323212,-0.059866938740015,0.104439944028854,0.021239522844553));
res += mul(Get(s2,dx,0), float4x4(0.001681300229393,-0.055727664381266,-0.017723450437188,-0.043859209865332,-0.076694771647453,0.015785558149219,-0.027738381177187,0.030616808682680,-0.002533291699365,0.022029777988791,0.023695221170783,0.054171491414309,-0.133992850780487,-0.130232483148575,-0.073484785854816,-0.016272978857160));
res += mul(Get(s2,dx,dy), float4x4(-0.038267858326435,0.006625050678849,-0.028055824339390,-0.013479574583471,-0.085359930992126,0.007506401278079,-0.023643797263503,0.002273685764521,-0.050371285527945,0.110898159444332,0.017269209027290,-0.055337067693472,-0.012740541249514,0.058235760778189,-0.083750098943710,-0.049781143665314));
res += mul(Get(s3,-dx,-dy), float4x4(-0.006071713287383,-0.101003214716911,0.001397677697241,-0.074022002518177,0.041924472898245,-0.047182925045490,0.065579973161221,-0.019004587084055,-0.133072987198830,-0.073694027960300,0.146535515785217,-0.040450599044561,-0.016337046399713,-0.074969984591007,-0.045736283063889,0.139400914311409));
res += mul(Get(s3,-dx,0), float4x4(-0.011531841941178,0.051366183906794,0.036272808909416,-0.008129256777465,-0.122024774551392,-0.027767164632678,0.023150414228439,-0.130962744355202,-0.027560114860535,0.036264527589083,0.023508016020060,-0.027636209502816,-0.120130315423012,-0.051993042230606,-0.129655912518501,0.204008698463440));
res += mul(Get(s3,-dx,dy), float4x4(-0.006781447213143,0.098162390291691,-0.011828309856355,-0.014785280451179,0.028109798207879,-0.001709415693767,-0.074290558695793,0.112828113138676,-0.047948483377695,0.022305013611913,0.001877686940134,-0.034995418041945,-0.150737181305885,-0.090030208230019,-0.062077675014734,0.059161499142647));
res += mul(Get(s3,0,-dy), float4x4(-0.057652991265059,-0.082270644605160,-0.039742913097143,-0.050739120692015,0.065089039504528,0.063844375312328,0.094004914164543,0.278156310319901,-0.030195500701666,-0.068811185657978,0.164092630147934,-0.045844018459320,0.075512245297432,0.099910542368889,-0.045039013028145,-0.075462482869625));
res += mul(Get(s3,0,0), float4x4(0.053713571280241,0.031351286917925,0.010456380434334,0.029376070946455,-0.074091829359531,-0.084394797682762,-0.004652968607843,0.031939227133989,-0.037413839250803,0.002679322147742,0.019281953573227,0.002985430182889,0.022849356755614,0.114412046968937,-0.095466889441013,0.054596617817879));
res += mul(Get(s3,0,dy), float4x4(0.066717095673084,0.126754626631737,-0.111015312373638,-0.038176700472832,-0.095921687781811,0.029390435665846,-0.107384428381920,-0.118045866489410,0.013454698957503,0.062090497463942,-0.088300675153732,-0.032950967550278,-0.034542046487331,0.049206797033548,0.015680197626352,-0.040292870253325));
res += mul(Get(s3,dx,-dy), float4x4(-0.042624693363905,-0.095933541655540,-0.104438379406929,-0.043462388217449,0.036415200680494,0.173664301633835,0.010115018114448,-0.063942216336727,0.011410830542445,-0.010440236888826,0.139539390802383,0.045787528157234,-0.048201091587543,-0.054546978324652,-0.025106299668550,0.029989045113325));
res += mul(Get(s3,dx,0), float4x4(0.026469990611076,-0.031705386936665,-0.123625114560127,-0.036158468574286,0.150768160820007,0.011230502277613,-0.107320539653301,0.060629025101662,0.087569378316402,0.045065339654684,0.024961562827229,0.022501429542899,0.038909748196602,0.021515909582376,-0.090122312307358,0.023570684716105));
res += mul(Get(s3,dx,dy), float4x4(0.022290460765362,0.019702607765794,-0.024404831230640,-0.023958666250110,-0.004957129713148,0.018172316253185,-0.174821808934212,0.056785058230162,-0.065503053367138,0.089076638221741,-0.140479728579521,0.001998560503125,-0.023650564253330,0.006376126781106,0.022726345807314,-0.053039796650410));
return max(float4(0,0,0,0), res);
}
