sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.054414000362158,-0.045192811638117,-0.004447734914720,0.037774611264467,-0.045297630131245,-0.029019981622696,0.110741764307022,-0.119881309568882,0.067557774484158,-0.014221690595150,-0.017375536262989,0.052461270242929,-0.015972638502717,-0.015981772914529,0.077906183898449,0.000456419889815));
res += mul(Get(s0,-dx,0), float4x4(-0.040575489401817,-0.030181612819433,0.000190667749848,0.053378842771053,-0.099009938538074,-0.014293059706688,0.033991333097219,-0.047673176974058,0.152341276407242,0.114828601479530,-0.032656297087669,-0.103582553565502,0.015162390656769,-0.029671037569642,0.061667297035456,-0.001340987742878));
res += mul(Get(s0,-dx,dy), float4x4(0.162148594856262,-0.047387648373842,-0.036804981529713,-0.013963616453111,-0.023188754916191,-0.045211818069220,0.022741969674826,-0.010077821090817,0.044943284243345,-0.028268907219172,0.163114130496979,-0.104440465569496,0.053626056760550,-0.011975602246821,0.021370433270931,-0.016147186979651));
res += mul(Get(s0,0,-dy), float4x4(0.007872104644775,-0.095748864114285,0.017088236287236,0.113725692033768,-0.023890871554613,-0.078695967793465,0.020091474056244,-0.160256117582321,0.088732771575451,-0.105385318398476,0.041995409876108,0.105498984456062,-0.011900017969310,-0.022248964756727,0.091973565518856,-0.003850179957226));
res += mul(Get(s0,0,0), float4x4(0.096944063901901,-0.075010873377323,-0.002190851839259,0.076520115137100,-0.031183265149593,-0.015539341606200,-0.005658608395606,-0.106774881482124,0.285077512264252,0.047705575823784,-0.041277147829533,-0.106683090329170,0.040281578898430,-0.033476889133453,0.033296488225460,-0.041075203567743));
res += mul(Get(s0,0,dy), float4x4(0.236544907093048,-0.035057667642832,0.024250188842416,0.002444832120091,0.006941972766072,-0.089156776666641,-0.017109764739871,-0.048154782503843,0.088329143822193,0.002145351376384,0.200564369559288,-0.167187362909317,0.045081499963999,-0.007493458688259,0.030322955921292,-0.022155437618494));
res += mul(Get(s0,dx,-dy), float4x4(0.036997906863689,0.008400051854551,0.021218411624432,0.053006812930107,-0.076207228004932,-0.138674229383469,0.040430445224047,0.007405815646052,0.204780593514442,0.055805794894695,-0.058047063648701,0.165807813405991,0.002791617065668,-0.006440846715122,0.057718314230442,-0.031128291040659));
res += mul(Get(s0,dx,0), float4x4(0.055458553135395,-0.017415629699826,0.045270077884197,-0.023267867043614,0.004124857019633,-0.108859829604626,0.061905864626169,-0.016182273626328,0.174702778458595,0.111537985503674,-0.016900943592191,0.050964169204235,0.033986229449511,-0.001863773795776,0.016296928748488,-0.066255882382393));
res += mul(Get(s0,dx,dy), float4x4(0.108691617846489,0.053781643509865,0.036862127482891,-0.062486410140991,0.060769382864237,-0.120603874325752,0.049425099045038,-0.014840246178210,0.027946066111326,0.009478601627052,0.142825677990913,-0.030818594619632,0.026143284514546,0.003895958419889,0.020918203517795,-0.033876098692417));
res += mul(Get(s1,-dx,-dy), float4x4(0.012852316722274,-0.000621931627393,0.049498483538628,-0.150188133120537,0.007703931536525,-0.033130817115307,0.015481690876186,0.060909699648619,-0.082417502999306,0.040959998965263,0.182726502418518,-0.128450885415077,-0.031641330569983,-0.098466120660305,-0.129060283303261,0.259630650281906));
res += mul(Get(s1,-dx,0), float4x4(-0.154989689588547,-0.022464804351330,0.017556736245751,-0.003037519054487,-0.016246644780040,-0.058405730873346,-0.053198635578156,0.127234786748886,-0.000905348744709,0.052529487758875,-0.091340951621532,0.019401501864195,0.052561361342669,-0.030256707221270,-0.089768804609776,0.178908273577690));
res += mul(Get(s1,-dx,dy), float4x4(-0.032060176134109,-0.044546876102686,-0.044415883719921,-0.028359338641167,-0.122208923101425,-0.095515079796314,0.009275684133172,0.143576875329018,0.127472728490829,0.061115406453609,-0.077747434377670,-0.045270547270775,-0.123522937297821,0.012264817021787,0.020663851872087,0.071036934852600));
res += mul(Get(s1,0,-dy), float4x4(0.180143982172012,0.039310917258263,0.004930936265737,-0.192439734935760,0.065630771219730,-0.027621570974588,0.019579529762268,0.017469312995672,-0.100329153239727,-0.132795900106430,0.227939739823341,-0.045646164566278,-0.005376733839512,-0.049547731876373,-0.017240313813090,0.094693645834923));
res += mul(Get(s1,0,0), float4x4(-0.179503589868546,0.061385847628117,-0.049745064228773,0.023893058300018,0.023199528455734,0.018772745504975,-0.049786001443863,0.023059507831931,-0.068518489599228,-0.052388202399015,-0.202708795666695,0.112115152180195,0.136455491185188,-0.014273982495070,0.027012394741178,-0.019168408587575));
res += mul(Get(s1,0,dy), float4x4(0.015473245643079,-0.080225035548210,0.012410134077072,0.102280810475349,-0.115628190338612,-0.056622698903084,0.007408665493131,0.081500731408596,0.077662430703640,-0.061374306678772,-0.127478435635567,0.042068902403116,-0.081531435251236,0.039220672100782,0.055611990392208,0.041794560849667));
res += mul(Get(s1,dx,-dy), float4x4(0.098583333194256,0.006369129754603,-0.036626368761063,-0.066016651690006,0.006876259576529,-0.051976773887873,0.079602546989918,0.029111342504621,-0.135485634207726,-0.123465679585934,0.234425500035286,0.011308847926557,0.040102779865265,-0.006244984455407,0.027722677215934,0.111771516501904));
res += mul(Get(s1,dx,0), float4x4(-0.079846419394016,0.177284464240074,-0.120771363377571,-0.026357211172581,0.021370528265834,-0.039439409971237,0.070122316479683,-0.048399060964584,-0.053193446248770,-0.022060774266720,-0.001528610708192,-0.004922169260681,0.133508771657944,0.017359942197800,0.007695326581597,0.013471815735102));
res += mul(Get(s1,dx,dy), float4x4(-0.013512937352061,0.034589637070894,-0.080644898116589,0.054314415901899,-0.112577989697456,-0.053683932870626,0.017407992854714,0.016574736684561,0.038567829877138,-0.041432257741690,-0.041505195200443,-0.080642275512218,0.016118034720421,0.129829928278923,-0.059107460081577,0.078059412539005));
res += mul(Get(s2,-dx,-dy), float4x4(0.000567140174098,-0.075252778828144,0.011303687468171,0.024775715544820,0.048722606152296,-0.120201595127583,0.019799754023552,0.210812896490097,0.091206118464470,0.009780910797417,0.023793185129762,0.004376335069537,-0.172956824302673,0.110749348998070,0.126020044088364,-0.067716941237450));
res += mul(Get(s2,-dx,0), float4x4(-0.043547753244638,-0.028151378035545,-0.011032050475478,0.047536656260490,0.117527365684509,-0.098290227353573,-0.085923664271832,0.202137306332588,0.037283875048161,0.040043033659458,-0.035260874778032,-0.022139331325889,-0.012859410606325,0.259110391139984,0.022215275093913,-0.234390616416931));
res += mul(Get(s2,-dx,dy), float4x4(-0.109307140111923,-0.082335457205772,0.063671037554741,0.060811910778284,0.028526753187180,-0.045407906174660,-0.028999466449022,0.181925222277641,-0.012609797529876,-0.043307404965162,0.076165892183781,-0.040137700736523,-0.051351588219404,0.193176299333572,0.119448550045490,-0.334090918302536));
res += mul(Get(s2,0,-dy), float4x4(0.114540718495846,0.029296973720193,-0.095035843551159,-0.056589473038912,0.090664751827717,0.027014248073101,0.098259463906288,-0.015503729693592,0.015241883695126,0.002591591328382,-0.030903913080692,-0.031419478356838,-0.203336253762245,-0.068206675350666,0.050069380551577,0.123916514217854));
res += mul(Get(s2,0,0), float4x4(0.050243206322193,0.110294021666050,-0.094996899366379,0.002397004049271,0.071733951568604,0.045466482639313,-0.017880037426949,0.037069927901030,-0.005597283598036,0.041712414473295,-0.013470449484885,-0.130817830562592,-0.022573741152883,-0.029753956943750,-0.134146258234978,0.081021361052990));
res += mul(Get(s2,0,dy), float4x4(-0.048290364444256,0.001787513261661,-0.016237813979387,0.136847600340843,0.013332968577743,0.049996677786112,0.011892002075911,0.063973531126976,0.032629549503326,0.028535934165120,0.010469340719283,-0.228272110223770,0.028799735009670,0.087375402450562,-0.058214243501425,-0.002033028984442));
res += mul(Get(s2,dx,-dy), float4x4(0.057220939546824,-0.041560880839825,-0.152604550123215,0.087289415299892,-0.011560947634280,-0.033906664699316,0.167565196752548,0.027819909155369,-0.031776547431946,-0.029997717589140,-0.011559087783098,0.027127029374242,-0.127068772912025,0.014778046868742,0.199387431144714,0.045822832733393));
res += mul(Get(s2,dx,0), float4x4(0.077658243477345,0.026592168956995,-0.146601483225822,0.122746422886848,-0.007757343351841,0.048954483121634,0.051926329731941,-0.036111403256655,0.032374799251556,-0.053219374269247,-0.063477873802185,-0.003399675013497,-0.006669767200947,0.006391155533493,0.079146191477776,0.106033124029636));
res += mul(Get(s2,dx,dy), float4x4(0.008265506476164,-0.033243011683226,-0.111578792333603,0.210183471441269,-0.038669668138027,0.011191947385669,-0.004342621192336,0.039295710623264,0.052432943135500,-0.073405787348747,-0.056871272623539,-0.023816291242838,0.073628619313240,0.058480288833380,0.140236839652061,0.052839078009129));
res += mul(Get(s3,-dx,-dy), float4x4(0.019517505541444,0.091045856475830,0.133923441171646,0.038849882781506,0.013740024529397,-0.017045697197318,-0.137173086404800,0.074095502495766,-0.077932678163052,0.009711947292089,0.106880083680153,0.012228461913764,-0.034335095435381,0.041544280946255,0.156921237707138,0.008955622091889));
res += mul(Get(s3,-dx,0), float4x4(0.099038004875183,0.119175054132938,0.022349681705236,-0.053951963782310,-0.104495294392109,-0.128821417689323,0.080237194895744,0.216077715158463,-0.043444447219372,0.020109497010708,0.071018293499947,-0.123305283486843,0.075563199818134,0.090432859957218,0.046029508113861,-0.029860040172935));
res += mul(Get(s3,-dx,dy), float4x4(0.129641100764275,0.092645063996315,0.068162232637405,-0.134353205561638,-0.045442983508110,-0.145974740386009,-0.006706512998790,0.037832412868738,-0.018826231360435,-0.045440614223480,0.033857006579638,-0.013241127133369,0.153514653444290,0.133492469787598,-0.016438415274024,-0.097429282963276));
res += mul(Get(s3,0,-dy), float4x4(-0.027154412120581,0.047475989907980,0.060461372137070,0.076047435402870,0.141019061207771,0.134790480136871,-0.114804811775684,0.076428465545177,-0.092432945966721,0.027192041277885,0.110732235014439,-0.083122722804546,0.020956633612514,0.001618968555704,0.061700496822596,0.112726248800755));
res += mul(Get(s3,0,0), float4x4(0.098902538418770,0.014532761648297,0.000593331526034,0.022690888494253,-0.168209657073021,0.017306966707110,0.171894729137421,0.101998329162598,0.051580999046564,0.008537483401597,-0.043358344584703,-0.185137957334518,0.070937104523182,-0.019953619688749,-0.023000532761216,0.115916378796101));
res += mul(Get(s3,0,dy), float4x4(0.085187233984470,0.017751559615135,0.005263799801469,-0.059455532580614,-0.118541680276394,-0.090482018887997,0.036155782639980,0.142450243234634,0.081803075969219,-0.005154419690371,-0.056165296584368,-0.042018909007311,0.133122742176056,0.070466093719006,0.015088505111635,-0.013124283403158));
res += mul(Get(s3,dx,-dy), float4x4(-0.145249858498573,-0.052124585956335,0.173509135842323,0.107673481106758,-0.026660170406103,0.096336856484413,-0.030079625546932,0.080886110663414,-0.032982148230076,-0.051982820034027,0.012435792945325,-0.017925469204783,0.062451757490635,0.062640689313412,-0.026687128469348,0.005176032893360));
res += mul(Get(s3,dx,0), float4x4(0.002824842231348,-0.082357481122017,0.120434746146202,0.091035418212414,-0.123094074428082,0.245060861110687,0.046712942421436,-0.030238810926676,0.023000352084637,-0.099812842905521,-0.048169575631618,-0.020956266671419,0.059052202850580,0.077184088528156,-0.112666077911854,0.071471683681011));
res += mul(Get(s3,dx,dy), float4x4(0.050392210483551,-0.042546432465315,0.055751737207174,-0.001780828111805,-0.160663381218910,0.108329720795155,-0.045526962727308,0.110231183469296,0.020686384290457,-0.068624176084995,0.042251538485289,-0.042228143662214,0.076354399323463,0.079683601856232,0.003856430528685,-0.023518497124314));
return max(float4(0,0,0,0), res);
}
