sampler s0 : register(s0);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(x, y)   tex2D(s0, tex + float2(x, y))[0]

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += float4(-0.168196424841881,0.056993868201971,0.322613179683685,0.051146790385246) * Get(-dx,-dy);
res += float4(0.428732156753540,-0.141596689820290,-0.028050571680069,0.091963976621628) * Get(-dx,0);
res += float4(-0.144515231251717,-0.077565573155880,0.072317250072956,-0.038530174642801) * Get(-dx,dy);
res += float4(-0.075424015522003,-0.083576157689095,0.159100785851479,-0.079565301537514) * Get(0,-dy);
res += float4(0.025965485721827,-0.057315099984407,-0.217185586690903,-0.125134333968163) * Get(0,0);
res += float4(-0.245019778609276,-0.042581435292959,-0.247395560145378,-0.000634630268905) * Get(0,dy);
res += float4(-0.122670777142048,-0.045620258897543,-0.012174026109278,-0.229720234870911) * Get(dx,-dy);
res += float4(-0.010779726319015,0.080781586468220,-0.129115447402000,-0.054437410086393) * Get(dx,0);
res += float4(0.030887342989445,-0.030021999031305,-0.129549294710159,-0.116372123360634) * Get(dx,dy);
return max(float4(0,0,0,0), res);
}
