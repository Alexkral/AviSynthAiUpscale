sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.042650517076254,0.047589890658855,-0.022432869300246,-0.000979975564405,-0.050616826862097,0.030874760821462,-0.076462656259537,0.026905307546258,0.102593228220940,0.042892877012491,-0.163172751665115,-0.082814469933510,-0.003745266934857,0.071721099317074,-0.001859246869572,-0.025860393419862));
res += mul(Get(s0,-dx,0), float4x4(-0.022283827885985,-0.097921013832092,0.017168194055557,0.009586993604898,0.028382664546371,0.047687791287899,0.018851172178984,0.101347580552101,0.202105134725571,-0.055785123258829,0.020986936986446,-0.124474138021469,-0.009136628359556,0.049890160560608,-0.062917843461037,-0.114049039781094));
res += mul(Get(s0,-dx,dy), float4x4(0.023704821243882,-0.047881349921227,0.031893279403448,0.025682140141726,-0.069832004606724,0.002232888247818,0.058429919183254,0.038910686969757,0.099041290581226,-0.076137058436871,0.082174897193909,-0.037562999874353,-0.070650622248650,0.220559149980545,-0.022323973476887,-0.110353671014309));
res += mul(Get(s0,0,-dy), float4x4(-0.117564707994461,0.057138197124004,-0.005733616650105,-0.010469394735992,-0.037650074809790,0.163434043526649,0.125110790133476,0.054806191474199,-0.061156336218119,0.148642867803574,-0.075973473489285,0.039724245667458,0.091253489255905,0.098451331257820,-0.013340525329113,0.022424712777138));
res += mul(Get(s0,0,0), float4x4(-0.065238662064075,0.050337251275778,0.018245019018650,0.017036877572536,0.045802798122168,0.139982268214226,0.196588382124901,0.110490344464779,-0.008777419105172,-0.179565086960793,0.077780112624168,-0.016679238528013,0.092863626778126,0.077020160853863,-0.025117980316281,0.017547463998199));
res += mul(Get(s0,0,dy), float4x4(-0.043715152889490,0.007222334388644,0.022937243804336,0.006614495068789,-0.035100746899843,0.083865731954575,0.067749805748463,0.114963449537754,0.018428716808558,-0.067525289952755,0.067426763474941,-0.037220336496830,0.040951307862997,0.120942980051041,0.092922627925873,-0.106547422707081));
res += mul(Get(s0,dx,-dy), float4x4(-0.092373311519623,-0.024670211598277,0.044339321553707,-0.024894567206502,0.044823735952377,0.012687964364886,-0.018617967143655,-0.017019646242261,-0.056595783680677,0.066666699945927,-0.034272234886885,0.085296988487244,-0.162676542997360,0.075834028422832,-0.060281060636044,-0.064882770180702));
res += mul(Get(s0,dx,0), float4x4(-0.071913473308086,0.033823404461145,0.060370612889528,-0.019115244969726,0.035389684140682,0.088668160140514,0.083980359137058,0.027235653251410,0.043056368827820,0.079879388213158,0.044814746826887,0.100781194865704,-0.043026354163885,0.163621842861176,-0.066709272563457,-0.025930477306247));
res += mul(Get(s0,dx,dy), float4x4(-0.013477507047355,0.075291804969311,0.003760270774364,-0.027432089671493,-0.071521691977978,0.154563590884209,0.030108463019133,0.065431334078312,0.018726192414761,-0.064883939921856,-0.008767149411142,0.010739908553660,-0.024818947538733,0.097808323800564,0.022127801552415,-0.010867330245674));
res += mul(Get(s1,-dx,-dy), float4x4(0.053717419505119,0.091033287346363,-0.109684079885483,0.083854667842388,-0.008732803165913,0.006255825981498,-0.004427928943187,-0.032377269119024,0.068730734288692,-0.129633516073227,0.132434919476509,-0.051585987210274,0.091964371502399,0.012446918524802,-0.065653018653393,0.111468642950058));
res += mul(Get(s1,-dx,0), float4x4(0.094361566007137,0.156767800450325,-0.010284706950188,0.005465727765113,0.076183557510376,-0.042985092848539,0.028212016448379,0.059322789311409,-0.109918460249901,-0.137261539697647,-0.054456852376461,0.059295337647200,0.065073996782303,0.055513724684715,-0.015934202820063,0.078774154186249));
res += mul(Get(s1,-dx,dy), float4x4(0.039021130651236,0.147980824112892,0.060303289443254,-0.031756017357111,0.186867862939835,-0.070790201425552,0.018090715631843,0.021100992336869,0.025332620367408,0.021624352782965,-0.184024244546890,0.154167562723160,0.019969701766968,0.097918532788754,-0.042800474911928,0.018408218398690));
res += mul(Get(s1,0,-dy), float4x4(0.035221397876740,-0.014175659976900,-0.034819900989532,0.084190659224987,0.005103455390781,-0.056700006127357,0.049862548708916,-0.024567916989326,0.063327148556709,0.028060661628842,-0.047201715409756,-0.041802570223808,0.013610053807497,-0.111236490309238,0.045911211520433,0.000885682413355));
res += mul(Get(s1,0,0), float4x4(0.111412249505520,0.103674866259098,0.005497790873051,0.101269051432610,0.005623789038509,0.017729407176375,0.029604576528072,0.095798611640930,-0.075264230370522,0.178167998790741,-0.132848903536797,0.029932897537947,0.093583039939404,-0.064880222082138,0.038239989429712,-0.040314912796021));
res += mul(Get(s1,0,dy), float4x4(0.068117439746857,0.079829849302769,0.067536972463131,0.052618455141783,0.095152363181114,-0.063412033021450,-0.026842502877116,0.005627869628370,-0.071769230067730,-0.087411403656006,-0.056426879018545,0.080483898520470,-0.001080429879948,0.021257055923343,0.116331264376640,-0.022245591506362));
res += mul(Get(s1,dx,-dy), float4x4(0.001330603030510,-0.083008043467999,-0.061396200209856,-0.028279921039939,0.036549653857946,0.030821137130260,-0.041653543710709,0.084475554525852,0.032812353223562,-0.018892165273428,-0.069935768842697,-0.022140735760331,0.051384888589382,-0.037860188633204,0.103437110781670,-0.019012361764908));
res += mul(Get(s1,dx,0), float4x4(0.033166397362947,0.022733226418495,0.057622887194157,-0.023598747327924,-0.049441870301962,0.113495223224163,-0.041589908301830,0.120458133518696,-0.041723497211933,0.155581951141357,-0.085057862102985,0.022377708926797,0.083678573369980,-0.107124090194702,0.117141880095005,-0.032570097595453));
res += mul(Get(s1,dx,dy), float4x4(0.032091304659843,0.023503270000219,0.035490419715643,0.002290551317856,0.038995470851660,0.058380167931318,-0.018332984298468,0.082237482070923,-0.062389068305492,0.005498327314854,0.001500149373896,0.099122725427151,0.031433630734682,-0.036276761442423,0.022100904956460,-0.098916761577129));
res += mul(Get(s2,-dx,-dy), float4x4(0.024134512990713,0.071737594902515,-0.094036385416985,-0.046936143189669,0.124694108963013,-0.240655899047852,0.180366158485413,0.005796249490231,0.102083072066307,0.016893539577723,-0.077713124454021,-0.008739140816033,0.076221324503422,-0.079916939139366,-0.002927517285571,-0.065028205513954));
res += mul(Get(s2,-dx,0), float4x4(0.058489397168159,-0.110844127833843,-0.012732242234051,-0.035886783152819,0.103156045079231,-0.018945999443531,0.002950834808871,-0.043438304215670,0.044056862592697,-0.138159662485123,-0.153255477547646,0.070742279291153,-0.092975638806820,-0.105056717991829,0.017950074747205,-0.075296834111214));
res += mul(Get(s2,-dx,dy), float4x4(0.032787624746561,-0.040401246398687,-0.046679466962814,-0.076585024595261,0.059173192828894,-0.015920892357826,-0.062790840864182,-0.042746972292662,-0.038913559168577,-0.027915893122554,-0.063488230109215,0.042734391987324,-0.192731291055679,0.096121676266193,-0.043258909136057,-0.017414053902030));
res += mul(Get(s2,0,-dy), float4x4(-0.112293437123299,0.078917533159256,0.009765394032001,0.036197513341904,0.095283493399620,-0.124671310186386,0.151755273342133,-0.062170676887035,-0.039402659982443,0.107822187244892,-0.131282597780228,-0.010758269578218,-0.013736502267420,0.004537510685623,0.035286288708448,-0.068557016551495));
res += mul(Get(s2,0,0), float4x4(-0.046279106289148,0.044566981494427,0.018955718725920,0.056525290012360,0.000178429298103,-0.093457050621510,0.060121357440948,-0.037082277238369,-0.004689978901297,-0.033220324665308,-0.103154048323631,0.042216956615448,-0.026871478185058,-0.071925632655621,0.000965921499301,-0.102976463735104));
res += mul(Get(s2,0,dy), float4x4(-0.099832229316235,0.138800367712975,-0.016832970082760,-0.009902594611049,0.034449733793736,0.063969574868679,-0.005963385105133,0.005200620274991,-0.099086344242096,-0.224389120936394,0.021623499691486,0.073753491044044,-0.166121885180473,0.003654890228063,0.054121654480696,-0.031062029302120));
res += mul(Get(s2,dx,-dy), float4x4(-0.038242772221565,-0.034264024347067,0.030933922156692,-0.026564439758658,0.151619046926498,-0.012683023698628,0.095220074057579,-0.120834387838840,0.006654871627688,0.004322154913098,-0.123390786349773,-0.058498218655586,-0.025288473814726,0.033525582402945,0.057465914636850,-0.110736429691315));
res += mul(Get(s2,dx,0), float4x4(-0.104486867785454,-0.035477429628372,-0.013945966027677,-0.112924546003342,-0.022048002108932,0.014168368652463,0.059575423598289,-0.019630165770650,-0.035995997488499,0.047210123389959,-0.053469009697437,-0.018657328560948,-0.029561126604676,-0.080254353582859,0.105893149971962,-0.094919390976429));
res += mul(Get(s2,dx,dy), float4x4(-0.142776280641556,0.005447005387396,0.044311165809631,-0.099983960390091,-0.006664358079433,0.090471729636192,0.011909265071154,0.058233913034201,-0.084578834474087,-0.118516519665718,0.044637221843004,0.016577914357185,-0.109971061348915,0.017765702679753,0.057819411158562,-0.019145451486111));
res += mul(Get(s3,-dx,-dy), float4x4(0.000095712559414,0.084259882569313,0.010946362279356,0.034116405993700,-0.015631759539247,0.130786538124084,-0.170839443802834,-0.121021732687950,0.056185379624367,0.029046976938844,0.027261415496469,-0.045459147542715,0.068415291607380,0.027421796694398,0.062012124806643,0.109274961054325));
res += mul(Get(s3,-dx,0), float4x4(0.062607854604721,0.052864167839289,-0.047281999140978,0.031115438789129,-0.046070992946625,0.050273939967155,-0.093296170234680,0.008482562378049,0.046981018036604,-0.014294678345323,0.048299204558134,0.086053036153316,0.100047446787357,-0.017692625522614,0.092565625905991,0.124900013208389));
res += mul(Get(s3,-dx,dy), float4x4(0.073791906237602,0.070029206573963,-0.121938496828079,-0.020808294415474,-0.096597865223885,-0.020325042307377,-0.069957710802555,0.015845289453864,0.037322565913200,0.007093962747604,0.085707433521748,-0.031194260343909,0.070554897189140,-0.032216515392065,0.082113742828369,0.084898114204407));
res += mul(Get(s3,0,-dy), float4x4(-0.013020471669734,-0.087484739720821,0.032893285155296,0.021918861195445,0.091952845454216,0.007284414954484,-0.041969824582338,-0.119288563728333,0.001079568290152,-0.046415157616138,0.119373403489590,-0.067825429141521,-0.028928302228451,0.089343354105949,0.018625941127539,0.086619332432747));
res += mul(Get(s3,0,0), float4x4(-0.032325290143490,-0.015102307312191,-0.017785450443625,-0.011933000758290,0.079889923334122,-0.169647485017776,0.029833130538464,0.051835026592016,0.005332215689123,0.369439989328384,0.019644644111395,0.026152370497584,-0.074944175779819,0.118487067520618,-0.039842501282692,0.021711876615882));
res += mul(Get(s3,0,dy), float4x4(0.076214738190174,0.012697918340564,-0.059105757623911,-0.009721200913191,-0.076858602464199,-0.060616500675678,-0.006780824624002,0.042024530470371,0.026305913925171,0.120004177093506,0.044140845537186,-0.037393949925900,-0.054978672415018,0.011209085583687,-0.053851429373026,0.013455500826240));
res += mul(Get(s3,dx,-dy), float4x4(0.077090509235859,-0.149682864546776,-0.016311680898070,0.007857106626034,0.043373204767704,0.031903184950352,0.015115908347070,-0.056522246450186,-0.104144573211670,0.040671572089195,-0.050360951572657,-0.046493668109179,-0.001302613527514,0.027242027223110,-0.044941764324903,0.036845199763775));
res += mul(Get(s3,dx,0), float4x4(-0.119493722915649,-0.143532589077950,-0.019761838018894,-0.031695306301117,0.057509884238243,0.006616546772420,0.022842464968562,0.092990100383759,-0.037509858608246,0.077589683234692,0.026410317048430,0.019847273826599,-0.026749877259135,0.044339817017317,-0.072949409484863,-0.003513460280374));
res += mul(Get(s3,dx,dy), float4x4(0.001583242556080,-0.141003623604774,0.000854118843563,0.031841143965721,-0.067313365638256,0.119797877967358,-0.069421261548996,0.036497008055449,-0.020980959758162,-0.035725217312574,0.122085250914097,-0.026836700737476,-0.025346085429192,-0.004852226935327,-0.020596081390977,0.009532444179058));
return max(float4(0,0,0,0), res);
}
