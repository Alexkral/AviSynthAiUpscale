sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.030108362436295,-0.105908527970314,-0.100049793720245,-0.087357066571712,0.017399728298187,0.004913617391139,-0.024041654542089,0.141462638974190,-0.121500186622143,-0.009996233507991,-0.005417089909315,0.157484143972397,-0.047781348228455,0.019157959148288,0.048880465328693,0.044115867465734));
res += mul(Get(s0,-dx,0), float4x4(-0.045454680919647,-0.065930575132370,-0.142495647072792,0.053827133029699,-0.057177584618330,0.044921878725290,-0.000373579649022,0.005404197610915,-0.145065635442734,-0.015779012814164,-0.061019126325846,0.093464910984039,-0.023898111656308,-0.050279665738344,0.045513469725847,-0.026097742840648));
res += mul(Get(s0,-dx,dy), float4x4(-0.059659868478775,-0.077321633696556,-0.100012145936489,-0.013187392614782,-0.063402436673641,-0.034385390579700,-0.015773452818394,-0.034029416739941,-0.111145414412022,-0.026321889832616,-0.069278895854950,-0.002761299256235,-0.076841078698635,-0.006594547536224,0.107266575098038,-0.049919202923775));
res += mul(Get(s0,0,-dy), float4x4(0.028408959507942,0.026130847632885,0.061953265219927,-0.081078514456749,0.027269214391708,-0.076978035271168,-0.077545195817947,0.216215476393700,0.115629427134991,-0.046218432486057,0.104080401360989,-0.067448474466801,0.076506301760674,-0.010197420604527,-0.015145557001233,-0.072241708636284));
res += mul(Get(s0,0,0), float4x4(-0.063943296670914,0.047691706568003,-0.025242840871215,0.031703118234873,0.041381407529116,0.003321645548567,-0.070505939424038,-0.150874823331833,0.126322120428085,-0.022047832608223,-0.064091205596924,-0.121424242854118,0.128191277384758,-0.023969169706106,0.017876140773296,-0.067271418869495));
res += mul(Get(s0,0,dy), float4x4(0.002808698453009,0.053912013769150,-0.102303646504879,0.093161888420582,0.016256317496300,-0.042277764528990,-0.051610976457596,-0.172591298818588,0.043853685259819,-0.037698440253735,-0.002075778553262,-0.209964126348495,0.008566086180508,-0.003589959349483,0.074434019625187,-0.020147923380136));
res += mul(Get(s0,dx,-dy), float4x4(0.235269680619240,0.032300740480423,0.008042314089835,-0.161688238382339,-0.050752509385347,0.033260535448790,-0.089395232498646,0.244386926293373,0.063722319900990,-0.079032383859158,0.041092310100794,-0.052124872803688,0.152275860309601,0.007698751520365,-0.025398064404726,-0.022273557260633));
res += mul(Get(s0,dx,0), float4x4(0.179093644022942,0.019470622763038,0.016926949843764,-0.143140330910683,0.068893469870090,0.007180145010352,-0.067178487777710,-0.072391130030155,0.159080013632774,-0.083532899618149,-0.116368696093559,-0.087092325091362,0.152618944644928,-0.072130583226681,-0.041843283921480,-0.041759472340345));
res += mul(Get(s0,dx,dy), float4x4(0.025623448193073,-0.041933871805668,-0.072543896734715,0.058411963284016,0.024835133925080,-0.007672081701458,-0.010303680785000,-0.230650171637535,0.150582268834114,-0.078805722296238,-0.102108612656593,-0.108295954763889,0.005439087748528,-0.082971990108490,0.111474126577377,-0.076256439089775));
res += mul(Get(s1,-dx,-dy), float4x4(-0.163336917757988,0.044393219053745,-0.059507075697184,0.022379225119948,-0.189625099301338,-0.079123325645924,0.013898964039981,0.109820768237114,-0.082268841564655,0.027729792520404,0.107407547533512,-0.079033173620701,-0.153702810406685,-0.046577069908381,0.200871393084526,0.099455006420612));
res += mul(Get(s1,-dx,0), float4x4(-0.062083307653666,-0.058075137436390,0.147221356630325,-0.067285001277924,-0.017972692847252,-0.148963823914528,0.024513762444258,-0.047564011067152,-0.136026531457901,0.041415326297283,0.090235427021980,-0.139094114303589,0.017418291419744,-0.094549112021923,-0.017471114173532,0.025395497679710));
res += mul(Get(s1,-dx,dy), float4x4(-0.210077673196793,-0.128550648689270,0.008861317299306,-0.024876050651073,-0.007715630345047,-0.008684338070452,-0.014703387394547,-0.046952296048403,-0.030212158337235,-0.127578750252724,-0.086894772946835,-0.161225005984306,0.262871026992798,-0.024093983694911,-0.179739698767662,-0.096480324864388));
res += mul(Get(s1,0,-dy), float4x4(-0.047355305403471,-0.007639704272151,-0.126657128334045,0.029835555702448,-0.073732867836952,-0.037890370935202,0.034192059189081,0.096895948052406,0.065443314611912,0.075445778667927,0.083702050149441,0.026164345443249,-0.131557896733284,0.046855110675097,0.143841341137886,0.099614381790161));
res += mul(Get(s1,0,0), float4x4(0.085993826389313,0.069199807941914,0.107337668538094,-0.182444751262665,0.199384182691574,-0.062680535018444,-0.011516319587827,0.071525491774082,0.103981077671051,0.204733863472939,0.115661218762398,-0.127723932266235,0.023650350049138,-0.009546044282615,-0.026513861492276,-0.035784203559160));
res += mul(Get(s1,0,dy), float4x4(-0.065552271902561,-0.114202998578548,-0.027125416323543,0.036525819450617,0.155798301100731,0.035308167338371,-0.096636265516281,-0.014133277349174,0.094060510396957,0.092250622808933,-0.090062029659748,-0.124615371227264,0.098262391984463,-0.117447577416897,-0.018343487754464,-0.031564310193062));
res += mul(Get(s1,dx,-dy), float4x4(0.022643772885203,0.030211163684726,-0.190045386552811,0.105475865304470,-0.064235419034958,0.025603067129850,0.141520634293556,0.029763028025627,0.072757571935654,-0.022911410778761,0.120503485202789,0.076434671878815,0.032568268477917,0.081542760133743,-0.011821933090687,0.124420724809170));
res += mul(Get(s1,dx,0), float4x4(0.138019263744354,0.074147969484329,-0.033399816602468,-0.146498337388039,-0.066460028290749,-0.072155445814133,-0.012756775133312,0.119964800775051,-0.053983699530363,0.106082990765572,0.186971575021744,0.003367492230609,0.042463239282370,0.103785969316959,-0.082283727824688,-0.002768612699583));
res += mul(Get(s1,dx,dy), float4x4(-0.090140126645565,0.005210414528847,0.011912264861166,0.039358809590340,-0.107955329120159,0.051867805421352,-0.073673389852047,0.036970846354961,0.035219617187977,0.052095502614975,0.011846343986690,-0.081630602478981,-0.075756467878819,0.025577886030078,-0.093431837856770,-0.054274253547192));
res += mul(Get(s2,-dx,-dy), float4x4(0.001739620114677,0.138332843780518,0.094976678490639,0.009024689905345,-0.022959982976317,-0.003602270735428,0.043779078871012,0.033964574337006,-0.031889334321022,-0.019245555624366,0.023079508915544,0.116782195866108,0.011503057554364,-0.038529109209776,0.043716229498386,0.068811334669590));
res += mul(Get(s2,-dx,0), float4x4(-0.002252593636513,0.060150850564241,0.085477828979492,0.099194221198559,0.076258033514023,0.038902450352907,0.052236393094063,0.076415657997131,-0.039467409253120,0.007315474096686,-0.009293618611991,0.237999930977821,-0.066180966794491,-0.036764912307262,-0.009062180295587,0.044629886746407));
res += mul(Get(s2,-dx,dy), float4x4(-0.003115602303296,0.011778553016484,0.111063465476036,0.109923347830772,0.022272851318121,0.022349348291755,0.060340162366629,0.036122448742390,-0.037404824048281,0.108794674277306,-0.028368005529046,0.061509754508734,-0.117732837796211,-0.024681126698852,-0.142338171601295,-0.028436219319701));
res += mul(Get(s2,0,-dy), float4x4(0.056444216519594,0.060071997344494,-0.024020100012422,0.027493678033352,0.054909206926823,0.047388710081577,0.085440509021282,-0.091892808675766,-0.038500707596540,0.008100920356810,0.015216257423162,0.073441207408905,-0.053231611847878,0.134492486715317,0.074172697961330,0.021813210099936));
res += mul(Get(s2,0,0), float4x4(0.069113172590733,-0.024341030046344,0.090376801788807,0.038208309561014,0.130956083536148,0.036558099091053,0.065005719661713,0.000807640899438,0.025494087487459,-0.009942372329533,-0.008705754764378,-0.037067379802465,-0.238825246691704,0.007357835769653,0.100272417068481,-0.109540522098541));
res += mul(Get(s2,0,dy), float4x4(-0.025851408019662,-0.004325704183429,0.168360665440559,-0.015331189148128,0.143201887607574,-0.005145616829395,0.086946815252304,0.054127950221300,-0.065238408744335,0.124635778367519,0.097354874014854,-0.193445131182671,-0.252300769090652,-0.030748354271054,-0.051545530557632,0.054507929831743));
res += mul(Get(s2,dx,-dy), float4x4(-0.037380900233984,-0.000454493681900,-0.098284587264061,-0.118753224611282,0.077365502715111,-0.002654316369444,0.052825283259153,-0.095316976308823,0.006921914871782,0.003726155031472,0.059954944998026,-0.039613131433725,0.022997815161943,0.093808993697166,-0.030444409698248,0.029460495337844));
res += mul(Get(s2,dx,0), float4x4(0.054457575082779,0.120859965682030,0.016276717185974,0.019306316971779,0.108656406402588,0.049155391752720,-0.023482047021389,-0.031118942424655,-0.028360465541482,0.005549066700041,0.072312712669373,-0.133699133992195,0.158968344330788,0.029037635773420,-0.006632893811911,-0.095422022044659));
res += mul(Get(s2,dx,dy), float4x4(0.087306298315525,0.047977618873119,0.080919966101646,-0.027741346508265,0.090362995862961,0.007410462480038,0.024929851293564,0.054058339446783,-0.088530078530312,0.072148777544498,0.018476918339729,-0.166654229164124,0.149190306663513,0.035295691341162,-0.052033890038729,-0.106492303311825));
res += mul(Get(s3,-dx,-dy), float4x4(0.040356367826462,-0.012769944034517,-0.019486039876938,0.009195186197758,-0.051380328834057,0.065703764557838,-0.016424324363470,-0.079098246991634,-0.113144472241402,-0.105655893683434,0.039603088051081,0.057780366390944,0.082008808851242,-0.003398912027478,-0.046703100204468,-0.038043990731239));
res += mul(Get(s3,-dx,0), float4x4(0.025571055710316,0.034635279327631,0.045422695577145,-0.003264091443270,-0.123522989451885,0.083105430006981,-0.010237457230687,-0.123256295919418,0.020890459418297,-0.043671548366547,-0.043369296938181,0.006305356975645,0.103291064500809,-0.003963426221162,-0.003349002916366,0.061005383729935));
res += mul(Get(s3,-dx,dy), float4x4(-0.032176107168198,-0.017749398946762,-0.031322266906500,0.038382619619370,-0.045888163149357,0.030755801126361,-0.027256680652499,0.009726697579026,-0.126120224595070,-0.016418477520347,-0.096638210117817,-0.006017202977091,0.004473159089684,-0.031954258680344,0.018219264224172,0.072361804544926));
res += mul(Get(s3,0,-dy), float4x4(-0.024300584569573,0.031836163252592,-0.030270835384727,0.000901924911886,0.093142382800579,-0.027434702962637,-0.007190881296992,0.079299151897430,-0.014869651757181,-0.064271301031113,0.112934686243534,-0.004225040320307,0.047706224024296,-0.017688825726509,-0.064958982169628,0.064989663660526));
res += mul(Get(s3,0,0), float4x4(0.003750702133402,0.039210595190525,-0.001257431926206,0.041955869644880,0.070483073592186,0.018115518614650,0.006961796898395,-0.049064472317696,0.165065050125122,0.013306139037013,-0.113172389566898,-0.005643786862493,-0.035565417259932,-0.017565654590726,-0.005401500500739,0.049102097749710));
res += mul(Get(s3,0,dy), float4x4(-0.018880898132920,-0.021743543446064,-0.029685309156775,0.040940221399069,0.014922836795449,0.055305726826191,0.018839355558157,0.010101282037795,-0.094667188823223,0.051245938986540,-0.137087062001228,-0.014836796559393,0.007952364161611,-0.097932159900665,0.010401817969978,0.087723173201084));
res += mul(Get(s3,dx,-dy), float4x4(0.049250375479460,-0.058116748929024,-0.011087033897638,-0.003046260215342,-0.029396517202258,-0.039557095617056,-0.021494103595614,0.146127715706825,-0.120936259627342,0.021724924445152,0.155224680900574,-0.016329988837242,-0.039771102368832,0.041010271757841,-0.071842715144157,0.047239158302546));
res += mul(Get(s3,dx,0), float4x4(0.011905631050467,-0.009620406664908,0.021145515143871,0.021367624402046,0.055500969290733,-0.008404168300331,-0.046210225671530,0.093483753502369,-0.051755413413048,-0.028523411601782,-0.045248184353113,-0.025946451351047,0.026219077408314,-0.008212099783123,-0.006383697502315,0.069216094911098));
res += mul(Get(s3,dx,dy), float4x4(-0.035267051309347,0.022629044950008,-0.044455323368311,0.021965054795146,0.004095564130694,0.117437131702900,0.017197301611304,0.033921603113413,-0.080425016582012,0.072127655148506,-0.047951608896255,-0.027578566223383,0.033538397401571,0.003441577544436,-0.027253055945039,0.100911304354668));
return max(float4(0,0,0,0), res);
}
