sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.020940233021975,-0.018365023657680,-0.055964156985283,-0.013843537308276,-0.038067419081926,0.046243563294411,0.047602232545614,0.012254097498953,0.011138716712594,0.056385401636362,0.003924435935915,-0.122346304357052,-0.093094237148762,0.033017143607140,-0.020243100821972,-0.029840026050806));
res += mul(Get(s0,-dx,0), float4x4(-0.008933926932514,-0.040479701012373,0.013684064149857,0.067640922963619,0.035255618393421,0.024611521512270,0.061395950615406,0.037141766399145,0.047573100775480,-0.026888502761722,0.058334264904261,-0.143650367856026,0.117048792541027,0.053639944642782,0.015989044681191,-0.029715714976192));
res += mul(Get(s0,-dx,dy), float4x4(-0.058627441525459,-0.055978499352932,0.034114241600037,0.098032608628273,-0.007976236753166,0.011066675186157,-0.014547100290656,0.036483343690634,0.058342535048723,-0.083911225199699,0.003380863461643,-0.140593320131302,0.116045936942101,-0.024225322529674,0.057885862886906,0.097949810326099));
res += mul(Get(s0,0,-dy), float4x4(-0.016728961840272,0.004677527118474,-0.069548651576042,-0.006926078349352,0.060671348124743,0.027178471907973,-0.043861791491508,-0.034918554127216,0.177215948700905,0.005987157113850,0.018519865348935,-0.041432291269302,0.018303254619241,-0.080758377909660,-0.129934489727020,0.090387381613255));
res += mul(Get(s0,0,0), float4x4(0.051139082759619,-0.014383598230779,0.077050745487213,0.034415889531374,0.101934485137463,0.049605101346970,-0.015758885070682,0.033118650317192,-0.090182639658451,-0.119719102978706,0.051155351102352,-0.032071735709906,0.155872911214828,-0.011597370728850,-0.132715463638306,-0.008392015472054));
res += mul(Get(s0,0,dy), float4x4(-0.039452683180571,-0.029528463259339,0.047251563519239,0.096747241914272,-0.003085698932409,0.060268897563219,-0.012392807751894,-0.011850807815790,0.086061388254166,-0.028044100850821,0.130333244800568,0.017502827569842,0.114414282143116,-0.059886362403631,-0.000490064965561,0.049034293740988));
res += mul(Get(s0,dx,-dy), float4x4(-0.067854315042496,0.006671447772533,-0.007131461519748,0.039611540734768,0.065232649445534,0.008273008279502,-0.042269118130207,-0.069786541163921,0.067138634622097,0.109868459403515,0.109776131808758,-0.096352569758892,-0.040881861001253,-0.018294699490070,0.019514596089721,0.100661374628544));
res += mul(Get(s0,dx,0), float4x4(-0.022623561322689,-0.018208615481853,0.028129084035754,0.144347652792931,0.069787420332432,0.025134595111012,-0.026852522045374,0.009569427929819,0.002321164356545,0.054016657173634,0.150248751044273,0.030919924378395,0.093640148639679,0.001161678461358,-0.156599164009094,0.000119621159683));
res += mul(Get(s0,dx,dy), float4x4(0.006713779177517,0.004232471808791,-0.056158222258091,0.157211974263191,-0.010515665635467,-0.038606390357018,-0.005771227180958,-0.055290050804615,-0.025911116972566,0.085119329392910,0.073578961193562,0.191512987017632,0.074114978313446,-0.057616509497166,-0.045205853879452,-0.040970139205456));
res += mul(Get(s1,-dx,-dy), float4x4(-0.001555179012939,-0.027543205767870,-0.024725299328566,0.199271976947784,0.171906992793083,0.075353242456913,0.012345533818007,0.071454316377640,0.081688642501831,-0.037216305732727,0.031839702278376,-0.105672203004360,0.008060050196946,0.062283765524626,-0.071682497859001,0.086150258779526));
res += mul(Get(s1,-dx,0), float4x4(0.065620481967926,-0.068936184048653,-0.089401915669441,0.141403362154961,0.074156209826469,0.034798774868250,0.085657611489296,-0.046115960925817,0.056151323020458,-0.053761843591928,0.072679169476032,-0.051313679665327,-0.030784895643592,0.024858649820089,-0.077319778501987,0.117156274616718));
res += mul(Get(s1,-dx,dy), float4x4(0.120634667575359,-0.014607694931328,0.071542486548424,-0.021911008283496,-0.003627913538367,0.034557882696390,-0.044774398207664,0.071902036666870,0.095239564776421,-0.168430551886559,-0.015634605661035,0.016259562224150,-0.025402568280697,-0.042839128524065,-0.090058155357838,0.063083358108997));
res += mul(Get(s1,0,-dy), float4x4(0.023381493985653,0.067830584943295,-0.073221363127232,0.143577903509140,0.149643808603287,0.098233915865421,0.048251766711473,0.005435041151941,0.075354419648647,0.046035662293434,0.017292231321335,0.016509797424078,-0.135638371109962,0.051937710493803,-0.019659360870719,0.010596691630781));
res += mul(Get(s1,0,0), float4x4(0.236207753419876,0.047340743243694,0.014747775159776,0.016865381971002,0.113932952284813,0.018039705231786,-0.034275572746992,0.068405702710152,0.115634828805923,0.012519325129688,0.071770071983337,-0.068676002323627,-0.136895149946213,0.013521756045520,-0.002479737624526,0.058149397373199));
res += mul(Get(s1,0,dy), float4x4(0.066004402935505,0.025740494951606,0.021749194711447,-0.088196456432343,0.075496263802052,0.073990061879158,-0.039958324283361,0.116049252450466,-0.054108858108521,-0.079317182302475,0.006131173577160,0.095288075506687,-0.040489099919796,-0.057912293821573,-0.036874674260616,0.037064995616674));
res += mul(Get(s1,dx,-dy), float4x4(0.046434573829174,0.092124938964844,0.029817450791597,0.049809191375971,0.061328258365393,0.084959350526333,-0.002331486437470,-0.001145126414485,-0.208834171295166,-0.036968886852264,-0.025671109557152,-0.036326106637716,-0.081667445600033,0.103795379400253,0.042397782206535,-0.009881494566798));
res += mul(Get(s1,dx,0), float4x4(0.107454158365726,0.016670031473041,-0.045957230031490,0.032381948083639,0.080754466354847,0.039669640362263,-0.068938933312893,0.050151553004980,0.055645693093538,-0.054814077913761,0.049822635948658,-0.090493105351925,-0.139830678701401,0.061889287084341,0.052555412054062,0.074387930333614));
res += mul(Get(s1,dx,dy), float4x4(-0.007443442009389,-0.030304608866572,-0.115350790321827,-0.038674943149090,0.095585457980633,0.052145846188068,0.028268793597817,-0.092659458518028,-0.081610612571239,-0.117387875914574,0.024650668725371,0.093230910599232,-0.070248313248158,0.026931444182992,0.037013035267591,0.111438468098640));
res += mul(Get(s2,-dx,-dy), float4x4(-0.053095668554306,0.051348403096199,-0.011800509877503,0.045214686542749,-0.204120352864265,-0.025289013981819,0.116289377212524,-0.138401851058006,-0.030421864241362,-0.016781430691481,-0.017130805179477,0.057199869304895,-0.055283155292273,-0.005526381079108,-0.119921676814556,0.055074524134398));
res += mul(Get(s2,-dx,0), float4x4(-0.050824519246817,0.051010344177485,0.092429511249065,0.048156239092350,-0.110472120344639,-0.039608635008335,0.000601739739068,-0.074875213205814,-0.078889265656471,-0.014448427595198,-0.043636579066515,-0.031488116830587,-0.000727793900296,0.039435818791389,-0.099167704582214,-0.047455321997404));
res += mul(Get(s2,-dx,dy), float4x4(-0.114683091640472,0.065015040338039,-0.021559976041317,0.186022236943245,-0.061401296406984,0.038026016205549,-0.050109181553125,-0.053769670426846,0.040697321295738,-0.046780809760094,0.059433534741402,-0.063069082796574,0.089934177696705,0.024065874516964,-0.106353014707565,-0.107884421944618));
res += mul(Get(s2,0,-dy), float4x4(-0.031494781374931,-0.040304619818926,-0.041478615254164,-0.011597670614719,-0.080546014010906,-0.006167650222778,0.111772894859314,0.000768336409237,0.001643121824600,0.074810266494751,-0.049781985580921,0.125552237033844,-0.111740358173847,0.021584592759609,-0.004901501815766,0.142651870846748));
res += mul(Get(s2,0,0), float4x4(0.104644797742367,-0.026415763422847,0.068271785974503,-0.046882595866919,-0.016373490914702,-0.000689336913638,0.042726539075375,0.021364316344261,0.048207178711891,-0.049543008208275,-0.039277695119381,-0.043383806943893,-0.019277846440673,0.055894471704960,-0.050200469791889,-0.042079892009497));
res += mul(Get(s2,0,dy), float4x4(0.118454828858376,-0.012074379250407,-0.074193269014359,0.038549482822418,0.063799582421780,0.016567409038544,-0.023316144943237,-0.001732963137329,-0.099184550344944,-0.023042676970363,0.078982196748257,0.020958308130503,0.019324125722051,0.023875271901488,-0.088162891566753,-0.034509379416704));
res += mul(Get(s2,dx,-dy), float4x4(-0.136181131005287,-0.010031438432634,0.027347622439265,-0.099162176251411,-0.070440232753754,0.016371205449104,0.046341497451067,-0.034893557429314,-0.060706373304129,0.049136172980070,-0.063265144824982,0.099337905645370,-0.020228013396263,0.021859239786863,-0.032533977180719,0.094635047018528));
res += mul(Get(s2,dx,0), float4x4(0.037703737616539,-0.011317649856210,-0.008334382437170,-0.167562946677208,-0.007666314486414,0.010662219487131,0.083373725414276,0.017653668299317,0.014916447922587,-0.010430241003633,-0.012245662510395,0.022903561592102,-0.033207479864359,-0.023383820429444,-0.094454266130924,0.073768369853497));
res += mul(Get(s2,dx,dy), float4x4(0.097230516374111,-0.045629236847162,-0.078791856765747,-0.171060144901276,0.040461987257004,0.028348650783300,0.004929948132485,0.041163589805365,-0.127569451928139,-0.024141876026988,0.090552121400833,0.140142410993576,0.001185476896353,-0.000412977591623,-0.112280204892159,0.074121817946434));
res += mul(Get(s3,-dx,-dy), float4x4(0.024437386542559,-0.021175343543291,0.021877989172935,0.023431072011590,0.033332087099552,0.048465829342604,-0.058862753212452,0.016784641891718,0.056840158998966,-0.023900885134935,-0.137451559305191,-0.078190244734287,-0.072166271507740,0.028158867731690,0.111617408692837,-0.081877149641514));
res += mul(Get(s3,-dx,0), float4x4(-0.013105635531247,-0.085583001375198,0.016209112480283,0.068557508289814,0.012494730763137,0.098720908164978,-0.016359373927116,0.001419990207069,-0.048480100929737,-0.030684923753142,-0.042361538857222,0.018059113994241,-0.080537393689156,-0.072331391274929,0.100255861878395,-0.055291369557381));
res += mul(Get(s3,-dx,dy), float4x4(-0.004186487291008,0.010818984359503,0.035523079335690,0.130378708243370,0.154841825366020,0.129491642117500,0.015813279896975,0.011140102520585,-0.110558405518532,-0.019942227751017,0.055400349199772,0.038366474211216,-0.085493683815002,-0.029419491067529,-0.019485516473651,0.031386584043503));
res += mul(Get(s3,0,-dy), float4x4(-0.042611863464117,0.039213735610247,0.187556594610214,-0.046763353049755,0.055209532380104,0.025042621418834,0.086276963353157,-0.147870600223541,-0.035540934652090,0.058805759996176,-0.080043733119965,-0.033930685371161,-0.007525762543082,0.076739691197872,0.110922880470753,-0.070461399853230));
res += mul(Get(s3,0,0), float4x4(0.049146559089422,-0.011095976457000,0.098707646131516,-0.050297360867262,-0.115506976842880,0.052635800093412,0.005651078652591,0.012394559569657,0.075316995382309,0.039030257612467,-0.095561437308788,-0.023435954004526,0.004094852600247,0.025134652853012,0.134805291891098,-0.067021869122982));
res += mul(Get(s3,0,dy), float4x4(0.055890940129757,0.000947434979025,0.006515539716929,0.000098691467429,0.141530424356461,0.168564826250076,0.037829276174307,-0.027414161711931,-0.038611054420471,0.018972419202328,0.011335557326674,-0.000539006199688,-0.123138092458248,0.000635263393633,0.028660424053669,0.002007228555158));
res += mul(Get(s3,dx,-dy), float4x4(-0.022520640864968,0.057990103960037,0.136940643191338,-0.000303322623949,-0.029426991939545,-0.049732964485884,0.082196086645126,0.053346503525972,-0.071825489401817,0.089901059865952,-0.138681158423424,0.000005687954399,-0.009709963575006,0.042981281876564,0.030035085976124,0.026534419506788));
res += mul(Get(s3,dx,0), float4x4(0.095652967691422,0.023427005857229,0.041076865047216,-0.013055861927569,-0.039616886526346,-0.026893494650722,0.157712891697884,0.067057661712170,0.004187583923340,-0.025016358122230,-0.087955713272095,-0.015553856268525,-0.023950401693583,0.047931272536516,-0.009822784923017,-0.006216246169060));
res += mul(Get(s3,dx,dy), float4x4(0.029664758592844,-0.039994940161705,-0.068442158401012,0.030196415260434,0.064743593335152,0.076527774333954,0.042972650378942,-0.037175808101892,-0.094631791114807,0.008291390724480,0.084427356719971,-0.006240895017982,-0.060299742966890,-0.034977108240128,-0.056693457067013,0.029946558177471));
return max(float4(0,0,0,0), res);
}
