sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.042763695120811,0.048985250294209,-0.047541249543428,0.007155969738960,0.127842992544174,0.039974335581064,0.047083865851164,0.036474522203207,0.091365121304989,-0.039936900138855,-0.071537435054779,-0.004747828468680,0.041201379150152,0.003116974374279,0.005334490910172,0.000681242265273));
res += mul(Get(s0,-dx,0), float4x4(0.122111625969410,0.135317385196686,-0.078442022204399,0.013736279681325,0.049875997006893,-0.023190552368760,0.033673036843538,0.023252340033650,0.090471900999546,0.034061871469021,-0.104180835187435,-0.005084999836981,0.039951901882887,0.050237480551004,-0.049302536994219,0.002514750696719));
res += mul(Get(s0,-dx,dy), float4x4(0.033729176968336,0.127556219696999,-0.054613109678030,0.002343298168853,0.084579356014729,0.029727900400758,-0.034198895096779,0.019205369055271,0.007097273133695,-0.083114422857761,-0.149798050522804,-0.027994152158499,-0.040898602455854,0.001545435166918,-0.020682575181127,-0.003747264621779));
res += mul(Get(s0,0,-dy), float4x4(0.067179530858994,0.041263151913881,0.028200715780258,-0.005261759273708,0.111881479620934,0.040444087237120,0.111109085381031,0.017763400450349,0.198876187205315,0.148495078086853,-0.096355229616165,0.010068922303617,0.069726698100567,-0.006028363481164,0.002103797858581,0.011254677549005));
res += mul(Get(s0,0,0), float4x4(0.099415026605129,0.186100006103516,0.020762057974935,0.010377513244748,0.113938562572002,0.034508351236582,0.018489660695195,0.019130494445562,0.077346600592136,0.187139257788658,0.029043445363641,0.005835266318172,0.036361411213875,0.027858680114150,-0.006263160612434,0.001951569807716));
res += mul(Get(s0,0,dy), float4x4(-0.023968627676368,0.055282123386860,0.141880303621292,-0.001820965902880,0.076437912881374,0.137315347790718,0.002356192562729,0.001031705527566,0.043307699263096,-0.105039715766907,0.035057917237282,-0.029085924848914,-0.030891995877028,-0.034566804766655,0.031652692705393,-0.007043183781207));
res += mul(Get(s0,dx,-dy), float4x4(0.030418483540416,-0.045288149267435,0.035327974706888,-0.003204359672964,0.086661703884602,-0.005625871010125,-0.085792869329453,0.000763869495131,0.092994518578053,0.018834047019482,0.045655179768801,0.007452972233295,0.069904677569866,0.004162369295955,-0.005551787093282,0.013867779634893));
res += mul(Get(s0,dx,0), float4x4(0.006691053044051,0.050932124257088,0.037146117538214,-0.002736168447882,0.090184129774570,0.044844835996628,-0.076523400843143,0.006669411435723,0.032365493476391,-0.005309883970767,0.132814586162567,0.015224120579660,0.026946118101478,0.000973423593678,0.002831982681528,0.009452913887799));
res += mul(Get(s0,dx,dy), float4x4(-0.038865283131599,-0.117221631109715,0.114407539367676,-0.011141526512802,-0.033419210463762,0.080998711287975,0.005727807525545,-0.004218410234898,0.105290427803993,-0.104023724794388,-0.075968682765961,-0.003163166576996,-0.020048098638654,-0.032297901809216,0.011040232144296,-0.004725590813905));
res += mul(Get(s1,-dx,-dy), float4x4(-0.089715480804443,-0.101339489221573,0.056432433426380,-0.019123619422317,-0.048879981040955,-0.010166450403631,-0.003635287284851,-0.006879180204123,0.122575052082539,-0.023243786767125,-0.099316164851189,0.018019596114755,0.000740715127904,-0.040155526250601,-0.123889356851578,-0.013674168847501));
res += mul(Get(s1,-dx,0), float4x4(-0.014901760965586,-0.010175648145378,0.078752502799034,-0.000153601504280,-0.082032769918442,-0.052957948297262,0.020937940105796,-0.012026729062200,0.027294017374516,0.025494832545519,-0.137727394700050,0.009777802973986,-0.083548076450825,0.073351308703423,-0.013669859617949,0.001478151418269));
res += mul(Get(s1,-dx,dy), float4x4(0.050535403192043,0.085986591875553,-0.021793438121676,-0.012724857777357,0.068064853549004,-0.020504098385572,-0.082898244261742,-0.010969900526106,-0.084573663771152,-0.052059501409531,-0.048012532293797,0.008957979269326,-0.031049234792590,0.057691432535648,0.082227565348148,0.009896568022668));
res += mul(Get(s1,0,-dy), float4x4(-0.047652598470449,-0.040965136140585,0.149975717067719,-0.017546730116010,-0.012974053621292,-0.027467925101519,0.099134363234043,-0.003101825714111,0.152058824896812,0.017817379906774,-0.163790538907051,0.001590877654962,-0.011034144088626,0.034677881747484,-0.108933910727501,0.000334034266416));
res += mul(Get(s1,0,0), float4x4(-0.011563714593649,-0.040630880743265,0.154589414596558,0.003704617964104,-0.031386252492666,-0.077459804713726,0.125552862882614,-0.000747775717173,-0.087372288107872,-0.030146263539791,-0.128030627965927,-0.016637755557895,-0.062029100954533,0.128889426589012,0.049086526036263,-0.002712345216423));
res += mul(Get(s1,0,dy), float4x4(0.128550991415977,0.180851936340332,-0.075337268412113,0.006574095692486,0.140092939138412,-0.020462162792683,-0.053618092089891,0.002700583543628,-0.127635374665260,-0.073690369725227,-0.120995089411736,-0.023321768268943,-0.023881075903773,0.041145138442516,0.192383542656898,0.007353273220360));
res += mul(Get(s1,dx,-dy), float4x4(-0.028484830632806,-0.014793848618865,-0.049603536725044,0.002592857694253,-0.010898541659117,-0.007176589686424,0.028289621695876,0.008519959636033,0.029139908030629,-0.007531731855124,-0.043200477957726,-0.022961750626564,0.013583407737315,0.027922285720706,0.041502472013235,-0.010309153236449));
res += mul(Get(s1,dx,0), float4x4(0.007072915788740,0.074588343501091,0.067138396203518,0.020506795495749,-0.019543197005987,-0.025688704103231,0.011239176616073,-0.003003718564287,-0.054289825260639,-0.117189764976501,-0.028804676607251,-0.020438337698579,0.021624831482768,-0.007510237861425,0.223820492625237,-0.010866601951420));
res += mul(Get(s1,dx,dy), float4x4(0.042896438390017,0.009133934974670,0.064551472663879,-0.002163788536564,0.090265452861786,-0.046053994446993,-0.033630583435297,-0.010019116103649,-0.141315519809723,-0.097458124160767,-0.008652564138174,-0.020418900996447,0.027882998809218,-0.032373167574406,0.225685685873032,0.003798606805503));
res += mul(Get(s2,-dx,-dy), float4x4(-0.003456647275016,-0.017310500144958,-0.059312980622053,-0.005925194360316,0.053859703242779,-0.006941615603864,0.012426730245352,-0.014470981433988,-0.053896956145763,-0.022601617500186,-0.005355980247259,-0.027368390932679,0.002922015031800,-0.129470452666283,0.082396484911442,0.016986100003123));
res += mul(Get(s2,-dx,0), float4x4(0.000647825363558,-0.033485606312752,0.070188127458096,-0.013967143371701,-0.013508477248251,0.014145762659609,0.059261329472065,-0.007592726964504,-0.102369047701359,-0.155491590499878,0.178145259618759,-0.016002722084522,-0.052312344312668,-0.041715968400240,0.031527832150459,0.025069687515497));
res += mul(Get(s2,-dx,dy), float4x4(0.127178713679314,0.022264650091529,-0.047130629420280,-0.003203520085663,0.100385837256908,0.004849687218666,0.051006823778152,-0.016959831118584,0.024603284895420,-0.116999752819538,0.129483714699745,0.004255022387952,-0.157866224646568,-0.113918088376522,-0.004975715652108,0.027967883273959));
res += mul(Get(s2,0,-dy), float4x4(0.001650368678384,-0.014760470017791,0.052320241928101,0.015352007001638,0.033998318016529,-0.050615705549717,0.049614712595940,-0.006748690735549,0.037119336426258,0.018920792266726,-0.061530817300081,-0.003666503354907,0.086607173085213,0.044493939727545,-0.022350059822202,0.046127066016197));
res += mul(Get(s2,0,0), float4x4(0.048911556601524,0.004327655304223,0.190860763192177,0.010846216231585,-0.052457027137280,-0.093231484293938,0.101666420698166,-0.008926632814109,-0.054252102971077,0.005708209704608,-0.029524000361562,0.005917699541897,-0.022729383781552,0.379126220941544,-0.155825048685074,0.063260763883591));
res += mul(Get(s2,0,dy), float4x4(0.167206138372421,0.069068178534508,-0.007366197649390,0.013842431828380,0.091966733336449,-0.034768767654896,0.021704982966185,-0.007867220789194,-0.028087746351957,-0.032723054289818,0.052065152674913,0.009082963690162,-0.251760333776474,0.094069898128510,-0.005002444610000,0.020814580842853));
res += mul(Get(s2,dx,-dy), float4x4(0.088767670094967,0.033461853861809,-0.056786451488733,0.012429623864591,0.032515894621611,0.014379108324647,-0.049807455390692,0.001557375770062,0.091381654143333,0.041467498987913,-0.108433149755001,-0.005593265406787,0.013135612942278,-0.070152461528778,-0.034018445760012,-0.009942865930498));
res += mul(Get(s2,dx,0), float4x4(0.086447916924953,0.066333018243313,0.008423052728176,0.010809269733727,-0.032675448805094,-0.019644178450108,-0.010152889415622,-0.001848090672866,-0.042785666882992,0.063300743699074,-0.113909177482128,-0.006043123546988,-0.115098647773266,0.077201098203659,-0.010214578360319,0.002950030611828));
res += mul(Get(s2,dx,dy), float4x4(0.095666021108627,0.042427964508533,-0.105161957442760,0.014712660573423,-0.005812680814415,0.007457230705768,-0.043168518692255,-0.010137658566236,-0.079830802977085,-0.024070689454675,-0.031008467078209,-0.001689517870545,-0.167110934853554,-0.082394957542419,0.039167985320091,-0.009858806617558));
res += mul(Get(s3,-dx,-dy), float4x4(0.120343007147312,0.147402554750443,0.040544416755438,0.008038301020861,-0.144427344202995,-0.034678861498833,-0.125702142715454,-0.032753709703684,0.087291613221169,-0.088698349893093,0.163703963160515,0.003945233300328,0.095672748982906,0.051218897104263,0.028740035369992,0.020969245582819));
res += mul(Get(s3,-dx,0), float4x4(-0.005126919131726,0.112948708236217,0.100802868604660,0.007671898230910,-0.066445082426071,0.050145335495472,-0.109742052853107,-0.033982843160629,0.072482146322727,0.010671301744878,0.071705684065819,0.017537387087941,0.006197518669069,0.117906250059605,-0.005071584600955,0.024011455476284));
res += mul(Get(s3,-dx,dy), float4x4(0.010175883769989,-0.007677555084229,0.153941765427589,0.010404681786895,-0.056052882224321,0.019422143697739,-0.124761536717415,-0.033759228885174,-0.018805611878633,0.032673738896847,0.027784401550889,0.003725210670382,-0.080103829503059,-0.040780995041132,0.059659879654646,0.015323123894632));
res += mul(Get(s3,0,-dy), float4x4(0.114350348711014,0.125614494085312,-0.011111342348158,0.006006413139403,-0.214426949620247,-0.165938228368759,0.253402024507523,-0.059088353067636,0.250189512968063,0.169621303677559,-0.031645722687244,0.064448557794094,0.083092220127583,0.048669140785933,0.138006940484047,0.007866077125072));
res += mul(Get(s3,0,0), float4x4(-0.005146079231054,0.157569676637650,-0.037361893802881,0.012277986854315,-0.050076209008694,-0.168257862329483,0.208102464675903,-0.033610317856073,0.024123921990395,0.210188820958138,-0.009291150607169,0.038878560066223,-0.020579155534506,0.123196609318256,0.068042777478695,0.005819183308631));
res += mul(Get(s3,0,dy), float4x4(-0.013748804107308,0.002380864461884,0.012161105871201,0.005369035061449,0.162253230810165,0.062432687729597,-0.055049698799849,-0.000748421822209,-0.116363093256950,-0.028803462162614,0.069746352732182,0.009714560583234,-0.024331074208021,-0.018574276939034,0.087879523634911,0.004692051559687));
res += mul(Get(s3,dx,-dy), float4x4(0.035503763705492,0.075065486133099,-0.137181907892227,-0.011462121270597,-0.147513300180435,-0.092908278107643,-0.058790497481823,-0.004161351360381,0.099567830562592,0.098877631127834,-0.078670941293240,0.031388007104397,0.033966477960348,0.034795701503754,0.034264862537384,0.014904752373695));
res += mul(Get(s3,dx,0), float4x4(-0.056089445948601,0.031952086836100,-0.099051743745804,-0.014668854884803,0.041578590869904,-0.098812699317932,0.062756121158600,0.021449957042933,-0.053786911070347,-0.009761702269316,-0.009000365622342,0.003196470439434,-0.049946498125792,0.014257487840950,0.068897753953934,0.007879013195634));
res += mul(Get(s3,dx,dy), float4x4(-0.015154540538788,-0.057158272713423,-0.073558993637562,-0.005125732161105,0.116103336215019,-0.033389944583178,-0.050897128880024,0.024202270433307,-0.077595271170139,-0.121722221374512,0.011403334327042,-0.004229431971908,-0.003045775927603,-0.063970617949963,0.038433857262135,0.013494778424501));
return max(float4(0,0,0,0), res);
}
