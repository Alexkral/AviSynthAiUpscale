sampler s0 : register(s0);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(x, y)   tex2D(s0, tex + float2(x, y))[0]

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += float4(-0.001321229268797,0.080869331955910,-0.144771397113800,-0.130786702036858) * Get(-dx,-dy);
res += float4(-0.026399552822113,-0.180113822221756,-0.016717208549380,-0.188500344753265) * Get(-dx,0);
res += float4(-0.073296651244164,0.049381267279387,-0.118318788707256,-0.067297257483006) * Get(-dx,dy);
res += float4(-0.130260899662971,0.319576710462570,-0.073418907821178,-0.037840522825718) * Get(0,-dy);
res += float4(0.010596033185720,0.014680791646242,-0.094958186149597,0.382089793682098) * Get(0,0);
res += float4(-0.016124097630382,-0.081887453794479,-0.162849485874176,0.082538545131683) * Get(0,dy);
res += float4(0.037247877568007,-0.118429891765118,0.293740808963776,-0.119656771421432) * Get(dx,-dy);
res += float4(-0.096382990479469,-0.022183828055859,0.078530035912991,0.090925440192223) * Get(dx,0);
res += float4(0.033633437007666,-0.026199484243989,0.007723875809461,-0.258024841547012) * Get(dx,dy);
return max(float4(0,0,0,0), res);
}
