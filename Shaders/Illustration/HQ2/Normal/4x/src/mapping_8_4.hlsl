sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.023330304771662,-0.006576654035598,-0.015062187798321,-0.004530001431704,0.077462799847126,-0.011036334559321,0.049547921866179,-0.008052086457610,-0.004380870144814,-0.040194362401962,-0.027367925271392,-0.016224654391408,-0.005227772053331,-0.010315668769181,0.010074420832098,0.000226763222599));
res += mul(Get(s0,-dx,0), float4x4(0.035249117761850,-0.020848382264376,-0.018524449318647,-0.014873232692480,0.003893563058227,0.003958623856306,0.020038789138198,0.003253819886595,-0.012236244045198,-0.097107782959938,-0.019798176363111,-0.011060046963394,-0.013593142852187,-0.011407382786274,-0.013513884507120,-0.012288061901927));
res += mul(Get(s0,-dx,dy), float4x4(0.023304468020797,0.070521213114262,-0.008502412587404,-0.018255459144711,-0.010965172201395,0.005234246607870,-0.002840408356860,-0.020064841955900,-0.080381333827972,0.019060397520661,-0.006143905222416,0.009622504934669,-0.020645111799240,0.033495832234621,-0.000583875167649,-0.004527529235929));
res += mul(Get(s0,0,-dy), float4x4(-0.128678068518639,0.014087692834437,0.000780516769737,-0.000413297762861,0.007977304048836,-0.022887421771884,0.052011344581842,0.003630352206528,-0.178658723831177,0.000927141692955,-0.014457525685430,0.000715047470294,-0.020506205037236,-0.006124762352556,0.012308896519244,0.009319403208792));
res += mul(Get(s0,0,0), float4x4(-0.027481185272336,0.039044480770826,-0.002284825313836,-0.015989491716027,0.000351141206920,-0.016193702816963,0.002757715294138,-0.027606964111328,-0.103984817862511,0.006964601576328,0.018573157489300,0.013317237608135,-0.023504089564085,-0.000291867996566,-0.010401268489659,-0.003819431876764));
res += mul(Get(s0,0,dy), float4x4(-0.048968557268381,0.097409680485725,0.018332589417696,-0.017544979229569,-0.019946230575442,0.021975833922625,-0.017453985288739,-0.042995616793633,-0.029346121475101,0.000015651501599,0.056284315884113,0.030641013756394,-0.030099635943770,0.027807939797640,0.006234670989215,-0.004844442941248));
res += mul(Get(s0,dx,-dy), float4x4(-0.034384224563837,0.030526027083397,0.002939200960100,0.001454111887142,-0.132652491331100,-0.010316420346498,0.013311602175236,0.035865962505341,-0.122875101864338,0.078520558774471,0.005740329157561,0.004838259890676,-0.002269773976877,-0.013788350857794,0.003588136751205,0.007623094134033));
res += mul(Get(s0,dx,0), float4x4(0.030904328450561,0.060443889349699,0.005648127757013,-0.014765043742955,-0.080169305205345,0.032988797873259,-0.027290401980281,0.008358781225979,-0.126949667930603,0.012426026165485,0.057793822139502,0.032266620546579,-0.012942835688591,0.003649548161775,-0.006109281908721,-0.012627724558115));
res += mul(Get(s0,dx,dy), float4x4(0.082024358212948,0.086482346057892,0.011217328719795,-0.019399266690016,-0.063213177025318,0.095585756003857,-0.047320533543825,-0.048361059278250,0.003008472966030,-0.057855449616909,0.022592710331082,0.044405989348888,-0.005038497503847,0.007193564902991,0.002456456655636,-0.003321123309433));
res += mul(Get(s1,-dx,-dy), float4x4(-0.039511654525995,0.046202577650547,0.015523511916399,0.009266958571970,0.014847927726805,0.037546437233686,0.012699210084975,0.008389108814299,0.101880230009556,-0.048526566475630,-0.011755410581827,-0.023674126714468,-0.084313765168190,-0.009672606363893,-0.063571341335773,-0.020390132442117));
res += mul(Get(s1,-dx,0), float4x4(0.008063148707151,-0.041439950466156,-0.012754081748426,0.061008356511593,-0.032609380781651,0.037443898618221,0.014170307666063,0.032623197883368,0.050002649426460,-0.007419808302075,-0.115748278796673,-0.016421655192971,-0.041140764951706,0.037331674247980,0.000487020355649,-0.031429611146450));
res += mul(Get(s1,-dx,dy), float4x4(0.089631222188473,-0.041937544941902,-0.012484633363783,-0.051191415637732,-0.086377203464508,-0.023959705606103,-0.002534921048209,0.006408155895770,0.007278443314135,0.069725044071674,-0.067931510508060,-0.025177631527185,-0.013148388825357,0.033321488648653,0.002476432127878,0.015959763899446));
res += mul(Get(s1,0,-dy), float4x4(0.071592129766941,0.105252116918564,0.038303080946207,0.009968629106879,0.002687305212021,0.047080546617508,0.036125857383013,-0.001582218334079,-0.011474494822323,-0.072787009179592,0.012875778600574,0.045989342033863,-0.114167742431164,0.032287608832121,-0.038498897105455,-0.005870623048395));
res += mul(Get(s1,0,0), float4x4(-0.026197949424386,-0.026470154523849,0.044952891767025,0.038631234318018,0.028897106647491,0.043101053684950,0.042924705892801,0.000606737448834,-0.086594782769680,0.011979682371020,-0.066853336989880,-0.048377346247435,0.011397784575820,0.110026545822620,0.021773634478450,0.020552288740873));
res += mul(Get(s1,0,dy), float4x4(-0.043606098741293,0.014934709295630,-0.014956199564040,0.000224922318012,-0.026334920898080,-0.045026820152998,0.014763328246772,-0.002764791483060,-0.039277311414480,0.034301463514566,-0.027985088527203,-0.028854710981250,-0.017288114875555,0.063602246344090,0.037783093750477,0.045510496944189));
res += mul(Get(s1,dx,-dy), float4x4(0.057926896959543,0.024531597271562,0.016506087034941,0.007558240089566,-0.041028209030628,0.025854285806417,0.048056099563837,0.035397749394178,-0.066078267991543,-0.050778865814209,0.075336076319218,0.123755075037479,-0.105131976306438,0.070932090282440,-0.007669332902879,-0.017312275245786));
res += mul(Get(s1,dx,0), float4x4(0.168466269969940,-0.017419472336769,0.045767929404974,0.018160011619329,0.020525181666017,0.032489348202944,0.036602199077606,0.041147157549858,-0.040460165590048,0.033660832792521,0.019721241667867,0.043501347303391,-0.095618732273579,0.088557884097099,0.027137413620949,0.024216698482633));
res += mul(Get(s1,dx,dy), float4x4(-0.012492903508246,0.046836111694574,0.009435580112040,0.020999789237976,-0.017897311598063,-0.040584005415440,0.010334062390029,0.017309164628386,-0.008959595113993,0.043118588626385,0.037330757826567,0.044293846935034,0.002375352662057,0.034230146557093,0.017646711319685,0.038523513823748));
res += mul(Get(s2,-dx,-dy), float4x4(-0.070922702550888,0.034921824932098,-0.002181308344007,0.009680750779808,-0.136992916464806,0.021102843806148,0.001856074202806,-0.005444928538054,0.013223822228611,0.072090581059456,0.010472339577973,-0.015384807251394,0.116429381072521,-0.035939462482929,0.028347374871373,0.016705516725779));
res += mul(Get(s2,-dx,0), float4x4(-0.035932037979364,0.045568380504847,0.041246525943279,0.033026698976755,-0.123004414141178,0.065015912055969,0.015106171369553,-0.014275967143476,0.028783898800611,0.092843994498253,0.046897646039724,-0.016322160139680,0.265333592891693,-0.075033985078335,-0.031543467193842,-0.002585913985968));
res += mul(Get(s2,-dx,dy), float4x4(-0.087019540369511,-0.040993761271238,0.018445048481226,0.025774318724871,-0.096753157675266,0.014813127927482,0.010172663256526,-0.014155200682580,0.001765291090123,0.081877462565899,0.046622484922409,-0.021176651120186,0.081394717097282,0.007922573015094,-0.029149943962693,0.017692839726806));
res += mul(Get(s2,0,-dy), float4x4(0.067237064242363,0.046401344239712,0.004140879027545,-0.024380300194025,0.006841717287898,0.009935567155480,0.005022756289691,-0.004389583133161,0.060687966644764,0.014567371457815,-0.009076454676688,-0.035908408463001,-0.053530544042587,-0.127235338091850,0.004639675375074,-0.020160267129540));
res += mul(Get(s2,0,0), float4x4(0.093884997069836,0.031767956912518,0.057462077587843,0.000547578092664,0.009638571180403,0.029462756589055,0.024486131966114,-0.012224389240146,0.087479367852211,0.020731508731842,0.009420041926205,-0.037907175719738,0.057624366134405,-0.072498358786106,-0.052408244460821,-0.042966157197952));
res += mul(Get(s2,0,dy), float4x4(0.003504731692374,-0.040404964238405,0.006254036445171,0.019475040957332,0.023544955998659,-0.026800172403455,0.018794329836965,-0.030419800430536,0.090496607124805,0.060469068586826,0.017242742702365,-0.022442007437348,0.094981603324413,0.055687423795462,-0.002124630613253,-0.075020357966423));
res += mul(Get(s2,dx,-dy), float4x4(-0.004162516444921,-0.011150550097227,-0.022912170737982,-0.029990229755640,-0.027239898219705,-0.012952001765370,-0.006097143050283,0.006866814568639,-0.003640048671514,-0.011307488195598,-0.001081163063645,0.009467281401157,-0.058172024786472,-0.057891950011253,-0.008918816223741,0.026124276220798));
res += mul(Get(s2,dx,0), float4x4(0.031017364934087,0.007647738326341,0.001966116251424,-0.003223293228075,0.012572037987411,-0.000793140672613,0.007046686951071,-0.017545798793435,0.055782742798328,0.002584516070783,-0.022175943478942,-0.043012212961912,-0.019502751529217,0.041817262768745,-0.028552524745464,-0.010579268448055));
res += mul(Get(s2,dx,dy), float4x4(-0.011950523592532,-0.013293316587806,-0.009231805801392,0.010856661945581,-0.010932517237961,-0.049190282821655,0.003438980784267,-0.020336160436273,0.045071098953485,0.013549616560340,-0.018525527790189,-0.011393004097044,0.069801449775696,0.106685578823090,-0.019884793087840,-0.060188461095095));
res += mul(Get(s3,-dx,-dy), float4x4(0.024942992255092,-0.035305552184582,0.027576707303524,0.013442550785840,-0.011903890408576,-0.062844075262547,-0.055653911083937,-0.001680309884250,0.012923310510814,0.004577999003232,0.041633103042841,0.004998320713639,0.074057236313820,-0.040489621460438,0.034139901399612,0.022943416610360));
res += mul(Get(s3,-dx,0), float4x4(0.059659942984581,0.042588666081429,0.043876294046640,0.009771840646863,-0.004136110655963,0.023345822468400,-0.006261171307415,0.063439160585403,0.051239520311356,0.006399848032743,-0.000347091146978,-0.043049219995737,0.158554986119270,-0.003620397066697,0.014641150832176,0.031326189637184));
res += mul(Get(s3,-dx,dy), float4x4(0.063645817339420,0.051261045038700,0.036750014871359,-0.005737607367337,-0.045476153492928,-0.003958913963288,-0.028117125853896,-0.029628122225404,-0.043921615928411,0.019488835707307,-0.012774239294231,-0.022619409486651,0.114064648747444,0.069044075906277,0.027460657060146,0.010013634338975));
res += mul(Get(s3,0,-dy), float4x4(-0.034942429512739,-0.041928377002478,0.009713701903820,0.001523553626612,0.117766767740250,0.018740519881248,0.009462093934417,0.007878659293056,0.136848196387291,-0.055661011487246,0.007148884702474,0.006312881130725,-0.023140374571085,0.000831596204080,0.038269951939583,-0.000627737550531));
res += mul(Get(s3,0,0), float4x4(0.002461545402184,0.011709568090737,0.010083564557135,-0.007855842821300,-0.011357174254954,-0.019029676914215,0.045731276273727,0.055671706795692,0.078555330634117,0.048748787492514,-0.024180499836802,-0.033288590610027,-0.048736419528723,0.023752758279443,0.041574168950319,0.023340284824371));
res += mul(Get(s3,0,dy), float4x4(0.007065373007208,0.043102528899908,-0.002797019667923,-0.015794377774000,-0.036731597036123,-0.051221270114183,-0.063245996832848,-0.008213409222662,-0.011955265887082,0.054950602352619,-0.014292697422206,-0.035459049046040,0.012031320482492,0.041983705013990,0.043196678161621,0.009517297148705));
res += mul(Get(s3,dx,-dy), float4x4(-0.120321549475193,-0.031910043209791,0.019426589831710,0.073735892772675,0.213269695639610,-0.051362864673138,0.013728286139667,-0.040770344436169,-0.012903510592878,0.001581576303579,-0.010929346084595,0.027657415717840,0.058975171297789,0.004571754485369,0.024717131629586,0.001163814333268));
res += mul(Get(s3,dx,0), float4x4(-0.095422677695751,0.004655734170228,0.020257515832782,0.073110334575176,0.294967174530029,-0.041321378201246,0.038384784013033,-0.010803869925439,-0.041511736810207,0.062476072460413,-0.021690523251891,-0.008952837437391,0.012188884429634,0.008829006925225,0.046976622194052,0.013750596903265));
res += mul(Get(s3,dx,dy), float4x4(-0.051000818610191,0.008585149422288,-0.017181895673275,0.002507150173187,0.054713685065508,-0.076989792287350,-0.026669900864363,-0.028764184564352,-0.020890610292554,0.069792054593563,-0.025955911725760,-0.014830089174211,0.010796821676195,-0.011099322699010,0.045821204781532,0.020786641165614));
return max(float4(0,0,0,0), res);
}
