sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.011101672425866,-0.052938047796488,0.049027670174837,-0.098807692527771,-0.061188142746687,0.081941336393356,0.053291462361813,-0.047253299504519,0.051671486347914,0.029070511460304,0.017520109191537,-0.040833748877048,-0.059300597757101,-0.055460855364799,0.036735240370035,-0.008113218471408));
res += mul(Get(s0,-dx,0), float4x4(-0.047435354441404,-0.039589077234268,-0.031484454870224,0.012405171059072,-0.087046667933464,-0.007695676758885,0.042544752359390,-0.037352982908487,-0.135292842984200,0.012611150741577,0.016370039433241,-0.083300143480301,-0.075654610991478,-0.115259908139706,0.028494173660874,-0.000549819902517));
res += mul(Get(s0,-dx,dy), float4x4(0.011960036121309,-0.020358413457870,-0.068711198866367,-0.014001319184899,-0.107376895844936,0.010905613191426,0.123213700950146,0.016343345865607,-0.039695132523775,0.083459205925465,0.065746799111366,-0.166144266724586,0.066215351223946,-0.092289753258228,-0.038928508758545,0.214834317564964));
res += mul(Get(s0,0,-dy), float4x4(-0.001232205890119,-0.035523924976587,-0.047991942614317,-0.033826131373644,0.036751814186573,0.011140535585582,-0.077871546149254,-0.021220795810223,0.127825349569321,0.003416765481234,0.046468649059534,0.032220978289843,-0.087041534483433,-0.099415525794029,-0.008839308284223,0.190067768096924));
res += mul(Get(s0,0,0), float4x4(-0.031971644610167,0.033674400299788,0.149769231677055,-0.013120321556926,-0.018723156303167,-0.051474440842867,-0.047311399132013,-0.028466328978539,0.040605604648590,0.029349317774177,-0.085122033953667,0.062425542622805,0.005229157395661,0.027818908914924,-0.038452051579952,0.075208075344563));
res += mul(Get(s0,0,dy), float4x4(-0.001550681539811,0.028958436101675,0.004197285976261,0.008396881632507,-0.051448244601488,-0.028275320306420,0.065442591905594,-0.021341256797314,0.101178050041199,-0.007055902853608,0.019308689981699,-0.035231266170740,0.100651979446411,-0.002739827148616,0.002547735814005,0.015379571355879));
res += mul(Get(s0,dx,-dy), float4x4(0.040041003376245,-0.005974186118692,-0.067316226661205,-0.083397552371025,0.084695905447006,0.032904401421547,-0.085305653512478,0.037018936127424,-0.023034838959575,0.057940702885389,-0.055081620812416,0.017021991312504,-0.029863810166717,-0.007316759321839,-0.020639687776566,-0.000863368622959));
res += mul(Get(s0,dx,0), float4x4(0.011146607808769,-0.024686699733138,0.097071036696434,-0.006536535453051,0.011331730522215,-0.014955202117562,-0.094234883785248,0.044687550514936,0.102210812270641,0.004553468897939,0.016238693147898,-0.018632974475622,-0.005944615695626,0.023811263963580,-0.043123219162226,-0.011109563522041));
res += mul(Get(s0,dx,dy), float4x4(0.016601771116257,0.045936681330204,-0.014783224090934,-0.013831168413162,0.010664638131857,-0.040694862604141,-0.022859031334519,0.047343902289867,0.135681122541428,-0.083550401031971,-0.031859192997217,-0.025932308286428,-0.200731441378593,-0.049972962588072,-0.014292918145657,-0.019368560984731));
res += mul(Get(s1,-dx,-dy), float4x4(-0.009660431183875,0.137858569622040,0.041035663336515,-0.218408182263374,0.034522369503975,0.073309898376465,-0.084408596158028,0.058275051414967,0.037789806723595,-0.048135567456484,-0.073939464986324,0.036874420940876,0.036392427980900,0.097142271697521,0.023948060348630,0.006095393560827));
res += mul(Get(s1,-dx,0), float4x4(0.049510128796101,0.081922486424446,0.019693588837981,0.022515470162034,0.043654423207045,0.040938068181276,0.000978343770839,0.066960901021957,-0.033793933689594,-0.019586903974414,0.006877453532070,0.035322956740856,0.001909615122713,-0.153391063213348,-0.023114703595638,-0.003295331960544));
res += mul(Get(s1,-dx,dy), float4x4(0.070358075201511,-0.082565024495125,-0.063544370234013,0.164709374308586,0.083794414997101,-0.033087529242039,-0.129316791892052,-0.012927799485624,0.078411065042019,-0.037246461957693,-0.044685166329145,0.035877682268620,-0.040866017341614,0.046129621565342,-0.044300541281700,0.006785402540118));
res += mul(Get(s1,0,-dy), float4x4(0.011972581036389,0.005984751973301,-0.010038102976978,-0.160011857748032,0.160174146294594,0.039600349962711,0.020444678142667,-0.015719113871455,-0.009753893129528,0.002614567754790,-0.007635117974132,0.058579489588737,-0.088748335838318,-0.104342080652714,-0.123509608209133,0.173007532954216));
res += mul(Get(s1,0,0), float4x4(-0.100504554808140,0.056688886135817,0.093476332724094,-0.058519698679447,0.067900523543358,-0.061816975474358,0.091024056077003,-0.024707237258554,0.044389542192221,0.144699245691299,-0.014898548834026,-0.008519439026713,-0.134725153446198,0.104601196944714,-0.039455685764551,-0.006192588247359));
res += mul(Get(s1,0,dy), float4x4(0.152816906571388,-0.109738878905773,0.060906145721674,0.052326537668705,0.051367707550526,0.028460297733545,0.096805900335312,-0.078251928091049,0.202357813715935,0.032031714916229,-0.092135980725288,-0.057337235659361,0.229089513421059,0.165987014770508,0.008168116211891,-0.053366862237453));
res += mul(Get(s1,dx,-dy), float4x4(0.055985789746046,-0.065503410995007,0.053175233304501,-0.208908751606941,0.107620999217033,0.013082689605653,-0.005022147670388,-0.047496512532234,0.012977258302271,-0.097662776708603,0.097094997763634,0.002318242797628,-0.056932695209980,-0.029404696077108,-0.054682955145836,0.048141647130251));
res += mul(Get(s1,dx,0), float4x4(-0.186748757958412,0.035273846238852,0.041556540876627,-0.079162262380123,0.066094659268856,-0.067654021084309,-0.082826599478722,-0.053016997873783,-0.062208279967308,-0.057864338159561,0.023857941851020,-0.009931894950569,-0.000605835288297,-0.037076763808727,-0.189539358019829,0.106715060770512));
res += mul(Get(s1,dx,dy), float4x4(0.000039202721382,0.076702713966370,0.086626872420311,-0.140721902251244,-0.017908968031406,0.009119957685471,0.040243420749903,-0.115346096456051,-0.012779566459358,-0.012108708731830,-0.079316154122353,-0.021549245342612,0.080378212034702,-0.000102880352642,-0.182619854807854,0.081396549940109));
res += mul(Get(s2,-dx,-dy), float4x4(0.001564803649671,-0.091518506407738,-0.150965467095375,0.176592499017715,0.074962653219700,0.000406483595725,-0.010916113853455,0.017749756574631,-0.016375701874495,0.187781289219856,0.029542168602347,-0.051495857536793,0.055881109088659,-0.125486731529236,0.020062621682882,0.135331213474274));
res += mul(Get(s2,-dx,0), float4x4(0.051582515239716,0.039977230131626,-0.005378569010645,-0.025165159255266,0.014330202713609,0.072996154427528,0.152716994285583,0.099390104413033,-0.074711054563522,0.069274410605431,0.049605093896389,0.005895933602005,0.004244541283697,-0.127482369542122,0.079624287784100,0.006494903936982));
res += mul(Get(s2,-dx,dy), float4x4(0.215054541826248,0.058624636381865,-0.025296540930867,-0.001470228075050,0.014415519312024,0.069044291973114,0.021481664851308,0.051635656505823,-0.074601225554943,-0.000061686238041,-0.023058369755745,0.036044288426638,-0.012345190159976,-0.031447801738977,0.100800938904285,0.116944216191769));
res += mul(Get(s2,0,-dy), float4x4(0.063925631344318,0.005015491042286,-0.066529937088490,0.089908652007580,0.109863512217999,-0.029338067397475,-0.029802931472659,-0.088269688189030,0.028430094942451,0.036567121744156,0.006860376801342,-0.088612630963326,-0.016107441857457,0.039999622851610,-0.060819823294878,0.213192462921143));
res += mul(Get(s2,0,0), float4x4(0.019094733521342,-0.021347623318434,-0.032461348921061,0.012120175175369,-0.061630077660084,-0.026936940848827,0.179587244987488,-0.088389277458191,-0.038728889077902,-0.086500093340874,0.107061423361301,-0.032048720866442,0.095295451581478,-0.010944500565529,-0.005513202399015,-0.086254328489304));
res += mul(Get(s2,0,dy), float4x4(-0.011633412912488,0.055754765868187,0.111731350421906,0.020870905369520,-0.055267594754696,0.033716358244419,0.013432686217129,0.095629580318928,0.017309140414000,-0.064066283404827,-0.064600296318531,0.107951745390892,0.143643483519554,-0.074822284281254,-0.043018706142902,0.046194937080145));
res += mul(Get(s2,dx,-dy), float4x4(0.059975825250149,0.041492916643620,0.019820043817163,0.117619909346104,-0.039474930614233,0.095636323094368,0.119109161198139,-0.217320278286934,-0.042343974113464,-0.097814425826073,-0.007566793356091,-0.108299411833286,-0.030168453231454,0.061473630368710,-0.004235302563757,0.012333627790213));
res += mul(Get(s2,dx,0), float4x4(0.027838058769703,0.070381455123425,-0.111060805618763,0.070811673998833,0.048733562231064,0.010345626622438,0.080241307616234,-0.050641585141420,-0.033893596380949,-0.161669135093689,0.069579720497131,-0.088208459317684,-0.004108227323741,-0.004927851259708,-0.014618208631873,0.008841883391142));
res += mul(Get(s2,dx,dy), float4x4(0.076151102781296,0.107300862669945,-0.020638080313802,0.043678488582373,0.041238315403461,0.027673525735736,0.092621147632599,0.068105004727840,0.062749460339546,-0.067093618214130,0.055638365447521,-0.028676409274340,0.037214454263449,-0.018848907202482,0.075823523104191,-0.026804853230715));
res += mul(Get(s3,-dx,-dy), float4x4(-0.005717781838030,-0.101219676434994,-0.099411413073540,-0.051668755710125,-0.015327657572925,-0.037753056734800,-0.043066065758467,0.083717182278633,0.000857434875797,-0.029642444103956,-0.068342924118042,-0.160817891359329,0.007459982763976,0.102972649037838,-0.096870973706245,-0.074202679097652));
res += mul(Get(s3,-dx,0), float4x4(-0.100767083466053,0.088493965566158,-0.033216569572687,0.007159113883972,-0.025394836440682,-0.035364445298910,-0.092720285058022,0.018601641058922,-0.050487838685513,-0.006398737896234,0.071219645440578,0.015514309518039,-0.032023895531893,-0.000815085659269,-0.056627944111824,0.024082580581307));
res += mul(Get(s3,-dx,dy), float4x4(-0.082488454878330,-0.010265943594277,0.032586026936769,0.038676459342241,-0.064883872866631,-0.068162843585014,-0.115005634725094,-0.028297640383244,-0.194969534873962,0.073919117450714,0.129399642348289,0.070102438330650,-0.086228899657726,-0.010228823870420,-0.036310862749815,0.026151265949011));
res += mul(Get(s3,0,-dy), float4x4(-0.034748084843159,-0.006568127311766,0.024620400741696,-0.071203045547009,0.005439922213554,0.050469290465117,-0.005872759968042,0.099234558641911,0.058640152215958,-0.025326782837510,-0.024572934955359,-0.008102853782475,-0.017285112291574,0.075999148190022,0.055749196559191,-0.013517650775611));
res += mul(Get(s3,0,0), float4x4(-0.019124772399664,0.205342262983322,0.001846442464739,-0.057491663843393,0.005106130614877,0.060611933469772,-0.048384092748165,0.044029146432877,-0.017010388895869,-0.099747829139233,0.002753955544904,0.053893342614174,-0.025737663730979,0.046768389642239,0.073448516428471,0.011678843759000));
res += mul(Get(s3,0,dy), float4x4(-0.023511961102486,0.086165510118008,0.123181618750095,0.006190291140229,-0.040611654520035,0.000353555224137,-0.022181151434779,0.051405876874924,-0.090461492538452,-0.064802490174770,-0.021236162632704,0.093446269631386,0.002811700804159,0.033155266195536,0.127412676811218,0.067388631403446));
res += mul(Get(s3,dx,-dy), float4x4(0.064612776041031,0.078998863697052,-0.125581726431847,-0.102486193180084,0.029528157785535,0.117899797856808,-0.015700802206993,0.058896169066429,-0.123785197734833,-0.141450807452202,-0.120350897312164,0.135149568319321,0.006088619586080,0.076973222196102,-0.052415031939745,-0.015736849978566));
res += mul(Get(s3,dx,0), float4x4(-0.036010857671499,0.122751668095589,-0.087675318121910,-0.049203265458345,0.050879113376141,0.191203400492668,-0.103231877088547,0.053525228053331,-0.089342035353184,-0.113126575946808,-0.078480191528797,0.127869620919228,-0.014008156955242,0.154238194227219,-0.117129087448120,0.013810792006552));
res += mul(Get(s3,dx,dy), float4x4(-0.083503417670727,0.029139077290893,-0.068384751677513,-0.004437564872205,0.069716684520245,-0.004202860407531,-0.033204890787601,0.035821795463562,-0.000824134564027,-0.084449835121632,-0.089878492057323,0.027893060818315,0.027978602796793,0.028116524219513,-0.030948296189308,0.035746552050114));
return max(float4(0,0,0,0), res);
}
