sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.068965308368206,0.027760205790401,-0.020969836041331,-0.048868671059608,-0.067220158874989,0.002333619166166,-0.067865997552872,-0.002186595695093,0.050199937075377,0.076212674379349,0.031391251832247,-0.074102871119976,-0.066088393330574,-0.097704142332077,-0.023327596485615,0.154128834605217));
res += mul(Get(s0,-dx,0), float4x4(-0.176224082708359,0.312576591968536,0.022713316604495,0.073072299361229,-0.080179966986179,0.106259576976299,-0.041819378733635,0.038536097854376,-0.047740980982780,0.007086127065122,-0.054546244442463,-0.001395881874487,-0.073515020310879,0.229826793074608,0.007793563883752,-0.015187147073448));
res += mul(Get(s0,-dx,dy), float4x4(-0.107981130480766,0.057044040411711,0.039051767438650,-0.126370981335640,-0.011306858621538,0.028197886422276,-0.038559116423130,-0.029381105676293,-0.070383578538895,0.047736853361130,0.010686003603041,-0.005614381283522,0.018319625407457,0.015425530262291,-0.003341904841363,-0.079241819679737));
res += mul(Get(s0,0,-dy), float4x4(-0.019152255728841,0.048147518187761,-0.029435766860843,0.053455885499716,0.001107992720790,0.038567371666431,0.094352245330811,0.027008457109332,-0.022405758500099,0.089004643261433,-0.045971378684044,-0.095242209732533,0.005728441290557,0.043850291520357,-0.039291560649872,0.010366435162723));
res += mul(Get(s0,0,0), float4x4(-0.073566734790802,0.113462723791599,-0.114544205367565,-0.031858686357737,-0.110811308026314,0.039106767624617,-0.020220370963216,-0.057551685720682,-0.033886365592480,0.022527161985636,-0.031486205756664,-0.061834767460823,0.103885360062122,-0.074753530323505,0.044134084135294,-0.025421710684896));
res += mul(Get(s0,0,dy), float4x4(-0.069660075008869,-0.207535326480865,-0.060630280524492,-0.024854432791471,0.088767126202583,-0.049209825694561,0.045567825436592,0.011548690497875,-0.041183833032846,-0.093980848789215,-0.028967836871743,0.029792934656143,0.124091736972332,0.058283269405365,0.091237515211105,-0.007429495453835));
res += mul(Get(s0,dx,-dy), float4x4(-0.056244928389788,-0.006581499241292,-0.083775579929352,0.072732061147690,-0.001365926000290,-0.005192919634283,0.033916752785444,0.052685774862766,-0.011324040591717,-0.008295543491840,0.076566591858864,0.017113368958235,0.065490499138832,-0.035647764801979,0.133719757199287,0.003302677767351));
res += mul(Get(s0,dx,0), float4x4(-0.003562215249985,-0.181353509426117,-0.145809844136238,-0.076551184058189,-0.101041518151760,0.058598756790161,-0.005512349307537,-0.140731319785118,-0.055059745907784,-0.006219731178135,-0.079554870724678,0.021659538149834,0.046078491955996,-0.015221122652292,0.095587596297264,-0.027056921273470));
res += mul(Get(s0,dx,dy), float4x4(0.141093537211418,-0.102381445467472,-0.070643156766891,0.067521490156651,0.015408716164529,0.020468270406127,-0.016459889709949,-0.081628300249577,0.019701881334186,-0.099679648876190,-0.059594634920359,-0.018092172220349,0.078731626272202,-0.131420299410820,0.042036067694426,0.025067579001188));
res += mul(Get(s1,-dx,-dy), float4x4(-0.146677434444427,-0.096783272922039,-0.123716928064823,-0.059934724122286,-0.106787517666817,0.002674164250493,-0.002020952524617,0.002725403057411,0.037750516086817,0.014546617865562,0.052145529538393,0.061870686709881,-0.014403721317649,0.001810004119761,0.073047026991844,0.038747742772102));
res += mul(Get(s1,-dx,0), float4x4(-0.105167411267757,-0.013504027388990,-0.226623728871346,0.113227754831314,-0.018244629725814,0.100439995527267,-0.064381226897240,-0.017384445294738,0.071377918124199,-0.032072488218546,0.019343933090568,0.053567275404930,-0.071044281125069,0.071495242416859,0.051581643521786,-0.015119388699532));
res += mul(Get(s1,-dx,dy), float4x4(-0.090911313891411,-0.045998360961676,-0.175170198082924,-0.021594360470772,-0.095612764358521,0.175038367509842,0.069780707359314,-0.030491493642330,0.072060406208038,0.021566525101662,-0.003930545877665,0.011160109192133,-0.030215865001082,0.036946035921574,-0.069879002869129,0.044849224388599));
res += mul(Get(s1,0,-dy), float4x4(0.112131521105766,0.021472627297044,0.078044712543488,0.184266746044159,0.003288412466645,0.164875566959381,0.085998564958572,0.028243182227015,-0.045469399541616,0.025544121861458,-0.072337761521339,0.017894327640533,0.018097486346960,-0.080506823956966,0.097392626106739,0.043137628585100));
res += mul(Get(s1,0,0), float4x4(-0.059903495013714,0.191847249865532,0.050785664469004,0.043321095407009,0.137942284345627,-0.069937124848366,-0.047773655503988,-0.005934732034802,0.093090645968914,-0.070312716066837,-0.025249961763620,-0.065858885645866,-0.064400494098663,0.059622470289469,0.053957037627697,0.064718812704086));
res += mul(Get(s1,0,dy), float4x4(-0.021069543436170,-0.110244221985340,-0.015995705500245,-0.074900999665260,0.016881635412574,-0.066085040569305,-0.040361795574427,-0.007603853940964,0.021392587572336,-0.054854854941368,0.243680208921432,0.025830794125795,-0.053357366472483,0.081124633550644,0.038345381617546,-0.017953652888536));
res += mul(Get(s1,dx,-dy), float4x4(0.130044683814049,-0.097742855548859,0.148342430591583,0.187569320201874,-0.130175098776817,-0.003556031035259,0.070469669997692,-0.101719088852406,-0.005811274517328,0.069858126342297,-0.155275598168373,0.156924813985825,0.047499205917120,-0.045942932367325,0.097473718225956,0.144050255417824));
res += mul(Get(s1,dx,0), float4x4(-0.047382719814777,-0.067214086651802,0.177053138613701,-0.006546768359840,0.192977964878082,-0.103477656841278,-0.092228300869465,-0.086562760174274,-0.058583393692970,-0.004133412614465,-0.077628858387470,-0.023559724912047,-0.037513285875320,0.093506030738354,0.102107688784599,0.130687311291695));
res += mul(Get(s1,dx,dy), float4x4(0.084825605154037,0.121198251843452,0.163695886731148,-0.180349007248878,0.087811574339867,-0.116600371897221,-0.079997643828392,0.033872250467539,-0.113473020493984,0.029420528560877,0.043301887810230,-0.075805053114891,-0.058649152517319,0.006473168265074,0.099462479352951,0.039002038538456));
res += mul(Get(s2,-dx,-dy), float4x4(-0.023909226059914,-0.021639766171575,0.162250578403473,-0.023475758731365,-0.024470282718539,-0.084725715219975,-0.049855954945087,-0.041981969028711,0.054391164332628,0.023513382300735,0.030943779274821,-0.037175480276346,-0.097578421235085,0.078494884073734,0.031443681567907,-0.011383085511625));
res += mul(Get(s2,-dx,0), float4x4(-0.036468304693699,-0.020186267793179,0.074751541018486,-0.036952484399080,-0.027033219113946,-0.058352947235107,-0.081985704600811,0.057425342500210,0.062401667237282,0.058324705809355,-0.017679655924439,0.121720179915428,-0.011111178435385,-0.095526725053787,-0.102393135428429,0.045471336692572));
res += mul(Get(s2,-dx,dy), float4x4(-0.015172987245023,-0.091781027615070,0.019861288368702,-0.049199823290110,-0.027515430003405,0.151077181100845,0.022374564781785,-0.038740519434214,0.037275698035955,-0.093125179409981,-0.060190446674824,0.024317188188434,-0.053965456783772,-0.016762616112828,0.046665214002132,-0.009978512302041));
res += mul(Get(s2,0,-dy), float4x4(0.020522996783257,0.016140760853887,-0.052984200417995,-0.013549582101405,-0.012964082881808,0.064877055585384,0.105765275657177,0.115431316196918,0.000842799199745,0.086280032992363,-0.034260038286448,-0.000906222499907,-0.030558263882995,0.055640794336796,-0.066344954073429,-0.052393302321434));
res += mul(Get(s2,0,0), float4x4(-0.062097009271383,0.029276039451361,-0.225073814392090,0.055592332035303,-0.024672392755747,0.146398022770882,0.077047049999237,-0.028234438970685,-0.057953134179115,0.111974254250526,-0.135880112648010,-0.083375811576843,-0.074987314641476,-0.076722078025341,-0.143299520015717,-0.007218276150525));
res += mul(Get(s2,0,dy), float4x4(0.048237256705761,0.017284579575062,-0.132817983627319,0.022158160805702,-0.038645472377539,0.001149383140728,-0.004307205323130,-0.100178107619286,0.082289986312389,-0.018216665834188,-0.220243886113167,-0.067271456122398,-0.060597840696573,-0.045404471457005,-0.220666870474815,0.071893051266670));
res += mul(Get(s2,dx,-dy), float4x4(0.056900843977928,-0.027702301740646,0.037815630435944,-0.005067748948932,0.118422672152519,-0.059983406215906,0.035483751446009,0.099632307887077,-0.040854174643755,-0.022743707522750,0.006002922542393,-0.003451497992501,0.004887070041150,-0.019940519705415,0.005817069206387,0.031277265399694));
res += mul(Get(s2,dx,0), float4x4(0.109452441334724,0.020241685211658,0.007066675461829,0.100311994552612,0.016597185283899,-0.155443742871284,0.035094611346722,0.019294239580631,-0.073743410408497,-0.001257123658434,-0.026453997939825,0.008567653596401,0.025743220001459,0.102819211781025,0.043592471629381,-0.074044950306416));
res += mul(Get(s2,dx,dy), float4x4(0.001954637700692,-0.039510115981102,0.043848641216755,0.101884260773659,-0.027339890599251,0.101862654089928,0.002455028938130,-0.037980169057846,0.000355900352588,0.016910322010517,-0.029731189832091,-0.031411204487085,0.041223615407944,-0.020474016666412,-0.051866907626390,-0.051129732280970));
res += mul(Get(s3,-dx,-dy), float4x4(-0.121164031326771,0.051479466259480,-0.022123092785478,0.068524435162544,0.037002276629210,0.172232657670975,0.084394805133343,0.007828511297703,0.065568275749683,0.075051203370094,0.124122709035873,-0.003110085614026,0.048872675746679,0.009314771741629,0.051083739846945,0.092030592262745));
res += mul(Get(s3,-dx,0), float4x4(0.116647012531757,-0.062023237347603,-0.058713931590319,-0.077013991773129,0.014263384044170,0.073041222989559,-0.040394742041826,-0.133960202336311,0.028548216447234,0.000490534934215,-0.001721997396089,0.004275707062334,0.115024521946907,-0.048961829394102,0.065030343830585,0.035566542297602));
res += mul(Get(s3,-dx,dy), float4x4(-0.046600449830294,0.082954488694668,-0.011158666573465,-0.052504528313875,-0.071763403713703,-0.039622690528631,0.016392920166254,-0.062318623065948,-0.038429360836744,0.039053410291672,-0.026190837845206,0.002496899571270,0.086959555745125,-0.026526380330324,0.178456455469131,-0.021977916359901));
res += mul(Get(s3,0,-dy), float4x4(0.073882669210434,-0.003290148917586,-0.117239914834499,0.167274966835976,-0.018469192087650,-0.039866667240858,-0.100602351129055,-0.134993642568588,0.037606246769428,-0.012835695408285,0.155432030558586,-0.087611846625805,-0.001682378817350,0.044767420738935,-0.019319856539369,-0.001241815392859));
res += mul(Get(s3,0,0), float4x4(0.311321973800659,-0.091997802257538,0.010998859070241,0.023447142913938,0.108226358890533,-0.196273729205132,-0.060886647552252,0.005546764470637,-0.003669490106404,-0.039370398968458,0.102051205933094,0.041562173515558,0.050548143684864,-0.072983384132385,0.086404666304588,-0.033233251422644));
res += mul(Get(s3,0,dy), float4x4(0.003879057941958,0.061139892786741,0.081271477043629,0.056263640522957,-0.174372702836990,0.424623221158981,0.114580631256104,0.052306234836578,0.052110515534878,0.013841369189322,0.087376333773136,0.119171828031540,-0.045442160218954,0.016749713569880,0.175998017191887,-0.102225095033646));
res += mul(Get(s3,dx,-dy), float4x4(-0.007298403419554,0.016610268503428,-0.068943642079830,0.151121184229851,0.004990862216800,-0.009906162507832,0.000609294453170,-0.030294874683022,-0.057314835488796,0.014699826017022,0.045803576707840,-0.086325161159039,-0.018653582781553,0.062740400433540,-0.031636398285627,-0.024509824812412));
res += mul(Get(s3,dx,0), float4x4(0.081964068114758,-0.064059637486935,-0.033425878733397,-0.118175961077213,0.179353415966034,-0.134635314345360,0.077653169631958,0.231592938303947,-0.062284104526043,-0.034914217889309,-0.079165652394295,-0.000048785805120,0.060094147920609,0.026923187077045,-0.052523665130138,0.040946483612061));
res += mul(Get(s3,dx,dy), float4x4(-0.064060635864735,0.015878276899457,-0.047767855226994,-0.015898235142231,-0.143111705780029,-0.062792547047138,0.071426033973694,0.063110634684563,0.038470178842545,-0.085267320275307,0.024507487192750,0.020615335553885,0.000259456981439,0.063667327165604,0.029862828552723,0.076853960752487));
return max(float4(0,0,0,0), res);
}
