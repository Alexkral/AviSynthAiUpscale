sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.059166919440031,-0.029956985265017,0.003462348831818,-0.015142304822803,-0.011728272773325,-0.060016810894012,-0.120300829410553,0.025466296821833,-0.059090543538332,-0.085865497589111,-0.046400405466557,0.108058609068394,-0.054436184465885,-0.106661938130856,0.079219527542591,-0.058354187756777));
res += mul(Get(s0,-dx,0), float4x4(-0.207503110170364,-0.067220434546471,0.076364576816559,-0.053984653204679,-0.093882128596306,-0.061234977096319,-0.021665317937732,-0.044661913067102,-0.023455495014787,-0.009580780752003,0.044731184840202,0.047655642032623,-0.030415385961533,-0.037526234984398,0.174548700451851,-0.006526231300086));
res += mul(Get(s0,-dx,dy), float4x4(-0.143721938133240,0.140232741832733,-0.023284707218409,-0.001040131668560,-0.081866241991520,0.009181404486299,0.159915611147881,0.079227730631828,0.011263710446656,0.123849704861641,0.048353407531977,-0.001396051608026,0.047204539179802,-0.053593549877405,-0.058331288397312,0.016998991370201));
res += mul(Get(s0,0,-dy), float4x4(-0.120923273265362,-0.041544590145350,0.032079588621855,-0.055016905069351,-0.004300862085074,-0.203255161643028,-0.152529954910278,-0.062579162418842,-0.031741511076689,-0.003707919968292,-0.053650777786970,0.081573799252510,-0.009721645154059,-0.016151551157236,-0.095365822315216,-0.067149542272091));
res += mul(Get(s0,0,0), float4x4(0.017948657274246,0.078429095447063,0.130054816603661,-0.054461501538754,0.057724509388208,-0.060897991061211,-0.160018220543861,-0.035653743892908,-0.067328095436096,-0.041411563754082,-0.022091079503298,0.014393136836588,0.073706276714802,-0.010432458482683,0.047307785600424,-0.029697792604566));
res += mul(Get(s0,0,dy), float4x4(0.009350773878396,0.097438968718052,0.053248703479767,0.028982939198613,0.139108777046204,0.093346834182739,-0.105473868548870,0.046358942985535,0.025116387754679,0.037235353142023,-0.117606885731220,-0.037780839949846,0.019859446212649,-0.054880470037460,0.020096812397242,-0.006514207459986));
res += mul(Get(s0,dx,-dy), float4x4(-0.011893264949322,-0.002229029778391,-0.127030462026596,-0.025662697851658,-0.015418671071529,-0.008717693388462,-0.057073567062616,-0.013543499633670,0.107856996357441,-0.081340469419956,-0.091257274150848,0.046767514199018,0.051123630255461,-0.027824930846691,-0.034257732331753,-0.003470528637990));
res += mul(Get(s0,dx,0), float4x4(0.023484630510211,0.024800814688206,0.009722360409796,-0.064022883772850,0.058353364467621,-0.070957727730274,-0.073495350778103,-0.023164795711637,0.119893118739128,-0.076686814427376,-0.059347938746214,0.003770879004151,-0.015382812358439,0.063293337821960,0.050916004925966,-0.020575793460011));
res += mul(Get(s0,dx,dy), float4x4(0.067663274705410,-0.027998732402921,0.003586397273466,0.001789010246284,0.014478389173746,0.015899311751127,-0.094062931835651,0.021512752398849,0.067774325609207,-0.144090011715889,-0.145853787660599,-0.032038051635027,0.002137209521607,0.062126677483320,0.041447471827269,0.024267032742500));
res += mul(Get(s1,-dx,-dy), float4x4(-0.113138742744923,-0.118993580341339,-0.098843283951283,-0.028731020167470,-0.126590788364410,0.095270268619061,-0.097622126340866,0.030643062666059,-0.114308744668961,-0.118073895573616,0.076613642275333,0.026397256180644,0.003857600269839,-0.140887752175331,0.014358467422426,0.111744992434978));
res += mul(Get(s1,-dx,0), float4x4(-0.193227842450142,0.039449267089367,0.122756026685238,-0.039408501237631,0.097272701561451,0.042514022439718,-0.005457423161715,-0.027002042159438,-0.203681424260139,-0.008929358795285,-0.002627409063280,-0.005082640331239,-0.019540665671229,-0.063125461339951,-0.020121295005083,0.070880427956581));
res += mul(Get(s1,-dx,dy), float4x4(-0.084096759557724,0.074354298412800,0.097614206373692,0.067022062838078,-0.001368308439851,0.065283559262753,0.055173046886921,-0.047668412327766,-0.222255945205688,0.118288986384869,-0.025311250239611,0.074798554182053,-0.003762615146115,-0.077082470059395,0.087339587509632,-0.054248381406069));
res += mul(Get(s1,0,-dy), float4x4(-0.153995230793953,-0.111576430499554,-0.145291611552238,-0.037928555160761,0.064564786851406,0.272733956575394,0.004735365975648,-0.037422772496939,0.031456630676985,-0.036687020212412,0.123405270278454,0.045145120471716,0.123284816741943,-0.170035243034363,-0.063765488564968,0.162529483437538));
res += mul(Get(s1,0,0), float4x4(-0.031938150525093,0.003329521976411,0.016281701624393,-0.042512971907854,-0.009298140183091,-0.226658090949059,0.034685939550400,-0.038826171308756,0.275535255670547,0.050067298114300,0.109889365732670,0.046333115547895,0.129184812307358,-0.075980246067047,-0.091126717627048,0.001548056490719));
res += mul(Get(s1,0,dy), float4x4(0.189965590834618,0.011228566989303,-0.010494259186089,0.085162810981274,-0.066948905587196,-0.012714148499072,0.035877402871847,-0.025321569293737,0.059443417936563,-0.041648760437965,0.070002079010010,0.003780195722356,0.024727450683713,0.043478876352310,0.046714138239622,-0.074058420956135));
res += mul(Get(s1,dx,-dy), float4x4(-0.140203446149826,-0.016706390306354,-0.110140368342400,-0.044620137661695,0.055836956948042,-0.100052975118160,-0.097484961152077,0.041988659650087,0.054555919021368,0.013744826428592,-0.048690862953663,-0.059052795171738,0.080057211220264,-0.035643238574266,-0.115203626453876,0.078950464725494));
res += mul(Get(s1,dx,0), float4x4(0.056831113994122,-0.085452623665333,-0.079924054443836,-0.037166569381952,-0.058327320963144,-0.060099028050900,0.043970711529255,0.019014196470380,0.103425689041615,0.001945642055944,-0.001187855144963,0.011710886843503,-0.028169691562653,-0.027070021256804,-0.181945040822029,-0.005251238122582));
res += mul(Get(s1,dx,dy), float4x4(0.193383008241653,-0.051603592932224,-0.050148386508226,0.040113981813192,0.022132968530059,0.097314611077309,0.010667557828128,-0.027027582749724,-0.085213236510754,0.063237950205803,0.035412609577179,0.007040225900710,-0.023586152121425,0.144653767347336,-0.069030337035656,-0.079429723322392));
res += mul(Get(s2,-dx,-dy), float4x4(0.054886225610971,-0.090637467801571,0.076353840529919,0.006957842037082,0.045332219451666,0.005666173063219,0.094574630260468,0.038110457360744,0.028245553374290,-0.055116556584835,0.042602542787790,-0.020040128380060,0.123798079788685,0.123085029423237,-0.062242295593023,-0.042344931513071));
res += mul(Get(s2,-dx,0), float4x4(0.077169157564640,0.013771607540548,0.133078843355179,-0.088115051388741,0.011260945349932,-0.033591676503420,0.051861733198166,-0.020763017237186,0.067703984677792,-0.051874991506338,-0.020178321748972,-0.054892215877771,-0.012503182515502,-0.046210486441851,0.054518163204193,-0.055083487182856));
res += mul(Get(s2,-dx,dy), float4x4(0.014658795669675,-0.058692898601294,0.154915302991867,-0.050909928977489,-0.018100662156940,0.020698141306639,0.025685140863061,0.006929837632924,0.063275143504143,-0.036104552447796,0.014980462379754,0.014674376696348,-0.193478494882584,-0.013241511769593,0.198785990476608,-0.069572642445564));
res += mul(Get(s2,0,-dy), float4x4(0.004910657647997,-0.059363860636950,0.042789183557034,-0.030575703829527,-0.017852813005447,0.001117355655879,0.125639513134956,0.019280908629298,-0.055581290274858,0.074823722243309,0.010739873163402,-0.025076476857066,0.037516884505749,-0.080115407705307,-0.163864508271217,0.008993840776384));
res += mul(Get(s2,0,0), float4x4(-0.029763739556074,-0.044845234602690,0.079687848687172,-0.069669269025326,0.056104537099600,-0.024128269404173,-0.018555453047156,-0.004248898942024,-0.082662522792816,0.038792248815298,0.059244781732559,-0.061953667551279,-0.086897417902946,0.111510671675205,-0.201951891183853,-0.082404769957066));
res += mul(Get(s2,0,dy), float4x4(-0.093691952526569,0.139563545584679,0.184102728962898,-0.007759790867567,-0.036344654858112,0.104181505739689,0.072024777531624,-0.017702434211969,-0.048025205731392,0.094868183135986,0.053410924971104,-0.000088885069999,0.064946636557579,0.487646490335464,-0.062265690416098,-0.081509344279766));
res += mul(Get(s2,dx,-dy), float4x4(0.013740669004619,-0.074813373386860,0.081433378160000,-0.030324967578053,-0.055627200752497,0.059715438634157,0.170003399252892,-0.008777248673141,0.016993589699268,-0.029182173311710,-0.006564428098500,-0.058451775461435,0.021844446659088,0.141444414854050,-0.023570436984301,-0.021404791623354));
res += mul(Get(s2,dx,0), float4x4(-0.058564525097609,-0.168685168027878,0.035541404038668,-0.027299020439386,-0.004392061382532,0.023196237161756,0.114594519138336,0.021228365600109,0.028406661003828,0.016019625589252,-0.079593271017075,-0.026228453963995,-0.073467314243317,-0.154584556818008,-0.047276519238949,-0.071644529700279));
res += mul(Get(s2,dx,dy), float4x4(-0.026779484003782,-0.038016039878130,0.059225868433714,-0.002864281181246,-0.003548046341166,0.098431669175625,-0.004542718175799,-0.005229564849287,0.074371367692947,0.062925703823566,-0.057358223944902,0.055333387106657,-0.014968464151025,-0.038491774350405,-0.137339383363724,-0.035467613488436));
res += mul(Get(s3,-dx,-dy), float4x4(0.012776246294379,-0.044923260807991,-0.023733481764793,-0.015379093587399,0.024939127266407,0.023171067237854,0.013218526728451,-0.004471872001886,-0.014370173215866,0.008883303031325,-0.023571915924549,0.079179733991623,-0.011925933882594,0.074009537696838,0.010190611705184,0.041663154959679));
res += mul(Get(s3,-dx,0), float4x4(-0.010576417669654,-0.008230553939939,0.014215973205864,-0.012919622473419,0.051761690527201,-0.037848688662052,0.008232772350311,0.000833943719044,0.033185757696629,-0.033602189272642,0.046207349747419,0.050684567540884,0.050119925290346,-0.011350406333804,0.055123344063759,-0.013700046576560));
res += mul(Get(s3,-dx,dy), float4x4(0.006465665996075,0.016160529106855,0.003333566477522,0.006964640226215,0.008222751319408,-0.019621808081865,-0.040346141904593,0.019153797999024,0.031096974387765,0.071944832801819,-0.162358731031418,-0.068686388432980,0.054119035601616,0.024508792907000,0.032664023339748,-0.018137991428375));
res += mul(Get(s3,0,-dy), float4x4(0.013782517053187,0.018656633794308,0.040011044591665,0.034550391137600,0.019592389464378,0.074736870825291,0.015324908308685,0.012316049076617,0.119433499872684,-0.086857005953789,0.053443003445864,0.074547290802002,-0.036173589527607,0.077937752008438,0.056507393717766,0.013437958434224));
res += mul(Get(s3,0,0), float4x4(-0.004297776147723,-0.021289290860295,0.035028893500566,0.011937258765101,0.088328473269939,-0.040755875408649,0.013107904233038,-0.035596594214439,0.005306452978402,-0.207972705364227,0.039506673812866,-0.029760692268610,0.009746729396284,0.007234707940370,0.010640162974596,0.008622175082564));
res += mul(Get(s3,0,dy), float4x4(0.013657067902386,-0.004622844047844,0.001239145873114,0.006768683437258,0.047291606664658,0.017349870875478,-0.055456347763538,-0.028596330434084,-0.050970576703548,0.184350505471230,-0.095636382699013,-0.059362370520830,0.010710699483752,0.095112137496471,-0.038616530597210,0.022999588400126));
res += mul(Get(s3,dx,-dy), float4x4(0.001667346688919,0.035705082118511,0.039130330085754,-0.025704275816679,0.030806763097644,0.097298651933670,0.031259134411812,0.006352803204209,0.159572973847389,0.041390843689442,0.071842379868031,0.029832364991307,0.034372612833977,0.021499177441001,0.091378234326839,-0.057301241904497));
res += mul(Get(s3,dx,0), float4x4(0.043546907603741,0.038495052605867,-0.002089839894325,0.012221355922520,-0.007857723161578,0.044131908565760,0.075824052095413,-0.028442051261663,-0.056215878576040,0.077288992702961,0.104159444570541,-0.037116955965757,0.001191695220768,0.008350066840649,0.004730667453259,-0.020965239033103));
res += mul(Get(s3,dx,dy), float4x4(-0.017793161794543,-0.030824946239591,-0.009678606875241,-0.031460851430893,-0.039695546030998,0.052818663418293,-0.016309874132276,-0.058654215186834,-0.129093050956726,0.138353481888771,-0.008429403416812,-0.031341195106506,-0.010066828690469,0.112862728536129,-0.009305252693594,0.022345762699842));
return max(float4(0,0,0,0), res);
}
