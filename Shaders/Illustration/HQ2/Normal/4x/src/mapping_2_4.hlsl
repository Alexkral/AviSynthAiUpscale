sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.011637024581432,-0.066865779459476,0.007382250856608,0.059946846216917,-0.009732320904732,-0.023013044148684,0.056287020444870,-0.037203211337328,0.046839546412230,-0.035330139100552,-0.034876886755228,-0.002378507750109,-0.039062246680260,-0.075919471681118,0.038996506482363,-0.035267014056444));
res += mul(Get(s0,-dx,0), float4x4(-0.016542527824640,-0.035739775747061,0.080147758126259,0.095552824437618,0.008882509544492,0.019205078482628,0.027497161179781,-0.011875011958182,-0.003998224157840,0.070584014058113,0.046668145805597,-0.032301180064678,-0.010591693222523,-0.002541455207393,-0.014293180778623,-0.030555320903659));
res += mul(Get(s0,-dx,dy), float4x4(-0.013510750606656,0.052076555788517,0.000709865766112,0.032137688249350,-0.004092214163393,-0.039393462240696,-0.079971618950367,0.080776810646057,0.062914311885834,-0.085879459977150,-0.000243333692197,-0.010784039273858,-0.012639904394746,-0.032302539795637,0.118944458663464,-0.044053513556719));
res += mul(Get(s0,0,-dy), float4x4(0.001023617340252,-0.029402397572994,0.043600842356682,0.045479748398066,-0.028515281155705,0.000653351249639,0.029929613694549,0.007934140972793,-0.037574894726276,-0.077560663223267,-0.058012239634991,-0.043274905532598,0.040156409144402,0.027642302215099,0.091829016804695,-0.037467196583748));
res += mul(Get(s0,0,0), float4x4(-0.058698344975710,-0.011072786524892,0.089697182178497,-0.000374278926756,0.000465735996841,0.046474300324917,0.030805518850684,0.040528487414122,0.014716053381562,0.014148395508528,0.039270013570786,0.007475972175598,-0.002979068551213,-0.037349373102188,-0.039126142859459,-0.026762539520860));
res += mul(Get(s0,0,dy), float4x4(-0.056163989007473,-0.081245034933090,0.008893125690520,-0.021628972142935,0.040973186492920,-0.043084841221571,-0.154966726899147,-0.013255079276860,0.013813621364534,-0.130446121096611,0.012528706341982,-0.072523377835751,-0.033263150602579,-0.008753745816648,-0.146453455090523,-0.067861832678318));
res += mul(Get(s0,dx,-dy), float4x4(0.008840902708471,-0.067136697471142,0.048097088932991,-0.075758054852486,0.064085282385349,-0.067119635641575,-0.007912734523416,0.033343132585287,-0.011444021947682,0.015589613467455,-0.047750528901815,0.030670460313559,-0.003992717713118,0.063936240971088,-0.010169213637710,0.048064958304167));
res += mul(Get(s0,dx,0), float4x4(0.013298330828547,-0.151535525918007,-0.012998986057937,-0.055384814739227,-0.007742727175355,0.069482073187828,0.034206148236990,0.021654434502125,-0.033345758914948,0.007687733508646,-0.032742146402597,0.039319679141045,0.004642214626074,0.136471062898636,0.055496197193861,-0.034622199833393));
res += mul(Get(s0,dx,dy), float4x4(0.005712219979614,-0.123964309692383,0.000722845492419,-0.075614161789417,-0.047801479697227,-0.028576064854860,-0.130225181579590,0.023985512554646,0.025176918134093,-0.003003037767485,-0.042525801807642,0.029887659475207,0.030798146501184,0.158562213182449,-0.115443438291550,0.027461877092719));
res += mul(Get(s1,-dx,-dy), float4x4(-0.037278972566128,0.004946592263877,-0.087792873382568,-0.065376631915569,-0.006783219985664,-0.077047437429428,0.020173940807581,-0.037281002849340,0.067129552364349,-0.014077059924603,0.064991652965546,-0.000884423730895,-0.001546188606881,-0.025581598281860,0.012406282126904,0.015505083836615));
res += mul(Get(s1,-dx,0), float4x4(0.005714254919440,-0.013485572300851,0.074837453663349,0.017918001860380,0.014038066379726,0.047416266053915,-0.023186746984720,-0.068281017243862,0.022175556048751,0.082850001752377,0.021033072844148,-0.057318668812513,0.063618905842304,0.016570519655943,0.013737748377025,-0.033271756023169));
res += mul(Get(s1,-dx,dy), float4x4(0.039880111813545,0.024099765345454,0.009145400486887,-0.045700702816248,0.020489724352956,0.004573221784085,0.095357328653336,-0.049020782113075,0.072936035692692,0.027032773941755,-0.036496635526419,0.043552570044994,-0.013566460460424,-0.040353763848543,0.030653867870569,0.023320570588112));
res += mul(Get(s1,0,-dy), float4x4(-0.013107631355524,0.051065061241388,-0.003036534413695,0.000931238930207,-0.032305750995874,-0.061220172792673,0.009691121056676,0.079351447522640,0.054766133427620,0.038559705018997,0.007010377012193,-0.017466505989432,-0.052357956767082,-0.030522065237164,-0.014356477186084,0.026432903483510));
res += mul(Get(s1,0,0), float4x4(-0.008703329600394,0.099497258663177,0.185699343681335,0.006776650901884,0.051430124789476,-0.030867870897055,-0.116765432059765,0.001212672097608,0.030172407627106,0.120714314281940,-0.029697380959988,-0.136915028095245,0.010966237634420,-0.046777863055468,0.068687014281750,0.038137607276440));
res += mul(Get(s1,0,dy), float4x4(-0.066862568259239,0.089275173842907,0.012690916657448,-0.038462288677692,-0.038010977208614,0.042329568415880,-0.003556562121958,0.061862591654062,0.041525065898895,-0.027410142123699,0.005826720036566,-0.021399617195129,-0.046811439096928,0.047877747565508,0.074578300118446,0.050661601126194));
res += mul(Get(s1,dx,-dy), float4x4(0.046988066285849,0.079050764441490,-0.069716781377792,-0.000428644125350,0.055864047259092,-0.039654783904552,0.010876360349357,-0.019920909777284,0.002998952288181,-0.019117958843708,-0.067740157246590,-0.030878800898790,-0.023977980017662,-0.063344538211823,-0.042833611369133,0.037940669804811));
res += mul(Get(s1,dx,0), float4x4(-0.037473008036613,-0.025891074910760,-0.028666445985436,0.065956674516201,-0.010917615145445,-0.049908228218555,-0.109683759510517,0.047514896839857,-0.083021812140942,0.156388774514198,-0.059729617089033,-0.041308358311653,0.018845766782761,0.011242373846471,0.089852735400200,-0.005396445747465));
res += mul(Get(s1,dx,dy), float4x4(-0.036770049482584,-0.035795468837023,0.106414355337620,-0.013339787721634,-0.011250359006226,0.062653675675392,-0.009261916391551,-0.009003792889416,-0.009308549575508,0.147907063364983,0.019023394212127,0.029591081663966,-0.011687022633851,0.055331163108349,0.082447357475758,0.023302488029003));
res += mul(Get(s2,-dx,-dy), float4x4(0.009736370295286,-0.038720808923244,0.020934054628015,-0.083372041583061,0.036759674549103,0.021361282095313,0.035160742700100,0.040028743445873,-0.018337447196245,-0.018488356843591,0.084755361080170,-0.000929104862735,-0.026031367480755,-0.094900086522102,0.085578411817551,-0.028488405048847));
res += mul(Get(s2,-dx,0), float4x4(-0.011321784928441,0.057465124875307,0.006448660977185,-0.011677782982588,-0.041043467819691,-0.030853895470500,0.015719685703516,0.035708285868168,-0.026254493743181,0.020041259005666,0.106813907623291,0.040812328457832,-0.006884159520268,-0.107548542320728,0.010293165221810,0.044473886489868));
res += mul(Get(s2,-dx,dy), float4x4(0.039467159658670,-0.008904821239412,-0.043868098407984,-0.075718984007835,-0.012115556746721,0.054999366402626,-0.068427436053753,-0.067790791392326,-0.007223549298942,0.037827931344509,-0.018734466284513,0.047801621258259,-0.083082780241966,-0.018072012811899,0.051319178193808,-0.023273508995771));
res += mul(Get(s2,0,-dy), float4x4(0.045158363878727,-0.021190850064158,-0.039753805845976,-0.008715691976249,-0.064026355743408,0.016692664474249,0.088270112872124,0.016975868493319,0.011571059934795,-0.003211786504835,0.024093143641949,-0.040803108364344,0.040753398090601,0.007953535765409,-0.055193189531565,-0.119680784642696));
res += mul(Get(s2,0,0), float4x4(0.047785799950361,-0.058502864092588,-0.053584046661854,-0.039709560573101,0.006084374617785,0.048702593892813,0.133133009076118,-0.008014510385692,-0.034246698021889,-0.008298533968627,0.084340892732143,-0.035856712609529,-0.040793284773827,-0.054614011198282,-0.079051218926907,0.030738227069378));
res += mul(Get(s2,0,dy), float4x4(-0.019116099923849,-0.090855710208416,-0.110005922615528,-0.047363743185997,-0.017815476283431,0.139558374881744,0.009123417548835,-0.013791141100228,0.018063513562083,-0.001930364291184,0.030483530834317,0.028356073424220,0.071460850536823,-0.036283213645220,0.024921953678131,-0.016588712111115));
res += mul(Get(s2,dx,-dy), float4x4(-0.044983651489019,-0.008094115182757,-0.025552777573466,-0.062405977398157,-0.016869019716978,-0.029752800241113,-0.059212386608124,0.039038117974997,-0.064819715917110,-0.054146703332663,0.119062148034573,0.137595519423485,-0.014249308034778,-0.005115314386785,-0.090762540698051,-0.024087930098176));
res += mul(Get(s2,dx,0), float4x4(0.040726415812969,-0.047983624041080,-0.004677613265812,-0.042794924229383,-0.055233601480722,-0.020693589001894,-0.152346029877663,0.109327860176563,-0.045477155596018,0.058241907507181,0.045367244631052,0.053878400474787,-0.009314497001469,0.048940345644951,0.002143021672964,0.050072751939297));
res += mul(Get(s2,dx,dy), float4x4(0.021814724430442,-0.002293798606843,0.019455060362816,0.061078868806362,-0.022674661129713,0.010880512185395,0.035291295498610,0.036454077810049,0.068615861237049,0.000118021584058,-0.002829878591001,0.036027289927006,0.007787863723934,0.021733123809099,0.021854549646378,0.004332007840276));
res += mul(Get(s3,-dx,-dy), float4x4(-0.008298331871629,-0.129819095134735,-0.108302548527718,-0.105482481420040,0.000514697399922,-0.124586194753647,-0.094633199274540,0.011955073103309,0.006266106851399,0.054037760943174,-0.075778789818287,0.017240317538381,0.001417673192918,-0.053924310952425,-0.005608370993286,-0.077226519584656));
res += mul(Get(s3,-dx,0), float4x4(0.037942837923765,-0.018197976052761,-0.066488549113274,-0.067559257149696,-0.016017656773329,-0.099676430225372,0.114989615976810,-0.051151286810637,-0.025124290958047,0.036289017647505,-0.068078450858593,-0.008521437644958,0.029168834909797,-0.166908487677574,-0.057445559650660,-0.086183436214924));
res += mul(Get(s3,-dx,dy), float4x4(0.036293588578701,-0.053614769130945,0.135542377829552,0.074651494622231,-0.046865355223417,-0.109371736645699,0.097674794495106,-0.058084905147552,0.024801030755043,-0.108378186821938,-0.009732584469020,-0.024277456104755,-0.005918734241277,-0.146096393465996,0.142508894205093,-0.045940589159727));
res += mul(Get(s3,0,-dy), float4x4(-0.027611233294010,-0.093774862587452,-0.131419971585274,-0.078273646533489,-0.073031306266785,-0.091418966650963,-0.120692752301693,-0.042468074709177,0.002909651491791,-0.006387421861291,-0.051705256104469,-0.028990546241403,-0.018768446519971,0.151124626398087,-0.058148354291916,-0.012112746946514));
res += mul(Get(s3,0,0), float4x4(-0.008728693239391,0.065390050411224,-0.016616441309452,-0.021356346085668,-0.040390532463789,-0.012780332937837,-0.178877845406532,0.015739195048809,0.041135080158710,0.046744853258133,0.007869452238083,-0.137856185436249,0.007184081245214,-0.013610616326332,-0.071868419647217,-0.015117002651095));
res += mul(Get(s3,0,dy), float4x4(-0.006978237535805,-0.056476194411516,0.064172267913818,0.100975990295410,-0.020364714786410,-0.035815540701151,0.259038954973221,0.043721225112677,-0.009568140842021,-0.059555668383837,0.063319951295853,-0.073790937662125,-0.027441678568721,0.058878954499960,-0.001553168520331,-0.053234335035086));
res += mul(Get(s3,dx,-dy), float4x4(0.047528460621834,-0.105763532221317,-0.146859258413315,-0.108683027327061,-0.002758099464700,-0.049482405185699,-0.078483067452908,0.003388165030628,-0.005145993549377,0.004122541751713,-0.001990107353777,-0.019539291039109,0.011466471478343,0.142236068844795,-0.148049026727676,0.075452782213688));
res += mul(Get(s3,dx,0), float4x4(-0.032770089805126,0.134254783391953,-0.030279930680990,0.033226039260626,-0.079414129257202,0.077997282147408,-0.067947626113892,-0.083383992314339,0.024454202502966,0.083931639790535,0.054510917514563,-0.003264960134402,-0.053805336356163,0.058682844042778,-0.070902593433857,0.173171088099480));
res += mul(Get(s3,dx,dy), float4x4(-0.065585389733315,0.009016886353493,-0.027131158858538,0.134568661451340,-0.052037060260773,0.115583539009094,0.068451583385468,-0.002916035242379,-0.020051576197147,0.049491673707962,-0.057714290916920,-0.032251458615065,-0.061206996440887,0.039488408714533,-0.008084553293884,0.144583031535149));
return max(float4(0,0,0,0), res);
}
