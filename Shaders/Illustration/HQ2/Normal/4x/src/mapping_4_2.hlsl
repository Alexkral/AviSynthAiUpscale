sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.029941091313958,-0.074449203908443,-0.027678493410349,-0.064390450716019,-0.006435876246542,0.278038948774338,-0.021218964830041,-0.052503034472466,0.135828092694283,0.049326818436384,0.004590392112732,0.054402008652687,-0.062291987240314,0.009350640699267,0.124479062855244,0.003971437457949));
res += mul(Get(s0,-dx,0), float4x4(-0.096796900033951,-0.108319774270058,0.033898338675499,-0.030972011387348,-0.003117728047073,0.054339829832315,0.077079519629478,-0.064750507473946,-0.096734277904034,0.020727803930640,-0.011830161325634,0.022989230230451,-0.127702772617340,0.040006984025240,0.090393342077732,0.056377284228802));
res += mul(Get(s0,-dx,dy), float4x4(-0.122187420725822,-0.005818795878440,-0.055177524685860,0.107419617474079,-0.053327143192291,-0.006938165985048,0.061998512595892,0.080910645425320,-0.020221447572112,-0.028048271313310,-0.014093772508204,-0.002314418554306,-0.108339391648769,0.006401435937732,-0.038630239665508,-0.022458039224148));
res += mul(Get(s0,0,-dy), float4x4(0.010805191472173,-0.071661412715912,0.009931817650795,-0.106988817453384,0.094928793609142,0.150152027606964,-0.008456653915346,-0.092542909085751,0.062296602874994,-0.026177160441875,0.046672437340021,0.003683278569952,0.153237774968147,0.041208039969206,0.076840966939926,0.002706376602873));
res += mul(Get(s0,0,0), float4x4(0.196682065725327,-0.006374952849001,-0.003208962269127,-0.121453948318958,-0.010205558501184,-0.027108917012811,0.047362558543682,0.029436159878969,0.005003897938877,-0.016568182036281,-0.036070156842470,0.052011519670486,-0.035526111721992,0.060786847025156,-0.012752532027662,-0.049966238439083));
res += mul(Get(s0,0,dy), float4x4(0.078234858810902,-0.012977682985365,-0.106079742312431,0.097069524228573,-0.072490058839321,-0.056327834725380,0.010290608741343,0.177283450961113,0.006738673429936,-0.009051827713847,-0.027418257668614,-0.008447599597275,-0.046049013733864,0.045225147157907,-0.162574753165245,0.066790543496609));
res += mul(Get(s0,dx,-dy), float4x4(-0.060157570987940,-0.001602824311703,-0.042903956025839,-0.194273427128792,0.021655267104506,0.032360084354877,0.008591731078923,-0.032905135303736,-0.052105583250523,0.015017691999674,0.072708621621132,-0.115446463227272,0.150413408875465,-0.114129714667797,-0.086278557777405,-0.120641596615314));
res += mul(Get(s0,dx,0), float4x4(0.038285937160254,0.050145495682955,-0.072722882032394,-0.070528358221054,0.142478331923485,-0.011984285898507,0.157370001077652,0.294308871030807,0.034488320350647,-0.029928555712104,0.036119811236858,-0.032837554812431,-0.002435751026496,-0.131896585226059,-0.075258888304234,-0.032687947154045));
res += mul(Get(s0,dx,dy), float4x4(0.053925458341837,-0.112692341208458,-0.077379293739796,0.051558699458838,0.052400246262550,-0.031379505991936,0.134773373603821,0.106296077370644,-0.036583520472050,-0.029255812987685,0.001435418147594,-0.001465675653890,0.078970216214657,-0.127466917037964,-0.150468900799751,0.108570918440819));
res += mul(Get(s1,-dx,-dy), float4x4(-0.018965285271406,0.101419672369957,-0.100408039987087,-0.069668240845203,-0.195544019341469,-0.043886877596378,-0.039160616695881,-0.069132417440414,-0.064881205558777,0.066012218594551,0.000222515460337,-0.134820953011513,0.052464883774519,0.011696702800691,0.017981905490160,0.091546170413494));
res += mul(Get(s1,-dx,0), float4x4(0.002794445259497,-0.035534452646971,-0.030698202550411,-0.168612882494926,-0.214953199028969,-0.016750590875745,-0.021103220060468,-0.110205434262753,-0.100060433149338,0.052553389221430,-0.002964579965919,-0.074630528688431,0.051328420639038,0.001657519489527,0.069193050265312,0.101074218750000));
res += mul(Get(s1,-dx,dy), float4x4(0.061890717595816,-0.019844586029649,-0.057499349117279,-0.075914211571217,-0.095214620232582,0.016032636165619,-0.111319221556187,-0.008692515082657,-0.072799488902092,-0.056643135845661,-0.033385615795851,-0.044197332113981,0.007918276824057,-0.031318210065365,0.051072962582111,-0.073707886040211));
res += mul(Get(s1,0,-dy), float4x4(0.010091849602759,-0.056994035840034,-0.095886118710041,-0.075863443315029,0.056192982941866,-0.106213323771954,0.004569563083351,-0.028000533580780,-0.041538722813129,0.048741050064564,-0.020742589607835,-0.105589255690575,-0.104128934442997,0.038165986537933,0.069112025201321,0.224659994244576));
res += mul(Get(s1,0,0), float4x4(0.169842019677162,-0.027456421405077,-0.060839463025331,0.021044999361038,-0.031842369586229,-0.059527833014727,-0.043842256069183,-0.090806156396866,-0.066782429814339,-0.039115015417337,-0.001839178381488,-0.078900381922722,-0.009452371858060,0.065611310303211,0.094533167779446,0.086445078253746));
res += mul(Get(s1,0,dy), float4x4(-0.036046244204044,-0.034081373363733,-0.130752578377724,0.024729827418923,0.027231387794018,-0.041201323270798,-0.042882975190878,-0.012183478102088,-0.146951541304588,-0.071690544486046,-0.057519715279341,-0.156016260385513,-0.019943263381720,0.078515924513340,0.038368884474039,0.009009611792862));
res += mul(Get(s1,dx,-dy), float4x4(-0.007554959505796,-0.073259294033051,-0.017555808648467,0.062027353793383,0.121080696582794,-0.017107168212533,-0.016606187447906,0.002240773988888,0.065898381173611,0.080757640302181,0.008991405367851,-0.208454206585884,0.139413043856621,0.136757433414459,0.072359837591648,0.055025592446327));
res += mul(Get(s1,dx,0), float4x4(0.033368419855833,-0.035813074558973,-0.078766673803329,0.016474418342113,0.002503480995074,-0.076217226684093,-0.020737480372190,-0.048627905547619,-0.102328240871429,-0.081511363387108,-0.067024603486061,-0.046982094645500,0.166404515504837,0.090527899563313,0.008719252422452,0.018681457266212));
res += mul(Get(s1,dx,dy), float4x4(-0.048847697675228,0.010268046520650,-0.024824276566505,0.064157061278820,-0.006935420911759,-0.131278887391090,-0.096244558691978,-0.045837219804525,-0.128295361995697,-0.071244269609451,-0.080035112798214,-0.184336155653000,0.078812874853611,-0.011339289136231,0.044300831854343,-0.018461363390088));
res += mul(Get(s2,-dx,-dy), float4x4(0.128608301281929,0.093472339212894,0.020417135208845,0.054736014455557,-0.052326854318380,-0.092367403209209,0.001994167687371,0.026052430272102,-0.013296766206622,0.041044943034649,0.036931928247213,-0.032597184181213,0.155174851417542,-0.072122551500797,0.016264457255602,0.063498914241791));
res += mul(Get(s2,-dx,0), float4x4(0.074768096208572,0.170402839779854,0.094052612781525,0.147088110446930,-0.064420662820339,-0.017828891053796,0.103716187179089,0.082140296697617,0.134969994425774,-0.003252453636378,0.102921150624752,0.034210734069347,-0.048172041773796,0.033142369240522,-0.000872289179824,0.054545160382986));
res += mul(Get(s2,-dx,dy), float4x4(0.005818540230393,-0.095401704311371,0.088791742920876,-0.085424065589905,0.006296052131802,-0.024149477481842,-0.009917777031660,-0.050069257616997,-0.000528723234311,-0.071973152458668,0.031201535835862,0.052603285759687,0.032271444797516,0.077906355261803,-0.084799721837044,0.030722202733159));
res += mul(Get(s2,0,-dy), float4x4(-0.085845611989498,-0.003923259209841,0.031966567039490,0.045524153858423,-0.058279518038034,0.006939205806702,-0.027241660282016,-0.048627924174070,-0.037040349096060,0.025204766541719,-0.047194007784128,-0.104562886059284,0.198071658611298,0.059296634048223,-0.120738118886948,0.036981027573347));
res += mul(Get(s2,0,0), float4x4(0.080349363386631,-0.013393957167864,0.011107532307506,-0.014368418604136,-0.128150627017021,0.055822856724262,-0.080422148108482,-0.071944847702980,-0.156738832592964,-0.026218444108963,0.109522402286530,0.084148921072483,0.000696612114552,0.064017981290817,-0.132314726710320,-0.052164908498526));
res += mul(Get(s2,0,dy), float4x4(0.086127802729607,-0.060527753084898,0.130516648292542,0.040430482476950,-0.030400380492210,-0.017453834414482,-0.077265247702599,0.167657449841499,0.218759149312973,-0.047678735107183,0.101890549063683,0.037216924130917,-0.140940010547638,0.049959864467382,-0.129285007715225,0.010153635405004));
res += mul(Get(s2,dx,-dy), float4x4(0.027167264372110,-0.061418887227774,-0.014956788159907,-0.164515838027000,-0.017714377492666,0.006430000998080,-0.039543677121401,-0.119274944067001,0.069537527859211,0.061247821897268,0.063989207148552,0.036717206239700,0.008158205077052,-0.075386121869087,-0.093603275716305,-0.073089189827442));
res += mul(Get(s2,dx,0), float4x4(0.035057932138443,-0.148554936051369,-0.057400409132242,-0.085710003972054,-0.202450722455978,-0.030709624290466,-0.074834205210209,-0.105892494320869,-0.099206365644932,-0.097315415740013,0.119807444512844,-0.002852665958926,0.065862759947777,-0.010779136791825,-0.114520259201527,-0.102961778640747));
res += mul(Get(s2,dx,dy), float4x4(0.106030218303204,-0.184116229414940,-0.020642520859838,-0.012379551306367,-0.077025279402733,-0.071909524500370,-0.073542080819607,-0.037738561630249,0.124481357634068,-0.023958377540112,0.028460305184126,-0.118067413568497,0.094054080545902,-0.041648473590612,-0.167353853583336,-0.014830366708338));
res += mul(Get(s3,-dx,-dy), float4x4(-0.015075845643878,0.224836781620979,-0.018512437120080,-0.139149934053421,-0.038945209234953,-0.035893652588129,0.110377587378025,0.163620963692665,0.012075330130756,-0.010816241614521,0.145864129066467,0.029085043817759,-0.047361869364977,0.054038628935814,0.033333178609610,-0.075403682887554));
res += mul(Get(s3,-dx,0), float4x4(-0.091257363557816,0.136933550238609,-0.056416530162096,-0.041631687432528,0.159942954778671,0.060652710497379,0.036492522805929,-0.023545423522592,0.096465080976486,-0.050940450280905,0.081723868846893,0.110718041658401,-0.026657028123736,0.058922212570906,0.010052833706141,-0.070917867124081));
res += mul(Get(s3,-dx,dy), float4x4(-0.040969952940941,-0.071316063404083,-0.096506953239441,0.000144123681821,0.031885288655758,0.005249192006886,0.079977057874203,-0.031481083482504,0.120817750692368,-0.025992741808295,0.024780118837953,0.052298590540886,0.035406671464443,-0.033660143613815,-0.033123731613159,-0.103192910552025));
res += mul(Get(s3,0,-dy), float4x4(0.098668992519379,0.055119693279266,0.017156556248665,0.008140277117491,0.054082073271275,0.031924672424793,0.000796382955741,0.179455652832985,0.021941026672721,0.100187018513680,0.054051790386438,-0.121923416852951,-0.037664849311113,0.030516702681780,-0.014471529051661,-0.070541277527809));
res += mul(Get(s3,0,0), float4x4(-0.042400818318129,-0.078785367310047,-0.047768749296665,0.101805411279202,-0.040932614356279,0.037401106208563,-0.087790928781033,-0.077182717621326,0.136236280202866,0.092685095965862,0.016437347978354,-0.020302046090364,-0.033723358064890,0.010103513486683,0.005246483255178,-0.018798556178808));
res += mul(Get(s3,0,dy), float4x4(-0.105167031288147,-0.130754709243774,-0.082874119281769,0.037046797573566,0.017680905759335,-0.083150029182434,-0.033321026712656,0.167897015810013,0.061492312699556,-0.013812927529216,-0.098819904029369,0.172679245471954,0.017803896218538,-0.029874399304390,-0.005065131466836,-0.063156194984913));
res += mul(Get(s3,dx,-dy), float4x4(0.040276717394590,0.135530874133110,0.007296107243747,0.085432022809982,-0.035269368439913,-0.010265914723277,0.042203299701214,-0.041595190763474,-0.116060525178909,-0.032943136990070,-0.055163390934467,-0.166739404201508,0.038451589643955,0.095951460301876,-0.033674512058496,-0.109412685036659));
res += mul(Get(s3,dx,0), float4x4(-0.047568012028933,0.011265377514064,-0.069651953876019,0.119128033518791,-0.042918723076582,-0.050509430468082,0.062442436814308,0.206442654132843,-0.042691990733147,-0.052026387304068,0.003100737929344,-0.062212578952312,0.008539100177586,-0.002747487276793,0.022609433159232,0.031138805672526));
res += mul(Get(s3,dx,dy), float4x4(-0.127293899655342,-0.034986224025488,-0.127105623483658,-0.043325882405043,-0.022759536281228,-0.096217632293701,0.057030439376831,0.005457462277263,-0.066115573048592,-0.104154556989670,-0.053279872983694,0.117985315620899,0.070661991834641,-0.000640925602056,0.026990927755833,-0.001910772989504));
return max(float4(0,0,0,0), res);
}
