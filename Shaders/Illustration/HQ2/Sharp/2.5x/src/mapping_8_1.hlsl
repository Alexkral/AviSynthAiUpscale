sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.033165346831083,-0.087390199303627,0.217258602380753,0.048579752445221,0.097112946212292,-0.180742576718330,0.015060963109136,0.057293057441711,0.060152769088745,0.039501909166574,0.005969256628305,-0.011910947971046,0.016514360904694,-0.004167336970568,-0.107035890221596,-0.014896874316037));
res += mul(Get(s0,-dx,0), float4x4(0.036928083747625,-0.101976402103901,0.041121669113636,-0.205542787909508,-0.036778811365366,-0.005378132686019,-0.046620178967714,0.003563186153769,-0.110642507672310,-0.009875271469355,0.012635829858482,-0.037614800035954,0.188513368368149,-0.100811153650284,-0.030702233314514,-0.080051876604557));
res += mul(Get(s0,-dx,dy), float4x4(-0.041652761399746,-0.028996802866459,-0.089270018041134,-0.048872951418161,0.044242091476917,0.026679661124945,-0.024470837786794,0.051405079662800,-0.031368043273687,0.008555447682738,0.038962781429291,-0.073206610977650,-0.114318259060383,0.163575172424316,0.012744809500873,-0.157778844237328));
res += mul(Get(s0,0,-dy), float4x4(-0.012067227624357,-0.007687078788877,-0.003467201953754,0.199613481760025,0.029341824352741,0.059006266295910,-0.049094248563051,-0.050449483096600,-0.025337241590023,0.004727904219180,0.001958735520020,0.136483445763588,-0.002702614758164,-0.123162515461445,-0.040845070034266,0.041593007743359));
res += mul(Get(s0,0,0), float4x4(0.012546285986900,0.062477950006723,0.079966127872467,0.072933897376060,-0.051834445446730,-0.047251276671886,-0.051524154841900,-0.059274565428495,-0.077782087028027,-0.075416594743729,-0.034851979464293,0.016835439950228,0.010305336676538,-0.109752483665943,-0.047044351696968,0.100070022046566));
res += mul(Get(s0,0,dy), float4x4(-0.054472062736750,-0.062378626316786,0.014770257286727,-0.036130156368017,-0.035393524914980,-0.059543367475271,-0.038123358041048,0.016230709850788,0.067613154649734,-0.077008426189423,-0.003800214733928,-0.002443316159770,0.054442130029202,0.124679371714592,0.157996311783791,-0.275681078433990));
res += mul(Get(s0,dx,-dy), float4x4(-0.163162469863892,0.125451609492302,0.068745017051697,-0.028778646141291,0.078860454261303,0.062658086419106,-0.178074866533279,0.082946039736271,0.012617968954146,0.011085035279393,-0.048420734703541,0.165817454457283,0.054720453917980,-0.132745638489723,0.049544971436262,0.076580345630646));
res += mul(Get(s0,dx,0), float4x4(0.079982861876488,0.118067286908627,0.165647253394127,0.086461730301380,-0.058388881385326,0.071365103125572,-0.054174460470676,0.116684898734093,0.062511861324310,0.032207280397415,0.044663161039352,0.017784873023629,-0.137945100665092,-0.053270142525434,-0.097028240561485,0.012479555793107));
res += mul(Get(s0,dx,dy), float4x4(0.004000587854534,-0.011025624349713,-0.117469236254692,-0.038554243743420,-0.038202881813049,-0.047152947634459,-0.086561284959316,0.019484410062432,-0.074525482952595,-0.102964490652084,0.093747876584530,-0.005040178075433,-0.162890017032623,-0.121616795659065,0.076756663620472,0.058079916983843));
res += mul(Get(s1,-dx,-dy), float4x4(0.052325341850519,-0.090376868844032,0.058942113071680,0.021431289613247,0.021945986896753,0.077193103730679,0.048355367034674,-0.077069170773029,0.008861284703016,-0.043833483010530,0.035661850124598,-0.062084306031466,0.118226617574692,0.059299118816853,-0.034568533301353,0.112946569919586));
res += mul(Get(s1,-dx,0), float4x4(-0.062933780252934,0.075043730437756,-0.084766119718552,-0.032585922628641,-0.012037565000355,-0.078853592276573,-0.125171616673470,0.001019866554998,-0.167285248637199,0.114479951560497,0.109178908169270,-0.106683984398842,-0.037090282887220,-0.029011661186814,-0.022293137386441,-0.066091403365135));
res += mul(Get(s1,-dx,dy), float4x4(0.035333067178726,-0.026319539174438,0.072088040411472,0.002872381359339,-0.043493770062923,0.118573442101479,-0.010458094067872,0.059809036552906,-0.052816614508629,-0.024851318448782,0.002552031306550,0.268829286098480,-0.037248127162457,-0.042376767843962,0.133910477161407,0.060627013444901));
res += mul(Get(s1,0,-dy), float4x4(0.070817403495312,0.037838745862246,-0.141596853733063,-0.063215315341949,0.086223363876343,0.011274697259068,-0.100672937929630,0.052335888147354,-0.008463106118143,-0.095600679516792,0.122936747968197,0.066280633211136,0.134520605206490,0.213023856282234,0.006932476535439,-0.044817671179771));
res += mul(Get(s1,0,0), float4x4(-0.029896765947342,0.082241550087929,0.034248180687428,-0.304646998643875,0.203166082501411,-0.140624776482582,-0.002837004140019,0.022074732929468,0.159902796149254,0.129731833934784,-0.059458047151566,0.125236406922340,0.193428888916969,-0.037965729832649,-0.212131977081299,-0.145474791526794));
res += mul(Get(s1,0,dy), float4x4(-0.016977820545435,-0.106389194726944,0.153790548443794,-0.042963139712811,-0.110344022512436,-0.108685508370399,0.008474863134325,0.074523694813251,-0.006782482843846,0.001499637961388,0.163141071796417,0.110134527087212,0.014691354706883,-0.112097620964050,0.047273185104132,-0.188877373933792));
res += mul(Get(s1,dx,-dy), float4x4(0.028231352567673,0.076559565961361,-0.099940210580826,-0.054902594536543,-0.059247501194477,0.019429542124271,0.077801160514355,0.029358388856053,-0.166329294443130,-0.016399992629886,-0.000394406728446,-0.015424738638103,0.010829039849341,0.164484724402428,-0.007619723677635,0.059433020651340));
res += mul(Get(s1,dx,0), float4x4(0.066424407064915,0.091558009386063,-0.045479245483875,0.067333817481995,0.082218296825886,0.037570476531982,0.018441600725055,0.025489600375295,0.088395439088345,-0.008113290183246,-0.093368150293827,0.146466508507729,0.093632094562054,0.004693113267422,-0.022938510403037,-0.000846711918712));
res += mul(Get(s1,dx,dy), float4x4(0.008064528927207,-0.000462346302811,-0.082320772111416,-0.171491280198097,0.022281907498837,-0.089682854712009,-0.117282561957836,0.088550001382828,0.039886236190796,0.062739975750446,0.037593737244606,0.087132617831230,0.098817065358162,-0.109982840716839,-0.063696354627609,-0.228369683027267));
res += mul(Get(s2,-dx,-dy), float4x4(0.035575661808252,-0.135510414838791,0.053492993116379,-0.105771027505398,0.200894504785538,-0.084609568119049,-0.001761729596183,-0.059297207742929,-0.109582982957363,-0.041488982737064,-0.088187411427498,0.147051379084587,0.064176447689533,-0.030215999111533,-0.011366039514542,0.144188448786736));
res += mul(Get(s2,-dx,0), float4x4(-0.091886498034000,0.032891482114792,0.058884356170893,0.150451898574829,-0.010818140581250,-0.076981775462627,0.000564322457649,0.070242621004581,0.138996243476868,0.057980913668871,-0.012479803524911,-0.083638757467270,-0.085394904017448,0.077160231769085,0.164311796426773,-0.126308381557465));
res += mul(Get(s2,-dx,dy), float4x4(-0.035360410809517,0.023882066830993,-0.029947483912110,-0.046633943915367,0.181903466582298,-0.109462134540081,-0.045155812054873,-0.012073046527803,0.112658277153969,-0.063317678868771,-0.053609371185303,0.017242688685656,-0.076727695763111,0.111194476485252,-0.003367843572050,0.138328298926353));
res += mul(Get(s2,0,-dy), float4x4(0.057406324893236,0.018053673207760,-0.004102277103812,0.095772154629230,0.048580858856440,0.088056422770023,0.066256195306778,0.016170650720596,0.088225401937962,-0.006685849744827,0.052501268684864,0.114777907729149,0.098888330161572,0.030990468338132,0.129666388034821,0.111485898494720));
res += mul(Get(s2,0,0), float4x4(0.084116585552692,-0.181484326720238,-0.001482916297391,-0.058813422918320,-0.086898356676102,-0.050012838095427,-0.106428161263466,0.044184375554323,-0.125217169523239,-0.031829107552767,0.064835973083973,0.222675576806068,0.112562939524651,-0.045545797795057,-0.001293767127208,0.101403936743736));
res += mul(Get(s2,0,dy), float4x4(0.046258062124252,0.046432059258223,-0.007842500694096,0.090990699827671,0.009865021333098,-0.067848108708858,0.006374577060342,0.222029834985733,-0.028946695849299,-0.118360325694084,0.066911369562149,0.054875742644072,-0.134358450770378,0.132188230752945,-0.030193611979485,0.047469485551119));
res += mul(Get(s2,dx,-dy), float4x4(-0.034093827009201,0.038889504969120,0.067755632102489,-0.056383825838566,0.229806452989578,-0.180221766233444,-0.083701550960541,-0.107547529041767,0.086358830332756,-0.053650368005037,0.029652683064342,-0.025763198733330,0.006006965413690,0.056537326425314,-0.127915307879448,0.072409883141518));
res += mul(Get(s2,dx,0), float4x4(0.025128522887826,0.097889892756939,0.043764777481556,0.039744168519974,0.031270205974579,0.073657356202602,-0.032555826008320,-0.080899283289909,-0.170219153165817,0.034281622618437,0.048280466347933,-0.005126647185534,0.006795611698180,0.041720390319824,0.039869479835033,-0.144129350781441));
res += mul(Get(s2,dx,dy), float4x4(-0.113215133547783,0.023743893951178,-0.051199447363615,-0.098040208220482,-0.063863545656204,0.037463873624802,-0.056927479803562,0.062853090465069,-0.041927676647902,-0.025084571912885,0.027639007195830,0.006893174722791,-0.105736739933491,0.240639790892601,0.000655616109725,-0.051751069724560));
res += mul(Get(s3,-dx,-dy), float4x4(0.107043333351612,0.183424189686775,0.013729715719819,0.038277782499790,-0.083729542791843,-0.016749555245042,-0.122374966740608,-0.162720590829849,-0.045075152069330,0.141715928912163,-0.001642196322791,-0.034725356847048,0.068403869867325,-0.015915160998702,0.037776630371809,0.057697206735611));
res += mul(Get(s3,-dx,0), float4x4(0.014813044108450,0.096313826739788,-0.115701340138912,0.051363471895456,-0.114053137600422,-0.088971681892872,-0.032804161310196,-0.002742578741163,-0.033710632473230,0.093957401812077,-0.054957143962383,0.021011704578996,0.119216457009315,-0.007598840165883,-0.103774793446064,0.013741648755968));
res += mul(Get(s3,-dx,dy), float4x4(0.102646492421627,-0.109678812325001,0.079621575772762,-0.145325377583504,0.013579037040472,-0.052790250629187,0.092487476766109,0.166190952062607,0.091927215456963,-0.098986312747002,-0.002410396002233,0.045317981392145,0.101578816771507,-0.029787639155984,-0.084511429071426,-0.005315286107361));
res += mul(Get(s3,0,-dy), float4x4(-0.126751556992531,0.021500991657376,0.058634009212255,0.092795290052891,0.053676281124353,-0.027799606323242,0.183304876089096,0.032829698175192,-0.055067285895348,0.055181276053190,0.053437937051058,-0.082078285515308,-0.064316719770432,-0.140909671783447,-0.055930778384209,0.077972613275051));
res += mul(Get(s3,0,0), float4x4(-0.050211980938911,0.066286876797676,0.021547637879848,-0.019863774999976,0.042810972779989,-0.040396519005299,0.022864252328873,0.132217869162560,-0.050171647220850,0.056558430194855,0.074664853513241,0.017144685611129,-0.256189048290253,-0.065447039902210,-0.036594871431589,-0.064125671982765));
res += mul(Get(s3,0,dy), float4x4(0.063376896083355,0.071950182318687,-0.048566494137049,-0.146374210715294,-0.103396102786064,0.079821281135082,0.042063921689987,-0.042657468467951,0.007108909077942,-0.046322491019964,-0.110406018793583,-0.050637971609831,0.081386618316174,-0.039520785212517,0.079499408602715,0.168686032295227));
res += mul(Get(s3,dx,-dy), float4x4(0.097898006439209,-0.019866965711117,0.052348960191011,0.146560877561569,0.086492069065571,-0.008094456046820,0.021690536290407,0.071165204048157,0.039349120110273,-0.094958089292049,-0.042544271796942,0.085379078984261,-0.029203735291958,-0.049999911338091,0.016595352441072,0.145929723978043));
res += mul(Get(s3,dx,0), float4x4(-0.079409688711166,0.197193264961243,0.001007448066957,-0.003665454685688,0.062555521726608,-0.009459446184337,-0.108849480748177,-0.047191791236401,-0.000739057548344,-0.023066313937306,-0.026556590572000,0.001653164392337,0.158331528306007,-0.132998436689377,-0.037336077541113,0.234681278467178));
res += mul(Get(s3,dx,dy), float4x4(0.032670188695192,-0.078392401337624,0.102098949253559,0.097971230745316,0.031473901122808,-0.003502915380523,-0.071256324648857,0.028746327385306,0.124512776732445,-0.019189847633243,0.097318381071091,0.010771198198199,0.028543444350362,-0.025598775595427,0.058944541960955,-0.108301073312759));
return max(float4(0,0,0,0), res);
}
