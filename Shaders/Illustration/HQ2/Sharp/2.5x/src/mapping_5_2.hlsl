sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.057620182633400,-0.232423797249794,0.120243124663830,0.008203979581594,0.110747195780277,-0.101261012256145,0.080599360167980,0.052003085613251,0.042882885783911,-0.022949216887355,0.124715104699135,0.012592283077538,0.077813610434532,-0.055452466011047,-0.028831455856562,-0.057782668620348));
res += mul(Get(s0,-dx,0), float4x4(-0.123630173504353,0.164997011423111,-0.191280722618103,-0.126155287027359,-0.108771950006485,0.149098068475723,-0.048830918967724,0.083263427019119,0.060196500271559,0.073867715895176,0.038570351898670,0.032551407814026,0.122891210019588,-0.177406832575798,-0.184972211718559,0.052729070186615));
res += mul(Get(s0,-dx,dy), float4x4(-0.036129500716925,-0.064558632671833,-0.051943346858025,0.057237274944782,-0.030261937528849,-0.027238832786679,-0.030293524265289,-0.014822937548161,-0.008175509050488,0.140801191329956,-0.031647983938456,0.059898596256971,0.074624978005886,-0.084752678871155,0.034455891698599,0.024016011506319));
res += mul(Get(s0,0,-dy), float4x4(0.163124769926071,-0.058576345443726,0.005194790195674,0.073485635221004,-0.057576920837164,-0.070180229842663,-0.053486429154873,-0.045471802353859,-0.002503540832549,-0.015414227731526,-0.037198651582003,-0.047158371657133,0.062297713011503,0.023098772391677,0.056793522089720,0.002737556351349));
res += mul(Get(s0,0,0), float4x4(-0.009263803251088,0.095150999724865,0.009226661175489,0.009592935442924,-0.058875970542431,-0.122770071029663,-0.015684230253100,0.154748171567917,-0.083326295018196,-0.074990957975388,0.036627817898989,-0.021336056292057,0.106531284749508,0.116817526519299,-0.000046901172027,0.026233604177833));
res += mul(Get(s0,0,dy), float4x4(0.063628457486629,-0.035145606845617,0.056755781173706,-0.038695018738508,-0.024596855044365,-0.029335301369429,-0.086437709629536,0.153133794665337,0.031398247927427,0.028134796768427,0.084397032856941,-0.031846795231104,0.184927657246590,0.106986068189144,-0.157858952879906,0.153403386473656));
res += mul(Get(s0,dx,-dy), float4x4(0.054130755364895,-0.097012721002102,-0.000713016721420,-0.067776858806610,0.018695728853345,0.140192583203316,0.107837766408920,0.213528379797935,0.165959656238556,-0.104651197791100,0.068110287189484,-0.180691212415695,0.113892845809460,-0.144626855850220,-0.185821190476418,-0.047921098768711));
res += mul(Get(s0,dx,0), float4x4(0.084590621292591,0.056005939841270,-0.157898694276810,-0.159319400787354,0.035809665918350,0.056853465735912,-0.112267479300499,-0.087423555552959,0.096998117864132,0.079205267131329,0.161427333950996,-0.077140420675278,0.126455739140511,-0.024062717333436,0.172634899616241,0.209947973489761));
res += mul(Get(s0,dx,dy), float4x4(-0.020542712882161,-0.023952772840858,0.058829165995121,-0.013368614017963,-0.071650378406048,-0.092732124030590,-0.037085659801960,-0.119763843715191,-0.000829203752801,-0.086175128817558,-0.087670296430588,0.003494743024930,0.113211795687675,0.002662331098691,-0.112662062048912,0.137082710862160));
res += mul(Get(s1,-dx,-dy), float4x4(0.076334901154041,0.014414032921195,0.036956109106541,0.099930331110954,0.112131603062153,-0.033077720552683,-0.015435107983649,-0.177599892020226,0.022925673052669,0.072737082839012,-0.029888937249780,0.083658657968044,0.007100224960595,0.030993139371276,0.014755497686565,-0.134237542748451));
res += mul(Get(s1,-dx,0), float4x4(-0.044012587517500,0.025340681895614,-0.051737129688263,-0.194672614336014,-0.095246747136116,-0.104986853897572,0.003020076546818,-0.076773412525654,0.042593941092491,0.154030039906502,0.117374382913113,-0.009765429422259,-0.158443391323090,0.161093115806580,0.138826385140419,-0.054137468338013));
res += mul(Get(s1,-dx,dy), float4x4(0.092952281236649,0.023963123559952,-0.008508354425430,-0.073212176561356,-0.032365858554840,0.060656551271677,0.005029503721744,-0.031122094020247,-0.059859976172447,0.113403625786304,-0.072828426957130,0.097886458039284,-0.000532598351128,0.081041879951954,0.125110238790512,-0.024437673389912));
res += mul(Get(s1,0,-dy), float4x4(-0.074260145425797,-0.024875042960048,-0.080530688166618,-0.132121101021767,0.102574355900288,-0.099674798548222,-0.226539999246597,0.050018016248941,0.045167405158281,0.149840369820595,-0.133456721901894,-0.037442691624165,-0.074405118823051,0.021778861060739,0.012068565934896,0.121316909790039));
res += mul(Get(s1,0,0), float4x4(-0.130923390388489,-0.004718384705484,0.020027514547110,0.005114581901580,0.039549205452204,-0.151247471570969,-0.080463513731956,-0.003489709692076,-0.015025994740427,-0.047183901071548,0.025376150384545,0.087929852306843,0.228668481111526,0.085749275982380,0.071355111896992,-0.093224525451660));
res += mul(Get(s1,0,dy), float4x4(-0.004073521122336,-0.042597290128469,-0.022524710744619,-0.113344803452492,0.083981275558472,-0.108822084963322,-0.033074721693993,-0.044255364686251,0.118660584092140,0.096698760986328,0.074564784765244,-0.127849683165550,0.020417418330908,-0.046861983835697,0.107000850141048,0.092186674475670));
res += mul(Get(s1,dx,-dy), float4x4(0.034269552677870,-0.055054027587175,-0.116263210773468,-0.051365092396736,0.022413434460759,0.057412993162870,0.041549235582352,0.010993938893080,0.117724575102329,-0.021322263404727,0.085117235779762,-0.004324760288000,0.029959473758936,-0.119418926537037,0.138036549091339,-0.025287879630923));
res += mul(Get(s1,dx,0), float4x4(-0.114327333867550,0.098396882414818,-0.047488257288933,0.121442474424839,0.184471487998962,0.194674506783485,0.052440293133259,-0.112464331090450,0.167154148221016,-0.129989087581635,0.040613140910864,0.044586457312107,0.038268834352493,-0.065472744405270,-0.007684235926718,-0.057198826223612));
res += mul(Get(s1,dx,dy), float4x4(0.101496696472168,-0.086495578289032,-0.008078746497631,-0.125706657767296,-0.090668000280857,-0.033640030771494,0.046916808933020,0.018490469083190,0.125179782509804,-0.027783008292317,0.063129164278507,-0.100576579570770,-0.006431701593101,-0.107830271124840,0.117937795817852,-0.032778345048428));
res += mul(Get(s2,-dx,-dy), float4x4(-0.175888642668724,0.089770980179310,0.095628097653389,0.188436225056648,-0.130295485258102,-0.033265545964241,0.016756372526288,-0.044531270861626,-0.080298997461796,-0.056673947721720,-0.015031810849905,0.020469130948186,0.025244155898690,0.056821793317795,0.041977636516094,-0.026626091450453));
res += mul(Get(s2,-dx,0), float4x4(0.186299487948418,-0.011863811872900,0.079381875693798,-0.059650238603354,-0.049944743514061,0.037923973053694,0.039656914770603,0.190485075116158,-0.049765981733799,-0.086105942726135,-0.123918361961842,-0.089563138782978,-0.131579846143723,0.105565674602985,0.020854653790593,0.209136247634888));
res += mul(Get(s2,-dx,dy), float4x4(0.016028331592679,-0.106389679014683,0.107322722673416,0.132591590285301,-0.070137210190296,0.009727034717798,-0.001710480544716,0.007258175406605,0.010272452607751,0.106383457779884,0.019339168444276,0.104607641696930,-0.126443922519684,0.075370065867901,-0.052153676748276,0.067450016736984));
res += mul(Get(s2,0,-dy), float4x4(-0.069546483457088,-0.015862118452787,-0.010935044847429,0.002903595799580,0.014405085705221,-0.045400008559227,-0.078151345252991,0.068854033946991,0.080648064613342,0.012042270973325,0.095116265118122,-0.011651265434921,0.086774788796902,-0.105944804847240,0.008996897377074,0.041368369013071));
res += mul(Get(s2,0,0), float4x4(-0.007277894299477,-0.073851704597473,0.049680076539516,-0.049545209854841,0.028495935723186,0.090653888881207,0.043603841215372,0.088519014418125,0.050985593348742,0.026998134329915,-0.001492532901466,0.074530728161335,0.000834646052681,-0.025069113820791,0.095160901546478,0.039493691176176));
res += mul(Get(s2,0,dy), float4x4(0.152431562542915,-0.028032362461090,0.096462503075600,0.059379991143942,0.001958893379197,-0.129022479057312,0.082174748182297,-0.088467769324780,0.044080298393965,0.019114630296826,-0.055259365588427,-0.000204032636248,-0.008649147115648,-0.146880358457565,-0.006392065435648,0.204351767897606));
res += mul(Get(s2,dx,-dy), float4x4(0.022437645122409,0.130140125751495,-0.038312707096338,0.007481835782528,0.067141890525818,0.232281565666199,0.024449087679386,0.125475093722343,-0.034713737666607,0.065597325563431,0.056104008108377,0.017426935955882,0.044628053903580,0.056406762450933,0.062835410237312,0.032838404178619));
res += mul(Get(s2,dx,0), float4x4(0.028827629983425,0.135926425457001,-0.117937579751015,-0.010131683200598,-0.023736841976643,-0.033786222338676,-0.021421974524856,0.081822797656059,-0.020156310871243,0.162699103355408,0.105951480567455,-0.050171356648207,-0.008408701978624,0.177369609475136,-0.006990592926741,0.049205847084522));
res += mul(Get(s2,dx,dy), float4x4(-0.034365549683571,-0.066811122000217,0.058764014393091,0.040421754121780,0.030030088499188,0.036267723888159,-0.005435153376311,-0.075602725148201,0.053734596818686,0.065545283257961,0.045589152723551,-0.047065056860447,0.032576225697994,0.149682402610779,0.050068806856871,-0.064495109021664));
res += mul(Get(s3,-dx,-dy), float4x4(0.047646202147007,0.083656147122383,-0.056560523808002,-0.003057108260691,-0.013337680138648,0.092506125569344,0.166415765881538,0.061591256409883,0.043667972087860,0.074228845536709,-0.023287702351809,-0.025092465803027,0.015953883528709,0.040515016764402,-0.074850320816040,-0.036883760243654));
res += mul(Get(s3,-dx,0), float4x4(-0.143533185124397,-0.084921531379223,-0.109467826783657,-0.095409281551838,0.019536996260285,0.042201492935419,0.077041812241077,0.061342179775238,-0.208512410521507,0.109066657721996,0.095051743090153,-0.105969615280628,0.105423808097839,-0.079236023128033,0.063311152160168,0.050319734960794));
res += mul(Get(s3,-dx,dy), float4x4(0.004806874785572,-0.066724076867104,-0.218367114663124,0.047795414924622,0.093942314386368,-0.151535674929619,-0.019893730059266,-0.024700099602342,-0.012449985370040,-0.065120272338390,0.091965630650520,-0.128257140517235,0.050191089510918,-0.038344100117683,-0.011955664493144,-0.092604741454124));
res += mul(Get(s3,0,-dy), float4x4(0.001484333188273,0.016747703775764,0.066158704459667,-0.061440948396921,0.037237100303173,-0.078217111527920,-0.041964452713728,0.174250423908234,0.034514740109444,0.040147051215172,0.031468238681555,-0.185474738478661,-0.123123958706856,-0.067954406142235,0.033814501017332,0.038964122533798));
res += mul(Get(s3,0,0), float4x4(0.034017346799374,-0.012258504517376,0.030304828658700,0.123090215027332,0.021195335313678,-0.068983890116215,-0.033015601336956,0.037237882614136,-0.147713482379913,0.154062479734421,-0.119703806936741,0.125074878334999,0.075884833931923,-0.042802508920431,0.038040377199650,-0.128881946206093));
res += mul(Get(s3,0,dy), float4x4(0.033571951091290,0.078659474849701,0.067784480750561,0.087873816490173,-0.130959883332253,-0.118402339518070,0.026297975331545,0.038285762071609,0.078963838517666,-0.052034065127373,0.022141568362713,-0.204465299844742,0.085729196667671,-0.024775497615337,0.075757212936878,-0.028004972264171));
res += mul(Get(s3,dx,-dy), float4x4(-0.111857771873474,0.118963107466698,0.051756653934717,-0.006116745993495,-0.004436661489308,-0.018324568867683,0.018304528668523,-0.010402193292975,0.016653718426824,0.072238489985466,0.079112716019154,0.197516158223152,0.030206337571144,-0.077101133763790,0.076316989958286,0.101152591407299));
res += mul(Get(s3,dx,0), float4x4(0.010325893759727,-0.023439027369022,-0.161578714847565,-0.032295819371939,0.089046113193035,0.014095271006227,-0.077994361519814,0.058630302548409,0.091297335922718,0.120257407426834,-0.012400790117681,0.054261531680822,0.006042909808457,-0.054369729012251,0.042759846895933,-0.004642128478736));
res += mul(Get(s3,dx,dy), float4x4(-0.086404345929623,-0.006839616689831,0.010788064450026,-0.124719820916653,-0.197370305657387,0.128602728247643,-0.037710171192884,-0.078904286026955,0.058076418936253,-0.088377654552460,-0.117227792739868,-0.207997590303421,0.032684884965420,0.046616006642580,0.049540054053068,0.073963500559330));
return max(float4(0,0,0,0), res);
}
