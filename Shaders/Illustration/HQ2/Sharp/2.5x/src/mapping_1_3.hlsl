sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.144836872816086,0.110426366329193,-0.073928296566010,-0.088863596320152,-0.012361761182547,-0.019688973203301,-0.159217908978462,-0.010293894447386,0.101467266678810,0.020559104159474,0.067626520991325,-0.150042980909348,-0.076981835067272,-0.106496036052704,0.107380233705044,-0.014866738580167));
res += mul(Get(s0,-dx,0), float4x4(0.099324055016041,0.053327087312937,0.029306553304195,-0.050989761948586,-0.079560227692127,-0.085997544229031,-0.040509320795536,-0.011417352594435,0.059565007686615,0.086467899382114,-0.084461539983749,-0.005732025951147,-0.035758271813393,-0.069387316703796,0.031510379165411,0.114073805510998));
res += mul(Get(s0,-dx,dy), float4x4(-0.057472385466099,-0.093341477215290,0.150919765233994,0.060183040797710,-0.044748090207577,-0.110666386783123,-0.020470269024372,0.118715956807137,-0.157768756151199,0.015964241698384,-0.008232331834733,-0.103122062981129,0.011568031273782,-0.029611632227898,0.001482052612118,-0.017838867381215));
res += mul(Get(s0,0,-dy), float4x4(-0.200011447072029,0.280913233757019,-0.088361427187920,0.003965323325247,0.196165204048157,-0.002810725010931,-0.064793847501278,0.009299033321440,0.029519820585847,-0.002081043552607,0.029357414692640,-0.062308229506016,0.017161533236504,-0.117787413299084,-0.114250123500824,-0.022956585511565));
res += mul(Get(s0,0,0), float4x4(0.033934853971004,0.036571845412254,-0.095256395637989,0.076366752386093,-0.067275509238243,0.229081302881241,-0.027669591829181,-0.042030248790979,0.013222519308329,-0.010031007230282,-0.056501451879740,0.028242304921150,-0.021100973710418,-0.001879174495116,0.048548262566328,-0.102700419723988));
res += mul(Get(s0,0,dy), float4x4(0.014585900120437,-0.040167585015297,-0.053042009472847,-0.017904696986079,0.045450594276190,-0.036227770149708,-0.103023692965508,-0.017735214903951,-0.072730146348476,-0.098327711224556,0.010190308094025,-0.120489448308945,-0.015196749940515,0.033485148102045,-0.119287677109241,0.155328035354614));
res += mul(Get(s0,dx,-dy), float4x4(-0.033673170953989,-0.093859575688839,0.039483398199081,0.222859278321266,0.001499503734522,-0.079091705381870,0.050716359168291,0.060993105173111,0.009886208921671,-0.006757129449397,0.033783379942179,-0.097865417599678,0.003426488954574,-0.094519212841988,0.156071111559868,-0.024470172822475));
res += mul(Get(s0,dx,0), float4x4(0.151913926005363,0.021092358976603,-0.028838211670518,-0.176515817642212,-0.079976297914982,0.017256202176213,-0.205236092209816,-0.088123396039009,0.012081145308912,-0.082313954830170,-0.095577374100685,-0.149916648864746,0.044880792498589,0.109441839158535,0.051651936024427,0.126955091953278));
res += mul(Get(s0,dx,dy), float4x4(0.056679118424654,0.008015756495297,-0.093922488391399,-0.054354563355446,0.074623286724091,-0.009484861977398,0.021921336650848,0.015230813063681,0.065198525786400,-0.010237657465041,0.087232559919357,-0.224950686097145,0.125532552599907,-0.155461743474007,0.025981195271015,0.035513140261173));
res += mul(Get(s1,-dx,-dy), float4x4(0.056953135877848,-0.039308842271566,-0.038239460438490,-0.026519294828176,-0.067509405314922,0.194876685738564,0.094292022287846,0.034490499645472,0.003564740065485,-0.113594472408295,0.006264523137361,-0.144675642251968,0.083926625549793,-0.044487245380878,-0.044499974697828,-0.166199594736099));
res += mul(Get(s1,-dx,0), float4x4(-0.028387140482664,-0.149837359786034,-0.213731721043587,0.106210082769394,0.003533249720931,0.217628076672554,-0.025344178080559,0.079204745590687,-0.010229604318738,-0.179028436541557,0.078431002795696,-0.123070321977139,-0.011179662309587,0.091733217239380,0.007643340621144,-0.042190276086330));
res += mul(Get(s1,-dx,dy), float4x4(0.060157965868711,-0.046093773096800,-0.117489472031593,0.097768858075142,-0.089452087879181,-0.040966343134642,0.185774326324463,-0.025132602080703,0.002871456090361,0.204775094985962,0.103483475744724,-0.023938355967402,-0.144943758845329,-0.008088997565210,0.169192105531693,0.109772756695747));
res += mul(Get(s1,0,-dy), float4x4(-0.027315890416503,-0.129902377724648,0.037717524915934,-0.011007659137249,-0.053679522126913,0.001855730079114,-0.122812412679195,0.067107960581779,-0.131129756569862,0.033298615366220,0.071953609585762,-0.161878004670143,-0.101750291883945,0.009617479518056,0.080222122371197,-0.017486803233624));
res += mul(Get(s1,0,0), float4x4(-0.179627269506454,-0.055099688470364,0.238076373934746,0.125261321663857,0.093646183609962,-0.051271315664053,-0.042507309466600,0.102975361049175,0.065207548439503,0.021123016253114,-0.049160245805979,0.220618575811386,-0.005846369545907,-0.075002945959568,-0.039572816342115,-0.006168780382723));
res += mul(Get(s1,0,dy), float4x4(-0.231131911277771,-0.073571927845478,0.072499282658100,0.174230501055717,0.100601941347122,-0.001891756663099,-0.000362929305993,0.016639498993754,0.106356114149094,0.085120379924774,-0.003779221558943,0.070419803261757,-0.033456824719906,-0.018629377707839,-0.058795943856239,-0.097836308181286));
res += mul(Get(s1,dx,-dy), float4x4(-0.168772995471954,-0.119242981076241,0.031019663438201,-0.006436695344746,0.211244106292725,-0.069414652884007,-0.191669523715973,0.015019913204014,-0.023417547345161,-0.115688189864159,0.034082219004631,-0.208326727151871,-0.082684494554996,0.013747806660831,0.142848998308182,-0.055764693766832));
res += mul(Get(s1,dx,0), float4x4(-0.037535507231951,-0.201869010925293,-0.050544280558825,-0.025626277551055,-0.005786842200905,-0.162286549806595,0.055501062422991,-0.123046919703484,0.123965136706829,0.066095344722271,-0.127107769250870,-0.115293703973293,0.058961976319551,0.109538689255714,0.256437301635742,-0.133364200592041));
res += mul(Get(s1,dx,dy), float4x4(-0.071026012301445,0.057433273643255,0.013961259275675,0.037701290100813,-0.016778318211436,-0.004289580043405,0.007804021704942,-0.115262307226658,0.089140288531780,0.044861577451229,-0.098920881748199,-0.013078085146844,0.142186641693115,-0.052504766732454,0.015328980982304,0.034996613860130));
res += mul(Get(s2,-dx,-dy), float4x4(0.084019362926483,-0.060656230896711,-0.045798521488905,-0.043547134846449,-0.054604105651379,-0.101449966430664,-0.048724908381701,-0.040315378457308,0.001711896504276,-0.188113316893578,0.026085693389177,-0.044460233300924,0.001049803453498,0.089548192918301,-0.009702211245894,0.052985806018114));
res += mul(Get(s2,-dx,0), float4x4(-0.143627613782883,0.063581071794033,-0.139837294816971,0.074763774871826,0.037348169833422,-0.018646134063601,-0.009782630950212,-0.026389228180051,-0.151537016034126,0.022369362413883,-0.166202247142792,-0.088528767228127,-0.068263307213783,-0.083990946412086,-0.036095399409533,-0.096522331237793));
res += mul(Get(s2,-dx,dy), float4x4(-0.003316358663142,0.095601692795753,0.090584442019463,0.112102009356022,-0.107236236333847,0.019100772216916,-0.035566210746765,0.040918897837400,0.021495928987861,-0.066666103899479,-0.190789818763733,0.028050014749169,-0.000975151080638,-0.033942423760891,0.129236608743668,-0.030951937660575));
res += mul(Get(s2,0,-dy), float4x4(-0.056086070835590,0.076690226793289,0.028019463643432,0.104972884058952,0.080519147217274,-0.019134946167469,0.097370140254498,0.081182345747948,0.055709201842546,-0.135156795382500,-0.020944010466337,0.030865419656038,-0.038774248212576,-0.066785514354706,-0.079133771359921,0.099350027740002));
res += mul(Get(s2,0,0), float4x4(0.013346308842301,0.023273352533579,0.112657010555267,-0.006244689226151,0.090036474168301,-0.002574607264251,0.045566745102406,-0.152179777622223,-0.101209804415703,-0.057749647647142,0.053968206048012,-0.029949426651001,-0.202925235033035,0.052355866879225,0.012676999904215,0.004500508308411));
res += mul(Get(s2,0,dy), float4x4(0.071036227047443,-0.066781051456928,-0.091070204973221,-0.056542225182056,-0.048593003302813,-0.051853079348803,-0.087385259568691,-0.014174555428326,0.143986269831657,-0.005148831754923,0.006157028023154,0.078579567372799,-0.144318819046021,0.041042845696211,0.040275044739246,-0.047126807272434));
res += mul(Get(s2,dx,-dy), float4x4(0.043006893247366,0.014170676469803,0.017846517264843,-0.121664151549339,0.155274987220764,-0.023485835641623,-0.064317390322685,0.013084454461932,0.058964326977730,0.211321309208870,-0.154445812106133,-0.155260249972343,0.053659249097109,-0.006695852149278,0.076640002429485,-0.083342626690865));
res += mul(Get(s2,dx,0), float4x4(-0.006658434402198,-0.006629034411162,-0.069064483046532,0.009757810272276,0.087588079273701,-0.022812740877271,-0.095830604434013,-0.028812475502491,0.019563032314181,0.268808484077454,-0.155225440859795,-0.108597517013550,-0.093029245734215,-0.021629009395838,-0.085350424051285,-0.023715198040009));
res += mul(Get(s2,dx,dy), float4x4(-0.034432679414749,0.144169896841049,0.120986007153988,0.089117221534252,0.013445908203721,0.010132896713912,0.063178531825542,0.054800219833851,0.079871214926243,0.098441667854786,0.088966108858585,-0.302251547574997,0.216497883200645,-0.087407067418098,0.034012094140053,0.056499194353819));
res += mul(Get(s3,-dx,-dy), float4x4(-0.197671934962273,-0.026604820042849,0.270756244659424,-0.148951515555382,-0.152237847447395,-0.151922225952148,0.050109244883060,0.076232418417931,0.003304788144305,-0.101994685828686,-0.109623916447163,0.016891963779926,-0.094029612839222,0.051607239991426,0.021007452160120,-0.080490961670876));
res += mul(Get(s3,-dx,0), float4x4(-0.006023831665516,0.134092450141907,-0.147666633129120,-0.005337395239621,-0.015999130904675,-0.073231242597103,-0.050824448466301,0.052106689661741,-0.044447649270296,0.113227099180222,0.024109615013003,0.098302468657494,-0.170549035072327,0.066306777298450,-0.075616471469402,-0.012714700773358));
res += mul(Get(s3,-dx,dy), float4x4(0.024605806916952,0.065701164305210,0.037188515067101,0.073032163083553,0.097539387643337,0.030789257958531,0.201640099287033,0.067887172102928,0.017624910920858,0.163039028644562,0.152939766645432,0.148317679762840,0.002364607295021,0.064916141331196,-0.000704779464286,0.026268264278769));
res += mul(Get(s3,0,-dy), float4x4(-0.051687773317099,-0.023842828348279,-0.019583264365792,-0.139794111251831,0.074492521584034,0.084440253674984,0.040338907390833,-0.122683517634869,-0.197432607412338,-0.046776689589024,-0.117075577378273,-0.111707128584385,0.025797385722399,0.062312532216311,0.008890612982213,0.311192601919174));
res += mul(Get(s3,0,0), float4x4(0.012142413295805,0.071554325520992,-0.081787027418613,0.065789677202702,0.026322880759835,-0.037149697542191,-0.022340336814523,0.052124153822660,0.124561466276646,0.119766630232334,-0.023016700521111,0.062870033085346,0.098111398518085,-0.031416576355696,0.091580234467983,0.118023283779621));
res += mul(Get(s3,0,dy), float4x4(-0.060451429337263,0.049083784222603,-0.085401080548763,0.062220860272646,0.069758214056492,0.004616475198418,0.057352975010872,-0.059253033250570,0.045524042099714,0.093548014760017,0.098761454224586,-0.001838967669755,-0.097178928554058,0.037824880331755,0.064929276704788,0.225964263081551));
res += mul(Get(s3,dx,-dy), float4x4(0.137584477663040,-0.200978428125381,0.047614675015211,-0.087176561355591,-0.189396679401398,-0.064954318106174,-0.000417269911850,-0.055274680256844,0.182816848158836,-0.151438295841217,-0.189246430993080,0.089647710323334,0.076474234461784,-0.222591549158096,-0.034310717135668,0.040582999587059));
res += mul(Get(s3,dx,0), float4x4(0.001827074680477,0.036507301032543,0.221304073929787,-0.147669985890388,0.080804221332073,-0.205383703112602,0.108788043260574,-0.153232008218765,0.100294403731823,-0.002482317155227,0.061857927590609,0.108672104775906,-0.002100280253217,-0.114008970558643,0.159197986125946,0.020227722823620));
res += mul(Get(s3,dx,dy), float4x4(-0.100476473569870,-0.065533839166164,-0.077441386878490,0.042353797703981,-0.124773055315018,-0.003595095360652,-0.018064837902784,0.106910169124603,-0.026021387428045,0.025308210402727,0.074875034391880,0.080282784998417,-0.071061715483665,0.116343490779400,-0.004896884318441,0.059007540345192));
return max(float4(0,0,0,0), res);
}
