sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.015638807788491,-0.141489312052727,-0.010248715057969,0.030898306518793,0.089407160878181,-0.004367153160274,0.093091800808907,0.130817160010338,0.191533029079437,-0.080294504761696,-0.099419042468071,-0.049245793372393,0.004852702375501,0.000832610297948,0.206240355968475,0.002793178195134));
res += mul(Get(s0,-dx,0), float4x4(-0.015421298332512,0.015175024978817,-0.084482640028000,0.004871364217252,-0.098700977861881,-0.098724901676178,0.040947351604700,0.007040840107948,0.073957607150078,-0.044897899031639,-0.006637019570917,-0.056220263242722,-0.116291843354702,0.047121316194534,0.094447746872902,0.113669641315937));
res += mul(Get(s0,-dx,dy), float4x4(-0.049715619534254,-0.089931651949883,0.053972020745277,0.175431400537491,-0.109740778803825,0.121509835124016,-0.045717865228653,0.114418208599091,-0.015674695372581,-0.110792502760887,0.018164094537497,0.054932802915573,-0.146754398941994,-0.028166690841317,0.054208364337683,0.126564159989357));
res += mul(Get(s0,0,-dy), float4x4(0.047282308340073,0.017298793420196,0.086252838373184,-0.018447974696755,0.083431951701641,-0.032261207699776,-0.093361161649227,0.127988561987877,0.032660078257322,0.091686517000198,-0.023218600079417,-0.094603776931763,0.090254083275795,-0.148899763822556,-0.001624085940421,-0.023373976349831));
res += mul(Get(s0,0,0), float4x4(-0.079156026244164,-0.057158138602972,0.059771455824375,-0.029847532510757,0.158673599362373,0.078278280794621,-0.095805555582047,-0.060909777879715,-0.115220151841640,0.122580341994762,-0.160891592502594,-0.111444525420666,0.011776762083173,0.003056136891246,-0.013607590459287,0.182401031255722));
res += mul(Get(s0,0,dy), float4x4(0.033759023994207,-0.076290264725685,0.034626141190529,-0.003314989618957,-0.046676743775606,0.031388569623232,-0.087813399732113,0.060014504939318,-0.075859941542149,0.107782959938049,-0.142788857221603,0.170404523611069,0.245201364159584,-0.014099799096584,0.179579749703407,-0.177618771791458));
res += mul(Get(s0,dx,-dy), float4x4(-0.024838134646416,0.142345532774925,-0.062533706426620,-0.016149358823895,0.024036813527346,0.074350938200951,-0.033896993845701,-0.084026530385017,0.164388775825500,-0.179800793528557,0.031912844628096,0.051403842866421,-0.005619819741696,0.233566120266914,-0.080702275037766,-0.132489114999771));
res += mul(Get(s0,dx,0), float4x4(0.038376469165087,0.015955217182636,-0.144058167934418,0.005275882780552,-0.099027782678604,-0.076425984501839,-0.045565038919449,-0.060216378420591,0.000888052687515,-0.107442460954189,-0.029099423438311,0.089187815785408,0.049200642853975,-0.091915123164654,0.070599503815174,-0.056420542299747));
res += mul(Get(s0,dx,dy), float4x4(-0.122186064720154,0.024114130064845,-0.043691396713257,-0.157044380903244,-0.147609502077103,-0.150403544306755,-0.084719531238079,-0.011946518905461,0.075977332890034,0.201898649334908,-0.092050693929195,0.063683055341244,0.022237110882998,-0.023442840203643,0.044561114162207,-0.061780788004398));
res += mul(Get(s1,-dx,-dy), float4x4(-0.060277275741100,-0.073551483452320,0.050846662372351,0.037071943283081,-0.133031100034714,-0.132839232683182,0.089369669556618,-0.094486035406590,-0.079512096941471,-0.056566316634417,0.039682190865278,-0.135276138782501,-0.126608490943909,0.087742306292057,-0.030047927051783,0.036311291158199));
res += mul(Get(s1,-dx,0), float4x4(-0.073954828083515,0.189066797494888,-0.007530246861279,0.053936310112476,-0.050611816346645,-0.034451421350241,0.002786527853459,0.033600889146328,0.230188682675362,0.187232375144958,0.017378672957420,0.189585611224174,0.018532475456595,0.019779933616519,-0.008238864131272,0.010540320537984));
res += mul(Get(s1,-dx,dy), float4x4(-0.088166497647762,0.069181196391582,0.153314813971519,-0.073132686316967,0.046912577003241,-0.066300295293331,0.139188289642334,0.147900775074959,0.037321921437979,-0.002990558277816,0.053018078207970,0.081283003091812,-0.010623289272189,0.030162313953042,-0.154434442520142,0.022503307089210));
res += mul(Get(s1,0,-dy), float4x4(0.082710184156895,-0.096414580941200,0.089432053267956,0.081603959202766,-0.075889110565186,-0.100402735173702,-0.095766238868237,-0.080438904464245,0.028188252821565,-0.078424535691738,0.106894344091415,0.031888674944639,0.073340028524399,0.034317441284657,-0.069842502474785,-0.006950075738132));
res += mul(Get(s1,0,0), float4x4(-0.047985121607780,0.038790982216597,-0.137126639485359,0.054416827857494,-0.062408231198788,-0.108835026621819,-0.052351929247379,-0.089704155921936,0.044978968799114,0.071719229221344,0.056757438927889,-0.008974358439445,-0.050788365304470,0.027100695297122,0.078485898673534,0.021942622959614));
res += mul(Get(s1,0,dy), float4x4(-0.087163642048836,-0.112975589931011,0.023877877742052,-0.144809126853943,0.170715838670731,0.001189824892208,-0.030990164726973,0.011246100068092,0.125272020697594,-0.121436230838299,-0.148810520768166,-0.154660433530807,0.036885887384415,-0.071128048002720,-0.095774494111538,-0.099215619266033));
res += mul(Get(s1,dx,-dy), float4x4(-0.013639062643051,-0.020104162395000,0.050462387502193,0.043419249355793,0.098896749317646,0.064585514366627,0.019258044660091,0.003041600342840,-0.058587070554495,0.021004363894463,-0.074101299047470,0.132556974887848,0.065220639109612,-0.093500941991806,0.147506847977638,0.035852365195751));
res += mul(Get(s1,dx,0), float4x4(-0.052424166351557,0.259675234556198,-0.015904277563095,0.091632895171642,-0.017434291541576,0.004546138457954,0.017185596749187,-0.050804309546947,-0.036126326769590,-0.055150758475065,-0.167881324887276,0.150332957506180,0.155406802892685,0.057485558092594,-0.130536898970604,0.007082238793373));
res += mul(Get(s1,dx,dy), float4x4(-0.012495388276875,0.029248554259539,0.015681300312281,-0.093983486294746,-0.089390344917774,-0.100386060774326,0.063693411648273,-0.086581170558929,-0.175943195819855,-0.060346912592649,0.158737242221832,-0.156267419457436,-0.008083891123533,-0.040899168699980,-0.107963837683201,-0.026687543839216));
res += mul(Get(s2,-dx,-dy), float4x4(-0.014865424484015,0.145011261105537,0.036512095481157,0.044842634350061,-0.060475118458271,0.148211255669594,0.002787770470604,0.131992802023888,0.040706709027290,0.081192031502724,-0.180394411087036,-0.037354476749897,0.039753228425980,-0.109584279358387,-0.030426908284426,-0.104885421693325));
res += mul(Get(s2,-dx,0), float4x4(0.006245498545468,-0.025609159842134,-0.131265044212341,-0.044188134372234,-0.086804665625095,0.022717351093888,0.009770594537258,-0.066958025097847,-0.016247786581516,-0.056633271276951,-0.018788257613778,-0.087778918445110,-0.057739410549402,0.162972435355186,0.088522642850876,0.007343346718699));
res += mul(Get(s2,-dx,dy), float4x4(0.004202252253890,0.033674348145723,-0.213340774178505,-0.042959943413734,-0.033206425607204,-0.114638932049274,-0.179535597562790,-0.161146134138107,-0.036252047866583,0.028935601934791,-0.150473192334175,0.116090863943100,-0.000387354899431,0.153402626514435,0.059607993811369,-0.044119477272034));
res += mul(Get(s2,0,-dy), float4x4(-0.014183931052685,0.161054968833923,0.042831312865019,0.039204094558954,0.050181884318590,0.028072779998183,-0.052959199994802,-0.067855976521969,-0.127570986747742,-0.075880810618401,-0.051930628716946,-0.043710943311453,-0.089549556374550,0.035895101726055,0.012244108133018,-0.010784511454403));
res += mul(Get(s2,0,0), float4x4(0.160953208804131,-0.002456308808178,-0.103035382926464,-0.036900769919157,0.037666860967875,0.153835877776146,0.000953035254497,0.017333721742034,0.029336484149098,0.026666941121221,-0.041998896747828,-0.023800592869520,-0.136899575591087,0.026788517832756,0.161447599530220,-0.118055768311024));
res += mul(Get(s2,0,dy), float4x4(0.104718573391438,0.033853162080050,-0.043846305459738,-0.132720172405243,0.007254242897034,0.108526758849621,-0.033438991755247,0.177076175808907,0.037666093558073,0.142043828964233,-0.028218505904078,-0.083175927400589,0.092357642948627,-0.044600155204535,-0.011568341404200,-0.082362845540047));
res += mul(Get(s2,dx,-dy), float4x4(-0.046355843544006,-0.013426207937300,-0.042320467531681,-0.137877434492111,0.025107495486736,-0.024619668722153,-0.064771719276905,0.074614249169827,-0.101531729102135,-0.007539456244558,0.022764818742871,0.034511212259531,0.023976746946573,-0.086703173816204,0.043676275759935,-0.097660429775715));
res += mul(Get(s2,dx,0), float4x4(0.070592761039734,0.137104958295822,0.106904506683350,-0.068268306553364,-0.045804362744093,0.005353616550565,0.003633145010099,-0.058324281126261,0.000391861394746,0.022516366094351,0.006583074107766,-0.080847762525082,-0.073694899678230,0.003771050600335,0.003201739629731,-0.031327884644270));
res += mul(Get(s2,dx,dy), float4x4(0.106409884989262,0.026358848437667,0.013327881693840,0.159573316574097,-0.030287561938167,-0.052973750978708,-0.219690531492233,-0.121097654104233,0.024413172155619,-0.028174821287394,0.070235960185528,0.059701293706894,-0.062831394374371,0.027594421058893,0.112930729985237,-0.009971006773412));
res += mul(Get(s3,-dx,-dy), float4x4(-0.108279921114445,-0.142384812235832,-0.116778224706650,0.006778189912438,0.094294168055058,-0.046387430280447,0.056402940303087,0.151031836867332,-0.034858781844378,0.013669929467142,-0.052153367549181,-0.003098280634731,-0.030595185235143,-0.045684944838285,-0.008039856329560,0.132630750536919));
res += mul(Get(s3,-dx,0), float4x4(0.000240969267907,0.095255970954895,-0.078512579202652,0.145077005028725,-0.028545908629894,-0.002815378364176,-0.189501807093620,0.118805311620235,-0.048868376761675,-0.030740538612008,0.160430938005447,0.043238259851933,-0.005908761173487,0.174871325492859,0.067077390849590,0.099525570869446));
res += mul(Get(s3,-dx,dy), float4x4(0.129808023571968,-0.097550570964813,-0.029023949056864,0.144097730517387,0.101460397243500,-0.051573857665062,0.013328187167645,0.157905995845795,-0.125827133655548,-0.007690444123000,0.092296652495861,-0.065586455166340,0.127327829599380,-0.010514340363443,-0.076871939003468,0.082188293337822));
res += mul(Get(s3,0,-dy), float4x4(-0.269729942083359,-0.008818260394037,-0.012431817129254,0.007869362831116,-0.016325028613210,0.076671175658703,-0.004329188261181,0.094819642603397,-0.046316165477037,-0.258722811937332,0.016104327514768,-0.086648903787136,0.116207323968410,-0.022573241963983,-0.138952329754829,0.083522491157055));
res += mul(Get(s3,0,0), float4x4(-0.210855871438980,-0.084269613027573,-0.019345328211784,0.194419130682945,0.035337805747986,0.123682394623756,0.029779937118292,0.080831654369831,-0.051192469894886,-0.019459927454591,0.002497512847185,0.057832129299641,0.152980342507362,0.073072858154774,-0.094826109707355,-0.019979370757937));
res += mul(Get(s3,0,dy), float4x4(0.088789179921150,-0.068472139537334,-0.048878367990255,0.099449999630451,0.009416610002518,-0.004742977209389,-0.106732182204723,-0.012200769968331,-0.032015379518270,-0.039339352399111,-0.081625975668430,0.025262700393796,0.048820797353983,-0.033496353775263,0.127857342362404,-0.027373913675547));
res += mul(Get(s3,dx,-dy), float4x4(-0.072347119450569,0.097139723598957,-0.072454370558262,0.198150083422661,-0.136548087000847,-0.146916449069977,0.013610590249300,-0.023449864238501,0.142068415880203,-0.033574525266886,0.052442748099566,-0.151548936963081,0.053228527307510,0.050439186394215,0.066178321838379,0.007610766217113));
res += mul(Get(s3,dx,0), float4x4(-0.017577756196260,-0.064909078180790,-0.130470439791679,-0.041837181895971,0.050264764577150,0.004695525858551,-0.007245829328895,0.043487213551998,0.030375018715858,-0.005448374431580,0.047031987458467,-0.064523853361607,0.090132310986519,0.004903379362077,-0.098659463226795,0.053512301295996));
res += mul(Get(s3,dx,dy), float4x4(0.095460847020149,0.031112883239985,-0.138244971632957,0.016360469162464,0.070040263235569,0.110829234123230,0.061159327626228,0.003229513764381,-0.034366235136986,-0.119473114609718,0.073399811983109,-0.172745093703270,-0.020881434902549,-0.036702204495668,-0.005744415335357,0.032673023641109));
return max(float4(0,0,0,0), res);
}
