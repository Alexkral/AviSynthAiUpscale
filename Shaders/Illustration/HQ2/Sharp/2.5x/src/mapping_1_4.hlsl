sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.066880576312542,0.213088706135750,-0.141500368714333,-0.123556248843670,-0.105573594570160,-0.144766077399254,-0.080865129828453,0.063321165740490,0.057163912802935,-0.114917814731598,-0.045941818505526,-0.056974180042744,-0.065228134393692,0.189143642783165,0.019716292619705,-0.078638114035130));
res += mul(Get(s0,-dx,0), float4x4(0.086543090641499,0.273076117038727,0.028786463662982,0.026173066347837,-0.027949208393693,-0.022008066996932,-0.112433746457100,0.076476410031319,-0.085325613617897,0.098245814442635,-0.052653744816780,-0.009946909733117,0.142526343464851,0.065759532153606,-0.098801031708717,-0.181790545582771));
res += mul(Get(s0,-dx,dy), float4x4(-0.035349946469069,-0.144656315445900,0.069857977330685,-0.129912167787552,-0.055459178984165,-0.059140816330910,0.080665692687035,0.111351229250431,0.040378432720900,0.116934619843960,-0.045499835163355,0.217645451426506,0.135375037789345,-0.010802578181028,-0.060158155858517,0.005219852551818));
res += mul(Get(s0,0,-dy), float4x4(-0.140932649374008,-0.068955317139626,0.113665267825127,-0.124722950160503,-0.041503965854645,-0.018677622079849,0.026415748521686,-0.048954915255308,0.052673716098070,0.026658093556762,-0.111935220658779,-0.021798701956868,0.009331601671875,0.036376073956490,-0.064651317894459,-0.042831901460886));
res += mul(Get(s0,0,0), float4x4(0.065318137407303,-0.102888353168964,-0.093201808631420,-0.002105429535732,0.012104664929211,0.188889354467392,-0.012904531322420,-0.020864428952336,0.091718472540379,-0.004232448991388,0.033708710223436,0.050668619573116,-0.041897170245647,0.107607103884220,-0.081747770309448,0.027471385896206));
res += mul(Get(s0,0,dy), float4x4(-0.167168825864792,-0.007507130969316,-0.184430271387100,0.092769637703896,-0.118793308734894,0.192163899540901,-0.018589302897453,-0.038349784910679,0.097023777663708,-0.182794868946075,0.103248313069344,-0.078128099441528,0.050126206129789,-0.038840122520924,0.037102419883013,0.008304539136589));
res += mul(Get(s0,dx,-dy), float4x4(-0.186448931694031,-0.033627793192863,0.079367980360985,-0.166184738278389,-0.119516387581825,-0.016262492164969,-0.116902999579906,-0.091050796210766,-0.065691895782948,0.052939996123314,0.209013059735298,-0.075072906911373,-0.064386285841465,-0.008402216248214,-0.109425432980061,0.071517817676067));
res += mul(Get(s0,dx,0), float4x4(0.012327758595347,-0.105589225888252,-0.024525638669729,0.174317702651024,-0.206196442246437,-0.037560019642115,0.062205672264099,-0.002307901624590,-0.084821730852127,0.157418951392174,0.014078325591981,-0.055388104170561,-0.012256412766874,0.232905879616737,0.065462082624435,0.088384151458740));
res += mul(Get(s0,dx,dy), float4x4(-0.099487222731113,0.125202223658562,-0.140004262328148,-0.068505749106407,-0.040016852319241,0.106798745691776,-0.015626797452569,-0.007019454613328,0.005225827917457,0.041820012032986,-0.106919400393963,0.018437007442117,-0.052041929215193,-0.046490356326103,0.078029491007328,-0.130055308341980));
res += mul(Get(s1,-dx,-dy), float4x4(0.010130458511412,0.092761039733887,0.101309515535831,-0.149385303258896,0.127090588212013,0.137872308492661,0.238143056631088,0.149518504738808,0.078266069293022,0.018889952450991,0.051963645964861,-0.125171691179276,0.028685396537185,-0.013909430243075,-0.063647225499153,-0.026238420978189));
res += mul(Get(s1,-dx,0), float4x4(0.110600098967552,0.086480513215065,-0.003351189894602,0.052346937358379,0.108735837042332,0.049020472913980,-0.046214591711760,-0.023497601971030,-0.003914915490896,0.075520858168602,-0.003769296221435,0.083127625286579,0.052011612802744,-0.155233725905418,0.019437126815319,-0.103303305804729));
res += mul(Get(s1,-dx,dy), float4x4(0.072673879563808,0.156092345714569,0.059019792824984,0.028457656502724,0.064145490527153,-0.008823500014842,-0.055175084620714,-0.170470073819160,-0.046043764799833,-0.035687908530235,0.050911970436573,-0.140285566449165,0.078141815960407,0.223286658525467,0.094733975827694,-0.086483508348465));
res += mul(Get(s1,0,-dy), float4x4(0.111925035715103,0.041416674852371,0.176622360944748,-0.090457804501057,-0.056110750883818,-0.155169114470482,-0.120423279702663,0.097615115344524,0.001327901496552,-0.019665259867907,-0.142189398407936,0.043265864253044,-0.150989338755608,-0.035229153931141,-0.205693662166595,-0.048026673495770));
res += mul(Get(s1,0,0), float4x4(-0.089714296162128,-0.240140900015831,0.005015701055527,0.125098541378975,-0.053920038044453,0.176400125026703,0.078474581241608,-0.092307195067406,0.141889914870262,-0.088023059070110,0.006994897034019,0.029002165421844,0.043835114687681,0.021040577441454,-0.192567825317383,0.179802551865578));
res += mul(Get(s1,0,dy), float4x4(0.017679233103991,-0.076895520091057,-0.018240068107843,0.006566258147359,-0.206717550754547,0.006731863599271,-0.207544758915901,0.122044414281845,0.121841177344322,0.027475500479341,-0.166875660419464,-0.022180432453752,-0.086255997419357,-0.060328017920256,-0.189804494380951,-0.034675057977438));
res += mul(Get(s1,dx,-dy), float4x4(-0.095781989395618,0.037580382078886,0.173883348703384,0.018070312216878,-0.043739654123783,-0.153624892234802,-0.079898297786713,-0.071563526988029,-0.048983789980412,-0.001649484504014,0.050164431333542,-0.048456087708473,-0.036008104681969,0.084944941103458,0.069521039724350,-0.050174463540316));
res += mul(Get(s1,dx,0), float4x4(0.037786941975355,0.006469170562923,-0.246371850371361,0.031766567379236,-0.152351394295692,0.036639295518398,0.052044495940208,0.131163433194160,0.009507629089057,0.088530860841274,-0.049716420471668,0.182403922080994,0.076861582696438,-0.102834984660149,0.024675078690052,-0.016021858900785));
res += mul(Get(s1,dx,dy), float4x4(0.031961780041456,0.186176478862762,-0.044749673455954,0.082388609647751,0.090959124267101,-0.002463478129357,-0.004842802882195,-0.084171935915947,-0.112279243767262,-0.065090142190456,0.049055531620979,-0.047686260193586,0.028427520766854,0.153890401124954,-0.082135565578938,0.079440377652645));
res += mul(Get(s2,-dx,-dy), float4x4(-0.016202265396714,0.139515414834023,0.145965397357941,-0.122428715229034,-0.211333632469177,-0.023394752293825,-0.091758318245411,0.026452297344804,-0.029412206262350,-0.030554372817278,-0.114246442914009,-0.001885352889076,0.035854488611221,-0.144427478313446,0.022497013211250,-0.068052746355534));
res += mul(Get(s2,-dx,0), float4x4(0.059929452836514,-0.192462727427483,0.009881901554763,0.064220614731312,0.015976717695594,-0.056421000510454,0.067135937511921,0.124116629362106,-0.057583488523960,0.110781684517860,-0.112811304628849,-0.089799918234348,-0.040126621723175,0.083945013582706,-0.027623619884253,-0.153080165386200));
res += mul(Get(s2,-dx,dy), float4x4(0.160282447934151,-0.022916842252016,-0.155474588274956,-0.128538131713867,-0.080027073621750,0.121654026210308,0.023049147799611,-0.008793861605227,0.109893932938576,-0.050163887441158,0.086975902318954,-0.008562777191401,0.068190187215805,-0.011033481918275,-0.056911278516054,0.014996192418039));
res += mul(Get(s2,0,-dy), float4x4(-0.060614150017500,-0.080493956804276,-0.102064043283463,-0.004900992847979,0.099266879260540,-0.052107036113739,0.021378798410296,0.113070420920849,0.029975319281220,-0.087613604962826,0.085197858512402,0.123339667916298,0.085911758244038,-0.079704746603966,0.062301393598318,-0.026561582460999));
res += mul(Get(s2,0,0), float4x4(-0.132370710372925,-0.013931722380221,-0.137208551168442,-0.170622259378433,-0.097522795200348,-0.148607701063156,0.015073988586664,-0.009949652478099,0.158014863729477,-0.032540425658226,-0.186706453561783,-0.055354401469231,0.097303211688995,-0.036287631839514,0.074463427066803,0.025717508047819));
res += mul(Get(s2,0,dy), float4x4(-0.114108622074127,-0.082461141049862,0.093286834657192,0.055478256195784,-0.005349938292056,-0.034420080482960,-0.028618846088648,-0.071173869073391,-0.041466698050499,0.222594738006592,-0.029951270669699,-0.071977779269218,0.041200801730156,-0.184711024165154,0.046017412096262,-0.144526153802872));
res += mul(Get(s2,dx,-dy), float4x4(-0.092155613005161,0.021698126569390,-0.061150927096605,0.083766274154186,-0.088428355753422,0.041409805417061,-0.100696958601475,-0.042881429195404,0.096768073737621,0.116631090641022,0.012182261794806,0.088016398251057,0.058963246643543,0.053008146584034,-0.025648722425103,0.137056037783623));
res += mul(Get(s2,dx,0), float4x4(-0.066350907087326,0.054684337228537,-0.115039072930813,-0.054015159606934,-0.069717876613140,0.085157699882984,0.022594124078751,-0.066635243594646,-0.216831073164940,-0.092635780572891,-0.077667921781540,-0.019402520731091,-0.070839390158653,-0.028715550899506,0.088578186929226,0.044685006141663));
res += mul(Get(s2,dx,dy), float4x4(0.056614942848682,0.059687957167625,-0.056859236210585,0.040841639041901,-0.024766322225332,0.076119631528854,-0.105794757604599,0.030756669119000,0.057002250105143,-0.040762804448605,0.044631186872721,-0.057190705090761,-0.107425682246685,0.168708309531212,-0.089160397648811,-0.152728497982025));
res += mul(Get(s3,-dx,-dy), float4x4(-0.028286183252931,-0.146803498268127,0.009857796132565,0.100332349538803,-0.053403384983540,-0.078542955219746,0.039838969707489,0.044105581939220,-0.012551587074995,0.088540256023407,0.091843664646149,-0.088095583021641,0.111459150910378,-0.107674986124039,-0.073460794985294,0.008155000396073));
res += mul(Get(s3,-dx,0), float4x4(0.008143319748342,0.066144987940788,0.132824003696442,-0.061259858310223,-0.009796692058444,-0.072478026151657,-0.005755880381912,-0.065410479903221,0.028214279562235,0.021613894030452,-0.002342360327020,0.027347138151526,-0.067380592226982,0.023659037426114,-0.019603421911597,-0.055533640086651));
res += mul(Get(s3,-dx,dy), float4x4(0.087176784873009,0.058760125190020,-0.019784532487392,0.028225686401129,-0.021651396527886,0.035253360867500,0.024745330214500,0.067134663462639,0.028849346563220,0.076107203960419,-0.034316744655371,0.065111212432384,0.046272553503513,0.077659040689468,-0.036593172699213,0.048641934990883));
res += mul(Get(s3,0,-dy), float4x4(-0.077566698193550,-0.005892281886190,-0.092571906745434,0.021254843100905,0.031846273690462,-0.098661139607430,0.112018175423145,0.007406299468130,0.117907427251339,-0.110308080911636,0.051440779119730,0.087878115475178,0.028309809044003,0.039877455681562,-0.083955660462379,-0.045656953006983));
res += mul(Get(s3,0,0), float4x4(-0.053625140339136,0.062858894467354,0.181355923414230,-0.091469958424568,0.121224418282509,0.023578412830830,-0.142440125346184,-0.100205495953560,0.106169849634171,-0.000960958714131,0.104385450482368,0.005171638447791,0.136462181806564,-0.058732997626066,0.130037114024162,0.025287145748734));
res += mul(Get(s3,0,dy), float4x4(0.286874055862427,0.156940102577209,-0.026493402197957,-0.281536936759949,-0.169906228780746,-0.000530487624928,0.017078636214137,0.083245545625687,-0.035120464861393,0.084738694131374,0.001635765773244,-0.019304299727082,-0.132019788026810,0.220263704657555,-0.158889651298523,0.075354717671871));
res += mul(Get(s3,dx,-dy), float4x4(-0.061123393476009,-0.097780935466290,0.035016167908907,0.058084879070520,0.198770821094513,0.015024050138891,-0.197282373905182,0.027564937248826,-0.012293612584472,0.082631736993790,0.158620640635490,0.073217220604420,0.000131636028527,0.006141716614366,-0.048250656574965,0.089804232120514));
res += mul(Get(s3,dx,0), float4x4(0.185357779264450,0.134853154420853,-0.094030663371086,-0.042384210973978,0.075876072049141,0.030576450750232,-0.002116342540830,0.113741427659988,0.071534395217896,-0.034315519034863,-0.078238599002361,0.200630053877831,0.005256507545710,0.080584876239300,-0.095127843320370,0.055455811321735));
res += mul(Get(s3,dx,dy), float4x4(0.092647619545460,-0.061173487454653,0.023506017401814,-0.058384727686644,-0.054316543042660,-0.146036282181740,0.185102909803391,-0.092054478824139,0.011808261275291,-0.206285983324051,-0.195911496877670,0.093913123011589,-0.229754388332367,-0.042523436248302,-0.046409882605076,0.134553655982018));
return max(float4(0,0,0,0), res);
}
