sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.010856082662940,-0.053093254566193,0.094035513699055,0.028651725500822,0.146350383758545,0.121847890317440,-0.157750636339188,0.093689054250717,-0.105966784060001,0.005801197141409,-0.057222396135330,0.057463850826025,-0.016965635120869,0.015804288908839,-0.097584106028080,-0.001717797480524));
res += mul(Get(s0,-dx,0), float4x4(0.006740202195942,-0.024490550160408,-0.145836398005486,0.019015979021788,-0.092279434204102,-0.084089912474155,-0.111370265483856,0.195548474788666,0.187540590763092,-0.026216255500913,-0.014387216418982,0.040447574108839,-0.026877913624048,0.028578218072653,-0.081456296145916,-0.058676939457655));
res += mul(Get(s0,-dx,dy), float4x4(0.094978116452694,0.045401711016893,-0.082592412829399,-0.107366107404232,-0.043658539652824,0.106989718973637,0.028402496129274,-0.054405782371759,-0.021181054413319,-0.119219020009041,-0.030245089903474,-0.231037110090256,0.027671180665493,-0.078123077750206,-0.173130422830582,-0.075157657265663));
res += mul(Get(s0,0,-dy), float4x4(-0.043853424489498,0.009948711842299,-0.205811992287636,0.048161670565605,0.051697682589293,0.011686997488141,0.032715786248446,-0.018807759508491,0.051512267440557,0.021891098469496,-0.153093695640564,-0.040193576365709,0.054912053048611,-0.041483175009489,0.151626884937286,-0.149728164076805));
res += mul(Get(s0,0,0), float4x4(-0.198757663369179,-0.014320153743029,-0.007132216822356,-0.210989251732826,0.116626106202602,0.042409703135490,0.106129512190819,0.197422474622726,0.046995650976896,0.036276310682297,-0.067090459167957,-0.031771637499332,-0.052209783345461,-0.064326226711273,-0.074203737080097,0.075926922261715));
res += mul(Get(s0,0,dy), float4x4(0.128289878368378,0.077535204589367,-0.042940091341734,-0.059611301869154,0.003368316916749,0.030029134824872,0.024259332567453,0.006415749900043,0.067139901220798,0.036864567548037,-0.089517727494240,-0.070759482681751,-0.147640705108643,0.041008740663528,-0.207655787467957,-0.168525770306587));
res += mul(Get(s0,dx,-dy), float4x4(-0.096371941268444,-0.194605216383934,-0.051694035530090,0.039497219026089,-0.028436321765184,0.033397980034351,-0.001514194882475,0.113277897238731,-0.036622300744057,0.051798064261675,0.029402045533061,-0.063516259193420,-0.090768054127693,-0.094394303858280,0.007680959533900,0.047838829457760));
res += mul(Get(s0,dx,0), float4x4(0.037922035902739,-0.057409413158894,-0.079153589904308,0.166090175509453,-0.105513438582420,0.208836168050766,-0.053306180983782,0.020492060109973,0.142737835645676,0.080462217330933,-0.006170488428324,-0.041159782558680,-0.150270581245422,0.064105898141861,0.049085985869169,-0.010778192430735));
res += mul(Get(s0,dx,dy), float4x4(0.055574838072062,0.119715772569180,-0.101284779608250,-0.044414363801479,-0.014925505034626,0.027222249656916,-0.117577888071537,0.060886289924383,0.018892809748650,-0.072807587683201,-0.047014478594065,-0.100945010781288,-0.083650439977646,0.001106661977246,-0.097444616258144,0.018135437741876));
res += mul(Get(s1,-dx,-dy), float4x4(0.017645046114922,-0.095140077173710,-0.071272745728493,-0.073577493429184,0.236661985516548,0.065855987370014,-0.111474573612213,-0.136663883924484,-0.050614867359400,0.145112439990044,0.130055338144302,0.014783100225031,-0.048806086182594,-0.158060893416405,-0.043924845755100,-0.092109635472298));
res += mul(Get(s1,-dx,0), float4x4(-0.058208514004946,-0.083333313465118,-0.007442997768521,0.037509124726057,-0.013070990331471,-0.029532203450799,-0.044238984584808,0.095966011285782,-0.112145923078060,0.169445812702179,0.065599568188190,-0.137636676430702,0.120857782661915,0.035999413579702,0.019674371927977,-0.068701952695847));
res += mul(Get(s1,-dx,dy), float4x4(0.243183612823486,-0.204506218433380,-0.021033320575953,0.060293588787317,0.199189782142639,-0.061482243239880,-0.086462229490280,-0.060520358383656,-0.029945077374578,0.094675131142139,-0.124204620718956,-0.055119808763266,0.101898528635502,0.058066986501217,0.151902362704277,0.103154331445694));
res += mul(Get(s1,0,-dy), float4x4(0.006615442223847,-0.071684226393700,0.083912312984467,0.006096324417740,0.178521484136581,0.186896160244942,-0.002520320937037,0.001261177123524,-0.093744389712811,0.265014141798019,0.152298450469971,0.007043885998428,0.169383674860001,-0.103424757719040,-0.054065529257059,0.038887880742550));
res += mul(Get(s1,0,0), float4x4(-0.035969737917185,-0.085663035511971,-0.135614752769470,0.001775925629772,0.067144602537155,0.144428521394730,0.060708031058311,0.016170270740986,-0.133742317557335,-0.144241496920586,0.012146620079875,0.162371173501015,0.208873674273491,0.031947676092386,0.004169852007180,0.122797153890133));
res += mul(Get(s1,0,dy), float4x4(0.111438393592834,0.013847898691893,0.045267250388861,-0.000642622529995,-0.057881765067577,-0.002767286263406,0.119192406535149,0.050681222230196,-0.088749192655087,-0.136658445000648,-0.129539340734482,-0.146184667944908,-0.048472587019205,-0.150614261627197,0.219915062189102,0.016554435715079));
res += mul(Get(s1,dx,-dy), float4x4(0.098994411528111,-0.164761945605278,0.116793267428875,-0.024772880598903,-0.046863906085491,0.127155110239983,0.021430363878608,0.107925511896610,-0.010904914699495,-0.001402620226145,0.029706832021475,0.145765304565430,0.084737136960030,-0.126100078225136,-0.050052728503942,0.077535524964333));
res += mul(Get(s1,dx,0), float4x4(0.069961890578270,0.050829965621233,0.012962513603270,0.015430863015354,0.154805973172188,0.132532745599747,-0.049003012478352,-0.155946329236031,-0.125311985611916,-0.141377896070480,0.038339804857969,-0.011655039153993,0.121903777122498,0.116515956819057,0.027970852330327,0.042409129440784));
res += mul(Get(s1,dx,dy), float4x4(0.019283393397927,-0.074097730219364,-0.084579326212406,-0.023415738716722,0.106125503778458,0.103486567735672,0.001880172174424,0.024958143010736,0.000649237714242,-0.099541813135147,0.047700922936201,0.039317406713963,-0.006782010197639,0.212399885058403,-0.043739240616560,0.138615012168884));
res += mul(Get(s2,-dx,-dy), float4x4(0.052355613559484,0.105426356196404,0.070388548076153,0.011397748254240,0.060898236930370,-0.006050445605069,0.079109705984592,-0.038705635815859,0.036508347839117,0.051422037184238,0.073728516697884,-0.076739527285099,0.133322000503540,0.101088248193264,0.052809059619904,-0.036156676709652));
res += mul(Get(s2,-dx,0), float4x4(0.060077846050262,0.019637977704406,-0.061680968850851,-0.022751800715923,-0.064609520137310,-0.122012816369534,0.261167854070663,-0.109083727002144,0.202925458550453,-0.029394360259175,-0.014171048998833,-0.082462035119534,-0.062001977115870,0.071114800870419,0.084587737917900,-0.062005158513784));
res += mul(Get(s2,-dx,dy), float4x4(0.174116507172585,-0.053583323955536,0.072457961738110,-0.141441166400909,-0.087110236287117,-0.096696078777313,0.064264051616192,0.111084260046482,0.054051652550697,0.071354679763317,-0.020425461232662,0.113962367177010,0.104261741042137,-0.147540226578712,-0.102926306426525,0.077616259455681));
res += mul(Get(s2,0,-dy), float4x4(0.019586697220802,-0.119675658643246,-0.106785580515862,0.188888520002365,-0.144406959414482,0.116825088858604,-0.103880397975445,0.131444275379181,0.064205378293991,-0.038234304636717,0.119154796004295,-0.073017649352551,-0.026294816285372,-0.055960349738598,0.127238705754280,0.168119087815285));
res += mul(Get(s2,0,0), float4x4(-0.131247475743294,0.064461685717106,0.019235461950302,0.058468833565712,-0.015007788315415,0.184228181838989,0.044973999261856,-0.001214213320054,0.010772511363029,-0.021563496440649,-0.100500777363777,-0.146751016378403,0.080225892364979,0.212351486086845,-0.146242216229439,0.046029943972826));
res += mul(Get(s2,0,dy), float4x4(-0.134645566344261,0.032123330980539,-0.028735479339957,-0.034201759845018,-0.071927443146706,0.029039300978184,0.025820910930634,-0.040928322821856,0.053900171071291,0.123505085706711,-0.077711731195450,-0.132955625653267,0.174992904067039,0.050287522375584,0.033971730619669,0.034740783274174));
res += mul(Get(s2,dx,-dy), float4x4(-0.101994633674622,-0.050051260739565,-0.008547498844564,0.016598567366600,-0.034882828593254,0.206909671425819,-0.085925027728081,0.103376604616642,0.142883941531181,-0.143563285470009,-0.137091323733330,-0.044109787791967,-0.049545023590326,-0.077544867992401,-0.126663118600845,-0.057685848325491));
res += mul(Get(s2,dx,0), float4x4(-0.107644833624363,-0.018885068595409,-0.115758836269379,-0.026577025651932,0.010346370749176,0.252231568098068,0.121640309691429,-0.148461818695068,-0.178794026374817,-0.220629006624222,0.018376696854830,0.049708019942045,-0.003627159865573,-0.026313314214349,0.075480677187443,-0.084434665739536));
res += mul(Get(s2,dx,dy), float4x4(-0.048113565891981,0.006728644482791,-0.045576084405184,-0.050861220806837,-0.121336579322815,-0.034164845943451,0.013747980818152,-0.243248626589775,0.004219265189022,0.135961532592773,-0.001005717203952,-0.224063456058502,0.038995705544949,-0.056030079722404,0.005036615766585,-0.020455794408917));
res += mul(Get(s3,-dx,-dy), float4x4(0.028356797993183,0.005201259162277,0.096080958843231,0.041081815958023,-0.134826794266701,-0.073933370411396,0.041358929127455,0.032949849963188,0.106654897332191,0.075644664466381,0.059324208647013,-0.076651386916637,0.032785397022963,0.037940297275782,0.057964000850916,-0.074433647096157));
res += mul(Get(s3,-dx,0), float4x4(-0.190681159496307,-0.089075714349747,0.025890599936247,0.155208364129066,0.109035432338715,0.086892709136009,-0.094278074800968,-0.016306580975652,-0.069899797439575,-0.023801382631063,-0.019987946376204,0.075853131711483,-0.111018270254135,0.098093345761299,0.030970845371485,-0.052711810916662));
res += mul(Get(s3,-dx,dy), float4x4(0.076945148408413,0.161941781640053,0.081016041338444,0.008181321434677,-0.015153169631958,0.018297208473086,0.001890982966870,-0.050579607486725,0.163189992308617,-0.115805432200432,0.257358253002167,-0.056726340204477,-0.073110796511173,-0.059346787631512,-0.063716083765030,-0.004919706843793));
res += mul(Get(s3,0,-dy), float4x4(-0.186045259237289,0.101441115140915,-0.031098820269108,-0.071869075298309,-0.172782748937607,0.086244203150272,-0.016332359984517,0.045841868966818,-0.010642374865711,0.056009132415056,-0.035330802202225,-0.006997704505920,-0.095852501690388,0.057824507355690,-0.101590402424335,0.101108200848103));
res += mul(Get(s3,0,0), float4x4(-0.164849758148193,-0.003679098561406,-0.124150738120079,-0.095383279025555,0.144966766238213,0.016476448625326,0.045433852821589,0.061093091964722,0.006991522386670,0.069434814155102,-0.012294511310756,0.248667284846306,-0.042007140815258,0.032690633088350,-0.103414222598076,0.015802454203367));
res += mul(Get(s3,0,dy), float4x4(0.028498306870461,0.132003083825111,-0.199318096041679,-0.105641983449459,-0.087502188980579,-0.078243561089039,-0.014096533879638,-0.065596751868725,0.026800543069839,0.096262060105801,0.216542854905128,0.015680927783251,0.220733627676964,0.035815354436636,-0.128063976764679,-0.016420051455498));
res += mul(Get(s3,dx,-dy), float4x4(0.154501512646675,-0.058708049356937,0.195156902074814,0.083178952336311,-0.044109478592873,0.101532988250256,0.229874789714813,-0.181822806596756,0.165181711316109,-0.076677352190018,0.149462997913361,-0.083486102521420,-0.086225539445877,-0.200009614229202,-0.046245746314526,0.023023607209325));
res += mul(Get(s3,dx,0), float4x4(0.177740186452866,-0.078842066228390,0.148064449429512,0.038671664893627,-0.104449547827244,0.076212987303734,-0.075472995638847,-0.040848817676306,-0.059714049100876,-0.016846751794219,-0.094867840409279,0.036903038620949,0.305964767932892,-0.112420834600925,-0.095391184091568,-0.095803365111351));
res += mul(Get(s3,dx,dy), float4x4(0.144166290760040,-0.072618380188942,0.093032211065292,0.022620141506195,-0.003450184362009,0.088946133852005,0.072869837284088,-0.087239131331444,0.158536732196808,0.112319156527519,0.112424358725548,-0.118044927716255,-0.176996752619743,0.076508030295372,0.081414960324764,0.051668360829353));
return max(float4(0,0,0,0), res);
}
