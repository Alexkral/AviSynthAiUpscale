sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.085455358028412,-0.092967048287392,-0.014365771785378,0.098452053964138,0.099891044199467,-0.030857341364026,-0.176571190357208,0.025463314726949,0.053231094032526,0.124849237501621,0.063751399517059,-0.161661610007286,0.077099591493607,0.004898102954030,0.030362796038389,-0.016928380355239));
res += mul(Get(s0,-dx,0), float4x4(0.135675787925720,-0.007824433967471,-0.067136742174625,0.038472894579172,0.054078634828329,-0.034551788121462,-0.063544660806656,-0.039968587458134,0.067184448242188,0.071330450475216,-0.063693031668663,0.131907463073730,-0.054034698754549,0.110211387276649,0.144494041800499,0.059788361191750));
res += mul(Get(s0,-dx,dy), float4x4(0.037663392722607,0.009810964576900,0.119745269417763,0.045906364917755,-0.121578350663185,-0.072680152952671,-0.115105949342251,0.003736433805898,0.178590476512909,0.045641623437405,0.105368919670582,0.167862862348557,-0.086715810000896,0.101417258381844,-0.068220265209675,0.034995213150978));
res += mul(Get(s0,0,-dy), float4x4(0.018709637224674,-0.013759342022240,0.165393412113190,0.068506985902786,0.047574251890182,-0.130707368254662,0.020220955833793,0.019379647448659,0.003659672103822,-0.007017038762569,0.077747434377670,0.065396040678024,-0.049305718392134,-0.057484045624733,-0.086934544146061,-0.210207551717758));
res += mul(Get(s0,0,0), float4x4(0.057208117097616,0.021745471283793,-0.099102951586246,0.096657864749432,0.066964134573936,0.082641400396824,-0.035137433558702,0.161244213581085,-0.088531762361526,0.024795791134238,-0.023327091708779,0.024075035005808,-0.041433610022068,0.029856123030186,0.026911567896605,-0.012246884405613));
res += mul(Get(s0,0,dy), float4x4(-0.052519310265779,0.190049335360527,-0.082848556339741,-0.030982540920377,0.001398903550580,-0.172969087958336,0.020368821918964,-0.024572495371103,-0.003318425966427,0.086656942963600,0.185882538557053,-0.011182009242475,0.104641653597355,-0.112406194210052,0.033768128603697,-0.046446774154902));
res += mul(Get(s0,dx,-dy), float4x4(-0.115302294492722,0.185077279806137,0.001028692466207,-0.049570225179195,0.011714511550963,0.006037457380444,0.063553854823112,0.007738886401057,-0.155255481600761,-0.122893519699574,0.103953689336777,-0.047334223985672,-0.020675512030721,-0.001563179073855,0.061934478580952,-0.039977662265301));
res += mul(Get(s0,dx,0), float4x4(0.037924703210592,-0.036839362233877,-0.187118813395500,-0.108284555375576,0.160188227891922,0.027182903140783,0.081338115036488,0.219886749982834,-0.112901262938976,0.054667055606842,0.047637358307838,0.044945325702429,-0.070813328027725,0.105520129203796,0.052632886916399,0.004702772945166));
res += mul(Get(s0,dx,dy), float4x4(-0.048920389264822,0.060933120548725,-0.069572329521179,-0.175357758998871,0.271784812211990,-0.129788041114807,-0.082034081220627,0.149515137076378,-0.127591803669930,-0.179265215992928,-0.050691604614258,-0.159011811017990,0.070054210722446,-0.162321567535400,-0.075969204306602,-0.041434649378061));
res += mul(Get(s1,-dx,-dy), float4x4(0.028229145333171,0.153676420450211,0.194067612290382,-0.028389854356647,0.017295243218541,-0.108456239104271,-0.146697774529457,0.064478412270546,-0.075759328901768,-0.029205560684204,-0.113623432815075,-0.049742944538593,0.016112251207232,-0.078482307493687,-0.061525199562311,-0.100728653371334));
res += mul(Get(s1,-dx,0), float4x4(0.054769579321146,0.060588564723730,0.064497515559196,-0.051282778382301,-0.032237019389868,-0.162549182772636,-0.093920886516571,0.080632030963898,-0.222935333848000,-0.064884819090366,0.020127953961492,-0.033603776246309,-0.034565988928080,0.165545761585236,-0.082106947898865,-0.007225305773318));
res += mul(Get(s1,-dx,dy), float4x4(-0.056220997124910,-0.113377340137959,0.032231006771326,-0.037985783070326,-0.073395855724812,-0.052627831697464,-0.074381336569786,-0.038576975464821,-0.187630534172058,-0.047123230993748,0.072407379746437,0.035741794854403,-0.107096172869205,-0.037349488586187,0.063122600317001,-0.038709063082933));
res += mul(Get(s1,0,-dy), float4x4(-0.125420153141022,0.152029350399971,0.049880519509315,0.067482747137547,-0.211007237434387,-0.012993114069104,0.109531380236149,0.101798467338085,-0.079967640340328,-0.056722074747086,-0.170344874262810,-0.103923633694649,0.089085236191750,-0.191723048686981,0.097626343369484,0.087048329412937));
res += mul(Get(s1,0,0), float4x4(0.011836331337690,0.052854575216770,0.046443518251181,-0.002244668314233,0.090247601270676,-0.100944869220257,0.064355127513409,-0.178633078932762,0.017034519463778,-0.044523127377033,-0.117877200245857,-0.053388334810734,0.174507483839989,-0.020751303061843,-0.105333760380745,0.031152654439211));
res += mul(Get(s1,0,dy), float4x4(-0.007241258397698,0.076703116297722,0.071273513138294,-0.039438273757696,0.026335295289755,-0.006479042582214,0.036522611975670,-0.058742750436068,-0.015686795115471,0.050494074821472,-0.177843809127808,0.003783834865317,0.072051122784615,-0.102546647191048,-0.055783614516258,-0.114183172583580));
res += mul(Get(s1,dx,-dy), float4x4(-0.008390352129936,0.024450710043311,0.049659289419651,-0.024107519537210,-0.000048909350880,0.055867765098810,0.105070866644382,0.044703114777803,0.153256237506866,-0.051178775727749,-0.134014263749123,0.049629867076874,0.055222768336535,-0.063450902700424,-0.056836858391762,0.057225249707699));
res += mul(Get(s1,dx,0), float4x4(-0.044731583446264,-0.005942883435637,-0.042184799909592,0.065914690494537,0.186082720756531,0.087167344987392,0.072590813040733,0.097491063177586,-0.114146806299686,-0.039663027971983,-0.100588887929916,0.044150121510029,-0.105968616902828,0.043990213423967,-0.027737760916352,0.014921194873750));
res += mul(Get(s1,dx,dy), float4x4(0.024354195222259,0.106835015118122,-0.070520535111427,0.064379625022411,0.070723831653595,0.101894147694111,-0.044904723763466,-0.032172046601772,-0.019707847386599,-0.131128698587418,0.165298342704773,0.069178387522697,0.047605153173208,0.119017876684666,-0.005015679169446,0.041895899921656));
res += mul(Get(s2,-dx,-dy), float4x4(0.128410413861275,0.100504294037819,-0.018430108204484,-0.055491078644991,-0.087979614734650,0.209152609109879,-0.117013648152351,-0.021117992699146,0.275840133428574,0.172278717160225,-0.044221401214600,-0.039113026112318,-0.292537331581116,0.101632475852966,-0.000629577029031,-0.220343887805939));
res += mul(Get(s2,-dx,0), float4x4(0.072974465787411,-0.144945442676544,-0.007232778239995,-0.081249423325062,0.085512071847916,0.058488935232162,0.045943316072226,-0.104863040149212,0.186391055583954,0.163559317588806,0.043290343135595,-0.071384042501450,-0.062955260276794,0.035647403448820,-0.046779192984104,-0.084176391363144));
res += mul(Get(s2,-dx,dy), float4x4(0.011211273260415,0.150533780455589,0.019289150834084,0.057541243731976,-0.005711825098842,0.218998566269875,-0.056225761771202,0.062503613531590,0.159602582454681,-0.076997555792332,-0.021681254729629,0.249489098787308,-0.178508520126343,-0.018769038841128,-0.082118451595306,-0.073395960032940));
res += mul(Get(s2,0,-dy), float4x4(-0.027596209198236,-0.145202100276947,0.005848807748407,0.005048804450780,0.059453316032887,0.017483953386545,0.011856174096465,-0.108934894204140,-0.018331471830606,0.000350462680217,-0.165273606777191,0.099200323224068,-0.132983714342117,0.115387402474880,0.258504271507263,0.133125975728035));
res += mul(Get(s2,0,0), float4x4(0.048161219805479,0.148680776357651,0.002811491023749,-0.029688376933336,-0.207067906856537,-0.035477917641401,-0.041261646896601,0.031599353998899,-0.223196148872375,-0.092247322201729,0.102183572947979,-0.058916345238686,0.030305661261082,-0.028584316372871,-0.023803960531950,-0.070942610502243));
res += mul(Get(s2,0,dy), float4x4(-0.088924393057823,-0.078408494591713,0.067574225366116,-0.104601785540581,-0.058306232094765,-0.191554367542267,0.092498227953911,-0.038336273282766,0.066440299153328,0.100030265748501,-0.038210541009903,0.147615835070610,0.116990461945534,-0.230908513069153,-0.063086532056332,0.049693863838911));
res += mul(Get(s2,dx,-dy), float4x4(-0.120228864252567,-0.022290084511042,-0.046638697385788,-0.077940352261066,-0.072131998836994,0.098610542714596,-0.077739395201206,0.039593018591404,0.003110314952210,-0.005816307850182,0.001572624198161,0.160696849226952,-0.072363637387753,0.037299659103155,-0.042669545859098,-0.130939140915871));
res += mul(Get(s2,dx,0), float4x4(-0.146666228771210,0.231574475765228,0.019095435738564,0.083229467272758,0.071957617998123,0.030440680682659,-0.083415679633617,-0.020539565011859,-0.012485560029745,0.032228242605925,-0.045696284621954,-0.021629806607962,-0.079890057444572,0.019278068095446,0.014761424623430,-0.021688017994165));
res += mul(Get(s2,dx,dy), float4x4(-0.026045316830277,0.053160618990660,0.007359672803432,0.001757988124155,0.031396083533764,-0.040199410170317,-0.058529473841190,-0.123692400753498,0.159145459532738,-0.041138648986816,0.035691473633051,-0.053977195173502,0.144436717033386,0.014559264294803,-0.056958269327879,-0.027041936293244));
res += mul(Get(s3,-dx,-dy), float4x4(0.034481976181269,0.034527063369751,0.034092865884304,0.020371224731207,-0.010626314207911,0.059850186109543,0.104903452098370,0.059687953442335,-0.083179667592049,-0.041483748704195,-0.114858485758305,0.009701984934509,-0.016478281468153,-0.022539718076587,0.113514244556427,-0.072521515190601));
res += mul(Get(s3,-dx,0), float4x4(0.080965302884579,0.048882830888033,0.008799588307738,-0.001561996643431,-0.035478286445141,-0.056072708219290,0.090615682303905,-0.090434662997723,0.052028346806765,-0.020474463701248,0.151025280356407,0.002481766277924,-0.058526109904051,-0.206944942474365,0.101837657392025,-0.277183383703232));
res += mul(Get(s3,-dx,dy), float4x4(0.078197680413723,0.068713344633579,-0.048160713165998,-0.161380231380463,-0.046013507992029,0.058493632823229,-0.036187823861837,-0.237721681594849,0.099513575434685,0.027856830507517,0.067011713981628,0.050199721008539,-0.004745185375214,-0.083080708980560,-0.173253893852234,0.109756991267204));
res += mul(Get(s3,0,-dy), float4x4(0.129664033651352,0.002343832282349,-0.085602246224880,-0.034469295293093,-0.184094309806824,0.022602705284953,0.103197090327740,-0.040802486240864,0.049685407429934,0.042752493172884,0.027544083073735,0.078728154301643,0.003553603310138,-0.132803767919540,-0.222714304924011,0.097230941057205));
res += mul(Get(s3,0,0), float4x4(0.234746158123016,-0.058404508978128,0.061797220259905,0.029156960546970,0.132760286331177,0.147179007530212,0.065018638968468,-0.055501308292150,-0.025599965825677,-0.094044148921967,-0.147691681981087,-0.025015670806170,-0.104475989937782,-0.126146793365479,-0.105027437210083,0.122909866273403));
res += mul(Get(s3,0,dy), float4x4(0.052492734044790,0.108639791607857,0.062009237706661,-0.113052792847157,0.047892458736897,-0.070238724350929,-0.005692280828953,0.030107328668237,-0.131522476673126,-0.045673117041588,0.107015632092953,0.072705790400505,-0.047498892992735,-0.038616821169853,-0.006282004062086,0.046733248978853));
res += mul(Get(s3,dx,-dy), float4x4(0.044325541704893,0.009470644406974,-0.025545910000801,-0.117958813905716,0.010243508033454,-0.004100144375116,-0.012969654053450,0.047111500054598,0.079504147171974,-0.139279499650002,-0.012943095527589,-0.062065761536360,0.004597629420459,-0.030552946031094,-0.101475894451141,0.077071711421013));
res += mul(Get(s3,dx,0), float4x4(0.017834061756730,-0.041139826178551,-0.129484027624130,0.067631155252457,0.105438984930515,0.000368129753042,-0.067272774875164,0.055682037025690,0.050816968083382,-0.068049550056458,0.029418054968119,-0.030085457488894,-0.001871286192909,0.017559399828315,-0.033566582947969,-0.017177376896143));
res += mul(Get(s3,dx,dy), float4x4(0.024131931364536,0.085925363004208,0.132548153400421,0.024148067459464,-0.023934021592140,0.178680077195168,-0.024368127807975,0.142745882272720,0.117463126778603,-0.013210900127888,0.095497816801071,0.028108142316341,-0.058417502790689,0.046103056520224,-0.021294724196196,0.003739930689335));
return max(float4(0,0,0,0), res);
}
