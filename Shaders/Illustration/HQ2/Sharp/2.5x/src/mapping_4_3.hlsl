sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.078017711639404,-0.083834841847420,-0.079659551382065,0.228899359703064,-0.045718323439360,0.025786060839891,0.049840662628412,-0.029405627399683,-0.054608751088381,-0.035532347857952,-0.027498710900545,-0.006852626334876,0.105952993035316,0.002378764096648,-0.154106497764587,0.028696676716208));
res += mul(Get(s0,-dx,0), float4x4(0.048707392066717,0.034417256712914,-0.028843604028225,-0.115440636873245,-0.077127791941166,0.016952455043793,-0.074931286275387,-0.019016038626432,-0.084106862545013,-0.120442464947701,-0.104097634553909,0.081241093575954,0.055364262312651,0.095582313835621,0.027310112491250,0.002518834080547));
res += mul(Get(s0,-dx,dy), float4x4(-0.116391912102699,-0.091990821063519,0.116832554340363,-0.075218997895718,-0.183030620217323,0.242477625608444,-0.013066486455500,-0.013475271873176,0.010419291444123,0.049417246133089,0.248341962695122,-0.059070996940136,-0.075905174016953,-0.131332561373711,0.025572480633855,-0.036686666309834));
res += mul(Get(s0,0,-dy), float4x4(-0.051355078816414,0.073089323937893,-0.119718156754971,-0.010520765557885,-0.116693049669266,0.126395270228386,-0.012541121803224,0.008095450699329,0.001141362474300,-0.016900746151805,-0.031917843967676,-0.075870014727116,-0.132884785532951,0.066927514970303,-0.082076027989388,0.011977106332779));
res += mul(Get(s0,0,0), float4x4(0.009166098199785,-0.134139031171799,-0.031647697091103,0.049749575555325,0.248409762978554,-0.059459008276463,0.028475141152740,0.070935741066933,0.036968942731619,0.085524670779705,-0.015554779209197,0.101869449019432,-0.064860031008720,-0.062032267451286,0.136900499463081,-0.138295412063599));
res += mul(Get(s0,0,dy), float4x4(0.040319953113794,-0.071928255259991,0.154871255159378,0.002027851296589,-0.057920232415199,0.042125627398491,-0.118712179362774,-0.013481296598911,-0.067952521145344,-0.094911806285381,-0.001450448529795,0.019517755135894,0.021606033667922,-0.137991651892662,0.041530262678862,0.023564973846078));
res += mul(Get(s0,dx,-dy), float4x4(-0.059180233627558,0.157475814223289,0.268576592206955,-0.107950575649738,0.115664124488831,0.127168506383896,0.039290659129620,-0.027696931734681,0.029171034693718,0.089922249317169,0.040194429457188,-0.067262887954712,-0.146544933319092,0.097867555916309,0.102681249380112,-0.246659070253372));
res += mul(Get(s0,dx,0), float4x4(-0.118318140506744,-0.074188984930515,-0.013727420940995,-0.135966315865517,-0.053804855793715,-0.017718378454447,-0.018592903390527,-0.015283367596567,-0.086572781205177,-0.117544464766979,0.180022254586220,0.096873410046101,-0.016719520092010,0.025563161820173,0.052895501255989,-0.038045872002840));
res += mul(Get(s0,dx,dy), float4x4(0.070608288049698,-0.042781304568052,-0.185770586133003,-0.148678213357925,0.076604291796684,-0.229694053530693,-0.124684020876884,0.132226720452309,0.047288872301579,0.119011379778385,-0.064790472388268,-0.049906339496374,0.094136878848076,-0.015797030180693,0.145559087395668,-0.147657737135887));
res += mul(Get(s1,-dx,-dy), float4x4(-0.047604650259018,0.021780237555504,0.109475769102573,0.035525046288967,0.166532233357430,-0.061794083565474,-0.206715971231461,0.066651038825512,-0.079946726560593,0.053145293146372,-0.047135923057795,0.021998014301062,-0.133726522326469,0.102730058133602,-0.071769796311855,-0.047661330550909));
res += mul(Get(s1,-dx,0), float4x4(-0.006484554614872,-0.044121772050858,0.081604540348053,-0.090334862470627,-0.158993557095528,0.009699885733426,-0.162666335701942,-0.068101584911346,0.110920131206512,0.062797456979752,-0.139389872550964,0.028862247243524,-0.184845671057701,0.152239352464676,-0.047000352293253,-0.048123143613338));
res += mul(Get(s1,-dx,dy), float4x4(-0.092923834919930,-0.121052138507366,-0.070500276982784,0.083208158612251,0.039456084370613,0.058902092278004,0.036387987434864,-0.025717912241817,-0.157328858971596,0.033047318458557,-0.051497239619493,0.015799501910806,0.053764730691910,0.085002012550831,-0.121842384338379,0.043926004320383));
res += mul(Get(s1,0,-dy), float4x4(-0.010722636245191,-0.186152875423431,-0.019614262506366,-0.062777400016785,0.086823008954525,-0.080903343856335,-0.115411825478077,-0.031322237104177,-0.021134443581104,-0.007118790410459,-0.169881850481033,0.134271770715714,-0.173050597310066,0.049436591565609,-0.170963510870934,0.047913342714310));
res += mul(Get(s1,0,0), float4x4(-0.070882827043533,-0.153243303298950,0.034102186560631,-0.075486689805984,0.028530981391668,-0.123416058719158,-0.142026469111443,-0.019324861466885,0.126356571912766,0.009490880183876,0.060407310724258,-0.012737694196403,0.033228017389774,0.123894043266773,-0.086144320666790,-0.020403936505318));
res += mul(Get(s1,0,dy), float4x4(0.093871362507343,-0.040035985410213,0.025376001372933,0.051012292504311,0.136061832308769,0.038725920021534,-0.033904328942299,-0.083813175559044,0.048651155084372,0.172154217958450,0.091092683374882,-0.035020414739847,-0.163552612066269,-0.015001307241619,-0.114093735814095,0.023775624111295));
res += mul(Get(s1,dx,-dy), float4x4(0.076819784939289,0.056817635893822,-0.124561831355095,-0.016853142529726,-0.088415719568729,-0.069451585412025,0.046472448855639,0.028707884252071,-0.000696720264386,0.003571933135390,0.073034942150116,0.025779435411096,0.040736723691225,-0.025720549747348,0.012453453615308,-0.079031340777874));
res += mul(Get(s1,dx,0), float4x4(0.029577197507024,-0.011993133462965,0.025323163717985,-0.023615257814527,-0.013031632639468,-0.209189936518669,0.042451567947865,-0.011851985007524,0.021733717992902,-0.033229507505894,0.086525365710258,-0.034336950629950,0.025348836556077,-0.071526318788528,-0.030202347785234,-0.011673964560032));
res += mul(Get(s1,dx,dy), float4x4(-0.026761889457703,0.011676069349051,0.040575515478849,-0.035304017364979,0.093710608780384,0.014044349081814,-0.167608648538589,0.053006839007139,-0.081113867461681,0.123146846890450,0.108628503978252,-0.118802845478058,0.012049281038344,0.154419690370560,0.040643751621246,-0.026882242411375));
res += mul(Get(s2,-dx,-dy), float4x4(-0.044498413801193,0.203847974538803,-0.061947327107191,0.062299259006977,0.094226874411106,0.033840373158455,-0.136598482728004,-0.083090573549271,-0.137106120586395,-0.013379424810410,-0.102317743003368,-0.000023717379008,-0.042730458080769,0.097210451960564,0.148972332477570,0.129328936338425));
res += mul(Get(s2,-dx,0), float4x4(0.102454550564289,0.089008472859859,0.057551324367523,0.071705713868141,0.083133369684219,-0.185488522052765,-0.094487950205803,-0.122779771685600,-0.085498891770840,-0.076532624661922,0.043827556073666,-0.078430637717247,0.011184851638973,0.096299402415752,0.021904543042183,0.047124214470387));
res += mul(Get(s2,-dx,dy), float4x4(0.070014432072639,-0.053609654307365,0.042378265410662,-0.050918120890856,0.055453546345234,0.038683861494064,-0.242204874753952,0.031400602310896,0.055251698940992,0.040013458579779,-0.113239571452141,-0.004273640457541,-0.027597388252616,-0.041107811033726,0.071430832147598,0.049174860119820));
res += mul(Get(s2,0,-dy), float4x4(-0.113844841718674,-0.111625984311104,-0.128883808851242,-0.176667720079422,0.058651976287365,0.027200700715184,0.114888504147530,-0.010105092078447,-0.029053892940283,0.085704408586025,0.062308192253113,0.062153764069080,-0.062060967087746,0.065543696284294,-0.008274207822978,-0.005548034794629));
res += mul(Get(s2,0,0), float4x4(-0.051186919212341,-0.083765648305416,-0.142479792237282,-0.000702738645487,-0.117322817444801,-0.103434987366199,-0.116453111171722,-0.083091676235199,0.013940109871328,-0.153823554515839,0.042818099260330,-0.101511344313622,0.141198992729187,-0.020157502964139,0.087379269301891,-0.076663285493851));
res += mul(Get(s2,0,dy), float4x4(0.036174949258566,0.004112581722438,-0.193216875195503,0.093544200062752,0.146293431520462,-0.088352017104626,0.006282321643084,0.078754656016827,0.078641898930073,0.104451507329941,-0.017317174002528,0.096734605729580,-0.009214245714247,-0.018976517021656,-0.133121311664581,-0.045034304261208));
res += mul(Get(s2,dx,-dy), float4x4(-0.036482810974121,-0.117041155695915,-0.053676489740610,0.090219616889954,0.001931812847033,-0.058443494141102,-0.178811863064766,0.154278710484505,-0.062054388225079,-0.093700766563416,0.161050602793694,0.100410357117653,-0.010593016631901,0.105854921042919,-0.089708864688873,0.041692700237036));
res += mul(Get(s2,dx,0), float4x4(0.094070628285408,-0.140590816736221,0.013801232911646,0.040300425142050,-0.116304479539394,-0.063660643994808,-0.054976169019938,0.046813879162073,0.061127658933401,-0.173272684216499,-0.137144073843956,-0.012789338827133,-0.048084598034620,0.016992826014757,-0.091941617429256,-0.078919738531113));
res += mul(Get(s2,dx,dy), float4x4(-0.117253676056862,-0.137809500098228,0.043402776122093,0.074807547032833,-0.065679699182510,0.066167391836643,0.080306343734264,0.023656934499741,-0.020266989246011,0.005444546230137,0.049846060574055,-0.007284312509000,-0.141654402017593,0.081345073878765,-0.096131525933743,-0.004770177882165));
res += mul(Get(s3,-dx,-dy), float4x4(0.102487131953239,0.018851254135370,0.214634940028191,-0.065878547728062,-0.019973630085588,-0.077416203916073,0.051720637828112,0.034861639142036,0.087378822267056,-0.003976899664849,-0.188900604844093,0.142116859555244,0.094658710062504,-0.161494791507721,-0.044956982135773,-0.092169113457203));
res += mul(Get(s3,-dx,0), float4x4(-0.082724943757057,-0.077246792614460,0.165687024593353,-0.143617421388626,-0.133500486612320,0.163395613431931,0.002555695362389,0.020199904218316,0.262306004762650,0.040051724761724,0.058058679103851,-0.086412459611893,0.019833793863654,0.041082631796598,-0.083270385861397,-0.060193799436092));
res += mul(Get(s3,-dx,dy), float4x4(0.033785179257393,0.030059291049838,-0.055419374257326,0.117406778037548,0.089921817183495,-0.140362143516541,0.106106109917164,0.011664849705994,-0.115858048200607,-0.164626941084862,-0.000687275896780,0.055941782891750,0.025827143341303,0.039291009306908,0.110275484621525,0.041463363915682));
res += mul(Get(s3,0,-dy), float4x4(-0.015467015095055,-0.034211140125990,0.034961037337780,0.078271262347698,-0.042310960590839,-0.139422446489334,-0.009397905319929,-0.052296038717031,-0.071496136486530,-0.177773311734200,-0.151248887181282,-0.147586539387703,-0.113014020025730,0.094520546495914,-0.056626055389643,0.036960177123547));
res += mul(Get(s3,0,0), float4x4(0.090279877185822,-0.134227365255356,-0.158315390348434,-0.032282542437315,0.221491858363152,0.089847385883331,0.058106619864702,0.119244039058685,-0.073407560586929,0.004940522368997,-0.021750768646598,0.017646703869104,-0.053015261888504,-0.034910574555397,0.070224255323410,-0.007812648080289));
res += mul(Get(s3,0,dy), float4x4(-0.037666492164135,-0.003655644366518,-0.077344186604023,0.100085623562336,0.002984369639307,-0.065881505608559,0.178801745176315,-0.016762906685472,0.042039070278406,-0.166578695178032,0.163404166698456,0.116358436644077,0.012504784390330,-0.125086411833763,0.142206117510796,0.022501811385155));
res += mul(Get(s3,dx,-dy), float4x4(-0.088530540466309,-0.008610541932285,-0.099897325038910,0.060885287821293,-0.025701833888888,-0.058044537901878,-0.103039972484112,-0.007022413890809,-0.034772004932165,0.126661151647568,0.061938837170601,-0.011480533517897,-0.075194627046585,-0.066900230944157,0.116150856018066,0.047494526952505));
res += mul(Get(s3,dx,0), float4x4(-0.049066025763750,-0.062711238861084,-0.021041831001639,0.058722820132971,0.005073384381831,-0.056918602436781,-0.023417869582772,-0.099228471517563,0.022125180810690,-0.008666616864502,0.074906975030899,-0.151693671941757,0.073037624359131,-0.048536498099566,0.053065609186888,-0.014340488240123));
res += mul(Get(s3,dx,dy), float4x4(-0.003505159867927,-0.007924582809210,0.070348210632801,0.045022666454315,0.018924927338958,0.080620422959328,-0.082048110663891,-0.005155466496944,-0.128872498869896,0.095834352076054,-0.124099813401699,0.104647934436798,-0.059646274894476,-0.031381092965603,-0.116910867393017,0.030150463804603));
return max(float4(0,0,0,0), res);
}
