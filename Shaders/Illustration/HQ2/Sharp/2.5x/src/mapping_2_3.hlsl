sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.042840611189604,-0.104520678520203,-0.116096653044224,0.006576316431165,-0.006821954157203,-0.123790718615055,-0.109358616173267,0.037241652607918,0.184943884611130,-0.073335275053978,0.025787603110075,-0.047602053731680,0.082333214581013,0.037824194878340,-0.049963504076004,-0.070557489991188));
res += mul(Get(s0,-dx,0), float4x4(-0.021496359258890,0.169652417302132,0.013469706289470,0.063290506601334,-0.059406403452158,0.098005756735802,-0.094404034316540,0.001632127328776,-0.010756340809166,-0.032141070812941,0.131227448582649,0.057009309530258,-0.079691417515278,0.089527271687984,0.149556785821915,0.068115711212158));
res += mul(Get(s0,-dx,dy), float4x4(0.024769132956862,-0.113014213740826,-0.033198833465576,-0.059580348432064,0.048219066113234,0.014410481788218,0.022366119548678,-0.033195596188307,0.027276042848825,0.068341240286827,-0.087602272629738,0.072437442839146,-0.115065351128578,0.026773320510983,0.033895816653967,-0.000848611409310));
res += mul(Get(s0,0,-dy), float4x4(0.073586948215961,0.001957937143743,-0.163689523935318,-0.009953446686268,-0.050372283905745,0.040206104516983,-0.045225553214550,-0.043167065829039,0.038680315017700,0.091200157999992,0.162449762225151,0.032287411391735,-0.140461862087250,0.020227264612913,-0.139536634087563,0.111943207681179));
res += mul(Get(s0,0,0), float4x4(0.042064562439919,-0.023314408957958,0.064625509083271,0.022935392335057,0.037290733307600,-0.082724981009960,0.187181144952774,-0.160938888788223,0.093774259090424,-0.171850547194481,0.082601323723793,0.058708891272545,0.189748615026474,0.077985130250454,-0.078600205481052,-0.097480237483978));
res += mul(Get(s0,0,dy), float4x4(-0.046074118465185,-0.105586841702461,0.061477225273848,-0.035624023526907,0.133803680539131,0.011886877007782,-0.002304723951966,0.102447226643562,0.021343285217881,-0.022481344640255,-0.101772405207157,0.154852315783501,-0.067639440298080,0.040360402315855,0.089421048760414,-0.080394454300404));
res += mul(Get(s0,dx,-dy), float4x4(-0.029242169111967,-0.123820841312408,-0.060095217078924,0.026307046413422,0.103593498468399,0.024013632908463,0.046745393425226,0.056265641003847,0.033527642488480,-0.049013588577509,0.102036282420158,-0.168691024184227,0.085803881287575,-0.114920027554035,0.170186817646027,0.039499130100012));
res += mul(Get(s0,dx,0), float4x4(-0.091594375669956,0.056665536016226,0.045174706727266,-0.167412698268890,-0.012402546592057,-0.001846273778938,0.055774401873350,-0.102496512234211,0.029861861839890,0.012217599898577,0.098771579563618,0.039017487317324,0.046259667724371,0.017463663592935,-0.113695748150349,-0.084520742297173));
res += mul(Get(s0,dx,dy), float4x4(0.094269275665283,-0.135074272751808,-0.123825363814831,0.043392308056355,-0.009502437897027,0.151566997170448,0.041787471622229,-0.139777556061745,0.247957810759544,0.054234109818935,0.147613853216171,-0.007880653254688,-0.142877265810966,-0.148568853735924,-0.013571870513260,0.011099226772785));
res += mul(Get(s1,-dx,-dy), float4x4(0.190030023455620,0.104361280798912,-0.061633594334126,-0.037823352962732,-0.011965785175562,-0.108589254319668,0.026487143710256,-0.017774293199182,-0.031448829919100,-0.078458376228809,-0.013485433533788,-0.028574790805578,-0.041696634143591,0.094930268824100,0.030220204964280,-0.058245733380318));
res += mul(Get(s1,-dx,0), float4x4(0.052275694906712,-0.197638213634491,0.177848786115646,0.103236824274063,0.014799145981669,0.059682622551918,0.046927746385336,0.144444882869720,-0.080230966210365,0.166387215256691,0.108406402170658,-0.152862742543221,-0.000447215832537,-0.092346593737602,0.011258787475526,-0.146504998207092));
res += mul(Get(s1,-dx,dy), float4x4(0.171427801251411,-0.051117412745953,-0.084134474396706,0.041104290634394,-0.072560124099255,0.026941770687699,-0.063962601125240,-0.162812486290932,0.068103261291981,-0.065730780363083,-0.132871761918068,-0.000165037810802,0.102402046322823,-0.164820536971092,0.066730067133904,0.012043330818415));
res += mul(Get(s1,0,-dy), float4x4(0.031932003796101,0.008881852030754,0.125297129154205,-0.038230571895838,0.028331143781543,-0.037716366350651,-0.111319392919540,0.100251294672489,0.029966868460178,0.218628957867622,0.053822532296181,0.023421959951520,-0.129641398787498,0.109934672713280,-0.010671176947653,0.003625020151958));
res += mul(Get(s1,0,0), float4x4(0.017641015350819,-0.003307909239084,-0.058212079107761,-0.060069993138313,-0.114682555198669,-0.052259791642427,0.044783707708120,-0.067737549543381,0.049353625625372,-0.062927208840847,-0.003398648696020,0.029208539053798,-0.042724460363388,-0.134201467037201,0.021955348551273,0.115041010081768));
res += mul(Get(s1,0,dy), float4x4(-0.095654308795929,0.176990538835526,0.072581574320793,-0.038032032549381,-0.058607842773199,-0.101617805659771,-0.086344592273235,-0.024690464138985,0.036726038902998,0.022516820579767,-0.059230789542198,-0.084466397762299,0.094935588538647,-0.163082346320152,0.040005840361118,-0.156743109226227));
res += mul(Get(s1,dx,-dy), float4x4(0.004656906239688,0.003978634253144,-0.124411568045616,0.225405976176262,0.014221392571926,-0.187974423170090,0.000019642931875,0.060788635164499,0.058999113738537,0.099739737808704,-0.007087480276823,-0.031383484601974,0.087072148919106,-0.058237720280886,-0.162032186985016,-0.059413842856884));
res += mul(Get(s1,dx,0), float4x4(0.015147267840803,-0.058840826153755,0.142007291316986,-0.004657993558794,-0.034873794764280,-0.050253245979548,-0.262844204902649,-0.088518358767033,0.093694359064102,0.083527050912380,0.147532731294632,0.028870670124888,-0.012294643558562,0.081758931279182,-0.053592041134834,0.022368194535375));
res += mul(Get(s1,dx,dy), float4x4(-0.141962125897408,0.053140670061111,-0.207264691591263,-0.019070962443948,0.058386161923409,0.059518340975046,-0.193859979510307,0.041464179754257,0.024668062105775,-0.038388289511204,-0.140219286084175,0.019064279273152,0.002862899797037,0.091125220060349,0.092067793011665,-0.018680395558476));
res += mul(Get(s2,-dx,-dy), float4x4(0.031029837206006,-0.157602846622467,0.024553773924708,0.146319314837456,-0.084809340536594,-0.047666992992163,0.053968518972397,0.121396876871586,0.016128350049257,0.031515110284090,-0.006782867945731,0.030300162732601,-0.039061035960913,-0.010114561766386,0.061973147094250,0.011408340185881));
res += mul(Get(s2,-dx,0), float4x4(0.055828087031841,-0.054501589387655,0.031188059598207,-0.060153692960739,-0.065363578498363,0.120187900960445,0.056829515844584,-0.000979287200607,-0.112114161252975,-0.015522702597082,0.089608997106552,-0.154468387365341,-0.157018616795540,-0.128057837486267,-0.127577155828476,-0.048608373850584));
res += mul(Get(s2,-dx,dy), float4x4(-0.184034049510956,0.004005342721939,0.196217402815819,-0.247632578015327,-0.183176204562187,0.157129719853401,-0.084521152079105,-0.058075837790966,0.029031571000814,0.040029168128967,-0.041194353252649,0.012011738494039,-0.065835744142532,-0.221474379301071,0.055884275585413,-0.031874947249889));
res += mul(Get(s2,0,-dy), float4x4(-0.042843595147133,0.102501869201660,-0.079386077821255,0.024276982992887,0.008277849294245,-0.176119253039360,0.026104800403118,-0.118587628006935,0.133312404155731,0.099041357636452,-0.056379698216915,-0.047460306435823,-0.097196109592915,-0.093109264969826,-0.021388588473201,-0.102535881102085));
res += mul(Get(s2,0,0), float4x4(0.075962126255035,0.205494582653046,0.156198620796204,-0.158278763294220,-0.067888639867306,0.060932643711567,0.056341532617807,-0.046180829405785,-0.008461355231702,-0.080892100930214,-0.032370068132877,-0.041437249630690,-0.046010226011276,0.105269305408001,0.202854409813881,-0.065953440964222));
res += mul(Get(s2,0,dy), float4x4(0.268738478422165,0.077627144753933,-0.062165353447199,0.098717883229256,0.031165994703770,-0.031487625092268,0.263365656137466,0.101742364466190,0.038770388811827,-0.073902919888496,-0.015961339697242,-0.015545153059065,0.033540509641171,-0.045941527932882,-0.061592966318130,-0.054354090243578));
res += mul(Get(s2,dx,-dy), float4x4(-0.109307534992695,0.066766709089279,0.037896744906902,-0.013356392271817,-0.000110676657641,-0.050293296575546,-0.155791118741035,0.127741679549217,-0.086838833987713,0.054223429411650,0.098520465195179,-0.272163808345795,0.079680360853672,0.018427697941661,0.036906778812408,-0.016889270395041));
res += mul(Get(s2,dx,0), float4x4(-0.044597022235394,-0.138039037585258,0.036358166486025,-0.069534853100777,0.117216117680073,-0.076012328267097,-0.084699496626854,-0.028714833781123,0.149709835648537,0.136412367224693,0.004811613354832,-0.069396637380123,0.017107671126723,0.020499916747212,0.018873937427998,0.055616725236177));
res += mul(Get(s2,dx,dy), float4x4(-0.035105787217617,-0.037422627210617,-0.065578646957874,-0.119087822735310,0.166545107960701,0.172226220369339,-0.086746677756310,0.008648963645101,0.042902342975140,0.107146240770817,-0.040617436170578,0.070175342261791,0.009052915498614,-0.204637452960014,-0.098556317389011,-0.001935758860782));
res += mul(Get(s3,-dx,-dy), float4x4(0.034130569547415,0.116550803184509,0.083243496716022,-0.006156126968563,-0.004484816454351,-0.112010613083839,-0.012480224482715,-0.015440234914422,-0.009967474266887,0.078863903880119,-0.131474196910858,-0.054912254214287,-0.063414886593819,0.060923203825951,0.054816089570522,0.085098706185818));
res += mul(Get(s3,-dx,0), float4x4(0.255927979946136,0.186931878328323,-0.214507028460503,-0.078836143016815,0.040903951972723,0.031413171440363,0.166998580098152,0.013567808084190,0.097029373049736,0.043409984558821,-0.056254696100950,0.064657300710678,0.060388498008251,-0.095108591020107,0.014316172339022,-0.177811488509178));
res += mul(Get(s3,-dx,dy), float4x4(0.036004740744829,-0.002041713567451,-0.162149041891098,0.091991446912289,0.053950633853674,-0.054550401866436,-0.064066797494888,-0.047986812889576,0.031405344605446,-0.016098232939839,-0.076826736330986,-0.016411632299423,-0.066500633955002,-0.082694441080093,-0.026877952739596,-0.120723336935043));
res += mul(Get(s3,0,-dy), float4x4(0.013189121149480,0.091260887682438,-0.126134514808655,0.023297017440200,-0.175182715058327,0.045346152037382,0.162696734070778,0.112406626343727,0.054158352315426,-0.144513696432114,-0.050134371966124,-0.085197456181049,0.140231743454933,0.108047410845757,-0.064373202621937,0.054583333432674));
res += mul(Get(s3,0,0), float4x4(0.152177140116692,-0.071912325918674,0.119266755878925,0.048161640763283,-0.254778265953064,0.167531654238701,-0.045162327587605,-0.149722322821617,-0.192464604973793,-0.107664212584496,-0.073988988995552,0.146964043378830,-0.000578026054427,-0.178602531552315,-0.107654392719269,-0.017404146492481));
res += mul(Get(s3,0,dy), float4x4(0.014850242063403,0.069983147084713,0.092026837170124,0.020302094519138,-0.020543625578284,0.047652788460255,-0.077221177518368,-0.092655122280121,-0.015445218421519,0.060175098478794,0.042242087423801,0.073992468416691,0.098063863813877,0.014478872530162,-0.012582971714437,-0.015401878394186));
res += mul(Get(s3,dx,-dy), float4x4(-0.056257881224155,0.189650490880013,-0.116092868149281,0.078879788517952,0.240741088986397,0.047348741441965,-0.042569383978844,-0.060564819723368,0.004923095926642,0.052707973867655,0.086605131626129,0.132409796118736,0.231835961341858,0.071890786290169,0.019256284460425,0.094652347266674));
res += mul(Get(s3,dx,0), float4x4(0.091172292828560,0.109487704932690,-0.007205460686237,0.141465127468109,0.041261333972216,-0.078701727092266,0.078781820833683,-0.055398538708687,-0.077334761619568,-0.141778796911240,-0.028860416263342,-0.013474010862410,-0.004012230783701,-0.192046508193016,0.010263964533806,0.148226216435432));
res += mul(Get(s3,dx,dy), float4x4(-0.032935950905085,-0.085293203592300,-0.049616169184446,-0.041268963366747,0.051370918750763,0.028141191229224,0.080578975379467,-0.061268791556358,-0.000917544530239,0.014004167169333,0.054946128278971,0.170422539114952,0.134125992655754,-0.021772999316454,0.054607480764389,0.028723800554872));
return max(float4(0,0,0,0), res);
}
