sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.197636723518372,0.116458579897881,0.023206746205688,0.108475193381310,0.122473224997520,-0.131221801042557,-0.161232456564903,-0.033357266336679,-0.172859087586403,-0.057537481188774,-0.092807270586491,0.031388990581036,-0.100981585681438,-0.057555951178074,-0.105881594121456,0.109099879860878));
res += mul(Get(s0,-dx,0), float4x4(0.172039344906807,-0.121603451669216,0.052322976291180,-0.051385488361120,-0.041808027774096,0.069261118769646,0.001906277379021,-0.054844815284014,-0.067703209817410,0.097065582871437,-0.067318715155125,-0.127911433577538,0.004296913277358,-0.209977552294731,0.041344810277224,0.111566640436649));
res += mul(Get(s0,-dx,dy), float4x4(-0.138095453381538,0.039348118007183,-0.043837964534760,-0.107098713517189,0.243762552738190,-0.102918952703476,0.029701136052608,-0.078119069337845,-0.083517700433731,0.151922851800919,-0.064987346529961,0.117521867156029,-0.042913027107716,-0.022586781531572,0.032131865620613,0.023281421512365));
res += mul(Get(s0,0,-dy), float4x4(0.081742450594902,-0.038249913603067,-0.077514417469501,-0.029057204723358,0.036125071346760,-0.081032462418079,-0.086953349411488,0.071703612804413,-0.001728679635562,-0.094356536865234,-0.092766530811787,0.017655821517110,0.004916424397379,-0.088808029890060,-0.107119798660278,-0.150723412632942));
res += mul(Get(s0,0,0), float4x4(-0.100850619375706,-0.048734392970800,-0.044593159109354,-0.055732186883688,0.092716172337532,0.134146794676781,0.048668771982193,-0.009636687114835,0.134630367159843,-0.026230391114950,0.140504613518715,0.010094550438225,0.073751740157604,-0.019603541120887,0.100566565990448,0.102703191339970));
res += mul(Get(s0,0,dy), float4x4(-0.188904613256454,0.049962766468525,-0.101476177573204,0.029572732746601,-0.013852780684829,0.086549893021584,0.114237852394581,-0.142175510525703,0.178987845778465,0.092699691653252,-0.032697055488825,0.139731824398041,-0.070751883089542,0.222985312342644,-0.005686305463314,-0.005859449971467));
res += mul(Get(s0,dx,-dy), float4x4(-0.090192846953869,0.135983571410179,-0.065418355166912,-0.021868064999580,-0.024221805855632,-0.071907207369804,0.061956189572811,0.197778314352036,-0.135652571916580,0.059319883584976,-0.032166503369808,0.000448465347290,-0.010752923786640,0.012693475000560,0.012892672792077,0.023954931646585));
res += mul(Get(s0,dx,0), float4x4(-0.193499341607094,-0.077779404819012,0.062420852482319,-0.145360231399536,-0.070504792034626,0.092418231070042,-0.143370598554611,-0.030934704467654,0.040003601461649,0.023629840463400,-0.006490528117865,-0.165554895997047,-0.152175828814507,0.134767830371857,0.010558457113802,0.125328898429871));
res += mul(Get(s0,dx,dy), float4x4(-0.100988164544106,-0.005411794874817,-0.206791132688522,0.054766826331615,0.014508019201458,-0.053778421133757,-0.067444428801537,0.025143578648567,-0.078850813210011,0.033971440047026,-0.160020798444748,0.014358362182975,-0.029906967654824,-0.097476862370968,-0.050939392298460,0.039066173136234));
res += mul(Get(s1,-dx,-dy), float4x4(0.094449535012245,0.089212931692600,-0.167926594614983,-0.339339017868042,-0.043017923831940,-0.103224962949753,0.013795008882880,-0.030090844258666,0.102184116840363,-0.110989280045033,-0.026818763464689,0.047850608825684,-0.068175576627254,0.009350820444524,0.017023423686624,-0.125116080045700));
res += mul(Get(s1,-dx,0), float4x4(-0.131780445575714,-0.172542348504066,-0.016147051006556,-0.152534827589989,0.003850881708786,-0.015256954357028,0.033400304615498,-0.058203522115946,-0.011484976857901,-0.149500116705894,-0.056838456541300,-0.039290171116590,0.054622933268547,-0.066900305449963,-0.033759869635105,-0.046120364218950));
res += mul(Get(s1,-dx,dy), float4x4(0.040546305477619,-0.023293446749449,-0.144109591841698,-0.076286315917969,-0.020938318222761,-0.015864804387093,0.130892604589462,-0.072336710989475,0.085806049406528,-0.160267964005470,-0.048955485224724,0.042747672647238,0.060015905648470,0.088748313486576,0.012280799448490,0.084210321307182));
res += mul(Get(s1,0,-dy), float4x4(-0.130082651972771,-0.004744462203234,-0.019530840218067,-0.117753028869629,-0.045088578015566,0.076951108872890,-0.202345326542854,-0.004924643784761,0.049589104950428,0.062741160392761,0.045518517494202,0.015237955376506,-0.033717598766088,-0.040880575776100,0.072856448590755,0.026691865175962));
res += mul(Get(s1,0,0), float4x4(0.019442791119218,0.029672674834728,0.010779621079564,0.012540528550744,0.131631255149841,0.025639582425356,0.051765926182270,-0.131100952625275,-0.043648935854435,-0.102044783532619,0.038310680538416,-0.032150160521269,0.094363316893578,-0.056157831102610,-0.053437877446413,0.031283393502235));
res += mul(Get(s1,0,dy), float4x4(-0.048398513346910,-0.042308356612921,0.012972538359463,0.013148572295904,-0.046886209398508,0.075020566582680,-0.030093289911747,-0.028321286663413,-0.064404428005219,-0.009203619323671,0.097493492066860,0.000274033809546,-0.012108620256186,0.129533186554909,-0.055525332689285,-0.047368668019772));
res += mul(Get(s1,dx,-dy), float4x4(-0.027032716199756,-0.145507887005806,-0.127545043826103,-0.061261329799891,-0.063471719622612,-0.067011289298534,-0.018632518127561,0.061390541493893,0.025144692510366,-0.016395041719079,0.029608100652695,0.057314097881317,0.007749704644084,0.122207596898079,-0.036468375474215,-0.076866820454597));
res += mul(Get(s1,dx,0), float4x4(-0.144236594438553,-0.118176773190498,0.027754861861467,0.107031613588333,-0.076492145657539,0.011887243017554,-0.071277752518654,0.064033679664135,-0.005229059606791,0.021290479227901,-0.013486694544554,0.068358600139618,0.145592883229256,-0.075729452073574,0.002097279066220,0.181775927543640));
res += mul(Get(s1,dx,dy), float4x4(-0.088369697332382,-0.064851164817810,-0.114257521927357,-0.075627200305462,-0.039032895117998,0.072442367672920,0.006904108915478,-0.179763421416283,-0.085319921374321,-0.064787030220032,-0.104441024363041,-0.062057226896286,-0.046022105962038,0.130337178707123,0.166708543896675,-0.024711819365621));
res += mul(Get(s2,-dx,-dy), float4x4(-0.175737708806992,-0.251590758562088,-0.096374928951263,-0.006987150758505,0.145410850644112,-0.058949336409569,0.061833672225475,0.004539027810097,0.012921970337629,-0.052040562033653,-0.076766110956669,-0.159015432000160,0.137805357575417,-0.052008785307407,0.040754932910204,0.007473726291209));
res += mul(Get(s2,-dx,0), float4x4(-0.105585373938084,-0.083129562437534,0.113266728818417,-0.033519629389048,0.095282532274723,0.139520630240440,-0.080875419080257,0.094441883265972,-0.010717631317675,0.047853495925665,-0.127264842391014,-0.109076678752899,0.089285075664520,-0.024749327450991,0.048142947256565,-0.056358482688665));
res += mul(Get(s2,-dx,dy), float4x4(0.027577882632613,0.159474611282349,-0.022367892786860,-0.008402142673731,0.155627563595772,-0.032964780926704,-0.118901982903481,0.153269320726395,0.015090590342879,0.107086218893528,-0.168973147869110,-0.034579105675220,0.118580736219883,0.194600641727448,-0.006212313193828,0.076041854918003));
res += mul(Get(s2,0,-dy), float4x4(-0.033938311040401,0.056898985058069,0.066754035651684,-0.033496052026749,0.067194476723671,-0.035242777317762,0.011504186317325,-0.125512644648552,0.068732440471649,-0.052644375711679,-0.071530200541019,-0.022717997431755,0.014271144755185,-0.127231299877167,0.176439851522446,0.148194044828415));
res += mul(Get(s2,0,0), float4x4(0.251828521490097,0.051921315491199,-0.005448548123240,-0.099934875965118,-0.323985695838928,0.096742562949657,0.022939851507545,0.012846172787249,0.105224370956421,0.079107798635960,-0.015742713585496,0.114255160093307,-0.077968828380108,-0.001964332535863,-0.118162803351879,0.042666014283895));
res += mul(Get(s2,0,dy), float4x4(-0.116170339286327,0.007458172272891,-0.053417269140482,0.030485484749079,-0.083414398133755,-0.070052921772003,-0.229642167687416,-0.054360978305340,-0.084656581282616,-0.006420222576708,-0.095520064234734,-0.037013467401266,0.058617211878300,-0.033850938081741,0.023576160892844,0.027562372386456));
res += mul(Get(s2,dx,-dy), float4x4(-0.023344466462731,-0.016649981960654,-0.043268673121929,0.131768211722374,0.024027667939663,0.139233455061913,-0.021920245140791,0.048628490418196,-0.047439031302929,0.067632228136063,0.000653570285067,0.036654703319073,0.154747247695923,0.029295438900590,-0.087981425225735,0.021727107465267));
res += mul(Get(s2,dx,0), float4x4(0.007638458162546,0.067144148051739,0.073761798441410,0.012958251871169,-0.073226653039455,-0.112856015563011,0.163259908556938,0.012651373632252,-0.069070093333721,-0.107698217034340,0.033262282609940,0.079140014946461,0.043844491243362,0.153636872768402,-0.069430857896805,0.093492649495602));
res += mul(Get(s2,dx,dy), float4x4(-0.130280047655106,0.216000929474831,0.107245951890945,-0.080122768878937,0.047530815005302,-0.164638772606850,-0.020596934482455,-0.071302033960819,0.070208571851254,-0.007736202329397,-0.060027562081814,0.041244581341743,0.079418458044529,0.085151351988316,0.038360837846994,-0.030761437490582));
res += mul(Get(s3,-dx,-dy), float4x4(-0.131591573357582,-0.062647685408592,0.094731308519840,-0.038251433521509,0.028054077178240,-0.051102750003338,0.148283854126930,0.060361742973328,0.074777401983738,0.124935001134872,0.006045600399375,0.104960739612579,0.027758769690990,0.045935843139887,0.097217656672001,-0.035346429795027));
res += mul(Get(s3,-dx,0), float4x4(0.053774196654558,-0.152333095669746,0.016201950609684,0.051463112235069,0.114984035491943,0.029814334586263,0.023009588941932,-0.133393600583076,0.124252006411552,-0.090022802352905,-0.126172870397568,0.005020297132432,-0.029776740819216,0.194860234856606,0.067185319960117,-0.166635632514954));
res += mul(Get(s3,-dx,dy), float4x4(-0.031243003904819,0.066699281334877,0.118481002748013,-0.033416364341974,-0.020029537379742,0.062308017164469,0.108384691178799,-0.096977710723877,-0.022571314126253,0.056938089430332,-0.019631935283542,0.156335055828094,0.073023587465286,0.060984160751104,-0.223034501075745,-0.081814289093018));
res += mul(Get(s3,0,-dy), float4x4(0.045070715248585,-0.076776564121246,-0.091594301164150,0.087780185043812,-0.107396155595779,-0.060233999043703,-0.005893458146602,0.142464578151703,-0.088223323225975,0.167110666632652,-0.149670600891113,-0.137339845299721,-0.003905060002580,-0.027565088123083,-0.165560320019722,-0.049334071576595));
res += mul(Get(s3,0,0), float4x4(0.115021072328091,-0.106367446482182,0.027688199654222,-0.130164012312889,0.106677368283272,0.050437550991774,-0.126382470130920,-0.091489262878895,0.098772704601288,-0.040184691548347,-0.063950397074223,-0.029010683298111,-0.016149736940861,-0.185698196291924,-0.077296406030655,-0.153375297784805));
res += mul(Get(s3,0,dy), float4x4(-0.058735515922308,0.004905964247882,-0.051690410822630,0.114978030323982,0.014876674860716,0.054810155183077,-0.088987171649933,-0.061743043363094,-0.056616161018610,0.050883255898952,0.066776193678379,-0.079962618649006,-0.150116592645645,0.014036766253412,-0.081373579800129,0.051415190100670));
res += mul(Get(s3,dx,-dy), float4x4(0.127093628048897,-0.128695249557495,-0.072663582861423,-0.059025619179010,-0.174844071269035,0.083316698670387,-0.079591937363148,0.009687803685665,-0.074611730873585,0.029646633192897,0.153645202517509,0.036253944039345,-0.070395521819592,0.011715231463313,-0.147209301590919,0.028658207505941));
res += mul(Get(s3,dx,0), float4x4(-0.092283859848976,0.091936841607094,-0.240988641977310,0.026453031226993,0.023558260872960,-0.014695134945214,0.091786280274391,-0.069839686155319,-0.115948170423508,-0.023420481011271,0.044636454433203,-0.116040639579296,0.014114761725068,-0.077232599258423,-0.064561031758785,-0.057381097227335));
res += mul(Get(s3,dx,dy), float4x4(0.003005767939612,-0.013906738720834,0.065176330506802,-0.052464053034782,-0.161104679107666,-0.010653873905540,-0.054389022290707,0.016855789348483,-0.134741693735123,-0.016583982855082,0.006159078795463,-0.161066934466362,-0.037692494690418,0.096553087234497,-0.087591588497162,-0.125704869627953));
return max(float4(0,0,0,0), res);
}
