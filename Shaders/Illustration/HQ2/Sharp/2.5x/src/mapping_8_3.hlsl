sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.018298266455531,0.046713341027498,0.063765808939934,-0.070468641817570,0.026910042390227,0.152698576450348,-0.040150836110115,0.052527904510498,0.065062902867794,-0.160323992371559,0.125111088156700,-0.121645182371140,0.087276987731457,-0.106253385543823,-0.125627890229225,-0.092673972249031));
res += mul(Get(s0,-dx,0), float4x4(0.097514741122723,-0.092695824801922,-0.090928234159946,-0.033477772027254,0.132744565606117,-0.006252866704017,0.177377551794052,0.012296332977712,-0.030121101066470,0.014292011968791,0.182836487889290,-0.094683282077312,-0.045689027756453,-0.133550599217415,0.034261435270309,0.015360648743808));
res += mul(Get(s0,-dx,dy), float4x4(-0.024255618453026,0.030116237699986,0.004401045851409,-0.023473825305700,-0.077245317399502,-0.003958592657000,-0.020189918577671,0.076248869299889,0.175219938158989,-0.027409633621573,0.084174938499928,-0.079833038151264,-0.002887674607337,-0.151729673147202,-0.011743705719709,0.056885052472353));
res += mul(Get(s0,0,-dy), float4x4(-0.038607038557529,0.022972522303462,0.033361505717039,-0.055012937635183,0.102627947926521,0.012887518852949,0.005586675368249,0.014211024157703,-0.056818112730980,-0.065740793943405,0.014526011422276,-0.032364856451750,0.059392277151346,0.021588874980807,-0.157875880599022,0.002576342085376));
res += mul(Get(s0,0,0), float4x4(0.055500295013189,0.047882348299026,0.014089100062847,0.203892663121223,-0.013154309242964,-0.069938920438290,0.007686848752201,-0.025710742920637,-0.027418585494161,-0.007081713527441,0.023453125730157,-0.000198306894163,0.018778102472425,0.009400764480233,-0.079055033624172,0.128600433468819));
res += mul(Get(s0,0,dy), float4x4(-0.028977472335100,0.013752286322415,0.126456394791603,0.041702196002007,-0.056472886353731,0.024237725883722,0.018413932994008,0.145761623978615,0.075200341641903,-0.025720918551087,0.023764835670590,0.061181634664536,0.091734707355499,0.091056413948536,-0.060401704162359,-0.067997597157955));
res += mul(Get(s0,dx,-dy), float4x4(-0.070857547223568,-0.091215893626213,0.144858554005623,0.009197887033224,-0.072749182581902,-0.016761565580964,0.067690476775169,0.009079687297344,-0.184910893440247,0.104728266596794,0.072355680167675,0.124084278941154,-0.006865652278066,0.183418989181519,-0.064332157373428,0.019864441826940));
res += mul(Get(s0,dx,0), float4x4(0.102908678352833,0.045921508222818,0.020001241937280,-0.069787301123142,0.084926202893257,0.036646950989962,0.033181741833687,0.251031339168549,-0.092166393995285,-0.038644846528769,-0.031933136284351,0.017309973016381,0.009292453527451,0.100350737571716,-0.066507488489151,-0.104213662445545));
res += mul(Get(s0,dx,dy), float4x4(-0.103203065693378,0.113244585692883,0.085093624889851,-0.022038638591766,0.276562124490738,-0.071129612624645,0.204770520329475,0.105917222797871,0.010114981792867,0.099328055977821,0.023540074005723,0.006123650353402,-0.067690223455429,0.024234948679805,0.016478246077895,0.138513118028641));
res += mul(Get(s1,-dx,-dy), float4x4(-0.082750692963600,0.089656203985214,-0.042801853269339,0.201611310243607,0.010261832736433,0.067477822303772,0.041280306875706,0.071854263544083,-0.096757829189301,0.030615590512753,-0.118993051350117,-0.097783170640469,0.016575735062361,-0.169545769691467,0.035272903740406,-0.185333758592606));
res += mul(Get(s1,-dx,0), float4x4(0.029840411618352,-0.014660203829408,-0.161137357354164,0.090795584022999,-0.075347512960434,0.024326354265213,0.175926506519318,0.045347504317760,-0.022311879321933,0.034929689019918,0.080972537398338,-0.074489161372185,0.006403455045074,0.070454865694046,0.072339333593845,-0.029940476641059));
res += mul(Get(s1,-dx,dy), float4x4(-0.293082177639008,0.003926201257855,0.101401381194592,-0.086400128901005,0.132616549730301,0.110277719795704,-0.019736660644412,-0.201602444052696,0.209333062171936,0.025920111685991,0.016493069007993,0.085119307041168,-0.050201445817947,-0.006331583019346,-0.125862687826157,-0.101184032857418));
res += mul(Get(s1,0,-dy), float4x4(-0.093131251633167,-0.033411767333746,-0.017522690817714,0.007086975034326,-0.008836033754051,-0.018220053985715,-0.174121245741844,0.100064300000668,-0.027221001684666,-0.038852646946907,0.078856088221073,-0.018505794927478,0.082072280347347,-0.021590696647763,0.113368213176727,0.093076862394810));
res += mul(Get(s1,0,0), float4x4(-0.085052400827408,0.003324813907966,0.048887364566326,-0.032877709716558,-0.062714390456676,-0.086947724223137,-0.174756616353989,0.102411873638630,0.262778192758560,0.046523377299309,0.000508560799062,-0.075535997748375,0.033043418079615,-0.000960277568083,0.089771516621113,0.048560168594122));
res += mul(Get(s1,0,dy), float4x4(0.037844508886337,0.017443859949708,-0.098935157060623,-0.103949360549450,0.101452745497227,0.121539533138275,0.015664806589484,-0.078612253069878,-0.001863544806838,0.207724690437317,0.195596665143967,-0.089743770658970,-0.025219528004527,0.003729428863153,0.025946708396077,-0.065196707844734));
res += mul(Get(s1,dx,-dy), float4x4(-0.009102568030357,-0.020082995295525,0.067002587020397,-0.081601954996586,-0.128166586160660,0.152928858995438,0.185756310820580,-0.056252840906382,-0.073474109172821,-0.027337610721588,-0.011639047414064,-0.065906614065170,-0.025080697610974,-0.059576924890280,0.046337969601154,-0.034708373248577));
res += mul(Get(s1,dx,0), float4x4(0.096521280705929,0.056021679192781,0.189000040292740,-0.159138172864914,0.005800663959235,0.173309668898582,0.009775600396097,0.067620046436787,-0.015178390778601,-0.155173763632774,-0.130616635084152,-0.088947661221027,0.172483146190643,-0.115739576518536,-0.025840040296316,0.058731794357300));
res += mul(Get(s1,dx,dy), float4x4(-0.019045200198889,0.105430461466312,-0.006116011179984,-0.044884730130434,-0.069905154407024,0.005128864664584,0.018411271274090,-0.083646923303604,0.030423732474446,-0.090098403394222,-0.029384331777692,0.132618024945259,0.110995039343834,-0.135928422212601,-0.125355824828148,0.049511753022671));
res += mul(Get(s2,-dx,-dy), float4x4(-0.032047484070063,-0.044150471687317,-0.087905801832676,-0.229036420583725,0.004799546208233,0.057903930544853,0.165383234620094,-0.009385360404849,0.033302031457424,0.008191513828933,0.124632440507412,-0.097975760698318,-0.046752773225307,0.047110997140408,-0.060458645224571,0.073217384517193));
res += mul(Get(s2,-dx,0), float4x4(-0.026185965165496,0.161674365401268,0.093200229108334,-0.167115658521652,-0.111794300377369,0.046752415597439,0.188068225979805,-0.043470237404108,0.180156603455544,-0.069533593952656,0.059393242001534,0.137879014015198,0.011337277479470,0.036483213305473,0.078478395938873,0.039985042065382));
res += mul(Get(s2,-dx,dy), float4x4(0.042465850710869,0.020716819912195,-0.012910575605929,-0.043335344642401,-0.210439965128899,0.053908757865429,0.061777647584677,-0.015302092768252,-0.034157760441303,-0.015860594809055,0.099382162094116,-0.054961822926998,0.042687054723501,-0.073096171021461,0.130186244845390,-0.000918795878533));
res += mul(Get(s2,0,-dy), float4x4(-0.076134927570820,-0.124962650239468,0.075993388891220,0.097901523113251,0.047829482704401,-0.065361052751541,0.014105935581028,-0.089105427265167,-0.019583886489272,0.003437200095505,0.094832375645638,0.009876213036478,-0.047873567789793,0.044574800878763,-0.046909727156162,0.130099326372147));
res += mul(Get(s2,0,0), float4x4(-0.021258534863591,0.052907310426235,0.043803449720144,0.036415144801140,-0.081486895680428,0.000000607760740,0.028461355715990,0.013657936826348,-0.127075925469398,0.087532356381416,0.130156099796295,-0.060846190899611,-0.159209117293358,-0.051982931792736,-0.080739617347717,0.116888552904129));
res += mul(Get(s2,0,dy), float4x4(-0.094153918325901,-0.029775980859995,0.002510945079848,-0.086903139948845,-0.038507401943207,0.041835002601147,-0.059860676527023,-0.030690971761942,0.105729043483734,0.044736828655005,-0.175803676247597,0.205792024731636,-0.084247514605522,0.003861803794280,0.039297487586737,0.022192113101482));
res += mul(Get(s2,dx,-dy), float4x4(-0.154338374733925,0.072208940982819,0.029210321605206,0.048553511500359,0.122072555124760,-0.100333616137505,-0.111968904733658,-0.101791158318520,0.048009559512138,0.082166552543640,0.019825117662549,0.156905397772789,-0.007907394319773,-0.025100056082010,-0.027495987713337,0.050053913146257));
res += mul(Get(s2,dx,0), float4x4(-0.035271771252155,-0.036469057202339,-0.083191297948360,-0.058300133794546,0.059149559587240,0.057005852460861,-0.062092665582895,0.099241033196449,0.013857950456440,-0.063980162143707,-0.168642431497574,0.009192126803100,-0.013604809530079,0.068009808659554,0.029146378859878,0.001174940261990));
res += mul(Get(s2,dx,dy), float4x4(-0.012877841480076,0.002482495736331,0.036932382732630,-0.099328003823757,0.081033781170845,0.143173664808273,-0.040623098611832,0.037615105509758,-0.066140100359917,0.086516991257668,0.103139325976372,-0.033512223511934,0.122199319303036,-0.155495151877403,0.028970459476113,0.041733685880899));
res += mul(Get(s3,-dx,-dy), float4x4(-0.158009588718414,-0.021110812202096,0.023180773481727,0.060446798801422,0.089668489992619,-0.148366510868073,0.015483823604882,0.028265094384551,-0.085724055767059,-0.025141250342131,0.037253852933645,0.096030317246914,-0.174831375479698,-0.046622231602669,-0.104790903627872,-0.063273258507252));
res += mul(Get(s3,-dx,0), float4x4(-0.126187458634377,-0.063157230615616,-0.116341106593609,0.086678639054298,0.070404767990112,0.071320161223412,-0.026225661858916,-0.057178746908903,-0.068708725273609,-0.085472345352173,-0.093510538339615,-0.087951123714447,-0.087012432515621,-0.046996131539345,-0.069325193762779,-0.047159679234028));
res += mul(Get(s3,-dx,dy), float4x4(0.013173659332097,-0.166302695870399,-0.048485193401575,-0.079849660396576,0.000992247252725,0.116800621151924,0.065234132111073,0.070489272475243,-0.027457024902105,-0.168706983327866,0.167757868766785,0.046212024986744,-0.208355754613876,0.021620092913508,0.077847979962826,-0.000537327432539));
res += mul(Get(s3,0,-dy), float4x4(-0.082189455628395,0.058826100081205,0.025211922824383,0.008761825971305,-0.002772208768874,0.117163695394993,0.144159644842148,0.010118193924427,-0.061663646250963,-0.113000579178333,-0.012999891303480,-0.112156674265862,-0.061415892094374,0.059823099523783,-0.053680416196585,0.047411926090717));
res += mul(Get(s3,0,0), float4x4(0.111258700489998,0.024986797943711,-0.020045645534992,0.053163327276707,0.132864147424698,0.198376655578613,0.075906477868557,0.123154535889626,0.063556142151356,-0.049287024885416,0.095763303339481,0.054759401828051,0.061642173677683,-0.108165346086025,-0.020123777911067,-0.065101690590382));
res += mul(Get(s3,0,dy), float4x4(0.062463704496622,0.072802513837814,-0.046316508203745,-0.111046440899372,0.084735251963139,0.083779118955135,0.038403615355492,-0.009156775660813,-0.054965041577816,0.040519855916500,0.237505719065666,-0.098398372530937,0.112503550946712,-0.068226911127567,-0.001805918058380,0.036043636500835));
res += mul(Get(s3,dx,-dy), float4x4(-0.016575081273913,-0.115738876163960,0.098875358700752,-0.021082974970341,0.046010248363018,-0.161937937140465,0.098341107368469,-0.029695225879550,0.152388244867325,0.058652129024267,-0.037636619061232,-0.002506949007511,-0.121869005262852,-0.013620243407786,0.098437733948231,-0.067725144326687));
res += mul(Get(s3,dx,0), float4x4(-0.108897015452385,0.100169941782951,0.166962683200836,-0.057908263057470,-0.106404021382332,-0.106788635253906,-0.172016888856888,0.011712043546140,0.003848288441077,0.137913122773170,0.008921971544623,0.123754158616066,-0.154680386185646,0.030629407614470,0.319348394870758,0.002601749263704));
res += mul(Get(s3,dx,dy), float4x4(0.021291812881827,0.101016968488693,0.110795609652996,-0.024997666478157,-0.220436185598373,0.074125409126282,0.118114113807678,0.043144293129444,0.004593496676534,0.069831542670727,-0.239537388086319,0.020037824288011,0.042548593133688,0.182594552636147,0.047605428844690,0.022734099999070));
return max(float4(0,0,0,0), res);
}
