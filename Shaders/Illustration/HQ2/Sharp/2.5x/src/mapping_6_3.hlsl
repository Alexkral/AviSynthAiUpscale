sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.076107144355774,0.141026899218559,0.194046899676323,-0.154838547110558,-0.159973591566086,0.063583999872208,0.154518529772758,0.210330531001091,-0.100149296224117,0.185040146112442,-0.087326422333717,0.045410543680191,-0.073336772620678,0.039522178471088,-0.121036179363728,-0.068935260176659));
res += mul(Get(s0,-dx,0), float4x4(0.063704192638397,0.077492505311966,-0.002820637077093,-0.095538221299648,-0.025101371109486,0.084138296544552,-0.040902398526669,-0.051887627691031,0.020396150648594,0.075355611741543,0.075012996792793,-0.173460468649864,-0.048953011631966,0.060502994805574,-0.037101887166500,0.118143685162067));
res += mul(Get(s0,-dx,dy), float4x4(-0.059157956391573,0.072217181324959,-0.007882220670581,-0.145964413881302,-0.152070716023445,0.063575156033039,0.046948347240686,0.088974066078663,0.020093055441976,0.084839686751366,-0.043438047170639,0.154504403471947,0.024601398035884,-0.082568116486073,0.071407720446587,0.082726530730724));
res += mul(Get(s0,0,-dy), float4x4(-0.064045771956444,0.097578860819340,0.060105714946985,-0.013632372952998,-0.004443484358490,-0.040656007826328,-0.054246440529823,0.122341364622116,-0.061290796846151,-0.074956469237804,0.089407868683338,-0.098275318741798,-0.067388221621513,0.056117042899132,-0.033882886171341,-0.064498923718929));
res += mul(Get(s0,0,0), float4x4(0.108833089470863,0.028846858069301,0.081820443272591,0.145241558551788,-0.203880459070206,-0.044673614203930,-0.010534279048443,-0.066100746393204,0.314281582832336,0.109119117259979,0.087195903062820,-0.123262524604797,0.022551324218512,-0.013662984594703,0.017794022336602,-0.044646129012108));
res += mul(Get(s0,0,dy), float4x4(-0.022965073585510,0.003036311361939,-0.144077613949776,-0.032252188771963,-0.067202031612396,0.102061457931995,0.150522515177727,0.146713092923164,0.103938199579716,0.073995754122734,0.117483071982861,-0.081847622990608,0.073028042912483,0.009703435003757,0.106353543698788,0.170676037669182));
res += mul(Get(s0,dx,-dy), float4x4(-0.100284524261951,-0.152446195483208,-0.059862233698368,0.149577781558037,-0.035441413521767,0.129474401473999,0.066431157290936,-0.191373795270920,0.082194820046425,0.109507724642754,0.039490066468716,-0.007578892167658,-0.028247486799955,0.072626106441021,0.144109040498734,0.062347929924726));
res += mul(Get(s0,dx,0), float4x4(0.005689583253115,0.132038861513138,-0.088803708553314,0.066028572618961,-0.027699064463377,-0.124104358255863,0.095006413757801,-0.015919901430607,0.001914991182275,0.096285097301006,0.076085142791271,-0.089914083480835,-0.111600428819656,0.044951852411032,0.001313762506470,-0.056796621531248));
res += mul(Get(s0,dx,dy), float4x4(-0.085894219577312,-0.036223392933607,0.040258832275867,-0.002101089106873,0.006511332001537,0.147286519408226,0.143597602844238,0.178735077381134,-0.162363350391388,0.022480204701424,-0.024557663127780,0.273751080036163,0.012844997458160,0.113799110054970,-0.064302444458008,0.014804446138442));
res += mul(Get(s1,-dx,-dy), float4x4(0.056328043341637,-0.056874535977840,-0.047249358147383,-0.060910101979971,-0.058262713253498,-0.056448031216860,-0.156028762459755,0.047705505043268,-0.056429095566273,0.065586432814598,0.092061243951321,0.035971701145172,-0.027689158916473,-0.222595319151878,-0.051334887742996,0.115009471774101));
res += mul(Get(s1,-dx,0), float4x4(-0.105650529265404,-0.060046669095755,0.193735435605049,0.046754978597164,0.026787377893925,-0.076756186783314,0.137078076601028,0.113702498376369,-0.021625181660056,0.157632127404213,0.037838425487280,-0.070442497730255,0.118005454540253,0.113046661019325,-0.027861073613167,-0.096347495913506));
res += mul(Get(s1,-dx,dy), float4x4(0.118050426244736,-0.093051835894585,-0.116952978074551,0.105617254972458,-0.090120539069176,-0.090515933930874,-0.025927208364010,-0.023353122174740,-0.013186260126531,0.058778528124094,0.009987605735660,-0.109668321907520,0.205739781260490,-0.001940539455973,-0.049058835953474,0.023883538320661));
res += mul(Get(s1,0,-dy), float4x4(-0.001950531732291,-0.035841353237629,0.071000613272190,0.010467291809618,0.021348886191845,0.045495696365833,-0.021842852234840,-0.086485601961613,0.020700769498944,0.072095789015293,0.116712287068367,0.021515512838960,-0.053886171430349,0.041836965829134,0.173136562108994,0.016592323780060));
res += mul(Get(s1,0,0), float4x4(-0.064517006278038,0.036745913326740,0.029144043102860,0.100874692201614,0.301053166389465,0.046831764280796,-0.026849685236812,0.032591957598925,0.045632142573595,-0.002672360744327,-0.099385470151901,0.018697343766689,0.004019746091217,-0.092909388244152,-0.051795143634081,0.033120345324278));
res += mul(Get(s1,0,dy), float4x4(-0.047102142125368,-0.067162178456783,0.032493162900209,0.111809954047203,-0.003480320563540,-0.068604886531830,-0.078458338975906,0.038571804761887,0.009626704268157,-0.050055835396051,-0.084780275821686,0.057774759829044,0.035755909979343,-0.013595920987427,-0.001057741115801,-0.059159133583307));
res += mul(Get(s1,dx,-dy), float4x4(0.078950583934784,0.141441747546196,-0.109026096761227,0.146657451987267,-0.054281041026115,-0.172202989459038,0.063078247010708,0.022239312529564,-0.079402640461922,-0.166918069124222,-0.013642993755639,-0.138645112514496,0.115820221602917,0.014294825494289,-0.043893527239561,-0.072606869041920));
res += mul(Get(s1,dx,0), float4x4(0.000481872615637,0.028742918744683,-0.077465280890465,-0.042523376643658,0.068963751196861,-0.115342497825623,-0.023381002247334,0.013250174932182,-0.028876602649689,0.038480382412672,-0.160795405507088,-0.041134219616652,0.014573617838323,0.199128612875938,0.015460008755326,-0.040807195007801));
res += mul(Get(s1,dx,dy), float4x4(-0.016296081244946,0.126722902059555,0.176571562886238,0.225055441260338,-0.063541479408741,0.007565951906145,0.035445500165224,0.066334545612335,-0.024632804095745,-0.110292665660381,0.049579802900553,0.031512927263975,-0.015204702503979,0.060237903147936,0.004636471625417,0.016752395778894));
res += mul(Get(s2,-dx,-dy), float4x4(0.040764387696981,-0.127484709024429,0.020992357283831,0.128714680671692,0.062462251633406,-0.088204279541969,-0.044181637465954,0.038763109594584,-0.026000235229731,-0.060959242284298,-0.044645652174950,0.181827872991562,0.054777204990387,0.026877414435148,-0.122537478804588,-0.124689541757107));
res += mul(Get(s2,-dx,0), float4x4(-0.105932906270027,-0.067177727818489,-0.167760491371155,0.193243563175201,0.017187979072332,0.091027922928333,-0.005924198310822,0.023103740066290,-0.011290045455098,0.014353683218360,0.151109457015991,-0.018275665119290,-0.026495195925236,0.019691703841090,0.031554289162159,0.031684119254351));
res += mul(Get(s2,-dx,dy), float4x4(0.022581379860640,-0.120046019554138,-0.114048369228840,-0.108643576502800,-0.107682041823864,0.081559605896473,0.044168666005135,0.057743385434151,0.106172382831573,0.041642829775810,-0.008413522504270,0.024328863248229,-0.058811049908400,0.160555571317673,-0.116343274712563,-0.036252696067095));
res += mul(Get(s2,0,-dy), float4x4(-0.045392360538244,0.080789521336555,-0.205856308341026,0.179033249616623,-0.118303418159485,-0.000370704801753,-0.134146139025688,-0.001873926143162,0.137680411338806,-0.086693689227104,-0.084643624722958,0.030617903918028,0.036318793892860,-0.052432201802731,0.047008607536554,0.074236229062080));
res += mul(Get(s2,0,0), float4x4(-0.150582447648048,-0.045076932758093,-0.026585690677166,0.079397283494473,0.074917517602444,0.117118202149868,-0.070944063365459,0.065584003925323,-0.045587882399559,-0.018759926781058,0.043200548738241,-0.103471107780933,0.069043427705765,0.008098624646664,-0.044897556304932,0.027132937684655));
res += mul(Get(s2,0,dy), float4x4(-0.052119929343462,0.068464480340481,-0.006853755563498,-0.018425853922963,0.055927157402039,0.038865517824888,-0.036028269678354,-0.009187680669129,0.074879944324493,-0.124625869095325,-0.171957030892372,0.030012439936399,0.065073937177658,-0.000193416941329,-0.047688953578472,-0.187069088220596));
res += mul(Get(s2,dx,-dy), float4x4(-0.045161858201027,-0.045480277389288,0.017264967784286,-0.045593995600939,-0.069474138319492,-0.124669320881367,0.024806044995785,0.185594752430916,0.073291793465614,0.069391198456287,0.117208190262318,0.014674882404506,-0.141422629356384,-0.007520029786974,0.173320531845093,0.101144418120384));
res += mul(Get(s2,dx,0), float4x4(-0.019335178658366,0.049482244998217,-0.087126486003399,0.003067532554269,-0.087453454732895,-0.083622969686985,-0.018637169152498,-0.047018658369780,0.071125112473965,-0.130658015608788,-0.137558132410049,0.038212329149246,-0.051208939403296,0.070476666092873,-0.065332494676113,0.044883314520121));
res += mul(Get(s2,dx,dy), float4x4(-0.069064691662788,-0.084676869213581,0.012593002058566,0.003098109737039,-0.023244155570865,-0.068256385624409,-0.013404308818281,0.063124753534794,0.039634529501200,-0.049091078341007,0.099699795246124,-0.092415511608124,0.028828274458647,0.009043307974935,0.063355669379234,-0.260611861944199));
res += mul(Get(s3,-dx,-dy), float4x4(-0.001062790863216,-0.130160972476006,-0.066579386591911,-0.103183783590794,0.016734689474106,0.095710128545761,0.024095827713609,0.038711950182915,-0.100606888532639,0.001506500644609,0.001248023356311,-0.142440572381020,-0.024014133960009,0.029598807916045,-0.019231021404266,-0.078803762793541));
res += mul(Get(s3,-dx,0), float4x4(-0.032627645879984,-0.006085222586989,-0.035027977079153,-0.072099521756172,-0.021369943395257,0.043757673352957,0.084284543991089,0.133184865117073,0.044787742197514,-0.031236404553056,-0.133243173360825,0.027808299288154,-0.068116538226604,0.027999643236399,0.039383966475725,-0.066594816744328));
res += mul(Get(s3,-dx,dy), float4x4(-0.021067006513476,0.041706688702106,0.111940622329712,-0.033922538161278,0.074492312967777,0.051798716187477,-0.151529505848885,0.008577280677855,0.118682295084000,-0.018579240888357,-0.087733380496502,0.010195531882346,0.004367690067738,-0.075328372418880,0.103763572871685,-0.077155962586403));
res += mul(Get(s3,0,-dy), float4x4(-0.078416414558887,-0.041812431067228,0.041097439825535,0.051078028976917,-0.118320256471634,0.082921214401722,-0.076769798994064,0.134515926241875,0.004704309161752,0.173917129635811,0.047291133552790,0.026379279792309,-0.030367624014616,-0.015733644366264,0.096445932984352,-0.057604815810919));
res += mul(Get(s3,0,0), float4x4(0.092372536659241,-0.084930136799812,0.038631934672594,-0.118236139416695,-0.008930374868214,0.066395498812199,-0.108238011598587,0.150802910327911,-0.155624404549599,0.144674375653267,-0.139936506748199,-0.061659146100283,0.069280475378036,-0.087355822324753,-0.067035891115665,-0.120441362261772));
res += mul(Get(s3,0,dy), float4x4(-0.022515458986163,0.020847020670772,0.101819232106209,-0.001494056312367,0.020686972886324,-0.016630873084068,-0.134294405579567,-0.045597702264786,-0.030631074681878,0.182751849293709,0.138739541172981,-0.022973768413067,-0.027754882350564,-0.002617061138153,-0.047047473490238,-0.109395414590836));
res += mul(Get(s3,dx,-dy), float4x4(-0.096224397420883,0.060386788100004,-0.052521616220474,0.048798855394125,-0.067440554499626,-0.145118117332458,0.049636129289865,-0.034008949995041,0.148255422711372,-0.041906703263521,-0.114984750747681,0.091210983693600,-0.124505393207073,-0.078471362590790,0.006791957654059,-0.028013581410050));
res += mul(Get(s3,dx,0), float4x4(0.012225374579430,0.085195720195770,-0.015915928408504,0.037939067929983,0.000856733240653,0.016586497426033,-0.040762297809124,0.044208165258169,-0.063592500984669,-0.138467937707901,0.008546670898795,0.004233296494931,-0.040293890982866,-0.042387459427118,0.163352251052856,0.002870867727324));
res += mul(Get(s3,dx,dy), float4x4(-0.085681632161140,0.214928537607193,0.036222375929356,0.015029594302177,0.047440152615309,-0.118995189666748,-0.093800172209740,-0.067052096128464,0.090989954769611,0.129321455955505,-0.059846706688404,-0.014088771305978,-0.109218299388885,0.140006676316261,0.084248892962933,-0.011036200448871));
return max(float4(0,0,0,0), res);
}
