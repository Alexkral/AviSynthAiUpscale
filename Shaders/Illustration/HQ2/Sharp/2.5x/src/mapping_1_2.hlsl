sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.028218910098076,-0.090653963387012,0.019745619967580,0.032783757895231,-0.086237415671349,0.046017803251743,-0.024502703920007,-0.080081179738045,-0.035971194505692,-0.122405856847763,0.237273335456848,-0.019706394523382,0.039659582078457,0.187602207064629,0.022218156605959,-0.112465269863605));
res += mul(Get(s0,-dx,0), float4x4(0.020966192707419,-0.160659238696098,0.083715848624706,-0.060885854065418,-0.018163276836276,0.003448761999607,0.005274737253785,-0.096791677176952,0.184069871902466,0.049007765948772,-0.141415446996689,-0.141567125916481,-0.068737089633942,-0.038347221910954,0.107808671891689,0.054216299206018));
res += mul(Get(s0,-dx,dy), float4x4(0.021018929779530,-0.059992026537657,-0.010196463204920,-0.158261865377426,-0.119310200214386,-0.147613972425461,0.013251532800496,0.031992148607969,-0.061657983809710,0.152161225676537,0.001357088447548,-0.008917101658881,-0.159970626235008,0.040177062153816,0.014445201493800,-0.105689570307732));
res += mul(Get(s0,0,-dy), float4x4(-0.075014963746071,-0.112224549055099,0.078176006674767,-0.013517408631742,-0.036626290529966,-0.190616548061371,0.033940419554710,0.154072746634483,-0.026591625064611,-0.177249506115913,-0.137266948819160,-0.034645501524210,0.143240109086037,-0.112075731158257,0.225204572081566,0.101073004305363));
res += mul(Get(s0,0,0), float4x4(0.025362033396959,-0.063221402466297,-0.136961787939072,0.046663198620081,-0.322063118219376,-0.212794125080109,-0.088164001703262,-0.043745938688517,-0.156773641705513,-0.052810244262218,0.154794245958328,-0.070714861154556,0.201126903295517,-0.061307072639465,0.270035058259964,0.031988214701414));
res += mul(Get(s0,0,dy), float4x4(-0.057775296270847,-0.055312894284725,-0.029471311718225,0.021839678287506,-0.111420974135399,0.228227645158768,0.013301981613040,0.072005569934845,-0.049615565687418,-0.016469825059175,0.118299208581448,0.223860606551170,0.011824111454189,-0.114702373743057,0.013596771284938,0.064068213105202));
res += mul(Get(s0,dx,-dy), float4x4(-0.091374635696411,-0.061530571430922,0.095673471689224,-0.009433400817215,-0.140602067112923,0.073385715484619,0.065340049564838,-0.124940454959869,-0.132680237293243,-0.206986218690872,-0.158532068133354,-0.100078232586384,-0.097118183970451,0.038567811250687,-0.187107175588608,-0.027385292574763));
res += mul(Get(s0,dx,0), float4x4(-0.122551098465919,-0.060334809124470,0.127793639898300,-0.135257855057716,-0.100065685808659,0.016507774591446,-0.081895865499973,0.157894819974899,0.000996680697426,0.074597731232643,0.235977411270142,-0.016867814585567,0.117512002587318,0.127728551626205,-0.035904046148062,0.024088634178042));
res += mul(Get(s0,dx,dy), float4x4(0.094457365572453,0.104763545095921,0.021378701552749,-0.058875095099211,-0.021189669147134,-0.095368213951588,0.130271330475807,-0.083213753998280,0.081309124827385,-0.047657027840614,-0.156790003180504,0.268636316061020,-0.058145366609097,-0.058251477777958,-0.083206906914711,0.144520580768585));
res += mul(Get(s1,-dx,-dy), float4x4(-0.046112947165966,0.042157627642155,-0.079625360667706,-0.223354518413544,0.095213532447815,-0.084631189703941,0.100160874426365,-0.085641115903854,-0.080453790724277,0.033272214233875,-0.014948491007090,0.081153079867363,-0.126673370599747,-0.137247681617737,-0.085636071860790,0.058747068047523));
res += mul(Get(s1,-dx,0), float4x4(0.086865901947021,-0.050046317279339,-0.111630737781525,-0.160189971327782,-0.055749524384737,0.016089387238026,0.082685478031635,-0.038892831653357,-0.155662000179291,0.124956361949444,0.063462272286415,0.078380271792412,0.045784365385771,0.049687243998051,0.113628283143044,0.041113227605820));
res += mul(Get(s1,-dx,dy), float4x4(-0.135913968086243,0.010111135430634,0.003535203170031,0.040798351168633,0.079402893781662,0.122810624539852,-0.037794690579176,-0.091701976954937,0.012329169549048,0.155458822846413,0.013526291586459,-0.023323869332671,0.267372906208038,-0.005676279310137,0.008180153556168,0.155022487044334));
res += mul(Get(s1,0,-dy), float4x4(-0.192006930708885,0.117228016257286,0.204005360603333,-0.064757935702801,0.014434787444770,-0.032688185572624,0.040687315165997,0.113660097122192,-0.008713885210454,-0.030515771359205,0.002274113474414,0.013040918856859,0.071218289434910,-0.073736675083637,-0.022816043347120,0.007486229296774));
res += mul(Get(s1,0,0), float4x4(0.041197039186954,0.011380341835320,-0.070725627243519,-0.028454303741455,-0.053466513752937,-0.030448343604803,-0.032923009246588,-0.108739204704762,0.114340610802174,-0.058369766920805,0.027489492669702,0.056179985404015,-0.076440379023552,-0.074593119323254,-0.124076113104820,-0.218804791569710));
res += mul(Get(s1,0,dy), float4x4(0.039324007928371,-0.101971238851547,-0.026483688503504,-0.146031275391579,-0.120201282203197,-0.224813714623451,-0.096695601940155,0.181752949953079,0.073845371603966,0.062237516045570,-0.057351227849722,-0.161927923560143,0.078234076499939,0.125528141856194,-0.066393487155437,0.094024434685707));
res += mul(Get(s1,dx,-dy), float4x4(0.009343148209155,-0.083939008414745,0.111222214996815,-0.085490673780441,0.063473828136921,-0.076076760888100,0.050075672566891,-0.042808458209038,0.102408826351166,0.036364596337080,-0.109337598085403,-0.076305270195007,-0.110748194158077,-0.081753753125668,-0.095380514860153,0.143034145236015));
res += mul(Get(s1,dx,0), float4x4(0.048735354095697,-0.016552854329348,0.113601252436638,-0.039493288844824,-0.034712955355644,-0.136904999613762,0.002861113986000,-0.151179939508438,-0.074733890593052,0.063526652753353,0.076743237674236,-0.199192404747009,-0.140054553747177,-0.128052115440369,0.011457154527307,-0.037696782499552));
res += mul(Get(s1,dx,dy), float4x4(0.106174059212208,-0.018092317506671,0.046312168240547,-0.072304815053940,0.004368131980300,-0.038169022649527,-0.007568514905870,-0.072146654129028,-0.095127329230309,0.061737891286612,0.087154850363731,-0.041154228150845,0.066917091608047,0.015651999041438,0.124431066215038,0.001828300999478));
res += mul(Get(s2,-dx,-dy), float4x4(-0.078596137464046,0.193248093128204,0.103028535842896,0.063578695058823,-0.151703312993050,0.019131772220135,0.034373853355646,0.032356195151806,0.082537382841110,0.067173779010773,-0.132375806570053,-0.132473275065422,-0.027160998433828,-0.070176698267460,-0.061026137322187,0.135624006390572));
res += mul(Get(s2,-dx,0), float4x4(0.029116686433554,-0.002053896896541,0.093248836696148,0.049967575818300,-0.022884087637067,-0.114982433617115,0.011917696334422,-0.130166515707970,-0.182496994733810,0.137676104903221,-0.176823124289513,0.032103076577187,-0.041381921619177,-0.046858824789524,-0.092114314436913,0.104516610503197));
res += mul(Get(s2,-dx,dy), float4x4(0.136675372719765,0.031752958893776,0.123270034790039,0.082179792225361,-0.049981709569693,0.013753866776824,0.028687531128526,-0.110335081815720,-0.023654377087951,-0.134509250521660,0.029868848621845,-0.063884809613228,-0.070458032190800,0.087154991924763,-0.020122215151787,0.027606492862105));
res += mul(Get(s2,0,-dy), float4x4(0.038477126508951,-0.091968357563019,-0.184626638889313,-0.003393437946215,0.032578878104687,-0.096864111721516,-0.074318096041679,-0.039984919130802,0.019051464274526,0.200432613492012,-0.012894878163934,0.073157042264938,0.005758372601122,0.038426727056503,-0.116526588797569,0.080314785242081));
res += mul(Get(s2,0,0), float4x4(0.090546987950802,0.166648700833321,-0.024770343676209,0.011840038932860,0.035103529691696,-0.019999707117677,-0.157883614301682,-0.067426808178425,-0.071714274585247,0.101956382393837,0.070292212069035,0.129113376140594,-0.181391358375549,0.084416888654232,0.018250921741128,0.045000929385424));
res += mul(Get(s2,0,dy), float4x4(-0.157926380634308,0.018663229420781,0.016853313893080,-0.007217360660434,0.036207240074873,-0.045906830579042,0.098930157721043,0.116670526564121,0.036341063678265,-0.017116030678153,-0.136377826333046,-0.099928975105286,-0.039175059646368,0.049389295279980,0.063925303518772,-0.032629523426294));
res += mul(Get(s2,dx,-dy), float4x4(0.064223438501358,0.051734872162342,0.097396545112133,-0.067809507250786,-0.036352567374706,-0.029225470498204,0.165068820118904,0.055740531533957,-0.007449672557414,-0.043305136263371,-0.098750069737434,0.041788119822741,-0.053542282432318,-0.040623351931572,0.033373061567545,0.039359323680401));
res += mul(Get(s2,dx,0), float4x4(0.209055110812187,-0.088267467916012,-0.148689329624176,0.145385503768921,-0.060061179101467,-0.104071699082851,0.179713055491447,0.074179649353027,-0.092987418174744,-0.081982389092445,-0.055764473974705,0.100125156342983,-0.089934177696705,-0.047592408955097,-0.194991409778595,0.013171485625207));
res += mul(Get(s2,dx,dy), float4x4(0.052558232098818,0.085029140114784,-0.108211807906628,-0.010161028243601,-0.058124151080847,-0.021165816113353,-0.115204691886902,-0.102397508919239,0.010893940925598,0.073266498744488,0.123639374971390,-0.061550237238407,0.063738398253918,0.080181047320366,-0.072027146816254,-0.038008499890566));
res += mul(Get(s3,-dx,-dy), float4x4(-0.073627151548862,-0.062802702188492,-0.013580678030849,0.163590624928474,0.108982503414154,0.176667273044586,0.090672753751278,0.067793861031532,0.061497043818235,-0.041514970362186,0.050055041909218,0.063017435371876,-0.216170400381088,-0.112479180097580,0.042030707001686,0.016145575791597));
res += mul(Get(s3,-dx,0), float4x4(0.050086311995983,0.108296565711498,0.126688688993454,0.027482660487294,-0.097029343247414,0.050533752888441,0.085554711520672,-0.143889710307121,-0.028335068374872,-0.103316158056259,0.073306739330292,0.188048258423805,-0.056053999811411,0.066112540662289,-0.013056498952210,-0.061833683401346));
res += mul(Get(s3,-dx,dy), float4x4(0.091099053621292,0.076070584356785,0.061269696801901,0.248592242598534,-0.179418966174126,-0.070292621850967,-0.016766842454672,-0.047566052526236,-0.019287360832095,0.063350841403008,-0.095808707177639,0.014756999909878,0.020994972437620,-0.065646946430206,-0.001972482772544,0.158013984560966));
res += mul(Get(s3,0,-dy), float4x4(-0.015409118495882,0.026744060218334,-0.004278195090592,-0.053428534418344,0.126531347632408,0.222407504916191,0.081240765750408,-0.014353117905557,0.039794363081455,-0.031386040151119,0.013510143384337,-0.031538113951683,0.092216968536377,-0.039577566087246,0.042907852679491,-0.011209660209715));
res += mul(Get(s3,0,0), float4x4(0.026248093694448,-0.009901565499604,0.095235787332058,0.046321053057909,-0.015873754397035,0.019831102341413,-0.084777042269707,0.149484276771545,-0.139298781752586,0.173645868897438,0.155081570148468,-0.049180392175913,0.009144840762019,-0.065495252609253,0.133044853806496,-0.043904386460781));
res += mul(Get(s3,0,dy), float4x4(0.059496473520994,0.030222002416849,-0.128362461924553,0.135224640369415,0.034604001790285,-0.002860893728212,0.045001532882452,0.151597946882248,-0.071578830480576,0.147714719176292,0.011940976604819,0.069568164646626,-0.110170207917690,0.056548353284597,0.045417599380016,0.219218418002129));
res += mul(Get(s3,dx,-dy), float4x4(-0.008193769492209,0.347897827625275,-0.046371821314096,0.240176349878311,-0.035633228719234,-0.076400034129620,0.029204094782472,-0.018980707973242,0.112566836178303,0.016205102205276,-0.028697973117232,0.138183876872063,0.030034737661481,-0.076344981789589,0.163098484277725,0.079848453402519));
res += mul(Get(s3,dx,0), float4x4(0.052864499390125,-0.017534341663122,0.099331140518188,0.024468345567584,-0.100145705044270,-0.104569055140018,0.111076347529888,0.075443759560585,0.058655127882957,-0.028247926384211,0.031113779172301,0.213634595274925,-0.115016900002956,-0.104323402047157,-0.202796891331673,0.070463806390762));
res += mul(Get(s3,dx,dy), float4x4(-0.127226591110229,-0.160081088542938,0.121290273964405,-0.096974976360798,-0.301483035087585,-0.173591062426567,-0.040965568274260,-0.043732192367315,-0.125703066587448,0.112984828650951,-0.029370009899139,0.009045424871147,-0.094279482960701,0.054492291063070,-0.047628685832024,-0.098507367074490));
return max(float4(0,0,0,0), res);
}
