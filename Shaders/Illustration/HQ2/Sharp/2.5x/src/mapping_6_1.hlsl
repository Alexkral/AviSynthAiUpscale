sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.040398124605417,0.060436811298132,-0.078872703015804,0.102615356445313,0.089576750993729,0.093961797654629,-0.121814131736755,-0.141581788659096,0.029323410242796,-0.088813707232475,0.083729982376099,0.069106124341488,0.031502265483141,0.030710143968463,-0.098268076777458,0.088590718805790));
res += mul(Get(s0,-dx,0), float4x4(-0.079615861177444,0.020153624936938,0.169848680496216,0.003174961078912,-0.115324608981609,0.044763248413801,-0.047325778752565,-0.046340815722942,-0.049461103975773,-0.060947682708502,0.014969785697758,-0.020701607689261,-0.041765540838242,-0.013470176607370,0.025052938610315,-0.054104685783386));
res += mul(Get(s0,-dx,dy), float4x4(0.038526766002178,-0.057215124368668,0.138697504997253,0.054005369544029,0.023323282599449,-0.130670279264450,0.012301089242101,-0.214634031057358,0.014595145359635,-0.063413947820663,0.037296336144209,-0.052002955228090,-0.040113564580679,-0.011578892357647,-0.061729870736599,0.003320833435282));
res += mul(Get(s0,0,-dy), float4x4(-0.000459747563582,0.163496255874634,-0.090590655803680,0.019300457090139,0.031703643500805,-0.191563695669174,-0.049777567386627,0.050668876618147,-0.125797852873802,0.113905392587185,-0.074815295636654,-0.096073321998119,0.097249053418636,-0.096382521092892,0.001094752689824,0.037174422293901));
res += mul(Get(s0,0,0), float4x4(-0.100102521479130,-0.091906175017357,-0.039324611425400,0.031139539554715,-0.207610145211220,0.061396960169077,0.033420015126467,0.084777854382992,-0.090255685150623,0.085503049194813,-0.030656713992357,0.009300380945206,0.179710313677788,0.046789076179266,0.009343887679279,0.002309710951522));
res += mul(Get(s0,0,dy), float4x4(-0.024041200056672,-0.088596701622009,0.003191948868334,0.013871145434678,0.045130409300327,-0.106391407549381,-0.002061645034701,-0.128665432333946,0.125627830624580,0.016557242721319,-0.008544346317649,0.024345552548766,0.030485834926367,0.028189554810524,-0.191086649894714,0.028280917555094));
res += mul(Get(s0,dx,-dy), float4x4(0.006069126073271,-0.050234347581863,-0.000919041631278,-0.039165683090687,-0.071841083467007,0.091263443231583,-0.042382683604956,0.025058960542083,0.179831355810165,0.083224177360535,0.033089548349380,0.012056392617524,0.086206831037998,-0.119259238243103,-0.017191130667925,-0.088751770555973));
res += mul(Get(s0,dx,0), float4x4(0.115081325173378,-0.248642638325691,0.058936245739460,-0.202963694930077,-0.078021518886089,-0.093144305050373,0.021704243496060,-0.032636221498251,0.069178014993668,-0.077528826892376,-0.030151279643178,0.032286945730448,-0.058710455894470,-0.014855864457786,-0.070228978991508,0.053693294525146));
res += mul(Get(s0,dx,dy), float4x4(-0.003295939648524,-0.000028015580028,-0.061925049871206,-0.106011278927326,0.078317083418369,0.029468167573214,0.128728792071342,-0.037061922252178,-0.061989884823561,-0.127597913146019,0.105506971478462,0.064345113933086,-0.021301675587893,0.089852169156075,0.151277288794518,-0.043935775756836));
res += mul(Get(s1,-dx,-dy), float4x4(-0.076415330171585,0.105979137122631,0.129915654659271,-0.022982468828559,-0.046954691410065,-0.008848442696035,0.100308679044247,-0.069274917244911,0.029398944228888,0.026131888851523,0.033711168915033,-0.067074120044708,-0.161411106586456,0.035298686474562,-0.071417585015297,0.062261030077934));
res += mul(Get(s1,-dx,0), float4x4(0.108416318893433,0.175974756479263,0.024848548695445,0.144171908497810,0.083113975822926,0.002759723924100,-0.034514844417572,-0.178051829338074,0.082752540707588,0.114298850297928,0.118959434330463,-0.075441882014275,-0.020605025812984,0.031054552644491,-0.070852212607861,0.095456533133984));
res += mul(Get(s1,-dx,dy), float4x4(-0.021525042131543,-0.017131846398115,-0.050798434764147,-0.011244608089328,0.002212536055595,0.021337002515793,-0.097742766141891,-0.120614476501942,-0.019293613731861,0.124418720602989,0.003777075558901,0.037061512470245,0.089906573295593,-0.024237431585789,0.080833397805691,0.059682585299015));
res += mul(Get(s1,0,-dy), float4x4(0.013033835217357,0.100710563361645,0.024376029148698,0.018042350187898,0.078411623835564,0.040491610765457,0.108912989497185,-0.006227891892195,0.007560293655843,-0.091772228479385,-0.063625447452068,0.045108031481504,0.050675917416811,-0.034461386501789,0.038903892040253,-0.182173252105713));
res += mul(Get(s1,0,0), float4x4(0.068653576076031,-0.094736054539680,0.062919832766056,-0.231134653091431,-0.112203709781170,0.126280099153519,0.086538955569267,0.000094534858363,0.080183558166027,-0.027597585693002,-0.011032407172024,-0.006576883606613,0.221426263451576,-0.032517496496439,0.028113394975662,0.093270286917686));
res += mul(Get(s1,0,dy), float4x4(0.015166586264968,-0.026550855487585,0.087551593780518,0.063148193061352,-0.003555209608749,0.055247165262699,-0.046706974506378,0.058964494615793,0.062634631991386,-0.077091537415981,0.094513967633247,-0.003894353518263,-0.005594222806394,-0.198610991239548,-0.131420806050301,-0.047838721424341));
res += mul(Get(s1,dx,-dy), float4x4(-0.116315640509129,0.091803096234798,0.005800785496831,0.132991537451744,-0.105831347405910,-0.040497373789549,-0.047058768570423,-0.031812645494938,-0.002678483724594,-0.012679912149906,-0.051417823880911,-0.063904546201229,0.069806218147278,-0.097810707986355,0.115439005196095,0.006677808240056));
res += mul(Get(s1,dx,0), float4x4(-0.054432205855846,0.109698884189129,0.127121165394783,-0.107396595180035,0.000241750036366,0.216169863939285,0.114344954490662,-0.031279444694519,-0.143351554870605,-0.025359014049172,0.101999610662460,0.104182869195938,0.019049772992730,-0.081676527857780,-0.004153088666499,0.013673351146281));
res += mul(Get(s1,dx,dy), float4x4(-0.074905835092068,-0.137946903705597,0.037466954439878,-0.034339629113674,-0.102121800184250,-0.049476422369480,-0.029583677649498,0.133728325366974,-0.035362176597118,-0.113647565245628,-0.020591318607330,0.013222957029939,-0.071519061923027,0.008883654139936,0.035403832793236,-0.149887993931770));
res += mul(Get(s2,-dx,-dy), float4x4(-0.053409803658724,-0.009018054232001,0.092049248516560,0.134882450103760,0.003375224303454,0.096489913761616,0.039772637188435,-0.095511853694916,-0.015608444809914,0.212652280926704,-0.120283350348473,0.047681450843811,0.087052948772907,0.020658653229475,0.018618101254106,-0.069497905671597));
res += mul(Get(s2,-dx,0), float4x4(-0.081160992383957,-0.038229845464230,-0.170259058475494,0.056132037192583,0.102649427950382,-0.053941112011671,-0.066502369940281,0.047394540160894,-0.228486090898514,0.204046323895454,0.014102282933891,-0.018094474449754,-0.130637988448143,0.017882151529193,0.078979291021824,-0.058755084872246));
res += mul(Get(s2,-dx,dy), float4x4(-0.159624680876732,0.022867590188980,0.064745135605335,0.100936740636826,-0.099189348518848,0.035011433064938,0.042773611843586,-0.069596275687218,-0.046592622995377,-0.000685757375322,0.145945474505424,-0.009401165880263,-0.002266004914418,0.094647563993931,0.014830128289759,0.056582346558571));
res += mul(Get(s2,0,-dy), float4x4(-0.113445043563843,0.047762118279934,-0.138445690274239,-0.021306816488504,-0.214657381176949,-0.013971198350191,-0.076567076146603,-0.054528888314962,0.034719165414572,-0.086612977087498,0.122675396502018,-0.194435015320778,0.064008846879005,-0.045110419392586,0.010876106098294,-0.136245548725128));
res += mul(Get(s2,0,0), float4x4(0.012490249238908,0.128581210970879,-0.221352800726891,0.068724639713764,-0.008168364875019,0.031752567738295,0.020019518211484,-0.049982536584139,0.111631937325001,-0.037423804402351,-0.016875373199582,-0.095721423625946,0.131204977631569,0.042864017188549,0.008009949699044,0.112498939037323));
res += mul(Get(s2,0,dy), float4x4(0.275181651115417,-0.047389965504408,0.138114675879478,0.028599254786968,0.086278662085533,-0.072248473763466,0.234340146183968,0.096038587391376,0.059201799333096,-0.078381873667240,0.115703739225864,0.027001995593309,-0.124173961579800,-0.024890577420592,0.075870938599110,-0.028494784608483));
res += mul(Get(s2,dx,-dy), float4x4(-0.008663446642458,0.018298879265785,0.003785935696214,-0.046814002096653,-0.212937846779823,0.060514457523823,0.073809526860714,0.012531339190900,0.063172884285450,0.045825488865376,0.104948066174984,-0.193206757307053,-0.008856601081789,0.045912183821201,-0.005295590963215,-0.012738375924528));
res += mul(Get(s2,dx,0), float4x4(0.016491204500198,0.057756286114454,0.083543233573437,0.086684629321098,0.064551435410976,-0.214576825499535,-0.037645775824785,-0.096945434808731,0.163142517209053,0.136388689279556,0.103839360177517,-0.031214445829391,0.173024535179138,-0.107241310179234,0.057973451912403,0.077777549624443));
res += mul(Get(s2,dx,dy), float4x4(0.005537363700569,-0.049385294318199,-0.025531541556120,0.011035006493330,0.108005911111832,-0.061259765177965,-0.015875952318311,-0.029583998024464,-0.084848545491695,-0.018704807385802,-0.028667321428657,-0.007219946011901,0.115741878747940,0.074517548084259,0.121459685266018,0.052501652389765));
res += mul(Get(s3,-dx,-dy), float4x4(0.078458815813065,-0.082524634897709,-0.045275349169970,0.271873325109482,-0.073096901178360,-0.018427889794111,-0.051985468715429,0.028416199609637,0.072742789983749,0.050420500338078,0.014212931506336,-0.061178285628557,0.113572366535664,-0.002081683138385,0.020756471902132,-0.056002847850323));
res += mul(Get(s3,-dx,0), float4x4(0.010944913141429,0.264973849058151,0.041070945560932,-0.122439026832581,0.069123037159443,-0.084966421127319,-0.022406453266740,0.074867255985737,-0.015126612037420,-0.073349267244339,0.040769331157207,0.070201218128204,-0.041194032877684,0.139593586325645,0.092830114066601,-0.243163555860519));
res += mul(Get(s3,-dx,dy), float4x4(-0.035568028688431,0.011730886064470,0.046937987208366,0.068613894283772,0.052558660507202,0.114798337221146,0.127114459872246,-0.032789237797260,-0.069845266640186,0.050411310046911,-0.047544103115797,0.009457072243094,-0.025049973279238,0.015821557492018,0.027192043140531,0.133420288562775));
res += mul(Get(s3,0,-dy), float4x4(0.099525727331638,-0.070203170180321,-0.017388656735420,0.095077201724052,0.141144827008247,0.015558344312012,-0.135722592473030,0.001671344274655,-0.016811167821288,0.000471856328659,0.017228452488780,-0.186738878488541,0.195229947566986,-0.096856489777565,-0.245743677020073,-0.050622846931219));
res += mul(Get(s3,0,0), float4x4(0.064616255462170,-0.020928328856826,-0.012995210476220,0.059232927858829,0.180455297231674,-0.095277480781078,0.062721930444241,-0.010103940963745,-0.012189695611596,-0.012301532551646,-0.104010969400406,0.123535178601742,0.128063946962357,0.024404250085354,-0.105107076466084,0.080391854047775));
res += mul(Get(s3,0,dy), float4x4(0.107438385486603,0.104810670018196,0.000069933128543,0.017881112173200,0.124688968062401,0.138387292623520,0.082595482468605,-0.131033748388290,-0.098598189651966,-0.093697972595692,-0.010997073724866,-0.064929634332657,0.055040583014488,0.120460040867329,0.106604695320129,0.095285885035992));
res += mul(Get(s3,dx,-dy), float4x4(-0.030144181102514,0.002286873292178,-0.064495116472244,0.053997632116079,-0.091204889118671,0.105096794664860,0.064057163894176,0.139777109026909,0.006568581331521,0.124617770314217,-0.073097646236420,-0.122709296643734,0.075700260698795,-0.146425262093544,0.097353629767895,0.000353972660378));
res += mul(Get(s3,dx,0), float4x4(0.015792625024915,-0.138960987329483,0.133037447929382,-0.242876172065735,-0.134567558765411,-0.108508519828320,-0.117618963122368,-0.179537832736969,-0.093833558261395,0.060386948287487,0.003367722034454,-0.065882757306099,-0.009385956451297,-0.159454450011253,0.214148595929146,-0.032553952187300));
res += mul(Get(s3,dx,dy), float4x4(0.102860808372498,0.065400570631027,-0.000665072642732,0.069027155637741,-0.109344184398651,0.019774461165071,0.157602950930595,0.003554724622518,-0.066439010202885,-0.005573470145464,0.046336617320776,0.052329208701849,-0.032285943627357,-0.126331254839897,0.008482346311212,0.105999723076820));
return max(float4(0,0,0,0), res);
}
