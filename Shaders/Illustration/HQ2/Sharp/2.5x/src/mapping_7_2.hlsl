sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.040411509573460,0.074062839150429,0.165226206183434,-0.057869903743267,0.119211591780186,-0.093462444841862,-0.039029758423567,-0.096016377210617,0.052923813462257,-0.185055240988731,-0.027147810906172,-0.166505068540573,-0.064584463834763,-0.065387696027756,0.213239982724190,0.102461084723473));
res += mul(Get(s0,-dx,0), float4x4(0.081093251705170,-0.101418159902096,-0.044684056192636,-0.022729359567165,0.090150721371174,0.080863364040852,-0.003134270897135,-0.011133227497339,-0.058074787259102,0.222228705883026,-0.093110695481300,0.190027937293053,0.084132209420204,-0.194304898381233,-0.019858568906784,0.039969161152840));
res += mul(Get(s0,-dx,dy), float4x4(0.015513202175498,0.029249308630824,-0.054821502417326,0.127005472779274,0.015694029629230,-0.007206546142697,-0.036891896277666,0.202209874987602,0.031482879072428,-0.051374383270741,-0.032645203173161,0.140034288167953,0.121906809508801,-0.031185867264867,-0.011131115257740,0.043142072856426));
res += mul(Get(s0,0,-dy), float4x4(-0.067334063351154,0.084143847227097,-0.043646305799484,-0.045335933566093,0.036388710141182,-0.036392360925674,-0.147098183631897,-0.029230630025268,0.057417940348387,-0.010929240845144,0.085455819964409,-0.004073340445757,-0.094223327934742,0.010062251240015,-0.151895970106125,-0.033708099275827));
res += mul(Get(s0,0,0), float4x4(0.056341715157032,-0.038847677409649,-0.025964602828026,0.046590328216553,0.064487397670746,-0.054668981581926,-0.122423201799393,0.031445365399122,0.101542033255100,0.184312880039215,0.002473735949025,0.182052329182625,0.085121221840382,0.131989836692810,0.080386579036713,-0.063124805688858));
res += mul(Get(s0,0,dy), float4x4(0.065946765244007,0.052314504981041,0.106668017804623,0.147473171353340,0.099070779979229,0.149644047021866,0.045154545456171,-0.061860363930464,-0.076321184635162,0.084316119551659,0.026514928787947,0.112107276916504,0.072992324829102,0.063006177544594,0.051054399460554,0.032025188207626));
res += mul(Get(s0,dx,-dy), float4x4(-0.149409994482994,0.081143461167812,-0.053112346678972,0.110292188823223,0.103402793407440,-0.002783414442092,-0.053677015006542,-0.160259023308754,-0.032478015869856,-0.065278455615044,0.077511198818684,-0.236810922622681,0.121700808405876,0.092877604067326,-0.000860371044837,-0.057221110910177));
res += mul(Get(s0,dx,0), float4x4(-0.122058100998402,0.266484022140503,0.148146554827690,0.147781088948250,-0.029044123366475,0.015431863255799,0.001699492218904,-0.203025639057159,0.166865438222885,0.060490366071463,-0.003960595466197,-0.011699900962412,0.083904832601547,-0.025010637938976,0.036482445895672,0.117422364652157));
res += mul(Get(s0,dx,dy), float4x4(-0.079876326024532,-0.116189382970333,-0.014571762643754,0.018364250659943,-0.024142069742084,-0.002250612946227,0.025222904980183,0.061109185218811,-0.131490111351013,0.010301621630788,-0.163837224245071,-0.009823483414948,0.040105186402798,0.119458109140396,0.086252272129059,-0.028516486287117));
res += mul(Get(s1,-dx,-dy), float4x4(-0.062962144613266,0.082775540649891,0.015548042953014,-0.043475907295942,0.098004952073097,-0.089417837560177,0.132212877273560,-0.072175547480583,-0.079455345869064,-0.151520594954491,0.184701681137085,-0.152803942561150,-0.050946116447449,0.264333605766296,-0.192989289760590,-0.024448385462165));
res += mul(Get(s1,-dx,0), float4x4(0.118093937635422,-0.018320821225643,-0.228873386979103,-0.008968894369900,-0.035962462425232,-0.047987613826990,0.056746762245893,-0.066838003695011,-0.015586400404572,-0.101043298840523,-0.007683629635721,-0.099475555121899,0.067568108439445,0.029262093827128,0.049243733286858,-0.082887932658195));
res += mul(Get(s1,-dx,dy), float4x4(0.067794755101204,0.013094972819090,-0.014781570993364,0.089394271373749,-0.007067062426358,-0.057241536676884,0.073815681040287,0.007118044886738,-0.052057884633541,0.071516431868076,-0.107549533247948,0.000348133413354,-0.056934416294098,0.132204905152321,0.162167504429817,-0.019379006698728));
res += mul(Get(s1,0,-dy), float4x4(-0.076366320252419,-0.115837655961514,-0.027072731405497,-0.025565937161446,0.032047130167484,0.092467643320560,0.036915808916092,0.236572712659836,0.120684832334518,-0.035411167889833,0.162926018238068,-0.060100600123405,0.075003542006016,0.230607151985168,-0.021270098164678,0.037145286798477));
res += mul(Get(s1,0,0), float4x4(0.058611441403627,-0.066589832305908,0.036262802779675,-0.012129712849855,-0.094627022743225,0.028915489092469,0.169226840138435,0.078547909855843,-0.025549583137035,-0.131552815437317,0.000131179229356,-0.020947353914380,0.192911788821220,0.116202645003796,-0.022822193801403,-0.029574848711491));
res += mul(Get(s1,0,dy), float4x4(-0.050199564546347,0.029144458472729,-0.015735708177090,-0.126912117004395,-0.023886857554317,-0.134521633386612,-0.131334438920021,0.170968994498253,0.023278106004000,-0.022446708753705,-0.190791651606560,0.022481009364128,-0.033638998866081,-0.009415052831173,0.045367121696472,-0.024613074958324));
res += mul(Get(s1,dx,-dy), float4x4(-0.106810212135315,-0.070100083947182,-0.007601284887642,0.020696716383100,-0.014623218216002,-0.022662466391921,0.009104415774345,0.120282143354416,-0.003731811884791,0.045757960528135,-0.062035880982876,-0.168900236487389,-0.065889395773411,-0.168555289506912,-0.083072684705257,-0.023329354822636));
res += mul(Get(s1,dx,0), float4x4(-0.033389002084732,-0.011455319821835,0.013838429003954,-0.038923036307096,-0.039624862372875,-0.014957503415644,-0.124933063983917,-0.001573732006364,0.216673761606216,-0.033798508346081,0.141524851322174,-0.057655654847622,-0.103560477495193,-0.120482586324215,0.016019778326154,0.112542338669300));
res += mul(Get(s1,dx,dy), float4x4(0.013661429286003,0.113297306001186,-0.014794752001762,-0.030753325670958,-0.082269445061684,-0.204955011606216,-0.087617494165897,0.013557761907578,0.165462106466293,-0.125549688935280,-0.050113637000322,0.162926152348518,0.097212985157967,-0.038406342267990,0.209561645984650,0.078375168144703));
res += mul(Get(s2,-dx,-dy), float4x4(0.051555790007114,0.014688027091324,-0.079893007874489,-0.066370815038681,0.088095277547836,-0.043829943984747,-0.054983444511890,0.118140563368797,-0.076291635632515,-0.056283541023731,0.036278232932091,0.053462203592062,-0.016842532902956,0.192011401057243,-0.124734878540039,0.313919305801392));
res += mul(Get(s2,-dx,0), float4x4(0.073730945587158,0.160390928387642,0.007625346537679,-0.062117371708155,-0.047293771058321,0.081027135252953,0.167093217372894,0.049411870539188,-0.054890122264624,0.167132437229156,-0.000483528798213,0.066404275596142,-0.103419788181782,0.154615238308907,-0.045277558267117,0.034662157297134));
res += mul(Get(s2,-dx,dy), float4x4(-0.018998369574547,0.206858664751053,0.035584066063166,-0.147000923752785,0.044773310422897,-0.054426979273558,-0.064537271857262,-0.150363251566887,0.081798568367958,0.040740303695202,0.050514761358500,-0.090203233063221,0.029424956068397,0.127310410141945,0.157918766140938,-0.065376877784729));
res += mul(Get(s2,0,-dy), float4x4(-0.078451998531818,0.076230391860008,0.037304859608412,0.095703952014446,-0.069826930761337,0.054433286190033,-0.050780750811100,-0.036214396357536,0.026419226080179,-0.063155226409435,-0.015695415437222,0.082351759076118,-0.051198836416006,0.021272527053952,0.022628773003817,0.274170845746994));
res += mul(Get(s2,0,0), float4x4(-0.052098024636507,-0.106593795120716,0.075228445231915,-0.009825207293034,0.169846206903458,0.173589095473289,0.006900454405695,0.060434751212597,-0.023857612162828,0.152735471725464,-0.097197435796261,-0.122197501361370,0.045474369078875,-0.019027497619390,0.167814865708351,0.057559967041016));
res += mul(Get(s2,0,dy), float4x4(-0.052772950381041,-0.016891121864319,-0.022488377988338,-0.021843109279871,-0.006583082489669,0.195680528879166,0.009815698489547,0.103005714714527,-0.113676086068153,0.108587034046650,-0.047441326081753,-0.001777471043169,-0.234726041555405,0.044202093034983,0.299382954835892,-0.016755171120167));
res += mul(Get(s2,dx,-dy), float4x4(-0.076937772333622,0.196426197886467,-0.064341261982918,0.013708981685340,-0.006175499409437,-0.012819290161133,0.030582495033741,0.014959488064051,-0.161120012402534,0.021182984113693,0.062859244644642,-0.067426458001137,0.083333730697632,-0.173652365803719,-0.054218254983425,0.091545395553112));
res += mul(Get(s2,dx,0), float4x4(0.001651059137657,0.004895864054561,-0.005997918080539,-0.110358059406281,-0.027887631207705,0.218962237238884,-0.090505428612232,0.014143710955977,0.131724596023560,0.004109763540328,0.115449413657188,0.117008358240128,-0.021069673821330,0.091155238449574,0.074179612100124,0.031837023794651));
res += mul(Get(s2,dx,dy), float4x4(-0.023080145940185,-0.002843386493623,-0.168442979454994,-0.079899482429028,-0.046747151762247,0.178342580795288,-0.015630753710866,-0.051776822656393,-0.030810499563813,-0.067224882543087,-0.039161201566458,-0.020246714353561,0.000719023402780,-0.056141469627619,0.091981329023838,-0.089939817786217));
res += mul(Get(s3,-dx,-dy), float4x4(-0.066941641271114,-0.036420620977879,0.155952244997025,-0.113051131367683,-0.067265354096889,0.032840777188540,0.069088108837605,-0.101624079048634,0.018966430798173,-0.068354077637196,0.020183285698295,0.090085387229919,0.139046207070351,0.119604729115963,-0.097467184066772,0.169968247413635));
res += mul(Get(s3,-dx,0), float4x4(-0.207709804177284,0.075277186930180,0.270684480667114,-0.021669359877706,-0.152549460530281,-0.129952862858772,-0.058540776371956,0.088790051639080,-0.014382885769010,0.106805868446827,0.133288264274597,-0.026229416951537,0.074052378535271,0.078888937830925,0.026779338717461,0.098641030490398));
res += mul(Get(s3,-dx,dy), float4x4(-0.086450651288033,0.091817505657673,-0.009226893074811,0.064046926796436,0.121603362262249,-0.045114498585463,0.013466972857714,-0.075180761516094,-0.015639357268810,0.174466595053673,-0.135065615177155,0.028715444728732,0.091830618679523,0.060366537421942,0.045832861214876,-0.011051760986447));
res += mul(Get(s3,0,-dy), float4x4(0.219210639595985,-0.045173689723015,0.018109524622560,0.092274047434330,0.034896086901426,-0.180779159069061,0.045242946594954,-0.054390288889408,-0.088116288185120,-0.068206623196602,-0.060621969401836,0.048240505158901,0.037639766931534,-0.122186206281185,-0.045546099543571,0.056594349443913));
res += mul(Get(s3,0,0), float4x4(0.083984315395355,-0.036700442433357,0.055161967873573,0.036489866673946,0.133156552910805,-0.166987881064415,-0.180320486426353,-0.083455108106136,0.003832190763205,0.025028627365828,-0.068322703242302,-0.075354136526585,-0.019515825435519,0.014495858922601,0.247895509004593,-0.101745083928108));
res += mul(Get(s3,0,dy), float4x4(-0.043862394988537,-0.210382059216499,-0.060684897005558,0.089524015784264,0.233002558350563,-0.144227311015129,0.064634360373020,-0.053518757224083,-0.116512767970562,-0.013160532340407,0.137155100703239,-0.031208189204335,0.108458280563354,0.075074151158333,0.032232563942671,0.089015953242779));
res += mul(Get(s3,dx,-dy), float4x4(0.033400997519493,-0.156592845916748,-0.138213485479355,0.230772435665131,-0.013081258162856,-0.150050476193428,-0.172131627798080,0.191822543740273,0.022793728858232,-0.101706907153130,0.115982167422771,0.167314484715462,-0.130843713879585,-0.083163678646088,0.083945572376251,-0.132037907838821));
res += mul(Get(s3,dx,0), float4x4(0.037244394421577,0.180558487772942,0.038783095777035,0.070768699049950,-0.029135160148144,-0.130190923810005,0.030082562938333,0.034053433686495,0.052807219326496,-0.088492736220360,0.063174501061440,0.011962259188294,-0.065322503447533,0.129810974001884,0.152355030179024,-0.063315190374851));
res += mul(Get(s3,dx,dy), float4x4(-0.194314390420914,0.029677979648113,-0.076495021581650,0.093870237469673,0.052763205021620,-0.122748315334320,0.032217111438513,-0.008685524575412,0.057582575827837,-0.162355139851570,-0.137082189321518,0.078409008681774,-0.062357675284147,-0.039406947791576,0.040917128324509,0.033938761800528));
return max(float4(0,0,0,0), res);
}
