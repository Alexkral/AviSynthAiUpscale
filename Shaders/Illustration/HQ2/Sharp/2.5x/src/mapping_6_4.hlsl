sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.050268232822418,-0.130862042307854,-0.138389587402344,-0.001183568034321,-0.100032784044743,-0.098600916564465,0.071053460240364,0.045646399259567,-0.125930801033974,-0.137580424547195,0.049730859696865,0.152862906455994,-0.030765820294619,0.044800262898207,0.024372395128012,0.104947060346603));
res += mul(Get(s0,-dx,0), float4x4(-0.134219855070114,0.040741458535194,-0.229190871119499,-0.146206408739090,-0.114078015089035,-0.091965004801750,-0.065440349280834,0.157482251524925,-0.102964386343956,-0.043977469205856,-0.095580704510212,-0.058366633951664,-0.010933134704828,-0.058896902948618,0.093470700085163,-0.059884842485189));
res += mul(Get(s0,-dx,dy), float4x4(-0.022683579474688,0.012211958877742,-0.038961119949818,-0.074567936360836,-0.113909773528576,-0.004487941972911,-0.082549639046192,0.144749075174332,-0.124365895986557,0.065128579735756,0.133145093917847,0.052972994744778,-0.003138385945931,-0.080563299357891,-0.155029460787773,-0.087384134531021));
res += mul(Get(s0,0,-dy), float4x4(0.041721761226654,-0.036396998912096,0.064877517521381,0.051712650805712,-0.034281805157661,-0.012770345434546,0.074265182018280,0.093382686376572,0.010846939869225,-0.032645072788000,0.130259290337563,-0.125061780214310,-0.114855088293552,-0.253700762987137,0.101062268018723,0.044211369007826));
res += mul(Get(s0,0,0), float4x4(0.133152201771736,-0.204906821250916,-0.000996445538476,0.094043523073196,0.014796269126236,-0.035969536751509,-0.026299092918634,-0.069685958325863,0.024214239791036,0.070977039635181,0.109240382909775,-0.009530440904200,0.029047818854451,-0.132831007242203,-0.044086575508118,0.151231318712234));
res += mul(Get(s0,0,dy), float4x4(0.021555500105023,0.015668304637074,-0.022634007036686,0.149099156260490,0.061467520892620,0.008259685710073,-0.061208557337523,-0.097623333334923,-0.085397750139236,-0.088760957121849,0.009121014736593,0.014860270544887,0.073331043124199,0.069893814623356,-0.150243669748306,0.127168029546738));
res += mul(Get(s0,dx,-dy), float4x4(-0.024931639432907,0.043187052011490,-0.012931537814438,0.041339166462421,-0.017221465706825,-0.070896312594414,-0.099674768745899,-0.041674111038446,-0.003580776974559,0.003575120354071,-0.037059646099806,-0.064362183213234,0.021931838244200,0.173450767993927,-0.023523507639766,0.079666160047054));
res += mul(Get(s0,dx,0), float4x4(0.027263488620520,-0.043227154761553,0.034783784300089,0.013463889248669,-0.059395417571068,-0.054940521717072,-0.090119294822216,-0.111458852887154,0.071295127272606,-0.064262874424458,0.092576242983341,0.091895952820778,0.020463204011321,0.029500460252166,-0.079757243394852,0.053501501679420));
res += mul(Get(s0,dx,dy), float4x4(0.030496351420879,-0.025066420435905,0.034834042191505,0.023265577852726,-0.012308279983699,-0.150243654847145,-0.033013742417097,-0.010935129597783,0.014914568513632,0.025233395397663,0.001966975396499,0.004714915063232,0.037795182317495,-0.007054626010358,-0.076426975429058,0.169398307800293));
res += mul(Get(s1,-dx,-dy), float4x4(-0.013331021182239,0.027470178902149,-0.083709031343460,0.071310497820377,0.020955374464393,0.006839663255960,-0.052614565938711,0.086205564439297,0.008806795813143,-0.009615028277040,0.112133264541626,-0.013696146197617,-0.080140307545662,0.096489824354649,-0.025612942874432,-0.201524883508682));
res += mul(Get(s1,-dx,0), float4x4(0.024394711479545,-0.165722101926804,0.053606372326612,-0.049109920859337,-0.114239230751991,0.000111269779154,0.062721565365791,0.094873413443565,-0.019409757107496,-0.085814945399761,-0.083194330334663,-0.078002244234085,0.092691816389561,-0.056716792285442,0.042161464691162,0.087444409728050));
res += mul(Get(s1,-dx,dy), float4x4(0.095827862620354,0.045827727764845,-0.064950101077557,-0.041969269514084,-0.050717324018478,0.120582677423954,0.035532634705305,0.020446216687560,0.064950384199619,0.061874110251665,-0.124834932386875,-0.066372752189636,0.037213709205389,0.052472900599241,-0.134471073746681,-0.025343434885144));
res += mul(Get(s1,0,-dy), float4x4(0.016110152006149,0.026838352903724,-0.048861153423786,-0.122141927480698,0.083296015858650,-0.203018456697464,0.051963794976473,0.077010609209538,-0.026771552860737,0.007446853443980,-0.026540707796812,-0.034306701272726,-0.047691609710455,0.103519104421139,-0.125092014670372,0.065709091722965));
res += mul(Get(s1,0,0), float4x4(0.144596651196480,-0.081029415130615,0.012971913442016,0.004678513854742,0.101591639220715,0.029238378629088,-0.043527673929930,0.025537477806211,-0.099849566817284,-0.121665738523006,0.179846554994583,0.030924620106816,-0.101740106940269,0.054491598159075,-0.310433864593506,0.033477701246738));
res += mul(Get(s1,0,dy), float4x4(-0.093371868133545,-0.004880567081273,-0.119472667574883,0.114761307835579,0.059674061834812,-0.127371370792389,0.161919116973877,0.037905473262072,-0.035973921418190,0.040993563830853,-0.023194422945380,-0.104141116142273,-0.151972085237503,0.094967976212502,0.007341186050326,-0.037058737128973));
res += mul(Get(s1,dx,-dy), float4x4(-0.165187865495682,0.057906687259674,0.078805141150951,-0.001315768109635,-0.128953218460083,0.016019726172090,-0.041764564812183,-0.018163215368986,-0.025922983884811,0.054692585021257,-0.064974062144756,0.007703215349466,0.073718525469303,-0.062388777732849,0.126221463084221,0.076682791113853));
res += mul(Get(s1,dx,0), float4x4(0.060148395597935,0.023967364802957,-0.230617925524712,-0.041755814105272,0.035733956843615,0.133710086345673,0.000866956950631,-0.038827016949654,-0.142068222165108,-0.093701139092445,0.001109059201553,-0.019828258082271,0.108950324356556,0.054179269820452,0.020808227360249,0.074757888913155));
res += mul(Get(s1,dx,dy), float4x4(0.135164290666580,0.113380193710327,-0.033609200268984,0.136467352509499,-0.179369524121284,-0.155817568302155,-0.060907781124115,-0.108627662062645,0.018319590017200,-0.060462132096291,0.019821716472507,-0.132172733545303,0.017564602196217,0.107688561081886,0.010887218639255,0.019056390970945));
res += mul(Get(s2,-dx,-dy), float4x4(-0.006986001972109,0.134977459907532,0.074363425374031,0.046240236610174,0.091348037123680,-0.070477202534676,-0.016932694241405,0.018194949254394,0.030432086437941,0.107040867209435,-0.111136190593243,0.047557711601257,-0.083028592169285,-0.110271424055099,0.009116102010012,-0.031599536538124));
res += mul(Get(s2,-dx,0), float4x4(0.080438114702702,0.201299771666527,-0.028804305940866,0.044301714748144,-0.040371078997850,0.025551356375217,-0.066382862627506,0.038405679166317,-0.020213333889842,0.020773222669959,0.064818650484085,0.140884652733803,0.135406658053398,0.056170728057623,-0.021943246945739,0.103582791984081));
res += mul(Get(s2,-dx,dy), float4x4(-0.038402218371630,-0.142834648489952,-0.052944540977478,0.077675051987171,-0.157338365912437,0.057389367371798,0.037284929305315,-0.055966481566429,-0.136227384209633,-0.174946635961533,-0.052832812070847,0.013550403527915,0.035908237099648,-0.070792220532894,-0.271979480981827,0.171338319778442));
res += mul(Get(s2,0,-dy), float4x4(0.066217586398125,0.123294226825237,0.023954777047038,-0.055115226656199,0.037602402269840,-0.003021987620741,0.039572235196829,0.061758290976286,0.067901238799095,0.007466355338693,-0.056112509220839,0.158544003963470,0.053771648555994,0.010793499648571,-0.054565522819757,-0.084801547229290));
res += mul(Get(s2,0,0), float4x4(0.226410374045372,0.065536536276340,0.063602909445763,0.155883789062500,0.045328073203564,-0.047787897288799,0.085454352200031,0.042516957968473,0.009798917919397,0.029471576213837,-0.050100252032280,-0.101756386458874,-0.003817279590294,0.151260450482368,0.031759727746248,-0.037474215030670));
res += mul(Get(s2,0,dy), float4x4(0.002797109307721,0.039245594292879,0.092640489339828,-0.148841291666031,0.038496334105730,0.084109820425510,0.116757847368717,0.016240211203694,0.148328781127930,0.069517619907856,-0.079641073942184,-0.096336700022221,-0.085487224161625,0.056202076375484,0.035908158868551,0.085674256086349));
res += mul(Get(s2,dx,-dy), float4x4(0.041997492313385,0.177680060267448,-0.097157105803490,-0.026644917204976,0.058764919638634,0.135928079485893,0.129157200455666,0.093309991061687,-0.013397345319390,-0.159915134310722,-0.032240506261587,0.163162678480148,-0.013035776093602,-0.037396837025881,0.027342731133103,0.144803106784821));
res += mul(Get(s2,dx,0), float4x4(-0.065948396921158,0.050399512052536,-0.021085742861032,0.135225906968117,-0.059331703931093,0.043507974594831,-0.174256384372711,0.001951431622729,0.046124849468470,-0.037580206990242,0.094303496181965,-0.133370473980904,0.064849816262722,0.011424452997744,-0.092968106269836,0.293627351522446));
res += mul(Get(s2,dx,dy), float4x4(-0.038708232343197,0.102767370641232,-0.164378464221954,-0.002171852160245,0.032011736184359,-0.094926580786705,0.003140552667901,-0.085899896919727,0.012216363102198,0.078190200030804,0.066572949290276,-0.115931279957294,0.068774327635765,-0.056550294160843,-0.008519967086613,0.008928367868066));
res += mul(Get(s3,-dx,-dy), float4x4(0.081974096596241,-0.057286564260721,-0.063323892652988,0.073870815336704,0.066138237714767,-0.124746933579445,-0.033667605370283,0.117756702005863,-0.055770181119442,-0.009916684590280,-0.042399212718010,0.034357871860266,0.074211753904819,-0.045113511383533,-0.099558718502522,0.030837886035442));
res += mul(Get(s3,-dx,0), float4x4(0.000943255494349,0.032426469027996,0.104906648397446,-0.035661604255438,0.098374836146832,-0.020415695384145,0.055209152400494,-0.047336705029011,0.096641190350056,0.084564499557018,0.066292092204094,-0.166133478283882,-0.093939520418644,-0.025834385305643,-0.019302360713482,-0.036634627729654));
res += mul(Get(s3,-dx,dy), float4x4(-0.016324412077665,-0.015965759754181,0.121630795300007,-0.084305606782436,-0.013584770262241,0.149866774678230,-0.006162708625197,-0.113497994840145,0.104960814118385,-0.023268081247807,-0.093532338738441,-0.073321647942066,0.045138377696276,0.142321616411209,0.110764183104038,0.055756576359272));
res += mul(Get(s3,0,-dy), float4x4(-0.093967296183109,-0.006259585730731,0.077456809580326,0.011893455870450,-0.097347512841225,-0.034664902836084,0.053086068481207,-0.106536060571671,0.037372842431068,-0.047714252024889,0.055100690573454,-0.022123510017991,0.023411136120558,0.016590066254139,0.005513265728951,-0.073777265846729));
res += mul(Get(s3,0,0), float4x4(0.003660669317469,0.053279627114534,-0.011779473163188,0.023403756320477,-0.038154710084200,-0.120000399649143,-0.060688894242048,0.044827912002802,-0.069014482200146,-0.143173396587372,-0.080069065093994,0.168567955493927,0.095818027853966,0.067636214196682,-0.088132210075855,0.155739143490791));
res += mul(Get(s3,0,dy), float4x4(0.040272902697325,0.026765085756779,0.056003287434578,-0.067855499684811,-0.070504598319530,-0.002837179228663,0.021383512765169,-0.023908788338304,-0.046838093549013,-0.053184203803539,0.092321433126926,0.021916955709457,0.116064660251141,0.048738818615675,0.077796302735806,-0.000197728833882));
res += mul(Get(s3,dx,-dy), float4x4(0.106283411383629,0.003102066228166,-0.077038064599037,0.100963719189167,-0.006692854687572,-0.056964945048094,-0.059375196695328,0.053500361740589,-0.149204120039940,0.126782208681107,0.007575138472021,-0.144744679331779,0.005138943903148,0.059268720448017,-0.009231565520167,-0.069603458046913));
res += mul(Get(s3,dx,0), float4x4(-0.068090647459030,0.067350059747696,0.122554287314415,0.120739087462425,-0.147106572985649,0.056892644613981,-0.116718292236328,0.114523634314537,0.103530809283257,0.018399089574814,-0.012559500522912,0.153159439563751,0.110456250607967,-0.128017529845238,0.075425356626511,-0.119441896677017));
res += mul(Get(s3,dx,dy), float4x4(0.035431452095509,-0.014891680330038,0.067610315978527,0.034779023379087,-0.061030834913254,0.087918631732464,-0.059968736022711,0.058785192668438,-0.166037693619728,-0.066245257854462,-0.105059877038002,0.052711751312017,-0.146917298436165,0.089718997478485,-0.048680275678635,-0.053771726787090));
return max(float4(0,0,0,0), res);
}
