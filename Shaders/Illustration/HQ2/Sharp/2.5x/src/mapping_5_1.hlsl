sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.091002985835075,0.047522854059935,-0.184261560440063,-0.037608530372381,-0.069891847670078,0.066508069634438,0.025885155424476,-0.077650763094425,-0.049274519085884,0.064945563673973,-0.036098927259445,-0.049694046378136,-0.018698967993259,0.082357339560986,-0.050647176802158,-0.021021956577897));
res += mul(Get(s0,-dx,0), float4x4(0.001801307080314,0.071107290685177,-0.125257477164268,-0.005992442369461,0.052096862345934,-0.106800504028797,-0.143185332417488,-0.055696483701468,-0.223922654986382,-0.007007270120084,0.034586593508720,0.049886163324118,0.056099612265825,0.079549379646778,-0.066300883889198,0.027457371354103));
res += mul(Get(s0,-dx,dy), float4x4(-0.122164450585842,0.090125091373920,0.020860778167844,-0.088549353182316,-0.017495825886726,0.018182136118412,-0.047862574458122,-0.056533750146627,-0.121862217783928,0.022066131234169,-0.155922651290894,0.114136509597301,0.119442328810692,-0.057513095438480,0.076455302536488,-0.039018400013447));
res += mul(Get(s0,0,-dy), float4x4(-0.157116666436195,0.108908459544182,-0.043547853827477,-0.012713190168142,0.006929927971214,-0.146174907684326,0.007987670600414,0.017558466643095,0.104012787342072,0.126767843961716,0.050236590206623,0.086335174739361,-0.092043504118919,0.043692767620087,0.117303587496281,-0.055168576538563));
res += mul(Get(s0,0,0), float4x4(-0.032916959375143,-0.153517156839371,-0.027511430904269,-0.075009755790234,0.061161436140537,0.041739255189896,0.187689960002899,0.004595210310072,0.056840494275093,0.171309381723404,-0.100304797291756,0.027391852810979,0.081970155239105,0.068452090024948,0.007782180793583,-0.089792676270008));
res += mul(Get(s0,0,dy), float4x4(0.153643682599068,-0.068449489772320,-0.119861789047718,0.076984740793705,0.134776800870895,0.076620101928711,0.024516383185983,-0.184216633439064,-0.000134771325975,-0.070697240531445,-0.016671765595675,0.094860337674618,-0.021159542724490,0.012937097810209,-0.090483456850052,-0.067212268710136));
res += mul(Get(s0,dx,-dy), float4x4(-0.080820523202419,-0.000296718673781,0.167060926556587,0.053504597395658,-0.172465220093727,0.114623539149761,0.027260113507509,-0.090225942432880,0.063447870314121,-0.036512300372124,0.023300532251596,0.108041197061539,0.130414083600044,0.027364343404770,0.099815592169762,-0.106142848730087));
res += mul(Get(s0,dx,0), float4x4(-0.133358046412468,-0.317127764225006,0.006901076063514,-0.045407518744469,-0.041281294077635,-0.018880276009440,0.069159604609013,-0.044379781931639,-0.123401112854481,0.010631230659783,-0.075366839766502,0.044288184493780,0.092872418463230,-0.013375614769757,-0.074037298560143,-0.023830449208617));
res += mul(Get(s0,dx,dy), float4x4(-0.200205191969872,-0.204717367887497,-0.091400310397148,0.028209306299686,-0.065660685300827,-0.081846624612808,0.092406474053860,-0.019881337881088,-0.017065143212676,0.058432210236788,0.113488338887691,0.174761325120926,-0.107815675437450,0.149307832121849,-0.183945819735527,-0.066225051879883));
res += mul(Get(s1,-dx,-dy), float4x4(0.248514175415039,-0.048336077481508,-0.065090142190456,0.126824080944061,-0.068929873406887,0.033853419125080,-0.077670864760876,0.013415104709566,0.102068863809109,-0.010799183510244,0.137093141674995,0.034995082765818,0.079846411943436,-0.078689202666283,0.096209660172462,0.121629953384399));
res += mul(Get(s1,-dx,0), float4x4(-0.062876708805561,0.087357498705387,0.145402476191521,0.031809888780117,0.038941789418459,-0.187761679291725,-0.034563593566418,-0.099115014076233,0.063128329813480,-0.043411482125521,-0.022111508995295,0.119918026030064,-0.107748739421368,-0.000623891770374,-0.000096089963336,-0.135659769177437));
res += mul(Get(s1,-dx,dy), float4x4(0.016803210601211,0.046773474663496,0.164491683244705,-0.195288240909576,0.193474680185318,0.000470534287160,-0.076070003211498,-0.028618143871427,-0.034206464886665,0.078150421380997,0.036586571484804,0.154390752315521,0.120406493544579,0.026744276285172,-0.034725192934275,-0.046482563018799));
res += mul(Get(s1,0,-dy), float4x4(0.156541496515274,-0.100026428699493,0.018591992557049,0.085263825953007,0.175864905118942,-0.124799080193043,0.031432945281267,-0.021677937358618,-0.129465520381927,0.167939186096191,-0.043106857687235,0.177450820803642,0.008279672823846,-0.130059629678726,-0.053018584847450,-0.089484415948391));
res += mul(Get(s1,0,0), float4x4(-0.142941474914551,0.138800010085106,-0.011327356100082,-0.063635677099228,0.176032721996307,0.033017493784428,-0.051363337785006,-0.033178478479385,-0.122660309076309,0.161092460155487,0.168533533811569,-0.100582227110863,0.122316919267178,-0.025313381105661,-0.009328281506896,0.105293452739716));
res += mul(Get(s1,0,dy), float4x4(-0.052088823169470,0.113194301724434,-0.188348934054375,-0.158098518848419,0.065079525113106,0.011349396780133,0.003624392906204,0.067193731665611,-0.036602940410376,0.178019717335701,-0.046242006123066,-0.070462465286255,0.064424142241478,-0.042644418776035,-0.043961446732283,0.172496318817139));
res += mul(Get(s1,dx,-dy), float4x4(-0.103719532489777,0.098904877901077,-0.150149509310722,0.034913480281830,-0.035633325576782,0.342444062232971,0.033342678099871,-0.084983795881271,0.060747649520636,0.108190476894379,0.087005376815796,0.174606218934059,-0.059944894164801,0.005455747246742,-0.171340212225914,0.063994020223618));
res += mul(Get(s1,dx,0), float4x4(-0.055382434278727,-0.158106043934822,0.061817344278097,0.113022647798061,0.015032090246677,0.104527756571770,0.116075970232487,-0.042853564023972,0.131301790475845,-0.013294394128025,-0.024517541751266,0.027872361242771,-0.090485423803329,-0.016874292865396,-0.021785210818052,0.131393030285835));
res += mul(Get(s1,dx,dy), float4x4(-0.012649119831622,-0.116256475448608,-0.045359376817942,0.021070174872875,0.051254715770483,0.024104455485940,-0.057078640908003,-0.030228462070227,0.002214813372120,0.027559008449316,0.079259932041168,-0.044332858175039,-0.211147442460060,-0.011426801793277,0.022185098379850,0.135376453399658));
res += mul(Get(s2,-dx,-dy), float4x4(-0.009092257358134,-0.114260077476501,-0.068718768656254,0.058803778141737,0.052107498049736,0.015641707926989,-0.108810998499393,-0.067478328943253,-0.156482428312302,-0.027876382693648,0.079163074493408,-0.035777036100626,-0.002058949088678,-0.063463434576988,0.069014780223370,0.049202159047127));
res += mul(Get(s2,-dx,0), float4x4(-0.007845667190850,-0.109412297606468,-0.048447672277689,-0.042527403682470,-0.040774557739496,0.089538335800171,0.182340711355209,0.047496512532234,-0.018254071474075,-0.243367150425911,-0.049747593700886,-0.183396026492119,0.011895935051143,0.097397573292255,0.097875013947487,0.123428367078304));
res += mul(Get(s2,-dx,dy), float4x4(-0.035715982317924,-0.135218471288681,-0.063694097101688,0.076767377555370,-0.132212102413177,-0.116922415792942,0.000369652057998,-0.088714584708214,0.088080458343029,-0.113439127802849,-0.054200466722250,-0.000471923121950,0.007776630111039,-0.046563118696213,-0.100312612950802,0.017869073897600));
res += mul(Get(s2,0,-dy), float4x4(0.083264194428921,0.039688877761364,-0.004274392034858,0.026271136477590,0.088195882737637,-0.063981696963310,0.102697424590588,-0.114039383828640,0.292432039976120,-0.048398982733488,-0.020704805850983,0.190037235617638,0.168534979224205,-0.044740501791239,-0.166303053498268,-0.018324652686715));
res += mul(Get(s2,0,0), float4x4(0.015656037256122,0.070083096623421,-0.066578455269337,-0.094498619437218,0.215137064456940,-0.111775889992714,0.073013648390770,0.017978321760893,0.266090273857117,0.018892835825682,0.068313591182232,0.027607662603259,0.048921745270491,0.056469384580851,-0.135686650872231,-0.091111414134502));
res += mul(Get(s2,0,dy), float4x4(0.084966309368610,-0.152803599834442,-0.112967193126678,-0.052119765430689,-0.073713690042496,0.014643856324255,-0.001750951749273,-0.079428471624851,0.075475186109543,0.023331364616752,-0.094795338809490,-0.088669754564762,0.175992339849472,0.075091183185577,-0.097044356167316,0.008746147155762));
res += mul(Get(s2,dx,-dy), float4x4(0.069910474121571,-0.107719518244267,0.140559494495392,0.140747040510178,0.004358038306236,-0.077387548983097,0.028640823438764,0.118554733693600,0.044286616146564,-0.170206367969513,-0.093970462679863,0.024551047012210,0.066706255078316,0.070788152515888,-0.113897666335106,-0.089210323989391));
res += mul(Get(s2,dx,0), float4x4(0.027688937261701,-0.031256698071957,-0.043922793120146,-0.097536489367485,0.107774406671524,0.078664571046829,-0.051480833441019,0.046994935721159,-0.068818144500256,0.040525313466787,-0.021901382133365,0.076074264943600,0.064323417842388,0.061399292200804,-0.007959970273077,-0.029587600380182));
res += mul(Get(s2,dx,dy), float4x4(-0.076006852090359,0.079244047403336,0.048214774578810,0.030205437913537,-0.189920514822006,-0.146884545683861,0.008336437866092,-0.030989259481430,-0.164869725704193,0.055900283157825,-0.030848264694214,-0.116763643920422,-0.143759444355965,0.105155982077122,-0.034597408026457,-0.036829847842455));
res += mul(Get(s3,-dx,-dy), float4x4(0.071841999888420,-0.027301974594593,0.145518541336060,-0.002928845118731,0.059260442852974,0.108976326882839,0.143628075718880,0.074480362236500,-0.041176680475473,-0.008211398497224,0.127813294529915,-0.058373726904392,0.174965664744377,0.027048476040363,0.155755549669266,-0.008679292164743));
res += mul(Get(s3,-dx,0), float4x4(0.058648873120546,0.070981100201607,0.068008825182915,0.041498750448227,0.001586452475749,-0.108907729387283,-0.053345210850239,-0.078431360423565,-0.022173160687089,0.004268628545105,-0.003864525584504,0.026476206257939,-0.111233398318291,0.112435527145863,-0.139656394720078,-0.080996237695217));
res += mul(Get(s3,-dx,dy), float4x4(-0.061666920781136,0.068226486444473,-0.002666856860742,-0.039161209017038,0.080497398972511,0.075019113719463,-0.001685648807324,-0.002242944203317,0.016242783516645,0.023431962355971,-0.020512342453003,0.053051944822073,-0.103194572031498,-0.066484503448009,-0.074557825922966,-0.103538662195206));
res += mul(Get(s3,0,-dy), float4x4(0.034068752080202,-0.142006769776344,-0.112002246081829,0.006531054619700,-0.043525867164135,0.106413438916206,0.059008896350861,-0.059514768421650,0.062380731105804,0.023410830646753,-0.061633013188839,-0.036192666739225,0.123830676078796,0.103644959628582,-0.043811120092869,-0.060866691172123));
res += mul(Get(s3,0,0), float4x4(0.037579927593470,-0.042796853929758,0.014539111405611,-0.156015485525131,0.103503867983818,0.070205464959145,-0.001190196024254,-0.102947495877743,0.062908448278904,0.111187264323235,0.232239484786987,0.173328116536140,-0.019502900540829,-0.034576151520014,-0.110427632927895,-0.007206992711872));
res += mul(Get(s3,0,dy), float4x4(0.051604684442282,0.093421444296837,0.030532741919160,0.089950211346149,-0.102760419249535,-0.057702191174030,-0.071779847145081,-0.005788207054138,0.020777029916644,0.059092074632645,0.141725838184357,-0.103198274970055,0.037752248346806,-0.018930552527308,-0.115747176110744,-0.030734863132238));
res += mul(Get(s3,dx,-dy), float4x4(0.065778218209743,-0.032423462718725,0.040365174412727,-0.090290419757366,0.060396421700716,-0.109109677374363,0.148460865020752,-0.023066131398082,0.102185286581516,-0.010306302458048,-0.011186690069735,-0.135540962219238,0.167533963918686,0.094588294625282,0.065118610858917,0.099463187158108));
res += mul(Get(s3,dx,0), float4x4(0.101609371602535,-0.054271358996630,-0.031941659748554,-0.025249172002077,-0.034838926047087,0.090043649077415,-0.254819393157959,-0.010024701245129,0.021511925384402,0.082816690206528,-0.021379819139838,0.134746596217155,-0.048508286476135,-0.021079530939460,-0.013425154611468,-0.035876415669918));
res += mul(Get(s3,dx,dy), float4x4(0.007649234961718,-0.026114119216800,-0.091258347034454,0.014368488453329,0.016087429597974,0.052980601787567,0.037625223398209,-0.095856525003910,0.107123650610447,0.174992740154266,-0.081595905125141,-0.095495641231537,-0.085710190236568,-0.171637266874313,-0.044519182294607,0.122874051332474));
return max(float4(0,0,0,0), res);
}
