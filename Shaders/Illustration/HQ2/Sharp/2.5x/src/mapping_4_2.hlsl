sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.020076908171177,-0.027783494442701,0.030764328315854,0.219643875956535,0.011078906245530,-0.046078063547611,-0.072843737900257,0.003031143918633,-0.176437541842461,0.065198332071304,-0.002501006238163,-0.127078741788864,0.059814073145390,-0.118502222001553,0.022306200116873,0.124821081757545));
res += mul(Get(s0,-dx,0), float4x4(-0.097901277244091,0.071843892335892,-0.177912533283234,0.032943055033684,-0.066555537283421,0.073320269584656,0.140734985470772,-0.116009466350079,0.015164895914495,-0.023795338347554,0.017611971125007,0.020188068971038,0.028240922838449,0.130671694874763,0.017105814069510,-0.071541242301464));
res += mul(Get(s0,-dx,dy), float4x4(-0.134676411747932,0.097075909376144,0.061476353555918,-0.115451075136662,0.073520176112652,0.021914688870311,0.084303282201290,-0.115940369665623,-0.068832665681839,-0.121112279593945,-0.076802074909210,0.034879509359598,-0.004777066409588,0.081291191279888,-0.236135259270668,-0.067584760487080));
res += mul(Get(s0,0,-dy), float4x4(0.134313017129898,0.104507863521576,0.098688945174217,0.197932630777359,-0.065528146922588,-0.049680233001709,0.149494290351868,-0.149150773882866,0.099385626614094,-0.082133680582047,-0.034267459064722,0.035823605954647,0.025027418509126,0.183577388525009,0.189150199294090,-0.027173699811101));
res += mul(Get(s0,0,0), float4x4(0.224462926387787,-0.196893766522408,-0.125035837292671,-0.077489063143730,0.032763153314590,0.069940045475960,0.084687396883965,0.073376417160034,-0.001102241338231,0.088465258479118,0.137543186545372,-0.058746434748173,0.090320244431496,0.014867290854454,0.134159117937088,0.092281088232994));
res += mul(Get(s0,0,dy), float4x4(-0.037441357970238,0.078456997871399,0.089159861207008,-0.060020878911018,0.031909320503473,-0.090625382959843,0.112099587917328,-0.077118597924709,0.074804119765759,-0.024472165852785,-0.029397141188383,-0.035540185868740,0.116057991981506,-0.233334749937057,0.128381773829460,-0.039411444216967));
res += mul(Get(s0,dx,-dy), float4x4(0.124479547142982,-0.041724901646376,-0.046089705079794,0.067001007497311,0.063081853091717,0.155135363340378,0.009718500077724,-0.156976893544197,0.171961754560471,0.073266930878162,-0.034982670098543,-0.049945399165154,-0.068539321422577,0.189102590084076,0.050574094057083,0.074026875197887));
res += mul(Get(s0,dx,0), float4x4(-0.014131671749055,-0.147035896778107,0.041704047471285,0.021024029701948,0.036844402551651,-0.079295739531517,-0.093813262879848,0.052709944546223,-0.026339955627918,-0.064533099532127,0.003441247623414,0.003047122852877,0.075904846191406,0.096703022718430,-0.048692498356104,-0.060395237058401));
res += mul(Get(s0,dx,dy), float4x4(-0.066743023693562,-0.028220560401678,-0.070750452578068,0.004393569659442,-0.049964562058449,0.125779271125793,0.056618291884661,-0.021755740046501,-0.054771132767200,-0.246054530143738,-0.093823835253716,0.037731662392616,-0.082919359207153,-0.177233159542084,-0.149394378066063,-0.079215019941330));
res += mul(Get(s1,-dx,-dy), float4x4(0.166077032685280,0.018123734742403,-0.036493640393019,0.161911696195602,-0.008125731721520,0.200616911053658,0.211289793252945,-0.052779428660870,-0.126217380166054,0.076172500848770,0.083980284631252,0.003029946237803,0.014644920825958,0.050574481487274,-0.072779797017574,-0.077863618731499));
res += mul(Get(s1,-dx,0), float4x4(0.044684194028378,-0.017058089375496,0.040625434368849,0.081260249018669,-0.051997773349285,0.062637060880661,-0.088005252182484,0.110161364078522,-0.042777992784977,0.181890919804573,-0.056455526500940,-0.069812402129173,-0.041642531752586,-0.132699921727180,0.077743798494339,-0.074608005583286));
res += mul(Get(s1,-dx,dy), float4x4(-0.281042397022247,-0.060067404061556,0.190575391054153,0.049076683819294,0.044009573757648,0.060039568692446,-0.091786809265614,0.026851702481508,-0.110304817557335,0.082050599157810,0.094860300421715,-0.048893112689257,-0.166100531816483,-0.098559372127056,-0.017521400004625,-0.060307167470455));
res += mul(Get(s1,0,-dy), float4x4(-0.011439700610936,-0.145625829696655,-0.092016495764256,0.002882369561121,0.044417239725590,-0.028644779697061,-0.021620558574796,0.092815048992634,0.005893311463296,-0.029587389901280,-0.016016425564885,-0.069340638816357,0.252332806587219,-0.093841247260571,0.127539277076721,-0.083242483437061));
res += mul(Get(s1,0,0), float4x4(0.102828264236450,-0.079694427549839,0.175661250948906,-0.049615435302258,0.047301083803177,-0.073760934174061,-0.015502170659602,-0.067047685384750,-0.201738908886909,0.023783024400473,-0.021491650491953,0.044576264917850,0.042986445128918,0.090915188193321,-0.046120453625917,-0.061690263450146));
res += mul(Get(s1,0,dy), float4x4(-0.029063567519188,0.077197402715683,-0.079628892242908,0.104287452995777,0.050134945660830,-0.080396711826324,0.020407449454069,0.037747971713543,-0.017360512167215,0.081111736595631,0.049413774162531,-0.092143736779690,0.093869186937809,0.004487202502787,0.058669190853834,-0.056072771549225));
res += mul(Get(s1,dx,-dy), float4x4(-0.074454665184021,-0.030613103881478,0.074767448008060,0.104368396103382,0.045183122158051,0.075128890573978,0.024140667170286,-0.079063020646572,0.089534185826778,0.012392180040479,-0.106072790920734,0.052946079522371,0.060659073293209,0.168717905879021,0.041510593146086,-0.135800778865814));
res += mul(Get(s1,dx,0), float4x4(0.040843155235052,-0.025856789201498,0.016183262690902,-0.156634464859962,0.154974892735481,-0.002436086535454,0.171142816543579,-0.177462548017502,0.036777436733246,0.133549690246582,-0.211157724261284,-0.026470681652427,-0.018542326986790,-0.013276509940624,0.034746609628201,-0.155368193984032));
res += mul(Get(s1,dx,dy), float4x4(0.163683623075485,0.046679716557264,-0.179446771740913,-0.101581588387489,0.095800407230854,-0.054869361221790,0.094573140144348,0.025912266224623,0.121455714106560,0.116526365280151,-0.037110935896635,-0.020565757527947,-0.021682756021619,-0.001262646750547,-0.085165023803711,-0.278642624616623));
res += mul(Get(s2,-dx,-dy), float4x4(-0.195913553237915,-0.035662878304720,0.022943867370486,0.046506904065609,-0.027543552219868,0.078083261847496,-0.022194132208824,-0.032362267374992,0.068179413676262,-0.004689988680184,-0.190536901354790,-0.019201561808586,0.007933261804283,0.000396312971134,0.091623760759830,0.125029399991035));
res += mul(Get(s2,-dx,0), float4x4(-0.062861368060112,0.095148600637913,-0.000492757593747,-0.082952015101910,0.043617837131023,0.067123129963875,0.070892103016376,-0.079993233084679,-0.062858581542969,-0.008909896016121,0.037332076579332,-0.025118820369244,0.035564277321100,0.034243926405907,-0.059758037328720,-0.166588246822357));
res += mul(Get(s2,-dx,dy), float4x4(-0.026930715888739,0.060086004436016,-0.039098847657442,0.019456131383777,0.060871921479702,-0.133238345384598,-0.080276735126972,-0.157321497797966,0.003851357614622,-0.035403046756983,0.215179875493050,0.055434949696064,-0.024778870865703,0.089249044656754,0.021398145705462,0.026689928025007));
res += mul(Get(s2,0,-dy), float4x4(-0.062110409140587,0.019301539286971,-0.016242019832134,-0.035583198070526,-0.057052124291658,0.082757338881493,0.129814967513084,-0.119836382567883,0.035979252308607,0.085782155394554,0.000231248850469,-0.027293341234326,0.037453800439835,0.004797606263310,-0.037103593349457,0.145375669002533));
res += mul(Get(s2,0,0), float4x4(0.039973523467779,-0.051065009087324,-0.035840157419443,0.084564223885536,0.095323197543621,0.037080675363541,-0.119384169578552,0.157646611332893,0.287964582443237,0.111765839159489,0.066001079976559,0.024222219362855,0.020702581852674,0.071303628385067,-0.056471291929483,0.008338590152562));
res += mul(Get(s2,0,dy), float4x4(-0.012610455043614,-0.045097008347511,-0.021814590319991,0.040178351104259,0.032283011823893,-0.079293027520180,0.175317808985710,-0.116334646940231,-0.110194571316242,0.062376350164413,0.075083352625370,0.128316432237625,-0.013735492713749,-0.000996691640466,0.019231507554650,0.022380303591490));
res += mul(Get(s2,dx,-dy), float4x4(-0.059305340051651,-0.050117608159781,-0.058794870972633,0.126021146774292,0.072441689670086,0.000018709630240,-0.006325280293822,0.049435324966908,-0.045207135379314,0.008646381087601,-0.010075842030346,0.054964035749435,-0.058662764728069,0.011765572242439,-0.123845137655735,0.077337630093098));
res += mul(Get(s2,dx,0), float4x4(-0.122292362153530,0.046066321432590,-0.093353010714054,0.024891626089811,-0.021025272086263,0.009238706901670,-0.189153492450714,0.015510346740484,-0.042735353112221,0.127588123083115,0.091810211539268,-0.053280480206013,-0.046038843691349,-0.172320559620857,-0.133949026465416,0.205624520778656));
res += mul(Get(s2,dx,dy), float4x4(0.047965332865715,0.076359473168850,-0.041595153510571,0.046267025172710,0.073526531457901,0.026674032211304,0.041311405599117,0.062078129500151,-0.128599524497986,-0.028418416157365,-0.019035393372178,-0.024566924199462,-0.084608100354671,0.119973488152027,-0.113987304270267,0.082567244768143));
res += mul(Get(s3,-dx,-dy), float4x4(0.051872130483389,0.073911562561989,-0.082117043435574,-0.054562505334616,0.019734347239137,0.064861431717873,0.110124684870243,0.045744620263577,0.037972673773766,-0.060657370835543,-0.098362453281879,-0.042404428124428,-0.070724770426750,-0.058190293610096,-0.221359133720398,-0.097726464271545));
res += mul(Get(s3,-dx,0), float4x4(0.082668691873550,-0.106457397341728,0.078045248985291,-0.005368360783905,0.034255761653185,-0.133138865232468,-0.070482842624187,0.026446852833033,0.241201534867287,0.045464999973774,0.074997603893280,-0.044009294360876,-0.009022849611938,-0.064265541732311,-0.143621832132339,0.075621321797371));
res += mul(Get(s3,-dx,dy), float4x4(0.070683926343918,-0.199267297983170,-0.003968445584178,-0.070269934833050,-0.003658633213490,0.088791795074940,0.147507622838020,0.091936022043228,0.010657062754035,-0.047685001045465,-0.046437539160252,-0.058704003691673,0.095910228788853,0.042440172284842,0.084524981677532,0.024952000007033));
res += mul(Get(s3,0,-dy), float4x4(-0.095265299081802,0.130496144294739,0.142738863825798,0.002841867739335,-0.009393394924700,-0.003675976069644,0.022146694362164,0.019725587219000,0.018464142456651,0.099694587290287,0.049227390438318,-0.187784984707832,0.046497032046318,0.054367855191231,0.135575041174889,0.013070516288280));
res += mul(Get(s3,0,0), float4x4(-0.156581059098244,0.053260628134012,0.096171930432320,-0.224708810448647,0.189110442996025,0.027938613668084,0.038979500532150,-0.074524246156216,-0.027159212157130,0.149023965001106,0.101252794265747,-0.121160134673119,-0.016464048996568,0.077573321759701,-0.051186643540859,0.077036231756210));
res += mul(Get(s3,0,dy), float4x4(0.107432134449482,0.113591410219669,-0.057074632495642,-0.097063407301903,-0.104883484542370,0.027776855975389,-0.052576571702957,-0.078213945031166,0.110815577208996,-0.129969671368599,-0.186204805970192,-0.035874560475349,-0.087317489087582,0.087130323052406,-0.033232647925615,0.076595887541771));
res += mul(Get(s3,dx,-dy), float4x4(0.067458085715771,0.059348993003368,-0.098410047590733,0.065478242933750,0.027533933520317,0.018699122592807,-0.076242297887802,-0.110151760280132,0.089908801019192,-0.124453835189342,-0.059541855007410,0.025815207511187,-0.009202418848872,0.106304988265038,0.034262631088495,-0.059158131480217));
res += mul(Get(s3,dx,0), float4x4(0.202716395258904,0.151842504739761,0.007301304489374,0.042455479502678,0.057637974619865,-0.045339647680521,-0.003225799184293,0.030729062855244,-0.062805823981762,0.071934074163437,-0.053886316716671,-0.074762947857380,0.004073821939528,-0.122214086353779,0.095700025558472,-0.151056542992592));
res += mul(Get(s3,dx,dy), float4x4(0.049584206193686,0.153159081935883,-0.065323524177074,-0.115972064435482,-0.164625197649002,-0.040908027440310,0.012656184844673,0.075319178402424,-0.115069799125195,0.069214530289173,-0.236053645610809,-0.107689678668976,-0.092577621340752,0.054712776094675,0.086212396621704,-0.132050886750221));
return max(float4(0,0,0,0), res);
}
