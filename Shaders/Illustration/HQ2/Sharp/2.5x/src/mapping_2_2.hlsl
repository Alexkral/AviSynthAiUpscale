sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.075640648603439,-0.074434474110603,0.109247550368309,-0.001458191196434,-0.011086423881352,-0.066994465887547,0.104939706623554,0.119534097611904,-0.258823275566101,0.165176928043365,0.165193423628807,0.175225332379341,0.019429728388786,0.057917702943087,0.076519630849361,-0.088112808763981));
res += mul(Get(s0,-dx,0), float4x4(0.009676616638899,0.012840454466641,0.035259161144495,0.104099236428738,-0.034105002880096,-0.082574717700481,-0.135055929422379,-0.071969218552113,0.089219823479652,-0.066822066903114,-0.022240361198783,-0.160421103239059,-0.064011178910732,-0.118270881474018,-0.183772295713425,-0.000328231661115));
res += mul(Get(s0,-dx,dy), float4x4(-0.143185123801231,0.020691262558103,0.095889367163181,-0.027805440127850,-0.054715193808079,-0.081915281713009,-0.021945411339402,0.112174369394779,-0.046395100653172,-0.064488932490349,0.018130581825972,-0.088670611381531,0.115092180669308,0.018243271857500,-0.181703701615334,-0.002245943993330));
res += mul(Get(s0,0,-dy), float4x4(0.091082617640495,-0.033710367977619,0.061213020235300,0.039870273321867,-0.177438452839851,0.123320087790489,-0.000145711906953,-0.073910847306252,-0.118796408176422,-0.095231004059315,-0.047656320035458,0.118238553404808,0.034433454275131,0.045039851218462,0.155084386467934,0.008482254110277));
res += mul(Get(s0,0,0), float4x4(0.024993205443025,-0.100900270044804,-0.074017792940140,0.009309293702245,0.049558948725462,-0.005264951847494,0.004149422049522,0.011441461741924,0.002437455579638,0.114697135984898,-0.004844369366765,-0.014999192208052,-0.117393694818020,0.168816164135933,-0.012491251341999,-0.020751846954226));
res += mul(Get(s0,0,dy), float4x4(-0.070738501846790,0.036479186266661,0.089508995413780,0.102803401648998,-0.196489438414574,-0.170516714453697,0.073415189981461,0.048496805131435,0.022040426731110,-0.064288415014744,0.069796733558178,0.011733309365809,0.059191878885031,0.068427167832851,-0.183831825852394,0.118992447853088));
res += mul(Get(s0,dx,-dy), float4x4(0.049394454807043,0.005128760822117,-0.114281333982944,-0.024314356967807,-0.024052742868662,-0.053039390593767,0.058799572288990,0.094216443598270,-0.037764277309179,0.021201761439443,-0.113520048558712,0.093071363866329,-0.170652300119400,0.080954477190971,-0.160459131002426,-0.085978969931602));
res += mul(Get(s0,dx,0), float4x4(0.091395743191242,-0.019795754924417,0.082289353013039,0.037186805158854,-0.028363460674882,0.104142092168331,0.053252115845680,-0.031691566109657,-0.139365002512932,-0.171340122818947,0.019022375345230,0.231085017323494,-0.100879557430744,-0.042630814015865,-0.013897833414376,0.020050831139088));
res += mul(Get(s0,dx,dy), float4x4(0.218417093157768,-0.051573242992163,0.057539150118828,0.232467517256737,0.077060587704182,-0.050942994654179,0.014762377366424,0.047567684203386,0.112228050827980,-0.066458180546761,-0.069100096821785,-0.102758921682835,0.013052456080914,-0.060081325471401,0.025215655565262,0.090137884020805));
res += mul(Get(s1,-dx,-dy), float4x4(0.038757581263781,0.005616849288344,0.031595505774021,0.035863965749741,0.021561263129115,0.101254567503929,-0.049290902912617,0.017410937696695,0.098825603723526,0.133741647005081,0.003611412597820,-0.075629137456417,-0.081511855125427,0.007335233502090,-0.050997361540794,-0.141655325889587));
res += mul(Get(s1,-dx,0), float4x4(0.006647399626672,-0.083989135921001,0.100373320281506,-0.058753237128258,0.022530630230904,0.066181197762489,-0.140092402696609,-0.119441471993923,-0.130503445863724,-0.160591900348663,0.068745575845242,0.097553968429565,0.014417450875044,-0.004045405890793,0.147331833839417,0.015071172267199));
res += mul(Get(s1,-dx,dy), float4x4(-0.181998714804649,0.105154126882553,0.031378898769617,0.010822380892932,-0.072679758071899,0.082255877554417,-0.008743538521230,-0.129573643207550,-0.207453593611717,0.013860024511814,0.054196637123823,0.011748507618904,0.108604103326797,0.146750569343567,-0.026685556396842,0.056643825024366));
res += mul(Get(s1,0,-dy), float4x4(0.077483892440796,0.073889881372452,-0.007020046003163,-0.029473692178726,0.086198829114437,0.138451218605042,0.025825571268797,0.025752434507012,0.089913651347160,-0.097827874124050,-0.014792498201132,0.078044652938843,0.013614426366985,0.082726694643497,-0.000776248925831,-0.058155879378319));
res += mul(Get(s1,0,0), float4x4(0.118948340415955,0.091476865112782,0.098738372325897,-0.056892294436693,0.083356194198132,0.026223529130220,0.014616000466049,-0.106787145137787,-0.015153366141021,-0.168123438954353,-0.189732566475868,0.031478900462389,-0.186747804284096,0.000808420183603,-0.132336586713791,0.065005250275135));
res += mul(Get(s1,0,dy), float4x4(0.110105358064175,0.118869915604591,0.193808585405350,0.126932397484779,0.067759290337563,0.130523115396500,-0.104983977973461,-0.014768864959478,0.115229211747646,0.049433160573244,0.027748823165894,0.049558181315660,0.111751817166805,0.039468277245760,-0.097268104553223,0.017597366124392));
res += mul(Get(s1,dx,-dy), float4x4(-0.053319197148085,-0.009928165003657,0.002320264000446,-0.017828889191151,-0.072981663048267,-0.010604518465698,-0.053889147937298,0.062549434602261,0.059901181608438,-0.030736096203327,0.052468795329332,0.058229565620422,0.001306198188104,0.118770204484463,-0.131102859973907,-0.068098515272141));
res += mul(Get(s1,dx,0), float4x4(-0.037135861814022,-0.053829118609428,-0.022802367806435,-0.053915552794933,-0.123886018991470,0.065165318548679,-0.064120337367058,0.087278835475445,-0.125963285565376,0.052623368799686,-0.086214564740658,-0.036937706172466,-0.032885022461414,-0.032497923821211,0.056174024939537,0.070210255682468));
res += mul(Get(s1,dx,dy), float4x4(-0.095675989985466,0.049752034246922,0.097698010504246,-0.070548251271248,0.068747095763683,-0.118960268795490,0.090891286730766,0.162696853280067,-0.041929896920919,-0.007175958249718,-0.024805251508951,-0.065981559455395,-0.183305516839027,0.115637719631195,0.059913858771324,0.073722921311855));
res += mul(Get(s2,-dx,-dy), float4x4(0.091851770877838,-0.058248888701200,-0.026378402486444,0.148943066596985,-0.047272283583879,0.116735868155956,-0.054707203060389,-0.018060846254230,0.101649336516857,0.057296462357044,-0.025975294411182,0.079946547746658,-0.006866476498544,-0.023712925612926,0.156323224306107,-0.136208742856979));
res += mul(Get(s2,-dx,0), float4x4(0.118484713137150,-0.048304554075003,0.334219694137573,-0.103656463325024,0.085331000387669,0.111064434051514,0.084542885422707,0.027691874653101,0.040299382060766,0.071791537106037,-0.150698989629745,0.062591820955276,0.116104170680046,-0.008257179521024,0.110612601041794,0.176031082868576));
res += mul(Get(s2,-dx,dy), float4x4(0.094286493957043,0.080026693642139,0.140255779027939,-0.018924800679088,-0.004360358696431,-0.172109097242355,-0.166151106357574,-0.015219176188111,0.087502568960190,0.046096660196781,-0.026878608390689,-0.012611598707736,-0.050601340830326,0.001464768778533,-0.018573561683297,-0.200724259018898));
res += mul(Get(s2,0,-dy), float4x4(-0.104009084403515,0.102823927998543,-0.034809198230505,0.133743956685066,0.013076989911497,-0.013030254282057,0.011748857796192,-0.180048197507858,0.197286069393158,0.061030592769384,-0.060369018465281,-0.088453173637390,-0.024807095527649,0.242281317710876,0.003538428805768,-0.147021844983101));
res += mul(Get(s2,0,0), float4x4(-0.082583636045456,0.060875937342644,0.103166982531548,-0.192683219909668,0.048947192728519,-0.059114012867212,0.024818511679769,-0.042334951460361,0.116501875221729,0.023575000464916,-0.100142836570740,0.083613932132721,-0.021052708849311,-0.113221161067486,0.141289189457893,0.114253781735897));
res += mul(Get(s2,0,dy), float4x4(-0.079574815928936,-0.089936748147011,-0.232055023312569,0.210598275065422,0.010197627358139,-0.017014410346746,-0.036604311317205,-0.067039109766483,-0.105613052845001,-0.018653748556972,0.042555298656225,-0.015276706777513,0.062185261398554,-0.102938875555992,0.167969152331352,0.030062915757298));
res += mul(Get(s2,dx,-dy), float4x4(0.146948888897896,0.081520199775696,-0.112901568412781,0.076223194599152,0.078701958060265,-0.116130918264389,0.034110575914383,0.009693936444819,-0.078124478459358,0.044649101793766,0.003811293980107,-0.092043302953243,0.100615128874779,0.027786171063781,0.100335843861103,-0.032395288348198));
res += mul(Get(s2,dx,0), float4x4(-0.126110076904297,-0.033850111067295,-0.102768108248711,-0.091822512447834,-0.216049119830132,0.130231037735939,-0.076644226908684,0.135004937648773,-0.011671637184918,-0.030829902738333,-0.023424208164215,0.030675346031785,-0.013320975936949,-0.000095986259112,-0.033730693161488,-0.005317329429090));
res += mul(Get(s2,dx,dy), float4x4(-0.049284584820271,-0.029620360583067,-0.013954623602331,0.132010266184807,-0.023778891190886,0.083487711846828,0.002084821695462,-0.060147382318974,-0.061250519007444,-0.035202417522669,-0.051317285746336,0.051613960415125,-0.030035793781281,-0.072149552404881,-0.057003334164619,0.066204160451889));
res += mul(Get(s3,-dx,-dy), float4x4(0.090156793594360,0.032484818249941,0.070742920041084,-0.076005138456821,0.107884302735329,0.024238897487521,-0.027448311448097,-0.008956551551819,0.117362208664417,-0.151804193854332,-0.138388440012932,-0.038253348320723,0.082622058689594,-0.080810159444809,0.071479484438896,-0.071212865412235));
res += mul(Get(s3,-dx,0), float4x4(0.072062112390995,0.069801941514015,-0.078331708908081,0.092894271016121,0.226629376411438,0.016817348077893,0.179324582219124,-0.060761630535126,0.015738705173135,-0.022052761167288,-0.049325190484524,0.026503233239055,-0.060374274849892,-0.054176319390535,-0.082230545580387,-0.167069479823112));
res += mul(Get(s3,-dx,dy), float4x4(0.045021712779999,-0.098727077245712,-0.095093302428722,0.062442705035210,0.071617104113102,0.156268849968910,0.126024186611176,-0.070106670260429,0.005002197343856,0.102303490042686,-0.065667062997818,0.080872498452663,0.070502534508705,0.035532400012016,0.067229799926281,0.015038748271763));
res += mul(Get(s3,0,-dy), float4x4(0.314033150672913,-0.030810685828328,-0.035577777773142,0.004912526346743,-0.018691506236792,0.074018679559231,-0.028445979580283,-0.064798325300217,0.134375944733620,0.056391838937998,0.059259939938784,0.093001298606396,0.145328581333160,0.175165966153145,-0.090464308857918,-0.010605595074594));
res += mul(Get(s3,0,0), float4x4(0.004395117051899,-0.121313974261284,0.080112084746361,0.017237041145563,-0.079722799360752,-0.122001327574253,-0.043304175138474,-0.010904578492045,-0.165941327810287,0.017253519967198,0.138383761048317,-0.202984556555748,-0.059868715703487,0.068675637245178,0.073005639016628,-0.051364954560995));
res += mul(Get(s3,0,dy), float4x4(0.031577393412590,-0.008936163038015,0.006458023097366,-0.050934713333845,-0.047646164894104,-0.060168087482452,-0.013588044792414,0.087605230510235,0.030995514243841,0.166928097605705,0.097651913762093,-0.012642713263631,-0.064736194908619,-0.092102728784084,-0.053895432502031,0.077149346470833));
res += mul(Get(s3,dx,-dy), float4x4(-0.004039585124701,0.015301042236388,0.019651774317026,-0.068336166441441,-0.157874763011932,-0.045068178325891,0.012991479597986,0.173587918281555,-0.096662238240242,-0.062636621296406,0.100037492811680,-0.086461178958416,-0.005665461998433,-0.028846131637692,-0.058259025216103,0.057920563966036));
res += mul(Get(s3,dx,0), float4x4(0.049996595829725,0.058062046766281,0.095398440957069,-0.037149529904127,-0.033688865602016,0.195074573159218,-0.068830162286758,0.061487536877394,-0.059439748525620,0.026260966435075,0.063970483839512,-0.045348040759563,0.059253800660372,-0.034418247640133,-0.025447683408856,0.039304394274950));
res += mul(Get(s3,dx,dy), float4x4(-0.050737019628286,-0.097795546054840,0.023692088201642,0.092939987778664,-0.097538709640503,0.020466947928071,-0.047267016023397,-0.090544052422047,0.024018336087465,-0.081348471343517,0.049897972494364,0.154916122555733,0.000525607552845,0.002744549885392,-0.103318721055984,-0.020486667752266));
return max(float4(0,0,0,0), res);
}
