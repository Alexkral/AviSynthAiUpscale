sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.041323672980070,-0.057792089879513,0.029582483693957,-0.026413742452860,0.036930251866579,0.096164941787720,-0.096937812864780,0.010501386597753,-0.016363475471735,-0.087302461266518,0.163120612502098,0.076984718441963,0.025165820494294,0.057634379714727,0.010731766000390,0.048224020749331));
res += mul(Get(s0,-dx,0), float4x4(-0.078628018498421,0.167849317193031,0.063105300068855,0.103202737867832,0.130787193775177,0.057395450770855,0.032955769449472,-0.014524069614708,-0.070098303258419,0.041191764175892,0.059450820088387,0.004762358032167,0.096130199730396,0.038890924304724,0.056246001273394,-0.049899101257324));
res += mul(Get(s0,-dx,dy), float4x4(0.089037388563156,-0.127748891711235,-0.017335595563054,0.038427185267210,-0.018826263025403,-0.071145594120026,-0.119578085839748,0.050518061965704,-0.144660219550133,0.076257966458797,-0.063030123710632,-0.021034201607108,0.098648518323898,0.049673616886139,-0.020609453320503,0.025171341374516));
res += mul(Get(s0,0,-dy), float4x4(0.011713586747646,0.025994651019573,0.055286455899477,-0.112848214805126,0.025205852463841,-0.110184863209724,0.084557116031647,0.030885867774487,0.023234648630023,0.126438468694687,0.086342006921768,0.006031651981175,-0.023516248911619,-0.036584809422493,0.091640800237656,-0.203323632478714));
res += mul(Get(s0,0,0), float4x4(0.185016393661499,-0.050130434334278,0.058399721980095,0.132323652505875,0.112219132483006,-0.045880854129791,-0.087807685136795,-0.000679288234096,0.005809897556901,0.037319581955671,0.031999468803406,-0.139659032225609,-0.210467547178268,0.098200716078281,-0.006913968827575,-0.009893504902720));
res += mul(Get(s0,0,dy), float4x4(-0.001059551257640,0.007990367710590,0.080331780016422,-0.003823331091553,-0.022991705685854,0.046681154519320,-0.062410034239292,-0.073368944227695,0.059056773781776,0.038029320538044,-0.034829329699278,0.167619675397873,-0.085354924201965,0.084862180054188,0.050563957542181,0.060872003436089));
res += mul(Get(s0,dx,-dy), float4x4(-0.047142412513494,-0.171294033527374,-0.003627661382779,-0.079889453947544,0.044513449072838,-0.098909780383110,0.042924880981445,0.078897379338741,0.075441770255566,-0.086884170770645,-0.021051039919257,0.076791562139988,0.083883002400398,-0.023875515908003,-0.091003052890301,-0.041059434413910));
res += mul(Get(s0,dx,0), float4x4(-0.102564282715321,0.056498382240534,-0.294666916131973,0.085790090262890,-0.131541863083839,-0.020749123767018,0.216447502374649,0.128354117274284,-0.091776750981808,-0.179197639226913,-0.173795506358147,-0.155613601207733,-0.011773773469031,-0.054636776447296,-0.017982956022024,-0.129481896758080));
res += mul(Get(s0,dx,dy), float4x4(0.284782469272614,0.022516487166286,0.071933485567570,-0.172120958566666,-0.023290559649467,-0.197438076138496,-0.081011958420277,0.041217628866434,0.031245840713382,0.092681966722012,0.004606347065419,-0.118487857282162,-0.030518436804414,-0.008477391675115,0.040920134633780,0.113334387540817));
res += mul(Get(s1,-dx,-dy), float4x4(-0.035908669233322,0.067580305039883,-0.006479512900114,-0.085568539798260,0.007351175881922,-0.043650008738041,-0.011777696199715,-0.099947333335876,-0.023619478568435,-0.033702030777931,0.108159177005291,-0.098837949335575,-0.022734601050615,0.061225350946188,-0.049899227917194,0.023938354104757));
res += mul(Get(s1,-dx,0), float4x4(0.024251515045762,0.096090167760849,-0.068147972226143,-0.006919372361153,0.016752379015088,-0.029771942645311,0.193199038505554,0.085025906562805,-0.090327538549900,0.051131755113602,-0.006774571724236,-0.138308778405190,-0.082711547613144,0.084788516163826,-0.044751841574907,-0.023570982739329));
res += mul(Get(s1,-dx,dy), float4x4(0.153184890747070,0.051678679883480,0.000643563806079,0.097978442907333,-0.093010790646076,0.112813375890255,0.058300971984863,0.243309259414673,-0.107658214867115,0.003858342301100,-0.035349924117327,-0.043996453285217,0.063730075955391,0.070459932088852,0.008702649734914,0.119552113115788));
res += mul(Get(s1,0,-dy), float4x4(0.094550900161266,-0.149591520428658,0.147726997733116,0.164184048771858,-0.107011385262012,-0.016617741435766,-0.114770032465458,0.044309552758932,-0.005493901204318,-0.049104925245047,-0.054518438875675,0.028374077752233,-0.025260878726840,-0.091548182070255,0.015019984915853,0.007974873296916));
res += mul(Get(s1,0,0), float4x4(0.081675484776497,0.041636999696493,0.210358589887619,0.018561670556664,0.110800549387932,0.044216386973858,0.044470675289631,0.114681117236614,0.163880422711372,0.051054485142231,-0.125539630651474,0.217329546809196,-0.306038528680801,-0.008677224628627,-0.038918644189835,0.111683771014214));
res += mul(Get(s1,0,dy), float4x4(0.055421404540539,-0.281624823808670,-0.060759313404560,0.036606270819902,-0.037644628435373,-0.011498331092298,-0.056911494582891,0.061451874673367,-0.007856954820454,-0.064998708665371,0.039947610348463,-0.064573220908642,0.169929906725883,0.038041412830353,-0.030414775013924,0.026980051770806));
res += mul(Get(s1,dx,-dy), float4x4(0.135501369833946,-0.150417059659958,0.005994948558509,-0.152236744761467,0.136939451098442,-0.077813960611820,-0.026765985414386,-0.045592255890369,0.031879495829344,0.085757493972778,-0.117529638111591,-0.000207785589737,-0.026116095483303,-0.103248514235020,-0.040854237973690,0.067209176719189));
res += mul(Get(s1,dx,0), float4x4(-0.013664425350726,-0.086919717490673,0.115391768515110,0.058138269931078,0.051854670047760,-0.118752203881741,0.158687114715576,-0.130661904811859,-0.013380432501435,0.115081198513508,-0.069892294704914,0.210911810398102,0.032769154757261,-0.017461203038692,-0.018203677609563,-0.152123048901558));
res += mul(Get(s1,dx,dy), float4x4(0.040921445935965,0.000025046512746,-0.046102315187454,0.080504424870014,0.043705359101295,0.109241813421249,-0.072541795670986,0.015964670106769,-0.051322355866432,0.171749815344810,0.027203764766455,-0.104571893811226,-0.041317254304886,-0.128134503960609,-0.076541170477867,-0.070329584181309));
res += mul(Get(s2,-dx,-dy), float4x4(0.016755836084485,-0.023701854050159,-0.136656880378723,-0.107783883810043,0.271067559719086,0.010367173701525,-0.017887273803353,-0.073553279042244,0.094412244856358,-0.004223660100251,-0.170806899666786,-0.075887404382229,-0.046355575323105,0.039444182068110,0.025574214756489,-0.029282050207257));
res += mul(Get(s2,-dx,0), float4x4(-0.031237870454788,0.016724599525332,-0.114423178136349,-0.142816364765167,-0.077923834323883,0.083255633711815,0.055735290050507,-0.031871262937784,0.068517178297043,0.018573397770524,-0.095817603170872,0.106797233223915,-0.014048178680241,-0.012444541789591,-0.089816242456436,0.076863355934620));
res += mul(Get(s2,-dx,dy), float4x4(-0.008166913874447,0.024856869131327,0.029293149709702,0.097328290343285,-0.073993369936943,-0.007699070032686,0.142044544219971,0.071050606667995,-0.116704314947128,0.024084366858006,0.028296006843448,-0.046263400465250,-0.053180105984211,-0.054196190088987,-0.014189496636391,-0.071160428225994));
res += mul(Get(s2,0,-dy), float4x4(-0.049111329019070,0.063409619033337,0.013213317841291,0.109467349946499,-0.101003885269165,-0.065810710191727,0.003693620907143,0.010722489096224,0.006983978673816,-0.016832178458571,0.108632430434227,0.018564177677035,-0.043722420930862,-0.066218405961990,-0.018168004229665,0.081201747059822));
res += mul(Get(s2,0,0), float4x4(-0.120068609714508,0.094870373606682,0.081526257097721,-0.002707224339247,-0.092503160238266,-0.046130053699017,-0.035939969122410,0.097152620553970,-0.042372107505798,-0.137914508581161,0.101134307682514,-0.071975484490395,-0.015446400269866,-0.127638474106789,-0.036779195070267,0.087721876800060));
res += mul(Get(s2,0,dy), float4x4(-0.062190052121878,-0.012709814123809,0.104154631495476,-0.077165551483631,-0.015441565774381,-0.058778516948223,0.014430771581829,-0.084664538502693,-0.056240305304527,-0.046915940940380,0.183145746588707,-0.113608732819557,-0.084889166057110,-0.073330752551556,-0.028473915532231,0.056520540267229));
res += mul(Get(s2,dx,-dy), float4x4(0.013570075854659,0.089677661657333,-0.062789849936962,0.104289196431637,0.032565690577030,-0.097578465938568,-0.073759637773037,0.141642436385155,-0.066220067441463,-0.092784561216831,-0.008328585885465,-0.090087413787842,0.100357428193092,-0.052487861365080,-0.014591961167753,0.026720596477389));
res += mul(Get(s2,dx,0), float4x4(-0.039259996265173,0.096265792846680,-0.076556056737900,0.177473500370979,0.010715590789914,0.112792611122131,0.013594298623502,-0.027213416993618,-0.113899089396000,0.061261821538210,0.018693335354328,-0.034067723900080,0.041815269738436,-0.006036704871804,0.013689310289919,-0.150114715099335));
res += mul(Get(s2,dx,dy), float4x4(0.119982391595840,-0.009542355313897,-0.130270928144455,0.068358369171619,-0.124638549983501,-0.188877299427986,-0.012895696796477,-0.053615581244230,0.008718884550035,-0.035938341170549,-0.063047088682652,0.238198444247246,-0.256238222122192,0.039127815514803,0.149840995669365,-0.001994060119614));
res += mul(Get(s3,-dx,-dy), float4x4(-0.064474113285542,0.020217621698976,-0.037011805921793,0.059963323175907,0.117199636995792,-0.043934974819422,-0.110464051365852,0.055758509784937,-0.025899684056640,0.014391947537661,0.058602821081877,-0.100788287818432,-0.129172235727310,-0.146811440587044,0.003638648660854,-0.140751972794533));
res += mul(Get(s3,-dx,0), float4x4(0.057680133730173,0.078803710639477,0.007826310582459,-0.154839068651199,-0.213990435004234,-0.016976468265057,0.062981285154819,-0.127255573868752,0.066727809607983,0.003244624240324,-0.079569272696972,0.015798056498170,-0.181011557579041,-0.020849771797657,0.127475485205650,0.197488039731979));
res += mul(Get(s3,-dx,dy), float4x4(0.089717388153076,0.004532126244158,-0.138893693685532,-0.047354273498058,-0.092473268508911,-0.079318739473820,-0.091648675501347,-0.121119856834412,0.041652649641037,0.009306226857007,-0.088485248386860,0.036674737930298,-0.163308173418045,0.106717370450497,0.083637073636055,0.019994348287582));
res += mul(Get(s3,0,-dy), float4x4(-0.128618538379669,0.092774942517281,0.017733938992023,0.108868308365345,0.023948689922690,-0.016267197206616,0.032685238867998,0.039346039295197,-0.003640144364908,-0.186309590935707,-0.026017054915428,-0.074476473033428,0.023767545819283,-0.142728149890900,-0.087482869625092,-0.096424952149391));
res += mul(Get(s3,0,0), float4x4(0.161191597580910,-0.016315497457981,0.026126818731427,0.001483875676058,0.057690009474754,0.018600581213832,0.012170922011137,-0.035526592284441,0.065875187516212,0.121123939752579,-0.048673715442419,0.105037979781628,-0.139557793736458,-0.158503666520119,0.053689930588007,0.058729223906994));
res += mul(Get(s3,0,dy), float4x4(-0.008829935453832,-0.025958755984902,-0.051315493881702,0.115987218916416,-0.151271969079971,0.143181204795837,0.054113958030939,-0.171129927039146,-0.061552293598652,0.051172915846109,0.075631871819496,-0.048986461013556,-0.045851632952690,0.001346947159618,0.015285423956811,-0.009796093218029));
res += mul(Get(s3,dx,-dy), float4x4(-0.136329114437103,0.073822900652885,0.029946321621537,-0.033218875527382,0.148426234722137,-0.038035642355680,0.062221683561802,-0.035447951406240,0.131065964698792,-0.036386154592037,0.090732596814632,-0.177380859851837,-0.012979255057871,-0.128839701414108,-0.026444742456079,0.098024971783161));
res += mul(Get(s3,dx,0), float4x4(-0.046051882207394,0.028742998838425,-0.018412755802274,0.107451014220715,-0.103360764682293,-0.035086266696453,-0.108954057097435,-0.017870469018817,-0.004321995656937,-0.053245935589075,0.021071149036288,-0.000114473878057,-0.033156756311655,-0.033059302717447,0.032844454050064,0.182288944721222));
res += mul(Get(s3,dx,dy), float4x4(-0.059277214109898,0.012795883230865,-0.023913241922855,0.016498943790793,-0.060676876455545,0.022922467440367,0.133387386798859,-0.062487326562405,-0.178142011165619,-0.061383988708258,0.090481668710709,0.074975825846195,-0.023777609691024,-0.068815506994724,-0.006823685951531,0.041822873055935));
return max(float4(0,0,0,0), res);
}
