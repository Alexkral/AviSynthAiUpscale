sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.085350923240185,0.102781414985657,0.033637519925833,-0.239396333694458,-0.058842997997999,0.049491960555315,0.032657828181982,-0.088235206902027,-0.104624830186367,0.015670582652092,-0.019607326015830,0.018609559163451,-0.228580892086029,-0.049504522234201,0.095652267336845,-0.004696449264884));
res += mul(Get(s0,-dx,0), float4x4(-0.107861451804638,-0.175682306289673,0.037020128220320,-0.054560754448175,0.108643487095833,-0.205368295311928,-0.145909279584885,0.041039936244488,0.241407528519630,-0.020845847204328,-0.215936541557312,0.071973890066147,-0.142167434096336,-0.124657258391380,-0.062859490513802,0.166915744543076));
res += mul(Get(s0,-dx,dy), float4x4(-0.112735636532307,-0.017040774226189,-0.237234011292458,0.049736548215151,-0.005719719920307,-0.235935986042023,0.025517975911498,-0.014006910845637,0.155852615833282,0.068427659571171,-0.116678662598133,0.001810042886063,0.032720357179642,-0.037553817033768,0.177465572953224,-0.050006695091724));
res += mul(Get(s0,0,-dy), float4x4(-0.033682927489281,-0.227966114878654,-0.141986876726151,0.003312382847071,-0.062740139663219,0.002739585237578,-0.121875472366810,-0.118023179471493,0.034002967178822,0.034626655280590,0.044099979102612,0.032629366964102,0.038390245288610,0.063633494079113,-0.105947211384773,-0.000279970263364));
res += mul(Get(s0,0,0), float4x4(-0.172380238771439,0.088967204093933,-0.170690953731537,0.011787164956331,0.129716709256172,-0.085463792085648,0.081121541559696,-0.006108703091741,-0.126740545034409,0.071980506181717,-0.018042633309960,0.050020534545183,0.044313389807940,0.080971106886864,0.019544413313270,0.090246044099331));
res += mul(Get(s0,0,dy), float4x4(0.126818791031837,0.080407045781612,0.009693187661469,-0.087042115628719,-0.033664997667074,0.031837567687035,-0.025756828486919,-0.078125737607479,-0.082796536386013,-0.025717649608850,-0.121974326670170,0.097467355430126,-0.012780563905835,-0.099447056651115,-0.149204671382904,0.014693794772029));
res += mul(Get(s0,dx,-dy), float4x4(0.092203825712204,-0.028177162632346,0.156756356358528,0.011566760949790,-0.048916861414909,0.043287809938192,0.112301275134087,-0.092349417507648,-0.018230259418488,-0.040413793176413,-0.082679152488708,0.027158917859197,0.018021902069449,-0.046217247843742,-0.070995979011059,0.137837290763855));
res += mul(Get(s0,dx,0), float4x4(0.048302564769983,0.000303363340208,-0.024166580289602,-0.168630972504616,-0.020733568817377,0.050005108118057,-0.107324078679085,0.058063197880983,0.074068836867809,0.084587246179581,0.002841700799763,0.122186370193958,-0.046713206917048,0.013408537022769,-0.058189157396555,0.101464889943600));
res += mul(Get(s0,dx,dy), float4x4(0.045604187995195,-0.249401211738586,0.075524628162384,-0.082722298800945,-0.081340380012989,-0.116176657378674,0.052519552409649,-0.022024324163795,-0.132352620363235,-0.228518918156624,-0.107544347643852,-0.013472958467901,0.084574289619923,-0.028659043833613,0.039372444152832,0.028605904430151));
res += mul(Get(s1,-dx,-dy), float4x4(-0.133838504552841,0.029610805213451,0.092434599995613,-0.076215952634811,-0.006616727449000,-0.140816807746887,0.073804900050163,0.025982696563005,-0.019424110651016,0.000610007205978,0.026335626840591,-0.000393989612348,-0.081151977181435,0.016496304422617,-0.067815363407135,-0.114329800009727));
res += mul(Get(s1,-dx,0), float4x4(0.042690403759480,0.039175692945719,0.029362970963120,0.055409569293261,-0.019184414297342,-0.003188165836036,-0.063036397099495,0.063072726130486,0.055860485881567,0.057553939521313,-0.038460303097963,0.052093971520662,-0.011235158890486,-0.089926071465015,-0.074501834809780,-0.096904292702675));
res += mul(Get(s1,-dx,dy), float4x4(-0.084435440599918,-0.091412484645844,-0.037155177444220,-0.135671243071556,-0.021189985796809,-0.053864892572165,-0.057645179331303,0.041708454489708,0.013333304785192,-0.036320690065622,0.005140691064298,-0.139420300722122,-0.008445326238871,-0.175069794058800,-0.185503482818604,-0.116163454949856));
res += mul(Get(s1,0,-dy), float4x4(-0.029362961649895,-0.017902161926031,0.079707652330399,0.024197889491916,-0.031094558537006,0.211484074592590,0.012170191854239,-0.128716230392456,-0.098046526312828,0.128323376178741,0.026803897693753,0.025898167863488,-0.037049986422062,0.175418213009834,0.082675822079182,-0.171142056584358));
res += mul(Get(s1,0,0), float4x4(0.057613965123892,-0.209304079413414,0.078404694795609,0.079206608235836,0.001203319989145,0.112939886748791,-0.038884665817022,-0.041208140552044,0.092641204595566,-0.066695824265480,-0.089051164686680,-0.026692466810346,0.178446829319000,-0.062835708260536,0.089693605899811,0.025968277826905));
res += mul(Get(s1,0,dy), float4x4(0.103194288909435,0.112507835030556,0.010654616169631,0.020725319162011,0.002990948269144,-0.245637387037277,-0.018681732937694,0.121041789650917,0.031321231275797,0.015781061723828,0.002814875217155,-0.100352399051189,-0.069447383284569,0.009809938259423,-0.023385016247630,-0.157142430543900));
res += mul(Get(s1,dx,-dy), float4x4(-0.109649688005447,-0.061688520014286,0.055973481386900,0.086134113371372,0.081207834184170,0.040020089596510,0.059679292142391,-0.012150787748396,0.021419154480100,0.033708926290274,0.041349768638611,-0.005018217023462,-0.044911604374647,0.045008398592472,0.069554045796394,0.004414489958435));
res += mul(Get(s1,dx,0), float4x4(0.124373897910118,-0.118418820202351,0.040399216115475,0.200323119759560,0.150265619158745,-0.139794915914536,0.104110710322857,0.049344211816788,0.057245723903179,-0.007363745011389,-0.016704574227333,-0.190448358654976,-0.071548856794834,0.005288348533213,0.012855633161962,0.064207851886749));
res += mul(Get(s1,dx,dy), float4x4(0.064744949340820,-0.025117302313447,-0.097070135176182,0.090987049043179,0.045923795551062,-0.026255542412400,-0.017933668568730,-0.107026144862175,0.033415582031012,0.069661214947701,0.149617567658424,-0.213401183485985,-0.112082503736019,-0.106765277683735,0.006282559596002,-0.007044334430248));
res += mul(Get(s2,-dx,-dy), float4x4(-0.017513262107968,-0.051974885165691,0.012354584410787,0.010590321384370,-0.033902917057276,-0.007675064727664,-0.028297631070018,0.027168365195394,-0.049200486391783,-0.196003437042236,0.052404060959816,-0.003113267477602,-0.006602833513170,0.068655885756016,-0.013480823487043,0.103890687227249));
res += mul(Get(s2,-dx,0), float4x4(-0.023520031943917,-0.014936106279492,0.047168303281069,-0.036027472466230,-0.010377909056842,-0.146653324365616,-0.047544613480568,-0.027923785150051,-0.032161545008421,0.110822729766369,-0.201700806617737,-0.091564707458019,0.009716441854835,-0.093066416680813,-0.062494281679392,0.115422189235687));
res += mul(Get(s2,-dx,dy), float4x4(0.154276475310326,0.144609376788139,0.011800474487245,-0.146336331963539,0.030133236199617,0.014321307651699,0.014915211126208,-0.119903832674026,0.002685441868380,0.245906814932823,-0.001217001117766,0.052171133458614,-0.153241664171219,0.029187291860580,-0.122138328850269,0.005142728332430));
res += mul(Get(s2,0,-dy), float4x4(-0.011783164925873,-0.084853753447533,0.276071131229401,-0.007460594642907,-0.026946004480124,-0.075772993266582,-0.000962840858847,0.190456256270409,-0.304333388805389,0.067420221865177,-0.064022928476334,0.045292686671019,-0.004829093813896,-0.058868251740932,0.015991266816854,-0.129650220274925));
res += mul(Get(s2,0,0), float4x4(-0.088360853493214,0.076930053532124,-0.113640770316124,0.092383384704590,0.028464376926422,-0.020807171240449,0.029809324070811,-0.233973473310471,-0.060206491500139,-0.050295609980822,0.151747867465019,0.046321544796228,0.158975020051003,-0.031303387135267,-0.135404959321022,-0.036889471113682));
res += mul(Get(s2,0,dy), float4x4(0.173825502395630,0.029749048873782,-0.181394681334496,0.168304532766342,0.023164719343185,0.016395621001720,0.127927154302597,-0.052876699715853,0.108001805841923,0.017227996140718,-0.044304322451353,-0.061652120202780,0.015593920834363,-0.057760216295719,-0.103271193802357,-0.076848730444908));
res += mul(Get(s2,dx,-dy), float4x4(0.139336198568344,-0.022815981879830,-0.111979529261589,-0.042961712926626,-0.124237902462482,-0.099485203623772,0.084954954683781,-0.157828629016876,-0.107047326862812,-0.141569480299950,-0.101380109786987,0.064710751175880,0.009425371885300,-0.100717306137085,0.114197805523872,-0.057549919933081));
res += mul(Get(s2,dx,0), float4x4(-0.003769854083657,-0.103161990642548,-0.106162004172802,-0.159609213471413,-0.102343976497650,-0.045395221561193,-0.156765803694725,-0.084997795522213,0.078757070004940,0.140479683876038,-0.010889007709920,0.028324225917459,-0.066848710179329,-0.087423354387283,-0.039207197725773,0.054416541010141));
res += mul(Get(s2,dx,dy), float4x4(-0.132297873497009,-0.027351319789886,-0.040190622210503,0.016213586553931,-0.073929108679295,0.010360174812376,-0.248088732361794,0.007324474398047,0.027207668870687,0.049503974616528,0.007678239606321,0.214871138334274,0.002273154212162,-0.020474642515182,-0.010644817724824,-0.054653927683830));
res += mul(Get(s3,-dx,-dy), float4x4(0.023430190980434,-0.167890608310699,0.086285926401615,-0.083473019301891,-0.163640260696411,0.015059258788824,-0.038775973021984,-0.013159251771867,0.031240193173289,0.014555727131665,0.016133030876517,0.103080183267593,-0.005344972480088,-0.006257189903408,0.069245085120201,0.005843468010426));
res += mul(Get(s3,-dx,0), float4x4(0.040081415325403,0.049157284200191,-0.021213492378592,-0.039757981896400,-0.058285795152187,0.114833705127239,-0.054929487407207,-0.114810697734356,0.106398314237595,0.080155007541180,0.095108650624752,-0.021798001602292,0.088719882071018,0.059977680444717,0.138905540108681,-0.040392622351646));
res += mul(Get(s3,-dx,dy), float4x4(-0.036551050841808,-0.005712638143450,0.110428355634212,-0.016389248892665,-0.027978098019958,-0.022577665746212,-0.052268113940954,-0.135748341679573,0.098630793392658,-0.028706109151244,-0.040697969496250,-0.016001410782337,0.058143336325884,0.010697931051254,-0.157586053013802,-0.036045033484697));
res += mul(Get(s3,0,-dy), float4x4(-0.018162228167057,0.067599937319756,-0.039509639143944,0.044305760413408,0.041720043867826,0.096094056963921,0.072880394756794,0.028833216056228,-0.059158429503441,-0.053355518728495,-0.042999885976315,0.067589022219181,0.034458670765162,0.176828637719154,0.100055523216724,-0.133494019508362));
res += mul(Get(s3,0,0), float4x4(0.200976610183716,0.021445460617542,0.109698988497257,-0.094194270670414,-0.165175884962082,0.014163005165756,-0.057273328304291,-0.028063584119081,0.031305503100157,-0.030329143628478,0.196361064910889,0.054968960583210,0.121257394552231,0.030133871361613,0.142634153366089,0.076493628323078));
res += mul(Get(s3,0,dy), float4x4(-0.215757429599762,0.054574441164732,0.068228013813496,0.029963143169880,0.043858770281076,0.082295842468739,0.093248814344406,0.044174227863550,-0.087333843111992,-0.107356466352940,0.092857226729393,-0.109907671809196,0.089894525706768,0.177688822150230,0.004119278397411,0.043161738663912));
res += mul(Get(s3,dx,-dy), float4x4(0.223121151328087,-0.142253652215004,-0.024544447660446,0.012441332451999,-0.118938185274601,0.009401706047356,-0.049099028110504,-0.108804084360600,-0.129621490836143,-0.048629511147738,-0.043569978326559,-0.151035800576210,0.023540550842881,-0.070932514965534,0.171302318572998,-0.009020215831697));
res += mul(Get(s3,dx,0), float4x4(0.036997694522142,-0.095397718250751,-0.068900920450687,0.131094813346863,0.007064395584166,-0.066130295395851,0.097508206963539,0.167831808328629,0.090850427746773,-0.017396958544850,0.062849752604961,-0.107791073620319,-0.067754179239273,0.051659096032381,0.015237707644701,0.099705368280411));
res += mul(Get(s3,dx,dy), float4x4(0.107276454567909,-0.038913611322641,-0.090321280062199,-0.020077226683497,0.064251102507114,-0.146678715944290,-0.050444401800632,-0.007305256556720,0.000477771478472,0.004526150412858,-0.036205753684044,-0.138755828142166,-0.064098306000233,-0.025604661554098,-0.121396780014038,-0.086405403912067));
return max(float4(0,0,0,0), res);
}
