sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.006650552153587,0.009102293290198,-0.013019114732742,0.074464939534664,0.007574689108878,0.054341234266758,0.141741052269936,0.046595014631748,0.098234817385674,-0.042935304343700,-0.081440217792988,-0.067332901060581,0.146089553833008,-0.055765036493540,0.051910061389208,-0.050563491880894));
res += mul(Get(s0,-dx,0), float4x4(-0.059870488941669,-0.065721169114113,0.056743279099464,-0.095284402370453,0.040041975677013,-0.023798879235983,-0.058150310069323,-0.086789928376675,-0.004494642373174,-0.084565550088882,0.086408525705338,0.049960251897573,-0.188043355941772,0.059659849852324,0.012980893254280,-0.243445545434952));
res += mul(Get(s0,-dx,dy), float4x4(0.024267757311463,-0.120298102498055,0.037535686045885,0.231347516179085,-0.001002908335067,0.007220144383609,-0.101980119943619,0.063037961721420,0.135020971298218,-0.075078472495079,-0.086478456854820,-0.045940965414047,0.093811631202698,-0.032357949763536,-0.063019782304764,0.018355268985033));
res += mul(Get(s0,0,-dy), float4x4(-0.061549827456474,-0.230256140232086,0.029224853962660,-0.046183314174414,-0.122511737048626,-0.003093643812463,-0.057505019009113,-0.009408015757799,-0.047259982675314,-0.158650979399681,0.125467181205750,-0.002996952272952,0.121997267007828,0.026485409587622,-0.202001482248306,-0.159620329737663));
res += mul(Get(s0,0,0), float4x4(-0.045505151152611,-0.076417259871960,0.080478437244892,-0.009109218604863,0.004435007926077,0.009344375692308,-0.058523673564196,-0.072392299771309,0.038831993937492,0.088128007948399,-0.038694415241480,-0.182412624359131,0.009547457098961,0.041063226759434,-0.084376119077206,0.051177997142076));
res += mul(Get(s0,0,dy), float4x4(0.028223179280758,-0.007916778326035,0.115769498050213,-0.039875701069832,0.059536214917898,0.066641092300415,-0.100413106381893,0.221578419208527,0.102628670632839,-0.015426701866090,-0.066662959754467,-0.109122201800346,0.060912363231182,0.057497233152390,0.061500515788794,0.089282959699631));
res += mul(Get(s0,dx,-dy), float4x4(0.180959254503250,-0.034051321446896,-0.019937720149755,-0.092420846223831,-0.166083231568336,-0.041172780096531,-0.116838060319424,0.061313524842262,0.025364646688104,-0.027489200234413,0.106494784355164,0.030729696154594,0.067360900342464,-0.065588198602200,0.081855900585651,-0.206601306796074));
res += mul(Get(s0,dx,0), float4x4(0.048102144151926,-0.150763243436813,0.051237661391497,0.189457401633263,0.021129619330168,0.127549022436142,0.151387020945549,0.137074127793312,-0.005451284814626,-0.007593675050884,-0.054920565336943,-0.056173950433731,0.003709583077580,-0.081506267189980,0.017968216910958,0.006537151057273));
res += mul(Get(s0,dx,dy), float4x4(0.159221783280373,0.042973190546036,-0.030285986140370,-0.007163120433688,0.015181129798293,-0.111296929419041,0.009674018248916,0.107464283704758,0.034181449562311,-0.083903826773167,-0.002076315460727,-0.038523532450199,0.129979327321053,0.005338281393051,0.099160447716713,0.075319185853004));
res += mul(Get(s1,-dx,-dy), float4x4(0.091311633586884,-0.084609396755695,0.031023055315018,0.043531451374292,0.116667434573174,-0.048792716115713,0.002419505268335,-0.123477540910244,-0.097793400287628,-0.002434634603560,0.039512149989605,0.129175737500191,0.049956388771534,-0.026011817157269,-0.037420284003019,-0.030371390283108));
res += mul(Get(s1,-dx,0), float4x4(0.002810967853293,0.100885123014450,0.128159895539284,-0.047029588371515,0.084338985383511,-0.041002307087183,-0.112041905522346,0.015797954052687,0.053464837372303,-0.154481917619705,-0.088723123073578,-0.039456937462091,-0.097189821302891,0.045415155589581,0.074590772390366,0.073691844940186));
res += mul(Get(s1,-dx,dy), float4x4(-0.066469319164753,-0.097766935825348,0.128357544541359,-0.100640699267387,0.057478167116642,0.039157062768936,-0.043966073542833,-0.035795133560896,0.195063754916191,-0.017019687220454,0.018663108348846,-0.164316385984421,-0.085098400712013,-0.042606513947248,-0.045696280896664,0.070621803402901));
res += mul(Get(s1,0,-dy), float4x4(-0.027738124132156,0.095613785088062,-0.039854180067778,0.006435925606638,0.169408991932869,-0.078991554677486,-0.089040741324425,-0.044916171580553,-0.008195738308132,0.067792840301991,0.217819809913635,-0.034227490425110,0.039979662746191,-0.039640609174967,0.154603838920593,-0.013621436432004));
res += mul(Get(s1,0,0), float4x4(0.064001455903053,0.141558885574341,0.005476479884237,0.056588422507048,-0.037055272608995,-0.076455302536488,0.005726005882025,0.020583201199770,-0.028410030528903,0.060368333011866,-0.038444321602583,0.011463650502264,-0.020752552896738,0.131507962942123,0.104623228311539,-0.040003020316362));
res += mul(Get(s1,0,dy), float4x4(-0.031885031610727,-0.115618653595448,0.050807096064091,0.038470353931189,0.018343970179558,0.230046555399895,-0.018253579735756,0.007037925533950,0.147096961736679,0.143106311559677,0.018008226528764,-0.175652280449867,-0.160658136010170,-0.012560919858515,-0.058638911694288,0.033004194498062));
res += mul(Get(s1,dx,-dy), float4x4(0.136337965726852,0.104013912379742,0.112683527171612,0.071450531482697,0.182774662971497,0.116083241999149,0.076338380575180,-0.101830154657364,-0.082801863551140,0.107988536357880,0.101943969726563,0.114145606756210,-0.135406345129013,-0.141014203429222,0.163012251257896,0.162979349493980));
res += mul(Get(s1,dx,0), float4x4(-0.032711151987314,0.044402137398720,0.003718283027411,-0.085945501923561,0.018692366778851,0.079993993043900,0.007580985780805,-0.047871410846710,-0.030454184859991,0.039967942982912,-0.090562500059605,0.123419754207134,-0.150006219744682,-0.194360285997391,-0.025467747822404,-0.126924186944962));
res += mul(Get(s1,dx,dy), float4x4(-0.049979548901320,0.010118045844138,-0.053483530879021,-0.085035376250744,0.019596718251705,0.047009412199259,-0.097823917865753,0.192531183362007,-0.007677848450840,-0.049237031489611,0.110364802181721,-0.001352849532850,-0.016729941591620,0.020813716575503,0.073271214962006,0.162885233759880));
res += mul(Get(s2,-dx,-dy), float4x4(0.072760097682476,-0.043608527630568,0.010000272653997,-0.164483919739723,0.148903280496597,0.001931042876095,-0.118799738585949,-0.107312791049480,-0.157474160194397,0.006485813762993,-0.107116408646107,0.013664204627275,-0.142131805419922,0.082494035363197,0.199639707803726,0.020980566740036));
res += mul(Get(s2,-dx,0), float4x4(0.052404295653105,-0.037027116864920,-0.006656831596047,-0.065017722547054,0.020310081541538,-0.001732886186801,0.001765392953530,-0.015126613900065,-0.127021625638008,-0.136193364858627,-0.101945146918297,0.000703892437741,0.082362107932568,0.034377597272396,0.117031916975975,0.011586844921112));
res += mul(Get(s2,-dx,dy), float4x4(-0.099957264959812,-0.016604701057076,0.184086322784424,0.067735619843006,0.096795089542866,0.089568614959717,-0.033459108322859,0.155585899949074,0.028181893751025,-0.121256202459335,0.009947611950338,0.052653655409813,-0.017753107473254,-0.120485708117485,0.045267004519701,0.009231931529939));
res += mul(Get(s2,0,-dy), float4x4(-0.134694576263428,0.002206529024988,-0.141149833798409,0.092708021402359,-0.227554380893707,0.124978132545948,0.092033036053181,-0.005495313089341,-0.036169376224279,-0.033202365040779,-0.176130339503288,0.007623433601111,-0.086552061140537,0.002194003900513,0.067540518939495,0.014305551536381));
res += mul(Get(s2,0,0), float4x4(0.053231827914715,-0.091447308659554,-0.136546388268471,-0.063602901995182,-0.097942039370537,0.020748792216182,-0.051571037620306,-0.023660523816943,-0.102334678173065,0.041721403598785,0.077850051224232,-0.026167681440711,-0.002542446134612,0.055589478462934,0.115691430866718,0.143248334527016));
res += mul(Get(s2,0,dy), float4x4(0.000161694319104,-0.003785670269281,0.083796881139278,0.020712329074740,-0.031714580953121,-0.091298744082451,0.088223889470100,0.077908910810947,0.065170116722584,-0.060945972800255,0.135490044951439,-0.098572954535484,0.065599180757999,-0.063762426376343,0.008014845661819,0.136329963803291));
res += mul(Get(s2,dx,-dy), float4x4(0.008905517868698,-0.196437314152718,-0.196007445454597,-0.081051141023636,-0.082923427224159,0.026316242292523,-0.079630538821220,0.029846915975213,-0.000428036088124,-0.142837285995483,0.056637536734343,0.037101317197084,0.081605874001980,-0.064631290733814,-0.007288909051567,-0.015231957659125));
res += mul(Get(s2,dx,0), float4x4(-0.046987380832434,-0.084896720945835,0.073675379157066,-0.133893385529518,0.038865383714437,0.088158831000328,0.100933738052845,-0.116062417626381,0.041374858468771,0.113814018666744,-0.104127466678619,0.056347746402025,-0.011690708808601,0.023313188925385,-0.025874283164740,0.077653139829636));
res += mul(Get(s2,dx,dy), float4x4(-0.021544512361288,-0.036980997771025,0.129639983177185,0.115509018301964,0.223234355449677,0.080618955194950,0.038968671113253,0.057927511632442,-0.027793064713478,-0.041916482150555,0.019197335466743,0.045860491693020,-0.145998135209084,-0.095453575253487,0.010516488924623,-0.030336664989591));
res += mul(Get(s3,-dx,-dy), float4x4(0.071702808141708,-0.082396499812603,-0.013076814822853,-0.059188980609179,-0.045701511204243,-0.046277359127998,-0.038174360990524,0.009812270291150,0.042821977287531,-0.049131460487843,0.099585801362991,-0.019471039995551,-0.064950563013554,0.006091930437833,0.068984441459179,0.051010087132454));
res += mul(Get(s3,-dx,0), float4x4(-0.057660151273012,0.097593016922474,-0.063021175563335,0.021618548780680,0.083184070885181,0.089489303529263,0.044096108525991,-0.003167675808072,-0.041884209960699,0.025429496541619,-0.049647111445665,-0.128974646329880,-0.169183105230331,0.059062868356705,0.061771120876074,-0.071023970842361));
res += mul(Get(s3,-dx,dy), float4x4(0.118583820760250,-0.058860611170530,-0.074004620313644,0.021654725074768,-0.042116560041904,-0.183524087071419,0.100161515176296,0.031888667494059,-0.058197937905788,0.062599152326584,-0.040911853313446,0.220347627997398,-0.141634091734886,-0.056535843759775,0.046390455216169,0.036557462066412));
res += mul(Get(s3,0,-dy), float4x4(0.049385219812393,0.014389043673873,0.063967458903790,-0.026493167504668,-0.014185373671353,0.033121313899755,-0.037815608084202,0.061022110283375,0.195963442325592,-0.130427971482277,0.070948794484138,-0.154347807168961,-0.016172716394067,-0.093728549778461,0.087735027074814,-0.075734049081802));
res += mul(Get(s3,0,0), float4x4(0.075132817029953,-0.056935209780931,-0.054989289492369,-0.125307232141495,0.122042089700699,-0.048687621951103,0.055659916251898,-0.040828511118889,0.271098047494888,-0.250288456678391,0.000383147154935,-0.048206280916929,-0.054227340966463,-0.022744888439775,-0.016168136149645,0.025509960949421));
res += mul(Get(s3,0,dy), float4x4(-0.097032777965069,-0.154442265629768,-0.088662348687649,0.102310650050640,-0.032165531069040,0.083111956715584,0.252050787210464,0.045134574174881,0.034617859870195,-0.039403196424246,-0.056625705212355,0.205838635563850,0.114075414836407,-0.158820748329163,0.033473856747150,-0.045814897865057));
res += mul(Get(s3,dx,-dy), float4x4(-0.078432582318783,-0.064431786537170,-0.132764279842377,-0.028684616088867,-0.023737525567412,0.004966254346073,-0.035773515701294,0.050779767334461,-0.134647101163864,-0.004290326964110,-0.195940211415291,-0.220434755086899,-0.180786117911339,0.042098432779312,-0.006932367570698,0.042680516839027));
res += mul(Get(s3,dx,0), float4x4(-0.018836058676243,-0.063025511801243,-0.149373054504395,-0.058043666183949,0.049862548708916,0.142514422535896,0.035122446715832,0.043272886425257,-0.057433031499386,0.115869581699371,-0.127740830183029,-0.013273111544549,-0.082083232700825,-0.093737028539181,0.040095601230860,-0.065069042146206));
res += mul(Get(s3,dx,dy), float4x4(-0.143465101718903,0.000261682289420,0.052937846630812,0.049556151032448,0.006830754689872,-0.038454812020063,-0.026909982785583,-0.124472826719284,0.014825277030468,-0.044120341539383,-0.026624446734786,0.091218113899231,0.034838050603867,-0.139103785157204,-0.019671859219670,0.037202797830105));
return max(float4(0,0,0,0), res);
}
