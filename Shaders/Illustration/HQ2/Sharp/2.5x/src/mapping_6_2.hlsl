sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.130863532423973,0.046042770147324,0.111778177320957,0.108804069459438,0.146074801683426,-0.047496445477009,-0.122779630124569,0.028316415846348,-0.150914013385773,0.139058798551559,0.106997840106487,-0.029079239815474,0.094052299857140,0.068475283682346,0.214762791991234,0.027666227892041));
res += mul(Get(s0,-dx,0), float4x4(-0.060450617223978,-0.002439967822284,-0.037570789456367,0.010810027830303,-0.069210752844810,0.021385103464127,-0.137688428163528,-0.034700788557529,0.017288396134973,-0.018156409263611,-0.035629700869322,0.073579452931881,0.092779457569122,0.010284844785929,-0.106173917651176,-0.173857480287552));
res += mul(Get(s0,-dx,dy), float4x4(-0.116526126861572,0.018613437190652,0.050700571388006,-0.063986063003540,-0.124700546264648,-0.078531041741371,-0.016885567456484,-0.145191460847855,0.141474753618240,0.244563937187195,0.000255853839917,0.040199007838964,0.006015635095537,-0.049452733248472,-0.221145704388618,-0.068359978497028));
res += mul(Get(s0,0,-dy), float4x4(-0.053717792034149,-0.050987727940083,-0.039297401905060,-0.041007500141859,-0.110380895435810,0.121015109121799,-0.014129753224552,-0.062501639127731,-0.104887478053570,-0.048881579190493,-0.009262945502996,0.040742035955191,0.008917707018554,-0.027873080223799,-0.033698439598083,0.109888248145580));
res += mul(Get(s0,0,0), float4x4(-0.139244943857193,-0.158972918987274,0.113917134702206,0.048682276159525,0.023895926773548,0.008205037564039,0.006796850357205,-0.055560752749443,0.083901762962341,-0.092893555760384,-0.007977829314768,-0.013741197064519,-0.051045984029770,-0.075879164040089,-0.092311657965183,0.139213278889656));
res += mul(Get(s0,0,dy), float4x4(0.102527908980846,0.026835113763809,0.004384705796838,0.165874481201172,-0.004074222408235,-0.073239639401436,0.094976104795933,-0.095259957015514,0.118029013276100,-0.130709901452065,-0.113753996789455,0.041299462318420,0.011895890347660,0.025391425937414,0.135432749986649,0.128643766045570));
res += mul(Get(s0,dx,-dy), float4x4(-0.000715329661034,-0.036971591413021,-0.076219566166401,0.055356826633215,0.014895001426339,0.026706311851740,0.066493384540081,-0.039468012750149,-0.076295524835587,-0.093829356133938,0.081602558493614,-0.060613837093115,-0.157112360000610,-0.013890167698264,0.035344339907169,-0.096656769514084));
res += mul(Get(s0,dx,0), float4x4(0.032618839293718,-0.109482362866402,0.089201331138611,-0.027890624478459,0.007524194661528,0.000236403051531,0.222248762845993,0.005074646789581,-0.003873192472383,0.033044122159481,-0.035444416105747,-0.009041711688042,0.040825296193361,0.070812374353409,0.008537873625755,-0.067692957818508));
res += mul(Get(s0,dx,dy), float4x4(0.034353036433458,0.178049266338348,0.114684842526913,-0.004474315792322,-0.039831437170506,0.097237855195999,0.072350189089775,-0.088530346751213,0.021521056070924,-0.049313560128212,-0.102156616747379,-0.198770567774773,0.194324851036072,-0.254369229078293,-0.057870026677847,-0.012807643041015));
res += mul(Get(s1,-dx,-dy), float4x4(0.077346436679363,0.156400397419930,0.046880178153515,0.014970742166042,0.081808649003506,-0.079523339867592,0.088546015322208,0.077764131128788,0.050011627376080,-0.083799771964550,-0.026288138702512,-0.104180693626404,-0.053266476839781,0.003580221906304,-0.057108528912067,-0.027488507330418));
res += mul(Get(s1,-dx,0), float4x4(-0.148919776082039,-0.047738235443830,-0.196296364068985,-0.008886229246855,-0.069059900939465,-0.049307748675346,-0.025371082127094,0.117270164191723,-0.087729424238205,0.142416313290596,-0.141672909259796,-0.065611675381660,0.113913543522358,0.160334110260010,0.003659340785816,-0.159578815102577));
res += mul(Get(s1,-dx,dy), float4x4(0.105110004544258,0.100779309868813,-0.115316517651081,0.061715375632048,-0.098945289850235,0.001483047963120,0.200325906276703,0.046644639223814,0.022086650133133,0.001306501915678,0.016395399346948,-0.033952549099922,0.046958532184362,-0.002929949201643,-0.105108551681042,0.027612669393420));
res += mul(Get(s1,0,-dy), float4x4(-0.157426685094833,-0.117451027035713,0.115133807063103,0.015973471105099,-0.060012679547071,-0.002268830779940,-0.007750006392598,-0.140784114599228,0.015961967408657,0.112012542784214,-0.198795065283775,0.022273262962699,0.170550450682640,0.009345620870590,0.062788158655167,-0.083047598600388));
res += mul(Get(s1,0,0), float4x4(0.100509159266949,0.091319940984249,-0.127912178635597,0.088129714131355,0.064811438322067,-0.020607559010386,0.073881536722183,0.156311944127083,-0.045441221445799,-0.078465372323990,0.024750115349889,-0.095527470111847,-0.037859171628952,0.083091624081135,0.083234086632729,0.058112975209951));
res += mul(Get(s1,0,dy), float4x4(-0.000923662970308,-0.076997630298138,-0.173290908336639,0.023439655080438,0.078130304813385,-0.122043788433075,-0.014740874059498,-0.054061159491539,-0.034002665430307,0.123703263700008,0.074848204851151,0.079941935837269,-0.022117223590612,0.060243818908930,-0.002830270910636,-0.019899027422071));
res += mul(Get(s1,dx,-dy), float4x4(-0.133843019604683,0.226278752088547,0.059922590851784,0.020468862727284,0.004879636690021,-0.102078765630722,0.019848810508847,0.060742005705833,0.051201552152634,0.012832102365792,-0.045231662690639,-0.174809962511063,-0.023869661614299,-0.004851510748267,-0.042621254920959,0.072706781327724));
res += mul(Get(s1,dx,0), float4x4(-0.101423166692257,0.093513369560242,0.064668044447899,-0.057603552937508,0.128195136785507,0.026742344722152,-0.127595067024231,-0.246259048581123,0.072112716734409,0.052456930279732,0.035276003181934,-0.001690006116405,-0.020880827680230,0.029036609455943,0.170428380370140,0.064079828560352));
res += mul(Get(s1,dx,dy), float4x4(-0.001487556728534,0.080462828278542,0.011887036263943,0.021922493353486,-0.011823512613773,0.025053229182959,0.025413777679205,0.215291365981102,-0.109146036207676,-0.114185251295567,0.023618767037988,0.008945983834565,0.093993678689003,0.065134473145008,-0.152318596839905,0.023735834285617));
res += mul(Get(s2,-dx,-dy), float4x4(0.065076507627964,0.011734857223928,0.174514487385750,0.010436168871820,-0.037011858075857,0.046960078179836,-0.140806764364243,0.043331183493137,-0.053878698498011,-0.020754219964147,-0.026145715266466,-0.085915125906467,-0.173586502671242,0.034254714846611,0.049726769328117,-0.131527289748192));
res += mul(Get(s2,-dx,0), float4x4(0.342232942581177,-0.046388044953346,0.223424583673477,-0.023775827139616,-0.156856834888458,0.086816184222698,-0.088997349143028,0.125427305698395,-0.105698280036449,-0.016628423705697,0.183729067444801,0.008713406510651,0.020603040233254,-0.003657323075458,-0.122042827308178,-0.076644033193588));
res += mul(Get(s2,-dx,dy), float4x4(0.085193149745464,0.121642477810383,0.245285615324974,0.079826422035694,0.002605752553791,-0.133506268262863,0.029327617958188,0.096149213612080,-0.038419775664806,-0.132723063230515,0.076151780784130,0.095434963703156,0.005952567793429,-0.048175275325775,0.142063274979591,-0.096617616713047));
res += mul(Get(s2,0,-dy), float4x4(-0.196049734950066,0.009944063611329,0.100857809185982,-0.083346515893936,-0.083585418760777,0.152505442500114,0.003788534551859,-0.117610298097134,0.003170993644744,-0.045735828578472,-0.072320118546486,-0.014123486354947,-0.000149116749526,0.025897217914462,0.095593668520451,-0.213459968566895));
res += mul(Get(s2,0,0), float4x4(-0.077290251851082,0.040509488433599,-0.168361946940422,0.002869863295928,0.026648350059986,-0.011499629355967,0.039452888071537,0.010134335607290,-0.094542719423771,-0.011007650755346,0.003645028220490,0.100233487784863,0.281786680221558,-0.073342628777027,0.038962706923485,-0.016316391527653));
res += mul(Get(s2,0,dy), float4x4(-0.001340128481388,0.138088569045067,0.117187403142452,0.008283120580018,-0.222460299730301,-0.198171898722649,0.056255728006363,0.030999418348074,-0.114017367362976,-0.021608866751194,0.049519557505846,0.041963420808315,0.024380754679441,-0.028508365154266,0.128323748707771,0.028081951662898));
res += mul(Get(s2,dx,-dy), float4x4(-0.069410994648933,-0.138312935829163,-0.006452059373260,-0.047632239758968,0.011016746982932,-0.148912131786346,-0.085641756653786,-0.076401770114899,-0.051494009792805,-0.010587262921035,-0.094937808811665,-0.062432948499918,0.063247717916965,-0.041227631270885,0.051188930869102,0.016221815720201));
res += mul(Get(s2,dx,0), float4x4(-0.043076597154140,0.073082014918327,-0.009712885133922,-0.016606828197837,-0.018789967522025,0.119518689811230,0.007419566158205,-0.013416914269328,-0.151679188013077,0.031342737376690,-0.160419315099716,0.128445982933044,-0.014839176088572,0.046400655061007,-0.034280307590961,0.030749987810850));
res += mul(Get(s2,dx,dy), float4x4(-0.008139773271978,0.028115006163716,-0.052821610122919,-0.042035859078169,0.027283465489745,0.020240439102054,0.051644798368216,0.058906760066748,-0.145235747098923,0.048427268862724,0.074522614479065,0.001773337717168,-0.148799955844879,0.043905436992645,-0.009706510230899,0.046892363578081));
res += mul(Get(s3,-dx,-dy), float4x4(0.108381696045399,0.013205503113568,-0.036744493991137,-0.067725919187069,-0.083794735372066,0.025022760033607,0.104102961719036,-0.222813755273819,0.015785414725542,-0.001263382146135,0.017433153465390,-0.078715004026890,-0.016126427799463,0.150776088237762,-0.071058958768845,0.053544875234365));
res += mul(Get(s3,-dx,0), float4x4(0.096203573048115,-0.004197639413178,0.030005173757672,-0.096541568636894,-0.028616163879633,-0.002547343261540,0.025209745392203,-0.036047141999006,-0.040554665029049,-0.048145860433578,-0.180661514401436,0.046840440481901,-0.094343349337578,0.077713496983051,0.035523328930140,-0.090056493878365));
res += mul(Get(s3,-dx,dy), float4x4(0.034476242959499,-0.105838365852833,-0.087533168494701,0.028619864955544,-0.041379392147064,0.013167398050427,-0.181023061275482,0.014966221526265,-0.052556958049536,0.005337858572602,0.029118612408638,-0.052722848951817,-0.040360547602177,-0.048365380614996,0.157928466796875,-0.037326514720917));
res += mul(Get(s3,0,-dy), float4x4(-0.184403330087662,-0.084783054888248,-0.084705181419849,-0.056836854666471,0.092411056160927,0.092900209128857,0.076551362872124,0.092769496142864,0.103998593986034,-0.148157596588135,-0.225501611828804,0.007953728549182,-0.052729845046997,0.236028507351875,-0.099543213844299,-0.039015460759401));
res += mul(Get(s3,0,0), float4x4(0.053771764039993,-0.041753880679607,0.117641940712929,0.011465377174318,0.194415807723999,0.010975956916809,0.006168696098030,-0.032955005764961,0.057734008878469,-0.084753200411797,0.010392704047263,0.114765301346779,-0.022189093753695,0.028198163956404,-0.048799797892570,-0.082465909421444));
res += mul(Get(s3,0,dy), float4x4(0.023658106103539,0.087781995534897,0.055280677974224,-0.049656320363283,-0.109753213822842,0.083669751882553,0.088234081864357,-0.004293153993785,-0.064010106027126,-0.063184529542923,-0.013659813441336,-0.043390464037657,-0.007198052015156,-0.137958139181137,-0.132176697254181,0.050921633839607));
res += mul(Get(s3,dx,-dy), float4x4(0.179337263107300,0.062699481844902,0.067235186696053,-0.019531628116965,-0.019137151539326,-0.014858904294670,-0.141835510730743,0.044600382447243,0.076668150722980,-0.019254047423601,0.035918135195971,0.135405287146568,0.164852216839790,-0.081905283033848,0.113708861172199,0.064261101186275));
res += mul(Get(s3,dx,0), float4x4(-0.000815530249383,0.116818755865097,-0.185438305139542,0.094714008271694,-0.021545104682446,-0.188151687383652,0.077800549566746,0.053073707967997,-0.032545801252127,0.024247299879789,0.072335921227932,-0.001057589775883,0.070621013641357,-0.107476904988289,0.051265794783831,-0.065522588789463));
res += mul(Get(s3,dx,dy), float4x4(-0.066212400794029,0.075955763459206,-0.050172921270132,-0.051339928060770,-0.158998817205429,-0.034292779862881,-0.039569463580847,0.096391126513481,-0.054374877363443,0.044878788292408,-0.044156555086374,-0.050930093973875,-0.033606726676226,-0.130818113684654,0.017754787579179,0.058681800961494));
return max(float4(0,0,0,0), res);
}
