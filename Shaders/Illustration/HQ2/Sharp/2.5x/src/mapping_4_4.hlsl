sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.041015006601810,0.005056144203991,0.244049802422523,-0.245843917131424,-0.002018806990236,-0.065671518445015,0.052713796496391,0.216156005859375,0.009731910191476,-0.061163730919361,-0.101451627910137,-0.032348528504372,-0.048363320529461,0.118594802916050,0.024974385276437,0.019118845462799));
res += mul(Get(s0,-dx,0), float4x4(-0.054585546255112,0.103550873696804,-0.008045538328588,0.058824662119150,-0.058407917618752,-0.054427735507488,-0.077135153114796,0.060098282992840,-0.049850095063448,0.025752637535334,0.062144812196493,-0.143039330840111,-0.127153426408768,-0.000207167235203,0.068977721035480,-0.037938203662634));
res += mul(Get(s0,-dx,dy), float4x4(-0.049463257193565,-0.000824388989713,0.016535121947527,-0.061777159571648,-0.135402485728264,-0.093773409724236,-0.043119046837091,0.036773871630430,0.070238701999187,0.091152504086494,0.024981355294585,-0.076652906835079,-0.073940113186836,-0.045683249831200,-0.050948385149240,-0.026125032454729));
res += mul(Get(s0,0,-dy), float4x4(-0.004702917300165,-0.012112796306610,0.122069105505943,0.033733323216438,-0.056587800383568,-0.114526063203812,-0.030486389994621,0.118736185133457,-0.063941486179829,-0.022363923490047,0.027386721223593,0.017897941172123,0.044979870319366,0.026906924322248,-0.019008915871382,0.054131578654051));
res += mul(Get(s0,0,0), float4x4(-0.101878695189953,-0.097702413797379,-0.185994431376457,0.026917006820440,-0.055609006434679,-0.002074711956084,-0.013579137623310,-0.060767158865929,-0.072726495563984,0.013652850873768,-0.035799589008093,0.062796629965305,0.184262856841087,-0.126741215586662,-0.054509960114956,-0.073405258357525));
res += mul(Get(s0,0,dy), float4x4(-0.069237813353539,-0.067538991570473,0.123906709253788,0.109663404524326,0.125241160392761,-0.054573800414801,-0.049170073121786,0.291669487953186,0.041852723807096,-0.238804757595062,-0.044240456074476,0.034538015723228,-0.062971241772175,-0.041881587356329,0.053416047245264,0.020586885511875));
res += mul(Get(s0,dx,-dy), float4x4(-0.019583608955145,-0.030210983008146,0.079065144062042,0.075228542089462,0.091778844594955,0.123213872313499,0.063533745706081,-0.105137333273888,-0.056493252515793,-0.032017335295677,-0.138524413108826,-0.075073108077049,0.049972631037235,0.022124338895082,-0.107008881866932,-0.050082929432392));
res += mul(Get(s0,dx,0), float4x4(0.018601227551699,0.031964551657438,-0.134323462843895,0.043953415006399,0.041099607944489,-0.049354437738657,0.009585438296199,0.147006258368492,-0.095634557306767,0.029711218550801,0.070636786520481,-0.005073072388768,0.148080140352249,-0.042902391403913,0.075820505619049,-0.013951003551483));
res += mul(Get(s0,dx,dy), float4x4(-0.025431921705604,0.064291588962078,-0.061122033745050,-0.013266216963530,0.106213055551052,0.058345563709736,0.114530026912689,0.142916232347488,-0.073861382901669,0.019923025742173,-0.058120418339968,0.180912867188454,-0.009979847818613,-0.218772172927856,0.018546503037214,-0.067444041371346));
res += mul(Get(s1,-dx,-dy), float4x4(-0.034284923225641,0.064063355326653,0.128052890300751,-0.163446411490440,0.059526819735765,-0.011350497603416,-0.045671079307795,0.090717382729053,-0.115275755524635,0.001117185456678,0.037411987781525,-0.083664759993553,0.145710021257401,0.074972853064537,0.067056149244308,-0.019879080355167));
res += mul(Get(s1,-dx,0), float4x4(0.021282926201820,-0.122290574014187,0.024719119071960,0.126306220889091,-0.004610537085682,-0.035570867359638,-0.023228624835610,0.028688689693809,-0.134028926491737,0.005646527279168,0.001122640329413,-0.036321330815554,0.102805159986019,-0.103135474026203,0.018408527597785,-0.031643759459257));
res += mul(Get(s1,-dx,dy), float4x4(0.017987133935094,-0.110805600881577,0.127682581543922,0.123181670904160,0.054831981658936,-0.143615096807480,-0.209867149591446,-0.019650764763355,-0.094635248184204,0.030354071408510,0.155520722270012,-0.021875079721212,-0.043545372784138,-0.039193876087666,-0.079245142638683,0.045355107635260));
res += mul(Get(s1,0,-dy), float4x4(-0.074176199734211,0.037545315921307,-0.012088183313608,-0.060982126742601,0.097537681460381,-0.034483455121517,-0.038477499037981,0.090015307068825,0.012456410564482,0.094638735055923,0.067096792161465,0.018037073314190,0.199039399623871,-0.044864695519209,-0.147956505417824,-0.072300672531128));
res += mul(Get(s1,0,0), float4x4(0.011542222462595,-0.020899018272758,-0.018713116645813,0.047844674438238,-0.021482527256012,0.240994811058044,-0.142561554908752,-0.124115504324436,-0.005546309519559,0.025891482830048,-0.003628234611824,0.014812378212810,0.086088493466377,0.159625500440598,-0.080141827464104,0.152875021100044));
res += mul(Get(s1,0,dy), float4x4(-0.053711291402578,-0.064846813678741,-0.034766245633364,0.121175609529018,-0.040454406291246,0.000616649456788,0.015478512272239,-0.120727069675922,-0.021337686106563,0.105482824146748,0.061552237719297,0.020049870014191,0.020547559484839,-0.088921234011650,-0.005193098913878,-0.070206306874752));
res += mul(Get(s1,dx,-dy), float4x4(-0.097015351057053,-0.140941053628922,0.034828286617994,-0.065413787961006,0.063840247690678,0.008034788072109,0.042484052479267,0.008794350549579,0.083249054849148,-0.010087859816849,0.057565517723560,-0.066814899444580,-0.094181694090366,-0.110158868134022,0.033942248672247,0.002961940597743));
res += mul(Get(s1,dx,0), float4x4(0.012508099898696,-0.057016443461180,-0.041212413460016,-0.081708170473576,-0.013133107684553,0.140993535518646,-0.064223848283291,0.014270766638219,-0.014274626970291,0.073073349893093,0.150035113096237,0.047978427261114,0.151619032025337,0.023196183145046,0.059453912079334,-0.068746462464333));
res += mul(Get(s1,dx,dy), float4x4(0.080116972327232,-0.193742886185646,-0.005233107600361,-0.036801576614380,0.151058346033096,0.037042044103146,0.033254303038120,-0.007831927388906,0.045757342129946,-0.045609213411808,-0.123615048825741,0.091420538723469,-0.009871236048639,-0.107842713594437,-0.027870319783688,-0.038887992501259));
res += mul(Get(s2,-dx,-dy), float4x4(-0.011916067451239,-0.097262121737003,-0.019660847261548,0.000732032698579,-0.042741622775793,-0.185648262500763,-0.028904188424349,-0.143867135047913,0.161801800131798,-0.002472113817930,0.107970640063286,-0.008206723257899,-0.078226871788502,-0.082866787910461,0.090805672109127,0.076483428478241));
res += mul(Get(s2,-dx,0), float4x4(-0.002710346132517,0.037769407033920,0.062300164252520,0.091852203011513,-0.052824698388577,-0.056329552084208,-0.060128610581160,-0.005440848879516,0.010154740884900,-0.039491608738899,-0.014291676692665,-0.057423982769251,0.075816214084625,0.002651909599081,-0.016403036192060,0.004622674547136));
res += mul(Get(s2,-dx,dy), float4x4(0.018595272675157,0.022419890388846,0.069231338799000,-0.011217049323022,-0.013003312982619,-0.024761304259300,-0.015713274478912,-0.048333976417780,0.041700050234795,0.104246146976948,0.014825899153948,0.180730119347572,0.021852819249034,-0.065097488462925,0.060648065060377,0.003451674710959));
res += mul(Get(s2,0,-dy), float4x4(0.193371176719666,0.118240103125572,0.105431534349918,0.027925377711654,-0.010764804668725,0.016404924914241,-0.046020094305277,-0.010523127391934,-0.062888413667679,0.047301981598139,-0.041509620845318,-0.027043353766203,-0.115989089012146,0.114358261227608,-0.007076703943312,-0.006581324618310));
res += mul(Get(s2,0,0), float4x4(0.112145170569420,0.037158697843552,-0.171697586774826,0.018433062359691,0.076087526977062,-0.049824934452772,0.054364472627640,0.063903383910656,0.019135106354952,0.063912510871887,0.075038529932499,0.099221348762512,-0.173694416880608,-0.028839094564319,0.027247801423073,-0.026387497782707));
res += mul(Get(s2,0,dy), float4x4(-0.011124456301332,0.132042944431305,-0.112931877374649,0.159528344869614,-0.067274525761604,0.035300210118294,-0.140430629253387,-0.029688209295273,-0.073082558810711,-0.010725486092269,0.035288527607918,0.085290588438511,-0.135814949870110,-0.104425333440304,0.004249060526490,-0.099929422140121));
res += mul(Get(s2,dx,-dy), float4x4(0.137829184532166,0.072957061231136,0.025947213172913,-0.167286783456802,0.082491055130959,0.030755449086428,0.193062603473663,-0.001893066568300,-0.015178119763732,0.079913809895515,0.010968445800245,0.062886998057365,-0.084550872445107,0.005444136913866,0.043135095387697,-0.020036874338984));
res += mul(Get(s2,dx,0), float4x4(-0.036490313708782,0.140191853046417,0.096964232623577,0.064671672880650,-0.029064280912280,0.183255195617676,-0.135011062026024,0.121799178421497,-0.063295818865299,0.132782995700836,0.076416864991188,0.045549239963293,-0.002263233531266,-0.074077732861042,-0.048542398959398,0.144736677408218));
res += mul(Get(s2,dx,dy), float4x4(-0.096313625574112,0.004793724045157,-0.077669180929661,0.035885501652956,0.041366785764694,-0.097248762845993,0.068768896162510,0.029992712661624,0.006686658132821,-0.064890034496784,-0.009319483302534,-0.043118782341480,0.033974658697844,-0.130647435784340,0.103749655187130,0.218279182910919));
res += mul(Get(s3,-dx,-dy), float4x4(-0.110533855855465,0.018391696736217,-0.067861713469028,0.044420249760151,-0.086383566260338,-0.000566110888030,0.032267808914185,0.008650470525026,-0.047805689275265,-0.142148047685623,-0.058942332863808,-0.003133232705295,0.144588276743889,0.050669696182013,-0.067575536668301,0.103125639259815));
res += mul(Get(s3,-dx,0), float4x4(-0.163394838571548,-0.070549637079239,0.018743531778455,0.076705627143383,0.153514564037323,-0.004960766062140,0.056568630039692,-0.094622761011124,-0.052307076752186,-0.000452528038295,0.003451117314398,-0.122018709778786,-0.047817885875702,0.016965322196484,0.169240966439247,-0.099288307130337));
res += mul(Get(s3,-dx,dy), float4x4(-0.049120400100946,0.027221379801631,-0.114604927599430,0.010790419764817,0.006515149958432,-0.086624525487423,-0.044792819768190,0.067708656191826,0.139648094773293,-0.015596712008119,-0.068552702665329,-0.124435245990753,-0.072015173733234,-0.065450154244900,0.014484542421997,0.071770533919334));
res += mul(Get(s3,0,-dy), float4x4(-0.156379356980324,0.088632352650166,0.088496536016464,-0.086378984153271,-0.023718407377601,-0.016707019880414,-0.002150952350348,0.045543320477009,0.061139941215515,-0.014671457000077,-0.112879022955894,0.053831860423088,0.027913127094507,0.000014974936676,-0.055438604205847,0.030751761049032));
res += mul(Get(s3,0,0), float4x4(-0.023734448477626,-0.019917188212276,0.056601885706186,0.090069063007832,-0.116871498525143,-0.000861191947479,-0.026193195953965,-0.026980012655258,0.118442200124264,-0.224377229809761,-0.029274724423885,0.051947470754385,-0.113218858838081,-0.086881041526794,0.060326732695103,0.136494264006615));
res += mul(Get(s3,0,dy), float4x4(-0.107333004474640,-0.069800101220608,-0.031093211844563,-0.060641221702099,0.029658444225788,0.061379149556160,-0.059966113418341,0.048440005630255,-0.246385097503662,0.047391284257174,-0.066619038581848,-0.191189065575600,0.142849028110504,-0.070020578801632,0.038191691040993,0.037106499075890));
res += mul(Get(s3,dx,-dy), float4x4(0.032984752207994,0.017374176532030,-0.099669024348259,-0.153072550892830,-0.097221814095974,0.067540414631367,0.071782752871513,-0.021192973479629,-0.024928929284215,0.019299274310470,-0.052560728043318,0.066939830780029,0.089111104607582,0.149031937122345,-0.040990907698870,-0.053315073251724));
res += mul(Get(s3,dx,0), float4x4(-0.062179353088140,0.079979881644249,-0.041492529213428,-0.047259315848351,-0.103699035942554,0.015580189414322,0.028296325355768,-0.106364078819752,-0.018089924007654,-0.029879229143262,-0.003409903962165,0.098417110741138,0.205158039927483,-0.161035329103470,0.019038211554289,-0.169172123074532));
res += mul(Get(s3,dx,dy), float4x4(-0.003873268840834,0.057418886572123,0.035124629735947,0.177823260426521,-0.063618719577789,-0.071997143328190,-0.035784967243671,-0.101419225335121,-0.036339119076729,-0.048615656793118,0.107027880847454,0.115304537117481,0.048223298043013,-0.109912559390068,-0.122088752686977,-0.070112422108650));
return max(float4(0,0,0,0), res);
}
