sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.120833121240139,-0.111098065972328,-0.151713639497757,0.098285540938377,0.208275064826012,-0.100732140243053,-0.136051103472710,0.029158860445023,-0.028865098953247,-0.004301489796489,0.018459938466549,0.035915855318308,0.151671141386032,0.010868731886148,0.095826715230942,-0.040515750646591));
res += mul(Get(s0,-dx,0), float4x4(-0.024478785693645,0.021990358829498,-0.076817184686661,-0.020955303683877,0.009754979051650,-0.003646038705483,0.035761848092079,-0.094078578054905,0.053367204964161,-0.034595079720020,0.042618829756975,-0.055655904114246,0.132124125957489,0.056654572486877,0.203138455748558,0.020050888881087));
res += mul(Get(s0,-dx,dy), float4x4(0.013217464089394,-0.180777445435524,0.102237679064274,-0.004036797676235,-0.023011635988951,0.148201614618301,-0.072744585573673,-0.026113653555512,-0.024395393207669,-0.084382541477680,0.074570111930370,0.061543863266706,-0.122764520347118,0.042048331350088,-0.241687849164009,0.075364306569099));
res += mul(Get(s0,0,-dy), float4x4(0.095965497195721,-0.118210472166538,-0.033102549612522,0.006782812997699,0.021306850016117,-0.037930771708488,-0.047344479709864,-0.015136916190386,-0.018701918423176,-0.062885373830795,0.100043907761574,-0.075735300779343,0.164751097559929,0.043858185410500,-0.039840720593929,0.019049525260925));
res += mul(Get(s0,0,0), float4x4(0.022995980456471,0.057551570236683,0.022260148078203,0.167829066514969,-0.034276023507118,-0.118790693581104,-0.120507664978504,-0.057979434728622,-0.095855191349983,-0.106040075421333,-0.102140814065933,0.041707087308168,-0.069027826189995,0.128745570778847,-0.039994206279516,-0.051803793758154));
res += mul(Get(s0,0,dy), float4x4(0.164396822452545,0.047550428658724,0.041582826524973,0.122803829610348,-0.205834656953812,0.017295105382800,-0.054392293095589,-0.042028073221445,-0.017642350867391,-0.068614736199379,-0.020753491669893,0.099229805171490,0.219196617603302,-0.015772694721818,-0.137484177947044,0.018650474026799));
res += mul(Get(s0,dx,-dy), float4x4(0.000772363971919,-0.133321002125740,-0.125032633543015,0.008140983991325,-0.002394523937255,-0.045840840786695,0.039054442197084,-0.023744218051434,-0.022385155782104,0.174541532993317,0.084184847772121,-0.029794573783875,0.021191803738475,0.041354432702065,-0.054225273430347,0.071892350912094));
res += mul(Get(s0,dx,0), float4x4(0.040087405592203,0.051112815737724,0.019694738090038,-0.065105728805065,0.011422499082983,-0.025091163814068,0.141930550336838,-0.051204781979322,-0.001990234944969,0.046636719256639,0.036934997886419,0.003139414358884,-0.026255292817950,-0.039044950157404,0.118288800120354,-0.053976044058800));
res += mul(Get(s0,dx,dy), float4x4(0.077943742275238,0.034862063825130,-0.060721036046743,-0.054035767912865,-0.032024636864662,0.037797663360834,-0.103077746927738,-0.111960552632809,0.058386255055666,-0.049892619252205,0.085230246186256,-0.108160316944122,-0.179056167602539,-0.154252514243126,-0.000804282724857,0.122140914201736));
res += mul(Get(s1,-dx,-dy), float4x4(-0.036543905735016,-0.074313864111900,0.066890202462673,-0.047479387372732,0.039529189467430,-0.077351637184620,-0.063603214919567,0.049064673483372,-0.116679333150387,0.081596642732620,0.166456013917923,-0.134301319718361,0.107203252613544,0.041704088449478,-0.060083586722612,0.101421408355236));
res += mul(Get(s1,-dx,0), float4x4(0.124220959842205,0.112224593758583,0.128865793347359,0.066527806222439,-0.044642366468906,-0.079763650894165,-0.107847318053246,-0.068163253366947,-0.124763913452625,-0.044215831905603,0.054430890828371,-0.076441697776318,-0.047294322401285,0.244581922888756,0.033427845686674,0.003112641396001));
res += mul(Get(s1,-dx,dy), float4x4(-0.048077259212732,-0.043453495949507,-0.035867676138878,0.094470158219337,0.100407317280769,0.022615665569901,-0.018623169511557,-0.078601002693176,-0.077630765736103,-0.012263331562281,0.056491326540709,0.020206749439240,0.085987463593483,-0.098356932401657,-0.109324805438519,-0.131579741835594));
res += mul(Get(s1,0,-dy), float4x4(-0.028014931827784,0.069975323975086,-0.052945900708437,-0.035028468817472,-0.022190604358912,0.109849430620670,0.005894102621824,-0.242876514792442,-0.050607010722160,-0.155277818441391,-0.040674265474081,0.043289158493280,0.149528592824936,0.060156647115946,-0.094460502266884,0.111765041947365));
res += mul(Get(s1,0,0), float4x4(-0.135294497013092,0.070923477411270,-0.144278213381767,-0.029588142409921,-0.110195286571980,0.006538443733007,-0.085058197379112,0.060559395700693,-0.016779234632850,0.058862779289484,-0.006445968057960,-0.005877147894353,0.094041571021080,-0.024879159405828,-0.128172099590302,-0.148974582552910));
res += mul(Get(s1,0,dy), float4x4(-0.104459173977375,-0.040655858814716,-0.038923099637032,0.088742226362228,0.059831112623215,0.111679986119270,0.002087817527354,0.205958440899849,-0.024591522291303,0.012144223786891,0.031447492539883,-0.078688308596611,-0.181729644536972,-0.100203663110733,0.012035912834108,0.174219071865082));
res += mul(Get(s1,dx,-dy), float4x4(-0.040263488888741,0.155677199363708,-0.078593403100967,-0.166452050209045,0.090768836438656,-0.066598989069462,-0.013368463143706,-0.046385459601879,-0.048695385456085,0.059103775769472,-0.080600336194038,-0.109496437013149,-0.130167186260223,-0.156742408871651,0.207139477133751,0.078233085572720));
res += mul(Get(s1,dx,0), float4x4(0.056862361729145,0.080610312521458,-0.039562880992889,-0.011788405478001,0.152413144707680,0.101519607007504,-0.010309486649930,0.183854609727859,0.019484100863338,0.036406863480806,-0.153697565197945,-0.039392672479153,0.065769523382187,0.071674533188343,0.021647688001394,-0.028745004907250));
res += mul(Get(s1,dx,dy), float4x4(-0.138910278677940,0.057147197425365,-0.015952249988914,-0.018649235367775,-0.106418952345848,-0.024157857522368,0.084167160093784,0.026518085971475,0.083158746361732,-0.087248802185059,0.035402037203312,-0.154923528432846,0.040139898657799,0.013960297219455,0.047422938048840,-0.014109297655523));
res += mul(Get(s2,-dx,-dy), float4x4(-0.093571297824383,0.071374453604221,-0.022934580221772,0.097666770219803,-0.077616974711418,-0.114307627081871,0.096442997455597,0.032794449478388,0.022549243643880,-0.128332421183586,0.001951290876605,-0.017698334529996,0.200012296438217,0.035757273435593,0.099541805684566,0.021869208663702));
res += mul(Get(s2,-dx,0), float4x4(-0.090278595685959,0.007499747443944,-0.008026056922972,-0.003098395653069,-0.156944632530212,-0.029494157060981,-0.085189856588840,-0.043489910662174,-0.065632104873657,0.021876025944948,-0.093560814857483,0.124662458896637,0.127857044339180,0.113818749785423,-0.109012283384800,-0.041164010763168));
res += mul(Get(s2,-dx,dy), float4x4(0.029213048517704,-0.109606012701988,0.174242272973061,0.049758609384298,0.033476140350103,0.042865399271250,-0.001984901027754,0.041027612984180,0.158951729536057,0.181368380784988,-0.036729872226715,-0.257318139076233,-0.126760065555573,0.007983617484570,0.113572508096695,-0.051117382943630));
res += mul(Get(s2,0,-dy), float4x4(0.080250263214111,-0.024455515667796,-0.088783666491508,-0.042123898863792,-0.142970442771912,-0.012140468694270,0.068151101469994,0.053932655602694,-0.139061152935028,0.089871130883694,-0.107197865843773,-0.200664892792702,0.007918051443994,-0.028511267155409,-0.087147489190102,-0.021086661145091));
res += mul(Get(s2,0,0), float4x4(0.134369641542435,0.026858802884817,-0.028249217197299,-0.003194958204404,0.083571024239063,0.068867795169353,0.171100482344627,0.209281206130981,0.009277881123126,0.049340255558491,0.008663387969136,0.170734465122223,0.100154668092728,0.123832076787949,-0.145253866910934,0.070353090763092));
res += mul(Get(s2,0,dy), float4x4(-0.084266752004623,0.081497929990292,-0.059223119169474,-0.231939956545830,0.072665303945541,0.117940761148930,0.044958032667637,0.042083144187927,0.209888592362404,-0.159112274646759,-0.019108442589641,0.106623560190201,-0.137872129678726,-0.041216183453798,0.292096167802811,-0.015652161091566));
res += mul(Get(s2,dx,-dy), float4x4(0.034331552684307,-0.118245601654053,0.045834280550480,0.021045470610261,0.067553654313087,0.088313028216362,0.053913086652756,0.157637789845467,0.130488380789757,-0.083889834582806,0.145506992936134,-0.017644360661507,0.021857477724552,-0.050645630806684,0.030324369668961,0.188429057598114));
res += mul(Get(s2,dx,0), float4x4(0.103957869112492,-0.173262476921082,0.000151974323671,0.040177628397942,0.043650418519974,0.014449510723352,-0.080138593912125,0.004020023625344,0.045894596725702,0.008935722522438,0.190764755010605,0.122596099972725,-0.005021553020924,0.091098666191101,-0.057521522045135,-0.025854334235191));
res += mul(Get(s2,dx,dy), float4x4(0.052771672606468,0.064396820962429,-0.025208786129951,-0.035851500928402,-0.104453518986702,-0.079324163496494,-0.137918516993523,-0.059140466153622,-0.023911053314805,-0.380861669778824,0.048941370099783,0.100245177745819,0.021147260442376,0.003405857365578,-0.000835821090732,-0.052803236991167));
res += mul(Get(s3,-dx,-dy), float4x4(-0.057059738785028,-0.048063300549984,-0.012033066712320,0.052855368703604,0.114227257668972,0.046857047826052,-0.164095744490623,0.078306145966053,-0.028524082154036,0.017258683219552,-0.034841731190681,-0.205106526613235,-0.124065861105919,-0.078539043664932,-0.094338335096836,-0.067850485444069));
res += mul(Get(s3,-dx,0), float4x4(-0.143857330083847,0.093513682484627,-0.190940871834755,0.007426704280078,0.115308664739132,0.095355056226254,0.024974182248116,0.028836896643043,0.047915454953909,-0.060808837413788,-0.113384418189526,-0.126190796494484,-0.078881256282330,0.263732314109802,-0.171595051884651,-0.068857617676258));
res += mul(Get(s3,-dx,dy), float4x4(-0.088479265570641,-0.029716109856963,-0.065400637686253,0.056420750916004,-0.073765330016613,0.117871128022671,0.136506944894791,0.090424843132496,0.159363508224487,-0.125108629465103,-0.034266591072083,-0.069262288510799,0.112368129193783,0.035073775798082,-0.129881754517555,-0.036225225776434));
res += mul(Get(s3,0,-dy), float4x4(0.169074386358261,0.136818483471870,0.021688731387258,-0.166953414678574,0.083044163882732,0.000020099549147,-0.142744421958923,0.012793748639524,-0.052734836935997,0.033538155257702,-0.056964904069901,0.033099159598351,-0.020836506038904,-0.040618952363729,0.021469740197062,0.077688992023468));
res += mul(Get(s3,0,0), float4x4(0.034053601324558,-0.048816185444593,-0.009230755269527,-0.029029190540314,-0.038396321237087,0.142431661486626,0.045289818197489,-0.009091069921851,-0.103353828191757,0.042970076203346,-0.060140732675791,-0.078869014978409,-0.001272221794352,0.048037573695183,-0.031980048865080,-0.043260358273983));
res += mul(Get(s3,0,dy), float4x4(-0.089470788836479,-0.054292678833008,-0.159375607967377,-0.147184699773788,0.095387123525143,0.025009822100401,0.114175319671631,0.125136241316795,0.115271218121052,0.079254083335400,0.112188547849655,-0.013088199310005,0.032858770340681,0.113062031567097,0.070488557219505,0.055222861468792));
res += mul(Get(s3,dx,-dy), float4x4(0.147804290056229,-0.061861190944910,-0.073054440319538,0.053242485970259,-0.037220634520054,0.150890335440636,0.023350419476628,0.086354546248913,-0.064536333084106,-0.077974811196327,-0.022918585687876,0.036494694650173,0.110361292958260,0.084892123937607,-0.039196413010359,0.035267293453217));
res += mul(Get(s3,dx,0), float4x4(0.150829285383224,0.030016165226698,-0.038102325052023,0.032572519034147,-0.012917755171657,0.061534926295280,0.059579737484455,-0.062850959599018,0.049278371036053,-0.065060421824455,0.049377929419279,-0.125006526708603,0.011934777721763,0.086499817669392,-0.127796918153763,0.011802364140749));
res += mul(Get(s3,dx,dy), float4x4(-0.058464203029871,0.115987144410610,-0.010806485079229,0.096366241574287,0.071366719901562,-0.046542711555958,-0.045131884515285,-0.130749061703682,-0.050968524068594,-0.015250153839588,0.024813672527671,-0.102008685469627,-0.012683606706560,0.043351564556360,0.003352022962645,0.088175147771835));
return max(float4(0,0,0,0), res);
}
