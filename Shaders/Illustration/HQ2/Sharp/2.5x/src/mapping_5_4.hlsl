sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.008948571980000,0.066055119037628,-0.158623352646828,0.113296195864677,0.026309594511986,0.064586713910103,-0.016516728326678,0.030050577595830,0.059626579284668,0.033245492726564,0.067526452243328,-0.008156079798937,0.051791790872812,0.085259556770325,-0.082488968968391,-0.003323166631162));
res += mul(Get(s0,-dx,0), float4x4(-0.160242691636086,-0.143905654549599,-0.027140228077769,-0.025951126590371,0.018115311861038,-0.033268652856350,-0.047762040048838,-0.000227844226174,-0.074554368853569,-0.061264410614967,0.009881582111120,0.020176015794277,-0.010827681049705,-0.017680145800114,0.011028458364308,-0.092841900885105));
res += mul(Get(s0,-dx,dy), float4x4(-0.080502614378929,-0.007165354676545,-0.118079081177711,-0.026726579293609,0.011645638383925,-0.119447223842144,-0.159793168306351,-0.056116223335266,0.057892698794603,-0.069750055670738,-0.209122017025948,-0.087367847561836,0.112988568842411,-0.021562363952398,-0.123862043023109,0.008271271362901));
res += mul(Get(s0,0,-dy), float4x4(0.008219629526138,0.005487017799169,0.022224629297853,0.036879748106003,0.221270769834518,0.052263591438532,-0.035182155668736,0.019038598984480,0.049427881836891,-0.020517855882645,-0.091208219528198,-0.140501588582993,0.065255291759968,0.066143676638603,-0.085662543773651,-0.119951851665974));
res += mul(Get(s0,0,0), float4x4(-0.181259676814079,-0.012916462495923,-0.117226079106331,0.159930497407913,0.060809891670942,-0.077579259872437,0.102704450488091,-0.028231909498572,0.044493135064840,-0.119688346982002,0.149226158857346,-0.098351962864399,0.017832133919001,0.131766244769096,-0.080363735556602,-0.133458405733109));
res += mul(Get(s0,0,dy), float4x4(-0.097869738936424,-0.054972663521767,0.103239946067333,0.178785100579262,-0.059765350073576,-0.022053271532059,0.038375854492188,-0.111254557967186,-0.006889438722283,0.170404508709908,-0.013807964511216,0.050368916243315,0.110458940267563,0.080306999385357,-0.000360568723409,-0.047217752784491));
res += mul(Get(s0,dx,-dy), float4x4(0.004188344813883,-0.181016325950623,-0.042590383440256,0.066255733370781,0.003714596154168,0.113026738166809,-0.105853147804737,-0.067816488444805,-0.019037961959839,0.046356685459614,-0.054892249405384,0.075951568782330,0.075791768729687,0.009897199459374,0.153186678886414,-0.209045290946960));
res += mul(Get(s0,dx,0), float4x4(-0.112812705338001,0.089181602001190,0.001322061172687,0.073520123958588,0.103474549949169,0.086842522025108,0.083778604865074,-0.086089648306370,0.006718537304550,-0.069290272891521,0.030190534889698,-0.132577195763588,0.029147034510970,0.050841148942709,0.048059951514006,-0.077206768095493));
res += mul(Get(s0,dx,dy), float4x4(-0.066217027604580,0.080507285892963,0.053176660090685,-0.157532453536987,0.162221804261208,-0.030557658523321,-0.013254512101412,-0.081300392746925,-0.057003255933523,-0.000224966948736,0.061508063226938,0.024869352579117,-0.088095746934414,-0.000592902244534,-0.098115622997284,-0.108743138611317));
res += mul(Get(s1,-dx,-dy), float4x4(0.104071959853172,-0.043498408049345,-0.187221139669418,-0.218938320875168,-0.024665130302310,-0.091177374124527,-0.010302540846169,-0.116371646523476,0.018104325979948,-0.026405751705170,0.089434772729874,-0.067609727382660,-0.045664221048355,0.004748914856464,-0.029388422146440,0.066663295030594));
res += mul(Get(s1,-dx,0), float4x4(-0.033629383891821,-0.064206577837467,-0.062495533376932,-0.135346606373787,-0.118402920663357,0.004691571462899,-0.074805639684200,0.028980839997530,-0.113681808114052,0.083032220602036,-0.135545566678047,0.018806021660566,0.028072932735085,0.015350331552327,0.067390084266663,-0.187504768371582));
res += mul(Get(s1,-dx,dy), float4x4(-0.042580179870129,-0.083887830376625,0.152123257517815,-0.067649796605110,0.025168675929308,0.073202267289162,-0.058494627475739,-0.114628180861473,0.004433871246874,0.010005714371800,0.075152620673180,0.142829269170761,0.109849750995636,0.141232132911682,0.029736384749413,0.099086016416550));
res += mul(Get(s1,0,-dy), float4x4(-0.002968521788716,-0.085377842187881,0.054892409592867,0.001976801315323,-0.048028413206339,-0.155214428901672,-0.022960968315601,-0.142658919095993,-0.080892547965050,-0.047233823686838,-0.021891985088587,-0.053807899355888,0.068054266273975,-0.109191864728928,0.116904310882092,-0.006164917722344));
res += mul(Get(s1,0,0), float4x4(0.079329669475555,-0.014827002771199,-0.086837746202946,0.292701780796051,-0.087457932531834,-0.068070761859417,0.224281907081604,-0.062070511281490,0.073894105851650,0.025115627795458,-0.095849089324474,-0.000393755675759,-0.043729741126299,0.077230311930180,0.132813751697540,-0.058282557874918));
res += mul(Get(s1,0,dy), float4x4(-0.011168652214110,-0.159311607480049,0.142154633998871,-0.015540033578873,-0.057601518929005,-0.071613669395447,-0.152032002806664,0.166090920567513,0.049271218478680,0.039159614592791,0.003811954753473,-0.133802726864815,-0.175518199801445,-0.028495075181127,-0.038730118423700,-0.047827310860157));
res += mul(Get(s1,dx,-dy), float4x4(-0.105508193373680,-0.025611056014895,-0.048352014273405,-0.022516405209899,0.090967312455177,-0.041877016425133,0.107308350503445,0.037695001810789,-0.011171907186508,-0.163286268711090,0.009053418412805,0.087746262550354,-0.067419081926346,0.021819658577442,-0.023130761459470,0.096189647912979));
res += mul(Get(s1,dx,0), float4x4(-0.027275625616312,-0.153882473707199,-0.035954263061285,0.167736068367958,-0.125633239746094,-0.018780894577503,0.000093864342489,-0.059168934822083,-0.091662488877773,-0.020339477807283,0.029412657022476,0.050307229161263,0.031491234898567,0.054164357483387,0.097428038716316,0.167939677834511));
res += mul(Get(s1,dx,dy), float4x4(-0.075705282390118,-0.041310906410217,-0.109398715198040,0.083686463534832,0.034935809671879,-0.082368068397045,0.098698191344738,-0.083458997309208,-0.050539314746857,0.169849306344986,0.043282371014357,0.088905118405819,-0.099592693150043,-0.019349692389369,0.182790726423264,0.084388338029385));
res += mul(Get(s2,-dx,-dy), float4x4(-0.003867654595524,-0.057187706232071,0.122126638889313,0.163628146052361,0.018081039190292,0.119194813072681,-0.047549758106470,-0.007592054083943,0.104536354541779,-0.122003115713596,0.016737448051572,0.145680367946625,0.081901945173740,-0.124434076249599,0.021923054009676,-0.152756705880165));
res += mul(Get(s2,-dx,0), float4x4(0.126657187938690,0.058003872632980,0.011412241496146,-0.044586323201656,0.048561688512564,-0.055860221385956,0.005622305907309,0.015158897265792,-0.090810462832451,-0.032346840947866,0.058191895484924,0.187043517827988,-0.064752474427223,0.172794267535210,0.023051120340824,0.051298849284649));
res += mul(Get(s2,-dx,dy), float4x4(0.146378427743912,-0.012217741459608,0.034348685294390,-0.139958679676056,0.107845477759838,0.045297648757696,0.028164355084300,-0.065076120197773,0.028782257810235,0.141611084342003,0.040308821946383,-0.024823525920510,0.031093252822757,0.081205822527409,0.071384213864803,0.001270738430321));
res += mul(Get(s2,0,-dy), float4x4(0.014718009158969,0.008697105571628,0.146164357662201,-0.030728353187442,-0.232959330081940,0.128725767135620,-0.036089856177568,-0.025368938222528,-0.176282867789268,0.000958723598160,0.000778590503614,0.114840328693390,0.000790348276496,0.015611546114087,0.028751580044627,0.095364697277546));
res += mul(Get(s2,0,0), float4x4(0.154991805553436,0.053544696420431,-0.100514069199562,-0.084648765623569,-0.076277919113636,-0.006621189415455,-0.091888464987278,-0.000715973554179,0.005266026593745,0.122945830225945,-0.060360778123140,-0.062418021261692,-0.019581843167543,0.002772143110633,-0.126763105392456,0.033767614513636));
res += mul(Get(s2,0,dy), float4x4(0.046769432723522,0.082073368132114,-0.013450783677399,-0.108798511326313,0.125786349177361,0.029724791646004,-0.027145208790898,-0.035349246114492,-0.000258937478065,-0.100858837366104,-0.151236578822136,0.031545098870993,-0.046729538589716,0.097369059920311,0.077308811247349,0.058867301791906));
res += mul(Get(s2,dx,-dy), float4x4(0.064219385385513,-0.021918270736933,-0.069028571248055,-0.058220062404871,0.057472996413708,-0.009455152787268,-0.029004920274019,0.062444917857647,0.107269361615181,-0.067497387528419,-0.089683704078197,-0.139477625489235,-0.062183622270823,0.056097924709320,-0.092035509645939,-0.099354848265648));
res += mul(Get(s2,dx,0), float4x4(0.048409327864647,-0.089066587388515,0.121367752552032,-0.146394953131676,0.018422748893499,-0.083736717700958,-0.107039317488670,-0.082521244883537,-0.074651367962360,0.138167679309845,-0.056985341012478,-0.160966083407402,-0.106854610145092,0.067376837134361,-0.040099248290062,0.074407160282135));
res += mul(Get(s2,dx,dy), float4x4(-0.047779627144337,0.038459159433842,-0.112336114048958,-0.083858914673328,0.045584000647068,-0.071670390665531,-0.122500851750374,0.041080646216869,0.039496224373579,-0.134452134370804,-0.024966010823846,-0.100066028535366,-0.044183775782585,0.126194849610329,-0.064785316586494,-0.014131978154182));
res += mul(Get(s3,-dx,-dy), float4x4(-0.084636583924294,0.116197176277637,0.055073622614145,-0.060483675450087,-0.019147410988808,0.012790477834642,0.099205158650875,-0.041067171841860,-0.019680352881551,0.182626962661743,-0.073028981685638,-0.013280423358083,-0.045426659286022,0.183813437819481,0.129842370748520,-0.104672871530056));
res += mul(Get(s3,-dx,0), float4x4(-0.005340419244021,0.021605061367154,-0.161458253860474,0.110971987247467,-0.113974310457706,0.125258490443230,-0.017810661345720,0.027240993455052,-0.042695775628090,0.034085977822542,-0.055619318038225,0.152478218078613,-0.012767919339240,0.177469849586487,-0.064397804439068,0.130504161119461));
res += mul(Get(s3,-dx,dy), float4x4(0.140969038009644,-0.122318051755428,0.052265319973230,0.062342286109924,0.183737754821777,0.031120935454965,-0.096650339663029,-0.049052182585001,0.108722709119320,0.075048975646496,-0.042205341160297,0.017693014815450,-0.048264004290104,-0.098451435565948,0.067866630852222,0.062213413417339));
res += mul(Get(s3,0,-dy), float4x4(-0.026775572448969,0.124003790318966,-0.065486937761307,-0.019578540697694,-0.132983103394508,-0.024375431239605,0.093817524611950,-0.034560445696115,0.046704504638910,-0.041276350617409,0.043280791491270,0.009497131220996,0.023980490863323,0.109107181429863,0.073308847844601,-0.040946390479803));
res += mul(Get(s3,0,0), float4x4(0.088343814015388,-0.090629994869232,-0.080022223293781,0.033121149986982,-0.016933914273977,0.010744429193437,0.047167066484690,0.144966244697571,0.133580163121223,-0.081098489463329,0.077319532632828,-0.105633527040482,0.085627026855946,-0.026405233889818,0.061984531581402,-0.106918632984161));
res += mul(Get(s3,0,dy), float4x4(0.043546784669161,-0.225868299603462,-0.123719446361065,-0.036949619650841,-0.038013231009245,-0.149962812662125,0.038249045610428,-0.212866187095642,0.095962896943092,0.058243002742529,-0.181877389550209,-0.101108409464359,-0.064051762223244,-0.053571972995996,0.098250240087509,-0.047265436500311));
res += mul(Get(s3,dx,-dy), float4x4(0.122156344354153,0.034171264618635,-0.078636728227139,-0.078022658824921,0.005316386464983,-0.133755579590797,-0.055521424859762,-0.078228987753391,-0.059694949537516,0.022760922089219,-0.041272934526205,-0.000091462359705,-0.064411327242851,-0.089764364063740,0.039261329919100,-0.077657423913479));
res += mul(Get(s3,dx,0), float4x4(-0.000488638819661,0.013557341881096,-0.115259438753128,0.027702735736966,-0.130741789937019,-0.095800057053566,0.051902804523706,-0.113920316100121,-0.037621706724167,-0.052780773490667,-0.127212882041931,-0.052709605544806,0.074297159910202,-0.034565255045891,0.014315869659185,-0.132708668708801));
res += mul(Get(s3,dx,dy), float4x4(-0.009211639873683,-0.053329780697823,-0.085696883499622,-0.024714555591345,0.068463169038296,-0.103942729532719,-0.069662235677242,0.185511738061905,0.091522969305515,-0.175975799560547,0.115123271942139,0.182763174176216,0.144593656063080,0.019437758252025,-0.065295681357384,0.128146275877953));
return max(float4(0,0,0,0), res);
}
