sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.168379813432693,-0.071867100894451,-0.008509586565197,0.073830522596836,-0.060333095490932,0.035524062812328,-0.080572776496410,0.189274147152901,0.027044704183936,-0.034513220191002,-0.102049693465233,0.001095331506804,-0.003239157143980,-0.012735808268189,0.016762727871537,0.047790866345167));
res += mul(Get(s0,-dx,0), float4x4(-0.175300970673561,0.038814257830381,-0.001802541315556,-0.021693192422390,-0.069644115865231,0.180812299251556,0.082393668591976,-0.034324880689383,-0.020922426134348,-0.040754586458206,0.086365535855293,-0.063226416707039,-0.046773791313171,-0.007483563851565,0.125581592321396,0.114487074315548));
res += mul(Get(s0,-dx,dy), float4x4(-0.165848925709724,-0.074344307184219,0.086730770766735,-0.084621563553810,0.089587964117527,-0.086835540831089,0.045165918767452,-0.088454358279705,-0.000667175219860,-0.054956857115030,-0.015569156967103,-0.077710121870041,0.056394811719656,0.118048660457134,0.131316438317299,0.091266594827175));
res += mul(Get(s0,0,-dy), float4x4(-0.082615539431572,0.014619294553995,-0.010388028807938,-0.047691851854324,-0.029845410957932,-0.064543835818768,-0.012172524817288,0.105358950793743,0.052165720611811,-0.093576371669769,0.115904845297337,0.092620022594929,-0.012058606371284,0.139134153723717,-0.138177439570427,-0.201584652066231));
res += mul(Get(s0,0,0), float4x4(-0.185199350118637,0.185199767351151,-0.249824896454811,0.037294559180737,-0.115662880241871,0.188146635890007,0.015329401940107,0.086958952248096,-0.021555708721280,-0.011706902645528,-0.094643838703632,0.004843309521675,0.072959281504154,0.004039295949042,0.139372169971466,0.064797021448612));
res += mul(Get(s0,0,dy), float4x4(-0.032839111983776,0.074406184256077,-0.045482821762562,-0.222089856863022,-0.007532267831266,0.041388977319002,0.017902607098222,-0.019872700795531,-0.078739076852798,-0.061237342655659,-0.045491065829992,0.128053039312363,-0.005508660338819,0.157710328698158,0.054259777069092,0.001039376365952));
res += mul(Get(s0,dx,-dy), float4x4(-0.031136561185122,0.098559655249119,0.007463051471859,0.063351429998875,0.020915396511555,-0.004930521361530,0.012930275872350,-0.058060951530933,0.001366925542243,0.129400774836540,0.130615875124931,-0.097479373216629,0.007670578546822,0.045208275318146,0.022336617112160,0.031446374952793));
res += mul(Get(s0,dx,0), float4x4(0.028307935222983,0.222417265176773,0.080715931952000,0.033696278929710,-0.034694463014603,0.039083223789930,0.044994287192822,0.013110068626702,0.027337266132236,0.014648260548711,0.143652841448784,0.024472637102008,-0.004267432726920,0.035382177680731,-0.017917826771736,-0.050482530146837));
res += mul(Get(s0,dx,dy), float4x4(0.027331091463566,0.111521281301975,0.125265225768089,0.080879159271717,0.054071094840765,-0.025596370920539,-0.023419497534633,-0.104981668293476,0.056023694574833,0.088844105601311,-0.072400055825710,-0.100887700915337,-0.080568589270115,0.206663101911545,-0.092190451920033,-0.154946506023407));
res += mul(Get(s1,-dx,-dy), float4x4(-0.087217763066292,0.144548401236534,0.009573556482792,0.084057837724686,-0.025580540299416,0.013408868573606,0.018303524702787,-0.203544035553932,0.085345529019833,-0.043889682739973,0.125364601612091,-0.082290641963482,-0.110741153359413,-0.132446944713593,-0.084429137408733,-0.056590385735035));
res += mul(Get(s1,-dx,0), float4x4(-0.090380787849426,0.085419803857803,-0.023859152570367,-0.047702096402645,0.083475254476070,-0.168924182653427,0.116677671670914,0.106918148696423,0.027482755482197,-0.099945396184921,-0.010113353841007,0.104691565036774,-0.123894542455673,0.096008375287056,-0.021414356306195,0.052221983671188));
res += mul(Get(s1,-dx,dy), float4x4(0.168151095509529,0.037864081561565,0.216934338212013,-0.030897397547960,0.020242821425200,0.046671781688929,0.011446615681052,-0.030292635783553,-0.014070998877287,-0.001258686068468,0.066101789474487,0.054321635514498,0.071763262152672,0.218221604824066,0.040421266108751,-0.017405843362212));
res += mul(Get(s1,0,-dy), float4x4(-0.018796496093273,-0.050693761557341,0.018792238086462,0.015069391578436,0.205363169312477,0.066637285053730,-0.017029194161296,0.109894774854183,0.009731292724609,0.134688645601273,-0.117397725582123,-0.225540533661842,-0.143226936459541,-0.147664502263069,0.045314952731133,-0.005023450125009));
res += mul(Get(s1,0,0), float4x4(0.088498093187809,-0.010771734640002,-0.016433272510767,0.238378509879112,-0.009008522145450,-0.089264914393425,-0.051153041422367,-0.100609309971333,-0.020588828250766,0.008029218763113,0.060916278511286,-0.108198963105679,-0.156529232859612,-0.198603942990303,-0.104106567800045,-0.008353418670595));
res += mul(Get(s1,0,dy), float4x4(0.032551914453506,0.171533107757568,-0.001753092044964,0.215499058365822,-0.139501541852951,-0.026172479614615,-0.042241588234901,-0.095014505088329,-0.001926699420437,0.017999649047852,-0.090011388063431,0.306637644767761,0.069766066968441,-0.017565229907632,-0.071591675281525,-0.102806419134140));
res += mul(Get(s1,dx,-dy), float4x4(0.174966797232628,-0.190318480134010,-0.057989086955786,-0.124055817723274,0.043703105300665,-0.114969886839390,0.146578878164291,0.206337943673134,-0.205517873167992,-0.130546092987061,-0.072416312992573,-0.013632758520544,-0.064833015203476,0.063993759453297,-0.140220969915390,0.117139115929604));
res += mul(Get(s1,dx,0), float4x4(0.086936116218567,-0.060001611709595,0.193335369229317,-0.044696044176817,-0.089226633310318,0.150932043790817,0.060620553791523,0.050601419061422,0.037080049514771,0.001231525791809,0.067980624735355,-0.205107375979424,0.105050437152386,-0.019008016213775,0.024755559861660,-0.030105726793408));
res += mul(Get(s1,dx,dy), float4x4(-0.115631200373173,-0.017802657559514,0.058729249984026,0.093543969094753,0.008049438707530,0.033335488289595,-0.006934989243746,-0.030025277286768,0.047106847167015,0.062766902148724,-0.034874688833952,-0.079096950590611,-0.100771009922028,-0.025681855157018,-0.152591541409492,-0.033265754580498));
res += mul(Get(s2,-dx,-dy), float4x4(-0.104318544268608,-0.019764553755522,0.011896212585270,-0.039447423070669,0.004059265367687,0.043338082730770,0.092509448528290,-0.177729338407516,0.323949664831161,0.121828392148018,0.010214732028544,0.035827424377203,-0.005236368160695,0.059153608977795,0.071140140295029,0.031829647719860));
res += mul(Get(s2,-dx,0), float4x4(0.031102327629924,-0.106928601861000,-0.129280835390091,-0.017646118998528,0.086367882788181,-0.105157479643822,0.013016840443015,0.148863583803177,-0.019940787926316,-0.028936721384525,0.140262395143509,0.081367239356041,0.236793756484985,0.179039061069489,-0.077828526496887,-0.104013584554195));
res += mul(Get(s2,-dx,dy), float4x4(0.094778463244438,-0.163183897733688,-0.156551614403725,0.009903586469591,-0.201243817806244,-0.043871961534023,-0.019313450902700,0.004396020434797,0.042283546179533,-0.077046856284142,0.053671348839998,-0.075537882745266,0.041102625429630,-0.109273985028267,0.003752649994567,-0.029674183577299));
res += mul(Get(s2,0,-dy), float4x4(0.042565494775772,0.107591964304447,0.182592228055000,-0.014348542317748,0.126997753977776,-0.029377263039351,-0.104540549218655,-0.110103197395802,0.030147131532431,0.022225972265005,-0.071828231215477,-0.139487132430077,0.040274873375893,-0.032914858311415,0.060189057141542,0.083134151995182));
res += mul(Get(s2,0,0), float4x4(0.081608086824417,0.013443200848997,0.133123815059662,0.156186506152153,-0.015928843989968,0.145635157823563,0.162327617406845,0.007786008995026,0.118986889719963,-0.009939314797521,0.036326207220554,-0.009641800075769,-0.081427089869976,-0.159621655941010,0.119111545383930,0.229107826948166));
res += mul(Get(s2,0,dy), float4x4(-0.002614874858409,-0.120561957359314,-0.086878530681133,0.081775501370430,0.139007970690727,0.021473493427038,0.105475358664989,-0.130306556820869,0.106519579887390,0.071806147694588,-0.062581472098827,-0.077818147838116,-0.120121121406555,0.086518123745918,-0.086099810898304,-0.033276204019785));
res += mul(Get(s2,dx,-dy), float4x4(-0.051571961492300,0.059346381574869,0.043597090989351,-0.073836013674736,0.105522826313972,-0.050652898848057,-0.110951393842697,0.051153536885977,-0.089882619678974,0.089826084673405,0.190042182803154,0.039313968271017,0.074052177369595,0.001407029689290,-0.013206865638494,0.135898441076279));
res += mul(Get(s2,dx,0), float4x4(0.104186184704304,-0.139622330665588,0.156365886330605,-0.125421404838562,-0.082365199923515,-0.046683963388205,-0.013169405981898,-0.019555507227778,-0.043100602924824,0.101642109453678,-0.168729767203331,-0.174330711364746,-0.016183326020837,-0.028673689812422,-0.040767025202513,-0.081506982445717));
res += mul(Get(s2,dx,dy), float4x4(-0.063544653356075,-0.014404767192900,-0.028161285445094,0.007867029868066,0.069837324321270,-0.048078160732985,-0.059254199266434,0.017793541774154,0.030316205695271,0.059818930923939,-0.063338622450829,0.080765277147293,0.063645713031292,-0.162348851561546,-0.011179840192199,0.019757084548473));
res += mul(Get(s3,-dx,-dy), float4x4(-0.077051609754562,0.017106842249632,0.033064864575863,-0.019272526726127,0.063401758670807,-0.059226792305708,-0.015865702182055,0.037499185651541,0.069125793874264,-0.011360984295607,-0.140601053833961,-0.134835988283157,-0.059295434504747,-0.116689845919609,-0.211072459816933,-0.003432543715462));
res += mul(Get(s3,-dx,0), float4x4(0.080581046640873,-0.024987909942865,-0.054686855524778,0.031345468014479,-0.135593712329865,-0.079827681183815,-0.083776779472828,-0.077981591224670,-0.045116979628801,0.070209369063377,0.008843009360135,-0.010758124291897,-0.158410295844078,-0.048401810228825,0.096459329128265,0.038876533508301));
res += mul(Get(s3,-dx,dy), float4x4(-0.160274952650070,-0.127692162990570,0.075174964964390,-0.046930972486734,0.114310272037983,0.019670829176903,0.049763012677431,-0.008028893731534,0.008680279366672,0.061116907745600,0.016831111162901,-0.010130081325769,-0.053840782493353,0.028807492926717,-0.334491342306137,-0.004471865948290));
res += mul(Get(s3,0,-dy), float4x4(0.150569379329681,-0.108962066471577,0.036364007741213,-0.132523775100708,0.298635274171829,0.075143650174141,-0.073244854807854,0.068306073546410,-0.021095110103488,0.034819141030312,0.149168580770493,-0.028789466246963,0.031829655170441,-0.105523966252804,-0.010412544012070,-0.057199764996767));
res += mul(Get(s3,0,0), float4x4(0.079465091228485,-0.071818150579929,-0.030693873763084,-0.015473916195333,-0.079441897571087,-0.058953177183867,-0.068421334028244,-0.015489700250328,-0.137025982141495,0.069863028824329,0.050333116203547,-0.078483477234840,-0.095037430524826,0.040342003107071,-0.148788556456566,0.087249182164669));
res += mul(Get(s3,0,dy), float4x4(0.001197790377773,-0.023564737290144,0.027142841368914,0.034756008535624,0.004118702840060,-0.053561765700579,0.050737749785185,-0.152440503239632,-0.269318580627441,0.138358607888222,-0.027190532535315,-0.156357556581497,0.034194253385067,0.026210885494947,-0.031132128089666,-0.102848842740059));
res += mul(Get(s3,dx,-dy), float4x4(-0.107991933822632,-0.157249808311462,0.084884569048882,-0.048721160739660,-0.107898294925690,-0.168255135416985,0.045489065349102,0.140371054410934,-0.004559302702546,0.054374370723963,0.049751754850149,0.285266906023026,-0.026960769668221,0.008792922832072,0.115695998072624,0.180079758167267));
res += mul(Get(s3,dx,0), float4x4(-0.037194732576609,-0.019450943917036,0.108520299196243,-0.031510856002569,-0.188456684350967,-0.121244370937347,0.079746410250664,-0.077373169362545,-0.044238578528166,0.039659786969423,0.063129395246506,0.143322229385376,-0.006449894048274,0.026581114158034,-0.055698234587908,-0.158159285783768));
res += mul(Get(s3,dx,dy), float4x4(0.021083930507302,0.057137347757816,0.076232723891735,0.042561586946249,0.150529175996780,0.041878197342157,0.157705366611481,-0.084864996373653,-0.051874559372663,-0.006200192030519,0.019527202472091,-0.032755557447672,-0.132768452167511,-0.001150110037997,0.177228748798370,-0.018962778151035));
return max(float4(0,0,0,0), res);
}
