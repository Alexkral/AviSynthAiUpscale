sampler s0 : register(s0);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(x, y)   tex2D(s0, tex + float2(x, y))[0]

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += float4(-0.046582389622927,-0.064658336341381,-0.015569933690131,-0.092643372714520) * Get(-dx,-dy);
res += float4(-0.056758347898722,-0.061676569283009,0.019530156627297,-0.024063399061561) * Get(-dx,0);
res += float4(-0.046854883432388,-0.069919496774673,0.000215241336264,-0.061595812439919) * Get(-dx,dy);
res += float4(0.052243459969759,-0.009532076306641,-0.026375779882073,-0.017292330041528) * Get(0,-dy);
res += float4(0.016954926773906,0.138033092021942,-0.072692550718784,0.013252998702228) * Get(0,0);
res += float4(-0.029867401346564,0.008437089622021,-0.024329615756869,0.077038042247295) * Get(0,dy);
res += float4(0.010559620335698,-0.031846672296524,-0.015582009218633,-0.043056324124336) * Get(dx,-dy);
res += float4(0.017307905480266,0.000028299720725,0.048230797052383,-0.028599750250578) * Get(dx,0);
res += float4(-0.079080000519753,-0.039981245994568,-0.026563363149762,0.075223959982395) * Get(dx,dy);
return max(float4(0,0,0,0), res);
}
