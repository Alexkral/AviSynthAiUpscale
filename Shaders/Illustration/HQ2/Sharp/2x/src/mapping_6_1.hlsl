sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.005831827875227,-0.008538627997041,0.005042955279350,-0.005355212371796,0.087788701057434,-0.034614346921444,-0.010129325091839,-0.002974122762680,0.097357921302319,0.051225300878286,-0.006644567009062,0.010584056377411,-0.001247404143214,-0.031922109425068,-0.007007628679276,-0.008794315159321));
res += mul(Get(s0,-dx,0), float4x4(-0.001168810878880,-0.015198688954115,-0.015696063637733,0.005767448805273,0.051128558814526,-0.048639331012964,-0.035836312919855,0.013330386020243,-0.052351325750351,0.088350862264633,-0.026763666421175,0.008353557437658,-0.001204084139317,-0.001204031636007,0.023806625977159,-0.015826260671020));
res += mul(Get(s0,-dx,dy), float4x4(0.009953737258911,-0.005313739646226,-0.000917435216252,-0.002321410691366,0.015597666613758,-0.069075286388397,-0.043672867119312,0.004472204949707,-0.000119896838441,0.060441639274359,0.039047524333000,-0.004784301389009,0.014779229648411,0.009220380336046,-0.006514671258628,0.002603368833661));
res += mul(Get(s0,0,-dy), float4x4(0.003856331575662,0.013063709251583,-0.001177123398520,-0.002860776148736,-0.039338298141956,0.051143370568752,0.072739191353321,-0.007756798062474,0.171428531408310,0.153412744402885,0.037774872034788,0.005952743347734,-0.010446560569108,-0.012790774926543,0.005373166874051,-0.011999716982245));
res += mul(Get(s0,0,0), float4x4(0.016276279464364,-0.008139592595398,-0.013464851304889,-0.008168518543243,-0.016701905056834,0.088909752666950,0.085572205483913,-0.013583131134510,0.120544083416462,0.066718079149723,-0.076818361878395,0.007586577441543,0.020403118804097,0.010213858447969,0.008048526011407,-0.003361505689099));
res += mul(Get(s0,0,dy), float4x4(-0.005349300801754,-0.002032906049863,0.011986083351076,0.001365940202959,0.012729514390230,0.041477382183075,0.065451413393021,-0.006125441286713,-0.200244039297104,-0.109527818858624,0.040356956422329,0.007422481663525,0.011154741980135,0.010540816001594,-0.004472395870835,0.000146113467054));
res += mul(Get(s0,dx,-dy), float4x4(-0.015008647926152,-0.000132582674269,-0.005173172336072,0.007029099855572,-0.009619783610106,0.001445623929612,-0.037035167217255,0.019845159724355,0.090433984994888,0.023470915853977,0.024352291598916,-0.004278953652829,-0.018179984763265,-0.016852047294378,-0.005452658515424,-0.004206145647913));
res += mul(Get(s0,dx,0), float4x4(-0.007204361725599,0.017560901120305,-0.000757645117119,0.000312297139317,-0.079719200730324,-0.006456308998168,-0.031256269663572,0.006762394215912,0.253819495439529,0.068428292870522,-0.056956354528666,0.007030742708594,-0.002237220527604,0.022406283766031,0.005791828967631,0.016180019825697));
res += mul(Get(s0,dx,dy), float4x4(0.000664259307086,0.007009807042778,0.008200133219361,-0.002800337737426,-0.068312816321850,0.023627197369933,-0.019069321453571,0.011982208117843,-0.106097258627415,-0.141328975558281,0.005229147151113,-0.018238330259919,-0.002744273748249,0.001755179488100,-0.004834867548198,-0.007103567942977));
res += mul(Get(s1,-dx,-dy), float4x4(-0.144932076334953,-0.073302671313286,-0.000251331599429,-0.007531342096627,-0.024291776120663,0.022776350378990,0.033727571368217,-0.002033239463344,-0.108059875667095,-0.001704395865090,-0.041994996368885,0.011596954427660,0.043703950941563,0.041937399655581,0.023671006783843,0.008344148285687));
res += mul(Get(s1,-dx,0), float4x4(0.112290993332863,0.052153903990984,0.078024178743362,0.023095443844795,0.074415594339371,0.022777091711760,0.083042286336422,0.003138320287690,-0.048840831965208,0.010644800029695,0.028889283537865,-0.000023032167519,0.011443810537457,0.054343111813068,0.022133367136121,-0.012769414111972));
res += mul(Get(s1,-dx,dy), float4x4(0.049527861177921,0.054007437080145,-0.014471726492047,0.001628337311558,0.096550062298775,0.081048272550106,0.001783639192581,0.005784815642983,0.028421007096767,0.072541840374470,-0.024976827204227,0.014716570265591,-0.009097305126488,-0.007044974714518,0.024226326495409,0.002727088052779));
res += mul(Get(s1,0,-dy), float4x4(-0.220203354954720,-0.186400115489960,-0.005266885273159,-0.013413877226412,-0.039407476782799,-0.046042971313000,-0.022170923650265,-0.012445733882487,-0.041983954608440,-0.113398261368275,-0.033830069005489,-0.003273580223322,0.059913612902164,0.113026879727840,0.015096303075552,0.003399908076972));
res += mul(Get(s1,0,0), float4x4(0.120479084551334,0.137564212083817,0.128199234604836,0.026299314573407,-0.095785066485405,0.002349516376853,0.100930690765381,-0.012954207137227,0.081659868359566,0.013663919642568,0.069202579557896,0.007780306041241,-0.044350150972605,0.011759407818317,-0.004800719674677,0.000950639776420));
res += mul(Get(s1,0,dy), float4x4(0.106479316949844,0.117883883416653,-0.042181584984064,0.021216385066509,0.252903401851654,0.183025404810905,0.005208119750023,0.009832468815148,0.126420691609383,0.072032108902931,-0.020674305036664,0.005882886238396,-0.018493324518204,-0.006928257178515,0.037705142050982,-0.005130629055202));
res += mul(Get(s1,dx,-dy), float4x4(-0.109220661222935,-0.185822308063507,0.004564404487610,-0.010372893884778,0.184363409876823,0.005842708051205,-0.007912185974419,-0.002025552559644,-0.062370643019676,-0.058162845671177,0.041557095944881,-0.006093035917729,0.113648600876331,0.101580031216145,-0.027180291712284,0.004630037117749));
res += mul(Get(s1,dx,0), float4x4(0.012103122659028,0.114343285560608,0.078702107071877,-0.008040603250265,-0.087645895779133,-0.080254681408405,0.026829415932298,-0.008963621221483,-0.023472469300032,0.106706589460373,0.072057753801346,0.006888792384416,-0.027474047616124,-0.063057109713554,-0.020280409604311,-0.012373589910567));
res += mul(Get(s1,dx,dy), float4x4(0.120548397302628,0.073724642395973,-0.038832124322653,0.012019574642181,0.044315945357084,0.123858697712421,0.037528909742832,0.015692248940468,0.022549137473106,0.079353295266628,-0.003794606775045,0.005522259511054,-0.012223305180669,0.003166607813910,0.029819272458553,0.012849748134613));
res += mul(Get(s2,-dx,-dy), float4x4(-0.020680125802755,-0.091021664440632,-0.020456207916141,0.002502925461158,-0.000068880835897,0.020615475252271,0.044866140931845,-0.006126379594207,0.008950041607022,-0.050515599548817,0.027784556150436,-0.005578326992691,0.002594810212031,0.052885632961988,-0.008701172657311,0.004105743020773));
res += mul(Get(s2,-dx,0), float4x4(0.100782662630081,-0.007246312685311,0.020450998097658,-0.003006464568898,0.077314764261246,0.118947997689247,-0.002279011998326,0.001739854225889,0.063870146870613,0.081022441387177,0.011355500668287,-0.002076645847410,-0.020295687019825,0.010035168379545,0.050715636461973,-0.001713883946650));
res += mul(Get(s2,-dx,dy), float4x4(0.052463661879301,0.046075660735369,0.008125623688102,-0.007723509799689,-0.104537405073643,-0.065908133983612,0.004788718651980,-0.007784449029714,-0.051839571446180,-0.020493002608418,0.000517598644365,-0.001146050984971,0.094140343368053,0.025354256853461,0.015154475346208,0.001401161309332));
res += mul(Get(s2,0,-dy), float4x4(-0.033938743174076,-0.038088440895081,0.085722036659718,-0.007253340445459,-0.022970758378506,0.031014384701848,0.003630061866716,0.001782042672858,0.043612360954285,0.019458282738924,0.033106878399849,-0.009522944688797,0.122863538563251,0.055012539029121,0.012449676170945,-0.002009718213230));
res += mul(Get(s2,0,0), float4x4(0.051293842494488,0.188811048865318,0.070971451699734,0.006855545099825,0.078619584441185,0.080590754747391,-0.042747545987368,0.016293095424771,0.027212619781494,0.078756287693977,-0.021705718711019,0.012791844084859,-0.037957616150379,-0.014667814597487,0.030507510527968,-0.004951159004122));
res += mul(Get(s2,0,dy), float4x4(-0.055672481656075,0.036816459149122,-0.000448411330581,-0.001160126994364,-0.061294272542000,-0.110219627618790,-0.003630231367424,-0.006760872434825,-0.060650479048491,-0.058329466730356,-0.003605541074648,-0.015942595899105,-0.010672871023417,0.051478251814842,0.026569547131658,-0.014504321850836));
res += mul(Get(s2,dx,-dy), float4x4(-0.021612541750073,0.025842649862170,0.021157493814826,0.003330306150019,0.039702821522951,0.015237516723573,0.005177795421332,0.003186332527548,0.051945988088846,0.077379189431667,0.011639701202512,0.009084604680538,0.074519358575344,0.101103201508522,0.042945861816406,-0.009600758552551));
res += mul(Get(s2,dx,0), float4x4(0.048852313309908,0.067393623292446,-0.049063116312027,-0.003793634474277,0.048348195850849,0.038232613354921,-0.013642841018736,-0.001030925079249,0.018263898789883,0.007252621930093,-0.028003394603729,0.008559122681618,0.051954887807369,0.043412595987320,0.000761986302678,0.017147559672594));
res += mul(Get(s2,dx,dy), float4x4(0.018464054912329,-0.113121733069420,-0.003633498447016,-0.007023425307125,-0.015273530967534,-0.046976484358311,0.026478562504053,0.001509002642706,-0.034449327737093,-0.069245226681232,0.021972317248583,-0.002715573413298,-0.046559516340494,-0.036925394088030,0.005792499985546,0.012237962335348));
res += mul(Get(s3,-dx,-dy), float4x4(0.021093662828207,0.050681877881289,0.023881839588284,-0.004098587669432,0.097678475081921,0.071435406804085,0.010387110523880,0.001781272352673,0.009422639384866,0.006036236882210,-0.041914314031601,-0.004267702344805,-0.005822475533932,0.051813755184412,-0.008133242838085,0.001420353306457));
res += mul(Get(s3,-dx,0), float4x4(0.108417056500912,0.076242327690125,0.009209335781634,0.020288700237870,0.076407007873058,0.036793503910303,-0.016456576064229,0.000269057956757,0.031823940575123,0.056761149317026,-0.032703835517168,0.019879952073097,-0.152329012751579,0.025800345465541,0.037790738046169,-0.002145470352843));
res += mul(Get(s3,-dx,dy), float4x4(-0.042929373681545,-0.011451744474471,-0.001939096953720,-0.000792301201727,0.088205575942993,0.065680287778378,-0.008750297129154,0.014391192235053,0.014306862838566,0.000901048420928,-0.033475015312433,-0.008228719234467,0.076445043087006,0.088929340243340,0.058171253651381,-0.009126378223300));
res += mul(Get(s3,0,-dy), float4x4(-0.039450623095036,0.006817293353379,0.055041998624802,-0.007374222390354,0.083129301667213,0.080834180116653,0.033867288380861,0.008611182682216,0.077555760741234,0.022699406370521,0.027728255838156,0.009368379600346,0.158556297421455,0.051421832293272,-0.024537747725844,-0.001356801367365));
res += mul(Get(s3,0,0), float4x4(0.176215067505836,0.228813901543617,0.083622366189957,-0.004875137470663,0.151874125003815,0.063133634626865,-0.013951330445707,-0.005565422587097,0.237518578767776,0.099000476300716,-0.023113247007132,-0.001593442866579,-0.013739000074565,-0.092150226235390,-0.055360913276672,-0.011729561723769));
res += mul(Get(s3,0,dy), float4x4(-0.070767425000668,-0.003526048967615,0.025906849652529,-0.004271007142961,0.084888443350792,0.057478692382574,-0.003520222846419,0.008309490047395,-0.043107476085424,-0.074054524302483,-0.043572295457125,-0.013709560036659,-0.072545193135738,-0.033591028302908,-0.009679676033556,-0.008414788171649));
res += mul(Get(s3,dx,-dy), float4x4(0.044655777513981,-0.004132928326726,0.005096413660794,0.002950775437057,0.031892340630293,-0.010671565309167,-0.006419919431210,0.002201511524618,-0.036075696349144,-0.057566296309233,0.033470518887043,0.001403373084031,-0.059363320469856,0.041753228753805,0.039705835282803,-0.012091622687876));
res += mul(Get(s3,dx,0), float4x4(0.103170968592167,0.172303244471550,-0.004975291434675,0.005675212480128,0.012803531251848,0.072465986013412,0.016444481909275,0.019435578957200,0.128172338008881,0.135537907481194,0.017576688900590,0.028863819316030,0.136146277189255,0.076639741659164,-0.011028491891921,-0.005268178414553));
res += mul(Get(s3,dx,dy), float4x4(-0.040745470672846,-0.041537608951330,-0.005811357870698,-0.003506295150146,0.097386352717876,0.102620959281921,0.006585933733732,0.024198601022363,0.014394394122064,-0.000512554775923,0.009246665053070,0.022304397076368,0.027034595608711,-0.033730763942003,-0.001791182439774,-0.015837533399463));
return max(float4(0,0,0,0), res);
}
