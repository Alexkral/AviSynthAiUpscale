sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.051797874271870,0.028172265738249,-0.001083643757738,0.018292840570211,0.052312474697828,0.004109804984182,-0.024795083329082,-0.022427301853895,-0.008492414839566,0.007882411591709,-0.001627865247428,-0.029616450890899,0.064783863723278,-0.058446731418371,0.018141739070415,0.019775254651904));
res += mul(Get(s0,-dx,0), float4x4(0.030420616269112,-0.012584093026817,0.030679086223245,-0.000878942606505,0.035198651254177,-0.044604320079088,-0.003328576451167,0.011572082526982,0.015598509460688,0.032491385936737,0.008923125453293,0.035098455846310,-0.001739817787893,0.011096281930804,-0.067849695682526,-0.009764024987817));
res += mul(Get(s0,-dx,dy), float4x4(0.015877878293395,-0.024933980777860,-0.020631646737456,0.014223404228687,0.003202828578651,0.005995065905154,-0.016696138307452,0.028822930529714,0.010404553264380,0.013038257136941,-0.013092402368784,-0.004344202112406,-0.052134215831757,-0.016848700121045,-0.018333178013563,0.000727233360521));
res += mul(Get(s0,0,-dy), float4x4(0.014586376957595,0.013337463140488,-0.013589472509921,0.001585041522048,0.002251722151414,0.005041022319347,-0.011366898193955,0.001257702591829,-0.027167625725269,-0.002314452081919,0.012764872983098,-0.044011369347572,-0.010735285468400,-0.012019091285765,-0.057915985584259,-0.007374897133559));
res += mul(Get(s0,0,0), float4x4(0.015232820995152,-0.013842929154634,0.032655995339155,-0.013754658401012,-0.009743185713887,-0.011362494900823,0.048445183783770,-0.020705962553620,0.029272813349962,0.013264244422317,0.058811832219362,0.019927926361561,-0.008748995140195,-0.030130235478282,0.025772307068110,-0.008974954485893));
res += mul(Get(s0,0,dy), float4x4(0.032714664936066,-0.031671147793531,0.036976665258408,0.018998688086867,-0.018220257014036,0.060197964310646,-0.010838466696441,-0.001998015446588,-0.006862391252071,0.009298713877797,0.012872885912657,0.015932569280267,-0.036282569169998,-0.026207158342004,0.047143373638391,-0.006766755599529));
res += mul(Get(s0,dx,-dy), float4x4(0.027031166478992,0.015240074135363,0.049144648015499,-0.002013851655647,0.031635850667953,0.031503561884165,-0.070185117423534,-0.005226109642535,-0.018216969445348,0.024075232446194,0.027438415214419,-0.047475729137659,0.030187996104360,0.033371403813362,-0.036608312278986,-0.002329877112061));
res += mul(Get(s0,dx,0), float4x4(0.025251632556319,0.037450950592756,-0.000054254542192,-0.032118685543537,0.035078100860119,0.065151892602444,-0.020675316452980,-0.013034250587225,-0.021009841933846,0.003096093423665,-0.009410209022462,0.008106933906674,0.045006137341261,0.063890919089317,0.046661876142025,0.020381666719913));
res += mul(Get(s0,dx,dy), float4x4(0.008463895879686,-0.006133132148534,-0.004680300131440,0.030975012108684,-0.029956141486764,0.006836302112788,-0.016770098358393,-0.027328636497259,-0.035597100853920,0.020079499110579,-0.004435240756720,-0.001579174422659,-0.006737831979990,0.008259287104011,0.019478868693113,0.010887590236962));
res += mul(Get(s1,-dx,-dy), float4x4(0.073893837630749,-0.055880505591631,-0.023529879748821,-0.016397563740611,-0.007481689099222,-0.035115074366331,-0.005155840422958,-0.021915819495916,-0.003212991869077,0.012821206822991,-0.007621494587511,0.013604646548629,0.016657870262861,0.007029064930975,-0.051847826689482,-0.020774019882083));
res += mul(Get(s1,-dx,0), float4x4(0.016131879761815,0.019330652430654,-0.002032208023593,-0.017196588218212,-0.056222375482321,-0.068007566034794,-0.048772402107716,-0.022552425041795,0.026758674532175,0.024764722213149,-0.009028346277773,0.001725694397464,0.027095507830381,-0.044028107076883,-0.059250306338072,0.021210767328739));
res += mul(Get(s1,-dx,dy), float4x4(0.000601372215897,-0.052698273211718,-0.003602720797062,0.002496805274859,-0.056519031524658,-0.037364751100540,-0.043770652264357,0.016085660085082,0.016406755894423,-0.007174959871918,-0.035820953547955,0.027947792783380,0.021141266450286,-0.042375758290291,-0.014996616169810,0.024378964677453));
res += mul(Get(s1,0,-dy), float4x4(-0.027601821348071,-0.044674206525087,-0.002446032594889,0.009851893410087,0.004766946658492,-0.027422653511167,0.008230301551521,-0.027577137574553,-0.017139084637165,-0.019360003992915,-0.001033078064211,0.007620227057487,0.007076727692038,-0.004681017715484,0.077296003699303,-0.046217158436775));
res += mul(Get(s1,0,0), float4x4(-0.003225871827453,-0.001067732111551,-0.001052430947311,0.006728439126164,0.002673072274774,-0.000454090913991,0.077232994139194,-0.038216315209866,0.009379323571920,0.035348203033209,-0.033323142677546,0.010948159731925,-0.023788873106241,-0.034072548151016,-0.016319312155247,0.014922447502613));
res += mul(Get(s1,0,dy), float4x4(0.045149754732847,-0.047188837081194,0.010418456047773,0.027959594503045,-0.055594991892576,0.018043205142021,-0.011906554922462,0.004040487576276,-0.001306315069087,-0.012810962274671,-0.013038817793131,0.042687661945820,-0.001957044936717,0.034097045660019,-0.047560553997755,0.017591889947653));
res += mul(Get(s1,dx,-dy), float4x4(-0.017950918525457,-0.004724794533104,0.030246887356043,-0.007582812104374,0.045718040317297,-0.001218299381435,-0.030996721237898,-0.003887062193826,-0.024126529693604,0.010283131152391,-0.012854029424489,0.016406176611781,-0.020178969949484,-0.017462437972426,0.036986503750086,-0.014674774371088));
res += mul(Get(s1,dx,0), float4x4(-0.011974547989666,-0.010384166613221,0.018926691263914,0.003657890483737,0.025273174047470,0.026192398741841,0.047760169953108,-0.029576646164060,-0.024833889678121,0.009578016586602,-0.029167897999287,0.028568090870976,-0.039829373359680,-0.069078132510185,-0.079476960003376,-0.005026735831052));
res += mul(Get(s1,dx,dy), float4x4(0.013439349830151,-0.021035224199295,-0.014574761502445,0.033593580126762,-0.063037462532520,0.019281042739749,-0.058796916157007,-0.016376815736294,-0.006703769788146,-0.023534469306469,-0.062077119946480,-0.004355766810477,-0.025502985343337,0.018320614472032,-0.039147526025772,-0.032745778560638));
res += mul(Get(s2,-dx,-dy), float4x4(-0.044507578015327,-0.027851402759552,-0.028360174968839,0.013092683628201,-0.023583052679896,-0.019742222502828,-0.014635277912021,0.005027569830418,-0.042870022356510,0.006302661262453,-0.008833135478199,-0.001275373040698,0.020847851410508,0.017169028520584,-0.017091574147344,-0.006449772976339));
res += mul(Get(s2,-dx,0), float4x4(-0.006709063891321,0.008690365590155,0.050190187990665,-0.019022343680263,0.023861756548285,-0.000824928749353,0.001820019446313,-0.019593916833401,-0.000385414023185,-0.006669799331576,-0.022657595574856,0.007632327266037,0.020784536376595,-0.069356426596642,-0.016693761572242,0.001153970486484));
res += mul(Get(s2,-dx,dy), float4x4(0.044219095259905,0.001532105496153,0.025585737079382,0.018562212586403,-0.020139837637544,0.035705029964447,-0.039436776190996,0.024507533758879,-0.011858117766678,0.004838826600462,0.000711834698450,0.011621820740402,-0.016793463379145,-0.039797030389309,-0.005916548892856,-0.015318411402404));
res += mul(Get(s2,0,-dy), float4x4(-0.015943309292197,-0.002840197645128,0.025342425331473,-0.003995571285486,-0.045274276286364,-0.018645081669092,-0.021391421556473,0.008306878618896,0.009496930055320,0.012457186356187,-0.028293034061790,-0.024382596835494,0.013835707679391,-0.025783939287066,-0.025363931432366,-0.009612229652703));
res += mul(Get(s2,0,0), float4x4(0.030655713751912,-0.006363687105477,0.027744937688112,-0.029225757345557,-0.015309430658817,0.003838827833533,-0.009234747849405,-0.019784417003393,0.007040285505354,-0.016225963830948,-0.012668245472014,0.019212653860450,-0.031017327681184,0.024805035442114,0.070179566740990,0.002979211742058));
res += mul(Get(s2,0,dy), float4x4(-0.013080482371151,0.023768322542310,-0.001157819875516,-0.000968944106717,-0.013042607344687,0.037679105997086,-0.007865700870752,0.011626396328211,0.019006729125977,0.016462501138449,0.023004902526736,0.002686667721719,-0.027080092579126,0.007365843746811,-0.022424735128880,-0.035107284784317));
res += mul(Get(s2,dx,-dy), float4x4(-0.030095437541604,0.049236860126257,0.003348808502778,-0.042326971888542,0.000564765650779,0.014269727282226,-0.013447854667902,0.015410216525197,0.000865219917614,-0.013697957620025,-0.002220024820417,-0.010492986999452,0.007547405082732,0.008104158565402,-0.000973704038188,0.012264268472791));
res += mul(Get(s2,dx,0), float4x4(0.015827195718884,-0.002454828238115,0.024657847359776,-0.024911575019360,0.010763903148472,0.029379030689597,-0.017886407673359,0.001538450713269,0.011809398420155,-0.006472986657172,-0.009744866751134,-0.005749186035246,-0.030982926487923,0.020291700959206,0.031325303018093,-0.016981502994895));
res += mul(Get(s2,dx,dy), float4x4(-0.010719555430114,-0.024726901203394,0.005573135800660,0.013617173768580,0.005929904524237,0.015365299768746,-0.011897611431777,0.028370592743158,-0.026726232841611,0.000996023765765,-0.005684728734195,-0.016516910865903,-0.005410745739937,0.028465270996094,-0.067646056413651,-0.006193739827722));
res += mul(Get(s3,-dx,-dy), float4x4(0.022907262668014,0.031254369765520,-0.019458008930087,0.005848788190633,-0.038920611143112,-0.005865708459169,-0.004172759130597,-0.002059493446723,-0.025511818006635,0.037352688610554,-0.033784292638302,0.007311366032809,-0.000405718310503,0.023490831255913,-0.001334096770734,0.009215802885592));
res += mul(Get(s3,-dx,0), float4x4(0.016339665278792,-0.025954995304346,0.041776590049267,0.004368677269667,0.004869634751230,0.018638230860233,-0.037660598754883,-0.018847553059459,-0.018638959154487,0.001845385297202,0.073802746832371,0.015647508203983,-0.035559922456741,-0.038423590362072,-0.078945636749268,-0.019641498103738));
res += mul(Get(s3,-dx,dy), float4x4(-0.016692819073796,0.020549096167088,0.002563170623034,0.021503861993551,0.002607441041619,0.012925283983350,0.005666953511536,0.050276249647141,0.006222676485777,-0.060947760939598,0.013217183761299,0.011603522114456,-0.023808628320694,0.014647146686912,-0.014287948608398,0.016612591221929));
res += mul(Get(s3,0,-dy), float4x4(0.006447983905673,0.010957702994347,0.001386760966852,0.011363676749170,0.003581504803151,-0.008228427730501,0.019955020397902,-0.002814041217789,-0.045912966132164,-0.012544238008559,-0.054186489433050,-0.004621167201549,-0.000766247336287,0.051345568150282,-0.017963021993637,0.005177385173738));
res += mul(Get(s3,0,0), float4x4(-0.001851889770478,-0.027451047673821,0.006943619344383,0.012885030359030,0.005820333957672,-0.009588499553502,-0.007599346339703,0.016323192045093,-0.039980184286833,-0.000076663054642,-0.012473328970373,-0.017086287960410,-0.004373922012746,-0.001577518996783,0.042266085743904,0.019325286149979));
res += mul(Get(s3,0,dy), float4x4(0.023886250331998,0.032500766217709,0.018105328083038,-0.016261873766780,-0.005279957782477,0.020042151212692,0.001259518438019,0.036541093140841,-0.099699132144451,-0.048609215766191,-0.047728002071381,-0.010790855623782,-0.021498983725905,0.018460236489773,-0.001682285685092,-0.018077053129673));
res += mul(Get(s3,dx,-dy), float4x4(0.017045224085450,0.000844398280606,0.055670388042927,0.020156379789114,-0.005034516099840,0.034994903951883,0.016936548054218,0.017933901399374,-0.032728649675846,0.017798148095608,-0.073697887361050,-0.014443520456553,0.035764269530773,0.054389402270317,-0.029339848086238,-0.010061909444630));
res += mul(Get(s3,dx,0), float4x4(0.024938045069575,-0.020787393674254,-0.002849992364645,0.017637440934777,0.021785020828247,0.003437624778599,-0.012907883152366,-0.011075591668487,0.017752123996615,-0.021423447877169,0.017409613355994,-0.017807869240642,-0.016506673768163,0.017335791140795,0.009854216128588,0.015744848176837));
res += mul(Get(s3,dx,dy), float4x4(-0.022648496553302,0.013487285003066,0.002455879468471,-0.019482031464577,-0.000175848283106,-0.019487176090479,-0.021477028727531,-0.004631439223886,0.015472535043955,-0.009476919658482,0.036059394478798,-0.011987538076937,-0.006690870039165,-0.000020313382265,0.015613718889654,0.005080620292574));
return max(float4(0,0,0,0), res);
}
