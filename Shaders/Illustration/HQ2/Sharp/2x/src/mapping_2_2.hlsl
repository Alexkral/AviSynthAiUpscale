sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.027138471603394,-0.005410900805146,-0.003647500881925,0.047159224748611,0.032067138701677,0.007496870122850,0.027511294931173,-0.008788603357971,-0.018141923472285,0.007397416513413,-0.012910960242152,0.095263332128525,-0.035638373345137,0.047145605087280,-0.088968612253666,0.136226162314415));
res += mul(Get(s0,-dx,0), float4x4(0.020448099821806,0.023687601089478,-0.034434124827385,0.037574134767056,0.007204649504274,0.026301393285394,0.011463075876236,-0.015826027840376,0.036113500595093,0.021993175148964,0.070336878299713,0.149740234017372,0.066965110599995,0.057719673961401,0.099458210170269,0.126557797193527));
res += mul(Get(s0,-dx,dy), float4x4(-0.003730464261025,0.001598757924512,-0.003554900642484,-0.026451917365193,-0.007963193580508,0.006389955524355,-0.027183407917619,0.034413244575262,-0.076878994703293,-0.017134262248874,0.039828006178141,0.043440476059914,0.043749947100878,-0.020991954952478,0.159469574689865,0.085096754133701));
res += mul(Get(s0,0,-dy), float4x4(0.044298607856035,0.000311904441332,0.018005492165685,0.028148304671049,0.001834454713389,0.010907637886703,0.028404641896486,0.005802372004837,-0.015081717632711,0.073067925870419,-0.021960690617561,0.009165901690722,0.042329765856266,0.131525993347168,-0.025579048320651,-0.039934739470482));
res += mul(Get(s0,0,0), float4x4(-0.002249280689284,0.049945995211601,-0.000845905044116,0.022756878286600,-0.007912888191640,0.016316356137395,0.024757977575064,-0.019754581153393,-0.006419301033020,0.047111723572016,0.015385384671390,-0.036940325051546,-0.052763845771551,0.088854782283306,-0.067216068506241,-0.178122252225876));
res += mul(Get(s0,0,dy), float4x4(0.011335255578160,0.008097513578832,-0.007041589356959,-0.023920774459839,-0.001103779301047,0.000877081649378,-0.012583640404046,0.045304451137781,-0.045626245439053,-0.084651090204716,-0.020664155483246,0.065381422638893,0.007399814203382,-0.138133794069290,-0.014241140335798,-0.025112058967352));
res += mul(Get(s0,dx,-dy), float4x4(0.012080097571015,0.038471415638924,-0.015520632266998,-0.011988571844995,0.001154568279162,0.002964816754684,0.029551126062870,-0.004138445947319,-0.037202674895525,0.058061227202415,-0.018811214715242,-0.034353174269199,-0.026453509926796,0.032247792929411,-0.053818322718143,0.006193797104061));
res += mul(Get(s0,dx,0), float4x4(-0.006599091924727,0.001428414019756,0.007555788382888,0.013860004954040,0.029451256617904,0.014247054234147,0.028633490204811,-0.017884833738208,-0.029928280040622,-0.038507830351591,0.049793619662523,-0.094887845218182,-0.069238804280758,-0.062505297362804,0.034890931099653,-0.033553302288055));
res += mul(Get(s0,dx,dy), float4x4(0.020557992160320,0.006301535759121,-0.008006866090000,0.017842911183834,-0.002552323276177,0.003374658292159,-0.019383987411857,0.037165354937315,0.002998520387337,-0.098119735717773,-0.010779969394207,-0.044516906142235,0.088071778416634,-0.180524647235870,0.042817767709494,-0.030797675251961));
res += mul(Get(s1,-dx,-dy), float4x4(-0.002030849223956,0.001291397144087,0.000825873983558,-0.033543162047863,0.016959065571427,0.021528718993068,0.004301110282540,0.015398633666337,0.012927893549204,-0.006614432670176,-0.030008347705007,-0.069117315113544,-0.012523303739727,-0.002452556276694,0.026086675003171,0.006578347180039));
res += mul(Get(s1,-dx,0), float4x4(-0.001462414744310,-0.010286407545209,-0.006009794771671,-0.001869915984571,0.006804422941059,0.023866098374128,-0.008322994224727,0.030306857079268,0.020728807896376,-0.006459595635533,-0.007696127984673,-0.066210322082043,0.013220157474279,-0.002011558739468,0.002763557946309,0.011868843808770));
res += mul(Get(s1,-dx,dy), float4x4(0.011694195680320,0.001770156784914,-0.005822466686368,0.001737921615131,0.005376956425607,-0.021184451878071,-0.009184774942696,-0.004194052424282,0.022382762283087,-0.010417551733553,0.012363930232823,-0.057246275246143,0.000761151488405,0.004071118310094,-0.007370950654149,-0.011669175699353));
res += mul(Get(s1,0,-dy), float4x4(-0.001642561284825,0.001249335356988,-0.001404582755640,0.008251372724771,0.001985902432352,0.005246562417597,-0.016177330166101,0.033333078026772,0.018400119617581,-0.009067214094102,-0.028211256489158,0.008995547890663,-0.015724161639810,-0.000473640480777,-0.005744082853198,0.018872067332268));
res += mul(Get(s1,0,0), float4x4(0.007142399437726,0.000158242808538,-0.020274620503187,-0.005883783102036,-0.005934176035225,0.031667947769165,0.013394386507571,0.027136389166117,0.021693890914321,0.011872033588588,0.001291309483349,0.022921711206436,0.004273967817426,0.046938914805651,-0.001963690854609,0.002664278028533));
res += mul(Get(s1,0,dy), float4x4(0.001028184429742,0.006078795529902,0.004813679959625,0.002448291983455,0.000254920742009,-0.003658940084279,-0.016532696783543,0.006299274973571,0.008668033406138,0.007068267557770,0.010376073420048,0.005956504493952,0.031546175479889,0.029023798182607,0.007801809348166,0.006357326172292));
res += mul(Get(s1,dx,-dy), float4x4(-0.002903345506638,-0.006674424745142,-0.014721313491464,0.001927810022607,0.008263012394309,0.020261613652110,-0.014262431301177,-0.021751107648015,-0.001992953708395,0.022772036492825,-0.012226670980453,0.019210217520595,0.022458879277110,0.007274666801095,0.005372697021812,0.023476338014007));
res += mul(Get(s1,dx,0), float4x4(-0.003470116294920,0.019657399505377,-0.008154241368175,0.010544594377279,-0.009714709594846,0.000638526515104,0.000446308898972,-0.017362650483847,0.000192138555576,-0.004983446560800,-0.010433191433549,-0.012445176020265,0.017382910475135,0.036812003701925,0.006497741676867,0.026681849732995));
res += mul(Get(s1,dx,dy), float4x4(0.000424866564572,0.010057931765914,-0.011509010568261,-0.026172965764999,0.018302429467440,-0.008317460305989,-0.007160700857639,-0.003239907091483,0.006984954699874,-0.012614529579878,0.020058538764715,-0.005224864929914,-0.021700756624341,0.026864612475038,0.011520271189511,-0.003476220648736));
res += mul(Get(s2,-dx,-dy), float4x4(0.009987723082304,0.024378823116422,0.022139517590404,-0.025521775707603,-0.009492254815996,0.010712819173932,0.002950697205961,0.024781366810203,0.003053102409467,0.002448570216075,-0.008220478892326,0.041955705732107,0.006284402217716,0.023904483765364,0.013142809271812,0.011686032637954));
res += mul(Get(s2,-dx,0), float4x4(-0.029342714697123,0.027426537126303,-0.013833563774824,-0.004972354043275,0.024999778717756,0.005775325931609,-0.048513855785131,0.049291204661131,-0.013161266222596,0.007133765146136,-0.002997478935868,0.017845831811428,-0.006664497777820,0.006988516543061,0.013113812543452,0.012551892548800));
res += mul(Get(s2,-dx,dy), float4x4(-0.002967301057652,-0.002384127583355,-0.014714335091412,-0.002612313721329,0.011170524172485,0.023446574807167,-0.024310724809766,-0.021061092615128,0.013155581429601,0.006805943325162,0.017332531511784,0.031626421958208,0.019568670541048,0.020053565502167,0.003499563317746,0.019670277833939));
res += mul(Get(s2,0,-dy), float4x4(-0.008755299262702,0.022569056600332,0.031333096325397,0.001752069569193,0.042100824415684,0.031427912414074,-0.016926396638155,0.004221670795232,0.000637261255179,-0.002464780118316,-0.030274914577603,0.026304420083761,0.002186871133745,-0.020189682021737,0.018135111778975,0.021679155528545));
res += mul(Get(s2,0,0), float4x4(-0.012810428626835,0.026467924937606,0.008609483018517,0.081468611955643,-0.006453052163124,0.003029766958207,-0.033995103091002,0.004850931465626,0.014469751156867,-0.006961940787733,-0.003204066073522,0.017115522176027,0.028026459738612,0.032705023884773,-0.022338012233377,0.017688825726509));
res += mul(Get(s2,0,dy), float4x4(-0.009180626831949,0.045382570475340,-0.002471495652571,0.067284248769283,0.019426235929132,-0.007623602170497,-0.028662988916039,-0.029442587867379,0.022647380828857,0.018266594037414,0.013679529540241,0.009859725832939,0.005470717325807,0.019817112013698,-0.000646547123324,0.003483992069960));
res += mul(Get(s2,dx,-dy), float4x4(0.013590533286333,0.004887205082923,0.040936227887869,0.002403339138255,0.005579310934991,0.026929847896099,0.031641416251659,0.002944995416328,0.010340927168727,0.017897384241223,0.009585957974195,0.052454400807619,0.003854808164760,0.019865326583385,0.027966257184744,0.051529195159674));
res += mul(Get(s2,dx,0), float4x4(0.008996707387269,0.003058134345338,0.010722329840064,0.034790433943272,0.018658041954041,-0.015928685665131,-0.033236186951399,0.009949204511940,0.021264033392072,0.029755571857095,-0.007648635189980,0.029855554923415,0.025214470922947,0.023557472974062,-0.016839774325490,0.046398155391216));
res += mul(Get(s2,dx,dy), float4x4(0.002218126086518,0.032611392438412,-0.007306606974453,0.050639387220144,0.038527350872755,0.010659806430340,-0.045791018754244,0.023037949576974,0.011430749669671,0.023381294682622,0.030875835567713,0.038348201662302,-0.011376926675439,0.029302433133125,-0.004197682254016,-0.001183879678138));
res += mul(Get(s3,-dx,-dy), float4x4(0.006540670525283,0.014089556410909,-0.003337244037539,0.030558180063963,-0.009032215923071,0.007447477895766,0.015675246715546,-0.016985327005386,0.008582673966885,0.012633588165045,-0.015002272091806,-0.023892840370536,-0.003725126618519,-0.002066535176709,-0.002702098572627,0.001956472638994));
res += mul(Get(s3,-dx,0), float4x4(-0.006450302433223,0.016598010435700,-0.018988085910678,-0.012730749323964,0.000690111715812,0.005525206681341,0.021745946258307,-0.012215287424624,0.004810634534806,-0.006670111790299,-0.026620429009199,-0.024158773943782,0.023235348984599,0.003319120034575,0.002312616445124,0.028100874274969));
res += mul(Get(s3,-dx,dy), float4x4(0.025706481188536,-0.007004506420344,0.002815587213263,0.002180156763643,-0.010288896970451,-0.003166229696944,0.006200796924531,-0.027206309139729,0.031252857297659,0.003705513197929,0.005369320046157,0.003140061628073,0.011962837539613,0.013378890231252,0.022384034469724,-0.013198396191001));
res += mul(Get(s3,0,-dy), float4x4(0.018995162099600,0.013060414232314,0.015657247975469,0.007121553178877,0.017421100288630,0.026829423382878,-0.003749405499548,0.005848175380379,0.005413823761046,0.012577903456986,-0.014834542758763,0.055291105061769,0.016953790560365,0.032894574105740,-0.012179444544017,0.078107863664627));
res += mul(Get(s3,0,0), float4x4(-0.005443872883916,0.010933496989310,-0.001639297581278,0.027436185628176,0.008621168322861,0.026882084086537,-0.002634494798258,-0.011418597772717,0.012437578290701,0.028574159368873,-0.026451230049133,0.010922766290605,0.011839102953672,0.037990707904100,0.025548933073878,0.020185118541121));
res += mul(Get(s3,0,dy), float4x4(0.000514472892974,0.009447760879993,-0.008353889919817,0.012555544264615,0.016945285722613,0.027446744963527,0.002566872164607,0.032172065228224,0.004044485744089,0.046407889574766,-0.000133327106596,-0.015088031068444,-0.010877905413508,-0.006362952291965,0.027954069897532,0.018548475578427));
res += mul(Get(s3,dx,-dy), float4x4(-0.001678439555690,0.001516905263998,-0.011072734370828,0.001149938907474,-0.018552439287305,0.027513284236193,0.004865213297307,0.004177414346486,-0.010541108436882,0.008247188292444,0.011409059166908,0.106292679905891,0.028703723102808,0.011654708534479,-0.017343331128359,0.009366256184876));
res += mul(Get(s3,dx,0), float4x4(-0.006699036341161,0.005695088766515,-0.015841927379370,0.006475011818111,0.017303474247456,0.025373853743076,-0.019364761188626,0.006988902110606,-0.011087989434600,0.044687200337648,-0.003689439501613,0.042897067964077,0.009508447721601,-0.012835276313126,0.008083629421890,-0.002131983637810));
res += mul(Get(s3,dx,dy), float4x4(-0.009522550739348,0.011909455992281,0.000878309190739,-0.008394069969654,0.030829543247819,0.040211442857981,0.018138481304049,0.033598832786083,0.000973080750555,0.010861651040614,-0.029832962900400,-0.011573191732168,0.029743382707238,-0.032518401741982,0.031276039779186,0.015172156505287));
return max(float4(0,0,0,0), res);
}
