sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.010845196433365,-0.037373956292868,0.009535191580653,0.024729011580348,-0.017007365822792,0.013807704672217,-0.004009338095784,-0.030862828716636,-0.020344147458673,-0.004986554384232,-0.006443723570555,-0.037646465003490,0.015208389610052,-0.015345848165452,0.007625097408891,-0.008310285396874));
res += mul(Get(s0,-dx,0), float4x4(0.011360756121576,0.030063109472394,0.024806350469589,-0.007567990105599,-0.010579134337604,0.010361399501562,0.022356385365129,0.014457372948527,0.022387549281120,-0.036483101546764,0.013604092411697,-0.020254051312804,0.032827503979206,-0.008355659432709,-0.015022206120193,-0.001092955819331));
res += mul(Get(s0,-dx,dy), float4x4(0.011745404452085,0.007331450004131,0.020604234188795,0.047401025891304,-0.035934217274189,-0.018568964675069,-0.004361052531749,-0.005785441957414,0.042169537395239,-0.000843838322908,-0.004276280757040,0.035260099917650,0.001209932728671,0.025799103081226,-0.020426906645298,0.001378908869810));
res += mul(Get(s0,0,-dy), float4x4(0.003974576480687,0.029313169419765,-0.025679342448711,0.019967269152403,-0.023292297497392,-0.017010729759932,-0.011040994897485,0.050201535224915,-0.017417702823877,-0.013177159242332,0.005238518584520,0.032694831490517,0.001080662827007,0.003809924703091,-0.054325863718987,0.040028329938650));
res += mul(Get(s0,0,0), float4x4(0.003321481635794,0.029126288369298,-0.032240442931652,-0.001833216403611,-0.037297669798136,-0.005009670741856,-0.003990759141743,-0.045081317424774,-0.022506818175316,0.009885149076581,0.016681356355548,-0.024977331981063,0.028423191979527,-0.035624198615551,0.026406269520521,-0.042394720017910));
res += mul(Get(s0,0,dy), float4x4(0.026767946779728,-0.023358847945929,0.007295138668269,0.039442203938961,0.038071099668741,0.034495696425438,-0.029465321451426,0.031163107603788,-0.030557639896870,-0.011930708773434,0.000816577812657,0.007742093876004,-0.047874633222818,0.000475545937661,0.021324522793293,0.015813035890460));
res += mul(Get(s0,dx,-dy), float4x4(-0.019525846466422,0.016179472208023,0.018120456486940,0.023893529549241,0.030943814665079,0.004586395341903,-0.016269411891699,-0.061310630291700,0.010250044055283,0.003170533105731,0.020883241668344,-0.015701049938798,-0.006542551331222,-0.031847316771746,-0.030775381252170,-0.004855763167143));
res += mul(Get(s0,dx,0), float4x4(-0.027321284636855,0.007999602705240,-0.001490630209446,0.009019527584314,-0.008396258577704,-0.023746432736516,0.008240933530033,-0.006098005454987,0.001294159796089,-0.046940546482801,-0.001044870470650,0.047596737742424,-0.018769377842546,-0.005900717340410,0.012180482037365,0.000215598120121));
res += mul(Get(s0,dx,dy), float4x4(-0.018308309838176,-0.042755495756865,-0.007280034013093,0.015645476058125,-0.004728672094643,0.004418113734573,0.012319739907980,-0.018721427768469,-0.027861122041941,-0.005529776215553,-0.025539455935359,-0.025703912600875,-0.009042337536812,-0.026644440367818,0.025502407923341,-0.006854251958430));
res += mul(Get(s1,-dx,-dy), float4x4(-0.007433209568262,-0.004404221661389,-0.038977239280939,0.019529519602656,-0.000461546529550,0.001381731126457,-0.037383392453194,-0.030517119914293,0.039453271776438,0.024844937026501,-0.026600427925587,-0.028375253081322,-0.027476981282234,0.017980961129069,0.021177995949984,0.035135742276907));
res += mul(Get(s1,-dx,0), float4x4(-0.008664824068546,0.033188857138157,0.013174729421735,-0.040691334754229,-0.029257833957672,0.025560040026903,0.002056825673208,-0.012452585622668,0.016484752297401,0.014572728425264,-0.001278930692933,0.040152564644814,0.028493482619524,0.033523283898830,0.017532050609589,-0.030546655878425));
res += mul(Get(s1,-dx,dy), float4x4(-0.022211704403162,-0.017332704737782,-0.013714940287173,0.042759507894516,-0.021154722198844,0.013436740264297,0.006209088489413,0.030659930780530,0.004278874024749,-0.000949799199589,0.005997874308378,0.011894273571670,0.007659427821636,-0.041659753769636,-0.002594680758193,-0.019792346283793));
res += mul(Get(s1,0,-dy), float4x4(0.004161852411926,0.007194188889116,-0.005492297001183,0.046046573668718,-0.004823171533644,0.035032823681831,-0.018960671499372,-0.019184002652764,-0.036601725965738,0.015962634235620,-0.016941368579865,0.007549599744380,-0.016660204157233,-0.029905868694186,-0.033908553421497,-0.020769983530045));
res += mul(Get(s1,0,0), float4x4(-0.001154782366939,-0.000793579150923,-0.046794250607491,0.029581446200609,0.019006058573723,0.008914618752897,-0.022477531805634,-0.043380361050367,0.019698878750205,0.023927535861731,-0.010118294507265,-0.003472582204267,-0.024964395910501,-0.015985505655408,-0.001049519749358,-0.007179626729339));
res += mul(Get(s1,0,dy), float4x4(0.025247603654861,0.010593224316835,-0.009237253107131,0.009475951083004,0.008315673097968,-0.059775099158287,0.023970976471901,0.041057236492634,-0.006580320186913,0.004837401211262,-0.000350976246409,0.028548605740070,-0.029881311580539,0.000998297240585,0.011398201808333,-0.070251315832138));
res += mul(Get(s1,dx,-dy), float4x4(0.016017191112041,0.025086535140872,-0.026913234964013,0.031148770824075,-0.006439065560699,0.027617270126939,-0.004383562598377,-0.005448889918625,0.022535825148225,-0.021508732810616,0.006090071517974,0.012700524181128,0.023816635832191,-0.059593942016363,0.016686143353581,-0.019874639809132));
res += mul(Get(s1,dx,0), float4x4(-0.036076508462429,0.016289919614792,-0.001851309672929,-0.001534097595140,0.008874416351318,0.006193957291543,-0.016616694629192,-0.066142834722996,-0.007065057288855,-0.012694352306426,-0.000610234332271,-0.035503309220076,0.034423619508743,-0.015722526237369,0.016664333641529,-0.006555331870914));
res += mul(Get(s1,dx,dy), float4x4(-0.036967784166336,-0.019911935552955,-0.001261362340301,0.024185206741095,0.016201773658395,0.005421405658126,0.012062022462487,0.035150643438101,-0.008085465058684,0.023224378004670,0.027199083939195,0.024750012904406,0.003075871849433,-0.002257468411699,-0.034531794488430,-0.004688637331128));
res += mul(Get(s2,-dx,-dy), float4x4(0.025338118895888,-0.035317886620760,-0.017177490517497,0.010250826366246,-0.026129359379411,0.033977504819632,0.007822069339454,-0.031016800552607,-0.002733377274126,-0.017512584105134,-0.003889655228704,0.018112158402801,-0.040642850100994,-0.030107229948044,0.005518713966012,0.016482263803482));
res += mul(Get(s2,-dx,0), float4x4(-0.030717106536031,-0.012217866256833,-0.018884651362896,0.004482814110816,-0.018774356693029,0.015147025696933,-0.022178500890732,0.044920440763235,-0.033968891948462,0.009167765267193,0.020280074328184,-0.015663616359234,-0.019554035738111,-0.004885663744062,-0.052509449422359,-0.014357891865075));
res += mul(Get(s2,-dx,dy), float4x4(-0.000584224355407,0.014854022301733,0.006597547326237,-0.021330889314413,0.015093204565346,0.004155218601227,0.023052342236042,-0.016795832663774,-0.044624544680119,0.000928570982069,-0.028654605150223,0.001603905577213,0.031923361122608,-0.018357498571277,0.030003136023879,-0.008088232949376));
res += mul(Get(s2,0,-dy), float4x4(0.007326134480536,-0.052743919193745,-0.022011505439878,-0.012484277598560,-0.011143818497658,0.029305264353752,0.036051366478205,-0.013008113950491,0.000649875437375,0.001452724798582,-0.021453266963363,0.014990307390690,-0.008811602368951,-0.003815479343757,-0.004319028463215,0.032615024596453));
res += mul(Get(s2,0,0), float4x4(-0.015550288371742,-0.003536975244060,-0.025821663439274,-0.021332897245884,0.029845986515284,-0.011009694077075,-0.034214425832033,-0.002329413779080,-0.028945781290531,-0.014188084751368,-0.023818133398890,0.013944532722235,0.020379683002830,-0.014464727602899,-0.013792239129543,-0.032906245440245));
res += mul(Get(s2,0,dy), float4x4(0.025088351219893,-0.012983531691134,-0.011260858736932,0.000473414344015,-0.001048152684234,0.000739489449188,-0.033318392932415,0.011745481751859,-0.023677997291088,-0.019492093473673,-0.015230751596391,0.002179171657190,-0.005113250575960,-0.013186809606850,-0.014440828002989,0.041702415794134));
res += mul(Get(s2,dx,-dy), float4x4(0.035278111696243,0.009725897572935,0.017518598586321,-0.046352546662092,-0.024357542395592,0.010581108741462,-0.017192762345076,-0.015290064737201,-0.037478450685740,0.021329717710614,-0.032046671956778,0.008681964129210,0.019934164360166,0.005110437516123,0.004565828945488,-0.017506327480078));
res += mul(Get(s2,dx,0), float4x4(-0.012872285209596,-0.031725365668535,0.025156822055578,-0.018564820289612,-0.016836034134030,0.007632197346538,0.027748998254538,-0.021831378340721,0.022489976137877,-0.020546289160848,0.010741437785327,-0.003522939514369,-0.002890233648941,-0.022189360111952,0.012213782407343,0.002783448435366));
res += mul(Get(s2,dx,dy), float4x4(0.007233478594571,-0.062662377953529,0.043928131461143,-0.020914305001497,0.015463613905013,0.012342377565801,-0.011192557401955,0.014931566081941,-0.009346380829811,0.004516015294939,-0.019703689962626,0.004635854158551,0.005316765978932,0.031228616833687,-0.026791175827384,0.027742832899094));
res += mul(Get(s3,-dx,-dy), float4x4(0.029423339292407,0.028388231992722,0.024919096380472,0.019409865140915,0.020058507099748,0.031075697392225,0.006165363360196,0.012273817323148,-0.007340374402702,0.036891732364893,-0.090524017810822,-0.023388771340251,-0.006232921499759,-0.027860619127750,-0.024096505716443,0.034554354846478));
res += mul(Get(s3,-dx,0), float4x4(-0.015597583726048,-0.032169584184885,0.049600753933191,0.002147912746295,0.013723997399211,-0.005838534794748,-0.043403245508671,0.006914449855685,-0.027376262471080,-0.058396272361279,-0.031217360869050,-0.049250468611717,-0.010326453484595,-0.038850933313370,0.034223042428493,0.059968471527100));
res += mul(Get(s3,-dx,dy), float4x4(0.007757821120322,0.001251230831258,0.027177713811398,0.016728695482016,-0.051372341811657,-0.016628300771117,-0.019066834822297,-0.033919338136911,0.043427146971226,-0.042021274566650,0.040148392319679,0.017130078747869,-0.002632082439959,0.014336332678795,-0.012491178698838,-0.006450277753174));
res += mul(Get(s3,0,-dy), float4x4(0.017289360985160,0.007327546365559,0.011304967105389,0.016883989796042,0.028724394738674,0.009240003302693,0.026613662019372,-0.008450802415609,-0.022967144846916,-0.042564336210489,0.178928196430206,-0.064641602337360,-0.001441305736080,0.030571730807424,0.020082553848624,-0.014852038584650));
res += mul(Get(s3,0,0), float4x4(0.051051143556833,-0.019090564921498,0.003570316126570,0.008875227533281,0.009324791841209,0.000658893259242,0.018837694078684,-0.003336865222082,-0.019942944869399,-0.009571163915098,-0.034094158560038,0.033830698579550,-0.014661584049463,0.022962860763073,-0.003058365080506,0.035245105624199));
res += mul(Get(s3,0,dy), float4x4(0.015908062458038,0.002639953745529,0.001756428973749,0.024685546755791,-0.051855720579624,-0.008714968338609,-0.043510809540749,-0.033830456435680,-0.051559478044510,-0.083740867674351,-0.108243681490421,-0.062612354755402,-0.025536706671119,0.040477074682713,-0.017291279509664,0.000978769850917));
res += mul(Get(s3,dx,-dy), float4x4(0.059889480471611,-0.024848075583577,0.016242349520326,-0.005129998084158,0.017460092902184,-0.009271864779294,0.049016844481230,0.051515653729439,-0.004026188980788,-0.005837941076607,-0.159820333123207,0.019061613827944,0.004726447165012,0.003538531716913,0.001569764805026,0.002249181503430));
res += mul(Get(s3,dx,0), float4x4(-0.013052233494818,-0.019525414332747,-0.008682020939887,-0.012885606847703,-0.007117458619177,-0.015609703958035,-0.023554136976600,0.102224871516228,-0.043113488703966,0.028729487210512,0.002177957445383,0.010443675331771,0.002175610512495,-0.017992815002799,0.027512008324265,-0.004571393597871));
res += mul(Get(s3,dx,dy), float4x4(-0.029349058866501,-0.016149250790477,-0.023609457537532,-0.040216583758593,-0.009415067732334,0.009632393717766,0.015101199969649,0.091755330562592,-0.016789266839623,0.016382506117225,0.038628749549389,-0.016496017575264,-0.010821986943483,-0.024988941848278,-0.002123919315636,0.020094683393836));
return max(float4(0,0,0,0), res);
}
