sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.008355696685612,-0.023131661117077,0.011294720694423,-0.005572566762567,0.006561437621713,0.055611278861761,-0.034595232456923,0.034393962472677,-0.012959723360837,-0.039403297007084,0.004553693812340,0.009762706235051,0.020692259073257,0.047342564910650,0.009972532279789,-0.010542632080615));
res += mul(Get(s0,-dx,0), float4x4(0.003304232144728,0.009499209001660,-0.005984853487462,-0.031217137351632,0.018457721918821,0.004404980223626,0.028123050928116,0.003219093196094,0.013178332708776,-0.031102899461985,0.007173481862992,-0.010730807669461,0.007817416451871,0.027199704200029,0.029572758823633,-0.010897250846028));
res += mul(Get(s0,-dx,dy), float4x4(0.001874599256553,-0.001141015323810,-0.066163942217827,0.017035583034158,0.014826072379947,-0.007496878970414,0.002132820663974,-0.005074104294181,0.003646969096735,0.001856090384535,-0.005530813708901,-0.001945629599504,0.002029462251812,0.025050755590200,-0.037463679909706,-0.012006340548396));
res += mul(Get(s0,0,-dy), float4x4(-0.001055780216120,0.000803403556347,0.010594988241792,0.007784033659846,-0.012159559875727,0.003755894023925,0.009852153249085,-0.006850994657725,0.007402698509395,0.020414480939507,0.017657743766904,0.010099878534675,-0.004071938805282,0.006604081485420,0.020284606143832,0.004148784093559));
res += mul(Get(s0,0,0), float4x4(-0.005249261856079,-0.001166198635474,0.094659656286240,-0.004586481023580,-0.000403573998483,0.001484779175371,-0.022433383390307,-0.000370689172996,0.011546707712114,0.015215923078358,0.085138872265816,0.012845220975578,0.018624646589160,-0.001982358749956,0.050008613616228,-0.004303638357669));
res += mul(Get(s0,0,dy), float4x4(-0.015546037815511,-0.011767688207328,-0.003481738502160,0.009454948827624,-0.009796795435250,-0.016032090410590,-0.002862844849005,-0.008101901970804,-0.008810983970761,0.016330249607563,0.023090617731214,-0.005650733131915,-0.017075579613447,0.020665060728788,0.026859940961003,0.004929807968438));
res += mul(Get(s0,dx,-dy), float4x4(-0.028404505923390,-0.049473442137241,0.076990932226181,-0.023803468793631,0.000884678564034,-0.043379735201597,-0.002597047481686,-0.012143482454121,-0.006723676808178,-0.000023249616788,0.010310566052794,0.010994466021657,-0.003459198866040,-0.040517613291740,-0.004537338390946,0.007506813853979));
res += mul(Get(s0,dx,0), float4x4(-0.035866815596819,0.000243426708039,0.034148253500462,0.011268462985754,-0.000549139280338,-0.041025619953871,-0.057870887219906,-0.029357323423028,0.013466275297105,0.042648762464523,0.033131182193756,-0.009577693417668,-0.004469373729080,-0.003449017647654,0.001096006366424,0.023809777572751));
res += mul(Get(s0,dx,dy), float4x4(0.009595390409231,0.011201540008187,0.011143630370498,0.011591452173889,-0.018450088799000,0.013860244303942,-0.007096302229911,0.004815042484552,-0.000895614735782,0.053235508501530,-0.017886605113745,0.010213574394584,-0.019837332889438,-0.018328964710236,0.031657386571169,-0.003181455424055));
res += mul(Get(s1,-dx,-dy), float4x4(0.001737591694109,0.059570666402578,0.019694624468684,-0.004778699483722,-0.007636034861207,0.018343688920140,-0.003359761787578,-0.001797131844796,0.019277535378933,-0.037712413817644,0.005399086512625,0.009800543077290,-0.004888241644949,-0.000438327551819,-0.022093445062637,0.007825714536011));
res += mul(Get(s1,-dx,0), float4x4(0.003226148895919,0.061524860560894,-0.041661020368338,0.003423046087846,0.010117805562913,0.007703082635999,-0.020705923438072,-0.011396437883377,0.016339415684342,-0.043691396713257,0.044096305966377,0.019719814881682,-0.002695417031646,0.025143025442958,-0.006052950397134,-0.002772580133751));
res += mul(Get(s1,-dx,dy), float4x4(-0.011273237876594,0.072035096585751,0.012395652942359,-0.008941819891334,-0.010229292325675,-0.022208508104086,-0.028177540749311,0.001154791098088,-0.011120758950710,-0.025638487190008,0.033512178808451,0.012691304087639,-0.004009861499071,0.002355193486437,-0.004300587810576,-0.005589098203927));
res += mul(Get(s1,0,-dy), float4x4(-0.003450944321230,0.014520212076604,0.004126840271056,0.000657425203826,-0.011635116301477,-0.028779020532966,0.035165958106518,-0.005304303485900,0.015055621042848,0.015602234750986,0.004305349662900,-0.007035665214062,-0.009366284124553,-0.001820948556997,-0.015317359007895,0.021854188293219));
res += mul(Get(s1,0,0), float4x4(-0.007361629512161,0.045190311968327,0.055436860769987,-0.014014282263815,0.000496760127135,-0.026427628472447,0.001937196590006,-0.016532184556127,0.007808093912899,0.027996061369777,0.058772090822458,-0.004636525176466,-0.023570185527205,0.012596843764186,0.032403893768787,-0.002532389014959));
res += mul(Get(s1,0,dy), float4x4(-0.009801116771996,-0.005748784169555,0.011942160315812,-0.005909335799515,-0.000627153436653,0.009296610020101,-0.050050236284733,0.010852144099772,0.009361920878291,-0.000969999877270,0.048298571258783,0.001293882844038,-0.017600338906050,0.021808834746480,0.002771862316877,-0.019580662250519));
res += mul(Get(s1,dx,-dy), float4x4(-0.002661088015884,-0.023160373792052,-0.003849773434922,-0.003703997237608,0.001100164256059,-0.047002367675304,-0.002849068958312,0.000701435783412,0.011471669189632,-0.034153208136559,0.052243132144213,0.015080229379237,0.035777386277914,0.005048215854913,-0.018798420205712,-0.002352145267650));
res += mul(Get(s1,dx,0), float4x4(-0.010640671476722,0.013018962927163,0.017356257885695,0.015165817923844,0.001801964594051,-0.051043584942818,-0.003020253963768,-0.007048328872770,0.022334251552820,-0.021342305466533,0.013586622662842,-0.004265880677849,0.011297804303467,-0.011298463679850,0.016825353726745,0.024912722408772));
res += mul(Get(s1,dx,dy), float4x4(0.005246318411082,0.018059965223074,0.001419229549356,-0.015191369690001,-0.001474713440984,-0.024178100749850,-0.026059636846185,-0.019385803490877,-0.019425258040428,0.037385921925306,0.061209741979837,0.008502160198987,-0.002793187042698,-0.011146708391607,-0.021112646907568,0.007246603257954));
res += mul(Get(s2,-dx,-dy), float4x4(-0.009488524869084,-0.020306043326855,0.038980461657047,0.002880996791646,-0.003754722420126,-0.061897549778223,0.050124552100897,0.004365821368992,-0.013257916085422,-0.066330321133137,0.007866526022553,-0.010778537951410,0.016236912459135,0.016457360237837,-0.009747263044119,-0.006955632008612));
res += mul(Get(s2,-dx,0), float4x4(-0.001108758500777,0.008681499399245,-0.007969720289111,0.009445182047784,0.006535605527461,-0.035189662128687,-0.009913545101881,-0.015258341096342,0.003495182143524,-0.057406384497881,0.066527910530567,0.011118445545435,0.006292345467955,0.047347858548164,-0.027827166020870,-0.008154509589076));
res += mul(Get(s2,-dx,dy), float4x4(0.004141728393734,0.022140927612782,-0.037326775491238,-0.017015509307384,-0.001747083500959,-0.065668292343616,-0.001835348084569,0.011228037066758,-0.005949215963483,-0.040056243538857,0.045101646333933,-0.021675178781152,0.007767919450998,0.031788643449545,0.011545892804861,0.015363948419690));
res += mul(Get(s2,0,-dy), float4x4(-0.022099412977695,-0.050432983785868,-0.043935518711805,-0.006923845503479,0.003039212198928,-0.041177269071341,-0.013409191742539,0.014425238594413,-0.009427886456251,-0.029129441827536,0.040170606225729,0.001860445248894,-0.015259599313140,-0.025626713410020,-0.001092292601243,-0.004801427479833));
res += mul(Get(s2,0,0), float4x4(0.002549513243139,-0.006909104064107,0.065769098699093,0.005331299733371,0.010850576683879,-0.051973026245832,0.054293125867844,-0.011640337295830,-0.001257459749468,-0.026884688064456,-0.010004402138293,0.009773931466043,-0.015594774857163,-0.050120580941439,0.058252077549696,0.014620054513216));
res += mul(Get(s2,0,dy), float4x4(-0.012299508787692,0.007731744553894,0.010089400224388,0.020090818405151,-0.012881826609373,-0.076790526509285,-0.023629568517208,-0.013398448005319,0.021209033206105,-0.000049486719945,0.050191864371300,-0.015029538422823,-0.020727528259158,-0.065495997667313,-0.013691345229745,0.013274672441185));
res += mul(Get(s2,dx,-dy), float4x4(-0.000008076011000,-0.014168307185173,0.013666341081262,0.005827778950334,0.043276302516460,0.009360419586301,0.029603876173496,0.000654620816931,0.000211455233512,0.054527103900909,0.050514794886112,-0.021674342453480,0.000901928637177,-0.045160036534071,-0.067043162882328,-0.007630480919033));
res += mul(Get(s2,dx,0), float4x4(0.000199723639525,-0.069024652242661,-0.008146736770868,0.024586619809270,0.004262549802661,0.004733884707093,-0.008206417784095,-0.002432124689221,-0.017074253410101,0.030138919129968,0.000035026605474,0.017523445188999,0.008101052604616,-0.033068582415581,0.008418180048466,-0.005163089372218));
res += mul(Get(s2,dx,dy), float4x4(0.011459982022643,-0.052506443113089,-0.056988183408976,0.006388416048139,0.005468494724482,0.014979408122599,-0.039398655295372,-0.007458197418600,0.009165028110147,-0.024626258760691,0.047910865396261,0.013305547647178,0.003340498078614,-0.019621165469289,0.013099442236125,0.025786949321628));
res += mul(Get(s3,-dx,-dy), float4x4(-0.009328949265182,-0.000500552589074,-0.011608583852649,-0.002196845132858,0.002053426811472,-0.024924416095018,-0.054488610476255,0.012296221219003,-0.005850262474269,0.029865760356188,0.023527989163995,0.006355173885822,-0.025652725249529,0.002778160851449,-0.011547767557204,-0.007564932107925));
res += mul(Get(s3,-dx,0), float4x4(0.000511007965542,-0.009831521660089,0.011100609786808,0.007457582280040,-0.004608690273017,-0.023313770070672,0.014197679236531,-0.004071059171110,-0.012437739409506,0.015862239524722,0.002221070928499,0.010546671226621,-0.000415218819398,-0.038035154342651,-0.010867031291127,-0.022442879155278));
res += mul(Get(s3,-dx,dy), float4x4(0.018723279237747,0.019562209025025,-0.016950562596321,0.002083366271108,-0.003039038972929,-0.003897224552929,-0.020794970914721,-0.010920451022685,-0.023529138416052,-0.024056332185864,0.015081163495779,0.023103097453713,0.009056953713298,-0.025157660245895,-0.078442551195621,0.014852462336421));
res += mul(Get(s3,0,-dy), float4x4(0.000513941049576,0.029656697064638,0.047178074717522,-0.033413164317608,0.011223373003304,-0.006386895664036,0.003538988297805,0.015742989256978,-0.006121603772044,-0.033188890665770,0.074398286640644,-0.009942593984306,-0.001584395067766,-0.036108061671257,0.025734106078744,0.004738509654999));
res += mul(Get(s3,0,0), float4x4(0.033131264150143,0.092726930975914,0.025605533272028,-0.018606455996633,-0.011041921563447,-0.000175650435267,0.002937527606264,-0.002161413896829,-0.011863289400935,-0.045121319591999,-0.022228863090277,-0.012058151885867,0.003139963839203,-0.043486051261425,0.039438445121050,-0.006471646949649));
res += mul(Get(s3,0,dy), float4x4(-0.003781823208556,0.095288477838039,-0.002842345973477,-0.000695834052749,0.002426231978461,-0.007002751342952,-0.013747395947576,-0.027414783835411,-0.013078009709716,-0.016416408121586,-0.052672781050205,0.023791730403900,-0.021070033311844,-0.014032692648470,-0.019356584176421,0.002017096849158));
res += mul(Get(s3,dx,-dy), float4x4(-0.008689518086612,0.013571537099779,0.002941647544503,-0.015433910302818,0.009981240145862,0.051459338515997,-0.002645818982273,-0.018441306427121,0.015485179610550,0.004164931364357,0.029006192460656,-0.014679133892059,-0.005327557679266,-0.018984628841281,0.006003348156810,0.004037623293698));
res += mul(Get(s3,dx,0), float4x4(-0.024433787912130,0.012775585986674,0.028347101062536,0.004044414032251,0.010552214458585,0.082761295139790,-0.017992302775383,-0.001871388754807,0.000769352947827,0.014980841428041,0.020696086809039,-0.003729650285095,-0.000335654418450,-0.004400433041155,-0.002561369445175,0.003206256777048));
res += mul(Get(s3,dx,dy), float4x4(-0.014425087720156,0.054896648973227,-0.007013642229140,0.030606839805841,-0.005137905478477,0.039766319096088,0.011542312800884,0.027224401012063,0.013381645083427,0.000491930870339,-0.019505569711328,0.010210125707090,-0.021806787699461,0.001822504797019,-0.018338114023209,0.011441626586020));
return max(float4(0,0,0,0), res);
}
