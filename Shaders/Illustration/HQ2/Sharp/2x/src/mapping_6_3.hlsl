sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.025259001180530,-0.007657787296921,-0.011512020602822,-0.007258251309395,-0.002079208847135,-0.022938275709748,-0.021788178011775,-0.017040466889739,-0.068708844482899,-0.034747079014778,-0.058742277324200,-0.001224426203407,0.036179110407829,0.006239783484489,-0.003750758245587,0.002189668128267));
res += mul(Get(s0,-dx,0), float4x4(0.027724755927920,0.000180026341695,-0.018545377999544,-0.011844448745251,0.035096518695354,-0.028370041400194,-0.017331412062049,-0.027404403313994,-0.033938612788916,0.051514815539122,0.050299748778343,0.046654999256134,0.003899784293026,-0.018409864977002,-0.014223973266780,-0.007809918373823));
res += mul(Get(s0,-dx,dy), float4x4(0.021427890285850,-0.005861132405698,-0.006720044650137,-0.006007248535752,0.067091569304466,-0.028455488383770,-0.014207734726369,-0.002917450154200,-0.067594073712826,0.065867848694324,0.092129006981850,0.059922046959400,-0.000504942901898,-0.001335455221124,-0.008442688733339,0.007561658509076));
res += mul(Get(s0,0,-dy), float4x4(-0.009371778927743,0.002753702225164,0.005068751052022,-0.012723621912301,-0.060862556099892,0.032865602523088,0.034488741308451,0.030980410054326,-0.087087772786617,-0.012760733254254,-0.003019053488970,0.008422315120697,0.031114794313908,0.000525315874256,0.012601670809090,-0.014829793013632));
res += mul(Get(s0,0,0), float4x4(-0.002262755297124,0.003397753927857,0.000901741674170,-0.009518659673631,-0.126389279961586,0.054059267044067,0.078853160142899,0.006538120564073,0.162582308053970,0.059122074395418,-0.008392888121307,-0.018109111115336,-0.024136388674378,-0.004333910066634,-0.022357352077961,0.024862494319677));
res += mul(Get(s0,0,dy), float4x4(-0.001935728592798,0.005676172673702,0.017308441922069,-0.020284008234739,-0.087939947843552,0.041002470999956,0.048467803746462,-0.015534358099103,0.167572215199471,0.009940204210579,0.058361113071442,0.042004264891148,0.002002707682550,0.006195926107466,-0.001224272535183,-0.012875254265964));
res += mul(Get(s0,dx,-dy), float4x4(0.003644667332992,0.005080171860754,-0.004455684684217,0.012894780375063,0.156002596020699,-0.022782176733017,-0.046764161437750,0.013153093867004,-0.039140295237303,-0.025425238534808,-0.044888395816088,-0.006014029029757,0.022063331678510,-0.003394595813006,0.000745366734918,-0.002553237602115));
res += mul(Get(s0,dx,0), float4x4(0.000370463181753,0.007386326324195,0.014338901266456,0.014755425974727,0.214512228965759,-0.004878448788077,-0.030398312956095,0.038494575768709,0.038393121212721,-0.004564679693431,-0.034561444073915,-0.001009355764836,-0.015915982425213,-0.001470830291510,0.007034221664071,0.006190325599164));
res += mul(Get(s0,dx,dy), float4x4(0.019735628738999,0.001774369389750,-0.012921813875437,0.008277180604637,0.144721075892448,-0.002959877252579,-0.037051692605019,0.058280583471060,0.111624732613564,-0.025642814114690,0.047415427863598,0.004061960615218,-0.009635192342103,-0.008742161095142,-0.001504086889327,-0.008032509125769));
res += mul(Get(s1,-dx,-dy), float4x4(0.094421118497849,0.096355192363262,0.089327126741409,0.001281527336687,0.090304203331470,0.078014388680458,0.103985145688057,0.014553740620613,0.161579996347427,0.061557877808809,0.020975051447749,0.006457446608692,-0.040695235133171,-0.015688184648752,-0.015382652170956,0.008907979354262));
res += mul(Get(s1,-dx,0), float4x4(0.012848396785557,-0.034979932010174,-0.034022554755211,0.000382755883038,0.081366173923016,0.011735606938601,0.026312271133065,-0.012212705798447,0.214951097965240,0.008487035520375,-0.036830790340900,0.023059595376253,0.003358726156875,0.036460857838392,0.038558211177588,-0.003128267126158));
res += mul(Get(s1,-dx,dy), float4x4(-0.010681871324778,0.007778886239976,-0.021768892183900,0.003830805420876,0.081203348934650,-0.021768564358354,-0.064558446407318,-0.010638130828738,0.120311386883259,-0.010622877627611,-0.058882910758257,0.025404937565327,0.032187331467867,0.035192392766476,0.016245797276497,-0.008305784314871));
res += mul(Get(s1,0,-dy), float4x4(0.219501510262489,0.030916240066290,0.082633368670940,0.019562594592571,0.281384915113449,0.053460042923689,0.010098315775394,0.039099015295506,0.141169935464859,0.006087753921747,0.033362694084644,0.007304112892598,0.010780244134367,0.016017595306039,-0.014619847759604,0.002342340769246));
res += mul(Get(s1,0,0), float4x4(-0.077134467661381,-0.046964950859547,-0.018956007435918,0.024122307077050,0.085043773055077,0.010905428789556,0.059086419641972,0.077060200273991,-0.069973960518837,-0.060692947357893,0.007085623685271,-0.006414697971195,0.126011684536934,0.063390299677849,0.035379521548748,0.024786792695522));
res += mul(Get(s1,0,dy), float4x4(-0.030777266249061,0.050878163427114,0.013974118977785,-0.022168824449182,-0.096845425665379,0.028462855145335,-0.025253968313336,0.004406537394971,-0.084036476910114,0.015645412728190,0.008010586723685,-0.031177850440145,0.081450358033180,-0.005771284922957,-0.002391392365098,0.017658667638898));
res += mul(Get(s1,dx,-dy), float4x4(0.182756304740906,-0.025822661817074,0.026375083252788,0.004240118432790,0.092236682772636,-0.007400234229863,0.000068420384196,-0.027869790792465,-0.002921036677435,0.006343486718833,0.043461643159389,0.008315889164805,-0.008726751431823,0.013035434298217,-0.028619697317481,-0.014237485826015));
res += mul(Get(s1,dx,0), float4x4(-0.054834883660078,0.021682759746909,0.032518584281206,-0.000496826891322,0.076528094708920,-0.003465185174718,0.036812823265791,0.001103591988795,-0.102013871073723,0.033353585749865,0.040997639298439,0.006099956575781,0.109522566199303,0.019855782389641,0.018765190616250,0.013826421461999));
res += mul(Get(s1,dx,dy), float4x4(-0.003961547743529,0.045172356069088,-0.017694745212793,0.009169091470540,-0.101028919219971,0.055704429745674,0.015318112447858,0.028166308999062,-0.061109695583582,0.072112955152988,0.022765701636672,0.010658655315638,0.000634105585050,-0.015493246726692,-0.000273853569524,-0.017624484375119));
res += mul(Get(s2,-dx,-dy), float4x4(0.061975359916687,-0.010764297097921,0.008258026093245,0.005378895904869,-0.035038936883211,0.015153869986534,0.017745818942785,0.009434135630727,0.011925599537790,-0.043195173144341,-0.028742419555783,0.021647593006492,0.080363601446152,0.061594616621733,0.025698088109493,0.009196652099490));
res += mul(Get(s2,-dx,0), float4x4(-0.055470980703831,-0.070861712098122,-0.045385845005512,-0.004866605624557,0.015287451446056,0.036801334470510,0.004956831224263,0.005601515527815,-0.039332441985607,0.002251351717860,-0.003849988337606,0.008381473831832,0.052850898355246,0.013544848188758,0.050498429685831,0.029312942177057));
res += mul(Get(s2,-dx,dy), float4x4(-0.067564301192760,0.056277740746737,0.033558521419764,-0.012849532999098,0.099517814815044,0.014574874192476,0.040263649076223,0.018546067178249,0.035628896206617,0.042026042938232,0.036276414990425,0.001547224004753,0.006515200715512,0.000050452174037,-0.007076799869537,-0.008005817420781));
res += mul(Get(s2,0,-dy), float4x4(-0.086932204663754,-0.000917834404390,0.031564645469189,0.013800631277263,0.025470649823546,0.006006212905049,-0.013925865292549,-0.003290587104857,-0.056031901389360,-0.034310370683670,-0.022092998027802,0.006270501762629,0.101745001971722,-0.018659852445126,-0.046122305095196,-0.002974978648126));
res += mul(Get(s2,0,0), float4x4(-0.094013057649136,0.088123992085457,0.042713064700365,-0.007342825643718,0.073195025324821,0.056939318776131,-0.003353106789291,0.016589857637882,-0.003656728891656,0.081445418298244,0.019041769206524,-0.011460652574897,0.078775212168694,0.000118823692901,0.016007203608751,0.018158018589020));
res += mul(Get(s2,0,dy), float4x4(0.103153146803379,0.109325148165226,0.051748026162386,0.009252492338419,0.122634507715702,-0.012193979695439,0.024593729525805,-0.001345747383311,0.084181949496269,0.009963896125555,0.018418535590172,0.018259651958942,-0.003356428118423,0.058708343654871,0.049469634890556,0.022600075230002));
res += mul(Get(s2,dx,-dy), float4x4(0.090348929166794,0.002433485817164,-0.012933429330587,0.000593784381635,0.003049222286791,-0.009297398850322,-0.012911479920149,-0.013780073262751,-0.020142510533333,0.032048001885414,-0.010681753978133,0.009217446669936,-0.014694722369313,0.007948176935315,0.012573724612594,0.011649508960545));
res += mul(Get(s2,dx,0), float4x4(0.163473442196846,0.035063095390797,-0.012908067554235,0.015664987266064,0.031817629933357,0.040160741657019,0.019509587436914,-0.004841467365623,0.063122853636742,0.023812539875507,0.004470122978091,0.006869302131236,0.030491853132844,0.035335209220648,0.021616579964757,0.005373954307288));
res += mul(Get(s2,dx,dy), float4x4(0.142056554555893,-0.075170964002609,-0.046052180230618,0.010417934507132,0.007761401589960,-0.001970406156033,0.031034713611007,-0.008632894605398,0.028062216937542,-0.062090151011944,-0.008788027800620,0.013991900719702,0.072260357439518,-0.003822340164334,0.021195989102125,0.012634038925171));
res += mul(Get(s3,-dx,-dy), float4x4(0.008101881481707,0.049516741186380,0.052342619746923,0.003418860258535,0.005415012594312,-0.003365727374330,0.000176481757080,-0.003291369415820,0.083694264292717,0.032006312161684,-0.009890739805996,-0.003051636042073,0.121226161718369,0.022229833528399,-0.044847458600998,0.050003726035357));
res += mul(Get(s3,-dx,0), float4x4(0.059345472604036,-0.008672221563756,-0.009725590236485,0.018581094220281,0.046061035245657,-0.009117096662521,0.000508213997819,0.014377713203430,0.113241344690323,0.002263104775921,-0.025641750544310,0.033487074077129,0.066453792154789,0.056270226836205,0.067062966525555,0.070142984390259));
res += mul(Get(s3,-dx,dy), float4x4(0.077703744173050,0.008734460920095,0.041031438857317,0.020426716655493,0.010974177159369,0.024910919368267,0.012572687119246,0.039690524339676,0.049085833132267,-0.003223407547921,0.017422737553716,0.048108570277691,-0.074927829205990,0.041348889470100,0.030645797029138,0.039662428200245));
res += mul(Get(s3,0,-dy), float4x4(0.040997467935085,-0.000760063412599,0.053335566073656,0.046098232269287,-0.069560341536999,-0.011625863611698,0.005213581025600,0.015222247689962,-0.105909615755081,0.018029345199466,0.044257890433073,0.007649622391909,-0.005312033928931,-0.006494957022369,-0.018826415762305,-0.026880713179708));
res += mul(Get(s3,0,0), float4x4(-0.071962766349316,0.061517748981714,0.024522302672267,0.020569179207087,-0.084174416959286,-0.009714034385979,-0.007451999001205,-0.019024930894375,-0.089875452220440,-0.008652741089463,-0.023933652788401,-0.054704334586859,0.221129417419434,-0.034850116819143,-0.043488942086697,-0.032504558563232));
res += mul(Get(s3,0,dy), float4x4(0.116759352385998,0.081453919410706,0.081711150705814,0.005175147205591,-0.022391468286514,0.008149868808687,0.018445882946253,-0.024472285062075,0.022956106811762,0.010181361809373,0.035225652158260,-0.020528731867671,0.115115784108639,0.003490036120638,0.005683825351298,0.037467282265425));
res += mul(Get(s3,dx,-dy), float4x4(0.092977203428745,-0.022331168875098,-0.012542866170406,-0.006871471647173,-0.065414607524872,-0.001844421960413,-0.008284745737910,0.005750410724431,0.031072590500116,-0.017739614471793,0.001606445177458,0.028022021055222,-0.126883104443550,0.034194931387901,0.064655520021915,0.019320102408528));
res += mul(Get(s3,dx,0), float4x4(0.094984143972397,0.064601987600327,-0.000365390587831,0.027238426730037,-0.111030392348766,0.052805900573730,0.024229114875197,0.028171131387353,-0.111032776534557,0.047464691102505,0.011163845658302,0.036839600652456,-0.102582521736622,0.022795489057899,0.037271272391081,-0.032665263861418));
res += mul(Get(s3,dx,dy), float4x4(0.182146847248077,0.005081977229565,0.006361262407154,0.043889611959457,-0.048714935779572,0.052598394453526,0.038963902741671,0.006283251568675,-0.024178028106689,0.018946992233396,0.014633237384260,0.003738019382581,-0.009178881533444,-0.013263903558254,0.049612388014793,-0.029051218181849));
return max(float4(0,0,0,0), res);
}
