sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.028849793598056,-0.020544340834022,0.016523538157344,-0.010485822334886,-0.002927858382463,0.039491232484579,-0.005360482260585,0.013694406487048,0.076164044439793,0.000556543353014,-0.003906113561243,-0.046189490705729,-0.005101220216602,0.011671448126435,-0.005764450412244,0.043022196739912));
res += mul(Get(s0,-dx,0), float4x4(0.011305592022836,0.025614116340876,0.024819377809763,0.005688659846783,0.031404994428158,0.003479918465018,-0.006022501271218,0.030698651447892,0.041767757385969,0.061081469058990,0.035627979785204,0.016344130039215,0.010852266103029,0.004457375500351,0.108141444623470,0.070620805025101));
res += mul(Get(s0,-dx,dy), float4x4(-0.024517968297005,0.030697561800480,0.019343942403793,0.004011894576252,-0.026306711137295,-0.015653999522328,0.015070452354848,0.029725683853030,-0.004732862114906,-0.033602673560381,-0.017489455640316,-0.019629243761301,-0.022336533293128,-0.040016226470470,-0.000828040705528,0.064668655395508));
res += mul(Get(s0,0,-dy), float4x4(0.038356009870768,-0.001671234029345,0.027155343443155,-0.020460216328502,0.034464284777641,0.024144960567355,0.015624636784196,0.031672600656748,-0.011265608482063,0.049648992717266,0.016657894477248,-0.007449956145138,-0.008177373558283,-0.018910337239504,-0.079912722110748,-0.004731121473014));
res += mul(Get(s0,0,0), float4x4(0.011917255818844,0.015820123255253,-0.033429831266403,0.016454538330436,0.006154713686556,0.004895377438515,-0.003416465595365,0.047413527965546,-0.036669533699751,0.037059199064970,0.011468946002424,0.016142826527357,0.009516888298094,-0.018427763134241,-0.054902825504541,0.023379635065794));
res += mul(Get(s0,0,dy), float4x4(-0.020994422957301,0.017352320253849,0.024177554994822,-0.013260085135698,-0.022087847813964,-0.011624411679804,0.016831083223224,0.005616596434265,-0.043372195214033,-0.033066820353270,0.004527088720351,0.008941540494561,-0.013182346709073,-0.040030129253864,-0.045611009001732,0.049422565847635));
res += mul(Get(s0,dx,-dy), float4x4(0.025506464764476,-0.018443327397108,-0.018135333433747,-0.011202226392925,-0.019990313798189,0.026656553149223,0.002945729764178,0.001765070832334,-0.058149695396423,0.045037418603897,0.036098476499319,0.013643613085151,-0.041122756898403,-0.014398258179426,0.063188575208187,-0.062872350215912));
res += mul(Get(s0,dx,0), float4x4(-0.005120673216879,0.017364690080285,-0.025785245001316,0.006852157879621,-0.024850333109498,0.022995511069894,0.010440269485116,0.018738737329841,-0.026552414521575,-0.030400078743696,-0.038259223103523,-0.018522586673498,-0.003552022390068,-0.045004673302174,-0.026366142556071,-0.063997201621532));
res += mul(Get(s0,dx,dy), float4x4(-0.011639506556094,0.015106186270714,-0.023426847532392,0.058310173451900,-0.010420793667436,-0.024174576625228,0.011068046092987,-0.004551715683192,-0.000055277108913,-0.044685292989016,0.016312040388584,0.011794353835285,0.033702988177538,-0.028593514114618,-0.012222103774548,0.000072490161983));
res += mul(Get(s1,-dx,-dy), float4x4(0.037921778857708,0.020395237952471,0.008190988563001,-0.001249002176337,0.021090367808938,0.008938433602452,0.000832462159451,0.007140760775656,0.012348817661405,-0.042809862643480,0.040083900094032,0.015604531392455,0.063281163573265,-0.023259621113539,0.025974672287703,-0.028945108875632));
res += mul(Get(s1,-dx,0), float4x4(-0.026086376979947,0.000050685313909,0.025388034060597,0.020029792562127,-0.010408488102257,0.010280009359121,0.008568664081395,-0.021989537402987,-0.050123088061810,-0.033946100622416,0.005999762564898,-0.000651279522572,-0.006198047194630,0.021214716136456,-0.000683639431372,-0.032064761966467));
res += mul(Get(s1,-dx,dy), float4x4(-0.006521015893668,-0.005617321934551,-0.000873065087944,-0.004742719233036,-0.005422468297184,-0.011806508526206,0.003168808296323,0.006020237226039,-0.009916711598635,0.040845554322004,0.030239924788475,0.009991277940571,-0.064502030611038,-0.046735282987356,-0.010464610531926,-0.020120868459344));
res += mul(Get(s1,0,-dy), float4x4(0.017919553443789,0.016437601298094,-0.000897524878383,0.033373169600964,-0.028867607936263,0.025366008281708,-0.055573724210262,-0.002525405492634,-0.005565038416535,-0.060412675142288,-0.026948727667332,-0.018855193629861,0.008056345395744,0.014033079147339,-0.008432346396148,0.008947482332587));
res += mul(Get(s1,0,0), float4x4(0.007653467822820,0.008713608607650,0.029237961396575,0.009372617118061,0.019060399383307,0.003994457889348,-0.011537142097950,-0.015525672584772,-0.007351086940616,-0.043129201978445,-0.017730826511979,-0.063381269574165,-0.026990070939064,0.028174016624689,-0.061872739344835,-0.031270258128643));
res += mul(Get(s1,0,dy), float4x4(0.022686198353767,0.012448238208890,0.021980417892337,-0.025101346895099,0.026692932471633,-0.017795724794269,0.014349089935422,-0.007374484091997,0.016234539449215,0.068021893501282,-0.002590349875391,-0.065167479217052,-0.009074645116925,0.010170148685575,-0.036531601101160,-0.047727886587381));
res += mul(Get(s1,dx,-dy), float4x4(-0.011791915632784,0.001040370436385,0.002176343230531,0.010510089807212,-0.004623182117939,-0.021380770951509,-0.012577638030052,-0.017327893525362,-0.013235792517662,-0.075369894504547,0.042254693806171,0.013922009617090,-0.035679433494806,0.001448357128538,0.090180449187756,0.007464618887752));
res += mul(Get(s1,dx,0), float4x4(0.027980033308268,0.003682727925479,0.008532811887562,-0.001207066699862,0.008191267028451,0.029727751389146,-0.029513111338019,-0.009596244432032,0.053700797259808,-0.014011842198670,0.041409898549318,0.016678260639310,-0.037825800478458,0.027151014655828,0.083773814141750,-0.049739569425583));
res += mul(Get(s1,dx,dy), float4x4(-0.004485838580877,0.005754685960710,-0.015153766609728,0.009341620840132,-0.008246781304479,0.031429164111614,0.037476070225239,-0.015825387090445,0.000341986538842,0.032127238810062,-0.025716859847307,-0.002677044598386,0.003457744373009,-0.043222159147263,0.057608358561993,-0.060579303652048));
res += mul(Get(s2,-dx,-dy), float4x4(0.012576987035573,-0.006193327251822,0.063210718333721,0.011133574880660,-0.057113651186228,-0.079654932022095,0.008340230211616,-0.022673506289721,0.004473206587136,-0.048548374325037,0.008191214874387,-0.014240948483348,-0.014713920652866,-0.000005738298114,-0.009865672327578,0.066821604967117));
res += mul(Get(s2,-dx,0), float4x4(-0.071959115564823,-0.073671124875546,0.020067702978849,-0.064978674054146,-0.036453869193792,0.032050833106041,-0.006792168598622,-0.020183304324746,-0.065510272979736,0.003929466940463,-0.033487766981125,-0.082452125847340,0.010842615738511,-0.041844151914120,-0.027935771271586,0.010925699956715));
res += mul(Get(s2,-dx,dy), float4x4(-0.005471912212670,0.015379458665848,-0.026869090273976,-0.115038290619850,0.012090610340238,0.003723500762135,0.018703117966652,-0.004117586649954,0.008370298892260,0.045067802071571,0.006823609583080,-0.053786806762218,0.032083764672279,-0.012722879648209,-0.022723343223333,-0.010124293155968));
res += mul(Get(s2,0,-dy), float4x4(-0.066881872713566,0.015068319626153,-0.038867082446814,0.040390491485596,-0.046395998448133,-0.050288535654545,0.022784192115068,-0.024721184745431,-0.018696306273341,-0.039245113730431,0.070044726133347,-0.007742150221020,-0.041040353477001,0.031166283413768,-0.070016525685787,-0.005085635464638));
res += mul(Get(s2,0,0), float4x4(-0.038832776248455,-0.045018445700407,0.065690785646439,0.017695477232337,0.066587671637535,0.014928021468222,-0.017069671303034,-0.039865501224995,-0.010574596934021,-0.035248987376690,0.018532820045948,-0.072359673678875,0.019815355539322,-0.032149016857147,-0.063301786780357,0.029486389830709));
res += mul(Get(s2,0,dy), float4x4(0.034524545073509,0.010702542960644,0.006998169235885,-0.051087681204081,0.010541031137109,0.015962632372975,0.049782346934080,-0.056615263223648,0.030724968761206,0.011245105415583,0.015994450077415,-0.068179734051228,-0.001796108554117,0.023360624909401,-0.042734760791063,0.008008074946702));
res += mul(Get(s2,dx,-dy), float4x4(-0.011256648227572,-0.052063263952732,-0.054554313421249,-0.034295499324799,0.003234888426960,-0.028435328975320,0.032927613705397,0.013413890264928,0.009690695442259,-0.033559381961823,-0.010358016006649,0.006064977496862,0.025437071919441,-0.011241874657571,-0.014904756098986,-0.000733019609470));
res += mul(Get(s2,dx,0), float4x4(0.048173818737268,-0.046122100204229,-0.061671428382397,0.027699358761311,0.051810093224049,-0.013850816525519,-0.046302955597639,0.079574733972549,0.001347280223854,-0.060020726174116,-0.004675538279116,0.022126950323582,-0.001035813009366,0.008944690227509,-0.053803101181984,-0.024777254089713));
res += mul(Get(s2,dx,dy), float4x4(-0.011978958733380,0.021535160019994,-0.040933895856142,0.075042255222797,-0.036552064120770,0.058570921421051,0.005727860610932,-0.009579167701304,-0.005352861247957,0.024733321741223,-0.014269699342549,0.001112598343752,-0.000392242072849,0.017819665372372,-0.063219763338566,-0.019215347245336));
res += mul(Get(s3,-dx,-dy), float4x4(-0.041329987347126,0.013151075690985,-0.008498094975948,-0.001586039667018,0.012162248604000,-0.030254503712058,-0.025940295308828,0.046921271830797,0.016497092321515,0.014610860496759,0.018318459391594,-0.016619304195046,-0.016939241439104,-0.005915127228945,0.017128564417362,0.009272074326873));
res += mul(Get(s3,-dx,0), float4x4(0.046337984502316,-0.022144936025143,-0.014080403372645,0.001943724812008,0.016705464571714,0.019246228039265,-0.014514219015837,0.045662138611078,0.005526889581233,-0.012134191580117,-0.003760869149119,-0.016302503645420,0.001285987906158,0.009239487349987,-0.000209254663787,0.041728574782610));
res += mul(Get(s3,-dx,dy), float4x4(0.081457339227200,0.014801702462137,-0.042741838842630,0.011131823994219,0.000237425352680,-0.030129576101899,0.004587653093040,0.060587234795094,-0.007871184498072,0.003720316570252,-0.003911637701094,-0.019032305106521,0.013323479332030,0.007204809691757,-0.000495232467074,0.016642631962895));
res += mul(Get(s3,0,-dy), float4x4(0.046893347054720,-0.010973611846566,-0.019070612266660,0.025056201964617,-0.021678240969777,-0.022601360455155,0.039968796074390,0.015171199105680,0.010007233358920,-0.005095751490444,0.005837953649461,0.016363451257348,0.025577643886209,-0.013712706044316,-0.018279707059264,-0.016864845529199));
res += mul(Get(s3,0,0), float4x4(0.038657139986753,-0.012429224327207,-0.018596477806568,0.036857116967440,-0.021034650504589,0.031607929617167,-0.010900327004492,-0.018592605367303,0.011212255805731,0.002076103584841,0.015237961895764,0.004820093978196,-0.012765914201736,0.023707184940577,0.009478897787631,0.017001183703542));
res += mul(Get(s3,0,dy), float4x4(-0.033836320042610,0.031522296369076,-0.019332870841026,0.014848076738417,0.011384460143745,-0.022107519209385,-0.006027864292264,-0.013657470233738,0.000924315885641,0.003371604485437,-0.008607584983110,0.000753300322685,-0.005281220190227,0.012644904665649,0.006442917976528,0.004468301776797));
res += mul(Get(s3,dx,-dy), float4x4(0.017066804692149,-0.010190495289862,0.002776381559670,0.009016081690788,0.003102128161117,-0.015399758704007,0.005286848638207,0.047306310385466,-0.005949738901109,0.017058987170458,0.020058376714587,0.008804858662188,0.016399428248405,-0.013910519890487,0.006870260927826,0.010645234957337));
res += mul(Get(s3,dx,0), float4x4(0.017283769324422,0.043959736824036,-0.025517517700791,-0.010993506759405,-0.018208367750049,0.004755754023790,0.015148336999118,0.015539633110166,-0.000887279456947,-0.000369343586499,-0.008089784532785,0.012279068119824,0.007627565413713,0.002575863618404,-0.018623819574714,0.003726249095052));
res += mul(Get(s3,dx,dy), float4x4(-0.049216356128454,0.010678444057703,0.002401088830084,-0.048542927950621,-0.025011178106070,-0.017818981781602,-0.018289990723133,0.007544298656285,-0.010839027352631,-0.008669923059642,0.005569681525230,0.008933175355196,0.020140362903476,-0.007035086862743,0.013544554822147,-0.010352773591876));
return max(float4(0,0,0,0), res);
}
