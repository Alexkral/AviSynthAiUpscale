sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.038147788494825,-0.040912184864283,-0.007051927968860,0.005532976239920,-0.029064029455185,0.085697822272778,0.048407040536404,0.033910989761353,-0.052894633263350,0.080836527049541,0.026324674487114,0.016813401132822,-0.043868783861399,0.088331550359726,0.037496928125620,0.008595338091254));
res += mul(Get(s0,-dx,0), float4x4(0.033603597432375,-0.017375215888023,-0.004017526283860,0.013140326365829,0.333018332719803,-0.325665056705475,-0.090232916176319,0.007982264272869,0.100928038358688,-0.097304582595825,-0.034160081297159,0.002306985436007,-0.026802798733115,0.053589198738337,0.035994563251734,-0.001164849963970));
res += mul(Get(s0,-dx,dy), float4x4(-0.009428932331502,0.024829188361764,0.009434217587113,0.002019852166995,0.071791328489780,0.098582923412323,0.014203213155270,0.004078464116901,-0.040152203291655,0.104428723454475,0.068038016557693,-0.005060913506895,0.065258048474789,-0.059119101613760,-0.010970438830554,0.003495480166748));
res += mul(Get(s0,0,-dy), float4x4(-0.000424497964559,-0.016325008124113,-0.005039494484663,-0.014309975318611,-0.081047557294369,0.086121119558811,-0.025353131815791,0.009746210649610,-0.002872008364648,0.008444918319583,-0.015595677308738,0.016643159091473,0.003246650332585,0.052648656070232,0.041283838450909,-0.009226773865521));
res += mul(Get(s0,0,0), float4x4(-0.009082004427910,0.044177886098623,0.041557200253010,0.011232353746891,0.041450828313828,-0.088780142366886,-0.036294672638178,0.008002434857190,0.085191875696182,-0.084179244935513,-0.036852356046438,0.007066169288009,-0.005525933112949,0.003249591914937,-0.033566545695066,0.006453414913267));
res += mul(Get(s0,0,dy), float4x4(-0.013865802437067,0.021013699471951,0.005872651003301,0.007059617433697,-0.098237246274948,0.284605532884598,0.215895697474480,0.007084862329066,-0.046188086271286,0.172149032354355,0.124563708901405,0.000383331411285,0.032787308096886,-0.065080858767033,-0.025036022067070,-0.014118570834398));
res += mul(Get(s0,dx,-dy), float4x4(0.008420731872320,0.004979480523616,0.011494970880449,-0.004580435808748,0.023280136287212,0.044806502759457,-0.011241169646382,0.009601197205484,0.027155777439475,-0.017221298068762,-0.019870378077030,-0.001058333902620,0.024150658398867,-0.010972952470183,0.040050376206636,-0.010102847591043));
res += mul(Get(s0,dx,0), float4x4(-0.013617796823382,0.023902377113700,0.015692012384534,-0.008046898059547,-0.005231670569628,0.060830023139715,-0.007665021345019,-0.009289146400988,0.022367093712091,0.024248667061329,0.010604811832309,0.001439464394934,0.031806349754333,0.018483879044652,-0.017815260216594,-0.000052114155551));
res += mul(Get(s0,dx,dy), float4x4(0.005707800388336,-0.033979583531618,-0.010235678404570,-0.006107538472861,0.004443668760359,0.020413592457771,0.077809281647205,-0.004394652787596,-0.008912254124880,0.055653069168329,0.065959088504314,-0.013872679322958,0.006970067508519,-0.001263905549422,-0.011333645321429,-0.005456991959363));
res += mul(Get(s1,-dx,-dy), float4x4(0.265661597251892,-0.149124518036842,-0.002624115673825,0.028740368783474,0.008987143635750,-0.011515181511641,-0.009005999192595,0.001967659220099,-0.013940849341452,-0.006213790271431,0.004946914501488,0.005686624441296,-0.003322113538161,0.013072845526040,-0.014496996998787,0.012296208180487));
res += mul(Get(s1,-dx,0), float4x4(0.430408805608749,-0.252669215202332,-0.113345868885517,-0.006746212951839,-0.012946076691151,0.039732195436954,0.007626479025930,0.009330247528851,-0.008621972985566,0.012263557873666,0.016783395782113,0.011491937562823,0.008214290253818,-0.013266781345010,-0.003298951545730,0.001510191126727));
res += mul(Get(s1,-dx,dy), float4x4(-0.077636316418648,0.211562514305115,-0.003792461706325,-0.006048667710274,0.000455337780295,-0.015834428369999,-0.001314012100920,-0.007243857719004,-0.012092122808099,0.025098029524088,0.010765891522169,-0.014506191946566,0.008500617928803,0.010730440728366,0.006008674856275,-0.015127571299672));
res += mul(Get(s1,0,-dy), float4x4(0.076742276549339,-0.168879926204681,-0.116698384284973,0.025260832160711,0.006601242348552,0.002539422363043,0.020377567037940,-0.012620216235518,0.018068466335535,0.002698069438338,0.005412063095719,0.000931203539949,-0.006818730849773,0.015291552059352,0.004031625576317,0.000998205854557));
res += mul(Get(s1,0,0), float4x4(0.230489656329155,-0.023227890953422,0.157156407833099,0.001307152793743,-0.011095702648163,0.023713525384665,0.010236400179565,-0.008777822367847,-0.000754957087338,0.002050640527159,0.002090123947710,-0.007794486824423,0.004277470987290,-0.004435909446329,0.000660205725580,-0.006432975176722));
res += mul(Get(s1,0,dy), float4x4(-0.153562769293785,0.569879591464996,0.252435237169266,0.018951082602143,0.011256516911089,-0.008992297574878,-0.028246834874153,0.002869319170713,0.006607589777559,0.008818876929581,-0.017035970464349,0.003416252322495,0.000650690810289,-0.014778677374125,-0.016488630324602,0.004353436641395));
res += mul(Get(s1,dx,-dy), float4x4(-0.100586414337158,0.223302885890007,-0.082770675420761,0.003109228098765,-0.016695130616426,0.001346084289253,0.003429411211982,-0.000593285949435,-0.003288440871984,-0.020311217755079,-0.004479513037950,0.017749011516571,-0.010380034334958,-0.009627427905798,0.005039429757744,0.006627895403653));
res += mul(Get(s1,dx,0), float4x4(-0.160904228687286,0.299778640270233,0.240470454096794,-0.041887719184160,-0.002866914728656,-0.015050208196044,0.007196389138699,-0.011417496949434,0.001273755216971,-0.001103889197111,0.005087867379189,-0.000420187367126,-0.016847571358085,-0.012134748511016,0.001389212557115,0.006151490379125));
res += mul(Get(s1,dx,dy), float4x4(-0.081049695611000,0.168477594852448,0.203819036483765,-0.000366911292076,-0.006945924367756,-0.008086701855063,0.001314527704380,-0.007155246101320,-0.011817490682006,0.007075563538820,0.005239349324256,-0.015244205482304,0.002671817783266,0.000212374274270,-0.004733703564852,0.015143498778343));
res += mul(Get(s2,-dx,-dy), float4x4(0.016063708811998,0.061005230993032,0.020499261096120,0.001028910628520,-0.005316554103047,0.028208235278726,0.006329865194857,-0.007940322160721,-0.016625655815005,0.064563147723675,0.026514168828726,0.005767899565399,-0.043670561164618,0.086013346910477,0.008360992185771,0.000361679558409));
res += mul(Get(s2,-dx,0), float4x4(-0.115084365010262,0.311234712600708,0.169537261128426,0.008962040767074,0.011469610035419,-0.013657715171576,0.008174108341336,-0.011206638999283,-0.014251013286412,0.022151675075293,-0.000793338927906,-0.009324205107987,-0.011576978489757,0.023560509085655,0.002644296968356,-0.003626174526289));
res += mul(Get(s2,-dx,dy), float4x4(-0.043892920017242,0.174992218613625,0.074757479131222,0.012211238034070,0.003792037488893,0.004143840167671,-0.001293337205425,0.005569543689489,0.011127935722470,-0.009878169745207,0.013091950677335,0.006624687928706,-0.005767303053290,0.067200630903244,0.063023231923580,-0.008269241079688));
res += mul(Get(s2,0,-dy), float4x4(-0.032832074910402,0.200373381376266,0.085430964827538,-0.013329605571926,-0.008781384676695,0.024795835837722,0.003226561471820,-0.009630289860070,0.015015545301139,0.022386625409126,0.021503366529942,0.005513442680240,0.028514469042420,0.028638528659940,0.000060841492086,0.004519763402641));
res += mul(Get(s2,0,0), float4x4(-0.132348239421844,0.272661507129669,0.160591661930084,-0.017537625506520,0.020571332424879,-0.027794592082500,-0.009603817015886,0.007799389306456,0.032144922763109,-0.036947984248400,-0.015219725668430,-0.008963094092906,0.024341814219952,0.024304233491421,-0.022053794935346,0.002386905951425));
res += mul(Get(s2,0,dy), float4x4(0.102067790925503,-0.162178397178650,-0.092155985534191,0.006929891649634,-0.008668724447489,0.015419706702232,0.007455682847649,-0.011272856965661,0.024079011753201,-0.029096622020006,-0.017310576513410,0.013339080847800,0.014659477397799,0.008737799711525,0.036727119237185,-0.004168666433543));
res += mul(Get(s2,dx,-dy), float4x4(0.159873768687248,-0.042316675186157,0.073313571512699,-0.016474831849337,0.007960977964103,0.001264853402972,-0.007067865226418,0.013272539712489,0.014708440750837,-0.005033960565925,0.002978969598189,0.001408383017406,0.039273694157600,-0.022721324115992,0.004000784363598,0.012559939175844));
res += mul(Get(s2,dx,0), float4x4(0.145873486995697,-0.046697340905666,-0.050128791481256,-0.004798120353371,0.009421326220036,-0.019482623785734,-0.001270820619538,-0.006309812422842,0.025356162339449,-0.019439583644271,-0.012295891530812,0.015653492882848,0.074545584619045,-0.060405313968658,-0.008797041140497,0.017404280602932));
res += mul(Get(s2,dx,dy), float4x4(0.078999027609825,-0.072960287332535,-0.117199137806892,0.001229823566973,-0.008317131549120,0.008985614404082,0.015492740087211,-0.007322453893721,0.006900197826326,0.026550522074103,0.006973453331739,-0.009508695453405,0.046118561178446,-0.005121560767293,-0.000552272133064,-0.006586129311472));
res += mul(Get(s3,-dx,-dy), float4x4(-0.218300357460976,0.386251658201218,0.124758280813694,0.019568515941501,-0.000902582833078,0.000103221689642,-0.001296253991313,-0.004619622137398,0.082673259079456,-0.069597356021404,-0.017838221043348,0.006583455950022,-0.032034762203693,0.056665863841772,0.024180054664612,0.007789955940098));
res += mul(Get(s3,-dx,0), float4x4(0.190083131194115,-0.174737632274628,-0.022241633385420,0.022189602255821,0.014589752070606,-0.023389529436827,-0.005074657499790,0.007839356549084,0.021748099476099,0.074080608785152,0.030534049496055,-0.001561719924212,0.001496857614256,0.011503738351166,0.000469765334856,-0.006226207595319));
res += mul(Get(s3,-dx,dy), float4x4(0.154572501778603,0.013223479501903,0.011919999495149,0.004796461667866,0.020847840234637,-0.007253855932504,-0.008824639022350,-0.000613569573034,-0.066449880599976,0.120487160980701,0.048809468746185,-0.004659343045205,0.014454571530223,-0.041929971426725,-0.011270850896835,-0.011495026759803));
res += mul(Get(s3,0,-dy), float4x4(-0.151050552725792,0.343468189239502,0.113268978893757,0.018923120573163,0.010257937945426,-0.005441275425255,0.002844816073775,0.006294206250459,0.068691737949848,-0.070329055190086,-0.039441615343094,0.007816357538104,0.015935279428959,-0.009259743615985,0.003024286357686,-0.001536821830086));
res += mul(Get(s3,0,0), float4x4(0.142305850982666,-0.304587364196777,-0.210457026958466,0.020513646304607,0.008143696933985,-0.014608278870583,-0.008218915201724,-0.004775661043823,0.025222025811672,0.086951039731503,0.095711126923561,-0.006930829025805,0.026614094153047,-0.045012116432190,-0.014004393480718,0.000722263182979));
res += mul(Get(s3,0,dy), float4x4(0.091851338744164,0.080700382590294,0.138349190354347,-0.005040327087045,0.013957628048956,-0.004790517035872,0.006659736856818,0.005831667222083,0.005742514505982,0.064087405800819,0.019169589504600,-0.002009788528085,-0.009298645891249,0.010726356878877,-0.002029410330579,0.007816290482879));
res += mul(Get(s3,dx,-dy), float4x4(0.091417521238327,0.052723068743944,0.030873067677021,0.006877762265503,0.003359987633303,0.005677932407707,-0.013551811687648,0.010489217005670,0.008879460394382,-0.002799606882036,-0.010892171412706,-0.007830225862563,-0.002160924486816,0.009732892736793,-0.003851952729747,0.005759753286839));
res += mul(Get(s3,dx,0), float4x4(0.098965421319008,-0.069341242313385,-0.169552743434906,-0.001303208526224,0.004267067182809,0.011610383167863,0.003102863673121,0.006980817299336,-0.006929603405297,0.058717612177134,0.072871379554272,-0.002750520827249,0.000512034283020,-0.000590178067796,0.014495169743896,0.005227123387158));
res += mul(Get(s3,dx,dy), float4x4(0.010833491571248,0.076540462672710,0.129988104104996,-0.006468890234828,-0.014298316091299,-0.017202176153660,-0.010023086331785,-0.005402028560638,0.017904959619045,0.010814392007887,0.023538287729025,-0.005973978899419,0.010150008834898,0.027859533205628,0.007763567846268,-0.000221448790398));
return max(float4(0,0,0,0), res);
}
