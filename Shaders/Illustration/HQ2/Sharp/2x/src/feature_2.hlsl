sampler s0 : register(s0);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(x, y)   tex2D(s0, tex + float2(x, y))[0]

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += float4(-0.000697776151355,0.055875129997730,-0.031547687947750,-0.085587546229362) * Get(-dx,-dy);
res += float4(0.019960304722190,0.100984282791615,0.012450783513486,-0.119048625230789) * Get(-dx,0);
res += float4(-0.058978095650673,-0.177560210227966,-0.040568370372057,-0.100969828665257) * Get(-dx,dy);
res += float4(-0.076427184045315,-0.002224649302661,0.009519411250949,0.076408647000790) * Get(0,-dy);
res += float4(0.038858059793711,-0.064716182649136,-0.006484838202596,0.016961390152574) * Get(0,0);
res += float4(0.057799708098173,-0.092697434127331,0.006564863957465,0.017295746132731) * Get(0,dy);
res += float4(-0.037981510162354,-0.005699539557099,-0.063494451344013,-0.056272432208061) * Get(dx,-dy);
res += float4(-0.013114634901285,0.033225845545530,-0.029688538983464,0.097850024700165) * Get(dx,0);
res += float4(0.001826632302254,-0.075979016721249,0.010744510218501,0.022231319919229) * Get(dx,dy);
return max(float4(0,0,0,0), res);
}
