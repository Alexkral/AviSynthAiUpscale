sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.002082336461172,0.053837131708860,-0.008449968881905,-0.061258502304554,0.025447560474277,0.003252020804211,0.007320527452976,-0.014284559525549,-0.016423646360636,-0.023784214630723,-0.016338165849447,0.076635643839836,-0.001223407103680,-0.026079501956701,0.046166352927685,-0.029454087838531));
res += mul(Get(s0,-dx,0), float4x4(0.046164542436600,0.059102144092321,-0.013960997574031,0.008393331430852,0.084917597472668,0.045804169028997,0.083770789206028,0.010116808116436,0.001676046755165,-0.007576894946396,-0.010388116352260,0.051399413496256,-0.006878711283207,-0.020330768078566,-0.030801780521870,-0.043110616505146));
res += mul(Get(s0,-dx,dy), float4x4(0.020553817972541,0.011292568407953,0.008367652073503,-0.009261390194297,0.012532751075923,0.000739460694604,-0.018782813102007,0.007535830605775,0.052683770656586,-0.002584438305348,-0.022623911499977,0.002696937182918,0.040733415633440,-0.023314641788602,-0.082861259579659,-0.067800886929035));
res += mul(Get(s0,0,-dy), float4x4(-0.047232940793037,0.043543972074986,-0.041730910539627,-0.003335583955050,0.090308815240860,-0.067992381751537,0.016549514606595,-0.005863600876182,0.060226287692785,-0.015057170763612,0.011944742873311,-0.009677770547569,-0.055636316537857,0.034614954143763,-0.025094268843532,0.011433031409979));
res += mul(Get(s0,0,0), float4x4(0.078431904315948,-0.020464932546020,0.107055500149727,-0.005626858677715,0.021430160850286,0.068927235901356,0.006022895686328,-0.053121522068977,0.091417841613293,0.018021235242486,0.055423468351364,0.044642612338066,0.051070384681225,-0.009540733881295,0.041905615478754,0.031821347773075));
res += mul(Get(s0,0,dy), float4x4(-0.042501475661993,0.108241118490696,0.064496971666813,-0.002682121936232,0.029624193906784,0.036385685205460,0.039228156208992,-0.034422844648361,-0.018982347100973,0.004851359874010,-0.015995800495148,0.061800256371498,0.006271614693105,0.019075028598309,0.054275650531054,0.035093497484922));
res += mul(Get(s0,dx,-dy), float4x4(-0.037142552435398,0.045050062239170,0.060161061584949,0.013744649477303,-0.046626456081867,0.001640244503506,0.092932119965553,0.070304691791534,0.041447475552559,-0.027618594467640,-0.060276605188847,0.030535243451595,-0.031759977340698,0.004583319649100,-0.033120371401310,0.034167103469372));
res += mul(Get(s0,dx,0), float4x4(-0.043488681316376,-0.038625609129667,0.021826535463333,-0.023704020306468,-0.042821556329727,0.060463577508926,0.038835689425468,0.066810354590416,0.051387239247561,0.024224210530519,-0.025967199355364,-0.010586722753942,0.037735361605883,-0.065637595951557,-0.014714699238539,0.042411167174578));
res += mul(Get(s0,dx,dy), float4x4(0.032274983823299,0.093034975230694,-0.046168662607670,-0.011685023084283,0.021921783685684,-0.017149459570646,0.031680706888437,-0.017054198309779,0.002324068220332,0.015835376456380,-0.030285803601146,-0.016803111881018,0.012687842361629,-0.015001135878265,-0.078919366002083,0.004526180680841));
res += mul(Get(s1,-dx,-dy), float4x4(-0.033438421785831,-0.004846173338592,0.036457791924477,-0.014673002995551,0.059191491454840,-0.011622480116785,0.020203476771712,0.010127349756658,0.038884215056896,0.024627044796944,0.031752903014421,-0.012762191705406,0.016549648717046,-0.002566030016169,0.013147605583072,-0.008052633143961));
res += mul(Get(s1,-dx,0), float4x4(0.019371498376131,-0.007281583733857,-0.001626616693102,-0.033437229692936,0.024356583133340,0.034875482320786,-0.003820512443781,-0.040760960429907,-0.007553604897112,-0.027979621663690,0.024878764525056,0.055579870939255,0.030487604439259,-0.006740137934685,0.006638452410698,-0.020093912258744));
res += mul(Get(s1,-dx,dy), float4x4(0.039557013660669,0.003243023063987,-0.004740808624774,-0.021422248333693,0.046514682471752,-0.024841153994203,0.034694142639637,-0.016001170501113,0.046662058681250,-0.068786941468716,0.007192746736109,0.000184563934454,0.018709698691964,0.014401230961084,-0.001505423337221,-0.012686069123447));
res += mul(Get(s1,0,-dy), float4x4(0.069666050374508,0.026225470006466,0.016703825443983,-0.033936683088541,0.030298063531518,0.019890885800123,0.005722050089389,-0.000039090671635,0.071501478552818,0.009032775647938,-0.011708595789969,0.031094742938876,0.019727885723114,-0.034174319356680,-0.013208564370871,-0.017172930762172));
res += mul(Get(s1,0,0), float4x4(0.059022396802902,-0.014215654693544,0.040630541741848,-0.023861262947321,-0.006347873248160,-0.014449006877840,-0.044329009950161,-0.029518021270633,0.050970781594515,0.034721266478300,0.032366596162319,0.016444226726890,-0.008833103813231,-0.004262484610081,0.008238561451435,0.031960777938366));
res += mul(Get(s1,0,dy), float4x4(0.009718269109726,-0.002720482647419,0.009120190516114,-0.039043538272381,0.096859030425549,-0.009702061302960,0.001592924934812,-0.044587604701519,0.004610382486135,0.032401137053967,0.049712330102921,0.056585341691971,-0.004579479340464,-0.018746238201857,-0.005910952575505,0.022761156782508));
res += mul(Get(s1,dx,-dy), float4x4(-0.039826173335314,-0.037397418171167,-0.037165246903896,0.050335399806499,0.033845156431198,-0.018479187041521,-0.030053768306971,-0.073647081851959,0.027274977415800,0.023521559312940,0.016706474125385,0.030206317082047,-0.007575209252536,-0.018034648150206,0.005758267361671,-0.003882999299094));
res += mul(Get(s1,dx,0), float4x4(-0.019678797572851,-0.000332375173457,-0.021511884406209,0.042499240487814,0.024336382746696,-0.015051112510264,-0.050688222050667,-0.027274012565613,0.045368924736977,-0.050104774534702,-0.000606077315751,-0.005208533257246,0.006326267961413,-0.001897356356494,0.033727347850800,0.007876665331423));
res += mul(Get(s1,dx,dy), float4x4(-0.031673721969128,-0.011201096698642,-0.015883468091488,0.007033364847302,0.042091675102711,-0.016870532184839,-0.019073612987995,-0.046413648873568,-0.043714173138142,0.020926171913743,-0.041998360306025,0.015954030677676,-0.041876491159201,0.019935889169574,-0.001711254473776,0.039485611021519));
res += mul(Get(s2,-dx,-dy), float4x4(-0.089494802057743,0.000744778371882,-0.034703731536865,0.012625190429389,-0.005065345205367,0.008187338709831,0.052340477705002,0.025847626850009,-0.034979674965143,0.050782911479473,-0.012000837363303,-0.010656341910362,0.005335856694728,0.014997564256191,0.028275223448873,0.001130301156081));
res += mul(Get(s2,-dx,0), float4x4(-0.054797437041998,-0.041439551860094,-0.015712456777692,0.008590841665864,-0.093004427850246,-0.024051724001765,0.036974541842937,0.033400606364012,0.050924651324749,0.043620660901070,0.056066300719976,0.069853886961937,0.039980623871088,0.008165430277586,0.029830805957317,-0.015851713716984));
res += mul(Get(s2,-dx,dy), float4x4(-0.018384998664260,0.058253217488527,0.018667768687010,-0.064470604062080,-0.034284334629774,-0.021798817440867,0.016066340729594,-0.029414739459753,-0.024912042543292,0.039170522242785,0.069738499820232,-0.000700406904798,0.056322481483221,0.003189209150150,0.024994917213917,-0.059186942875385));
res += mul(Get(s2,0,-dy), float4x4(0.023071523755789,0.017805660143495,-0.021596523001790,-0.041132677346468,0.015462058596313,-0.024910707026720,-0.016557304188609,-0.006364018656313,-0.026789654046297,0.079857856035233,0.051248360425234,-0.083932332694530,0.009256091900170,0.058599948883057,0.019570339471102,0.061954397708178));
res += mul(Get(s2,0,0), float4x4(0.106309473514557,0.032638233155012,0.070465654134750,0.011723401956260,0.012931170873344,0.025290682911873,0.060856658965349,0.052874486893415,0.074902944266796,0.017290363088250,0.068892516195774,-0.037857137620449,-0.000309553463012,0.032426785677671,0.087514601647854,0.083405710756779));
res += mul(Get(s2,0,dy), float4x4(0.060896195471287,0.071908995509148,-0.033281520009041,-0.021115442737937,-0.017235672101378,0.025740079581738,0.007311653811485,0.042973335832357,0.000471922452562,0.027250923216343,0.032191436737776,0.069634139537811,0.008787156082690,-0.005049921106547,0.031538609415293,-0.003800983307883));
res += mul(Get(s2,dx,-dy), float4x4(-0.034281633794308,-0.011379824951291,0.030557058751583,-0.010442583821714,-0.061133548617363,-0.020294660702348,0.051036741584539,-0.101965904235840,0.034110669046640,0.042604692280293,0.028501566499472,-0.098878957331181,-0.043071195483208,0.025846084579825,-0.034517206251621,-0.029097588732839));
res += mul(Get(s2,dx,0), float4x4(-0.075361408293247,0.037265218794346,0.024434158578515,0.009168054908514,-0.042425617575645,0.003274714807048,0.004562086425722,-0.059013754129410,0.022918483242393,0.029066739603877,0.053922805935144,-0.106116078794003,0.042507041245699,0.050148814916611,0.009183386340737,-0.002953789429739));
res += mul(Get(s2,dx,dy), float4x4(-0.018759585916996,0.011077749542892,-0.017263730987906,0.050442505627871,-0.051149595528841,-0.002057427074760,-0.014771016314626,-0.039687003940344,0.004505745135248,0.070181965827942,0.076985590159893,-0.058707818388939,0.050504717975855,0.050969306379557,0.058851495385170,0.025931622833014));
res += mul(Get(s3,-dx,-dy), float4x4(0.006828016601503,0.046332128345966,0.012033766135573,0.022708965465426,-0.001442123670131,-0.046951975673437,-0.028646016493440,-0.013143983669579,0.122771568596363,0.005552578251809,0.053162034600973,0.031548067927361,0.022353578358889,-0.021115941926837,-0.040513284504414,-0.013770231045783));
res += mul(Get(s3,-dx,0), float4x4(0.048782590776682,0.042627178132534,0.014084265567362,-0.014044567011297,-0.012743066996336,0.004622573964298,-0.005060133058578,0.004476321861148,0.022050941362977,0.034929987043142,-0.021453481167555,-0.021492671221495,-0.004930505063385,-0.012470219284296,-0.060486447066069,-0.010398419573903));
res += mul(Get(s3,-dx,dy), float4x4(0.068528071045876,-0.034716192632914,0.031559333205223,0.028137218207121,-0.031963557004929,-0.017900003120303,0.000102467573015,-0.001969041302800,0.034358691424131,0.005606826860458,0.020398458465934,-0.042509738355875,0.037963062524796,0.000202660012292,-0.034473691135645,-0.012298755347729));
res += mul(Get(s3,0,-dy), float4x4(-0.035160131752491,0.051550578325987,-0.012064734473825,-0.029998425394297,-0.004299357067794,-0.038690857589245,-0.021160118281841,-0.002140143187717,0.032913792878389,0.036114495247602,0.034475792199373,0.036306843161583,-0.009392914362252,-0.007329013198614,-0.021154761314392,-0.023214278742671));
res += mul(Get(s3,0,0), float4x4(0.018425030633807,0.000053450406995,-0.033624537289143,-0.015246921218932,-0.030395384877920,0.002448240760714,-0.000124494166812,0.001843756763265,-0.032542508095503,0.028216816484928,-0.042371720075607,0.072976402938366,-0.036464996635914,-0.017231432721019,-0.024354800581932,-0.019589848816395));
res += mul(Get(s3,0,dy), float4x4(0.002219474641606,0.017274126410484,0.029746463522315,0.033493068069220,-0.021156493574381,-0.021630071103573,0.035398885607719,-0.024280395358801,0.046426296234131,0.003858970711008,0.043486550450325,-0.041645269840956,-0.051248941570520,0.004029700998217,-0.010169937275350,-0.003970250021666));
res += mul(Get(s3,dx,-dy), float4x4(-0.019471541047096,0.049936726689339,-0.048704445362091,0.060503412038088,0.018028192222118,-0.026041330769658,-0.027828320860863,0.008200509473681,0.064059019088745,0.004796256311238,0.020868156105280,-0.017904544249177,0.015420191921294,-0.012229915708303,-0.025592338293791,-0.029332168400288));
res += mul(Get(s3,dx,0), float4x4(0.044300787150860,-0.038396257907152,-0.054394248872995,0.051978524774313,0.036939077079296,-0.005544533021748,-0.001537531614304,0.008695980533957,0.043232858181000,0.026280565187335,0.018270364031196,0.032597735524178,0.014906199648976,-0.006492963526398,-0.020864356309175,-0.020770855247974));
res += mul(Get(s3,dx,dy), float4x4(0.037740755826235,0.022561566904187,-0.041881952434778,0.002398548647761,0.029036777094007,0.000911586976144,0.036244262009859,-0.014081131666899,-0.028219724074006,0.011841673403978,-0.013783127069473,-0.035263668745756,0.030420036986470,0.006402273662388,-0.021564798429608,-0.024638630449772));
return max(float4(0,0,0,0), res);
}
