sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.094770006835461,0.015244626440108,0.015506721101701,-0.012602561153471,0.125546753406525,-0.002349863760173,0.005562318954617,-0.005450353957713,0.031466547399759,-0.001534907030873,0.006440647877753,0.005728449672461,0.000520516943652,0.000290052383207,0.011649397201836,0.009703212417662));
res += mul(Get(s0,-dx,0), float4x4(0.073747880756855,0.017420992255211,-0.011418169364333,-0.004129226785153,-0.229817911982536,0.017790287733078,-0.001265809522010,-0.014830114319921,0.010767711326480,0.006992098875344,0.004512317478657,0.011192435398698,-0.026980461552739,0.022504862397909,0.008765198290348,0.010882291011512));
res += mul(Get(s0,-dx,dy), float4x4(0.370538175106049,0.000260404834989,0.007165391463786,-0.003833843627945,0.147484481334686,-0.007005006074905,0.017553852871060,-0.003112324047834,-0.037699073553085,-0.003395747160539,-0.002653836272657,-0.001945762778632,-0.000476361019537,0.013349398039281,0.004822238348424,0.001963340910152));
res += mul(Get(s0,0,-dy), float4x4(0.204606845974922,0.012886965647340,0.024656612426043,-0.006793084554374,0.273019760847092,0.010336450301111,0.007443070877343,0.000297420163406,0.102547787129879,-0.004773820284754,0.012270814739168,0.012729770503938,0.021713027730584,0.008313461206853,-0.010271324776113,0.014546263031662));
res += mul(Get(s0,0,0), float4x4(-0.432133525609970,0.002834279322997,-0.018073556944728,-0.008072670549154,-0.266770839691162,0.020510202273726,0.001651681028306,-0.004379173275083,-0.001321108662523,-0.009016615338624,0.009071941487491,0.014125597663224,-0.015508241020143,-0.022446587681770,0.006313455291092,-0.012826788239181));
res += mul(Get(s0,0,dy), float4x4(0.201356023550034,-0.012398330494761,0.006337379571050,0.012765401042998,0.202143400907516,-0.011205458082259,0.007748532574624,-0.004279217217118,-0.149884030222893,-0.002352818148211,0.015598828904331,-0.022304480895400,0.028861433267593,0.016638685017824,-0.014972208067775,-0.006321194581687));
res += mul(Get(s0,dx,-dy), float4x4(0.263873279094696,0.012166947126389,0.013803623616695,-0.001638953341171,0.225942507386208,0.011584525927901,0.001652403851040,0.001984543865547,0.124323844909668,-0.018076783046126,-0.002154317218810,0.000382937229006,0.005405689124018,-0.018003245815635,0.006235077511519,0.029425118118525));
res += mul(Get(s0,dx,0), float4x4(-0.209345638751984,0.020952254533768,-0.005807432346046,-0.001815429539420,0.108265735208988,0.000244132112130,-0.005790442693979,-0.006538087502122,0.169462159276009,0.003936213906854,-0.013789077289402,0.000098661497759,-0.024407997727394,0.008232718333602,-0.000087945743871,0.002747897757217));
res += mul(Get(s0,dx,dy), float4x4(-0.058308098465204,-0.009949213825166,0.015378645621240,-0.012343364767730,0.179940149188042,0.003998842556030,0.011877075769007,-0.008907458744943,0.100716039538383,0.000593827164266,-0.010956523939967,0.001611941843294,0.004436253104359,0.008224012330174,-0.002868911949918,0.010557316243649));
res += mul(Get(s1,-dx,-dy), float4x4(-0.090764373540878,0.009605566971004,0.003783092834055,0.006274342536926,0.002209065016359,0.006006724666804,-0.008282693102956,-0.002844953443855,-0.069739788770676,0.004860281478614,-0.000798291759565,-0.009383030235767,0.021474238485098,-0.004173460416496,0.004980548284948,-0.007308434695005));
res += mul(Get(s1,-dx,0), float4x4(-0.002620155224577,0.002356281736866,-0.001870467094705,-0.004080280661583,-0.004355741664767,-0.005245628766716,-0.000075602627476,-0.017768017947674,0.525527298450470,-0.028239738196135,-0.012357353232801,0.002758001908660,0.628951430320740,-0.008392258547246,-0.016464998945594,-0.003115682164207));
res += mul(Get(s1,-dx,dy), float4x4(0.068172313272953,0.011906305328012,0.004686668049544,0.003181160660461,-0.000728469574824,-0.007998939603567,0.008734758011997,-0.002975144889206,0.366830497980118,-0.004660667385906,-0.018897738307714,-0.006869682110846,0.356330275535583,0.013343110680580,-0.016331614926457,-0.007533256430179));
res += mul(Get(s1,0,-dy), float4x4(0.032374031841755,-0.007560935337096,-0.008593217469752,0.003584466874599,-0.000740320829209,0.010458901524544,0.004065586254001,0.007959828712046,0.112553462386131,-0.014635202474892,0.003331835381687,0.007262032944709,0.044292297214270,-0.001989459386095,-0.000975263305008,-0.017927234992385));
res += mul(Get(s1,0,0), float4x4(0.170375198125839,0.001582346740179,0.023465458303690,0.009090698324144,0.007611409295350,0.007154216058552,0.003387334290892,0.001247412641533,0.037853717803955,0.005370457656682,0.011450077407062,0.000459753413452,-0.298327773809433,0.014531566761434,0.005553416442126,-0.011752057820559));
res += mul(Get(s1,0,dy), float4x4(0.063679166138172,0.005907794460654,-0.013332053087652,0.002650629961863,-0.000226802178076,-0.000844408059493,-0.013023044914007,-0.004009741358459,-0.263744801282883,0.021653458476067,0.008341051638126,-0.006421801168472,-0.293291300535202,0.006694850511849,0.009658993221819,-0.003597034607083));
res += mul(Get(s1,dx,-dy), float4x4(0.021822851151228,-0.000968395266682,0.002470686798915,0.015907971188426,0.000747866812162,-0.001538070966490,-0.007158794905990,-0.002017284277827,0.111407928168774,-0.003723820904270,-0.007244947832078,0.012346065603197,0.222857490181923,-0.008034778758883,0.013718632981181,0.014465762302279));
res += mul(Get(s1,dx,0), float4x4(-0.019046934321523,-0.004429414402694,-0.002679597586393,0.005219744052738,0.001149500836618,-0.005721939727664,0.013049846515059,0.001230058143847,0.014058677479625,0.015999268740416,0.010293950326741,-0.004269621800631,0.020763386040926,0.016809633001685,-0.001619151094928,0.004680392332375));
res += mul(Get(s1,dx,dy), float4x4(-0.091670826077461,0.004279817920178,0.008433334529400,0.013884106650949,0.003735498990864,0.003894206602126,0.000326129957102,-0.016282606869936,-0.093402966856956,0.014397187158465,0.006188065744936,0.003314877860248,0.110111288726330,-0.015517991036177,0.002744132187217,0.003821699880064));
res += mul(Get(s2,-dx,-dy), float4x4(-0.155934333801270,-0.002090681577101,-0.003458261024207,-0.005319948308170,0.047011625021696,-0.000670957786497,-0.009846129454672,-0.004777155816555,0.015244588255882,0.009354778565466,0.005227204412222,0.008573292754591,-0.058737363666296,-0.010280811227858,0.000601026054937,-0.011046142317355));
res += mul(Get(s2,-dx,0), float4x4(0.110637009143829,-0.003575679846108,0.016924239695072,-0.009756682440639,-0.103850975632668,0.001305221347138,0.003852621885017,-0.011257070116699,0.031677402555943,0.003852904774249,-0.000251028191997,-0.010384723544121,-0.063931941986084,-0.000421666598413,-0.004303636029363,0.005258131306618));
res += mul(Get(s2,-dx,dy), float4x4(-0.100338526070118,-0.007444118149579,0.007115693297237,-0.006372227333486,0.050026986747980,-0.008293263614178,0.006301060784608,-0.007335315458477,0.046989560127258,0.005484542809427,-0.008228731341660,-0.005713794846088,-0.009629849344492,-0.001881066476926,-0.022379601374269,-0.005095248110592));
res += mul(Get(s2,0,-dy), float4x4(-0.036892421543598,0.009031223133206,0.003968088421971,0.000519405293744,-0.054139606654644,0.015973431989551,-0.002141898265108,0.008490102365613,-0.084065176546574,-0.007447303272784,0.004891695454717,-0.012186496518552,0.095710739493370,-0.009067448787391,-0.013735550455749,0.007264908403158));
res += mul(Get(s2,0,0), float4x4(0.670208573341370,-0.018341531977057,-0.004869074560702,0.000005797734502,-0.002125537255779,0.004788324702531,-0.009602189064026,-0.000221934096771,0.039326768368483,0.002676159376279,0.013204798102379,-0.003849723376334,0.116447739303112,0.002051929244772,0.007584168575704,-0.002507099183276));
res += mul(Get(s2,0,dy), float4x4(0.408202409744263,0.007359093520790,-0.006047303788364,0.004635661840439,0.105892300605774,-0.001242676866241,0.007611893583089,0.002730649197474,-0.073622845113277,0.000304224551655,0.012390123680234,0.000101376470411,-0.020103614777327,0.002901412779465,0.002155350055546,0.004922911990434));
res += mul(Get(s2,dx,-dy), float4x4(-0.146984204649925,0.004733462352306,-0.006335598416626,0.005589424632490,-0.017451625317335,0.000020666742785,0.003088346216828,-0.018045062199235,-0.050250131636858,0.001977393869311,-0.007303187157959,0.005845027510077,-0.054882738739252,-0.009392965584993,-0.003569788532332,0.000822621746920));
res += mul(Get(s2,dx,0), float4x4(-0.122450411319733,-0.002968310378492,0.015862230211496,-0.003712119767442,0.217307716608047,-0.007330517284572,-0.001957834698260,0.010139935649931,0.248305886983871,-0.007952427491546,-0.003185407491401,0.000974733731709,0.050455119460821,0.003817606251687,0.010904830880463,0.014984487555921));
res += mul(Get(s2,dx,dy), float4x4(-0.122536763548851,0.003874084213749,0.010590513236821,0.008218611590564,0.109855622053146,0.009310881607234,-0.010619488544762,-0.001244973042049,0.115879751741886,-0.000723731121980,0.009814098477364,-0.000690092681907,0.053228635340929,-0.004364654887468,0.001216216711327,0.004307657480240));
res += mul(Get(s3,-dx,-dy), float4x4(-0.001724004046991,-0.004343606997281,-0.006458009593189,0.010831898078322,0.169900268316269,-0.016841815784574,0.000866742513608,-0.004076596349478,0.138062760233879,-0.008729958906770,0.016906145960093,-0.005148937460035,-0.064988352358341,0.000949627545197,-0.003284850623459,0.002038012724370));
res += mul(Get(s3,-dx,0), float4x4(-0.010880490764976,-0.001655510044657,0.000414923735661,0.011119635775685,-0.270118206739426,0.015816019847989,0.017796667292714,-0.009201202541590,-0.007567848544568,0.017138173803687,0.010160766541958,0.007999002002180,-0.078874371945858,0.002959260018542,0.000614837394096,-0.001614433131181));
res += mul(Get(s3,-dx,dy), float4x4(0.037870872765779,-0.005391642451286,0.014650018885732,0.012583378702402,-0.243013292551041,0.005394414067268,0.003301883116364,0.005079004913568,-0.002002361463383,0.020444797351956,-0.004027676302940,0.001542981597595,0.029202794656157,-0.012717030011117,0.007131232880056,0.001008101738989));
res += mul(Get(s3,0,-dy), float4x4(0.006460451055318,-0.007308687083423,-0.000551578472368,-0.000255790946539,0.307011097669601,0.003024858422577,0.009173665195704,-0.006049074232578,0.254492640495300,-0.000613886164501,-0.003533989423886,-0.005769643932581,0.023116353899240,0.007574743125588,-0.005875600036234,0.002542317379266));
res += mul(Get(s3,0,0), float4x4(-0.003668428864330,0.006925074383616,-0.008404661901295,-0.004779822658747,-0.287127047777176,0.031582098454237,0.014911472797394,0.003825160907581,0.023641042411327,0.022645948454738,0.018219625577331,0.003300264943391,0.074332587420940,0.019370853900909,0.004446465522051,0.006964828819036));
res += mul(Get(s3,0,dy), float4x4(0.017867043614388,-0.010217932052910,0.005235300865024,0.004359040409327,-0.359120339155197,0.008189070038497,0.017688503488898,0.005520375445485,-0.221638724207878,-0.001667126896791,0.008213695138693,-0.009976997040212,-0.062240552157164,0.018172532320023,0.004169052001089,0.002457076916471));
res += mul(Get(s3,dx,-dy), float4x4(0.010268273763359,0.002158210380003,-0.001930402475409,0.007289582863450,0.306715160608292,-0.008524854667485,0.002427643164992,-0.001542470068671,-0.100639000535011,-0.006747125182301,0.010270616970956,-0.002677745185792,0.033572342246771,-0.014213523827493,0.006268539000303,-0.012353249825537));
res += mul(Get(s3,dx,0), float4x4(0.015703491866589,-0.002309415722266,0.004112403374165,0.005221229977906,0.767890989780426,0.020038219168782,-0.022042585536838,-0.013737085275352,-0.054157920181751,0.008097886107862,0.015559625811875,0.008321980945766,0.210511207580566,0.013303907588124,-0.002574053360149,-0.001192578696646));
res += mul(Get(s3,dx,dy), float4x4(-0.034811742603779,0.007370592560619,0.001652312232181,-0.009949233382940,0.445883154869080,0.007454715669155,-0.032593734562397,-0.005014459136873,-0.034192439168692,0.003650494851172,-0.000916904769838,0.010467507876456,0.012379906140268,0.008832589723170,-0.003245714120567,-0.010754286311567));
return max(float4(0,0,0,0), res);
}
