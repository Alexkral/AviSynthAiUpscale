sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.021285045892000,0.063245281577110,-0.011994377709925,0.001345402328297,0.047914940863848,-0.021978242322803,0.001962917624041,-0.011312388814986,-0.052332501858473,-0.038349427282810,0.002027842449024,0.035838235169649,-0.122080326080322,-0.015315378084779,-0.021227117627859,-0.002677598968148));
res += mul(Get(s0,-dx,0), float4x4(0.043449699878693,0.041529633104801,-0.010373846627772,-0.006468830630183,0.029746575281024,0.029210167005658,-0.004968668799847,-0.004587132483721,-0.081401780247688,0.065893180668354,0.026857018470764,-0.011215550825000,-0.143981650471687,-0.116198010742664,-0.002868598094210,0.018610872328281));
res += mul(Get(s0,-dx,dy), float4x4(0.049604739993811,0.010357622988522,0.000208444835152,0.001128186937422,0.022899549454451,0.007138620130718,-0.010781084187329,0.020952157676220,-0.038510899990797,0.114597380161285,-0.021187005564570,-0.013723679818213,-0.008478211238980,0.040660548955202,-0.021924205124378,-0.028831491246819));
res += mul(Get(s0,0,-dy), float4x4(0.010789918713272,0.038939807564020,-0.021486099809408,-0.009951169602573,0.024955945089459,0.007574963849038,-0.010189444757998,0.009035683237016,-0.075308553874493,-0.050601806491613,0.008889026939869,-0.031711231917143,-0.136487379670143,0.159040912985802,-0.022259796038270,-0.083976566791534));
res += mul(Get(s0,0,0), float4x4(0.044639579951763,0.067596510052681,-0.002435900969431,-0.009195514023304,0.036140650510788,0.019794993102551,-0.012948223389685,0.008429606445134,0.017452983185649,-0.148076638579369,-0.007140247616917,0.020822905004025,0.061038758605719,-0.112138263881207,-0.013435315340757,-0.017737876623869));
res += mul(Get(s0,0,dy), float4x4(0.042929992079735,-0.002545707393438,0.002958351280540,0.013160778209567,0.017390329390764,0.001382736954838,0.010229959152639,-0.026340348646045,0.092910654842854,0.096323959529400,-0.017544554546475,-0.014989775605500,0.116067543625832,-0.183930158615112,0.065002433955669,0.012015515007079));
res += mul(Get(s0,dx,-dy), float4x4(0.035750940442085,0.004014876671135,-0.020378090441227,0.017689773812890,0.046147957444191,0.015065343119204,0.001784641644917,0.021773682907224,0.037135519087315,0.140186727046967,-0.022219985723495,-0.036469675600529,-0.001627862802707,0.015085845254362,-0.020245237275958,0.011031769216061));
res += mul(Get(s0,dx,0), float4x4(0.027819557115436,0.037082016468048,0.009197589010000,0.001572037581354,0.011849106289446,0.017055636271834,0.008197852410376,-0.000474124390166,0.080172970890999,-0.091266989707947,-0.041645064949989,0.010754704475403,0.157251685857773,0.201721325516701,0.003913120832294,0.052146159112453));
res += mul(Get(s0,dx,dy), float4x4(0.010064014233649,0.035225924104452,0.010491875000298,-0.001572233391926,0.000594633107539,0.041778199374676,-0.001971301622689,0.011036761105061,0.027357183396816,-0.051603224128485,-0.031378362327814,0.018251569941640,-0.016102675348520,-0.062380556017160,0.032971415668726,0.029404541477561));
res += mul(Get(s1,-dx,-dy), float4x4(-0.005106915254146,-0.003703343681991,-0.018168652430177,0.008378381840885,0.004053036682308,0.031205337494612,-0.011698428541422,0.011658448725939,0.037836875766516,0.016621647402644,-0.016819583252072,0.006711961701512,0.014235109090805,0.001675447216257,-0.000774129875936,-0.015991332009435));
res += mul(Get(s1,-dx,0), float4x4(-0.005584275349975,-0.000373699323973,-0.022869745269418,-0.006781197153032,0.013816597871482,0.026373907923698,0.005883988458663,0.013631738722324,0.008717373944819,0.006618963554502,-0.003949157893658,-0.002026903443038,0.005720912013203,0.014876949600875,0.013247415423393,0.011316155083477));
res += mul(Get(s1,-dx,dy), float4x4(0.017697814851999,0.010657973587513,0.002308473456651,-0.010797061957419,-0.002000874839723,0.018396131694317,0.008745818398893,-0.009052783250809,0.013794333674014,0.018079807981849,-0.005546951666474,-0.002841044915840,0.004433135502040,-0.011044784449041,-0.010437738150358,0.008075422607362));
res += mul(Get(s1,0,-dy), float4x4(0.021084804087877,0.033884640783072,0.014465697109699,0.010670378804207,0.009767517447472,0.046774305403233,0.007154671009630,0.014039443805814,-0.001910085673444,0.045781634747982,0.008524748496711,0.007193203084171,0.009597095660865,0.025066409260035,-0.028583958745003,0.008596346713603));
res += mul(Get(s1,0,0), float4x4(0.006157127674669,0.001893323613331,0.003909550607204,0.014139393344522,0.010417826473713,0.028840543702245,-0.005212126299739,0.037089474499226,-0.020585484802723,0.037474066019058,0.011095476336777,-0.012405695393682,0.012303600087762,0.019037943333387,-0.005368716083467,-0.008634271100163));
res += mul(Get(s1,0,dy), float4x4(0.038165885955095,0.009394171647727,-0.025872500613332,0.003754462581128,0.034330368041992,0.010861622169614,0.015123273245990,0.003517724573612,-0.000822907488327,-0.020662173628807,0.011991450563073,0.007232859730721,0.011170205660164,0.013471112586558,-0.015096308663487,-0.002893134253100));
res += mul(Get(s1,dx,-dy), float4x4(0.003838199656457,0.024091323837638,0.011174452491105,-0.000217814958887,-0.011572629213333,0.027308715507388,0.016441037878394,0.008129724301398,-0.003685472300276,0.025031480938196,-0.012998942285776,-0.003110819030553,-0.001530400477350,0.020583339035511,-0.013616234995425,-0.001928712590598));
res += mul(Get(s1,dx,0), float4x4(0.014084001071751,0.021597176790237,0.019939418882132,-0.001433760626242,0.016474144533277,-0.017894499003887,0.008894011378288,-0.003058625385165,-0.011328462511301,-0.003493814030662,0.006248558405787,-0.010088642127812,0.003302553901449,0.031545221805573,0.011435807682574,0.007942024618387));
res += mul(Get(s1,dx,dy), float4x4(0.017174500972033,0.029574768617749,-0.005775712430477,0.010999443940818,0.000477655208670,0.011594112962484,0.002690657740459,0.007943011820316,0.005115944892168,0.005576337222010,0.015167926438153,-0.008655931800604,0.040755003690720,0.038011223077774,0.010370159521699,0.007982357405126));
res += mul(Get(s2,-dx,-dy), float4x4(0.030118063092232,0.016324097290635,0.008523177355528,0.028031656518579,0.013223579153419,0.040201034396887,-0.002951643895358,-0.003222280414775,0.025689031928778,0.037970114499331,0.009032684378326,-0.007430513389409,0.014818117953837,0.001589314197190,0.010168303735554,-0.017094142735004));
res += mul(Get(s2,-dx,0), float4x4(-0.006411547306925,0.098803251981735,-0.007388049736619,0.015211247839034,-0.004147378727794,0.001360718510114,-0.011076669208705,-0.018647151067853,0.012184988707304,0.006491815671325,-0.002382422564551,-0.010281239636242,0.009331376291811,0.013257638551295,0.004619493149221,-0.016404654830694));
res += mul(Get(s2,-dx,dy), float4x4(-0.002280779415742,0.069541908800602,0.000764821947087,0.032779242843390,-0.020481504499912,0.030390894040465,0.023218443617225,-0.004544293042272,0.031232198700309,-0.004054216668010,0.019136046990752,-0.006660266779363,-0.000791875121649,0.039786435663700,0.008029170334339,-0.020773272961378));
res += mul(Get(s2,0,-dy), float4x4(0.024952147156000,0.000494274892844,0.010957025922835,0.000153521861648,0.004175524692982,0.040932357311249,0.015411934815347,-0.012078274972737,0.010855348780751,0.022466083988547,-0.009845291264355,-0.010962234809995,0.030401838943362,0.049901280552149,0.026119222864509,-0.005362539552152));
res += mul(Get(s2,0,0), float4x4(0.047109097242355,0.032906394451857,0.007562150247395,0.000202046561753,0.035339605063200,0.046268489211798,0.001717206672765,0.016213627532125,-0.003898574505001,0.043266706168652,-0.000534201273695,-0.007107547950000,0.019494406878948,0.031757801771164,-0.009333720430732,-0.005550764966756));
res += mul(Get(s2,0,dy), float4x4(0.051767636090517,0.050929900258780,0.011569374240935,0.009789165109396,-0.000003001518053,0.012663601897657,0.043873865157366,-0.012531460262835,0.013384181074798,0.030812565237284,-0.017842086032033,0.022618224844337,-0.001005554688163,0.029977831989527,0.002152258064598,0.023585647344589));
res += mul(Get(s2,dx,-dy), float4x4(0.015337458811700,0.047049306333065,-0.002624552231282,-0.011758322827518,0.025994691997766,0.022117761895061,0.016864279285073,0.010030078701675,0.006062064785510,-0.008486484177411,0.024928249418736,0.005588065832853,0.012885516509414,0.000172523912624,0.000153469853103,0.024573268368840));
res += mul(Get(s2,dx,0), float4x4(-0.013865507207811,0.048742443323135,-0.012674058787525,-0.008871085010469,0.016415707767010,0.037503149360418,-0.003632746404037,0.015652261674404,0.004623605869710,-0.009942908771336,-0.000527044816408,-0.017090661451221,-0.013148475438356,0.016227835789323,-0.004003298003227,-0.007176799699664));
res += mul(Get(s2,dx,dy), float4x4(-0.003715843893588,0.015825504437089,-0.010395728982985,-0.007695702835917,-0.012161312624812,0.025949161499739,0.035006463527679,-0.004062704276294,0.027421049773693,0.008115537464619,-0.001824500737712,-0.021904947236180,-0.001985694048926,0.049376256763935,0.023152900859714,-0.010456629097462));
res += mul(Get(s3,-dx,-dy), float4x4(0.008031293749809,0.057390395551920,-0.004661258775741,0.015746917575598,0.019918052479625,0.018425537273288,0.004655804485083,-0.006812529638410,0.058919288218021,0.021836191415787,0.002066088374704,0.019030898809433,-0.001484890352003,0.086084015667439,-0.005322437267751,-0.012385574169457));
res += mul(Get(s3,-dx,0), float4x4(0.017845356836915,0.040444079786539,0.022860094904900,0.017252111807466,0.038893610239029,-0.008402590639889,0.003573123598471,-0.007661125157028,0.022907998412848,0.015020096674562,0.008654703386128,0.015692107379436,0.004799336194992,0.021659251302481,-0.014357444830239,0.000870201620273));
res += mul(Get(s3,-dx,dy), float4x4(0.038425933569670,0.014675339683890,0.011552014388144,0.015107126906514,0.018193861469626,0.013026832602918,0.018294844776392,0.025092903524637,0.000051084185543,0.043209142982960,0.015267060138285,-0.017912803217769,0.025735683739185,0.023299748077989,0.015397272072732,-0.010468400083482));
res += mul(Get(s3,0,-dy), float4x4(-0.004199356306344,0.005670028738678,-0.005052525550127,0.003819118253887,0.021199699491262,0.019345695152879,0.017333291471004,0.012032667174935,0.041916795074940,0.125235125422478,0.018324069678783,0.005580799188465,-0.046562418341637,0.013365687802434,0.000254964368651,-0.001166392001323));
res += mul(Get(s3,0,0), float4x4(0.021758340299129,0.017129771411419,-0.018892142921686,0.016933936625719,0.020887201651931,0.014426010660827,-0.010825921781361,-0.015792045742273,0.006254663690925,0.068753860890865,-0.001292845234275,-0.010339649394155,-0.021785091608763,-0.008671001531184,0.019253354519606,0.001622700132430));
res += mul(Get(s3,0,dy), float4x4(0.009821716696024,0.002874344354495,0.009335925802588,-0.011448695324361,0.009791990742087,0.035076182335615,0.021706622093916,-0.012022966518998,0.022392662242055,0.010352603159845,-0.006686975248158,0.022107142955065,0.025898801162839,-0.038452815264463,-0.016060881316662,0.008091367781162));
res += mul(Get(s3,dx,-dy), float4x4(0.008843449875712,0.003897990565747,0.001826368155889,0.019504733383656,0.020023789256811,0.002930316608399,-0.020400449633598,-0.017849657684565,-0.009391211904585,0.019759654998779,0.008664178662002,0.021760167554021,0.009584240615368,0.009678018279374,0.034045141190290,-0.010829974897206));
res += mul(Get(s3,dx,0), float4x4(0.004513961263001,0.020505359396338,0.000890159979463,-0.005385819356889,0.027556339278817,0.040526669472456,0.007855101488531,-0.009292709641159,0.005970581900328,0.078884534537792,0.024871636182070,0.027568239718676,0.033523306250572,-0.005022249184549,0.060408975929022,-0.012074496597052));
res += mul(Get(s3,dx,dy), float4x4(0.004548113793135,0.019876329228282,0.005953936837614,-0.016728131100535,-0.005888303276151,0.008271298371255,-0.023137615993619,0.013674614951015,0.009400236420333,0.040771752595901,-0.013596007600427,0.003200029721484,0.007235398981720,0.015424502082169,0.024549324065447,-0.015140543691814));
return max(float4(0,0,0,0), res);
}
