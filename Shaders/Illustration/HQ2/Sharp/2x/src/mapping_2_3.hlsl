sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.045085098594427,0.011328886263072,-0.004894466139376,0.001418669708073,0.017175666987896,0.010829620994627,0.013453101739287,0.000860208179802,-0.047094136476517,-0.039716664701700,-0.031288720667362,-0.051253605633974,-0.052471764385700,-0.047927267849445,-0.069203533232212,0.009150928817689));
res += mul(Get(s0,-dx,0), float4x4(0.007045031525195,-0.020173041149974,-0.017837539315224,0.007550105918199,-0.010488389059901,0.035164780914783,0.020173929631710,0.018025668337941,0.048516694456339,-0.040327668190002,0.066204108297825,-0.094883933663368,0.114463731646538,-0.095440968871117,0.105546385049820,-0.056201860308647));
res += mul(Get(s0,-dx,dy), float4x4(-0.007346989121288,0.014330065809190,-0.034717138856649,0.002634563483298,0.002382286358625,0.018258430063725,0.025544693693519,0.010286146774888,0.046844806522131,0.121914617717266,0.000409106200095,-0.076650880277157,-0.023279884830117,0.161504298448563,0.101665437221527,-0.099233664572239));
res += mul(Get(s0,0,-dy), float4x4(0.022287711501122,0.002171715255827,0.017580859363079,0.020881015807390,0.052879512310028,0.012551649473608,0.017036166042089,0.012650998309255,0.084855318069458,0.002670129295439,-0.054947789758444,0.064916640520096,0.037118297070265,-0.029790855944157,-0.008912904188037,0.012218260206282));
res += mul(Get(s0,0,0), float4x4(0.007890249602497,0.027925059199333,0.006876911967993,0.036770034581423,-0.014379557222128,0.001433895318769,-0.008057207800448,0.006389870774001,0.117609113454819,-0.019456641748548,0.090652391314507,0.060524631291628,0.195610925555229,0.061448350548744,0.056417006999254,0.179372444748878));
res += mul(Get(s0,0,dy), float4x4(-0.017905224114656,-0.000877362559550,-0.014255033805966,-0.008027659729123,-0.009410393424332,0.008005184121430,-0.011401447467506,-0.005498977378011,-0.094840802252293,0.068017236888409,0.012540770694613,0.009886220097542,0.012013515457511,0.030906850472093,0.027721334248781,0.068569727241993));
res += mul(Get(s0,dx,-dy), float4x4(0.036505497992039,0.006969308480620,0.036759246140718,0.022711005061865,-0.007303432561457,0.013206649571657,0.003280689939857,0.004916067235172,-0.064222186803818,0.045067153871059,-0.005766378249973,-0.013226006180048,-0.025428296998143,0.031627591699362,-0.021064354106784,-0.086740262806416));
res += mul(Get(s0,dx,0), float4x4(-0.007157007697970,0.029276760295033,0.004537129774690,0.021082341670990,-0.022575657814741,-0.000387261243304,0.019379867240787,-0.013538879342377,0.006935657933354,-0.045612916350365,-0.031996358186007,0.039085272699594,-0.153006136417389,-0.032569721341133,-0.106787301599979,-0.055430512875319));
res += mul(Get(s0,dx,dy), float4x4(-0.030914589762688,-0.004860057961196,0.002072705188766,-0.003918705042452,0.000395544717321,0.011822029016912,-0.005030387081206,-0.004580065608025,-0.000325546832755,0.021794222295284,0.007088921964169,-0.016632800921798,-0.006369188427925,-0.062552973628044,-0.069236017763615,-0.029719777405262));
res += mul(Get(s1,-dx,-dy), float4x4(0.004987081047148,-0.017774596810341,0.001318060560152,-0.001317140413448,-0.002082498278469,0.010391780175269,0.012390605174005,0.007107072509825,-0.020290035754442,-0.020978940650821,0.017184192314744,0.035791758447886,-0.016343927010894,0.011928468011320,0.000386480911402,0.005413025617599));
res += mul(Get(s1,-dx,0), float4x4(0.020990598946810,0.036897864192724,-0.024883311241865,0.017755117267370,0.000038411257265,-0.000261509529082,-0.023656520992517,0.013851778581738,0.025081649422646,-0.037976779043674,0.009611826390028,0.032224792987108,-0.023774426430464,0.010069616138935,-0.017425531521440,-0.004941388964653));
res += mul(Get(s1,-dx,dy), float4x4(-0.012786464765668,0.020937094464898,-0.019506834447384,-0.004814250394702,0.000184690681635,0.014248925261199,-0.019441060721874,-0.006803577765822,0.030825261026621,0.007608534302562,0.009345703758299,0.015604657121003,0.001616574008949,-0.011069421656430,0.001554841059260,0.004263697192073));
res += mul(Get(s1,0,-dy), float4x4(-0.014799325726926,0.016032036393881,-0.001802173326723,-0.001975271385163,-0.035425640642643,-0.024991478770971,0.008669761009514,0.003720272565261,0.001999992178753,-0.000755150569603,-0.013095363043249,-0.013163861818612,-0.012007392942905,0.014654156751931,0.012992012314498,-0.016918694600463));
res += mul(Get(s1,0,0), float4x4(-0.012888124212623,0.007128885015845,-0.006852828431875,0.002865555929020,-0.010767604224384,-0.006466292776167,0.002106273779646,0.011221743188798,0.009807697497308,0.007421761751175,-0.017916096374393,0.011942578479648,-0.005272678099573,-0.021548340097070,-0.015295946970582,-0.001078820554540));
res += mul(Get(s1,0,dy), float4x4(0.024915825575590,-0.006412200629711,-0.009367031045258,-0.009070517495275,-0.024277485907078,-0.008041378110647,-0.019014436751604,-0.010872663930058,0.035691630095243,0.000837121566292,-0.028160467743874,0.026583466678858,-0.006084235850722,-0.009685110300779,0.007704309187829,-0.005007543601096));
res += mul(Get(s1,dx,-dy), float4x4(-0.018376426771283,0.002327915979549,0.010765191167593,-0.017005797475576,0.020709408447146,0.010824763216078,-0.012862578965724,-0.010933458805084,-0.000999796902761,0.000091815680207,0.009243038482964,0.033219594508410,-0.001691393670626,0.010119608603418,0.017426246777177,0.007485969457775));
res += mul(Get(s1,dx,0), float4x4(0.000408677267842,0.008483465760946,-0.018639605492353,-0.013558551669121,0.015748172998428,0.009232074022293,-0.009494132362306,0.015373346395791,0.005868108011782,-0.002798018278554,-0.000475839537103,0.001999130472541,-0.016689855605364,0.018209528177977,0.004752691835165,0.012598114088178));
res += mul(Get(s1,dx,dy), float4x4(-0.005430682096630,0.003100097877905,-0.007489682640880,-0.006141215097159,-0.015185385942459,-0.013281862251461,-0.005905996076763,-0.011200538836420,-0.007637615315616,0.012115198187530,-0.002976017771289,-0.001672072219662,-0.014601510949433,-0.018653573468328,0.005172011908144,-0.013235553167760));
res += mul(Get(s2,-dx,-dy), float4x4(0.000757575500757,0.039549827575684,0.042849391698837,0.003305676393211,-0.020355323329568,-0.002782455645502,0.005735281854868,0.012104948051274,-0.014492491260171,0.002032857621089,-0.006925056688488,0.016354650259018,-0.027353024110198,0.003359457245097,0.000792128732428,-0.009932140819728));
res += mul(Get(s2,-dx,0), float4x4(-0.018893826752901,0.010485498234630,-0.017699126154184,-0.003156702732667,0.027946796268225,0.002555299550295,0.021604221314192,0.006999174598604,-0.027646886184812,-0.005230194889009,0.000699875643477,0.024638528004289,-0.007744064088911,-0.007516945712268,-0.014638534747064,-0.027243627235293));
res += mul(Get(s2,-dx,dy), float4x4(-0.015269911848009,-0.003331264946610,-0.015215035527945,0.008226893842220,0.029976621270180,-0.082818716764450,0.014986125752330,0.009932223707438,-0.023203656077385,0.004303833935410,-0.014751860871911,0.003916602116078,-0.010316328145564,-0.022850548848510,-0.008719257079065,0.000828652235214));
res += mul(Get(s2,0,-dy), float4x4(-0.035351555794477,-0.046473361551762,-0.011511999182403,0.066681407392025,-0.014370758086443,0.008330977521837,0.029532680287957,0.006049251183867,0.031460210680962,-0.000903378939256,0.019920110702515,0.002594522433355,0.005411182995886,0.025728827342391,0.014294112101197,-0.000192294755834));
res += mul(Get(s2,0,0), float4x4(-0.045831687748432,-0.046607460826635,-0.041164267808199,0.047855488955975,0.002135849557817,-0.001479381811805,0.012818596325815,-0.029600843787193,-0.005986900534481,-0.005170356016606,0.036818344146013,-0.008865460753441,-0.019709862768650,0.018797893077135,-0.020575823262334,0.004516443703324));
res += mul(Get(s2,0,dy), float4x4(-0.016517112031579,-0.016991702839732,-0.019681490957737,0.026369087398052,-0.022422162815928,-0.039359424263239,-0.017521660774946,-0.008847063407302,-0.008438823744655,0.000484368880279,0.029546201229095,0.000396705872845,0.015990730375051,-0.000032130901673,-0.010461899451911,0.025906445458531));
res += mul(Get(s2,dx,-dy), float4x4(0.011971001513302,0.023494955152273,-0.013645852915943,-0.004723776131868,-0.012097833678126,0.009098569862545,0.021447343751788,-0.014337244443595,0.024819415062666,0.022566530853510,0.023117866367102,-0.008064663037658,-0.010823942720890,0.000911667477340,0.027179308235645,0.006382751278579));
res += mul(Get(s2,dx,0), float4x4(-0.017532130703330,0.001466424204409,-0.026225753128529,0.004174058791250,-0.004434888251126,-0.002950720023364,0.015205677598715,-0.013443397358060,0.053797334432602,0.023286923766136,0.036027777940035,0.013149782083929,-0.010425456799567,0.022578505799174,0.026852143928409,-0.001171917188913));
res += mul(Get(s2,dx,dy), float4x4(0.044622290879488,-0.017807444557548,-0.028033042326570,0.020346153527498,-0.005267444066703,-0.061328731477261,0.043272756040096,-0.007820586673915,0.045985903590918,0.012489338405430,0.000292046490358,-0.013708888553083,-0.005132093559951,0.003114375285804,0.007889521308243,0.008881683461368));
res += mul(Get(s3,-dx,-dy), float4x4(0.000613997341134,0.003491774667054,0.028325732797384,0.004606667906046,0.007391098886728,0.013548742979765,0.021501347422600,0.024369945749640,-0.007341809105128,0.002885799156502,0.004494376480579,0.056367214769125,-0.025356397032738,-0.008714187890291,0.000246412062552,-0.016668187454343));
res += mul(Get(s3,-dx,0), float4x4(0.009966694749892,-0.002099227625877,-0.007098375819623,0.002935250289738,-0.001250610337593,0.021224465221167,0.010537845082581,0.029628820717335,0.016753824427724,0.000340008264175,0.007007090840489,0.017570862546563,0.046457719057798,-0.022667922079563,0.013331960886717,0.007955771870911));
res += mul(Get(s3,-dx,dy), float4x4(-0.019373603165150,0.009041394107044,-0.000174313128809,0.025330757722259,-0.024009410291910,0.018595941364765,-0.007590421009809,-0.015703435987234,-0.038728378713131,0.022006662562490,-0.009358441457152,-0.008747804909945,0.039194282144308,0.021182337775826,0.022699994966388,0.015695016831160));
res += mul(Get(s3,0,-dy), float4x4(0.001689780503511,0.002865997841582,-0.004946150816977,-0.009641239419580,-0.009517182596028,-0.004257723689079,-0.005140795838088,0.028944943100214,-0.068427674472332,-0.008265867829323,0.004831046797335,-0.007700131274760,0.071997232735157,-0.004131024703383,-0.034762870520353,0.009013562463224));
res += mul(Get(s3,0,0), float4x4(0.003196904202923,-0.014751717448235,0.025870997458696,0.006210548803210,-0.000849794945680,-0.002380258170888,-0.004859789740294,0.015495627187192,-0.031451858580112,-0.038028020411730,-0.030065806582570,0.043053016066551,0.075392387807369,0.014623410068452,0.000735461071599,0.063095167279243));
res += mul(Get(s3,0,dy), float4x4(0.007828140631318,0.003522184444591,-0.002822552341968,0.023727463558316,-0.036936234682798,-0.001108057331294,-0.009148623794317,-0.003044024808332,0.097712993621826,-0.010475296527147,-0.016530493274331,0.083192728459835,0.003593781962991,-0.004492531064898,-0.009732470847666,0.003500652732328));
res += mul(Get(s3,dx,-dy), float4x4(0.028305795043707,-0.008233504369855,0.017440227791667,-0.016775868833065,0.008139978162944,0.009112806990743,0.011824444867671,0.025808529928327,0.031974505633116,0.010756190866232,0.025654356926680,-0.003580774180591,0.012396163307130,0.019428636878729,0.028481416404247,0.018383614718914));
res += mul(Get(s3,dx,0), float4x4(0.008984367363155,-0.003662627888843,0.012785472907126,-0.013320864178240,-0.021582245826721,-0.014481624588370,0.004356546793133,0.013014979660511,0.017507443204522,0.035772833973169,0.007923606783152,-0.002120449906215,0.008713354356587,0.012948982417583,0.016700750216842,0.023405771702528));
res += mul(Get(s3,dx,dy), float4x4(-0.016918199136853,0.014840140007436,0.003647021716461,-0.007050771731883,-0.015116916969419,-0.008868586272001,0.008175630122423,-0.000712307111826,-0.006366611924022,-0.009859047830105,-0.027216559275985,0.018348935991526,-0.007458582520485,0.023587930947542,0.017755594104528,-0.008884997107089));
return max(float4(0,0,0,0), res);
}
