sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.014504168182611,-0.008244234137237,0.023180788382888,0.002323445165530,-0.056061331182718,0.003282637801021,0.010912428610027,-0.018980963155627,0.011243908666074,0.025520155206323,0.014915775507689,-0.041415937244892,0.076996862888336,0.012878000736237,0.028377363458276,-0.071815244853497));
res += mul(Get(s0,-dx,0), float4x4(-0.002911819610745,0.029001813381910,0.013105696998537,-0.000548162613995,-0.001680679386482,0.032398041337729,-0.003090951591730,-0.028109442442656,0.023230418562889,0.008064088411629,-0.043277055025101,0.003406081581488,-0.014894529245794,-0.011136705055833,0.030455324798822,-0.033381078392267));
res += mul(Get(s0,-dx,dy), float4x4(0.011968474835157,-0.004400800447911,0.017263680696487,0.014207147061825,-0.029565526172519,0.018538722768426,-0.005533832125366,-0.033821992576122,0.005901933647692,0.012132103554904,0.003220617771149,-0.005370359402150,-0.018775843083858,-0.021997295320034,0.021366339176893,0.036523465067148));
res += mul(Get(s0,0,-dy), float4x4(-0.036758568137884,-0.017475923523307,-0.019616900011897,0.008522928692400,-0.048378668725491,-0.028070461004972,0.015208297409117,-0.000735084351618,-0.015033930540085,-0.002789689693600,-0.017594257369637,0.002172489883378,-0.061668679118156,-0.057079009711742,0.023064253851771,0.009534209966660));
res += mul(Get(s0,0,0), float4x4(0.017729779705405,0.018974430859089,0.014432930387557,0.000079605910287,-0.049568142741919,-0.009777431376278,0.032300949096680,-0.018512621521950,0.027997117489576,-0.017582803964615,-0.036962144076824,-0.008237035945058,-0.077261418104172,-0.024439910426736,0.006414403207600,0.001234082272276));
res += mul(Get(s0,0,dy), float4x4(0.047324992716312,0.042718250304461,0.012102488428354,0.024817582219839,-0.081138849258423,-0.014927623793483,-0.017422042787075,0.015184761025012,0.009108937345445,0.034735526889563,-0.002709623891860,-0.014101322740316,0.056070279330015,0.027888858690858,0.078905619680882,-0.021269513294101));
res += mul(Get(s0,dx,-dy), float4x4(-0.036010183393955,-0.001919821486808,-0.009119261987507,-0.003912234678864,0.056671336293221,-0.022151548415422,0.005581337027252,0.058417100459337,0.009092566557229,-0.006230792962015,-0.028762249276042,-0.012141422368586,0.032830845564604,-0.022150790318847,0.031406920403242,-0.052755508571863));
res += mul(Get(s0,dx,0), float4x4(-0.022745203226805,-0.025910621508956,0.056326895952225,0.019737824797630,0.030037503689528,-0.035427205264568,-0.050009809434414,0.046323511749506,0.035267312079668,-0.023285308852792,0.020425984635949,-0.002122969832271,0.033114798367023,-0.068415731191635,-0.042471904307604,-0.011025237850845));
res += mul(Get(s0,dx,dy), float4x4(-0.004619129933417,0.006917291786522,0.003302692202851,-0.014144157059491,0.052370298653841,-0.042785521596670,-0.041115961968899,-0.023715276271105,0.011723484843969,-0.004288448952138,-0.075211286544800,0.015890605747700,0.039342213422060,-0.020314447581768,-0.015088452957571,-0.014354553073645));
res += mul(Get(s1,-dx,-dy), float4x4(-0.019210211932659,0.033008318394423,0.019884137436748,-0.036121629178524,-0.049000188708305,0.026909291744232,0.015198783949018,-0.036639649420977,0.020334986969829,0.015368510037661,0.005568540655077,-0.049102168530226,-0.072507619857788,0.043434280902147,0.031415179371834,-0.000364597537555));
res += mul(Get(s1,-dx,0), float4x4(-0.029440646991134,0.045818597078323,0.006446912884712,-0.016536144539714,-0.017297362908721,0.013945152051747,0.017499273642898,0.046980407088995,0.014295333065093,-0.021966600790620,0.002781129907817,-0.031338211148977,0.053370300680399,0.035601925104856,0.033100754022598,0.005135701503605));
res += mul(Get(s1,-dx,dy), float4x4(0.022357121109962,0.048042330890894,0.020816754549742,-0.018524985760450,0.031046207994223,0.039855711162090,-0.012632563710213,0.019989781081676,-0.001473405514844,-0.013146153651178,0.011669235303998,-0.037910073995590,-0.015079415403306,0.053291164338589,-0.025237843394279,0.007629904430360));
res += mul(Get(s1,0,-dy), float4x4(-0.003164266701788,-0.025298994034529,0.017004515975714,-0.013705600053072,-0.022711321711540,0.029158500954509,-0.003279797267169,-0.026244468986988,-0.021180825307965,0.039686616510153,-0.016036463901401,0.004593845922500,0.048012882471085,0.040839049965143,0.009270761162043,-0.037615932524204));
res += mul(Get(s1,0,0), float4x4(-0.020475272089243,0.007801412604749,-0.031849332153797,0.001825827290304,0.006184570025653,-0.001142059802078,0.053086984902620,-0.060373712331057,0.002732416614890,0.011471714824438,0.022169902920723,0.003872772445902,0.084064349532127,0.015757108107209,0.051149569451809,-0.002236042404547));
res += mul(Get(s1,0,dy), float4x4(-0.014408850111067,0.020059769973159,0.016066225245595,-0.030563727021217,0.030511293560266,0.020790742710233,-0.070123381912708,-0.050472307950258,-0.015430416911840,-0.006910114549100,-0.003522451967001,-0.013600202277303,-0.028983278200030,-0.002054522745311,0.020732339471579,0.011273883283138));
res += mul(Get(s1,dx,-dy), float4x4(-0.023967973887920,-0.000273356825346,-0.011508618481457,0.027561066672206,-0.005998280830681,0.050285972654819,-0.004955024458468,0.017346201464534,0.007401884067804,0.017497738823295,-0.029088063165545,0.009679269976914,0.024051269516349,-0.004664188716561,-0.002305514412001,-0.053084909915924));
res += mul(Get(s1,dx,0), float4x4(-0.032167688012123,-0.002483101328835,-0.016736062243581,-0.012270063161850,0.002611666684970,-0.003013851586729,0.024637877941132,0.041838873177767,0.018386032432318,-0.002815951593220,0.010036233812571,-0.006571126636118,-0.004633718170226,-0.002449107589200,0.008218920789659,0.043777186423540));
res += mul(Get(s1,dx,dy), float4x4(0.003479220671579,0.004757243208587,0.021786920726299,-0.018220150843263,-0.081539869308472,-0.037164703011513,0.015519504435360,0.003701043082401,0.019566105678678,0.005681469570845,-0.023066380992532,-0.052628662437201,-0.011675303801894,0.002170149935409,0.023530481383204,0.034300312399864));
res += mul(Get(s2,-dx,-dy), float4x4(-0.003493025898933,-0.000327078043483,0.021209863945842,0.036990378051996,-0.007138113491237,-0.007120279129595,-0.000595968740527,-0.010131861083210,0.008756678551435,-0.004015612415969,0.000031722047424,-0.010836365632713,-0.020228737965226,0.004691570531577,-0.009471141733229,-0.022492822259665));
res += mul(Get(s2,-dx,0), float4x4(0.018829880282283,0.034975286573172,-0.019066544249654,0.023118369281292,0.016096223145723,0.026661358773708,-0.002986670704558,0.004932980053127,-0.000486306322273,-0.023753972724080,-0.002139786491171,0.008964856155217,0.008766523562372,0.021333809942007,0.003689335193485,-0.008418846875429));
res += mul(Get(s2,-dx,dy), float4x4(0.001616027788259,0.034962154924870,-0.003966876771301,-0.041252031922340,0.018493840470910,0.036673597991467,-0.073184609413147,-0.023243561387062,-0.008422659710050,0.010301328264177,0.017105191946030,0.018936490640044,-0.005044523626566,-0.001451345975511,0.029379259794950,-0.009585343301296));
res += mul(Get(s2,0,-dy), float4x4(-0.027860835194588,0.019233111292124,-0.020202973857522,-0.000977071234956,0.000493965751957,-0.006446934305131,-0.021373622119427,-0.014278805814683,-0.015991734340787,0.010258702561259,-0.002296448685229,0.004304691217840,-0.019147947430611,0.032081950455904,0.007178389467299,0.034639000892639));
res += mul(Get(s2,0,0), float4x4(0.025393486022949,0.032233193516731,0.035025250166655,0.014142606407404,-0.009816800244153,0.018417375162244,0.012016658671200,0.016984989866614,0.019700627774000,0.006924029905349,0.013763008639216,-0.024875011295080,0.003205887740478,0.018718607723713,0.006811979226768,0.022312205284834));
res += mul(Get(s2,0,dy), float4x4(0.005758708808571,0.003638103837147,0.015594953671098,0.074964329600334,0.017458276823163,0.048283077776432,-0.081093981862068,-0.012200038880110,-0.001476207631640,-0.008031516335905,-0.018431032076478,-0.015603427775204,0.007837065495551,-0.015509036369622,-0.014172114431858,0.023269979283214));
res += mul(Get(s2,dx,-dy), float4x4(0.023658737540245,0.022131392732263,-0.010708484798670,0.072888143360615,0.015191784128547,0.015819532796741,-0.030937539413571,-0.014505321159959,-0.005390903912485,-0.008345011621714,-0.013516188599169,0.009224733337760,-0.025108186528087,0.024632057175040,0.018085008487105,0.035947076976299));
res += mul(Get(s2,dx,0), float4x4(-0.010174497961998,-0.030538136139512,0.011041549965739,0.026720337569714,0.010245365090668,0.001492635463364,-0.001593155320734,0.004540264606476,0.012475158087909,-0.015020797960460,-0.021395534276962,0.008303848095238,0.001354983309284,-0.005705478135496,0.057753399014473,0.065889261662960));
res += mul(Get(s2,dx,dy), float4x4(0.041454795747995,-0.012522919103503,0.016047878190875,0.000089653462055,0.018072886392474,0.040814615786076,-0.060243625193834,-0.031666591763496,-0.038900028914213,0.017031656578183,-0.012900754809380,-0.016187917441130,0.015793761238456,0.018490444868803,0.006634884979576,0.073628664016724));
res += mul(Get(s3,-dx,-dy), float4x4(-0.034122146666050,0.003109179204330,0.011529956012964,-0.006603304296732,0.038845065981150,-0.024973930791020,0.010057214647532,-0.020268049091101,0.039070427417755,0.018869474530220,0.031301546841860,-0.032280575484037,-0.000697460025549,0.019931728020310,0.034778986126184,-0.047161132097244));
res += mul(Get(s3,-dx,0), float4x4(-0.014242845587432,-0.022569857537746,0.053257700055838,-0.020841181278229,0.013117884285748,0.036373462527990,-0.018429016694427,-0.023206718266010,0.035450257360935,0.042720764875412,-0.012924954295158,0.000042642641347,0.022712508216500,0.034657225012779,0.026068653911352,-0.022648708894849));
res += mul(Get(s3,-dx,dy), float4x4(0.036260757595301,-0.011012278497219,0.026114365085959,0.026098651811481,0.032640427350998,0.012239839881659,-0.044286228716373,-0.005898986943066,0.043729387223721,0.064485631883144,0.010180826298892,0.027818340808153,0.011437728069723,-0.010103917680681,-0.037974957376719,0.003303242614493));
res += mul(Get(s3,0,-dy), float4x4(0.050715547055006,-0.024128217250109,-0.030163368210196,-0.002776884241030,0.043894238770008,-0.031474493443966,0.059223178774118,0.022786116227508,0.016597287729383,0.025754624977708,-0.006375004537404,0.005378230940551,-0.034689027816057,-0.069722801446915,-0.020025106146932,-0.024267582222819));
res += mul(Get(s3,0,0), float4x4(0.007500499952585,-0.039008665829897,0.046362414956093,-0.008991839364171,0.008019123226404,-0.007523854728788,-0.037873566150665,-0.010932332836092,0.000011286436347,-0.004319759551436,0.005451003555208,-0.000054238145822,-0.014131030999124,-0.057311631739140,-0.009651692584157,-0.010972566902637));
res += mul(Get(s3,0,dy), float4x4(0.003130625700578,-0.015522426925600,-0.016984548419714,-0.006224503275007,-0.017863521352410,-0.003871623193845,-0.062645561993122,-0.000026970083127,-0.006268690340221,-0.043622221797705,0.050581820309162,-0.006746380589902,-0.005556143354625,-0.043506663292646,-0.058244712650776,0.002315336139873));
res += mul(Get(s3,dx,-dy), float4x4(0.026765972375870,-0.030221177265048,-0.002508995588869,0.021320490166545,-0.016306871548295,-0.060984160751104,-0.016977773979306,-0.059237971901894,0.008797991089523,-0.009492434561253,0.013883711770177,0.013298303820193,0.004120300523937,-0.028841748833656,-0.029569735750556,0.002429305110127));
res += mul(Get(s3,dx,0), float4x4(-0.022365242242813,-0.035247094929218,-0.044524576514959,0.020340258255601,0.003537952667102,-0.040776453912258,-0.059151004999876,-0.022393301129341,-0.009099218994379,0.047448337078094,-0.025064205750823,0.030244247987866,0.009482034482062,-0.090037181973457,-0.072099357843399,-0.025689013302326));
res += mul(Get(s3,dx,dy), float4x4(-0.031400032341480,-0.022429496049881,-0.008719468489289,0.007682601455599,0.015169342979789,-0.015900464728475,-0.029701726511121,0.022008255124092,0.025389581918716,0.036239866167307,0.000037473291741,0.037710446864367,0.071045599877834,-0.042846620082855,-0.027509924024343,-0.045234560966492));
return max(float4(0,0,0,0), res);
}
