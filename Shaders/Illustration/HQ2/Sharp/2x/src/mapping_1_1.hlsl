sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.006817650515586,-0.028123576194048,0.020610624924302,-0.025973701849580,0.038413882255554,0.000939205987379,0.001535406103358,-0.000588937255088,0.016180055215955,0.029636573046446,-0.003224615007639,-0.027217946946621,-0.002521945163608,-0.047369714826345,-0.004273451864719,0.016308020800352));
res += mul(Get(s0,-dx,0), float4x4(-0.011366654187441,-0.039201386272907,-0.028370233252645,0.021877668797970,-0.021079787984490,-0.008800181560218,0.005482143722475,0.000004893645382,0.034280225634575,-0.012762174010277,0.011460789479315,-0.001060494687408,-0.001455859281123,-0.041550509631634,0.001100345049053,-0.027724115177989));
res += mul(Get(s0,-dx,dy), float4x4(-0.005087379831821,-0.004186259116977,-0.027673490345478,-0.003989124670625,-0.024892278015614,-0.027439262717962,0.007118538022041,0.003353784792125,-0.007135076448321,-0.000477437017253,-0.042518667876720,0.010052855126560,-0.008244739845395,-0.006663591135293,-0.008298681117594,-0.005133572034538));
res += mul(Get(s0,0,-dy), float4x4(0.009306017309427,-0.027012003585696,0.029748855158687,0.056681592017412,-0.032711416482925,-0.025540264323354,-0.011570341885090,-0.002233061939478,-0.014832858927548,0.015283206477761,-0.025551956146955,0.028482388705015,-0.009483022615314,-0.022086746990681,-0.009964772500098,0.002759132999927));
res += mul(Get(s0,0,0), float4x4(0.017831221222878,0.034159097820520,-0.005184314679354,0.021072033792734,0.008553597144783,0.004405634012073,0.004645202308893,-0.003337378846481,0.021284282207489,0.008820639923215,-0.015100785531104,-0.005583144724369,-0.002965133637190,-0.016144912689924,0.012630246579647,0.005435836035758));
res += mul(Get(s0,0,dy), float4x4(-0.004158035852015,-0.012485094368458,0.005666844081134,-0.035443961620331,0.022075651213527,-0.018987046554685,-0.002626991132274,0.017243986949325,0.024322178214788,0.015790585428476,0.060103219002485,-0.003622049698606,-0.035055294632912,0.005281336139888,0.004470506217331,0.007205753587186));
res += mul(Get(s0,dx,-dy), float4x4(0.016336120665073,-0.021535119041800,0.022694947198033,-0.002822017762810,-0.011233333498240,0.020913053303957,-0.000288105336949,-0.008560606278479,-0.030338166281581,0.020991077646613,-0.043751895427704,0.018736638128757,0.000587354938034,0.004648379981518,-0.005232833325863,-0.026203969493508));
res += mul(Get(s0,dx,0), float4x4(-0.009122995659709,-0.032941546291113,-0.021139157935977,-0.011252882890403,0.026565821841359,-0.004662575200200,-0.004408573731780,0.007280681282282,-0.034834492951632,-0.012452324852347,-0.015659380704165,0.005406472831964,-0.017387766391039,-0.014003989286721,0.011141001246870,0.033356614410877));
res += mul(Get(s0,dx,dy), float4x4(0.024471536278725,0.013285331428051,-0.002140161348507,0.019558867439628,-0.010074706748128,0.005395983811468,-0.001558297895826,-0.008876544423401,0.012790027074516,-0.005771501921117,-0.034187421202660,0.009659300558269,0.005908475257456,-0.007802975364029,-0.009009741246700,-0.006796183995903));
res += mul(Get(s1,-dx,-dy), float4x4(-0.014331530779600,0.008633372373879,-0.010185715742409,-0.003818766213953,-0.003058256814256,-0.024297507479787,-0.011941792443395,-0.009891727939248,-0.007079328410327,0.018367094919086,0.008320923894644,-0.026308702304959,0.011978631839156,-0.029596528038383,-0.018194019794464,0.047712657600641));
res += mul(Get(s1,-dx,0), float4x4(0.021302651613951,0.003083597403020,-0.013049438595772,-0.001100487075746,0.002653199713677,0.009350278414786,-0.066618762910366,-0.019989877939224,-0.006685287691653,-0.008547423407435,0.033013235777617,0.045238811522722,-0.024980934336782,0.021561661735177,-0.044172581285238,0.039859153330326));
res += mul(Get(s1,-dx,dy), float4x4(0.027899032458663,-0.018584646284580,-0.045580673962831,0.034341637045145,-0.038911890238523,-0.033591829240322,-0.023664096370339,0.004380590748042,0.028560303151608,-0.021934509277344,-0.013864380307496,-0.016080636531115,-0.003109929384664,-0.015304672531784,-0.013710700906813,0.007228317204863));
res += mul(Get(s1,0,-dy), float4x4(0.038998529314995,0.012113937176764,-0.019418638199568,-0.016798861324787,-0.013220918364823,0.017838401719928,0.019922183826566,0.014353365637362,0.049696739763021,-0.023601645603776,0.031144512817264,-0.028151175007224,0.008741913363338,0.004357201978564,0.004625475034118,-0.049863062798977));
res += mul(Get(s1,0,0), float4x4(-0.008034710772336,-0.006505216006190,-0.038294639438391,-0.068166412413120,-0.043943963944912,0.003821843536571,-0.032068375498056,-0.093239679932594,0.004865792114288,0.008959351107478,0.023292694240808,0.009429167024791,0.008928412571549,0.009372529573739,-0.043273270130157,-0.076886326074600));
res += mul(Get(s1,0,dy), float4x4(-0.001985866343603,0.021979907527566,-0.017151407897472,-0.015791712328792,0.020022770389915,-0.052954744547606,-0.031513642519712,0.006250834092498,-0.017414499074221,0.001138138701208,0.018823569640517,0.006963981781155,-0.011573232710361,-0.019896468147635,-0.017659863457084,-0.006907244678587));
res += mul(Get(s1,dx,-dy), float4x4(0.013841645792127,-0.009149614721537,-0.024620164185762,0.034749925136566,-0.029722740873694,-0.033066838979721,0.010194234549999,0.007556998170912,0.020107949152589,0.033389665186405,-0.021247087046504,0.017950672656298,-0.047147069126368,0.004765270743519,0.015711668878794,-0.014379439875484));
res += mul(Get(s1,dx,0), float4x4(0.027028769254684,-0.000472948944662,0.006545552518219,0.003207480302081,-0.016645641997457,0.055929888039827,-0.067466527223587,-0.062480378895998,-0.010989942587912,0.019874833524227,-0.012408320792019,0.032908227294683,-0.019773714244366,0.017571453005075,0.045408282428980,0.028620941564441));
res += mul(Get(s1,dx,dy), float4x4(0.001520732883364,-0.031178483739495,-0.002995294751599,-0.010265445336699,-0.006460759788752,-0.032766927033663,0.015820344910026,0.055794700980186,-0.005295267328620,-0.038189057260752,0.001527852728032,0.029285997152328,0.007997981272638,0.026816505938768,0.024837905541062,-0.014831441454589));
res += mul(Get(s2,-dx,-dy), float4x4(0.010733106173575,0.025626273825765,-0.030321076512337,-0.004173823632300,0.004930404946208,-0.007824367843568,-0.027380663901567,0.006576008629054,0.008538020774722,-0.007985813543200,0.008336877450347,-0.005571133922786,0.004418968688697,0.001651954371482,0.025699010118842,0.007963556796312));
res += mul(Get(s2,-dx,0), float4x4(-0.019812485203147,0.004593975841999,-0.003981159534305,-0.007036602590233,-0.018203994259238,0.005472925025970,-0.030071368440986,0.014840327203274,0.002145177684724,-0.010440702550113,-0.005483531393111,-0.011736544780433,0.023943843320012,-0.017313158139586,-0.022356403991580,-0.022166157141328));
res += mul(Get(s2,-dx,dy), float4x4(0.023884091526270,0.014465474523604,0.003627398051322,0.004508772399276,0.024470487609506,0.008887008763850,-0.028621504083276,0.018368104472756,0.010152130387723,0.022399879992008,-0.020264202728868,0.008435081690550,-0.018424890935421,-0.016687208786607,-0.013335891999304,0.010873706080019));
res += mul(Get(s2,0,-dy), float4x4(-0.035559333860874,0.021987568587065,-0.043537307530642,0.017950553447008,0.016409067437053,-0.050084184855223,-0.009408704005182,-0.031657896935940,-0.022317875176668,0.012987005524337,0.014790989458561,-0.014011203311384,0.016905287280679,0.050931453704834,0.011170406825840,-0.021239655092359));
res += mul(Get(s2,0,0), float4x4(-0.020320774987340,0.008637771941721,-0.036763999611139,-0.098154172301292,-0.007065087091178,-0.021903214976192,0.009261868894100,-0.041649173945189,0.010900783352554,-0.000585068133660,-0.025821508839726,0.001921511604451,0.004938529804349,-0.019403707236052,-0.024236204102635,-0.061985537409782));
res += mul(Get(s2,0,dy), float4x4(-0.014369810931385,-0.005344782024622,-0.007997177541256,0.009271198883653,-0.035746112465858,-0.022027423605323,-0.037841662764549,-0.046975128352642,0.017162308096886,0.012458776123822,-0.023072933778167,0.000603424734436,-0.010893841274083,0.014837766997516,0.008077072910964,0.005003694910556));
res += mul(Get(s2,dx,-dy), float4x4(-0.001522416714579,-0.031822279095650,-0.002295513404533,-0.009934975765646,-0.003392856800929,-0.017053417861462,0.016950825229287,-0.010369396768510,0.011901832185686,0.003971543163061,0.015197093598545,0.010376843623817,0.001913102110848,0.042235173285007,-0.007110795937479,-0.013150891289115));
res += mul(Get(s2,dx,0), float4x4(0.037729669362307,0.038674339652061,-0.023005560040474,0.007674557622522,0.035306137055159,-0.008862646296620,-0.060188561677933,-0.053213126957417,-0.032859262079000,0.011082745157182,-0.000821485242341,-0.018803615123034,-0.009894332848489,0.037449028342962,-0.005689347162843,0.030826507136226));
res += mul(Get(s2,dx,dy), float4x4(-0.011158959008753,0.025186425074935,0.031967584043741,-0.002869395539165,-0.006013397127390,-0.012120859697461,-0.018656769767404,0.002391788875684,-0.044486578553915,-0.000811815145425,0.023438723757863,0.003570108907297,-0.028727641329169,0.003191921394318,-0.022023735567927,0.016901334747672));
res += mul(Get(s3,-dx,-dy), float4x4(-0.025211645290256,0.005379720591009,-0.024102279916406,-0.019234484061599,0.004158299416304,-0.001761484891176,-0.006186205893755,0.005698306020349,-0.092501260340214,-0.058541767299175,0.010207028128207,-0.009765101596713,0.022692862898111,-0.007417067419738,0.012033659033477,0.031504612416029));
res += mul(Get(s3,-dx,0), float4x4(-0.039865002036095,-0.003725346177816,-0.055700100958347,0.006912797689438,-0.005782687570900,-0.010983812622726,0.051522471010685,0.047473568469286,-0.058358505368233,0.024054767563939,0.089567281305790,-0.155739977955818,-0.008574323728681,0.006877125240862,-0.009537070989609,-0.011200439184904));
res += mul(Get(s3,-dx,dy), float4x4(0.013928654603660,-0.030451072379947,-0.032495975494385,0.074140727519989,-0.024392610415816,0.023812139406800,0.064339138567448,0.004013920202851,0.097274802625179,-0.016404878348112,-0.010229768231511,0.070078469812870,0.019905891269445,0.005297586321831,-0.006350276526064,-0.005583381280303));
res += mul(Get(s3,0,-dy), float4x4(-0.003302986733615,0.010857860557735,-0.010142204351723,-0.029825126752257,-0.007449444383383,-0.017516542226076,-0.009516833350062,-0.026756867766380,-0.083363175392151,-0.049005072563887,-0.128808617591858,0.017514497041702,-0.001282425248064,0.010536241345108,0.033035479485989,-0.024070790037513));
res += mul(Get(s3,0,0), float4x4(-0.010511974804103,0.006612238939852,-0.021808443590999,-0.028539298102260,0.002927141031250,-0.014137098565698,-0.017939532175660,-0.036136802285910,0.087720908224583,-0.075983047485352,0.235237658023834,0.353827357292175,-0.030156619846821,-0.003338889684528,-0.011141221038997,0.003094947664067));
res += mul(Get(s3,0,dy), float4x4(0.005192665383220,0.005782390478998,-0.033788505941629,0.052997015416622,-0.024045761674643,-0.054770220071077,-0.023665741086006,-0.011236958205700,-0.013755888678133,0.064046286046505,0.069529861211777,-0.026305072009563,0.022651650011539,-0.000149839688675,0.005962310824543,-0.009192799217999));
res += mul(Get(s3,dx,-dy), float4x4(-0.004572651349008,0.003608348080888,-0.031535234302282,0.032651133835316,0.039166383445263,-0.016853665933013,-0.028218805789948,0.060001838952303,-0.058149922639132,-0.043108314275742,-0.004154836758971,-0.028693970292807,0.009596196934581,0.022239077836275,-0.010899589397013,-0.033600617200136));
res += mul(Get(s3,dx,0), float4x4(0.006895397789776,0.009294210001826,0.022992752492428,0.022428281605244,-0.020919024944305,-0.024011991918087,-0.020426189526916,-0.055529665201902,0.025970842689276,-0.021819291636348,-0.071006506681442,0.082108996808529,-0.008411286398768,-0.006801777519286,-0.041026156395674,-0.014287601225078));
res += mul(Get(s3,dx,dy), float4x4(-0.007237464189529,-0.042523745447397,-0.015815410763025,0.002198476344347,0.011246876791120,-0.007476902101189,-0.008511469699442,0.030687108635902,-0.111291445791721,0.014341015368700,-0.008547704666853,-0.049209166318178,-0.014523956924677,-0.050702884793282,-0.037918962538242,-0.009181589819491));
return max(float4(0,0,0,0), res);
}
