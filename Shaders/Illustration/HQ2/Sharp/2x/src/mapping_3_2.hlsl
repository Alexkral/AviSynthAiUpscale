sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.005076419562101,-0.010188213549554,0.006620552856475,-0.004694237373769,-0.013807974755764,-0.016372336074710,-0.000573435158003,0.026977641507983,0.017926683649421,0.000024627719540,0.073952540755272,0.029953099787235,-0.051007002592087,-0.070050701498985,0.006505801808089,-0.006699127610773));
res += mul(Get(s0,-dx,0), float4x4(0.017753977328539,-0.023469736799598,-0.034136135131121,0.018910232931376,-0.006904599722475,-0.000671648420393,-0.001583995646797,-0.003553677583113,-0.029797580093145,-0.021143577992916,0.005603033583611,-0.017452560365200,-0.029121523723006,-0.033390130847692,-0.005171886645257,-0.046625968068838));
res += mul(Get(s0,-dx,dy), float4x4(0.025263192132115,-0.020816911011934,-0.047916237264872,-0.006355232559144,-0.019130298867822,0.002191209467128,-0.013333807699382,-0.022452231496572,0.017163030803204,-0.030363187193871,0.013490546494722,0.048414934426546,-0.043433085083961,-0.017752476036549,0.010685818269849,-0.007102067582309));
res += mul(Get(s0,0,-dy), float4x4(-0.009844690561295,0.015069981105626,-0.020691949874163,0.023156607523561,0.011304635554552,-0.014014101587236,0.010094856843352,0.024053718894720,0.000340428581694,0.081262260675430,0.058751121163368,-0.042823959141970,0.010285994037986,0.038942586630583,0.003990511409938,-0.024858165532351));
res += mul(Get(s0,0,0), float4x4(-0.000335541786626,0.001844628481194,-0.034384112805128,-0.018420947715640,0.047309517860413,-0.009218789637089,-0.038227755576372,0.006912333890796,-0.063079774379730,0.017656873911619,-0.004986254032701,-0.004719906020910,0.011550147086382,-0.016397137194872,-0.011390313506126,-0.026881568133831));
res += mul(Get(s0,0,dy), float4x4(-0.022760819643736,-0.036090876907110,-0.037135042250156,0.030193787068129,0.025553163141012,-0.022184051573277,-0.001749112270772,0.030782677233219,-0.030424728989601,-0.067917108535767,0.010013358667493,0.063521854579449,-0.010224937461317,-0.059218391776085,-0.001228611450642,-0.003458841005340));
res += mul(Get(s0,dx,-dy), float4x4(-0.039555631577969,0.020791698247194,-0.013419908471406,0.038481939584017,-0.009730149991810,0.064009763300419,0.019635910168290,0.017017386853695,0.001011707237922,0.055299900472164,0.038400158286095,-0.028276491910219,-0.022516364231706,0.007495807018131,0.030732074752450,-0.002854065736756));
res += mul(Get(s0,dx,0), float4x4(-0.004430478438735,-0.027154719457030,-0.011013111099601,0.008044461719692,0.002831340767443,0.036558672785759,-0.033961970359087,0.047462273389101,-0.079859025776386,0.022646367549896,0.031659010797739,-0.010353453457355,0.015375421382487,0.025394830852747,0.018187927082181,-0.019470579922199));
res += mul(Get(s0,dx,dy), float4x4(-0.008778514340520,0.012277365662158,-0.032938960939646,0.018051402643323,0.023863388225436,-0.008944802917540,-0.010648149996996,0.060305733233690,-0.009300858713686,-0.082180015742779,0.029581489041448,-0.016388550400734,0.045948166400194,0.039197001606226,0.011891137808561,-0.023471172899008));
res += mul(Get(s1,-dx,-dy), float4x4(-0.010603046044707,-0.003051420208067,-0.013194367289543,-0.007696646265686,-0.004412955138832,0.001399597385898,-0.002449453808367,-0.019695533439517,0.004116945900023,-0.057080451399088,-0.009716205298901,0.018173169344664,0.045674711465836,-0.094376519322395,0.032013673335314,-0.013469904661179));
res += mul(Get(s1,-dx,0), float4x4(-0.000954058021307,0.035613387823105,-0.004171660169959,0.001008363440633,0.020888734608889,-0.052644230425358,-0.017082020640373,0.003946423064917,0.013845288194716,-0.069247163832188,-0.026337407529354,0.013501818291843,0.046246025711298,-0.077879592776299,0.014928899705410,-0.027665039524436));
res += mul(Get(s1,-dx,dy), float4x4(0.002749316627160,0.001717028208077,0.019794572144747,0.048257973045111,-0.008700550533831,0.018699487671256,-0.010548993013799,-0.035828489810228,-0.007933160290122,0.055206518620253,-0.048834238201380,-0.004688682965934,0.046124864369631,-0.029488392174244,0.017846088856459,0.054287303239107));
res += mul(Get(s1,0,-dy), float4x4(-0.012689599767327,0.010731454007328,0.002532908460125,0.004787683486938,-0.044687177985907,0.044332593679428,0.022579446434975,-0.001331105828285,-0.006543863099068,0.043045930564404,-0.017097327858210,0.000190069360542,0.038493227213621,0.043216213583946,0.017707986757159,-0.040798842906952));
res += mul(Get(s1,0,0), float4x4(-0.005473793484271,-0.009905072860420,-0.003605548292398,0.027748610824347,-0.015592087060213,-0.007135352119803,-0.036688305437565,0.041225090622902,0.013242184184492,0.007519681472331,-0.042376190423965,0.027281982824206,0.028781618922949,0.076311178505421,-0.016287941485643,0.005179895553738));
res += mul(Get(s1,0,dy), float4x4(-0.012450861744583,0.023231258615851,0.001218874705955,0.032004449516535,-0.045514687895775,0.012522649951279,-0.001767273875885,-0.021948998793960,0.016027353703976,0.026092551648617,-0.047566857188940,0.010715598240495,0.047342479228973,-0.066600501537323,-0.028240524232388,0.088963426649570));
res += mul(Get(s1,dx,-dy), float4x4(0.009940652176738,-0.031042857095599,-0.014824784360826,0.025858325883746,-0.021638333797455,-0.017063634470105,0.000860077561811,-0.039367187768221,-0.048590868711472,0.024683287367225,-0.007199993357062,-0.013023430481553,-0.036709778010845,-0.000659188430291,-0.004980213008821,0.016661584377289));
res += mul(Get(s1,dx,0), float4x4(-0.035500537604094,0.001403587055393,-0.006804642733186,0.004773149266839,-0.011080188676715,0.041706167161465,-0.004139977972955,0.015902526676655,-0.034666262567043,0.010342971421778,-0.017863707616925,-0.030280217528343,-0.009298047982156,0.023080369457603,-0.010522545315325,0.009820119477808));
res += mul(Get(s1,dx,dy), float4x4(0.005075947381556,0.037958808243275,-0.009190529584885,0.020670926198363,-0.011419361457229,0.010126940906048,0.000802059890702,0.029526028782129,-0.033037122339010,0.049432791769505,-0.029383104294538,0.007614286150783,-0.011677559465170,-0.017466701567173,0.002658627228811,0.011393858119845));
res += mul(Get(s2,-dx,-dy), float4x4(0.024594996124506,0.000774303916842,0.047648653388023,-0.051365531980991,-0.015453984960914,0.044236473739147,-0.039138317108154,-0.042943887412548,0.013083529658616,-0.008038289844990,-0.015050390735269,-0.038465730845928,0.009380451403558,-0.030016068369150,-0.005186066497117,-0.016814300790429));
res += mul(Get(s2,-dx,0), float4x4(0.055159132927656,0.065335564315319,-0.014612526632845,0.023933948948979,-0.008260540664196,0.008879680186510,-0.036518502980471,0.054433647543192,0.042269125580788,-0.021682128310204,-0.037153087556362,0.019047668203712,0.025340590626001,-0.062382757663727,0.013468814082444,-0.004099088255316));
res += mul(Get(s2,-dx,dy), float4x4(0.029500206932425,-0.014021480455995,-0.020670715719461,0.103507347404957,0.031476534903049,0.090724781155586,-0.033204279839993,0.044555082917213,0.043591398745775,-0.028101995587349,-0.042681813240051,0.007415875326842,0.000550925906282,-0.044828541576862,-0.010654783807695,0.045084200799465));
res += mul(Get(s2,0,-dy), float4x4(-0.082079097628593,0.011267509311438,0.010112487711012,0.002085363259539,-0.014422213658690,0.023724444210529,-0.018713746219873,0.047792937606573,-0.034377899020910,0.037125445902348,0.004589907824993,0.039817720651627,-0.000718947034329,-0.018951361998916,0.025385940447450,0.027719652280211));
res += mul(Get(s2,0,0), float4x4(-0.080227911472321,-0.039306785911322,-0.011969059705734,0.041068222373724,-0.013227622956038,-0.036881349980831,-0.011213026940823,-0.010741684585810,-0.027755940333009,-0.018816348165274,-0.032004341483116,0.049541741609573,0.004117051605135,-0.011613183654845,-0.022698352113366,-0.020230773836374));
res += mul(Get(s2,0,dy), float4x4(-0.069046743214130,0.034603837877512,-0.016872446984053,-0.000372427457478,0.019111638888717,-0.050128936767578,-0.036776099354029,-0.027461549267173,-0.001361673115753,-0.007928613573313,-0.011057065799832,-0.023969523608685,-0.009028314612806,0.004200685769320,-0.032648287713528,-0.019983440637589));
res += mul(Get(s2,dx,-dy), float4x4(-0.026673803105950,0.022883201017976,0.044891308993101,-0.024256017059088,-0.015556055121124,0.030642736703157,-0.007133356295526,-0.002777514746413,-0.027979202568531,-0.014756121672690,-0.019121387973428,-0.017268577590585,0.034217145293951,-0.007094236556441,0.002996477531269,-0.004628038965166));
res += mul(Get(s2,dx,0), float4x4(-0.026376741006970,0.014441987499595,-0.015039653517306,-0.014410248026252,-0.048678886145353,0.098790064454079,-0.029226319864392,-0.004744384903461,-0.053068812936544,0.005967645440251,-0.031697619706392,-0.002960890997201,0.046743173152208,0.010734749026597,0.005144444759935,-0.016444500535727));
res += mul(Get(s2,dx,dy), float4x4(-0.036177650094032,0.054912973195314,-0.041695445775986,-0.002759491791949,-0.009580370038748,-0.027795100584626,-0.043246082961559,0.029777871444821,-0.038248252123594,0.054604377597570,-0.045151799917221,0.018502872437239,0.008478913456202,-0.032108426094055,-0.022715490311384,-0.008857311680913));
res += mul(Get(s3,-dx,-dy), float4x4(0.014299576170743,0.031238898634911,-0.021368028596044,-0.039753958582878,-0.009958554990590,-0.010497967712581,0.004536659456789,-0.052701979875565,0.001655290368944,-0.016586862504482,0.006537210196257,0.006110073998570,0.014499933458865,0.023854020982981,-0.006797176320106,-0.008435122668743));
res += mul(Get(s3,-dx,0), float4x4(0.009551339782774,0.027809878811240,-0.011665869504213,0.004562205635011,0.003549383487552,-0.008976600132883,0.009094067849219,-0.054032679647207,0.005119757261127,-0.012189278379083,-0.028658101335168,0.006460241973400,-0.009831910021603,0.001519118668512,-0.008871092461050,-0.010309359058738));
res += mul(Get(s3,-dx,dy), float4x4(0.006218277383596,0.017791587859392,-0.049454636871815,-0.030907299369574,-0.009093828499317,0.000345601583831,0.009294477291405,-0.065175242722034,-0.001829995424487,0.038952283561230,-0.023211803287268,0.002994385547936,0.002019151812419,-0.000286020454951,-0.004247187171131,-0.004604372661561));
res += mul(Get(s3,0,-dy), float4x4(0.008226862177253,0.037424869835377,-0.000044898952183,0.043525818735361,-0.007277943193913,-0.008570862933993,-0.003168161958456,-0.078488983213902,0.016838226467371,-0.020672410726547,-0.012410521507263,-0.007917640730739,-0.038787096738815,-0.003688710043207,-0.001050634775311,0.006508581805974));
res += mul(Get(s3,0,0), float4x4(0.008433726616204,-0.024747379124165,-0.009672651998699,-0.013810100965202,0.062719911336899,-0.033139631152153,0.004090366885066,-0.006125496700406,0.000698625633959,-0.014906493015587,0.012505168095231,-0.010492799803615,0.027465123683214,0.005406568292528,-0.003799031022936,-0.012119792401791));
res += mul(Get(s3,0,dy), float4x4(0.018327537924051,0.008484651334584,-0.030385849997401,-0.008130758069456,0.031178025528789,-0.058364763855934,0.040012430399656,-0.037571556866169,0.004163081292063,0.004661799874157,0.018616447225213,0.007558017503470,-0.010412328876555,-0.002058182144538,0.003284759586677,0.009890479035676));
res += mul(Get(s3,dx,-dy), float4x4(0.002134101931006,0.007498993538320,0.006780846975744,-0.003772622905672,-0.028877200558782,-0.014095716178417,0.001395410043187,0.010690547525883,-0.008232080377638,-0.002948717214167,0.004563300870359,0.007209585513920,-0.013020709156990,0.014851110056043,-0.004128866828978,0.005355900619179));
res += mul(Get(s3,dx,0), float4x4(-0.012344887480140,0.011478139087558,-0.034396324306726,-0.029630277305841,-0.022567084059119,0.000961548881605,-0.000743670621887,-0.001686974661425,-0.002384030027315,0.026822131127119,-0.007878673262894,0.037812486290932,-0.011337825097144,-0.018510421738029,-0.002096991986036,-0.000749655126128));
res += mul(Get(s3,dx,dy), float4x4(-0.011842606589198,-0.009589516557753,-0.005796647630632,0.005693531595170,0.004236350767314,-0.025471689179540,0.001988579286262,-0.007736194413155,0.003098804969341,-0.002171395113692,-0.008885948918760,0.038578316569328,-0.020878348499537,0.009356553666294,0.020765420049429,-0.012755123898387));
return max(float4(0,0,0,0), res);
}
