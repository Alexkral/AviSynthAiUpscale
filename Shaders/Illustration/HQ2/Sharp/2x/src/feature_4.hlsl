sampler s0 : register(s0);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(x, y)   tex2D(s0, tex + float2(x, y))[0]

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += float4(-0.077576272189617,-0.001316108275205,-0.026588737964630,0.023248823359609) * Get(-dx,-dy);
res += float4(-0.039085496217012,0.118165694177151,-0.086940340697765,0.070615187287331) * Get(-dx,0);
res += float4(-0.080189011991024,0.046793699264526,-0.051650855690241,0.039822146296501) * Get(-dx,dy);
res += float4(0.076908662915230,0.026149990037084,0.000163839198649,-0.045920576900244) * Get(0,-dy);
res += float4(-0.013468225486577,-0.028768550604582,0.452207148075104,-0.048016466200352) * Get(0,0);
res += float4(-0.065936483442783,-0.036414213478565,-0.105872280895710,-0.098934493958950) * Get(0,dy);
res += float4(0.077756188809872,-0.080145180225372,0.027330148965120,-0.006537768058479) * Get(dx,-dy);
res += float4(0.025676712393761,-0.104681387543678,-0.070534750819206,-0.036482289433479) * Get(dx,0);
res += float4(-0.009691389277577,-0.089464426040649,-0.000418885436375,-0.039300773292780) * Get(dx,dy);
return max(float4(0,0,0,0), res);
}
