sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.030078666284680,0.007424188312143,-0.000440893898485,-0.015262107364833,0.038951411843300,0.012120014056563,-0.031278893351555,-0.051122665405273,-0.031341969966888,-0.013871291652322,-0.010190992616117,-0.004626574460417,-0.002879098523408,-0.044288493692875,0.008654725737870,-0.018998684361577));
res += mul(Get(s0,-dx,0), float4x4(-0.005437616724521,-0.001201090286486,-0.009399005211890,-0.026133524253964,0.009793618693948,-0.019921924918890,-0.008268704637885,-0.041718691587448,-0.039034590125084,0.016726056113839,0.008675878867507,0.001791738672182,-0.001868841354735,-0.008421601727605,-0.009551657363772,-0.026332847774029));
res += mul(Get(s0,-dx,dy), float4x4(-0.001576647977345,0.023402554914355,-0.011361527256668,0.018840197473764,0.001561247045174,0.004061969462782,-0.033412870019674,0.007555809803307,-0.021537134423852,-0.027613766491413,0.019359044730663,-0.006073713768274,-0.013320332393050,0.003077502129599,0.028138997033238,-0.007473369129002));
res += mul(Get(s0,0,-dy), float4x4(-0.041911792010069,-0.003481296123937,0.001837339019403,-0.020341014489532,0.008821271359921,0.037535030394793,0.036400597542524,0.017012637108564,0.035468794405460,0.038744907826185,0.008293295279145,-0.001460661995225,0.034761458635330,0.008776350878179,-0.030273303389549,-0.038385301828384));
res += mul(Get(s0,0,0), float4x4(-0.008124545216560,0.001818791031837,-0.009047329425812,0.003737739520147,0.002564351074398,0.012608362361789,-0.019110605120659,-0.021588133648038,0.008799699135125,0.007731707300991,0.036301840096712,0.005244575440884,-0.012028713710606,0.015767777338624,-0.008486298844218,0.000355448981281));
res += mul(Get(s0,0,dy), float4x4(0.018290150910616,-0.044783107936382,0.002295084996149,0.029278783127666,-0.036116223782301,-0.004702992271632,0.002798283006996,0.011192629113793,0.004342177882791,-0.012313781306148,-0.025550648570061,-0.029054997488856,-0.060439899563789,0.017402248457074,-0.015002256259322,-0.018576700240374));
res += mul(Get(s0,dx,-dy), float4x4(0.013195530511439,0.021288715302944,-0.032087892293930,-0.017488243058324,-0.019280191510916,-0.012469741515815,-0.054512087255716,-0.027567582204938,0.008988268673420,-0.025583786889911,0.036920040845871,0.000706224178430,0.013048451393843,0.023748731240630,0.023533754050732,-0.008225219324231));
res += mul(Get(s0,dx,0), float4x4(-0.012599393725395,0.026167958974838,0.020720398053527,-0.014947957359254,-0.049735561013222,-0.027515657246113,-0.005011606495827,-0.019745789468288,-0.044382032006979,0.004216453991830,-0.040739931166172,-0.035146716982126,-0.042165793478489,-0.021128352731466,-0.073808439075947,-0.004614304751158));
res += mul(Get(s0,dx,dy), float4x4(0.027142671868205,0.026377249509096,0.014172485098243,-0.015322600491345,-0.027263382449746,-0.020354919135571,-0.007775301579386,0.029979243874550,-0.020486101508141,-0.054597500711679,0.005999434739351,-0.005809722468257,0.000774464046117,-0.011810304597020,-0.009105265140533,-0.008423565886915));
res += mul(Get(s1,-dx,-dy), float4x4(0.001291995286010,0.046454064548016,-0.041973818093538,0.026500983163714,-0.021720165386796,0.008275541476905,-0.011416085995734,0.008396934717894,0.028054421767592,0.012477423064411,0.007789663504809,0.000319638202200,-0.003805788699538,0.006315143778920,0.012189693748951,0.017433488741517));
res += mul(Get(s1,-dx,0), float4x4(0.016908677294850,-0.004723301623017,-0.020166210830212,-0.040869627147913,-0.015735445544124,-0.001685750670731,-0.008275386877358,-0.027987381443381,-0.011716822162271,-0.030563097447157,-0.015170556493104,0.028645403683186,0.033231422305107,0.004080946557224,-0.060763899236917,0.024121684953570));
res += mul(Get(s1,-dx,dy), float4x4(-0.002875844249502,0.009648887440562,-0.024718433618546,0.003177139908075,-0.031419795006514,0.040234088897705,-0.018030436709523,-0.014295515604317,0.036697089672089,-0.030926745384932,0.008627052418888,0.037568476051092,0.067132785916328,-0.018233463168144,-0.013227818533778,0.013177971355617));
res += mul(Get(s1,0,-dy), float4x4(0.005432390142232,0.034502383321524,-0.022824013605714,0.012656647711992,-0.021998614072800,-0.031813412904739,0.015689514577389,-0.027876192703843,0.025437265634537,-0.000601931998972,0.021222544834018,0.052591837942600,-0.051417741924524,0.017397793009877,-0.011511425487697,-0.030189206823707));
res += mul(Get(s1,0,0), float4x4(0.029355200007558,0.008935897611082,0.006298677530140,-0.018729154020548,-0.015531447716057,0.030189141631126,-0.013301413506269,0.004973091650754,0.013741312548518,-0.021347783505917,-0.018599288538098,0.010085692629218,-0.051632422953844,0.002173246582970,-0.009089396335185,-0.011455806903541));
res += mul(Get(s1,0,dy), float4x4(-0.020084451884031,0.018395824357867,0.026335991919041,-0.007796267047524,0.008329215459526,-0.012990876100957,0.017260627821088,-0.032291885465384,0.043139267712831,0.011621212586761,0.004323628731072,-0.005631866864860,-0.001759838312864,-0.005649337079376,0.032089363783598,-0.010477226227522));
res += mul(Get(s1,dx,-dy), float4x4(-0.014030335471034,-0.009433148428798,0.038382109254599,-0.042385216802359,-0.015553548000753,-0.019721999764442,-0.001149544841610,-0.008956382982433,-0.024527922272682,0.000986211933196,0.017849894240499,-0.011003148742020,0.043269824236631,0.003971156664193,-0.019508048892021,0.017570629715919));
res += mul(Get(s1,dx,0), float4x4(-0.029729396104813,-0.015798900276423,0.082286305725574,0.023887317627668,0.001482472638600,-0.026697691529989,0.027624856680632,-0.021491043269634,0.031526725739241,-0.018196845427155,-0.042324889451265,0.017792036756873,-0.015459394082427,-0.008011722005904,0.004455798771232,-0.014616527594626));
res += mul(Get(s1,dx,dy), float4x4(-0.022813774645329,0.010871734470129,0.031121876090765,-0.033220764249563,-0.020454622805119,-0.013794936239719,0.015904529020190,-0.010149044916034,-0.021113390102983,0.005738695152104,-0.002907720627263,-0.018808193504810,0.018096206709743,0.008620691485703,-0.045497152954340,0.029259303584695));
res += mul(Get(s2,-dx,-dy), float4x4(0.009277530014515,0.026240440085530,-0.028430562466383,-0.020098496228456,0.000044484255341,0.046235159039497,0.023514376953244,-0.017732167616487,-0.000837218482047,-0.000087247673946,0.001296523376368,0.004842355381697,0.006091694813222,0.007092289626598,-0.024868438020349,-0.010247078724205));
res += mul(Get(s2,-dx,0), float4x4(-0.022268056869507,-0.016567038372159,0.020995441824198,-0.004827511496842,0.010348757728934,-0.000173706139321,0.009412195533514,-0.039841637015343,-0.003233540803194,0.001554219750687,-0.023607658222318,-0.001754477154464,0.019244926050305,0.019710395485163,-0.039400760084391,0.000148515740875));
res += mul(Get(s2,-dx,dy), float4x4(0.026696735993028,0.018355436623096,-0.047927089035511,0.024867027997971,-0.007836062461138,-0.023084785789251,-0.013322143815458,0.023612406104803,0.002281845314428,-0.028338847681880,0.040423780679703,-0.000000839820018,-0.047088511288166,-0.007965662516654,-0.029451902955770,-0.003760866355151));
res += mul(Get(s2,0,-dy), float4x4(0.012436293996871,-0.009905107319355,-0.045980568975210,-0.005440246313810,-0.025936409831047,-0.011984689161181,0.017676491290331,-0.002073584822938,0.016235258430243,-0.010368194431067,-0.022103523835540,-0.023996908217669,-0.044343572109938,-0.035328906029463,0.012875394895673,0.005660366266966));
res += mul(Get(s2,0,0), float4x4(0.001909602200612,0.004226800519973,0.029057096689939,-0.017447659745812,0.001714019803330,-0.013844666071236,0.011595153249800,-0.038198679685593,-0.044408597052097,0.036114778369665,0.023097839206457,-0.001405886723660,0.001924646319821,-0.027906268835068,-0.000440997595433,-0.007225911132991));
res += mul(Get(s2,0,dy), float4x4(-0.005554508883506,-0.009120705537498,0.012164262123406,0.000615773024037,0.031137634068727,0.003654727479443,0.002239872934297,0.002220499562100,0.022352667525411,0.018294688314199,0.023806529119611,-0.003637179732323,0.029956523329020,0.004352535586804,-0.028843464329839,-0.042735874652863));
res += mul(Get(s2,dx,-dy), float4x4(-0.030502593144774,-0.003280458739027,-0.015715638175607,-0.043526604771614,-0.018769428133965,-0.026371680200100,0.024620547890663,-0.001658847904764,-0.001524790422991,0.007789966650307,-0.000127299252199,0.001171513926238,-0.016870092600584,-0.016929740086198,-0.035912849009037,-0.027438413351774));
res += mul(Get(s2,dx,0), float4x4(0.049487106502056,-0.018088310956955,0.017811097204685,0.021536547690630,0.026032475754619,-0.003996165469289,0.000814060680568,-0.037856489419937,-0.007800179533660,-0.044485282152891,0.004345329944044,0.003568600164726,0.038759496062994,-0.014071093872190,0.026042094454169,-0.003242469858378));
res += mul(Get(s2,dx,dy), float4x4(-0.008525656536222,-0.001279881456867,-0.000075351526903,-0.029868837445974,-0.012134238146245,0.018436163663864,0.002272321842611,-0.004566875752062,-0.006998247466981,0.017257891595364,0.008726682513952,0.000928440655116,-0.014830715954304,0.006526169367135,-0.028365161269903,0.022653823718429));
res += mul(Get(s3,-dx,-dy), float4x4(0.017753245308995,0.018589032813907,-0.044118173420429,0.000239708111621,0.021407740190625,-0.008106864988804,-0.021980235353112,0.035128273069859,0.037736661732197,-0.056589785963297,-0.021211408078671,0.004346701316535,-0.040977381169796,-0.053938806056976,0.018601054325700,-0.029623180627823));
res += mul(Get(s3,-dx,0), float4x4(-0.034787517040968,0.025791281834245,-0.011662606149912,-0.020702939480543,0.004052466247231,-0.012430252507329,-0.011378262192011,-0.015346564352512,-0.095476217567921,0.006542757619172,0.050009086728096,-0.053257822990417,-0.025613170117140,-0.016095133498311,-0.011849417351186,-0.002484912285581));
res += mul(Get(s3,-dx,dy), float4x4(0.038870040327311,0.020926777273417,0.002510384889320,0.005458299536258,0.024406826123595,0.022700326517224,-0.015931615605950,-0.040577303618193,-0.078757658600807,-0.012938330881298,0.042474169284105,0.015919089317322,0.019411295652390,-0.012780309654772,-0.009402468800545,0.014571962878108));
res += mul(Get(s3,0,-dy), float4x4(-0.003373590297997,-0.003827387001365,0.019578050822020,0.017489630728960,-0.012651423923671,-0.012977821752429,-0.005722360685468,0.024750215932727,-0.037978433072567,-0.090178363025188,-0.023045247420669,0.052992817014456,-0.000295721867587,-0.013525678776205,0.033355668187141,-0.013043623417616));
res += mul(Get(s3,0,0), float4x4(-0.010422827675939,0.028481811285019,0.012819586321712,0.001660854206420,-0.030936691910028,0.054104834794998,0.028525806963444,0.047497902065516,0.004701555240899,0.053269993513823,-0.059580925852060,-0.058821365237236,-0.016482288017869,0.010725349187851,-0.003047453472391,0.019419375807047));
res += mul(Get(s3,0,dy), float4x4(-0.041200503706932,0.031826052814722,-0.018438002094626,0.004051832016557,-0.031156592071056,0.011019993573427,0.044979616999626,0.053597919642925,0.166037872433662,-0.032497856765985,-0.027802960947156,-0.072836101055145,0.007464834488928,0.015874432399869,0.010102960281074,-0.021852055564523));
res += mul(Get(s3,dx,-dy), float4x4(-0.004097599536180,0.004600518848747,-0.037657614797354,0.014206183142960,-0.035242531448603,0.013988476246595,0.001585923600942,0.011559315957129,-0.010574403218925,-0.022375758737326,-0.098083436489105,-0.021892897784710,0.053996693342924,0.035089518874884,0.021928759291768,-0.026343379169703));
res += mul(Get(s3,dx,0), float4x4(-0.027983637526631,0.007257496938109,-0.012117608450353,0.006381927058101,0.049319926649332,-0.005802747793496,0.030575383454561,0.011286350898445,-0.048700779676437,0.101495012640953,-0.068761885166168,-0.053285393863916,-0.001374770072289,0.022411881014705,0.025264784693718,-0.012008383870125));
res += mul(Get(s3,dx,dy), float4x4(-0.006834922358394,-0.018385168164968,-0.043210502713919,-0.031043881550431,0.000073113260441,0.001356149325147,0.019343871623278,0.002999063115567,-0.103828996419907,-0.103280864655972,0.024594422429800,-0.009337630122900,0.000904708460439,-0.002091667614877,0.002921635517851,0.043720435351133));
return max(float4(0,0,0,0), res);
}
