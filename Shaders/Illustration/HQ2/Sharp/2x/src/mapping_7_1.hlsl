sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.021064929664135,0.000435478024883,0.008575925603509,0.033927325159311,0.007309952285141,0.015158365480602,0.033431392163038,-0.005530720576644,0.002025784691796,0.046479497104883,0.028174193575978,-0.007645157631487,-0.005720164161175,-0.003309619147331,0.008193884044886,0.006079172715545));
res += mul(Get(s0,-dx,0), float4x4(0.000266801216640,0.080793797969818,0.004978750832379,0.036707494407892,0.002440603449941,-0.036778733134270,-0.049749236553907,0.051596581935883,0.030309753492475,0.021061271429062,0.020739473402500,0.008775734342635,0.016085434705019,-0.021374026313424,-0.014530034735799,-0.002815766958520));
res += mul(Get(s0,-dx,dy), float4x4(-0.005655772052705,0.069315403699875,0.057651713490486,-0.035929273813963,-0.017502676695585,0.106391318142414,0.062431223690510,-0.009399508126080,-0.004407319240272,0.005056363064796,-0.009478370659053,0.019277812913060,-0.013069961220026,-0.006245606113225,-0.006582579109818,-0.002235082909465));
res += mul(Get(s0,0,-dy), float4x4(0.019766606390476,-0.031366072595119,0.007179093547165,-0.030623851343989,0.011793057434261,-0.039210923016071,0.003648517886177,-0.014939199201763,0.007315645925701,0.069783434271812,0.055913344025612,-0.011058438569307,-0.023067418485880,-0.001562505145557,0.013156641274691,0.015813419595361));
res += mul(Get(s0,0,0), float4x4(0.002982185920700,-0.054032515734434,-0.055799026042223,0.100633718073368,-0.014401530846953,-0.135445833206177,-0.065323755145073,0.084031604230404,0.001082240836695,-0.084987699985504,-0.026417301967740,-0.011706987395883,0.016535066068172,-0.007182792760432,0.003419093787670,0.009640362113714));
res += mul(Get(s0,0,dy), float4x4(0.010274164378643,0.233438268303871,0.097803741693497,-0.015195111744106,-0.015709711238742,0.229935929179192,0.105741776525974,0.009908121079206,-0.011095856316388,-0.023838739842176,0.000339966907632,0.042921517044306,-0.003938938025385,0.020094631239772,0.011494811624289,0.007058279123157));
res += mul(Get(s0,dx,-dy), float4x4(0.006532544735819,-0.003919427283108,0.019278299063444,-0.031979706138372,0.019942212849855,0.100170731544495,0.012172166258097,-0.000360218458809,0.002630956238136,0.110834166407585,0.037918560206890,-0.014971513301134,-0.004229605663568,0.009681778959930,0.006362479645759,-0.008059154264629));
res += mul(Get(s0,dx,0), float4x4(-0.012173708528280,-0.179497420787811,-0.063408352434635,0.048594608902931,0.004961722996086,0.038868241012096,-0.027830665931106,0.022722605615854,0.018413601443172,0.017710357904434,-0.008608357980847,-0.010283575393260,-0.000112260611786,-0.021669359877706,-0.008482072502375,-0.011229242198169));
res += mul(Get(s0,dx,dy), float4x4(-0.019583972170949,0.120564565062523,0.092210091650486,0.032769851386547,0.022442573681474,0.182630494236946,0.083193540573120,0.002130001084879,0.009607304818928,0.031753312796354,-0.004491912201047,0.005144680384547,0.014576807618141,0.016338195651770,0.006207299418747,-0.002023720880970));
res += mul(Get(s1,-dx,-dy), float4x4(-0.014351611956954,-0.038469109684229,-0.024846220389009,0.006563879549503,-0.006826350465417,-0.000698088319041,-0.003211773931980,0.000303731270833,-0.030364563688636,0.019336707890034,0.004866112489253,0.054030138999224,-0.009660579264164,0.114795126020908,0.031699277460575,0.072619363665581));
res += mul(Get(s1,-dx,0), float4x4(-0.004971212241799,0.005529316607863,0.028485368937254,-0.006853609811515,0.001285369158722,-0.007641303353012,-0.000553534249775,-0.009883093647659,0.008960089646280,0.227473795413971,0.104724891483784,0.000229146695347,0.024466160684824,0.297660917043686,0.098328508436680,-0.023808557540178));
res += mul(Get(s1,-dx,dy), float4x4(0.006751726847142,-0.002497289795429,-0.010992542840540,0.007059667725116,0.001316959969699,-0.001492818235420,0.009952158667147,-0.006224846467376,0.030286625027657,0.017033504322171,-0.047761458903551,-0.027361366897821,0.012611547484994,0.031016293913126,-0.050002980977297,-0.037073869258165));
res += mul(Get(s1,0,-dy), float4x4(-0.003590152366087,0.021434726193547,0.007330358028412,0.008531301282346,0.007283065468073,-0.008499551564455,-0.006189508363605,0.011466747149825,0.004188678227365,0.143684089183807,0.082531109452248,0.018672695383430,-0.003936533350497,0.094854876399040,0.070152379572392,-0.008840696886182));
res += mul(Get(s1,0,0), float4x4(0.007057343143970,0.087021924555302,0.032238040119410,0.007665905635804,-0.019284754991531,0.002166267018765,-0.012154151685536,-0.001461044535972,0.042099609971046,0.083505675196648,0.030102726072073,-0.025851923972368,0.038200005888939,-0.019862193614244,-0.000197626068257,0.020214231684804));
res += mul(Get(s1,0,dy), float4x4(0.019287319853902,-0.005457120016217,-0.016628568992019,-0.012252688407898,0.003381417598575,0.003310312051326,-0.008334530517459,-0.006693169940263,0.004426461178809,-0.064750038087368,-0.049955081194639,0.043053165078163,-0.009246167726815,-0.033549074083567,-0.017574757337570,0.061524577438831));
res += mul(Get(s1,dx,-dy), float4x4(0.000999451032840,0.048304963856936,0.016063051298261,0.009081147611141,-0.001896600704640,-0.000688877596986,0.016078684478998,0.000033003092540,0.006439873017371,0.094976671040058,0.073491916060448,-0.015805272385478,0.000079970086517,0.031161312013865,0.059156607836485,-0.030327066779137));
res += mul(Get(s1,dx,0), float4x4(0.011772129684687,-0.007514897733927,0.000719148607459,-0.009619479067624,-0.010505547747016,0.019403766840696,-0.006816921755672,-0.012011225335300,-0.000534477352630,-0.167277738451958,-0.029404733330011,0.012173674069345,-0.026163797825575,-0.203055351972580,-0.033481366932392,0.042649757117033));
res += mul(Get(s1,dx,dy), float4x4(-0.002516970038414,-0.024157829582691,-0.002936769975349,0.010984544642270,0.005689256358892,0.002572599565610,-0.000178498798050,0.002156895818189,-0.016353562474251,-0.045819722115993,0.012762949801981,0.085490867495537,-0.013559752143919,0.062716513872147,0.041384246200323,0.048708744347095));
res += mul(Get(s2,-dx,-dy), float4x4(-0.014163929037750,-0.087359592318535,-0.033449795097113,0.019534682855010,0.010680916719139,0.009900132194161,-0.006114239338785,-0.005242495797575,0.011850829236209,0.049146242439747,0.003582830773667,-0.001108988770284,0.010094530880451,-0.034891869872808,0.003094197250903,0.004583215806633));
res += mul(Get(s2,-dx,0), float4x4(-0.021105207502842,-0.048088472336531,0.067816659808159,-0.008280776441097,-0.010407122783363,-0.007152150385082,-0.020769320428371,0.012437558732927,0.011146422475576,0.027463827282190,0.014184108003974,0.004081706050783,0.002350073307753,-0.001430878648534,-0.004404627252370,0.025901051238179));
res += mul(Get(s2,-dx,dy), float4x4(0.002398479264230,-0.111295826733112,-0.007984817959368,0.023412818089128,-0.001303464989178,0.043612513691187,0.039213117212057,0.014292135834694,0.010589679703116,0.028181402012706,0.013377104885876,0.008155991323292,0.017174990847707,0.026847174391150,-0.001408266020007,0.022555248811841));
res += mul(Get(s2,0,-dy), float4x4(-0.012255311943591,0.099638991057873,-0.008207177743316,0.065743096172810,0.006685799453408,-0.059738200157881,-0.013634827919304,0.011321453377604,-0.000048230205721,-0.012772339396179,-0.002172007923946,0.024662792682648,-0.005364232230932,0.019382379949093,0.004537784960121,-0.002513237530366));
res += mul(Get(s2,0,0), float4x4(0.017329458147287,0.340598046779633,0.128209143877029,-0.033507917076349,-0.020696647465229,0.007146825082600,0.025878032669425,0.027916666120291,-0.002134497044608,-0.003758938517421,0.026446793228388,-0.002537594176829,0.004446137230843,-0.010656307451427,-0.006603862624615,-0.020120032131672));
res += mul(Get(s2,0,dy), float4x4(0.046725183725357,-0.006630210671574,-0.056107979267836,-0.037698939442635,0.004526091739535,0.049721982330084,0.030434604734182,-0.000652136572171,0.009480989538133,-0.019916068762541,0.002990045817569,0.025390176102519,-0.000745747005567,-0.028339650481939,0.004377895500511,0.009508418850601));
res += mul(Get(s2,dx,-dy), float4x4(-0.003620393574238,0.018641071394086,-0.001528364839032,0.018322562798858,-0.002658198354766,0.050735414028168,0.000151923886733,0.024909302592278,-0.013346890918911,0.037463009357452,0.014534262008965,0.044700756669044,-0.006829076912254,0.063587039709091,0.015443957410753,0.016769118607044));
res += mul(Get(s2,dx,0), float4x4(0.008046820759773,0.146213695406914,0.055507156997919,-0.009084211662412,0.028455656021833,0.138545349240303,0.063436046242714,-0.016702298074961,0.009258851408958,0.099841214716434,0.046350527554750,-0.036836121231318,-0.005032166838646,0.075560919940472,0.009912234731019,0.005062845535576));
res += mul(Get(s2,dx,dy), float4x4(0.012414751574397,-0.002651020651683,-0.043874155730009,0.021520070731640,0.009613997302949,0.001598790404387,0.001257945434190,-0.010418797843158,-0.001781761297025,-0.062191206961870,-0.022375229746103,-0.011440902017057,0.005401274655014,0.019328281283379,-0.012561102397740,-0.003186103655025));
res += mul(Get(s3,-dx,-dy), float4x4(0.001353218103759,-0.009705592878163,-0.020757045596838,-0.004353632684797,-0.006248821038753,0.173890471458435,0.127025112509727,-0.033444534987211,0.003278586547822,0.010365917347372,0.053731683641672,-0.005471179261804,-0.005043759942055,-0.017123537138104,-0.006554103456438,0.001733057666570));
res += mul(Get(s3,-dx,0), float4x4(0.001681199646555,0.002484347205609,0.010758444666862,-0.007550877053291,0.033118396997452,-0.026187635958195,-0.068185202777386,0.054219305515289,0.009475919418037,-0.026085713878274,-0.034392319619656,0.049057822674513,-0.002048117807135,0.006059313192964,0.016463184729218,0.021635659039021));
res += mul(Get(s3,-dx,dy), float4x4(0.001161227351986,0.009418556466699,-0.000799820409156,-0.006551504135132,-0.009110127575696,0.046714082360268,-0.004184562247247,0.040011655539274,-0.006152112036943,0.065828949213028,-0.004217833746225,0.034942891448736,0.009558924473822,0.014012500643730,0.008048938587308,-0.003097370965406));
res += mul(Get(s3,0,-dy), float4x4(-0.009145519696176,-0.019135648384690,0.005488861352205,0.005063876044005,0.010969415307045,0.039364874362946,0.126194536685944,-0.069609835743904,0.023742321878672,0.121200323104858,0.074019834399223,-0.026503674685955,-0.003899867180735,-0.011229543946683,-0.004541910253465,0.004610572941601));
res += mul(Get(s3,0,0), float4x4(-0.010879854671657,0.004421844147146,0.005805042572320,-0.000550140277483,-0.017709843814373,-0.458875298500061,-0.109033763408661,0.049863092601299,0.023032518103719,-0.106619179248810,-0.070656329393387,0.006450509186834,-0.007503853179514,-0.013709679245949,0.017105903476477,-0.003937903791666));
res += mul(Get(s3,0,dy), float4x4(-0.005136052612215,0.004158251453191,0.011662996374071,0.003221669699997,-0.041467696428299,0.016972724348307,0.051088359206915,0.110096819698811,-0.025174412876368,-0.010370322503150,0.007518871687353,0.061094388365746,-0.002665212377906,-0.000203409887035,-0.004014663398266,-0.001123600406572));
res += mul(Get(s3,dx,-dy), float4x4(-0.005321228876710,0.018196338787675,-0.003917502239347,0.001520425896160,0.019042644649744,0.317524254322052,0.113084807991982,0.043940402567387,0.008137797936797,0.022220505401492,0.046089891344309,0.016490200534463,0.007494204677641,0.088330268859863,0.025854283943772,0.018626943230629));
res += mul(Get(s3,dx,0), float4x4(-0.016991144046187,-0.009245641529560,0.007741264998913,-0.008765728212893,0.063219033181667,0.207802370190620,-0.011215579696000,-0.023441201075912,0.012746504507959,-0.090273730456829,-0.048556342720985,0.017102932557464,0.024478450417519,0.067197471857071,0.025354187935591,-0.026999648660421));
res += mul(Get(s3,dx,dy), float4x4(-0.002745326841250,0.005129359196872,0.001720322878100,0.003652150044218,0.042928665876389,0.151417538523674,0.016809605062008,-0.019126351922750,0.005650949198753,0.000487257057102,0.014860808849335,0.051753256469965,0.001547280349769,-0.018799107521772,-0.010355021804571,0.005729011725634));
return max(float4(0,0,0,0), res);
}
