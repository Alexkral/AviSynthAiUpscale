sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.030465859919786,0.039975784718990,0.019670639187098,-0.024934588000178,-0.001195237156935,-0.004931543022394,-0.008794015273452,0.018845003098249,0.006017311941832,0.052679263055325,0.092214472591877,-0.028753159567714,0.034520387649536,0.055237706750631,0.196252211928368,0.003697060514241));
res += mul(Get(s0,-dx,0), float4x4(0.034557972103357,0.018813280388713,0.020855048671365,0.011691953986883,0.035040445625782,0.036290362477303,-0.021413197740912,-0.005651509854943,0.044385194778442,0.008288806304336,-0.027194941416383,0.017415139824152,0.072303436696529,0.010212694294751,-0.098729878664017,-0.006238759029657));
res += mul(Get(s0,-dx,dy), float4x4(0.018446568399668,0.010804159566760,-0.014617688953876,-0.007384658791125,0.026687392964959,0.013052721507847,0.018609564751387,0.008434106595814,-0.046269673854113,0.009371873922646,-0.041697021573782,0.003887042403221,0.017259694635868,-0.089986443519592,0.005230780690908,-0.027172859758139));
res += mul(Get(s0,0,-dy), float4x4(0.041459824889898,0.021813075989485,-0.013484651222825,0.008692728355527,0.011257579550147,0.003772867843509,0.009369250386953,-0.000485924218083,-0.096217118203640,-0.040862951427698,0.127993300557137,0.018916631117463,-0.095945753157139,-0.149561643600464,0.196757718920708,0.027670837938786));
res += mul(Get(s0,0,0), float4x4(0.036080237478018,0.043798018246889,-0.003595769871026,0.005137146916240,0.054586645215750,0.016307875514030,-0.021759193390608,0.002020502462983,0.072127357125282,-0.026108015328646,-0.102598048746586,-0.090345881879330,-0.072692669928074,-0.059789612889290,-0.174089416861534,-0.064218297600746));
res += mul(Get(s0,0,dy), float4x4(0.018440485000610,0.030586551874876,0.043074786663055,-0.001267615705729,0.019744608551264,0.040509533137083,0.025297466665506,0.000940241210628,0.073086284101009,0.020026315003633,0.009590636007488,-0.041392464190722,0.102418825030327,-0.053930558264256,-0.023918356746435,-0.159223690629005));
res += mul(Get(s0,dx,-dy), float4x4(0.015217976644635,-0.005396008025855,-0.040214605629444,-0.021090988069773,-0.002407416468486,-0.006318482570350,-0.002409142674878,-0.004219139460474,-0.115583822131157,-0.010049905627966,0.061141144484282,0.137144386768341,-0.065951593220234,-0.062729492783546,-0.010329385288060,0.033728141337633));
res += mul(Get(s0,dx,0), float4x4(0.040273264050484,0.015719525516033,-0.025550425052643,-0.014676369726658,0.031716018915176,0.003789110807702,-0.002520398935303,-0.002537380205467,-0.019845589995384,0.034474439918995,-0.048701107501984,0.040462695062160,-0.055901650339365,0.197422176599503,-0.027948327362537,0.163315564393997));
res += mul(Get(s0,dx,dy), float4x4(0.029697218909860,0.008043994195759,0.066126629710197,-0.015372250229120,0.014812390320003,0.021516837179661,0.015032448805869,0.011547446250916,0.101092040538788,-0.053718887269497,0.010621262714267,-0.012220543809235,-0.003542245365679,0.006620204541832,-0.015773281455040,0.074105761945248));
res += mul(Get(s1,-dx,-dy), float4x4(0.020769609138370,-0.006385223008692,-0.003372725332156,0.016163095831871,-0.001038445509039,0.027922986075282,-0.011642551049590,-0.008350852876902,0.000010595334970,0.028242027387023,-0.004182572010905,0.010163608938456,0.022565137594938,0.020683627575636,0.024665003642440,-0.002562321024016));
res += mul(Get(s1,-dx,0), float4x4(0.012080137617886,0.009530389681458,0.014543225988746,0.005584922153503,0.010594274848700,0.015784719958901,0.016900772228837,-0.009617879055440,0.000991746434011,0.008175802417099,0.018429625779390,0.027482664212584,-0.009919860400259,0.014041848480701,0.010938569903374,-0.000913703115657));
res += mul(Get(s1,-dx,dy), float4x4(0.004170712549239,-0.010317211970687,-0.013369631953537,-0.009417822584510,0.011696903035045,-0.012633161619306,0.003100469708443,0.018818298354745,0.000739359238651,0.006855238229036,-0.023262973874807,0.012477575801313,0.022358747199178,0.004130842629820,0.005401632748544,0.004353518132120));
res += mul(Get(s1,0,-dy), float4x4(0.015709456056356,0.020226370543242,-0.012278431095183,0.007795475888997,0.017869977280498,0.019930975511670,0.005144152324647,0.001633167616092,-0.004983581602573,0.032585673034191,0.072520665824413,-0.002102928934619,0.027440795674920,0.021404704079032,0.031059220433235,-0.014373591169715));
res += mul(Get(s1,0,0), float4x4(0.003317966125906,-0.007253236602992,-0.021285912021995,0.005488313268870,0.013791280798614,0.026033241301775,0.005263272207230,-0.013925626873970,0.030744306743145,0.023665685206652,0.036184597760439,-0.009882039390504,0.013295074924827,-0.027237070724368,0.015744375064969,0.008782342076302));
res += mul(Get(s1,0,dy), float4x4(-0.015227041207254,-0.004488651175052,0.017684057354927,-0.010423494502902,0.015394027344882,0.001523957587779,-0.002790128346533,-0.018091442063451,0.002569001400843,0.013141873292625,0.018520405516028,-0.012893834151328,-0.017779767513275,0.002565499395132,0.006980780512094,0.010582207702100));
res += mul(Get(s1,dx,-dy), float4x4(-0.005004852544516,0.017378047108650,0.000099497949122,0.000440325675299,-0.020688161253929,-0.014336419291794,0.002775433007628,-0.014056632295251,0.021280830726027,0.015729211270809,0.002410579472780,0.007270253263414,0.026296902447939,-0.006007779389620,0.015802862122655,-0.023208457976580));
res += mul(Get(s1,dx,0), float4x4(0.007456123363227,0.024718990549445,-0.004799815360457,-0.013886395841837,0.031081929802895,0.008294044062495,-0.000219783672947,-0.036452248692513,-0.012312181293964,0.006695131771266,0.010588197037578,0.016358483582735,0.009779806248844,-0.008260407485068,0.010540270246565,-0.013422154821455));
res += mul(Get(s1,dx,dy), float4x4(-0.002184092998505,0.019488727673888,-0.005170246120542,-0.001791327027604,-0.002294232835993,0.011108064092696,0.021181743592024,0.007278748787940,0.012694375589490,0.030243959277868,0.000353396520950,0.006818366236985,0.011578400619328,0.028656611219049,0.018998535349965,0.013728359714150));
res += mul(Get(s2,-dx,-dy), float4x4(0.033826757222414,0.045166864991188,-0.041448157280684,-0.002378652105108,0.046189907938242,0.039058543741703,0.015064073726535,-0.008550939150155,-0.003146985778585,0.016708390787244,-0.005832107737660,-0.021332293748856,0.047470640391111,0.014012510888278,0.012852516956627,-0.024518668651581));
res += mul(Get(s2,-dx,0), float4x4(0.023088276386261,0.029239214956760,0.013363434933126,0.000987277249806,0.017775550484657,0.003871571039781,-0.024052437394857,0.008599101565778,0.021062079817057,0.059418693184853,-0.012121918611228,-0.021294496953487,0.004440850578249,0.021592428907752,0.026039628311992,0.002303857589141));
res += mul(Get(s2,-dx,dy), float4x4(-0.005434125661850,0.041976965963840,0.023910267278552,0.015362168662250,-0.030897129327059,-0.003048284212127,-0.005483229644597,-0.021659467369318,0.037929479032755,0.045017935335636,0.010060057044029,0.007745143957436,0.025437360629439,0.024047028273344,0.004030804615468,0.041673388332129));
res += mul(Get(s2,0,-dy), float4x4(-0.006318123079836,0.014558185823262,-0.030761640518904,0.017542760819197,0.002580071566626,0.017897333949804,-0.001430294243619,-0.016451809555292,0.016161048784852,0.043630801141262,-0.011216921731830,-0.025352653115988,0.029171813279390,0.027028832584620,0.004150605294853,-0.016414647921920));
res += mul(Get(s2,0,0), float4x4(0.031701803207397,0.019380608573556,0.001033613807522,-0.008085517212749,0.010908583179116,0.057475317269564,-0.004884965717793,0.005260208621621,0.026080911979079,0.056386746466160,-0.002790076890960,-0.000951260386501,0.001925996737555,0.026886319741607,0.050916492938995,-0.014348879456520));
res += mul(Get(s2,0,dy), float4x4(0.022023644298315,0.047837994992733,0.041413780301809,0.025195967406034,-0.017060492187738,0.021831175312400,0.023351253941655,0.028340999037027,0.018464626744390,0.039984446018934,0.005079442169517,-0.011849219910800,0.011568427085876,0.001017344882712,0.031268384307623,0.018714142963290));
res += mul(Get(s2,dx,-dy), float4x4(0.035446394234896,0.048008933663368,0.030067684128881,-0.013908851891756,0.009900714270771,-0.008625731803477,-0.042150557041168,-0.002013814402744,0.004641416482627,0.000250917044468,-0.025347504764795,-0.016548257321119,0.027826795354486,-0.000497079046909,0.009923913516104,-0.000287651171675));
res += mul(Get(s2,dx,0), float4x4(0.049329001456499,0.020411271601915,0.039556872099638,-0.001080498914234,0.037650045007467,0.031992413103580,0.006514696869999,-0.003009464591742,0.017751354724169,-0.001503733103164,-0.038205526769161,0.006387753412127,0.008845025673509,0.035854425281286,0.029065798968077,-0.015171932987869));
res += mul(Get(s2,dx,dy), float4x4(0.044226478785276,0.019917940720916,0.002355037024245,-0.024318914860487,-0.024368299171329,0.011347875930369,-0.000057437733631,0.003281607525423,0.023057390004396,0.014117752201855,-0.005109747871757,-0.010348577052355,0.020747950300574,0.030888995155692,0.000291290227324,-0.003699608147144));
res += mul(Get(s3,-dx,-dy), float4x4(-0.009589457884431,0.029126442968845,0.004599350038916,0.023317765444517,0.013281198218465,-0.004367042798549,0.023863609880209,-0.010616218671203,0.030654666945338,0.044655166566372,0.015714840963483,0.002815349726006,0.021775227040052,0.054231438785791,0.026349483057857,-0.037269920110703));
res += mul(Get(s3,-dx,0), float4x4(0.011407924816012,0.019815970212221,0.013201310299337,-0.016255151480436,0.022894721478224,-0.005429490935057,-0.000555490609258,-0.001599786337465,0.052379600703716,0.068757481873035,0.002007854869589,0.021694133058190,-0.012671778909862,0.022392673417926,0.025338362902403,0.031265061348677));
res += mul(Get(s3,-dx,dy), float4x4(0.002705266699195,0.007522771600634,-0.006972371134907,0.008497677743435,0.021469241008162,0.021435778588057,0.002101414604113,0.005143258720636,0.034357000142336,0.036738883703947,-0.013613049872220,0.003166823880747,0.027705553919077,0.020511295646429,-0.020256072282791,-0.006090984214097));
res += mul(Get(s3,0,-dy), float4x4(0.015879398211837,0.031403914093971,0.007319784257561,0.000016398549633,0.000718442664947,0.032359525561333,0.015244587324560,0.020936256274581,0.026245811954141,0.083559513092041,0.034564234316349,-0.009194763377309,0.045668710023165,-0.005947330500931,0.026622282341123,-0.003479880979285));
res += mul(Get(s3,0,0), float4x4(0.022560147568583,0.012258838862181,0.047777768224478,-0.002491194056347,0.023849952965975,0.040683306753635,0.011433468200266,-0.002778972964734,-0.004210745915771,0.044620081782341,0.021832427009940,0.023123573511839,0.013146755285561,-0.010620906017721,-0.015701165422797,-0.033082742244005));
res += mul(Get(s3,0,dy), float4x4(-0.023826954886317,0.011388021521270,0.017933214083314,0.013046570122242,0.014294936321676,0.037417788058519,0.002063107909635,0.015750812366605,-0.003827200736851,0.013594999909401,-0.021370507776737,-0.007636547088623,0.008664244785905,-0.004783411975950,0.014452240429819,-0.041877038776875));
res += mul(Get(s3,dx,-dy), float4x4(0.000994580797851,-0.013524165377021,-0.015495374798775,-0.025979770347476,0.016037432476878,0.048185136169195,0.023440815508366,0.020342323929071,0.062461450695992,0.030575240030885,-0.007452322635800,-0.013089153915644,-0.004585891496390,-0.003820826765150,0.000431328022387,0.024382218718529));
res += mul(Get(s3,dx,0), float4x4(0.001538880867884,0.026743020862341,0.019541580229998,0.002486186800525,0.009461882524192,0.043998591601849,0.030311478301883,-0.013104791752994,0.013945185579360,0.023756351321936,0.009187402203679,-0.004485628101975,0.006217511836439,0.033844504505396,-0.006273325532675,0.005523823667318));
res += mul(Get(s3,dx,dy), float4x4(-0.009815727360547,-0.013967353850603,0.010690850205719,0.011830753646791,0.015632940456271,0.026640573516488,0.013928719796240,-0.022418754175305,0.020253371447325,0.022152235731483,0.042982622981071,-0.015479100868106,0.034648999571800,0.008240710943937,0.027672581374645,0.009338437579572));
return max(float4(0,0,0,0), res);
}
