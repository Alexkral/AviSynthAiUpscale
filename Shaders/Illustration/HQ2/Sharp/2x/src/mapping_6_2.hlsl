sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.008603334426880,-0.011503040790558,0.000124978920212,-0.007784715387970,0.000398433650844,0.012641131877899,0.089104138314724,0.102969542145729,-0.009956515394151,-0.008485191501677,-0.008187446743250,0.007935441099107,0.007956957444549,-0.003521197941154,-0.000436562317191,-0.003750050673261));
res += mul(Get(s0,-dx,0), float4x4(0.003945379052311,0.004200394731015,0.008257389068604,0.009886700659990,0.006609969772398,-0.002503528492525,0.071891643106937,0.069123946130276,-0.021618966013193,-0.002549586584792,-0.158769041299820,-0.113441780209541,-0.007583500817418,0.004038010723889,0.031898997724056,0.029741570353508));
res += mul(Get(s0,-dx,dy), float4x4(0.017973348498344,-0.003158390522003,0.009415491484106,-0.010829324834049,-0.002072425093502,-0.005958640482277,0.030322963371873,0.036561973392963,0.023178508505225,0.009710342623293,0.097840525209904,0.034566145390272,-0.010332360863686,0.004998000338674,-0.023955985903740,-0.027193661779165));
res += mul(Get(s0,0,-dy), float4x4(-0.016763962805271,0.003140947315842,0.011133384890854,0.023733904585242,-0.022055720910430,-0.005743830930442,0.007813679054379,0.064810343086720,0.008496413007379,0.007523349020630,0.058468386530876,0.074390657246113,-0.008609609678388,0.013816837221384,0.033974174410105,0.024627810344100));
res += mul(Get(s0,0,0), float4x4(0.001728428062052,0.005974418483675,0.015647517517209,0.027462908998132,-0.030601160600781,-0.000699688447639,0.021521996706724,0.090505652129650,0.030437592417002,0.005715803243220,-0.053821165114641,-0.030324114486575,-0.027884908020496,-0.008226811885834,0.030066475272179,0.034722074866295));
res += mul(Get(s0,0,dy), float4x4(-0.010214358568192,0.005023780744523,0.010622634552419,0.016897181048989,-0.023827232420444,-0.011684092693031,0.030560739338398,0.111910976469517,0.039401147514582,-0.015032056719065,0.063365362584591,-0.066442981362343,0.009858515113592,-0.012084162794054,-0.000449665007181,-0.019310684874654));
res += mul(Get(s0,dx,-dy), float4x4(-0.009650600142777,-0.004010199103504,-0.003741652937606,-0.031822044402361,0.026292689144611,-0.009085435420275,-0.086872547864914,-0.132833883166313,0.005798658821732,-0.008641053922474,0.039800956845284,0.021262215450406,0.008492237888277,0.005029654596001,-0.006430065259337,-0.017993250861764));
res += mul(Get(s0,dx,0), float4x4(0.009989802725613,0.001939908717759,-0.017696345224977,-0.028185009956360,0.038814473897219,0.002323433989659,-0.115507200360298,-0.197359755635262,0.028831142932177,-0.003963356837630,0.140782311558723,0.128836184740067,-0.004362992011011,-0.002638310194016,-0.010366746224463,-0.005089520476758));
res += mul(Get(s0,dx,dy), float4x4(-0.003536720527336,-0.013593643903732,-0.006096883676946,-0.002669186796993,0.037788543850183,0.007852040231228,-0.061164993792772,-0.142276555299759,-0.005097943823785,0.004832344129682,0.122578002512455,0.123417399823666,0.006578586529940,-0.002281206659973,-0.001668366021477,0.010294049046934));
res += mul(Get(s1,-dx,-dy), float4x4(0.002705769846216,-0.010260465554893,-0.041361924260855,-0.068779744207859,-0.005415963009000,0.015195903368294,0.032477930188179,0.067264415323734,0.003996812738478,-0.013609594665468,-0.145655900239944,-0.178528472781181,-0.009070043452084,0.002358600962907,0.058982327580452,0.078773602843285));
res += mul(Get(s1,-dx,0), float4x4(0.065981507301331,0.007062491495162,0.122670374810696,0.109886288642883,0.041999608278275,-0.001942750066519,0.202034682035446,0.224943548440933,0.064331255853176,0.006924348883331,-0.049642387777567,-0.150990173220634,-0.013498210348189,0.010182744823396,-0.027101481333375,0.020919831469655));
res += mul(Get(s1,-dx,dy), float4x4(-0.029637303203344,-0.014573786407709,-0.082396626472473,-0.036740954965353,-0.007066407240927,0.004106550943106,-0.023416539654136,0.017173167318106,0.043437421321869,-0.008390026167035,-0.068642862141132,-0.126468375325203,0.019025456160307,0.002531849546358,0.044683061540127,0.021921463310719));
res += mul(Get(s1,0,-dy), float4x4(0.053802073001862,-0.003789507551119,0.065678283572197,-0.038404341787100,0.060192536562681,0.004830479156226,-0.032205864787102,-0.043991494923830,0.061064656823874,-0.000045973883971,0.139112040400505,0.076176062226295,-0.022290371358395,0.001602128148079,-0.040990501642227,0.009079053066671));
res += mul(Get(s1,0,0), float4x4(-0.000838792475406,-0.013317213393748,0.153421878814697,0.201565220952034,0.038874745368958,0.005703075788915,0.145254001021385,0.074853770434856,0.004989976063371,-0.001070793019608,0.243513703346252,0.279965192079544,0.028397070243955,0.009165273047984,-0.077813796699047,-0.126991286873817));
res += mul(Get(s1,0,dy), float4x4(-0.015237390063703,-0.004130523186177,-0.102590054273605,-0.055548179894686,0.009777939878404,0.005905925296247,0.097482770681381,0.124887406826019,-0.047548338770866,-0.012649380601943,0.040979892015457,0.129591286182404,0.028584789484739,0.010539723560214,0.069445781409740,0.038373656570911));
res += mul(Get(s1,dx,-dy), float4x4(0.032143425196409,0.003953024279326,0.146922826766968,0.113556616008282,0.043191231787205,-0.007412405218929,0.206660732626915,0.214882284402847,0.016685180366039,-0.006417408119887,0.086821705102921,0.120663687586784,-0.013510385528207,-0.008958201855421,-0.023480825126171,-0.013867363333702));
res += mul(Get(s1,dx,0), float4x4(-0.024850068613887,-0.000591888907366,-0.048916321247816,-0.040555585175753,0.003640505019575,-0.009496513754129,0.070611596107483,0.081349782645702,-0.033747021108866,-0.008194383233786,-0.055064998567104,-0.036364559084177,0.041566334664822,-0.001408885582350,0.065054215490818,0.033622171729803));
res += mul(Get(s1,dx,dy), float4x4(0.043481443077326,-0.001309136976488,-0.022639466449618,-0.058776117861271,-0.002885014051571,-0.011667575687170,-0.017339909449220,-0.065731123089790,0.029875174164772,-0.006458877120167,-0.100231230258942,-0.103617198765278,-0.008361342363060,-0.006940299645066,0.033239744603634,0.067952319979668));
res += mul(Get(s2,-dx,-dy), float4x4(0.042120818048716,0.002352692885324,0.087981976568699,-0.020585920661688,-0.016008758917451,-0.012421141378582,0.003609788604081,0.012474880553782,0.030473522841930,-0.011330283246934,0.115045122802258,0.081395767629147,0.020580228418112,0.005988023709506,-0.057448249310255,-0.053230870515108));
res += mul(Get(s2,-dx,0), float4x4(-0.024869149550796,-0.001650688354857,0.208193004131317,0.245929077267647,-0.013950400054455,-0.003113373881206,-0.051956251263618,0.005721426103264,-0.024654444307089,-0.007601956836879,0.004681104328483,0.054368440061808,0.044988851994276,-0.001916727866046,0.081755459308624,0.021845769137144));
res += mul(Get(s2,-dx,dy), float4x4(-0.044790912419558,0.012772530317307,-0.008124989457428,0.064559847116470,0.016211133450270,0.011555878445506,-0.007698201574385,-0.055809579789639,0.005139845889062,0.003930687438697,-0.009844969958067,-0.027790913358331,0.005478681530803,-0.001816955395043,0.078696295619011,0.074740059673786));
res += mul(Get(s2,0,-dy), float4x4(-0.026644403114915,0.007062376942486,0.144089728593826,0.210766121745110,-0.008275660686195,0.004658981226385,-0.020098078995943,-0.018036581575871,-0.015633579343557,0.011777366511524,0.043978307396173,0.117673225700855,0.055426497012377,0.010064695961773,0.102624647319317,0.100478343665600));
res += mul(Get(s2,0,0), float4x4(-0.051646191626787,-0.010844896547496,-0.124597489833832,0.011824038811028,0.026344582438469,0.002035613870248,-0.037292499095201,-0.057246446609497,0.000671242538374,-0.008828048594296,-0.133431017398834,-0.095536619424820,-0.012068053707480,0.004481272771955,0.042885430157185,0.056770332157612));
res += mul(Get(s2,0,dy), float4x4(0.041441552340984,0.010548013262451,-0.119416251778603,-0.183785706758499,0.043172657489777,0.001269516884349,0.115941539406776,0.046164385974407,0.043542336672544,-0.004719376564026,0.078349404036999,-0.004132256377488,0.004151462111622,0.004015434067696,-0.030514005571604,-0.016150034964085));
res += mul(Get(s2,dx,-dy), float4x4(0.021855579689145,-0.006046063266695,-0.045798994600773,-0.063317827880383,0.001400011358783,0.010955791920424,0.042193856090307,0.077922828495502,0.007534788921475,-0.001664484152570,-0.086614146828651,-0.054007377475500,-0.006251250393689,0.002891827607527,0.053688608109951,0.073217883706093));
res += mul(Get(s2,dx,0), float4x4(0.066644869744778,-0.003315863432363,-0.079124815762043,-0.182566747069359,-0.002561722882092,0.005353318061680,0.060007616877556,0.049908977001905,0.041727077215910,-0.016517525538802,0.017917566001415,-0.030471328645945,-0.014262554235756,-0.008369292132556,-0.018501551821828,-0.008610318414867));
res += mul(Get(s2,dx,dy), float4x4(0.098096601665020,0.001057936111465,0.192852601408958,0.091695718467236,-0.023930018767715,-0.000877077109180,0.096978418529034,0.114835903048515,0.007121635135263,0.002929715439677,0.112131454050541,0.110379263758659,0.024596529081464,-0.006545222830027,0.026650549843907,-0.013372152112424));
res += mul(Get(s3,-dx,-dy), float4x4(-0.002229106146842,-0.021460501477122,-0.038014732301235,-0.064992561936378,0.029829036444426,-0.005291453562677,0.061002142727375,0.075494907796383,0.001651587313972,-0.010081383399665,-0.067985616624355,-0.114474773406982,0.008788272738457,0.001239867531694,-0.096704810857773,-0.126065313816071));
res += mul(Get(s3,-dx,0), float4x4(0.011950653977692,-0.000264684320427,0.043645117431879,0.047410070896149,0.004660266451538,0.008745359256864,0.006692895200104,0.009573615156114,0.048213344067335,0.005334156099707,-0.002608266659081,-0.071316830813885,0.009398736990988,-0.007968591526151,-0.081703245639801,-0.102167837321758));
res += mul(Get(s3,-dx,dy), float4x4(-0.018517890945077,-0.003563800128177,0.037157863378525,0.020504076033831,0.026857957243919,-0.000965549377725,0.043673571199179,0.040752898901701,0.025161212310195,0.010722197592258,0.069329507648945,-0.023242561146617,0.003213823074475,-0.001056861947291,0.089776366949081,0.079637728631496));
res += mul(Get(s3,0,-dy), float4x4(0.012998673133552,-0.008394055068493,0.095930173993111,0.056794013828039,0.005112806335092,-0.009744648821652,0.103296093642712,0.079837501049042,0.026814222335815,-0.009758416563272,0.177792578935623,0.160638719797134,0.013246654532850,-0.006339661777020,0.083163537085056,0.094199031591415));
res += mul(Get(s3,0,0), float4x4(-0.030820883810520,0.010888934135437,0.049918714910746,0.152044236660004,-0.010354699566960,-0.005906646605581,0.098419509828091,0.143721580505371,-0.021293912082911,0.003464872250333,0.151056259870529,0.226329773664474,0.015054952353239,0.009878932498395,0.010492302477360,-0.007769926916808));
res += mul(Get(s3,0,dy), float4x4(0.017415642738342,0.002826506039128,0.002175763947889,-0.011276064440608,-0.003852829802781,-0.002296066377312,0.025474499911070,0.101728022098541,-0.009724435396492,-0.008139410056174,0.057283002883196,0.030039733275771,0.018669739365578,-0.009804390370846,-0.039341419935226,-0.118587493896484));
res += mul(Get(s3,dx,-dy), float4x4(0.004004870541394,-0.010252892039716,0.061851244419813,0.075737506151199,-0.030881352722645,0.004544537048787,-0.017875516787171,-0.001304474659264,0.014834917150438,-0.018459612503648,0.032756015658379,-0.035990666598082,-0.013607814908028,-0.007261808495969,0.003660751273856,0.039651028811932));
res += mul(Get(s3,dx,0), float4x4(0.023828873410821,0.002704001031816,-0.085041970014572,-0.094521231949329,-0.005109980702400,0.001638376270421,-0.056595131754875,-0.052349828183651,-0.008377647027373,-0.012222283519804,0.020633738487959,0.008074992336333,-0.014214698225260,-0.004168859682977,0.136963278055191,0.207932665944099));
res += mul(Get(s3,dx,dy), float4x4(0.055591221898794,0.008496384136379,0.117753721773624,0.062141932547092,0.005225472617894,0.004286240786314,0.005639802198857,0.011703517287970,0.006194603163749,-0.009508727118373,0.072925895452499,0.091982766985893,-0.023570869117975,-0.006808078382164,0.054581176489592,0.148336917161942));
return max(float4(0,0,0,0), res);
}
