sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.008330699056387,-0.011183916591108,-0.021287007257342,0.005468972958624,0.020468147471547,0.009382096119225,-0.020011810585856,-0.040676429867744,0.018719244748354,-0.026883633807302,-0.011470635421574,0.010828414000571,0.039527464658022,0.088248200714588,-0.043617226183414,0.027813879773021));
res += mul(Get(s0,-dx,0), float4x4(-0.002190017374232,0.031581632792950,-0.008028971031308,0.003063466399908,0.020850801840425,0.046836953610182,-0.028289336711168,0.009377964772284,-0.003304035170004,-0.005722853820771,0.009573762305081,0.005528729408979,-0.034976925700903,0.075968690216541,-0.091534800827503,-0.008485781960189));
res += mul(Get(s0,-dx,dy), float4x4(0.002946785651147,0.018791025504470,0.020774645730853,-0.017065592110157,0.028761724010110,0.020904714241624,-0.000071408736403,0.023913130164146,0.002899524522945,0.039788629859686,-0.035187471657991,-0.007783424574882,0.095065288245678,-0.017494479194283,-0.044023308902979,0.054838526993990));
res += mul(Get(s0,0,-dy), float4x4(-0.015727411955595,0.008561068214476,-0.004078267142177,-0.003297827206552,-0.036485627293587,-0.013146301731467,0.007126543670893,0.032726604491472,-0.021123988553882,0.001958922017366,-0.028551880270243,-0.025230137631297,-0.007180760148913,0.057124935090542,0.007904262281954,-0.023208158090711));
res += mul(Get(s0,0,0), float4x4(-0.007647329941392,0.007785900495946,0.009143706411123,0.030701521784067,0.002070736372843,0.033671483397484,0.045367427170277,0.021403364837170,0.000532739446498,0.028976680710912,0.002261125482619,0.070486016571522,0.034802984446287,-0.042504869401455,-0.001831943052821,0.014410205185413));
res += mul(Get(s0,0,dy), float4x4(0.012105646543205,-0.007257271558046,0.027393223717809,-0.019231731072068,0.024619570001960,-0.041779983788729,0.050409052520990,-0.033891163766384,-0.015396192669868,0.013471937738359,-0.059347625821829,0.013669934123755,0.092931754887104,-0.085405096411705,0.012619617395103,-0.056800439953804));
res += mul(Get(s0,dx,-dy), float4x4(-0.015753926709294,-0.005970680154860,0.013218995183706,-0.002222250215709,-0.029886407777667,-0.061990603804588,-0.010515258647501,0.032837346196175,-0.018591389060020,-0.007574196904898,-0.016861755400896,0.006290255580097,0.030057940632105,-0.071812458336353,-0.002297823317349,-0.010799816809595));
res += mul(Get(s0,dx,0), float4x4(-0.026595534756780,-0.025499070063233,0.006230362225324,-0.028727794066072,0.004859723616391,0.003808166366071,-0.011097524315119,-0.000385916297091,0.018372325226665,-0.012877830304205,-0.007903653196990,-0.008944826200604,0.039720945060253,-0.041064824908972,-0.036088205873966,0.007256677374244));
res += mul(Get(s0,dx,dy), float4x4(0.001562042860314,-0.035411119461060,-0.025511292740703,0.005100450478494,0.010788113810122,-0.021073337644339,-0.042970567941666,-0.009415028616786,-0.028513005003333,0.029217096045613,-0.002961955266073,-0.005393503233790,-0.013839661143720,0.082148037850857,-0.061114236712456,-0.010004213079810));
res += mul(Get(s1,-dx,-dy), float4x4(0.003332628402859,0.057971123605967,0.014848927967250,0.034706890583038,-0.043558716773987,0.036391977220774,0.038512155413628,-0.001581126009114,-0.002022884553298,-0.020565256476402,-0.018373699858785,-0.007635759655386,0.028392978012562,-0.021121818572283,-0.059113740921021,0.058016348630190));
res += mul(Get(s1,-dx,0), float4x4(0.006683142855763,0.018813585862517,0.007621686439961,-0.050714548677206,0.031776733696461,-0.062575668096542,-0.072943150997162,0.049398481845856,0.002730314619839,-0.002753950422630,-0.025168949738145,0.003290641587228,0.083111301064491,-0.030007617548108,-0.006151784211397,0.009278344921768));
res += mul(Get(s1,-dx,dy), float4x4(0.037804860621691,-0.018413836136460,0.006310258060694,-0.010486651211977,-0.003870428539813,-0.018456956371665,-0.038848754018545,0.001117566251196,0.017554767429829,-0.000504587835167,-0.032968487590551,0.036776088178158,0.039403855800629,0.021538482978940,-0.079587101936340,0.016823045909405));
res += mul(Get(s1,0,-dy), float4x4(0.036410115659237,-0.022440956905484,0.021508477628231,-0.039549238979816,0.000586456037126,0.083044677972794,0.072460301220417,-0.070447660982609,0.019076017662883,-0.011231261305511,-0.026399204507470,-0.014860480092466,0.018974140286446,0.006370319984853,-0.007450792472810,-0.005880559794605));
res += mul(Get(s1,0,0), float4x4(-0.026263227686286,-0.056525263935328,-0.011345557868481,-0.033779859542847,0.031962197273970,-0.033710643649101,-0.025904962792993,-0.049397196620703,0.008077106438577,0.020205043256283,-0.016432564705610,0.006675716489553,-0.028514992445707,-0.000533205631655,-0.006980418693274,0.023330941796303));
res += mul(Get(s1,0,dy), float4x4(0.001601418829523,-0.030127877369523,0.014269509352744,-0.026615841314197,-0.019766390323639,-0.005207162350416,-0.028094429522753,0.013583451509476,0.004580816254020,0.002153255045414,-0.017205633223057,0.010254446417093,0.040699616074562,0.002525822725147,-0.073793791234493,0.039944000542164));
res += mul(Get(s1,dx,-dy), float4x4(-0.018250590190291,-0.019432740285993,0.028283886611462,-0.038825318217278,0.052585445344448,-0.002952965442091,-0.010448515415192,0.072594948112965,0.030037332326174,-0.005548086948693,-0.025677448138595,-0.002137105679139,-0.027515010908246,0.053450495004654,-0.022235326468945,-0.044788967818022));
res += mul(Get(s1,dx,0), float4x4(-0.051085252314806,-0.047974806278944,0.047854095697403,0.007430493831635,-0.069838047027588,-0.032896403223276,-0.024326793849468,0.009598261676729,0.012815666384995,-0.002952078823000,-0.002749550621957,-0.000815493986011,-0.041788738220930,-0.012931155040860,0.010153658688068,-0.011697300709784));
res += mul(Get(s1,dx,dy), float4x4(-0.059196248650551,-0.026620777323842,0.019018236547709,0.005241287406534,-0.040288470685482,-0.012855839915574,-0.022181781008840,-0.018309865146875,0.004392484668642,-0.023626305162907,-0.024154210463166,0.007727729622275,0.032340753823519,-0.041116535663605,0.038522675633430,-0.015893129631877));
res += mul(Get(s2,-dx,-dy), float4x4(0.026667254045606,0.043719660490751,-0.015624872408807,-0.014333082363009,0.029096616432071,-0.008760452270508,-0.033247571438551,0.005358824506402,-0.019263649359345,0.008515855297446,-0.025494301691651,-0.013982375152409,-0.003448546165600,-0.012370341457427,0.001431789249182,0.012742763385177));
res += mul(Get(s2,-dx,0), float4x4(0.014785736799240,0.057903602719307,-0.014612705446780,0.014113398268819,0.006947650574148,0.006277783773839,-0.030516924336553,-0.009852862916887,-0.005826005712152,0.009026557207108,-0.019820932298899,-0.004243506118655,-0.018240578472614,-0.022878823801875,-0.015684871003032,0.009685327298939));
res += mul(Get(s2,-dx,dy), float4x4(0.018195910379291,0.097051963210106,0.023258790373802,0.002142542973161,-0.015466280281544,0.043338194489479,0.021611643955112,-0.036531783640385,-0.008536197245121,0.011557251214981,0.023034932091832,-0.023209638893604,0.038477502763271,-0.053379487246275,0.008120773360133,0.024798562750220));
res += mul(Get(s2,0,-dy), float4x4(0.007349798455834,0.008085803128779,0.033608116209507,-0.034287527203560,-0.007570450194180,-0.025129536166787,-0.031282730400562,-0.001981595065445,0.002096297452226,-0.009953425265849,-0.000981149263680,-0.009094621054828,-0.038050312548876,-0.046152826398611,-0.002477607922629,-0.009835803881288));
res += mul(Get(s2,0,0), float4x4(0.015660228207707,0.013996362686157,0.060955632477999,0.047060072422028,0.038586936891079,-0.004254103172570,0.008990976028144,0.013632480055094,-0.002494093496352,-0.035721208900213,0.017794258892536,0.001207572757266,-0.009691220708191,-0.055467780679464,0.001617586938664,0.003330905456096));
res += mul(Get(s2,0,dy), float4x4(0.009233631193638,0.010663040913641,0.006074924487621,0.003440057393163,0.007580468431115,0.034045994281769,-0.002280996646732,-0.011756500229239,-0.017727708443999,0.000889401533641,0.013155885040760,0.008337191306055,-0.084446027874947,-0.097196877002716,0.008475761860609,0.029250523075461));
res += mul(Get(s2,dx,-dy), float4x4(0.003116635605693,-0.008469650521874,-0.057519819587469,-0.005045360885561,-0.024347914382815,-0.035524487495422,0.000562296074349,0.012506694532931,-0.013671781867743,0.007834012620151,-0.008471458218992,0.006371055264026,0.001594701083377,-0.012299490161240,0.009401666000485,0.015839008614421));
res += mul(Get(s2,dx,0), float4x4(0.034699030220509,0.049269389361143,0.002878515981138,-0.004831128753722,-0.004378365818411,-0.003330981591716,0.022301994264126,0.021843383088708,0.009045565500855,0.023778771981597,-0.014511025510728,0.013831469230354,-0.048009179532528,-0.052762743085623,-0.004980949219316,-0.002796931657940));
res += mul(Get(s2,dx,dy), float4x4(0.004479899071157,0.012768535874784,-0.017769969999790,0.003249737666920,0.008198325522244,0.023967564105988,-0.015688542276621,0.013126065954566,0.000988970510662,-0.010180205106735,-0.003818285185844,0.013680906035006,-0.055095825344324,-0.062763869762421,0.030853338539600,0.020795274525881));
res += mul(Get(s3,-dx,-dy), float4x4(0.028067717328668,-0.020706176757813,0.005566888954490,-0.009066067636013,0.045640461146832,-0.008053905330598,0.036076478660107,-0.034093841910362,0.006316094659269,-0.002790563739836,0.010307376272976,0.000376221374609,-0.008813958615065,0.009089948609471,0.045975033193827,-0.037542413920164));
res += mul(Get(s3,-dx,0), float4x4(0.046386491507292,-0.029316617175937,0.009043325670063,0.019599817693233,-0.015409693121910,0.010055046528578,-0.007391988299787,-0.021809997037053,-0.003094973042607,0.002414664952084,0.026005551218987,-0.031112667173147,-0.027747618034482,-0.029684456065297,0.005637131165713,-0.011806426569819));
res += mul(Get(s3,-dx,dy), float4x4(0.010824868455529,-0.088230088353157,-0.024695560336113,-0.006712173577398,-0.001448854687624,0.060391139239073,-0.013358836062253,0.000286674243398,0.034888096153736,0.012417400255799,-0.014053450897336,0.022330751642585,0.016517944633961,-0.009133734740317,0.034953955560923,0.013264566659927));
res += mul(Get(s3,0,-dy), float4x4(0.021490437909961,-0.053154010325670,0.027434401214123,0.009634508751333,0.028593843802810,0.020826853811741,0.042535819113255,-0.027699181810021,0.034636110067368,0.000007442824426,-0.015332787297666,-0.050376631319523,-0.079988613724709,0.021255115047097,0.022205080837011,0.007035355549306));
res += mul(Get(s3,0,0), float4x4(0.022701032459736,-0.010546613484621,-0.007678316440433,-0.014103455469012,0.009561533108354,0.005102370399982,-0.019759345799685,-0.026975741609931,-0.045047953724861,0.050854071974754,0.025372453033924,-0.070924371480942,-0.002071539871395,-0.011695412918925,0.034414410591125,-0.036854103207588));
res += mul(Get(s3,0,dy), float4x4(0.012527009472251,-0.024440217763186,0.046561900526285,0.008133493363857,0.004421293735504,0.031600765883923,-0.027870597317815,0.006213120650500,-0.027476580813527,0.036165304481983,-0.014328140765429,-0.055136531591415,0.004985141567886,0.005768176168203,-0.029200293123722,-0.011938934214413));
res += mul(Get(s3,dx,-dy), float4x4(-0.024079335853457,-0.043491110205650,0.008626770228148,0.018935101106763,-0.028131138533354,0.051875814795494,0.010991475544870,0.009149417281151,0.012981016188860,0.011450056917965,-0.054006990045309,0.029599737375975,-0.045531697571278,-0.003673851722851,-0.021374721080065,-0.010290052741766));
res += mul(Get(s3,dx,0), float4x4(0.020390223711729,0.009199365042150,-0.013890594244003,0.024144977331161,0.006845360156149,-0.018417354673147,0.039318379014730,0.009289655834436,0.055069912225008,0.035561177879572,0.023721920326352,0.062679030001163,-0.019862391054630,0.024357594549656,-0.028277227655053,-0.004916140809655));
res += mul(Get(s3,dx,dy), float4x4(0.020534874871373,-0.000868114875630,0.008725476451218,0.029304081574082,0.021061973646283,0.003081124275923,-0.012807580642402,-0.015567301772535,-0.012323638424277,-0.045642390847206,-0.033065155148506,0.014594300650060,-0.026179838925600,0.013244413770735,0.000846269656904,0.028333811089396));
return max(float4(0,0,0,0), res);
}
