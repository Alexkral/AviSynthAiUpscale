sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.064579598605633,0.027265038341284,0.019820567220449,-0.013666401617229,0.114959172904491,0.032389182597399,0.091037787497044,-0.064974255859852,0.003557096002623,0.037251293659210,0.002561912406236,0.009630981832743,-0.011348185129464,-0.021978767588735,-0.035968922078609,-0.029526496306062));
res += mul(Get(s0,-dx,0), float4x4(-0.015383936464787,-0.007732013240457,-0.038401260972023,0.023385733366013,0.027644162997603,-0.047490779310465,0.032459471374750,-0.024905549362302,0.007438401225954,0.024897744879127,0.013194995932281,-0.012578826397657,0.001417946419679,0.000441658368800,-0.046841543167830,-0.008329605683684));
res += mul(Get(s0,-dx,dy), float4x4(-0.030111012980342,0.035628810524940,-0.023771582171321,0.034667246043682,-0.048689324408770,0.025022780522704,-0.001977039733902,-0.022070089355111,-0.013012952171266,0.037365693598986,-0.027855347841978,0.026529677212238,0.032189756631851,0.035116497427225,0.021674519404769,-0.002058414975181));
res += mul(Get(s0,0,-dy), float4x4(-0.000610960589256,-0.020882124081254,-0.040623497217894,0.014430314302444,0.063265472650528,0.029196510091424,0.018158970400691,-0.079873897135258,0.039264697581530,0.035944655537605,0.068898335099220,-0.017055576667190,-0.003231192706153,0.020256411284208,0.025942767038941,-0.000339521298883));
res += mul(Get(s0,0,0), float4x4(-0.023395668715239,-0.062639027833939,-0.107110813260078,0.036028031259775,0.013023290783167,0.038895376026630,-0.076257601380348,-0.009429248049855,0.043067120015621,-0.037233754992485,0.039484005421400,0.007705744821578,0.049038413912058,0.029435049742460,0.066208742558956,-0.037345241755247));
res += mul(Get(s0,0,dy), float4x4(-0.018911581486464,-0.019111616536975,-0.017537200823426,0.017353987321258,-0.065207026898861,0.060958776623011,-0.041663926094770,-0.031837776303291,-0.042855169624090,0.022314267233014,-0.020522462204099,0.048876933753490,0.043562851846218,0.003574590198696,0.007463869173080,0.036087103188038));
res += mul(Get(s0,dx,-dy), float4x4(-0.007184837944806,-0.052636627107859,-0.058601748198271,-0.021616056561470,0.009553098119795,0.026547977700830,0.045198183506727,-0.049876030534506,0.015724947676063,0.063867889344692,0.031863633543253,-0.012964215129614,-0.031174270436168,0.014878268353641,-0.025080075487494,0.018859051167965));
res += mul(Get(s0,dx,0), float4x4(-0.010451065376401,-0.003753122175112,-0.009618187323213,0.033543877303600,-0.002127177547663,-0.003288654610515,-0.061098083853722,-0.021092806011438,0.006214694585651,0.023447232320905,-0.003206099150702,0.002179995877668,0.010730144567788,0.069301933050156,-0.038201473653316,-0.009662997908890));
res += mul(Get(s0,dx,dy), float4x4(-0.028324799612164,-0.052412122488022,0.000594671349972,0.026330461725593,-0.039325829595327,0.001502691186033,-0.112788371741772,-0.025632997974753,-0.001583897159435,0.033015545457602,0.012993814423680,0.004253373481333,-0.018107077106833,0.097445964813232,-0.005889039486647,0.046738382428885));
res += mul(Get(s1,-dx,-dy), float4x4(0.050516754388809,-0.005606258753687,0.012194158509374,-0.029074663296342,-0.032690905034542,-0.025304624810815,-0.001353897736408,0.014975196681917,0.030043082311749,0.011531395837665,-0.002780769253150,0.005936302244663,0.009673015214503,0.046092845499516,0.004480300936848,-0.016160404309630));
res += mul(Get(s1,-dx,0), float4x4(0.014355661347508,0.036128327250481,-0.024822432547808,-0.004024927504361,0.017617125064135,0.005220140330493,0.018701761960983,0.010431692004204,-0.040753267705441,0.057986769825220,-0.020612835884094,-0.009673244319856,-0.004787131678313,0.010586657561362,0.009042656049132,-0.006303969305009));
res += mul(Get(s1,-dx,dy), float4x4(-0.017586087808013,0.016048034653068,-0.036181338131428,0.039262857288122,0.072876855731010,-0.000321323197568,-0.011215737089515,0.009793038479984,0.079283684492111,0.096429981291294,0.016745034605265,0.017311237752438,0.024717204272747,-0.003403003560379,0.013521993532777,0.013871045783162));
res += mul(Get(s1,0,-dy), float4x4(0.060032296925783,0.022287724539638,0.044871471822262,-0.019127687439322,-0.037804890424013,-0.071757078170776,0.000299582112348,0.054794162511826,0.039470825344324,0.080274425446987,0.053565658628941,0.022379353642464,0.010892842896283,0.018428867682815,-0.002819076878950,0.008348279632628));
res += mul(Get(s1,0,0), float4x4(0.025181666016579,-0.004929828457534,-0.059195596724749,0.007142394315451,0.007515107747167,0.033719845116138,-0.004958245903254,0.019915796816349,0.031720791012049,0.035492595285177,0.058139111846685,-0.007649406325072,0.008786544203758,-0.003028317587450,-0.024095619097352,0.028659868985415));
res += mul(Get(s1,0,dy), float4x4(-0.009754861705005,0.018303507938981,-0.038281511515379,0.028947694227099,0.072222679853439,0.041002359241247,0.003574912901968,0.030490448698401,0.066017135977745,0.027242612093687,0.046584218740463,0.033426035195589,0.003904201323166,-0.005012276116759,-0.007944063283503,0.008569596335292));
res += mul(Get(s1,dx,-dy), float4x4(0.045791808515787,0.093838669359684,0.016106856986880,-0.001246883184649,-0.030404187738895,-0.025004077702761,-0.073523692786694,0.013683857396245,0.034345958381891,-0.060254022479057,0.063462220132351,0.027170104905963,-0.009407669305801,0.022849610075355,-0.032052136957645,-0.009026622399688));
res += mul(Get(s1,dx,0), float4x4(0.028417259454727,0.056343633681536,-0.005464020650834,0.016686415299773,-0.011338097974658,0.029192660003901,-0.059575337916613,0.018190285190940,0.075412407517433,0.056928254663944,0.018713196739554,-0.003072203136981,-0.017794823274016,-0.027636721730232,-0.002099101664498,0.008704865351319));
res += mul(Get(s1,dx,dy), float4x4(0.037375375628471,0.038324028253555,0.009031581692398,-0.001676008687355,0.003492266405374,0.013479327782989,-0.035713590681553,0.021448556333780,0.005597305018455,0.024631848558784,-0.011613223701715,0.056829519569874,-0.029823340475559,0.015978569164872,0.022352540865541,0.011103537864983));
res += mul(Get(s2,-dx,-dy), float4x4(-0.043850392103195,0.016123853623867,-0.071546569466591,0.018586078658700,0.009794199839234,0.038197841495275,-0.061577051877975,0.010269633494318,-0.049777399748564,0.002190269995481,-0.010268430225551,-0.021973781287670,-0.007777746301144,0.023346496745944,0.003111067228019,0.004428078420460));
res += mul(Get(s2,-dx,0), float4x4(0.032017171382904,0.071052618324757,0.019023025408387,0.026123315095901,-0.029914109036326,0.070905864238739,-0.047902554273605,0.017768543213606,-0.022644462063909,-0.023383412510157,0.060817148536444,-0.037250772118568,0.039150904864073,0.092282488942146,-0.029106481000781,-0.014663147740066));
res += mul(Get(s2,-dx,dy), float4x4(0.012664023786783,0.023622347041965,0.046983283013105,0.035290256142616,0.017415376380086,0.001252711052075,0.005891503766179,-0.044747661799192,-0.091208308935165,0.022497860714793,0.007950491271913,0.006131701171398,0.000170795261511,-0.015644097700715,-0.045805804431438,0.013724837452173));
res += mul(Get(s2,0,-dy), float4x4(0.053579885512590,0.021778382360935,0.036391139030457,-0.007060464937240,0.024567013606429,0.012211474590003,0.075912222266197,0.012484922073781,0.034081391990185,-0.053331300616264,0.060544919222593,-0.037121891975403,0.022226341068745,-0.019756250083447,0.031231753528118,0.010304499417543));
res += mul(Get(s2,0,0), float4x4(0.041586522012949,-0.044589247554541,0.065440021455288,-0.001065922668204,0.001056181266904,-0.013111670501530,0.051272206008434,-0.008301789872348,-0.043467726558447,-0.006001836620271,0.047036845237017,-0.040149413049221,-0.003256776602939,0.000210076890653,0.023463251069188,0.010782135650516));
res += mul(Get(s2,0,dy), float4x4(-0.025506818667054,-0.003047622973099,0.045495945960283,0.035638548433781,-0.003077885601670,0.024526910856366,0.043680761009455,-0.035719919949770,-0.122796274721622,-0.024547988548875,-0.019817480817437,0.018270729109645,0.030246494337916,0.039829779416323,0.034184992313385,-0.017496321350336));
res += mul(Get(s2,dx,-dy), float4x4(0.043301012367010,0.042495086789131,0.054372325539589,-0.017447585240006,-0.006240594666451,-0.043287806212902,-0.028924250975251,0.014586077071726,0.043277453631163,-0.023404473438859,0.005299714859575,-0.041734721511602,-0.016700653359294,0.013897952623665,-0.017106028273702,0.021373277530074));
res += mul(Get(s2,dx,0), float4x4(-0.015085120685399,0.002794254571199,0.049309115856886,-0.019835829734802,-0.035158231854439,0.019703650847077,-0.026568293571472,-0.008335037156940,-0.047825414687395,-0.014913058839738,-0.054918590933084,-0.019858045503497,0.004358362406492,0.034917596727610,-0.004203069955111,-0.011114710010588));
res += mul(Get(s2,dx,dy), float4x4(-0.004951078910381,0.059200420975685,0.077130861580372,-0.028338678181171,-0.028958261013031,0.041076131165028,-0.037503179162741,-0.025063745677471,-0.054291706532240,0.000089607900009,-0.039794176816940,0.000559668173082,0.040864374488592,0.013000996783376,0.011437827721238,-0.041221484541893));
res += mul(Get(s3,-dx,-dy), float4x4(0.001248699380085,0.012024052441120,0.036251813173294,-0.016030466184020,0.007049777545035,0.038629315793514,-0.001539906254038,-0.026801977306604,0.001403859001584,-0.071795016527176,-0.033125828951597,0.009185271337628,0.001115699764341,-0.012499937787652,-0.007948084734380,0.023455061018467));
res += mul(Get(s3,-dx,0), float4x4(0.009799656458199,0.022429492324591,0.028338884934783,-0.015266067348421,-0.022905133664608,0.002465924248099,-0.023152388632298,-0.001340950140730,0.021502031013370,0.037528518587351,-0.040691483765841,0.044437196105719,-0.013371846638620,0.025317749008536,-0.027173617854714,0.020295558497310));
res += mul(Get(s3,-dx,dy), float4x4(-0.000314819451887,0.024181772023439,0.019333790987730,-0.008032594807446,0.010222202166915,0.066202566027641,-0.013010242953897,0.013277672231197,0.058013919740915,-0.027179457247257,0.035214535892010,0.017141489312053,0.022188566625118,0.027651777490973,0.001707077259198,0.015450464561582));
res += mul(Get(s3,0,-dy), float4x4(-0.074032366275787,-0.038570038974285,-0.020059047266841,0.012053577229381,0.029987825080752,0.057305075228214,0.004515728913248,-0.007561829872429,0.010579785332084,-0.053228639066219,0.012520991265774,0.059273451566696,-0.005135852377862,-0.012204420752823,-0.011957492679358,-0.001510393572971));
res += mul(Get(s3,0,0), float4x4(0.004671523813158,0.073842011392117,-0.021271672099829,-0.002625047694892,0.045564852654934,0.022019764408469,-0.002086672233418,0.032611265778542,0.063790097832680,0.057902120053768,0.041431624442339,0.029684500768781,-0.040700409561396,-0.025488441810012,0.002863129833713,-0.024788457900286));
res += mul(Get(s3,0,dy), float4x4(-0.070211768150330,0.016702553257346,-0.070619046688080,0.013740468770266,0.028606606647372,0.036024361848831,0.009915270842612,0.014870624057949,0.034166589379311,0.018070168793201,0.023316534236073,0.050598602741957,0.006877324078232,0.015802076086402,0.000460799667053,-0.005060213152319));
res += mul(Get(s3,dx,-dy), float4x4(-0.042661029845476,-0.061163909733295,-0.070447966456413,-0.013927682302892,0.016502181068063,0.040122192353010,0.039948921650648,-0.004475543741137,0.025995951145887,-0.048237141221762,0.021242134273052,0.017814572900534,-0.000213244915358,-0.003228527726606,-0.004521579016000,0.012263712473214));
res += mul(Get(s3,dx,0), float4x4(-0.047931428998709,0.049817841500044,-0.059385702013969,0.024957930669188,0.070223428308964,0.039923928678036,0.058633647859097,0.007995055988431,0.061466187238693,-0.010039320215583,-0.009052426554263,0.030132899060845,-0.007374309934676,-0.016752317547798,-0.029432337731123,-0.027328746393323));
res += mul(Get(s3,dx,dy), float4x4(-0.057421434670687,-0.022086558863521,-0.020962944254279,0.021397193893790,0.051400743424892,0.023680590093136,0.019425118342042,0.014769779518247,-0.017580717802048,0.037794161587954,-0.021739361807704,0.053714554756880,0.000225103663979,-0.008785492740571,-0.010535240173340,-0.017319576814771));
return max(float4(0,0,0,0), res);
}
