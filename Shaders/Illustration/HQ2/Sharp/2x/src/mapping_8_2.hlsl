sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.001586337806657,0.020126681774855,0.037283413112164,-0.006892463192344,-0.010015706531703,-0.001283164485358,0.000439853698481,-0.024218996986747,-0.002379107987508,0.004957647528499,-0.041391238570213,-0.004282927606255,0.005191964562982,0.001808048109524,-0.022992625832558,0.023078233003616));
res += mul(Get(s0,-dx,0), float4x4(-0.004230846185237,0.002723981393501,0.062766656279564,-0.011267038062215,0.009371255524457,-0.002758866408840,0.295806050300598,-0.083732955157757,0.002942420076579,0.002596492180601,0.042782545089722,-0.004773909226060,-0.005111490376294,0.000303699081996,-0.059648662805557,-0.001126691349782));
res += mul(Get(s0,-dx,dy), float4x4(0.012979760766029,-0.012966075912118,-0.006763945799321,-0.004009495954961,0.029125684872270,0.004535099957138,0.226550638675690,0.014911127276719,0.021106341853738,0.006308531854302,0.056766629219055,0.034710053354502,-0.006144034210593,-0.002404515631497,0.049873191863298,-0.003527230583131));
res += mul(Get(s0,0,-dy), float4x4(0.010926937684417,0.006232904735953,-0.012620684690773,0.004804438445717,-0.004010611213744,-0.008381003513932,-0.067210398614407,0.042047716677189,0.024904316291213,-0.001451432937756,0.014757643453777,0.011015805415809,0.008491745218635,0.003251580754295,0.060746442526579,0.020287003368139));
res += mul(Get(s0,0,0), float4x4(0.006671146024019,0.007781804073602,0.004685970023274,0.006357918493450,-0.019567800685763,0.003520425176248,-0.177188321948051,0.008241976611316,-0.011488370597363,-0.005835978779942,-0.003251396818087,-0.002272157464176,-0.003336512949318,-0.009248963557184,-0.009672870859504,0.003866248298436));
res += mul(Get(s0,0,dy), float4x4(0.007756427861750,-0.009618512354791,-0.015762867406011,0.006832185667008,-0.001556732109748,0.003404283896089,0.027339238673449,0.023354901000857,0.011031649075449,0.007544257212430,0.056731279939413,-0.000237641026615,-0.009799329563975,-0.001469180337153,-0.019649792462587,-0.006492910906672));
res += mul(Get(s0,dx,-dy), float4x4(-0.000470587750897,-0.002885463181883,-0.004445823375136,0.011068095453084,0.026263354346156,-0.005903361365199,0.046790372580290,0.068839110434055,0.010809289291501,0.005213653203100,0.025754598900676,-0.001672517159022,0.006176818627864,0.006683300714940,0.050672374665737,-0.024994738399982));
res += mul(Get(s0,dx,0), float4x4(0.004475404042751,0.002512574195862,0.018284954130650,0.002305944450200,-0.007682956755161,0.016572877764702,-0.105004496872425,0.084098957479000,0.004659265279770,-0.006840043701231,-0.035535994917154,0.016780894249678,0.013936057686806,-0.019803240895271,0.034095361828804,0.009807667694986));
res += mul(Get(s0,dx,dy), float4x4(0.001827120315284,0.013030639849603,0.007630219683051,-0.010882266797125,-0.005998986773193,0.003688891883940,0.075172029435635,0.033116396516562,-0.003186065936461,-0.009521612897515,0.066656209528446,-0.010489144362509,-0.004722581710666,-0.008626547642052,-0.044756490737200,0.007000128738582));
res += mul(Get(s1,-dx,-dy), float4x4(0.012823648750782,0.002071367576718,0.289360463619232,-0.072278887033463,0.017538599669933,0.010413720272481,0.013287684880197,-0.007045819424093,-0.003573714988306,0.008478298783302,-0.016335979104042,0.009272487834096,-0.007097106426954,-0.003056052373722,-0.004181101918221,0.007421758957207));
res += mul(Get(s1,-dx,0), float4x4(0.073295891284943,0.011097379960120,0.655882120132446,0.007471574004740,-0.011813814751804,0.006717595271766,-0.017287574708462,0.001203069696203,-0.004180399700999,-0.009000650607049,-0.003812784096226,-0.003718481166288,0.000521006411873,-0.006378385704011,-0.002364695072174,-0.009244368411601));
res += mul(Get(s1,-dx,dy), float4x4(0.037954531610012,-0.003750472562388,0.063438251614571,0.072272755205631,0.006811263971031,0.001705782953650,-0.006089772563428,-0.003822651458904,0.008585887961090,0.000959492404945,-0.010727516375482,0.001503219828010,0.004411411006004,0.018672106787562,-0.010773903690279,-0.017744896933436));
res += mul(Get(s1,0,-dy), float4x4(-0.047844860702753,0.007028520107269,-0.102666795253754,-0.114127323031425,0.001501683727838,0.003298721509054,0.007166848983616,-0.002966838190332,0.012026617303491,0.005073674954474,-0.002913847565651,0.005732744932175,0.005379155743867,-0.004884010646492,0.004244610201567,-0.000299043633277));
res += mul(Get(s1,0,0), float4x4(-0.046608030796051,0.012295572087169,0.290197998285294,-0.085965506732464,0.002634006785229,0.004175984766334,-0.003002582117915,-0.004238302353770,-0.004409376531839,-0.001199181191623,0.020878469571471,-0.003509864443913,-0.002867493312806,-0.009896885603666,0.002431733766571,-0.014374667778611));
res += mul(Get(s1,0,dy), float4x4(0.041071653366089,-0.008036311715841,0.125393137335777,0.054356619715691,0.007230203133076,0.008061009459198,-0.006225803866982,-0.003448515897617,0.002691044937819,-0.003380272537470,-0.014055375009775,-0.006981829181314,0.001024857629091,-0.003489556722343,0.010816711001098,-0.009104533120990));
res += mul(Get(s1,dx,-dy), float4x4(0.046211987733841,-0.009573359042406,-0.249127194285393,0.227315649390221,-0.001362980459817,0.008526682853699,0.002775391098112,0.005286904983222,0.005206697620451,0.003743164241314,0.023362122476101,0.001853918773122,0.000845632574055,-0.002247200580314,0.012967545539141,0.009082093834877));
res += mul(Get(s1,dx,0), float4x4(-0.030246092006564,0.019811583682895,-0.348330050706863,0.148551747202873,0.008329526521266,-0.010221337899566,0.000776136701461,-0.006922184955329,-0.012861327268183,0.007196397986263,0.013780041597784,-0.016903880983591,0.001669504796155,0.001255390583538,0.007038297131658,-0.000356263073627));
res += mul(Get(s1,dx,dy), float4x4(-0.010477102361619,-0.000715523899999,0.067723594605923,0.037957459688187,0.004289318807423,-0.016469890251756,-0.000710675667506,-0.006007272284478,0.004080318380147,-0.016497522592545,0.009537657722831,0.008949623443186,-0.011704869568348,0.006298079155385,-0.001582117984071,-0.010933415032923));
res += mul(Get(s2,-dx,-dy), float4x4(-0.015310274437070,0.000611329916865,-0.046425193548203,0.020448481664062,-0.008628914132714,-0.005262747872621,-0.032153874635696,0.012115836143494,0.011593759059906,0.002729012398049,-0.012063833884895,0.013474459759891,0.001293102395721,0.003116829320788,-0.055317088961601,0.034477200359106));
res += mul(Get(s2,-dx,0), float4x4(-0.037117566913366,0.002385542960837,-0.089320987462997,0.040467552840710,0.000083687642473,-0.006638392806053,-0.019551495090127,0.005479582585394,-0.007722532376647,-0.013978518545628,-0.045547563582659,-0.006676441524178,-0.014129234477878,0.010473473928869,-0.085817284882069,0.021459123119712));
res += mul(Get(s2,-dx,dy), float4x4(0.000936289492529,-0.005550848320127,-0.076293818652630,0.012552727013826,0.005574999377131,0.004366937093437,0.005111051723361,0.016000255942345,0.006134823895991,0.003083083545789,-0.000855264370330,0.008084021508694,-0.017710784450173,-0.005287040024996,0.005011224653572,-0.012811911292374));
res += mul(Get(s2,0,-dy), float4x4(0.046134751290083,0.001251963083632,-0.021504662930965,0.119356878101826,0.009105843491852,-0.010967951267958,0.007170425727963,0.016585204750299,0.017336355522275,-0.002662386046723,0.031874664127827,0.008568843826652,0.029923332855105,-0.001773245166987,0.059009447693825,0.036677908152342));
res += mul(Get(s2,0,0), float4x4(-0.007694173138589,-0.001439958112314,-0.060858402401209,0.053752418607473,-0.002568551106378,0.007954903878272,0.001216928707436,0.004410954657942,0.004439193289727,-0.001706328475848,0.035013221204281,-0.006037715822458,0.001867380342446,-0.001281948410906,-0.015843946486712,0.041881643235683));
res += mul(Get(s2,0,dy), float4x4(0.010763254016638,-0.022729422897100,0.037383683025837,-0.031260710209608,0.007210591342300,0.005095274653286,-0.007958017289639,-0.001273385947570,0.002046529203653,-0.002115198643878,0.005940605886281,0.004642398096621,0.002970766508952,0.011345986276865,-0.007896929979324,0.034009262919426));
res += mul(Get(s2,dx,-dy), float4x4(0.010781373828650,0.020609835162759,0.333921730518341,-0.068992413580418,-0.006587194744498,-0.002303392859176,0.011958666145802,-0.013153892010450,-0.004603980109096,-0.006061106920242,0.020708188414574,-0.014641326852143,-0.009470333345234,0.000045683165808,0.052749656140804,-0.032065805047750));
res += mul(Get(s2,dx,0), float4x4(0.038056287914515,0.000057005847339,0.363853156566620,-0.042967520654202,-0.002331218449399,-0.002962856553495,0.010501778684556,-0.008258388377726,-0.000623390020337,0.003632613923401,0.013021100312471,-0.006629128940403,0.007961655035615,0.002879975596443,0.120040833950043,-0.033721525222063));
res += mul(Get(s2,dx,dy), float4x4(0.021549113094807,0.002135057700798,0.013036189600825,0.004059060476720,-0.003097310429439,-0.003359413007274,0.017025453969836,-0.001083846669644,0.000807704287581,0.000182447183761,0.003387153847143,-0.013911276124418,0.008225788362324,-0.016572929918766,0.095758661627769,-0.021602109074593));
res += mul(Get(s3,-dx,-dy), float4x4(0.000256453990005,-0.017608329653740,-0.194830432534218,0.074848994612694,0.010582634247839,0.011367018334568,-0.005242689512670,0.010964482091367,0.003612706670538,0.001204609172419,0.053304884582758,-0.006060051266104,-0.007548120804131,-0.007936002686620,-0.018548540771008,0.032279603183270));
res += mul(Get(s3,-dx,0), float4x4(0.004733617883176,-0.000120605342090,-0.008835125714540,-0.061474833637476,0.003071986371651,-0.001802287064493,0.013060941360891,0.003086136188358,0.005919714923948,0.011988737620413,0.081679262220860,0.045682396739721,0.006190971005708,-0.001360081252642,-0.002825135830790,0.005693375132978));
res += mul(Get(s3,-dx,dy), float4x4(0.019104525446892,0.004600084386766,0.250383824110031,0.023369375616312,0.001049135113135,-0.003479012288153,0.026865927502513,-0.005597765091807,-0.008704327046871,0.020187685266137,-0.066725656390190,0.023163530975580,-0.011790806427598,-0.004353609401733,0.016723869368434,-0.006861857138574));
res += mul(Get(s3,0,-dy), float4x4(0.050524275749922,0.002845293376595,0.034050118178129,0.090066626667976,0.003119972301647,-0.005564106162637,-0.002132091205567,0.006764243356884,-0.015367442741990,-0.003765103872865,0.013992561958730,0.003593710949644,-0.011646484956145,0.014865163713694,0.040088310837746,-0.000759179703891));
res += mul(Get(s3,0,0), float4x4(-0.012292473576963,-0.006611823569983,-0.194197818636894,-0.020747452974319,-0.012853440828621,-0.004810852464288,-0.004310835152864,0.002158189658076,-0.007750241551548,0.014376564882696,0.099542766809464,-0.006853258237243,0.012585255317390,0.010026263073087,0.043049369007349,0.012634203769267));
res += mul(Get(s3,0,dy), float4x4(-0.019780075177550,0.009413691237569,0.137535065412521,-0.009150189347565,0.003170950338244,0.000680924451444,0.011307109147310,-0.008449391461909,0.013097455725074,-0.002314582001418,0.050574701279402,0.001806433079764,0.001048895064741,-0.003827601904050,-0.021607622504234,0.001747925416566));
res += mul(Get(s3,dx,-dy), float4x4(0.043716717511415,0.020860316231847,0.288238942623138,-0.030948176980019,0.009185487404466,0.007460206281394,0.012189259752631,0.004145514219999,0.012657841667533,0.001140025560744,-0.019259635359049,0.023545593023300,-0.003493403783068,0.009401077404618,-0.004329467657954,-0.010422502644360));
res += mul(Get(s3,dx,0), float4x4(0.042891446501017,-0.006332935299724,-0.060491550713778,0.053607340902090,0.008372906595469,0.005011758301407,-0.007436687592417,-0.003447761759162,-0.006772302091122,0.011061012744904,0.045451812446117,-0.008510683663189,0.000380957208108,-0.001785911736079,-0.018173022195697,0.009012967348099));
res += mul(Get(s3,dx,dy), float4x4(-0.005205381195992,0.017459403723478,0.019994683563709,-0.001963403774425,0.004329412709922,-0.004185541998595,0.002371815033257,-0.002124804304913,-0.003218712517992,0.011945506557822,0.037336226552725,-0.008560843765736,0.004336655139923,0.007026024628431,0.020266529172659,0.010864707641304));
return max(float4(0,0,0,0), res);
}
