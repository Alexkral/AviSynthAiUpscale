sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.008400014601648,-0.033598955720663,0.000622065563221,0.002007012022659,-0.004018276464194,-0.143975809216499,-0.009199257940054,-0.013824924826622,0.004363215528429,0.136868432164192,0.085142642259598,-0.004935016389936,0.007677724584937,-0.046906404197216,-0.022422192618251,-0.004159212578088));
res += mul(Get(s0,-dx,0), float4x4(-0.003696822561324,-0.051213476806879,0.010606089606881,0.000110710578156,-0.007640128023922,-0.198670133948326,0.010811699554324,-0.042004916816950,-0.006959907710552,0.189100518822670,0.018929811194539,0.023401292040944,0.003079985501245,-0.011482610367239,0.018778212368488,-0.008145365864038));
res += mul(Get(s0,-dx,dy), float4x4(0.011249079369009,-0.034311644732952,0.008192453533411,-0.001973704434931,0.000246795243584,-0.178636625409126,0.036131698638201,-0.048920352011919,0.014108920469880,0.275440961122513,0.032560233026743,0.099403105676174,-0.022476825863123,0.017290709540248,-0.000853538862430,0.004359971266240));
res += mul(Get(s0,0,-dy), float4x4(0.008034652099013,0.018944786861539,0.003233820432797,0.007966252975166,-0.014392914250493,0.242094486951828,0.004641411826015,0.033252630382776,0.015327692963183,0.199138864874840,0.131866946816444,0.011645582504570,-0.003381566144526,-0.011555979959667,-0.000650807924103,0.010530739091337));
res += mul(Get(s0,0,0), float4x4(-0.009456085972488,-0.002737520961091,-0.004483195953071,-0.006397604010999,-0.004654133692384,0.312789767980576,-0.025685036554933,0.051316693425179,0.000273035722785,-0.164509236812592,-0.090972334146500,-0.028490535914898,-0.001386945019476,0.041784118860960,0.010558875277638,-0.000779990397859));
res += mul(Get(s0,0,dy), float4x4(-0.003002630081028,-0.004428813699633,-0.009187658317387,0.007388512138277,-0.010059946216643,0.210563063621521,-0.054368369281292,0.033573668450117,-0.002162526594475,0.062535434961319,0.066539555788040,0.052290443331003,0.009124481119215,-0.027531048282981,0.017219688743353,-0.014180700294673));
res += mul(Get(s0,dx,-dy), float4x4(-0.003962378948927,0.029626743867993,0.003793180920184,0.014791856519878,0.005948848091066,-0.109836384654045,-0.013587702065706,-0.018376078456640,0.006175728980452,0.062809400260448,0.166342988610268,-0.019432717934251,-0.000056748736824,-0.011778638698161,-0.011864733882248,0.006506630219519));
res += mul(Get(s0,dx,0), float4x4(-0.004116571042687,0.018420172855258,-0.009441634640098,0.004407443571836,0.010873756371439,-0.108756497502327,-0.009620819240808,-0.009173142723739,0.009466423653066,-0.233451992273331,0.048302344977856,-0.027098156511784,-0.001878716750070,0.062649451196194,0.013713012449443,-0.002961302874610));
res += mul(Get(s0,dx,dy), float4x4(0.003846794134006,0.002607763977721,-0.005142349749804,0.007559212855995,-0.006987751461565,-0.027481881901622,0.030853316187859,0.014117627404630,-0.023798113688827,-0.037831660360098,0.028936728835106,-0.036631349474192,-0.005603861063719,0.001706117764115,-0.018373642116785,-0.005661142524332));
res += mul(Get(s1,-dx,-dy), float4x4(0.005260193720460,0.038328245282173,-0.053588159382343,0.058387946337461,0.006223272066563,0.082299657166004,-0.041052889078856,0.019239626824856,-0.000087215928943,-0.019448284059763,-0.086013555526733,0.013708950951695,0.004662781488150,0.052653770893812,0.014954469166696,0.002911168616265));
res += mul(Get(s1,-dx,0), float4x4(0.000070153029810,0.106403619050980,0.035280808806419,0.011332419700921,0.021081883460283,0.160669520497322,0.024393295869231,0.042180445045233,0.002497091423720,0.014879046939313,0.020258896052837,0.011637330055237,-0.004737355746329,0.071699768304825,-0.008728456683457,0.013715100474656));
res += mul(Get(s1,-dx,dy), float4x4(0.001720475032926,-0.045129295438528,-0.005625810474157,-0.045479357242584,0.000224530114792,-0.033354792743921,0.011304133571684,-0.056058537214994,0.010853645391762,-0.101603172719479,0.012571861036122,-0.011205922812223,-0.006732251495123,0.073233477771282,-0.005473617464304,0.022634545341134));
res += mul(Get(s1,0,-dy), float4x4(0.002899891929701,-0.121674582362175,-0.084291383624077,0.055683963000774,-0.001500262995251,-0.143637105822563,-0.116731822490692,0.005560687277466,0.002916757715866,-0.250589489936829,-0.051756516098976,0.010384975001216,-0.001097063301131,0.097939684987068,-0.004994112066925,-0.024694170802832));
res += mul(Get(s1,0,0), float4x4(0.015691174194217,0.329734295606613,0.150422304868698,0.019504476338625,-0.002896952675655,0.284870505332947,0.132234841585159,0.085282951593399,-0.000930769310798,0.066549457609653,0.110450603067875,-0.040628563612700,0.004466973710805,-0.021755980327725,-0.047798641026020,0.023274892941117));
res += mul(Get(s1,0,dy), float4x4(0.017621714621782,-0.073326058685780,-0.081912614405155,-0.028891356661916,0.008694351650774,0.065898999571800,0.045628253370523,-0.017035618424416,0.004209614824504,-0.023574892431498,-0.006714436225593,-0.045068062841892,-0.013466921634972,0.044758006930351,0.029548486694694,0.011362088844180));
res += mul(Get(s1,dx,-dy), float4x4(0.002090512309223,-0.153201311826706,-0.091231748461723,0.002086807042360,0.011089881882071,-0.165616899728775,-0.065584205091000,-0.010486769489944,0.000516187457833,0.058418355882168,-0.047577273100615,0.014653285034001,0.015363130718470,-0.021014992147684,0.014577548950911,-0.027766281738877));
res += mul(Get(s1,dx,0), float4x4(-0.023750536143780,0.316959798336029,0.120273910462856,0.003640319220722,-0.017177185043693,0.019978450611234,0.045283053070307,-0.040764100849628,-0.009773720987141,0.353091031312943,0.025055175647140,0.014444912783802,0.007767505943775,-0.161115989089012,-0.028440535068512,0.004025286063552));
res += mul(Get(s1,dx,dy), float4x4(0.021504506468773,-0.127264603972435,-0.044096827507019,0.024005126208067,0.024693677201867,0.189466401934624,0.106228560209274,0.034801758825779,0.006879260297865,0.082659892737865,-0.060728099197149,0.041128121316433,-0.004845225717872,0.098479039967060,0.056227996945381,-0.017792668193579));
res += mul(Get(s2,-dx,-dy), float4x4(0.005750956013799,-0.203411251306534,0.004527268931270,0.018662517890334,-0.003759675426409,0.127592653036118,0.040545441210270,0.024100614711642,0.013543134555221,-0.064093433320522,0.026163371279836,0.012234146706760,0.014317935332656,0.026119226589799,-0.064197406172752,0.026727527379990));
res += mul(Get(s2,-dx,0), float4x4(-0.021735141053796,-0.063980340957642,0.093821734189987,-0.041816860437393,-0.000852039433084,0.040361139923334,-0.050519444048405,-0.003447372931987,-0.001450783573091,0.042705964297056,0.034093376249075,-0.018935482949018,-0.004493066575378,0.078638024628162,0.040724620223045,0.047112487256527));
res += mul(Get(s2,-dx,dy), float4x4(0.008044595830142,0.042271465063095,0.006026651710272,-0.012746605090797,-0.004296539817005,0.020638495683670,-0.034391593188047,0.030699310824275,0.016404656693339,-0.014456420205534,-0.026342717930675,0.026121500879526,0.005845378153026,-0.019442813470960,0.012608784250915,0.007181554101408));
res += mul(Get(s2,0,-dy), float4x4(-0.011236213147640,0.159138336777687,0.028734212741256,0.019020657986403,0.010149099864066,0.042979516088963,0.052776366472244,-0.002791851293296,-0.002631491282955,0.131639331579208,0.052611444145441,-0.022044958546758,0.015184014104307,-0.063877820968628,-0.018637886270881,0.018960433080792));
res += mul(Get(s2,0,0), float4x4(-0.010699904523790,0.405557632446289,-0.029620898887515,0.011121056973934,0.013604011386633,-0.065958850085735,-0.039574246853590,0.010170445777476,0.007992121390998,0.049653150141239,-0.033218223601580,0.001694369246252,-0.007613663095981,0.003854291280732,0.020854547619820,-0.017315868288279));
res += mul(Get(s2,0,dy), float4x4(0.007348692044616,0.028588386252522,-0.109183974564075,0.074535414576530,-0.002517460379750,-0.094180606305599,-0.007263449952006,0.002211034996435,0.007634707726538,-0.054017089307308,-0.025567505508661,0.022585263475776,-0.000206891229027,0.145121783018112,0.015251877717674,0.029966836795211));
res += mul(Get(s2,dx,-dy), float4x4(-0.006224421784282,0.075325444340706,-0.030193643644452,0.006920999847353,-0.001900732400827,-0.026422856375575,0.024108245968819,-0.028928851708770,-0.008469025604427,0.092375919222832,0.028211012482643,0.012871692888439,0.016603061929345,0.176391318440437,0.043728664517403,0.011608930304646));
res += mul(Get(s2,dx,0), float4x4(0.003070256207138,-0.159806042909622,-0.019714161753654,0.001471112016588,0.000594208133407,-0.066578343510628,-0.003791101044044,-0.004061557818204,-0.003627685829997,-0.136501803994179,-0.028907611966133,0.008715586736798,0.009655673988163,0.007450874894857,-0.062934696674347,0.005322094075382));
res += mul(Get(s2,dx,dy), float4x4(0.002250110730529,-0.286397129297256,0.040529452264309,-0.007013596128672,-0.006589094176888,0.038403738290071,-0.000186627992662,-0.019837940111756,-0.008578868582845,-0.012717796489596,0.030186543241143,-0.011234786361456,0.005202061962336,-0.010194165632129,-0.013263867236674,0.018115093931556));
res += mul(Get(s3,-dx,-dy), float4x4(-0.000849108444527,0.123419038951397,0.050366189330816,0.025144185870886,0.007434996776283,0.052041374146938,-0.005320523865521,0.014381486922503,0.008139398880303,-0.037303697317839,0.029405724257231,-0.009859165176749,-0.017530232667923,-0.003420749213547,-0.018736980855465,-0.002013433724642));
res += mul(Get(s3,-dx,0), float4x4(0.001664040726610,-0.051824972033501,-0.004170329310000,0.013165929354727,0.005388136953115,-0.044129904359579,0.029960982501507,-0.005762331653386,-0.012756348587573,-0.051363617181778,0.046380449086428,0.001395862782374,-0.013390019536018,0.189274176955223,0.031384620815516,0.059411041438580));
res += mul(Get(s3,-dx,dy), float4x4(0.016030158847570,0.029278278350830,0.030874850228429,0.021349795162678,0.003702154848725,0.018144773319364,0.050911270081997,0.017174014821649,-0.005371582694352,-0.009186526760459,0.079350315034389,0.030217189341784,0.015887202695012,0.195586681365967,-0.023137381300330,0.052454959601164));
res += mul(Get(s3,0,-dy), float4x4(-0.000682804558892,0.111636944115162,0.065898746252060,0.036190502345562,0.002409757114947,0.105685129761696,0.132337838411331,0.023823315277696,0.008426068350673,0.103502333164215,0.068035192787647,0.035904709249735,0.023617487400770,-0.105187848210335,-0.014462243765593,0.002744218800217));
res += mul(Get(s3,0,0), float4x4(0.001981756417081,0.278020560741425,0.044040866196156,0.019337968900800,0.003917424008250,-0.005071719642729,0.058436330407858,-0.010768798179924,0.002939706668258,-0.033630166202784,0.004544341471046,-0.024979611858726,0.003658402711153,-0.315420150756836,-0.054165367037058,-0.058625254780054));
res += mul(Get(s3,0,dy), float4x4(0.003256659721956,0.080028980970383,-0.086506105959415,0.055003572255373,-0.009739413857460,0.028551321476698,0.011088353581727,-0.016269316896796,-0.003751539625227,-0.067876286804676,0.033791709691286,-0.005798813421279,0.001610037288629,-0.049911342561245,0.067131422460079,-0.002169979037717));
res += mul(Get(s3,dx,-dy), float4x4(-0.008630503900349,-0.010553254745901,0.022797327488661,-0.030662251636386,-0.005569625180215,-0.022862702608109,0.111741907894611,-0.055155217647552,-0.003116529667750,0.038064230233431,0.117808483541012,0.008748611435294,0.002745535690337,0.242994666099548,0.072466768324375,0.051349770277739));
res += mul(Get(s3,dx,0), float4x4(0.009048746898770,0.031714234501123,0.041015218943357,0.007952176034451,0.003810339141637,0.170451641082764,0.090928532183170,0.029865726828575,0.007994513958693,0.171876534819603,0.108008995652199,0.013788112439215,0.009179762564600,0.079845637083054,-0.024023422971368,0.019853966310620));
res += mul(Get(s3,dx,dy), float4x4(0.004434681963176,-0.098315350711346,-0.021666929125786,0.027738312259316,-0.002937633544207,0.132496938109398,0.007690608035773,0.032977540045977,-0.003620761679485,0.068794190883636,0.010259632952511,0.010882214643061,0.005962952971458,0.005450147669762,-0.053958434611559,-0.015269961208105));
return max(float4(0,0,0,0), res);
}
