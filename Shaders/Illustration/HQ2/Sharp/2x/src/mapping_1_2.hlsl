sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.028777003288269,0.015190338715911,0.035937204957008,0.006684250198305,-0.007941666059196,-0.029784046113491,-0.001998904161155,-0.038404222577810,0.007392048370093,-0.054336491972208,-0.020074708387256,-0.015120859257877,-0.002817804925144,0.000238641281612,0.007106779143214,0.018236601725221));
res += mul(Get(s0,-dx,0), float4x4(-0.025372866541147,-0.031207272782922,0.005694643128663,0.007344925310463,-0.006219684146345,-0.025094807147980,-0.003664852818474,-0.040974386036396,-0.028190674260259,0.018806766718626,-0.006003648974001,-0.024599863216281,-0.011818509548903,-0.039910957217216,-0.012041048146784,0.022192234173417));
res += mul(Get(s0,-dx,dy), float4x4(0.039560541510582,-0.002741864882410,0.011545293033123,0.017645128071308,-0.020238624885678,0.008093983866274,0.032403819262981,-0.022368883714080,0.037601958960295,-0.019662886857986,-0.010315115563571,0.004849390126765,-0.016089081764221,0.029318919405341,-0.029590310528874,-0.001183724147268));
res += mul(Get(s0,0,-dy), float4x4(0.021774871274829,0.012992970645428,-0.017889654263854,0.007806230802089,-0.026924623176455,0.005697148852050,-0.011755424551666,0.001947781187482,-0.003055978100747,0.011002446524799,0.002265666378662,0.033456832170486,-0.032731458544731,0.000245096976869,-0.005657791160047,0.003367152530700));
res += mul(Get(s0,0,0), float4x4(-0.001615897985175,0.005658525042236,-0.002677959622815,-0.022033546119928,0.002369161462411,-0.000927875109483,-0.026551503688097,0.024775436148047,0.013064112514257,0.008177922107279,0.003365083131939,0.009652751497924,-0.021577445790172,0.030713923275471,0.016390370205045,-0.028899839147925));
res += mul(Get(s0,0,dy), float4x4(-0.020576993003488,0.015174354426563,0.006772804539651,0.006190151441842,0.028805349022150,0.006213665008545,-0.009625617414713,-0.018899176269770,0.017076291143894,-0.025830375030637,0.046708710491657,-0.013733761385083,0.026042066514492,-0.032969612628222,-0.011610840447247,-0.006899406202137));
res += mul(Get(s0,dx,-dy), float4x4(0.023523274809122,0.004086501430720,-0.007743604946882,0.003879552008584,-0.010220394469798,-0.020265530794859,-0.002585884183645,-0.013572030700743,0.027339855208993,-0.008436848409474,0.050542481243610,0.001487276982516,0.006443652790040,-0.036981433629990,0.002482923911884,0.022787116467953));
res += mul(Get(s0,dx,0), float4x4(0.000507720222231,0.010247121565044,0.008333166129887,0.007981053553522,0.005857272073627,-0.023231673985720,0.015918517485261,-0.014957695268095,0.022486351430416,-0.010228373110294,-0.005163852591068,0.009624104946852,0.006495018955320,-0.040935289114714,-0.035596989095211,0.002851668279618));
res += mul(Get(s0,dx,dy), float4x4(0.030377658084035,0.008548506535590,-0.010114254429936,0.013861216604710,-0.007196414284408,-0.052098911255598,-0.001927259727381,-0.013794306665659,0.023282520473003,-0.004278482869267,-0.010529397055507,-0.034097511321306,-0.006988746114075,-0.002555845072493,-0.007571507245302,-0.003245243802667));
res += mul(Get(s1,-dx,-dy), float4x4(-0.014896112494171,-0.012912668287754,0.033945940434933,-0.011882234364748,0.026827041059732,-0.003518769983202,0.030597319826484,0.008792885579169,0.013188293203712,-0.025735236704350,0.018660031259060,-0.019030794501305,-0.014952161349356,-0.050169039517641,-0.001792137045413,-0.059079717844725));
res += mul(Get(s1,-dx,0), float4x4(-0.041241768747568,0.004449390806258,0.042308650910854,0.001902954769321,0.012953657656908,-0.054806806147099,-0.016467146575451,-0.049195006489754,0.013732361607254,-0.030727164819837,-0.003687096759677,0.021541681140661,0.001223314320669,-0.022878829389811,-0.059260342270136,0.033405710011721));
res += mul(Get(s1,-dx,dy), float4x4(-0.009770807810128,0.003561854828149,-0.021805694326758,0.068345472216606,-0.002764713484794,0.030229631811380,-0.034317512065172,0.014742868952453,0.012617485597730,-0.007805050816387,0.020369881764054,0.008423268795013,-0.001657283050008,-0.013535116799176,0.003007944673300,0.001221491373144));
res += mul(Get(s1,0,-dy), float4x4(0.005064467433840,0.012606640346348,-0.001400944311172,-0.023444177582860,0.025900688022375,0.028105435892940,-0.046015676110983,0.000185755998245,0.013499315828085,-0.034158911556005,-0.005490265320987,0.026151048019528,-0.001958847045898,-0.013426197692752,0.035487353801727,-0.033836603164673));
res += mul(Get(s1,0,0), float4x4(-0.046384364366531,0.017554631456733,-0.009097269736230,0.012401239015162,0.015732120722532,0.010893243364990,0.024500066414475,-0.017598483711481,0.002961996477097,-0.008036607876420,-0.013713397085667,-0.017248287796974,-0.039618317037821,-0.011874067597091,0.036384824663401,0.047470360994339));
res += mul(Get(s1,0,dy), float4x4(-0.000202674127650,-0.004200625233352,0.012398508377373,0.026958802714944,-0.015474230051041,0.001792854745872,0.025632513687015,0.028110111132264,-0.023019600659609,-0.031658861786127,0.010265088640153,0.033483307808638,0.003115179715678,0.033747304230928,0.054516699165106,0.032965138554573));
res += mul(Get(s1,dx,-dy), float4x4(0.018923997879028,0.010229540057480,-0.020081302151084,-0.017668791115284,-0.015691263601184,-0.010400095023215,0.002892796648666,0.008555680513382,-0.044204924255610,0.001239267527126,0.008196484297514,-0.016738457605243,-0.025544036179781,0.003960035275668,-0.041130043566227,-0.018530333414674));
res += mul(Get(s1,dx,0), float4x4(-0.016800759360194,0.010073984973133,-0.038515184074640,-0.014922182075679,-0.048910032957792,-0.013833645731211,-0.004259827081114,-0.010204364545643,0.021911321207881,-0.033227283507586,-0.047475397586823,-0.037112597376108,-0.034687500447035,-0.014478385448456,0.038764003664255,-0.039826918393373));
res += mul(Get(s1,dx,dy), float4x4(-0.014316789805889,-0.004128335509449,0.022751083597541,-0.003918895963579,-0.003812047885731,-0.020168988034129,0.034701626747847,-0.004778861999512,-0.013524598442018,0.021887846291065,0.023040568456054,-0.012725367210805,0.007890939712524,0.015513253398240,-0.008090840652585,0.005857029929757));
res += mul(Get(s2,-dx,-dy), float4x4(0.034952167421579,-0.015337860211730,-0.049271304160357,-0.031092936173081,-0.017190653830767,-0.029723875224590,-0.019850691780448,-0.007682281080633,-0.010290318168700,0.035812232643366,-0.028035731986165,0.001918115071021,-0.033311497420073,0.038423351943493,0.000663838407490,-0.012972996570170));
res += mul(Get(s2,-dx,0), float4x4(-0.011117053218186,0.034249331802130,-0.007822928950191,-0.016822963953018,-0.010042597539723,-0.016481772065163,-0.038480941206217,0.023282784968615,0.017484342679381,-0.027229316532612,-0.035916719585657,0.015163022093475,-0.023552568629384,-0.001214728225023,-0.007237642537802,-0.031692691147327));
res += mul(Get(s2,-dx,dy), float4x4(0.032205298542976,0.015216918662190,0.020077452063560,-0.028769636526704,0.017257234081626,0.028709897771478,0.009856738150120,-0.027460929006338,-0.001306935446337,0.051839057356119,0.043430570513010,-0.011578317731619,0.007773273158818,0.003879806026816,-0.001923761679791,-0.009038484655321));
res += mul(Get(s2,0,-dy), float4x4(-0.036380775272846,-0.010044694878161,0.007528983056545,0.026132803410292,-0.025723662227392,-0.010019840672612,-0.009251222014427,-0.036675479263067,0.016984911635518,0.012824663892388,-0.030965136364102,-0.051824081689119,-0.023794945329428,0.010706435889006,-0.024408496916294,-0.014201524667442));
res += mul(Get(s2,0,0), float4x4(0.013082677498460,-0.046145077794790,-0.026415934786201,0.040473338216543,0.019165446981788,0.040314324200153,-0.045604761689901,0.017306443303823,0.010020680725574,-0.020194809883833,-0.009719060733914,-0.012827293947339,-0.006438605021685,-0.020646326243877,-0.042044438421726,-0.017200084403157));
res += mul(Get(s2,0,dy), float4x4(-0.001222884631716,0.014229507185519,0.032389536499977,0.009004882536829,0.001149519230239,0.020767118781805,0.025636676698923,-0.002401729114354,-0.002144510857761,-0.025230268016458,0.001233581337146,0.010876708664000,0.000315776123898,-0.011811656877398,0.030316231772304,-0.002935943892226));
res += mul(Get(s2,dx,-dy), float4x4(0.011666367761791,-0.016532439738512,0.030634751543403,0.018184471875429,-0.009347058832645,0.029456116259098,0.055865649133921,-0.027415337041020,0.015705907717347,-0.048160068690777,0.008546302095056,0.001488232868724,0.017774950712919,-0.031244777143002,0.037215270102024,0.024453820660710));
res += mul(Get(s2,dx,0), float4x4(-0.011965936981142,-0.007343447767198,0.028713323175907,0.042007062584162,-0.017546370625496,0.021325051784515,0.007485532201827,0.049258574843407,-0.023433472961187,0.004783073440194,0.024357806891203,-0.021797286346555,0.000810542900581,0.026152823120356,-0.010744971223176,-0.004995780531317));
res += mul(Get(s2,dx,dy), float4x4(0.045930892229080,-0.004428223241121,-0.027092745527625,-0.005311059299856,-0.012058757245541,0.017434909939766,0.018603328615427,-0.008185908198357,-0.002399080432951,-0.012780428864062,0.006091219373047,-0.017144354060292,0.029395561665297,-0.001271949731745,0.009736233390868,-0.014990525320172));
res += mul(Get(s3,-dx,-dy), float4x4(-0.006560288835317,0.009734922088683,0.009736889041960,-0.040600627660751,-0.017995158210397,0.043290819972754,-0.021137703210115,-0.011093248613179,-0.030339108780026,-0.052851125597954,-0.052925799041986,-0.034157138317823,-0.002800326328725,-0.039315998554230,-0.004733053036034,0.012045339681208));
res += mul(Get(s3,-dx,0), float4x4(0.000964368693531,-0.028914747759700,0.007059645373374,0.016400586813688,0.036574028432369,0.016401957720518,-0.018067602068186,0.030803633853793,-0.049854807555676,0.022523501887918,-0.034020226448774,0.028084570541978,-0.053726170212030,-0.003152067540213,-0.038594488054514,-0.030378581956029));
res += mul(Get(s3,-dx,dy), float4x4(0.003735014935955,0.000869631650858,-0.008364632725716,0.018009971827269,0.045044876635075,0.008420270867646,-0.005187672097236,-0.019277669489384,-0.001106134266593,0.029729876667261,-0.012748292647302,-0.035461571067572,0.014676342718303,-0.025368649512529,0.030047358945012,0.005204845685512));
res += mul(Get(s3,0,-dy), float4x4(-0.017204960808158,-0.009879581630230,0.035662610083818,-0.032612901180983,-0.035207424312830,0.021585678681731,-0.010722108185291,0.003325410187244,0.029145568609238,-0.051939077675343,0.057120777666569,-0.005125101190060,-0.019037364050746,0.041079077869654,0.007202074863017,-0.022479269653559));
res += mul(Get(s3,0,0), float4x4(0.008482547476888,0.005281411577016,-0.008181440643966,0.026232376694679,0.019083242863417,-0.023515354841948,-0.011431239545345,-0.012804484926164,0.011650711297989,0.055575288832188,0.043693706393242,0.023292670026422,0.012142519466579,-0.031724117696285,0.000113918526040,0.001112748985179));
res += mul(Get(s3,0,dy), float4x4(-0.033030796796083,0.022985098883510,0.040987294167280,0.007565502543002,0.033423326909542,-0.003521509002894,-0.009839082136750,-0.008247182704508,-0.018338572233915,-0.043733783066273,-0.015879591926932,-0.048014253377914,-0.016823513433337,-0.019813079386950,0.011417236179113,0.023999534547329));
res += mul(Get(s3,dx,-dy), float4x4(-0.031217800453305,-0.037538602948189,0.015802286565304,0.003725709160790,0.001494800439104,-0.017803516238928,0.019142070785165,0.045632734894753,-0.025038557127118,-0.004173459950835,-0.011486214585602,0.047115541994572,0.013290010392666,0.013695983216166,0.005901846103370,-0.012765930965543));
res += mul(Get(s3,dx,0), float4x4(-0.031460631638765,-0.016745619475842,0.015351575799286,0.008294703438878,0.005127737764269,-0.003205727087334,0.016258478164673,-0.026666078716516,-0.022337201982737,-0.007363198790699,-0.045439604669809,-0.042509797960520,0.010310860350728,-0.041876874864101,-0.011664056219161,-0.023307630792260));
res += mul(Get(s3,dx,dy), float4x4(0.004923900589347,0.027102010324597,-0.027149219065905,-0.018092587590218,-0.014477693475783,0.019189978018403,-0.008156958967447,0.011492758058012,-0.032621927559376,-0.052611608058214,-0.013474018312991,-0.066040106117725,0.021480221301317,-0.003499164246023,0.004240462090820,0.024553285911679));
return max(float4(0,0,0,0), res);
}
