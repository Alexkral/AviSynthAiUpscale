sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.005601699929684,0.042003035545349,-0.037482842803001,0.006728933192790,0.015076862648129,0.040630754083395,0.000826477247756,0.005860074423254,-0.011600640602410,-0.024819720536470,-0.025304548442364,0.029219286516309,-0.016052542254329,0.046893462538719,-0.023747369647026,-0.036326140165329));
res += mul(Get(s0,-dx,0), float4x4(0.000133333218400,-0.001917331013829,-0.044340882450342,0.016110640019178,0.036890633404255,0.044968057423830,0.029497627168894,-0.007902501150966,-0.068070620298386,-0.013412899337709,0.123408056795597,0.025467675179243,-0.032788485288620,0.019427971914411,0.018897907808423,0.009021739475429));
res += mul(Get(s0,-dx,dy), float4x4(0.006246974691749,-0.007228367961943,0.021457845345140,0.011532108299434,0.006671542767435,0.035449266433716,0.000639518897515,0.031329032033682,0.055672183632851,-0.043684281408787,0.009668235667050,-0.006929727271199,0.009573327377439,-0.013917488045990,-0.039261598140001,0.060037814080715));
res += mul(Get(s0,0,-dy), float4x4(0.008291473612189,0.022388085722923,-0.026152558624744,-0.035014644265175,0.027559772133827,0.065747052431107,-0.023964546620846,-0.018511708825827,-0.056848268955946,-0.042353007942438,-0.084570921957493,0.043670035898685,-0.012069236487150,0.006918326485902,-0.001441523432732,0.004357527010143));
res += mul(Get(s0,0,0), float4x4(0.023240840062499,0.005341727752239,-0.024502588436007,0.001855448470451,-0.012236785143614,0.031917769461870,-0.014438886195421,-0.026975790038705,0.002108481945470,-0.013947032392025,0.050924886018038,-0.093954131007195,0.043040439486504,-0.002986088860780,0.013576175086200,-0.013892710208893));
res += mul(Get(s0,0,dy), float4x4(-0.009786820039153,-0.022800927981734,0.002932639094070,0.007734979502857,0.017750483006239,0.005940367467701,0.012718124315143,-0.010898934677243,0.103180535137653,-0.057642914354801,0.042630724608898,0.014372821897268,0.029776612296700,-0.032278116792440,-0.019055973738432,-0.006061092019081));
res += mul(Get(s0,dx,-dy), float4x4(0.014225577004254,0.037023812532425,-0.022497788071632,0.015081574209034,0.012805333361030,0.015912985429168,0.009605417959392,-0.001536714378744,-0.064576528966427,-0.030149960890412,-0.021496178582311,0.025228606536984,-0.039314560592175,0.007876361720264,-0.027514990419149,-0.026482732966542));
res += mul(Get(s0,dx,0), float4x4(0.040360290557146,0.072634980082512,-0.005721580702811,-0.008410223759711,-0.034500584006310,0.011798275634646,0.028798431158066,-0.055638186633587,0.052368924021721,0.046579908579588,-0.041882935911417,-0.127269133925438,0.006023690104485,0.041466198861599,-0.007273592986166,-0.011884736828506));
res += mul(Get(s0,dx,dy), float4x4(0.031618878245354,0.019126418977976,-0.012026252225041,-0.043888278305531,0.034302372485399,-0.000434844725532,0.009516679681838,-0.038467790931463,0.008356053382158,-0.026299947872758,-0.015185121446848,0.080069437623024,-0.017859462648630,0.005185133311898,0.045948456972837,0.080284364521503));
res += mul(Get(s1,-dx,-dy), float4x4(-0.004019663669169,0.016602911055088,0.020093742758036,0.023854842409492,-0.010937736369669,0.032572198659182,0.030988480895758,-0.037090107798576,0.005635798443109,-0.053060106933117,-0.047554530203342,0.031248651444912,0.004277782049030,-0.004797429312021,0.006674788892269,0.007001493126154));
res += mul(Get(s1,-dx,0), float4x4(-0.021760653704405,0.015453006140888,-0.018631577491760,0.016184251755476,-0.006600805558264,0.012972065247595,0.005971701815724,-0.059445310384035,0.010903126560152,-0.007000093813986,-0.034035373479128,0.047579158097506,0.030643120408058,-0.030060453340411,-0.005304887425154,-0.001013909233734));
res += mul(Get(s1,-dx,dy), float4x4(0.033421114087105,-0.008834614418447,0.016357420012355,0.008793999440968,0.054878335446119,-0.000311636860715,0.012534890323877,-0.055535469204187,-0.035221684724092,0.026155157014728,0.032922875136137,0.061101604253054,0.039616502821445,-0.047142978757620,0.015076790004969,0.009074345231056));
res += mul(Get(s1,0,-dy), float4x4(-0.004844941664487,0.009387713856995,0.023547060787678,0.002513332525268,-0.000629941234365,0.006737776100636,0.018772684037685,-0.043495077639818,-0.003709423122928,-0.056368779391050,-0.018595011904836,-0.009144961833954,-0.044893316924572,-0.010123034007847,0.011948199942708,0.042975161224604));
res += mul(Get(s1,0,0), float4x4(0.005175510887057,0.006120554171503,-0.007861509919167,-0.000154968991410,0.025207992643118,0.047511480748653,-0.021874293684959,-0.028355646878481,-0.012743929401040,-0.013992105610669,-0.011111589148641,-0.008911094628274,0.016037616878748,-0.041506543755531,-0.023106932640076,-0.052870176732540));
res += mul(Get(s1,0,dy), float4x4(0.006885951850563,-0.006730022840202,-0.010222920216620,0.011219350621104,0.038229621946812,0.009006781503558,0.033247850835323,-0.006921723484993,-0.024739043787122,-0.026668734848499,-0.000603781663813,-0.020281843841076,-0.001834037364461,-0.074905142188072,0.037720926105976,-0.019964763894677));
res += mul(Get(s1,dx,-dy), float4x4(0.022304089739919,0.004463889636099,0.019622009247541,-0.004108657594770,0.001409665099345,0.010957243852317,-0.004804031457752,-0.063336625695229,-0.004463731311262,-0.010748075321317,-0.035260114818811,-0.012696645222604,-0.067159295082092,0.008169458247721,-0.001068913727067,0.009741051122546));
res += mul(Get(s1,dx,0), float4x4(0.022409738972783,0.006083787418902,0.012632834725082,0.002193052787334,-0.010598668828607,0.008917281404138,-0.050144080072641,-0.072334088385105,-0.008515727706254,0.061491224914789,0.016596132889390,0.023589808493853,0.016824778169394,0.062599085271358,-0.059194155037403,-0.062520794570446));
res += mul(Get(s1,dx,dy), float4x4(-0.004958208184689,0.005573965143412,0.013028234243393,-0.009625286795199,-0.002653953153640,-0.051636159420013,0.021230394020677,-0.075113609433174,-0.045131716877222,0.073113992810249,-0.017475977540016,0.057514287531376,-0.027717083692551,0.003770068055019,0.005039983429015,0.046741086989641));
res += mul(Get(s2,-dx,-dy), float4x4(-0.064932756125927,-0.086268246173859,0.036592066287994,0.012891602702439,0.016451692208648,0.034911051392555,-0.022012051194906,0.035297285765409,-0.014102352783084,-0.020513463765383,-0.012978315353394,0.026520226150751,-0.052334360778332,-0.012714002281427,-0.004994840826839,0.008035341277719));
res += mul(Get(s2,-dx,0), float4x4(0.034743629395962,-0.059066437184811,-0.042624626308680,-0.066041484475136,0.006807496305555,-0.025009311735630,0.000910738308448,-0.022773958742619,0.025719748809934,-0.015689115971327,-0.021630855277181,-0.056398086249828,-0.007619392592460,-0.007263111881912,0.005726390052587,0.027644548565149));
res += mul(Get(s2,-dx,dy), float4x4(-0.018005654215813,-0.085105232894421,0.006679075770080,-0.015909204259515,-0.039316628128290,-0.030087498947978,0.062600322067738,-0.001408801646903,0.012131223455071,-0.039987947791815,-0.002026077359915,-0.037630669772625,-0.003338557668030,-0.004930081777275,-0.033698268234730,0.050906743854284));
res += mul(Get(s2,0,-dy), float4x4(-0.025719186291099,-0.053256101906300,0.031494416296482,-0.044103048741817,0.020681606605649,0.015072380192578,-0.014034270308912,-0.004325589630753,-0.034964196383953,-0.035361655056477,-0.008193164132535,-0.027031948789954,0.034950911998749,-0.013693027198315,0.028644084930420,0.014326456002891));
res += mul(Get(s2,0,0), float4x4(0.063262343406677,0.012484912760556,0.038907457143068,-0.019485110417008,-0.023864343762398,0.024233393371105,0.012904444709420,-0.005204534158111,0.023682294413447,-0.009300800040364,-0.018964525312185,-0.005276395007968,0.001963403774425,0.042447824031115,0.002981654368341,0.009788542054594));
res += mul(Get(s2,0,dy), float4x4(-0.066842779517174,0.029766840860248,-0.039940029382706,0.068964213132858,-0.044356126338243,-0.012785910628736,0.029753442853689,0.058959718793631,-0.049987632781267,0.001833302550949,-0.029852282255888,0.025342795997858,0.001886394573376,0.010989580303431,-0.021261993795633,0.012103301472962));
res += mul(Get(s2,dx,-dy), float4x4(-0.031248092651367,0.009794796817005,-0.054258339107037,0.002364730462432,-0.018015388399363,-0.012252215296030,0.001285354373977,0.087708838284016,0.016787044703960,0.012680456042290,-0.031967703253031,0.015617210417986,0.003497601021081,0.005566226784140,-0.005713524762541,0.013468816876411));
res += mul(Get(s2,dx,0), float4x4(0.029797714203596,0.025444349274039,0.022214481607080,0.059969402849674,-0.008799760602415,0.050545446574688,-0.035473678261042,0.047962345182896,-0.008380967192352,0.015323413535953,0.006785811856389,0.059299971908331,0.006342987529933,-0.021249087527394,-0.006823138799518,-0.009973513893783));
res += mul(Get(s2,dx,dy), float4x4(-0.040509585291147,-0.010172798298299,0.013965255580842,0.086435765028000,-0.007256738841534,0.003301874268800,0.015180744230747,-0.032950021326542,-0.027633309364319,-0.004787036217749,-0.040136523544788,-0.022523434832692,0.048952989280224,-0.000641064194497,0.002922237385064,0.010019280016422));
res += mul(Get(s3,-dx,-dy), float4x4(0.015791568905115,0.017212567850947,-0.006144934799522,0.052286934107542,0.006310033146292,0.076662518084049,-0.001643184572458,-0.006788152270019,0.006846691016108,-0.018566956743598,-0.009273669682443,-0.001409757882357,0.011888197623193,0.012582914903760,-0.004413623362780,-0.020130719989538));
res += mul(Get(s3,-dx,0), float4x4(0.069723136723042,0.028264602646232,0.013789677061141,-0.006953812669963,-0.036828529089689,0.015697648748755,0.020465383306146,0.016178507357836,0.001353594590910,0.008132864721119,0.005610725842416,-0.005039261654019,0.003865030128509,0.008699450641870,-0.001491431263275,-0.027114076539874));
res += mul(Get(s3,-dx,dy), float4x4(0.010643403977156,0.040391046553850,-0.007046484388411,-0.022837281227112,-0.027414835989475,0.026902383193374,0.019369531422853,-0.009032705798745,0.018606051802635,-0.033564880490303,0.011072692461312,0.026704668998718,0.007476159371436,0.009081814438105,-0.002724126912653,-0.009571666829288));
res += mul(Get(s3,0,-dy), float4x4(0.037966400384903,0.033744446933270,0.007517258170992,-0.030948791652918,0.020873811095953,0.063320927321911,-0.025616187602282,0.013398390263319,0.003597664646804,0.014542639255524,0.030076861381531,0.035850673913956,0.003174047218636,0.033395696431398,-0.000037707926822,-0.003626532852650));
res += mul(Get(s3,0,0), float4x4(0.013335921801627,0.036134839057922,-0.010027869604528,-0.032161690294743,0.009553108364344,-0.016293471679091,-0.011312096379697,-0.005653028376400,0.008463558740914,-0.001989065669477,-0.014298376627266,0.032297141849995,0.010569524951279,0.014095241203904,0.010259651578963,0.020155657082796));
res += mul(Get(s3,0,dy), float4x4(0.000200849332032,0.022396102547646,0.001195755088702,-0.004512091167271,0.027809141203761,0.007500455249101,0.046329800039530,0.009516808204353,0.010692744515836,0.018446730449796,-0.010890503413975,0.013247078284621,0.014973342418671,0.039475597441196,-0.019809579476714,0.022450227290392));
res += mul(Get(s3,dx,-dy), float4x4(-0.006389408838004,0.031932126730680,0.026037419214845,-0.009815619327128,0.037811826914549,0.036459941416979,-0.012765342369676,0.004621359985322,-0.009132049046457,0.012582382187247,0.025087183341384,0.000777053879574,0.005088815931231,0.018803216516972,-0.025958050042391,-0.018640941008925));
res += mul(Get(s3,dx,0), float4x4(-0.016671227291226,0.024531679227948,-0.000177497204277,-0.002446003025398,-0.003065078752115,0.007265766151249,-0.002723297802731,-0.026345424354076,0.021638860926032,0.022334739565849,0.012629580684006,0.015916831791401,-0.040407594293356,0.006206100806594,-0.006865677423775,-0.012670109048486));
res += mul(Get(s3,dx,dy), float4x4(0.002815929008648,0.045920643955469,-0.002210017992184,0.028166275471449,0.013215568847954,0.007492823991925,0.034290257841349,0.001640345668420,0.009557084180415,0.000432796718087,-0.022290691733360,0.011858332902193,-0.010212733410299,0.009093938395381,-0.009134722873569,-0.006524065043777));
return max(float4(0,0,0,0), res);
}
