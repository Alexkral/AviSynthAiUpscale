sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.043446578085423,0.000735355017241,0.027142820879817,0.006378903053701,-0.074025914072990,-0.001095692277886,0.054496072232723,0.002825839910656,0.068337894976139,0.002971094800159,-0.007814627140760,0.017163202166557,-0.016991075128317,-0.005765266716480,0.015028758905828,0.011921902187169));
res += mul(Get(s0,-dx,0), float4x4(0.155728355050087,0.009311743080616,-0.019691921770573,0.001198081532493,0.086274199187756,0.003227012231946,-0.016581552103162,-0.016826074570417,-0.024214293807745,0.005084788892418,0.029218938201666,0.001642617862672,0.021162455901504,0.003517478937283,-0.005139091517776,0.006511289626360));
res += mul(Get(s0,-dx,dy), float4x4(0.032531697303057,-0.003147441660985,0.024506289511919,0.016214895993471,0.224828049540520,0.011330478824675,-0.005946714431047,0.022013038396835,0.045680295675993,0.018349967896938,-0.012911866419017,-0.015080071985722,0.001305162324570,0.005944923032075,-0.003742957720533,-0.006377915386111));
res += mul(Get(s0,0,-dy), float4x4(-0.222195878624916,-0.016560977324843,0.077386841177940,0.012453757226467,-0.178300589323044,-0.011306636035442,0.100371673703194,0.001712843193673,0.063880831003189,0.013047405518591,0.021955121308565,-0.002089819638059,-0.005285791121423,0.001598320086487,-0.007986866869032,-0.004223772790283));
res += mul(Get(s0,0,0), float4x4(0.124456912279129,0.002771763596684,-0.057815030217171,0.001077563618310,0.050253666937351,0.006710553541780,-0.030666831880808,0.037105638533831,-0.121481820940971,0.010567468591034,0.045778192579746,0.002553902566433,0.010313187725842,0.002876877784729,-0.011168606579304,-0.002815925981849));
res += mul(Get(s0,0,dy), float4x4(0.309442818164825,0.018842004239559,-0.017130516469479,-0.002519466448575,0.316301971673965,0.013639264740050,-0.020919477567077,0.018962129950523,0.097502507269382,0.006671975832433,-0.023058852180839,0.012520321644843,-0.001693219644949,-0.009090779349208,0.004622989799827,-0.006150053348392));
res += mul(Get(s0,dx,-dy), float4x4(-0.085042826831341,-0.010532417334616,0.100596494972706,-0.010952399112284,0.001962526002899,0.013199348933995,0.055733419954777,-0.005025024525821,0.075293585658073,0.006391862872988,0.009346847422421,0.003799875266850,-0.002955311210826,-0.005428122356534,-0.010984205640852,0.014076198451221));
res += mul(Get(s0,dx,0), float4x4(-0.034155331552029,-0.004421154502779,-0.010081982240081,0.047018356621265,0.051037766039371,-0.000315103272442,0.005780080799013,0.032106246799231,-0.054028034210205,-0.008103556931019,0.037614002823830,0.000283593923086,0.006812504492700,-0.005449731368572,0.002784309908748,0.011332993395627));
res += mul(Get(s0,dx,dy), float4x4(0.301098287105560,0.004665271844715,-0.032565373927355,0.013215360231698,0.130446314811707,0.006888846866786,0.002993822563440,0.000393257447286,0.033958237618208,0.006025529932231,0.000657021708321,0.015342419967055,0.016892898827791,-0.005678035318851,0.002004625042900,-0.000789564859588));
res += mul(Get(s1,-dx,-dy), float4x4(-0.031570240855217,0.001864192425273,-0.008462192490697,0.002099307486787,-0.000378974509658,-0.005550706759095,0.008551781997085,-0.004595874343067,0.212340846657753,-0.007696340326220,-0.034802731126547,0.017870847135782,0.272417962551117,-0.000506853742991,-0.063950248062611,0.032539919018745));
res += mul(Get(s1,-dx,0), float4x4(0.076835907995701,0.004697518423200,-0.001490351511165,0.011826886795461,0.005667111370713,-0.002191652078182,0.004981547128409,0.006396632641554,0.145484074950218,0.007195419166237,0.043155089020729,0.020050583407283,0.113064922392368,0.011116212233901,0.046831615269184,-0.004486137535423));
res += mul(Get(s1,-dx,dy), float4x4(-0.028046002611518,0.002190794562921,0.012410212308168,0.017599189653993,-0.010607674717903,-0.004692031536251,0.001123671187088,-0.001565060345456,-0.161652997136116,-0.009841368533671,0.050781846046448,-0.004889695905149,-0.146612539887428,0.011497161351144,0.052842225879431,-0.014903580769897));
res += mul(Get(s1,0,-dy), float4x4(0.071245849132538,0.006207357626408,-0.010022734291852,0.001411303645000,0.011661901138723,-0.012295364402235,-0.003227184526622,0.008051067590714,0.171676412224770,-0.013741219416261,0.010233462788165,0.030095176771283,0.076962523162365,0.003736855229363,0.010470094159245,0.024231215938926));
res += mul(Get(s1,0,0), float4x4(0.010334013961256,-0.005072777159512,0.005488611757755,-0.005089982412755,-0.012941960245371,-0.008810278028250,0.006594571750611,-0.001774620264769,-0.073147729039192,0.008322361856699,0.079001523554325,-0.023414723575115,-0.055465336889029,0.010456968098879,0.043132621794939,-0.032234020531178));
res += mul(Get(s1,0,dy), float4x4(-0.065558522939682,0.001853529596701,0.023747637867928,-0.005522461608052,-0.008894065394998,0.009501751512289,-0.006852590013295,-0.006882016547024,0.103216134011745,-0.004943871870637,-0.006319287698716,-0.011791208758950,0.224015131592751,0.000221003298066,-0.033274874091148,-0.009914610534906));
res += mul(Get(s1,dx,-dy), float4x4(0.037382375448942,-0.001867487328127,0.000585862784646,0.012317062355578,0.009446371346712,-0.002887554233894,-0.006672902964056,-0.014251518063247,0.118719302117825,0.005804875399917,0.049916420131922,-0.005968936253339,0.035115070641041,-0.000555310049094,0.068284183740616,-0.021081577986479));
res += mul(Get(s1,dx,0), float4x4(-0.050968550145626,0.000083595543401,0.030314462259412,-0.014498420991004,-0.014087501913309,-0.002697849879041,0.000104164006189,0.001622389885597,-0.092267140746117,-0.010826739482582,0.071836613118649,0.006055638194084,-0.069560565054417,-0.000084830651758,0.037550311535597,0.021710110828280));
res += mul(Get(s1,dx,dy), float4x4(0.040937475860119,-0.005561005324125,-0.010254809632897,-0.005161300301552,0.010837370529771,-0.003787161316723,-0.006874977145344,0.006191588938236,0.181967258453369,0.014083918184042,-0.045279882848263,0.048475611954927,0.191302806138992,0.003190228715539,-0.026340460404754,0.058833833783865));
res += mul(Get(s2,-dx,-dy), float4x4(0.070611551403999,0.004092502873391,0.008253417909145,-0.005738780833781,-0.055211666971445,-0.000359815836418,0.032805263996124,-0.006098807323724,0.043917302042246,0.008437633514404,0.002975735114887,-0.001746098161675,-0.008645826950669,-0.002009430434555,0.005621441174299,0.012246155180037));
res += mul(Get(s2,-dx,0), float4x4(0.047073028981686,-0.006212092936039,0.052130863070488,0.025947941467166,0.064589016139507,-0.006091194692999,-0.019877832382917,-0.001783208106644,0.030797637999058,0.004326081834733,0.000958870165050,-0.010458752512932,0.032947830855846,-0.007266440428793,-0.012194288894534,0.013231873512268));
res += mul(Get(s2,-dx,dy), float4x4(-0.071755312383175,0.007345139048994,0.033187031745911,0.022042974829674,0.069314360618591,-0.006522066425532,0.014327473938465,0.004830742254853,0.045442409813404,-0.013597063720226,0.009683704935014,-0.000694430491421,0.037792287766933,0.008900756947696,0.015163893811405,0.005620584357530));
res += mul(Get(s2,0,-dy), float4x4(0.227888166904449,0.011794329620898,-0.074106678366661,0.016866099089384,-0.022913498803973,0.002376616233960,0.042913541197777,0.001790087320842,0.072803117334843,-0.002829650882632,0.006175529211760,0.002731719287112,0.031734015792608,0.003064720192924,0.020730646327138,0.004049600567669));
res += mul(Get(s2,0,0), float4x4(0.166585355997086,0.019404685124755,0.048476617783308,0.002150823362172,0.105394817888737,0.003996235784143,-0.018566856160760,0.021038247272372,0.023771891370416,0.001403824775480,0.017853008583188,0.012432235293090,-0.035515718162060,-0.012874353677034,0.030362591147423,0.022266846150160));
res += mul(Get(s2,0,dy), float4x4(-0.251435965299606,-0.018048843368888,0.084222584962845,-0.021436825394630,-0.001084757968783,-0.003172538941726,0.015311894007027,0.009019361808896,-0.015819929540157,0.011166565120220,-0.005038324277848,0.003167463466525,-0.006883246824145,0.007940647192299,-0.009155447594821,0.008174719288945));
res += mul(Get(s2,dx,-dy), float4x4(0.059859346598387,0.017195096239448,-0.028564661741257,0.020410085096955,0.102547138929367,0.002053894801065,-0.020407421514392,0.004087002016604,0.105819627642632,0.010270407423377,-0.033224336802959,0.006525892298669,0.049209780991077,0.009933048859239,-0.002037994330749,0.011370530351996));
res += mul(Get(s2,dx,0), float4x4(0.116836532950401,0.003007790306583,0.010034540668130,-0.024032143875957,0.066035389900208,0.004339162260294,0.018646720796824,0.009172607213259,0.046621728688478,0.002552028512582,0.016979323700070,-0.000293126970064,0.035846974700689,0.011810812167823,0.000238841093960,-0.008496462367475));
res += mul(Get(s2,dx,dy), float4x4(0.020377563312650,0.000694819027558,0.003183394670486,-0.021185649558902,-0.057290919125080,-0.001156484941021,0.042238246649504,-0.002100168727338,-0.122717894613743,-0.000201408343855,0.037949617952108,0.002625788562000,0.019561637192965,0.001255346578546,0.006761850323528,-0.002611289033666));
res += mul(Get(s3,-dx,-dy), float4x4(-0.022385179996490,-0.012759749777615,0.000819329172373,-0.003410194301978,0.109723530709743,-0.006411820650101,0.019395126029849,0.029837325215340,0.010853204876184,0.000335571909091,0.039785865694284,0.007524553686380,-0.035062402486801,-0.004927219357342,0.008970021270216,0.001848065061495));
res += mul(Get(s3,-dx,0), float4x4(0.021278265863657,-0.009832677431405,-0.003811720060185,0.010476877912879,-0.110655695199966,-0.014031143859029,0.042852818965912,-0.041585519909859,-0.070887044072151,0.005531527101994,0.013295275159180,0.000868296774570,0.081660084426403,-0.002886210568249,-0.007363315206021,-0.008773364126682));
res += mul(Get(s3,-dx,dy), float4x4(-0.003746815025806,-0.001765533816069,0.005807559471577,-0.003320138668641,0.379176467657089,0.007055623456836,-0.079598046839237,-0.018948869779706,0.157992407679558,-0.004777481313795,-0.047003023326397,-0.004734673537314,0.032704506069422,-0.009190243668854,0.003932190593332,0.006070514209569));
res += mul(Get(s3,0,-dy), float4x4(-0.029843764379621,-0.001195330638438,-0.000082324157120,0.003220274113119,0.023270526900887,-0.004894037730992,0.155458331108093,-0.012539634481072,0.062620289623737,0.007109694182873,0.051702745258808,-0.007248496636748,0.041507218033075,-0.002459222916514,0.004761518910527,-0.000593897304498));
res += mul(Get(s3,0,0), float4x4(0.007220041006804,0.006970479153097,-0.004309664946049,-0.002683313097805,-0.298320293426514,-0.027983903884888,0.086307846009731,0.026897067204118,-0.184137374162674,-0.015361411496997,0.034029368311167,-0.010121870785952,-0.017481962218881,-0.020796626806259,0.007190029602498,0.011482729576528));
res += mul(Get(s3,0,dy), float4x4(0.006910951342434,-0.000190242120880,-0.008888124488294,0.008510128594935,0.442659378051758,0.017382709309459,-0.105898775160313,0.061397474259138,0.204509139060974,-0.001656216219999,-0.057309329509735,0.025729969143867,-0.001981874229386,-0.004778650589287,0.001335324253887,-0.006861854344606));
res += mul(Get(s3,dx,-dy), float4x4(0.010053564794362,0.002916884375736,0.005931309890002,-0.001742454478517,0.273742467164993,0.037732735276222,0.007254492491484,0.002426394727081,0.060804858803749,0.026857201009989,0.045132555067539,-0.023088511079550,0.103364937007427,0.012119961902499,-0.008928602561355,-0.001470129354857));
res += mul(Get(s3,dx,0), float4x4(-0.011938965879381,-0.004916401114315,0.012079242616892,-0.001030363724567,-0.050961013883352,0.011881834827363,0.073769852519035,0.016225237399340,-0.001900563249364,-0.005672595463693,0.004759971518070,-0.001757642952725,-0.033039532601833,-0.001726329675876,0.032688461244106,-0.017436390742660));
res += mul(Get(s3,dx,dy), float4x4(0.002707033185288,-0.003261729842052,0.004288360476494,0.001556045142934,-0.033090677112341,0.006255798973143,0.017393421381712,-0.003306768368930,0.134809911251068,0.005591345485300,-0.048901885747910,0.032414052635431,-0.042993236333132,0.000221592243179,0.012725453823805,0.005931549239904));
return max(float4(0,0,0,0), res);
}
