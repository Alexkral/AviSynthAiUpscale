sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.066237486898899,-0.059882249683142,0.050582658499479,0.149551510810852,0.233503967523575,-0.063209421932697,-0.039937064051628,0.080381564795971,0.170175746083260,0.186182975769043,0.070288710296154,0.119647502899170,-0.008313705213368,0.023456733673811,-0.135876208543777,0.061868742108345));
res += mul(Get(s0,-dx,0), float4x4(0.005687828641385,-0.011909922584891,-0.113895118236542,-0.132362097501755,0.105959236621857,0.181565210223198,0.133023411035538,0.023817624896765,0.036790657788515,-0.009810530580580,-0.095933280885220,0.046057358384132,-0.072212204337120,0.039570104330778,-0.222948998212814,0.098309285938740));
res += mul(Get(s0,-dx,dy), float4x4(0.120678052306175,-0.063194416463375,0.082891590893269,-0.007911786437035,0.009487648494542,-0.003707203315571,0.047109898179770,0.106071844696999,0.135605648159981,0.089117452502251,0.005374200176448,-0.036260724067688,0.103126466274261,0.080172508955002,-0.176881566643715,0.049496859312057));
res += mul(Get(s0,0,-dy), float4x4(0.063718996942043,0.009444304741919,0.133031517267227,-0.216874629259109,-0.073125742375851,0.154345422983170,0.049551196396351,0.121826060116291,-0.301691412925720,0.022786820307374,-0.047709118574858,-0.118603393435478,-0.125431865453720,-0.054296277463436,0.024028988555074,0.109063819050789));
res += mul(Get(s0,0,0), float4x4(0.018126918002963,0.081184379756451,0.015801053494215,-0.050846338272095,0.101704269647598,-0.082110926508904,0.118985973298550,-0.098941288888454,-0.047877270728350,0.118704617023468,-0.206390380859375,0.126260817050934,-0.069908536970615,-0.015591757372022,0.053686968982220,0.037678282707930));
res += mul(Get(s0,0,dy), float4x4(0.062580458819866,0.055518846958876,0.041727494448423,-0.160253643989563,0.105268739163876,0.033663921058178,0.132829710841179,0.109060451388359,0.206030026078224,0.211353346705437,0.083830654621124,0.012958557344973,0.027396321296692,-0.133692145347595,0.216087907552719,-0.063899807631969));
res += mul(Get(s0,dx,-dy), float4x4(-0.038805283606052,0.041143070906401,-0.010253926739097,0.056888163089752,0.051431939005852,0.191586568951607,-0.055069755762815,0.126060560345650,0.007203446701169,0.028402512893081,0.124432988464832,0.041281342506409,0.192712903022766,0.060822237282991,-0.012397651560605,-0.025288451462984));
res += mul(Get(s0,dx,0), float4x4(0.197709217667580,-0.032771643251181,0.019975373521447,-0.006505291443318,0.068123035132885,0.071152433753014,-0.105275712907314,-0.211325973272324,0.101543694734573,-0.187781348824501,-0.156325340270996,0.021085621789098,-0.056540120393038,0.155061110854149,-0.029923036694527,-0.215305849909782));
res += mul(Get(s0,dx,dy), float4x4(-0.018201690167189,-0.059530247002840,0.003098748624325,-0.114551410079002,-0.135696113109589,0.044328466057777,0.009768070653081,-0.136603608727455,0.147581025958061,0.103393286466599,0.033067453652620,0.002618715865538,-0.049681648612022,-0.114658564329147,-0.136750638484955,0.006819821428508));
res += mul(Get(s1,-dx,-dy), float4x4(0.129582494497299,0.015681402757764,0.080306865274906,-0.070885680615902,-0.061867058277130,0.043665725737810,-0.146539300680161,0.110452011227608,-0.137085542082787,0.079090371727943,0.192981749773026,0.065418221056461,0.055987469851971,0.022471034899354,0.046467460691929,-0.046304311603308));
res += mul(Get(s1,-dx,0), float4x4(0.112957924604416,0.043308269232512,0.036443959921598,-0.163329467177391,0.098462782800198,0.219802901148796,0.126618206501007,-0.019226828590035,0.042373806238174,-0.058066044002771,-0.114464007318020,0.029857400804758,-0.033939141780138,0.118176989257336,-0.068946667015553,-0.090271711349487));
res += mul(Get(s1,-dx,dy), float4x4(-0.199056193232536,0.103926360607147,-0.197390064597130,-0.050278965383768,0.102849535644054,0.061921261250973,-0.094976305961609,-0.112948715686798,0.028586065396667,0.112604640424252,-0.150678738951683,0.182944819331169,0.164065927267075,-0.106272101402283,-0.071310989558697,0.199101135134697));
res += mul(Get(s1,0,-dy), float4x4(0.047840699553490,0.050916265696287,0.052046928554773,-0.281315654516220,-0.246979013085365,-0.181624203920364,0.012087817303836,-0.222045749425888,0.094887711107731,0.168041363358498,0.039549823850393,0.015668477863073,0.068249277770519,0.013435336761177,0.027567377313972,-0.116744592785835));
res += mul(Get(s1,0,0), float4x4(-0.079503551125526,0.064477764070034,-0.013604507781565,0.218222662806511,-0.080348379909992,-0.112534932792187,0.055671624839306,-0.119887597858906,-0.090338535606861,-0.285039365291595,-0.269728809595108,0.182263508439064,-0.048194173723459,0.000885183166247,0.169685140252113,0.091956093907356));
res += mul(Get(s1,0,dy), float4x4(0.134290888905525,-0.022143829613924,-0.077514529228210,-0.267370343208313,0.019051624462008,-0.231241315603256,0.019531860947609,0.151376068592072,-0.022211300209165,-0.109333522617817,-0.305114150047302,-0.139085024595261,-0.016029769554734,-0.093074657022953,-0.094276219606400,-0.067233987152576));
res += mul(Get(s1,dx,-dy), float4x4(0.080107554793358,0.060215283185244,-0.042335774749517,0.041721992194653,0.028097571805120,0.015828216448426,-0.097046583890915,0.323958218097687,-0.004366224166006,-0.049129441380501,0.049748193472624,-0.025196878239512,-0.134800344705582,0.090927153825760,-0.134317606687546,0.019231587648392));
res += mul(Get(s1,dx,0), float4x4(-0.020117450505495,0.000726426020265,0.019851330667734,0.093768715858459,0.043023753911257,-0.132021531462669,0.047174833714962,-0.005238297395408,-0.009253707714379,0.010563172399998,-0.034737493842840,0.040076669305563,-0.029976146295667,-0.003971131052822,-0.107777327299118,0.025108236819506));
res += mul(Get(s1,dx,dy), float4x4(0.004680690821260,0.159926608204842,0.125287309288979,-0.043916992843151,0.006716595031321,-0.277205348014832,-0.317191153764725,-0.164354532957077,0.169496074318886,0.000463363860035,0.076705716550350,-0.023024661466479,-0.093182280659676,-0.073512971401215,-0.053714789450169,-0.007479651365429));
res += mul(Get(s2,-dx,-dy), float4x4(0.100899621844292,-0.216620549559593,0.050044175237417,0.075638435781002,-0.067096062004566,-0.065861269831657,-0.078994445502758,0.052998099476099,-0.191878005862236,0.145965620875359,-0.078815817832947,-0.018501078709960,0.079681433737278,-0.017973134294152,-0.061804618686438,-0.081032991409302));
res += mul(Get(s2,-dx,0), float4x4(0.218574985861778,0.274238795042038,0.075775012373924,0.092569783329964,0.011345473118126,-0.063321352005005,-0.102538362145424,0.027317564934492,0.021256789565086,0.070123724639416,-0.121890321373940,-0.129627391695976,-0.183770284056664,-0.078876458108425,-0.008951971307397,-0.041268922388554));
res += mul(Get(s2,-dx,dy), float4x4(0.021672159433365,0.093544095754623,0.064343146979809,0.021136879920959,-0.104022599756718,0.110953420400620,-0.288447916507721,-0.088580012321472,-0.089382909238338,0.067730404436588,0.124050445854664,-0.087107129395008,-0.096528828144073,-0.005818535573781,0.099982291460037,-0.171928226947784));
res += mul(Get(s2,0,-dy), float4x4(-0.021666657179594,-0.258264094591141,-0.012012446299195,0.053531561046839,0.074477128684521,0.022859705612063,0.063583999872208,0.260144144296646,-0.128467395901680,0.098426453769207,-0.044220190495253,-0.093805007636547,-0.150552764534950,0.009840259328485,0.061324872076511,-0.056069262325764));
res += mul(Get(s2,0,0), float4x4(-0.028918316587806,0.013178736902773,0.194516852498055,0.010072983801365,-0.034349165856838,0.135849118232727,0.187946483492851,0.190590739250183,0.012047929689288,0.014761030673981,-0.071730382740498,0.021470485255122,0.075597174465656,-0.096996560692787,0.022312842309475,-0.055077996104956));
res += mul(Get(s2,0,dy), float4x4(-0.031861059367657,0.212904751300812,-0.135049939155579,0.116150982677937,-0.071215674281120,-0.074961818754673,0.051688384264708,0.055732812732458,-0.076947785913944,0.111677236855030,0.011825046502054,0.058649044483900,-0.080125920474529,0.019606569781899,0.018945725634694,-0.116828054189682));
res += mul(Get(s2,dx,-dy), float4x4(-0.251787990331650,0.074781790375710,-0.101041130721569,0.102779626846313,0.123040795326233,0.116059534251690,-0.011906853877008,0.022241154685616,0.035922043025494,0.087924584746361,-0.092158906161785,0.079755105078220,-0.173144221305847,-0.027955079451203,-0.054890349507332,-0.085359722375870));
res += mul(Get(s2,dx,0), float4x4(0.247556790709496,0.026687050238252,-0.144084602594376,0.053256243467331,0.033449813723564,0.016456952318549,-0.028969999402761,-0.024435935541987,0.063054583966732,-0.078049018979073,-0.103796362876892,-0.011143526993692,-0.040015645325184,0.042898979038000,-0.268375992774963,0.215113535523415));
res += mul(Get(s2,dx,dy), float4x4(-0.102132774889469,0.199430435895920,0.026408646255732,0.103116966784000,-0.035345714539289,0.026772718876600,0.084734767675400,-0.012342060916126,-0.145987853407860,-0.190912142395973,-0.053724933415651,0.034238122403622,0.064647153019905,0.058544684201479,-0.055094171315432,0.087029360234737));
res += mul(Get(s3,-dx,-dy), float4x4(-0.100881628692150,0.052259270101786,-0.005331896711141,0.101281590759754,0.015785496681929,-0.033267408609390,0.146882280707359,-0.109327316284180,-0.281171858310699,-0.010433517396450,0.178999036550522,0.035602420568466,-0.154941692948341,-0.074431344866753,0.071222931146622,0.071033030748367));
res += mul(Get(s3,-dx,0), float4x4(-0.050809901207685,0.112921401858330,-0.055800069123507,-0.226517602801323,0.002952778711915,0.074674375355244,-0.082612477242947,-0.167417913675308,-0.030802277848125,0.030798975378275,0.046492118388414,0.076314903795719,0.070531882345676,0.197596848011017,-0.096371702849865,0.021958038210869));
res += mul(Get(s3,-dx,dy), float4x4(-0.059469942003489,0.101110741496086,-0.118442863225937,0.033941153436899,-0.016920551657677,0.292122572660446,-0.109192751348019,-0.024522701278329,0.090580329298973,-0.198822423815727,0.300494849681854,0.240902915596962,-0.107819028198719,-0.163889348506927,0.030253058299422,0.146860435605049));
res += mul(Get(s3,0,-dy), float4x4(-0.005412272177637,0.079317130148411,-0.019958699122071,-0.006715219002217,-0.050761487334967,0.149912983179092,-0.047916226089001,0.045593634247780,-0.028981026262045,0.100792884826660,0.000292283744784,-0.038139648735523,-0.086101897060871,-0.050596371293068,-0.104147076606750,0.073466487228870));
res += mul(Get(s3,0,0), float4x4(-0.022280963137746,0.027932040393353,-0.119819633662701,0.021121442317963,0.008953908458352,-0.159498736262321,-0.271981418132782,0.116304308176041,-0.078344948589802,-0.036495424807072,0.204332575201988,0.021265298128128,-0.143572479486465,-0.062372762709856,0.102281205356121,-0.049538001418114));
res += mul(Get(s3,0,dy), float4x4(-0.032773271203041,0.237971991300583,-0.114620231091976,0.109640084207058,-0.050565607845783,0.088432669639587,0.015652326866984,-0.005418664310127,-0.048607718199492,-0.096565857529640,-0.118459016084671,0.095510020852089,0.028610959649086,0.089390799403191,-0.157304510474205,-0.068342715501785));
res += mul(Get(s3,dx,-dy), float4x4(-0.038851402699947,-0.132589310407639,0.113781087100506,0.074536375701427,-0.185968458652496,0.085084244608879,-0.075701795518398,0.143580242991447,-0.223023012280464,0.272886276245117,0.109136685729027,0.046844366937876,0.175525173544884,-0.160437136888504,0.012025430798531,0.029025720432401));
res += mul(Get(s3,dx,0), float4x4(-0.216856643557549,0.152081459760666,0.031730465590954,-0.079102747142315,-0.004354692995548,-0.090515889227390,-0.015712404623628,0.062088169157505,-0.043529774993658,0.167460650205612,-0.098499536514282,0.229437828063965,-0.021283794194460,0.136087253689766,0.230293497443199,0.347988873720169));
res += mul(Get(s3,dx,dy), float4x4(0.099557712674141,-0.237412318587303,-0.134497568011284,-0.133976355195045,-0.040674213320017,-0.070063650608063,0.108713597059250,0.166727468371391,-0.091351374983788,-0.036311849951744,0.004834766965359,0.003707463387400,-0.001351828454062,0.231240645051003,0.071497306227684,-0.131747886538506));
return max(float4(0,0,0,0), res);
}
