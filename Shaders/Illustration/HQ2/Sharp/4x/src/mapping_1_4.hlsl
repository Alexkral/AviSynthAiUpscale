sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.104674622416496,0.036052484065294,-0.226652711629868,-0.209855586290359,-0.278009414672852,0.058581747114658,-0.070181787014008,-0.163752987980843,0.009314185939729,0.081178829073906,0.089713677763939,0.107350915670395,0.007757163140923,-0.156638786196709,0.034676052629948,0.075845062732697));
res += mul(Get(s0,-dx,0), float4x4(0.081486672163010,-0.138896137475967,-0.120629653334618,-0.016413452103734,-0.130279019474983,0.045679792761803,-0.152359798550606,-0.169479727745056,0.028978353366256,0.322657257318497,-0.010177814401686,-0.012385969981551,-0.166050702333450,0.074040330946445,0.013092459179461,-0.062350515276194));
res += mul(Get(s0,-dx,dy), float4x4(-0.037502102553844,-0.243624567985535,-0.096717402338982,0.176141828298569,0.027671694755554,-0.115555807948112,-0.032868616282940,-0.026246946305037,0.206222668290138,-0.100012540817261,-0.053934719413519,0.058268625289202,0.022305855527520,0.005657332018018,-0.275715440511703,-0.090493313968182));
res += mul(Get(s0,0,-dy), float4x4(0.143705219030380,-0.068748272955418,0.079378344118595,-0.024638544768095,-0.069390811026096,0.003602102631703,-0.050961572676897,0.211731359362602,0.024038702249527,0.141047179698944,0.114181771874428,0.110348433256149,0.059250384569168,-0.226800829172134,0.129528790712357,0.040609121322632));
res += mul(Get(s0,0,0), float4x4(-0.033187605440617,0.006537523120642,0.077688947319984,0.172367423772812,-0.068697206676006,0.071679107844830,0.072805754840374,0.010496550239623,-0.028700247406960,-0.030088530853391,0.148119851946831,0.016868388280272,-0.173736542463303,0.191393241286278,-0.202571168541908,0.063548706471920));
res += mul(Get(s0,0,dy), float4x4(-0.067974366247654,-0.027105245739222,0.160324379801750,0.042870961129665,0.102218411862850,0.037517886608839,0.124178551137447,0.076754622161388,0.058424752205610,0.176003172993660,-0.012509617023170,0.028181834146380,-0.285206824541092,0.068566672503948,0.177318215370178,-0.036920540034771));
res += mul(Get(s0,dx,-dy), float4x4(0.015724072232842,0.114141300320625,0.058212105184793,-0.245786651968956,-0.080356031656265,0.219290599226952,0.120930694043636,-0.094799205660820,0.024157272651792,-0.092891439795494,0.153788626194000,-0.004093518946320,0.035343054682016,0.055665262043476,0.014811801724136,-0.108432017266750));
res += mul(Get(s0,dx,0), float4x4(-0.031041026115417,-0.192747145891190,-0.063294269144535,-0.206356227397919,-0.081960693001747,-0.114336781203747,0.011702952906489,0.041130319237709,0.022003406658769,-0.048368655145168,0.107131890952587,-0.003324704011902,0.044406794011593,-0.037895616143942,-0.281494319438934,0.029424196109176));
res += mul(Get(s0,dx,dy), float4x4(-0.188182055950165,-0.042462773621082,0.014332071878016,0.038658104836941,0.142987176775932,-0.014125749468803,-0.155512630939484,0.255491882562637,0.016258373856544,0.065209947526455,-0.080594316124916,0.005493593402207,0.126127883791924,0.002984193619341,0.165515258908272,0.096044354140759));
res += mul(Get(s1,-dx,-dy), float4x4(0.125930547714233,0.031401738524437,0.102571159601212,0.147997364401817,0.100411310791969,0.095647178590298,-0.093702867627144,-0.219968855381012,0.164168894290924,-0.241154596209526,0.076874352991581,0.012489406391978,0.004426014609635,0.009463682770729,0.056984126567841,0.173764556646347));
res += mul(Get(s1,-dx,0), float4x4(0.136246308684349,0.083638459444046,-0.176341503858566,0.104110755026340,0.030784761533141,0.179781302809715,-0.101170621812344,-0.023413328453898,0.010935817845166,-0.088543474674225,0.076129026710987,0.091126978397369,-0.292113006114960,-0.204078912734985,-0.011799735948443,-0.030659815296531));
res += mul(Get(s1,-dx,dy), float4x4(0.007299683988094,-0.009304423816502,-0.081331580877304,-0.138201907277107,0.060847803950310,0.148766383528709,-0.016161246225238,0.128342181444168,0.097069673240185,-0.117806330323219,0.152633294463158,-0.099427722394466,0.175375223159790,-0.002499810419977,0.095030546188354,-0.062639087438583));
res += mul(Get(s1,0,-dy), float4x4(0.019675116986036,0.117670968174934,0.217726483941078,-0.272097378969193,0.001728810602799,-0.222496673464775,-0.000223145805649,-0.072081781923771,0.063147768378258,-0.081897921860218,-0.165442109107971,0.128778621554375,-0.106335341930389,0.064061045646667,0.047324091196060,-0.214067101478577));
res += mul(Get(s1,0,0), float4x4(0.156355232000351,0.073476627469063,-0.123404920101166,-0.183018997311592,0.064360886812210,-0.045641437172890,0.170821532607079,0.069950565695763,0.061500694602728,-0.076129823923111,0.005041275639087,-0.033622317016125,-0.017334397882223,-0.065487943589687,0.016760081052780,-0.006589112803340));
res += mul(Get(s1,0,dy), float4x4(-0.142415508627892,-0.048761185258627,-0.023844301700592,0.027015713974833,0.055757489055395,-0.276503086090088,0.072456419467926,0.080158844590187,-0.248442187905312,-0.231432408094406,-0.122110284864902,-0.120382271707058,0.112219758331776,0.044435732066631,-0.091178923845291,-0.171151995658875));
res += mul(Get(s1,dx,-dy), float4x4(0.197100237011909,-0.133851632475853,-0.126634106040001,-0.154917880892754,0.144504174590111,0.175037503242493,-0.200902909040451,-0.316467583179474,0.013926791027188,-0.101641587913036,0.024088123813272,0.112559318542480,0.146051034331322,-0.058302093297243,-0.044381778687239,0.028125252574682));
res += mul(Get(s1,dx,0), float4x4(-0.098773941397667,-0.235736608505249,0.038017515093088,-0.279794037342072,0.033710781484842,0.105924420058727,0.046414058655500,0.085015960037708,-0.008488113060594,0.042887281626463,0.362179726362228,0.172793358564377,0.152546301484108,0.178253486752510,0.149682849645615,-0.248794257640839));
res += mul(Get(s1,dx,dy), float4x4(0.154627412557602,-0.201672345399857,0.050473336130381,0.012780305929482,-0.011021859943867,-0.122254669666290,-0.069615580141544,-0.037129197269678,0.047308918088675,-0.056850876659155,-0.168535038828850,-0.001707473304123,0.052017044275999,0.015873540192842,-0.097559303045273,-0.404143333435059));
res += mul(Get(s2,-dx,-dy), float4x4(0.213627010583878,-0.251819789409637,0.030144767835736,-0.050926513969898,0.069095470011234,0.034009296447039,0.019544415175915,0.048868495970964,0.217423722147942,-0.186899214982986,0.010779740288854,-0.054304096847773,0.071229211986065,0.013940925709903,0.072649680078030,0.040909603238106));
res += mul(Get(s2,-dx,0), float4x4(-0.107464842498302,0.075811147689819,-0.089888714253902,0.203813895583153,-0.012093907222152,0.026076551526785,0.013814266771078,-0.069452583789825,-0.079709209501743,-0.103468000888824,0.165634050965309,0.176561132073402,0.032101824879646,0.060523986816406,0.080501817166805,0.208014234900475));
res += mul(Get(s2,-dx,dy), float4x4(-0.168339312076569,-0.073428116738796,-0.180626451969147,-0.031794756650925,-0.141052216291428,0.007443804759532,-0.131745085120201,-0.175139069557190,0.004299345426261,-0.040407359600067,0.032004430890083,-0.259119153022766,-0.128420189023018,-0.076671414077282,-0.122010454535484,0.062688574194908));
res += mul(Get(s2,0,-dy), float4x4(-0.071590885519981,0.070130094885826,0.083644889295101,0.136645868420601,-0.052282929420471,-0.073864504694939,-0.071152843534946,-0.028039600700140,-0.149433225393295,-0.183883652091026,0.060699135065079,0.040094610303640,0.055225580930710,-0.038503862917423,-0.146174564957619,0.128515526652336));
res += mul(Get(s2,0,0), float4x4(-0.048135317862034,0.011170838028193,0.084036454558372,0.090383090078831,-0.099671095609665,-0.157140269875526,-0.045404899865389,0.123597413301468,0.093062527477741,0.037862364202738,-0.104261599481106,0.243342161178589,-0.064344070851803,-0.108963906764984,0.242510661482811,0.226349920034409));
res += mul(Get(s2,0,dy), float4x4(0.165520980954170,0.019533585757017,-0.006295096594840,-0.185264259576797,0.004580356180668,-0.190027073025703,0.010814425535500,0.065312877297401,0.204379662871361,-0.131912082433701,0.248495802283287,-0.052599161863327,0.050978109240532,0.024674290791154,0.049517776817083,-0.033527247607708));
res += mul(Get(s2,dx,-dy), float4x4(0.051784113049507,-0.384151905775070,0.148772478103638,0.012371534481645,0.111895166337490,-0.071339547634125,0.006504601333290,0.131141692399979,-0.026606688275933,-0.019623799249530,0.051812082529068,-0.201845735311508,0.095463059842587,0.019668649882078,0.085237674415112,0.058383207768202));
res += mul(Get(s2,dx,0), float4x4(0.036933995783329,-0.076282531023026,0.099691309034824,-0.067182384431362,-0.096125088632107,0.089347161352634,-0.003468695329502,0.061534669250250,0.040926996618509,-0.050822913646698,0.022602468729019,-0.077942140400410,0.103861264884472,0.152825370430946,-0.131398409605026,-0.034796606749296));
res += mul(Get(s2,dx,dy), float4x4(-0.030812503769994,-0.108464539051056,-0.133589446544647,0.033894330263138,-0.150388896465302,-0.100179865956306,0.119523771107197,0.110777609050274,0.080080792307854,0.132825389504433,-0.124614834785461,-0.080637045204639,0.178327769041061,-0.000972925161477,-0.078044429421425,-0.048097394406796));
res += mul(Get(s3,-dx,-dy), float4x4(0.293979525566101,0.020532237365842,0.160226702690125,0.059427618980408,-0.006069761700928,-0.031377594918013,-0.055189881473780,0.032853528857231,0.054354492574930,0.043902687728405,-0.047526992857456,-0.069259166717529,-0.009127434343100,0.017534365877509,-0.081473581492901,-0.050976406782866));
res += mul(Get(s3,-dx,0), float4x4(-0.205222010612488,0.054969713091850,-0.001223574741744,0.094859629869461,-0.010436649434268,0.043741289526224,0.057083241641521,-0.023823251947761,-0.009157743304968,-0.013263100758195,-0.162902176380157,-0.160768926143646,0.171208560466766,-0.067993573844433,0.163191631436348,0.002954538911581));
res += mul(Get(s3,-dx,dy), float4x4(-0.057127680629492,0.010274682193995,0.044806361198425,0.062880359590054,-0.120559893548489,0.082268938422203,0.068353123962879,0.009528105147183,0.067764542996883,-0.021684762090445,0.192871809005737,0.123835518956184,0.009106645360589,0.106921046972275,-0.039311733096838,-0.076507806777954));
res += mul(Get(s3,0,-dy), float4x4(-0.295468598604202,-0.199675589799881,-0.181900441646576,0.224342167377472,-0.070164278149605,0.000856237486005,0.172743692994118,-0.028848554939032,0.149019673466682,0.046748016029596,0.030204456299543,-0.043547101318836,-0.066457711160183,-0.150140672922134,-0.071183353662491,0.186561524868011));
res += mul(Get(s3,0,0), float4x4(-0.107065573334694,0.066763170063496,0.137727022171021,-0.133178934454918,0.150713205337524,0.096637465059757,0.025739559903741,0.068615734577179,0.050011910498142,0.068209961056709,0.145173594355583,-0.032260674983263,-0.026089359074831,-0.145485430955887,-0.064425177872181,0.142735496163368));
res += mul(Get(s3,0,dy), float4x4(-0.086125172674656,0.016649043187499,0.098309576511383,-0.117102138698101,-0.311794430017471,0.144909322261810,0.013005344197154,-0.027953621000051,0.146245315670967,-0.139689803123474,0.173879027366638,-0.020963735878468,0.043536745011806,-0.005679483525455,0.239297285676003,-0.175048232078552));
res += mul(Get(s3,dx,-dy), float4x4(0.008308781310916,-0.031691692769527,-0.014865731820464,-0.032582659274340,-0.120177552103996,-0.001513983821496,0.009844953194261,-0.064451448619366,-0.169574782252312,-0.082656100392342,0.015435394831002,-0.266444802284241,-0.195760995149612,0.034389324486256,0.167502507567406,0.019329648464918));
res += mul(Get(s3,dx,0), float4x4(-0.326954573392868,0.224112212657928,0.039863593876362,-0.106821164488792,0.147723346948624,-0.036560848355293,-0.108712099492550,-0.046203549951315,-0.083291634917259,0.102537967264652,-0.093803383409977,-0.062428180128336,0.052745845168829,-0.312815040349960,0.117609277367592,-0.048616342246532));
res += mul(Get(s3,dx,dy), float4x4(0.031449358910322,-0.016281120479107,-0.087501123547554,-0.074125118553638,-0.168426781892776,0.104571320116520,0.086300857365131,-0.022375240921974,-0.020084405317903,0.046226471662521,-0.063753776252270,0.105450771749020,0.228295549750328,0.041801899671555,0.057665206491947,-0.011411862447858));
return max(float4(0,0,0,0), res);
}
