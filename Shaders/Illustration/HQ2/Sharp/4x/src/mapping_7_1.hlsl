sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.065071567893028,0.186478495597839,0.023916205391288,-0.009317747317255,-0.044955268502235,-0.044749252498150,0.063885033130646,0.067211434245110,0.025302276015282,0.069659031927586,0.052686139941216,-0.003260028781369,-0.197654694318771,0.072043679654598,0.181542947888374,0.073218256235123));
res += mul(Get(s0,-dx,0), float4x4(-0.007545031141490,0.151814922690392,0.126090124249458,-0.120412118732929,0.072453834116459,-0.035587154328823,-0.187911838293076,-0.081902079284191,-0.064613707363605,0.245818451046944,0.059004366397858,0.139909297227859,-0.162489801645279,0.029273331165314,-0.047986231744289,0.076461024582386));
res += mul(Get(s0,-dx,dy), float4x4(-0.155279442667961,0.150255873799324,-0.062787786126137,0.105681039392948,-0.031395152211189,0.056010555475950,-0.063728854060173,0.035421665757895,0.085073381662369,-0.116426557302475,-0.092687174677849,-0.097704462707043,-0.103703059256077,-0.105459854006767,0.016735680401325,-0.102417603135109));
res += mul(Get(s0,0,-dy), float4x4(0.097956642508507,0.199633479118347,0.013577459380031,0.063654124736786,0.129366099834442,-0.070960946381092,0.112270258367062,0.116999335587025,0.221378639340401,0.334693938493729,0.069963090121746,0.140377268195152,-0.043407149612904,-0.101241730153561,0.074261739850044,-0.028335422277451));
res += mul(Get(s0,0,0), float4x4(-0.138022184371948,-0.177561134099960,0.045117270201445,0.174586087465286,0.090504571795464,-0.022882191464305,-0.155743151903152,-0.022737070918083,0.018851155415177,0.007753395475447,0.090132758021355,0.025281878188252,0.084277063608170,-0.100228570401669,-0.148926228284836,0.128981366753578));
res += mul(Get(s0,0,dy), float4x4(0.087535992264748,-0.003550967201591,0.040988281369209,-0.059033740311861,-0.090148024260998,-0.058090496808290,-0.068626411259174,0.118897765874863,-0.034624457359314,-0.097471997141838,-0.109273344278336,0.159444287419319,-0.048516575247049,-0.098956272006035,-0.053621426224709,-0.179699182510376));
res += mul(Get(s0,dx,-dy), float4x4(-0.011117960326374,-0.272332370281219,-0.040818210691214,0.003504870925099,0.101557329297066,-0.103256195783615,-0.097239658236504,0.223060160875320,-0.045664839446545,-0.111976504325867,0.032814834266901,-0.095341205596924,0.067685976624489,0.015117187052965,-0.060057643800974,0.219277232885361));
res += mul(Get(s0,dx,0), float4x4(0.043631136417389,-0.090891845524311,0.151067256927490,-0.122491434216499,-0.102134443819523,-0.099264457821846,-0.028637908399105,-0.008409267291427,-0.018894381821156,0.044803641736507,0.157937914133072,0.011167736724019,0.140758305788040,-0.180620446801186,-0.206574544310570,-0.099006004631519));
res += mul(Get(s0,dx,dy), float4x4(0.053704760968685,-0.062949754297733,-0.000837590952870,-0.096775598824024,0.113672107458115,-0.049827601760626,-0.208168148994446,-0.004603548441082,0.022994779050350,0.161809667944908,-0.008179715834558,-0.058366548269987,0.126826196908951,0.080303058028221,-0.026724057272077,0.046440426260233));
res += mul(Get(s1,-dx,-dy), float4x4(-0.085365191102028,0.154343947768211,0.014047952368855,0.128668338060379,0.096827581524849,0.093473367393017,0.023672919720411,-0.077337309718132,0.109079532325268,0.053136400878429,0.008170691318810,0.038525659590960,0.066612064838409,-0.023668576031923,0.158499807119370,0.000114713417133));
res += mul(Get(s1,-dx,0), float4x4(-0.024778686463833,0.032532669603825,0.036817684769630,0.027206389233470,-0.118113607168198,0.047802045941353,-0.116857595741749,0.077643804252148,0.066968835890293,-0.077719904482365,0.037555158138275,-0.096256293356419,-0.021475994959474,-0.129726380109787,-0.127319484949112,0.222557589411736));
res += mul(Get(s1,-dx,dy), float4x4(-0.044665366411209,0.042323999106884,-0.064333237707615,0.062018841505051,-0.079064853489399,-0.001565234269947,0.279186844825745,0.001424745074473,0.100126825273037,0.020782709121704,-0.271828323602676,0.028021348640323,-0.062889128923416,0.191141873598099,-0.056999284774065,-0.063712827861309));
res += mul(Get(s1,0,-dy), float4x4(-0.044320516288280,-0.036595907062292,0.063249401748180,0.002502730349079,0.112601459026337,-0.081267401576042,0.056085005402565,-0.115818858146667,0.099240802228451,0.076494470238686,-0.008615530095994,0.034930668771267,0.030078412964940,-0.058657608926296,0.003757145255804,0.079642370343208));
res += mul(Get(s1,0,0), float4x4(0.046714246273041,0.006225951481611,0.029856031760573,-0.164201080799103,-0.000117080351629,-0.108400478959084,0.044909916818142,-0.064595118165016,0.143200948834419,-0.004430537577718,-0.013876704499125,0.084511943161488,-0.007727920543402,-0.015063140541315,-0.130719304084778,-0.167197689414024));
res += mul(Get(s1,0,dy), float4x4(0.017341615632176,-0.144335523247719,0.033291656523943,-0.039147403091192,-0.157765135169029,-0.091338813304901,-0.294241279363632,-0.079563871026039,0.028034055605531,-0.203481614589691,0.013698278926313,-0.010168487206101,0.005252996459603,-0.068714387714863,-0.021829431876540,0.167717531323433));
res += mul(Get(s1,dx,-dy), float4x4(-0.070557087659836,-0.227094173431396,0.001468849368393,-0.021504513919353,-0.094428583979607,0.041473697870970,0.134326815605164,-0.123613305389881,-0.270268797874451,-0.114629864692688,0.197188571095467,0.021281709894538,0.050640724599361,0.018873948603868,-0.054287750273943,-0.100841209292412));
res += mul(Get(s1,dx,0), float4x4(0.084442771971226,-0.064142465591431,0.109457314014435,-0.035832609981298,0.026495175436139,0.228275895118713,-0.199810028076172,-0.205701544880867,0.146891355514526,-0.128488048911095,-0.077106758952141,0.123379170894623,0.149886906147003,0.004554028622806,0.026134906336665,-0.044049855321646));
res += mul(Get(s1,dx,dy), float4x4(0.014356611296535,-0.084385201334953,-0.165221557021141,-0.090123586356640,0.075892388820648,-0.009235444478691,-0.150214612483978,0.144481360912323,0.101309135556221,-0.169873610138893,-0.057678535580635,0.096635118126869,0.086765035986900,0.088686048984528,0.140556111931801,0.133895099163055));
res += mul(Get(s2,-dx,-dy), float4x4(-0.154769569635391,0.033450413495302,-0.105543412268162,0.035974338650703,0.030259039252996,-0.037003390491009,0.061085503548384,-0.060438528656960,0.026690253987908,0.049597803503275,0.011934482492507,-0.061298064887524,-0.218014523386955,-0.035743448883295,0.023492274805903,0.126903980970383));
res += mul(Get(s2,-dx,0), float4x4(-0.120534680783749,-0.060185961425304,0.050816830247641,0.211302459239960,-0.058236237615347,-0.083412557840347,0.030706729739904,-0.148850440979004,0.194392696022987,-0.008100486360490,0.001150067313574,-0.035636119544506,-0.230759754776955,-0.237850010395050,-0.004164934623986,0.089473523199558));
res += mul(Get(s2,-dx,dy), float4x4(-0.275143474340439,-0.090543016791344,-0.012983654625714,0.092371560633183,0.281196534633636,0.029842220246792,-0.118060939013958,0.172563955187798,-0.097629502415657,-0.124544687569141,-0.114334605634212,-0.085950039327145,0.151446476578712,0.104909397661686,-0.105083934962749,0.198355227708817));
res += mul(Get(s2,0,-dy), float4x4(-0.022492319345474,-0.015108129009604,0.134474560618401,-0.048821929842234,0.010221721604466,-0.133251175284386,0.025133976712823,0.077664844691753,-0.085045859217644,0.031824309378862,-0.086267448961735,0.184642359614372,0.007582223042846,-0.074690900743008,0.029870767146349,0.073882751166821));
res += mul(Get(s2,0,0), float4x4(-0.074170127511024,0.045456726104021,0.019561314955354,0.040542908012867,0.142355576157570,-0.133580222725868,-0.018401492387056,-0.060424901545048,-0.053727947175503,-0.000311234674882,-0.073016464710236,0.072807550430298,0.191595017910004,-0.190115973353386,-0.033406492322683,-0.028626570478082));
res += mul(Get(s2,0,dy), float4x4(0.119684837758541,-0.050536368042231,-0.121691934764385,-0.011579264886677,0.061564989387989,0.103312321007252,0.162485584616661,-0.141617819666862,-0.047611624002457,0.087712980806828,-0.114148676395416,0.057495471090078,-0.048979811370373,0.127271264791489,-0.002029239898548,-0.228033423423767));
res += mul(Get(s2,dx,-dy), float4x4(0.036569755524397,0.121865838766098,-0.052298530936241,-0.061050597578287,0.016993300989270,0.115739710628986,-0.126418828964233,0.238763451576233,0.188944146037102,-0.096770972013474,-0.336653411388397,-0.164632484316826,0.013851833529770,-0.020427813753486,-0.194404825568199,0.032074574381113));
res += mul(Get(s2,dx,0), float4x4(0.089770019054413,-0.076004244387150,-0.011805659160018,-0.016325710341334,-0.022482346743345,-0.045268259942532,0.009883347898722,0.151676893234253,0.062750197947025,0.045301955193281,0.020035138353705,0.110390163958073,-0.013384418562055,-0.209634825587273,0.024508858099580,-0.050083495676517));
res += mul(Get(s2,dx,dy), float4x4(0.052521821111441,0.253744304180145,0.118171080946922,0.072621166706085,0.077747337520123,0.044296864420176,0.155919447541237,-0.047262072563171,-0.159548357129097,-0.182005420327187,0.186600565910339,0.087475664913654,-0.111030369997025,-0.128958970308304,-0.003981547895819,-0.078312329947948));
res += mul(Get(s3,-dx,-dy), float4x4(-0.171135678887367,0.252623021602631,0.040685713291168,-0.013476956635714,0.089808441698551,-0.066681824624538,-0.064810030162334,0.073856532573700,-0.030542287975550,0.035143710672855,-0.124198392033577,0.086716137826443,-0.164631664752960,0.067161202430725,-0.106197729706764,-0.051952492445707));
res += mul(Get(s3,-dx,0), float4x4(0.063226141035557,-0.044664997607470,-0.069349654018879,-0.051225692033768,0.245701208710670,0.178317427635193,0.106054164469242,0.113947138190269,-0.070027701556683,-0.041665960103273,0.036672204732895,0.095832169055939,0.075386419892311,-0.050009544938803,-0.124708510935307,0.132179677486420));
res += mul(Get(s3,-dx,dy), float4x4(-0.063964180648327,-0.028560386970639,0.085936278104782,-0.065599977970123,0.046304479241371,-0.036378171294928,0.049026496708393,0.149475187063217,0.123923622071743,-0.032728590071201,-0.051089625805616,-0.000944278086536,0.185188248753548,-0.146137982606888,-0.012956541962922,-0.145815178751945));
res += mul(Get(s3,0,-dy), float4x4(0.059051297605038,0.238875567913055,0.124192491173744,-0.160018846392632,-0.136436879634857,0.069735832512379,0.017460703849792,0.063255049288273,-0.066771127283573,0.024569183588028,0.105000667273998,0.012293899431825,-0.068315066397190,0.015177596360445,0.044474095106125,-0.121087998151779));
res += mul(Get(s3,0,0), float4x4(-0.164599329233170,0.024188358336687,0.088296659290791,0.178024426102638,0.005983359180391,-0.061623163521290,0.079830266535282,-0.154309138655663,0.132553428411484,0.088613718748093,-0.083320602774620,-0.062509201467037,-0.054259788244963,-0.123716600239277,0.176476925611496,-0.130351305007935));
res += mul(Get(s3,0,dy), float4x4(0.082950904965401,0.110445894300938,-0.135485798120499,0.064431473612785,0.139551118016243,-0.133180797100067,0.164268165826797,0.075891196727753,0.130352079868317,0.143364846706390,0.083352349698544,-0.057240929454565,0.035910565406084,0.019991466775537,-0.065041780471802,0.042225293815136));
res += mul(Get(s3,dx,-dy), float4x4(0.058572936803102,0.048139676451683,-0.060826886445284,-0.021975601091981,0.052299108356237,-0.082808874547482,0.116513691842556,-0.056338496506214,-0.022255422547460,-0.004117293749005,0.001690966659226,-0.218738228082657,-0.076158657670021,-0.033794231712818,0.169289514422417,-0.058442939072847));
res += mul(Get(s3,dx,0), float4x4(0.033882386982441,0.200050726532936,-0.105073951184750,0.077615991234779,0.188550278544426,-0.010352326557040,0.131770238280296,-0.063013471662998,0.214388266205788,-0.091013386845589,0.181749865412712,0.177039816975594,-0.001951715443283,-0.033712029457092,-0.122642278671265,0.109232671558857));
res += mul(Get(s3,dx,dy), float4x4(0.046723801642656,-0.128864988684654,-0.000409923202824,-0.120335794985294,0.137550711631775,-0.181490525603294,-0.007607765961438,0.060263153165579,0.066234707832336,0.046362489461899,0.055489614605904,0.034774824976921,-0.006131321191788,0.025931149721146,-0.002400306751952,0.095640532672405));
return max(float4(0,0,0,0), res);
}
