sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.164909690618515,0.183040678501129,0.064027644693851,-0.119548834860325,-0.042461249977350,0.122052460908890,-0.084231883287430,-0.001503864536062,-0.210230201482773,-0.061859328299761,-0.088842727243900,0.102222420275211,0.087261497974396,0.217307731509209,0.125365257263184,-0.108024649322033));
res += mul(Get(s0,-dx,0), float4x4(0.022865107282996,0.070919655263424,0.035747978836298,-0.205864429473877,0.013375094160438,0.029370579868555,0.105525948107243,0.074897833168507,0.071415722370148,0.134343281388283,0.151302605867386,0.056087795644999,-0.113606289029121,-0.155726462602615,-0.169621065258980,-0.065342217683792));
res += mul(Get(s0,-dx,dy), float4x4(0.038500763475895,0.056244764477015,-0.021799810230732,-0.026534609496593,-0.044888723641634,0.105746872723103,-0.101382166147232,-0.200913965702057,0.247763946652412,-0.086651168763638,-0.057669952511787,0.026504416018724,0.089189372956753,-0.030006444081664,0.003692779690027,-0.193952351808548));
res += mul(Get(s0,0,-dy), float4x4(-0.080787204205990,-0.010924410074949,0.155136063694954,0.100968152284622,-0.035825408995152,0.108538240194321,0.079070873558521,0.038237500935793,-0.213660731911659,-0.077287778258324,-0.075487092137337,-0.047269403934479,-0.029376158490777,-0.055150013417006,0.207081779837608,-0.063682228326797));
res += mul(Get(s0,0,0), float4x4(0.104036465287209,-0.027041248977184,0.191984832286835,-0.156963780522346,-0.228959485888481,0.105719707906246,-0.140012755990028,-0.018193222582340,-0.182670027017593,-0.095613129436970,0.134827867150307,-0.222260549664497,-0.049359772354364,0.065801262855530,-0.014582568779588,-0.018196806311607));
res += mul(Get(s0,0,dy), float4x4(0.030500225722790,-0.176521256566048,-0.179511725902557,-0.210869148373604,-0.003827366512269,-0.020715778693557,0.172605618834496,0.025471623986959,0.085397563874722,-0.019224645569921,0.176891461014748,-0.080082371830940,0.033008717000484,-0.145072311162949,-0.090080037713051,0.128715962171555));
res += mul(Get(s0,dx,-dy), float4x4(0.068108201026917,0.056586869060993,0.203587979078293,-0.155930265784264,0.013380608521402,0.040076624602079,0.224264577031136,0.065656296908855,-0.184096187353134,0.083672232925892,-0.082994610071182,0.015252382494509,-0.059924628585577,-0.034390673041344,0.158291548490524,0.111654169857502));
res += mul(Get(s0,dx,0), float4x4(0.066290065646172,-0.110995188355446,0.012533575296402,-0.000251251214650,0.088986828923225,-0.017075289040804,-0.083548180758953,-0.083999715745449,-0.036158807575703,-0.025002660229802,0.284001439809799,0.022869585081935,-0.209626883268356,0.226952463388443,0.067865788936615,-0.019464606419206));
res += mul(Get(s0,dx,dy), float4x4(-0.163552165031433,0.146156474947929,-0.002761141862720,-0.162258759140968,0.107661262154579,-0.077450089156628,-0.096931882202625,0.005669859703630,0.101879172027111,0.070383548736572,-0.046802628785372,0.040766701102257,0.033566083759069,-0.051379568874836,-0.004842737223953,-0.256902635097504));
res += mul(Get(s1,-dx,-dy), float4x4(0.143436387181282,0.071899153292179,-0.083514779806137,0.124252259731293,0.069908581674099,0.179593667387962,0.039200827479362,0.217922493815422,0.018891984596848,0.102946318686008,-0.063889436423779,-0.137757673859596,0.112306967377663,0.083725482225418,-0.074284240603447,0.108282990753651));
res += mul(Get(s1,-dx,0), float4x4(0.042675592005253,0.161800876259804,-0.038673549890518,0.083552755415440,-0.188143536448479,0.054324153810740,-0.061597447842360,0.013689900748432,0.131808310747147,-0.072287812829018,0.079869739711285,-0.220434978604317,0.059102449566126,-0.106654465198517,0.008059467189014,0.017837403342128));
res += mul(Get(s1,-dx,dy), float4x4(-0.152097806334496,-0.252259910106659,-0.406292468309402,-0.030088366940618,0.047598637640476,-0.024010781198740,-0.137351244688034,0.157056793570518,0.035784397274256,0.031422991305590,-0.118837997317314,-0.169550627470016,-0.056125149130821,-0.032000221312046,-0.117536619305611,0.187243491411209));
res += mul(Get(s1,0,-dy), float4x4(0.046200022101402,0.136517196893692,-0.002256379462779,0.153535917401314,-0.033044323325157,-0.068271934986115,0.094016313552856,-0.025860054418445,0.101695477962494,-0.161008179187775,0.030701493844390,0.022297341376543,-0.004816052038223,-0.012691249139607,-0.066687211394310,-0.129950448870659));
res += mul(Get(s1,0,0), float4x4(0.099958054721355,0.118201062083244,-0.071892835199833,0.063506983220577,0.074870526790619,-0.008682533167303,-0.078472003340721,0.190827339887619,-0.003998776897788,-0.052401453256607,0.186950430274010,-0.183163017034531,-0.078329056501389,-0.194650366902351,0.129408940672874,0.201751932501793));
res += mul(Get(s1,0,dy), float4x4(-0.115872703492641,0.029454475268722,-0.252802282571793,-0.051662869751453,-0.157615289092064,0.035863328725100,0.023909052833915,0.051542986184359,0.059279557317495,0.119871228933334,-0.022838806733489,0.228202342987061,0.012338696978986,-0.113978654146194,-0.077072881162167,0.171062991023064));
res += mul(Get(s1,dx,-dy), float4x4(-0.082433372735977,0.162180379033089,-0.141381889581680,0.010172442533076,-0.056096658110619,0.082435220479965,0.000624325417448,-0.008939796127379,-0.000774856074713,0.022304678335786,-0.040388029068708,0.107734814286232,-0.011731248348951,0.305436432361603,0.169237881898880,0.109864495694637));
res += mul(Get(s1,dx,0), float4x4(-0.101823650300503,0.126975640654564,-0.018221659585834,-0.174698233604431,0.153303638100624,0.020731890574098,0.165572583675385,0.063492536544800,-0.104292519390583,-0.040241461247206,0.062495663762093,0.029407458379865,-0.185624331235886,-0.076967462897301,-0.153226211667061,0.031315609812737));
res += mul(Get(s1,dx,dy), float4x4(-0.026438316330314,-0.024589501321316,-0.064280740916729,0.003514133160934,0.204737618565559,-0.068575240671635,-0.165359109640121,-0.026062771677971,0.008781697601080,-0.113285250961781,0.038338817656040,0.038035720586777,-0.120083346962929,0.128626942634583,-0.045213531702757,0.154127940535545));
res += mul(Get(s2,-dx,-dy), float4x4(0.137626916170120,-0.103310734033585,0.034588683396578,0.040424253791571,0.037984602153301,0.009119998663664,-0.111986808478832,0.030575664713979,-0.133355364203453,0.192383110523224,0.099571444094181,0.159702479839325,0.088720194995403,-0.011309845373034,0.011558037251234,-0.083956934511662));
res += mul(Get(s2,-dx,0), float4x4(-0.041819419711828,0.004799448885024,-0.176916912198067,-0.088236749172211,-0.035448674112558,0.150417894124985,0.108468838036060,-0.054534580558538,-0.152337893843651,-0.046802274882793,-0.164225935935974,0.043238449841738,-0.063167497515678,-0.139053300023079,0.057423859834671,-0.025911601260304));
res += mul(Get(s2,-dx,dy), float4x4(-0.009067743085325,0.012964914552867,0.249115854501724,0.026191748678684,0.077541507780552,-0.118588797748089,-0.067461825907230,0.077340677380562,0.105427511036396,-0.217153087258339,-0.151913449168205,-0.132418766617775,-0.052656985819340,-0.031459130346775,0.041197959333658,0.011683683842421));
res += mul(Get(s2,0,-dy), float4x4(0.056061819195747,0.008353090845048,0.079457432031631,-0.141927808523178,0.094180785119534,0.154916062951088,-0.087436422705650,-0.070367112755775,0.044877231121063,0.035171661525965,0.071214370429516,0.078228510916233,0.011570959351957,0.030222617089748,0.019722396507859,-0.127614572644234));
res += mul(Get(s2,0,0), float4x4(0.119196161627769,0.067002847790718,0.108813174068928,-0.062677606940269,0.065716490149498,-0.305753439664841,-0.077210418879986,0.001708502415568,0.132676616311073,-0.330875813961029,0.203019812703133,-0.022218171507120,0.002075758995488,0.091600984334946,-0.010296822525561,0.012044086121023));
res += mul(Get(s2,0,dy), float4x4(-0.052024841308594,0.035800233483315,-0.153455123305321,0.114438250660896,-0.177538156509399,0.073453679680824,0.058121148496866,0.083909355103970,0.042753268033266,-0.005973542109132,-0.079436697065830,0.257738113403320,0.259626030921936,-0.258155554533005,-0.027786185964942,-0.022470435127616));
res += mul(Get(s2,dx,-dy), float4x4(0.010318823158741,-0.002664007712156,0.020612943917513,0.049796354025602,-0.008188570849597,0.041159037500620,-0.083232887089252,-0.088315583765507,-0.051320955157280,0.003867913968861,-0.008390940725803,0.007463121786714,0.305369794368744,-0.105889417231083,0.047702874988317,0.149735331535339));
res += mul(Get(s2,dx,0), float4x4(-0.108192048966885,0.045080460608006,-0.266090154647827,0.069874748587608,0.054634202271700,0.045839071273804,0.158630043268204,-0.069887146353722,0.194144383072853,0.095109917223454,0.073088407516479,0.095157742500305,-0.057123992592096,0.075507365167141,-0.176910728216171,-0.085553549230099));
res += mul(Get(s2,dx,dy), float4x4(-0.065930441021919,0.093741491436958,-0.019303623586893,0.208215445280075,0.172340020537376,-0.059808239340782,-0.120072543621063,-0.006010725162923,0.046175379306078,0.004385217558593,0.024011323228478,-0.228688061237335,-0.145653665065765,-0.105030596256256,0.031855106353760,0.039792675524950));
res += mul(Get(s3,-dx,-dy), float4x4(-0.192581221461296,0.064129188656807,-0.048960916697979,0.082099512219429,0.076436400413513,-0.159556224942207,-0.006774169858545,-0.185365200042725,0.209648936986923,0.068616904318333,-0.109095707535744,0.179250806570053,-0.066352255642414,0.243245199322701,-0.030124673619866,-0.077896013855934));
res += mul(Get(s3,-dx,0), float4x4(0.041690077632666,0.137744486331940,0.029821848496795,0.242291688919067,-0.006529322825372,0.001009109779261,0.191028207540512,0.211813122034073,0.226231962442398,0.153899371623993,-0.032105248421431,0.033731687813997,0.072261862456799,0.114569306373596,-0.065029181540012,-0.009781376458704));
res += mul(Get(s3,-dx,dy), float4x4(0.084446221590042,-0.127812311053276,-0.239757850766182,0.045126851648092,0.044962730258703,0.160275280475616,-0.055754914879799,0.252986401319504,0.079304426908493,-0.086062021553516,0.121988378465176,0.308406293392181,0.065250657498837,-0.095971107482910,-0.050387986004353,0.099170885980129));
res += mul(Get(s3,0,-dy), float4x4(-0.052175555378199,0.025281364098191,0.040037732571363,0.070143006742001,0.000271692988463,0.037447772920132,-0.110225297510624,-0.068288609385490,-0.062986329197884,0.012569081038237,0.047076649963856,0.026522325351834,0.076250404119492,-0.019847324118018,-0.029462948441505,-0.145854294300079));
res += mul(Get(s3,0,0), float4x4(-0.213653877377510,-0.018953628838062,0.017855606973171,0.145346209406853,-0.273701369762421,0.220628708600998,-0.013192631304264,-0.216705769300461,0.084073975682259,0.129492998123169,-0.093625910580158,0.126357659697533,-0.046042028814554,-0.031407609581947,-0.081259004771709,-0.000325722561684));
res += mul(Get(s3,0,dy), float4x4(-0.097749918699265,-0.190619349479675,0.177998423576355,-0.099651694297791,0.148049384355545,0.004659456200898,0.036134328693151,-0.061809588223696,0.112610697746277,0.073710963129997,0.077155344188213,0.019304627552629,-0.173550397157669,-0.109857186675072,0.124885432422161,-0.000103343845694));
res += mul(Get(s3,dx,-dy), float4x4(0.067296065390110,-0.220046699047089,-0.218841999769211,0.013531131669879,-0.124504260718822,-0.102788619697094,-0.023929893970490,0.073828823864460,0.086964741349220,-0.116593673825264,-0.145754024386406,-0.140887528657913,-0.142123311758041,0.023705815896392,0.066727697849274,-0.021985678002238));
res += mul(Get(s3,dx,0), float4x4(-0.042874004691839,-0.039252083748579,0.157392665743828,0.043378408998251,0.055076684802771,0.099074959754944,-0.006808399222791,0.035365816205740,-0.063831999897957,-0.088714152574539,-0.004983865655959,0.180658638477325,-0.284662842750549,0.120410822331905,-0.098819784820080,-0.140270426869392));
res += mul(Get(s3,dx,dy), float4x4(0.044271886348724,0.006648972164840,-0.167515873908997,-0.067107938230038,-0.122894302010536,-0.114007532596588,-0.127999648451805,-0.017683915793896,-0.066334560513496,-0.144647032022476,0.102276392281055,0.207873091101646,-0.032336857169867,-0.145525455474854,0.153859257698059,0.065317481756210));
return max(float4(0,0,0,0), res);
}
