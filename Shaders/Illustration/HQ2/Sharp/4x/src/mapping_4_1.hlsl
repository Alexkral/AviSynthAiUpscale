sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.301509439945221,0.161665946245193,0.280552148818970,0.020887970924377,-0.012270309031010,-0.099117830395699,-0.187125056982040,0.061031028628349,0.099449768662453,-0.090840421617031,-0.028433226048946,-0.057093136012554,0.021416263654828,0.104976542294025,-0.043202236294746,0.129887446761131));
res += mul(Get(s0,-dx,0), float4x4(0.102129317820072,0.142765030264854,-0.055401671677828,0.047330565750599,0.012003617361188,-0.295985817909241,-0.155137300491333,0.135974675416946,0.112922251224518,0.012712339870632,0.049517877399921,-0.301381766796112,-0.237475365400314,-0.096313126385212,-0.074262835085392,-0.066305935382843));
res += mul(Get(s0,-dx,dy), float4x4(-0.075705662369728,-0.099404536187649,0.028523957356811,0.031243089586496,0.229108363389969,0.073127962648869,-0.202135533094406,0.127172738313675,0.017005983740091,0.048853754997253,0.011304978281260,0.082831159234047,0.085280388593674,0.020409174263477,-0.138461187481880,-0.038512255996466));
res += mul(Get(s0,0,-dy), float4x4(0.247824817895889,0.034153293818235,-0.038939714431763,-0.163249596953392,0.115678355097771,-0.070964485406876,0.117592804133892,0.094305142760277,0.087138369679451,-0.028125667944551,-0.055943649262190,-0.136978134512901,-0.086863048374653,-0.046326711773872,0.006471725646406,0.084194779396057));
res += mul(Get(s0,0,0), float4x4(-0.159454524517059,-0.087575234472752,0.087487824261189,0.121322408318520,0.046928118914366,0.053499888628721,-0.147753283381462,0.273617267608643,0.019864277914166,0.045665547251701,-0.031454570591450,-0.014331593178213,0.139105781912804,0.215146377682686,0.072316996753216,0.064486317336559));
res += mul(Get(s0,0,dy), float4x4(-0.219162583351135,-0.029492698609829,0.068373888731003,-0.005259585566819,0.041117385029793,0.055122099816799,0.207188084721565,-0.360118210315704,-0.190514206886292,0.003848827211186,0.053112030029297,-0.077745951712132,0.013969847001135,0.080207794904709,0.042803596705198,0.029450612142682));
res += mul(Get(s0,dx,-dy), float4x4(-0.063694760203362,-0.103390686213970,0.031099360436201,0.024009369313717,0.109675534069538,0.034806825220585,-0.024601129814982,-0.125504806637764,-0.073477774858475,-0.145159170031548,-0.158445581793785,0.048407208174467,-0.178009152412415,-0.123794779181480,-0.001979077467695,-0.051392719149590));
res += mul(Get(s0,dx,0), float4x4(0.050983820110559,-0.045419897884130,-0.015475349500775,0.162880018353462,-0.071184799075127,0.086524680256844,0.015204920433462,-0.228097602725029,-0.223241388797760,-0.075029894709587,0.011953227221966,0.028441168367863,-0.179478302598000,-0.047911360859871,-0.042597193270922,-0.142394766211510));
res += mul(Get(s0,dx,dy), float4x4(0.049423236399889,-0.029529096558690,0.135528638958931,0.079508103430271,-0.092370800673962,0.043549291789532,-0.068691767752171,-0.054546944797039,0.085787370800972,0.082837998867035,0.015337385237217,0.078320622444153,0.033567648380995,0.122377626597881,0.153171196579933,0.097766362130642));
res += mul(Get(s1,-dx,-dy), float4x4(-0.252296000719070,-0.142744198441505,0.066441297531128,-0.011231624521315,0.096706897020340,-0.070502586662769,0.048078026622534,0.121630489826202,0.186880871653557,0.254530340433121,-0.051604863256216,0.021742438897491,-0.052594520151615,-0.057586528360844,-0.138502672314644,-0.069921940565109));
res += mul(Get(s1,-dx,0), float4x4(-0.056268841028214,0.103757180273533,-0.000078181954450,-0.269921392202377,-0.051860958337784,-0.198567315936089,0.008733773604035,-0.012474539689720,-0.017801797017455,0.116104751825333,-0.037588130682707,-0.114186778664589,-0.112557910382748,0.133982405066490,0.146188646554947,-0.129300236701965));
res += mul(Get(s1,-dx,dy), float4x4(0.044888257980347,-0.133827179670334,0.163850709795952,-0.037149515002966,-0.244021356105804,-0.040392320603132,0.075398273766041,0.028692251071334,-0.019407751038671,0.170554950833321,-0.049061771482229,-0.126746416091919,0.083957560360432,0.046938519924879,-0.003647864796221,-0.047032184898853));
res += mul(Get(s1,0,-dy), float4x4(0.040858298540115,0.141990005970001,-0.119454167783260,-0.069412566721439,-0.278377205133438,-0.020061904564500,-0.044447094202042,0.033581428229809,-0.158993557095528,-0.072061963379383,0.105951212346554,-0.041721761226654,0.251156240701675,0.008235106244683,0.059394955635071,-0.011425209231675));
res += mul(Get(s1,0,0), float4x4(-0.167716473340988,0.157556563615799,-0.035340145230293,0.018238628283143,-0.022879404947162,-0.174883723258972,0.066500782966614,0.083067379891872,-0.135474279522896,-0.038281708955765,-0.012478751130402,-0.143400087952614,-0.036805626004934,0.230448260903358,-0.035831846296787,0.002139668446034));
res += mul(Get(s1,0,dy), float4x4(-0.022389536723495,-0.190438911318779,-0.135332569479942,0.202246263623238,0.124308139085770,-0.024924628436565,-0.062303155660629,-0.005219276994467,-0.013876575976610,-0.105220191180706,0.006569051183760,-0.037154700607061,-0.013278209604323,-0.092394903302193,0.005160364788026,-0.054606478661299));
res += mul(Get(s1,dx,-dy), float4x4(-0.109703414142132,0.022880481556058,-0.085986815392971,0.073556981980801,0.014948636293411,0.071060359477997,0.078174851834774,0.085481174290180,-0.027408964931965,-0.096234261989594,-0.090884417295456,0.001660388195887,0.203722953796387,-0.031030351296067,0.138999491930008,0.189091563224792));
res += mul(Get(s1,dx,0), float4x4(0.209515973925591,0.048073105514050,0.000257166480878,0.055251207202673,-0.030711418017745,-0.129091501235962,0.093070067465305,0.092087715864182,0.076769620180130,0.147996664047241,-0.084172807633877,-0.187969103455544,-0.254515528678894,-0.034151285886765,-0.025380114093423,-0.034142870455980));
res += mul(Get(s1,dx,dy), float4x4(-0.133432060480118,-0.038847219198942,0.043852433562279,-0.048503138124943,0.089948303997517,-0.051587823778391,-0.143932625651360,0.100632101297379,-0.143031552433968,0.053311616182327,-0.014962136745453,0.012946162372828,-0.152504339814186,0.115322776138783,-0.022552737966180,0.177730947732925));
res += mul(Get(s2,-dx,-dy), float4x4(0.053518630564213,0.163094446063042,-0.040136825293303,-0.026689799502492,0.063288271427155,0.016143364831805,0.214372724294662,0.108451932668686,0.027523063123226,-0.041344787925482,-0.202001675963402,0.159004643559456,0.088347971439362,0.094135232269764,-0.178130000829697,0.014300489798188));
res += mul(Get(s2,-dx,0), float4x4(-0.042065709829330,-0.207214817404747,-0.158241301774979,0.029370740056038,-0.032160211354494,-0.056350801140070,0.007643499877304,-0.096267111599445,0.088792011141777,0.081738181412220,0.002838078653440,-0.118800118565559,-0.055550407618284,-0.094312809407711,-0.061281565576792,0.193165287375450));
res += mul(Get(s2,-dx,dy), float4x4(0.086911320686340,-0.185272201895714,0.086199000477791,0.087569013237953,-0.110336713492870,0.024366242811084,0.122622370719910,-0.085058912634850,0.040543265640736,0.071288876235485,-0.031014388427138,0.110656104981899,-0.151156708598137,-0.156133174896240,-0.105332471430302,0.066231839358807));
res += mul(Get(s2,0,-dy), float4x4(0.053013499826193,-0.075218744575977,-0.018062395974994,0.120457336306572,0.176896944642067,-0.052915532141924,0.031465470790863,0.071551933884621,-0.135663419961929,0.080938100814819,-0.105378784239292,0.017040167003870,0.109957471489906,0.069822303950787,-0.044890254735947,0.006032051984221));
res += mul(Get(s2,0,0), float4x4(0.205215185880661,0.111260779201984,-0.008630273863673,0.007262521423399,-0.017243746668100,0.016742803156376,0.015545138157904,0.028484961017966,0.021934602409601,-0.264735400676727,0.025461325421929,0.059796109795570,0.006446626503021,-0.148375064134598,0.009497092105448,0.186959460377693));
res += mul(Get(s2,0,dy), float4x4(0.024299195036292,0.212995007634163,0.027970848605037,0.036215070635080,-0.097711861133575,-0.028095703572035,-0.034505292773247,0.135394215583801,0.094017975032330,0.001434755627997,0.027873814105988,0.284449815750122,-0.005680288653821,0.084711246192455,-0.155488952994347,0.056892506778240));
res += mul(Get(s2,dx,-dy), float4x4(0.238750025629997,-0.122023195028305,0.023954907432199,0.021381681784987,-0.013609790243208,-0.061014156788588,-0.075132548809052,-0.077518939971924,-0.116039924323559,-0.104280628263950,-0.144515857100487,-0.035650558769703,0.009808007627726,0.111769676208496,-0.169823825359344,-0.284679442644119));
res += mul(Get(s2,dx,0), float4x4(-0.131298825144768,0.061342529952526,-0.218771338462830,-0.010719639249146,-0.076603397727013,0.175383761525154,0.004152026958764,0.121693909168243,-0.150635838508606,0.081271022558212,0.212938770651817,-0.127123117446899,-0.044601388275623,0.210023298859596,0.027382450178266,0.160325512290001));
res += mul(Get(s2,dx,dy), float4x4(-0.016852324828506,0.004355509765446,0.029517499729991,0.026374915614724,-0.057669274508953,0.445989936590195,0.091767773032188,0.031899500638247,-0.100795105099678,-0.061883762478828,-0.086673095822334,-0.092574954032898,-0.122328042984009,0.158633425831795,0.018235066905618,-0.172897949814796));
res += mul(Get(s3,-dx,-dy), float4x4(0.029496977105737,0.038487885147333,0.043387625366449,0.034083295613527,0.081626191735268,0.149116814136505,-0.084126971662045,0.055834140628576,0.020292643457651,-0.192853495478630,0.102040141820908,-0.004045750014484,0.076355673372746,-0.087539643049240,-0.208917662501335,-0.029128765687346));
res += mul(Get(s3,-dx,0), float4x4(-0.254383504390717,-0.038245916366577,0.004348695743829,0.048712573945522,-0.207584202289581,0.053070154041052,0.002904125489295,-0.118358656764030,-0.061242058873177,0.052808519452810,0.135042816400528,0.244851887226105,-0.074537605047226,-0.101711474359035,-0.175543978810310,0.062658280134201));
res += mul(Get(s3,-dx,dy), float4x4(-0.119837448000908,-0.014592041261494,0.121961943805218,0.084521889686584,-0.191820576786995,-0.087214171886444,-0.007603100035340,0.097624003887177,-0.035083372145891,0.263362735509872,-0.047432713210583,-0.022885505110025,0.004054574761540,0.000904407585040,0.101004488766193,0.062229014933109));
res += mul(Get(s3,0,-dy), float4x4(-0.105062067508698,-0.005455640144646,0.072717368602753,-0.075824610888958,-0.101731665432453,-0.014333174563944,-0.047553002834320,0.190421581268311,-0.013495979830623,0.133502423763275,0.044900629669428,-0.101614452898502,0.187762364745140,0.129716947674751,-0.063889376819134,-0.020694216713309));
res += mul(Get(s3,0,0), float4x4(-0.003626727033406,-0.269181430339813,-0.237436354160309,-0.072870634496212,-0.061111513525248,0.086685620248318,-0.168217077851295,0.019867463037372,0.219407975673676,0.193122968077660,-0.130922615528107,0.074747152626514,-0.110126517713070,0.020545441657305,0.008321539498866,-0.011834547854960));
res += mul(Get(s3,0,dy), float4x4(-0.098666332662106,0.068266697227955,-0.033188186585903,-0.060931783169508,-0.106686681509018,-0.366669327020645,-0.001868449500762,-0.049182917922735,0.007148301228881,0.087540552020073,0.023339252918959,-0.187370717525482,0.039047610014677,-0.022138293832541,-0.004184413235635,-0.125937029719353));
res += mul(Get(s3,dx,-dy), float4x4(0.127229422330856,0.050775837153196,-0.289376050233841,0.051814105361700,0.116968996822834,-0.093381367623806,0.186639383435249,0.063833013176918,-0.009231267496943,-0.139453545212746,-0.027616867795587,0.092578783631325,0.256082803010941,0.019388692453504,0.198146656155586,0.142218470573425));
res += mul(Get(s3,dx,0), float4x4(0.002190231811255,0.145217850804329,-0.028549859300256,-0.078696899116039,-0.046421866863966,0.014602727256715,0.058470640331507,0.052683196961880,-0.054205115884542,-0.208715856075287,-0.038780819624662,-0.023701895028353,-0.162478983402252,0.171951696276665,0.006689698435366,0.031832270324230));
res += mul(Get(s3,dx,dy), float4x4(0.048192348331213,0.073443748056889,-0.129729509353638,-0.187516629695892,-0.152691394090652,0.011927808634937,0.052447993308306,0.135039791464806,-0.187995254993439,0.083884783089161,0.017893152311444,0.250768065452576,0.095594070851803,0.151588767766953,-0.128814384341240,-0.095862738788128));
return max(float4(0,0,0,0), res);
}
