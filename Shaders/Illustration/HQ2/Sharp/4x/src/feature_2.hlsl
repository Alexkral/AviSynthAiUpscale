sampler s0 : register(s0);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(x, y)   tex2D(s0, tex + float2(x, y))[0]

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += float4(0.055210448801517,-0.037962190806866,0.129550203680992,0.069016925990582) * Get(-dx,-dy);
res += float4(-0.310103237628937,-0.012731117196381,-0.067010797560215,-0.082890726625919) * Get(-dx,0);
res += float4(-0.148645445704460,0.071403190493584,-0.038957078009844,-0.236865103244781) * Get(-dx,dy);
res += float4(0.001221248647198,0.102891989052296,0.189443841576576,-0.040363509207964) * Get(0,-dy);
res += float4(0.305245369672775,-0.247780889272690,0.053087271749973,-0.190121680498123) * Get(0,0);
res += float4(0.110014766454697,-0.019632160663605,-0.174122303724289,0.110558852553368) * Get(0,dy);
res += float4(0.171767562627792,-0.006250054109842,0.079282313585281,0.188315317034721) * Get(dx,-dy);
res += float4(-0.101916454732418,-0.094144806265831,-0.110709942877293,0.086455695331097) * Get(dx,0);
res += float4(-0.001954891718924,0.129083573818207,0.026550907641649,0.191146314144135) * Get(dx,dy);
return max(float4(0,0,0,0), res);
}
