sampler s0 : register(s0);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(x, y)   tex2D(s0, tex + float2(x, y))[0]

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += float4(0.136652320623398,0.072622217237949,-0.105156049132347,-0.091598533093929) * Get(-dx,-dy);
res += float4(-0.258373349905014,0.097448706626892,0.144239336252213,0.122063629329205) * Get(-dx,0);
res += float4(0.105154246091843,0.203115597367287,-0.146598875522614,-0.183224648237228) * Get(-dx,dy);
res += float4(-0.017321625724435,0.050409410148859,-0.025811484083533,-0.059691555798054) * Get(0,-dy);
res += float4(-0.021565923467278,-0.116961240768433,0.203414604067802,0.122728817164898) * Get(0,0);
res += float4(0.070656254887581,0.046969868242741,-0.104513809084892,0.112359695136547) * Get(0,dy);
res += float4(0.047543767839670,-0.130595251917839,-0.157053306698799,-0.097120583057404) * Get(dx,-dy);
res += float4(-0.116044826805592,-0.107207901775837,-0.008585995063186,-0.143581658601761) * Get(dx,0);
res += float4(-0.035470362752676,-0.063226796686649,-0.187247633934021,-0.092497266829014) * Get(dx,dy);
return max(float4(0,0,0,0), res);
}
