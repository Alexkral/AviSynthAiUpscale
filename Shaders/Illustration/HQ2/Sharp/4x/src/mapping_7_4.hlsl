sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.052168391644955,-0.090279780328274,0.010017707943916,-0.022489326074719,0.108465231955051,0.149534344673157,0.020782630890608,0.047174204140902,0.023015584796667,0.046238280832767,-0.038301642984152,0.080613255500793,-0.001732961274683,-0.170875996351242,-0.102764196693897,0.074217826128006));
res += mul(Get(s0,-dx,0), float4x4(0.145099624991417,0.170915096998215,0.024318763986230,0.081810534000397,0.028785455971956,-0.040691774338484,-0.002334079938009,-0.037271704524755,-0.111507341265678,0.042899399995804,0.121600553393364,-0.156240791082382,0.094859734177589,-0.052920229732990,-0.160249769687653,-0.125983864068985));
res += mul(Get(s0,-dx,dy), float4x4(0.042640410363674,-0.080037482082844,0.132640302181244,-0.135441496968269,0.062237933278084,-0.001210785005242,-0.303289800882339,0.084560811519623,-0.060308463871479,-0.111824288964272,0.228035479784012,0.014070237055421,-0.143019869923592,-0.062857240438461,0.002966227009892,0.018889354541898));
res += mul(Get(s0,0,-dy), float4x4(-0.010864694602787,0.110295407474041,0.077357992529869,0.115010514855385,-0.097308978438377,-0.044091016054153,0.159569457173347,0.107892811298370,0.249539837241173,-0.174997001886368,-0.088960498571396,0.080688163638115,0.153784036636353,-0.024640981107950,-0.069947779178619,0.021485576406121));
res += mul(Get(s0,0,0), float4x4(-0.021429015323520,0.044887188822031,-0.091852344572544,-0.352573871612549,0.165709987282753,0.061034806072712,-0.033493332564831,0.048609275370836,-0.160564363002777,0.085966832935810,-0.038788430392742,-0.142116755247116,0.089849129319191,-0.011939479969442,0.027499612420797,-0.024269698187709));
res += mul(Get(s0,0,dy), float4x4(-0.099141500890255,0.005679846741259,-0.092975236475468,0.068390965461731,0.055578246712685,-0.212843716144562,-0.006133347749710,0.117619365453720,0.062730818986893,-0.055163465440273,0.000660092395265,-0.086772836744785,-0.006540055386722,-0.059820018708706,0.085342004895210,0.019437119364738));
res += mul(Get(s0,dx,-dy), float4x4(0.046527735888958,0.007561329752207,0.018989386036992,-0.171373531222343,-0.039690401405096,-0.082333594560623,-0.098701074719429,0.116019278764725,-0.075094260275364,0.029730765148997,-0.054930310696363,0.023032439872622,0.171722009778023,-0.109938375651836,0.108626499772072,-0.022254116833210));
res += mul(Get(s0,dx,0), float4x4(0.137873739004135,0.044641707092524,0.170641630887985,-0.091308534145355,0.052481804043055,-0.004244093317538,0.006725469138473,-0.088169761002064,-0.009838325902820,-0.040872499346733,-0.064427159726620,-0.174888953566551,0.072570107877254,0.068180903792381,-0.170667394995689,-0.216608375310898));
res += mul(Get(s0,dx,dy), float4x4(0.175852179527283,0.072821810841560,0.132887870073318,-0.108548447489738,-0.169527098536491,0.167019024491310,0.106491088867188,-0.143717348575592,-0.156932935118675,0.062731161713600,-0.057941231876612,0.030617577955127,0.048350751399994,0.018567392602563,-0.114157058298588,-0.119396924972534));
res += mul(Get(s1,-dx,-dy), float4x4(0.023042844608426,0.024084268137813,0.083365745842457,0.083253405988216,-0.082583166658878,-0.444105595350266,-0.087810650467873,-0.125300690531731,0.033924840390682,-0.209300771355629,0.111623086035252,0.033864863216877,-0.176992222666740,0.071361027657986,-0.117486186325550,-0.075178168714046));
res += mul(Get(s1,-dx,0), float4x4(0.093873500823975,0.175082787871361,-0.014626458287239,-0.059434082359076,-0.155843243002892,0.017024593427777,-0.024042507633567,-0.193750500679016,0.152710333466530,-0.149604752659798,-0.084287717938423,-0.108001239597797,-0.066786780953407,-0.093440972268581,-0.145767167210579,-0.028107006102800));
res += mul(Get(s1,-dx,dy), float4x4(-0.021901765838265,0.038505326956511,0.011967664584517,-0.401045322418213,0.020297974348068,-0.091918408870697,0.071443788707256,-0.031355749815702,-0.079441510140896,-0.101837337017059,-0.067513145506382,0.004366822540760,0.019233625382185,0.111314579844475,-0.096091985702515,0.035429887473583));
res += mul(Get(s1,0,-dy), float4x4(0.059443555772305,-0.013431584462523,0.012017080560327,0.058671779930592,0.140824303030968,0.090410016477108,0.147879645228386,-0.027194846421480,0.055886242538691,0.005299431271851,0.087607555091381,-0.050939250737429,0.068116828799248,0.086856581270695,0.100043833255768,-0.073497682809830));
res += mul(Get(s1,0,0), float4x4(-0.232336044311523,-0.118234634399414,0.071512341499329,-0.001339565147646,-0.024881601333618,-0.011140829883516,0.139700397849083,-0.100343801081181,-0.045905988663435,-0.046173013746738,0.085470885038376,0.049404677003622,-0.012148730456829,0.011528719216585,-0.069737024605274,0.175746500492096));
res += mul(Get(s1,0,dy), float4x4(0.050187826156616,0.014663201756775,0.082844078540802,0.057528268545866,-0.315444886684418,-0.073498740792274,-0.082526691257954,0.196159198880196,-0.082375988364220,0.026399055495858,-0.052172817289829,-0.163315862417221,0.065265975892544,0.061664346605539,0.018055783584714,-0.100246563553810));
res += mul(Get(s1,dx,-dy), float4x4(-0.050926890224218,-0.128227904438972,-0.040809549391270,0.179235592484474,0.039183944463730,0.055423732846975,0.178851455450058,-0.012773822061718,0.105192460119724,0.076914936304092,0.009980337694287,-0.057899203151464,-0.107703559100628,-0.236528828740120,0.178554400801659,0.095922239124775));
res += mul(Get(s1,dx,0), float4x4(-0.102256529033184,0.017763957381248,0.005748631432652,0.071576006710529,-0.060858562588692,-0.132912620902061,-0.148593634366989,0.102254554629326,0.002382752485573,-0.017026755958796,-0.026629930362105,-0.035468701273203,0.121150694787502,0.149220719933510,-0.038232408463955,0.026657575741410));
res += mul(Get(s1,dx,dy), float4x4(-0.071434795856476,0.239542230963707,0.236754596233368,0.048817735165358,-0.030686486512423,-0.227695286273956,-0.133328273892403,-0.072075024247169,0.098269775509834,-0.169954031705856,-0.233235046267509,0.080892235040665,-0.002897112863138,0.113038077950478,-0.260365456342697,0.019635794684291));
res += mul(Get(s2,-dx,-dy), float4x4(-0.174448832869530,-0.024037173017859,0.028208279982209,0.018019886687398,0.153773784637451,-0.237134873867035,-0.065752424299717,-0.006991759408265,-0.078753165900707,-0.098379142582417,0.203735128045082,0.012809720821679,-0.154799744486809,-0.091726772487164,-0.031464718282223,0.044953245669603));
res += mul(Get(s2,-dx,0), float4x4(0.014377579092979,0.103526771068573,0.138998761773109,0.068665243685246,-0.140155255794525,-0.065935574471951,-0.092699468135834,-0.081454679369926,-0.003637733403593,0.044431000947952,0.047649547457695,-0.021258367225528,-0.045615874230862,-0.058948814868927,-0.104143954813480,0.054426636546850));
res += mul(Get(s2,-dx,dy), float4x4(-0.046735048294067,0.074222944676876,-0.096136957406998,-0.187806367874146,0.026828030124307,-0.262062668800354,0.133994206786156,-0.171883672475815,-0.037058934569359,0.029724614694715,-0.029508279636502,0.017514662817121,-0.088223479688168,0.099494725465775,0.111480288207531,-0.017248690128326));
res += mul(Get(s2,0,-dy), float4x4(0.199601694941521,-0.122225955128670,-0.139491885900497,0.070984438061714,-0.060388140380383,-0.128400206565857,0.064060226082802,0.052513945847750,0.118124373257160,-0.012310280464590,-0.056693792343140,-0.162218466401100,-0.052732087671757,0.173913836479187,-0.191003680229187,-0.121637463569641));
res += mul(Get(s2,0,0), float4x4(0.086495809257030,0.045415271073580,0.008406539447606,0.064351499080658,0.027098713442683,0.057285495102406,0.092864058911800,0.055276487022638,0.133624225854874,-0.023027580231428,-0.056193254888058,-0.047489855438471,-0.132777273654938,-0.074120424687862,0.006463616620749,-0.042392451316118));
res += mul(Get(s2,0,dy), float4x4(-0.051127880811691,-0.150575533509254,-0.170493260025978,0.150854885578156,0.047287467867136,0.043514382094145,0.023280546069145,-0.017999907955527,-0.018265355378389,-0.066824659705162,-0.042113881558180,0.163202509284019,0.105638273060322,0.199888691306114,-0.091084033250809,0.108825542032719));
res += mul(Get(s2,dx,-dy), float4x4(0.015626382082701,0.028836784884334,-0.004227093886584,0.006333531811833,0.116924658417702,0.166032224893570,0.032596740871668,-0.121789805591106,-0.257971882820129,-0.052625540643930,-0.008839962072670,0.091715931892395,0.120827078819275,-0.015766130760312,0.004957542754710,-0.146557703614235));
res += mul(Get(s2,dx,0), float4x4(0.050016421824694,0.037087500095367,0.143832892179489,0.096668437123299,0.075466021895409,0.176335692405701,-0.098203003406525,-0.099978469312191,-0.143699169158936,-0.013831690885127,0.144656360149384,0.083142042160034,0.005000451579690,0.009784795343876,-0.037158038467169,-0.010816976428032));
res += mul(Get(s2,dx,dy), float4x4(0.036812067031860,-0.109019316732883,-0.027835367247462,-0.176090791821480,0.095966733992100,0.023595239967108,0.124888226389885,0.064515031874180,0.071046970784664,0.113811209797859,-0.120091252028942,-0.057957116514444,-0.139646038413048,-0.017503848299384,0.043803036212921,-0.078749209642410));
res += mul(Get(s3,-dx,-dy), float4x4(0.019666507840157,0.052167512476444,-0.147351861000061,0.020065328106284,-0.153382584452629,0.148025795817375,-0.033249266445637,-0.113067820668221,0.094994857907295,-0.034912697970867,0.275692075490952,-0.150636866688728,0.035676494240761,-0.054682102054358,-0.152135342359543,-0.140149101614952));
res += mul(Get(s3,-dx,0), float4x4(-0.121312119066715,-0.156622722744942,0.186702400445938,0.034716356545687,-0.066664807498455,-0.043168682605028,0.008990162052214,0.264789342880249,-0.068808160722256,0.085494890809059,0.188954859972000,-0.049254082143307,-0.013697693124413,0.096624389290810,0.101019598543644,-0.042141851037741));
res += mul(Get(s3,-dx,dy), float4x4(0.005111213307828,0.010856304317713,-0.012398759834468,-0.133012264966965,-0.019604424014688,0.135679751634598,-0.224090754985809,-0.079837895929813,0.082784652709961,-0.044069990515709,0.059187944978476,0.154013574123383,-0.181770175695419,-0.034248594194651,0.140174612402916,-0.104927532374859));
res += mul(Get(s3,0,-dy), float4x4(-0.225253358483315,-0.038938906043768,-0.135684356093407,-0.051513336598873,-0.065255388617516,-0.006205389741808,-0.285105109214783,0.000289993884508,0.087820775806904,-0.042135883122683,-0.005973914172500,-0.219820201396942,0.102499589323997,-0.106852203607559,-0.010818133130670,-0.123858280479908));
res += mul(Get(s3,0,0), float4x4(-0.044687774032354,-0.049530804157257,0.086244180798531,0.100232362747192,0.096430599689484,0.043343331664801,0.083439774811268,0.219346910715103,-0.167401358485222,-0.113693848252296,-0.104728236794472,0.126226231455803,0.047982495278120,0.138410106301308,-0.267853558063507,-0.037703495472670));
res += mul(Get(s3,0,dy), float4x4(-0.039812393486500,-0.020735254511237,-0.023570550605655,-0.058638568967581,0.130190953612328,0.026684764772654,0.105648308992386,0.206059917807579,0.030899701640010,0.148369491100311,0.022655200213194,0.135217413306236,0.113980807363987,0.005021633580327,-0.226770922541618,-0.145352214574814));
res += mul(Get(s3,dx,-dy), float4x4(0.078497931361198,-0.223144859075546,0.009246224537492,0.175708472728729,-0.152560591697693,0.026704389601946,0.067210882902145,-0.025521013885736,-0.033813107758760,0.154517695307732,0.033762119710445,-0.105041801929474,0.097605697810650,0.109218433499336,-0.077178418636322,-0.001065716962330));
res += mul(Get(s3,dx,0), float4x4(0.035080406814814,-0.121834255754948,0.225443646311760,0.017033709213138,-0.129388555884361,-0.020587762817740,0.120646961033344,0.075343437492847,0.097226858139038,0.023756332695484,-0.032317120581865,0.050396293401718,-0.174709349870682,-0.103079877793789,0.125979900360107,-0.108184613287449));
res += mul(Get(s3,dx,dy), float4x4(0.139352545142174,-0.097312346100807,-0.121484458446503,0.021971017122269,-0.021209666505456,-0.159138739109039,-0.035291582345963,-0.180024862289429,-0.243942096829414,0.160305216908455,-0.079287551343441,-0.310371547937393,0.079775758087635,0.165468469262123,0.194752871990204,0.120746843516827));
return max(float4(0,0,0,0), res);
}
