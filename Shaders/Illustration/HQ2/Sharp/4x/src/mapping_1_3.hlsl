sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.205468907952309,0.011934382840991,0.123808018863201,0.041237231343985,0.064731553196907,-0.025113195180893,0.204855501651764,-0.055936388671398,-0.115406185388565,0.195068612694740,-0.015232951380312,0.053483203053474,0.107381403446198,-0.041127994656563,0.006695228163153,0.081521593034267));
res += mul(Get(s0,-dx,0), float4x4(0.093817368149757,0.146653309464455,0.009234595112503,-0.011982067488134,-0.070513166487217,-0.126878827810287,0.091156847774982,-0.173037618398666,-0.168324083089828,0.175013780593872,0.167821645736694,0.027787655591965,-0.071349479258060,0.033679384738207,0.068925842642784,0.119323745369911));
res += mul(Get(s0,-dx,dy), float4x4(0.109942227602005,-0.119312718510628,0.021487578749657,-0.069744832813740,0.065206073224545,0.011856374330819,-0.144612535834312,0.094891853630543,-0.177882522344589,-0.157040372490883,0.127717599272728,0.076811127364635,-0.053934272378683,0.098143011331558,-0.094899147748947,0.011951568536460));
res += mul(Get(s0,0,-dy), float4x4(0.088061980903149,0.153914391994476,-0.041148215532303,0.136271357536316,0.146122321486473,0.021387390792370,0.016293210908771,-0.066855311393738,0.023656081408262,-0.058923553675413,0.023058595135808,-0.104677945375443,-0.023434458300471,-0.107451096177101,0.097205758094788,-0.021869791671634));
res += mul(Get(s0,0,0), float4x4(-0.061197046190500,-0.123161889612675,-0.016496554017067,-0.093260996043682,-0.019849320873618,0.087675452232361,-0.034556839615107,0.072264879941940,-0.112165853381157,0.102312669157982,0.129661560058594,0.035188842564821,0.181212559342384,0.028721045702696,-0.054450638592243,-0.012430832721293));
res += mul(Get(s0,0,dy), float4x4(-0.096360430121422,0.070232748985291,0.020739233121276,0.103007107973099,0.084750548005104,-0.198185116052628,0.131726235151291,0.121188700199127,-0.047225333750248,0.088208988308907,-0.125480741262436,-0.104258693754673,0.316924184560776,0.104331895709038,0.084228426218033,-0.098037809133530));
res += mul(Get(s0,dx,-dy), float4x4(0.016148455440998,-0.074882566928864,-0.005005547776818,-0.017264874652028,0.065473489463329,0.101962767541409,-0.007487947121263,0.027568198740482,0.054947655647993,-0.006318026222289,-0.085422202944756,0.134234860539436,0.119651034474373,0.087105572223663,0.060803003609180,-0.024239191785455));
res += mul(Get(s0,dx,0), float4x4(-0.008577691391110,0.149123534560204,-0.196007698774338,-0.182293206453323,0.244500309228897,-0.044517185539007,0.043316256254911,-0.049327921122313,0.001082925475203,-0.116594597697258,-0.116527207195759,0.012471511028707,-0.385046929121017,-0.025565380230546,0.036346286535263,0.019309053197503));
res += mul(Get(s0,dx,dy), float4x4(-0.050424307584763,-0.008661511354148,0.120535038411617,-0.036069262772799,-0.197984069585800,0.067872762680054,-0.083567582070827,0.058490127325058,0.080927878618240,-0.090051963925362,-0.218884170055389,0.084074519574642,-0.217528745532036,0.122661851346493,0.071171112358570,-0.166210219264030));
res += mul(Get(s1,-dx,-dy), float4x4(0.102053984999657,0.031774479895830,0.026632044464350,-0.013898414559662,0.225196689367294,-0.066963553428650,-0.049784328788519,0.178666427731514,-0.220235198736191,-0.073221780359745,-0.122086070477962,0.132284134626389,0.072536103427410,0.127623036503792,-0.059248305857182,-0.033116903156042));
res += mul(Get(s1,-dx,0), float4x4(0.105739496648312,0.074006706476212,-0.045259129256010,-0.130055651068687,-0.185059949755669,-0.065327130258083,0.133474454283714,-0.172456040978432,0.117337264120579,0.066220067441463,-0.080401651561260,0.081066139042377,0.177287057042122,0.050736717879772,-0.082992061972618,-0.030983837321401));
res += mul(Get(s1,-dx,dy), float4x4(-0.095256946980953,0.034014008939266,0.038883663713932,0.169142901897430,-0.157307907938957,0.225383132696152,0.079700887203217,0.132603883743286,0.028294507414103,-0.014509323984385,0.222650364041328,-0.005746197421104,-0.166512250900269,0.030982393771410,0.146998032927513,0.112932123243809));
res += mul(Get(s1,0,-dy), float4x4(-0.030535938218236,0.030663749203086,-0.064012564718723,0.073478959500790,0.026139404624701,0.309465855360031,0.020672269165516,0.047734502702951,-0.085674181580544,0.060973413288593,0.012365758419037,0.110666088759899,-0.087037481367588,-0.168546959757805,0.051971193403006,-0.040368221700191));
res += mul(Get(s1,0,0), float4x4(-0.034993465989828,-0.007968853227794,-0.110729373991489,0.172158285975456,0.058283988386393,0.047184571623802,-0.055333398282528,0.109924741089344,0.170351222157478,0.016385512426496,0.014977673999965,-0.116045787930489,0.144427239894867,-0.059845931828022,-0.036994982510805,-0.171829849481583));
res += mul(Get(s1,0,dy), float4x4(0.339002579450607,0.044416524469852,0.107505545020103,-0.103355117142200,0.016392190009356,-0.139422670006752,-0.166089355945587,-0.145732134580612,0.090009801089764,0.013199492357671,0.017420392483473,-0.022057589143515,0.099079772830009,-0.173565044999123,-0.158099353313446,-0.104011103510857));
res += mul(Get(s1,dx,-dy), float4x4(-0.069848157465458,-0.077332362532616,-0.156886339187622,0.171083956956863,-0.079692445695400,0.111279159784317,0.185195401310921,-0.089900605380535,-0.115923605859280,0.143198356032372,0.047781690955162,-0.110366448760033,-0.168352767825127,0.131294190883636,-0.100049763917923,-0.145191729068756));
res += mul(Get(s1,dx,0), float4x4(0.251080840826035,0.007051359396428,0.071125343441963,0.133803620934486,-0.017498169094324,0.092986270785332,0.001470666378736,-0.231142699718475,0.218479692935944,-0.045732963830233,-0.120302669703960,0.038068242371082,0.097376622259617,-0.065201841294765,-0.119759105145931,0.064161680638790));
res += mul(Get(s1,dx,dy), float4x4(0.115520499646664,-0.015292620286345,0.024085657671094,-0.244485169649124,0.147941350936890,0.056203171610832,-0.160881996154785,0.292005211114883,-0.085696533322334,-0.023799095302820,0.091996051371098,0.085076071321964,0.164282694458961,0.073923736810684,-0.058740664273500,-0.001372890663333));
res += mul(Get(s2,-dx,-dy), float4x4(-0.091485552489758,-0.032358087599277,0.129350945353508,-0.023911282420158,-0.113633319735527,-0.072928234934807,-0.072283104062080,-0.014147483743727,0.073320314288139,-0.005874852649868,0.113393142819405,-0.008384068496525,-0.051213983446360,-0.079883210361004,-0.064449377357960,0.103203870356083));
res += mul(Get(s2,-dx,0), float4x4(0.172876507043839,0.034977234899998,0.140158921480179,-0.050559476017952,0.044009856879711,-0.071007274091244,0.072520442306995,-0.084990411996841,-0.041368972510099,0.131786957383156,0.031239118427038,-0.212159648537636,-0.084473341703415,0.018740730360150,0.091363698244095,0.000772580155171));
res += mul(Get(s2,-dx,dy), float4x4(-0.164330869913101,0.125919491052628,-0.202899858355522,0.087256290018559,-0.010973731055856,0.139572858810425,0.097740978002548,-0.094221413135529,-0.007892174646258,0.190855935215950,-0.004952029790729,-0.020992070436478,-0.197547912597656,0.079641617834568,-0.005436237435788,-0.017179565504193));
res += mul(Get(s2,0,-dy), float4x4(-0.031661540269852,0.067593403160572,-0.144516557455063,-0.058641608804464,-0.032782502472401,-0.087733246386051,0.166356533765793,-0.037854947149754,-0.133488997817039,0.061155080795288,-0.133228227496147,0.084473706781864,0.006559298839420,-0.055140949785709,0.151649937033653,-0.101457081735134));
res += mul(Get(s2,0,0), float4x4(0.129518374800682,-0.161184459924698,-0.036297228187323,0.101708523929119,0.098456114530563,0.128148168325424,-0.051460087299347,0.119528926908970,-0.066763773560524,0.244551852345467,-0.028646560385823,0.128806218504906,0.047145955264568,-0.207906350493431,-0.017293494194746,0.154477253556252));
res += mul(Get(s2,0,dy), float4x4(-0.058021500706673,0.189475044608116,-0.021731734275818,-0.060758069157600,0.104191288352013,-0.163730010390282,-0.013308976776898,-0.355017125606537,-0.009188035503030,-0.157979279756546,-0.086212679743767,0.012563096359372,-0.069771908223629,0.109617769718170,-0.206901594996452,0.089553460478783));
res += mul(Get(s2,dx,-dy), float4x4(-0.132431700825691,0.037245146930218,-0.162365809082985,0.106737226247787,-0.052886739373207,0.141880810260773,0.039540406316519,-0.146661013364792,0.078752286732197,0.115873485803604,-0.061686880886555,-0.130256071686745,-0.059255953878164,-0.109872736036777,-0.175871133804321,0.033999830484390));
res += mul(Get(s2,dx,0), float4x4(-0.161288231611252,0.218295723199844,-0.001977117499337,0.044628854840994,0.128642931580544,0.091829091310501,0.087741024792194,-0.081410884857178,0.053645033389330,0.124013394117355,0.037881974130869,0.086879745125771,-0.029745399951935,0.204108670353889,-0.126958385109901,0.091810375452042));
res += mul(Get(s2,dx,dy), float4x4(0.195755779743195,0.151453942060471,-0.041184503585100,-0.022787505760789,-0.144106119871140,-0.066994689404964,-0.213037058711052,0.148933768272400,-0.012436643242836,0.138729035854340,-0.137051180005074,0.001346920733340,-0.151337742805481,-0.240859284996986,0.079844832420349,0.099765837192535));
res += mul(Get(s3,-dx,-dy), float4x4(-0.091977693140507,0.037380419671535,-0.119207203388214,0.060411002486944,-0.051335263997316,-0.029335625469685,0.139923065900803,0.099932730197906,-0.012553619220853,-0.044947266578674,0.106001898646355,0.160864248871803,0.028427952900529,0.095312841236591,0.221222251653671,0.006131093483418));
res += mul(Get(s3,-dx,0), float4x4(0.100253149867058,0.179023727774620,-0.210849434137344,-0.123326852917671,0.075643375515938,-0.097184948623180,-0.072265021502972,0.035061508417130,-0.009439864195883,-0.163718894124031,-0.091507397592068,0.040273964405060,-0.021430006250739,-0.098674513399601,0.028648624196649,-0.089239589869976));
res += mul(Get(s3,-dx,dy), float4x4(0.158338174223900,0.082091689109802,-0.053912270814180,-0.021955212578177,-0.046562146395445,0.091220594942570,-0.019324423745275,0.006742582190782,-0.114956170320511,0.073776602745056,-0.053101468831301,-0.173145368695259,0.034438643604517,0.179255455732346,0.128911554813385,0.177535489201546));
res += mul(Get(s3,0,-dy), float4x4(0.172994002699852,-0.095116592943668,-0.123236522078514,-0.301459223031998,0.141385599970818,0.335988134145737,-0.032816283404827,0.340692877769470,-0.015739154070616,-0.181937575340271,-0.095785275101662,0.124560646712780,0.041964143514633,-0.238744959235191,-0.011205816641450,-0.031868837773800));
res += mul(Get(s3,0,0), float4x4(-0.169720411300659,-0.239724561572075,-0.180089637637138,-0.232700794935226,0.026751065626740,-0.013866432011127,-0.031218662858009,-0.112593516707420,-0.029727147892118,0.150816455483437,0.093869671225548,-0.167375802993774,0.071611814200878,-0.029302518814802,0.079160764813423,-0.258140534162521));
res += mul(Get(s3,0,dy), float4x4(-0.004020462743938,-0.105328761041164,-0.021508827805519,-0.041734986007214,-0.058474346995354,-0.165912747383118,-0.108689643442631,-0.058712400496006,-0.052148669958115,0.086909748613834,0.042490016669035,0.029676619917154,-0.130771115422249,-0.024207027629018,-0.149309352040291,0.221147581934929));
res += mul(Get(s3,dx,-dy), float4x4(0.147025421261787,-0.028644850477576,-0.007055063266307,-0.054366931319237,0.018412228673697,-0.043246820569038,0.106485903263092,-0.009153925813735,-0.095850333571434,0.033299989998341,-0.096672467887402,-0.068213596940041,-0.069441102445126,-0.038625918328762,0.013252032920718,-0.035031851381063));
res += mul(Get(s3,dx,0), float4x4(-0.103668630123138,-0.111262455582619,-0.145209103822708,-0.071214638650417,-0.034383263438940,0.033422473818064,-0.094849392771721,-0.020770804956555,0.037147391587496,0.140003159642220,-0.120882242918015,0.139265298843384,-0.209251552820206,0.001094737090170,-0.021934516727924,-0.116547524929047));
res += mul(Get(s3,dx,dy), float4x4(-0.225125819444656,0.200130417943001,-0.121112734079361,0.016610205173492,-0.114268198609352,-0.143273800611496,0.142401590943336,0.108983159065247,0.098875761032104,0.187264502048492,-0.124678708612919,0.207992464303970,-0.086896345019341,-0.009173992089927,0.050780501216650,0.114263772964478));
return max(float4(0,0,0,0), res);
}
