sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.019403001293540,-0.027926584705710,0.011391159147024,0.112413458526134,-0.088012591004372,0.151642560958862,0.052204594016075,0.060681048780680,0.168329447507858,0.239865541458130,0.221726641058922,-0.125581547617912,-0.006721056997776,0.132048577070236,0.059737671166658,0.041587211191654));
res += mul(Get(s0,-dx,0), float4x4(-0.035932112485170,0.204235598444939,0.155159294605255,-0.021682636812329,-0.076000884175301,0.053014341741800,0.152845486998558,0.002145987236872,-0.010269014164805,-0.169795215129852,-0.101471267640591,0.010791347362101,-0.010893980972469,0.095013812184334,0.074829243123531,-0.104120768606663));
res += mul(Get(s0,-dx,dy), float4x4(-0.032606452703476,-0.097022794187069,-0.077782094478607,-0.069931462407112,-0.016207335516810,0.011908512562513,-0.045840479433537,-0.058409068733454,-0.019879020750523,-0.314404964447021,0.011632905341685,0.044863153249025,0.088388338685036,-0.057345479726791,0.099849931895733,-0.080853417515755));
res += mul(Get(s0,0,-dy), float4x4(-0.093926578760147,0.073454871773720,-0.221748039126396,0.013871751725674,-0.021357083693147,0.116733163595200,0.119762048125267,-0.046020545065403,-0.139733418822289,-0.244487270712852,-0.089166805148125,0.064594425261021,-0.126045539975166,0.176870316267014,0.084923982620239,-0.032863806933165));
res += mul(Get(s0,0,0), float4x4(-0.272298157215118,-0.048810955137014,-0.284606933593750,0.064924217760563,-0.018349763005972,0.219663754105568,-0.029790587723255,0.062798880040646,-0.105471186339855,-0.066550523042679,0.267380505800247,0.009112488478422,-0.129577532410622,0.127042949199677,-0.145418778061867,-0.133677944540977));
res += mul(Get(s0,0,dy), float4x4(-0.115826681256294,-0.024721512570977,-0.001015745918266,0.021364135667682,-0.110664285719395,-0.011633623391390,0.042452976107597,-0.056431803852320,-0.049770992249250,0.039082311093807,0.051709547638893,0.072340093553066,-0.027160948142409,-0.147146567702293,0.047565165907145,-0.135069251060486));
res += mul(Get(s0,dx,-dy), float4x4(-0.238270401954651,0.068482980132103,-0.079876847565174,-0.122315406799316,-0.131911560893059,-0.153616502881050,0.188847199082375,0.046473547816277,-0.106727272272110,-0.183516100049019,-0.087393142282963,0.102250233292580,-0.192359849810600,-0.049670889973640,-0.084421128034592,0.255953401327133));
res += mul(Get(s0,dx,0), float4x4(-0.067517355084419,-0.086586743593216,0.102981857955456,0.233675867319107,-0.062066815793514,0.051518172025681,-0.180737644433975,-0.057636916637421,-0.140673816204071,-0.090635366737843,0.027997810393572,0.059316348284483,0.034541424363852,-0.126097604632378,0.205214962363243,-0.190097957849503));
res += mul(Get(s0,dx,dy), float4x4(-0.027118004858494,0.066993772983551,-0.125350534915924,-0.143396466970444,0.069019123911858,0.225442364811897,0.116952493786812,0.250731915235519,0.141052991151810,0.076423093676567,-0.011501019820571,-0.026360603049397,-0.089515522122383,0.026753529906273,-0.120069049298763,0.028320051729679));
res += mul(Get(s1,-dx,-dy), float4x4(0.141711592674255,0.280803501605988,-0.160301789641380,-0.051680214703083,-0.232585743069649,0.000638515804894,0.095098108053207,0.047712162137032,0.128456830978394,0.143871203064919,-0.028280070051551,-0.107455149292946,-0.034304093569517,0.151637062430382,-0.147629484534264,0.067723557353020));
res += mul(Get(s1,-dx,0), float4x4(0.218126595020294,-0.096455030143261,-0.064343385398388,-0.099146783351898,0.119598604738712,0.045777928084135,-0.076770715415478,-0.038033392280340,-0.061084549874067,0.007456570398062,-0.083188682794571,-0.068288035690784,-0.013473018072546,-0.094845950603485,0.078696526587009,0.167099267244339));
res += mul(Get(s1,-dx,dy), float4x4(0.165300890803337,-0.137419849634171,-0.000979290576652,-0.125210642814636,0.176740288734436,-0.078377000987530,0.045918658375740,-0.153895378112793,-0.016243983060122,0.033986631780863,-0.123238846659660,-0.085489198565483,0.091252215206623,0.105071254074574,0.050003126263618,0.021786605939269));
res += mul(Get(s1,0,-dy), float4x4(-0.044893026351929,-0.088442906737328,0.030381754040718,0.186111688613892,0.150848731398582,-0.137788861989975,0.010943727567792,0.062217202037573,-0.160741522908211,-0.020367389544845,-0.063987508416176,-0.116113789379597,-0.013215567916632,-0.005389796569943,-0.121961131691933,0.069582529366016));
res += mul(Get(s1,0,0), float4x4(0.104542195796967,-0.035058751702309,-0.058381874114275,-0.091169126331806,0.281919986009598,-0.184872448444366,-0.103354804217815,-0.161774069070816,0.021099338307977,-0.006705748382956,-0.015392833389342,-0.171836942434311,0.141615837812424,-0.135301560163498,-0.168690860271454,-0.221696063876152));
res += mul(Get(s1,0,dy), float4x4(0.072939075529575,-0.088658347725868,0.053123366087675,0.017679220065475,-0.137564674019814,-0.151245489716530,-0.004238930530846,0.086147837340832,-0.180526956915855,0.052386645227671,-0.118503764271736,0.052404813468456,0.026263158768415,0.127069935202599,-0.061225723475218,0.065498679876328));
res += mul(Get(s1,dx,-dy), float4x4(-0.115258142352104,0.075354292988777,0.089160099625587,-0.055454768240452,0.136182680726051,0.161233156919479,0.135360702872276,-0.093589611351490,0.066731013357639,0.067607730627060,0.229348555207253,0.104091674089432,-0.163103535771370,0.185333430767059,0.189800530672073,0.119541376829147));
res += mul(Get(s1,dx,0), float4x4(-0.047850400209427,0.016509678214788,0.235103830695152,0.033103704452515,0.062799535691738,-0.091088004410267,0.002906114561483,0.181609660387039,-0.105794407427311,0.024553813040257,0.109563030302525,-0.053260669112206,0.047593299299479,-0.015038540586829,-0.162018164992332,-0.180290102958679));
res += mul(Get(s1,dx,dy), float4x4(0.095256119966507,-0.161196395754814,0.001418147236109,0.320783644914627,0.142413765192032,-0.007879490032792,-0.006603158079088,-0.033794071525335,0.203176751732826,-0.007864346727729,0.134604975581169,-0.221159949898720,-0.198522523045540,0.004515921697021,0.022053204476833,0.029187582433224));
res += mul(Get(s2,-dx,-dy), float4x4(-0.037869755178690,-0.022813122719526,0.002109070774168,0.096395656466484,-0.062318157404661,-0.047619216144085,0.213239118456841,-0.083332613110542,0.035165272653103,0.119562186300755,0.051876742392778,0.082946993410587,-0.041053939610720,0.129491761326790,-0.169649049639702,-0.021297749131918));
res += mul(Get(s2,-dx,0), float4x4(-0.100659929215908,0.208851993083954,-0.084667511284351,-0.008502893149853,-0.174613878130913,0.035454910248518,0.056400675326586,-0.058432437479496,-0.032356340438128,0.015972087159753,0.059690758585930,0.034582432359457,0.112190559506416,-0.166965752840042,0.097344428300858,-0.028675418347120));
res += mul(Get(s2,-dx,dy), float4x4(-0.135579466819763,0.112403132021427,0.063024260103703,0.291268050670624,-0.109371080994606,0.152289256453514,0.113287940621376,-0.184811979532242,0.044406652450562,-0.052869267761707,0.258258044719696,-0.017984647303820,-0.041608888655901,-0.026110988110304,-0.089884698390961,0.068698197603226));
res += mul(Get(s2,0,-dy), float4x4(-0.020831458270550,-0.210739463567734,0.118010535836220,-0.271606624126434,-0.187644109129906,0.074087567627430,-0.127228572964668,-0.054723497480154,0.174051076173782,-0.013820498250425,-0.061570391058922,-0.104316294193268,0.044366300106049,-0.139889806509018,-0.159393399953842,0.165451154112816));
res += mul(Get(s2,0,0), float4x4(-0.074287317693233,-0.081134699285030,-0.102237872779369,0.041759923100471,-0.019157351925969,-0.061411991715431,-0.030289385467768,-0.035434056073427,-0.250887840986252,-0.025679532438517,-0.181774094700813,0.009089278988540,-0.030969310551882,-0.261647850275040,-0.104272872209549,0.085757099092007));
res += mul(Get(s2,0,dy), float4x4(0.105406664311886,-0.018626457080245,0.005832853727043,-0.063353523612022,0.093237690627575,-0.147431671619415,-0.033820003271103,0.046037342399359,0.213067665696144,-0.014833556488156,0.104408942162991,0.063621804118156,-0.182972073554993,-0.053024969995022,-0.200995281338692,-0.213232785463333));
res += mul(Get(s2,dx,-dy), float4x4(-0.002112373942509,-0.054412495344877,0.010360839776695,0.003239050507545,-0.047406945377588,-0.231657102704048,-0.032096531242132,-0.071862816810608,0.019242497161031,-0.011237703263760,-0.036483466625214,0.012704541906714,0.025597244501114,-0.025610901415348,0.091136395931244,-0.045337505638599));
res += mul(Get(s2,dx,0), float4x4(-0.178517132997513,0.035817600786686,0.086473055183887,-0.138685494661331,0.044021964073181,-0.115265786647797,0.107472307980061,-0.018663546070457,0.209971636533737,-0.015444838441908,-0.041770976036787,0.191692054271698,-0.010279320180416,0.123526245355606,0.037237614393234,0.087563179433346));
res += mul(Get(s2,dx,dy), float4x4(0.048806875944138,-0.071926377713680,-0.065072037279606,-0.075752541422844,0.045377030968666,0.021708808839321,-0.010967352427542,0.005003093276173,0.069729425013065,0.005710338708013,-0.034294303506613,0.225721672177315,0.103319145739079,-0.254920274019241,0.042484417557716,0.005781632848084));
res += mul(Get(s3,-dx,-dy), float4x4(0.052773475646973,0.065784335136414,0.097758434712887,-0.070778422057629,-0.064161390066147,0.217466890811920,-0.108626678586006,0.002874710829929,0.011302269995213,0.143263787031174,-0.089098654687405,-0.034515902400017,-0.238483726978302,-0.173460125923157,-0.008349470794201,-0.100106187164783));
res += mul(Get(s3,-dx,0), float4x4(0.141262903809547,0.011584170162678,-0.106789663434029,0.204479217529297,-0.005883540958166,0.150679111480713,0.004350860137492,0.017685772851110,-0.144183039665222,-0.041808176785707,-0.017940331250429,-0.315172910690308,0.275078594684601,0.046796683222055,0.040069684386253,0.095067553222179));
res += mul(Get(s3,-dx,dy), float4x4(-0.076436333358288,0.073420539498329,-0.200469404459000,0.021386306732893,-0.026024559512734,-0.088558129966259,-0.031387899070978,0.068643823266029,0.056729029864073,0.131603643298149,-0.072766877710819,0.090325862169266,-0.008349861018360,-0.066675946116447,0.033068198710680,0.147996440529823));
res += mul(Get(s3,0,-dy), float4x4(0.119969666004181,-0.102306328713894,0.003115426981822,-0.062628179788589,0.135740175843239,0.019528537988663,-0.276776820421219,-0.026912046596408,0.033003885298967,-0.010856034234166,0.112759858369827,0.143252357840538,-0.163075044751167,-0.007139786612242,0.007241497281939,0.046353176236153));
res += mul(Get(s3,0,0), float4x4(0.288727313280106,-0.264650821685791,-0.070119589567184,-0.026256209239364,0.071749530732632,0.028374241665006,0.060802362859249,0.099827796220779,-0.032972455024719,-0.038788966834545,-0.036177534610033,-0.208934471011162,0.178081840276718,-0.195551365613937,0.112596832215786,-0.165687844157219));
res += mul(Get(s3,0,dy), float4x4(-0.032517161220312,-0.299705296754837,-0.106120936572552,-0.213498443365097,0.022085176780820,0.121413990855217,0.095690801739693,-0.005177567247301,-0.137154504656792,-0.074513487517834,0.115644969046116,-0.222844019532204,-0.066023126244545,0.014294446446002,0.020509956404567,0.077106542885303));
res += mul(Get(s3,dx,-dy), float4x4(0.133811414241791,-0.168922215700150,0.059553802013397,-0.073411799967289,0.070969790220261,-0.019132489338517,0.099704340100288,0.112036354839802,0.036895211786032,-0.138006255030632,-0.036446955054998,0.104789301753044,-0.215189561247826,-0.289476096630096,-0.030752427875996,-0.015924748033285));
res += mul(Get(s3,dx,0), float4x4(-0.039991691708565,0.175718754529953,0.121897451579571,0.045478813350201,0.044872578233480,-0.037588469684124,-0.056209001690149,-0.000269002106506,-0.127944141626358,-0.060626201331615,0.019380073994398,-0.305723041296005,-0.107531480491161,0.126237347722054,0.000560383079574,0.070469699800014));
res += mul(Get(s3,dx,dy), float4x4(0.004243621136993,-0.053739923983812,-0.138640865683556,-0.219927877187729,0.121906988322735,-0.175750225782394,0.187417268753052,0.171424463391304,0.091745808720589,0.144342765212059,-0.020442023873329,-0.086213834583759,-0.205591738224030,0.101300649344921,-0.063610240817070,0.157902821898460));
return max(float4(0,0,0,0), res);
}
