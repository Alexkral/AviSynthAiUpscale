sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.085277169942856,0.005732942838222,-0.156589284539223,0.068875789642334,0.005330778658390,-0.171601593494415,0.151874139904976,0.158543318510056,-0.163449332118034,0.200686693191528,0.006543869618326,-0.047967497259378,-0.052333392202854,-0.006559660192579,0.085218578577042,-0.052179452031851));
res += mul(Get(s0,-dx,0), float4x4(-0.092105843126774,-0.227227643132210,0.057570610195398,-0.061278149485588,0.012759151868522,-0.004449907224625,0.042300045490265,0.031623449176550,-0.274003595113754,-0.144048407673836,-0.168089628219604,-0.048104684799910,0.031295806169510,0.137435793876648,-0.152160018682480,-0.022680765017867));
res += mul(Get(s0,-dx,dy), float4x4(0.151678964495659,-0.112891480326653,0.175118654966354,-0.078855328261852,0.062230579555035,-0.110256947577000,-0.034220829606056,-0.002415189519525,-0.169533580541611,-0.109805889427662,-0.108623750507832,-0.008169958367944,-0.135960295796394,-0.249721363186836,-0.069087959825993,-0.129827052354813));
res += mul(Get(s0,0,-dy), float4x4(0.198951736092567,0.156825244426727,0.100855655968189,0.159316018223763,-0.075810633599758,-0.220233097672462,0.004712084308267,-0.087271556258202,-0.058278400450945,-0.243644371628761,0.233463034033775,-0.090399816632271,0.036870159208775,0.049171250313520,0.039956904947758,-0.072770856320858));
res += mul(Get(s0,0,0), float4x4(-0.027129024267197,0.148237884044647,0.001034787157550,-0.031511183828115,-0.140557467937469,-0.118525259196758,0.135037243366241,-0.177489742636681,-0.070590093731880,0.242192745208740,-0.082703739404678,0.006588610354811,-0.046435162425041,0.086109101772308,-0.073147602379322,0.166081428527832));
res += mul(Get(s0,0,dy), float4x4(-0.095768116414547,0.046664793044329,0.125708848237991,0.188836023211479,0.263933748006821,0.169921398162842,0.157605439424515,0.221512287855148,0.051022469997406,-0.084079787135124,-0.158075049519539,-0.158405676484108,-0.035286583006382,-0.019578477367759,0.015033614821732,-0.093386784195900));
res += mul(Get(s0,dx,-dy), float4x4(-0.149291858077049,-0.167188897728920,0.117417760193348,0.086023107171059,0.003539839293808,0.031218525022268,0.089818097651005,-0.018302023410797,0.155239418148994,-0.042057551443577,0.031077425926924,-0.000391765439417,-0.010112465359271,0.070518232882023,0.044321052730083,-0.220442354679108));
res += mul(Get(s0,dx,0), float4x4(-0.202138006687164,-0.084277339279652,-0.028452634811401,-0.110892236232758,0.016779718920588,-0.049950152635574,-0.067643448710442,-0.035740938037634,0.037598446011543,0.086549200117588,-0.098262920975685,-0.044383086264133,-0.223989546298981,-0.127538412809372,0.040007378906012,0.009686369448900));
res += mul(Get(s0,dx,dy), float4x4(0.044384390115738,0.061052981764078,-0.149408832192421,-0.044902700930834,0.068817898631096,-0.121473550796509,-0.092759393155575,-0.015149206854403,0.038009423762560,0.085387893021107,0.118667699396610,0.213486179709435,0.009301407262683,-0.191956236958504,0.170541837811470,0.024963853880763));
res += mul(Get(s1,-dx,-dy), float4x4(0.097632035613060,0.000077716387750,0.131331250071526,-0.091110765933990,0.068714693188667,0.120022848248482,-0.092884518206120,0.005124285351485,-0.122032508254051,-0.053361963480711,-0.290923804044724,-0.040996015071869,0.131157606840134,0.244635820388794,-0.062743149697781,0.142373695969582));
res += mul(Get(s1,-dx,0), float4x4(0.089389003813267,-0.001940928865224,0.072068549692631,0.170126959681511,0.096905149519444,0.142823755741119,0.036335259675980,0.190250039100647,0.003677296219394,0.084712587296963,-0.139196276664734,0.018945267423987,-0.102008804678917,-0.119532264769077,-0.144825249910355,-0.012595386244357));
res += mul(Get(s1,-dx,dy), float4x4(-0.066318958997726,-0.002432246459648,0.035468067973852,-0.045356463640928,0.122573643922806,-0.033303145319223,0.104262866079807,0.062462694942951,-0.049588128924370,0.243447288870811,0.294243901968002,0.036125671118498,-0.081953026354313,-0.079874336719513,0.021426614373922,-0.020854251459241));
res += mul(Get(s1,0,-dy), float4x4(-0.041323550045490,0.011251355521381,0.064827084541321,0.008839182555676,-0.154530689120293,-0.011878700926900,-0.124925725162029,-0.054705891758204,-0.053822375833988,-0.090339571237564,-0.143892481923103,-0.077814519405365,-0.122285805642605,-0.216748148202896,-0.170695364475250,-0.015578229911625));
res += mul(Get(s1,0,0), float4x4(-0.000385776074836,-0.067782960832119,-0.099863730370998,0.097933292388916,0.215988978743553,-0.041124388575554,-0.036651305854321,-0.089404478669167,-0.014036993496120,-0.054285779595375,0.096432350575924,0.003894722322002,0.000064645697421,0.060477510094643,0.047837771475315,-0.110057123005390));
res += mul(Get(s1,0,dy), float4x4(-0.119484387338161,-0.148516193032265,-0.201880455017090,0.021795265376568,0.142731204628944,0.226947426795959,-0.122216865420341,-0.011562212370336,0.114080548286438,-0.137081116437912,0.054858524352312,-0.081402838230133,-0.021890791133046,-0.064414396882057,-0.002044077962637,0.077107042074203));
res += mul(Get(s1,dx,-dy), float4x4(-0.153724044561386,-0.158191859722137,0.033528909087181,-0.259793549776077,0.124120369553566,-0.117766514420509,-0.086931146681309,-0.151197537779808,-0.325929462909698,0.006639136932790,-0.000206993194297,-0.086880624294281,-0.202506095170975,0.057901196181774,-0.071697071194649,0.184864670038223));
res += mul(Get(s1,dx,0), float4x4(0.046090193092823,-0.142132073640823,-0.024368437007070,-0.264200985431671,-0.022855974733829,-0.100330375134945,-0.025280388072133,-0.164510950446129,0.139720916748047,-0.143423199653625,0.124129332602024,-0.126471370458603,0.023935811594129,0.093860514461994,0.174206182360649,-0.049010314047337));
res += mul(Get(s1,dx,dy), float4x4(0.194585606455803,0.078532740473747,0.108698494732380,0.046439301222563,-0.082208901643753,0.090217687189579,-0.036503452807665,-0.028491780161858,-0.142823338508606,-0.041885327547789,-0.025058437138796,0.042757924646139,-0.194358095526695,0.125276967883110,0.195342123508453,0.138273283839226));
res += mul(Get(s2,-dx,-dy), float4x4(0.177423536777496,0.109621323645115,-0.059510502964258,-0.010079143568873,-0.069561958312988,0.014348705299199,0.051107425242662,-0.042283687740564,0.158853963017464,0.106341257691383,-0.175602659583092,0.100252486765385,0.138880759477615,-0.076448045670986,0.006766411475837,-0.077418103814125));
res += mul(Get(s2,-dx,0), float4x4(0.140132442116737,0.039023142307997,-0.226145297288895,-0.159636750817299,-0.024907317012548,0.127833500504494,0.141769334673882,-0.009195138700306,0.156437203288078,0.199361979961395,-0.029036978259683,-0.109889291226864,0.124841287732124,-0.118719980120659,-0.080191105604172,-0.007486529182643));
res += mul(Get(s2,-dx,dy), float4x4(0.085705012083054,-0.026688579469919,0.195175498723984,0.012215948663652,0.100185483694077,-0.059928987175226,0.074516758322716,0.048330757766962,-0.061069935560226,-0.129010230302811,-0.121403194963932,-0.185890853404999,-0.073478773236275,-0.064186461269855,0.021002329885960,0.126672610640526));
res += mul(Get(s2,0,-dy), float4x4(-0.047060422599316,0.018405716866255,-0.007262301631272,0.077864557504654,-0.120362505316734,0.027488222345710,0.072968877851963,-0.199605017900467,-0.100427411496639,-0.103237122297287,0.232275009155273,0.029287271201611,0.036632977426052,0.050003971904516,-0.007389481645077,-0.172364845871925));
res += mul(Get(s2,0,0), float4x4(0.173914298415184,0.160686269402504,0.095508724451065,0.176854759454727,0.055301368236542,0.098085492849350,0.111842349171638,-0.097182378172874,-0.056618433445692,0.025446098297834,0.089936695992947,0.038336034864187,-0.074395291507244,0.023517688736320,0.161967098712921,-0.079228244721889));
res += mul(Get(s2,0,dy), float4x4(0.236346766352654,-0.089156776666641,0.013894941657782,0.157583564519882,0.128695428371429,0.177586525678635,0.020068079233170,-0.056746654212475,0.138032898306847,-0.026395561173558,0.010515898466110,-0.131441757082939,-0.089007243514061,0.338609158992767,-0.134718939661980,-0.294498294591904));
res += mul(Get(s2,dx,-dy), float4x4(-0.088996700942516,0.154195472598076,-0.206944778561592,-0.075767263770103,-0.028800934553146,0.026226637884974,0.123512923717499,-0.277008712291718,-0.147546112537384,-0.042892314493656,-0.082928411662579,0.040268499404192,-0.013292596675456,0.165595993399620,-0.070340260863304,0.113611973822117));
res += mul(Get(s2,dx,0), float4x4(-0.023561891168356,-0.100108169019222,0.150712862610817,0.025385236367583,-0.025103865191340,-0.090742260217667,-0.042758561670780,0.001186455367133,0.226410984992981,-0.078861415386200,0.084657795727253,-0.026518844068050,-0.299726098775864,0.031589582562447,0.068460024893284,0.105389550328255));
res += mul(Get(s2,dx,dy), float4x4(0.038682330399752,0.202738076448441,-0.215970218181610,-0.026302922517061,-0.059963908046484,-0.136621817946434,-0.080556519329548,0.104431316256523,0.092846572399139,-0.034807231277227,-0.013803317211568,0.085188053548336,0.011380718089640,-0.130168646574020,0.053011260926723,0.016309535130858));
res += mul(Get(s3,-dx,-dy), float4x4(-0.048395406454802,-0.102150104939938,-0.174648180603981,0.085653193295002,-0.133234485983849,0.221896633505821,-0.156815066933632,-0.028949398547411,0.033744834363461,0.047047290951014,-0.036479275673628,-0.057487908750772,0.097112283110619,0.059475339949131,0.113782927393913,-0.132611110806465));
res += mul(Get(s3,-dx,0), float4x4(-0.185630217194557,0.007722099311650,-0.006098991259933,-0.004801236093044,0.094098202884197,-0.039442274719477,-0.040023744106293,-0.084601871669292,-0.060338657349348,-0.085459582507610,0.059040438383818,0.115662403404713,-0.056623283773661,0.066974885761738,-0.073472619056702,0.025372708216310));
res += mul(Get(s3,-dx,dy), float4x4(0.064364440739155,0.105225741863251,-0.012026351876557,-0.138552621006966,-0.073690272867680,-0.054011173546314,0.071534305810928,-0.029032282531261,-0.012722218409181,-0.131281688809395,-0.070998921990395,-0.032302644103765,-0.045235689729452,0.016210567206144,-0.009384574368596,-0.170105531811714));
res += mul(Get(s3,0,-dy), float4x4(0.158542901277542,0.064600981771946,0.062877073884010,0.124330960214138,-0.040399447083473,0.045498024672270,-0.040533676743507,-0.207588583230972,-0.033803574740887,-0.013688726350665,-0.047714531421661,0.031910706311464,0.234995201230049,-0.006818571127951,0.110094889998436,0.147573471069336));
res += mul(Get(s3,0,0), float4x4(-0.039213258773088,-0.038342159241438,0.116236090660095,0.091857090592384,-0.033302012830973,-0.010737383738160,0.007490143645555,-0.083927407860756,0.095786459743977,-0.053077906370163,0.043667078018188,0.036634802818298,-0.035545267164707,0.033033501356840,0.052062466740608,0.131444931030273));
res += mul(Get(s3,0,dy), float4x4(-0.100596405565739,-0.151495322585106,-0.093241706490517,-0.142339736223221,0.098272278904915,0.157980412244797,0.050662208348513,0.064129285514355,-0.027257753536105,0.057429268956184,0.073938772082329,0.010351694189012,-0.054872885346413,0.021761154755950,-0.041759412735701,0.149445593357086));
res += mul(Get(s3,dx,-dy), float4x4(-0.106476061046124,0.073133006691933,-0.115385159850121,0.027906194329262,0.075356103479862,-0.012116803787649,0.060142185539007,0.025346120819449,-0.061603654175997,-0.100475661456585,-0.017717583104968,0.013070938177407,-0.122307129204273,-0.023523639887571,0.090077191591263,0.043419137597084));
res += mul(Get(s3,dx,0), float4x4(0.136614724993706,-0.012703771702945,0.151070609688759,0.033066540956497,-0.053997050970793,-0.289705455303192,-0.011282938532531,0.009801726788282,0.094801098108292,0.057930286973715,0.011491365730762,0.050513941794634,-0.124895259737968,0.055370979011059,0.110387749969959,0.166419446468353));
res += mul(Get(s3,dx,dy), float4x4(-0.062167428433895,-0.237204536795616,0.139487028121948,-0.137197315692902,-0.004488434642553,-0.257754743099213,0.194275647401810,0.034841902554035,0.244817540049553,-0.014207380823791,0.078203499317169,-0.021627608686686,-0.020637551322579,0.093714602291584,-0.080704234540462,-0.048116292804480));
return max(float4(0,0,0,0), res);
}
