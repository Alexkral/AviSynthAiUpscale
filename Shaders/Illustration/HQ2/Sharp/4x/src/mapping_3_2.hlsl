sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.078932389616966,0.129290014505386,0.116742685437202,-0.005444495473057,-0.166370198130608,-0.243846103549004,0.205785915255547,0.015292857773602,0.214534342288971,0.043159086257219,0.140573665499687,-0.155546173453331,-0.054480984807014,-0.150525331497192,-0.235236734151840,0.126413777470589));
res += mul(Get(s0,-dx,0), float4x4(0.019962213933468,-0.161115378141403,-0.123104013502598,0.004277726169676,-0.076323203742504,-0.022457843646407,-0.141309320926666,-0.362543731927872,-0.073694676160812,-0.068704120814800,-0.056954447180033,0.041076146066189,-0.208572044968605,0.133677005767822,-0.010411660186946,-0.158363699913025));
res += mul(Get(s0,-dx,dy), float4x4(0.045274429023266,0.133827760815620,0.171296715736389,0.021504497155547,0.008511417545378,0.041471634060144,-0.018106406554580,-0.046101469546556,0.219363540410995,-0.232409834861755,-0.195577070116997,0.081092685461044,-0.050663739442825,0.046610537916422,-0.078351385891438,0.086137332022190));
res += mul(Get(s0,0,-dy), float4x4(0.053683508187532,0.070298001170158,-0.098430290818214,0.040198728442192,0.185070663690567,-0.145188719034195,-0.204011067748070,0.023465761914849,0.007980802096426,0.079292044043541,0.226828292012215,0.052247960120440,0.061845470219851,-0.020790385082364,-0.046438287943602,-0.160353243350983));
res += mul(Get(s0,0,0), float4x4(-0.210412114858627,-0.046396553516388,0.059231985360384,-0.065134339034557,-0.062267124652863,0.103239126503468,-0.034209329634905,-0.028538241982460,-0.047068186104298,-0.046847183257341,-0.086972445249557,0.067432023584843,-0.064430050551891,0.070949688553810,0.014778014272451,-0.103240065276623));
res += mul(Get(s0,0,dy), float4x4(-0.001085827825591,-0.039067871868610,-0.060196049511433,-0.091795392334461,0.010237828828394,0.034435454756021,0.182951048016548,0.133824586868286,-0.118555732071400,0.036732371896505,-0.096360377967358,0.097122885286808,0.080034971237183,0.046092946082354,0.088827982544899,0.029431717470288));
res += mul(Get(s0,dx,-dy), float4x4(-0.009296586737037,0.029162487015128,0.021930089220405,-0.200211539864540,0.049284990876913,0.033235892653465,0.206263497471809,-0.136695191264153,0.049692399799824,-0.116453394293785,0.144432693719864,0.084401153028011,-0.194100871682167,-0.300567299127579,-0.169010818004608,0.149779558181763));
res += mul(Get(s0,dx,0), float4x4(-0.109934687614441,-0.027494916692376,-0.074953213334084,-0.177161559462547,-0.054469250142574,-0.049352478235960,0.200702786445618,0.129623308777809,0.171032086014748,-0.029260428622365,0.042044568806887,-0.209514841437340,0.093770898878574,-0.016751766204834,0.031620487570763,-0.132408306002617));
res += mul(Get(s0,dx,dy), float4x4(-0.079907134175301,0.026203447952867,0.018508819863200,0.054365977644920,0.078494422137737,0.038871224969625,-0.069879367947578,-0.082881994545460,0.111787036061287,0.094026856124401,0.025089530274272,0.012303005903959,-0.036000885069370,0.134061291813850,-0.039671648293734,-0.000990294851363));
res += mul(Get(s1,-dx,-dy), float4x4(-0.020081307739019,0.141717940568924,-0.194206610321999,0.151123344898224,-0.159572780132294,-0.168444588780403,-0.100106872618198,0.026853710412979,0.029603827744722,0.102453500032425,-0.171054929494858,-0.197723984718323,-0.019659420475364,0.105067044496536,-0.001564377569593,0.096429347991943));
res += mul(Get(s1,-dx,0), float4x4(-0.025670511648059,-0.182991504669189,-0.153485387563705,-0.075784809887409,-0.115690529346466,-0.000019994675313,-0.132053270936012,-0.021431175991893,0.079954393208027,0.018317524343729,-0.162209466099739,-0.056789543479681,0.291574984788895,-0.053653400391340,0.106171526014805,0.087472885847092));
res += mul(Get(s1,-dx,dy), float4x4(-0.013418080285192,0.003178104991093,0.020275825634599,0.014434785582125,-0.164174616336823,-0.007532068062574,0.017231371253729,-0.151704102754593,0.108186356723309,-0.096590720117092,-0.106613956391811,0.107705451548100,-0.036048788577318,-0.019285025075078,-0.109137579798698,-0.113122843205929));
res += mul(Get(s1,0,-dy), float4x4(0.045462723821402,0.005585296079516,0.092335112392902,-0.104401923716068,0.046407107263803,0.297458738088608,0.143261998891830,-0.022993810474873,-0.066993467509747,-0.162930235266685,-0.128069132566452,-0.085275486111641,0.115083396434784,0.031154010444880,-0.099163740873337,-0.128809794783592));
res += mul(Get(s1,0,0), float4x4(-0.087117701768875,-0.225101232528687,0.099776521325111,0.008443075232208,-0.052594963461161,0.236574560403824,-0.029093867167830,0.025622924789786,0.029775362461805,-0.184880226850510,-0.062323890626431,0.045187957584858,0.170502260327339,0.069475837051868,0.115067549049854,0.045143146067858));
res += mul(Get(s1,0,dy), float4x4(-0.124207764863968,0.052077952772379,-0.014552911743522,0.035854846239090,0.087733171880245,-0.051770273596048,0.174282371997833,0.007830621674657,0.085347816348076,-0.100398220121861,-0.031053863465786,0.040345985442400,0.019243322312832,-0.020100997760892,-0.039217483252287,-0.089000515639782));
res += mul(Get(s1,dx,-dy), float4x4(-0.093985550105572,0.036842480301857,-0.091948129236698,0.079130150377750,-0.000612345174886,-0.015773586928844,-0.021766580641270,0.159424498677254,-0.040902879089117,0.090544871985912,0.130592018365860,0.057662945240736,0.019791556522250,-0.093237228691578,-0.025323636829853,0.096259519457817));
res += mul(Get(s1,dx,0), float4x4(-0.133008301258087,-0.032166875898838,-0.072147592902184,-0.147556707262993,-0.238310441374779,-0.028626793995500,-0.068339452147484,-0.309493750333786,-0.005173990037292,0.055812258273363,-0.096031427383423,0.066476345062256,0.070160366594791,-0.055597607046366,-0.119667433202267,-0.028055546805263));
res += mul(Get(s1,dx,dy), float4x4(-0.122516170144081,0.074080787599087,0.086279451847076,-0.154239326715469,0.037522897124290,0.078500412404537,-0.103543490171432,-0.150282621383667,-0.077974326908588,0.106813691556454,0.082006387412548,-0.087699897587299,0.109680712223053,-0.041131582111120,-0.004849274642766,-0.084169752895832));
res += mul(Get(s2,-dx,-dy), float4x4(0.024042168632150,-0.017012935131788,0.079725794494152,0.089778877794743,0.223182022571564,-0.054778885096312,0.186656579375267,0.077693529427052,-0.020265329629183,-0.190915346145630,0.087784551084042,0.105016827583313,0.034971844404936,-0.083524189889431,-0.044539343565702,-0.001660748268478));
res += mul(Get(s2,-dx,0), float4x4(-0.013037147931755,-0.011280637234449,0.045400567352772,-0.002709706546739,-0.076679907739162,-0.226775065064430,-0.099422678351402,-0.170981884002686,-0.223037376999855,-0.127732574939728,0.035740856081247,-0.036547623574734,0.089677482843399,0.112178824841976,0.017081957310438,0.051136996597052));
res += mul(Get(s2,-dx,dy), float4x4(0.134465843439102,0.197824761271477,-0.168495446443558,-0.062499366700649,-0.158585429191589,0.028843596577644,-0.000889731920324,0.114154092967510,0.003003095975146,0.062919832766056,-0.044135469943285,-0.024572066962719,0.165625438094139,-0.026411838829517,0.078481130301952,0.083615839481354));
res += mul(Get(s2,0,-dy), float4x4(0.048606161028147,-0.111400574445724,0.039373554289341,-0.112314641475677,-0.014642396010458,0.049722760915756,-0.094993852078915,0.039657399058342,0.035456705838442,-0.183366551995277,-0.020841993391514,-0.028796372935176,0.078853890299797,0.170390501618385,0.005484261084348,-0.015165992081165));
res += mul(Get(s2,0,0), float4x4(-0.054564472287893,0.056433681398630,0.079748004674911,0.081887349486351,0.012242970056832,-0.110651709139347,0.015855515375733,-0.015341809019446,-0.219704598188400,0.014218827709556,-0.102659448981285,0.018870294094086,-0.082929313182831,0.065492793917656,-0.006022577639669,-0.069956429302692));
res += mul(Get(s2,0,dy), float4x4(-0.124359600245953,-0.114747442305088,-0.070308834314346,0.230275258421898,-0.004569041077048,0.002489413367584,0.083541676402092,0.006496316753328,0.077555358409882,0.007689704187214,-0.086052030324936,0.128569856286049,0.020760286599398,-0.031730152666569,0.235629722476006,0.071334198117256));
res += mul(Get(s2,dx,-dy), float4x4(0.130725696682930,-0.084708556532860,-0.125268369913101,0.206029444932938,-0.052414398640394,0.024455195292830,-0.107929892838001,0.035542633384466,0.103439152240753,0.130419000983238,0.260404646396637,-0.339877247810364,-0.112481988966465,-0.131912559270859,0.166417971253395,-0.224933311343193));
res += mul(Get(s2,dx,0), float4x4(-0.273101568222046,0.116635248064995,-0.159244999289513,0.016026772558689,-0.034471124410629,-0.076508253812790,-0.011121628805995,0.132549732923508,-0.155002042651176,-0.096956804394722,0.137642562389374,-0.198291897773743,-0.069109201431274,0.151101469993591,-0.130576044321060,0.100874416530132));
res += mul(Get(s2,dx,dy), float4x4(0.248515516519547,-0.119605511426926,0.192910090088844,0.234601333737373,0.103264026343822,-0.012348637916148,-0.168897330760956,0.246511474251747,0.101672299206257,0.002624621381983,-0.006637621670961,0.024302262812853,0.034094735980034,-0.062817499041557,0.032748900353909,-0.005399920511991));
res += mul(Get(s3,-dx,-dy), float4x4(0.085721857845783,0.006818630732596,0.036274522542953,-0.049655646085739,0.124832734465599,0.059795502573252,-0.047044765204191,-0.050772216171026,-0.168948128819466,-0.211200550198555,-0.017167020589113,-0.132525295019150,0.092712759971619,-0.113868348300457,-0.138879954814911,0.014667578041553));
res += mul(Get(s3,-dx,0), float4x4(0.054405909031630,-0.009033212438226,-0.143244996666908,0.061008173972368,-0.025728402659297,0.073243655264378,-0.296551227569580,-0.086118884384632,-0.121321447193623,0.066114053130150,0.002233081497252,-0.103637441992760,0.111523434519768,-0.103940509259701,-0.102461233735085,-0.028868027031422));
res += mul(Get(s3,-dx,dy), float4x4(0.140527769923210,0.195917531847954,-0.119667924940586,-0.211876586079597,-0.085023418068886,0.058322709053755,-0.306715488433838,0.058205105364323,0.002384675666690,-0.138175308704376,0.130683928728104,0.004380167461932,-0.009150734171271,-0.016376348212361,0.124320387840271,0.069816224277020));
res += mul(Get(s3,0,-dy), float4x4(-0.049068134278059,-0.180936694145203,0.131052136421204,0.053044807165861,0.083221882581711,-0.006464406382293,0.121841929852962,-0.116581514477730,-0.029798910021782,0.163334175944328,-0.085013166069984,-0.182366073131561,-0.081922352313995,-0.009392994455993,0.012354383245111,-0.080615282058716));
res += mul(Get(s3,0,0), float4x4(0.106342941522598,0.117918349802494,0.189048156142235,0.112880200147629,-0.160710498690605,0.053643159568310,0.111049614846706,-0.130844801664352,-0.011894529685378,0.000597495178226,0.059388805180788,-0.004300802946091,0.008650930598378,-0.030765572562814,0.233675509691238,-0.065724588930607));
res += mul(Get(s3,0,dy), float4x4(0.003615197492763,-0.079221487045288,0.025997482240200,0.054429844021797,-0.164414912462234,-0.091695934534073,-0.123926699161530,0.002287238137797,-0.235046282410622,0.042300187051296,0.142376437783241,-0.032747466117144,0.173240408301353,-0.018810702487826,-0.135190084576607,0.031613335013390));
res += mul(Get(s3,dx,-dy), float4x4(0.008109284564853,0.092543192207813,0.067716695368290,-0.137686625123024,0.089191131293774,0.088061697781086,0.001356185530312,-0.087894454598427,0.033718492835760,0.077565386891365,0.001367899589241,0.057556107640266,-0.036324057728052,-0.249089643359184,0.060025256127119,0.162544250488281));
res += mul(Get(s3,dx,0), float4x4(0.132173389196396,-0.102633461356163,-0.064390212297440,-0.206825777888298,0.017859246581793,-0.164849385619164,0.082418330013752,-0.076276883482933,-0.045331876724958,-0.028740450739861,0.131719157099724,0.028284767642617,0.147036045789719,-0.087562523782253,0.006432338152081,-0.110991865396500));
res += mul(Get(s3,dx,dy), float4x4(0.175709515810013,-0.013904630206525,0.156894266605377,-0.189316436648369,-0.028999477624893,-0.135526031255722,0.211435273289680,-0.079171679913998,0.216924652457237,-0.108705684542656,-0.146800547838211,0.007646482903510,-0.044191528111696,-0.298587471246719,0.037678241729736,0.093229815363884));
return max(float4(0,0,0,0), res);
}
