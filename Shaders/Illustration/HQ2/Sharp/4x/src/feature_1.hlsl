sampler s0 : register(s0);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(x, y)   tex2D(s0, tex + float2(x, y))[0]

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += float4(0.115293048322201,-0.055000532418489,-0.196968704462051,0.033358596265316) * Get(-dx,-dy);
res += float4(-0.014744064770639,0.082871951162815,0.134257063269615,0.091094873845577) * Get(-dx,0);
res += float4(-0.067159228026867,-0.079512976109982,0.323730558156967,0.066043518483639) * Get(-dx,dy);
res += float4(0.135409176349640,-0.037450619041920,-0.041689351201057,-0.273208767175674) * Get(0,-dy);
res += float4(0.031128415837884,-0.155158519744873,-0.135592922568321,-0.057097252458334) * Get(0,0);
res += float4(-0.013689666055143,-0.128399610519409,-0.290248930454254,-0.021939737722278) * Get(0,dy);
res += float4(0.033737208694220,0.065499432384968,0.027814002707601,0.041086647659540) * Get(dx,-dy);
res += float4(-0.168517306447029,0.074981354176998,-0.152218520641327,0.258397400379181) * Get(dx,0);
res += float4(-0.010799300856888,-0.042394038289785,0.261890590190887,-0.048590149730444) * Get(dx,dy);
return max(float4(0,0,0,0), res);
}
