sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.024182213470340,-0.060085128992796,-0.003285701153800,-0.117550328373909,-0.033676635473967,0.019336480647326,0.103393875062466,-0.029667714610696,-0.081176988780499,0.028589706867933,-0.073997296392918,0.016507854685187,-0.194116070866585,-0.093190945684910,-0.177614763379097,0.030390731990337));
res += mul(Get(s0,-dx,0), float4x4(-0.141658365726471,0.053210265934467,-0.153045326471329,-0.104345314204693,0.022016633301973,-0.249833703041077,-0.114862889051437,0.079677619040012,-0.132634565234184,-0.126772210001945,-0.086664877831936,0.018218163400888,0.069643780589104,-0.216391041874886,-0.061041563749313,-0.100358679890633));
res += mul(Get(s0,-dx,dy), float4x4(0.053561884909868,-0.019027909263968,0.055562850087881,-0.082573801279068,0.145912736654282,0.006768995895982,0.151258483529091,0.141166403889656,0.205806672573090,-0.055376421660185,0.004507733043283,0.113249465823174,0.105414167046547,-0.021705072373152,-0.024781445041299,0.034026954323053));
res += mul(Get(s0,0,-dy), float4x4(-0.303029179573059,-0.005316558759660,-0.124138414859772,-0.016597382724285,0.202137589454651,0.142551049590111,0.095769546926022,-0.044578395783901,0.152440220117569,0.074357040226460,0.076820388436317,0.105499573051929,-0.088736511766911,0.123749092221260,0.007086876314133,-0.154737114906311));
res += mul(Get(s0,0,0), float4x4(-0.048174086958170,-0.071616336703300,0.105372294783592,-0.030882313847542,0.062191441655159,-0.050289753824472,-0.125593051314354,0.029492123052478,0.021601736545563,0.196370929479599,0.045826248824596,0.138427406549454,-0.019845018163323,0.072035379707813,-0.007351623382419,-0.029695058241487));
res += mul(Get(s0,0,dy), float4x4(-0.165095999836922,0.249901667237282,-0.014884938485920,-0.050332840532064,0.085705965757370,0.005535502452403,0.124211601912975,0.051807649433613,-0.100325874984264,0.031437356024981,-0.127635508775711,0.070956699550152,-0.185093849897385,-0.182888641953468,-0.066565968096256,-0.128061085939407));
res += mul(Get(s0,dx,-dy), float4x4(0.213246285915375,-0.140333160758018,0.069986447691917,0.151589155197144,-0.006737513467669,0.116182535886765,-0.043028373271227,0.169196814298630,-0.035679772496223,0.109105639159679,0.102307081222534,0.090713433921337,-0.109065935015678,0.105122029781342,-0.059951949864626,0.174156621098518));
res += mul(Get(s0,dx,0), float4x4(0.116440057754517,0.067287541925907,0.218702748417854,-0.056827381253242,0.038764514029026,0.026327840983868,-0.067579485476017,0.099491894245148,0.016258919611573,0.019468536600471,-0.028523659333587,0.057627655565739,0.034321758896112,-0.077314920723438,0.179038837552071,0.040625397115946));
res += mul(Get(s0,dx,dy), float4x4(-0.125638157129288,-0.092781372368336,0.103773288428783,0.082429572939873,0.085302755236626,-0.083760380744934,-0.119642600417137,0.001103795366362,-0.158329427242279,-0.009810618124902,0.186168283224106,-0.089614331722260,-0.035139005631208,0.219208672642708,-0.153772354125977,-0.140946105122566));
res += mul(Get(s1,-dx,-dy), float4x4(-0.048628248274326,0.044527858495712,-0.107912935316563,0.281062781810760,0.091863438487053,0.041289385408163,-0.073893114924431,0.055250782519579,0.198641106486320,-0.052063766866922,0.101250521838665,0.273520171642303,-0.184873536229134,0.008135182783008,0.113377995789051,0.101401351392269));
res += mul(Get(s1,-dx,0), float4x4(0.099763862788677,0.046016845852137,0.203012004494667,-0.001641649170779,0.094170637428761,-0.027381524443626,-0.136528179049492,0.118300490081310,-0.238677337765694,0.018250808119774,0.074664302170277,-0.088840253651142,0.047820363193750,0.057210616767406,-0.020380647853017,-0.235115870833397));
res += mul(Get(s1,-dx,dy), float4x4(0.018787164241076,-0.031278736889362,0.004939175210893,-0.064409092068672,0.009109017439187,-0.004613570403308,0.182086557149887,-0.128665283322334,-0.098180338740349,0.061069976538420,0.153130486607552,0.082555733621120,0.150463640689850,0.008484637364745,-0.156838953495026,0.029395457357168));
res += mul(Get(s1,0,-dy), float4x4(-0.116936065256596,0.140284866094589,0.152365908026695,0.073207087814808,-0.015701934695244,0.095665723085403,0.208091795444489,0.007265567313880,0.036213848739862,0.003670635167509,0.049276404082775,-0.108524456620216,0.141882419586182,0.071707591414452,0.053280286490917,-0.108566656708717));
res += mul(Get(s1,0,0), float4x4(-0.136611193418503,-0.000377554242732,0.147040545940399,-0.097167521715164,0.070731237530708,0.052843984216452,-0.000892464478966,0.127187907695770,-0.195582181215286,-0.031260538846254,-0.110832422971725,-0.254837512969971,-0.222521036863327,-0.044628083705902,0.005704706534743,-0.023719264194369));
res += mul(Get(s1,0,dy), float4x4(-0.129178524017334,0.167050391435623,0.089134432375431,0.122211687266827,-0.043507300317287,-0.276667356491089,-0.001177164609544,-0.026484444737434,-0.268731504678726,0.037833981215954,0.043991480022669,0.138725697994232,-0.054142948240042,-0.043586365878582,0.176664948463440,0.091274991631508));
res += mul(Get(s1,dx,-dy), float4x4(-0.045734897255898,-0.159396842122078,-0.002278421539813,-0.242450714111328,0.157005429267883,-0.117416650056839,0.041192527860403,-0.027349535375834,0.137296870350838,-0.062337152659893,-0.075566180050373,0.033728066831827,-0.201433286070824,-0.103842996060848,-0.037221483886242,-0.052821587771177));
res += mul(Get(s1,dx,0), float4x4(0.108790844678879,0.006807431578636,0.125129118561745,0.082766748964787,-0.018055027350783,-0.147849977016449,0.088243588805199,-0.068303242325783,-0.074175484478474,0.186278238892555,-0.104506105184555,-0.108255252242088,0.046937223523855,-0.001828176318668,0.016214238479733,-0.044692721217871));
res += mul(Get(s1,dx,dy), float4x4(-0.042408868670464,0.022657645866275,0.024980431422591,0.093951754271984,0.166465178132057,0.175508886575699,-0.184805318713188,0.110087938606739,0.039811372756958,0.028074171394110,0.164410293102264,-0.128638923168182,0.183196753263474,-0.149851262569427,0.021878868341446,-0.257743597030640));
res += mul(Get(s2,-dx,-dy), float4x4(-0.071231253445148,-0.137471377849579,-0.017591109499335,-0.080552883446217,-0.145395204424858,-0.203949436545372,-0.126855343580246,0.021661242470145,0.091700643301010,-0.058697029948235,0.192072063684464,-0.125800326466560,-0.154427856206894,-0.111789360642433,-0.089508973062038,0.020522937178612));
res += mul(Get(s2,-dx,0), float4x4(0.204620912671089,0.134798690676689,-0.065066307783127,-0.068912573158741,-0.064401797950268,0.030806925147772,0.057449143379927,-0.070514783263206,0.077398888766766,-0.089474067091942,-0.154982686042786,0.187755733728409,-0.068808592855930,0.123137041926384,-0.086381427943707,0.094227172434330));
res += mul(Get(s2,-dx,dy), float4x4(0.052998740226030,-0.030979799106717,0.045888360589743,0.228559061884880,-0.046095300465822,-0.025657402351499,-0.064591608941555,0.117438890039921,0.014769230037928,-0.059480704367161,0.020006872713566,0.305035650730133,-0.067911900579929,0.218577995896339,0.030213637277484,0.178987771272659));
res += mul(Get(s2,0,-dy), float4x4(-0.003476443234831,0.108013823628426,-0.199362695217133,0.099729239940643,-0.050152193754911,0.085110142827034,0.004307463765144,-0.158117517828941,-0.043514356017113,-0.113116882741451,0.051242116838694,0.057474192231894,0.001837522257119,-0.022496931254864,-0.099685788154602,0.255625665187836));
res += mul(Get(s2,0,0), float4x4(0.108578249812126,-0.077081196010113,0.127749711275101,0.041424851864576,-0.043405506759882,-0.015204917639494,0.034752964973450,-0.106225639581680,-0.049032568931580,-0.102279238402843,0.148044556379318,0.170481279492378,-0.113025397062302,-0.032610680907965,-0.066921502351761,0.359864324331284));
res += mul(Get(s2,0,dy), float4x4(-0.200232803821564,-0.151358798146248,-0.016310881823301,0.072624519467354,-0.230837613344193,0.049761857837439,0.003987643402070,-0.084393478929996,-0.174246504902840,0.024363230913877,0.082298442721367,0.071836523711681,0.139038845896721,0.005913428496569,-0.061855196952820,0.106706745922565));
res += mul(Get(s2,dx,-dy), float4x4(0.061245616525412,-0.071760535240173,-0.113554313778877,-0.023071849718690,0.032167963683605,-0.013263149186969,0.043800968676805,0.044030100107193,0.170289710164070,-0.059589572250843,0.017632003873587,-0.045611865818501,0.229754194617271,0.121075600385666,-0.121888771653175,-0.020124301314354));
res += mul(Get(s2,dx,0), float4x4(-0.044279243797064,0.070162534713745,0.106347814202309,0.040267612785101,0.052246272563934,0.048687353730202,0.021630248054862,-0.026296606287360,0.003505403408781,0.229690268635750,0.195923671126366,-0.011089819483459,0.059723500162363,0.171441599726677,-0.124943077564240,-0.106062635779381));
res += mul(Get(s2,dx,dy), float4x4(0.198761686682701,-0.170983508229256,0.183675915002823,0.004504693206400,-0.032701320946217,-0.202591940760612,-0.002488212194294,-0.218497276306152,-0.168163388967514,0.061126220971346,0.137889713048935,-0.072097241878510,0.047144871205091,0.243732213973999,0.000897652411368,-0.190994232892990));
res += mul(Get(s3,-dx,-dy), float4x4(-0.202917888760567,-0.029079342260957,0.028911966830492,0.088446021080017,0.084843233227730,-0.033808134496212,0.071739904582500,-0.245694249868393,0.074961967766285,0.075348995625973,0.120642825961113,0.156369835138321,0.132119745016098,-0.050864815711975,0.113605313003063,-0.042464356869459));
res += mul(Get(s3,-dx,0), float4x4(-0.065553084015846,-0.196835875511169,0.000907278619707,0.018950346857309,-0.089732877910137,0.124456122517586,0.048816785216331,0.053845290094614,-0.078342378139496,0.039804972708225,-0.029881363734603,-0.045784465968609,0.131121754646301,0.205577790737152,0.110745266079903,0.084514074027538));
res += mul(Get(s3,-dx,dy), float4x4(0.076472744345665,-0.122658260166645,0.011159586720169,-0.471672803163528,-0.210357695817947,0.154173403978348,0.181440889835358,0.091488860547543,0.051673062145710,-0.012482721358538,-0.200767904520035,-0.126124024391174,-0.045951467007399,0.114238500595093,0.091919697821140,0.298250049352646));
res += mul(Get(s3,0,-dy), float4x4(0.009628336876631,0.079607598483562,0.237280949950218,-0.044356234371662,-0.031868889927864,-0.044335301965475,0.072155021131039,-0.112059786915779,-0.104760915040970,-0.069056794047356,0.068133674561977,0.138037458062172,0.053156286478043,0.004089904017746,-0.025556582957506,0.028936246410012));
res += mul(Get(s3,0,0), float4x4(-0.154140815138817,0.148863881826401,0.019820017740130,0.092100843787193,0.207447841763496,0.017919123172760,0.136374816298485,-0.140549838542938,-0.045852690935135,-0.015761917456985,-0.080137439072132,-0.194002240896225,-0.259558171033859,-0.029161458835006,-0.029703382402658,0.143906593322754));
res += mul(Get(s3,0,dy), float4x4(0.007528525311500,-0.068964399397373,-0.086873248219490,0.192343831062317,-0.101441971957684,-0.062337368726730,0.109643131494522,-0.099923379719257,0.171633332967758,0.106346577405930,-0.081723153591156,0.116737246513367,0.074692636728287,0.099991679191589,-0.182315587997437,-0.019784614443779));
res += mul(Get(s3,dx,-dy), float4x4(0.031457588076591,0.154446333646774,-0.063365437090397,0.107151187956333,0.155227541923523,-0.003107824595645,0.049254208803177,-0.116895332932472,0.079773627221584,0.091200053691864,-0.081882320344448,-0.083723343908787,0.118343256413937,0.120944030582905,0.022206233814359,0.011773432604969));
res += mul(Get(s3,dx,0), float4x4(0.018262978643179,-0.132052093744278,0.153578966856003,0.003309295512736,-0.027181694284081,-0.267837375402451,-0.103561885654926,0.093160584568977,0.049950230866671,-0.080302469432354,0.008180860430002,0.072462275624275,-0.186354681849480,-0.013051632791758,-0.112247876822948,0.013218952342868));
res += mul(Get(s3,dx,dy), float4x4(0.037233352661133,0.161488026380539,-0.136404812335968,0.073560990393162,0.017276335507631,-0.073011189699173,-0.019594021141529,-0.035758100450039,-0.018977357074618,0.062766775488853,0.004172620829195,-0.048230614513159,0.058809436857700,0.118376553058624,0.003715230384842,0.093191117048264));
return max(float4(0,0,0,0), res);
}
