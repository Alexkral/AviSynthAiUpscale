sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.016458796337247,0.209016501903534,-0.106758996844292,0.114093907177448,-0.153985083103180,0.109200321137905,0.046877939254045,-0.212258815765381,0.004494749475271,-0.101838089525700,-0.315900713205338,-0.038005568087101,-0.103297576308250,0.160613864660263,-0.080172508955002,-0.066087611019611));
res += mul(Get(s0,-dx,0), float4x4(-0.008177424781024,0.161419436335564,0.309711813926697,0.101210072636604,0.040474008768797,-0.041934497654438,-0.001132401404902,-0.221880659461021,-0.004599153995514,0.145596638321877,-0.000516916625202,-0.077382527291775,0.018039682880044,-0.067315481603146,0.031088661402464,-0.185994684696198));
res += mul(Get(s0,-dx,dy), float4x4(-0.087475031614304,-0.026175858452916,-0.121999807655811,-0.111125037074089,-0.030135791748762,-0.161616519093513,0.009501296095550,0.147897675633430,0.032837595790625,0.104180321097374,0.079247541725636,-0.084438934922218,-0.117133244872093,0.045307442545891,-0.107362084090710,0.073949702084064));
res += mul(Get(s0,0,-dy), float4x4(0.055224109441042,-0.231084957718849,0.015752961859107,-0.239427700638771,0.082801438868046,0.156231388449669,-0.100905552506447,-0.103358827531338,0.029423972591758,-0.037011820822954,0.000476558197988,-0.060611709952354,-0.010971572250128,-0.153712034225464,-0.061441410332918,0.053238723427057));
res += mul(Get(s0,0,0), float4x4(-0.163902834057808,-0.234688758850098,0.058690182864666,-0.008750889450312,0.055390749126673,-0.212168648838997,-0.022801309823990,0.074516788125038,-0.016351256519556,0.129390493035316,-0.049368616193533,-0.049051504582167,0.017981346696615,0.068767666816711,0.096331372857094,-0.000686525949277));
res += mul(Get(s0,0,dy), float4x4(0.150281086564064,0.128658458590508,0.200521469116211,0.134294897317886,0.068549469113350,0.119617357850075,0.082727916538715,-0.108570210635662,-0.116851113736629,0.023128261789680,0.129890769720078,-0.023100450634956,-0.044715877622366,0.222695678472519,0.157704174518585,-0.046420443803072));
res += mul(Get(s0,dx,-dy), float4x4(-0.247461065649986,-0.022009724751115,0.017243087291718,0.087600469589233,0.042712107300758,0.443445414304733,0.141764342784882,-0.080418035387993,0.033802349120378,-0.058513436466455,0.029647123068571,-0.075249500572681,0.025603091344237,-0.009782387875021,0.132999971508980,-0.011824791319668));
res += mul(Get(s0,dx,0), float4x4(-0.098070546984673,-0.056291844695807,-0.089796498417854,-0.001351446728222,-0.011897728778422,0.142355084419250,0.176110893487930,0.192807495594025,0.080625034868717,-0.013250574469566,-0.022762378677726,0.107946865260601,0.000286131456960,-0.117133580148220,-0.060441024601460,0.109806463122368));
res += mul(Get(s0,dx,dy), float4x4(0.056667625904083,0.031996633857489,0.013725109398365,-0.044690590351820,0.050940755754709,0.030422326177359,-0.071393489837646,-0.244544625282288,-0.159638017416000,0.060727730393410,0.144695535302162,-0.060206748545170,0.067761212587357,-0.108624108135700,-0.180402472615242,-0.030118703842163));
res += mul(Get(s1,-dx,-dy), float4x4(-0.064258500933647,0.017342682927847,-0.271522521972656,-0.035376548767090,0.256122231483459,0.157359942793846,0.141119509935379,-0.069212175905704,-0.023064501583576,0.103562481701374,-0.010361461900175,-0.000298398430459,0.051175657659769,-0.164934530854225,-0.132271915674210,-0.108652755618095));
res += mul(Get(s1,-dx,0), float4x4(-0.149872884154320,-0.036029554903507,0.358535408973694,-0.058417186141014,0.005918191280216,-0.122571311891079,0.054142247885466,0.126478135585785,0.139213457703590,-0.058082316070795,-0.157472610473633,0.011813607998192,0.140475794672966,-0.070264019072056,-0.060673918575048,-0.072720155119896));
res += mul(Get(s1,-dx,dy), float4x4(0.200388908386230,0.039275780320168,-0.102049201726913,0.019947748631239,0.065035410225391,-0.103767193853855,-0.206890091300011,-0.093426421284676,-0.021365417167544,0.074680902063847,-0.148490011692047,0.114705786108971,0.032213624566793,-0.007389628328383,0.025806162506342,0.107012875378132));
res += mul(Get(s1,0,-dy), float4x4(0.007237485609949,-0.134437069296837,-0.093666069209576,0.058232918381691,-0.226498216390610,-0.103608071804047,-0.185458973050117,0.015916004776955,-0.078028380870819,-0.003111684927717,-0.166922345757484,-0.147494018077850,0.014398232102394,-0.038128893822432,0.123468846082687,0.037767957895994));
res += mul(Get(s1,0,0), float4x4(-0.086044967174530,0.151878356933594,-0.016498725861311,-0.012626998126507,-0.126171231269836,-0.180307194590569,0.100476972758770,-0.319169938564301,-0.334955066442490,-0.060538608580828,0.038460262119770,-0.054455958306789,0.064040757715702,0.233728215098381,0.054063975811005,-0.062115695327520));
res += mul(Get(s1,0,dy), float4x4(0.017366943880916,-0.032624986022711,0.044296119362116,0.004844139795750,0.018979646265507,0.049170222133398,-0.003049913560972,-0.077994026243687,0.035406522452831,-0.020025653764606,-0.001498887897469,-0.124831326305866,0.127730876207352,-0.152984723448753,-0.129574090242386,0.042726602405310));
res += mul(Get(s1,dx,-dy), float4x4(-0.191301390528679,0.149699985980988,0.079673945903778,0.115508809685707,-0.140210375189781,0.110507324337959,0.117428705096245,0.013743524439633,-0.052592050284147,-0.109656937420368,0.056564655154943,0.145965576171875,-0.038892265409231,0.062127128243446,0.138218194246292,0.152489930391312));
res += mul(Get(s1,dx,0), float4x4(0.191800668835640,-0.035786759108305,0.079206220805645,0.023984842002392,-0.053820528090000,-0.217334181070328,-0.044564686715603,0.295016378164291,-0.257365614175797,-0.046053487807512,0.005987786687911,-0.045479744672775,0.022355217486620,0.048204902559519,-0.290554046630859,0.210726663470268));
res += mul(Get(s1,dx,dy), float4x4(0.052199650555849,0.039934668689966,0.187282383441925,0.147577911615372,0.027132339775562,-0.137785166501999,0.230702310800552,-0.100710317492485,-0.005601377226412,0.052953731268644,0.107469186186790,-0.166352927684784,-0.228107646107674,0.356351822614670,0.057853199541569,-0.172681659460068));
res += mul(Get(s2,-dx,-dy), float4x4(-0.100354924798012,0.003730196040124,0.105453714728355,-0.054849542677402,0.155205428600311,-0.177167475223541,-0.128218784928322,0.064819790422916,0.132216602563858,-0.194050416350365,-0.133386656641960,0.177295148372650,0.223079174757004,-0.032999012619257,-0.044307425618172,-0.097061254084110));
res += mul(Get(s2,-dx,0), float4x4(0.067582570016384,-0.170947834849358,-0.166733458638191,-0.114800974726677,0.128702506422997,-0.161643221974373,-0.125091984868050,-0.135370329022408,-0.181184351444244,-0.136078611016273,-0.229845896363258,-0.062427043914795,0.098265111446381,-0.196376174688339,0.054910395294428,0.120160967111588));
res += mul(Get(s2,-dx,dy), float4x4(0.009319300763309,-0.081965543329716,0.106708750128746,-0.166940137743950,0.034271884709597,0.110630914568901,0.047249447554350,0.049783673137426,-0.057487901300192,0.116781391203403,0.015493854880333,0.064904913306236,0.135343790054321,-0.051367718726397,-0.160697549581528,-0.030995246022940));
res += mul(Get(s2,0,-dy), float4x4(0.094003878533840,-0.039737567305565,-0.218911677598953,0.095319606363773,0.011195267550647,-0.033905081450939,-0.030203750357032,0.177953466773033,-0.047288101166487,-0.092190369963646,-0.038941208273172,-0.081522867083549,0.126333966851234,-0.062439154833555,0.095249280333519,-0.129468277096748));
res += mul(Get(s2,0,0), float4x4(-0.095585867762566,-0.064465291798115,0.119095362722874,-0.143669053912163,-0.002060455502942,-0.033131387084723,0.080629110336304,-0.041077040135860,0.067421220242977,-0.148912668228149,0.018469046801329,0.180602863430977,0.178361520171165,-0.127383813261986,0.039479203522205,0.080217130482197));
res += mul(Get(s2,0,dy), float4x4(-0.229077160358429,-0.143411234021187,0.046984340995550,0.143715441226959,-0.250084638595581,-0.098762437701225,-0.108044877648354,0.193216487765312,0.079132929444313,0.061800133436918,0.037105303257704,-0.046568624675274,-0.131687715649605,0.029373409226537,0.061091419309378,-0.088659055531025));
res += mul(Get(s2,dx,-dy), float4x4(0.065827868878841,-0.106661394238472,0.026611097157001,-0.043411262333393,-0.093879573047161,-0.035449519753456,0.048220131546259,0.063716672360897,0.027004534378648,0.103957436978817,-0.062057055532932,0.027069937437773,-0.232846453785896,-0.010289838537574,0.033632680773735,-0.166996881365776));
res += mul(Get(s2,dx,0), float4x4(-0.102584272623062,-0.253748208284378,-0.211134329438210,-0.053386822342873,0.129464671015739,-0.146220788359642,-0.167990162968636,-0.193225532770157,-0.024959761649370,-0.019028382375836,-0.150879502296448,-0.037195798009634,-0.018442342057824,-0.090837545692921,-0.141276746988297,0.095718994736671));
res += mul(Get(s2,dx,dy), float4x4(-0.125705018639565,0.039993781596422,-0.330541670322418,0.036832891404629,0.075837746262550,-0.054047718644142,0.037962738424540,0.132970005273819,0.027033103629947,-0.122606240212917,0.028758021071553,-0.230125352740288,0.048152562230825,0.178368628025055,-0.023574493825436,-0.004336856305599));
res += mul(Get(s3,-dx,-dy), float4x4(-0.082695201039314,-0.016274141147733,0.119887515902519,0.116714812815189,0.002533697523177,0.157167702913284,-0.065385058522224,0.106033325195313,-0.009605853818357,0.055939167737961,0.039170421659946,0.076379291713238,0.094736553728580,-0.076372824609280,0.054629709571600,0.186052933335304));
res += mul(Get(s3,-dx,0), float4x4(-0.048852961510420,0.068542726337910,0.006582556292415,0.015159385278821,-0.118278481066227,0.121158495545387,0.278706490993500,-0.002143827266991,0.073473706841469,-0.117386840283871,-0.122201152145863,0.039514254778624,-0.090966910123825,-0.012322626076639,-0.124786719679832,0.085041746497154));
res += mul(Get(s3,-dx,dy), float4x4(0.152527034282684,-0.078872375190258,0.207261592149734,0.077724136412144,-0.085105590522289,0.059408742934465,0.026746233925223,-0.070018619298935,-0.008282619528472,0.109187461435795,0.268719285726547,-0.082493558526039,-0.036519855260849,-0.190704196691513,-0.221517920494080,-0.036825880408287));
res += mul(Get(s3,0,-dy), float4x4(-0.099437460303307,-0.060245122760534,-0.409575045108795,-0.032704859972000,0.138989552855492,0.256960541009903,-0.073073938488960,-0.161774158477783,0.083642557263374,-0.137139394879341,0.008489342406392,-0.185564905405045,-0.049893975257874,0.018301211297512,-0.086888104677200,0.144696623086929));
res += mul(Get(s3,0,0), float4x4(0.073179528117180,0.085820749402046,0.048431802541018,-0.126028150320053,0.053199954330921,0.120279945433140,0.109352082014084,-0.096964552998543,0.022634437307715,0.040222112089396,0.020287930965424,0.215117350220680,-0.122232787311077,-0.041236754506826,-0.103013329207897,-0.029936939477921));
res += mul(Get(s3,0,dy), float4x4(0.037474445998669,-0.024199750274420,-0.099320001900196,-0.059055875986814,0.045992512255907,-0.168726786971092,0.060124743729830,0.148286327719688,0.052562996745110,-0.137700796127319,0.235276028513908,0.098771452903748,-0.105073824524879,0.046192094683647,-0.132382020354271,-0.147502079606056));
res += mul(Get(s3,dx,-dy), float4x4(0.236628428101540,-0.049743279814720,0.264522880315781,0.041065003722906,-0.019125152379274,0.142296537756920,0.167347371578217,0.115814670920372,-0.020879333838820,0.042121939361095,-0.138843044638634,0.106081262230873,-0.060245282948017,0.019470186904073,-0.210276156663895,-0.161274790763855));
res += mul(Get(s3,dx,0), float4x4(0.034545518457890,-0.051897495985031,-0.221907615661621,-0.093842282891273,-0.286211550235748,-0.089650914072990,-0.018736116588116,-0.081141740083694,-0.073935225605965,0.059975069016218,-0.058696527034044,0.122682631015778,-0.118903458118439,0.122410550713539,0.101638577878475,-0.151350229978561));
res += mul(Get(s3,dx,dy), float4x4(0.094964772462845,-0.037127289921045,-0.001747140311636,0.096124768257141,-0.019466193392873,-0.005004040431231,-0.002586015965790,0.033653780817986,0.056309562176466,0.085880391299725,-0.012206178158522,0.024862037971616,0.147197291254997,-0.163598582148552,0.063022315502167,-0.239404261112213));
return max(float4(0,0,0,0), res);
}
