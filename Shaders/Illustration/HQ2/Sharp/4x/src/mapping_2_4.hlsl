sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.252982348203659,0.053764093667269,-0.021327681839466,-0.184278294444084,0.070993907749653,-0.023894509300590,0.186748474836349,-0.100711442530155,-0.058524522930384,0.108362562954426,-0.102181538939476,-0.015927709639072,-0.070832468569279,-0.120026186108589,-0.162590175867081,0.056374415755272));
res += mul(Get(s0,-dx,0), float4x4(0.016037903726101,0.112583830952644,0.077314473688602,-0.104154758155346,-0.006077745463699,0.064556464552879,-0.028690200299025,-0.085956886410713,-0.032517489045858,0.275882959365845,-0.073366060853004,0.035056557506323,-0.095414258539677,0.104202300310135,-0.041197624057531,0.069317735731602));
res += mul(Get(s0,-dx,dy), float4x4(0.064883299171925,-0.047892421483994,0.124164678156376,0.026917714625597,0.145382463932037,-0.030260149389505,-0.063846126198769,0.060409195721149,0.141108274459839,0.189543053507805,0.089417248964310,-0.027917828410864,0.070865191519260,-0.047796491533518,0.017661139369011,0.009293028153479));
res += mul(Get(s0,0,-dy), float4x4(-0.123218029737473,-0.023200066760182,-0.009475145488977,0.156091958284378,0.040826655924320,-0.027686584740877,-0.152238413691521,-0.078678026795387,0.024382228031754,-0.016173819079995,-0.190547540783882,-0.065553933382034,-0.221236303448677,-0.060106828808784,0.018965894356370,-0.156399756669998));
res += mul(Get(s0,0,0), float4x4(-0.177362710237503,0.058684900403023,-0.116093471646309,-0.007892487570643,0.041071072220802,-0.058486513793468,-0.051974326372147,0.181045785546303,-0.092344857752323,-0.203706860542297,-0.071722187101841,0.034267224371433,-0.101291716098785,0.013632091693580,-0.072862401604652,-0.012323823757470));
res += mul(Get(s0,0,dy), float4x4(0.200724869966507,-0.034467048943043,-0.103082872927189,-0.060893103480339,-0.157228380441666,-0.035124346613884,-0.302395969629288,-0.117073304951191,-0.180772632360458,-0.083874315023422,-0.012362170033157,0.121033221483231,0.112411901354790,0.123162306845188,-0.165750473737717,-0.042783878743649));
res += mul(Get(s0,dx,-dy), float4x4(0.174974218010902,0.076316855847836,-0.315466552972794,0.075624786317348,-0.157120525836945,-0.063152194023132,0.029430422931910,0.002552714198828,-0.117756210267544,-0.097671933472157,0.148362174630165,-0.141921952366829,0.010121764615178,0.034411530941725,-0.051854673773050,-0.030854636803269));
res += mul(Get(s0,dx,0), float4x4(-0.049931418150663,-0.158372238278389,-0.055928885936737,0.132886365056038,0.203671038150787,0.057778924703598,-0.200482428073883,-0.002785831689835,0.214156955480576,-0.037080999463797,0.127588346600533,0.273429572582245,-0.056487590074539,0.106463782489300,-0.221459791064262,-0.043793641030788));
res += mul(Get(s0,dx,dy), float4x4(-0.050772663205862,-0.138848528265953,-0.031955957412720,0.067184098064899,-0.006971123162657,0.006806920748204,0.010861665010452,-0.061508014798164,-0.045120947062969,0.092438310384750,0.250111043453217,0.012134208343923,0.223885342478752,-0.135123416781425,0.004895322956145,-0.071847148239613));
res += mul(Get(s1,-dx,-dy), float4x4(0.101955093443394,0.037722714245319,0.193534314632416,0.078489810228348,-0.143794283270836,-0.014437404461205,-0.062927350401878,-0.090657062828541,-0.144200623035431,-0.108184732496738,-0.051222354173660,-0.123392537236214,-0.206274792551994,-0.032973222434521,-0.088945947587490,0.198060303926468));
res += mul(Get(s1,-dx,0), float4x4(-0.012722522951663,0.002622185740620,-0.224007874727249,0.053841538727283,-0.003956387750804,0.145863026380539,0.007316713221371,-0.195674329996109,0.024168441072106,-0.024022612720728,0.353283017873764,-0.010879713110626,0.032801024615765,-0.127959594130516,0.019169535487890,-0.074193082749844));
res += mul(Get(s1,-dx,dy), float4x4(-0.027780272066593,-0.064219519495964,-0.139586448669434,-0.037848357111216,-0.105988480150700,0.030066624283791,-0.087387166917324,0.071775197982788,-0.117333009839058,0.198432832956314,0.079122014343739,0.004981064237654,-0.016491049900651,-0.210156083106995,0.037514548748732,-0.053098484873772));
res += mul(Get(s1,0,-dy), float4x4(0.027446934953332,0.127285927534103,0.124600708484650,0.024009440094233,-0.039759129285812,0.035672716796398,0.092933744192123,-0.008147113956511,-0.205008983612061,-0.158575326204300,-0.149047628045082,-0.055525671690702,0.088664107024670,-0.003377078799531,-0.138713166117668,-0.067261926829815));
res += mul(Get(s1,0,0), float4x4(-0.001073659048416,0.164690852165222,0.127273336052895,0.142647057771683,0.117129251360893,-0.144144326448441,-0.031109303236008,0.219716921448708,-0.078798927366734,-0.018721476197243,-0.004130983259529,-0.130492120981216,0.128008797764778,-0.133071452379227,-0.199679896235466,-0.106974758207798));
res += mul(Get(s1,0,dy), float4x4(-0.149084016680717,-0.010592858307064,-0.135966449975967,-0.105353802442551,0.087741307914257,0.060641933232546,-0.110533662140369,0.050816148519516,-0.187262430787086,0.171646073460579,-0.117928206920624,0.170515269041061,0.119630724191666,0.022106854245067,-0.090707428753376,-0.133752673864365));
res += mul(Get(s1,dx,-dy), float4x4(0.018857922405005,-0.051857717335224,-0.193817541003227,0.019795201718807,-0.072996839880943,0.015683386474848,-0.081608518958092,-0.000351499445969,0.025422768667340,0.033622190356255,-0.099929817020893,0.108876153826714,0.112797752022743,0.085569821298122,0.013531927950680,0.055773980915546));
res += mul(Get(s1,dx,0), float4x4(-0.061261948198080,0.008377677761018,-0.242003068327904,0.021245382726192,0.208559021353722,0.075756542384624,-0.141380771994591,0.024698268622160,-0.057324074208736,-0.044348880648613,-0.080074511468410,-0.114396400749683,0.125791773200035,0.325497686862946,0.042139280587435,-0.033819742500782));
res += mul(Get(s1,dx,dy), float4x4(0.088041767477989,0.116003312170506,0.064543269574642,0.025030286982656,-0.189021691679955,-0.043570764362812,0.007923110388219,0.028588293120265,0.259053170681000,-0.034698531031609,-0.018789563328028,-0.027497690171003,-0.047439508140087,-0.049778785556555,0.039721272885799,0.010657810606062));
res += mul(Get(s2,-dx,-dy), float4x4(0.118195705115795,-0.028745010495186,0.171472668647766,-0.126668930053711,-0.106466472148895,-0.219926610589027,0.022980067878962,-0.085447371006012,-0.004734342452139,-0.144760802388191,-0.141858294606209,-0.067490458488464,0.390312850475311,0.069380059838295,0.074859574437141,0.148211956024170));
res += mul(Get(s2,-dx,0), float4x4(-0.055312201380730,0.140996187925339,0.053980503231287,-0.042846970260143,0.119568608701229,-0.016721602529287,-0.122292265295982,0.067078717052937,0.028878690674901,-0.238643616437912,-0.146362066268921,-0.130978628993034,0.048517018556595,-0.055905479937792,0.130175083875656,-0.048392098397017));
res += mul(Get(s2,-dx,dy), float4x4(0.048438556492329,0.001152027398348,0.106716319918633,-0.190601289272308,-0.218392670154572,-0.109227068722248,0.018786868080497,0.143585234880447,-0.020648259669542,-0.095885276794434,-0.031588304787874,-0.049427695572376,0.092854067683220,-0.333197265863419,-0.039911791682243,0.044688772410154));
res += mul(Get(s2,0,-dy), float4x4(-0.114936590194702,-0.074985004961491,-0.126659855246544,-0.087029002606869,-0.020102173089981,0.215751111507416,0.035605061799288,0.235488057136536,0.047780092805624,-0.020593082532287,0.117775022983551,-0.098742574453354,-0.070710539817810,0.057499598711729,-0.057690728455782,0.016989029943943));
res += mul(Get(s2,0,0), float4x4(-0.090493127703667,-0.193348377943039,0.101261273026466,-0.057880073785782,-0.149887219071388,0.045881077647209,0.118496082723141,-0.016966572031379,0.191625550389290,0.033064685761929,-0.145217508077621,-0.094218954443932,0.027566058561206,0.024322967976332,-0.055829267948866,-0.143359631299973));
res += mul(Get(s2,0,dy), float4x4(0.002319573890418,0.104083068668842,0.388103991746902,-0.016813417896628,0.077952168881893,0.068326078355312,0.059561338275671,-0.215975373983383,-0.075084269046783,-0.042210794985294,0.067848227918148,-0.125640466809273,-0.083867438137531,-0.042067807167768,0.015854371711612,-0.068087838590145));
res += mul(Get(s2,dx,-dy), float4x4(-0.063477426767349,-0.029246592894197,0.043504636734724,0.069038145244122,-0.046449642628431,-0.041103214025497,-0.029534336179495,0.145568728446960,-0.057128485292196,0.149671152234077,0.090756922960281,0.131371483206749,0.053999319672585,-0.187759265303612,0.069186061620712,-0.073233664035797));
res += mul(Get(s2,dx,0), float4x4(0.055332515388727,-0.113282054662704,-0.091805152595043,0.091713093221188,0.096346244215965,0.209527015686035,0.090486764907837,0.072290778160095,0.194649308919907,-0.099206648766994,0.022375743836164,-0.046748891472816,-0.179201588034630,-0.002659330843017,0.025779837742448,0.134841993451118));
res += mul(Get(s2,dx,dy), float4x4(-0.208422049880028,-0.081598266959190,-0.100273191928864,0.123839929699898,-0.116061978042126,-0.087463751435280,0.058391198515892,-0.106349989771843,-0.206091687083244,-0.215066403150558,0.172766640782356,0.153314515948296,-0.046220239251852,0.088295906782150,-0.044230703264475,0.083213500678539));
res += mul(Get(s3,-dx,-dy), float4x4(0.094594947993755,-0.003736087121069,0.038499873131514,0.124739773571491,-0.189627870917320,0.015181104652584,0.020661966875196,-0.007209321949631,-0.236622214317322,-0.027964815497398,-0.026414826512337,0.062380515038967,0.008043676614761,-0.049027446657419,-0.142866954207420,0.099062703549862));
res += mul(Get(s3,-dx,0), float4x4(0.027140246704221,-0.033197749406099,-0.123240798711777,0.177910089492798,0.012989004142582,0.086823083460331,0.050965227186680,-0.039149452000856,-0.027417827397585,0.090715266764164,-0.120466232299805,-0.053621072322130,0.064862683415413,-0.102819032967091,-0.216988965868950,0.058941029012203));
res += mul(Get(s3,-dx,dy), float4x4(-0.189397543668747,0.084552824497223,0.193682208657265,0.019255427643657,0.004312428645790,-0.046307593584061,-0.014843010343611,0.095029294490814,-0.103392206132412,-0.030803170055151,0.003544763661921,-0.039861653000116,-0.120062232017517,0.057731837034225,0.064891390502453,-0.054949063807726));
res += mul(Get(s3,0,-dy), float4x4(-0.068526662886143,0.022232314571738,-0.161300957202911,0.008165242150426,0.065207310020924,-0.108606249094009,0.025257917121053,-0.111850246787071,0.151436612010002,-0.017270568758249,0.107999220490456,-0.021832467988133,0.040811050683260,-0.154674753546715,0.002682529157028,-0.167048037052155));
res += mul(Get(s3,0,0), float4x4(-0.001534761046059,-0.178029358386993,-0.184878751635551,0.099360182881355,0.088257335126400,-0.025785846635699,0.043770946562290,0.297148019075394,0.369532108306885,0.037973280996084,0.145425006747246,-0.023086294531822,0.125205636024475,-0.247055575251579,0.100707456469536,0.291187047958374));
res += mul(Get(s3,0,dy), float4x4(0.147116482257843,-0.070931054651737,-0.121519841253757,-0.027296708896756,0.108551412820816,0.072015918791294,0.072954021394253,-0.116584047675133,-0.133794620633125,-0.098553404211998,0.126285851001740,0.044391430914402,0.006692228373140,0.153765231370926,-0.104523994028568,0.220300450921059));
res += mul(Get(s3,dx,-dy), float4x4(0.108967654407024,0.122332170605659,-0.021711785346270,-0.004410669207573,0.087132684886456,0.089421667158604,0.107067391276360,-0.052044976502657,0.122319236397743,-0.070557683706284,-0.009652535431087,0.083265125751495,0.007287543267012,-0.234729707241058,0.022202691063285,-0.106850951910019));
res += mul(Get(s3,dx,0), float4x4(0.249232739210129,-0.015800280496478,-0.123502090573311,0.126313731074333,-0.074961587786674,0.292827039957047,0.044299002736807,0.103207267820835,-0.010871285572648,-0.044185578823090,-0.074422754347324,0.200438737869263,0.106181524693966,-0.005025891121477,-0.120056949555874,0.123609967529774));
res += mul(Get(s3,dx,dy), float4x4(-0.034758072346449,0.049499660730362,-0.042351715266705,-0.117159463465214,-0.210101157426834,-0.042610090225935,0.073942251503468,-0.131392955780029,-0.104877486824989,-0.001963420538232,-0.010377752594650,-0.196657344698906,0.060618735849857,-0.084072627127171,0.094083137810230,-0.112632930278778));
return max(float4(0,0,0,0), res);
}
