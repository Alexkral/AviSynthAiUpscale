sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.238348305225372,-0.025404075160623,0.016510184854269,0.090807832777500,-0.014500251971185,-0.176591306924820,0.137892082333565,0.011089845560491,-0.014737132936716,0.044245414435863,-0.110066130757332,-0.026196820661426,-0.096715658903122,0.005697569809854,0.020769624039531,-0.047315061092377));
res += mul(Get(s0,-dx,0), float4x4(-0.068109504878521,0.064104430377483,-0.001968789845705,0.055553864687681,0.055812448263168,0.109924182295799,0.153653606772423,-0.093862645328045,0.134197667241096,-0.163693025708199,-0.047580510377884,0.131026223301888,0.174734860658646,0.091855004429817,-0.030411396175623,0.277907818555832));
res += mul(Get(s0,-dx,dy), float4x4(-0.116430938243866,0.074635982513428,-0.121683545410633,-0.016855685040355,-0.134434118866920,-0.027887387201190,-0.033757567405701,-0.080042332410812,-0.017419101670384,-0.037545707076788,-0.033946730196476,0.087610654532909,0.304401665925980,0.106167107820511,0.049782738089561,0.099140934646130));
res += mul(Get(s0,0,-dy), float4x4(0.001358527923003,-0.132236808538437,-0.238981157541275,-0.128134354948997,-0.027854971587658,0.070734173059464,-0.085258133709431,-0.235003769397736,0.227715969085693,0.045280065387487,-0.026080660521984,0.078642934560776,0.028838001191616,-0.010389016009867,-0.037354890257120,-0.018832933157682));
res += mul(Get(s0,0,0), float4x4(-0.188073813915253,-0.073567323386669,-0.130610361695290,-0.163528487086296,0.119611077010632,-0.085359737277031,-0.024050986394286,0.149187102913857,-0.001898660673760,-0.007345371879637,-0.049760073423386,0.087906897068024,-0.081625290215015,0.094967544078827,0.109795898199081,-0.080459177494049));
res += mul(Get(s0,0,dy), float4x4(0.074004448950291,-0.072851017117500,0.307970970869064,-0.096352435648441,0.039324514567852,-0.086523145437241,0.020046675577760,-0.061693418771029,0.018075533211231,-0.018272740766406,0.084125563502312,0.027369368821383,0.028312880545855,0.139677897095680,0.030410686507821,0.018882770091295));
res += mul(Get(s0,dx,-dy), float4x4(-0.125402107834816,0.102830648422241,0.075197540223598,-0.085808187723160,-0.007741163019091,0.003742099506781,-0.026735842227936,0.211931154131889,-0.109782591462135,-0.009013870730996,0.130351781845093,-0.181408405303955,0.055099919438362,-0.076375506818295,0.113673336803913,0.121049650013447));
res += mul(Get(s0,dx,0), float4x4(-0.082497350871563,0.013854085467756,0.002024837303907,-0.115736193954945,-0.059983283281326,0.007128955796361,-0.073667094111443,0.139798119664192,-0.024791657924652,-0.127811372280121,0.068959251046181,0.035523038357496,0.231950029730797,0.122441641986370,0.092922739684582,-0.122688941657543));
res += mul(Get(s0,dx,dy), float4x4(-0.105431132018566,-0.020912343636155,-0.095012769103050,0.085154347121716,0.214209109544754,0.091660499572754,-0.250375598669052,-0.062133383005857,0.067727610468864,-0.068176902830601,-0.101238831877708,-0.017394632101059,-0.096729658544064,-0.178991526365280,0.016310188919306,0.034281119704247));
res += mul(Get(s1,-dx,-dy), float4x4(-0.198200210928917,-0.343865901231766,0.000655843061395,-0.058537464588881,0.135729029774666,0.107507944107056,0.051394551992416,-0.138540580868721,-0.033179745078087,0.161639243364334,0.016549400985241,-0.043188527226448,0.067198149859905,-0.049585871398449,-0.034774657338858,-0.102631129324436));
res += mul(Get(s1,-dx,0), float4x4(0.100893020629883,0.096376664936543,-0.166794940829277,0.034859869629145,-0.220416411757469,0.052212201058865,0.023051995784044,0.308053463697433,-0.063470378518105,0.133920997381210,0.047895826399326,0.087317422032356,-0.048829637467861,0.046294234693050,0.171429514884949,0.103534907102585));
res += mul(Get(s1,-dx,dy), float4x4(0.041076019406319,0.036917611956596,0.049312051385641,0.326120436191559,-0.035093806684017,0.056707341223955,-0.104596100747585,-0.230360016226768,-0.144689723849297,-0.161633402109146,0.069614171981812,-0.143191814422607,0.189086005091667,-0.087246589362621,-0.002450453815982,-0.082835525274277));
res += mul(Get(s1,0,-dy), float4x4(-0.119661018252373,0.042613424360752,0.072076357901096,0.112063974142075,-0.025928311049938,0.207047447562218,0.045612651854753,-0.035453420132399,0.366398632526398,-0.157701179385185,-0.006080816965550,-0.085426837205887,-0.162357956171036,-0.021592721343040,-0.282171070575714,-0.127568066120148));
res += mul(Get(s1,0,0), float4x4(-0.114970803260803,0.038019809871912,-0.044319201260805,-0.058098897337914,0.085831388831139,-0.006891673430800,-0.029132785275578,-0.149496421217918,0.062451038509607,0.062663510441780,0.075543470680714,-0.056905403733253,-0.196354463696480,0.072282411158085,-0.003953433595598,0.025814797729254));
res += mul(Get(s1,0,dy), float4x4(-0.102994978427887,0.071884952485561,0.219042062759399,-0.141805753111839,0.097186952829361,0.044991437345743,0.056653272360563,-0.082737393677235,0.158034652471542,0.085692420601845,0.145384430885315,-0.043366920202971,-0.075162224471569,0.002418522723019,-0.133501783013344,0.100808046758175));
res += mul(Get(s1,dx,-dy), float4x4(0.024421023204923,0.198122292757034,-0.064406782388687,0.105568051338196,0.046650737524033,0.024615727365017,0.024909699335694,-0.024788554757833,-0.037889152765274,-0.197359293699265,0.086433641612530,-0.009105484001338,0.094771198928356,0.117855340242386,-0.188883900642395,0.212976977229118));
res += mul(Get(s1,dx,0), float4x4(-0.099609889090061,-0.082710243761539,-0.017783630639315,0.129338800907135,-0.112024679780006,-0.034166693687439,-0.017001265659928,0.169000223278999,-0.105610541999340,-0.050682473927736,0.034676827490330,0.225343301892281,0.111047126352787,0.060374781489372,-0.064965151250362,0.044356975704432));
res += mul(Get(s1,dx,dy), float4x4(-0.194158345460892,0.106928020715714,-0.115287639200687,0.092574492096901,0.081365063786507,0.049439672380686,0.014095764607191,0.014709250070155,0.116773597896099,0.005392236169428,-0.114668667316437,-0.096624620258808,0.070609137415886,0.033001653850079,0.091720037162304,0.193990841507912));
res += mul(Get(s2,-dx,-dy), float4x4(-0.155888333916664,0.029790118336678,0.178071975708008,0.081213615834713,-0.235465452075005,-0.053478416055441,0.131721258163452,-0.104899309575558,-0.178313955664635,-0.018459200859070,0.016191912814975,0.120881468057632,-0.040101114660501,-0.049022335559130,-0.132680237293243,0.011940890923142));
res += mul(Get(s2,-dx,0), float4x4(0.001549225649796,0.151856273412704,0.055079258978367,-0.089822135865688,-0.075837470591068,-0.165489241480827,0.082087382674217,-0.195752650499344,0.162544757127762,-0.056683693081141,0.023134410381317,0.087754204869270,-0.092290781438351,0.040212828665972,-0.149945035576820,0.002965535270050));
res += mul(Get(s2,-dx,dy), float4x4(0.127444267272949,-0.011483980342746,-0.123391740024090,0.129885002970695,-0.086751200258732,-0.091891855001450,-0.105269707739353,-0.001818433753215,-0.175826072692871,0.060903020203114,0.065090596675873,-0.072721682488918,-0.102037772536278,-0.150590926408768,-0.048486799001694,0.087980508804321));
res += mul(Get(s2,0,-dy), float4x4(-0.131189227104187,-0.099328108131886,-0.242201328277588,-0.044168826192617,0.072155371308327,-0.131372332572937,-0.239146858453751,0.248170092701912,-0.083941489458084,0.030200071632862,-0.008510950952768,-0.032337754964828,-0.081336237490177,-0.205749660730362,-0.062763042747974,-0.138609901070595));
res += mul(Get(s2,0,0), float4x4(0.173136547207832,-0.037689559161663,0.182465583086014,-0.082418903708458,0.045262530446053,0.086013913154602,0.117844380438328,0.254597932100296,-0.181966930627823,0.033437695354223,-0.122468873858452,0.158512338995934,0.065027572214603,0.026057522743940,-0.008558100089431,0.000815673847683));
res += mul(Get(s2,0,dy), float4x4(-0.039522193372250,0.031799472868443,0.064650461077690,0.147512316703796,-0.126562252640724,-0.012257572263479,-0.021789155900478,0.188463419675827,-0.024499233812094,0.029251670464873,-0.037154424935579,-0.072796583175659,0.061310373246670,-0.127551108598709,0.048420276492834,0.102522887289524));
res += mul(Get(s2,dx,-dy), float4x4(-0.016185797750950,-0.002560780150816,0.013374400325119,0.006060690619051,0.113675884902477,-0.117080852389336,0.233695372939110,0.157319381833076,0.114131920039654,0.022713115438819,0.119882941246033,0.167077407240868,0.257203578948975,-0.037452761083841,0.027131730690598,-0.198874697089195));
res += mul(Get(s2,dx,0), float4x4(-0.115921482443810,-0.008415360003710,-0.082437537610531,0.085872486233711,0.054088227450848,-0.087857820093632,-0.086536109447479,-0.090727776288986,-0.094511009752750,0.075124546885490,0.167605340480804,-0.006135019939393,-0.020245146006346,-0.081867195665836,0.117293804883957,0.156081691384315));
res += mul(Get(s2,dx,dy), float4x4(0.122372478246689,0.041510656476021,0.193597897887230,-0.121414117515087,0.036747217178345,-0.253536373376846,0.127835422754288,0.203073292970657,0.036263071000576,0.073195762932301,-0.004015044774860,0.041416693478823,0.045859575271606,0.134679317474365,0.102080568671227,-0.074036806821823));
res += mul(Get(s3,-dx,-dy), float4x4(0.248921617865562,-0.175341859459877,0.025152066722512,-0.102296516299248,-0.041774276643991,0.148167237639427,0.106413170695305,-0.045244116336107,-0.146492645144463,-0.122551552951336,-0.014711466617882,0.041713349521160,-0.069101564586163,-0.127479240298271,-0.121161252260208,-0.115028731524944));
res += mul(Get(s3,-dx,0), float4x4(-0.113842718303204,-0.014899233356118,-0.036071915179491,-0.279015094041824,-0.134042218327522,-0.099556624889374,0.033431235700846,-0.199653431773186,-0.129370719194412,-0.083165280520916,0.054920464754105,-0.006247534416616,-0.019132390618324,-0.209410324692726,-0.260094076395035,0.086224757134914));
res += mul(Get(s3,-dx,dy), float4x4(-0.339374691247940,-0.007249852176756,0.108650714159012,0.166201263666153,-0.011417939327657,0.045668330043554,0.022573912516236,-0.223545640707016,0.061710618436337,-0.078256092965603,0.094443291425705,0.168768018484116,0.287743419408798,-0.025471888482571,-0.027947377413511,0.041396077722311));
res += mul(Get(s3,0,-dy), float4x4(0.116363666951656,-0.065307378768921,-0.234323680400848,0.205299198627472,0.027539094910026,-0.009543911553919,-0.147583842277527,-0.077479526400566,-0.109255999326706,-0.101374842226505,0.263406813144684,0.140168890357018,0.129455491900444,-0.017568634822965,0.092922598123550,-0.141915798187256));
res += mul(Get(s3,0,0), float4x4(-0.088853150606155,-0.043303839862347,0.020178925246000,-0.110971406102180,-0.070598646998405,0.041146729141474,0.060734923928976,0.127903133630753,-0.068771526217461,-0.154239341616631,0.053709842264652,-0.129440143704414,0.104857057332993,-0.257093250751495,0.072142817080021,-0.042559128254652));
res += mul(Get(s3,0,dy), float4x4(0.037237126380205,0.094337977468967,0.132101058959961,0.013071447610855,-0.119765371084213,0.226892009377480,0.141184866428375,-0.096268899738789,-0.260167658329010,0.074810095131397,0.148380860686302,0.027538225054741,-0.022757973521948,-0.069373689591885,0.104204632341862,-0.046043500304222));
res += mul(Get(s3,dx,-dy), float4x4(-0.200318768620491,-0.086478978395462,-0.001453320845030,-0.243336185812950,-0.064849942922592,0.042327947914600,-0.127993196249008,-0.275388747453690,0.004184002056718,0.166720658540726,-0.047734752297401,-0.040411785244942,0.222012028098106,-0.134527578949928,-0.100638553500175,-0.068907141685486));
res += mul(Get(s3,dx,0), float4x4(0.070227563381195,0.004454014822841,0.000918636098504,-0.016363695263863,0.059381559491158,-0.043561708182096,-0.123111404478550,0.032653421163559,0.148094147443771,0.142364755272865,0.231283575296402,-0.020871484652162,0.058178696781397,-0.035724468529224,0.036891162395477,0.000316062098136));
res += mul(Get(s3,dx,dy), float4x4(0.067635372281075,0.074007995426655,0.164323642849922,-0.086361311376095,-0.010222264565527,0.071163468062878,-0.076095029711723,0.150826960802078,-0.018010243773460,-0.123185805976391,0.043144680559635,0.099410466849804,0.061433419585228,0.048715766519308,-0.001236776006408,0.004403118975461));
return max(float4(0,0,0,0), res);
}
