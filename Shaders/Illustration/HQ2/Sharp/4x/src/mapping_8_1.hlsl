sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.159810379147530,-0.216208234429359,-0.008145330473781,0.089950405061245,0.093171589076519,-0.260621041059494,0.136527568101883,0.087838105857372,-0.059692196547985,-0.264567464590073,0.107003711163998,0.036018490791321,-0.079308718442917,-0.099270634353161,-0.014406434260309,0.127349585294724));
res += mul(Get(s0,-dx,0), float4x4(-0.006724994163960,0.101005360484123,0.377790182828903,0.264219462871552,-0.097976602613926,-0.069727033376694,0.003049801336601,-0.066078670322895,0.013872306793928,0.062678515911102,-0.032367005944252,-0.035425577312708,0.047906663268805,0.104976847767830,-0.001238720142283,-0.038738321512938));
res += mul(Get(s0,-dx,dy), float4x4(-0.237862184643745,0.139898046851158,-0.031823243945837,0.044660344719887,-0.206265598535538,-0.100512668490410,-0.055282961577177,-0.055705118924379,0.041583575308323,0.087641425430775,0.124825030565262,0.144122943282127,0.101743213832378,0.003760711522773,0.051127865910530,-0.044904369860888));
res += mul(Get(s0,0,-dy), float4x4(0.040760677307844,-0.154381155967712,-0.097990237176418,-0.028010755777359,0.057372607290745,-0.094308584928513,-0.124985493719578,-0.070879459381104,0.016330780461431,0.284126102924347,0.004800421651453,0.162341713905334,0.026504090055823,-0.019366644322872,0.009591529145837,0.072891958057880));
res += mul(Get(s0,0,0), float4x4(0.104515291750431,0.084465175867081,0.107105806469917,-0.083646535873413,-0.133025392889977,0.074477739632130,0.145798206329346,-0.063377439975739,0.039394266903400,-0.042320705950260,0.073784112930298,-0.015744067728519,-0.027172526344657,0.003504701424390,0.021836701780558,0.005935009103268));
res += mul(Get(s0,0,dy), float4x4(-0.013120368123055,-0.061649207025766,0.129185527563095,0.139310106635094,-0.221300423145294,-0.117986395955086,-0.002559127518907,0.143801346421242,0.142963558435440,-0.060030456632376,-0.109157212078571,0.135716706514359,-0.248366832733154,0.000738592760172,0.025616426020861,-0.093358919024467));
res += mul(Get(s0,dx,-dy), float4x4(-0.116530328989029,-0.012132260948420,-0.106735043227673,-0.060933820903301,-0.007238525431603,0.036354210227728,0.074548400938511,-0.024692112579942,0.083610042929649,-0.218710258603096,-0.153163701295853,0.083445690572262,0.143440350890160,0.045111209154129,0.057804781943560,-0.044263146817684));
res += mul(Get(s0,dx,0), float4x4(0.023903470486403,-0.030576135963202,-0.074544049799442,-0.144631102681160,-0.014784308150411,0.000522552465554,0.236419051885605,-0.093405388295650,-0.080749765038490,0.119743667542934,0.005984376650304,0.012238133698702,0.059064012020826,0.127507776021957,-0.038837011903524,0.001116131665185));
res += mul(Get(s0,dx,dy), float4x4(0.130651295185089,-0.018771134316921,-0.041449297219515,-0.094460234045982,-0.018533075228333,-0.003622665535659,-0.089400559663773,-0.170167163014412,-0.116726726293564,0.104228258132935,0.023673346266150,-0.077378608286381,-0.096760891377926,-0.095871150493622,0.195281818509102,0.111714839935303));
res += mul(Get(s1,-dx,-dy), float4x4(-0.138691470026970,0.061276797205210,0.014982195571065,-0.109282344579697,-0.343155264854431,0.016796320676804,0.121442764997482,-0.126710742712021,0.103291846811771,-0.052522752434015,-0.016710486263037,-0.031539831310511,-0.007915059104562,0.016207084059715,0.052703313529491,-0.027000619098544));
res += mul(Get(s1,-dx,0), float4x4(0.220908224582672,0.115781962871552,-0.128364264965057,-0.033695012331009,-0.147137284278870,0.130891457200050,0.104941196739674,0.018837057054043,-0.078508242964745,0.090075343847275,-0.059549722820520,0.003779918653890,0.047992590814829,0.161328405141830,-0.122246570885181,0.060623429715633));
res += mul(Get(s1,-dx,dy), float4x4(-0.048691119998693,0.051917269825935,-0.221468955278397,-0.078469991683960,-0.077150143682957,0.039554905146360,0.090639665722847,-0.057108938694000,-0.229091390967369,-0.190027698874474,0.068199977278709,0.060487411916256,-0.156179517507553,0.111943751573563,-0.046329062432051,0.041594617068768));
res += mul(Get(s1,0,-dy), float4x4(-0.059656057506800,0.028838574886322,0.093779139220715,0.053810328245163,0.092437349259853,-0.011404871009290,0.016590069979429,-0.081629581749439,-0.002387826330960,-0.127697065472603,-0.113883852958679,0.089206524193287,-0.256482094526291,0.091181099414825,-0.012432537041605,0.022204520180821));
res += mul(Get(s1,0,0), float4x4(-0.021192712709308,0.064044699072838,0.108378469944000,0.127857729792595,0.083396278321743,0.014415982179344,0.097324632108212,0.023941785097122,0.063553780317307,-0.268630981445313,-0.026532830670476,-0.067295663058758,-0.087100535631180,-0.033814378082752,0.176184013485909,0.176882773637772));
res += mul(Get(s1,0,dy), float4x4(-0.069567985832691,-0.163589835166931,0.168127313256264,-0.150065422058105,0.057109281420708,-0.131526857614517,0.115689352154732,0.187982723116875,-0.020549545064569,0.136458113789558,-0.258377075195313,-0.034562487155199,-0.102516807615757,-0.085472799837589,0.180787965655327,0.008954062126577));
res += mul(Get(s1,dx,-dy), float4x4(0.074246838688850,-0.045530021190643,0.232451796531677,-0.036040574312210,0.138644322752953,-0.059935525059700,-0.020679635927081,-0.085801020264626,0.076872915029526,0.097033336758614,0.211414203047752,0.071847409009933,-0.084631055593491,0.043506830930710,-0.228283405303955,0.062688067555428));
res += mul(Get(s1,dx,0), float4x4(0.023853400722146,0.042944971472025,0.056638218462467,-0.033555615693331,-0.084749400615692,-0.204244375228882,0.117146477103233,-0.016556559130549,-0.006258258596063,-0.286940664052963,0.057994365692139,0.040783833712339,0.053469918668270,0.007703961804509,-0.063284270465374,-0.015566179528832));
res += mul(Get(s1,dx,dy), float4x4(-0.025335984304547,-0.081863403320313,0.056252315640450,-0.225669413805008,0.073893234133720,-0.172514870762825,0.043044984340668,0.252532362937927,-0.004728512838483,0.064994364976883,-0.175179302692413,0.062194142490625,0.036026082932949,-0.199329257011414,-0.082629136741161,0.061631780117750));
res += mul(Get(s2,-dx,-dy), float4x4(-0.233176216483116,-0.115758858621120,-0.021275253966451,-0.085936233401299,-0.038796000182629,0.050429977476597,-0.146371364593506,0.077504359185696,-0.056273069232702,0.199559375643730,-0.093015551567078,-0.067273207008839,0.114923678338528,-0.024357398971915,0.036000110208988,0.068252943456173));
res += mul(Get(s2,-dx,0), float4x4(-0.224825143814087,-0.072587415575981,-0.206548780202866,0.086567193269730,0.003907215315849,-0.005816571880132,-0.265015095472336,-0.231039643287659,0.308776199817657,0.017550770193338,-0.193069189786911,-0.020999876782298,-0.104820512235165,0.096339493989944,-0.078693121671677,-0.027387121692300));
res += mul(Get(s2,-dx,dy), float4x4(-0.036179844290018,0.015786610543728,0.103715285658836,-0.213501036167145,-0.026385894045234,-0.019930480048060,0.100827910006046,0.097865045070648,-0.122260339558125,0.071113951504230,-0.101171255111694,-0.157503411173820,0.037370704114437,-0.017091939225793,-0.064003996551037,-0.044011067599058));
res += mul(Get(s2,0,-dy), float4x4(0.010607608594000,0.108608983457088,-0.137176051735878,-0.051591385155916,-0.015838889405131,0.113403342664242,-0.359269827604294,0.092630364000797,-0.009896003641188,-0.125329032540321,-0.008948706090450,-0.001190840266645,-0.040854971855879,0.039031103253365,-0.107410587370396,0.175905436277390));
res += mul(Get(s2,0,0), float4x4(0.032703801989555,-0.032664913684130,-0.016780491918325,0.050653409212828,-0.021881584078074,-0.173944860696793,-0.033862743526697,0.115516081452370,0.033775817602873,0.058003172278404,-0.220018163323402,0.158243983983994,-0.179663121700287,-0.069892816245556,0.130428120493889,-0.152584373950958));
res += mul(Get(s2,0,dy), float4x4(-0.137394919991493,0.002606325084344,-0.074993759393692,0.023412751033902,-0.060237810015678,-0.077873848378658,-0.104540139436722,0.055349629372358,-0.084156915545464,0.025161916390061,0.160565853118896,-0.099602103233337,0.096678972244263,-0.174438387155533,-0.016586860641837,-0.033071909099817));
res += mul(Get(s2,dx,-dy), float4x4(-0.221047326922417,-0.078410878777504,-0.120669372379780,0.124119155108929,-0.038594651967287,0.047553848475218,-0.104268662631512,0.065551243722439,-0.177410289645195,0.090593002736568,-0.131992146372795,-0.010771045461297,0.031517200171947,-0.109462998807430,0.171029448509216,-0.231958761811256));
res += mul(Get(s2,dx,0), float4x4(0.098118305206299,0.003589253174141,-0.064457707107067,0.159510850906372,0.006858095992357,-0.152757361531258,0.049593765288591,-0.016773395240307,0.084026269614697,0.045276865363121,0.147468656301498,-0.161976993083954,0.195958644151688,-0.138033971190453,0.299061477184296,0.130874544382095));
res += mul(Get(s2,dx,dy), float4x4(-0.062446784228086,-0.055403448641300,0.143084332346916,-0.069063857197762,-0.045156344771385,0.102270774543285,-0.038339294493198,0.036024104803801,-0.169575810432434,0.005107728764415,-0.034228585660458,-0.049294285476208,-0.138893693685532,0.054618183523417,-0.069677829742432,0.192080691456795));
res += mul(Get(s3,-dx,-dy), float4x4(0.175114274024963,0.063544400036335,0.160934641957283,0.042462840676308,0.033717181533575,0.091762438416481,0.002369227353483,0.105611361563206,0.037695195525885,-0.013034489937127,0.068077161908150,0.109416499733925,-0.191366210579872,-0.169458240270615,0.159622415900230,0.080759279429913));
res += mul(Get(s3,-dx,0), float4x4(-0.211931109428406,-0.122164212167263,0.092272855341434,0.104270130395889,0.134462103247643,-0.016930123791099,0.137478291988373,-0.018913179636002,-0.005300275981426,0.225707575678825,0.008919625543058,0.077342890202999,-0.127917319536209,-0.104725569486618,-0.113465644419193,-0.000520761590451));
res += mul(Get(s3,-dx,dy), float4x4(0.032636925578117,-0.043891988694668,-0.130119308829308,-0.271156400442123,-0.063853166997433,0.097912110388279,-0.045925691723824,-0.119276329874992,-0.094971835613251,0.156090185046196,-0.019854230806231,-0.122728742659092,0.082524530589581,0.006387893576175,0.062178708612919,-0.054531469941139));
res += mul(Get(s3,0,-dy), float4x4(0.108554385602474,0.083221718668938,-0.002184110693634,-0.202724114060402,0.108379662036896,-0.248851612210274,0.008964175358415,0.044528409838676,0.057298503816128,0.045818984508514,-0.092778243124485,-0.183567032217979,0.091961964964867,0.009654675610363,-0.151372268795967,-0.007566665764898));
res += mul(Get(s3,0,0), float4x4(0.109160885214806,0.089130096137524,-0.135658547282219,-0.137722700834274,-0.226989790797234,-0.116855584084988,0.006325283553451,0.175626680254936,0.012771427631378,-0.114703454077244,0.075040645897388,-0.148652702569962,0.037013728171587,0.024084515869617,-0.073308952152729,-0.048836521804333));
res += mul(Get(s3,0,dy), float4x4(-0.056401543319225,0.063036806881428,-0.108858183026314,-0.036520484834909,0.034230392426252,0.157863453030586,0.100794240832329,0.126717358827591,-0.045964781194925,-0.002223707502708,0.135788574814796,0.011497468687594,-0.208087325096130,0.139092609286308,-0.176360145211220,-0.185120761394501));
res += mul(Get(s3,dx,-dy), float4x4(0.160597741603851,0.084011211991310,0.163316145539284,0.089318983256817,-0.096375823020935,-0.055101267993450,0.071740262210369,0.083051733672619,-0.175694912672043,-0.029673257842660,0.001094835926779,-0.289199292659760,-0.067375935614109,0.212107405066490,0.135457307100296,0.181086495518684));
res += mul(Get(s3,dx,0), float4x4(-0.046573113650084,-0.052083365619183,-0.141435682773590,-0.080831035971642,0.075207948684692,-0.202476397156715,-0.168787389993668,0.054420825093985,-0.202564179897308,0.095587909221649,0.045634754002094,-0.080717414617538,0.090685561299324,-0.051682148128748,-0.114587977528572,-0.056277330964804));
res += mul(Get(s3,dx,dy), float4x4(0.162767231464386,-0.109160289168358,0.173526421189308,-0.064996503293514,-0.148572415113449,0.073165215551853,0.044552449136972,0.120669759809971,-0.090445280075073,-0.045134957879782,0.035230126231909,-0.191104903817177,-0.108512125909328,0.107997149229050,0.025571057572961,0.040422860532999));
return max(float4(0,0,0,0), res);
}
