sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.153621956706047,0.035685382783413,0.021636208519340,-0.108690582215786,-0.068389885127544,-0.110792137682438,0.075616024434566,0.045112114399672,0.083950094878674,-0.179570972919464,0.246013537049294,0.058285277336836,0.190843448042870,-0.067845202982426,0.142057359218597,-0.148798644542694));
res += mul(Get(s0,-dx,0), float4x4(-0.099820159375668,0.048717200756073,0.121354825794697,-0.082144640386105,-0.061831131577492,0.014669319614768,-0.034722503274679,0.117439746856689,-0.116479985415936,-0.165799275040627,0.021433118730783,-0.002208296442404,0.066686771810055,-0.152846947312355,-0.012937570922077,0.075091011822224));
res += mul(Get(s0,-dx,dy), float4x4(-0.032018050551414,-0.138078063726425,0.098270729184151,0.056289933621883,0.025650613009930,-0.122690476477146,-0.119400300085545,0.074430517852306,-0.121524438261986,0.048626326024532,0.125427305698395,0.126645132899284,-0.141068503260612,-0.010279173031449,0.182716488838196,-0.107520215213299));
res += mul(Get(s0,0,-dy), float4x4(0.088264346122742,-0.160870403051376,-0.042548146098852,0.205728366971016,0.122732467949390,0.065659523010254,0.246763527393341,-0.010063039138913,-0.146234542131424,0.027646964415908,0.064172729849815,0.040085006505251,0.083370693027973,0.061121154576540,0.042775299400091,-0.158964276313782));
res += mul(Get(s0,0,0), float4x4(-0.158999934792519,0.018320858478546,0.034643661230803,-0.012107342481613,0.020514089614153,-0.109810538589954,0.120537981390953,0.060924317687750,0.049255970865488,-0.268902987241745,0.054459087550640,-0.069120727479458,0.043531302362680,-0.021022731438279,0.185411155223846,-0.205731704831123));
res += mul(Get(s0,0,dy), float4x4(0.099519133567810,-0.132562711834908,0.021747052669525,-0.126743897795677,0.090692944824696,0.022261273115873,-0.160520061850548,-0.190139099955559,0.042513214051723,0.211791634559631,0.002906490350142,-0.055295392870903,0.031099960207939,-0.111106067895889,0.021343415603042,0.344809979200363));
res += mul(Get(s0,dx,-dy), float4x4(0.125558808445930,0.003549736225978,0.027050118893385,-0.081437692046165,0.118305139243603,0.146965324878693,-0.005486895330250,-0.082141324877739,-0.064477950334549,0.118626751005650,-0.077002517879009,-0.061267301440239,-0.080231860280037,0.228125452995300,-0.164934590458870,0.118359826505184));
res += mul(Get(s0,dx,0), float4x4(-0.107463531196117,-0.018108610063791,0.058732267469168,0.182932674884796,-0.092910990118980,-0.070360817015171,-0.018872732296586,0.172172054648399,-0.248581171035767,-0.164717048406601,-0.241009995341301,0.143709555268288,0.073915228247643,-0.018984016031027,-0.135825380682945,-0.017985140904784));
res += mul(Get(s0,dx,dy), float4x4(-0.013021579943597,-0.054813832044601,0.148416742682457,-0.048528265208006,-0.098661787807941,-0.243192091584206,-0.047640170902014,-0.102793738245964,0.098947182297707,-0.054208196699619,-0.120087333023548,0.037236854434013,-0.004072824958712,0.133533179759979,0.085690580308437,0.031009607017040));
res += mul(Get(s1,-dx,-dy), float4x4(0.083949334919453,-0.055471599102020,-0.045527495443821,-0.115828722715378,0.068512901663780,-0.167748540639877,0.054102029651403,0.011012196540833,0.031122472137213,0.100557133555412,0.004395807161927,0.025607861578465,0.038186267018318,-0.001230780850165,0.006831567268819,0.043602205812931));
res += mul(Get(s1,-dx,0), float4x4(-0.047973562031984,-0.073589675128460,0.114570036530495,0.017636101692915,0.090151473879814,-0.063727699220181,-0.087586179375648,-0.091525681316853,0.128314927220345,0.054793696850538,-0.058433096855879,0.093734130263329,-0.151082530617714,-0.150056421756744,0.037889197468758,-0.107155673205853));
res += mul(Get(s1,-dx,dy), float4x4(-0.201383247971535,0.105031184852123,-0.096138715744019,0.055282089859247,0.018207576125860,0.014203342609107,-0.022155661135912,-0.173440888524055,-0.234559357166290,-0.125279411673546,0.229654490947723,0.009374990127981,-0.134841442108154,0.010297200642526,0.114856339991093,0.079111821949482));
res += mul(Get(s1,0,-dy), float4x4(-0.100864216685295,-0.129734233021736,-0.261450260877609,0.093827605247498,-0.037660602480173,-0.041903130710125,-0.169654950499535,0.095169320702553,-0.175027772784233,-0.117754034698009,0.199360311031342,0.044753983616829,-0.112830027937889,0.063067279756069,0.037574570626020,0.113043360412121));
res += mul(Get(s1,0,0), float4x4(-0.061287023127079,-0.146201103925705,-0.264738321304321,-0.151552319526672,-0.143472149968147,0.013019785284996,-0.057263534516096,-0.021036554127932,0.026432022452354,0.108077384531498,-0.060598779469728,0.051810123026371,-0.068782053887844,-0.074352793395519,0.045906189829111,-0.099038407206535));
res += mul(Get(s1,0,dy), float4x4(-0.029254231601954,-0.167666971683502,0.213186129927635,-0.020998308435082,-0.053279578685760,-0.061768390238285,0.072692476212978,0.242369875311852,-0.127952247858047,0.042509298771620,0.190373793244362,-0.120670929551125,-0.106862626969814,-0.077066496014595,-0.191726058721542,0.100020319223404));
res += mul(Get(s1,dx,-dy), float4x4(-0.142024844884872,0.048035964369774,-0.191418692469597,-0.079909436404705,0.026828739792109,0.229793146252632,-0.024903601035476,-0.083309486508369,0.092628449201584,0.350850313901901,0.004613184370100,0.106098473072052,-0.062218979001045,-0.003618119517341,-0.171214118599892,0.002364554675296));
res += mul(Get(s1,dx,0), float4x4(-0.153318896889687,-0.186533048748970,-0.036455962806940,0.158943772315979,-0.034061919897795,-0.033159531652927,0.131398826837540,0.121653832495213,0.091562584042549,0.066671065986156,0.083950929343700,0.015676317736506,-0.008485898375511,0.195832133293152,-0.051490083336830,0.010089765302837));
res += mul(Get(s1,dx,dy), float4x4(-0.170225307345390,0.072340197861195,-0.105205342173576,0.159981936216354,0.089628480374813,0.153339818120003,-0.033254392445087,0.036232240498066,0.059182349592447,0.062332201749086,-0.048048507422209,-0.099653825163841,-0.036236323416233,0.037581544369459,-0.040855422616005,0.159003287553787));
res += mul(Get(s2,-dx,-dy), float4x4(-0.031343068927526,-0.272614240646362,0.008149631321430,-0.148890033364296,-0.080246612429619,-0.044223573058844,-0.056672703474760,0.119754649698734,0.068232066929340,0.215618565678596,0.008951269090176,-0.119316123425961,-0.176092997193336,0.102757923305035,-0.213717252016068,0.069295771420002));
res += mul(Get(s2,-dx,0), float4x4(-0.021823827177286,-0.097548604011536,0.222961723804474,-0.054462101310492,-0.011427002958953,0.012090818025172,0.053918849676847,-0.060489322990179,-0.078371375799179,-0.053902424871922,0.033121973276138,-0.098044365644455,-0.066295303404331,0.024471929296851,-0.061806626617908,-0.124052606523037));
res += mul(Get(s2,-dx,dy), float4x4(-0.118214398622513,0.165551692247391,-0.171836838126183,-0.051470689475536,0.219807207584381,-0.055246382951736,-0.061869420111179,-0.149141401052475,-0.194181084632874,-0.101057626307011,-0.072311691939831,0.064406506717205,0.010447306558490,0.094983629882336,0.063370853662491,0.021025793626904));
res += mul(Get(s2,0,-dy), float4x4(-0.009718279354274,-0.157367512583733,-0.085168354213238,-0.038865029811859,-0.187681108713150,0.021688112989068,0.063376806676388,0.013603149913251,0.075091086328030,0.077424369752407,-0.119604162871838,0.099529191851616,-0.062828429043293,0.088904924690723,-0.259453803300858,0.088758759200573));
res += mul(Get(s2,0,0), float4x4(0.096853449940681,-0.058953817933798,-0.078999437391758,-0.180407568812370,-0.059445846825838,-0.203015848994255,0.065090447664261,-0.063483789563179,0.060356680303812,-0.039871219545603,0.111455917358398,-0.022356441244483,0.295069783926010,-0.202318519353867,0.220170348882675,0.009357478469610));
res += mul(Get(s2,0,dy), float4x4(0.141682863235474,0.095058731734753,0.029750157147646,0.112706258893013,0.027315774932504,-0.055976212024689,-0.176514387130737,-0.157477185130119,-0.045260712504387,-0.073287360370159,-0.087239980697632,0.161793455481529,-0.296070754528046,0.007825885899365,0.108688294887543,-0.194495081901550));
res += mul(Get(s2,dx,-dy), float4x4(-0.002604622626677,-0.105807535350323,-0.081849135458469,0.012978288345039,-0.020767215639353,0.258198946714401,0.091807909309864,0.116229556500912,-0.169592469930649,0.095919452607632,0.002135280985385,-0.020253909751773,-0.156019032001495,0.060209173709154,-0.090819105505943,-0.088853083550930));
res += mul(Get(s2,dx,0), float4x4(-0.159807875752449,0.075451426208019,-0.007605145685375,-0.010589661076665,-0.012174390256405,0.189095675945282,-0.220631629228592,0.011273378506303,0.018491908907890,-0.063751921057701,-0.004479247611016,-0.185275942087173,-0.178160980343819,0.013191732577980,-0.155992716550827,-0.034684333950281));
res += mul(Get(s2,dx,dy), float4x4(-0.095781214535236,0.058297112584114,-0.131370142102242,0.195944815874100,-0.086453787982464,-0.102617293596268,0.134616866707802,0.024930981919169,-0.152224287390709,0.102089062333107,-0.096022367477417,0.106116160750389,0.094130948185921,-0.084622964262962,-0.066049419343472,-0.068171061575413));
res += mul(Get(s3,-dx,-dy), float4x4(0.028480354696512,-0.072256952524185,-0.064105153083801,0.048900183290243,0.006602197885513,0.093929432332516,-0.001288919476792,0.015378951095045,0.179403215646744,-0.121978789567947,-0.076386325061321,-0.090112581849098,-0.077945947647095,-0.113779820501804,0.188865631818771,0.242585346102715));
res += mul(Get(s3,-dx,0), float4x4(0.020781913772225,0.176095351576805,0.252437025308609,-0.056651275604963,-0.034970503300428,-0.030092613771558,0.027937613427639,0.040589641779661,0.107611380517483,0.116849303245544,-0.041312925517559,0.128253757953644,-0.102820485830307,-0.072379186749458,0.001474375370890,-0.159700185060501));
res += mul(Get(s3,-dx,dy), float4x4(0.146304488182068,-0.093679785728455,-0.105203926563263,-0.169665828347206,0.052237644791603,-0.242674574255943,0.068105526268482,0.053419169038534,-0.130998224020004,-0.124237678945065,0.040303051471710,0.042478647083044,-0.079044468700886,-0.041135545819998,-0.130337297916412,-0.147050976753235));
res += mul(Get(s3,0,-dy), float4x4(-0.037894420325756,0.062816083431244,0.063561305403709,-0.056428655982018,-0.051385875791311,0.229070693254471,-0.032915417104959,0.012926420196891,-0.066644445061684,0.055624440312386,0.006158890668303,0.179172247648239,0.016586659476161,-0.121343016624451,0.023455195128918,-0.022294325754046));
res += mul(Get(s3,0,0), float4x4(0.039310157299042,-0.021105876192451,0.015574707649648,0.109006099402905,-0.070481561124325,-0.075628526508808,0.002782124560326,0.162863925099373,0.209492102265358,0.075496293604374,-0.034928437322378,-0.177301049232483,0.112665183842182,-0.172226652503014,-0.058616466820240,0.059529453516006));
res += mul(Get(s3,0,dy), float4x4(-0.043465174734592,-0.122440040111542,-0.065421074628830,-0.068635836243629,0.140320137143135,-0.083112001419067,0.046809218823910,-0.039168860763311,-0.025355249643326,0.054669898003340,-0.042288780212402,-0.093796908855438,0.048607598990202,0.134233653545380,0.006231423467398,0.086652949452400));
res += mul(Get(s3,dx,-dy), float4x4(-0.170514732599258,-0.076446078717709,-0.015208257362247,0.212656036019325,-0.161738693714142,-0.249843925237656,0.033136744052172,0.018927069380879,-0.021414814516902,-0.141337364912033,-0.005647025071084,-0.094495221972466,-0.125473245978355,0.017920251935720,-0.148131653666496,-0.205789491534233));
res += mul(Get(s3,dx,0), float4x4(-0.182226285338402,0.049281019717455,0.256990402936935,0.042402967810631,-0.020253421738744,-0.047169607132673,0.150957196950912,0.057237803936005,0.080356955528259,0.006074632983655,0.008760576136410,0.188648387789726,0.176724717020988,0.039515506476164,-0.139438658952713,0.091367833316326));
res += mul(Get(s3,dx,dy), float4x4(0.223714083433151,-0.183583125472069,-0.023570584133267,-0.000794222811237,0.023552952334285,-0.125777810811996,-0.362418651580811,0.058168057352304,-0.176778361201286,0.073060944676399,0.059196654707193,0.216222077608109,0.052562046796083,-0.028650036081672,0.033674158155918,-0.048579178750515));
return max(float4(0,0,0,0), res);
}
