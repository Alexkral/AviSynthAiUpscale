sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.023800577968359,0.092873670160770,-0.019187489524484,-0.144965291023254,0.115212492644787,0.100600205361843,-0.059625834226608,0.065572194755077,-0.060004156082869,0.020260512828827,0.073650635778904,-0.127523437142372,0.030097223818302,-0.038090489804745,-0.045104295015335,0.027012590318918));
res += mul(Get(s0,-dx,0), float4x4(-0.153622075915337,0.156604513525963,-0.214133128523827,0.143364757299423,0.266166180372238,-0.114872656762600,-0.090780206024647,-0.090659312903881,0.129804626107216,-0.119368769228458,-0.226592674851418,-0.036641959100962,0.012561855837703,0.129176482558250,-0.124438151717186,0.011743442155421));
res += mul(Get(s0,-dx,dy), float4x4(-0.061970934271812,-0.082766249775887,0.047173216938972,-0.003987453877926,-0.170094326138496,0.053357820957899,-0.134656429290771,-0.023465659469366,0.160801768302917,-0.044709786772728,0.075836062431335,0.142814248800278,0.043011408299208,-0.060713522136211,-0.149385452270508,0.028845163062215));
res += mul(Get(s0,0,-dy), float4x4(-0.120142027735710,0.089054279029369,-0.021102795377374,0.007309561129659,0.183651491999626,0.098088331520557,0.053520753979683,-0.028957547619939,-0.025929881259799,-0.017605205997825,-0.160208627581596,0.076442979276180,-0.195868894457817,0.001206674613059,0.003585834056139,0.093913599848747));
res += mul(Get(s0,0,0), float4x4(0.182001724839211,0.036324635148048,0.163275465369225,0.079434096813202,0.122220344841480,-0.119973480701447,0.001882096403278,-0.098414711654186,0.039502203464508,-0.023667352274060,0.042107105255127,-0.095636643469334,-0.171990677714348,-0.010048404335976,-0.117627859115601,-0.152644082903862));
res += mul(Get(s0,0,dy), float4x4(0.032311439514160,0.024829600006342,-0.012043412774801,-0.136060684919357,-0.165871217846870,-0.023280445486307,-0.006847963668406,0.103109441697598,-0.200512409210205,-0.076637856662273,-0.225252106785774,-0.033671006560326,0.115249611437321,-0.093764714896679,0.063152424991131,0.091197535395622));
res += mul(Get(s0,dx,-dy), float4x4(0.048993822187185,0.041595052927732,-0.091789402067661,0.112966261804104,0.052010621875525,0.034830994904041,0.234138399362564,0.252092003822327,-0.040996868163347,0.025980385020375,0.048368051648140,-0.203168794512749,0.033194668591022,0.053795043379068,0.226900517940521,-0.089402996003628));
res += mul(Get(s0,dx,0), float4x4(0.028098573908210,-0.100523523986340,0.140543758869171,-0.111805938184261,0.167755171656609,-0.049737993627787,-0.143309414386749,-0.058294702321291,-0.010574214160442,0.019184613600373,0.029341103509068,-0.001028022263199,-0.096456773579121,-0.150229468941689,-0.007508160546422,0.203117370605469));
res += mul(Get(s0,dx,dy), float4x4(-0.072648949921131,-0.097485177218914,-0.039888076484203,-0.041720159351826,0.149378046393394,-0.037320960313082,-0.119029588997364,-0.119800686836243,-0.093104802072048,-0.092084400355816,-0.144844874739647,0.072706364095211,-0.005413048900664,0.002268024720252,-0.019192559644580,-0.123639047145844));
res += mul(Get(s1,-dx,-dy), float4x4(0.050196602940559,0.155228570103645,0.131385579705238,0.146738186478615,0.067455358803272,-0.186734572052956,-0.069701842963696,-0.080667786300182,-0.056314185261726,0.119387097656727,0.096814125776291,-0.002506666351110,0.104733601212502,-0.080195657908916,-0.038649242371321,0.151327714323997));
res += mul(Get(s1,-dx,0), float4x4(-0.084732182323933,0.201978161931038,0.046466041356325,-0.153775647282600,0.095853552222252,0.183313354849815,0.069749735295773,-0.099504254758358,-0.132349431514740,0.063183523714542,-0.103955954313278,-0.149089306592941,-0.107418492436409,-0.012708914466202,0.043509364128113,0.068890012800694));
res += mul(Get(s1,-dx,dy), float4x4(-0.126340299844742,-0.107742704451084,0.209951967000961,0.029693219810724,0.061463281512260,0.151008427143097,0.075952574610710,-0.026590198278427,0.016767865046859,0.140641763806343,0.028251681476831,0.072385340929031,0.108208626508713,0.196555539965630,0.126374676823616,0.063651204109192));
res += mul(Get(s1,0,-dy), float4x4(0.173062846064568,0.062267247587442,0.088291577994823,-0.257906973361969,0.167798176407814,-0.044015225023031,0.075090825557709,-0.018908901140094,0.102406442165375,0.157208681106567,0.264773756265640,-0.074697583913803,-0.063031859695911,0.049276825040579,-0.177040830254555,0.066525615751743));
res += mul(Get(s1,0,0), float4x4(-0.011935442686081,-0.041965264827013,-0.174585133790970,-0.086923137307167,-0.124286264181137,-0.057427432388067,-0.006660704500973,-0.068423762917519,0.019728891551495,0.192062586545944,-0.049184698611498,0.042989000678062,0.242984697222710,-0.105969630181789,0.015982691198587,-0.054630450904369));
res += mul(Get(s1,0,dy), float4x4(0.001316009671427,-0.152503147721291,0.092693090438843,0.084274247288704,-0.090163938701153,0.113434471189976,0.089498497545719,-0.004345098510385,0.083691813051701,0.011733869090676,-0.040178824216127,-0.018070623278618,-0.072712473571301,-0.013867639005184,-0.097332939505577,-0.192722693085670));
res += mul(Get(s1,dx,-dy), float4x4(-0.038944099098444,0.026177357882261,0.082448899745941,-0.104008689522743,0.106536909937859,-0.076657943427563,0.254893779754639,0.037897150963545,-0.110858477652073,0.067010961472988,0.078814104199409,0.159644722938538,-0.101991377770901,0.092333443462849,-0.031691916286945,-0.096822187304497));
res += mul(Get(s1,dx,0), float4x4(-0.225061312317848,0.036184467375278,-0.123008683323860,-0.148896992206573,-0.014487447217107,-0.236826762557030,-0.042758069932461,0.104635015130043,-0.012591368518770,0.020935487002134,-0.135538607835770,0.067651294171810,-0.093238845467567,-0.020970486104488,-0.108736321330070,-0.000133009729325));
res += mul(Get(s1,dx,dy), float4x4(0.040645945817232,-0.104646511375904,0.217665448784828,-0.164944469928741,0.046304199844599,0.107875287532806,0.175199076533318,-0.044294893741608,-0.094316683709621,-0.102294594049454,-0.045484934002161,-0.014254677109420,0.012071062810719,-0.221423938870430,-0.211240649223328,-0.044640809297562));
res += mul(Get(s2,-dx,-dy), float4x4(-0.089756704866886,-0.053175460547209,0.006904740352184,-0.015376963652670,0.090344414114952,-0.062212675809860,-0.001153419492766,-0.046064015477896,-0.057786587625742,-0.031643416732550,0.046061564236879,-0.022094758227468,0.025946887210011,-0.035141058266163,-0.142575740814209,0.015671711415052));
res += mul(Get(s2,-dx,0), float4x4(-0.035944208502769,0.084162779152393,-0.014311186969280,0.094860233366489,0.056544747203588,0.105882309377193,0.035497210919857,-0.068584479391575,0.070319205522537,-0.026344377547503,-0.007677996996790,0.052852332592010,-0.039515107870102,0.034917902201414,-0.033740080893040,-0.055597748607397));
res += mul(Get(s2,-dx,dy), float4x4(0.165008768439293,0.060987144708633,-0.053066238760948,0.020886562764645,0.180519998073578,-0.019023451954126,0.010504585690796,-0.062046166509390,-0.119858212769032,0.210254967212677,-0.075114525854588,-0.056690469384193,0.041583850979805,-0.030535694211721,-0.091744937002659,-0.010805071331561));
res += mul(Get(s2,0,-dy), float4x4(-0.036629538983107,0.012368896044791,-0.096645176410675,0.019118268042803,0.133092120289803,-0.013579729944468,0.134118735790253,-0.143458083271980,-0.036778908222914,0.088479831814766,0.039542488753796,0.102337166666985,-0.107976526021957,-0.076620019972324,-0.023692771792412,0.041843906044960));
res += mul(Get(s2,0,0), float4x4(0.046145636588335,0.027477946132421,-0.003657513065264,-0.027031553909183,-0.090425707399845,-0.073436520993710,0.007549833040684,-0.027542905882001,0.194427847862244,-0.012578968890011,0.095103204250336,-0.031721927225590,0.125129148364067,0.041065499186516,0.017297035083175,0.112692490220070));
res += mul(Get(s2,0,dy), float4x4(-0.148494973778725,0.082282640039921,0.103536337614059,0.027969457209110,0.143650174140930,-0.139804244041443,-0.043973717838526,0.096810437738895,-0.056478172540665,-0.147019490599632,-0.077225945889950,-0.027013607323170,0.012288221158087,-0.035610973834991,0.019794143736362,-0.190338104963303));
res += mul(Get(s2,dx,-dy), float4x4(0.011536939069629,0.226064905524254,0.049970459192991,-0.011522369459271,-0.011459958739579,0.156144902110100,-0.011142569594085,0.022343108430505,-0.251282572746277,0.042917996644974,0.026178266853094,0.031223183497787,0.002016790211201,0.019032778218389,-0.130341216921806,-0.131088718771935));
res += mul(Get(s2,dx,0), float4x4(0.053196776658297,-0.022175932303071,0.143545627593994,-0.261979967355728,-0.115935400128365,-0.231760591268539,-0.238781556487083,0.012570272199810,0.062969334423542,-0.042973797768354,0.112696155905724,-0.122720383107662,-0.030739169567823,-0.004104728344828,-0.049725379794836,-0.107191286981106));
res += mul(Get(s2,dx,dy), float4x4(0.024834627285600,0.153676807880402,-0.163160130381584,0.036020491272211,0.060448296368122,0.018315296620131,0.022486682981253,0.017291868105531,0.017371803522110,0.204577133059502,-0.104039616882801,0.031128494068980,-0.178560853004456,-0.024320418015122,-0.208536669611931,-0.229949057102203));
res += mul(Get(s3,-dx,-dy), float4x4(0.031811654567719,0.174699008464813,0.189858332276344,0.020775090903044,0.125834807753563,0.051708724349737,-0.010923565365374,0.258644729852676,-0.078953094780445,-0.176096796989441,-0.216843515634537,0.115906268358231,-0.039182491600513,-0.053708780556917,0.115295216441154,-0.073625050485134));
res += mul(Get(s3,-dx,0), float4x4(-0.017352234572172,-0.003626487916335,-0.187487781047821,0.140611752867699,-0.268390446901321,0.114706434309483,-0.075785018503666,0.002605567220598,0.023858064785600,-0.061508517712355,0.078946277499199,-0.042745113372803,0.147007137537003,-0.044086124747992,0.126377612352371,-0.105635449290276));
res += mul(Get(s3,-dx,dy), float4x4(-0.058946505188942,-0.097353503108025,-0.016119882464409,-0.122726477682590,0.063621722161770,0.050367902964354,-0.114341989159584,-0.006755918264389,0.050117101520300,-0.095780320465565,-0.044342614710331,-0.031269993633032,0.220798909664154,0.010341448709369,-0.052775461226702,0.031834866851568));
res += mul(Get(s3,0,-dy), float4x4(0.069953761994839,0.086111463606358,0.090761512517929,0.135936066508293,0.098568983376026,0.118844881653786,-0.060552153736353,-0.073742881417274,-0.136319413781166,-0.029392318800092,0.191040664911270,0.084843084216118,-0.142224982380867,0.071957610547543,-0.007279661018401,0.023918366059661));
res += mul(Get(s3,0,0), float4x4(0.045713376253843,-0.105586417019367,-0.167714849114418,-0.208678677678108,0.061635073274374,0.008542486466467,0.055951435118914,-0.063795454800129,0.091797366738319,0.091397874057293,0.028835743665695,0.016160415485501,-0.084034644067287,-0.065268307924271,-0.141045793890953,-0.075833626091480));
res += mul(Get(s3,0,dy), float4x4(0.088627085089684,-0.170449480414391,-0.100472725927830,-0.039825927466154,0.053556345403194,0.058205898851156,-0.189993172883987,0.025001842528582,-0.058876395225525,0.050332836806774,0.051363166421652,-0.125089153647423,0.179539903998375,-0.047236215323210,-0.001857978641056,0.001026097219437));
res += mul(Get(s3,dx,-dy), float4x4(0.055545400828123,-0.057896349579096,0.016776258125901,-0.037368983030319,-0.039363134652376,0.073053218424320,0.064453206956387,0.072724036872387,-0.039764184504747,0.253222435712814,-0.061735812574625,-0.358749181032181,0.026566347107291,0.165974006056786,0.059739213436842,0.119369618594646));
res += mul(Get(s3,dx,0), float4x4(-0.035678870975971,0.233345717191696,-0.045796722173691,-0.083084970712662,0.091404177248478,0.140078127384186,-0.033897679299116,0.074304267764091,0.133507952094078,-0.011017083190382,-0.217715740203857,0.069923996925354,0.132524996995926,-0.094837397336960,-0.101715080440044,0.030180236324668));
res += mul(Get(s3,dx,dy), float4x4(0.013655945658684,-0.064177460968494,0.042875405400991,-0.075818434357643,0.086477525532246,0.042574863880873,-0.078428454697132,0.098154813051224,0.295204490423203,0.155386626720428,0.288151144981384,0.113321967422962,-0.111073456704617,-0.110494352877140,0.028231848031282,-0.105241611599922));
return max(float4(0,0,0,0), res);
}
