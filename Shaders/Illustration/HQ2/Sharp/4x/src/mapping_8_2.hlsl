sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.052296813577414,0.057026948779821,-0.027397783473134,0.167297467589378,0.069621905684471,0.197904795408249,-0.153807282447815,-0.046574715524912,0.042840406298637,-0.002721988130361,0.115547120571136,0.221433863043785,0.098289199173450,-0.006979390978813,-0.082215234637260,-0.125282138586044));
res += mul(Get(s0,-dx,0), float4x4(0.278336822986603,0.120164670050144,0.091057904064655,0.060984402894974,-0.083335153758526,0.189908415079117,0.048957411199808,0.102932348847389,-0.140509933233261,0.181872680783272,-0.004188898485154,0.132256686687469,-0.076123774051666,-0.075758628547192,-0.111192770302296,-0.040073167532682));
res += mul(Get(s0,-dx,dy), float4x4(0.067163333296776,0.174292907118797,0.250710010528564,-0.004295973107219,0.081134416162968,-0.052246585488319,0.018734177574515,-0.032179180532694,0.061550270766020,-0.035907540470362,0.004676410928369,0.122987478971481,0.063595809042454,0.107227131724358,0.061876226216555,-0.105407044291496));
res += mul(Get(s0,0,-dy), float4x4(-0.096566565334797,0.136321455240250,0.278219580650330,0.050710067152977,0.080111935734749,-0.054785836488008,0.043667748570442,-0.049995929002762,0.115039214491844,0.029941694810987,0.153213411569595,-0.191300094127655,-0.024806248024106,-0.061344701796770,0.145996779203415,0.103565424680710));
res += mul(Get(s0,0,0), float4x4(0.005862046964467,-0.176675260066986,-0.133203014731407,0.074559457600117,-0.055235575884581,0.031739324331284,-0.015451918356121,-0.125438794493675,0.036652002483606,-0.076509535312653,0.156274259090424,0.060811284929514,-0.001109264092520,0.005812121555209,0.127623334527016,-0.075077578425407));
res += mul(Get(s0,0,dy), float4x4(-0.124309673905373,-0.002205083379522,0.103498965501785,0.065395966172218,-0.062851868569851,0.092944182455540,0.038985867053270,0.053349193185568,-0.176804035902023,0.218786567449570,0.020392078906298,-0.114459738135338,0.069012805819511,-0.018862655386329,0.030889647081494,-0.159823343157768));
res += mul(Get(s0,dx,-dy), float4x4(0.051094099879265,0.138540998101234,0.015789790078998,-0.192891433835030,0.042557533830404,0.084277778863907,-0.209963053464890,0.046081870794296,0.024032108485699,-0.143606096506119,0.022586483508348,-0.147605285048485,-0.195508658885956,-0.142765581607819,0.085972629487514,0.147510468959808));
res += mul(Get(s0,dx,0), float4x4(-0.422992110252380,0.021634131669998,-0.137585908174515,0.033304054290056,0.138753086328506,0.034697890281677,-0.081087097525597,-0.108670890331268,0.006169721018523,0.012421878054738,0.223207324743271,-0.208468854427338,-0.010793908499181,-0.088733837008476,0.068996228277683,0.276775211095810));
res += mul(Get(s0,dx,dy), float4x4(-0.071514941751957,-0.038407910615206,0.005347029771656,-0.218832552433014,0.015654925256968,-0.057789426296949,-0.055723946541548,-0.058122064918280,-0.199291199445724,0.031564015895128,0.079760335385799,-0.082331813871861,0.061359114944935,-0.128522187471390,0.045191757380962,-0.013496417552233));
res += mul(Get(s1,-dx,-dy), float4x4(-0.119540609419346,0.048187866806984,-0.024526726454496,-0.011637080460787,0.159631744027138,0.296516507863998,-0.121824339032173,0.062003847211599,-0.021044166758657,-0.025278089568019,-0.183976501226425,-0.149610370397568,-0.057580150663853,0.029423147439957,0.103743657469749,0.167336553335190));
res += mul(Get(s1,-dx,0), float4x4(0.080852307379246,0.004343773704022,-0.021930683404207,0.215686574578285,0.058545738458633,0.022021168842912,-0.056682821363211,-0.021310068666935,0.154847785830498,0.031204665079713,0.119103178381920,0.038294710218906,-0.103769667446613,-0.173331454396248,0.128693014383316,-0.030050598084927));
res += mul(Get(s1,-dx,dy), float4x4(0.071619309484959,-0.218536689877510,-0.009069491177797,0.013625942170620,-0.214113458991051,0.203749209642410,-0.042541097849607,0.000643006467726,0.059368468821049,0.049668233841658,-0.008756970986724,0.148748546838760,0.062438312917948,0.081144995987415,-0.102846160531044,-0.037817612290382));
res += mul(Get(s1,0,-dy), float4x4(0.021526372060180,-0.014147318899632,0.200961485505104,0.006433841306716,-0.204684451222420,0.073812678456306,0.008361469954252,0.053226958960295,0.095209985971451,0.032049551606178,-0.022044537588954,-0.189263790845871,-0.308785319328308,-0.170683518052101,-0.210013419389725,-0.033977951854467));
res += mul(Get(s1,0,0), float4x4(-0.094676785171032,-0.136792123317719,-0.095394514501095,-0.138783872127533,-0.001546112936921,0.136831730604172,0.060531917959452,0.064415358006954,-0.076400481164455,0.160719349980354,0.020241217687726,0.032410569489002,-0.114290110766888,-0.014335414394736,-0.152758374810219,-0.127427920699120));
res += mul(Get(s1,0,dy), float4x4(0.055939611047506,-0.041365873068571,-0.113514713943005,-0.030472492799163,-0.324652373790741,0.067839160561562,-0.116487748920918,0.193374037742615,0.034178473055363,0.019554607570171,0.016236441209912,-0.020024243742228,0.073670700192451,0.102342650294304,-0.152426317334175,0.027589974924922));
res += mul(Get(s1,dx,-dy), float4x4(0.103361696004868,-0.034184776246548,-0.101535968482494,0.094901435077190,-0.013993063010275,0.059970192611217,-0.104724362492561,0.091731294989586,-0.000325848581269,-0.029923669993877,0.075241915881634,-0.072823628783226,0.093297988176346,0.142951145768166,-0.151859804987907,0.000395168259274));
res += mul(Get(s1,dx,0), float4x4(0.034465864300728,-0.057535760104656,0.039395533502102,0.059000227600336,-0.135419175028801,0.009383689612150,0.192722812294960,-0.027992576360703,0.019476182758808,-0.071451976895332,-0.146003529429436,0.139290288090706,-0.015179838985205,0.196378946304321,0.040601544082165,0.005936088971794));
res += mul(Get(s1,dx,dy), float4x4(-0.076397679746151,0.061745412647724,-0.097005620598793,-0.301316499710083,-0.100763395428658,-0.210962399840355,0.027368629351258,0.031160090118647,0.009012157097459,0.106650002300739,0.096513740718365,0.044598177075386,0.131317451596260,-0.205248445272446,-0.064633093774319,-0.231125086545944));
res += mul(Get(s2,-dx,-dy), float4x4(-0.179939612746239,-0.182405620813370,0.305139780044556,0.016550861299038,-0.225532770156860,-0.024908958002925,0.079853773117065,-0.107185587286949,-0.097609654068947,0.013058768585324,-0.008763781748712,0.120727226138115,-0.026973458006978,-0.029091771692038,-0.033507678657770,0.129361689090729));
res += mul(Get(s2,-dx,0), float4x4(-0.092629380524158,0.146694749593735,-0.035546395927668,0.128722280263901,-0.114004112780094,-0.000981172197498,-0.046447902917862,0.211013674736023,-0.013374306261539,0.032866146415472,0.119147606194019,0.066602312028408,-0.125260859727859,0.200512245297432,0.036061357706785,0.013871388509870));
res += mul(Get(s2,-dx,dy), float4x4(-0.075594030320644,0.230240583419800,-0.011552711948752,0.067434147000313,0.030702231451869,-0.023947967216372,-0.047111999243498,0.039898883551359,-0.052628278732300,0.190855219960213,-0.106089793145657,-0.027796329930425,-0.027647607028484,-0.174325868487358,-0.039494223892689,-0.161726906895638));
res += mul(Get(s2,0,-dy), float4x4(-0.090972773730755,-0.059780012816191,-0.133728638291359,-0.354667723178864,0.021549290046096,0.083943754434586,0.052803084254265,-0.064611256122589,-0.062996655702591,-0.103534065186977,-0.088957227766514,0.154378280043602,-0.030519265681505,-0.178122103214264,0.076054334640503,-0.075575172901154));
res += mul(Get(s2,0,0), float4x4(-0.018782796338201,0.216674864292145,0.055690709501505,-0.019480954855680,0.221849247813225,-0.106311075389385,0.043165717273951,0.104290977120399,0.036952301859856,-0.123967453837395,0.052126988768578,-0.120480082929134,0.067349739372730,0.061267372220755,0.199508026242256,-0.039712626487017));
res += mul(Get(s2,0,dy), float4x4(0.033274836838245,-0.020557427778840,0.081615664064884,0.194217622280121,0.021848404780030,-0.204367786645889,0.129536285996437,0.007176524028182,0.182470351457596,0.053386401385069,-0.073667466640472,-0.088013321161270,-0.116874568164349,0.157923251390457,-0.183394655585289,-0.033512938767672));
res += mul(Get(s2,dx,-dy), float4x4(0.200822830200195,-0.043363030999899,-0.110119298100471,-0.036759510636330,-0.031570408493280,0.124033339321613,0.151358798146248,-0.078455984592438,-0.006492228247225,0.114084288477898,-0.205999076366425,0.138501137495041,0.132580727338791,-0.001429889001884,0.133814662694931,-0.152500420808792));
res += mul(Get(s2,dx,0), float4x4(0.157075658440590,0.085788100957870,0.058527186512947,-0.037883426994085,0.001564699108712,-0.043389193713665,0.205328091979027,-0.086886867880821,0.041709285229445,-0.098997883498669,0.132229357957840,0.036976289004087,-0.095305904746056,0.094138383865356,0.035621486604214,0.157808706164360));
res += mul(Get(s2,dx,dy), float4x4(0.354300737380981,0.045113112777472,0.065864577889442,0.121107161045074,0.074150860309601,-0.120989874005318,0.047926247119904,0.100546404719353,0.009474794380367,-0.040327280759811,-0.033460725098848,-0.016387833282351,0.065747335553169,0.041936073452234,0.004882989451289,0.000890067487489));
res += mul(Get(s3,-dx,-dy), float4x4(0.033813606947660,0.080186344683170,0.067896246910095,0.098603412508965,0.072102732956409,0.151359051465988,-0.199718907475471,-0.209040403366089,-0.108649991452694,0.199821665883064,0.005168052390218,-0.004297180101275,-0.015989899635315,-0.090582169592381,-0.076045803725719,-0.066563792526722));
res += mul(Get(s3,-dx,0), float4x4(0.132754221558571,0.156133964657784,-0.077352464199066,0.155919164419174,0.059219453483820,-0.095738865435123,-0.026928680017591,0.050486914813519,-0.061160761862993,0.060314040631056,-0.085432618856430,0.086424715816975,0.091868534684181,0.023001417517662,-0.177441507577896,-0.044984973967075));
res += mul(Get(s3,-dx,dy), float4x4(0.022065296769142,-0.056203518062830,-0.053209125995636,-0.055684134364128,-0.064369328320026,-0.068714454770088,0.090189546346664,0.060909036546946,-0.231464415788651,-0.101694688200951,0.112631782889366,0.029766606166959,0.073951132595539,-0.019231569021940,0.256048500537872,-0.096455983817577));
res += mul(Get(s3,0,-dy), float4x4(0.050202522426844,-0.109751991927624,-0.023559683933854,-0.166627272963524,0.197135299444199,0.047657277435064,-0.048173908144236,0.135691747069359,-0.006036695558578,0.084000051021576,0.028162891045213,0.061860416084528,0.029226828366518,0.200926423072815,0.151927500963211,0.038129083812237));
res += mul(Get(s3,0,0), float4x4(0.005680250935256,-0.107667401432991,0.176277831196785,0.123731844127178,-0.160616472363472,0.183766975998878,-0.143400073051453,0.033502746373415,0.270545035600662,-0.018368346616626,0.032977666705847,0.242838233709335,0.047583185136318,-0.144235119223595,0.139924749732018,-0.032310057431459));
res += mul(Get(s3,0,dy), float4x4(0.062055643647909,-0.079362802207470,-0.040822450071573,0.047200400382280,-0.065604060888290,-0.011477498337626,-0.047866314649582,-0.124662905931473,-0.117437861859798,-0.042469296604395,0.052011717110872,0.004644608125091,-0.019706938415766,-0.004118164535612,-0.005876561626792,0.124981790781021));
res += mul(Get(s3,dx,-dy), float4x4(-0.092726163566113,-0.083000458776951,-0.010513918474317,-0.185362577438354,0.160803660750389,-0.001056301873177,0.199036434292793,-0.004668756853789,-0.041517112404108,0.139516815543175,-0.017600201070309,-0.037367280572653,-0.192644968628883,0.057352859526873,-0.183739840984344,0.042963571846485));
res += mul(Get(s3,dx,0), float4x4(-0.115781210362911,-0.119596622884274,-0.206107765436172,0.060921084135771,0.100346334278584,-0.121272310614586,0.178926035761833,0.148944005370140,0.013832791708410,0.012569470331073,-0.066050201654434,0.099193915724754,0.073030374944210,-0.053317539393902,-0.001425448223017,0.082875303924084));
res += mul(Get(s3,dx,dy), float4x4(-0.028890529647470,0.005977171938866,0.107574559748173,-0.007652282714844,-0.026226371526718,-0.008501608856022,-0.192739427089691,0.060616210103035,0.082765094935894,0.095482058823109,-0.028601367026567,-0.183667421340942,0.071826554834843,0.065641053020954,-0.013389901258051,-0.042813073843718));
return max(float4(0,0,0,0), res);
}
