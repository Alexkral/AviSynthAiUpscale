sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.076898269355297,0.111319474875927,-0.064837716519833,-0.109418950974941,0.402478426694870,-0.123559921979904,-0.083925247192383,-0.007345044054091,-0.007641541771591,-0.159185454249382,0.158735990524292,0.095602460205555,-0.044447287917137,0.112571008503437,0.064610928297043,0.194495826959610));
res += mul(Get(s0,-dx,0), float4x4(0.192512899637222,-0.049768306314945,-0.038551166653633,0.169133961200714,-0.087574727833271,-0.144283071160316,0.063760623335838,0.020837182179093,-0.276392430067062,-0.067463211715221,0.023753983899951,-0.073862813413143,0.050901487469673,-0.020054955035448,-0.040134042501450,0.200208395719528));
res += mul(Get(s0,-dx,dy), float4x4(-0.058024235069752,0.056060720235109,0.035030234605074,-0.133716613054276,-0.065906129777431,0.147330477833748,-0.099129050970078,-0.029411556199193,0.243202477693558,0.034663587808609,0.065393842756748,-0.081207208335400,0.162357509136200,0.009486759081483,0.080413639545441,-0.048948671668768));
res += mul(Get(s0,0,-dy), float4x4(-0.035763565450907,-0.029382642358541,-0.008779777213931,0.004886778537184,-0.056461066007614,-0.239111185073853,0.117862939834595,0.053256921470165,-0.070125423371792,-0.163983732461929,0.021109541878104,0.026082962751389,0.002552953315899,0.125912562012672,0.028270520269871,0.103225424885750));
res += mul(Get(s0,0,0), float4x4(-0.006253290921450,0.132000818848610,-0.065097190439701,-0.081217490136623,0.035327285528183,-0.081536144018173,-0.041791860014200,0.042233884334564,-0.078329056501389,-0.000265014299657,0.047016579657793,-0.041951928287745,0.120749816298485,-0.010618639178574,0.206870838999748,0.233927935361862));
res += mul(Get(s0,0,dy), float4x4(0.189125895500183,0.203862264752388,0.221471354365349,0.102551244199276,-0.102795809507370,0.086654096841812,-0.039846599102020,0.101330675184727,-0.111288160085678,0.002458957023919,-0.018902216106653,0.008257189765573,0.304608464241028,0.248930260539055,-0.121140040457249,0.056674946099520));
res += mul(Get(s0,dx,-dy), float4x4(-0.041300445795059,0.071563847362995,0.041903622448444,-0.083748437464237,-0.067464321851730,-0.032102864235640,0.038150295615196,-0.010426742956042,0.010362019762397,0.101146012544632,0.022444002330303,0.108092255890369,0.091565839946270,0.431254774332047,-0.022679835557938,-0.022466955706477));
res += mul(Get(s0,dx,0), float4x4(0.067962676286697,-0.088505163788795,-0.070100262761116,-0.101891294121742,-0.034129124134779,0.063165329396725,-0.032473493367434,0.078130550682545,-0.148215621709824,-0.234830737113953,0.034570463001728,-0.055794198065996,-0.155174508690834,0.179982587695122,0.022601556032896,-0.006199486553669));
res += mul(Get(s0,dx,dy), float4x4(-0.167836144566536,-0.190029114484787,0.132340967655182,0.147016972303391,0.153343409299850,-0.019009478390217,-0.132394358515739,-0.032394010573626,-0.168147414922714,0.218195661902428,-0.021978108212352,0.027319783344865,0.195829764008522,-0.139785394072533,0.193985059857368,-0.020202370360494));
res += mul(Get(s1,-dx,-dy), float4x4(-0.067570209503174,0.058976471424103,0.123667664825916,-0.077083826065063,0.093195788562298,-0.058617334812880,0.047193139791489,0.045710012316704,0.020553771406412,0.105125442147255,0.044092178344727,-0.083591304719448,0.040316779166460,0.165559023618698,-0.139183744788170,-0.121000468730927));
res += mul(Get(s1,-dx,0), float4x4(-0.159108802676201,0.208172485232353,-0.027931317687035,-0.029988979920745,-0.081395298242569,0.081009723246098,0.110642470419407,0.114513054490089,0.110414512455463,0.170265361666679,0.226060330867767,0.039532534778118,-0.102703675627708,-0.025576762855053,-0.118151746690273,0.034681282937527));
res += mul(Get(s1,-dx,dy), float4x4(0.070227071642876,0.089821264147758,0.261191338300705,0.079697728157043,0.163054183125496,0.208288058638573,0.090794980525970,-0.043159786611795,0.015998667106032,0.091162681579590,-0.018378064036369,0.016789482906461,-0.155146926641464,0.199615493416786,-0.216410368680954,-0.147491633892059));
res += mul(Get(s1,0,-dy), float4x4(0.040172815322876,0.055615786463022,-0.107736647129059,-0.099479697644711,-0.122614480555058,-0.200526654720306,0.037987500429153,0.066675744950771,-0.147056117653847,-0.089355848729610,-0.224455639719963,0.027747133746743,-0.011585005559027,-0.093889042735100,-0.111236885190010,0.063224531710148));
res += mul(Get(s1,0,0), float4x4(0.187454104423523,0.004906248766929,-0.103312768042088,0.029039304703474,0.065954513847828,0.044618926942348,0.024644423276186,-0.024520428851247,0.132371738553047,-0.104370608925819,0.035971947014332,-0.220920711755753,-0.233371511101723,-0.103604160249233,-0.120446249842644,0.104863792657852));
res += mul(Get(s1,0,dy), float4x4(-0.121270313858986,0.140288710594177,0.077870480716228,0.088299006223679,0.021199183538556,-0.031505979597569,0.082236826419830,-0.166728004813194,0.203382164239883,-0.185570150613785,0.036778528243303,-0.025642493739724,0.084054999053478,0.055888738483191,-0.171743497252464,-0.130627900362015));
res += mul(Get(s1,dx,-dy), float4x4(0.100249715149403,0.092105962336063,-0.037633378058672,0.271127730607986,0.178895458579063,-0.019125353544950,-0.023626942187548,0.014649905264378,-0.028028951957822,-0.148753389716148,-0.159611508250237,0.137428343296051,-0.158874318003654,0.141061350703239,-0.061724178493023,0.110849536955357));
res += mul(Get(s1,dx,0), float4x4(0.165055066347122,-0.164640605449677,-0.014234811067581,0.040390413254499,0.148575603961945,0.114045530557632,0.040559470653534,-0.092814542353153,-0.050043057650328,0.008885488845408,-0.029187645763159,0.119826391339302,0.102806814014912,0.014091437682509,0.071699403226376,-0.099592052400112));
res += mul(Get(s1,dx,dy), float4x4(0.036832917481661,-0.069607958197594,0.036564767360687,0.052545052021742,-0.230837941169739,-0.058877263218164,-0.011082645505667,0.190784364938736,0.036549255251884,-0.083222098648548,-0.173689335584641,0.135209739208221,0.181738004088402,-0.061075609177351,0.055379554629326,-0.007716291584074));
res += mul(Get(s2,-dx,-dy), float4x4(0.088437125086784,-0.080538727343082,0.111767187714577,-0.110261112451553,-0.104257866740227,-0.048430684953928,-0.106790870428085,0.195804238319397,-0.026199042797089,-0.151375174522400,0.028545198962092,-0.222335547208786,-0.047278575599194,0.132905513048172,0.164026752114296,-0.012685996480286));
res += mul(Get(s2,-dx,0), float4x4(0.048774186521769,0.045765753835440,0.013181037269533,0.065519899129868,-0.039473518729210,-0.013900917023420,0.057615391910076,-0.033384028822184,-0.060442529618740,-0.261702835559845,-0.032657172530890,0.142105385661125,-0.022244464606047,0.028376756235957,0.098920524120331,-0.049385506659746));
res += mul(Get(s2,-dx,dy), float4x4(-0.195540711283684,-0.003391712903976,0.007944071665406,0.126944065093994,-0.046934325248003,-0.014540863223374,0.137449473142624,-0.239228874444962,-0.088960953056812,-0.077154271304607,-0.031210718676448,0.233825162053108,-0.089018054306507,-0.448366254568100,0.082877099514008,-0.064273677766323));
res += mul(Get(s2,0,-dy), float4x4(0.140100628137589,-0.133509710431099,0.090793162584305,0.075058951973915,0.120750024914742,-0.009439459070563,-0.055644385516644,0.086221538484097,0.060775682330132,0.070229761302471,0.106699354946613,-0.195547521114349,-0.067102223634720,0.151447132229805,0.081771522760391,-0.097102828323841));
res += mul(Get(s2,0,0), float4x4(0.240344688296318,-0.053596854209900,0.051868222653866,-0.139734536409378,0.069445408880711,-0.001985183916986,0.195749133825302,0.217367291450500,-0.066456325352192,0.168489947915077,-0.098921477794647,0.071971185505390,0.159210339188576,0.053325735032558,0.064870387315750,0.141635388135910));
res += mul(Get(s2,0,dy), float4x4(-0.108502149581909,-0.145425140857697,0.038160849362612,0.131453603506088,0.039690539240837,0.050152331590652,0.111248500645161,-0.010542034171522,-0.235642343759537,-0.092947199940681,0.190528497099876,-0.107582971453667,0.151222199201584,-0.012768629938364,-0.045062273740768,0.006795520894229));
res += mul(Get(s2,dx,-dy), float4x4(-0.112712040543556,-0.109749235212803,0.037640679627657,0.028656108304858,-0.062327586114407,-0.062314905226231,0.080574527382851,0.051217228174210,-0.041618440300226,-0.050388395786285,0.116842418909073,0.035936944186687,-0.035992104560137,0.097907938063145,-0.156226962804794,-0.050062779337168));
res += mul(Get(s2,dx,0), float4x4(0.039865355938673,-0.016545603051782,0.091177105903625,-0.139315396547318,0.282658457756042,-0.078230626881123,-0.124373108148575,-0.119573146104813,-0.093860857188702,0.126896277070045,-0.093424893915653,-0.024680851027369,0.232908725738525,-0.144870027899742,-0.106437020003796,0.075545519590378));
res += mul(Get(s2,dx,dy), float4x4(0.164707556366920,0.193068787455559,-0.074488185346127,0.082258045673370,0.062233541160822,0.068075425922871,0.074293203651905,-0.090839356184006,0.154063239693642,-0.274883300065994,-0.070960693061352,-0.037167355418205,0.193944513797760,-0.057258337736130,-0.082192674279213,-0.002335053170100));
res += mul(Get(s3,-dx,-dy), float4x4(-0.041532564908266,-0.109146617352962,-0.092874534428120,-0.082892648875713,0.052432134747505,-0.106732971966267,-0.075074374675751,0.085822142660618,0.058133028447628,-0.054410811513662,0.135249584913254,-0.069587238132954,-0.136242240667343,0.174398124217987,-0.091447047889233,0.138674885034561));
res += mul(Get(s3,-dx,0), float4x4(-0.013145324774086,-0.086394339799881,0.028573045507073,0.114066690206528,-0.189125955104828,0.135081753134727,-0.090418078005314,-0.158437788486481,-0.044251907616854,0.019420241937041,-0.125854209065437,-0.071715466678143,0.118510678410530,-0.014893899671733,-0.046521011739969,0.095449529588223));
res += mul(Get(s3,-dx,dy), float4x4(-0.162896558642387,0.028517341241241,-0.010379822924733,0.062122169882059,-0.227800592780113,-0.192777857184410,0.201721355319023,-0.106202125549316,0.048146776854992,-0.194309666752815,-0.195761293172836,-0.003798511112109,0.024329215288162,-0.117559596896172,-0.201471015810966,-0.232669427990913));
res += mul(Get(s3,0,-dy), float4x4(0.086882941424847,-0.055561322718859,0.110622383654118,0.064112037420273,-0.036281015723944,0.138799890875816,-0.129317328333855,-0.194317951798439,-0.113949157297611,0.236048847436905,-0.003840741934255,-0.117731146514416,0.013160360977054,0.138695240020752,-0.133474156260490,-0.129215881228447));
res += mul(Get(s3,0,0), float4x4(0.142011135816574,0.162038579583168,0.029164999723434,0.044758856296539,-0.029461676254869,0.120474912226200,0.133550062775612,-0.042374279350042,-0.195668429136276,0.155211225152016,0.167902037501335,0.108335189521313,0.025920027866960,-0.061107240617275,0.097560651600361,0.048842582851648));
res += mul(Get(s3,0,dy), float4x4(0.021271130070090,-0.058041822165251,0.011536002159119,0.100311852991581,-0.103417664766312,0.033129222691059,0.123023279011250,0.004881522152573,-0.138965785503387,0.025327896699309,0.032595090568066,-0.083330459892750,-0.042135369032621,-0.061044346541166,0.123711794614792,0.062890037894249));
res += mul(Get(s3,dx,-dy), float4x4(-0.181314170360565,-0.001000754651614,0.042977511882782,-0.041612409055233,0.015750844031572,-0.149147957563400,-0.039886023849249,-0.065215155482292,0.009936323389411,0.111222803592682,0.117151193320751,-0.133302494883537,-0.133083254098892,-0.004768631421030,-0.049785234034061,-0.108223713934422));
res += mul(Get(s3,dx,0), float4x4(-0.086681701242924,-0.141848653554916,-0.028101906180382,0.108439639210701,0.086913280189037,-0.031069157645106,0.066245943307877,-0.027296161279082,-0.112704284489155,0.077312245965004,0.218634381890297,0.010389168746769,0.009964670985937,-0.052340988069773,-0.076408870518208,0.105712547898293));
res += mul(Get(s3,dx,dy), float4x4(0.051805671304464,-0.011088617146015,-0.232899069786072,-0.032033845782280,0.311093419790268,-0.107785619795322,0.079885385930538,0.057705838233232,-0.124913930892944,0.111572094261646,0.239228367805481,0.188412442803383,-0.062222901731730,-0.062551163136959,-0.100534617900848,0.092054568231106));
return max(float4(0,0,0,0), res);
}
