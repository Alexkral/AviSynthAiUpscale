sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.150812581181526,0.111039929091930,-0.148980095982552,-0.015506112948060,0.012447061948478,0.037809357047081,-0.028686566278338,0.113371439278126,0.007553859613836,0.027766099199653,0.149216517806053,0.079065762460232,-0.095162294805050,-0.059845376759768,0.118800267577171,0.142859563231468));
res += mul(Get(s0,-dx,0), float4x4(0.062479566782713,-0.067301429808140,-0.059253334999084,-0.060978028923273,-0.054253652691841,0.188839420676231,0.179102540016174,0.041426584124565,-0.124132826924324,0.030527440831065,0.066178284585476,0.039275955408812,0.006300924811512,-0.035072404891253,-0.007306934799999,0.043319482356310));
res += mul(Get(s0,-dx,dy), float4x4(-0.073245599865913,0.018040895462036,-0.016959629952908,0.079789094626904,0.128081306815147,-0.035410743206739,0.231550782918930,-0.043610237538815,-0.046372924000025,0.104777149856091,-0.134563714265823,0.064080804586411,-0.119117625057697,-0.062660835683346,0.031399980187416,0.125056520104408));
res += mul(Get(s0,0,-dy), float4x4(-0.190526768565178,0.094571664929390,0.021996794268489,0.090736709535122,0.211990565061569,0.021442255005240,-0.002009585034102,-0.049763534218073,0.326221406459808,0.133899182081223,-0.023384509608150,0.199253022670746,-0.055949851870537,0.124123170971870,0.125753566622734,-0.243793562054634));
res += mul(Get(s0,0,0), float4x4(0.021635174751282,-0.043643981218338,0.104067273437977,0.123992994427681,-0.097676888108253,0.069537736475468,-0.059349596500397,0.179762944579124,-0.135051265358925,0.045212864875793,-0.044388998299837,0.323034167289734,-0.186874985694885,-0.046271584928036,-0.020243776962161,0.224715426564217));
res += mul(Get(s0,0,dy), float4x4(-0.033510588109493,0.028326483443379,-0.061474665999413,-0.035589523613453,-0.105448774993420,-0.129425838589668,-0.096577189862728,0.004668269306421,-0.000177445559530,-0.169207885861397,0.022468056529760,-0.068887978792191,0.130557835102081,-0.044200386852026,-0.104939505457878,0.077006608247757));
res += mul(Get(s0,dx,-dy), float4x4(0.068042054772377,0.014267459511757,0.102739632129669,-0.074561566114426,0.049056362360716,0.089575871825218,0.042743861675262,-0.147067606449127,-0.157571807503700,-0.151470229029655,-0.233025968074799,0.048037823289633,0.054607346653938,0.133550971746445,-0.122957549989223,-0.151924312114716));
res += mul(Get(s0,dx,0), float4x4(0.125905975699425,0.035948917269707,0.215507134795189,-0.194251015782356,0.205249503254890,-0.190352544188499,0.097899727523327,-0.071414791047573,0.255320370197296,-0.055678483098745,0.077227056026459,0.037767007946968,-0.071142427623272,-0.116068564355373,-0.111225061118603,0.206589132547379));
res += mul(Get(s0,dx,dy), float4x4(-0.090775854885578,0.269736438989639,0.043346960097551,-0.064833186566830,0.146888703107834,-0.182169362902641,-0.048709522932768,0.169166356325150,-0.195722535252571,0.121173724532127,-0.107654929161072,-0.189295426011086,0.079684354364872,0.060337707400322,0.051957473158836,0.000229058205150));
res += mul(Get(s1,-dx,-dy), float4x4(0.100068360567093,-0.107296705245972,-0.082927845418453,-0.097100093960762,0.250181853771210,0.055285777896643,0.121345497667789,0.029220014810562,0.082149825990200,0.088018395006657,0.209472432732582,-0.105072319507599,0.165729105472565,-0.089122831821442,0.084198772907257,-0.036387942731380));
res += mul(Get(s1,-dx,0), float4x4(-0.075654707849026,-0.100319847464561,-0.137410953640938,-0.055825188755989,-0.175964459776878,-0.064406961202621,0.202932521700859,-0.079169839620590,0.131793826818466,-0.030120344832540,0.027836648747325,0.036123316735029,0.018459940329194,0.103215076029301,-0.029538068920374,-0.120700590312481));
res += mul(Get(s1,-dx,dy), float4x4(0.066904589533806,-0.184746548533440,0.232669964432716,0.011014790274203,0.025612378492951,0.006013987585902,-0.032609350979328,-0.038512002676725,-0.229727730154991,0.238441273570061,-0.133219182491302,0.034450992941856,0.014206108637154,0.012649910524487,0.164459481835365,-0.014600178226829));
res += mul(Get(s1,0,-dy), float4x4(-0.109072871506214,0.023831045255065,0.147658526897430,-0.042025245726109,0.098291173577309,-0.156852766871452,0.266715645790100,0.080329984426498,0.001062397495843,0.055260252207518,0.001137822051533,-0.100549802184105,0.070976108312607,0.028414251282811,-0.025817785412073,0.131072655320168));
res += mul(Get(s1,0,0), float4x4(-0.014597489498556,-0.035833030939102,0.197585418820381,0.055582426488400,0.049454431980848,0.025321191176772,0.178697273135185,0.075498923659325,-0.165058329701424,0.008042653091252,-0.039836376905441,-0.017545683309436,0.044650778174400,0.092361688613892,0.045599583536386,-0.004126105923206));
res += mul(Get(s1,0,dy), float4x4(-0.124164141714573,0.070789106190205,-0.092028677463531,-0.052200939506292,0.063676118850708,0.019755769520998,-0.023371852934361,0.075708188116550,0.022370975464582,-0.104099541902542,-0.033719211816788,0.048305410891771,0.004061205778271,0.056531805545092,0.091210193932056,-0.014211586676538));
res += mul(Get(s1,dx,-dy), float4x4(-0.128040626645088,-0.113065138459206,0.031850568950176,-0.055006790906191,-0.070225916802883,-0.131187617778778,0.036803536117077,0.223803907632828,0.075438834726810,-0.069940514862537,-0.101744227111340,-0.112945742905140,-0.039861660450697,0.005751772318035,-0.123082734644413,-0.087873384356499));
res += mul(Get(s1,dx,0), float4x4(-0.022882319986820,0.054668966680765,0.061169981956482,0.066394090652466,0.002412511035800,0.035010859370232,-0.003266468644142,-0.204264074563980,-0.140274599194527,-0.001273007132113,0.030103338882327,0.168121933937073,0.106497094035149,-0.090430043637753,-0.006166704930365,-0.095163308084011));
res += mul(Get(s1,dx,dy), float4x4(-0.004461558535695,-0.148728922009468,-0.039239473640919,0.058266121894121,0.080699682235718,0.093609474599361,0.022841544821858,0.000202092458494,0.006952376570553,-0.111768543720245,-0.095525100827217,0.031761199235916,0.009845421649516,0.124764546751976,-0.036538247019053,0.010319992899895));
res += mul(Get(s2,-dx,-dy), float4x4(-0.064963772892952,0.071662612259388,0.025424938648939,0.174808651208878,0.043242175132036,-0.047189641743898,0.208633288741112,0.101471930742264,-0.000692400557455,-0.156803026795387,0.039489664137363,0.040553208440542,0.002957621589303,-0.263332158327103,0.017967540770769,0.075122915208340));
res += mul(Get(s2,-dx,0), float4x4(-0.111799888312817,-0.068294711410999,0.072080515325069,-0.040809836238623,0.059411924332380,-0.003449294948950,-0.147483959794044,0.002728244755417,0.013509741984308,-0.163582220673561,-0.104890622198582,-0.040379323065281,0.034918140619993,0.055691640824080,-0.081829182803631,0.183086588978767));
res += mul(Get(s2,-dx,dy), float4x4(-0.059434294700623,-0.246879100799561,-0.051862601190805,0.007311669178307,-0.119690984487534,-0.073075264692307,0.000816413026769,-0.103879153728485,-0.120047688484192,0.077602326869965,-0.019119588658214,-0.155897274613380,-0.123380236327648,0.081263989210129,-0.011987792328000,-0.057197097688913));
res += mul(Get(s2,0,-dy), float4x4(0.146385252475739,-0.048206675797701,-0.003357395296916,0.039104610681534,-0.054526694118977,0.015527014620602,0.008650616742671,-0.097170591354370,0.001611514016986,0.164004504680634,0.073689512908459,0.029356887564063,0.032176811248064,-0.199896320700645,-0.167615115642548,0.039502751082182));
res += mul(Get(s2,0,0), float4x4(-0.086218848824501,-0.134438902139664,-0.033117864280939,0.065885238349438,-0.032793641090393,-0.059490226209164,-0.030583437532187,-0.037542350590229,0.241260871291161,0.239353373646736,-0.040059693157673,0.066763952374458,-0.082149215042591,-0.230728238821030,-0.036886051297188,0.003775000106543));
res += mul(Get(s2,0,dy), float4x4(-0.155520454049110,0.058936744928360,0.055667366832495,0.066490814089775,-0.097379647195339,-0.015172207728028,0.096803627908230,-0.183243811130524,-0.069467440247536,-0.239658057689667,0.062699258327484,-0.058754436671734,0.050738975405693,-0.103473342955112,-0.223039820790291,-0.026866441592574));
res += mul(Get(s2,dx,-dy), float4x4(-0.112308889627457,-0.072589196264744,-0.090724982321262,0.019700357690454,0.012095499783754,0.034444414079189,-0.124321863055229,0.092034153640270,0.025836521759629,-0.047938875854015,0.077825665473938,0.084343455731869,-0.022589610889554,-0.100833363831043,0.158964037895203,-0.124551564455032));
res += mul(Get(s2,dx,0), float4x4(0.193147346377373,0.120460368692875,-0.074566543102264,0.112646423280239,0.108422562479973,0.118803769350052,-0.084763042628765,-0.045338258147240,-0.133956149220467,0.055075936019421,0.045056138187647,-0.260124683380127,0.019807036966085,0.099990278482437,-0.103948242962360,0.251825541257858));
res += mul(Get(s2,dx,dy), float4x4(-0.075497373938560,-0.251729041337967,0.112197890877724,0.161105200648308,-0.008884092792869,-0.017798790708184,0.102873593568802,-0.075713567435741,-0.077172577381134,0.137687101960182,-0.041004974395037,0.072243429720402,-0.129857674241066,-0.185984238982201,-0.043628767132759,-0.044016838073730));
res += mul(Get(s3,-dx,-dy), float4x4(0.064404621720314,0.054819710552692,-0.080670364201069,-0.112652465701103,0.012909598648548,-0.001495363307185,-0.092143215239048,0.034669574350119,0.085515700280666,-0.070177964866161,-0.136384859681129,0.042430579662323,0.127064049243927,-0.004413610324264,-0.093702822923660,0.122685387730598));
res += mul(Get(s3,-dx,0), float4x4(0.016369493678212,-0.042622953653336,-0.124783895909786,-0.054616719484329,0.164474397897720,-0.226546809077263,-0.099878594279289,0.243702739477158,-0.084277607500553,-0.016130799427629,0.071746140718460,-0.208486929535866,0.115070000290871,-0.080448724329472,0.128840148448944,-0.196525737643242));
res += mul(Get(s3,-dx,dy), float4x4(0.118243977427483,0.064177677035332,0.080932550132275,0.092637494206429,-0.179912373423576,0.016547448933125,0.063038580119610,-0.029364662244916,0.022364458069205,-0.073762610554695,-0.079711340367794,0.031341511756182,-0.033212110400200,-0.081692814826965,0.083913154900074,0.137148141860962));
res += mul(Get(s3,0,-dy), float4x4(0.189224511384964,0.192413404583931,-0.019331017509103,-0.010719228535891,-0.100844733417034,-0.139332085847855,0.045316606760025,0.099641017615795,-0.092473722994328,-0.013566570356488,-0.079636454582214,0.026883359998465,0.008379530161619,0.110355220735073,0.054876409471035,-0.141465321183205));
res += mul(Get(s3,0,0), float4x4(-0.088621817529202,-0.089337065815926,0.003231385955587,0.177091628313065,-0.120845936238766,0.002553241793066,0.031170977279544,0.078274138271809,-0.230870395898819,-0.163016945123672,-0.051182765513659,-0.013969805091619,-0.008921385742724,-0.072049826383591,0.091225802898407,-0.082051634788513));
res += mul(Get(s3,0,dy), float4x4(0.226081192493439,0.035115353763103,-0.026815973222256,-0.035548325628042,-0.155221641063690,0.048183575272560,-0.181940570473671,-0.103343173861504,0.221812039613724,0.103729903697968,-0.008796457201242,-0.057306095957756,0.094365261495113,0.059955645352602,-0.315650433301926,0.113838501274586));
res += mul(Get(s3,dx,-dy), float4x4(-0.188110381364822,-0.256588786840439,0.072853989899158,-0.059849642217159,0.171530738472939,-0.266975820064545,-0.030644541606307,0.207305327057838,0.095883332192898,-0.123542480170727,-0.040704928338528,0.082286022603512,0.101361639797688,0.024633787572384,0.014060536399484,-0.328340530395508));
res += mul(Get(s3,dx,0), float4x4(0.127980858087540,0.044856984168291,0.123987957835197,-0.256060838699341,-0.022347746416926,-0.138765022158623,0.054755132645369,0.165443778038025,0.158065825700760,0.003508882597089,-0.098518498241901,-0.269263416528702,-0.269242048263550,-0.046805433928967,-0.003514227923006,-0.201021134853363));
res += mul(Get(s3,dx,dy), float4x4(0.055539872497320,-0.083960264921188,-0.088030308485031,0.155524179339409,-0.097981236875057,-0.020937623456120,-0.100254952907562,-0.020381156355143,0.129664212465286,-0.058101169764996,-0.008267743512988,0.105191141366959,-0.169399648904800,0.051779437810183,-0.235601559281349,0.004258194938302));
return max(float4(0,0,0,0), res);
}
