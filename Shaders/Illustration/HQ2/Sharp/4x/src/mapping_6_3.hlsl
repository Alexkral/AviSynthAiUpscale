sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.018467750400305,0.024000648409128,0.023352561518550,-0.071250885725021,0.052169930189848,0.128508314490318,-0.043882124125957,0.073633700609207,0.018238946795464,0.104717209935188,-0.113411545753479,-0.154003888368607,-0.046448525041342,-0.003795715747401,-0.123154670000076,-0.054581273347139));
res += mul(Get(s0,-dx,0), float4x4(0.026969738304615,-0.049900397658348,-0.077879510819912,-0.385394304990768,-0.073081046342850,0.052480872720480,0.189289554953575,0.114621803164482,-0.174251079559326,0.155623599886894,-0.109581604599953,0.120128192007542,0.045613545924425,0.195224955677986,0.050657887011766,-0.212015122175217));
res += mul(Get(s0,-dx,dy), float4x4(-0.149193570017815,0.009045253507793,-0.016237774863839,-0.031178813427687,0.018920589238405,0.058633755892515,-0.000560523185413,-0.105930402874947,0.032229725271463,-0.195038497447968,0.015979807823896,-0.125840961933136,0.072541914880276,-0.188768997788429,0.033430609852076,-0.094992347061634));
res += mul(Get(s0,0,-dy), float4x4(-0.005036222748458,-0.156968653202057,0.033771678805351,0.057730168104172,-0.118278615176678,-0.017930282279849,-0.067991994321346,-0.121684752404690,0.089773967862129,-0.191600546240807,0.002494681393728,-0.066627442836761,0.056272558867931,0.091335602104664,-0.050265453755856,-0.199775457382202));
res += mul(Get(s0,0,0), float4x4(-0.089418187737465,-0.041333984583616,-0.073743805289268,0.039567135274410,-0.001177899772301,0.248285919427872,-0.187605023384094,0.282803088426590,-0.077289260923862,-0.188205033540726,0.001520903315395,0.076428659260273,0.336860954761505,-0.014139170758426,0.114250130951405,0.061905119568110));
res += mul(Get(s0,0,dy), float4x4(-0.084168195724487,-0.081735774874687,-0.063377492129803,0.024652181193233,-0.005879385396838,-0.062695801258087,-0.147095441818237,0.086785085499287,-0.055282242596149,-0.046431023627520,0.106232270598412,0.071901805698872,-0.073194570839405,0.000908201269340,0.128798812627792,-0.183635443449020));
res += mul(Get(s0,dx,-dy), float4x4(-0.064181931316853,0.101163826882839,0.146417662501335,0.032415911555290,0.049767926335335,0.120489798486233,0.033489316701889,0.082463458180428,-0.013447831384838,0.019721129909158,-0.144109800457954,0.006388681009412,-0.072128258645535,-0.058489643037319,-0.082633189857006,0.096060469746590));
res += mul(Get(s0,dx,0), float4x4(0.055144179612398,0.158002451062202,0.009364536032081,-0.114930659532547,0.038945052772760,-0.242420271039009,0.131689399480820,0.092842549085617,0.014825979247689,0.051942519843578,0.007361799944192,-0.018769832327962,-0.062218181788921,0.147513106465340,-0.140177920460701,-0.090624988079071));
res += mul(Get(s0,dx,dy), float4x4(0.118157066404819,-0.160373836755753,0.194017931818962,0.051574416458607,-0.031601794064045,-0.045941159129143,-0.061239194124937,0.257844358682632,0.136105567216873,-0.184807568788528,-0.004019942134619,0.245859697461128,-0.182936683297157,0.035939108580351,-0.118014387786388,0.079922989010811));
res += mul(Get(s1,-dx,-dy), float4x4(0.146104186773300,0.013321486301720,-0.070711150765419,0.083430171012878,0.003359654685482,-0.070518538355827,-0.009422772563994,0.170250952243805,-0.011620794422925,-0.007592662237585,-0.026161301881075,0.119819015264511,0.200451314449310,0.086945161223412,-0.027338808402419,0.098035447299480));
res += mul(Get(s1,-dx,0), float4x4(-0.065699063241482,-0.033554088324308,-0.011195705272257,-0.098711073398590,-0.019346071407199,0.084144480526447,-0.068068258464336,-0.048227075487375,-0.060540292412043,-0.092026665806770,-0.064933799207211,0.022577524185181,-0.061662901192904,0.004457124043256,-0.066720627248287,0.050143010914326));
res += mul(Get(s1,-dx,dy), float4x4(-0.004275154322386,0.085171863436699,-0.058570500463247,0.221622720360756,-0.094137482345104,0.147812068462372,-0.062811680138111,0.065103709697723,-0.101677887141705,-0.158493861556053,-0.026473335921764,0.301179587841034,0.139141455292702,0.068706437945366,0.133208215236664,0.222011297941208));
res += mul(Get(s1,0,-dy), float4x4(-0.007426608819515,0.163951486349106,-0.079046614468098,-0.072497688233852,-0.100496403872967,0.028237214311957,0.059757076203823,0.029633244499564,0.042735107243061,-0.112055517733097,0.040567543357611,-0.132528543472290,-0.140120282769203,-0.146215960383415,0.157663583755493,-0.049293506890535));
res += mul(Get(s1,0,0), float4x4(0.218800559639931,-0.016657587140799,-0.125333085656166,-0.098711699247360,-0.116672158241272,0.111523181200027,-0.191606909036636,0.048309769481421,0.121167957782745,-0.091049745678902,0.172455757856369,0.193489536643028,-0.018668562173843,0.066398113965988,0.191796392202377,0.200723573565483));
res += mul(Get(s1,0,dy), float4x4(0.178890764713287,-0.052008584141731,0.056760348379612,-0.069178141653538,-0.089964777231216,-0.044720545411110,-0.074421539902687,-0.116634301841259,0.078375376760960,-0.010332475416362,-0.312927424907684,-0.058725338429213,0.145183563232422,-0.233066946268082,-0.145092189311981,-0.126907393336296));
res += mul(Get(s1,dx,-dy), float4x4(0.044038128107786,-0.060349412262440,0.094829440116882,0.089667215943336,-0.084643885493279,0.217084944248199,-0.079113245010376,0.143852531909943,0.027864163741469,-0.133830398321152,0.068309813737869,0.016800316050649,0.195479527115822,0.069490276277065,-0.008327195420861,-0.127393558621407));
res += mul(Get(s1,dx,0), float4x4(-0.034045796841383,0.109357818961143,-0.042520988732576,-0.071899145841599,0.088573165237904,-0.122479528188705,-0.116488687694073,0.100449897348881,-0.041859705001116,0.215447142720222,-0.011742306873202,0.024037901312113,-0.010412001982331,0.140544146299362,-0.187465727329254,-0.105760835111141));
res += mul(Get(s1,dx,dy), float4x4(0.059769481420517,0.057701200246811,0.247678875923157,0.067032754421234,0.097256824374199,0.040877472609282,-0.173431754112244,0.106432862579823,-0.205533742904663,0.180083602666855,-0.215366959571838,-0.037842135876417,-0.019167359918356,-0.043282378464937,0.063595950603485,-0.012950037606061));
res += mul(Get(s2,-dx,-dy), float4x4(-0.111825816333294,-0.145663902163506,-0.025709113106132,0.215479806065559,0.064683206379414,0.135990470647812,0.162284553050995,-0.038583245128393,0.055115178227425,0.217485994100571,-0.107011578977108,0.019612759351730,0.043042596429586,0.205474779009819,-0.025019790977240,0.166654258966446));
res += mul(Get(s2,-dx,0), float4x4(-0.069278292357922,-0.032309573143721,0.035553947091103,0.196251377463341,-0.015423147939146,-0.077855609357357,-0.105653263628483,-0.012245542369783,-0.041231449693441,0.113126181066036,-0.158830970525742,0.037361018359661,0.075504124164581,0.061836380511522,-0.140182361006737,-0.005420270375907));
res += mul(Get(s2,-dx,dy), float4x4(0.067140564322472,-0.038766644895077,-0.089029297232628,-0.152416795492172,0.004946824628860,-0.163581967353821,-0.014183845371008,-0.038862764835358,-0.025481775403023,-0.311916768550873,-0.189268752932549,0.147404283285141,-0.105961002409458,0.005959277506918,0.027880543842912,0.071043416857719));
res += mul(Get(s2,0,-dy), float4x4(-0.146896511316299,-0.088399685919285,0.095977708697319,0.060998775064945,-0.163826882839203,-0.154996529221535,-0.068830467760563,0.052757497876883,-0.003627130994573,0.110005252063274,0.014943717047572,-0.017068460583687,0.157396167516708,-0.038085844367743,-0.035172011703253,-0.119467087090015));
res += mul(Get(s2,0,0), float4x4(0.121496692299843,-0.015215756371617,0.167215242981911,-0.090994760394096,-0.092735245823860,0.079135820269585,0.148562446236610,-0.168757870793343,0.132081046700478,0.059269841760397,0.107572495937347,0.008960342034698,0.253883600234985,-0.179489642381668,0.165360778570175,0.238941922783852));
res += mul(Get(s2,0,dy), float4x4(0.096232771873474,-0.044181093573570,0.016970483586192,0.028864325955510,-0.105572536587715,-0.005842143204063,-0.068207152187824,0.119386628270149,0.002545408671722,-0.067021586000919,0.255001962184906,0.209470823407173,0.050801265984774,0.183520287275314,0.024607984349132,0.025533540174365));
res += mul(Get(s2,dx,-dy), float4x4(0.019334686920047,0.068289883434772,0.077324628829956,-0.074241071939468,-0.081586122512817,-0.161638706922531,-0.042810283601284,0.120020434260368,-0.024917565286160,0.163563758134842,0.028063332661986,-0.026825359091163,0.039515718817711,0.159609109163284,0.121430993080139,-0.153055250644684));
res += mul(Get(s2,dx,0), float4x4(-0.254586756229401,-0.206717520952225,-0.015755744650960,0.233154714107513,0.076263234019279,0.058224301785231,0.086130827665329,-0.082406170666218,0.065639972686768,0.019560035318136,0.193174123764038,0.216286331415176,-0.040428329259157,0.076510645449162,-0.044785391539335,0.004879111889750));
res += mul(Get(s2,dx,dy), float4x4(-0.295206516981125,-0.030279124155641,0.090816549956799,0.278319925069809,0.139813497662544,-0.076938480138779,0.004695604089648,0.012486824765801,0.004909822717309,-0.146183758974075,0.028241854161024,0.031597141176462,-0.018941877409816,0.042415190488100,0.047441456466913,0.133805200457573));
res += mul(Get(s3,-dx,-dy), float4x4(-0.041556302458048,0.120805144309998,-0.028902214020491,0.271624207496643,0.015200249850750,0.097091473639011,0.106501437723637,0.046723518520594,0.010413704439998,-0.025405595079064,0.042380530387163,0.036253329366446,0.008472124114633,0.132990807294846,-0.071704424917698,-0.016379542648792));
res += mul(Get(s3,-dx,0), float4x4(0.073563769459724,-0.067283153533936,0.086082540452480,-0.050034511834383,-0.054531689733267,-0.131038069725037,0.036366514861584,0.067216940224171,-0.058141984045506,0.012934919446707,0.129587277770042,0.067924223840237,-0.033575870096684,-0.122813083231449,-0.014261650852859,0.125587895512581));
res += mul(Get(s3,-dx,dy), float4x4(-0.139918610453606,-0.227243036031723,0.088378705084324,0.058773379772902,0.090420812368393,0.048974268138409,-0.025669684633613,-0.023979229852557,-0.010981956496835,-0.204352110624313,0.001827390166000,0.081555448472500,0.045890592038631,0.025676107034087,-0.059258017688990,-0.122330322861671));
res += mul(Get(s3,0,-dy), float4x4(-0.062114771455526,0.104186944663525,0.065943665802479,0.141212001442909,0.121280424296856,0.100328005850315,0.016054907813668,0.228478968143463,0.313860744237900,0.182552322745323,0.058971714228392,-0.119082346558571,0.048727300018072,0.101853534579277,0.157700240612030,0.017054012045264));
res += mul(Get(s3,0,0), float4x4(-0.095707863569260,-0.230653047561646,-0.038058277219534,-0.037829536944628,0.023234849795699,-0.200167402625084,0.004787840880454,0.005920262541622,0.049913801252842,-0.126879006624222,-0.074243873357773,0.146289348602295,-0.002168402774259,-0.278790712356567,-0.017459465190768,0.036236491054296));
res += mul(Get(s3,0,dy), float4x4(-0.080641560256481,0.144564792513847,-0.063527949154377,-0.091070801019669,0.077029034495354,0.074428863823414,0.036184515804052,0.156232580542564,0.060598921030760,0.118196867406368,0.060140244662762,0.039259843528271,0.136847510933876,-0.153149992227554,-0.148072332143784,-0.020017303526402));
res += mul(Get(s3,dx,-dy), float4x4(-0.143724858760834,-0.062960669398308,0.145566582679749,-0.067417629063129,0.038826704025269,-0.042770601809025,-0.048964157700539,-0.274688005447388,-0.017234403640032,-0.073696002364159,0.003836052026600,0.037514317780733,0.094200246036053,0.015805942937732,-0.094610653817654,-0.151128411293030));
res += mul(Get(s3,dx,0), float4x4(0.036502394825220,-0.090288296341896,-0.037855446338654,-0.169136524200439,-0.100694298744202,0.081495806574821,0.133268401026726,0.079665906727314,0.157810285687447,0.059792540967464,0.142828449606895,0.004029207862914,0.055491093546152,-0.060652878135443,0.229250684380531,-0.171168193221092));
res += mul(Get(s3,dx,dy), float4x4(-0.173908501863480,0.101499781012535,-0.049307107925415,-0.024364519864321,-0.043489221483469,0.092621110379696,0.119766689836979,0.106433354318142,-0.051391012966633,0.058059226721525,-0.163681551814079,-0.039369776844978,0.034075703471899,0.053108587861061,-0.023010829463601,-0.100195750594139));
return max(float4(0,0,0,0), res);
}
