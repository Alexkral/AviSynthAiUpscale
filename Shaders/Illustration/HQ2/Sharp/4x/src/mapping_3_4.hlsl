sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.012691761367023,0.038860820233822,0.165564462542534,0.023496871814132,-0.071092508733273,0.090753287076950,-0.158298999071121,0.030967490747571,0.191619873046875,-0.016285216435790,-0.012003193609416,-0.005362945608795,-0.015487105585635,0.033549252897501,-0.004820446018130,0.045266296714544));
res += mul(Get(s0,-dx,0), float4x4(0.122940801084042,-0.131596222519875,0.018485907465219,0.074543356895447,0.044559624046087,0.000043236621423,-0.101968437433243,-0.195656493306160,0.158405795693398,0.086597502231598,0.141245201230049,-0.054784912616014,-0.014322723262012,0.164334014058113,-0.104223996400833,0.036378171294928));
res += mul(Get(s0,-dx,dy), float4x4(-0.040087830275297,0.028030347079039,0.060642059892416,0.022541999816895,-0.171819821000099,-0.011610304005444,0.055901937186718,0.177861571311951,0.096537120640278,-0.038321197032928,-0.097046338021755,0.060362067073584,0.138673096895218,-0.104394264519215,-0.017567258328199,0.141041442751884));
res += mul(Get(s0,0,-dy), float4x4(0.100888676941395,0.012013518251479,-0.044812571257353,-0.063668385148048,-0.022279815748334,0.061778128147125,0.192568227648735,-0.118311926722527,-0.172209829092026,-0.157354980707169,0.173142924904823,0.113423876464367,0.003592974040657,-0.070821426808834,-0.042444251477718,0.042200323194265));
res += mul(Get(s0,0,0), float4x4(-0.169393032789230,-0.125252023339272,0.203482165932655,0.006825030781329,0.131271407008171,-0.101438798010349,-0.046243976801634,0.205155208706856,-0.038431387394667,-0.024170713499188,0.085311099886894,-0.053050346672535,-0.271603733301163,-0.174634695053101,0.021701395511627,0.082759663462639));
res += mul(Get(s0,0,dy), float4x4(0.080510534346104,-0.020126305520535,0.009531130082905,-0.106830455362797,0.008053334429860,-0.010094518773258,-0.085681907832623,-0.128079727292061,-0.161180004477501,0.155359327793121,0.114972479641438,0.238325640559196,-0.039504230022430,0.081580407917500,-0.024506365880370,-0.064380913972855));
res += mul(Get(s0,dx,-dy), float4x4(0.047618340700865,-0.001396052073687,0.162946626543999,-0.168849647045135,-0.061330027878284,0.077359922230244,0.034781232476234,-0.025151846930385,0.060031652450562,-0.130853459239006,-0.020892823114991,-0.068818174302578,0.031433299183846,-0.001213524723426,0.135020643472672,0.103495575487614));
res += mul(Get(s0,dx,0), float4x4(0.069729208946228,-0.131616488099098,-0.029605757445097,0.147479683160782,0.236861452460289,0.158428490161896,0.138777419924736,-0.173486560583115,0.095515526831150,0.026808006688952,-0.007400881499052,-0.042199656367302,0.050292734056711,0.043281279504299,0.129806280136108,-0.149933099746704));
res += mul(Get(s0,dx,dy), float4x4(-0.137928873300552,-0.079638659954071,0.243526414036751,0.091954514384270,-0.008348834700882,0.036548741161823,0.065395832061768,-0.002980746561661,-0.190994560718536,-0.127466171979904,0.121860258281231,0.063962839543819,-0.056582007557154,0.023610282689333,0.007487113121897,-0.091155618429184));
res += mul(Get(s1,-dx,-dy), float4x4(-0.000688074855134,-0.017521711066365,-0.094753265380859,0.086967803537846,0.043531335890293,0.029124421998858,0.034739702939987,0.082918025553226,-0.107025302946568,0.055074691772461,0.086696758866310,0.081335306167603,-0.043782338500023,-0.085731796920300,0.110165804624557,-0.199915409088135));
res += mul(Get(s1,-dx,0), float4x4(0.043915852904320,-0.002085663378239,-0.273887693881989,0.027090957388282,-0.121342599391937,-0.112429566681385,0.007880279794335,-0.135822102427483,-0.081032641232014,0.029662391170859,-0.226067319512367,0.105370447039604,-0.028156541287899,-0.250664681196213,-0.034022066742182,0.120156452059746));
res += mul(Get(s1,-dx,dy), float4x4(0.157576411962509,-0.154214471578598,-0.010145825333893,0.070756688714027,-0.115112543106079,-0.065273873507977,-0.003859478514642,-0.167261272668839,0.061620224267244,-0.100650392472744,-0.212584510445595,-0.011030929163098,0.009428804740310,-0.190621912479401,-0.000279059691820,0.070787437260151));
res += mul(Get(s1,0,-dy), float4x4(-0.115468740463257,0.050628460943699,-0.053848449140787,0.028090251609683,0.041504465043545,-0.023867310956120,-0.118576057255268,0.017288304865360,-0.088171035051346,0.126772537827492,-0.000452503649285,0.083235032856464,-0.088035225868225,-0.046382762491703,0.053449314087629,-0.058877892792225));
res += mul(Get(s1,0,0), float4x4(0.008890358731151,0.004829371813685,0.071894489228725,0.074432410299778,0.090562179684639,-0.027591856196523,-0.048180632293224,-0.077747285366058,0.107540316879749,0.010517362505198,-0.003607906168327,0.022098777815700,0.001330873346888,-0.058511510491371,-0.098183885216713,0.191376194357872));
res += mul(Get(s1,0,dy), float4x4(0.018984856083989,-0.199279904365540,-0.234393611550331,0.256071746349335,-0.086496621370316,0.084439590573311,-0.268485486507416,0.080050297081470,0.107083655893803,0.196149021387100,0.006092858035117,0.084981128573418,0.029538989067078,0.089182585477829,0.084916621446609,-0.115685783326626));
res += mul(Get(s1,dx,-dy), float4x4(0.033206105232239,-0.168198302388191,0.176125049591064,-0.134941458702087,-0.099972575902939,0.100457191467285,0.019151158630848,-0.044502314180136,0.125238910317421,-0.075285516679287,0.053401850163937,0.057345170527697,0.016592990607023,-0.045051336288452,0.069956660270691,-0.018418226391077));
res += mul(Get(s1,dx,0), float4x4(0.214396908879280,0.014899117872119,-0.000610096438322,-0.126474976539612,-0.062205430120230,0.072092846035957,-0.237258508801460,-0.005023714154959,-0.113072082400322,-0.050600472837687,-0.093264147639275,0.161181479692459,0.013694155961275,-0.076570361852646,-0.140187010169029,-0.080438874661922));
res += mul(Get(s1,dx,dy), float4x4(-0.131567269563675,0.081857383251190,-0.260917603969574,0.001021689502522,0.000924563733861,0.129183441400528,0.171992987394333,-0.004982532933354,-0.084154896438122,-0.084339827299118,-0.218114942312241,0.274476200342178,0.019811782985926,-0.067663915455341,-0.104325585067272,0.102822177112103));
res += mul(Get(s2,-dx,-dy), float4x4(0.057854771614075,0.017227638512850,-0.185220018029213,-0.039064090698957,-0.029937472194433,-0.128578826785088,-0.043258398771286,-0.097893655300140,0.046332210302353,0.148182913661003,0.268694311380386,0.016495345160365,-0.038636796176434,0.194904983043671,-0.005625763908029,0.093127667903900));
res += mul(Get(s2,-dx,0), float4x4(0.004902930464596,-0.177871584892273,0.239131301641464,-0.038629122078419,-0.070784717798233,0.052783515304327,0.095268331468105,0.261202365159988,0.096359334886074,0.132293611764908,0.007268399000168,-0.083183631300926,0.044862546026707,-0.088661268353462,-0.123327381908894,-0.170648381114006));
res += mul(Get(s2,-dx,dy), float4x4(-0.055006597191095,-0.080080844461918,0.316287755966187,-0.218163326382637,0.082078538835049,0.131946817040443,-0.077377274632454,-0.083280742168427,-0.025132527574897,0.122246883809566,-0.082017831504345,0.054219435900450,-0.133591204881668,0.014130084775388,-0.099895529448986,0.118721514940262));
res += mul(Get(s2,0,-dy), float4x4(0.173924773931503,0.053882099688053,-0.130638748407364,0.030422959476709,0.066976957023144,0.070565953850746,0.086063563823700,0.006073782220483,0.013141905888915,-0.097241111099720,-0.111249119043350,0.029581047594547,-0.078621201217175,-0.073333166539669,-0.125209689140320,0.081029713153839));
res += mul(Get(s2,0,0), float4x4(-0.169445604085922,-0.001336998771876,0.012228256091475,-0.179124876856804,0.206495895981789,-0.061192553490400,0.088413648307323,-0.063882835209370,0.028923498466611,0.023491138592362,0.111424632370472,-0.116501316428185,-0.010351327247918,0.143542081117630,-0.016778828576207,0.091511674225330));
res += mul(Get(s2,0,dy), float4x4(0.044892638921738,-0.091630242764950,-0.377886354923248,0.051522310823202,0.112079568207264,-0.077299542725086,0.172185406088829,0.065769053995609,-0.028764560818672,0.082249350845814,-0.065564215183258,0.033947542309761,0.041309490799904,0.059409968554974,0.101787775754929,0.112690187990665));
res += mul(Get(s2,dx,-dy), float4x4(0.134503737092018,-0.084645576775074,-0.079250693321228,-0.138604611158371,-0.139830172061920,-0.006302357651293,-0.074998542666435,-0.067672401666641,-0.179703682661057,-0.002531207399443,-0.053866155445576,0.100108176469803,-0.079921990633011,0.193791970610619,0.090420775115490,0.022305773571134));
res += mul(Get(s2,dx,0), float4x4(-0.144486784934998,-0.093393355607986,-0.117186076939106,-0.059278365224600,-0.165446236729622,0.183210372924805,0.059029966592789,0.070793136954308,-0.166192501783371,-0.023985074833035,0.041768394410610,0.099540196359158,-0.008148171007633,0.043716643005610,0.107648842036724,0.153572469949722));
res += mul(Get(s2,dx,dy), float4x4(0.063553713262081,0.136414363980293,0.129215061664581,-0.043524801731110,0.146422669291496,0.013952580280602,-0.014340358786285,0.126314997673035,-0.208975657820702,-0.138464301824570,-0.098492972552776,0.117952167987823,-0.038478914648294,0.152941778302193,-0.084837585687637,0.045987863093615));
res += mul(Get(s3,-dx,-dy), float4x4(0.016853014007211,-0.002990513574332,-0.047172486782074,-0.138138070702553,-0.001438530161977,-0.042457472532988,-0.024509165436029,0.005453956313431,-0.136404335498810,-0.101606979966164,-0.059696611016989,0.037878032773733,-0.067639954388142,0.128503948450089,-0.127351611852646,0.024935327470303));
res += mul(Get(s3,-dx,0), float4x4(-0.046722631901503,-0.264958143234253,0.004300636705011,0.174541667103767,-0.006295642349869,0.167645126581192,-0.103312529623508,-0.030395880341530,-0.200663849711418,0.067133128643036,-0.173008456826210,0.142765298485756,0.123577989637852,0.085054606199265,0.084008738398552,0.057675328105688));
res += mul(Get(s3,-dx,dy), float4x4(-0.101322844624519,-0.019714193418622,-0.119622066617012,0.069300271570683,-0.034083016216755,-0.016115296632051,-0.083627827465534,0.036073915660381,0.107082530856133,0.056322332471609,-0.027278752997518,0.102063305675983,0.016102056950331,-0.087388366460800,0.142108500003815,0.189724236726761));
res += mul(Get(s3,0,-dy), float4x4(0.122625425457954,0.030660485848784,0.116061136126518,-0.147374212741852,-0.099551431834698,0.025093162432313,-0.087295450270176,0.018315019086003,0.276629388332367,-0.036556854844093,-0.049360308796167,0.002777700778097,-0.085044316947460,-0.057000100612640,0.026662629097700,-0.013565320521593));
res += mul(Get(s3,0,0), float4x4(-0.033879395574331,-0.104451730847359,-0.083006508648396,-0.070274032652378,-0.074650235474110,-0.028629245236516,-0.092512510716915,0.139233991503716,-0.073022305965424,-0.210256084799767,0.077491492033005,-0.124975897371769,-0.196706011891365,0.064826920628548,-0.000465528952191,0.083809562027454));
res += mul(Get(s3,0,dy), float4x4(-0.092637509107590,-0.007055274210870,-0.124350897967815,0.057746846228838,0.077280633151531,0.044050127267838,0.032328460365534,0.049917347729206,0.185870021581650,-0.033504817634821,0.000281825195998,-0.251227974891663,-0.151442319154739,-0.001297831768170,0.103350237011909,0.030720351263881));
res += mul(Get(s3,dx,-dy), float4x4(-0.153831303119659,-0.060678765177727,0.002642810577527,0.012476595118642,-0.097430124878883,0.354374557733536,-0.144177392125130,0.136964261531830,-0.066614426672459,0.022618209943175,-0.106387823820114,-0.123573623597622,0.178587824106216,-0.079348184168339,-0.005510215647519,0.059204347431660));
res += mul(Get(s3,dx,0), float4x4(-0.049359031021595,0.031200967729092,-0.325888961553574,-0.042198609560728,-0.366462856531143,-0.043852943927050,-0.099620655179024,0.183066770434380,0.109997220337391,-0.214109972119331,0.054380126297474,-0.357740044593811,0.133960336446762,-0.083910390734673,0.163885191082954,0.040136426687241));
res += mul(Get(s3,dx,dy), float4x4(0.239488154649734,-0.115885980427265,0.063323803246021,0.006058386527002,0.176670834422112,0.146696358919144,0.086028173565865,0.173012346029282,-0.037202972918749,-0.031857736408710,-0.126587435603142,-0.112944371998310,0.139111772179604,-0.043079126626253,-0.048312772065401,-0.001013834960759));
return max(float4(0,0,0,0), res);
}
