sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.084505297243595,0.029836982488632,-0.017153516411781,0.111284546554089,-0.079086989164352,0.160530939698219,0.022075599059463,-0.161536455154419,-0.156381487846375,-0.151334717869759,0.072855889797211,0.044768664985895,-0.089840695261955,-0.025284761562943,-0.185632929205894,-0.130008265376091));
res += mul(Get(s0,-dx,0), float4x4(0.024450326338410,-0.023836242035031,-0.004135914612561,0.082665085792542,-0.232088908553123,-0.120413050055504,-0.045860558748245,0.172080889344215,-0.194786265492439,-0.004744767211378,-0.071707226336002,-0.170884877443314,-0.119247198104858,0.108276143670082,-0.049830686300993,-0.096105284988880));
res += mul(Get(s0,-dx,dy), float4x4(-0.074995584785938,-0.032998401671648,0.219613865017891,-0.068576350808144,-0.023402782157063,-0.085825733840466,-0.025406641885638,0.128330096602440,-0.050804931670427,-0.187082037329674,-0.159592851996422,0.078330926597118,-0.127494782209396,-0.012927918694913,0.127342969179153,0.068308807909489));
res += mul(Get(s0,0,-dy), float4x4(-0.198231458663940,-0.224987313151360,-0.026453096419573,0.037185564637184,0.106528840959072,0.068609565496445,0.102787330746651,0.065024226903915,-0.090038269758224,0.263721764087677,0.093595989048481,-0.010036701336503,-0.066618278622627,0.014098323881626,0.076108239591122,0.019527100026608));
res += mul(Get(s0,0,0), float4x4(-0.043656434863806,0.049362029880285,-0.031399566680193,0.260564148426056,-0.212213814258575,-0.097134709358215,-0.028680574148893,0.117885865271091,0.354985803365707,-0.193674907088280,0.071911752223969,0.101500958204269,-0.120234817266464,-0.086099743843079,-0.132214948534966,0.068860881030560));
res += mul(Get(s0,0,dy), float4x4(-0.050673704594374,0.154383555054665,-0.218871876597404,-0.109142020344734,0.001895496621728,-0.024761140346527,0.061444774270058,-0.068695276975632,0.173667371273041,-0.122580714523792,-0.064470395445824,-0.245255842804909,-0.133577495813370,0.134729743003845,0.033141579478979,-0.038495901972055));
res += mul(Get(s0,dx,-dy), float4x4(-0.160865277051926,0.143786340951920,0.198830634355545,0.094665437936783,-0.017320757731795,-0.050453968346119,-0.020985405892134,0.093324378132820,0.050063543021679,-0.088439382612705,-0.070226155221462,-0.018163835629821,-0.049426481127739,0.126600399613380,0.096423380076885,0.176235377788544));
res += mul(Get(s0,dx,0), float4x4(0.028633011505008,-0.150077313184738,0.024739813059568,0.120014488697052,0.024318762123585,0.117073334753513,-0.184054985642433,-0.023696802556515,0.101663172245026,0.183392375707626,-0.133829057216644,0.028766434639692,-0.151886478066444,-0.143246278166771,-0.023974312469363,-0.033666133880615));
res += mul(Get(s0,dx,dy), float4x4(0.144301488995552,0.312401533126831,0.013205423019826,-0.168825522065163,0.061190661042929,0.065328292548656,-0.038200266659260,-0.040617473423481,0.143192782998085,-0.197544872760773,-0.320621341466904,-0.142785415053368,0.018595799803734,-0.080348402261734,0.094026468694210,0.041124928742647));
res += mul(Get(s1,-dx,-dy), float4x4(0.211299389600754,0.072483040392399,-0.097131676971912,-0.041176229715347,-0.103694409132004,-0.018507460132241,0.052429437637329,-0.086337976157665,0.096366971731186,-0.080660723149776,0.108593769371510,0.013920432887971,0.024051558226347,-0.140368700027466,0.145153224468231,0.041893225163221));
res += mul(Get(s1,-dx,0), float4x4(-0.059514429420233,0.092834584414959,-0.126113340258598,-0.109177470207214,-0.126641809940338,0.131276607513428,0.096756480634212,0.023666707798839,-0.131108164787292,-0.057999961078167,-0.058265514671803,-0.043253768235445,-0.142150655388832,0.009903742931783,0.117031373083591,-0.062263596802950));
res += mul(Get(s1,-dx,dy), float4x4(-0.075692795217037,-0.197344496846199,-0.185140028595924,-0.068058513104916,0.021495686843991,0.104797497391701,0.183719485998154,0.109084464609623,-0.121131531894207,-0.203118458390236,0.297629654407501,-0.211384668946266,-0.137827500700951,-0.170088797807693,0.056646712124348,0.114749245345592));
res += mul(Get(s1,0,-dy), float4x4(-0.037893578410149,0.003368103411049,0.137815952301025,-0.077713765203953,-0.051177140325308,0.095928110182285,0.009904749691486,0.018184794113040,-0.024967176839709,-0.077112063765526,0.082884438335896,0.017348343506455,0.147028610110283,-0.073403269052505,-0.223653629422188,-0.194021403789520));
res += mul(Get(s1,0,0), float4x4(0.009596132673323,0.072955720126629,0.056023258715868,0.045845422893763,-0.003766671754420,0.222929626703262,0.160234525799751,-0.048713613301516,0.047554276883602,-0.035889334976673,0.020509535446763,-0.077068954706192,0.110938355326653,-0.008005470968783,-0.000571396201849,-0.000935841875616));
res += mul(Get(s1,0,dy), float4x4(0.070880323648453,0.020753728225827,0.163257658481598,0.003700589062646,0.096304044127464,0.023509221151471,0.028422553092241,-0.071544781327248,-0.173767611384392,0.073087044060230,-0.031799007207155,-0.006629123818129,0.119222752749920,-0.002846305724233,0.170854702591896,-0.029843177646399));
res += mul(Get(s1,dx,-dy), float4x4(0.042627796530724,-0.021299289539456,-0.003727994626388,-0.019468752667308,0.074160642921925,0.053871054202318,-0.061316274106503,0.099444136023521,-0.031953360885382,0.017031138762832,-0.112520404160023,-0.043896563351154,-0.199002072215080,-0.017576977610588,0.121416114270687,-0.057080108672380));
res += mul(Get(s1,dx,0), float4x4(0.049364108592272,0.077165067195892,0.011594625189900,-0.149673014879227,-0.012126554735005,0.097543589770794,0.009980278089643,0.086719304323196,-0.003416074439883,0.064383849501610,0.154850035905838,-0.040755543857813,0.023466028273106,-0.011906663887203,0.242872759699821,0.283918797969818));
res += mul(Get(s1,dx,dy), float4x4(0.046011094003916,-0.035232473164797,0.128297030925751,0.163941368460655,-0.156002685427666,0.072204545140266,-0.051202364265919,0.107762008905411,-0.003050785046071,0.112409323453903,-0.053589463233948,-0.287394583225250,0.200404554605484,-0.087928950786591,0.003656281623989,-0.059641681611538));
res += mul(Get(s2,-dx,-dy), float4x4(-0.263398915529251,0.127844765782356,-0.090571604669094,-0.004801723640412,0.119730249047279,0.035821449011564,0.016340976580977,-0.203558489680290,-0.040207758545876,-0.067596822977066,-0.083182603120804,0.005623318254948,0.209925472736359,0.121601901948452,0.012609762139618,-0.095732837915421));
res += mul(Get(s2,-dx,0), float4x4(-0.103375568985939,-0.122725687921047,-0.035817932337523,-0.162327453494072,0.049400929361582,-0.039926841855049,0.031408239156008,0.044403623789549,-0.005193124525249,-0.090422660112381,-0.109814435243607,0.176895916461945,0.202766522765160,0.141881942749023,0.038084156811237,0.073425024747849));
res += mul(Get(s2,-dx,dy), float4x4(0.094968616962433,-0.103185892105103,0.101657725870609,0.046560082584620,-0.046379044651985,0.058990072458982,-0.032135315239429,-0.100569710135460,-0.152772873640060,-0.119916245341301,0.040396839380264,0.102848969399929,-0.009529544971883,-0.008412757888436,0.189654693007469,-0.032455630600452));
res += mul(Get(s2,0,-dy), float4x4(-0.141024783253670,-0.021504011005163,-0.071420580148697,0.225442796945572,0.085760064423084,0.134404793381691,0.027355007827282,-0.118732444941998,0.074534609913826,0.182805836200714,0.120143987238407,-0.077482253313065,0.235391601920128,0.028650507330894,-0.259469598531723,-0.016719210892916));
res += mul(Get(s2,0,0), float4x4(-0.111571803689003,-0.284640163183212,-0.034196298569441,-0.089625410735607,-0.057979702949524,-0.207966133952141,0.145588845014572,0.180076241493225,0.055215708911419,-0.065109886229038,0.018054340034723,-0.011982984840870,-0.051226329058409,0.001722741173580,-0.083561345934868,0.017906377092004));
res += mul(Get(s2,0,dy), float4x4(0.096782743930817,-0.082329198718071,0.156670704483986,-0.135067358613014,-0.053956355899572,0.239403948187828,0.076610997319221,0.125515758991241,0.232210516929626,-0.101792544126511,-0.052398297935724,0.006102346349508,0.004920424893498,0.037364214658737,0.179045230150223,0.214297145605087));
res += mul(Get(s2,dx,-dy), float4x4(0.203289300203323,-0.082504108548164,-0.205871492624283,0.168929561972618,0.187312766909599,-0.180209472775459,-0.064353726804256,0.188682794570923,0.007173617836088,-0.111385375261307,-0.205754652619362,-0.016223415732384,0.053065788000822,0.021307269111276,-0.056088656187057,0.183406502008438));
res += mul(Get(s2,dx,0), float4x4(0.040458343923092,0.198574423789978,0.012415018863976,-0.050032064318657,-0.013185136951506,-0.114547528326511,0.111114278435707,0.089158698916435,-0.000231023033848,0.064140394330025,0.048022534698248,0.118654884397984,0.125539153814316,0.118066579103470,0.058540828526020,-0.049212858080864));
res += mul(Get(s2,dx,dy), float4x4(0.019882712513208,-0.051802281290293,0.161327153444290,-0.096150413155556,-0.126198410987854,0.158134683966637,-0.165108695626259,-0.098053127527237,-0.027196126058698,-0.087501049041748,-0.111993804574013,-0.250238150358200,-0.187167033553123,-0.126764833927155,0.059892427176237,-0.205622360110283));
res += mul(Get(s3,-dx,-dy), float4x4(0.005330900195986,-0.005368934944272,0.024536510929465,-0.051364652812481,-0.047369990497828,0.002559570129961,-0.059711586683989,-0.113951437175274,0.046853266656399,-0.225248813629150,0.202621579170227,0.129841223359108,0.013215261511505,-0.021495308727026,0.267251968383789,-0.040549516677856));
res += mul(Get(s3,-dx,0), float4x4(-0.067434772849083,-0.105366438627243,-0.038690276443958,0.178497388958931,-0.120841890573502,0.002896439516917,-0.054159495979548,0.001988311298192,-0.133249923586845,0.095970578491688,-0.077853456139565,-0.005739893298596,-0.002950772643089,0.037351556122303,0.039389040321112,-0.059757757931948));
res += mul(Get(s3,-dx,dy), float4x4(0.130639091134071,0.191328838467598,-0.050072573125362,-0.065666563808918,0.010885111056268,0.031564414501190,-0.157820522785187,0.006518680136651,-0.026663912460208,0.083718754351139,-0.081903085112572,-0.091315716505051,0.087216362357140,0.002121423836797,-0.170877784490585,0.146970450878143));
res += mul(Get(s3,0,-dy), float4x4(0.231242701411247,-0.009497967548668,0.037708166986704,0.117473490536213,0.019496425986290,0.023556441068649,0.079953126609325,-0.130970999598503,0.115566343069077,-0.003569404128939,0.253452509641647,0.151063993573189,0.004389143083245,0.182222306728363,-0.126476019620895,0.042905010282993));
res += mul(Get(s3,0,0), float4x4(0.082028873264790,-0.297373265028000,-0.025509288534522,0.152452349662781,0.016118444502354,0.178816348314285,-0.091748021543026,-0.075825504958630,-0.001798037788831,-0.034334141761065,0.013932396657765,-0.011969807557762,0.223529532551765,0.030920464545488,-0.199226692318916,0.158762231469154));
res += mul(Get(s3,0,dy), float4x4(0.139256551861763,0.127046376466751,-0.084787562489510,-0.036643501371145,-0.040085993707180,-0.006143175531179,-0.027429943904281,0.135240584611893,-0.008046397008002,-0.016137519851327,0.000009588726243,0.226090773940086,0.143229767680168,0.055054560303688,-0.009329752996564,-0.032176237553358));
res += mul(Get(s3,dx,-dy), float4x4(-0.226773947477341,0.117802739143372,-0.174568757414818,-0.057345539331436,-0.103800520300865,0.051466148346663,0.174227803945541,0.107180893421173,-0.002552327932790,-0.129992648959160,-0.022790888324380,-0.118289619684219,0.065070964396000,0.114121504127979,-0.020277826115489,-0.004878916777670));
res += mul(Get(s3,dx,0), float4x4(-0.045828524976969,0.019296767190099,-0.016970470547676,-0.226415917277336,-0.018267765641212,0.147735029459000,0.051469210535288,0.255858629941940,0.303922414779663,-0.151564970612526,-0.152612432837486,0.109921090304852,-0.097340852022171,-0.098795704543591,-0.009674445725977,-0.185749158263206));
res += mul(Get(s3,dx,dy), float4x4(0.039144478738308,0.048708733171225,-0.101567700505257,0.025298193097115,-0.076422818005085,0.063545033335686,-0.204358696937561,0.008694084361196,0.048532400280237,-0.117263108491898,-0.150070577859879,-0.061304230242968,0.019776163622737,0.027024390175939,0.130878582596779,0.043235775083303));
return max(float4(0,0,0,0), res);
}
