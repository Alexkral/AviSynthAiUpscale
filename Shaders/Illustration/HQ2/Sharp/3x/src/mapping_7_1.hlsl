sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.024098854511976,-0.042183537036180,0.033606398850679,0.099038973450661,0.040456373244524,0.037147585302591,0.040708370506763,0.086899340152740,-0.038778208196163,0.012740116566420,-0.018997984007001,0.040763471275568,0.059908315539360,0.007559698075056,0.110432274639606,0.057182747870684));
res += mul(Get(s0,-dx,0), float4x4(-0.060363817960024,-0.049548164010048,0.047193113714457,-0.015991751104593,0.008943973109126,-0.017856139689684,0.003698048880324,0.094564855098724,-0.102260813117027,0.023008428514004,-0.041550278663635,0.056386947631836,0.051476243883371,-0.021107168868184,0.032583240419626,-0.014019756577909));
res += mul(Get(s0,-dx,dy), float4x4(-0.081642806529999,0.031018348410726,0.060079429298639,0.023364759981632,0.123383514583111,0.006079539190978,-0.078662559390068,0.107790797948837,0.009765638969839,0.049950979650021,0.015355067327619,-0.088042892515659,0.009040812030435,-0.029886143282056,-0.027665214613080,-0.043837651610374));
res += mul(Get(s0,0,-dy), float4x4(-0.125231444835663,0.059728935360909,0.107424579560757,0.101758301258087,0.014920745044947,-0.035043064504862,0.001637122826651,0.021327828988433,-0.026285057887435,0.027625598013401,-0.078481227159500,-0.030662458389997,0.074232876300812,0.031852025538683,0.109040051698685,0.018757805228233));
res += mul(Get(s0,0,0), float4x4(-0.104662895202637,0.019196821376681,0.034844286739826,0.018949417397380,-0.056770317256451,0.032056529074907,-0.071557767689228,-0.055405531078577,-0.061334148049355,-0.070416614413261,-0.131802737712860,0.074643149971962,-0.033178005367517,0.004405511077493,0.081168182194233,-0.057261932641268));
res += mul(Get(s0,0,dy), float4x4(0.104973532259464,0.012336339801550,0.058008078485727,0.042103081941605,-0.004189797677100,0.051031164824963,0.121094398200512,0.001681507565081,-0.083834402263165,-0.102927692234516,0.115633212029934,-0.034936442971230,-0.056094795465469,-0.033576227724552,-0.084635093808174,0.015870872884989));
res += mul(Get(s0,dx,-dy), float4x4(0.013964219018817,-0.016966661438346,0.057493537664413,0.001068430719897,0.072235353291035,-0.024692188948393,-0.044059179723263,0.046446740627289,-0.013114441186190,-0.036723706871271,-0.069532833993435,0.101277962327003,-0.016541222110391,-0.040986299514771,-0.038442794233561,-0.033455587923527));
res += mul(Get(s0,dx,0), float4x4(0.030817683786154,0.002229143166915,-0.037357967346907,0.049334861338139,0.117239318788052,0.066249281167984,0.055094201117754,0.036364857107401,0.072191946208477,0.028110846877098,-0.063579864799976,0.063364528119564,0.032715167850256,0.032397210597992,-0.052311416715384,0.013711978681386));
res += mul(Get(s0,dx,dy), float4x4(0.058817967772484,-0.026701621711254,-0.015126178041101,0.093527659773827,0.000918789883144,0.104905478656292,0.071098141372204,-0.031116014346480,0.105066597461700,0.029785156250000,0.003698826069012,0.023517025634646,-0.031298793852329,0.040059197694063,0.032861623913050,-0.006713969632983));
res += mul(Get(s1,-dx,-dy), float4x4(-0.044962249696255,-0.018375951796770,-0.012813303619623,0.025272259488702,-0.007998560555279,-0.029811697080731,-0.006213917862624,-0.004359674640000,-0.020568333566189,-0.046683229506016,-0.036577772349119,-0.128604680299759,-0.008761539123952,0.048417109996080,0.045928657054901,0.047934830188751));
res += mul(Get(s1,-dx,0), float4x4(-0.047303188592196,-0.006818487774581,0.029257811605930,-0.097422838211060,-0.018410263583064,-0.021583471447229,-0.062842585146427,0.027285933494568,-0.074041545391083,0.053892098367214,0.016463939100504,-0.007098637986928,-0.001516435295343,-0.083297990262508,0.013420938514173,-0.066106379032135));
res += mul(Get(s1,-dx,dy), float4x4(0.054457634687424,0.004926475696266,0.022574294358492,0.030133051797748,0.065390594303608,-0.008024306036532,0.097442641854286,-0.042065668851137,0.096838906407356,0.027615571394563,0.061881184577942,-0.056451883167028,-0.035593785345554,-0.045022264122963,0.061254333704710,-0.111640870571136));
res += mul(Get(s1,0,-dy), float4x4(0.152426853775978,0.039463438093662,0.034269817173481,0.123583734035492,0.016921358183026,-0.082153111696243,0.000120139389765,0.014942425303161,-0.048914264887571,-0.023149194195867,-0.097022116184235,-0.025832772254944,-0.085482098162174,0.079488851130009,0.005743301473558,-0.034796409308910));
res += mul(Get(s1,0,0), float4x4(-0.020967727527022,0.004996975418180,0.078811489045620,-0.068294018507004,0.017239619046450,-0.064975969493389,-0.008988277055323,-0.078979834914207,-0.005938041955233,-0.052228216081858,-0.076587542891502,0.001432470628060,-0.112393401563168,-0.062942758202553,-0.082141928374767,0.026847885921597));
res += mul(Get(s1,0,dy), float4x4(-0.022649841383100,0.016455834731460,0.057505998760462,-0.036602400243282,0.038279265165329,0.021192658692598,0.056824885308743,-0.028954328969121,-0.065711356699467,-0.039889980107546,0.153935089707375,-0.097635202109814,-0.026171125471592,-0.002726312261075,-0.018684532493353,-0.055588357150555));
res += mul(Get(s1,dx,-dy), float4x4(0.064875043928623,-0.048183929175138,0.063891753554344,0.055280141532421,0.020288085564971,-0.001828017877415,0.052012614905834,0.021613974124193,-0.010843669064343,-0.052571859210730,-0.004489999730140,0.011329701170325,-0.007089571096003,-0.034489538520575,-0.066803589463234,0.019634041935205));
res += mul(Get(s1,dx,0), float4x4(0.148423776030540,0.031733572483063,-0.029767541214824,-0.011350246146321,0.017845420166850,0.009863018989563,-0.004386065062135,0.121731370687485,-0.096595458686352,0.075985170900822,-0.019636457785964,-0.071293219923973,0.079752616584301,0.005566262640059,-0.156221434473991,0.077016346156597));
res += mul(Get(s1,dx,dy), float4x4(0.103132590651512,0.005501606967300,-0.138965234160423,0.060304380953312,0.051595441997051,-0.104297868907452,0.058029253035784,0.045561604201794,-0.049263823777437,0.031612481921911,0.003441821550950,-0.062785141170025,-0.005339676979929,-0.035307109355927,-0.071252442896366,-0.030796518549323));
res += mul(Get(s2,-dx,-dy), float4x4(0.110983900725842,0.032106243073940,0.135484114289284,0.043074756860733,-0.030165571719408,-0.036449842154980,0.118661969900131,-0.035506967455149,-0.044449482113123,0.029477898031473,-0.035630293190479,0.033398624509573,-0.066335558891296,-0.032943565398455,-0.054091963917017,0.115950845181942));
res += mul(Get(s2,-dx,0), float4x4(0.091722846031189,-0.045230194926262,-0.052032809704542,0.091624557971954,-0.011633513495326,-0.020327825099230,0.046021267771721,-0.055382739752531,-0.017520448192954,-0.007842428982258,0.051355224102736,-0.087020799517632,-0.001472812611610,-0.028846945613623,-0.066389039158821,-0.077492378652096));
res += mul(Get(s2,-dx,dy), float4x4(-0.023864505812526,-0.033215887844563,-0.040127970278263,-0.041453413665295,0.087318383157253,0.036108128726482,0.146290376782417,0.026966180652380,0.014926496893167,-0.015873748809099,0.032114937901497,-0.039544273167849,-0.014664313755929,-0.004233030602336,-0.129214793443680,-0.043290339410305));
res += mul(Get(s2,0,-dy), float4x4(0.059713300317526,-0.024470508098602,0.115228533744812,-0.025263408198953,-0.020725447684526,-0.010291899554431,0.043838039040565,0.024179337546229,0.079259246587753,-0.033823225647211,-0.027643948793411,0.074643097817898,-0.045952994376421,-0.031880080699921,-0.048929534852505,0.082746811211109));
res += mul(Get(s2,0,0), float4x4(-0.009921254590154,-0.066925749182701,-0.042164001613855,0.033528853207827,-0.024557149037719,0.018813151866198,-0.024707537144423,-0.097357206046581,0.165419176220894,-0.052650179713964,0.013141830451787,0.076679021120071,-0.040287714451551,-0.004019778221846,-0.057830516248941,0.051734939217567));
res += mul(Get(s2,0,dy), float4x4(-0.049853138625622,-0.046992689371109,0.026008527725935,0.040392555296421,0.027598146349192,0.050047218799591,-0.055000949651003,-0.055086143314838,0.060934048146009,0.051004387438297,-0.054742038249969,-0.036233156919479,-0.000852064229548,0.020704798400402,-0.005978661589324,0.003524053608999));
res += mul(Get(s2,dx,-dy), float4x4(-0.085273630917072,-0.045111875981092,0.045885924249887,-0.044567111879587,-0.017843095585704,-0.068473301827908,0.019384570419788,0.034437440335751,-0.034491851925850,0.027207778766751,0.001256171613932,-0.056867551058531,-0.038939014077187,0.009460072964430,-0.041061829775572,-0.013051722198725));
res += mul(Get(s2,dx,0), float4x4(-0.080753237009048,-0.041476175189018,0.148634344339371,-0.011320420540869,0.029189696535468,-0.068523362278938,-0.094489865005016,0.068838424980640,-0.054351374506950,-0.015185079537332,0.083456106483936,-0.047964926809072,0.028678599745035,0.041140165179968,-0.045169081538916,0.045595366507769));
res += mul(Get(s2,dx,dy), float4x4(0.077591910958290,0.026194924488664,0.117080874741077,0.068993337452412,-0.005182932130992,0.020248673856258,-0.051687940955162,0.036039184778929,0.033753309398890,-0.003771297866479,0.172052919864655,-0.020885968580842,0.097915433347225,-0.046318612992764,0.035175442695618,-0.016097694635391));
res += mul(Get(s3,-dx,-dy), float4x4(0.021536003798246,0.009723491035402,0.008633354678750,-0.149749234318733,-0.030895581468940,-0.011409389786422,-0.059037562459707,-0.029407564550638,0.034302227199078,-0.031460486352444,0.021705783903599,0.008916456252337,-0.025646060705185,-0.028751118108630,0.039633497595787,0.022604526951909));
res += mul(Get(s3,-dx,0), float4x4(-0.037286210805178,0.039937771856785,-0.100992314517498,-0.012199085205793,0.007570542395115,-0.096577018499374,0.102235652506351,-0.016991442069411,0.114326678216457,-0.045468114316463,0.041967809200287,0.070022836327553,-0.029149353504181,0.016811890527606,0.071816056966782,-0.014568551443517));
res += mul(Get(s3,-dx,dy), float4x4(0.120065912604332,-0.001330407569185,0.020841451361775,-0.038175344467163,-0.067105874419212,-0.062595233321190,0.062460288405418,0.086361333727837,0.002463475568220,-0.032609328627586,-0.036059819161892,0.044185649603605,-0.069421030580997,-0.020695911720395,-0.066519618034363,-0.098592892289162));
res += mul(Get(s3,0,-dy), float4x4(0.021959897130728,-0.001226279651746,0.045069660991430,-0.056307867169380,-0.007778966333717,-0.046895876526833,-0.022869756445289,0.045947290956974,-0.101722635328770,-0.015721028670669,-0.071012891829014,-0.060931585729122,-0.004467330407351,-0.054617680609226,-0.007241929415613,0.108256846666336));
res += mul(Get(s3,0,0), float4x4(-0.094498500227928,-0.015628380700946,-0.075352542102337,-0.115885384380817,-0.058271579444408,-0.033552911132574,0.102349594235420,0.060768101364374,0.039457071572542,0.014702789485455,0.077198095619678,0.034663256257772,-0.047238621860743,0.022296039387584,0.113853625953197,0.030878840014338));
res += mul(Get(s3,0,dy), float4x4(0.042861465364695,-0.005104061216116,0.117740921676159,0.051938693970442,-0.022981017827988,0.047448582947254,0.119787171483040,0.217000648379326,0.052581772208214,-0.074380673468113,0.029372796416283,-0.030154034495354,-0.068059317767620,-0.032802678644657,-0.029796537011862,-0.045676589012146));
res += mul(Get(s3,dx,-dy), float4x4(-0.036970220506191,0.023691542446613,0.057215757668018,-0.086157165467739,0.054492771625519,-0.000671476882417,-0.026784842833877,0.014829492196441,0.012966027483344,0.018951797857881,-0.028029860928655,0.014643355272710,-0.037719495594501,-0.036295711994171,-0.092338018119335,0.154513761401176));
res += mul(Get(s3,dx,0), float4x4(0.053711988031864,0.082917816936970,-0.095235370099545,0.004272545687854,-0.093421801924706,-0.011475508101285,-0.005516092758626,0.007003651466221,-0.006627913564444,0.015935814008117,0.124101273715496,0.015613039955497,0.033693309873343,-0.051694776862860,0.038641933351755,0.042818754911423));
res += mul(Get(s3,dx,dy), float4x4(0.098176635801792,0.077305510640144,0.038939304649830,-0.005887354258448,-0.016150008887053,0.021946173161268,-0.021447928622365,0.070395857095718,0.004241357091814,0.102992080152035,0.048661228269339,-0.027472116053104,-0.002593363169581,0.035219158977270,-0.020285390317440,0.038657359778881));
return max(float4(0,0,0,0), res);
}
