sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.207222416996956,0.001237938529812,-0.056541413068771,0.085201241075993,0.027728520333767,-0.011778446845710,0.031032158061862,-0.004070235881954,-0.062000826001167,0.036223646253347,-0.048525001853704,0.004998064134270,0.037747737020254,-0.017429638653994,-0.051398016512394,0.056121848523617));
res += mul(Get(s0,-dx,0), float4x4(0.122324824333191,0.008057006634772,0.017164811491966,-0.004904303234071,-0.035860754549503,-0.029275055974722,0.020234841853380,-0.017683973535895,-0.109434314072132,0.028927132487297,0.008771348744631,-0.011194989085197,0.018760746344924,-0.033644028007984,0.090298734605312,0.039428085088730));
res += mul(Get(s0,-dx,dy), float4x4(-0.005444164387882,-0.018092423677444,0.007297940086573,-0.043842311948538,-0.073180168867111,-0.007248288951814,-0.004109094385058,-0.050165239721537,-0.015681589022279,-0.050737261772156,-0.035036962479353,-0.094915583729744,0.012796429917216,0.046372905373573,0.066542126238346,-0.040895592421293));
res += mul(Get(s0,0,-dy), float4x4(0.035821005702019,-0.072420902550220,-0.035293564200401,0.050199355930090,-0.090055458247662,-0.035902854055166,0.024775734171271,0.029808517545462,0.184394270181656,-0.100561179220676,-0.108271203935146,0.109862476587296,-0.020594373345375,-0.012920000590384,0.060015384107828,-0.010899139568210));
res += mul(Get(s0,0,0), float4x4(-0.069750055670738,-0.056381437927485,-0.074517562985420,-0.059524580836296,-0.037805341184139,-0.090489953756332,-0.006571104284376,0.077654190361500,-0.021600991487503,-0.100648850202560,-0.007102214265615,0.030540546402335,-0.024237481877208,-0.013277707621455,-0.070308826863766,0.188564345240593));
res += mul(Get(s0,0,dy), float4x4(-0.001193746807985,-0.021805444732308,-0.028976911678910,-0.030583642423153,-0.026421302929521,-0.004788440652192,-0.005744788795710,0.014723301865160,-0.094793401658535,-0.116332329809666,0.016204234212637,0.075291097164154,0.036384258419275,-0.030834855511785,-0.022721355780959,-0.028028955683112));
res += mul(Get(s0,dx,-dy), float4x4(-0.047128289937973,-0.023925179615617,-0.015549622476101,0.071334928274155,0.001863007084467,0.013027458451688,-0.033806528896093,0.000625292945188,0.082453742623329,-0.077738866209984,-0.107405968010426,0.092408388853073,-0.011696720495820,0.025140717625618,0.078895941376686,-0.126019701361656));
res += mul(Get(s0,dx,0), float4x4(0.011091453023255,-0.001645524520427,-0.006075729615986,-0.088439665734768,-0.008667766116560,-0.028921365737915,-0.054019629955292,0.003154718317091,-0.093023180961609,-0.027540719136596,0.002417144598439,-0.019779415801167,0.057488359510899,-0.016098268330097,0.044284131377935,0.023615242913365));
res += mul(Get(s0,dx,dy), float4x4(0.073266968131065,-0.024227196350694,0.032536614686251,-0.062794558703899,0.046850960701704,-0.034609321504831,-0.007606481667608,0.048978123813868,0.075832620263100,-0.049963895231485,-0.020944951102138,-0.033898405730724,-0.012186572887003,-0.087543681263924,-0.065152689814568,0.052390232682228));
res += mul(Get(s1,-dx,-dy), float4x4(0.073927916586399,0.020930821076035,0.043576736003160,-0.038709852844477,-0.194725975394249,0.072254538536072,0.078182689845562,-0.063287973403931,0.134141132235527,-0.025279670953751,0.041234508156776,0.047398194670677,-0.000904078944586,-0.019799640402198,-0.086077272891998,0.076390013098717));
res += mul(Get(s1,-dx,0), float4x4(0.057384300976992,0.066872529685497,0.023396223783493,0.000991138629615,-0.117560029029846,0.023548293858767,0.008463344536722,-0.017706479877234,0.076674140989780,0.004903493449092,0.029652781784534,0.010339288972318,-0.092720039188862,-0.040885873138905,0.003365583252162,-0.027079453691840));
res += mul(Get(s1,-dx,dy), float4x4(0.112797468900681,0.047442898154259,-0.001635868451558,-0.026382086798549,-0.049895390868187,0.068509049713612,0.000730359111913,-0.145972967147827,0.057821642607450,-0.012246653437614,0.083160363137722,-0.026116210967302,-0.067020334303379,0.081079900264740,-0.005141709931195,0.038692895323038));
res += mul(Get(s1,0,-dy), float4x4(0.005900410935283,-0.053825072944164,-0.004358087200671,-0.061276722699404,-0.105480663478374,-0.054630789905787,0.007515304256231,-0.065356113016605,-0.003904110286385,0.046787708997726,-0.016305664554238,0.048258062452078,0.029760891571641,-0.049757588654757,-0.033522408455610,0.064140468835831));
res += mul(Get(s1,0,0), float4x4(0.070521496236324,0.030159123241901,-0.166574880480766,0.060626722872257,0.012924876064062,-0.022828849032521,-0.060666635632515,0.104873009026051,-0.056906875222921,0.003437293926254,-0.042886555194855,0.013213128782809,-0.017593981698155,-0.028022294864058,-0.035116996616125,-0.030702112242579));
res += mul(Get(s1,0,dy), float4x4(0.003941226750612,-0.036237452179193,-0.038451835513115,0.026194095611572,-0.021752439439297,-0.023734139278531,0.030257308855653,0.007900877855718,-0.030527206137776,-0.031391073018312,0.079570382833481,0.028993753716350,-0.001485455781221,-0.003178399056196,-0.041406542062759,0.024459250271320));
res += mul(Get(s1,dx,-dy), float4x4(0.115295313298702,0.058659806847572,0.010924767702818,-0.134758189320564,-0.007528971415013,0.003893549088389,0.088820472359657,-0.048117239028215,-0.072935216128826,-0.040876936167479,0.019991036504507,0.003470751224086,0.057018626481295,-0.025907751172781,-0.005592985544354,0.096275798976421));
res += mul(Get(s1,dx,0), float4x4(0.038102500140667,0.067206397652626,0.069078199565411,-0.050028622150421,0.173842266201973,0.160213187336922,0.213745340704918,0.004962823353708,-0.070690050721169,0.074269622564316,-0.045597217977047,-0.001599870156497,-0.027379943057895,-0.023863185197115,-0.024381713941693,-0.021779388189316));
res += mul(Get(s1,dx,dy), float4x4(0.097880862653255,0.059044964611530,0.177706137299538,-0.093543365597725,0.073590166866779,0.079690448939800,0.033435974270105,-0.111917160451412,-0.039028551429510,0.041845016181469,-0.051503308117390,-0.032953497022390,-0.009642918594182,-0.056035760790110,-0.006287484895438,0.066057458519936));
res += mul(Get(s2,-dx,-dy), float4x4(0.175414279103279,-0.045516472309828,0.014655353501439,0.139262273907661,0.005144704133272,0.010187892243266,0.067887410521507,-0.041210968047380,0.093782141804695,0.136651828885078,0.032902818173170,0.116884626448154,0.114249989390373,-0.003097737673670,-0.079349994659424,0.096720881760120));
res += mul(Get(s2,-dx,0), float4x4(0.116762198507786,-0.008555598556995,0.036106321960688,0.024673609063029,0.000060500300606,0.002622264903039,-0.001968201482669,0.060405008494854,0.083480544388294,-0.024318626150489,0.046806257218122,0.016788128763437,0.091204755008221,0.102189950644970,-0.009984207339585,-0.079595007002354));
res += mul(Get(s2,-dx,dy), float4x4(0.050156041979790,-0.047598972916603,0.036952391266823,-0.075427271425724,-0.022464295849204,-0.016059326007962,-0.024008121341467,0.003143426496536,0.031936433166265,-0.012503894977272,0.010225696489215,0.170048385858536,0.041872281581163,0.001016495283693,0.100324362516403,0.020926315337420));
res += mul(Get(s2,0,-dy), float4x4(0.099313244223595,-0.071339488029480,-0.026900056749582,0.080219827592373,0.093981027603149,0.016437085345387,0.057060703635216,-0.028610071167350,0.049698930233717,0.043530844151974,0.029817515984178,-0.002905830508098,0.051019839942455,0.027130380272865,-0.039590384811163,0.138582572340965));
res += mul(Get(s2,0,0), float4x4(-0.060886945575476,-0.040880072861910,-0.001928520039655,-0.053151976317167,-0.022227397188544,-0.025216877460480,0.033914763480425,0.006509643513709,0.049642428755760,0.037896811962128,0.219506219029427,-0.040706798434258,-0.102823957800865,-0.041670046746731,0.068237565457821,-0.050193239003420));
res += mul(Get(s2,0,dy), float4x4(-0.106906570494175,-0.018919652327895,0.047276355326176,-0.047974746674299,0.004919161088765,-0.000295073317830,0.059928521513939,0.010343220084906,0.118503898382187,-0.048169139772654,0.014145049266517,0.138005822896957,-0.042833700776100,0.043727848678827,0.066168665885925,-0.026304328814149));
res += mul(Get(s2,dx,-dy), float4x4(0.073658742010593,-0.061395905911922,-0.011108188889921,0.016410671174526,0.081605263054371,0.026498345658183,0.052278667688370,0.016301590949297,-0.065939977765083,-0.080603748559952,-0.057139571756124,0.057266790419817,0.014530390501022,-0.058846272528172,0.046533018350601,0.080149151384830));
res += mul(Get(s2,dx,0), float4x4(-0.050525482743979,-0.028262753039598,-0.032397378236055,-0.128494501113892,0.094841167330742,-0.008386555127800,0.071483448147774,0.030408391728997,-0.021028090268373,-0.010224049910903,0.060532540082932,0.074962034821510,-0.065168105065823,-0.037050511687994,0.092860728502274,-0.029122609645128));
res += mul(Get(s2,dx,dy), float4x4(0.029545104131103,-0.056112591177225,0.088362731039524,-0.003211274510249,-0.021809814497828,-0.004180573858321,-0.009546395391226,-0.052120704203844,0.049586106091738,-0.051568381488323,0.019043439999223,0.178660839796066,0.010082225315273,0.047607045620680,-0.008034038357437,0.032290711998940));
res += mul(Get(s3,-dx,-dy), float4x4(-0.195716410875320,0.062105979770422,0.064152665436268,-0.002585799200460,-0.006229836493731,0.051443003118038,-0.009852908551693,-0.035741668194532,0.039455074816942,0.008766867220402,0.157947868108749,0.019927827641368,-0.021955830976367,0.019007349386811,0.048900980502367,0.104024708271027));
res += mul(Get(s3,-dx,0), float4x4(-0.129333749413490,0.107161223888397,-0.012929756194353,-0.028721060603857,0.151697769761086,0.035303339362144,0.108103752136230,0.026837833225727,0.087410666048527,0.057468336075544,0.005439218599349,0.050999142229557,-0.054474927484989,0.058251034468412,-0.021574357524514,0.019971467554569));
res += mul(Get(s3,-dx,dy), float4x4(-0.024466989561915,-0.096700400114059,0.079535529017448,0.092853903770447,0.068282186985016,0.051277413964272,0.009735801257193,0.078306198120117,-0.089115865528584,-0.002475360874087,0.027438377961516,-0.002006349852309,-0.113639444112778,0.027637083083391,0.011034385301173,-0.096491560339928));
res += mul(Get(s3,0,-dy), float4x4(-0.041833192110062,0.045335359871387,0.044862497597933,-0.065174035727978,0.079013049602509,0.040443178266287,0.112983785569668,-0.037035390734673,0.052343022078276,-0.012775359675288,0.041139021515846,0.014197377488017,0.022382356226444,-0.032216750085354,0.049438316375017,0.126004844903946));
res += mul(Get(s3,0,0), float4x4(0.034408476203680,0.063512742519379,0.075097963213921,-0.002697273390368,0.201255783438683,0.125775814056396,0.117143362760544,-0.031565967947245,0.076239101588726,0.015846271067858,0.067919395864010,0.067556649446487,-0.061500333249569,0.006872820667922,-0.161008819937706,0.105115279555321));
res += mul(Get(s3,0,dy), float4x4(0.223566114902496,0.033878002315760,0.138791054487228,0.165885880589485,0.143498972058296,-0.057053454220295,-0.058802146464586,0.011640212498605,0.036476589739323,0.003187654074281,0.022627571597695,0.036844890564680,-0.105833135545254,-0.078711755573750,-0.038418166339397,-0.017418250441551));
res += mul(Get(s3,dx,-dy), float4x4(-0.012803291901946,0.014556881040335,0.019304761663079,-0.048810087144375,-0.005759929306805,-0.104083836078644,-0.158999949693680,0.011953854002059,0.021915601566434,0.007121112197638,0.047910429537296,0.019288485869765,0.097815170884132,0.067170508205891,0.093981094658375,0.000470846571261));
res += mul(Get(s3,dx,0), float4x4(-0.009414900094271,0.113255575299263,0.056834682822227,0.031403321772814,0.048163395375013,-0.070440545678139,-0.006884377449751,-0.066351890563965,-0.001092120655812,0.006139569450170,-0.019249694421887,0.051404267549515,0.061412822455168,0.074490569531918,0.028854008764029,0.150230661034584));
res += mul(Get(s3,dx,dy), float4x4(0.030841590836644,0.144092828035355,-0.073341228067875,-0.040870241820812,0.080008722841740,-0.190343469381332,-0.014250495471060,0.099290430545807,0.027767604216933,-0.025158068165183,0.007593932561576,-0.019226834177971,-0.043144132941961,0.023964378982782,0.036242853850126,0.050052188336849));
return max(float4(0,0,0,0), res);
}
