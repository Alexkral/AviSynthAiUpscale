sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.043127607554197,0.020463867112994,0.054040346294641,-0.035650197416544,0.009001608006656,0.005329692270607,-0.084342211484909,-0.064115926623344,0.028522500768304,0.021908931434155,-0.068345844745636,-0.061487995088100,-0.110639445483685,0.028262453153729,-0.052514456212521,-0.025231720879674));
res += mul(Get(s0,-dx,0), float4x4(0.156333968043327,0.008547649718821,0.039315652102232,-0.004561610054225,0.128274396061897,0.077568314969540,-0.010436972603202,-0.030901458114386,-0.014010093174875,-0.025803809985518,0.145844325423241,0.006210969761014,-0.029164317995310,-0.052112769335508,-0.009137652814388,-0.078007794916630));
res += mul(Get(s0,-dx,dy), float4x4(0.120510518550873,0.016103738918900,-0.078205227851868,0.116001106798649,0.109600014984608,-0.075476087629795,0.040803749114275,-0.033364284783602,-0.029713530093431,-0.008347648195922,0.008693655021489,0.027642300352454,0.003106724005193,-0.026694804430008,-0.069193683564663,0.028496187180281));
res += mul(Get(s0,0,-dy), float4x4(0.088950231671333,0.081908263266087,0.022885525599122,-0.053267925977707,0.004057805053890,-0.055905390530825,-0.007814429700375,-0.156367406249046,0.035050537437201,0.095574557781219,0.039135262370110,0.018017556518316,-0.022144243121147,0.102325804531574,0.032150745391846,0.046943712979555));
res += mul(Get(s0,0,0), float4x4(0.099511429667473,0.008424583822489,0.063116706907749,-0.008069333620369,0.043370753526688,-0.050450414419174,0.036496873944998,-0.048229031264782,-0.019092336297035,-0.012618664652109,0.000166339261341,0.066914722323418,0.003536421805620,0.124123357236385,0.011387267149985,0.001540982048027));
res += mul(Get(s0,0,dy), float4x4(0.055730637162924,0.007408505771309,-0.093978159129620,-0.027623539790511,-0.129803627729416,-0.040702551603317,0.027511518448591,0.028705429285765,-0.039144471287727,-0.019796481356025,-0.038147177547216,-0.037936579436064,0.075663410127163,0.021622959524393,0.068930968642235,0.022359345108271));
res += mul(Get(s0,dx,-dy), float4x4(-0.106587693095207,0.132955655455589,0.022703405469656,0.066960230469704,0.038869217038155,-0.021351126953959,-0.016261089593172,-0.004640312865376,-0.018033057451248,-0.017558846622705,-0.024010578170419,-0.006958256475627,0.044226266443729,0.008978254161775,0.050279065966606,-0.013200372457504));
res += mul(Get(s0,dx,0), float4x4(-0.030466988682747,0.034816149622202,0.045395150780678,-0.123417086899281,0.042757686227560,-0.045802894979715,-0.038313999772072,0.005951279308647,-0.017836259678006,0.042999811470509,0.020749462768435,0.036835357546806,-0.093678392469883,0.008747858926654,-0.052222717553377,0.014986374415457));
res += mul(Get(s0,dx,dy), float4x4(0.058608006685972,-0.126877918839455,-0.139834374189377,0.020607654005289,0.050165198743343,0.048491436988115,0.050775405019522,-0.075380615890026,-0.009616251103580,0.033542770892382,-0.082065083086491,-0.008262500166893,-0.046233627945185,0.035107687115669,0.021939370781183,-0.102236658334732));
res += mul(Get(s1,-dx,-dy), float4x4(0.067496761679649,-0.069085322320461,0.113128997385502,-0.006303168367594,-0.072110734879971,-0.012505567632616,0.033757694065571,-0.003725020214915,-0.030588496476412,0.070030190050602,-0.131754770874977,0.060263391584158,-0.020081153139472,-0.100663401186466,-0.067513994872570,0.029017211869359));
res += mul(Get(s1,-dx,0), float4x4(0.042465731501579,-0.117584466934204,0.085389591753483,-0.000048960941058,0.012573457323015,-0.015940763056278,0.095193810760975,0.021750681102276,-0.004197975620627,0.012666684575379,-0.170091897249222,-0.017702218145132,0.033833693712950,-0.097770623862743,0.212357059121132,-0.019201092422009));
res += mul(Get(s1,-dx,dy), float4x4(0.033503640443087,-0.061321757733822,-0.081163115799427,0.096935763955116,-0.107500612735748,-0.031859453767538,0.023455321788788,0.041065279394388,-0.033536799252033,-0.006359179038554,-0.072736330330372,0.003408118151128,0.020428573712707,-0.029516970738769,0.001337203895673,-0.023728715255857));
res += mul(Get(s1,0,-dy), float4x4(0.055191654711962,0.045917741954327,0.118223294615746,-0.013294689357281,0.103091932833195,-0.028349714353681,0.013995835557580,-0.063822656869888,0.044247783720493,0.144790261983871,-0.006718399468809,0.018228352069855,-0.001529478584416,0.005032081156969,-0.013183357194066,-0.024941921234131));
res += mul(Get(s1,0,0), float4x4(0.003862970974296,-0.032886683940887,0.013060609810054,-0.025439864024520,0.159792929887772,-0.078466057777405,0.149362593889236,0.015286049805582,0.183464676141739,0.038544673472643,-0.133333235979080,0.080514699220657,0.023686563596129,-0.015753945335746,0.082874462008476,-0.024096498265862));
res += mul(Get(s1,0,dy), float4x4(0.042208928614855,-0.016982717439532,-0.125425279140472,-0.032034266740084,0.067382544279099,-0.031779903918505,0.020341567695141,0.110178023576736,-0.018401462584734,-0.008303496986628,0.016888590529561,0.004011731129140,-0.110701702535152,-0.054507352411747,0.038476213812828,-0.062129240483046));
res += mul(Get(s1,dx,-dy), float4x4(-0.014877405948937,0.007957777939737,0.106815822422504,-0.087924204766750,-0.007513892836869,0.049167498946190,-0.069410130381584,-0.066318616271019,-0.072201095521450,0.011620827950537,0.020793350413442,-0.019688850268722,0.027745887637138,-0.107880413532257,-0.048774536699057,0.004447392188013));
res += mul(Get(s1,dx,0), float4x4(0.015244553796947,-0.095123931765556,-0.135091096162796,0.035975977778435,-0.024427935481071,-0.063831806182861,0.075634717941284,-0.084530159831047,0.093530528247356,-0.002161818090826,0.008803136646748,0.070483893156052,0.023993521928787,-0.006076639518142,0.068967372179031,-0.000650140456855));
res += mul(Get(s1,dx,dy), float4x4(0.151406109333038,0.080776415765285,-0.065020069479942,-0.021077927201986,-0.064103953540325,-0.065870225429535,-0.057951681315899,-0.016181847080588,0.014551912434399,0.043550103902817,-0.104559853672981,-0.079419545829296,-0.152772381901741,-0.044967021793127,-0.003408856457099,-0.010099787265062));
res += mul(Get(s2,-dx,-dy), float4x4(-0.096238695085049,0.033649250864983,-0.141931310296059,0.046453874558210,-0.036714795976877,-0.034519981592894,0.128519639372826,-0.008637100458145,-0.134446874260902,0.083677150309086,0.148043826222420,0.028607282787561,0.005652746185660,-0.026011640205979,-0.070024818181992,0.092918433248997));
res += mul(Get(s2,-dx,0), float4x4(0.032499752938747,-0.056866087019444,-0.178772479295731,0.073854014277458,-0.086721494793892,0.025907704606652,-0.001532888272777,0.036157965660095,0.019145673140883,0.068629585206509,0.011720741167665,0.023819800466299,-0.012006527744234,0.067406922578812,0.021850110962987,0.043866883963346));
res += mul(Get(s2,-dx,dy), float4x4(0.115411333739758,-0.064677610993385,-0.199427798390388,0.029708802700043,0.087344139814377,-0.020705444738269,-0.018660711124539,-0.022551877424121,-0.023989586159587,0.000327250425471,-0.018759159371257,-0.073117539286613,-0.053222917020321,-0.068441011011600,0.008349936455488,-0.033436976373196));
res += mul(Get(s2,0,-dy), float4x4(-0.013762191869318,-0.017502496019006,-0.152604311704636,-0.063226163387299,-0.020632030442357,0.057192359119654,0.178314432501793,0.074287287890911,-0.097005717456341,-0.039359476417303,0.065523132681847,-0.054002854973078,0.020549641922116,0.013213897123933,0.024950433522463,0.020365009084344));
res += mul(Get(s2,0,0), float4x4(-0.033010683953762,-0.025989923626184,-0.141040340065956,-0.049818806350231,-0.003386368509382,-0.054958663880825,-0.009182167239487,0.012081369757652,-0.024727430194616,-0.030451409518719,0.037351951003075,0.015626514330506,0.064158350229263,0.005133462138474,-0.015075003728271,0.083411507308483));
res += mul(Get(s2,0,dy), float4x4(0.102284878492355,-0.051666647195816,-0.091149970889091,-0.109046503901482,-0.026785027235746,0.003910750150681,0.097235061228275,0.027960810810328,0.062163200229406,-0.121302872896194,0.096830613911152,0.029580118134618,-0.005963049363345,0.035644240677357,0.013396948575974,0.037031661719084));
res += mul(Get(s2,dx,-dy), float4x4(-0.072105877101421,-0.086748979985714,0.004564554896206,-0.025986006483436,-0.026725403964520,-0.081658326089382,-0.000192927211174,0.025624925270677,0.016226513311267,0.110845081508160,0.107909083366394,-0.069868147373199,0.019945912063122,0.026885481551290,-0.052230630069971,0.053363613784313));
res += mul(Get(s2,dx,0), float4x4(0.034261923283339,0.022825952619314,0.032193798571825,-0.007887464016676,-0.025217130780220,0.016497911885381,0.029916768893600,0.003231120062992,0.089240744709969,0.136295527219772,-0.016079697757959,-0.003478798316792,0.003640348557383,0.045138400048018,0.001521725556813,0.032784964889288));
res += mul(Get(s2,dx,dy), float4x4(-0.042373068630695,0.018432887271047,0.014597043395042,0.054634071886539,0.012243977747858,0.060785382986069,-0.025736840441823,0.013715813867748,-0.019594255834818,0.008537610061467,-0.038929890841246,-0.055614970624447,-0.012265998870134,0.012504697777331,-0.039557628333569,-0.077730439603329));
res += mul(Get(s3,-dx,-dy), float4x4(0.021884642541409,0.067330367863178,0.032129351049662,-0.051040284335613,0.011890562251210,-0.027786651626229,0.084413506090641,0.051499325782061,0.095765203237534,0.091947957873344,-0.084703378379345,-0.009074975736439,-0.011747882701457,-0.042360324412584,-0.016188325360417,-0.006176040042192));
res += mul(Get(s3,-dx,0), float4x4(-0.079303823411465,-0.027261620387435,0.042219534516335,0.058577917516232,0.034303482621908,-0.017273142933846,0.017528951168060,0.038588620722294,-0.079010881483555,-0.000271026015980,0.008661341853440,-0.090118765830994,0.030063163489103,0.031347669661045,-0.035514123737812,0.054946359246969));
res += mul(Get(s3,-dx,dy), float4x4(0.091415531933308,-0.087053894996643,-0.010083682835102,0.007164751179516,0.058615654706955,-0.011001552455127,0.063948914408684,0.052772145718336,-0.095596075057983,-0.002015573205426,0.002026776550338,0.002461219439283,0.017693275585771,-0.004391181282699,-0.046992659568787,0.030661851167679));
res += mul(Get(s3,0,-dy), float4x4(-0.004861180670559,0.089248046278954,0.042708929628134,-0.079683102667332,-0.034188862890005,-0.103417813777924,0.003926535602659,0.048282310366631,0.052692890167236,0.062866091728210,0.084989726543427,-0.096136160194874,-0.120422512292862,-0.115896813571453,0.020821027457714,0.005577214062214));
res += mul(Get(s3,0,0), float4x4(-0.019629554823041,0.034370239824057,-0.024054771289229,-0.018227487802505,0.029167406260967,-0.027340149506927,0.070295877754688,0.083725765347481,0.092818230390549,0.019912501797080,-0.014547037892044,0.001922618946992,-0.045878246426582,-0.119088768959045,-0.037137266248465,0.080816939473152));
res += mul(Get(s3,0,dy), float4x4(0.027346670627594,-0.008642336353660,0.026062909513712,0.014001853764057,0.043395929038525,0.041869468986988,0.035696294158697,0.111422613263130,-0.026655776426196,0.011124192737043,0.156957358121872,-0.048925846815109,-0.034765884280205,0.083178900182247,-0.027921544387937,-0.064179085195065));
res += mul(Get(s3,dx,-dy), float4x4(0.090815402567387,0.001540124416351,0.020093237981200,0.013132699765265,0.092602200806141,0.093941628932953,0.096135094761848,0.051540084183216,-0.030814165249467,0.073078170418739,-0.022337535396218,-0.032401487231255,0.022701576352119,0.075812302529812,-0.086966857314110,-0.025401534512639));
res += mul(Get(s3,dx,0), float4x4(-0.016151465475559,-0.060745343565941,-0.054740339517593,-0.000944271683693,0.099744565784931,0.036662079393864,0.047226477414370,-0.005455436185002,-0.010877480730414,-0.043192677199841,0.046435162425041,-0.031516969203949,-0.029686544090509,0.117432072758675,-0.029431473463774,0.006899458821863));
res += mul(Get(s3,dx,dy), float4x4(-0.001622003852390,0.135729864239693,0.085149452090263,0.007280437741429,0.031081667169929,-0.074693024158478,0.007152106612921,-0.010746553540230,-0.038505163043737,-0.025154415518045,0.043909221887589,-0.084014415740967,-0.036220017820597,0.132231771945953,0.051783584058285,-0.127194777131081));
return max(float4(0,0,0,0), res);
}
