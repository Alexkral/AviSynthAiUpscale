sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.079298853874207,0.063471078872681,-0.046004489064217,-0.008037875406444,-0.030093725770712,-0.001378369866870,-0.066228106617928,0.013022465631366,-0.025533594191074,-0.017063023522496,-0.011489947326481,-0.010080941952765,-0.050966423004866,-0.026056218892336,0.008457264862955,-0.049940899014473));
res += mul(Get(s0,-dx,0), float4x4(-0.014767458662391,0.080427527427673,0.002569169038907,-0.039396975189447,0.028803711757064,0.011177848093212,-0.052835505455732,0.014688996598125,0.002287057228386,0.002705160062760,-0.008129299618304,-0.028751704841852,-0.022500807419419,0.046718046069145,0.003654835978523,-0.011065882630646));
res += mul(Get(s0,-dx,dy), float4x4(0.039116889238358,0.084797613322735,0.008229499682784,-0.056667581200600,0.024031275883317,-0.015661269426346,0.007545391097665,-0.004778137430549,-0.013408025726676,0.079912707209587,0.035300046205521,-0.053918980062008,-0.023126587271690,-0.007551980204880,0.019973140209913,0.026166686788201));
res += mul(Get(s0,0,-dy), float4x4(-0.046013124287128,-0.002161293290555,0.020528426393867,-0.028177298605442,0.050661411136389,0.019852409139276,-0.044967405498028,-0.006832521874458,-0.062594376504421,0.094865173101425,-0.001333086518571,-0.002699984703213,-0.033598393201828,0.025834755972028,0.010649023577571,0.040552988648415));
res += mul(Get(s0,0,0), float4x4(-0.015537184663117,-0.081701278686523,0.021082727238536,0.046547845005989,-0.003615011461079,0.010414536111057,0.001314652385190,-0.020714337006211,-0.013001885265112,0.023937020450830,-0.047559410333633,-0.056816011667252,0.054019879549742,0.009898926131427,-0.006984230130911,0.035694137215614));
res += mul(Get(s0,0,dy), float4x4(-0.016125326976180,-0.011326884850860,0.046847768127918,-0.022057527676225,0.017328951507807,-0.015026167966425,-0.004689145367593,0.019756967201829,0.031869810074568,0.091202288866043,-0.045415136963129,0.033815171569586,0.029930816963315,0.045903634279966,-0.074162006378174,-0.040021624416113));
res += mul(Get(s0,dx,-dy), float4x4(-0.010937700048089,0.023124299943447,0.035733904689550,0.012704785913229,-0.003487493610010,-0.027195626869798,0.012698266655207,0.031815487891436,-0.031830452382565,-0.082530781626701,-0.065258048474789,-0.010863787494600,-0.006769842468202,-0.008997829630971,-0.009152030572295,0.015053599141538));
res += mul(Get(s0,dx,0), float4x4(0.017969280481339,0.022285446524620,-0.007349686231464,-0.012912441976368,-0.027776772156358,-0.045088220387697,-0.004770242609084,-0.021967742592096,0.022819610312581,-0.058823853731155,0.008771211840212,0.001810104004107,-0.038237534463406,-0.087759047746658,0.020266721025109,-0.030458647757769));
res += mul(Get(s0,dx,dy), float4x4(-0.039650719612837,-0.001191759249195,-0.030075971037149,-0.002721563912928,0.007704294752330,0.030169326812029,-0.022552367299795,-0.007507950533181,0.009086997248232,0.047307636588812,0.020599775016308,0.074176497757435,-0.024556104093790,-0.035797130316496,-0.077734410762787,-0.032561376690865));
res += mul(Get(s1,-dx,-dy), float4x4(-0.058775532990694,0.047398183494806,-0.011092860251665,0.033149737864733,-0.074844621121883,0.033055167645216,-0.016715206205845,-0.037090659141541,0.000749827013351,0.007982443086803,0.002734309295192,-0.004160196054727,-0.007718356791884,-0.027170561254025,0.037074256688356,-0.001712284400128));
res += mul(Get(s1,-dx,0), float4x4(-0.007610389031470,-0.022506967186928,0.031824249774218,0.062233455479145,-0.021530797705054,-0.046912059187889,-0.011952064931393,-0.048280324786901,-0.029051549732685,0.057900089770555,0.012829618528485,-0.037701375782490,-0.022852586582303,-0.009397886693478,0.028737403452396,-0.024557713419199));
res += mul(Get(s1,-dx,dy), float4x4(-0.041337665170431,0.022183338180184,-0.010327439755201,0.053378053009510,0.066926367580891,-0.081737644970417,0.030028155073524,-0.012865924276412,0.053731955587864,-0.005878385622054,0.008148835040629,-0.022676877677441,0.069766320288181,-0.042785748839378,0.058680485934019,-0.025334913283587));
res += mul(Get(s1,0,-dy), float4x4(-0.054241184145212,-0.038941994309425,-0.043690744787455,0.047057379037142,-0.054686728864908,-0.037937328219414,0.004989491775632,0.080359920859337,-0.009014246985316,-0.003809051122516,-0.014727354981005,0.024999521672726,0.034966886043549,0.037099879235029,-0.019549924880266,-0.013241711072624));
res += mul(Get(s1,0,0), float4x4(-0.007650586776435,0.016505362465978,-0.003342302283272,0.020621635019779,0.148389667272568,0.016957217827439,0.077319309115410,0.075116045773029,0.039888232946396,-0.050849042832851,0.011799020692706,0.053723093122244,-0.059003517031670,-0.003466426860541,0.029356654733419,0.025131978094578));
res += mul(Get(s1,0,dy), float4x4(0.064827404916286,-0.032041028141975,0.036561995744705,-0.042082190513611,0.012650075368583,-0.049204979091883,-0.012189994566143,0.073330990970135,-0.012306674383581,0.013895859010518,-0.043529935181141,-0.033197537064552,-0.008082757703960,0.070462897419930,0.011174542829394,0.019013306125998));
res += mul(Get(s1,dx,-dy), float4x4(-0.000125862527057,0.091705597937107,-0.000102985824924,0.007120200432837,0.111841596662998,0.016890546306968,0.026601033285260,0.083918534219265,-0.005739363376051,-0.024753695353866,0.044364344328642,-0.053914252668619,-0.026766544207931,-0.003406121628359,-0.036581907421350,-0.015401389449835));
res += mul(Get(s1,dx,0), float4x4(-0.043105490505695,0.060688327997923,0.024176787585020,-0.049722958356142,-0.009503141976893,-0.002393146743998,-0.013743251562119,0.023991327732801,0.007092772517353,0.002585664857179,-0.049444686621428,-0.043347299098969,-0.030752543359995,0.036165900528431,-0.003498974721879,0.014260274358094));
res += mul(Get(s1,dx,dy), float4x4(0.078717052936554,0.048101406544447,0.012290035374463,-0.027197508141398,-0.101879164576530,0.032185029238462,-0.028681166470051,-0.034368623048067,-0.023926349356771,-0.016753669828176,0.016697404906154,-0.024334976449609,0.057794515043497,-0.017338754609227,0.060937315225601,0.013825159519911));
res += mul(Get(s2,-dx,-dy), float4x4(0.078905254602432,0.014602508395910,0.030351053923368,-0.032720107585192,0.028967751190066,0.019325606524944,-0.070674657821655,-0.009413349442184,0.023198498412967,-0.027957931160927,-0.025277834385633,0.010532410815358,-0.010189739987254,0.042965270578861,-0.004436064511538,-0.066346675157547));
res += mul(Get(s2,-dx,0), float4x4(0.046198140829802,-0.046865396201611,-0.010064713656902,-0.003620676230639,0.024277681484818,0.016367556527257,-0.030285594984889,-0.018866520375013,0.033279806375504,-0.008590247482061,-0.009249130263925,-0.081223279237747,0.019040483981371,0.013114358298481,-0.056713383644819,-0.029535798355937));
res += mul(Get(s2,-dx,dy), float4x4(0.025773925706744,0.067591562867165,0.012947627343237,-0.006846335716546,0.003226927714422,0.037288125604391,-0.036723356693983,-0.006518301554024,0.041667871177197,0.009537671692669,0.019655769690871,-0.083617240190506,0.057508766651154,-0.013009204529226,0.004688175395131,-0.067105524241924));
res += mul(Get(s2,0,-dy), float4x4(0.072227172553539,-0.004348959308118,-0.018595002591610,-0.045577101409435,-0.003650020575151,-0.025892864912748,0.063503749668598,0.038787636905909,-0.012812670320272,0.006747872103006,-0.002631653100252,-0.033649101853371,0.025562906637788,-0.010351425036788,0.007803633809090,-0.007164397276938));
res += mul(Get(s2,0,0), float4x4(0.017020221799612,0.008668417111039,0.027728283777833,-0.043780297040939,-0.043514564633369,0.027490083128214,-0.009902072139084,0.025797056034207,0.018277017399669,-0.054683063179255,0.041815545409918,0.041128311306238,-0.021287422627211,-0.058149654418230,-0.004078860394657,-0.055591039359570));
res += mul(Get(s2,0,dy), float4x4(0.012126916088164,0.073065713047981,-0.012699233368039,-0.002577389357612,-0.028310535475612,-0.002899015555158,-0.027750557288527,0.028806904330850,0.021984374150634,0.024331063032150,0.041148453950882,0.089194610714912,0.012112234719098,-0.033072799444199,0.005392483435571,-0.057763498276472));
res += mul(Get(s2,dx,-dy), float4x4(0.050120998173952,0.019196478649974,-0.014191657304764,-0.010878726840019,0.016438500955701,0.016336150467396,-0.009320587851107,0.029282519593835,-0.030797028914094,-0.057563159614801,0.007025420665741,-0.025106519460678,0.071125715970993,0.050060171633959,-0.004724049940705,0.071466274559498));
res += mul(Get(s2,dx,0), float4x4(0.039540562778711,0.014762010425329,-0.028046844527125,-0.020057082176208,0.017444655299187,0.004926797933877,-0.048604015260935,-0.034971639513969,0.075687244534492,-0.013449333608150,-0.051916621625423,0.055930092930794,0.032304126769304,-0.022044254466891,-0.007705656811595,0.018904760479927));
res += mul(Get(s2,dx,dy), float4x4(0.058418344706297,0.036498583853245,0.019707154482603,-0.037681221961975,0.043968398123980,0.018258653581142,0.030158692970872,-0.034276776015759,0.026416629552841,-0.008131103590131,0.014508062042296,-0.010192696936429,-0.048585928976536,0.039029821753502,0.053270619362593,0.006225387565792));
res += mul(Get(s3,-dx,-dy), float4x4(-0.074101664125919,-0.073223985731602,-0.058010067790747,0.043359808623791,-0.001368235214613,-0.021252280101180,-0.009134028106928,-0.064268164336681,0.019465658813715,0.070111826062202,-0.029121063649654,-0.039151303470135,-0.002495187567547,-0.008002794347703,0.018722197040915,-0.064708389341831));
res += mul(Get(s3,-dx,0), float4x4(-0.011025110259652,-0.045591101050377,0.015694757923484,-0.019681587815285,0.007389324251562,0.011763077229261,0.089196339249611,-0.116128362715244,0.001182254985906,0.089793033897877,-0.058986101299524,0.035076417028904,-0.012973271310329,0.007296263705939,-0.048136897385120,0.008504813537002));
res += mul(Get(s3,-dx,dy), float4x4(0.123126700520515,-0.047769885510206,0.054286949336529,-0.068721324205399,-0.057182591408491,-0.031178686767817,-0.025714833289385,-0.086159877479076,-0.028373990207911,0.007663847878575,-0.011971858330071,-0.002070696791634,-0.062886789441109,-0.026651192456484,0.025841310620308,0.043930187821388));
res += mul(Get(s3,0,-dy), float4x4(-0.008192451670766,0.031647752970457,-0.020311001688242,-0.042653344571590,0.051527757197618,-0.018921371549368,0.011942602694035,-0.014902487397194,0.049365792423487,0.040648922324181,0.008611122146249,-0.006018239073455,-0.035815574228764,-0.014014353044331,-0.050073545426130,0.071469202637672));
res += mul(Get(s3,0,0), float4x4(0.053372196853161,0.040800828486681,0.061642318964005,0.085399881005287,0.067214153707027,-0.002936613978818,0.074151091277599,-0.025618329644203,-0.061332061886787,0.005548559594899,-0.040744394063950,0.029214143753052,-0.073392756283283,-0.016244407743216,-0.011457155458629,0.069687478244305));
res += mul(Get(s3,0,dy), float4x4(0.123766869306564,0.018214626237750,-0.018905004486442,-0.010124539025128,-0.061938915401697,-0.109617084264755,-0.017271213233471,-0.050675854086876,-0.027716064825654,-0.030762752518058,-0.002464005490765,0.000911417708267,-0.080990321934223,-0.019377049058676,-0.005705301649868,0.006823446135968));
res += mul(Get(s3,dx,-dy), float4x4(0.001870621461421,-0.066886760294437,-0.049893744289875,-0.001149287680164,0.012531919404864,-0.045214001089334,0.016394348815084,0.017368016764522,-0.010846013203263,0.009267722256482,-0.002746906829998,0.013810085132718,-0.064682766795158,0.020498177036643,0.012138368561864,0.047112639993429));
res += mul(Get(s3,dx,0), float4x4(-0.011754979379475,-0.058311033993959,0.004945850931108,0.006308885291219,0.055692009627819,0.054295133799314,-0.013268202543259,0.023040050640702,-0.037300195544958,0.032722201198339,0.089478574693203,-0.029025346040726,-0.056198168545961,0.014475599862635,0.000370805908460,0.084572635591030));
res += mul(Get(s3,dx,dy), float4x4(-0.053932026028633,-0.057894092053175,-0.049018498510122,0.018613059073687,0.000788681732956,0.007332135457546,-0.037420302629471,-0.011669022962451,-0.009789813309908,0.021133696660399,0.009895506314933,-0.049387339502573,-0.037303723394871,0.011281972751021,0.030654419213533,0.005471718031913));
return max(float4(0,0,0,0), res);
}
