sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.006348906084895,-0.024753224104643,-0.142668500542641,-0.024478984996676,0.044825680553913,0.012983786873519,-0.002120913472027,0.037569437175989,0.034518413245678,0.041691035032272,0.019497722387314,0.041118059307337,0.027794936671853,0.059557430446148,0.016514349728823,0.030521711334586));
res += mul(Get(s0,-dx,0), float4x4(-0.085098341107368,0.114229001104832,-0.109619222581387,0.029650073498487,-0.007814553566277,0.124955900013447,0.022890409454703,0.017093915492296,0.030039029195905,-0.049096144735813,-0.089951962232590,0.166390970349312,-0.029201122000813,0.074861593544483,-0.063121274113655,-0.031244643032551));
res += mul(Get(s0,-dx,dy), float4x4(-0.150696650147438,-0.032470766454935,-0.013789862394333,-0.107183940708637,-0.052131146192551,-0.021108150482178,-0.039704144001007,-0.131604969501495,0.006318829022348,0.060728970915079,-0.004137706477195,-0.058277472853661,-0.027162861078978,-0.042728517204523,-0.040480177849531,0.077198445796967));
res += mul(Get(s0,0,-dy), float4x4(0.061284054070711,-0.078737661242485,-0.071392856538296,0.062464199960232,-0.017297755926847,0.027119411155581,-0.014984403736889,0.066920541226864,-0.005515366792679,0.003330991137773,0.004840482957661,0.087208785116673,-0.029674140736461,0.052946638315916,0.030559379607439,-0.117987692356110));
res += mul(Get(s0,0,0), float4x4(0.032570797950029,-0.108277171850204,-0.070244476199150,0.089020140469074,-0.045874774456024,0.003487728303298,-0.003819640958682,0.000281258195173,-0.041362959891558,0.028475413098931,-0.001033059670590,0.070644803345203,-0.044722795486450,0.072930678725243,-0.024734493345022,-0.029758697375655));
res += mul(Get(s0,0,dy), float4x4(-0.095974721014500,-0.024826360866427,-0.075520195066929,-0.045239891856909,0.055056966841221,-0.018696257844567,0.097325280308723,0.004155066795647,-0.048469994217157,0.051214862614870,0.008975354954600,0.127370819449425,-0.099052727222443,0.010606395080686,0.080889478325844,-0.078439638018608));
res += mul(Get(s0,dx,-dy), float4x4(0.016147792339325,-0.050409335643053,-0.069128356873989,-0.011436952278018,0.042146194726229,0.011314031668007,0.018977601081133,-0.010930811055005,0.005827335175127,-0.024561570957303,0.036443512886763,-0.049503315240145,0.027073832228780,-0.088573008775711,-0.025912875309587,0.062886416912079));
res += mul(Get(s0,dx,0), float4x4(-0.033136982470751,-0.106041990220547,-0.028017450124025,0.138418763875961,0.081906057894230,0.006529313512146,-0.001089292345569,-0.025805335491896,-0.053801637142897,0.049956191331148,0.020426461473107,0.098943933844566,-0.009886487387121,-0.077187016606331,0.091671682894230,0.096689686179161));
res += mul(Get(s0,dx,dy), float4x4(0.014275721274316,-0.187407776713371,-0.039934467524290,-0.015261107124388,0.020757501944900,0.031287610530853,-0.043775159865618,0.040162362158298,0.031965222209692,0.022385764867067,-0.026482449844480,0.041039664298296,0.139326930046082,-0.005506319459528,0.108212605118752,-0.007439425215125));
res += mul(Get(s1,-dx,-dy), float4x4(0.038010660558939,0.068234965205193,0.004433644935489,0.044664971530437,-0.051919456571341,-0.034868132323027,-0.027116613462567,-0.095700539648533,0.028733773157001,0.023294620215893,-0.109219864010811,0.019204361364245,-0.003073145868257,0.039122629910707,0.011325082741678,-0.058224618434906));
res += mul(Get(s1,-dx,0), float4x4(0.012056727893651,0.025863844901323,0.064679451286793,0.092510595917702,-0.061996322125196,-0.001650441088714,-0.099840454757214,-0.018196225166321,0.235010012984276,-0.085447296500206,-0.098961211740971,-0.001982034184039,0.157095372676849,-0.012571908533573,0.031090170145035,-0.029357660561800));
res += mul(Get(s1,-dx,dy), float4x4(0.025137199088931,0.061632908880711,-0.018394688144326,-0.023429989814758,-0.094162590801716,0.015635399147868,-0.031970437616110,-0.112157016992569,0.090714596211910,-0.081196755170822,-0.067504815757275,0.008514597080648,0.024525960907340,-0.148533135652542,0.153948590159416,0.023569323122501));
res += mul(Get(s1,0,-dy), float4x4(-0.030727034434676,-0.095993779599667,0.115637600421906,0.096465602517128,0.010935924015939,-0.010817646980286,-0.168826833367348,0.010531953535974,0.032720848917961,0.099028937518597,0.049557942897081,-0.004726136568934,0.107510276138783,0.086776956915855,0.014961937442422,0.004792017862201));
res += mul(Get(s1,0,0), float4x4(0.023458721116185,0.035059042274952,0.148501828312874,0.187634855508804,-0.033264148980379,-0.058748431503773,-0.052059192210436,0.046567883342505,0.040951069444418,-0.087555401027203,0.000489000754897,-0.081124350428581,0.020448325201869,0.015739753842354,-0.056246582418680,-0.034590348601341));
res += mul(Get(s1,0,dy), float4x4(0.011102749966085,-0.068497791886330,0.011188609525561,0.024132084101439,-0.024193998426199,0.110292084515095,-0.052406758069992,0.035493347793818,0.026130620390177,-0.025390690192580,0.014092490077019,-0.116091467440128,0.060024052858353,-0.025302011519670,0.048991881310940,-0.020626105368137));
res += mul(Get(s1,dx,-dy), float4x4(-0.085355706512928,-0.063273742794991,0.039187215268612,0.021911313757300,0.036715079098940,-0.018027376383543,-0.123146273195744,-0.078882120549679,-0.054983571171761,0.039812441915274,0.022324386984110,-0.039992332458496,0.138988345861435,0.059794738888741,0.050600342452526,0.012311756610870));
res += mul(Get(s1,dx,0), float4x4(-0.094213806092739,-0.066636309027672,0.004300054628402,0.112621076405048,0.024256855249405,-0.023524651303887,-0.028259154409170,0.045708335936069,-0.038690641522408,0.055496856570244,0.182836130261421,0.007521299645305,-0.027720797806978,-0.005562147125602,0.091469690203667,-0.016529412940145));
res += mul(Get(s1,dx,dy), float4x4(0.044275939464569,0.080967523157597,-0.054447069764137,0.040058795362711,0.129798486828804,0.000390004657675,-0.008614823222160,0.057993832975626,-0.025917273014784,0.011180352419615,-0.059192921966314,-0.059692844748497,-0.011180487461388,-0.013033097609878,0.058627698570490,0.003678043838590));
res += mul(Get(s2,-dx,-dy), float4x4(0.094843998551369,0.041581097990274,-0.037453863769770,-0.115653082728386,0.028642458841205,-0.028694882988930,-0.088253222405910,-0.060016494244337,-0.137625962495804,0.008236441761255,-0.031158342957497,-0.041252754628658,-0.030205011367798,0.031370289623737,-0.027127146720886,-0.033349204808474));
res += mul(Get(s2,-dx,0), float4x4(0.081772118806839,-0.102178841829300,0.040517639368773,0.005131668876857,-0.074584580957890,0.078327231109142,0.076088666915894,-0.006726922001690,-0.089898593723774,-0.039567138999701,-0.048337463289499,-0.127956360578537,-0.010795870795846,0.047079607844353,0.037060853093863,-0.019753891974688));
res += mul(Get(s2,-dx,dy), float4x4(0.031788695603609,-0.006596429739147,0.048038844019175,0.028848089277744,0.062666811048985,-0.033735860139132,0.122315190732479,-0.059775121510029,-0.073895558714867,-0.048549819737673,0.031962443143129,0.031893622130156,-0.060690052807331,-0.004552582744509,-0.061113044619560,-0.034637607634068));
res += mul(Get(s2,0,-dy), float4x4(0.105949021875858,0.021666008979082,-0.051491033285856,-0.127651795744896,0.028109515085816,-0.094732560217381,0.069419011473656,0.014278217218816,-0.054501041769981,-0.028098853304982,-0.036049932241440,0.058677077293396,0.046759903430939,-0.019487876445055,0.009145417250693,-0.000469491904369));
res += mul(Get(s2,0,0), float4x4(-0.027397459372878,-0.023824881762266,-0.047982249408960,0.027981175109744,0.090987525880337,0.054173361510038,0.060878694057465,-0.034447096288204,0.159120157361031,0.155765503644943,0.015979599207640,0.117325238883495,0.016410000622272,0.021863183006644,-0.056748565286398,-0.012432233430445));
res += mul(Get(s2,0,dy), float4x4(-0.131492659449577,0.067984484136105,0.017821358516812,0.021194051951170,0.025522584095597,-0.038383323699236,0.116338454186916,-0.047250762581825,0.016642600297928,0.037909846752882,-0.038205925375223,-0.145266205072403,0.055149957537651,0.082855753600597,-0.077377125620842,0.046493131667376));
res += mul(Get(s2,dx,-dy), float4x4(-0.006636464502662,0.007995337247849,0.017817627638578,-0.084310553967953,-0.099158562719822,-0.022963071241975,0.033843122422695,-0.004779110196978,-0.014597252942622,0.035608682781458,-0.062654018402100,-0.009141105227172,-0.020726667717099,0.048183627426624,0.029168723151088,0.028255145996809));
res += mul(Get(s2,dx,0), float4x4(0.037511605769396,-0.001213761279359,0.050614740699530,-0.110818833112717,-0.059607628732920,0.017815548926592,0.051086436957121,-0.025386868044734,0.074812449514866,-0.011917483061552,0.048842761665583,0.031396720558405,0.094821482896805,0.023271780461073,0.040350306779146,0.147641941905022));
res += mul(Get(s2,dx,dy), float4x4(-0.060041561722755,-0.015446685254574,0.103504009544849,-0.091295719146729,0.091273032128811,-0.080676339566708,0.122258514165878,-0.036903955042362,-0.032114218920469,-0.026871040463448,-0.004890048410743,-0.066201046109200,-0.058446697890759,-0.075534537434578,-0.047270219773054,0.141650810837746));
res += mul(Get(s3,-dx,-dy), float4x4(0.061894021928310,-0.020642232149839,0.038893789052963,0.017393359914422,-0.037346057593822,0.068061508238316,0.068091005086899,-0.049005288630724,0.007155205588788,-0.073187641799450,0.158236235380173,0.058225151151419,0.036386616528034,0.117866948246956,0.091153874993324,-0.090094156563282));
res += mul(Get(s3,-dx,0), float4x4(0.059931866824627,0.023074729368091,-0.038701415061951,0.046811413019896,0.023756289854646,-0.003747207345441,-0.090258039534092,-0.029565272852778,-0.044556006789207,-0.057132806628942,0.124910429120064,0.005229454953223,-0.128190591931343,0.210503995418549,-0.127576008439064,-0.086972214281559));
res += mul(Get(s3,-dx,dy), float4x4(0.013264549896121,0.040134124457836,0.059871844947338,-0.019862920045853,-0.067930549383163,-0.017060637474060,0.029232490807772,0.122330233454704,0.066913142800331,-0.112918742001057,0.002429920015857,0.023312620818615,0.032230928540230,0.044656768441200,0.023962995037436,-0.155694097280502));
res += mul(Get(s3,0,-dy), float4x4(0.086418367922306,-0.049640186131001,-0.020627450197935,0.037087522447109,-0.021089542657137,0.077937044203281,-0.128918871283531,0.122270457446575,0.067050829529762,-0.057426411658525,0.084570884704590,-0.034419547766447,-0.104312762618065,-0.058289494365454,0.017586445435882,0.166448399424553));
res += mul(Get(s3,0,0), float4x4(0.009260739199817,0.010678146034479,-0.014904960989952,0.058553434908390,0.035349421203136,0.018996700644493,0.005243248771876,0.159614801406860,-0.091148398816586,-0.003610090818256,-0.035547200590372,0.005741433706135,0.015000325627625,0.111907318234444,-0.034446641802788,0.206095874309540));
res += mul(Get(s3,0,dy), float4x4(0.065985195338726,0.031566660851240,0.053152576088905,-0.084581419825554,-0.031622983515263,0.069218657910824,0.035708282142878,-0.012348474003375,0.140954464673996,-0.088844224810600,0.093810796737671,-0.009636407718062,-0.031075505539775,0.139282763004303,-0.093965195119381,0.107571542263031));
res += mul(Get(s3,dx,-dy), float4x4(-0.041527327150106,-0.080451034009457,0.047175820916891,-0.057500731199980,0.062560379505157,-0.001764208660461,-0.009057817049325,0.022521384060383,0.083273909986019,0.163033366203308,-0.003347335616127,-0.057556547224522,-0.120977580547333,-0.161607503890991,-0.036364804953337,-0.029744993895292));
res += mul(Get(s3,dx,0), float4x4(-0.039909310638905,0.002839976921678,0.003028635866940,0.032724920660257,-0.019530232995749,0.068935073912144,-0.144337862730026,0.047916732728481,-0.017120709642768,0.059392642229795,-0.062258746474981,-0.147515043616295,0.010686050169170,0.027671486139297,-0.028675271198153,-0.005833800416440));
res += mul(Get(s3,dx,dy), float4x4(0.011855357326567,-0.132732287049294,-0.046723578125238,0.039717070758343,-0.048601232469082,0.090268328785896,-0.017979655414820,-0.000709291954990,0.129716336727142,-0.107010923326015,-0.110938981175423,-0.066852182149887,-0.092794045805931,0.054490439593792,-0.048692326992750,0.006835139822215));
return max(float4(0,0,0,0), res);
}
