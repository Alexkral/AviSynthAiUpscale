sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.030270526185632,0.023053597658873,0.006287989206612,0.055697165429592,0.056641828268766,-0.054480310529470,0.051355715841055,-0.029462730512023,0.014401990920305,0.111092127859592,0.020787803456187,0.045839730650187,-0.054135080426931,-0.026446538046002,-0.136498868465424,-0.055561244487762));
res += mul(Get(s0,-dx,0), float4x4(-0.171964555978775,-0.002459946321324,-0.030402064323425,0.079581156373024,0.000580345338676,-0.049200523644686,-0.069173425436020,0.086225308477879,0.072117567062378,-0.031065035611391,0.039719652384520,0.023617655038834,-0.023810869082808,0.061307430267334,0.011110957711935,-0.018709044903517));
res += mul(Get(s0,-dx,dy), float4x4(-0.096658721566200,-0.039366841316223,-0.054046873003244,0.022601000964642,0.022711703553796,0.099910989403725,0.039829161018133,-0.012527708895504,-0.060751099139452,0.037247225642204,0.121271476149559,-0.070598721504211,0.013355626724660,0.156184285879135,0.062404833734035,0.032282534986734));
res += mul(Get(s0,0,-dy), float4x4(0.045595515519381,-0.003846319159493,-0.057545933872461,-0.081038706004620,0.016949281096458,0.029520936310291,-0.050869978964329,-0.051130820065737,0.002285670954734,0.069092132151127,0.074430391192436,-0.119665026664734,-0.072391360998154,-0.101938344538212,0.086320593953133,-0.051272727549076));
res += mul(Get(s0,0,0), float4x4(-0.004671843722463,0.111722886562347,-0.082509748637676,-0.159429490566254,-0.087150894105434,0.072368122637272,-0.107742220163345,0.046487815678120,-0.087182581424713,0.094196118414402,0.052973881363869,-0.015735903754830,-0.023048253729939,-0.076693125069141,0.038426160812378,0.025041982531548));
res += mul(Get(s0,0,dy), float4x4(-0.148529514670372,0.128439158201218,0.019655179232359,-0.048394981771708,-0.000642270548269,0.040456987917423,-0.047794718295336,-0.126890808343887,0.046828400343657,0.163179114460945,0.000888518290594,-0.096555240452290,0.001120658009313,-0.002997962525114,0.151158273220062,-0.031223282217979));
res += mul(Get(s0,dx,-dy), float4x4(0.007026676088572,0.032699231058359,0.005517207551748,0.034351147711277,0.039069358259439,-0.023592229932547,0.052387319505215,0.083844423294067,0.055901434272528,-0.051070064306259,0.128521710634232,-0.007167664822191,0.045567065477371,-0.036601103842258,0.128580808639526,-0.068349860608578));
res += mul(Get(s0,dx,0), float4x4(0.051052536815405,-0.048435632139444,-0.057184573262930,-0.044546529650688,0.064714141190052,-0.014481517486274,-0.000182319403393,-0.094311133027077,0.022231075912714,0.065296493470669,-0.100835256278515,-0.089621558785439,0.124996185302734,0.076547928154469,0.043232303112745,0.097714826464653));
res += mul(Get(s0,dx,dy), float4x4(-0.043319460004568,0.027604050934315,-0.003767748363316,-0.084044948220253,0.135275572538376,-0.009414833970368,0.059912569820881,0.036288816481829,0.075920209288597,-0.032055918127298,-0.050777908414602,0.057718198746443,0.066171348094940,0.048098951578140,0.011907053180039,-0.016462190076709));
res += mul(Get(s1,-dx,-dy), float4x4(0.005499978549778,0.037953667342663,-0.127904728055000,-0.007938155904412,-0.048704080283642,0.033639356493950,0.001783815328963,0.081935204565525,0.047018364071846,-0.016180077567697,-0.041384812444448,0.039923962205648,0.041023172438145,-0.025451844558120,-0.027247831225395,-0.002935715485364));
res += mul(Get(s1,-dx,0), float4x4(-0.009733808226883,-0.036531325429678,0.005064011085778,-0.119683600962162,-0.055255979299545,-0.005132836755365,0.089283548295498,0.016687231138349,0.046453978866339,-0.028206309303641,0.024677818641067,0.027223784476519,0.077376991510391,-0.015498298220336,0.097311668097973,0.030159415677190));
res += mul(Get(s1,-dx,dy), float4x4(0.067897520959377,0.043611973524094,-0.044201776385307,-0.068368732929230,-0.030266694724560,0.015571119263768,-0.020731519907713,0.079010508954525,0.059375163167715,0.033193927258253,-0.029099237173796,-0.042086135596037,0.051360957324505,-0.097401127219200,0.039494629949331,0.040001474320889));
res += mul(Get(s1,0,-dy), float4x4(-0.026219718158245,0.040235798805952,-0.026821641251445,0.146798864006996,-0.074424803256989,0.076073028147221,-0.097584858536720,0.017691629007459,0.009175341576338,0.117073573172092,0.026248255744576,-0.010229731909931,-0.014857627451420,-0.001884943922050,0.037035848945379,-0.072788037359715));
res += mul(Get(s1,0,0), float4x4(-0.041831579059362,-0.109256394207478,-0.061177808791399,0.027504175901413,-0.014084065333009,-0.020508313551545,-0.020175648853183,0.041794557124376,-0.046842582523823,-0.064388088881969,-0.062948986887932,-0.089085683226585,0.070269778370857,-0.030917402356863,0.056876290589571,-0.064826227724552));
res += mul(Get(s1,0,dy), float4x4(-0.011604887433350,0.036551780998707,0.114959418773651,0.031794186681509,-0.050867673009634,0.033066134899855,-0.048442590981722,-0.082861274480820,0.051811099052429,-0.072072818875313,0.011466979049146,-0.090473495423794,-0.058582875877619,-0.002305740024894,-0.005061638075858,0.063246786594391));
res += mul(Get(s1,dx,-dy), float4x4(-0.052242156118155,-0.076788209378719,-0.085375204682350,0.007012740243226,-0.030306583270431,-0.018232727423310,0.045973125845194,-0.032641462981701,-0.031005978584290,-0.044933632016182,0.012690945528448,-0.049759231507778,-0.183144047856331,-0.006078063044697,-0.042091976851225,0.015918679535389));
res += mul(Get(s1,dx,0), float4x4(-0.024112472310662,0.056844122707844,0.022990370169282,0.028911355882883,-0.035955015569925,0.035347253084183,-0.020818864926696,-0.034966140985489,-0.062533929944038,0.065404020249844,-0.037703447043896,0.026310395449400,-0.028434421867132,-0.018361780792475,0.110693529248238,-0.037239503115416));
res += mul(Get(s1,dx,dy), float4x4(0.042403548955917,0.044496037065983,0.039028972387314,-0.000234741208260,-0.031276695430279,-0.002431347966194,0.027341626584530,0.105113834142685,-0.007738567888737,-0.076069124042988,0.022754468023777,-0.029041139408946,-0.011397507973015,0.006813818588853,-0.005218850914389,0.114397853612900));
res += mul(Get(s2,-dx,-dy), float4x4(-0.038033425807953,0.062882348895073,0.045241467654705,-0.040890015661716,-0.047049712389708,-0.016596131026745,0.057374790310860,0.047107413411140,0.024788403883576,-0.035929493606091,-0.025641525164247,-0.020627137273550,-0.068342790007591,0.185030579566956,-0.071922115981579,-0.067606486380100));
res += mul(Get(s2,-dx,0), float4x4(0.095326535403728,-0.059048715978861,-0.016346739605069,0.036430645734072,0.054048888385296,0.112774923443794,-0.104266017675400,-0.025676120072603,-0.009665186516941,-0.018481845036149,-0.028103733435273,-0.052854593843222,-0.034653738141060,-0.033368811011314,-0.005061161704361,-0.050241902470589));
res += mul(Get(s2,-dx,dy), float4x4(0.099114872515202,-0.220532178878784,-0.035004060715437,-0.087100632488728,-0.155906677246094,0.040300108492374,-0.040561955422163,-0.035381253808737,0.077202588319778,0.113002993166447,-0.055731832981110,-0.016018087044358,-0.045305311679840,-0.015240431763232,0.042429890483618,0.036698926240206));
res += mul(Get(s2,0,-dy), float4x4(0.020838931202888,0.141634464263916,-0.062753938138485,0.059149324893951,0.112264409661293,-0.009755464270711,-0.054195567965508,0.136295244097710,0.051100749522448,0.014037179760635,0.012215327471495,-0.162369936704636,0.110173694789410,0.062572911381721,-0.087802864611149,0.077799379825592));
res += mul(Get(s2,0,0), float4x4(0.155847787857056,-0.071787588298321,0.015402040444314,-0.064101517200470,0.158428937196732,-0.058104995638132,-0.081909604370594,-0.060950729995966,0.064673990011215,0.010211833752692,0.041541695594788,0.103058718144894,-0.033449541777372,-0.061634737998247,0.084045045077801,-0.029088573530316));
res += mul(Get(s2,0,dy), float4x4(-0.018157741054893,-0.173823133111000,-0.079898491501808,0.058703422546387,0.044851019978523,-0.151638492941856,0.042085893452168,-0.121449522674084,0.033931531012058,-0.003787779249251,0.042179681360722,-0.000578826235142,-0.055990949273109,0.108616337180138,0.009925299324095,0.050874043256044));
res += mul(Get(s2,dx,-dy), float4x4(-0.005490311887115,0.068482972681522,0.018950082361698,-0.080134071409702,-0.168871775269508,0.122187756001949,0.005256189964712,0.118901424109936,-0.013560323975980,0.042051654309034,0.006881312467158,0.042126778513193,-0.060085486620665,-0.053284920752048,0.026001367717981,-0.083154648542404));
res += mul(Get(s2,dx,0), float4x4(0.099167041480541,-0.199093475937843,0.008413967676461,-0.036629699170589,-0.091049939393997,0.078883238136768,0.105314821004868,0.061854336410761,-0.101123973727226,0.003348614322022,0.057093501091003,-0.014506850391626,0.011808444745839,-0.202109962701797,0.025154156610370,-0.013198243454099));
res += mul(Get(s2,dx,dy), float4x4(-0.015114582143724,-0.043834049254656,-0.019360730424523,0.039093237370253,0.353978782892227,0.005613440182060,0.041245352476835,-0.077960230410099,0.011731480248272,-0.004512657877058,0.045684948563576,-0.056602496653795,-0.084076531231403,-0.030815288424492,0.062833294272423,0.077498756349087));
res += mul(Get(s3,-dx,-dy), float4x4(-0.053289949893951,0.024846510961652,0.116330467164516,-0.007850408554077,0.118773415684700,0.081137739121914,-0.051464147865772,-0.093525759875774,0.068110033869743,0.012791182845831,0.042313795536757,-0.101666286587715,0.050458773970604,0.102851822972298,0.013521316461265,0.001272696652450));
res += mul(Get(s3,-dx,0), float4x4(-0.056109063327312,-0.017666427418590,-0.018238533288240,0.023202247917652,0.004959257319570,0.093758597970009,-0.087388880550861,-0.094034105539322,0.136075451970100,0.071319431066513,0.003014117944986,-0.077901668846607,-0.006032021250576,0.046985495835543,-0.070912823081017,0.008261011913419));
res += mul(Get(s3,-dx,dy), float4x4(-0.118478566408157,0.083005167543888,-0.073461823165417,-0.073909498751163,-0.074375845491886,0.012478653341532,0.016485096886754,-0.014634151943028,-0.024959834292531,0.056990202516317,-0.038641914725304,-0.047982096672058,0.073705427348614,0.011726529337466,0.010879908688366,-0.021879963576794));
res += mul(Get(s3,0,-dy), float4x4(0.031599920243025,0.028328208252788,0.062546767294407,0.058564521372318,-0.121529363095760,0.034245900809765,-0.141267418861389,0.014369227923453,-0.045762930065393,-0.008051525801420,-0.022271871566772,-0.027285074815154,-0.101935952901840,0.027080601081252,-0.006385676097125,0.058590278029442));
res += mul(Get(s3,0,0), float4x4(0.061019193381071,-0.071550019085407,0.024541832506657,0.059847347438335,0.177760183811188,-0.082121081650257,-0.007855543866754,-0.026288427412510,-0.038274656981230,-0.057021524757147,0.135027661919594,0.008258131332695,0.009568212553859,0.007314144168049,-0.000164270008099,0.013338130898774));
res += mul(Get(s3,0,dy), float4x4(0.045358486473560,0.035825632512569,0.006020491011441,0.023457489907742,-0.072010040283203,-0.107619099318981,-0.001047196332365,-0.026029745116830,-0.014371535740793,-0.065169230103493,0.057389542460442,0.033623114228249,-0.086139634251595,0.027972666546702,0.077789485454559,-0.060091223567724));
res += mul(Get(s3,dx,-dy), float4x4(0.054923001676798,0.121868297457695,0.040563188493252,0.020748876035213,-0.070146642625332,0.040490880608559,-0.041877944022417,-0.076725147664547,0.065378330647945,0.014365926384926,-0.127356842160225,-0.080999679863453,0.057467296719551,-0.037401974201202,-0.018454276025295,0.062920726835728));
res += mul(Get(s3,dx,0), float4x4(-0.092509679496288,0.074026182293892,-0.057128943502903,0.016880167648196,0.294280618429184,-0.017081797122955,0.142155021429062,0.074762955307961,0.017188459634781,0.048614971339703,0.079951442778111,-0.013358213938773,-0.053239922970533,0.008886147290468,-0.094348251819611,0.004919771570712));
res += mul(Get(s3,dx,dy), float4x4(0.124548926949501,-0.043134968727827,-0.075707636773586,-0.018621614202857,-0.080752402544022,0.084176145493984,0.109889753162861,0.061317395418882,-0.131333604454994,0.087736338376999,0.005415841937065,-0.017658226191998,-0.020381970331073,-0.081709660589695,0.012032254599035,0.011857411824167));
return max(float4(0,0,0,0), res);
}
