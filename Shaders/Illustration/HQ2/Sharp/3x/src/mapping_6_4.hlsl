sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.032911244779825,-0.133135870099068,-0.091693282127380,-0.031316902488470,0.049981713294983,0.018077429383993,0.047452792525291,-0.011434280313551,-0.001758025027812,-0.050911113619804,-0.045050438493490,0.039131034165621,-0.049544777721167,-0.087983697652817,0.045138951390982,0.042137950658798));
res += mul(Get(s0,-dx,0), float4x4(0.089570902287960,-0.012738711200655,-0.072697445750237,-0.059325549751520,0.038887016475201,-0.010360654443502,0.056417442858219,0.063519977033138,-0.014976987615228,-0.033477388322353,0.006872257217765,0.015694513916969,0.096078038215637,-0.064457200467587,0.038722932338715,-0.042743511497974));
res += mul(Get(s0,-dx,dy), float4x4(0.090284466743469,-0.021233024075627,-0.028641652315855,-0.014008064754307,0.014698778279126,-0.028009267523885,-0.089750133454800,-0.011060427874327,0.026206159964204,-0.024642968550324,0.033673074096441,0.021543724462390,0.014805641025305,-0.053455196321011,-0.047354470938444,-0.018234338611364));
res += mul(Get(s0,0,-dy), float4x4(-0.061687558889389,-0.000105621264083,0.020085588097572,-0.012098601087928,0.013694223947823,0.059719588607550,-0.017300952225924,-0.043612454086542,0.051043208688498,0.040465287864208,0.023746706545353,-0.092843592166901,0.048015318810940,0.065030544996262,-0.011684959754348,-0.004710153676569));
res += mul(Get(s0,0,0), float4x4(-0.012904663570225,-0.003234660951421,-0.031972263008356,-0.091579705476761,-0.056409142911434,-0.054758083075285,0.035243973135948,0.069051519036293,0.077328950166702,-0.080947004258633,0.096806146204472,-0.051554635167122,0.090860322117805,-0.067251913249493,0.012552610598505,0.003869387554005));
res += mul(Get(s0,0,dy), float4x4(-0.067138820886612,-0.117626406252384,-0.067728333175182,0.059389945119619,-0.078324027359486,0.033242091536522,0.049492988735437,-0.029059486463666,-0.055807005614042,-0.055944826453924,0.056969940662384,0.070727281272411,0.032774269580841,0.051355049014091,-0.042197238653898,-0.019110439345241));
res += mul(Get(s0,dx,-dy), float4x4(-0.090611547231674,0.000546169641893,0.061804942786694,-0.078061617910862,0.029239006340504,0.004234407562762,-0.010575823485851,0.001782303210348,-0.121305048465729,-0.060306981205940,-0.019469549879432,0.111810959875584,-0.007780979853123,-0.048446960747242,-0.070155620574951,-0.042360957711935));
res += mul(Get(s0,dx,0), float4x4(-0.069894276559353,0.014124818146229,0.027492536231875,-0.226196303963661,-0.002330148592591,0.086821280419827,0.083322785794735,-0.017419505864382,-0.011104143224657,0.041846707463264,-0.093826115131378,0.022772528231144,-0.059733845293522,-0.144468337297440,0.018575500696898,0.036105360835791));
res += mul(Get(s0,dx,dy), float4x4(-0.062149446457624,-0.118531621992588,-0.024213805794716,-0.039730131626129,-0.086345754563808,0.108980856835842,-0.037141099572182,0.034677825868130,0.036361355334520,0.036672830581665,0.059066049754620,-0.047983482480049,0.074439190328121,-0.018907791003585,0.014173766598105,0.069294989109039));
res += mul(Get(s1,-dx,-dy), float4x4(-0.061138927936554,0.042258981615305,0.080513186752796,0.118210665881634,-0.094729699194431,0.015378290787339,-0.048040203750134,-0.052971266210079,-0.014979967847466,-0.053342271596193,0.088479898869991,-0.027241814881563,0.004469495266676,-0.028441611677408,0.044579256325960,0.070660203695297));
res += mul(Get(s1,-dx,0), float4x4(-0.021144509315491,0.187532022595406,0.010165399871767,0.061436239629984,-0.040325999259949,-0.020375128835440,-0.027344234287739,0.016833430156112,0.036043267697096,0.046239275485277,0.190470904111862,0.000389755383367,0.051688324660063,0.051300019025803,0.097046524286270,0.014568105340004));
res += mul(Get(s1,-dx,dy), float4x4(0.027874719351530,0.093240864574909,-0.032101668417454,0.062454413622618,0.028351861983538,-0.047093465924263,0.012874174863100,0.099539645016193,-0.025788571685553,0.092844009399414,0.171274825930595,-0.057161375880241,0.040434040129185,0.041148815304041,0.040297679603100,0.064251028001308));
res += mul(Get(s1,0,-dy), float4x4(-0.127887040376663,-0.019460992887616,0.064782358705997,0.059460498392582,0.023302894085646,0.046308390796185,-0.136180415749550,-0.063380032777786,0.115522556006908,0.038745339959860,-0.026397053152323,0.092964150011539,0.124692276120186,-0.007593089714646,-0.015711341053247,0.009794609621167));
res += mul(Get(s1,0,0), float4x4(-0.116613328456879,0.084848418831825,0.151419341564178,0.010532734915614,-0.064717635512352,-0.125218868255615,-0.112595014274120,0.001437608036213,0.033759184181690,0.039728175848722,-0.114084012806416,0.072099469602108,0.030711479485035,0.168879419565201,0.060861822217703,-0.034252822399139));
res += mul(Get(s1,0,dy), float4x4(-0.018653407692909,-0.012432335875928,0.048784911632538,0.111161738634109,0.027191549539566,-0.099329993128777,-0.039882835000753,0.173279762268066,-0.016740256920457,0.088590390980244,-0.038349285721779,-0.079986616969109,0.095233775675297,-0.064779125154018,-0.055137895047665,-0.014393105171621));
res += mul(Get(s1,dx,-dy), float4x4(-0.009686672128737,0.034326981753111,-0.033846445381641,-0.021004466339946,-0.098237439990044,0.018000813201070,-0.018173960968852,-0.024718154221773,0.052957646548748,0.070715904235840,-0.157993286848068,-0.067441508173943,0.087100408971310,0.014572363346815,-0.077887348830700,-0.034866068512201));
res += mul(Get(s1,dx,0), float4x4(-0.008276649750769,-0.038080837577581,0.030344977974892,-0.051411800086498,0.002066974295303,-0.155357986688614,-0.043844219297171,0.022458150982857,-0.019589968025684,0.056082688271999,-0.064596153795719,0.089693970978260,-0.040832217782736,-0.051687855273485,-0.013269510120153,0.022420406341553));
res += mul(Get(s1,dx,dy), float4x4(0.015372375957668,-0.104272216558456,0.023847708478570,0.077500477433205,-0.025867244228721,-0.114131741225719,0.036598809063435,0.045471131801605,-0.081440180540085,0.053188007324934,0.026796074584126,-0.052473861724138,0.042573377490044,-0.042470891028643,0.036750778555870,0.045002814382315));
res += mul(Get(s2,-dx,-dy), float4x4(0.009031550027430,0.010767780244350,0.045263137668371,-0.049884162843227,0.036036785691977,0.082072123885155,-0.006121461279690,0.025742320343852,0.032319050282240,-0.157537028193474,-0.065273754298687,-0.007780408952385,-0.144355654716492,-0.020990785211325,0.060798555612564,0.029543602839112));
res += mul(Get(s2,-dx,0), float4x4(0.025824688374996,-0.108385592699051,0.015260348096490,-0.172092959284782,0.073829919099808,0.001682178466581,0.009929383173585,0.055203944444656,0.027335224673152,-0.001585970632732,-0.144428133964539,-0.039248831570148,-0.002641902538016,0.121589168906212,-0.015501600690186,-0.026596814393997));
res += mul(Get(s2,-dx,dy), float4x4(0.035124946385622,0.060728523880243,0.006883964408189,-0.056813597679138,0.109696485102177,-0.005462543107569,-0.027741875499487,-0.134442687034607,-0.039349772036076,0.001606724807061,-0.043327491730452,-0.090213023126125,0.003513213014230,0.052519023418427,-0.032662309706211,0.013851421885192));
res += mul(Get(s2,0,-dy), float4x4(0.128081679344177,0.061404127627611,0.140312641859055,0.049705512821674,0.028607623651624,0.018464671447873,-0.050009936094284,-0.008081695064902,-0.083306252956390,-0.104532457888126,0.014228778891265,0.111465208232403,0.031869072467089,-0.055070176720619,0.089821755886078,0.077190726995468));
res += mul(Get(s2,0,0), float4x4(0.117912039160728,-0.001642534625717,-0.035881418734789,-0.032809853553772,0.130868330597878,0.017204923555255,-0.053567897528410,0.081675551831722,0.197636246681213,-0.000968440785073,-0.132610127329826,-0.041079122573137,0.041422046720982,-0.061024423688650,0.000202466966584,0.087737120687962));
res += mul(Get(s2,0,dy), float4x4(-0.011450970545411,-0.013625526800752,-0.057107608765364,-0.098146893084049,0.035151414573193,-0.094169497489929,0.098914325237274,0.004400025587529,-0.029897110536695,0.141439586877823,0.044543322175741,-0.107697747647762,0.079606823623180,0.060252197086811,-0.007419091649354,-0.045065358281136));
res += mul(Get(s2,dx,-dy), float4x4(-0.002487317426130,0.074239693582058,-0.005666215904057,0.074240513145924,0.079140231013298,-0.007211943622679,-0.011269924230874,-0.065186105668545,-0.018586091697216,0.046637874096632,0.044675067067146,0.064730048179626,0.064771547913551,-0.029061878100038,-0.063935853540897,0.019980579614639));
res += mul(Get(s2,dx,0), float4x4(0.048040583729744,0.165986672043800,-0.052437473088503,-0.015357120893896,0.028588606044650,-0.004444687627256,0.008571887388825,-0.031069517135620,-0.058986935764551,0.013081437908113,-0.034769829362631,0.088257163763046,0.012136019766331,-0.086272224783897,0.002069185953587,-0.044331915676594));
res += mul(Get(s2,dx,dy), float4x4(-0.124808490276337,-0.034243348985910,0.021805902943015,-0.088493645191193,-0.100925110280514,-0.111200362443924,-0.016050999984145,-0.041341174393892,-0.112939298152924,0.007874302566051,0.063676565885544,0.047308370471001,0.069003880023956,-0.041873451322317,-0.020206380635500,-0.015727812424302));
res += mul(Get(s3,-dx,-dy), float4x4(0.001400774461217,0.014337893575430,0.026118271052837,-0.042191885411739,-0.109317839145660,0.007226169109344,-0.047754511237144,-0.084460988640785,0.042795006185770,-0.174422830343246,-0.100002907216549,0.001338118570857,-0.093188554048538,0.033082995563745,0.073442533612251,0.072190321981907));
res += mul(Get(s3,-dx,0), float4x4(0.085703477263451,-0.011051543988287,-0.043618276715279,0.062060791999102,0.079468093812466,0.163276985287666,-0.025936793535948,0.075681507587433,-0.098708048462868,0.038502186536789,0.012337551452219,0.050081275403500,0.041253596544266,0.042626887559891,-0.103903926908970,0.095519952476025));
res += mul(Get(s3,-dx,dy), float4x4(0.034603774547577,0.026673274114728,-0.020942499861121,-0.050885003060102,-0.001299850991927,0.041783422231674,-0.039065223187208,0.056832659989595,0.063353054225445,0.052685495465994,0.021566621959209,0.045822184532881,0.074213646352291,0.034717079252005,-0.048327714204788,-0.027600200846791));
res += mul(Get(s3,0,-dy), float4x4(-0.003144939895719,0.026065651327372,0.018349075689912,-0.022701971232891,-0.079887941479683,0.038757350295782,-0.020995542407036,-0.008200982585549,-0.025062764063478,0.050602532923222,-0.095819212496281,-0.061967357993126,-0.204385548830032,0.032696750015020,0.023962674662471,0.045233551412821));
res += mul(Get(s3,0,0), float4x4(0.194470584392548,-0.003393200458959,-0.060002461075783,0.007922685705125,0.043490301817656,0.075310230255127,0.033835817128420,-0.013187105767429,-0.165208414196968,0.095600776374340,0.072153560817242,-0.051895752549171,-0.108201906085014,-0.020699821412563,0.009892083704472,0.077657289803028));
res += mul(Get(s3,0,dy), float4x4(0.085475116968155,0.009934619069099,0.074535876512527,-0.060275271534920,0.050639644265175,0.055413570255041,0.034996356815100,0.038423214107752,0.019505731761456,0.023400632664561,0.025990311056376,0.112682215869427,0.061208765953779,-0.013629400171340,-0.115397021174431,-0.077878162264824));
res += mul(Get(s3,dx,-dy), float4x4(-0.044333413243294,0.025219766423106,-0.043425615876913,0.032716117799282,0.015860298648477,0.013638573698699,0.008404270745814,0.003487869165838,-0.154352262616158,0.067385427653790,-0.021290866658092,-0.138856679201126,0.036461234092712,0.168488830327988,0.010025301016867,0.018924321979284));
res += mul(Get(s3,dx,0), float4x4(-0.097275540232658,0.020258096978068,0.183344811201096,-0.026241442188621,-0.057108461856842,-0.035914991050959,-0.000155017871293,0.036275699734688,0.074812673032284,0.035122767090797,0.053958941251040,-0.179423034191132,0.144222468137741,0.007517566904426,-0.047084752470255,0.004046773537993));
res += mul(Get(s3,dx,dy), float4x4(0.086922958493233,0.081099785864353,-0.049452006816864,-0.126893356442451,0.048916622996330,0.034938737750053,-0.052793961018324,-0.050429899245501,0.054371207952499,-0.013291162438691,0.041242614388466,0.076090812683105,0.079594790935516,0.022839982062578,0.005535837728530,0.015412571839988));
return max(float4(0,0,0,0), res);
}
