sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.054260190576315,-0.079668402671814,-0.086757659912109,0.046549763530493,-0.156456127762794,0.070055924355984,-0.060951348394156,-0.016889641061425,0.095476895570755,-0.074779659509659,0.055324450135231,0.073592938482761,0.038518361747265,0.021363237872720,0.007519959006459,-0.014445634558797));
res += mul(Get(s0,-dx,0), float4x4(0.017868032678962,0.017538277432323,0.010616268031299,0.182452589273453,-0.038451742380857,-0.028699407353997,-0.057858496904373,0.036424372345209,0.051405850797892,0.038961607962847,0.035943444818258,-0.035142652690411,0.119192369282246,0.039973687380552,0.051044780761003,-0.062665924429893));
res += mul(Get(s0,-dx,dy), float4x4(0.036650910973549,-0.033118262887001,-0.021278029307723,-0.024352857843041,-0.003430105978623,0.014541052281857,0.023427950218320,-0.017636494711041,0.029201840981841,0.064591795206070,0.006426959298551,0.033998657017946,-0.017445757985115,0.070563301444054,-0.068195357918739,-0.066205494105816));
res += mul(Get(s0,0,-dy), float4x4(-0.081153713166714,0.026629960164428,-0.060437567532063,0.089054182171822,0.064601220190525,0.003820619545877,0.044146120548248,-0.035401754081249,0.109619803726673,-0.113150164484978,-0.048603553324938,-0.019787596538663,0.067870751023293,0.053026724606752,0.044293180108070,0.024913311004639));
res += mul(Get(s0,0,0), float4x4(0.094428546726704,-0.002668584929779,0.059314761310816,0.111059494316578,0.078381091356277,0.074582554399967,-0.028503142297268,0.079962335526943,0.050739310681820,0.029620837420225,-0.006035788450390,0.028284469619393,-0.005104288458824,0.060504522174597,0.025325819849968,-0.035800345242023));
res += mul(Get(s0,0,dy), float4x4(-0.004219322931021,-0.086317166686058,0.101477481424809,0.056688614189625,-0.048006322234869,0.027386371046305,0.081136912107468,-0.039201013743877,0.030410515144467,0.059835821390152,0.026978338137269,0.014501332305372,0.036854539066553,0.025679195299745,0.061194732785225,-0.002446630969644));
res += mul(Get(s0,dx,-dy), float4x4(0.040830682963133,0.019700182601810,-0.070015683770180,-0.078727960586548,0.048029996454716,-0.092494323849678,-0.026523372158408,-0.145048752427101,-0.046270236372948,0.091042429208755,-0.019575843587518,0.065651401877403,0.031132889911532,-0.013149848207831,-0.021234543994069,-0.003600367112085));
res += mul(Get(s0,dx,0), float4x4(0.138888463377953,-0.086713358759880,0.020871831104159,0.044137027114630,-0.105292707681656,0.057651653885841,0.014021054841578,-0.022162441164255,-0.035987623035908,0.008554265834391,0.032398831099272,-0.071368075907230,-0.094151295721531,-0.070485427975655,0.049918748438358,-0.020711848512292));
res += mul(Get(s0,dx,dy), float4x4(0.084832064807415,-0.149786561727524,-0.038883361965418,-0.127697840332985,0.088779553771019,0.065620824694633,0.057069491595030,-0.029902298003435,-0.057553865015507,0.003705208888277,-0.095462501049042,-0.108100488781929,0.017223531380296,-0.010202182456851,-0.023555930703878,-0.014817972667515));
res += mul(Get(s1,-dx,-dy), float4x4(-0.010813796892762,-0.098380915820599,0.007894658483565,0.010298069566488,0.039479326456785,0.038453519344330,-0.001758683123626,-0.055402010679245,0.046642463654280,0.055924456566572,0.012395775876939,0.047317404299974,0.058070618659258,0.106793232262135,0.009854206815362,-0.059840556234121));
res += mul(Get(s1,-dx,0), float4x4(0.087277963757515,0.000145980055095,0.013514919206500,-0.113925643265247,0.027479121461511,-0.011625166051090,0.090751491487026,0.085876360535622,0.145376339554787,-0.063731171190739,0.100997440516949,-0.051268141716719,0.029508020728827,0.019580487161875,-0.030607614666224,0.095480471849442));
res += mul(Get(s1,-dx,dy), float4x4(0.062411773949862,0.001125629758462,-0.050248753279448,0.122804537415504,-0.023313926532865,0.128855630755424,-0.028304621577263,0.019305065274239,0.075252071022987,-0.023982968181372,-0.019619597122073,0.051314976066351,-0.077028863132000,0.031115720048547,0.065500758588314,0.043114725500345));
res += mul(Get(s1,0,-dy), float4x4(-0.032242275774479,-0.034061759710312,-0.046041902154684,0.027570398524404,0.006034499034286,0.052093788981438,0.002243200317025,0.055451180785894,-0.058568179607391,0.117097496986389,0.016551954671741,0.021380320191383,0.022078694775701,0.041173711419106,0.108210206031799,0.014046041294932));
res += mul(Get(s1,0,0), float4x4(0.150800257921219,0.030569257214665,-0.084416747093201,-0.017916962504387,-0.055640365928411,-0.017612313851714,0.003579911775887,0.074055813252926,-0.073308639228344,0.098204284906387,-0.009028900414705,0.069879457354546,-0.005149980541319,0.054215539246798,0.027507239952683,-0.040833339095116));
res += mul(Get(s1,0,dy), float4x4(0.083157368004322,-0.004659134894609,0.017997404560447,0.036392357200384,0.007803291548043,-0.059980399906635,-0.045675486326218,0.116193115711212,-0.018513217568398,0.054822165518999,-0.063685782253742,0.131713926792145,0.025497956201434,0.036141067743301,0.061824731528759,-0.063850477337837));
res += mul(Get(s1,dx,-dy), float4x4(-0.023848328739405,-0.022125558927655,0.001729320269078,0.036958273500204,0.025241563096642,-0.004018118139356,0.017021143808961,-0.002562799258158,-0.017075106501579,0.079357460141182,-0.013553001917899,0.122512429952621,0.022672116756439,-0.006790003739297,0.044566195458174,0.012545960955322));
res += mul(Get(s1,dx,0), float4x4(0.032582588493824,0.053660284727812,0.193832188844681,-0.045758455991745,0.042501382529736,0.110428690910339,-0.022596506401896,-0.000375384028303,-0.003080016002059,-0.107370600104332,0.029104860499501,0.154331639409065,0.115239113569260,0.012049718759954,0.038568139076233,0.009064041078091));
res += mul(Get(s1,dx,dy), float4x4(0.028355160728097,-0.025685625150800,-0.047716710716486,-0.071416690945625,0.022786241024733,0.013128762133420,0.007341861724854,0.092407435178757,-0.083632349967957,-0.055442523211241,-0.065992519259453,0.169113576412201,0.104690127074718,0.077493615448475,0.020213928073645,0.030515927821398));
res += mul(Get(s2,-dx,-dy), float4x4(0.041425049304962,0.004858348052949,0.001638089306653,0.080846615135670,-0.114300556480885,-0.047853317111731,-0.102967917919159,0.030508747324347,-0.067756786942482,0.027338247746229,0.099529348313808,-0.072128288447857,-0.004786883015186,0.051863387227058,0.016789117828012,-0.006020564120263));
res += mul(Get(s2,-dx,0), float4x4(-0.105511769652367,-0.099336229264736,0.009322596713901,0.126777946949005,0.064534619450569,-0.084834747016430,-0.043449006974697,0.129119306802750,0.049739960581064,0.041096966713667,0.037141915410757,0.100019186735153,0.043458636850119,0.057045325636864,0.020055098459125,-0.008518279530108));
res += mul(Get(s2,-dx,dy), float4x4(-0.075464896857738,-0.042711570858955,-0.048139996826649,-0.026427019387484,0.051130697131157,-0.064252115786076,0.140960693359375,0.011859659105539,0.019095698371530,-0.047310169786215,0.003543843049556,-0.069273658096790,-0.020238008350134,0.002217048779130,-0.011743151582778,-0.034961838275194));
res += mul(Get(s2,0,-dy), float4x4(0.017254563048482,0.020170174539089,0.003229645313695,-0.031625781208277,0.192288666963577,-0.040605269372463,-0.043657205998898,0.010437599383295,-0.077268682420254,0.034186173230410,0.026907501742244,-0.045086868107319,-0.041921399533749,0.017216732725501,-0.083733640611172,-0.077980041503906));
res += mul(Get(s2,0,0), float4x4(-0.064577050507069,0.192443966865540,0.255455404520035,-0.026489764451981,0.037193287163973,0.020755609497428,-0.097772613167763,-0.079797722399235,-0.001919464091770,-0.062600061297417,0.097354874014854,-0.068981520831585,-0.089775368571281,-0.015066864900291,0.037112463265657,-0.006815321277827));
res += mul(Get(s2,0,dy), float4x4(-0.155736207962036,0.116666793823242,0.081337057054043,-0.031601704657078,0.062683939933777,0.114756174385548,-0.026059735566378,-0.155503362417221,0.027907980605960,0.026078633964062,0.078107781708241,0.005204631946981,0.083190701901913,-0.039370436221361,-0.031572744250298,0.116981990635395));
res += mul(Get(s2,dx,-dy), float4x4(0.005431285127997,-0.005810116883367,-0.015177698805928,-0.083559498190880,0.036619681864977,-0.094102621078491,0.066821448504925,0.026493305340409,-0.066195577383041,-0.079927086830139,0.013271885924041,0.004904989153147,-0.068462237715721,-0.017927769571543,-0.005291063804179,0.110039338469505));
res += mul(Get(s2,dx,0), float4x4(-0.070200331509113,0.184679135680199,0.150897532701492,0.011077421717346,-0.260353237390518,-0.094578556716442,-0.003313730703667,-0.097845792770386,-0.128483131527901,0.029850982129574,0.001074989093468,-0.032653983682394,0.044774603098631,0.013160138390958,-0.019643139094114,-0.021857960149646));
res += mul(Get(s2,dx,dy), float4x4(0.026260415092111,-0.037634059786797,0.016170756891370,0.026896068826318,0.156951069831848,-0.108417414128780,-0.021714625880122,-0.042891304939985,0.042767442762852,0.017408080399036,-0.014782962389290,0.007793966680765,-0.020759161561728,-0.038430105894804,-0.028330039232969,-0.007034146226943));
res += mul(Get(s3,-dx,-dy), float4x4(-0.079917453229427,-0.063794389367104,-0.080086536705494,0.112413570284843,0.089706197381020,-0.000496867869515,-0.116387985646725,0.064949147403240,0.141019165515900,-0.002568497322500,0.005116567015648,-0.001840440672822,-0.101266019046307,-0.012926382012665,0.176589086651802,0.013065005652606));
res += mul(Get(s3,-dx,0), float4x4(0.084727235138416,-0.064636498689651,-0.036328539252281,0.156123638153076,0.226002305746078,0.077779687941074,-0.090613447129726,0.100367978215218,0.126937210559845,0.035575438290834,0.016839319840074,-0.127467036247253,-0.058161530643702,-0.067482903599739,0.137909919023514,0.085998371243477));
res += mul(Get(s3,-dx,dy), float4x4(0.063139602541924,-0.130184233188629,0.036812037229538,0.153750270605087,0.026918785646558,0.064541950821877,-0.209241300821304,-0.048869792371988,0.031609110534191,0.115211799740791,-0.062734976410866,-0.038176454603672,-0.147831514477730,0.067234009504318,-0.020162483677268,-0.031519293785095));
res += mul(Get(s3,0,-dy), float4x4(-0.066322535276413,-0.021587591618299,-0.006507001817226,-0.000891291303560,-0.052782334387302,0.024958176538348,0.042231231927872,0.043175525963306,0.033057093620300,0.110620208084583,0.019165927544236,0.015249719843268,0.035824846476316,0.138096928596497,-0.054089136421680,0.096540160477161));
res += mul(Get(s3,0,0), float4x4(0.005774532910436,0.162889704108238,-0.036770574748516,-0.143171027302742,-0.036129288375378,0.082649365067482,-0.061629582196474,-0.161611467599869,0.027870856225491,0.048790734261274,-0.002201917348430,0.002438376424834,0.044628705829382,-0.003787413937971,-0.029090585187078,0.107427485287189));
res += mul(Get(s3,0,dy), float4x4(-0.107194706797600,0.039713039994240,-0.065885446965694,-0.199266329407692,-0.012926980853081,-0.019199309870601,-0.018257020041347,0.103966698050499,-0.026774730533361,-0.001672213082202,-0.107412733137608,-0.156136989593506,0.028230203315616,0.013674817979336,0.029988434165716,0.066195815801620));
res += mul(Get(s3,dx,-dy), float4x4(0.179073736071587,-0.064940787851810,-0.080743871629238,0.075372427701950,-0.065216422080994,-0.091913282871246,0.030826359987259,-0.011927116662264,-0.064060188829899,0.010049410164356,0.030712785199285,0.002151678781956,0.046192120760679,0.040712501853704,-0.091360755264759,-0.093318872153759));
res += mul(Get(s3,dx,0), float4x4(-0.063288711011410,0.094066679477692,0.017819931730628,-0.037673071026802,-0.133367821574211,-0.157577529549599,-0.005943431984633,-0.081429958343506,0.008348818868399,-0.026428189128637,0.006733513902873,0.146450608968735,0.062588296830654,0.010150591842830,-0.019463976845145,0.007218483835459));
res += mul(Get(s3,dx,dy), float4x4(0.008467067964375,-0.133705735206604,0.026853835210204,-0.062049996107817,0.123529464006424,-0.061012782156467,0.082547247409821,-0.022633386775851,0.083713822066784,0.052033554762602,0.095025315880775,0.011265327222645,-0.078244753181934,0.039232615381479,0.003639125265181,-0.048042211681604));
return max(float4(0,0,0,0), res);
}
