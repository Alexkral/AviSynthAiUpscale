sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.026081381365657,-0.034905109554529,-0.057151477783918,-0.013376412913203,-0.047540936619043,-0.020091954618692,-0.098582580685616,0.080745987594128,-0.017268875613809,0.107689291238785,-0.031317379325628,0.094744086265564,0.047249246388674,0.002202360890806,-0.033039309084415,0.105548597872257));
res += mul(Get(s0,-dx,0), float4x4(0.136912822723389,-0.003245063126087,0.017841294407845,0.025762619450688,-0.121235042810440,-0.012405451387167,0.000676132040098,0.063647754490376,-0.067366182804108,0.016760425642133,-0.021996762603521,0.061227135360241,0.076506063342094,0.001062503783032,-0.024119496345520,0.057517409324646));
res += mul(Get(s0,-dx,dy), float4x4(0.084262140095234,0.028754180297256,-0.018733970820904,0.047673810273409,-0.041849829256535,-0.026323195546865,-0.080661356449127,-0.006341866217554,-0.086450517177582,0.049606908112764,-0.018748661503196,0.047719117254019,-0.008306135423481,-0.047624934464693,-0.052794348448515,-0.050412137061357));
res += mul(Get(s0,0,-dy), float4x4(-0.009752707555890,-0.024553935974836,-0.071704074740410,-0.023491511121392,0.136483207345009,-0.034201253205538,0.015409620478749,0.014687860384583,0.236157700419426,0.014260114170611,-0.066321991384029,-0.029448624700308,-0.057025443762541,0.032483212649822,0.061178550124168,-0.019574651494622));
res += mul(Get(s0,0,0), float4x4(0.038924355059862,0.160884514451027,-0.011874286457896,-0.057819079607725,0.018575269728899,0.044902380555868,0.053323313593864,0.052225690335035,0.032021194696426,0.150579601526260,0.005548791494220,0.053549282252789,0.024967469274998,0.022539542987943,0.014357576146722,-0.050713080912828));
res += mul(Get(s0,0,dy), float4x4(0.055455654859543,0.185938253998756,0.022826563566923,-0.071370899677277,0.109470859169960,0.016367824748158,-0.080857545137405,-0.138532504439354,-0.002059157239273,0.093985944986343,0.022519597783685,0.068721681833267,0.073198318481445,-0.040312260389328,0.066393375396729,-0.047343928366899));
res += mul(Get(s0,dx,-dy), float4x4(-0.012819187715650,-0.006554138846695,-0.035043682903051,-0.028889127075672,-0.016288414597511,0.084595836699009,0.037796489894390,-0.027046276256442,0.134949862957001,0.043697457760572,-0.100828401744366,-0.089594401419163,0.012177970260382,0.033767450600863,0.014673520810902,-0.011072026565671));
res += mul(Get(s0,dx,0), float4x4(-0.095822893083096,0.041014995425940,0.040992222726345,0.037085477262735,-0.030697965994477,0.062114305794239,0.017491476610303,0.010401319712400,-0.048299875110388,0.163559958338737,0.045326530933380,0.048036940395832,0.042934663593769,-0.022039156407118,0.029768360778689,-0.007911911234260));
res += mul(Get(s0,dx,dy), float4x4(-0.035291168838739,0.125567466020584,-0.034960333257914,-0.119626984000206,0.014098100364208,-0.029302233830094,-0.066936582326889,-0.041626162827015,-0.037713784724474,-0.097434416413307,-0.014563481323421,-0.084387034177780,0.039807107299566,-0.017277536913753,0.049731280654669,-0.086216039955616));
res += mul(Get(s1,-dx,-dy), float4x4(0.072915732860565,-0.016794960945845,0.063349783420563,-0.087107740342617,-0.061531677842140,0.028437962755561,-0.019341874867678,0.021893491968513,0.094888031482697,0.091270118951797,0.030447889119387,-0.016498364508152,-0.023282848298550,-0.069791719317436,-0.016826281324029,0.187212198972702));
res += mul(Get(s1,-dx,0), float4x4(0.178453579545021,-0.064048118889332,-0.066485844552517,-0.060129079967737,0.074076734483242,0.057598449289799,0.015659030526876,0.083282373845577,0.008323110640049,-0.019137844443321,0.073504507541656,0.012166923843324,0.015111802145839,0.073525764048100,-0.022952221333981,0.066901877522469));
res += mul(Get(s1,-dx,dy), float4x4(0.136302113533020,0.111320137977600,-0.077351160347462,0.040722586214542,-0.004889474716038,-0.062956511974335,0.014002041891217,0.177143007516861,-0.132237613201141,0.041911732405424,0.042997591197491,-0.114663429558277,-0.010446217842400,-0.037301011383533,-0.039439935237169,-0.014100834727287));
res += mul(Get(s1,0,-dy), float4x4(-0.085111804306507,-0.035029519349337,-0.057731837034225,0.051727812737226,-0.136486306786537,0.093042470514774,-0.000697973649949,0.107306875288486,0.179814338684082,0.120702832937241,0.013177937828004,0.005050178617239,0.122054018080235,0.041625931859016,-0.023187797516584,-0.059791862964630));
res += mul(Get(s1,0,0), float4x4(-0.061143588274717,-0.089335486292839,0.027577163651586,-0.028321314603090,0.031682521104813,0.027796311303973,-0.008094497956336,0.007922959513962,-0.054575137794018,0.020592525601387,-0.031634505838156,0.038762312382460,0.119736768305302,0.012967134825885,-0.022931678220630,-0.035468112677336));
res += mul(Get(s1,0,dy), float4x4(0.192796468734741,0.094522528350353,-0.101760551333427,-0.022178635001183,0.086237475275993,-0.047330159693956,0.070090897381306,-0.016392979770899,-0.051327683031559,0.005763539578766,0.028984928503633,-0.015890141949058,-0.034254632890224,0.072900898754597,-0.000819474458694,-0.001373061095364));
res += mul(Get(s1,dx,-dy), float4x4(0.019529374316335,-0.046963397413492,0.000979425036348,-0.060441594570875,0.097301974892616,0.062826156616211,0.080900765955448,0.125786334276199,0.002447822829708,0.049337435513735,-0.024126304313540,0.072340652346611,0.056042704731226,0.136855766177177,0.012892490252852,-0.080414190888405));
res += mul(Get(s1,dx,0), float4x4(-0.033190950751305,-0.172946661710739,-0.093561492860317,0.006676008924842,-0.010663452558219,-0.006785592995584,0.075601510703564,0.043577097356319,0.010519712232053,-0.154355719685555,-0.023077215999365,0.092934474349022,-0.033237166702747,0.146954372525215,0.090044550597668,-0.062187545001507));
res += mul(Get(s1,dx,dy), float4x4(0.165265187621117,0.063161149621010,-0.019776836037636,0.035966757684946,-0.023994548246264,-0.099296316504478,0.108647406101227,-0.068791627883911,0.234471350908279,-0.146402895450592,-0.048987410962582,0.023282036185265,-0.105334766209126,0.020448137074709,-0.026445366442204,-0.088027134537697));
res += mul(Get(s2,-dx,-dy), float4x4(-0.120679199695587,0.086224481463432,-0.127597928047180,0.106863327324390,-0.038818281143904,0.075552962720394,0.003593129105866,-0.015547871589661,0.092428132891655,-0.071438819169998,0.012315214611590,0.032048396766186,-0.014427638612688,0.037795133888721,-0.074751675128937,0.076548419892788));
res += mul(Get(s2,-dx,0), float4x4(0.013690023683012,0.017050670459867,-0.037286583334208,-0.012849911116064,-0.025768952444196,-0.090955458581448,-0.008826096542180,0.097599081695080,0.090804122388363,-0.086904741823673,0.102985113859177,-0.013469270430505,-0.072132371366024,0.058959711343050,-0.024558620527387,-0.112784408032894));
res += mul(Get(s2,-dx,dy), float4x4(0.037236135452986,0.051564950495958,0.068097814917564,-0.080660216510296,0.049610599875450,0.081657372415066,-0.007942260242999,0.168013334274292,0.058472473174334,-0.009940826334059,0.061390150338411,-0.081482030451298,-0.036619540303946,0.055454727262259,0.019177637994289,0.031622596085072));
res += mul(Get(s2,0,-dy), float4x4(0.062792576849461,0.032124936580658,-0.047859869897366,-0.022321870550513,-0.121989786624908,0.053467642515898,-0.022344630211592,0.034860372543335,0.010937921702862,-0.014342401176691,0.126839697360992,-0.002204871270806,-0.056354045867920,0.088083535432816,-0.030395520851016,0.127081483602524));
res += mul(Get(s2,0,0), float4x4(0.145845323801041,-0.059819705784321,-0.031499046832323,-0.030043603852391,0.042693089693785,0.006264058873057,-0.000813066377304,-0.145702287554741,-0.037981864064932,-0.118136659264565,0.075789399445057,-0.015814777463675,-0.049028184264898,-0.076545491814613,0.120254196226597,0.129841342568398));
res += mul(Get(s2,0,dy), float4x4(0.054246328771114,0.074412234127522,-0.020429946482182,-0.043452844023705,0.176935493946075,-0.001993908081204,0.008238039910793,0.161811411380768,0.082681402564049,-0.005685432814062,-0.015190817415714,-0.050265800207853,-0.032401867210865,-0.104381054639816,0.076354764401913,0.042468581348658));
res += mul(Get(s2,dx,-dy), float4x4(-0.036740098148584,-0.014321282505989,0.055423121899366,0.046449847519398,-0.098254732787609,0.057625014334917,-0.018631657585502,0.082224123179913,0.080840215086937,-0.083321876823902,0.050657343119383,0.115621708333492,0.033582989126444,0.064575530588627,-0.003317225724459,-0.144459411501884));
res += mul(Get(s2,dx,0), float4x4(-0.106749325990677,0.032739505171776,0.047725874930620,0.037807509303093,0.041604593396187,0.004610674455762,-0.001983111724257,-0.000855083053466,0.055460322648287,-0.036947146058083,0.025845324620605,0.149742722511292,0.054314434528351,-0.074257858097553,-0.004842486698180,0.054752446711063));
res += mul(Get(s2,dx,dy), float4x4(-0.008340354077518,0.045798014849424,0.010509002022445,-0.049293346703053,-0.010290264151990,0.078034184873104,0.066571019589901,0.040004365146160,0.042904652655125,-0.139440223574638,-0.013617646880448,0.029356375336647,0.028585856780410,-0.034478902816772,0.032726418226957,-0.073390118777752));
res += mul(Get(s3,-dx,-dy), float4x4(-0.038494918495417,0.047447383403778,-0.054053261876106,0.010815322399139,0.072052076458931,0.067010998725891,0.026091072708368,-0.016113258898258,-0.041030574589968,0.016881985589862,0.048409309238195,0.067349582910538,-0.077681317925453,0.034589663147926,0.056892126798630,-0.042567394673824));
res += mul(Get(s3,-dx,0), float4x4(0.180516228079796,-0.003704039612785,0.088809639215469,0.048129182308912,-0.001682615722530,-0.003807382425293,0.074883997440338,-0.020364549010992,-0.171698912978172,-0.047948099672794,-0.077411033213139,0.079047858715057,-0.025877425447106,-0.026939447969198,-0.022559318691492,0.092979565262794));
res += mul(Get(s3,-dx,dy), float4x4(0.064624898135662,0.008665420114994,0.005516616627574,-0.079588003456593,-0.090777754783630,-0.063066080212593,0.011861898936331,-0.029762445017695,-0.102490134537220,0.012832395732403,0.013292161747813,-0.025578858330846,-0.011880554258823,-0.062068413943052,0.087615296244621,-0.014403977431357));
res += mul(Get(s3,0,-dy), float4x4(0.168381541967392,0.006579983513802,-0.089301452040672,-0.057162441313267,-0.008455323055387,-0.077478975057602,0.058511190116405,0.013242908753455,-0.085954934358597,-0.008386810310185,0.115866363048553,0.057013280689716,-0.087037146091461,-0.012969269417226,0.016142893582582,0.137416511774063));
res += mul(Get(s3,0,0), float4x4(0.122282847762108,-0.033362034708261,0.013164966367185,-0.022198047488928,0.061715353280306,0.010812192223966,-0.098962947726250,0.008439928293228,-0.020931767299771,-0.061963140964508,-0.000545987975784,0.001007422339171,-0.049474835395813,-0.063330776989460,-0.009204332716763,0.049967765808105));
res += mul(Get(s3,0,dy), float4x4(-0.136999040842056,-0.051641300320625,0.119631595909595,0.112156294286251,0.018219836056232,-0.087689392268658,-0.086004205048084,0.085747994482517,-0.057502426207066,-0.056274328380823,-0.015170349739492,0.106953516602516,-0.010365137830377,-0.063675850629807,0.120933406054974,-0.014463486149907));
res += mul(Get(s3,dx,-dy), float4x4(-0.005717626307160,0.076932623982430,-0.047750707715750,-0.098201207816601,0.027458745986223,-0.104272656142712,0.081305168569088,-0.034740209579468,-0.053305331617594,-0.043511196970940,0.089674577116966,0.058407936245203,0.073850668966770,-0.104352988302708,-0.014425586909056,0.034807708114386));
res += mul(Get(s3,dx,0), float4x4(0.044407296925783,0.045445401221514,0.031282842159271,-0.049398716539145,-0.035180196166039,0.033121537417173,-0.014130151830614,-0.124103270471096,-0.007799679879099,0.009705177508295,0.073084302246571,0.051719605922699,-0.056443009525537,-0.087516635656357,0.018005650490522,0.065214499831200));
res += mul(Get(s3,dx,dy), float4x4(-0.148632824420929,-0.062414936721325,-0.014510791748762,0.145946621894836,-0.085481725633144,-0.054799005389214,-0.023182766512036,0.107486352324486,-0.071026414632797,-0.115201100707054,0.024747133255005,0.031854003667831,-0.089065305888653,-0.125196382403374,0.073019132018089,0.099609747529030));
return max(float4(0,0,0,0), res);
}
