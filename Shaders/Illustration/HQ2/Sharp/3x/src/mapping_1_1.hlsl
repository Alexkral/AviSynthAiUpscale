sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.086230024695396,0.032818049192429,-0.043609239161015,0.139478549361229,-0.103884428739548,0.024894570931792,0.007374336011708,-0.181979238986969,-0.094550862908363,0.032848682254553,0.134739458560944,0.022453790530562,-0.079267933964729,0.048418041318655,-0.038861166685820,0.078986205160618));
res += mul(Get(s0,-dx,0), float4x4(0.071122713387012,-0.069339059293270,-0.003025382757187,-0.043193887919188,-0.014661239460111,-0.131289914250374,-0.085470519959927,0.064922556281090,-0.070197567343712,0.008715616539121,-0.014914106577635,-0.020815797150135,-0.110341489315033,-0.148990467190742,-0.087066061794758,0.036031741648912));
res += mul(Get(s0,-dx,dy), float4x4(-0.090645663440228,-0.033442687243223,-0.114013262093067,-0.015198176726699,-0.132550910115242,0.138993084430695,0.029903568327427,0.129023730754852,0.134930357336998,0.087075524032116,-0.238644883036613,-0.082172133028507,0.000328490335960,0.014300741255283,0.056301657110453,-0.005203835200518));
res += mul(Get(s0,0,-dy), float4x4(-0.194514825940132,-0.056428585201502,-0.096695765852928,-0.094014339148998,0.028573323041201,-0.029313163831830,-0.007393564563245,0.027318326756358,0.039416361600161,-0.106120243668556,-0.049046788364649,0.036778513342142,0.016611037775874,0.016580212861300,0.005184797570109,-0.056672733277082));
res += mul(Get(s0,0,0), float4x4(0.172791302204132,0.060342878103256,-0.065213777124882,0.002144541591406,0.164107427000999,-0.017859043553472,-0.165185987949371,-0.038102153688669,-0.054630335420370,0.130310922861099,0.053249094635248,0.024793338030577,0.067564874887466,-0.008943989872932,0.116819143295288,0.028411470353603));
res += mul(Get(s0,0,dy), float4x4(-0.050446577370167,-0.118352673947811,0.005219995044172,-0.045711319893599,0.120239548385143,-0.004061035346240,0.001542222453281,-0.127312019467354,0.018837219104171,-0.018360730260611,-0.099889360368252,0.098734781146049,-0.040904846042395,0.178755685687065,-0.024304090067744,0.032218992710114));
res += mul(Get(s0,dx,-dy), float4x4(0.123380497097969,0.114572815597057,0.070787824690342,0.047676496207714,0.039982512593269,-0.085073135793209,0.041730400174856,-0.048805784434080,0.050429224967957,0.010847102850676,-0.076326310634613,0.065771043300629,0.013338389806449,-0.171282887458801,0.087531208992004,0.025543980300426));
res += mul(Get(s0,dx,0), float4x4(0.002886664355174,-0.008130808360875,0.029690295457840,-0.035629499703646,-0.018501866608858,-0.013550972566009,-0.037912331521511,0.001775458571501,0.006359800696373,-0.106404766440392,0.052216853946447,0.045820828527212,0.047289274632931,0.027122046798468,-0.059818860143423,-0.095551237463951));
res += mul(Get(s0,dx,dy), float4x4(0.033512569963932,-0.182230040431023,-0.051507804542780,0.010158819146454,-0.023707048967481,0.052913431078196,-0.087716914713383,-0.072892569005489,-0.061739083379507,0.047058977186680,0.083443515002728,0.001139275380410,-0.110220879316330,0.106312446296215,0.073744714260101,0.040729466825724));
res += mul(Get(s1,-dx,-dy), float4x4(-0.049607399851084,0.037400227040052,0.031817648559809,-0.134311810135841,-0.172352120280266,0.058141734451056,0.117709137499332,0.060266066342592,-0.052351988852024,0.064332567155361,0.152312144637108,-0.004943395499140,-0.062856443226337,0.006050847470760,-0.014720186591148,0.082894086837769));
res += mul(Get(s1,-dx,0), float4x4(0.023179292678833,0.006209144368768,0.016230242326856,0.059769850224257,0.001291473279707,0.180158779025078,0.007429195567966,-0.101462565362453,0.057520940899849,-0.072741843760014,0.067468225955963,0.095565050840378,-0.060146957635880,-0.260321170091629,-0.023716967552900,0.052706331014633));
res += mul(Get(s1,-dx,dy), float4x4(0.029076529666781,0.193473234772682,0.037939667701721,0.008143352344632,0.000104310340248,-0.038474306464195,-0.095009960234165,-0.019220829010010,-0.032752934843302,0.095053113996983,-0.127363353967667,-0.059261258691549,-0.065873987972736,0.046717174351215,0.013862204737961,0.145257949829102));
res += mul(Get(s1,0,-dy), float4x4(0.081204272806644,-0.001325411605649,0.002146892948076,-0.034577842801809,-0.023743802681565,0.012809121981263,-0.017629483714700,0.020421782508492,0.052361223846674,-0.003487259149551,-0.049666292965412,0.078282393515110,-0.010462393984199,-0.033402215689421,0.004706506151706,0.092430330812931));
res += mul(Get(s1,0,0), float4x4(0.032895985990763,0.063764363527298,0.000442696822574,0.178097099065781,0.129053443670273,-0.006951377727091,0.098117522895336,-0.001702448120341,-0.053504645824432,0.023924337700009,0.002709339139983,0.057816293090582,0.050889454782009,-0.055017132312059,-0.098152682185173,0.068382263183594));
res += mul(Get(s1,0,dy), float4x4(0.012302043847740,-0.026394160464406,-0.051517538726330,-0.047088522464037,0.039666716009378,-0.046308521181345,-0.039866834878922,0.038555350154638,0.011378441005945,0.066037528216839,0.046343877911568,-0.126707032322884,-0.005479192361236,0.015522904694080,0.004344298038632,-0.052613306790590));
res += mul(Get(s1,dx,-dy), float4x4(0.208329722285271,-0.124637715518475,-0.070480383932590,-0.065079681575298,-0.096627771854401,0.068211793899536,0.009467289783061,0.002018454950303,-0.154281467199326,-0.008940848521888,0.054860185831785,-0.003893855027854,-0.002230360871181,-0.120121538639069,0.023591963574290,-0.033591229468584));
res += mul(Get(s1,dx,0), float4x4(-0.018518136814237,0.012684065848589,0.025604950264096,0.025509206578135,-0.065278619527817,0.062166471034288,-0.068624891340733,0.074547357857227,-0.094659417867661,-0.068086028099060,0.086831964552402,0.007102140691131,0.050219066441059,0.056789085268974,0.060788661241531,-0.149727866053581));
res += mul(Get(s1,dx,dy), float4x4(-0.130102276802063,-0.001600043382496,-0.044342767447233,0.148702785372734,-0.019388705492020,0.085983507335186,-0.156663641333580,0.127654805779457,-0.095203951001167,0.087393403053284,-0.040201038122177,0.040806267410517,-0.003919797483832,0.048953041434288,0.071569822728634,-0.028368622064590));
res += mul(Get(s2,-dx,-dy), float4x4(0.008755178190768,0.057038728147745,-0.103378809988499,-0.124607644975185,0.109846442937851,0.050976637750864,0.013705278746784,0.088090598583221,-0.033694650977850,-0.117702491581440,-0.146207436919212,-0.011726293712854,-0.002647310495377,-0.047692794352770,0.022422473877668,0.012922605499625));
res += mul(Get(s2,-dx,0), float4x4(0.107276417315006,-0.014040659181774,0.002440308919176,-0.076488628983498,-0.059701710939407,-0.136006325483322,-0.056891988962889,-0.013947282917798,-0.003760745516047,0.185136720538139,-0.014203711412847,-0.077736593782902,0.090659841895103,0.056715156883001,-0.062053360044956,0.001977917738259));
res += mul(Get(s2,-dx,dy), float4x4(0.050088971853256,0.196686968207359,-0.086747705936432,0.160394430160522,0.054627671837807,0.093260668218136,-0.079620815813541,0.160773500800133,-0.162577465176582,0.120903275907040,-0.036347556859255,0.053154621273279,-0.042794864624739,-0.015327462926507,0.015091125853360,-0.091350205242634));
res += mul(Get(s2,0,-dy), float4x4(-0.037852048873901,-0.083822168409824,-0.043759234249592,-0.114420443773270,0.025115502998233,-0.002847172785550,0.006241614930332,-0.013304158113897,-0.073952712118626,0.098641492426395,-0.033495511859655,-0.011506591923535,-0.019557625055313,0.152904137969017,0.102651789784431,0.049029864370823));
res += mul(Get(s2,0,0), float4x4(0.202207863330841,0.040561228990555,-0.066490843892097,0.067221723496914,-0.152200579643250,-0.131241008639336,-0.019417013972998,0.020336089655757,-0.074230872094631,-0.112249523401260,0.030214093625546,-0.044868610799313,-0.106365159153938,-0.042431812733412,0.050608988851309,0.033257398754358));
res += mul(Get(s2,0,dy), float4x4(0.021000642329454,0.008235125802457,0.134558826684952,0.083139158785343,0.036293514072895,0.169279456138611,-0.075057327747345,0.003965451847762,0.070835195481777,-0.038630977272987,0.120781704783440,0.003851774381474,-0.008405705913901,-0.004835248459131,-0.062453903257847,-0.087575010955334));
res += mul(Get(s2,dx,-dy), float4x4(0.101257741451263,-0.024753993377090,0.027943456545472,0.026204245164990,0.164641842246056,0.025453349575400,0.067830152809620,-0.012903385795653,-0.061187509447336,0.090097002685070,-0.029610820114613,-0.006136201322079,-0.245813965797424,0.012500450946391,0.125510364770889,-0.030325133353472));
res += mul(Get(s2,dx,0), float4x4(-0.178685724735260,-0.001723857130855,-0.003331271931529,-0.080288216471672,0.128931313753128,0.047466821968555,-0.111179001629353,-0.096686094999313,0.069017685949802,0.018497800454497,-0.102854780852795,-0.055898930877447,-0.117839351296425,0.000647701323032,0.050008304417133,-0.130503520369530));
res += mul(Get(s2,dx,dy), float4x4(-0.035857036709785,0.182346314191818,0.032241195440292,0.028596006333828,-0.009617318399251,0.242329984903336,-0.119725413620472,-0.047561634331942,0.064087189733982,0.019630298018456,0.002219517715275,0.081403113901615,0.056202929466963,0.005155561026186,0.030265726149082,-0.026516277343035));
res += mul(Get(s3,-dx,-dy), float4x4(0.063384190201759,-0.094135522842407,0.024707680568099,-0.039392143487930,0.064144849777222,-0.140637636184692,-0.021166538819671,-0.026927802711725,0.066333986818790,0.011867950670421,0.022820614278316,-0.076227024197578,-0.038617640733719,-0.019789859652519,0.087408661842346,0.072604566812515));
res += mul(Get(s3,-dx,0), float4x4(0.231706216931343,0.044289369136095,0.007233181502670,-0.071316786110401,0.032890424132347,0.103050962090492,-0.048380758613348,0.093667671084404,-0.201218381524086,0.025195855647326,-0.006556092295796,0.034026592969894,-0.079229556024075,-0.098903678357601,-0.050079625099897,-0.004658552818000));
res += mul(Get(s3,-dx,dy), float4x4(0.240000799298286,0.207136973738670,0.012902585789561,-0.085921294987202,0.012292225845158,0.042384739965200,-0.042019139975309,-0.031293146312237,0.043399646878242,0.087610051035881,-0.163933962583542,0.016809409484267,-0.052995629608631,0.049664705991745,0.028447983786464,-0.119163945317268));
res += mul(Get(s3,0,-dy), float4x4(0.012031459249556,0.004571975208819,-0.076360009610653,-0.085971534252167,0.022467393428087,-0.010871432721615,0.032329227775335,0.188127130270004,-0.041468277573586,-0.024391457438469,0.030690800398588,0.044795945286751,0.051298771053553,-0.095231592655182,0.004405552521348,-0.012855399399996));
res += mul(Get(s3,0,0), float4x4(-0.180866226553917,0.067807704210281,0.005083898548037,-0.096995472908020,-0.086361221969128,0.041293002665043,-0.061295118182898,-0.023190483450890,-0.041879575699568,0.012674016878009,0.014191320165992,0.123992145061493,0.092626690864563,-0.034725323319435,-0.151307120919228,0.075477294623852));
res += mul(Get(s3,0,dy), float4x4(-0.113766863942146,0.044205721467733,0.009700889699161,-0.114364042878151,0.001742400228977,0.092743135988712,-0.059568189084530,-0.103297367691994,0.002222941024229,0.070646546781063,-0.113362334668636,-0.009272448718548,-0.017758982256055,-0.056812103837729,0.063921041786671,0.028375163674355));
res += mul(Get(s3,dx,-dy), float4x4(0.167186543345451,-0.029170770198107,-0.014348975382745,-0.096945248544216,0.113680280745029,0.043466199189425,-0.103828698396683,-0.012498596683145,-0.016224082559347,0.171245202422142,-0.024958681315184,-0.033544771373272,-0.046127758920193,-0.010621306486428,0.031141014769673,0.057333506643772));
res += mul(Get(s3,dx,0), float4x4(-0.018464164808393,-0.028041398152709,-0.030846029520035,-0.065980017185211,-0.104733832180500,0.043833922594786,-0.123330026865005,-0.049962457269430,-0.030889065936208,-0.120895646512508,-0.005573610775173,-0.012385930866003,0.005413673352450,0.007200554478914,0.039506956934929,0.043632052838802));
res += mul(Get(s3,dx,dy), float4x4(-0.180694371461868,-0.111231185495853,-0.084688484668732,0.013670979999006,0.006389939226210,-0.134678274393082,-0.085971936583519,0.186001583933830,-0.004276584833860,0.024146914482117,0.059741109609604,-0.148707240819931,0.012124706991017,-0.011171311140060,0.056022111326456,-0.069978348910809));
return max(float4(0,0,0,0), res);
}
