sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.125568002462387,-0.111271366477013,-0.083514578640461,-0.002083172090352,0.071340948343277,-0.039402715861797,-0.088013313710690,0.050994180142879,0.011633717454970,0.004591695033014,0.048710074275732,-0.034480512142181,0.090540349483490,0.069096826016903,-0.012533097527921,0.020735677331686));
res += mul(Get(s0,-dx,0), float4x4(-0.055332001298666,-0.112411141395569,0.038719050586224,-0.004662626888603,-0.078925997018814,-0.021202905103564,0.054893251508474,0.007062570657581,0.037582773715258,0.032176319509745,0.057840414345264,-0.102264516055584,0.096827775239944,0.080914571881294,0.015370572917163,0.014280903153121));
res += mul(Get(s0,-dx,dy), float4x4(-0.131883278489113,0.090280383825302,0.048364624381065,-0.009533660486341,-0.031749308109283,-0.037650525569916,0.073451608419418,-0.032062064856291,0.015916945412755,0.034244310110807,0.050326641649008,-0.047864448279142,0.070721991360188,-0.020321806892753,-0.112772695720196,-0.111239910125732));
res += mul(Get(s0,0,-dy), float4x4(-0.064345985651016,0.001517749507912,-0.021052349358797,-0.064798280596733,0.092127650976181,0.111599080264568,0.062066216021776,0.001379217719659,0.003420282388106,-0.130339309573174,0.069879934191704,-0.000665283587296,0.007040721364319,-0.058371219784021,-0.019097693264484,-0.083309538662434));
res += mul(Get(s0,0,0), float4x4(-0.019776098430157,-0.013659697026014,0.024999149143696,-0.046463422477245,0.040388658642769,0.164893716573715,0.028431750833988,-0.079721972346306,-0.120256058871746,0.112146303057671,-0.029724042862654,-0.004134527407587,-0.079232938587666,0.034467775374651,0.039955250918865,-0.018030434846878));
res += mul(Get(s0,0,dy), float4x4(-0.043568957597017,0.183701634407043,-0.048770062625408,-0.008766556158662,0.046638336032629,0.138024330139160,0.091785132884979,-0.054210770875216,0.025423072278500,-0.153860643506050,-0.138776972889900,-0.066580221056938,0.243990465998650,0.114410184323788,-0.086424686014652,0.003026500577107));
res += mul(Get(s0,dx,-dy), float4x4(0.031669735908508,0.127744257450104,0.056978285312653,0.027309449389577,0.088077627122402,0.034956905990839,-0.007801054511219,0.052449781447649,0.007754406891763,-0.040960621088743,-0.025160629302263,0.042557075619698,0.022346191108227,-0.108590438961983,-0.014108850620687,0.035866618156433));
res += mul(Get(s0,dx,0), float4x4(-0.136318862438202,0.015314470976591,-0.103809192776680,0.001988099422306,0.087505020201206,0.042153269052505,-0.047684766352177,0.042047470808029,-0.162134692072868,0.003532404778525,-0.018908072263002,0.079204551875591,0.075082175433636,-0.061350241303444,-0.023738494142890,-0.017850754782557));
res += mul(Get(s0,dx,dy), float4x4(0.009546858258545,0.079328000545502,0.103790372610092,-0.007041328586638,-0.008146227337420,-0.019828058779240,-0.083508811891079,0.051467634737492,-0.047759383916855,0.033385224640369,-0.099206306040287,0.058094773441553,-0.056669943034649,0.038464076817036,0.048860989511013,-0.026579424738884));
res += mul(Get(s1,-dx,-dy), float4x4(0.038278762251139,-0.001332376617938,-0.112961821258068,0.040495183318853,0.100934453308582,0.011850001290441,-0.031394474208355,-0.047937229275703,-0.033168293535709,0.136197403073311,0.104330122470856,0.048662215471268,-0.055313009768724,0.017729043960571,-0.128715738654137,-0.079327553510666));
res += mul(Get(s1,-dx,0), float4x4(0.141981780529022,-0.165995106101036,0.019651280716062,-0.134667754173279,0.030965786427259,-0.023285064846277,0.150409892201424,-0.073031961917877,-0.030357247218490,0.042124800384045,0.076472036540508,-0.003552595851943,-0.125734478235245,-0.011505526490510,-0.049081496894360,-0.047161020338535));
res += mul(Get(s1,-dx,dy), float4x4(-0.059221494942904,-0.200848788022995,0.000934712006710,0.007547330111265,-0.018122345209122,-0.151398286223412,0.007550132460892,-0.066440701484680,0.069079846143723,0.156013816595078,0.018380170688033,0.028837509453297,-0.066963613033295,-0.012082929722965,-0.119052872061729,0.057248570024967));
res += mul(Get(s1,0,-dy), float4x4(0.043784946203232,-0.060485176742077,-0.054272163659334,-0.038669552654028,-0.063451752066612,0.025039264932275,-0.006156607996672,-0.037862252444029,0.048999041318893,0.051468513906002,0.077229507267475,-0.038938254117966,0.081646993756294,0.109126366674900,-0.058559384196997,-0.024621412158012));
res += mul(Get(s1,0,0), float4x4(0.131725162267685,-0.136274889111519,-0.099751017987728,-0.079243324697018,0.027021784335375,0.118540912866592,0.008365045301616,0.066790618002415,-0.071186318993568,0.029831172898412,0.070656180381775,0.024165445938706,-0.083884663879871,-0.116590067744255,-0.022826071828604,-0.049918070435524));
res += mul(Get(s1,0,dy), float4x4(-0.128784015774727,0.172015458345413,-0.038015279918909,0.024461843073368,0.189326211810112,-0.002266074763611,0.051970023661852,-0.125057622790337,0.140628397464752,0.025489829480648,0.127253398299217,-0.047206271439791,-0.063350126147270,-0.109498009085655,0.035916063934565,-0.072331584990025));
res += mul(Get(s1,dx,-dy), float4x4(-0.076378740370274,0.007163112517446,-0.151596084237099,0.008722352795303,0.013638355769217,0.107001438736916,0.009455069899559,-0.007190252188593,0.033435437828302,0.108946517109871,0.033518172800541,0.028765825554729,-0.105987213551998,-0.044731575995684,-0.083557605743408,-0.034907568246126));
res += mul(Get(s1,dx,0), float4x4(0.003200292354450,0.019188594073057,0.031336765736341,0.022649558261037,0.027535231783986,0.081608638167381,-0.073191434144974,0.058269649744034,-0.026322945952415,0.075433015823364,0.034716513007879,0.030915297567844,0.181063055992126,-0.073451705276966,-0.007461003493518,0.039709582924843));
res += mul(Get(s1,dx,dy), float4x4(0.047733433544636,0.057667713612318,0.004453143570572,0.003240021876991,-0.033799093216658,-0.012582000344992,0.028509968891740,-0.031635712832212,-0.014323448762298,-0.016402548179030,-0.072548821568489,0.031987786293030,0.193368330597878,-0.009037007577717,0.080091968178749,0.009941007010639));
res += mul(Get(s2,-dx,-dy), float4x4(-0.075398795306683,-0.042615760117769,-0.037693582475185,0.039255835115910,0.024069616571069,0.032376021146774,-0.008169172331691,0.034034192562103,0.007226150017232,0.041200362145901,-0.081940986216068,0.006612196564674,-0.065580189228058,0.070328742265701,-0.045565955340862,0.039195168763399));
res += mul(Get(s2,-dx,0), float4x4(0.153728455305099,0.097175583243370,0.067339032888412,0.013386909849942,-0.073614016175270,0.001780130784027,-0.036802332848310,0.032132789492607,-0.019055910408497,0.033339690417051,-0.025600932538509,0.019037153571844,0.006325144320726,0.022873803973198,0.010319218970835,-0.005355676636100));
res += mul(Get(s2,-dx,dy), float4x4(-0.145802810788155,0.117198765277863,0.047704596072435,0.051015950739384,0.054291401058435,0.136533737182617,0.189200967550278,0.071476660668850,-0.108902625739574,0.043831896036863,-0.055100765079260,0.010059707798064,0.087033249437809,-0.064481645822525,0.012061804533005,-0.021773466840386));
res += mul(Get(s2,0,-dy), float4x4(-0.102093063294888,-0.089694827795029,0.043814744800329,0.077414728701115,0.091265372931957,0.059111211448908,0.035521615296602,-0.037575446069241,-0.072336681187153,-0.081961169838905,0.125184416770935,-0.017657089978456,0.028290206566453,-0.012308755889535,-0.019023779779673,0.114995270967484));
res += mul(Get(s2,0,0), float4x4(-0.042718738317490,0.104512721300125,-0.013457546010613,-0.041991744190454,0.108870349824429,0.010576206259429,-0.067648418247700,-0.030455252155662,0.114297039806843,0.069325476884842,0.084012173116207,-0.084412567317486,0.008962935768068,-0.008391791023314,-0.106071449816227,-0.120483152568340));
res += mul(Get(s2,0,dy), float4x4(-0.001489076064900,-0.134041205048561,-0.015351340174675,-0.097572274506092,-0.003583681071177,0.028870988637209,-0.029688939452171,-0.114608220756054,-0.051763914525509,0.037262503057718,0.005611664615571,0.018921136856079,0.014146502129734,0.071882277727127,0.041451536118984,-0.019180340692401));
res += mul(Get(s2,dx,-dy), float4x4(0.055389560759068,-0.040571238845587,0.020686797797680,-0.063625521957874,-0.094440981745720,-0.106279268860817,-0.078622236847878,-0.050532702356577,0.023705795407295,0.107437632977962,-0.096519552171230,0.008692752569914,-0.109573937952518,-0.095681354403496,0.016531402245164,-0.012262038886547));
res += mul(Get(s2,dx,0), float4x4(-0.104131996631622,-0.023459089919925,0.094284884631634,-0.023909678682685,0.088149026036263,-0.017219217494130,-0.073696456849575,-0.020922053605318,-0.029933318495750,0.056624602526426,0.009565760381520,0.054480899125338,-0.015249352902174,0.048720933496952,-0.041027907282114,0.054603047668934));
res += mul(Get(s2,dx,dy), float4x4(0.019492127001286,-0.024443263188004,0.112628653645515,0.015294439159334,0.077562853693962,-0.010068843141198,0.072638683021069,-0.033106148242950,-0.141812816262245,0.084697529673576,-0.009000861085951,0.031649943441153,0.010327311232686,-0.022803328931332,-0.072609059512615,0.020668774843216));
res += mul(Get(s3,-dx,-dy), float4x4(-0.050437007099390,-0.014197237789631,0.074360661208630,-0.073220036923885,-0.009011145681143,0.058489654213190,-0.018741337582469,-0.029328150674701,0.016378279775381,0.040039017796516,0.030991168692708,-0.032449956983328,-0.047014757990837,0.069509409368038,0.035302784293890,0.045412797480822));
res += mul(Get(s3,-dx,0), float4x4(-0.059478435665369,-0.078489266335964,0.007757869549096,0.078601084649563,-0.039353840053082,-0.055330123752356,-0.029450457543135,-0.046710852533579,0.078124657273293,0.053363543003798,0.030177621170878,-0.063163779675961,0.002518736291677,-0.135987311601639,-0.103865787386894,-0.009358432143927));
res += mul(Get(s3,-dx,dy), float4x4(0.044584028422832,-0.075391285121441,-0.002664764411747,-0.003609006758779,0.103197962045670,-0.057824485003948,-0.045071408152580,-0.035126991569996,0.006897147744894,0.042142845690250,-0.120116278529167,0.099287651479244,-0.111286967992783,0.009024578146636,-0.070459246635437,-0.029222507029772));
res += mul(Get(s3,0,-dy), float4x4(-0.004317188635468,-0.050352383404970,-0.098181366920471,0.009157482534647,0.055848777294159,-0.054123025387526,-0.039618212729692,0.000969937245827,0.039678599685431,0.010233506560326,-0.003529206151143,-0.043681509792805,0.028456185013056,-0.028753582388163,0.021584730595350,-0.031524084508419));
res += mul(Get(s3,0,0), float4x4(0.072658374905586,0.064036585390568,-0.007338459137827,-0.015287234447896,-0.060806546360254,0.046352416276932,0.020865777507424,0.080797977745533,0.197262629866600,0.003104735631496,-0.033786371350288,0.069414831697941,-0.050358667969704,-0.084036722779274,-0.100452229380608,-0.081836424767971));
res += mul(Get(s3,0,dy), float4x4(0.117772102355957,-0.088333733379841,0.062223218381405,-0.049034275114536,0.159738197922707,0.108472689986229,-0.041764948517084,0.027942152693868,-0.123225331306458,0.093800179660320,-0.054407767951488,-0.074684113264084,0.215766534209251,-0.046320006251335,0.076755307614803,0.007297729142010));
res += mul(Get(s3,dx,-dy), float4x4(-0.114436715841293,0.000917225261219,0.102028653025627,-0.052880354225636,0.022291008383036,0.084690064191818,0.026568481698632,0.020420128479600,0.006996435578912,-0.072068557143211,0.050339110195637,-0.097637034952641,-0.070775419473648,-0.095779560506344,-0.019620932638645,0.017458988353610));
res += mul(Get(s3,dx,0), float4x4(0.034624643623829,-0.039699275046587,0.004767729435116,0.113498575985432,-0.000464142212877,0.032069750130177,0.025497797876596,-0.018154742196202,0.097499519586563,0.011839455924928,-0.072745673358440,0.057945635169744,0.092490106821060,-0.010466419160366,-0.072351910173893,-0.084901802241802));
res += mul(Get(s3,dx,dy), float4x4(0.060399033129215,-0.093105085194111,0.082164764404297,0.021256459876895,-0.065689451992512,-0.015988273546100,-0.009556754492223,-0.055106997489929,0.089480504393578,-0.041995216161013,-0.083748541772366,0.018091553822160,-0.051845565438271,-0.011591840535402,-0.097902685403824,-0.036156285554171));
return max(float4(0,0,0,0), res);
}
