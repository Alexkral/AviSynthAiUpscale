sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.073610141873360,-0.014963597990572,0.032031718641520,0.095594272017479,0.002144764177501,-0.017992325127125,-0.127564013004303,-0.029972333461046,-0.101961180567741,0.014155020937324,0.018800979480147,0.092401474714279,0.012189007364213,-0.036526344716549,-0.111859589815140,0.064070262014866));
res += mul(Get(s0,-dx,0), float4x4(0.119082093238831,0.082048356533051,-0.049187920987606,-0.031336452811956,0.057454034686089,-0.011166240088642,0.064369358122349,0.010101445019245,-0.079480752348900,-0.044428255409002,0.013617263175547,0.018400561064482,0.134924888610840,0.041991550475359,-0.039347939193249,0.030422942712903));
res += mul(Get(s0,-dx,dy), float4x4(0.030678236857057,-0.079335376620293,-0.065119080245495,-0.024456702172756,0.026922507211566,0.081957735121250,0.006365226581693,0.050950665026903,0.052655614912510,-0.069471396505833,-0.054926495999098,-0.039000455290079,-0.006746653933078,-0.021967088803649,-0.042115196585655,-0.029465068131685));
res += mul(Get(s0,0,-dy), float4x4(0.193514212965965,0.067859649658203,0.083981871604919,-0.075456365942955,0.015427515842021,-0.011592139489949,-0.009740992449224,-0.049670655280352,-0.054846491664648,-0.027496490627527,-0.096630223095417,0.153414949774742,-0.014454714953899,-0.022703412920237,0.040045533329248,-0.048950079828501));
res += mul(Get(s0,0,0), float4x4(0.113912135362625,-0.093255810439587,0.033252935856581,-0.110880158841610,-0.095658019185066,0.035706788301468,-0.009604801423848,0.044213220477104,-0.070513792335987,-0.007389881648123,0.027432361617684,0.130103543400764,0.091299451887608,0.033901270478964,0.048929013311863,-0.119485348463058));
res += mul(Get(s0,0,dy), float4x4(0.080724544823170,0.009477001614869,-0.039061997085810,-0.062542319297791,-0.017628764733672,0.001174663309939,-0.065645180642605,-0.042848523706198,-0.044045742601156,0.091804161667824,0.054023452103138,-0.014726235531271,0.105495408177376,-0.026252703741193,-0.106754004955292,-0.016690066084266));
res += mul(Get(s0,dx,-dy), float4x4(0.108557857573032,0.022978214547038,0.095936208963394,0.028214747086167,-0.023540101945400,0.092447176575661,0.055620413273573,-0.050226718187332,-0.066829547286034,-0.005589970853180,0.055704772472382,0.030919224023819,-0.078111760318279,0.046806730329990,0.077884733676910,-0.137417018413544));
res += mul(Get(s0,dx,0), float4x4(0.058294907212257,0.031522814184427,-0.092562809586525,0.001201333478093,0.019855190068483,0.009133161045611,0.028139842674136,-0.013342074118555,-0.011029179207981,0.050309993326664,-0.049570500850677,0.042184177786112,0.080510444939137,0.064566969871521,0.006667423527688,-0.118202090263367));
res += mul(Get(s0,dx,dy), float4x4(0.103376165032387,0.019329169765115,-0.053614877164364,0.110874958336353,0.003495835233480,-0.040362037718296,-0.023429257795215,-0.043095510452986,-0.059788931161165,0.042913604527712,-0.081906467676163,-0.056167561560869,-0.068522810935974,0.007959910668433,-0.073301933705807,-0.094889253377914));
res += mul(Get(s1,-dx,-dy), float4x4(0.050087798386812,0.079626992344856,-0.000238638502196,-0.019731663167477,-0.062704458832741,0.051461461931467,-0.037228260189295,-0.013097008690238,-0.058353602886200,-0.021301088854671,0.027996370568871,-0.069031141698360,-0.052099972963333,0.011393068358302,-0.014202587306499,-0.021979311481118));
res += mul(Get(s1,-dx,0), float4x4(0.043163407593966,-0.015085134655237,0.003839572193101,-0.075269185006618,-0.046692728996277,-0.024169608950615,-0.092867434024811,-0.033467024564743,-0.001766011817381,-0.016442030668259,-0.055126331746578,0.057650599628687,-0.012063615024090,0.025479337200522,-0.096184864640236,-0.030322821810842));
res += mul(Get(s1,-dx,dy), float4x4(-0.004968179389834,0.061588812619448,0.016132278367877,0.001801661797799,0.059540912508965,-0.030641419813037,-0.068396702408791,0.005052575841546,0.080890685319901,-0.030112259089947,-0.086427442729473,0.071943834424019,0.007625104859471,0.021836301311851,-0.038244836032391,0.008488692343235));
res += mul(Get(s1,0,-dy), float4x4(0.028978398069739,0.070329554378986,0.083840593695641,0.074880830943584,0.036991830915213,0.037411879748106,0.036286175251007,-0.080838173627853,-0.018145976588130,0.035122271627188,0.063657343387604,0.041834998875856,0.000433993001934,-0.040742747485638,0.025179661810398,-0.034612104296684));
res += mul(Get(s1,0,0), float4x4(-0.012299785390496,0.044937267899513,0.062102746218443,-0.017706934362650,0.158587977290154,0.054470069706440,0.075932480394840,-0.042696040123701,-0.078244328498840,-0.093014255166054,0.018866894766688,0.045226685702801,-0.009019748307765,-0.039807334542274,0.021291431039572,0.047498948872089));
res += mul(Get(s1,0,dy), float4x4(0.033909916877747,-0.040733195841312,0.023410044610500,-0.081471212208271,-0.020495479926467,-0.010684151202440,-0.029764661565423,0.032171137630939,-0.001525773317553,-0.027318866923451,0.067861862480640,0.058239623904228,0.031365692615509,-0.040193099528551,0.026448579505086,0.030450211837888));
res += mul(Get(s1,dx,-dy), float4x4(0.040803458541632,0.021918091922998,-0.003625864861533,-0.042286075651646,-0.074690148234367,0.059080302715302,0.021869940683246,-0.020306713879108,0.008730109781027,-0.036274094134569,-0.013907938264310,0.099109858274460,-0.074780203402042,-0.147187486290932,0.023136140778661,-0.046269703656435));
res += mul(Get(s1,dx,0), float4x4(0.071589894592762,0.033745218068361,0.124859660863876,-0.000473397056339,0.067113384604454,0.094388835132122,0.033581368625164,-0.010965880937874,0.027439650148153,-0.004341643769294,0.040658686310053,0.071863412857056,0.102715149521828,-0.004255339503288,-0.005421414971352,0.023685755208135));
res += mul(Get(s1,dx,dy), float4x4(0.037632305175066,0.050594199448824,-0.053612932562828,-0.099817097187042,-0.061864301562309,0.068099170923233,0.094243131577969,0.099803239107132,0.000224592295126,0.035447202622890,0.031461603939533,0.079855941236019,0.064754843711853,0.034371994435787,-0.058089870959520,0.027345282956958));
res += mul(Get(s2,-dx,-dy), float4x4(-0.087433576583862,-0.139664068818092,-0.000624196836725,0.044809874147177,0.152088552713394,0.060477472841740,-0.065422616899014,0.002679826226085,-0.051772411912680,0.008532316423953,-0.001867166953161,0.044059108942747,-0.073103241622448,-0.035147663205862,0.090665005147457,0.015608495101333));
res += mul(Get(s2,-dx,0), float4x4(-0.056255172938108,-0.079244896769524,0.047171980142593,0.070821657776833,0.123228415846825,0.084224104881287,0.019704254344106,-0.058311711996794,0.003472249256447,-0.125708743929863,-0.146630972623825,0.018493318930268,-0.047190509736538,-0.036988470703363,-0.040992949157953,-0.041256248950958));
res += mul(Get(s2,-dx,dy), float4x4(-0.041871551424265,-0.031173970550299,-0.091112069785595,-0.052514281123877,0.002707571722567,0.021589307114482,-0.013470100238919,-0.090908192098141,-0.090437881648540,-0.061166178435087,-0.063919723033905,0.051814783364534,0.013311523944139,-0.060723140835762,0.048638332635164,0.045473087579012));
res += mul(Get(s2,0,-dy), float4x4(-0.161714166402817,-0.018523205071688,-0.083179309964180,-0.090055383741856,0.047227811068296,0.030782526358962,0.049058277159929,0.022321281954646,0.058353386819363,-0.093595683574677,-0.014199988916516,-0.126524075865746,-0.083920687437057,-0.053965765982866,-0.008633377961814,0.060187112540007));
res += mul(Get(s2,0,0), float4x4(-0.067011594772339,0.016627594828606,-0.095230519771576,0.038075398653746,-0.021674565970898,-0.000795221654698,0.003992396406829,-0.097853802144527,0.023498363792896,-0.064477369189262,-0.030616370961070,-0.015564894303679,-0.053566254675388,-0.007789916824549,0.059760238975286,0.009461917914450));
res += mul(Get(s2,0,dy), float4x4(-0.024968763813376,0.020136533305049,-0.063502952456474,-0.021860633045435,-0.046050604432821,0.016691947355866,-0.004888363648206,0.042380161583424,-0.042753841727972,-0.128042832016945,-0.005133602768183,0.009612916037440,0.025821298360825,-0.051262099295855,0.053151451051235,-0.093822166323662));
res += mul(Get(s2,dx,-dy), float4x4(-0.094137653708458,0.040169492363930,0.022907581180334,-0.109743729233742,0.023065455257893,0.033362321555614,0.012211576104164,0.060573194175959,0.023886296898127,-0.034331832081079,0.082505278289318,-0.015841653570533,-0.082493759691715,-0.101858839392662,-0.027047099545598,-0.143281504511833));
res += mul(Get(s2,dx,0), float4x4(-0.031334187835455,-0.060184415429831,0.011843658983707,-0.139731556177139,-0.068809524178505,0.004216153174639,0.008775710128248,0.096134386956692,0.001696260645986,0.017164569348097,-0.009329798631370,-0.025013579055667,0.120635524392128,-0.035053648054600,-0.043694779276848,-0.040762856602669));
res += mul(Get(s2,dx,dy), float4x4(0.025236925110221,-0.020647324621677,-0.012876749970019,-0.101446941494942,0.060402385890484,0.011849424801767,-0.076802283525467,0.042462043464184,0.003109621116892,0.011737864464521,-0.047716401517391,0.045281153172255,0.076325558125973,-0.077360518276691,-0.136036515235901,-0.055606774985790));
res += mul(Get(s3,-dx,-dy), float4x4(0.055379107594490,0.058731220662594,0.002045384608209,0.057194083929062,0.022256750613451,-0.085461251437664,0.029431968927383,-0.014438653364778,-0.008299199864268,0.017154701054096,-0.038954656571150,0.045264601707458,-0.012205362319946,-0.042133167386055,0.046795736998320,0.014801817014813));
res += mul(Get(s3,-dx,0), float4x4(0.096487447619438,0.018070766702294,-0.054701957851648,0.069210804998875,-0.103287763893604,0.025201465934515,-0.053831864148378,0.090048834681511,0.053501799702644,-0.080050311982632,0.103546150028706,-0.015165464952588,-0.063322819769382,0.029067609459162,-0.022514803335071,0.060796141624451));
res += mul(Get(s3,-dx,dy), float4x4(-0.028261052444577,-0.003771925345063,-0.122082099318504,0.004856737330556,-0.029652513563633,0.022225867956877,-0.042483374476433,0.083657689392567,0.097332477569580,0.038700070232153,0.047776613384485,0.034361276775599,-0.033300071954727,-0.055257532745600,0.024401297792792,0.088119126856327));
res += mul(Get(s3,0,-dy), float4x4(0.007443462498486,-0.000301155640045,0.000681655830704,0.005191288422793,0.000254613492871,-0.033780131489038,0.059592310339212,0.019712800160050,0.079039074480534,-0.008809833787382,-0.004994879476726,0.131898701190948,-0.137161597609520,-0.020569561049342,-0.003911204170436,0.055071156471968));
res += mul(Get(s3,0,0), float4x4(0.049491483718157,-0.008867044933140,0.059141796082258,0.049457959830761,0.077309332787991,-0.028976913541555,0.086999744176865,0.051024764776230,0.011118046008050,0.108882367610931,0.044093932956457,0.018753036856651,-0.103871561586857,-0.002020657295361,-0.151045024394989,-0.017120171338320));
res += mul(Get(s3,0,dy), float4x4(0.083420306444168,0.023191755637527,0.128143861889839,-0.065843977034092,-0.006005659699440,-0.022138381376863,-0.040884334594011,-0.019534237682819,-0.011483099311590,0.080251783132553,0.065232075750828,-0.016323391348124,-0.038800522685051,0.015668021515012,0.077125646173954,0.045151725411415));
res += mul(Get(s3,dx,-dy), float4x4(-0.036502681672573,-0.013507479801774,-0.081703774631023,0.051050722599030,0.085815191268921,-0.066675879061222,-0.068584591150284,-0.017520831897855,0.011664419434965,-0.068618491292000,-0.015955362468958,0.022757811471820,-0.099431239068508,-0.035309348255396,-0.014931637793779,0.006708750966936));
res += mul(Get(s3,dx,0), float4x4(0.008605764247477,0.088675841689110,-0.063870437443256,0.023583875969052,-0.047074250876904,-0.046880092471838,0.134916365146637,-0.007079059723765,0.028490284457803,0.010329293087125,-0.014770416542888,-0.082577034831047,-0.092659108340740,-0.070949122309685,-0.013688688166440,0.044511951506138));
res += mul(Get(s3,dx,dy), float4x4(0.005982891656458,0.052780173718929,0.013783970847726,0.027495635673404,-0.012496680021286,0.086075663566589,0.050712451338768,0.039251748472452,-0.023354453966022,0.034184660762548,0.071792289614677,-0.087822526693344,0.026530586183071,-0.026335652917624,-0.035139285027981,-0.089912801980972));
return max(float4(0,0,0,0), res);
}
