sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.083848558366299,0.046012517064810,-0.092065297067165,-0.009384226053953,0.043905854225159,-0.153100728988647,-0.024845032021403,-0.016350971534848,-0.017379334196448,0.022420773282647,0.026691762730479,0.110412731766701,-0.019059047102928,0.017532715573907,0.004752284847200,-0.195037379860878));
res += mul(Get(s0,-dx,0), float4x4(0.083425469696522,0.041037607938051,0.060497216880322,0.038023430854082,0.002224576659501,0.014173992909491,0.037431620061398,0.048540897667408,0.057822860777378,-0.082952104508877,-0.082468651235104,-0.016789292916656,0.069371595978737,-0.095434121787548,-0.008544050157070,0.002876946469769));
res += mul(Get(s0,-dx,dy), float4x4(0.013770801015198,-0.030283546075225,-0.103172823786736,-0.057195115834475,-0.021433569490910,-0.092596739530563,-0.136169567704201,0.009816495701671,-0.089618116617203,0.029342725872993,0.031205657869577,0.062288537621498,0.000656514195725,0.012482356280088,0.027732452377677,0.071759894490242));
res += mul(Get(s0,0,-dy), float4x4(-0.122204445302486,-0.166571229696274,0.056904558092356,0.107648000121117,0.073490843176842,0.103568948805332,0.004908592440188,0.025645708665252,-0.037000048905611,0.047259025275707,0.051719542592764,-0.002411183435470,-0.063254445791245,0.068830117583275,0.100456848740578,0.013798339292407));
res += mul(Get(s0,0,0), float4x4(-0.058209352195263,0.078326404094696,0.021643240004778,0.128902137279510,-0.076068364083767,-0.066613264381886,0.105331718921661,0.024269254878163,-0.085877157747746,0.008006926625967,0.011384952813387,0.064519099891186,-0.054485712200403,-0.121740512549877,0.006691173650324,-0.032778814435005));
res += mul(Get(s0,0,dy), float4x4(0.035183120518923,-0.166916057467461,-0.072647757828236,0.021085616201162,-0.082453951239586,-0.022327203303576,0.028535762801766,0.049553100019693,0.028825882822275,-0.064421601593494,0.047771267592907,-0.107638120651245,-0.012580044567585,-0.059644412249327,0.038853131234646,-0.025735160335898));
res += mul(Get(s0,dx,-dy), float4x4(-0.017994111403823,0.075756773352623,-0.056476619094610,-0.100064016878605,0.001105345203541,0.070474758744240,0.091746836900711,-0.002949234796688,-0.047754742205143,-0.101836167275906,-0.069166220724583,-0.001579291303642,0.111778594553471,-0.080464124679565,-0.093514159321785,0.027436684817076));
res += mul(Get(s0,dx,0), float4x4(-0.167514517903328,0.201193869113922,0.062037665396929,-0.091812051832676,-0.010832840576768,0.101533561944962,0.078919582068920,0.039335269480944,-0.009001480415463,0.019726699218154,-0.099071145057678,0.056717570871115,0.244135722517967,0.038831811398268,-0.040939643979073,-0.190941199660301));
res += mul(Get(s0,dx,dy), float4x4(0.041868254542351,-0.039660226553679,-0.030312703922391,0.007584963459522,0.046699199825525,0.041474465280771,0.044227216392756,-0.073030576109886,-0.095406942069530,0.061436448246241,0.028196580708027,-0.094359710812569,0.066289745271206,0.054350052028894,0.050379499793053,-0.050577752292156));
res += mul(Get(s1,-dx,-dy), float4x4(0.060114178806543,-0.035854965448380,0.042663339525461,-0.043231416493654,0.001043739146553,0.063199333846569,-0.088928736746311,0.104868516325951,-0.050227377563715,0.074521049857140,0.064855039119720,0.161140099167824,0.032917678356171,0.078856371343136,-0.045721892267466,-0.036117486655712));
res += mul(Get(s1,-dx,0), float4x4(-0.127694308757782,0.022399989888072,-0.002128276275471,-0.024605164304376,-0.078391633927822,-0.042012143880129,-0.108501322567463,-0.126675605773926,0.068538755178452,-0.035807892680168,0.077193111181259,0.002534453524277,0.024744614958763,0.113214440643787,-0.013211448676884,-0.018238078802824));
res += mul(Get(s1,-dx,dy), float4x4(0.109281443059444,0.012526058591902,-0.064229749143124,0.014186756685376,0.053864270448685,-0.058885063976049,0.076117575168610,0.002126085804775,0.058032277971506,-0.070137165486813,-0.056640356779099,-0.045277912169695,-0.090496607124805,0.099057085812092,-0.029093600809574,0.090922638773918));
res += mul(Get(s1,0,-dy), float4x4(0.130662634968758,-0.063890159130096,-0.066225931048393,0.042198352515697,-0.034623619168997,0.056200243532658,-0.076759882271290,-0.020491998642683,-0.155744865536690,-0.062554314732552,0.064346045255661,-0.096647158265114,0.082565553486347,-0.077518090605736,-0.008124823682010,0.090582847595215));
res += mul(Get(s1,0,0), float4x4(-0.041652183979750,-0.062416333705187,-0.060683112591505,-0.130383819341660,-0.113704957067966,-0.078746542334557,0.018983645364642,0.024043088778853,0.059365838766098,0.008675786666572,0.035401951521635,0.069797553122044,-0.074902035295963,-0.150981798768044,-0.102563574910164,-0.001558495219797));
res += mul(Get(s1,0,dy), float4x4(0.032408006489277,0.049746152013540,-0.010168526321650,-0.003447979455814,0.087880320847034,-0.166414022445679,0.076920300722122,-0.114434666931629,-0.178376778960228,-0.025505146011710,-0.058019619435072,-0.103541001677513,-0.051892545074224,-0.057323243469000,0.085358917713165,-0.046057682484388));
res += mul(Get(s1,dx,-dy), float4x4(0.199595183134079,0.215751409530640,-0.006697327364236,-0.158607989549637,-0.128054678440094,0.057041049003601,-0.042297191917896,0.010964008979499,-0.041796505451202,0.005407235119492,-0.070756398141384,-0.026462920010090,0.007671426981688,0.113266259431839,0.012696568854153,-0.125182062387466));
res += mul(Get(s1,dx,0), float4x4(-0.016614601016045,-0.030946142971516,-0.028862010687590,-0.100488625466824,0.088467240333557,0.035028174519539,-0.040391474962234,0.063720606267452,-0.025678439065814,-0.037756111472845,0.064742177724838,0.085216037929058,0.018186863511801,0.059530444443226,-0.094295941293240,0.008489139378071));
res += mul(Get(s1,dx,dy), float4x4(-0.088533610105515,0.005368873011321,-0.023088201880455,0.061430778354406,0.063650950789452,-0.017508795484900,-0.005284436047077,-0.097502581775188,-0.023560317233205,-0.043546877801418,0.169071033596992,0.048462472856045,0.030193498358130,-0.048652119934559,0.032843694090843,-0.095933005213737));
res += mul(Get(s2,-dx,-dy), float4x4(0.040204010903835,0.071449577808380,0.040745951235294,0.033274795860052,0.144966766238213,0.062636353075504,-0.045363791286945,-0.018036864697933,0.049098007380962,0.065131895244122,0.045548278838396,-0.189655959606171,-0.043783642351627,0.061042420566082,0.053496100008488,0.000884022330865));
res += mul(Get(s2,-dx,0), float4x4(0.068367578089237,-0.083177559077740,-0.111538425087929,-0.012394870631397,-0.155868873000145,-0.106005370616913,-0.036634970456362,0.141804158687592,0.085850074887276,0.060382589697838,-0.202130943536758,-0.028572948649526,0.033464383333921,-0.029208870604634,0.032627340406179,-0.021045183762908));
res += mul(Get(s2,-dx,dy), float4x4(-0.064399756491184,-0.021910032257438,0.027136864140630,0.003992807585746,-0.213557362556458,0.035781685262918,-0.063891373574734,0.030880130827427,0.035154491662979,-0.029906164854765,0.048102114349604,0.172756791114807,0.012090649455786,-0.027361201122403,0.109960347414017,0.062035098671913));
res += mul(Get(s2,0,-dy), float4x4(-0.002915130695328,-0.015951855108142,-0.041217096149921,0.044436603784561,0.345934331417084,-0.025400646030903,0.138094395399094,0.026544682681561,0.009075590409338,-0.111819140613079,-0.022670026868582,0.058352880179882,-0.024358486756682,0.073448903858662,-0.023634070530534,-0.104208052158356));
res += mul(Get(s2,0,0), float4x4(-0.061824370175600,-0.111127652227879,0.026905704289675,0.064994171261787,-0.073690123856068,-0.238730683922768,-0.070969104766846,0.201048031449318,-0.032262887805700,0.005511496681720,0.081572286784649,-0.026186406612396,-0.137906074523926,0.086183704435825,-0.065313398838043,0.054821696132421));
res += mul(Get(s2,0,dy), float4x4(-0.068229183554649,-0.020509263500571,-0.013885114341974,-0.026178689673543,-0.141738146543503,0.419591575860977,-0.112410768866539,-0.167297989130020,-0.033249512314796,-0.080985412001610,0.090730518102646,0.047386046499014,0.030412271618843,-0.016059683635831,0.033035490661860,0.117434382438660));
res += mul(Get(s2,dx,-dy), float4x4(0.061512805521488,0.022799912840128,0.002630797447637,-0.001385034178384,0.262663066387177,0.073759481310844,-0.011106885038316,-0.020893221721053,0.095080755650997,0.061736222356558,-0.046131614595652,0.088989920914173,0.041677311062813,-0.024132035672665,-0.010856593959033,-0.013048604130745));
res += mul(Get(s2,dx,0), float4x4(-0.108077354729176,-0.079478740692139,-0.016747387126088,0.014983555302024,-0.045725684612989,-0.135098382830620,-0.055159095674753,0.025407593697309,0.083392418920994,-0.056734595447779,0.001682462519966,-0.080449394881725,-0.046579618006945,-0.121736690402031,0.058256570249796,-0.065168686211109));
res += mul(Get(s2,dx,dy), float4x4(0.052438721060753,-0.013349213637412,0.055829975754023,0.132231086492538,-0.219302237033844,0.309219241142273,-0.067599803209305,-0.167322412133217,0.006668939255178,0.038382899016142,-0.059492211788893,0.176693186163902,-0.054600719362497,0.065736256539822,-0.063622720539570,-0.044665381312370));
res += mul(Get(s3,-dx,-dy), float4x4(0.087976887822151,-0.086038790643215,0.000342525250744,0.150995790958405,0.061575226485729,-0.092575021088123,-0.019972342997789,0.002331763971597,-0.006640819367021,-0.044654686003923,-0.034179866313934,0.031680516898632,0.031281247735023,0.059284839779139,0.016866302117705,-0.164567247033119));
res += mul(Get(s3,-dx,0), float4x4(-0.275195538997650,-0.011442049406469,-0.047220632433891,0.146018013358116,0.000630817608908,-0.006697718519717,0.016179937869310,-0.113187715411186,-0.073086135089397,0.011362830176950,-0.009641258046031,0.046781219542027,0.139863014221191,0.004989253822714,-0.048803489655256,0.115985654294491));
res += mul(Get(s3,-dx,dy), float4x4(-0.019357124343514,-0.068436719477177,-0.084646657109261,0.073444485664368,0.038716927170753,0.057586234062910,-0.096517063677311,0.013107562437654,-0.086702466011047,0.040009994059801,-0.119493760168552,0.058422859758139,-0.044170998036861,-0.009453761391342,-0.128046751022339,-0.024774558842182));
res += mul(Get(s3,0,-dy), float4x4(0.274989217519760,-0.093857988715172,-0.068341299891472,0.035785764455795,0.014510448090732,-0.015989979729056,-0.001913881627843,-0.040667567402124,-0.049756094813347,-0.020192041993141,-0.011097485199571,0.046345848590136,0.079064428806305,-0.020875394344330,-0.039266608655453,-0.047749664634466));
res += mul(Get(s3,0,0), float4x4(-0.071599788963795,0.251132667064667,-0.008274126797915,-0.174244523048401,-0.091942466795444,-0.016771057620645,-0.043849818408489,-0.047299895435572,-0.082379937171936,-0.025155505165458,-0.035724550485611,0.047870468348265,0.065355353057384,-0.079866386950016,-0.004726856015623,-0.018769575282931));
res += mul(Get(s3,0,dy), float4x4(-0.071685612201691,0.405687868595123,-0.058019865304232,-0.007869872264564,-0.008855760097504,-0.112875849008560,0.034833405166864,0.062447920441628,0.028885049745440,0.064325973391533,0.014243683777750,0.031271673738956,-0.055007204413414,-0.014507623389363,0.074777819216251,0.019347039982677));
res += mul(Get(s3,dx,-dy), float4x4(0.162885636091232,0.121357165277004,-0.093804337084293,-0.020473580807447,0.038470063358545,-0.016612965613604,-0.009364021942019,-0.047972097992897,-0.040195353329182,0.088172346353531,-0.030128996819258,0.084727436304092,-0.114449992775917,0.098637565970421,-0.027625368908048,-0.016452593728900));
res += mul(Get(s3,dx,0), float4x4(-0.012852793559432,-0.246695324778557,0.045609638094902,-0.076953254640102,0.071496583521366,0.036473419517279,-0.008316022343934,-0.091128319501877,-0.021397549659014,-0.077319256961346,-0.001679252018221,0.048764307051897,-0.016743978485465,-0.034590434283018,0.061425022780895,0.047426935285330));
res += mul(Get(s3,dx,dy), float4x4(-0.049457419663668,-0.064636267721653,-0.065611958503723,-0.093538962304592,0.001964438008144,0.030379367992282,-0.040373023599386,0.047651853412390,-0.038138359785080,0.089241698384285,0.051671788096428,0.059767667204142,-0.020631464198232,0.026847118511796,-0.040844544768333,-0.041671309620142));
return max(float4(0,0,0,0), res);
}
