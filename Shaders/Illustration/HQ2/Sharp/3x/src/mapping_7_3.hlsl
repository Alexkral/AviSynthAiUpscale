sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.028751069679856,0.021294096484780,0.009290504269302,-0.102651670575142,0.008371287956834,0.063033066689968,-0.002173639833927,-0.035144008696079,-0.046333819627762,0.007254981901497,0.079390868544579,0.004085461609066,-0.011815342120826,-0.029625939205289,0.023193232715130,-0.005984198302031));
res += mul(Get(s0,-dx,0), float4x4(-0.113958299160004,-0.019493054598570,0.005839047487825,-0.024860577657819,-0.021762453019619,0.126071184873581,-0.019928352907300,0.104884624481201,-0.044448450207710,-0.013802176341414,0.020337715744972,0.014940545894206,0.043180875480175,-0.078719370067120,0.032777398824692,0.099500916898251));
res += mul(Get(s0,-dx,dy), float4x4(-0.124496534466743,0.015390743501484,-0.146153509616852,0.088693492114544,0.025929357856512,0.063966460525990,-0.066960692405701,0.020932599902153,0.131248503923416,0.083532601594925,0.063662588596344,-0.025944923982024,0.030808139592409,0.058704439550638,0.046157959848642,0.000580613501370));
res += mul(Get(s0,0,-dy), float4x4(-0.073675431311131,-0.043231260031462,0.041520521044731,-0.077334307134151,0.003012144472450,-0.008113682270050,0.180013537406921,-0.045265052467585,-0.081693373620510,0.035027466714382,0.063035756349564,-0.099254302680492,-0.028088336810470,-0.014014587737620,-0.037833545356989,-0.066422320902348));
res += mul(Get(s0,0,0), float4x4(-0.021249808371067,-0.083563119173050,0.034571237862110,0.063350662589073,-0.023855943232775,-0.098237872123718,0.044381324201822,-0.058668151497841,-0.083046957850456,0.033457275480032,-0.074463039636612,0.070623718202114,-0.007535350043327,0.016459178179502,0.090381711721420,0.064648658037186));
res += mul(Get(s0,0,dy), float4x4(0.113206826150417,-0.018219547346234,-0.131018519401550,-0.046993888914585,0.027362931519747,0.006800686474890,-0.006372913252562,-0.037044513970613,0.002787834731862,0.034646406769753,0.071318879723549,0.000859816325828,0.053662747144699,0.014696002937853,-0.024547612294555,0.009499960578978));
res += mul(Get(s0,dx,-dy), float4x4(-0.069629073143005,-0.097759880125523,0.019833499565721,-0.104666732251644,0.024536896497011,-0.011010301299393,0.072198465466499,0.009167308919132,-0.106879621744156,0.012020767666399,0.020037017762661,-0.094960130751133,0.034463323652744,-0.015262503176928,0.066289603710175,0.070390857756138));
res += mul(Get(s0,dx,0), float4x4(0.060616441071033,-0.044742058962584,0.015325099229813,0.026869423687458,-0.005770477931947,0.022358249872923,0.075062468647957,0.014709762297571,0.042513310909271,0.015839176252484,0.017248302698135,0.002743255579844,0.027172543108463,0.028326220810413,0.092481449246407,0.007590867578983));
res += mul(Get(s0,dx,dy), float4x4(0.030287200585008,0.004702249076217,-0.082007080316544,-0.028141070157290,0.071043871343136,0.015160817652941,0.069843277335167,-0.031792096793652,-0.062627710402012,0.052837621420622,0.110835447907448,-0.030951017513871,-0.027664048597217,0.015229533426464,0.067174598574638,0.025494884699583));
res += mul(Get(s1,-dx,-dy), float4x4(-0.045989915728569,-0.001515852170996,-0.053874589502811,-0.178017750382423,0.061187777668238,-0.011236709542572,0.051721099764109,0.127105757594109,-0.056545171886683,0.011722814291716,-0.000674796814565,-0.003147691953927,-0.091713845729828,-0.049474038183689,0.002770384307951,-0.087854228913784));
res += mul(Get(s1,-dx,0), float4x4(-0.113459229469299,0.052020832896233,-0.159137725830078,-0.131332933902740,0.042993392795324,-0.024484153836966,-0.077818326652050,-0.046539898961782,0.072460524737835,0.097656823694706,-0.007023228332400,0.023037584498525,-0.023813420906663,-0.045154571533203,-0.065320640802383,-0.030011696740985));
res += mul(Get(s1,-dx,dy), float4x4(-0.046748917549849,0.010637147352099,-0.171098485589027,-0.035740025341511,0.023803034797311,-0.041595324873924,-0.154058858752251,-0.019458336755633,0.107443608343601,0.003323279786855,-0.017747741192579,-0.111012309789658,-0.045894782990217,-0.028216883540154,-0.049216181039810,0.047937750816345));
res += mul(Get(s1,0,-dy), float4x4(-0.045458856970072,-0.110338926315308,-0.087680861353874,-0.085044689476490,0.079560786485672,-0.018132692202926,0.121195316314697,0.115638285875320,0.093788474798203,-0.032986294478178,-0.053667936474085,0.027134671807289,-0.052726451307535,-0.071936361491680,0.091449990868568,-0.071628771722317));
res += mul(Get(s1,0,0), float4x4(0.071723937988281,0.035304624587297,-0.169532597064972,0.007004375569522,-0.065915904939175,0.003483646549284,0.137050271034241,-0.019620487466455,0.067134380340576,0.074734225869179,-0.015938822180033,0.078167237341404,-0.039524782449007,0.019182128831744,-0.100731939077377,0.080176278948784));
res += mul(Get(s1,0,dy), float4x4(-0.076140128076077,-0.037965778261423,-0.067652337253094,-0.000357873272151,-0.004656642209738,-0.061270162463188,0.013949175365269,0.019856592640281,0.064093410968781,0.036546021699905,0.001060242182575,0.023289665579796,0.118355251848698,0.019116912037134,-0.040269613265991,0.015397542156279));
res += mul(Get(s1,dx,-dy), float4x4(-0.078656889498234,0.050120063126087,-0.050443399697542,-0.077882103621960,0.008050458505750,-0.003836108371615,-0.011548505164683,-0.000218676621444,0.007697417866439,-0.032902240753174,0.025234611704946,-0.017598342150450,0.021586008369923,-0.055478975176811,0.024081371724606,-0.017452400177717));
res += mul(Get(s1,dx,0), float4x4(-0.048395190387964,-0.017717130482197,-0.088426716625690,0.035405285656452,0.030386710539460,-0.074248589575291,-0.076292239129543,0.089979998767376,-0.056757643818855,-0.013863933272660,0.024399109184742,-0.029268890619278,-0.035711351782084,-0.104906231164932,0.024402663111687,0.034734059125185));
res += mul(Get(s1,dx,dy), float4x4(0.039391610771418,-0.030865874141455,-0.180570617318153,-0.028655610978603,-0.040307682007551,-0.014156093820930,0.084058985114098,0.112833902239799,0.028659822419286,-0.041023485362530,-0.140812262892723,-0.028356185182929,0.101072125136852,0.037278879433870,-0.007471310440451,-0.032886896282434));
res += mul(Get(s2,-dx,-dy), float4x4(0.129143789410591,-0.065490037202835,0.129779547452927,0.164272129535675,0.005100390873849,0.019004303961992,0.060124259442091,0.039198789745569,0.006119618657976,0.060808606445789,0.013257052749395,-0.024810025468469,-0.074811324477196,0.090563327074051,0.020294239744544,0.029365541413426));
res += mul(Get(s2,-dx,0), float4x4(-0.009649397805333,-0.021046852692962,-0.022748537361622,-0.021590445190668,-0.070495404303074,0.013065642677248,0.060338884592056,-0.072985723614693,-0.003959834109992,-0.025129012763500,0.001962473383173,0.014593397267163,0.037811290472746,0.066661782562733,0.008942564018071,-0.036111865192652));
res += mul(Get(s2,-dx,dy), float4x4(0.110612973570824,-0.022021064534783,-0.083042092621326,0.062093541026115,-0.052257191389799,0.025282442569733,0.002798829460517,-0.011164382100105,-0.110787980258465,-0.040881127119064,0.000714150955901,-0.072971731424332,-0.028280090540648,-0.031271234154701,0.004852183163166,0.005931307561696));
res += mul(Get(s2,0,-dy), float4x4(0.098020382225513,-0.018377775326371,0.122861661016941,0.121496856212616,-0.077320098876953,-0.017205171287060,0.113888636231422,0.107798598706722,-0.062948301434517,-0.003837253432721,-0.031335532665253,-0.024070810526609,-0.052710238844156,0.019012300297618,-0.053733836859465,-0.059355195611715));
res += mul(Get(s2,0,0), float4x4(-0.039739836007357,0.040503341704607,-0.022823667153716,-0.055344685912132,-0.026145676150918,-0.047738701105118,0.194256514310837,0.029134813696146,0.007056478876621,-0.015558611601591,-0.085030645132065,0.038017898797989,0.044184222817421,-0.022879872471094,0.084142737090588,0.166116312146187));
res += mul(Get(s2,0,dy), float4x4(0.033594280481339,0.010778135620058,-0.051574531942606,0.052263554185629,-0.082315146923065,-0.001501987921074,0.001937187742442,-0.062040362507105,-0.030014598742127,0.073249004781246,0.015492591075599,-0.024785663932562,-0.069109894335270,0.032718475908041,0.279326111078262,0.076175823807716));
res += mul(Get(s2,dx,-dy), float4x4(-0.035034701228142,0.028510315343738,-0.027450185269117,-0.014494508504868,-0.062550477683544,-0.020451275631785,0.009988367557526,0.057577211409807,-0.144447371363640,0.012183168902993,-0.084285475313663,-0.062711559236050,-0.155019760131836,-0.036313492804766,-0.030318677425385,-0.119809955358505));
res += mul(Get(s2,dx,0), float4x4(0.028095960617065,-0.019261939451098,0.004836257081479,0.062091462314129,-0.042007651180029,-0.014491656795144,0.081008307635784,0.060388639569283,-0.050389856100082,-0.028274942189455,-0.068755343556404,0.004046946298331,-0.068880654871464,-0.003287746803835,-0.080794520676136,0.050151024013758));
res += mul(Get(s2,dx,dy), float4x4(-0.002202226314694,0.020730957388878,0.041154395788908,0.033926948904991,-0.012869030237198,-0.012465609237552,-0.004005592782050,0.018841693177819,-0.005756309721619,-0.013452695682645,-0.011740582063794,0.037349756807089,-0.005968569777906,-0.080275252461433,-0.008683150634170,0.025679402053356));
res += mul(Get(s3,-dx,-dy), float4x4(0.185890287160873,0.022841440513730,0.022550400346518,0.093841314315796,-0.059017941355705,-0.054374102503061,-0.019842872396111,0.009376471862197,0.013406949117780,0.020744739100337,-0.094086162745953,0.137842789292336,-0.035474713891745,0.023152068257332,0.029657559469342,-0.011034972034395));
res += mul(Get(s3,-dx,0), float4x4(0.073241300880909,-0.030454473569989,0.099565237760544,-0.047694396227598,-0.019056715071201,-0.020796097815037,0.045099221169949,-0.068099521100521,0.002409880515188,0.004587794188410,0.098630204796791,0.092570468783379,0.065004602074623,0.014205604791641,0.075847789645195,0.000718320603482));
res += mul(Get(s3,-dx,dy), float4x4(-0.025529162958264,-0.036756936460733,-0.004580792039633,-0.056879308074713,0.005165180657059,-0.038812201470137,-0.167385637760162,0.024873213842511,0.022456014528871,-0.025821277871728,-0.019628647714853,0.022312855347991,-0.054998569190502,-0.029956931248307,0.056461211293936,-0.104289695620537));
res += mul(Get(s3,0,-dy), float4x4(0.059527035802603,-0.028720272704959,0.116671018302441,0.144800156354904,-0.041602209210396,-0.014273202046752,0.049009796231985,0.082210749387741,0.028802581131458,0.089607864618301,-0.040868509560823,-0.003085249336436,0.024287702515721,0.022826697677374,-0.084714166820049,0.074521958827972));
res += mul(Get(s3,0,0), float4x4(0.079937696456909,-0.084092587232590,0.078843869268894,-0.091234870254993,-0.024474956095219,-0.034874074161053,-0.069523766636848,-0.022412015125155,-0.068053491413593,0.043107002973557,-0.011582569219172,-0.005496676545590,0.156845331192017,0.028672749176621,0.115927718579769,-0.018814153969288));
res += mul(Get(s3,0,dy), float4x4(-0.037398304790258,-0.021255454048514,0.003004882484674,0.007546402513981,-0.023612635210156,-0.022604430094361,-0.118998616933823,0.018258698284626,-0.004313781391829,-0.005701980087906,-0.158779531717300,-0.021919945254922,-0.092869088053703,0.060083005577326,0.054682690650225,-0.073321104049683));
res += mul(Get(s3,dx,-dy), float4x4(0.055724672973156,-0.004286979790777,0.009500138461590,0.041635077446699,-0.041953060775995,-0.091656103730202,-0.004751062020659,0.114365339279175,-0.019515316933393,0.021966062486172,-0.046786975115538,0.041250117123127,-0.033053349703550,0.038377527147532,-0.054563261568546,0.018960939720273));
res += mul(Get(s3,dx,0), float4x4(0.092943683266640,0.001619362505153,0.089912734925747,0.062198065221310,-0.135916322469711,-0.086879357695580,0.150121212005615,-0.005696993321180,0.014714573509991,-0.041377369314432,0.031062688678503,-0.050964709371328,0.106463395059109,-0.005531284958124,-0.023653445765376,0.007016586139798));
res += mul(Get(s3,dx,dy), float4x4(0.003842169186100,0.035140071064234,-0.048716448247433,0.030456595122814,0.126449048519135,0.037398122251034,-0.080598540604115,-0.010635303333402,-0.001419521169737,0.014749844558537,-0.059527587145567,0.129715263843536,-0.065138012170792,0.018440186977386,0.028748312965035,0.069118522107601));
return max(float4(0,0,0,0), res);
}
