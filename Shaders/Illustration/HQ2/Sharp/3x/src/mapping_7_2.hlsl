sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.022198222577572,-0.052291851490736,-0.010354629717767,-0.059437621384859,0.103638216853142,0.083520069718361,-0.009720500558615,0.001469188719057,0.099032633006573,-0.078427724540234,-0.026430519297719,-0.024588456377387,-0.015270567499101,0.064719036221504,0.057609364390373,-0.005286014638841));
res += mul(Get(s0,-dx,0), float4x4(0.128486409783363,0.074639290571213,-0.014470066875219,-0.046871688216925,0.101665727794170,0.065549798309803,-0.112944766879082,-0.000895486969966,0.028129115700722,0.056783851236105,-0.024875776842237,-0.001718942308798,-0.034441031515598,0.040620498359203,0.070415936410427,-0.017129486426711));
res += mul(Get(s0,-dx,dy), float4x4(-0.071693189442158,0.123594477772713,0.018220406025648,-0.045451059937477,0.030387870967388,0.012291344814003,-0.100421600043774,0.046406514942646,-0.031968921422958,0.037711482495070,0.003763392800465,-0.063793547451496,0.096526600420475,0.025990162044764,0.003930305130780,0.093847393989563));
res += mul(Get(s0,0,-dy), float4x4(0.046913847327232,-0.119973868131638,-0.087811551988125,-0.037167906761169,-0.059068750590086,-0.000916747027077,-0.027664231136441,-0.028403416275978,-0.004240562673658,0.099613085389137,-0.082081787288189,-0.024922866374254,-0.057098738849163,-0.019210875034332,-0.056444156914949,0.005727909971029));
res += mul(Get(s0,0,0), float4x4(0.015291043557227,0.000838108011521,-0.010256390087306,-0.077478274703026,-0.056453969329596,0.043863594532013,0.013095930218697,-0.070917606353760,0.058654908090830,0.245427638292313,0.008511614985764,-0.042315114289522,0.063763424754143,0.057501878589392,0.046731986105442,0.091459281742573));
res += mul(Get(s0,0,dy), float4x4(-0.025240236893296,-0.002055123681203,-0.052286013960838,0.032043211162090,-0.008673832751811,-0.038114096969366,-0.019352534785867,-0.039292950183153,-0.048636734485626,0.018907722085714,0.028979450464249,-0.061054557561874,-0.026355557143688,0.037214729934931,-0.045181412249804,-0.016414701938629));
res += mul(Get(s0,dx,-dy), float4x4(0.111641943454742,0.021955868229270,-0.039387322962284,-0.026123205199838,-0.005645287223160,0.043592099100351,-0.004394601099193,0.028155982494354,-0.004896338097751,-0.057431653141975,-0.074030250310898,-0.061681542545557,-0.029475055634975,0.015360160730779,0.007197337690741,0.017627792432904));
res += mul(Get(s0,dx,0), float4x4(0.051205679774284,0.068699106574059,0.060240570455790,-0.037705741822720,-0.043680880218744,0.042336709797382,-0.048062834888697,0.002473640488461,0.064121395349503,0.045239388942719,0.022894836962223,0.036505706608295,-0.004339468665421,-0.042993810027838,0.006356916390359,0.047391463071108));
res += mul(Get(s0,dx,dy), float4x4(0.111211761832237,-0.095926746726036,0.018862733617425,0.050345636904240,-0.021350445225835,-0.050580844283104,0.040580593049526,-0.019548000767827,0.045956384390593,-0.016608428210020,0.076657548546791,-0.017425199970603,-0.088494807481766,0.003534547053277,0.026888310909271,0.059823241084814));
res += mul(Get(s1,-dx,-dy), float4x4(0.061307411640882,-0.047845825552940,-0.053344704210758,-0.086888991296291,-0.098432347178459,-0.091262578964233,-0.081633739173412,0.021789414808154,-0.006953998468816,-0.098581768572330,-0.043585069477558,-0.076878026127815,-0.066905662417412,0.067731544375420,-0.026165695860982,-0.078886523842812));
res += mul(Get(s1,-dx,0), float4x4(0.159061416983604,-0.015174555592239,-0.048861827701330,-0.041883338242769,-0.100569717586040,0.053703892976046,-0.036392156034708,-0.026480538770556,-0.012651638127863,-0.027380347251892,-0.055948831140995,0.029256388545036,-0.010011150501668,0.161530032753944,0.065280281007290,0.075873829424381));
res += mul(Get(s1,-dx,dy), float4x4(0.048321049660444,0.089077651500702,-0.048663996160030,-0.040760625153780,-0.021096451207995,-0.007648484315723,0.023031800985336,0.023081531748176,-0.031270749866962,-0.032860737293959,-0.045007891952991,-0.016592020168900,-0.019621271640062,0.171822667121887,0.047199912369251,0.024417866021395));
res += mul(Get(s1,0,-dy), float4x4(-0.012746463529766,0.011632017791271,-0.044270735234022,0.009830852970481,-0.041936099529266,-0.088060088455677,-0.029259225353599,0.105140626430511,0.032730136066675,0.005011317320168,0.017667779698968,-0.078151866793633,-0.024341337382793,0.126604557037354,-0.025635851547122,-0.030578857287765));
res += mul(Get(s1,0,0), float4x4(0.071349814534187,-0.048701085150242,0.007185575552285,-0.072030715644360,-0.036658689379692,0.018324730917811,-0.166567400097847,-0.014349378645420,-0.034589525312185,0.022527830675244,-0.076061144471169,0.054336208850145,-0.048619072884321,0.108645327389240,-0.045892704278231,-0.071741074323654));
res += mul(Get(s1,0,dy), float4x4(0.026499928906560,-0.054616555571556,0.090333499014378,-0.089914672076702,0.003825378138572,0.046696811914444,0.034194458276033,-0.048193749040365,0.084193013608456,-0.097720965743065,-0.001114131649956,-0.030891157686710,-0.109350480139256,0.044898446649313,-0.046480890363455,-0.008365631103516));
res += mul(Get(s1,dx,-dy), float4x4(-0.019751798361540,0.006054516881704,0.004505203571171,-0.039387937635183,-0.032142788171768,0.011549956165254,-0.028512081131339,0.056353069841862,0.009427342563868,0.054849456995726,-0.001948169432580,-0.009043134748936,-0.004711271263659,-0.042598228901625,0.001705693430267,0.000871125375852));
res += mul(Get(s1,dx,0), float4x4(-0.046866737306118,0.160687923431396,-0.065192885696888,-0.057532846927643,0.065660424530506,0.054722301661968,0.036516893655062,-0.011475775390863,0.036556549370289,0.180299073457718,-0.013200295157731,-0.005515188444406,0.008927645161748,-0.009382715448737,-0.069028973579407,-0.046840179711580));
res += mul(Get(s1,dx,dy), float4x4(0.039050932973623,0.060322232544422,0.105486251413822,0.050574053078890,0.011500107124448,-0.035312809050083,-0.050255183130503,-0.038719471544027,0.021862937137485,0.125950857996941,-0.019564935937524,0.005082856398076,0.036092039197683,-0.101541884243488,0.020465746521950,0.088733695447445));
res += mul(Get(s2,-dx,-dy), float4x4(-0.122333735227585,-0.191109389066696,0.013540836982429,0.050471119582653,-0.011500481516123,0.038178797811270,0.051176588982344,0.051845841109753,-0.004560720641166,0.052481923252344,-0.026930959895253,-0.008185604587197,0.067781247198582,-0.029708804562688,-0.087465837597847,-0.046963956207037));
res += mul(Get(s2,-dx,0), float4x4(0.030571825802326,-0.091469012200832,0.086639910936356,-0.080506339669228,0.066084347665310,-0.005698683671653,0.046591926366091,-0.052544243633747,-0.054747097194195,-0.051616705954075,-0.066258288919926,-0.034101072698832,0.054928097873926,-0.003850621404126,0.062095150351524,-0.053945161402225));
res += mul(Get(s2,-dx,dy), float4x4(0.045056179165840,-0.067904591560364,-0.028355503454804,-0.045042421668768,0.076351650059223,-0.073405511677265,0.075495280325413,0.034829616546631,-0.011501342058182,-0.078270226716995,-0.015498206019402,-0.043822024017572,-0.033480014652014,0.006352695636451,0.001172245596536,-0.020471561700106));
res += mul(Get(s2,0,-dy), float4x4(0.015063065104187,-0.021142819896340,-0.057508084923029,0.076396904885769,-0.011116313748062,0.043815724551678,0.086702376604080,0.075957015156746,-0.104258842766285,-0.055986572057009,0.052152682095766,-0.074238337576389,0.144860431551933,0.041242301464081,-0.007024371530861,-0.113410063087940));
res += mul(Get(s2,0,0), float4x4(0.057840649038553,0.075227633118629,-0.009884669445455,-0.014622354879975,0.014051864854991,-0.072231449186802,0.053143315017223,0.001552757574245,-0.075166262686253,-0.039643857628107,0.084380544722080,-0.012137582525611,0.178863793611526,0.028375830501318,-0.029569892212749,-0.076082251966000));
res += mul(Get(s2,0,dy), float4x4(-0.039919000118971,0.052890937775373,0.022591600194573,0.051260147243738,0.061452019959688,0.045462280511856,0.093993976712227,0.064363256096840,-0.034281853586435,-0.041402332484722,0.045112580060959,-0.021100575104356,0.114078730344772,0.020032752305269,-0.053958017379045,-0.050701428204775));
res += mul(Get(s2,dx,-dy), float4x4(0.001837457413785,-0.072248779237270,-0.011718595400453,0.021166587248445,-0.036614138633013,0.020358573645353,0.057023946195841,0.065262764692307,-0.002518166089430,0.011922930367291,0.003669742261991,-0.070690892636776,0.111775703728199,-0.081300735473633,-0.069649182260036,-0.038085136562586));
res += mul(Get(s2,dx,0), float4x4(-0.028496701270342,-0.084630928933620,-0.017337393015623,-0.104111276566982,-0.097635366022587,-0.125168383121490,-0.009906880557537,-0.068364113569260,-0.133064791560173,-0.054750237613916,0.005626069381833,0.087352611124516,0.217750668525696,0.072126097977161,-0.023837173357606,0.042384315282106));
res += mul(Get(s2,dx,dy), float4x4(-0.075834102928638,-0.026111114770174,-0.044069580733776,0.029494084417820,-0.079691350460052,0.011036756448448,0.029410518705845,-0.077361159026623,-0.040874786674976,-0.094871841371059,0.056387122720480,-0.011055379174650,0.121460340917110,-0.019447972998023,-0.058479599654675,-0.033977571874857));
res += mul(Get(s3,-dx,-dy), float4x4(0.037901569157839,0.075050175189972,-0.007169445976615,0.100601077079773,0.053438212722540,0.005773381330073,0.065533496439457,0.009648649953306,0.121485039591789,-0.074374385178089,0.043240416795015,-0.025603570044041,0.000673972419463,-0.050117850303650,0.054651871323586,-0.012658866122365));
res += mul(Get(s3,-dx,0), float4x4(0.071908697485924,0.073826462030411,-0.031802538782358,-0.083261430263519,0.085894487798214,-0.050677757710218,0.064975477755070,-0.077755108475685,0.095996640622616,-0.041880238801241,0.030355988070369,-0.047481469810009,-0.071425944566727,-0.037623569369316,0.038409221917391,0.031526315957308));
res += mul(Get(s3,-dx,dy), float4x4(0.026024863123894,-0.036136399954557,0.019553411751986,0.012525014579296,0.033775996416807,0.014866530895233,-0.007157169748098,-0.036268383264542,0.078948393464088,-0.075105212628841,0.038587477058172,0.035589039325714,0.051345854997635,-0.080849416553974,0.040707137435675,-0.025639927014709));
res += mul(Get(s3,0,-dy), float4x4(-0.050372272729874,0.070366203784943,0.002116995863616,0.153318867087364,-0.079597480595112,0.058715622872114,0.030108798295259,0.011960981413722,0.035399407148361,0.015821969136596,0.057027056813240,-0.002402911661193,-0.100330300629139,0.049116048961878,-0.030181026086211,0.075722172856331));
res += mul(Get(s3,0,0), float4x4(0.053131606429815,0.045664723962545,0.007379108574241,-0.005282792262733,-0.071724988520145,0.125748187303543,0.019879268482327,-0.052243683487177,0.099272616207600,0.095508046448231,0.006367219146341,-0.059406135231256,-0.114661999046803,-0.009768294170499,0.007986007258296,0.051671348512173));
res += mul(Get(s3,0,dy), float4x4(-0.025258019566536,-0.015106016770005,0.059278126806021,0.007762825116515,-0.133877426385880,0.189684838056564,-0.024930099025369,0.019539086148143,-0.009343584068120,0.048102505505085,0.000542379624676,0.049720186740160,0.033267982304096,-0.117713607847691,0.014478716999292,0.028921337798238));
res += mul(Get(s3,dx,-dy), float4x4(-0.105085462331772,0.023210966959596,-0.018195834010839,0.072895511984825,-0.150438100099564,-0.053379785269499,0.033719252794981,-0.000971975736320,0.080183088779449,-0.066680036485195,-0.048590555787086,0.037943288683891,-0.009641359560192,0.049305975437164,0.027230529114604,0.028689404949546));
res += mul(Get(s3,dx,0), float4x4(-0.097650311887264,-0.023798240348697,0.157907515764236,0.008656824007630,-0.036101255565882,-0.076368696987629,-0.099788822233677,-0.038290280848742,0.103294342756271,-0.035201802849770,-0.074034355580807,-0.073607571423054,-0.012712279334664,-0.059714291244745,0.018845934420824,0.095712766051292));
res += mul(Get(s3,dx,dy), float4x4(-0.095431342720985,-0.011743429116905,0.134255856275558,-0.044168896973133,-0.072772316634655,0.103652648627758,-0.072855494916439,0.003437853185460,0.008236272260547,0.011947737075388,-0.027277737855911,-0.010854892432690,-0.115831069648266,-0.050011534243822,-0.030328737571836,0.059300102293491));
return max(float4(0,0,0,0), res);
}
