sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.059347823262215,-0.092842467129230,0.009372428059578,-0.003648120677099,-0.053099140524864,0.024680078029633,-0.103126242756844,0.020843299105763,-0.009010335430503,0.051330864429474,0.008880399167538,-0.029203223064542,-0.046362642198801,-0.107709661126137,0.008842084556818,-0.054630596190691));
res += mul(Get(s0,-dx,0), float4x4(-0.090463750064373,0.016819786280394,-0.012006036005914,-0.048942089080811,0.049360733479261,0.004119719844311,0.035544794052839,0.046623874455690,-0.036582332104445,0.067019984126091,0.012536237016320,-0.068797014653683,-0.030061194673181,-0.121512301266193,-0.002680576173589,-0.048432145267725));
res += mul(Get(s0,-dx,dy), float4x4(-0.035767145454884,-0.030867798253894,-0.035402361303568,-0.071192137897015,0.010547422803938,0.050178766250610,-0.012376948259771,0.129750564694405,0.036583863198757,0.006409892346710,0.006982861086726,0.023524021729827,-0.037755642086267,0.023852162063122,0.026798101142049,0.019657731056213));
res += mul(Get(s0,0,-dy), float4x4(0.014035317115486,0.014238012023270,0.126033529639244,0.012750335969031,0.006542998831719,0.057771869003773,-0.057542093098164,0.102771781384945,0.083609521389008,-0.040211491286755,0.028238750994205,0.033620949834585,0.085581511259079,0.004338805098087,0.047804314643145,0.082222796976566));
res += mul(Get(s0,0,0), float4x4(-0.037128452211618,-0.011383307166398,-0.060231212526560,0.169636905193329,0.046461328864098,-0.036354336887598,0.001816970412619,0.025916745886207,-0.056242838501930,0.063550420105457,-0.053518775850534,-0.161971092224121,-0.053239453583956,0.084192074835300,-0.030756264925003,0.035417500883341));
res += mul(Get(s0,0,dy), float4x4(-0.139065220952034,0.075137868523598,-0.126910701394081,-0.065083123743534,0.038952209055424,0.040150888264179,0.030340682715178,-0.017661891877651,-0.069936700165272,-0.060945354402065,0.204056084156036,-0.127641260623932,-0.044842872768641,0.073738425970078,0.109185561537743,0.072952151298523));
res += mul(Get(s0,dx,-dy), float4x4(0.060116227716208,-0.056381873786449,0.074898660182953,0.003293106798083,0.015990138053894,0.028145365417004,0.030534930527210,0.028304722160101,0.072008527815342,-0.034547533839941,-0.006155159790069,0.055006522685289,-0.016759086400270,0.007537853904068,0.067994154989719,-0.052018593996763));
res += mul(Get(s0,dx,0), float4x4(0.009434843435884,-0.023752458393574,-0.100953228771687,0.091745950281620,-0.031281065195799,0.094976395368576,0.079421423375607,-0.004187268670648,0.016985263675451,0.141397982835770,-0.009178884327412,0.127205252647400,0.032419316470623,0.036927416920662,-0.120116397738457,0.005981340073049));
res += mul(Get(s0,dx,dy), float4x4(-0.058372080326080,0.047104038298130,-0.035492505878210,-0.056052755564451,-0.039479490369558,0.024016367271543,0.064809463918209,-0.034338701516390,0.033790886402130,-0.016567001119256,0.158295124769211,-0.146770164370537,-0.024772485718131,0.078359656035900,0.159531027078629,-0.055220820009708));
res += mul(Get(s1,-dx,-dy), float4x4(-0.008885199204087,-0.014919872395694,0.009749873541296,0.009577929973602,-0.027066683396697,-0.005840256810188,-0.018349461257458,-0.008104871027172,0.083400607109070,-0.002339798957109,0.043650258332491,0.038096204400063,0.032364033162594,0.021995706483722,-0.102420888841152,0.027705028653145));
res += mul(Get(s1,-dx,0), float4x4(-0.040091376751661,-0.033349100500345,0.135331213474274,-0.031725220382214,-0.055326160043478,0.059699092060328,0.012836436741054,0.014474118128419,-0.014508444815874,-0.009848832152784,-0.051103368401527,-0.047514554113150,0.022190194576979,0.020668366923928,-0.053496759384871,0.016606064513326));
res += mul(Get(s1,-dx,dy), float4x4(-0.057689324021339,0.048443201929331,0.055242527276278,0.107121072709560,-0.022387746721506,-0.054503399878740,0.018387062475085,-0.117610774934292,0.035094983875751,0.040045540779829,-0.130930870771408,0.141244322061539,-0.026342917233706,-0.060493733733892,-0.066809289157391,0.069034792482853));
res += mul(Get(s1,0,-dy), float4x4(0.033714439719915,-0.005213287193328,0.020254509523511,0.046615459024906,0.012977502308786,0.028598774224520,0.039125412702560,0.115944795310497,-0.012355296872556,-0.072460904717445,-0.001328676939011,0.010857236571610,0.038093551993370,0.075583942234516,-0.032026283442974,-0.082214586436749));
res += mul(Get(s1,0,0), float4x4(0.032286446541548,0.032795142382383,0.069485105574131,0.004154258873314,0.022259961813688,0.135444521903992,-0.107301652431488,0.173464849591255,-0.022671671584249,0.109069354832172,0.033630553632975,-0.140796408057213,0.024166267365217,-0.002690104767680,-0.044668760150671,-0.049481362104416));
res += mul(Get(s1,0,dy), float4x4(-0.116778999567032,0.032535377889872,0.158533185720444,-0.028100579977036,-0.085382141172886,0.031980674713850,-0.055412039160728,0.025465084239841,0.045236356556416,0.050055895000696,0.029171058908105,0.253727376461029,0.095263451337814,0.051888812333345,-0.031130881980062,0.121718958020210));
res += mul(Get(s1,dx,-dy), float4x4(-0.012753031216562,0.009930931031704,-0.015342683531344,0.106953427195549,-0.113268084824085,0.140600591897964,0.003328860038891,-0.021537017077208,0.032003387808800,0.079687818884850,-0.027939928695560,0.024921653792262,0.070978082716465,-0.043544415384531,-0.024333762004972,0.036704085767269));
res += mul(Get(s1,dx,0), float4x4(-0.022363778203726,0.083635069429874,0.053649649024010,0.086156621575356,-0.085742622613907,-0.037376187741756,0.102571323513985,-0.050073470920324,-0.000011841324522,-0.006491737440228,-0.033370256423950,0.050476234406233,-0.067275844514370,-0.020638097077608,0.066710196435452,0.008560282178223));
res += mul(Get(s1,dx,dy), float4x4(-0.030648514628410,0.090042762458324,0.028230665251613,-0.041393175721169,0.007508686278015,-0.035836484283209,-0.063039541244507,-0.071007005870342,-0.030169405043125,-0.131982862949371,-0.070216014981270,0.020966133102775,0.027669645845890,0.051073838025331,-0.001868650899269,0.000492964405566));
res += mul(Get(s2,-dx,-dy), float4x4(0.044807564467192,-0.119882799685001,0.036702185869217,0.045785855501890,0.047207042574883,-0.097415380179882,0.109380230307579,-0.066851601004601,-0.061150286346674,-0.019819097593427,0.047759182751179,-0.049991659820080,0.022536603733897,-0.022275172173977,0.013433730229735,-0.073013074696064));
res += mul(Get(s2,-dx,0), float4x4(0.008238846436143,-0.057094655930996,0.043836638331413,0.094246819615364,0.019764507189393,-0.047848638147116,-0.117299467325211,0.018699944019318,0.074504122138023,-0.094173125922680,0.084700658917427,-0.096540927886963,0.025824116542935,0.074370287358761,-0.070050679147243,-0.147857233881950));
res += mul(Get(s2,-dx,dy), float4x4(0.005119285546243,-0.106266550719738,-0.156553760170937,-0.041500922292471,0.014188262633979,0.071001686155796,-0.037347733974457,0.049042604863644,0.086154416203499,-0.048132929950953,0.086782783269882,-0.067551158368587,-0.014336974360049,0.025779185816646,0.069041632115841,-0.003543023252860));
res += mul(Get(s2,0,-dy), float4x4(-0.047710582613945,-0.043082080781460,0.045198876410723,0.089984238147736,-0.028770413249731,0.098953485488892,0.149059683084488,0.081210486590862,-0.009827699512243,0.010026914998889,0.064548119902611,-0.176031500101089,-0.049326423555613,-0.116114147007465,-0.066888168454170,0.091047503054142));
res += mul(Get(s2,0,0), float4x4(-0.082257606089115,-0.148262992501259,-0.138648673892021,-0.050420891493559,0.049721822142601,0.051319479942322,-0.089480966329575,0.187468022108078,0.032934896647930,-0.029698390513659,0.031163644045591,-0.049237154424191,0.010659352876246,-0.100865550339222,0.124154657125473,-0.129400789737701));
res += mul(Get(s2,0,dy), float4x4(-0.130008354783058,-0.013851183466613,-0.055181838572025,0.002833792241290,0.103478357195854,0.122173979878426,-0.041160922497511,0.045744020491838,0.031655713915825,-0.053975280374289,0.017423352226615,-0.099584251642227,-0.083979740738869,-0.074948772788048,0.095015235245228,-0.063656441867352));
res += mul(Get(s2,dx,-dy), float4x4(0.089766673743725,-0.049595635384321,-0.015961166471243,0.014903700910509,-0.083918944001198,-0.050532218068838,-0.057796109467745,-0.106196500360966,0.072716385126114,0.021859413012862,0.114997029304504,-0.081273466348648,0.032984804362059,-0.048237722367048,-0.039419572800398,-0.074414469301701));
res += mul(Get(s2,dx,0), float4x4(0.159456774592400,-0.059456802904606,-0.046924516558647,0.029804738238454,0.009231335483491,0.006336718797684,-0.084761105477810,-0.002184973331168,0.034307833760977,-0.069507226347923,0.100042633712292,-0.015261267311871,0.000973549555056,-0.036964546889067,0.082922130823135,-0.200522392988205));
res += mul(Get(s2,dx,dy), float4x4(-0.012083688750863,0.097201317548752,0.110433034598827,-0.056149847805500,0.012481837533414,-0.035504356026649,-0.048247117549181,-0.058734264224768,-0.120808109641075,-0.078335195779800,0.136173024773598,-0.028042005375028,-0.147406995296478,-0.144625455141068,-0.054626099765301,-0.174536615610123));
res += mul(Get(s3,-dx,-dy), float4x4(0.028500495478511,-0.085583455860615,-0.034501831978559,-0.045987073332071,0.015723330900073,-0.012952031567693,-0.022898595780134,0.042427688837051,0.035760726779699,0.062647290527821,-0.033886291086674,-0.018815472722054,-0.020255045965314,-0.059336803853512,-0.046133074909449,0.138678446412086));
res += mul(Get(s3,-dx,0), float4x4(0.033059809356928,-0.031913403421640,0.018315199762583,0.091172084212303,0.093837171792984,0.043124929070473,0.019891049712896,0.073333792388439,-0.029210766777396,0.084613271057606,0.043880019336939,0.049821365624666,-0.030094105750322,-0.078402310609818,-0.047162007540464,0.074928209185600));
res += mul(Get(s3,-dx,dy), float4x4(-0.130203112959862,-0.065255478024483,-0.055439498275518,-0.006811344530433,-0.006535688415170,-0.000368349254131,0.083605907857418,-0.006023809779435,0.053539928048849,0.071375131607056,-0.068121954798698,-0.072843894362450,0.077425390481949,-0.053649596869946,-0.097838029265404,0.017298460006714));
res += mul(Get(s3,0,-dy), float4x4(-0.000626722117886,-0.006200054660439,0.121093377470970,-0.044927351176739,-0.022074764594436,0.052396032959223,-0.015329931862652,0.032297775149345,0.044119689613581,-0.007778711616993,-0.027963705360889,-0.005699496250600,0.069179661571980,-0.129434078931808,-0.030429854989052,0.194589704275131));
res += mul(Get(s3,0,0), float4x4(-0.024647904559970,0.128333702683449,0.110956236720085,0.000055741475080,-0.014696994796395,0.035515960305929,0.038129169493914,0.122560121119022,-0.089447423815727,-0.015636533498764,0.002029419410974,0.033034253865480,-0.047081768512726,-0.034702237695456,-0.046458013355732,0.098882332444191));
res += mul(Get(s3,0,dy), float4x4(0.062689512968063,-0.021883597597480,-0.006902130320668,-0.045604772865772,-0.013777798973024,0.057302270084620,0.006060524843633,0.006632421165705,-0.049917548894882,-0.085768811404705,0.052676416933537,0.046435639262199,0.108246184885502,0.121725775301456,0.108538806438446,-0.001219798112288));
res += mul(Get(s3,dx,-dy), float4x4(-0.049481507390738,0.007195447571576,-0.017234338447452,-0.026050437241793,-0.058760330080986,-0.047490861266851,0.017700461670756,0.005701276473701,-0.021427355706692,-0.022502744570374,0.077690601348877,-0.024308430030942,-0.007751553785056,-0.080885745584965,-0.119071759283543,0.061842646449804));
res += mul(Get(s3,dx,0), float4x4(0.018882192671299,-0.048023022711277,-0.023591602221131,-0.018288694322109,0.009401153773069,-0.047774784266949,0.055642470717430,0.085288964211941,-0.066268652677536,0.015624544583261,-0.023586720228195,-0.030050998553634,0.036766637116671,-0.044293090701103,-0.013902426697314,-0.003273958107457));
res += mul(Get(s3,dx,dy), float4x4(0.038989227265120,-0.012448199093342,0.001204459345900,-0.037205372005701,-0.073877751827240,0.120793834328651,-0.042499959468842,0.079467825591564,0.016994200646877,-0.037676922976971,0.020414369180799,0.023847792297602,0.096433393657207,0.044502001255751,-0.027427250519395,0.018219588324428));
return max(float4(0,0,0,0), res);
}
