sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.037358589470387,0.006193175446242,0.001366436248645,-0.021873470395803,-0.013145922683179,-0.022960476577282,0.019034335389733,0.044430922716856,0.046287797391415,-0.058856159448624,0.027014201506972,0.097465306520462,0.067102842032909,-0.054024878889322,0.112943291664124,-0.178264766931534));
res += mul(Get(s0,-dx,0), float4x4(0.020193127915263,0.017349332571030,0.118246607482433,-0.102971613407135,-0.019327895715833,0.050942424684763,-0.041107822209597,0.028124580159783,0.003984762355685,-0.053343940526247,0.098166942596436,-0.054208692163229,0.020288167521358,-0.121874473989010,-0.129464492201805,-0.082090660929680));
res += mul(Get(s0,-dx,dy), float4x4(0.006775714457035,0.013869420625269,0.007195683196187,-0.084937617182732,0.155659675598145,-0.026427716016769,-0.006291948258877,0.015760632231832,-0.066967621445656,-0.019066458567977,0.132793575525284,0.029392801225185,-0.015214553102851,0.018906699493527,-0.081124223768711,0.023801302537322));
res += mul(Get(s0,0,-dy), float4x4(-0.062163189053535,-0.027817677706480,-0.142480060458183,-0.026523571461439,-0.068890757858753,-0.052136123180389,-0.054246716201305,-0.098183423280716,-0.045168183743954,0.115608453750610,0.058748457580805,0.037655647844076,-0.031263452023268,-0.055845014750957,0.047324776649475,-0.044968843460083));
res += mul(Get(s0,0,0), float4x4(-0.062900848686695,-0.111522972583771,0.061809152364731,0.005353610496968,-0.028771787881851,0.262233972549438,-0.095273077487946,-0.062766999006271,0.007203015033156,-0.045984856784344,0.216369554400444,-0.050106417387724,-0.045091826468706,-0.120154954493046,-0.088083960115910,-0.028465051203966));
res += mul(Get(s0,0,dy), float4x4(-0.027852954342961,0.203599438071251,0.024516161531210,0.028366971760988,-0.147533446550369,-0.024398822337389,0.007962411269546,0.069706358015537,0.014703441411257,0.080153271555901,0.144275248050690,0.091485776007175,-0.018346337601542,0.064342901110649,-0.010614603757858,0.126282855868340));
res += mul(Get(s0,dx,-dy), float4x4(-0.144848719239235,-0.046177808195353,-0.004749099723995,0.085079662501812,0.018857067450881,0.000655534386169,0.025153061375022,-0.000211401158595,0.113181561231613,0.086290501058102,0.048300754278898,0.061904549598694,0.030153760686517,-0.092418603599072,0.050457376986742,0.022814203053713));
res += mul(Get(s0,dx,0), float4x4(-0.033313453197479,-0.029511490836740,0.079464502632618,0.018920982256532,0.004801266826689,0.168108329176903,0.010769006796181,0.032734736800194,0.052999258041382,0.032875146716833,-0.032056819647551,0.102661803364754,0.049702614545822,-0.050833728164434,-0.006640605162829,0.048489987850189));
res += mul(Get(s0,dx,dy), float4x4(0.033985584974289,0.115568399429321,0.013609493151307,0.029564354568720,-0.125313743948936,-0.002956569194794,-0.019448410719633,0.073293685913086,0.043987661600113,-0.006147228181362,-0.066571831703186,-0.080319903790951,-0.047213312238455,-0.019946573302150,0.044942166656256,-0.067770302295685));
res += mul(Get(s1,-dx,-dy), float4x4(0.124587245285511,-0.084577217698097,-0.115525111556053,-0.059642959386110,-0.001805672538467,0.092801973223686,0.066586032509804,0.156792834401131,0.009496224112809,-0.005264953244478,0.073583893477917,0.092820011079311,0.114530056715012,0.049591500312090,-0.013566239736974,-0.015668170526624));
res += mul(Get(s1,-dx,0), float4x4(-0.052023347467184,0.015774348750710,0.007240355480462,-0.097048178315163,0.075120359659195,-0.025772523134947,0.029213713482022,0.096963725984097,0.076874151825905,0.114035815000534,0.002971681766212,-0.099914245307446,0.029005210846663,0.007441622205079,0.043896380811930,0.028224376961589));
res += mul(Get(s1,-dx,dy), float4x4(-0.007036044728011,-0.000285847519990,-0.063163369894028,-0.041437558829784,0.029617644846439,-0.001752177253366,-0.070517547428608,-0.018051216378808,-0.039296764880419,-0.015663342550397,0.018786976113915,-0.081682942807674,-0.053725097328424,-0.021460134536028,-0.011283881962299,-0.058587092906237));
res += mul(Get(s1,0,-dy), float4x4(0.075882352888584,-0.140160158276558,0.049256972968578,0.166427299380302,0.040617309510708,0.027335412800312,0.063089191913605,0.093529894948006,-0.002911819377914,-0.108873143792152,-0.021999083459377,-0.025935219600797,-0.063753947615623,-0.076435685157776,0.028719635680318,0.170517832040787));
res += mul(Get(s1,0,0), float4x4(-0.014928329735994,0.084264926612377,0.020844131708145,-0.002233804436401,-0.010096882469952,0.200882554054260,0.051752645522356,-0.015262478031218,0.061135470867157,-0.011993668042123,-0.056962803006172,-0.064857348799706,0.078865990042686,-0.010952807031572,0.054930765181780,0.155357286334038));
res += mul(Get(s1,0,dy), float4x4(-0.084831722080708,0.080594688653946,-0.123173147439957,-0.012647593393922,-0.046695444732904,0.026802526786923,-0.017682030797005,-0.127217844128609,0.016382420435548,-0.047201931476593,0.094131365418434,0.126470044255257,-0.065532475709915,-0.001632045721635,-0.077148564159870,-0.109563142061234));
res += mul(Get(s1,dx,-dy), float4x4(0.019581716507673,-0.054801784455776,0.044150374829769,-0.011445877142251,0.032969444990158,-0.026713633909822,0.061103984713554,0.137925371527672,0.001778479083441,0.019568340852857,0.011717165820301,0.175556778907776,-0.004609601106495,-0.038435887545347,-0.022094935178757,0.110612392425537));
res += mul(Get(s1,dx,0), float4x4(0.093055367469788,-0.030148001387715,0.050509333610535,-0.110215932130814,0.074434369802475,-0.012655770406127,-0.047240179032087,0.009488493204117,-0.077413223683834,0.010080765932798,0.080174706876278,-0.022195465862751,-0.058068733662367,0.035810317844152,0.083127416670322,0.041525457054377));
res += mul(Get(s1,dx,dy), float4x4(-0.136456951498985,0.068953029811382,0.022293908521533,-0.003396899672225,0.036489762365818,0.027720639482141,-0.022105813026428,0.077716283500195,-0.007394585758448,-0.081810034811497,0.036846593022346,0.024622468277812,-0.017689581960440,0.147771567106247,-0.031272754073143,0.041908618062735));
res += mul(Get(s2,-dx,-dy), float4x4(0.179022625088692,0.054428253322840,-0.110030554234982,0.072846591472626,-0.005554702598602,-0.103389188647270,0.000731212669052,-0.014844207093120,-0.029596876353025,0.043768599629402,0.005670696962625,-0.070510841906071,0.006352845113724,0.011229851283133,0.007393380627036,-0.024373019114137));
res += mul(Get(s2,-dx,0), float4x4(0.107285052537918,-0.044115435332060,-0.097761087119579,-0.042477034032345,-0.046652350574732,-0.116534568369389,0.017294678837061,0.055190503597260,0.078466661274433,-0.026001321151853,-0.099140413105488,-0.024288047105074,0.041613947600126,-0.020850121974945,-0.018281402066350,0.021692555397749));
res += mul(Get(s2,-dx,dy), float4x4(-0.056995198130608,0.059834115207195,-0.017911057919264,-0.027940716594458,0.065282441675663,0.055688805878162,-0.083269529044628,0.018002381548285,-0.058367867022753,0.119829118251801,0.064181402325630,0.042631834745407,0.104863077402115,-0.167731449007988,-0.069085061550140,-0.128303065896034));
res += mul(Get(s2,0,-dy), float4x4(0.074485115706921,-0.065451420843601,0.061396997421980,0.004637700039893,0.094290003180504,-0.104516088962555,0.033932629972696,0.081563636660576,0.021612476557493,-0.092985242605209,0.066287241876125,-0.090597152709961,0.051309917122126,0.050785884261131,-0.034908872097731,0.016836578026414));
res += mul(Get(s2,0,0), float4x4(-0.056770782917738,-0.103988975286484,-0.030400747433305,-0.037144243717194,0.038849484175444,0.040450867265463,-0.025612115859985,0.077377207577229,0.064732268452644,0.057464860379696,0.045373663306236,-0.027603389695287,-0.081334166228771,-0.091423012316227,0.054357185959816,0.000807843345683));
res += mul(Get(s2,0,dy), float4x4(-0.054086651653051,-0.026239769533277,-0.081388071179390,-0.058904610574245,-0.022684564813972,0.035430748015642,-0.042601905763149,-0.048629157245159,0.060469921678305,0.049742426723242,-0.088215321302414,0.048287410289049,0.032345846295357,0.005090159364045,0.077195882797241,-0.016080869361758));
res += mul(Get(s2,dx,-dy), float4x4(-0.032977625727654,-0.029304897412658,-0.015803903341293,0.072863951325417,0.029140042141080,-0.023593386635184,-0.023804854601622,0.093101911246777,-0.025870932266116,-0.021344542503357,-0.093041308224201,0.101227790117264,0.010468336753547,0.090924248099327,0.019094014540315,0.127357676625252));
res += mul(Get(s2,dx,0), float4x4(0.026629365980625,0.000445599056548,-0.056455012410879,-0.021747533231974,0.041698254644871,0.017078239470720,0.046528052538633,0.095065616071224,-0.094620935618877,0.075665719807148,-0.025687268003821,0.037774488329887,0.002878861501813,-0.011424584314227,0.048768173903227,-0.018383193761110));
res += mul(Get(s2,dx,dy), float4x4(-0.023972459137440,0.110233299434185,-0.034544892609119,0.015853893011808,0.007172210607678,-0.043561670929193,-0.039097834378481,0.112881004810333,-0.048082079738379,-0.004474067129195,0.054212406277657,0.032539751380682,0.005255432333797,-0.020947368815541,-0.039753016084433,0.022080151364207));
res += mul(Get(s3,-dx,-dy), float4x4(-0.110825352370739,-0.151541128754616,0.018855137750506,-0.033935640007257,-0.022236207500100,-0.032721359282732,-0.054123144596815,-0.053703408688307,0.055801276117563,0.075255200266838,-0.042849253863096,-0.109844490885735,-0.029249379411340,-0.079036220908165,-0.009346703067422,0.104562424123287));
res += mul(Get(s3,-dx,0), float4x4(-0.045484263449907,0.036847535520792,0.067664071917534,0.010499147698283,0.024436213076115,0.133911624550819,0.074477635324001,0.015421953983605,-0.150986954569817,-0.101781457662582,0.126805186271667,-0.008927396498621,0.083708360791206,-0.106517918407917,0.020376604050398,-0.047090996056795));
res += mul(Get(s3,-dx,dy), float4x4(-0.060784794390202,-0.015431702136993,-0.026130013167858,-0.096249811351299,-0.032356608659029,0.067114748060703,-0.199113696813583,0.072365581989288,-0.032768543809652,-0.045907355844975,0.086880572140217,-0.064536944031715,0.008247026242316,-0.076611757278442,-0.051811348646879,-0.077255025506020));
res += mul(Get(s3,0,-dy), float4x4(0.083355993032455,0.071206860244274,0.026515854522586,-0.082210876047611,-0.082569688558578,0.008666658774018,0.004083604086190,0.021856477484107,0.053730588406324,-0.085854209959507,-0.057611282914877,-0.097435928881168,-0.135622411966324,-0.064714722335339,-0.035237271338701,-0.030444631353021));
res += mul(Get(s3,0,0), float4x4(-0.091658435761929,0.046900823712349,0.101030886173248,-0.076680958271027,-0.056195262819529,0.045945260673761,-0.066796384751797,0.055993903428316,-0.089840345084667,-0.038699083030224,0.117179848253727,-0.022697681561112,0.062059678137302,-0.004209734499454,0.048093218356371,-0.089307755231857));
res += mul(Get(s3,0,dy), float4x4(-0.003594152163714,0.030317649245262,0.003265200182796,-0.121046669781208,-0.062110416591167,-0.058142378926277,-0.073124103248119,-0.048348106443882,-0.077469237148762,0.102696545422077,0.136360511183739,-0.112911134958267,-0.052475009113550,0.066147528588772,-0.087976887822151,-0.060092493891716));
res += mul(Get(s3,dx,-dy), float4x4(0.009058245457709,-0.043134327977896,-0.119534060359001,0.006191826891154,0.056819964200258,0.057531226426363,0.056326113641262,-0.091387584805489,0.029351450502872,-0.002269667806104,-0.055261105298996,0.048414926975965,0.016218455508351,0.138161599636078,-0.039419401437044,-0.049259778112173));
res += mul(Get(s3,dx,0), float4x4(0.023696176707745,0.037932928651571,-0.128080427646637,0.153455659747124,0.031679138541222,-0.012214162386954,0.012505308724940,-0.039863109588623,-0.045077487826347,0.026167009025812,-0.070469036698341,-0.056117609143257,0.099771492183208,-0.023179581388831,-0.047067727893591,-0.025227179750800));
res += mul(Get(s3,dx,dy), float4x4(0.053771186619997,-0.033594585955143,-0.007345454301685,0.115015521645546,-0.025012344121933,-0.197619810700417,-0.007303261663765,0.038145843893290,-0.055290117859840,0.059448502957821,0.113159954547882,-0.047279540449381,-0.092544339597225,-0.076910085976124,-0.115275718271732,0.028301537036896));
return max(float4(0,0,0,0), res);
}
