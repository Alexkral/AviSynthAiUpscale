sampler s0 : register(s0);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(x, y)   tex2D(s0, tex + float2(x, y))[0]

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += float4(-0.050690490752459,-0.088333822786808,0.083050198853016,-0.114839710295200) * Get(-dx,-dy);
res += float4(0.274665981531143,0.090672224760056,-0.123023688793182,-0.248897790908813) * Get(-dx,0);
res += float4(-0.007755753584206,-0.018743015825748,0.048572901636362,-0.025354417040944) * Get(-dx,dy);
res += float4(-0.103157930076122,-0.025398168712854,-0.057704377919436,0.051555648446083) * Get(0,-dy);
res += float4(0.161108195781708,-0.071937680244446,-0.043380584567785,-0.082249358296394) * Get(0,0);
res += float4(-0.077482268214226,-0.030123967677355,0.036127299070358,0.240371927618980) * Get(0,dy);
res += float4(-0.106555663049221,0.107692234218121,-0.219311520457268,-0.048456069082022) * Get(dx,-dy);
res += float4(-0.089773900806904,-0.124169662594795,-0.095164306461811,0.030204195529222) * Get(dx,0);
res += float4(0.069301806390285,-0.024416234344244,0.044218573719263,0.082169309258461) * Get(dx,dy);
return max(float4(0,0,0,0), res);
}
