sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.015696140006185,0.005193646065891,0.084225922822952,0.053912047296762,-0.008164621889591,-0.108295671641827,0.053333066403866,-0.059322196990252,0.047329280525446,0.113957010209560,0.032747447490692,0.069545023143291,0.097215607762337,-0.066224962472916,-0.104116529226303,0.054882824420929));
res += mul(Get(s0,-dx,0), float4x4(0.049049206078053,-0.028199326246977,0.270788371562958,-0.087962448596954,0.020466988906264,-0.047710075974464,0.081081867218018,0.121106982231140,-0.021645698696375,-0.046396374702454,-0.059666246175766,0.021638296544552,-0.009967169724405,-0.087777435779572,0.107335425913334,0.050047487020493));
res += mul(Get(s0,-dx,dy), float4x4(-0.047070920467377,0.056076053529978,0.219735130667686,-0.028975939378142,-0.066165007650852,-0.082412049174309,-0.089366197586060,-0.070222198963165,0.076717875897884,0.080175250768661,-0.009577786549926,-0.068600229918957,-0.088103406131268,-0.071588911116123,0.049072921276093,-0.005710052791983));
res += mul(Get(s0,0,-dy), float4x4(0.053458172827959,0.050337243825197,-0.085239350795746,-0.003643059637398,0.074086591601372,-0.043627236038446,0.024785256013274,0.075429506599903,-0.146572634577751,-0.003109458601102,-0.050511021167040,0.010078004561365,0.020603969693184,0.029199052602053,-0.095128245651722,-0.031512409448624));
res += mul(Get(s0,0,0), float4x4(-0.071136854588985,0.045314315706491,-0.104840517044067,-0.020039476454258,-0.073795109987259,-0.026731472462416,-0.013263802044094,0.009510707110167,0.015637334436178,0.051941361278296,0.073619626462460,-0.206670120358467,0.061523843556643,0.164082139730453,-0.047324605286121,0.033674761652946));
res += mul(Get(s0,0,dy), float4x4(0.027804519981146,0.158014714717865,0.059971038252115,0.026093106716871,0.120185934007168,-0.043649125844240,0.003350187093019,-0.082148119807243,-0.140364304184914,0.048213459551334,0.031721983104944,-0.030782524496317,-0.018294055014849,0.018257426097989,0.149828627705574,-0.121596574783325));
res += mul(Get(s0,dx,-dy), float4x4(0.148873612284660,0.112160392105579,-0.013745991513133,0.049062386155128,0.002399971242994,-0.073294661939144,0.051833279430866,-0.094881601631641,-0.030820427462459,-0.029532419517636,-0.020272631198168,0.032727696001530,-0.056878495961428,-0.046511299908161,0.029233530163765,0.128389626741409));
res += mul(Get(s0,dx,0), float4x4(0.009274009615183,0.027817917987704,-0.085442200303078,0.028399229049683,0.061058796942234,0.173774912953377,0.015129415318370,0.048981860280037,0.010461890138686,-0.130379900336266,-0.074082724750042,0.071179039776325,0.071741238236427,-0.012141082435846,-0.128764256834984,0.060761209577322));
res += mul(Get(s0,dx,dy), float4x4(-0.032141309231520,0.036815114319324,-0.187114879488945,0.066764466464520,0.020177580416203,-0.057802960276604,-0.017378970980644,-0.036784186959267,-0.024681316688657,-0.050154045224190,-0.108285859227180,0.099819123744965,0.046558778733015,-0.003882097080350,0.011476104147732,0.069208711385727));
res += mul(Get(s1,-dx,-dy), float4x4(-0.012875285930932,-0.029428025707603,0.045304700732231,0.112266950309277,0.053346242755651,0.027678262442350,0.045755095779896,-0.003467819420621,-0.078275270760059,-0.006508529651910,0.033980481326580,-0.059988323599100,0.049057800322771,0.048786412924528,-0.073224388062954,-0.034235205501318));
res += mul(Get(s1,-dx,0), float4x4(0.039139468222857,-0.057683095335960,-0.110012575984001,0.108071424067020,0.149062722921371,0.102240398526192,-0.079174086451530,-0.007104691118002,0.024627747014165,0.050786003470421,-0.037213467061520,-0.004575565457344,-0.028927750885487,-0.074107691645622,-0.087848372757435,-0.103439554572105));
res += mul(Get(s1,-dx,dy), float4x4(-0.098587900400162,-0.030000405386090,-0.000196346765733,-0.170389235019684,-0.042170558124781,-0.065597474575043,0.081450589001179,0.016870738938451,-0.036945588886738,0.049891695380211,-0.021957878023386,0.020024282857776,-0.046294726431370,-0.138948455452919,-0.024114981293678,-0.074924506247044));
res += mul(Get(s1,0,-dy), float4x4(0.000276398204733,0.033237855881453,-0.027231367304921,0.018582271412015,-0.017924288287759,-0.046880554407835,-0.030844017863274,-0.009232015348971,-0.035496473312378,0.010465143248439,-0.054081391543150,-0.029082793742418,-0.047954991459846,-0.022258616983891,-0.006882428191602,0.020597187802196));
res += mul(Get(s1,0,0), float4x4(0.074233509600163,0.064395308494568,0.032251499593258,-0.056325461715460,-0.008030524477363,-0.023356370627880,-0.007721207104623,-0.075534440577030,-0.091844171285629,-0.030063845217228,-0.060112122446299,0.050330687314272,-0.027363061904907,-0.115196935832500,0.072807028889656,0.015284175053239));
res += mul(Get(s1,0,dy), float4x4(-0.014098926447332,-0.107950717210770,-0.061962444335222,0.064034007489681,0.007127531338483,0.066945031285286,-0.074531868100166,-0.020043320953846,0.025869853794575,-0.102931275963783,0.002335093449801,-0.058832127600908,-0.087540104985237,0.126208633184433,0.005697611253709,0.037211515009403));
res += mul(Get(s1,dx,-dy), float4x4(0.102446965873241,-0.110171794891357,0.009111166000366,0.089430026710033,-0.026960438117385,-0.140488266944885,-0.033866632729769,0.023935308679938,-0.036443278193474,-0.056163605302572,0.020976176485419,0.002582999179140,0.000463209638838,-0.044004801660776,-0.007319161202759,-0.057981118559837));
res += mul(Get(s1,dx,0), float4x4(-0.008987914770842,-0.117801100015640,-0.140006825327873,-0.001076498068869,0.128284499049187,0.063268572092056,0.072146058082581,-0.024522703140974,-0.002124012215063,-0.047098204493523,-0.035098779946566,-0.061246961355209,-0.003563891164958,-0.036584727466106,0.034473940730095,-0.124626472592354));
res += mul(Get(s1,dx,dy), float4x4(0.006619260646403,-0.004508935380727,-0.030884413048625,0.071546249091625,-0.078859642148018,0.060641907155514,-0.005088623147458,-0.008603538386524,-0.097023636102676,-0.014515955001116,0.002468935446814,-0.051667131483555,-0.029164183884859,-0.063749961555004,-0.015398393385112,0.070385746657848));
res += mul(Get(s2,-dx,-dy), float4x4(-0.022703271359205,-0.063311390578747,0.104756034910679,-0.034459106624126,-0.077027611434460,0.020337108522654,-0.083772659301758,-0.038484212011099,0.009069243445992,-0.007610508706421,0.088639907538891,-0.002462550066411,-0.087575443089008,-0.041149150580168,-0.028583971783519,-0.117751739919186));
res += mul(Get(s2,-dx,0), float4x4(0.025753589347005,0.018289145082235,0.066923923790455,-0.063558384776115,0.006169165018946,0.027648279443383,-0.034092210233212,0.147895321249962,0.107721656560898,-0.040547180920839,-0.017435727640986,-0.048742689192295,-0.010640836320817,-0.032818347215652,0.019621293991804,-0.106822758913040));
res += mul(Get(s2,-dx,dy), float4x4(0.043885681778193,-0.016659229993820,0.213931947946548,0.071889005601406,-0.111007109284401,0.035650435835123,-0.064393877983093,-0.177844300866127,0.194490343332291,-0.075493685901165,0.035224720835686,0.122306689620018,0.082766130566597,0.138582125306129,-0.059635765850544,0.018997140228748));
res += mul(Get(s2,0,-dy), float4x4(-0.088160835206509,-0.041504334658384,0.062798798084259,-0.007866648957133,0.064246617257595,-0.132134914398193,-0.039097025990486,-0.033324196934700,0.044798593968153,-0.023939570412040,0.011707278899848,-0.022787055000663,-0.006256419233978,-0.027837269008160,0.033611636608839,-0.044718828052282));
res += mul(Get(s2,0,0), float4x4(0.091581471264362,-0.061988160014153,-0.023716375231743,-0.020565481856465,0.114018104970455,0.043106816709042,0.060133103281260,0.045778635889292,0.047077495604753,-0.089208923280239,-0.052627097815275,-0.030945276841521,0.000912647461519,-0.026505291461945,0.084677711129189,-0.089683659374714));
res += mul(Get(s2,0,dy), float4x4(-0.033650722354650,0.086464062333107,0.131436586380005,0.048261512070894,0.018872540444136,0.070288166403770,-0.019940752536058,-0.098507463932037,0.020987858995795,-0.002086929976940,0.041844289749861,-0.010880613699555,-0.073300093412399,0.015919944271445,0.010890322737396,-0.069389611482620));
res += mul(Get(s2,dx,-dy), float4x4(0.010723970830441,-0.088531970977783,-0.072767697274685,0.101500414311886,-0.144661635160446,-0.141501471400261,0.109956435859203,0.029260639101267,0.034694764763117,0.015208039432764,0.030273303389549,-0.014199895784259,0.165182277560234,-0.019152363762259,-0.054576683789492,-0.025273276492953));
res += mul(Get(s2,dx,0), float4x4(0.165130510926247,-0.027058701962233,0.016395766288042,0.035240281373262,0.031602237373590,-0.027309261262417,0.057199794799089,0.053931847214699,-0.114583812654018,0.015792621299624,-0.047599263489246,0.133477240800858,-0.014169413596392,-0.094367854297161,-0.033546701073647,-0.039725549519062));
res += mul(Get(s2,dx,dy), float4x4(0.089615397155285,0.112237818539143,0.086802206933498,-0.049352344125509,-0.102960169315338,0.018029764294624,-0.037139017134905,0.026869999244809,0.049482401460409,0.011537285521626,0.003992255311459,-0.015797851607203,-0.069421984255314,0.020780848339200,0.011700000613928,0.047861136496067));
res += mul(Get(s3,-dx,-dy), float4x4(-0.074145808815956,0.020895723253489,0.096665382385254,0.067361578345299,-0.070834107697010,0.055112782865763,-0.030226148664951,0.057049870491028,0.075882419943810,0.029253043234348,0.103530660271645,0.030448840931058,0.154379531741142,-0.034313883632421,-0.072973079979420,-0.102341607213020));
res += mul(Get(s3,-dx,0), float4x4(0.135339811444283,0.145164817571640,0.073193736374378,-0.083182953298092,0.012751892209053,0.023125104606152,0.006557655055076,-0.013418660499156,-0.013233301229775,-0.012107187882066,0.007619366515428,-0.030686717480421,0.010878584347665,-0.029531493782997,-0.045926850289106,0.116793528199196));
res += mul(Get(s3,-dx,dy), float4x4(-0.114304013550282,0.015069824643433,-0.069742374122143,-0.063700102269650,0.046155974268913,-0.034511942416430,0.077437371015549,0.108162328600883,0.009295655414462,-0.126800298690796,-0.008812658488750,0.113722033798695,-0.055472102016211,-0.027349373325706,-0.001923529198393,-0.095349200069904));
res += mul(Get(s3,0,-dy), float4x4(-0.124939732253551,-0.142786636948586,0.025032209232450,0.035323243588209,-0.039125498384237,-0.026688998565078,-0.092278569936752,-0.078419610857964,-0.039000894874334,-0.032324392348528,-0.100825905799866,-0.001256147283129,0.039643429219723,-0.095702297985554,-0.040071856230497,0.080480933189392));
res += mul(Get(s3,0,0), float4x4(0.185405939817429,-0.042780559509993,-0.044862348586321,-0.067885644733906,-0.105443455278873,0.003192574484274,-0.168353199958801,0.047969896346331,0.084114998579025,0.056027948856354,0.070045843720436,-0.080836221575737,0.033548485487700,-0.072526268661022,-0.007677133195102,0.007795023266226));
res += mul(Get(s3,0,dy), float4x4(-0.027521755546331,0.047315549105406,-0.125940710306168,-0.078965812921524,-0.073552258312702,0.060480043292046,0.050526358187199,-0.060592412948608,-0.089011050760746,0.113396279513836,0.017920834943652,-0.025834783911705,-0.068785928189754,-0.100298516452312,-0.064831510186195,0.009971068240702));
res += mul(Get(s3,dx,-dy), float4x4(-0.064682222902775,-0.058834806084633,-0.082666218280792,0.090904794633389,-0.012413621880114,0.027324073016644,-0.068139426410198,0.002403250196949,-0.003053116146475,0.072487570345402,0.065661385655403,0.085433095693588,-0.084471359848976,-0.056349884718657,-0.042253546416759,0.002894503995776));
res += mul(Get(s3,dx,0), float4x4(-0.010240769945085,-0.123795665800571,-0.061625819653273,-0.103457555174828,-0.112438149750233,-0.028774766251445,-0.026454258710146,-0.011783285997808,-0.019642380997539,0.018123146146536,-0.009008787572384,-0.000126332772197,-0.019223313778639,0.002130112843588,-0.054515913128853,-0.026691388338804));
res += mul(Get(s3,dx,dy), float4x4(-0.039485499262810,-0.011578403413296,-0.040294900536537,-0.063252925872803,-0.180509954690933,0.010654421523213,0.004842035938054,-0.027247048914433,-0.096926838159561,0.064109869301319,0.051004499197006,0.037640333175659,-0.046572711318731,0.051674142479897,0.024981278926134,-0.064689695835114));
return max(float4(0,0,0,0), res);
}
