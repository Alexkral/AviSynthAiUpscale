sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.072024464607239,-0.094139024615288,0.074756242334843,-0.132407173514366,-0.051095128059387,0.039666067808867,-0.097831554710865,0.007134643383324,-0.130815461277962,-0.001191294752061,-0.167537033557892,-0.036125447601080,0.168534919619560,-0.035449951887131,-0.089535631239414,-0.060640148818493));
res += mul(Get(s0,-dx,0), float4x4(-0.089060261845589,-0.044187240302563,0.081630274653435,-0.012631685473025,0.043976180255413,0.030830824747682,-0.028626840561628,0.047590274363756,-0.044472143054008,0.015261886641383,-0.067227214574814,-0.004229503683746,0.058760281652212,-0.102599948644638,0.030567210167646,0.075790300965309));
res += mul(Get(s0,-dx,dy), float4x4(-0.017730375751853,-0.021083503961563,0.052535280585289,-0.016201781108975,-0.000381457299227,-0.001798508805223,0.151518985629082,-0.041086327284575,-0.053706824779510,-0.012779488228261,0.062851965427399,-0.035893928259611,-0.045908190310001,0.014643947593868,0.050550557672977,-0.014801784418523));
res += mul(Get(s0,0,-dy), float4x4(-0.107411488890648,-0.081604957580566,0.065928459167480,-0.168544188141823,0.004025700967759,0.114059008657932,-0.017352337017655,-0.005617716349661,-0.069279827177525,-0.105857200920582,0.010427507571876,0.022575981914997,-0.028122615069151,-0.090663127601147,-0.021376032382250,0.071843199431896));
res += mul(Get(s0,0,0), float4x4(-0.092197626829147,-0.013755814172328,0.058585591614246,0.098674178123474,0.014893173240125,0.102917373180389,0.033336732536554,-0.012603606097400,0.032537009567022,0.030066445469856,0.019536940380931,-0.060285504907370,0.060969695448875,-0.032219473272562,-0.028405174612999,-0.009058462455869));
res += mul(Get(s0,0,dy), float4x4(0.078577004373074,0.067173898220062,0.063579604029655,0.100141108036041,0.114807061851025,0.009649657644331,0.075917862355709,0.001978575484827,0.076307371258736,0.014018533751369,-0.097116075456142,-0.039510853588581,-0.032658737152815,0.000602037587669,-0.057247612625360,0.039599448442459));
res += mul(Get(s0,dx,-dy), float4x4(-0.060773089528084,-0.037650246173143,0.055565401911736,-0.091716930270195,0.102883696556091,0.076087079942226,0.014539695344865,0.042050287127495,-0.060572333633900,0.006734934169799,-0.030669691041112,0.051729828119278,-0.004914225079119,0.001356341876090,-0.028385579586029,-0.053963467478752));
res += mul(Get(s0,dx,0), float4x4(-0.007198580075055,0.016998440027237,0.081490285694599,0.015927020460367,0.048122078180313,0.053231891244650,0.125783100724220,-0.017534129321575,-0.024491781368852,-0.058368220925331,0.169105395674706,0.088882282376289,0.096477858722210,0.063712380826473,0.115638308227062,0.015136559493840));
res += mul(Get(s0,dx,dy), float4x4(0.086222179234028,0.005364845972508,-0.033539518713951,0.087859570980072,-0.001896576373838,0.015655953437090,0.002780167153105,0.025015184655786,0.033790621906519,0.013102290220559,0.065031878650188,0.070616044104099,0.137867763638496,-0.033622138202190,0.115348905324936,-0.021980408579111));
res += mul(Get(s1,-dx,-dy), float4x4(0.001391472993419,-0.041152637451887,0.017248410731554,-0.001867461018264,0.018814602866769,0.010937062092125,0.011151787824929,0.081495977938175,-0.180264815688133,-0.049560673534870,0.109884068369865,-0.014790561981499,0.045809280127287,0.028981059789658,-0.082288287580013,0.017273196950555));
res += mul(Get(s1,-dx,0), float4x4(0.007756783161312,-0.011711340397596,0.034801993519068,0.021512515842915,-0.011445945128798,0.041937008500099,0.072204567492008,0.000130088708829,-0.066509805619717,-0.031515758484602,-0.062877163290977,-0.034249592572451,-0.098692990839481,0.051364585757256,-0.004691077861935,0.024724459275603));
res += mul(Get(s1,-dx,dy), float4x4(-0.025542380288243,0.026397094130516,0.033905312418938,-0.018319403752685,0.051860701292753,-0.001903279335238,-0.056125067174435,-0.030295405536890,-0.005698574241251,0.053949166089296,0.018080750480294,0.050320703536272,0.016996648162603,0.031460095196962,-0.091593973338604,0.017987733706832));
res += mul(Get(s1,0,-dy), float4x4(0.014166264794767,0.028676075860858,0.042184546589851,0.010374834761024,-0.103107377886772,-0.052478577941656,-0.040696509182453,-0.058095432817936,-0.109893903136253,-0.067960768938065,0.025950763374567,0.070092082023621,0.034291956573725,0.031688310205936,0.054102655500174,-0.019498394802213));
res += mul(Get(s1,0,0), float4x4(-0.057812582701445,-0.040196880698204,-0.017693504691124,-0.031245676800609,-0.206639513373375,-0.009458585642278,-0.001634437358007,-0.053386140614748,-0.092211611568928,-0.081909678876400,-0.055728569626808,-0.031061396002769,-0.044286575168371,0.067075744271278,-0.097110040485859,-0.035045769065619));
res += mul(Get(s1,0,dy), float4x4(0.096706666052341,-0.041092820465565,-0.057363077998161,0.010959191247821,0.004602753091604,-0.137875407934189,-0.008659356273711,0.096799008548260,-0.011757295578718,-0.002507591387257,-0.027943635359406,0.014199115335941,-0.110809974372387,0.005166817456484,-0.068341642618179,-0.071222670376301));
res += mul(Get(s1,dx,-dy), float4x4(0.030123015865684,-0.037040270864964,0.044213812798262,-0.028664989396930,-0.055034637451172,-0.105422072112560,0.053529571741819,-0.060948800295591,-0.215704992413521,0.105007030069828,-0.027076488360763,0.036162190139294,-0.074679978191853,-0.010282129049301,-0.084153510630131,0.005372120533139));
res += mul(Get(s1,dx,0), float4x4(-0.037036575376987,0.013426055200398,0.062343578785658,0.053765602409840,-0.041403695940971,-0.073479697108269,-0.000832492019981,-0.027803802862763,-0.089351087808609,-0.041506122797728,0.012964090332389,0.016407834365964,-0.043529421091080,-0.077864363789558,-0.084161072969437,-0.020187681540847));
res += mul(Get(s1,dx,dy), float4x4(0.057506557554007,-0.000156322988914,0.020737620070577,0.027233235538006,0.098502866923809,-0.037212617695332,0.055896982550621,-0.007903484627604,-0.053283523768187,-0.014604937285185,-0.020608862861991,-0.007231570780277,0.004906386602670,0.060071989893913,-0.076251000165939,-0.015070486813784));
res += mul(Get(s2,-dx,-dy), float4x4(-0.066566832363605,-0.066391505300999,-0.055260188877583,-0.000330757553456,0.149090483784676,-0.020672893151641,-0.012188783846796,-0.044012933969498,0.165847599506378,-0.013687033206224,-0.016377646476030,-0.077606074512005,-0.058199174702168,0.003572562010959,0.016073824837804,0.001628751866519));
res += mul(Get(s2,-dx,0), float4x4(0.099899910390377,-0.004202540963888,-0.107083834707737,0.014221992343664,0.044724367558956,-0.077693805098534,-0.038978319615126,-0.070518188178539,-0.068294487893581,0.072315864264965,-0.015313446521759,0.021171880885959,0.022660255432129,-0.022189754992723,-0.100849770009518,0.041660133749247));
res += mul(Get(s2,-dx,dy), float4x4(0.018064560368657,-0.046112302690744,-0.057396642863750,-0.012688685208559,0.009862903505564,0.074223697185516,-0.033958371728659,0.023262804374099,-0.068897888064384,-0.008021353743970,0.017520412802696,-0.099175043404102,0.039148673415184,-0.075712017714977,-0.086853921413422,-0.022425137460232));
res += mul(Get(s2,0,-dy), float4x4(-0.003303559729829,-0.067556791007519,-0.012416006997228,0.049266669899225,0.054383136332035,0.000904441927560,0.001006044680253,0.013560826890171,0.044949047267437,0.018339678645134,-0.053162377327681,-0.090988785028458,0.140671119093895,0.018705280497670,-0.048959605395794,-0.046933718025684));
res += mul(Get(s2,0,0), float4x4(0.117767006158829,-0.031161492690444,-0.039191216230392,-0.020780021324754,0.007676746230572,0.069608807563782,0.016531616449356,-0.076959915459156,-0.181738689541817,-0.008838653564453,0.030442522838712,0.018756110221148,0.133898332715034,-0.023675352334976,0.008165586739779,0.004573106300086));
res += mul(Get(s2,0,dy), float4x4(-0.036652453243732,-0.069306679069996,0.013486532494426,0.034982800483704,0.064660042524338,0.113143675029278,0.033800620585680,-0.049511257559061,-0.044318232685328,0.014287697151303,0.039775311946869,-0.013398714363575,0.024609515443444,0.031284160912037,-0.100604966282845,-0.097295530140400));
res += mul(Get(s2,dx,-dy), float4x4(0.062872841954231,-0.047455802559853,-0.087394326925278,0.105340436100960,0.014329386875033,-0.007921555079520,0.064045444130898,0.024838328361511,-0.010532593354583,0.003422795794904,-0.092470631003380,-0.056500505656004,0.055883262306452,0.037461243569851,0.072261951863766,-0.013883591629565));
res += mul(Get(s2,dx,0), float4x4(0.117652609944344,0.062798865139484,0.038311075419188,-0.033737238496542,0.053164906799793,0.113416142761707,0.057733818888664,0.009077182039618,0.075314201414585,0.023192953318357,-0.053995713591576,-0.016267070546746,-0.027431903406978,0.024601189419627,-0.044118691235781,-0.005247943103313));
res += mul(Get(s2,dx,dy), float4x4(0.061563424766064,-0.037533417344093,0.065982207655907,-0.016111692413688,-0.024644527584314,0.170368984341621,-0.018287181854248,-0.034831035882235,0.084821738302708,0.034708395600319,0.136434182524681,0.008069358766079,-0.028795950114727,-0.007078722119331,-0.190411269664764,-0.031324237585068));
res += mul(Get(s3,-dx,-dy), float4x4(0.069090209901333,-0.052385378628969,0.056101150810719,-0.116801217198372,0.055431663990021,-0.056949116289616,0.028426321223378,0.025481473654509,0.042751491069794,-0.034946020692587,0.015811055898666,0.029748110100627,0.152076229453087,-0.183372944593430,-0.040759459137917,-0.088617235422134));
res += mul(Get(s3,-dx,0), float4x4(0.054028701037169,0.064354017376900,0.012909248471260,0.118959784507751,-0.060006521642208,-0.106338612735271,0.151028871536255,-0.066185474395752,0.032641425728798,-0.040386252105236,-0.001639779889956,-0.011818812228739,0.023120436817408,0.052419833838940,-0.006356690544635,0.026881067082286));
res += mul(Get(s3,-dx,dy), float4x4(0.125849723815918,0.020157789811492,0.044971700757742,0.103999234735966,0.018016576766968,0.024093149229884,-0.007933720946312,-0.021276798099279,-0.017745729535818,-0.081962920725346,-0.034193210303783,-0.030968507751822,-0.029127646237612,-0.029199849814177,-0.059143673628569,-0.060991264879704));
res += mul(Get(s3,0,-dy), float4x4(0.044016312807798,-0.007934263907373,0.011793440207839,0.084119334816933,-0.038500394672155,-0.000403823156375,0.140579760074615,0.040249995887280,0.012585076503456,-0.025698019191623,0.005103192757815,0.063004769384861,-0.025681080296636,0.007947722449899,0.055397618561983,-0.037315826863050));
res += mul(Get(s3,0,0), float4x4(-0.047254696488380,-0.049998242408037,-0.040021248161793,0.086020953953266,-0.076353602111340,-0.018010893836617,0.002754885237664,-0.041471429169178,-0.061943482607603,0.013510347343981,0.018116222694516,0.012777616269886,0.116587452590466,0.042978659272194,0.017822023481131,-0.109752088785172));
res += mul(Get(s3,0,dy), float4x4(0.119675017893314,0.037774190306664,-0.142132848501205,0.058462336659431,-0.042551904916763,-0.101296164095402,0.022978017106652,0.064267240464687,0.011823956854641,0.036948945373297,-0.053885798901320,0.038711823523045,0.150226235389709,-0.025760207325220,-0.044171538203955,-0.014206553809345));
res += mul(Get(s3,dx,-dy), float4x4(0.060572478920221,0.052686542272568,0.051936723291874,-0.050559785217047,-0.010493209585547,-0.051718827337027,0.093092866241932,-0.018338238820434,-0.118531987071037,0.006738646421582,0.018398098647594,-0.046976909041405,-0.117499843239784,0.076246723532677,0.043024457991123,0.124934755265713));
res += mul(Get(s3,dx,0), float4x4(-0.048294123262167,0.033150970935822,-0.046184416860342,-0.065605990588665,-0.181724667549133,0.015014898963273,-0.119689345359802,0.012648411095142,-0.058298796415329,0.003920950461179,0.067455157637596,0.034341584891081,-0.012180903926492,0.219797715544701,0.197930708527565,-0.017266504466534));
res += mul(Get(s3,dx,dy), float4x4(0.096123531460762,0.002234752289951,0.051580317318439,-0.079648822546005,-0.092593893408775,0.129886209964752,-0.027872530743480,0.030856844037771,0.038122903555632,-0.007879700511694,-0.068640291690826,-0.017589341849089,0.026962431147695,0.093800142407417,0.045325219631195,0.047140777111053));
return max(float4(0,0,0,0), res);
}
