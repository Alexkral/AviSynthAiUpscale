sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.040111072361469,0.118205256760120,-0.003445540321991,-0.107342310249805,-0.005123334005475,-0.023102223873138,0.034674938768148,-0.003393084509298,0.048155896365643,0.026168121024966,-0.110140420496464,-0.072202906012535,-0.078442953526974,-0.075570046901703,0.021877229213715,-0.105353690683842));
res += mul(Get(s0,-dx,0), float4x4(-0.097102254629135,0.026822322979569,-0.046149913221598,-0.105577901005745,0.038045872002840,0.042768023908138,0.011399725452065,-0.027873879298568,0.026883231475949,-0.064609065651894,-0.066505655646324,-0.078885979950428,-0.064853385090828,0.117349036037922,-0.052794408053160,-0.030117366462946));
res += mul(Get(s0,-dx,dy), float4x4(-0.102257505059242,-0.014082710258663,-0.050962068140507,-0.083268865942955,0.043623995035887,0.045196741819382,-0.047916505485773,-0.008576846681535,-0.003790648886934,0.133228510618210,-0.103672206401825,0.095384433865547,0.072249487042427,-0.102492801845074,0.078968860208988,0.039930451661348));
res += mul(Get(s0,0,-dy), float4x4(-0.038703031837940,0.091722302138805,0.134845957159996,-0.082243129611015,0.074440985918045,0.017777195200324,-0.038019340485334,-0.122436791658401,0.100563786923885,0.017282182350755,-0.100000336766243,-0.015283247455955,0.028858497738838,-0.000703684054315,-0.098395079374313,-0.078438200056553));
res += mul(Get(s0,0,0), float4x4(0.155031234025955,0.062852129340172,-0.081638529896736,-0.031996566802263,0.008252164348960,0.019123855978251,-0.086000345647335,0.077852234244347,-0.008112782612443,0.024323506280780,0.121552526950836,-0.041500907391310,0.055191144347191,0.125298872590065,-0.124345138669014,0.028539866209030));
res += mul(Get(s0,0,dy), float4x4(-0.180420458316803,-0.027186637744308,-0.070609748363495,0.061409622430801,-0.031161651015282,0.044512670487165,0.122761785984039,0.007917011156678,-0.033043332397938,0.057750709354877,0.032129470258951,0.151409283280373,0.094700530171394,-0.084530815482140,0.065864160656929,0.173340857028961));
res += mul(Get(s0,dx,-dy), float4x4(-0.011162529699504,-0.078225843608379,0.053312856703997,-0.042838379740715,0.047561295330524,-0.076656274497509,-0.084659755229950,-0.025213178247213,0.080751225352287,0.024959588423371,-0.020796693861485,-0.090663969516754,0.111650973558426,-0.014785992912948,-0.065717980265617,-0.019066896289587));
res += mul(Get(s0,dx,0), float4x4(0.124187394976616,0.017268026247621,0.124709434807301,-0.004701903555542,0.050257995724678,0.010830427519977,0.027965739369392,0.070198908448219,-0.037082906812429,-0.005148333963007,-0.139301151037216,0.049155492335558,0.099496230483055,0.044428844004869,-0.053356178104877,-0.087878391146660));
res += mul(Get(s0,dx,dy), float4x4(0.004014325793833,-0.018267311155796,0.113193757832050,0.204201549291611,-0.048979584127665,-0.022617967799306,-0.065014749765396,0.036839358508587,-0.062949046492577,0.071462847292423,0.001953052822500,0.086724177002907,-0.044111952185631,-0.116749167442322,0.108634807169437,0.056677177548409));
res += mul(Get(s1,-dx,-dy), float4x4(-0.013769337907434,0.005456123035401,0.000286302441964,-0.020047456026077,-0.081894405186176,0.026332866400480,-0.165771618485451,0.040076296776533,0.064295791089535,-0.053682655096054,-0.114582449197769,0.031801562756300,-0.067710906267166,-0.040623310953379,-0.013887772336602,0.071250990033150));
res += mul(Get(s1,-dx,0), float4x4(0.037823896855116,0.092388674616814,0.039612170308828,-0.027944812551141,0.061744298785925,0.102481022477150,-0.105073407292366,-0.081238716840744,0.062158029526472,0.080511681735516,-0.026017032563686,0.027225874364376,0.065169773995876,0.084318891167641,-0.049532461911440,-0.029205795377493));
res += mul(Get(s1,-dx,dy), float4x4(-0.024592062458396,0.126059949398041,-0.131587445735931,-0.012348186224699,-0.034990765154362,-0.014062090776861,-0.089832238852978,-0.026277495548129,0.112795732915401,-0.106196284294128,-0.010635131038725,-0.020165458321571,0.040262442082167,0.104703009128571,-0.020832123234868,0.034943372011185));
res += mul(Get(s1,0,-dy), float4x4(0.119391299784184,0.063900075852871,0.110885612666607,0.036472294479609,-0.038281481713057,0.091926068067551,-0.149109616875648,0.097169503569603,-0.036243937909603,-0.027957422658801,0.150581836700439,0.086485251784325,-0.057995472103357,0.077415414154530,0.069972775876522,0.077561624348164));
res += mul(Get(s1,0,0), float4x4(0.157889544963837,0.088010884821415,-0.029957769438624,0.055786523967981,0.077576473355293,0.114781372249126,-0.178244188427925,0.088070116937160,-0.010058390907943,0.097047194838524,-0.079816125333309,0.115174889564514,-0.031247721984982,0.056247908622026,-0.003341908100992,-0.022775804623961));
res += mul(Get(s1,0,dy), float4x4(0.069639004766941,0.062523752450943,0.042115330696106,-0.019197104498744,0.037613984197378,0.076740682125092,-0.065897300839424,-0.039558108896017,0.113863267004490,-0.065042659640312,0.021249804645777,-0.021015044301748,-0.024518156424165,0.041304096579552,0.052198752760887,0.042814012616873));
res += mul(Get(s1,dx,-dy), float4x4(0.005884079728276,0.071314036846161,-0.082828164100647,-0.040390044450760,-0.249054193496704,-0.046309076249599,-0.023241605609655,-0.028788767755032,-0.041868668049574,0.080023862421513,0.030791601166129,0.049367789179087,0.119465023279190,0.051888171583414,0.011779939755797,-0.053214598447084));
res += mul(Get(s1,dx,0), float4x4(0.062014024704695,0.017958555370569,0.007130364421755,-0.029959611594677,-0.082923956215382,0.007496363483369,-0.134515479207039,-0.093208886682987,0.068385824561119,0.136790111660957,0.007565502077341,0.099651522934437,-0.015250852331519,0.131634548306465,0.010633638128638,-0.046146549284458));
res += mul(Get(s1,dx,dy), float4x4(-0.048871655017138,0.140351071953773,0.055501285940409,-0.018139105290174,-0.021847460418940,-0.033919077366590,-0.004617887549102,0.042110644280910,-0.030654972419143,0.016182357445359,0.062725536525249,0.001155446167104,-0.087343528866768,0.016106320545077,0.113030537962914,0.064288787543774));
res += mul(Get(s2,-dx,-dy), float4x4(-0.028053665533662,-0.162624999880791,0.087610468268394,-0.020423015579581,0.053357128053904,0.063751302659512,0.081122145056725,-0.195899650454521,-0.103160023689270,0.074177563190460,0.126478910446167,0.010477039963007,0.106993719935417,-0.172824621200562,-0.024989770725369,-0.013923371210694));
res += mul(Get(s2,-dx,0), float4x4(-0.053057380020618,-0.201038897037506,0.081190779805183,0.121463030576706,0.001245745923370,0.130444034934044,-0.023579688742757,-0.073746487498283,0.096886128187180,-0.041629873216152,0.160073578357697,-0.012272621504962,0.155066803097725,0.065324850380421,0.023131154477596,0.060939084738493));
res += mul(Get(s2,-dx,dy), float4x4(0.036521449685097,-0.076864913105965,0.011674339883029,-0.049683742225170,-0.041024446487427,0.006052797194570,0.028117023408413,0.015250366181135,-0.034532908350229,-0.044293034821749,0.242845609784126,0.048646904528141,0.016091888770461,0.057908851653337,0.043031889945269,-0.110236853361130));
res += mul(Get(s2,0,-dy), float4x4(-0.011065115220845,-0.153329193592072,0.005415243562311,-0.059011120349169,0.099882200360298,0.024883138015866,0.034930929541588,-0.117977723479271,-0.000470321974717,0.106544792652130,-0.031578674912453,0.094238758087158,-0.068263106048107,-0.122427687048912,0.064874649047852,-0.111491940915585));
res += mul(Get(s2,0,0), float4x4(-0.020325338467956,-0.065578885376453,-0.024819277226925,0.079556107521057,-0.014359473250806,0.088068328797817,-0.109391160309315,-0.072732552886009,-0.016079388558865,0.000307806883939,-0.077794291079044,0.009790863841772,0.042568985372782,0.056119538843632,0.122677624225616,0.106272317469120));
res += mul(Get(s2,0,dy), float4x4(-0.007671718019992,0.005027128383517,0.052928030490875,-0.065663211047649,-0.057811383157969,-0.023599585518241,-0.013042943552136,0.073290780186653,0.009015131741762,-0.076497726142406,0.115870676934719,-0.095878161489964,0.080996312201023,0.032992500811815,-0.060129199177027,-0.202416986227036));
res += mul(Get(s2,dx,-dy), float4x4(0.053586754947901,-0.089077457785606,-0.029351614415646,-0.009678442031145,-0.020092917606235,0.010942100547254,0.026608375832438,0.026064386591315,0.049752593040466,-0.031519711017609,-0.045673843473196,0.038640521466732,-0.097649186849594,-0.018910897895694,0.039653271436691,-0.009790361858904));
res += mul(Get(s2,dx,0), float4x4(0.023734012618661,-0.041238479316235,-0.070556327700615,-0.062133841216564,0.023401260375977,0.097906157374382,0.038134399801493,0.103217616677284,0.057976204901934,-0.020300772041082,0.012410180643201,0.107061579823494,-0.067118637263775,0.069010943174362,-0.059309389442205,0.055604469031096));
res += mul(Get(s2,dx,dy), float4x4(-0.055983439087868,-0.010227731429040,0.131321892142296,0.009474518708885,-0.080784223973751,0.012195754796267,0.063241541385651,-0.002948277862743,-0.046946633607149,-0.037769000977278,0.070476233959198,0.042071238160133,0.025427116081119,0.042398631572723,-0.125990226864815,0.011931856162846));
res += mul(Get(s3,-dx,-dy), float4x4(0.093582145869732,-0.052598398178816,-0.183927908539772,-0.043425559997559,0.099697604775429,-0.016338026151061,-0.049321535974741,-0.036791682243347,0.051626276224852,-0.079384997487068,0.055023778229952,0.029346430674195,-0.017606457695365,-0.060064278542995,-0.010605962015688,-0.095993556082249));
res += mul(Get(s3,-dx,0), float4x4(-0.063256785273552,-0.118359550833702,-0.098969660699368,-0.085624597966671,-0.045030400156975,0.053968280553818,-0.015319105237722,0.021838549524546,0.057822976261377,0.080448426306248,-0.019845457747579,-0.062819510698318,-0.065110743045807,0.007944479584694,0.002814959734678,0.037483301013708));
res += mul(Get(s3,-dx,dy), float4x4(0.084703229367733,-0.041171789169312,-0.140913814306259,0.032593611627817,-0.000333421077812,-0.086417712271214,-0.032431442290545,-0.020897110924125,0.091531351208687,-0.021754704415798,-0.056708995252848,-0.073536969721317,-0.000955913565122,-0.059766732156277,-0.024032555520535,0.056591093540192));
res += mul(Get(s3,0,-dy), float4x4(-0.029303841292858,-0.074025928974152,-0.063917286694050,0.053891312330961,0.005904627963901,0.088320888578892,0.208903193473816,0.132747575640678,-0.038813732564449,0.051303312182426,-0.072374895215034,0.040029719471931,-0.058495473116636,-0.058237235993147,-0.118620380759239,-0.031357616186142));
res += mul(Get(s3,0,0), float4x4(0.115070231258869,-0.043947782367468,0.034133311361074,0.044597063213587,0.016272136941552,0.155869588255882,0.089041084051132,0.030553855001926,0.049416761845350,0.025573672726750,-0.003978274762630,-0.000506524229422,-0.042298220098019,-0.055251851677895,-0.027496939525008,-0.013537816703320));
res += mul(Get(s3,0,dy), float4x4(0.152921661734581,0.069103576242924,0.116395093500614,-0.162163674831390,0.048034299165010,0.001354232546873,-0.011213776655495,-0.064793586730957,0.055129140615463,-0.155210614204407,-0.002366657834500,0.025166161358356,-0.000199720336241,-0.169380903244019,-0.007994949817657,-0.019150082021952));
res += mul(Get(s3,dx,-dy), float4x4(-0.053939163684845,0.030087076127529,0.076094456017017,-0.044826712459326,-0.052700698375702,0.009915881790221,0.243831649422646,0.034981589764357,0.028567306697369,0.055713288486004,0.063042186200619,0.050704404711723,-0.011021607555449,-0.037973355501890,0.056187003850937,-0.070378281176090));
res += mul(Get(s3,dx,0), float4x4(0.062527306377888,0.001957784406841,0.044190276414156,-0.025010248646140,0.066279165446758,0.080565363168716,0.123987667262554,0.050569485872984,0.045056026428938,-0.042862214148045,0.045434571802616,-0.059880975633860,-0.054527990520000,-0.052135035395622,-0.048884782940149,0.050777927041054));
res += mul(Get(s3,dx,dy), float4x4(0.071713171899319,-0.064602494239807,0.051364555954933,-0.029601795598865,0.040563121438026,-0.110937245190144,0.052758768200874,0.095529481768608,0.028716590255499,-0.089650020003319,0.121512509882450,0.074977681040764,-0.037482235580683,0.035848312079906,-0.062585718929768,0.127192392945290));
return max(float4(0,0,0,0), res);
}
