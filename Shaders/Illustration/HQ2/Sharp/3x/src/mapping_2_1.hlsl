sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.049201957881451,0.024956015869975,0.006290673278272,0.075790911912918,-0.075540445744991,0.017792761325836,0.010462908074260,0.089269094169140,-0.018200671300292,-0.023710811510682,-0.062667317688465,0.020040264353156,0.034174643456936,0.073868714272976,0.050148706883192,0.011535756289959));
res += mul(Get(s0,-dx,0), float4x4(-0.058254353702068,0.020710868760943,-0.081556938588619,-0.014303866773844,0.067576281726360,0.093189314007759,0.067585207521915,0.076840572059155,0.004542857408524,0.080139070749283,0.025481546297669,-0.029224086552858,0.050527848303318,0.089624769985676,-0.080371372401714,-0.063725881278515));
res += mul(Get(s0,-dx,dy), float4x4(0.057741887867451,-0.002003814093769,0.006522968411446,0.140845268964767,0.018580313771963,0.022081032395363,0.062601290643215,0.043877597898245,-0.029136460274458,-0.033931318670511,-0.063739992678165,-0.037743065506220,-0.022178079932928,0.005252009257674,-0.088574245572090,0.030038116499782));
res += mul(Get(s0,0,-dy), float4x4(0.025438582524657,-0.007198980078101,-0.041669744998217,0.052319001406431,0.076447650790215,-0.098701544106007,0.019497182220221,-0.101020164787769,-0.036962326616049,0.100434646010399,0.004765595775098,0.033054839819670,-0.016639782115817,-0.043864682316780,0.005262831691653,-0.027447706088424));
res += mul(Get(s0,0,0), float4x4(0.031930878758430,0.056960798799992,0.032926972955465,-0.155924692749977,-0.024650763720274,-0.071709789335728,0.076858043670654,0.059127893298864,-0.061968024820089,0.005102297756821,0.070978857576847,-0.050771165639162,-0.009601070545614,0.051370330154896,0.032772168517113,0.080049701035023));
res += mul(Get(s0,0,dy), float4x4(0.067041642963886,0.072813071310520,0.061779402196407,-0.022357504814863,0.006924625951797,0.009390656836331,-0.067591734230518,0.007519027218223,-0.019380232319236,0.038704864680767,-0.027637645602226,-0.019907215610147,0.007982573471963,0.035423394292593,-0.083155632019043,0.051924500614405));
res += mul(Get(s0,dx,-dy), float4x4(0.028969299048185,0.003460630076006,-0.091762416064739,-0.085045404732227,-0.000681598670781,0.132563903927803,-0.049943204969168,-0.051445823162794,0.005873950198293,0.113002508878708,-0.027500366792083,-0.075458802282810,0.026063619181514,-0.124509327113628,0.000229438999668,0.070536553859711));
res += mul(Get(s0,dx,0), float4x4(0.104590103030205,-0.030893519520760,-0.051010038703680,0.081384256482124,-0.099729463458061,-0.009596020914614,-0.048146162182093,-0.034613236784935,-0.023548899218440,-0.093529775738716,-0.066552318632603,-0.013799285516143,-0.075027316808701,0.022258402779698,0.043169103562832,0.005760606378317));
res += mul(Get(s0,dx,dy), float4x4(0.037518613040447,0.073564559221268,-0.096426762640476,-0.014112085103989,-0.099055804312229,0.002316102618352,-0.066006802022457,-0.014516006223857,-0.038259137421846,-0.058794979006052,0.002463290002197,0.035242870450020,-0.088348701596260,-0.015577580779791,0.031064176931977,0.000104106853541));
res += mul(Get(s1,-dx,-dy), float4x4(-0.014973989687860,0.005553497467190,0.044758174568415,-0.002799319103360,-0.052325997501612,0.086410738527775,0.068018458783627,0.010608182288706,0.038912136107683,0.033448126167059,0.004583131521940,0.019831312820315,0.111225612461567,-0.039551131427288,0.053913794457912,0.070790283381939));
res += mul(Get(s1,-dx,0), float4x4(-0.098504625260830,-0.008615277707577,0.017254145815969,0.065567724406719,-0.030325822532177,0.060099426656961,0.005631328094751,-0.021926490589976,0.022323260083795,-0.012296253815293,0.122027628123760,-0.014394628815353,-0.045904703438282,-0.042920313775539,0.016092203557491,-0.016854248940945));
res += mul(Get(s1,-dx,dy), float4x4(0.013051508925855,0.070140957832336,0.088493138551712,-0.056418899446726,-0.019008846953511,-0.010147973895073,-0.106359101831913,0.035320509225130,-0.101912029087543,0.047228794544935,0.070874951779842,0.013152897357941,-0.071471683681011,0.052694238722324,0.056107942014933,-0.035323683172464));
res += mul(Get(s1,0,-dy), float4x4(0.028276305645704,-0.008346629329026,0.012632791884243,-0.075138121843338,-0.038225833326578,-0.029215190559626,0.033522114157677,0.071703054010868,0.067213691771030,0.178413599729538,0.063375554978848,-0.016854889690876,-0.002137097762898,-0.072061978280544,0.039782915264368,0.006222182884812));
res += mul(Get(s1,0,0), float4x4(0.061817288398743,0.019086528569460,0.032738953828812,0.106266520917416,0.049391433596611,0.007125592324883,-0.022736091166735,0.036683823913336,-0.026961579918861,0.130527064204216,-0.013908469118178,0.029957108199596,-0.008974020369351,0.005202484317124,0.079742290079594,-0.026974711567163));
res += mul(Get(s1,0,dy), float4x4(-0.102066911756992,0.081055194139481,0.093047492206097,-0.017347594723105,-0.033814162015915,0.034406341612339,0.096578828990459,-0.091839052736759,-0.020377386361361,-0.057723309844732,-0.013513086363673,-0.017870198935270,0.093697525560856,-0.006526873912662,0.092834278941154,0.018795153126121));
res += mul(Get(s1,dx,-dy), float4x4(-0.003593151457608,-0.137913644313812,-0.025171063840389,-0.007001857273281,-0.121153950691223,-0.011286629363894,0.050498593598604,-0.051055241376162,-0.107239961624146,-0.061175115406513,-0.019743449985981,0.010923550464213,0.017168186604977,0.030478464439511,0.007195410784334,0.021950593218207));
res += mul(Get(s1,dx,0), float4x4(-0.021406838670373,-0.106471262872219,0.073637455701828,-0.000200158014195,-0.003963757771999,0.015428896062076,-0.015645112842321,0.013212500140071,-0.059936676174402,-0.045651324093342,0.036617103964090,0.094452582299709,0.076902240514755,0.050203938037157,0.001675717532635,-0.028005219995975));
res += mul(Get(s1,dx,dy), float4x4(-0.071637704968452,0.055470928549767,0.068780295550823,-0.058998901396990,-0.085172876715660,-0.026992402970791,-0.020733302459121,0.038522809743881,0.045862961560488,0.011189170181751,-0.010271921753883,0.052191123366356,-0.011906338855624,-0.073760636150837,0.015435397624969,0.079582519829273));
res += mul(Get(s2,-dx,-dy), float4x4(-0.044164504855871,-0.101796559989452,-0.052017793059349,-0.003109250916168,-0.170951649546623,-0.116867080330849,0.018814427778125,-0.000242341440753,0.055327534675598,0.082662567496300,-0.043094217777252,0.010661269538105,0.048892494291067,0.031874600797892,-0.007194953039289,-0.023290952667594));
res += mul(Get(s2,-dx,0), float4x4(-0.033819001168013,0.105383075773716,-0.060983303934336,-0.033087186515331,0.002222244627774,-0.182235136628151,0.118112869560719,-0.015745507553220,-0.010583876632154,0.038542725145817,0.044147990643978,-0.062763996422291,0.026611786335707,0.023409336805344,-0.114808917045593,-0.065306119620800));
res += mul(Get(s2,-dx,dy), float4x4(0.044602211564779,-0.034404337406158,0.033633850514889,0.036560464650393,-0.075161449611187,-0.148370802402496,-0.034540265798569,-0.030149919912219,0.073355190455914,-0.023917727172375,0.017565743997693,0.061664748936892,-0.028962638229132,-0.033214181661606,0.069418936967850,-0.024821972474456));
res += mul(Get(s2,0,-dy), float4x4(0.102986983954906,-0.014472884126008,-0.028164209797978,0.002377270488068,0.185936778783798,0.062324929982424,0.034728087484837,0.095421180129051,-0.124321117997169,0.023287689313293,0.006658286321908,0.014676285907626,-0.016156189143658,-0.034586466848850,0.028972780331969,0.097240157425404));
res += mul(Get(s2,0,0), float4x4(-0.041647978127003,0.016620172187686,0.023788832128048,-0.150286540389061,0.065530851483345,-0.016812046989799,0.048333596438169,0.043896924704313,-0.004377216566354,-0.000057356468460,0.012287699617445,-0.017678357660770,-0.070145562291145,0.018167128786445,0.000962287129369,-0.011493163183331));
res += mul(Get(s2,0,dy), float4x4(0.114005990326405,-0.099298104643822,0.046878278255463,-0.070318862795830,0.000070187496021,0.066136106848717,-0.130016371607780,0.065361022949219,-0.008004128932953,0.075495213270187,-0.020842432975769,-0.084735833108425,0.070730455219746,0.155377075076103,0.018481550738215,-0.003376287873834));
res += mul(Get(s2,dx,-dy), float4x4(0.119192078709602,0.051798343658447,-0.078331030905247,0.095168538391590,0.210332378745079,-0.116206526756287,0.058486144989729,-0.144680023193359,0.007463803049177,0.005692870356143,-0.052821554243565,-0.032094184309244,-0.097300179302692,-0.007949169725180,0.089117459952831,-0.016037149354815));
res += mul(Get(s2,dx,0), float4x4(-0.063778266310692,0.067893452942371,-0.065309837460518,-0.193113267421722,-0.018485678359866,-0.109088227152824,0.033628169447184,-0.035130716860294,0.059292387217283,0.121942251920700,0.053124401718378,-0.022381551563740,0.034180555492640,0.020517623052001,0.094647526741028,0.064855247735977));
res += mul(Get(s2,dx,dy), float4x4(0.079216837882996,-0.116718783974648,-0.023873051628470,-0.012813403271139,-0.079001635313034,-0.096616178750992,-0.231345176696777,0.020621521398425,-0.035141602158546,-0.045789740979671,0.052581161260605,0.056466087698936,-0.031419120728970,-0.001315463567153,0.044094424694777,0.043749470263720));
res += mul(Get(s3,-dx,-dy), float4x4(-0.178799763321877,-0.019600523635745,-0.006811630446464,-0.051738929003477,-0.078058250248432,-0.085711173713207,0.052842602133751,-0.034357052296400,0.014079524204135,-0.046690862625837,0.033443983644247,-0.064623154699802,-0.026696860790253,0.067910082638264,-0.102768033742905,-0.056153737008572));
res += mul(Get(s3,-dx,0), float4x4(0.041049487888813,-0.139089867472649,0.017118206247687,0.057646822184324,-0.044168278574944,-0.109514355659485,0.080254793167114,-0.012227330356836,-0.071635238826275,-0.024351622909307,0.036460552364588,-0.095820091664791,0.020777923986316,-0.062305822968483,0.009820027276874,0.023734185844660));
res += mul(Get(s3,-dx,dy), float4x4(-0.055947702378035,-0.023825112730265,-0.055845994502306,0.018759008497000,-0.096169687807560,-0.131696492433548,0.040863052010536,0.187382191419601,0.007136726751924,0.022266915068030,0.035216584801674,-0.037215899676085,-0.087278306484222,-0.020079722627997,0.048047874122858,0.072857536375523));
res += mul(Get(s3,0,-dy), float4x4(0.111974589526653,0.007403054274619,-0.104846790432930,-0.005731072742492,0.158993527293205,-0.035966232419014,-0.116579197347164,0.063268929719925,-0.027111595496535,-0.039868693798780,-0.080611817538738,0.103193148970604,-0.090562246739864,-0.018173879012465,-0.028520422056317,0.054902654141188));
res += mul(Get(s3,0,0), float4x4(-0.134396910667419,0.068652175366879,-0.016388248652220,0.115498848259449,-0.027352584525943,0.049891293048859,0.105013780295849,-0.031547356396914,0.099733605980873,0.243708372116089,0.020284768193960,0.000396800343879,0.100835472345352,0.004496517125517,0.250693827867508,0.090011171996593));
res += mul(Get(s3,0,dy), float4x4(-0.108500301837921,0.022328708320856,-0.162073239684105,-0.026426346972585,0.112813532352448,0.006137229967862,-0.069235980510712,0.000365268700989,0.024397339671850,0.072244383394718,-0.044299133121967,-0.012497149407864,-0.020385632291436,0.067346282303333,-0.017013875767589,0.104764334857464));
res += mul(Get(s3,dx,-dy), float4x4(0.176353022456169,-0.016014060005546,0.039489436894655,-0.173483848571777,-0.003962311893702,-0.190095752477646,-0.000914313597605,0.049688443541527,0.103486306965351,-0.042345136404037,-0.018374966457486,-0.035962279886007,0.064975991845131,0.011435458436608,0.000760104623623,0.054410934448242));
res += mul(Get(s3,dx,0), float4x4(0.000866887276061,-0.105892859399319,0.043741237372160,0.069348499178886,-0.021037701517344,-0.115716367959976,0.024235254153609,0.032302033156157,-0.046914879232645,0.101910948753357,-0.028921280056238,-0.005105488002300,-0.024559188634157,-0.095208205282688,0.072144150733948,-0.104148484766483));
res += mul(Get(s3,dx,dy), float4x4(-0.119411505758762,-0.058174230158329,0.044436465948820,0.114287860691547,0.164314478635788,-0.060132410377264,-0.055399823933840,0.026257215067744,0.032736577093601,0.033644169569016,0.008197749033570,0.021740544587374,-0.009682320989668,-0.038556501269341,0.027891607955098,0.063090853393078));
return max(float4(0,0,0,0), res);
}
