sampler s0 : register(s0);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(x, y)   tex2D(s0, tex + float2(x, y))[0]

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += float4(-0.053794208914042,0.070990450680256,-0.073217399418354,-0.055273298174143) * Get(-dx,-dy);
res += float4(0.097126856446266,-0.079590499401093,-0.251818537712097,-0.069486908614635) * Get(-dx,0);
res += float4(-0.136079236865044,-0.048003669828176,-0.015830103307962,0.086247615516186) * Get(-dx,dy);
res += float4(0.001747834729031,0.310182541608810,0.033585205674171,-0.127424195408821) * Get(0,-dy);
res += float4(0.175758779048920,-0.242265656590462,0.091646403074265,-0.042223725467920) * Get(0,0);
res += float4(-0.087766684591770,0.098428085446358,-0.072547182440758,-0.008633106946945) * Get(0,dy);
res += float4(-0.167180299758911,-0.032196722924709,-0.010458297096193,0.090024255216122) * Get(dx,-dy);
res += float4(0.056354686617851,0.047897472977638,0.143957644701004,0.065380915999413) * Get(dx,0);
res += float4(-0.188732072710991,-0.022076861932874,0.061894129961729,-0.094014726579189) * Get(dx,dy);
return max(float4(0,0,0,0), res);
}
