sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.019144175574183,-0.086052067577839,-0.117632448673248,0.010257085785270,-0.047565959393978,0.012225495651364,-0.039840046316385,0.045830529183149,-0.143923088908195,-0.026569249108434,-0.217391327023506,-0.133550539612770,-0.008335717022419,-0.022973151877522,-0.098740428686142,0.106885075569153));
res += mul(Get(s0,-dx,0), float4x4(0.058580771088600,0.032576937228441,-0.071059390902519,0.074110485613346,-0.032342284917831,0.014675860293210,-0.028216732665896,0.032091278582811,-0.029896764084697,0.027618033811450,-0.061505414545536,-0.092415586113930,0.085649758577347,-0.018177332356572,-0.003059662180021,0.147080525755882));
res += mul(Get(s0,-dx,dy), float4x4(0.043157320469618,0.058059856295586,0.025657730177045,0.133867010474205,-0.038393475115299,-0.007806478999555,0.074272848665714,-0.017444754019380,-0.094211518764496,0.142506271600723,-0.086244754493237,0.156253278255463,-0.138409972190857,-0.015481398440897,-0.159978747367859,0.205457985401154));
res += mul(Get(s0,0,-dy), float4x4(0.014193168841302,-0.018305782228708,-0.062000740319490,0.029273664578795,0.065550699830055,0.013500585220754,0.005894573871046,0.017750507220626,0.012929025106132,-0.046649504452944,-0.078681319952011,0.036130275577307,0.006531367078424,0.036794502288103,0.021317992359400,0.055073287338018));
res += mul(Get(s0,0,0), float4x4(0.003144363872707,0.012954879552126,0.059124164283276,-0.096823148429394,-0.003490652423352,-0.053558472543955,-0.003479377599433,0.032475899904966,-0.004992887843400,0.040929108858109,0.014670484699309,-0.088836990296841,0.192132413387299,-0.079594567418098,-0.059224210679531,-0.015675922855735));
res += mul(Get(s0,0,dy), float4x4(0.043476924300194,0.005473983008415,-0.003848686814308,0.026954220607877,0.014126902446151,0.075918272137642,0.017708167433739,0.000001103573595,-0.008712530136108,0.132651209831238,0.073567084968090,0.063633531332016,-0.000963804253843,-0.008403588086367,-0.153654128313065,0.149407148361206));
res += mul(Get(s0,dx,-dy), float4x4(-0.000508975354023,-0.044842191040516,0.002988559892401,-0.034447740763426,0.022739637643099,-0.027413364499807,0.021356046199799,0.006000415887684,-0.021331626921892,0.013881970196962,-0.004594435915351,-0.095946937799454,-0.032132543623447,0.039430402219296,-0.004794332664460,0.097277745604515));
res += mul(Get(s0,dx,0), float4x4(0.006149199325591,-0.054328855127096,0.025149103254080,0.002528438577428,0.022934693843126,-0.047905862331390,-0.033072054386139,0.003156245220453,-0.050077632069588,-0.036297354847193,-0.006842144299299,-0.084096968173981,0.080167539417744,-0.125248447060585,-0.044283889234066,0.008256073109806));
res += mul(Get(s0,dx,dy), float4x4(0.047697603702545,-0.047922529280186,-0.020666306838393,-0.023433778434992,0.005805283784866,0.013444166630507,0.040762688964605,0.000786130258348,-0.067407958209515,-0.078018188476563,-0.001339059555903,-0.011427802033722,0.092156663537025,0.077854238450527,0.028532668948174,0.025418279692531));
res += mul(Get(s1,-dx,-dy), float4x4(0.049273435026407,0.036598801612854,-0.168799057602882,0.071142174303532,0.033871177583933,0.017512215301394,0.123806811869144,-0.006975559517741,0.063909947872162,-0.024608641862869,0.008759204298258,0.099496565759182,0.007812371477485,-0.047828264534473,-0.041822217404842,0.053736962378025));
res += mul(Get(s1,-dx,0), float4x4(0.060959324240685,0.093656457960606,-0.023067995905876,0.115269817411900,0.215142771601677,0.048186093568802,0.218134313821793,-0.052691619843245,-0.020106822252274,-0.069301836192608,-0.005295088514686,0.069510780274868,-0.085793659090996,0.058241002261639,-0.044318985193968,0.078576646745205));
res += mul(Get(s1,-dx,dy), float4x4(0.049952082335949,0.067683383822441,0.100367166101933,0.126804754137993,0.005779843311757,0.080637618899345,-0.018526682630181,0.029025768861175,0.104487709701061,-0.057052999734879,-0.045417573302984,-0.053131245076656,-0.070907443761826,-0.002793614752591,-0.024379726499319,-0.029456257820129));
res += mul(Get(s1,0,-dy), float4x4(0.020183332264423,0.090361103415489,-0.158509075641632,0.089497365057468,-0.011664482764900,-0.035266019403934,0.181624785065651,-0.040202755481005,0.026644345372915,-0.052581880241632,-0.014078695327044,-0.020708154886961,-0.004121412523091,-0.034977257251740,-0.047600992023945,0.057374026626348));
res += mul(Get(s1,0,0), float4x4(0.001255330396816,0.140627130866051,0.019767899066210,0.113047532737255,0.078098639845848,-0.076444521546364,0.088203035295010,-0.146272927522659,0.021619955077767,0.063643030822277,-0.029218643903732,0.063919916749001,-0.049845248460770,0.135129302740097,0.024075608700514,0.034852914512157));
res += mul(Get(s1,0,dy), float4x4(0.127316042780876,0.119008399546146,0.103720046579838,-0.021106939762831,-0.006897475570440,0.114388696849346,0.057975701987743,0.048639934509993,0.072258844971657,-0.055188752710819,0.047344617545605,-0.000434709596448,0.008297312073410,0.036074399948120,0.006630504969507,-0.072588019073009));
res += mul(Get(s1,dx,-dy), float4x4(-0.043021664023399,-0.090364135801792,-0.166952699422836,0.108952894806862,0.033035375177860,-0.021183531731367,0.048922605812550,0.015160818584263,-0.000909827474970,0.042503960430622,-0.010598539374769,-0.048875126987696,-0.028369124978781,-0.029167268425226,0.040827468037605,0.080673158168793));
res += mul(Get(s1,dx,0), float4x4(-0.058839410543442,-0.024383483454585,0.011343207210302,0.152402892708778,-0.077773824334145,-0.090134739875793,-0.055795706808567,0.136648669838905,-0.000578783510718,-0.069695025682449,0.032094359397888,-0.041482761502266,-0.117533512413502,0.129587247967720,0.058233607560396,-0.017626849934459));
res += mul(Get(s1,dx,dy), float4x4(-0.022968640550971,-0.069764010608196,-0.092001356184483,0.063307359814644,-0.050126172602177,0.104854345321655,-0.036513138562441,0.098761588335037,0.026150086894631,-0.076861962676048,-0.035502605140209,-0.074815087020397,0.030153298750520,0.006466689519584,0.032091487199068,-0.029282955452800));
res += mul(Get(s2,-dx,-dy), float4x4(-0.017525417730212,-0.017795776948333,-0.062085594981909,-0.065095186233521,0.056665465235710,0.031901761889458,0.036920920014381,0.026499023661017,-0.131133094429970,-0.080239415168762,-0.079970575869083,0.080154076218605,-0.089057333767414,-0.073231123387814,-0.035588964819908,0.070432387292385));
res += mul(Get(s2,-dx,0), float4x4(-0.079895406961441,0.027620948851109,-0.057310372591019,0.003517580451444,0.010375687852502,0.004310314077884,0.020651018247008,0.038925342261791,0.028972126543522,0.081490352749825,0.029323924332857,-0.034344740211964,-0.107048787176609,0.061390027403831,-0.100013092160225,0.146790176630020));
res += mul(Get(s2,-dx,dy), float4x4(-0.111619584262371,0.201854065060616,-0.012472627684474,-0.081664137542248,-0.010515248402953,0.042161472141743,-0.051830366253853,0.052219048142433,0.083033964037895,-0.115609586238861,0.033144962042570,-0.164710089564323,0.040106426924467,0.057134572416544,-0.040297746658325,0.004099289886653));
res += mul(Get(s2,0,-dy), float4x4(0.008383332751691,-0.028827743604779,-0.065260626375675,-0.014728187583387,-0.007355412933975,-0.090505465865135,0.084715336561203,-0.027017382904887,-0.061368316411972,0.164857432246208,-0.155489206314087,0.293303042650223,-0.070223659276962,-0.045174259692430,-0.065216667950153,0.087733991444111));
res += mul(Get(s2,0,0), float4x4(-0.025798223912716,0.122902967035770,-0.011897979304194,-0.026235902681947,-0.061405897140503,-0.041887208819389,-0.072064787149429,-0.039859514683485,0.013925509527326,0.321377843618393,0.125571772456169,0.145388484001160,0.016522657126188,0.200065597891808,0.063789099454880,0.104483321309090));
res += mul(Get(s2,0,dy), float4x4(-0.004328342620283,0.150582522153854,0.093498528003693,-0.046491131186485,0.022676257416606,0.045553952455521,0.000550711934920,-0.005069962237030,0.019885489717126,-0.029836054891348,-0.087891548871994,-0.049171239137650,0.002968631684780,0.124126181006432,0.017421670258045,0.094600848853588));
res += mul(Get(s2,dx,-dy), float4x4(-0.022386707365513,0.074400588870049,0.038166932761669,-0.089271247386932,0.008580227382481,-0.046319987624884,0.016802344471216,-0.031574338674545,0.060231789946556,0.001769635942765,-0.063593611121178,0.076908893883228,0.021805422380567,-0.043825600296259,-0.009823758155107,0.125018388032913));
res += mul(Get(s2,dx,0), float4x4(-0.032077476382256,0.105163216590881,0.083207063376904,-0.001331008970737,-0.044579852372408,-0.049417845904827,-0.033564653247595,-0.017355224117637,0.046245865523815,0.049108747392893,0.033490810543299,0.072615191340446,0.092542842030525,0.035354468971491,0.065027229487896,-0.030147539451718));
res += mul(Get(s2,dx,dy), float4x4(-0.051250893622637,0.075025938451290,-0.017957970499992,-0.012165438383818,0.004891009535640,-0.005504505708814,-0.059320665895939,-0.086436800658703,0.008069751784205,0.077292099595070,-0.054629258811474,-0.012360646389425,-0.034305825829506,0.089659139513969,-0.032637741416693,-0.002512736711651));
res += mul(Get(s3,-dx,-dy), float4x4(0.150827631354332,0.098578974604607,-0.006782460026443,-0.120639242231846,-0.030755251646042,0.065828710794449,0.040822345763445,0.001490215654485,0.113629847764969,-0.053553715348244,0.032811474055052,-0.143765762448311,0.070436969399452,-0.051308073103428,-0.067503273487091,0.015517450869083));
res += mul(Get(s3,-dx,0), float4x4(0.016594268381596,0.079465873539448,0.204002618789673,-0.138799488544464,0.073160558938980,-0.089754320681095,0.178310722112656,-0.078482985496521,-0.086071513593197,-0.046516861766577,-0.031350720673800,-0.025539785623550,-0.030578065663576,0.013805329799652,-0.049426715821028,0.089202001690865));
res += mul(Get(s3,-dx,dy), float4x4(0.138315692543983,-0.082469925284386,0.132155746221542,-0.182597622275352,-0.021036280319095,0.033057630062103,-0.053068645298481,-0.093535207211971,0.076673969626427,0.066546782851219,0.015921907499433,-0.049278847873211,-0.071363583207130,0.022048575803638,-0.043791729956865,0.109646305441856));
res += mul(Get(s3,0,-dy), float4x4(-0.079568892717361,-0.053835380822420,0.093772917985916,-0.035669174045324,-0.021050201728940,0.116589315235615,-0.012507610023022,0.103603340685368,0.093793667852879,0.025218183174729,0.045942462980747,-0.021305797621608,0.045431658625603,-0.081004068255424,-0.002432266250253,-0.024811752140522));
res += mul(Get(s3,0,0), float4x4(-0.072893433272839,-0.183097526431084,0.115923203527927,-0.073830768465996,0.059390082955360,0.086965419352055,0.041237417608500,0.020853525027633,-0.029015239328146,0.083995625376701,-0.009794030338526,0.129154577851295,0.215557157993317,-0.013168996199965,0.109517462551594,-0.152121827006340));
res += mul(Get(s3,0,dy), float4x4(0.003936215769500,-0.216439023613930,-0.069514177739620,-0.261379987001419,0.102258153259754,0.139771148562431,0.013615649193525,-0.000681542383973,-0.043263461440802,0.020818552002311,-0.020816672593355,0.009199302643538,0.094572223722935,0.090366922318935,0.067028351128101,-0.009925871156156));
res += mul(Get(s3,dx,-dy), float4x4(-0.028220880776644,-0.106506556272507,0.059444218873978,-0.041929002851248,0.113074004650116,0.128821611404419,0.008657870814204,0.007335298229009,0.050014145672321,-0.055971376597881,0.037165466696024,-0.048413444310427,-0.029082175344229,-0.090081691741943,-0.013624756596982,0.075679473578930));
res += mul(Get(s3,dx,0), float4x4(-0.056991197168827,-0.235144600272179,0.040444768965244,0.010950216092169,0.141248866915703,0.186524972319603,0.205720737576485,0.056846007704735,0.075602062046528,0.026530386880040,0.059646993875504,0.062531411647797,0.064499452710152,-0.066266849637032,0.093323752284050,-0.050910480320454));
res += mul(Get(s3,dx,dy), float4x4(0.011282414197922,-0.181184917688370,-0.143323481082916,-0.017649879679084,0.111585415899754,0.224335715174675,0.075693137943745,-0.065528310835361,0.019372262060642,-0.012048698961735,-0.009867067448795,-0.030599560588598,0.104827813804150,-0.068927638232708,0.026951875537634,0.004662706516683));
return max(float4(0,0,0,0), res);
}
