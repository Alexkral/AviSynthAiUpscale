sampler s0 : register(s0);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(x, y)   tex2D(s0, tex + float2(x, y))[0]

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += float4(-0.144094347953796,-0.031996585428715,-0.050984252244234,-0.093186736106873) * Get(-dx,-dy);
res += float4(-0.075024284422398,0.124950915575027,-0.119889833033085,0.054715149104595) * Get(-dx,0);
res += float4(-0.007296069990844,-0.138697504997253,0.083952717483044,-0.061148568987846) * Get(-dx,dy);
res += float4(0.190432533621788,-0.098120220005512,-0.140465483069420,0.050453536212444) * Get(0,-dy);
res += float4(0.230763733386993,0.000777020701207,0.104263752698898,-0.222584828734398) * Get(0,0);
res += float4(-0.125255078077316,0.252263665199280,-0.001976460451260,-0.125868052244186) * Get(0,dy);
res += float4(-0.193607613444328,-0.149282157421112,-0.184719339013100,0.082140177488327) * Get(dx,-dy);
res += float4(0.081268817186356,0.186309337615967,0.026595825329423,0.187829673290253) * Get(dx,0);
res += float4(-0.102197431027889,-0.217542022466660,0.173679307103157,0.257740050554276) * Get(dx,dy);
return max(float4(0,0,0,0), res);
}
