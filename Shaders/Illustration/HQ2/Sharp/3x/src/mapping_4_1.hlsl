sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.022082069888711,0.075436115264893,0.073285132646561,0.056079778820276,-0.036405388265848,-0.015875358134508,-0.003778165206313,0.082237213850021,-0.084634542465210,0.114072047173977,0.026914985850453,-0.017023971304297,-0.017390798777342,-0.048488661646843,-0.005554025992751,0.052926659584045));
res += mul(Get(s0,-dx,0), float4x4(-0.047576159238815,-0.003521740669385,-0.071903377771378,-0.000172203013790,0.023278966546059,-0.035992506891489,-0.095110543072224,-0.036894034594297,-0.106195725500584,-0.025432169437408,-0.081740580499172,-0.132258281111717,0.009859586134553,-0.021539444103837,-0.032655626535416,0.024914689362049));
res += mul(Get(s0,-dx,dy), float4x4(0.115848928689957,-0.053283590823412,0.024122899398208,0.055608693510294,-0.035633724182844,0.035654228180647,0.121113196015358,0.124553360044956,0.023239657282829,-0.136463373899460,0.168378025293350,0.008146222680807,-0.047865051776171,0.040796708315611,0.061232239007950,0.040864702314138));
res += mul(Get(s0,0,-dy), float4x4(-0.110682614147663,0.068036720156670,-0.067272968590260,-0.004014529287815,0.051037449389696,0.033227380365133,0.263627499341965,-0.042728651314974,-0.080575481057167,0.060264438390732,0.059746719896793,0.108489319682121,-0.045585874468088,0.007671345956624,-0.028052372857928,0.050993531942368));
res += mul(Get(s0,0,0), float4x4(0.097146973013878,-0.085393786430359,-0.026653803884983,0.127014636993408,-0.003344816388562,-0.012447010725737,0.016577024012804,0.021345429122448,0.155291482806206,0.027488887310028,-0.042911872267723,-0.085600458085537,0.091476224362850,-0.008886760100722,-0.018335066735744,-0.039443753659725));
res += mul(Get(s0,0,dy), float4x4(0.134324893355370,0.000189843296539,-0.036071494221687,0.143910259008408,0.006909701507539,-0.009011569432914,0.017749700695276,-0.057710617780685,0.021866548806429,0.032548449933529,0.005417065694928,0.088051460683346,-0.041105173528194,0.026550697162747,0.089851588010788,-0.048139631748199));
res += mul(Get(s0,dx,-dy), float4x4(0.061873555183411,-0.093856438994408,-0.138628661632538,-0.130986198782921,0.033652439713478,-0.050473242998123,0.010512308217585,-0.126628264784813,-0.054782498627901,-0.007549250032753,0.007546588312835,0.005213131662458,0.007846885360777,-0.028121344745159,-0.025814712047577,-0.037092063575983));
res += mul(Get(s0,dx,0), float4x4(0.092255108058453,0.093349851667881,-0.059162236750126,-0.044291909784079,-0.040553759783506,-0.082460597157478,0.099429354071617,0.068367399275303,0.171576067805290,0.037799958139658,0.013532361015677,-0.099541217088699,-0.018689695745707,0.017824305221438,-0.021311188116670,0.028609408065677));
res += mul(Get(s0,dx,dy), float4x4(0.014906928874552,0.167310625314713,0.025726919993758,-0.168279632925987,-0.000715716800187,-0.000421139382524,0.085882462561131,-0.086568094789982,-0.092308335006237,-0.052344124764204,0.029859626665711,-0.020291926339269,-0.078189782798290,0.036930005997419,0.000090379617177,-0.013130472972989));
res += mul(Get(s1,-dx,-dy), float4x4(-0.064917147159576,0.084937147796154,-0.081264384090900,0.031829766929150,-0.004479947499931,-0.002743297256529,-0.129431426525116,0.050172865390778,-0.055522114038467,0.013528901152313,-0.010235120542347,0.016199907287955,0.000109079890535,-0.017678041011095,-0.070404708385468,0.022430196404457));
res += mul(Get(s1,-dx,0), float4x4(0.013745714910328,-0.050256099551916,-0.082520790398121,0.027857739478350,0.037685528397560,-0.019896550104022,0.065670877695084,0.023024342954159,0.068357713520527,0.055091429501772,-0.119993656873703,-0.049400191754103,-0.013618678785861,-0.050658207386732,0.067670397460461,-0.098465099930763));
res += mul(Get(s1,-dx,dy), float4x4(-0.174250572919846,-0.033399131149054,0.167483448982239,0.156436309218407,0.097792677581310,0.038995720446110,-0.031269676983356,-0.033991325646639,0.027063455432653,0.021026903763413,-0.026427375152707,0.059710782021284,0.043154735118151,0.011142534203827,-0.001520156743936,0.005455516278744));
res += mul(Get(s1,0,-dy), float4x4(-0.044873040169477,0.011832668446004,0.132178857922554,-0.083766058087349,0.005347757600248,-0.020926553755999,0.024657502770424,-0.051651638001204,0.012452651746571,0.037950377911329,-0.010902517475188,-0.021997850388288,0.032528422772884,0.032410781830549,0.013166054151952,-0.053097985684872));
res += mul(Get(s1,0,0), float4x4(0.035800386220217,-0.050881374627352,-0.136756062507629,-0.051641166210175,0.039144240319729,-0.031839340925217,0.100786596536636,0.096336051821709,0.064786843955517,0.031463332474232,0.084059990942478,-0.011731002479792,-0.037532016634941,-0.058528397232294,-0.005591072607785,0.031618561595678));
res += mul(Get(s1,0,dy), float4x4(0.020848678424954,-0.004173414781690,0.037900757044554,0.090824544429779,-0.023130778223276,-0.014452747069299,0.102554149925709,-0.038366027176380,-0.017404071986675,0.110120795667171,0.057337164878845,0.024329269304872,0.026562144979835,0.065042361617088,0.041713945567608,0.052111167460680));
res += mul(Get(s1,dx,-dy), float4x4(-0.008476190268993,-0.123571991920471,-0.116713196039200,-0.029838515445590,0.187759667634964,-0.033961486071348,-0.049088377505541,0.150385543704033,-0.056834369897842,-0.064480923116207,-0.003342416603118,0.029657529667020,0.055362734943628,0.032888490706682,-0.037040565162897,0.093099974095821));
res += mul(Get(s1,dx,0), float4x4(-0.032914586365223,-0.031832098960876,-0.121092878282070,0.030770234763622,0.245858117938042,0.034216519445181,-0.058486346155405,-0.016507612541318,0.164416179060936,0.038774237036705,0.061843533068895,-0.145044684410095,-0.093172542750835,0.001303931348957,-0.034311618655920,-0.026508267968893));
res += mul(Get(s1,dx,dy), float4x4(-0.041079256683588,-0.112592965364456,0.185801863670349,-0.032782677561045,0.113514050841331,-0.022781210020185,0.022590398788452,0.010599254630506,0.003265469102189,0.015745325013995,0.039616364985704,0.020907863974571,-0.027128601446748,0.032839108258486,-0.033071547746658,0.020798791199923));
res += mul(Get(s2,-dx,-dy), float4x4(0.103140637278557,0.063332915306091,0.049147468060255,0.072124831378460,0.016511965543032,-0.047300208359957,-0.071429222822189,0.129331067204475,0.021173991262913,-0.077154457569122,0.009095060639083,0.003187347669154,0.043239112943411,0.036795061081648,0.021386686712503,-0.017692906782031));
res += mul(Get(s2,-dx,0), float4x4(-0.041974756866693,0.046633221209049,-0.030671657994390,-0.001821097801439,0.042870346456766,0.092462576925755,0.093507446348667,0.046910680830479,-0.022108349949121,0.027100186794996,0.093660525977612,0.016810663044453,0.038026761263609,-0.068243801593781,0.070941671729088,0.010754561983049));
res += mul(Get(s2,-dx,dy), float4x4(-0.016609562560916,0.004493130836636,0.046083986759186,-0.009065612219274,-0.017962524667382,0.041511438786983,-0.058562047779560,0.052907086908817,-0.084549129009247,0.074705943465233,-0.000560331449378,-0.098714970052242,0.158290743827820,0.033041827380657,-0.026693876832724,-0.092599138617516));
res += mul(Get(s2,0,-dy), float4x4(-0.039760239422321,-0.066102378070354,-0.017852181568742,0.030621942132711,0.040909063071012,0.139122590422630,-0.073989972472191,0.097657673060894,-0.008352458477020,0.045299872756004,-0.054762847721577,0.027127444744110,-0.045738585293293,0.015378815121949,-0.015902936458588,0.040028575807810));
res += mul(Get(s2,0,0), float4x4(-0.045888584107161,-0.017777496948838,0.014570226892829,0.018987961113453,0.014914393424988,-0.031383201479912,0.013258856721222,0.066434599459171,-0.003993840888143,-0.133706435561180,0.103631012141705,0.006901415530592,0.117244854569435,-0.051099877804518,-0.024360716342926,0.041767586022615));
res += mul(Get(s2,0,dy), float4x4(-0.080576449632645,0.102474547922611,-0.068657562136650,0.153677344322205,0.019959388300776,-0.037297282367945,0.099051691591740,-0.023385187610984,-0.016767784953117,0.105539672076702,0.082189798355103,-0.081989012658596,-0.036941498517990,-0.016392437741160,-0.006844262126833,-0.081602834165096));
res += mul(Get(s2,dx,-dy), float4x4(0.030866894870996,0.001394593506120,0.084446474909782,0.062480852007866,0.011407723650336,-0.029030727222562,0.012156476266682,0.048264332115650,-0.002942383056507,0.046191222965717,0.049915477633476,-0.113956257700920,0.035064872354269,-0.028617940843105,-0.103561356663704,-0.009762905538082));
res += mul(Get(s2,dx,0), float4x4(0.032134801149368,0.022972740232944,0.063913904130459,0.150914683938026,0.065873041749001,0.023813901469111,-0.096394754946232,-0.037213452160358,-0.050368629395962,0.098092257976532,0.074595198035240,-0.017190400511026,0.100008808076382,-0.033034451305866,-0.058648854494095,-0.069819025695324));
res += mul(Get(s2,dx,dy), float4x4(0.025233646854758,-0.046243201941252,0.044333532452583,0.075235672295094,0.003882801393047,0.018852779641747,0.063657939434052,0.110423848032951,0.067987829446793,0.058746341615915,0.087687999010086,-0.002621478633955,-0.001720910309814,-0.098223596811295,-0.063654914498329,0.026782352477312));
res += mul(Get(s3,-dx,-dy), float4x4(-0.101432770490646,0.155249759554863,0.054626069962978,0.016545547172427,-0.092332966625690,-0.103436760604382,-0.022290080785751,0.179426267743111,-0.025840146467090,0.023229569196701,-0.011705579236150,0.074335269629955,0.025404429063201,0.093361400067806,-0.012884384952486,0.030472194775939));
res += mul(Get(s3,-dx,0), float4x4(0.032351095229387,-0.023245265707374,0.104925230145454,0.007694348692894,-0.128879040479660,0.071388736367226,0.121713317930698,0.014014273881912,0.036221556365490,0.065698482096195,0.069041855633259,-0.009878171607852,0.060905367136002,0.071362465620041,0.038851924240589,0.005287341307849));
res += mul(Get(s3,-dx,dy), float4x4(0.117622539401054,0.029677562415600,0.058443214744329,0.142799884080887,-0.124547258019447,0.069860495626926,0.143572241067886,-0.112046070396900,-0.062961935997009,-0.016784412786365,-0.050265219062567,0.033923860639334,-0.108262591063976,0.006569811142981,0.070813618600368,0.008164081722498));
res += mul(Get(s3,0,-dy), float4x4(-0.040587693452835,0.026309503242373,0.000716763781384,0.063392646610737,-0.067648835480213,0.089397966861725,-0.196411624550819,-0.013662740588188,-0.105517879128456,-0.050391986966133,-0.042823210358620,0.026477316394448,0.022573389112949,0.011305969208479,-0.033545363694429,0.111057683825493));
res += mul(Get(s3,0,0), float4x4(0.162476375699043,0.068421840667725,0.013228228315711,0.050508480519056,-0.050644055008888,0.077049948275089,0.115256249904633,-0.003592887194827,0.027334094047546,0.013834163546562,0.007872132584453,-0.002969323890284,0.001999271335080,-0.024412840604782,0.063699051737785,0.041961595416069));
res += mul(Get(s3,0,dy), float4x4(0.042097005993128,-0.010260357521474,0.088995479047298,0.103921949863434,-0.098311342298985,0.010550572536886,0.018225871026516,0.018977446481586,-0.006413693074137,0.022555019706488,0.044322401285172,0.045534960925579,-0.085259549319744,-0.005173455458134,0.006822909694165,0.028103586286306));
res += mul(Get(s3,dx,-dy), float4x4(0.014751543290913,-0.008068961091340,-0.033175408840179,-0.119733184576035,0.205625683069229,-0.005243046674877,-0.120266146957874,-0.023497508838773,0.053404141217470,0.028957858681679,-0.089042380452156,-0.028533298522234,-0.030888974666595,0.033674661070108,0.029312375932932,0.032597955316305));
res += mul(Get(s3,dx,0), float4x4(0.007723941467702,0.004590463358909,-0.006922027096152,0.037992332130671,0.247240155935287,-0.114054195582867,-0.042002432048321,0.062623061239719,0.062165126204491,-0.072075672447681,0.071670942008495,0.083262339234352,-0.028395896777511,0.025335120037198,-0.014315520413220,0.151236146688461));
res += mul(Get(s3,dx,dy), float4x4(0.097004234790802,0.078142352402210,0.120293475687504,0.027388423681259,0.238438814878464,-0.079214684665203,-0.007614105474204,0.037611201405525,0.049304734915495,-0.015495283529162,-0.036678459495306,0.065734565258026,-0.046158667653799,0.033955536782742,0.045628100633621,0.095802687108517));
return max(float4(0,0,0,0), res);
}
