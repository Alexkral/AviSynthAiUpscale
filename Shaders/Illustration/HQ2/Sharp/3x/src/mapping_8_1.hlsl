sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.038559827953577,0.011560217477381,-0.060005512088537,-0.022694304585457,-0.027232455089688,0.041352525353432,0.009875369258225,-0.035178452730179,-0.146398991346359,-0.044570364058018,0.089455217123032,-0.067832157015800,0.012974061071873,-0.013142807409167,-0.045385982841253,0.035063978284597));
res += mul(Get(s0,-dx,0), float4x4(0.104305125772953,-0.088161997497082,-0.095816537737846,0.010913768783212,-0.006766476668417,-0.017395390197635,-0.017269603908062,-0.006769157946110,-0.078871831297874,-0.005105255637318,0.039634745568037,0.047818068414927,0.114133916795254,0.021731721237302,-0.098279528319836,-0.029956286773086));
res += mul(Get(s0,-dx,dy), float4x4(-0.000671086309012,-0.063773252069950,-0.044326581060886,0.004608986433595,0.007283350452781,-0.027678614482284,0.026020038872957,-0.038806531578302,-0.043324016034603,-0.012569859623909,-0.020703988149762,-0.030167771503329,-0.011442546732724,-0.020091779530048,-0.089032903313637,0.041251469403505));
res += mul(Get(s0,0,-dy), float4x4(0.027090143412352,-0.056682199239731,0.081806555390358,-0.022686004638672,0.028987877070904,-0.017999805510044,-0.010103147476912,0.005804469343275,0.017934918403625,-0.008403507061303,-0.055698841810226,-0.170825347304344,0.006896166596562,-0.026453159749508,-0.029635103419423,0.041358560323715));
res += mul(Get(s0,0,0), float4x4(-0.029518090188503,-0.050153106451035,0.059602357447147,-0.031582575291395,0.048580307513475,0.054390773177147,-0.008900066837668,-0.010346917435527,-0.002946977037936,-0.049158480018377,-0.206825122237206,0.003477266989648,0.056388683617115,0.145609974861145,0.020168574526906,0.016779910773039));
res += mul(Get(s0,0,dy), float4x4(-0.000214068932110,-0.042476754635572,0.043487410992384,0.022888530045748,0.056575234979391,0.006227517966181,-0.002512280596420,-0.019863186404109,0.076165899634361,-0.001518014702015,-0.026999209076166,0.029704459011555,0.006064774002880,0.096337281167507,-0.135610923171043,-0.012593827210367));
res += mul(Get(s0,dx,-dy), float4x4(0.041390143334866,-0.063239544630051,0.064310632646084,-0.019781775772572,0.011186380870640,0.025434294715524,0.043829832226038,-0.009308394975960,-0.130185306072235,-0.095205202698708,0.216053545475006,0.019888527691364,-0.010914662852883,-0.025811137631536,-0.087715022265911,0.111954487860203));
res += mul(Get(s0,dx,0), float4x4(0.077047549188137,-0.040820784866810,-0.012789851985872,-0.055812947452068,-0.016760932281613,0.054795023053885,0.065658472478390,0.012109141796827,-0.134730830788612,-0.076146408915520,0.068412162363529,0.003654540749267,-0.010300812311471,0.036644473671913,-0.049725994467735,0.023191688582301));
res += mul(Get(s0,dx,dy), float4x4(-0.009541733190417,-0.051687356084585,0.010751043446362,0.015172926709056,0.024666899815202,-0.021093297749758,0.046914555132389,-0.030551668256521,-0.083555549383163,0.010933564044535,0.062577597796917,0.029002310708165,0.048375856131315,0.045458145439625,-0.056077618151903,-0.078658230602741));
res += mul(Get(s1,-dx,-dy), float4x4(-0.040903855115175,-0.022558946162462,0.055384639650583,-0.017173619940877,-0.012016500346363,-0.074320994317532,-0.087131425738335,-0.052329413592815,-0.036462321877480,0.021384604275227,0.035777974873781,0.038102343678474,0.014361208304763,0.082933545112610,-0.046751115471125,-0.060217071324587));
res += mul(Get(s1,-dx,0), float4x4(-0.045320041477680,0.060347206890583,0.203822687268257,-0.043918233364820,0.051540117710829,0.064233630895615,0.124213069677353,-0.115966781973839,0.005831057205796,-0.043455109000206,-0.020281996577978,-0.010665688663721,0.008750396780670,-0.051932804286480,0.021523488685489,0.040781695395708));
res += mul(Get(s1,-dx,dy), float4x4(0.072587989270687,0.055238164961338,0.168458059430122,-0.033604793250561,-0.019439388066530,-0.035183154046535,0.006341387517750,0.007767915260047,-0.033462144434452,-0.059825845062733,-0.013795448467135,0.117165319621563,-0.014033616520464,-0.029991032555699,-0.058269917964935,0.053962100297213));
res += mul(Get(s1,0,-dy), float4x4(-0.038523223251104,0.069185398519039,0.122075475752354,0.011340294033289,0.082571871578693,0.004964126739651,0.024059783667326,0.012663387693465,-0.036555375903845,0.035114586353302,0.020273940637708,-0.023850664496422,-0.019952310249209,0.038808707147837,-0.007436041720212,-0.169564679265022));
res += mul(Get(s1,0,0), float4x4(-0.093943588435650,0.060166053473949,0.265550166368484,-0.052407577633858,0.021862622350454,0.063210085034370,0.217723473906517,-0.052557405084372,0.004788383375853,-0.096807196736336,0.046591661870480,-0.037739474326372,-0.030595295131207,0.051582161337137,-0.010041550733149,-0.047609616070986));
res += mul(Get(s1,0,dy), float4x4(0.020870780572295,0.067631900310516,0.219648152589798,-0.088457122445107,-0.008547982200980,0.010769988410175,0.120406419038773,-0.066773690283298,-0.041436135768890,-0.001871952088550,-0.027135455980897,0.000571155338548,0.039999183267355,-0.015444294549525,-0.061991106718779,0.066195122897625));
res += mul(Get(s1,dx,-dy), float4x4(0.026561349630356,-0.015752587467432,-0.030947925522923,-0.030619626864791,0.004897548817098,-0.004648551344872,-0.103410050272942,0.038725242018700,-0.033459041267633,-0.090304985642433,0.084220357239246,0.059887863695621,0.025150345638394,-0.023077802732587,0.010398691520095,-0.071284718811512));
res += mul(Get(s1,dx,0), float4x4(-0.018114216625690,-0.089838914573193,0.032442670315504,0.035990513861179,0.020972488448024,0.047948926687241,-0.035936392843723,0.116949968039989,-0.020732488483191,-0.062712520360947,0.109597638249397,0.046854972839355,-0.025446275249124,-0.046567354351282,-0.021279430016875,0.065239034593105));
res += mul(Get(s1,dx,dy), float4x4(0.050216287374496,-0.023593455553055,0.077202685177326,-0.016135890036821,0.014752021990716,0.018144657835364,0.021527690812945,0.046695224940777,0.011512796394527,-0.027573127299547,0.020276278257370,-0.023415675386786,-0.029169501736760,-0.031639732420444,0.029062464833260,0.042975302785635));
res += mul(Get(s2,-dx,-dy), float4x4(0.057343915104866,0.075256608426571,-0.059324812144041,-0.087555602192879,-0.042970217764378,-0.013154585845768,-0.056270498782396,0.022587124258280,-0.057677626609802,0.024518566206098,0.024082567542791,-0.005859862081707,0.120138332247734,0.072184011340141,-0.026767730712891,-0.110576458275318));
res += mul(Get(s2,-dx,0), float4x4(-0.026690177619457,-0.042768273502588,-0.043400038033724,0.005516295321286,0.009372171014547,0.005009734537452,0.041994832456112,-0.026814531534910,-0.078021749854088,-0.015966309234500,0.076073907315731,0.150535255670547,0.121979445219040,0.012401145882905,-0.012086211703718,0.104294367134571));
res += mul(Get(s2,-dx,dy), float4x4(0.015230587683618,-0.011949438601732,-0.059841383248568,0.051116127520800,0.021998353302479,0.017122257500887,0.019436663016677,0.042448576539755,-0.005617101211101,-0.013065921142697,0.011592952534556,-0.012175269424915,-0.012490841560066,-0.041923839598894,-0.082128182053566,0.095878504216671));
res += mul(Get(s2,0,-dy), float4x4(-0.081611491739750,0.035496089607477,-0.061734676361084,-0.001354751992039,0.006741671357304,0.058974884450436,0.128454461693764,-0.053264759480953,0.009373960085213,-0.011925708502531,-0.031618174165487,-0.114204846322536,0.007798099424690,-0.015763703733683,-0.017019977793097,-0.145333230495453));
res += mul(Get(s2,0,0), float4x4(-0.066570915281773,-0.010120902210474,-0.028454106301069,0.042304296046495,-0.021315930411220,0.003468522336334,0.094465427100658,0.017236273735762,-0.008297367952764,-0.063047498464584,0.022139452397823,0.249325200915337,0.025340748950839,0.056267868727446,0.009679268114269,0.095501445233822));
res += mul(Get(s2,0,dy), float4x4(0.037609267979860,0.002364548156038,0.062404353171587,0.055180892348289,0.041762538254261,-0.010269836522639,0.068425275385380,0.001156334183179,-0.097707673907280,0.058843463659286,0.094019964337349,0.062686391174793,0.010036921128631,0.012583203613758,-0.002894306089729,0.146716043353081));
res += mul(Get(s2,dx,-dy), float4x4(-0.012504341080785,0.053895540535450,0.010843678377569,-0.070884764194489,-0.001973894890398,0.025141833350062,-0.037143774330616,0.033480461686850,0.034564945846796,0.100572563707829,0.017828898504376,-0.026205360889435,0.047923155128956,0.088558673858643,-0.082730375230312,-0.031752012670040));
res += mul(Get(s2,dx,0), float4x4(-0.057845693081617,-0.030201017856598,-0.050018403679132,-0.013133749365807,-0.040600892156363,-0.024602089077234,0.011294422671199,0.041798952966928,-0.022034175693989,0.025346979498863,0.007445846218616,0.019808480516076,-0.047249931842089,0.054370611906052,-0.036383084952831,0.046982385218143));
res += mul(Get(s2,dx,dy), float4x4(-0.085805200040340,0.008999869227409,-0.006605266127735,0.020311353728175,-0.021375387907028,0.003125911112875,0.012610966339707,-0.000087283726316,-0.029792912304401,-0.006158935837448,0.003482433734462,-0.017996933311224,-0.020621873438358,0.087876021862030,0.000667043146677,-0.047675862908363));
res += mul(Get(s3,-dx,-dy), float4x4(0.048566140234470,-0.082222744822502,0.016249625012279,-0.002528696786612,-0.015225184150040,-0.133107647299767,-0.061895009130239,-0.035270076245070,-0.015311690047383,0.055646639317274,0.004829130601138,0.188530996441841,-0.024876749143004,0.006942215375602,0.097615994513035,0.042556114494801));
res += mul(Get(s3,-dx,0), float4x4(0.001922309864312,0.003330653533340,0.165304750204086,-0.079436570405960,0.060362920165062,0.018248356878757,-0.056613810360432,-0.055108636617661,0.003190452698618,-0.085312664508820,0.108997918665409,-0.024721827358007,-0.087265104055405,0.035306528210640,0.056282438337803,0.009456191211939));
res += mul(Get(s3,-dx,dy), float4x4(0.112298458814621,0.146804645657539,0.074697799980640,-0.033287573605776,-0.013547642156482,-0.069157950580120,0.057940974831581,-0.124101780354977,-0.014035694301128,0.003703624475747,-0.044612456113100,0.083413809537888,-0.060468282550573,0.017843140289187,-0.006954455748200,0.196467280387878));
res += mul(Get(s3,0,-dy), float4x4(-0.000492948340252,-0.057626247406006,-0.043365504592657,0.029254943132401,-0.048619806766510,0.044315360486507,-0.081134945154190,0.019109532237053,-0.035588376224041,0.036381978541613,-0.013909189030528,0.163335517048836,-0.000751033774577,-0.041685778647661,0.044515985995531,0.150811180472374));
res += mul(Get(s3,0,0), float4x4(-0.000534737017006,-0.037223950028419,0.006098210811615,-0.044543925672770,0.121410287916660,0.169805720448494,-0.154376447200775,-0.029138574376702,-0.050838518887758,-0.028851365670562,-0.000420306809247,-0.054073326289654,0.125313296914101,0.019960355013609,0.052051734179258,0.007382952142507));
res += mul(Get(s3,0,dy), float4x4(0.082655183970928,0.218629762530327,0.012896605767310,-0.079474516212940,0.042407710105181,0.061883069574833,0.039483714848757,-0.049944542348385,-0.067321583628654,0.000380761426641,-0.009563923813403,0.048166926950216,0.066212475299835,-0.007082800380886,-0.052556928247213,0.058288466185331));
res += mul(Get(s3,dx,-dy), float4x4(0.014311303384602,-0.147972285747528,-0.179699301719666,-0.043826907873154,-0.043436247855425,0.137266084551811,-0.013909246772528,-0.003682865295559,-0.012753169983625,-0.033193085342646,0.018651772290468,0.149338185787201,0.004443800542504,-0.101819723844528,-0.059608906507492,0.278022259473801));
res += mul(Get(s3,dx,0), float4x4(-0.002592985518277,-0.036942917853594,-0.082406647503376,-0.005844272673130,0.086427301168442,0.128772795200348,-0.057647451758385,0.008754978887737,0.005472585093230,0.001300596632063,-0.029916742816567,-0.060583606362343,0.014478676952422,-0.080169938504696,0.160108089447021,0.158818289637566));
res += mul(Get(s3,dx,dy), float4x4(0.076184563338757,0.114823088049889,-0.077691160142422,0.047538746148348,-0.013092881999910,0.031176015734673,-0.001458398066461,-0.100565701723099,0.045033928006887,-0.001136583508924,-0.059075687080622,-0.009843006730080,-0.039730887860060,0.011206614784896,0.120175778865814,0.054798375815153));
return max(float4(0,0,0,0), res);
}
