sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.043957661837339,0.020619209855795,0.019390616565943,0.102226324379444,-0.122309155762196,0.092457287013531,-0.027041733264923,-0.054996613413095,-0.010728772729635,0.044181987643242,0.078721240162849,0.055965892970562,-0.062529616057873,0.014041023328900,-0.022660117596388,-0.000260320724919));
res += mul(Get(s0,-dx,0), float4x4(0.108601652085781,-0.022852223366499,-0.028193635866046,-0.058528736233711,-0.071037463843822,0.095024421811104,-0.037863917648792,0.086233213543892,0.024333538487554,0.031773839145899,-0.028655953705311,0.169835731387138,-0.015077247284353,0.000444620556664,0.057671509683132,-0.078346215188503));
res += mul(Get(s0,-dx,dy), float4x4(-0.041852660477161,0.108501859009266,-0.105676919221878,0.156322509050369,-0.044884644448757,-0.022211149334908,-0.076616801321507,0.017339689657092,0.044998690485954,-0.131107106804848,0.055648274719715,0.080093666911125,0.064880549907684,-0.018826894462109,0.068620108067989,0.053075090050697));
res += mul(Get(s0,0,-dy), float4x4(-0.033173277974129,-0.003778854850680,0.042180381715298,-0.027102414518595,0.127021908760071,0.081536442041397,-0.035129573196173,-0.058811146765947,-0.025926670059562,-0.007867733016610,-0.063017636537552,-0.026299221441150,-0.002572501311079,0.003295699134469,0.003992966376245,-0.028696646913886));
res += mul(Get(s0,0,0), float4x4(0.010856420733035,0.046605881303549,0.083356760442257,0.055340129882097,0.119340404868126,0.061066996306181,-0.006970708724111,-0.018149007111788,0.152123615145683,0.148970186710358,0.109160542488098,0.106347814202309,0.028258113190532,0.022403335198760,0.090942658483982,-0.015493644401431));
res += mul(Get(s0,0,dy), float4x4(-0.017996892333031,0.143893852829933,-0.028731809929013,-0.002312277210876,0.046270549297333,0.009813214652240,-0.003399817273021,-0.105828151106834,-0.114181868731976,0.049071274697781,0.040600128471851,-0.040565866976976,-0.017049051821232,0.072521872818470,0.032014403492212,0.097251646220684));
res += mul(Get(s0,dx,-dy), float4x4(-0.056743927299976,-0.066823080182076,-0.229938462376595,-0.064482465386391,-0.030914518982172,-0.024848245084286,-0.153384223580360,-0.012443472631276,-0.072856843471527,0.018754335120320,-0.113909810781479,0.048644002526999,0.044979669153690,0.093301117420197,0.039265010505915,0.041085254400969));
res += mul(Get(s0,dx,0), float4x4(-0.006389140151441,-0.187279969453812,0.008030047640204,0.027898920699954,0.119951695203781,-0.005186520051211,-0.043989982455969,0.005583698861301,-0.006136584561318,-0.073681041598320,0.232789024710655,-0.003723395289853,-0.039477247744799,0.073674365878105,-0.096213459968567,-0.046027146279812));
res += mul(Get(s0,dx,dy), float4x4(-0.014779082499444,-0.074580542743206,-0.109724804759026,0.003671759739518,0.026422878727317,-0.058933705091476,-0.083525568246841,0.010989066213369,-0.084763005375862,-0.039583224803209,0.171126097440720,0.027540151029825,0.004687463399023,0.074614457786083,-0.021507197991014,0.014012720435858));
res += mul(Get(s1,-dx,-dy), float4x4(-0.019245466217399,0.031911771744490,0.066700913012028,-0.004813773557544,-0.042680613696575,0.018719544634223,0.098144970834255,-0.006380147300661,0.035250715911388,0.052571155130863,-0.029245276004076,0.064272068440914,-0.077509000897408,-0.031608603894711,-0.126617148518562,0.077003642916679));
res += mul(Get(s1,-dx,0), float4x4(-0.127385348081589,0.167385339736938,-0.026627965271473,-0.005603278521448,0.069704212248325,-0.001032614265569,0.028674270957708,0.038869541138411,0.031638626009226,0.132412359118462,-0.098623044788837,0.000575451180339,-0.047995749861002,-0.033231541514397,0.028686784207821,-0.021464738994837));
res += mul(Get(s1,-dx,dy), float4x4(-0.055453930050135,0.017797457054257,-0.021534033119678,-0.002373048337176,-0.057848528027534,-0.001023601624183,0.062659427523613,-0.035158995538950,-0.009135702624917,0.026133842766285,-0.005759980063885,0.003081086557359,0.051790885627270,0.047982778400183,-0.015062401071191,0.013559560291469));
res += mul(Get(s1,0,-dy), float4x4(0.058327034115791,-0.126783564686775,0.029911063611507,0.132171973586082,-0.080013439059258,0.062997370958328,0.061743676662445,0.094106808304787,-0.076768927276134,0.077459201216698,0.042032919824123,0.006644927896559,-0.020625120028853,-0.034008380025625,0.029164727777243,0.021960364654660));
res += mul(Get(s1,0,0), float4x4(0.025779344141483,0.150147452950478,0.268541663885117,0.128042757511139,0.132316634058952,0.045405287295580,0.019018860533834,0.083874769508839,-0.030229609459639,-0.001988231902942,0.014570618048310,0.054602757096291,-0.005075773224235,-0.010190414264798,-0.060938145965338,0.029326910153031));
res += mul(Get(s1,0,dy), float4x4(-0.017671775072813,0.217317834496498,0.006316513288766,-0.103050716221333,0.100148580968380,-0.017257215455174,0.003056539921090,0.022609807550907,0.074846066534519,-0.051529355347157,-0.047591544687748,-0.026292134076357,-0.015192805789411,0.009337563998997,-0.059498026967049,-0.065440692007542));
res += mul(Get(s1,dx,-dy), float4x4(0.001339251524769,-0.122359603643417,-0.160233125090599,0.046602509915829,0.039533551782370,-0.017062565311790,-0.087096877396107,-0.047041703015566,0.112207978963852,-0.072875425219536,0.046625226736069,0.036680843681097,0.094269268214703,0.001905608456582,-0.007273182272911,0.057633899152279));
res += mul(Get(s1,dx,0), float4x4(0.083257727324963,-0.124362617731094,0.001372620812617,-0.051910024136305,0.148433700203896,0.034772869199514,-0.049600120633841,-0.083546087145805,-0.068251408636570,-0.067062243819237,-0.036485113203526,0.029649401083589,-0.011267987079918,-0.103136874735355,0.055526349693537,0.012394743971527));
res += mul(Get(s1,dx,dy), float4x4(0.074499838054180,0.081155620515347,0.122140675783157,0.058299332857132,-0.016205359250307,0.023004917427897,0.017389668151736,0.006318960804492,0.031533800065517,0.047564376145601,-0.027308214455843,-0.043303314596415,0.036336913704872,-0.016218349337578,-0.024741267785430,-0.043748158961535));
res += mul(Get(s2,-dx,-dy), float4x4(0.025676624849439,-0.082868039608002,0.056951664388180,0.031052066013217,-0.007851820439100,0.091786079108715,0.068518444895744,0.011435058899224,0.043690454214811,0.086886920034885,0.055893305689096,0.004058301448822,0.023067647591233,0.054530158638954,0.045569926500320,-0.087992407381535));
res += mul(Get(s2,-dx,0), float4x4(0.042861357331276,-0.030653763562441,0.060601104050875,-0.062063943594694,0.087525248527527,0.037515427917242,-0.050757884979248,-0.021099437028170,-0.054955378174782,0.008277196437120,0.056868020445108,0.077221132814884,0.084041625261307,-0.046119626611471,0.041061971336603,0.001593679073267));
res += mul(Get(s2,-dx,dy), float4x4(0.061209056526423,0.063393682241440,0.017336677759886,-0.000579089857638,-0.091666795313358,-0.046894136816263,-0.046105414628983,-0.004876630380750,-0.040731880813837,-0.048503424972296,0.127868756651878,0.030945964157581,0.081122748553753,-0.020109264180064,0.014970626682043,0.063033670186996));
res += mul(Get(s2,0,-dy), float4x4(-0.032031267881393,0.032435175031424,-0.021443940699100,-0.036476835608482,0.010586549527943,0.079385183751583,0.100003987550735,0.013672653585672,-0.033564262092113,-0.064269483089447,0.096766732633114,0.092735640704632,0.019077919423580,0.015252416022122,0.089098699390888,-0.031512830406427));
res += mul(Get(s2,0,0), float4x4(-0.069253541529179,-0.067765042185783,0.025411557406187,0.016628058627248,0.081260733306408,0.156484454870224,-0.017335675656796,-0.002193416468799,0.063417032361031,0.026449227705598,-0.108488619327545,0.056864768266678,-0.023040501400828,-0.013668913394213,0.071343600749969,0.023311914876103));
res += mul(Get(s2,0,dy), float4x4(-0.097374223172665,0.013862571679056,-0.095279864966869,0.092487007379532,-0.028379686176777,-0.007941806688905,0.049323581159115,0.084567807614803,-0.040695708245039,0.032905343919992,0.060252089053392,0.020863763988018,0.043349307030439,-0.066212311387062,0.103336662054062,0.028953824192286));
res += mul(Get(s2,dx,-dy), float4x4(-0.022037383168936,-0.043067511171103,-0.085321024060249,0.028803998604417,0.003162916284055,0.090830095112324,0.005139801651239,0.028734972700477,0.005289632827044,0.017824390903115,0.119544886052608,0.045506492257118,-0.131586492061615,-0.041760101914406,0.046005867421627,-0.117156110703945));
res += mul(Get(s2,dx,0), float4x4(0.145218640565872,-0.039057787507772,0.035664159804583,0.001867010258138,0.006730902940035,0.046643070876598,-0.039986930787563,-0.002487582154572,0.093059673905373,0.078600123524666,0.043443333357573,0.057205926626921,-0.058169756084681,0.008029997348785,-0.049139849841595,-0.086171783506870));
res += mul(Get(s2,dx,dy), float4x4(0.077251642942429,-0.022044908255339,0.027261201292276,0.004090230911970,0.068527929484844,0.094651155173779,0.025523640215397,0.009525697678328,-0.014326435513794,0.014090913347900,0.083661861717701,-0.028753869235516,0.003171580610797,-0.057196788489819,0.041517984122038,0.061211183667183));
res += mul(Get(s3,-dx,-dy), float4x4(-0.007244646083564,0.009558139368892,-0.010399023070931,-0.024682518094778,-0.131157383322716,-0.216498300433159,-0.002167225815356,-0.042865559458733,0.059305537492037,-0.004690352827311,0.072981841862202,0.043404165655375,0.018903480842710,-0.002174148336053,-0.013869782909751,0.016645420342684));
res += mul(Get(s3,-dx,0), float4x4(0.011984408833086,-0.094638548791409,-0.033024467527866,0.051586963236332,-0.074831180274487,-0.188950881361961,0.043025210499763,-0.083221867680550,-0.076470158994198,-0.047080446034670,-0.062885940074921,0.024221030995250,-0.029382936656475,-0.193908423185349,-0.060031179338694,-0.040359299629927));
res += mul(Get(s3,-dx,dy), float4x4(0.083551973104477,-0.039054181426764,-0.003560701617971,0.024689372628927,-0.099512524902821,0.126519978046417,0.204901352524757,0.028184369206429,0.064425334334373,-0.051717624068260,0.111435599625111,0.069400578737259,0.056071933358908,-0.029233463108540,0.033678434789181,0.045284062623978));
res += mul(Get(s3,0,-dy), float4x4(-0.045548398047686,-0.113417372107506,0.048038776963949,0.033954389393330,-0.139109998941422,-0.185252070426941,-0.115249469876289,-0.040871903300285,-0.044574134051800,-0.042783003300428,-0.012437057681382,0.007481166627258,-0.032762989401817,0.045475758612156,0.044448338449001,0.015395604074001));
res += mul(Get(s3,0,0), float4x4(-0.039426572620869,-0.019095748662949,-0.001444514840841,-0.005051038227975,0.086819775402546,-0.131352260708809,-0.034399673342705,-0.028383236378431,0.057256624102592,-0.165030434727669,0.013540960848331,0.025803988799453,0.006322462111712,-0.059576690196991,-0.052398245781660,-0.016524836421013));
res += mul(Get(s3,0,dy), float4x4(-0.121028050780296,0.027473116293550,0.004805575590581,-0.042791467159986,0.186659663915634,0.098368331789970,-0.029971528798342,-0.008434548974037,0.111213557422161,-0.109426833689213,0.033833477646112,0.025037338957191,-0.090365275740623,0.070082396268845,0.009463231079280,-0.029441049322486));
res += mul(Get(s3,dx,-dy), float4x4(-0.006534432992339,0.064898148179054,0.133538872003555,0.083926744759083,-0.044020153582096,-0.074163503944874,-0.080459251999855,-0.138528987765312,-0.007504851091653,0.004403846338391,0.121209718286991,0.083160236477852,0.003370746038854,-0.069834657013416,0.021026952192187,-0.002267619129270));
res += mul(Get(s3,dx,0), float4x4(0.055410891771317,0.002487680641934,-0.056307289749384,-0.037741746753454,-0.040782101452351,0.022105822339654,-0.238077610731125,-0.165571838617325,0.026266520842910,-0.036463961005211,0.105305977165699,0.038995157927275,0.050629884004593,-0.006641754414886,-0.022351341322064,-0.039573922753334));
res += mul(Get(s3,dx,dy), float4x4(0.079909302294254,-0.002535734325647,0.118886090815067,-0.060974616557360,-0.138283893465996,0.178503304719925,-0.204374432563782,-0.150913000106812,-0.025132231414318,0.028838939964771,0.031865436583757,0.026926189661026,0.025302324444056,0.050316713750362,-0.095939107239246,-0.006044365465641));
return max(float4(0,0,0,0), res);
}
