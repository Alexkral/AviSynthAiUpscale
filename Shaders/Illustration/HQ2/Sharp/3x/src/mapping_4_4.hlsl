sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.016484102234244,-0.062349829822779,0.007048218976706,0.102501504123211,0.131429597735405,0.029816482216120,-0.092177197337151,0.122328877449036,-0.048039615154266,-0.013535296544433,0.022250533103943,-0.092103004455566,-0.023147357627749,0.130897000432014,-0.032406371086836,0.013733050785959));
res += mul(Get(s0,-dx,0), float4x4(0.008332542143762,0.064317792654037,-0.072602763772011,0.030524514615536,0.040285822004080,-0.009503050707281,0.042826425284147,-0.126868113875389,-0.106163047254086,0.084245465695858,-0.050990596413612,0.025571711361408,-0.047183144837618,0.118037253618240,0.064670100808144,-0.023614969104528));
res += mul(Get(s0,-dx,dy), float4x4(-0.096727922558784,-0.104053556919098,0.060359660536051,0.048750493675470,0.013293303549290,-0.008707118220627,-0.056432094424963,-0.015998536720872,-0.084887243807316,0.090200342237949,-0.038567040115595,-0.048511929810047,-0.021139459684491,0.074529051780701,0.013631258159876,-0.056702811270952));
res += mul(Get(s0,0,-dy), float4x4(0.046312537044287,-0.004809098783880,-0.005650607403368,-0.020950293168426,0.027094807475805,0.030426695942879,-0.005890398286283,0.148414552211761,-0.113297395408154,0.097569994628429,0.026037488132715,-0.117109909653664,0.011173185892403,-0.025228030979633,0.084106959402561,-0.059254769235849));
res += mul(Get(s0,0,0), float4x4(-0.047316677868366,0.122516252100468,0.154520079493523,-0.083431243896484,-0.131407275795937,-0.096721999347210,-0.046210877597332,0.161768361926079,-0.040076248347759,0.165495768189430,-0.075866892933846,-0.053779989480972,-0.009456587955356,-0.063509091734886,0.081600643694401,-0.087297566235065));
res += mul(Get(s0,0,dy), float4x4(0.085967041552067,-0.085065633058548,-0.001361885340884,0.154086276888847,0.087076604366302,0.040709611028433,-0.019858879968524,-0.042287256568670,0.005384962540120,0.156085491180420,-0.040939792990685,0.080626130104065,0.036198880523443,0.018839005380869,0.053903955966234,-0.055763132870197));
res += mul(Get(s0,dx,-dy), float4x4(-0.025685062631965,0.044977612793446,-0.069063909351826,0.013502829708159,-0.008052437566221,0.129196733236313,-0.020261839032173,-0.057670388370752,-0.104488253593445,0.119021587073803,0.091262876987457,-0.053999200463295,0.028499696403742,-0.111182577908039,-0.077551290392876,-0.054270915687084));
res += mul(Get(s0,dx,0), float4x4(-0.061557509005070,-0.068906806409359,-0.099036544561386,0.016822872683406,0.001220804988407,0.080542735755444,-0.032368779182434,0.082499012351036,0.029010791331530,-0.031542055308819,0.010204938240349,-0.025243477895856,0.079999551177025,-0.050770562142134,-0.038856618106365,0.004601855296642));
res += mul(Get(s0,dx,dy), float4x4(0.021616822108626,-0.072836160659790,-0.001388180884533,0.079108648002148,0.077360033988953,-0.046667590737343,0.003302812576294,0.039646323770285,0.066159732639790,-0.011930461041629,-0.008207976818085,0.003077126108110,0.085362173616886,-0.053276438266039,-0.016393823549151,-0.026364609599113));
res += mul(Get(s1,-dx,-dy), float4x4(0.101967036724091,0.046999823302031,-0.044562775641680,0.066463388502598,-0.030247110873461,-0.093541890382767,-0.032569527626038,-0.007764801383018,0.083201713860035,0.005359436850995,0.015728129073977,-0.080317214131355,-0.043157856911421,0.017584858462214,-0.190457791090012,-0.000190413091332));
res += mul(Get(s1,-dx,0), float4x4(0.139679566025734,0.099448077380657,0.069308370351791,-0.142484620213509,0.027407348155975,-0.052339531481266,0.016694325953722,-0.042182397097349,-0.055262632668018,-0.130937501788139,-0.002239356981590,-0.014530777931213,-0.041981313377619,-0.033462297171354,-0.086644120514393,-0.106069616973400));
res += mul(Get(s1,-dx,dy), float4x4(0.018574703484774,-0.184049829840660,-0.117799296975136,0.083452254533768,0.036470770835876,-0.036182153970003,-0.096249319612980,0.103782989084721,-0.024365475401282,-0.094329454004765,-0.010656002908945,-0.091358982026577,-0.072734966874123,0.038345009088516,0.045476734638214,-0.002404066501185));
res += mul(Get(s1,0,-dy), float4x4(0.143894374370575,-0.087381839752197,-0.032823398709297,0.128358185291290,0.061103612184525,0.048192702233791,0.011483517475426,-0.055197808891535,0.047062810510397,-0.025348370894790,-0.035706236958504,0.013797624036670,-0.093405485153198,-0.132402986288071,0.027558768168092,0.029454199597239));
res += mul(Get(s1,0,0), float4x4(0.022375136613846,0.251826107501984,0.057173129171133,-0.159394755959511,-0.010046280920506,0.066346287727356,-0.021770723164082,0.018539434298873,-0.030976386740804,-0.071873039007187,-0.076817736029625,-0.020326834172010,-0.069488540291786,-0.073631085455418,-0.035090286284685,-0.005660943221301));
res += mul(Get(s1,0,dy), float4x4(0.098133601248264,-0.056115899235010,-0.023125177249312,0.003189190290868,0.085679180920124,0.043864864856005,0.008946209214628,-0.039926894009113,-0.095434106886387,-0.085877947509289,-0.100165054202080,-0.026886083185673,-0.062997393310070,-0.074603788554668,0.120230875909328,0.090595260262489));
res += mul(Get(s1,dx,-dy), float4x4(-0.047401677817106,0.036080613732338,0.096083067357540,0.121695585548878,-0.061053216457367,0.065068930387497,0.010373368859291,0.002950381021947,0.014730145223439,-0.096781209111214,0.026661984622478,0.104628033936024,-0.044305909425020,0.022144854068756,-0.117877542972565,-0.019785081967711));
res += mul(Get(s1,dx,0), float4x4(-0.001651955768466,-0.021120039746165,-0.070440694689751,-0.071644663810730,-0.021941874176264,-0.062762796878815,-0.006867184303701,0.024997493252158,0.039020918309689,0.011049518361688,-0.032867487519979,-0.011646526865661,-0.095142200589180,-0.012498509138823,0.030587691813707,-0.029606865718961));
res += mul(Get(s1,dx,dy), float4x4(0.073011010885239,-0.242868542671204,0.044828571379185,0.011469976045191,-0.049357850104570,-0.055927950888872,-0.035854957997799,0.025985743850470,-0.010863070376217,-0.026206953451037,-0.075081072747707,0.053191769868135,0.094171285629272,-0.054154954850674,0.015775458887219,-0.017687764018774));
res += mul(Get(s2,-dx,-dy), float4x4(-0.031130794435740,0.009953303262591,-0.020321913063526,0.074757859110832,-0.066737085580826,0.007826641201973,-0.033917818218470,0.049879252910614,0.023536069318652,0.027856621891260,0.049422215670347,0.041146807372570,0.034751679748297,0.072544254362583,-0.022486176341772,0.069578647613525));
res += mul(Get(s2,-dx,0), float4x4(-0.094744078814983,-0.018963621929288,0.061625357717276,0.011212018318474,0.044871564954519,-0.009425423108041,0.027288859710097,-0.003901632037014,0.046063765883446,-0.106705702841282,-0.027715124189854,0.007260595448315,0.047486945986748,0.060043908655643,0.064123749732971,-0.089114733040333));
res += mul(Get(s2,-dx,dy), float4x4(0.002069160342216,-0.006384732201695,0.048330731689930,-0.047959212213755,-0.000585391244385,-0.048514243215322,0.034701764583588,0.011147458106279,-0.025516405701637,-0.009449944831431,0.042324140667915,-0.027479752898216,-0.106301821768284,-0.115990221500397,0.006372435484082,-0.037131194025278));
res += mul(Get(s2,0,-dy), float4x4(0.040039151906967,0.043595779687166,-0.048864193260670,0.114664569497108,0.011296978220344,-0.011011672206223,-0.048126496374607,0.001443584798835,-0.012360700406134,0.060655694454908,-0.005115775391459,0.072303973138332,-0.007616466376930,0.007403928786516,0.028346955776215,-0.019200569018722));
res += mul(Get(s2,0,0), float4x4(-0.010891558602452,0.024926742538810,-0.034807600080967,-0.058832380920649,0.131506875157356,0.020730525255203,0.099486157298088,-0.085751987993717,0.003627121681347,0.099421836435795,0.031289435923100,0.085915505886078,-0.024929132312536,-0.001293072593398,0.017247848212719,0.013116482645273));
res += mul(Get(s2,0,dy), float4x4(0.034052196890116,0.005975149106234,0.040922638028860,0.064266934990883,0.014154439792037,0.018447471782565,-0.032871637493372,-0.026176756247878,-0.044132251292467,0.009411061182618,0.012255122885108,0.066539540886879,0.010159279219806,-0.038895048201084,-0.051455091685057,0.024403445422649));
res += mul(Get(s2,dx,-dy), float4x4(-0.005664183758199,-0.000067849279731,-0.014212314039469,0.004012763034552,0.017729006707668,0.051978003233671,-0.002314987592399,-0.095274575054646,-0.021330501884222,0.034663137048483,-0.076361015439034,-0.055674172937870,0.118092067539692,0.026832280680537,-0.078948408365250,0.033698227256536));
res += mul(Get(s2,dx,0), float4x4(0.012263722717762,-0.041242718696594,0.019098794087768,0.016008729115129,0.002705321181566,0.026030989363790,-0.027601728215814,-0.067292287945747,0.031006136909127,0.061399143189192,0.029729947447777,0.023539612069726,0.040115702897310,-0.038517925888300,0.019670138135552,0.037990633398294));
res += mul(Get(s2,dx,dy), float4x4(0.061453882604837,0.075259432196617,-0.024902880191803,-0.091779552400112,-0.027555983513594,-0.057169001549482,-0.007281541824341,-0.070884503424168,-0.038777623325586,0.107126504182816,-0.010211997665465,-0.003139701671898,0.090845994651318,-0.024196960031986,0.016306599602103,0.049887888133526));
res += mul(Get(s3,-dx,-dy), float4x4(0.000358476478141,0.113172493875027,0.096431508660316,0.038128282874823,-0.013594984076917,0.027183197438717,-0.043698117136955,0.115546822547913,-0.068514831364155,0.058599349111319,0.068957738578320,0.043642971664667,0.088771358132362,-0.007989894598722,0.037491075694561,0.095894277095795));
res += mul(Get(s3,-dx,0), float4x4(-0.083295091986656,0.000922748353332,-0.044819116592407,0.091679260134697,-0.033930063247681,-0.106998123228550,-0.097587212920189,0.062060192227364,-0.004358411300927,-0.013953163288534,-0.028929146006703,-0.010910111479461,-0.065828010439873,-0.009909347631037,0.070816315710545,0.097069188952446));
res += mul(Get(s3,-dx,dy), float4x4(0.054257575422525,-0.000308840564685,-0.065494187176228,0.002163617871702,-0.022484855726361,-0.042792949825525,-0.077305525541306,-0.124232485890388,-0.040764432400465,-0.063958212733269,-0.041423451155424,0.105426214635372,-0.008201344870031,-0.021827688440681,0.041175689548254,0.006996857468039));
res += mul(Get(s3,0,-dy), float4x4(-0.056091293692589,0.055785115808249,-0.059660181403160,0.034061744809151,-0.059666786342859,0.035171572118998,-0.022489214316010,0.066018618643284,-0.085236109793186,0.049784295260906,-0.063193656504154,-0.000140354299219,0.014482767321169,0.022046698257327,-0.013498948886991,0.016454739496112));
res += mul(Get(s3,0,0), float4x4(0.014155989512801,0.033483244478703,-0.017464514821768,0.046216044574976,-0.151135295629501,-0.096325986087322,0.053001914173365,0.130507856607437,0.139090448617935,-0.004688945598900,0.034296307712793,-0.000429434207035,-0.054276783019304,-0.061686802655458,0.041613757610321,-0.006456055212766));
res += mul(Get(s3,0,dy), float4x4(-0.020403174683452,-0.100327245891094,-0.059485994279385,0.037198729813099,-0.032387755811214,-0.058874338865280,-0.117045655846596,-0.075785338878632,0.016955923289061,0.078344956040382,-0.021594401448965,0.045124221593142,-0.088464975357056,0.006897815503180,0.006199707277119,0.054231476038694));
res += mul(Get(s3,dx,-dy), float4x4(-0.028752233833075,-0.014119970612228,0.101840287446976,-0.056442476809025,0.014441673643887,0.063003048300743,-0.058674298226833,0.024913301691413,0.001910050516017,-0.022982403635979,-0.006153399590403,-0.139387056231499,0.004828632809222,0.008153347298503,-0.021453468129039,0.068610019981861));
res += mul(Get(s3,dx,0), float4x4(0.042296204715967,-0.000544091279153,0.035542212426662,0.076691478490829,-0.051387798041105,0.126970887184143,-0.026039136573672,-0.109058454632759,0.006948565132916,0.027482826262712,-0.013671185821295,-0.145156815648079,-0.024424174800515,-0.039574738591909,0.047001201659441,0.040529981255531));
res += mul(Get(s3,dx,dy), float4x4(0.084281884133816,-0.023503368720412,-0.040345996618271,0.007946150377393,0.035490080714226,-0.031406197696924,0.032572314143181,-0.160204514861107,0.026856938377023,-0.067123062908649,0.061481453478336,-0.132425025105476,0.005592156667262,-0.081445030868053,-0.013685547746718,0.045229747891426));
return max(float4(0,0,0,0), res);
}
