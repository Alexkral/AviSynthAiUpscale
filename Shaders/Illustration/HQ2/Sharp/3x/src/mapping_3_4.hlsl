sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.046858217567205,-0.062003538012505,0.102545507252216,0.078990891575813,-0.038830477744341,0.050821129232645,-0.001663064118475,-0.023643348366022,0.067538864910603,-0.061154562979937,0.067368030548096,0.001297130715102,-0.119768232107162,0.084470354020596,0.026511045172811,0.008700965903699));
res += mul(Get(s0,-dx,0), float4x4(-0.035086434334517,-0.153314560651779,0.034069996327162,0.024825777858496,-0.018877087160945,0.057887997478247,-0.196245700120926,-0.176290690898895,0.003290304215625,0.007765506394207,0.028743801638484,0.017596257850528,-0.057674296200275,0.028157871216536,-0.029439186677337,-0.079898320138454));
res += mul(Get(s0,-dx,dy), float4x4(-0.031337536871433,0.113171666860580,0.022577825933695,0.153095081448555,-0.053022157400846,0.005561476573348,-0.057482510805130,-0.109044641256332,0.080179750919342,-0.073263794183731,-0.052873808890581,0.033325813710690,-0.026389446109533,-0.056636206805706,0.003065101336688,0.047485787421465));
res += mul(Get(s0,0,-dy), float4x4(0.048465952277184,-0.001731159398332,-0.128195121884346,-0.067288845777512,-0.043686538934708,-0.013314571231604,-0.044836230576038,-0.075985521078110,-0.020601127296686,0.008093979209661,-0.041798237711191,0.022201869636774,0.082100920379162,0.034170519560575,-0.020986923947930,0.021305261179805));
res += mul(Get(s0,0,0), float4x4(0.064767368137836,-0.002401588251814,0.064694605767727,-0.087287411093712,-0.071123838424683,0.026940418407321,0.081294238567352,0.018457254394889,-0.098094440996647,-0.076171718537807,0.158010080456734,0.055016629397869,0.050743382424116,-0.011484875343740,-0.031345300376415,-0.141054883599281));
res += mul(Get(s0,0,dy), float4x4(0.080834783613682,0.022311776876450,-0.110805355012417,-0.101219080388546,-0.062003336846828,-0.022718930616975,-0.006903036031872,-0.047024499624968,-0.007656452711672,0.045588206499815,-0.102168820798397,-0.075807631015778,0.021702509373426,-0.084967270493507,-0.011830851435661,-0.037762880325317));
res += mul(Get(s0,dx,-dy), float4x4(-0.064604617655277,-0.089558683335781,-0.052467860281467,-0.084000110626221,0.114763945341110,-0.070046596229076,-0.071719698607922,-0.054101713001728,0.084315769374371,0.015947362408042,-0.036750715225935,0.098100967705250,0.086589828133583,0.056233208626509,0.006291380152106,-0.070416755974293));
res += mul(Get(s0,dx,0), float4x4(0.071016922593117,0.025090008974075,0.012867647223175,-0.009804524481297,0.136069297790527,-0.153085410594940,0.031458783894777,-0.011224541813135,-0.004014950711280,0.046344183385372,-0.134839311242104,0.040703412145376,-0.141166910529137,0.034296602010727,0.045093882828951,0.026203721761703));
res += mul(Get(s0,dx,dy), float4x4(0.027206635102630,0.037113014608622,0.048439700156450,-0.098872169852257,-0.064538456499577,-0.065119460225105,0.049906961619854,-0.138693168759346,-0.010300457477570,0.044262450188398,-0.048085100948811,-0.065083280205727,0.043577566742897,0.054159644991159,0.003191338386387,0.001305567100644));
res += mul(Get(s1,-dx,-dy), float4x4(0.071564376354218,0.110700324177742,-0.066213995218277,0.124161094427109,0.058825194835663,-0.079418018460274,0.033200658857822,0.059034425765276,-0.093840695917606,-0.047667883336544,-0.177695527672768,0.058398589491844,-0.005539257079363,0.033943410962820,-0.065462253987789,0.130983963608742));
res += mul(Get(s1,-dx,0), float4x4(0.071097962558270,-0.088796906173229,0.056988738477230,0.084912911057472,-0.018994096666574,-0.030354872345924,0.039617132395506,0.026110405102372,-0.120575167238712,0.071605846285820,-0.007430879864842,-0.110052533447742,0.033055745065212,0.046780377626419,0.018710246309638,0.184959843754768));
res += mul(Get(s1,-dx,dy), float4x4(0.050210814923048,0.056296154856682,0.052897576242685,-0.006724746432155,0.002063090912998,0.012713216245174,0.007743672002107,0.051233816891909,-0.026217067614198,-0.008712003007531,0.030761770904064,-0.009013388305902,0.050297196954489,0.036445952951908,-0.035384494811296,0.004494156688452));
res += mul(Get(s1,0,-dy), float4x4(-0.140048757195473,-0.016550092026591,-0.096859313547611,0.075297154486179,-0.096792362630367,0.041424054652452,-0.059063974767923,0.062559574842453,0.062801606953144,-0.039966538548470,0.000843558809720,-0.001577538088895,0.012617442756891,-0.051117487251759,0.018094271421432,0.020382208749652));
res += mul(Get(s1,0,0), float4x4(-0.039513934403658,-0.112962290644646,-0.088523596525192,0.045648343861103,0.067273721098900,-0.046837575733662,0.029735770076513,-0.103654555976391,-0.046498343348503,-0.043421458452940,0.016996128484607,-0.072607159614563,-0.068746834993362,-0.083049908280373,-0.036517903208733,0.008729864843190));
res += mul(Get(s1,0,dy), float4x4(-0.014903136529028,0.030432732775807,0.036165177822113,-0.002678215503693,-0.032485377043486,0.017647957429290,-0.052654191851616,-0.087264984846115,0.116097450256348,0.016656901687384,-0.164177924394608,-0.000011339758203,-0.009065359830856,-0.023412046954036,0.053490057587624,-0.065081201493740));
res += mul(Get(s1,dx,-dy), float4x4(-0.030343921855092,0.036046490073204,0.072389855980873,-0.017543707042933,0.061738677322865,-0.101846605539322,0.125050023198128,-0.009809292852879,-0.020392280071974,-0.095470726490021,0.001267852610908,-0.033577278256416,-0.000809452030808,-0.012533600442111,-0.085065141320229,-0.100569926202297));
res += mul(Get(s1,dx,0), float4x4(0.019573139026761,0.305899649858475,-0.018052203580737,0.047590300440788,0.039926450699568,-0.103588193655014,-0.073737479746342,0.009549534879625,0.087750390172005,-0.094337560236454,0.015150698833168,0.052126452326775,-0.133034557104111,-0.153735920786858,-0.011474334634840,-0.157715812325478));
res += mul(Get(s1,dx,dy), float4x4(0.114479742944241,0.152714654803276,0.069911383092403,-0.008310897275805,-0.025118609890342,-0.009660360403359,-0.048807471990585,-0.022341305390000,0.045552797615528,-0.106909513473511,-0.065703473985195,-0.068911902606487,0.058170340955257,-0.127087846398354,-0.103171788156033,-0.100629463791847));
res += mul(Get(s2,-dx,-dy), float4x4(-0.140974551439285,0.009604360908270,0.030411979183555,0.056148841977119,-0.049892757087946,0.155919715762138,-0.004886736627668,0.001164699555375,0.014388528652489,0.079758986830711,-0.035265479236841,0.002280512126163,-0.002416437026113,-0.014126007445157,0.018634352833033,0.058762297034264));
res += mul(Get(s2,-dx,0), float4x4(-0.030727032572031,0.008402444422245,-0.058773435652256,0.172289937734604,-0.020427908748388,0.149637356400490,0.004187215585262,-0.067736886441708,-0.020444052293897,0.010033621452749,0.025648057460785,0.089283838868141,-0.070900328457355,-0.062284391373396,0.022266397252679,-0.035176541656256));
res += mul(Get(s2,-dx,dy), float4x4(-0.007339252158999,0.035259664058685,-0.015613020397723,0.065943375229836,-0.024679865688086,0.050049837678671,-0.099959112703800,0.035713087767363,-0.063102863729000,-0.034605588763952,0.022864384576678,0.086513414978981,-0.008488691411912,-0.163251295685768,-0.080410532653332,0.002263454487547));
res += mul(Get(s2,0,-dy), float4x4(0.076641254127026,0.335417926311493,0.066882982850075,-0.086522221565247,-0.059955842792988,-0.101514771580696,0.025299921631813,0.057108856737614,0.014772661961615,-0.010776376351714,0.116863720118999,0.009877770207822,0.007663903292269,-0.053556855767965,0.029273506253958,-0.029159544035792));
res += mul(Get(s2,0,0), float4x4(-0.006707391235977,-0.139673158526421,-0.177587792277336,0.054314684122801,-0.042625341564417,-0.076808676123619,0.003021793439984,0.182194679975510,0.077916041016579,-0.078220605850220,-0.098890766501427,-0.065654709935188,0.033529710024595,-0.078827902674675,0.008284491486847,0.018419165164232));
res += mul(Get(s2,0,dy), float4x4(-0.175082534551620,-0.105933442711830,-0.019968667998910,0.033397000283003,0.028954006731510,0.127795696258545,-0.131902784109116,0.048607625067234,-0.066605769097805,-0.071139514446259,-0.045930709689856,0.018217364326119,0.014306710101664,0.061329711228609,0.053243681788445,0.003699865890667));
res += mul(Get(s2,dx,-dy), float4x4(0.245842203497887,0.035315647721291,0.139549553394318,-0.124285891652107,0.060802638530731,-0.080217547714710,-0.197853863239288,-0.053316131234169,-0.001343609183095,0.054029699414968,0.042316265404224,-0.047141637653112,-0.085133895277977,-0.011857936158776,-0.007129931822419,-0.023529727011919));
res += mul(Get(s2,dx,0), float4x4(-0.026197914034128,0.103385120630264,-0.003560853190720,-0.086664691567421,0.011848198249936,0.000258676474914,0.091330297291279,-0.226585820317268,-0.028759356588125,-0.006354176905006,-0.059367131441832,-0.067664459347725,0.003475161036476,-0.028854209929705,-0.020700111985207,-0.070725128054619));
res += mul(Get(s2,dx,dy), float4x4(-0.130969092249870,-0.027017215266824,-0.012366519309580,-0.043986663222313,0.037724427878857,0.125737339258194,-0.020300531759858,0.047248218208551,0.036288641393185,-0.011979917995632,0.029367255046964,-0.026232419535518,0.077016718685627,-0.000664151506498,-0.004375685472041,0.004876404535025));
res += mul(Get(s3,-dx,-dy), float4x4(0.054359357804060,-0.062953703105450,0.059082079678774,0.053967263549566,-0.040057256817818,-0.044896431267262,0.046635910868645,-0.002846788382158,-0.023090658709407,0.032915115356445,0.052431993186474,-0.059290312230587,-0.063653409481049,-0.091416664421558,-0.034176874905825,0.038559429347515));
res += mul(Get(s3,-dx,0), float4x4(-0.107192248106003,-0.049328435212374,-0.053699281066656,-0.075067982077599,-0.082304842770100,-0.038146480917931,0.121684998273849,-0.114957898855209,0.083952337503433,-0.037883523851633,0.081086866557598,-0.043842319399118,-0.025053355842829,0.011192247271538,0.001316229230724,0.082014158368111));
res += mul(Get(s3,-dx,dy), float4x4(0.036642350256443,0.035448435693979,-0.126123145222664,-0.080201573669910,-0.014350959099829,-0.091390661895275,0.007981530390680,-0.035283099859953,0.002927913796157,-0.028731897473335,-0.034881938248873,0.060246240347624,0.017366524785757,-0.060991205275059,-0.039507433772087,0.081948235630989));
res += mul(Get(s3,0,-dy), float4x4(-0.115250900387764,0.126017391681671,0.008252693340182,-0.011608849279583,-0.059473361819983,-0.072826080024242,-0.011202492751181,-0.023058988153934,-0.056808263063431,-0.098583519458771,-0.149882912635803,0.081277392804623,0.045933805406094,-0.061990156769753,-0.014278374612331,-0.079111136496067));
res += mul(Get(s3,0,0), float4x4(-0.107526808977127,0.025742389261723,0.038249529898167,-0.064160101115704,-0.027979124337435,0.198530033230782,-0.012641280889511,-0.026556255295873,0.095306716859341,0.153312012553215,0.006031961180270,0.050500374287367,0.006016247440130,0.124136261641979,-0.035854145884514,-0.078401446342468));
res += mul(Get(s3,0,dy), float4x4(-0.076564006507397,-0.145889580249786,-0.004144258797169,-0.101362630724907,-0.098368927836418,0.001858116360381,0.071136943995953,-0.040800705552101,-0.023401362821460,0.161681503057480,0.034396748989820,-0.189287826418877,0.071533478796482,-0.164383456110954,-0.001889744773507,-0.044932197779417));
res += mul(Get(s3,dx,-dy), float4x4(-0.077637121081352,0.219461500644684,-0.023022558540106,0.005286923144013,0.037641935050488,0.065706960856915,-0.032959304749966,0.060669977217913,-0.096034780144691,0.114059574902058,-0.033370487391949,-0.026877244934440,-0.085401102900505,0.106746174395084,0.061853099614382,-0.075254142284393));
res += mul(Get(s3,dx,0), float4x4(-0.030563546344638,-0.002825306495652,-0.001320983399637,-0.058384779840708,0.028477577492595,0.251653850078583,0.011500627733767,0.126726835966110,0.085931308567524,-0.027704859152436,-0.056883797049522,0.128400772809982,0.164499446749687,0.181132435798645,0.092428110539913,0.113759167492390));
res += mul(Get(s3,dx,dy), float4x4(0.042059130966663,-0.137388199567795,0.003668042132631,-0.124751724302769,-0.005200339015573,-0.011826504021883,-0.035105012357235,0.069496899843216,0.082389473915100,0.046890974044800,0.111023947596550,-0.031904201954603,0.039746139198542,-0.077137283980846,-0.149228066205978,-0.027647664770484));
return max(float4(0,0,0,0), res);
}
