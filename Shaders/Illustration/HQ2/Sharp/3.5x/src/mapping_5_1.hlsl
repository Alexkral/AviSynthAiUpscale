sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.089216709136963,-0.013675112277269,0.088473543524742,-0.006725661922246,0.057425037026405,0.019785158336163,-0.021374965086579,-0.014915505424142,-0.012225708924234,0.091078668832779,-0.072705388069153,-0.079984001815319,-0.096740648150444,0.003005942795426,-0.176641568541527,-0.039620816707611));
res += mul(Get(s0,-dx,0), float4x4(-0.069347284734249,0.022286165505648,-0.006389492191374,-0.174628034234047,0.014649475924671,-0.038626659661531,-0.016855709254742,0.080396354198456,-0.061130024492741,-0.064130581915379,0.000321675266605,-0.055101469159126,0.081795498728752,0.039033990353346,-0.024576589465141,-0.010849389247596));
res += mul(Get(s0,-dx,dy), float4x4(-0.002738930750638,-0.130359306931496,0.078946903347969,-0.029809573665261,0.100530996918678,-0.029162175953388,0.067609608173370,0.000289911811706,-0.097695432603359,-0.055178351700306,0.067152276635170,0.125287711620331,-0.120200842618942,-0.051882501691580,-0.073908396065235,0.105531610548496));
res += mul(Get(s0,0,-dy), float4x4(-0.034682311117649,-0.070383265614510,-0.097854793071747,0.002488214755431,0.046324528753757,0.019413717091084,-0.136883631348610,-0.029977651312947,-0.004157730843872,-0.064179278910160,-0.049646615982056,-0.079436279833317,0.061942685395479,0.089153200387955,-0.038894630968571,-0.131886884570122));
res += mul(Get(s0,0,0), float4x4(-0.090398214757442,0.036992829293013,0.054550252854824,-0.019556315615773,0.029037710279226,0.022251199930906,-0.110761784017086,-0.101128026843071,-0.101918481290340,-0.118418708443642,0.069147542119026,-0.117825105786324,0.132100835442543,-0.099601231515408,-0.037328634411097,0.045430801808834));
res += mul(Get(s0,0,dy), float4x4(0.082235939800739,0.027993999421597,0.178871273994446,0.109873197972775,-0.031708788126707,-0.022631824016571,0.045429252088070,0.014282222837210,0.125747606158257,-0.034149758517742,-0.022298924624920,-0.012123048305511,0.054537616670132,-0.066080361604691,0.033731989562511,0.129874780774117));
res += mul(Get(s0,dx,-dy), float4x4(-0.027771970257163,-0.204961255192757,-0.076381735503674,0.013392741791904,0.001889928709716,-0.034143406897783,-0.114963978528976,-0.015711335465312,-0.074902549386024,0.073645830154419,0.007777295541018,-0.038978695869446,-0.167976811528206,-0.072435930371284,-0.017481274902821,0.081814959645271));
res += mul(Get(s0,dx,0), float4x4(-0.030578833073378,0.065200440585613,0.044983647763729,0.035588663071394,-0.023858286440372,-0.029554031789303,0.065965458750725,0.152069911360741,-0.042819567024708,0.028657423332334,-0.072881922125816,0.052738498896360,-0.006503151264042,-0.065364949405193,0.091745957732201,0.026938302442431));
res += mul(Get(s0,dx,dy), float4x4(-0.039137266576290,-0.151948541402817,0.056911047548056,-0.041601195931435,-0.059159319847822,0.065518319606781,-0.028966322541237,0.003680688794702,-0.157556757330894,0.048415474593639,-0.128248885273933,0.037550434470177,-0.165713176131248,0.011195367202163,0.097255997359753,0.069115065038204));
res += mul(Get(s1,-dx,-dy), float4x4(-0.077498272061348,0.008226393721998,-0.013391394168139,0.011946396902204,-0.115027517080307,-0.055244974792004,-0.108101502060890,0.011473352089524,-0.076440580189228,-0.035302296280861,0.005566904321313,-0.172462224960327,0.065804541110992,0.041752889752388,0.000464621261926,-0.058847460895777));
res += mul(Get(s1,-dx,0), float4x4(0.130493521690369,-0.126048177480698,-0.042214587330818,-0.103333212435246,0.030236106365919,-0.121971637010574,0.155870959162712,0.043064072728157,0.102942958474159,0.094109006226063,-0.150917544960976,-0.061580359935760,-0.009294264949858,-0.013231866993010,0.109753333032131,-0.052355393767357));
res += mul(Get(s1,-dx,dy), float4x4(0.014809814281762,0.051321852952242,-0.099555283784866,-0.054347224533558,-0.038432411849499,0.141361653804779,-0.054990820586681,0.020652737468481,-0.120415195822716,0.029102599248290,-0.042155109345913,0.088650524616241,0.017263168469071,0.005440264474601,0.069341778755188,0.023086640983820));
res += mul(Get(s1,0,-dy), float4x4(0.053100608289242,0.021600594744086,-0.064206063747406,-0.135837852954865,0.021230056881905,0.009870009496808,0.039902929216623,-0.009604543447495,0.046426080167294,0.062269490212202,-0.009975724853575,0.038074441254139,-0.021971980109811,0.051035210490227,0.064084514975548,0.150482967495918));
res += mul(Get(s1,0,0), float4x4(0.011857273057103,-0.075077220797539,-0.028647402301431,-0.051281969994307,-0.033108763396740,0.018730375915766,-0.015430261380970,0.158482149243355,-0.014828856103122,-0.054835584014654,-0.057431403547525,-0.052871894091368,0.069959588348866,-0.121879376471043,-0.144704774022102,-0.016198083758354));
res += mul(Get(s1,0,dy), float4x4(-0.026298196986318,0.005641514435410,0.004124434199184,-0.201690435409546,0.111725836992264,0.072254918515682,-0.006503968499601,0.012174027040601,-0.019679669290781,-0.040025860071182,-0.025466851890087,0.020637433975935,-0.068150117993355,-0.100939981639385,0.136918172240257,0.066243328154087));
res += mul(Get(s1,dx,-dy), float4x4(0.096920549869537,-0.036898944526911,0.054719343781471,-0.103886373341084,-0.004743255674839,0.085857726633549,0.110825575888157,-0.113283842802048,0.053199268877506,-0.016844389960170,0.078170537948608,-0.122090525925159,-0.104416750371456,-0.004097469616681,-0.015279510058463,0.214320853352547));
res += mul(Get(s1,dx,0), float4x4(-0.002276665298268,-0.001147848321125,0.058088656514883,0.036154091358185,0.165813937783241,-0.087007753551006,0.091567248106003,-0.009669226594269,0.012373425997794,0.073386549949646,-0.023844292387366,0.013592073693871,-0.080877006053925,0.001863354351372,0.166736856102943,-0.034280885010958));
res += mul(Get(s1,dx,dy), float4x4(-0.110943667590618,-0.092664860188961,0.115180365741253,0.016496343538165,-0.230104267597198,-0.089289925992489,-0.065546423196793,0.061729274690151,0.071730732917786,-0.025291720405221,-0.109473824501038,-0.080664388835430,0.089452825486660,-0.162730187177658,0.033046465367079,0.135626003146172));
res += mul(Get(s2,-dx,-dy), float4x4(-0.113133065402508,-0.160366207361221,0.056300900876522,-0.001720868982375,-0.126083090901375,0.014611535705626,-0.209360584616661,-0.072672709822655,0.029657974839211,-0.065724633634090,0.109879612922668,0.007041829172522,-0.078074529767036,-0.116591885685921,-0.031009918078780,-0.071233391761780));
res += mul(Get(s2,-dx,0), float4x4(0.004460645839572,0.100069366395473,-0.064647793769836,-0.045740697532892,0.030455149710178,-0.127439171075821,-0.137850090861320,0.008283541537821,0.007347204256803,0.047070104628801,-0.083721771836281,-0.037252616137266,0.099422238767147,0.022253846749663,-0.032644286751747,0.196496501564980));
res += mul(Get(s2,-dx,dy), float4x4(0.031833510845900,0.092072211205959,0.085373036563396,0.086600191891193,0.015894094482064,-0.064061559736729,0.051252149045467,-0.003612584201619,0.006267027929425,0.078936345875263,0.006806368008256,-0.047270998358727,0.049256898462772,-0.052351336926222,-0.017849383875728,0.033658981323242));
res += mul(Get(s2,0,-dy), float4x4(-0.109602101147175,0.001421927241609,-0.008794414810836,0.122196473181248,0.031416244804859,-0.039502646774054,-0.096649356186390,0.021227197721601,-0.049792893230915,-0.072238951921463,0.030509719625115,0.052366971969604,-0.030077004805207,0.136512577533722,0.057545565068722,0.009029041975737));
res += mul(Get(s2,0,0), float4x4(0.033552169799805,0.022818775847554,0.146579667925835,0.091914087533951,-0.026868229731917,-0.064947023987770,-0.147559523582458,0.009513691999018,-0.044753883033991,-0.016752040013671,0.193651020526886,-0.029206020757556,-0.149946346879005,0.115122549235821,0.046891763806343,0.123119384050369));
res += mul(Get(s2,0,dy), float4x4(-0.027728974819183,-0.143157348036766,-0.016604492440820,0.071074843406677,0.125916019082069,-0.007433655206114,-0.058494362980127,0.080314971506596,-0.077072799205780,-0.057743813842535,0.211600974202156,-0.057996641844511,-0.064508013427258,-0.001833495916799,0.102639794349670,0.007937333546579));
res += mul(Get(s2,dx,-dy), float4x4(-0.026788599789143,-0.031397938728333,-0.107030943036079,0.157614991068840,-0.139619871973991,-0.066390737891197,-0.073735520243645,0.212279126048088,0.077413871884346,-0.039835732430220,-0.021623613312840,-0.017121987417340,0.040835563093424,0.077981613576412,-0.051066815853119,0.061015766113997));
res += mul(Get(s2,dx,0), float4x4(-0.017713859677315,0.063013128936291,0.090762205421925,-0.124772205948830,0.081084795296192,-0.019053267315030,-0.052672803401947,-0.005350896622986,0.055785145610571,-0.016129305586219,0.009617795236409,0.089898057281971,-0.069005370140076,-0.054588414728642,0.121137917041779,0.041340306401253));
res += mul(Get(s2,dx,dy), float4x4(0.162351712584496,-0.009514848701656,-0.019820639863610,-0.118692524731159,-0.013919414021075,0.012880015186965,0.018074948340654,0.039114218205214,-0.057880364358425,-0.059031087905169,-0.055895872414112,0.027539368718863,-0.043326184153557,-0.015226923860610,-0.087906122207642,0.086339242756367));
res += mul(Get(s3,-dx,-dy), float4x4(0.006829827092588,-0.072631552815437,-0.159950479865074,-0.093116104602814,-0.046236854046583,0.012354910373688,-0.166180714964867,-0.152879133820534,-0.116070464253426,-0.015779253095388,-0.031544983386993,-0.014136655256152,0.005009930115193,0.054848443716764,0.103410787880421,0.123502664268017));
res += mul(Get(s3,-dx,0), float4x4(-0.049525436013937,0.080288901925087,0.015028901398182,0.064411938190460,-0.118501752614975,0.073100388050079,0.047857910394669,0.063306964933872,-0.018739301711321,-0.012343473732471,0.187184661626816,0.067293047904968,-0.016007220372558,-0.011641958728433,-0.121449738740921,-0.045309465378523));
res += mul(Get(s3,-dx,dy), float4x4(-0.012385569512844,-0.021664127707481,-0.057721748948097,-0.020099410787225,0.044714737683535,0.123815968632698,0.147861465811729,0.221566781401634,0.035627756267786,-0.121772691607475,-0.134035393595695,0.003115572268143,-0.037791743874550,-0.081204503774643,-0.095515012741089,-0.021734690293670));
res += mul(Get(s3,0,-dy), float4x4(-0.091578610241413,-0.125030040740967,-0.121508307754993,-0.042821113020182,-0.187475547194481,0.000028323956940,-0.206542059779167,-0.193082854151726,-0.020173382014036,0.002675721654668,-0.085473008453846,0.010301474481821,-0.016451572999358,-0.010265921242535,0.258037924766541,-0.109366364777088));
res += mul(Get(s3,0,0), float4x4(0.035458218306303,-0.129533410072327,-0.046888079494238,0.196660652756691,-0.050618648529053,-0.108533754944801,-0.153575226664543,-0.019908161833882,0.110290341079235,0.063263617455959,0.124827750027180,-0.134905382990837,0.058529220521450,-0.087266974151134,-0.025059672072530,0.253920346498489));
res += mul(Get(s3,0,dy), float4x4(0.114991463720798,0.129354089498520,0.094251610338688,0.086242787539959,-0.103909522294998,-0.048910841345787,0.102290309965611,-0.031540315598249,0.004747987259179,0.141689345240593,0.182883054018021,-0.122335597872734,-0.106036998331547,-0.079436048865318,-0.055415805429220,0.140236511826515));
res += mul(Get(s3,dx,-dy), float4x4(0.012591424398124,0.014520329423249,-0.133332297205925,-0.055043295025826,0.033006396144629,-0.123270966112614,-0.149288743734360,0.047175563871861,0.044869311153889,0.046456005424261,-0.080119751393795,-0.119708284735680,0.027277432382107,0.033900331705809,-0.051256995648146,-0.132711097598076));
res += mul(Get(s3,dx,0), float4x4(0.082542598247528,-0.142365828156471,-0.020293442532420,0.014681876637042,0.017810393124819,0.014494632370770,0.035344224423170,0.035535655915737,-0.095076881349087,0.132238984107971,0.149101272225380,-0.130488038063049,-0.009071521461010,0.002833219943568,-0.006953046191484,0.029901526868343));
res += mul(Get(s3,dx,dy), float4x4(-0.071855619549751,-0.120326556265354,0.024959091097116,-0.051899913698435,0.024040417745709,-0.045981522649527,-0.123890481889248,0.125365212559700,0.130412802100182,0.051639586687088,0.076183266937733,0.018034154549241,-0.003455747384578,-0.027976226061583,-0.022536141797900,-0.022516034543514));
return max(float4(0,0,0,0), res);
}
