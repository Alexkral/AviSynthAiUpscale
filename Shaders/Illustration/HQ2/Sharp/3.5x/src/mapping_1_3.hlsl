sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.044050838798285,-0.009380576200783,-0.040841933339834,-0.009654512628913,0.192190349102020,0.066066354513168,-0.047202721238136,-0.028215114027262,0.105108335614204,0.179047524929047,-0.162257939577103,0.089988693594933,-0.101066477596760,-0.015479430556297,-0.081605769693851,0.062302175909281));
res += mul(Get(s0,-dx,0), float4x4(-0.025698982179165,-0.064350143074989,0.123402103781700,-0.080361396074295,0.024546641856432,-0.005186344031245,-0.119496658444405,-0.120872482657433,0.236051753163338,0.067012213170528,-0.162555396556854,-0.011509210802615,-0.008045536465943,0.113297872245312,-0.056860696524382,0.072497978806496));
res += mul(Get(s0,-dx,dy), float4x4(-0.028624027967453,-0.084246084094048,-0.010315346531570,0.045440085232258,-0.025894666090608,-0.119731262326241,0.012568973936141,-0.152548804879189,0.020318182185292,0.117400564253330,-0.052258282899857,-0.083327591419220,-0.227901697158813,0.076472349464893,0.075267821550369,0.007984327152371));
res += mul(Get(s0,0,-dy), float4x4(0.043905518949032,-0.040552929043770,-0.045146171003580,-0.053537592291832,0.130638301372528,-0.143482357263565,-0.013071321882308,0.014357294887304,0.079089455306530,-0.061965871602297,0.060898717492819,-0.030492851510644,-0.029103791341186,0.110931858420372,-0.031261678785086,0.022651601582766));
res += mul(Get(s0,0,0), float4x4(0.002043403452262,0.128590598702431,-0.264713138341904,-0.134616419672966,-0.139079868793488,0.050799597054720,0.158306002616882,0.017477072775364,-0.002797534922138,-0.080211281776428,0.012438445352018,0.100620806217194,-0.024836666882038,0.029593624174595,-0.052622590214014,-0.066496618092060));
res += mul(Get(s0,0,dy), float4x4(0.055348567664623,-0.050720464438200,-0.128317266702652,-0.089972272515297,-0.118543766438961,-0.078284531831741,0.017842827364802,-0.050691504031420,-0.017617754638195,-0.061987001448870,0.020773416385055,0.006728824693710,-0.188808202743530,0.062316376715899,-0.022126367315650,0.106991536915302));
res += mul(Get(s0,dx,-dy), float4x4(-0.023904914036393,0.033751726150513,-0.021169928833842,-0.123564876616001,0.198680192232132,-0.052218314260244,-0.037754554301500,-0.111871860921383,0.026677951216698,-0.017323998734355,-0.147636741399765,-0.075933650135994,0.234106615185738,0.038427330553532,0.072987169027328,-0.045216288417578));
res += mul(Get(s0,dx,0), float4x4(-0.125925019383430,-0.118644878268242,-0.165305182337761,-0.031098712235689,0.042523723095655,-0.146435752511024,0.121245138347149,0.017170960083604,-0.027776433154941,0.005311421118677,0.102842845022678,0.114451050758362,0.321560680866241,0.087281242012978,0.056002780795097,-0.092470191419125));
res += mul(Get(s0,dx,dy), float4x4(0.083132900297642,0.032368335872889,0.040888383984566,-0.064080320298672,-0.085337944328785,-0.066456459462643,0.158521279692650,0.004544674884528,-0.192279234528542,0.070481471717358,-0.026094749569893,-0.059356279671192,-0.096095673739910,-0.182081609964371,0.117099806666374,-0.119551070034504));
res += mul(Get(s1,-dx,-dy), float4x4(0.157653823494911,-0.006279350724071,0.083573184907436,-0.070129849016666,-0.005980022717267,0.077011756598949,-0.122239150106907,0.124480098485947,-0.090048521757126,0.089527986943722,0.150228768587112,-0.004496511071920,-0.014198361895978,-0.126578465104103,-0.083420999348164,-0.093238621950150));
res += mul(Get(s1,-dx,0), float4x4(0.118902623653412,-0.158348381519318,0.098753482103348,0.038043003529310,-0.115307681262493,-0.041603524237871,0.179471150040627,0.077383697032928,0.072814442217350,0.033579282462597,-0.001325754798017,-0.089095994830132,0.108928754925728,-0.064427539706230,0.011745415627956,-0.142926618456841));
res += mul(Get(s1,-dx,dy), float4x4(-0.009622757323086,0.086809448897839,0.076174214482307,-0.051343172788620,-0.181567773222923,0.068973548710346,-0.060238875448704,-0.055270146578550,-0.008640109561384,0.115540333092213,0.054953642189503,-0.041210144758224,-0.090785644948483,0.045151151716709,-0.118377223610878,-0.071051090955734));
res += mul(Get(s1,0,-dy), float4x4(-0.152838721871376,-0.019926292821765,-0.109183609485626,0.074536338448524,0.062209878116846,0.049033951014280,-0.042634088546038,-0.027309769764543,-0.160264089703560,0.091704130172729,0.011303300969303,-0.057182990014553,0.166394636034966,-0.072443082928658,0.042876079678535,0.087140448391438));
res += mul(Get(s1,0,0), float4x4(-0.096632428467274,-0.032958373427391,0.057531017810106,0.098652973771095,-0.016508195549250,0.093556731939316,0.128421187400818,0.115002222359180,-0.062454614788294,-0.052843723446131,-0.186678037047386,0.073998793959618,0.220489323139191,0.043686721473932,-0.105080738663673,-0.040916509926319));
res += mul(Get(s1,0,dy), float4x4(0.020249536260962,0.067894756793976,0.036005113273859,-0.024253807961941,0.039318658411503,-0.062311809509993,-0.133939012885094,-0.171990916132927,0.078356318175793,0.057051017880440,-0.185081169009209,-0.054368667304516,0.111144080758095,-0.170014888048172,-0.011832543648779,-0.106318466365337));
res += mul(Get(s1,dx,-dy), float4x4(-0.080204129219055,-0.095635332167149,0.014103589579463,-0.061527550220490,0.020944839343429,-0.025377538055182,0.147861361503601,0.017021803185344,0.029526252299547,-0.116969965398312,-0.087638884782791,0.122337862849236,-0.082320086658001,0.045573420822620,0.013115697540343,-0.035343866795301));
res += mul(Get(s1,dx,0), float4x4(-0.040904115885496,-0.030648188665509,0.149681404232979,-0.003893216606230,-0.090516142547131,-0.032319020479918,-0.013528713956475,-0.042413830757141,-0.005719456356019,-0.045781295746565,0.031607333570719,0.019089579582214,-0.068693518638611,-0.126561731100082,0.081531390547752,0.113510355353355));
res += mul(Get(s1,dx,dy), float4x4(-0.081954084336758,-0.025790028274059,0.000117531657452,0.023937996476889,-0.097101129591465,-0.212858691811562,-0.032835595309734,0.045363694429398,0.103854373097420,0.054842762649059,0.222152099013329,0.021044129505754,-0.038803428411484,-0.105855420231819,0.191407889127731,0.041107993572950));
res += mul(Get(s2,-dx,-dy), float4x4(-0.005983663722873,0.144621089100838,0.084274768829346,-0.012993326410651,0.031730733811855,-0.000302723667119,-0.041555296629667,0.008553096093237,0.110369317233562,0.086652301251888,-0.017006156966090,0.010228182189167,-0.010928989388049,0.159038171172142,-0.134572967886925,0.062199451029301));
res += mul(Get(s2,-dx,0), float4x4(0.108629241585732,0.172666162252426,-0.052263736724854,-0.014239530079067,0.027190323919058,0.077946610748768,-0.216863617300987,-0.023703761398792,0.158455178141594,0.049356568604708,0.125306859612465,0.101872913539410,-0.077425524592400,-0.069920510053635,-0.142650008201599,0.015719812363386));
res += mul(Get(s2,-dx,dy), float4x4(0.167549446225166,-0.039615098387003,-0.027714980766177,-0.087215028703213,0.139073565602303,-0.213378801941872,-0.040730793029070,0.043862506747246,-0.084888651967049,-0.173051804304123,-0.174928084015846,-0.031851593405008,-0.150138422846794,-0.055803842842579,0.165145769715309,0.062059774994850));
res += mul(Get(s2,0,-dy), float4x4(-0.039935629814863,0.058548960834742,0.129282101988792,-0.016237972304225,-0.175062403082848,0.056029725819826,-0.014121096581221,0.160519182682037,0.133525520563126,-0.090241044759750,-0.016040859743953,-0.030579410493374,-0.203076392412186,0.085309572517872,-0.051936872303486,-0.071190916001797));
res += mul(Get(s2,0,0), float4x4(0.131761819124222,-0.085775442421436,-0.052563633769751,-0.009228570386767,0.030665455386043,0.049759536981583,-0.090666919946671,-0.054439093917608,-0.072351381182671,-0.097358740866184,0.005068819969893,-0.000512869213708,0.040449649095535,-0.183268055319786,-0.010917539708316,-0.051768049597740));
res += mul(Get(s2,0,dy), float4x4(-0.189122751355171,-0.084569841623306,0.023101426661015,-0.029311019927263,0.080298304557800,0.061616346240044,-0.042861115187407,0.011336115188897,0.165941134095192,-0.110908247530460,0.066715970635414,0.025432799011469,-0.101936921477318,-0.183590620756149,0.143245786428452,0.243290901184082));
res += mul(Get(s2,dx,-dy), float4x4(-0.139966219663620,-0.010340483859181,-0.087254494428635,-0.109281189739704,-0.088100343942642,-0.041145842522383,0.110014766454697,-0.009471272118390,0.119891770184040,-0.058437842875719,0.133418306708336,0.054046880453825,0.176919654011726,0.035847172141075,0.051632054150105,0.003975270316005));
res += mul(Get(s2,dx,0), float4x4(0.024345871061087,0.014284894801676,0.025872725993395,0.087732106447220,-0.079848244786263,0.030666146427393,-0.056965194642544,-0.026562191545963,-0.056275080889463,0.017269758507609,-0.057914473116398,-0.090938091278076,0.055973503738642,0.021844027563930,-0.038148097693920,-0.062638394534588));
res += mul(Get(s2,dx,dy), float4x4(0.064780399203300,-0.120281539857388,0.077052548527718,-0.010906758718193,-0.099372729659081,0.074242830276489,0.021678978577256,0.048000913113356,-0.089721255004406,0.041565399616957,0.138414904475212,0.036076020449400,-0.001042229356244,0.102525100111961,0.130764037370682,0.062626086175442));
res += mul(Get(s3,-dx,-dy), float4x4(-0.092355452477932,-0.247609108686447,-0.145851522684097,-0.092044673860073,-0.016745690256357,-0.116556249558926,0.030885156244040,0.113941319286823,-0.063972078263760,0.196192681789398,0.027240607887506,-0.064016468822956,0.090369559824467,-0.045459296554327,0.042288854718208,0.004729953128844));
res += mul(Get(s3,-dx,0), float4x4(0.062611319124699,-0.171817243099213,-0.085605256259441,0.101430512964725,0.066845007240772,0.013487622141838,0.010049854405224,0.035700868815184,-0.119295820593834,0.198170378804207,-0.032232362776995,0.069490015506744,0.150089934468269,0.115498177707195,-0.090662784874439,0.042113721370697));
res += mul(Get(s3,-dx,dy), float4x4(-0.059333261102438,-0.172402292490005,-0.045097291469574,-0.000080799407442,0.093406364321709,-0.013948225416243,-0.077118553221226,-0.070601247251034,0.066220737993717,0.007334616035223,0.123173393309116,0.105921275913715,0.065661147236824,0.035960234701633,-0.243342861533165,0.028813108801842));
res += mul(Get(s3,0,-dy), float4x4(0.050836145877838,-0.012660250067711,0.076115719974041,-0.102805525064468,-0.150704085826874,-0.046583145856857,0.078047320246696,-0.003027425613254,0.087514884769917,0.077529147267342,-0.149564146995544,-0.076867699623108,0.018897695466876,0.060182690620422,0.085617646574974,0.104178242385387));
res += mul(Get(s3,0,0), float4x4(0.154998004436493,0.036873821169138,0.176541581749916,0.013672786764801,-0.101010754704475,0.019091792404652,0.063403680920601,0.060599237680435,0.015007078647614,-0.178394764661789,0.047349371016026,0.168970406055450,0.089230880141258,0.024703878909349,-0.089931771159172,-0.089890733361244));
res += mul(Get(s3,0,dy), float4x4(0.078978143632412,0.026995241641998,0.021816693246365,0.020464237779379,-0.084071271121502,0.109679400920868,0.066810384392738,-0.038417097181082,-0.030634148046374,0.009235580451787,-0.093169495463371,0.024010732769966,-0.056179933249950,0.088264353573322,0.012250409461558,0.071810677647591));
res += mul(Get(s3,dx,-dy), float4x4(0.066855445504189,-0.085572570562363,-0.056054797023535,-0.103677466511726,0.121604964137077,0.035967383533716,-0.152033090591431,-0.038186624646187,-0.098414100706577,0.050444368273020,-0.007787512615323,0.083629935979843,0.010521514341235,0.010938029736280,-0.137461081147194,0.054790716618299));
res += mul(Get(s3,dx,0), float4x4(-0.085444122552872,-0.065711483359337,0.198270678520203,-0.047538422048092,0.082905039191246,-0.192198112607002,0.171457514166832,-0.049078457057476,0.022055270150304,0.041300322860479,-0.129827991127968,-0.151538372039795,-0.028947079554200,0.077342525124550,0.080175377428532,-0.082732073962688));
res += mul(Get(s3,dx,dy), float4x4(0.047464080154896,0.113938212394714,-0.118176527321339,0.087688848376274,-0.141316369175911,0.094769015908241,-0.085709743201733,-0.065091200172901,-0.021362302824855,0.053338237106800,-0.099459812045097,0.001741769257933,-0.053627092391253,0.038556266576052,0.228688165545464,-0.130661994218826));
return max(float4(0,0,0,0), res);
}
