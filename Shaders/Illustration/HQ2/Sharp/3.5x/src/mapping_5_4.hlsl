sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.073034480214119,-0.102609582245350,0.037715002894402,-0.032807413488626,0.063417583703995,0.146030694246292,0.008708243258297,-0.079967871308327,-0.010092097334564,-0.163266584277153,0.161529719829559,0.088629931211472,0.232721790671349,0.036497347056866,-0.096888288855553,0.039383739233017));
res += mul(Get(s0,-dx,0), float4x4(0.059913426637650,-0.065920025110245,-0.081500813364983,0.001924095093273,-0.020194903016090,-0.029336880892515,-0.053389120846987,0.038908712565899,-0.060515176504850,0.123528867959976,-0.074056021869183,-0.001791681861505,-0.031974501907825,-0.024096660315990,-0.020394008606672,0.036829262971878));
res += mul(Get(s0,-dx,dy), float4x4(-0.053897436708212,0.069513820111752,0.032603614032269,0.036602810025215,-0.037267789244652,0.039447281509638,0.065809659659863,0.004364198539406,0.091357097029686,0.028279503807425,0.060166154056787,-0.122970841825008,0.083855584263802,-0.049655992537737,0.068194530904293,0.045762348920107));
res += mul(Get(s0,0,-dy), float4x4(-0.015552245080471,0.013931789435446,-0.048499036580324,-0.003932275809348,0.073196493089199,-0.085846684873104,-0.110417217016220,0.027507882565260,0.091883160173893,0.011074061505497,0.156054854393005,0.090956784784794,-0.059686116874218,-0.081916026771069,0.055841751396656,-0.051009919494390));
res += mul(Get(s0,0,0), float4x4(0.022915245965123,0.016798870638013,-0.153867781162262,0.093349151313305,0.038780800998211,0.014959809370339,-0.074543990194798,0.060250952839851,-0.054198373109102,0.077989920973778,-0.055682782083750,0.064754359424114,0.066459134221077,0.028965851292014,0.085801102221012,-0.129037201404572));
res += mul(Get(s0,0,dy), float4x4(-0.117945678532124,0.170331016182899,0.013046660460532,-0.166907310485840,0.018651146441698,-0.026654856279492,0.081274807453156,-0.092164389789104,0.032340202480555,0.068721801042557,-0.039967607706785,-0.008372774347663,0.025952089577913,0.070716112852097,-0.009566212072968,-0.056690745055676));
res += mul(Get(s0,dx,-dy), float4x4(-0.009437559172511,-0.050115823745728,-0.101338483393192,0.125359639525414,0.035262376070023,-0.025215649977326,-0.080277577042580,0.028087107464671,0.054925106465816,-0.139339715242386,-0.037041660398245,0.097283504903316,0.059938285499811,-0.025504238903522,-0.007251236122102,0.082188345491886));
res += mul(Get(s0,dx,0), float4x4(-0.036335915327072,0.160429522395134,0.026751536875963,0.014715450815856,0.025734176859260,0.055798474699259,-0.049610361456871,-0.031899925321341,0.055134970694780,-0.107792191207409,0.027609147131443,0.023583075031638,-0.024688119068742,0.059108499437571,-0.036363054066896,-0.033317301422358));
res += mul(Get(s0,dx,dy), float4x4(0.099474728107452,-0.030126588419080,0.173903554677963,-0.121509008109570,-0.027415342628956,0.037544354796410,-0.054795026779175,-0.084083691239357,-0.116571962833405,-0.022528853267431,0.076892919838428,-0.006360283587128,-0.115034110844135,-0.055066008120775,0.060451280325651,-0.117136783897877));
res += mul(Get(s1,-dx,-dy), float4x4(0.021539947018027,0.002825902542099,0.209058821201324,-0.035592392086983,-0.093384154140949,0.098575077950954,0.092409849166870,-0.034466091543436,-0.055102124810219,0.087007775902748,0.088908009231091,-0.011964435689151,0.038222748786211,0.008578460663557,-0.107819832861423,0.102346546947956));
res += mul(Get(s1,-dx,0), float4x4(0.107049822807312,0.008845450356603,-0.067889988422394,-0.064413629472256,-0.022247606888413,0.059199877083302,0.162368923425674,0.037477221339941,-0.099726386368275,0.309008717536926,-0.166484266519547,0.028122711926699,-0.015251818113029,-0.020614037290215,-0.151216670870781,0.123125217854977));
res += mul(Get(s1,-dx,dy), float4x4(0.087858490645885,-0.052933819591999,0.011262062005699,0.182579144835472,-0.174399033188820,-0.042251449078321,-0.048535384237766,-0.146455377340317,-0.045921087265015,0.030723471194506,-0.007761881686747,0.054411020129919,-0.079823829233646,0.026527315378189,0.135931506752968,-0.012344176881015));
res += mul(Get(s1,0,-dy), float4x4(0.028997326269746,0.005605237558484,0.097960814833641,0.091809391975403,0.052667304873466,0.089856788516045,0.167416483163834,-0.142154842615128,-0.111998885869980,0.009542430751026,0.166419655084610,0.199673846364021,0.028604675084352,0.194134533405304,-0.072707310318947,-0.094727024435997));
res += mul(Get(s1,0,0), float4x4(0.004135157912970,0.130768224596977,0.061348669230938,0.072788849473000,0.034082319587469,-0.051785673946142,0.252009421586990,0.054926566779613,-0.010738038457930,0.124901548027992,0.105850726366043,-0.044497728347778,-0.093561798334122,-0.030582681298256,-0.093172870576382,0.022790489718318));
res += mul(Get(s1,0,dy), float4x4(0.063577488064766,0.013592230156064,0.053836882114410,-0.034225117415190,0.051385991275311,0.129080697894096,0.103558860719204,-0.038057491183281,0.052678961306810,0.039405167102814,-0.008543889969587,-0.053767003118992,-0.131959915161133,0.006467288360000,0.089071936905384,0.017289647832513));
res += mul(Get(s1,dx,-dy), float4x4(0.006709191016853,-0.106282502412796,0.039957702159882,-0.043364390730858,0.068981684744358,0.157567232847214,0.134257391095161,0.018957734107971,0.017081098631024,0.028641264885664,0.078018695116043,-0.007041918579489,0.091966211795807,0.051910687237978,-0.040874034166336,-0.159400582313538));
res += mul(Get(s1,dx,0), float4x4(0.060913402587175,-0.060403909534216,0.168998360633850,-0.086571015417576,0.187655389308929,0.089938946068287,0.135321244597435,0.202294766902924,0.040692593902349,-0.061637192964554,0.049201097339392,0.063067995011806,-0.103058911859989,0.020173206925392,-0.148789554834366,0.100095994770527));
res += mul(Get(s1,dx,dy), float4x4(-0.039524886757135,-0.069836832582951,-0.001756223849952,0.017539266496897,-0.064657017588615,0.097276739776134,-0.005377249792218,0.116048529744148,0.133762940764427,0.075495637953281,-0.115796722471714,-0.046967547386885,0.006326543167233,0.055295996367931,0.081921078264713,0.000182205578312));
res += mul(Get(s2,-dx,-dy), float4x4(-0.068381264805794,-0.128430858254433,-0.088790364563465,-0.016126470640302,-0.007530131377280,0.052916467189789,0.026199499145150,0.046636696904898,-0.080311037600040,0.094061940908432,-0.084280923008919,-0.103533692657948,-0.124009609222412,0.074602045118809,0.065494634211063,-0.110766559839249));
res += mul(Get(s2,-dx,0), float4x4(-0.007359187118709,0.106543399393559,0.034474745392799,-0.070111759006977,-0.054424427449703,-0.043452516198158,0.020973218604922,0.024584816768765,0.028827873989940,-0.032820548862219,-0.092789009213448,0.023639950901270,-0.069870747625828,-0.013270350173116,-0.056405793875456,0.032616574317217));
res += mul(Get(s2,-dx,dy), float4x4(0.040748640894890,0.051463473588228,0.067918233573437,-0.111222915351391,-0.087773434817791,0.017721043899655,-0.104853443801403,-0.009057472459972,0.001907350728288,0.002422692487016,0.045682542026043,0.171046867966652,-0.048838015645742,-0.014645104296505,-0.037535253912210,0.101373523473740));
res += mul(Get(s2,0,-dy), float4x4(-0.061037100851536,-0.119593001902103,-0.184694886207581,0.051764201372862,0.043687276542187,-0.073439180850983,0.128330796957016,0.131750211119652,-0.106467165052891,0.198325216770172,0.046652760356665,-0.150560691952705,0.000428254366852,-0.055625718086958,-0.071658290922642,0.152726605534554));
res += mul(Get(s2,0,0), float4x4(-0.021076815202832,0.000595136894844,0.147947415709496,-0.006465872749686,0.001556942006573,-0.024132275953889,-0.134213641285896,-0.010831732302904,0.077961154282093,-0.075923182070255,0.125075668096542,-0.040499158203602,-0.090366564691067,-0.174484148621559,0.095364622771740,0.015154714696109));
res += mul(Get(s2,0,dy), float4x4(-0.104047045111656,-0.109734974801540,0.049435827881098,0.147218778729439,0.040896009653807,0.082293801009655,-0.035961650311947,0.048786345869303,0.132876500487328,0.095759741961956,-0.100794777274132,0.005787591915578,-0.045505125075579,0.151219770312309,0.032371241599321,-0.022807387635112));
res += mul(Get(s2,dx,-dy), float4x4(0.145205691456795,-0.049198474735022,-0.004150140099227,0.044236391782761,0.042056404054165,-0.116024523973465,0.113621979951859,-0.004068578127772,0.031685452908278,0.114865168929100,-0.175214573740959,-0.005664862226695,-0.003824390703812,-0.068140745162964,-0.049015533179045,-0.058913532644510));
res += mul(Get(s2,dx,0), float4x4(0.075128063559532,-0.082809984683990,0.082822449505329,0.002881418913603,0.091767646372318,-0.050811275839806,-0.061545342206955,0.001972376368940,0.005596662871540,0.077490657567978,-0.022135972976685,0.145737573504448,0.092108942568302,0.049480926245451,0.019726814702153,-0.084816873073578));
res += mul(Get(s2,dx,dy), float4x4(-0.113910898566246,-0.262637913227081,0.098952777683735,0.104179635643959,-0.135733440518379,0.112209744751453,-0.049654632806778,-0.166160210967064,0.029124205932021,0.057280950248241,-0.035085000097752,-0.001880416995846,0.084586247801781,-0.093415386974812,0.089191175997257,-0.030638398602605));
res += mul(Get(s3,-dx,-dy), float4x4(-0.056453905999660,-0.019740669056773,0.074848875403404,0.091529667377472,-0.064949795603752,-0.029234061017632,0.118817403912544,0.000933432602324,-0.085358917713165,-0.085401162505150,0.076759897172451,-0.006682809442282,0.091459102928638,0.121091127395630,-0.002834366168827,0.027166834101081));
res += mul(Get(s3,-dx,0), float4x4(-0.117013372480869,0.057549327611923,0.039406727999449,0.015850607305765,-0.168496981263161,0.065554387867451,-0.020184716209769,-0.003764163469896,0.000597651407588,-0.040296010673046,0.088337518274784,-0.012526705861092,0.006287037860602,0.004178446251899,-0.016760412603617,0.023442165926099));
res += mul(Get(s3,-dx,dy), float4x4(-0.063578218221664,-0.007252275478095,-0.099500641226768,0.034084942191839,0.082804642617702,-0.164453178644180,-0.111055448651314,0.041403383016586,0.119204916059971,0.007117256987840,0.101081252098083,0.040246851742268,-0.145619094371796,-0.136968806385994,-0.215537622570992,0.052563313394785));
res += mul(Get(s3,0,-dy), float4x4(0.066449068486691,0.088395789265633,0.025041284039617,0.076427370309830,-0.059691842645407,-0.155912488698959,0.043979007750750,0.074577555060387,0.074794165790081,-0.057298012077808,0.062371078878641,-0.035345695912838,0.200626567006111,-0.015174219384789,0.180204078555107,0.035328369587660));
res += mul(Get(s3,0,0), float4x4(-0.069719262421131,0.114516846835613,0.056018117815256,-0.052677989006042,0.138933703303337,-0.150168254971504,-0.048935782164335,0.029317444190383,0.081568643450737,0.220099702477455,0.036000248044729,0.033432286232710,-0.097756527364254,0.023147799074650,-0.041167534887791,0.018073953688145));
res += mul(Get(s3,0,dy), float4x4(0.083742134273052,-0.054098203778267,-0.054493546485901,-0.003243097802624,-0.112785905599594,-0.095760859549046,-0.144617110490799,0.056683994829655,0.098532371222973,-0.094621486961842,0.097367502748966,-0.129256799817085,-0.076734378933907,0.017926372587681,-0.069801211357117,0.140785321593285));
res += mul(Get(s3,dx,-dy), float4x4(0.047662887722254,0.061713103204966,-0.004502396564931,-0.028436047956347,0.074648872017860,-0.018432885408401,0.123944014310837,0.031939700245857,-0.014563345350325,0.014696056023240,0.052639804780483,-0.037175644189119,0.008536459878087,0.115175813436508,-0.073971711099148,-0.070716410875320));
res += mul(Get(s3,dx,0), float4x4(0.023572349920869,0.167326211929321,-0.028470365330577,0.071942135691643,0.054676767438650,-0.058047730475664,-0.191199302673340,-0.042866632342339,-0.008546265773475,0.051115218549967,-0.009927175007761,-0.025681275874376,0.016103392466903,0.023987969383597,-0.086495712399483,0.184460893273354));
res += mul(Get(s3,dx,dy), float4x4(0.108506686985493,0.161195993423462,0.062871590256691,-0.115471251308918,-0.069790512323380,-0.046079177409410,-0.108195744454861,0.042361766099930,0.131412774324417,-0.114598512649536,0.031692828983068,0.002778511960059,-0.070134453475475,-0.039696317166090,-0.087190635502338,0.000443928205641));
return max(float4(0,0,0,0), res);
}
