sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.001638864516281,-0.072128251194954,0.043274968862534,0.089669242501259,0.030979622155428,-0.040370363742113,0.084497250616550,0.026913486421108,0.005767554044724,0.115212291479111,0.086189366877079,0.114019982516766,0.000921800557990,-0.114923365414143,-0.027681522071362,0.014080208726227));
res += mul(Get(s0,-dx,0), float4x4(-0.210449337959290,-0.044362232089043,0.087867915630341,-0.089441843330860,-0.205882817506790,0.079198516905308,0.065734259784222,-0.009602996520698,0.152945667505264,0.133034646511078,-0.021759843453765,-0.020272331312299,0.027990039438009,-0.038891531527042,0.102734968066216,-0.030993498861790));
res += mul(Get(s0,-dx,dy), float4x4(-0.031047703698277,-0.002272511832416,0.135664701461792,0.053913902491331,0.082737356424332,-0.065292961895466,-0.087474495172501,-0.101340837776661,-0.057486694306135,-0.035937014967203,0.067000053822994,0.108919620513916,-0.186951965093613,0.044796414673328,0.103243798017502,0.179759621620178));
res += mul(Get(s0,0,-dy), float4x4(0.002994586713612,0.147014096379280,0.033721514046192,0.114947877824306,0.033064071089029,-0.036874201148748,0.006075043231249,0.120051734149456,-0.149838611483574,-0.055399488657713,-0.117600858211517,-0.204603075981140,-0.018395662307739,-0.089146479964256,-0.022893317043781,-0.096069835126400));
res += mul(Get(s0,0,0), float4x4(-0.078950837254524,0.001946946489625,-0.132854014635086,0.081692941486835,-0.088745027780533,-0.100254558026791,-0.026997592300177,0.072661720216274,-0.095178112387657,0.096831120550632,0.092341996729374,-0.028282970190048,-0.064621344208717,0.062279209494591,0.068541243672371,0.038310948759317));
res += mul(Get(s0,0,dy), float4x4(-0.076447278261185,-0.022675994783640,0.121898002922535,0.091973625123501,-0.027806701138616,-0.036102056503296,-0.015191062353551,-0.118113271892071,0.098657116293907,0.072623148560524,-0.027966534718871,0.039061993360519,-0.032938428223133,0.022722031921148,-0.084878556430340,-0.105637423694134));
res += mul(Get(s0,dx,-dy), float4x4(-0.039801791310310,-0.154201313853264,0.013750618323684,0.022866494953632,-0.022091487422585,0.080338113009930,-0.044476870447397,-0.115744888782501,-0.135222524404526,-0.093147128820419,0.037806894630194,0.032057765871286,-0.011754142120481,-0.057955093681812,-0.079639069736004,0.035324923694134));
res += mul(Get(s0,dx,0), float4x4(-0.038698464632034,0.021180335432291,-0.051784452050924,-0.036335732787848,0.059282209724188,0.045479316264391,0.067416846752167,0.044056616723537,-0.092541813850403,0.017695380374789,0.080665893852711,-0.131030291318893,-0.082536391913891,-0.178110450506210,0.008981755934656,-0.089559979736805));
res += mul(Get(s0,dx,dy), float4x4(0.007084863726050,0.003212596289814,0.236169949173927,-0.044764406979084,0.000358825753210,0.035435713827610,0.108972094953060,-0.041202437132597,-0.132247000932693,-0.126615494489670,-0.089066669344902,-0.018126636743546,-0.025503948330879,-0.075804486870766,0.050294261425734,0.133129954338074));
res += mul(Get(s1,-dx,-dy), float4x4(-0.059973463416100,-0.121921353042126,0.065658867359161,-0.020731896162033,0.050735924392939,0.011150958947837,-0.012156812474132,0.044133581221104,-0.105786703526974,0.062826775014400,0.015582037158310,0.093659877777100,0.082143336534500,0.000642405124381,-0.011884486302733,-0.014950216747820));
res += mul(Get(s1,-dx,0), float4x4(-0.109220243990421,-0.027710540220141,0.022975666448474,0.080149963498116,-0.047983866184950,0.039714310318232,0.000030029957998,-0.048705935478210,-0.112217865884304,-0.115907996892929,0.061270952224731,0.055495250970125,-0.066332362592220,-0.014044675976038,0.005124545190483,0.107035048305988));
res += mul(Get(s1,-dx,dy), float4x4(-0.086919650435448,-0.107853978872299,0.094654604792595,-0.064154781401157,-0.131007373332977,0.083398066461086,-0.013984039425850,0.046298317611217,0.052073743194342,-0.005012056324631,-0.108125083148479,-0.143034577369690,0.092175073921680,-0.150224238634109,-0.098213344812393,-0.132409691810608));
res += mul(Get(s1,0,-dy), float4x4(-0.033795617520809,-0.097063504159451,0.139861389994621,0.024353725835681,0.054790653288364,0.017614247277379,0.082604423165321,-0.013414811342955,-0.142195940017700,0.123685106635094,-0.104227602481842,0.079024724662304,0.076009638607502,-0.104380734264851,-0.051847402006388,0.015122959390283));
res += mul(Get(s1,0,0), float4x4(0.015126579441130,0.081315636634827,-0.006692374125123,0.066626645624638,0.155087858438492,0.032158676534891,-0.014863436110318,-0.029602445662022,-0.061017870903015,-0.184254482388496,-0.013639447279274,-0.071534596383572,0.044923428446054,-0.037600312381983,-0.001750567695126,-0.191689580678940));
res += mul(Get(s1,0,dy), float4x4(-0.113848224282265,0.012017298489809,0.030675329267979,0.085164465010166,-0.076366409659386,0.125309318304062,0.002683703089133,-0.035120181739330,-0.184879437088966,-0.095762908458710,0.125310748815536,0.040907450020313,-0.093837909400463,0.026810498908162,0.048038478940725,-0.051904905587435));
res += mul(Get(s1,dx,-dy), float4x4(0.045810170471668,-0.005562167614698,0.052282467484474,0.018851527944207,-0.051492806524038,0.065819926559925,0.113995090126991,-0.106432408094406,-0.039464101195335,-0.117573894560337,-0.028524231165648,-0.031864710152149,-0.055434171110392,0.009212739765644,0.000763423042372,-0.063698641955853));
res += mul(Get(s1,dx,0), float4x4(0.057105660438538,0.004230905324221,-0.126371398568153,-0.019978348165751,0.040930956602097,0.137154951691628,-0.006349582690746,0.045182608067989,0.058464586734772,0.031909760087729,0.157065823674202,-0.186116904020309,-0.062480606138706,-0.039157621562481,0.031165963038802,-0.112597353756428));
res += mul(Get(s1,dx,dy), float4x4(0.006536266766489,-0.104955673217773,0.070684120059013,-0.088408201932907,-0.176071047782898,-0.112542718648911,-0.043602824211121,-0.058396551758051,-0.101365499198437,0.028881967067719,0.092983856797218,-0.056910946965218,-0.004910150077194,0.166954562067986,-0.048963386565447,-0.051575150340796));
res += mul(Get(s2,-dx,-dy), float4x4(-0.004511573351920,-0.144950464367867,-0.130822792649269,-0.072390392422676,0.081924632191658,0.210962578654289,0.209244132041931,0.098406478762627,-0.036152012646198,0.034026324748993,-0.040064457803965,-0.030813284218311,0.040903266519308,-0.015924895182252,0.133866891264915,0.033041838556528));
res += mul(Get(s2,-dx,0), float4x4(-0.129140034317970,-0.042362391948700,0.071503318846226,0.019906401634216,-0.170506045222282,0.011212031356990,-0.062343150377274,-0.052380692213774,0.058159429579973,0.075568132102489,0.023968594148755,-0.056761190295219,0.032749578356743,0.202430292963982,0.089463628828526,-0.051498524844646));
res += mul(Get(s2,-dx,dy), float4x4(0.050337079912424,-0.005783194676042,-0.044066347181797,-0.000176790403202,0.021425217390060,-0.142366170883179,0.189475357532501,-0.099102549254894,-0.087474115192890,0.038344487547874,-0.080843076109886,0.096569672226906,0.014796038158238,0.097988009452820,-0.183163002133369,-0.028865959495306));
res += mul(Get(s2,0,-dy), float4x4(-0.042146984487772,0.050585951656103,0.119394004344940,0.089326068758965,0.088438093662262,0.076595261693001,0.154272198677063,-0.045231889933348,0.079880617558956,0.083397358655930,0.001207008725032,-0.049739379435778,0.145282626152039,-0.031431656330824,0.042663313448429,0.131272584199905));
res += mul(Get(s2,0,0), float4x4(0.009885021485388,-0.007691641803831,0.009679098613560,0.125414103269577,0.060846578329802,0.063865579664707,-0.243907898664474,-0.039910145103931,-0.104475319385529,0.005572919268161,-0.023579686880112,0.034171231091022,0.110563986003399,0.178019002079964,0.176789969205856,0.056601345539093));
res += mul(Get(s2,0,dy), float4x4(-0.063161440193653,-0.190547689795494,0.113423869013786,0.020809592679143,-0.062856152653694,-0.100200481712818,-0.093463040888309,-0.009963450022042,-0.043676797300577,-0.007118669804186,0.033733468502760,0.106158360838890,0.115417666733265,0.120154917240143,-0.073636047542095,-0.086571231484413));
res += mul(Get(s2,dx,-dy), float4x4(-0.077010132372379,-0.078889884054661,0.068334028124809,-0.079882711172104,-0.000839138578158,-0.199446439743042,0.049073398113251,-0.058123014867306,0.090328410267830,0.109123408794403,-0.113089554011822,-0.127167120575905,-0.081739336252213,-0.094763368368149,0.016012456268072,-0.076706774532795));
res += mul(Get(s2,dx,0), float4x4(-0.039551436901093,-0.065961182117462,-0.077164068818092,-0.036094266921282,-0.074485994875431,-0.015615776181221,-0.035513337701559,-0.094471856951714,0.131601408123970,0.092064514756203,0.156952202320099,-0.014467488043010,-0.000170316008735,-0.059390056878328,-0.028119619935751,-0.111550718545914));
res += mul(Get(s2,dx,dy), float4x4(-0.133599281311035,-0.114879451692104,0.104539953172207,0.016972066834569,0.059085320681334,-0.085549972951412,0.015749907121062,-0.041919350624084,0.176225841045380,0.077704198658466,-0.034671936184168,-0.058531649410725,0.061643797904253,-0.039400041103363,0.109202884137630,-0.074036665260792));
res += mul(Get(s3,-dx,-dy), float4x4(-0.060262095183134,0.144181087613106,0.059980809688568,-0.000454426684882,0.053478229790926,-0.111057437956333,0.024222597479820,-0.073996089398861,0.039153322577477,-0.004443470854312,0.048435229808092,0.037904094904661,0.079051919281483,-0.000709274259862,-0.184725001454353,-0.045271627604961));
res += mul(Get(s3,-dx,0), float4x4(0.002731428947300,0.075927309691906,-0.029415776953101,0.035086777061224,0.044365074485540,-0.096224941313267,0.076301015913486,-0.006048616021872,-0.111060112714767,0.032135758548975,-0.035857096314430,-0.096397608518600,-0.044488780200481,0.063886478543282,0.085422925651073,0.029907150194049));
res += mul(Get(s3,-dx,dy), float4x4(0.090549267828465,0.124141097068787,0.055153883993626,0.028774391859770,0.052579250186682,0.082218736410141,-0.026740116998553,0.026813628152013,0.172968164086342,0.013841549865901,0.136004924774170,0.117165669798851,0.086993135511875,-0.068179152905941,-0.044894017279148,-0.011538690887392));
res += mul(Get(s3,0,-dy), float4x4(-0.079809896647930,0.008050600066781,0.065795764327049,-0.004291681107134,-0.083947785198689,-0.049915064126253,-0.123456664383411,0.005522846709937,-0.069783970713615,-0.066797651350498,0.017441382631660,0.177838593721390,0.009397524408996,-0.014813904650509,-0.031412173062563,0.084065817296505));
res += mul(Get(s3,0,0), float4x4(-0.031548023223877,-0.054765187203884,-0.073925293982029,-0.046182796359062,-0.015482178889215,-0.027144206687808,-0.068838566541672,-0.080066524446011,0.052068002521992,-0.023061446845531,0.080821469426155,0.075160421431065,0.064904913306236,-0.001590206171386,0.016892690211535,-0.051970452070236));
res += mul(Get(s3,0,dy), float4x4(-0.087254047393799,-0.091309763491154,-0.033186916261911,-0.031216856092215,-0.061132669448853,-0.031784474849701,0.282383561134338,0.018957642838359,0.102931186556816,-0.005392709281296,-0.094513021409512,-0.010422184132040,-0.033472049981356,-0.059865910559893,0.024482740089297,0.003026588587090));
res += mul(Get(s3,dx,-dy), float4x4(-0.063675977289677,-0.045544456690550,-0.018578866496682,-0.040559843182564,-0.019476726651192,-0.067401126027107,0.072527818381786,0.011980777606368,-0.025330943986773,-0.041570637375116,-0.063215367496014,-0.071730963885784,0.006466338410974,0.007714811712503,0.130547016859055,-0.056219846010208));
res += mul(Get(s3,dx,0), float4x4(-0.040054600685835,0.019946740940213,0.024376405403018,0.014071147888899,0.038234237581491,0.026565320789814,-0.016302751377225,0.004652172327042,0.164250314235687,0.015175329521298,0.040076367557049,-0.041022926568985,-0.006761963944882,0.065396189689636,0.057671666145325,0.069271959364414));
res += mul(Get(s3,dx,dy), float4x4(-0.110509581863880,-0.005709930788726,0.013012439943850,0.009975992143154,-0.046498682349920,-0.069088876247406,-0.022519625723362,-0.087046645581722,0.020751414820552,-0.055250603705645,0.180749103426933,0.007689983583987,-0.018951786682010,-0.054766613990068,-0.017972100526094,0.114030286669731));
return max(float4(0,0,0,0), res);
}
