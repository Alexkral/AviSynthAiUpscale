sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.131653815507889,0.073055692017078,-0.009224548004568,-0.002410977147520,-0.078860238194466,-0.026316484436393,-0.048690389841795,0.010102492757142,-0.010120805352926,0.062793917953968,-0.068639330565929,-0.033098883926868,-0.040209826081991,0.153049543499947,0.073608860373497,0.000497130386066));
res += mul(Get(s0,-dx,0), float4x4(0.118488058447838,0.000201266346266,-0.036657061427832,0.012277200818062,0.062121368944645,-0.036840420216322,-0.044755633920431,-0.040489364415407,0.103930108249187,-0.074273839592934,-0.032134164124727,0.029807891696692,-0.128711760044098,0.023074973374605,-0.186679720878601,-0.096151262521744));
res += mul(Get(s0,-dx,dy), float4x4(0.026244349777699,0.124162010848522,0.017545297741890,0.112781092524529,0.127777621150017,0.053279731422663,0.086875647306442,0.070814475417137,0.017505735158920,0.072508238255978,0.041281212121248,-0.062572553753853,-0.164347961544991,0.006457825656980,-0.058269351720810,-0.111094847321510));
res += mul(Get(s0,0,-dy), float4x4(-0.047681715339422,0.179082602262497,-0.007546238135546,0.090498954057693,0.023246292024851,-0.003869505831972,0.108495309948921,-0.074266940355301,-0.145922526717186,0.136686190962791,-0.213617131114006,0.033822532743216,0.090381532907486,0.078997276723385,0.125655949115753,0.008966440334916));
res += mul(Get(s0,0,0), float4x4(0.073703080415726,0.053180333226919,-0.078008785843849,-0.071652442216873,0.058839261531830,-0.059641323983669,0.054460998624563,-0.022733390331268,-0.043337222188711,0.219100028276443,-0.085158005356789,0.010026532225311,-0.000600356317591,0.053890511393547,-0.000108102773083,0.003356312168762));
res += mul(Get(s0,0,dy), float4x4(-0.064920984208584,-0.126190587878227,0.047262441366911,-0.044875875115395,-0.078101903200150,0.000750150531530,0.000855070131365,-0.049545872956514,0.010851535946131,-0.033173914998770,-0.154942318797112,0.195009261369705,-0.113237857818604,0.008354495279491,-0.039351899176836,0.016008282080293));
res += mul(Get(s0,dx,-dy), float4x4(-0.007336241658777,-0.100198715925217,0.075654536485672,0.109023928642273,-0.105598874390125,0.021606050431728,-0.003500149119645,0.043644219636917,-0.091452173888683,-0.015418087132275,0.033356502652168,-0.024485964328051,-0.058002386242151,0.041585333645344,0.028800722211599,-0.101681120693684));
res += mul(Get(s0,dx,0), float4x4(-0.072879597544670,-0.088611483573914,-0.112974099814892,0.013199479319155,-0.039874650537968,-0.019625907763839,-0.052804484963417,-0.001562610385008,0.033502914011478,-0.096054561436176,-0.230561733245850,-0.124416865408421,0.026428593322635,0.043312631547451,0.144544243812561,-0.110399827361107));
res += mul(Get(s0,dx,dy), float4x4(-0.094792902469635,-0.073090061545372,0.168435990810394,0.020975256338716,0.120800510048866,-0.109559461474419,-0.016382804140449,0.046623677015305,-0.071493878960609,-0.083945289254189,-0.232766300439835,-0.081872038543224,0.095356851816177,0.130059719085693,-0.027584524825215,-0.050528254359961));
res += mul(Get(s1,-dx,-dy), float4x4(0.038294918835163,0.019653068855405,0.052849832922220,0.120639406144619,0.131777882575989,-0.017521681264043,0.032607316970825,0.099969848990440,0.054237917065620,0.056218959391117,-0.139534220099449,0.006834692787379,0.031512480229139,0.051122035831213,0.009989291429520,-0.035746317356825));
res += mul(Get(s1,-dx,0), float4x4(0.007365153636783,0.105684131383896,0.035941060632467,-0.020397737622261,-0.042783595621586,-0.058255504816771,-0.003085986711085,-0.002748997882009,0.117306560277939,-0.019411509856582,-0.020166350528598,-0.031777236610651,0.002624947112054,-0.013415695168078,0.061708133667707,-0.154055416584015));
res += mul(Get(s1,-dx,dy), float4x4(-0.012667424976826,-0.014284203760326,0.025533139705658,-0.130210667848587,0.007327054161578,-0.066225014626980,0.035319421440363,-0.027735829353333,0.013546128757298,0.060528919100761,0.008170003071427,-0.035483937710524,-0.029463505372405,0.046593774110079,0.040458988398314,0.021476110443473));
res += mul(Get(s1,0,-dy), float4x4(0.035259556025267,0.146688923239708,0.051169272512197,-0.057558801025152,-0.074846498668194,0.070173829793930,-0.085956983268261,0.130673050880432,0.070088982582092,-0.114828348159790,-0.129475370049477,-0.103902488946915,0.014944245107472,0.151980802416801,-0.043891742825508,-0.028694501146674));
res += mul(Get(s1,0,0), float4x4(0.077214278280735,0.027919245883822,0.004923420492560,-0.105101950466633,0.126045614480972,-0.024822616949677,-0.150349125266075,0.069099895656109,0.094470895826817,0.122762404382229,-0.140416681766510,0.068554013967514,-0.017498185858130,0.012005674652755,-0.090285383164883,-0.060600109398365));
res += mul(Get(s1,0,dy), float4x4(0.021880263462663,0.021216347813606,0.059557788074017,-0.156032383441925,0.072322152554989,-0.076295092701912,0.049799278378487,-0.164050087332726,0.063086852431297,0.032485827803612,-0.097901217639446,-0.062992803752422,0.054523698985577,-0.007803795393556,0.057603567838669,0.040371742099524));
res += mul(Get(s1,dx,-dy), float4x4(0.015251095406711,-0.084040537476540,-0.042873460799456,-0.113718949258327,-0.032849900424480,0.040433671325445,0.057616557925940,0.008701743558049,0.002999689662829,-0.062385246157646,-0.113403275609016,0.019150212407112,0.104294858872890,0.012989479117095,-0.034342661499977,-0.023351633921266));
res += mul(Get(s1,dx,0), float4x4(-0.171590104699135,0.111695766448975,-0.189712077379227,-0.025815788656473,-0.004065146204084,-0.150675535202026,0.066840767860413,-0.015003176406026,0.060172278434038,-0.008727558888495,-0.159561321139336,-0.071574971079826,-0.160066202282906,0.112988837063313,-0.073827654123306,-0.012661378830671));
res += mul(Get(s1,dx,dy), float4x4(-0.033368084579706,-0.011006691493094,-0.116405896842480,-0.085363544523716,-0.037549879401922,-0.012757408432662,0.032448966056108,-0.098110154271126,0.093639440834522,0.056564252823591,-0.086480557918549,-0.044770170003176,0.048901539295912,0.022850271314383,-0.064061433076859,0.005265901796520));
res += mul(Get(s2,-dx,-dy), float4x4(0.048936396837234,-0.036927036941051,0.091248139739037,0.007637966424227,-0.010978633537889,-0.005579588934779,-0.068000048398972,-0.047439485788345,-0.154017642140388,0.014292825944722,-0.041774682700634,0.052697956562042,0.080195590853691,0.004998332820833,0.301040083169937,0.142667040228844));
res += mul(Get(s2,-dx,0), float4x4(-0.055150050669909,-0.058265231549740,-0.027027588337660,0.035491891205311,0.053735312074423,-0.042955704033375,0.065813526511192,-0.005729206837714,0.016251584514976,0.027652822434902,0.046010661870241,-0.001377897919156,0.229167029261589,-0.065041184425354,-0.015120457857847,0.008411334827542));
res += mul(Get(s2,-dx,dy), float4x4(0.072637423872948,-0.050535421818495,-0.083271212875843,0.161149397492409,0.021273128688335,0.142234563827515,-0.096652701497078,-0.014208515174687,0.017408544197679,-0.099013842642307,-0.161515399813652,0.117232516407967,-0.038508061319590,-0.126929596066475,0.061714727431536,-0.028632368892431));
res += mul(Get(s2,0,-dy), float4x4(-0.083809554576874,-0.014121991582215,0.051678989082575,0.087611138820648,0.099287077784538,-0.113305233418941,-0.021285673603415,-0.140714377164841,-0.062713392078876,0.134460330009460,-0.077509775757790,0.013103664852679,0.034209586679935,0.002198929432780,0.137239068746567,-0.063877299427986));
res += mul(Get(s2,0,0), float4x4(-0.111316509544849,-0.029980307444930,0.054926730692387,-0.030580267310143,0.185176536440849,0.027859782800078,0.056092791259289,0.141544967889786,-0.018201649188995,-0.039698723703623,0.100766487419605,-0.015522310510278,0.003284324659035,0.148740082979202,0.167503118515015,0.178912729024887));
res += mul(Get(s2,0,dy), float4x4(0.105654738843441,-0.078192442655563,0.033709131181240,0.028704371303320,-0.028702652081847,0.131412148475647,-0.097691126167774,-0.071376457810402,0.116645790636539,-0.029822738841176,0.077325977385044,0.085637852549553,0.044404823333025,-0.151048958301544,0.079071559011936,-0.088080056011677));
res += mul(Get(s2,dx,-dy), float4x4(0.018827982246876,0.015226203948259,0.015229200012982,-0.066840887069702,0.002551495796070,-0.023636573925614,0.038355655968189,0.111851170659065,0.059400092810392,0.097799301147461,0.005230551585555,0.045830987393856,0.137762829661369,0.003328784368932,-0.041786167770624,-0.033881168812513));
res += mul(Get(s2,dx,0), float4x4(0.068509809672832,0.075479045510292,-0.002620625775307,-0.040446080267429,-0.027142014354467,-0.070712506771088,-0.074666254222393,-0.048814281821251,0.209852203726768,0.067576237022877,-0.058988381177187,0.083068907260895,0.137750983238220,0.220732107758522,-0.030890349298716,-0.051962025463581));
res += mul(Get(s2,dx,dy), float4x4(-0.078644044697285,0.088758863508701,-0.102114304900169,0.040217641741037,0.089475870132446,-0.006458224728703,-0.151791438460350,-0.045674473047256,0.062534809112549,0.061397228389978,-0.028846666216850,-0.126734644174576,-0.030322460457683,0.025791628286242,0.159821376204491,-0.084162183105946));
res += mul(Get(s3,-dx,-dy), float4x4(0.068854168057442,0.047728601843119,-0.092171728610992,-0.102071382105350,0.072033405303955,0.096469193696976,0.015229163691401,0.104374162852764,-0.118134707212448,0.007166014518589,0.018381632864475,-0.001556071452796,-0.067271560430527,-0.110201902687550,0.008454436436296,-0.198382526636124));
res += mul(Get(s3,-dx,0), float4x4(0.032764647156000,-0.010696825571358,0.030004840344191,0.049048367887735,0.016909070312977,-0.014015845954418,-0.080902077257633,-0.057719778269529,-0.007210851181298,0.078790403902531,-0.137255564332008,0.012880668044090,0.047238700091839,0.141802594065666,0.054491374641657,-0.021490255370736));
res += mul(Get(s3,-dx,dy), float4x4(-0.106617331504822,-0.058961745351553,0.084564790129662,-0.091025613248348,-0.018472710624337,-0.004640203434974,0.121450789272785,0.050593033432961,0.161765024065971,0.072783194482327,-0.025209307670593,-0.081237696111202,0.006774020846933,-0.080298773944378,-0.035350065678358,0.034004129469395));
res += mul(Get(s3,0,-dy), float4x4(0.223151221871376,-0.006657587829977,-0.058609530329704,-0.011905859224498,0.085527002811432,0.000735829933546,0.103205800056458,0.028568200767040,-0.006828149780631,0.056729122996330,-0.013441297225654,0.029599659144878,-0.098971471190453,0.101078480482101,-0.162266686558723,-0.139088883996010));
res += mul(Get(s3,0,0), float4x4(-0.005310243926942,0.056169576942921,0.040600188076496,0.101147979497910,-0.049870289862156,-0.114643193781376,0.103141605854034,-0.117563538253307,0.083208642899990,0.022071827203035,-0.127294763922691,-0.099914513528347,-0.019649486988783,0.018932797014713,-0.012183699756861,-0.071733526885509));
res += mul(Get(s3,0,dy), float4x4(0.034725718200207,-0.015470657497644,0.059129480272532,0.078145720064640,0.070473723113537,-0.048673078417778,-0.012717561796308,-0.187447398900986,-0.091319531202316,0.022873435169458,-0.090712040662766,-0.019878214225173,0.099983915686607,-0.220078364014626,0.134875059127808,-0.013440514914691));
res += mul(Get(s3,dx,-dy), float4x4(0.045455262064934,-0.065083637833595,0.076335228979588,0.027326969429851,0.035860404372215,-0.030755653977394,0.017374319955707,-0.068131603300571,-0.011961549520493,0.086672052741051,0.088029213249683,-0.093741610646248,0.070935882627964,0.045834142714739,-0.108787208795547,-0.119651667773724));
res += mul(Get(s3,dx,0), float4x4(-0.176601111888885,0.058037444949150,0.076763123273849,-0.101267434656620,0.062227521091700,-0.072348818182945,0.108022332191467,0.068435430526733,-0.102327734231949,0.047603793442249,0.041934978216887,0.102858625352383,-0.014462396502495,-0.031547170132399,-0.048274852335453,-0.004032770171762));
res += mul(Get(s3,dx,dy), float4x4(0.005391900427639,-0.085838921368122,-0.007404210511595,0.051723554730415,-0.008075331337750,-0.037990026175976,-0.004891405813396,0.043115653097630,0.022900758311152,-0.129782080650330,0.040017858147621,-0.018795097246766,-0.021081022918224,0.050393346697092,-0.047311868518591,-0.013617778196931));
return max(float4(0,0,0,0), res);
}
