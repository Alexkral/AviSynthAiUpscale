sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.086543112993240,-0.018273655325174,0.106976114213467,-0.088708914816380,-0.156581178307533,0.103356376290321,0.023906020447612,0.047512006014585,0.041196357458830,-0.078105427324772,-0.032063171267509,0.052278097718954,-0.031588803976774,-0.166639521718025,0.028677396476269,0.029640808701515));
res += mul(Get(s0,-dx,0), float4x4(-0.167529195547104,0.032599199563265,0.148771092295647,0.011047273874283,-0.088024027645588,0.002536481944844,0.019295942038298,0.059430573135614,-0.069994792342186,0.000466405850602,0.026897836476564,0.176859110593796,0.026231728494167,-0.100731775164604,0.122145511209965,-0.068624891340733));
res += mul(Get(s0,-dx,dy), float4x4(0.041411411017179,-0.132564470171928,0.091594040393829,-0.001947404351085,-0.053448308259249,-0.108201168477535,0.033094499260187,0.198232263326645,-0.054337881505489,-0.047994069755077,-0.060343679040670,-0.085639953613281,-0.001371796708554,-0.072201326489449,-0.076300062239170,0.024261418730021));
res += mul(Get(s0,0,-dy), float4x4(0.027041474357247,-0.048830520361662,-0.045521911233664,-0.037018481642008,-0.005052509717643,-0.026855861768126,-0.075090661644936,0.048947691917419,0.084559187293053,-0.142475694417953,0.038389805704355,0.044281624257565,-0.056840941309929,0.111909843981266,-0.044569488614798,0.092002622783184));
res += mul(Get(s0,0,0), float4x4(-0.025307331234217,-0.022521713748574,-0.104168474674225,-0.042219851166010,0.082865633070469,0.041182208806276,0.010328327305615,0.036266375333071,0.193838372826576,-0.047696638852358,0.014647007919848,-0.039626333862543,-0.151373937726021,0.135163486003876,-0.139897778630257,0.051135424524546));
res += mul(Get(s0,0,dy), float4x4(-0.082553364336491,0.078401133418083,0.084626957774162,-0.025878431275487,0.043383955955505,0.001893096952699,-0.055399760603905,0.129279717803001,0.089663922786713,0.070552140474319,-0.023114806041121,0.021378720179200,0.140052139759064,-0.025698252022266,-0.106295473873615,-0.018252218142152));
res += mul(Get(s0,dx,-dy), float4x4(-0.059151474386454,-0.009201725944877,0.022398669272661,-0.003295863512903,-0.004645997658372,-0.082721874117851,0.069404937326908,0.062734186649323,-0.129177957773209,0.022237945348024,-0.106492109596729,-0.179161325097084,-0.044665865600109,-0.051058635115623,0.001886184909381,0.032823849469423));
res += mul(Get(s0,dx,0), float4x4(-0.092222027480602,0.063260696828365,-0.047225780785084,-0.110930927097797,0.058234181255102,-0.120725251734257,0.151314437389374,0.042580891400576,-0.121329545974731,0.148554205894470,0.154159858822823,0.035539723932743,-0.147320881485939,0.047393389046192,-0.084349773824215,0.051611352711916));
res += mul(Get(s0,dx,dy), float4x4(-0.000986437196843,0.012718160636723,0.055758774280548,-0.092353321611881,0.004421134479344,0.020132793113589,0.130793139338493,-0.048187095671892,-0.022254221141338,0.018950490280986,-0.095843970775604,-0.092916421592236,-0.024447908625007,-0.076940096914768,-0.093143284320831,-0.105954222381115));
res += mul(Get(s1,-dx,-dy), float4x4(0.025178812444210,-0.066860496997833,-0.058520447462797,0.078496970236301,0.135637134313583,0.021699817851186,0.066966973245144,0.185863569378853,0.079894885420799,0.074608691036701,0.122259803116322,0.169107720255852,-0.010819267481565,0.072990916669369,-0.141776725649834,0.110147088766098));
res += mul(Get(s1,-dx,0), float4x4(-0.137007430195808,0.029068585485220,0.040513042360544,0.079356573522091,-0.035340644419193,0.014559989795089,-0.007115264888853,0.068594276905060,0.145217448472977,-0.115709267556667,-0.075904287397861,0.145686745643616,-0.096642561256886,-0.196375712752342,-0.088271565735340,-0.005434939172119));
res += mul(Get(s1,-dx,dy), float4x4(0.071846410632133,0.103626005351543,-0.027393626049161,-0.032350763678551,-0.114826142787933,0.070049084722996,0.014824263751507,0.048363227397203,-0.126236021518707,0.038211662322283,0.066339433193207,-0.006546815857291,-0.089636698365211,0.057529039680958,0.001202471787110,-0.008286898024380));
res += mul(Get(s1,0,-dy), float4x4(-0.045713864266872,-0.121723026037216,0.132149979472160,-0.156156316399574,-0.060612998902798,-0.069778189063072,0.226546823978424,-0.072855800390244,-0.013438195921481,-0.055550403892994,0.110501088202000,-0.042175114154816,0.020555160939693,0.007556596770883,0.265348523855209,-0.121170245110989));
res += mul(Get(s1,0,0), float4x4(0.046731475740671,0.045090302824974,0.071120955049992,0.114746637642384,0.128373458981514,-0.043859377503395,0.111961908638477,0.109529174864292,0.052179802209139,-0.094417355954647,-0.010569261386991,-0.145054191350937,-0.123599611222744,-0.007348586805165,0.019544603303075,-0.030686045065522));
res += mul(Get(s1,0,dy), float4x4(0.005605851300061,0.042697940021753,-0.020159261301160,-0.024778876453638,0.039867922663689,-0.112135782837868,0.042444247752428,-0.092437066137791,-0.121573440730572,0.018584372475743,0.002164136385545,-0.169906869530678,0.032324068248272,0.096628598868847,-0.018202818930149,0.035326857119799));
res += mul(Get(s1,dx,-dy), float4x4(-0.014412071555853,-0.055855140089989,0.055284313857555,-0.046806294471025,0.109319441020489,-0.039357434958220,0.101289190351963,0.016272716224194,0.079198181629181,0.026435839012265,0.059789288789034,-0.019189409911633,-0.021183760836720,0.000856092607137,0.136850968003273,-0.223442047834396));
res += mul(Get(s1,dx,0), float4x4(-0.130548775196075,-0.096652694046497,0.042171381413937,-0.125515177845955,-0.054220691323280,-0.094005092978477,-0.053768921643496,-0.130439966917038,-0.006499413866550,0.023800984025002,0.091341309249401,-0.067388236522675,-0.072143666446209,0.058367691934109,-0.025463137775660,-0.212592676281929));
res += mul(Get(s1,dx,dy), float4x4(-0.065738424658775,0.028592133894563,0.031229631975293,-0.020451840013266,0.015844244509935,-0.023097557947040,-0.002512018429115,0.024754751473665,0.029238261282444,-0.047418415546417,0.213591754436493,0.056035634130239,-0.076142966747284,-0.035022206604481,0.025629855692387,-0.178384512662888));
res += mul(Get(s2,-dx,-dy), float4x4(-0.055346589535475,0.060284595936537,-0.000516216445249,0.082865454256535,-0.047170557081699,-0.012512605637312,-0.044053811579943,0.066422462463379,-0.027668181806803,-0.034774791449308,0.089624866843224,0.013089780695736,0.013712656684220,-0.119819059967995,-0.057493094354868,0.002096045529470));
res += mul(Get(s2,-dx,0), float4x4(-0.150538161396980,0.037982318550348,0.002664291998371,0.056501056998968,-0.072824209928513,0.036348573863506,-0.051279887557030,0.038803715258837,0.022893447428942,0.001156650367193,0.072432234883308,0.124854512512684,-0.107739403843880,-0.094133868813515,0.128116011619568,0.074380643665791));
res += mul(Get(s2,-dx,dy), float4x4(-0.056679625064135,0.132583111524582,-0.049653332680464,0.159016877412796,-0.007597111165524,0.085539452731609,-0.042966738343239,0.036529250442982,-0.002264007693157,-0.128706470131874,0.234530746936798,0.073955908417702,0.069538369774818,-0.101079009473324,0.002794552827254,0.013478665612638));
res += mul(Get(s2,0,-dy), float4x4(-0.015184811316431,-0.037297740578651,0.096655882894993,0.093593664467335,-0.037840716540813,-0.049064077436924,0.085593678057194,-0.001711813965812,-0.073722116649151,-0.105680912733078,0.127289578318596,-0.163634851574898,-0.008047828450799,0.100267320871353,-0.076038345694542,-0.016104288399220));
res += mul(Get(s2,0,0), float4x4(-0.012230814434588,-0.143849372863770,-0.111797071993351,0.132873609662056,0.013700220733881,-0.046287465840578,0.009908357635140,-0.005763503257185,-0.023457365110517,-0.042486932128668,-0.078752145171165,0.171387672424316,-0.000267435854767,0.065543808043003,0.084062784910202,0.057180579751730));
res += mul(Get(s2,0,dy), float4x4(0.022093692794442,-0.069470204412937,0.027279395610094,0.068990342319012,0.150478318333626,0.013199144043028,-0.039609082043171,-0.037866298109293,-0.082153536379337,0.040249947458506,0.064259447157383,0.019000807777047,0.015257582068443,0.103827789425850,-0.123821139335632,0.103790469467640));
res += mul(Get(s2,dx,-dy), float4x4(-0.046348985284567,-0.001055524218827,-0.231893837451935,0.068536445498466,0.048444967716932,0.011534593999386,-0.082581929862499,-0.174697130918503,-0.017889766022563,0.042750824242830,0.086218036711216,-0.071529433131218,-0.010879156179726,-0.145648509263992,-0.008789776824415,-0.208027601242065));
res += mul(Get(s2,dx,0), float4x4(-0.057198967784643,-0.012611423619092,0.066457800567150,0.041398700326681,0.060273114591837,-0.011080119758844,-0.065322436392307,0.111882269382477,0.035249833017588,0.035234551876783,0.031858049333096,-0.004636553581804,0.006623775698245,0.035502471029758,-0.075373783707619,0.034398328512907));
res += mul(Get(s2,dx,dy), float4x4(0.073863208293915,-0.011098266579211,0.152168199419975,0.050320081412792,0.002922771032900,-0.117305509746075,0.165168792009354,0.088880650699139,-0.055030528455973,-0.011147181503475,-0.135389462113380,-0.079854063689709,0.082576774060726,0.008645377121866,-0.013467269949615,0.008556721732020));
res += mul(Get(s3,-dx,-dy), float4x4(-0.157018959522247,-0.042416147887707,0.039765238761902,-0.113084800541401,-0.037553519010544,-0.053033184260130,-0.069867089390755,-0.025322411209345,0.073745287954807,-0.151012495160103,0.076226040720940,0.067886151373386,0.237932220101357,0.061391476541758,-0.073191098868847,0.041384480893612));
res += mul(Get(s3,-dx,0), float4x4(-0.061013359576464,-0.009852580726147,-0.002329543465748,0.061719138175249,-0.070040427148342,-0.168323382735252,0.029207922518253,0.051801688969135,-0.097736716270447,0.152753636240959,0.042757231742144,0.027472620829940,-0.067184157669544,0.127129212021828,-0.022468132898211,-0.004673258401453));
res += mul(Get(s3,-dx,dy), float4x4(0.021977951750159,-0.120819628238678,-0.034679908305407,0.016601577401161,-0.163204863667488,0.061812240630388,0.066680707037449,0.101273059844971,-0.013717886060476,-0.106933087110519,0.069773413240910,0.012688648886979,-0.022602874785662,0.168460041284561,-0.022361561655998,0.036927442997694));
res += mul(Get(s3,0,-dy), float4x4(0.045278970152140,0.007542137056589,0.101951770484447,-0.014226940460503,-0.084898464381695,-0.035796720534563,0.038536544889212,-0.040103264153004,-0.073506683111191,0.051012773066759,0.093809127807617,0.047287929803133,-0.093057796359062,0.034187298268080,0.192203879356384,0.022580029442906));
res += mul(Get(s3,0,0), float4x4(-0.151800483465195,0.140289768576622,-0.009566976688802,-0.013472113758326,-0.074157059192657,0.037120085209608,0.052464194595814,0.210394561290741,0.060215208679438,-0.042735815048218,0.167385086417198,-0.004237214103341,0.021543588489294,-0.163996458053589,0.183958679437637,0.109713748097420));
res += mul(Get(s3,0,dy), float4x4(-0.028720499947667,0.027214515954256,0.052367042750120,0.023874504491687,-0.027916740626097,0.050585567951202,-0.029574666172266,0.133777931332588,0.057122185826302,-0.011505471542478,0.079310037195683,0.089260526001453,-0.086063712835312,-0.004065570887178,0.068124972283840,-0.062147591263056));
res += mul(Get(s3,dx,-dy), float4x4(-0.029322430491447,-0.100530423223972,0.015624670311809,-0.010420165956020,0.083839483559132,0.074354939162731,0.076375134289265,0.014976407401264,0.007416774053127,0.033769562840462,0.143318429589272,-0.045478902757168,-0.096246577799320,-0.135059267282486,0.150217428803444,0.048726581037045));
res += mul(Get(s3,dx,0), float4x4(-0.016696052625775,-0.139578044414520,-0.248227074742317,-0.091844834387302,0.012327681295574,-0.165396645665169,-0.073287054896355,-0.143123075366020,0.008242104202509,0.028013749048114,0.010698661208153,-0.048296112567186,-0.037286479026079,-0.027771020308137,0.050288431346416,-0.006925885099918));
res += mul(Get(s3,dx,dy), float4x4(-0.070275582373142,0.016814759001136,-0.010969866998494,-0.163959234952927,0.165516033768654,-0.050760246813297,-0.156580269336700,-0.032100651413202,0.045772686600685,0.020483078435063,-0.093491584062576,-0.067723579704762,-0.075867697596550,-0.026414358988404,-0.029406480491161,-0.067612543702126));
return max(float4(0,0,0,0), res);
}
