sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.032289642840624,-0.048897571861744,0.119937516748905,-0.099006354808807,0.169096514582634,0.034666907042265,-0.084191747009754,-0.004443319514394,0.028922833502293,0.056051306426525,0.065560683608055,0.067719712853432,-0.112923003733158,0.108568377792835,0.099953614175320,-0.048983681946993));
res += mul(Get(s0,-dx,0), float4x4(0.130646511912346,-0.174759611487389,-0.057844318449497,-0.006940347142518,0.104561783373356,-0.088166214525700,0.043607901781797,0.077884018421173,-0.156064435839653,0.028014047071338,-0.076839454472065,0.066831007599831,0.073343917727470,-0.193951189517975,-0.077087141573429,-0.056067276746035));
res += mul(Get(s0,-dx,dy), float4x4(0.195643797516823,0.027931503951550,-0.070742748677731,-0.195780873298645,-0.040312856435776,-0.125803858041763,-0.117635838687420,0.217335388064384,-0.014486544765532,-0.090470783412457,-0.091317273676395,-0.004669212736189,-0.024142740294337,0.099635280668736,-0.073192723095417,-0.001577591872774));
res += mul(Get(s0,0,-dy), float4x4(0.200176939368248,0.079192221164703,0.074717506766319,0.063283264636993,0.139811798930168,0.135201215744019,-0.271929472684860,-0.085098095238209,-0.049906320869923,-0.106019616127014,-0.028096955269575,0.014767701737583,0.027152022346854,-0.044366609305143,-0.038045391440392,0.073191694915295));
res += mul(Get(s0,0,0), float4x4(0.052887838333845,-0.109283491969109,0.123138785362244,0.213650584220886,-0.223569795489311,0.072751976549625,-0.126737892627716,-0.056415349245071,-0.017023965716362,0.030072715133429,0.160750046372414,-0.005887566599995,-0.123292081058025,-0.023189868777990,0.097678780555725,0.039795249700546));
res += mul(Get(s0,0,dy), float4x4(0.070223048329353,0.040900882333517,-0.195666566491127,0.172674015164375,-0.097341895103455,0.027415137737989,-0.029272614046931,-0.044802162796259,-0.158028647303581,-0.049967326223850,0.020641691982746,-0.049756139516830,0.024593060836196,0.054855782538652,-0.026707751676440,-0.001111167133786));
res += mul(Get(s0,dx,-dy), float4x4(-0.055858679115772,-0.032399982213974,-0.103477559983730,-0.018874956294894,0.090854376554489,0.048406872898340,-0.050774250179529,0.023876098915935,-0.085321992635727,-0.080294638872147,0.028630036860704,-0.163834050297737,-0.060620445758104,-0.068380929529667,0.040203865617514,0.216344594955444));
res += mul(Get(s0,dx,0), float4x4(-0.122841961681843,0.024722404778004,-0.010422858409584,-0.028029415756464,-0.203945457935333,-0.047854349017143,-0.131314873695374,-0.048979423940182,-0.054121796041727,-0.001060485607013,-0.037990923970938,0.002673841547221,-0.084554605185986,-0.084169127047062,-0.014321692287922,0.121369823813438));
res += mul(Get(s0,dx,dy), float4x4(-0.160544767975807,0.056953854858875,0.052059620618820,0.107450552284718,-0.015240476466715,-0.060004904866219,-0.061889033764601,0.093623824417591,0.036428820341825,0.043138299137354,0.029793739318848,0.068982139229774,0.135106965899467,-0.038653105497360,0.025836804881692,-0.025873893871903));
res += mul(Get(s1,-dx,-dy), float4x4(0.046959739178419,0.003998108208179,-0.143719509243965,-0.082733392715454,0.009318104013801,-0.123523108661175,0.039469219744205,0.141909003257751,-0.135319679975510,-0.112359151244164,-0.010059662163258,-0.091004483401775,0.009721046313643,-0.152893036603928,-0.131838127970695,0.047036346048117));
res += mul(Get(s1,-dx,0), float4x4(-0.051515560597181,-0.001820733305067,-0.032184310257435,-0.040597643703222,-0.160591229796410,0.028373325243592,-0.075438514351845,0.129452988505363,-0.029417620971799,0.074882596731186,-0.039795480668545,-0.133184581995010,-0.057540904730558,-0.150364995002747,-0.032759547233582,0.059134703129530));
res += mul(Get(s1,-dx,dy), float4x4(-0.044104248285294,0.086974389851093,0.034688364714384,0.033731218427420,-0.153912246227264,0.019218653440475,-0.074258424341679,-0.018732607364655,-0.118062756955624,-0.076937317848206,-0.023087184876204,-0.038801517337561,-0.095575489103794,0.095623299479485,-0.093212448060513,-0.052536617964506));
res += mul(Get(s1,0,-dy), float4x4(0.067711263895035,0.166090026497841,0.002455703914165,-0.021782778203487,0.074094876646996,0.067652799189091,0.050694368779659,0.050942763686180,-0.041050888597965,-0.000540331646334,0.266725093126297,0.111446723341942,-0.059972863644361,-0.062805764377117,-0.073498331010342,0.039033189415932));
res += mul(Get(s1,0,0), float4x4(0.038884218782187,0.085085697472095,0.002236045431346,0.130722939968109,-0.019177202135324,-0.014688617549837,0.081182762980461,0.054206170141697,-0.259493350982666,-0.018194755539298,0.074871465563774,0.026216471567750,-0.236183643341064,-0.009374492801726,-0.118367880582809,-0.000553716206923));
res += mul(Get(s1,0,dy), float4x4(0.140879273414612,-0.093981780111790,-0.056680548936129,0.102398350834846,0.081047892570496,0.087283946573734,0.046512413769960,-0.043142374604940,-0.058307185769081,0.174722716212273,0.047795191407204,-0.137903258204460,0.243669778108597,0.151960760354996,-0.250518858432770,-0.059555314481258));
res += mul(Get(s1,dx,-dy), float4x4(-0.054548438638449,0.048464700579643,0.068522930145264,0.130778074264526,0.052710175514221,-0.045895501971245,0.022764189168811,-0.175274357199669,-0.148723751306534,-0.082896612584591,0.036207191646099,-0.014723274856806,-0.025128684937954,-0.030443035066128,0.015286051668227,0.045846883207560));
res += mul(Get(s1,dx,0), float4x4(0.049359705299139,0.056595586240292,0.036978363990784,-0.127426832914352,0.026378262788057,-0.075235180556774,0.109146818518639,0.047349251806736,0.023976473137736,-0.060434073209763,-0.010413785465062,0.066809944808483,0.073678508400917,-0.122812852263451,0.233603090047836,0.032424606382847));
res += mul(Get(s1,dx,dy), float4x4(-0.119909964501858,0.072463162243366,0.051829792559147,0.051343742758036,0.037299390882254,-0.128217890858650,-0.068977378308773,-0.113279074430466,0.145399317145348,0.053000099956989,-0.157200694084167,0.120517037808895,0.005266677588224,-0.265250533819199,0.077565960586071,-0.108366623520851));
res += mul(Get(s2,-dx,-dy), float4x4(-0.025267506018281,-0.042294200509787,0.107966303825378,0.056828908622265,0.004272390622646,0.074632331728935,-0.238193184137344,-0.106149852275848,0.175595566630363,0.039428524672985,-0.062066625803709,-0.066491119563580,0.080667838454247,0.016349298879504,0.078971281647682,0.098383508622646));
res += mul(Get(s2,-dx,0), float4x4(-0.104015238583088,-0.012033856473863,0.103860653936863,0.063844509422779,0.028038006275892,-0.133034467697144,-0.059297338128090,-0.025901656597853,0.126427471637726,-0.073983497917652,0.019267195835710,-0.068670220673084,-0.063118793070316,-0.084465190768242,-0.073885530233383,-0.019038399681449));
res += mul(Get(s2,-dx,dy), float4x4(-0.028262414038181,0.052009448409081,0.098698332905769,-0.140559658408165,-0.192312404513359,-0.036766178905964,0.061398532241583,-0.100697010755539,-0.177226021885872,-0.146829232573509,-0.151546657085419,-0.165370136499405,-0.062340475618839,0.005836373195052,0.080149151384830,0.024792909622192));
res += mul(Get(s2,0,-dy), float4x4(-0.163675874471664,-0.013874611817300,-0.051683317869902,0.066647551953793,-0.176355212926865,0.069324091076851,0.233356386423111,0.067225530743599,0.077357895672321,0.135696917772293,0.127412840723991,0.043840207159519,0.001820782315917,0.110301949083805,0.088289417326450,-0.110494270920753));
res += mul(Get(s2,0,0), float4x4(0.067501105368137,-0.162501916289330,-0.010194181464612,0.135316953063011,-0.029789175838232,-0.120762623846531,-0.017116332426667,0.006677825003862,0.014683535322547,-0.010821417905390,0.053101714700460,0.036908976733685,0.098886169493198,-0.025068577378988,0.136522024869919,-0.043696969747543));
res += mul(Get(s2,0,dy), float4x4(0.060252554714680,0.057808004319668,0.057419836521149,-0.022426193580031,0.022362915799022,0.133302867412567,-0.037948705255985,-0.006096211262047,-0.048672545701265,-0.085544951260090,-0.057929039001465,0.018211213871837,0.151871830224991,-0.100559405982494,0.039925955235958,0.013359758071601));
res += mul(Get(s2,dx,-dy), float4x4(-0.104530185461044,0.106450550258160,0.282695531845093,0.017011579126120,-0.056394901126623,0.000389840686694,-0.029240755364299,-0.024347454309464,0.059192299842834,-0.047409057617188,-0.135128825902939,0.079319134354591,0.145124569535255,0.132851257920265,0.073761619627476,-0.020811164751649));
res += mul(Get(s2,dx,0), float4x4(-0.010166593827307,0.088659428060055,0.114669144153595,0.147546663880348,-0.073605120182037,-0.030064389109612,0.017337746918201,-0.020350001752377,0.059901535511017,0.134603694081306,-0.008987053297460,-0.131738111376762,-0.203555554151535,-0.052677296102047,-0.090729191899300,0.048106811940670));
res += mul(Get(s2,dx,dy), float4x4(0.060355693101883,0.064883120357990,0.173648089170456,-0.051378734409809,-0.121697813272476,-0.067391596734524,0.033526767045259,-0.070298932492733,-0.001059542526491,0.058075472712517,0.048835929483175,0.125631362199783,-0.127334371209145,-0.025106340646744,0.217152044177055,0.057822987437248));
res += mul(Get(s3,-dx,-dy), float4x4(0.442884415388107,0.034968223422766,0.069541551172733,0.066598594188690,0.049721363931894,-0.004779988899827,0.140499889850616,0.020783487707376,0.063227929174900,0.033700842410326,0.094662606716156,0.063130192458630,0.095841497182846,0.112757802009583,-0.151046991348267,0.065959155559540));
res += mul(Get(s3,-dx,0), float4x4(0.096632331609726,-0.058910194784403,-0.136230975389481,-0.085210524499416,0.173195764422417,-0.067136190831661,-0.000142617675010,-0.000677639269270,0.048741761595011,0.006765163037926,0.098865374922752,-0.057850234210491,0.007707723882049,0.087860293686390,0.025443799793720,-0.142845153808594));
res += mul(Get(s3,-dx,dy), float4x4(-0.036963231861591,-0.024899579584599,-0.147760033607483,-0.053511656820774,-0.117359928786755,0.075333431363106,-0.091495633125305,-0.120461247861385,0.072598479688168,-0.107825368642807,-0.081713937222958,-0.045168153941631,0.083408690989017,-0.047605682164431,0.085276015102863,-0.149107664823532));
res += mul(Get(s3,0,-dy), float4x4(0.086014501750469,-0.211901396512985,0.050460707396269,-0.025030961260200,-0.075698815286160,0.060910902917385,0.049430847167969,-0.127247154712677,-0.063618652522564,0.075628593564034,-0.011106006801128,0.042550273239613,-0.062394052743912,0.038466606289148,-0.056569397449493,0.019981779158115));
res += mul(Get(s3,0,0), float4x4(-0.160646438598633,0.050105322152376,-0.072021193802357,0.036439951509237,0.132408216595650,0.008565696887672,0.107654087245464,-0.014622175134718,-0.029049174860120,-0.144459769129753,0.086297385394573,-0.006056309211999,-0.080120205879211,-0.100485198199749,0.050690699368715,0.008661784231663));
res += mul(Get(s3,0,dy), float4x4(-0.100825451314449,-0.004606369417161,-0.078809186816216,-0.059166043996811,0.008347022347152,0.000969269778579,-0.011005155742168,-0.037439327687025,0.031646683812141,0.090651385486126,0.053937692195177,0.026392398402095,-0.042586792260408,-0.090625032782555,0.052228365093470,-0.048754531890154));
res += mul(Get(s3,dx,-dy), float4x4(-0.013574793003500,-0.014843910001218,0.029015092179179,-0.052735660225153,-0.030203755944967,-0.001334720989689,-0.006160896271467,-0.052525196224451,0.005493912845850,-0.004479436669499,0.019005704671144,-0.059937134385109,-0.002649122616276,0.162883505225182,0.037220831960440,0.147334724664688));
res += mul(Get(s3,dx,0), float4x4(-0.244086340069771,-0.064536944031715,-0.012310049496591,-0.099928960204124,0.036374043673277,-0.078957490622997,0.015541911125183,-0.170372948050499,0.082360669970512,-0.071473002433777,0.092364825308323,0.048175588250160,0.066276609897614,0.041692733764648,0.188176095485687,-0.017470149323344));
res += mul(Get(s3,dx,dy), float4x4(-0.058926958590746,-0.038730449974537,0.033474341034889,0.106553271412849,0.179056778550148,-0.044221971184015,0.148698568344116,0.066730774939060,-0.025946361944079,0.106881834566593,0.124534524977207,-0.148720458149910,0.084046095609665,0.052173532545567,0.092043243348598,-0.008190779946744));
return max(float4(0,0,0,0), res);
}
