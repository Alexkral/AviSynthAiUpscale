sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.044993486255407,0.119625516235828,-0.072265543043613,0.002261235611513,0.092228084802628,-0.007720718160272,-0.035896614193916,-0.019670149311423,-0.043926309794188,0.235474690794945,-0.025800742208958,0.068541511893272,0.143951088190079,0.081043541431427,-0.068822741508484,-0.003456190694124));
res += mul(Get(s0,-dx,0), float4x4(0.037689879536629,-0.032152000814676,-0.191354438662529,-0.046763718128204,0.031359545886517,0.006169782020152,0.062479928135872,-0.178681492805481,-0.046360082924366,0.019231408834457,-0.016412544995546,0.154177382588387,0.024700831621885,0.047503288835287,0.090547136962414,-0.043503779917955));
res += mul(Get(s0,-dx,dy), float4x4(-0.019038550555706,0.047239325940609,0.140992671251297,-0.015566946007311,-0.106319613754749,0.022706871852279,-0.023496687412262,-0.021591950207949,0.070364713668823,0.005623798817396,-0.044081289321184,-0.083785198628902,0.158341109752655,-0.094466120004654,0.106274291872978,0.184234172105789));
res += mul(Get(s0,0,-dy), float4x4(-0.155941501259804,0.046467792242765,-0.009207634255290,-0.067606456577778,-0.080721922218800,0.070973716676235,0.052576344460249,0.010582364164293,-0.135946854948997,0.005327040795237,0.008885089308023,0.029122576117516,-0.075553402304649,-0.000007715760148,-0.012669279240072,0.044641949236393));
res += mul(Get(s0,0,0), float4x4(-0.076702475547791,-0.013697402551770,-0.021698262542486,-0.262178957462311,-0.109565556049347,-0.028611378744245,-0.012339673005044,-0.080689832568169,-0.124598249793053,0.092352524399757,-0.083188064396381,0.165184125304222,-0.016217390075326,0.076274730265141,-0.039960145950317,-0.123903617262840));
res += mul(Get(s0,0,dy), float4x4(-0.061518881469965,-0.070409677922726,0.207918286323547,0.075607493519783,-0.010023560374975,0.064981229603291,-0.074169978499413,0.031511243432760,0.117069065570831,0.032853558659554,0.027502240613103,0.073733061552048,-0.026830011978745,-0.057879917323589,-0.015492611564696,-0.016667248681188));
res += mul(Get(s0,dx,-dy), float4x4(-0.067800626158714,-0.171109169721603,-0.039696991443634,-0.186852425336838,-0.009315341711044,0.002757579321042,-0.090512543916702,-0.006638483610004,-0.031140547245741,-0.148278847336769,-0.167617037892342,-0.050536479800940,-0.016621477901936,0.079252868890762,-0.020016796886921,0.183585271239281));
res += mul(Get(s0,dx,0), float4x4(-0.069578759372234,-0.083498500287533,0.033997353166342,0.005357671994716,0.030513102188706,-0.097594738006592,0.038641855120659,-0.051394574344158,-0.004573973827064,-0.087713837623596,-0.031929392367601,0.000375922711100,-0.044681597501040,0.078600995242596,-0.249687939882278,-0.128816679120064));
res += mul(Get(s0,dx,dy), float4x4(0.087001785635948,0.008617478422821,0.068206951022148,0.116602443158627,0.042512744665146,0.032002445310354,0.018920959904790,0.018084380775690,0.118527144193649,-0.005068072583526,-0.043367348611355,0.065220251679420,0.081082671880722,-0.011703809723258,0.042492851614952,0.006349342409521));
res += mul(Get(s1,-dx,-dy), float4x4(0.089387349784374,-0.054227087646723,0.162189707159996,-0.093142285943031,-0.029771346598864,0.037094406783581,-0.053786188364029,-0.169208288192749,0.015922563150525,0.121276848018169,0.047006502747536,-0.064123496413231,0.009738788940012,0.050637394189835,-0.034927498549223,0.057465299963951));
res += mul(Get(s1,-dx,0), float4x4(-0.058652952313423,-0.001226254506037,0.101512655615807,0.019993226975203,0.009543262422085,-0.052867457270622,0.090359725058079,0.015682695433497,0.012568101286888,0.087099105119705,0.088354259729385,-0.007482742425054,-0.024559549987316,-0.020470904186368,0.042983647435904,-0.046197399497032));
res += mul(Get(s1,-dx,dy), float4x4(-0.068281508982182,0.025102015584707,0.120434246957302,-0.059867095202208,0.132905244827271,-0.052132818847895,-0.133517995476723,0.093009345233440,-0.066477753221989,-0.078206278383732,-0.020993545651436,-0.048256900161505,0.096633337438107,-0.029111824929714,0.084297508001328,-0.029422787949443));
res += mul(Get(s1,0,-dy), float4x4(0.021374329924583,-0.027969213202596,0.011338779702783,0.129227548837662,-0.014390694908798,-0.106448762118816,0.028703119605780,-0.039968885481358,-0.080204166471958,0.016038110479712,0.004975882824510,0.147352039813995,-0.081249646842480,-0.049499694257975,0.133024886250496,0.019752385094762));
res += mul(Get(s1,0,0), float4x4(-0.026785725727677,0.013144643977284,0.091590769588947,0.064934924244881,-0.030283160507679,-0.073130294680595,-0.011818557977676,-0.005578046198934,-0.077796086668968,-0.020572954788804,-0.058487389236689,0.023248260840774,-0.003209298476577,-0.031708467751741,0.049114983528852,-0.051541667431593));
res += mul(Get(s1,0,dy), float4x4(0.013000914826989,0.278558820486069,0.050037499517202,-0.018519379198551,0.032184757292271,0.002393266651779,-0.043291877955198,-0.106664590537548,-0.006486287340522,-0.011618168093264,-0.033218324184418,0.053189888596535,0.139758944511414,0.125703796744347,-0.038937471807003,-0.056327112019062));
res += mul(Get(s1,dx,-dy), float4x4(0.099165983498096,-0.017640303820372,0.104577064514160,0.099097788333893,0.000326843612129,0.042441241443157,-0.047798812389374,-0.034334301948547,0.066727638244629,-0.030626259744167,0.081681333482265,0.088974043726921,-0.236657634377480,0.001626346958801,0.002125216415152,-0.033823739737272));
res += mul(Get(s1,dx,0), float4x4(0.037085779011250,0.012645300477743,0.132622957229614,-0.120159015059471,0.112633392214775,0.119913361966610,0.106205523014069,0.052076764404774,0.067984908819199,-0.089864216744900,-0.069020085036755,0.049862533807755,-0.031706951558590,-0.018511649221182,0.056044321507215,-0.026007939130068));
res += mul(Get(s1,dx,dy), float4x4(-0.007172762416303,-0.090988561511040,0.088726826012135,-0.113148979842663,-0.161497116088867,0.091846406459808,-0.024543577805161,0.086854055523872,-0.050218205899000,0.107623107731342,0.055738572031260,0.063619695603848,-0.048300497233868,-0.020926205441356,0.047232236713171,0.088896341621876));
res += mul(Get(s2,-dx,-dy), float4x4(-0.063325703144073,0.132490977644920,0.004144208971411,-0.113179259002209,0.006901368498802,-0.019766362383962,-0.019198633730412,0.104544021189213,-0.036631885915995,-0.009870563633740,-0.038114611059427,0.040213517844677,0.061900608241558,0.041822232306004,-0.047088563442230,0.005389179568738));
res += mul(Get(s2,-dx,0), float4x4(-0.149015203118324,0.128263980150223,-0.061762981116772,0.092333324253559,0.029829643666744,-0.044706020504236,-0.132114529609680,-0.126057118177414,-0.039249867200851,-0.112008169293404,-0.051125247031450,0.073080047965050,0.083066061139107,-0.028691433370113,-0.022325871512294,0.128346815705299));
res += mul(Get(s2,-dx,dy), float4x4(0.106639325618744,0.008766381070018,-0.184552147984505,0.016947515308857,-0.111659437417984,0.106451816856861,-0.055001929402351,-0.096822887659073,-0.042074467986822,-0.043783985078335,-0.002913714619353,-0.056638713926077,0.028749145567417,-0.065577156841755,0.180904567241669,-0.097588896751404));
res += mul(Get(s2,0,-dy), float4x4(-0.031510036438704,0.029016159474850,0.242356821894646,0.008514814078808,-0.088304243981838,0.063065357506275,0.004019490443170,0.149348914623260,0.036745592951775,-0.039069291204214,0.072205469012260,0.042733263224363,0.026953445747495,-0.004116299562156,-0.096970394253731,0.004249296151102));
res += mul(Get(s2,0,0), float4x4(-0.080239057540894,-0.024544237181544,0.037259541451931,0.092076212167740,-0.005426457617432,-0.189567551016808,-0.043591316789389,-0.143284350633621,0.058129072189331,-0.038752138614655,0.004194563720375,-0.006056434474885,-0.061083689332008,0.065197288990021,-0.072496116161346,0.071423359215260));
res += mul(Get(s2,0,dy), float4x4(0.032264187932014,-0.062228612601757,-0.128841832280159,0.004179204348475,-0.016231838613749,-0.008046894334257,0.058585461229086,-0.021090701222420,-0.007971786893904,0.119272001087666,0.032199352979660,0.045272484421730,0.103841982781887,-0.010836360976100,-0.106729984283447,0.058218929916620));
res += mul(Get(s2,dx,-dy), float4x4(-0.124768331646919,0.063803449273109,0.049204621464014,0.017469270154834,-0.018865119665861,-0.005472722928971,-0.142116203904152,0.085376612842083,0.201291233301163,-0.018221354112029,0.061745390295982,0.092142432928085,-0.026386093348265,-0.044555027037859,0.012967808172107,-0.067548803985119));
res += mul(Get(s2,dx,0), float4x4(-0.043731421232224,-0.011969541199505,0.066327661275864,-0.035027012228966,-0.029790883883834,-0.237976342439651,0.038367234170437,0.014678219333291,0.080491967499256,-0.060465112328529,-0.024060722440481,-0.035728480666876,-0.103416241705418,-0.056580517441034,0.112110517919064,-0.064656339585781));
res += mul(Get(s2,dx,dy), float4x4(0.118335798382759,-0.030897069722414,-0.057480514049530,-0.066425919532776,-0.027239833027124,-0.130447596311569,0.063320606946945,0.099792309105396,0.031384918838739,0.061113644391298,0.066134676337242,0.085542775690556,-0.026679007336497,-0.030642360448837,0.065690457820892,-0.052338182926178));
res += mul(Get(s3,-dx,-dy), float4x4(-0.164329066872597,0.110599771142006,0.047985497862101,0.136145979166031,0.057427443563938,-0.092570520937443,0.040188580751419,-0.032915655523539,0.076659232378006,-0.075938455760479,-0.100782454013824,0.028293788433075,0.005417897365987,0.012871343642473,-0.158523261547089,-0.025521587580442));
res += mul(Get(s3,-dx,0), float4x4(-0.043338213115931,0.123759008944035,0.021219134330750,-0.073251321911812,-0.006329006981105,0.116385497152805,0.048759959638119,-0.112387560307980,-0.035523101687431,0.000496447784826,-0.169892176985741,-0.017920969054103,0.080026030540466,0.036511499434710,0.044091612100601,0.063035123050213));
res += mul(Get(s3,-dx,dy), float4x4(0.000671509362292,0.063138291239738,0.086086735129356,0.062147300690413,0.108147755265236,0.022418044507504,0.099623046815395,-0.024323638528585,0.082861572504044,0.108397334814072,0.027702834457159,0.035575646907091,0.031925667077303,0.002854583319277,0.016178674995899,0.136435255408287));
res += mul(Get(s3,0,-dy), float4x4(-0.055061090737581,0.086830973625183,0.088220365345478,0.053972795605659,-0.063825853168964,-0.066832378506660,-0.005156917963177,-0.022728756070137,0.008547329343855,-0.035043634474277,-0.032985847443342,0.041842691600323,0.088808670639992,0.004369319882244,0.154336705803871,0.013822209089994));
res += mul(Get(s3,0,0), float4x4(-0.173596575856209,-0.034842364490032,0.149304047226906,-0.066988848149776,0.073710814118385,-0.016192523762584,0.090811938047409,-0.002679378027096,-0.030586672946811,-0.020695170387626,-0.137097761034966,0.018473932519555,-0.080729410052299,0.054071228951216,0.051251191645861,0.010443705134094));
res += mul(Get(s3,0,dy), float4x4(-0.071765594184399,-0.068102225661278,0.008407785557210,0.019730420783162,-0.023757493123412,-0.062924213707447,0.102459192276001,0.018176497891545,0.040418520569801,0.020025987178087,0.048097036778927,-0.064551599323750,0.097639262676239,0.057073678821325,-0.077740773558617,0.175235539674759));
res += mul(Get(s3,dx,-dy), float4x4(0.082993075251579,-0.049404464662075,0.012957210652530,0.057966511696577,0.028110552579165,0.058717716485262,-0.037276741117239,-0.048024419695139,0.011637273244560,-0.014885103330016,0.049396950751543,-0.024624451994896,0.041956134140491,0.101296283304691,0.171418964862823,0.037997107952833));
res += mul(Get(s3,dx,0), float4x4(0.124644115567207,-0.085848845541477,-0.006158841773868,0.006126217544079,-0.114822968840599,-0.124240972101688,0.073260597884655,-0.023719474673271,-0.161252409219742,0.093505173921585,-0.007020049728453,-0.064223781228065,-0.008507770486176,-0.010054475627840,0.122726336121559,-0.081093616783619));
res += mul(Get(s3,dx,dy), float4x4(0.058134958148003,0.017124161124229,-0.156554654240608,0.048364248126745,-0.002949694404379,-0.016937138512731,-0.039468944072723,0.162972062826157,-0.031684651970863,0.088972173631191,-0.100895740091801,-0.025682773441076,-0.037487275898457,-0.044828288257122,-0.076963402330875,-0.011429723352194));
return max(float4(0,0,0,0), res);
}
