sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.100778087973595,0.041215814650059,0.082305707037449,-0.153911322355270,-0.059896588325500,0.068138964474201,-0.020159872248769,0.103866115212440,-0.090100735425949,0.005059811752290,-0.030183998867869,0.025771673768759,0.073918707668781,-0.181634873151779,0.034796949476004,-0.018689747899771));
res += mul(Get(s0,-dx,0), float4x4(-0.009161284193397,-0.001980187837034,0.086644604802132,0.095097810029984,-0.071126908063889,-0.086916185915470,-0.066684707999229,-0.066678412258625,0.064673349261284,0.022470150142908,-0.029535014182329,-0.027658874168992,0.026026064530015,0.020557986572385,0.128122016787529,-0.094404600560665));
res += mul(Get(s0,-dx,dy), float4x4(0.120513074100018,0.085898637771606,-0.028332006186247,-0.005300530698150,-0.010350052267313,0.053989548236132,-0.107467941939831,-0.049758732318878,0.145377054810524,-0.018182503059506,0.005889298394322,-0.028310781344771,-0.004463394172490,0.087399512529373,-0.072538577020168,-0.039973363280296));
res += mul(Get(s0,0,-dy), float4x4(-0.032942239195108,0.085577800869942,-0.189195901155472,0.057521410286427,0.022404078394175,-0.003223631065339,-0.026575576514006,0.002386822132394,-0.025250766426325,-0.000245751696639,0.105847582221031,0.013817328959703,-0.308299750089645,-0.078969456255436,-0.046787042170763,-0.081588678061962));
res += mul(Get(s0,0,0), float4x4(0.112295880913734,-0.006301746703684,-0.041841384023428,0.025221321731806,0.002558346837759,0.055056937038898,0.015898749232292,0.195860281586647,-0.114397600293159,-0.093481667339802,0.109821207821369,0.168029785156250,0.008923650719225,-0.180602014064789,-0.044295195490122,0.099535793066025));
res += mul(Get(s0,0,dy), float4x4(0.011805482208729,0.017436055466533,0.030751325190067,0.102542445063591,0.040116924792528,-0.002845980459824,0.158104300498962,0.044518709182739,0.109513983130455,-0.061544403433800,0.025692678987980,0.038106549531221,-0.010316232219338,0.045369636267424,-0.061059601604939,0.110188513994217));
res += mul(Get(s0,dx,-dy), float4x4(0.059729032218456,-0.057847775518894,-0.073996491730213,0.059037361294031,0.096224181354046,0.083355970680714,0.065894320607185,-0.080278903245926,-0.029711049050093,0.072884410619736,-0.004325442016125,-0.151012852787971,-0.113741278648376,-0.161278590559959,-0.063026994466782,0.039243154227734));
res += mul(Get(s0,dx,0), float4x4(-0.035724949091673,0.017980838194489,0.155099630355835,-0.045434132218361,0.028734026476741,-0.021635327488184,0.069866515696049,-0.045247294008732,-0.015719680115581,0.009577438235283,0.041687995195389,0.116405718028545,-0.093441151082516,-0.062604591250420,0.023674968630075,0.044614251703024));
res += mul(Get(s0,dx,dy), float4x4(0.032605063170195,-0.137112826108932,-0.085570618510246,0.057234358042479,0.022001465782523,-0.040126658976078,0.008597397245467,-0.010929490439594,0.008496627211571,-0.164816603064537,-0.072868868708611,0.097269915044308,-0.075748905539513,-0.151462033390999,0.025143517181277,-0.048871733248234));
res += mul(Get(s1,-dx,-dy), float4x4(-0.140493437647820,-0.019091852009296,-0.003775609191507,-0.046199075877666,-0.067087538540363,-0.046858657151461,0.002192660234869,-0.087207145988941,-0.074966661632061,-0.071643874049187,-0.011430156417191,-0.065881788730621,-0.085968933999538,0.009876689873636,0.050203651189804,-0.047978881746531));
res += mul(Get(s1,-dx,0), float4x4(-0.056759659200907,-0.006536911707371,0.026659525930882,0.005995642393827,0.126639246940613,-0.045413609594107,0.045873727649450,-0.039743617177010,-0.016340382397175,0.022922808304429,0.202871084213257,0.100164599716663,0.098074190318584,-0.013074463233352,0.052722260355949,-0.067842200398445));
res += mul(Get(s1,-dx,dy), float4x4(0.071397334337234,-0.008910658769310,-0.022802477702498,0.017475930973887,-0.012313638813794,0.041707493364811,-0.095637075603008,-0.147895768284798,0.084599278867245,0.036639232188463,0.053785644471645,-0.073439538478851,0.025810906663537,-0.026118395850062,0.043109875172377,-0.146161258220673));
res += mul(Get(s1,0,-dy), float4x4(-0.157244548201561,0.206224799156189,0.130834802985191,0.135943651199341,-0.040163431316614,0.002791006118059,-0.012512566521764,0.109959118068218,-0.001521428464912,0.026957936584949,-0.158392563462257,0.005993527825922,-0.078135289251804,-0.022233305498958,0.022362714633346,0.020880294963717));
res += mul(Get(s1,0,0), float4x4(-0.011242935433984,0.000884383509401,-0.019820578396320,-0.011998224072158,0.046640697866678,0.053112797439098,0.031908821314573,0.157660603523254,-0.015282858163118,-0.093890406191349,0.065205477178097,-0.058283220976591,0.004892061464489,0.000258163636317,-0.027810428291559,-0.003808133071288));
res += mul(Get(s1,0,dy), float4x4(-0.117568843066692,-0.030796978622675,-0.213265538215637,0.050471335649490,0.076912760734558,0.314480841159821,-0.134224101901054,-0.028946273028851,-0.045118268579245,-0.065170608460903,-0.011165502481163,0.124972425401211,0.024789504706860,0.089524418115616,0.055379010736942,0.085231028497219));
res += mul(Get(s1,dx,-dy), float4x4(-0.128676190972328,0.102370984852314,-0.006228744983673,-0.072973579168320,0.033559773117304,-0.039948541671038,-0.113059386610985,0.134731069207191,0.100142523646355,-0.007094930857420,-0.181077942252159,-0.048525646328926,-0.036723081022501,0.016638012602925,0.029125334694982,0.147197410464287));
res += mul(Get(s1,dx,0), float4x4(-0.155139714479446,-0.159360781311989,-0.025308020412922,-0.112623736262321,-0.036838199943304,0.114825777709484,-0.010877581313252,0.151145249605179,-0.020280670374632,-0.015487998723984,-0.104867316782475,0.043596476316452,-0.057949025183916,0.016780028119683,-0.074521005153656,0.141022875905037));
res += mul(Get(s1,dx,dy), float4x4(-0.038550917059183,-0.051066357642412,-0.082673147320747,0.065698914229870,-0.185520797967911,0.126713171601295,-0.148403406143188,0.092423856258392,-0.004338454920799,-0.019427955150604,0.066661469638348,0.029264548793435,-0.053317572921515,0.011242558248341,-0.114760100841522,-0.029103126376867));
res += mul(Get(s2,-dx,-dy), float4x4(0.093874618411064,0.102459385991096,-0.038379359990358,0.020622342824936,0.089729286730289,0.006211808416992,-0.062929123640060,-0.029038194566965,0.000841858796775,0.069504857063293,-0.013261354528368,-0.237476602196693,0.130227237939835,-0.121305011212826,0.032217681407928,0.142040669918060));
res += mul(Get(s2,-dx,0), float4x4(-0.060446526855230,-0.059639416635036,-0.030457366257906,-0.037713441997766,-0.019914595410228,-0.100391224026680,0.022483050823212,-0.013770435005426,-0.124409645795822,-0.139741420745850,0.117630600929260,-0.192823782563210,0.030137354508042,0.116048738360405,0.015699550509453,0.124566748738289));
res += mul(Get(s2,-dx,dy), float4x4(0.035789549350739,0.051698669791222,0.114333011209965,-0.070388391613960,-0.052055452018976,-0.049081385135651,0.155851513147354,0.000979386386462,0.072296030819416,-0.031165976077318,0.117442727088928,-0.119555570185184,-0.103483177721500,0.054746527224779,0.048710543662310,-0.063460059463978));
res += mul(Get(s2,0,-dy), float4x4(-0.042918831110001,-0.112730450928211,0.051626317203045,0.040650319308043,-0.049093905836344,-0.132656082510948,0.174555912613869,-0.073492512106895,0.059250324964523,0.016098754480481,0.029721522703767,0.233312517404556,0.051031436771154,0.022765396162868,0.065855652093887,0.181393623352051));
res += mul(Get(s2,0,0), float4x4(0.038902271538973,-0.113788194954395,-0.085532650351524,0.074464254081249,-0.090755887329578,0.027042375877500,0.008877934888005,0.040374729782343,0.151777654886246,0.038212031126022,0.085448153316975,0.190174177289009,0.053653202950954,0.050884574651718,-0.029459031298757,0.066992320120335));
res += mul(Get(s2,0,dy), float4x4(0.010603366419673,-0.083139024674892,-0.051239471882582,-0.063864387571812,-0.020693477243185,0.029843997210264,0.062552653253078,-0.010068223811686,0.136064246296883,0.153978258371353,-0.023249544203281,0.157361969351768,0.067347951233387,0.014207256957889,-0.013306609354913,0.056624036282301));
res += mul(Get(s2,dx,-dy), float4x4(-0.104613870382309,-0.057865098118782,-0.090269125998020,-0.046728953719139,-0.012218243442476,-0.019780404865742,-0.012980470433831,-0.087817266583443,0.047462463378906,0.190273314714432,-0.115631006658077,-0.029614152386785,-0.058972515165806,0.032770060002804,0.011665858328342,0.047275435179472));
res += mul(Get(s2,dx,0), float4x4(-0.026459097862244,0.075138680636883,-0.006894034799188,0.015720432624221,-0.079044431447983,-0.075305305421352,0.088463753461838,0.016343722119927,0.014442225918174,-0.064722649753094,-0.085094600915909,0.138199761509895,-0.106142178177834,-0.017607737332582,-0.058229222893715,0.061283446848392));
res += mul(Get(s2,dx,dy), float4x4(-0.047712933272123,-0.090633861720562,0.119420684874058,-0.076792277395725,-0.003201687242836,-0.045017484575510,-0.030387418344617,0.012721912935376,-0.030587740242481,0.003220767946914,-0.010461742058396,-0.058216176927090,-0.094236008822918,0.139284998178482,0.054271366447210,0.020069736987352));
res += mul(Get(s3,-dx,-dy), float4x4(-0.123286083340645,-0.094641275703907,-0.007428810466081,0.005765087436885,0.060789123177528,0.010340111330152,-0.084097802639008,-0.112442061305046,0.032522000372410,0.140250757336617,-0.236752822995186,-0.000553986814339,-0.063538275659084,-0.026269325986505,0.090362094342709,-0.019003195688128));
res += mul(Get(s3,-dx,0), float4x4(0.121199749410152,0.088956251740456,-0.009635006077588,-0.098167054355145,-0.136823818087578,-0.075892940163612,-0.006066316273063,0.074780769646168,0.073291674256325,0.028130991384387,0.049794066697359,-0.029172837734222,0.067380785942078,0.034774735569954,0.236333042383194,0.075711846351624));
res += mul(Get(s3,-dx,dy), float4x4(0.053700815886259,-0.061481699347496,-0.009714503772557,0.014928026124835,-0.006856465712190,-0.073843918740749,0.131531730294228,-0.033934250473976,0.059068843722343,0.122700966894627,-0.081898532807827,-0.035648513585329,-0.074840925633907,-0.095128275454044,0.107617676258087,0.002347230911255));
res += mul(Get(s3,0,-dy), float4x4(-0.014718586578965,0.057443104684353,-0.037995271384716,0.020247086882591,-0.060488186776638,0.166448324918747,0.126617372035980,-0.057957958430052,0.023665517568588,-0.021428776904941,0.028817452490330,0.081254608929157,-0.054244093596935,0.028580656275153,0.006290768738836,0.058935526758432));
res += mul(Get(s3,0,0), float4x4(0.068285442888737,0.004402055870742,0.084060691297054,0.089547395706177,0.134046882390976,-0.080335669219494,0.028973784297705,-0.030453620478511,0.082302443683147,0.001452729222365,-0.118424959480762,0.087851785123348,-0.034885510802269,0.135091185569763,0.030040018260479,-0.108691997826099));
res += mul(Get(s3,0,dy), float4x4(-0.083891756832600,0.172272548079491,-0.045174881815910,-0.015093575231731,0.018306976184249,-0.153642460703850,-0.038914043456316,-0.010927704162896,0.169874221086502,0.134385585784912,0.014627739787102,0.024513041600585,-0.017125044018030,-0.057863563299179,0.025526726618409,-0.083664543926716));
res += mul(Get(s3,dx,-dy), float4x4(-0.078521326184273,0.058788921684027,0.008152010850608,0.190941303968430,-0.047439746558666,0.178622260689735,0.227688133716583,0.006591694895178,0.105470292270184,0.060572236776352,-0.013500621542335,-0.077796846628189,-0.130350261926651,0.033448617905378,-0.019040411338210,-0.062603831291199));
res += mul(Get(s3,dx,0), float4x4(0.080987416207790,0.161840543150902,-0.002693869173527,-0.000703783414792,0.074966117739677,-0.179815530776978,0.060702718794346,0.071787722408772,0.155454441905022,-0.003616943722591,0.173112332820892,-0.008962191641331,-0.105310738086700,0.109272629022598,-0.003441742854193,0.060229334980249));
res += mul(Get(s3,dx,dy), float4x4(0.048524152487516,0.010652405209839,0.075545214116573,0.108101151883602,0.221571952104568,-0.115059271454811,0.105294838547707,0.025627790018916,0.095715656876564,0.231727644801140,0.001070059719495,-0.100963354110718,-0.054500840604305,-0.037974242120981,0.037758797407150,0.095694251358509));
return max(float4(0,0,0,0), res);
}
