sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.098631680011749,0.077952630817890,-0.010629649274051,-0.106427334249020,-0.075003065168858,0.030668420717120,-0.051041543483734,-0.035030972212553,-0.022959293797612,-0.146812692284584,-0.048269018530846,0.053403139114380,0.093005888164043,0.013088972307742,0.132837280631065,-0.024528726935387));
res += mul(Get(s0,-dx,0), float4x4(-0.065408073365688,0.002293077996001,0.064496606588364,0.056547872722149,-0.120992556214333,0.005039110779762,-0.032842669636011,0.059419732540846,0.029631225392222,0.071174055337906,0.054805580526590,0.133849650621414,-0.014260802417994,-0.090062096714973,0.029549587517977,-0.151543214917183));
res += mul(Get(s0,-dx,dy), float4x4(0.011093359440565,0.058648608624935,-0.124161370098591,-0.078773885965347,-0.003876533359289,0.014490579254925,0.096092090010643,-0.065886370837688,-0.011021197773516,-0.044766359031200,0.079137928783894,0.019440028816462,-0.067578665912151,-0.006792190484703,-0.002255074679852,-0.074036963284016));
res += mul(Get(s0,0,-dy), float4x4(0.046055056154728,0.044394079595804,0.039910577237606,-0.023262379691005,-0.061318583786488,0.044570088386536,-0.120440125465393,-0.163724005222321,0.028906475752592,0.025794561952353,0.050511054694653,0.070663087069988,-0.003041512100026,0.006170955486596,-0.088780842721462,-0.085516966879368));
res += mul(Get(s0,0,0), float4x4(0.054796528071165,0.001725700451061,0.148486509919167,0.070524372160435,0.113718055188656,-0.093513794243336,-0.058003414422274,-0.066162392497063,0.060001321136951,0.077430240809917,0.024223903194070,-0.042047772556543,-0.071566529572010,0.000444552308181,0.082472212612629,0.008182256482542));
res += mul(Get(s0,0,dy), float4x4(-0.065036490559578,-0.009978867135942,-0.143061771988869,-0.067393220961094,-0.068187020719051,-0.028064880520105,-0.101209394633770,0.029579298570752,0.037190362811089,0.100834764540195,0.046888694167137,-0.019893165677786,0.058790728449821,-0.033101312816143,0.065707251429558,0.218080878257751));
res += mul(Get(s0,dx,-dy), float4x4(-0.002769052982330,0.013584861531854,0.005050092935562,-0.079927302896976,-0.047479424625635,0.025427820160985,-0.045485943555832,-0.135517999529839,-0.001457811682485,-0.073912397027016,0.105480678379536,0.346927613019943,0.056978203356266,-0.089547544717789,0.123889684677124,-0.103233940899372));
res += mul(Get(s0,dx,0), float4x4(-0.049962218850851,0.017876371741295,-0.035682793706656,0.013383592478931,-0.099970765411854,-0.011676597408950,0.038418836891651,-0.052948765456676,-0.006430511362851,0.069577798247337,0.045314937829971,0.104398645460606,-0.147764131426811,-0.010781383141875,0.016727181151509,0.107801549136639));
res += mul(Get(s0,dx,dy), float4x4(-0.108262255787849,0.085200488567352,0.089021667838097,0.079280048608780,-0.098859883844852,0.007927910424769,0.005615508183837,0.087712727487087,-0.114155225455761,-0.100420869886875,-0.110166162252426,0.061270542442799,0.029180115088820,0.048491243273020,0.076806642115116,-0.095954857766628));
res += mul(Get(s1,-dx,-dy), float4x4(0.049085699021816,0.001242502010427,0.016131015494466,0.059381637722254,0.015754483640194,0.133351236581802,0.021916601806879,-0.037985697388649,-0.000003878310963,-0.091583147644997,0.034029047936201,0.043239310383797,-0.016897691413760,-0.120408713817596,0.006465458776802,-0.044492959976196));
res += mul(Get(s1,-dx,0), float4x4(0.110823266208172,-0.013117724098265,-0.011236196383834,-0.082707069814205,0.034867148846388,-0.143913000822067,-0.048491284251213,0.079224579036236,-0.017987575381994,-0.085345856845379,-0.022077556699514,-0.026734789833426,-0.014844676479697,-0.030825572088361,0.028794910758734,-0.023275537416339));
res += mul(Get(s1,-dx,dy), float4x4(0.004635352175683,-0.118389569222927,0.032317455857992,-0.102439478039742,0.086732625961304,-0.124775096774101,-0.033655971288681,-0.010408196598291,0.009954073466361,-0.011017443612218,0.084316678345203,-0.041608709841967,0.030881749466062,0.105120234191418,-0.057391200214624,0.007442743517458));
res += mul(Get(s1,0,-dy), float4x4(0.023658113554120,0.099386811256409,0.146955922245979,0.052126862108707,0.024807265028358,0.078029543161392,-0.140811339020729,0.026258876547217,0.028040518984199,-0.020441647619009,-0.056337505578995,0.022662593051791,-0.030896853655577,-0.042906798422337,-0.092847540974617,-0.003208386013284));
res += mul(Get(s1,0,0), float4x4(-0.002291790675372,0.001955587649718,-0.092407882213593,0.039705239236355,0.026069214567542,-0.064859271049500,-0.031359218060970,-0.016382046043873,-0.041067451238632,0.046841338276863,0.163512215018272,0.033996295183897,0.073909714818001,-0.044076047837734,0.032999251037836,0.049103323370218));
res += mul(Get(s1,0,dy), float4x4(-0.017537308856845,0.035659842193127,0.048935681581497,-0.017612626776099,-0.043600779026747,0.034864470362663,-0.043980617076159,0.023631280288100,-0.012052878737450,-0.003841351950541,0.078902482986450,-0.046857208013535,0.052109926939011,0.037642709910870,0.027236144989729,-0.015357059426606));
res += mul(Get(s1,dx,-dy), float4x4(-0.124862819910049,-0.061276186257601,0.007852612063289,0.026468483731151,-0.140703693032265,0.034657459706068,0.104929082095623,0.017069675028324,0.028806276619434,-0.091032631695271,-0.101088330149651,-0.027093352749944,-0.025840615853667,0.029802622273564,-0.110542625188828,0.051209554076195));
res += mul(Get(s1,dx,0), float4x4(0.136493101716042,-0.094935297966003,-0.008377660997212,-0.036493506282568,-0.012347539886832,-0.028974372893572,0.231215640902519,-0.050243817269802,0.081349253654480,-0.012302555143833,-0.047589920461178,0.050708003342152,0.019072698429227,-0.121452033519745,-0.003543212078512,-0.168353289365768));
res += mul(Get(s1,dx,dy), float4x4(0.016464512795210,-0.050228610634804,0.106867529451847,0.094663970172405,-0.135645180940628,0.108055278658867,0.014482654631138,-0.100036539137363,-0.180047079920769,0.175171196460724,0.140794560313225,0.051087640225887,-0.009572722017765,0.000298035069136,0.006071313284338,0.092961691319942));
res += mul(Get(s2,-dx,-dy), float4x4(-0.172493442893028,-0.126312345266342,-0.126816824078560,0.057945851236582,0.061359040439129,0.004997848067433,-0.103771016001701,-0.054844446480274,-0.073178656399250,-0.011326172389090,-0.137697160243988,-0.086185500025749,-0.272145986557007,-0.085505798459053,0.079993195831776,0.022581672295928));
res += mul(Get(s2,-dx,0), float4x4(0.030101198703051,-0.070151023566723,-0.030057648196816,0.043096072971821,0.044794522225857,0.143028795719147,0.110831037163734,0.077265821397305,-0.135545030236244,-0.004508373793215,-0.048612769693136,-0.020459163933992,-0.210080742835999,-0.015927432104945,-0.074374452233315,0.035287063568830));
res += mul(Get(s2,-dx,dy), float4x4(-0.027509214356542,-0.092271283268929,-0.020009709522128,-0.032534010708332,0.069515317678452,0.140049874782562,0.138523086905479,-0.075119867920876,-0.077104881405830,-0.110148094594479,0.034486386924982,0.039881765842438,-0.016389256343246,0.043238990008831,0.001750714145601,0.217294842004776));
res += mul(Get(s2,0,-dy), float4x4(0.073166400194168,0.035916365683079,-0.021459829062223,-0.035197380930185,-0.023869657889009,-0.107719607651234,-0.201946154236794,0.006533998996019,0.129588767886162,-0.105172991752625,0.104071237146854,-0.069093376398087,0.054316941648722,-0.044861130416393,0.121844537556171,-0.140394181013107));
res += mul(Get(s2,0,0), float4x4(0.054757829755545,0.097605861723423,0.157458797097206,0.142281055450439,0.133026465773582,-0.028577594086528,-0.021240361034870,-0.065763190388680,0.232031419873238,0.143861785531044,0.041809458285570,0.012191846035421,0.155434355139732,-0.020298331975937,-0.115444235503674,-0.101492479443550));
res += mul(Get(s2,0,dy), float4x4(0.078015886247158,-0.014159893617034,0.007034891750664,0.166044667363167,-0.091471776366234,-0.101756960153580,0.150235891342163,-0.096962720155716,-0.076833754777908,0.064147591590881,-0.024924835190177,0.031464681029320,0.046855289489031,0.094201020896435,-0.032520722597837,0.034046594053507));
res += mul(Get(s2,dx,-dy), float4x4(-0.035279024392366,0.070532314479351,-0.140373244881630,-0.011010533198714,0.090792134404182,0.120137371122837,0.067993119359016,-0.051790237426758,0.036844097077847,-0.225354686379433,0.065282069146633,-0.138041749596596,0.066043816506863,-0.092549465596676,0.026858942583203,0.014919065870345));
res += mul(Get(s2,dx,0), float4x4(0.223757460713387,0.007905695587397,-0.039903059601784,0.055379584431648,-0.014232506044209,-0.108098760247231,0.034172136336565,-0.091106854379177,-0.006928097922355,-0.025299837812781,0.278524547815323,0.040854580700397,0.042166084051132,-0.096473701298237,-0.052571043372154,-0.021856822073460));
res += mul(Get(s2,dx,dy), float4x4(-0.030077802017331,-0.058979906141758,0.147470444440842,0.089747302234173,0.031483493745327,-0.073584020137787,-0.008018067106605,0.000814453582279,-0.066184073686600,0.096270546317101,0.067605130374432,0.099591076374054,0.061709318310022,0.027172291651368,-0.032107993960381,0.002715103561059));
res += mul(Get(s3,-dx,-dy), float4x4(0.219640687108040,0.134127363562584,0.096502102911472,-0.051852289587259,-0.088547974824905,0.033061869442463,-0.108181118965149,-0.043063592165709,-0.016896985471249,0.037823107093573,-0.072432242333889,-0.024666000157595,0.175934642553329,-0.143608778715134,-0.010343763977289,-0.003609945531934));
res += mul(Get(s3,-dx,0), float4x4(0.170893296599388,-0.042559444904327,0.029286714270711,-0.052682679146528,-0.068489126861095,-0.017214903607965,-0.183722168207169,-0.157596960663795,-0.042876847088337,-0.074774041771889,-0.111754432320595,0.224164396524429,0.076271601021290,-0.064284287393093,0.057100344449282,0.000511126767378));
res += mul(Get(s3,-dx,dy), float4x4(0.084723785519600,-0.112294875085354,-0.085045404732227,-0.073729462921619,-0.164137646555901,0.008617846295238,-0.213119551539421,-0.177380308508873,0.011713905259967,0.041321851313114,-0.022577760741115,-0.092767387628555,-0.037761174142361,0.053490072488785,-0.128563299775124,0.033453181385994));
res += mul(Get(s3,0,-dy), float4x4(-0.069407157599926,-0.077763386070728,0.081907406449318,-0.160324588418007,-0.033361662179232,0.015380592085421,-0.003109062323347,-0.201648309826851,0.045958213508129,0.005141022615135,0.132685795426369,0.038501266390085,0.101481258869171,0.091701552271843,0.082346096634865,-0.039786584675312));
res += mul(Get(s3,0,0), float4x4(0.066793724894524,0.029012404382229,-0.002060288330540,0.165446236729622,0.005415400024503,0.017978027462959,0.134920790791512,0.023417860269547,-0.054731506854296,-0.128726437687874,0.068519391119480,-0.061092209070921,-0.038866266608238,0.056218329817057,0.280518561601639,0.019140671938658));
res += mul(Get(s3,0,dy), float4x4(0.126987934112549,-0.000132848159410,0.033650606870651,-0.085744917392731,-0.030064227059484,0.129306480288506,0.018486054614186,-0.131446436047554,-0.070269949734211,0.075390048325062,-0.039716746658087,-0.006502208765596,0.006153538357466,-0.008520295843482,-0.077812090516090,-0.227220356464386));
res += mul(Get(s3,dx,-dy), float4x4(0.055628862231970,-0.112108156085014,0.078963994979858,-0.135347947478294,0.057874601334333,0.059048414230347,-0.015282093547285,-0.009132262319326,0.073536142706871,-0.021672494709492,0.064714446663857,0.085816554725170,0.076726503670216,-0.084587886929512,0.014460529200733,-0.089538328349590));
res += mul(Get(s3,dx,0), float4x4(-0.127947866916656,0.065607734024525,0.060054063796997,-0.000998701085337,0.083885133266449,-0.086375102400780,0.028446173295379,-0.014017081819475,-0.103434406220913,-0.034360181540251,0.008213283494115,0.020985295996070,0.017973991110921,0.045943617820740,0.192660108208656,-0.057936765253544));
res += mul(Get(s3,dx,dy), float4x4(0.108020380139351,0.058100357651711,0.042790297418833,-0.050001088529825,0.045737124979496,-0.029923290014267,0.066333457827568,0.058271717280149,0.118402421474457,0.005433917976916,-0.054328773170710,-0.056777779012918,-0.011438421905041,0.012954151257873,-0.001023522112519,-0.061331737786531));
return max(float4(0,0,0,0), res);
}
