sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.003513855161145,0.050701081752777,0.049063347280025,-0.149690121412277,0.066722691059113,-0.105522155761719,-0.006461395416409,0.128142312169075,-0.018792910501361,-0.045968692749739,0.123507015407085,0.031705170869827,-0.046017240732908,0.138767525553703,-0.035527486354113,0.047724273055792));
res += mul(Get(s0,-dx,0), float4x4(-0.002504882169887,0.217171564698219,0.114057816565037,-0.076129712164402,-0.008189115673304,0.032701108604670,-0.052211567759514,0.019359365105629,0.043412804603577,0.104413203895092,-0.063027277588844,0.031896322965622,0.047588545829058,-0.073546625673771,0.066060528159142,-0.077363386750221));
res += mul(Get(s0,-dx,dy), float4x4(-0.012354053556919,0.043704383075237,-0.033410590142012,0.003452989971265,0.102750867605209,-0.008578145876527,0.009970393031836,0.070756316184998,0.019035199657083,0.019772000610828,0.051365680992603,0.086594492197037,-0.055505957454443,0.077789731323719,-0.050701826810837,0.140824288129807));
res += mul(Get(s0,0,-dy), float4x4(-0.062715113162994,-0.039972510188818,0.094012796878815,-0.060603138059378,-0.091354355216026,0.036098569631577,-0.028303874656558,0.039309035986662,-0.110206335783005,0.094889082014561,0.056045453995466,0.066347002983093,-0.096929013729095,0.026165395975113,0.004500508308411,-0.040100548416376));
res += mul(Get(s0,0,0), float4x4(0.228295162320137,0.194257020950317,-0.006590754725039,0.061441004276276,-0.051997207105160,0.012282990850508,-0.017308508977294,-0.167534455657005,-0.185183942317963,-0.095977798104286,0.041242420673370,0.112121298909187,-0.031594861298800,0.018631523475051,-0.013651759363711,0.018438475206494));
res += mul(Get(s0,0,dy), float4x4(-0.021798709407449,-0.024084577336907,-0.068579740822315,0.064618311822414,0.000194004009245,0.121714435517788,-0.019840434193611,-0.014860838651657,0.024354293942451,-0.147209540009499,-0.073471121490002,-0.023904154077172,-0.014223365113139,0.111155346035957,-0.015027637593448,0.164045587182045));
res += mul(Get(s0,dx,-dy), float4x4(-0.157657831907272,0.035504337400198,0.007447659503669,-0.047796182334423,0.075782909989357,0.118467114865780,0.031708896160126,0.064355134963989,-0.022654667496681,0.090598508715630,-0.024224141612649,0.044463898986578,-0.126098126173019,-0.002980290679261,0.051401372998953,-0.039979040622711));
res += mul(Get(s0,dx,0), float4x4(0.066335760056973,-0.057574145495892,0.030428674072027,-0.009576163254678,0.016519699245691,0.214881822466850,0.119155369699001,0.041751716285944,-0.093220092356205,0.175617396831512,0.001519597950391,0.010592794045806,-0.164139747619629,0.026413325220346,0.050572406500578,-0.110802561044693));
res += mul(Get(s0,dx,dy), float4x4(0.006273723207414,-0.149510130286217,-0.005513071548194,0.055299263447523,-0.049681104719639,0.153159350156784,-0.026409219950438,-0.059762675315142,-0.006841277237982,-0.040428206324577,-0.022186331450939,-0.063079722225666,0.087465576827526,-0.023856205865741,-0.029876513406634,0.140107020735741));
res += mul(Get(s1,-dx,-dy), float4x4(-0.113904260098934,-0.073206938803196,-0.043111994862556,-0.076609268784523,-0.034850642085075,-0.192285701632500,-0.085530459880829,0.102179393172264,-0.020139016211033,-0.025516904890537,-0.017870686948299,-0.030394636094570,0.089088417589664,-0.061354678124189,-0.026188801974058,0.084536321461201));
res += mul(Get(s1,-dx,0), float4x4(0.107332706451416,-0.084276922047138,-0.048107080161572,-0.059493076056242,0.099930495023727,-0.066362425684929,-0.040469869971275,-0.108380608260632,0.105986870825291,0.061632715165615,-0.053834918886423,0.064763337373734,0.016180638223886,0.057367041707039,-0.061894938349724,0.037456564605236));
res += mul(Get(s1,-dx,dy), float4x4(0.049548313021660,0.055810261517763,0.032757081091404,0.066643141210079,0.034620556980371,0.026178322732449,0.058348484337330,-0.042777840048075,0.009221222251654,0.087135218083858,0.025516949594021,0.003518509212881,0.022599453106523,-0.098546542227268,0.065166182816029,0.139175742864609));
res += mul(Get(s1,0,-dy), float4x4(-0.011263631284237,0.049965128302574,-0.041953824460506,-0.101115785539150,0.076176717877388,-0.036846440285444,-0.032491963356733,0.060952309519053,0.081938907504082,0.050884529948235,-0.035207252949476,-0.016298465430737,-0.032729394733906,-0.015899321064353,-0.080946996808052,-0.017320103943348));
res += mul(Get(s1,0,0), float4x4(0.091880291700363,-0.018247526139021,-0.082101650536060,-0.111079700291157,-0.006575102917850,-0.062222730368376,0.014253300614655,-0.006799698807299,0.092470236122608,-0.066484339535236,-0.051699720323086,-0.068905323743820,-0.019214058294892,0.089726351201534,-0.075245015323162,-0.032529242336750));
res += mul(Get(s1,0,dy), float4x4(-0.011170675046742,0.006804857403040,-0.000124042751850,0.022549401968718,0.033717922866344,0.083201356232166,0.035258416086435,0.006658274680376,0.033502414822578,0.061608061194420,0.088109776377678,-0.102759473025799,-0.038909424096346,0.088622346520424,0.124256812036037,-0.078458160161972));
res += mul(Get(s1,dx,-dy), float4x4(-0.107875265181065,0.102218739688396,0.083991363644600,-0.031421296298504,-0.088509701192379,-0.049272622913122,0.058978598564863,0.090049862861633,0.023968616500497,0.038014300167561,-0.090121649205685,0.027229366824031,-0.055239241570234,-0.104268975555897,-0.036666262894869,-0.122280262410641));
res += mul(Get(s1,dx,0), float4x4(0.022685663774610,0.038405954837799,-0.004280062858015,-0.116850405931473,0.022948982194066,0.049904499202967,-0.018544826656580,0.019793950021267,0.051764991134405,-0.067591927945614,-0.076197840273380,-0.082901969552040,0.013092669658363,0.104293711483479,-0.072133302688599,0.030111439526081));
res += mul(Get(s1,dx,dy), float4x4(0.057243704795837,-0.024166457355022,0.045059319585562,-0.051969166845083,0.073604844510555,0.103031963109970,-0.109320990741253,0.063366979360580,0.022543510422111,0.152390673756599,-0.071974724531174,-0.070289850234985,0.072344914078712,0.065576411783695,-0.126266211271286,0.028800837695599));
res += mul(Get(s2,-dx,-dy), float4x4(-0.089794658124447,0.001991410972551,0.097277738153934,-0.103258103132248,0.055691365152597,0.016268780454993,0.028013609349728,-0.008103683590889,-0.106166183948517,0.137744352221489,-0.089665092527866,-0.056702688336372,-0.026934081688523,-0.043680835515261,-0.009734104387462,-0.043152764439583));
res += mul(Get(s2,-dx,0), float4x4(-0.008713251911104,-0.074831865727901,-0.005198232363909,-0.016521601006389,0.066998764872551,-0.070332705974579,-0.008200291544199,0.194159477949142,-0.061452891677618,-0.042578890919685,0.137930735945702,0.073382586240768,0.103536464273930,0.062009345740080,-0.008956459350884,0.007908180356026));
res += mul(Get(s2,-dx,dy), float4x4(0.053097143769264,-0.120266325771809,0.015215406194329,0.003300923621282,-0.087727136909962,-0.308151811361313,-0.083985053002834,0.029117655009031,0.000795574393123,-0.029153723269701,0.012507872655988,0.160054147243500,0.018313443288207,0.019520133733749,-0.083599887788296,0.029204789549112));
res += mul(Get(s2,0,-dy), float4x4(0.010931735858321,0.149889364838600,-0.092385679483414,0.039246831089258,-0.093106061220169,-0.017519241198897,0.019517991691828,-0.046913664788008,-0.139973983168602,-0.215081110596657,-0.077626280486584,0.087901316583157,0.021068163216114,-0.042122971266508,0.017178820446134,-0.021854262799025));
res += mul(Get(s2,0,0), float4x4(-0.010785854421556,0.014497278258204,-0.154510438442230,0.049925312399864,0.007013562601060,0.057272441685200,0.030990967527032,-0.056496258825064,0.013123336248100,0.021404594182968,-0.111096493899822,-0.023337086662650,-0.000440491101472,-0.054852336645126,-0.015455778688192,0.011890384368598));
res += mul(Get(s2,0,dy), float4x4(-0.115227535367012,-0.022095993161201,0.023371826857328,0.025834271684289,0.040855091065168,0.139478459954262,0.089408464729786,0.068972714245319,-0.080893762409687,0.141503065824509,0.066139183938503,-0.015764733776450,0.028365869075060,0.059813767671585,0.068445459008217,-0.073328457772732));
res += mul(Get(s2,dx,-dy), float4x4(-0.071592018008232,0.019449848681688,-0.020555693656206,0.095029026269913,-0.217876896262169,-0.009908271953464,-0.026261864230037,-0.046042025089264,0.038291897624731,-0.075896240770817,-0.098180033266544,-0.076553553342819,0.142456814646721,-0.014752480201423,0.123423986136913,0.012184376828372));
res += mul(Get(s2,dx,0), float4x4(-0.025154536589980,0.020683940500021,-0.055058233439922,0.076012916862965,0.099973142147064,0.128613531589508,-0.059044208377600,-0.064602427184582,-0.078871607780457,0.011452963575721,-0.207917794585228,-0.100562177598476,0.077018991112709,-0.132926926016808,-0.030221324414015,0.029990898445249));
res += mul(Get(s2,dx,dy), float4x4(-0.002100668149069,-0.111308157444000,-0.015755347907543,0.032689083367586,-0.125290155410767,0.163787320256233,-0.046185564249754,0.002668159315363,0.054127160459757,0.153514727950096,-0.098993539810181,0.009023156948388,0.041734177619219,0.015670787543058,0.062416218221188,0.094868101179600));
res += mul(Get(s3,-dx,-dy), float4x4(0.068904213607311,0.080707505345345,-0.048865590244532,0.099122725427151,-0.009575130417943,0.045480798929930,-0.056182734668255,0.035122811794281,-0.130675897002220,-0.009144973941147,0.039586152881384,0.041929125785828,-0.064146570861340,0.060444254428148,0.027407467365265,0.058552075177431));
res += mul(Get(s3,-dx,0), float4x4(0.062251325696707,0.043685153126717,-0.061120193451643,0.107166945934296,0.057392388582230,-0.179183125495911,-0.000216176151298,-0.030249617993832,0.025212103500962,0.023257758468390,-0.062012441456318,0.062856078147888,0.080337814986706,0.074622146785259,-0.059503570199013,-0.047195687890053));
res += mul(Get(s3,-dx,dy), float4x4(0.071272484958172,0.021077202633023,-0.022320954129100,0.017029741778970,0.172587603330612,0.043539296835661,0.099896371364594,0.104864329099655,0.025511287152767,-0.156048461794853,-0.007923644036055,-0.021268032491207,-0.101141847670078,-0.050567135214806,0.029592705890536,0.074811555445194));
res += mul(Get(s3,0,-dy), float4x4(0.051170654594898,0.030036458745599,-0.008960489183664,-0.005583956837654,0.032015856355429,0.052993427962065,0.059423960745335,0.096999846398830,-0.021107081323862,0.065139643847942,0.020419448614120,-0.087647706270218,0.108989074826241,-0.105488643050194,0.028550367802382,-0.038221072405577));
res += mul(Get(s3,0,0), float4x4(-0.099951960146427,-0.118297547101974,-0.032726392149925,0.072094097733498,0.151401996612549,0.010369002819061,-0.067929275333881,0.048948839306831,-0.184260085225105,0.141849309206009,0.071905054152012,0.019683076068759,-0.089306741952896,-0.036023091524839,-0.005286448169500,-0.046914570033550));
res += mul(Get(s3,0,dy), float4x4(0.066500172019005,-0.024027334526181,-0.020656147971749,-0.120272628962994,0.114917226135731,0.015890117734671,0.049241408705711,0.068651139736176,-0.005502200685441,-0.112644158303738,0.112190008163452,-0.090120121836662,-0.061164516955614,0.020694488659501,-0.122913226485252,0.048952497541904));
res += mul(Get(s3,dx,-dy), float4x4(-0.003061442868784,-0.043950378894806,0.034090802073479,-0.066972531378269,-0.042614620178938,0.067111477255821,0.024881480261683,-0.008034422993660,-0.023899994790554,0.038898639380932,-0.030255667865276,0.049903601408005,0.001052272622474,-0.031844075769186,0.075749769806862,0.002630554605275));
res += mul(Get(s3,dx,0), float4x4(0.067567214369774,0.034078285098076,0.018434768542647,-0.078178301453590,0.101421177387238,0.112373098731041,-0.067016661167145,0.090460762381554,-0.007317617069930,0.045278053730726,0.025477979332209,0.010229000821710,0.006212062668055,0.077688165009022,-0.003158058505505,-0.063891500234604));
res += mul(Get(s3,dx,dy), float4x4(-0.005378833040595,0.128366097807884,-0.007102742791176,-0.053426861763000,0.033532910048962,0.041672393679619,0.040012665092945,-0.022554686293006,0.082477226853371,-0.090412266552448,0.064851835370064,-0.017894543707371,0.050851028412580,0.062212508171797,-0.055877394974232,-0.006711460184306));
return max(float4(0,0,0,0), res);
}
