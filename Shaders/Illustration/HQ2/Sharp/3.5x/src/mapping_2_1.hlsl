sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.046926870942116,0.102982535958290,0.161825194954872,-0.144255504012108,0.006670067086816,-0.144720822572708,0.027719104662538,-0.021257545799017,-0.048493325710297,0.102723874151707,0.225123152136803,0.069254264235497,-0.079245150089264,-0.009192576631904,-0.024188408628106,-0.068452529609203));
res += mul(Get(s0,-dx,0), float4x4(0.124928466975689,-0.086932770907879,0.106189236044884,0.151202008128166,0.021019389852881,0.078220598399639,0.029972983524203,0.125696182250977,-0.022553276270628,-0.085148468613625,0.131907835602760,-0.178507626056671,0.008277255110443,0.139552101492882,0.034253783524036,-0.076833017170429));
res += mul(Get(s0,-dx,dy), float4x4(0.183228850364685,-0.047170791774988,-0.003104154486209,-0.028690554201603,-0.114726230502129,0.025908688083291,0.116603851318359,0.038344174623489,-0.183627456426620,0.043650195002556,-0.029882069677114,0.036106977611780,-0.023649992421269,0.051725350320339,-0.129780650138855,0.089573480188847));
res += mul(Get(s0,0,-dy), float4x4(-0.042218405753374,0.221373960375786,0.158878460526466,-0.116682462394238,0.021493002772331,0.088065728545189,-0.184260040521622,0.069642953574657,0.087217070162296,0.057257063686848,0.147053807973862,-0.076018907129765,0.077241785824299,-0.078336060047150,-0.167249396443367,0.026108184829354));
res += mul(Get(s0,0,0), float4x4(0.061310645192862,0.009255249984562,-0.004970603622496,0.030241986736655,-0.057137787342072,0.154180139303207,0.058331180363894,-0.005782155785710,-0.052876833826303,-0.071714997291565,0.056071981787682,0.088515147566795,0.111271694302559,0.075113922357559,0.118320070207119,-0.085674926638603));
res += mul(Get(s0,0,dy), float4x4(0.145764037966728,0.022169305011630,-0.230452135205269,-0.042557314038277,-0.026529081165791,-0.121730223298073,0.342224091291428,0.023331904783845,-0.033599730581045,0.058182347565889,-0.091739736497402,-0.104569710791111,-0.061978094279766,0.007617660798132,0.053717304021120,0.087069824337959));
res += mul(Get(s0,dx,-dy), float4x4(0.096484206616879,0.030018441379070,-0.098362445831299,-0.032633356750011,0.068544469773769,-0.011046696454287,0.132372990250587,-0.063156820833683,-0.062153186649084,0.046442702412605,-0.009590400382876,0.096744731068611,0.150177597999573,-0.036615476012230,-0.167110323905945,0.134130418300629));
res += mul(Get(s0,dx,0), float4x4(-0.239253088831902,-0.080683596432209,0.277089387178421,0.037460643798113,0.033261939883232,-0.007310467306525,-0.118195101618767,0.135542109608650,0.005226887296885,-0.015424558892846,0.030154552310705,0.033758699893951,0.108389995992184,0.015409129671752,-0.076663911342621,-0.014568585902452));
res += mul(Get(s0,dx,dy), float4x4(-0.087425969541073,-0.034594662487507,0.092817172408104,-0.031651090830564,0.065833047032356,-0.009984484873712,-0.007389739155769,-0.099052272737026,0.075480058789253,0.167648673057556,-0.082415618002415,0.057329431176186,0.051809888333082,0.023088401183486,-0.030486080795527,0.031834743916988));
res += mul(Get(s1,-dx,-dy), float4x4(-0.084324903786182,-0.013224702328444,-0.118961758911610,0.050740994513035,0.152283445000648,-0.004941395018250,-0.026923485100269,0.089556142687798,0.122355327010155,0.068667307496071,-0.056501083076000,-0.040510710328817,0.013258798047900,0.068228125572205,0.070349119603634,0.023527432233095));
res += mul(Get(s1,-dx,0), float4x4(0.030847953632474,-0.047751549631357,0.115716874599457,-0.030853634700179,0.027144478634000,0.025090692564845,-0.000045847948059,-0.056972239166498,0.025965565815568,-0.100076116621494,0.141691192984581,-0.186871826648712,-0.102109260857105,0.092978224158287,0.043313845992088,-0.075536571443081));
res += mul(Get(s1,-dx,dy), float4x4(-0.045884747058153,0.051953069865704,0.141598403453827,0.090423718094826,0.003568663494661,-0.030641200020909,-0.106326960027218,0.128345116972923,0.059838388115168,-0.037912178784609,0.143271118402481,0.020218951627612,-0.092467665672302,-0.064239561557770,0.013425355777144,0.005520782433450));
res += mul(Get(s1,0,-dy), float4x4(0.000182510004379,0.099041134119034,0.012368059717119,0.105795614421368,-0.064566642045975,0.000195199041627,0.003686467651278,0.075016662478447,-0.069201461970806,0.092829324305058,-0.056399863213301,0.007971410639584,0.011034327559173,0.076887495815754,-0.077223747968674,-0.093549460172653));
res += mul(Get(s1,0,0), float4x4(0.173513337969780,-0.010547928512096,0.159035429358482,0.072533786296844,0.023441758006811,0.008795418776572,-0.096108861267567,0.016234114766121,0.118106387555599,-0.108419902622700,0.105851642787457,-0.057183749973774,0.069815509021282,-0.178549334406853,0.107010588049889,0.019131015986204));
res += mul(Get(s1,0,dy), float4x4(0.045067347586155,-0.065788514912128,0.015637034550309,-0.110556483268738,-0.010083911940455,0.138746544718742,0.121222145855427,0.005056825000793,0.018294367939234,-0.100251257419586,-0.019610343500972,-0.056782811880112,0.206696808338165,-0.033815521746874,-0.002365700667724,-0.021116731688380));
res += mul(Get(s1,dx,-dy), float4x4(-0.134929060935974,-0.065916977822781,-0.024501716718078,0.003577713156119,0.090898953378201,-0.007230646908283,-0.018282851204276,-0.000327570858644,-0.162744462490082,0.110549546778202,-0.042441405355930,0.043255735188723,-0.105488821864128,0.083287909626961,-0.068125866353512,-0.050456851720810));
res += mul(Get(s1,dx,0), float4x4(-0.097809307277203,0.050069786608219,-0.030258432030678,-0.166924357414246,0.055911589413881,-0.010470755398273,-0.005476751830429,0.058940976858139,0.012432831339538,-0.245072513818741,-0.031479563564062,-0.067740432918072,0.062670074403286,-0.141682669520378,-0.061283804476261,0.105340935289860));
res += mul(Get(s1,dx,dy), float4x4(-0.066654935479164,-0.068539403378963,-0.119670316576958,-0.097630865871906,-0.110786423087120,-0.090566992759705,0.237675487995148,-0.291920155286789,0.023774260655046,-0.181852743029594,-0.201013937592506,-0.028411580249667,0.164662718772888,0.103186964988708,-0.212077200412750,-0.045560188591480));
res += mul(Get(s2,-dx,-dy), float4x4(0.028412312269211,-0.044436469674110,-0.028945390135050,-0.077518261969090,-0.054688163101673,0.103508658707142,-0.055567752569914,-0.081076763570309,0.078536473214626,0.011872993782163,0.083730012178421,0.050078947097063,-0.003025254933164,-0.121833585202694,-0.032272532582283,-0.168966919183731));
res += mul(Get(s2,-dx,0), float4x4(0.230673551559448,-0.001033918582834,0.036129776388407,-0.045937400311232,0.003035841742530,0.174172163009644,0.014569791033864,0.121934629976749,0.077573642134666,-0.120415084064007,-0.088768467307091,0.084382854402065,0.078344658017159,0.120143257081509,0.127474024891853,0.011308163404465));
res += mul(Get(s2,-dx,dy), float4x4(-0.077956840395927,0.028928624466062,0.083045810461044,0.045637127012014,0.054602865129709,-0.057197529822588,0.029294803738594,-0.030730234459043,-0.081154279410839,-0.013388413004577,0.009196580387652,-0.022653307765722,-0.111390948295593,0.147360861301422,-0.126948893070221,-0.063057221472263));
res += mul(Get(s2,0,-dy), float4x4(0.000787311582826,-0.112785018980503,0.054135929793119,-0.034615602344275,-0.067654415965080,-0.078610628843307,0.058212544769049,0.153205156326294,-0.030379654839635,-0.005754269659519,-0.113429211080074,0.157222539186478,-0.046225566416979,0.041652604937553,-0.052670206874609,0.121605515480042));
res += mul(Get(s2,0,0), float4x4(-0.058697678148746,-0.046124026179314,-0.007807983085513,-0.007340328302234,-0.057394985109568,-0.072080537676811,-0.050355054438114,0.090204685926437,-0.049419946968555,-0.066622540354729,0.028916971758008,0.069948144257069,0.091857887804508,0.123292535543442,0.086356602609158,-0.011185488663614));
res += mul(Get(s2,0,dy), float4x4(-0.120498038828373,-0.044443011283875,-0.022167293354869,-0.001946628792211,0.089528769254684,-0.003596050664783,-0.098872832953930,-0.032655272632837,0.010544475167990,0.009969063103199,0.190315976738930,-0.231626451015472,-0.082660123705864,-0.146573856472969,0.017878383398056,0.082278184592724));
res += mul(Get(s2,dx,-dy), float4x4(0.070201702415943,0.060052670538425,0.077756531536579,0.036372356116772,-0.018160553649068,-0.071276530623436,-0.083005763590336,0.020851343870163,0.037459608167410,-0.091494224965572,0.050866484642029,-0.015575990080833,-0.003899548435584,-0.036391425877810,-0.012469842098653,-0.016748942434788));
res += mul(Get(s2,dx,0), float4x4(0.070336133241653,-0.025229535996914,-0.001470359275118,0.040398959070444,-0.246105685830116,0.037337154150009,0.033419370651245,-0.025518916547298,-0.097140394151211,-0.104670085012913,0.166705355048180,0.060061231255531,-0.020427264273167,0.059960141777992,-0.047866787761450,-0.058905791491270));
res += mul(Get(s2,dx,dy), float4x4(0.120725475251675,-0.016543975099921,0.093996673822403,0.109419092535973,0.021273475140333,0.018851218745112,-0.139277756214142,0.176506936550140,0.051650423556566,0.032621845602989,0.186943709850311,0.187099948525429,-0.016878524795175,-0.034820500761271,0.057730935513973,-0.008378560654819));
res += mul(Get(s3,-dx,-dy), float4x4(-0.113723531365395,0.155352234840393,0.007650450337678,-0.052870303392410,-0.111609056591988,-0.087044306099415,0.081035830080509,-0.052387975156307,0.060011513531208,-0.082727923989296,-0.089734964072704,-0.042246412485838,0.071946084499359,-0.012903011403978,-0.060668040066957,0.031220277771354));
res += mul(Get(s3,-dx,0), float4x4(-0.022950690239668,-0.015114994719625,-0.139905691146851,-0.100738532841206,-0.024965871125460,0.050852611660957,0.020353367552161,-0.074751146137714,0.013423012569547,-0.070317089557648,-0.071483805775642,0.018557943403721,-0.039496276527643,0.078773356974125,0.061608817428350,-0.041376795619726));
res += mul(Get(s3,-dx,dy), float4x4(-0.078730508685112,-0.110011801123619,0.018461810424924,-0.021956218406558,-0.012560144066811,0.010649116709828,0.093604698777199,-0.035068895667791,0.021368931978941,-0.055285602807999,-0.205378800630569,0.028853397816420,-0.080719329416752,0.051621824502945,-0.042712166905403,0.114601545035839));
res += mul(Get(s3,0,-dy), float4x4(-0.188934788107872,0.216059640049934,-0.007503013592213,0.015057896263897,0.030343502759933,-0.010476831346750,0.130389541387558,0.056487999856472,0.145362898707390,0.108980633318424,0.017277421429753,0.181709095835686,-0.022587133571506,-0.080839551985264,-0.015089569613338,0.017166137695313));
res += mul(Get(s3,0,0), float4x4(-0.014193097129464,-0.018356952816248,0.066273696720600,-0.058287646621466,-0.068659439682961,-0.170794978737831,-0.017896156758070,0.119623266160488,0.048857722431421,-0.054555486887693,0.017939945682883,0.040496937930584,-0.024438796564937,-0.105012148618698,-0.081117741763592,-0.080692522227764));
res += mul(Get(s3,0,dy), float4x4(0.178095936775208,0.040951821953058,-0.040100619196892,-0.050206195563078,-0.055729769170284,-0.196649909019470,-0.223603397607803,-0.110573798418045,0.138460159301758,-0.191703736782074,-0.148768037557602,0.056137375533581,-0.030773915350437,0.118439525365829,0.114158146083355,-0.035998921841383));
res += mul(Get(s3,dx,-dy), float4x4(-0.038056712597609,0.190195024013519,0.154013112187386,-0.125862941145897,-0.020128514617682,-0.155238032341003,-0.082847967743874,-0.077392391860485,0.113889522850513,-0.036568216979504,-0.026197552680969,-0.036767952144146,-0.062405113130808,-0.123896189033985,-0.048298001289368,0.012706108391285));
res += mul(Get(s3,dx,0), float4x4(0.124418966472149,0.121889702975750,0.233139812946320,0.100014492869377,0.067662604153156,0.047458834946156,-0.141604170203209,-0.126720368862152,0.056517440825701,-0.041903499513865,0.161294877529144,0.153710424900055,0.050596270710230,0.013918882235885,-0.183661729097366,-0.056103412061930));
res += mul(Get(s3,dx,dy), float4x4(-0.077619373798370,0.025509627535939,-0.222168669104576,0.062704488635063,0.005899929907173,-0.037366043776274,-0.080456286668777,0.078677140176296,0.062419578433037,-0.025234887376428,0.024481050670147,-0.064531251788139,-0.128096789121628,-0.157917320728302,-0.027402322739363,0.000931317626964));
return max(float4(0,0,0,0), res);
}
