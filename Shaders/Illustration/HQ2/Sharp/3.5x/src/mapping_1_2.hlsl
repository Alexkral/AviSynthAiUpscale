sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.057061612606049,0.045754518359900,-0.339841723442078,-0.004564149770886,-0.012307833880186,0.100343897938728,0.087901793420315,-0.146324172616005,-0.036702714860439,-0.058939553797245,-0.014222803525627,-0.236163616180420,0.121855907142162,-0.075185202062130,-0.066922061145306,0.135691553354263));
res += mul(Get(s0,-dx,0), float4x4(0.096891760826111,0.048382762819529,0.023259859532118,0.080065011978149,-0.072696484625340,-0.139157921075821,0.008493144996464,-0.091179557144642,-0.021531820297241,0.031680651009083,-0.050792183727026,-0.023899562656879,-0.049000039696693,-0.135836988687515,-0.130984231829643,0.161588490009308));
res += mul(Get(s0,-dx,dy), float4x4(-0.004019127693027,-0.003402066649869,0.053675033152103,0.065345749258995,-0.066526636481285,-0.015116323716938,-0.001191252144054,-0.057485207915306,0.057398293167353,-0.215820476412773,-0.005144222639501,0.045652329921722,0.117663420736790,-0.126412302255630,-0.128375962376595,0.058406498283148));
res += mul(Get(s0,0,-dy), float4x4(-0.105935394763947,0.018406480550766,-0.152875974774361,-0.129805311560631,0.070431806147099,-0.022183347493410,-0.104195706546307,0.110374450683594,0.043689161539078,-0.031913477927446,0.014329279772937,-0.075644336640835,0.145390301942825,0.181796580553055,0.173015639185905,-0.194737195968628));
res += mul(Get(s0,0,0), float4x4(0.002761713927612,-0.061637245118618,0.188614219427109,-0.061351675540209,0.159032359719276,-0.102065525949001,-0.039241198450327,0.253933489322662,-0.099073745310307,-0.080386683344841,0.207787781953812,-0.032039079815149,0.056965794414282,0.164654731750488,0.308824509382248,-0.107512325048447));
res += mul(Get(s0,0,dy), float4x4(-0.081018686294556,-0.053382225334644,0.110268093645573,0.051637150347233,0.014408190734684,-0.000944380939472,0.057606790214777,0.017251335084438,0.029717760160565,0.063093170523643,-0.007714130450040,-0.084092877805233,-0.097416147589684,0.020383017137647,0.103709958493710,-0.026607107371092));
res += mul(Get(s0,dx,-dy), float4x4(-0.001524628954940,-0.148415088653564,0.139395341277122,-0.060520745813847,-0.252764761447906,0.113707572221756,0.079846784472466,0.046576291322708,0.223057702183723,0.025631921365857,-0.174967050552368,-0.081880919635296,0.000452547537861,0.026565808802843,-0.217698171734810,0.114538624882698));
res += mul(Get(s0,dx,0), float4x4(0.062233492732048,0.001706738374196,0.224961280822754,-0.043859131634235,-0.075366362929344,-0.099560067057610,0.158444643020630,-0.116424784064293,0.023693595081568,0.022311879321933,-0.059945248067379,-0.061202865093946,-0.093866445124149,0.051967125386000,0.007367860060185,-0.222700193524361));
res += mul(Get(s0,dx,dy), float4x4(-0.123193480074406,0.137602224946022,-0.072857365012169,-0.075102873146534,0.031014937907457,0.089775040745735,-0.062464416027069,-0.085744909942150,-0.074119739234447,-0.065963722765446,0.012602800503373,0.016413733363152,-0.016665527597070,-0.238716691732407,0.079775720834732,-0.136306494474411));
res += mul(Get(s1,-dx,-dy), float4x4(-0.147982567548752,0.096991062164307,0.029610006138682,-0.077747330069542,0.096544273197651,-0.048071730881929,-0.059994194656610,0.007659791503102,0.063071802258492,0.095187611877918,0.060650151222944,0.105996586382389,0.015568964183331,0.034722801297903,0.172411322593689,0.048840053379536));
res += mul(Get(s1,-dx,0), float4x4(0.029707333073020,-0.002121175406501,-0.018863851204515,0.106563471257687,-0.118329092860222,-0.035806961357594,-0.086280062794685,0.052938919514418,0.029636701568961,-0.053376372903585,-0.278088659048080,-0.020045168697834,-0.051698278635740,-0.180317580699921,0.019764520227909,-0.072661921381950));
res += mul(Get(s1,-dx,dy), float4x4(-0.030254334211349,0.109912589192390,0.072287507355213,0.072969108819962,-0.025709042325616,-0.021155385300517,-0.014818960800767,-0.044909212738276,0.102406330406666,0.075382493436337,-0.085671477019787,0.049372587352991,-0.082026779651642,0.100026495754719,0.020959198474884,0.050983015447855));
res += mul(Get(s1,0,-dy), float4x4(-0.181567773222923,0.053387206047773,0.025956157594919,0.033398803323507,0.047978587448597,-0.104482069611549,-0.086156569421291,0.039784695953131,-0.073074296116829,0.002624802291393,0.116449579596519,-0.004635249264538,-0.020189296454191,0.120690204203129,0.042756948620081,0.163510367274284));
res += mul(Get(s1,0,0), float4x4(0.001584408804774,0.034102518111467,0.101384483277798,-0.196201831102371,0.173321142792702,0.078452795743942,0.034521065652370,-0.026545058935881,0.181318163871765,0.166967347264290,0.027902271598577,0.014943357557058,0.016917800530791,-0.070992611348629,-0.008104845881462,-0.092148669064045));
res += mul(Get(s1,0,dy), float4x4(0.032863978296518,0.062522962689400,0.100894846022129,-0.046086125075817,0.078742727637291,0.079859107732773,-0.013912697322667,-0.176795095205307,0.145999789237976,0.134562581777573,0.075105175375938,0.062976367771626,0.117763377726078,-0.104666098952293,0.116902276873589,0.163802251219749));
res += mul(Get(s1,dx,-dy), float4x4(0.106232441961765,0.022482063621283,0.069148704409599,0.014493008144200,-0.070561155676842,0.077855907380581,-0.119134590029716,-0.052123926579952,0.006287734489888,-0.140389025211334,0.025223774835467,-0.150386348366737,0.136328518390656,0.013038374483585,0.061018768697977,0.017790274694562));
res += mul(Get(s1,dx,0), float4x4(0.091047063469887,-0.081627942621708,-0.113283738493919,0.064390927553177,-0.210565149784088,-0.009573035873473,-0.139392942190170,0.004617122467607,0.065068393945694,0.135458052158356,-0.027788363397121,-0.002006315393373,-0.146667256951332,0.098790064454079,-0.019026938825846,0.025883216410875));
res += mul(Get(s1,dx,dy), float4x4(-0.081681124866009,0.254191160202026,0.114882245659828,-0.081668742001057,0.138936981558800,-0.046055737882853,-0.196220517158508,-0.054390329867601,-0.065742112696171,-0.131902500987053,0.006383442785591,0.061603214591742,-0.023356856778264,-0.014833535999060,-0.031675621867180,0.117221631109715));
res += mul(Get(s2,-dx,-dy), float4x4(0.087037891149521,0.165120318531990,0.065608128905296,-0.031863264739513,0.007975671440363,0.079765424132347,0.018625508993864,0.121241822838783,-0.127085641026497,-0.056804172694683,-0.156239300966263,0.147703424096107,0.132014423608780,0.103144653141499,0.163384363055229,0.174078941345215));
res += mul(Get(s2,-dx,0), float4x4(-0.061253745108843,-0.110555022954941,-0.148197546601295,0.263215094804764,0.000912551011425,0.070432722568512,0.072456382215023,-0.037642247974873,0.185248464345932,0.030294695869088,-0.108125351369381,-0.005198098719120,0.005258891265839,-0.178373798727989,-0.004987694788724,-0.185994759202003));
res += mul(Get(s2,-dx,dy), float4x4(-0.013532777316868,-0.112652234733105,-0.062007959932089,-0.108445480465889,-0.020490383729339,0.024708596989512,0.051045086234808,-0.026006691157818,-0.083394184708595,0.085167437791824,-0.020141296088696,-0.034181103110313,-0.051342453807592,-0.075592137873173,-0.159109100699425,-0.106086067855358));
res += mul(Get(s2,0,-dy), float4x4(-0.104335092008114,0.012990332208574,0.085041992366314,0.160955429077148,-0.032653190195560,-0.029223836958408,-0.047356206923723,-0.064182646572590,-0.017458582296968,0.042484618723392,-0.025703746825457,-0.015302935615182,-0.071478396654129,0.040474221110344,-0.072195291519165,0.200816333293915));
res += mul(Get(s2,0,0), float4x4(0.011794058606029,0.140217572450638,0.081809617578983,0.004508753772825,0.118749365210533,0.012658714316785,-0.087138928472996,0.085741385817528,0.150502875447273,0.021099954843521,-0.068116866052151,-0.061230119317770,-0.075639098882675,-0.126192271709442,-0.212206482887268,-0.052890162914991));
res += mul(Get(s2,0,dy), float4x4(-0.010456406511366,-0.128649368882179,-0.086146250367165,0.028763480484486,0.184446170926094,0.005272966809571,-0.097548164427280,-0.057472221553326,0.054047979414463,0.054428514093161,0.046350605785847,-0.003406410571188,-0.103543557226658,-0.079061239957809,-0.123727388679981,-0.078421555459499));
res += mul(Get(s2,dx,-dy), float4x4(0.009771740995347,-0.082045465707779,-0.080528877675533,0.099644437432289,-0.138062492012978,-0.048115056008101,0.008352783508599,0.060508612543344,-0.105970703065395,0.064075917005539,0.280798912048340,0.052910242229700,-0.192524254322052,0.059111185371876,0.137179821729660,0.133279368281364));
res += mul(Get(s2,dx,0), float4x4(0.195182234048843,-0.122659556567669,0.002479410497472,-0.021427979692817,-0.087546363472939,0.093732081353664,-0.004569263663143,-0.055948965251446,0.052313271909952,-0.076405256986618,0.090759515762329,0.076581254601479,0.005519256461412,-0.094824254512787,0.180595263838768,-0.015109027735889));
res += mul(Get(s2,dx,dy), float4x4(0.040573995560408,-0.046857751905918,-0.004752827808261,-0.153323382139206,-0.073720753192902,-0.139601200819016,0.097053460776806,-0.030174873769283,-0.077994897961617,-0.021298380568624,0.018635397776961,-0.102691732347012,-0.061002969741821,0.166207596659660,0.099369965493679,-0.013710815459490));
res += mul(Get(s3,-dx,-dy), float4x4(0.126311466097832,-0.070082120597363,0.164017349481583,0.195403143763542,0.045794069766998,-0.175176218152046,0.152955412864685,-0.014757423661649,-0.099225215613842,0.022118473425508,0.175841420888901,0.126867249608040,-0.061331856995821,0.085414536297321,0.041302289813757,0.049046259373426));
res += mul(Get(s3,-dx,0), float4x4(0.021083675324917,0.090826660394669,0.288955777883530,-0.000201729446417,-0.176546201109886,0.106637686491013,-0.089381068944931,0.141533598303795,0.003420604392886,-0.046465620398521,-0.065233819186687,-0.202629104256630,0.048769719898701,0.046638842672110,0.109118573367596,-0.078347012400627));
res += mul(Get(s3,-dx,dy), float4x4(-0.129755526781082,-0.048108935356140,-0.134403496980667,0.137173891067505,0.057502601295710,0.114408165216446,-0.111658014357090,0.052705805748701,0.156362339854240,0.034880358725786,-0.075820893049240,-0.132122308015823,0.040219288319349,0.096391044557095,-0.044450275599957,-0.061070393770933));
res += mul(Get(s3,0,-dy), float4x4(0.101153299212456,-0.095658406615257,-0.006570983678102,-0.001498024328612,-0.010569321922958,-0.093728408217430,-0.044398266822100,-0.007125418167561,0.079074703156948,-0.023841517046094,-0.016411170363426,-0.220350757241249,-0.051331657916307,-0.159296765923500,0.078510135412216,-0.096142135560513));
res += mul(Get(s3,0,0), float4x4(0.016351968050003,-0.061169330030680,-0.068370580673218,0.109795197844505,-0.102530144155025,-0.018406603485346,0.060211889445782,-0.110502734780312,0.097456037998199,-0.144755721092224,-0.106182679533958,0.084775067865849,0.010935300961137,-0.121329106390476,-0.075311906635761,-0.007809733040631));
res += mul(Get(s3,0,dy), float4x4(-0.014823820441961,0.134620442986488,0.181100353598595,-0.148825585842133,-0.041747011244297,0.134349882602692,-0.000143859957461,-0.057780910283327,-0.067469224333763,-0.108400315046310,0.025038192048669,-0.024720594286919,-0.003082679351792,0.110538378357887,0.004367841407657,0.042223516851664));
res += mul(Get(s3,dx,-dy), float4x4(-0.113666810095310,0.025680113583803,-0.133837535977364,-0.044175188988447,-0.025112645700574,-0.121150881052017,-0.079537950456142,-0.131668210029602,0.177920505404472,-0.081384457647800,-0.011192963458598,0.063203319907188,0.044613353908062,0.038770921528339,-0.069525197148323,0.009968309663236));
res += mul(Get(s3,dx,0), float4x4(-0.165912866592407,-0.042901296168566,-0.034767564386129,-0.060334216803312,-0.099775977432728,0.059234179556370,-0.105687566101551,-0.113049976527691,-0.041684396564960,0.020566655322909,0.093229852616787,-0.076717168092728,-0.087243840098381,-0.028154700994492,0.034624818712473,0.133501395583153));
res += mul(Get(s3,dx,dy), float4x4(0.024484289810061,-0.105442389845848,-0.127740934491158,-0.137103617191315,-0.048088375478983,0.110722802579403,-0.163920313119888,0.182079806923866,-0.072808004915714,0.069774016737938,-0.012028260156512,-0.005547507200390,0.051658786833286,-0.024022199213505,-0.204725608229637,0.043405182659626));
return max(float4(0,0,0,0), res);
}
