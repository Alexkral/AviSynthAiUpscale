sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.040697816759348,-0.001063875621185,-0.039872497320175,0.052553076297045,0.064407601952553,0.075299665331841,-0.002895615063608,0.068783760070801,0.038190852850676,-0.104369737207890,-0.040696095675230,0.112269707024097,-0.049564186483622,-0.079230062663555,0.070525139570236,0.071864657104015));
res += mul(Get(s0,-dx,0), float4x4(-0.080981850624084,-0.009114944376051,0.048109751194715,-0.042477607727051,-0.008780456148088,-0.038543507456779,-0.049710731953382,0.096369937062263,-0.025884980335832,-0.043145805597305,-0.044373743236065,0.073612608015537,-0.086058519780636,0.067525789141655,0.021527547389269,-0.179930448532104));
res += mul(Get(s0,-dx,dy), float4x4(0.000923863903154,-0.106300890445709,-0.071963541209698,-0.043826259672642,-0.027466615661979,0.031885579228401,0.086412906646729,-0.021353296935558,0.042545046657324,-0.124834299087524,0.078162901103497,-0.159441664814949,0.064368508756161,0.011409017257392,-0.110133282840252,-0.043498754501343));
res += mul(Get(s0,0,-dy), float4x4(0.025031505152583,-0.039914511144161,-0.013758889399469,0.087239086627960,-0.024443535134196,0.022468550130725,0.077133357524872,0.055982921272516,0.097722984850407,-0.037963446229696,-0.085133723914623,0.195601090788841,0.101898394525051,-0.089284650981426,-0.079414010047913,0.148791983723640));
res += mul(Get(s0,0,0), float4x4(-0.093838676810265,-0.050080191344023,-0.071573756635189,0.215270787477493,-0.022062743082643,-0.055937830358744,0.022113740444183,-0.004304131492972,0.128973662853241,0.024849383160472,0.042125649750233,0.224696189165115,-0.071925222873688,-0.041943974792957,0.062532946467400,0.003452360164374));
res += mul(Get(s0,0,dy), float4x4(0.022369667887688,-0.017070980742574,0.054077815264463,0.019078575074673,0.029477726668119,0.084704160690308,-0.010003144852817,0.146330326795578,-0.023230653256178,0.039255738258362,-0.066669665277004,-0.033256519585848,-0.050507687032223,-0.008178893476725,-0.069796666502953,0.026144916191697));
res += mul(Get(s0,dx,-dy), float4x4(-0.009613831527531,0.066282600164413,-0.045274499803782,0.094190396368504,-0.061596222221851,0.031385898590088,-0.097590819001198,0.071172811090946,0.010968852788210,-0.012014138512313,-0.052702225744724,-0.066397495567799,0.079268790781498,-0.046695079654455,0.049068935215473,-0.034288182854652));
res += mul(Get(s0,dx,0), float4x4(-0.074296057224274,0.092241473495960,-0.008870716206729,0.060165289789438,0.119812071323395,0.130451694130898,-0.230486869812012,0.060600396245718,-0.053965378552675,-0.054924063384533,-0.084938228130341,-0.046829719096422,-0.049673426896334,0.099195897579193,-0.007700700312853,0.133814930915833));
res += mul(Get(s0,dx,dy), float4x4(-0.021083405241370,0.049886576831341,-0.041282974183559,-0.002797899767756,-0.002645154716447,-0.170255258679390,-0.006598487496376,0.041159164160490,-0.019224625080824,-0.114314958453178,0.016491912305355,-0.067539922893047,0.018407225608826,0.102521963417530,0.133199244737625,0.074669860303402));
res += mul(Get(s1,-dx,-dy), float4x4(0.053533315658569,0.119705110788345,0.025655234232545,-0.038214005529881,-0.023764278739691,0.060215108096600,-0.028763314709067,-0.012668050825596,-0.128396153450012,0.094169497489929,-0.038163196295500,-0.030013520270586,-0.137882992625237,0.051137555390596,-0.099805116653442,0.041891679167747));
res += mul(Get(s1,-dx,0), float4x4(0.003485433990136,0.054964840412140,0.025146404281259,0.044659148901701,0.067579515278339,-0.019110826775432,-0.132735669612885,-0.030895866453648,0.057824023067951,-0.036002762615681,-0.044035196304321,-0.070015497505665,0.020362896844745,-0.092777810990810,-0.073080793023109,0.073045440018177));
res += mul(Get(s1,-dx,dy), float4x4(-0.024072252213955,-0.036965031176805,0.072115123271942,0.030462656170130,0.061652060598135,-0.016043437644839,-0.050564769655466,-0.099732466042042,-0.105195589363575,-0.078861780464649,0.000466152880108,-0.081368386745453,0.046748746186495,0.044065747410059,0.011415350250900,-0.171915963292122));
res += mul(Get(s1,0,-dy), float4x4(0.015372681431472,0.010175011120737,-0.035652235150337,-0.066153272986412,0.072909809648991,-0.066445976495743,-0.023840300738811,0.198865354061127,-0.014494678936899,0.115588657557964,0.003341499250382,0.012851697392762,-0.120284304022789,0.019425021484494,0.035134173929691,0.174882173538208));
res += mul(Get(s1,0,0), float4x4(-0.010219288989902,-0.026813605800271,-0.042062669992447,-0.001342393457890,-0.060935292392969,-0.040059916675091,0.085122436285019,0.023863466456532,0.122248955070972,-0.012190735898912,0.022999636828899,-0.051622513681650,-0.054237861186266,0.027280829846859,0.147221446037292,0.023446226492524));
res += mul(Get(s1,0,dy), float4x4(0.079574964940548,-0.112277954816818,0.089563824236393,0.056655548512936,0.008579138666391,0.106017425656319,-0.037441000342369,0.016545984894037,-0.044989701360464,-0.003230290021747,-0.018968541175127,-0.108252748847008,-0.026533640921116,0.060170155018568,0.033060170710087,-0.057487580925226));
res += mul(Get(s1,dx,-dy), float4x4(0.026761466637254,-0.033279534429312,0.095182850956917,-0.170535266399384,-0.005070584826171,-0.038871474564075,-0.054703749716282,0.007298832759261,-0.041551019996405,0.063869550824165,-0.012809119187295,-0.052072264254093,-0.058433849364519,-0.056069560348988,-0.060773424804211,0.119026146829128));
res += mul(Get(s1,dx,0), float4x4(-0.075041726231575,-0.065104454755783,-0.130576908588409,-0.198551476001740,0.101987808942795,0.021122738718987,-0.001258142758161,-0.030573830008507,-0.015373304486275,0.041963063180447,-0.005880487151444,-0.008325744420290,0.032082162797451,0.041456211358309,-0.095100872218609,-0.117700748145580));
res += mul(Get(s1,dx,dy), float4x4(-0.042068589478731,-0.127499088644981,-0.164047837257385,-0.040713295340538,-0.035618633031845,0.056142512708902,0.023539634421468,0.023722529411316,0.037266928702593,-0.125911444425583,-0.042026191949844,-0.069738209247589,-0.049101658165455,-0.057913992553949,-0.043933790177107,-0.010477622970939));
res += mul(Get(s2,-dx,-dy), float4x4(0.031872935593128,0.041622251272202,0.011490980163217,0.018488734960556,-0.117919370532036,-0.120746046304703,-0.070807322859764,0.020388826727867,-0.226613864302635,0.068495847284794,-0.056218471378088,-0.060984194278717,-0.074815824627876,0.057616539299488,0.125203609466553,-0.067951664328575));
res += mul(Get(s2,-dx,0), float4x4(0.036860600113869,-0.088904820382595,-0.051005747169256,-0.048294607549906,-0.141757458448410,-0.076706588268280,0.067127265036106,0.022692212834954,0.197825312614441,-0.009690904058516,0.077501371502876,-0.119996480643749,0.115084081888199,0.029595404863358,0.052604984492064,-0.063809283077717));
res += mul(Get(s2,-dx,dy), float4x4(0.062373168766499,-0.014732475392520,-0.109364606440067,0.137046679854393,0.011797594837844,0.016947045922279,-0.032876897603273,0.062597669661045,-0.027693683281541,0.045584168285131,-0.071016684174538,0.000790173187852,-0.016804238781333,-0.042695742100477,0.045736435800791,-0.046332173049450));
res += mul(Get(s2,0,-dy), float4x4(0.036323361098766,0.039213526993990,0.008150792680681,0.007107182871550,0.030494662001729,-0.029602039605379,-0.122184194624424,-0.072728872299194,0.025896945968270,-0.052340336143970,-0.047150958329439,0.304641604423523,0.054851431399584,-0.015752125531435,-0.016345903277397,0.083616822957993));
res += mul(Get(s2,0,0), float4x4(-0.026387851685286,0.027242342010140,-0.166364446282387,-0.099375098943710,0.052720520645380,0.018162436783314,0.021902458742261,-0.037269942462444,-0.076763801276684,-0.091036558151245,-0.046835716813803,-0.085943900048733,-0.021053537726402,0.228244394063950,-0.070508725941181,-0.036328598856926));
res += mul(Get(s2,0,dy), float4x4(0.021510191261768,-0.054747588932514,-0.083258979022503,-0.085757821798325,0.007470949552953,0.081829704344273,-0.071429833769798,0.078122399747372,-0.032702080905437,0.005421218927950,-0.001431611133739,0.029157321900129,-0.010348063893616,-0.077121593058109,-0.027364134788513,0.088713087141514));
res += mul(Get(s2,dx,-dy), float4x4(0.049118481576443,0.114921718835831,-0.018778087571263,-0.010438328608871,-0.050905179232359,-0.093853816390038,-0.002992328489199,-0.029667582362890,-0.023785484954715,0.057355381548405,0.072772778570652,-0.054674196988344,-0.054679483175278,-0.039189759641886,-0.038240101188421,-0.009239083155990));
res += mul(Get(s2,dx,0), float4x4(-0.054660364985466,0.006137405522168,-0.078906647861004,0.008950246497989,0.001516447169706,0.049816254526377,-0.123965442180634,-0.019963026046753,-0.033718261867762,-0.003437363542616,0.005892660468817,-0.021935993805528,-0.093640312552452,0.068555019795895,0.015006043016911,0.048349499702454));
res += mul(Get(s2,dx,dy), float4x4(0.044366318732500,-0.033992413431406,0.053507458418608,-0.031695187091827,0.099647186696529,0.007951875217259,0.072934694588184,0.062067937105894,-0.024246413260698,0.010186462663114,0.040118269622326,-0.077245630323887,-0.045385718345642,0.038925249129534,-0.067556180059910,0.127367556095123));
res += mul(Get(s3,-dx,-dy), float4x4(0.089356638491154,-0.060666814446449,-0.000922749983147,-0.137581378221512,-0.013394750654697,-0.035581797361374,0.087512813508511,-0.035300944000483,0.051562082022429,-0.093607462942600,0.047588765621185,0.006181756034493,0.034135714173317,-0.038408700376749,-0.034826748073101,0.037529539316893));
res += mul(Get(s3,-dx,0), float4x4(0.031357090920210,0.058089450001717,0.029609877616167,0.094179563224316,0.046977695077658,0.021351603791118,-0.000052230319852,0.033950902521610,0.114082820713520,0.055323202162981,-0.029250361025333,-0.119356609880924,0.068765416741371,0.083755828440189,0.077523335814476,0.005777672864497));
res += mul(Get(s3,-dx,dy), float4x4(-0.058754120022058,0.084240928292274,-0.038607481867075,-0.217914789915085,0.040513791143894,0.176256284117699,-0.083473801612854,-0.067997634410858,0.091924227774143,0.024617774412036,-0.071994900703430,-0.037803072482347,-0.084292389452457,-0.012834600172937,0.033788096159697,-0.054593950510025));
res += mul(Get(s3,0,-dy), float4x4(-0.037408638745546,0.025205574929714,-0.058206718415022,-0.009035664610565,0.120290093123913,0.019571594893932,-0.004536083899438,0.068164706230164,0.119132250547409,-0.003929578699172,-0.135755002498627,-0.014056138694286,0.027106491848826,-0.024155166000128,-0.051376894116402,0.038692250847816));
res += mul(Get(s3,0,0), float4x4(0.046373639255762,0.011904160492122,-0.030406840145588,0.244889602065086,0.042865887284279,-0.120132885873318,0.018017398193479,-0.012294734828174,-0.064363859593868,-0.052938360720873,-0.090022020041943,0.034672737121582,0.011978750117123,-0.087107256054878,0.092013962566853,0.064666420221329));
res += mul(Get(s3,0,dy), float4x4(0.059820432215929,0.023806989192963,0.013444957323372,-0.024694116786122,-0.024891970679164,-0.006095282733440,0.004405301529914,0.056833043694496,-0.063726112246513,-0.038192100822926,0.022832082584500,0.004413073416799,-0.013253517448902,0.019407702609897,0.015502925030887,0.004229844547808));
res += mul(Get(s3,dx,-dy), float4x4(-0.041854050010443,-0.056046884506941,0.001565248589031,-0.040678933262825,0.063012339174747,0.055807687342167,0.076537027955055,0.047015599906445,-0.043159484863281,0.011270665563643,-0.009239637292922,0.025374352931976,-0.101367980241776,-0.016962470486760,0.053581468760967,-0.062258541584015));
res += mul(Get(s3,dx,0), float4x4(0.045094735920429,0.032561078667641,-0.112721294164658,-0.028017010539770,-0.034203886985779,-0.088877812027931,-0.001820765784942,-0.008669739589095,-0.046511448919773,0.012334516271949,0.005942989606410,-0.064251355826855,-0.051331814378500,0.003052290296182,0.087423600256443,-0.013529974035919));
res += mul(Get(s3,dx,dy), float4x4(0.005110924597830,0.002642881590873,0.013995840214193,-0.111929789185524,0.116134241223335,0.016489479690790,0.006145816296339,0.036750700324774,0.035096567124128,-0.144949108362198,0.056974433362484,-0.044670123606920,0.096527762711048,0.048284191638231,-0.068589203059673,-0.005196514539421));
return max(float4(0,0,0,0), res);
}
