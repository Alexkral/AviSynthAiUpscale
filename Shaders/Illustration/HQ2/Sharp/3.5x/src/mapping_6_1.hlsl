sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.064526923000813,-0.001115273218602,-0.030607964843512,0.145971640944481,-0.019313486292958,0.013947009108961,0.000192360865185,0.019180709496140,0.072009757161140,-0.096142247319221,0.070655904710293,-0.087101250886917,0.107463061809540,-0.020356325432658,-0.039502330124378,-0.024631794542074));
res += mul(Get(s0,-dx,0), float4x4(-0.044807795435190,-0.042949087917805,-0.108807288110256,0.074710585176945,-0.030918413773179,0.104969747364521,0.117260098457336,0.229307711124420,0.155684992671013,0.152798220515251,-0.006683435756713,-0.099332980811596,0.025069493800402,-0.051506411284208,0.078820489346981,-0.097394295036793));
res += mul(Get(s0,-dx,dy), float4x4(-0.017601249739528,0.007087572477758,0.045897427946329,0.070799924433231,-0.055005881935358,-0.079627916216850,-0.094373613595963,0.029564196243882,-0.210030034184456,-0.055459227412939,0.042695108801126,0.028541969135404,0.073674492537975,0.093029312789440,0.013531070202589,-0.116480939090252));
res += mul(Get(s0,0,-dy), float4x4(0.094571217894554,0.057852603495121,0.021462876349688,0.202903538942337,-0.118944019079208,-0.082364127039909,0.041924051940441,0.026281462982297,0.197944998741150,-0.047430150210857,0.080247379839420,-0.057683032006025,0.159173890948296,0.038788869976997,0.195866316556931,-0.044776961207390));
res += mul(Get(s0,0,0), float4x4(0.015802245587111,0.012219082564116,0.091804280877113,0.027281941846013,-0.027087669819593,-0.146474078297615,-0.037957616150379,0.101627111434937,0.014956209808588,-0.042896311730146,0.119222894310951,0.061559695750475,0.083204478025436,0.080776892602444,0.019214365631342,-0.042900186032057));
res += mul(Get(s0,0,dy), float4x4(0.067889764904976,-0.121245890855789,0.091980472207069,0.022131523117423,0.077650249004364,0.055371433496475,-0.044599346816540,-0.055225767195225,-0.163148477673531,0.029713999480009,-0.084479123353958,0.010369309224188,-0.000699776341207,-0.108171224594116,-0.038676932454109,0.049396369606256));
res += mul(Get(s0,dx,-dy), float4x4(0.040579900145531,0.071154877543449,0.018423948436975,-0.066533371806145,0.123783268034458,-0.017849380150437,-0.098383426666260,0.010155989788473,0.117147251963615,-0.005689898505807,-0.094039425253868,-0.019940018653870,-0.012498418800533,0.062120139598846,-0.141150698065758,0.165267929434776));
res += mul(Get(s0,dx,0), float4x4(0.013627549633384,-0.013306500390172,-0.050975762307644,0.064385950565338,0.082684971392155,0.046550609171391,-0.003614761400968,-0.139661774039268,0.110897094011307,-0.126049056649208,-0.032320693135262,0.072679072618484,-0.052951689809561,0.053252208977938,-0.189124554395676,0.050786834210157));
res += mul(Get(s0,dx,dy), float4x4(-0.016889734193683,-0.046062529087067,0.104019694030285,0.041442468762398,-0.063688598573208,0.056021425873041,-0.065349556505680,0.070962868630886,0.022611383348703,-0.053608398884535,0.003903115633875,0.091308750212193,0.019887199625373,0.067801624536514,-0.039109934121370,-0.054683860391378));
res += mul(Get(s1,-dx,-dy), float4x4(-0.017983313649893,0.008539540693164,-0.016001809388399,0.160661444067955,0.148289352655411,-0.020371848717332,-0.057478800415993,0.004232164938003,-0.030244559049606,-0.107335388660431,0.005999102257192,-0.090709276497364,0.050735048949718,-0.073230139911175,-0.016935994848609,0.008029269985855));
res += mul(Get(s1,-dx,0), float4x4(-0.046110566705465,0.023432977497578,0.032619018107653,-0.039242215454578,-0.013014932163060,-0.063405834138393,-0.007043878082186,0.089105866849422,0.141868278384209,0.125335216522217,0.103182420134544,0.081199862062931,-0.009485797956586,0.103217847645283,0.029388885945082,-0.030493047088385));
res += mul(Get(s1,-dx,dy), float4x4(-0.001697045750916,0.013496626168489,-0.023938188329339,0.018887437880039,0.085023961961269,0.018173789605498,-0.184804156422615,0.090881891548634,-0.152911111712456,0.069245032966137,0.080423556268215,-0.019439162686467,-0.037032604217529,-0.028735797852278,-0.086310617625713,0.037286087870598));
res += mul(Get(s1,0,-dy), float4x4(0.098227337002754,0.013259421102703,0.061658866703510,0.084055073559284,-0.081392787396908,0.062973573803902,-0.049453303217888,-0.044401597231627,-0.002746067009866,0.037386603653431,-0.087322518229485,0.113216474652290,-0.070549443364143,0.061099339276552,0.046011481434107,-0.072951741516590));
res += mul(Get(s1,0,0), float4x4(-0.161833152174950,-0.052788402885199,0.056957036256790,-0.059510335326195,0.013515544123948,-0.132107749581337,0.009722541086376,0.054982222616673,0.093181625008583,0.056459553539753,-0.040346361696720,0.160256832838058,0.063435122370720,-0.038126509636641,0.027933428063989,-0.035536546260118));
res += mul(Get(s1,0,dy), float4x4(-0.087151594460011,-0.084996886551380,-0.003197702579200,-0.010077854618430,-0.021886177361012,0.116977728903294,-0.007434200495481,0.038990315049887,-0.027669284492731,-0.009048224426806,0.020245553925633,0.116990305483341,-0.092932373285294,0.007920424453914,0.026451027020812,-0.034702185541391));
res += mul(Get(s1,dx,-dy), float4x4(-0.051566597074270,0.088671110570431,0.133714094758034,-0.139060571789742,-0.026503233239055,0.147973701357841,-0.034731142222881,0.110649600625038,0.048577412962914,-0.046632554382086,0.187758818268776,0.044788114726543,0.083615027368069,-0.002439077943563,0.067742347717285,-0.118096776306629));
res += mul(Get(s1,dx,0), float4x4(0.025066571310163,0.120705232024193,0.215163677930832,-0.039575099945068,-0.008006294257939,0.152056962251663,-0.054659347981215,-0.140029579401016,-0.121345348656178,-0.035950403660536,0.031963542103767,0.007072524633259,0.051550872623920,0.050318617373705,-0.003408238291740,-0.009476392529905));
res += mul(Get(s1,dx,dy), float4x4(-0.030358757823706,0.108609445393085,0.010202101431787,0.026412032544613,-0.047507271170616,-0.038595594465733,-0.004754703957587,-0.010631484910846,-0.139286264777184,-0.024572787806392,0.156097531318665,0.026570927351713,-0.083472818136215,-0.061865821480751,-0.039014540612698,0.030718578025699));
res += mul(Get(s2,-dx,-dy), float4x4(0.147347867488861,-0.052570059895515,-0.024380683898926,0.069219030439854,0.157377406954765,-0.021334717050195,-0.159554213285446,0.141331225633621,0.079837545752525,0.021537616848946,-0.009917988441885,-0.103630304336548,0.125244125723839,0.012322383932769,0.073363803327084,0.025205727666616));
res += mul(Get(s2,-dx,0), float4x4(-0.101383186876774,0.022186910733581,0.031264737248421,0.052210383117199,0.050293184816837,0.038979019969702,0.090826548635960,-0.035949394106865,0.018548322841525,-0.197983831167221,0.057965163141489,0.032245267182589,0.002393212402239,-0.088287562131882,0.009695854969323,-0.065517850220203));
res += mul(Get(s2,-dx,dy), float4x4(-0.098736949265003,0.120776355266571,0.016460241749883,0.112975575029850,0.100089095532894,0.067963279783726,-0.037178926169872,-0.038922797888517,-0.087479062378407,-0.046587225049734,0.132281735539436,0.032978635281324,-0.066825024783611,0.000490663514938,0.087566435337067,-0.158468753099442));
res += mul(Get(s2,0,-dy), float4x4(-0.068230599164963,0.030650250613689,-0.093993633985519,0.012212637811899,-0.137089461088181,-0.144491955637932,0.067988179624081,-0.065254323184490,-0.070549815893173,-0.073395401239395,0.001751030213200,-0.203614950180054,0.081907846033573,-0.055818144232035,-0.104340381920338,-0.179902002215385));
res += mul(Get(s2,0,0), float4x4(0.034254446625710,-0.017905941233039,-0.032314904034138,0.092494055628777,-0.000529268349055,0.042562168091536,0.151783645153046,0.081183865666389,-0.043487340211868,-0.028331188485026,-0.115299284458160,0.148693174123764,-0.125812426209450,0.043711300939322,0.066120564937592,-0.023107912391424));
res += mul(Get(s2,0,dy), float4x4(0.017265561968088,0.094099797308445,0.192478209733963,-0.089625991880894,-0.020044490695000,0.070436015725136,0.097133047878742,-0.061684362590313,0.008344317786396,-0.126722693443298,0.050576083362103,-0.080561414361000,-0.054839313030243,-0.074149779975414,0.076278135180473,-0.049023706465960));
res += mul(Get(s2,dx,-dy), float4x4(-0.017459388822317,0.000012226150830,0.190381690859795,-0.024321354925632,-0.073752403259277,-0.097644507884979,0.072735540568829,-0.046444550156593,-0.051928486675024,-0.097841955721378,-0.073245823383331,-0.010330876335502,-0.147574454545975,-0.052812837064266,-0.077881760895252,0.053685128688812));
res += mul(Get(s2,dx,0), float4x4(0.022017806768417,-0.054104827344418,-0.052261706441641,0.006968443747610,-0.122646428644657,-0.038451302796602,-0.036986071616411,0.068193025887012,0.058185636997223,0.070764817297459,-0.102884925901890,-0.021090900525451,-0.145354807376862,-0.042593691498041,0.110082983970642,-0.054519183933735));
res += mul(Get(s2,dx,dy), float4x4(0.004276999738067,-0.068910636007786,-0.054189153015614,-0.067173115909100,-0.046964894980192,-0.005616954527795,-0.065480515360832,0.050995141267776,0.078612804412842,-0.057436861097813,0.019179053604603,-0.051457870751619,-0.014724318869412,0.034493677318096,0.010207395069301,0.146594315767288));
res += mul(Get(s3,-dx,-dy), float4x4(-0.013492132537067,0.062466211616993,0.077593289315701,-0.065915681421757,-0.023335890844464,-0.016352066770196,0.074044018983841,0.065693669021130,0.110754765570164,-0.017375992611051,0.083062842488289,0.032990533858538,-0.064516343176365,-0.144445702433586,0.089875765144825,0.032749019563198));
res += mul(Get(s3,-dx,0), float4x4(-0.148076400160789,-0.069202758371830,-0.033399630337954,0.021128952503204,0.040437527000904,-0.045436933636665,0.262501269578934,0.052295845001936,0.117998190224171,0.090755186975002,0.060808427631855,0.114912651479244,0.041041798889637,0.045965276658535,-0.014454348012805,0.042551454156637));
res += mul(Get(s3,-dx,dy), float4x4(-0.072477109730244,0.030107915401459,-0.053289763629436,0.016835698857903,-0.060356691479683,-0.063964098691940,-0.052079308778048,0.029976474121213,-0.022992795333266,0.029430301859975,0.014731016941369,0.220068559050560,-0.224467247724533,0.102157354354858,0.090563856065273,0.126498490571976));
res += mul(Get(s3,0,-dy), float4x4(-0.000107729385491,0.063308015465736,0.001455053105019,-0.203489840030670,0.079877942800522,0.192608401179314,-0.129380345344543,-0.029291825369000,0.280322372913361,-0.065949767827988,0.016137948259711,-0.124014221131802,-0.187578231096268,-0.064298123121262,0.001769657712430,-0.079284697771072));
res += mul(Get(s3,0,0), float4x4(-0.168445304036140,0.049661468714476,0.031881950795650,0.025802867487073,-0.092407308518887,0.005800503306091,0.023014912381768,0.006020857021213,-0.011553874239326,-0.002752917585894,-0.047942098230124,-0.020727550610900,0.057778764516115,-0.125385731458664,-0.110882230103016,-0.218449801206589));
res += mul(Get(s3,0,dy), float4x4(-0.053497664630413,0.047276064753532,-0.134553387761116,-0.094266846776009,-0.067947484552860,-0.069140769541264,0.110494859516621,-0.129331350326538,-0.059757407754660,-0.029712377116084,0.054602272808552,0.138419896364212,0.029462158679962,-0.030898671597242,-0.064652495086193,0.121540807187557));
res += mul(Get(s3,dx,-dy), float4x4(0.033209312707186,0.014183149673045,0.023004375398159,0.072263136506081,0.045244719833136,-0.025256132707000,-0.083966538310051,-0.027978474274278,0.138846352696419,0.019928477704525,0.120754368603230,-0.013536931946874,-0.049550466239452,0.101059846580029,0.054880496114492,-0.126620158553123));
res += mul(Get(s3,dx,0), float4x4(0.021700186654925,0.059763561934233,-0.003172939410433,-0.027508964762092,-0.006440978962928,-0.011902914382517,-0.029182020574808,0.008492753840983,0.098732404410839,0.047336343675852,0.115168444812298,-0.032447975128889,-0.015138050541282,-0.069682493805885,0.044360514730215,-0.037701673805714));
res += mul(Get(s3,dx,dy), float4x4(0.095652423799038,-0.045891076326370,0.056694470345974,-0.010349413380027,-0.165580749511719,-0.069600351154804,-0.146630287170410,-0.012026187032461,-0.162043198943138,-0.043173622339964,0.054330676794052,-0.034880783408880,-0.076501794159412,-0.059682503342628,0.053365230560303,0.024696977809072));
return max(float4(0,0,0,0), res);
}
