sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.003726695664227,-0.085863627493382,-0.007819162681699,0.006075742654502,0.081780731678009,0.069676116108894,0.059080835431814,0.094411626458168,0.131912752985954,-0.122480846941471,0.101292647421360,0.011938295327127,0.121552422642708,-0.083433456718922,0.022515276446939,-0.070964299142361));
res += mul(Get(s0,-dx,0), float4x4(0.047522056847811,-0.089553914964199,0.155081421136856,0.048575896769762,0.068017870187759,0.051764473319054,-0.079779170453548,0.079852327704430,0.046059209853411,0.099505148828030,-0.047016717493534,-0.047983661293983,0.105382740497589,-0.054892189800739,-0.089375086128712,-0.206266850233078));
res += mul(Get(s0,-dx,dy), float4x4(-0.058508340269327,0.184701159596443,0.056755051016808,-0.108439646661282,-0.041686993092299,-0.027980925515294,-0.002851099241525,0.058736722916365,0.092722520232201,0.018159059807658,0.211865499615669,-0.181217566132545,-0.108374528586864,0.082932174205780,-0.044787958264351,0.012271874584258));
res += mul(Get(s0,0,-dy), float4x4(0.121739678084850,0.003834482748061,-0.100059412419796,0.072200581431389,0.024521838873625,0.052038595080376,0.010486241430044,-0.040789030492306,-0.256904453039169,-0.084626629948616,0.308782219886780,-0.074822030961514,0.028268810361624,-0.026614123955369,0.108586810529232,0.065938964486122));
res += mul(Get(s0,0,0), float4x4(-0.013652931898832,-0.020504476502538,-0.004352175164968,-0.093081556260586,-0.040569599717855,0.031993195414543,-0.010836433619261,-0.010684058070183,-0.141467347741127,0.037092540413141,0.108687013387680,0.025006124749780,0.006584227085114,-0.041984494775534,0.020398812368512,0.052375912666321));
res += mul(Get(s0,0,dy), float4x4(-0.069177173078060,-0.008927564136684,0.068431586027145,0.105772174894810,-0.049975410103798,-0.009972060099244,0.013005588203669,0.065730221569538,0.128633469343185,0.033684708178043,-0.039557322859764,-0.108609333634377,-0.023834763094783,0.026585074141622,-0.193754404783249,0.107797183096409));
res += mul(Get(s0,dx,-dy), float4x4(-0.052868377417326,-0.012806526385248,-0.074355483055115,-0.002857194514945,-0.051471624523401,-0.037369258701801,-0.012112398631871,-0.005445282906294,0.077952809631824,-0.061816725879908,-0.049169268459082,0.074905067682266,0.128244474530220,-0.104708485305309,0.162693977355957,-0.056384451687336));
res += mul(Get(s0,dx,0), float4x4(-0.037775926291943,-0.066457070410252,-0.008524827659130,-0.040060203522444,0.122943900525570,-0.026579694822431,-0.022241100668907,-0.025413341820240,0.037771366536617,0.095019295811653,0.051037516444921,-0.036345265805721,0.019053051248193,-0.032320044934750,0.096656285226345,0.039475962519646));
res += mul(Get(s0,dx,dy), float4x4(-0.115321360528469,0.006663851439953,-0.033733043819666,0.013139445334673,-0.029076024889946,0.017124632373452,0.103912450373173,-0.000283205183223,0.082372687757015,0.074356824159622,-0.028927261009812,-0.175613388419151,0.054282683879137,0.079020701348782,0.137405693531036,-0.065057553350925));
res += mul(Get(s1,-dx,-dy), float4x4(0.066735118627548,0.118050538003445,0.132618382573128,-0.116724379360676,0.023329058662057,0.003619050374255,0.024121943861246,-0.039539963006973,-0.067628860473633,0.001266079605557,-0.142756998538971,0.043371036648750,0.059883404523134,0.004620616789907,-0.073734968900681,0.090265721082687));
res += mul(Get(s1,-dx,0), float4x4(-0.076497316360474,0.019749497994781,0.046611987054348,0.102830804884434,-0.011707934550941,-0.018795637413859,0.145442500710487,-0.078583374619484,-0.036615438759327,-0.088350646197796,-0.130304560065269,-0.011059378273785,0.033123008906841,-0.013021077029407,0.064856827259064,0.066874876618385));
res += mul(Get(s1,-dx,dy), float4x4(0.032691523432732,-0.064567565917969,0.008098792284727,-0.073139354586601,0.014981934800744,0.007303195074201,0.044872850179672,0.065770141780376,0.132471278309822,-0.001414132071659,0.038040351122618,0.061669327318668,-0.014135099947453,-0.104435116052628,0.186040058732033,0.054120000451803));
res += mul(Get(s1,0,-dy), float4x4(0.009236329235137,0.077286377549171,0.021958736702800,0.105280444025993,-0.086547732353210,-0.082903623580933,0.105891630053520,-0.083048909902573,0.112733945250511,0.022335924208164,-0.131157979369164,-0.009847249835730,0.217895045876503,0.112227141857147,-0.050254419445992,-0.027406910434365));
res += mul(Get(s1,0,0), float4x4(-0.089179046452045,0.009894045069814,0.050912093371153,-0.029267767444253,0.021561603993177,0.080723404884338,0.031141435727477,-0.107173666357994,0.031607873737812,-0.020050862804055,-0.088096685707569,-0.110408738255501,0.075403623282909,0.033821646124125,0.058683887124062,-0.052827831357718));
res += mul(Get(s1,0,dy), float4x4(-0.096726350486279,0.017040688544512,0.007011121604592,-0.067604839801788,0.077728785574436,-0.001081994036213,-0.023278087377548,0.092803604900837,-0.141173645853996,-0.096754126250744,0.022059431299567,0.026768183335662,0.019691560417414,-0.154313549399376,0.187871158123016,-0.021373391151428));
res += mul(Get(s1,dx,-dy), float4x4(0.071232028305531,0.040860861539841,-0.148137584328651,-0.018990837037563,0.036331206560135,0.051896806806326,-0.008320320397615,-0.079763978719711,0.136860311031342,0.009487167000771,0.008652354590595,0.055387586355209,0.072231940925121,0.107578128576279,0.001624044962227,0.056565474718809));
res += mul(Get(s1,dx,0), float4x4(0.104136615991592,0.019766116514802,0.047441512346268,-0.015814015641809,0.102172710001469,0.052853077650070,-0.030912855640054,-0.009916959330440,0.163708120584488,-0.092247053980827,-0.117660924792290,-0.120286449790001,0.003248190507293,0.049954060465097,-0.078617885708809,0.078258320689201));
res += mul(Get(s1,dx,dy), float4x4(-0.025258950889111,-0.012195385992527,0.015834296122193,0.015714809298515,0.139244198799133,0.074908018112183,-0.142688512802124,0.003944132942706,-0.019578766077757,0.031354229897261,-0.058586262166500,-0.110250681638718,0.017824258655310,-0.033756528049707,0.006582097616047,0.095134302973747));
res += mul(Get(s2,-dx,-dy), float4x4(-0.083927907049656,0.040927819907665,0.004008993972093,0.124503582715988,-0.075403958559036,-0.036347936838865,0.071736522018909,0.137092366814613,-0.060622338205576,-0.084472745656967,-0.060937039554119,0.163809627294540,0.025949571281672,-0.135150089859962,-0.070580936968327,0.014519927091897));
res += mul(Get(s2,-dx,0), float4x4(-0.194464460015297,-0.019006110727787,0.026511400938034,-0.045749355107546,-0.082266241312027,-0.108638718724251,0.027455728501081,0.060243595391512,0.150956511497498,0.024259474128485,-0.132171735167503,-0.024144161492586,0.021717222407460,-0.070963978767395,-0.018450694158673,-0.076729387044907));
res += mul(Get(s2,-dx,dy), float4x4(-0.052829071879387,0.063196912407875,0.014973995275795,0.029503801837564,0.028185609728098,-0.035394955426455,0.001764021464624,-0.070902459323406,0.030401781201363,-0.085349522531033,0.002441272605211,-0.078140817582607,-0.007150908466429,0.087719216942787,-0.047013092786074,-0.062022164463997));
res += mul(Get(s2,0,-dy), float4x4(0.132307797670364,0.012024707160890,-0.094484299421310,-0.045987144112587,0.036503184586763,0.159250751137733,-0.014276642352343,0.123157270252705,-0.163448005914688,0.003490258008242,0.051696501672268,0.204247996211052,-0.021590054035187,0.023424673825502,0.043972477316856,-0.105822458863258));
res += mul(Get(s2,0,0), float4x4(0.034425213932991,-0.007961024530232,-0.116170458495617,0.038963925093412,0.124912008643150,-0.064809866249561,-0.132956802845001,0.034449394792318,0.145412832498550,0.082304067909718,-0.111000753939152,0.057604476809502,0.028406064957380,0.050849575549364,0.050753187388182,0.063503451645374));
res += mul(Get(s2,0,dy), float4x4(-0.040753934532404,-0.063006460666656,-0.109131045639515,-0.019860712811351,0.025655329227448,0.002886850154027,0.123094938695431,-0.107751965522766,-0.008428265340626,-0.025669956579804,0.131100445985794,0.019299598410726,0.130433097481728,0.094090424478054,0.009629713371396,0.045733224600554));
res += mul(Get(s2,dx,-dy), float4x4(-0.001133829588071,-0.048823561519384,-0.042262371629477,0.036479614675045,-0.034811180084944,-0.051914449781179,-0.122931405901909,-0.029678365215659,-0.046589728444815,-0.183432981371880,0.101494044065475,0.083162911236286,-0.051161237061024,0.067525506019592,-0.058596111834049,-0.094307601451874));
res += mul(Get(s2,dx,0), float4x4(0.062786266207695,-0.064846605062485,-0.108064480125904,-0.016087176278234,0.160497054457664,-0.002380645135418,-0.068785741925240,0.042742721736431,0.213575243949890,0.059658180922270,-0.000238344189711,-0.088356122374535,-0.080010168254375,0.083539925515652,0.154677629470825,-0.002072368049994));
res += mul(Get(s2,dx,dy), float4x4(0.184389486908913,0.055451136082411,-0.073922380805016,0.012188053689897,0.031889058649540,-0.155308291316032,-0.030601644888520,0.031543482095003,0.098345652222633,-0.050534714013338,0.062382958829403,-0.077521912753582,-0.102041333913803,0.013278038240969,0.061967469751835,-0.029074611142278));
res += mul(Get(s3,-dx,-dy), float4x4(0.168861240148544,-0.082777515053749,-0.115503847599030,0.008296139538288,-0.101049832999706,0.025885736569762,0.108205512166023,-0.022296084091067,-0.118735425174236,0.000063031417085,-0.156166553497314,0.084293261170387,-0.042946767061949,0.059426885098219,0.091804325580597,-0.042551327496767));
res += mul(Get(s3,-dx,0), float4x4(-0.027099264785647,0.045766841620207,-0.069181986153126,-0.069951280951500,0.064352199435234,0.014430189505219,0.066988155245781,0.014580312184989,-0.049534063786268,0.014274969696999,-0.057657156139612,-0.003241334576160,-0.038189943879843,0.000126602972159,-0.024835344403982,0.091176964342594));
res += mul(Get(s3,-dx,dy), float4x4(0.109089240431786,-0.014000808820128,0.006849608384073,-0.121908776462078,0.032421883195639,-0.010450043715537,0.022712511941791,0.175743818283081,-0.015347048640251,0.085408240556717,-0.086707666516304,-0.035077925771475,-0.021535985171795,-0.001462758984417,0.016217242926359,0.039642408490181));
res += mul(Get(s3,0,-dy), float4x4(-0.044989049434662,-0.047201190143824,-0.032653488218784,0.126433447003365,-0.009572277776897,-0.045608434826136,0.051538094878197,0.051347050815821,0.046276248991489,-0.037251155823469,-0.086925700306892,0.075346522033215,0.162137702107430,0.054291162639856,-0.067942760884762,0.009544296190143));
res += mul(Get(s3,0,0), float4x4(-0.047255907207727,0.067971900105476,0.081090547144413,0.011985797435045,-0.081225641071796,-0.018699299544096,-0.027968659996986,0.025291204452515,0.156425029039383,-0.098237887024879,0.028947042301297,-0.103451855480671,-0.054401293396950,0.065569102764130,0.010348026640713,-0.041915014386177));
res += mul(Get(s3,0,dy), float4x4(0.105387099087238,0.053069859743118,0.063342683017254,-0.006182906217873,0.013719598762691,0.031107265502214,0.103852622210979,-0.050412662327290,0.090836308896542,-0.054738599807024,-0.072214215993881,-0.012308182194829,-0.111153617501259,0.015286360867321,0.003104223869741,0.130559027194977));
res += mul(Get(s3,dx,-dy), float4x4(-0.134784221649170,0.012636578641832,-0.051288038492203,0.028917822986841,-0.000038832513383,0.100630171597004,-0.055406056344509,0.073659688234329,0.032807800918818,0.026762638241053,0.050162218511105,0.061709400266409,-0.023299507796764,-0.043314687907696,0.005842617247254,-0.059305708855391));
res += mul(Get(s3,dx,0), float4x4(-0.035288278013468,-0.003533986629918,0.082324981689453,0.051223065704107,-0.011697067879140,-0.148988842964172,-0.082473613321781,-0.018817165866494,-0.070134989917278,-0.068266719579697,-0.049187682569027,0.077861644327641,0.027815261855721,0.070220492780209,-0.034241195768118,0.022545952349901));
res += mul(Get(s3,dx,dy), float4x4(-0.084847085177898,0.003382864873856,0.147577598690987,0.014099445194006,-0.083603322505951,-0.017547115683556,-0.083991020917892,-0.017026297748089,0.014194184914231,0.077139452099800,-0.040971141308546,0.023971369490027,0.050332885235548,-0.008749647997320,0.115989476442337,0.054481320083141));
return max(float4(0,0,0,0), res);
}
