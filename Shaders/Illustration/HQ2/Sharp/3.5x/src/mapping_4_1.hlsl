sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.155635207891464,0.035076666623354,0.131500646471977,-0.032119266688824,0.030910870060325,0.129201516509056,0.047093499451876,0.111312761902809,-0.101891763508320,0.012222079560161,-0.167518824338913,-0.006976529490203,-0.196402713656425,0.096170544624329,0.016083152964711,0.071566246449947));
res += mul(Get(s0,-dx,0), float4x4(-0.074878811836243,0.048163790255785,0.091881237924099,0.054294381290674,-0.014223392121494,0.100123673677444,-0.023391189053655,-0.009786277078092,-0.053585946559906,0.151792839169502,0.012537230737507,0.130860000848770,-0.069419607520103,-0.000371759175323,0.028259528800845,-0.028310840949416));
res += mul(Get(s0,-dx,dy), float4x4(-0.085850544273853,0.006308285985142,-0.075156025588512,-0.075631842017174,-0.002606495982036,0.068733699619770,-0.065585240721703,0.063334308564663,0.105089351534843,-0.122617572546005,-0.053538668900728,-0.146434918045998,-0.064077146351337,-0.011333567090333,0.072870746254921,-0.076329119503498));
res += mul(Get(s0,0,-dy), float4x4(0.009060386568308,0.266737639904022,0.246601402759552,-0.031889043748379,0.068337075412273,-0.055064562708139,-0.056767955422401,-0.052205491811037,-0.007635471411049,-0.102953657507896,0.021378559991717,-0.140379935503006,-0.066495314240456,-0.032561469823122,0.011143894866109,-0.050975259393454));
res += mul(Get(s0,0,0), float4x4(-0.002344532869756,-0.067389778792858,0.049434941262007,-0.116259276866913,0.142430335283279,0.074604354798794,-0.160281300544739,-0.072510100901127,0.128786712884903,-0.131930142641068,-0.078400492668152,0.000121312768897,0.054950039833784,0.012441128492355,-0.021739393472672,-0.032430417835712));
res += mul(Get(s0,0,dy), float4x4(-0.068134509027004,0.064858272671700,-0.030443621799350,0.003396225394681,0.044320885092020,-0.009868688881397,0.026446424424648,0.034589949995279,0.110934354364872,-0.115196250379086,0.032435588538647,-0.025148866698146,0.071996852755547,0.113447226583958,0.168791741132736,0.051646750420332));
res += mul(Get(s0,dx,-dy), float4x4(0.075297661125660,-0.095332287251949,0.045766714960337,0.128232866525650,0.089913971722126,0.021899957209826,0.100683733820915,-0.103697255253792,-0.065850660204887,-0.023336624726653,0.077366955578327,-0.030240146443248,0.124951764941216,-0.049030017107725,0.024225043132901,0.156941860914230));
res += mul(Get(s0,dx,0), float4x4(-0.175748005509377,-0.006656792480499,-0.060029637068510,0.139898389577866,0.090595878660679,-0.049650147557259,-0.011130508966744,0.046698506921530,-0.025885567069054,-0.083418637514114,0.006747075822204,0.120259419083595,-0.175783827900887,0.029853563755751,-0.033738847821951,-0.067843921482563));
res += mul(Get(s0,dx,dy), float4x4(-0.156647935509682,0.042417295277119,-0.057174496352673,0.014135956764221,-0.019595643505454,0.146663993597031,0.050079792737961,-0.029887000098825,-0.028041008859873,-0.043768160045147,-0.059776205569506,0.009182915091515,0.018320623785257,0.070029363036156,-0.127294600009918,0.017643576487899));
res += mul(Get(s1,-dx,-dy), float4x4(-0.073467969894409,-0.022857112810016,-0.107829123735428,-0.051298588514328,0.050275132060051,-0.092778466641903,0.042460709810257,-0.041751023381948,-0.052199393510818,-0.060218755155802,0.025777257978916,-0.034714758396149,-0.119434617459774,0.018887953832746,-0.071926377713680,-0.079331554472446));
res += mul(Get(s1,-dx,0), float4x4(-0.039195019751787,0.039873525500298,-0.046302031725645,-0.027234585955739,-0.021944884210825,0.010224930942059,-0.013920233584940,-0.037705220282078,0.074265249073505,-0.000349535461282,-0.007925341837108,0.016513979062438,-0.066873185336590,-0.076424978673458,0.112688012421131,0.018047856166959));
res += mul(Get(s1,-dx,dy), float4x4(0.004956629592925,0.033464711159468,-0.057275544852018,-0.031719028949738,0.063697382807732,-0.078613117337227,0.101166374981403,0.004510929342359,0.044184133410454,-0.005075598135591,0.006545909214765,-0.107435949146748,-0.109708853065968,-0.016866737976670,0.031210204586387,0.007727030199021));
res += mul(Get(s1,0,-dy), float4x4(0.041480049490929,0.068385079503059,-0.178580075502396,-0.103746049106121,-0.081829845905304,-0.085035055875778,0.096547827124596,0.137336716055870,0.051001384854317,-0.100318484008312,0.020170597359538,0.099248617887497,-0.027396205812693,0.020685646682978,-0.144921258091927,-0.019707191735506));
res += mul(Get(s1,0,0), float4x4(0.167593762278557,-0.077798187732697,0.106548897922039,0.031466539949179,0.018296945840120,0.003061755793169,0.102604493498802,0.000669798464514,-0.055585496127605,0.098670713603497,-0.055293429642916,-0.005068961530924,0.116387188434601,-0.022231210023165,0.159673765301704,-0.006672876421362));
res += mul(Get(s1,0,dy), float4x4(0.060470730066299,0.010573656298220,-0.002937562763691,0.054306663572788,-0.085728399455547,0.061679027974606,-0.037023771554232,-0.039584502577782,0.208771556615829,-0.074416801333427,-0.064218200743198,-0.168585911393166,-0.045716285705566,-0.050005096942186,-0.066738404333591,0.042918328195810));
res += mul(Get(s1,dx,-dy), float4x4(-0.072049438953400,-0.038095675408840,0.171312600374222,0.018477126955986,0.123131044209003,0.049744915217161,-0.063937626779079,0.027771148830652,0.170095175504684,0.150665879249573,-0.042262271046638,-0.025356756523252,0.034303501248360,0.020112533122301,-0.113795354962349,0.037668999284506));
res += mul(Get(s1,dx,0), float4x4(-0.104930974543095,-0.080299690365791,0.025375481694937,0.011588251218200,-0.047676287591457,0.076997332274914,-0.140304893255234,0.071723461151123,0.038077160716057,-0.150219649076462,0.128439277410507,-0.017383391037583,-0.036851052194834,0.054279271513224,0.074942119419575,0.053502023220062));
res += mul(Get(s1,dx,dy), float4x4(0.052965082228184,-0.127600446343422,0.098739936947823,0.018060926347971,-0.209510058164597,0.038795676082373,-0.045859094709158,0.011562378145754,0.190475463867188,-0.068410538136959,-0.136860817670822,-0.001038007438183,-0.006796009372920,-0.020970974117517,-0.118999965488911,-0.007447545882314));
res += mul(Get(s2,-dx,-dy), float4x4(-0.049191985279322,-0.015946788713336,-0.151405364274979,0.046709813177586,-0.058674909174442,0.028288686648011,0.008614579215646,0.032163996249437,-0.048110861331224,0.065124057233334,-0.061427045613527,-0.111454516649246,0.030362635850906,-0.012641207315028,-0.090040490031242,-0.087550818920135));
res += mul(Get(s2,-dx,0), float4x4(-0.000823645328637,0.001133468467742,-0.034063383936882,0.056014657020569,-0.008682279847562,0.056623555719852,0.022891893982887,-0.049440227448940,0.074936836957932,0.073788501322269,0.070381060242653,-0.026880983263254,0.002580403583124,-0.157225906848907,0.071088612079620,-0.078651651740074));
res += mul(Get(s2,-dx,dy), float4x4(0.003270655870438,0.000394501956180,0.057591646909714,-0.005610093474388,0.070182122290134,0.030009746551514,0.002898593200371,0.008956812322140,0.086285337805748,0.093098685145378,-0.061141632497311,0.057703793048859,0.052142832428217,-0.094664521515369,-0.101113058626652,0.066762775182724));
res += mul(Get(s2,0,-dy), float4x4(0.081215687096119,0.056125953793526,-0.121650464832783,-0.081343472003937,-0.137213468551636,0.011428610421717,0.174124822020531,-0.000760375754908,-0.029497947543859,-0.004999988246709,0.023145254701376,-0.027504112571478,0.023178072646260,-0.012406983412802,-0.101685427129269,-0.130874752998352));
res += mul(Get(s2,0,0), float4x4(0.091549322009087,-0.055167969316244,0.040509171783924,0.124954551458359,0.020844664424658,-0.135265603661537,0.001188581227325,-0.079093009233475,0.052339863032103,-0.009715508669615,-0.029977824538946,-0.053085323423147,0.023458750918508,0.057295590639114,0.051057949662209,-0.169589653611183));
res += mul(Get(s2,0,dy), float4x4(-0.030152192339301,-0.003512530354783,0.053624708205462,0.064342565834522,-0.059565849602222,0.018397171050310,-0.018802041187882,-0.008132282644510,0.194339543581009,0.017108833417296,0.047824136912823,-0.022115869447589,-0.044260676950216,0.021486954763532,-0.138121813535690,-0.027290040627122));
res += mul(Get(s2,dx,-dy), float4x4(0.113282747566700,0.105233892798424,0.025440221652389,0.045427229255438,-0.035481829196215,0.006559545174241,-0.044140495359898,-0.085831910371780,0.118712209165096,-0.015721790492535,0.034983929246664,-0.027266509830952,-0.042679123580456,0.150598406791687,-0.068564593791962,0.044421043246984));
res += mul(Get(s2,dx,0), float4x4(0.055457036942244,-0.077620290219784,-0.177530050277710,0.083050921559334,-0.071645595133305,-0.004165590275079,0.041571699082851,0.011930580250919,0.336609691381454,0.027100464329123,-0.015288695693016,-0.101285122334957,-0.156721428036690,0.091635577380657,-0.064786881208420,-0.060905314981937));
res += mul(Get(s2,dx,dy), float4x4(0.076385006308556,-0.074091807007790,-0.013351900503039,-0.019461935386062,-0.021030766889453,-0.056979272514582,-0.093020558357239,-0.010888020507991,-0.038573872298002,0.042491313070059,-0.059277284890413,0.083162054419518,-0.166972354054451,0.056064393371344,0.050910864025354,-0.064395017921925));
res += mul(Get(s3,-dx,-dy), float4x4(0.001465159584768,-0.114023514091969,-0.011020342819393,-0.042367283254862,-0.067931458353996,0.147729039192200,0.109240919351578,0.062646761536598,-0.166071236133575,0.083332426846027,-0.027317026630044,-0.005947768688202,0.077220655977726,0.031531404703856,0.007987474091351,0.044844202697277));
res += mul(Get(s3,-dx,0), float4x4(-0.061056815087795,0.036827441304922,-0.021579578518867,0.134875059127808,0.059784375131130,0.061782162636518,0.102418042719364,-0.042514257133007,-0.000287230854155,0.065797246992588,-0.078665278851986,-0.048651278018951,0.117653682827950,0.062432702630758,0.022845119237900,-0.101447723805904));
res += mul(Get(s3,-dx,dy), float4x4(0.078485749661922,0.083255141973495,0.085836082696915,0.047470644116402,0.067044317722321,-0.096519246697426,-0.031936407089233,0.034653671085835,0.021734194830060,0.032175678759813,0.005777659825981,-0.034671049565077,-0.100988619029522,0.039450194686651,0.074053570628166,-0.003994803875685));
res += mul(Get(s3,0,-dy), float4x4(-0.088075481355190,0.045606292784214,0.029881998896599,-0.104459144175053,0.011875671334565,0.066799037158489,0.025938145816326,0.088556148111820,0.048279430717230,0.047121178358793,-0.139327734708786,0.040478784590960,0.124850392341614,0.029954064637423,-0.177345409989357,0.072685427963734));
res += mul(Get(s3,0,0), float4x4(0.076154157519341,-0.062744565308094,0.002570355078205,-0.060111001133919,-0.024213140830398,-0.138987779617310,0.017960965633392,0.013883439823985,-0.047549158334732,0.006608779542148,0.006383235566318,-0.027934322133660,0.044944800436497,-0.123553410172462,-0.057831693440676,-0.164042115211487));
res += mul(Get(s3,0,dy), float4x4(0.139112263917923,0.112885586917400,-0.010081893764436,-0.065237633883953,0.120016656816006,0.023829102516174,0.073160193860531,-0.054735653102398,-0.069789670407772,-0.040260840207338,0.037954460829496,0.046774722635746,-0.168199673295021,-0.045707099139690,0.198168471455574,0.121405020356178));
res += mul(Get(s3,dx,-dy), float4x4(-0.097723595798016,0.000945686653722,-0.143377318978310,0.050764221698046,-0.034645814448595,-0.027174020186067,-0.110231854021549,-0.024909036234021,-0.004730365239084,-0.035683210939169,-0.070618271827698,0.080620303750038,-0.012849037535489,-0.038007520139217,-0.142595261335373,-0.052982795983553));
res += mul(Get(s3,dx,0), float4x4(-0.040138546377420,-0.007794789969921,-0.086183629930019,-0.007416656240821,0.033364772796631,0.054079465568066,0.050750568509102,-0.104012675583363,0.028317233547568,0.053902532905340,-0.115643195807934,0.030300756916404,-0.001038989983499,-0.013221709057689,0.056424483656883,-0.072840780019760));
res += mul(Get(s3,dx,dy), float4x4(0.107643611729145,-0.065592400729656,0.007760690525174,0.050014134496450,-0.059031508862972,0.019970759749413,-0.019153313711286,-0.020563336089253,0.099986635148525,0.020735708996654,0.073397919535637,-0.064222544431686,-0.249367460608482,-0.060841090977192,0.024831665679812,0.210689634084702));
return max(float4(0,0,0,0), res);
}
