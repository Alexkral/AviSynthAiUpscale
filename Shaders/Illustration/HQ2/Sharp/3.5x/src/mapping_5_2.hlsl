sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.001568768988363,0.149368554353714,-0.113281719386578,0.078434713184834,-0.056633178144693,-0.011257880367339,-0.019452782347798,-0.083742871880531,-0.029311852529645,0.106501847505569,0.049499198794365,-0.079494766891003,-0.065324820578098,0.088493615388870,0.036316096782684,-0.015618276782334));
res += mul(Get(s0,-dx,0), float4x4(-0.028402710333467,0.110064767301083,-0.117362320423126,-0.025364093482494,0.030869178473949,0.049781233072281,0.027003670111299,-0.030506653711200,0.021147029474378,0.135463818907738,0.030867291614413,-0.076878957450390,0.107792027294636,0.058340966701508,-0.057538870722055,0.030702246353030));
res += mul(Get(s0,-dx,dy), float4x4(-0.026597948744893,0.101001873612404,0.046676654368639,0.135472714900970,-0.033437412232161,-0.080219626426697,0.070245757699013,0.052700433880091,0.095745563507080,-0.112096808850765,-0.049237612634897,0.028652552515268,0.129704862833023,0.016693947836757,-0.017990365624428,0.014465476386249));
res += mul(Get(s0,0,-dy), float4x4(0.024604456499219,-0.068280868232250,0.062727019190788,0.104609727859497,0.030506633222103,0.067740507423878,-0.092192403972149,0.034345474094152,0.022270534187555,-0.027017772197723,0.015367367304862,-0.026345882564783,-0.158921346068382,-0.051346153020859,-0.019400520250201,-0.048506271094084));
res += mul(Get(s0,0,0), float4x4(-0.211968243122101,-0.157425224781036,0.070262722671032,0.043226901441813,0.105532638728619,-0.087519973516464,-0.063405491411686,0.002438047900796,0.040819883346558,-0.063670359551907,-0.036559108644724,-0.109713502228260,0.008574607782066,0.014847685582936,0.153749495744705,0.022486094385386));
res += mul(Get(s0,0,dy), float4x4(0.040077198296785,-0.104311063885689,0.112459510564804,-0.018354570493102,-0.035350676625967,-0.007426941301674,-0.136006236076355,-0.054144278168678,0.007780218496919,0.019721379503608,-0.048327080905437,0.028199907392263,-0.024615112692118,0.038852743804455,-0.107042647898197,0.047560103237629));
res += mul(Get(s0,dx,-dy), float4x4(-0.086949929594994,-0.039838384836912,0.009358941577375,-0.035305231809616,-0.037573296576738,-0.087364085018635,0.021746423095465,0.126674130558968,0.142952948808670,-0.088266022503376,0.097815543413162,0.013837511651218,-0.155955865979195,0.032406527549028,-0.004570591263473,0.067302808165550));
res += mul(Get(s0,dx,0), float4x4(-0.012985025532544,-0.021666305139661,-0.006541865412146,-0.008181359618902,0.080997966229916,-0.059152308851480,-0.170612350106239,-0.126090362668037,0.019507445394993,0.127492412924767,-0.027043104171753,-0.049771707504988,-0.080593429505825,0.036292262375355,-0.029579527676105,0.057748526334763));
res += mul(Get(s0,dx,dy), float4x4(0.113698862493038,0.115514650940895,-0.101779155433178,-0.081245861947536,-0.200387671589851,0.025675570592284,0.096089713275433,0.013651080429554,-0.024336066097021,-0.090212292969227,0.025380000472069,-0.052582141011953,-0.077254205942154,-0.024253599345684,0.122565768659115,0.013545788824558));
res += mul(Get(s1,-dx,-dy), float4x4(-0.025731129571795,0.033330846577883,-0.020452545955777,0.026958649978042,-0.024065099656582,-0.028590030968189,-0.118865564465523,0.023582786321640,-0.068012371659279,0.055065438151360,0.009512988850474,-0.021136285737157,-0.020236870273948,-0.139014765620232,-0.031414609402418,0.071542084217072));
res += mul(Get(s1,-dx,0), float4x4(-0.060073766857386,0.026845181360841,-0.004291810560971,0.099183104932308,-0.014489634893835,0.116332150995731,-0.024530153721571,-0.028214484453201,0.078343987464905,-0.102628804743290,-0.002243060618639,-0.015953972935677,-0.032613962888718,-0.020171167328954,-0.048107504844666,-0.162086859345436));
res += mul(Get(s1,-dx,dy), float4x4(0.026251818984747,-0.062593623995781,-0.075258374214172,0.000160072726430,-0.021186895668507,0.172802954912186,0.076802380383015,-0.032499123364687,0.047141484916210,-0.114509962499142,0.010015298612416,-0.018115669488907,0.043828468769789,-0.119967885315418,0.327481865882874,-0.068434789776802));
res += mul(Get(s1,0,-dy), float4x4(0.056299529969692,-0.087070837616920,-0.150001615285873,-0.043369852006435,-0.100592777132988,0.041385352611542,0.148038059473038,-0.090386323630810,-0.025817478075624,0.010615020059049,0.034286729991436,-0.106414847075939,-0.006244670599699,-0.089112848043442,-0.046222954988480,-0.086206242442131));
res += mul(Get(s1,0,0), float4x4(-0.008616252802312,-0.084678351879120,0.036774966865778,-0.130239650607109,-0.011804002337158,0.105228319764137,-0.082269273698330,0.002168873557821,-0.148307099938393,-0.095373429358006,0.004105834290385,0.058859094977379,-0.129915192723274,0.093021087348461,-0.113895840942860,-0.092543974518776));
res += mul(Get(s1,0,dy), float4x4(-0.021130416542292,-0.037923224270344,-0.051860261708498,-0.069745413959026,0.050067678093910,-0.015273089520633,0.025783503428102,0.035952884703875,0.025119610130787,-0.036162335425615,0.061545878648758,-0.027821319177747,0.117044985294342,-0.093912534415722,0.029731733724475,0.094410479068756));
res += mul(Get(s1,dx,-dy), float4x4(0.046544238924980,-0.092769958078861,-0.059525564312935,0.087263189256191,-0.089092448353767,0.087496303021908,-0.037719227373600,0.065650023519993,0.046720638871193,0.004210339859128,-0.082096189260483,-0.066362537443638,0.018869204446673,-0.107520572841167,0.013995202258229,0.114280298352242));
res += mul(Get(s1,dx,0), float4x4(0.158007889986038,-0.033377371728420,-0.010805425234139,-0.110823094844818,-0.025473628193140,-0.007563238032162,-0.071170650422573,-0.077721871435642,-0.037028379738331,-0.081521674990654,0.045079302042723,-0.039430033415556,0.074138447642326,0.019487019628286,-0.133126378059387,-0.010075198486447));
res += mul(Get(s1,dx,dy), float4x4(-0.047684028744698,0.116554506123066,-0.063364505767822,-0.024983411654830,-0.003352085826918,-0.070002838969231,-0.044504836201668,0.020094942301512,0.023651162162423,-0.072444818913937,0.016029011458158,-0.118437945842743,0.115607097744942,0.104779355227947,-0.036855615675449,-0.011093515902758));
res += mul(Get(s2,-dx,-dy), float4x4(0.000845291651785,0.025810565799475,-0.013052607886493,0.097232557833195,0.017299208790064,0.116662591695786,-0.022797400131822,0.101103916764259,0.127697214484215,-0.056242257356644,-0.010952885262668,-0.024613797664642,0.018828341737390,0.046254429966211,-0.023105839267373,0.003022706136107));
res += mul(Get(s2,-dx,0), float4x4(0.128351137042046,0.080919921398163,-0.047797642648220,-0.023833371698856,0.010183777660131,0.001637640409172,-0.060961712151766,0.083014048635960,0.048913046717644,0.008756879717112,0.023289404809475,-0.102694265544415,0.056741565465927,0.015618140809238,0.055936444550753,0.090894170105457));
res += mul(Get(s2,-dx,dy), float4x4(0.057903189212084,0.015529690310359,-0.030186386778951,-0.044909268617630,0.149862393736839,-0.104659147560596,-0.016287855803967,0.050754144787788,-0.008601129055023,-0.121205180883408,0.018809832632542,0.005083393305540,0.098739139735699,0.051174983382225,-0.032718371599913,-0.034604609012604));
res += mul(Get(s2,0,-dy), float4x4(-0.037832751870155,0.081862039864063,-0.103383138775826,0.095007851719856,-0.076042473316193,0.049117859452963,-0.070729449391365,0.078378140926361,-0.054693963378668,-0.092299193143845,-0.071428336203098,-0.175172895193100,-0.078810513019562,0.113722227513790,0.050979465246201,0.074774682521820));
res += mul(Get(s2,0,0), float4x4(0.072786390781403,-0.095951460301876,0.007122796028852,-0.002357309684157,-0.066551297903061,-0.005272506270558,0.102830126881599,-0.022651292383671,-0.245770514011383,0.100717335939407,-0.122839480638504,0.010114533826709,0.203263491392136,0.009810200892389,0.015289479866624,0.019303476437926));
res += mul(Get(s2,0,dy), float4x4(-0.168601423501968,0.004675022326410,0.062394019216299,-0.094089999794960,-0.037699848413467,-0.102961860597134,-0.054057266563177,-0.045858848839998,0.015245364047587,-0.086661294102669,-0.018841838464141,0.104620374739170,0.003666862379760,0.096369542181492,0.006250240840018,-0.025833416730165));
res += mul(Get(s2,dx,-dy), float4x4(0.101006358861923,0.068535253405571,-0.034858863800764,-0.024212885648012,-0.083844922482967,-0.156599387526512,0.104334443807602,0.110925525426865,-0.033627171069384,-0.111484728753567,0.041223075240850,-0.101196870207787,-0.032005179673433,0.041158981621265,-0.078780576586723,0.006210507825017));
res += mul(Get(s2,dx,0), float4x4(0.044448751956224,-0.021612375974655,-0.133879572153091,-0.002328543923795,0.041150581091642,-0.126361310482025,0.041846785694361,0.048935666680336,-0.035162754356861,-0.027409465983510,-0.064004838466644,-0.052410840988159,-0.086042620241642,-0.200245395302773,0.026573909446597,-0.078222334384918));
res += mul(Get(s2,dx,dy), float4x4(0.018910076469183,-0.079483449459076,0.004975167103112,-0.009108127094805,0.087494730949402,0.000378011114663,-0.089709617197514,-0.044131644070148,-0.128388375043869,0.106704510748386,-0.081936486065388,-0.049465510994196,0.065135784447193,0.003616047091782,0.039027381688356,-0.029444962739944));
res += mul(Get(s3,-dx,-dy), float4x4(0.026734998449683,0.059737361967564,0.107624374330044,0.138137266039848,0.076073013246059,0.131552398204803,-0.129462286829948,-0.017843030393124,0.048999976366758,0.022541157901287,0.016291202977300,-0.037400685250759,-0.034173820167780,0.118135452270508,0.085957728326321,-0.155418574810028));
res += mul(Get(s3,-dx,0), float4x4(0.078611306846142,0.121978729963303,-0.052194330841303,0.157613828778267,0.047192916274071,0.022342255339026,0.019178302958608,-0.066761881113052,0.206293925642967,-0.039624154567719,-0.070067144930363,0.004191074986011,0.084091506898403,0.177570149302483,0.002070768503472,-0.011041257530451));
res += mul(Get(s3,-dx,dy), float4x4(-0.070886768400669,0.067027464509010,0.141086265444756,-0.071695484220982,0.006936498451978,0.000588452676311,-0.142472743988037,-0.198899105191231,-0.113164313137531,-0.112414836883545,0.102779373526573,0.011580083519220,-0.033751849085093,0.091486170887947,-0.066450290381908,0.033989578485489));
res += mul(Get(s3,0,-dy), float4x4(-0.021349536255002,-0.106871880590916,0.050635207444429,0.143725097179413,0.083670936524868,0.131800293922424,-0.085363082587719,0.078647531569004,-0.054382756352425,0.045991465449333,0.041417051106691,0.061557538807392,0.087296754121780,-0.077108331024647,0.011183802969754,-0.040267452597618));
res += mul(Get(s3,0,0), float4x4(0.109937511384487,0.020847754552960,0.001603746903129,-0.096446707844734,-0.004355519544333,0.065838195383549,0.049924891442060,0.082932241261005,0.008538580499589,0.259784668684006,-0.082205355167389,0.014916649088264,0.089544191956520,0.190340504050255,-0.014066324569285,0.074282146990299));
res += mul(Get(s3,0,dy), float4x4(-0.030843423679471,0.026280138641596,-0.012625460512936,0.002830902580172,0.031254321336746,-0.124462805688381,0.229580566287041,-0.052965216338634,0.015198060311377,-0.057975005358458,0.091098085045815,-0.022770939394832,-0.097762078046799,0.037134882062674,-0.038248021155596,0.076323583722115));
res += mul(Get(s3,dx,-dy), float4x4(-0.008740846998990,-0.236256539821625,-0.001144264009781,-0.106907457113266,-0.049729309976101,-0.112198017537594,-0.066911369562149,0.059528820216656,-0.027789056301117,-0.173833623528481,-0.046286087483168,-0.002396863186732,0.093049027025700,-0.032594826072454,0.028078883886337,-0.059017926454544));
res += mul(Get(s3,dx,0), float4x4(-0.128576174378395,-0.130349174141884,0.020175345242023,-0.104015357792377,0.106828391551971,-0.034613199532032,0.134249567985535,-0.016244867816567,-0.149812385439873,0.062256217002869,-0.054864395409822,0.034332815557718,-0.026306308805943,0.049186278134584,-0.061527602374554,-0.034550540149212));
res += mul(Get(s3,dx,dy), float4x4(-0.040937222540379,0.100655153393745,-0.084134332835674,0.041391953825951,0.076319567859173,-0.151573285460472,0.058576852083206,-0.038596011698246,0.117319643497467,-0.083718538284302,0.018741412088275,0.032181091606617,-0.011592647060752,0.087642841041088,-0.036431200802326,-0.157872274518013));
return max(float4(0,0,0,0), res);
}
