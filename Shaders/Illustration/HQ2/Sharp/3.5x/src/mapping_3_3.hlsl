sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.021262994036078,-0.038105469197035,-0.025698762387037,-0.012179072014987,-0.022442404180765,0.025094056501985,-0.036484461277723,0.087734878063202,0.041389741003513,-0.028827426955104,0.134781718254089,0.010110993869603,-0.019163960590959,0.048375885933638,-0.094115063548088,0.122215360403061));
res += mul(Get(s0,-dx,0), float4x4(-0.139381438493729,-0.217222794890404,-0.020776379853487,-0.085407778620720,-0.133951187133789,0.025307824835181,-0.031459458172321,0.085477732121944,-0.124998189508915,-0.123328484594822,-0.045482892543077,0.085116207599640,0.100515067577362,0.062009643763304,-0.000349521811586,0.064051613211632));
res += mul(Get(s0,-dx,dy), float4x4(-0.120646432042122,0.096951201558113,-0.121630825102329,0.032067883759737,-0.156785249710083,0.004303646273911,-0.117198728024960,0.104045465588570,-0.129687845706940,-0.072667866945267,-0.075889766216278,-0.039925184100866,0.083487175405025,-0.061170443892479,-0.033277552574873,-0.066466867923737));
res += mul(Get(s0,0,-dy), float4x4(0.005476930644363,-0.050134658813477,-0.013059751130641,0.065088056027889,-0.140113219618797,-0.023014262318611,-0.090492859482765,-0.030574379488826,-0.106176406145096,-0.041143070906401,-0.193533003330231,-0.161825239658356,0.025344714522362,-0.044781282544136,0.010853517800570,-0.108558177947998));
res += mul(Get(s0,0,0), float4x4(0.103038564324379,-0.018459379673004,0.019633214920759,0.137320592999458,0.076359301805496,-0.002450043102726,-0.031623333692551,0.000073262548540,-0.009369403123856,0.013456104323268,-0.127954170107841,0.159215822815895,0.094413004815578,0.207405239343643,-0.002308307215571,-0.049113910645247));
res += mul(Get(s0,0,dy), float4x4(-0.126646712422371,0.016166925430298,0.033249326050282,0.002104630926624,-0.001369484001771,0.111787982285023,0.104216024279594,0.150108709931374,0.022309076040983,-0.111011177301407,0.018250573426485,0.114320293068886,0.042690850794315,-0.027186293154955,0.034878369420767,0.045735981315374));
res += mul(Get(s0,dx,-dy), float4x4(0.114806704223156,0.028091920539737,-0.018592016771436,0.121829368174076,-0.166742354631424,-0.123814091086388,-0.051832865923643,-0.164219871163368,-0.032471746206284,0.008649965748191,-0.062512591481209,-0.077441111207008,-0.106258265674114,0.039560072124004,-0.155270308256149,0.042261209338903));
res += mul(Get(s0,dx,0), float4x4(0.098325699567795,0.043018367141485,-0.179161280393600,0.039025947451591,-0.004175871144980,-0.044309098273516,0.075225383043289,-0.053024947643280,-0.006949777714908,-0.032374814152718,-0.177835121750832,-0.105011753737926,0.086512535810471,0.014254989102483,0.148686200380325,-0.122970759868622));
res += mul(Get(s0,dx,dy), float4x4(-0.034151233732700,-0.025716634467244,0.017294479534030,0.098420277237892,-0.014107370749116,0.004570032935590,-0.024107713252306,-0.087729692459106,0.199585393071175,-0.004674577619880,-0.202922329306602,-0.090087316930294,0.073636442422867,0.051169812679291,-0.046322911977768,0.008754221722484));
res += mul(Get(s1,-dx,-dy), float4x4(-0.038283556699753,-0.089901007711887,0.119259171187878,-0.049371365457773,0.183958664536476,-0.056101739406586,-0.023249756544828,-0.020582782104611,-0.033534966409206,-0.002805651398376,-0.125766843557358,0.060570981353521,0.281866669654846,-0.033195357769728,0.072028741240501,0.052166499197483));
res += mul(Get(s1,-dx,0), float4x4(-0.079387769103050,0.012023164890707,-0.196490034461021,-0.058734428137541,-0.063598789274693,0.140679225325584,0.146078303456306,0.006945775356144,0.003431030083448,-0.214777633547783,0.028852442279458,0.124486476182938,0.085595160722733,0.055901266634464,0.028335265815258,-0.080714121460915));
res += mul(Get(s1,-dx,dy), float4x4(-0.000118607655168,-0.092114187777042,0.100461661815643,0.101211398839951,-0.021907815709710,0.117538481950760,-0.001352410996333,-0.132249385118484,0.026831088587642,0.174034655094147,0.142688080668449,0.049139261245728,0.046292182058096,0.029014946892858,0.034953054040670,-0.021739296615124));
res += mul(Get(s1,0,-dy), float4x4(0.026989402249455,-0.100325010716915,-0.100765399634838,0.139947712421417,0.052037656307220,0.156768441200256,-0.006050877738744,0.092848129570484,0.136451110243797,0.143649354577065,-0.115457803010941,0.013929559849203,-0.048659283667803,0.016941951587796,0.041029140353203,-0.091389425098896));
res += mul(Get(s1,0,0), float4x4(-0.183682367205620,-0.010041592642665,-0.050364166498184,0.001820899080485,0.117762573063374,0.007636446505785,-0.087553799152374,0.082376800477505,0.158778309822083,-0.021080905571580,0.027525661513209,-0.045751508325338,-0.018094560131431,0.021630715578794,-0.018839644268155,0.012637435458601));
res += mul(Get(s1,0,dy), float4x4(-0.001027794205584,0.015822272747755,-0.070216774940491,0.019270814955235,0.064442120492458,-0.079756446182728,0.002905575558543,-0.036226212978363,0.010515432804823,-0.028036346659064,0.178651288151741,-0.031471092253923,0.025216866284609,-0.005013971589506,-0.100410595536232,-0.079526647925377));
res += mul(Get(s1,dx,-dy), float4x4(0.083906464278698,0.069328576326370,0.015144141390920,0.190327599644661,-0.032720595598221,0.047766711562872,-0.092599242925644,-0.051449496299028,0.023671913892031,0.002496778499335,0.112977795302868,-0.091932088136673,0.025075681507587,-0.075161807239056,0.179609566926956,0.001175001496449));
res += mul(Get(s1,dx,0), float4x4(0.099287018179893,-0.107727549970150,-0.025140179321170,-0.034378759562969,-0.084623225033283,-0.008645959198475,0.027796955779195,-0.269780874252319,0.100728988647461,-0.086653508245945,0.062844730913639,0.069496095180511,-0.047593493014574,-0.011894796043634,-0.000450728257420,-0.031231174245477));
res += mul(Get(s1,dx,dy), float4x4(0.087630286812782,0.099821940064430,0.086564332246780,0.087743610143661,0.005101902410388,-0.128092959523201,-0.020001076161861,0.051667146384716,-0.067741014063358,-0.023577518761158,-0.068596191704273,-0.014877329580486,-0.027014676481485,0.036406196653843,-0.057249080389738,0.078648947179317));
res += mul(Get(s2,-dx,-dy), float4x4(-0.029436707496643,0.022617997601628,-0.076024368405342,-0.047347210347652,0.016018720343709,0.038717672228813,0.037079799920321,0.046490341424942,-0.148004069924355,-0.017361598089337,0.234480410814285,0.008326374925673,0.032050445675850,-0.048280805349350,-0.130822926759720,0.131642669439316));
res += mul(Get(s2,-dx,0), float4x4(0.031764898449183,0.113292291760445,-0.206099018454552,-0.036255806684494,-0.053147636353970,-0.118855752050877,0.035239566117525,0.046066951006651,-0.175656661391258,-0.025586176663637,-0.083013020455837,0.045234117656946,0.008636325597763,-0.013035597279668,-0.034674596041441,0.022657888010144));
res += mul(Get(s2,-dx,dy), float4x4(-0.009326975792646,0.005542206577957,0.093193255364895,-0.042248189449310,0.062482055276632,-0.044511895626783,-0.111458659172058,-0.142883643507957,-0.099491670727730,0.013446355238557,-0.032069515436888,-0.050791583955288,0.081500262022018,0.013280525803566,-0.044377487152815,-0.044358111917973));
res += mul(Get(s2,0,-dy), float4x4(-0.031352676451206,-0.135920569300652,0.123874746263027,-0.087479345500469,-0.035749323666096,-0.113472864031792,0.024617698043585,-0.046175919473171,-0.097604267299175,0.032799798995256,0.091444283723831,0.061564210802317,-0.023537317290902,0.050708513706923,-0.095174536108971,0.173646137118340));
res += mul(Get(s2,0,0), float4x4(-0.034733336418867,-0.120561227202415,0.221644818782806,-0.182214260101318,-0.017519313842058,0.030323013663292,0.042743023484945,0.081348568201065,0.205513373017311,-0.163409531116486,0.003848765045404,0.053947299718857,0.039272889494896,-0.102516509592533,0.069173991680145,0.101464390754700));
res += mul(Get(s2,0,dy), float4x4(-0.079349182546139,-0.024598484858871,0.042667586356401,0.162858217954636,-0.072386704385281,-0.040985360741615,0.006683338433504,-0.131427422165871,0.088302113115788,-0.078704297542572,-0.021894359961152,0.072112232446671,0.080098316073418,-0.022749001160264,0.215963408350945,-0.047197967767715));
res += mul(Get(s2,dx,-dy), float4x4(0.143777385354042,0.017210958525538,0.123573392629623,0.000453634827863,0.102765604853630,-0.082012921571732,-0.101363502442837,0.031704258173704,-0.004807103890926,0.072040729224682,-0.065095208585262,-0.010381405241787,-0.087415799498558,0.056093428283930,0.197787299752235,-0.014981609769166));
res += mul(Get(s2,dx,0), float4x4(0.014134760014713,0.038119353353977,0.229292348027229,0.098429754376411,0.028723750263453,-0.007651970721781,-0.030685044825077,-0.097308836877346,0.045893501490355,-0.055030465126038,-0.006924257148057,0.205144077539444,0.019545238465071,-0.024098128080368,-0.033129483461380,-0.032305765897036));
res += mul(Get(s2,dx,dy), float4x4(0.011601694859564,-0.066323347389698,-0.055912569165230,0.120437264442444,-0.089227437973022,-0.111200593411922,0.013565950095654,0.148810625076294,0.003558265045285,0.113834530115128,-0.069756090641022,0.124835208058357,0.030708061531186,-0.131165474653244,-0.058246646076441,0.118903428316116));
res += mul(Get(s3,-dx,-dy), float4x4(-0.042537704110146,-0.137405753135681,-0.120450384914875,0.001779322279617,0.031885128468275,-0.011596704833210,-0.044573988765478,0.018585432320833,-0.038032297044992,-0.078501746058464,-0.114223465323448,-0.117536276578903,-0.005291324108839,-0.019564168527722,0.128823563456535,-0.036641746759415));
res += mul(Get(s3,-dx,0), float4x4(-0.099341750144958,0.022746816277504,0.116962432861328,0.009581699967384,0.011365265585482,0.051944699138403,0.136057689785957,-0.092159584164619,-0.039961658418179,-0.028005816042423,-0.041557956486940,-0.003917058464140,0.073144175112247,0.129511922597885,-0.048248890787363,0.073969170451164));
res += mul(Get(s3,-dx,dy), float4x4(0.081918001174927,-0.058676041662693,-0.036942359060049,-0.090791888535023,0.000876587931998,-0.005282068625093,-0.018753910437226,-0.123839817941189,-0.055917173624039,-0.011054210364819,0.077465519309044,-0.150956004858017,-0.099568113684654,-0.018701300024986,-0.032199468463659,-0.027512347325683));
res += mul(Get(s3,0,-dy), float4x4(0.042421888560057,-0.040056638419628,0.088679380714893,-0.214560538530350,-0.019097296521068,0.005322020966560,0.023785274475813,0.086644805967808,-0.076335281133652,-0.168564796447754,0.086134575307369,0.054839529097080,-0.185290545225143,-0.107509963214397,0.135317921638489,-0.121830046176910));
res += mul(Get(s3,0,0), float4x4(-0.037754934281111,-0.097127035260201,0.079359441995621,0.083551175892353,0.083212055265903,0.000713688787073,0.084892272949219,0.003793755779043,-0.036965172737837,-0.175347387790680,0.040651351213455,-0.010494549758732,-0.036221273243427,0.083189986646175,-0.024701695889235,-0.017245590686798));
res += mul(Get(s3,0,dy), float4x4(-0.055361598730087,-0.222670078277588,0.007339399773628,-0.056272406131029,-0.012564231641591,-0.165824145078659,-0.029642818495631,0.010633665136993,-0.004442675970495,-0.070408031344414,0.027764281257987,0.006889993324876,0.041424915194511,0.001927728997543,-0.014819696545601,0.002967994892970));
res += mul(Get(s3,dx,-dy), float4x4(-0.082926273345947,-0.009377563372254,-0.097748659551144,-0.005461611784995,-0.101692445576191,-0.070157691836357,-0.114790320396423,-0.058375429362059,-0.027994193136692,-0.007673546206206,-0.004850525874645,-0.087044239044189,0.024964047595859,0.146680533885956,0.042666520923376,0.093025244772434));
res += mul(Get(s3,dx,0), float4x4(0.059703342616558,-0.004988112021238,-0.065480954945087,-0.025297803804278,0.083896294236183,0.027979919686913,0.022777101024985,-0.111558459699154,0.076104313135147,0.171761050820351,-0.023070113733411,0.101668640971184,-0.048140190541744,0.078236088156700,-0.018875641748309,-0.053849846124649));
res += mul(Get(s3,dx,dy), float4x4(-0.064967915415764,0.030351758003235,0.064643226563931,-0.006698121316731,-0.071540668606758,0.081679180264473,0.042359750717878,-0.024595497176051,-0.015218612737954,-0.049654155969620,0.003534803166986,-0.024343099445105,0.000662168837152,0.036434181034565,-0.076393648982048,0.065529748797417));
return max(float4(0,0,0,0), res);
}
