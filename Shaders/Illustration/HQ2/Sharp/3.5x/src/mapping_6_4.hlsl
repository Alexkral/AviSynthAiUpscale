sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.137687683105469,-0.070511005818844,-0.042359713464975,0.073994502425194,0.101511850953102,0.002501090522856,-0.050322040915489,0.104867592453957,-0.197069361805916,-0.008760683238506,0.063743814826012,0.120245173573494,-0.070741876959801,0.122636668384075,-0.039070922881365,0.012291554361582));
res += mul(Get(s0,-dx,0), float4x4(0.104255460202694,-0.017331156879663,0.096912443637848,-0.010616593062878,-0.091736339032650,-0.093882471323013,-0.032185148447752,-0.030316777527332,0.026504408568144,-0.082665741443634,-0.189971789717674,-0.039309710264206,0.004753665998578,-0.092010237276554,-0.052765537053347,0.121575295925140));
res += mul(Get(s0,-dx,dy), float4x4(0.048633769154549,-0.055175989866257,-0.022784486413002,0.063340157270432,-0.018982546404004,0.051461271941662,0.069857083261013,0.048554461449385,0.161684289574623,-0.137955635786057,0.028244763612747,0.006478551309556,0.056360974907875,-0.009606697596610,-0.000782922317740,-0.084276609122753));
res += mul(Get(s0,0,-dy), float4x4(0.023173663765192,0.176894515752792,-0.000565631722566,-0.107162453234196,-0.072057522833347,0.014005291275680,0.061150684952736,0.012391122058034,-0.008991778828204,0.020881107077003,-0.069520771503448,-0.003604805795476,-0.064933478832245,0.053587693721056,-0.069836698472500,-0.073554009199142));
res += mul(Get(s0,0,0), float4x4(-0.010007265955210,0.045020140707493,0.004755500238389,-0.069244675338268,-0.056751035153866,0.140704989433289,0.095309264957905,0.112626649439335,0.003948457539082,-0.092105746269226,0.152278006076813,0.093154691159725,0.099044986069202,-0.123381286859512,0.009531072340906,-0.072156041860580));
res += mul(Get(s0,0,dy), float4x4(-0.032495371997356,-0.039125524461269,-0.095221176743507,-0.058150172233582,0.087478876113892,-0.046990316361189,-0.044906377792358,-0.022959554567933,0.064630977809429,-0.177206382155418,0.064673103392124,-0.012702344916761,0.088102608919144,-0.002473525004461,-0.152282908558846,0.072326973080635));
res += mul(Get(s0,dx,-dy), float4x4(-0.022454068064690,-0.047472104430199,-0.072981648147106,-0.042394056916237,0.055119410157204,-0.076439753174782,0.006495716981590,-0.036119051277637,0.058130044490099,0.206870928406715,0.061398848891258,0.031459297984838,0.126499980688095,0.106053985655308,0.076117634773254,-0.196355894207954));
res += mul(Get(s0,dx,0), float4x4(0.044332951307297,0.091853491961956,-0.005400905851275,-0.070609390735626,-0.052052047103643,0.060873609036207,0.032158669084311,0.051148314028978,-0.053735427558422,0.123125277459621,-0.035843882709742,-0.039253920316696,-0.052901223301888,0.215636208653450,0.003890216117725,-0.177333042025566));
res += mul(Get(s0,dx,dy), float4x4(0.087489686906338,-0.008236579596996,0.059529908001423,0.118424892425537,0.063095510005951,0.079242445528507,-0.127959698438644,-0.048291482031345,-0.000809706049040,0.105660207569599,-0.016296807676554,-0.116710953414440,-0.062069840729237,0.016179360449314,-0.069155812263489,0.033670321106911));
res += mul(Get(s1,-dx,-dy), float4x4(0.014206991530955,-0.022251959890127,0.052693277597427,-0.003797691548243,0.042039148509502,-0.242906078696251,-0.019541747868061,0.001974680693820,0.065849520266056,-0.009698644280434,0.001702465233393,-0.094220988452435,0.129847511649132,-0.009936592541635,0.023908680304885,-0.038647864013910));
res += mul(Get(s1,-dx,0), float4x4(0.052743740379810,-0.032003447413445,-0.062168363481760,0.017373131588101,0.197114825248718,-0.142298981547356,-0.036430276930332,-0.025315769016743,-0.000521956419107,0.017680924385786,-0.003187911817804,0.098576538264751,-0.037353575229645,-0.075007580220699,0.050643987953663,-0.077981464564800));
res += mul(Get(s1,-dx,dy), float4x4(0.055956911295652,-0.113281510770321,-0.138785541057587,-0.009830064140260,0.110586322844028,-0.123193763196468,-0.016691377386451,-0.115898586809635,-0.017681606113911,-0.057223282754421,-0.007023053709418,0.075349070131779,0.000380777870305,-0.042779132723808,0.020242029801011,-0.011580376885831));
res += mul(Get(s1,0,-dy), float4x4(0.028351571410894,0.111009009182453,0.034568496048450,-0.064613044261932,0.001803506398574,0.023571511730552,-0.025176465511322,-0.073853842914104,0.031664203852415,0.072873398661613,-0.009904283098876,-0.012193175032735,0.070137977600098,0.010468829423189,-0.005783339962363,-0.054875750094652));
res += mul(Get(s1,0,0), float4x4(-0.119552932679653,0.122712671756744,0.035962283611298,-0.117379091680050,-0.006832243874669,0.012935825623572,-0.005505370907485,0.131567597389221,0.037664841860533,-0.051291387528181,0.076393611729145,-0.004485105164349,-0.046832751482725,0.126338183879852,-0.058055747300386,-0.081665702164173));
res += mul(Get(s1,0,dy), float4x4(-0.024491723626852,-0.021897600963712,-0.075074158608913,0.043009188026190,-0.079681582748890,-0.060700286179781,0.084957309067249,0.047791536897421,0.004898645915091,-0.070039913058281,-0.053746353834867,-0.009233910590410,0.006740308366716,-0.073747791349888,-0.120602093636990,-0.246832713484764));
res += mul(Get(s1,dx,-dy), float4x4(0.120874889194965,0.142272889614105,0.022582666948438,-0.101643718779087,0.043140489608049,-0.041896760463715,0.076838746666908,-0.080059863626957,0.049464274197817,-0.044656079262495,0.050128564238548,-0.072563990950584,0.021062023937702,0.032665625214577,-0.049919638782740,0.051673799753189));
res += mul(Get(s1,dx,0), float4x4(-0.078945592045784,-0.045573987066746,-0.034565225243568,-0.084186539053917,0.109197184443474,-0.107814133167267,-0.008942607790232,0.069170378148556,-0.057458098977804,-0.057868171483278,0.020149094983935,0.021251616999507,0.002990020439029,0.027158683165908,-0.002069851616398,0.020613409578800));
res += mul(Get(s1,dx,dy), float4x4(-0.120943740010262,-0.120009452104568,-0.102222554385662,-0.116603851318359,-0.009862352162600,-0.057175777852535,0.146558195352554,-0.030298095196486,-0.057764332741499,0.009680971503258,-0.084547258913517,-0.034678872674704,-0.054976273328066,-0.017253383994102,0.017140492796898,0.089536078274250));
res += mul(Get(s2,-dx,-dy), float4x4(-0.006188931874931,0.006532312836498,0.043929837644100,-0.061310414224863,0.126031383872032,0.017536569386721,-0.075882397592068,0.038538105785847,0.043267954140902,-0.072128891944885,-0.033337138593197,-0.039165664464235,-0.090496525168419,-0.123576447367668,0.006576738320291,-0.083578929305077));
res += mul(Get(s2,-dx,0), float4x4(0.046413913369179,0.091214470565319,0.110985726118088,-0.086003027856350,-0.013788501732051,0.157062858343124,-0.002418623305857,-0.072868317365646,0.075637862086296,-0.159228548407555,0.081507861614227,0.205764576792717,0.016158806160092,-0.096984751522541,0.114095792174339,-0.138317286968231));
res += mul(Get(s2,-dx,dy), float4x4(0.144790008664131,0.089043036103249,-0.033112857490778,0.092976033687592,0.000425054284278,0.076286464929581,0.022238753736019,0.007895643822849,0.120852895081043,-0.012266491539776,-0.123340897262096,0.084810391068459,-0.000976060167886,-0.000462605123175,0.010212552733719,0.155491366982460));
res += mul(Get(s2,0,-dy), float4x4(-0.033991783857346,-0.020608318969607,0.092474132776260,0.050875272601843,-0.032392792403698,-0.100958973169327,0.017931027337909,-0.006683927960694,-0.102271102368832,-0.011901943944395,-0.057248838245869,0.093017026782036,-0.076798729598522,-0.121879309415817,0.012197659350932,0.107221290469170));
res += mul(Get(s2,0,0), float4x4(-0.066207699477673,-0.076448217034340,0.001477164216340,0.019199360162020,-0.031193213537335,0.087585963308811,0.013866684399545,0.036559954285622,0.046185217797756,-0.099606640636921,-0.122519589960575,0.095228582620621,0.031852219253778,-0.004115924704820,0.153182908892632,-0.120482347905636));
res += mul(Get(s2,0,dy), float4x4(-0.105283416807652,0.055952653288841,0.035008065402508,-0.131014332175255,0.070162340998650,0.086251683533192,0.024544090032578,-0.027777446433902,-0.051676381379366,-0.081456452608109,-0.039017915725708,0.148902565240860,-0.038153938949108,0.001247958512977,0.057835243642330,0.144563645124435));
res += mul(Get(s2,dx,-dy), float4x4(-0.020467685535550,-0.063835211098194,0.038251508027315,0.011908914893866,0.153597921133041,0.078440718352795,-0.064234673976898,-0.102300554513931,-0.110846392810345,0.227868199348450,0.006376418750733,-0.142129227519035,0.079825833439827,0.076683655381203,-0.005689063575119,-0.023071894422174));
res += mul(Get(s2,dx,0), float4x4(-0.015156907960773,-0.100685186684132,0.084677487611771,0.085451707243919,0.064814873039722,0.034604754298925,-0.073863565921783,-0.001631003571674,0.101193718612194,0.117374822497368,-0.056200422346592,-0.001027454272844,0.206120401620865,0.034789163619280,0.003789935493842,-0.060055606067181));
res += mul(Get(s2,dx,dy), float4x4(0.014970235526562,0.002446877537295,0.114629700779915,0.016745403409004,-0.194425076246262,-0.090123116970062,-0.012142295949161,-0.090905383229256,-0.029028264805675,0.086350321769714,0.019157769158483,-0.012202676385641,0.111805357038975,-0.086992874741554,-0.077345505356789,0.075188159942627));
res += mul(Get(s3,-dx,-dy), float4x4(0.100278273224831,0.166862964630127,0.083822771906853,-0.015305632725358,0.015124980360270,0.043372090905905,-0.245145380496979,0.009899859316647,0.048965889960527,0.013582650572062,0.107389412820339,0.007416786625981,0.122710742056370,0.112391620874405,0.038520161062479,-0.060059912502766));
res += mul(Get(s3,-dx,0), float4x4(0.078201293945313,0.099606737494469,-0.068713329732418,-0.023224093019962,-0.178368881344795,0.050212543457747,-0.125426962971687,-0.046545274555683,0.098307251930237,0.062691874802113,0.075590804219246,0.112593665719032,0.049651667475700,0.009520605206490,-0.062293268740177,0.049084912985563));
res += mul(Get(s3,-dx,dy), float4x4(-0.033929016441107,-0.009492341428995,-0.048241298645735,-0.055447179824114,-0.062587022781372,-0.050717558711767,-0.178062513470650,-0.045569300651550,0.053700000047684,-0.083303205668926,0.086231783032417,0.122151590883732,-0.294404357671738,0.024314384907484,-0.196141466498375,-0.009669117629528));
res += mul(Get(s3,0,-dy), float4x4(0.003659266280010,0.151376456022263,-0.092247039079666,0.039877701550722,0.095051892101765,-0.020209813490510,-0.153206884860992,-0.020574443042278,-0.113927736878395,0.060556612908840,0.035536389797926,0.009850899688900,-0.079357683658600,0.025172626599669,-0.076482437551022,-0.014305186457932));
res += mul(Get(s3,0,0), float4x4(0.061647851020098,-0.144986823201180,-0.098909690976143,-0.002645147033036,0.194020733237267,0.054628130048513,0.007442936766893,0.116690501570702,-0.043653137981892,-0.094624042510986,0.053757332265377,0.103502102196217,0.048927351832390,-0.028894957154989,0.043267838656902,-0.097556732594967));
res += mul(Get(s3,0,dy), float4x4(0.135278895497322,-0.170855551958084,0.124433487653732,0.022853512316942,-0.006533146370202,0.009524913504720,0.033956162631512,0.036852516233921,-0.090366907417774,-0.151621803641319,0.055006340146065,0.019673606380820,-0.012611731886864,0.067386746406555,-0.125444799661636,0.120725981891155));
res += mul(Get(s3,dx,-dy), float4x4(-0.007623694837093,-0.069520726799965,-0.017759744077921,0.002086181892082,0.063035532832146,0.101005621254444,0.023969419300556,-0.133813753724098,-0.027892241254449,0.147572383284569,-0.161298930644989,-0.126098304986954,-0.028854113072157,0.111468300223351,-0.014145093038678,0.089781790971756));
res += mul(Get(s3,dx,0), float4x4(0.085373885929585,-0.008790524676442,-0.053360063582659,0.066897116601467,-0.078416690230370,-0.134999170899391,0.010273433290422,-0.080182150006294,-0.231365963816643,0.051642861217260,-0.004245201125741,-0.073093436658382,0.055043365806341,-0.003786805551499,-0.061571981757879,-0.138946816325188));
res += mul(Get(s3,dx,dy), float4x4(0.092483647167683,0.075806319713593,-0.045788608491421,0.020598448812962,0.015876131132245,0.034949496388435,0.087262161076069,0.082661874592304,0.020270735025406,-0.010997809469700,-0.110003739595413,-0.106998935341835,0.041844997555017,0.082313597202301,-0.038206133991480,-0.158263891935349));
return max(float4(0,0,0,0), res);
}
