sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.005381823517382,-0.102363042533398,-0.064306363463402,-0.030956169590354,-0.074584104120731,0.107503257691860,-0.051000032573938,0.062677077949047,-0.060483947396278,0.022188622504473,-0.057512700557709,-0.161702618002892,0.022888671606779,0.087144427001476,-0.078159473836422,0.045719020068645));
res += mul(Get(s0,-dx,0), float4x4(-0.150604560971260,0.063630610704422,0.008340891450644,-0.014557710848749,0.012848448008299,-0.081170774996281,0.030778445303440,0.029681483283639,-0.012496553361416,0.123824588954449,-0.006899738684297,-0.005912117660046,-0.045613221824169,-0.115456379950047,0.047363858669996,0.019920410588384));
res += mul(Get(s0,-dx,dy), float4x4(-0.070729218423367,0.147217318415642,0.096800789237022,0.129353299736977,-0.088575266301632,0.033012729138136,-0.035884186625481,0.049164656549692,-0.099863573908806,-0.110143460333347,-0.025281293317676,-0.114051111042500,0.088868841528893,-0.096523851156235,-0.068427801132202,-0.031251557171345));
res += mul(Get(s0,0,-dy), float4x4(0.073007151484489,-0.067917697131634,-0.143921390175819,0.145238190889359,0.042552556842566,0.090707264840603,-0.172333881258965,-0.028260096907616,-0.047212544828653,0.137244313955307,-0.072289161384106,-0.085498102009296,-0.096757002174854,0.122567236423492,0.002564883325249,-0.115502588450909));
res += mul(Get(s0,0,0), float4x4(0.072664000093937,0.115076743066311,0.061646200716496,-0.084650613367558,0.061054456979036,0.085698194801807,-0.082375660538673,0.002519569359720,0.175029680132866,0.098806001245975,-0.145610988140106,-0.035012301057577,-0.057837422937155,0.104238323867321,-0.047657884657383,-0.055728785693645));
res += mul(Get(s0,0,dy), float4x4(-0.008911019191146,0.091068528592587,0.023412818089128,0.061371434479952,-0.036990858614445,-0.030881568789482,-0.026059357449412,0.018327239900827,-0.052941709756851,-0.127012193202972,0.009487925097346,0.061196058988571,0.230874821543694,-0.035358980298042,-0.090491496026516,-0.000027184032660));
res += mul(Get(s0,dx,-dy), float4x4(0.097249694168568,-0.011833217926323,-0.070583321154118,0.025599298998713,0.020495306700468,0.070723831653595,0.055441331118345,-0.019855290651321,-0.208022132515907,-0.048111349344254,-0.051822144538164,0.118633784353733,0.058490645140409,-0.135963022708893,0.049640271812677,0.063562117516994));
res += mul(Get(s0,dx,0), float4x4(0.078198164701462,-0.044001851230860,0.020496837794781,-0.087035693228245,0.023590747267008,0.025217596441507,0.023114837706089,0.074005760252476,0.144517019391060,0.102028623223305,0.062819272279739,-0.170240730047226,0.060729973018169,0.010047401301563,0.008791779167950,0.033493876457214));
res += mul(Get(s0,dx,dy), float4x4(0.093768253922462,-0.054841853678226,-0.064528673887253,-0.017038585618138,0.112269081175327,0.099200278520584,0.003834159579128,-0.030190994963050,-0.063923768699169,0.066189184784889,0.047596629709005,-0.121179066598415,0.209677815437317,-0.012800988741219,0.019061863422394,-0.059961445629597));
res += mul(Get(s1,-dx,-dy), float4x4(0.090161226689816,0.001478427671827,0.089899107813835,-0.030715741217136,0.060769837349653,0.006733680609614,-0.004620325285941,-0.024551395326853,-0.061049394309521,0.157874137163162,0.049011904746294,-0.054265290498734,-0.108145721256733,-0.089177906513214,0.044822465628386,0.002319744555280));
res += mul(Get(s1,-dx,0), float4x4(0.122115589678288,-0.092588305473328,-0.087516061961651,0.006945187691599,-0.032029356807470,0.087075352668762,0.068248167634010,-0.025683986023068,0.011245330795646,0.124017842113972,0.122530631721020,-0.074235685169697,-0.069484777748585,-0.053897894918919,-0.007961230352521,0.031835384666920));
res += mul(Get(s1,-dx,dy), float4x4(0.072016030550003,0.035935018211603,0.026795711368322,-0.063285231590271,-0.053097173571587,0.040417488664389,-0.136275693774223,0.027340296655893,0.042382247745991,0.190584421157837,0.000989232445136,-0.065732680261135,0.073004461824894,-0.140472322702408,0.067068122327328,0.024819159880280));
res += mul(Get(s1,0,-dy), float4x4(-0.008625235408545,0.072250708937645,-0.041723672300577,0.022264212369919,-0.021946998313069,0.041541866958141,0.104315303266048,-0.131315469741821,0.053070623427629,0.069199301302433,-0.121942654252052,-0.083845064043999,0.021680571138859,-0.062700159847736,-0.020522968843579,-0.005237833596766));
res += mul(Get(s1,0,0), float4x4(0.016675814986229,0.019780850037932,-0.111502759158611,-0.070405542850494,0.019599836319685,0.120876535773277,0.019244223833084,0.050879746675491,0.141919672489166,-0.052196174860001,0.029376732185483,0.010480217635632,0.007516098208725,-0.139351457357407,0.044405218213797,0.042803548276424));
res += mul(Get(s1,0,dy), float4x4(0.097819566726685,-0.047153767198324,0.030378736555576,-0.012495044618845,-0.035542547702789,0.044041674584150,0.067887365818024,0.066413350403309,0.108784921467304,0.005543109029531,-0.111575812101364,0.027836438268423,0.031906533986330,0.030288185924292,0.012695880606771,0.018467444926500));
res += mul(Get(s1,dx,-dy), float4x4(0.079030483961105,-0.001148068695329,-0.195430725812912,-0.030162300914526,0.127421200275421,-0.101664118468761,-0.003915563691407,0.031707670539618,0.032550495117903,0.082756675779819,-0.066646628081799,0.069041542708874,0.203981861472130,-0.192430630326271,-0.112153649330139,0.097549952566624));
res += mul(Get(s1,dx,0), float4x4(0.097614742815495,-0.008926944807172,0.011459962464869,0.025469714775681,-0.092503547668457,-0.012773568741977,0.064356841146946,-0.018992885947227,0.078838802874088,0.013160064816475,0.031543511897326,0.231044307351112,0.089512869715691,-0.071845345199108,0.004148301202804,0.072896219789982));
res += mul(Get(s1,dx,dy), float4x4(0.048905443400145,0.028155528008938,0.134466215968132,-0.109043113887310,-0.072535596787930,0.024836780503392,0.080595716834068,-0.006566736847162,0.184419706463814,0.027356173843145,-0.056072741746902,0.026460869237781,-0.136385619640350,-0.013311359100044,0.009217883460224,-0.025291215628386));
res += mul(Get(s2,-dx,-dy), float4x4(0.153165012598038,-0.077643826603889,-0.066603422164917,-0.053227636963129,0.051074855029583,-0.103812836110592,-0.004722901154310,-0.009731841273606,-0.060513440519571,0.199890345335007,-0.089932762086391,-0.222181156277657,0.091065034270287,-0.045379824936390,-0.026557443663478,-0.113733813166618));
res += mul(Get(s2,-dx,0), float4x4(0.088689632713795,-0.036775801330805,0.005749123636633,-0.082531750202179,-0.052148297429085,-0.118376195430756,-0.048633880913258,0.075185805559158,0.151956662535667,-0.081652216613293,-0.006337520666420,-0.048975024372339,-0.069999381899834,-0.046495642513037,-0.092189244925976,-0.041557829827070));
res += mul(Get(s2,-dx,dy), float4x4(0.106464788317680,-0.130753442645073,-0.046075452119112,0.124358274042606,0.005855057388544,-0.119046866893768,-0.075424842536449,-0.018657984212041,0.177049413323402,-0.101746775209904,-0.003590441076085,-0.129058569669724,0.003894413355738,-0.039444278925657,0.006907171104103,-0.026014372706413));
res += mul(Get(s2,0,-dy), float4x4(0.008064753375947,0.004485247191042,0.073835231363773,-0.006305797025561,0.044404398649931,0.058428481221199,0.022514773532748,0.059239700436592,0.061746772378683,0.154603630304337,0.062326539307833,0.046798791736364,0.134719550609589,0.008493602275848,-0.032839734107256,-0.009494112804532));
res += mul(Get(s2,0,0), float4x4(-0.108776479959488,-0.048564519733191,0.024980869144201,-0.011629706248641,0.014873956330121,-0.209005296230316,0.207682222127914,-0.018541483208537,0.040253262966871,0.073280297219753,-0.061442159116268,-0.051413074135780,-0.028426356613636,0.051662836223841,0.043982554227114,-0.064792908728123));
res += mul(Get(s2,0,dy), float4x4(0.009690232574940,0.000668597582262,-0.012736316770315,0.002601503860205,-0.037369731813669,0.017023157328367,0.020914470776916,-0.131818518042564,0.188538059592247,0.105837613344193,-0.023416424170136,0.088880129158497,-0.058569882065058,0.057298652827740,0.036976344883442,-0.099452465772629));
res += mul(Get(s2,dx,-dy), float4x4(0.052345272153616,0.022264815866947,0.092064008116722,0.024408951401711,0.016163589432836,0.022378079593182,0.022857578471303,0.046005599200726,0.189600110054016,-0.075345143675804,-0.006836172658950,0.134046420454979,0.125324696302414,-0.110636152327061,-0.082766965031624,-0.037781942635775));
res += mul(Get(s2,dx,0), float4x4(-0.055659588426352,-0.019433923065662,0.101059973239899,0.010057527571917,-0.173894733190536,0.020366888493299,-0.034874308854342,-0.105239376425743,-0.020206749439240,0.044362772256136,-0.185581728816032,0.091910429298878,0.005877316463739,-0.035828787833452,-0.039326723664999,-0.018776215612888));
res += mul(Get(s2,dx,dy), float4x4(-0.023723687976599,-0.013141153380275,0.046170469373465,-0.038889445364475,-0.010053341276944,0.087399102747440,-0.002103633014485,0.076110728085041,-0.109392747282982,0.167441472411156,0.047726746648550,-0.085984185338020,0.067025341093540,0.098551392555237,0.124258913099766,0.046600811183453));
res += mul(Get(s3,-dx,-dy), float4x4(-0.107518166303635,0.072328560054302,-0.062640182673931,0.061987414956093,0.242521494626999,-0.001268827123567,0.093184962868690,-0.001508534420282,0.069659441709518,-0.065153874456882,0.032222691923380,-0.098465375602245,-0.098954580724239,0.129560768604279,0.005654171109200,-0.024663815274835));
res += mul(Get(s3,-dx,0), float4x4(-0.116607837378979,0.078296847641468,-0.081553220748901,0.024800423532724,0.087087556719780,-0.025346096605062,0.017898518592119,-0.002076995326206,0.009029388427734,0.011424387805164,0.050386432558298,-0.107939660549164,-0.034789271652699,0.018475571647286,0.123989373445511,-0.025194395333529));
res += mul(Get(s3,-dx,dy), float4x4(0.066596850752831,-0.037041358649731,-0.004015712533146,0.039063759148121,-0.043191373348236,-0.024807356297970,-0.010443436913192,0.031283978372812,-0.045861534774303,-0.076546475291252,-0.034464966505766,-0.005803511943668,-0.046476513147354,0.094816468656063,0.097272299230099,-0.075655750930309));
res += mul(Get(s3,0,-dy), float4x4(-0.056383796036243,-0.000683885882609,-0.078412920236588,-0.028488133102655,0.170543521642685,-0.045968368649483,-0.002848117845133,-0.057305008172989,0.048721477389336,0.021991616114974,0.128904506564140,-0.074896998703480,-0.058185745030642,-0.017023872584105,-0.059175275266171,0.064732320606709));
res += mul(Get(s3,0,0), float4x4(0.027204224839807,-0.094645388424397,0.125333279371262,0.032447714358568,0.059477455914021,-0.025911137461662,0.034314393997192,0.078574284911156,-0.123005025088787,0.028442593291402,-0.005013799760491,-0.042878121137619,0.056625694036484,-0.044769551604986,0.031413018703461,-0.092664897441864));
res += mul(Get(s3,0,dy), float4x4(0.278924286365509,0.016332905739546,-0.025165224447846,0.060570877045393,-0.089869953691959,0.064625695347786,0.096383728086948,0.056175608187914,-0.025645950809121,-0.003563967533410,0.214784801006317,0.052856937050819,-0.013592453673482,-0.056357085704803,-0.107210211455822,-0.031040014699101));
res += mul(Get(s3,dx,-dy), float4x4(0.119625389575958,-0.077501311898232,0.120236836373806,0.028191421180964,0.028731888160110,-0.024544179439545,-0.018702469766140,-0.011647283099592,-0.035258147865534,0.093419201672077,0.076827548444271,0.085412263870239,0.011854496784508,-0.103595912456512,0.139329999685287,0.005287334322929));
res += mul(Get(s3,dx,0), float4x4(0.157378017902374,-0.000213190840441,-0.059997137635946,0.030722858384252,0.045365966856480,-0.086888574063778,-0.037026867270470,-0.027244588360190,-0.068599902093410,0.049313988536596,0.071414686739445,-0.032303627580404,0.011834061704576,0.084366589784622,-0.065724253654480,-0.037016630172729));
res += mul(Get(s3,dx,dy), float4x4(0.122078076004982,0.069484658539295,-0.006976934615523,0.047481786459684,-0.009597937576473,0.013564393855631,0.060675848275423,-0.023748259991407,-0.021864166483283,-0.122989423573017,-0.037498123943806,-0.095315076410770,-0.097286306321621,0.057583585381508,0.033280353993177,-0.013204792514443));
return max(float4(0,0,0,0), res);
}
