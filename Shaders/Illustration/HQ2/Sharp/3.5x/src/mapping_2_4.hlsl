sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.073370866477489,0.073082953691483,0.184038341045380,0.089215531945229,-0.140447214245796,-0.061199191957712,-0.104036964476109,0.001378149143420,0.033297792077065,-0.052541039884090,-0.040537633001804,0.081847637891769,0.006248873658478,-0.101703234016895,-0.117962777614594,0.038509503006935));
res += mul(Get(s0,-dx,0), float4x4(-0.065306670963764,-0.008277398534119,-0.115230634808540,-0.149739071726799,-0.197957262396812,0.173645943403244,-0.039579823613167,0.038058709353209,-0.082975424826145,-0.003767458489165,0.022738425061107,-0.044888641685247,0.031177127733827,0.107903316617012,0.121559917926788,0.012741125188768));
res += mul(Get(s0,-dx,dy), float4x4(0.054084528237581,-0.117778882384300,0.061623662710190,-0.039210673421621,0.183559939265251,0.088541120290756,-0.032592866569757,0.187201127409935,-0.069261096417904,-0.253625720739365,0.010516125708818,-0.010194801725447,-0.029752084985375,-0.022834710776806,0.013115290552378,-0.016617316752672));
res += mul(Get(s0,0,-dy), float4x4(-0.098650634288788,0.059246160089970,0.068424522876740,0.024155253544450,0.229972437024117,0.025920670479536,-0.006947107613087,-0.073113605380058,-0.059143088757992,-0.158571437001228,-0.015986166894436,-0.050705492496490,-0.055789526551962,0.051963049918413,0.085525043308735,-0.000870172050782));
res += mul(Get(s0,0,0), float4x4(-0.036371719092131,0.069775842130184,-0.080335959792137,-0.208701565861702,-0.174955889582634,0.043425075709820,-0.027345534414053,-0.076385192573071,0.065506033599377,-0.076315537095070,-0.158562585711479,0.072355471551418,-0.081787072122097,0.140796571969986,-0.067737735807896,0.237367346882820));
res += mul(Get(s0,0,dy), float4x4(0.087029941380024,-0.227558031678200,-0.046179432421923,-0.119439408183098,0.061703376471996,0.057946626096964,0.021569557487965,-0.025657316669822,-0.107513897120953,0.029576653614640,-0.036002218723297,0.094696134328842,-0.052220296114683,0.155174881219864,-0.038470175117254,0.011065757833421));
res += mul(Get(s0,dx,-dy), float4x4(-0.092274650931358,0.194302380084991,0.171156942844391,-0.009084600023925,-0.046009801328182,0.183262139558792,-0.065792940557003,0.022133147343993,-0.091492071747780,0.074095450341702,-0.283035248517990,0.068026334047318,-0.115221783518791,0.003497083438560,0.039557162672281,0.210561245679855));
res += mul(Get(s0,dx,0), float4x4(0.030751794576645,0.019736051559448,0.119658194482327,0.158293172717094,-0.070966206490993,-0.003488154383376,0.019272414967418,0.081941395998001,-0.074707962572575,-0.077631279826164,0.018961112946272,0.031064474955201,-0.144084990024567,0.045108485966921,0.050475917756557,0.026061460375786));
res += mul(Get(s0,dx,dy), float4x4(0.206931978464127,-0.001707988325506,0.016075301915407,0.156775698065758,0.165872260928154,-0.127487972378731,-0.230296880006790,-0.092907838523388,-0.037101496011019,-0.186172589659691,0.039543677121401,-0.211458280682564,-0.035798434168100,-0.053047731518745,0.022474400699139,0.061202775686979));
res += mul(Get(s1,-dx,-dy), float4x4(-0.162453711032867,-0.034798268228769,-0.061244070529938,-0.042087350040674,0.114096768200397,0.108137421309948,-0.028651807457209,-0.104279421269894,0.079241022467613,-0.079718843102455,0.032287392765284,0.127294674515724,-0.125390410423279,-0.020065043121576,-0.046409759670496,0.017863634973764));
res += mul(Get(s1,-dx,0), float4x4(0.080825686454773,0.191766858100891,-0.006541900336742,0.239231631159782,0.034299958497286,-0.056925773620605,-0.127798944711685,-0.032572444528341,0.073784105479717,-0.038634784519672,0.039478763937950,0.151840001344681,-0.076328776776791,0.092632479965687,0.006806024815887,-0.002277017571032));
res += mul(Get(s1,-dx,dy), float4x4(0.100682504475117,0.080148257315159,0.059135805815458,0.067533969879150,-0.052609901875257,0.021326605230570,0.009623168967664,-0.007101891096681,-0.096290782094002,-0.053005747497082,0.049497585743666,0.084160856902599,-0.036427304148674,0.070129089057446,0.054964359849691,-0.007361466996372));
res += mul(Get(s1,0,-dy), float4x4(-0.012487871572375,-0.042477846145630,-0.098593607544899,0.034286651760340,0.052614349871874,0.100915767252445,-0.032855145633221,0.093067206442356,-0.028839837759733,0.036677595227957,-0.094731472432613,0.143066391348839,-0.102842494845390,-0.028973387554288,0.130711063742638,0.004006719682366));
res += mul(Get(s1,0,0), float4x4(0.018370795994997,0.050714980810881,0.002765972865745,0.027867667376995,0.060542732477188,-0.213777989149094,-0.061632834374905,0.204787686467171,0.066828660666943,-0.048211887478828,0.040774840861559,-0.113598227500916,-0.160723716020584,-0.033878680318594,-0.075898729264736,-0.065037161111832));
res += mul(Get(s1,0,dy), float4x4(0.230723261833191,0.008663984015584,-0.006921276915818,-0.019420418888330,0.032981690019369,-0.084250696003437,-0.026200510561466,0.001931558828801,-0.014670784585178,-0.096352480351925,-0.064817354083061,-0.036320060491562,-0.111215755343437,-0.056489337235689,0.041717130690813,-0.037256676703691));
res += mul(Get(s1,dx,-dy), float4x4(-0.091397106647491,-0.005506257060915,0.169541478157043,0.130913317203522,0.033757440745831,-0.078679062426090,-0.077296525239944,-0.042079713195562,-0.080523677170277,0.008167760446668,-0.118494421243668,-0.138024374842644,0.075586095452309,-0.070926956832409,-0.018715729936957,-0.037984490394592));
res += mul(Get(s1,dx,0), float4x4(-0.038757756352425,0.050648059695959,0.156362116336823,0.068898253142834,-0.075390033423901,-0.000530774064828,-0.214880838990211,-0.031090715900064,-0.007069257553667,-0.077003441751003,-0.054095428436995,-0.200820744037628,0.062338721007109,0.040302913635969,-0.041321493685246,-0.010317023843527));
res += mul(Get(s1,dx,dy), float4x4(0.097199901938438,-0.134275048971176,-0.080987818539143,0.026935182511806,-0.080977715551853,0.135351359844208,0.011416845954955,0.052707787603140,-0.008553436025977,-0.156633168458939,-0.001750612282194,-0.172720253467560,0.018275143578649,-0.072071127593517,0.118518993258476,0.017879247665405));
res += mul(Get(s2,-dx,-dy), float4x4(-0.122885867953300,-0.030853668227792,-0.013336214236915,0.014206504449248,-0.076241083443165,-0.059266839176416,0.021970137953758,0.090729899704456,-0.031063213944435,-0.056678764522076,-0.010259089060128,-0.026411622762680,0.070346906781197,0.202515542507172,-0.095448151230812,0.020370218902826));
res += mul(Get(s2,-dx,0), float4x4(-0.002178042428568,0.019051913172007,0.148473978042603,-0.010051346383989,-0.005678174085915,0.080640524625778,0.008723598904908,0.006876655388623,-0.182706937193871,-0.017930272966623,0.093416921794415,0.079132229089737,0.140323445200920,0.105540581047535,-0.012856157496572,-0.138663321733475));
res += mul(Get(s2,-dx,dy), float4x4(0.089076288044453,-0.017062606289983,-0.074963733553886,-0.022553859278560,-0.007611690089107,-0.088751517236233,0.030675143003464,0.121802993118763,-0.006000624038279,-0.043311245739460,-0.121045738458633,-0.058268867433071,-0.025371860712767,-0.066836543381214,-0.082747623324394,-0.023614877834916));
res += mul(Get(s2,0,-dy), float4x4(0.030640568584204,-0.066455289721489,-0.065018117427826,-0.039563607424498,0.124355860054493,0.024337496608496,-0.184642910957336,-0.015055459924042,0.047569699585438,0.163030669093132,-0.057759847491980,0.078097477555275,0.068025745451450,-0.023352421820164,-0.129370674490929,-0.017017466947436));
res += mul(Get(s2,0,0), float4x4(-0.073155805468559,-0.000075153082435,0.037733189761639,0.042941357940435,-0.087267763912678,0.057458057999611,-0.052848536521196,0.019940994679928,0.043009523302317,-0.015454253181815,0.043552361428738,0.086632266640663,0.132954746484756,0.030960410833359,-0.003244865685701,-0.084426492452621));
res += mul(Get(s2,0,dy), float4x4(0.050319172441959,-0.087412871420383,-0.044391065835953,-0.070546723902225,-0.059028353542089,-0.041853789240122,-0.039702054113150,0.063459001481533,0.128131613135338,0.008466366678476,-0.029955597594380,-0.023174818605185,0.019176600500941,-0.063280716538429,0.015868473798037,-0.001065908349119));
res += mul(Get(s2,dx,-dy), float4x4(-0.089783526957035,0.081046253442764,-0.029805881902575,0.087607979774475,-0.091460116207600,-0.100345164537430,0.114650361239910,-0.025822516530752,0.122925356030464,-0.182547569274902,0.072845868766308,0.071322225034237,0.128581538796425,-0.091900303959846,0.071717977523804,-0.008514772169292));
res += mul(Get(s2,dx,0), float4x4(-0.055284272879362,-0.035290561616421,-0.032402951270342,-0.119396783411503,0.020621165633202,-0.131802797317505,0.079072467982769,-0.074240073561668,-0.083228357136250,-0.029591156169772,-0.008105057291687,-0.114177435636520,-0.055793195962906,0.045937158167362,-0.005300627090037,0.173579722642899));
res += mul(Get(s2,dx,dy), float4x4(-0.049463644623756,-0.038361284881830,-0.029736388474703,0.025301786139607,0.013488736934960,-0.126737132668495,0.045651365071535,-0.026036065071821,-0.054436162114143,0.078015863895416,0.100001215934753,-0.153022363781929,0.021048201248050,0.041313491761684,-0.018640782684088,0.061142448335886));
res += mul(Get(s3,-dx,-dy), float4x4(-0.057282164692879,0.037988379597664,0.067330129444599,-0.194182068109512,0.002198054455221,0.217830926179886,0.036597847938538,0.181400328874588,0.001637066598050,0.029493570327759,-0.185942038893700,0.005754268728197,-0.027527183294296,-0.088280953466892,-0.020042611286044,0.007518060971051));
res += mul(Get(s3,-dx,0), float4x4(0.015124112367630,-0.057637497782707,-0.072651334106922,-0.013417442329228,-0.099667392671108,0.050015170127153,-0.209456145763397,0.091132789850235,0.161254152655602,-0.035106737166643,-0.061475459486246,0.123081050813198,0.156225934624672,0.052431818097830,-0.076176032423973,0.017645809799433));
res += mul(Get(s3,-dx,dy), float4x4(-0.159198313951492,-0.134708002209663,-0.019165169447660,-0.109194628894329,-0.007864654064178,-0.015866803005338,-0.035886909812689,0.022548682987690,-0.111746482551098,-0.163752600550652,0.187122091650963,0.076328136026859,-0.044966306537390,0.057614427059889,-0.011418950743973,0.045482140034437));
res += mul(Get(s3,0,-dy), float4x4(-0.097496636211872,0.066697455942631,0.125757426023483,-0.047899603843689,-0.018844379112124,0.096665844321251,-0.141609281301498,-0.057699684053659,0.020041543990374,0.034752070903778,0.000333933567163,-0.011318362317979,-0.003225859021768,0.057089675217867,0.130933120846748,-0.100138641893864));
res += mul(Get(s3,0,0), float4x4(0.011536744423211,-0.190848290920258,-0.058317542076111,-0.001097731059417,0.143255874514580,0.162065580487251,-0.108991377055645,0.036194726824760,0.106872528791428,0.063681699335575,-0.084993466734886,-0.048140473663807,0.043029405176640,0.031513120979071,-0.000594402430579,-0.020239986479282));
res += mul(Get(s3,0,dy), float4x4(-0.005432111676782,-0.111902013421059,-0.178850173950195,-0.021237395703793,0.033673096448183,0.056961178779602,-0.008267730474472,0.215650066733360,-0.062961690127850,0.084362141788006,-0.183149367570877,-0.201679691672325,0.170790627598763,0.060411676764488,-0.070023149251938,-0.090396739542484));
res += mul(Get(s3,dx,-dy), float4x4(-0.139571279287338,0.272177278995514,-0.161880627274513,0.294708520174026,-0.073229059576988,-0.010977251455188,-0.072743900120258,-0.119967877864838,-0.027603281661868,-0.038359872996807,0.154078423976898,-0.070292331278324,0.065547116100788,0.080061800777912,0.190014809370041,0.012960031628609));
res += mul(Get(s3,dx,0), float4x4(-0.044272612780333,-0.108190849423409,-0.065583676099777,0.076101027429104,0.033012624830008,-0.081118009984493,0.059287130832672,-0.038988560438156,0.045572336763144,0.009691867046058,0.069974079728127,-0.041140113025904,-0.019760977476835,0.023524608463049,-0.017552277073264,-0.140473172068596));
res += mul(Get(s3,dx,dy), float4x4(-0.009723154827952,-0.147273942828178,-0.129523754119873,0.035955533385277,0.022443406283855,0.126997381448746,0.019066248089075,0.038652118295431,-0.057341627776623,-0.032745406031609,0.021625217050314,-0.105967804789543,-0.055881891399622,0.135601416230202,-0.003212988143787,0.104955889284611));
return max(float4(0,0,0,0), res);
}
