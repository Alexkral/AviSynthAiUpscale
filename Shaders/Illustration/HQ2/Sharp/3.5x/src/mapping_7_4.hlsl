sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.023011745885015,0.017238974571228,0.005381859373301,-0.050896879285574,0.034931853413582,0.027204163372517,0.014954478479922,0.104410670697689,-0.163502335548401,-0.049898829311132,-0.024045303463936,-0.077610224485397,0.129015237092972,0.108562134206295,-0.050701100379229,0.001334282569587));
res += mul(Get(s0,-dx,0), float4x4(0.015147239901125,-0.095162272453308,0.157897233963013,-0.116729438304901,-0.036581318825483,0.042558606714010,-0.002185474382713,-0.005779498256743,-0.000242348716711,-0.048728693276644,0.007200392428786,-0.077507525682449,-0.061650879681110,-0.009777742438018,0.109512776136398,0.049975313246250));
res += mul(Get(s0,-dx,dy), float4x4(-0.056720729917288,0.042240872979164,0.029450966045260,-0.111319199204445,-0.075861774384975,-0.063479252159595,0.093464232981205,-0.059713583439589,-0.105781808495522,-0.002291110344231,0.016239050775766,-0.050971508026123,0.050498038530350,0.071531347930431,0.007691753096879,-0.069023005664349));
res += mul(Get(s0,0,-dy), float4x4(-0.116360180079937,-0.026105485856533,0.051410384476185,0.167398005723953,-0.012008294463158,-0.070642665028572,-0.022021982818842,0.042205993086100,0.043929740786552,-0.253905594348907,-0.158786609768867,-0.099411629140377,0.132760763168335,0.066724561154842,0.008969578891993,-0.091587275266647));
res += mul(Get(s0,0,0), float4x4(-0.034388162195683,0.021398790180683,0.114207468926907,0.036350335925817,0.042103294283152,-0.037362892180681,-0.107394270598888,0.076133124530315,-0.007712016347796,-0.046187687665224,-0.087343670427799,0.133605629205704,0.012108303606510,0.072591081261635,0.085558369755745,-0.036532286554575));
res += mul(Get(s0,0,dy), float4x4(-0.016181305050850,0.060911707580090,-0.075483411550522,0.012193028815091,0.009847891516984,0.029062075540423,0.133609116077423,-0.046847783029079,0.027397401630878,-0.089989513158798,0.032060872763395,-0.156348198652267,0.027864955365658,-0.022514928132296,-0.059884808957577,0.052789378911257));
res += mul(Get(s0,dx,-dy), float4x4(-0.190012738108635,-0.002453131368384,-0.170146510004997,-0.092392005026340,0.009585957042873,0.001920897397213,-0.085162006318569,0.067866533994675,0.094288647174835,0.070543579757214,-0.022714460268617,-0.178135499358177,0.042827270925045,-0.003404036164284,-0.046865027397871,0.055973928421736));
res += mul(Get(s0,dx,0), float4x4(0.051149222999811,-0.110755957663059,0.025772619992495,0.056087769567966,0.019702117890120,-0.089708723127842,0.006993944756687,-0.045698441565037,0.097665876150131,-0.031204210594296,0.025015821680427,0.061789009720087,-0.047011695802212,0.101860381662846,0.097843639552593,0.051767319440842));
res += mul(Get(s0,dx,dy), float4x4(0.047468688338995,-0.066801413893700,-0.099489830434322,-0.014656387269497,0.234339892864227,-0.041802886873484,0.061452295631170,-0.014400874264538,0.014225952327251,0.136108145117760,-0.087649926543236,0.003775828983635,-0.056011691689491,-0.064528919756413,-0.017541464418173,0.175066515803337));
res += mul(Get(s1,-dx,-dy), float4x4(-0.087718687951565,0.021225901320577,-0.181559488177299,0.160050004720688,0.019463783130050,-0.103792279958725,0.024822566658258,-0.161585494875908,0.070945791900158,-0.027533147484064,-0.081089459359646,-0.034580729901791,-0.019052436575294,0.012777324765921,0.077439643442631,-0.076409772038460));
res += mul(Get(s1,-dx,0), float4x4(-0.137196302413940,0.078760944306850,-0.116249524056911,0.034757897257805,0.183874323964119,-0.047956634312868,0.077030129730701,-0.015556343831122,-0.037103496491909,-0.162811174988747,-0.008191846311092,-0.084788911044598,-0.096419967710972,-0.015382230281830,0.032951775938272,0.088378868997097));
res += mul(Get(s1,-dx,dy), float4x4(-0.088377639651299,0.010618801228702,0.102974183857441,-0.015943195670843,-0.016795922070742,0.070393197238445,0.139831319451332,-0.072875864803791,-0.042587045580149,-0.018781740218401,0.008577923290431,0.019245175644755,0.042602717876434,0.051988944411278,0.169788658618927,0.051383018493652));
res += mul(Get(s1,0,-dy), float4x4(0.057476501911879,-0.023818753659725,0.028770714998245,-0.000353493291186,-0.076630383729935,0.004388022236526,-0.024848641827703,-0.001229382236488,-0.001659914036281,0.023090586066246,-0.132933050394058,-0.008837035857141,0.084007933735847,0.003056705929339,0.025760306045413,-0.079731680452824));
res += mul(Get(s1,0,0), float4x4(-0.165487244725227,0.109030455350876,0.103485889732838,0.114587396383286,0.052932284772396,0.021041024476290,-0.069186359643936,-0.005743669811636,0.181140020489693,0.056266639381647,-0.024350289255381,0.022207779809833,-0.036649085581303,0.149012416601181,0.013156673870981,0.080129601061344));
res += mul(Get(s1,0,dy), float4x4(-0.063065379858017,0.036503709852695,0.014152002520859,-0.054528653621674,0.001796204480343,0.048556439578533,0.037458986043930,-0.043344926089048,0.147997573018074,0.081474788486958,-0.035447549074888,0.051033038645983,-0.135127127170563,0.081650540232658,-0.061526369303465,-0.093908838927746));
res += mul(Get(s1,dx,-dy), float4x4(-0.009974514134228,0.033040806651115,0.106771357357502,0.074340641498566,-0.090327508747578,0.034453164786100,0.088987939059734,-0.109308488667011,0.085145980119705,-0.069513924419880,-0.084017649292946,-0.017573447898030,0.031361196190119,0.102622702717781,-0.030598254874349,0.038392577320337));
res += mul(Get(s1,dx,0), float4x4(0.011342025361955,-0.008146124891937,-0.034672427922487,-0.076875485479832,-0.054563909769058,-0.135172247886658,0.026282548904419,-0.032555125653744,0.084141723811626,-0.056681785732508,-0.193532034754753,-0.089207239449024,0.098830692470074,-0.055992539972067,-0.081960178911686,-0.005015495698899));
res += mul(Get(s1,dx,dy), float4x4(0.055762540549040,0.018377898260951,-0.051040854305029,-0.018045188859105,-0.050288647413254,-0.069123707711697,-0.004008503165096,0.048596650362015,0.065510399639606,-0.133272767066956,-0.046776469796896,0.103039227426052,-0.111526109278202,-0.020223924890161,-0.096449524164200,-0.031021337956190));
res += mul(Get(s2,-dx,-dy), float4x4(0.065119385719299,-0.130667179822922,0.138343602418900,-0.024897135794163,-0.011809481307864,0.010598995722830,0.009611363522708,0.025352671742439,-0.110593751072884,0.031287096440792,-0.078124798834324,-0.016231220215559,0.077427066862583,-0.030966967344284,0.019353352487087,0.017065502703190));
res += mul(Get(s2,-dx,0), float4x4(0.054112877696753,-0.034016288816929,-0.125890329480171,0.171066701412201,-0.125226601958275,-0.142707258462906,0.070766314864159,-0.125953555107117,-0.019062088802457,0.095240756869316,-0.009217743761837,-0.042246524244547,0.028766565024853,0.072553507983685,0.067376941442490,0.021024618297815));
res += mul(Get(s2,-dx,dy), float4x4(-0.046113841235638,0.012750909663737,-0.056062001734972,-0.077304467558861,0.027982108294964,0.002542391419411,0.121469177305698,-0.132601544260979,-0.096654675900936,-0.120433770120144,0.010731454007328,-0.078302562236786,-0.166601881384850,0.024878783151507,0.189671844244003,-0.135943308472633));
res += mul(Get(s2,0,-dy), float4x4(0.092167757451534,0.024090260267258,-0.104162544012070,0.004322536289692,-0.127658650279045,-0.038202710449696,-0.023716811090708,-0.006689141970128,0.127610653638840,0.001137024955824,-0.003301996272057,-0.147582188248634,0.219351202249527,0.072492241859436,0.025469379499555,-0.036459837108850));
res += mul(Get(s2,0,0), float4x4(-0.054049722850323,0.047160375863314,-0.013942698016763,-0.011605167761445,-0.041703600436449,0.039601128548384,0.018270928412676,-0.071710869669914,0.167232960462570,0.164730787277222,0.041961975395679,-0.144326224923134,-0.017470175400376,-0.036126982420683,0.053222168236971,-0.031432930380106));
res += mul(Get(s2,0,dy), float4x4(-0.162531077861786,-0.110576607286930,0.037810347974300,-0.043071523308754,-0.096542060375214,-0.045149199664593,0.047006521373987,0.138494953513145,0.091988638043404,-0.124565973877907,0.005789489485323,0.061247203499079,-0.088252164423466,0.040416374802589,0.038878817111254,0.002588204806671));
res += mul(Get(s2,dx,-dy), float4x4(0.004169528372586,-0.023714398965240,-0.037550475448370,-0.045937404036522,-0.071452923119068,-0.114670470356941,0.073530383408070,0.080615013837814,-0.048594482243061,-0.047505196183920,-0.111749596893787,-0.155319958925247,0.050370283424854,-0.080407544970512,0.119177967309952,0.119608223438263));
res += mul(Get(s2,dx,0), float4x4(-0.017554162070155,0.077224068343639,0.058158975094557,0.027793519198895,0.016963973641396,-0.098041452467442,0.034929569810629,0.090058423578739,-0.101465724408627,0.098880253732204,-0.023010529577732,-0.034455496817827,-0.029244644567370,-0.106273084878922,0.026266831904650,0.114324733614922));
res += mul(Get(s2,dx,dy), float4x4(-0.093350768089294,0.025104898959398,-0.060016877949238,0.016631551086903,0.005379124078900,-0.019065545871854,0.013454936444759,0.033593896776438,-0.204256892204285,-0.037999741733074,-0.137009367346764,0.030687434598804,-0.105888478457928,-0.080647744238377,-0.046757053583860,0.084865540266037));
res += mul(Get(s3,-dx,-dy), float4x4(0.052172217518091,-0.185098215937614,0.003675568383187,0.053004220128059,-0.148345857858658,0.017289351671934,-0.011359230615199,0.016771243885159,-0.058321140706539,-0.001533430418931,-0.019663168117404,0.028763467445970,-0.054603040218353,-0.067881017923355,-0.061865504831076,0.038061626255512));
res += mul(Get(s3,-dx,0), float4x4(-0.021595234051347,0.010562521405518,0.048659544438124,0.026754882186651,-0.099949143826962,-0.015578379854560,0.020868176594377,-0.034653704613447,-0.038777157664299,0.056649163365364,0.042843945324421,0.149866670370102,0.054999161511660,0.065659858286381,0.147915691137314,-0.034165970981121));
res += mul(Get(s3,-dx,dy), float4x4(0.058691382408142,-0.087710089981556,-0.069701753556728,0.002905943663791,-0.206978648900986,0.102065093815327,-0.029320623725653,-0.137873843312263,0.148294329643250,0.002545076888055,-0.049908831715584,-0.028312779963017,-0.071022421121597,-0.047563798725605,-0.159941226243973,0.061890646815300));
res += mul(Get(s3,0,-dy), float4x4(0.162557199597359,-0.061019919812679,-0.038283940404654,0.055314887315035,-0.061666689813137,0.029786136001348,-0.040063556283712,-0.006468149367720,-0.020881479606032,0.071905039250851,-0.015749448910356,0.029719963669777,0.065631166100502,0.002866663504392,0.039097160100937,0.059162300080061));
res += mul(Get(s3,0,0), float4x4(0.066010996699333,-0.064937576651573,-0.070357486605644,0.079572051763535,0.066152282059193,0.008174805901945,0.014807391911745,0.076620191335678,-0.005443935282528,0.089190363883972,-0.042456667870283,-0.068202078342438,0.066642574965954,0.021392557770014,0.034900996834040,0.010065605863929));
res += mul(Get(s3,0,dy), float4x4(0.019419522956014,0.119718730449677,-0.069357104599476,-0.034776806831360,0.008295923471451,-0.044296700507402,0.101874448359013,-0.110738493502140,-0.050751987844706,0.025731345638633,-0.021298523992300,0.002017105696723,-0.046055644750595,0.080129750072956,0.077189378440380,-0.017935320734978));
res += mul(Get(s3,dx,-dy), float4x4(0.130867674946785,-0.069971725344658,-0.011835347861052,-0.057751066982746,0.018941111862659,-0.041956394910812,-0.016681877896190,0.013057229109108,0.013998743146658,-0.111440181732178,0.050898883491755,-0.047752346843481,-0.017490541562438,-0.032616097480059,-0.036396726965904,0.041707716882229));
res += mul(Get(s3,dx,0), float4x4(0.058775477111340,0.031448483467102,-0.005028866697103,-0.020634209737182,0.124023333191872,-0.013725643977523,0.087949141860008,-0.056983567774296,0.035421665757895,0.050427403301001,-0.059960063546896,-0.020458839833736,-0.073243796825409,0.117934584617615,0.111322410404682,0.075190894305706));
res += mul(Get(s3,dx,dy), float4x4(-0.138509258627892,0.106392756104469,-0.205654457211494,-0.059469178318977,-0.177408337593079,0.127615496516228,-0.003851245855913,-0.063100248575211,-0.023320810869336,0.101019978523254,-0.071787081658840,0.034239191561937,-0.067686311900616,0.084671527147293,0.015337388962507,-0.048980951309204));
return max(float4(0,0,0,0), res);
}
