sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.115644738078117,0.025373378768563,0.012787994928658,-0.070241369307041,-0.044522132724524,0.005225000903010,-0.170187219977379,0.043028827756643,0.050202000886202,-0.083680659532547,0.033936794847250,-0.159882768988609,0.163402095437050,0.038677636533976,0.098158255219460,0.020455114543438));
res += mul(Get(s0,-dx,0), float4x4(-0.046164676547050,-0.047646507620811,-0.144264057278633,0.037480812519789,-0.083739936351776,0.161556333303452,-0.147068411111832,-0.135102719068527,-0.165216609835625,0.045061726123095,-0.020453847944736,0.111593246459961,0.093807712197304,0.138221666216850,0.012207427993417,0.061973113566637));
res += mul(Get(s0,-dx,dy), float4x4(0.032564803957939,-0.013754669576883,-0.108072087168694,0.012735900469124,0.029575282707810,0.098311387002468,-0.158078551292419,0.048374112695456,-0.120722688734531,-0.050646029412746,0.084129117429256,-0.102324537932873,-0.032153338193893,-0.027629483491182,0.063117608428001,-0.065903477370739));
res += mul(Get(s0,0,-dy), float4x4(-0.087892755866051,0.003936887718737,-0.133257433772087,0.124482974410057,0.010104738175869,-0.067676633596420,-0.016620615497231,-0.050669737160206,-0.065664142370224,-0.064094923436642,-0.065471790730953,-0.224545419216156,0.042853329330683,-0.063755586743355,-0.078020900487900,-0.017088623717427));
res += mul(Get(s0,0,0), float4x4(0.057700332254171,0.044567305594683,-0.040341462939978,-0.051145587116480,-0.087755881249905,0.106692485511303,-0.006417043041438,-0.070508584380150,-0.058230232447386,0.102587349712849,-0.060676503926516,0.280902057886124,0.109290249645710,-0.084134280681610,0.027101101353765,0.164779260754585));
res += mul(Get(s0,0,dy), float4x4(0.066232100129128,0.005606056191027,0.169119581580162,-0.075256399810314,-0.043640784919262,0.051477700471878,-0.110920451581478,0.237264558672905,-0.139362245798111,0.118635937571526,0.054401535540819,0.206909164786339,0.081498965620995,0.089938193559647,-0.026898805052042,-0.047468651086092));
res += mul(Get(s0,dx,-dy), float4x4(-0.117945514619350,0.050512902438641,-0.001768317189999,0.015305276960135,0.008344028145075,-0.006814194843173,0.120981164276600,0.026831490918994,0.034320268779993,0.023777427151799,-0.044454865157604,-0.024051653221250,0.121846616268158,-0.042522370815277,-0.093269668519497,0.146876186132431));
res += mul(Get(s0,dx,0), float4x4(0.056149721145630,-0.026252189651132,0.030638422816992,-0.024792667478323,-0.113708823919296,0.024875821545720,-0.023157905787230,-0.095148779451847,0.172090634703636,-0.193438962101936,-0.026999436318874,0.119857527315617,-0.058125585317612,-0.123013563454151,-0.053913820534945,0.028908664360642));
res += mul(Get(s0,dx,dy), float4x4(0.030492341145873,-0.012089501135051,0.084163263440132,-0.154160484671593,-0.011830637231469,-0.078883074223995,-0.030027547851205,0.138889387249947,-0.086791031062603,0.071177609264851,-0.092116259038448,0.023276491090655,-0.157400518655777,0.096966013312340,0.145996510982513,-0.059245228767395));
res += mul(Get(s1,-dx,-dy), float4x4(-0.081878073513508,0.015163929201663,-0.023537706583738,-0.069712921977043,-0.025176517665386,-0.028860678896308,-0.081580914556980,0.066133111715317,-0.006245500873774,-0.041544068604708,0.156562402844429,-0.003742202185094,-0.063992291688919,-0.032241225242615,-0.063838511705399,0.095324285328388));
res += mul(Get(s1,-dx,0), float4x4(0.033645145595074,0.031000228598714,-0.128255292773247,-0.075964070856571,-0.043295938521624,-0.022836428135633,0.041074823588133,0.039196934551001,0.112067051231861,0.056327771395445,-0.057727698236704,-0.036228153854609,-0.064142689108849,-0.169002383947372,0.018623095005751,0.013447290286422));
res += mul(Get(s1,-dx,dy), float4x4(0.015295594930649,-0.015533664263785,-0.007759420201182,0.091384187340736,-0.003712400095537,0.085185766220093,-0.087716527283192,-0.125500917434692,0.044328134506941,-0.052284695208073,0.025890152901411,0.074565336108208,0.143150612711906,0.047637097537518,-0.084164775907993,-0.105632245540619));
res += mul(Get(s1,0,-dy), float4x4(-0.129098653793335,-0.007425787393004,-0.122263357043266,0.024472853168845,-0.093778476119041,-0.007331642787904,-0.027710104361176,0.006903385743499,0.066053226590157,-0.016857709735632,0.114489138126373,0.038888953626156,-0.024046620354056,0.085784576833248,-0.174536824226379,-0.014394953846931));
res += mul(Get(s1,0,0), float4x4(0.013749074190855,-0.030762756243348,-0.013338991440833,0.016371954232454,0.104165986180305,0.010057640261948,0.020140878856182,0.073268897831440,-0.040848724544048,-0.000690924585797,0.080067940056324,-0.110410302877426,0.011279639787972,0.009135134518147,-0.034365076571703,-0.030123045668006));
res += mul(Get(s1,0,dy), float4x4(0.176498502492905,0.013804388232529,-0.068556785583496,0.011047201231122,-0.100566908717155,-0.047827299684286,0.040377657860518,-0.028684057295322,-0.048955127596855,-0.038448959589005,-0.135489284992218,0.124589681625366,0.045179236680269,0.066723495721817,-0.107185140252113,0.010993273928761));
res += mul(Get(s1,dx,-dy), float4x4(-0.164547428488731,-0.013600194826722,-0.094603501260281,-0.021372489631176,-0.001963347895071,0.087273523211479,0.094882741570473,-0.003022367134690,-0.014192944392562,0.023472197353840,0.106460273265839,-0.022060606628656,-0.021943792700768,0.028956938534975,-0.062696278095245,0.033405594527721));
res += mul(Get(s1,dx,0), float4x4(-0.003215557662770,0.102511599659920,-0.065443955361843,-0.025354867801070,-0.087199382483959,-0.069747857749462,0.070460692048073,0.050551202148199,-0.051336422562599,0.039818532764912,0.017122389748693,-0.013849755749106,-0.002848766511306,0.121678285300732,-0.085314787924290,0.146656572818756));
res += mul(Get(s1,dx,dy), float4x4(-0.072879850864410,0.018691411241889,-0.084017328917980,-0.049684986472130,0.186762183904648,-0.067331410944462,0.027532594278455,-0.020852698013186,-0.011032255366445,0.040191296488047,-0.132491722702980,0.018569499254227,0.081151828169823,0.128152593970299,0.008406572043896,-0.010529021732509));
res += mul(Get(s2,-dx,-dy), float4x4(-0.110046491026878,-0.188924804329872,-0.156711786985397,0.074343353509903,-0.089873753488064,0.026820786297321,-0.065017372369766,0.085673622786999,0.080211281776428,0.065869979560375,0.068188935518265,0.010967900045216,0.012539397925138,-0.033786959946156,-0.068945616483688,-0.015688171610236));
res += mul(Get(s2,-dx,0), float4x4(0.161599859595299,-0.046762917190790,0.053448792546988,0.084053240716457,0.002739574993029,-0.112932935357094,0.093258619308472,-0.100143276154995,-0.031112575903535,0.039734613150358,-0.066624164581299,0.058684263378382,0.065242804586887,-0.032060015946627,-0.097440548241138,0.047468762844801));
res += mul(Get(s2,-dx,dy), float4x4(-0.086458504199982,0.097175918519497,-0.031468790024519,-0.068894378840923,-0.047707658261061,0.003802551655099,0.041566789150238,0.011882933788002,-0.103346660733223,0.127343535423279,-0.246292471885681,-0.008438577875495,0.108873851597309,-0.119637295603752,-0.077068731188774,-0.050983879715204));
res += mul(Get(s2,0,-dy), float4x4(0.117517434060574,0.006443338934332,0.002086525317281,0.113104179501534,-0.116949521005154,-0.010669341310859,0.012141901999712,0.023182099685073,0.048012908548117,0.020638953894377,0.030775653198361,-0.024256469681859,0.050656061619520,0.131774991750717,0.105211764574051,0.106840930879116));
res += mul(Get(s2,0,0), float4x4(-0.044807340949774,-0.068228960037231,0.066214732825756,0.025937836617231,0.143819734454155,0.027133600786328,-0.015437294729054,-0.080685026943684,0.057689823210239,-0.128495916724205,-0.107895433902740,0.017511913552880,0.002077753655612,0.135000869631767,-0.000418327457737,0.048422992229462));
res += mul(Get(s2,0,dy), float4x4(0.025731777772307,0.024562623351812,0.020124753937125,-0.121677234768867,-0.012112497352064,-0.037916809320450,0.060295831412077,0.130755335092545,-0.053675163537264,0.093321472406387,-0.048484474420547,-0.022444911301136,0.120986886322498,0.084995515644550,0.002717763883993,0.079329378902912));
res += mul(Get(s2,dx,-dy), float4x4(0.099788509309292,-0.160566151142120,0.015561715699732,0.071825698018074,0.048301000148058,0.074184007942677,-0.028765784576535,-0.070846162736416,0.136481180787086,0.016119174659252,-0.137903586030006,-0.004146491177380,-0.075800426304340,0.064758829772472,-0.044896651059389,-0.142323806881905));
res += mul(Get(s2,dx,0), float4x4(-0.066256150603294,-0.022485181689262,-0.104461610317230,-0.113162226974964,0.160594522953033,-0.031272482126951,0.007694791071117,-0.070466913282871,0.060401391237974,-0.157750725746155,-0.110572129487991,-0.124304875731468,-0.049121938645840,-0.070924468338490,0.001606768346392,0.036960802972317));
res += mul(Get(s2,dx,dy), float4x4(-0.145946457982063,0.236991614103317,-0.104074463248253,0.013198507018387,0.020038945600390,0.029364150017500,-0.027972837910056,-0.007241629064083,-0.032621495425701,0.032790549099445,-0.052242632955313,0.138256683945656,-0.100794091820717,-0.102138541638851,-0.066844999790192,-0.080909542739391));
res += mul(Get(s3,-dx,-dy), float4x4(0.102124549448490,0.004797810688615,-0.016878375783563,-0.071771413087845,-0.064430356025696,-0.144543156027794,-0.051270924508572,-0.033959280699492,-0.077656619250774,0.043756999075413,0.080781124532223,-0.018224017694592,-0.009411136619747,-0.177744671702385,-0.192482113838196,0.061161760240793));
res += mul(Get(s3,-dx,0), float4x4(-0.049045331776142,0.017051959410310,0.011556895449758,-0.046978108584881,-0.049951322376728,-0.065140143036842,-0.026276536285877,0.049259845167398,0.036833051592112,0.047514043748379,0.008121660910547,-0.155129447579384,0.010780478827655,-0.057786203920841,-0.070107840001583,-0.123787388205528));
res += mul(Get(s3,-dx,dy), float4x4(0.109161525964737,-0.129415214061737,-0.097899436950684,0.050939269363880,-0.035189639776945,0.056340828537941,0.015500987879932,-0.135182261466980,-0.004605664871633,-0.113165222108364,0.008900067768991,0.021133771166205,0.002013563178480,0.065080940723419,0.054972127079964,-0.030431615188718));
res += mul(Get(s3,0,-dy), float4x4(0.140900447964668,-0.023086177185178,0.039646629244089,0.037025697529316,0.022320920601487,0.083531320095062,-0.043151319026947,-0.225706234574318,-0.039470870047808,0.025432396680117,0.046270836144686,0.081296965479851,0.039731696248055,-0.055763605982065,0.028011618182063,-0.083787530660629));
res += mul(Get(s3,0,0), float4x4(0.130546137690544,-0.044929221272469,-0.056203030049801,-0.144497558474541,-0.162958860397339,0.165070652961731,0.060924425721169,-0.034600622951984,-0.008687119930983,-0.041154611855745,0.089231520891190,0.046565692871809,-0.202726989984512,0.005203973036259,-0.048748239874840,-0.004337991587818));
res += mul(Get(s3,0,dy), float4x4(-0.030920740216970,0.067432455718517,0.108032941818237,-0.142232269048691,0.039456192404032,0.023320803418756,0.027888312935829,0.009687415324152,0.021723506972194,0.112443163990974,-0.017853366211057,-0.130647823214531,0.168892264366150,-0.015371709130704,0.009391304105520,0.202208578586578));
res += mul(Get(s3,dx,-dy), float4x4(-0.038224034011364,0.028285399079323,0.111535727977753,-0.028748845681548,0.100207298994064,0.045873917639256,0.035057872533798,-0.016789037734270,-0.001768739311956,0.039112310856581,-0.155630379915237,-0.037762552499771,0.132876738905907,-0.052459359169006,-0.042206872254610,0.025200877338648));
res += mul(Get(s3,dx,0), float4x4(-0.035464666783810,0.126322135329247,0.090215943753719,0.091173991560936,0.027323756366968,0.057915210723877,-0.000678737298585,0.027450926601887,0.102591678500175,-0.054039064794779,0.085265107452869,0.015012444928288,0.142618760466576,0.162071168422699,0.015181056223810,0.098969615995884));
res += mul(Get(s3,dx,dy), float4x4(-0.066487304866314,0.022287936881185,0.009761977009475,-0.075346589088440,0.117852896451950,-0.104366540908813,-0.008106994442642,-0.007009119726717,-0.016199303790927,0.024471405893564,-0.024057058617473,0.025482399389148,0.110491126775742,-0.135660380125046,-0.127009883522987,0.006636940408498));
return max(float4(0,0,0,0), res);
}
