sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.148830324411392,-0.213781356811523,-0.022492242977023,0.197208538651466,0.091198876500130,-0.026117892935872,-0.156563967466354,0.153218105435371,0.128566727042198,0.176045715808868,-0.100894689559937,0.098234325647354,0.096674464643002,-0.068505570292473,-0.025059185922146,-0.014125357381999));
res += mul(Get(s0,-dx,0), float4x4(0.658810675144196,-0.290534168481827,0.220866754651070,0.047258548438549,-0.072249926626682,-0.088586501777172,-0.084931112825871,0.066979259252548,0.103167526423931,0.095584385097027,-0.089884757995605,-0.151751711964607,0.008378576487303,0.081851437687874,0.061257272958755,-0.009233910590410));
res += mul(Get(s0,-dx,dy), float4x4(-0.021501423791051,-0.072284363210201,-0.014271647669375,0.023633411154151,-0.032754935324192,0.105307318270206,-0.045883316546679,-0.018959183245897,0.051832173019648,0.098711736500263,0.083063669502735,-0.122440211474895,-0.082098059356213,0.156767338514328,-0.029984427616000,-0.063474476337433));
res += mul(Get(s0,0,-dy), float4x4(0.155672580003738,0.029877344146371,0.105894632637501,-0.080537982285023,-0.095737494528294,-0.097389057278633,0.037884846329689,0.025307964533567,-0.211797878146172,-0.085296146571636,-0.120311826467514,-0.006595863029361,-0.004645060282201,0.051928896456957,-0.069417953491211,-0.054666988551617));
res += mul(Get(s0,0,0), float4x4(0.205541312694550,0.052207216620445,0.266158699989319,0.028584979474545,-0.061576481908560,-0.038523677736521,-0.064060337841511,0.136543050408363,0.043229322880507,0.022154141217470,0.022772682830691,-0.099537484347820,-0.074471108615398,-0.052900288254023,-0.214321225881577,0.081038974225521));
res += mul(Get(s0,0,dy), float4x4(-0.121194615960121,0.118834964931011,0.128670856356621,-0.147375389933586,-0.021665956825018,-0.106500558555126,0.185971990227699,-0.010192165151238,-0.136592835187912,0.045768555253744,-0.042710807174444,-0.004995205905288,-0.067083306610584,0.117515839636326,-0.098151557147503,0.067430280148983));
res += mul(Get(s0,dx,-dy), float4x4(-0.141470223665237,0.164134055376053,-0.408379614353180,-0.032208152115345,-0.212304338812828,-0.009818454273045,0.010200306773186,-0.123275242745876,-0.117222175002098,-0.070529557764530,-0.071563117206097,-0.034729387611151,-0.026691993698478,-0.025657648220658,0.081356927752495,-0.039258662611246));
res += mul(Get(s0,dx,0), float4x4(-0.011804481968284,0.262389004230499,-0.005162644200027,-0.060950547456741,-0.095665387809277,-0.011702827177942,0.168282255530357,0.029497401788831,-0.034901540726423,0.119420766830444,-0.112099617719650,-0.068768598139286,0.006332183256745,-0.100758358836174,-0.054871454834938,0.061682198196650));
res += mul(Get(s0,dx,dy), float4x4(-0.060590118169785,-0.044897131621838,-0.124333657324314,-0.353560030460358,0.007184509187937,-0.067672275006771,-0.036185219883919,0.118302650749683,-0.130568116903305,0.112260073423386,0.121483914554119,0.068807259202003,0.043982308357954,-0.163737505674362,0.091183140873909,0.083778113126755));
res += mul(Get(s1,-dx,-dy), float4x4(0.098872058093548,0.040615979582071,-0.044960204511881,-0.004602701403201,-0.173592135310173,-0.046606931835413,0.081045359373093,-0.032487768679857,-0.063583813607693,-0.151874095201492,0.050509337335825,0.160935059189796,-0.075180746614933,0.113359451293945,-0.049951881170273,-0.049536556005478));
res += mul(Get(s1,-dx,0), float4x4(-0.071950696408749,0.142559245228767,-0.086078383028507,-0.092724747955799,0.078820198774338,0.018871011212468,-0.042778465896845,0.048487287014723,-0.027070403099060,0.099302351474762,-0.063836745917797,0.063563771545887,0.095408566296101,-0.142131671309471,-0.111371539533138,-0.046237289905548));
res += mul(Get(s1,-dx,dy), float4x4(0.161504358053207,-0.033258266746998,-0.063014417886734,-0.048311911523342,0.137489065527916,0.106202252209187,-0.139797478914261,-0.079006381332874,-0.006727453786880,0.154257163405418,-0.047229856252670,0.004091568291187,-0.138625472784042,0.103046581149101,0.030515037477016,-0.003388967365026));
res += mul(Get(s1,0,-dy), float4x4(-0.004717669915408,0.049130175262690,-0.037690084427595,-0.045178759843111,-0.058278627693653,-0.101743735373020,-0.149923622608185,0.013257952407002,0.009544778615236,0.113796822726727,-0.107316195964813,0.060902103781700,0.113980993628502,0.003932683728635,0.097228795289993,0.015613278374076));
res += mul(Get(s1,0,0), float4x4(0.003875566413626,-0.110895432531834,0.128082200884819,-0.149890407919884,0.109695494174957,0.165466427803040,-0.054240375757217,0.032035775482655,0.159317523241043,-0.154785513877869,0.068232215940952,0.032106176018715,-0.166161343455315,-0.190321207046509,-0.035892192274332,0.072130933403969));
res += mul(Get(s1,0,dy), float4x4(0.055137410759926,-0.041447188705206,0.030742770060897,0.104681178927422,0.034044362604618,-0.049447964876890,0.087247982621193,-0.044377051293850,-0.048955548554659,0.027749296277761,0.185354560613632,0.106346204876900,-0.140203133225441,-0.140163823962212,-0.094296045601368,-0.130296185612679));
res += mul(Get(s1,dx,-dy), float4x4(0.095740012824535,0.050935503095388,0.114072762429714,0.036760661751032,0.066523008048534,0.045152142643929,-0.084751121699810,0.114993751049042,-0.086901105940342,-0.046820774674416,-0.080775246024132,0.018983909860253,-0.026160197332501,-0.160512536764145,0.080250360071659,-0.165799438953400));
res += mul(Get(s1,dx,0), float4x4(-0.116035409271717,0.004806733690202,0.023238591849804,0.066685087978840,-0.070753455162048,0.005679009947926,-0.020120002329350,0.112775750458241,0.026251789182425,0.030608978122473,0.058460053056479,-0.028540039435029,0.001588979852386,0.125743597745895,0.006086668465286,-0.187477722764015));
res += mul(Get(s1,dx,dy), float4x4(-0.074003979563713,-0.127119421958923,0.025079295039177,0.014135425910354,-0.010151778347790,-0.038989629596472,0.028593271970749,-0.079037033021450,-0.175450980663300,-0.044556107372046,0.144368618726730,0.006452551577240,-0.110312953591347,0.062899313867092,0.047466058284044,-0.038292475044727));
res += mul(Get(s2,-dx,-dy), float4x4(-0.120553381741047,-0.056622430682182,-0.056914698332548,0.112550780177116,-0.094892673194408,0.047852158546448,-0.105075187981129,-0.035433970391750,0.041150026023388,-0.063066415488720,-0.086064219474792,-0.137140050530434,0.095820352435112,-0.057952132076025,-0.146874129772186,-0.183068588376045));
res += mul(Get(s2,-dx,0), float4x4(0.073290452361107,0.071149773895741,0.025255687534809,-0.084521092474461,0.036176431924105,0.187317743897438,0.035428356379271,0.116632744669914,-0.068393632769585,-0.113672494888306,0.024162538349628,0.240727812051773,-0.061798568814993,-0.137477546930313,0.175761759281158,0.039322182536125));
res += mul(Get(s2,-dx,dy), float4x4(-0.168033614754677,-0.038111958652735,0.183903977274895,0.108666829764843,-0.127281382679939,0.007429839577526,-0.142719075083733,0.075156815350056,-0.022679947316647,0.063006602227688,0.057434733957052,0.092360429465771,0.110931970179081,-0.108837246894836,0.141700565814972,-0.124585151672363));
res += mul(Get(s2,0,-dy), float4x4(0.032037217170000,0.015159953385592,-0.065946042537689,0.012769304215908,0.101498477160931,-0.073337607085705,-0.180862441658974,-0.137595653533936,-0.084190875291824,-0.025967201218009,0.039425499737263,-0.073084481060505,-0.076636396348476,0.023784272372723,0.100662976503372,0.040102131664753));
res += mul(Get(s2,0,0), float4x4(-0.020095840096474,-0.116804346442223,-0.200984984636307,0.078166395425797,0.042114473879337,-0.091509565711021,-0.102976545691490,0.029322220012546,-0.072032086551189,0.077447354793549,0.077343314886093,0.105582498013973,0.040878824889660,0.034784797579050,-0.057119727134705,0.117854498326778));
res += mul(Get(s2,0,dy), float4x4(-0.131364524364471,-0.039373379200697,-0.023574313148856,0.057367712259293,-0.012208957225084,-0.138708174228668,0.016332326456904,0.148608922958374,0.113172307610512,0.089758455753326,0.118168145418167,-0.022917937487364,-0.003693379694596,0.147507324814796,0.057667732238770,-0.026717713102698));
res += mul(Get(s2,dx,-dy), float4x4(-0.022059991955757,0.024042427539825,0.095775105059147,0.003972547594458,-0.096698373556137,-0.036390922963619,-0.039186540991068,-0.050174999982119,0.079053886234760,0.041704710572958,-0.013839026913047,-0.030681988224387,-0.033670853823423,-0.067892558872700,-0.022839603945613,-0.075026884675026));
res += mul(Get(s2,dx,0), float4x4(0.014801052398980,-0.000857978709973,0.096862107515335,0.022350436076522,0.058543875813484,0.013693670742214,0.081839308142662,0.008435502648354,-0.131856158375740,0.003929976839572,-0.137213036417961,-0.027151688933372,-0.132948219776154,0.033891219645739,-0.119139030575752,-0.074234619736671));
res += mul(Get(s2,dx,dy), float4x4(0.069094568490982,-0.078851744532585,-0.164870515465736,0.155082359910011,0.003548294538632,0.079047381877899,-0.075283274054527,-0.056417893618345,-0.128570392727852,-0.112776517868042,-0.154469206929207,-0.030035508796573,0.003245492232963,0.021960243582726,-0.174444347620010,0.297761559486389));
res += mul(Get(s3,-dx,-dy), float4x4(0.027631714940071,0.035568725317717,0.023043941706419,0.096906527876854,0.116730608046055,0.167900741100311,-0.008527433499694,-0.026329247280955,-0.129832252860069,-0.051198676228523,-0.139528840780258,-0.094419755041599,0.012271764688194,0.109928041696548,0.024407139047980,-0.063410356640816));
res += mul(Get(s3,-dx,0), float4x4(-0.247390076518059,-0.040210139006376,-0.058384057134390,0.134000554680824,0.037649966776371,-0.038863316178322,0.094021730124950,-0.045428901910782,0.061880938708782,0.067862115800381,-0.165905207395554,0.075336828827858,0.190930768847466,-0.059925995767117,-0.067230291664600,0.054447825998068));
res += mul(Get(s3,-dx,dy), float4x4(-0.072410307824612,-0.178940802812576,-0.137501671910286,-0.054266005754471,-0.021890262141824,-0.058824822306633,0.048935361206532,-0.071916677057743,0.195317447185516,-0.058077603578568,-0.083893276751041,-0.056204054504633,-0.098987720906734,-0.081370286643505,-0.082128919661045,-0.245693981647491));
res += mul(Get(s3,0,-dy), float4x4(-0.105966016650200,-0.133781939744949,0.019640631973743,0.053945053368807,-0.102756924927235,-0.063383728265762,0.101479962468147,0.057327914983034,0.058965522795916,-0.078802250325680,-0.047716155648232,0.005426690913737,0.050249494612217,-0.130246803164482,-0.097234740853310,-0.004927031695843));
res += mul(Get(s3,0,0), float4x4(0.177495345473289,-0.126286700367928,0.078801453113556,-0.052579905837774,-0.160768419504166,0.132951006293297,-0.167477846145630,0.021413121372461,-0.145482510328293,0.148335218429565,0.044061031192541,-0.058713581413031,0.016249105334282,-0.025713935494423,0.170125901699066,-0.090248882770538));
res += mul(Get(s3,0,dy), float4x4(-0.051786389201880,0.045279085636139,-0.266669988632202,-0.122387669980526,-0.011067320592701,-0.220444440841675,0.016422044485807,0.228894293308258,0.294247061014175,0.011226904578507,-0.058104664087296,0.058890383690596,-0.100296534597874,-0.076521463692188,0.097050279378891,-0.055103547871113));
res += mul(Get(s3,dx,-dy), float4x4(0.055091168731451,-0.032722990959883,0.073570631444454,-0.026266153901815,-0.099254824221134,-0.030007716268301,-0.084215432405472,-0.063401930034161,-0.090563438832760,-0.021262455731630,0.065819047391415,-0.022519240155816,0.014604522846639,0.069826252758503,0.088665239512920,0.071067050099373));
res += mul(Get(s3,dx,0), float4x4(-0.029343694448471,-0.035302046686411,0.139691993594170,-0.085918828845024,-0.035635549575090,-0.046164840459824,-0.025297027081251,-0.033758632838726,0.063708171248436,-0.055206578224897,0.018940504640341,0.092015147209167,-0.004514090251178,0.123766697943211,0.104571871459484,-0.152703091502190));
res += mul(Get(s3,dx,dy), float4x4(0.071407563984394,-0.026505673304200,0.148533418774605,0.083905614912510,-0.067923597991467,-0.014634828083217,0.082016400992870,-0.031028375029564,0.236167713999748,0.152050361037254,-0.088226422667503,0.084320031106472,0.157272800803185,-0.024689489975572,-0.050492074340582,-0.075928024947643));
return max(float4(0,0,0,0), res);
}
