sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.183951541781425,0.003638091729954,0.015799615532160,-0.101494155824184,0.177403792738914,-0.097063608467579,0.076912857592106,0.074322193861008,0.143800795078278,-0.107965216040611,0.013974877074361,-0.130892366170883,-0.111604303121567,-0.043120127171278,-0.025358330458403,0.130939990282059));
res += mul(Get(s0,-dx,0), float4x4(0.067443631589413,-0.107621870934963,0.018123263493180,0.004713846370578,-0.017366131767631,0.074550539255142,0.005508353468031,-0.030411470681429,0.087237298488617,-0.032604485750198,-0.044586993753910,0.041705951094627,0.002316170837730,0.141372740268707,0.045926377177238,-0.024941738694906));
res += mul(Get(s0,-dx,dy), float4x4(0.051040694117546,0.149254038929939,-0.033507972955704,-0.027885034680367,0.038742039352655,0.063555188477039,0.081334173679352,-0.097600415349007,0.140220358967781,-0.131989002227783,0.038069836795330,0.040075503289700,-0.040262695401907,-0.025137154385448,-0.065497256815434,0.034674067050219));
res += mul(Get(s0,0,-dy), float4x4(-0.015891205519438,-0.037004068493843,0.005421906709671,-0.082813858985901,-0.036171041429043,-0.041415229439735,0.066316671669483,-0.114756740629673,0.146220222115517,-0.100644685328007,0.388553172349930,0.064774960279465,0.092184126377106,0.060379575937986,-0.054871581494808,0.084135569632053));
res += mul(Get(s0,0,0), float4x4(-0.025512555614114,-0.094413645565510,-0.047590032219887,-0.012888492085040,0.059470131993294,0.056559093296528,-0.000107345462311,0.134501501917839,0.146932631731033,-0.048557981848717,0.039281554520130,-0.112508207559586,0.028033614158630,0.045496352016926,-0.031023468822241,-0.002028889022768));
res += mul(Get(s0,0,dy), float4x4(0.156527668237686,-0.078712843358517,0.141570091247559,-0.046246327459812,0.007298701908439,0.027201563119888,-0.094478189945221,-0.082946814596653,-0.013082688674331,-0.059517636895180,-0.129655554890633,0.049349062144756,-0.020574605092406,-0.031538993120193,0.077832177281380,-0.073986761271954));
res += mul(Get(s0,dx,-dy), float4x4(0.007217614445835,0.001724479836412,-0.072855204343796,-0.037958815693855,-0.096062384545803,0.042351666837931,0.088656581938267,0.187696143984795,-0.077916480600834,0.005537442862988,0.128537192940712,-0.088766023516655,0.006807726807892,-0.014033012092113,-0.032350625842810,0.015636110678315));
res += mul(Get(s0,dx,0), float4x4(-0.031692311167717,-0.066400252282619,-0.128718793392181,0.020000092685223,0.112934269011021,-0.071432515978813,0.094089962542057,-0.008903447538614,-0.009797316044569,-0.017161281779408,0.074646167457104,-0.088869899511337,-0.048512715846300,-0.096125483512878,-0.031818687915802,0.053641032427549));
res += mul(Get(s0,dx,dy), float4x4(0.059533864259720,0.006644170265645,0.084453307092190,0.014103909023106,-0.094189360737801,-0.028526963666081,-0.079259790480137,-0.004578376654536,-0.196650743484497,-0.058826241642237,-0.027628052979708,0.066147401928902,0.095358647406101,-0.189851313829422,0.200127661228180,0.026096649467945));
res += mul(Get(s1,-dx,-dy), float4x4(-0.117104813456535,-0.043364010751247,0.034644659608603,0.165019303560257,0.085493259131908,-0.023371148854494,-0.004708074033260,-0.010958394967020,0.002634703880176,-0.006775303278118,-0.003558703931049,0.028792450204492,-0.060393624007702,-0.002396185882390,-0.185567572712898,0.020479345694184));
res += mul(Get(s1,-dx,0), float4x4(0.115466214716434,-0.054981406778097,0.016171846538782,-0.047986872494221,-0.010687164030969,-0.076732292771339,-0.000380571262212,0.092783510684967,-0.051076866686344,-0.088770568370819,-0.057241287082434,0.019004924222827,-0.015863850712776,0.053562156856060,0.055408570915461,-0.002879196079448));
res += mul(Get(s1,-dx,dy), float4x4(0.061717085540295,-0.155191227793694,0.089508436620235,-0.073957391083241,0.051576197147369,-0.036577861756086,0.005381547380239,-0.129764825105667,0.008563157171011,-0.024931687861681,-0.121977940201759,0.011386105790734,0.146073967218399,0.032078985124826,-0.013057346455753,0.067950621247292));
res += mul(Get(s1,0,-dy), float4x4(-0.037343770265579,0.125565901398659,-0.192089617252350,0.068711444735527,0.098998196423054,-0.037859406322241,0.066556863486767,0.066179811954498,-0.100794531404972,0.093821406364441,-0.066847100853920,0.006181217264384,-0.104965001344681,0.099191501736641,0.005240687634796,0.025061080232263));
res += mul(Get(s1,0,0), float4x4(-0.195070579648018,0.006191911641508,-0.041529145091772,-0.159636139869690,-0.059584017843008,-0.064923137426376,0.016119357198477,-0.017176913097501,-0.021341495215893,-0.011026241816580,-0.092088662087917,0.167209252715111,0.089491710066795,-0.028532302007079,0.075018979609013,-0.014839858748019));
res += mul(Get(s1,0,dy), float4x4(0.005637646652758,-0.086415126919746,0.045576013624668,0.128602087497711,-0.058307964354753,-0.025012060999870,0.080884464085102,0.176332816481590,0.030504293739796,-0.082941986620426,0.033029038459063,-0.014410351403058,0.060311377048492,-0.058077279478312,0.069992400705814,0.014392835088074));
res += mul(Get(s1,dx,-dy), float4x4(0.083296351134777,-0.160349562764168,-0.045199401676655,0.000756026944146,-0.116931550204754,-0.043088816106319,0.027100227773190,0.115233436226845,-0.057181343436241,0.059204131364822,0.010220617055893,-0.126739695668221,-0.062961556017399,0.028463829308748,-0.001033057109453,-0.115398466587067));
res += mul(Get(s1,dx,0), float4x4(-0.005372389685363,0.004031328950077,0.002570495242253,0.159261107444763,-0.080898746848106,-0.005598397925496,0.108758784830570,-0.022812847048044,-0.110177218914032,0.027919700369239,-0.156357675790787,0.016252843663096,0.107403494417667,0.032975763082504,-0.028659779578447,0.014560502022505));
res += mul(Get(s1,dx,dy), float4x4(0.129911318421364,0.015417510643601,-0.015777042135596,0.108576297760010,0.009355756454170,-0.047095209360123,0.081055015325546,0.012345542199910,0.034748785197735,-0.033185329288244,-0.077663898468018,-0.072105690836906,0.081170059740543,0.040082648396492,-0.012002551928163,0.079134337604046));
res += mul(Get(s2,-dx,-dy), float4x4(-0.230892911553383,-0.022781100124121,0.156280428171158,-0.228583395481110,-0.006818646565080,-0.047926045954227,-0.068603061139584,-0.048602379858494,0.038520425558090,0.014078816398978,0.014233122579753,0.014358758926392,0.081122919917107,-0.017942832782865,-0.106831356883049,0.060760602355003));
res += mul(Get(s2,-dx,0), float4x4(-0.118712142109871,-0.007342121563852,0.030318960547447,0.029378149658442,-0.036665618419647,0.123288162052631,-0.043696813285351,0.084742724895477,-0.036594823002815,-0.066688016057014,-0.106832511723042,0.026676535606384,0.010276770219207,0.067671917378902,0.057492289692163,0.075788795948029));
res += mul(Get(s2,-dx,dy), float4x4(0.020389338955283,-0.004911456722766,0.055589459836483,0.010302349925041,0.011116332374513,-0.123576149344444,-0.061644010245800,0.086202904582024,-0.064981713891029,0.030720151960850,0.013095360249281,-0.063963763415813,-0.161818310618401,-0.199502930045128,0.031620241701603,-0.039948657155037));
res += mul(Get(s2,0,-dy), float4x4(-0.151119291782379,-0.012724529951811,-0.123602814972401,-0.017037153244019,-0.024609174579382,0.088774934411049,-0.069290861487389,-0.100910797715187,-0.116152651607990,-0.078638933598995,0.070177763700485,0.019967993721366,0.014265294186771,-0.025205627083778,0.025855988264084,0.062012165784836));
res += mul(Get(s2,0,0), float4x4(-0.101569980382919,-0.003218591213226,-0.020801546052098,-0.112574294209480,-0.103439159691334,-0.028073631227016,0.075145848095417,-0.017080411314964,-0.105723150074482,-0.151099607348442,-0.077624604105949,-0.098319292068481,-0.044394016265869,-0.055194158107042,0.027325393632054,0.035542201250792));
res += mul(Get(s2,0,dy), float4x4(0.046323485672474,0.011797995306551,-0.033149942755699,0.090048089623451,0.050164874643087,-0.065920121967793,0.042143009603024,0.070369817316532,0.008350665681064,-0.163274839520454,-0.007318620104343,0.054509181529284,0.087145477533340,-0.061374366283417,-0.033138673752546,-0.155125141143799));
res += mul(Get(s2,dx,-dy), float4x4(-0.163039177656174,-0.049914505332708,-0.140076562762260,0.050870671868324,-0.192387521266937,-0.028695745393634,-0.045624759048223,0.042498648166656,0.107116907835007,-0.104208797216415,-0.109533160924911,-0.149086847901344,0.011601036414504,0.039710350334644,0.187032386660576,0.024822682142258));
res += mul(Get(s2,dx,0), float4x4(0.072469353675842,-0.001778512843885,-0.085671074688435,-0.100626245141029,-0.012988306581974,-0.006191674619913,-0.089606747031212,0.020673243328929,-0.098181337118149,0.099585071206093,-0.052528120577335,-0.028074514120817,0.038862366229296,0.097757779061794,0.108313351869583,-0.073975734412670));
res += mul(Get(s2,dx,dy), float4x4(0.185874894261360,-0.054898213595152,-0.075197629630566,0.042190827429295,-0.001339406822808,-0.049080550670624,-0.011028014123440,0.090266376733780,0.109144002199173,0.061037417501211,0.002300656866282,-0.051711987704039,0.036567728966475,-0.002565131755546,0.093369551002979,-0.089099451899529));
res += mul(Get(s3,-dx,-dy), float4x4(0.015980944037437,-0.021512357518077,0.000234012724832,0.027368439361453,0.054487150162458,-0.024977792054415,-0.044895406812429,0.013494195416570,-0.144721791148186,-0.061203952878714,0.042821012437344,-0.014464511536062,-0.059151731431484,-0.024968713521957,-0.047782231122255,0.099409833550453));
res += mul(Get(s3,-dx,0), float4x4(-0.061312850564718,-0.156340807676315,0.122076444327831,0.026998395100236,0.218362420797348,0.165659144520760,0.150825396180153,-0.034380782395601,0.053984504193068,-0.161972835659981,-0.200165435671806,0.099900439381599,0.017307981848717,0.040909245610237,-0.078399181365967,-0.127927109599113));
res += mul(Get(s3,-dx,dy), float4x4(0.118028782308102,-0.036272540688515,0.173345014452934,0.042673371732235,0.032438557595015,-0.058110054582357,0.174334123730659,-0.003343826392666,0.049845289438963,0.044202428311110,-0.051946073770523,0.003055652137846,-0.220660120248795,0.070099152624607,0.092045307159424,0.018655089661479));
res += mul(Get(s3,0,-dy), float4x4(-0.028302650898695,0.008545672520995,0.045850332826376,-0.113189026713371,-0.070145115256310,-0.046179469674826,-0.055369939655066,0.022100694477558,-0.036032911390066,0.091832168400288,0.052545525133610,0.038487751036882,-0.231993243098259,-0.024381704628468,0.064678199589252,0.121980227530003));
res += mul(Get(s3,0,0), float4x4(0.057889275252819,-0.012200394645333,0.071890190243721,-0.032411321997643,0.073585540056229,0.002490138635039,-0.102694891393185,0.004551082383841,0.002934694290161,0.010041215457022,-0.058045551180840,-0.084306441247463,-0.047383107244968,0.021792769432068,0.111361570656300,-0.049765981733799));
res += mul(Get(s3,0,dy), float4x4(0.038516178727150,0.028075389564037,0.112599581480026,0.146995246410370,-0.081046886742115,0.028139559552073,-0.062866047024727,-0.078835360705853,-0.029630856588483,0.088899031281471,-0.198139578104019,-0.077602013945580,-0.007388330064714,-0.005666802171618,-0.014204592444003,-0.052745897322893));
res += mul(Get(s3,dx,-dy), float4x4(0.022107781842351,-0.107878826558590,-0.031957194209099,-0.070679135620594,-0.094478465616703,0.038340616971254,0.023635642603040,-0.112268038094044,-0.032442942261696,-0.043411888182163,0.030772248283029,-0.096028588712215,-0.179047495126724,-0.028834598138928,0.117988765239716,0.127922222018242));
res += mul(Get(s3,dx,0), float4x4(0.056461617350578,-0.098887220025063,0.125448733568192,-0.057145092636347,0.109331563115120,-0.088230229914188,-0.087546616792679,-0.026403134688735,0.085440829396248,-0.092739753425121,-0.019591003656387,-0.081739000976086,-0.112299382686615,0.205757290124893,0.110227808356285,-0.070140592753887));
res += mul(Get(s3,dx,dy), float4x4(0.023954674601555,0.013024704530835,0.062951564788818,0.048936650156975,0.109418280422688,0.040835630148649,-0.042095415294170,-0.064448565244675,0.074821077287197,0.089113011956215,-0.086720071732998,-0.124654918909073,-0.052677575498819,0.027655608952045,-0.060514986515045,-0.057256195694208));
return max(float4(0,0,0,0), res);
}
