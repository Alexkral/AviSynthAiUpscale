sampler s0 : register(s0);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(x, y)   tex2D(s0, tex + float2(x, y))[0]

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += float4(-0.046824384480715,0.029131079092622,-0.085814073681831,-0.125651478767395) * Get(-dx,-dy);
res += float4(0.014957088045776,-0.057001717388630,-0.167552113533020,0.260235041379929) * Get(-dx,0);
res += float4(-0.233823463320732,-0.011683203279972,-0.005238682962954,0.053226362913847) * Get(-dx,dy);
res += float4(-0.004666395951062,0.014278573915362,0.253028810024261,-0.010846015065908) * Get(0,-dy);
res += float4(-0.042108792811632,-0.004160281270742,-0.083399035036564,-0.163508236408234) * Get(0,0);
res += float4(-0.079340651631355,-0.191774889826775,0.069373987615108,-0.006369718350470) * Get(0,dy);
res += float4(0.146635174751282,0.001618400914595,-0.008973073214293,-0.064680449664593) * Get(dx,-dy);
res += float4(-0.012564954347908,-0.091978408396244,-0.146238267421722,-0.100858606398106) * Get(dx,0);
res += float4(-0.120672799646854,0.023518491536379,-0.115549810230732,-0.055284846574068) * Get(dx,dy);
return max(float4(0,0,0,0), res);
}
