sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.053770903497934,0.018944926559925,-0.047852873802185,-0.087316140532494,-0.023916998878121,0.037360012531281,-0.149780750274658,-0.042629580944777,-0.019440373405814,-0.011560336686671,-0.116238243877888,-0.096948862075806,-0.082785025238991,0.089760512113571,0.047333780676126,-0.038535498082638));
res += mul(Get(s0,-dx,0), float4x4(-0.040986154228449,0.057582765817642,-0.133930772542953,-0.116551719605923,-0.130271345376968,0.000444266013801,-0.058263689279556,0.113422840833664,-0.060473244637251,0.046935968101025,0.264249414205551,-0.014547973871231,0.109880879521370,0.106579869985580,0.079480856657028,-0.037285953760147));
res += mul(Get(s0,-dx,dy), float4x4(-0.069578588008881,0.001172048156150,0.152837693691254,0.048995416611433,0.048207968473434,-0.021683897823095,0.026971226558089,-0.120321564376354,0.051080983132124,0.001154800178483,-0.058885954320431,0.089583829045296,0.067205183207989,0.021803880110383,-0.122784383594990,-0.004107209388167));
res += mul(Get(s0,0,-dy), float4x4(-0.059999782592058,-0.049613516777754,0.066072732210159,-0.010412580333650,-0.046243276447058,-0.080911204218864,-0.095953926444054,-0.008361700922251,-0.091525331139565,0.006785632576793,-0.050212193280458,-0.087080515921116,0.031013123691082,0.110178500413895,0.148095428943634,-0.021338092163205));
res += mul(Get(s0,0,0), float4x4(0.116810508072376,0.037738196551800,-0.065803565084934,0.101375810801983,0.001757572288625,-0.093619808554649,0.211836725473404,-0.076437786221504,0.121165364980698,-0.074934050440788,0.094634115695953,-0.013336253352463,0.054284326732159,0.007740665227175,-0.098330564796925,-0.271198600530624));
res += mul(Get(s0,0,dy), float4x4(-0.068766340613365,-0.162598639726639,0.081874392926693,-0.031955420970917,-0.063684269785881,-0.025729987770319,0.041391924023628,-0.063285320997238,-0.042090289294720,0.049761842936277,-0.134218290448189,-0.099448233842850,0.021682523190975,-0.087719768285751,-0.062322523444891,-0.024825802072883));
res += mul(Get(s0,dx,-dy), float4x4(-0.050223302096128,0.079192668199539,0.000735245761462,-0.064885757863522,0.107119567692280,0.000554830650799,-0.069480150938034,-0.045068629086018,0.049244210124016,0.003738401923329,0.158492445945740,0.021662335842848,-0.136425048112869,-0.016438134014606,-0.109770745038986,-0.045886348932981));
res += mul(Get(s0,dx,0), float4x4(-0.095929175615311,0.184077262878418,-0.179156899452209,0.159659743309021,0.082868196070194,-0.007530287839472,-0.034859493374825,-0.016735417768359,-0.047968011349440,-0.110486611723900,-0.053383551537991,-0.084707595407963,-0.237746596336365,-0.032079428434372,-0.082833945751190,0.021413018926978));
res += mul(Get(s0,dx,dy), float4x4(-0.019597373902798,-0.017790898680687,-0.066997930407524,0.141892448067665,0.076145075261593,0.041197601705790,0.111878067255020,0.086399517953396,-0.008568629622459,-0.045925687998533,-0.005851862020791,-0.062774792313576,-0.002367613604292,-0.045786965638399,-0.064602069556713,0.059639595448971));
res += mul(Get(s1,-dx,-dy), float4x4(0.125786915421486,-0.050499018281698,-0.128275021910667,-0.089041456580162,-0.008263733237982,0.114233061671257,-0.028141109272838,0.032821692526340,-0.085595168173313,0.086343735456467,0.012831819243729,-0.062781676650047,0.034000620245934,0.177271410822868,0.016040252521634,-0.092274822294712));
res += mul(Get(s1,-dx,0), float4x4(-0.102171182632446,-0.049483444541693,-0.060747876763344,0.094088248908520,0.020462172105908,-0.015716852620244,-0.116007193922997,0.120924107730389,0.043183740228415,0.053521420806646,-0.236948817968369,-0.193491965532303,0.032213751226664,0.019103856757283,0.183176890015602,-0.025650858879089));
res += mul(Get(s1,-dx,dy), float4x4(-0.037866350263357,0.064302772283554,0.091301642358303,0.097914114594460,-0.084045492112637,-0.109011642634869,0.006016287021339,0.170518919825554,0.044290840625763,0.073466785252094,-0.046973325312138,-0.110059209167957,0.058169320225716,0.063711225986481,0.047163143754005,-0.036538202315569));
res += mul(Get(s1,0,-dy), float4x4(0.013210862874985,0.086601391434669,-0.110956162214279,-0.103265516459942,0.100792318582535,-0.207974955439568,0.101781070232391,-0.225161865353584,0.038834214210510,-0.105080790817738,0.098094418644905,-0.089050009846687,0.061433136463165,0.047446340322495,-0.055800773203373,0.072585783898830));
res += mul(Get(s1,0,0), float4x4(0.087567076086998,-0.056958284229040,0.081986993551254,0.143220514059067,0.010500839911401,0.105300709605217,-0.048305161297321,0.065752111375332,0.112181365489960,0.071882046759129,-0.117220364511013,-0.032006043940783,0.097456239163876,0.071582764387131,-0.099726974964142,0.014262916520238));
res += mul(Get(s1,0,dy), float4x4(-0.070789188146591,0.082433074712753,-0.134705990552902,-0.062909632921219,-0.019569084048271,0.055159535259008,0.017868226394057,0.026404701173306,0.018739407882094,0.025841757655144,0.057647075504065,0.072830617427826,0.042049314826727,-0.120742507278919,-0.001508933026344,-0.106836177408695));
res += mul(Get(s1,dx,-dy), float4x4(-0.008543491363525,0.171645358204842,-0.020771551877260,0.108237430453300,-0.089579567313194,-0.128580302000046,-0.045854255557060,-0.078400187194347,0.029548957943916,-0.103464126586914,0.016394184902310,-0.068636439740658,0.065165035426617,-0.043224222958088,-0.034161832183599,0.033715408295393));
res += mul(Get(s1,dx,0), float4x4(-0.018854081630707,-0.168956115841866,-0.007078645750880,0.009254602715373,0.079606354236603,0.017696328461170,0.100176267325878,0.052197773009539,0.023905321955681,0.040360223501921,0.147973462939262,0.140360802412033,-0.037865571677685,-0.005227485205978,-0.006592040881515,-0.004699201323092));
res += mul(Get(s1,dx,dy), float4x4(-0.069712087512016,0.150733113288879,0.022257221862674,-0.021429669111967,0.029473733156919,0.100893631577492,-0.011251742951572,0.035363178700209,0.014653234742582,-0.255753606557846,0.046923965215683,0.352393537759781,0.006727311294526,0.017549917101860,0.217582836747169,-0.077234096825123));
res += mul(Get(s2,-dx,-dy), float4x4(-0.106354065239429,0.037577763199806,-0.095514826476574,-0.045531608164310,0.046406168490648,0.127287000417709,-0.088756367564201,-0.001818110351451,0.033659178763628,-0.136018380522728,0.214437261223793,-0.047252032905817,-0.097098611295223,0.088833704590797,0.061067104339600,-0.131597787141800));
res += mul(Get(s2,-dx,0), float4x4(-0.017938934266567,0.136569961905479,-0.067133918404579,-0.136650443077087,-0.041536834090948,-0.025156414136291,-0.137316986918449,-0.005414986982942,0.090438798069954,0.006633417680860,0.060372803360224,0.117715835571289,0.039641335606575,0.075702063739300,0.031897727400064,-0.049072220921516));
res += mul(Get(s2,-dx,dy), float4x4(-0.083364568650723,0.015010878443718,0.145903319120407,-0.134596675634384,-0.036363188177347,-0.167986944317818,-0.225063234567642,-0.010790213942528,-0.172993734478951,0.005044490098953,0.124805755913258,-0.178363040089607,0.025680905207992,0.110106341540813,0.020881010219455,0.075575098395348));
res += mul(Get(s2,0,-dy), float4x4(0.180710211396217,0.010088512673974,-0.093512713909149,-0.021487202495337,-0.047645255923271,0.121743887662888,0.021562648937106,-0.093975931406021,0.079456232488155,-0.161000475287437,0.012077934108675,0.100024014711380,0.128284603357315,-0.067759379744530,0.075908876955509,0.142448052763939));
res += mul(Get(s2,0,0), float4x4(0.003346373559907,-0.010427000932395,0.083610013127327,0.131058588624001,-0.082596920430660,-0.020327506586909,-0.060566283762455,0.135894238948822,0.074006319046021,0.024453742429614,0.068836204707623,-0.055964779108763,0.010665444657207,-0.046379618346691,-0.119833074510098,0.157075822353363));
res += mul(Get(s2,0,dy), float4x4(0.054343700408936,0.027086691930890,-0.010477385483682,-0.003579090116546,0.111536584794521,-0.000887029804289,0.181951060891151,-0.048569779843092,0.144940853118896,0.105310648679733,-0.084030210971832,0.049793370068073,-0.061183862388134,0.203175455331802,0.035150460898876,-0.023436741903424));
res += mul(Get(s2,dx,-dy), float4x4(-0.103127658367157,-0.035051234066486,0.114300131797791,-0.031406771391630,-0.051502212882042,-0.003548590233549,0.175318494439125,-0.116080678999424,0.002690587425604,-0.058388281613588,-0.018583877012134,0.068588972091675,-0.081524692475796,0.018069257959723,0.084190756082535,0.060199696570635));
res += mul(Get(s2,dx,0), float4x4(-0.042796514928341,-0.162929490208626,0.028618570417166,-0.107337169349194,-0.102134600281715,0.152801245450974,-0.136513203382492,-0.037094976752996,-0.145164281129837,0.048993531614542,-0.119842864573002,0.060931302607059,0.076240956783295,-0.004855194594711,0.027639884501696,0.013634419068694));
res += mul(Get(s2,dx,dy), float4x4(0.067052982747555,0.236900866031647,-0.054609756916761,0.169117078185081,0.046532515436411,0.078248418867588,-0.012293502688408,0.030697438865900,0.116312868893147,0.059091683477163,0.088588997721672,-0.017096934840083,0.013452956452966,0.048235103487968,0.089331544935703,-0.142687320709229));
res += mul(Get(s3,-dx,-dy), float4x4(-0.024111453443766,0.033925615251064,0.068131685256958,0.013571608811617,0.013930558227003,-0.060916788876057,-0.095134787261486,-0.049676209688187,0.213392734527588,-0.044599611312151,0.013401975855231,-0.177010774612427,-0.060098025947809,-0.057862468063831,-0.081151783466339,0.119211077690125));
res += mul(Get(s3,-dx,0), float4x4(0.013785387389362,-0.098332926630974,-0.169729173183441,-0.054826103150845,0.044944748282433,0.106421947479248,-0.026571638882160,0.031487256288528,0.191484853625298,-0.185649394989014,0.061146363615990,-0.030830210074782,-0.000368547684047,-0.054013282060623,0.067017734050751,-0.004898841027170));
res += mul(Get(s3,-dx,dy), float4x4(-0.033038582652807,-0.047239884734154,-0.065104477107525,0.011614810675383,-0.176647529006004,-0.001910067512654,-0.023629402741790,0.015641355887055,-0.013304372318089,-0.006766292732209,-0.054666552692652,0.079143181443214,-0.024352865293622,0.206357136368752,0.021758673712611,-0.095579512417316));
res += mul(Get(s3,0,-dy), float4x4(-0.126193970441818,-0.087130308151245,0.048678148537874,0.018028428778052,0.152424767613411,-0.064486019313335,-0.119334578514099,-0.106234341859818,-0.133681222796440,-0.096235834062099,0.126086100935936,0.007626800332218,-0.072466671466827,-0.018292073160410,0.028659248724580,-0.014579661190510));
res += mul(Get(s3,0,0), float4x4(0.088261760771275,-0.009712600149214,-0.033812139183283,-0.100637234747410,-0.070346392691135,0.082208253443241,-0.036550674587488,0.086179211735725,-0.007832950912416,-0.083904303610325,-0.146071314811707,0.074574321508408,-0.015601746737957,-0.229192435741425,0.115437410771847,-0.110644608736038));
res += mul(Get(s3,0,dy), float4x4(0.029528230428696,-0.014920006506145,-0.166520610451698,0.039226233959198,0.034125369042158,-0.051693119108677,0.117050141096115,0.072760365903378,0.074675805866718,-0.005143245216459,-0.064637571573257,0.103623174130917,-0.069619983434677,0.014705992303789,-0.017115246504545,0.034359067678452));
res += mul(Get(s3,dx,-dy), float4x4(0.099469058215618,0.083317540585995,0.093536533415318,0.166759431362152,0.001669271034189,-0.131757438182831,-0.090539999306202,0.091957025229931,-0.139143183827400,-0.092723183333874,0.016487553715706,-0.043955147266388,-0.044012390077114,-0.034443650394678,-0.182340860366821,0.123704604804516));
res += mul(Get(s3,dx,0), float4x4(-0.030453560873866,-0.036025602370501,-0.026582425460219,-0.101293079555035,-0.029042890295386,0.020704703405499,0.065107315778732,0.015377019532025,-0.018600432202220,0.034495212137699,0.039423484355211,-0.224533647298813,0.057407218962908,0.001942148082890,-0.104850187897682,0.047703839838505));
res += mul(Get(s3,dx,dy), float4x4(-0.136518001556396,-0.094724282622337,0.097108341753483,0.104830875992775,-0.130402997136116,0.063659831881523,0.127046048641205,-0.066873639822006,0.015413268469274,-0.094658374786377,0.057676337659359,0.021016789600253,-0.056549489498138,-0.019754102453589,0.034037988632917,0.060958225280046));
return max(float4(0,0,0,0), res);
}
