sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.029935304075480,0.010122319683433,-0.114219047129154,-0.032498612999916,-0.081991031765938,0.103958174586296,-0.176250725984573,0.074556022882462,0.206063762307167,-0.079432711005211,-0.004947667010128,-0.069967195391655,-0.064077898859978,0.152446806430817,-0.291021436452866,0.099040463566780));
res += mul(Get(s0,-dx,0), float4x4(0.159181833267212,-0.092340610921383,-0.062481321394444,0.080558456480503,-0.082533635199070,0.026466278359294,-0.288003623485565,0.014916313812137,0.045787543058395,-0.120159648358822,-0.035779479891062,-0.041045799851418,-0.108727522194386,-0.016094254329801,-0.145653516054153,-0.068818122148514));
res += mul(Get(s0,-dx,dy), float4x4(0.126393392682076,0.033431142568588,0.087860219180584,0.044612891972065,0.129198312759399,-0.033909410238266,0.125946193933487,0.057479877024889,0.112213991582394,-0.097246572375298,-0.041836645454168,-0.154401406645775,-0.063227966427803,0.216360643506050,0.385678648948669,-0.275831282138824));
res += mul(Get(s0,0,-dy), float4x4(-0.116660989820957,-0.134311929345131,-0.067732848227024,0.059371910989285,-0.046014815568924,-0.038833387196064,-0.024482535198331,-0.103260263800621,0.137916162610054,-0.004053537268192,0.024892946705222,-0.079486928880215,-0.177980229258537,-0.061684425920248,-0.022493807598948,0.048094060271978));
res += mul(Get(s0,0,0), float4x4(0.258872359991074,-0.039613127708435,-0.119384273886681,0.113658830523491,-0.098922058939934,-0.026108849793673,-0.042819302529097,-0.019607780501246,-0.036573380231857,0.061484828591347,0.106732204556465,-0.035957816988230,-0.089228525757790,-0.075868539512157,-0.022131562232971,-0.047390151768923));
res += mul(Get(s0,0,dy), float4x4(0.037011828273535,-0.096044577658176,0.023021722212434,-0.042769510298967,-0.008739435113966,-0.008341803215444,-0.037367500364780,0.061388812959194,0.198880136013031,-0.095715269446373,-0.046822130680084,-0.040463242679834,0.004756061360240,-0.165861919522285,0.109338536858559,-0.048401903361082));
res += mul(Get(s0,dx,-dy), float4x4(-0.154170662164688,0.361733824014664,0.093610040843487,0.077136658132076,-0.045104376971722,0.030938180163503,-0.068777874112129,-0.127250894904137,-0.033041059970856,0.305136889219284,-0.050870086997747,-0.169239372014999,-0.214680865406990,-0.083551742136478,0.021760007366538,0.031405203044415));
res += mul(Get(s0,dx,0), float4x4(0.140611335635185,-0.072607800364494,-0.019861197099090,0.123933583498001,0.019461441785097,0.057447496801615,0.008273833431304,-0.045952305197716,0.045700248330832,-0.014388150535524,-0.022308034822345,-0.183826968073845,-0.144232168793678,-0.066138803958893,0.039178829640150,0.032421577721834));
res += mul(Get(s0,dx,dy), float4x4(0.052734546363354,-0.061744652688503,0.024738041684031,-0.214296922087669,0.094796001911163,0.092877268791199,-0.101381897926331,0.131344422698021,0.142296060919762,-0.076854832470417,-0.050425291061401,-0.089499630033970,-0.035277366638184,-0.188580170273781,0.116244398057461,-0.072564780712128));
res += mul(Get(s1,-dx,-dy), float4x4(-0.009419887326658,-0.054331339895725,0.059247933328152,-0.101743750274181,-0.114703536033630,0.470210403203964,-0.017285238951445,-0.106515742838383,-0.090581804513931,0.121285267174244,-0.096952132880688,-0.017072152346373,0.036816105246544,-0.014539543539286,0.033693578094244,0.032732505351305));
res += mul(Get(s1,-dx,0), float4x4(0.030205491930246,0.224093839526176,0.272275567054749,0.023293089121580,-0.059220813214779,0.025143979117274,-0.121808983385563,-0.070310257375240,-0.015584841370583,0.144290462136269,0.036790516227484,-0.111673146486282,-0.155444666743279,-0.083141401410103,-0.112716004252434,-0.046797659248114));
res += mul(Get(s1,-dx,dy), float4x4(0.032510515302420,0.086926601827145,0.102905973792076,-0.035778507590294,-0.020451959222555,0.017923908308148,-0.026372339576483,0.207839637994766,-0.026574276387691,-0.106242522597313,-0.014015710912645,-0.062209114432335,-0.089514620602131,-0.196325749158859,0.492897987365723,-0.150994479656219));
res += mul(Get(s1,0,-dy), float4x4(-0.043928291648626,-0.055583413690329,-0.114576093852520,-0.060173533856869,-0.230292558670044,-0.012614324688911,-0.082263089716434,-0.091471388936043,-0.122251167893410,0.128264859318733,-0.084686562418938,-0.024725271388888,-0.037940625101328,-0.037436313927174,0.045503664761782,0.024223908782005));
res += mul(Get(s1,0,0), float4x4(-0.001502537052147,0.177371948957443,0.010216835886240,-0.075378589332104,0.024332888424397,-0.058047939091921,0.138259172439575,0.017331136390567,-0.002369550755247,-0.086963430047035,0.038199089467525,0.044109057635069,-0.144398048520088,-0.113662280142307,-0.076340585947037,-0.053748197853565));
res += mul(Get(s1,0,dy), float4x4(0.047359287738800,-0.145079270005226,0.024117358028889,-0.056380324065685,0.002467029029503,0.001205900683999,-0.021776264533401,0.210600048303604,-0.000733018910978,-0.015515021979809,0.057978179305792,0.034992989152670,-0.049834035336971,-0.135098680853844,-0.155135333538055,-0.052004743367434));
res += mul(Get(s1,dx,-dy), float4x4(0.122479438781738,0.070844329893589,0.172849968075752,-0.176984652876854,-0.136496067047119,-0.072578787803650,-0.124810799956322,-0.062615387141705,0.134496018290520,-0.057285025715828,0.000470762111945,-0.088271208107471,0.355979740619659,-0.082703217864037,-0.028942054137588,-0.025428878143430));
res += mul(Get(s1,dx,0), float4x4(0.188679069280624,0.134344413876534,0.127371430397034,-0.007313210517168,-0.093809053301811,-0.161939248442650,-0.008674689568579,-0.043013639748096,0.172611266374588,0.006419913843274,0.014419729821384,-0.038579005748034,-0.063013583421707,-0.081514991819859,-0.006553134415299,-0.126614198088646));
res += mul(Get(s1,dx,dy), float4x4(0.143900960683823,-0.018440760672092,-0.029958276078105,-0.081679157912731,-0.084454111754894,-0.065793134272099,-0.117283977568150,0.054609619081020,0.183674499392509,0.088540509343147,0.065375767648220,-0.078199997544289,0.155601844191551,-0.052106689661741,-0.154263764619827,-0.022417278960347));
res += mul(Get(s2,-dx,-dy), float4x4(-0.189717069268227,-0.086011841893196,-0.193484932184219,-0.070171438157558,-0.028966721147299,-0.093351110816002,-0.074304029345512,-0.226723328232765,-0.115223236382008,-0.125529676675797,0.101653747260571,0.045946836471558,-0.133429452776909,-0.035498254001141,-0.045284837484360,0.216035544872284));
res += mul(Get(s2,-dx,0), float4x4(-0.084541551768780,-0.135621130466461,-0.086805820465088,-0.021944688633084,-0.167670041322708,-0.070291317999363,-0.178887337446213,0.067332297563553,0.430520713329315,0.116233333945274,-0.105265714228153,0.202926263213158,-0.176272913813591,-0.029243281111121,-0.102458074688911,0.024199629202485));
res += mul(Get(s2,-dx,dy), float4x4(-0.157370939850807,-0.089035950601101,-0.154254555702209,-0.010580606758595,0.449007689952850,-0.097873672842979,0.025872442871332,0.018432665616274,-0.090915776789188,-0.181234270334244,-0.078144013881683,0.099181212484837,-0.162604361772537,-0.069125093519688,-0.037491522729397,-0.011117010377347));
res += mul(Get(s2,0,-dy), float4x4(-0.232750520110130,0.058061536401510,-0.198250845074654,-0.215289950370789,-0.039910133928061,-0.051163163036108,-0.048605799674988,-0.165689542889595,-0.025364650413394,0.044957187026739,0.041285563260317,-0.028830885887146,-0.028566185384989,0.031598042696714,-0.101773120462894,0.013578007929027));
res += mul(Get(s2,0,0), float4x4(0.013432838022709,-0.016049018129706,-0.260321885347366,-0.145855635404587,0.016394866630435,-0.092263653874397,-0.020908394828439,0.154977172613144,0.265842825174332,-0.071478202939034,-0.134450823068619,-0.005476803518832,-0.092268221080303,-0.034723911434412,-0.109249562025070,-0.024122981354594));
res += mul(Get(s2,0,dy), float4x4(-0.196969732642174,-0.098981261253357,-0.182969406247139,-0.145849555730820,-0.157298892736435,-0.010704826563597,-0.070242397487164,0.082162141799927,0.094211183488369,-0.183601260185242,-0.097072795033455,-0.102892309427261,-0.111974366009235,-0.013732831925154,-0.169839188456535,-0.080744899809361));
res += mul(Get(s2,dx,-dy), float4x4(-0.407709687948227,0.047593224793673,0.214873865246773,0.006573414895684,-0.088398523628712,-0.071905948221684,0.006449806038290,-0.108635038137436,0.006538086570799,0.062032442539930,0.060037475079298,-0.134383782744408,-0.090372301638126,0.125389352440834,0.190550267696381,-0.052497517317533));
res += mul(Get(s2,dx,0), float4x4(0.104632690548897,0.114952087402344,0.138062521815300,0.028340255841613,-0.116254471242428,-0.026261262595654,-0.046608176082373,0.148173511028290,0.078632615506649,0.016505831852555,0.009167475625873,0.093674063682556,-0.178853377699852,0.053757816553116,0.122541196644306,0.064169481396675));
res += mul(Get(s2,dx,dy), float4x4(-0.182745113968849,-0.034870952367783,0.034130163490772,0.109797440469265,0.067766785621643,0.134343445301056,-0.111236326396465,-0.072766765952110,0.049970027059317,-0.148444563150406,-0.068985596299171,0.098540805280209,0.016052108258009,0.223060980439186,-0.214586421847343,0.511297285556793));
res += mul(Get(s3,-dx,-dy), float4x4(0.015191480517387,-0.135247945785522,0.573685169219971,0.356599152088165,0.086550712585449,0.265758574008942,-0.071147151291370,-0.145314529538155,-0.162440732121468,0.135916486382484,0.241863220930099,0.323773205280304,0.004871551878750,-0.070960462093353,-0.003656451590359,0.015252694487572));
res += mul(Get(s3,-dx,0), float4x4(-0.001247382373549,-0.155484586954117,0.377009719610214,-0.089992903172970,0.242300033569336,-0.059300724416971,-0.032544065266848,-0.123028405010700,0.007562718819827,-0.107990533113480,0.136118635535240,0.087844118475914,0.042717859148979,0.029862888157368,0.173427000641823,0.009677288122475));
res += mul(Get(s3,-dx,dy), float4x4(0.210486456751823,-0.108130410313606,-0.145162940025330,-0.085335053503513,0.067511938512325,-0.034097164869308,-0.012527893297374,0.041727241128683,0.016845703125000,0.002949957270175,0.082603849470615,-0.017091341316700,0.021580196917057,-0.074770055711269,-0.044705770909786,-0.097296260297298));
res += mul(Get(s3,0,-dy), float4x4(0.090153448283672,0.074129842221737,-0.000268774892902,-0.063128307461739,-0.108166724443436,-0.074613615870476,-0.071547359228134,0.015604959800839,-0.067731909453869,0.115262076258659,-0.026127496734262,0.064239241182804,-0.026630975306034,-0.143639892339706,-0.045465495437384,0.113052017986774));
res += mul(Get(s3,0,0), float4x4(0.167122751474380,-0.032874278724194,-0.142965346574783,-0.209311708807945,0.212327644228935,-0.050359986722469,0.088296696543694,0.001707257470116,-0.040013276040554,-0.043533734977245,0.013283438049257,-0.066611401736736,0.162181183695793,0.057447653263807,-0.044949013739824,-0.066305175423622));
res += mul(Get(s3,0,dy), float4x4(0.125482201576233,-0.032429121434689,0.212115809321404,-0.128266841173172,0.131261840462685,0.044459652155638,0.182880669832230,0.046444207429886,0.045057080686092,0.041268739849329,-0.002117618918419,-0.063734121620655,0.034384440630674,-0.157532721757889,0.018506627529860,0.216181278228760));
res += mul(Get(s3,dx,-dy), float4x4(0.154986351728439,0.025465633720160,0.020264426246285,0.072244346141815,0.040930416435003,-0.034048844128847,-0.153220802545547,0.017384203150868,-0.021685773506761,0.084879957139492,-0.129858657717705,0.266886144876480,0.069117210805416,-0.088958293199539,-0.145490095019341,0.264922708272934));
res += mul(Get(s3,dx,0), float4x4(0.149021178483963,-0.099877528846264,-0.066968463361263,-0.030504617840052,0.179936483502388,-0.127916783094406,0.103984497487545,0.261958599090576,-0.125765115022659,0.041462570428848,-0.042549833655357,0.057566873729229,0.042384620755911,0.613277733325958,-0.027820516377687,0.015134953893721));
res += mul(Get(s3,dx,dy), float4x4(0.062866628170013,-0.163838401436806,-0.113033667206764,-0.147731453180313,0.051844514906406,0.096906602382660,0.301887392997742,0.174971744418144,-0.061241891235113,-0.021732399240136,0.180014103651047,-0.032239843159914,0.165718346834183,-0.115403987467289,0.026000354439020,0.086702510714531));
return max(float4(0,0,0,0), res);
}
