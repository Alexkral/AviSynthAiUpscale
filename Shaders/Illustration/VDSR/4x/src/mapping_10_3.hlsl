sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.040608849376440,0.015479163266718,0.368058025836945,0.069920293986797,0.015039985068142,-0.063387088477612,0.008331390097737,-0.118691168725491,0.084117628633976,0.062010314315557,-0.093682572245598,-0.088012345135212,-0.378847479820251,0.011001515202224,-0.057610996067524,-0.125356063246727));
res += mul(Get(s0,-dx,0), float4x4(-0.006320323795080,-0.039243616163731,-0.077712655067444,0.048309698700905,-0.104598455131054,0.138971522450447,-0.111871644854546,0.095927670598030,0.034801729023457,-0.005640906281769,0.148485362529755,-0.159691214561462,0.028236676007509,0.009603049606085,-0.036491349339485,0.076128885149956));
res += mul(Get(s0,-dx,dy), float4x4(-0.231902822852135,0.124093011021614,0.039729092270136,0.017340442165732,-0.030730461701751,-0.039009433239698,-0.040950849652290,-0.091119684278965,-0.100963301956654,-0.149865314364433,-0.211089640855789,0.098608791828156,0.211454093456268,-0.068760983645916,-0.024208979681134,-0.114944092929363));
res += mul(Get(s0,0,-dy), float4x4(-0.210520759224892,-0.148089736700058,0.093744128942490,-0.116993479430676,-0.049651354551315,0.022088186815381,-0.036841195076704,0.116608612239361,-0.203944623470306,0.278407871723175,0.002309443196282,0.054682694375515,0.084118403494358,0.028248399496078,0.055121146142483,-0.027021527290344));
res += mul(Get(s0,0,0), float4x4(-0.086553357541561,-0.075855806469917,0.060807559639215,0.000506779935677,0.088532179594040,-0.106747880578041,-0.050514936447144,0.042706985026598,0.081730313599110,-0.127270385622978,-0.000887236208655,0.160307034850121,0.025672445073724,0.056951593607664,-0.081446193158627,0.023762052878737));
res += mul(Get(s0,0,dy), float4x4(0.003523257793859,-0.137572899460793,-0.283063203096390,0.199565425515175,0.031535878777504,-0.197765603661537,0.022186491638422,-0.054078914225101,0.016884155571461,-0.058520041406155,-0.091430373489857,0.093457326292992,0.034570712596178,0.129832372069359,-0.062533259391785,0.164061740040779));
res += mul(Get(s0,dx,-dy), float4x4(0.128628507256508,-0.044829592108727,0.088734664022923,-0.130093440413475,-0.007588155567646,0.055291552096605,0.126569777727127,0.038123432546854,-0.017126433551311,-0.143432810902596,-0.149167999625206,-0.103595577180386,0.027963127940893,-0.112788125872612,0.063025780022144,0.172410905361176));
res += mul(Get(s0,dx,0), float4x4(-0.219295307993889,0.183999225497246,0.055848386138678,0.169756680727005,-0.086241915822029,0.220221638679504,0.088449172675610,-0.102006703615189,-0.108932606875896,0.004787208046764,-0.169695183634758,0.105511963367462,-0.080819837749004,0.241818487644196,0.034037783741951,-0.026355616748333));
res += mul(Get(s0,dx,dy), float4x4(0.015353762544692,-0.056675065308809,-0.089170806109905,-0.076660908758640,0.134746611118317,0.019478004425764,0.114353217184544,-0.093510873615742,0.070768967270851,0.167907744646072,0.034310959279537,0.033443000167608,-0.070078007876873,-0.066837102174759,-0.245354995131493,-0.084849156439304));
res += mul(Get(s1,-dx,-dy), float4x4(0.006070681847632,-0.022767592221498,-0.013839234597981,-0.085307426750660,-0.101560436189175,0.183499917387962,-0.028143754228950,-0.079804822802544,0.047057159245014,-0.184109374880791,0.179159864783287,-0.051104769110680,0.046072021126747,-0.018103023990989,0.149685084819794,-0.066860012710094));
res += mul(Get(s1,-dx,0), float4x4(0.010195158421993,0.089272387325764,-0.144681930541992,-0.194549620151520,0.040712665766478,0.071732878684998,0.084021523594856,-0.224924802780151,-0.019175570458174,-0.104278035461903,0.049913424998522,-0.080948449671268,-0.144064947962761,0.025374261662364,0.033998277038336,0.057540878653526));
res += mul(Get(s1,-dx,dy), float4x4(-0.090551383793354,0.061790384352207,-0.363637447357178,-0.107608340680599,-0.168685451149940,0.031148651614785,0.009291501715779,0.045906011015177,-0.092215105891228,-0.117293097078800,-0.091668583452702,-0.098925545811653,-0.094938412308693,-0.153465867042542,0.003592393128201,-0.045056626200676));
res += mul(Get(s1,0,-dy), float4x4(0.044810835272074,0.147570431232452,-0.252986788749695,-0.009873592294753,-0.148742780089378,-0.091029495000839,0.244561865925789,-0.040725838392973,-0.088429175317287,0.154131844639778,-0.010701414197683,0.050189193338156,0.081991963088512,0.069866150617599,0.199435472488403,0.010995174758136));
res += mul(Get(s1,0,0), float4x4(0.092748135328293,0.113964296877384,-0.058615475893021,0.013022148050368,0.092774577438831,0.059030208736658,-0.056756187230349,0.102886036038399,0.011377233080566,-0.008224445395172,-0.067297443747520,0.036712761968374,0.040368214249611,0.091050937771797,0.156316325068474,-0.240743681788445));
res += mul(Get(s1,0,dy), float4x4(-0.071955345571041,0.007977121509612,-0.001097419648431,-0.079647205770016,0.086428776383400,-0.074076391756535,0.020506696775556,-0.033762924373150,-0.025595663115382,-0.088878780603409,0.016117272898555,0.076456718146801,-0.166710689663887,0.136823520064354,0.032232549041510,-0.097210496664047));
res += mul(Get(s1,dx,-dy), float4x4(-0.017343970015645,0.041192065924406,-0.065359182655811,0.044907655566931,0.030803497880697,0.050919137895107,0.098108127713203,0.014889081008732,0.044304948300123,0.159637629985809,0.151209384202957,0.050871439278126,0.032150603830814,-0.090376548469067,0.083300322294235,-0.018468115478754));
res += mul(Get(s1,dx,0), float4x4(0.073297239840031,-0.034227896481752,0.208275660872459,-0.173703014850616,0.071921594440937,-0.285328090190887,0.258202344179153,-0.060364395380020,-0.204806238412857,0.123432546854019,0.035417739301920,0.041792809963226,0.043340533971786,0.123582154512405,0.144909188151360,-0.075626306235790));
res += mul(Get(s1,dx,dy), float4x4(-0.021579902619123,0.158349126577377,-0.031556468456984,0.076262786984444,-0.051545277237892,0.105929598212242,-0.043729841709137,0.218650460243225,-0.303131103515625,0.040648836642504,-0.121365696191788,0.023378102108836,-0.048653442412615,0.046038191765547,-0.005821057129651,0.154472157359123));
res += mul(Get(s2,-dx,-dy), float4x4(-0.209197223186493,0.121351540088654,-0.207918152213097,-0.113766714930534,-0.142917320132256,-0.033613562583923,0.170279100537300,0.047355003654957,-0.061257611960173,-0.049153864383698,0.101188294589520,0.163735300302505,0.083125159144402,-0.142803877592087,-0.081567212939262,0.273137599229813));
res += mul(Get(s2,-dx,0), float4x4(0.204749390482903,0.018489379435778,-0.081546127796173,0.039119537919760,0.009373242035508,0.114192172884941,-0.021186914294958,-0.114271305501461,0.186910465359688,-0.092546679079533,0.177906200289726,0.123020648956299,-0.071946516633034,0.137473806738853,-0.048024915158749,0.206175267696381));
res += mul(Get(s2,-dx,dy), float4x4(0.062351275235415,-0.114374853670597,-0.122688852250576,0.065468065440655,0.073054581880569,0.173498481512070,-0.117639206349850,-0.021307718008757,-0.181527987122536,-0.242821902036667,-0.006834240630269,0.023191474378109,-0.029492123052478,-0.195607826113701,0.133821532130241,0.045095406472683));
res += mul(Get(s2,0,-dy), float4x4(-0.155031010508537,0.009146643802524,0.083439238369465,-0.163365080952644,0.136575177311897,0.242027848958969,-0.070720568299294,-0.017092917114496,-0.058851733803749,-0.195094928145409,0.143798947334290,-0.039294362068176,0.133068382740021,0.057865153998137,-0.111693181097507,0.121788434684277));
res += mul(Get(s2,0,0), float4x4(0.024697141721845,-0.127012267708778,-0.112469792366028,-0.043058026582003,-0.050380744040012,-0.016734406352043,0.023320747539401,0.148799374699593,-0.037909660488367,-0.048573885113001,0.139654412865639,-0.003973814658821,0.017753582447767,-0.044138383120298,-0.233547702431679,0.016848148778081));
res += mul(Get(s2,0,dy), float4x4(-0.083404794335365,-0.114593409001827,-0.079357951879501,0.239855527877808,0.097578987479210,0.214876964688301,0.049343127757311,0.114380761981010,-0.041376773267984,0.108413852751255,-0.072447367012501,0.002142980229110,0.041119653731585,0.088919155299664,-0.013579196296632,-0.005216623656452));
res += mul(Get(s2,dx,-dy), float4x4(0.038773659616709,0.043086431920528,-0.073783621191978,0.023180050775409,-0.166510984301567,0.091452240943909,-0.070077940821648,-0.018484722822905,-0.201633021235466,0.272629618644714,-0.111902363598347,0.001258594798855,-0.244787514209747,0.037926200777292,0.029021909460425,0.063266202807426));
res += mul(Get(s2,dx,0), float4x4(-0.082691423594952,-0.502824068069458,-0.240689516067505,-0.114333495497704,-0.046407278627157,0.241143211722374,0.165288224816322,-0.078540921211243,0.048379797488451,-0.091971091926098,-0.107884228229523,-0.114870354533195,-0.007474674843252,0.199742034077644,0.050528053194284,-0.118599019944668));
res += mul(Get(s2,dx,dy), float4x4(0.070150643587112,-0.032774947583675,-0.006247611716390,0.248345822095871,0.075079753994942,0.218898519873619,-0.129055142402649,-0.014038515277207,0.118303321301937,-0.168965250253677,-0.051692672073841,0.061327695846558,0.221591338515282,0.024501807987690,-0.058599032461643,0.161069780588150));
res += mul(Get(s3,-dx,-dy), float4x4(0.142571106553078,-0.238809645175934,-0.070654749870300,-0.104220964014530,0.170032605528831,0.033973541110754,0.250040322542191,0.131833970546722,-0.171355441212654,-0.010380681604147,0.107238367199898,-0.059541329741478,0.045103736221790,-0.091077476739883,0.003594186156988,-0.119099602103233));
res += mul(Get(s3,-dx,0), float4x4(-0.160323962569237,-0.071754790842533,-0.134649753570557,0.142667233943939,-0.110679924488068,0.032988186925650,0.061774156987667,-0.027780827134848,-0.120466798543930,0.039312750101089,-0.047108251601458,-0.256746590137482,-0.096116103231907,-0.053309191018343,-0.062643468379974,0.160338580608368));
res += mul(Get(s3,-dx,dy), float4x4(-0.034572910517454,0.040931448340416,-0.062961682677269,0.179140269756317,0.136424526572227,0.064576834440231,0.025437911972404,0.110875882208347,0.040415171533823,0.128721415996552,-0.008044646121562,-0.103513367474079,0.056727070361376,0.059260558336973,-0.092217683792114,0.119600489735603));
res += mul(Get(s3,0,-dy), float4x4(-0.013351909816265,-0.039502095431089,0.077946044504642,0.083363190293312,-0.039784219115973,0.083169460296631,0.233339890837669,-0.233677908778191,0.082517966628075,0.056915629655123,0.100840590894222,-0.096096441149712,0.003551888512447,-0.084268242120743,-0.010449376888573,-0.019754976034164));
res += mul(Get(s3,0,0), float4x4(-0.144834443926811,-0.004702100995928,-0.073837965726852,-0.175305441021919,0.043349035084248,-0.253121554851532,-0.079804673790932,-0.097982563078403,-0.103178963065147,0.131738260388374,-0.017329176887870,0.039120886474848,-0.006906121503562,-0.034197691828012,-0.192926079034805,0.120312325656414));
res += mul(Get(s3,0,dy), float4x4(-0.043458726257086,-0.087041616439819,-0.155575945973396,-0.028326554223895,0.133206054568291,0.092270255088806,-0.094414807856083,-0.034338138997555,0.184674009680748,0.167751297354698,0.092393271625042,-0.149287611246109,-0.001398486201651,0.150579228997231,0.025721387937665,-0.092118144035339));
res += mul(Get(s3,dx,-dy), float4x4(0.094999514520168,0.010024271905422,-0.167851567268372,0.110375702381134,-0.236414968967438,0.012386598624289,0.025227416306734,-0.009521078318357,0.040367327630520,-0.025968618690968,0.072616092860699,-0.029921019449830,-0.081050217151642,-0.027535285800695,0.035772543400526,0.050101637840271));
res += mul(Get(s3,dx,0), float4x4(-0.015109843574464,-0.065081112086773,-0.100747257471085,0.177673906087875,-0.126006856560707,0.102518901228905,-0.046226810663939,0.148512050509453,0.139252632856369,-0.035124290734529,0.104493945837021,-0.145020693540573,0.080801263451576,0.132425218820572,-0.009222470223904,0.030997727066278));
res += mul(Get(s3,dx,dy), float4x4(-0.272350311279297,0.084563881158829,-0.067967869341373,-0.002381149912253,0.081970728933811,-0.091237559914589,0.033925473690033,-0.090060040354729,0.201609104871750,0.065871104598045,-0.003985934890807,0.009633835405111,0.048198949545622,0.282544553279877,-0.144513398408890,0.106665350496769));
return max(float4(0,0,0,0), res);
}
