sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.256512373685837,0.165062129497528,0.053172297775745,0.105858273804188,0.147489279508591,-0.035583492368460,-0.184932902455330,0.174561962485313,-0.150216609239578,-0.033765282481909,0.058923088014126,-0.063252620398998,0.083350196480751,-0.046816047281027,-0.079111568629742,0.025748949497938));
res += mul(Get(s0,-dx,0), float4x4(-0.178153336048126,-0.034513782709837,-0.180046588182449,0.111374229192734,-0.145862936973572,0.078922018408775,-0.082847222685814,-0.008221635594964,-0.089557267725468,0.065006300806999,-0.218266695737839,0.005979284178466,0.130450934171677,0.119284480810165,-0.003317466471344,0.258579820394516));
res += mul(Get(s0,-dx,dy), float4x4(0.088164977729321,0.071297138929367,0.036323379725218,0.224634587764740,-0.271585702896118,-0.101792044937611,-0.151489511132240,-0.057998329401016,-0.106332264840603,0.033263135701418,-0.090279057621956,0.253836005926132,0.130631059408188,0.130162805318832,-0.126234114170074,0.109096840023994));
res += mul(Get(s0,0,-dy), float4x4(-0.123740345239639,0.153824135661125,0.268132030963898,0.253951936960220,0.250270575284958,-0.219730705022812,-0.077292159199715,0.114378042519093,-0.073335506021976,-0.034696377813816,0.169180661439896,-0.050056554377079,-0.008289090357721,0.072551667690277,-0.025163238868117,0.050574105232954));
res += mul(Get(s0,0,0), float4x4(-0.080094985663891,0.123734831809998,-0.186346486210823,-0.001007989281788,0.099279396235943,-0.020996225997806,-0.034381121397018,-0.009599055163562,0.037605915218592,0.160942837595940,0.156328633427620,0.126705586910248,0.056519098579884,0.024808350950480,-0.000378819619073,0.004330748226494));
res += mul(Get(s0,0,dy), float4x4(-0.228162512183189,0.099633291363716,0.180146411061287,0.063733913004398,0.069715596735477,0.058344658464193,-0.074941582977772,0.087733022868633,-0.034643147140741,-0.068657986819744,0.057187173515558,0.054313413798809,-0.158204331994057,0.099790170788765,-0.113686606287956,0.112152189016342));
res += mul(Get(s0,dx,-dy), float4x4(-0.140340536832809,0.026045903563499,0.241938158869743,-0.168140113353729,-0.008530792780221,0.094924114644527,-0.102863617241383,-0.350809246301651,0.023782189935446,-0.077451884746552,0.173059731721878,-0.114898234605789,-0.060372050851583,0.012818490155041,0.104401171207428,-0.164333760738373));
res += mul(Get(s0,dx,0), float4x4(0.052333164960146,-0.103194035589695,0.136016994714737,0.064042016863823,0.080962210893631,0.004843445960432,0.246362268924713,0.085849799215794,0.052756011486053,0.017117001116276,0.072171203792095,0.046805392950773,0.082424364984035,-0.125216782093048,-0.120562195777893,-0.289583116769791));
res += mul(Get(s0,dx,dy), float4x4(-0.077557541429996,-0.166122242808342,-0.011509043164551,-0.112552843987942,-0.148649573326111,0.099381811916828,-0.079218171536922,0.112172037363052,-0.084568247199059,-0.146876975893974,-0.149967968463898,0.070569597184658,-0.037524349987507,0.050757765769958,-0.064474374055862,-0.244450658559799));
res += mul(Get(s1,-dx,-dy), float4x4(-0.116787500679493,0.041403863579035,-0.045330528169870,-0.131041869521141,-0.117142178118229,0.060512684285641,0.047472469508648,0.038303967565298,0.266894370317459,-0.021019810810685,0.064022436738014,-0.114558212459087,0.131547421216965,-0.051338516175747,-0.131757304072380,-0.148139938712120));
res += mul(Get(s1,-dx,0), float4x4(0.121523626148701,-0.122562833130360,-0.046750817447901,-0.065334342420101,0.050946824252605,0.172989115118980,-0.023168057203293,-0.263710916042328,-0.100318945944309,0.193142533302307,-0.023796632885933,0.140485510230064,0.151204556226730,-0.169612616300583,-0.131790757179260,-0.073047555983067));
res += mul(Get(s1,-dx,dy), float4x4(-0.121865950524807,-0.054674997925758,0.036105230450630,0.203544810414314,-0.126506581902504,0.129315435886383,0.042678631842136,-0.180836141109467,0.070126645267010,-0.122884817421436,-0.055474683642387,-0.031907018274069,-0.072876624763012,0.019475234672427,0.004476511385292,0.013623001985252));
res += mul(Get(s1,0,-dy), float4x4(-0.050322420895100,-0.051190540194511,-0.093081347644329,-0.050107419490814,0.150694370269775,-0.051148097962141,0.129506811499596,-0.016054494306445,-0.111232668161392,0.245752662420273,-0.013973985798657,-0.235016420483589,-0.219311878085136,-0.007866189815104,-0.239356622099876,0.010086139664054));
res += mul(Get(s1,0,0), float4x4(0.147198528051376,0.033968839794397,0.023511959239841,-0.052250169217587,-0.006685720290989,-0.082606464624405,-0.071758247911930,-0.194924086332321,-0.133951231837273,0.183085829019547,0.229072093963623,-0.031263921409845,0.205090895295143,-0.006887631956488,-0.141392096877098,-0.004187053535134));
res += mul(Get(s1,0,dy), float4x4(0.334331035614014,-0.052174288779497,-0.067372128367424,0.112221747636795,0.084548063576221,-0.177892163395882,-0.057508487254381,0.063659399747849,0.082062155008316,-0.277303963899612,-0.031392429023981,0.055466491729021,-0.008633987978101,-0.134786084294319,0.113589517772198,0.005282083991915));
res += mul(Get(s1,dx,-dy), float4x4(0.064662292599678,0.062277939170599,-0.041149165481329,0.046456817537546,-0.137412920594215,0.040714040398598,-0.088065765798092,0.090230762958527,0.033846277743578,0.059685688465834,0.024395192041993,0.113234199583530,0.018231727182865,-0.165770754218102,-0.069046251475811,0.028190759941936));
res += mul(Get(s1,dx,0), float4x4(0.038545817136765,0.140452966094017,0.161230295896530,-0.018533473834395,-0.004899005871266,0.083957649767399,-0.071091055870056,-0.100030541419983,0.090374939143658,0.128306806087494,0.197938710451126,-0.144032984972000,0.035540211945772,-0.146779283881187,-0.068232215940952,0.088665962219238));
res += mul(Get(s1,dx,dy), float4x4(-0.050620857626200,0.014935592189431,0.062803208827972,0.144641473889351,-0.078623339533806,0.133225977420807,0.279819965362549,0.046817455440760,0.187091872096062,0.075539439916611,0.030829373747110,0.092283271253109,0.110737897455692,0.003289570100605,-0.010155585594475,-0.054578609764576));
res += mul(Get(s2,-dx,-dy), float4x4(0.072761848568916,-0.012457899749279,-0.043201468884945,-0.019631339237094,0.068426236510277,0.043473426252604,-0.041839901357889,-0.105857931077480,0.075780235230923,0.210121437907219,0.086617089807987,-0.113540291786194,0.107261449098587,0.093987114727497,0.025445520877838,-0.121394582092762));
res += mul(Get(s2,-dx,0), float4x4(-0.065123647451401,0.001584857236594,0.100645996630192,0.055248666554689,-0.068321771919727,-0.080059006810188,0.004988242406398,0.088183820247650,0.016133287921548,-0.041958499699831,0.278783529996872,0.007427588105202,0.099554389715195,0.183885127305984,0.182917714118958,-0.101161189377308));
res += mul(Get(s2,-dx,dy), float4x4(-0.005723736248910,-0.003733596764505,-0.140130877494812,-0.004958177451044,-0.106197379529476,-0.072694852948189,0.042539224028587,-0.216608062386513,0.091113388538361,0.061450231820345,0.024667659774423,0.063492968678474,-0.018755653873086,0.044639512896538,-0.121369183063507,0.142563834786415));
res += mul(Get(s2,0,-dy), float4x4(-0.100235529243946,-0.051433891057968,0.150434881448746,0.080233842134476,0.092532828450203,-0.049663428217173,-0.030409969389439,-0.148034855723381,0.068144664168358,0.083053246140480,-0.009624070487916,0.054819367825985,-0.150648400187492,0.096544265747070,-0.053041521459818,0.122463174164295));
res += mul(Get(s2,0,0), float4x4(-0.202491268515587,-0.041960507631302,-0.115968734025955,0.191102519631386,0.116212047636509,-0.080737866461277,-0.037785664200783,-0.102200254797935,0.000566498725675,0.060455441474915,-0.068789854645729,-0.007937902584672,0.160995140671730,0.160492151975632,0.188918218016624,0.033328555524349));
res += mul(Get(s2,0,dy), float4x4(-0.041805282235146,0.044010676443577,-0.148904114961624,0.132636606693268,-0.061876419931650,-0.067247278988361,0.011106397956610,0.166655391454697,0.195439338684082,-0.048246841877699,-0.209285795688629,0.019080037251115,0.167456835508347,-0.042865991592407,0.013838378712535,0.188967257738113));
res += mul(Get(s2,dx,-dy), float4x4(0.013469563797116,-0.108121581375599,0.003662317758426,-0.097439944744110,0.015251266770065,-0.038468897342682,-0.080230586230755,0.105134509503841,-0.047442451119423,0.104714825749397,0.102777361869812,-0.232765793800354,-0.010108798742294,-0.171083420515060,0.117180816829205,0.215103283524513));
res += mul(Get(s2,dx,0), float4x4(-0.251713305711746,-0.064195118844509,0.008455931209028,-0.144881457090378,0.191647812724113,-0.072073481976986,-0.129558250308037,-0.037399020045996,0.286659777164459,0.066608846187592,-0.101566098630428,0.144110560417175,-0.060372497886419,0.013786541298032,0.095981098711491,0.178380906581879));
res += mul(Get(s2,dx,dy), float4x4(-0.089040681719780,0.021438909694552,-0.307223677635193,-0.055192645639181,0.078461334109306,0.058884635567665,0.032316915690899,-0.175229236483574,0.300296217203140,0.019132370129228,-0.002305628033355,-0.018751459196210,-0.092504426836967,0.198018550872803,-0.052889507263899,0.021569114178419));
res += mul(Get(s3,-dx,-dy), float4x4(0.095295727252960,-0.091715082526207,0.184945762157440,-0.235259100794792,0.086681105196476,-0.136620864272118,-0.023661142215133,0.055302284657955,0.118926234543324,0.064221374690533,-0.005073291715235,-0.108230963349342,-0.136588513851166,-0.057534597814083,-0.026807952672243,0.097738392651081));
res += mul(Get(s3,-dx,0), float4x4(-0.012865476310253,0.173562422394753,-0.027077578008175,-0.075881548225880,0.033751640468836,-0.017584018409252,0.112879626452923,-0.103348650038242,-0.039187569171190,0.164372384548187,0.211127594113350,-0.181163966655731,-0.026521708816290,0.082740321755409,-0.071897611021996,-0.027002857998013));
res += mul(Get(s3,-dx,dy), float4x4(-0.039407160133123,-0.127255544066429,-0.119252085685730,-0.002677388256416,-0.052641823887825,-0.000352913368260,0.103192768990993,-0.173504114151001,0.098540514707565,0.064188890159130,-0.054341539740562,-0.025860879570246,-0.195033967494965,-0.135963767766953,-0.024806559085846,-0.019078949466348));
res += mul(Get(s3,0,-dy), float4x4(-0.177162498235703,0.210576847195625,0.166626214981079,-0.134391307830811,0.037780676037073,-0.054794032126665,0.178792387247086,0.014645747840405,0.018269892781973,-0.010762183927000,0.093060985207558,-0.106043927371502,0.145535320043564,-0.039385311305523,0.016543027013540,0.013137744739652));
res += mul(Get(s3,0,0), float4x4(0.099502727389336,-0.064457789063454,0.047423884272575,0.067282460629940,0.077759042382240,0.024754282087088,0.048027291893959,-0.011677404865623,-0.037247747182846,0.091154903173447,0.213627934455872,-0.015888327732682,-0.039701990783215,-0.036076363176107,0.021487008780241,0.142061367630959));
res += mul(Get(s3,0,dy), float4x4(-0.123960226774216,-0.079969227313995,0.011171382851899,-0.086876153945923,-0.096757300198078,0.046273462474346,-0.070484712719917,0.181689336895943,-0.077841490507126,0.115758821368217,-0.123466245830059,0.010785233229399,-0.129601866006851,-0.042041949927807,-0.098891541361809,-0.002199359936640));
res += mul(Get(s3,dx,-dy), float4x4(-0.236297070980072,0.006160575430840,-0.041502423584461,-0.172775223851204,0.067004531621933,-0.180254921317101,0.091063618659973,-0.030511453747749,-0.201119303703308,0.070332616567612,0.154497399926186,0.125533342361450,-0.061606094241142,0.091075733304024,-0.203477501869202,-0.111857518553734));
res += mul(Get(s3,dx,0), float4x4(0.065069131553173,0.028550719842315,0.008846192620695,-0.097678877413273,-0.071096204221249,0.080929204821587,0.077309168875217,-0.009247646667063,0.113019652664661,-0.042668681591749,-0.086326912045479,0.182266801595688,0.003934958484024,-0.054496932774782,0.006495787762105,0.097024098038673));
res += mul(Get(s3,dx,dy), float4x4(-0.083233334124088,-0.218064650893211,-0.133275330066681,-0.055007927119732,-0.020355090498924,0.161400452256203,0.107101753354073,-0.174787923693657,-0.120155565440655,-0.083439156413078,0.108906328678131,0.212908029556274,-0.129126995801926,-0.024951972067356,-0.158279359340668,0.009028960950673));
return max(float4(0,0,0,0), res);
}
