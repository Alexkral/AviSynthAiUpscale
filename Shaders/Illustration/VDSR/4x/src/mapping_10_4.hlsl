sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.012720596976578,-0.020623447373509,0.075634352862835,-0.081661351025105,-0.059937883168459,-0.095348112285137,0.011674868874252,0.279512286186218,-0.193042799830437,-0.122443519532681,-0.277278244495392,-0.081700772047043,0.047334481030703,0.193008154630661,0.041868746280670,0.155392438173294));
res += mul(Get(s0,-dx,0), float4x4(0.050526257604361,-0.124128066003323,-0.112107507884502,0.041458837687969,0.060081116855145,-0.083848185837269,-0.092545121908188,-0.039269320666790,-0.005439599044621,-0.057478956878185,0.079387292265892,-0.087218999862671,-0.119898669421673,-0.230470463633537,-0.109064526855946,-0.096950195729733));
res += mul(Get(s0,-dx,dy), float4x4(-0.023991325870156,-0.241285488009453,0.008523534052074,0.106730788946152,0.085999928414822,0.092646695673466,-0.010020346380770,-0.077422030270100,0.080763041973114,-0.123942293226719,-0.041136786341667,-0.016895033419132,-0.186633735895157,0.283589750528336,-0.220825970172882,0.315214753150940));
res += mul(Get(s0,0,-dy), float4x4(-0.041997335851192,-0.015994915738702,0.346587061882019,-0.053593445569277,0.022422892972827,-0.066855698823929,-0.041677117347717,0.081680491566658,0.078430131077766,-0.024255914613605,-0.098953656852245,-0.048571601510048,-0.106096774339676,0.081831157207489,0.022904247045517,-0.017212552949786));
res += mul(Get(s0,0,0), float4x4(0.083874002099037,-0.018021315336227,0.303728401660919,0.009644090197980,-0.025570504367352,-0.002675447613001,-0.000108932224975,0.057683151215315,0.047789145261049,-0.062177658081055,0.101191580295563,-0.010107029229403,-0.154529884457588,0.083950236439705,0.044424362480640,0.074110440909863));
res += mul(Get(s0,0,dy), float4x4(-0.122797459363937,-0.082809485495090,0.535533189773560,0.043454792350531,-0.074917457997799,-0.024643642827868,-0.011715301312506,-0.135095268487930,0.090137191116810,-0.009789695031941,-0.017057193443179,0.017346940934658,-0.178619280457497,-0.049276705831289,0.071458287537098,0.076390840113163));
res += mul(Get(s0,dx,-dy), float4x4(-0.025161370635033,0.048823598772287,-0.161341711878777,-0.125704690814018,0.004003091715276,-0.102399483323097,-0.186032176017761,-0.172394067049026,0.419502526521683,0.030063321813941,-0.091015130281448,0.093465760350227,-0.196721762418747,0.122490726411343,-0.049955349415541,-0.135936364531517));
res += mul(Get(s0,dx,0), float4x4(-0.016394490376115,0.097414590418339,0.083562925457954,-0.006937144324183,0.040637146681547,-0.075838066637516,-0.121850185096264,0.073544256389141,0.449795693159103,0.176429659128189,0.142149150371552,0.148882836103439,-0.201976433396339,0.040138706564903,0.015579398721457,-0.052387438714504));
res += mul(Get(s0,dx,dy), float4x4(-0.071451604366302,0.016774021089077,-0.023689061403275,-0.080816946923733,-0.003322297940031,-0.039205595850945,-0.021500093862414,0.089773356914520,0.034570429474115,0.096971429884434,-0.161825567483902,0.181538879871368,-0.123504787683487,-0.004680811427534,0.130813762545586,0.068782851099968));
res += mul(Get(s1,-dx,-dy), float4x4(0.015160798095167,-0.073320865631104,-0.018282134085894,-0.000101117184386,0.052893437445164,0.038059189915657,-0.114643655717373,-0.242881849408150,0.074063532054424,0.131486237049103,-0.071648441255093,0.118019670248032,-0.028924833983183,-0.088291764259338,-0.037947248667479,0.098056778311729));
res += mul(Get(s1,-dx,0), float4x4(-0.112072691321373,0.072494007647038,0.092834211885929,-0.039673876017332,-0.127426013350487,-0.039506629109383,0.018513523042202,0.413936734199524,0.039826054126024,0.269411742687225,-0.158061936497688,-0.100610665977001,-0.102653667330742,0.140086516737938,-0.070563226938248,-0.051077913492918));
res += mul(Get(s1,-dx,dy), float4x4(-0.042467501014471,-0.114164404571056,0.055568106472492,-0.085675895214081,-0.150011926889420,-0.053440395742655,-0.062212381511927,0.225655168294907,-0.087007179856300,-0.269925147294998,-0.120235703885555,-0.015344342216849,-0.234059602022171,0.190666109323502,-0.168652430176735,-0.139569580554962));
res += mul(Get(s1,0,-dy), float4x4(-0.126244083046913,-0.125829204916954,0.019061714410782,-0.042594064027071,0.051459990441799,-0.066294737160206,0.060306791216135,-0.380437999963760,-0.073288999497890,0.088461510837078,-0.082248859107494,0.141026258468628,-0.109302572906017,-0.100327581167221,0.013667899183929,0.036710318177938));
res += mul(Get(s1,0,0), float4x4(-0.141980245709419,0.097425445914268,0.113534763455391,-0.021808620542288,0.094591677188873,0.020688621327281,-0.032959286123514,-0.043488848954439,0.212725266814232,-0.020255908370018,0.074032843112946,-0.017159083858132,-0.153313219547272,-0.178364112973213,0.018384007737041,-0.079061992466450));
res += mul(Get(s1,0,dy), float4x4(-0.103209905326366,-0.070881821215153,0.146873459219933,0.016687115654349,-0.087515547871590,0.009820026345551,0.082703419029713,0.036861963570118,-0.077016636729240,-0.134525358676910,0.224612474441528,-0.024744307622313,0.068367779254913,-0.319138288497925,-0.005207780748606,-0.116727113723755));
res += mul(Get(s1,dx,-dy), float4x4(0.308658063411713,-0.020748272538185,-0.089697651565075,-0.020428556948900,0.172407910227776,-0.011184684932232,-0.001616928377189,-0.313420683145523,-0.011510279960930,-0.027594974264503,-0.088829688727856,0.026577638462186,-0.167022362351418,-0.006810606457293,0.023975679650903,-0.044248808175325));
res += mul(Get(s1,dx,0), float4x4(0.002539228647947,0.024422291666269,0.040320273488760,-0.010666681453586,-0.013894663192332,-0.038160707801580,-0.005644172895700,-0.174789696931839,0.267444670200348,0.026723604649305,0.030339535325766,0.104993253946304,-0.058435395359993,-0.056619908660650,-0.015040827915072,-0.128033369779587));
res += mul(Get(s1,dx,dy), float4x4(-0.119400419294834,-0.073739074170589,0.001618554349989,-0.087511688470840,-0.081547729671001,-0.001267806743272,-0.016129080206156,-0.012925987131894,-0.252785503864288,-0.038737252354622,0.091953165829182,0.017244573682547,0.547884166240692,-0.184574425220490,-0.079238094389439,-0.049053687602282));
res += mul(Get(s2,-dx,-dy), float4x4(-0.000646652653813,-0.071449369192123,-0.088818885385990,-0.191682189702988,-0.180114910006523,-0.104740582406521,0.055943049490452,-0.038926206529140,0.027100870385766,0.184724405407906,0.120263144373894,-0.050216659903526,0.208042696118355,-0.011510229669511,-0.017114507034421,0.012360967695713));
res += mul(Get(s2,-dx,0), float4x4(-0.027924779802561,-0.087078213691711,0.054785344749689,0.013289349153638,-0.121476531028748,-0.042696930468082,-0.024755986407399,-0.071958430111408,0.041125867515802,0.193247199058533,-0.169275999069214,0.204809173941612,-0.107248865067959,-0.086272642016411,-0.076586015522480,-0.159695103764534));
res += mul(Get(s2,-dx,dy), float4x4(-0.097944311797619,-0.130548506975174,-0.170013830065727,-0.087096042931080,-0.087560817599297,-0.122090019285679,-0.155119076371193,-0.020823452621698,-0.009905237704515,0.205258771777153,-0.178549930453300,0.370241224765778,0.169318944215775,-0.034713875502348,-0.122718647122383,-0.051016639918089));
res += mul(Get(s2,0,-dy), float4x4(0.014325399883091,-0.094843387603760,0.145323619246483,-0.204353615641594,-0.184831038117409,-0.083736822009087,0.032842114567757,-0.056702230125666,-0.040290676057339,0.199180319905281,0.283371001482010,-0.115179903805256,-0.107581801712513,-0.054670583456755,-0.061288867145777,0.012450145557523));
res += mul(Get(s2,0,0), float4x4(-0.080895707011223,-0.048234820365906,0.019643381237984,-0.052699465304613,-0.132197186350822,-0.023723676800728,-0.036302700638771,-0.017996504902840,0.052812192589045,0.060892540961504,0.163415253162384,0.036765296012163,-0.076451919972897,-0.029868170619011,-0.075789943337440,0.021602049469948));
res += mul(Get(s2,0,dy), float4x4(-0.212400317192078,-0.055129833519459,-0.233261108398438,0.121622033417225,0.033187806606293,-0.075205974280834,-0.056700192391872,-0.023432301357388,0.078221864998341,0.085676155984402,0.031012481078506,0.039718784391880,0.183368489146233,-0.074968367815018,-0.045088022947311,-0.024019423872232));
res += mul(Get(s2,dx,-dy), float4x4(0.056668985635042,-0.231786280870438,-0.186407387256622,0.062127050012350,-0.183749139308929,-0.083187170326710,-0.067446447908878,-0.092129066586494,0.094156451523304,0.138142362236977,0.003134508151561,-0.212091997265816,-0.182912752032280,-0.162589535117149,-0.191385701298714,0.081090137362480));
res += mul(Get(s2,dx,0), float4x4(-0.063993081450462,-0.081490173935890,-0.100587628781796,-0.011597437784076,-0.186822310090065,-0.076947934925556,-0.096016131341457,-0.047975827008486,-0.068611480295658,0.098820909857750,-0.002759482478723,-0.024092281237245,-0.187871605157852,-0.177694633603096,-0.250407725572586,0.102303974330425));
res += mul(Get(s2,dx,dy), float4x4(-0.271514177322388,0.015504973009229,-0.190508991479874,0.205446496605873,0.341516494750977,-0.146911770105362,0.009595195762813,-0.088985756039619,0.183259591460228,0.184110864996910,0.106485530734062,0.075084164738655,0.044340267777443,-0.268340408802032,0.047262158244848,-0.029690798372030));
res += mul(Get(s3,-dx,-dy), float4x4(0.039921037852764,0.075245559215546,-0.081092916429043,0.139630079269409,-0.010901995934546,-0.036721698939800,-0.020495079457760,-0.142819359898567,0.046757534146309,0.034197114408016,0.146753072738647,0.163490399718285,0.021176097914577,-0.108433485031128,0.040801361203194,-0.043603632599115));
res += mul(Get(s3,-dx,0), float4x4(0.047761615365744,-0.020499546080828,-0.066931888461113,0.118296124041080,0.028321871533990,-0.037311047315598,0.026412947103381,0.108866542577744,-0.105578437447548,0.060004651546478,0.016461312770844,0.218355283141136,0.022849088534713,-0.079599954187870,0.059975583106279,-0.059617258608341));
res += mul(Get(s3,-dx,dy), float4x4(0.048493329435587,-0.221425667405128,-0.013611669652164,0.016158437356353,-0.146982148289680,0.005610946565866,-0.113603100180626,-0.115245327353477,0.105266474187374,-0.051904689520597,0.038111750036478,0.028808254748583,0.047142785042524,-0.050622839480639,0.016113778576255,0.013945464976132));
res += mul(Get(s3,0,-dy), float4x4(-0.126062542200089,-0.089441716670990,-0.009183473885059,0.001338068046607,0.221220031380653,-0.066887646913528,0.579630374908447,-0.043728750199080,-0.043604955077171,-0.054840102791786,0.029807448387146,-0.047740489244461,0.074927054345608,-0.005043405573815,-0.087307177484035,-0.088843233883381));
res += mul(Get(s3,0,0), float4x4(-0.020547877997160,0.103286266326904,-0.014514483511448,-0.035704746842384,-0.014893045648932,0.038041733205318,0.102513395249844,0.096560440957546,0.030381368473172,-0.013475025072694,-0.010006723925471,-0.015565284527838,0.092384941875935,-0.118145905435085,-0.060714844614267,-0.069827958941460));
res += mul(Get(s3,0,dy), float4x4(-0.040205363184214,0.074363574385643,-0.097223810851574,-0.255012094974518,-0.108274370431900,0.007105855736881,0.113351173698902,0.099046461284161,0.054543279111385,-0.038275826722383,0.122253790497780,0.055533275008202,0.072796650230885,-0.101886607706547,0.169568330049515,-0.031439971178770));
res += mul(Get(s3,dx,-dy), float4x4(-0.093543171882629,0.082964815199375,-0.067173063755035,-0.079832725226879,0.078363150358200,0.044747278094292,-0.000375230360078,-0.028506828472018,-0.009717671200633,-0.081293672323227,-0.149684980511665,0.056614838540554,-0.033190015703440,0.016724506393075,-0.133168056607246,-0.080328814685345));
res += mul(Get(s3,dx,0), float4x4(-0.129690662026405,0.055687278509140,-0.170118510723114,-0.079459868371487,-0.079667940735817,-0.024447791278362,-0.144663050770760,0.147970601916313,0.104841381311417,-0.054390925914049,-0.046804841607809,0.044860828667879,-0.098301306366920,0.110772579908371,0.051055785268545,-0.068661861121655));
res += mul(Get(s3,dx,dy), float4x4(-0.101985029876232,-0.038963157683611,-0.150785997509956,-0.140880405902863,-0.067858144640923,0.013257219456136,0.028940632939339,0.070526205003262,0.159450277686119,-0.017303215339780,0.039004053920507,0.286915928125381,-0.055298712104559,-0.192040607333183,0.121821835637093,0.090923719108105));
return max(float4(0,0,0,0), res);
}
