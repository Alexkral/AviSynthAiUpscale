sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.034763079136610,0.029045378789306,-0.032743062824011,0.051270712167025,-0.005989543162286,0.010312344878912,-0.003236212534830,0.008849613368511,-0.159382522106171,-0.196530193090439,-0.045630041509867,-0.165198385715485,-0.362394988536835,0.248775973916054,-0.250010073184967,-0.119853436946869));
res += mul(Get(s0,-dx,0), float4x4(0.012241621501744,0.056904666125774,-0.042707640677691,0.035576857626438,0.003533869283274,0.003465241286904,0.018738346174359,-0.007769872900099,-0.022299706935883,-0.057843774557114,-0.087247818708420,-0.006871547549963,0.070535674691200,0.050081122666597,-0.117457024753094,-0.309187263250351));
res += mul(Get(s0,-dx,dy), float4x4(-0.026294168084860,0.089715659618378,-0.038130372762680,0.033252540975809,-0.008126139640808,0.013592567294836,0.007062651682645,0.006714510265738,0.086677610874176,0.008407297544181,-0.144508153200150,-0.090402111411095,0.156708016991615,-0.261926889419556,-0.205970689654350,-0.040466912090778));
res += mul(Get(s0,0,-dy), float4x4(-0.036222815513611,-0.013886809349060,-0.017190193757415,0.046674806624651,-0.009015084244311,-0.018518831580877,0.006213802378625,0.000596205645707,-0.226777955889702,0.155900761485100,-0.093510024249554,-0.148694992065430,0.156935378909111,0.104529514908791,-0.358488321304321,0.043898724019527));
res += mul(Get(s0,0,0), float4x4(-0.030342979356647,0.007282240316272,-0.036656390875578,0.030912382528186,0.003707393771037,-0.004520077724010,-0.008113294839859,-0.006430927664042,-0.154520794749260,-0.147181361913681,-0.071283735334873,0.043478656560183,0.377270072698593,-0.338316202163696,0.028868393972516,-0.190996125340462));
res += mul(Get(s0,0,dy), float4x4(-0.060766603797674,0.050727106630802,-0.015559395775199,0.022872567176819,-0.004878434818238,0.001525842351839,0.003745943307877,0.006430161651224,-0.031778316944838,-0.010448769666255,-0.016343329101801,0.093148849904537,0.507454633712769,-0.417327046394348,0.070063859224319,0.092615015804768));
res += mul(Get(s0,dx,-dy), float4x4(-0.023779349401593,-0.073956280946732,-0.001792400842533,0.016658227890730,0.002962135709822,-0.008363153785467,0.003424301510677,0.002169471932575,0.153383180499077,0.079672798514366,0.031781401485205,0.078286968171597,0.091683179140091,0.169744580984116,-0.137833520770073,0.052094664424658));
res += mul(Get(s0,dx,0), float4x4(-0.037999674677849,-0.043023664504290,-0.002068691886961,0.024485342204571,-0.003604834200814,-0.011041703633964,-0.009846786037087,-0.002010646741837,0.057106994092464,-0.190116271376610,-0.055818978697062,0.164883822202682,-0.335070431232452,0.066839508712292,-0.329375505447388,-0.018089452758431));
res += mul(Get(s0,dx,dy), float4x4(-0.042815029621124,0.000481340481201,-0.011107276193798,0.022861396893859,0.001145307440311,0.005045460071415,-0.002670574467629,0.015541939996183,0.081955403089523,-0.008296323008835,0.028499916195869,0.071053177118301,0.054929468780756,-0.240026980638504,-0.133594661951065,0.193534001708031));
res += mul(Get(s1,-dx,-dy), float4x4(-0.125517994165421,0.043815676122904,-0.126207977533340,-0.038656383752823,0.021163865923882,-0.009059009142220,-0.003027733648196,-0.012302109971642,-0.005635436158627,-0.002612748183310,-0.013622463680804,-0.004480693954974,-0.004148709122092,-0.009175296872854,0.004928854294121,-0.001352699357085));
res += mul(Get(s1,-dx,0), float4x4(-0.094216793775558,-0.035731185227633,-0.187634751200676,-0.044094007462263,-0.003301888238639,-0.000144740115502,-0.001320196664892,-0.007989117875695,-0.002710416447371,-0.012263197451830,-0.018734533339739,-0.005809595808387,-0.012331910431385,0.015387102030218,0.006268154829741,0.002776816487312));
res += mul(Get(s1,-dx,dy), float4x4(-0.040803231298923,0.014811126515269,-0.156920686364174,-0.051359154284000,-0.023627422749996,-0.000068954730523,0.001601627212949,-0.019172837957740,0.009724470786750,-0.007366922684014,-0.014210965484381,-0.009417878463864,-0.000652165210340,-0.002566822571680,0.019041292369366,-0.006156587507576));
res += mul(Get(s1,0,-dy), float4x4(0.028160654008389,0.059601545333862,-0.050254378467798,-0.060584262013435,-0.013071380555630,-0.006911447737366,0.005574364680797,0.000853377627209,0.010537188500166,-0.004073143005371,-0.001446373178624,-0.017532581463456,-0.000562904577237,-0.015682421624660,0.003054413478822,-0.015885148197412));
res += mul(Get(s1,0,0), float4x4(-0.057755332440138,-0.172461062669754,0.038342185318470,-0.062404338270426,-0.019103990867734,0.007923663593829,0.014519294723868,-0.020898401737213,0.003961139824241,-0.006364472676069,-0.005201704800129,0.004415056202561,-0.005314597859979,-0.007258632220328,0.001185421831906,-0.000532433448825));
res += mul(Get(s1,0,dy), float4x4(0.071628063917160,-0.102280296385288,0.017729295417666,-0.106584683060646,-0.020422907546163,-0.015994813293219,0.010053347796202,-0.011585813015699,0.008916216902435,-0.007396524306387,-0.006349297706038,0.016618411988020,-0.002342181745917,0.006223830394447,-0.004908392205834,-0.010736356489360));
res += mul(Get(s1,dx,-dy), float4x4(0.090433903038502,-0.038801737129688,-0.062077790498734,0.006652830634266,-0.020719233900309,-0.022708494216204,-0.001323778065853,-0.024706877768040,0.006775798276067,-0.004307701718062,0.000319144688547,0.018035432323813,0.007362028583884,0.004097053315490,-0.004667453933507,-0.016466844826937));
res += mul(Get(s1,dx,0), float4x4(0.022456735372543,-0.007839698344469,0.023812763392925,0.013737196102738,-0.012253200635314,-0.002265612129122,0.005367910489440,-0.015387092716992,-0.004054490942508,-0.008142839185894,-0.006241263356060,-0.004464039579034,0.000336348311976,-0.001480728155002,-0.003347695339471,0.018789831548929));
res += mul(Get(s1,dx,dy), float4x4(0.014200661331415,0.164280250668526,0.113934926688671,-0.094751305878162,0.004032522905618,-0.005604835692793,-0.001696556108072,-0.024316331371665,0.003104054369032,0.010997451841831,-0.006085465662181,-0.000661953992676,-0.002108089625835,0.000344609521562,-0.017988976091146,-0.003113896586001));
res += mul(Get(s2,-dx,-dy), float4x4(0.120068095624447,0.360500901937485,-0.059056252241135,-0.250368386507034,0.169173061847687,-0.087156563997269,-0.002318367827684,-0.477294147014618,-0.186292782425880,0.159497827291489,-0.169285789132118,-0.097666747868061,-0.014521154575050,-0.004087920766324,0.008446331135929,-0.004766812082380));
res += mul(Get(s2,-dx,0), float4x4(-0.369404256343842,0.196044400334358,0.113115966320038,-0.214703574776649,-0.436691671609879,-0.060356222093105,-0.063031159341335,-0.625910401344299,-0.163328811526299,-0.152103528380394,-0.119321830570698,-0.162477076053619,0.003834379836917,0.008800507523119,-0.000358034769306,-0.007315712049603));
res += mul(Get(s2,-dx,dy), float4x4(-0.647715985774994,0.388698369264603,-0.072357311844826,-0.178326472640038,-0.382409811019897,-0.083077527582645,-0.606687724590302,-0.624339699745178,-0.170459151268005,-0.179239302873611,-0.146938085556030,-0.028005382046103,0.006883596535772,0.004289583303034,0.013376741670072,-0.002006707480177));
res += mul(Get(s2,0,-dy), float4x4(0.569603562355042,-0.093561403453350,-0.103548184037209,-0.096186451613903,1.000069141387939,-0.518798649311066,-0.255691796541214,-0.425193428993225,-0.233813822269440,0.261990815401077,-0.099722720682621,-0.091927483677864,0.012959512881935,0.001955330139026,0.005342330317944,-0.001690112520009));
res += mul(Get(s2,0,0), float4x4(0.213678359985352,-0.454625755548477,0.243689790368080,0.045870020985603,0.128374800086021,0.150211870670319,0.716066122055054,-0.436225831508636,-0.046160988509655,0.158581465482712,-0.121149413287640,-0.039839588105679,-0.014753849245608,-0.013628298416734,-0.002928107511252,0.001197255216539));
res += mul(Get(s2,0,dy), float4x4(-0.162456139922142,-0.126701727509499,0.163696318864822,0.157647624611855,-0.541611611843109,0.866123795509338,-0.523260653018951,-0.492819428443909,0.140815705060959,-0.159682795405388,-0.135961428284645,-0.094528287649155,-0.013675793074071,-0.009198251180351,-0.000919275335036,-0.007301547564566));
res += mul(Get(s2,dx,-dy), float4x4(0.243677183985710,-0.079753398895264,0.052531134337187,-0.226677700877190,1.061905026435852,-1.029295206069946,-0.262940078973770,0.462253540754318,-0.254642546176910,-0.043756764382124,-0.080468684434891,0.133984208106995,-0.012609814293683,-0.001130296848714,-0.002263429574668,0.000571837241296));
res += mul(Get(s2,dx,0), float4x4(-0.031857743859291,-0.234276339411736,-0.184965074062347,-0.071733169257641,0.040752667933702,-0.228199392557144,0.537763297557831,0.995369672775269,0.049490645527840,0.085908815264702,0.070855990052223,0.150112330913544,-0.001915853237733,-0.004659978672862,0.001979744061828,-0.005048271268606));
res += mul(Get(s2,dx,dy), float4x4(0.031527131795883,-0.380216181278229,-0.189982742071152,0.017901308834553,-0.710805892944336,0.863587617874146,0.145463109016418,0.601524174213409,0.025183219462633,0.324108809232712,0.175700068473816,-0.037633229047060,-0.007150852121413,0.009521924890578,0.006135200150311,-0.003101771697402));
res += mul(Get(s3,-dx,-dy), float4x4(0.010499218478799,0.010294894687831,-0.001954264938831,-0.006883327383548,0.001360978232697,-0.001506797736511,-0.011036453768611,0.004641588311642,0.019511908292770,0.413984268903732,0.009933881461620,-0.295392990112305,-0.007302490994334,0.011791137047112,0.001065818360075,-0.001764312270097));
res += mul(Get(s3,-dx,0), float4x4(-0.012771914713085,-0.005527425091714,0.004223405383527,-0.002316212980077,0.007259829901159,-0.006073202937841,-0.010059293359518,0.004043291322887,0.123595297336578,0.109320707619190,-0.242666766047478,-0.258195221424103,0.003921805880964,0.011609400622547,0.006219775881618,0.002298051025718));
res += mul(Get(s3,-dx,dy), float4x4(-0.015293422155082,0.006407490000129,0.014790262095630,0.029760496690869,0.002224781317636,0.000554454338271,0.010977584868670,0.001062968047336,0.074931479990482,-0.646863341331482,-0.272859930992126,-0.289635986089706,0.001375735155307,-0.000474309112178,-0.011262122541666,-0.007367033511400));
res += mul(Get(s3,0,-dy), float4x4(0.001438700710423,0.010398033075035,0.008005984127522,0.028268903493881,-0.014102991670370,-0.003622969612479,-0.003127753501758,-0.002769723767415,-0.148627221584320,0.428347915410995,0.398871481418610,0.206762060523033,0.009252635762095,0.006629149429500,0.012078462168574,-0.017929991707206));
res += mul(Get(s3,0,0), float4x4(0.009461296722293,0.001704649068415,0.007050235290080,0.009444307535887,-0.003354056971148,-0.006393235642463,0.020815324038267,-0.007719028741121,-0.171727538108826,0.591288566589355,0.343416601419449,0.171754941344261,-0.004091619048268,-0.003358413698152,-0.007275491021574,0.000774250540417));
res += mul(Get(s3,0,dy), float4x4(-0.007317903917283,0.012402986176312,-0.006739592179656,0.006537759210914,-0.001524715451524,0.011565550230443,-0.014588848687708,0.000238742344663,-0.254916965961456,-0.389207631349564,0.052845515310764,-0.055664967745543,0.004586743190885,0.004977878648788,0.000383231148589,-0.007915863767266));
res += mul(Get(s3,dx,-dy), float4x4(-0.010709179565310,0.007799732498825,-0.004799709189683,-0.010702742263675,0.017326785251498,-0.002358885016292,0.005980875808746,0.009321568533778,0.051383834332228,-0.149007737636566,-0.272698014974594,0.119351148605347,0.006473314017057,0.015187608078122,-0.003819822566584,0.009698613546789));
res += mul(Get(s3,dx,0), float4x4(-0.001574884052388,0.001055529690348,0.001552526606247,-0.004989248700440,0.009360169060528,0.019089974462986,0.003080659080297,0.003331989282742,0.072815097868443,-0.158859223127365,0.061913564801216,0.162701755762100,-0.007874525152147,0.001022144570015,0.000376962125301,0.014360553584993));
res += mul(Get(s3,dx,dy), float4x4(-0.014098749496043,0.006445064209402,-0.001486908528022,-0.005200972780585,0.001163761597127,-0.005915561225265,-0.002679482568055,0.001501512131654,-0.151503801345825,-0.124166451394558,-0.079958342015743,-0.129668831825256,0.000774611486122,-0.002626151777804,-0.017101157456636,-0.003150147851557));
return max(float4(0,0,0,0), res);
}
