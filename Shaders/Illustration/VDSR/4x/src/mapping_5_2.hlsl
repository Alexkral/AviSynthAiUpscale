sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.031612426042557,-0.007240744773299,-0.248688429594040,0.067712306976318,0.102358773350716,-0.109304092824459,0.125313773751259,0.007223809137940,-0.057441778481007,-0.047599297016859,0.073783509433270,0.048855423927307,-0.130182892084122,0.094726242125034,-0.191716387867928,0.114659272134304));
res += mul(Get(s0,-dx,0), float4x4(0.096711650490761,0.021654436364770,0.024607116356492,0.208412140607834,-0.063070826232433,0.061683226376772,-0.019014449790120,0.099340230226517,-0.068277068436146,0.084926046431065,0.239352017641068,-0.000645898457151,0.032976806163788,-0.071088306605816,-0.126826331019402,-0.078852765262127));
res += mul(Get(s0,-dx,dy), float4x4(-0.153286486864090,-0.161145880818367,-0.024912988767028,0.004148757550865,-0.062847100198269,-0.091767393052578,0.094461269676685,-0.109498463571072,-0.040548205375671,0.048796463757753,-0.166992872953415,0.017324730753899,-0.039273805916309,-0.006365704815835,-0.041287779808044,-0.042881418019533));
res += mul(Get(s0,0,-dy), float4x4(-0.016194745898247,-0.118402846157551,-0.047368343919516,-0.197477206587791,0.242384523153305,-0.010850211605430,0.035346210002899,-0.116828098893166,0.121943347156048,-0.112393550574780,0.155593916773796,0.166396006941795,-0.036737192422152,0.244839951395988,0.296949684619904,-0.046632662415504));
res += mul(Get(s0,0,0), float4x4(0.293533146381378,-0.095685943961143,-0.017225775867701,0.072029851377010,-0.231317520141602,-0.111204907298088,-0.110565684735775,0.000776495551690,-0.170370608568192,-0.095892347395420,-0.038393553346395,0.057557228952646,-0.017745066434145,-0.050901159644127,-0.030847247689962,0.092396497726440));
res += mul(Get(s0,0,dy), float4x4(0.222409337759018,0.161370381712914,0.019538875669241,0.084194786846638,-0.025021510198712,-0.075050324201584,0.039364144206047,0.072090014815331,-0.220544055104256,-0.029771881178021,0.158637821674347,0.143319487571716,-0.009683593176305,0.182711794972420,0.256336867809296,0.120237164199352));
res += mul(Get(s0,dx,-dy), float4x4(-0.142558991909027,-0.166251868009567,0.077488645911217,-0.082537285983562,0.064176529645920,-0.227514937520027,-0.001360458205454,-0.103497266769409,-0.094667956233025,-0.120088599622250,-0.083374202251434,-0.044717945158482,0.038946710526943,0.056366339325905,0.064732961356640,0.031848642975092));
res += mul(Get(s0,dx,0), float4x4(0.160076439380646,-0.120333395898342,-0.045457292348146,0.106550395488739,-0.132991388440132,0.137147173285484,-0.230660736560822,0.165395244956017,-0.101571328938007,-0.179496169090271,-0.010660756379366,0.081696301698685,-0.002697648247704,0.088330000638962,0.246571809053421,-0.070079334080219));
res += mul(Get(s0,dx,dy), float4x4(-0.039246525615454,0.054493889212608,-0.019684683531523,-0.090948052704334,0.049703877419233,-0.019292302429676,0.007257941178977,0.115346677601337,-0.012491444125772,0.059349648654461,0.020555365830660,-0.158508643507957,-0.073068231344223,0.060963679105043,0.034398421645164,0.028540536761284));
res += mul(Get(s1,-dx,-dy), float4x4(0.048083089292049,-0.095299303531647,-0.108701393008232,-0.045189205557108,0.041732743382454,-0.083024799823761,0.026336550712585,-0.118617020547390,-0.027525529265404,-0.018685422837734,0.031269997358322,0.045720152556896,0.070646949112415,-0.149348333477974,-0.072187639772892,-0.037974439561367));
res += mul(Get(s1,-dx,0), float4x4(-0.123371854424477,0.163078278303146,0.093257322907448,0.186011508107185,-0.114002205431461,-0.020086869597435,0.088277831673622,-0.096140824258327,0.176318660378456,0.016012754291296,0.008157320320606,-0.011479188688099,0.110981121659279,0.071507617831230,0.184874221682549,0.026343137025833));
res += mul(Get(s1,-dx,dy), float4x4(-0.001213510520756,0.003162431996316,0.024100484326482,-0.301829397678375,0.065030068159103,0.127293482422829,-0.095176257193089,0.060287903994322,-0.024533338844776,-0.029417667537928,0.151164367794991,-0.006955702789128,-0.036091670393944,0.128878384828568,-0.101878337562084,0.135295897722244));
res += mul(Get(s1,0,-dy), float4x4(0.089547604322433,-0.024310052394867,0.261304706335068,0.014347852207720,0.062622368335724,0.021108662709594,-0.140479147434235,-0.159658715128899,-0.077843479812145,0.047570992261171,-0.010244241915643,-0.005397879984230,0.049475073814392,0.034926455467939,-0.178048402070999,0.091675043106079));
res += mul(Get(s1,0,0), float4x4(0.029085572808981,0.054333161562681,-0.003108629956841,0.051281824707985,0.300006866455078,0.151598870754242,-0.195487082004547,0.007578564807773,0.269659340381622,0.128027454018593,0.068646587431431,0.055115193128586,-0.100812077522278,0.007583842147142,-0.108978822827339,0.122996009886265));
res += mul(Get(s1,0,dy), float4x4(-0.048184081912041,0.141860499978065,-0.067118592560291,0.013228164985776,0.050908122211695,-0.123733766376972,0.022045839577913,0.027523543685675,0.080569528043270,-0.229304894804955,-0.063110537827015,0.005530035588890,-0.065588131546974,0.089673914015293,0.208805322647095,-0.034954857081175));
res += mul(Get(s1,dx,-dy), float4x4(-0.163850262761116,0.135842010378838,0.193454265594482,0.183036014437675,0.021342011168599,0.015116722323000,-0.113399133086205,0.111179158091545,0.055754810571671,0.008883959613740,0.103354871273041,0.267778217792511,0.050138808786869,0.063098579645157,0.020157124847174,-0.225063204765320));
res += mul(Get(s1,dx,0), float4x4(-0.006464780773968,-0.232380568981171,-0.073827400803566,0.164728268980980,-0.033919166773558,-0.050945233553648,-0.092824615538120,-0.045325603336096,-0.066097922623158,0.083330079913139,-0.297026872634888,-0.031584508717060,0.144984781742096,0.121461734175682,-0.025764709338546,0.075543448328972));
res += mul(Get(s1,dx,dy), float4x4(0.064166121184826,0.081275857985020,-0.041392162442207,0.032435350120068,-0.092630080878735,0.122997522354126,-0.052998483181000,0.046651206910610,-0.077161997556686,-0.092131979763508,0.075817108154297,-0.015675786882639,-0.016680872067809,0.024803549051285,-0.122563853859901,0.118362665176392));
res += mul(Get(s2,-dx,-dy), float4x4(0.063515290617943,-0.120103821158409,0.162858024239540,0.141095414757729,-0.053738784044981,0.038574449717999,0.031663242727518,-0.107600808143616,-0.082852743566036,-0.016286998987198,-0.150769293308258,-0.118904039263725,-0.060006633400917,-0.101195804774761,0.119323045015335,-0.051770791411400));
res += mul(Get(s2,-dx,0), float4x4(-0.014844368211925,-0.054904896765947,-0.081182628870010,0.001491467701271,-0.038138344883919,-0.096836999058723,-0.001817217096686,0.033169310539961,0.029049405828118,0.199966654181480,0.262171596288681,0.024002410471439,-0.112304128706455,0.310804456472397,-0.222106948494911,0.078784070909023));
res += mul(Get(s2,-dx,dy), float4x4(0.107179678976536,0.057311255484819,0.121295578777790,0.168150931596756,-0.157283440232277,0.085515864193439,0.188670292496681,-0.226202815771103,-0.038982849568129,-0.071921080350876,0.111571297049522,0.119322866201401,0.069871470332146,0.008253777399659,-0.167071446776390,0.143756300210953));
res += mul(Get(s2,0,-dy), float4x4(0.277020007371902,-0.032398074865341,-0.012161681428552,0.176563262939453,0.202816471457481,-0.201996728777885,-0.126800939440727,-0.122294113039970,-0.059639837592840,-0.206158131361008,-0.155514940619469,-0.188169181346893,-0.093177147209644,0.010324633680284,-0.207298651337624,-0.126192227005959));
res += mul(Get(s2,0,0), float4x4(-0.210760712623596,0.024767864495516,0.037678815424442,0.008510116487741,0.023094812408090,-0.105357520282269,0.112985439598560,-0.097099281847477,-0.026138460263610,0.021351860836148,0.091163784265518,-0.008933980017900,0.009620688855648,-0.026691796258092,-0.129459768533707,-0.107907250523567));
res += mul(Get(s2,0,dy), float4x4(-0.085651703178883,0.064927883446217,-0.104188546538353,-0.002477491041645,-0.093312516808510,-0.121583119034767,-0.004967061802745,-0.018550574779510,-0.084055550396442,-0.232543602585793,-0.007048386149108,0.066444933414459,-0.144227281212807,-0.209451332688332,0.012227043509483,-0.070840649306774));
res += mul(Get(s2,dx,-dy), float4x4(0.120123170316219,0.203043341636658,-0.096128948032856,-0.002011545700952,0.003583617508411,0.037659302353859,0.115304544568062,0.124036267399788,0.008768523111939,-0.086052648723125,-0.185927897691727,-0.039016269147396,0.237124323844910,-0.139979764819145,0.076151996850967,-0.185434877872467));
res += mul(Get(s2,dx,0), float4x4(-0.055175937712193,0.019150441512465,-0.119458146393299,0.079025335609913,-0.108942136168480,-0.044065658003092,-0.026030506938696,0.010150759480894,0.082682900130749,-0.002947676461190,0.115589022636414,0.164745420217514,0.100755512714386,-0.172443300485611,-0.046324010938406,-0.063269533216953));
res += mul(Get(s2,dx,dy), float4x4(-0.031023623421788,0.033643197268248,0.008063006214797,-0.192288443446159,0.166117042303085,-0.028036763891578,0.089027926325798,-0.056489918380976,0.202075093984604,0.059946425259113,-0.050568975508213,0.099370427429676,-0.173515245318413,-0.050135254859924,-0.038970530033112,0.134584143757820));
res += mul(Get(s3,-dx,-dy), float4x4(0.020903253927827,0.135890722274780,-0.224026903510094,0.015616630204022,-0.106701970100403,0.313366740942001,-0.019861435517669,0.307482331991196,-0.070993952453136,-0.032158616930246,0.021047264337540,0.031767006963491,0.159324899315834,0.169873043894768,0.198619499802589,0.193177640438080));
res += mul(Get(s3,-dx,0), float4x4(0.035781692713499,-0.049503482878208,-0.051426727324724,-0.015260172076523,-0.073558717966080,-0.044696830213070,0.066722460091114,0.189038962125778,0.045764435082674,-0.013221317902207,-0.052386756986380,-0.021862946450710,-0.087115734815598,0.097209572792053,0.039577744901180,-0.046924985945225));
res += mul(Get(s3,-dx,dy), float4x4(0.056231036782265,-0.101550094783306,0.060751508921385,0.207504317164421,-0.060467638075352,-0.194024100899696,0.032530531287193,-0.004444657824934,0.063872255384922,-0.092450484633446,-0.015741940587759,0.199698776006699,-0.133748754858971,0.119982622563839,0.043267901986837,-0.104453407227993));
res += mul(Get(s3,0,-dy), float4x4(-0.121532879769802,0.136187478899956,-0.199232175946236,-0.017055628821254,-0.148655548691750,-0.099818572402000,-0.100343666970730,-0.066061824560165,0.001416932791471,0.012431437149644,-0.015967763960361,-0.187180370092392,0.038712263107300,0.097749345004559,0.047924112528563,-0.108897939324379));
res += mul(Get(s3,0,0), float4x4(-0.034673117101192,0.048985496163368,0.143077194690704,-0.062953941524029,-0.076441615819931,0.009231077507138,-0.195522949099541,-0.148765400052071,0.028850205242634,-0.165308833122253,-0.050091661512852,0.145865172147751,-0.022795550525188,-0.084219060838223,-0.124417766928673,-0.012379365041852));
res += mul(Get(s3,0,dy), float4x4(0.068073987960815,0.128524824976921,0.023842770606279,0.145291835069656,0.059112083166838,-0.128781303763390,0.107315354049206,-0.036284275352955,-0.042855031788349,0.038672242313623,-0.060470324009657,-0.181322887539864,-0.070177726447582,-0.129543170332909,-0.017550073564053,-0.053151331841946));
res += mul(Get(s3,dx,-dy), float4x4(0.025105070322752,-0.076042555272579,-0.260730773210526,-0.038320593535900,-0.002651803893968,-0.026068856939673,-0.200932681560516,-0.156055003404617,-0.177813723683357,0.093791536986828,0.128209248185158,-0.054853379726410,-0.201214522123337,-0.113923981785774,-0.165255770087242,-0.173667624592781));
res += mul(Get(s3,dx,0), float4x4(-0.266821622848511,0.201292812824249,0.078494779765606,-0.310456693172455,-0.066530480980873,0.033211801201105,0.176904737949371,-0.015202390961349,0.167823672294617,-0.101844497025013,0.048291545361280,-0.150478005409241,-0.093358173966408,-0.038192745298147,0.123535402119160,-0.190988391637802));
res += mul(Get(s3,dx,dy), float4x4(-0.139525085687637,-0.035884149372578,-0.059019349515438,-0.212272837758064,-0.048529494553804,0.089050374925137,0.172954380512238,0.141723543405533,-0.000113982117909,0.016568444669247,0.030947729945183,0.002583830151707,0.131794258952141,0.085947684943676,-0.021835686638951,-0.247162222862244));
return max(float4(0,0,0,0), res);
}
