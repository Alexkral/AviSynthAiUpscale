sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.022034438326955,-0.051214087754488,-0.013609847053885,-0.013543038628995,0.126231178641319,-0.267444044351578,0.045886415988207,0.041703406721354,-0.077446050941944,-0.059024348855019,-0.047587372362614,-0.180080637335777,-0.179911956191063,0.156310290098190,0.024159224703908,0.043672870844603));
res += mul(Get(s0,-dx,0), float4x4(-0.053407575935125,-0.114835776388645,-0.046218957751989,-0.185841292142868,-0.005967968143523,-0.053923178464174,0.072794787585735,-0.148865759372711,-0.141701027750969,-0.008455727249384,0.088443778455257,-0.079195670783520,0.068878538906574,0.024008145555854,0.290370166301727,0.117626503109932));
res += mul(Get(s0,-dx,dy), float4x4(0.193187281489372,-0.052648797631264,0.018042098730803,-0.071456685662270,-0.084494106471539,-0.161499410867691,0.078267924487591,-0.080006510019302,0.167277246713638,-0.111914418637753,-0.177952706813812,-0.261742532253265,0.064820773899555,0.155851855874062,0.347413539886475,0.275977581739426));
res += mul(Get(s0,0,-dy), float4x4(-0.087866909801960,0.026415770873427,0.051179122179747,0.008183240890503,0.007477715145797,-0.043420806527138,-0.010402158834040,0.176997795701027,-0.123508863151073,-0.042507205158472,0.141464114189148,-0.293713331222534,-0.137683108448982,0.008307553827763,-0.282404541969299,-0.084898136556149));
res += mul(Get(s0,0,0), float4x4(-0.056764386594296,0.062865830957890,0.067132949829102,-0.035162538290024,0.097324587404728,0.324338555335999,-0.085770405828953,-0.068754665553570,-0.241194084286690,0.100714474916458,-0.160188853740692,-0.104262910783291,0.104374445974827,-0.226180315017700,-0.173509091138840,0.037699889391661));
res += mul(Get(s0,0,dy), float4x4(0.131427481770515,0.105943053960800,0.121413834393024,-0.104658395051956,-0.162053480744362,0.034252606332302,0.009384569711983,-0.155461803078651,0.078482441604137,0.025148389860988,-0.153772905468941,-0.242462068796158,0.012774722650647,0.263521224260330,-0.104404933750629,-0.081430248916149));
res += mul(Get(s0,dx,-dy), float4x4(-0.131743207573891,-0.045692317187786,0.171109035611153,0.014301624149084,0.090344719588757,0.004710637498647,-0.061562236398458,-0.083099931478500,0.092531755566597,-0.030147343873978,-0.145357951521873,-0.215936884284019,-0.033788841217756,-0.063598617911339,-0.120682246983051,0.078273132443428));
res += mul(Get(s0,dx,0), float4x4(0.010621489956975,0.068585865199566,0.195465266704559,0.205367043614388,0.038756579160690,0.033857572823763,-0.029496431350708,-0.159329131245613,0.118728324770927,0.153689473867416,0.028039917349815,-0.017071286216378,0.003383085830137,0.097722135484219,-0.160893097519875,0.121382310986519));
res += mul(Get(s0,dx,dy), float4x4(0.204065933823586,-0.123664967715740,0.049283575266600,-0.121709711849689,-0.010685089975595,-0.006220529321581,-0.001821589074098,-0.010898566804826,0.183818563818932,0.356752663850784,-0.014222947880626,-0.155333384871483,0.222116574645042,-0.016168817877769,-0.111670814454556,0.044146116822958));
res += mul(Get(s1,-dx,-dy), float4x4(0.073074594140053,-0.194062247872353,-0.026565315201879,-0.087175071239471,-0.077693074941635,-0.015327679924667,-0.119468376040459,-0.221458390355110,0.022091420367360,0.300106078386307,0.047536987811327,-0.092896603047848,-0.146582245826721,0.220739975571632,-0.258232325315475,-0.079015441238880));
res += mul(Get(s1,-dx,0), float4x4(-0.091751359403133,-0.195240020751953,0.054929070174694,0.136381790041924,-0.110808707773685,-0.169207930564880,0.102844491600990,-0.057446736842394,0.009016778320074,0.379693567752838,-0.298446863889694,-0.084462225437164,-0.308201223611832,-0.024310721084476,-0.190014228224754,-0.050047416239977));
res += mul(Get(s1,-dx,dy), float4x4(-0.104692183434963,-0.084011398255825,0.049432940781116,-0.128179401159286,-0.175171047449112,-0.056977767497301,0.195667326450348,0.018156185746193,-0.170420348644257,-0.169967889785767,0.284276574850082,-0.149416282773018,-0.132359132170677,-0.199167892336845,-0.093372628092766,-0.116238601505756));
res += mul(Get(s1,0,-dy), float4x4(-0.039745036512613,-0.001237731659785,-0.024719227105379,-0.241989970207214,-0.189935356378555,-0.048517603427172,-0.057498794049025,-0.182354167103767,0.268763720989227,-0.305959820747375,-0.145634517073631,-0.120381347835064,-0.087190322577953,-0.077230565249920,0.342175900936127,-0.138641670346260));
res += mul(Get(s1,0,0), float4x4(-0.180910378694534,-0.226576998829842,-0.026475310325623,-0.269133567810059,-0.120361886918545,-0.067457236349583,-0.041979435831308,-0.049572784453630,-0.085093282163143,0.055762991309166,0.077951386570930,-0.026051884517074,-0.213021397590637,0.083252333104610,0.286246716976166,0.012599185109138));
res += mul(Get(s1,0,dy), float4x4(-0.046813383698463,0.005435031373054,0.126989811658859,0.030450986698270,-0.078579120337963,-0.045589182525873,0.038424491882324,0.011784370988607,-0.152783527970314,0.210195720195770,0.235824272036552,0.020584413781762,-0.035165738314390,-0.162319138646126,0.048655409365892,-0.003151690587401));
res += mul(Get(s1,dx,-dy), float4x4(0.106744468212128,-0.068126894533634,-0.120934791862965,-0.238120347261429,-0.101784847676754,-0.018517466261983,0.068288877606392,-0.137709826231003,0.087496325373650,-0.243702575564384,-0.182130321860313,0.036733344197273,0.109695106744766,-0.072935670614243,0.101177871227264,-0.055994570255280));
res += mul(Get(s1,dx,0), float4x4(-0.109333962202072,-0.146594345569611,-0.071517869830132,-0.167300567030907,-0.093368150293827,-0.105942778289318,0.019812054932117,-0.063040979206562,0.044059343636036,0.024153046309948,-0.082007005810738,-0.070062063634396,0.164971917867661,-0.134393736720085,-0.049956180155277,-0.068458214402199));
res += mul(Get(s1,dx,dy), float4x4(-0.108408145606518,-0.117267437279224,-0.015873424708843,0.193022266030312,-0.054536793380976,-0.156531155109406,0.005749330855906,-0.136996671557426,0.038167301565409,-0.210245445370674,0.040862731635571,-0.051058053970337,0.204808995127678,-0.151784911751747,0.008325506001711,-0.089323744177818));
res += mul(Get(s2,-dx,-dy), float4x4(0.004467203281820,-0.057830102741718,-0.282389044761658,0.052584901452065,-0.248005598783493,0.014750885777175,-0.130366027355194,0.025907099246979,0.028802875429392,-0.176349118351936,-0.008795312605798,0.212796658277512,0.105881810188293,0.164318144321442,0.028653942048550,0.012821294367313));
res += mul(Get(s2,-dx,0), float4x4(-0.097642362117767,0.051783576607704,-0.045623604208231,-0.045056916773319,-0.002771785948426,-0.103477410972118,-0.072451941668987,-0.051918301731348,-0.019282186403871,-0.098561272025108,-0.066326826810837,0.352081060409546,-0.108356483280659,-0.061968348920345,-0.106238804757595,0.010212143883109));
res += mul(Get(s2,-dx,dy), float4x4(0.000462688301923,-0.169573053717613,-0.166755989193916,0.096420571208000,-0.056241445243359,0.062083434313536,-0.181401938199997,-0.024732867255807,-0.048105444759130,-0.082510203123093,-0.077503442764282,0.210349828004837,-0.052540726959705,0.013271014206111,-0.161797702312469,0.018062181770802));
res += mul(Get(s2,0,-dy), float4x4(-0.035224743187428,-0.183122619986534,-0.053988706320524,0.156268984079361,-0.246816769242287,-0.128356665372849,0.192165672779083,-0.071849778294563,-0.079258553683758,0.007928106933832,0.096088953316212,-0.056931488215923,0.124891437590122,0.119448855519295,0.070221342146397,0.023146560415626));
res += mul(Get(s2,0,0), float4x4(-0.105069592595100,0.123272091150284,-0.000728585640900,0.265606462955475,-0.071328088641167,-0.041407749056816,0.386553078889847,-0.055807389318943,-0.033929217606783,0.030274616554379,0.007589840795845,0.185986563563347,-0.116664826869965,-0.188353076577187,-0.043031774461269,0.059596985578537));
res += mul(Get(s2,0,dy), float4x4(-0.133326917886734,-0.084107927978039,-0.007577641867101,0.167770892381668,-0.092575684189796,0.095588207244873,0.158680573105812,-0.121969781816006,0.083318769931793,0.052530646324158,-0.006380747538060,0.188955456018448,-0.125787198543549,-0.066415943205357,-0.026591127738357,0.027437362819910));
res += mul(Get(s2,dx,-dy), float4x4(0.061025619506836,0.016707941889763,-0.009839745238423,0.317814767360687,0.053568333387375,0.042440749704838,0.089129604399204,-0.072835922241211,0.068081706762314,-0.135645836591721,0.120063170790672,0.045876044780016,-0.040505293756723,0.042673245072365,-0.009400521405041,-0.068330250680447));
res += mul(Get(s2,dx,0), float4x4(0.063248030841351,0.293093770742416,0.095111668109894,0.052376482635736,0.349771559238434,0.048563640564680,0.102342918515205,-0.081432841718197,0.030787594616413,-0.043272446841002,0.045510578900576,-0.056234974414110,-0.171352833509445,-0.079587884247303,-0.119588173925877,-0.000154169174493));
res += mul(Get(s2,dx,dy), float4x4(0.308972686529160,-0.048313941806555,-0.012499026954174,-0.115927286446095,0.128419071435928,0.281128585338593,-0.163336515426636,-0.085164144635201,-0.025811597704887,-0.054247416555882,-0.006263738498092,-0.151236861944199,-0.079809375107288,-0.016696183010936,0.019679190590978,-0.045364633202553));
res += mul(Get(s3,-dx,-dy), float4x4(-0.008024366572499,0.013491949066520,-0.181224137544632,-0.124585248529911,0.137233987450600,-0.301460236310959,-0.190157026052475,-0.285351455211639,0.240042030811310,0.002981022000313,-0.070646196603775,-0.032219026237726,0.006999244447798,-0.093251332640648,-0.089138798415661,-0.145837724208832));
res += mul(Get(s3,-dx,0), float4x4(-0.242936521768570,0.102350845932961,-0.148398384451866,-0.087207056581974,-0.161842390894890,-0.150804355740547,0.118501253426075,-0.025277866050601,-0.069857008755207,0.001505237421952,0.043917048722506,-0.160411223769188,-0.141192600131035,-0.049716323614120,-0.066449783742428,0.020227745175362));
res += mul(Get(s3,-dx,dy), float4x4(0.054533336311579,0.193191602826118,0.072785258293152,-0.101871706545353,-0.209196329116821,0.214670255780220,-0.084920652210712,0.098505213856697,0.004404294304550,0.038319788873196,0.107670009136200,0.039864499121904,-0.150435537099838,0.131628662347794,-0.012549309991300,-0.059128515422344));
res += mul(Get(s3,0,-dy), float4x4(0.011072238907218,-0.090898133814335,-0.097625620663166,-0.117713466286659,0.055646449327469,-0.199500963091850,-0.210344970226288,-0.303200453519821,-0.120368592441082,-0.089940592646599,0.141848325729370,0.079690173268318,0.012802388519049,-0.069450847804546,-0.153561353683472,-0.112667024135590));
res += mul(Get(s3,0,0), float4x4(-0.083408877253532,0.130099713802338,-0.042044669389725,-0.041824255138636,-0.015516998246312,-0.060496889054775,0.118795216083527,-0.105328932404518,0.062321126461029,-0.203493937849998,-0.151379883289337,-0.116895087063313,-0.085365854203701,-0.153194129467010,-0.078934736549854,-0.017116278409958));
res += mul(Get(s3,0,dy), float4x4(-0.244857251644135,0.211700737476349,-0.039160665124655,-0.071798436343670,-0.106291569769382,-0.086408384144306,0.007198194041848,-0.131313905119896,0.000043213258323,0.046670768409967,-0.113344334065914,0.006529612466693,-0.102468423545361,0.128253698348999,-0.017992962151766,0.000343038467690));
res += mul(Get(s3,dx,-dy), float4x4(0.144244566559792,0.058440521359444,0.063871696591377,0.011109258979559,-0.066542208194733,-0.021686907857656,0.022185029461980,-0.303552150726318,-0.216792047023773,-0.171937316656113,0.231743216514587,0.186024770140648,0.008752504363656,-0.086018823087215,0.042727876454592,-0.059254623949528));
res += mul(Get(s3,dx,0), float4x4(0.052672307938337,0.073636353015900,-0.001626462093554,-0.074909299612045,-0.076754316687584,-0.212223932147026,0.010948747396469,0.032836314290762,-0.030689213424921,-0.158392727375031,-0.088132902979851,-0.063392110168934,-0.095948465168476,-0.156399279832840,0.132426917552948,0.095625765621662));
res += mul(Get(s3,dx,dy), float4x4(-0.114120967686176,-0.056663155555725,-0.029963023960590,-0.106398694217205,-0.037450969219208,-0.118055485188961,-0.097541555762291,0.081638447940350,0.489120662212372,-0.188043579459190,-0.143748298287392,-0.053159601986408,0.044750094413757,-0.029305327683687,-0.086006022989750,0.065035462379456));
return max(float4(0,0,0,0), res);
}
