sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.272641092538834,-0.125768288969994,-0.022796163335443,-0.000383389648050,-0.228655904531479,-0.089559823274612,0.111785449087620,0.086058519780636,0.120204851031303,0.247228905558586,0.054515566676855,-0.088509805500507,0.065452851355076,-0.041889198124409,-0.043197043240070,0.031905528157949));
res += mul(Get(s0,-dx,0), float4x4(0.080332905054092,0.220387533307076,0.076838150620461,0.086166374385357,-0.258606493473053,-0.019160220399499,-0.029907496646047,-0.009727087803185,-0.001755293225870,0.090676255524158,0.125716537237167,0.078566253185272,-0.055078301578760,-0.063456252217293,-0.029822558164597,-0.182097330689430));
res += mul(Get(s0,-dx,dy), float4x4(-0.218240693211555,0.082188375294209,0.036156862974167,-0.160647094249725,-0.164582356810570,0.206188425421715,-0.222045212984085,0.065244443714619,-0.048313591629267,0.028877791017294,-0.090728238224983,0.051849748939276,0.143716052174568,-0.101942621171474,0.065638996660709,-0.087996952235699));
res += mul(Get(s0,0,-dy), float4x4(-0.050339259207249,0.015577413141727,-0.117151737213135,-0.105567142367363,-0.011872108094394,0.010307081975043,-0.104322656989098,0.054989699274302,-0.173773139715195,0.102044105529785,-0.172662943601608,-0.148332014679909,-0.005918727256358,0.021002000197768,0.080542452633381,-0.145557120442390));
res += mul(Get(s0,0,0), float4x4(-0.059384580701590,0.176555722951889,-0.096841290593147,0.005654496606439,-0.033454343676567,-0.024490818381310,-0.053485549986362,-0.003105754731223,0.099221765995026,0.003765041241422,0.167597293853760,-0.093638136982918,-0.065956912934780,0.114958934485912,0.023226317018270,0.018312012776732));
res += mul(Get(s0,0,dy), float4x4(-0.056635238230228,-0.027105692774057,-0.000578245904762,-0.117928594350815,-0.137423425912857,-0.041312705725431,0.110905654728413,0.141372904181480,0.206846669316292,0.056795176118612,-0.031576372683048,-0.218756705522537,0.160371929407120,0.082765959203243,0.033856265246868,0.023468364030123));
res += mul(Get(s0,dx,-dy), float4x4(-0.138896867632866,-0.041782192885876,-0.107907734811306,-0.089324660599232,-0.202518865466118,0.116933323442936,-0.093513220548630,-0.053339980542660,-0.121952138841152,-0.184699371457100,0.107915282249451,-0.098251461982727,-0.049461003392935,0.157343789935112,-0.171026691794395,-0.081772491335869));
res += mul(Get(s0,dx,0), float4x4(0.071461103856564,-0.072053760290146,0.048597954213619,0.102415420114994,-0.228363528847694,-0.208161026239395,-0.103905826807022,0.121332064270973,-0.040059749037027,0.076429665088654,-0.285608977079391,-0.042877972126007,0.129652529954910,0.285070598125458,0.097790285944939,-0.056498672813177));
res += mul(Get(s0,dx,dy), float4x4(-0.146586105227470,0.144625678658485,-0.102065578103065,0.032321207225323,0.112088754773140,-0.134486570954323,-0.078056745231152,-0.184829026460648,0.332994073629379,-0.013044754974544,0.017098940908909,-0.037899497896433,-0.134067505598068,0.023836085572839,0.069854430854321,-0.039011616259813));
res += mul(Get(s1,-dx,-dy), float4x4(-0.068216241896152,0.203667283058167,-0.103780634701252,-0.172873422503471,-0.049645692110062,0.050318494439125,-0.202436923980713,0.000940167461522,-0.034000672399998,0.156913056969643,0.078954346477985,0.056815657764673,0.104650482535362,0.050671786069870,-0.009032293222845,-0.170232549309731));
res += mul(Get(s1,-dx,0), float4x4(0.140798419713974,-0.028513839468360,-0.060163434594870,-0.159830495715141,0.003414138685912,0.021034969016910,0.025672959163785,-0.020815061405301,0.036929517984390,-0.159531489014626,0.005443118978292,-0.124707952141762,0.008689108304679,-0.014470738358796,0.141124010086060,0.045912232249975));
res += mul(Get(s1,-dx,dy), float4x4(-0.011963861063123,0.009991844184697,-0.022455038502812,-0.007194183766842,-0.022779906168580,0.013317706063390,-0.175662338733673,0.174032598733902,0.056677687913179,-0.057282935827971,0.083208940923214,-0.020108537748456,0.112336657941341,0.168699249625206,0.069285586476326,0.145242154598236));
res += mul(Get(s1,0,-dy), float4x4(0.072651341557503,-0.018104335293174,-0.072683840990067,0.010218971408904,0.077651448547840,0.149935275316238,-0.170123457908630,0.001025977893732,0.039296742528677,0.148534372448921,0.072858363389969,-0.059701107442379,0.020353421568871,-0.030864823609591,-0.033209025859833,-0.014361947774887));
res += mul(Get(s1,0,0), float4x4(0.060044314712286,-0.046751677989960,-0.068257153034210,-0.030015643686056,0.032693848013878,-0.030349658802152,-0.064108394086361,0.012742767110467,0.287014812231064,0.082649253308773,-0.000208113764529,-0.050391465425491,-0.158072888851166,-0.021996969357133,0.187274143099785,-0.217576086521149));
res += mul(Get(s1,0,dy), float4x4(-0.006185260601342,0.076918818056583,-0.032402507960796,-0.128859192132950,0.011197656393051,0.217992871999741,-0.006682027596980,0.014013781212270,0.103655830025673,0.044041343033314,-0.127415612339973,0.058471169322729,0.066069513559341,0.053168676793575,0.016032626852393,-0.038093380630016));
res += mul(Get(s1,dx,-dy), float4x4(0.128967240452766,-0.199674293398857,-0.073516346514225,-0.134342446923256,-0.142490953207016,0.040077447891235,-0.325323104858398,-0.008893311023712,0.130667239427567,0.006831083446741,0.037578616291285,-0.073766611516476,-0.042658086866140,-0.133419618010521,0.176072865724564,-0.163895085453987));
res += mul(Get(s1,dx,0), float4x4(-0.077148966491222,-0.001339138136245,-0.081342317163944,-0.037887666374445,0.148805245757103,0.028306378051639,-0.011367315426469,-0.055438380688429,0.199811801314354,0.060144718736410,-0.038329612463713,-0.019227359443903,0.086843952536583,-0.217518091201782,0.167706817388535,0.034082498401403));
res += mul(Get(s1,dx,dy), float4x4(0.106318607926369,-0.046711944043636,0.009976215660572,0.140933409333229,0.044331021606922,-0.006063761655241,-0.106437087059021,-0.112392142415047,0.150752469897270,-0.022102903574705,0.104825377464294,-0.058284502476454,0.163987189531326,-0.119507133960724,-0.014605903998017,0.065091721713543));
res += mul(Get(s2,-dx,-dy), float4x4(-0.158507704734802,0.091390319168568,-0.029977140948176,0.134067565202713,-0.079750992357731,-0.117670781910419,-0.098324440419674,0.062923185527325,-0.235846146941185,-0.054871704429388,0.085715234279633,-0.061482835561037,-0.043664213269949,0.049215614795685,-0.029937379062176,-0.040039591491222));
res += mul(Get(s2,-dx,0), float4x4(-0.058920241892338,-0.017046371474862,0.178660035133362,0.078756771981716,0.072991199791431,-0.051362995058298,0.129675149917603,0.177418142557144,0.010549766011536,0.096285469830036,0.237431511282921,0.086631000041962,-0.045718923211098,-0.071842096745968,-0.057507436722517,0.001264021382667));
res += mul(Get(s2,-dx,dy), float4x4(-0.028489999473095,0.077916733920574,-0.140395998954773,-0.159757480025291,0.012086869217455,0.068292066454887,-0.026400355622172,-0.198889166116714,0.018680267035961,0.090039350092411,0.020534932613373,0.123927287757397,-0.186752632260323,-0.207718804478645,-0.153581202030182,0.032700914889574));
res += mul(Get(s2,0,-dy), float4x4(0.084454238414764,0.175579190254211,0.028689308091998,-0.029382072389126,-0.061463825404644,-0.128503590822220,-0.069763600826263,-0.143605694174767,-0.055343013256788,0.070508897304535,0.024205392226577,-0.104050099849701,0.053486157208681,0.075267113745213,-0.080723501741886,0.055986009538174));
res += mul(Get(s2,0,0), float4x4(0.051676757633686,0.010401135310531,0.012538064271212,-0.041021831333637,0.066378802061081,0.034044843167067,-0.251370280981064,0.088975392282009,0.087768606841564,0.061995863914490,0.043130703270435,0.071927875280380,0.120719373226166,-0.082596331834793,-0.098285168409348,-0.052909437566996));
res += mul(Get(s2,0,dy), float4x4(-0.147500544786453,-0.076053000986576,0.118195205926895,-0.080294571816921,-0.161273822188377,-0.149085938930511,-0.022490242496133,-0.016988571733236,0.182875603437424,0.075990602374077,0.205681994557381,-0.157587051391602,0.096023656427860,-0.090774871408939,-0.016574868932366,-0.054036755114794));
res += mul(Get(s2,dx,-dy), float4x4(-0.049841377884150,-0.090078383684158,-0.124717935919762,0.039657689630985,0.037823278456926,0.041393537074327,0.156347885727882,-0.124127537012100,0.011871809139848,0.086495369672775,0.109254948794842,0.004889601375908,0.037141930311918,-0.046262767165899,-0.170214042067528,0.080285035073757));
res += mul(Get(s2,dx,0), float4x4(0.186673715710640,-0.065783865749836,0.124707728624344,-0.011374151334167,0.109097972512245,0.092146039009094,0.062406565994024,0.074456579983234,0.258152753114700,0.007588273845613,0.036876127123833,-0.103505700826645,0.070779368281364,0.033240210264921,-0.017788773402572,-0.089764319360256));
res += mul(Get(s2,dx,dy), float4x4(0.130836859345436,-0.135858103632927,-0.113176554441452,-0.075200632214546,0.002461283700541,-0.085637502372265,0.078106030821800,0.119455173611641,-0.129904434084892,-0.012742976658046,0.034061618149281,0.053273186087608,0.038863841444254,-0.180690422654152,-0.095753274857998,-0.050268586724997));
res += mul(Get(s3,-dx,-dy), float4x4(-0.163518667221069,-0.079954430460930,-0.213189601898193,0.132804438471794,-0.105841577053070,-0.033102687448263,-0.071041196584702,-0.199109807610512,0.067862458527088,0.063165858387947,0.117934800684452,-0.003066739998758,-0.184811696410179,0.018664028495550,0.209262639284134,0.011856013908982));
res += mul(Get(s3,-dx,0), float4x4(-0.157134711742401,0.027615796774626,0.040019024163485,-0.026760609820485,0.082420095801353,0.173089280724525,0.035047903656960,-0.040418051183224,0.025920966640115,0.260361462831497,-0.106764167547226,-0.147535860538483,-0.239958643913269,-0.136642545461655,0.093736544251442,0.079472206532955));
res += mul(Get(s3,-dx,dy), float4x4(-0.092976689338684,0.100353494286537,0.006252874154598,-0.140382468700409,0.031387843191624,0.130895778536797,-0.005578239448369,-0.040772601962090,0.146234497427940,-0.030474780127406,0.029705619439483,-0.188854292035103,-0.276982337236404,0.057561151683331,-0.201504930853844,0.033473256975412));
res += mul(Get(s3,0,-dy), float4x4(0.070661410689354,-0.008023458532989,0.045430924743414,0.008090234361589,0.127460077404976,-0.074692249298096,0.066978558897972,-0.012085877358913,-0.026394233107567,0.018288062885404,0.084512859582901,-0.132473841309547,-0.078856870532036,-0.002707687206566,-0.133052259683609,-0.003951643127948));
res += mul(Get(s3,0,0), float4x4(-0.041348338127136,-0.017649548128247,0.000776235538069,0.067219547927380,0.196460738778114,0.073667719960213,-0.022844005376101,0.065074637532234,-0.076678402721882,-0.017494391649961,-0.157654255628586,0.100728787481785,0.235338225960732,0.001707666087896,-0.085082717239857,0.044005729258060));
res += mul(Get(s3,0,dy), float4x4(-0.040438037365675,0.027143932878971,-0.156556248664856,0.163727879524231,0.144331514835358,0.051426071673632,-0.023308316245675,-0.056870542466640,0.035055804997683,-0.135595098137856,0.034968733787537,0.126993715763092,-0.153251886367798,0.035370159894228,0.113319680094719,-0.272917360067368));
res += mul(Get(s3,dx,-dy), float4x4(0.093259304761887,-0.154527500271797,0.059083379805088,-0.100939974188805,-0.125693887472153,0.018706299364567,0.082448378205299,-0.127597630023956,-0.061060402542353,0.081005789339542,-0.052699938416481,-0.167906537652016,-0.135374143719673,0.151899859309196,0.163512885570526,0.166254326701164));
res += mul(Get(s3,dx,0), float4x4(0.091926485300064,-0.166111305356026,0.042030479758978,-0.076557308435440,-0.059064064174891,-0.079606235027313,0.138579413294792,-0.057600270956755,-0.120163097977638,0.080454088747501,-0.099430166184902,0.178812742233276,0.071501113474369,-0.203446507453918,0.103569388389587,0.064370177686214));
res += mul(Get(s3,dx,dy), float4x4(0.318078309297562,0.060402844101191,-0.011666595935822,0.121751464903355,0.060984376817942,0.100827284157276,-0.039344329386950,-0.123413078486919,0.000008823322787,0.016628304496408,-0.101795442402363,0.015007168985903,-0.064592450857162,-0.075406782329082,0.062107041478157,0.046865500509739));
return max(float4(0,0,0,0), res);
}
