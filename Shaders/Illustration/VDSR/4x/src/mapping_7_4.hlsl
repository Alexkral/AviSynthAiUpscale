sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.244864851236343,-0.126582279801369,0.058540772646666,-0.084996700286865,-0.090835765004158,-0.122590392827988,-0.034700933843851,0.059232689440250,-0.089404635131359,-0.061325781047344,-0.071717008948326,-0.053059082478285,-0.097627185285091,-0.014433789066970,-0.174019679427147,-0.027324747294188));
res += mul(Get(s0,-dx,0), float4x4(-0.089378267526627,-0.098162695765495,-0.055583748966455,0.036672096699476,-0.046032212674618,-0.081009425222874,0.124281920492649,-0.012548502534628,-0.102978639304638,-0.047047246247530,-0.056286100298166,0.161314889788628,-0.043162453919649,-0.070143193006516,-0.118471421301365,0.043826881796122));
res += mul(Get(s0,-dx,dy), float4x4(-0.071861997246742,-0.080706335604191,0.090579964220524,0.056505128741264,-0.090804159641266,-0.087709687650204,-0.223268568515778,-0.100404992699623,0.090390413999557,-0.096239075064659,0.108906731009483,0.107163280248642,-0.066530592739582,-0.142899349331856,-0.111250594258308,-0.042080737650394));
res += mul(Get(s0,0,-dy), float4x4(-0.131594225764275,-0.047509785741568,0.209470152854919,-0.183119922876358,-0.114944964647293,-0.039263412356377,-0.046606641262770,0.220163092017174,-0.101489022374153,0.025134868919849,0.075657628476620,-0.125037238001823,-0.107671923935413,0.050373509526253,0.120520114898682,0.015723727643490));
res += mul(Get(s0,0,0), float4x4(-0.011066983453929,-0.008449709042907,-0.071549132466316,-0.042639788240194,0.023546481505036,-0.011085158213973,-0.117715209722519,0.100089631974697,-0.110577590763569,-0.025228939950466,-0.087350688874722,-0.092620201408863,-0.136619582772255,0.037062071263790,0.282587200403214,0.168803602457047));
res += mul(Get(s0,0,dy), float4x4(-0.021523348987103,-0.018295735120773,0.049530342221260,-0.074474208056927,-0.031737230718136,-0.109377123415470,-0.166389718651772,-0.039435010403395,-0.094687126576900,0.002554188715294,-0.075558610260487,-0.066198594868183,0.012840043753386,-0.137167319655418,0.070773974061012,0.043530471622944));
res += mul(Get(s0,dx,-dy), float4x4(-0.158621579408646,-0.031934577971697,-0.022292133420706,-0.059388075023890,-0.134983777999878,-0.032974664121866,0.003671799786389,0.095481812953949,-0.087180383503437,0.043999820947647,-0.014811551198363,-0.146411359310150,0.001670849276707,0.060386307537556,0.100891038775444,-0.068973988294601));
res += mul(Get(s0,dx,0), float4x4(-0.040102727711201,0.030816080048680,-0.076781041920185,-0.117933891713619,0.009984835051000,-0.019045718014240,-0.151685848832130,0.017346335574985,-0.058906011283398,0.080185130238533,-0.143352761864662,-0.032197002321482,-0.018809042870998,0.029373509809375,0.004508736543357,0.172424107789993));
res += mul(Get(s0,dx,dy), float4x4(-0.034788429737091,-0.075317136943340,0.116466179490089,-0.080901004374027,0.041340392082930,-0.144755706191063,-0.158453792333603,-0.178248539566994,0.030855601653457,0.014894645661116,-0.085666880011559,0.030129285529256,0.027505924925208,-0.168029621243477,-0.046631820499897,0.057207375764847));
res += mul(Get(s1,-dx,-dy), float4x4(-0.156093940138817,-0.109078332781792,0.049245942384005,0.227339640259743,-0.012929446995258,-0.048389781266451,-0.168364524841309,0.133804082870483,-0.198898032307625,-0.319702327251434,0.017122168093920,0.139969736337662,-0.156884536147118,-0.157295092940331,-0.218778967857361,-0.068433202803135));
res += mul(Get(s1,-dx,0), float4x4(-0.180382981896400,-0.061252322047949,0.018433336168528,0.072445616126060,0.096045389771461,-0.079674772918224,-0.052860330790281,-0.078497432172298,-0.249479219317436,-0.246303364634514,-0.127171337604523,-0.016954872757196,-0.244873017072678,-0.145327791571617,-0.050546538084745,-0.016412625089288));
res += mul(Get(s1,-dx,dy), float4x4(-0.115616537630558,0.038140077143908,0.041316684335470,0.181626766920090,0.087099410593510,-0.100693285465240,-0.190462410449982,-0.016221253201365,-0.262239605188370,-0.208391517400742,-0.247572392225266,0.041172817349434,-0.083939440548420,-0.425729542970657,0.183185160160065,-0.083804927766323));
res += mul(Get(s1,0,-dy), float4x4(-0.057448145002127,-0.078163012862206,0.066430531442165,-0.050901014357805,-0.087709970772266,0.029522374272346,0.058386221528053,0.130168586969376,-0.113445132970810,-0.043104253709316,-0.235212832689285,0.036211717873812,-0.019796261563897,-0.112962298095226,-0.137082949280739,-0.208016946911812));
res += mul(Get(s1,0,0), float4x4(-0.105040088295937,-0.075098395347595,0.038875348865986,-0.080399096012115,0.071852996945381,-0.006075928919017,0.042304351925850,0.029615670442581,0.079872094094753,-0.215359315276146,-0.153810188174248,-0.031284078955650,-0.058538123965263,-0.043450806289911,-0.203083902597427,-0.145725011825562));
res += mul(Get(s1,0,dy), float4x4(0.007214870303869,-0.037255086004734,-0.058793012052774,-0.222690403461456,-0.062860056757927,-0.050995953381062,0.364352822303772,0.059940163046122,-0.172017171978951,-0.177790924906731,-0.231287956237793,-0.087103225290775,0.247561439871788,-0.247468933463097,-0.108826570212841,-0.059767533093691));
res += mul(Get(s1,dx,-dy), float4x4(-0.073516860604286,-0.086394421756268,-0.176719889044762,-0.184452340006828,0.059160545468330,0.150053381919861,0.355196565389633,0.187500521540642,0.152657866477966,0.034862790256739,-0.143583387136459,0.110430642962456,-0.063430160284042,-0.017452770844102,0.143637016415596,-0.324414163827896));
res += mul(Get(s1,dx,0), float4x4(0.048091899603605,0.050852738320827,0.007340085692704,-0.070433318614960,0.064152479171753,0.004705736879259,0.158603578805923,-0.033559486269951,-0.163550361990929,-0.152426347136497,0.048898041248322,-0.062350668013096,0.065954037010670,-0.009685869328678,-0.042763430625200,0.052615057677031));
res += mul(Get(s1,dx,dy), float4x4(-0.065787315368652,0.048954609781504,0.043895065784454,-0.056529719382524,-0.057827658951283,-0.069690421223640,0.052940599620342,0.076756402850151,-0.109048843383789,0.034835848957300,0.375630170106888,-0.070681899785995,0.221052318811417,-0.127416968345642,0.145001247525215,0.150771275162697));
res += mul(Get(s2,-dx,-dy), float4x4(0.115191459655762,0.034667827188969,-0.007175401318818,0.052393749356270,-0.167245447635651,0.050303634256124,-0.024863777682185,0.082526169717312,-0.019925281405449,-0.035338725894690,-0.011727021075785,0.163519173860550,-0.167795196175575,-0.146602228283882,-0.083743944764137,-0.047930769622326));
res += mul(Get(s2,-dx,0), float4x4(0.001479846658185,0.225320830941200,0.109930902719498,0.032222080975771,0.114504039287567,-0.018702279776335,-0.108500033617020,-0.188895881175995,-0.079654142260551,-0.061924785375595,0.203924641013145,0.123249329626560,-0.129010975360870,-0.090979836881161,-0.165827035903931,0.125200301408768));
res += mul(Get(s2,-dx,dy), float4x4(0.265260219573975,0.149853095412254,0.003581390017644,-0.057196252048016,0.054496042430401,0.045487444847822,-0.311198949813843,-0.099489524960518,-0.056502133607864,-0.004711375106126,-0.160522654652596,-0.014357880689204,-0.152167513966560,-0.292966097593307,0.057504672557116,-0.023659074679017));
res += mul(Get(s2,0,-dy), float4x4(0.118613101541996,0.078942283987999,-0.058434374630451,0.120358653366566,-0.143631950020790,-0.130029633641243,-0.059677157551050,0.137410372495651,-0.070217095315456,0.041429597884417,0.019170422106981,0.036978881806135,-0.095645315945148,0.009900513105094,0.020387483760715,-0.197237625718117));
res += mul(Get(s2,0,0), float4x4(0.153962567448616,0.196371942758560,-0.045526131987572,-0.004269376397133,0.097281925380230,-0.032194733619690,-0.073579467833042,-0.204719945788383,-0.059960499405861,-0.068930380046368,0.095193415880203,0.010677904821932,-0.093580409884453,-0.112662032246590,-0.070165656507015,-0.077699311077595));
res += mul(Get(s2,0,dy), float4x4(0.149765089154243,0.329355835914612,-0.000435986963566,-0.069411776959896,0.046999681740999,-0.058209791779518,-0.135145053267479,-0.047755531966686,0.020703520625830,-0.041220568120480,-0.014059404842556,0.056248340755701,-0.038509424775839,-0.239804983139038,-0.051469832658768,0.106336154043674));
res += mul(Get(s2,dx,-dy), float4x4(-0.114415958523750,0.171819314360619,0.044012926518917,0.116688139736652,-0.117935128509998,0.025644658133388,-0.103240095078945,0.014318434521556,-0.040889695286751,0.016209598630667,0.143991857767105,-0.049474280327559,-0.123212963342667,-0.063987717032433,0.109051354229450,-0.112929485738277));
res += mul(Get(s2,dx,0), float4x4(-0.034025102853775,-0.005101318005472,0.048067543655634,0.017619987949729,-0.016643229871988,-0.158658713102341,-0.078551188111305,-0.145472764968872,-0.038933161646128,-0.049265120178461,0.151023328304291,-0.080098822712898,-0.158954545855522,-0.173777610063553,-0.040474511682987,-0.061117772012949));
res += mul(Get(s2,dx,dy), float4x4(0.172624021768570,0.239080518484116,0.043320927768946,-0.072933390736580,0.018926141783595,-0.038121856749058,-0.073706239461899,-0.176738068461418,-0.028599521145225,-0.087179206311703,0.177285432815552,-0.097268015146255,0.077603399753571,-0.272987902164459,-0.107074417173862,0.392529666423798));
res += mul(Get(s3,-dx,-dy), float4x4(0.232924386858940,0.030561881139874,-0.057542327791452,0.060936950147152,-0.202236860990524,-0.032418087124825,-0.197267264127731,0.207365497946739,-0.068265438079834,-0.014622006565332,-0.138212904334068,0.039569672197104,0.013223150745034,0.019113631919026,0.103513136506081,-0.076774410903454));
res += mul(Get(s3,-dx,0), float4x4(0.157593593001366,0.249004110693932,-0.100236073136330,-0.165105134248734,-0.004452173132449,0.099104598164558,-0.228807881474495,0.025635270401835,-0.048596035689116,-0.154718562960625,-0.108163341879845,0.160671398043633,-0.084984198212624,0.034069512039423,-0.083944447338581,-0.061111681163311));
res += mul(Get(s3,-dx,dy), float4x4(0.171210020780563,0.057012837380171,-0.129383280873299,-0.090714663267136,-0.011072183959186,0.029886782169342,-0.148063227534294,-0.243035256862640,-0.083048567175865,-0.225028395652771,0.052002113312483,0.174554541707039,-0.060923263430595,0.084733650088310,-0.271651327610016,-0.121039688587189));
res += mul(Get(s3,0,-dy), float4x4(0.232921376824379,-0.008170164190233,-0.101814217865467,-0.035591647028923,0.201521486043930,0.211670875549316,-0.184382617473602,-0.006584018003196,-0.067595459520817,0.148512035608292,-0.013298607431352,0.024218633770943,-0.116227835416794,-0.144287481904030,-0.024384379386902,-0.066314190626144));
res += mul(Get(s3,0,0), float4x4(-0.184628158807755,0.328040033578873,-0.008852526545525,-0.076436914503574,-0.138979911804199,0.182268828153610,-0.135118722915649,-0.046959068626165,-0.005965373013169,-0.068619996309280,0.152825832366943,0.099797941744328,-0.088412359356880,-0.076164841651917,0.130410939455032,-0.097296737134457));
res += mul(Get(s3,0,dy), float4x4(-0.185912206768990,0.022671421989799,-0.064244054257870,-0.080308228731155,0.155636787414551,-0.164833873510361,-0.108387179672718,-0.445150643587112,0.014875531196594,-0.163400426506996,-0.083015136420727,0.187489435076714,-0.027790153399110,-0.042365722358227,-0.036506302654743,-0.128182068467140));
res += mul(Get(s3,dx,-dy), float4x4(-0.080437585711479,0.289627045392990,-0.201029554009438,0.099762842059135,-0.052698098123074,0.292431831359863,-0.066228114068508,-0.049986448138952,-0.026372004300356,0.124202825129032,0.192821398377419,-0.066216617822647,-0.139613226056099,-0.091551870107651,-0.120224393904209,-0.131091833114624));
res += mul(Get(s3,dx,0), float4x4(-0.157482028007507,-0.011099946685135,-0.181159198284149,0.035706218332052,0.079550534486771,0.243669256567955,-0.053557530045509,0.083508908748627,0.111212149262428,0.027643401175737,0.156472831964493,-0.020128633826971,0.034532170742750,-0.061153165996075,0.090867586433887,-0.027019390836358));
res += mul(Get(s3,dx,dy), float4x4(-0.101225100457668,0.280818819999695,-0.159555479884148,-0.203844577074051,0.340707391500473,-0.066608302295208,-0.056873958557844,-0.076602712273598,0.280808776617050,-0.026038186624646,0.230881959199905,0.019932914525270,0.173152938485146,-0.085793808102608,-0.028777781873941,-0.114701271057129));
return max(float4(0,0,0,0), res);
}
