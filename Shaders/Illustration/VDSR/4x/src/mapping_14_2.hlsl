sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.246171295642853,0.495903342962265,0.299249291419983,0.097491599619389,0.046740084886551,-0.002190889324993,0.017982784658670,0.019997823983431,-0.098065540194511,0.101632222533226,-0.044464074075222,-0.070315986871719,-0.041740626096725,-0.178574576973915,0.014025965705514,-0.066004998981953));
res += mul(Get(s0,-dx,0), float4x4(-0.208238333463669,-0.114586293697357,0.048150688409805,0.014538934454322,0.417349368333817,0.158695027232170,0.107834443449974,-0.022657528519630,0.027115648612380,0.064559288322926,-0.043837174773216,0.001696979044937,0.172193154692650,0.164076864719391,-0.080640867352486,-0.095687560737133));
res += mul(Get(s0,-dx,dy), float4x4(-0.075255416333675,-0.150514230132103,-0.035206973552704,-0.050104789435863,-0.064760573208332,0.076313011348248,0.019715081900358,0.019113797694445,-0.224477082490921,-0.168542981147766,-0.111235707998276,0.018354732543230,0.231078833341599,0.281062483787537,0.134556293487549,-0.046734295785427));
res += mul(Get(s0,0,-dy), float4x4(-0.023718308657408,0.101715765893459,0.044635526835918,0.064436241984367,-0.138998135924339,0.000204140407732,0.045731730759144,-0.040322128683329,0.298727929592133,0.324710071086884,0.311877280473709,-0.099608078598976,-0.050431519746780,-0.180125936865807,-0.099311448633671,0.081624582409859));
res += mul(Get(s0,0,0), float4x4(-0.312596559524536,-0.076214157044888,-0.298219621181488,-0.045864116400480,0.129929468035698,0.019094299525023,0.065675429999828,-0.087289698421955,0.363502979278564,0.166378155350685,0.292258739471436,-0.093819744884968,0.174229055643082,0.244467660784721,0.022480340674520,-0.089264854788780));
res += mul(Get(s0,0,dy), float4x4(-0.057452328503132,-0.158970013260841,-0.257598936557770,-0.059743866324425,0.476373374462128,0.208891570568085,0.051289897412062,-0.028294146060944,-0.043226040899754,-0.042269341647625,0.095141284167767,-0.030939375981688,-0.126116156578064,0.323202252388000,0.135143488645554,-0.104748614132404));
res += mul(Get(s0,dx,-dy), float4x4(0.194542080163956,0.342911630868912,0.083295062184334,-0.015190482139587,0.035211332142353,0.176994279026985,0.009655609726906,-0.077225811779499,-0.063869073987007,0.245328158140182,-0.063324436545372,-0.174225747585297,-0.150643825531006,-0.076180711388588,-0.209712699055672,-0.090061560273170));
res += mul(Get(s0,dx,0), float4x4(0.131331369280815,0.140713229775429,-0.028614841401577,-0.038362495601177,-0.103368133306503,0.125424742698669,0.175273671746254,-0.070394501090050,0.219577774405479,0.167401418089867,0.181787386536598,-0.127920731902122,0.282945543527603,0.283544063568115,-0.120349816977978,0.024256918579340));
res += mul(Get(s0,dx,dy), float4x4(0.125794917345047,0.084690839052200,-0.004142425488681,0.033013530075550,0.036877375096083,-0.045107167214155,0.046787809580564,-0.042905893176794,-0.032105170190334,0.038667283952236,0.029522564262152,0.002654839307070,0.106755502521992,0.598331391811371,0.569721162319183,-0.081733942031860));
res += mul(Get(s1,-dx,-dy), float4x4(-0.181359812617302,-0.180715382099152,-0.157347872853279,-0.145890802145004,-0.081925086677074,-0.096659101545811,-0.185527428984642,0.033133294433355,0.034842625260353,0.087875343859196,-0.013425986282527,0.016435341909528,0.077495001256466,0.262661278247833,0.235439956188202,0.139291405677795));
res += mul(Get(s1,-dx,0), float4x4(-0.284692108631134,-0.286174029111862,-0.186911404132843,0.101813562214375,-0.099750779569149,-0.140501290559769,-0.208822503685951,-0.106268577277660,-0.018171230331063,0.034664873033762,-0.187739282846451,-0.104881003499031,0.009027227759361,0.083704791963100,0.026168251410127,-0.184651762247086));
res += mul(Get(s1,-dx,dy), float4x4(-0.265967369079590,-0.298709303140640,-0.220342159271240,-0.063461758196354,-0.019348213449121,-0.067167408764362,-0.005871604196727,0.148320972919464,-0.025560274720192,-0.010478957556188,-0.194245815277100,-0.151217564940453,-0.101718805730343,-0.143570706248283,-0.118939287960529,0.239477604627609));
res += mul(Get(s1,0,-dy), float4x4(-0.197345614433289,-0.064088359475136,-0.162120223045349,0.083900794386864,-0.035792607814074,-0.102847374975681,-0.063105933368206,-0.119992062449455,0.350909292697906,0.233470112085342,0.065540887415409,0.031941317021847,0.126346051692963,0.082406654953957,0.042643200606108,-0.036904405802488));
res += mul(Get(s1,0,0), float4x4(-0.139940142631531,-0.184542745351791,-0.123714476823807,0.055980652570724,0.187917113304138,-0.044044889509678,-0.055131714791059,-0.203215390443802,0.612754583358765,0.553698420524597,-0.111079588532448,-0.098243437707424,0.167716681957245,0.157702758908272,0.002645203843713,0.003568469546735));
res += mul(Get(s1,0,dy), float4x4(-0.121422432363033,-0.129480168223381,-0.220752909779549,-0.059718757867813,0.131331026554108,0.119466319680214,-0.020003657788038,-0.167239829897881,0.159216284751892,0.266985267400742,0.129449397325516,-0.118371561169624,0.052972856909037,0.047402672469616,-0.093671001493931,-0.164395451545715));
res += mul(Get(s1,dx,-dy), float4x4(-0.075654253363609,0.074171714484692,-0.092340037226677,-0.062482625246048,-0.226451665163040,0.127114728093147,-0.098555862903595,0.032362800091505,-0.159644499421120,-0.052519496530294,0.418421715497971,-0.062366425991058,-0.203937977552414,0.259424149990082,-0.025177108123899,-0.046540558338165));
res += mul(Get(s1,dx,0), float4x4(-0.016418052837253,0.124165698885918,-0.054812040179968,-0.049096200615168,-0.230950906872749,0.077643312513828,0.040558181703091,-0.035296335816383,0.317781507968903,0.525539159774780,-0.090462438762188,-0.063319019973278,0.267996579408646,-0.059542670845985,0.240769162774086,0.025782568380237));
res += mul(Get(s1,dx,dy), float4x4(-0.049275767058134,0.033654261380434,-0.059727545827627,-0.039682894945145,0.275846481323242,0.113914221525192,-0.027169466018677,-0.103016056120396,-0.016928577795625,-0.064902804791927,0.262734591960907,-0.039292570203543,0.074269205331802,0.275535911321640,0.180907815694809,-0.031554598361254));
res += mul(Get(s2,-dx,-dy), float4x4(-0.265245169401169,-0.171786814928055,0.030071251094341,0.028163285925984,0.113758176565170,0.213869959115982,0.353534042835236,-0.047973245382309,-0.176373437047005,-0.168283045291901,0.087467893958092,-0.193331614136696,-0.013582383282483,0.156556591391563,-0.238122522830963,-0.172810390591621));
res += mul(Get(s2,-dx,0), float4x4(-0.000142745600897,0.045382026582956,0.042670760303736,-0.054883461445570,0.189512714743614,0.216291055083275,0.288137853145599,0.092534087598324,-0.093031369149685,-0.060819622129202,-0.010063943453133,0.177392497658730,0.108098953962326,0.619658231735229,-0.115094617009163,-0.054812651127577));
res += mul(Get(s2,-dx,dy), float4x4(0.117868728935719,0.150272086262703,-0.043501354753971,-0.107814833521843,0.034862291067839,0.051500689238310,0.301889061927795,0.064789034426212,-0.013147427700460,0.018161840736866,-0.102527923882008,0.080383509397507,0.221400395035744,0.015280254185200,-0.026199040934443,-0.124223306775093));
res += mul(Get(s2,0,-dy), float4x4(-0.121739216148853,-0.067433208227158,-0.166491940617561,0.016475416719913,0.078768379986286,0.360811024904251,0.289210200309753,-0.074685521423817,-0.116116665303707,-0.157449647784233,-0.065282657742500,-0.212998032569885,0.543405830860138,0.363274335861206,-0.147843003273010,-0.139405071735382));
res += mul(Get(s2,0,0), float4x4(0.215918838977814,-0.114259906113148,-0.038862586021423,-0.125232562422752,0.032107628881931,0.098494678735733,0.183148175477982,-0.073347322642803,0.115972898900509,0.168037265539169,-0.137681290507317,-0.126964315772057,0.455300658941269,0.168322324752808,0.192189127206802,-0.175818085670471));
res += mul(Get(s2,0,dy), float4x4(-0.001065690768883,0.084462560713291,0.108112454414368,-0.073359608650208,-0.100454129278660,-0.102897688746452,0.026631003245711,0.019438967108727,0.340889960527420,0.334711790084839,0.017072701826692,-0.062829501926899,0.237436875700951,-0.003311278065667,0.366144150495529,-0.081910796463490));
res += mul(Get(s2,dx,-dy), float4x4(-0.301898241043091,-0.205858349800110,-0.169150263071060,-0.009414316155016,0.106355853378773,0.273748993873596,0.209497377276421,0.090602040290833,0.050939761102200,-0.001760402461514,-0.025165690109134,-0.004009515512735,-0.062742762267590,-0.053322061896324,0.062834039330482,0.053883381187916));
res += mul(Get(s2,dx,0), float4x4(-0.074651263654232,-0.119044400751591,-0.152016162872314,0.052966170012951,0.112733058631420,0.071331068873405,0.093042157590389,0.060018714517355,0.197864234447479,0.463279515504837,0.018184773623943,0.065332181751728,-0.072399906814098,-0.162675663828850,0.252609968185425,-0.160682246088982));
res += mul(Get(s2,dx,dy), float4x4(-0.298153787851334,-0.166738614439964,-0.229772567749023,0.075633123517036,-0.061912041157484,0.026121772825718,-0.132903099060059,0.091878175735474,0.196578204631805,0.040545724332333,0.224648550152779,-0.086590051651001,-0.136756867170334,-0.282473802566528,0.147204384207726,0.102272197604179));
res += mul(Get(s3,-dx,-dy), float4x4(-0.000597890757490,-0.018924396485090,0.056892253458500,-0.062071204185486,0.011175029911101,-0.054941978305578,-0.011709612794220,-0.046595767140388,-0.081306599080563,0.032973926514387,0.086852170526981,-0.056640472263098,-0.076888844370842,-0.174118667840958,0.177780941128731,0.079052068293095));
res += mul(Get(s3,-dx,0), float4x4(0.080799706280231,0.051735971122980,0.071741871535778,-0.080537676811218,0.264675080776215,0.227210849523544,0.026281416416168,-0.000663518905640,0.050849627703428,0.131309092044830,0.191733330488205,-0.046896856278181,0.136958599090576,-0.030880037695169,0.089228309690952,-0.051411908119917));
res += mul(Get(s3,-dx,dy), float4x4(-0.033647131174803,0.184769347310066,0.003758997423574,0.026392912492156,0.124866321682930,0.003665652824566,-0.007536967284977,0.052032005041838,-0.029957691207528,0.191327318549156,0.040908083319664,0.020399233326316,-0.002313552191481,0.297194331884384,0.080440551042557,-0.093217454850674));
res += mul(Get(s3,0,-dy), float4x4(0.132112532854080,0.255965471267700,-0.341716080904007,-0.049795072525740,-0.296398162841797,-0.085807509720325,-0.154910907149315,-0.065368145704269,0.067734412848949,0.027629526332021,0.094300024211407,-0.021089930087328,-0.118307210505009,-0.150937378406525,0.043170765042305,0.037074293941259));
res += mul(Get(s3,0,0), float4x4(0.438085019588470,0.393969416618347,0.140906006097794,-0.038426030427217,0.230847194790840,0.078554287552834,0.003854439593852,-0.094230748713017,0.179893359541893,0.076244734227657,0.187310323119164,0.046223700046539,-0.128402903676033,-0.247878953814507,-0.072852522134781,-0.140062138438225));
res += mul(Get(s3,0,dy), float4x4(0.059105779975653,-0.048524830490351,0.138404458761215,0.058372352272272,0.222158938646317,0.127110660076141,0.132046684622765,-0.082595765590668,0.168482601642609,0.079705163836479,0.241421267390251,-0.025483733043075,0.068893872201443,0.068920940160751,0.167245373129845,-0.081659480929375));
res += mul(Get(s3,dx,-dy), float4x4(0.210267767310143,0.369098484516144,0.074050880968571,-0.063478469848633,-0.008063188754022,-0.307993233203888,-0.142145127058029,-0.056216679513454,-0.124667830765247,-0.006027112714946,-0.099575281143188,-0.013656530529261,-0.082360111176968,0.156557202339172,-0.028648361563683,-0.042461067438126));
res += mul(Get(s3,dx,0), float4x4(0.326365023851395,0.185093849897385,0.194365531206131,-0.138561710715294,0.272530347108841,0.216784819960594,0.054788380861282,-0.057061776518822,-0.079698890447617,-0.142355069518089,-0.100263029336929,-0.052053671330214,-0.313999831676483,-0.280370533466339,-0.276799619197845,-0.112765908241272));
res += mul(Get(s3,dx,dy), float4x4(-0.144198670983315,-0.030302442610264,0.133886232972145,-0.042276859283447,0.432276815176010,0.505559980869293,0.183967307209969,-0.009960501454771,-0.126277774572372,0.018786804750562,-0.031049396842718,0.021583490073681,-0.024036280810833,-0.092032901942730,-0.149323850870132,-0.078787147998810));
return max(float4(0,0,0,0), res);
}
