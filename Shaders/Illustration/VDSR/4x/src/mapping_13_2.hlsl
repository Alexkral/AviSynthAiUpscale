sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.027122296392918,0.044592607766390,0.149611532688141,0.112898416817188,0.037508387118578,-0.063415974378586,-0.025110771879554,-0.083500184118748,0.178723156452179,0.157716423273087,0.131291449069977,-0.088437438011169,-0.112779490649700,0.040030770003796,0.056887753307819,-0.008893766440451));
res += mul(Get(s0,-dx,0), float4x4(-0.207391321659088,-0.109171122312546,-0.166096866130829,-0.021702283993363,-0.089383773505688,0.009612270630896,-0.040117707103491,-0.263363003730774,0.074370898306370,-0.091235585510731,0.148329570889473,0.045570157468319,-0.213256105780602,-0.022933190688491,-0.080390170216560,0.058845262974501));
res += mul(Get(s0,-dx,dy), float4x4(-0.096603512763977,-0.069727830588818,0.161717146635056,0.170080244541168,0.031564380973577,0.219323605298996,0.164284467697144,-0.037923734635115,0.220306977629662,-0.121817268431187,-0.083195433020592,-0.051529850810766,0.101430468261242,-0.115321047604084,-0.140676140785217,0.149268478155136));
res += mul(Get(s0,0,-dy), float4x4(-0.188113301992416,0.106756195425987,0.065528362989426,0.157517880201340,0.024726821109653,0.066951617598534,0.190005257725716,0.068035893142223,-0.003245750907809,0.052664946764708,-0.138880506157875,0.008060206659138,-0.024148456752300,-0.142776817083359,-0.094098918139935,0.095112055540085));
res += mul(Get(s0,0,0), float4x4(-0.052563816308975,-0.006687497254461,0.212657004594803,0.056978538632393,0.136891454458237,0.069603532552719,-0.045475982129574,-0.137320131063461,-0.162028640508652,0.147889941930771,0.022512825205922,-0.032945629209280,0.172742456197739,-0.030553715303540,-0.043303571641445,0.018364472314715));
res += mul(Get(s0,0,dy), float4x4(-0.097776405513287,-0.059760179370642,0.114682093262672,0.178725630044937,-0.042984392493963,-0.152564913034439,-0.085983224213123,-0.199769333004951,0.031577926129103,-0.085556052625179,-0.218753963708878,-0.080115862190723,0.023296980187297,-0.114642955362797,0.123564049601555,0.194332242012024));
res += mul(Get(s0,dx,-dy), float4x4(0.101472295820713,-0.112005218863487,0.105693802237511,-0.051915284246206,-0.114255204796791,0.016923502087593,0.001384638249874,-0.110958352684975,0.000437814625911,-0.011980803683400,0.079689048230648,-0.035874113440514,0.101854443550110,-0.189887717366219,0.096766293048859,-0.019877849146724));
res += mul(Get(s0,dx,0), float4x4(-0.212356805801392,-0.001087595359422,-0.261765718460083,0.091033563017845,-0.001136784791015,-0.268953114748001,-0.094882316887379,-0.130076542496681,0.135154277086258,-0.032277934253216,0.047338351607323,0.137090981006622,0.010839985683560,-0.012718316167593,-0.034352578222752,0.099432252347469));
res += mul(Get(s0,dx,dy), float4x4(0.037323478609324,0.112634725868702,0.004404863808304,0.008731523528695,-0.132078543305397,0.160699889063835,0.086531013250351,-0.010499794036150,0.199359312653542,0.044556584209204,-0.168077886104584,-0.282521665096283,-0.098489977419376,-0.144129037857056,0.046397589147091,0.036301549524069));
res += mul(Get(s1,-dx,-dy), float4x4(-0.121243983507156,0.018427841365337,0.167624115943909,0.138048335909843,-0.088295638561249,-0.137968778610229,-0.139415442943573,0.077459275722504,0.231236889958382,-0.031974297016859,-0.050601091235876,0.018444893881679,0.025087106972933,0.232453614473343,-0.019749430939555,-0.342721641063690));
res += mul(Get(s1,-dx,0), float4x4(0.147477403283119,-0.050357509404421,0.110357180237770,0.029177408665419,-0.039633043110371,-0.167363137006760,0.118455670773983,0.040445934981108,-0.014249331317842,0.083692207932472,-0.111578270792961,-0.082895651459694,-0.114173218607903,-0.189767211675644,-0.080706618726254,0.069443605840206));
res += mul(Get(s1,-dx,dy), float4x4(0.239308059215546,0.301900267601013,-0.005911661311984,-0.184185713529587,-0.035142056643963,0.022734656929970,0.133250400424004,0.023975295946002,-0.007510885130614,-0.097659341990948,-0.103034451603889,0.057331588119268,-0.281958281993866,-0.192190364003181,0.061912272125483,0.119452714920044));
res += mul(Get(s1,0,-dy), float4x4(-0.159459993243217,-0.033136188983917,0.042517356574535,-0.027767777442932,0.066287599503994,-0.101813822984695,0.037892740219831,0.055714052170515,0.044253312051296,-0.094430632889271,-0.087083317339420,-0.080164603888988,-0.118842460215092,0.026662819087505,0.039657235145569,-0.090239942073822));
res += mul(Get(s1,0,0), float4x4(0.114742673933506,0.092957787215710,-0.146913602948189,0.364971846342087,0.111114569008350,0.050717376172543,-0.022407082840800,0.015232747420669,-0.216329455375671,-0.142759978771210,0.060093242675066,0.037515148520470,-0.016724452376366,-0.030660105869174,-0.153479993343353,0.192694351077080));
res += mul(Get(s1,0,dy), float4x4(0.034799985587597,0.023062517866492,-0.262455999851227,-0.006258884444833,0.168879583477974,0.057322911918163,-0.028172058984637,0.046370550990105,0.074820771813393,0.066692560911179,-0.096929423511028,0.190414026379585,0.135187819600105,-0.057476539164782,0.215159147977829,0.006928450427949));
res += mul(Get(s1,dx,-dy), float4x4(0.035291712731123,-0.030162457376719,-0.113148882985115,-0.116424091160297,-0.043246250599623,0.011064130812883,-0.217014029622078,-0.067935399711132,0.167716890573502,0.107268437743187,-0.047378115355968,-0.195282861590385,-0.018535004928708,0.011892759241164,0.102216161787510,-0.047327078878880));
res += mul(Get(s1,dx,0), float4x4(-0.015247796662152,-0.203132256865501,0.236566349864006,0.049700528383255,-0.039749484509230,-0.000631265575066,0.025708736851811,0.057932563126087,0.213832437992096,-0.208049446344376,0.078239843249321,0.160750105977058,0.248434931039810,-0.029912857338786,-0.025157228112221,-0.072743110358715));
res += mul(Get(s1,dx,dy), float4x4(0.072346322238445,0.106113627552986,-0.079487912356853,0.194366171956062,-0.015811087563634,-0.193477854132652,-0.035140376538038,-0.144550129771233,-0.054812345653772,0.103396087884903,-0.008797332644463,-0.013983492739499,-0.075686432421207,0.004065541084856,0.089487418532372,-0.187791764736176));
res += mul(Get(s2,-dx,-dy), float4x4(0.099539332091808,0.251243919134140,0.070657350122929,0.172328412532806,0.098311752080917,0.100230179727077,0.079937718808651,-0.028372248634696,-0.023045726120472,0.106371171772480,0.206931635737419,0.021182114258409,-0.178347781300545,0.216527059674263,-0.078047052025795,-0.069805458188057));
res += mul(Get(s2,-dx,0), float4x4(0.000141173339216,-0.122089825570583,-0.024982426315546,-0.144241929054260,-0.086725048720837,0.017503617331386,-0.116649262607098,-0.153353378176689,-0.061853375285864,0.031999848783016,0.180580049753189,-0.196029037237167,0.010050502605736,-0.010681022889912,0.205195590853691,-0.039720036089420));
res += mul(Get(s2,-dx,dy), float4x4(0.135952204465866,-0.053510762751102,-0.098705373704433,0.023704564198852,0.062867529690266,-0.331280976533890,-0.343443393707275,-0.127457439899445,-0.055352140218019,-0.006861946079880,-0.092920303344727,0.054871328175068,0.104643195867538,0.140760838985443,0.010050073266029,0.147557497024536));
res += mul(Get(s2,0,-dy), float4x4(-0.074989505112171,-0.228443399071693,0.078239373862743,0.051455363631248,-0.078041173517704,-0.035264216363430,-0.183285623788834,0.133229181170464,0.008868786506355,0.231496736407280,0.265225470066071,0.222859948873520,0.185639932751656,-0.040014080703259,0.007167034316808,-0.031707812100649));
res += mul(Get(s2,0,0), float4x4(-0.156623423099518,-0.016294563189149,0.022870736196637,0.048092108219862,-0.105324357748032,-0.082565881311893,0.018939720466733,0.001324780867435,-0.109142445027828,0.058793459087610,0.037147592753172,0.087845221161842,-0.056344300508499,-0.014922772534192,-0.038853932172060,0.031790219247341));
res += mul(Get(s2,0,dy), float4x4(-0.083450660109520,-0.010225463658571,0.104111179709435,-0.059838399291039,-0.046224087476730,-0.020911857485771,-0.207794323563576,-0.246496349573135,0.054255019873381,0.035722147673368,0.065906986594200,0.163980603218079,-0.020774120464921,0.049429967999458,-0.038983356207609,0.034133829176426));
res += mul(Get(s2,dx,-dy), float4x4(-0.066982738673687,0.159429997205734,-0.104020811617374,0.136396288871765,0.041835229843855,0.103156872093678,0.215442046523094,0.165469750761986,0.040358040481806,-0.070998810231686,-0.013261991553009,0.217613786458969,0.056656580418348,-0.085365973412991,-0.029380295425653,0.035283487290144));
res += mul(Get(s2,dx,0), float4x4(-0.131140172481537,-0.104766264557838,-0.012310681864619,-0.052422855049372,0.151580631732941,0.036813419312239,-0.193838894367218,-0.078434184193611,-0.106044098734856,0.009262139908969,0.015194217674434,0.194203197956085,-0.094527162611485,-0.076196223497391,0.014367097057402,-0.058576032519341));
res += mul(Get(s2,dx,dy), float4x4(0.018622346222401,-0.016080351546407,0.004751131869853,-0.112281151115894,-0.055618811398745,-0.084428779780865,-0.238238140940666,-0.097076639533043,-0.123291142284870,-0.129463031888008,-0.069966308772564,-0.066968627274036,-0.049150366336107,-0.040987469255924,-0.051338549703360,-0.197200521826744));
res += mul(Get(s3,-dx,-dy), float4x4(0.301162004470825,-0.037864118814468,-0.121435746550560,0.182442545890808,-0.005324490834028,-0.037292428314686,0.070878840982914,0.153729915618896,-0.030023157596588,0.104314751923084,0.107264235615730,0.121420301496983,0.151134774088860,0.099469080567360,0.077094033360481,0.109850250184536));
res += mul(Get(s3,-dx,0), float4x4(0.092291042208672,0.172833338379860,-0.012852293439209,0.014304444193840,0.037454452365637,-0.037924356758595,-0.093556024134159,0.104247204959393,-0.141996458172798,0.085303880274296,0.025379264727235,0.098462440073490,0.170656025409698,-0.105092674493790,-0.023419607430696,0.037172086536884));
res += mul(Get(s3,-dx,dy), float4x4(-0.082421854138374,0.154053047299385,0.211540982127190,-0.069178342819214,-0.091126829385757,-0.090931653976440,0.174587398767471,0.033823210746050,0.069090358912945,0.070141009986401,-0.086700215935707,-0.019626663997769,0.169398307800293,-0.057970684021711,-0.097090490162373,0.119539506733418));
res += mul(Get(s3,0,-dy), float4x4(-0.160142794251442,0.085248745977879,0.069505870342255,0.193829104304314,-0.007166353054345,0.113235697150230,0.129148006439209,0.189200013875961,0.020044416189194,0.267487108707428,-0.033020183444023,0.035358350723982,0.019601861014962,0.038659624755383,0.050373181700706,-0.132663801312447));
res += mul(Get(s3,0,0), float4x4(0.021578820422292,-0.024216439574957,-0.066320754587650,-0.022086130455136,-0.037134505808353,0.185580283403397,-0.159041479229927,0.210823312401772,0.063093855977058,0.058737926185131,0.056719392538071,0.088244758546352,0.247720956802368,-0.029396653175354,0.067099049687386,0.040945541113615));
res += mul(Get(s3,0,dy), float4x4(0.049205042421818,0.050381962209940,0.164043083786964,-0.357502669095993,0.081405237317085,-0.135154113173485,0.027734145522118,0.077558360993862,-0.099430516362190,0.061063006520271,0.098688982427120,-0.154334455728531,0.031026320531964,-0.050513453781605,-0.264404684305191,-0.132569700479507));
res += mul(Get(s3,dx,-dy), float4x4(-0.154049947857857,-0.144309043884277,0.085556998848915,0.028521848842502,-0.068623945116997,-0.050595395267010,0.043588001281023,0.138561844825745,0.210659116506577,0.145305737853050,0.094732105731964,0.089217126369476,0.175942555069923,-0.050953883677721,0.100763566792011,0.165535375475883));
res += mul(Get(s3,dx,0), float4x4(0.056091845035553,-0.029067670926452,0.047461923211813,0.079181879758835,0.119633108377457,-0.070018887519836,-0.011400704272091,0.104511916637421,0.165010198950768,0.055541865527630,-0.052010703831911,0.121188424527645,0.048924714326859,0.083407245576382,0.099357843399048,-0.153656423091888));
res += mul(Get(s3,dx,dy), float4x4(-0.086313538253307,0.020410045981407,0.114433228969574,-0.020564559847116,-0.109601303935051,0.120200775563717,0.021876623854041,-0.081867963075638,-0.014393744058907,-0.012987354770303,0.061863824725151,0.009474090300500,-0.028450971469283,-0.038337789475918,0.029836516827345,0.009083659388125));
return max(float4(0,0,0,0), res);
}
