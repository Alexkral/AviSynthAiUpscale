sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.026329241693020,-0.295870691537857,0.305387377738953,0.031541999429464,-0.135065644979477,-0.026854457333684,-0.195911720395088,0.412802785634995,-0.022261284291744,-0.016695052385330,-0.083226278424263,-0.050210781395435,0.084791995584965,0.080354407429695,-0.044193133711815,-0.104101330041885));
res += mul(Get(s0,-dx,0), float4x4(-0.031900364905596,-0.116663590073586,-0.314924925565720,0.060293834656477,0.026414629071951,0.245285138487816,-0.384932518005371,-0.036041006445885,-0.087951593101025,0.061936397105455,-0.049186185002327,-0.053776931017637,0.300779551267624,0.070087529718876,0.293652713298798,-0.049420069903135));
res += mul(Get(s0,-dx,dy), float4x4(-0.153005138039589,0.062865555286407,-0.128831610083580,-0.056462563574314,-0.080110304057598,-0.013562115840614,-0.168143272399902,-0.195216700434685,-0.170086354017258,-0.098463490605354,-0.102147318422794,0.064104110002518,0.323894351720810,0.007730832323432,0.204042360186577,0.001915327738971));
res += mul(Get(s0,0,-dy), float4x4(0.005517940036952,-0.087938919663429,-0.183289632201195,-0.130997180938721,-0.203639939427376,-0.105186030268669,0.021549727767706,0.168639838695526,-0.111911647021770,-0.030537145212293,-0.152623012661934,-0.010824677534401,0.027173254638910,-0.069025591015816,-0.049151390790939,-0.087914437055588));
res += mul(Get(s0,0,0), float4x4(0.051387492567301,0.162569716572762,-0.292222231626511,-0.199202209711075,0.076779425144196,0.011366515420377,-0.168444275856018,0.070870816707611,-0.196464896202087,0.050148628652096,-0.078282624483109,-0.015547384507954,0.052899114787579,0.087910428643227,0.063605621457100,0.131695255637169));
res += mul(Get(s0,0,dy), float4x4(-0.186857894062996,0.176760628819466,-0.247471719980240,-0.153549358248711,0.057966090738773,-0.180484294891357,-0.064968444406986,-0.162421360611916,-0.151917368173599,-0.025233216583729,-0.050477128475904,0.015872832387686,0.134358629584312,0.267019569873810,0.039672710001469,0.055851161479950));
res += mul(Get(s0,dx,-dy), float4x4(-0.078115344047546,0.063336893916130,-0.229105189442635,-0.119524993002415,-0.238009542226791,-0.035348303616047,0.022965995594859,0.149302318692207,-0.028933599591255,-0.037444766610861,0.154977545142174,0.041270535439253,0.149490967392921,-0.001540682162158,0.002203726675361,-0.046361040323973));
res += mul(Get(s0,dx,0), float4x4(0.008298168890178,0.043046817183495,-0.184873908758163,-0.176873192191124,0.053142208606005,0.033531662076712,0.012525876984000,0.086149699985981,-0.010918602347374,-0.187903881072998,-0.150599390268326,-0.052112247794867,0.202074587345123,0.068058907985687,-0.123094633221626,0.108538202941418));
res += mul(Get(s0,dx,dy), float4x4(0.042669262737036,-0.187757864594460,-0.212518304586411,-0.191473230719566,-0.058889910578728,0.293827265501022,0.281892180442810,0.182738348841667,-0.046989135444164,-0.209263563156128,0.067946732044220,-0.052377842366695,0.287242025136948,0.033275451511145,-0.219544127583504,-0.038104817271233));
res += mul(Get(s1,-dx,-dy), float4x4(-0.048313442617655,-0.011337741278112,0.000861632754095,-0.090419881045818,0.099901519715786,0.464017182588577,-0.078192375600338,0.039254851639271,-0.039356846362352,-0.469874531030655,0.495125651359558,-0.084539316594601,-0.045488018542528,0.005184071604162,0.350286006927490,0.179747164249420));
res += mul(Get(s1,-dx,0), float4x4(-0.109574168920517,-0.107114076614380,0.059467084705830,0.090495690703392,-0.045880317687988,0.103499345481396,-0.169531866908073,-0.062971495091915,-0.143000662326813,0.055733665823936,0.333723902702332,-0.135156169533730,0.068520717322826,-0.075750008225441,0.241903066635132,-0.028309231624007));
res += mul(Get(s1,-dx,dy), float4x4(-0.021867072209716,-0.068495720624924,-0.164461418986320,-0.068075761198997,-0.124961607158184,0.147881284356117,-0.097304351627827,-0.018823310732841,-0.158001244068146,0.252941161394119,0.415310382843018,0.325186431407928,0.081551909446716,0.045455411076546,0.039866074919701,0.012845541350543));
res += mul(Get(s1,0,-dy), float4x4(0.087892323732376,0.085330225527287,0.009180029854178,-0.063521988689899,0.016661539673805,0.087444178760052,-0.098992496728897,0.032035771757364,-0.055435791611671,-0.079079248011112,-0.083560906350613,0.093180932104588,-0.211420923471451,-0.046482764184475,0.143362998962402,0.085915341973305));
res += mul(Get(s1,0,0), float4x4(-0.012127139605582,-0.032775316387415,-0.027238368988037,0.078486219048500,-0.034645020961761,0.084281079471111,-0.058802027255297,-0.082020543515682,-0.030579272657633,0.084203898906708,-0.112765908241272,0.165977880358696,-0.135883212089539,0.011120921932161,0.331591546535492,0.021304156631231));
res += mul(Get(s1,0,dy), float4x4(0.084071107208729,0.025649748742580,-0.087765179574490,-0.039118345826864,0.014755483716726,0.141009882092476,0.107826963067055,0.032798226922750,-0.104347169399261,-0.087162733078003,-0.133788317441940,-0.243193522095680,0.129472032189369,-0.130030900239944,-0.092958569526672,-0.067633710801601));
res += mul(Get(s1,dx,-dy), float4x4(-0.028747675940394,0.122358553111553,-0.074458308517933,0.026905143633485,0.016822058707476,-0.005723723676056,-0.126299202442169,0.141514465212822,-0.030699294060469,-0.080734677612782,-0.242727398872375,-0.054946038872004,-0.062194153666496,0.043588001281023,0.141500607132912,0.132852122187614));
res += mul(Get(s1,dx,0), float4x4(-0.061184044927359,0.016041573137045,-0.168318256735802,-0.033048950135708,0.064435720443726,0.054467242211103,0.099544115364552,0.013059016317129,-0.035147350281477,-0.098042108118534,-0.212176159024239,0.040720809251070,0.083822995424271,-0.003659149166197,0.105737261474133,-0.082830503582954));
res += mul(Get(s1,dx,dy), float4x4(0.075614534318447,-0.090706683695316,-0.195476427674294,0.004039074759930,0.039950493723154,-0.108720384538174,0.014922915026546,0.034264370799065,0.189956143498421,-0.248783707618713,-0.214645415544510,0.040672410279512,0.017920924350619,-0.044752590358257,0.019018867984414,0.094616904854774));
res += mul(Get(s2,-dx,-dy), float4x4(-0.019556997343898,0.046665042638779,-0.088798463344574,-0.199622005224228,0.303920418024063,0.220242485404015,0.136125162243843,-0.134025976061821,-0.037952937185764,-0.020187333226204,-0.154981166124344,-0.089245840907097,0.061621282249689,0.151527881622314,-0.057163894176483,0.088939480483532));
res += mul(Get(s2,-dx,0), float4x4(0.012363326735795,-0.020857080817223,0.001140997279435,-0.066978231072426,0.171725466847420,0.168410807847977,0.170528396964073,0.033542957156897,-0.106810681521893,-0.023258393630385,-0.046312917023897,-0.122375123202801,0.057305276393890,0.021526580676436,0.018013723194599,0.007773895282298));
res += mul(Get(s2,-dx,dy), float4x4(-0.104195505380630,0.185734301805496,-0.100764729082584,-0.053376749157906,0.009785324335098,-0.044422950595617,0.106246858835220,-0.127238273620605,-0.012133067473769,-0.109024390578270,-0.046271976083517,0.015301874838769,-0.008699106052518,-0.080050967633724,-0.062934771180153,-0.074953772127628));
res += mul(Get(s2,0,-dy), float4x4(0.301035940647125,0.090892910957336,-0.017715135589242,-0.164245799183846,-0.048780679702759,0.077715106308460,-0.020176831632853,-0.170826330780983,0.018608931452036,0.065905384719372,0.108298562467098,-0.014062823727727,-0.115749128162861,0.015397861599922,0.098406672477722,-0.020645869895816));
res += mul(Get(s2,0,0), float4x4(0.156966954469681,0.080504745244980,0.001152481301688,0.013992671854794,-0.141823709011078,0.140706464648247,0.367120206356049,0.129950493574142,0.091291889548302,-0.102180756628513,-0.072626106441021,-0.209474086761475,-0.019319865852594,-0.125422716140747,0.113837711513042,-0.260585516691208));
res += mul(Get(s2,0,dy), float4x4(-0.017020881175995,0.114106945693493,-0.073451228439808,-0.056295759975910,0.207943290472031,0.151729896664619,-0.090041078627110,0.184642493724823,0.075599409639835,-0.227910190820694,-0.043060459196568,-0.088962830603123,0.128348901867867,-0.107322379946709,0.096181847155094,0.186009347438812));
res += mul(Get(s2,dx,-dy), float4x4(0.213329523801804,-0.111200876533985,-0.101802654564381,-0.017665421590209,0.043684124946594,0.044582851231098,-0.100835852324963,-0.056175418198109,0.021616404876113,-0.030892796814442,-0.213630452752113,-0.098787993192673,-0.086405493319035,-0.098488524556160,-0.206143975257874,0.039389424026012));
res += mul(Get(s2,dx,0), float4x4(0.050234232097864,0.103303678333759,-0.291419744491577,-0.051976855844259,0.024639153853059,-0.030126959085464,-0.127482265233994,-0.073611609637737,0.214004859328270,-0.155435368418694,-0.158725276589394,-0.032458741217852,-0.128752991557121,-0.167764037847519,-0.187257200479507,-0.038841638714075));
res += mul(Get(s2,dx,dy), float4x4(-0.124594807624817,0.183736443519592,-0.258650511503220,-0.108995556831360,-0.030784070491791,-0.148274645209312,-0.086263395845890,0.064694054424763,0.475024551153183,-0.333253026008606,-0.180925279855728,0.010053918696940,0.070107400417328,-0.268166840076447,-0.111060984432697,0.310951918363571));
res += mul(Get(s3,-dx,-dy), float4x4(0.105529598891735,0.016490217298269,-0.115813307464123,-0.208691850304604,0.323208242654800,0.263497382402420,-0.062542602419853,-0.165898963809013,-0.025024184957147,-0.048706803470850,0.109565347433090,0.037155516445637,-0.033068597316742,0.080494582653046,-0.124736562371254,-0.106704816222191));
res += mul(Get(s3,-dx,0), float4x4(0.036949574947357,-0.218840971589088,0.112623624503613,-0.132662400603294,0.144872084259987,0.170890986919403,0.210980996489525,0.035568028688431,-0.122574843466282,-0.098343998193741,-0.076367303729057,-0.081688381731510,-0.119056440889835,0.115707792341709,-0.041617032140493,-0.155800208449364));
res += mul(Get(s3,-dx,dy), float4x4(0.093500055372715,-0.041073162108660,0.198336988687515,-0.037244576960802,0.177433848381042,-0.118242092430592,0.030763810500503,-0.176758393645287,-0.137140393257141,-0.127465188503265,-0.160307824611664,0.148718640208244,-0.261530905961990,-0.121039420366287,-0.267313718795776,-0.112741470336914));
res += mul(Get(s3,0,-dy), float4x4(0.242888554930687,0.140027791261673,0.084284700453281,0.006358788814396,0.059427682310343,-0.030759582296014,-0.007938808761537,-0.069700278341770,-0.057476945221424,-0.150209143757820,-0.090323463082314,-0.019321801140904,-0.115061141550541,-0.036417786031961,0.019593425095081,-0.028999684378505));
res += mul(Get(s3,0,0), float4x4(0.135802373290062,-0.124341018497944,0.356601327657700,-0.035494856536388,0.032240644097328,0.152477964758873,0.202757358551025,-0.095950581133366,-0.133992433547974,-0.092875711619854,-0.091176308691502,-0.083847083151340,0.035840142518282,0.035279821604490,0.010974008589983,-0.080339878797531));
res += mul(Get(s3,0,dy), float4x4(-0.119009561836720,0.077482424676418,0.046082753688097,0.136454507708549,-0.013085154816508,-0.088565237820148,0.085449904203415,0.149254530668259,0.053646478801966,-0.196271866559982,-0.140865400433540,0.118535585701466,-0.180888518691063,-0.123741790652275,-0.019066762179136,-0.106965273618698));
res += mul(Get(s3,dx,-dy), float4x4(0.042298678308725,-0.031772702932358,-0.060490828007460,0.011208144016564,0.182283610105515,0.109076872467995,0.089089773595333,-0.048214603215456,-0.042380880564451,-0.132868379354477,-0.201669424772263,-0.081762380897999,0.010832720436156,0.032009877264500,0.170666262507439,-0.047463964670897));
res += mul(Get(s3,dx,0), float4x4(0.112838514149189,0.065339095890522,-0.260981619358063,0.186972782015800,0.071478925645351,0.033044535666704,-0.002406024141237,0.006307596340775,0.137415945529938,-0.233991682529449,-0.131591677665710,-0.151841074228287,0.096059508621693,-0.006844040006399,0.203844025731087,0.036399360746145));
res += mul(Get(s3,dx,dy), float4x4(0.265581130981445,0.316399842500687,0.016687776893377,0.172986939549446,0.053404975682497,0.332690089941025,0.105061605572701,0.144400641322136,0.095400914549828,-0.209662288427353,-0.054832797497511,0.013817919418216,-0.163336411118507,0.254763215780258,0.026862047612667,0.019559444859624));
return max(float4(0,0,0,0), res);
}
