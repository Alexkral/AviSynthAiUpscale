sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.267441511154175,0.083421304821968,-0.036720354110003,-0.177522689104080,-0.157633200287819,0.032111816108227,-0.148691609501839,-0.035322483628988,-0.040329705923796,0.151162996888161,-0.098179079592228,0.044375173747540,0.136042177677155,-0.021111948415637,0.140925854444504,0.076775006949902));
res += mul(Get(s0,-dx,0), float4x4(-0.135164514183998,-0.064835153520107,0.121560081839561,-0.039621900767088,-0.033102683722973,-0.005273470189422,0.279790282249451,0.032835260033607,0.078790932893753,0.022584566846490,0.104511797428131,0.205186873674393,0.111588947474957,0.094263114035130,0.109286658465862,0.159831881523132));
res += mul(Get(s0,-dx,dy), float4x4(-0.203575477004051,-0.194020897150040,-0.232936739921570,-0.142332851886749,-0.241830423474312,0.101356528699398,-0.356307625770569,-0.125944718718529,0.023473467677832,-0.224951237440109,-0.255161792039871,-0.145846635103226,-0.135790884494781,-0.091101624071598,0.471622079610825,0.003863220568746));
res += mul(Get(s0,0,-dy), float4x4(0.409176677465439,0.087992064654827,-0.049754604697227,-0.146395176649094,-0.141170263290405,-0.045931261032820,0.242531925439835,0.207216635346413,-0.114127837121487,0.128384798765182,0.025698831304908,-0.004378771409392,0.135696604847908,0.068274572491646,0.103109836578369,-0.159839972853661));
res += mul(Get(s0,0,0), float4x4(-0.151089668273926,0.144611030817032,0.205990180373192,0.096481733024120,0.204727366566658,-0.174833148717880,0.102034978568554,0.040856178849936,0.015164337120950,-0.013120389543474,0.128540948033333,0.117223575711250,-0.062466751784086,0.420197159051895,0.029702745378017,0.071969002485275));
res += mul(Get(s0,0,dy), float4x4(-0.162236958742142,0.157857850193977,-0.160384908318520,-0.052768740803003,0.160369023680687,-0.086473256349564,-0.248038142919540,-0.111102633178234,0.175370007753372,-0.063060440123081,-0.222516685724258,-0.098799921572208,-0.088535085320473,0.069871924817562,0.287433952093124,0.210689574480057));
res += mul(Get(s0,dx,-dy), float4x4(0.102906413376331,-0.141726374626160,0.167174741625786,-0.068642884492874,-0.161266118288040,0.069629624485970,-0.119385808706284,0.005759187042713,-0.223580107092857,-0.008297230117023,0.062836751341820,0.272958219051361,0.081915207207203,-0.207601830363274,0.101882703602314,0.044910199940205));
res += mul(Get(s0,dx,0), float4x4(0.058108061552048,-0.053232781589031,0.511993587017059,-0.027790941298008,0.221144303679466,-0.101183831691742,-0.138038456439972,-0.177950575947762,0.073759414255619,0.039708513766527,0.105402655899525,0.108779631555080,0.183986216783524,0.060196507722139,0.027356425300241,0.034267742186785));
res += mul(Get(s0,dx,dy), float4x4(0.048263352364302,0.065115109086037,-0.025207133963704,-0.099263191223145,0.238907158374786,-0.075779855251312,-0.166100025177002,-0.077035456895828,0.224494591355324,-0.129147514700890,0.064315021038055,-0.190608710050583,-0.051563765853643,-0.058971602469683,0.054444275796413,0.041662801057100));
res += mul(Get(s1,-dx,-dy), float4x4(-0.027788683772087,-0.040675245225430,0.156148344278336,-0.040423933416605,0.157000750303268,-0.084856711328030,0.006742392200977,0.094114229083061,0.020087540149689,0.033917866647243,0.202560022473335,-0.007285801693797,-0.142584607005119,0.048067681491375,0.030178628861904,-0.057261928915977));
res += mul(Get(s1,-dx,0), float4x4(-0.020942127332091,0.378900825977325,0.051409866660833,-0.151257485151291,0.133720830082893,0.059698577970266,-0.109292455017567,-0.030195185914636,0.189288362860680,0.019022233784199,0.187451511621475,0.070229575037956,-0.012936701998115,-0.021947175264359,0.131261974573135,0.090867079794407));
res += mul(Get(s1,-dx,dy), float4x4(0.115203976631165,0.179814055562019,0.179287165403366,-0.033678729087114,0.188598275184631,-0.224501505494118,-0.060393977910280,-0.068785980343819,-0.041896563023329,-0.055257458239794,-0.191004946827888,0.006601093802601,0.288156300783157,-0.158138319849968,0.011201561428607,-0.155413940548897));
res += mul(Get(s1,0,-dy), float4x4(0.018419481813908,-0.170336455106735,0.025771208107471,-0.081760220229626,0.293179243803024,0.128552109003067,0.124030314385891,0.143904462456703,0.035299103707075,0.101872965693474,0.031084742397070,-0.010858319699764,-0.270239919424057,-0.048566516488791,0.151802986860275,0.169057041406631));
res += mul(Get(s1,0,0), float4x4(0.105221964418888,0.266259580850601,0.040469568222761,0.021424302831292,0.133492246270180,0.135896101593971,0.037067014724016,0.029785586521029,0.108705423772335,0.011077251285315,0.067204274237156,0.091106943786144,-0.217934802174568,-0.156785815954208,-0.130368456244469,-0.019036449491978));
res += mul(Get(s1,0,dy), float4x4(0.229249984025955,0.007893288508058,0.012769097462296,-0.016781864687800,0.102490559220314,-0.120740763843060,0.154723763465881,-0.039189096540213,-0.074684150516987,-0.195631518959999,-0.279435247182846,-0.174861207604408,0.272999346256256,-0.127558872103691,-0.169601336121559,-0.185140058398247));
res += mul(Get(s1,dx,-dy), float4x4(-0.245614349842072,-0.096364431083202,-0.024806797504425,-0.044459175318480,-0.101134195923805,0.263791710138321,0.058752398937941,0.080150499939919,0.063261345028877,0.197444930672646,-0.001570121501572,-0.092051692306995,-0.337059885263443,-0.035976223647594,0.047542866319418,0.089150689542294));
res += mul(Get(s1,dx,0), float4x4(0.027890648692846,0.187250614166260,-0.080805435776711,0.037536211311817,0.127503797411919,0.200917556881905,-0.018023990094662,-0.060395095497370,0.218030050396919,0.195129990577698,-0.168686002492905,-0.016311103478074,-0.250263690948486,0.073408819735050,-0.253988623619080,-0.126282662153244));
res += mul(Get(s1,dx,dy), float4x4(-0.179163292050362,0.125381872057915,-0.070635266602039,-0.135310396552086,0.154849439859390,0.006108039990067,0.003140387358144,-0.045847307890654,-0.281339764595032,0.113097742199898,-0.472998708486557,-0.242270693182945,0.134840443730354,-0.236960321664810,-0.236924633383751,-0.227510690689087));
res += mul(Get(s2,-dx,-dy), float4x4(-0.130546942353249,-0.167046085000038,0.003597208065912,-0.057744331657887,-0.093110941350460,0.286617994308472,0.062520109117031,0.039622951298952,-0.012582875788212,-0.139137133955956,-0.055674187839031,-0.057379405945539,-0.101377390325069,0.050868354737759,-0.074037916958332,-0.155926451086998));
res += mul(Get(s2,-dx,0), float4x4(0.068664945662022,-0.004643656779081,-0.090038649737835,-0.031640902161598,-0.082781352102757,0.315067172050476,-0.015076662413776,0.189534723758698,-0.015278019942343,-0.094720564782619,0.076595172286034,-0.053793620318174,-0.057512305676937,-0.118882454931736,0.317949116230011,-0.122889570891857));
res += mul(Get(s2,-dx,dy), float4x4(0.000072089780588,-0.267614632844925,0.321814119815826,0.104014009237289,-0.054916769266129,0.149772822856903,0.202840760350227,0.185371279716492,-0.115166969597340,-0.107328653335571,-0.000283116125502,-0.082671657204628,0.078620396554470,-0.167462810873985,0.187780976295471,-0.114279456436634));
res += mul(Get(s2,0,-dy), float4x4(0.310286551713943,-0.084861397743225,0.023179395124316,-0.108063481748104,-0.172857359051704,0.189233750104904,0.093265734612942,-0.062805950641632,-0.144584611058235,0.019090985879302,0.060789979994297,-0.004451372660697,-0.118596218526363,-0.012729641050100,-0.095690757036209,0.155148819088936));
res += mul(Get(s2,0,0), float4x4(-0.024687439203262,0.073151633143425,0.068457566201687,0.066228553652763,-0.108092136681080,-0.033060770481825,-0.090472720563412,0.124028578400612,0.051369991153479,0.053163748234510,-0.162232115864754,-0.170770630240440,-0.110960625112057,-0.110545076429844,0.206565886735916,0.081341572105885));
res += mul(Get(s2,0,dy), float4x4(-0.127269491553307,0.175677850842476,-0.086917802691460,0.213760122656822,0.076375737786293,-0.021705437451601,0.085174687206745,0.351395606994629,0.121490642428398,-0.085338175296783,-0.067949227988720,-0.129225149750710,0.000563742825761,-0.160941079258919,-0.043538745492697,-0.084682248532772));
res += mul(Get(s2,dx,-dy), float4x4(0.170184418559074,-0.023538263514638,0.053055461496115,-0.044769912958145,-0.232319235801697,-0.217421665787697,0.056855138391256,-0.229032561182976,-0.132906347513199,0.038722455501556,-0.047412138432264,-0.032853450626135,-0.195566043257713,-0.279829770326614,-0.030808236449957,0.459940880537033));
res += mul(Get(s2,dx,0), float4x4(-0.136829361319542,0.033584237098694,0.236622005701065,0.066046170890331,0.210697367787361,-0.072042807936668,-0.049009740352631,0.068005658686161,-0.146208032965660,-0.247446328401566,-0.281576633453369,-0.219707712531090,-0.147007152438164,0.147961974143982,-0.107019677758217,0.512983918190002));
res += mul(Get(s2,dx,dy), float4x4(-0.219016402959824,0.239918634295464,0.175340741872787,0.257075995206833,0.061529017984867,-0.294258922338486,-0.056721184402704,0.487402588129044,-0.110124655067921,0.096865616738796,-0.190570473670959,-0.094124935567379,0.224750101566315,-0.063578665256500,-0.200522243976593,-0.015904249623418));
res += mul(Get(s3,-dx,-dy), float4x4(-0.181990966200829,-0.131145551800728,-0.086335204541683,0.214005097746849,-0.149329766631126,0.144133582711220,0.124184355139732,-0.072259448468685,0.222434356808662,0.252768009901047,-0.144058346748352,-0.015850843861699,0.053433086723089,-0.206976547837257,-0.090722210705280,-0.023808535188437));
res += mul(Get(s3,-dx,0), float4x4(-0.009843227453530,-0.161101326346397,0.151407197117805,-0.084181398153305,-0.110013045370579,-0.057263452559710,0.196909040212631,0.085469461977482,-0.037061255425215,-0.061022602021694,0.106171667575836,0.073389910161495,-0.114996843039989,-0.269828677177429,0.118203215301037,0.054238528013229));
res += mul(Get(s3,-dx,dy), float4x4(0.116031393408775,-0.066945858299732,-0.193306967616081,-0.081880539655685,0.011067746207118,-0.092330023646355,0.026329552754760,-0.131416872143745,-0.053205005824566,0.080584034323692,0.266922235488892,-0.029192447662354,-0.110145010054111,-0.067227840423584,-0.029628038406372,0.155954018235207));
res += mul(Get(s3,0,-dy), float4x4(-0.254275143146515,0.086138486862183,-0.010396122001112,0.327072679996490,-0.112281121313572,0.128719463944435,0.070090569555759,0.078359521925449,0.170268416404724,0.093255467712879,-0.027717685326934,-0.006427796557546,0.088072165846825,-0.083526648581028,0.015353807248175,-0.082789309322834));
res += mul(Get(s3,0,0), float4x4(-0.043937709182501,-0.077723920345306,-0.095389291644096,-0.016978630796075,-0.079572193324566,-0.021356800571084,0.136796846985817,0.192748010158539,-0.205519333481789,0.224404200911522,-0.097403660416603,0.063818462193012,-0.060660764575005,-0.068014867603779,-0.029144281521440,-0.033209934830666));
res += mul(Get(s3,0,dy), float4x4(0.207246661186218,0.020846435800195,-0.209321409463882,-0.267203092575073,-0.114885166287422,-0.153709292411804,0.008101135492325,-0.152254447340965,-0.057455331087112,0.101332418620586,0.318182229995728,0.126048266887665,-0.102608583867550,0.124009877443314,-0.008915602229536,0.234379634261131));
res += mul(Get(s3,dx,-dy), float4x4(-0.215374156832695,0.344862610101700,-0.085966847836971,0.246512413024902,-0.150081917643547,0.619216680526733,-0.105491064488888,0.057456936687231,0.351675301790237,0.129862785339355,0.261768788099289,-0.134257361292839,0.103731617331505,-0.022499663755298,-0.049201197922230,-0.101059600710869));
res += mul(Get(s3,dx,0), float4x4(-0.064127035439014,-0.237725064158440,-0.065624423325062,-0.059905815869570,0.007057666312903,-0.106814697384834,-0.075878202915192,0.046870503574610,-0.073652766644955,0.008021041750908,0.161113664507866,0.005310522392392,0.178309559822083,-0.171604156494141,0.062410134822130,-0.030669018626213));
res += mul(Get(s3,dx,dy), float4x4(0.148450359702110,-0.031407408416271,-0.070049099624157,-0.291538417339325,-0.109043285250664,-0.141011074185371,0.100994192063808,-0.145339101552963,-0.112097948789597,0.266100585460663,0.040286898612976,-0.038784425705671,-0.034975737333298,-0.096676379442215,0.239929303526878,0.055411100387573));
return max(float4(0,0,0,0), res);
}
