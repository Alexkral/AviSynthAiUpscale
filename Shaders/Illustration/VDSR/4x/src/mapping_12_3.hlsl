sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.080254741013050,0.000051595670811,0.130803003907204,0.192299425601959,0.214791521430016,-0.064624488353729,0.089191064238548,0.109113626182079,-0.074968747794628,-0.068345196545124,0.108400933444500,0.114920668303967,0.082304738461971,0.115768805146217,0.195332258939743,-0.191398382186890));
res += mul(Get(s0,-dx,0), float4x4(0.023012403398752,-0.125085577368736,0.182676061987877,-0.084373071789742,-0.061635088175535,0.108692869544029,-0.074720658361912,0.019172545522451,0.088709272444248,0.103724151849747,-0.023201685398817,-0.021463463082910,0.012416549958289,0.011585552245378,0.121189199388027,-0.211860224604607));
res += mul(Get(s0,-dx,dy), float4x4(0.100786373019218,0.091197818517685,0.032652020454407,-0.098239153623581,-0.062401533126831,0.089538283646107,0.062366478145123,-0.089035682380199,0.013958345167339,-0.011780332773924,0.034639164805412,0.063689686357975,-0.065281942486763,-0.035261671990156,-0.085489287972450,-0.056770075112581));
res += mul(Get(s0,0,-dy), float4x4(0.036649845540524,-0.062441885471344,-0.108381055295467,0.111679710447788,0.006531640421599,0.141566053032875,-0.024424672126770,-0.055456731468439,0.182699978351593,0.061286203563213,-0.054800663143396,-0.077560462057590,-0.071238636970520,0.076542407274246,0.001825935672969,-0.146776482462883));
res += mul(Get(s0,0,0), float4x4(-0.059950392693281,-0.193043082952499,-0.248560935258865,0.048302024602890,0.071238808333874,0.108951404690742,-0.064053453505039,-0.207146316766739,-0.090660452842712,-0.086372792720795,-0.100233852863312,-0.030887318775058,-0.150695174932480,-0.000002113764822,-0.062869556248188,0.097714878618717));
res += mul(Get(s0,0,dy), float4x4(0.041604880243540,0.010055751539767,-0.288611441850662,-0.111156702041626,0.051033739000559,-0.058068774640560,-0.215092644095421,0.069012217223644,0.101128555834293,-0.189325675368309,0.153155267238617,-0.233200341463089,-0.041638355702162,-0.013024314306676,0.111323378980160,0.013967941515148));
res += mul(Get(s0,dx,-dy), float4x4(-0.176827251911163,0.033132061362267,-0.078081086277962,0.041537512093782,0.057975370436907,0.044638376682997,-0.112007990479469,0.014320003800094,-0.032529700547457,-0.060284465551376,-0.188040032982826,-0.121133312582970,-0.145623132586479,0.015550140291452,-0.114053033292294,-0.100654184818268));
res += mul(Get(s0,dx,0), float4x4(-0.044634740799665,-0.203892871737480,0.044854365289211,-0.092966862022877,0.210358604788780,0.109527155756950,0.079451583325863,0.107113361358643,-0.004009875468910,-0.042256727814674,0.051123682409525,-0.134987071156502,0.130951106548309,0.032385259866714,-0.230794370174408,-0.113386802375317));
res += mul(Get(s0,dx,dy), float4x4(0.113110870122910,0.045745216310024,-0.128449246287346,-0.080227009952068,0.071246586740017,0.072164721786976,-0.101605825126171,-0.159832522273064,-0.203214034438133,0.077843323349953,0.138150498270988,-0.053365752100945,-0.020795036107302,0.014143452048302,-0.172407865524292,-0.000548688170966));
res += mul(Get(s1,-dx,-dy), float4x4(0.009795739315450,0.028846804052591,-0.074909068644047,-0.067301914095879,0.051988493651152,-0.123947687447071,0.148832231760025,0.096412949264050,-0.064264610409737,-0.111285880208015,0.011227030307055,0.147351533174515,0.035181030631065,0.063117548823357,0.030556691810489,0.234341964125633));
res += mul(Get(s1,-dx,0), float4x4(0.005942833609879,-0.097998015582561,-0.235712572932243,-0.096064157783985,0.213831126689911,0.030537914484739,-0.095927402377129,0.238789603114128,0.229494705796242,0.056599460542202,0.005742008797824,-0.008301030844450,-0.230055227875710,0.088556274771690,0.085213065147400,0.050862420350313));
res += mul(Get(s1,-dx,dy), float4x4(-0.027729680761695,0.062856227159500,0.084910228848457,-0.189065381884575,0.053751744329929,-0.071147143840790,-0.244080066680908,-0.192890584468842,-0.191062435507774,-0.102893598377705,-0.145902454853058,-0.187333524227142,-0.048724591732025,0.254401057958603,0.031383331865072,0.039148334413767));
res += mul(Get(s1,0,-dy), float4x4(0.215197548270226,-0.147480815649033,0.014014111831784,0.022286430001259,0.065295606851578,-0.035304758697748,0.063426002860069,0.217188760638237,-0.071870923042297,0.061800174415112,-0.039434354752302,-0.007441336289048,0.055822506546974,-0.028297225013375,0.028450058773160,0.019908398389816));
res += mul(Get(s1,0,0), float4x4(-0.147182628512383,-0.081350512802601,-0.022689249366522,-0.107790641486645,0.128881663084030,0.151734650135040,-0.152594119310379,-0.007176102139056,0.145866096019745,0.007087264675647,0.144892960786819,0.020705662667751,-0.070002399384975,0.037072218954563,0.222431480884552,0.078846476972103));
res += mul(Get(s1,0,dy), float4x4(-0.094308078289032,0.103478714823723,0.037280138581991,0.011005041189492,-0.078561253845692,0.018031781539321,-0.220732659101486,-0.020364373922348,-0.024467600509524,-0.261878073215485,0.131179675459862,0.042490378022194,-0.045696649700403,-0.234262496232986,0.187040090560913,-0.012762012891471));
res += mul(Get(s1,dx,-dy), float4x4(0.185839727520943,0.036178655922413,-0.118605643510818,-0.017659371718764,0.178631439805031,0.168442249298096,0.092604674398899,-0.104936808347702,-0.040804836899042,0.271088540554047,-0.034130584448576,0.057528521865606,-0.202453121542931,-0.018846025690436,0.059348370879889,0.170250937342644));
res += mul(Get(s1,dx,0), float4x4(-0.092201493680477,0.393176287412643,0.019569307565689,0.070055641233921,-0.049009680747986,0.032510984688997,0.056543305516243,0.069094799458981,-0.000651871261653,0.054497573524714,0.160649374127388,0.086062267422676,0.008909850381315,-0.119928874075413,0.166055977344513,0.060052968561649));
res += mul(Get(s1,dx,dy), float4x4(0.123885191977024,0.123176239430904,-0.126782357692719,-0.193375766277313,0.173577100038528,-0.036445837467909,-0.103760555386543,0.017066091299057,-0.016929708421230,0.139431804418564,0.023308135569096,-0.098231166601181,-0.026665562763810,0.036332942545414,-0.018422609195113,-0.131425023078918));
res += mul(Get(s2,-dx,-dy), float4x4(-0.081567987799644,-0.039402265101671,-0.114255465567112,0.059530049562454,-0.046787500381470,-0.107566580176353,-0.276751279830933,0.038804769515991,-0.012947856448591,0.095920644700527,-0.039954651147127,-0.132344812154770,0.132571324706078,0.200962662696838,-0.139743566513062,0.012404615990818));
res += mul(Get(s2,-dx,0), float4x4(-0.075081475079060,0.042023360729218,0.010517016984522,0.071150757372379,0.109158068895340,0.267676651477814,0.200809910893440,0.022748587653041,-0.287048190832138,0.081017993390560,-0.151491761207581,-0.022657830268145,0.040422368794680,0.191964283585548,0.048656020313501,-0.209034278988838));
res += mul(Get(s2,-dx,dy), float4x4(-0.070608958601952,0.071527048945427,-0.033505130559206,-0.101438276469707,-0.025872966274619,0.128798082470894,0.092768117785454,0.113652497529984,-0.062704518437386,-0.152192056179047,-0.166179999709129,-0.120304495096207,-0.000181064300705,0.222468748688698,-0.139898747205734,-0.027239980176091));
res += mul(Get(s2,0,-dy), float4x4(-0.098804652690887,-0.179454997181892,-0.201193869113922,-0.140027686953545,-0.183848232030869,0.149572476744652,-0.042886957526207,-0.031209215521812,-0.107615537941456,0.145855680108070,0.042095828801394,-0.087383650243282,-0.049236867576838,0.051754925400019,-0.165560349822044,-0.022016344591975));
res += mul(Get(s2,0,0), float4x4(-0.023010369390249,-0.139679461717606,-0.176044940948486,0.048747412860394,-0.017257880419493,0.096361227333546,0.135862976312637,0.096937514841557,-0.148516967892647,-0.077005781233311,0.084661446511745,-0.135093927383423,0.052003223448992,0.145035654306412,-0.092693001031876,0.065193720161915));
res += mul(Get(s2,0,dy), float4x4(0.067300207912922,0.085848383605480,-0.197273656725883,-0.067388869822025,-0.009999807924032,0.126363143324852,0.105071321129799,-0.007711847312748,-0.013279008679092,0.058537177741528,0.149020507931709,0.002919929334894,0.102494969964027,0.008293507620692,0.059155456721783,0.118453033268452));
res += mul(Get(s2,dx,-dy), float4x4(0.030622448772192,0.004415301606059,0.075406804680824,0.021889071911573,-0.269635766744614,0.032092601060867,-0.022982224822044,0.127517610788345,-0.165395617485046,0.108766429126263,0.016682030633092,0.029035691171885,0.080698937177658,0.006043791305274,-0.044459421187639,0.149357646703720));
res += mul(Get(s2,dx,0), float4x4(0.100647501647472,0.084700539708138,0.087565839290619,0.055382486432791,-0.094009704887867,0.065462648868561,-0.053802769631147,0.098297357559204,-0.152667462825775,0.049260407686234,0.084874287247658,-0.139116123318672,0.116583123803139,0.020045492798090,-0.018267756327987,0.281896740198135));
res += mul(Get(s2,dx,dy), float4x4(0.178069502115250,0.107393726706505,-0.067864745855331,-0.120897255837917,-0.181654423475266,0.043638728559017,0.079754106700420,-0.014156731776893,-0.280200779438019,0.034371312707663,-0.155934870243073,-0.158105522394180,0.113744996488094,0.252078294754028,0.115503765642643,0.264259845018387));
res += mul(Get(s3,-dx,-dy), float4x4(-0.156837627291679,0.003656402695924,0.208380043506622,-0.062605731189251,-0.032759185880423,0.122740104794502,0.286353915929794,0.039613395929337,-0.235134005546570,0.062926180660725,0.201030835509300,-0.079977087676525,0.082407660782337,0.039060112088919,0.112362287938595,0.009761217981577));
res += mul(Get(s3,-dx,0), float4x4(-0.187064021825790,-0.160164892673492,-0.061747193336487,-0.113106101751328,-0.190181136131287,0.091212220489979,-0.020390575751662,0.043099805712700,-0.023332355543971,0.046643804758787,-0.025877347216010,-0.026374522596598,-0.048146802932024,-0.027833204716444,0.154503956437111,0.099554456770420));
res += mul(Get(s3,-dx,dy), float4x4(-0.170442134141922,0.145561873912811,-0.126642271876335,-0.201943174004555,-0.081555694341660,-0.005710751283914,0.000065618398366,0.058079063892365,0.101376645267010,0.020862443372607,-0.105948373675346,0.057912144809961,0.043251924216747,-0.000031686453440,0.082770258188248,-0.119905114173889));
res += mul(Get(s3,0,-dy), float4x4(0.306768357753754,0.120583526790142,0.005252301227301,-0.281479090452194,-0.247923016548157,0.013567617163062,0.215862438082695,-0.059820417314768,0.282250493764877,-0.014869635924697,-0.028930189087987,0.146054863929749,-0.204280853271484,0.097270540893078,-0.013031196780503,0.141374230384827));
res += mul(Get(s3,0,0), float4x4(-0.171129211783409,-0.005297241266817,-0.012328046374023,-0.022826692089438,0.052589640021324,0.207402139902115,0.169557511806488,-0.033298630267382,-0.020469365641475,-0.199943035840988,0.026483453810215,-0.050191689282656,0.131971567869186,-0.147722914814949,0.090879663825035,0.117709212005138));
res += mul(Get(s3,0,dy), float4x4(-0.004593714140356,-0.067645393311977,0.135723561048508,0.032224990427494,-0.052850812673569,0.204797193408012,-0.004924881737679,-0.104559592902660,-0.061407320201397,-0.143059536814690,0.048277929425240,0.137708365917206,0.113471724092960,-0.072006411850452,-0.079081214964390,-0.063988924026489));
res += mul(Get(s3,dx,-dy), float4x4(0.102426543831825,0.122269898653030,-0.036210734397173,-0.068885713815689,-0.010290972888470,-0.243370562791824,0.120902426540852,-0.158938750624657,-0.022839855402708,-0.039059262722731,0.064870581030846,-0.082940287888050,-0.127651363611221,0.042438168078661,-0.030740082263947,-0.048605021089315));
res += mul(Get(s3,dx,0), float4x4(0.136258855462074,0.057696294039488,0.068632498383522,-0.062691263854504,0.116870418190956,-0.014443929307163,0.023866290226579,0.024463823065162,-0.045017518103123,-0.068637996912003,0.152685925364494,0.010575236752629,-0.169072136282921,0.089010931551456,0.088668189942837,-0.087050966918468));
res += mul(Get(s3,dx,dy), float4x4(0.027351228520274,-0.145539313554764,0.099299080669880,0.019842721521854,-0.068459540605545,0.008133923634887,-0.044240117073059,0.086435399949551,-0.052934773266315,0.089147336781025,0.175610870122910,0.354946702718735,-0.173966541886330,-0.155936598777771,-0.050296273082495,-0.153979659080505));
return max(float4(0,0,0,0), res);
}
