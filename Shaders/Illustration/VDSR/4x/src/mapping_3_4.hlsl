sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.230902835726738,-0.018413668498397,0.072174713015556,-0.006951193790883,0.123129189014435,-0.029021201655269,-0.073629707098007,0.012028798460960,0.016780873760581,-0.122128665447235,-0.010839167982340,-0.159481763839722,0.032348223030567,-0.005325976293534,0.053557883948088,0.090267702937126));
res += mul(Get(s0,-dx,0), float4x4(0.046006459742785,0.103094726800919,-0.037702590227127,0.037698745727539,-0.287873655557632,-0.087149344384670,-0.076050691306591,-0.099206246435642,0.053849175572395,0.110511265695095,0.174825772643089,-0.096038416028023,0.022069755941629,0.144084528088570,0.132984340190887,0.120178535580635));
res += mul(Get(s0,-dx,dy), float4x4(0.140899658203125,-0.129186838865280,-0.135914623737335,0.043496534228325,-0.188229143619537,-0.016084520146251,-0.147370889782906,0.073547549545765,-0.103593945503235,-0.054963193833828,0.129958480596542,-0.024601040408015,-0.029467210173607,0.048194680362940,0.034187655895948,0.021480355411768));
res += mul(Get(s0,0,-dy), float4x4(0.020776644349098,-0.118447914719582,-0.035486482083797,-0.061361614614725,-0.166329264640808,-0.152821555733681,0.137992516160011,-0.212922886013985,0.021594615653157,-0.256027787923813,-0.043359387665987,0.081399425864220,0.041931573301554,0.025271417573094,-0.273633360862732,-0.036238614469767));
res += mul(Get(s0,0,0), float4x4(-0.292847633361816,-0.069569341838360,0.138674780726433,0.131759107112885,0.079331628978252,0.169100433588028,0.071215078234673,-0.093818791210651,-0.032606203109026,0.108194850385189,-0.001623810152523,0.082752071321011,-0.033179294317961,-0.032774843275547,-0.026946436613798,0.111319504678249));
res += mul(Get(s0,0,dy), float4x4(-0.218054622411728,0.107460483908653,-0.142914548516273,-0.245996460318565,-0.135620713233948,-0.098240107297897,0.098858460783958,0.075564205646515,0.211048677563667,-0.055028647184372,-0.187932461500168,0.080527387559414,0.082813702523708,0.107371665537357,-0.181424558162689,-0.127709478139877));
res += mul(Get(s0,dx,-dy), float4x4(-0.033772673457861,-0.120928823947906,0.057234518229961,-0.219008505344391,-0.122619092464447,0.050754029303789,-0.182558834552765,-0.079368188977242,0.077987246215343,-0.109241582453251,0.107310481369495,-0.034639146178961,-0.054935391992331,0.079997584223747,-0.025786915794015,-0.111085809767246));
res += mul(Get(s0,dx,0), float4x4(0.056760415434837,0.039294164627790,-0.064711190760136,-0.010274635627866,0.009967488236725,-0.158142134547234,0.005736823193729,0.084494963288307,-0.277312457561493,0.171494916081429,-0.024996645748615,0.073498569428921,0.026792177930474,-0.002804164774716,0.133371829986572,-0.014921943657100));
res += mul(Get(s0,dx,dy), float4x4(0.002787213306874,-0.121374949812889,-0.187446147203445,-0.089457370340824,0.208052799105644,0.037016686052084,0.132497176527977,0.082444526255131,-0.064343884587288,0.062555313110352,-0.082413673400879,-0.126225307583809,-0.157337129116058,0.005096639040858,-0.001896903035231,-0.033094692975283));
res += mul(Get(s1,-dx,-dy), float4x4(-0.107186779379845,-0.076246291399002,-0.047444667667150,-0.034132927656174,0.228312313556671,-0.007898241281509,0.044563550502062,0.000103014252090,-0.017639800906181,-0.073766931891441,-0.264598101377487,0.177703097462654,0.051105972379446,-0.009689822793007,-0.138592123985291,-0.034427754580975));
res += mul(Get(s1,-dx,0), float4x4(-0.015877338126302,0.015003802254796,-0.121878884732723,0.075387358665466,-0.026511007919908,-0.437479108572006,-0.162172853946686,-0.239320456981659,0.101207606494427,-0.061399914324284,0.256935715675354,-0.003450052347034,0.014774084091187,-0.087398551404476,0.014303247444332,0.003782875835896));
res += mul(Get(s1,-dx,dy), float4x4(-0.087538771331310,0.018639054149389,0.029771137982607,-0.152137756347656,0.065731376409531,0.040337212383747,-0.010263016447425,0.261923372745514,-0.194947004318237,-0.131287455558777,0.027057141065598,0.054985869675875,-0.032433189451694,-0.138086736202240,0.205759823322296,-0.064978308975697));
res += mul(Get(s1,0,-dy), float4x4(0.040359325706959,0.089520461857319,-0.088466100394726,-0.107091329991817,-0.081585079431534,0.067916020750999,-0.127115502953529,-0.012420958839357,0.026685088872910,0.104724660515785,0.059739887714386,-0.105109110474586,-0.264567315578461,0.109056957066059,0.120120942592621,-0.063237920403481));
res += mul(Get(s1,0,0), float4x4(0.098265603184700,-0.031954038888216,0.114891774952412,0.084575302898884,0.094317622482777,0.051180612295866,0.236697316169739,-0.130421444773674,0.051017567515373,0.091720893979073,-0.124846167862415,0.054289370775223,0.135143280029297,0.114454351365566,0.044534277170897,0.093584202229977));
res += mul(Get(s1,0,dy), float4x4(-0.171000361442566,0.060890462249517,-0.089492335915565,0.061860289424658,0.062073029577732,0.069533161818981,0.008065008558333,0.114496454596519,-0.046349924057722,-0.074461348354816,-0.067061372101307,0.194132238626480,0.068228274583817,0.026801465079188,-0.144577756524086,-0.141851633787155));
res += mul(Get(s1,dx,-dy), float4x4(-0.104675434529781,-0.042039606720209,-0.081456139683723,-0.106631547212601,-0.148313492536545,-0.095846541225910,-0.028311021625996,0.043540932238102,0.057617366313934,-0.104888096451759,-0.116602249443531,0.028439326211810,-0.039958976209164,-0.158151805400848,0.163765892386436,-0.098828658461571));
res += mul(Get(s1,dx,0), float4x4(-0.099131271243095,0.132240265607834,-0.087625063955784,0.092846602201462,0.033991448581219,-0.046875730156898,-0.094960436224937,-0.037820074707270,-0.091163679957390,0.152200311422348,0.298481673002243,-0.080565296113491,0.046245150268078,-0.003582974663004,-0.096334509551525,-0.226206123828888));
res += mul(Get(s1,dx,dy), float4x4(0.021531742066145,-0.006359066814184,0.105024315416813,-0.108992531895638,-0.185662597417831,0.067284055054188,-0.179195091128349,-0.027670197188854,0.084367267787457,-0.112835027277470,-0.073127955198288,0.019346620887518,-0.104304879903793,-0.091142214834690,-0.205035969614983,-0.106816247105598));
res += mul(Get(s2,-dx,-dy), float4x4(-0.087187275290489,-0.054325956851244,-0.090175449848175,0.268955051898956,0.029242612421513,-0.105764180421829,-0.257266551256180,0.022182153537869,-0.033605441451073,-0.029873136430979,-0.046902444213629,-0.085536219179630,-0.122935272753239,0.158785730600357,-0.124670743942261,0.008804445154965));
res += mul(Get(s2,-dx,0), float4x4(0.024730876088142,0.043237533420324,0.179805055260658,0.148885801434517,0.003364923642948,-0.074726767838001,-0.001721018808894,-0.297935038805008,0.031618963927031,0.052750743925571,0.033425200730562,-0.088586159050465,0.061195403337479,0.104903906583786,0.096898727118969,-0.216573372483253));
res += mul(Get(s2,-dx,dy), float4x4(0.026919733732939,0.243117585778236,-0.188727557659149,0.078765951097012,-0.112205587327480,0.002194255124778,-0.064169771969318,0.126127123832703,0.312473684549332,0.065296240150928,0.049155466258526,-0.061670843511820,0.158411026000977,-0.150537624955177,-0.154727593064308,0.035790152847767));
res += mul(Get(s2,0,-dy), float4x4(-0.011602704413235,0.001791850081645,0.068267866969109,-0.006181260105222,0.076987884938717,0.133699655532837,-0.084014452993870,0.023483768105507,-0.069954209029675,-0.060258198529482,0.055049214512110,-0.008025224320590,0.167823016643524,-0.030618451535702,0.101383082568645,0.092246986925602));
res += mul(Get(s2,0,0), float4x4(-0.161269813776016,-0.012831017374992,-0.082893580198288,-0.067968085408211,0.015751892700791,-0.179706469178200,-0.040564566850662,-0.158980146050453,-0.130964100360870,-0.055633164942265,0.113946117460728,0.286790966987610,0.235036745667458,-0.075253382325172,0.105992972850800,-0.129263550043106));
res += mul(Get(s2,0,dy), float4x4(0.255163669586182,0.185555174946785,-0.036771830171347,-0.133944973349571,-0.204867050051689,0.070358820259571,-0.042457953095436,-0.058620311319828,-0.086635567247868,-0.022841736674309,-0.175077050924301,-0.112129412591457,0.121651500463486,-0.023234302178025,0.103787660598755,0.037299085408449));
res += mul(Get(s2,dx,-dy), float4x4(-0.024940118193626,-0.016412358731031,-0.102591544389725,-0.084838181734085,0.059774853289127,-0.047183077782393,0.071193687617779,-0.186657860875130,0.033179692924023,0.013491044752300,-0.132415577769279,-0.156300500035286,0.030007550492883,0.155825406312943,0.101448319852352,0.049144398421049));
res += mul(Get(s2,dx,0), float4x4(-0.035475324839354,0.138305529952049,0.185771003365517,-0.023280907422304,-0.221773952245712,-0.001657596789300,-0.158145084977150,0.088845275342464,0.092140518128872,0.029378926381469,-0.108384653925896,-0.203672245144844,0.101931437849998,-0.075458966195583,-0.126729667186737,-0.044675353914499));
res += mul(Get(s2,dx,dy), float4x4(0.111034318804741,-0.057406105101109,0.077099777758121,-0.150840088725090,-0.026175893843174,-0.066981941461563,-0.010329290293157,-0.029525633901358,0.048379499465227,-0.101054243743420,0.114494934678078,0.025350006297231,-0.063064657151699,0.026182362809777,-0.106441251933575,0.065789930522442));
res += mul(Get(s3,-dx,-dy), float4x4(0.138445213437080,0.187117323279381,0.040567867457867,-0.042023334652185,0.111349269747734,-0.156440675258636,0.139309063553810,-0.047276165336370,0.078877024352551,-0.058475684374571,0.008462707512081,0.134253293275833,-0.152539804577827,-0.121656097471714,-0.009838513098657,-0.010489203035831));
res += mul(Get(s3,-dx,0), float4x4(0.142590358853340,-0.088326580822468,-0.015954216942191,-0.159147232770920,-0.090355716645718,-0.162028282880783,0.117048755288124,0.112445421516895,-0.186321228742599,-0.132855206727982,-0.014635453000665,-0.021935841068625,0.088248319923878,0.071920387446880,0.101617202162743,0.113199487328529));
res += mul(Get(s3,-dx,dy), float4x4(-0.029452208429575,0.110420465469360,0.095936186611652,0.093281686306000,-0.217926964163780,0.046443320810795,0.091558039188385,0.093665041029453,0.075627386569977,0.207271963357925,0.038775205612183,0.077447444200516,0.035222489386797,0.229346483945847,-0.003887542290613,-0.052032615989447));
res += mul(Get(s3,0,-dy), float4x4(-0.118410959839821,-0.190576851367950,0.042553968727589,-0.176108807325363,-0.026170963421464,-0.013041513040662,-0.146502032876015,0.061061270534992,0.184269875288010,-0.009945889934897,0.086130961775780,-0.017563529312611,-0.066376373171806,-0.016683680936694,0.090575993061066,0.129112005233765));
res += mul(Get(s3,0,0), float4x4(0.006383226253092,0.035654302686453,0.127925261855125,-0.039407376199961,-0.052670467644930,0.291572719812393,0.005330346059054,-0.033298425376415,0.046035207808018,0.009106229059398,0.069131128489971,-0.006455150898546,0.064954720437527,-0.044635131955147,0.077899008989334,0.087681397795677));
res += mul(Get(s3,0,dy), float4x4(0.042929098010063,-0.095727190375328,0.090948253870010,-0.056460816413164,-0.109545320272446,0.016086705029011,0.024106381461024,-0.154910564422607,-0.108821719884872,-0.155009776353836,0.069683894515038,-0.152128979563713,0.229557856917381,-0.209211409091949,-0.026194900274277,-0.062088061124086));
res += mul(Get(s3,dx,-dy), float4x4(-0.055131748318672,0.171090140938759,0.104131482541561,-0.024701591581106,-0.033512264490128,-0.135350480675697,-0.275391846895218,0.082841590046883,-0.187021538615227,-0.049508672207594,0.029958313331008,-0.124254375696182,0.214641898870468,-0.033824857324362,-0.091560356318951,0.098572693765163));
res += mul(Get(s3,dx,0), float4x4(-0.070647753775120,0.229658752679825,-0.055351097136736,-0.111013010144234,-0.018841553479433,-0.267410933971405,-0.122381813824177,-0.035518851131201,-0.020766504108906,0.031821101903915,-0.101758845150471,0.162348464131355,0.005820126738399,-0.083435632288456,0.110563337802887,-0.193587839603424));
res += mul(Get(s3,dx,dy), float4x4(-0.144020617008209,-0.057600844651461,-0.230604112148285,0.004385117441416,0.042237158864737,0.147342786192894,0.074889451265335,-0.112448245286942,-0.068173862993717,0.104925043880939,-0.071126781404018,0.169825851917267,0.043776586651802,0.179159536957741,0.170768871903419,0.405130326747894));
return max(float4(0,0,0,0), res);
}
