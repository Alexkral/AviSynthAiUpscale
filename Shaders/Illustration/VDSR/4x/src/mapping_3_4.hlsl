sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.081911839544773,0.146280303597450,-0.117979787290096,-0.113147810101509,-0.159130498766899,0.148248463869095,0.220649152994156,-0.210867270827293,0.246233344078064,-0.217611446976662,0.055891107767820,-0.072453185915947,0.068103715777397,0.097290739417076,-0.171667978167534,-0.011775556951761));
res += mul(Get(s0,-dx,0), float4x4(0.000238883876591,0.111472971737385,0.034439552575350,0.348521530628204,-0.099994182586670,0.033261504024267,0.004347450565547,-0.001963049639016,-0.004124313127249,-0.157344788312912,0.144775435328484,0.014529850333929,-0.103412263095379,-0.221410110592842,-0.043153967708349,-0.066860683262348));
res += mul(Get(s0,-dx,dy), float4x4(-0.179527282714844,0.077076636254787,0.058666288852692,0.331875652074814,-0.170071616768837,-0.051045805215836,-0.049777276813984,0.084493719041348,-0.183277383446693,-0.106207393109798,0.011870274320245,0.189154431223869,-0.029260400682688,0.031927894800901,-0.012124460190535,-0.107491865754128));
res += mul(Get(s0,0,-dy), float4x4(-0.116320721805096,0.076311603188515,-0.053681287914515,-0.240727871656418,-0.109747968614101,0.176239699125290,-0.018051322549582,-0.195192515850067,-0.100893586874008,0.000058411838836,0.068421199917793,-0.008296355605125,0.099515147507191,-0.056115463376045,-0.067857481539249,-0.099045291543007));
res += mul(Get(s0,0,0), float4x4(0.073123596608639,0.022307764738798,0.019058821722865,0.019900267943740,-0.066912554204464,0.241055414080620,-0.122105181217194,-0.083866849541664,-0.164555266499519,-0.026251401752234,0.099412724375725,-0.101710371673107,-0.216684117913246,-0.106584466993809,-0.031179321929812,0.110963568091393));
res += mul(Get(s0,0,dy), float4x4(-0.113311178982258,0.026083957403898,0.032373860478401,0.377612262964249,-0.007371080107987,0.015840133652091,-0.043680787086487,-0.017057618126273,-0.286483883857727,-0.046658962965012,-0.175570026040077,-0.048850491642952,0.315942734479904,0.086464881896973,-0.022012049332261,-0.214911893010139));
res += mul(Get(s0,dx,-dy), float4x4(-0.154453366994858,0.051236145198345,-0.271682620048523,0.080033048987389,-0.115192562341690,-0.014454371295869,-0.104007050395012,-0.240016669034958,-0.094648458063602,0.157637149095535,-0.113986656069756,-0.191326513886452,-0.109573185443878,0.107966683804989,-0.124647192656994,-0.216537371277809));
res += mul(Get(s0,dx,0), float4x4(-0.076177433133125,-0.164000123739243,-0.125910505652428,0.026375330984592,-0.163587421178818,0.224947035312653,-0.079632550477982,-0.134394347667694,-0.045147620141506,-0.102169379591942,-0.052058439701796,-0.212486892938614,0.196107476949692,0.032846983522177,-0.280389606952667,-0.051345698535442));
res += mul(Get(s0,dx,dy), float4x4(-0.135712921619415,-0.165092334151268,-0.046020347625017,0.082486942410469,0.000867762253620,-0.029928456991911,0.043275900185108,-0.038754191249609,-0.308202415704727,-0.058760706335306,-0.430596351623535,0.072326846420765,-0.102636829018593,-0.086059480905533,-0.204729080200195,0.061022210866213));
res += mul(Get(s1,-dx,-dy), float4x4(0.043158371001482,-0.050184752792120,-0.120271675288677,0.171640023589134,0.077210798859596,0.057279381901026,0.036990370601416,0.045285243541002,-0.012669767253101,-0.157591953873634,0.081509396433830,-0.269139438867569,-0.118440657854080,-0.164893358945847,-0.065514244139194,-0.225310832262039));
res += mul(Get(s1,-dx,0), float4x4(-0.023245528340340,-0.048487614840269,0.128055870532990,0.248631656169891,0.078527212142944,0.069355115294456,0.047016639262438,-0.094725959002972,0.096373632550240,-0.156855300068855,-0.243815347552299,-0.149595186114311,-0.123204469680786,-0.165116265416145,-0.087325923144817,-0.227324441075325));
res += mul(Get(s1,-dx,dy), float4x4(-0.111386127769947,0.102911956608295,-0.239669606089592,0.047354333102703,0.010572553612292,-0.016788620501757,0.130819022655487,0.035120368003845,-0.095737896859646,-0.096741333603859,-0.386297702789307,0.160596951842308,-0.134446308016777,-0.227925062179565,-0.167998984456062,0.154408991336823));
res += mul(Get(s1,0,-dy), float4x4(-0.052245553582907,-0.097479954361916,-0.112363323569298,-0.119947411119938,0.053771283477545,0.054407816380262,0.068553157150745,0.126163154840469,0.170372977852821,-0.023252950981259,0.074438706040382,-0.214322417974472,0.060818459838629,-0.061488468199968,0.189995095133781,-0.070329360663891));
res += mul(Get(s1,0,0), float4x4(0.096238255500793,-0.126246377825737,0.085021175444126,-0.152676686644554,-0.016154831275344,0.022039677947760,0.048137415200472,0.005772196687758,-0.118924140930176,-0.179639935493469,-0.132101148366928,-0.049184493720531,-0.231469899415970,-0.058902807533741,0.071939408779144,-0.343124598264694));
res += mul(Get(s1,0,dy), float4x4(0.100869871675968,-0.051073364913464,-0.081855848431587,0.020430047065020,-0.113411091268063,0.031968373805285,0.123538032174110,-0.014156926423311,-0.154601529240608,0.013836528174579,-0.264951229095459,0.295469641685486,-0.172751083970070,-0.187122717499733,0.016212714836001,-0.098460935056210));
res += mul(Get(s1,dx,-dy), float4x4(0.150012955069542,-0.010306687094271,-0.117495916783810,-0.018516983836889,0.042892400175333,-0.025089615955949,-0.093537703156471,-0.025092927739024,-0.172935783863068,0.078242778778076,-0.072872780263424,-0.149742752313614,0.154311105608940,-0.053864173591137,-0.123992457985878,0.096624590456486));
res += mul(Get(s1,dx,0), float4x4(0.066993676126003,-0.068784646689892,-0.048839099705219,-0.057148657739162,-0.077536493539810,-0.051919028162956,-0.210759192705154,-0.023063464090228,-0.363339483737946,-0.111317023634911,-0.179783523082733,-0.164167240262032,-0.103186130523682,-0.076552107930183,-0.094260141253471,-0.249221399426460));
res += mul(Get(s1,dx,dy), float4x4(0.005994840525091,-0.321655482053757,-0.072376869618893,-0.016997544094920,-0.093172207474709,-0.030593151226640,-0.083707869052887,-0.062598720192909,-0.131776437163353,0.163153365254402,-0.331441581249237,0.076933145523071,0.040541291236877,-0.153789415955544,-0.086093530058861,0.139813840389252));
res += mul(Get(s2,-dx,-dy), float4x4(0.102617941796780,0.052846767008305,-0.292527675628662,0.110271178185940,0.128046691417694,-0.139412105083466,0.329911142587662,-0.076339326798916,-0.225869387388229,-0.174858018755913,0.135690793395042,-0.103304840624332,0.084163844585419,-0.025116447359324,0.017509929835796,0.061488907784224));
res += mul(Get(s2,-dx,0), float4x4(0.021356157958508,-0.219293504953384,0.029236912727356,0.043758690357208,-0.027140878140926,-0.141020953655243,0.088297508656979,0.036635328084230,-0.005537314340472,-0.263366132974625,0.152547195553780,0.208201944828033,-0.123019538819790,-0.116989061236382,-0.013675682246685,-0.029280016198754));
res += mul(Get(s2,-dx,dy), float4x4(-0.193430379033089,-0.195555299520493,0.066347353160381,-0.013090013526380,-0.038299318403006,-0.134245321154594,-0.008526320569217,-0.015477468259633,-0.305346161127090,-0.240155488252640,0.019687004387379,0.100639022886753,0.031439285725355,-0.092629730701447,-0.060871344059706,0.068580888211727));
res += mul(Get(s2,0,-dy), float4x4(-0.081390403211117,0.030497793108225,0.082714721560478,-0.043559152632952,0.001835509785451,0.065633513033390,0.062212161719799,-0.096606530249119,-0.145199105143547,-0.055252477526665,-0.022522216662765,-0.089983314275742,0.005800747312605,0.015091051347554,0.009570850990713,-0.013486445881426));
res += mul(Get(s2,0,0), float4x4(-0.014266476966441,-0.101795084774494,0.038064468652010,0.001367842778563,-0.084911316633224,0.078628011047840,-0.115903489291668,-0.023195412009954,0.043613296002150,-0.316925734281540,0.138237252831459,-0.002109871944413,-0.042732406407595,-0.035958252847195,0.046243555843830,0.122143931686878));
res += mul(Get(s2,0,dy), float4x4(0.017119521275163,-0.097920626401901,-0.078021287918091,0.088507793843746,-0.096131063997746,0.021865440532565,-0.119480185210705,-0.111623145639896,-0.153877764940262,-0.279677003622055,-0.000718235620297,0.174762427806854,-0.073821634054184,-0.139693886041641,-0.089107006788254,-0.081399343907833));
res += mul(Get(s2,dx,-dy), float4x4(-0.057193990796804,0.138940796256065,0.038533955812454,-0.087802909314632,-0.224235087633133,-0.017741695046425,-0.072428531944752,-0.069084808230400,-0.234073728322983,0.587071299552917,0.278896719217300,0.099719159305096,-0.087503314018250,0.101490497589111,-0.080019488930702,-0.136695593595505));
res += mul(Get(s2,dx,0), float4x4(-0.159699484705925,0.021353451535106,-0.057513337582350,-0.066218003630638,-0.192114993929863,-0.041101325303316,-0.082400292158127,0.035703208297491,-0.081124827265739,0.315013319253922,-0.205187901854515,0.147323176264763,-0.100293740630150,0.186736598610878,-0.097631648182869,-0.244987353682518));
res += mul(Get(s2,dx,dy), float4x4(-0.203642785549164,-0.024367149919271,-0.018444914370775,-0.231482818722725,-0.301309436559677,-0.061827592551708,0.009251867420971,-0.019778154790401,0.000180256829481,-0.079972378909588,-0.047772519290447,-0.235869541764259,-0.113213486969471,-0.119083538651466,-0.107995107769966,-0.168389335274696));
res += mul(Get(s3,-dx,-dy), float4x4(-0.072245389223099,-0.006796750240028,-0.102094531059265,-0.069905027747154,0.118295453488827,0.121193140745163,0.009148382581770,-0.159577175974846,0.044584225863218,0.029616555199027,0.135151565074921,0.016303008422256,-0.018599571660161,-0.021315995603800,-0.004627468530089,-0.023623025044799));
res += mul(Get(s3,-dx,0), float4x4(-0.014380127191544,-0.163738161325455,-0.063158735632896,0.065064370632172,-0.157926991581917,0.186321824789047,-0.097826935350895,-0.281375527381897,0.162246361374855,-0.066744074225426,0.077561154961586,-0.060337219387293,0.022952733561397,-0.024497864767909,-0.001143311383203,0.098576277494431));
res += mul(Get(s3,-dx,dy), float4x4(-0.079612515866756,-0.245661109685898,-0.076161898672581,-0.028046296909451,-0.100263707339764,0.089990891516209,-0.268184900283813,-0.139668121933937,-0.006982705555856,-0.099293239414692,-0.242948129773140,0.058661568909883,-0.028535718098283,-0.035924796015024,0.057784840464592,0.166536614298820));
res += mul(Get(s3,0,-dy), float4x4(0.014148774556816,0.144832372665405,-0.146687403321266,0.203596472740173,0.145517975091934,-0.164611399173737,0.144754514098167,-0.376834839582443,-0.005269800778478,0.125132977962494,0.025509016588330,0.021351905539632,0.139405205845833,-0.054243121296167,-0.097170718014240,0.161703899502754));
res += mul(Get(s3,0,0), float4x4(-0.078080922365189,0.098129384219646,-0.069986373186111,0.273047626018524,-0.068591624498367,-0.004347495734692,0.121187314391136,-0.238334462046623,-0.093439079821110,0.005854503717273,-0.018246509134769,0.229812398552895,0.027908604592085,-0.065367422997952,-0.025989169254899,0.082378365099430));
res += mul(Get(s3,0,dy), float4x4(-0.040576346218586,0.012159872800112,-0.031087800860405,0.088804163038731,0.185942023992538,-0.020929014310241,-0.202448517084122,-0.157886564731598,-0.009416838176548,-0.054712239652872,-0.242475181818008,0.048350337892771,0.000601225008722,-0.058547995984554,0.064743958413601,0.139588281512260));
res += mul(Get(s3,dx,-dy), float4x4(-0.074486590921879,0.360324740409851,-0.240654259920120,0.060466568917036,0.057070687413216,-0.152728080749512,0.012095862999558,-0.093220733106136,-0.068328149616718,0.278946310281754,0.054127015173435,-0.054780874401331,-0.101481214165688,-0.056521110236645,-0.085311457514763,0.097048491239548));
res += mul(Get(s3,dx,0), float4x4(-0.011785455048084,0.436059594154358,-0.074153006076813,0.080358721315861,-0.013751385733485,-0.028525820001960,0.040465947240591,-0.214062526822090,-0.216374725103378,0.070564292371273,0.073902413249016,0.151061892509460,-0.062035720795393,-0.046553213149309,-0.023566296324134,-0.024376012384892));
res += mul(Get(s3,dx,dy), float4x4(-0.008779264986515,0.386262625455856,0.014961192384362,0.038395214825869,-0.003058928763494,-0.019284579902887,-0.307403773069382,-0.040911417454481,-0.212998479604721,0.025142470374703,-0.039030119776726,0.031732488423586,-0.029691254720092,-0.024052390828729,0.036356803029776,-0.010320886038244));
return max(float4(0,0,0,0), res);
}
