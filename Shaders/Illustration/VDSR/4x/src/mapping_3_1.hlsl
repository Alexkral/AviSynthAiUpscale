sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.000503991555888,0.037745554000139,-0.071165136992931,-0.254358947277069,0.229315608739853,-0.087809294462204,-0.113960117101669,0.205739170312881,-0.032720085233450,-0.063652873039246,-0.083025552332401,-0.200795903801918,0.064870864152908,0.016048448160291,-0.208263024687767,-0.205143868923187));
res += mul(Get(s0,-dx,0), float4x4(0.005884764250368,-0.015145489014685,-0.181239351630211,-0.118840083479881,-0.099433161318302,-0.171472370624542,0.031007954850793,-0.065664984285831,-0.137097552418709,-0.071856819093227,-0.144148379564285,0.072457484900951,-0.124528661370277,0.179177865386009,-0.281692206859589,-0.209351599216461));
res += mul(Get(s0,-dx,dy), float4x4(-0.071557216346264,0.017566120252013,-0.121009021997452,0.065381072461605,-0.242439195513725,-0.303363353013992,-0.097378015518188,0.153833180665970,-0.357374578714371,-0.061423260718584,-0.015838617458940,0.082644611597061,-0.336451232433319,-0.250504970550537,-0.060946904122829,-0.209377348423004));
res += mul(Get(s0,0,-dy), float4x4(0.019076481461525,-0.023322226479650,-0.062823981046677,-0.037881974130869,0.509390234947205,-0.133287519216537,-0.082668319344521,-0.106469720602036,-0.108843624591827,-0.137864187359810,-0.145912572741508,0.175200641155243,-0.156313568353653,0.033772129565477,-0.222523882985115,-0.318442404270172));
res += mul(Get(s0,0,0), float4x4(0.054743506014347,-0.012138965539634,-0.094934262335300,-0.058670204132795,0.329041451215744,-0.240948572754860,-0.069107405841351,-0.024783620610833,-0.131030842661858,-0.146785452961922,-0.022383127361536,0.099655538797379,-0.170504823327065,0.061091277748346,-0.212795630097389,-0.242380797863007));
res += mul(Get(s0,0,dy), float4x4(0.040141489356756,-0.044840537011623,-0.054004598408937,-0.013567009940743,0.076392151415348,-0.098093412816525,-0.107943646609783,0.139375910162926,-0.283912748098373,-0.117750905454159,-0.036702480167150,-0.259504944086075,-0.265911966562271,-0.217840537428856,-0.016705522313714,-0.139766022562981));
res += mul(Get(s0,dx,-dy), float4x4(0.050466414541006,-0.039991263300180,-0.140830114483833,0.288433492183685,0.186088427901268,-0.069488555192947,-0.044136490672827,-0.237899199128151,-0.204003289341927,-0.136165961623192,-0.124959588050842,0.186013355851173,0.130204468965530,-0.083904325962067,0.093520067632198,-0.293112039566040));
res += mul(Get(s0,dx,0), float4x4(0.023760026320815,-0.056673619896173,-0.095319256186485,0.035555537790060,0.066101595759392,0.061880588531494,-0.052503548562527,0.043591227382421,-0.235486626625061,-0.138230711221695,-0.024808159098029,-0.271900951862335,0.020577769726515,0.015478511340916,-0.021274965256453,-0.190836235880852));
res += mul(Get(s0,dx,dy), float4x4(-0.028333380818367,-0.069040432572365,-0.131545901298523,-0.128465279936790,0.033693648874760,-0.095009595155716,-0.057230066508055,0.302515178918839,-0.511248409748077,0.066926598548889,-0.075533472001553,-0.186168685555458,-0.150238767266273,-0.121008448302746,0.081003934144974,-0.198217689990997));
res += mul(Get(s1,-dx,-dy), float4x4(0.074875988066196,-0.076733484864235,-0.027132200077176,-0.058732461184263,-0.001647514174692,-0.008152678608894,-0.086298450827599,0.125645339488983,-0.037941258400679,0.092054091393948,-0.357857912778854,-0.173309653997421,0.170786112546921,-0.057065263390541,-0.171918034553528,0.037641130387783));
res += mul(Get(s1,-dx,0), float4x4(0.116638831794262,0.044748157262802,-0.053121026605368,-0.037470255047083,-0.021274533122778,0.021506374701858,-0.017761003226042,-0.035080876201391,-0.003125876653939,-0.130119070410728,-0.141433030366898,-0.166030183434486,0.348093450069427,-0.006266667507589,-0.000642723869532,-0.038802657276392));
res += mul(Get(s1,-dx,dy), float4x4(0.057288747280836,0.212607175111771,-0.008923487737775,0.121200002729893,-0.022684514522552,-0.063231773674488,0.071992032229900,0.158513665199280,-0.104274079203606,-0.028232786804438,0.135174915194511,-0.160223901271820,0.213158741593361,0.031662411987782,-0.074077099561691,-0.277203500270844));
res += mul(Get(s1,0,-dy), float4x4(0.119505599141121,0.080506652593613,-0.083829268813133,-0.221322864294052,-0.107115782797337,0.022394552826881,-0.089607335627079,0.032200064510107,-0.041630264371634,-0.023513320833445,0.005172750446945,-0.217119187116623,-0.148325398564339,-0.007583284284920,0.041794862598181,0.001845284830779));
res += mul(Get(s1,0,0), float4x4(0.025206528604031,0.032776959240437,0.027481153607368,-0.179015189409256,-0.140380457043648,0.020703025162220,0.070355392992496,-0.064360737800598,-0.022117270156741,-0.055840276181698,0.238511085510254,-0.069288387894630,-0.086566492915154,-0.061129335314035,0.180791050195694,-0.052462525665760));
res += mul(Get(s1,0,dy), float4x4(-0.065128885209560,0.036954466253519,0.115262806415558,-0.081973299384117,-0.113140881061554,-0.056034859269857,0.267082929611206,0.043168514966965,-0.187956973910332,-0.007416555657983,0.161024272441864,0.048785854130983,-0.009627097286284,-0.201073870062828,-0.039130978286266,-0.102109655737877));
res += mul(Get(s1,dx,-dy), float4x4(-0.023091504350305,0.166659101843834,-0.121843159198761,-0.145287364721298,-0.145395949482918,-0.030269628390670,-0.059650648385286,0.082569986581802,-0.093808628618717,-0.030423022806644,0.143304333090782,-0.088894225656986,-0.253120571374893,0.327679783105850,-0.173469394445419,-0.370683580636978));
res += mul(Get(s1,dx,0), float4x4(-0.164801388978958,-0.140941351652145,0.032486554235220,-0.205588817596436,-0.175555437803268,-0.093606851994991,-0.013400971889496,-0.122660614550114,-0.143666148185730,-0.040588431060314,0.046749554574490,0.126039639115334,-0.342320561408997,0.107195235788822,-0.192891463637352,-0.201130300760269));
res += mul(Get(s1,dx,dy), float4x4(-0.202870607376099,-0.137028887867928,0.092317804694176,-0.048739656805992,-0.129612922668457,-0.045104097574949,-0.030454935505986,-0.054633095860481,-0.432819366455078,0.024129444733262,-0.155235871672630,-0.209981113672256,-0.296658962965012,-0.254839867353439,-0.005895217880607,-0.054192256182432));
res += mul(Get(s2,-dx,-dy), float4x4(-0.024801123887300,-0.108698710799217,-0.052114795893431,0.105041079223156,0.320021450519562,-0.048816904425621,-0.094679720699787,0.222362890839577,-0.024261312559247,-0.149771943688393,0.096008382737637,-0.163884848356247,0.008033515885472,0.033352557569742,0.070270299911499,-0.025010749697685));
res += mul(Get(s2,-dx,0), float4x4(-0.193922623991966,-0.047821603715420,-0.027791045606136,-0.094833217561245,0.071992374956608,-0.001579166972078,-0.014008481055498,-0.028160018846393,-0.057692471891642,-0.260726094245911,0.113904014229774,-0.023283652961254,-0.174834862351418,-0.018281567841768,-0.006247328594327,0.371466636657715));
res += mul(Get(s2,-dx,dy), float4x4(-0.204142227768898,-0.083886332809925,0.068157136440277,-0.148119270801544,0.012331627309322,-0.023636264726520,-0.057140048593283,0.013612752780318,-0.156628847122192,-0.221203565597534,0.312008261680603,0.093978792428970,-0.158133536577225,-0.098378345370293,-0.031643237918615,0.013894232921302));
res += mul(Get(s2,0,-dy), float4x4(-0.162733048200607,-0.021926820278168,0.023531163111329,0.085384279489517,0.352111279964447,-0.106052361428738,-0.031950507313013,-0.121318206191063,-0.010522240772843,-0.014674888923764,-0.030278559774160,-0.441319763660431,-0.087357409298420,0.082150228321552,-0.134422868490219,0.131193026900291));
res += mul(Get(s2,0,0), float4x4(-0.309030026197433,0.063394755125046,-0.002592236967757,0.135452702641487,0.004313615616411,-0.140202701091766,-0.011298197321594,-0.088572569191456,-0.051798921078444,0.007234565448016,-0.142820671200752,-0.067343257367611,-0.180688351392746,0.072321243584156,-0.088044457137585,-0.053438629955053));
res += mul(Get(s2,0,dy), float4x4(-0.425199836492538,-0.061988692730665,-0.115140385925770,0.055318605154753,0.112721614539623,0.104675523936749,-0.027963470667601,-0.100828237831593,-0.126266211271286,-0.108493901789188,0.016745803877711,0.176089569926262,-0.097164869308472,-0.035104252398014,-0.068384222686291,-0.053603194653988));
res += mul(Get(s2,dx,-dy), float4x4(-0.147022038698196,-0.011411973275244,-0.026367347687483,0.025083700194955,-0.129546925425529,0.238375142216682,-0.011845228262246,-0.207724094390869,0.004780570510775,-0.046513270586729,-0.066195666790009,-0.217016607522964,-0.265762269496918,-0.046616956591606,-0.193781688809395,-0.117297612130642));
res += mul(Get(s2,dx,0), float4x4(-0.363570421934128,0.032630115747452,-0.047275859862566,-0.171008110046387,-0.466232419013977,0.196499615907669,-0.026340382173657,-0.088156670331955,-0.043480131775141,-0.008870813995600,-0.278100669384003,0.217526659369469,-0.177102193236351,0.092087298631668,-0.081748649477959,-0.236758053302765));
res += mul(Get(s2,dx,dy), float4x4(-0.418301731348038,-0.018215268850327,-0.043050132691860,-0.038594301789999,-0.206012651324272,-0.093795172870159,-0.030512578785419,-0.115060873329639,-0.143362581729889,-0.136725112795830,-0.317440867424011,0.267922252416611,-0.097417540848255,0.184024944901466,-0.056058380752802,-0.259615391492844));
res += mul(Get(s3,-dx,-dy), float4x4(0.000433248758782,-0.100766278803349,0.092953987419605,-0.232595026493073,-0.113684512674809,0.307872086763382,-0.130047202110291,-0.075891539454460,-0.019263429567218,0.109168939292431,0.225566118955612,-0.034373637288809,-0.010568234138191,-0.001731163007207,-0.048842348158360,-0.130349412560463));
res += mul(Get(s3,-dx,0), float4x4(-0.020778559148312,-0.051629122346640,0.041550923138857,-0.030529081821442,0.142773821949959,-0.119250304996967,-0.188102871179581,0.022947350516915,-0.094549089670181,0.009363677352667,0.166419759392738,0.088954590260983,-0.025964325293899,-0.009988069534302,0.106675714254379,0.015965688973665));
res += mul(Get(s3,-dx,dy), float4x4(-0.028555624186993,-0.041347797960043,0.135187804698944,0.067567169666290,0.131133705377579,-0.209212303161621,-0.181181013584137,-0.047015983611345,-0.079391255974770,-0.089374639093876,0.110879682004452,0.116504453122616,-0.003815495176241,-0.017039880156517,0.013327552005649,0.001365020289086));
res += mul(Get(s3,0,-dy), float4x4(-0.085317865014076,-0.074557811021805,-0.066821850836277,-0.070712640881538,-0.279833018779755,0.379503339529037,-0.393063187599182,0.033489249646664,-0.071246623992920,-0.016875691711903,0.151942312717438,0.208436712622643,-0.014358039014041,-0.028748568147421,-0.207458719611168,0.063835717737675));
res += mul(Get(s3,0,0), float4x4(-0.106289967894554,-0.010548361577094,0.080613076686859,0.002317816484720,-0.153676360845566,-0.055846527218819,0.024939693510532,0.064124040305614,-0.115528002381325,-0.189856752753258,0.001135085825808,0.048255864530802,-0.047724489122629,0.010072111152112,-0.072804883122444,0.133397758007050));
res += mul(Get(s3,0,dy), float4x4(-0.161541670560837,-0.020475512370467,0.095761157572269,-0.073415443301201,-0.089152075350285,-0.264591664075851,0.215580850839615,-0.007464291527867,-0.053842794150114,-0.130491837859154,-0.061617642641068,0.186047196388245,-0.019334282726049,0.029683299362659,-0.103257387876511,0.101374074816704));
res += mul(Get(s3,dx,-dy), float4x4(-0.246520563960075,-0.109347008168697,0.059916879981756,0.191460087895393,-0.281433343887329,-0.152627676725388,-0.207385718822479,0.157202854752541,-0.036035645753145,-0.019411228597164,0.185883238911629,0.121226944029331,-0.046171486377716,-0.075836680829525,-0.034214802086353,0.101386167109013));
res += mul(Get(s3,dx,0), float4x4(-0.328861176967621,-0.031231779605150,-0.005172866862267,-0.089911043643951,-0.123996436595917,-0.024184660986066,0.033517364412546,-0.006306848954409,-0.133756682276726,-0.100682258605957,0.009417861700058,-0.137980505824089,-0.068774215877056,0.008872511796653,0.066532105207443,0.108019791543484));
res += mul(Get(s3,dx,dy), float4x4(-0.394395142793655,-0.064632117748260,-0.034212965518236,-0.099110677838326,-0.114010319113731,0.011064188554883,0.236616536974907,-0.199481502175331,-0.123885683715343,0.048709038645029,0.085035040974617,0.113411724567413,-0.059044811874628,0.010160576552153,-0.027516607195139,0.134297460317612));
return max(float4(0,0,0,0), res);
}
