sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.022226588800550,-0.096252024173737,-0.139105036854744,-0.030866200104356,0.005647104699165,0.106687165796757,-0.110070288181305,0.095502384006977,0.023412561044097,0.053024031221867,-0.060983631759882,0.074836604297161,0.061717361211777,-0.154482990503311,0.200610846281052,-0.209870263934135));
res += mul(Get(s0,-dx,0), float4x4(0.070676319301128,-0.026848381385207,0.212665647268295,0.272338241338730,-0.073174707591534,-0.028150307014585,0.086156681180000,-0.034023456275463,0.187284529209137,0.158704668283463,-0.000644289131742,-0.194681644439697,0.074008494615555,-0.059636306017637,-0.065418213605881,-0.134417220950127));
res += mul(Get(s0,-dx,dy), float4x4(-0.004273717291653,0.083066686987877,0.009480800479650,0.023723585531116,0.001151588046923,0.064120978116989,0.042899392545223,0.085071004927158,0.106953799724579,-0.023780090734363,0.030761606991291,0.004619974642992,-0.074005320668221,-0.013099520467222,-0.091156594455242,0.051796909421682));
res += mul(Get(s0,0,-dy), float4x4(-0.103564739227295,0.104611158370972,-0.134390026330948,-0.085734471678734,0.021682411432266,-0.171722367405891,-0.046136353164911,-0.153667658567429,0.110069677233696,0.085817523300648,-0.058198954910040,-0.016169577836990,-0.114468209445477,-0.023494621738791,0.342088192701340,-0.086339809000492));
res += mul(Get(s0,0,0), float4x4(0.134301096200943,0.174302145838737,0.166323974728584,-0.013485119678080,-0.008644658140838,-0.019978264346719,0.036044765263796,-0.042693190276623,0.284149646759033,-0.118646115064621,-0.220201432704926,-0.048783160746098,-0.078580200672150,-0.029117239639163,-0.044575981795788,0.042367525398731));
res += mul(Get(s0,0,dy), float4x4(-0.021562710404396,-0.014693337492645,-0.219279602169991,0.007993008010089,-0.035635747015476,0.060919001698494,0.167997613549232,0.005267186090350,-0.151874780654907,0.084135644137859,0.072525754570961,-0.138293325901031,0.077014148235321,-0.061051484197378,-0.095855891704559,0.054124038666487));
res += mul(Get(s0,dx,-dy), float4x4(-0.055079638957977,-0.154801473021507,0.135089546442032,-0.136332541704178,0.044170536100864,0.049940090626478,-0.038255035877228,-0.005906014237553,0.065093718469143,0.214714765548706,-0.052770741283894,0.102104283869267,-0.201867625117302,0.097938641905785,0.072439178824425,-0.046196237206459));
res += mul(Get(s0,dx,0), float4x4(0.134484604001045,-0.127138212323189,0.064602822065353,-0.222938612103462,0.049286890774965,-0.120795547962189,0.043062802404165,-0.025172380730510,0.172535017132759,0.011196252889931,0.211665838956833,-0.178949654102325,-0.083193078637123,0.059400826692581,-0.068949609994888,-0.046735242009163));
res += mul(Get(s0,dx,dy), float4x4(0.226133286952972,0.139611706137657,-0.007927320897579,0.107223287224770,0.048381827771664,-0.188650846481323,-0.154232561588287,0.128879159688950,-0.047201685607433,-0.060746196657419,-0.216733828186989,-0.266563683748245,-0.103294640779495,-0.056074142456055,-0.006579940672964,0.077169880270958));
res += mul(Get(s1,-dx,-dy), float4x4(0.073162965476513,0.007937745191157,0.032391734421253,0.008142665959895,-0.050877936184406,0.069254830479622,-0.128213003277779,-0.006604607682675,0.178408488631248,0.266376376152039,0.025378491729498,-0.002009276533499,-0.217327222228050,0.056876003742218,-0.005396816413850,-0.068030007183552));
res += mul(Get(s1,-dx,0), float4x4(0.023000713437796,0.103681296110153,0.031367313116789,0.009540664963424,0.057858325541019,-0.048822395503521,0.077031791210175,0.060085333883762,0.169811025261879,-0.209034442901611,-0.043397150933743,-0.081949844956398,0.080345705151558,0.412112951278687,-0.000938678509556,-0.026025593280792));
res += mul(Get(s1,-dx,dy), float4x4(0.226117670536041,0.098047897219658,-0.084471590816975,-0.205874457955360,0.217281848192215,-0.022900070995092,-0.032988663762808,-0.043489105999470,0.125463679432869,0.025804629549384,0.097374342381954,-0.044884655624628,-0.208963379263878,-0.023623783141375,-0.099861577153206,0.233159124851227));
res += mul(Get(s1,0,-dy), float4x4(0.118223212659359,-0.028160832822323,0.084426298737526,-0.042287904769182,-0.056506276130676,0.071069337427616,0.033859614282846,0.018303347751498,0.107068285346031,0.255351543426514,-0.086761437356472,0.044998906552792,-0.008938652463257,-0.003745762165636,0.006089199800044,-0.061924241483212));
res += mul(Get(s1,0,0), float4x4(-0.125128865242004,0.052508883178234,-0.013096578419209,-0.063117057085037,0.089210487902164,0.054173838347197,-0.039503816515207,0.076358817517757,-0.014321716502309,-0.079900652170181,-0.020321112126112,0.208136260509491,0.091883376240730,0.130162462592125,0.160782113671303,-0.010431843809783));
res += mul(Get(s1,0,dy), float4x4(0.060100968927145,0.184595078229904,-0.044341579079628,-0.060536608099937,-0.089560352265835,0.018134510144591,0.096871405839920,-0.068884782493114,0.039169363677502,-0.032972674816847,0.160245463252068,-0.211736321449280,0.010871641337872,0.030350070446730,0.068526960909367,0.087123073637486));
res += mul(Get(s1,dx,-dy), float4x4(0.029241068288684,0.131251215934753,0.087181635200977,-0.219055265188217,0.130366966128349,0.099665760993958,0.356235444545746,-0.009686729870737,-0.045575484633446,0.185512959957123,-0.188496336340904,-0.100118122994900,0.190461650490761,-0.167768687009811,0.177350923418999,0.123701103031635));
res += mul(Get(s1,dx,0), float4x4(0.004606884438545,0.007464722730219,0.138811007142067,0.126341789960861,-0.110022716224194,-0.077999785542488,-0.106723591685295,-0.006903835572302,-0.067058943212032,-0.093738116323948,-0.022970374673605,0.025536971166730,-0.111429780721664,-0.211971104145050,0.074905075132847,0.024302737787366));
res += mul(Get(s1,dx,dy), float4x4(-0.116673395037651,-0.089099235832691,0.104885816574097,-0.066240668296814,-0.102822244167328,0.039057020097971,-0.065511271357536,-0.123491220176220,-0.054630484431982,-0.005650632549077,0.018902689218521,-0.178305909037590,-0.064634419977665,-0.003574334783480,-0.171600922942162,-0.046754140406847));
res += mul(Get(s2,-dx,-dy), float4x4(-0.226419553160667,0.250024884939194,-0.057962741702795,0.146951347589493,0.108285084366798,0.255122929811478,-0.175798475742340,-0.220062077045441,-0.298466384410858,-0.181679606437683,-0.102377168834209,-0.034244865179062,-0.201890587806702,-0.060911208391190,0.040604688227177,0.135178074240685));
res += mul(Get(s2,-dx,0), float4x4(-0.064101256430149,0.127748474478722,0.073265984654427,0.060823310166597,0.105732657015324,0.083012670278549,-0.324598997831345,-0.149282932281494,0.114177152514458,0.106722429394722,-0.137187197804451,0.172221854329109,0.043074958026409,0.021529207006097,-0.122979961335659,0.002867696341127));
res += mul(Get(s2,-dx,dy), float4x4(0.201401144266129,-0.035090025514364,-0.099160477519035,-0.105917066335678,0.095567382872105,-0.218675076961517,-0.017544295638800,-0.000452602660516,-0.098131373524666,-0.043792281299829,-0.056525971740484,-0.066877335309982,0.156241789460182,-0.247072532773018,-0.128838628530502,0.031510733067989));
res += mul(Get(s2,0,-dy), float4x4(-0.074761919677258,-0.016394758597016,0.086466163396835,0.014167792163789,0.097309559583664,-0.222125664353371,-0.009494992904365,-0.017258072271943,0.094598136842251,-0.116446971893311,-0.317642837762833,-0.196064725518227,-0.080841384828091,0.240092545747757,0.087027221918106,0.196460455656052));
res += mul(Get(s2,0,0), float4x4(-0.097619242966175,-0.013289725407958,-0.195650577545166,0.120580688118935,-0.063605926930904,-0.256497293710709,-0.076840683817863,-0.094001553952694,0.132821038365364,0.068276427686214,-0.022451357915998,0.117411233484745,-0.035762958228588,0.043084546923637,0.135158106684685,0.067712299525738));
res += mul(Get(s2,0,dy), float4x4(0.045928735285997,0.059404529631138,0.250864535570145,0.093213178217411,0.124526709318161,0.039744995534420,0.031700946390629,0.100977845489979,0.151224926114082,0.060936868190765,-0.009094765409827,0.019275682047009,-0.009583538398147,0.141841351985931,0.092788927257061,0.350152105093002));
res += mul(Get(s2,dx,-dy), float4x4(-0.117854960262775,-0.303847730159760,-0.098569720983505,0.099416822195053,0.000036808254663,-0.053712122142315,0.163681924343109,0.071581095457077,-0.081887058913708,0.124393671751022,-0.200520187616348,-0.083261221647263,0.059796016663313,0.227688029408455,0.231466040015221,-0.006126166321337));
res += mul(Get(s2,dx,0), float4x4(0.101296298205853,0.102673970162868,-0.027990026399493,0.025466993451118,-0.036809429526329,-0.044785391539335,0.010664855130017,-0.031458158046007,-0.032856166362762,-0.075246073305607,0.099923856556416,-0.286016523838043,0.124607369303703,0.093253418803215,-0.004457942210138,-0.072111278772354));
res += mul(Get(s2,dx,dy), float4x4(0.113192923367023,-0.021329449489713,0.096958890557289,0.025456294417381,-0.207044839859009,0.201980546116829,-0.020600631833076,-0.255665063858032,0.002723989076912,0.082621239125729,0.100351870059967,-0.168826490640640,0.072966001927853,-0.034164253622293,-0.036044951528311,-0.181631445884705));
res += mul(Get(s3,-dx,-dy), float4x4(0.100320830941200,0.013333548791707,0.142627701163292,-0.210533782839775,-0.191194787621498,0.084541119635105,-0.074153527617455,-0.040346194058657,-0.146189421415329,0.108007997274399,0.040188141167164,-0.055714115500450,-0.100487038493156,0.109971560537815,0.093646332621574,-0.069743186235428));
res += mul(Get(s3,-dx,0), float4x4(0.093139640986919,-0.105423256754875,0.025462975725532,0.012871126644313,-0.093862749636173,0.059824056923389,0.133405938744545,0.076001152396202,-0.071022592484951,-0.000551578064915,0.104333251714706,-0.058626405894756,-0.024078683927655,0.050369091331959,0.221180140972137,-0.112059548497200));
res += mul(Get(s3,-dx,dy), float4x4(-0.050752032548189,0.093076445162296,-0.042057137936354,-0.170482665300369,-0.140279710292816,0.041205141693354,0.090483106672764,-0.039198290556669,-0.222130388021469,-0.169624119997025,-0.074554480612278,-0.152784660458565,-0.100011989474297,-0.065447829663754,-0.044673725962639,0.098307646811008));
res += mul(Get(s3,0,-dy), float4x4(0.070640265941620,0.043945480138063,0.198867335915565,-0.117393165826797,0.086497232317924,0.226409003138542,0.112007662653923,0.099868685007095,-0.088471151888371,0.101764813065529,0.020801188424230,-0.136137217283249,0.036532975733280,-0.011946180835366,-0.012160680256784,-0.045755412429571));
res += mul(Get(s3,0,0), float4x4(0.085925370454788,0.097457088530064,-0.066806085407734,-0.015455169603229,-0.033622100949287,0.071900554001331,-0.025222467258573,-0.070894449949265,-0.063700780272484,0.009242403320968,-0.111088581383228,0.217779725790024,0.178226321935654,0.033496357500553,0.088575586676598,-0.020463533699512));
res += mul(Get(s3,0,dy), float4x4(-0.095650091767311,0.153612494468689,0.047123562544584,-0.083050027489662,0.085643336176872,-0.107733011245728,-0.005270916037261,-0.048636812716722,-0.261627823114395,0.083270229399204,-0.061102461069822,-0.030870232731104,-0.022828891873360,-0.042839389294386,-0.011445092968643,-0.012855030596256));
res += mul(Get(s3,dx,-dy), float4x4(0.019668044522405,-0.079605542123318,-0.029790643602610,-0.154045403003693,0.320695489645004,-0.164969772100449,0.007196504157037,0.002976146526635,-0.009186645038426,-0.261168301105499,-0.195901438593864,-0.096153497695923,0.195274099707603,-0.002600805135444,-0.100508093833923,-0.010879767127335));
res += mul(Get(s3,dx,0), float4x4(0.011774497106671,-0.053771026432514,-0.171505600214005,-0.036222338676453,-0.126669839024544,0.126984283328056,-0.048544082790613,0.099859781563282,0.204411193728447,-0.306534349918365,-0.378144711256027,0.049221355468035,-0.100216835737228,-0.043386586010456,0.077025063335896,-0.098187409341335));
res += mul(Get(s3,dx,dy), float4x4(-0.062673859298229,0.114498764276505,-0.000354602612788,0.130867525935173,0.058378968387842,-0.079039290547371,-0.131081655621529,0.019541501998901,0.038791131228209,0.098149508237839,-0.244813159108162,-0.025289386510849,0.067516900599003,-0.031148934736848,0.179070010781288,0.094158887863159));
return max(float4(0,0,0,0), res);
}
