sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.280049055814743,-0.033541679382324,-0.483213782310486,-0.124737896025181,-0.127991169691086,0.023876514285803,-0.227078065276146,-0.324330151081085,-0.125304013490677,0.035268090665340,-0.030756069347262,-0.023269563913345,-0.013153504580259,-0.160468921065331,-0.298959523439407,-0.145965754985809));
res += mul(Get(s0,-dx,0), float4x4(-0.182417646050453,0.036431532353163,-0.104198783636093,-0.130735442042351,-0.084822259843349,-0.060834854841232,0.112224884331226,0.292231202125549,-0.134393066167831,-0.063961021602154,-0.216408565640450,0.160061374306679,-0.092915683984756,-0.117622390389442,-0.318243891000748,0.111654981970787));
res += mul(Get(s0,-dx,dy), float4x4(-0.117642760276794,0.186415880918503,0.207103997468948,-0.076299905776978,0.211788624525070,-0.045682966709137,-0.310292303562164,0.190104335546494,-0.071868941187859,-0.145959764719009,-0.102767832577229,0.396575629711151,-0.083619274199009,-0.216878995299339,-0.160941734910011,0.289244145154953));
res += mul(Get(s0,0,-dy), float4x4(-0.103114329278469,0.064722903072834,-0.407621979713440,-0.206716388463974,-0.052480969578028,-0.000059113790485,0.103760801255703,-0.580421984195709,0.012429880909622,0.116018123924732,0.124643310904503,-0.018934777006507,0.100605696439743,0.017415357753634,0.032406568527222,-0.022094175219536));
res += mul(Get(s0,0,0), float4x4(0.031434066593647,0.150962412357330,-0.098417289555073,-0.071717455983162,-0.031935889273882,-0.117810837924480,0.123644866049290,0.080464780330658,-0.084146492183208,0.096226952970028,0.011060860008001,0.033221237361431,-0.013160407543182,0.024265289306641,-0.004583610687405,-0.110556975007057));
res += mul(Get(s0,0,dy), float4x4(-0.011574978008866,0.217689529061317,0.373705595731735,0.125474810600281,-0.046513251960278,-0.109427437186241,-0.180340379476547,0.138539180159569,-0.229860305786133,-0.006495564710349,0.008804243057966,0.119016893208027,-0.086100712418556,0.043424893170595,-0.092251472175121,-0.028643364086747));
res += mul(Get(s0,dx,-dy), float4x4(-0.303434103727341,-0.212458878755569,-0.594395697116852,-0.118108265101910,-0.055114325135946,-0.116773530840874,0.077264323830605,-0.739971041679382,0.074942156672478,-0.012999796308577,0.130874231457710,-0.252350896596909,0.124892570078373,-0.015580547042191,0.005945224780589,-0.106376402080059));
res += mul(Get(s0,dx,0), float4x4(0.155087143182755,-0.327040821313858,-0.311407357454300,-0.106144756078720,-0.073954835534096,-0.162508562207222,-0.193445622920990,-0.188298508524895,-0.001821507466957,-0.084083229303360,-0.055007252842188,-0.292149633169174,0.005542878992856,-0.063416808843613,-0.144626379013062,-0.125005379319191));
res += mul(Get(s0,dx,dy), float4x4(0.126714035868645,-0.313878118991852,0.129975944757462,-0.111031793057919,-0.113134875893593,-0.157533526420593,-0.237649366259575,0.070200368762016,-0.214678421616554,0.091079816222191,-0.174605980515480,-0.296315819025040,0.097086809575558,-0.085713133215904,-0.136247441172600,-0.019864903762937));
res += mul(Get(s1,-dx,-dy), float4x4(-0.005142933689058,0.085181973874569,-0.122904948890209,0.310878872871399,-0.048084270209074,0.049304660409689,-0.032777585089207,0.010438588447869,-0.083804644644260,-0.025446336716413,0.070138901472092,-0.259171247482300,0.063648752868176,-0.088997416198254,-0.114072397351265,-0.168454483151436));
res += mul(Get(s1,-dx,0), float4x4(-0.246339619159698,0.134564682841301,-0.018426928669214,0.032807707786560,-0.024500317871571,0.061165232211351,0.016787800937891,0.036765672266483,-0.250445365905762,0.068861700594425,-0.227569147944450,-0.078764766454697,0.155816286802292,-0.151485845446587,0.067400239408016,-0.066950313746929));
res += mul(Get(s1,-dx,dy), float4x4(0.090942844748497,0.065714500844479,-0.086904481053352,-0.112650074064732,0.010832912288606,0.089139752089977,-0.001075630309060,0.101007819175720,-0.118545547127724,0.063573934137821,0.007217157632113,0.453642308712006,0.348022103309631,-0.116026274859905,-0.069514989852905,-0.409919828176498));
res += mul(Get(s1,0,-dy), float4x4(0.020309081301093,0.049561277031898,-0.157484367489815,0.259395778179169,-0.044576101005077,-0.040911622345448,-0.041599556803703,-0.066347964107990,0.089095883071423,0.089889273047447,-0.089262157678604,-0.350173592567444,-0.007710503879935,0.069248706102371,0.032940912991762,0.127995088696480));
res += mul(Get(s1,0,0), float4x4(-0.227425739169121,0.088046871125698,-0.010346095077693,0.056531716138124,-0.063570238649845,-0.024858755990863,-0.001718216342852,-0.069705069065094,-0.057336971163750,0.020265121012926,-0.141807779669762,-0.078334979712963,-0.346731603145599,0.026814473792911,0.222653612494469,0.217197656631470));
res += mul(Get(s1,0,dy), float4x4(0.013176457025111,0.138015180826187,-0.055049337446690,0.030743254348636,-0.057332806289196,-0.024135049432516,-0.066752813756466,-0.013861071318388,-0.129308447241783,0.012930444441736,0.187140032649040,0.168905228376389,-0.048192355781794,0.078624136745930,0.076445050537586,-0.060842320322990));
res += mul(Get(s1,dx,-dy), float4x4(0.153788551688194,-0.169592231512070,-0.019510643556714,0.142856523394585,0.092080995440483,0.014105618000031,-0.011450303718448,-0.124420166015625,0.182521492242813,0.105649143457413,0.138323217630386,-0.370850533246994,0.205226600170135,-0.218837842345238,-0.007428861223161,0.043795302510262));
res += mul(Get(s1,dx,0), float4x4(0.069822967052460,-0.137938424944878,0.037018086761236,-0.004554093815386,0.025937534868717,0.006752627901733,-0.071495607495308,-0.125642240047455,0.178967878222466,-0.259953826665878,0.160084322094917,-0.247712045907974,0.081223942339420,-0.170957356691360,0.005842627491802,-0.050030607730150));
res += mul(Get(s1,dx,dy), float4x4(0.055534280836582,-0.071103081107140,-0.051973085850477,-0.124819129705429,0.031364869326353,-0.003315894864500,-0.104084670543671,-0.035407781600952,-0.354778558015823,-0.332876175642014,-0.147317066788673,-0.251230806112289,-0.245315939188004,-0.141587406396866,-0.132812842726707,-0.022322358563542));
res += mul(Get(s2,-dx,-dy), float4x4(-0.198355451226234,0.120899833738804,-0.137062296271324,-0.045672651380301,-0.263723343610764,-0.089859716594219,-0.253350794315338,0.338218361139297,-0.070843003690243,0.158333525061607,0.018049124628305,-0.042580902576447,-0.053095292299986,0.115567900240421,-0.071947567164898,-0.078121237456799));
res += mul(Get(s2,-dx,0), float4x4(-0.220265820622444,0.070645309984684,-0.070670157670975,0.010297880508006,-0.068565249443054,-0.152399525046349,-0.426363110542297,0.157024547457695,-0.058247473090887,0.029344303533435,-0.039360176771879,-0.019513914361596,-0.131878659129143,0.037090744823217,-0.032680034637451,-0.103009782731533));
res += mul(Get(s2,-dx,dy), float4x4(0.451566189527512,0.107664898037910,-0.137715578079224,-0.058723799884319,0.586349129676819,-0.023360339924693,-0.550623178482056,-0.103679478168488,-0.256222367286682,0.119197651743889,0.039084441959858,-0.127212271094322,-0.077542684972286,0.091760292649269,0.105286456644535,-0.073388449847698));
res += mul(Get(s2,0,-dy), float4x4(-0.269866079092026,-0.012867888435721,-0.312805235385895,-0.232198521494865,-0.175060302019119,-0.152243703603745,-0.110501214861870,-0.222490742802620,-0.125448167324066,0.105456225574017,-0.047874473035336,-0.185622915625572,0.058797888457775,0.029607523232698,0.025522384792566,-0.047409363090992));
res += mul(Get(s2,0,0), float4x4(-0.354697912931442,-0.118073835968971,-0.209413141012192,0.138069078326225,-0.100940905511379,-0.041916117072105,-0.307574808597565,0.000622921565082,0.032971180975437,-0.013706486672163,-0.065762236714363,-0.088332697749138,0.118035435676575,0.053402815014124,0.067001208662987,0.027203558012843));
res += mul(Get(s2,0,dy), float4x4(-0.021229717880487,-0.163790613412857,-0.164928823709488,0.115264788269997,0.167421281337738,0.010758808813989,0.164569810032845,0.061369758099318,-0.046820856630802,0.050907041877508,0.082822501659393,-0.089471012353897,-0.055512629449368,-0.000857372942846,0.003031345549971,0.235135018825531));
res += mul(Get(s2,dx,-dy), float4x4(-0.483546078205109,-0.192980721592903,-0.264240294694901,-0.477763682603836,0.030434247106314,-0.197267413139343,-0.089409552514553,-0.345482677221298,-0.066454045474529,0.038176681846380,0.010723572224379,-0.077890165150166,-0.212334677577019,0.118127129971981,-0.006982634775341,-0.235387280583382));
res += mul(Get(s2,dx,0), float4x4(-0.457965672016144,-0.268185108900070,-0.178817808628082,0.148691520094872,-0.142067357897758,-0.162053659558296,-0.318934470415115,0.082915209233761,0.075826704502106,-0.021874364465475,-0.002866032300517,-0.095163255929947,0.164285987615585,0.053809065371752,-0.043143745511770,-0.207996442914009));
res += mul(Get(s2,dx,dy), float4x4(-0.331308275461197,-0.315006375312805,-0.043175052851439,0.236606478691101,-0.160451382398605,-0.211570292711258,0.721700608730316,0.056916147470474,0.199607178568840,0.002585054608062,-0.102938950061798,-0.061522480100393,0.188960030674934,0.061793517321348,-0.376375675201416,-0.108325339853764));
res += mul(Get(s3,-dx,-dy), float4x4(0.024622475728393,0.002486367477104,-0.003633541055024,0.034301273524761,0.328115731477737,-0.002177069662139,0.002005993155763,0.042997229844332,-0.137077346444130,0.054519757628441,-0.058772392570972,-0.136349439620972,0.047612197697163,0.095119267702103,-0.110597394406796,0.033447440713644));
res += mul(Get(s3,-dx,0), float4x4(0.015118024311960,0.020364625379443,0.009036499075592,-0.025386316701770,-0.125509157776833,0.216513052582741,0.106145180761814,0.188105836510658,-0.228665158152580,-0.022964924573898,0.084179259836674,-0.280617594718933,-0.074164226651192,0.082471773028374,0.092006459832191,0.307323157787323));
res += mul(Get(s3,-dx,dy), float4x4(0.027615407481790,0.005405825097114,-0.007896466180682,-0.014791524969041,-0.136881351470947,0.179662480950356,-0.153322622179985,-0.023097613826394,0.007071207277477,-0.006970629561692,-0.023921098560095,-0.127461627125740,0.037942808121443,0.014571161009371,-0.034248836338520,0.104048162698746));
res += mul(Get(s3,0,-dy), float4x4(0.038682624697685,-0.003038516500965,0.016695940867066,0.057734534144402,-0.104724764823914,-0.154532521963120,0.167228683829308,-0.311327338218689,0.133965030312538,0.108362689614296,0.083586320281029,-0.016901662573218,0.107122845947742,0.064896896481514,-0.054888091981411,-0.065642900764942));
res += mul(Get(s3,0,0), float4x4(-0.001718907384202,0.012321794405580,-0.003608682425693,0.018938068300486,0.028558833524585,-0.009854421019554,0.026146307587624,-0.227050095796585,0.080378405749798,-0.089231267571449,0.123194538056850,-0.088774271309376,-0.102184996008873,0.039959564805031,-0.062445461750031,0.060285337269306));
res += mul(Get(s3,0,dy), float4x4(0.009627261199057,0.009438258595765,-0.003352039959282,0.014420923776925,0.005689550191164,0.052973315119743,-0.098248779773712,-0.194820523262024,0.136720657348633,-0.123001843690872,-0.007135455496609,0.018589181825519,-0.073473468422890,0.026224656030536,-0.050140667706728,0.081524334847927));
res += mul(Get(s3,dx,-dy), float4x4(0.027644079178572,-0.004030343145132,0.027846001088619,-0.003095247317106,-0.200664818286896,-0.081220939755440,-0.040360216051340,-0.089798726141453,0.039716407656670,0.047778282314539,-0.049021601676941,-0.032715201377869,-0.013040824793279,-0.047398492693901,-0.116683289408684,-0.121751345694065));
res += mul(Get(s3,dx,0), float4x4(0.014055957086384,0.000457523012301,0.040754247456789,-0.035488262772560,0.053982309997082,-0.035609655082226,-0.262454211711884,0.028814923018217,-0.046192031353712,-0.095672853291035,-0.058184128254652,-0.095901168882847,-0.216885030269623,-0.123260177671909,-0.168435633182526,-0.126448467373848));
res += mul(Get(s3,dx,dy), float4x4(0.001374176936224,-0.005273835267872,0.019698124378920,-0.031786035746336,0.141188412904739,0.096373438835144,-0.338709503412247,0.033958990126848,-0.126432716846466,-0.135945260524750,-0.044208794832230,-0.047047395259142,-0.120647959411144,-0.015593631193042,-0.080578729510307,0.055814642459154));
return max(float4(0,0,0,0), res);
}
