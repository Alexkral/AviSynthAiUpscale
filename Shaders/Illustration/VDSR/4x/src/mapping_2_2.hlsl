sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.161621779203415,0.072453431785107,0.134568408131599,-0.073612488806248,0.026238488033414,-0.021814649924636,0.013189988210797,0.064512215554714,-0.010957963764668,-0.059214774519205,-0.242663040757179,-0.117159247398376,0.067394934594631,0.115184471011162,-0.288031131029129,0.068732514977455));
res += mul(Get(s0,-dx,0), float4x4(-0.009189928881824,-0.253024429082870,0.321218937635422,0.190690308809280,-0.031109072268009,0.073284782469273,-0.162846907973289,0.067781902849674,0.052057471126318,-0.061574231833220,0.053019326180220,0.104413844645023,-0.057345282286406,-0.004144256468862,-0.047819197177887,0.036868974566460));
res += mul(Get(s0,-dx,dy), float4x4(-0.127301320433617,-0.001941136200912,-0.099687673151493,-0.014550775289536,-0.061137475073338,-0.018770199269056,-0.024563217535615,-0.047636453062296,0.051747348159552,0.008451935835183,-0.146509721875191,-0.124736919999123,-0.095058239996433,-0.060617435723543,-0.007908355444670,-0.078191600739956));
res += mul(Get(s0,0,-dy), float4x4(0.114978536963463,0.125323429703712,-0.058656714856625,-0.018572023138404,-0.069397717714310,0.189319446682930,-0.246123850345612,0.046622805297375,0.064093664288521,0.126151576638222,0.006777247413993,0.014773034490645,0.128273442387581,0.199278995394707,0.056116998195648,0.068782143294811));
res += mul(Get(s0,0,0), float4x4(0.224106207489967,0.127864047884941,0.013013844378293,-0.020095566287637,0.154226928949356,-0.218964695930481,0.203801602125168,-0.234212815761566,-0.090984046459198,0.210354924201965,-0.052612952888012,-0.161664903163910,0.065886244177818,-0.039108742028475,-0.086043164134026,-0.057098761200905));
res += mul(Get(s0,0,dy), float4x4(0.052460759878159,0.034053370356560,-0.053759369999170,0.058364473283291,-0.289824962615967,-0.033853560686111,-0.074068009853363,-0.075919561088085,0.114168256521225,0.083825707435608,0.123964630067348,0.017078462988138,0.135131403803825,-0.289581060409546,-0.043442834168673,-0.097996972501278));
res += mul(Get(s0,dx,-dy), float4x4(-0.216966763138771,-0.158364549279213,-0.074839591979980,-0.029719110578299,0.097201034426689,-0.000117976327601,-0.024930926039815,0.070035517215729,0.136971980333328,0.263754993677139,0.001967765158042,-0.094363719224930,-0.250759810209274,-0.076104670763016,-0.077877908945084,-0.194869905710220));
res += mul(Get(s0,dx,0), float4x4(0.091572947800159,0.023651272058487,-0.048640020191669,0.098930239677429,-0.086909532546997,0.014521242119372,-0.090783752501011,0.350727319717407,0.065936043858528,0.058983709663153,-0.065578080713749,0.141427084803581,0.030102150514722,-0.204510733485222,-0.018319563940167,-0.035194240510464));
res += mul(Get(s0,dx,dy), float4x4(0.178775027394295,0.044187344610691,-0.258814305067062,0.091674365103245,-0.019721595570445,0.133767619729042,0.212967082858086,0.085368491709232,0.118653558194637,-0.327663868665695,0.036638595163822,-0.042526066303253,-0.087753109633923,-0.033576965332031,0.001923121162690,0.068253263831139));
res += mul(Get(s1,-dx,-dy), float4x4(-0.073836006224155,-0.042663674801588,-0.078267954289913,-0.063175663352013,-0.032578788697720,-0.083450958132744,-0.032879017293453,-0.060430616140366,0.014428295195103,-0.067195951938629,0.091357275843620,0.105720080435276,-0.021888032555580,0.191463515162468,-0.059295173734426,0.042824435979128));
res += mul(Get(s1,-dx,0), float4x4(0.093329980969429,-0.034031610935926,0.006816035136580,0.111361004412174,-0.089650221168995,0.150458291172981,-0.111434906721115,0.235162720084190,-0.200314804911613,-0.001268378342502,0.012142019346356,-0.196321427822113,-0.055713273584843,-0.100220553576946,0.172755315899849,0.158911705017090));
res += mul(Get(s1,-dx,dy), float4x4(0.252645850181580,0.098096132278442,-0.023686056956649,0.021338455379009,0.071857951581478,0.139988392591476,-0.079991295933723,-0.120791412889957,0.122551999986172,-0.190234452486038,0.043456062674522,-0.140019670128822,0.120338112115860,-0.049569934606552,-0.119307301938534,0.031889192759991));
res += mul(Get(s1,0,-dy), float4x4(0.064455747604370,0.147243693470955,-0.209238529205322,0.005451355595142,-0.053255777806044,-0.198349818587303,0.045957159250975,-0.037609662860632,0.018510114401579,0.054564375430346,-0.095639698207378,0.057836458086967,-0.077476829290390,-0.185646235942841,-0.102868214249611,0.012697956524789));
res += mul(Get(s1,0,0), float4x4(0.046455450356007,0.181952655315399,0.127210006117821,0.052201334387064,-0.061315115541220,-0.126355990767479,-0.017813565209508,-0.041306793689728,-0.041620705276728,-0.123045012354851,0.107112519443035,0.343953818082809,-0.181225374341011,-0.075888559222221,-0.136928737163544,0.099678143858910));
res += mul(Get(s1,0,dy), float4x4(0.097545459866524,-0.077882334589958,-0.053577627986670,0.005674601998180,-0.150242671370506,-0.082787059247494,0.125239893794060,0.217741027474403,0.105374492704868,0.062440782785416,-0.281593203544617,-0.045041114091873,0.058250926434994,0.012728028930724,0.076192140579224,-0.019975874572992));
res += mul(Get(s1,dx,-dy), float4x4(-0.005415045190603,-0.007645872421563,-0.152897894382477,0.179639652371407,-0.181513220071793,-0.006575692445040,0.093818411231041,-0.038586564362049,0.176332160830498,-0.046494401991367,-0.008053262718022,0.108147159218788,-0.127984210848808,-0.061706475913525,-0.106770835816860,-0.142064616084099));
res += mul(Get(s1,dx,0), float4x4(0.044444181025028,-0.228451773524284,0.170054614543915,0.099316723644733,-0.069653421640396,-0.068467102944851,-0.075169853866100,0.001917517627589,-0.120515577495098,0.106890857219696,0.026784399524331,-0.038722440600395,-0.035145655274391,-0.184944257140160,-0.150029286742210,0.009572006762028));
res += mul(Get(s1,dx,dy), float4x4(0.164901480078697,-0.196306154131889,0.153060302138329,0.002167490543798,0.228801906108856,-0.056271754205227,-0.074677675962448,0.048836722970009,0.125029742717743,0.106093548238277,-0.069874763488770,0.026802189648151,0.223289310932159,-0.021897515282035,0.080810427665710,-0.004336821846664));
res += mul(Get(s2,-dx,-dy), float4x4(0.000417969014961,0.085076741874218,-0.180654287338257,0.071242116391659,-0.089851841330528,0.032977692782879,0.011779072694480,0.120899625122547,0.083078674972057,0.089263722300529,0.319103837013245,0.055912673473358,0.028127687051892,0.310079753398895,-0.067625761032104,0.004750145599246));
res += mul(Get(s2,-dx,0), float4x4(-0.028426563367248,0.038102898746729,0.035620104521513,-0.073904700577259,0.012714396230876,-0.075100548565388,-0.082044608891010,0.052132617682219,0.119357988238335,0.142951756715775,-0.123445026576519,0.086130037903786,0.015180855058134,0.098579578101635,-0.017355885356665,-0.029685579240322));
res += mul(Get(s2,-dx,dy), float4x4(-0.039485268294811,0.060124233365059,0.344910681247711,-0.120480515062809,-0.032703801989555,0.222095072269440,0.185647040605545,0.042701162397861,-0.005884816870093,0.224591568112373,0.187871187925339,0.285923182964325,0.040653206408024,0.027889527380466,-0.053118526935577,-0.002599738538265));
res += mul(Get(s2,0,-dy), float4x4(-0.186555445194244,0.055354192852974,-0.117614395916462,-0.083829820156097,0.178054198622704,-0.080354362726212,-0.264621466398239,0.068016923964024,0.047530438750982,-0.214123815298080,0.012563231401145,-0.012140931561589,0.111552789807320,0.126194298267365,-0.008209523744881,0.002084286417812));
res += mul(Get(s2,0,0), float4x4(-0.120084144175053,0.080513037741184,-0.011939218267798,0.019743479788303,-0.063189849257469,0.400389254093170,-0.061598379164934,-0.149744480848312,0.024390870705247,0.004919027443975,-0.124965883791447,0.124177053570747,-0.063554011285305,0.122596502304077,-0.113686092197895,-0.100724846124649));
res += mul(Get(s2,0,dy), float4x4(-0.063008457422256,0.092282265424728,0.071847930550575,0.079274959862232,-0.270327657461166,-0.173478856682777,-0.068518862128258,-0.053341794759035,0.018392527475953,0.146446764469147,-0.018195118755102,0.039023958146572,-0.176798298954964,-0.017215130850673,-0.018420170992613,-0.058408670127392));
res += mul(Get(s2,dx,-dy), float4x4(-0.067255683243275,0.170955002307892,-0.146979615092278,0.050500851124525,0.190189018845558,-0.146543994545937,-0.052816420793533,0.049836151301861,-0.062719881534576,0.010717476718128,0.111320741474628,-0.016088332980871,-0.063132129609585,0.024769010022283,-0.153741687536240,0.094124950468540));
res += mul(Get(s2,dx,0), float4x4(-0.008368362672627,-0.047366686165333,0.036772713065147,0.112201198935509,-0.147838428616524,-0.039437945932150,0.192513838410378,-0.138653591275215,0.139409974217415,0.068921618163586,0.148832246661186,-0.137471795082092,-0.110840655863285,0.008963275700808,-0.102760590612888,-0.162630602717400));
res += mul(Get(s2,dx,dy), float4x4(0.168369248509407,-0.214350864291191,-0.183743491768837,-0.048667479306459,-0.068444103002548,-0.017665434628725,-0.096689268946648,0.102755747735500,-0.121916808187962,-0.230601280927658,-0.008384309709072,-0.006374518852681,-0.025844519957900,0.130899652838707,0.029286457225680,-0.055394757539034));
res += mul(Get(s3,-dx,-dy), float4x4(-0.077936314046383,0.026399305090308,-0.081854902207851,0.201951026916504,-0.026972243562341,0.043486986309290,-0.016899459064007,0.109733924269676,-0.113246560096741,0.004057697951794,-0.054875880479813,-0.178440764546394,-0.124920107424259,0.144113689661026,-0.060968603938818,-0.023342395201325));
res += mul(Get(s3,-dx,0), float4x4(0.017474723979831,0.209594398736954,-0.095563285052776,-0.019151868298650,-0.084048181772232,-0.000033091568184,0.061765845865011,0.227852851152420,-0.021009461954236,-0.139153167605400,-0.026576809585094,-0.127780318260193,0.023435508832335,0.026739949360490,-0.237397581338882,0.038274165242910));
res += mul(Get(s3,-dx,dy), float4x4(-0.017899954691529,0.074271157383919,0.191736623644829,0.007617713883519,0.101419471204281,0.052886206656694,0.032375201582909,0.200345411896706,0.007522873114794,0.058997176587582,-0.037105705589056,-0.018684685230255,-0.268972724676132,-0.220008328557014,0.147694066166878,-0.098886199295521));
res += mul(Get(s3,0,-dy), float4x4(0.089487031102180,-0.042361494153738,0.188536003232002,-0.128595292568207,0.010263338685036,-0.094790168106556,-0.041134610772133,0.019613789394498,0.049655012786388,-0.321466356515884,-0.052807439118624,-0.085238024592400,0.073761619627476,-0.061814282089472,-0.143068626523018,-0.130314394831657));
res += mul(Get(s3,0,0), float4x4(0.058293823152781,-0.146627128124237,0.038492262363434,-0.132957369089127,0.040095712989569,-0.073660895228386,0.010172598995268,-0.024916499853134,-0.118044354021549,0.024031598120928,0.061294682323933,0.048020653426647,0.196825072169304,0.093890376389027,-0.143952518701553,-0.043762866407633));
res += mul(Get(s3,0,dy), float4x4(0.151488780975342,-0.054551340639591,-0.076679527759552,0.018499409779906,-0.238656073808670,-0.122589848935604,0.126366540789604,0.034695807844400,-0.192112103104591,-0.083455413579941,0.046231366693974,0.084647409617901,0.134113207459450,0.099348649382591,0.119643718004227,0.025434430688620));
res += mul(Get(s3,dx,-dy), float4x4(0.043579000979662,0.045515857636929,0.016537742689252,-0.029782544821501,-0.068603061139584,0.060319948941469,-0.054569620639086,0.115388527512550,0.032327588647604,-0.147301256656647,-0.126560360193253,-0.046966392546892,0.124180600047112,0.048978414386511,0.248783543705940,0.032680477946997));
res += mul(Get(s3,dx,0), float4x4(0.014812738634646,0.141612008213997,-0.042134501039982,-0.049617689102888,0.047617144882679,-0.046218473464251,0.063342638313770,-0.116326473653316,0.056407444179058,0.072482831776142,0.007635917514563,-0.013936745002866,0.076907813549042,0.116582594811916,-0.000664444989525,-0.122060865163803));
res += mul(Get(s3,dx,dy), float4x4(-0.055955655872822,-0.029022930189967,-0.352832287549973,-0.002516179578379,-0.094768911600113,-0.134346112608910,0.142675146460533,0.096051536500454,-0.094508290290833,0.142975464463234,0.168744236230850,0.071392089128494,-0.026704994961619,0.133796662092209,0.112899549305439,-0.087625578045845));
return max(float4(0,0,0,0), res);
}
