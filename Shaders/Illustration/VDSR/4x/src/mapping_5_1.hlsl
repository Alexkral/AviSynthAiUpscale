sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.106880009174347,-0.012866251170635,-0.075933113694191,0.097578816115856,-0.028542920947075,-0.080909371376038,-0.115460887551308,-0.052747126668692,-0.239118248224258,-0.183549508452415,-0.154699265956879,-0.069479905068874,0.055858377367258,-0.231383815407753,-0.067290231585503,-0.109154641628265));
res += mul(Get(s0,-dx,0), float4x4(0.210838317871094,-0.077709615230560,-0.054680585861206,-0.056194167584181,0.117758333683014,-0.009953389875591,-0.149580448865891,0.268919378519058,-0.046396121382713,-0.085809729993343,-0.068292267620564,-0.050576597452164,0.123656183481216,-0.234418496489525,-0.059009026736021,0.170894131064415));
res += mul(Get(s0,-dx,dy), float4x4(-0.203147470951080,-0.122351489961147,-0.115364968776703,-0.030920282006264,0.083471111953259,0.036029163748026,0.154637724161148,0.343957245349884,0.031732626259327,-0.035456486046314,0.033655993640423,0.076961539685726,0.141582116484642,-0.069874465465546,0.120248585939407,0.006490524858236));
res += mul(Get(s0,0,-dy), float4x4(-0.156052723526955,0.144858807325363,0.134350359439850,0.113364510238171,0.045148536562920,-0.181010648608208,-0.071891978383064,0.038424566388130,-0.223739907145500,-0.131921380758286,-0.022353030741215,-0.091591052711010,-0.003508923109621,0.117435619235039,-0.033165566623211,0.165659338235855));
res += mul(Get(s0,0,0), float4x4(-0.015243546105921,-0.046474695205688,0.070918016135693,-0.029092373326421,0.053357165306807,0.256480455398560,0.031729679554701,0.025278303772211,-0.142944142222404,-0.080116033554077,0.222014397382736,-0.082712896168232,-0.122618488967419,0.183501526713371,0.092430733144283,-0.003637319663540));
res += mul(Get(s0,0,dy), float4x4(-0.054883580654860,0.168534860014915,0.007535654585809,0.098663002252579,-0.128831014037132,-0.141708061099052,-0.063265956938267,-0.145322531461716,0.102850638329983,-0.000274963706033,-0.010816795751452,-0.341871589422226,0.151783779263496,0.034496951848269,0.015154880471528,-0.156025484204292));
res += mul(Get(s0,dx,-dy), float4x4(-0.045850709080696,0.021430155262351,-0.042272359132767,0.050498869270086,0.005130711011589,0.164973989129066,-0.015747528523207,-0.110276907682419,0.044196948409081,-0.025021638721228,-0.037646412849426,-0.133725866675377,-0.215873986482620,-0.033441979438066,-0.135151863098145,0.045491900295019));
res += mul(Get(s0,dx,0), float4x4(-0.032423861324787,-0.068453028798103,-0.108052216470242,0.047084927558899,0.004815709311515,-0.037468433380127,-0.130469501018524,0.206189572811127,0.101632773876190,0.069088652729988,0.010243945755064,0.105974860489368,-0.131736934185028,0.085528910160065,0.028255939483643,-0.090758316218853));
res += mul(Get(s0,dx,dy), float4x4(0.065424129366875,0.010801768861711,0.103250056505203,-0.153349846601486,0.235763296484947,-0.152008995413780,-0.086812503635883,-0.013435043394566,-0.103550069034100,0.038458582013845,0.057764649391174,-0.047088272869587,0.120103769004345,-0.109790220856667,0.053350336849689,0.144752264022827));
res += mul(Get(s1,-dx,-dy), float4x4(-0.102227754890919,0.152904272079468,-0.194230526685715,-0.169807463884354,0.050438761711121,0.020778786391020,0.073645621538162,-0.048765949904919,-0.079773776233196,-0.071690775454044,-0.002856479026377,-0.024613514542580,0.067497447133064,0.037581477314234,-0.066808775067329,0.006112276110798));
res += mul(Get(s1,-dx,0), float4x4(0.027501689270139,0.274484425783157,0.179977655410767,-0.205066472291946,0.100542925298214,-0.015276759862900,0.072068668901920,-0.020356494933367,0.038044393062592,0.114258423447609,-0.220386773347855,-0.001575394649990,0.116785883903503,0.205572515726089,0.019496086984873,-0.085925780236721));
res += mul(Get(s1,-dx,dy), float4x4(-0.116233810782433,0.103996619582176,-0.058911845088005,-0.228082597255707,0.014095521531999,0.067811354994774,0.272996187210083,0.012202658690512,0.005278517026454,-0.017831869423389,-0.030567029491067,0.101554557681084,-0.162740752100945,0.096956841647625,0.062102403491735,-0.037254922091961));
res += mul(Get(s1,0,-dy), float4x4(0.139331579208374,-0.062185622751713,-0.126046329736710,-0.147301018238068,0.088601715862751,-0.115126006305218,-0.032446440309286,-0.035240005701780,0.029786491766572,0.265267282724380,0.289512038230896,-0.026508158072829,0.058350056409836,-0.048543818295002,-0.129241585731506,0.134476691484451));
res += mul(Get(s1,0,0), float4x4(0.200053170323372,-0.094061456620693,0.050357084721327,-0.142662003636360,-0.037572920322418,0.014987582340837,0.225017935037613,-0.180932611227036,0.095363602042198,0.003744773566723,0.038718089461327,0.052141845226288,-0.065609723329544,-0.219323575496674,0.036487117409706,-0.220136046409607));
res += mul(Get(s1,0,dy), float4x4(-0.010172403417528,-0.232149511575699,-0.033236104995012,-0.048806913197041,-0.008212576620281,-0.077444888651371,-0.064915411174297,-0.194264113903046,0.099775671958923,0.037276566028595,-0.091233015060425,-0.109528779983521,-0.047074198722839,0.002138598589227,0.039743371307850,-0.064652249217033));
res += mul(Get(s1,dx,-dy), float4x4(-0.007817836478353,0.110447205603123,0.215247794985771,0.031558699905872,-0.078721702098846,-0.169602692127228,-0.172690317034721,-0.025709791108966,-0.106316290795803,0.042184196412563,0.000820827030111,-0.016366695985198,0.036324657499790,-0.138622239232063,0.085187248885632,-0.165835827589035));
res += mul(Get(s1,dx,0), float4x4(-0.002440202515572,-0.052956301718950,0.102642916142941,-0.139902889728546,-0.092676095664501,-0.002397831762210,-0.184949234127998,0.048963379114866,0.095529370009899,0.040805697441101,-0.096680790185928,-0.101116776466370,-0.178322628140450,-0.000701880955603,0.010216829366982,-0.136402055621147));
res += mul(Get(s1,dx,dy), float4x4(0.030369490385056,0.002114861970767,0.136590138077736,0.037152063101530,0.155021741986275,0.075317867100239,0.091986723244190,-0.094852238893509,-0.170324280858040,-0.126719430088997,0.186978578567505,0.134875923395157,-0.100500412285328,0.157281965017319,0.142612427473068,-0.001012190128677));
res += mul(Get(s2,-dx,-dy), float4x4(-0.186488255858421,0.138267695903778,-0.070856899023056,0.034534957259893,-0.000361008482287,-0.250971078872681,-0.111179821193218,-0.088961251080036,-0.129669696092606,0.043233610689640,0.123092502355576,-0.084613472223282,-0.130222946405411,0.054208021610975,0.136289879679680,0.164626196026802));
res += mul(Get(s2,-dx,0), float4x4(0.199334144592285,-0.001043227268383,-0.064249724149704,0.019074153155088,-0.213641747832298,0.004324961919338,-0.128483504056931,0.099415846168995,-0.029199764132500,0.055004149675369,0.079989671707153,0.167775034904480,0.010329637676477,0.010191942565143,0.242312699556351,0.254391074180603));
res += mul(Get(s2,-dx,dy), float4x4(-0.135609865188599,0.028420453891158,0.096440121531487,0.108580999076366,-0.198865100741386,-0.125273987650871,-0.091527014970779,-0.027684690430760,-0.118920601904392,-0.089017592370510,0.024398012086749,0.176024168729782,-0.005462361499667,-0.135336235165596,-0.053738299757242,-0.043203003704548));
res += mul(Get(s2,0,-dy), float4x4(0.058925606310368,-0.078176997601986,-0.044837288558483,-0.085808619856834,0.143183678388596,-0.015751412138343,0.058965101838112,-0.024301910772920,-0.155642911791801,-0.084088958799839,-0.082719884812832,0.028290310874581,0.095166042447090,-0.117598243057728,0.041355740278959,-0.050383251160383));
res += mul(Get(s2,0,0), float4x4(-0.008315660990775,0.021318253129721,0.054958809167147,-0.038529701530933,0.093283750116825,0.138544946908951,-0.232346817851067,0.197862491011620,-0.048762086778879,0.082545287907124,-0.023759335279465,0.002561647444963,-0.171497046947479,0.086642466485500,0.029009943827987,0.141808614134789));
res += mul(Get(s2,0,dy), float4x4(-0.019736034795642,0.155110731720924,0.052167296409607,0.168022543191910,-0.086434051394463,0.048268795013428,-0.042605068534613,0.080880619585514,0.011165540665388,0.200830504298210,-0.183715298771858,0.218053519725800,0.014610010199249,0.225462645292282,0.130177244544029,0.042648334056139));
res += mul(Get(s2,dx,-dy), float4x4(-0.055137310177088,-0.022962678223848,-0.100888937711716,0.177949711680412,0.231867045164108,-0.071720369160175,0.035003721714020,0.091899141669273,-0.080760799348354,-0.114678204059601,-0.131490468978882,0.028667286038399,-0.179945290088654,-0.066359758377075,0.063395261764526,-0.128736972808838));
res += mul(Get(s2,dx,0), float4x4(-0.058276649564505,-0.061893705278635,0.126412853598595,-0.058925613760948,-0.084377974271774,0.025832321494818,0.216309696435928,-0.034925870597363,0.047703143209219,-0.118764087557793,0.025488518178463,-0.012653463520110,0.041083455085754,-0.056197553873062,0.219134151935577,-0.164006531238556));
res += mul(Get(s2,dx,dy), float4x4(-0.021579263731837,0.091078482568264,-0.032319419085979,0.197131127119064,-0.039280179888010,0.102802954614162,0.088032908737659,-0.039055585861206,-0.114009082317352,-0.102818012237549,-0.175982907414436,0.019694915041327,0.176974117755890,-0.002783976728097,0.013504883274436,0.061833575367928));
res += mul(Get(s3,-dx,-dy), float4x4(-0.060048229992390,0.054433580487967,-0.006710437126458,-0.251027613878250,0.042547982186079,0.076139114797115,0.017504928633571,-0.038117315620184,-0.031150596216321,-0.083269454538822,-0.103625014424324,0.029752060770988,-0.051743801683187,-0.153196543455124,0.169636428356171,-0.076158545911312));
res += mul(Get(s3,-dx,0), float4x4(0.004570117220283,-0.371303975582123,-0.194424659013748,0.029391638934612,-0.171443864703178,-0.022334985435009,0.108471103012562,-0.111376687884331,0.011102671734989,0.143942058086395,-0.088651992380619,-0.129453822970390,0.079995803534985,-0.025282703340054,-0.128332704305649,0.085838355123997));
res += mul(Get(s3,-dx,dy), float4x4(-0.013974558562040,0.127496004104614,0.127756774425507,-0.045579135417938,-0.047274347394705,-0.082478553056717,0.059932842850685,0.185414716601372,-0.076597705483437,-0.178586184978485,-0.016768630594015,-0.184471249580383,0.113578714430332,-0.046010024845600,0.026063248515129,-0.147488117218018));
res += mul(Get(s3,0,-dy), float4x4(-0.062118425965309,-0.075792528688908,-0.009585534222424,-0.268367856740952,0.097097620368004,-0.086139261722565,-0.131495416164398,0.183443486690521,-0.028585676103830,0.076784603297710,0.014254542998970,0.034910175949335,0.089030943810940,0.010638508945704,0.165482670068741,-0.099851973354816));
res += mul(Get(s3,0,0), float4x4(0.125560551881790,0.047945369035006,-0.181660369038582,-0.064716115593910,0.150506287813187,-0.015788571909070,-0.105339363217354,-0.110283419489861,0.017837328836322,-0.097375303506851,-0.019303575158119,0.018816070631146,0.046133920550346,0.180841356515884,0.090312317013741,-0.177613452076912));
res += mul(Get(s3,0,dy), float4x4(-0.052379339933395,-0.137642949819565,-0.035160597413778,0.123568870127201,0.141425400972366,-0.177259162068367,0.065509162843227,-0.078070655465126,0.068233281373978,-0.024898964911699,-0.113977953791618,0.015843182802200,0.029052250087261,-0.138759225606918,0.207945257425308,-0.160946398973465));
res += mul(Get(s3,dx,-dy), float4x4(0.108547814190388,-0.188499629497528,0.063623927533627,-0.014156606979668,0.021681273356080,0.075984396040440,-0.005053491331637,0.237069442868233,-0.212976172566414,-0.156455680727959,-0.097500964999199,0.072760432958603,0.019426511600614,0.062922105193138,-0.020887259393930,-0.154421448707581));
res += mul(Get(s3,dx,0), float4x4(0.160348117351532,-0.053772792220116,-0.113697841763496,0.140437185764313,0.000725992489606,-0.016859954223037,0.081792309880257,0.040287263691425,0.122505672276020,-0.188337013125420,0.103872135281563,-0.152429729700089,0.097562208771706,0.217012643814087,-0.144892483949661,-0.013529926538467));
res += mul(Get(s3,dx,dy), float4x4(0.056415267288685,0.145289078354836,-0.119491323828697,-0.237147629261017,-0.220745980739594,-0.067249923944473,0.012713127769530,-0.003485018853098,-0.008278402499855,-0.065534017980099,0.070450745522976,0.049240298569202,-0.158854782581329,0.166188985109329,0.019583258777857,-0.244038403034210));
return max(float4(0,0,0,0), res);
}
