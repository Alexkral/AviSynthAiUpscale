sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.167125061154366,-0.085793443024158,0.153609737753868,-0.040179982781410,0.072718136012554,0.249958097934723,-0.059485767036676,0.040790103375912,-0.043477166444063,-0.010700814425945,0.701112806797028,-0.163360550999641,-0.180207431316376,0.284266561269760,0.054097790271044,-0.052712578326464));
res += mul(Get(s0,-dx,0), float4x4(0.163593009114265,0.219185054302216,-0.072300240397453,-0.010312498547137,-0.007234907709062,0.057192515581846,0.040896203368902,0.104437209665775,-0.036923438310623,0.175785884261131,-0.186832949519157,-0.298135846853256,-0.246105909347534,0.143415763974190,-0.178404331207275,-0.140127778053284));
res += mul(Get(s0,-dx,dy), float4x4(-0.040645182132721,0.109538778662682,-0.084086745977402,0.025450754910707,-0.104274921119213,-0.000297887396300,-0.031685624271631,0.094134062528610,0.172220587730408,0.096549227833748,0.107594907283783,-0.184583514928818,-0.175616979598999,-0.318517148494720,0.052483804523945,-0.195020437240601));
res += mul(Get(s0,0,-dy), float4x4(0.202149957418442,-0.053182933479548,0.065061308443546,0.012988328933716,-0.124889001250267,-0.150326609611511,0.126252695918083,-0.174091979861259,-0.236606806516647,-0.027964619919658,-0.009211287833750,0.217061862349510,0.126872897148132,0.263353943824768,-0.130252867937088,-0.014081784524024));
res += mul(Get(s0,0,0), float4x4(0.210429906845093,-0.038618177175522,-0.043156161904335,-0.132481947541237,-0.096876069903374,0.206236377358437,0.093345738947392,-0.019885122776031,-0.058979526162148,0.302314311265945,-0.139743566513062,0.269855231046677,0.028061950579286,0.061611481010914,-0.090933926403522,-0.041196338832378));
res += mul(Get(s0,0,dy), float4x4(-0.011748041957617,-0.152444228529930,-0.019535016268492,0.071800217032433,-0.154337584972382,0.073121681809425,-0.074671700596809,-0.014863312244415,-0.195105358958244,-0.040890641510487,-0.179934322834015,-0.071404792368412,-0.055834956467152,-0.056652203202248,-0.072919085621834,0.098141804337502));
res += mul(Get(s0,dx,-dy), float4x4(-0.028059195727110,-0.031140014529228,0.153306126594543,0.110406562685966,0.150574013590813,0.164286330342293,-0.102069325745106,-0.012441419064999,-0.161974981427193,-0.187536686658859,0.124305061995983,-0.116921059787273,-0.016249110922217,0.102572560310364,-0.126001581549644,0.063831970095634));
res += mul(Get(s0,dx,0), float4x4(-0.004122326616198,0.064292132854462,0.035331789404154,0.084150217473507,0.095426619052887,0.092202626168728,-0.085745729506016,-0.180516660213470,-0.218738764524460,0.110077664256096,0.052660688757896,-0.144111320376396,-0.016623504459858,0.003872467903420,-0.120571553707123,0.113471239805222));
res += mul(Get(s0,dx,dy), float4x4(-0.127013683319092,0.313173323869705,-0.146460950374603,0.041313055902719,0.049077499657869,-0.005531291011721,-0.081412658095360,-0.247955992817879,0.068211704492569,-0.015715021640062,0.007779266219586,-0.094032317399979,-0.059703513979912,0.131198078393936,-0.167423993349075,0.169940769672394));
res += mul(Get(s1,-dx,-dy), float4x4(0.037949260324240,0.063935801386833,0.033413130789995,-0.229548394680023,-0.039358261972666,0.091088332235813,-0.148462668061256,0.225127160549164,0.032277442514896,-0.143923223018646,-0.146060019731522,-0.128347724676132,-0.099715784192085,0.051518935710192,0.198116123676300,0.100833393633366));
res += mul(Get(s1,-dx,0), float4x4(-0.034739337861538,0.105281159281731,-0.122834987938404,0.060091480612755,-0.111070379614830,-0.347988307476044,-0.192917451262474,0.022162824869156,-0.113067373633385,-0.067203529179096,-0.217384025454521,-0.073501467704773,-0.112759023904800,-0.036639358848333,-0.039525669068098,-0.053373541682959));
res += mul(Get(s1,-dx,dy), float4x4(0.185039103031158,0.343081533908844,-0.090346701443195,-0.151045143604279,-0.099541760981083,-0.073031187057495,-0.063581638038158,-0.104642830789089,-0.096881330013275,0.024573655799031,-0.189475610852242,-0.207267761230469,-0.010993325151503,0.029508925974369,0.301704913377762,-0.171483471989632));
res += mul(Get(s1,0,-dy), float4x4(0.299384206533432,-0.282211780548096,0.015278625302017,-0.099511049687862,-0.170366272330284,-0.271179497241974,-0.052091352641582,-0.215573728084564,-0.181879937648773,0.002727930899709,-0.055297341197729,-0.068893104791641,-0.282107383012772,-0.117459118366241,-0.033953458070755,0.194826930761337));
res += mul(Get(s1,0,0), float4x4(0.052142549306154,-0.048484921455383,0.030500167980790,0.452301383018494,-0.085688479244709,-0.228909134864807,0.175358057022095,-0.136128410696983,-0.018292929977179,0.023565987125039,-0.059731326997280,-0.025153858587146,-0.263763546943665,-0.056185744702816,0.118575535714626,-0.120881341397762));
res += mul(Get(s1,0,dy), float4x4(-0.183806270360947,-0.163573667407036,0.048806231468916,-0.281528443098068,-0.232595413923264,-0.114530332386494,0.097745753824711,-0.055135443806648,0.009871437214315,-0.038471072912216,-0.083536267280579,-0.065108232200146,-0.099359996616840,-0.011514666490257,-0.010366861708462,0.002508586738259));
res += mul(Get(s1,dx,-dy), float4x4(-0.134904310107231,-0.423499315977097,0.029310973361135,0.328928589820862,0.106944218277931,-0.271685510873795,-0.033911425620317,-0.009497168473899,-0.101793467998505,-0.007395265623927,-0.061457771807909,-0.089751087129116,-0.111533947288990,-0.270206749439240,-0.179405540227890,-0.049931291490793));
res += mul(Get(s1,dx,0), float4x4(-0.260942846536636,-0.235958456993103,0.152838900685310,0.235950201749802,0.110429398715496,-0.248105093836784,0.053409211337566,-0.060779351741076,-0.078860148787498,-0.016533473506570,-0.078855082392693,-0.183572784066200,-0.160805240273476,-0.131963983178139,0.338233381509781,0.063578069210052));
res += mul(Get(s1,dx,dy), float4x4(-0.064244627952576,-0.039890680462122,-0.053645253181458,-0.261434048414230,-0.126288190484047,-0.122585669159889,0.039701927453279,0.024712374433875,-0.110104456543922,-0.069470778107643,-0.138772338628769,-0.129117459058762,0.037808790802956,-0.025996163487434,-0.049450635910034,0.062081795185804));
res += mul(Get(s2,-dx,-dy), float4x4(0.119135685265064,-0.154604807496071,-0.085216328501701,-0.113663822412491,0.047476276755333,-0.170589342713356,0.153421983122826,-0.077503167092800,-0.043194994330406,-0.125317573547363,-0.124459199607372,-0.059845652431250,0.019008250907063,-0.130909502506256,-0.079670719802380,0.115640692412853));
res += mul(Get(s2,-dx,0), float4x4(-0.012759909965098,0.182734161615372,0.110086001455784,-0.119197160005569,0.562097012996674,-0.032421898096800,0.163892149925232,-0.004950234200805,-0.104382909834385,-0.138937637209892,0.078630536794662,-0.145129144191742,0.005153909791261,-0.083851143717766,-0.097703166306019,0.269082397222519));
res += mul(Get(s2,-dx,dy), float4x4(0.064276225864887,0.150967776775360,-0.023268913850188,-0.101472504436970,0.082239963114262,-0.087091177701950,0.307329237461090,-0.117682121694088,-0.069967217743397,-0.020602894946933,0.069417625665665,0.068534679710865,0.112349085509777,0.271469801664352,0.055263083428144,0.010257661342621));
res += mul(Get(s2,0,-dy), float4x4(-0.106614612042904,-0.190034925937653,0.112108565866947,0.165816470980644,-0.051413156092167,-0.116001449525356,-0.014222454279661,0.285517573356628,-0.094163581728935,-0.084457367658615,-0.115399323403835,0.092707835137844,-0.194436937570572,-0.119308002293110,-0.062271978706121,-0.094999946653843));
res += mul(Get(s2,0,0), float4x4(-0.031287610530853,-0.021496292203665,0.026778433471918,0.229603379964828,0.019952468574047,-0.047784581780434,-0.180239722132683,0.105718150734901,-0.080388188362122,-0.030277557671070,0.060608673840761,0.205324187874794,-0.180323809385300,0.174589574337006,-0.039254453033209,-0.073103249073029));
res += mul(Get(s2,0,dy), float4x4(0.003104641567916,-0.060367230325937,-0.070823691785336,0.026398619636893,-0.190150588750839,-0.188300520181656,-0.026093376800418,-0.056641221046448,-0.060672916471958,-0.083795145153999,0.053992871195078,0.035575013607740,-0.175137609243393,0.169781744480133,0.059517756104469,-0.165597051382065));
res += mul(Get(s2,dx,-dy), float4x4(-0.084087669849396,-0.140779867768288,-0.163174465298653,-0.116506807506084,0.143506690859795,-0.310746997594833,0.022671030834317,-0.079086832702160,-0.048332449048758,-0.030843768268824,-0.126299008727074,-0.117857918143272,-0.091046981513500,0.038514088839293,-0.138310685753822,-0.070820122957230));
res += mul(Get(s2,dx,0), float4x4(-0.033064614981413,0.028888795524836,0.084539495408535,-0.248842835426331,0.112910255789757,-0.040339075028896,-0.120646499097347,-0.133056849241257,-0.078715786337852,0.038713272660971,-0.115380264818668,-0.011674909852445,-0.047094400972128,-0.037437673658133,-0.110400751233101,-0.117696292698383));
res += mul(Get(s2,dx,dy), float4x4(0.186880633234978,0.119818411767483,-0.100096464157104,-0.225764274597168,0.046821143478155,-0.142791375517845,-0.064489297568798,-0.124368362128735,-0.118524529039860,-0.024718292057514,-0.135083630681038,-0.059594687074423,-0.099994920194149,-0.093116842210293,-0.003596967086196,-0.196290135383606));
res += mul(Get(s3,-dx,-dy), float4x4(-0.182932466268539,0.483611077070236,-0.274555563926697,-0.052709136158228,0.026750368997455,0.055756948888302,-0.075447522103786,-0.108570612967014,-0.112406879663467,-0.173348948359489,-0.273411750793457,-0.099534511566162,-0.046496335417032,-0.026439147070050,-0.048937126994133,0.002875269623473));
res += mul(Get(s3,-dx,0), float4x4(-0.075166471302509,-0.142610162496567,-0.119840979576111,0.067003741860390,0.141748413443565,-0.053110443055630,-0.193345457315445,-0.207976534962654,-0.062778525054455,-0.076152607798576,-0.126794233918190,-0.092233419418335,-0.017436346039176,-0.063884124159813,0.049210377037525,0.022094272077084));
res += mul(Get(s3,-dx,dy), float4x4(-0.074943624436855,-0.243175879120827,-0.060667719691992,0.200110942125320,0.224235221743584,-0.024132506921887,-0.084712654352188,-0.310009270906448,0.013509574346244,-0.140549585223198,-0.017271721735597,-0.050733663141727,-0.063635855913162,-0.005231648683548,0.044292703270912,-0.133349657058716));
res += mul(Get(s3,0,-dy), float4x4(-0.214283347129822,0.364107578992844,-0.105590887367725,-0.096924357116222,-0.143517240881920,0.050707791000605,0.005738828796893,0.066458992660046,-0.121244013309479,-0.131737798452377,0.004875558894128,-0.124241173267365,-0.074469789862633,-0.090831361711025,-0.170332670211792,-0.052475571632385));
res += mul(Get(s3,0,0), float4x4(-0.137300342321396,-0.442991852760315,0.021689286455512,0.028007430955768,-0.007875141687691,-0.081377856433392,-0.129311159253120,0.077764138579369,-0.010196838527918,0.092300690710545,-0.092982456088066,-0.059456273913383,-0.070311054587364,-0.076938293874264,-0.092487320303917,-0.072612583637238));
res += mul(Get(s3,0,dy), float4x4(-0.104191087186337,-0.098784990608692,-0.036694228649139,-0.020966378971934,-0.151371881365776,-0.197908073663712,-0.143561869859695,0.310191214084625,-0.085224941372871,-0.307360291481018,-0.046839877963066,-0.083757698535919,-0.121911741793156,-0.216785028576851,0.031454365700483,0.072737656533718));
res += mul(Get(s3,dx,-dy), float4x4(-0.250817030668259,0.469536393880844,-0.026558499783278,0.035816963762045,-0.183590903878212,-0.109845399856567,-0.012331200763583,0.154319554567337,-0.025760376825929,-0.061337333172560,0.004805776756257,0.054501801729202,-0.043750599026680,-0.257893949747086,-0.093828260898590,-0.007800106424838));
res += mul(Get(s3,dx,0), float4x4(0.046939868479967,0.559808552265167,0.033537678420544,0.085284411907196,-0.228456974029541,-0.199615344405174,-0.074375689029694,-0.049880675971508,0.031813524663448,0.191069856286049,-0.072760567069054,-0.197445616126060,0.017555871978402,-0.223508536815643,0.078487232327461,0.077504165470600));
res += mul(Get(s3,dx,dy), float4x4(0.195112437009811,0.177888154983521,-0.088597521185875,-0.017111144959927,-0.133907526731491,-0.142752021551132,-0.100843869149685,0.124238520860672,-0.162049606442451,0.082824960350990,-0.013599381782115,-0.169649556279182,0.048725247383118,-0.325615882873535,-0.032705109566450,-0.055468615144491));
return max(float4(0,0,0,0), res);
}
