sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.007322140969336,0.203853741288185,-0.044383060187101,-0.111477963626385,0.269051223993301,-0.068593718111515,-0.027638137340546,-0.148148715496063,-0.037422027438879,-0.010548033751547,0.102806746959686,-0.099359266459942,0.182100087404251,-0.123288214206696,-0.113032892346382,-0.063987419009209));
res += mul(Get(s0,-dx,0), float4x4(-0.015981869772077,-0.130996227264404,-0.076571650803089,-0.142057150602341,0.195644602179527,-0.023758158087730,-0.024995328858495,-0.096087701618671,0.060795109719038,0.030399719253182,0.359782665967941,-0.011932292021811,-0.158781826496124,-0.312650978565216,-0.075804241001606,-0.150887742638588));
res += mul(Get(s0,-dx,dy), float4x4(-0.038155406713486,0.189215153455734,-0.085137933492661,-0.033912599086761,0.060951415449381,-0.128876596689224,-0.043798573315144,0.003646431025118,-0.061203800141811,0.030422281473875,0.091729633510113,0.037207286804914,-0.140788286924362,-0.081201553344727,-0.100768432021141,-0.069903835654259));
res += mul(Get(s0,0,-dy), float4x4(-0.027869831770658,0.065283462405205,-0.058565124869347,-0.133634760975838,-0.176323741674423,-0.050154510885477,-0.127067834138870,0.027572136372328,-0.065284490585327,0.065403930842876,0.459624290466309,-0.241097286343575,-0.166703194379807,-0.083700858056545,-0.144890800118446,-0.104025468230247));
res += mul(Get(s0,0,0), float4x4(0.049366448074579,-0.003482563886791,-0.178140833973885,-0.136582419276237,0.048967696726322,-0.015436509624124,-0.083060801029205,0.006563732400537,0.110918357968330,-0.050199460238218,-0.137777090072632,0.258028000593185,-0.109474807977676,-0.017179355025291,-0.216587007045746,-0.162953898310661));
res += mul(Get(s0,0,dy), float4x4(-0.002913364907727,-0.014310168102384,-0.099152483046055,-0.186947584152222,0.037598125636578,0.027954986318946,-0.078728362917900,0.046215176582336,0.023928588256240,-0.055319707840681,0.147297024726868,0.040300745517015,0.078238949179649,-0.044574026018381,-0.108018852770329,-0.079986020922661));
res += mul(Get(s0,dx,-dy), float4x4(-0.160777106881142,-0.001482705934905,-0.045564331114292,-0.150553092360497,0.238764911890030,-0.082962058484554,-0.142717197537422,-0.094678357243538,0.009506543166935,-0.155111864209175,0.131399631500244,0.416438519954681,-0.028876606374979,-0.079969152808189,-0.075562007725239,0.213987529277802));
res += mul(Get(s0,dx,0), float4x4(-0.194640710949898,0.085789270699024,-0.177000418305397,-0.119660042226315,0.278029799461365,-0.077934347093105,-0.105852730572224,-0.128533124923706,0.121467329561710,-0.091584704816341,-0.297221064567566,0.394188821315765,-0.070679895579815,0.029687959700823,-0.199312806129456,0.064724527299404));
res += mul(Get(s0,dx,dy), float4x4(-0.094822011888027,-0.024853732436895,-0.105156138539314,-0.120055899024010,0.071630321443081,-0.076620601117611,0.063114270567894,-0.107594355940819,0.054601397365332,-0.122598558664322,-0.128683835268021,0.122587442398071,-0.044665150344372,0.016660528257489,-0.178860455751419,0.061807826161385));
res += mul(Get(s1,-dx,-dy), float4x4(-0.071355067193508,0.157872065901756,-0.144921571016312,-0.095358349382877,-0.047564093023539,0.144059151411057,-0.058912288397551,-0.436321705579758,-0.186619833111763,0.079027920961380,-0.153106823563576,-0.075214304029942,-0.082455739378929,0.125246897339821,-0.120071068406105,0.013281003572047));
res += mul(Get(s1,-dx,0), float4x4(-0.023081641644239,0.185895562171936,-0.098661869764328,-0.051108065992594,0.134386524558067,0.065152227878571,-0.151521176099777,-0.356021136045456,-0.185924023389816,0.068568572402000,0.075810015201569,-0.237773910164833,-0.139924898743629,0.042745929211378,-0.082207530736923,0.057540826499462));
res += mul(Get(s1,-dx,dy), float4x4(-0.059724241495132,0.164165943861008,-0.048173617571592,0.050155445933342,0.035640940070152,0.323597818613052,0.047334462404251,-0.369399517774582,0.240748926997185,0.272181719541550,-0.013797097839415,0.211226940155029,-0.092771992087364,0.097689218819141,-0.050150416791439,-0.030504332855344));
res += mul(Get(s1,0,-dy), float4x4(-0.054384823888540,-0.127371042966843,0.052165258675814,0.011356716975570,-0.111129201948643,-0.026369104161859,-0.165532946586609,-0.190870493650436,-0.047132115811110,-0.116014540195465,-0.052927825599909,0.014847485348582,-0.109925225377083,-0.006948682479560,-0.036318238824606,-0.103609435260296));
res += mul(Get(s1,0,0), float4x4(0.079565070569515,-0.043111030012369,0.024561390280724,-0.018595360219479,0.014355639927089,-0.193416729569435,-0.048928864300251,-0.113306686282158,-0.262327194213867,0.037457138299942,0.286839008331299,-0.238616049289703,-0.125579610466957,0.086005978286266,-0.083285175263882,-0.072373867034912));
res += mul(Get(s1,0,dy), float4x4(0.047489106655121,0.158561602234840,0.195608615875244,-0.050417847931385,-0.093631133437157,0.007551314774901,0.114830479025841,0.013364140875638,0.213683009147644,0.197580590844154,0.062469772994518,-0.145946189761162,0.001537678996101,0.062342733144760,-0.012615898624063,0.035796698182821));
res += mul(Get(s1,dx,-dy), float4x4(-0.101278856396675,-0.140724420547485,-0.027010496705770,0.148661583662033,-0.117744863033295,-0.020783649757504,-0.061921797692776,-0.119168795645237,-0.037083081901073,-0.393079131841660,-0.233406350016594,0.466582745313644,-0.072887107729912,-0.226584926247597,-0.037765368819237,-0.109151870012283));
res += mul(Get(s1,dx,0), float4x4(-0.014887562952936,0.006823889911175,-0.135793656110764,0.055893685668707,-0.097312882542610,-0.225160896778107,0.089804850518703,-0.150985106825829,-0.237154766917229,-0.210411295294762,0.121263004839420,0.076361551880836,0.032201897352934,-0.145635917782784,-0.059791747480631,-0.081259280443192));
res += mul(Get(s1,dx,dy), float4x4(-0.113020151853561,0.012136307545006,0.053593873977661,-0.117537118494511,-0.185415282845497,-0.282135367393494,0.109446562826633,0.081488512456417,0.118134982883930,-0.285919845104218,0.110291458666325,0.174030572175980,0.048787854611874,-0.207242235541344,0.022042056545615,0.115929678082466));
res += mul(Get(s2,-dx,-dy), float4x4(-0.073198556900024,-0.150337114930153,-0.141966760158539,-0.116400040686131,-0.203174769878387,0.133807092905045,-0.258640170097351,-0.083723209798336,-0.046783410012722,0.125341758131981,-0.036812778562307,-0.189082607626915,-0.199754774570465,-0.221420943737030,-0.175342381000519,-0.217494204640388));
res += mul(Get(s2,-dx,0), float4x4(-0.015709001570940,0.021219858899713,-0.079079292714596,0.020485037937760,-0.048980832099915,0.097321078181267,-0.186644494533539,-0.068858966231346,0.012506658211350,-0.128797441720963,0.030551284551620,-0.117424711585045,0.247107088565826,0.099661104381084,-0.082658492028713,-0.011440214700997));
res += mul(Get(s2,-dx,dy), float4x4(0.056901186704636,0.117637291550636,-0.004510698374361,-0.090791948139668,-0.187890827655792,-0.083856008946896,-0.106672510504723,0.049837473779917,0.055841512978077,0.104951754212379,-0.060646686702967,-0.022395793348551,0.189673945307732,0.023012226447463,-0.082222238183022,-0.051370795816183));
res += mul(Get(s2,0,-dy), float4x4(-0.166659891605377,-0.127463236451149,-0.126176044344902,0.025699000805616,0.042457740753889,0.004283236339688,-0.033046185970306,-0.085209786891937,-0.072546854615211,-0.011969589628279,-0.077390938997269,-0.081671014428139,-0.403757721185684,-0.265004783868790,-0.080060847103596,-0.202478572726250));
res += mul(Get(s2,0,0), float4x4(-0.084911659359932,-0.121668159961700,-0.078801028430462,0.128242358565331,0.120355434715748,0.086937882006168,-0.062082037329674,-0.198034912347794,0.149995997548103,-0.077968657016754,-0.119158379733562,-0.056918628513813,0.267468273639679,-0.179763168096542,-0.150603815913200,-0.173887982964516));
res += mul(Get(s2,0,dy), float4x4(-0.061390709131956,-0.115455508232117,-0.117226228117943,0.030838917940855,-0.030746042728424,0.142395153641701,-0.027413116768003,-0.113168783485889,-0.150378659367561,0.176176741719246,0.029333319514990,-0.122766800224781,-0.058826535940170,-0.162874087691307,-0.153767049312592,-0.149418309330940));
res += mul(Get(s2,dx,-dy), float4x4(-0.102269835770130,-0.213928475975990,-0.157040521502495,-0.126615807414055,-0.095164023339748,0.207882314920425,-0.136466175317764,0.452533334493637,-0.001608252758160,-0.109655722975731,0.024605518206954,-0.072662763297558,-0.255538016557693,-0.405189245939255,-0.158085227012634,0.151086091995239));
res += mul(Get(s2,dx,0), float4x4(-0.154333308339119,-0.236338779330254,-0.104389928281307,-0.028114639222622,-0.197552204132080,0.022823475301266,-0.051342464983463,0.009922696277499,-0.015440781600773,-0.224118769168854,0.073159344494343,-0.120517075061798,0.184025645256042,-0.288746893405914,-0.158511310815811,-0.048077441751957));
res += mul(Get(s2,dx,dy), float4x4(-0.061895262449980,-0.148140132427216,0.090083844959736,0.044210255146027,-0.202435970306396,-0.043467558920383,-0.090380623936653,0.073042392730713,-0.031782329082489,-0.082486756145954,0.129104614257813,0.094979099929333,-0.113557554781437,-0.099562145769596,0.054576840251684,0.231673210859299));
res += mul(Get(s3,-dx,-dy), float4x4(0.142800286412239,-0.074624732136726,-0.287515670061111,-0.198677897453308,-0.087991885840893,0.210087805986404,0.005867269821465,-0.192495524883270,-0.069268718361855,0.149065926671028,-0.048340402543545,0.143828660249710,-0.206036910414696,0.097657434642315,0.166597276926041,0.279453754425049));
res += mul(Get(s3,-dx,0), float4x4(0.059125173836946,-0.060169115662575,0.057690575718880,-0.158944949507713,0.086791865527630,0.059359166771173,-0.096933193504810,0.118104107677937,0.005213140975684,-0.011828553862870,-0.169433295726776,-0.021853353828192,0.127238929271698,-0.010968801565468,-0.034550115466118,0.013345845974982));
res += mul(Get(s3,-dx,dy), float4x4(0.171902671456337,0.055690828710794,-0.055792432278395,0.139127299189568,-0.013249587267637,-0.114560462534428,-0.261329025030136,-0.097099997103214,-0.154314994812012,0.157062381505966,-0.079572059214115,0.108952276408672,-0.036297354847193,-0.009356927126646,0.078430347144604,0.345668435096741));
res += mul(Get(s3,0,-dy), float4x4(-0.034474276006222,-0.074645467102528,-0.016563244163990,-0.199653640389442,-0.034021399915218,0.072573319077492,-0.075745791196823,0.077788308262825,0.104122050106525,-0.084575027227402,-0.034201595932245,0.161292046308517,-0.186015188694000,0.118834301829338,-0.103772349655628,0.075752250850201));
res += mul(Get(s3,0,0), float4x4(-0.008259518072009,-0.026103984564543,0.207929462194443,-0.249610513448715,0.022574597969651,0.240339085459709,0.154608517885208,0.129162579774857,0.031450394541025,-0.098695777356625,-0.010586027987301,-0.071271508932114,-0.137759238481522,0.011101763695478,-0.183251693844795,-0.389304101467133));
res += mul(Get(s3,0,dy), float4x4(0.190925449132919,-0.062216009944677,0.232569724321365,0.233641847968102,-0.073811024427414,0.066631436347961,-0.173636868596077,0.205244928598404,0.113263264298439,0.234279528260231,-0.140338033437729,0.063191801309586,-0.045235108584166,-0.009832375682890,-0.130496263504028,0.127863824367523));
res += mul(Get(s3,dx,-dy), float4x4(-0.189361870288849,-0.228941977024078,0.116218835115433,0.044148020446301,-0.012781517580152,-0.213946342468262,0.039588712155819,0.423637181520462,0.248330026865005,0.059593301266432,0.083658479154110,0.114084549248219,-0.066552408039570,0.025154424831271,-0.308862298727036,0.024071026593447));
res += mul(Get(s3,dx,0), float4x4(-0.085933797061443,-0.117812313139439,0.425496011972427,-0.044043749570847,0.108861930668354,-0.047061592340469,0.177348703145981,0.330635786056519,0.205093055963516,0.037183973938227,-0.016178321093321,0.218202069401741,-0.202944189310074,-0.028152329847217,-0.155937030911446,0.028082201257348));
res += mul(Get(s3,dx,dy), float4x4(-0.081940956413746,-0.106351621448994,-0.357693165540695,-0.115394935011864,0.038541566580534,0.006940741557628,-0.189109116792679,0.131432086229324,0.052863154560328,-0.132987841963768,-0.085705026984215,0.263057470321655,-0.053853273391724,-0.087710537016392,-0.130040138959885,0.246748030185699));
return max(float4(0,0,0,0), res);
}
