sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.162589177489281,-0.024381307885051,0.125598058104515,0.035387184470892,0.089921332895756,-0.105575591325760,-0.107882313430309,0.123952969908714,0.150644227862358,-0.047532703727484,0.035117954015732,-0.122512698173523,-0.001442602486350,-0.060439743101597,-0.034746460616589,0.212742388248444));
res += mul(Get(s0,-dx,0), float4x4(-0.005273005925119,-0.003389303805307,0.007740301545709,0.121041499078274,-0.026274232193828,0.143284097313881,0.058890637010336,0.189995750784874,-0.145268633961678,0.051206618547440,-0.045313026756048,0.180368930101395,-0.033548451960087,0.008638331666589,0.089838720858097,-0.046273503452539));
res += mul(Get(s0,-dx,dy), float4x4(-0.116078898310661,-0.069752916693687,-0.076282575726509,-0.062596805393696,-0.140109419822693,0.036886524409056,0.075688861310482,-0.107190817594528,-0.247651934623718,0.110387265682220,-0.017592715099454,-0.073866128921509,0.138196438550949,0.092115953564644,-0.091208435595036,-0.106876231729984));
res += mul(Get(s0,0,-dy), float4x4(-0.127775207161903,0.024021852761507,0.072743304073811,-0.209928035736084,0.037555936723948,-0.158136636018753,0.077550560235977,0.254771620035172,0.179474294185638,-0.025467259809375,-0.178908720612526,-0.115929603576660,0.048223398625851,0.013000194914639,-0.116613790392876,0.225350081920624));
res += mul(Get(s0,0,0), float4x4(-0.257723599672318,-0.075684562325478,0.125623136758804,-0.150542587041855,-0.013869781047106,-0.063289515674114,0.043782580643892,0.121097177267075,-0.006183726713061,-0.166523426771164,-0.012743737548590,-0.000080985650129,0.059300228953362,-0.054218668490648,-0.034052692353725,0.021998707205057));
res += mul(Get(s0,0,dy), float4x4(-0.052639141678810,-0.048008836805820,0.013026978820562,0.086815029382706,0.144925832748413,0.090557634830475,-0.067843616008759,-0.269446551799774,0.108069419860840,0.020910985767841,0.336394339799881,-0.183677360415459,0.089582271873951,-0.135299876332283,-0.057965066283941,-0.010887574404478));
res += mul(Get(s0,dx,-dy), float4x4(0.065335310995579,0.164133280515671,0.021013462916017,0.014530597254634,-0.121347583830357,-0.074119754135609,-0.292515009641647,0.080407701432705,0.006285105366260,0.140803337097168,0.031337659806013,0.083828791975975,0.073957785964012,0.043513961136341,0.017073798924685,-0.089936703443527));
res += mul(Get(s0,dx,0), float4x4(0.054545849561691,-0.040392816066742,-0.068124905228615,-0.016853546723723,-0.046729829162359,-0.005560975056142,-0.167475774884224,0.006228963378817,0.085030414164066,0.006027575116605,-0.024162298068404,0.084382630884647,0.218760833144188,0.117304794490337,-0.093917489051819,0.059330891817808));
res += mul(Get(s0,dx,dy), float4x4(-0.076966464519501,-0.095352374017239,0.106212183833122,-0.258740156888962,0.123107127845287,0.103673286736012,-0.251772105693817,0.013066385872662,0.015038466081023,-0.062572561204433,-0.050010018050671,0.033357031643391,-0.098758980631828,0.030222052708268,-0.235311806201935,0.010871540755033));
res += mul(Get(s1,-dx,-dy), float4x4(0.072949111461639,0.079960577189922,0.228822171688080,0.108482591807842,0.126700878143311,0.137292310595512,-0.233112305402756,0.094901010394096,0.187477141618729,-0.028119243681431,-0.073844425380230,0.007588285487145,-0.029594896361232,-0.117888495326042,-0.024794697761536,0.070982106029987));
res += mul(Get(s1,-dx,0), float4x4(0.121826291084290,0.112484432756901,-0.118475139141083,-0.089204922318459,-0.067749805748463,-0.027348781004548,0.166221335530281,-0.061154685914516,-0.107332229614258,-0.017165955156088,0.215201228857040,-0.189440459012985,0.183817788958549,-0.043178409337997,0.072274722158909,0.218100190162659));
res += mul(Get(s1,-dx,dy), float4x4(-0.139743313193321,-0.009046874009073,-0.155993014574051,-0.034597616642714,0.138735607266426,0.031991034746170,-0.248733311891556,0.075669713318348,-0.229578346014023,0.134679436683655,0.089864969253540,0.057496130466461,0.007123302202672,0.088059410452843,0.089548274874687,0.106257162988186));
res += mul(Get(s1,0,-dy), float4x4(-0.008027657866478,-0.109851732850075,0.029720561578870,0.115812122821808,0.089903838932514,0.149433046579361,0.060138728469610,-0.299019157886505,0.040935572236776,-0.108847275376320,-0.063307255506516,-0.153081014752388,-0.028666570782661,-0.062510877847672,-0.033144764602184,-0.183318853378296));
res += mul(Get(s1,0,0), float4x4(0.009200731292367,-0.144915983080864,0.121971286833286,0.123507864773273,-0.127379491925240,0.292996674776077,0.092700682580471,0.104517474770546,0.055510248988867,0.003555699251592,-0.061058871448040,-0.082089893519878,0.098472759127617,-0.030930163338780,0.072142235934734,-0.097518280148506));
res += mul(Get(s1,0,dy), float4x4(-0.046470124274492,-0.274320989847183,-0.155210420489311,-0.099638223648071,-0.241717979311943,-0.073844157159328,-0.171329274773598,0.070308566093445,-0.162268042564392,-0.320656120777130,0.106548681855202,-0.031406398862600,-0.086358524858952,0.043388921767473,0.025393757969141,-0.070562019944191));
res += mul(Get(s1,dx,-dy), float4x4(-0.091070532798767,0.026422666385770,-0.090154074132442,0.057864069938660,-0.180368572473526,-0.109598152339458,0.004625954199582,-0.061202045530081,0.158706009387970,-0.042449463158846,-0.138139203190804,-0.116130411624908,0.027294063940644,-0.138606682419777,0.117149807512760,-0.036570530384779));
res += mul(Get(s1,dx,0), float4x4(0.129131406545639,-0.125947788357735,-0.087430641055107,-0.011782822199166,0.030853308737278,0.000258798070718,-0.008815432898700,0.145948097109795,0.221504941582680,0.042389146983624,0.000449075858342,-0.069882348179817,0.029413228854537,-0.067425511777401,-0.006651350297034,0.094867587089539));
res += mul(Get(s1,dx,dy), float4x4(-0.041739817708731,-0.053280144929886,-0.151999548077583,0.146258860826492,0.045528627932072,-0.051571507006884,0.100973390042782,0.014800102449954,-0.013207094743848,-0.023952923715115,-0.046584535390139,-0.021123358979821,-0.169068187475204,-0.043751362711191,-0.117207460105419,0.036901123821735));
res += mul(Get(s2,-dx,-dy), float4x4(0.151476949453354,-0.047873724251986,-0.014402026310563,0.248448535799980,-0.064854227006435,0.035862874239683,0.137972712516785,0.325325280427933,0.122266620397568,-0.079637348651886,0.356050938367844,-0.071647398173809,0.049828838557005,-0.088368184864521,-0.256654292345047,0.142846852540970));
res += mul(Get(s2,-dx,0), float4x4(0.050587594509125,-0.069832295179367,0.091547526419163,-0.180664315819740,0.052141088992357,0.036566141992807,-0.146998673677444,0.018729358911514,0.113292410969734,0.009820696897805,0.015747727826238,-0.041765682399273,0.030484881252050,-0.084096394479275,0.124133512377739,0.047912210226059));
res += mul(Get(s2,-dx,dy), float4x4(0.057764515280724,-0.006081460975111,0.064559757709503,-0.113161675632000,0.151056423783302,-0.098557159304619,0.060623835772276,0.002125913742930,0.086316637694836,-0.091810479760170,0.181771963834763,0.283547997474670,-0.001607542973943,0.075519345700741,-0.169599443674088,-0.010644438676536));
res += mul(Get(s2,0,-dy), float4x4(0.044967580586672,0.105244100093842,0.073861986398697,-0.008213856257498,-0.038619216531515,0.027345795184374,0.128977745771408,0.046252902597189,-0.015187156386673,-0.022194970399141,0.059818346053362,0.092352181673050,0.209464922547340,-0.001552338944748,0.033417493104935,-0.119059085845947));
res += mul(Get(s2,0,0), float4x4(-0.125386208295822,-0.229569420218468,-0.055435292422771,-0.153433769941330,0.119603224098682,-0.075307749211788,-0.052617300301790,-0.018505459651351,0.170754566788673,-0.012100164778531,-0.026016904041171,0.019434623420238,0.056415528059006,0.000105981322122,0.062864772975445,0.131120979785919));
res += mul(Get(s2,0,dy), float4x4(0.093363985419273,-0.143545746803284,-0.022992223501205,-0.067623086273670,0.004774302709848,-0.046356230974197,0.049126289784908,-0.101890280842781,0.152122557163239,0.077528141438961,-0.175832882523537,-0.024916673079133,-0.080772668123245,0.062981285154819,0.014162070117891,0.068290531635284));
res += mul(Get(s2,dx,-dy), float4x4(-0.192817345261574,-0.017928799614310,0.056247632950544,-0.029850792139769,-0.087953157722950,0.049522131681442,0.075158335268497,-0.147534489631653,-0.052940655499697,-0.042503450065851,0.005542539525777,-0.017964212223887,-0.024378491565585,0.079946376383305,-0.054445642977953,-0.168637931346893));
res += mul(Get(s2,dx,0), float4x4(0.123794443905354,0.062839120626450,0.046275958418846,0.040204659104347,-0.159391537308693,-0.106426112353802,0.027812713757157,0.011946677230299,0.135885789990425,0.054182011634111,-0.163461670279503,0.152536883950233,-0.133972793817520,-0.065205261111259,-0.234439760446548,-0.064044669270515));
res += mul(Get(s2,dx,dy), float4x4(-0.090914152562618,0.031779419630766,0.033725205808878,0.043793573975563,-0.181423202157021,0.076371774077415,0.225303128361702,0.250852257013321,-0.095977373421192,-0.013028158806264,-0.041115984320641,-0.048840235918760,-0.105878680944443,-0.270332247018814,0.244922593235970,0.005908957216889));
res += mul(Get(s3,-dx,-dy), float4x4(-0.117884121835232,-0.178147152066231,0.133802115917206,-0.045993436127901,-0.330859184265137,-0.053206466138363,-0.086378507316113,0.155298784375191,0.036025512963533,-0.010331767611206,0.083765670657158,-0.073209576308727,-0.187452539801598,0.270097523927689,0.018893711268902,0.088172987103462));
res += mul(Get(s3,-dx,0), float4x4(0.157919138669968,-0.013599526137114,0.265564948320389,0.104353599250317,0.087467268109322,0.016072830185294,0.020772365853190,0.186976850032806,0.102623380720615,0.091194972395897,-0.254955649375916,-0.067190453410149,-0.071757555007935,0.054191175848246,0.114820122718811,0.017858307808638));
res += mul(Get(s3,-dx,dy), float4x4(-0.166600942611694,-0.149072051048279,-0.246382504701614,0.077985689043999,-0.108422823250294,-0.200762063264847,-0.087695300579071,0.000823573849630,-0.069662354886532,-0.074192218482494,-0.107540510594845,-0.013925916515291,0.253009676933289,-0.113111384212971,0.111384592950344,0.084444478154182));
res += mul(Get(s3,0,-dy), float4x4(0.018192451447248,-0.219594895839691,0.196878105401993,0.201631963253021,0.304420828819275,-0.211348772048950,0.090062908828259,-0.064374126493931,-0.024189623072743,-0.164779081940651,-0.059843175113201,-0.040628533810377,0.029773322865367,0.145939514040947,-0.045500136911869,0.239597842097282));
res += mul(Get(s3,0,0), float4x4(-0.035090930759907,-0.169936090707779,0.144619271159172,-0.031595367938280,-0.050443995743990,-0.015979876741767,0.066321201622486,-0.009879681281745,-0.025805855169892,-0.018941983580589,0.108760803937912,-0.132835075259209,-0.037750340998173,0.181094676256180,-0.015556572936475,0.098755925893784));
res += mul(Get(s3,0,dy), float4x4(0.057597924023867,-0.093388102948666,0.059752188622952,-0.043946482241154,0.024759629741311,0.114970371127129,0.131243988871574,0.098963528871536,-0.035129595547915,0.031981553882360,0.178457319736481,0.126234903931618,0.047987040132284,0.026174945756793,-0.236567676067352,0.124705418944359));
res += mul(Get(s3,dx,-dy), float4x4(-0.030969090759754,0.344827413558960,0.234388262033463,-0.028770422562957,0.069223679602146,0.097909897565842,0.099497944116592,0.049664814025164,-0.029597358778119,-0.029329281300306,0.198159873485565,0.326926678419113,0.035763632506132,-0.218602731823921,0.077950522303581,0.121217101812363));
res += mul(Get(s3,dx,0), float4x4(0.039013467729092,0.124885290861130,0.116697646677494,-0.130628645420074,-0.198587998747826,-0.082283943891525,-0.124025441706181,-0.194657176733017,-0.243069529533386,-0.054658800363541,-0.235857248306274,0.134947374463081,-0.001894816407003,-0.122113049030304,0.199092969298363,0.103001691401005));
res += mul(Get(s3,dx,dy), float4x4(0.193794384598732,0.040170885622501,0.107680790126324,0.196158677339554,0.006437927950174,-0.110323011875153,-0.102948822081089,-0.102546192705631,0.038010623306036,-0.072586908936501,-0.054043125361204,0.266481101512909,-0.019885858520865,0.233347207307816,0.011339958757162,0.073732674121857));
return max(float4(0,0,0,0), res);
}
