sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.060840230435133,-0.025117589160800,0.110292315483093,-0.055670328438282,-0.036562528461218,0.083328492939472,0.058061111718416,0.105394497513771,-0.196067169308662,-0.120384082198143,0.136833056807518,-0.041787710040808,-0.061366438865662,-0.094394184648991,0.014254949986935,-0.179157748818398));
res += mul(Get(s0,-dx,0), float4x4(-0.015754505991936,-0.137129232287407,-0.029322559013963,0.170851394534111,0.165505811572075,-0.085268177092075,0.290930390357971,0.082542173564434,-0.130723401904106,0.076852142810822,0.050767779350281,-0.085546419024467,-0.064263314008713,-0.118747524917126,0.033393826335669,-0.083403654396534));
res += mul(Get(s0,-dx,dy), float4x4(0.094817355275154,-0.068766877055168,0.065890066325665,-0.142592683434486,-0.007090477738529,-0.099394157528877,-0.044769305735826,0.038091201335192,-0.091641917824745,-0.039070602506399,0.102351263165474,-0.052285425364971,-0.044215884059668,0.034289084374905,0.254594892263412,0.074743390083313));
res += mul(Get(s0,0,-dy), float4x4(0.114883005619049,-0.150471732020378,0.002201265189797,0.126161158084869,-0.125330254435539,0.053753741085529,-0.267207652330399,-0.033247295767069,0.049750696867704,-0.005713262595236,-0.132655277848244,0.064526684582233,0.006296135485172,-0.187030211091042,0.015753585845232,0.221553832292557));
res += mul(Get(s0,0,0), float4x4(0.060362946242094,0.044352952390909,0.199128463864326,0.161809474229813,-0.085917018353939,-0.037020299583673,0.197307258844376,-0.032731331884861,-0.040327142924070,0.293579965829849,-0.006572852376848,0.079666979610920,-0.121808998286724,-0.055609401315451,-0.033854432404041,-0.130810171365738));
res += mul(Get(s0,0,dy), float4x4(-0.009054975584149,-0.061747364699841,-0.016718396916986,0.145772844552994,0.161143943667412,0.068426549434662,-0.098306082189083,0.123917669057846,0.098567947745323,0.085951432585716,0.175376445055008,0.019941719248891,0.118358306586742,-0.097432956099510,-0.064235955476761,0.042322866618633));
res += mul(Get(s0,dx,-dy), float4x4(-0.092198505997658,-0.093165911734104,-0.029908204451203,0.079451374709606,-0.004868639167398,-0.083914354443550,-0.009131756611168,-0.097108311951160,0.003003063844517,0.065349429845810,0.086570508778095,-0.003068145131692,-0.050619922578335,0.013501464389265,-0.105614326894283,-0.130197495222092));
res += mul(Get(s0,dx,0), float4x4(0.001252475660294,-0.284614771604538,-0.164037168025970,-0.019265951588750,0.115728788077831,0.029881693422794,0.029352799057961,-0.054985042661428,0.268081784248352,0.077403552830219,0.230217620730400,-0.079336024820805,0.000599095772486,-0.036512032151222,-0.100925080478191,-0.026174381375313));
res += mul(Get(s0,dx,dy), float4x4(-0.017633009701967,-0.029547074809670,0.226992890238762,0.085559308528900,0.022740896791220,-0.012256827205420,0.233505100011826,-0.031947400420904,-0.072302542626858,0.003908501937985,-0.213765054941177,0.054903399199247,-0.128612950444221,-0.130423396825790,-0.177837163209915,0.075012922286987));
res += mul(Get(s1,-dx,-dy), float4x4(-0.031324550509453,0.102106362581253,0.096098177134991,0.119373194873333,-0.007855503819883,-0.082655169069767,-0.093516185879707,-0.123616993427277,-0.068582020699978,0.106549859046936,-0.079612173140049,-0.023423379287124,-0.151940613985062,0.137879773974419,0.062689803540707,0.001974326092750));
res += mul(Get(s1,-dx,0), float4x4(-0.101488731801510,0.136794447898865,0.063966251909733,-0.015404450707138,-0.007218813523650,-0.192498371005058,0.046145629137754,-0.073825277388096,-0.068905539810658,0.108210079371929,0.121213279664516,-0.147518217563629,-0.125084847211838,0.053161609917879,0.002248704433441,0.055076923221350));
res += mul(Get(s1,-dx,dy), float4x4(-0.000109591535875,-0.125810578465462,-0.025699034333229,-0.069268040359020,0.129436373710632,0.042387574911118,0.256065338850021,-0.069346137344837,0.132990792393684,0.009747161529958,0.056392714381218,-0.036875803023577,-0.003403963753954,-0.182889059185982,-0.120367050170898,-0.186245933175087));
res += mul(Get(s1,0,-dy), float4x4(0.123922698199749,-0.053891636431217,-0.087389245629311,-0.052042838186026,0.004878441803157,0.123909153044224,-0.008855058811605,-0.157431453466415,-0.125008434057236,-0.012368205003440,-0.075491666793823,0.150297835469246,-0.212058633565903,0.083026953041553,0.255967706441879,0.037646967917681));
res += mul(Get(s1,0,0), float4x4(-0.086127892136574,0.239095628261566,0.029502078890800,0.031165180727839,0.301238536834717,-0.072513185441494,0.085528567433357,-0.054770570248365,0.081033147871494,0.038216564804316,-0.087277717888355,0.175767406821251,0.092189349234104,-0.018918219953775,-0.010754292830825,-0.024055518209934));
res += mul(Get(s1,0,dy), float4x4(0.132844567298889,-0.101352117955685,-0.018463335931301,0.041617464274168,0.155423566699028,-0.014780706726015,0.003043883247301,0.103491216897964,-0.124982133507729,0.217151597142220,-0.134712204337120,0.041062202304602,-0.047275874763727,-0.204587772488594,-0.298774749040604,-0.091971077024937));
res += mul(Get(s1,dx,-dy), float4x4(-0.031918331980705,-0.118388235569000,0.167558118700981,0.062758170068264,0.043172229081392,-0.015831228345633,0.015867481008172,-0.051080714911222,-0.024390293285251,0.002088096225634,-0.129755571484566,0.023581843823195,-0.097988761961460,0.067165464162827,0.289757013320923,-0.113745898008347));
res += mul(Get(s1,dx,0), float4x4(-0.130235970020294,-0.079944476485252,0.074190624058247,-0.193602517247200,0.085639223456383,-0.123126305639744,0.008449861779809,0.045686110854149,0.095525287091732,-0.100127801299095,0.056180197745562,0.029444444924593,0.412755727767944,0.046499326825142,0.081675209105015,-0.211258038878441));
res += mul(Get(s1,dx,dy), float4x4(-0.050851993262768,-0.027070600539446,0.197704195976257,-0.033920332789421,-0.134239181876183,0.061407413333654,-0.122586302459240,-0.004211956635118,0.043224979192019,0.125379145145416,0.013639575801790,-0.019989220425487,-0.056975353509188,-0.082655161619186,-0.049933843314648,0.079497382044792));
res += mul(Get(s2,-dx,-dy), float4x4(-0.047193732112646,0.136803582310677,0.035368259996176,0.048977766185999,-0.209742531180382,-0.074042372405529,-0.180198848247528,-0.015293277800083,0.034308116883039,-0.244395285844803,0.096124030649662,-0.147738099098206,0.021161137148738,0.081620074808598,0.067878983914852,-0.013406380079687));
res += mul(Get(s2,-dx,0), float4x4(0.053283959627151,-0.043233793228865,0.154339060187340,-0.041211582720280,0.126729086041451,-0.161913231015205,-0.169980093836784,-0.046085774898529,0.015824982896447,-0.056667331606150,-0.000158095717779,0.022713791579008,0.130850464105606,0.068422295153141,-0.069375000894070,-0.029633555561304));
res += mul(Get(s2,-dx,dy), float4x4(-0.165406078100204,-0.082673400640488,-0.037056617438793,0.036746192723513,-0.086731508374214,-0.142265364527702,-0.225468546152115,0.072461917996407,-0.287310481071472,0.017663985490799,-0.078429959714413,-0.048639163374901,0.075384765863419,0.028176380321383,-0.106136240065098,-0.116553425788879));
res += mul(Get(s2,0,-dy), float4x4(0.209506705403328,-0.028486276045442,0.224923014640808,-0.047328453511000,-0.217554137110710,-0.035260282456875,-0.036951731890440,-0.040073383599520,0.062149748206139,-0.051903545856476,-0.061104591935873,0.009882700629532,-0.008112983778119,0.075560010969639,0.143249064683914,-0.025932438671589));
res += mul(Get(s2,0,0), float4x4(-0.203634634613991,-0.215820163488388,-0.054290421307087,-0.056708764284849,-0.126041322946548,0.120780430734158,-0.052867755293846,0.057229131460190,0.043986979871988,-0.048598278313875,0.249077573418617,0.145623221993446,0.081829823553562,-0.196298778057098,-0.089820407330990,-0.023743093013763));
res += mul(Get(s2,0,dy), float4x4(-0.004134638700634,0.054487992078066,0.165797322988510,-0.061189286410809,-0.276126742362976,-0.232813090085983,0.053311266005039,-0.217253163456917,-0.026582598686218,-0.013601779937744,-0.059082698076963,0.022028472274542,0.122501052916050,0.024164659902453,-0.221939072012901,-0.115353487432003));
res += mul(Get(s2,dx,-dy), float4x4(-0.000077391887316,-0.009179431013763,0.190392121672630,-0.188777953386307,-0.059946410357952,0.017299484461546,-0.115902006626129,-0.215659782290459,-0.169602364301682,0.148192390799522,0.022085249423981,0.041789408773184,-0.037933733314276,0.069710507988930,0.010835549794137,0.076420582830906));
res += mul(Get(s2,dx,0), float4x4(0.055206499993801,-0.133488714694977,0.252896785736084,-0.027188828215003,0.120746314525604,-0.038387961685658,0.106580026447773,0.102266497910023,0.005815210286528,-0.050735943019390,0.004129160195589,-0.027319829910994,0.056558024138212,0.108512625098228,0.048121418803930,0.009437613189220));
res += mul(Get(s2,dx,dy), float4x4(-0.130270957946777,0.076207898557186,0.153260841965675,-0.001088225515559,0.020036254078150,-0.169384181499481,-0.163897469639778,-0.138382166624069,0.229097768664360,0.051522862166166,-0.034789543598890,0.051292330026627,-0.011392276734114,-0.013998686335981,0.189689353108406,0.057684049010277));
res += mul(Get(s3,-dx,-dy), float4x4(0.032890304923058,-0.025738814845681,-0.085252791643143,0.171251282095909,-0.028797334060073,-0.018138268962502,-0.120231501758099,-0.093476228415966,-0.117612175643444,0.224997222423553,-0.061928864568472,0.144020825624466,-0.191257357597351,0.205692052841187,-0.063037462532520,0.063144832849503));
res += mul(Get(s3,-dx,0), float4x4(-0.046423859894276,-0.042002741247416,-0.010333234444261,-0.178508907556534,0.125037923455238,0.022964421659708,-0.143672868609428,-0.030697435140610,-0.116713628172874,0.093706429004669,0.008952369913459,-0.081396147608757,0.226088047027588,-0.135311067104340,0.007079118862748,0.185088112950325));
res += mul(Get(s3,-dx,dy), float4x4(0.143373489379883,0.116487137973309,0.285362422466278,0.036407753825188,-0.109869487583637,-0.115459099411964,-0.082163333892822,0.071676097810268,0.175548940896988,0.134953007102013,-0.158147022128105,-0.072476089000702,0.192009061574936,-0.134007766842842,0.080430388450623,0.072254486382008));
res += mul(Get(s3,0,-dy), float4x4(-0.139842122793198,0.149132937192917,-0.097634613513947,-0.035172309726477,-0.010429855436087,-0.237656533718109,-0.140088170766830,-0.055464264005423,0.196965351700783,0.106623686850071,0.092325761914253,0.027687830850482,0.018783871084452,0.010519240982831,-0.063468970358372,-0.079210117459297));
res += mul(Get(s3,0,0), float4x4(-0.164947196841240,-0.053493857383728,0.013043095357716,-0.129058614373207,0.203167483210564,-0.046366099268198,-0.002899097977206,0.100615285336971,0.214604899287224,0.030175922438502,-0.002485838951543,-0.072832405567169,-0.009220972657204,-0.040670912712812,-0.242393001914024,0.129219874739647));
res += mul(Get(s3,0,dy), float4x4(-0.119778700172901,-0.139569371938705,0.081002816557884,0.054769389331341,0.057314358651638,0.161000654101372,-0.031441122293472,0.062165379524231,0.137630537152290,0.087541453540325,0.013468038290739,0.051633004099131,0.093086034059525,-0.046853635460138,0.055701762437820,-0.205486834049225));
res += mul(Get(s3,dx,-dy), float4x4(-0.110435724258423,0.010068681091070,-0.033254161477089,-0.101178467273712,-0.012455860152841,0.045077033340931,0.080037742853165,0.066738396883011,0.368695408105850,0.120226480066776,-0.038548022508621,0.138562992215157,0.259422421455383,-0.120086096227169,-0.029008954763412,-0.107100576162338));
res += mul(Get(s3,dx,0), float4x4(-0.024418096989393,0.106025740504265,0.037684738636017,-0.105533555150032,0.122883141040802,-0.119879610836506,-0.008388030342758,0.026016954332590,-0.112875446677208,0.005299001466483,-0.108599506318569,0.091175518929958,-0.176211476325989,0.095289796590805,-0.122432440519333,0.014790266752243));
res += mul(Get(s3,dx,dy), float4x4(-0.121721148490906,-0.024836275726557,0.030924065038562,0.066084578633308,0.155296117067337,0.015071503818035,-0.021369762718678,0.010362498462200,-0.005331109277904,-0.038798812776804,0.032537780702114,0.063555188477039,-0.254716962575912,-0.001417518244125,0.046632781624794,0.018215181306005));
return max(float4(0,0,0,0), res);
}
