sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.108719520270824,0.090821839869022,0.092137917876244,0.287878155708313,-0.201627522706985,-0.055534124374390,-0.051261231303215,-0.237477615475655,0.022025488317013,-0.422966659069061,0.173792988061905,0.079490266740322,-0.014034487307072,-0.075493767857552,0.131530553102493,-0.046065885573626));
res += mul(Get(s0,-dx,0), float4x4(-0.161471471190453,-0.164120972156525,-0.119622901082039,-0.037621565163136,-0.054354213178158,-0.078321516513824,0.065720938146114,-0.075736068189144,0.024902051314712,0.024433564394712,0.084529682993889,-0.021733826026320,0.014857525937259,-0.009877540171146,0.238892972469330,-0.093945994973183));
res += mul(Get(s0,-dx,dy), float4x4(-0.053398501127958,0.101202927529812,-0.028174834325910,-0.104689374566078,0.015028080902994,-0.016985189169645,0.045950017869473,0.082560792565346,-0.016710976138711,0.147098302841187,0.246728062629700,0.438087224960327,0.011043883860111,0.051813814789057,0.074375174939632,0.093875221908092));
res += mul(Get(s0,0,-dy), float4x4(-0.037225741893053,0.064162641763687,0.116283461451530,-0.028521822765470,-0.032576486468315,-0.092840641736984,-0.082293644547462,-0.103142440319061,0.297870159149170,0.197307020425797,0.053662713617086,-0.094560980796814,0.066493287682533,-0.073141060769558,-0.121133230626583,0.134434431791306));
res += mul(Get(s0,0,0), float4x4(-0.040006332099438,-0.012826172634959,0.162422165274620,-0.049225691705942,-0.094200372695923,0.089082874357700,0.052512403577566,-0.095659978687763,0.017975419759750,-0.170480728149414,0.041307833045721,0.015704862773418,-0.008901350200176,-0.140923932194710,0.023926114663482,0.028994757682085));
res += mul(Get(s0,0,dy), float4x4(0.031931564211845,-0.150983646512032,0.097009658813477,-0.132356092333794,0.018697921186686,0.084802374243736,-0.063246712088585,-0.107681833207607,-0.117305174469948,0.161505997180939,-0.098629191517830,-0.023537710309029,-0.126822009682655,-0.094049267470837,0.073394872248173,0.406781286001205));
res += mul(Get(s0,dx,-dy), float4x4(-0.121251679956913,-0.142953127622604,-0.030803738161922,0.033906091004610,-0.261453896760941,-0.155415162444115,-0.283338069915771,-0.138586983084679,0.299263626337051,0.115803644061089,-0.167251214385033,-0.176455572247505,-0.111542843282223,0.097132474184036,0.009372872300446,0.020554922521114));
res += mul(Get(s0,dx,0), float4x4(-0.217204228043556,-0.040710896253586,-0.069893099367619,0.087746150791645,-0.152860283851624,-0.123717710375786,-0.207687348127365,0.218103453516960,0.000004916766102,-0.051623817533255,-0.120942637324333,0.006995250005275,0.018135245889425,0.138835638761520,-0.045505911111832,-0.141444578766823));
res += mul(Get(s0,dx,dy), float4x4(0.020736927166581,-0.128802105784416,-0.157376885414124,0.014723133295774,0.209520757198334,-0.153027415275574,-0.181247860193253,0.018316807225347,-0.050230409950018,-0.061332695186138,-0.152560740709305,-0.027542717754841,0.034184355288744,-0.083169512450695,-0.033622123301029,-0.093167938292027));
res += mul(Get(s1,-dx,-dy), float4x4(-0.179872348904610,-0.098677016794682,-0.102799765765667,-0.229887694120407,-0.156100943684578,-0.102666713297367,-0.172921285033226,0.236568927764893,-0.163033142685890,0.434176087379456,0.004148271400481,-0.075029537081718,-0.057345718145370,-0.108193166553974,0.113483004271984,0.153626814484596));
res += mul(Get(s1,-dx,0), float4x4(-0.173413917422295,-0.017356552183628,-0.131722584366798,-0.256313115358353,0.153089538216591,-0.137674421072006,0.085047379136086,-0.038013778626919,0.061336379498243,0.000896200886928,0.073437653481960,-0.046529639512300,-0.137560069561005,-0.007919820025563,0.033084917813540,0.302871704101563));
res += mul(Get(s1,-dx,dy), float4x4(-0.154745206236839,-0.186180621385574,-0.185680717229843,-0.225462496280670,0.170209139585495,0.066651739180088,0.270058006048203,-0.045261364430189,0.285884261131287,0.052275162190199,0.117875233292580,0.057788282632828,0.058698136359453,-0.028661703690886,0.012088327668607,0.139098688960075));
res += mul(Get(s1,0,-dy), float4x4(-0.077008277177811,-0.066302090883255,-0.043526843190193,-0.100047908723354,0.059274975210428,-0.086910896003246,0.065051779150963,0.075651936233044,0.066151417791843,0.017487222328782,0.047670140862465,-0.000615734199528,-0.161911040544510,-0.226636454463005,-0.161362364888191,-0.030603950843215));
res += mul(Get(s1,0,0), float4x4(-0.111628673970699,-0.138888493180275,-0.057784724980593,-0.111805580556393,0.044723812490702,-0.107135504484177,0.199355974793434,-0.017544711008668,0.066764801740646,0.209498181939125,-0.031238470226526,0.167330890893936,0.083826497197151,-0.079913161695004,0.263973295688629,-0.055568713694811));
res += mul(Get(s1,0,dy), float4x4(-0.154831111431122,-0.172385573387146,0.075343474745750,-0.065032713115215,0.016629161313176,0.052532348781824,-0.061829488724470,-0.161989599466324,0.104144699871540,0.148077026009560,-0.004915222525597,0.058505840599537,0.036006882786751,0.090802393853664,-0.163798317313194,0.179696753621101));
res += mul(Get(s1,dx,-dy), float4x4(-0.070359416306019,-0.161203488707542,0.098028525710106,0.085772216320038,-0.140501424670219,-0.044027630239725,-0.124674439430237,0.077462442219257,-0.091959387063980,-0.013176578097045,0.044518712908030,0.032060310244560,-0.017420915886760,-0.055389873683453,-0.250113040208817,0.065209195017815));
res += mul(Get(s1,dx,0), float4x4(-0.178906545042992,-0.227917730808258,0.077051423490047,-0.025719791650772,0.058588922023773,-0.099067807197571,-0.152072966098785,0.002286675386131,0.011357622221112,0.060733038932085,0.135056957602501,0.218008801341057,-0.093289896845818,-0.025935724377632,0.418766677379608,-0.063685826957226));
res += mul(Get(s1,dx,dy), float4x4(-0.058329351246357,-0.212243840098381,-0.126800581812859,-0.086830101907253,-0.045796584337950,0.052282281219959,-0.040881156921387,-0.062449909746647,0.022267226129770,-0.117417193949223,0.041344735771418,0.001552920904942,0.071919038891792,0.312254190444946,-0.096569627523422,0.088217936456203));
res += mul(Get(s2,-dx,-dy), float4x4(0.431238681077957,0.157807722687721,-0.034596998244524,-0.065443001687527,-0.006268588826060,-0.216173321008682,-0.038089483976364,-0.150025874376297,-0.147053346037865,0.022422883659601,-0.134947955608368,0.009283482097089,-0.067870311439037,-0.104344837367535,0.047213613986969,0.133150026202202));
res += mul(Get(s2,-dx,0), float4x4(0.164899602532387,0.330432236194611,0.160724818706512,0.099753290414810,0.090646594762802,-0.011814209632576,-0.095819100737572,-0.132319822907448,-0.262783050537109,0.000788622710388,-0.077511750161648,-0.125612765550613,-0.116037279367447,-0.180488675832748,-0.010644356720150,-0.064026638865471));
res += mul(Get(s2,-dx,dy), float4x4(-0.034810490906239,-0.078646957874298,0.022883379831910,-0.062536463141441,0.003151774872094,0.014040989801288,-0.226741388440132,-0.088010229170322,-0.039638601243496,-0.054590377956629,-0.025691239163280,-0.154770255088806,0.191700175404549,-0.084779180586338,0.327112555503845,-0.132812902331352));
res += mul(Get(s2,0,-dy), float4x4(-0.098351724445820,0.123303726315498,-0.015549998730421,0.052703503519297,0.148114964365959,0.076793730258942,-0.044709134846926,0.017420984804630,-0.061718970537186,-0.068880297243595,-0.076073162257671,-0.075037077069283,-0.148931220173836,-0.255585223436356,0.106037788093090,0.219839826226234));
res += mul(Get(s2,0,0), float4x4(0.100326448678970,0.130064055323601,-0.091478079557419,0.039617002010345,0.119637444615364,0.293020576238632,0.123337909579277,0.156644463539124,-0.028761038556695,-0.049803797155619,-0.053403303027153,-0.064191982150078,-0.123668320477009,-0.149726882576942,-0.039876062422991,-0.055484935641289));
res += mul(Get(s2,0,dy), float4x4(-0.094359032809734,-0.217079937458038,0.054675340652466,0.065152585506439,0.034903615713120,0.270936906337738,-0.080622538924217,-0.012028376571834,-0.035593356937170,-0.035169161856174,-0.153140604496002,-0.117629058659077,0.101878449320793,-0.035640973597765,-0.334782630205154,0.023333981633186));
res += mul(Get(s2,dx,-dy), float4x4(-0.072871401906013,-0.207081988453865,-0.119645848870277,0.174867764115334,0.086379513144493,0.062175840139389,-0.273844271898270,-0.050183091312647,0.032824378460646,0.061498545110226,-0.141788467764854,0.090552181005478,-0.070388101041317,0.073440745472908,0.014015723019838,0.122291952371597));
res += mul(Get(s2,dx,0), float4x4(-0.334970355033875,-0.029252020642161,-0.112531684339046,0.029682694002986,-0.104429170489311,-0.029694302007556,0.017699530348182,0.089742071926594,-0.032610587775707,-0.097062274813652,0.018000990152359,-0.019937787204981,0.314105778932571,0.295789033174515,-0.143127888441086,-0.109141975641251));
res += mul(Get(s2,dx,dy), float4x4(-0.328302413225174,-0.197648853063583,-0.130334913730621,0.040452007204294,-0.110970027744770,-0.134268909692764,0.029689909890294,-0.065206043422222,0.009952079504728,-0.018277617171407,-0.003631613682956,0.003080965485424,0.406626522541046,0.096494615077972,-0.017453636974096,0.063865289092064));
res += mul(Get(s3,-dx,-dy), float4x4(-0.206494733691216,0.113651044666767,-0.074007697403431,0.051324691623449,-0.037861455231905,0.062254671007395,-0.061857298016548,0.019150996580720,0.139809578657150,0.216201946139336,-0.224809229373932,-0.174218624830246,-0.039197638630867,0.058014012873173,-0.039548434317112,-0.165830522775650));
res += mul(Get(s3,-dx,0), float4x4(-0.006420757155865,-0.031838525086641,-0.042318042367697,-0.028145346790552,-0.079129748046398,-0.124388352036476,-0.262490510940552,0.056733522564173,-0.048892404884100,0.048579163849354,-0.035007506608963,0.121278882026672,-0.074556648731232,-0.031442470848560,-0.106261007487774,-0.147312387824059));
res += mul(Get(s3,-dx,dy), float4x4(-0.030060999095440,0.039005111902952,0.281547635793686,0.258960813283920,-0.085292406380177,0.142468467354774,-0.089021570980549,0.284667372703552,-0.176833376288414,0.226839616894722,-0.147472068667412,0.024253582581878,-0.092065319418907,-0.109891183674335,0.106449238955975,-0.090305238962173));
res += mul(Get(s3,0,-dy), float4x4(-0.145221740007401,0.098681628704071,0.051761422306299,-0.149047002196312,0.010862695984542,0.025400534272194,0.051819272339344,0.050820168107748,0.034066937863827,-0.037617422640324,0.338342964649200,-0.119604520499706,-0.136235803365707,-0.088944703340530,0.013946137391031,-0.035634573549032));
res += mul(Get(s3,0,0), float4x4(0.046557091176510,0.086533464491367,0.185665652155876,-0.087305910885334,-0.141153752803802,0.008794711902738,0.190051332116127,0.064757108688354,-0.125440523028374,-0.048239495605230,-0.074709601700306,0.183259412646294,-0.110686846077442,-0.161840721964836,-0.129526048898697,-0.030631683766842));
res += mul(Get(s3,0,dy), float4x4(0.078355006873608,-0.066846348345280,0.166732698678970,0.218109771609306,0.098109297454357,0.175474464893341,0.646203398704529,0.049519717693329,-0.084418959915638,0.151966169476509,-0.018761618062854,-0.162717267870903,-0.146563410758972,-0.098806791007519,-0.091707110404968,-0.048315156251192));
res += mul(Get(s3,dx,-dy), float4x4(-0.086013622581959,0.077215947210789,-0.082084640860558,-0.144123226404190,0.122789539396763,0.095932930707932,-0.193163305521011,-0.097341746091843,0.075861297547817,-0.155952021479607,-0.031232222914696,0.059866163879633,-0.069559022784233,-0.061089262366295,-0.096892282366753,-0.139755770564079));
res += mul(Get(s3,dx,0), float4x4(-0.102933973073959,-0.174962818622589,-0.192967727780342,-0.111817717552185,-0.006460672244430,0.200498044490814,-0.058392636477947,-0.143825262784958,-0.158254832029343,-0.073335245251656,0.203510686755180,0.097659885883331,-0.086099728941917,-0.170847088098526,-0.096695981919765,-0.106365486979485));
res += mul(Get(s3,dx,dy), float4x4(0.609638392925262,-0.298311799764633,0.127377077937126,0.092984251677990,0.001794056501240,0.192896842956543,-0.298036873340607,-0.024089915677905,-0.157235428690910,-0.050176911056042,0.008444441482425,0.213271766901016,-0.126460611820221,-0.175458371639252,-0.264239937067032,-0.116208001971245));
return max(float4(0,0,0,0), res);
}
