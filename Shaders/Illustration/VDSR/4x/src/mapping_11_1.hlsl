sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.161832243204117,-0.171942532062531,-0.143419384956360,-0.269641816616058,0.057711500674486,-0.000281188229565,0.150854513049126,-0.035919893532991,0.140685111284256,-0.013177648186684,0.270814388990402,-0.136755138635635,-0.038177575916052,-0.081458993256092,0.053241904824972,0.069633513689041));
res += mul(Get(s0,-dx,0), float4x4(0.282116442918777,0.011717488989234,-0.126980900764465,0.065195158123970,0.176172465085983,0.007190786767751,-0.142250090837479,0.212862029671669,-0.334646046161652,0.056834593415260,0.015238373540342,-0.015603507868946,0.010130186565220,0.042724780738354,0.021222177892923,0.171210467815399));
res += mul(Get(s0,-dx,dy), float4x4(0.022295679897070,0.051479861140251,-0.130885839462280,-0.153505504131317,0.030155843123794,0.036151785403490,-0.077303901314735,-0.020310616120696,0.210539340972900,-0.276561558246613,-0.232058256864548,-0.041011262685061,0.035169471055269,-0.042095165699720,-0.042632941156626,0.060821812599897));
res += mul(Get(s0,0,-dy), float4x4(-0.051119528710842,0.113431021571159,0.037569984793663,0.106211990118027,-0.016440967097878,-0.049133639782667,-0.032298468053341,-0.033725034445524,-0.241418972611427,0.013027254492044,0.031361095607281,-0.118947446346283,-0.149621248245239,0.150912016630173,-0.208817109465599,0.087872207164764));
res += mul(Get(s0,0,0), float4x4(0.156111866235733,-0.128246754407883,0.065341584384441,-0.124339267611504,0.116255581378937,0.025381319224834,-0.096373580396175,-0.036966428160667,-0.002995790913701,0.195686355233192,-0.059869550168514,0.029941756278276,0.093345984816551,-0.205110326409340,0.006692710798234,0.127677038311958));
res += mul(Get(s0,0,dy), float4x4(0.044821761548519,-0.157835379242897,-0.084461979568005,-0.145483925938606,-0.051490813493729,0.030561894178391,-0.069475211203098,-0.112822987139225,-0.065526559948921,0.048558332026005,0.216131672263145,0.007678686641157,0.218720808625221,-0.017341978847980,-0.115086555480957,0.129638656973839));
res += mul(Get(s0,dx,-dy), float4x4(0.057849228382111,-0.068838268518448,-0.029824007302523,-0.016420431435108,0.088912405073643,0.039436124265194,0.101252257823944,0.114038079977036,0.029254822060466,0.024168413132429,0.172864750027657,0.010274207219481,-0.172986984252930,0.065749794244766,0.025186762213707,-0.175435140728951));
res += mul(Get(s0,dx,0), float4x4(-0.010222902521491,-0.202647566795349,-0.028934752568603,0.203654929995537,-0.040201961994171,-0.020033597946167,-0.034630332142115,-0.004428837448359,-0.069322213530540,0.004149324260652,-0.061533719301224,-0.040758863091469,-0.042139925062656,0.072785980999470,-0.042727373540401,-0.111216381192207));
res += mul(Get(s0,dx,dy), float4x4(-0.168815985321999,-0.286735385656357,-0.158821776509285,-0.083798125386238,0.055388435721397,-0.075301215052605,0.046471975743771,0.131999358534813,0.148062556982040,-0.009865236468613,0.006364272907376,0.052978146821260,-0.037088498473167,0.056371461600065,-0.318393945693970,0.208267524838448));
res += mul(Get(s1,-dx,-dy), float4x4(0.016539707779884,-0.055477220565081,0.172968164086342,0.016863873228431,0.059207033365965,-0.060149304568768,0.095966622233391,0.130099698901176,-0.084606789052486,0.100278310477734,0.163554638624191,0.082465089857578,-0.054268077015877,-0.011141799390316,-0.163574367761612,-0.051042534410954));
res += mul(Get(s1,-dx,0), float4x4(0.096400327980518,-0.014163399115205,0.045606754720211,-0.172143623232841,0.097623191773891,0.335260897874832,-0.006243039388210,-0.051440246403217,-0.041004877537489,-0.122333474457264,-0.097226247191429,0.011925484985113,-0.025593746453524,0.025672152638435,0.093886956572533,0.013709899969399));
res += mul(Get(s1,-dx,dy), float4x4(-0.073623426258564,-0.170335978269577,-0.099920175969601,-0.067148223519325,-0.124344699084759,0.045023009181023,0.353840231895447,-0.103304378688335,0.040703259408474,0.204337090253830,-0.144109413027763,0.066740289330482,0.135390624403954,0.068291403353214,-0.050658803433180,0.170251786708832));
res += mul(Get(s1,0,-dy), float4x4(-0.168570756912231,0.074461303651333,0.045630834996700,0.072880953550339,0.030233219265938,0.044842254370451,-0.068486161530018,0.028202261775732,0.047542162239552,0.150448039174080,-0.108816415071487,0.124708548188210,-0.152389407157898,-0.096814431250095,-0.040160816162825,0.019605746492743));
res += mul(Get(s1,0,0), float4x4(-0.013162711635232,-0.034920088946819,-0.204200014472008,-0.102834612131119,0.254120618104935,-0.224532067775726,0.027936452999711,-0.229926452040672,-0.019220169633627,-0.022662125527859,-0.040438648313284,-0.039552625268698,0.064924098551273,0.013785544782877,-0.077262878417969,-0.132656037807465));
res += mul(Get(s1,0,dy), float4x4(-0.038137886673212,-0.222646430134773,0.072058744728565,0.038488373160362,-0.200193569064140,0.088282115757465,0.095227055251598,-0.104111835360527,-0.128495961427689,0.065782524645329,-0.140615761280060,0.019318372011185,-0.095321483910084,0.274061709642410,-0.020468205213547,0.047910790890455));
res += mul(Get(s1,dx,-dy), float4x4(0.032417137175798,0.140966519713402,0.134919688105583,0.006111065857112,0.038060177117586,0.006440578028560,0.086039751768112,-0.136106014251709,-0.057276949286461,-0.024870269000530,-0.040447756648064,-0.090420097112656,-0.211221158504486,0.121822796761990,-0.016430839896202,0.053606484085321));
res += mul(Get(s1,dx,0), float4x4(-0.022425957024097,-0.046780753880739,0.109038121998310,-0.269333630800247,0.094212599098682,-0.149332314729691,0.012120481580496,-0.096720956265926,-0.033188376575708,0.101174525916576,-0.084193766117096,0.110983952879906,-0.073640502989292,-0.046964865177870,-0.142287760972977,-0.160577073693275));
res += mul(Get(s1,dx,dy), float4x4(0.006922124885023,-0.021596044301987,-0.168449372053146,0.013325568288565,-0.074984453618526,0.088904365897179,-0.030045095831156,0.038583051413298,-0.048206027597189,0.047190863639116,-0.069735527038574,0.013993977569044,0.056092105805874,0.015250500291586,-0.005589027889073,-0.022169452160597));
res += mul(Get(s2,-dx,-dy), float4x4(-0.012647692114115,0.067346282303333,0.084565393626690,0.139271244406700,0.091721937060356,-0.011889998801053,-0.051316294819117,0.011131585575640,-0.054082751274109,-0.331095248460770,-0.062500186264515,0.171684712171555,-0.006612769328058,-0.017301009967923,0.135126173496246,0.116342343389988));
res += mul(Get(s2,-dx,0), float4x4(0.015507672913373,0.244049161672592,0.203341826796532,-0.073793120682240,-0.012690423987806,-0.026210635900497,0.035546310245991,-0.142856478691101,-0.258198350667953,-0.156347692012787,0.119414538145065,-0.118257716298103,-0.036362655460835,0.025754272937775,-0.027361655607820,-0.026883665472269));
res += mul(Get(s2,-dx,dy), float4x4(-0.088742718100548,0.073564060032368,0.119260862469673,-0.096939675509930,0.091827742755413,0.121878258883953,-0.118378520011902,0.145010501146317,-0.022290416061878,0.002665151376277,-0.197833761572838,-0.044723302125931,0.038520947098732,-0.101958811283112,-0.117736220359802,0.221526861190796));
res += mul(Get(s2,0,-dy), float4x4(-0.085079751908779,0.007020879071206,-0.052521903067827,-0.042682930827141,0.085559852421284,0.028377309441566,-0.047004856169224,-0.021215990185738,0.150165498256683,0.125205308198929,0.096390023827553,-0.072033733129501,0.108441129326820,0.094700001180172,0.046602558344603,-0.070486702024937));
res += mul(Get(s2,0,0), float4x4(-0.009237742051482,-0.011277673766017,0.124744012951851,-0.125344872474670,-0.050714895129204,0.103477180004120,-0.067535996437073,-0.140936583280563,-0.109097115695477,-0.213663130998611,0.010680577717721,-0.135771483182907,-0.168891102075577,0.033785637468100,-0.027078690007329,-0.077811568975449));
res += mul(Get(s2,0,dy), float4x4(0.038037061691284,0.050037506967783,0.104207031428814,-0.024147754535079,-0.167325183749199,-0.051129851490259,0.104084610939026,-0.148044973611832,-0.049983616918325,0.017163744196296,-0.068788513541222,-0.001793812261894,0.099350377917290,0.012267035432160,0.014014872722328,-0.081310801208019));
res += mul(Get(s2,dx,-dy), float4x4(-0.086977966129780,-0.004602847155184,-0.214071974158287,-0.037024036049843,0.163657233119011,-0.092208281159401,-0.142203003168106,0.023952903226018,-0.051507867872715,-0.127113655209541,-0.210302487015724,0.069187812507153,-0.025728002190590,-0.194012269377708,-0.047577627003193,0.170083329081535));
res += mul(Get(s2,dx,0), float4x4(0.031626116484404,0.034840475767851,-0.023467676714063,-0.007277455646545,0.018690822646022,0.145765587687492,0.057476691901684,-0.052558749914169,-0.000075207834016,0.123300813138485,0.186250373721123,0.076863802969456,0.039243113249540,-0.252012014389038,0.014230271801353,0.090308189392090));
res += mul(Get(s2,dx,dy), float4x4(0.075904577970505,0.047309514135122,0.058515489101410,-0.073348052799702,-0.274317622184753,-0.030334740877151,-0.155586540699005,-0.015715772286057,0.015795521438122,0.142693608999252,0.064779855310917,0.067706003785133,-0.070443175733089,0.131403252482414,0.001862072851509,0.108311906456947));
res += mul(Get(s3,-dx,-dy), float4x4(-0.304616093635559,0.105216041207314,0.014012726023793,0.101351134479046,-0.108379527926445,-0.140126109123230,-0.083310216665268,-0.032753214240074,0.229428619146347,0.066867865622044,0.027305586263537,-0.139743313193321,-0.085052974522114,0.019002204760909,-0.029553627595305,0.276199817657471));
res += mul(Get(s3,-dx,0), float4x4(-0.019369116052985,0.241820216178894,-0.037801142781973,0.043589327484369,0.110678568482399,0.135906964540482,-0.178357392549515,0.226895838975906,0.142004013061523,0.027755927294493,0.079580873250961,0.155974030494690,0.105478838086128,-0.214140802621841,0.005676543805748,0.146399199962616));
res += mul(Get(s3,-dx,dy), float4x4(-0.196053311228752,0.023693522438407,-0.082390472292900,-0.104313135147095,0.145575717091560,-0.110800795257092,0.043060027062893,0.077165305614471,0.008891548030078,-0.085889883339405,0.167492076754570,-0.152162373065948,-0.062688544392586,0.029098747298121,0.069265522062778,0.179677233099937));
res += mul(Get(s3,0,-dy), float4x4(-0.060482319444418,-0.068917483091354,0.149017244577408,-0.007451798766851,-0.161010503768921,0.002011665143073,0.120207846164703,0.060458019375801,-0.066620945930481,0.073337964713573,0.053588110953569,-0.081893466413021,-0.091645203530788,-0.149750456213951,0.173221021890640,-0.009989035315812));
res += mul(Get(s3,0,0), float4x4(0.041626069694757,0.038124203681946,-0.172563180327415,-0.003178298473358,-0.109320454299450,0.061016213148832,-0.052879814058542,-0.239183068275452,0.037836402654648,-0.073542550206184,0.121161207556725,0.040725372731686,0.159655362367630,-0.092762745916843,0.013463039882481,-0.188999876379967));
res += mul(Get(s3,0,dy), float4x4(0.122096821665764,0.064419999718666,0.140640676021576,-0.118999518454075,0.054878469556570,-0.004992166534066,-0.020688725635409,0.148021951317787,-0.181092828512192,-0.102464318275452,-0.185522317886353,-0.005773370619863,-0.234326526522636,-0.075997278094292,-0.107123464345932,-0.055561665445566));
res += mul(Get(s3,dx,-dy), float4x4(0.027022166177630,-0.064019471406937,0.076590329408646,0.097307130694389,0.026775324717164,-0.131537452340126,0.005636551883072,-0.053196806460619,0.146822586655617,0.191383972764015,0.110692754387856,0.089844189584255,0.140311613678932,-0.059562351554632,-0.191761910915375,0.181153759360313));
res += mul(Get(s3,dx,0), float4x4(-0.060177043080330,0.004117627628148,0.001026782789268,-0.069193571805954,0.109588235616684,-0.000389375694795,-0.086394593119621,-0.025965528562665,-0.148653164505959,-0.164323970675468,-0.037168499082327,0.031965039670467,0.255923837423325,-0.108840994536877,-0.055901359766722,0.005076033063233));
res += mul(Get(s3,dx,dy), float4x4(-0.127535358071327,-0.003555249189958,-0.028533123433590,0.007012257818133,0.158657476305962,0.262827694416046,0.036605715751648,0.145156189799309,0.015707436949015,-0.062810331583023,0.017784213647246,-0.114071607589722,0.029938952997327,0.069325596094131,-0.179429337382317,0.049763437360525));
return max(float4(0,0,0,0), res);
}
