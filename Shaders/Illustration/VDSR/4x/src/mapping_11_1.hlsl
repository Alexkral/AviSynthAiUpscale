sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.119233809411526,-0.081159204244614,0.123295977711678,0.080924995243549,-0.119148872792721,-0.120581172406673,-0.105583831667900,-0.006234291475266,0.066841229796410,0.046470299363136,0.069943696260452,-0.189481034874916,0.006137008778751,0.015926232561469,-0.138402804732323,-0.103797778487206));
res += mul(Get(s0,-dx,0), float4x4(-0.200801685452461,-0.005029481835663,0.069625377655029,-0.129615083336830,-0.082469299435616,0.123143218457699,0.060153573751450,0.011446485295892,0.119115233421326,-0.065092734992504,-0.058870922774076,-0.122424855828285,0.161854460835457,-0.069783836603165,0.056208070367575,-0.176258027553558));
res += mul(Get(s0,-dx,dy), float4x4(-0.122979268431664,-0.001706121140160,0.306744366884232,-0.150879681110382,-0.099075585603714,0.020651735365391,-0.133373096585274,0.056123018264771,-0.044005431234837,-0.098554909229279,-0.166469052433968,0.103294126689434,-0.175568476319313,-0.131602808833122,0.021874612197280,0.041838321834803));
res += mul(Get(s0,0,-dy), float4x4(0.374986171722412,-0.014093847945333,-0.253419101238251,0.151244208216667,-0.130795136094093,-0.230969667434692,0.028916573151946,-0.014511402696371,-0.012790577486157,0.040499333292246,-0.116038240492344,-0.091734632849693,0.146482169628143,0.049719959497452,-0.087547115981579,0.031054252758622));
res += mul(Get(s0,0,0), float4x4(0.045724019408226,0.152824804186821,0.043844409286976,0.080973722040653,-0.130130589008331,-0.079117499291897,-0.032969661056995,-0.043538194149733,-0.099729366600513,0.113819919526577,0.005479365587234,-0.205413535237312,0.073585405945778,0.155497208237648,0.089937344193459,0.124635569751263));
res += mul(Get(s0,0,dy), float4x4(-0.090472228825092,0.115344412624836,0.322820574045181,0.118049219250679,-0.034782484173775,-0.019031139090657,0.077236190438271,-0.020496390759945,-0.042835474014282,-0.051801212131977,-0.250434339046478,-0.006870294455439,0.071431450545788,0.049872826784849,-0.222738161683083,0.149507954716682));
res += mul(Get(s0,dx,-dy), float4x4(-0.054970670491457,-0.092125572264194,-0.127307862043381,-0.105650745332241,-0.125900059938431,-0.086470164358616,0.012070651166141,0.035773761570454,-0.077227845788002,0.025809511542320,-0.242979243397713,0.120633862912655,0.147173553705215,-0.000300674000755,0.090538151562214,-0.052809000015259));
res += mul(Get(s0,dx,0), float4x4(-0.147876903414726,-0.038581795990467,-0.106402814388275,-0.051901157945395,-0.076100490987301,0.181667119264603,0.029235180467367,-0.134558618068695,0.112593069672585,-0.117487393319607,-0.139502495527267,-0.089579991996288,0.064180567860603,0.104957208037376,0.131163358688354,-0.047711014747620));
res += mul(Get(s0,dx,dy), float4x4(-0.006158841308206,0.141109675168991,-0.111031830310822,-0.011166295967996,0.037074014544487,0.296455681324005,0.195513516664505,-0.058924175798893,-0.069784075021744,-0.240498319268227,-0.273321211338043,0.120809622108936,0.095959685742855,0.038999617099762,-0.071372292935848,-0.033029902726412));
res += mul(Get(s1,-dx,-dy), float4x4(-0.031365178525448,-0.101993598043919,0.285635739564896,0.009435384534299,0.143481239676476,-0.164262250065804,-0.152556240558624,-0.039852894842625,-0.002137277508155,-0.222420543432236,-0.227727398276329,0.042444784194231,0.023788051679730,-0.053893491625786,-0.087867073714733,-0.119683496654034));
res += mul(Get(s1,-dx,0), float4x4(-0.069300785660744,0.069520458579063,0.360123574733734,0.339818716049194,0.068780235946178,-0.188425794243813,-0.048897635191679,0.424691230058670,-0.123913280665874,-0.163397714495659,-0.075849473476410,-0.187704175710678,0.096505962312222,-0.006609195843339,-0.013975478708744,-0.102492094039917));
res += mul(Get(s1,-dx,dy), float4x4(-0.203586593270302,0.048754397779703,0.460887908935547,0.210609123110771,-0.078559823334217,-0.091229461133480,-0.105242662131786,-0.125683531165123,-0.284566551446915,-0.129512041807175,-0.167623743414879,-0.002603419357911,0.073834761977196,-0.067183971405029,-0.105811372399330,-0.072097606956959));
res += mul(Get(s1,0,-dy), float4x4(-0.060096651315689,0.001715377089567,0.058097500354052,-0.029705546796322,0.019113622605801,0.026479003950953,-0.083384081721306,-0.038884621113539,-0.035050556063652,-0.212336853146553,-0.219063475728035,-0.034246914088726,-0.012696245685220,-0.118408858776093,0.133119225502014,0.026171330362558));
res += mul(Get(s1,0,0), float4x4(0.109158039093018,-0.013622004538774,-0.327909827232361,-0.099864073097706,0.141263574361801,-0.090716779232025,0.059079542756081,0.015375992283225,0.243646338582039,-0.125062391161919,-0.000788724748418,-0.139672696590424,0.060813672840595,-0.023285800591111,0.111815273761749,0.091048322618008));
res += mul(Get(s1,0,dy), float4x4(0.135246694087982,0.130388304591179,0.034874461591244,0.082808956503868,-0.027034616097808,-0.075838997960091,-0.088526964187622,0.048417877405882,0.042404185980558,-0.077934153378010,-0.022252321243286,0.540399551391602,0.115361236035824,-0.154381245374680,-0.063123121857643,0.215329855680466));
res += mul(Get(s1,dx,-dy), float4x4(-0.084912344813347,-0.073939993977547,-0.107336200773716,0.015185267664492,-0.098268501460552,0.213635653257370,-0.040899287909269,-0.023540895432234,-0.031929701566696,0.061532545834780,-0.004023536574095,-0.054202836006880,-0.043362051248550,-0.085565902292728,0.031888931989670,0.175577089190483));
res += mul(Get(s1,dx,0), float4x4(-0.083868868649006,-0.069277890026569,-0.052911374717951,-0.152921110391617,0.124290823936462,0.140569075942039,0.099786162376404,-0.035419046878815,0.265223503112793,-0.008841961622238,-0.039988990873098,0.113139435648918,0.061257570981979,-0.070759102702141,0.134576290845871,-0.073955543339252));
res += mul(Get(s1,dx,dy), float4x4(0.061668943613768,0.294021904468536,-0.062449235469103,-0.345076471567154,-0.216226264834404,-0.143122926354408,-0.151287466287613,-0.119822978973389,-0.131835639476776,-0.029983138665557,0.098763078451157,-0.216337800025940,0.083381742238998,-0.143574029207230,0.234889417886734,0.101776473224163));
res += mul(Get(s2,-dx,-dy), float4x4(0.241259858012199,0.269852787256241,-0.076836816966534,-0.098170310258865,-0.152649283409119,0.017736861482263,-0.036466553807259,0.155786707997322,0.113793551921844,0.004297021310776,-0.121127821505070,-0.139769837260246,-0.061650719493628,0.212281018495560,-0.035147022455931,-0.188456207513809));
res += mul(Get(s2,-dx,0), float4x4(0.086698234081268,-0.000177248235559,-0.075212597846985,0.070846334099770,-0.149148941040039,0.077666871249676,0.084659293293953,0.014249387197196,-0.019806858152151,0.064955785870552,-0.032974224537611,-0.160062536597252,0.016453698277473,-0.061322584748268,-0.048985116183758,-0.070474304258823));
res += mul(Get(s2,-dx,dy), float4x4(0.037275984883308,0.019221937283874,0.061263550072908,-0.023897627368569,-0.033322967588902,-0.013635730370879,0.017586639150977,-0.010513394139707,-0.081861168146133,0.059324230998755,0.164260432124138,-0.189674898982048,-0.026765035465360,-0.085397765040398,-0.158416867256165,0.070168487727642));
res += mul(Get(s2,0,-dy), float4x4(0.038529496639967,0.134165555238724,-0.120996750891209,-0.045606017112732,-0.010291816666722,-0.106717765331268,-0.105768553912640,0.165327027440071,-0.062255926430225,0.091808006167412,-0.081938959658146,-0.196601808071136,0.000263052847004,0.058340132236481,-0.121184967458248,-0.099225252866745));
res += mul(Get(s2,0,0), float4x4(0.066600933670998,-0.169635772705078,-0.031100323423743,-0.034698110073805,0.046388272196054,0.076458245515823,0.114752918481827,0.032805763185024,-0.032170202583075,-0.016614524647593,-0.071773342788219,-0.019198203459382,-0.041248120367527,-0.147815540432930,-0.126000151038170,0.009334105066955));
res += mul(Get(s2,0,dy), float4x4(0.255837589502335,-0.103469692170620,-0.138263911008835,-0.169078424572945,0.000340663915267,-0.158389285206795,-0.003961951006204,-0.059829942882061,-0.078013144433498,0.005414855666459,0.255050599575043,-0.052087694406509,-0.140971019864082,0.059566799551249,0.066039100289345,-0.009575846605003));
res += mul(Get(s2,dx,-dy), float4x4(-0.046164564788342,-0.041703041642904,-0.054835680872202,-0.072511017322540,-0.057456586509943,-0.039413079619408,0.066609218716621,0.107255801558495,-0.120549999177456,-0.133853435516357,-0.010505702346563,-0.023848081007600,-0.155113220214844,0.463789314031601,-0.083606347441673,0.075845189392567));
res += mul(Get(s2,dx,0), float4x4(-0.228071510791779,0.014045665040612,-0.026484757661819,-0.057376034557819,0.069450654089451,-0.007558830548078,0.116255849599838,-0.092631660401821,-0.031198129057884,-0.107455521821976,-0.133235722780228,0.016926513984799,-0.043736375868320,-0.122072324156761,0.014151216484606,0.142861396074295));
res += mul(Get(s2,dx,dy), float4x4(0.163781896233559,-0.084043703973293,-0.139220431447029,-0.028147004544735,-0.034657854586840,0.021643154323101,0.076332263648510,-0.127593562006950,-0.050983957946301,-0.022483985871077,0.014390978962183,0.006096125580370,-0.138825163245201,0.082702301442623,-0.094007380306721,-0.028058471158147));
res += mul(Get(s3,-dx,-dy), float4x4(-0.134657531976700,0.040058597922325,0.215057328343391,0.043583981692791,-0.078192844986916,-0.105787247419357,-0.148942992091179,-0.014715582132339,0.041981328278780,0.028969807550311,0.116842046380043,-0.092820398509502,-0.096550136804581,-0.063004679977894,-0.115943461656570,0.062080822885036));
res += mul(Get(s3,-dx,0), float4x4(-0.070195987820625,0.007184786722064,-0.030023131519556,-0.004827374126762,-0.027791151776910,-0.056615121662617,-0.119199506938457,-0.001542154815979,0.047040782868862,-0.120340548455715,-0.139959439635277,-0.063284024596214,-0.039379503577948,-0.003329118015245,0.099417857825756,0.104281231760979));
res += mul(Get(s3,-dx,dy), float4x4(-0.066046908497810,0.065441906452179,-0.105520270764828,0.081351950764656,-0.083345890045166,-0.002101032063365,-0.265321224927902,-0.143705606460571,-0.048290263861418,0.034985885024071,0.261338382959366,-0.018152685835958,-0.064092010259628,0.079643651843071,-0.007145458832383,-0.093700036406517));
res += mul(Get(s3,0,-dy), float4x4(-0.010988921858370,0.045826405286789,0.095156140625477,0.053790297359228,-0.033929955214262,0.093626245856285,-0.106705799698830,0.042268555611372,-0.013713483698666,0.300355821847916,0.120033137500286,0.232173442840576,-0.043275538831949,0.103504098951817,-0.214969083666801,0.242308303713799));
res += mul(Get(s3,0,0), float4x4(0.064187154173851,0.040744092315435,0.140431791543961,0.043050661683083,-0.006195897702128,0.032471735030413,-0.115547649562359,0.106697641313076,0.036036297678947,0.090289436280727,0.111257247626781,-0.037368118762970,0.105095833539963,-0.140835091471672,0.059117600321770,0.067628838121891));
res += mul(Get(s3,0,dy), float4x4(0.174002394080162,-0.036864429712296,0.077416494488716,0.073863148689270,-0.039063204079866,0.055678583681583,-0.184618175029755,-0.004918559920043,0.024953940883279,0.059178601950407,0.114581353962421,-0.015984993427992,-0.067080482840538,-0.036543965339661,0.136893481016159,-0.027725614607334));
res += mul(Get(s3,dx,-dy), float4x4(-0.009665312245488,-0.049711603671312,0.089995168149471,0.015448669902980,-0.011983365751803,-0.064413368701935,-0.019513648003340,-0.125778138637543,-0.096025630831718,-0.029191924259067,0.036462478339672,0.102849550545216,-0.126107856631279,0.135888263583183,-0.013268430717289,-0.016590440645814));
res += mul(Get(s3,dx,0), float4x4(0.277211517095566,-0.132527694106102,-0.017740825191140,-0.153006657958031,0.021140193566680,-0.090275958180428,-0.084785997867584,0.059428114444017,-0.023828525096178,-0.122004769742489,0.094181828200817,0.027013236656785,-0.128230676054955,-0.085365578532219,-0.066118709743023,-0.077397190034389));
res += mul(Get(s3,dx,dy), float4x4(-0.068241991102695,-0.177126348018646,0.174959495663643,-0.110634364187717,-0.084263823926449,-0.137532457709312,-0.122583173215389,-0.072742596268654,0.139069989323616,0.132131859660149,0.123587191104889,-0.034697066992521,-0.115690201520920,-0.063925206661224,0.088090084493160,0.143813133239746));
return max(float4(0,0,0,0), res);
}
