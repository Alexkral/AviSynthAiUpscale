sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.003422556677833,-0.029537266120315,-0.247466579079628,0.077547229826450,0.165130168199539,-0.059647180140018,0.035376422107220,0.016742067411542,-0.115723341703415,0.037329241633415,-0.052296910434961,-0.169005647301674,-0.040506109595299,-0.048692882061005,0.075461097061634,0.054065480828285));
res += mul(Get(s0,-dx,0), float4x4(-0.001940623158589,0.041691053658724,-0.065932415425777,0.044802136719227,0.001621848088689,0.130072847008705,-0.080302640795708,0.124087795615196,-0.126538842916489,0.059954725205898,-0.069919854402542,-0.056783422827721,0.038753248751163,-0.022196831181645,-0.148915484547615,-0.125893965363503));
res += mul(Get(s0,-dx,dy), float4x4(-0.089688874781132,-0.014026612043381,-0.011827946640551,-0.167519688606262,-0.071186535060406,0.054869156330824,-0.127754524350166,-0.042659100145102,0.098323412239552,0.076006680727005,0.064197987318039,0.005888585001230,0.012129857204854,-0.076364286243916,0.008880288340151,-0.041866566985846));
res += mul(Get(s0,0,-dy), float4x4(0.081827871501446,-0.063647851347923,0.025296529754996,0.174205839633942,0.163879245519638,0.029296062886715,-0.160602197051048,-0.143125832080841,-0.151079535484314,-0.193869903683662,-0.106722004711628,-0.095796957612038,-0.077276058495045,0.128614768385887,-0.101104326546192,-0.003205829998478));
res += mul(Get(s0,0,0), float4x4(-0.088826104998589,-0.121299207210541,0.098037324845791,0.083749197423458,-0.025337066501379,0.190707668662071,0.069360457360744,-0.153105378150940,0.048147361725569,-0.062852293252945,0.071763224899769,-0.083701558411121,-0.087808929383755,0.126559272408485,0.075930461287498,-0.074199803173542));
res += mul(Get(s0,0,dy), float4x4(-0.057947047054768,-0.131365492939949,0.109936162829399,0.191790416836739,0.058342870324850,0.040051646530628,-0.135463371872902,-0.028684731572866,-0.047683533281088,-0.004025578498840,-0.019328024238348,-0.114291183650494,-0.015527235344052,0.023841654881835,0.009900704026222,-0.031507898122072));
res += mul(Get(s0,dx,-dy), float4x4(-0.099309109151363,0.233014702796936,-0.323167622089386,-0.047933526337147,0.055753301829100,0.106012247502804,0.105317495763302,0.055741719901562,0.058530092239380,0.005896665155888,-0.144022539258003,0.040457081049681,-0.035687886178493,0.149307847023010,0.087229765951633,-0.146652862429619));
res += mul(Get(s0,dx,0), float4x4(-0.013873102143407,-0.047061484307051,-0.286312997341156,-0.086257860064507,0.020977312698960,-0.003307924605906,-0.067969195544720,-0.029326712712646,-0.350771367549896,-0.105778746306896,-0.081605829298496,-0.056244276463985,0.131111279129982,-0.090541772544384,0.322659522294998,-0.036514583975077));
res += mul(Get(s0,dx,dy), float4x4(-0.050342731177807,0.086421273648739,0.148803189396858,0.055974110960960,-0.250397622585297,0.089957483112812,0.181553333997726,-0.216052055358887,-0.239017024636269,0.110995769500732,0.165770456194878,-0.039609417319298,0.094765022397041,-0.238626390695572,-0.066701754927635,0.006633185781538));
res += mul(Get(s1,-dx,-dy), float4x4(0.073610536754131,0.220482259988785,0.092412009835243,0.064880833029747,-0.095141038298607,-0.126561552286148,0.082445882260799,-0.077995762228966,-0.090852834284306,0.361304491758347,-0.143196821212769,-0.111409366130829,0.105778105556965,-0.108680285513401,-0.044563483446836,0.099087402224541));
res += mul(Get(s1,-dx,0), float4x4(0.115900970995426,-0.222814902663231,-0.045753356069326,-0.106622651219368,-0.025304110720754,0.084416493773460,0.005097134038806,0.050255250185728,-0.125757932662964,-0.149122074246407,-0.191922694444656,0.295872420072556,-0.076368555426598,-0.143200814723969,0.055829036980867,0.090537905693054));
res += mul(Get(s1,-dx,dy), float4x4(-0.019863462075591,-0.059216592460871,0.184829011559486,-0.087375283241272,-0.085699297487736,-0.129241973161697,-0.283821642398834,-0.038819327950478,-0.041461948305368,-0.007535689976066,0.197829186916351,0.244228973984718,0.182481154799461,-0.254575341939926,-0.064605094492435,-0.055634088814259));
res += mul(Get(s1,0,-dy), float4x4(-0.011846288107336,0.102658793330193,-0.078760810196400,0.141772285103798,0.052022695541382,-0.208767995238304,0.091772489249706,0.073153726756573,0.044732812792063,0.079802371561527,-0.112909220159054,-0.047953650355339,0.062588088214397,0.104883693158627,-0.089181303977966,0.012940526008606));
res += mul(Get(s1,0,0), float4x4(-0.071974813938141,0.057779811322689,-0.204562351107597,-0.009164738468826,0.044035591185093,0.152519106864929,-0.050008460879326,0.240378156304359,-0.110492639243603,-0.224551424384117,0.088748037815094,-0.042734269052744,-0.039273206144571,-0.198506549000740,-0.041088927537203,-0.118373125791550));
res += mul(Get(s1,0,dy), float4x4(-0.097001492977142,-0.055247005075216,0.017712531611323,0.053603202104568,-0.199996322393417,-0.145812749862671,0.016182487830520,-0.030534846708179,0.023728204891086,0.144242659211159,0.176659658551216,0.094028107821941,0.034167781472206,0.137625470757484,0.080255389213562,0.110760398209095));
res += mul(Get(s1,dx,-dy), float4x4(0.149703592061996,-0.024085655808449,0.114318557083607,0.050288446247578,0.028512794524431,0.106562219560146,-0.172896116971970,-0.144230112433434,0.105443015694618,-0.206657350063324,-0.122329726815224,0.031461060047150,-0.082577899098396,0.044438704848289,-0.026323676109314,0.096008226275444));
res += mul(Get(s1,dx,0), float4x4(0.134928956627846,0.022152766585350,-0.005623977631330,0.083777889609337,-0.025194806978106,-0.155385091900826,-0.034623354673386,0.040223911404610,0.085767865180969,0.069904699921608,0.050353873521090,0.017300277948380,0.193089723587036,-0.038178149610758,-0.010996774770319,-0.057614069432020));
res += mul(Get(s1,dx,dy), float4x4(-0.064871810376644,0.255261957645416,-0.050299279391766,0.116602294147015,-0.179057374596596,0.003838107455522,0.064387388527393,-0.130549758672714,0.105905666947365,0.055823456496000,0.065974496304989,-0.020140953361988,0.022965397685766,0.125613316893578,-0.300893396139145,-0.100795857608318));
res += mul(Get(s2,-dx,-dy), float4x4(0.066024206578732,-0.004762678407133,-0.129107445478439,-0.105647698044777,-0.140238791704178,-0.050699274986982,-0.080049984157085,-0.043733060359955,-0.226012036204338,-0.131778493523598,0.108586803078651,-0.065514750778675,0.065381556749344,-0.171593710780144,-0.179505959153175,-0.029144706204534));
res += mul(Get(s2,-dx,0), float4x4(0.158342644572258,-0.068071395158768,0.081724800169468,-0.001648930949159,-0.065883286297321,-0.188856661319733,0.073879964649677,-0.248141855001450,-0.094199173152447,-0.219882160425186,0.049174681305885,0.177218407392502,-0.032572750002146,0.095964737236500,-0.019602090120316,0.065549440681934));
res += mul(Get(s2,-dx,dy), float4x4(0.091983944177628,-0.093148529529572,0.276699125766754,-0.198234498500824,-0.101967595517635,0.006185884587467,-0.013151981867850,-0.107939913868904,-0.086715690791607,0.006722719874233,-0.087678097188473,-0.087477989494801,0.044616326689720,-0.203145593404770,-0.089831233024597,0.093247510492802));
res += mul(Get(s2,0,-dy), float4x4(-0.084934256970882,0.069581814110279,-0.247143954038620,0.103267595171928,0.121326893568039,-0.000109767534013,0.079660341143608,-0.092503532767296,0.033467475324869,0.032361280173063,-0.091477960348129,0.105446718633175,0.168675482273102,-0.101448878645897,-0.093227244913578,0.020993074402213));
res += mul(Get(s2,0,0), float4x4(0.179014056921005,-0.108535043895245,-0.002285091904923,-0.074291825294495,-0.094596065580845,-0.235327854752541,-0.137430518865585,0.073507979512215,0.086454510688782,0.233051151037216,-0.046879820525646,-0.199875950813293,0.144976735115051,-0.078621409833431,0.024288771674037,0.084163330495358));
res += mul(Get(s2,0,dy), float4x4(0.189161181449890,0.092729277908802,0.040877919644117,-0.043390072882175,0.030277442187071,0.101659208536148,-0.203611031174660,0.037613637745380,0.128961294889450,0.106141425669193,0.176441773772240,0.034102559089661,-0.009290477260947,0.061066161841154,-0.049931444227695,0.252852797508240));
res += mul(Get(s2,dx,-dy), float4x4(0.095867462456226,-0.077875293791294,-0.282890111207962,0.053503688424826,-0.082308799028397,0.206697911024094,-0.013515493832529,-0.130374222993851,-0.027817599475384,0.043945938348770,0.007407460827380,0.185131758451462,0.060778930783272,-0.012596148997545,-0.105998322367668,-0.110052518546581));
res += mul(Get(s2,dx,0), float4x4(-0.139043092727661,0.116674013435841,0.010121082887053,-0.187294468283653,0.084169186651707,0.048428069800138,0.077374972403049,-0.168386980891228,0.000016117404812,-0.059209667146206,0.049127671867609,-0.044663559645414,-0.240720510482788,-0.006364978849888,0.049102749675512,0.041991520673037));
res += mul(Get(s2,dx,dy), float4x4(-0.134816244244576,0.175964877009392,0.101004600524902,-0.208821371197701,0.053874868899584,0.236596226692200,0.106113761663437,-0.250892966985703,-0.115922696888447,-0.253401935100555,-0.125088468194008,0.035196851938963,-0.040594261139631,0.057520221918821,0.078294575214386,-0.085855104029179));
res += mul(Get(s3,-dx,-dy), float4x4(-0.069703340530396,-0.094284005463123,0.244319215416908,0.041196957230568,-0.010159317404032,0.094903290271759,-0.025189416483045,-0.257681310176849,-0.201467290520668,-0.145645186305046,0.085476472973824,-0.014735803008080,0.100253894925117,0.135549888014793,-0.029032045975327,0.129175528883934));
res += mul(Get(s3,-dx,0), float4x4(-0.081146873533726,-0.036063645035028,-0.048882544040680,-0.028687842190266,0.192709252238274,0.150012463331223,0.089468836784363,-0.030004991218448,0.083360575139523,0.093470305204391,0.228055790066719,-0.002582445042208,-0.033781014382839,-0.029231430962682,0.264331459999084,-0.210428759455681));
res += mul(Get(s3,-dx,dy), float4x4(-0.098299287259579,-0.053531292825937,0.034317873418331,0.091872625052929,-0.075318709015846,-0.093315295875072,-0.052049979567528,-0.017605975270271,-0.133061572909355,-0.078552976250648,0.026592101901770,-0.064002193510532,-0.057604651898146,-0.117244437336922,0.008048080839217,-0.149685755372047));
res += mul(Get(s3,0,-dy), float4x4(-0.232332944869995,0.115465208888054,-0.130829274654388,-0.262596994638443,0.162021219730377,-0.134964063763618,0.001564251142554,-0.011808754876256,-0.026878712698817,-0.058776900172234,-0.063872210681438,0.388454854488373,0.035708624869585,-0.040188502520323,-0.015813326463103,-0.180196091532707));
res += mul(Get(s3,0,0), float4x4(-0.187643408775330,-0.194440379738808,-0.096770294010639,-0.145022556185722,-0.067848749458790,-0.146207541227341,0.166180148720741,0.170371502637863,0.005608960986137,-0.139174342155457,0.030934410169721,-0.064795337617397,-0.176956042647362,-0.006811179220676,-0.246145576238632,-0.060702636837959));
res += mul(Get(s3,0,dy), float4x4(0.063739024102688,0.021832348778844,0.029075669124722,-0.005910600535572,0.002998423296958,-0.006708895787597,0.010816307738423,-0.185825154185295,0.126919761300087,0.040745161473751,-0.111514709889889,-0.153294980525970,0.062431879341602,-0.074067473411560,-0.029788238927722,0.054425157606602));
res += mul(Get(s3,dx,-dy), float4x4(0.050478406250477,0.050141260027885,-0.093889176845551,0.026411609724164,-0.091682612895966,-0.054856326431036,-0.029081173241138,-0.063019447028637,0.165221944451332,0.203406825661659,0.037856172770262,0.147658661007881,-0.003813081188127,0.171467095613480,-0.166928410530090,0.087310835719109));
res += mul(Get(s3,dx,0), float4x4(0.132787927985191,0.074441924691200,-0.045162066817284,-0.105177991092205,-0.164282679557800,0.080060034990311,-0.079094611108303,0.088329754769802,0.007983538322151,-0.111975058913231,-0.101729601621628,-0.017151510342956,0.154672369360924,0.115760505199432,0.037288207560778,0.056806728243828));
res += mul(Get(s3,dx,dy), float4x4(-0.073342330753803,-0.163459554314613,0.127588734030724,0.192036524415016,-0.055954378098249,0.106890223920345,0.032233018428087,0.025876024737954,0.015152334235609,-0.084699504077435,0.007025599945337,0.231384634971619,0.066565349698067,0.029075898230076,-0.031018303707242,-0.134163483977318));
return max(float4(0,0,0,0), res);
}
