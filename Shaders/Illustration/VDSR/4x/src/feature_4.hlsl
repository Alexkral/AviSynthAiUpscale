sampler s0 : register(s0);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(x, y)   tex2D(s0, tex + float2(x, y))[0]

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += float4(0.107813775539398,-0.045929454267025,-0.033427238464355,0.103560566902161) * Get(-dx,-dy);
res += float4(-0.011808191426098,-0.194907009601593,0.008777266368270,-0.190040960907936) * Get(-dx,0);
res += float4(-0.042799860239029,0.031732078641653,0.066941745579243,-0.143713891506195) * Get(-dx,dy);
res += float4(-0.209329038858414,0.027750438079238,0.079770050942898,0.003677623812109) * Get(0,-dy);
res += float4(-0.109348103404045,-0.019991945475340,0.072530336678028,0.053558908402920) * Get(0,0);
res += float4(0.038939565420151,0.294304758310318,-0.189172282814980,0.000669187109452) * Get(0,dy);
res += float4(0.148643001914024,-0.062837854027748,0.131052181124687,-0.062696576118469) * Get(dx,-dy);
res += float4(0.026575958356261,0.108613587915897,0.054558221250772,-0.035755295306444) * Get(dx,0);
res += float4(-0.138199657201767,0.001519783399999,-0.096142418682575,0.035361941903830) * Get(dx,dy);
return max(float4(0,0,0,0), res);
}
