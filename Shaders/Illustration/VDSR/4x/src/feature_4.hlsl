sampler s0 : register(s0);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(x, y)   tex2D(s0, tex + float2(x, y))[0]

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += float4(0.012129438109696,-0.011150372214615,-0.671736359596252,0.008944734930992) * Get(-dx,-dy);
res += float4(-0.007997848093510,-0.013556812889874,-0.584522068500519,0.005635254550725) * Get(-dx,0);
res += float4(-0.011835645884275,-0.019909860566258,0.855635941028595,-0.010323836468160) * Get(-dx,dy);
res += float4(-0.020284393802285,-0.024888120591640,-0.121932312846184,-0.015792384743690) * Get(0,-dy);
res += float4(0.001820151112042,-0.003569912398234,0.523542165756226,-0.025489199906588) * Get(0,0);
res += float4(-0.018274916335940,-0.022007085382938,1.550784349441528,-0.006015569902956) * Get(0,dy);
res += float4(-0.014889220707119,0.002709518419579,0.391188651323318,-0.015224267728627) * Get(dx,-dy);
res += float4(0.004672795534134,-0.002772456733510,-0.562317788600922,0.010296223685145) * Get(dx,0);
res += float4(-0.000726392492652,-0.010835017077625,-1.159875631332397,-0.003760052146390) * Get(dx,dy);
return max(float4(0,0,0,0), res);
}
