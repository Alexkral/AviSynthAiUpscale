sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.098143838346004,0.061106219887733,-0.040643312036991,-0.222972735762596,-0.214491024613380,-0.067430168390274,0.013576266355813,-0.059480480849743,0.203802481293678,-0.150564119219780,0.132427796721458,-0.112158030271530,-0.133578106760979,-0.038214568048716,-0.188653215765953,-0.016155507415533));
res += mul(Get(s0,-dx,0), float4x4(-0.222776710987091,-0.078004419803619,0.261427402496338,-0.021110288798809,-0.108148962259293,-0.156481221318245,0.042687777429819,-0.027765370905399,0.224021479487419,-0.230105072259903,-0.214498639106750,-0.273894727230072,-0.085278287529945,0.029052745550871,-0.112720809876919,0.052182376384735));
res += mul(Get(s0,-dx,dy), float4x4(0.084463745355606,0.004828476347029,0.117460057139397,-0.037374731153250,0.132516801357269,-0.051309600472450,-0.072755426168442,0.039324101060629,0.051561329513788,-0.157195836305618,0.024283697828650,-0.098842710256577,0.037226859480143,0.023737151175737,0.027670281007886,-0.138624653220177));
res += mul(Get(s0,0,-dy), float4x4(0.012495262548327,0.073323197662830,-0.129319518804550,0.030183406546712,0.118543356657028,-0.015504188835621,-0.034625571221113,0.024379519745708,0.245486766099930,-0.082170754671097,0.092698112130165,-0.134563148021698,-0.046644568443298,0.240403398871422,0.163126081228256,0.077019795775414));
res += mul(Get(s0,0,0), float4x4(-0.193871766328812,-0.139989480376244,-0.034785661846399,-0.035497426986694,-0.173509642481804,0.000173448614078,-0.017332794144750,0.082259282469749,-0.045391988009214,0.045513696968555,-0.174621224403381,0.142745435237885,0.001212237984873,0.056486260145903,-0.227288633584976,0.211783796548843));
res += mul(Get(s0,0,dy), float4x4(0.115704178810120,-0.077942408621311,0.049130123108625,-0.167913779616356,-0.115531496703625,0.119671307504177,0.028322255238891,-0.050799671560526,0.189686000347137,-0.069744892418385,0.103116236627102,-0.028542937710881,0.061622615903616,0.094774618744850,-0.131409555673599,-0.033219277858734));
res += mul(Get(s0,dx,-dy), float4x4(-0.008948801085353,0.127446129918098,-0.128515064716339,-0.144009068608284,-0.084557928144932,-0.002716694027185,-0.091526791453362,0.248079448938370,0.118438445031643,0.020765317603946,-0.197382435202599,-0.008176901377738,-0.054318342357874,-0.055880732834339,-0.024948418140411,0.035954184830189));
res += mul(Get(s0,dx,0), float4x4(0.197583615779877,-0.125494614243507,-0.096231535077095,0.104876555502415,0.035455666482449,0.049022372812033,-0.135303363204002,0.095809116959572,-0.029498079791665,-0.038009867072105,0.002858645515516,0.160969823598862,-0.037167858332396,0.044084306806326,0.037052463740110,0.062108598649502));
res += mul(Get(s0,dx,dy), float4x4(0.017800040543079,-0.186799615621567,0.124335825443268,0.083926104009151,-0.142822936177254,0.040630359202623,0.128021195530891,-0.023230085149407,0.047442801296711,-0.184253185987473,-0.136572375893593,-0.077903747558594,-0.066725790500641,0.041891876608133,0.049597032368183,-0.035775911062956));
res += mul(Get(s1,-dx,-dy), float4x4(0.005135172512382,0.098682083189487,-0.089399978518486,-0.007381213828921,0.140011459589005,0.172206148505211,-0.113486282527447,-0.021546436473727,-0.023290945217013,-0.036634370684624,-0.046126984059811,0.111679077148438,0.136924207210541,-0.056433539837599,-0.121278345584869,-0.206139028072357));
res += mul(Get(s1,-dx,0), float4x4(-0.137887448072433,-0.089140519499779,0.010383540764451,0.004924815613776,0.229843035340309,0.068764239549637,0.010022083297372,-0.066586978733540,-0.024477427825332,0.094641231000423,0.202528402209282,-0.021789617836475,-0.040550578385592,-0.107335105538368,-0.080601304769516,-0.018149480223656));
res += mul(Get(s1,-dx,dy), float4x4(0.082310907542706,-0.141736820340157,-0.088780142366886,0.051265385001898,0.012605704367161,0.007561551406980,-0.217082709074020,-0.172541126608849,0.239085853099823,-0.080753646790981,0.160704925656319,0.020610211417079,-0.041123539209366,-0.092534869909286,-0.150758773088455,0.116731949150562));
res += mul(Get(s1,0,-dy), float4x4(0.216073781251907,-0.113908536732197,-0.047442208975554,-0.100421644747257,0.163440018892288,0.105470143258572,-0.173337757587433,0.184225633740425,0.036213517189026,-0.030252316966653,-0.099377788603306,-0.133890002965927,-0.103033304214478,-0.198207348585129,0.094823226332664,-0.058963455259800));
res += mul(Get(s1,0,0), float4x4(-0.012305134907365,-0.097027964890003,-0.011930425651371,0.001505958614871,0.081722445785999,-0.029898077249527,-0.133273631334305,-0.083841525018215,-0.047702357172966,-0.044990979135036,-0.099954061210155,-0.099870666861534,-0.111820958554745,0.102759383618832,0.043589625507593,-0.213598802685738));
res += mul(Get(s1,0,dy), float4x4(0.021143408492208,0.321067899465561,-0.105558738112450,0.110260583460331,-0.056288331747055,-0.076228708028793,-0.023979889228940,0.017530644312501,-0.023871621116996,0.113318406045437,0.117211163043976,0.036474034190178,0.129402458667755,0.125993922352791,-0.206803053617477,-0.125231385231018));
res += mul(Get(s1,dx,-dy), float4x4(-0.047451715916395,0.207795321941376,-0.026907984167337,-0.179951757192612,0.031725708395243,-0.161438226699829,-0.096839576959610,0.018942361697555,-0.058017406612635,0.122264549136162,-0.095792621374130,0.182277441024780,0.107890523970127,-0.063516326248646,0.151747316122055,-0.088302731513977));
res += mul(Get(s1,dx,0), float4x4(-0.087780661880970,0.037324320524931,-0.190858289599419,0.078077696263790,0.367755115032196,-0.026960672810674,-0.041023157536983,-0.059314936399460,0.064751140773296,-0.132249340415001,0.080252908170223,-0.021833358332515,-0.157826557755470,0.175181269645691,0.079173400998116,-0.053564064204693));
res += mul(Get(s1,dx,dy), float4x4(-0.120896331965923,0.108076028525829,-0.002476049354300,-0.068856500089169,-0.109693460166454,-0.041353177279234,-0.065517365932465,0.054977443069220,0.131042912602425,0.024168426170945,0.040522512048483,0.185190975666046,-0.023657087236643,0.006384827662259,0.080879285931587,0.103924624621868));
res += mul(Get(s2,-dx,-dy), float4x4(0.122589170932770,0.143427774310112,-0.059744354337454,0.055186457931995,-0.076976023614407,0.122959785163403,0.012768717482686,-0.130691111087799,-0.051894363015890,0.044424299150705,0.093512982130051,0.074640609323978,-0.063585713505745,0.084277756512165,-0.051937110722065,-0.028393670916557));
res += mul(Get(s2,-dx,0), float4x4(-0.101172968745232,0.124441049993038,0.099292635917664,-0.232827693223953,-0.114042326807976,-0.072744697332382,0.049579501152039,-0.031072577461600,-0.180106863379478,0.150314226746559,-0.005104712676257,-0.041633229702711,-0.034971389919519,-0.211356267333031,0.040605347603559,0.117857940495014));
res += mul(Get(s2,-dx,dy), float4x4(-0.094381727278233,0.091534636914730,0.036096535623074,-0.081512331962585,-0.014924469403923,-0.006621569395065,-0.109685003757477,0.056853126734495,-0.124966494739056,-0.043103970587254,0.131289109587669,-0.075141221284866,0.117294684052467,-0.002335838740692,0.025333594530821,0.032904833555222));
res += mul(Get(s2,0,-dy), float4x4(-0.028281195089221,0.025473395362496,0.052651438862085,0.005232083611190,-0.121546745300293,-0.029080804437399,0.001850543427281,-0.191577002406120,0.042201519012451,-0.037906590849161,-0.005776431411505,-0.013978169299662,0.164866119623184,-0.062689088284969,-0.289442837238312,-0.030301418155432));
res += mul(Get(s2,0,0), float4x4(0.070356316864491,0.205993697047234,-0.101196959614754,0.059664320200682,-0.207955285906792,0.200245574116707,-0.111574053764343,0.038030087947845,-0.081759460270405,-0.014672252349555,-0.013760218396783,-0.031558945775032,0.080569602549076,0.118443697690964,-0.000663043232635,0.102805212140083));
res += mul(Get(s2,0,dy), float4x4(-0.034913957118988,0.083386644721031,0.054574187844992,-0.106352858245373,0.104880928993225,0.138141825795174,0.008133967407048,-0.122169293463230,-0.009752618148923,-0.115583755075932,-0.157048121094704,-0.023541009053588,-0.194078028202057,-0.179251670837402,0.103152960538864,0.128967344760895));
res += mul(Get(s2,dx,-dy), float4x4(-0.125109493732452,-0.213209345936775,-0.038903564214706,-0.120424039661884,0.167409405112267,0.086389727890491,0.013099404983222,-0.038380082696676,0.047219984233379,0.015283850952983,0.025246299803257,-0.090782031416893,-0.110252544283867,0.073369927704334,-0.110402978956699,0.026069775223732));
res += mul(Get(s2,dx,0), float4x4(-0.291542232036591,-0.060326702892780,-0.162216380238533,0.046798393130302,-0.197662413120270,-0.351399213075638,-0.177984684705734,0.088859409093857,-0.320452421903610,-0.085493415594101,0.052899055182934,0.068408235907555,0.088734634220600,-0.236752942204475,-0.103668972849846,0.046985134482384));
res += mul(Get(s2,dx,dy), float4x4(-0.034065686166286,0.016654709354043,-0.012634256854653,0.021931424736977,-0.090887933969498,-0.143851399421692,0.063377410173416,0.089452825486660,-0.012381731532514,-0.144575163722038,-0.015048007480800,-0.107468061149120,-0.136205226182938,0.153077363967896,0.269072055816650,0.179697215557098));
res += mul(Get(s3,-dx,-dy), float4x4(0.001980502856895,-0.114206999540329,0.128235340118408,0.005500199273229,-0.026280751451850,-0.148282155394554,0.051528993993998,0.053755700588226,-0.144380047917366,-0.021454622969031,-0.219507172703743,-0.075494490563869,0.009037202224135,0.198552727699280,-0.123905509710312,0.086720354855061));
res += mul(Get(s3,-dx,0), float4x4(-0.097321704030037,0.005146054551005,-0.003319457406178,-0.205499023199081,-0.136582747101784,0.096024312078953,-0.252179533243179,-0.243565961718559,-0.085197031497955,0.078305199742317,0.082011714577675,-0.136982575058937,0.117598608136177,-0.112510740756989,0.001102729467675,-0.143718704581261));
res += mul(Get(s3,-dx,dy), float4x4(-0.182930722832680,-0.079963594675064,-0.039521574974060,-0.142864838242531,0.049250520765781,-0.055530402809381,-0.087146833539009,0.075403422117233,-0.093062132596970,0.213444828987122,0.020847499370575,0.122332066297531,-0.093442365527153,0.145038723945618,-0.008159155957401,-0.164232119917870));
res += mul(Get(s3,0,-dy), float4x4(0.084521308541298,-0.080183744430542,0.009473815560341,-0.120983824133873,-0.070364214479923,0.027343586087227,-0.274501293897629,-0.014821488410234,-0.040144991129637,0.045407310128212,0.002367571694776,-0.015509906224906,-0.032804727554321,-0.240139454603195,0.241812795400620,-0.138508856296539));
res += mul(Get(s3,0,0), float4x4(-0.077045455574989,0.014964939095080,0.041818767786026,-0.246566161513329,0.013985301367939,0.125724896788597,-0.182433113455772,0.113359272480011,-0.015410037711263,-0.165042132139206,-0.098052881658077,0.010130392387509,-0.074830226600170,0.277031838893890,-0.196126788854599,0.062305472791195));
res += mul(Get(s3,0,dy), float4x4(-0.051902394741774,0.225613042712212,-0.105421297252178,0.065657898783684,0.026512397453189,-0.066313289105892,0.114168949425220,0.043529625982046,0.020923472940922,0.107576668262482,0.118303678929806,-0.085781201720238,-0.005919880699366,0.141827151179314,0.063840255141258,-0.142391115427017));
res += mul(Get(s3,dx,-dy), float4x4(-0.053326230496168,-0.068794816732407,-0.133724853396416,-0.121122136712074,-0.080850400030613,-0.201215744018555,0.099848650395870,-0.016858821734786,0.022501843050122,0.055426474660635,-0.047095682471991,0.021381311118603,0.038160324096680,-0.078159876167774,0.144505500793457,0.104826241731644));
res += mul(Get(s3,dx,0), float4x4(0.132050782442093,0.004083765204996,0.149934679269791,0.052535135298967,-0.019242098554969,-0.178301095962524,-0.024335667490959,-0.023682855069637,0.038741789758205,-0.154356837272644,0.150547876954079,0.008470411412418,0.117874927818775,-0.042828030884266,-0.020721955224872,0.166553363204002));
res += mul(Get(s3,dx,dy), float4x4(0.027292804792523,0.023575907573104,0.101191408932209,-0.135868698358536,0.176539674401283,-0.267422616481781,-0.061748992651701,0.029796782881021,0.177968889474869,-0.012123980559409,-0.156727090477943,0.100202500820160,-0.076874747872353,0.111960686743259,0.071634143590927,-0.150130242109299));
return max(float4(0,0,0,0), res);
}
