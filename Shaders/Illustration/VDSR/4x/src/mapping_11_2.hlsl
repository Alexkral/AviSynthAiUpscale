sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.114316225051880,-0.058134015649557,0.046916607767344,0.107379354536533,-0.044280815869570,-0.140378654003143,-0.134483903646469,0.004343296866864,0.139814019203186,-0.191078707575798,-0.051308155059814,0.064270615577698,-0.234366029500961,-0.100868664681911,0.146138682961464,-0.132069960236549));
res += mul(Get(s0,-dx,0), float4x4(-0.160215884447098,0.061923775821924,0.135576114058495,0.119598180055618,0.049068234860897,-0.098532497882843,-0.170730456709862,0.053985536098480,-0.023779794573784,-0.033132493495941,-0.100047305226326,-0.193194225430489,-0.018924633041024,-0.035395562648773,0.037232104688883,-0.021289205178618));
res += mul(Get(s0,-dx,dy), float4x4(0.052512347698212,-0.039616949856281,0.035234663635492,-0.207755342125893,0.037345129996538,-0.159950897097588,-0.247871235013008,-0.069175727665424,-0.006587923038751,0.081813097000122,0.068998284637928,0.010481860488653,0.092190362513065,-0.049163091927767,-0.097878292202950,-0.177137076854706));
res += mul(Get(s0,0,-dy), float4x4(-0.069498576223850,-0.067788124084473,-0.137715324759483,-0.062079332768917,-0.102906368672848,-0.092264898121357,-0.031905718147755,0.057605210691690,-0.013025722466409,0.057607796043158,-0.112153127789497,0.028596460819244,-0.011676945723593,0.029060812667012,0.065112270414829,-0.182259038090706));
res += mul(Get(s0,0,0), float4x4(0.057437535375357,-0.053426660597324,0.140071183443069,0.042116228491068,0.020953934639692,0.015331863425672,0.025878991931677,-0.038692947477102,0.134889334440231,0.024382986128330,-0.006704750936478,0.250669449567795,0.137182399630547,0.020476657897234,-0.087688967585564,0.000023341079213));
res += mul(Get(s0,0,dy), float4x4(-0.071114480495453,0.038129616528749,0.105181246995926,0.011056673713028,-0.174852520227432,-0.047382548451424,0.070112869143486,0.048443093895912,-0.041304491460323,0.031487081199884,0.036473076790571,-0.091638371348381,-0.098566472530365,0.058188512921333,-0.014898271299899,0.051055230200291));
res += mul(Get(s0,dx,-dy), float4x4(0.046124946326017,-0.089085511863232,0.071471892297268,0.012613351456821,0.105738878250122,0.057394023984671,0.022786946967244,0.149750381708145,-0.096577920019627,0.018038569018245,-0.267793506383896,0.173687830567360,-0.000936962605920,-0.020976327359676,-0.079336255788803,-0.065620355308056));
res += mul(Get(s0,dx,0), float4x4(-0.090257048606873,-0.195804119110107,-0.178258255124092,-0.125426188111305,-0.194623500108719,-0.170083135366440,-0.028714969754219,0.009194868616760,-0.158963963389397,-0.012722051702440,0.093346469104290,-0.136255234479904,0.010851897299290,0.004984721075743,-0.189561352133751,0.177931725978851));
res += mul(Get(s0,dx,dy), float4x4(0.008254964835942,-0.126189634203911,-0.163534179329872,-0.108969762921333,0.056806907057762,0.113903410732746,0.044650867581367,0.019377110525966,-0.170240417122841,-0.037916123867035,-0.118275873363018,-0.031007772311568,-0.010889681987464,0.002324831206352,-0.073969617486000,0.058378916233778));
res += mul(Get(s1,-dx,-dy), float4x4(0.124620914459229,0.197992488741875,0.237767621874809,0.092439755797386,0.052580617368221,0.080766998231411,0.064376272261143,-0.206460133194923,-0.099868200719357,-0.092412486672401,0.118755884468555,-0.013073101639748,0.080778561532497,-0.134674817323685,0.220817685127258,0.118966259062290));
res += mul(Get(s1,-dx,0), float4x4(0.053148150444031,-0.097249411046505,-0.072037570178509,0.086868040263653,-0.030936386436224,-0.004305069800466,-0.043422494083643,0.098997063934803,-0.010613230057061,0.153674647212029,0.107789285480976,-0.077345825731754,0.085729755461216,0.000860239844769,0.217876926064491,-0.064344860613346));
res += mul(Get(s1,-dx,dy), float4x4(-0.023412419483066,0.137261539697647,-0.128574758768082,-0.125195428729057,0.034011501818895,0.076912008225918,0.034300342202187,-0.153674051165581,-0.138086795806885,-0.000689753273036,-0.131086111068726,0.063928827643394,0.119807608425617,0.108945131301880,-0.073878780007362,-0.148834764957428));
res += mul(Get(s1,0,-dy), float4x4(0.044992797076702,-0.006071371491998,-0.008030937984586,0.005761566571891,0.049711827188730,0.112507134675980,-0.317929297685623,0.181714043021202,-0.103204160928726,-0.096490949392319,-0.084565095603466,0.002163725206628,0.055548608303070,0.039740901440382,0.108701489865780,0.068359382450581));
res += mul(Get(s1,0,0), float4x4(-0.065757706761360,-0.122183814644814,0.086601011455059,-0.063380360603333,0.090625330805779,0.241422086954117,0.061207834631205,-0.045753143727779,-0.004349612165242,-0.026132237166166,-0.067400731146336,-0.115233249962330,-0.076418720185757,-0.066218197345734,-0.060867425054312,0.036253992468119));
res += mul(Get(s1,0,dy), float4x4(-0.006269107572734,-0.078895047307014,-0.083117209374905,-0.001281141419895,0.048197649419308,-0.080710664391518,0.062823116779327,-0.030316781252623,-0.091393150389194,0.109541408717632,0.019998885691166,-0.072575479745865,-0.136939346790314,0.176369100809097,0.111325666308403,0.185461819171906));
res += mul(Get(s1,dx,-dy), float4x4(0.217708081007004,-0.021438343450427,0.064760789275169,0.115335933864117,0.037057280540466,0.216042175889015,0.004937261808664,0.202076062560081,-0.159472838044167,0.088322967290878,-0.136458680033684,-0.103861153125763,-0.167565599083900,-0.038169991225004,-0.206848829984665,-0.034000843763351));
res += mul(Get(s1,dx,0), float4x4(0.055142179131508,0.192464262247086,0.257833838462830,0.067355588078499,-0.073403105139732,-0.043480325490236,0.078361466526985,-0.062640093266964,0.198684215545654,-0.135752990841866,0.045650579035282,0.016634749248624,0.135404616594315,0.012497656047344,0.066698797047138,-0.116047412157059));
res += mul(Get(s1,dx,dy), float4x4(-0.053786445409060,0.129128068685532,-0.152888864278793,-0.068092294037342,-0.060060188174248,-0.105275429785252,0.101364418864250,0.084751427173615,-0.162771120667458,-0.087282411754131,-0.103308387100697,-0.052713558077812,-0.050109229981899,0.002611758420244,-0.188440605998039,0.111142821609974));
res += mul(Get(s2,-dx,-dy), float4x4(-0.215025141835213,-0.147011488676071,-0.100215807557106,-0.129284590482712,0.078022383153439,0.288383066654205,-0.032315120100975,0.006478964351118,0.169560164213181,-0.047107361257076,-0.175806477665901,0.204124301671982,0.000198846595595,0.017648443579674,-0.168290302157402,-0.142982468008995));
res += mul(Get(s2,-dx,0), float4x4(-0.118741177022457,0.065172739326954,-0.145327180624008,-0.143140569329262,-0.090123735368252,-0.114107429981232,-0.041686255484819,0.010215048678219,-0.101233422756195,-0.160311833024025,-0.110678941011429,-0.002944996114820,0.044005099684000,0.141203999519348,-0.175078094005585,0.023398146033287));
res += mul(Get(s2,-dx,dy), float4x4(0.079382546246052,-0.064635246992111,0.066718325018883,-0.072918049991131,-0.026212241500616,0.195057868957520,-0.003334521083161,-0.022842457517982,0.022540424019098,-0.070705652236938,-0.059802766889334,-0.079268850386143,-0.033727239817381,0.193507701158524,-0.022322300821543,0.133415892720222));
res += mul(Get(s2,0,-dy), float4x4(-0.234927356243134,-0.015982791781425,0.036279406398535,-0.092215105891228,0.030543584376574,-0.066174812614918,0.086133129894733,0.132210761308670,0.057127028703690,0.260900616645813,0.073848463594913,-0.208694204688072,-0.105692021548748,0.335726976394653,0.173023357987404,-0.005493696313351));
res += mul(Get(s2,0,0), float4x4(0.071009807288647,0.083938039839268,0.041170492768288,-0.075222648680210,0.215690135955811,-0.117306008934975,-0.014909176155925,0.003766661742702,0.206999599933624,0.051722966134548,0.105447471141815,0.154883384704590,-0.107105985283852,0.154098302125931,-0.361562311649323,-0.016495054587722));
res += mul(Get(s2,0,dy), float4x4(-0.150206238031387,0.143525838851929,0.123969629406929,-0.019183553755283,0.074376709759235,0.080064460635185,-0.192988291382790,0.167562037706375,0.101557023823261,0.057632900774479,0.075394675135612,0.069938607513905,-0.011469108983874,-0.137154042720795,0.002475523389876,-0.045823104679585));
res += mul(Get(s2,dx,-dy), float4x4(0.069007523357868,0.002312095602974,-0.141596108675003,0.163203269243240,-0.020032005384564,-0.074217252433300,0.046492796391249,-0.122746214270592,0.095760904252529,-0.122736342251301,0.007099939510226,-0.088589832186699,-0.045510675758123,0.034299261868000,0.003068536752835,-0.170339018106461));
res += mul(Get(s2,dx,0), float4x4(-0.198714345693588,0.063565514981747,-0.189405634999275,0.107291415333748,-0.225809425115585,0.190912321209908,-0.069647334516048,-0.010971795767546,-0.039509732276201,0.113377504050732,0.119485169649124,-0.180000722408295,-0.130696967244148,-0.130305305123329,-0.125425294041634,-0.099689997732639));
res += mul(Get(s2,dx,dy), float4x4(-0.082973301410675,0.074813462793827,0.028790475800633,-0.040091384202242,-0.025014521554112,0.126354426145554,-0.115651614964008,-0.040099129080772,0.132595762610435,0.062187965959311,0.318811148405075,-0.039861995726824,-0.173072516918182,-0.150012001395226,-0.499201953411102,-0.164123564958572));
res += mul(Get(s3,-dx,-dy), float4x4(0.162802785634995,0.027795037254691,0.211857467889786,-0.040538184344769,0.068987116217613,-0.099313586950302,0.084995023906231,-0.170227959752083,0.208672091364861,-0.039515968412161,-0.054930824786425,0.059730112552643,0.239528611302376,-0.131623595952988,-0.009334953501821,0.178505375981331));
res += mul(Get(s3,-dx,0), float4x4(-0.141431376338005,0.047802582383156,0.075556963682175,-0.078717447817326,0.121048912405968,-0.058388676494360,0.217561915516853,-0.106687471270561,0.074787139892578,-0.037342011928558,0.103258781135082,0.000450902356533,0.181897655129433,-0.097925141453743,-0.114182651042938,-0.113183967769146));
res += mul(Get(s3,-dx,dy), float4x4(-0.012138038873672,-0.030172197148204,-0.086342208087444,-0.153896957635880,0.179710477590561,0.099504806101322,0.037522945553064,-0.209315985441208,0.107408016920090,-0.006460724864155,-0.181556731462479,-0.042456615716219,-0.005878661293536,-0.260442405939102,-0.112782709300518,0.057599440217018));
res += mul(Get(s3,0,-dy), float4x4(0.156741470098495,-0.090726293623447,-0.038028813898563,0.259153962135315,-0.016582591459155,0.056427776813507,0.187594801187515,0.116932705044746,0.085498251020908,-0.106765992939472,-0.045700851827860,-0.011629605665803,-0.033609151840210,0.063694231212139,0.056333921849728,0.191305592656136));
res += mul(Get(s3,0,0), float4x4(0.102331608533859,-0.006637596990913,-0.049254700541496,0.070665389299393,0.125333711504936,0.141365215182304,0.024456027895212,0.153686761856079,0.010690733790398,-0.042037948966026,0.015120842494071,-0.039061609655619,-0.040900703519583,-0.262628197669983,0.097735270857811,0.066458031535149));
res += mul(Get(s3,0,dy), float4x4(0.186742678284645,0.051695942878723,-0.136200591921806,0.137310311198235,0.056929454207420,0.146031916141510,-0.174420043826103,0.079464614391327,-0.153258532285690,-0.039355132728815,-0.072652839124203,-0.066932164132595,0.019870368763804,0.088911741971970,-0.253091335296631,0.133484557271004));
res += mul(Get(s3,dx,-dy), float4x4(0.078550741076469,-0.125584542751312,0.120796881616116,-0.055225990712643,-0.009186907671392,0.049702998250723,-0.105803042650223,-0.059758607298136,-0.103323742747307,0.017040681093931,0.095031753182411,-0.025844424962997,-0.041344359517097,-0.012085195630789,0.155699774622917,0.114638097584248));
res += mul(Get(s3,dx,0), float4x4(0.007088789716363,-0.200824707746506,-0.239971041679382,0.042492538690567,0.028532486408949,-0.215654253959656,-0.021953808143735,-0.171757891774178,0.065657973289490,-0.187549144029617,-0.022423489019275,0.085856311023235,0.013808842748404,0.112019464373589,-0.165691241621971,-0.114154651761055));
res += mul(Get(s3,dx,dy), float4x4(0.133870989084244,0.128704532980919,-0.048790089786053,-0.016486581414938,0.040635440498590,-0.033638995140791,-0.191843897104263,-0.095261208713055,-0.128934621810913,0.287565261125565,-0.108610399067402,0.028901150450110,-0.087580755352974,-0.074344225227833,-0.046024631708860,0.200952783226967));
return max(float4(0,0,0,0), res);
}
