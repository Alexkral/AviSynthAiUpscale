sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.033946331590414,0.007964887656271,-0.037111215293407,-0.132956504821777,-0.343696266412735,-0.084519937634468,-0.044176958501339,0.227205485105515,-0.063434049487114,0.017732249572873,0.189263358712196,-0.116759598255157,-0.404211640357971,0.045370936393738,0.138390630483627,-0.164049267768860));
res += mul(Get(s0,-dx,0), float4x4(-0.098520204424858,-0.083552435040474,0.124618478119373,0.066314630210400,-0.302096277475357,0.174772217869759,-0.038243327289820,-0.147821977734566,-0.037902053445578,-0.064667977392673,0.168878674507141,-0.092101976275444,0.027252592146397,0.107351668179035,0.025574255734682,-0.174585491418839));
res += mul(Get(s0,-dx,dy), float4x4(-0.013768876902759,0.181043550372124,0.079614847898483,0.097934097051620,-0.445852518081665,-0.214876741170883,-0.235650092363358,-0.147087857127190,-0.231599077582359,-0.002516024978831,-0.086277708411217,-0.137280419468880,-0.049071658402681,0.457564473152161,0.052548266947269,-0.042309638112783));
res += mul(Get(s0,0,-dy), float4x4(0.092911019921303,0.117702931165695,0.129447028040886,-0.220051467418671,-0.165254890918732,-0.123837597668171,-0.107265204191208,0.132516771554947,-0.052122350782156,0.078048415482044,0.062599427998066,-0.082008771598339,0.196188181638718,0.026298020035028,0.065222635865211,-0.053165026009083));
res += mul(Get(s0,0,0), float4x4(0.065116569399834,0.210668802261353,0.068818271160126,0.090306080877781,0.273277521133423,-0.007261833641678,-0.023534549400210,0.074376605451107,0.079409882426262,-0.150832071900368,-0.164824694395065,-0.073356866836548,0.182459235191345,0.151150554418564,-0.036024045199156,-0.006819206755608));
res += mul(Get(s0,0,dy), float4x4(0.095987655222416,0.172113776206970,-0.041954003274441,-0.050631269812584,-0.063339754939079,-0.048988554626703,-0.011507937684655,-0.083601653575897,-0.091612599790096,0.263803780078888,-0.050974927842617,-0.202857896685600,-0.020572375506163,-0.198600128293037,-0.000314913952025,0.018079036846757));
res += mul(Get(s0,dx,-dy), float4x4(0.216139748692513,0.106764897704124,-0.081961534917355,-0.047059513628483,0.060852263122797,-0.169651582837105,-0.036878064274788,-0.088485106825829,-0.083542875945568,-0.058969486504793,-0.008736234158278,-0.061580069363117,0.005105790682137,-0.131264194846153,-0.091851577162743,0.038478214293718));
res += mul(Get(s0,dx,0), float4x4(-0.102316610515118,-0.237410202622414,0.085171826183796,0.029955180361867,0.240934610366821,-0.146942481398582,0.044155746698380,0.092124894261360,-0.184030979871750,-0.112347275018692,-0.082734651863575,-0.135432273149490,-0.028678370639682,0.121696971356869,-0.124208003282547,0.068725176155567));
res += mul(Get(s0,dx,dy), float4x4(0.024487784132361,-0.269662201404572,-0.049664676189423,0.075954847037792,0.044238172471523,-0.123288117349148,0.138893216848373,0.149260908365250,-0.302788645029068,0.019064510241151,-0.033949740231037,-0.285790830850601,0.024670716375113,0.051435764878988,0.242516830563545,0.044040884822607));
res += mul(Get(s1,-dx,-dy), float4x4(-0.158248409628868,-0.012903659604490,0.061514265835285,-0.015729743987322,-0.310231983661652,0.039678975939751,-0.012513972818851,-0.158201202750206,0.409651875495911,0.195905342698097,0.084706924855709,-0.230101123452187,-0.052654206752777,-0.086123965680599,0.043824698776007,0.099396258592606));
res += mul(Get(s1,-dx,0), float4x4(0.091806411743164,0.062784127891064,0.035594522953033,-0.066841766238213,-0.002473245840520,-0.083348371088505,0.103132434189320,-0.144898280501366,0.084269486367702,-0.046773616224527,0.104484446346760,-0.149480491876602,0.205020725727081,-0.032534182071686,-0.032649856060743,-0.101761050522327));
res += mul(Get(s1,-dx,dy), float4x4(0.006503170821816,-0.106359511613846,0.011891665868461,-0.193899661302567,-0.112573325634003,0.048163764178753,-0.029922865331173,0.001506085973233,-0.159338608384132,-0.046036146581173,-0.017181225121021,-0.106509394943714,-0.006456323899329,-0.047428358346224,0.010087835602462,-0.072149701416492));
res += mul(Get(s1,0,-dy), float4x4(-0.064992837607861,0.044396627694368,-0.068367727100849,-0.163610503077507,0.238293394446373,0.048887308686972,0.198985263705254,0.038753159344196,0.241516709327698,0.213986232876778,0.019955052062869,-0.139136716723442,-0.006967481691390,-0.037107989192009,-0.052564874291420,-0.015126716345549));
res += mul(Get(s1,0,0), float4x4(-0.189354434609413,0.273960709571838,-0.034479364752769,0.013167097233236,0.228509187698364,-0.010546736419201,-0.076534859836102,-0.197677075862885,-0.172303631901741,-0.106424503028393,-0.274454176425934,-0.025016611441970,0.272557675838470,-0.100319229066372,-0.108282044529915,0.000277427636320));
res += mul(Get(s1,0,dy), float4x4(-0.029610851779580,-0.041356291621923,-0.031995262950659,-0.162982925772667,-0.059921305626631,-0.173268228769302,-0.090208746492863,-0.121515132486820,-0.002980950521305,-0.130873322486877,-0.377985745668411,-0.033410709351301,-0.178145319223404,-0.045435570180416,-0.066475234925747,-0.058095939457417));
res += mul(Get(s1,dx,-dy), float4x4(-0.080348268151283,-0.122645437717438,-0.186804920434952,-0.082845374941826,-0.016174810007215,0.044592298567295,0.235343277454376,-0.087440609931946,0.040881719440222,-0.048188529908657,-0.021382734179497,-0.158451035618782,-0.178637295961380,0.169365584850311,-0.280835121870041,-0.048590660095215));
res += mul(Get(s1,dx,0), float4x4(-0.130592316389084,-0.012748725712299,-0.100061699748039,0.191435962915421,-0.035791553556919,0.077464044094086,-0.000523338792846,0.092502988874912,-0.055823784321547,0.004433190915734,-0.324067145586014,-0.075363904237747,-0.030149742960930,-0.267386019229889,-0.205753356218338,-0.026259105652571));
res += mul(Get(s1,dx,dy), float4x4(0.146420449018478,-0.308928400278091,-0.082682736217976,-0.109368719160557,0.018027788028121,-0.113397642970085,0.105559661984444,0.167389437556267,0.030289379879832,0.005901785567403,-0.363163620233536,-0.071679942309856,-0.088657438755035,-0.173930153250694,-0.201856821775436,-0.091413468122482));
res += mul(Get(s2,-dx,-dy), float4x4(-0.144043549895287,-0.012794397771358,0.044366814196110,-0.045216735452414,0.030559107661247,0.063899189233780,0.083781741559505,0.068172767758369,0.100047543644905,-0.138525784015656,-0.029791196808219,0.143026962876320,0.312479346990585,0.026398878544569,-0.103427372872829,-0.035469755530357));
res += mul(Get(s2,-dx,0), float4x4(-0.063002683222294,0.159167394042015,0.149691730737686,0.187259986996651,0.075039736926556,0.066777229309082,-0.072408124804497,0.274068087339401,-0.054492495954037,0.047955129295588,-0.037062317132950,0.209171667695045,-0.038987800478935,-0.112767443060875,-0.103742957115173,0.040155459195375));
res += mul(Get(s2,-dx,dy), float4x4(-0.127956792712212,-0.066543906927109,0.063611783087254,-0.236073091626167,-0.143220484256744,-0.036348134279251,-0.018951473757625,-0.044899817556143,0.122216865420341,0.376085430383682,-0.186999246478081,0.194387048482895,-0.165291815996170,-0.111519157886505,0.008743112906814,-0.089859068393707));
res += mul(Get(s2,0,-dy), float4x4(-0.065289385616779,-0.102795474231243,0.014154898934066,-0.082072034478188,-0.111162312328815,-0.009782893583179,-0.009961007162929,0.095779016613960,0.067306526005268,-0.031785886734724,-0.001286691287532,-0.075438849627972,0.225088506937027,-0.130441442131996,0.015944462269545,0.048006687313318));
res += mul(Get(s2,0,0), float4x4(-0.073104307055473,-0.029336862266064,0.159098282456398,0.370982706546783,0.130814358592033,0.061113953590393,-0.010768803767860,0.191215977072716,-0.018463788554072,0.023367647081614,0.075764954090118,0.112638980150223,-0.188273668289185,-0.074459567666054,-0.086601600050926,0.100904896855354));
res += mul(Get(s2,0,dy), float4x4(-0.275636881589890,-0.073206350207329,0.017830358818173,-0.119413226842880,-0.191278934478760,-0.020892942324281,-0.048585787415504,-0.052866619080305,0.136529445648193,0.083643779158592,-0.050646752119064,0.222749158740044,-0.040250826627016,-0.033568594604731,-0.139312118291855,-0.127823367714882));
res += mul(Get(s2,dx,-dy), float4x4(0.016413988545537,-0.018319655209780,-0.110530257225037,-0.079338103532791,-0.164826601743698,-0.012660213746130,0.242442667484283,-0.038602046668530,0.066202849149704,-0.080565683543682,0.012192366644740,-0.136279642581940,0.007651198189706,-0.240712940692902,0.201320782303810,-0.200527071952820));
res += mul(Get(s2,dx,0), float4x4(-0.020178306847811,-0.115583859384060,0.140492364764214,0.103792496025562,0.110103152692318,0.076738916337490,0.209824711084366,0.024254150688648,-0.002445957623422,-0.077007621526718,0.077039614319801,0.015124800615013,-0.049445696175098,-0.139476031064987,0.210272386670113,0.096963547170162));
res += mul(Get(s2,dx,dy), float4x4(-0.119915418326855,0.033240113407373,0.128321856260300,-0.220118716359138,0.107034631073475,-0.136212930083275,0.160859376192093,-0.026483887806535,0.214875087141991,0.012451060116291,0.008889948949218,0.195549786090851,0.262870550155640,-0.117594040930271,0.016791472211480,-0.106823988258839));
res += mul(Get(s3,-dx,-dy), float4x4(0.057625785470009,-0.041058178991079,0.009791512973607,0.066727243363857,-0.155334636569023,-0.055015344172716,-0.127164170145988,-0.149596810340881,-0.081300526857376,-0.080663442611694,0.056999962776899,0.028966879472136,-0.026097971946001,0.255723088979721,-0.014706614427269,-0.244963258504868));
res += mul(Get(s3,-dx,0), float4x4(0.141186609864235,-0.069651030004025,-0.061667758971453,0.181703135371208,-0.014333853498101,0.012235829606652,-0.170262292027473,0.321348935365677,0.040652051568031,0.073206529021263,-0.059287130832672,0.110013149678707,0.020154610276222,0.174908831715584,-0.146514669060707,0.072709091007710));
res += mul(Get(s3,-dx,dy), float4x4(-0.110434629023075,-0.065076611936092,0.187249630689621,0.089606828987598,-0.047510940581560,0.039111610502005,-0.149205714464188,0.002945181680843,0.185119524598122,0.063008025288582,0.061380784958601,0.069636486470699,0.122256003320217,-0.016798304393888,-0.076023802161217,-0.201321318745613));
res += mul(Get(s3,0,-dy), float4x4(0.066973641514778,-0.059459697455168,-0.042031958699226,0.146765351295471,-0.213320717215538,-0.116402342915535,-0.080370523035526,-0.147560521960258,-0.099480003118515,-0.008916899561882,0.127745494246483,-0.176124304533005,0.108544006943703,0.118710547685623,-0.018375469371676,-0.047079902142286));
res += mul(Get(s3,0,0), float4x4(0.040430363267660,0.126585826277733,0.152808055281639,0.096036568284035,0.182544142007828,-0.094662822782993,-0.059934332966805,-0.012637543492019,0.041849870234728,0.038300197571516,-0.161721661686897,0.094469875097275,-0.008735443465412,-0.024385480210185,-0.082076974213123,0.112135663628578));
res += mul(Get(s3,0,dy), float4x4(-0.026082912459970,0.116179227828979,-0.021870275959373,-0.023401007056236,0.043770845979452,-0.068919807672501,-0.011285990476608,0.062557555735111,0.045313317328691,0.060465771704912,-0.083400413393974,0.176244482398033,0.185230389237404,0.076380394399166,-0.037085689604282,-0.031475905328989));
res += mul(Get(s3,dx,-dy), float4x4(0.082098782062531,-0.080229528248310,0.065374866127968,0.081890098750591,-0.335344582796097,-0.042705450206995,-0.005847939755768,-0.087328650057316,0.022457286715508,-0.099347352981567,0.111758172512054,0.108503274619579,0.248565703630447,0.102384597063065,-0.073157809674740,-0.089456669986248));
res += mul(Get(s3,dx,0), float4x4(0.013733406551182,-0.163941830396652,-0.202747344970703,-0.183764517307281,-0.108079753816128,-0.109470486640930,-0.133482664823532,-0.115925543010235,0.130757957696915,-0.024743132293224,0.065910302102566,0.064398467540741,0.028549764305353,-0.106477409601212,0.134429678320885,0.016465272754431));
res += mul(Get(s3,dx,dy), float4x4(-0.001211703056470,-0.012659762054682,0.016106659546494,-0.117002889513969,-0.158945783972740,-0.210163578391075,-0.062940530478954,-0.077114067971706,-0.105764731764793,-0.053251799196005,-0.035272769629955,0.001365585485473,0.294132322072983,-0.042033679783344,0.025241002440453,-0.065928198397160));
return max(float4(0,0,0,0), res);
}
