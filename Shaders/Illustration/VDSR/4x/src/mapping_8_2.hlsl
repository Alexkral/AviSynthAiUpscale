sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.032726477831602,0.004037931561470,0.121222846210003,0.136307597160339,-0.204343482851982,-0.127955660223961,-0.148750528693199,-0.013880314305425,-0.004696745425463,0.094916477799416,0.316753506660461,0.099697262048721,0.038027845323086,-0.019601313397288,-0.257504582405090,-0.014996327459812));
res += mul(Get(s0,-dx,0), float4x4(0.139352634549141,-0.017417002469301,0.060114495456219,-0.012382599525154,-0.103481397032738,0.166154235601425,-0.140569448471069,0.064773611724377,-0.029535310342908,0.105876691639423,-0.013635503128171,0.065738439559937,-0.035268023610115,-0.060065761208534,0.036769859492779,0.090142570436001));
res += mul(Get(s0,-dx,dy), float4x4(0.226700574159622,-0.037909280508757,-0.110019899904728,-0.006829525344074,-0.048554971814156,0.164323881268501,-0.030380710959435,0.024442223832011,-0.003008234081790,-0.048624295741320,0.219723656773567,0.196883589029312,-0.071511723101139,-0.130137354135513,0.030605735257268,0.036502242088318));
res += mul(Get(s0,0,-dy), float4x4(0.015382354147732,0.126917809247971,0.220072805881500,0.061188034713268,-0.140453711152077,-0.034608665853739,-0.109363824129105,-0.058667238801718,-0.091767653822899,0.173557698726654,0.019394678995013,-0.246305793523788,0.015664510428905,0.006843085866421,0.177938133478165,0.114060394465923));
res += mul(Get(s0,0,0), float4x4(-0.044548023492098,-0.029716012999415,0.044055394828320,0.001557915122248,-0.019592585042119,-0.246991574764252,-0.048197712749243,-0.035725489258766,0.049466289579868,0.038966983556747,0.116313666105270,-0.004504003096372,0.052875697612762,0.044094454497099,0.039285395294428,0.050523996353149));
res += mul(Get(s0,0,dy), float4x4(0.070625714957714,0.040681738406420,-0.003978923428804,-0.022238153964281,-0.183669447898865,0.231107726693153,-0.190779969096184,0.083538681268692,-0.064474590122700,-0.184472754597664,0.124213151633739,-0.171842157840729,0.178956180810928,-0.160568714141846,0.049644727259874,0.034127015620470));
res += mul(Get(s0,dx,-dy), float4x4(-0.365879118442535,0.046641547232866,-0.230412319302559,-0.025001047179103,0.117584586143494,-0.127890601754189,0.237395793199539,0.001791676739231,0.012734617106616,-0.139901340007782,0.144609197974205,-0.024899618700147,0.129283010959625,0.064287684857845,0.209641858935356,-0.040654994547367));
res += mul(Get(s0,dx,0), float4x4(-0.177271813154221,0.024270806461573,0.060917221009731,-0.043009378015995,-0.028168376535177,-0.075481608510017,0.051755569875240,0.106489829719067,0.134603917598724,-0.048619039356709,-0.094862364232540,0.162693575024605,-0.071336068212986,-0.042087886482477,0.040242116898298,0.103136412799358));
res += mul(Get(s0,dx,dy), float4x4(-0.029844541102648,0.026326058432460,-0.048735398799181,-0.115194365382195,0.053967863321304,0.164719015359879,0.037976317107677,-0.131047740578651,-0.013279628008604,-0.114093892276287,0.024470357224345,-0.021289067342877,0.118806570768356,-0.062487501651049,-0.179856762290001,0.045810606330633));
res += mul(Get(s1,-dx,-dy), float4x4(0.013304327614605,0.021961616352201,-0.100633338093758,0.123012848198414,0.045144435018301,-0.079435057938099,-0.000877314305399,-0.045376233756542,-0.073592722415924,-0.120211340487003,-0.061410624533892,-0.134863391518593,-0.204071730375290,-0.081179335713387,-0.008540734648705,-0.017252430319786));
res += mul(Get(s1,-dx,0), float4x4(-0.070352740585804,-0.002465379424393,0.010337246581912,-0.073693729937077,-0.212940126657486,0.032345831394196,-0.100824125111103,0.007709788158536,-0.154384925961494,0.302084803581238,0.176541522145271,0.112577334046364,-0.110974334180355,0.005265119019896,-0.043879829347134,-0.284024208784103));
res += mul(Get(s1,-dx,dy), float4x4(0.219606488943100,0.136926695704460,-0.030014894902706,0.075160898268223,-0.045207995921373,0.032586872577667,-0.252880454063416,-0.051900845021009,0.077068112790585,0.020302323624492,-0.011830341070890,-0.037099573761225,0.164232611656189,-0.111875101923943,-0.046205334365368,0.127769008278847));
res += mul(Get(s1,0,-dy), float4x4(-0.193640232086182,0.196215987205505,-0.066938057541847,0.156067490577698,0.118357524275780,0.120851054787636,0.011620235629380,0.214679017663002,-0.008477805182338,-0.043098948895931,-0.077704064548016,0.172292470932007,0.079296320676804,0.013514629565179,0.041491851210594,0.044546958059072));
res += mul(Get(s1,0,0), float4x4(-0.023040007799864,0.185978770256042,0.107457831501961,-0.030530462041497,-0.132835119962692,-0.054881229996681,-0.164095520973206,-0.004108340479434,-0.013760761357844,-0.135722652077675,0.059082575142384,-0.141504570841789,-0.108772560954094,-0.080475538969040,0.068874143064022,0.101497851312160));
res += mul(Get(s1,0,dy), float4x4(0.168573230504990,0.052836984395981,0.053163994103670,0.133427932858467,0.033387426286936,0.106465935707092,0.071744553744793,0.068311408162117,-0.175148308277130,-0.154445260763168,-0.137347534298897,-0.064540736377239,0.064309388399124,-0.194501101970673,-0.051721889525652,-0.217266187071800));
res += mul(Get(s1,dx,-dy), float4x4(0.022042017430067,-0.058886993676424,0.011905591934919,-0.021829787641764,0.017199199646711,0.018204124644399,-0.079282611608505,-0.035216808319092,-0.104299895465374,0.262557804584503,-0.173196628689766,0.065524987876415,0.068319186568260,-0.186072602868080,0.000066914835770,0.051231678575277));
res += mul(Get(s1,dx,0), float4x4(0.032294515520334,0.109521232545376,-0.063788086175919,0.167316704988480,-0.078419521450996,-0.099404558539391,-0.152620092034340,0.051497660577297,-0.156112313270569,0.311682641506195,-0.107954315841198,0.008527065627277,-0.051671061664820,0.027092583477497,0.111417010426521,0.012531219981611));
res += mul(Get(s1,dx,dy), float4x4(0.251025348901749,-0.006269459612668,-0.212640359997749,0.108443088829517,0.030328655615449,0.192437246441841,-0.059528145939112,-0.099225454032421,0.036687411367893,0.126256376504898,0.065422631800175,-0.151997745037079,0.048340845853090,-0.110086701810360,0.022853877395391,-0.015737544745207));
res += mul(Get(s2,-dx,-dy), float4x4(-0.021798685193062,0.085782103240490,0.078027017414570,0.102426245808601,0.292242616415024,0.083437047898769,-0.040493428707123,0.151361569762230,0.040836591273546,0.019089760258794,0.074684470891953,0.014658015221357,0.119720228016376,-0.105144031345844,0.036402300000191,-0.068107225000858));
res += mul(Get(s2,-dx,0), float4x4(0.068294562399387,-0.204025968909264,-0.265600502490997,-0.138792812824249,-0.173567011952400,0.008120134472847,0.129436075687408,-0.038216363638639,0.036432668566704,0.143229514360428,0.005398507695645,-0.006560510490090,-0.119032628834248,-0.056915521621704,0.050088215619326,-0.070344537496567));
res += mul(Get(s2,-dx,dy), float4x4(0.084759831428528,0.180142223834991,-0.007416518870741,0.050144687294960,-0.068165525794029,0.189472541213036,-0.006388288456947,-0.146705299615860,-0.005334961228073,0.103540822863579,0.181128770112991,-0.030642716214061,-0.118409223854542,0.005510773975402,0.084099330008030,-0.160648047924042));
res += mul(Get(s2,0,-dy), float4x4(-0.056765608489513,-0.177685558795929,0.278958112001419,-0.078031331300735,-0.158857524394989,-0.045552700757980,0.034231752157211,0.035104010254145,0.160056546330452,-0.084059573709965,-0.061482779681683,-0.159119263291359,0.081222675740719,-0.007648665923625,-0.055813606828451,-0.214493453502655));
res += mul(Get(s2,0,0), float4x4(-0.068758904933929,0.133660092949867,-0.200306653976440,-0.043804407119751,-0.049873039126396,-0.083820685744286,0.047255486249924,0.020372094586492,0.042236477136612,-0.295825988054276,0.132083401083946,0.039447780698538,0.024642411619425,-0.036119688302279,-0.074799120426178,-0.157927766442299));
res += mul(Get(s2,0,dy), float4x4(-0.104203872382641,0.083682820200920,-0.084391891956329,-0.061061117798090,-0.109489962458611,-0.319347232580185,-0.100675560534000,-0.023666046559811,-0.068482689559460,-0.123609848320484,-0.095389567315578,0.082301475107670,-0.027182912454009,-0.022471513599157,-0.144428506493568,-0.051184121519327));
res += mul(Get(s2,dx,-dy), float4x4(-0.014144165441394,-0.020101619884372,-0.023993276059628,-0.297399312257767,0.071505479514599,-0.097503557801247,-0.032871276140213,0.216288372874260,-0.029900351539254,0.178820446133614,0.009934274479747,-0.002443508477882,0.135865211486816,-0.144993364810944,-0.036605924367905,0.169425278902054));
res += mul(Get(s2,dx,0), float4x4(-0.122981041669846,0.185414031147957,-0.068910375237465,0.071331016719341,0.035675100982189,-0.060337118804455,-0.040690477937460,0.267056137323380,0.090733937919140,-0.052717849612236,0.089569762349129,-0.283069938421249,-0.006679897196591,-0.083126991987228,-0.157746434211731,-0.018465612083673));
res += mul(Get(s2,dx,dy), float4x4(-0.082427918910980,0.000089726636361,-0.078081116080284,-0.171398162841797,0.138599351048470,-0.034956477582455,0.058549303561449,0.162693858146667,0.055209752172232,-0.053632147610188,-0.148232281208038,0.065249554812908,-0.170570775866508,-0.063739821314812,0.013436496257782,0.013952143490314));
res += mul(Get(s3,-dx,-dy), float4x4(0.121268771588802,0.006812485866249,0.005859659984708,0.039199054241180,0.165649473667145,0.080551907420158,-0.165672406554222,0.037841461598873,0.065321832895279,0.100602582097054,0.156515762209892,0.265728592872620,-0.103186145424843,0.189349532127380,0.015045848675072,0.025050420314074));
res += mul(Get(s3,-dx,0), float4x4(0.063701592385769,-0.061975289136171,-0.016401585191488,-0.060382481664419,0.033927295356989,0.047388251870871,0.048800311982632,0.001568510080688,0.008936864323914,0.326674014329910,0.074170798063278,0.041844453662634,0.065429911017418,0.063534162938595,-0.027723336592317,-0.076244756579399));
res += mul(Get(s3,-dx,dy), float4x4(0.227562978863716,0.160658374428749,-0.109702557325363,-0.109924003481865,0.115882053971291,0.094143569469452,-0.060501221567392,-0.075348421931267,0.172349616885185,-0.043424539268017,-0.129107028245926,-0.047956477850676,0.000145154321217,0.208976432681084,0.052152439951897,0.208094015717506));
res += mul(Get(s3,0,-dy), float4x4(0.018087375909090,-0.068125158548355,0.038402792066336,0.160347878932953,-0.184991225600243,-0.109400890767574,0.143476471304893,-0.126399919390678,0.220068708062172,0.001427652547136,0.128112107515335,0.240112453699112,-0.168116524815559,0.061479054391384,-0.144123494625092,0.207615628838539));
res += mul(Get(s3,0,0), float4x4(-0.184907227754593,-0.029185991734266,-0.083930931985378,-0.054667215794325,-0.066981486976147,0.186451300978661,0.052245154976845,0.117834761738777,0.094202838838100,-0.081652358174324,0.164652764797211,-0.084628537297249,0.046915624290705,-0.043808504939079,-0.141512587666512,0.091694131493568));
res += mul(Get(s3,0,dy), float4x4(-0.136851742863655,0.212174698710442,-0.147470399737358,-0.028843332082033,-0.049697052687407,0.040453385561705,-0.021621903404593,-0.065432682633400,0.007657325826585,-0.001030630781315,0.068052627146244,-0.154608666896820,-0.050376161932945,0.200167536735535,-0.118680991232395,0.056349713355303));
res += mul(Get(s3,dx,-dy), float4x4(0.076049938797951,-0.202263236045837,0.083658337593079,0.156038776040077,0.116178214550018,-0.056211605668068,-0.093763224780560,-0.155831336975098,-0.267034113407135,0.077093996107578,0.120514154434204,0.267578959465027,0.128079697489738,0.095102764666080,-0.139218240976334,-0.213620886206627));
res += mul(Get(s3,dx,0), float4x4(0.152710318565369,0.058908596634865,0.165259793400764,0.056296441704035,0.059096507728100,0.102978423237801,-0.098169781267643,-0.040654875338078,0.051195878535509,-0.216604337096214,-0.021278735250235,0.085303470492363,-0.032684534788132,-0.040968842804432,-0.094296418130398,0.182182863354683));
res += mul(Get(s3,dx,dy), float4x4(0.122430562973022,0.094246581196785,0.070471197366714,0.163956150412560,-0.072134949266911,0.048471029847860,0.091171927750111,-0.111632898449898,-0.121888272464275,0.082774035632610,0.149950191378593,-0.088665440678596,0.034856989979744,-0.079645887017250,-0.131255656480789,0.076905719935894));
return max(float4(0,0,0,0), res);
}
