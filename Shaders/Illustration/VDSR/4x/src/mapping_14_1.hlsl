sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.210170939564705,-0.020878978073597,-0.002996366005391,-0.109089732170105,0.206657797098160,0.022677820175886,-0.008621543645859,0.071247570216656,0.270740002393723,-0.124512292444706,0.049196392297745,-0.001511824899353,-0.184201344847679,0.276854455471039,0.108015820384026,0.031809817999601));
res += mul(Get(s0,-dx,0), float4x4(-0.032139323651791,0.054192464798689,0.021444769576192,0.009985113516450,0.096243515610695,0.124189198017120,0.009587142616510,0.019237803295255,-0.029830662533641,-0.057296488434076,0.069692604243755,0.102394491434097,0.140095040202141,-0.077521666884422,-0.053068678826094,-0.272635877132416));
res += mul(Get(s0,-dx,dy), float4x4(-0.072577454149723,0.073931217193604,-0.005173271987587,-0.025447323918343,0.096207365393639,0.109546653926373,0.236894294619560,0.036869369447231,-0.279898107051849,-0.040285572409630,0.223886638879776,-0.091617934405804,0.384939551353455,-0.110668368637562,-0.239587560296059,-0.148036673665047));
res += mul(Get(s0,0,-dy), float4x4(0.350798428058624,-0.136034965515137,0.010844296775758,-0.086082898080349,0.003149156458676,0.237226888537407,0.437575161457062,0.039044290781021,0.238993212580681,-0.229515671730042,-0.060345876961946,-0.165901482105255,-0.065650545060635,0.206840842962265,-0.145537450909615,-0.006439822260290));
res += mul(Get(s0,0,0), float4x4(0.003626816440374,0.030144155025482,0.011687930673361,-0.016880320385098,0.048579651862383,0.239678502082825,0.160556748509407,0.021308047696948,0.115563653409481,-0.004105084575713,-0.207377746701241,-0.111719518899918,0.478015542030334,-0.165464892983437,-0.175561606884003,-0.054417468607426));
res += mul(Get(s0,0,dy), float4x4(0.087693333625793,0.019046610221267,-0.136693969368935,0.028557507321239,0.313872277736664,0.016819417476654,0.116875477135181,-0.037297185510397,-0.039098896086216,0.413808256387711,0.184827953577042,-0.110164619982243,0.155268043279648,-0.060510501265526,-0.132976055145264,-0.047473628073931));
res += mul(Get(s0,dx,-dy), float4x4(0.458526045084000,-0.015424022451043,0.044897589832544,-0.094838775694370,0.111989781260490,-0.153954833745956,0.003796104807407,-0.025009140372276,0.388133496046066,-0.074400268495083,-0.134592324495316,-0.172814488410950,-0.006114873103797,0.564229547977448,-0.126692816615105,-0.096387870609760));
res += mul(Get(s0,dx,0), float4x4(0.471160978078842,-0.082991667091846,-0.027341306209564,-0.140466481447220,0.007972199469805,0.095903575420380,-0.048053495585918,-0.014493726193905,0.155556216835976,0.094227813184261,-0.122556537389755,0.000886312569492,0.512056946754456,0.037885680794716,-0.221999585628510,-0.108000524342060));
res += mul(Get(s0,dx,dy), float4x4(0.407683461904526,-0.070452570915222,0.088479347527027,-0.006935305427760,0.007930846884847,-0.035246483981609,0.101723775267601,0.065806806087494,-0.109274297952652,-0.080893702805042,-0.141766384243965,-0.057727053761482,0.353526115417480,0.009034289047122,-0.201648429036140,-0.207097783684731));
res += mul(Get(s1,-dx,-dy), float4x4(-0.403271347284317,0.198839083313942,0.073946356773376,0.197430953383446,-0.215404614806175,0.148852825164795,0.093326315283775,0.050848994404078,-0.026035789400339,0.237106814980507,0.199954837560654,0.128656730055809,0.290884107351303,-0.264827996492386,-0.136898443102837,-0.224141702055931));
res += mul(Get(s1,-dx,0), float4x4(-0.286360770463943,0.098703689873219,0.003081508446485,0.143381476402283,-0.138721644878387,0.080440834164619,0.119546338915825,-0.089196555316448,0.136014521121979,0.394250154495239,0.079358391463757,-0.267737835645676,0.121089339256287,0.062959738075733,-0.155980378389359,0.018733363598585));
res += mul(Get(s1,-dx,dy), float4x4(-0.313117653131485,0.250560760498047,0.024550432339311,-0.029343595728278,-0.050132211297750,0.158071815967560,0.061058431863785,0.073172293603420,0.140833750367165,-0.100500412285328,0.177053943276405,-0.055263292044401,-0.017894839867949,0.236298605799675,-0.000352818926331,0.067254491150379));
res += mul(Get(s1,0,-dy), float4x4(-0.152948260307312,-0.019087353721261,0.219465106725693,-0.119032442569733,0.118699394166470,0.012352767400444,0.007108998484910,0.047660771757364,0.725800693035126,-0.017311291769147,-0.089954435825348,-0.034570571035147,0.103877618908882,-0.144950762391090,-0.049527894705534,-0.115044608712196));
res += mul(Get(s1,0,0), float4x4(0.008364442735910,0.109397791326046,0.125356078147888,0.056631010025740,0.118876263499260,-0.092342309653759,-0.126472413539886,-0.105738766491413,0.647308468818665,-0.079796165227890,-0.139620125293732,-0.160611495375633,0.039195455610752,-0.108590669929981,0.072692111134529,0.025087518617511));
res += mul(Get(s1,0,dy), float4x4(-0.017104720696807,-0.291399329900742,0.207507044076920,-0.075815722346306,0.353882759809494,-0.126232787966728,-0.195543110370636,-0.088448695838451,0.434798836708069,-0.086460955440998,-0.104305319488049,-0.092868268489838,-0.110347755253315,-0.081751577556133,0.267784625291824,0.067767031490803));
res += mul(Get(s1,dx,-dy), float4x4(0.131183594465256,0.025634456425905,0.063601620495319,-0.039362058043480,0.085651770234108,-0.082325808703899,0.103370413184166,-0.012595938518643,0.263435989618301,-0.226234927773476,-0.078957155346870,-0.209296897053719,0.098628610372543,-0.122276596724987,-0.038165442645550,-0.090702347457409));
res += mul(Get(s1,dx,0), float4x4(0.256330490112305,0.031393852084875,0.044443380087614,0.132219538092613,0.258223414421082,0.109206520020962,-0.197052195668221,-0.122105129063129,0.349708139896393,-0.072323434054852,-0.098442047834396,-0.054263141006231,-0.186552762985229,-0.104280203580856,0.018638774752617,-0.008552870713174));
res += mul(Get(s1,dx,dy), float4x4(0.279147148132324,-0.011432232335210,0.043805815279484,-0.095421761274338,0.430557489395142,-0.148563742637634,-0.199290454387665,-0.283439040184021,0.388375043869019,-0.124936826527119,-0.217338249087334,-0.166125312447548,0.150218889117241,-0.036024793982506,0.141467064619064,0.065573483705521));
res += mul(Get(s2,-dx,-dy), float4x4(-0.030539000406861,0.128104716539383,-0.011998815461993,-0.011249387636781,0.312053054571152,-0.118746213614941,-0.168639704585075,-0.040103670209646,-0.176002666354179,0.015656361356378,0.118725501000881,0.137834325432777,0.794503092765808,-0.162440612912178,-0.108969703316689,-0.003851136192679));
res += mul(Get(s2,-dx,0), float4x4(0.169157400727272,-0.065884277224541,-0.066712588071823,-0.134377464652061,0.126594081521034,0.023051515221596,-0.161258473992348,-0.090480558574200,-0.049710158258677,-0.040765382349491,0.082467928528786,-0.284462362527847,0.152942284941673,-0.028977720066905,0.016654709354043,0.065221227705479));
res += mul(Get(s2,-dx,dy), float4x4(0.228148460388184,-0.264950752258301,-0.093517616391182,-0.037585642188787,-0.003934073261917,0.113614708185196,-0.032014787197113,-0.118487924337387,0.029158139601350,-0.082445211708546,0.150355160236359,-0.008202856406569,0.451832681894302,-0.094678387045860,0.014351758174598,-0.142374232411385));
res += mul(Get(s2,0,-dy), float4x4(-0.223071083426476,0.000010845156794,0.066582970321178,0.073294095695019,0.237315624952316,0.112751439213753,-0.081475667655468,-0.027744954451919,0.153797596693039,0.370950341224670,-0.169162422418594,0.151664778590202,0.548335969448090,-0.227297037839890,-0.103125713765621,-0.104520961642265));
res += mul(Get(s2,0,0), float4x4(-0.020669341087341,-0.096849694848061,0.068125732243061,-0.129576697945595,-0.062907285988331,0.445825040340424,-0.106415092945099,-0.272247642278671,0.356765151023865,0.108653813600540,-0.219735518097878,-0.120744861662388,0.140648156404495,-0.126645386219025,-0.063935078680515,0.036502536386251));
res += mul(Get(s2,0,dy), float4x4(0.266618132591248,-0.015751346945763,0.146767050027847,-0.074629679322243,-0.124289520084858,0.167663753032684,-0.376358091831207,-0.106386572122574,0.054852452129126,-0.031303975731134,-0.117080189287663,-0.137302383780479,-0.083723559975624,-0.073179446160793,0.039007712155581,-0.122453659772873));
res += mul(Get(s2,dx,-dy), float4x4(-0.414048224687576,0.034168098121881,0.168658152222633,0.263112276792526,0.163863420486450,0.280006438493729,-0.002656439784914,0.067743025720119,0.347433239221573,-0.129526779055595,-0.187812760472298,0.019899869337678,-0.114371098577976,0.165764033794403,0.426841467618942,0.162512451410294));
res += mul(Get(s2,dx,0), float4x4(-0.245955169200897,0.121784158051014,0.243371978402138,0.156893447041512,-0.000205877266126,0.098636552691460,0.072369769215584,0.013876345939934,0.680320739746094,-0.158181071281433,-0.207996830344200,-0.131783008575439,-0.315135776996613,0.039659544825554,0.262489050626755,-0.010353872552514));
res += mul(Get(s2,dx,dy), float4x4(0.126734361052513,0.209339842200279,0.222523808479309,0.142248153686523,-0.123442962765694,0.093653023242950,0.135287940502167,-0.100755438208580,0.203691452741623,-0.089336752891541,-0.143496036529541,-0.095208123326302,-0.457581847906113,0.342106670141220,0.172446966171265,-0.213303014636040));
res += mul(Get(s3,-dx,-dy), float4x4(0.339921653270721,-0.179444536566734,-0.193729087710381,-0.123273141682148,0.294560074806213,-0.069028012454510,0.054203487932682,-0.010185173712671,0.048554789274931,0.140577822923660,0.018852561712265,0.044961582869291,0.022141382098198,-0.017911771312356,-0.200366601347923,-0.163976073265076));
res += mul(Get(s3,-dx,0), float4x4(0.095669478178024,-0.182622656226158,0.067968972027302,-0.055848632007837,0.188201621174812,-0.171235293149948,0.192320346832275,0.021721487864852,0.201455816626549,0.026170594617724,-0.101568929851055,0.158321499824524,0.184581652283669,-0.000566782895476,-0.020479151979089,-0.089400619268417));
res += mul(Get(s3,-dx,dy), float4x4(-0.165865972638130,-0.044500239193439,0.165529400110245,0.116394519805908,-0.041671387851238,0.105802446603775,0.080347105860710,0.041442811489105,0.259926497936249,0.117198050022125,-0.002313770819455,0.141102045774460,0.391690194606781,-0.187259703874588,-0.134529665112495,-0.000365838233847));
res += mul(Get(s3,0,-dy), float4x4(0.059158790856600,-0.068318158388138,0.046938505023718,-0.016258455812931,0.252619177103043,-0.111130394041538,-0.093846358358860,0.017946351319551,-0.082993358373642,0.213890969753265,0.151682630181313,-0.234712034463882,-0.265637964010239,0.087748639285564,0.130025550723076,0.027632918208838));
res += mul(Get(s3,0,0), float4x4(0.121637426316738,-0.023433106020093,0.075488388538361,0.003213358344510,0.486860632896423,0.009549835696816,0.003505876986310,-0.023050567135215,0.145909503102303,0.034127444028854,0.102216504514217,-0.094729177653790,-0.130870655179024,0.029927013441920,0.061254594475031,0.079481996595860));
res += mul(Get(s3,0,dy), float4x4(-0.196863591670990,-0.201512694358826,-0.036084394901991,-0.154389008879662,-0.017229225486517,-0.126396790146828,0.052996873855591,0.010671471245587,0.103307031095028,0.111823439598083,-0.022240821272135,0.068166002631187,0.078288368880749,-0.138317137956619,0.006497181486338,0.103180035948753));
res += mul(Get(s3,dx,-dy), float4x4(0.598084568977356,-0.068333029747009,-0.042470350861549,-0.079383246600628,0.065843738615513,-0.168603986501694,-0.245416969060898,-0.166600853204727,-0.105107747018337,0.256971240043640,0.475252807140350,0.221277102828026,-0.313817471265793,-0.104898072779179,0.116730950772762,0.086244791746140));
res += mul(Get(s3,dx,0), float4x4(-0.006306396331638,0.047748044133186,-0.024657458066940,0.062042377889156,0.320106059312820,-0.038862388581038,-0.088477768003941,-0.166704043745995,-0.082544490695000,0.080277182161808,0.302705526351929,-0.050574123859406,-0.242601454257965,-0.109686523675919,0.289838284254074,-0.175645530223846));
res += mul(Get(s3,dx,dy), float4x4(-0.209489136934280,0.468448132276535,0.183433577418327,0.377537101507187,0.302410006523132,-0.080473028123379,-0.158134132623672,-0.103810541331768,-0.099139966070652,0.017659012228251,0.242720842361450,0.108879543840885,0.053437013179064,-0.057722091674805,0.070721529424191,0.163733273744583));
return max(float4(0,0,0,0), res);
}
