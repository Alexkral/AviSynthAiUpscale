sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.080879867076874,-0.162383258342743,-0.049773313105106,0.081543736159801,0.062105130404234,0.054835740476847,-0.107733219861984,0.116478234529495,0.190658882260323,-0.128326579928398,0.160339072346687,0.015386622399092,-0.203551337122917,-0.108861334621906,0.164853140711784,0.033585887402296));
res += mul(Get(s0,-dx,0), float4x4(-0.055762037634850,-0.176156789064407,-0.036560807377100,0.016327586025000,-0.154716134071350,-0.131595402956009,0.024690603837371,-0.069518387317657,-0.121132127940655,0.048127327114344,-0.026236752048135,0.076250538229942,-0.038497354835272,-0.078698955476284,0.295863986015320,0.079065084457397));
res += mul(Get(s0,-dx,dy), float4x4(0.042308647185564,0.105695523321629,0.068773090839386,0.081742115318775,0.016859851777554,0.087913356721401,-0.102441661059856,-0.009575956501067,-0.003608183003962,-0.030220637097955,-0.070345416665077,0.036040779203176,0.067433677613735,0.144707098603249,0.187645688652992,-0.011486996896565));
res += mul(Get(s0,0,-dy), float4x4(0.115040257573128,-0.044725578278303,0.133709788322449,0.123697184026241,0.090569771826267,-0.161905318498611,-0.137429073452950,0.190848082304001,-0.103118136525154,-0.091560713946819,0.055460356175900,0.061383415013552,-0.005777676589787,-0.085265599191189,0.034068655222654,0.082208625972271));
res += mul(Get(s0,0,0), float4x4(0.168040290474892,0.121417015790939,-0.156822174787521,0.255585163831711,0.367034167051315,-0.099744409322739,-0.038786135613918,0.208163440227509,-0.041237797588110,-0.034245096147060,-0.072818726301193,0.099763236939907,0.161796241998672,-0.060221042484045,-0.029283115640283,0.136197909712791));
res += mul(Get(s0,0,dy), float4x4(-0.048641148954630,0.140706077218056,-0.027356708422303,0.049088705331087,-0.094980284571648,-0.020447544753551,0.018339579924941,0.080963768064976,0.094288475811481,-0.188676804304123,0.020010329782963,-0.004434501286596,0.166333213448524,-0.065386377274990,-0.040494848042727,0.222102865576744));
res += mul(Get(s0,dx,-dy), float4x4(-0.100070603191853,-0.050028264522552,0.121221110224724,0.032435789704323,0.106039308011532,0.073126383125782,-0.022773576900363,-0.024405606091022,0.050361197441816,0.185636594891548,0.170583620667458,-0.204082578420639,-0.151351839303970,0.049528636038303,-0.000609807553701,0.052451863884926));
res += mul(Get(s0,dx,0), float4x4(0.128637284040451,0.006771584041417,-0.044077187776566,0.058208547532558,-0.178934812545776,-0.044926840811968,-0.118643365800381,0.057067595422268,-0.203966185450554,0.124017275869846,0.090879127383232,-0.041671413928270,0.112959906458855,0.024338161572814,-0.183714345097542,-0.061468079686165));
res += mul(Get(s0,dx,dy), float4x4(-0.064140185713768,0.086098112165928,0.087771229445934,0.264608621597290,-0.065876640379429,-0.252477139234543,-0.121042490005493,-0.237666055560112,0.075659126043320,-0.040824785828590,-0.104944773018360,-0.016779195517302,0.080887019634247,-0.100410610437393,-0.158833861351013,0.261047482490540));
res += mul(Get(s1,-dx,-dy), float4x4(-0.073039032518864,0.083565726876259,-0.108989886939526,0.132249116897583,-0.155780240893364,0.149478107690811,-0.109268575906754,-0.040998440235853,-0.018858449533582,-0.029891274869442,0.100523300468922,-0.240123301744461,0.103256620466709,0.091577112674713,-0.033073950558901,-0.079807847738266));
res += mul(Get(s1,-dx,0), float4x4(-0.120823301374912,-0.026003142818809,-0.270796239376068,-0.014415639452636,-0.011093202978373,-0.081820324063301,0.015824029222131,0.141080483794212,0.122077934443951,-0.009995038621128,0.021043429151177,-0.054492630064487,0.013594276271760,0.178660824894905,0.056596945971251,-0.022003812715411));
res += mul(Get(s1,-dx,dy), float4x4(0.011620965786278,0.001669566612691,-0.112806476652622,0.236325547099113,0.101930916309357,0.070273630321026,-0.178931057453156,0.162505537271500,-0.111293010413647,-0.010121592320502,0.034851513803005,-0.065318696200848,-0.066429883241653,0.205312594771385,-0.097397878766060,-0.084427513182163));
res += mul(Get(s1,0,-dy), float4x4(-0.014419401995838,0.092137023806572,-0.242699831724167,-0.090878345072269,0.002813186030835,-0.054156508296728,-0.063267543911934,-0.102925039827824,-0.058164030313492,-0.083909258246422,-0.014218429103494,-0.023737318813801,0.054821502417326,0.022782539948821,0.048593368381262,0.261279881000519));
res += mul(Get(s1,0,0), float4x4(0.017521494999528,0.029164751991630,0.059301719069481,-0.168277740478516,0.040484137833118,-0.005751265678555,0.026288717985153,0.222967222332954,-0.020368516445160,-0.120984062552452,-0.062763020396233,0.150083124637604,-0.030845142900944,0.078257180750370,0.193578675389290,0.099340863525867));
res += mul(Get(s1,0,dy), float4x4(0.162363737821579,-0.087951995432377,-0.097278468310833,0.073231548070908,-0.354088157415390,-0.093927271664143,-0.056200318038464,0.092843182384968,-0.240928575396538,0.206257849931717,0.040384490042925,0.002049477770925,-0.215867817401886,0.095108166337013,-0.077798649668694,0.057790420949459));
res += mul(Get(s1,dx,-dy), float4x4(-0.303714275360107,-0.012451273389161,-0.080070197582245,-0.094606250524521,-0.038202349096537,-0.007344041485339,0.102547295391560,-0.231725126504898,-0.043007880449295,-0.008264501579106,-0.133326321840286,-0.110976554453373,0.009223897010088,-0.249882280826569,-0.219990700483322,-0.081412769854069));
res += mul(Get(s1,dx,0), float4x4(-0.077949635684490,-0.010930130258203,-0.145505860447884,-0.075424216687679,0.052945680916309,-0.091408833861351,0.071375399827957,0.181089147925377,-0.065502263605595,-0.178128853440285,-0.013411248102784,0.025450628250837,-0.073073647916317,-0.030014095827937,-0.104320593178272,0.089960515499115));
res += mul(Get(s1,dx,dy), float4x4(0.166456371545792,-0.142842933535576,0.002793956780806,-0.139983654022217,0.204568743705750,0.042628061026335,-0.081158399581909,0.044191922992468,-0.102238573133945,-0.030668495222926,0.061821028590202,-0.067745827138424,-0.382896989583969,-0.155572548508644,-0.082096330821514,0.012492379173636));
res += mul(Get(s2,-dx,-dy), float4x4(0.115563474595547,-0.000235252009588,-0.026363344863057,-0.025293555110693,0.062502153217793,-0.072189010679722,0.147974118590355,0.071984849870205,0.028419734910131,0.160201534628868,-0.137759208679199,-0.402561604976654,0.062953293323517,0.011820214800537,-0.085259154438972,-0.067842304706573));
res += mul(Get(s2,-dx,0), float4x4(-0.076037921011448,-0.076533652842045,-0.098212584853172,0.097871251404285,-0.123957060277462,-0.045759350061417,0.126132100820541,-0.004787612240762,-0.069380261003971,-0.180601730942726,0.070552326738834,-0.085180908441544,0.062952972948551,-0.126476511359215,-0.005810374859720,-0.234698519110680));
res += mul(Get(s2,-dx,dy), float4x4(-0.144352003931999,0.140324905514717,-0.103629805147648,-0.002249894430861,0.059959497302771,-0.116544507443905,0.073266521096230,-0.115804456174374,-0.186538726091385,-0.121228322386742,-0.154635950922966,-0.190632387995720,0.014848584309220,0.001915291650221,-0.061004180461168,0.026383234187961));
res += mul(Get(s2,0,-dy), float4x4(0.115508340299129,0.042093019932508,-0.176582008600235,-0.121694795787334,0.005366196855903,-0.049807712435722,0.050606559962034,0.163894727826118,-0.025201644748449,0.157204896211624,0.057351447641850,-0.207374110817909,-0.013386605307460,-0.013891650363803,0.122728288173676,0.005301524884999));
res += mul(Get(s2,0,0), float4x4(0.072069726884365,-0.189099490642548,0.054627746343613,-0.152145847678185,0.014631258323789,-0.073388427495956,0.033981621265411,-0.032929215580225,-0.000195294094738,0.122405953705311,-0.094566307961941,-0.024597652256489,0.197160452604294,-0.072608835995197,-0.093253977596760,-0.178561776876450));
res += mul(Get(s2,0,dy), float4x4(0.016072040423751,0.037282563745975,-0.019099483266473,-0.000675386167131,-0.067635685205460,0.136139631271362,0.104317784309387,0.181621164083481,-0.033625058829784,0.159939602017403,0.154804512858391,-0.202494457364082,-0.085345670580864,0.035397000610828,-0.000112207228085,0.269935399293900));
res += mul(Get(s2,dx,-dy), float4x4(-0.021946121007204,-0.073773682117462,0.067208513617516,-0.171321943402290,-0.190894767642021,-0.036550723016262,-0.034056272357702,-0.088274367153645,0.040340717881918,0.148011058568954,-0.214986741542816,-0.103537328541279,0.085920296609402,0.079638883471489,0.000092121292255,-0.092102296650410));
res += mul(Get(s2,dx,0), float4x4(0.125830307602882,0.123710334300995,-0.150882408022881,-0.020590296015143,0.030262421816587,-0.103142932057381,0.183522313833237,0.019665079191327,-0.192927122116089,0.300531715154648,-0.008601532317698,-0.155734747648239,-0.150764033198357,0.024031471461058,-0.107421167194843,0.054480616003275));
res += mul(Get(s2,dx,dy), float4x4(0.066211439669132,0.067778870463371,-0.024002224206924,0.072858795523643,-0.050040427595377,-0.000596782134380,-0.109402135014534,-0.020021494477987,0.274886667728424,0.158104822039604,-0.175654724240303,0.124332517385483,0.114674255251884,-0.010632232762873,0.188566222786903,0.002947391010821));
res += mul(Get(s3,-dx,-dy), float4x4(0.231615528464317,0.016470553353429,0.013215985149145,0.052889440208673,0.030879715457559,-0.002760149538517,0.105322986841202,0.033449798822403,0.121965453028679,0.130839541554451,-0.034046154469252,-0.296477317810059,0.044170718640089,0.073633760213852,0.026775587350130,-0.006562496069819));
res += mul(Get(s3,-dx,0), float4x4(0.272433400154114,0.040902886539698,-0.121398836374283,0.231516018509865,-0.054810047149658,-0.176093071699142,0.051826052367687,0.071785479784012,0.215424999594688,0.021137028932571,0.069505259394646,0.149708122014999,-0.086635559797287,-0.178808972239494,0.146139472723007,0.305898189544678));
res += mul(Get(s3,-dx,dy), float4x4(0.105132438242435,-0.075627595186234,-0.145468994975090,0.029072731733322,0.080865614116192,0.066839061677456,-0.099415846168995,0.138271898031235,0.088911592960358,-0.025462102144957,-0.040735211223364,-0.130726084113121,0.130343034863472,0.059118557721376,0.060310352593660,0.064597420394421));
res += mul(Get(s3,0,-dy), float4x4(0.045287068933249,-0.021974349394441,0.043650362640619,0.158589482307434,-0.123765878379345,-0.181033924221992,-0.015623258426785,-0.103472307324409,-0.104005359113216,0.156113252043724,-0.072577401995659,0.002190136117861,-0.144323229789734,-0.073800504207611,0.134363085031509,0.069692492485046));
res += mul(Get(s3,0,0), float4x4(-0.126516938209534,0.037117596715689,-0.055345546454191,0.089060313999653,0.193551793694496,0.098008438944817,0.011865203268826,0.110780216753483,-0.053264491260052,-0.057143881917000,-0.104461520910263,0.126280441880226,-0.094017922878265,0.225024282932281,0.023398667573929,0.205783694982529));
res += mul(Get(s3,0,dy), float4x4(-0.127337679266930,0.056510444730520,-0.143572375178337,0.122367635369301,0.043142545968294,-0.079065136611462,-0.012931956909597,-0.181820645928383,0.104310154914856,-0.078990317881107,-0.120453640818596,-0.232659235596657,-0.084607549011707,0.191072002053261,-0.082309521734715,-0.119018882513046));
res += mul(Get(s3,dx,-dy), float4x4(0.021408861503005,-0.102725833654404,-0.165547564625740,0.063309796154499,0.029218766838312,-0.110753603279591,-0.038889870047569,0.229019954800606,-0.146700620651245,0.131831675767899,-0.003773231524974,-0.066956803202629,0.000508457073011,-0.044045697897673,-0.012196993455291,0.125923171639442));
res += mul(Get(s3,dx,0), float4x4(0.025729872286320,-0.010157612152398,-0.050602000206709,0.017327245324850,0.161338955163956,-0.034123376011848,0.158404797315598,0.053695023059845,0.067665278911591,-0.058763589709997,-0.025677664205432,-0.010968206450343,-0.041469283401966,-0.002804401796311,0.254563063383102,0.322259664535522));
res += mul(Get(s3,dx,dy), float4x4(-0.122012570500374,0.031580992043018,-0.010596909560263,0.049359168857336,-0.117289662361145,0.061476558446884,-0.035128537565470,-0.057955715805292,-0.017766175791621,-0.065995171666145,0.039749745279551,-0.010748900473118,-0.008220683783293,0.164928570389748,0.005752354394644,-0.036087401211262));
return max(float4(0,0,0,0), res);
}
