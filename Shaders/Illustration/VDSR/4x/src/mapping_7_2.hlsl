sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.015592388808727,-0.001999696251005,-0.055634532123804,0.181355386972427,0.016790427267551,-0.039704702794552,-0.052196253091097,-0.167187929153442,-0.131909787654877,-0.134492740035057,0.017172353342175,-0.017593042925000,-0.015598034486175,0.011741694994271,-0.215067982673645,0.061046894639730));
res += mul(Get(s0,-dx,0), float4x4(-0.041197784245014,0.029653890058398,-0.118649721145630,-0.028815302997828,-0.046947617083788,0.183256015181541,-0.104581005871296,0.046844176948071,0.109856247901917,-0.060883022844791,0.048073668032885,0.055317062884569,-0.105416275560856,-0.101423323154449,0.171889662742615,-0.042958829551935));
res += mul(Get(s0,-dx,dy), float4x4(-0.320160210132599,-0.050239037722349,0.033550977706909,-0.194170013070107,-0.021994402632117,-0.052548274397850,0.136335924267769,-0.085281200706959,0.140774905681610,0.050473894923925,-0.105496317148209,-0.160000383853912,0.016828954219818,-0.139390990138054,-0.031437892466784,-0.025948358699679));
res += mul(Get(s0,0,-dy), float4x4(-0.167821481823921,-0.159996137022972,-0.177023336291313,0.041535884141922,0.020256986841559,-0.135256811976433,-0.022817872464657,0.011704619973898,-0.148026973009109,-0.081932567059994,0.063929110765457,0.046988055109978,-0.113841131329536,-0.114586628973484,-0.219974592328072,0.000681301753502));
res += mul(Get(s0,0,0), float4x4(-0.132223829627037,-0.007382873911411,0.062863469123840,-0.022103438153863,-0.037552364170551,0.163793504238129,-0.040948957204819,-0.011177621781826,0.149723723530769,0.058047331869602,-0.016138000413775,0.158509865403175,-0.100489348173141,-0.118756771087646,-0.073816768825054,0.030942704528570));
res += mul(Get(s0,0,dy), float4x4(-0.096926368772984,0.055330842733383,-0.006910148076713,-0.004523579962552,-0.016740843653679,-0.075589559972286,0.211865469813347,-0.135645821690559,0.009469664655626,0.050082359462976,-0.333262741565704,-0.048982299864292,-0.091107547283173,0.126521810889244,-0.021642228588462,-0.233204826712608));
res += mul(Get(s0,dx,-dy), float4x4(-0.173869699239731,0.059569254517555,0.092186219990253,-0.099631674587727,-0.040883198380470,0.017593059688807,0.041630681604147,0.026463706046343,-0.036792535334826,-0.078942604362965,-0.011697228997946,-0.150968879461288,-0.160552844405174,0.054995238780975,-0.140382096171379,0.104962527751923));
res += mul(Get(s0,dx,0), float4x4(-0.153757557272911,-0.139632940292358,0.218748673796654,0.016237394884229,0.182165920734406,0.028113463893533,0.226857572793961,-0.045897267758846,0.150774285197258,0.215252727270126,-0.026867909356952,-0.212706327438354,-0.198800966143608,0.025080986320972,0.009695938788354,-0.094031207263470));
res += mul(Get(s0,dx,dy), float4x4(-0.007885488681495,0.095362164080143,0.307393431663513,-0.091261915862560,-0.021337803453207,-0.085227251052856,-0.095917038619518,-0.187183246016502,-0.021986966952682,0.043308414518833,0.041530661284924,-0.197179555892944,-0.156315669417381,0.036685056984425,0.223830655217171,-0.176016792654991));
res += mul(Get(s1,-dx,-dy), float4x4(0.157972887158394,-0.142648294568062,-0.041440684348345,0.082631252706051,0.100690074265003,0.202332422137260,0.324759691953659,-0.104712411761284,0.076736196875572,0.092029303312302,-0.009500418789685,-0.015598508529365,0.011407223530114,-0.208100065588951,0.286541312932968,0.009911485016346));
res += mul(Get(s1,-dx,0), float4x4(-0.201833978295326,-0.010907433927059,0.151467010378838,0.178332805633545,0.103537738323212,0.082217685878277,0.156598851084709,0.058767408132553,0.047040715813637,0.008046657778323,-0.027469325810671,0.031476907432079,-0.129923671483994,-0.133788943290710,0.118214882910252,0.308085978031158));
res += mul(Get(s1,-dx,dy), float4x4(0.067473679780960,0.086737014353275,0.085261709988117,0.000294173252769,-0.029602412134409,0.134620591998100,-0.062653124332428,0.063635788857937,-0.169419348239899,-0.221128925681114,-0.010863168165088,-0.017543813213706,-0.050151381641626,0.032751832157373,0.001357055269182,0.217914298176765));
res += mul(Get(s1,0,-dy), float4x4(0.188706815242767,-0.136054456233978,0.179061144590378,-0.019928859546781,0.016796756535769,-0.191851556301117,0.134223654866219,0.203203529119492,0.146479472517967,0.016826152801514,0.029191175475717,-0.013141657225788,-0.084102556109428,-0.126358136534691,-0.049639541655779,-0.015656476840377));
res += mul(Get(s1,0,0), float4x4(0.205385640263557,0.005478216335177,-0.121224403381348,-0.080348573625088,-0.241823077201843,-0.054106291383505,0.159094214439392,-0.064573630690575,-0.068209819495678,-0.097533442080021,0.257399797439575,0.280458390712738,0.056182511150837,0.082622393965721,0.031943138688803,-0.244034692645073));
res += mul(Get(s1,0,dy), float4x4(-0.152977347373962,0.105757802724838,-0.048803627490997,-0.045962776988745,-0.321754217147827,-0.203277796506882,0.114615269005299,0.109949983656406,0.049217674881220,-0.130897164344788,-0.070215299725533,-0.092507228255272,0.011540330946445,0.139014363288879,0.070206925272942,0.156602293252945));
res += mul(Get(s1,dx,-dy), float4x4(0.026810942217708,-0.072763413190842,-0.114602811634541,0.083481356501579,0.083264850080013,-0.017592653632164,0.043153826147318,0.009013888426125,-0.069630131125450,0.037452861666679,-0.188758179545403,0.275264322757721,0.054579593241215,-0.054621987044811,0.046006839722395,-0.032771084457636));
res += mul(Get(s1,dx,0), float4x4(-0.033713117241859,-0.119779072701931,0.000528570613824,-0.055752150714397,-0.034008461982012,0.170995950698853,0.021394003182650,-0.070360921323299,0.000911071954761,-0.190836608409882,0.085048690438271,0.113578319549561,0.171869993209839,0.019823910668492,-0.210073724389076,0.021641252562404));
res += mul(Get(s1,dx,dy), float4x4(-0.017189331352711,-0.025174425914884,-0.035905316472054,0.025916090235114,0.087686084210873,0.039820402860641,0.086294583976269,0.144420295953751,0.076256394386292,-0.032483164221048,0.162106022238731,-0.062155250459909,0.049937494099140,-0.057160142809153,0.038224168121815,0.148255899548531));
res += mul(Get(s2,-dx,-dy), float4x4(-0.053419742733240,0.150069087743759,0.152037203311920,0.049048032611609,0.074875429272652,0.155306056141853,0.044592391699553,0.248108178377151,0.049507305026054,0.148801147937775,-0.041428770869970,0.126289069652557,0.053866785019636,-0.018050540238619,-0.113045029342175,0.177829235792160));
res += mul(Get(s2,-dx,0), float4x4(-0.069781810045242,-0.079368740320206,0.106724813580513,-0.092555351555347,0.209746152162552,0.035879526287317,-0.350375354290009,-0.019704891368747,-0.076710395514965,0.120245479047298,0.117826662957668,-0.031972646713257,0.038058757781982,-0.219483882188797,-0.045942161232233,-0.246120184659958));
res += mul(Get(s2,-dx,dy), float4x4(0.090734750032425,0.000951434776653,-0.032330755144358,-0.048522371798754,0.156419068574905,0.007167707197368,0.106358677148819,-0.051443286240101,0.226324766874313,-0.108015060424805,0.118863180279732,-0.067101247608662,-0.079844996333122,0.011223787441850,-0.082192517817020,-0.071687981486320));
res += mul(Get(s2,0,-dy), float4x4(0.189665153622627,0.097651101648808,-0.075267449021339,0.239301070570946,0.000980575452559,-0.163853600621223,-0.010206575505435,0.120658144354820,0.176821082830429,-0.030686285346746,-0.107876576483250,-0.018525807186961,0.103675000369549,-0.152404874563217,-0.226477384567261,0.017852177843451));
res += mul(Get(s2,0,0), float4x4(0.124555535614491,0.046686466783285,0.366611152887344,0.028218435123563,0.059820413589478,-0.101641610264778,0.020113917067647,0.045119900256395,0.123564027249813,0.159231469035149,0.100946702063084,0.060309186577797,0.040295209735632,0.051525201648474,0.086569838225842,-0.040529675781727));
res += mul(Get(s2,0,dy), float4x4(-0.105744406580925,0.264170497655869,-0.030069449916482,-0.082894422113895,-0.035201128572226,-0.246730566024780,-0.068593941628933,-0.013624983839691,0.081784568727016,-0.062788359820843,0.041543513536453,-0.116448670625687,-0.007574636954814,-0.283281475305557,0.093578457832336,-0.141913831233978));
res += mul(Get(s2,dx,-dy), float4x4(0.121673211455345,0.009668917395175,-0.121032491326332,0.102418459951878,-0.034749295562506,-0.020449848845601,-0.016849413514137,-0.023688774555922,-0.041692826896906,0.129209846258163,-0.137166514992714,0.183922275900841,0.090167403221130,0.104193404316902,-0.102556154131889,0.079440750181675));
res += mul(Get(s2,dx,0), float4x4(-0.037184763699770,-0.163343891501427,-0.126744583249092,-0.055799622088671,-0.101497925817966,-0.185115978121758,0.099750779569149,0.184216722846031,-0.066185094416142,0.064328804612160,0.048537127673626,-0.192473575472832,-0.138839811086655,0.004558967892081,0.099440813064575,0.060510903596878));
res += mul(Get(s2,dx,dy), float4x4(0.111760012805462,-0.014372125267982,-0.190371140837669,-0.090279430150986,-0.001232650480233,-0.041027434170246,-0.103122666478157,-0.057565648108721,-0.026418222114444,-0.010830674320459,-0.059796597808599,-0.113909915089607,0.013730782084167,-0.237900808453560,-0.199008285999298,0.058011140674353));
res += mul(Get(s3,-dx,-dy), float4x4(0.156576484441757,-0.077874235808849,0.135625392198563,0.044859532266855,-0.055160798132420,-0.088210158050060,-0.096716456115246,-0.039419140666723,0.033205948770046,-0.118933953344822,-0.018826454877853,-0.097498789429665,-0.001583841163665,0.104100503027439,-0.037758808583021,0.222561374306679));
res += mul(Get(s3,-dx,0), float4x4(0.151719808578491,-0.147186696529388,0.063894249498844,0.066583111882210,-0.150654554367065,-0.043962381780148,-0.199207067489624,0.073095910251141,-0.109290510416031,0.142188534140587,-0.220529645681381,-0.058298062533140,0.134068012237549,-0.133906349539757,0.069887094199657,0.038996424525976));
res += mul(Get(s3,-dx,dy), float4x4(-0.043847762048244,-0.051497496664524,-0.232524141669273,-0.119358204305172,0.064749889075756,-0.004509448073804,0.005368628539145,0.064233921468258,-0.078698910772800,-0.033243682235479,0.050890255719423,0.146951049566269,-0.117456562817097,-0.078252606093884,0.180739045143127,0.054188411682844));
res += mul(Get(s3,0,-dy), float4x4(-0.037786830216646,-0.047364626079798,0.087685704231262,-0.130872055888176,-0.262092709541321,-0.114403866231441,-0.172800645232201,0.106437355279922,-0.046185713261366,-0.036947052925825,-0.104014217853546,0.137892156839371,0.033656135201454,0.142890140414238,-0.126110956072807,-0.087852910161018));
res += mul(Get(s3,0,0), float4x4(0.039648067206144,0.093205727636814,-0.066906400024891,0.084230259060860,-0.005303119309247,-0.204580739140511,-0.137202680110931,-0.080689780414104,0.015015012584627,0.078961499035358,0.161472499370575,-0.033320624381304,0.038415905088186,-0.072646655142307,-0.155138880014420,-0.201612815260887));
res += mul(Get(s3,0,dy), float4x4(-0.205301910638809,-0.013890715315938,-0.216047182679176,0.035288169980049,-0.031605411320925,-0.040895279496908,-0.027855109423399,0.185389801859856,-0.235564172267914,-0.033815357834101,-0.080973453819752,-0.071219466626644,-0.138281866908073,-0.330247700214386,0.050732932984829,-0.013303359039128));
res += mul(Get(s3,dx,-dy), float4x4(-0.058235004544258,-0.051627252250910,-0.125054091215134,0.021726179867983,0.046149998903275,-0.077594600617886,-0.234615445137024,-0.165322095155716,-0.093090690672398,0.034018337726593,-0.183670863509178,-0.134020715951920,0.147925451397896,0.020799349993467,0.044370420277119,0.065256752073765));
res += mul(Get(s3,dx,0), float4x4(0.097926326096058,-0.107612505555153,0.128311157226563,-0.236185088753700,0.080299928784370,-0.244793832302094,-0.051779232919216,-0.011987641453743,-0.184650093317032,0.140252366662025,0.132267609238625,0.029009243473411,-0.112051367759705,-0.160975456237793,-0.073938809335232,0.033395595848560));
res += mul(Get(s3,dx,dy), float4x4(-0.010382142849267,0.093774728477001,-0.110217668116093,0.045267198234797,-0.114789895713329,0.117037340998650,-0.016795488074422,-0.020755138248205,0.001840632641688,0.162334471940994,-0.077840477228165,0.099961265921593,-0.141014635562897,-0.033807851374149,0.079949200153351,0.096132002770901));
return max(float4(0,0,0,0), res);
}
