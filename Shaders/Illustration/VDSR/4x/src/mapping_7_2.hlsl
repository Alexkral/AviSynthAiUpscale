sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.147670879960060,0.113706782460213,-0.032442044466734,-0.076245687901974,0.155153065919876,-0.032522205263376,-0.063433803617954,0.007987818680704,0.156016975641251,-0.009635464288294,0.053094580769539,0.042474169284105,0.119072057306767,0.274945586919785,0.182211741805077,0.075844258069992));
res += mul(Get(s0,-dx,0), float4x4(0.084112852811813,-0.008202207274735,-0.039837878197432,-0.108335129916668,0.026214309036732,-0.043447595089674,0.068725682795048,-0.044952724128962,0.128200888633728,-0.105315454304218,-0.002071387832984,0.021273925900459,0.226186215877533,-0.183105468750000,0.161609798669815,-0.045539431273937));
res += mul(Get(s0,-dx,dy), float4x4(0.092830263078213,0.083873555064201,-0.250927656888962,-0.120797805488110,0.063342489302158,0.102163024246693,-0.046539824455976,-0.029182082042098,-0.012420353479683,-0.090288639068604,0.124331235885620,-0.035552360117435,0.108149617910385,0.022286321967840,0.247602984309196,-0.007896305993199));
res += mul(Get(s0,0,-dy), float4x4(-0.086892142891884,-0.039049059152603,-0.073119692504406,-0.041360490024090,-0.166305422782898,-0.097975522279739,-0.072806805372238,-0.047992497682571,0.213631600141525,0.139209687709808,-0.029518419876695,-0.091475643217564,0.115206100046635,-0.047398757189512,-0.018438281491399,-0.007909907959402));
res += mul(Get(s0,0,0), float4x4(0.201148614287376,-0.077074013650417,-0.112510614097118,-0.028166243806481,-0.050142243504524,-0.027343381196260,-0.000961371697485,-0.040198937058449,0.182499155402184,0.055727224797010,0.009425354190171,-0.115992896258831,-0.051710668951273,-0.169629871845245,0.005353626329452,-0.039383657276630));
res += mul(Get(s0,0,dy), float4x4(0.094951875507832,-0.033795300871134,-0.032905321568251,-0.174286469817162,-0.009077530354261,0.100609861314297,-0.047844920307398,-0.069455966353416,0.141014575958252,0.061047468334436,0.003593544010073,-0.072951897978783,-0.056578535586596,0.067048370838165,0.201688140630722,0.004665790125728));
res += mul(Get(s0,dx,-dy), float4x4(-0.088969238102436,0.106368839740753,-0.020600482821465,-0.075711488723755,0.051868334412575,0.317060917615891,0.115653283894062,-0.088117517530918,0.020505592226982,0.059282906353474,-0.059980317950249,-0.101539582014084,0.169223412871361,-0.092618353664875,0.101411603391171,-0.039605230093002));
res += mul(Get(s0,dx,0), float4x4(0.046589642763138,-0.080747030675411,0.009602247737348,-0.018251299858093,-0.069839626550674,0.198489189147949,0.321204900741577,-0.038882758468390,-0.210538849234581,-0.041873142123222,-0.103260226547718,-0.098378621041775,0.070629164576530,-0.201218187808990,-0.028907833620906,-0.145205810666084));
res += mul(Get(s0,dx,dy), float4x4(-0.106152608990669,-0.044144850224257,0.177141875028610,-0.140441671013832,-0.098656065762043,0.437658071517944,0.101256988942623,-0.072223700582981,0.072378456592560,-0.069331377744675,-0.081121377646923,-0.061030380427837,-0.029778260737658,-0.100753389298916,-0.075873211026192,-0.121011473238468));
res += mul(Get(s1,-dx,-dy), float4x4(0.117418266832829,-0.127015173435211,0.051184128969908,-0.109718665480614,0.064207084476948,-0.272086024284363,0.190455213189125,0.103798553347588,-0.043599247932434,-0.097255311906338,-0.206240937113762,-0.169909253716469,-0.175509840250015,0.047280460596085,-0.227004855871201,-0.140744894742966));
res += mul(Get(s1,-dx,0), float4x4(0.062841266393661,-0.071452878415585,-0.011542576365173,-0.126255705952644,-0.071464158594608,0.217025756835938,0.193552672863007,-0.053377550095320,0.155211716890335,-0.083290539681911,-0.066736951470375,-0.117415614426136,-0.116254039108753,0.034843105822802,0.042219884693623,-0.020631857216358));
res += mul(Get(s1,-dx,dy), float4x4(-0.083369500935078,0.025765733793378,-0.073473982512951,0.404629707336426,-0.083892069756985,0.170713126659393,-0.156563729047775,-0.095638938248158,-0.072299957275391,-0.171198412775993,-0.078484959900379,-0.005791222676635,-0.029505990445614,-0.186337202787399,0.001234075753018,-0.208052024245262));
res += mul(Get(s1,0,-dy), float4x4(0.033762320876122,-0.095031455159187,-0.060583744198084,0.036612797528505,0.060981743037701,-0.100786566734314,0.192799687385559,-0.048147231340408,-0.148246467113495,-0.006417392287403,-0.208222612738609,0.228592649102211,-0.164692893624306,-0.091959208250046,-0.072600372135639,0.468039482831955));
res += mul(Get(s1,0,0), float4x4(0.009056651033461,-0.037278927862644,0.013042774051428,0.056287493556738,0.086906909942627,-0.033510625362396,0.343743741512299,-0.054936263710260,-0.108948215842247,0.013268654234707,-0.121346414089203,0.127524510025978,-0.129707202315331,-0.174455612897873,0.071708239614964,0.232035353779793));
res += mul(Get(s1,0,dy), float4x4(-0.039452679455280,-0.111118011176586,-0.074472740292549,-0.009096411988139,-0.000017271939214,0.038743037730455,-0.076767735183239,-0.026640551164746,-0.189271256327629,-0.157016217708588,-0.191861689090729,-0.020816357806325,-0.013725148513913,-0.111305683851242,0.019943991675973,0.022143699228764));
res += mul(Get(s1,dx,-dy), float4x4(0.016227971762419,-0.231053084135056,-0.044896438717842,0.152400448918343,0.055360186845064,0.140380993485451,0.041793778538704,-0.085858270525932,-0.071218736469746,-0.163611486554146,0.129236385226250,-0.051293812692165,0.162356227636337,-0.073334716260433,-0.064863108098507,-0.166680768132210));
res += mul(Get(s1,dx,0), float4x4(-0.035881195217371,-0.140670657157898,-0.003555864095688,-0.107769362628460,0.033687300980091,0.096460498869419,0.071611464023590,-0.102211706340313,-0.178120329976082,-0.136341542005539,0.173065006732941,-0.191035538911819,-0.110659137368202,-0.005646502133459,-0.067709468305111,-0.181541651487350));
res += mul(Get(s1,dx,dy), float4x4(-0.173215985298157,-0.198635146021843,-0.026105502620339,-0.007817734964192,-0.033414345234632,-0.029212107881904,-0.068307869136333,-0.077769771218300,0.014194189570844,-0.093074440956116,-0.264128744602203,-0.135006830096245,-0.161473110318184,0.025927016511559,-0.184368401765823,-0.278248935937881));
res += mul(Get(s2,-dx,-dy), float4x4(-0.068500041961670,0.207793518900871,0.067075125873089,0.204913839697838,-0.220816031098366,-0.029361182823777,-0.167318597435951,0.013567705638707,0.098403826355934,-0.142975598573685,0.105777874588966,0.089792609214783,0.142790034413338,-0.168860331177711,-0.248691752552986,-0.076285630464554));
res += mul(Get(s2,-dx,0), float4x4(0.027912441641092,0.133090719580650,0.089464977383614,0.104527808725834,-0.014370968565345,0.061206802725792,-0.019951298832893,-0.033709023147821,0.084303587675095,-0.042096082121134,0.069677181541920,0.020587565377355,-0.235979750752449,0.039549022912979,-0.226367309689522,0.014949222095311));
res += mul(Get(s2,-dx,dy), float4x4(-0.058050923049450,-0.076942354440689,0.070940837264061,0.114361479878426,-0.043464068323374,-0.101229339838028,-0.168862521648407,-0.086450852453709,-0.059660065919161,0.040053669363260,-0.082731656730175,-0.037595607340336,0.059095945209265,0.060035180300474,-0.038467954844236,0.104840986430645));
res += mul(Get(s2,0,-dy), float4x4(-0.035032112151384,-0.094520829617977,-0.049701351672411,0.027734352275729,-0.195735350251198,-0.136667132377625,-0.198047727346420,-0.037881441414356,0.153466686606407,-0.046407658606768,-0.048822522163391,-0.056977510452271,-0.039975196123123,-0.036583993583918,0.010707867331803,-0.102125830948353));
res += mul(Get(s2,0,0), float4x4(0.097923308610916,-0.092842034995556,0.021921120584011,-0.002169959712774,0.195167765021324,0.085921369493008,-0.025965871289372,-0.078114144504070,0.087230511009693,0.074480213224888,-0.099655315279961,-0.062025032937527,-0.113857917487621,0.108113184571266,-0.011613886803389,-0.061092264950275));
res += mul(Get(s2,0,dy), float4x4(-0.093136385083199,-0.156239628791809,-0.017861820757389,-0.056679461151361,-0.058176361024380,-0.089331112802029,-0.126963794231415,-0.090136379003525,-0.079316742718220,-0.004541432484984,-0.055724903941154,0.012648885138333,0.079844869673252,0.207844823598862,-0.051207482814789,-0.060504566878080));
res += mul(Get(s2,dx,-dy), float4x4(-0.211160644888878,-0.043961979448795,0.017120715230703,-0.018573613837361,-0.083953924477100,0.177296817302704,-0.105332970619202,0.142111048102379,0.142922431230545,-0.028169052675366,0.103178344666958,-0.032913018018007,0.025371184572577,-0.174441784620285,0.165940508246422,-0.048145342618227));
res += mul(Get(s2,dx,0), float4x4(-0.140972793102264,-0.080980546772480,0.038702841848135,-0.046688776463270,0.492453038692474,-0.036049913614988,0.021547764539719,-0.119868271052837,-0.014107448980212,-0.009575173258781,0.060804884880781,0.004108774010092,0.021920202299953,-0.052382029592991,-0.001197374891490,-0.100024744868279));
res += mul(Get(s2,dx,dy), float4x4(-0.067954696714878,-0.104440383613110,0.040864549577236,0.119538225233555,0.345706045627594,-0.096540212631226,0.116563402116299,-0.122032478451729,-0.034063931554556,0.037905398756266,0.048401221632957,-0.011511181481183,0.298247426748276,0.036347970366478,-0.014281284064054,-0.235178276896477));
res += mul(Get(s3,-dx,-dy), float4x4(-0.237413138151169,0.019813362509012,-0.076012425124645,0.283260941505432,-0.057551629841328,-0.060365617275238,-0.043312698602676,0.017228437587619,-0.019624879583716,0.015379938296974,0.106497302651405,-0.164821743965149,0.046642556786537,-0.035183522850275,-0.230739146471024,-0.027147436514497));
res += mul(Get(s3,-dx,0), float4x4(-0.058265008032322,0.064363814890385,-0.035608619451523,-0.003789676353335,-0.173139750957489,-0.206946328282356,-0.114075228571892,0.058566454797983,0.023477513343096,0.155568316578865,0.077847599983215,-0.144623726606369,-0.208303257822990,-0.061851806938648,-0.029340174049139,-0.063508898019791));
res += mul(Get(s3,-dx,dy), float4x4(-0.025868633762002,-0.080466963350773,-0.006937701720744,0.046685986220837,0.071513466536999,-0.191662088036537,-0.183606654405594,0.077342957258224,-0.128331810235977,0.222469165921211,0.022750943899155,-0.125782817602158,0.129594430327415,-0.208669543266296,0.037135697901249,-0.088930226862431));
res += mul(Get(s3,0,-dy), float4x4(-0.059406887739897,-0.059017002582550,-0.016571650281549,0.057191736996174,-0.157972723245621,0.231890022754669,-0.127567559480667,-0.056034769862890,0.071103639900684,-0.041057527065277,-0.043777659535408,0.130251094698906,0.048080127686262,-0.075080417096615,0.128603830933571,-0.112614326179028));
res += mul(Get(s3,0,0), float4x4(0.057664792984724,-0.192125648260117,-0.022833777591586,-0.281741946935654,-0.179736301302910,0.151254951953888,-0.029698450118303,0.028500342741609,0.013412526808679,0.010061180219054,0.034950155764818,0.048509933054447,0.036372881382704,-0.031281013041735,0.164761528372765,-0.122089661657810));
res += mul(Get(s3,0,dy), float4x4(-0.040175072848797,-0.200161039829254,0.058670379221439,-0.094116233289242,0.159348294138908,0.007808859460056,-0.182184770703316,0.030178882181644,-0.144164860248566,0.048353426158428,0.043656125664711,-0.147749468684196,0.166397720575333,0.234214767813683,0.016618559136987,-0.069609083235264));
res += mul(Get(s3,dx,-dy), float4x4(-0.101497903466225,-0.113472618162632,-0.039554912596941,0.150996908545494,-0.043256789445877,0.222119957208633,0.000590358336922,0.259251028299332,0.039015259593725,-0.022126844152808,-0.040952481329441,0.039262875914574,0.064990982413292,0.064916200935841,-0.118589207530022,-0.042176272720098));
res += mul(Get(s3,dx,0), float4x4(-0.031800705939531,-0.099076427519321,-0.048341870307922,-0.329007863998413,-0.124971233308315,-0.085852451622486,0.005794547032565,-0.071509681642056,0.061594966799021,0.219360113143921,0.151748359203339,0.055750887840986,-0.004845879971981,0.004546017386019,-0.074532985687256,-0.039620425552130));
res += mul(Get(s3,dx,dy), float4x4(-0.055256295949221,-0.150705635547638,-0.107268139719963,0.259023606777191,0.092776127159595,-0.101456053555012,-0.191678345203400,-0.209376558661461,-0.034211184829473,-0.035527557134628,-0.118498452007771,-0.054098483175039,-0.013119376264513,0.030869752168655,-0.132251113653183,-0.071955531835556));
return max(float4(0,0,0,0), res);
}
