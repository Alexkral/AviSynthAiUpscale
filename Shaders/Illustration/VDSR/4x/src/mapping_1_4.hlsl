sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.008767402730882,-0.076697051525116,-0.012728230096400,-0.026545491069555,0.003876740112901,-0.013492571190000,0.007359117269516,-0.007110015489161,-0.024858821183443,0.255493104457855,0.387210249900818,-0.074111551046371,0.008238391019404,0.102815024554729,0.027236510068178,-0.265840232372284));
res += mul(Get(s0,-dx,0), float4x4(0.014190718531609,-0.091301746666431,-0.015050005167723,-0.012910367920995,0.002517442451790,-0.003349929349497,-0.009586780332029,-0.008277143351734,-0.031847368925810,0.477929621934891,0.081760041415691,-0.164153039455414,0.003801476676017,0.192968666553497,-0.039453782141209,-0.416898965835571));
res += mul(Get(s0,-dx,dy), float4x4(0.004802001174539,-0.098336964845657,0.026520851999521,-0.028261274099350,0.000606625049841,0.011228588409722,0.016233421862125,-0.000133113891934,-0.029875859618187,0.144998043775558,-0.149415746331215,-0.324889987707138,0.006305193528533,-0.061289675533772,0.068392291665077,-0.090319685637951));
res += mul(Get(s0,0,-dy), float4x4(0.001479501253925,-0.071843862533569,0.029031492769718,-0.011840154416859,0.002486640121788,-0.004408406093717,-0.014899231493473,0.005219385493547,-0.020674737170339,0.180783376097679,0.309462279081345,0.042422082275152,-0.001471745199524,-0.152535229921341,-0.077135190367699,-0.306202709674835));
res += mul(Get(s0,0,0), float4x4(-0.002912663854659,-0.061090268194675,0.022943938151002,-0.009903758764267,-0.000009135584150,0.015915673226118,-0.002722874982283,-0.000007971146260,-0.039303064346313,0.462627947330475,0.038001295179129,-0.196105435490608,-0.012226108461618,-0.058592699468136,-0.053493522107601,-0.363315939903259));
res += mul(Get(s0,0,dy), float4x4(-0.013252993114293,-0.069271236658096,0.032909896224737,-0.006260023452342,-0.000463538599433,0.006435029208660,0.007254454307258,-0.006815045606345,-0.059314671903849,0.192107722163200,-0.093900315463543,-0.263962775468826,-0.006607694551349,0.103760011494160,-0.228940621018410,0.202944770455360));
res += mul(Get(s0,dx,-dy), float4x4(-0.005132566206157,-0.030880196020007,-0.032661572098732,0.004139823373407,-0.000203723466257,-0.002120458055288,0.000770882412326,0.000960851553828,-0.014812332578003,-0.363863497972488,-0.207502394914627,0.096384078264236,-0.003006748855114,-0.290592908859253,-0.051891800016165,-0.314613938331604));
res += mul(Get(s0,dx,0), float4x4(0.002288731979206,-0.051702260971069,-0.020456792786717,0.004921825136989,0.007504861801863,-0.007516134995967,-0.012527621351182,0.001694774255157,-0.036795053631067,-0.211540997028351,-0.293399751186371,-0.170896261930466,-0.007831841707230,-0.222041904926300,-0.025206243619323,-0.338810443878174));
res += mul(Get(s0,dx,dy), float4x4(-0.009199722670019,-0.009144667536020,-0.015658324584365,0.010238564573228,-0.000977702788077,-0.004147218540311,0.007647293619812,-0.003726632799953,-0.041538126766682,-0.300233960151672,-0.268828302621841,-0.177224352955818,0.011389442719519,0.329762995243073,0.066582717001438,0.370219379663467));
res += mul(Get(s1,-dx,-dy), float4x4(-0.046682536602020,-0.021390436217189,-0.040278907865286,-0.018977710977197,0.012963803485036,0.026400148868561,-0.021675772964954,0.012488480657339,-0.002399126533419,0.019084569066763,0.009232845157385,0.009765024296939,-0.008723586797714,-0.014022302813828,0.003415660932660,0.001998485531658));
res += mul(Get(s1,-dx,0), float4x4(-0.031553395092487,0.012097870931029,-0.039334185421467,-0.016810383647680,0.005047567188740,0.020219784229994,-0.009643869474530,0.000662413192913,-0.001036828383803,0.016868233680725,0.008867676369846,0.012103593908250,-0.008828911930323,-0.014022876508534,0.001872226363048,0.009840505197644));
res += mul(Get(s1,-dx,dy), float4x4(-0.002179059199989,-0.077555507421494,-0.056293837726116,0.016645697876811,0.001579487114213,0.020114008337259,-0.028954870998859,0.001568538602442,-0.006176892668009,-0.012668272480369,-0.005209613591433,0.000109197018901,0.009381220676005,0.013043173588812,-0.009766816161573,-0.001099398010410));
res += mul(Get(s1,0,-dy), float4x4(-0.001166530069895,-0.077806070446968,-0.082157313823700,-0.109028004109859,-0.002060646191239,-0.000699672033079,-0.024043275043368,-0.005365334451199,0.016018889844418,-0.004491092637181,-0.004249816760421,-0.003451446536928,0.003794425167143,0.004745227284729,-0.012536977417767,0.004594983533025));
res += mul(Get(s1,0,0), float4x4(-0.006307106930763,-0.056191027164459,0.004320626612753,0.082522369921207,-0.008251442573965,-0.008122322149575,-0.012323359027505,-0.009081631898880,0.003880842123181,0.007312802597880,-0.009196858853102,0.005570911336690,-0.001963671762496,-0.002303362358361,0.003828097600490,-0.013633145019412));
res += mul(Get(s1,0,dy), float4x4(0.018139207735658,-0.082554243505001,-0.035723797976971,0.088732019066811,0.000625958200544,0.012278398498893,-0.008011098951101,-0.005513799842447,-0.000761418370530,-0.017796173691750,0.001542256446555,0.010564496740699,0.011093528009951,-0.008299027569592,0.010180822573602,0.010185767896473));
res += mul(Get(s1,dx,-dy), float4x4(0.054661642760038,-0.187959879636765,-0.042269680649042,-0.045910932123661,-0.001991732046008,0.012891103513539,-0.012520925141871,-0.009774381294847,0.008265510201454,0.011483382433653,0.000797574350145,0.008630950003862,-0.001306033111177,0.009769525378942,-0.011982187628746,-0.017226735129952));
res += mul(Get(s1,dx,0), float4x4(0.066330514848232,-0.270170867443085,0.074796266853809,0.033129848539829,0.019202133640647,0.015527516603470,-0.025331877171993,0.004575688857585,-0.001638058805838,-0.001540688914247,-0.007699043024331,0.009342769160867,0.000200209717150,0.003734302008525,-0.019853081554174,-0.001026197802275));
res += mul(Get(s1,dx,dy), float4x4(0.040812220424414,-0.302693277597427,-0.005312260705978,-0.013153051026165,0.001555968075991,0.018356543034315,-0.000580249412451,0.000318576523568,-0.002338332822546,0.013034757226706,0.006339446641505,0.013925449922681,-0.014825404621661,-0.017856489866972,0.010232408531010,-0.006187456659973));
res += mul(Get(s2,-dx,-dy), float4x4(-0.006746829021722,-0.214757815003395,-0.026298407465219,-0.329124361276627,-0.021725354716182,0.269858539104462,-0.461233466863632,-0.363079458475113,0.056788679212332,0.005451775621623,-0.061286464333534,0.177903026342392,0.013888662680984,-0.001577000482939,0.006785782054067,-0.007309560198337));
res += mul(Get(s2,-dx,0), float4x4(-0.015823796391487,-0.368693649768829,-0.196967869997025,-0.202528566122055,-0.031177766621113,0.132112279534340,-0.164874911308289,0.557911753654480,-0.030388316139579,0.002241524867713,-0.071920104324818,-0.041584771126509,0.005628223530948,-0.014194323681295,0.005150890909135,-0.002717637456954));
res += mul(Get(s2,-dx,dy), float4x4(-0.015948953106999,-0.539157390594482,-0.306612908840179,0.047049771994352,-0.026814341545105,-0.182903140783310,-0.201608240604401,-0.263481169939041,-0.033438891172409,-0.072818472981453,-0.032160650938749,-0.066301785409451,-0.005392071790993,0.002754717133939,0.006402933504432,-0.005661289207637));
res += mul(Get(s2,0,-dy), float4x4(-0.006736884359270,-0.136055305600166,-0.062743104994297,-0.376696437597275,-0.003000021912158,0.007852908223867,-0.280553162097931,-0.494329243898392,0.059599071741104,-0.130915477871895,-0.011424727737904,0.131967067718506,0.003772916737944,-0.002345456741750,-0.018406329676509,0.013408389873803));
res += mul(Get(s2,0,0), float4x4(-0.006883178371936,-0.134313717484474,-0.128890454769135,-0.112369120121002,-0.032478664070368,-0.070190124213696,-0.168809413909912,0.815892457962036,-0.023435197770596,-0.096173942089081,-0.038996107876301,0.043159715831280,-0.006978955119848,-0.000160960436915,0.001512139569968,0.010238754563034));
res += mul(Get(s2,0,dy), float4x4(-0.022258197888732,0.037645775824785,-0.321419894695282,0.449303060770035,-0.000405665399740,-0.297663211822510,-0.350555032491684,-0.434933245182037,-0.020273452624679,-0.091053336858749,0.029885927215219,-0.000500904105138,0.001602925243787,0.002501307055354,0.007981050759554,0.004379531834275));
res += mul(Get(s2,dx,-dy), float4x4(-0.011773167178035,0.084986150264740,-0.051495198160410,-0.316083282232285,-0.012702533975244,-0.403619915246964,0.103337861597538,-0.664144217967987,0.070747002959251,-0.068848520517349,0.176888018846512,0.105744309723377,0.013699779286981,0.006682299077511,0.002241360722110,0.005757902748883));
res += mul(Get(s2,dx,0), float4x4(0.004548736382276,0.234450891613960,-0.053340379148722,-0.080654613673687,-0.019392030313611,-0.438804924488068,-0.323837995529175,0.579801142215729,0.002284343587235,-0.028729585930705,-0.033526103943586,-0.047551080584526,0.005139770917594,-0.006955716293305,0.007099313195795,0.003736037993804));
res += mul(Get(s2,dx,dy), float4x4(0.001998224062845,0.763721585273743,-0.138415247201920,0.543803989887238,0.023998443037271,-0.160901740193367,-0.556070983409882,-0.379202753305435,-0.032243009656668,-0.023243015632033,0.050951983779669,-0.036326162517071,-0.005630437750369,-0.012418124824762,0.017472714185715,0.005472739692777));
res += mul(Get(s3,-dx,-dy), float4x4(0.003580554854125,-0.001364795491099,0.010214807465672,0.001978005282581,0.009568746201694,0.018255146220326,-0.003764912951738,-0.011027522385120,0.005369000602514,-0.599448561668396,0.260916739702225,0.101787410676479,-0.002688126172870,0.002193160122260,-0.004936101846397,-0.004467382095754));
res += mul(Get(s3,-dx,0), float4x4(-0.005032942630351,-0.007279354147613,-0.009413937106729,-0.001664858544245,-0.008335937745869,-0.004589108284563,0.003910986240953,-0.009674647822976,-0.024011593312025,-0.354219734668732,0.065702646970749,-0.189797595143318,0.007664181292057,-0.011633951216936,-0.004037047270685,-0.001936468994245));
res += mul(Get(s3,-dx,dy), float4x4(0.017319964244962,0.003189983777702,-0.007029904052615,0.004118378739804,-0.002433696528897,0.009875024668872,0.007664389908314,0.001235557254404,-0.019179455935955,-0.222984641790390,-0.371602863073349,-0.460075438022614,0.011973887681961,0.012473077513278,-0.014193559065461,-0.004490806721151));
res += mul(Get(s3,0,-dy), float4x4(-0.014080385677516,-0.015548161230981,-0.001112455036491,-0.002695854287595,-0.003999313805252,-0.007840536534786,-0.002848930889741,-0.001444749650545,0.019156161695719,-0.232928410172462,0.839343369007111,0.297884702682495,0.005049398168921,-0.005211658310145,-0.000551362871192,0.011952486820519));
res += mul(Get(s3,0,0), float4x4(-0.004655622877181,0.007015190552920,-0.005380295682698,-0.003455229569227,-0.000938458309975,0.001235715579242,-0.004126883577555,-0.006980435922742,-0.021391110494733,-0.092520996928215,0.083259634673595,-0.014689151197672,0.017015734687448,-0.005827207583934,-0.007339881733060,-0.004274605773389));
res += mul(Get(s3,0,dy), float4x4(0.006967308931053,0.002468663267791,-0.000778504239861,-0.002351753180847,0.002619448583573,-0.002179161645472,0.006969901267439,0.001806212938391,-0.032032977789640,-0.297898232936859,-0.519340634346008,-0.448090314865112,-0.012813883833587,-0.011859156191349,0.010438181459904,-0.013389809057117));
res += mul(Get(s3,dx,-dy), float4x4(-0.005961397662759,-0.009309669956565,0.010094349272549,-0.000818645814434,-0.004574201069772,0.002383923623711,0.004379247315228,0.005332160275429,0.004124715924263,0.402685016393661,0.518575668334961,0.239938259124756,0.000150459003635,-0.000945400155615,0.001207294524647,-0.001689643948339));
res += mul(Get(s3,dx,0), float4x4(0.001013349625282,-0.002723366022110,-0.004477506969124,-0.000069499255915,0.007212351541966,-0.004427537322044,0.002433155896142,-0.010445654392242,-0.028831811621785,0.568527698516846,-0.350189805030823,-0.171791046857834,0.000646777392831,-0.000859671155922,0.000426567450631,0.009475919418037));
res += mul(Get(s3,dx,dy), float4x4(0.006048540119082,0.006905153393745,-0.002506864955649,0.020952476188540,0.003540075849742,-0.012239019386470,0.026148656383157,-0.004248491954058,-0.045691728591919,-0.003081469330937,-0.702522873878479,-0.526919186115265,0.013263904489577,-0.002697380259633,0.011600362136960,0.005483931861818));
return max(float4(0,0,0,0), res);
}
