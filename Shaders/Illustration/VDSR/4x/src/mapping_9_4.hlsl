sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.115565456449986,-0.128014624118805,0.002925887471065,0.060879521071911,-0.250857144594193,-0.024770177900791,-0.069836854934692,0.057991076260805,0.093078911304474,0.046493455767632,0.047741625458002,0.103374868631363,-0.128973066806793,0.129932895302773,-0.087979927659035,0.056131333112717));
res += mul(Get(s0,-dx,0), float4x4(0.071567632257938,0.072633713483810,-0.025599664077163,0.010371654294431,0.093733929097652,-0.000533581129275,-0.145855695009232,-0.152331337332726,0.130304440855980,0.090435169637203,0.183248862624168,0.083398438990116,-0.273419409990311,-0.044362921267748,-0.077648870646954,-0.049443099647760));
res += mul(Get(s0,-dx,dy), float4x4(-0.281105011701584,0.041830353438854,-0.005301645025611,0.039193723350763,0.024380348622799,-0.063268750905991,0.059047017246485,0.029920596629381,-0.019013330340385,-0.013858218677342,-0.057740267366171,0.055464345961809,-0.138044148683548,0.067060843110085,0.058750055730343,0.026200039312243));
res += mul(Get(s0,0,-dy), float4x4(0.037955284118652,0.022450797259808,0.036878295242786,-0.003995401784778,0.125101894140244,-0.142329245805740,0.191367372870445,-0.093544863164425,-0.030505664646626,-0.070440560579300,0.066945321857929,0.306954950094223,-0.063025854527950,-0.190216809511185,0.045577295124531,0.050276201218367));
res += mul(Get(s0,0,0), float4x4(-0.007903169840574,-0.205812618136406,0.097884699702263,0.082757674157619,0.026828190311790,-0.021699683740735,0.113360211253166,-0.193853288888931,-0.013108153827488,-0.049839634448290,-0.048754505813122,0.114892952144146,-0.027381401509047,-0.152416273951530,0.100290469825268,-0.011771912686527));
res += mul(Get(s0,0,dy), float4x4(0.023346267640591,0.152000993490219,0.050741229206324,-0.022709168493748,0.124915271997452,-0.004552722442895,-0.003563965437934,0.095047146081924,0.074339471757412,0.027904456481338,-0.096911869943142,-0.118576504290104,0.057940792292356,0.206674784421921,0.261619806289673,-0.059683337807655));
res += mul(Get(s0,dx,-dy), float4x4(-0.044866982847452,0.004651019349694,-0.027022518217564,0.112586170434952,-0.086554400622845,-0.001384874805808,0.025759221985936,0.102279633283615,-0.043841872364283,-0.187681511044502,-0.081766068935394,0.127118140459061,0.156683921813965,-0.141945794224739,0.217084556818008,-0.079711876809597));
res += mul(Get(s0,dx,0), float4x4(-0.037542153149843,0.050255514681339,-0.103480450809002,0.076991304755211,-0.133566126227379,-0.294463336467743,-0.062715068459511,-0.014999328181148,0.013358458876610,0.046455964446068,0.228682711720467,-0.191338479518890,-0.038968879729509,0.126679077744484,-0.037966750562191,-0.128981769084930));
res += mul(Get(s0,dx,dy), float4x4(0.097894303500652,0.016362544149160,0.045015085488558,-0.081869423389435,0.048426657915115,0.076743334531784,0.167743489146233,0.014236764051020,-0.033148102462292,0.104204192757607,-0.023951906710863,-0.135821357369423,-0.183905914425850,0.175773605704308,-0.142127186059952,0.030595287680626));
res += mul(Get(s1,-dx,-dy), float4x4(-0.154188811779022,-0.017415191978216,-0.400288671255112,-0.022761803120375,-0.033574014902115,-0.147116765379906,0.025546448305249,-0.014872271567583,0.151294589042664,0.187282383441925,-0.107907861471176,-0.169088765978813,0.044221572577953,0.000174551532837,0.170334905385971,-0.170050084590912));
res += mul(Get(s1,-dx,0), float4x4(-0.206529662013054,-0.076556846499443,-0.172980770468712,0.070407457649708,-0.043053139001131,-0.118000224232674,0.004340544342995,-0.160590648651123,0.086057551205158,-0.023769631981850,-0.007358923554420,0.052031446248293,-0.019427048042417,-0.021404368802905,0.118025623261929,-0.153172105550766));
res += mul(Get(s1,-dx,dy), float4x4(0.025016365572810,-0.114699408411980,-0.173002272844315,0.027807751670480,-0.015837561339140,-0.254574775695801,-0.112643592059612,-0.096537709236145,0.011955752037466,0.012777769938111,-0.045490447431803,0.098940275609493,0.067536376416683,-0.065719239413738,0.026832116767764,0.105324909090996));
res += mul(Get(s1,0,-dy), float4x4(0.076432101428509,0.039660882204771,0.048906743526459,-0.005226653534919,0.001702549867332,-0.181365653872490,-0.199047029018402,-0.177705779671669,-0.147679939866066,0.119318246841431,-0.134948953986168,-0.061550393700600,-0.042000398039818,-0.143707573413849,0.196964100003242,0.116469569504261));
res += mul(Get(s1,0,0), float4x4(-0.040538057684898,-0.086207389831543,0.144328787922859,0.067324653267860,0.098126396536827,0.051171183586121,0.044830966740847,0.018320057541132,0.199341803789139,0.048197213560343,-0.023940894752741,-0.157941937446594,0.081974014639854,0.000150286141434,-0.359135299921036,0.006009922362864));
res += mul(Get(s1,0,dy), float4x4(0.075115881860256,0.067696459591389,0.058424316346645,0.130423337221146,-0.040232114493847,0.069328613579273,-0.264163434505463,-0.189041420817375,-0.051103513687849,0.058199726045132,-0.251918584108353,0.071225799620152,0.165055334568024,0.101666733622551,0.117767952382565,0.110374316573143));
res += mul(Get(s1,dx,-dy), float4x4(-0.186568304896355,-0.095024310052395,-0.018865274265409,-0.126280695199966,-0.065504625439644,-0.149332001805305,0.104565180838108,-0.096800580620766,0.106989413499832,-0.084730453789234,0.054443325847387,-0.127753496170044,0.117264337837696,0.000079126002674,-0.012894802726805,0.057315096259117));
res += mul(Get(s1,dx,0), float4x4(-0.012870087288320,0.023825662210584,0.071400754153728,0.202987298369408,0.062344234436750,-0.166468948125839,0.105982348322868,-0.115415535867214,0.169834390282631,-0.028928246349096,0.029723010957241,0.003589987987652,0.205623850226402,0.100929632782936,-0.036459807306528,-0.099835090339184));
res += mul(Get(s1,dx,dy), float4x4(-0.021842066198587,0.051044058054686,-0.085051327943802,0.043637573719025,-0.124437436461449,-0.061169251799583,0.276684939861298,-0.146198466420174,0.018215941265225,0.060408856719732,0.006671294104308,0.067447751760483,-0.052314005792141,-0.073918677866459,-0.140812084078789,0.012543928809464));
res += mul(Get(s2,-dx,-dy), float4x4(-0.168554529547691,0.265400767326355,0.186406999826431,0.019387144595385,0.065911561250687,0.020408330485225,-0.074472472071648,-0.023409485816956,-0.148707866668701,0.065815165638924,0.170368194580078,-0.122020095586777,-0.062742307782173,0.040333129465580,0.015081811696291,0.136235743761063));
res += mul(Get(s2,-dx,0), float4x4(-0.055030733346939,-0.043312698602676,-0.039669681340456,-0.031136894598603,0.069136440753937,-0.073158867657185,-0.175749897956848,0.208848193287849,0.155885696411133,-0.068087287247181,0.014632641337812,0.103321336209774,0.039971183985472,-0.019665358588099,-0.109208621084690,0.195706784725189));
res += mul(Get(s2,-dx,dy), float4x4(-0.054969780147076,0.062501102685928,-0.095737077295780,0.249788284301758,-0.153496116399765,-0.065267294645309,0.090290717780590,-0.047721184790134,0.063093200325966,-0.039847392588854,0.062774613499641,0.226230472326279,-0.194375619292259,-0.078106306493282,0.101756609976292,-0.018850356340408));
res += mul(Get(s2,0,-dy), float4x4(-0.084207646548748,-0.048662863671780,0.089698806405067,0.062084835022688,0.150820195674896,0.080266237258911,-0.064536534249783,0.002363954903558,0.007864335551858,0.095775835216045,-0.063326366245747,0.105296976864338,-0.038824267685413,0.106805317103863,-0.064268127083778,-0.123092494904995));
res += mul(Get(s2,0,0), float4x4(-0.003735389793292,0.150145709514618,0.064962446689606,0.038794886320829,-0.177933081984520,0.001705818576738,0.102663598954678,0.118398971855640,0.165881544351578,0.037974763661623,0.040575072169304,0.137781828641891,-0.024065310135484,-0.067897163331509,-0.110880635678768,0.109232947230339));
res += mul(Get(s2,0,dy), float4x4(0.148880019783974,-0.053409494459629,-0.176416784524918,0.066809356212616,-0.117428936064243,-0.090790562331676,0.112684920430183,-0.078211732208729,0.119330942630768,-0.155450463294983,0.179527103900909,-0.092299468815327,0.033025547862053,0.185310125350952,-0.170512765645981,-0.034606844186783));
res += mul(Get(s2,dx,-dy), float4x4(-0.048377159982920,-0.031977258622646,0.159233480691910,0.023180501535535,-0.047413013875484,0.060715682804585,0.069482825696468,-0.268062055110931,-0.042313065379858,0.111876182258129,-0.008422977291048,0.027539145201445,0.053870074450970,-0.114054784178734,0.116065315902233,-0.151097744703293));
res += mul(Get(s2,dx,0), float4x4(0.057222750037909,-0.021970663219690,-0.173305287957191,-0.007094375323504,-0.012966698035598,0.010969959199429,-0.127718642354012,0.325232923030853,0.193090915679932,-0.104999557137489,0.058255501091480,-0.124311201274395,-0.076755605638027,-0.123476229608059,0.113889999687672,-0.092593498528004));
res += mul(Get(s2,dx,dy), float4x4(0.009047689847648,0.024665981531143,0.238423347473145,0.017061589285731,-0.218934416770935,0.000675116665661,-0.147327736020088,-0.172531053423882,0.019834423437715,0.026806313544512,0.396650403738022,0.011384353041649,-0.155205681920052,-0.000895241333637,0.003470438299701,-0.007614163681865));
res += mul(Get(s3,-dx,-dy), float4x4(0.129225194454193,0.142942190170288,-0.007084959652275,0.042792234569788,0.007064357865602,0.064583279192448,0.149980440735817,-0.180276513099670,0.174618571996689,0.291152238845825,-0.099745124578476,0.183735683560371,-0.303820759057999,-0.028153717517853,-0.058922208845615,0.083267427980900));
res += mul(Get(s3,-dx,0), float4x4(-0.015085881575942,0.061445374041796,0.006476868409663,0.234999656677246,-0.119502492249012,-0.098975948989391,0.081706576049328,0.036891106516123,0.109044082462788,0.021518398076296,-0.169016256928444,0.080761142075062,-0.170730143785477,-0.097770735621452,0.029794288799167,-0.080444991588593));
res += mul(Get(s3,-dx,dy), float4x4(-0.039212472736835,0.060256805270910,0.014543746598065,-0.046327460557222,0.028391502797604,-0.063093483448029,0.042304955422878,-0.043520454317331,-0.018217014148831,-0.019757915288210,-0.073828496038914,0.092871226370335,-0.021477883681655,-0.111477583646774,0.204418286681175,-0.101301647722721));
res += mul(Get(s3,0,-dy), float4x4(-0.065330371260643,0.083469085395336,0.188406422734261,-0.018557226285338,0.004103989340365,-0.187225833535194,0.034958947449923,-0.043407950550318,-0.054304376244545,0.154343649744987,0.062040816992521,-0.058200016617775,-0.037909634411335,-0.023027306422591,0.006264055147767,-0.016512418165803));
res += mul(Get(s3,0,0), float4x4(0.272929698228836,0.004129081498832,-0.063964016735554,0.011648603715003,0.011324570514262,0.088469840586185,0.245632097125053,0.004195990506560,-0.029324544593692,-0.043523211032152,-0.065763667225838,-0.307955890893936,-0.209781840443611,-0.103343315422535,0.062439586967230,0.061013717204332));
res += mul(Get(s3,0,dy), float4x4(-0.012597869150341,0.220150277018547,-0.059581950306892,-0.192762598395348,0.133592262864113,0.047091867774725,0.066385872662067,-0.078719310462475,0.085633352398872,-0.009818442165852,0.061933718621731,-0.119445078074932,0.087585121393204,-0.124181486666203,-0.060684945434332,-0.096342340111732));
res += mul(Get(s3,dx,-dy), float4x4(-0.035017210990191,-0.181069150567055,-0.259561806917191,-0.022273639217019,0.175605013966560,0.064304441213608,-0.162309482693672,0.031752370297909,-0.131740808486938,0.063415177166462,0.078833080828190,-0.038938127458096,-0.037837967276573,0.044799033552408,-0.112727485597134,0.157319784164429));
res += mul(Get(s3,dx,0), float4x4(-0.078640304505825,-0.005223946645856,-0.025463083758950,-0.035597078502178,0.024091493338346,-0.123853951692581,-0.157215997576714,-0.025127472355962,0.136082336306572,0.049232862889767,-0.094635322690010,-0.140480130910873,-0.109876856207848,-0.012975165620446,0.021909117698669,0.117765046656132));
res += mul(Get(s3,dx,dy), float4x4(0.095760621130466,0.099467627704144,0.162824958562851,-0.019841389730573,0.081908851861954,0.013924021273851,-0.004534454084933,-0.032668545842171,0.040662743151188,-0.123533703386784,0.077381141483784,0.076735645532608,0.136666014790535,-0.131020992994308,0.087679453194141,0.167697116732597));
return max(float4(0,0,0,0), res);
}
