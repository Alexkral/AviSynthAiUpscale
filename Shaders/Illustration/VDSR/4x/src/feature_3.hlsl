sampler s0 : register(s0);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(x, y)   tex2D(s0, tex + float2(x, y))[0]

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += float4(0.367439657449722,0.184427365660667,0.376466423273087,-0.004182276315987) * Get(-dx,-dy);
res += float4(-0.866820693016052,2.878236532211304,0.946673452854156,-0.010025727562606) * Get(-dx,0);
res += float4(-0.454804480075836,-1.121322512626648,2.264491558074951,-0.013214018195868) * Get(-dx,dy);
res += float4(1.516195178031921,-1.575839877128601,-1.452017307281494,-0.022533593699336) * Get(0,-dy);
res += float4(0.311072230339050,0.210690051317215,-0.831549048423767,-0.013544530607760) * Get(0,0);
res += float4(0.040289856493473,-1.056192398071289,0.636594951152802,-0.002578050829470) * Get(0,dy);
res += float4(-1.679766178131104,0.569292068481445,-1.587410688400269,0.015670368447900) * Get(dx,-dy);
res += float4(-1.399472475051880,-0.629615426063538,-0.917061448097229,-0.028545234352350) * Get(dx,0);
res += float4(0.045850757509470,0.664229512214661,0.512189686298370,0.017674453556538) * Get(dx,dy);
return max(float4(0,0,0,0), res);
}
