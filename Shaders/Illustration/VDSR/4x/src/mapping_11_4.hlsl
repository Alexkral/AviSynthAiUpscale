sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.043902970850468,0.091003924608231,-0.196538329124451,-0.254133939743042,0.057784914970398,0.105273731052876,-0.052889026701450,-0.104129292070866,-0.116383410990238,0.075665414333344,0.108361788094044,-0.004409993998706,-0.322512388229370,-0.048353631049395,0.226815044879913,-0.110095657408237));
res += mul(Get(s0,-dx,0), float4x4(-0.080088354647160,0.251410782337189,0.168056935071945,-0.220009729266167,-0.038213115185499,-0.080839082598686,-0.000027860718546,0.068434603512287,-0.116626694798470,0.409215331077576,-0.124763421714306,0.295776635408401,-0.105141282081604,0.008098693564534,0.146302387118340,-0.011970802210271));
res += mul(Get(s0,-dx,dy), float4x4(0.010967095382512,0.017432415857911,0.007741453591734,-0.229187950491905,0.110785372555256,-0.010798855684698,0.091027118265629,0.284250944852829,-0.043058268725872,-0.010874676518142,-0.144230961799622,0.049928102642298,-0.054812975227833,0.035825654864311,-0.091719806194305,0.108701951801777));
res += mul(Get(s0,0,-dy), float4x4(-0.046887863427401,-0.050228994339705,0.031236158683896,-0.180735111236572,-0.076442934572697,-0.044362541288137,-0.147011563181877,-0.122895039618015,-0.022896457463503,0.069919973611832,-0.117362499237061,-0.011652404442430,0.021650433540344,0.106476686894894,-0.196483418345451,-0.034753516316414));
res += mul(Get(s0,0,0), float4x4(-0.009226190857589,-0.166312053799629,-0.078748956322670,-0.345274597406387,-0.054634839296341,-0.023122839629650,-0.145016536116600,-0.106380037963390,0.012902413494885,0.093655876815319,-0.111598484218121,0.108281120657921,-0.009261901490390,-0.032458573579788,0.050299119204283,-0.110651105642319));
res += mul(Get(s0,0,dy), float4x4(-0.132621809840202,0.040921192616224,-0.018805943429470,-0.240111872553825,-0.036967325955629,0.026454504579306,-0.078081890940666,0.170258417725563,-0.133223041892052,0.133275285363197,0.036148633807898,0.057061847299337,-0.036777112632990,0.103227190673351,-0.054185532033443,0.275766164064407));
res += mul(Get(s0,dx,-dy), float4x4(-0.188108310103416,-0.188194081187248,-0.251461505889893,-0.110095337033272,0.366457492113113,-0.130502119660378,-0.013723342679441,-0.199884399771690,-0.098360866308212,0.025437342002988,0.023741493001580,0.156867474317551,-0.058225855231285,0.142874985933304,0.073045715689659,0.015960307791829));
res += mul(Get(s0,dx,0), float4x4(-0.081688888370991,0.122524738311768,0.371176123619080,0.006350742187351,0.140115484595299,-0.105990663170815,-0.032583307474852,-0.144014701247215,-0.031652368605137,0.029286608099937,0.237835124135017,0.052918806672096,0.016673341393471,0.070074111223221,0.146806940436363,0.267624527215958));
res += mul(Get(s0,dx,dy), float4x4(-0.164738729596138,0.096332453191280,0.278319418430328,-0.097001634538174,-0.077075727283955,-0.059652835130692,-0.082373648881912,-0.063422039151192,-0.126197993755341,0.115624882280827,-0.024172026664019,-0.066483289003372,0.080123551189899,-0.054772321134806,-0.109788790345192,-0.089439637959003));
res += mul(Get(s1,-dx,-dy), float4x4(0.281976938247681,0.066367223858833,-0.095578923821449,-0.102925434708595,0.107696972787380,-0.261881232261658,-0.283506035804749,-0.168693527579308,0.019976025447249,-0.165473535656929,-0.010914267972112,-0.159840136766434,-0.038593135774136,-0.167726039886475,-0.287658303976059,-0.188866928219795));
res += mul(Get(s1,-dx,0), float4x4(0.158053368330002,-0.012103661894798,0.019604960456491,-0.010062577202916,0.050399977713823,-0.052947897464037,-0.043184161186218,-0.117156066000462,-0.169636636972427,-0.088713966310024,0.330965399742126,-0.107267804443836,-0.180760785937309,-0.138941437005997,-0.131008684635162,-0.039194572716951));
res += mul(Get(s1,-dx,dy), float4x4(-0.004518103320152,0.118753693997860,0.024082664400339,0.102855257689953,0.129266321659088,-0.117107979953289,0.026120198890567,-0.113827288150787,-0.168839678168297,0.051358383148909,0.305510163307190,0.126046702265739,-0.011572797782719,-0.058971725404263,-0.113728791475296,0.079697616398335));
res += mul(Get(s1,0,-dy), float4x4(0.125514790415764,-0.008694722317159,-0.098755829036236,-0.088278949260712,0.132559716701508,-0.168237715959549,-0.105105429887772,-0.174823805689812,-0.079717159271240,-0.144257977604866,-0.121295072138309,-0.103652387857437,0.141978502273560,-0.144866421818733,-0.024390190839767,-0.161255002021790));
res += mul(Get(s1,0,0), float4x4(0.099792540073395,-0.045845407992601,-0.045619305223227,0.010875519365072,-0.036925997585058,-0.064493812620640,-0.052047371864319,-0.065419554710388,0.150924593210220,-0.160029828548431,0.074998579919338,-0.102811865508556,0.073389627039433,-0.203531682491302,-0.113112896680832,0.093951359391212));
res += mul(Get(s1,0,dy), float4x4(0.048585902899504,0.036479458212852,0.090697959065437,0.092661350965500,-0.028896821662784,-0.024662690237164,0.212051317095757,0.114592172205448,0.019191676750779,-0.065508723258972,0.091262251138687,0.080189257860184,0.115629322826862,-0.126725882291794,-0.275218427181244,0.221496284008026));
res += mul(Get(s1,dx,-dy), float4x4(-0.062737949192524,0.117733553051949,-0.098024308681488,-0.015059619210660,-0.054859928786755,-0.003290656954050,-0.102962739765644,-0.232091292738914,-0.024634521454573,-0.091379083693027,-0.285463511943817,-0.012538848444819,0.045576743781567,0.138618335127831,0.131689384579659,0.009511346928775));
res += mul(Get(s1,dx,0), float4x4(0.036502670496702,-0.061824798583984,-0.084732070565224,-0.049379281699657,-0.080914013087749,-0.076170526444912,0.049809649586678,-0.227834597229958,0.006117362529039,-0.070515029132366,-0.017288472503424,0.011075742542744,0.001996310194954,-0.138715088367462,-0.087015427649021,0.083333954215050));
res += mul(Get(s1,dx,dy), float4x4(0.068009003996849,-0.062685973942280,-0.052950304001570,-0.047720372676849,-0.043060097843409,-0.235782638192177,0.124571867287159,-0.017237791791558,-0.100452862679958,-0.010189923457801,-0.028229303658009,0.325793057680130,0.049228373914957,-0.188316106796265,0.055050436407328,0.251412600278854));
res += mul(Get(s2,-dx,-dy), float4x4(0.114934608340263,-0.043392110615969,-0.109284929931164,-0.097055166959763,-0.010586013086140,0.064610198140144,-0.128640845417976,-0.053068112581968,0.256413966417313,-0.130171999335289,-0.085505954921246,-0.009198275394738,0.113468013703823,-0.215414837002754,-0.268316805362701,-0.250842660665512));
res += mul(Get(s2,-dx,0), float4x4(-0.081585049629211,0.158212229609489,0.084909155964851,-0.173105224967003,0.095249138772488,-0.041583180427551,-0.050905961543322,-0.017894389107823,0.202948182821274,0.009731675498188,-0.002427077852190,-0.023395569995046,0.002467309124768,0.002118097385392,-0.013053737580776,-0.064038872718811));
res += mul(Get(s2,-dx,dy), float4x4(-0.127812311053276,0.156960785388947,0.009225554764271,0.209288924932480,-0.096032261848450,-0.138212203979492,0.059214934706688,-0.007641622330993,0.142259210348129,0.024473734200001,0.091981023550034,0.206355825066566,-0.285026162862778,0.221473857760429,0.023582801222801,-0.038503881543875));
res += mul(Get(s2,0,-dy), float4x4(0.248362407088280,-0.087300643324852,-0.073483362793922,-0.005890117492527,0.135205000638962,-0.037880647927523,-0.065272256731987,-0.059176538139582,-0.131668537855148,-0.119753621518612,0.108898967504501,0.033404283225536,0.155654415488243,-0.006328848190606,-0.162370800971985,-0.198537528514862));
res += mul(Get(s2,0,0), float4x4(-0.035193722695112,0.033958252519369,-0.050521120429039,0.165049090981483,0.014651231467724,-0.014806566759944,-0.108691580593586,-0.063376188278198,0.076869107782841,-0.035522442311049,0.033466711640358,-0.066430523991585,0.214797988533974,0.218739703297615,-0.069583043456078,0.001886175596155));
res += mul(Get(s2,0,dy), float4x4(-0.057904269546270,0.016075341030955,-0.049427218735218,0.115931428968906,0.083145894110203,0.009823122993112,-0.015774535015225,0.030366985127330,-0.012262611649930,0.086051963269711,-0.130753278732300,-0.037504401057959,-0.136994630098343,0.376284837722778,0.121107906103134,-0.031258024275303));
res += mul(Get(s2,dx,-dy), float4x4(0.059531148523092,-0.045714877545834,-0.090585544705391,0.120016373693943,-0.107311360538006,-0.008856659755111,-0.041672490537167,-0.045587033033371,-0.057022608816624,-0.179402723908424,-0.051591586321592,-0.055698454380035,-0.005383756011724,-0.257940441370010,-0.109117031097412,-0.237689629197121));
res += mul(Get(s2,dx,0), float4x4(0.041284270584583,0.055481132119894,-0.016322720795870,0.138870894908905,-0.072517611086369,0.000536654901225,-0.045364398509264,-0.047075606882572,-0.054098732769489,-0.060146130621433,-0.028533443808556,-0.092920012772083,-0.059353321790695,-0.196128845214844,-0.206931382417679,-0.070745132863522));
res += mul(Get(s2,dx,dy), float4x4(-0.043382108211517,0.002691811183468,-0.078459329903126,-0.063651800155640,0.093126721680164,-0.118091352283955,-0.096157692372799,-0.049231119453907,0.032447583973408,-0.051193792372942,-0.151421904563904,0.015135730616748,-0.079902701079845,-0.084220729768276,-0.068980626761913,0.003045998979360));
res += mul(Get(s3,-dx,-dy), float4x4(0.046605259180069,0.147728145122528,-0.186858072876930,0.039057757705450,0.076710440218449,-0.098007373511791,0.003117222571746,-0.052334975451231,-0.144553229212761,-0.037351213395596,-0.152075797319412,-0.140600696206093,-0.020026447251439,-0.035504925996065,-0.074701942503452,0.116964854300022));
res += mul(Get(s3,-dx,0), float4x4(-0.174256175756454,-0.004461127333343,0.099280901253223,-0.064783789217472,-0.256942838430405,-0.079488351941109,0.024386981502175,-0.017009438946843,-0.213870048522949,0.027166521176696,-0.020548794418573,-0.028584983199835,-0.100983090698719,-0.044136751443148,0.107103243470192,0.229129046201706));
res += mul(Get(s3,-dx,dy), float4x4(-0.219764247536659,-0.014511452056468,0.009977619163692,-0.061968855559826,0.255322605371475,-0.092626877129078,0.094393707811832,0.080474764108658,-0.245975390076637,0.006896417122334,-0.078785210847855,-0.006884622387588,-0.135473072528839,-0.068160645663738,0.000799134781118,0.155026614665985));
res += mul(Get(s3,0,-dy), float4x4(0.066026598215103,0.024219185113907,-0.033724211156368,-0.129266515374184,-0.124877914786339,-0.081383787095547,-0.140682280063629,-0.055992107838392,0.233571335673332,-0.051409255713224,-0.080713264644146,-0.047542024403811,0.006949635688215,-0.085677959024906,0.047274935990572,0.002211750717834));
res += mul(Get(s3,0,0), float4x4(0.138062894344330,0.123822756111622,0.066864810883999,-0.057091169059277,0.035403769463301,-0.057952359318733,-0.035721655935049,-0.034722998738289,0.224355831742287,0.138253688812256,-0.058162942528725,-0.039191544055939,-0.055529903620481,-0.068697661161423,0.008164717815816,0.090821415185928));
res += mul(Get(s3,0,dy), float4x4(-0.021454531699419,0.001195974182338,-0.000911627314053,-0.026426328346133,0.128722742199898,-0.071355827152729,0.083097629249096,0.000076706244727,0.240156114101410,-0.057336840778589,-0.048972021788359,0.003982397727668,-0.013630365021527,-0.024362014606595,-0.156838551163673,0.134449660778046));
res += mul(Get(s3,dx,-dy), float4x4(-0.085240028798580,-0.043062902987003,-0.167220264673233,-0.064912140369415,-0.106696948409081,-0.105772927403450,-0.129094704985619,-0.051035035401583,-0.104465551674366,-0.132899388670921,-0.110226154327393,0.012621534056962,-0.118845768272877,-0.114917382597923,0.017064470797777,0.013602665625513));
res += mul(Get(s3,dx,0), float4x4(-0.091702431440353,0.041844975203276,0.096725150942802,0.023909743875265,0.017887750640512,-0.078668057918549,0.074959106743336,-0.057075478136539,-0.028604261577129,-0.026236867532134,-0.101841427385807,-0.007113785482943,0.224461153149605,-0.079052820801735,0.123061738908291,0.054495103657246));
res += mul(Get(s3,dx,dy), float4x4(-0.141773641109467,-0.141431972384453,-0.006345907691866,0.140657007694244,0.215165629982948,-0.079152010381222,0.107216432690620,-0.044530872255564,-0.063779264688492,-0.085426256060600,0.055452249944210,0.020980250090361,-0.015066567808390,-0.067777410149574,0.078886061906815,0.099631749093533));
return max(float4(0,0,0,0), res);
}
