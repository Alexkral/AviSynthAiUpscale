sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.037505883723497,-0.242125615477562,0.117590948939323,-0.258516609668732,0.059102248400450,0.054322421550751,0.064228072762489,0.115615196526051,0.024676915258169,-0.015590528026223,-0.205901876091957,-0.170238226652145,-0.073217973113060,-0.095728524029255,-0.047398705035448,0.043347787111998));
res += mul(Get(s0,-dx,0), float4x4(0.024511637166142,0.018779173493385,-0.035081736743450,0.040140297263861,0.051597248762846,0.035923667252064,-0.234837055206299,0.036208111792803,-0.074396803975105,0.044566251337528,0.042124826461077,0.027085430920124,0.007775909267366,0.211959987878799,-0.074085831642151,-0.028021808713675));
res += mul(Get(s0,-dx,dy), float4x4(0.019257934764028,-0.156326591968536,-0.052452057600021,0.078788101673126,-0.370116740465164,-0.121000088751316,-0.114077411592007,0.168960064649582,0.009719531983137,0.227220118045807,-0.101863048970699,-0.063027016818523,0.152215138077736,0.030094051733613,0.051653340458870,0.037189416587353));
res += mul(Get(s0,0,-dy), float4x4(-0.250122994184494,-0.019382264465094,0.048326745629311,-0.119150131940842,-0.085339993238449,-0.089801684021950,-0.029793722555041,-0.059027969837189,-0.042182791978121,-0.090375714004040,-0.013992421329021,-0.098154082894325,-0.007245609071106,-0.059717200696468,0.078087188303471,0.232064366340637));
res += mul(Get(s0,0,0), float4x4(0.233975246548653,-0.047510903328657,0.114569142460823,-0.124776698648930,-0.085858158767223,-0.026404514908791,0.026882352307439,0.012659695930779,0.065051622688770,-0.103543527424335,0.072479665279388,0.028613461181521,0.066912829875946,0.071595504879951,0.018798539415002,0.007368655875325));
res += mul(Get(s0,0,dy), float4x4(-0.154082536697388,0.037358932197094,0.069276265799999,-0.025032237172127,-0.049612700939178,-0.116220183670521,-0.041164174675941,-0.017835928127170,0.045926265418530,0.237148910760880,-0.073739998042583,-0.045808058232069,0.065731920301914,0.060954105108976,-0.098927795886993,-0.026052478700876));
res += mul(Get(s0,dx,-dy), float4x4(-0.038842853158712,-0.084921851754189,0.258685946464539,0.125490084290504,-0.145955875515938,-0.231122463941574,0.122103840112686,0.045422095805407,0.205183267593384,0.109913811087608,0.115780398249626,0.051034051924944,0.106887683272362,0.034553188830614,0.103104867041111,-0.034914799034595));
res += mul(Get(s0,dx,0), float4x4(0.082386963069439,0.045200094580650,-0.001666177879088,0.100651971995831,0.023149713873863,-0.036037065088749,0.089992523193359,-0.056949146091938,-0.039365205913782,-0.137184143066406,0.090763658285141,-0.017066564410925,-0.176012739539146,0.218742951750755,0.099922277033329,0.026288509368896));
res += mul(Get(s0,dx,dy), float4x4(-0.152807712554932,0.010793509893119,0.093726955354214,-0.240822941064835,0.004684267099947,-0.089180044829845,0.094627916812897,0.180719509720802,0.028247585520148,-0.111352123320103,-0.129357814788818,0.143656015396118,-0.026518834754825,0.071960315108299,0.057244837284088,0.069226600229740));
res += mul(Get(s1,-dx,-dy), float4x4(-0.118323385715485,-0.027412386611104,0.069054350256920,-0.196487069129944,-0.166699111461639,-0.048889797180891,0.008116703480482,-0.162380784749985,0.027979057282209,0.145021587610245,0.108644329011440,-0.089890792965889,0.041314076632261,0.029111212119460,0.050651628524065,-0.127045080065727));
res += mul(Get(s1,-dx,0), float4x4(0.094538994133472,0.077505178749561,-0.096421703696251,0.120618693530560,0.108054079115391,-0.076436005532742,-0.131737247109413,0.074768826365471,0.002973629860207,-0.102071702480316,0.026081323623657,0.102151885628700,-0.086985521018505,0.058098342269659,-0.118072733283043,-0.018782295286655));
res += mul(Get(s1,-dx,dy), float4x4(0.040346808731556,0.096383161842823,0.031634196639061,0.076526425778866,-0.008458992466331,-0.002247964963317,0.122374206781387,-0.111413031816483,0.011036184616387,0.218502879142761,0.071888431906700,0.070418730378151,-0.011302554979920,0.083104386925697,-0.103207036852837,0.199310183525085));
res += mul(Get(s1,0,-dy), float4x4(0.141505151987076,-0.182873204350471,0.137553319334984,-0.035894665867090,-0.080137670040131,-0.103911027312279,0.008340711705387,0.070976845920086,-0.080942675471306,0.214989840984344,0.057786695659161,0.006998082157224,-0.031621854752302,0.110305719077587,0.009994385764003,-0.066931642591953));
res += mul(Get(s1,0,0), float4x4(0.067285157740116,0.020171385258436,-0.002885120688006,-0.065773278474808,-0.021670468151569,0.031964171677828,0.043032146990299,-0.160832867026329,0.050797007977962,-0.005329046864063,0.093865364789963,-0.017128787934780,-0.043839458376169,0.164224475622177,0.046362128108740,-0.042057909071445));
res += mul(Get(s1,0,dy), float4x4(0.136939480900764,0.161296397447586,0.079456143081188,-0.042463071644306,-0.078920327126980,0.031873930245638,0.062183544039726,-0.172467052936554,-0.106419287621975,0.070136226713657,0.166258022189140,-0.008679071441293,-0.131929978728294,-0.108979538083076,0.001268500345759,-0.161038890480995));
res += mul(Get(s1,dx,-dy), float4x4(0.155511215329170,0.036089878529310,-0.067634299397469,0.049829252064228,0.093722961843014,-0.091697581112385,0.066632382571697,-0.014561073854566,-0.143760487437248,0.003820613725111,0.088302820920944,-0.032045315951109,0.099933691322803,-0.055486369878054,0.296225965023041,-0.057510070502758));
res += mul(Get(s1,dx,0), float4x4(-0.138109639286995,0.119073532521725,0.103242479264736,0.173350080847740,0.113562911748886,0.001540345605463,0.014263055287302,0.078856356441975,-0.111474871635437,0.153693720698357,-0.016646951436996,-0.035932295024395,0.029296025633812,0.107326328754425,-0.190011292695999,0.223106399178505));
res += mul(Get(s1,dx,dy), float4x4(0.066459417343140,0.325505286455154,0.132659777998924,0.034438822418451,0.050649199634790,-0.140968486666679,-0.288936465978622,0.057041179388762,-0.019169360399246,0.157420858740807,0.015535481274128,-0.075842306017876,0.052309297025204,-0.132979586720467,-0.091637074947357,0.089557163417339));
res += mul(Get(s2,-dx,-dy), float4x4(0.069926202297211,-0.101446613669395,-0.007875676266849,0.066580973565578,-0.018305582925677,0.077694311738014,-0.020307179540396,-0.228411421179771,0.207801073789597,-0.062274988740683,0.037510387599468,0.089077934622765,-0.061439063400030,0.160126596689224,0.210928484797478,-0.018362591043115));
res += mul(Get(s2,-dx,0), float4x4(0.056014262139797,0.106977477669716,-0.030753180384636,-0.101544067263603,-0.111397311091423,0.152863726019859,-0.024880364537239,0.102114498615265,0.054079070687294,0.051573626697063,0.126139253377914,-0.137909203767776,-0.347109138965607,0.080497980117798,0.027357937768102,0.051162559539080));
res += mul(Get(s2,-dx,dy), float4x4(-0.197678402066231,-0.024406690150499,-0.144775614142418,0.002286445582286,0.047338351607323,-0.052175220102072,0.136921569705009,-0.087936155498028,-0.065964274108410,0.074777349829674,0.158288329839706,-0.011065562255681,-0.102856472134590,-0.159561097621918,-0.104863621294498,0.092196546494961));
res += mul(Get(s2,0,-dy), float4x4(-0.046986263245344,-0.071024045348167,0.051042418926954,-0.078748025000095,0.070929281413555,0.095522709190845,-0.197037756443024,0.082382723689079,0.060989983379841,0.056671146303415,0.266253560781479,-0.088592164218426,-0.034235060214996,-0.010652905330062,-0.052260141819715,-0.101070538163185));
res += mul(Get(s2,0,0), float4x4(-0.093747265636921,0.001404091482982,-0.058862227946520,0.077671863138676,0.016595520079136,-0.087934426963329,0.014012536965311,-0.075432129204273,-0.115506239235401,-0.091444276273251,0.249970868229866,0.072223335504532,-0.147720545530319,0.076946273446083,-0.063780702650547,0.008932808414102));
res += mul(Get(s2,0,dy), float4x4(0.101579613983631,-0.017129624262452,-0.083799712359905,0.085746467113495,-0.048858575522900,-0.101919971406460,0.152208030223846,-0.139145150780678,-0.046115625649691,-0.026176594197750,0.010420562699437,-0.054840505123138,-0.210895150899887,0.191421404480934,-0.101607307791710,-0.095927983522415));
res += mul(Get(s2,dx,-dy), float4x4(0.027634797617793,-0.015176285058260,-0.024976830929518,-0.061378486454487,0.111544452607632,-0.179112836718559,-0.024466682225466,0.067237839102745,-0.135998457670212,-0.036628149449825,-0.183751448988914,0.040706157684326,-0.175996929407120,-0.048070419579744,-0.031179470941424,-0.229441210627556));
res += mul(Get(s2,dx,0), float4x4(-0.025237625464797,0.066163524985313,-0.035852085798979,0.011548820883036,-0.276002138853073,-0.048857823014259,0.060764204710722,-0.082045488059521,-0.245006591081619,0.138318791985512,-0.105071209371090,-0.192832648754120,0.045140497386456,-0.123108133673668,0.016010558232665,-0.029408540576696));
res += mul(Get(s2,dx,dy), float4x4(0.234939143061638,-0.105639316141605,-0.140657305717468,-0.199715211987495,-0.006222307682037,-0.161606162786484,0.217177912592888,-0.114204861223698,0.049453284591436,-0.078193090856075,-0.202804908156395,0.043762810528278,0.336315870285034,-0.043863989412785,-0.049623455852270,0.230463340878487));
res += mul(Get(s3,-dx,-dy), float4x4(-0.026637723669410,0.017164286226034,0.001192240626551,-0.081581600010395,-0.025959858670831,0.156171783804893,0.004137662705034,-0.130568549036980,0.269492447376251,-0.028942555189133,-0.162481322884560,-0.027800785377622,0.035533864051104,-0.209959283471107,0.010163361206651,0.012383946217597));
res += mul(Get(s3,-dx,0), float4x4(-0.242296770215034,-0.224740818142891,0.027430268004537,-0.006592250429094,-0.092630945146084,-0.093116350471973,-0.105384461581707,0.075040049850941,0.153337284922600,0.261197447776794,0.216406807303429,0.055924892425537,-0.224809527397156,-0.202934533357620,-0.042560517787933,0.273310631513596));
res += mul(Get(s3,-dx,dy), float4x4(0.105628028512001,-0.137812748551369,0.099989719688892,0.012957521714270,-0.133391410112381,0.085436485707760,-0.103051200509071,-0.019263247027993,-0.025566464290023,0.018882242962718,-0.104333989322186,-0.082499317824841,-0.090751856565475,0.069387897849083,-0.077131144702435,-0.128807917237282));
res += mul(Get(s3,0,-dy), float4x4(0.185381501913071,-0.043457906693220,-0.157699689269066,0.156660601496696,-0.116362586617470,0.064989618957043,0.144982829689980,-0.144381433725357,0.014777210541070,-0.090803369879723,0.081459745764732,-0.044189415872097,-0.114945441484451,-0.047462958842516,-0.017651060596108,-0.001103255315684));
res += mul(Get(s3,0,0), float4x4(0.136060744524002,-0.158772453665733,-0.030944013968110,0.027810927480459,0.055327631533146,0.093083977699280,0.103256873786449,0.036362208425999,-0.162216335535049,0.031687561422586,-0.127795577049255,0.111631065607071,-0.056284055113792,0.103574045002460,0.076550237834454,-0.057303056120872));
res += mul(Get(s3,0,dy), float4x4(-0.063958749175072,-0.048039074987173,0.207226589322090,0.027016200125217,0.081081055104733,0.006866798270494,0.049032550305128,0.093955762684345,-0.125332280993462,0.056189078837633,0.107105195522308,-0.246467113494873,0.008974304422736,0.162212088704109,0.126850113272667,0.044668592512608));
res += mul(Get(s3,dx,-dy), float4x4(-0.111684270203114,-0.113699436187744,0.137062013149261,-0.142168700695038,0.075914412736893,-0.047881882637739,0.437013596296310,-0.015921777114272,0.090470954775810,-0.023397188633680,-0.042891260236502,-0.055818151682615,-0.107595987617970,0.103582285344601,0.130881726741791,-0.008927255868912));
res += mul(Get(s3,dx,0), float4x4(0.125275045633316,-0.024923035874963,0.001517540542409,0.082217596471310,0.212125152349472,-0.037282686680555,0.193782851099968,0.137577608227730,-0.035746384412050,-0.070194683969021,0.136953875422478,0.003162094391882,-0.147342100739479,0.036565557122231,-0.227394893765450,-0.061684928834438));
res += mul(Get(s3,dx,dy), float4x4(0.044546354562044,-0.312968999147415,-0.048115096986294,-0.063347868621349,0.040134184062481,0.090041659772396,-0.041642330586910,-0.058061625808477,0.157993048429489,0.137233048677444,0.154201224446297,0.139117226004601,-0.041122268885374,0.234920904040337,0.194150418043137,0.013911946676672));
return max(float4(0,0,0,0), res);
}
