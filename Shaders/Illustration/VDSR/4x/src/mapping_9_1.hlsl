sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.021963467821479,-0.136372059583664,-0.047771692276001,0.291024059057236,-0.060817811638117,0.088129252195358,-0.108205087482929,-0.018378846347332,0.042119286954403,-0.024611216038465,-0.007950564846396,0.024489883333445,0.008516102097929,0.022833667695522,0.369605123996735,-0.120420388877392));
res += mul(Get(s0,-dx,0), float4x4(0.305425941944122,0.191438719630241,0.033718526363373,-0.052592147141695,-0.094761408865452,-0.009303212165833,-0.189314499497414,-0.115573905408382,-0.180375993251801,0.205513700842857,-0.140779152512550,0.094878487288952,0.049668483436108,0.274091541767120,0.050377272069454,-0.110947832465172));
res += mul(Get(s0,-dx,dy), float4x4(0.438852727413177,0.130548179149628,0.100857175886631,-0.069672346115112,-0.113425016403198,-0.006199152674526,-0.148102670907974,0.314103752374649,-0.055589769035578,0.218749076128006,-0.154089719057083,0.064415208995342,-0.092696242034435,0.153012573719025,0.031383257359266,0.027446137741208));
res += mul(Get(s0,0,-dy), float4x4(0.060046605765820,0.223536819219589,-0.104612447321415,0.017133681103587,-0.055827103555202,0.053619999438524,-0.118998378515244,-0.142803296446800,0.050543013960123,-0.192799508571625,-0.069915756583214,-0.071342028677464,0.254459321498871,-0.067892700433731,0.263259232044220,-0.051604177802801));
res += mul(Get(s0,0,0), float4x4(0.330427318811417,0.150642842054367,-0.075592353940010,-0.051403582096100,-0.045906517654657,0.135594412684441,-0.092234522104263,-0.167734533548355,0.069949202239513,-0.037461053580046,-0.046449013054371,-0.093084193766117,-0.066525518894196,0.357742458581924,0.031661294400692,0.012214124202728));
res += mul(Get(s0,0,dy), float4x4(0.810586214065552,-0.025395594537258,-0.057465523481369,-0.015693102031946,-0.096319749951363,0.045899517834187,-0.143539384007454,-0.143072500824928,-0.288015335798264,-0.098822869360447,-0.136810407042503,-0.081071570515633,-0.133317649364471,0.398930728435516,0.012248274870217,0.075384855270386));
res += mul(Get(s0,dx,-dy), float4x4(-0.069511480629444,-0.029726253822446,0.038115009665489,-0.077924586832523,-0.024005828425288,-0.127261966466904,-0.034206189215183,-0.137266129255295,-0.205699518322945,-0.219091221690178,-0.074507884681225,-0.013158119283617,0.125558272004128,-0.013196433894336,0.271398454904556,-0.113549172878265));
res += mul(Get(s0,dx,0), float4x4(0.018276844173670,-0.041438903659582,-0.091163896024227,-0.080827981233597,-0.023951513692737,-0.026386201381683,-0.059718001633883,-0.131725057959557,0.056663498282433,-0.117853127419949,-0.082484737038612,-0.044458728283644,0.018114276230335,0.236174941062927,-0.024113386869431,-0.050727926194668));
res += mul(Get(s0,dx,dy), float4x4(0.153611347079277,-0.120296604931355,0.216841727495193,-0.102072514593601,-0.052113965153694,-0.125986486673355,-0.038856521248817,-0.160454139113426,0.140183210372925,-0.078410677611828,-0.104262717068195,-0.153706163167953,0.076866693794727,0.245471552014351,0.033423770219088,-0.078497715294361));
res += mul(Get(s1,-dx,-dy), float4x4(-0.077501513063908,-0.143838256597519,-0.158179953694344,-0.151236996054649,-0.002592184348032,0.240410134196281,-0.072164066135883,0.045709721744061,-0.041026405990124,-0.110900662839413,-0.054535187780857,-0.111057221889496,0.129623875021935,0.038712549954653,-0.089138306677341,0.080433569848537));
res += mul(Get(s1,-dx,0), float4x4(-0.014045124873519,-0.129738450050354,-0.183811157941818,-0.081304565072060,-0.068797186017036,-0.223936170339584,-0.041770774871111,0.196306288242340,-0.119634829461575,0.071642428636551,0.057807918637991,-0.038720477372408,-0.117857716977596,-0.126313596963882,-0.098726384341717,0.054926704615355));
res += mul(Get(s1,-dx,dy), float4x4(-0.058684304356575,-0.056574206799269,0.035144452005625,0.121356591582298,-0.067749425768852,-0.113121092319489,0.040556147694588,0.161302402615547,-0.125360935926437,-0.077001892030239,-0.141881972551346,0.301019877195358,-0.098813101649284,0.270408123731613,0.032336033880711,0.103387974202633));
res += mul(Get(s1,0,-dy), float4x4(0.031891949474812,-0.133859694004059,-0.222152024507523,0.115871325135231,-0.091125912964344,0.758343398571014,-0.108626142144203,-0.127603769302368,-0.025683833286166,-0.109753131866455,-0.029276080429554,0.051051057875156,0.051491986960173,0.079196065664291,-0.141399100422859,-0.132200032472610));
res += mul(Get(s1,0,0), float4x4(-0.124237507581711,-0.048541422933340,-0.217010021209717,0.074192374944687,-0.110922463238239,0.391067355871201,-0.026691831648350,-0.078984022140503,0.101479619741440,0.068704292178154,0.059758190065622,0.228788599371910,-0.200860023498535,0.324546694755554,-0.137217342853546,-0.199602097272873));
res += mul(Get(s1,0,dy), float4x4(0.051772613078356,-0.096602559089661,-0.014318910427392,0.206132739782333,-0.050809990614653,0.028505448251963,-0.009973872452974,0.047932289540768,0.346741706132889,0.135654225945473,-0.037234880030155,0.330356538295746,-0.067287698388100,0.303387403488159,-0.204290434718132,-0.094845212996006));
res += mul(Get(s1,dx,-dy), float4x4(0.036312099546194,-0.139900207519531,-0.125751271843910,-0.039745524525642,-0.078803919255733,0.340186744928360,-0.086345739662647,-0.130147621035576,0.059895183891058,-0.053659804165363,0.102370552718639,0.034535478800535,-0.154055088758469,-0.043432272970676,-0.094710834324360,-0.129672721028328));
res += mul(Get(s1,dx,0), float4x4(0.045888330787420,-0.161658093333244,-0.007836243137717,-0.314437240362167,-0.035193912684917,0.328078150749207,-0.108740754425526,-0.114172898232937,0.090390548110008,-0.162016078829765,0.216512709856033,0.120961025357246,-0.205890536308289,0.116197563707829,-0.116856954991817,-0.198205590248108));
res += mul(Get(s1,dx,dy), float4x4(0.000462955591502,-0.103710852563381,-0.076521806418896,0.453192263841629,-0.029383935034275,0.098754316568375,-0.039302553981543,-0.155059382319450,0.180778458714485,-0.034272190183401,0.223211899399757,0.137254953384399,0.152887389063835,0.027803631499410,-0.379686921834946,-0.208425611257553));
res += mul(Get(s2,-dx,-dy), float4x4(0.044193293899298,-0.064747326076031,-0.021350922062993,0.500621616840363,-0.198755070567131,-0.082942910492420,0.347030937671661,-0.179358333349228,-0.090514913201332,-0.111620679497719,0.198072299361229,-0.183977276086807,0.213251516222954,-0.091598108410835,0.174656853079796,0.074559427797794));
res += mul(Get(s2,-dx,0), float4x4(-0.036424916237593,0.004002775065601,-0.175659909844398,0.208565145730972,0.329087942838669,-0.039883747696877,0.061873994767666,-0.074342668056488,0.144697263836861,-0.021470816805959,-0.140267685055733,-0.060884021222591,-0.147715404629707,-0.044751707464457,-0.182171806693077,-0.204826384782791));
res += mul(Get(s2,-dx,dy), float4x4(-0.150851905345917,0.074085518717766,-0.175419926643372,0.260177522897720,0.203839898109436,0.118122257292271,0.053117796778679,-0.077992618083954,0.164552494883537,0.096797592937946,0.079823911190033,0.067989990115166,-0.042312737554312,0.279109537601471,-0.116830855607986,0.155346766114235));
res += mul(Get(s2,0,-dy), float4x4(0.035960774868727,-0.050381109118462,0.031975083053112,0.238466978073120,0.001183358137496,-0.013588710688055,-0.314895719289780,-0.170144394040108,0.114053428173065,0.045336648821831,0.391951024532318,-0.123119674623013,0.359029740095139,-0.086142867803574,0.131111264228821,0.084423668682575));
res += mul(Get(s2,0,0), float4x4(-0.107906095683575,0.018911637365818,-0.003192681120709,-0.042162265628576,0.246566921472549,-0.096556767821312,-0.107164151966572,-0.009646280668676,0.176150307059288,-0.031074978411198,-0.175876542925835,-0.090270310640335,-0.101395800709724,-0.119743973016739,-0.042795576155186,0.095516309142113));
res += mul(Get(s2,0,dy), float4x4(-0.190652713179588,0.066108547151089,-0.005291690584272,0.225745350122452,0.073035836219788,-0.011392585001886,0.139155566692352,-0.026560759171844,0.293611466884613,-0.017100060358644,0.065957076847553,0.085344396531582,-0.168154016137123,0.064728811383247,-0.123267568647861,-0.201555356383324));
res += mul(Get(s2,dx,-dy), float4x4(0.182711496949196,-0.190843671560287,-0.036438871175051,0.137641578912735,-0.180180549621582,-0.114943683147430,0.262953221797943,0.041407614946365,0.091078288853168,-0.114514820277691,0.373281061649323,0.109663702547550,0.001749872928485,-0.037027101963758,0.489822179079056,-0.073326535522938));
res += mul(Get(s2,dx,0), float4x4(-0.114882431924343,-0.003962458111346,-0.145572721958160,-0.170679613947868,-0.209912240505219,-0.124033883213997,0.017948860302567,0.077698372304440,0.069451928138733,0.014391846023500,-0.026650067418814,-0.038561642169952,-0.043512456119061,-0.132457837462425,-0.083988949656487,-0.106974720954895));
res += mul(Get(s2,dx,dy), float4x4(-0.161973550915718,-0.081420600414276,-0.025846131145954,-0.167138576507568,0.121158465743065,-0.166623279452324,0.161290809512138,0.002324195578694,0.106428094208241,0.020781686529517,0.100162968039513,0.089910067617893,-0.115080647170544,-0.065484642982483,-0.073287986218929,-0.086489692330360));
res += mul(Get(s3,-dx,-dy), float4x4(-0.112922295928001,-0.085387341678143,-0.055624060332775,-0.185394227504730,0.099715024232864,0.060999091714621,0.066712103784084,0.153032958507538,0.010904265567660,-0.082141786813736,0.121423311531544,0.058385428041220,-0.183317989110947,0.062094960361719,0.457224190235138,-0.010237677022815));
res += mul(Get(s3,-dx,0), float4x4(-0.108146816492081,0.214509800076485,-0.005777219776064,-0.043572176247835,-0.078904382884502,0.502194046974182,-0.106230877339840,-0.077524989843369,-0.075337521731853,-0.188097476959229,-0.073025308549404,0.085766270756721,-0.074999555945396,0.130231842398643,-0.173752367496490,0.110791131854057));
res += mul(Get(s3,-dx,dy), float4x4(0.148801952600479,0.377009183168411,0.168457210063934,0.169913262128830,-0.097549945116043,0.155810669064522,-0.011173197068274,-0.067075394093990,-0.111521862447262,-0.093180626630783,-0.013628055341542,0.280794858932495,-0.129035532474518,0.460340797901154,-0.094843372702599,0.143009662628174));
res += mul(Get(s3,0,-dy), float4x4(-0.035713966935873,-0.085660912096500,0.045461107045412,-0.059648618102074,-0.099730566143990,0.030941087752581,-0.007406620774418,-0.072570264339447,-0.013319322839379,-0.172043710947037,0.017650645226240,-0.041561454534531,-0.023942369967699,-0.180128589272499,0.018798699602485,-0.139823243021965));
res += mul(Get(s3,0,0), float4x4(-0.073712497949600,0.070777960121632,-0.052046388387680,-0.059419550001621,-0.161064520478249,0.180627122521400,-0.146681576967239,-0.091241456568241,-0.079230621457100,-0.045965094119310,-0.075552098453045,-0.081221707165241,0.199263781309128,-0.120690256357193,-0.177641272544861,-0.004418460186571));
res += mul(Get(s3,0,dy), float4x4(0.056171081960201,0.379573553800583,0.007486141286790,0.154214158654213,-0.114447616040707,0.243852153420448,-0.033368304371834,-0.060452934354544,-0.081681244075298,0.040428087115288,-0.075417757034302,-0.018972033634782,0.009001716971397,0.197051078081131,-0.039062045514584,-0.007085548248142));
res += mul(Get(s3,dx,-dy), float4x4(0.001535606803373,-0.091519176959991,0.189897000789642,-0.148437306284904,-0.132467567920685,-0.146645575761795,-0.030939882621169,-0.134382128715515,-0.097500592470169,0.373464763164520,0.045190524309874,-0.124931238591671,-0.258833438158035,-0.106476575136185,0.146738439798355,-0.189127698540688));
res += mul(Get(s3,dx,0), float4x4(0.051277209073305,-0.003178702900186,0.018155811354518,-0.121277548372746,0.011868947185576,0.144266545772552,-0.101269677281380,-0.078939661383629,-0.016868434846401,0.277240186929703,-0.081685364246368,-0.182706445455551,-0.292847037315369,-0.082471869885921,-0.027391847223043,-0.101295441389084));
res += mul(Get(s3,dx,dy), float4x4(-0.101109214127064,0.081963844597340,0.230116501450539,-0.123930722475052,0.015578527934849,0.292813986539841,-0.004647276829928,-0.095222219824791,-0.085858710110188,0.491299182176590,-0.102730557322502,-0.274245232343674,-0.246771201491356,0.061847340315580,-0.192774146795273,0.046308126300573));
return max(float4(0,0,0,0), res);
}
