sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.139805078506470,-0.022459562867880,0.011710363440216,-0.092826068401337,0.006002976093441,-0.102345868945122,0.083168320357800,0.024712856858969,0.187271758913994,0.134930372238159,-0.219617411494255,0.122762069106102,0.161401450634003,0.024126674979925,0.084044359624386,0.135823234915733));
res += mul(Get(s0,-dx,0), float4x4(-0.066511340439320,-0.171267643570900,0.235835090279579,0.241925105452538,-0.123102605342865,-0.155332893133163,-0.017509186640382,-0.111290149390697,0.040569376200438,0.040683649480343,-0.161988452076912,-0.016768524423242,0.096205428242683,-0.058162268251181,0.032333567738533,0.065688744187355));
res += mul(Get(s0,-dx,dy), float4x4(-0.087983429431915,0.050583448261023,-0.084021814167500,0.152679383754730,0.129849314689636,0.167810752987862,-0.148818403482437,-0.028375972062349,-0.024463482201099,-0.207870185375214,0.108023218810558,-0.147472292184830,0.107598334550858,0.037464067339897,-0.111423522233963,0.197571337223053));
res += mul(Get(s0,0,-dy), float4x4(0.005507724359632,0.199897497892380,0.074579373002052,-0.112123362720013,0.224316418170929,0.068007737398148,-0.049930725246668,-0.062735073268414,-0.095308646559715,0.185968503355980,0.045120388269424,0.160200014710426,-0.092139877378941,-0.173826888203621,-0.096742466092110,0.052243992686272));
res += mul(Get(s0,0,0), float4x4(-0.013573089614511,-0.265933513641357,0.073140054941177,0.065539427101612,-0.244397535920143,0.107338041067123,0.094500035047531,0.036784317344427,-0.027082389220595,-0.081100896000862,-0.107569113373756,0.013746223412454,-0.135161310434341,0.037450093775988,0.152829825878143,-0.023729939013720));
res += mul(Get(s0,0,dy), float4x4(0.058785818517208,0.052093297243118,0.045875094830990,0.182865425944328,0.213633656501770,0.023421846330166,-0.093490615487099,-0.035925485193729,0.104177080094814,0.046804230660200,0.137924656271935,-0.136392369866371,0.044846490025520,0.039803013205528,0.005542065016925,0.048931930214167));
res += mul(Get(s0,dx,-dy), float4x4(0.139529824256897,0.003641044488177,0.060311499983072,0.083523817360401,0.008889067918062,-0.031454931944609,0.042831845581532,0.217872142791748,0.121560640633106,-0.213071435689926,-0.076353505253792,0.114469453692436,0.051153853535652,0.255214065313339,0.057846680283546,0.025169091299176));
res += mul(Get(s0,dx,0), float4x4(0.126995757222176,-0.044379714876413,0.051853694021702,-0.000223181181354,-0.111261107027531,-0.115948371589184,0.121028997004032,0.050881490111351,0.068589895963669,0.054420143365860,-0.163487896323204,-0.135943755507469,0.012981198728085,-0.216594025492668,-0.041843436658382,-0.054511103779078));
res += mul(Get(s0,dx,dy), float4x4(0.230909168720245,0.025936014950275,0.031491994857788,-0.016629476100206,-0.044178247451782,-0.257848143577576,-0.225073143839836,-0.049641620367765,0.226658791303635,-0.012368141673505,0.076816506683826,-0.165892824530602,-0.049495600163937,-0.013315520249307,-0.034645833075047,-0.104982852935791));
res += mul(Get(s1,-dx,-dy), float4x4(0.044995434582233,0.177112132310867,0.112257495522499,0.177639767527580,-0.063239589333534,0.047892007976770,0.036775086075068,-0.056224651634693,0.261259555816650,-0.165027782320976,-0.066171884536743,-0.166966050863266,0.107987068593502,0.076918311417103,0.112991064786911,0.025212761014700));
res += mul(Get(s1,-dx,0), float4x4(0.081461064517498,-0.149206444621086,0.143028661608696,-0.014629768207669,-0.058390904217958,-0.077705688774586,0.154416054487228,0.017136579379439,-0.227743685245514,-0.044381823390722,0.090330317616463,0.052452031522989,-0.033447246998549,-0.111752584576607,-0.042342431843281,-0.044443462044001));
res += mul(Get(s1,-dx,dy), float4x4(-0.233373925089836,0.070409633219242,-0.033938918262720,0.134079486131668,-0.040467984974384,0.070209935307503,-0.238261327147484,-0.038755230605602,0.118035763502121,0.102034963667393,-0.005477175582200,-0.015078930184245,0.164347141981125,0.003275561379269,-0.031192965805531,0.040808163583279));
res += mul(Get(s1,0,-dy), float4x4(-0.088631860911846,0.019236005842686,0.150741323828697,-0.081930182874203,-0.101577676832676,-0.107950806617737,0.136823236942291,-0.261475116014481,0.082805417478085,-0.280780375003815,-0.100279614329338,-0.059722859412432,-0.075669236481190,0.116390720009804,-0.103856459259987,-0.049055032432079));
res += mul(Get(s1,0,0), float4x4(-0.014900092035532,-0.009363280609250,0.094292908906937,0.122770510613918,0.151356711983681,-0.135168388485909,-0.056652903556824,0.005047623999417,-0.001661989139393,0.142949670553207,-0.011264644563198,0.093020237982273,-0.046249806880951,-0.049987506121397,-0.030115267261863,0.011130326427519));
res += mul(Get(s1,0,dy), float4x4(0.026269486173987,-0.193938225507736,-0.047513954341412,0.014136312529445,0.072143115103245,-0.139352679252625,-0.056356571614742,0.196653902530670,0.039743375033140,-0.195920735597610,0.017590183764696,0.050782732665539,0.083409212529659,0.057366862893105,-0.132807284593582,-0.044762007892132));
res += mul(Get(s1,dx,-dy), float4x4(-0.234495237469673,0.154902577400208,0.042358715087175,0.011909807100892,-0.052327562123537,0.023985266685486,-0.100181236863136,0.019438181072474,-0.167880222201347,0.064540714025497,-0.214465424418449,0.081309095025063,0.140406906604767,-0.190056815743446,0.070467583835125,-0.118206150829792));
res += mul(Get(s1,dx,0), float4x4(-0.009581734426320,0.005706192925572,0.243478536605835,-0.141560345888138,0.285224735736847,0.090781770646572,-0.119253978133202,-0.280728846788406,-0.112573400139809,0.042762123048306,0.047346793115139,-0.025370124727488,0.104765594005585,-0.104088231921196,0.122300386428833,0.213762953877449));
res += mul(Get(s1,dx,dy), float4x4(-0.073547206819057,-0.079889833927155,0.009244116023183,0.148266419768333,0.045641969889402,-0.200545102357864,-0.127005964517593,0.039397053420544,0.130433410406113,0.053769309073687,0.104788154363632,-0.085659094154835,0.009746713563800,-0.105960085988045,-0.043733544647694,0.171252161264420));
res += mul(Get(s2,-dx,-dy), float4x4(0.098614014685154,0.136027187108994,-0.031506616622210,-0.179753616452217,-0.121366642415524,-0.027690818533301,-0.058828756213188,-0.067312315106392,-0.118725076317787,0.075108990073204,-0.225069478154182,0.049810104072094,0.178770422935486,-0.101417414844036,-0.078743197023869,-0.034245688468218));
res += mul(Get(s2,-dx,0), float4x4(0.004143910016865,-0.066516265273094,-0.011386037804186,-0.087318509817123,0.010104462504387,-0.137503296136856,0.016183579340577,-0.059083215892315,0.145942583680153,-0.120469726622105,0.216640353202820,0.062102913856506,0.097657531499863,-0.023699363693595,0.054585769772530,-0.166776344180107));
res += mul(Get(s2,-dx,dy), float4x4(-0.007560901343822,0.199862480163574,-0.008677522651851,0.135951861739159,0.062525227665901,-0.218009784817696,0.065426468849182,-0.020541053265333,0.049338195472956,-0.102412760257721,0.072365157306194,-0.083234317600727,0.059549942612648,0.043150298297405,-0.036193832755089,0.063361071050167));
res += mul(Get(s2,0,-dy), float4x4(0.186859980225563,0.102942988276482,0.041605733335018,-0.111774943768978,-0.061437271535397,0.104048691689968,0.177526161074638,0.031568385660648,-0.048038739711046,0.154336228966713,-0.049084033817053,0.085356988012791,0.021609434857965,-0.203975945711136,0.016639770939946,-0.143081128597260));
res += mul(Get(s2,0,0), float4x4(0.202433645725250,0.254164874553680,-0.040698193013668,0.077122263610363,0.148886203765869,0.133900269865990,0.046778995543718,-0.179814860224724,0.094243764877319,-0.084622092545033,-0.056464560329914,0.041322033852339,0.065754063427448,-0.034972753375769,-0.131781071424484,0.091697782278061));
res += mul(Get(s2,0,dy), float4x4(-0.070916295051575,-0.010439288802445,-0.043584316968918,0.060649950057268,0.111414283514023,0.088568128645420,0.013847621157765,0.065167486667633,-0.058498796075583,-0.053560636937618,0.138399869203568,-0.122150070965290,0.001878419076093,-0.060970928519964,0.157929152250290,0.046548299491405));
res += mul(Get(s2,dx,-dy), float4x4(0.002751205116510,0.109265990555286,-0.091922640800476,-0.153084114193916,-0.202927604317665,-0.128103762865067,0.191337272524834,-0.045371178537607,-0.036726593971252,-0.031372331082821,0.210037305951118,-0.060511995106936,0.087911091744900,-0.000596295751166,-0.057627808302641,0.075100302696228));
res += mul(Get(s2,dx,0), float4x4(0.010282628238201,-0.166213244199753,0.036437667906284,0.029731072485447,0.034602515399456,0.116893060505390,0.021710716187954,0.166520774364471,-0.057538930326700,-0.146143391728401,0.005695811938494,-0.156572312116623,0.243324205279350,-0.106396615505219,-0.064196370542049,0.119785875082016));
res += mul(Get(s2,dx,dy), float4x4(0.061590645462275,0.059606924653053,0.036544188857079,0.112302035093307,0.130513891577721,-0.072033531963825,0.072334483265877,-0.032307125627995,-0.041207160800695,-0.008693719282746,0.030576068907976,-0.006615526508540,-0.103591449558735,-0.232658579945564,-0.268919318914413,-0.097498357295990));
res += mul(Get(s3,-dx,-dy), float4x4(-0.015583082102239,-0.044313907623291,-0.152122691273689,-0.132198721170425,-0.023646688088775,0.125014111399651,0.005807841196656,0.267729341983795,0.015862457454205,-0.071175768971443,0.050312042236328,0.068040221929550,-0.249242782592773,0.021587565541267,-0.231749504804611,0.033502887934446));
res += mul(Get(s3,-dx,0), float4x4(0.272742807865143,-0.070625931024551,0.069982498884201,-0.183040618896484,-0.059722147881985,0.034067470580339,-0.054683230817318,0.035006988793612,-0.078471116721630,0.180120706558228,-0.084273084998131,-0.074134387075901,-0.034813854843378,0.141088247299194,-0.047679029405117,0.070066906511784));
res += mul(Get(s3,-dx,dy), float4x4(0.180390462279320,0.051012389361858,0.036046326160431,-0.043603990226984,0.123437196016312,0.008829533122480,0.161445245146751,0.012387978844345,-0.077630579471588,-0.029806137084961,0.007731014862657,-0.091287426650524,0.039870582520962,-0.139578878879547,-0.089289836585522,0.067529939115047));
res += mul(Get(s3,0,-dy), float4x4(0.218775495886803,-0.139930084347725,-0.081964544951916,0.234034106135368,-0.019686367362738,-0.122184507548809,-0.064046710729599,0.068357877433300,0.022181624546647,-0.049864329397678,-0.041774142533541,-0.093090817332268,0.085844799876213,-0.102527007460594,-0.100789070129395,0.032549820840359));
res += mul(Get(s3,0,0), float4x4(-0.121636874973774,-0.128386795520782,-0.006924868095666,0.091577515006065,0.087861895561218,0.147662580013275,-0.112533211708069,0.009843374602497,-0.066493071615696,-0.023827452212572,-0.019586948677897,-0.049765277653933,0.048290140926838,-0.199801132082939,0.034224878996611,-0.106249690055847));
res += mul(Get(s3,0,dy), float4x4(-0.077133066952229,-0.170780435204506,-0.034055393189192,0.016978144645691,-0.037300936877728,0.021449375897646,-0.024635875597596,-0.025799436494708,-0.114237725734711,-0.104203589260578,0.032784476876259,-0.036109205335379,-0.082088015973568,-0.170578792691231,-0.083374820649624,-0.000235415631323));
res += mul(Get(s3,dx,-dy), float4x4(-0.128642454743385,0.226457417011261,-0.113712541759014,0.157749056816101,-0.027203857898712,-0.157932728528976,-0.091958634555340,0.027364131063223,-0.181106016039848,-0.051877249032259,-0.126602709293365,-0.099688746035099,-0.071160010993481,0.054676242172718,-0.119189836084843,-0.041031695902348));
res += mul(Get(s3,dx,0), float4x4(-0.157276749610901,-0.108606934547424,-0.102100402116776,0.083728261291981,-0.112332925200462,0.284084022045135,0.065227314829826,0.110000453889370,0.042070776224136,0.039720486849546,0.075500488281250,0.039174441248178,0.055202428251505,-0.086680732667446,-0.113412737846375,-0.063631519675255));
res += mul(Get(s3,dx,dy), float4x4(0.041537750512362,0.110463395714760,-0.007976959459484,-0.052530426532030,0.131948560476303,0.056790810078382,-0.050663083791733,0.236550509929657,-0.086782746016979,0.064370714128017,-0.060297776013613,0.062406122684479,-0.061201710253954,0.129628553986549,-0.099766924977303,0.150162875652313));
return max(float4(0,0,0,0), res);
}
