sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.021626397967339,-0.025630153715611,-0.285357773303986,0.102446079254150,0.037796787917614,-0.012956643477082,0.166874691843987,-0.221979334950447,-0.008487381972373,0.174774661660194,-0.108100920915604,-0.118906565010548,0.061546001583338,-0.216481909155846,-0.022751701995730,0.042163476347923));
res += mul(Get(s0,-dx,0), float4x4(0.051837336272001,0.049902155995369,-0.015871681272984,0.077133730053902,0.023487659171224,-0.174611523747444,0.005691986065358,-0.073142714798450,-0.111231110990047,0.011241222731769,-0.043362781405449,0.040629904717207,-0.071042127907276,-0.132498741149902,-0.252146452665329,-0.118256695568562));
res += mul(Get(s0,-dx,dy), float4x4(0.021903559565544,0.084049731492996,0.057035747915506,-0.041632629930973,0.097244217991829,0.005238875281066,0.064132481813431,0.064474806189537,-0.149734541773796,0.222607657313347,0.163024142384529,-0.016922164708376,0.228746935725212,0.110431641340256,-0.011591695249081,-0.110996216535568));
res += mul(Get(s0,0,-dy), float4x4(-0.080954805016518,-0.032579690217972,0.006105734966695,-0.009629498235881,-0.064574964344501,-0.081036992371082,0.163270920515060,0.112843558192253,0.189126476645470,-0.021208506077528,-0.030804567039013,-0.011982421390712,-0.051069028675556,-0.126796841621399,0.093890883028507,-0.246927559375763));
res += mul(Get(s0,0,0), float4x4(0.072831124067307,-0.032002080231905,0.191316336393356,0.148281931877136,0.232950583100319,-0.035316441208124,-0.213863998651505,0.070021815598011,-0.129281014204025,-0.178059026598930,-0.043334297835827,0.154077559709549,-0.201421946287155,0.193952918052673,-0.024712519720197,-0.156195789575577));
res += mul(Get(s0,0,dy), float4x4(0.036271840333939,0.029148401692510,0.026334691792727,0.030981456860900,-0.016177069395781,0.101156093180180,-0.093493781983852,0.003104342846200,-0.091424450278282,0.037863023579121,0.028654577210546,-0.010883905924857,-0.108221642673016,0.093381553888321,-0.045074284076691,0.281736403703690));
res += mul(Get(s0,dx,-dy), float4x4(0.194622635841370,-0.095092080533504,0.148828804492950,0.226349696516991,-0.070755071938038,-0.126855641603470,0.165778711438179,-0.103348001837730,0.088918685913086,-0.172095835208893,0.108031518757343,0.083469934761524,-0.018152067437768,-0.071898490190506,0.094791501760483,-0.057629339396954));
res += mul(Get(s0,dx,0), float4x4(0.205749943852425,-0.056800730526447,0.045818157494068,0.083718284964561,-0.217480570077896,-0.088445872068405,-0.121842481195927,-0.057847127318382,-0.221200749278069,-0.170203194022179,0.021917704492807,0.206827759742737,0.066577404737473,-0.017701033502817,-0.172570630908012,-0.191482350230217));
res += mul(Get(s0,dx,dy), float4x4(0.019565515220165,0.116889320313931,-0.032749079167843,-0.087084546685219,-0.072207853198051,-0.202170133590698,0.023920759558678,-0.017933592200279,-0.021682556718588,-0.085534445941448,-0.159886032342911,0.060433343052864,0.053787868469954,0.060270354151726,0.211174413561821,-0.052603121846914));
res += mul(Get(s1,-dx,-dy), float4x4(0.024324063211679,0.013862835243344,0.009788814932108,0.322536170482635,-0.038239125162363,-0.055973317474127,-0.220739498734474,0.001228555338457,-0.130714923143387,0.106646157801151,0.145544916391373,0.016325814649463,-0.065351672470570,-0.180034309625626,0.189573958516121,0.017718184739351));
res += mul(Get(s1,-dx,0), float4x4(-0.045380510389805,-0.089249588549137,-0.058955062180758,-0.029240237548947,0.072193890810013,-0.125801488757133,-0.081483438611031,0.192942097783089,-0.032305844128132,0.075158730149269,0.008715425617993,0.069771602749825,-0.086785443127155,-0.068022631108761,-0.044487114995718,0.125003665685654));
res += mul(Get(s1,-dx,dy), float4x4(0.131706893444061,-0.235739752650261,0.166699007153511,-0.034592617303133,-0.083150804042816,-0.171010941267014,0.025271425023675,0.098774425685406,0.078688725829124,0.117049612104893,0.059391796588898,0.044561233371496,0.090660385787487,0.033933091908693,-0.076130166649818,0.364939659833908));
res += mul(Get(s1,0,-dy), float4x4(0.024764198809862,-0.184604525566101,0.223690405488014,-0.069086134433746,0.019139751791954,-0.165495350956917,0.080624893307686,-0.099627077579498,-0.040518306195736,0.083661325275898,0.265078395605087,-0.062770545482635,0.178802177309990,-0.082976236939430,-0.047998413443565,0.003561172168702));
res += mul(Get(s1,0,0), float4x4(0.015853060409427,-0.126788511872292,-0.051824722439051,-0.166932657361031,-0.054225925356150,0.119668811559677,-0.191652655601501,-0.200152710080147,-0.038854852318764,-0.070502385497093,0.142829254269600,0.209301948547363,-0.200762391090393,-0.014953211881220,-0.157750010490417,-0.080419115722179));
res += mul(Get(s1,0,dy), float4x4(-0.067994698882103,0.179875612258911,0.073708616197109,0.201309159398079,0.068049699068069,0.066118426620960,0.041243411600590,-0.088988140225410,-0.111545369029045,-0.027646949514747,0.140601351857185,-0.016341876238585,-0.172583267092705,-0.159624427556992,0.050516795367002,-0.130374908447266));
res += mul(Get(s1,dx,-dy), float4x4(-0.190355688333511,-0.000645335414447,-0.262574434280396,0.178130611777306,0.045593161135912,0.074808388948441,-0.166919365525246,0.301427692174911,-0.053478110581636,-0.036756969988346,-0.182131305336952,0.093504875898361,-0.000468784011900,-0.202997818589211,-0.119182504713535,-0.002209994010627));
res += mul(Get(s1,dx,0), float4x4(-0.017473923042417,0.072946213185787,0.156965076923370,-0.022138005122542,-0.066180452704430,-0.032475553452969,0.065567225217819,-0.125673115253448,-0.073005631566048,-0.256633639335632,-0.126774698495865,-0.034388508647680,0.097823739051819,0.189466595649719,0.268638283014297,0.069404877722263));
res += mul(Get(s1,dx,dy), float4x4(0.003131653880700,-0.040583040565252,0.004258933477104,-0.216161519289017,0.068824298679829,-0.164018586277962,-0.012374229729176,0.038430996239185,0.025633752346039,0.148893132805824,-0.082085072994232,0.044125437736511,0.186951220035553,-0.210730314254761,0.077184915542603,-0.024914348497987));
res += mul(Get(s2,-dx,-dy), float4x4(0.025559397414327,-0.279480010271072,0.176248341798782,-0.099926561117172,-0.275814414024353,0.060938194394112,0.068912588059902,-0.028468694537878,-0.083717696368694,0.114608936011791,-0.141672924160957,0.083458594977856,-0.172259479761124,-0.105829402804375,-0.011881456710398,-0.053331688046455));
res += mul(Get(s2,-dx,0), float4x4(-0.053195979446173,-0.107781194150448,-0.021863941103220,0.179422393441200,0.020522866398096,0.177068099379539,-0.177399754524231,-0.022066634148359,-0.122954025864601,-0.080340445041656,0.101953670382500,-0.089835122227669,0.168602809309959,0.221357583999634,-0.089700266718864,-0.112966127693653));
res += mul(Get(s2,-dx,dy), float4x4(-0.087419271469116,-0.098233640193939,-0.166469350457191,0.086968615651131,0.189390987157822,0.156734108924866,0.063953720033169,0.136023730039597,-0.011131004430354,0.211140885949135,0.112240999937057,-0.195408821105957,0.035302087664604,0.041704393923283,-0.063294462859631,0.003279011230916));
res += mul(Get(s2,0,-dy), float4x4(0.066102884709835,-0.033910557627678,-0.028895212337375,-0.318916529417038,-0.108321502804756,0.202252209186554,-0.030280953273177,0.076851472258568,-0.071475826203823,0.036531694233418,-0.041366074234247,-0.153588354587555,-0.159261450171471,-0.062862709164619,-0.238991707563400,-0.274656325578690));
res += mul(Get(s2,0,0), float4x4(-0.032250985503197,-0.118368968367577,0.148875772953033,-0.084486603736877,-0.013140231370926,-0.008073380216956,0.045822717249393,0.172925859689713,0.067227363586426,0.047790613025427,-0.111738175153732,-0.061443291604519,-0.152800709009171,-0.106749191880226,-0.046141568571329,-0.042625498026609));
res += mul(Get(s2,0,dy), float4x4(0.038981847465038,-0.325997173786163,0.057644665241241,0.006177084520459,0.064407564699650,-0.112551100552082,-0.160538434982300,-0.011905865743756,-0.099370412528515,0.048511534929276,0.102663137018681,-0.072851411998272,-0.136919915676117,0.141111373901367,0.030889371410012,-0.048724424093962));
res += mul(Get(s2,dx,-dy), float4x4(0.010735835880041,-0.101245455443859,-0.121266983449459,-0.048289414495230,-0.102164238691330,0.172902688384056,-0.117217034101486,0.064549803733826,0.041140791028738,0.043137282133102,0.126418247818947,-0.200341463088989,0.065170951187611,0.013908443972468,0.133775904774666,0.084653638303280));
res += mul(Get(s2,dx,0), float4x4(0.049306642264128,-0.089613847434521,-0.163956910371780,-0.197363510727882,-0.168701738119125,0.054112728685141,-0.127032190561295,-0.132555603981018,0.018711185082793,0.151879191398621,-0.130016431212425,0.100943066179752,0.188604339957237,-0.110357500612736,0.324666976928711,0.346251934766769));
res += mul(Get(s2,dx,dy), float4x4(0.121434845030308,0.107537545263767,-0.297479689121246,-0.009605081751943,0.140766814351082,0.016848560422659,-0.040372062474489,-0.191594973206520,-0.044050674885511,-0.126148521900177,-0.055023096501827,0.072997182607651,-0.267679244279861,-0.043309986591339,0.080552421510220,0.059361081570387));
res += mul(Get(s3,-dx,-dy), float4x4(0.191363081336021,-0.187474489212036,0.103486254811287,-0.074174597859383,-0.106904275715351,-0.211712434887886,-0.003223183099180,-0.128422304987907,-0.111121937632561,0.177593797445297,0.027126785367727,-0.229999393224716,0.077029645442963,-0.100159697234631,0.099765442311764,-0.204190567135811));
res += mul(Get(s3,-dx,0), float4x4(-0.025174155831337,0.031096722930670,-0.116325512528419,-0.093409948050976,0.243522405624390,0.116472043097019,-0.116039112210274,-0.136230528354645,-0.084051303565502,0.021989621222019,0.077046692371368,-0.031032290309668,0.029275849461555,0.050945043563843,0.248642385005951,0.160080641508102));
res += mul(Get(s3,-dx,dy), float4x4(0.056113120168447,-0.039331164211035,0.066026441752911,-0.015573014505208,0.156364604830742,0.038339197635651,0.103390552103519,0.064518913626671,-0.052745640277863,0.117855288088322,-0.106872811913490,0.066808991134167,-0.141190528869629,0.141388759016991,0.052381392568350,-0.113450840115547));
res += mul(Get(s3,0,-dy), float4x4(0.205836504697800,0.062094509601593,0.055052708834410,-0.024425318464637,0.095695436000824,-0.119397677481174,0.033239059150219,0.048913404345512,0.017208065837622,-0.163548573851585,-0.206205517053604,-0.056679658591747,0.083565235137939,-0.140956461429596,-0.103949941694736,0.117208532989025));
res += mul(Get(s3,0,0), float4x4(-0.097675293684006,-0.016121817752719,-0.018397390842438,-0.030165150761604,-0.068963378667831,-0.091143347322941,0.123437941074371,-0.113081254065037,0.135940089821815,0.094070442020893,0.159148275852203,0.087380327284336,0.046775713562965,0.005669724196196,-0.135437488555908,0.020195940509439));
res += mul(Get(s3,0,dy), float4x4(0.015166412107646,-0.084415934979916,-0.032908581197262,0.002092453883961,-0.108148604631424,0.138753384351730,0.000977814779617,-0.048304542899132,0.003180928062648,0.035992775112391,0.154861241579056,-0.024098329246044,0.024296265095472,0.006745692808181,-0.057745877653360,0.045966099947691));
res += mul(Get(s3,dx,-dy), float4x4(0.061994645744562,0.030529208481312,0.243137836456299,0.121988490223885,-0.167652711272240,-0.035956971347332,-0.005807107314467,-0.053928278386593,0.102500408887863,-0.185173287987709,-0.216764032840729,0.024439960718155,0.104063354432583,-0.034400448203087,0.028262311592698,0.055519498884678));
res += mul(Get(s3,dx,0), float4x4(-0.182783752679825,0.110615663230419,0.153844967484474,0.038438756018877,-0.069193996489048,-0.172655269503593,-0.005310989450663,-0.220725417137146,-0.009983522817492,-0.091220393776894,0.052395343780518,0.059721939265728,0.075114279985428,-0.230812042951584,0.031039360910654,0.063398353755474));
res += mul(Get(s3,dx,dy), float4x4(0.033556502312422,0.214003860950470,0.144612893462181,0.081747695803642,0.040355660021305,-0.025606879964471,-0.274143576622009,0.103403814136982,0.153459161520004,0.130847439169884,0.115582518279552,-0.172739833593369,-0.130167320370674,-0.087809488177299,0.058120559900999,0.097746446728706));
return max(float4(0,0,0,0), res);
}
