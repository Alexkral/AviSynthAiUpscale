sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.015665004029870,-0.001232026610523,0.065689556300640,-0.091847240924835,0.140003681182861,0.145275205373764,-0.208021059632301,0.361850321292877,-0.069931909441948,-0.172087028622627,-0.119045644998550,-0.327139705419540,-0.067826457321644,-0.078401580452919,0.075313657522202,0.055891193449497));
res += mul(Get(s0,-dx,0), float4x4(0.016027946025133,-0.032055780291557,0.051714319735765,-0.069489039480686,0.073934510350227,-0.052516598254442,-0.292878746986389,-0.008975864388049,-0.031329732388258,0.249948546290398,-0.069063991308212,0.007200697902590,-0.120298616588116,0.250359475612640,-0.038089308887720,0.136005759239197));
res += mul(Get(s0,-dx,dy), float4x4(0.004176787100732,-0.038692582398653,0.153737336397171,0.126182869076729,0.226611286401749,-0.075962468981743,-0.125929310917854,0.069905631244183,-0.098413586616516,-0.062395412474871,-0.040074776858091,0.174302265048027,0.244257137179375,-0.076569542288780,-0.016521442681551,0.030313350260258));
res += mul(Get(s0,0,-dy), float4x4(-0.025805763900280,0.019795577973127,0.027234217151999,-0.048608023673296,0.107904426753521,-0.004014406818897,-0.204914167523384,0.073382228612900,-0.059128209948540,-0.082282163202763,-0.136401474475861,-0.171148851513863,-0.044542919844389,0.274812310934067,-0.124020032584667,-0.054813914000988));
res += mul(Get(s0,0,0), float4x4(0.200009629130363,-0.042445540428162,0.249431371688843,0.017857631668448,0.050305839627981,-0.144195705652237,-0.183783069252968,-0.158740654587746,0.063742354512215,0.100156426429749,-0.086228437721729,-0.044513106346130,0.001263138139620,0.257074713706970,-0.086394518613815,-0.008944121189415));
res += mul(Get(s0,0,dy), float4x4(0.144636005163193,-0.142305687069893,0.211852163076401,0.051648031920195,0.077833868563175,-0.222278401255608,-0.100771643221378,0.007906678132713,-0.026072330772877,0.086995519697666,-0.115273736417294,0.054864294826984,0.032184891402721,-0.045153900980949,-0.077444635331631,0.342448174953461));
res += mul(Get(s0,dx,-dy), float4x4(-0.136125773191452,-0.164551302790642,0.032133772969246,-0.203211277723312,-0.198738932609558,0.052174545824528,0.311883807182312,0.520652949810028,-0.171125456690788,0.007588608190417,-0.121409527957439,-0.063944466412067,-0.152316987514496,-0.074607774615288,-0.241998657584190,-0.202172935009003));
res += mul(Get(s0,dx,0), float4x4(-0.127706706523895,0.069093503057957,0.041128922253847,0.086026437580585,0.147974088788033,-0.156183078885078,0.102160856127739,0.003315002191812,-0.105130292475224,-0.187921464443207,-0.091877907514572,0.204055368900299,-0.055798865854740,0.096735119819641,-0.267649412155151,-0.132038652896881));
res += mul(Get(s0,dx,dy), float4x4(0.118838950991631,0.272328823804855,0.047172360122204,-0.034297004342079,0.294045835733414,-0.092841342091560,0.047820605337620,0.154628321528435,-0.163340702652931,-0.113004378974438,-0.063441693782806,0.330064237117767,-0.044266264885664,0.028397593647242,-0.294679462909698,0.010632564313710));
res += mul(Get(s1,-dx,-dy), float4x4(-0.049731861799955,-0.186290174722672,-0.180869415402412,0.025708217173815,-0.052143387496471,0.008142950944602,0.038135118782520,-0.079760402441025,-0.079932436347008,-0.073476366698742,0.008356554433703,-0.065173946321011,-0.162534877657890,-0.074542820453644,0.009721838869154,-0.116697818040848));
res += mul(Get(s1,-dx,0), float4x4(-0.155657023191452,-0.158719465136528,-0.209656670689583,0.069559238851070,-0.045673009008169,0.098337687551975,0.044912636280060,0.076608203351498,-0.053840491920710,-0.170335501432419,-0.001391345518641,-0.056987430900335,0.011014361865819,-0.227565690875053,0.029198732227087,-0.053826149553061));
res += mul(Get(s1,-dx,dy), float4x4(-0.172501340508461,-0.133153915405273,0.037211801856756,-0.198651909828186,-0.001902323449031,-0.170647948980331,0.021420335397124,-0.086165919899940,-0.103044062852859,0.076008290052414,-0.183807104825974,-0.130027249455452,0.078935407102108,0.060976311564445,-0.062323942780495,0.055287435650826));
res += mul(Get(s1,0,-dy), float4x4(-0.219639003276825,-0.093560010194778,-0.209509402513504,0.104398764669895,-0.054013855755329,0.017765508964658,-0.056925829499960,-0.279382020235062,-0.041945017874241,0.141040086746216,0.201307862997055,-0.026349112391472,0.051892910152674,-0.026851177215576,-0.086117677390575,-0.204846501350403));
res += mul(Get(s1,0,0), float4x4(-0.001317408867180,-0.113844648003578,-0.147680416703224,-0.104673922061920,-0.131460756063461,0.077409699559212,-0.268408000469208,-0.011360784992576,-0.072739034891129,-0.068654179573059,0.102523475885391,-0.024517089128494,0.083078257739544,0.077941998839378,-0.049770001322031,-0.106006704270840));
res += mul(Get(s1,0,dy), float4x4(-0.012422477826476,-0.070661693811417,0.259951949119568,-0.089417308568954,-0.082323864102364,-0.028505606576800,-0.024212675169110,-0.062695182859898,-0.074246719479561,-0.001422515953891,-0.050477866083384,-0.157483831048012,-0.041062172502279,0.088740304112434,-0.128122672438622,-0.120840199291706));
res += mul(Get(s1,dx,-dy), float4x4(0.005425346083939,0.005792674142867,-0.032227825373411,0.171620100736618,-0.086991026997566,-0.015789829194546,-0.112397797405720,-0.029527723789215,0.008085153065622,0.030300037935376,0.052886627614498,-0.002175054512918,0.054274160414934,0.053873337805271,0.034591879695654,-0.202721834182739));
res += mul(Get(s1,dx,0), float4x4(0.095250427722931,-0.021502770483494,0.059166688472033,0.000639792880975,0.124991632997990,0.016239531338215,-0.089603446424007,0.341445118188858,0.135126173496246,-0.035984214395285,0.054200097918510,-0.039003223180771,-0.090953156352043,-0.087538637220860,-0.142887845635414,-0.235785692930222));
res += mul(Get(s1,dx,dy), float4x4(-0.060446463525295,-0.032037880271673,0.135497748851776,-0.089337170124054,0.028220644220710,-0.056447032839060,-0.022979907691479,0.121610686182976,0.119422562420368,0.080434307456017,-0.097163692116737,0.040026724338531,-0.171931192278862,-0.068017676472664,-0.069585636258125,0.215492740273476));
res += mul(Get(s2,-dx,-dy), float4x4(-0.073728501796722,-0.096077181398869,-0.089199796319008,-0.099076420068741,-0.101011455059052,-0.063470758497715,-0.140860870480537,-0.109325267374516,0.018820963799953,0.088608823716640,-0.113937273621559,-0.214055836200714,-0.132062762975693,-0.045254036784172,-0.191463619470596,-0.139585182070732));
res += mul(Get(s2,-dx,0), float4x4(-0.022216243669391,0.048786714673042,-0.177462369203568,-0.108316257596016,-0.047384880483150,0.068853832781315,-0.202509775757790,-0.091805085539818,0.098995216190815,-0.030224334448576,-0.166601866483688,-0.109978318214417,-0.136339336633682,0.033814281225204,-0.109935268759727,-0.051477178931236));
res += mul(Get(s2,-dx,dy), float4x4(-0.084534965455532,0.105749279260635,-0.154976353049278,-0.248458221554756,0.018427377566695,0.099624305963516,-0.240616932511330,0.101722940802574,0.158136561512947,-0.045984026044607,-0.054153848439455,0.037720404565334,-0.032250650227070,0.087027117609978,-0.176244944334030,-0.147450834512711));
res += mul(Get(s2,0,-dy), float4x4(-0.052528768777847,-0.062116723507643,0.067580074071884,-0.050255112349987,-0.075901396572590,-0.127865597605705,0.044502537697554,-0.061900399625301,-0.072449974715710,0.001236513373442,-0.146172970533371,0.077300667762756,0.008643148466945,0.109871827065945,0.007484622765332,-0.069427073001862));
res += mul(Get(s2,0,0), float4x4(-0.033727962523699,0.097433052957058,-0.086461119353771,-0.040754143148661,-0.020182333886623,-0.012131997384131,-0.163991287350655,-0.006428428925574,-0.071902751922607,-0.159744814038277,-0.009557803161442,0.116264477372169,-0.097916379570961,0.006385542917997,0.259148120880127,-0.150527969002724));
res += mul(Get(s2,0,dy), float4x4(-0.064284853637218,-0.105648465454578,-0.047676421701908,-0.106384120881557,-0.082006543874741,0.004397471435368,-0.123378150165081,0.024266922846437,-0.024562800303102,-0.099165059626102,0.056446198374033,0.170250192284584,-0.078020051121712,-0.135903567075729,-0.139247715473175,0.018146008253098));
res += mul(Get(s2,dx,-dy), float4x4(-0.086106874048710,-0.081222273409367,-0.099450632929802,-0.041496202349663,-0.089006714522839,-0.150072157382965,-0.110660120844841,-0.148145377635956,-0.040233053267002,0.120016567409039,-0.212920770049095,-0.249395251274109,0.119536735117435,-0.040348220616579,-0.085029721260071,-0.139992266893387));
res += mul(Get(s2,dx,0), float4x4(-0.103370524942875,0.271688938140869,0.011749809607863,-0.055828418582678,-0.082128033041954,0.074991777539253,-0.101867400109768,0.238381952047348,-0.262691736221313,-0.050076808780432,-0.135817334055901,-0.079904474318027,-0.208951964974403,-0.100740700960159,0.029563609510660,-0.080553941428661));
res += mul(Get(s2,dx,dy), float4x4(-0.045509152114391,0.152291014790535,-0.068969897925854,-0.077216744422913,-0.041612211614847,0.023898061364889,-0.057288222014904,0.248775303363800,-0.220719456672668,-0.111121937632561,-0.080674745142460,-0.073953278362751,-0.173791706562042,0.022150574252009,-0.197961255908012,-0.102171480655670));
res += mul(Get(s3,-dx,-dy), float4x4(-0.032373894006014,0.266631543636322,0.088166654109955,0.172194167971611,-0.123242773115635,0.101318635046482,0.032099671661854,0.001294845482334,0.041015096008778,-0.145385861396790,0.016376689076424,-0.174014598131180,-0.086821645498276,-0.059303209185600,-0.272497892379761,-0.143049448728561));
res += mul(Get(s3,-dx,0), float4x4(0.020395345985889,0.127996414899826,0.079645268619061,0.009738898836076,-0.187817916274071,0.061472028493881,-0.012858919799328,-0.069467812776566,0.300982922315598,0.001143045024946,0.070452615618706,-0.250285148620605,-0.155148789286613,-0.144825488328934,-0.115914657711983,-0.230467125773430));
res += mul(Get(s3,-dx,dy), float4x4(0.317334055900574,-0.045019924640656,0.121838532388210,-0.104747779667377,-0.050771195441484,0.041631881147623,-0.118081949651241,-0.136679932475090,0.250826954841614,0.152529999613762,0.068395026028156,-0.179044440388680,-0.146271660923958,-0.232493832707405,0.270026922225952,-0.374689221382141));
res += mul(Get(s3,0,-dy), float4x4(-0.055849198251963,-0.037410967051983,0.201958537101746,-0.096749782562256,-0.101886495947838,-0.250078558921814,-0.118783190846443,-0.050647288560867,-0.059103164821863,-0.242639362812042,-0.007376561407000,0.046714060008526,-0.007009822409600,0.002730823121965,-0.127404332160950,-0.026829527691007));
res += mul(Get(s3,0,0), float4x4(-0.044586725533009,-0.286484807729721,0.105712935328484,0.054361030459404,-0.137740239500999,0.109033286571503,0.023849250748754,-0.172359660267830,0.010512365959585,-0.210039764642715,0.056225113570690,0.123974882066250,-0.087703175842762,-0.040289737284184,-0.081722453236580,-0.257989525794983));
res += mul(Get(s3,0,dy), float4x4(-0.098293364048004,-0.278161495923996,-0.267201185226440,0.004256718326360,-0.046634215861559,-0.118312306702137,-0.133713796734810,-0.228008091449738,0.081924811005592,-0.050711847841740,0.087308496236801,-0.081928439438343,0.029071837663651,-0.237457886338234,0.169926002621651,-0.272805035114288));
res += mul(Get(s3,dx,-dy), float4x4(0.032513193786144,0.543475568294525,0.308250725269318,-0.171270728111267,-0.269279956817627,0.213457480072975,-0.001239215838723,-0.284698188304901,-0.134635776281357,0.232027083635330,-0.099961251020432,-0.240271240472794,0.223016813397408,-0.010509960353374,-0.148476123809814,-0.036858163774014));
res += mul(Get(s3,dx,0), float4x4(-0.061511646956205,0.236361682415009,0.066292226314545,-0.140662655234337,-0.233678966760635,0.259614020586014,-0.128100752830505,-0.084139667451382,-0.128463789820671,0.395551055669785,-0.140311688184738,-0.159245580434799,0.077261850237846,-0.175755262374878,0.092285066843033,-0.118740931153297));
res += mul(Get(s3,dx,dy), float4x4(-0.169968605041504,0.115493856370449,-0.329667329788208,-0.183486491441727,-0.127942398190498,-0.193641871213913,-0.204484865069389,-0.209971025586128,-0.250872731208801,0.160975143313408,-0.119545079767704,0.024631140753627,0.095129474997520,-0.218378081917763,0.511773943901062,-0.089580155909061));
return max(float4(0,0,0,0), res);
}
