sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.158440068364143,-0.266353338956833,-0.099170930683613,-0.106764942407608,-0.184552490711212,0.361673235893250,-0.444636583328247,-0.056220501661301,-0.001676771324128,-0.186248108744621,-0.136957019567490,-0.026575228199363,-0.172694459557533,0.033862665295601,-0.120898999273777,0.063632942736149));
res += mul(Get(s0,-dx,0), float4x4(-0.138665914535522,-0.063502319157124,-0.120574340224266,-0.029526982456446,-0.069086506962776,-0.094705976545811,-0.177841544151306,-0.043284803628922,0.045519031584263,0.320242762565613,-0.226186022162437,-0.039891406893730,-0.201208785176277,0.167582914233208,-0.202097237110138,0.046764373779297));
res += mul(Get(s0,-dx,dy), float4x4(-0.140463918447495,0.043284699320793,-0.107696443796158,-0.090479746460915,-0.149043321609497,-0.215914562344551,-0.223988160490990,-0.053347893059254,0.072897858917713,0.191113978624344,0.082073628902435,0.033079255372286,-0.200240254402161,0.233963668346405,-0.208801031112671,-0.015744319185615));
res += mul(Get(s0,0,-dy), float4x4(0.006892978679389,-0.169723853468895,-0.238350227475166,-0.194719195365906,-0.124152764678001,0.186143651604652,-0.116449818015099,-0.030803838744760,0.009522398933768,-0.241088494658470,-0.052708141505718,0.013182346709073,0.012050682678819,-0.047875650227070,0.024162760004401,0.075441941618919));
res += mul(Get(s0,0,0), float4x4(0.042634151875973,-0.113820441067219,-0.116290986537933,-0.029936552047729,0.151255846023560,0.220160275697708,0.067712217569351,0.012875231914222,-0.030561385676265,-0.011308521032333,-0.168109521269798,0.044833932071924,-0.059774726629257,-0.074309155344963,-0.078359313309193,0.181359156966209));
res += mul(Get(s0,0,dy), float4x4(0.033085592091084,-0.181705296039581,0.009906344115734,0.058709640055895,0.099545963108540,0.045320522040129,-0.180264338850975,-0.028656242415309,0.081803672015667,0.148041665554047,-0.058683652430773,0.108260333538055,0.018763888627291,0.052923973649740,-0.212265446782112,0.156199753284454));
res += mul(Get(s0,dx,-dy), float4x4(-0.113717466592789,0.079169429838657,-0.189285069704056,-0.196724429726601,0.032716318964958,-0.427297353744507,0.405224680900574,-0.106702268123627,0.053547676652670,-0.141453951597214,0.085223704576492,-0.047847233712673,0.079569794237614,0.011659838259220,0.031950443983078,0.092659004032612));
res += mul(Get(s0,dx,0), float4x4(-0.035880230367184,-0.013049352914095,0.126793712377548,0.010064857080579,0.226318478584290,0.053994309157133,0.219324544072151,0.006826498545706,-0.057446449995041,-0.149896770715714,0.123738348484039,-0.014232770539820,0.009110704064369,0.106220163404942,-0.025560284033418,0.079751215875149));
res += mul(Get(s0,dx,dy), float4x4(0.089576222002506,-0.164757624268532,0.213524207472801,0.230369046330452,0.158161208033562,-0.052695237100124,-0.125468418002129,-0.012166567146778,0.097930870950222,-0.281299978494644,-0.091847099363804,0.062513448297977,0.007516157813370,0.093948468565941,0.034176480025053,0.020529489964247));
res += mul(Get(s1,-dx,-dy), float4x4(-0.183045491576195,-0.168554902076721,-0.189669787883759,0.083036072552204,0.104445584118366,-0.110141329467297,-0.110998414456844,0.012101134285331,0.005328560248017,-0.192038595676422,0.187030330300331,-0.020491398870945,-0.013171141035855,-0.133173927664757,0.085041582584381,-0.149779334664345));
res += mul(Get(s1,-dx,0), float4x4(-0.174471199512482,-0.072928369045258,-0.130175858736038,0.085291065275669,0.064096234738827,0.038642320781946,-0.110228039324284,0.019897149875760,-0.170783206820488,0.133795604109764,-0.065720230340958,-0.015811994671822,-0.064948596060276,-0.037100587040186,0.026380745694041,-0.049589421600103));
res += mul(Get(s1,-dx,dy), float4x4(0.010345815680921,0.030063480138779,-0.143363133072853,0.042838640511036,0.054515432566404,0.193416655063629,-0.025980718433857,-0.015689179301262,0.047990493476391,0.169903367757797,-0.075240649282932,-0.078363329172134,-0.094345182180405,-0.332817673683167,0.114295855164528,-0.000400312099373));
res += mul(Get(s1,0,-dy), float4x4(-0.035529460757971,-0.101804487407207,-0.102655112743378,0.088153824210167,-0.053444582968950,-0.196462556719780,-0.036904618144035,0.024517031386495,-0.233268007636070,-0.200744554400444,0.019193029031157,-0.152752131223679,-0.321206271648407,-0.155213177204132,0.013043849729002,-0.094336360692978));
res += mul(Get(s1,0,0), float4x4(-0.143393829464912,-0.279228806495667,0.034993171691895,0.141097202897072,-0.092025652527809,-0.088834591209888,-0.015090489760041,0.020941922441125,-0.365869641304016,-0.104747295379639,0.041179079562426,-0.021669823676348,-0.203980132937431,0.056416537612677,0.014100501313806,-0.010218795388937));
res += mul(Get(s1,0,dy), float4x4(-0.108230598270893,-0.088748849928379,0.025742424651980,0.043275821954012,-0.076853610575199,0.015717599540949,0.004962584469467,0.029785802587867,-0.198801621794701,-0.130651548504829,-0.353832244873047,0.011970055289567,0.007064889185131,-0.016573362052441,-0.220014199614525,-0.066813856363297));
res += mul(Get(s1,dx,-dy), float4x4(-0.059162944555283,0.014533425681293,-0.163784801959991,-0.137082636356354,0.094382949173450,-0.044816669076681,-0.047132957726717,-0.042975977063179,0.270953744649887,-0.210364535450935,-0.165222972631454,-0.187121361494064,-0.155022934079170,0.298001736402512,-0.002004384994507,0.006699935998768));
res += mul(Get(s1,dx,0), float4x4(-0.120094120502472,-0.055505573749542,0.076355360448360,-0.014001648873091,0.038627412170172,0.004927833098918,-0.060968391597271,0.007294829003513,0.363364785909653,-0.047882094979286,0.142007842659950,-0.077326938509941,-0.043159298598766,0.149518609046936,0.009146013297141,0.049774359911680));
res += mul(Get(s1,dx,dy), float4x4(0.005899456795305,-0.245159730315208,0.144867628812790,-0.049131497740746,-0.002091637114063,0.021616891026497,-0.028773209080100,0.029879055917263,0.658020079135895,-0.031733654439449,-0.472150951623917,0.068781763315201,0.052185844630003,-0.139798909425735,-0.205610528588295,-0.037379961460829));
res += mul(Get(s2,-dx,-dy), float4x4(-0.152514845132828,0.077603369951248,0.024003112688661,-0.006811255589128,-0.399252086877823,0.025721056386828,-0.261625140905380,-0.157977670431137,-0.035928279161453,0.002893428085372,-0.016189269721508,-0.025713874027133,0.065116114914417,-0.102184846997261,0.034609049558640,0.013110311701894));
res += mul(Get(s2,-dx,0), float4x4(-0.110333748161793,-0.138863116502762,-0.002138932934031,-0.076294146478176,-0.334834337234497,-0.462699800729752,-0.262844383716583,-0.092573739588261,-0.054599702358246,-0.028561117127538,0.065846540033817,-0.019354730844498,0.052639894187450,-0.020098004490137,0.036083888262510,-0.037671506404877));
res += mul(Get(s2,-dx,dy), float4x4(-0.079481534659863,-0.031922247260809,-0.240049794316292,-0.059965539723635,-0.191439062356949,0.219899639487267,-0.267760336399078,-0.126229390501976,-0.030784059315920,-0.134386196732521,-0.020167794078588,-0.008210111409426,0.079891458153725,-0.132720649242401,0.049387034028769,0.027620682492852));
res += mul(Get(s2,0,-dy), float4x4(0.050896320492029,0.292082488536835,0.007627190556377,0.112806923687458,-0.081608675420284,0.292778074741364,-0.067112602293491,-0.076718837022781,-0.018801154568791,-0.018666019663215,-0.024472378194332,0.002358234254643,-0.062371861189604,0.033164098858833,0.026699243113399,-0.041927479207516));
res += mul(Get(s2,0,0), float4x4(0.133960083127022,-0.092283166944981,-0.034102972596884,-0.016511885449290,-0.083813011646271,-0.254201799631119,-0.232044532895088,-0.043176695704460,-0.037759058177471,0.005973931401968,0.015341263264418,0.012555534951389,-0.021190010011196,0.049051214009523,0.000848631025292,-0.086438655853271));
res += mul(Get(s2,0,dy), float4x4(-0.013584699481726,-0.010645926930010,-0.152286082506180,-0.063758559525013,-0.067501477897167,0.016235092654824,-0.170472770929337,-0.064910583198071,-0.002130611333996,-0.130890786647797,0.045026179403067,0.011499952524900,0.062709428369999,-0.060180049389601,0.071306310594082,0.006103496998549));
res += mul(Get(s2,dx,-dy), float4x4(-0.060779452323914,-0.023688547313213,0.196445152163506,0.081676609814167,0.089886158704758,0.256629228591919,0.045635297894478,-0.195630326867104,-0.010366434231400,-0.011945612728596,-0.063045859336853,-0.005810243077576,-0.032939594238997,0.210309475660324,0.026518071070313,0.005773784592748));
res += mul(Get(s2,dx,0), float4x4(0.041492979973555,0.190562903881073,0.111276261508465,0.024792604148388,0.014477004297078,-0.067840151488781,-0.049873199313879,-0.119252800941467,-0.027053905650973,0.106697864830494,-0.020958641543984,-0.010545554570854,-0.023485900834203,0.100610092282295,0.105725318193436,-0.002878117142245));
res += mul(Get(s2,dx,dy), float4x4(-0.048854004591703,-0.041894160211086,-0.073104880750179,-0.029000505805016,-0.073246918618679,0.072392858564854,0.041822835803032,-0.047341555356979,-0.012063824571669,0.005506256595254,0.099095173180103,-0.033185020089149,-0.028503771871328,-0.001115538994782,0.123793154954910,0.097659893333912));
res += mul(Get(s3,-dx,-dy), float4x4(-0.026016090065241,0.054325666278601,-0.000122836208902,0.000044606829761,-0.127443104982376,0.131031125783920,0.124586507678032,0.043344788253307,0.018910001963377,-0.239350214600563,0.012889680452645,-0.068829461932182,-0.001850825152360,0.015575188212097,-0.029476085677743,-0.016371009871364));
res += mul(Get(s3,-dx,0), float4x4(-0.010323517024517,0.037571769207716,-0.011255676858127,0.006814073771238,-0.126511394977570,0.128884747624397,-0.040927916765213,0.054394882172346,-0.160733416676521,0.109533019363880,0.065898686647415,0.000650728237815,-0.054332692176104,0.297377735376358,-0.126695364713669,0.012956985272467));
res += mul(Get(s3,-dx,dy), float4x4(-0.009248237125576,0.000427269173088,-0.002935614204034,0.004423914477229,0.043991111218929,-0.058918029069901,0.016740093007684,0.019289333373308,-0.117088183760643,-0.109861433506012,-0.004128616303205,-0.010618813335896,-0.014252372086048,-0.006339366082102,-0.098701797425747,0.081955567002296));
res += mul(Get(s3,0,-dy), float4x4(-0.018062695860863,0.010397224687040,-0.015108766034245,-0.014859271235764,-0.226769402623177,-0.114391982555389,-0.011307981796563,-0.022522553801537,0.015907913446426,0.011972802691162,0.081073626875877,-0.124679654836655,0.020944075658917,-0.071640312671661,0.018437173217535,0.017295107245445));
res += mul(Get(s3,0,0), float4x4(-0.007594036869705,0.010555042885244,0.000200772454264,0.002684878651053,-0.187760397791862,-0.104817591607571,-0.090092539787292,-0.023197647184134,-0.046521283686161,0.196802556514740,0.123362116515636,-0.044501081109047,-0.098395593464375,-0.004789180587977,-0.074811890721321,0.055546559393406));
res += mul(Get(s3,0,dy), float4x4(-0.005823947954923,-0.033574100583792,0.007991329766810,-0.005758254323155,-0.001677824882790,-0.114883035421371,-0.007749046664685,-0.013711326755583,-0.015239300206304,-0.004510525148362,-0.070284098386765,-0.013320103287697,0.000621750776190,0.008315999060869,-0.102218516170979,0.097470611333847));
res += mul(Get(s3,dx,-dy), float4x4(-0.013572182506323,0.023176571354270,0.019201584160328,0.001239058328792,-0.120968997478485,0.019807267934084,-0.140717670321465,-0.000721627322491,0.071944147348404,0.093130201101303,0.104329444468021,-0.001693419530056,0.007286608684808,0.040404707193375,0.086416669189930,0.003043581731617));
res += mul(Get(s3,dx,0), float4x4(0.021362861618400,0.049732103943825,0.034443061798811,0.034019950777292,-0.076850496232510,-0.008494940586388,-0.116915106773376,0.016288287937641,-0.006813137326390,0.039081417024136,0.050794713199139,0.045296642929316,-0.140642926096916,-0.246021300554276,-0.072700105607510,0.089942291378975));
res += mul(Get(s3,dx,dy), float4x4(0.004190075676888,0.020358962938190,0.029829971492290,0.002529417164624,0.005804535467178,-0.169982761144638,-0.070334240794182,0.003790542948991,-0.039428766816854,-0.122787073254585,-0.088829658925533,0.043724231421947,-0.011098024435341,-0.142040893435478,-0.199921339750290,0.067194335162640));
return max(float4(0,0,0,0), res);
}
