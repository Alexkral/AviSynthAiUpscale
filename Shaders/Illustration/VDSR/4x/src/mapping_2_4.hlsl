sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.073494747281075,-0.016069442033768,0.187541365623474,0.090619347989559,0.063361451029778,-0.021637607365847,0.102038338780403,0.104450933635235,-0.057442292571068,-0.132234483957291,0.107073009014130,0.055435050278902,-0.157439053058624,-0.190735489130020,-0.057880889624357,0.027654739096761));
res += mul(Get(s0,-dx,0), float4x4(-0.301335215568542,0.155072554945946,0.038987968116999,-0.220485612750053,0.107985518872738,-0.044124577194452,0.098449535667896,0.182132229208946,-0.181587129831314,-0.207106813788414,0.072001837193966,0.153306111693382,-0.247757628560066,0.103967733681202,0.076889306306839,0.043975073844194));
res += mul(Get(s0,-dx,dy), float4x4(-0.057691089808941,-0.030876707285643,0.008415126241744,-0.045050714164972,-0.148282915353775,-0.062122754752636,0.075837180018425,0.104040198028088,0.193539753556252,-0.020585250109434,0.134484514594078,-0.126039147377014,0.184497386217117,0.027911348268390,0.027168674394488,-0.003700623754412));
res += mul(Get(s0,0,-dy), float4x4(0.263736099004745,-0.087111108005047,0.069982022047043,-0.019281137734652,0.006659917533398,-0.235000386834145,-0.054346706718206,0.022220635786653,-0.106120146811008,0.139441817998886,-0.196995884180069,0.056440684944391,-0.038107559084892,0.152696281671524,-0.084630906581879,-0.097313858568668));
res += mul(Get(s0,0,0), float4x4(-0.002711459528655,-0.033369466662407,0.022554328665137,-0.118433959782124,0.033673290163279,0.135943830013275,-0.010429889895022,0.051007229834795,-0.100167416036129,0.046402424573898,-0.291318506002426,-0.098932228982449,-0.058603122830391,0.155896842479706,0.047310750931501,0.129160776734352));
res += mul(Get(s0,0,dy), float4x4(0.103800654411316,-0.107697777450085,0.065018184483051,0.083367392420769,-0.012026091106236,0.118096567690372,0.009480949491262,-0.065045922994614,0.020324861630797,0.005527005996555,-0.010442855767906,0.085596628487110,-0.046311639249325,-0.063514284789562,0.108668886125088,0.018399221822619));
res += mul(Get(s0,dx,-dy), float4x4(0.100615911185741,0.210256040096283,-0.280548036098480,-0.060533627867699,-0.072773382067680,0.101593591272831,-0.244102969765663,-0.074559509754181,-0.180404737591743,0.052635118365288,0.046535424888134,-0.156643569469452,0.014165085740387,0.045620761811733,-0.021670266985893,0.270952135324478));
res += mul(Get(s0,dx,0), float4x4(0.022789265960455,-0.041745491325855,-0.027658650651574,-0.154978498816490,0.090489007532597,0.022855423390865,0.031132722273469,0.092174760997295,-0.047429788857698,0.073535844683647,0.073129832744598,-0.183439835906029,0.015021596103907,-0.040721733123064,-0.011267357505858,0.027760194614530));
res += mul(Get(s0,dx,dy), float4x4(0.245730146765709,0.009848180226982,0.089214533567429,0.069278649985790,0.074438832700253,-0.056996889412403,-0.085411950945854,0.052441600710154,-0.205450013279915,-0.157442435622215,0.097556397318840,-0.033826954662800,0.163787975907326,-0.084832005202770,0.112934075295925,-0.119646884500980));
res += mul(Get(s1,-dx,-dy), float4x4(0.027905164286494,-0.057373970746994,-0.172282233834267,0.166538432240486,0.033529166132212,0.021130191162229,0.181510627269745,-0.044222433120012,-0.125702187418938,-0.026940878480673,0.031683120876551,-0.159672528505325,-0.026813341304660,-0.062958501279354,-0.014258471317589,-0.284692227840424));
res += mul(Get(s1,-dx,0), float4x4(-0.128247573971748,-0.023208277300000,-0.114329002797604,0.147899493575096,-0.036830555647612,0.073723047971725,0.126252129673958,0.034452937543392,-0.035965181887150,-0.071328334510326,-0.069762170314789,0.268657654523849,0.129328802227974,-0.099695868790150,0.008520854637027,-0.248549446463585));
res += mul(Get(s1,-dx,dy), float4x4(0.031120084226131,-0.086043901741505,-0.212397024035454,-0.191493898630142,0.053778696805239,-0.087639674544334,0.243620723485947,-0.025503780692816,-0.147817537188530,0.009530643932521,-0.115028433501720,-0.189473330974579,-0.262046098709106,-0.091800756752491,0.023341512307525,-0.049040071666241));
res += mul(Get(s1,0,-dy), float4x4(0.028160843998194,-0.104905411601067,-0.000524011556990,-0.036039434373379,-0.065111234784126,-0.017533609643579,0.093246586620808,0.090565346181393,-0.016817294061184,0.113139763474464,0.005218132399023,-0.051495634019375,0.038675196468830,0.054632764309645,0.174504816532135,-0.149380147457123));
res += mul(Get(s1,0,0), float4x4(-0.263530611991882,-0.008936787955463,-0.004452379420400,-0.021506683900952,0.099110625684261,-0.080155543982983,-0.045959562063217,0.029797406867146,-0.003439014544711,0.223127081990242,0.022030988708138,0.204649463295937,-0.072514541447163,-0.104704439640045,-0.128090485930443,-0.227238386869431));
res += mul(Get(s1,0,dy), float4x4(-0.037399888038635,0.028184358030558,0.057400275021791,0.064901657402515,-0.093926109373569,0.081031367182732,0.114912800490856,-0.315797328948975,0.028954854235053,0.142094567418098,0.034770082682371,-0.106495976448059,-0.050626419484615,0.028258763253689,0.098103895783424,-0.069424360990524));
res += mul(Get(s1,dx,-dy), float4x4(0.016618678346276,-0.117811374366283,0.200317144393921,-0.031275968998671,-0.264856398105621,-0.201925367116928,0.184315800666809,-0.015320550650358,0.308548152446747,-0.043106053024530,-0.224002614617348,-0.073038078844547,-0.061203174293041,-0.317211598157883,0.037369586527348,-0.081046648323536));
res += mul(Get(s1,dx,0), float4x4(0.105463616549969,0.173639029264450,-0.092171236872673,0.082062415778637,0.144840344786644,0.153231248259544,-0.162591800093651,-0.158107757568359,-0.109201125800610,0.097347415983677,-0.047902368009090,0.127516523003578,0.157794654369354,-0.121807865798473,-0.004617668222636,0.004384141881019));
res += mul(Get(s1,dx,dy), float4x4(0.077954106032848,-0.176392450928688,-0.108646355569363,-0.083437509834766,-0.115654654800892,-0.104504108428955,-0.083431012928486,0.188442856073380,-0.075035527348518,-0.044865895062685,-0.020087113603950,0.282346159219742,-0.175298273563385,-0.044124491512775,0.186955928802490,-0.145355626940727));
res += mul(Get(s2,-dx,-dy), float4x4(-0.138474956154823,-0.043796900659800,0.048098336905241,-0.089072294533253,-0.051805868744850,0.078880004584789,-0.109164960682392,-0.081502921879292,0.062248066067696,0.097856022417545,-0.180030941963196,0.045098125934601,0.012016784399748,-0.129803583025932,-0.124913036823273,-0.249584034085274));
res += mul(Get(s2,-dx,0), float4x4(-0.159031257033348,-0.136693671345711,-0.010257625021040,-0.011178478598595,-0.000040895185521,-0.027155850082636,0.006770011503249,-0.041335470974445,-0.093840949237347,-0.074999257922173,-0.158132046461105,-0.076747909188271,-0.264048576354980,-0.118926912546158,-0.111412160098553,0.147435009479523));
res += mul(Get(s2,-dx,dy), float4x4(0.183464273810387,0.044097576290369,-0.109429508447647,0.056265860795975,0.026195190846920,0.067876569926739,0.155940875411034,-0.040564607828856,-0.023376224562526,-0.303829014301300,0.231318473815918,-0.011837433092296,-0.085619643330574,-0.082593083381653,0.043844249099493,0.224264457821846));
res += mul(Get(s2,0,-dy), float4x4(-0.036726843565702,0.102493055164814,0.060032244771719,-0.067889191210270,0.018253363668919,-0.016356792300940,-0.026012787595391,-0.109579578042030,-0.036943782120943,-0.068088144063950,-0.122181214392185,-0.076718427240849,0.027437675744295,0.091981478035450,0.030935296788812,-0.130407795310020));
res += mul(Get(s2,0,0), float4x4(-0.083625391125679,0.041890799999237,-0.166095241904259,0.022076373919845,0.128415554761887,-0.163289338350296,-0.109892703592777,-0.215460881590843,0.070886172354221,0.299658596515656,0.092276893556118,0.085442163050175,0.108851954340935,-0.008901446126401,0.089397832751274,0.244121268391609));
res += mul(Get(s2,0,dy), float4x4(0.085720062255859,-0.191384509205818,0.204253390431404,0.063922606408596,0.186338558793068,-0.011527629569173,-0.118003495037556,0.066739968955517,0.016445679590106,0.108844742178917,0.522016882896423,-0.160149276256561,-0.175378084182739,0.058199096471071,-0.125658094882965,-0.255668163299561));
res += mul(Get(s2,dx,-dy), float4x4(0.109826266765594,-0.009837580844760,0.012125688605011,-0.016723452135921,0.084417581558228,0.111444920301437,0.209308490157127,0.204068318009377,-0.036848299205303,-0.152583196759224,-0.277054190635681,0.110349386930466,-0.114986099302769,0.148205220699310,0.099085353314877,-0.023705072700977));
res += mul(Get(s2,dx,0), float4x4(0.131598368287086,-0.082839213311672,-0.094101801514626,-0.229487746953964,-0.023452518507838,-0.131126493215561,0.208733946084976,0.125054135918617,-0.035161100327969,-0.065978333353996,-0.159951180219650,0.187170818448067,-0.029834050685167,-0.203695505857468,0.302611976861954,0.021100675687194));
res += mul(Get(s2,dx,dy), float4x4(0.045864719897509,-0.006795498076826,-0.011478095315397,0.139508470892906,0.127748817205429,-0.108174435794353,-0.166046172380447,-0.047253273427486,-0.044572610408068,0.102599851787090,-0.076354913413525,-0.112013705074787,0.020969633013010,-0.083162069320679,0.024893235415220,-0.075445353984833));
res += mul(Get(s3,-dx,-dy), float4x4(-0.001664936193265,0.115909777581692,-0.054199453443289,0.045226663351059,0.143637597560883,0.018156453967094,-0.187435433268547,0.058963049203157,-0.116285361349583,0.163820639252663,-0.089926823973656,0.091082267463207,0.157703146338463,0.049091845750809,0.126652166247368,0.041586305946112));
res += mul(Get(s3,-dx,0), float4x4(-0.045511662960052,-0.091733381152153,0.143632039427757,0.270012915134430,0.037572424858809,-0.165622726082802,0.013040265068412,-0.220884710550308,-0.055981576442719,0.143181234598160,-0.011793506331742,-0.086402349174023,-0.002088159322739,-0.014438427053392,-0.044513452798128,-0.125799953937531));
res += mul(Get(s3,-dx,dy), float4x4(-0.141912430524826,-0.143612831830978,0.121998004615307,0.011747790500522,0.122334972023964,0.089280985295773,0.050676431506872,-0.111173979938030,-0.150017723441124,-0.176137417554855,0.075372435152531,0.085139423608780,0.115877389907837,-0.119553148746490,0.031311728060246,0.039191327989101));
res += mul(Get(s3,0,-dy), float4x4(-0.069951266050339,0.060042951256037,-0.092656485736370,-0.118893787264824,-0.065889097750187,-0.066400483250618,-0.093513958156109,0.065975613892078,0.017901999875903,-0.044019941240549,0.028417658060789,-0.146679610013962,-0.076677575707436,0.185746446251869,-0.117299176752567,-0.160868003964424));
res += mul(Get(s3,0,0), float4x4(-0.072699993848801,0.236666470766068,0.133367359638214,0.165660083293915,-0.088385932147503,0.027646269649267,-0.128324359655380,0.073146030306816,0.115189567208290,-0.180570825934410,-0.196091562509537,-0.092416256666183,-0.006109353620559,-0.069418817758560,0.011918140575290,0.023465765640140));
res += mul(Get(s3,0,dy), float4x4(-0.151877582073212,0.123649127781391,-0.054980855435133,0.015331734903157,0.129798740148544,0.036380980163813,0.234788894653320,-0.008474869653583,0.123141624033451,-0.025345355272293,-0.068661466240883,0.080919273197651,0.127849370241165,0.072521962225437,-0.023462876677513,0.020507091656327));
res += mul(Get(s3,dx,-dy), float4x4(0.018937662243843,-0.179168283939362,0.001697300584055,-0.108708091080189,0.039007913321257,0.077066861093044,0.009083065204322,-0.195151209831238,-0.207470417022705,0.132732301950455,-0.103594534099102,-0.051130935549736,-0.023371089249849,-0.034182537347078,0.035648521035910,0.029872171580791));
res += mul(Get(s3,dx,0), float4x4(0.018946772441268,0.059527099132538,-0.062020059674978,0.044581759721041,0.146351456642151,0.166232019662857,0.151059374213219,0.195113718509674,-0.141189768910408,-0.098085567355156,-0.124812848865986,-0.090162426233292,0.171428874135017,0.178600743412971,0.124399222433567,-0.093649871647358));
res += mul(Get(s3,dx,dy), float4x4(0.047699313610792,0.122868016362190,-0.063502378761768,0.154324069619179,-0.096063219010830,-0.074420921504498,-0.043035455048084,-0.122786656022072,-0.011655802838504,-0.213857769966125,-0.078653648495674,-0.247427254915237,0.030228810384870,-0.159118592739105,-0.044681012630463,-0.028905952349305));
return max(float4(0,0,0,0), res);
}
