sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.087166011333466,0.051543850451708,-0.195823222398758,-0.156987786293030,0.123012155294418,-0.204056859016418,0.089533641934395,0.019974924623966,0.005012238863856,-0.059188093990088,0.108787387609482,-0.019620453938842,-0.012900316156447,0.054765693843365,0.067264713346958,-0.142336577177048));
res += mul(Get(s0,-dx,0), float4x4(0.071358181536198,0.058238074183464,0.048350930213928,0.112116381525993,0.141443997621536,-0.098807357251644,-0.109628856182098,0.012700133956969,0.069829039275646,-0.015565903857350,-0.138992920517921,0.089689671993256,-0.145630136132240,-0.020201250910759,-0.019368011504412,0.086154960095882));
res += mul(Get(s0,-dx,dy), float4x4(-0.038868140429258,-0.063674561679363,-0.105382017791271,0.169922485947609,0.147270202636719,0.054451506584883,-0.099347367882729,0.092370651662350,-0.068635277450085,-0.115913428366184,0.082961089909077,-0.118511237204075,-0.015410956926644,0.103187024593353,-0.028032608330250,0.008430083282292));
res += mul(Get(s0,0,-dy), float4x4(-0.074548937380314,-0.193770855665207,0.150523498654366,0.015261404216290,-0.121471628546715,0.105913415551186,-0.059134583920240,0.193570151925087,0.110258176922798,0.102107845246792,0.081604585051537,0.035472664982080,-0.168256387114525,0.029300352558494,0.051724985241890,0.030210804194212));
res += mul(Get(s0,0,0), float4x4(0.036611273884773,-0.075510963797569,-0.081579335033894,0.192388221621513,0.028558036312461,-0.131335198879242,0.060966476798058,0.034529320895672,-0.181603521108627,0.068054370582104,-0.221845194697380,0.030834453180432,0.077858246862888,-0.048110641539097,0.126633569598198,0.100724101066589));
res += mul(Get(s0,0,dy), float4x4(0.014527613297105,0.013032846152782,0.134178340435028,0.062712088227272,-0.031765166670084,0.039402265101671,0.203453689813614,-0.090365946292877,0.156198084354401,-0.137295767664909,-0.195535272359848,-0.065230816602707,0.000439719558926,0.151314035058022,0.309094727039337,-0.034758657217026));
res += mul(Get(s0,dx,-dy), float4x4(-0.145599558949471,0.110975638031960,0.054655898362398,-0.037942923605442,-0.008577022701502,-0.094777673482895,-0.004571861587465,-0.097951121628284,0.016384430229664,0.005730139557272,0.071596026420593,0.065499350428581,0.081361666321754,0.003243756014854,-0.054874613881111,0.186704039573669));
res += mul(Get(s0,dx,0), float4x4(-0.177378207445145,-0.250246554613113,0.033157881349325,-0.025099853053689,-0.053445968776941,-0.139304473996162,0.004726256709546,0.136023133993149,0.084858082234859,0.020611183717847,-0.120193466544151,-0.090312771499157,0.073017165064812,0.110778026282787,0.031347118318081,-0.063322365283966));
res += mul(Get(s0,dx,dy), float4x4(-0.147942915558815,-0.149256467819214,-0.148088693618774,0.013420145958662,-0.019271394237876,-0.049027282744646,0.166202142834663,0.033401552587748,0.203575775027275,-0.208003252744675,0.129597336053848,-0.169078230857849,0.033901311457157,-0.123928107321262,-0.135731831192970,0.117559030652046));
res += mul(Get(s1,-dx,-dy), float4x4(0.044194560497999,0.101276986300945,0.028751922771335,-0.144337043166161,-0.248803883790970,-0.234535291790962,0.080543063580990,0.134914875030518,0.119181498885155,0.018661059439182,0.083599261939526,0.112437933683395,0.011681084521115,-0.018055826425552,-0.302993476390839,-0.109867677092552));
res += mul(Get(s1,-dx,0), float4x4(-0.083790376782417,-0.014884958043694,-0.127426654100418,-0.021930288523436,-0.195372194051743,0.018794441595674,-0.230034008622169,0.151236459612846,0.050594735890627,-0.015710989013314,0.314223080873489,-0.109379671514034,-0.011372313834727,0.002990354783833,0.107870288193226,-0.145142227411270));
res += mul(Get(s1,-dx,dy), float4x4(0.030339941382408,-0.018486285582185,-0.029554791748524,-0.014560777693987,-0.083238579332829,0.079432792961597,-0.013586009852588,-0.000761197821703,0.091627933084965,-0.092079311609268,-0.218558624386787,0.063502632081509,0.084894046187401,-0.022300232201815,-0.014200637117028,-0.009736232459545));
res += mul(Get(s1,0,-dy), float4x4(0.059414528310299,0.038608890026808,-0.038762100040913,-0.199257358908653,-0.011049245484173,-0.087635181844234,-0.261851400136948,0.194078117609024,-0.058753371238708,-0.182817831635475,-0.152517154812813,-0.046412158757448,0.158073499798775,0.065800234675407,-0.172762215137482,0.008260107599199));
res += mul(Get(s1,0,0), float4x4(-0.043950747698545,-0.011454630643129,0.004846330732107,0.019817680120468,-0.151614189147949,0.094980210065842,0.004585517570376,0.046837955713272,-0.010824000462890,-0.186014562845230,-0.131671100854874,-0.019630808383226,0.000081420585047,0.072225227952003,-0.021150723099709,-0.177484348416328));
res += mul(Get(s1,0,dy), float4x4(0.121396131813526,0.037558093667030,-0.060486961156130,-0.064826823771000,0.044921007007360,0.242785558104515,0.067708179354668,-0.106449894607067,-0.145761132240295,-0.261438459157944,-0.049869768321514,-0.084715425968170,-0.087793037295341,0.102553412318230,0.045141559094191,0.085969582200050));
res += mul(Get(s1,dx,-dy), float4x4(-0.035157550126314,-0.060440734028816,-0.299439340829849,-0.019470727071166,0.203425779938698,0.106356799602509,-0.031095307320356,0.144986614584923,-0.065017230808735,0.026345098391175,-0.058600716292858,-0.083605341613293,-0.044622857123613,0.129343181848526,0.109961107373238,-0.108005523681641));
res += mul(Get(s1,dx,0), float4x4(-0.143221884965897,0.004319153726101,-0.115778572857380,-0.072202481329441,0.145743742585182,0.024882191792130,0.005944735370576,0.024511322379112,0.161433815956116,-0.013921992853284,0.034474186599255,0.108750492334366,0.259223312139511,0.105793103575706,-0.242936596274376,0.039228387176991));
res += mul(Get(s1,dx,dy), float4x4(-0.135697185993195,0.260059118270874,0.091992802917957,-0.186129048466682,0.277035683393478,-0.013328919187188,-0.006472140084952,-0.201842412352562,-0.049586635082960,-0.157235205173492,0.145523875951767,0.026953028514981,-0.009063971228898,-0.135897859930992,-0.102215662598610,-0.257537543773651));
res += mul(Get(s2,-dx,-dy), float4x4(0.121161252260208,0.098280176520348,0.043203473091125,-0.164647668600082,0.048718310892582,-0.085237465798855,-0.179464697837830,0.172328904271126,-0.132994264364243,-0.075536280870438,-0.177181288599968,-0.102721869945526,-0.048814274370670,-0.155305966734886,-0.012450431473553,0.005996179766953));
res += mul(Get(s2,-dx,0), float4x4(-0.086154684424400,0.003183523193002,0.064531393349171,0.054014261811972,-0.127406418323517,0.249312266707420,0.073864586651325,0.103922672569752,0.105773605406284,0.161484941840172,-0.150131151080132,0.212853312492371,-0.048320081084967,0.106074064970016,-0.079291753470898,0.055678181350231));
res += mul(Get(s2,-dx,dy), float4x4(0.014834733679891,-0.055015757679939,0.049120422452688,0.077077843248844,-0.164722725749016,0.136338055133820,-0.024519778788090,0.055385611951351,-0.073221646249294,0.034803193062544,-0.096321552991867,0.040526386350393,0.118614912033081,0.194338396191597,0.010457901284099,-0.117265850305557));
res += mul(Get(s2,0,-dy), float4x4(0.131244972348213,-0.052284833043814,-0.016343029215932,-0.096886165440083,-0.034332558512688,-0.191795632243156,-0.004804160445929,0.089549459517002,0.103319011628628,-0.158940538764000,0.092081137001514,0.034820184111595,0.086638532578945,-0.164418399333954,-0.032809045165777,0.040649719536304));
res += mul(Get(s2,0,0), float4x4(0.057520080357790,-0.030097521841526,0.025024494156241,0.116962276399136,0.204097986221313,0.077816084027290,-0.092374250292778,-0.124111503362656,-0.033428091555834,0.117790088057518,-0.072396658360958,0.125460475683212,-0.034845188260078,0.039776489138603,-0.133014500141144,-0.063614778220654));
res += mul(Get(s2,0,dy), float4x4(-0.014628360979259,0.185376599431038,0.074712648987770,0.118575125932693,-0.169978931546211,-0.114447288215160,-0.033836863934994,0.159109383821487,-0.101757682859898,0.123249650001526,0.155589506030083,0.067678473889828,-0.099121838808060,-0.035827811807394,-0.071648173034191,0.023170363157988));
res += mul(Get(s2,dx,-dy), float4x4(0.010134729556739,0.111962713301182,-0.277420490980148,0.195895463228226,0.052763108164072,0.137358948588371,-0.056360423564911,-0.113326326012611,-0.026985397562385,-0.015072089619935,0.245300948619843,-0.088633932173252,-0.041180502623320,-0.164309546351433,-0.049172390252352,-0.062197707593441));
res += mul(Get(s2,dx,0), float4x4(-0.114888638257980,0.124136820435524,0.055907271802425,0.181305423378944,-0.001150330761448,0.040725510567427,-0.054936625063419,-0.030258424580097,-0.137243002653122,-0.174060821533203,0.113650523126125,0.067653104662895,-0.219349816441536,0.242229446768761,0.042207177728415,0.116114228963852));
res += mul(Get(s2,dx,dy), float4x4(-0.069524578750134,0.011586308479309,-0.125753507018089,-0.150522738695145,0.130445018410683,0.062568664550781,0.118408672511578,-0.151315495371819,-0.216866880655289,-0.034196764230728,0.058643888682127,0.054622080177069,0.120766416192055,-0.058001320809126,0.153029590845108,-0.102056831121445));
res += mul(Get(s3,-dx,-dy), float4x4(0.234017401933670,0.097451694309711,0.106896430253983,-0.108513616025448,-0.203896030783653,-0.055807955563068,0.063508182764053,0.019214192405343,-0.216402262449265,-0.051618348807096,-0.026162447407842,-0.158644631505013,-0.043300639837980,-0.066014684736729,0.075091756880283,0.112536191940308));
res += mul(Get(s3,-dx,0), float4x4(-0.096447162330151,0.064987808465958,0.196252778172493,-0.228317186236382,0.108372732996941,-0.029158225283027,0.062531977891922,-0.166980519890785,0.079407498240471,-0.127892434597015,-0.171412035822868,0.059322148561478,0.019383927807212,-0.060273978859186,-0.079477533698082,0.055512487888336));
res += mul(Get(s3,-dx,dy), float4x4(-0.000099792334368,-0.145021930336952,-0.012339803390205,-0.147527307271957,0.126500010490417,0.175628393888474,-0.036924526095390,0.093585252761841,-0.079631164669991,0.127993300557137,0.052192896604538,-0.017168371006846,-0.139077484607697,0.076430082321167,-0.100988194346428,-0.192384898662567));
res += mul(Get(s3,0,-dy), float4x4(0.217823028564453,0.212119907140732,0.165486216545105,0.018799783661962,0.023404264822602,-0.027575721964240,0.105141468346119,0.062503643333912,-0.097777567803860,-0.214870423078537,0.109645649790764,-0.097965978085995,0.048952564597130,-0.019055681303144,0.141633346676826,0.013749561272562));
res += mul(Get(s3,0,0), float4x4(-0.208840325474739,0.151174142956734,0.127897799015045,0.109430387616158,-0.046126779168844,0.104925692081451,0.100705668330193,0.006185126490891,0.240634247660637,-0.009529856964946,0.005156400147825,-0.020603954792023,-0.042317815124989,0.081216469407082,0.211556389927864,0.030351523309946));
res += mul(Get(s3,0,dy), float4x4(-0.180960133671761,-0.022830421105027,0.002176226116717,0.062394071370363,-0.081171803176403,0.153845280408859,0.058992829173803,-0.016793185845017,0.027275176718831,0.067319847643375,-0.050714306533337,-0.094875246286392,-0.189651951193810,-0.158233821392059,0.075426250696182,-0.031231673434377));
res += mul(Get(s3,dx,-dy), float4x4(0.014115083962679,0.071799300611019,0.036855272948742,0.165174663066864,-0.115308292210102,0.050668124109507,-0.218930706381798,0.262848585844040,0.020241405814886,-0.024572372436523,0.026193549856544,-0.044332336634398,-0.125183358788490,0.017632707953453,-0.182201534509659,-0.018965588882565));
res += mul(Get(s3,dx,0), float4x4(-0.107833601534367,-0.026859603822231,0.000405102269724,0.005702917464077,0.003808243433014,0.180262729525566,-0.010816622525454,0.131184354424477,0.109117045998573,-0.014827960170805,-0.012278194539249,-0.174359828233719,-0.049045320600271,0.087517037987709,-0.047488685697317,0.106517285108566));
res += mul(Get(s3,dx,dy), float4x4(-0.152968734502792,-0.008703123778105,-0.151998385787010,-0.014445904642344,-0.117473706603050,0.034024607390165,0.091395735740662,0.009354213252664,0.022053342312574,-0.137021914124489,-0.102720372378826,-0.145310834050179,0.083971098065376,-0.178252130746841,0.065363168716431,-0.083912514150143));
return max(float4(0,0,0,0), res);
}
