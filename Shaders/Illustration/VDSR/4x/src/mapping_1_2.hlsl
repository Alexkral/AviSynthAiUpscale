sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.000235993633396,0.012499406933784,0.009558766148984,0.112497031688690,-0.002392229158431,0.007818412967026,0.010668001137674,0.011184152215719,-0.335860073566437,0.221833899617195,-0.215625897049904,0.338260024785995,-0.367439836263657,-0.128801286220551,-0.405636936426163,0.206271916627884));
res += mul(Get(s0,-dx,0), float4x4(-0.016857376322150,0.023046901449561,-0.000828276097309,0.071240201592445,0.002212933963165,0.005523555912077,0.019212324172258,-0.012330329976976,0.003617586102337,0.113676138222218,0.008494850248098,-0.102458722889423,0.093382440507412,-0.147785961627960,-0.025202885270119,-0.510962247848511));
res += mul(Get(s0,-dx,dy), float4x4(-0.032914064824581,-0.003929268568754,0.019037824124098,0.059835746884346,-0.019137179479003,-0.002926003886387,0.003066812641919,-0.001006709062494,0.440046966075897,0.109013445675373,0.076019652187824,-0.396533608436584,0.388385117053986,-0.315128654241562,0.054596535861492,-0.260801583528519));
res += mul(Get(s0,0,-dy), float4x4(-0.043282609432936,-0.001671383157372,-0.040886741131544,0.081630401313305,-0.009396452456713,0.013426520861685,0.001710339915007,0.000085896135715,-0.195938780903816,-0.032949935644865,-0.189855664968491,0.545477092266083,-0.117398515343666,-0.195581838488579,-0.159708693623543,0.277080029249191));
res += mul(Get(s0,0,0), float4x4(-0.061054591089487,0.000340462021995,-0.039107754826546,0.027927070856094,0.009258219972253,-0.000520502275322,0.004674247000366,-0.020321760326624,-0.011066799983382,-0.117372758686543,-0.079199120402336,-0.012218066491187,-0.145590394735336,-0.205227181315422,0.066027954220772,-0.357363492250443));
res += mul(Get(s0,0,dy), float4x4(-0.043848291039467,-0.003381313057616,-0.006131262518466,0.016074441373348,-0.005841284058988,-0.006876697763801,-0.005156717263162,0.009706198237836,0.284161090850830,-0.097870305180550,0.063982129096985,-0.399485409259796,0.210024788975716,-0.345689326524734,0.310292631387711,-0.185456857085228));
res += mul(Get(s0,dx,-dy), float4x4(-0.026556137949228,-0.013753117993474,-0.014527097344398,0.008056679740548,0.003219756530598,-0.003686953801662,0.010105880908668,0.022762423381209,0.038848236203194,-0.137347504496574,-0.072175599634647,0.548504889011383,0.115467235445976,-0.214475959539413,0.453735858201981,0.629042208194733));
res += mul(Get(s0,dx,0), float4x4(-0.042487200349569,-0.005869572516531,-0.008583954535425,-0.008403604850173,0.012138751335442,0.007045375183225,-0.001814968185499,-0.002737565664575,0.086198128759861,-0.142596125602722,0.021626263856888,0.194933608174324,-0.145881801843643,-0.147470757365227,-0.352014034986496,0.589666426181793));
res += mul(Get(s0,dx,dy), float4x4(-0.040376417338848,-0.004256024491042,0.037201907485723,0.000078137629316,-0.007592456415296,0.001504274550825,-0.012594832107425,0.001839255914092,-0.107059352099895,-0.081612877547741,0.054037518799305,0.082319624722004,-0.101754166185856,-0.218944370746613,-0.148349881172180,0.097549594938755));
res += mul(Get(s1,-dx,-dy), float4x4(-0.045876625925303,0.010430507361889,-0.207945272326469,-0.013188848271966,0.009209746494889,-0.011039460077882,-0.007050576154143,0.006001533009112,0.017021544277668,0.011439297348261,-0.009888712316751,-0.020502859726548,-0.005875464994460,0.009548792615533,0.001913954387419,0.015226930379868));
res += mul(Get(s1,-dx,0), float4x4(0.027030477300286,-0.038530062884092,-0.023645816370845,-0.083052948117256,-0.003758785780519,0.009377914480865,0.000891957373824,-0.008514700457454,0.002910215640441,0.015854198485613,-0.001605433528312,-0.007877714000642,-0.004746899940073,0.002002082765102,-0.012808592990041,-0.001168473390862));
res += mul(Get(s1,-dx,dy), float4x4(0.077084347605705,-0.033236499875784,0.031340721994638,-0.144753903150558,0.019948394969106,-0.005061437375844,-0.010836045257747,-0.006062952335924,-0.000518021348398,-0.000210795435123,-0.011703325435519,0.004409250337631,-0.020045638084412,0.001732252654620,-0.000060283655330,-0.014426855370402));
res += mul(Get(s1,0,-dy), float4x4(-0.034515462815762,-0.023923154920340,-0.245660871267319,0.002544705057517,0.012733844108880,0.008073092438281,-0.001892756787129,0.022554671391845,-0.005406122654676,-0.000952398579102,0.000262849847786,0.001393239828758,0.003697740612552,-0.009721737354994,-0.003229717724025,0.001808044733480));
res += mul(Get(s1,0,0), float4x4(-0.011321614496410,-0.017054315656424,-0.094065912067890,-0.169229283928871,0.008224399760365,-0.001008146209642,-0.004900672007352,-0.002128046937287,-0.000175291963387,0.004894183017313,-0.001505584921688,0.015092520043254,-0.002780282404274,-0.009296516887844,0.016073649749160,-0.002750697312877));
res += mul(Get(s1,0,dy), float4x4(0.072090536355972,0.051035016775131,0.127071514725685,-0.267705857753754,0.001836223993450,-0.005252199713141,0.002737316768616,0.009041921235621,0.007098599802703,0.004222545772791,0.005883647128940,0.011091928929090,-0.001708924421109,-0.011692787520587,0.014937460422516,-0.007790946401656));
res += mul(Get(s1,dx,-dy), float4x4(-0.154575347900391,0.005567363463342,0.136623576283455,-0.065165497362614,-0.001658137538470,0.008957619778812,0.008068396709859,0.007332420907915,-0.002691366942599,0.007964575663209,0.005622848402709,0.004383118823171,0.006212047766894,-0.009979510679841,0.010106588713825,0.002661665668711));
res += mul(Get(s1,dx,0), float4x4(-0.293620467185974,0.042153198271990,0.079852893948555,-0.281936526298523,0.003421060740948,0.006300982553512,0.004730561282486,0.013117958791554,0.014641268178821,-0.000491182785481,0.000467979203677,0.000866152229719,0.006041988730431,-0.001007254817523,0.004940185695887,-0.008340458385646));
res += mul(Get(s1,dx,dy), float4x4(-0.209591001272202,0.119452722370625,-0.063856504857540,-0.093074657022953,0.013277452439070,-0.002302985871211,0.010287110693753,0.004978123586625,-0.011142822913826,0.007563300896436,-0.010210370644927,-0.012132064439356,0.004645836073905,-0.013249487616122,0.007818837650120,-0.012957166880369));
res += mul(Get(s2,-dx,-dy), float4x4(-0.146294265985489,-0.058147378265858,-0.495057076215744,-0.454663544893265,-0.346913248300552,-0.070469275116920,-0.857941925525665,-0.490635752677917,-0.107897646725178,-0.010686155408621,-0.245165213942528,-0.074512884020805,0.005081201903522,-0.011792927980423,-0.005229208152741,-0.011093382723629));
res += mul(Get(s2,-dx,0), float4x4(0.327328681945801,-0.112906575202942,0.302087932825089,-0.531527101993561,-0.060462359338999,-0.062479108572006,-0.434420615434647,-0.069193996489048,-0.033187609165907,-0.058808330446482,-0.159175708889961,-0.118935704231262,-0.008537421934307,0.001656536478549,0.001017029164359,-0.001709790783934));
res += mul(Get(s2,-dx,dy), float4x4(0.545763671398163,-0.236788481473923,0.452496170997620,-0.034942980855703,-0.507414579391479,-0.046962145715952,0.113849997520447,-0.199918761849403,0.248698428273201,-0.055250793695450,-0.128755331039429,0.121078208088875,-0.005080812610686,0.001588488114066,-0.007628151215613,-0.002697881078348));
res += mul(Get(s2,0,-dy), float4x4(-0.446994602680206,-0.084437474608421,-0.460907578468323,-0.020883696153760,0.120185755193233,-0.112582176923752,-0.072222210466862,-0.600461959838867,-0.085097908973694,-0.054613698273897,-0.047428525984287,0.043472155928612,-0.006943709682673,-0.001328134909272,-0.004689469933510,0.000812873302493));
res += mul(Get(s2,0,0), float4x4(0.066242791712284,-0.109720282256603,0.036727715283632,-0.035360824316740,0.158147931098938,-0.002854382852092,0.114669553935528,0.123809754848480,-0.173528462648392,0.000303674925817,-0.012777342461050,-0.079326130449772,0.004405761137605,0.007342370692641,-0.002023124601692,0.006845647003502));
res += mul(Get(s2,0,dy), float4x4(0.540739893913269,-0.178828105330467,0.187161877751350,0.276217609643936,-0.348721444606781,0.068877562880516,-0.440782755613327,0.408685028553009,0.219898805022240,-0.039270531386137,-0.088490873575211,0.141433551907539,0.003211547387764,-0.003111483063549,-0.002631970215589,0.003745035268366));
res += mul(Get(s2,dx,-dy), float4x4(-0.622225582599640,-0.041026804596186,-0.138092160224915,0.864106297492981,0.390829741954803,0.099087402224541,1.484743475914001,-0.340662181377411,-0.104389712214470,-0.083203904330730,-0.288249284029007,-0.045089796185493,-0.012129703536630,-0.006917069200426,-0.004256213549525,0.010164344683290));
res += mul(Get(s2,dx,0), float4x4(-0.438139587640762,-0.018662940710783,-0.566943645477295,0.735222637653351,0.617515385150909,0.331181526184082,0.870108187198639,0.291015803813934,-0.105579972267151,0.009264719672501,0.074954114854336,-0.068452224135399,-0.015719007700682,0.002235598862171,0.008722899481654,-0.007081896997988));
res += mul(Get(s2,dx,dy), float4x4(-0.043670333921909,-0.035276319831610,-0.346948564052582,0.559614121913910,0.122134976089001,0.398907899856567,-0.052023857831955,0.387282997369766,0.192832306027412,0.022369798272848,0.063369750976563,0.104901023209095,-0.000104805709270,0.003738504368812,0.002957463962957,-0.007751367054880));
res += mul(Get(s3,-dx,-dy), float4x4(0.005754485726357,-0.001785941189155,0.015599958598614,-0.001074993284419,-0.000453424581792,0.000830339442473,0.011067593470216,-0.003965083044022,-0.964083135128021,0.113102771341801,0.294482678174973,0.661828935146332,-0.001295311492868,0.004881605505943,0.011764335446060,0.002486440353096));
res += mul(Get(s3,-dx,0), float4x4(0.001254762522876,0.006614105310291,-0.002416289644316,0.010847705416381,0.001495771692134,-0.002584117930382,0.004478495102376,-0.016258951276541,-0.758332967758179,0.027135234326124,-0.043045200407505,0.111233741044998,0.004600459244102,-0.004807665012777,-0.013550513423979,0.002700527897105));
res += mul(Get(s3,-dx,dy), float4x4(-0.012753468938172,-0.012621574103832,0.008658713661134,0.010383144952357,0.005310046952218,-0.006068193819374,0.005281962919980,0.003822957864031,0.375546246767044,-0.108709782361984,-0.050597760826349,-0.688791155815125,-0.000316992052831,-0.004670765250921,0.016695573925972,0.000687472580466));
res += mul(Get(s3,0,-dy), float4x4(-0.012914703227580,-0.008949771523476,-0.017746016383171,-0.001282400800847,-0.008295500651002,-0.001434827921912,-0.003963050432503,-0.002812877064571,-0.646811008453369,0.052655588835478,0.377029508352280,0.542003929615021,0.009083387441933,-0.012957129627466,0.006247752811760,0.004371996968985));
res += mul(Get(s3,0,0), float4x4(0.007098952773958,-0.025581294670701,0.004802614916116,-0.005447567440569,0.001709388918243,0.006096134427935,-0.008497747592628,0.012402065098286,-0.571394383907318,-0.044844612479210,-0.199376255273819,-0.093505628407001,-0.002014813246205,0.009082674980164,-0.005057880654931,-0.010230869986117));
res += mul(Get(s3,0,dy), float4x4(-0.001143694622442,0.004294295329601,0.002435087924823,-0.012931414879858,0.022235013544559,-0.011352726258337,-0.002401570556685,-0.011166295036674,0.541275262832642,-0.143345877528191,-0.071465000510216,-0.336319506168365,-0.009595604613423,0.001381815760396,-0.001802321057767,0.008033496327698));
res += mul(Get(s3,dx,-dy), float4x4(-0.003165208268911,-0.008221770636737,-0.003550623077899,0.005310742650181,-0.014001092873514,-0.000139014315209,0.002577023813501,0.006760022602975,0.266384571790695,-0.003539993660524,-0.205277547240257,-0.160137549042702,0.002038706559688,0.008356548845768,0.002013933844864,0.000592581636738));
res += mul(Get(s3,dx,0), float4x4(0.010890037752688,-0.002119714627042,0.005025416146964,-0.000255084305536,0.002393327886239,0.007322235498577,0.008471073582768,0.000154612571350,0.454939991235733,-0.049861568957567,-0.002660469384864,-0.458688050508499,0.012645493261516,0.012518037110567,0.001637359382585,0.005619880277663));
res += mul(Get(s3,dx,dy), float4x4(-0.006556703243405,0.008357468061149,0.006235485896468,-0.010036481544375,-0.002531073056161,-0.010564669966698,-0.006896650884300,0.001080498332158,1.002943754196167,-0.137798130512238,0.275117367506027,-0.056630894541740,-0.010174527764320,-0.009512657299638,0.008674765937030,-0.008468597196043));
return max(float4(0,0,0,0), res);
}
