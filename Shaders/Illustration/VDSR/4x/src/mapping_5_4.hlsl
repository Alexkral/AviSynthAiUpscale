sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.082273595035076,-0.058961927890778,-0.053490344434977,0.112834997475147,-0.020924054086208,0.176902547478676,-0.066063500940800,-0.086699172854424,0.021051382645965,0.066141046583652,-0.067166671156883,0.020257744938135,0.239644587039948,-0.098674714565277,0.031408920884132,0.074512407183647));
res += mul(Get(s0,-dx,0), float4x4(0.087739914655685,0.051039729267359,-0.059330381453037,0.161025062203407,-0.101284757256508,-0.133004963397980,-0.126942798495293,-0.080434396862984,-0.086799956858158,0.009701984934509,0.136311396956444,-0.043413653969765,-0.013814197853208,-0.033840283751488,0.041302107274532,-0.103638492524624));
res += mul(Get(s0,-dx,dy), float4x4(-0.048837918788195,-0.091225937008858,0.092398330569267,0.064634144306183,0.107627391815186,0.039646327495575,0.050179377198219,-0.103787146508694,-0.111910775303841,-0.027413517236710,0.150352135300636,0.058509808033705,0.252822875976563,0.001491784933023,0.039570555090904,-0.077854230999947));
res += mul(Get(s0,0,-dy), float4x4(-0.147246077656746,-0.114548735320568,-0.012755808420479,-0.116101928055286,0.251784890890121,-0.019143734127283,-0.200056970119476,-0.129831194877625,-0.088778749108315,0.066130310297012,0.066127978265285,-0.228492304682732,0.120282150804996,-0.042167197912931,-0.022138638421893,0.101365074515343));
res += mul(Get(s0,0,0), float4x4(-0.047208607196808,-0.121344640851021,0.007783939130604,-0.042862668633461,-0.091178879141808,0.124245397746563,-0.147775456309319,0.111431129276752,-0.000677113072015,0.173371538519859,-0.035313032567501,-0.103562526404858,-0.066197656095028,0.292268425226212,-0.264804065227509,-0.011853689327836));
res += mul(Get(s0,0,dy), float4x4(0.008111771196127,-0.086772143840790,0.181327491998672,0.092187732458115,-0.036255080252886,-0.119336292147636,-0.162881761789322,-0.074903823435307,-0.280086010694504,-0.155704736709595,-0.103694066405296,0.102634467184544,-0.003832682967186,0.145501703023911,-0.011760964058340,0.156843706965446));
res += mul(Get(s0,dx,-dy), float4x4(-0.014478310942650,-0.245352581143379,-0.034670609980822,0.050155296921730,0.019860161468387,-0.045393552631140,0.036306634545326,0.071657516062260,-0.162900134921074,0.050326142460108,0.030464885756373,-0.084005534648895,-0.019640456885099,0.176791906356812,-0.119760103523731,-0.039751812815666));
res += mul(Get(s0,dx,0), float4x4(0.073370531201363,0.085672169923782,-0.097080998122692,-0.062526345252991,-0.007463218178600,0.040708571672440,0.258254438638687,0.167968198657036,0.029305307194591,0.138533473014832,-0.063799887895584,-0.046525441110134,0.061849359422922,0.239121377468109,-0.029427925124764,-0.094082660973072));
res += mul(Get(s0,dx,dy), float4x4(-0.149043947458267,-0.071647644042969,-0.028335724025965,-0.153179377317429,-0.123831696808338,-0.100065469741821,-0.039671905338764,-0.068512007594109,0.033627763390541,-0.110058434307575,-0.031469240784645,0.038734599947929,0.009288535453379,-0.025785250589252,0.120322547852993,0.068270623683929));
res += mul(Get(s1,-dx,-dy), float4x4(0.248329624533653,-0.092075966298580,0.098546892404556,0.036646913737059,-0.121547698974609,0.040845632553101,-0.159023359417915,0.035932641476393,-0.045376423746347,-0.059425428509712,0.073144428431988,-0.115642085671425,-0.031441476196051,-0.059869650751352,0.058648433536291,0.017843490466475));
res += mul(Get(s1,-dx,0), float4x4(-0.059106022119522,-0.018450085073709,0.037072487175465,0.141940563917160,-0.085357174277306,0.157857671380043,-0.020796617493033,0.127932041883469,0.010265717282891,-0.003833075752482,0.027977207675576,-0.054631680250168,-0.095871247351170,0.118082016706467,0.034817758947611,-0.077061481773853));
res += mul(Get(s1,-dx,dy), float4x4(0.177306041121483,0.101045578718185,0.042907547205687,0.151313036680222,-0.160421431064606,0.002276459010318,0.163293898105621,0.010326036252081,-0.001408338313922,0.140056759119034,-0.047498483210802,-0.014552397653461,0.005545428954065,-0.224162429571152,0.072269201278687,0.167484924197197));
res += mul(Get(s1,0,-dy), float4x4(-0.167489781975746,0.145478427410126,-0.033646132797003,0.094715565443039,0.090966209769249,0.069875888526440,-0.020880719646811,-0.109747372567654,-0.000070261914516,0.075159713625908,0.022320043295622,0.028053570538759,0.055597554892302,-0.044372074306011,-0.068674586713314,0.053507670760155));
res += mul(Get(s1,0,0), float4x4(-0.120171703398228,0.006442238111049,0.104586780071259,0.147952973842621,-0.067054755985737,0.056998480111361,-0.006831024307758,-0.281643450260162,-0.167974770069122,-0.189028382301331,-0.023650854825974,-0.057098776102066,0.040028214454651,0.045559797435999,0.045123007148504,0.076688274741173));
res += mul(Get(s1,0,dy), float4x4(-0.088869981467724,0.006599532440305,-0.131663605570793,-0.015193096362054,0.021915245801210,-0.119444444775581,0.100093401968479,0.019164452329278,-0.047304213047028,-0.101024463772774,-0.060371633619070,0.047632027417421,0.180831700563431,-0.071327283978462,0.230028599500656,0.074976325035095));
res += mul(Get(s1,dx,-dy), float4x4(-0.150861486792564,0.063684657216072,0.093083448708057,-0.171625405550003,0.004550183191895,0.139687404036522,-0.043470267206430,0.056400418281555,0.090834856033325,-0.003848402062431,-0.103167414665222,-0.173923403024673,-0.101953439414501,-0.252126961946487,0.098122552037239,-0.048396781086922));
res += mul(Get(s1,dx,0), float4x4(-0.135083273053169,0.035089757293463,0.066011011600494,-0.098995350301266,-0.020890809595585,0.014385243877769,-0.006772229447961,-0.104299940168858,0.055934172123671,0.026882600039244,-0.004755809903145,0.042859070003033,-0.030402841046453,0.196206137537956,0.106253385543823,-0.120094239711761));
res += mul(Get(s1,dx,dy), float4x4(-0.098004311323166,-0.057434637099504,-0.182914987206459,-0.160468444228172,0.003330146661028,-0.109797880053520,0.021566526964307,-0.167006984353065,0.045389398932457,0.000415339396568,-0.111951462924480,0.068794064223766,0.188427686691284,-0.061075568199158,0.090815626084805,-0.111932136118412));
res += mul(Get(s2,-dx,-dy), float4x4(-0.000949103094172,0.216080188751221,-0.111424326896667,-0.018126627430320,0.166527107357979,0.117301888763905,0.032558415085077,-0.060579728335142,-0.113045156002045,-0.092296317219734,0.005695732310414,0.229701355099678,0.079530350863934,0.027485312893987,-0.044474422931671,0.160335987806320));
res += mul(Get(s2,-dx,0), float4x4(0.058601774275303,0.028146041557193,-0.020204367116094,-0.124274566769600,0.179636970162392,-0.029957208782434,-0.008931360207498,-0.007059109397233,-0.001843317644671,-0.062070060521364,0.070851653814316,-0.103131890296936,0.029265636578202,-0.054254006594419,0.081072852015495,-0.122157648205757));
res += mul(Get(s2,-dx,dy), float4x4(-0.081739641726017,-0.008220219984651,0.001205882057548,-0.156481742858887,-0.013383435085416,-0.095723137259483,-0.033166572451591,-0.006165434140712,0.146897241473198,-0.103631354868412,0.013740505091846,0.051185492426157,-0.079180903732777,0.143132373690605,-0.011939619667828,0.053518459200859));
res += mul(Get(s2,0,-dy), float4x4(-0.132180213928223,-0.050291348248720,0.026779834181070,0.081835761666298,0.080391377210617,0.221331804990768,0.012744219973683,0.061334330588579,0.089686557650566,0.091269522905350,0.061934895813465,0.064533255994320,-0.013236514292657,0.105513811111450,-0.071476779878139,0.141701579093933));
res += mul(Get(s2,0,0), float4x4(-0.108703501522541,-0.054530501365662,0.152386233210564,0.131590738892555,-0.087835133075714,-0.091221950948238,-0.113172262907028,-0.002723314333707,0.143379151821136,-0.203837931156158,-0.124884344637394,0.090069659054279,-0.048082113265991,-0.105667032301426,-0.006949476432055,-0.133004859089851));
res += mul(Get(s2,0,dy), float4x4(0.111284792423248,-0.110362224280834,0.200958907604218,-0.024298077449203,0.071391999721527,0.076721198856831,-0.187482267618179,0.263223648071289,0.169160693883896,-0.103993967175484,0.285707801580429,-0.005178947933018,-0.004140593577176,-0.051747690886259,0.054032184183598,-0.088114500045776));
res += mul(Get(s2,dx,-dy), float4x4(0.035099480301142,0.033401396125555,0.111696891486645,-0.171102076768875,-0.023969741538167,0.259306520223618,-0.131110295653343,0.238511815667152,0.068452209234238,0.040434971451759,0.162363201379776,-0.154840603470802,-0.166792631149292,-0.131071865558624,-0.124507717788219,0.090753532946110));
res += mul(Get(s2,dx,0), float4x4(0.119133412837982,0.053971137851477,0.170095354318619,0.146922290325165,-0.047069858759642,0.071120813488960,0.022329963743687,-0.076290115714073,0.124640464782715,-0.150838971138000,0.013902346603572,-0.131582200527191,-0.122465930879116,0.126557841897011,0.123799599707127,-0.057560272514820));
res += mul(Get(s2,dx,dy), float4x4(0.102758526802063,0.037929777055979,0.140013098716736,-0.001926345517859,0.147962346673012,-0.076202467083931,0.024521801620722,-0.058803331106901,-0.097460992634296,0.062545724213123,-0.065626092255116,-0.120122842490673,0.154308930039406,0.049767948687077,0.086623251438141,-0.177028223872185));
res += mul(Get(s3,-dx,-dy), float4x4(-0.060894854366779,-0.129468262195587,-0.156619161367416,-0.077689990401268,0.056670885533094,0.002805315423757,-0.028502576053143,-0.023438576608896,-0.114870160818100,0.015551900491118,0.111553020775318,-0.021855123341084,-0.232325062155724,-0.123879961669445,-0.091626241803169,0.162820830941200));
res += mul(Get(s3,-dx,0), float4x4(0.073791958391666,-0.023729449138045,-0.017584780231118,0.203597381711006,-0.186475217342377,-0.025701900944114,0.002744086086750,0.012215179391205,-0.046868856996298,-0.007518760859966,0.023863505572081,-0.109675228595734,-0.187188073992729,-0.067338898777962,-0.088796965777874,-0.163130506873131));
res += mul(Get(s3,-dx,dy), float4x4(-0.078912928700447,-0.200355634093285,0.089015804231167,0.174731045961380,0.159833490848541,-0.184146240353584,-0.074980728328228,0.156732857227325,-0.100013546645641,0.047463212162256,-0.046380590647459,-0.121257759630680,0.023300834000111,0.097140111029148,0.045127198100090,0.174013301730156));
res += mul(Get(s3,0,-dy), float4x4(-0.326698571443558,-0.106376267969608,-0.106280252337456,-0.043867520987988,-0.064916126430035,0.079890690743923,-0.279181718826294,-0.027869744226336,-0.055856384336948,0.131461694836617,0.045382928103209,0.003837825730443,-0.114742390811443,-0.061762649565935,0.071861781179905,0.133108615875244));
res += mul(Get(s3,0,0), float4x4(0.008912671357393,0.156697139143944,-0.125327274203300,-0.082379542291164,-0.080040439963341,0.020535232499242,-0.057148147374392,-0.113157846033573,0.134214267134666,-0.087180592119694,-0.037793610244989,0.045152489095926,-0.138118818402290,-0.025307694450021,0.351217120885849,-0.140451043844223));
res += mul(Get(s3,0,dy), float4x4(0.000982073368505,-0.061823397874832,0.130785778164864,0.251088500022888,-0.039164431393147,-0.018331591039896,-0.004586301278323,-0.155433714389801,0.068815544247627,-0.027599578723311,-0.344468891620636,-0.101202286779881,-0.035825911909342,0.171973511576653,0.002001505810767,0.124793589115143));
res += mul(Get(s3,dx,-dy), float4x4(0.042000778019428,0.007597254123539,-0.100294530391693,-0.155221670866013,-0.035040974617004,-0.089523196220398,0.098028689622879,-0.020309919491410,-0.004816455766559,0.098346643149853,-0.061590760946274,0.090816006064415,0.003729714313522,-0.054975271224976,0.181395769119263,0.251688659191132));
res += mul(Get(s3,dx,0), float4x4(0.095102332532406,-0.013771517202258,-0.047568030655384,0.100496239960194,-0.132568985223770,-0.042385011911392,0.021289505064487,0.033175878226757,0.260112166404724,-0.028212133795023,-0.038514822721481,0.067854084074497,-0.005626563914120,0.076373688876629,0.038222681730986,0.038606241345406));
res += mul(Get(s3,dx,dy), float4x4(-0.137052074074745,-0.343162655830383,0.110551908612251,0.142879605293274,0.073956407606602,-0.030256634578109,-0.037395674735308,-0.033713135868311,0.163686171174049,0.080427810549736,-0.064581282436848,0.161051079630852,-0.022019529715180,0.006145442835987,0.133952245116234,-0.081513673067093));
return max(float4(0,0,0,0), res);
}
