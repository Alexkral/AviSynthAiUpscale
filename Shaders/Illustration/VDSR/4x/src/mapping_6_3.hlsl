sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.100403673946857,-0.012501234188676,0.038396790623665,-0.012209737673402,-0.158248618245125,-0.001979649532586,-0.118853256106377,0.173381015658379,0.179475486278534,-0.107254087924957,0.293097108602524,-0.433999747037888,0.238356143236160,-0.187700003385544,0.291895478963852,-0.219501957297325));
res += mul(Get(s0,-dx,0), float4x4(-0.095905683934689,0.037820048630238,-0.093012310564518,0.206075295805931,-0.006120812147856,-0.096049837768078,0.222153678536415,-0.032521169632673,-0.166000470519066,-0.155942723155022,-0.319276630878448,0.104007206857204,0.082296043634415,-0.241924926638603,0.062924869358540,-0.125447228550911));
res += mul(Get(s0,-dx,dy), float4x4(-0.072081707417965,0.032947897911072,-0.039987664669752,0.179546236991882,0.155580431222916,0.105918861925602,0.018705036491156,0.104565955698490,0.008612804114819,-0.158136904239655,-0.067303873598576,0.266256451606750,0.101473473012447,-0.193130835890770,-0.169302508234978,0.071706376969814));
res += mul(Get(s0,0,-dy), float4x4(0.051008895039558,0.053285337984562,-0.014771593734622,0.001366959186271,0.040781814604998,-0.011478783562779,-0.359486818313599,0.076495207846165,-0.027343621477485,-0.098796531558037,-0.033591359853745,-0.029659431427717,0.075217746198177,-0.020141290500760,-0.266024678945541,-0.087491147220135));
res += mul(Get(s0,0,0), float4x4(-0.094955027103424,0.021307876333594,0.123001992702484,0.149907648563385,0.155050396919250,-0.007089974358678,-0.025303551927209,-0.396322458982468,-0.123475432395935,-0.086049146950245,-0.153874754905701,0.258116155862808,-0.085658825933933,-0.057050622999668,-0.060229107737541,-0.083766862750053));
res += mul(Get(s0,0,dy), float4x4(0.005400464870036,0.166221320629120,0.007530580274761,-0.056586951017380,0.016534928232431,-0.047575041651726,0.040419030934572,0.054780077189207,0.045017778873444,-0.095602884888649,-0.093291193246841,0.328774392604828,0.125574260950089,-0.107713945209980,-0.141421541571617,0.040723074227571));
res += mul(Get(s0,dx,-dy), float4x4(-0.072346463799477,0.038229960948229,-0.073088087141514,0.090870298445225,-0.324753493070602,-0.012254371307790,-0.352204680442810,-0.216881588101387,-0.221703350543976,0.183598279953003,0.280456483364105,0.302716195583344,0.118675187230110,-0.074553862214088,-0.087376885116100,-0.039502669125795));
res += mul(Get(s0,dx,0), float4x4(0.020879926159978,0.029690766707063,-0.134703829884529,-0.051596254110336,-0.059725206345320,-0.016652625054121,-0.174604624509811,-0.122335642576218,0.004026519600302,-0.004487913567573,-0.065608933568001,0.292549192905426,-0.032847769558430,-0.148105546832085,0.156898960471153,-0.155706673860550));
res += mul(Get(s0,dx,dy), float4x4(0.087402179837227,-0.007818409241736,-0.128541842103004,-0.105588428676128,-0.155445158481598,-0.040890373289585,-0.320377171039581,0.256348133087158,-0.038977071642876,0.202230393886566,-0.038361962884665,-0.071028143167496,0.053894039243460,-0.102764822542667,0.217375457286835,-0.019153915345669));
res += mul(Get(s1,-dx,-dy), float4x4(0.038757074624300,-0.107592567801476,-0.151881620287895,0.110494680702686,-0.066622614860535,0.260285586118698,-0.052491467446089,-0.225030124187469,0.199407279491425,0.397695422172546,0.087013371288776,-0.073735110461712,0.373205125331879,-0.172609001398087,0.133603841066360,-0.094999171793461));
res += mul(Get(s1,-dx,0), float4x4(-0.260910511016846,0.070194594562054,-0.203329429030418,-0.197190463542938,-0.021049622446299,0.211013495922089,0.129948630928993,-0.128061547875404,0.172993853688240,0.093019209802151,-0.008254908956587,0.020031489431858,0.121562384068966,-0.109788917005062,0.105960033833981,-0.108270548284054));
res += mul(Get(s1,-dx,dy), float4x4(-0.030555371195078,0.280507028102875,-0.196275293827057,-0.049601495265961,-0.073678560554981,-0.148340344429016,0.074370995163918,-0.123622879385948,0.219237759709358,0.289108872413635,-0.125470221042633,0.056134641170502,0.061901029199362,-0.120713107287884,-0.173935070633888,0.019582835957408));
res += mul(Get(s1,0,-dy), float4x4(0.270170211791992,-0.067551016807556,-0.015289979986846,-0.121780298650265,-0.141014128923416,-0.100406713783741,0.031471882015467,-0.060151457786560,-0.077829569578171,0.171745434403419,0.141138553619385,0.038407612591982,-0.153374820947647,-0.080865152180195,-0.001662133028731,-0.099071629345417));
res += mul(Get(s1,0,0), float4x4(-0.055515743792057,-0.105790831148624,-0.017784360796213,-0.015827780589461,-0.025504047051072,0.068379066884518,-0.057904995977879,-0.060265876352787,-0.083476029336452,0.082809805870056,0.087449826300144,-0.043216187506914,-0.164844170212746,-0.091876022517681,-0.071549415588379,0.007003430742770));
res += mul(Get(s1,0,dy), float4x4(-0.153182581067085,0.133343338966370,-0.132984772324562,-0.098211139440536,-0.211951553821564,-0.083636127412319,-0.053686112165451,-0.100071564316750,-0.026203934103251,-0.022809157148004,-0.135078117251396,-0.194435447454453,0.087186582386494,-0.051976110786200,-0.047616265714169,0.065193735063076));
res += mul(Get(s1,dx,-dy), float4x4(0.398921698331833,-0.079301849007607,-0.034300472587347,-0.220688432455063,0.241162717342377,-0.164721071720123,0.040700212121010,-0.054838888347149,0.080646201968193,0.048026409000158,0.022697784006596,0.001978707732633,0.088050857186317,-0.026343239471316,-0.094191387295723,-0.101091645658016));
res += mul(Get(s1,dx,0), float4x4(-0.218661472201347,-0.106134466826916,0.040905639529228,-0.153954654932022,-0.044297114014626,0.048059549182653,-0.230505719780922,-0.060432858765125,-0.089663565158844,0.054742574691772,0.012885886244476,0.090748608112335,-0.173663541674614,-0.042450889945030,0.022531397640705,-0.035505209118128));
res += mul(Get(s1,dx,dy), float4x4(0.174382790923119,0.170286133885384,-0.009868248365819,-0.153926670551300,-0.097857013344765,0.027450818568468,-0.007598373107612,-0.108477577567101,0.112487874925137,-0.124965086579323,0.012253072112799,-0.011919194832444,0.103518351912498,-0.055184498429298,-0.035253282636404,0.037938531488180));
res += mul(Get(s2,-dx,-dy), float4x4(-0.066959053277969,0.040506809949875,0.028243806213140,-0.169647127389908,0.275339841842651,-0.086907647550106,-0.039159383624792,-0.207399576902390,0.480787426233292,-0.224274590611458,-0.114718109369278,0.151036307215691,-0.074516467750072,0.253729492425919,0.126938462257385,-0.030455349013209));
res += mul(Get(s2,-dx,0), float4x4(-0.060446359217167,-0.174988716840744,0.135703280568123,-0.085309125483036,-0.107073560357094,-0.165335372090340,-0.036542538553476,0.108359642326832,-0.065143063664436,-0.057372376322746,0.012402634136379,0.074241898953915,-0.109501488506794,-0.221158713102341,0.081762358546257,-0.111588604748249));
res += mul(Get(s2,-dx,dy), float4x4(-0.105310305953026,-0.109762564301491,0.038155373185873,-0.020376622676849,0.044324524700642,-0.156329542398453,0.203359901905060,0.043857183307409,0.194829806685448,0.069261521100998,-0.079917125403881,0.087313726544380,-0.031675346195698,-0.162566468119621,-0.197554126381874,-0.111880958080292));
res += mul(Get(s2,0,-dy), float4x4(0.039817433804274,0.225111216306686,0.101091504096985,0.004895889200270,-0.022155636921525,-0.114567726850510,0.156458869576454,0.045744463801384,0.063969634473324,-0.007937672547996,-0.019682493060827,0.193801954388618,-0.022168425843120,-0.098425455391407,-0.065465755760670,-0.014698315411806));
res += mul(Get(s2,0,0), float4x4(-0.085795521736145,0.008874677121639,0.034235388040543,0.080690987408161,-0.113114371895790,-0.101414859294891,-0.245570391416550,0.016520395874977,-0.104980714619160,-0.056511297821999,-0.085452444851398,-0.364535033702850,-0.004558041226119,0.030955292284489,0.198186039924622,-0.051931478083134));
res += mul(Get(s2,0,dy), float4x4(-0.156312465667725,-0.002207342069596,0.001818795921281,0.062521763145924,-0.002893802011386,-0.044065773487091,0.024733396247029,0.082320421934128,0.087446555495262,-0.132316648960114,-0.039156619459391,-0.173790171742439,-0.148722484707832,-0.176063194870949,-0.285170763731003,-0.095999710261822));
res += mul(Get(s2,dx,-dy), float4x4(-0.093131288886070,-0.083553425967693,-0.163908317685127,-0.110652647912502,0.187479302287102,-0.116092339158058,0.269585251808167,0.036859825253487,0.061329741030931,-0.208759993314743,-0.092706799507141,-0.044516500085592,0.013303948566318,0.046492293477058,0.040531374514103,0.018944123759866));
res += mul(Get(s2,dx,0), float4x4(-0.149101674556732,0.183944553136826,-0.030361751094460,0.014198494143784,0.013095925562084,0.036054607480764,-0.015471966005862,0.053836867213249,-0.108518376946449,-0.196773514151573,-0.069896079599857,-0.215775042772293,-0.144076406955719,0.011944101192057,-0.025124158710241,-0.055719412863255));
res += mul(Get(s2,dx,dy), float4x4(-0.120830714702606,0.331573098897934,-0.108511492609978,0.043540190905333,0.055712237954140,-0.034293580800295,-0.195839032530785,0.123968154191971,0.093368880450726,-0.002581987297162,-0.064753510057926,0.024753203615546,0.039384260773659,-0.109768427908421,-0.253784120082855,-0.079732038080692));
res += mul(Get(s3,-dx,-dy), float4x4(-0.121100425720215,0.041594240814447,-0.059765972197056,-0.139753878116608,0.109120167791843,0.048559997230768,-0.030350154265761,-0.016630604863167,0.018985506147146,-0.081143341958523,-0.021137660369277,0.115963272750378,-0.003643922740594,-0.240428179502487,-0.071388155221939,0.060904193669558));
res += mul(Get(s3,-dx,0), float4x4(-0.085042029619217,-0.145087286829948,-0.113049514591694,-0.096464224159718,0.048449426889420,-0.276602894067764,-0.081410117447376,-0.016202209517360,-0.265989184379578,-0.089046649634838,0.275519281625748,0.236312463879585,-0.346284478902817,0.202191621065140,-0.076843731105328,-0.051249444484711));
res += mul(Get(s3,-dx,dy), float4x4(0.003986859694123,-0.165883764624596,-0.046371798962355,-0.065479032695293,-0.031883314251900,-0.218616068363190,0.226354584097862,-0.116411469876766,-0.134477809071541,-0.036529876291752,0.026430940255523,0.027346953749657,-0.137827649712563,0.147226393222809,-0.181210696697235,-0.244446635246277));
res += mul(Get(s3,0,-dy), float4x4(-0.180013582110405,0.003266788553447,-0.181997328996658,-0.015348980203271,0.047170925885439,0.086146384477615,-0.139268204569817,-0.093702085316181,0.037798404693604,-0.089934051036835,-0.119988255202770,-0.330788999795914,0.192504987120628,-0.197595342993736,-0.027574514970183,-0.009406803175807));
res += mul(Get(s3,0,0), float4x4(-0.129128769040108,-0.094338372349739,0.034412477165461,0.027034083381295,-0.075548410415649,-0.084050297737122,-0.239048540592194,-0.120084695518017,-0.003235880518332,-0.078236430883408,0.052265819162130,-0.116687282919884,-0.181605130434036,-0.220368131995201,-0.062575712800026,0.009242732077837));
res += mul(Get(s3,0,dy), float4x4(0.092339798808098,-0.131952717900276,-0.003442757762969,0.113909989595413,-0.116408370435238,-0.135727122426033,-0.071095548570156,-0.114730134606361,-0.038944985717535,-0.100960895419121,0.116966187953949,0.354683190584183,0.122986346483231,0.112435869872570,-0.031056825071573,-0.290891498327255));
res += mul(Get(s3,dx,-dy), float4x4(-0.042224176228046,-0.068610474467278,-0.173207163810730,0.061501674354076,0.153944969177246,0.160571962594986,0.095237299799919,-0.032989703118801,0.120400369167328,-0.127120301127434,0.134298086166382,-0.072561547160149,0.177780494093895,-0.198676779866219,-0.033228628337383,-0.020456131547689));
res += mul(Get(s3,dx,0), float4x4(0.119590178132057,-0.077454522252083,-0.067942768335342,0.005966457538307,-0.015942763537169,0.099245205521584,-0.215539321303368,-0.030415309593081,-0.064494252204895,-0.127911254763603,-0.062257971614599,-0.157476022839546,-0.425284594297409,-0.263586461544037,-0.101343519985676,0.057770419865847));
res += mul(Get(s3,dx,dy), float4x4(-0.033276423811913,-0.216836467385292,-0.305253326892853,-0.195672303438187,0.057125166058540,0.106050387024879,0.025879330933094,0.049484860152006,-0.043506823480129,-0.059679847210646,0.082239337265491,0.158099263906479,0.131365031003952,-0.018303535878658,-0.083528272807598,-0.254159480333328));
return max(float4(0,0,0,0), res);
}
