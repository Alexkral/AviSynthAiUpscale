sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.024378493428230,0.063092209398746,0.063815891742706,0.123829193413258,0.150531917810440,0.039792641997337,0.138950899243355,-0.054293729364872,0.292500853538513,0.014020657166839,-0.193519175052643,-0.022021202370524,0.006662909872830,-0.163752719759941,-0.020209303125739,0.186469167470932));
res += mul(Get(s0,-dx,0), float4x4(-0.063923560082912,-0.065311819314957,0.034824419766665,-0.003896723734215,0.119008414447308,-0.014673977158964,-0.274460762739182,0.022579519078135,0.066392198204994,0.106636442244053,0.280340939760208,0.092925675213337,0.086921297013760,0.216534152626991,0.212896615266800,0.135604128241539));
res += mul(Get(s0,-dx,dy), float4x4(0.033899139612913,0.122538283467293,-0.167253956198692,0.169844552874565,-0.086371950805187,-0.159391686320305,0.052129097282887,-0.027689583599567,0.232039704918861,-0.082427985966206,0.122231028974056,0.069575481116772,0.053622469305992,0.035122487694025,-0.222852662205696,-0.278332203626633));
res += mul(Get(s0,0,-dy), float4x4(0.174070015549660,-0.231353700160980,-0.238969892263412,-0.030893979594111,-0.042238458991051,0.136881455779076,-0.025645120069385,0.089018344879150,-0.199746161699295,0.071346879005432,0.066661022603512,0.088855147361755,-0.007299105171114,0.093443274497986,-0.035404767841101,0.093757860362530));
res += mul(Get(s0,0,0), float4x4(0.008744500577450,-0.271574139595032,-0.049506045877934,0.119036078453064,0.025838347151875,-0.002584848320112,-0.082179762423038,0.050452459603548,0.047593716531992,-0.223060250282288,-0.019869582727551,-0.068475812673569,-0.010525640100241,0.077152200043201,0.019673701375723,-0.056626789271832));
res += mul(Get(s0,0,dy), float4x4(-0.102854609489441,-0.114793233573437,-0.265823185443878,0.112319663167000,-0.048429623246193,0.042056813836098,-0.128297224640846,-0.019903698936105,0.039702456444502,0.237586885690689,-0.051210526376963,0.267696797847748,-0.106856495141983,0.155281215906143,-0.118347577750683,0.101234130561352));
res += mul(Get(s0,dx,-dy), float4x4(0.031355261802673,0.121960729360580,0.069579027593136,0.164415284991264,0.097498200833797,0.086097314953804,-0.136535421013832,-0.080478265881538,0.148830205202103,-0.099569365382195,-0.067948907613754,-0.045417387038469,0.053173311054707,-0.059200044721365,-0.059219606220722,0.087404020130634));
res += mul(Get(s0,dx,0), float4x4(-0.128759503364563,-0.004236092790961,0.207748383283615,0.062304247170687,0.099440947175026,-0.047887977212667,0.101968683302402,0.065107837319374,-0.122433044016361,0.073523506522179,-0.160403236746788,-0.060146160423756,0.140605375170708,0.113359160721302,0.182967931032181,-0.306847780942917));
res += mul(Get(s0,dx,dy), float4x4(-0.049944050610065,-0.127537921071053,-0.022674720734358,0.014753906056285,-0.274922281503677,0.012628789991140,-0.304352700710297,-0.132171630859375,-0.030429830774665,-0.221406683325768,-0.165206477046013,-0.044946640729904,-0.131684765219688,0.064692586660385,-0.042018175125122,-0.010891652666032));
res += mul(Get(s1,-dx,-dy), float4x4(-0.029724361374974,-0.111795417964458,0.009183492511511,-0.017272425815463,-0.139380902051926,-0.031998999416828,0.069725014269352,-0.003298319876194,-0.048080068081617,0.200185000896454,0.067254461348057,-0.038550350815058,0.199447482824326,-0.025610808283091,-0.209142431616783,-0.185534730553627));
res += mul(Get(s1,-dx,0), float4x4(-0.020944420248270,-0.096557132899761,-0.017774481326342,0.190884113311768,-0.058069314807653,-0.255395948886871,-0.076493956148624,-0.153838232159615,0.072838455438614,-0.145481124520302,0.050733588635921,-0.066053077578545,-0.142622336745262,-0.451835572719574,0.117565408349037,-0.060800213366747));
res += mul(Get(s1,-dx,dy), float4x4(-0.025846853852272,0.017944365739822,-0.125804603099823,0.075915053486824,-0.110738456249237,-0.218499064445496,0.150587782263756,-0.081022948026657,-0.036670863628387,-0.140123054385185,-0.155640855431557,0.238482967019081,0.096604190766811,-0.175344347953796,-0.006997076794505,-0.035094484686852));
res += mul(Get(s1,0,-dy), float4x4(0.042948443442583,0.129518926143646,0.006442449521273,-0.063190877437592,-0.172685250639915,0.029205961152911,-0.061097487807274,0.035532113164663,-0.251282721757889,-0.071813695132732,0.109089866280556,-0.023037077859044,0.020089294761419,-0.034782551229000,-0.161634892225266,0.021469347178936));
res += mul(Get(s1,0,0), float4x4(0.194693133234978,-0.034495759755373,0.120399422943592,-0.046701725572348,0.050704777240753,0.031661830842495,-0.116454273462296,-0.051347296684980,-0.183790042996407,0.054113626480103,-0.005931435152888,-0.038045298308134,0.069893352687359,0.171170994639397,-0.242781624197960,-0.178147509694099));
res += mul(Get(s1,0,dy), float4x4(0.122484058141708,-0.071282491087914,-0.002098501194268,0.136246696114540,-0.104704365134239,-0.057529322803020,-0.072412714362144,0.173124074935913,-0.035950150340796,-0.087682254612446,-0.066104128956795,-0.107891671359539,0.129629448056221,0.030541120097041,-0.207815170288086,-0.255610078573227));
res += mul(Get(s1,dx,-dy), float4x4(0.010749825276434,0.067106917500496,0.091087691485882,-0.124480426311493,0.021468508988619,-0.091652050614357,0.154796764254570,-0.011248476803303,-0.102109663188457,-0.006947509478778,0.006556321866810,0.159080862998962,-0.090543642640114,0.008692038245499,-0.097538225352764,-0.141006767749786));
res += mul(Get(s1,dx,0), float4x4(0.098337955772877,-0.052138466387987,0.050110064446926,-0.089916020631790,-0.078827679157257,0.038838051259518,-0.166778385639191,0.162234455347061,0.072278670966625,-0.178541824221611,-0.112982787191868,0.149238973855972,0.074175663292408,0.176721692085266,-0.164921447634697,-0.208502769470215));
res += mul(Get(s1,dx,dy), float4x4(0.064146451652050,0.048404205590487,-0.066182307898998,0.068672887980938,-0.022944664582610,0.049672562628984,0.195709630846977,-0.062108304351568,-0.154178723692894,0.068994835019112,0.028153095394373,0.080865129828453,0.131907150149345,0.170627593994141,-0.062233228236437,0.150698140263557));
res += mul(Get(s2,-dx,-dy), float4x4(0.067404299974442,-0.065162613987923,0.139807149767876,-0.138328924775124,-0.035965282469988,-0.112261734902859,-0.073912963271141,-0.127782523632050,-0.214469820261002,0.013061445206404,-0.039771478623152,0.014438228681684,-0.025531372055411,-0.041590649634600,-0.182224631309509,-0.135102361440659));
res += mul(Get(s2,-dx,0), float4x4(0.084290675818920,-0.052189800888300,0.216843292117119,-0.099412880837917,-0.074915796518326,0.128257259726524,-0.028591223061085,-0.040726345032454,-0.062441565096378,-0.014421897009015,0.164985045790672,-0.094285100698471,-0.049781218171120,-0.016448970884085,0.079900316894054,0.178596585988998));
res += mul(Get(s2,-dx,dy), float4x4(-0.202907234430313,0.219438761472702,0.110867120325565,-0.091508537530899,-0.069192320108414,-0.002390716923401,0.007285971660167,-0.019962431862950,0.096612222492695,0.067600689828396,-0.049363482743502,-0.149965256452560,0.116000838577747,-0.022540122270584,-0.085408873856068,0.117576569318771));
res += mul(Get(s2,0,-dy), float4x4(0.036049708724022,0.070259146392345,0.087664231657982,-0.309279710054398,0.010524348355830,-0.297442197799683,-0.077826797962189,-0.070482507348061,-0.071389280259609,0.196537211537361,-0.096155107021332,-0.193466588854790,0.063096091151237,-0.006277263164520,-0.038199331611395,0.050354585051537));
res += mul(Get(s2,0,0), float4x4(0.133464574813843,-0.057312566787004,-0.232774153351784,-0.073846995830536,-0.041654035449028,0.215470597147942,-0.138124033808708,-0.226375266909599,-0.019513795152307,-0.090597577393055,0.066864706575871,-0.087324440479279,0.063447616994381,-0.091356597840786,0.221792533993721,-0.065475143492222));
res += mul(Get(s2,0,dy), float4x4(-0.055360980331898,0.050811570137739,0.046530928462744,-0.065186083316803,-0.031774867326021,0.238880544900894,0.016197146847844,-0.163784399628639,0.041925936937332,0.020086776465178,0.269047290086746,-0.068854242563248,-0.023018933832645,0.019202783703804,-0.000749259255826,0.009938827715814));
res += mul(Get(s2,dx,-dy), float4x4(0.201706036925316,0.040800649672747,0.036540683358908,0.139685973525047,0.316139578819275,0.000580051739234,-0.089514099061489,-0.229033231735229,-0.162243157625198,0.034121554344893,0.058736540377140,0.156066089868546,-0.017055513337255,0.196475654840469,-0.135277286171913,0.043534200638533));
res += mul(Get(s2,dx,0), float4x4(-0.021799197420478,-0.048803191632032,0.030553566291928,0.000557761522941,0.133465871214867,0.042917769402266,-0.064078494906425,-0.086772568523884,0.111417822539806,0.061343032866716,0.178960576653481,0.019086103886366,-0.142927572131157,-0.019038580358028,0.041560150682926,0.176883280277252));
res += mul(Get(s2,dx,dy), float4x4(-0.118067793548107,0.053869098424911,-0.046285718679428,0.083611398935318,-0.125952169299126,0.055443979799747,-0.120682738721371,-0.029883369803429,0.018316458910704,-0.018904000520706,-0.013254951685667,0.116774529218674,0.016266372054815,0.012650751508772,0.045933961868286,0.299146503210068));
res += mul(Get(s3,-dx,-dy), float4x4(-0.056747373193502,-0.042280256748199,0.013341564685106,-0.028504977002740,0.001807838096283,0.011875479482114,-0.111697286367416,0.084872260689735,0.080737777054310,-0.001445160945877,-0.052514586597681,0.005336356814951,0.041097130626440,0.013332381844521,-0.152148887515068,-0.081929825246334));
res += mul(Get(s3,-dx,0), float4x4(0.070790261030197,0.017599748447537,0.037633266299963,0.043924704194069,0.110671132802963,0.099320121109486,-0.027819672599435,0.054679665714502,0.026959501206875,-0.119677379727364,0.108244620263577,-0.200403362512589,-0.019474785774946,-0.089980818331242,-0.107031509280205,0.002415415830910));
res += mul(Get(s3,-dx,dy), float4x4(-0.050280153751373,0.191185966134071,0.048563115298748,0.089867912232876,-0.347596466541290,-0.083216622471809,-0.019712593406439,0.019983626902103,-0.089957803487778,0.106733523309231,-0.243759453296661,-0.083266973495483,0.005449533928186,0.084374941885471,0.053579807281494,-0.046539042145014));
res += mul(Get(s3,0,-dy), float4x4(-0.162847831845284,0.024426691234112,0.109106808900833,-0.013872628100216,-0.070264421403408,-0.101133652031422,0.125849232077599,0.198234602808952,-0.105740651488304,0.124652862548828,-0.027080833911896,0.076229900121689,0.049363970756531,-0.166449278593063,0.121703773736954,-0.004609771072865));
res += mul(Get(s3,0,0), float4x4(-0.157294020056725,0.062893033027649,0.020657068118453,-0.083142496645451,0.088605180382729,-0.002038510283455,0.218254074454308,0.186140149831772,0.127686142921448,-0.050273764878511,-0.040774669498205,-0.024990703910589,0.229294061660767,-0.087115727365017,0.073590137064457,-0.058716729283333));
res += mul(Get(s3,0,dy), float4x4(-0.164975330233574,-0.095357835292816,0.124479889869690,0.063715748488903,0.077781714498997,0.146149203181267,0.223184242844582,-0.133936986327171,-0.150412917137146,-0.169458165764809,0.133967205882072,0.008898736909032,-0.070612028241158,-0.206025972962379,-0.054011870175600,-0.096119903028011));
res += mul(Get(s3,dx,-dy), float4x4(-0.087499432265759,0.045497559010983,0.319694936275482,0.197488576173782,0.017321500927210,-0.188736706972122,0.028370078653097,-0.087336435914040,0.148104831576347,0.277379602193832,-0.134983092546463,-0.013087631203234,-0.127128019928932,-0.085403896868229,-0.198878630995750,-0.076646551489830));
res += mul(Get(s3,dx,0), float4x4(0.050959259271622,0.029145762324333,-0.079392619431019,-0.075418993830681,-0.020448973402381,-0.041135251522064,0.114957034587860,0.163510128855705,0.022112512961030,0.163464725017548,0.135317847132683,0.309209018945694,-0.021981190890074,0.068291552364826,0.014454252086580,-0.153927356004715));
res += mul(Get(s3,dx,dy), float4x4(0.187656730413437,-0.162305206060410,0.068791687488556,-0.099780119955540,-0.100116290152073,0.058977823704481,0.176028817892075,0.077159084379673,0.064653091132641,0.001109861070290,0.109370306134224,-0.088213771581650,-0.047941740602255,-0.020268652588129,-0.143268808722496,0.137236088514328));
return max(float4(0,0,0,0), res);
}
