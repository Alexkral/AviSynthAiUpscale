sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.026148254051805,0.199814215302467,-0.061330843716860,-0.080050021409988,0.083664633333683,-0.250948399305344,0.100758895277977,0.100786931812763,-0.074328713119030,-0.130044713616371,-0.030138172209263,-0.124715492129326,-0.167716234922409,-0.151213407516479,-0.048768632113934,0.015854243189096));
res += mul(Get(s0,-dx,0), float4x4(0.024451099336147,-0.043289713561535,0.103271476924419,-0.009947132319212,-0.157355159521103,-0.059368211776018,-0.033650476485491,0.149902328848839,-0.178862169384956,-0.157990634441376,0.103695310652256,-0.237791672348976,0.293468534946442,-0.001177867059596,-0.289457350969315,-0.126470461487770));
res += mul(Get(s0,-dx,dy), float4x4(-0.006013007834554,-0.326895475387573,-0.040618013590574,0.015367662534118,0.219749629497528,-0.091352321207523,-0.103876940906048,-0.117387883365154,-0.066916234791279,-0.233661264181137,0.313244342803955,0.110928378999233,-0.005644957534969,0.106860078871250,0.396896630525589,0.273131161928177));
res += mul(Get(s0,0,-dy), float4x4(-0.028442073613405,-0.188911154866219,-0.044367793947458,-0.163240775465965,0.030571594834328,0.075749859213829,0.120664261281490,-0.038833070546389,-0.114007659256458,-0.066384293138981,-0.138470098376274,-0.372350901365280,0.047430541366339,0.015392971225083,0.155198588967323,0.233115315437317));
res += mul(Get(s0,0,0), float4x4(-0.013190740719438,0.096462629735470,0.089997716248035,-0.000534810475074,0.039977408945560,-0.049951702356339,-0.034643571823835,-0.048158507794142,-0.103535659611225,-0.012427115812898,-0.233071431517601,-0.200774177908897,-0.144108682870865,-0.012211380526423,-0.059823952615261,-0.172469645738602));
res += mul(Get(s0,0,dy), float4x4(0.027016527950764,0.098133064806461,-0.160456568002701,0.030237913131714,0.076922506093979,-0.140848323702812,-0.282950311899185,-0.228698402643204,0.089047737419605,0.222184404730797,0.064491480588913,0.162532418966293,-0.242781847715378,-0.245436072349548,0.007697052322328,0.085401386022568));
res += mul(Get(s0,dx,-dy), float4x4(-0.108192667365074,-0.171161085367203,-0.293219476938248,-0.221793919801712,-0.084098078310490,0.240602448582649,0.000563056266401,-0.033047556877136,-0.144282490015030,-0.169775769114494,-0.266121774911880,-0.108493946492672,0.113570138812065,0.051314465701580,0.047682154923677,-0.158214032649994));
res += mul(Get(s0,dx,0), float4x4(-0.023659907281399,-0.191209748387337,0.044950276613235,-0.093504883348942,0.066657997667789,0.114202670753002,0.012634617276490,-0.165557369589806,-0.005478641483933,0.089430525898933,-0.433370888233185,0.339308112859726,0.115478619933128,0.051960576325655,-0.134524971246719,-0.336837351322174));
res += mul(Get(s0,dx,dy), float4x4(-0.024725543335080,-0.094148524105549,-0.049900941550732,0.173893108963966,-0.084449924528599,-0.182153716683388,-0.411924511194229,-0.263867259025574,0.111042805016041,0.040186632424593,-0.079766847193241,0.418144792318344,-0.077667593955994,-0.105983130633831,0.022384162992239,0.107829473912716));
res += mul(Get(s1,-dx,-dy), float4x4(-0.071873612701893,0.064726196229458,0.163286536931992,-0.336447566747665,-0.117707259953022,0.022635031491518,-0.052537567913532,-0.266837775707245,-0.018500272184610,-0.182125315070152,-0.409547150135040,-0.246039628982544,-0.114561393857002,0.068598613142967,-0.315690845251083,0.013199372217059));
res += mul(Get(s1,-dx,0), float4x4(-0.172538638114929,0.005817012861371,0.000649117981084,-0.004237436689436,-0.035524174571037,-0.041775144636631,-0.027255643159151,-0.203315466642380,-0.078438960015774,0.008591783232987,0.190295472741127,-0.104642949998379,-0.303037554025650,-0.104320146143436,0.058192551136017,-0.004910722374916));
res += mul(Get(s1,-dx,dy), float4x4(-0.220260336995125,-0.086265482008457,0.110901564359665,-0.225180521607399,0.025005523115396,-0.136798664927483,-0.112470366060734,-0.153299361467361,-0.101113393902779,0.216909855604172,0.575674295425415,-0.083287976682186,-0.170818135142326,0.067815728485584,-0.143626585602760,0.036729037761688));
res += mul(Get(s1,0,-dy), float4x4(0.032486308366060,0.022750169038773,-0.058612138032913,0.002364254323766,-0.122020371258259,-0.023458590731025,0.350606292486191,-0.105948902666569,-0.131083145737648,-0.175937965512276,-0.445396423339844,-0.340500175952911,0.134667232632637,0.004482008516788,-0.168727859854698,-0.158906787633896));
res += mul(Get(s1,0,0), float4x4(0.006137451156974,0.061851937323809,0.009585510939360,-0.102836191654205,-0.093537211418152,-0.068236976861954,0.226142600178719,-0.078688293695450,-0.088762424886227,-0.118259176611900,-0.067323997616768,0.025679379701614,0.075647823512554,-0.121424227952957,0.058909229934216,-0.271050810813904));
res += mul(Get(s1,0,dy), float4x4(-0.055859163403511,-0.005770170595497,0.116888172924519,0.012163062579930,-0.024708647280931,0.000736910966225,-0.036615286022425,0.067209035158157,-0.084052167832851,-0.068183884024620,-0.015427182428539,0.203258603811264,0.093581326305866,-0.001077087828889,-0.091254301369190,-0.094635508954525));
res += mul(Get(s1,dx,-dy), float4x4(0.064928762614727,-0.034213405102491,-0.210564702749252,0.060773521661758,-0.091387093067169,0.001709990901873,-0.061304662376642,-0.158285558223724,-0.027928169816732,-0.181734412908554,-0.235053867101669,-0.202483013272285,0.243433341383934,0.209621444344521,-0.243434756994247,0.149613037705421));
res += mul(Get(s1,dx,0), float4x4(-0.024714523926377,-0.015818741172552,0.028129883110523,-0.185961753129959,-0.105050235986710,-0.120188869535923,-0.022697517648339,-0.038788229227066,-0.055032428354025,-0.120005473494530,-0.060725603252649,0.190182909369469,0.061828169971704,-0.041584338992834,0.216110557317734,0.174765795469284));
res += mul(Get(s1,dx,dy), float4x4(0.122777171432972,-0.026459192857146,0.021942190825939,0.280830979347229,-0.010524934157729,-0.084765583276749,-0.103930145502090,-0.031191306188703,-0.054631013423204,-0.005969446618110,-0.070808969438076,0.288299590349197,0.171343579888344,0.006690748035908,-0.010330760851502,0.075582891702652));
res += mul(Get(s2,-dx,-dy), float4x4(0.162305802106857,-0.188978299498558,0.255411893129349,-0.365333586931229,-0.144053846597672,-0.304550707340240,-0.067941665649414,-0.172879695892334,0.034269895404577,-0.107956938445568,-0.383335173130035,-0.469449639320374,0.247034549713135,-0.014864084310830,-0.111025407910347,0.262929022312164));
res += mul(Get(s2,-dx,0), float4x4(0.103720091283321,-0.134748741984367,0.137802273035049,-0.103083074092865,-0.126508951187134,-0.003933758474886,0.281960070133209,0.081631146371365,-0.034473937004805,0.124141022562981,-0.151086360216141,-0.328880369663239,-0.066565178334713,-0.052844930440187,0.089389681816101,-0.054406490176916));
res += mul(Get(s2,-dx,dy), float4x4(-0.090632848441601,-0.046294584870338,0.109917052090168,0.174960076808929,0.122914500534534,0.045916937291622,-0.009995187632740,0.129146143794060,-0.081946454942226,0.305684685707092,-0.185930266976357,-0.027057541534305,-0.167600691318512,-0.072437711060047,0.041367065161467,-0.092867471277714));
res += mul(Get(s2,0,-dy), float4x4(-0.016358640044928,-0.005135698243976,0.140824168920517,0.061208352446556,-0.235741123557091,-0.035437460988760,-0.199810400605202,0.078178174793720,0.010793425142765,-0.429559677839279,-0.192648723721504,-0.401714146137238,0.236820191144943,0.011386849917471,-0.080765329301357,0.034069862216711));
res += mul(Get(s2,0,0), float4x4(0.152763098478317,-0.072710119187832,0.054842174053192,0.139014571905136,-0.185313776135445,0.151734262704849,0.245385915040970,0.020029507577419,-0.024461958557367,-0.470222651958466,-0.003643375355750,0.045978844165802,-0.044666916131973,-0.020536795258522,0.091215431690216,-0.163912802934647));
res += mul(Get(s2,0,dy), float4x4(-0.061964217573404,-0.176278561353683,0.177451610565186,0.078679338097572,-0.046692065894604,-0.067247897386551,-0.006423301994801,-0.093484118580818,-0.060833454132080,-0.182080894708633,-0.116895943880081,0.335122257471085,-0.115570396184921,-0.152834847569466,0.051459405571222,0.136718273162842));
res += mul(Get(s2,dx,-dy), float4x4(-0.088083632290363,0.047119539231062,-0.038335368037224,-0.036641020327806,-0.260702699422836,-0.113775826990604,-0.326891422271729,-0.116881914436817,-0.121873185038567,-0.182260155677795,-0.419128566980362,-0.217502117156982,0.112201176583767,0.180551514029503,-0.174835234880447,0.013615218922496));
res += mul(Get(s2,dx,0), float4x4(0.170607537031174,0.004831053316593,-0.143563717603683,0.167015597224236,0.134085178375244,-0.091950289905071,0.084492586553097,0.008463982492685,-0.113705568015575,-0.313756316900253,-0.199753239750862,0.295694619417191,-0.092629589140415,0.001927082426846,-0.083563074469566,-0.070231437683105));
res += mul(Get(s2,dx,dy), float4x4(0.031952634453773,-0.133767619729042,-0.245925664901733,-0.026751931756735,0.288967102766037,-0.042180977761745,-0.106184832751751,-0.069701336324215,-0.049908384680748,-0.081841506063938,-0.245553195476532,0.088413476943970,0.054003585129976,-0.179071649909019,-0.085943073034286,0.302468329668045));
res += mul(Get(s3,-dx,-dy), float4x4(-0.047593601047993,-0.064902268350124,-0.013347486965358,-0.188926845788956,-0.298256635665894,0.005771308206022,-0.174282044172287,-0.331157386302948,-0.006394908297807,0.158934354782104,-0.040831610560417,-0.053705085068941,0.008224542252719,0.012710810638964,-0.059441015124321,-0.015807330608368));
res += mul(Get(s3,-dx,0), float4x4(-0.030759386718273,-0.010809334926307,-0.004052957519889,-0.111678302288055,-0.117102526128292,-0.015560903586447,0.089071318507195,-0.341138988733292,-0.126997157931328,0.177208110690117,-0.102646984159946,0.013813798315823,0.048551306128502,0.146477386355400,-0.132050141692162,-0.087863437831402));
res += mul(Get(s3,-dx,dy), float4x4(-0.037822924554348,0.352764725685120,-0.019759148359299,0.016934342682362,-0.024644272401929,-0.034079127013683,0.090688802301884,-0.084243871271610,-0.133216932415962,0.004356531891972,-0.103577509522438,-0.158488899469376,0.102523006498814,0.043037034571171,-0.019152790307999,0.128366559743881));
res += mul(Get(s3,0,-dy), float4x4(-0.027594489976764,0.002505845390260,-0.033610444515944,-0.249258279800415,-0.327713251113892,0.351653277873993,-0.302506417036057,-0.041806437075138,0.063834808766842,-0.047143068164587,-0.115065760910511,-0.058581188321114,-0.028480743989348,0.037936467677355,-0.006330418866128,-0.045417632907629));
res += mul(Get(s3,0,0), float4x4(-0.034439917653799,-0.043877337127924,-0.024605328217149,0.005126733332872,-0.239753872156143,-0.092465952038765,-0.116599142551422,-0.154071316123009,-0.052295830100775,0.047489728778601,-0.087733425199986,0.075023174285889,0.002570624463260,0.092049919068813,-0.035343606024981,0.036499693989754));
res += mul(Get(s3,0,dy), float4x4(0.013855895027518,0.080949321389198,-0.016190167516470,0.135751679539680,0.005756923928857,-0.261507511138916,0.107888646423817,-0.130618616938591,-0.069993890821934,0.203634232282639,-0.130337342619896,-0.004941852297634,0.067616820335388,0.093434013426304,0.026133064180613,0.247962042689323));
res += mul(Get(s3,dx,-dy), float4x4(-0.084064215421677,-0.061303000897169,-0.104633592069149,-0.066412597894669,-0.130380988121033,-0.159975498914719,0.175782069563866,0.255570888519287,0.087217666208744,-0.356508344411850,-0.115559011697769,-0.164761602878571,-0.022426579147577,0.016030807048082,0.004571565892547,-0.002676472300664));
res += mul(Get(s3,dx,0), float4x4(-0.061581067740917,-0.044813644140959,-0.041558153927326,0.175814315676689,-0.153032124042511,0.427768468856812,-0.028690384700894,0.152890443801880,0.026135362684727,-0.109984122216702,-0.003463416360319,-0.181545719504356,-0.008556840009987,0.082911595702171,-0.027410874143243,0.020026220008731));
res += mul(Get(s3,dx,dy), float4x4(-0.042540136724710,-0.050505623221397,0.022984372451901,0.043581262230873,-0.090719208121300,0.139901265501976,0.147500678896904,-0.045001074671745,-0.000256865343545,0.142818108201027,-0.026649421080947,0.077182777225971,0.008734913542867,0.042324140667915,0.053103409707546,0.101035840809345));
return max(float4(0,0,0,0), res);
}
