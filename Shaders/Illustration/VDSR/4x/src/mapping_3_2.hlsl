sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.004793185275048,-0.155762165784836,-0.229141190648079,-0.076491460204124,-0.424045890569687,-0.078090794384480,-0.114504240453243,0.007414301857352,-0.038920558989048,-0.146451488137245,0.027472062036395,0.130156934261322,-0.443822205066681,-0.392272174358368,-0.090121194720268,-0.150806725025177));
res += mul(Get(s0,-dx,0), float4x4(-0.032907694578171,-0.017310194671154,-0.043824043124914,-0.076141640543938,-0.060510601848364,-0.138244405388832,0.158644467592239,-0.144712194800377,-0.119919255375862,-0.187720999121666,-0.026487521827221,0.051876001060009,-0.232083871960640,0.021365063264966,0.001186159672216,-0.201189205050468));
res += mul(Get(s0,-dx,dy), float4x4(-0.008085154928267,-0.074389494955540,0.001929500023834,-0.056709185242653,0.015451760962605,-0.354658722877502,0.090086072683334,-0.010242700576782,-0.185677513480186,-0.077710464596748,-0.245557501912117,0.263015627861023,-0.266692757606506,-0.025289863348007,0.030989000573754,-0.110159076750278));
res += mul(Get(s0,0,-dy), float4x4(0.024282706901431,-0.100039593875408,-0.106190808117390,-0.126378536224365,-0.197278499603271,-0.026341412216425,0.005834879819304,-0.016272572800517,-0.160944357514381,-0.029316890984774,-0.035811550915241,0.042496234178543,-0.363868534564972,-0.157157376408577,-0.058006435632706,-0.156245842576027));
res += mul(Get(s0,0,0), float4x4(0.002691288245842,-0.052237160503864,-0.064103312790394,-0.154893025755882,-0.182020127773285,0.086256340146065,-0.051516603678465,-0.092237554490566,-0.116140790283680,-0.078088827431202,-0.066846869885921,-0.026950594037771,-0.059083867818117,0.307162195444107,0.025195395573974,-0.123696506023407));
res += mul(Get(s0,0,dy), float4x4(0.005419476889074,-0.063479080796242,-0.025350723415613,-0.085604034364223,-0.077199757099152,-0.143686041235924,0.079374767839909,-0.048097237944603,0.074761211872101,-0.087873727083206,-0.435306251049042,-0.080955259501934,0.201628684997559,-0.218757674098015,0.230779841542244,-0.059013448655605));
res += mul(Get(s0,dx,-dy), float4x4(-0.004525072872639,-0.052846349775791,-0.156358793377876,-0.067891262471676,0.088029399514198,0.152668729424477,0.031657554209232,-0.065569780766964,-0.430741757154465,-0.107522919774055,0.143211498856544,-0.009153036400676,-0.062596812844276,-0.091443605720997,-0.128687500953674,0.206204548478127));
res += mul(Get(s0,dx,0), float4x4(0.050690844655037,-0.060993697494268,-0.019842065870762,-0.080814614892006,-0.130943089723587,0.000155924688443,0.079352691769600,-0.049091905355453,-0.465641349554062,-0.123094014823437,0.157291084527969,0.087684541940689,0.077842593193054,0.140041425824165,-0.187926247715950,0.039418727159500));
res += mul(Get(s0,dx,dy), float4x4(0.054000671952963,-0.091058574616909,-0.055068179965019,-0.060445953160524,-0.092063494026661,-0.152486056089401,-0.021054033190012,0.013431586325169,-0.136559590697289,-0.245707467198372,-0.102846503257751,0.158116966485977,0.134482428431511,-0.234648093581200,0.094640694558620,-0.163736671209335));
res += mul(Get(s1,-dx,-dy), float4x4(-0.031812157481909,-0.317929983139038,0.108458429574966,0.066156759858131,0.017820453271270,-0.024952029809356,0.088800549507141,0.183682560920715,-0.105035491287708,0.067244574427605,-0.219500929117203,-0.126060009002686,-0.007748239208013,0.256485462188721,-0.285269826650620,-0.055774554610252));
res += mul(Get(s1,-dx,0), float4x4(-0.093388214707375,-0.094963029026985,0.248690694570541,0.045183226466179,-0.003567205742002,-0.051512055099010,-0.082249954342842,0.059767648577690,-0.135790213942528,0.009857835248113,-0.127049937844276,-0.081188701093197,0.214056506752968,0.219211935997009,-0.201963216066360,0.091744638979435));
res += mul(Get(s1,-dx,dy), float4x4(-0.050656631588936,-0.029095038771629,-0.120690964162350,0.055236477404833,-0.020086349919438,-0.028479188680649,-0.056091923266649,-0.017683450132608,-0.137710720300674,-0.051378991454840,-0.287022590637207,-0.025115942582488,0.371238231658936,-0.236806347966194,-0.045852802693844,-0.096609160304070));
res += mul(Get(s1,0,-dy), float4x4(0.019258391112089,0.114409454166889,-0.027897410094738,-0.208075284957886,-0.049244012683630,-0.009000723250210,0.040292624384165,0.285309046506882,0.081722170114517,0.069743238389492,0.067124634981155,-0.049305498600006,-0.155374884605408,-0.155392363667488,-0.215502336621284,-0.020704785361886));
res += mul(Get(s1,0,0), float4x4(-0.024809297174215,-0.006494975183159,-0.035759288817644,-0.099625915288925,-0.025096233934164,-0.076749399304390,-0.003526232670993,0.094982460141182,-0.088661462068558,-0.290702760219574,-0.022226661443710,-0.095010340213776,0.238280355930328,-0.021935258060694,-0.141829639673233,0.028819136321545));
res += mul(Get(s1,0,dy), float4x4(-0.048024602234364,0.083355702459812,0.078185498714447,-0.045195057988167,0.012323686853051,-0.076613321900368,0.081695556640625,0.072953574359417,-0.092471696436405,-0.024989301338792,-0.235935226082802,-0.050323877483606,0.304961979389191,0.017747852951288,-0.380970329046249,-0.114847905933857));
res += mul(Get(s1,dx,-dy), float4x4(-0.126059696078300,0.127369195222855,0.077030777931213,-0.084465011954308,-0.144128620624542,0.146751388907433,-0.032713524997234,0.149890884757042,-0.213972225785255,-0.201214075088501,-0.023517562076449,0.034133791923523,-0.222638368606567,-0.000143929792102,-0.109166510403156,-0.182106867432594));
res += mul(Get(s1,dx,0), float4x4(-0.074585862457752,-0.010685359127820,-0.079182900488377,-0.016962915658951,-0.109322093427181,0.070769488811493,-0.182958424091339,0.017477311193943,-0.113760605454445,-0.214945659041405,-0.138784989714622,-0.082553811371326,0.071208290755749,0.049723051488400,-0.062444627285004,-0.101232558488846));
res += mul(Get(s1,dx,dy), float4x4(0.037315730005503,0.410744637250900,0.170725226402283,0.074575237929821,-0.094265416264534,0.120539717376232,0.141318708658218,-0.037280291318893,-0.023334981873631,-0.026747537776828,-0.144823610782623,-0.001258050207980,0.066510468721390,0.000945185951423,-0.181889981031418,-0.126060232520103));
res += mul(Get(s2,-dx,-dy), float4x4(-0.277218014001846,0.188677862286568,-0.122377298772335,0.146876260638237,-0.076017938554287,0.127697736024857,-0.077510289847851,0.185090854763985,-0.192902594804764,-0.134232118725777,-0.043737113475800,-0.282699733972549,-0.083198435604572,-0.056097920984030,0.075195379555225,-0.183433905243874));
res += mul(Get(s2,-dx,0), float4x4(-0.135917931795120,-0.075468957424164,-0.217510104179382,-0.162888452410698,-0.013864185661077,0.011154034174979,-0.026307303458452,-0.220695808529854,-0.044464968144894,-0.088265798985958,-0.138169184327126,-0.172879397869110,0.102905042469501,-0.010236535221338,0.060942891985178,0.135001540184021));
res += mul(Get(s2,-dx,dy), float4x4(0.024252545088530,-0.196902632713318,-0.051246706396341,0.069641806185246,0.218303143978119,-0.210033163428307,-0.090830996632576,0.002341901184991,-0.084758974611759,-0.153085976839066,-0.105632781982422,-0.703996419906616,0.217820569872856,-0.010086453519762,0.164363488554955,0.077793754637241));
res += mul(Get(s2,0,-dy), float4x4(-0.162151873111725,0.271591186523438,0.136534184217453,0.130169168114662,-0.117330178618431,-0.029479963704944,0.063698649406433,0.136232733726501,-0.056550551205873,-0.116576991975307,0.064180478453636,-0.277867406606674,0.097152926027775,0.017793139442801,0.048182856291533,-0.096137970685959));
res += mul(Get(s2,0,0), float4x4(0.044701933860779,0.097379893064499,0.017129397019744,-0.091307267546654,-0.003118290333077,0.136888682842255,0.048334784805775,-0.150039404630661,0.082512319087982,-0.021742690354586,-0.007285050116479,-0.204139634966850,0.251570910215378,-0.102257192134857,0.055811859667301,0.008730509318411));
res += mul(Get(s2,0,dy), float4x4(0.809053480625153,-0.020344734191895,0.212129339575768,0.088099464774132,0.170197889208794,0.158467963337898,0.011143031530082,-0.031288307160139,-0.053128216415644,-0.075874887406826,-0.127125903964043,-0.654704153537750,0.138798922300339,-0.114522404968739,0.042003758251667,-0.010938970372081));
res += mul(Get(s2,dx,-dy), float4x4(-0.390765011310577,0.064957953989506,-0.063570648431778,0.083225928246975,-0.178451895713806,0.031920786947012,-0.249491542577744,0.183054313063622,-0.228894457221031,-0.047102011740208,0.166045814752579,-0.020185401663184,0.045600842684507,0.056776992976665,0.125966116786003,-0.125330954790115));
res += mul(Get(s2,dx,0), float4x4(-0.295207738876343,-0.126302748918533,-0.088925763964653,-0.105505160987377,0.009488846175373,0.012868731282651,-0.118523187935352,-0.072855763137341,-0.072413563728333,0.023515479639173,-0.086929008364677,-0.052696131169796,0.090199232101440,-0.072644397616386,0.124828547239304,-0.173189550638199));
res += mul(Get(s2,dx,dy), float4x4(0.239323109388351,0.074767820537090,0.054731901735067,0.019047576934099,0.175377413630486,0.001402128837071,-0.078866772353649,-0.058054093271494,-0.041217934340239,-0.128333315253258,-0.247193679213524,-0.271237134933472,-0.110645189881325,0.069715470075607,-0.000905600143597,-0.224482446908951));
res += mul(Get(s3,-dx,-dy), float4x4(-0.031974397599697,-0.025047905743122,-0.198162704706192,-0.041697725653648,-0.104181475937366,-0.117541633546352,-0.087012037634850,0.016692744567990,-0.069453097879887,0.035698592662811,0.001552627421916,0.037958737462759,-0.023420678451657,-0.048145718872547,-0.058440342545509,-0.003682659240440));
res += mul(Get(s3,-dx,0), float4x4(-0.020115124061704,-0.047113366425037,-0.103370338678360,-0.081694573163986,-0.179028347134590,0.482725620269775,-0.055082529783249,0.025676552206278,-0.021948810666800,-0.095652259886265,-0.233462616801262,-0.033882774412632,-0.013540525920689,-0.030022885650396,-0.060600172728300,0.008770023472607));
res += mul(Get(s3,-dx,dy), float4x4(0.027303626760840,-0.000921453582123,-0.096337892115116,-0.111241169273853,0.270439475774765,0.249455407261848,-0.084375038743019,0.132085055112839,-0.029202897101641,-0.164662420749664,-0.135280281305313,0.002625424182042,0.023994687944651,0.009887681342661,0.005222816020250,-0.003078077454120));
res += mul(Get(s3,0,-dy), float4x4(0.017499500885606,-0.009215703234076,0.147379174828529,0.124513119459152,-0.076731599867344,-0.088710881769657,-0.122672617435455,-0.030240859836340,-0.048013020306826,-0.031227745115757,0.027656229212880,0.023704078048468,0.037117920815945,-0.066347002983093,-0.075461015105247,-0.143533274531364));
res += mul(Get(s3,0,0), float4x4(-0.041303623467684,-0.010927023366094,0.159305512905121,0.077232293784618,-0.174248874187469,0.114839985966682,0.002007785718888,0.013667227700353,-0.027508478611708,-0.156231790781021,0.086152218282223,-0.039131272584200,0.024123271927238,-0.044782474637032,-0.109328396618366,-0.084559455513954));
res += mul(Get(s3,0,dy), float4x4(-0.067226640880108,-0.020152436569333,0.011283977888525,-0.040086917579174,-0.103856138885021,-0.231101334095001,-0.155303537845612,0.112875014543533,-0.111239217221737,-0.061384465545416,-0.178569719195366,0.004418487194926,-0.014048215001822,-0.011677713133395,-0.068141914904118,-0.084305644035339));
res += mul(Get(s3,dx,-dy), float4x4(-0.154188707470894,-0.145951449871063,-0.089704021811485,0.155794858932495,0.011037872172892,0.096520446240902,0.059324774891138,0.062631763517857,-0.104344554245472,0.110801741480827,-0.088718757033348,0.017041254788637,-0.059760488569736,-0.148864686489105,0.084053076803684,0.063049808144569));
res += mul(Get(s3,dx,0), float4x4(-0.115688227117062,-0.120787262916565,0.033136513084173,0.040248133242130,-0.108668193221092,-0.038406945765018,0.074208922684193,0.021333074197173,-0.064991176128387,-0.089587710797787,0.267617821693420,0.057723533362150,-0.006109804380685,-0.092492423951626,-0.000837586936541,0.110869534313679));
res += mul(Get(s3,dx,dy), float4x4(-0.098746515810490,-0.227601677179337,0.008524500764906,0.041624870151281,-0.211803957819939,-0.189896866679192,-0.085959203541279,0.011879418976605,-0.177848607301712,0.039088342338800,-0.008095039986074,0.201034560799599,-0.027447085827589,-0.063340187072754,0.096495822072029,0.054620761424303));
return max(float4(0,0,0,0), res);
}
