sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.118637956678867,-0.030072450637817,-0.060830932110548,-0.164614289999008,-0.056249860674143,0.416052162647247,0.025553984567523,0.010909561067820,-0.137852266430855,-0.057371452450752,-0.048523981124163,0.311895519495010,-0.006923610810190,-0.034732095897198,-0.035258334130049,-0.208365693688393));
res += mul(Get(s0,-dx,0), float4x4(0.100522622466087,-0.054970197379589,-0.098806135356426,-0.225630253553391,0.123114593327045,0.041790362447500,0.026548536494374,0.003041856456548,-0.000677832518704,-0.032681379467249,-0.082607209682465,0.197986736893654,-0.100915960967541,0.068094395101070,0.078629761934280,-0.129388302564621));
res += mul(Get(s0,-dx,dy), float4x4(-0.017106678336859,-0.056090917438269,-0.129763007164001,-0.322079509496689,0.099179998040199,-0.035230413079262,-0.003083311021328,-0.131950885057449,0.289340168237686,-0.079745851457119,-0.152903497219086,-0.052632439881563,-0.106941856443882,0.106151469051838,0.094493769109249,-0.111882358789444));
res += mul(Get(s0,0,-dy), float4x4(-0.152449324727058,-0.076693341135979,0.021283881738782,-0.100137576460838,-0.039513941854239,-0.087812177836895,-0.123237222433090,-0.055208381265402,-0.147893518209457,0.248681545257568,0.021950088441372,0.347762554883957,-0.031587500125170,-0.158903807401657,0.152233287692070,-0.063753284513950));
res += mul(Get(s0,0,0), float4x4(0.073193415999413,0.009861418977380,0.027507172897458,-0.181993499398232,-0.027130346745253,0.172808796167374,-0.108113206923008,-0.056686460971832,-0.078518003225327,0.073169209063053,0.003056482644752,0.148958429694176,-0.064865186810493,-0.083127513527870,0.009143269620836,-0.041023723781109));
res += mul(Get(s0,0,dy), float4x4(0.039963655173779,-0.114040039479733,-0.092172667384148,-0.204616755247116,-0.191630020737648,-0.104453526437283,-0.042248219251633,-0.065155357122421,-0.080085039138794,0.136373847723007,-0.129184812307358,0.387669354677200,-0.147825464606285,-0.076575383543968,0.073278404772282,0.033277574926615));
res += mul(Get(s0,dx,-dy), float4x4(-0.174573361873627,0.037498418241739,-0.107747606933117,-0.029231101274490,-0.071517810225487,-0.044017519801855,-0.043268732726574,-0.135359093546867,0.036246638745070,0.036079656332731,-0.293827533721924,0.075356625020504,0.065836161375046,-0.117105670273304,0.003761761588976,-0.066564582288265));
res += mul(Get(s0,dx,0), float4x4(-0.061078786849976,0.079391837120056,-0.136532470583916,0.022115703672171,-0.109253518283367,-0.238880679011345,-0.086957931518555,-0.187121257185936,0.096266254782677,-0.053897019475698,-0.186246052384377,0.073864586651325,-0.124489091336727,-0.134875506162643,0.046900898218155,-0.041202567517757));
res += mul(Get(s0,dx,dy), float4x4(0.299133092164993,-0.038152687251568,-0.193758994340897,0.305684804916382,-0.269039005041122,-0.427739500999451,-0.220791831612587,-0.305528491735458,-0.043946724385023,-0.098389215767384,-0.006978649646044,0.060059789568186,-0.103527799248695,-0.063421040773392,0.077636174857616,0.045207645744085));
res += mul(Get(s1,-dx,-dy), float4x4(0.156660273671150,-0.073946207761765,0.095082826912403,0.105286642909050,0.049639683216810,-0.038154158741236,0.099277883768082,-0.048255637288094,0.106655173003674,-0.005367053672671,-0.095648407936096,-0.286865383386612,0.167581617832184,0.061569742858410,0.012307967990637,0.072082996368408));
res += mul(Get(s1,-dx,0), float4x4(0.151740089058876,-0.025784749537706,-0.064649231731892,0.069000989198685,0.075465455651283,0.017775442451239,0.044672507792711,0.175585001707077,-0.056066721677780,-0.066426523029804,-0.114904217422009,-0.308163106441498,-0.015079478733242,0.189954087138176,0.265860468149185,0.028753178194165));
res += mul(Get(s1,-dx,dy), float4x4(0.271639794111252,-0.089465022087097,-0.132995828986168,0.088100649416447,0.201512396335602,0.021092286333442,0.066681779921055,0.074307575821877,-0.218378335237503,0.260459780693054,-0.198741883039474,-0.178194493055344,-0.148773878812790,0.045410241931677,0.100888684391975,-0.059694860130548));
res += mul(Get(s1,0,-dy), float4x4(-0.168207600712776,-0.096928127110004,-0.067358396947384,-0.001273658359423,0.036913000047207,0.183322757482529,0.149414896965027,0.145983502268791,-0.069128036499023,-0.041126891970634,-0.003282068297267,-0.256226301193237,0.086260162293911,-0.022780150175095,0.063958123326302,-0.000376510608476));
res += mul(Get(s1,0,0), float4x4(-0.065430514514446,-0.082942858338356,-0.021413372829556,-0.223184615373611,-0.017350289970636,0.191427811980247,0.249505624175072,0.131587788462639,0.012452252209187,-0.077168479561806,-0.055673185735941,-0.154492780566216,-0.132243335247040,0.194535210728645,0.102954067289829,0.028199573978782));
res += mul(Get(s1,0,dy), float4x4(-0.006134693045169,-0.022730885073543,-0.031248910352588,-0.142953470349312,0.077563643455505,0.039882861077785,0.127638742327690,0.212501749396324,-0.053043607622385,-0.135807752609253,-0.017922971397638,0.144866570830345,-0.051396030932665,0.056872025132179,0.238477334380150,-0.051820348948240));
res += mul(Get(s1,dx,-dy), float4x4(0.387006044387817,0.044618856161833,-0.174667716026306,0.118924483656883,0.135129913687706,0.124769568443298,-0.248340815305710,0.075371377170086,-0.239865258336067,0.021486362442374,-0.290211200714111,0.316505551338196,-0.063593246042728,0.050790060311556,0.092488907277584,0.006818878464401));
res += mul(Get(s1,dx,0), float4x4(0.292153567075729,-0.168347477912903,-0.174213126301765,0.073982343077660,-0.073127582669258,0.006736682727933,0.000989536754787,0.187580183148384,-0.139488846063614,0.011827687732875,-0.204626515507698,-0.000099259261333,-0.159317433834076,0.057455755770206,0.298773288726807,-0.040411803871393));
res += mul(Get(s1,dx,dy), float4x4(0.091957353055477,-0.402058839797974,-0.350130587816238,0.100684039294720,0.101970292627811,-0.054203838109970,0.047322887927294,0.189076513051987,0.072893247008324,-0.055620517581701,-0.171009808778763,-0.057035848498344,-0.084697209298611,-0.087021686136723,0.041739348322153,-0.013755596242845));
res += mul(Get(s2,-dx,-dy), float4x4(0.012257207185030,0.068912997841835,0.065525732934475,-0.117385774850845,-0.109248653054237,0.011524359695613,-0.016968859359622,-0.146164551377296,-0.020787945017219,-0.038825035095215,0.119170263409615,-0.002217448083684,-0.092796914279461,-0.117025218904018,0.014640621840954,-0.190102115273476));
res += mul(Get(s2,-dx,0), float4x4(0.074774019420147,-0.119128018617630,0.145289584994316,-0.167231395840645,-0.100167863070965,0.089019745588303,0.109995074570179,-0.161302328109741,0.014020955190063,0.115324378013611,0.148348703980446,0.034216709434986,-0.072627782821655,0.465433984994888,-0.052220668643713,-0.154580980539322));
res += mul(Get(s2,-dx,dy), float4x4(0.347123831510544,-0.141386941075325,0.010789335705340,-0.306084036827087,-0.006396662909538,0.128686144948006,0.060279339551926,-0.170025542378426,0.070752978324890,0.067836560308933,0.157488003373146,0.141297534108162,-0.027942072600126,0.104165554046631,-0.178755611181259,-0.073447540402412));
res += mul(Get(s2,0,-dy), float4x4(-0.039979517459869,0.061725225299597,0.325982362031937,-0.162724226713181,-0.088731534779072,-0.005077532026917,-0.073341883718967,0.189901769161224,-0.250958830118179,-0.050051558762789,0.005759954452515,0.011320371180773,-0.076413817703724,-0.098585464060307,-0.001182885142043,0.337050586938858));
res += mul(Get(s2,0,0), float4x4(-0.216673538088799,-0.126195341348648,0.047137208282948,0.010734159499407,-0.006664616055787,-0.075333386659622,0.252217143774033,0.115816280245781,0.025661349296570,-0.091646879911423,-0.021859349682927,0.078355811536312,0.007219596765935,0.144706144928932,0.152435615658760,0.326379477977753));
res += mul(Get(s2,0,dy), float4x4(0.350754618644714,-0.053217701613903,-0.052817609161139,0.062618575990200,-0.011513384059072,0.085877656936646,0.005372297950089,0.081526905298233,0.078194305300713,0.194771289825439,-0.026956949383020,0.133187130093575,-0.025042705237865,0.081731840968132,0.070533052086830,0.112117566168308));
res += mul(Get(s2,dx,-dy), float4x4(-0.063739947974682,-0.015890765935183,-0.348997831344604,-0.135360062122345,-0.174373090267181,0.015328043140471,-0.087203145027161,0.103887848556042,-0.011901051737368,-0.009224164299667,-0.258263826370239,0.099146626889706,-0.093671970069408,-0.277552038431168,-0.249164491891861,0.003743309527636));
res += mul(Get(s2,dx,0), float4x4(-0.124236658215523,-0.077403441071510,-0.313259810209274,0.044803474098444,-0.113031946122646,-0.117127507925034,0.163159236311913,0.059442616999149,0.230960667133331,0.423584610223770,-0.223077237606049,0.159879431128502,-0.133968576788902,0.011927460320294,-0.118061631917953,-0.100322291254997));
res += mul(Get(s2,dx,dy), float4x4(-0.041807271540165,-0.047868054360151,-0.310627937316895,0.017306482419372,-0.033547401428223,0.071483545005322,0.015584993176162,0.223227962851524,0.018748855218291,-0.234222397208214,-0.224375769495964,-0.022592402994633,0.024557001888752,0.088724292814732,-0.121121518313885,-0.145172551274300));
res += mul(Get(s3,-dx,-dy), float4x4(-0.055500116199255,0.482618153095245,0.184473767876625,-0.328736692667007,0.178865879774094,-0.061712849885225,0.143404424190521,-0.204736486077309,-0.095768034458160,-0.208278179168701,-0.071424409747124,0.120103016495705,0.042251590639353,-0.000685786479153,-0.159001871943474,0.216566652059555));
res += mul(Get(s3,-dx,0), float4x4(-0.118203394114971,-0.091394536197186,0.124109625816345,-0.257896035909653,0.233539208769798,-0.058629751205444,-0.137454807758331,-0.180298700928688,-0.008416692726314,0.158504039049149,-0.062526769936085,-0.166606023907661,-0.014975382946432,0.245472624897957,-0.079987026751041,0.437745720148087));
res += mul(Get(s3,-dx,dy), float4x4(-0.056732282042503,-0.003931041806936,0.262798994779587,-0.119631774723530,-0.073809176683426,-0.188407301902771,0.208107665181160,-0.158338651061058,0.194563075900078,-0.073659136891365,-0.051626875996590,-0.156006351113319,0.266848981380463,-0.256988286972046,-0.075739026069641,0.308568060398102));
res += mul(Get(s3,0,-dy), float4x4(-0.020370591431856,0.029796445742249,0.116538636386395,-0.215300545096397,0.114793464541435,-0.046001750975847,0.053196076303720,-0.072978034615517,-0.162397727370262,-0.022352077066898,0.032717507332563,-0.117885462939739,0.036160506308079,0.293588936328888,0.059110060334206,0.186433836817741));
res += mul(Get(s3,0,0), float4x4(0.137216359376907,-0.051302142441273,-0.146364092826843,-0.193980917334557,0.110995769500732,-0.110098645091057,-0.057225011289120,-0.012220972217619,-0.160957604646683,0.058041173964739,0.099336132407188,-0.094969943165779,-0.092707425355911,0.362016826868057,-0.013982761651278,-0.000017982740246));
res += mul(Get(s3,0,dy), float4x4(0.186750143766403,-0.140010461211205,-0.198459357023239,-0.005283857230097,0.040694743394852,-0.059142667800188,-0.081746570765972,0.037135362625122,0.188124716281891,0.114021025598049,0.050421401858330,0.013687431812286,0.136611238121986,-0.002793036401272,0.337476134300232,-0.082345195114613));
res += mul(Get(s3,dx,-dy), float4x4(-0.013532990589738,-0.043655052781105,0.510465681552887,-0.073612466454506,0.135860055685043,-0.101786263287067,0.048050001263618,-0.145667776465416,-0.130786016583443,-0.134608805179596,-0.242436155676842,0.177350655198097,-0.337996602058411,-0.222797051072121,0.050034608691931,-0.184362947940826));
res += mul(Get(s3,dx,0), float4x4(-0.028134984895587,0.091352149844170,-0.218666136264801,0.032837197184563,-0.135941714048386,-0.039949480444193,-0.062417712062597,0.107814237475395,-0.087600223720074,-0.005206946749240,-0.083673648536205,0.003827722743154,-0.110266357660294,0.023974671959877,0.344512730836868,-0.145747482776642));
res += mul(Get(s3,dx,dy), float4x4(0.290427416563034,0.005860428325832,0.181718036532402,0.009287731721997,-0.004306103568524,-0.041237775236368,0.100485466420650,-0.023459428921342,0.188039213418961,0.027073683217168,0.032245408743620,0.127402186393738,0.219436049461365,-0.277473360300064,0.061149779707193,-0.060553461313248));
return max(float4(0,0,0,0), res);
}
