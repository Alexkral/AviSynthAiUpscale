sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.098204277455807,0.169715180993080,-0.041121277958155,0.013724574819207,-0.072850026190281,0.012506891041994,-0.037819862365723,0.023818997666240,0.080027908086777,-0.097484126687050,0.013026607222855,0.034931980073452,0.091841369867325,-0.093401297926903,0.006483417004347,0.038589883595705));
res += mul(Get(s0,-dx,0), float4x4(0.214723408222198,0.159686714410782,0.057602033019066,0.031830158084631,-0.028599688783288,0.112751528620720,-0.114157021045685,0.008778647519648,0.076809130609035,-0.079274177551270,0.092368952929974,-0.016404043883085,0.063613876700401,0.037707783281803,-0.203755363821983,0.143560081720352));
res += mul(Get(s0,-dx,dy), float4x4(-0.083471730351448,-0.049931976944208,-0.089757047593594,-0.033494934439659,-0.013289646245539,0.041194085031748,-0.045001901686192,0.193098768591881,-0.086305059492588,0.003947837743908,-0.010208372958004,0.156984001398087,0.103375211358070,0.043966926634312,0.122568979859352,0.010998965241015));
res += mul(Get(s0,0,-dy), float4x4(-0.063168808817863,0.022427501156926,0.146924659609795,-0.023647360503674,-0.164504855871201,0.174123048782349,0.041365019977093,0.123055063188076,-0.088354095816612,0.032840602099895,-0.228105172514915,0.000783210678492,0.029604479670525,0.113700173795223,-0.080786660313606,0.140966281294823));
res += mul(Get(s0,0,0), float4x4(-0.146434053778648,0.039278548210859,0.030755104497075,-0.068353064358234,0.107949160039425,-0.057883918285370,0.060061100870371,-0.041496351361275,-0.084573924541473,0.010984119959176,0.173206329345703,0.077216163277626,0.048202756792307,-0.030685370787978,-0.096859298646450,-0.189374700188637));
res += mul(Get(s0,0,dy), float4x4(0.219204530119896,0.010431708768010,-0.105761177837849,-0.228124231100082,0.090389274060726,0.236746832728386,0.149210155010223,-0.204106956720352,0.099465563893318,-0.125476866960526,-0.092700108885765,-0.053785778582096,0.259711205959320,-0.139859542250633,0.012844600714743,0.197580099105835));
res += mul(Get(s0,dx,-dy), float4x4(-0.067947790026665,-0.077617242932320,0.090427264571190,-0.113830327987671,0.186626225709915,-0.215012252330780,-0.231356069445610,0.112531490623951,-0.143174096941948,0.141720667481422,0.043200954794884,-0.221955388784409,-0.221029490232468,0.089918769896030,-0.010319058783352,-0.076952867209911));
res += mul(Get(s0,dx,0), float4x4(-0.022620579227805,0.049112342298031,0.050403919070959,-0.073179185390472,-0.168130055069923,-0.018845902755857,-0.111991129815578,0.060487840324640,-0.239600852131844,0.061696015298367,-0.159889638423920,-0.185285374522209,0.101920239627361,0.062299083918333,0.223520576953888,0.046734284609556));
res += mul(Get(s0,dx,dy), float4x4(0.092982158064842,-0.066419497132301,-0.152350530028343,0.038889039307833,-0.083178862929344,0.139491230249405,0.128251031041145,0.082450807094574,-0.246586501598358,-0.006286539603025,0.071694120764732,-0.129139870405197,0.033752229064703,0.127508759498596,-0.229647532105446,-0.050676982849836));
res += mul(Get(s1,-dx,-dy), float4x4(0.139555066823959,0.131120309233665,0.096905633807182,0.110289968550205,0.113607883453369,-0.091916300356388,-0.116785034537315,0.098657697439194,-0.026422919705510,-0.064544513821602,0.141843125224113,0.031297840178013,-0.029616245999932,-0.237543106079102,-0.285293430089951,0.165444791316986));
res += mul(Get(s1,-dx,0), float4x4(-0.042710963636637,-0.013423824682832,-0.084982924163342,0.035085897892714,-0.097350992262363,-0.157086685299873,0.027037797495723,-0.097495824098587,-0.015870943665504,0.060429099947214,-0.096834085881710,0.266657471656799,0.274435132741928,-0.326604366302490,-0.151483744382858,-0.001319066504948));
res += mul(Get(s1,-dx,dy), float4x4(0.128978073596954,-0.114516533911228,0.262263715267181,0.009071829728782,0.134452611207962,-0.148160845041275,-0.045682035386562,0.105041146278381,-0.020302109420300,0.039941232651472,0.017526933923364,0.055493537336588,0.134487107396126,-0.161319196224213,0.058371938765049,0.082038663327694));
res += mul(Get(s1,0,-dy), float4x4(-0.071149580180645,0.074712336063385,0.021732922643423,0.221633702516556,-0.201332449913025,0.158257976174355,0.009318410418928,0.151145502924919,0.087489418685436,0.010048394091427,0.033096570521593,0.037011515349150,0.039436064660549,-0.004755430389196,0.069007061421871,-0.119493171572685));
res += mul(Get(s1,0,0), float4x4(0.196015164256096,-0.094366692006588,0.225065618753433,-0.244849160313606,0.029804360121489,-0.227364644408226,0.151224896311760,-0.011834348551929,-0.174749672412872,0.060795836150646,0.002053609816357,0.199207454919815,-0.058441109955311,-0.248152568936348,-0.064976632595062,0.037456903606653));
res += mul(Get(s1,0,dy), float4x4(-0.012254996225238,-0.062658630311489,-0.066601112484932,-0.149242788553238,-0.027765883132815,0.048499118536711,-0.093613453209400,-0.104895584285259,0.078131653368473,0.039640728384256,-0.006986802909523,-0.009396351873875,-0.123970150947571,0.030967565253377,0.100747041404247,-0.220336928963661));
res += mul(Get(s1,dx,-dy), float4x4(0.082080192863941,0.003042859025300,-0.040146656334400,-0.080434195697308,-0.021187823265791,0.187559679150581,0.085425883531570,-0.071164287626743,-0.004018889274448,0.115514792501926,0.089674517512321,-0.152800798416138,0.285950601100922,-0.102021709084511,-0.178323104977608,0.034441694617271));
res += mul(Get(s1,dx,0), float4x4(0.173977047204971,-0.111466109752655,-0.064700141549110,0.122119687497616,-0.023206200450659,-0.127710565924644,-0.038288790732622,-0.106353379786015,0.022839263081551,0.117313623428345,0.072755493223667,-0.050398226827383,0.050638150423765,-0.034823536872864,-0.196455568075180,-0.005597178824246));
res += mul(Get(s1,dx,dy), float4x4(0.086752161383629,-0.059013158082962,0.088606037199497,-0.202803507447243,-0.043335262686014,-0.136163666844368,-0.003874784102663,-0.182033777236938,-0.036129839718342,0.096823982894421,0.129213497042656,0.040815688669682,-0.094301879405975,-0.066636897623539,-0.010088274255395,-0.271789431571960));
res += mul(Get(s2,-dx,-dy), float4x4(-0.136302351951599,0.091860756278038,0.028784720227122,-0.074407912790775,-0.162682816386223,0.076403789222240,0.141490176320076,-0.021015945822001,-0.042383715510368,-0.233025938272476,0.122574031352997,0.054002299904823,-0.171804115176201,-0.249536767601967,-0.244126677513123,-0.103229850530624));
res += mul(Get(s2,-dx,0), float4x4(0.075120933353901,0.188980117440224,0.006214901804924,-0.039377506822348,-0.022221175953746,0.039983585476875,0.027900323271751,0.042857639491558,0.002381604630500,0.166283726692200,0.392817348241806,0.019386306405067,0.039365801960230,-0.059929661452770,0.008879112079740,0.031604591757059));
res += mul(Get(s2,-dx,dy), float4x4(-0.092741645872593,0.035556323826313,0.113833270967007,0.115192696452141,-0.145371645689011,-0.033010885119438,0.050728324800730,0.100252732634544,-0.006940641906112,0.019062351435423,0.198105514049530,0.055323306471109,-0.022607896476984,0.054101511836052,0.037400767207146,0.100570201873779));
res += mul(Get(s2,0,-dy), float4x4(0.116764314472675,-0.021332565695047,0.112459644675255,-0.060480173677206,-0.107545316219330,0.030341904610395,-0.130076304078102,-0.038920395076275,-0.035747196525335,-0.104048714041710,0.137429997324944,0.156269446015358,0.041657857596874,-0.121848039329052,0.056292675435543,-0.016600590199232));
res += mul(Get(s2,0,0), float4x4(0.067535355687141,0.024119475856423,0.147403821349144,0.269115000963211,0.091224983334541,-0.073462828993797,-0.181337907910347,0.055446255952120,-0.002428106032312,0.107715770602226,0.197904691100121,-0.023738846182823,0.037310089915991,0.034210655838251,-0.068412765860558,-0.147525191307068));
res += mul(Get(s2,0,dy), float4x4(-0.053095046430826,-0.145716056227684,0.143125116825104,-0.090278722345829,-0.061636734753847,0.191708043217659,-0.033228710293770,-0.190698266029358,-0.133838802576065,0.055885192006826,-0.092147238552570,-0.004800430033356,0.211139470338821,0.343716442584991,-0.144379600882530,0.047112837433815));
res += mul(Get(s2,dx,-dy), float4x4(0.082602977752686,0.132889419794083,0.077113538980484,0.093639060854912,0.084910631179810,0.088624350726604,-0.185478344559669,0.065030902624130,0.135374516248703,0.070108659565449,0.090816594660282,0.113717339932919,-0.035892333835363,-0.341385573148727,0.058466449379921,0.079305566847324));
res += mul(Get(s2,dx,0), float4x4(-0.279897630214691,0.091403968632221,0.226778715848923,-0.096177980303764,0.111322790384293,0.080144688487053,0.003084874944761,-0.135620638728142,-0.064936906099319,-0.098742939531803,-0.097694166004658,-0.032042074948549,-0.073586449027061,0.061436001211405,0.111665353178978,-0.022266769781709));
res += mul(Get(s2,dx,dy), float4x4(-0.136350303888321,0.137761473655701,0.038118887692690,-0.202946737408638,0.213223382830620,-0.004854132421315,-0.036957353353500,-0.058123845607042,0.091452769935131,0.036521442234516,0.004608438815922,-0.092863462865353,0.029656613245606,-0.049413152039051,-0.070496685802937,-0.113413386046886));
res += mul(Get(s3,-dx,-dy), float4x4(0.112312391400337,-0.030595559626818,-0.095770046114922,0.037288252264261,-0.002929170615971,-0.049271907657385,0.164540678262711,0.010507163591683,-0.149629890918732,-0.117177106440067,-0.086708262562752,0.091989241540432,-0.005195415113121,0.013289398513734,0.068268738687038,0.042845513671637));
res += mul(Get(s3,-dx,0), float4x4(-0.025950375944376,-0.054960306733847,-0.117972768843174,-0.104826487600803,-0.090622603893280,0.073071911931038,-0.446004539728165,0.017298737540841,0.095886319875717,0.165965721011162,-0.043089948594570,-0.177816331386566,-0.242748841643333,-0.016748081892729,0.097447521984577,-0.159221768379211));
res += mul(Get(s3,-dx,dy), float4x4(-0.043000083416700,-0.006859675515443,-0.083517655730247,-0.087577417492867,-0.123917922377586,0.056451320648193,-0.075274340808392,0.050178252160549,-0.112164191901684,0.129868850111961,0.083139322698116,0.065607607364655,0.097752675414085,-0.055612701922655,-0.137709349393845,0.019996268674731));
res += mul(Get(s3,0,-dy), float4x4(-0.015984036028385,-0.094702132046223,0.043017826974392,0.093318819999695,-0.128637328743935,-0.180229857563972,0.123272068798542,0.125753656029701,-0.019642854109406,-0.028702972456813,0.113989509642124,-0.047600612044334,0.022206472232938,-0.134896606206894,0.126456469297409,-0.083762042224407));
res += mul(Get(s3,0,0), float4x4(-0.067919924855232,0.083417043089867,-0.157406374812126,0.080344915390015,-0.013344813138247,0.273618996143341,-0.137995213270187,0.011843705549836,-0.299742370843887,0.081627197563648,0.221089169383049,-0.011468272656202,-0.098949246108532,-0.024605913087726,0.006154949776828,0.134061500430107));
res += mul(Get(s3,0,dy), float4x4(-0.118665672838688,0.204470872879028,0.097339645028114,-0.191643491387367,0.023750115185976,0.005482132546604,-0.060921363532543,-0.041567321866751,-0.005838710349053,0.077785633504391,0.128226220607758,-0.020829349756241,-0.217927098274231,0.005862592253834,-0.174356624484062,0.112424701452255));
res += mul(Get(s3,dx,-dy), float4x4(-0.139217093586922,0.089197486639023,-0.113218873739243,-0.001555919530801,-0.252579331398010,-0.187110707163811,0.172176733613014,-0.336861252784729,-0.158608108758926,-0.004895248916000,-0.033401176333427,-0.204661175608635,-0.309874653816223,-0.246591359376907,0.250088930130005,-0.031316153705120));
res += mul(Get(s3,dx,0), float4x4(0.122920878231525,0.122972674667835,0.023747920989990,0.167958348989487,-0.137498259544373,0.159853041172028,-0.087022729218006,-0.060025572776794,-0.177491039037704,0.189502418041229,-0.109542094171047,-0.059929806739092,-0.065372295677662,-0.098194807767868,-0.002767558442429,-0.175393819808960));
res += mul(Get(s3,dx,dy), float4x4(-0.147580638527870,0.160143256187439,-0.008188201114535,0.088275626301765,0.037745196372271,0.013212059624493,-0.057026430964470,0.051622886210680,-0.081041738390923,0.067362338304520,0.001325630000792,0.042725984007120,0.011226762086153,0.125325366854668,0.114078111946583,-0.013244291767478));
return max(float4(0,0,0,0), res);
}
