sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.001177886733785,-0.015713836997747,0.051982283592224,-0.132858663797379,0.024049565196037,-0.064519375562668,-0.066988140344620,0.057036209851503,0.047819331288338,-0.225927799940109,0.001092614606023,-0.171337425708771,-0.083199836313725,-0.191821500658989,0.141753107309341,-0.110420763492584));
res += mul(Get(s0,-dx,0), float4x4(-0.026353850960732,0.111025899648666,-0.099027916789055,-0.097400128841400,0.018148416653275,0.238877490162849,0.016086917370558,0.189495816826820,-0.009496224112809,-0.126378476619720,0.030313858762383,-0.221731349825859,-0.100662432610989,-0.210544034838676,0.182670518755913,-0.082050777971745));
res += mul(Get(s0,-dx,dy), float4x4(-0.195283308625221,-0.041085671633482,-0.056680981069803,-0.068184122443199,-0.083057038486004,-0.073594816029072,0.088498942553997,0.027773002162576,-0.014079796150327,0.011736944317818,-0.189296156167984,-0.158486962318420,-0.021322799846530,-0.171724617481232,-0.139112815260887,-0.095279663801193));
res += mul(Get(s0,0,-dy), float4x4(-0.048052538186312,-0.107959680259228,0.023158770054579,-0.020470129325986,-0.001510385889560,0.013878567144275,-0.086408600211143,0.045939628034830,-0.028287496417761,-0.142782896757126,-0.007374341133982,-0.034351758658886,0.031766992062330,-0.261170119047165,0.042681939899921,-0.006615059915930));
res += mul(Get(s0,0,0), float4x4(-0.048177707940340,0.166166231036186,-0.093014687299728,-0.041409589350224,0.157416626811028,-0.032091837376356,-0.184771135449409,0.229159101843834,0.020981170237064,-0.087377488613129,-0.029902879148722,-0.016671206802130,0.142190963029861,-0.113190270960331,0.153180524706841,-0.153250351548195));
res += mul(Get(s0,0,dy), float4x4(-0.061076905578375,-0.002244752831757,-0.051373418420553,-0.053436137735844,-0.083423681557178,-0.008712370879948,-0.007190263830125,0.095975086092949,-0.049180027097464,0.009256685152650,-0.067037925124168,-0.074914231896400,0.043601337820292,-0.136592060327530,0.068098917603493,-0.011178176850080));
res += mul(Get(s0,dx,-dy), float4x4(0.046413220465183,-0.051354836672544,0.329924106597900,0.058992166072130,0.077311769127846,0.085295200347900,0.512739479541779,-0.171854481101036,-0.149397447705269,-0.056311488151550,0.088265582919121,0.072726868093014,-0.151501744985580,0.191159874200821,0.008685165084898,0.103291384875774));
res += mul(Get(s0,dx,0), float4x4(0.041824080049992,0.224555402994156,0.028050577268004,0.018907178193331,0.011468996293843,0.064632438123226,-0.041446574032307,-0.003072600811720,-0.119754210114479,-0.076127640902996,0.285854935646057,0.031709421426058,0.052660357207060,0.015308178961277,-0.102007471024990,0.029381323605776));
res += mul(Get(s0,dx,dy), float4x4(0.024180833250284,0.021375481039286,-0.014545126818120,0.041417032480240,0.028604008257389,-0.074838370084763,0.005928411614150,-0.004388830158859,-0.152039736509323,0.035556506365538,0.084600158035755,-0.018005421385169,0.155454352498055,-0.055857274681330,0.065421454608440,0.196419104933739));
res += mul(Get(s1,-dx,-dy), float4x4(-0.080458924174309,0.172816500067711,-0.209387674927711,-0.003342862473801,-0.145357415080070,0.276144593954086,-0.160273954272270,-0.166463911533356,0.107468120753765,-0.086709454655647,-0.101236775517464,-0.088844835758209,0.099825739860535,-0.147827088832855,0.201909735798836,-0.144686982035637));
res += mul(Get(s1,-dx,0), float4x4(-0.137798979878426,0.244437783956528,-0.087267614901066,0.058461200445890,0.018170151859522,-0.150904357433319,-0.074739269912243,-0.084598243236542,0.233999580144882,-0.141144052147865,-0.134019121527672,-0.114970482885838,0.110200732946396,-0.174442008137703,0.132465258240700,-0.071120642125607));
res += mul(Get(s1,-dx,dy), float4x4(0.007078694645315,0.140917375683784,-0.028319761157036,-0.108395561575890,0.051962830126286,-0.042129829525948,-0.028020380064845,0.093807660043240,0.303321301937103,-0.134924858808517,-0.059646856039762,0.017750602215528,-0.144284844398499,-0.100283607840538,-0.037503659725189,0.069762371480465));
res += mul(Get(s1,0,-dy), float4x4(0.150149568915367,0.222859337925911,0.102132417261600,-0.011482837609947,-0.314037770032883,-0.137223169207573,0.143131539225578,-0.020270157605410,0.092421852052212,0.039654675871134,0.079830355942249,-0.023574978113174,-0.041802391409874,-0.146000191569328,0.062507703900337,0.051997840404510));
res += mul(Get(s1,0,0), float4x4(-0.112676836550236,-0.351722806692123,-0.126739948987961,0.041506897658110,-0.230190098285675,-0.222318008542061,-0.171843111515045,0.048590373247862,0.024392422288656,0.064260952174664,0.027808103710413,0.135165750980377,-0.050962377339602,-0.213547602295876,-0.003111556405202,0.030258428305387));
res += mul(Get(s1,0,dy), float4x4(0.022916790097952,-0.149907693266869,-0.134408563375473,0.066266186535358,0.007648741826415,0.026690619066358,-0.072809197008610,-0.154897704720497,0.167861655354500,-0.012447302229702,0.019774785265326,0.106087140738964,0.037326276302338,-0.194517150521278,-0.130232051014900,0.236678034067154));
res += mul(Get(s1,dx,-dy), float4x4(0.065547235310078,0.053795218467712,-0.137291386723518,-0.097051672637463,0.084984935820103,-0.149819612503052,0.411062687635422,-0.171799272298813,-0.018826495856047,0.161883100867271,0.004205227363855,-0.073995411396027,0.027283241972327,-0.128546103835106,0.024529380723834,0.150880336761475));
res += mul(Get(s1,dx,0), float4x4(0.060034316033125,0.032026555389166,-0.167005732655525,-0.113442257046700,0.236037909984589,-0.129844695329666,0.061638385057449,-0.074582770466805,-0.114705450832844,0.017002336680889,0.086109049618244,-0.017241138964891,-0.051843721419573,-0.140664488077164,-0.011123001575470,0.272154003381729));
res += mul(Get(s1,dx,dy), float4x4(0.418408811092377,-0.174525782465935,-0.104555539786816,-0.051674984395504,0.001820145640522,-0.114083498716354,-0.107382416725159,0.106008164584637,0.134475931525230,0.075459644198418,0.091857962310314,0.040946833789349,0.066452011466026,0.067232362926006,-0.209852904081345,0.221720620989799));
res += mul(Get(s2,-dx,-dy), float4x4(0.074849188327789,-0.021966628730297,0.027095502242446,0.120329633355141,-0.200199067592621,-0.114390365779400,0.138139277696609,-0.181398019194603,0.090329743921757,-0.107895210385323,-0.028058135882020,-0.141486063599586,0.015830662101507,0.006585410796106,-0.092647850513458,-0.116661362349987));
res += mul(Get(s2,-dx,0), float4x4(0.009511770680547,-0.066104292869568,-0.112521357834339,0.062900885939598,-0.257162511348724,-0.033541951328516,0.085672184824944,-0.210755318403244,0.038166865706444,-0.087898828089237,-0.007449899800122,-0.110232584178448,-0.094718433916569,-0.054477192461491,-0.013447920791805,0.091386608779430));
res += mul(Get(s2,-dx,dy), float4x4(-0.016696898266673,-0.208020031452179,0.004482626449317,-0.078299216926098,-0.203692719340324,-0.062481544911861,-0.009252341464162,-0.101704448461533,0.086718544363976,-0.172320380806923,-0.034894563257694,-0.006166630424559,-0.076595112681389,-0.106819592416286,0.032910399138927,-0.081464566290379));
res += mul(Get(s2,0,-dy), float4x4(-0.002291159937158,-0.151276394724846,-0.012082636356354,-0.145709544420242,-0.105352155864239,-0.128832578659058,0.041918031871319,-0.045666746795177,0.232456132769585,0.049831394106150,0.085953660309315,-0.126603275537491,-0.223216071724892,0.057017274200916,0.039505731314421,0.221303641796112));
res += mul(Get(s2,0,0), float4x4(0.042040679603815,-0.084814608097076,-0.015400432050228,0.234087422490120,-0.090401947498322,0.014737663790584,0.095027491450310,0.144299700856209,-0.130591720342636,-0.016445573419333,0.079210564494133,-0.135291159152985,0.040418151766062,-0.160807058215141,-0.034498706459999,0.223442122340202));
res += mul(Get(s2,0,dy), float4x4(-0.059449553489685,-0.153897359967232,-0.009038734249771,0.204893678426743,-0.137007609009743,0.066688746213913,-0.010986736975610,0.120761416852474,0.258082449436188,-0.074467174708843,-0.015975343063474,0.038176361471415,-0.101112000644207,-0.100533790886402,-0.170745074748993,-0.027045812457800));
res += mul(Get(s2,dx,-dy), float4x4(-0.169831395149231,0.072483681142330,-0.015325603075325,-0.230128645896912,-0.085676036775112,-0.005131576675922,-0.012412733398378,-0.014774284325540,0.019246760755777,0.067728891968727,0.124882206320763,-0.177668645977974,-0.203121796250343,0.231294617056847,0.125234782695770,-0.129899829626083));
res += mul(Get(s2,dx,0), float4x4(-0.065681755542755,0.097427710890770,0.042429205030203,0.124071106314659,-0.047245420515537,0.115358456969261,0.216339692473412,0.158244043588638,-0.192095264792442,-0.011575819924474,-0.129627242684364,-0.171916052699089,-0.007618953473866,-0.009525150991976,-0.108036644756794,0.183263078331947));
res += mul(Get(s2,dx,dy), float4x4(-0.037135574966669,0.007353252265602,-0.060460668057203,0.250001698732376,-0.156366884708405,0.333683520555496,-0.003123988630250,-0.022880421951413,-0.284147411584854,-0.089232929050922,-0.067409440875053,-0.033137466758490,0.150703728199005,-0.015021799132228,-0.094403363764286,0.187542781233788));
res += mul(Get(s3,-dx,-dy), float4x4(-0.370517313480377,-0.029135148972273,-0.068048261106014,0.120681315660477,-0.030218696221709,0.068484842777252,0.009355791844428,-0.045683629810810,-0.139811068773270,-0.119269661605358,0.291037738323212,-0.167435318231583,0.032926216721535,0.107045941054821,-0.100170969963074,-0.052973810583353));
res += mul(Get(s3,-dx,0), float4x4(-0.269683301448822,-0.144279688596725,-0.143578976392746,-0.026087602600455,0.037027709186077,-0.177303150296211,-0.039134349673986,-0.175989553332329,-0.193573385477066,-0.069386377930641,-0.051368173211813,-0.152485653758049,-0.056413695216179,-0.016758598387241,-0.120607338845730,0.026284813880920));
res += mul(Get(s3,-dx,dy), float4x4(-0.244000941514969,-0.232428863644600,-0.006626427639276,0.031052891165018,0.050444234162569,-0.173336073756218,-0.048969116061926,-0.197432950139046,-0.072128795087337,-0.076974458992481,-0.019908426329494,-0.060832407325506,-0.013958524912596,-0.152620136737823,-0.158433705568314,-0.036008853465319));
res += mul(Get(s3,0,-dy), float4x4(-0.301456242799759,-0.006255108397454,-0.085592746734619,-0.013267743401229,-0.048625320196152,0.090088889002800,-0.140712559223175,-0.015151250176132,-0.099367305636406,-0.117066077888012,0.279726237058640,-0.083225287497044,-0.203726723790169,0.043722938746214,-0.064085036516190,0.062349181622267));
res += mul(Get(s3,0,0), float4x4(-0.249543219804764,-0.048022914677858,-0.100738033652306,-0.109161712229252,-0.100883372128010,-0.208406895399094,-0.037059411406517,-0.106705747544765,-0.100547440350056,-0.183018282055855,-0.162921711802483,-0.057193335145712,0.280368059873581,0.054265838116407,-0.107000350952148,0.077270880341530));
res += mul(Get(s3,0,dy), float4x4(-0.152230411767960,-0.120510272681713,-0.069447971880436,-0.070298597216606,0.053462855517864,-0.217468097805977,-0.060899715870619,-0.123586013913155,-0.123311787843704,0.102194577455521,0.132819652557373,-0.027363551780581,0.411313086748123,-0.277087360620499,-0.163119882345200,0.108207724988461));
res += mul(Get(s3,dx,-dy), float4x4(-0.258030146360397,0.202127128839493,-0.072399549186230,-0.081036642193794,0.152627766132355,0.092294044792652,-0.019719293341041,-0.111961647868156,-0.110773228108883,-0.127429157495499,0.022499235346913,-0.066264502704144,0.165367275476456,-0.064736962318420,-0.037281364202499,0.041001159697771));
res += mul(Get(s3,dx,0), float4x4(-0.059181235730648,-0.063897602260113,-0.062285274267197,-0.015328356064856,0.200307711958885,-0.148179844021797,-0.113302826881409,-0.109578989446163,0.049904547631741,-0.076506838202477,-0.128116279840469,-0.114189438521862,0.098832294344902,-0.001825909595937,-0.084615334868431,0.073454454541206));
res += mul(Get(s3,dx,dy), float4x4(-0.158110305666924,-0.138024002313614,-0.101658388972282,-0.163630425930023,-0.016277566552162,-0.092801772058010,-0.170842483639717,-0.102059781551361,0.035290766507387,0.060892652720213,-0.054140705615282,-0.109850786626339,-0.163687318563461,-0.186493441462517,-0.170863643288612,-0.070288412272930));
return max(float4(0,0,0,0), res);
}
