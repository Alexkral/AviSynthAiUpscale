sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.012806194834411,0.032600458711386,-0.094861604273319,0.079773172736168,0.169508755207062,0.038824766874313,0.084875062108040,-0.052481263875961,0.016966173425317,0.058981779962778,-0.117624118924141,-0.112082347273827,0.204570382833481,0.033801000565290,-0.045216426253319,0.135890215635300));
res += mul(Get(s0,-dx,0), float4x4(-0.244003996253014,0.248677611351013,0.057534873485565,-0.070504419505596,-0.068674050271511,-0.090805940330029,0.258833467960358,-0.016045434400439,-0.166840687394142,-0.025622302666306,-0.033325601369143,0.082009315490723,0.074702821671963,-0.012550757266581,0.253037333488464,0.173463627696037));
res += mul(Get(s0,-dx,dy), float4x4(0.002512705046684,0.099699728190899,-0.117415867745876,0.161799505352974,0.102624163031578,-0.013544619083405,0.211839482188225,-0.022658089175820,0.050915814936161,0.167598754167557,0.055134188383818,0.199814215302467,0.052166253328323,0.032987430691719,-0.087699145078659,-0.062715224921703));
res += mul(Get(s0,0,-dy), float4x4(0.094929143786430,0.073083266615868,-0.012559344992042,0.053088683634996,-0.177472084760666,0.100732766091824,0.074779108166695,-0.160508677363396,-0.070289462804794,-0.195925548672676,-0.004602679517120,-0.112691909074783,-0.001418354106136,0.102285355329514,-0.001528261695057,-0.039293978363276));
res += mul(Get(s0,0,0), float4x4(0.080022364854813,0.058063078671694,0.005919524002820,0.229830682277679,0.034386772662401,0.150046467781067,-0.096012160181999,-0.000115800336062,0.029066393151879,0.087958469986916,-0.118406899273396,0.003256732132286,0.075831361114979,0.096218235790730,0.137980833649635,0.002674635266885));
res += mul(Get(s0,0,dy), float4x4(0.015292734839022,0.128915548324585,-0.259676814079285,0.052837833762169,-0.006150419358164,0.088064245879650,-0.207462802529335,0.008925805799663,-0.021692134439945,0.143176063895226,0.065189048647881,-0.199322938919067,0.033660430461168,0.105346255004406,-0.050468575209379,0.093845933675766));
res += mul(Get(s0,dx,-dy), float4x4(0.061083137989044,-0.006930325645953,-0.017452064901590,0.032926660031080,0.021055256947875,-0.046870034188032,0.022020079195499,0.140774980187416,-0.117631554603577,0.044444773346186,0.032379642128944,0.076291888952255,-0.030310908332467,0.183276429772377,-0.005118031986058,0.000678659009282));
res += mul(Get(s0,dx,0), float4x4(0.128762558102608,-0.054418567568064,0.033196661621332,-0.008135299198329,0.032842829823494,-0.025199051946402,-0.045795500278473,0.018540235236287,-0.025112560018897,0.075233891606331,-0.138030454516411,0.254683107137680,-0.176116585731506,0.072532869875431,0.021101552993059,0.035451870411634));
res += mul(Get(s0,dx,dy), float4x4(-0.052552048116922,-0.028465349227190,-0.053347852081060,-0.067912504076958,0.081710420548916,-0.074080064892769,-0.179788023233414,0.003094820072874,0.035599812865257,0.003682346083224,0.189356058835983,0.201663970947266,0.015099312178791,0.049803413450718,-0.067210815846920,0.052580587565899));
res += mul(Get(s1,-dx,-dy), float4x4(0.081349849700928,0.141413867473602,-0.088914982974529,0.013334196992218,-0.123990699648857,0.020357873290777,-0.039853718131781,-0.212614715099335,0.011011220514774,-0.162599518895149,0.007837442681193,0.143150702118874,-0.038229301571846,-0.064147368073463,-0.256757080554962,-0.167835265398026));
res += mul(Get(s1,-dx,0), float4x4(-0.017032140865922,0.184120893478394,0.138244494795799,-0.056134633719921,0.007637256290764,-0.019936993718147,0.092372536659241,-0.147779077291489,-0.064691334962845,-0.116468839347363,0.026396246626973,-0.133944928646088,0.244796335697174,0.086868390440941,0.090380705893040,-0.081872828304768));
res += mul(Get(s1,-dx,dy), float4x4(0.082541376352310,0.003496376797557,0.037954304367304,0.057970471680164,-0.016731651499867,0.051214750856161,-0.126514688134193,-0.049781020730734,-0.124896816909313,0.074069663882256,-0.027478015050292,-0.087363004684448,-0.124069720506668,-0.150019958615303,0.097710445523262,0.136429175734520));
res += mul(Get(s1,0,-dy), float4x4(-0.022852543741465,0.052070848643780,0.043078240007162,-0.091134406626225,-0.001525349216536,0.041413854807615,-0.014882747083902,-0.028941640630364,-0.088126845657825,0.019977519288659,0.060542926192284,0.132844880223274,-0.125295475125313,0.084796972572803,0.066762059926987,0.066162914037704));
res += mul(Get(s1,0,0), float4x4(0.075745172798634,0.065281026065350,-0.105886615812778,-0.012316875159740,0.048721387982368,0.006557423621416,-0.055048685520887,0.041758280247450,-0.067219749093056,-0.146846726536751,0.033025704324245,-0.007255974691361,0.130411744117737,-0.041548091918230,-0.013797637075186,-0.055782448500395));
res += mul(Get(s1,0,dy), float4x4(-0.059166952967644,0.059956952929497,-0.082881234586239,0.181427136063576,-0.061137247830629,-0.134153619408607,-0.124632447957993,0.098706774413586,0.130153417587280,0.088576719164848,0.108455933630466,0.054987117648125,-0.010761925019324,0.209575906395912,-0.017730545252562,-0.035689905285835));
res += mul(Get(s1,dx,-dy), float4x4(-0.103807896375656,0.045393995940685,0.024262193590403,-0.105112694203854,-0.070444568991661,0.096651747822762,0.063674509525299,-0.119739033281803,-0.058192599564791,-0.179355382919312,-0.018008243292570,0.165861517190933,0.120404720306396,-0.023549178615212,-0.025262555107474,-0.049027290195227));
res += mul(Get(s1,dx,0), float4x4(-0.162210062146187,-0.007122472394258,0.044719547033310,0.109102793037891,-0.296797662973404,0.057115830481052,-0.096934489905834,-0.011217180639505,-0.219790354371071,0.063627734780312,-0.123845688998699,0.086647659540176,-0.098545618355274,0.121439971029758,-0.028436256572604,0.181435599923134));
res += mul(Get(s1,dx,dy), float4x4(0.028028147295117,0.096151292324066,0.000645079067908,0.066136687994003,0.084931030869484,-0.096373997628689,0.074264347553253,0.035239960998297,-0.167211666703224,0.049043975770473,-0.110899992287159,-0.039470523595810,0.024950303137302,0.107447959482670,0.007831024006009,-0.064151562750340));
res += mul(Get(s2,-dx,-dy), float4x4(0.061305291950703,0.070935040712357,0.077193394303322,0.071245312690735,0.166981369256973,0.094517618417740,0.221802756190300,-0.194316178560257,-0.006181202828884,0.077984496951103,-0.126628607511520,0.066931538283825,0.045160621404648,-0.106766164302826,-0.193529501557350,-0.034926682710648));
res += mul(Get(s2,-dx,0), float4x4(0.021402673795819,0.141717121005058,-0.222124069929123,0.015434042550623,0.106787562370300,-0.051286410540342,0.011288277804852,0.021793803200126,-0.023077296093106,0.084336891770363,0.049771275371313,-0.096629902720451,0.134370461106300,-0.165637403726578,-0.079206667840481,-0.085009217262268));
res += mul(Get(s2,-dx,dy), float4x4(0.029059424996376,0.083882033824921,-0.000463035918074,0.115098610520363,0.082263737916946,0.052734144032001,-0.135230317711830,-0.101400546729565,-0.147473394870758,-0.033526860177517,-0.032004676759243,-0.041247487068176,-0.012302142567933,-0.040909573435783,-0.208069518208504,-0.194202899932861));
res += mul(Get(s2,0,-dy), float4x4(-0.263166159391403,0.094476804137230,0.020891278982162,0.024523567408323,0.058990593999624,0.152962833642960,-0.128207653760910,-0.057214301079512,0.037179265171289,-0.104580536484718,0.069794751703739,0.002147677354515,-0.109161280095577,-0.126841589808464,-0.243930071592331,0.089433737099171));
res += mul(Get(s2,0,0), float4x4(-0.077309198677540,-0.172261744737625,0.020348308607936,0.191584095358849,0.021134145557880,0.183846861124039,-0.019635245203972,0.040620055049658,-0.042729925364256,-0.149149298667908,0.034653004258871,-0.019940920174122,-0.150478884577751,-0.210228398442268,-0.076248370110989,0.186434462666512));
res += mul(Get(s2,0,dy), float4x4(0.088876202702522,0.094752155244350,0.034288022667170,-0.142992675304413,-0.123798981308937,0.027665862813592,-0.013319403864443,0.054458506405354,-0.134914368391037,0.027887828648090,0.232977822422981,0.128369688987732,-0.190671920776367,-0.001164665212855,0.049486860632896,-0.037059750407934));
res += mul(Get(s2,dx,-dy), float4x4(0.067713283002377,-0.008134456351399,0.064319975674152,0.126936450600624,0.037111461162567,-0.043301075696945,-0.022180998697877,-0.133981376886368,-0.022003537043929,-0.154794409871101,0.185819387435913,-0.032717704772949,-0.072508223354816,-0.006548165343702,0.051704008132219,-0.076621137559414));
res += mul(Get(s2,dx,0), float4x4(-0.027722701430321,-0.022308763116598,0.190820649266243,0.128018170595169,-0.033799268305302,0.009176043793559,0.176373779773712,0.059050224721432,0.092229947447777,0.067454010248184,-0.087122485041618,0.193673789501190,-0.078449286520481,-0.317549794912338,-0.042800225317478,0.095138169825077));
res += mul(Get(s2,dx,dy), float4x4(-0.225253820419312,-0.051040083169937,-0.047433599829674,-0.030287967994809,-0.084224656224251,-0.110160075128078,-0.005875973030925,-0.224677756428719,-0.092776328325272,-0.163577780127525,0.020835461094975,0.030417544767261,-0.137713730335236,-0.036796774715185,-0.014042839407921,0.008804309181869));
res += mul(Get(s3,-dx,-dy), float4x4(0.175478532910347,-0.077056877315044,0.156373426318169,-0.121470987796783,-0.024033982306719,0.151422396302223,-0.063103199005127,-0.041080839931965,0.177019119262695,0.038901504129171,0.106765329837799,-0.161403581500053,0.087269395589828,-0.039054177701473,0.150668174028397,0.174095869064331));
res += mul(Get(s3,-dx,0), float4x4(-0.096548832952976,0.106191784143448,0.106710672378540,0.124477200210094,-0.114626519382000,-0.139599338173866,-0.172023311257362,0.203250780701637,-0.117024533450603,-0.036451365798712,-0.057087492197752,0.098657093942165,-0.038590047508478,-0.063666388392448,0.125738903880119,0.041654366999865));
res += mul(Get(s3,-dx,dy), float4x4(0.026761990040541,-0.046070389449596,0.000672313384712,-0.218542039394379,-0.069699093699455,0.028968084603548,-0.114078119397163,-0.020921315997839,-0.132022619247437,-0.006035728845745,-0.150861158967018,0.189093589782715,-0.072937719523907,-0.054039336740971,-0.074125990271568,-0.062718771398067));
res += mul(Get(s3,0,-dy), float4x4(-0.101804502308369,0.031988386064768,-0.229256495833397,-0.193289339542389,-0.056639593094587,-0.150984108448029,0.171120256185532,-0.036774888634682,-0.159835919737816,0.044999159872532,-0.003344021039084,-0.014967753551900,0.043949600309134,0.007166902069002,-0.083248481154442,0.073787063360214));
res += mul(Get(s3,0,0), float4x4(0.013901570811868,0.102679222822189,0.074987612664700,-0.086377225816250,0.174680903553963,0.128980398178101,0.158912241458893,0.087173052132130,-0.262031435966492,0.002748710801825,-0.040981166064739,-0.083612374961376,0.168025583028793,-0.005253682844341,0.012388426810503,-0.047081913799047));
res += mul(Get(s3,0,dy), float4x4(-0.182521864771843,-0.074535377323627,-0.113382369279861,-0.049859870225191,-0.122596830129623,0.062044963240623,-0.077362522482872,-0.028388131409883,-0.159340560436249,-0.075014993548393,0.052826009690762,0.126091256737709,-0.197152405977249,-0.118169769644737,0.014877921901643,-0.136354088783264));
res += mul(Get(s3,dx,-dy), float4x4(0.051821235567331,0.035860747098923,0.051899500191212,0.076275192201138,0.057807035744190,0.172886699438095,-0.102227918803692,-0.024405220523477,0.004671217873693,-0.026554742828012,0.142386242747307,-0.046389847993851,0.089659579098225,0.200323671102524,0.047868251800537,-0.091137953102589));
res += mul(Get(s3,dx,0), float4x4(-0.077464938163757,-0.189673632383347,0.179894015192986,-0.069114089012146,0.020753338932991,-0.059243172407150,-0.001279449905269,0.116964243352413,-0.046413905918598,0.100958064198494,0.022703737020493,-0.116547167301178,0.186076670885086,0.069962300360203,0.118753775954247,-0.121343709528446));
res += mul(Get(s3,dx,dy), float4x4(0.049902588129044,-0.059323411434889,-0.155461534857750,0.133169919252396,-0.155753791332245,0.047216188162565,0.061266172677279,0.146660879254341,0.024643896147609,-0.001573854475282,-0.003031068714336,-0.131846413016319,-0.086319215595722,0.176914617419243,-0.027003055438399,0.129598379135132));
return max(float4(0,0,0,0), res);
}
