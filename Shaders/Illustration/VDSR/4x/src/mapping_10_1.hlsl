sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.047371432185173,-0.013594890013337,-0.028954839333892,-0.194416657090187,0.093078993260860,-0.069895096123219,-0.152238771319389,-0.127986744046211,0.094989433884621,0.124343469738960,-0.104043968021870,-0.118157207965851,-0.141497135162354,-0.054679457098246,-0.003765156492591,-0.095351360738277));
res += mul(Get(s0,-dx,0), float4x4(0.015380716882646,-0.003982125315815,-0.044892281293869,-0.000885486020707,-0.049932859838009,0.025398565456271,0.019249936565757,0.018056418746710,0.278712242841721,-0.086308561265469,-0.058095425367355,-0.115883581340313,-0.097445406019688,-0.137660309672356,-0.047874819487333,-0.108930692076683));
res += mul(Get(s0,-dx,dy), float4x4(0.257945865392685,-0.017004279419780,-0.055679064244032,-0.055540096014738,0.066308803856373,0.043971821665764,0.015212938189507,0.085568979382515,0.052388992160559,-0.032302509993315,-0.067152194678783,-0.084139384329319,-0.077258773148060,-0.185528248548508,-0.093357205390930,-0.107056111097336));
res += mul(Get(s0,0,-dy), float4x4(0.000822423375212,-0.093606568872929,-0.069371409714222,-0.097870588302612,0.216277450323105,-0.081653207540512,0.003788728499785,0.190565794706345,0.015095970593393,-0.003994916100055,-0.050991214811802,-0.059418454766273,-0.035374797880650,-0.008202214725316,0.124221995472908,0.048708595335484));
res += mul(Get(s0,0,0), float4x4(0.029951769858599,-0.072994269430637,-0.096876814961433,-0.026200382038951,0.054837360978127,-0.058684788644314,0.170489415526390,0.070039957761765,-0.034905813634396,0.022292384877801,-0.088745526969433,-0.100962176918983,0.034019943326712,-0.064132824540138,-0.056618038564920,0.010775913484395));
res += mul(Get(s0,0,dy), float4x4(0.028775736689568,0.022645929828286,-0.145231872797012,-0.008719303645194,-0.107973195612431,0.106741465628147,-0.024170508608222,0.011378504335880,-0.046914931386709,-0.037710975855589,-0.120322406291962,-0.050290759652853,-0.024733629077673,0.089189983904362,0.062496080994606,0.113199956715107));
res += mul(Get(s0,dx,-dy), float4x4(-0.044255156069994,-0.075462058186531,-0.042037591338158,-0.127565950155258,-0.140131786465645,-0.012160036712885,0.127400666475296,0.036904446780682,0.027022015303373,-0.117050953209400,-0.021239308640361,-0.082913719117641,-0.241294875741005,-0.188753992319107,0.215075060725212,-0.136669874191284));
res += mul(Get(s0,dx,0), float4x4(0.101258993148804,0.029392644762993,-0.085898108780384,0.018067171797156,0.116458706557751,-0.130923673510551,0.020300824195147,0.054444056004286,-0.018847981467843,0.173814043402672,-0.083836548030376,0.019651005044580,-0.159897893667221,-0.119779773056507,0.001428409479558,0.162505134940147));
res += mul(Get(s0,dx,dy), float4x4(0.097863472998142,0.075006477534771,-0.182980149984360,0.074159435927868,0.236464723944664,0.034243449568748,0.278915494680405,0.054776813834906,-0.175977364182472,-0.142510801553726,-0.133386507630348,-0.039118405431509,-0.200212463736534,0.079530492424965,0.052576955407858,0.122762635350227));
res += mul(Get(s1,-dx,-dy), float4x4(0.029437679797411,-0.058289572596550,0.004102817736566,0.003261042525992,-0.107017725706100,0.134157434105873,-0.068569272756577,-0.083297781646252,0.093456983566284,-0.049434576183558,0.298669397830963,0.035003475844860,-0.091027185320854,-0.001945342170075,0.127901867032051,-0.115216881036758));
res += mul(Get(s1,-dx,0), float4x4(-0.042021982371807,-0.017934510484338,-0.019322583451867,-0.127442404627800,0.013294579461217,0.081492990255356,-0.103030696511269,-0.111354857683182,-0.040715001523495,0.167331799864769,-0.085850872099400,0.095134019851685,-0.150404140353203,-0.073836013674736,0.125719770789146,0.032079845666885));
res += mul(Get(s1,-dx,dy), float4x4(-0.199800014495850,-0.079889014363289,-0.167167976498604,-0.080784119665623,-0.061565574258566,-0.121408097445965,0.212848842144012,0.005709843710065,-0.058145638555288,0.100227676331997,-0.071516424417496,0.025396948680282,-0.114181004464626,-0.059545151889324,0.209683358669281,-0.009798948653042));
res += mul(Get(s1,0,-dy), float4x4(-0.217851668596268,-0.043643191456795,0.159398466348648,-0.087021782994270,0.027058759704232,0.152059659361839,-0.036628078669310,-0.156153663992882,0.039576474577188,-0.100225999951363,0.119081243872643,0.259439796209335,0.058989468961954,-0.047810882329941,-0.073363691568375,-0.157194927334785));
res += mul(Get(s1,0,0), float4x4(-0.147808015346527,-0.028422888368368,-0.230489790439606,-0.106179639697075,0.026110731065273,-0.193238854408264,-0.163440346717834,-0.271057665348053,-0.068009786307812,0.039470136165619,0.119706422090530,0.028625328093767,-0.005832768511027,-0.001458868151531,0.156933993101120,0.118542090058327));
res += mul(Get(s1,0,dy), float4x4(-0.219198092818260,-0.022451624274254,-0.047152698040009,-0.016115473583341,-0.222210571169853,0.042130820453167,-0.100210048258305,0.167702406644821,-0.040571890771389,-0.162000924348831,0.027580579742789,0.193420499563217,-0.037134133279324,-0.099148951470852,0.020916990935802,0.171977743506432));
res += mul(Get(s1,dx,-dy), float4x4(0.213580608367920,-0.122271828353405,0.328099489212036,0.081375233829021,-0.021214298903942,0.096252150833607,-0.102530106902122,0.079836390912533,0.030532302334905,-0.019628163427114,0.003340018680319,-0.052250497043133,0.083939783275127,-0.097400605678558,-0.088860057294369,0.024466251954436));
res += mul(Get(s1,dx,0), float4x4(-0.036082021892071,-0.009461008943617,0.140678778290749,-0.039295453578234,-0.001835889066570,-0.227550312876701,-0.258584588766098,0.237979590892792,0.060656376183033,-0.053473185747862,-0.115361817181110,-0.100040964782238,0.142367064952850,-0.039398569613695,0.092636279761791,-0.021969145163894));
res += mul(Get(s1,dx,dy), float4x4(-0.019883753731847,-0.098533242940903,0.298016399145126,-0.098902642726898,0.272005349397659,0.016281278803945,-0.415636956691742,0.237657964229584,0.153859287500381,-0.062184251844883,-0.170433282852173,0.070425130426884,0.013143085874617,-0.069978788495064,0.093814626336098,-0.052701119333506));
res += mul(Get(s2,-dx,-dy), float4x4(0.042688813060522,0.033874828368425,0.145606860518456,-0.144693866372108,-0.254646092653275,-0.022095290943980,0.325051873922348,0.156013742089272,-0.142866641283035,-0.006509975995868,-0.086258329451084,-0.168896406888962,-0.076104253530502,-0.056363128125668,-0.095779664814472,-0.468611449003220));
res += mul(Get(s2,-dx,0), float4x4(0.170947358012199,-0.066816575825214,-0.021482547745109,-0.299494594335556,-0.211381718516350,0.025590732693672,0.247417688369751,0.449300885200500,-0.126373082399368,0.110843650996685,-0.002819136483595,0.021976115182042,0.214784041047096,-0.077195093035698,0.319612830877304,0.018419593572617));
res += mul(Get(s2,-dx,dy), float4x4(0.061294693499804,0.166371822357178,0.218595668673515,-0.063173040747643,-0.321591854095459,-0.048550225794315,0.068237014114857,-0.037671308964491,-0.023415910080075,0.205967068672180,-0.211647629737854,0.044818926602602,0.068866729736328,-0.084733575582504,-0.056046262383461,0.219763472676277));
res += mul(Get(s2,0,-dy), float4x4(0.061699531972408,0.020310018211603,0.200261086225510,0.186928421258926,-0.075907438993454,-0.008794797584414,0.022670397534966,0.152508765459061,0.047997139394283,-0.267126411199570,-0.087913878262043,-0.066103309392929,-0.131880298256874,-0.083211675286293,0.128474667668343,0.000410930661019));
res += mul(Get(s2,0,0), float4x4(-0.096388235688210,-0.061536725610495,-0.095521822571754,0.012254452332854,0.165819287300110,0.032949548214674,-0.127451762557030,-0.314995884895325,-0.047012008726597,-0.116259150207043,0.021977452561259,0.078366674482822,0.142112746834755,-0.065751090645790,0.020950468257070,0.254063874483109));
res += mul(Get(s2,0,dy), float4x4(0.083973124623299,0.016736971214414,-0.104300506412983,-0.140895202755928,0.116990700364113,-0.023923533037305,-0.059012282639742,-0.202641278505325,-0.082536585628986,-0.051100526005030,-0.213166624307632,-0.107340522110462,0.222821772098541,-0.077222712337971,0.058642935007811,-0.014185335487127));
res += mul(Get(s2,dx,-dy), float4x4(-0.160356506705284,0.226364180445671,-0.051223568618298,-0.049222111701965,-0.064488068223000,-0.042322963476181,0.026875214651227,0.211006432771683,0.070538364350796,-0.341937959194183,-0.001024507917464,-0.173479184508324,-0.263500899076462,-0.113744698464870,-0.163494080305099,0.046537883579731));
res += mul(Get(s2,dx,0), float4x4(-0.288373410701752,-0.093473017215729,-0.032030925154686,0.445434480905533,-0.028079256415367,-0.032743055373430,0.164660230278969,-0.293716639280319,-0.099238373339176,-0.232892766594887,-0.061165418475866,0.056031033396721,-0.220649585127831,-0.063119560480118,-0.208922535181046,-0.028896957635880));
res += mul(Get(s2,dx,dy), float4x4(-0.438151299953461,-0.045823767781258,-0.152344763278961,-0.071688488125801,-0.073400244116783,-0.045732162892818,-0.150078311562538,-0.131754428148270,0.015163182280958,-0.138251274824142,-0.147897452116013,-0.147082537412643,0.155364066362381,-0.117512539029121,-0.055415030568838,-0.089081570506096));
res += mul(Get(s3,-dx,-dy), float4x4(-0.150995686650276,-0.074121646583080,0.087960049510002,-0.191932812333107,0.004625698551536,0.194504633545876,-0.007527347654104,-0.103888086974621,-0.086328297853470,-0.028195923194289,-0.036747626960278,-0.470165550708771,-0.073701426386833,0.155758395791054,0.178723692893982,0.141073703765869));
res += mul(Get(s3,-dx,0), float4x4(-0.110754914581776,0.084633231163025,0.042219221591949,-0.167253091931343,-0.006464707199484,0.086066685616970,-0.027428260073066,0.036765862256289,-0.104063704609871,-0.093380697071552,-0.033455688506365,-0.188385978341103,0.078560292720795,0.101891681551933,-0.206636264920235,0.074793726205826));
res += mul(Get(s3,-dx,dy), float4x4(-0.125285074114799,-0.031478501856327,-0.062608532607555,0.003327887738124,0.023840123787522,0.013452715240419,-0.002655281219631,-0.053417947143316,0.277872771024704,0.129187270998955,-0.313226163387299,-0.254582911729813,0.192147329449654,0.026342121884227,-0.033206447958946,0.053839482367039));
res += mul(Get(s3,0,-dy), float4x4(-0.145632088184357,-0.122165411710739,-0.003220205660909,-0.216131299734116,-0.021446231752634,0.090027444064617,-0.056236058473587,-0.129501402378082,0.143884405493736,-0.111005246639252,0.047101903706789,-0.301471263170242,-0.142336413264275,-0.117435850203037,0.075412645936012,0.060460355132818));
res += mul(Get(s3,0,0), float4x4(-0.192168653011322,-0.146594449877739,-0.028369765728712,-0.111366741359234,-0.078912071883678,0.214526817202568,-0.087810918688774,-0.084866873919964,0.009820206090808,-0.042820461094379,-0.209779173135757,0.130011826753616,-0.156244918704033,0.163771644234657,-0.024067766964436,0.125537753105164));
res += mul(Get(s3,0,dy), float4x4(-0.140384688973427,0.111427076160908,-0.130408525466919,-0.093250922858715,-0.113198801875114,0.009476333856583,-0.148790374398232,-0.090709656476974,0.034793853759766,0.126477107405663,-0.323498308658600,-0.158557862043381,-0.038056932389736,0.043428510427475,-0.008204329758883,0.128202080726624));
res += mul(Get(s3,dx,-dy), float4x4(-0.070260584354401,-0.117509141564369,-0.115959085524082,-0.075178816914558,-0.170163363218307,0.282769650220871,-0.141474753618240,-0.175578936934471,-0.127050697803497,-0.030986411496997,0.041992705315351,0.169859573245049,-0.214601844549179,-0.164629921317101,-0.058006979525089,-0.143924355506897));
res += mul(Get(s3,dx,0), float4x4(-0.123323269188404,-0.152705520391464,-0.040187105536461,-0.066768579185009,-0.142998963594437,0.309546798467636,-0.123260237276554,0.033742208033800,-0.003531352616847,-0.070403419435024,-0.296714395284653,0.330818563699722,-0.185254439711571,0.102184459567070,-0.106841571629047,-0.079234942793846));
res += mul(Get(s3,dx,dy), float4x4(-0.111299268901348,0.016972208395600,0.009999695234001,-0.033376310020685,-0.166332706809044,0.307200521230698,-0.214082464575768,-0.053723476827145,0.065379306674004,-0.013680134899914,-0.265966564416885,0.005449947435409,-0.164200231432915,0.024336829781532,-0.073113255202770,-0.027508920058608));
return max(float4(0,0,0,0), res);
}
