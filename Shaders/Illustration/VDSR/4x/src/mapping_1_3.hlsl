sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.089729271829128,0.043039228767157,0.244258359074593,0.036114584654570,0.258579999208450,-0.106114424765110,-0.130522996187210,-0.242511212825775,-0.240708813071251,-0.128862008452415,0.210248515009880,0.117330342531204,0.009414643049240,0.151433661580086,-0.112440325319767,0.027181090787053));
res += mul(Get(s0,-dx,0), float4x4(-0.084725342690945,0.085199989378452,0.041640903800726,-0.132261008024216,-0.102859549224377,-0.096454091370106,-0.147167682647705,0.007477411534637,0.011586897075176,-0.007471412885934,0.137411385774612,-0.146978721022606,-0.049108345061541,0.009415469132364,-0.054663330316544,0.047897811979055));
res += mul(Get(s0,-dx,dy), float4x4(0.060056641697884,-0.057924088090658,0.042911399155855,-0.222319304943085,-0.056457124650478,0.118560656905174,-0.048333447426558,0.349539190530777,0.037859681993723,-0.059971164911985,0.022596731781960,0.113626584410667,-0.098871827125549,0.003446716582403,0.028820374980569,-0.148905366659164));
res += mul(Get(s0,0,-dy), float4x4(-0.060527142137289,0.077685035765171,-0.076365530490875,0.016171563416719,0.018896065652370,0.029358334839344,0.021483745425940,-0.002688014181331,-0.162937417626381,0.244894012808800,-0.047035329043865,0.096547774970531,0.000800142704975,-0.058188550174236,0.130613103508949,-0.018685370683670));
res += mul(Get(s0,0,0), float4x4(-0.066212438046932,0.150658831000328,0.085010856389999,-0.106904305517673,0.080445870757103,-0.050879284739494,0.210315018892288,-0.138048678636551,-0.060189176350832,-0.026967698708177,-0.008690713904798,-0.164271533489227,-0.191731944680214,-0.115866452455521,-0.137773841619492,0.058123055845499));
res += mul(Get(s0,0,dy), float4x4(0.050895009189844,-0.141324162483215,-0.088188640773296,0.032617729157209,0.012533306144178,-0.007492884993553,0.237820997834206,-0.016039606183767,-0.020220670849085,0.065881468355656,0.037074144929647,0.036248721182346,-0.031130330637097,0.005792176816612,0.104683630168438,-0.101976640522480));
res += mul(Get(s0,dx,-dy), float4x4(0.095914557576180,0.203951478004456,-0.030963065102696,-0.201997816562653,-0.070960007607937,0.270738422870636,-0.035017464309931,0.152453273534775,0.143991991877556,-0.057174209505320,-0.061629623174667,-0.166242390871048,0.282175064086914,0.026875924319029,0.099151641130447,0.063168987631798));
res += mul(Get(s0,dx,0), float4x4(-0.169346198439598,0.003435112070292,-0.136929750442505,-0.191059619188309,-0.029595993459225,-0.100732810795307,0.020481698215008,-0.099188320338726,0.004815015010536,-0.069888524711132,0.098893456161022,-0.079499587416649,0.095936432480812,-0.053444489836693,-0.032562445849180,0.241402894258499));
res += mul(Get(s0,dx,dy), float4x4(-0.141768649220467,-0.069631196558475,-0.095241360366344,-0.129272982478142,-0.006492474582046,-0.085559777915478,0.104484640061855,-0.014537183567882,-0.001785592874512,-0.025679171085358,0.005659173708409,0.101340085268021,0.046066641807556,-0.196937456727028,0.117810890078545,0.123083554208279));
res += mul(Get(s1,-dx,-dy), float4x4(0.011307290755212,-0.082391329109669,0.098880097270012,-0.080911554396152,0.196690082550049,0.098592258989811,-0.084832631051540,-0.077792592346668,-0.104782730340958,0.062993481755257,0.140319094061852,0.024806536734104,0.029138514772058,-0.084955215454102,-0.283218830823898,-0.025686405599117));
res += mul(Get(s1,-dx,0), float4x4(0.146631017327309,-0.043710034340620,0.103920690715313,-0.016442216932774,-0.061271704733372,-0.089617349207401,0.122649297118187,0.025330750271678,-0.037730086594820,0.136323630809784,0.150846257805824,0.090996325016022,-0.092850498855114,0.029069870710373,0.234373942017555,0.060538697987795));
res += mul(Get(s1,-dx,dy), float4x4(0.052983522415161,-0.034930493682623,0.111884169280529,0.100939832627773,-0.058933634310961,0.034918840974569,-0.125621065497398,-0.013197963126004,0.147808209061623,0.033150941133499,-0.193809807300568,0.061331622302532,-0.081198409199715,-0.027222238481045,0.207029357552528,0.081315234303474));
res += mul(Get(s1,0,-dy), float4x4(0.034526102244854,0.008856937289238,0.139061629772186,-0.022347480058670,-0.153960630297661,0.047759898006916,0.048018064349890,-0.065370395779610,-0.110129788517952,0.103085242211819,-0.181944534182549,0.061749678105116,-0.051831994205713,0.227320358157158,-0.058208532631397,-0.011098571121693));
res += mul(Get(s1,0,0), float4x4(-0.132106915116310,-0.021916788071394,0.010688671842217,0.101127944886684,-0.124210327863693,0.117292657494545,0.076200850307941,0.109896957874298,-0.028535895049572,-0.067498326301575,-0.015037655830383,-0.006878969259560,0.134629711508751,0.106216937303543,-0.108306095004082,0.177591472864151));
res += mul(Get(s1,0,dy), float4x4(-0.037579525262117,0.175442069768906,-0.037478417158127,0.115756310522556,0.045777913182974,0.115004926919937,0.026795230805874,0.085263274610043,0.031547151505947,0.011738754808903,-0.001232465612702,0.050555411726236,-0.285579830408096,0.128924250602722,0.033021531999111,0.076315023005009));
res += mul(Get(s1,dx,-dy), float4x4(0.047430574893951,0.177735894918442,0.014028757810593,-0.053999889642000,-0.112058609724045,0.063080184161663,0.025265444070101,-0.020571960136294,0.311881780624390,-0.042921680957079,0.011772771365941,-0.389036953449249,-0.054531656205654,0.143274188041687,-0.002315964549780,-0.032537482678890));
res += mul(Get(s1,dx,0), float4x4(0.158783957362175,0.047389339655638,-0.082282975316048,-0.013218744657934,0.285907924175262,0.058659195899963,0.201975122094154,-0.048005636781454,0.016961734741926,-0.086718730628490,-0.103965654969215,-0.015131986699998,-0.081862151622772,-0.135446518659592,-0.281352907419205,-0.056593306362629));
res += mul(Get(s1,dx,dy), float4x4(-0.315940767526627,-0.041801389306784,-0.027982618659735,-0.022159511223435,-0.201999351382256,-0.089044958353043,0.065738849341869,-0.007179089821875,-0.065001495182514,0.157260864973068,0.081987775862217,-0.088103942573071,0.120968446135521,0.070187360048294,-0.038142632693052,-0.014469384215772));
res += mul(Get(s2,-dx,-dy), float4x4(-0.065567485988140,-0.123868227005005,-0.092550531029701,0.020732790231705,0.144059419631958,-0.217756167054176,0.129679277539253,0.203609749674797,0.074706129729748,0.044520989060402,-0.009094637818635,-0.129886031150818,0.202666446566582,-0.012001712806523,-0.042070861905813,-0.123130872845650));
res += mul(Get(s2,-dx,0), float4x4(0.070720054209232,-0.079963296651840,0.192303881049156,0.060976386070251,0.045259080827236,0.173953011631966,0.087176062166691,0.011193683370948,0.100074939429760,-0.089591160416603,-0.011015284806490,0.091950751841068,-0.141841039061546,-0.033752709627151,-0.036454498767853,-0.045087251812220));
res += mul(Get(s2,-dx,dy), float4x4(-0.051038667559624,-0.020894050598145,0.043691419064999,0.002247792668641,0.194634974002838,0.162816718220711,0.005279128439724,-0.105464793741703,-0.046301327645779,-0.045199330896139,0.117351420223713,-0.138419717550278,0.039704002439976,-0.118314780294895,-0.107451453804970,0.062610886991024));
res += mul(Get(s2,0,-dy), float4x4(0.060900766402483,-0.068212956190109,-0.033633027225733,0.180625200271606,0.090234667062759,-0.056301791220903,0.157626733183861,-0.000516848114785,-0.142630323767662,-0.045600540935993,-0.070392958819866,0.178336635231972,-0.101074330508709,0.016880115494132,-0.174079194664955,0.007601056713611));
res += mul(Get(s2,0,0), float4x4(-0.184121787548065,0.061311837285757,0.011849151924253,0.054714042693377,-0.065241873264313,0.086672164499760,-0.110663235187531,-0.094678409397602,-0.019199781119823,0.100289016962051,-0.035704392939806,-0.034458033740520,0.267156511545181,0.104266457259655,0.195081308484077,-0.081117048859596));
res += mul(Get(s2,0,dy), float4x4(-0.072555951774120,-0.165660694241524,-0.172633513808250,0.128171086311340,-0.132921025156975,0.035953503102064,-0.033828452229500,-0.007238551974297,0.009872838854790,-0.206219136714935,-0.003681027796119,0.004700160119683,0.038949567824602,0.039351988583803,0.083430454134941,-0.025380892679095));
res += mul(Get(s2,dx,-dy), float4x4(-0.141486585140228,0.088125914335251,0.097783125936985,-0.167389646172523,0.033245056867599,-0.006210015155375,-0.169110760092735,-0.216655403375626,-0.115202732384205,-0.023835772648454,0.061241198331118,0.028783993795514,0.090512387454510,-0.105924144387245,-0.118283689022064,0.148831099271774));
res += mul(Get(s2,dx,0), float4x4(0.006039418745786,-0.128550246357918,0.009546249173582,-0.124364398419857,-0.039503157138824,-0.068959161639214,0.013777612708509,-0.025967787951231,-0.035237461328506,0.147246524691582,0.034223392605782,-0.051179889589548,0.032551620155573,-0.030152581632137,0.076899304986000,-0.103177569806576));
res += mul(Get(s2,dx,dy), float4x4(-0.085273161530495,0.019436948001385,-0.040687449276447,0.028524640947580,0.091046504676342,0.050432872027159,-0.117223471403122,0.045068383216858,0.017169691622257,-0.020343862473965,-0.071554623544216,0.036503057926893,-0.013697784394026,-0.064018033444881,-0.037879303097725,-0.090860143303871));
res += mul(Get(s3,-dx,-dy), float4x4(0.003663844661787,0.021140374243259,0.003448506817222,0.254406899213791,0.061156440526247,-0.039048518985510,0.123466841876507,0.048422116786242,-0.056038696318865,0.038063313812017,0.013143575750291,-0.095735065639019,-0.058916632086039,-0.005734673701227,0.245693340897560,0.073520459234715));
res += mul(Get(s3,-dx,0), float4x4(0.148064479231834,-0.008649504743516,-0.128826901316643,0.255033671855927,-0.181682005524635,-0.065620630979538,0.000212985105463,0.356589108705521,0.077216185629368,0.128431782126427,0.093033991754055,-0.225807532668114,0.066741310060024,0.011596846394241,0.138855040073395,-0.028837557882071));
res += mul(Get(s3,-dx,dy), float4x4(0.090054459869862,-0.096067801117897,0.235739275813103,0.076671212911606,0.286785453557968,-0.051357407122850,-0.111221313476563,-0.068886496126652,0.053554151207209,0.016515130177140,0.103519700467587,0.162172675132751,0.077689424157143,0.022659506648779,0.195393979549408,-0.196380957961082));
res += mul(Get(s3,0,-dy), float4x4(0.059657938778400,0.015681494027376,0.062709100544453,-0.195535540580750,-0.132444709539413,0.157089337706566,0.179311782121658,0.137155905365944,-0.134876996278763,-0.181812584400177,-0.084919676184654,0.017662541940808,0.070967964828014,0.008157565258443,-0.173919484019279,-0.069967053830624));
res += mul(Get(s3,0,0), float4x4(0.118722975254059,0.189686119556427,0.012777511030436,-0.119668707251549,0.079989768564701,0.059224415570498,-0.054769188165665,-0.163959935307503,-0.166379645466805,0.134046807885170,0.152030229568481,0.052218411117792,0.087216861546040,-0.073741190135479,0.027216222137213,-0.018767828121781));
res += mul(Get(s3,0,dy), float4x4(-0.104020141065121,-0.041937012225389,-0.177835300564766,-0.057356886565685,0.082406051456928,-0.088899299502373,0.037337545305490,0.085118837654591,-0.107878074049950,-0.021196272224188,0.121965959668159,0.058358695358038,-0.042491283267736,0.167035922408104,0.001941599883139,0.190659165382385));
res += mul(Get(s3,dx,-dy), float4x4(-0.070794828236103,-0.022496934980154,-0.014300791546702,0.232332602143288,0.156644299626350,0.026586521416903,-0.114776134490967,0.090649507939816,-0.046815104782581,-0.067145757377148,0.094293631613255,0.016713781282306,-0.130957365036011,0.250340640544891,-0.000166926445672,0.068668261170387));
res += mul(Get(s3,dx,0), float4x4(-0.133230492472649,-0.161751896142960,-0.282852441072464,0.144291073083878,-0.134868875145912,0.031596887856722,-0.055141877382994,-0.183379948139191,0.026246000081301,0.052132666110992,-0.299558013677597,-0.036597538739443,0.053565703332424,-0.032805550843477,0.136740833520889,-0.140957534313202));
res += mul(Get(s3,dx,dy), float4x4(0.130870953202248,0.240335986018181,-0.066282376646996,-0.270913034677505,0.005611355882138,-0.062307596206665,0.024455208331347,-0.057083178311586,-0.123728804290295,0.151010021567345,-0.158283710479736,0.086248464882374,-0.054295770823956,0.083010554313660,-0.051217146217823,0.041516825556755));
return max(float4(0,0,0,0), res);
}
