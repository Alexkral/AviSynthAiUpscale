sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.013386942446232,-0.017911443486810,0.020940672606230,-0.069393761456013,-0.007514211349189,0.011289593763649,0.001957204425707,-0.009151475504041,-0.033624146133661,-0.439532309770584,0.124878793954849,0.229792252182961,-0.170015916228294,-0.400199919939041,0.143763676285744,0.015907911583781));
res += mul(Get(s0,-dx,0), float4x4(-0.010550112463534,-0.044620051980019,0.015098981559277,-0.077043741941452,0.017176045104861,-0.013969589956105,0.005918943788856,0.003194703953341,0.033767409622669,-0.374102622270584,0.159832030534744,0.072193764150143,0.016408357769251,0.064760223031044,0.250137895345688,0.280304908752441));
res += mul(Get(s0,-dx,dy), float4x4(0.010827730409801,-0.035503562539816,0.020167112350464,-0.052348088473082,0.000120193180919,-0.005540166515857,0.006440746132284,-0.002930819755420,0.207493573427200,-0.129838630557060,0.185974717140198,-0.038259360939264,-0.079798586666584,0.125010609626770,0.134433239698410,-0.015157034620643));
res += mul(Get(s0,0,-dy), float4x4(-0.063684530556202,-0.032886452972889,0.013403117656708,-0.032801385968924,0.005671291146427,-0.009706838056445,0.004961526021361,-0.001061217626557,0.201993957161903,0.156390547752380,-0.035557661205530,0.195833981037140,-0.220239236950874,0.385003983974457,0.074333555996418,-0.265110641717911));
res += mul(Get(s0,0,0), float4x4(-0.081475965678692,-0.041456233710051,0.003187017282471,-0.029402468353510,-0.004287402611226,-0.006357953418046,0.011139336973429,-0.012299893423915,0.047084785997868,0.190009176731110,0.052313283085823,0.111848451197147,-0.338559716939926,-0.017245838418603,0.244394496083260,0.152771100401878));
res += mul(Get(s0,0,dy), float4x4(-0.058681014925241,-0.042412955313921,-0.004304553847760,-0.027936298400164,-0.009377457201481,-0.008534511551261,0.014471828937531,-0.006830267142504,-0.142846792936325,0.134388655424118,0.076278448104858,0.118041172623634,-0.507996141910553,-0.186121508479118,0.080439560115337,-0.123790852725506));
res += mul(Get(s0,dx,-dy), float4x4(-0.037885598838329,-0.094058915972710,-0.027941102162004,-0.049793224781752,0.004375880584121,0.002734723733738,-0.015753189101815,0.003235881449655,0.052795793861151,-0.223686441779137,-0.283048391342163,-0.199144572019577,0.077990502119064,0.142361000180244,-0.305698603391647,-0.432279944419861));
res += mul(Get(s0,dx,0), float4x4(-0.023724872618914,-0.089309990406036,-0.018077678978443,-0.037252772599459,0.007928689941764,-0.010515348985791,-0.015037201344967,-0.006893423851579,-0.023558413609862,0.117858223617077,-0.151105672121048,-0.162216618657112,-0.229515731334686,-0.090467326343060,-0.048697095364332,-0.095005802810192));
res += mul(Get(s0,dx,dy), float4x4(-0.004290731158108,-0.114653110504150,-0.024694018065929,-0.026162805035710,0.015097532421350,-0.008985461667180,-0.008344804868102,0.001034459797665,-0.046472251415253,-0.083209335803986,-0.164070382714272,-0.080646410584450,-0.300878375768661,0.093027345836163,-0.195173054933548,-0.093580111861229));
res += mul(Get(s1,-dx,-dy), float4x4(0.090367913246155,0.072929695248604,-0.091187790036201,-0.046745762228966,-0.006924293469638,0.006182447075844,0.009091935120523,-0.022807816043496,-0.002637859899551,0.011634419672191,0.008061882108450,-0.002473188331351,-0.002286323113367,-0.004910049494356,-0.001134578487836,-0.010603126138449));
res += mul(Get(s1,-dx,0), float4x4(-0.085413902997971,-0.029888443648815,-0.038654364645481,-0.057263907045126,-0.000483152165543,0.007120784372091,0.000516214466188,-0.007309209555387,-0.003274578135461,0.000822527508717,0.002608030568808,0.013927625492215,-0.023690734058619,0.011397617869079,-0.015134799294174,-0.005783568136394));
res += mul(Get(s1,-dx,dy), float4x4(-0.071491867303848,0.276212424039841,0.033515159040689,-0.036248285323381,-0.011575016193092,0.009977789595723,-0.001347587094642,-0.016253085806966,0.013918690383434,0.001478318707086,0.014578372240067,-0.018600426614285,-0.009752868674695,-0.005414398852736,-0.000034345695894,-0.014072949066758));
res += mul(Get(s1,0,-dy), float4x4(0.190338701009750,0.119501948356628,0.075411960482597,-0.056791331619024,-0.002679170807824,0.002763688564301,0.001748274778947,-0.012365283444524,-0.022061411291361,0.002212380757555,0.009320847690105,-0.006170838139951,0.000089685054263,0.012038690969348,-0.008109410293400,0.012757126241922));
res += mul(Get(s1,0,0), float4x4(-0.118056230247021,-0.076322525739670,0.084195792675018,-0.122635759413242,-0.005647939164191,-0.011385959573090,-0.006212421692908,0.004685662221164,-0.004110111389309,0.005532540380955,-0.008817485533655,-0.002338904887438,-0.002339967992157,-0.008826063945889,-0.001338465372100,0.001822447404265));
res += mul(Get(s1,0,dy), float4x4(-0.078665718436241,0.224245145916939,0.107645444571972,-0.157994702458382,-0.000810807279777,-0.016364553943276,-0.008441325277090,0.000443002645625,0.020445376634598,0.012076894752681,-0.001775474986061,0.000102831574623,0.004898950923234,-0.013070079497993,0.005723088979721,-0.003444535424933));
res += mul(Get(s1,dx,-dy), float4x4(-0.020714079961181,0.051810674369335,-0.082838796079159,-0.086836226284504,-0.009769771248102,-0.005730122793466,-0.005755147896707,-0.004111343063414,-0.004816082306206,-0.003101267153397,0.008423946797848,-0.015699474141002,-0.001704395399429,0.003154197474942,0.002359880600125,-0.007385564967990));
res += mul(Get(s1,dx,0), float4x4(-0.020877500995994,0.183919116854668,0.002617310034111,-0.095546126365662,-0.006380145903677,-0.002649521455169,0.016294669359922,-0.007067219819874,-0.004997593350708,-0.015810033306479,0.003307261737064,0.003408980323002,0.004324148409069,-0.017968393862247,0.001476966310292,0.000754672160838));
res += mul(Get(s1,dx,dy), float4x4(-0.032149460166693,0.168741419911385,-0.010663003660738,-0.136002972722054,0.008303130976856,-0.015777435153723,-0.001995503902435,-0.014310006983578,-0.010178748518229,0.007604675367475,0.019469073042274,0.005112232174724,-0.010759908705950,-0.001704626833089,-0.003817596007138,0.014068976975977));
res += mul(Get(s2,-dx,-dy), float4x4(-0.030333621427417,0.347690135240555,0.008835406973958,0.010277156718075,-0.193211004137993,0.134617149829865,-0.202327609062195,-0.263665467500687,0.225918337702751,-0.000517359876540,-0.062201619148254,-0.023219579830766,0.000043565392843,-0.000187113488209,-0.006313447840512,0.015646878629923));
res += mul(Get(s2,-dx,0), float4x4(0.012716238386929,0.123768575489521,-0.078655034303665,0.043025691062212,-0.026584258303046,1.283727407455444,-0.338121980428696,-0.212878063321114,0.005569859407842,-0.251135617494583,0.014857918024063,0.059110570698977,-0.002186836674809,-0.005286619532853,0.009184432215989,0.003017477691174));
res += mul(Get(s2,-dx,dy), float4x4(-0.087825179100037,-0.027125168591738,-0.156799003481865,-0.116347908973694,0.338644295930862,0.860572636127472,-0.069059744477272,-0.210201680660248,-0.242782622575760,-0.178630873560905,-0.154171004891396,0.073288835585117,-0.008868942968547,-0.001297130365856,0.010426066815853,-0.004401725716889));
res += mul(Get(s2,0,-dy), float4x4(-0.166594460606575,0.415707141160965,0.182236164808273,0.036090452224016,-0.300322175025940,0.371866136789322,-0.144775122404099,-0.369741380214691,0.229315623641014,0.100796468555927,-0.100176267325878,-0.096840575337410,0.002396446885541,-0.002020526910201,-0.012959787622094,-0.002124039223418));
res += mul(Get(s2,0,0), float4x4(-0.166876822710037,-0.578863680362701,0.177412196993828,0.435198932886124,-0.117955483496189,-0.060494512319565,-0.177742555737495,-0.031598079949617,-0.010781894437969,0.167455777525902,-0.007235427852720,-0.088394477963448,-0.008198361843824,0.006082776933908,0.000149766783579,-0.002849596086890));
res += mul(Get(s2,0,dy), float4x4(-0.350775629281998,-0.705130159854889,0.023736342787743,0.245852559804916,0.552382290363312,-0.075709253549576,-0.052381403744221,-0.383615881204605,0.054110847413540,0.299278944730759,-0.155056133866310,-0.043535992503166,-0.009221454150975,-0.002675785217434,0.026834812015295,0.010156523436308));
res += mul(Get(s2,dx,-dy), float4x4(-0.008186576887965,0.410366088151932,-0.140568867325783,-0.315403193235397,-0.609697759151459,-0.034645266830921,-0.431096822023392,-0.472922503948212,0.023271374404430,-0.025608517229557,-0.076087750494480,-0.070953741669655,-0.010436489246786,-0.008622084744275,-0.002453819848597,-0.002581189153716));
res += mul(Get(s2,dx,0), float4x4(0.060256201773882,-0.341201782226563,0.065998055040836,-0.013756196945906,-0.263866454362869,-0.977893352508545,-0.071929126977921,-0.206884682178497,-0.050821203738451,-0.049635335803032,-0.035047706216574,-0.014154298231006,0.006185672711581,-0.003896647132933,0.002967339009047,-0.007014127913862));
res += mul(Get(s2,dx,dy), float4x4(-0.084264829754829,-0.529229700565338,-0.104601673781872,0.052124612033367,0.460364997386932,-0.988041400909424,-0.250632762908936,-0.479648113250732,0.143142968416214,0.050268761813641,-0.127317771315575,0.015662040561438,0.007944657467306,0.006822940427810,0.001163148554042,0.001457735896111));
res += mul(Get(s3,-dx,-dy), float4x4(-0.015663266181946,-0.003274182789028,0.009827666915953,-0.001025755074807,0.003501842962578,0.003500232240185,-0.008241072297096,-0.014851501211524,-0.592713892459869,0.941751480102539,-0.299612671136856,0.172500953078270,-0.013221251778305,-0.008227631449699,-0.004167071543634,-0.004002698697150));
res += mul(Get(s3,-dx,0), float4x4(-0.001736328704283,-0.005666420795023,0.008099381811917,0.006265507545322,0.001859374111518,-0.012127838097513,-0.012789236381650,0.006698037963361,-0.024590149521828,0.776706516742706,-0.093997165560722,0.151827618479729,0.000785480835475,0.006480710115284,0.003547079162672,-0.004307153634727));
res += mul(Get(s3,-dx,dy), float4x4(0.001782668754458,0.007673856802285,-0.009034519083798,0.007641307543963,-0.003155472688377,0.010686980560422,0.004085586871952,-0.000913806899916,0.472210526466370,0.377824842929840,-0.098356947302818,0.044387593865395,-0.016931401565671,0.002951624803245,-0.006133503280580,-0.012420144863427));
res += mul(Get(s3,0,-dy), float4x4(-0.005534430034459,-0.000015473173335,-0.004273062571883,0.008919880725443,0.005487262737006,0.003345287870616,-0.002635401673615,-0.002738812472671,-0.408846706151962,-0.589452862739563,-0.313301593065262,0.569417297840118,-0.000564416346606,0.009064062498510,-0.014185824431479,-0.008285381831229));
res += mul(Get(s3,0,0), float4x4(0.006230048835278,-0.004272869322449,0.002010530559346,0.005186661146581,-0.008580756373703,-0.014634036459029,0.003888313425705,-0.014711576513946,0.205588147044182,-0.308253556489944,-0.101529538631439,0.214836269617081,0.015668753534555,-0.009310055524111,0.012079380452633,0.004747354891151));
res += mul(Get(s3,0,dy), float4x4(0.002022070810199,-0.007510760333389,-0.001517239259556,0.005058395676315,0.000594957033172,0.006991472095251,-0.009003644809127,0.001096777734347,0.656576514244080,-0.011991975829005,-0.094679445028305,-0.085832163691521,0.007752837147564,-0.009537335485220,0.005363439209759,-0.001254981732927));
res += mul(Get(s3,dx,-dy), float4x4(-0.001637780806050,-0.013331731781363,0.020435055717826,0.015727987512946,0.009919716976583,-0.006869600154459,0.006593246012926,-0.002303203335032,-0.217044502496719,-0.820330321788788,-0.224984601140022,-0.013346422463655,-0.000729063292965,0.001413481659256,-0.004205047618598,0.006232562474906));
res += mul(Get(s3,dx,0), float4x4(-0.004650701303035,0.000030500455978,0.002814731560647,-0.009802702814341,-0.002416831674054,-0.000204860509257,-0.016256311908364,-0.011548123322427,0.164765566587448,-0.175461038947105,-0.129686057567596,-0.170551389455795,-0.003130262950435,0.004024601075798,0.000806453521363,0.005335836671293));
res += mul(Get(s3,dx,dy), float4x4(0.005582429002970,-0.003673139028251,0.002657240955159,-0.003028049133718,-0.007623415440321,-0.000654644740280,0.011371979489923,-0.009811459109187,0.206238165497780,-0.017105517908931,-0.119769848883152,-0.316495686769485,0.004349671769887,0.005544568877667,-0.002219349844381,0.002903542481363));
return max(float4(0,0,0,0), res);
}
