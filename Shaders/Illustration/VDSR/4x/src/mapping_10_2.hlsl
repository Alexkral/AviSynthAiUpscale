sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.273209899663925,-0.032298896461725,-0.151648640632629,-0.115325413644314,-0.042249016463757,0.054283235222101,0.071835897862911,-0.046907220035791,0.334351897239685,-0.112631417810917,-0.232329666614532,-0.088722899556160,-0.104347497224808,-0.084528133273125,-0.169785320758820,0.073591314256191));
res += mul(Get(s0,-dx,0), float4x4(0.158134222030640,-0.069383628666401,-0.087368197739124,-0.107796728610992,-0.064932733774185,-0.081123061478138,0.120165653526783,0.022954614832997,-0.073235310614109,-0.092555694282055,-0.112406842410564,-0.118652559816837,-0.099453926086426,-0.074807651340961,-0.084064915776253,-0.203856691718102));
res += mul(Get(s0,-dx,dy), float4x4(0.289647608995438,-0.005379930138588,0.019705640152097,-0.110367812216282,0.080629155039787,0.101311944425106,0.029976107180119,-0.202616110444069,0.271228849887848,-0.025291653349996,-0.090542033314705,0.009781566448510,0.064838744699955,-0.124468900263309,-0.081027656793594,-0.148470982909203));
res += mul(Get(s0,0,-dy), float4x4(0.247641563415527,0.035036660730839,-0.153230845928192,-0.070164591073990,-0.031150098890066,0.018773077055812,-0.111554637551308,-0.072839356958866,-0.030921483412385,-0.008590742945671,-0.242637470364571,0.004973223898560,-0.033254947513342,-0.036513876169920,-0.007162339519709,0.243732497096062));
res += mul(Get(s0,0,0), float4x4(0.031911514699459,-0.022469209507108,-0.080245085060596,-0.087919607758522,-0.096854336559772,-0.137454658746719,-0.072239570319653,-0.086160354316235,0.061216115951538,-0.025477692484856,-0.140032857656479,-0.058488339185715,0.006159738637507,-0.055268511176109,-0.102648280560970,0.039107862859964));
res += mul(Get(s0,0,dy), float4x4(-0.118392981588840,-0.135632753372192,-0.069580584764481,-0.179910615086555,0.004888344556093,0.135877475142479,0.121942177414894,0.035769782960415,-0.042816843837500,-0.034058600664139,-0.019227420911193,-0.004062148742378,0.138582557439804,-0.133982628583908,-0.136202782392502,-0.079741552472115));
res += mul(Get(s0,dx,-dy), float4x4(0.043854977935553,-0.116519875824451,-0.070798113942146,0.028915226459503,-0.223503798246384,0.303430795669556,0.189655929803848,-0.012641815468669,0.127994850277901,-0.083597227931023,-0.120808079838753,-0.104215532541275,-0.019592929631472,-0.248813346028328,-0.101602770388126,0.168016165494919));
res += mul(Get(s0,dx,0), float4x4(0.126403987407684,-0.096457645297050,0.006253948435187,-0.015142359770834,-0.194519624114037,-0.045645285397768,0.151814460754395,-0.126567408442497,-0.165656238794327,-0.020949933677912,-0.055281069129705,-0.027933778241277,0.020958784967661,-0.163540393114090,-0.182398483157158,0.020478822290897));
res += mul(Get(s0,dx,dy), float4x4(-0.075140684843063,-0.171377778053284,0.049468867480755,0.019524309784174,-0.110385902225971,0.007704989053309,-0.235237613320351,0.089891143143177,0.102134808897972,0.018303109332919,0.105723105370998,0.056776173412800,0.192432254552841,-0.119621910154819,-0.133778169751167,0.029705001041293));
res += mul(Get(s1,-dx,-dy), float4x4(-0.121959902346134,-0.120061211287975,-0.040959302335978,0.040801301598549,-0.042097639292479,-0.108559191226959,-0.034819234162569,-0.271174371242523,0.138034552335739,0.134808793663979,-0.030804611742496,0.330315262079239,-0.070718750357628,0.187417939305305,0.069578789174557,0.208279073238373));
res += mul(Get(s1,-dx,0), float4x4(-0.125282332301140,-0.131715193390846,0.102674171328545,0.028273768723011,-0.165168255567551,0.140041127800941,-0.097490832209587,-0.209446996450424,-0.068302236497402,0.036450363695621,-0.010283759795129,0.182535201311111,-0.013085513375700,0.245631471276283,0.148495152592659,-0.431582063436508));
res += mul(Get(s1,-dx,dy), float4x4(0.105469688773155,-0.082562021911144,0.004148657433689,-0.006414324045181,-0.085597068071365,0.010562074370682,0.132322803139687,0.204639673233032,-0.060721736401320,-0.096656531095505,0.030806271359324,-0.255271553993225,0.011754334904253,0.123631954193115,0.225044310092926,-0.105320408940315));
res += mul(Get(s1,0,-dy), float4x4(-0.064964897930622,-0.057409036904573,-0.044078931212425,-0.032874386757612,0.060528431087732,-0.056768238544464,-0.079678043723106,0.363504827022552,0.028824852779508,0.022937135770917,-0.060259908437729,0.276813924312592,-0.089221574366093,0.159946471452713,0.156179845333099,-0.286162853240967));
res += mul(Get(s1,0,0), float4x4(-0.034945450723171,-0.094551190733910,-0.014759561046958,-0.125233665108681,-0.028445374220610,0.284829974174500,-0.006468730047345,0.018499454483390,-0.223520591855049,0.035932920873165,0.064431510865688,0.167128518223763,-0.053692974150181,0.020752981305122,0.181212946772575,0.085379831492901));
res += mul(Get(s1,0,dy), float4x4(0.137111499905586,-0.026786280795932,-0.077692106366158,-0.091670230031013,0.037807732820511,-0.061643999069929,0.398311585187912,-0.139711096882820,0.010334125719965,-0.135356307029724,0.121409244835377,-0.025906223803759,-0.088186115026474,-0.083139851689339,-0.067349143326283,0.150021284818649));
res += mul(Get(s1,dx,-dy), float4x4(-0.027434568852186,-0.063143789768219,-0.027964206412435,-0.070819683372974,-0.024629514664412,-0.074033975601196,0.020569916814566,0.112341158092022,0.002392116235569,-0.028172267600894,0.011939185671508,-0.027305634692311,-0.116093009710312,-0.027420843020082,-0.343087345361710,-0.190786302089691));
res += mul(Get(s1,dx,0), float4x4(-0.045813582837582,-0.014005376026034,-0.151673629879951,-0.186965271830559,-0.070392712950706,0.001813108334318,0.214444279670715,-0.074670143425465,0.038765609264374,-0.091185614466667,0.224135801196098,-0.117274478077888,-0.035837136209011,0.116102099418640,-0.015664212405682,-0.106184288859367));
res += mul(Get(s1,dx,dy), float4x4(0.015456954948604,0.022812593728304,-0.132603332400322,-0.097118735313416,0.113492459058762,-0.082140184938908,-0.233525961637497,0.086001612246037,0.238909944891930,-0.138744428753853,0.133267566561699,0.028000144287944,0.001776980585419,-0.180601432919502,-0.077842757105827,0.485998809337616));
res += mul(Get(s2,-dx,-dy), float4x4(0.417118281126022,-0.450579017400742,-0.116250544786453,-0.023744950070977,-0.003249138128012,0.087718732655048,-0.073149211704731,-0.194700196385384,-0.149067938327789,0.075708694756031,-0.209029257297516,-0.110727846622467,0.001854981994256,-0.129072770476341,0.095612935721874,0.121507532894611));
res += mul(Get(s2,-dx,0), float4x4(0.117732584476471,-0.302794396877289,-0.124702468514442,-0.005154669750482,-0.063701987266541,-0.091816626489162,-0.106952257454395,-0.101640410721302,-0.146441861987114,-0.068292580544949,0.179509654641151,-0.116644144058228,-0.090408757328987,0.012914325110614,-0.066580913960934,0.017066614702344));
res += mul(Get(s2,-dx,dy), float4x4(0.089267082512379,0.144247740507126,0.171967580914497,0.203834936022758,0.062460344284773,-0.098152562975883,-0.138776168227196,0.051049996167421,-0.062190912663937,-0.129734516143799,-0.110087379813194,-0.259454399347305,-0.058671750128269,-0.093410141766071,0.067610897123814,-0.089671947062016));
res += mul(Get(s2,0,-dy), float4x4(0.192180275917053,-0.005875873379409,-0.154084846377373,-0.038971014320850,-0.000116791765322,0.111858107149601,-0.024709763005376,-0.147349119186401,0.071289852261543,0.134055674076080,-0.064813628792763,0.110022641718388,-0.046662144362926,0.255023270845413,0.073896072804928,-0.082804970443249));
res += mul(Get(s2,0,0), float4x4(-0.062289409339428,0.277731657028198,-0.056466229259968,-0.034071680158377,-0.054570533335209,-0.116054974496365,0.221886441111565,0.013628388755023,-0.069149203598499,-0.061874952167273,-0.056574586778879,-0.124326579272747,-0.074132725596428,-0.252429246902466,0.184267938137054,0.025423565879464));
res += mul(Get(s2,0,dy), float4x4(-0.050805583596230,-0.074892513453960,0.097586318850517,-0.039631504565477,-0.058167312294245,-0.045457445085049,-0.015506111085415,-0.033329553902149,-0.090178303420544,-0.138108149170876,-0.072521619498730,-0.195278018712997,-0.174521312117577,-0.101291306316853,-0.017230654135346,0.043441049754620));
res += mul(Get(s2,dx,-dy), float4x4(-0.238320708274841,-0.053021676838398,-0.006760239135474,-0.102915912866592,0.005228777881712,0.034448251128197,-0.031430415809155,-0.178600564599037,0.007213301025331,0.037665460258722,0.066797077655792,0.155283018946648,-0.064433589577675,0.264334976673126,-0.116526290774345,-0.114405810832977));
res += mul(Get(s2,dx,0), float4x4(0.034112196415663,0.321111321449280,-0.069853909313679,-0.121661782264709,-0.086680412292480,-0.008131908252835,-0.043029796332121,-0.118781410157681,-0.127865895628929,-0.017683997750282,0.005023754201829,0.161055803298950,-0.088949143886566,-0.038007557392120,-0.029267335310578,-0.047382533550262));
res += mul(Get(s2,dx,dy), float4x4(-0.105771467089653,0.320654809474945,0.172843977808952,-0.090575136244297,-0.031371068209410,0.024793373420835,-0.249447852373123,0.021915981546044,-0.024105934426188,-0.105714008212090,0.154682829976082,0.122122280299664,0.017959583550692,-0.346444875001907,-0.087664037942886,-0.069827087223530));
res += mul(Get(s3,-dx,-dy), float4x4(-0.056819137185812,-0.042019549757242,-0.196901813149452,-0.052561238408089,0.191178575158119,-0.043454319238663,-0.061490289866924,-0.058918535709381,0.047477733343840,0.006377246230841,-0.060762193053961,-0.002288227202371,0.203878939151764,-0.026848852634430,-0.086114816367626,-0.071266941726208));
res += mul(Get(s3,-dx,0), float4x4(-0.045011494308710,-0.022419162094593,-0.122545599937439,-0.077947549521923,-0.050177343189716,-0.012350923381746,-0.080331616103649,-0.030664190649986,0.075371019542217,0.042249362915754,-0.103870451450348,-0.124975457787514,0.228005647659302,-0.027317516505718,-0.101050123572350,-0.106815755367279));
res += mul(Get(s3,-dx,dy), float4x4(-0.069300778210163,-0.182723641395569,-0.133965879678726,-0.121935106813908,0.002481030533090,-0.140981078147888,-0.106351785361767,-0.113962940871716,0.234314844012260,-0.158399701118469,-0.241199448704720,-0.135315403342247,-0.015664001926780,-0.167599931359291,-0.003945355303586,0.004307505674660));
res += mul(Get(s3,0,-dy), float4x4(-0.135876506567001,0.115700758993626,-0.094630248844624,0.073789648711681,-0.063584633171558,-0.139154136180878,-0.113241709768772,-0.103088773787022,-0.101868979632854,0.008645144291222,0.227884754538536,0.032196640968323,0.065559223294258,-0.055786918848753,0.033847890794277,0.010383578017354));
res += mul(Get(s3,0,0), float4x4(-0.042635675519705,-0.105215542018414,-0.166021928191185,-0.074255995452404,-0.042348627001047,-0.068152256309986,-0.060309574007988,0.012094818055630,-0.033757209777832,0.210852384567261,-0.118598535656929,0.135439634323120,0.097445458173752,0.043999511748552,-0.071946904063225,-0.044838283210993));
res += mul(Get(s3,0,dy), float4x4(-0.090131692588329,-0.148106664419174,-0.123766645789146,-0.083552956581116,-0.078550711274147,-0.046207554638386,0.037661485373974,0.054873242974281,0.016374636441469,-0.206699952483177,-0.261195480823517,0.011333755217493,-0.161829590797424,-0.075110547244549,-0.012329256162047,-0.046646282076836));
res += mul(Get(s3,dx,-dy), float4x4(-0.076675124466419,0.116101600229740,0.008222064934671,0.055237181484699,-0.015656732022762,-0.071731455624104,-0.134077966213226,0.095936901867390,0.037665724754333,0.298841416835785,0.048372931778431,-0.055178653448820,-0.000523564638570,-0.049366638064384,-0.053377844393253,0.034554477781057));
res += mul(Get(s3,dx,0), float4x4(-0.081719085574150,0.070214278995991,-0.153572022914886,0.022016026079655,-0.053937703371048,-0.058423597365618,-0.129949420690536,-0.023145135492086,-0.077911995351315,0.133791938424110,0.060858417302370,-0.056004598736763,0.166066765785217,-0.042689692229033,-0.083915479481220,-0.086112223565578));
res += mul(Get(s3,dx,dy), float4x4(-0.124549239873886,-0.024937247857451,-0.125669568777084,-0.035859011113644,-0.066211514174938,-0.026985717937350,-0.121577411890030,-0.070810198783875,0.104199312627316,0.038954105228186,-0.097528539597988,-0.109779454767704,-0.128884807229042,0.133574366569519,-0.079030163586140,-0.107868552207947));
return max(float4(0,0,0,0), res);
}
