sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.051572866737843,-0.007397024426609,-0.065663591027260,-0.041909351944923,0.032952934503555,-0.090822413563728,-0.219022139906883,-0.068773634731770,-0.148499831557274,-0.138746947050095,0.009199070744216,0.014181078411639,-0.034543197602034,-0.008130691014230,0.365721046924591,-0.069277502596378));
res += mul(Get(s0,-dx,0), float4x4(-0.145902290940285,0.037412416189909,-0.210226148366928,-0.201809018850327,0.105946347117424,-0.159809932112694,-0.012273968197405,-0.052392106503248,-0.047727119177580,0.112645596265793,-0.050183836370707,-0.128467917442322,0.183557912707329,0.203414738178253,0.029637994244695,0.037805248051882));
res += mul(Get(s0,-dx,dy), float4x4(-0.186073377728462,0.086244471371174,-0.184596672654152,0.201125562191010,-0.040864516049623,0.058090679347515,0.121740899980068,0.050208576023579,0.034487102180719,-0.004078957252204,0.086303032934666,0.115361295640469,-0.049023166298866,-0.081021785736084,0.000905892869923,0.018745152279735));
res += mul(Get(s0,0,-dy), float4x4(-0.163478687405586,0.011455900967121,0.104862675070763,-0.011671094223857,0.086252070963383,0.041109494864941,0.187284573912621,-0.055527959018946,-0.164390608668327,-0.111229054629803,-0.238971412181854,-0.127766683697701,-0.049636717885733,0.165223792195320,0.059517376124859,-0.217463940382004));
res += mul(Get(s0,0,0), float4x4(0.114771179854870,0.069591812789440,-0.109010495245457,0.123338788747787,-0.026850948110223,-0.058054849505424,-0.020612150430679,0.023309856653214,-0.120635651051998,0.229773566126823,-0.150083154439926,-0.188108995556831,-0.045734923332930,0.090290434658527,-0.014998800121248,-0.001842547324486));
res += mul(Get(s0,0,dy), float4x4(0.135458454489708,-0.094810403883457,0.074202269315720,-0.068614006042480,-0.090133786201477,0.079531960189342,0.041920773684978,-0.002703629899770,0.095373585820198,-0.184444501996040,-0.196441486477852,-0.046945977956057,-0.082366004586220,0.007102728355676,0.012045608833432,0.095788218080997));
res += mul(Get(s0,dx,-dy), float4x4(-0.043317463248968,-0.168736100196838,-0.048404023051262,-0.111597239971161,0.059552144259214,0.139958590269089,-0.241599917411804,0.058161400258541,0.064855396747589,-0.098202593624592,0.011336761526763,-0.342206895351410,-0.019816067069769,-0.028534155339003,-0.002939601894468,-0.200107857584953));
res += mul(Get(s0,dx,0), float4x4(-0.090167127549648,0.226314261555672,-0.001143742119893,-0.133882790803909,0.116915367543697,0.048704404383898,-0.053187780082226,0.115157559514046,0.137488648295403,0.027078032493591,0.146224901080132,-0.101153180003166,-0.015507147647440,-0.153389006853104,-0.112903766334057,0.177383005619049));
res += mul(Get(s0,dx,dy), float4x4(-0.159465342760086,-0.152279019355774,0.064850665628910,-0.087383225560188,0.101564437150955,-0.032447233796120,0.144826143980026,-0.153718188405037,0.148816049098969,-0.125797584652901,-0.217238083481789,0.056624460965395,-0.049597583711147,-0.017193995416164,0.034653529524803,-0.020239112898707));
res += mul(Get(s1,-dx,-dy), float4x4(0.022210113704205,-0.134367704391479,-0.016607174649835,-0.069255255162716,0.026010788977146,-0.053704190999269,-0.006302421446890,0.169022575020790,-0.023317158222198,-0.201865032315254,-0.129391103982925,-0.042891178280115,-0.071273431181908,-0.006374887656420,0.170026138424873,-0.152708336710930));
res += mul(Get(s1,-dx,0), float4x4(0.023772684857249,0.077252477407455,-0.091485261917114,0.064209304749966,0.065704509615898,-0.170418575406075,-0.131761729717255,0.057136777788401,-0.005926567129791,0.006073105148971,0.096031628549099,-0.065447390079498,0.138455539941788,0.114853106439114,0.185739815235138,0.031233295798302));
res += mul(Get(s1,-dx,dy), float4x4(0.044842533767223,0.267551124095917,0.013130079954863,0.078464254736900,-0.132570698857307,-0.130080014467239,-0.041086025536060,0.140656143426895,0.000228473392781,-0.008788942359388,0.175383701920509,0.039575081318617,0.011368661187589,-0.068969435989857,0.122317485511303,0.007851960137486));
res += mul(Get(s1,0,-dy), float4x4(0.024903144687414,0.143779888749123,0.029254727065563,-0.044361419975758,0.055301249027252,0.004003957379609,0.014771610498428,-0.263233482837677,0.180166751146317,0.129900813102722,-0.003033604007214,0.078570030629635,-0.028267031535506,-0.023218095302582,-0.097633838653564,0.004532626830041));
res += mul(Get(s1,0,0), float4x4(0.068141594529152,-0.046245373785496,-0.207944586873055,-0.106420427560806,0.156158313155174,-0.251927554607391,-0.293701142072678,0.004067474976182,0.058226689696312,-0.012917443178594,-0.054959926754236,0.056619290262461,-0.002984688850120,0.149282976984978,0.051438204944134,0.183839425444603));
res += mul(Get(s1,0,dy), float4x4(-0.079710841178894,-0.026865355670452,-0.042232654988766,0.000751299725380,-0.189111769199371,0.355940431356430,-0.149261608719826,0.126202121376991,-0.270767450332642,-0.119232170283794,-0.250279635190964,0.067331150174141,-0.218386635184288,0.077336438000202,0.058668691664934,-0.195728808641434));
res += mul(Get(s1,dx,-dy), float4x4(0.152978345751762,0.010364735499024,-0.056508801877499,-0.122900493443012,0.150410458445549,0.080991409718990,0.016593107953668,-0.108043223619461,-0.040749166160822,-0.151995167136192,-0.149711713194847,0.037095870822668,-0.033752046525478,-0.085124418139458,-0.185918539762497,0.211963787674904));
res += mul(Get(s1,dx,0), float4x4(0.164339765906334,-0.080649241805077,0.232831478118896,0.049194265156984,-0.022194322198629,-0.000047808927775,-0.192691609263420,0.053375452756882,-0.115540258586407,0.051631823182106,-0.015287819318473,-0.047949384897947,-0.054862730205059,0.076806195080280,0.101609975099564,0.137629091739655));
res += mul(Get(s1,dx,dy), float4x4(0.055969476699829,-0.066889770328999,-0.036186750978231,0.140472799539566,-0.158912956714630,0.005864008329809,0.061792634427547,-0.051105327904224,0.068971119821072,0.169359713792801,0.073211602866650,-0.036741953343153,-0.053795415908098,-0.025368917733431,0.133332684636116,-0.032281577587128));
res += mul(Get(s2,-dx,-dy), float4x4(0.060915395617485,-0.170873969793320,0.063881002366543,-0.085782475769520,0.116018712520599,-0.023591190576553,-0.196885854005814,0.005597901064903,-0.043171271681786,-0.114463508129120,-0.189077213406563,-0.005161081440747,-0.075618065893650,-0.066654704511166,0.074427127838135,-0.225104838609695));
res += mul(Get(s2,-dx,0), float4x4(-0.012119680643082,-0.094579510390759,-0.118393719196320,0.031326454132795,-0.236920431256294,0.004216317087412,0.180550679564476,-0.079655207693577,-0.050451733171940,0.132826149463654,0.105192340910435,-0.011190624907613,-0.129975467920303,-0.121645130217075,-0.125627100467682,0.245873287320137));
res += mul(Get(s2,-dx,dy), float4x4(0.002211681567132,-0.100683942437172,0.024775736033916,0.158398583531380,-0.038998473435640,-0.125707045197487,-0.182312965393066,-0.180911079049110,0.313050270080566,-0.020274095237255,-0.121338330209255,-0.089809112250805,-0.031159672886133,-0.138989269733429,0.101744361221790,0.091165162622929));
res += mul(Get(s2,0,-dy), float4x4(0.086583100259304,-0.070904642343521,0.031166721135378,0.161149367690086,0.134158909320831,0.023968385532498,0.072727210819721,-0.107931047677994,-0.006388089153916,-0.007993104867637,0.016323534771800,-0.000436936417827,-0.115194991230965,-0.009032641537488,0.078536652028561,0.076055511832237));
res += mul(Get(s2,0,0), float4x4(-0.113405987620354,0.035499319434166,-0.136608645319939,-0.022053537890315,0.036299929022789,-0.036111660301685,0.138573706150055,0.056787043809891,0.000438696355559,0.080685503780842,-0.263644695281982,0.066617250442505,0.038800239562988,-0.030326325446367,0.026864115148783,0.155694380402565));
res += mul(Get(s2,0,dy), float4x4(-0.075759679079056,0.011599527671933,-0.034148909151554,-0.023610429838300,-0.171126723289490,-0.059715699404478,-0.004132951609790,0.010200775228441,0.054968185722828,0.198564484715462,0.022526824846864,-0.164897695183754,-0.122019112110138,0.080083265900612,0.046357460319996,0.045097902417183));
res += mul(Get(s2,dx,-dy), float4x4(0.013568302616477,-0.051495764404535,-0.038217071443796,0.091543406248093,-0.018538931384683,-0.034993357956409,0.069513380527496,-0.050149794667959,0.040996987372637,0.035110276192427,0.059569276869297,0.047792535275221,0.049726065248251,-0.194563761353493,0.275160938501358,-0.024205405265093));
res += mul(Get(s2,dx,0), float4x4(0.145476356148720,-0.093160696327686,0.105785235762596,0.080490499734879,-0.058394309133291,-0.004668168723583,0.016861928626895,0.072873704135418,-0.038903761655092,-0.074329465627670,0.076127432286739,0.140054836869240,-0.141314655542374,0.121219865977764,-0.050392672419548,0.018643852323294));
res += mul(Get(s2,dx,dy), float4x4(0.025297122076154,-0.040700592100620,-0.177077099680901,0.256078213453293,0.086793385446072,0.095185622572899,-0.094419419765472,-0.105849005281925,-0.006994475610554,-0.082763351500034,0.048966221511364,0.197140529751778,0.188339158892632,-0.090255826711655,0.071619503200054,-0.054871279746294));
res += mul(Get(s3,-dx,-dy), float4x4(0.138876512646675,-0.145078942179680,0.027414398267865,-0.110150933265686,0.134288236498833,-0.007316490635276,0.281766474246979,0.016436316072941,0.140526533126831,-0.078770734369755,0.091880105435848,0.112457185983658,-0.165078952908516,-0.077940672636032,0.093415305018425,0.010531925596297));
res += mul(Get(s3,-dx,0), float4x4(-0.113626301288605,0.110149443149567,0.076321162283421,-0.011634799651802,0.016792902722955,-0.112877123057842,-0.063293971121311,0.041129726916552,-0.062694832682610,-0.046085257083178,0.057382918894291,0.326549559831619,-0.014534289017320,-0.075473271310329,-0.167794033885002,-0.084819495677948));
res += mul(Get(s3,-dx,dy), float4x4(-0.267495423555374,0.005517741199583,-0.097004003822803,0.078030265867710,0.016340788453817,0.167857155203819,0.052838571369648,0.210166051983833,0.039562318474054,-0.168696120381355,0.088930264115334,-0.125819295644760,0.061082061380148,0.093674086034298,-0.014741691760719,-0.149238333106041));
res += mul(Get(s3,0,-dy), float4x4(-0.090715058147907,0.072591543197632,0.031298477202654,-0.078930512070656,0.109846353530884,0.005003129597753,-0.010523059405386,-0.032377324998379,0.056215237826109,0.002547191921622,-0.024674227461219,-0.114472672343254,-0.156798601150513,0.081647522747517,-0.132653668522835,0.070953324437141));
res += mul(Get(s3,0,0), float4x4(0.064116299152374,-0.003274536691606,0.029619306325912,-0.182830110192299,0.059122387319803,-0.039070390164852,0.283226907253265,-0.016147419810295,0.111728236079216,-0.002926245797426,0.026065595448017,0.077692762017250,-0.070314109325409,-0.030527746304870,0.183250829577446,0.089315444231033));
res += mul(Get(s3,0,dy), float4x4(-0.039156246930361,0.003798885038123,0.050205789506435,-0.036445673555136,0.154985561966896,0.125113800168037,-0.132740691304207,-0.077028490602970,0.162454113364220,-0.015814604237676,-0.001197250094265,-0.096255876123905,-0.252394884824753,0.132424086332321,0.242771431803703,-0.127911224961281));
res += mul(Get(s3,dx,-dy), float4x4(-0.066049367189407,-0.081710219383240,-0.043520107865334,-0.008474940434098,0.042312335222960,0.114424780011177,0.014563293196261,-0.053794503211975,-0.112768724560738,-0.076725505292416,-0.000432293309132,-0.214491456747055,-0.030999204143882,0.066137306392193,-0.114383131265640,0.013393932953477));
res += mul(Get(s3,dx,0), float4x4(-0.051344156265259,-0.049862045794725,-0.108877733349800,0.019014753401279,0.059974905103445,-0.010964847169816,-0.166594788432121,0.037225607782602,-0.069657474756241,-0.025048179551959,-0.043237600475550,0.188308268785477,-0.045391794294119,0.046504210680723,0.034645251929760,0.031019082292914));
res += mul(Get(s3,dx,dy), float4x4(-0.153700634837151,0.186274245381355,0.008941899053752,0.011959028430283,0.058450061827898,0.093535661697388,-0.039003647863865,0.053342863917351,-0.051411699503660,0.007028908003122,-0.010523428209126,-0.001202801708132,-0.231455519795418,0.044199340045452,0.095190674066544,0.093421734869480));
return max(float4(0,0,0,0), res);
}
