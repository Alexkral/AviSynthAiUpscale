sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.045107264071703,-0.048348471522331,-0.137817963957787,0.080377861857414,0.061164613813162,-0.196435719728470,-0.205056369304657,0.126195177435875,0.138169959187508,0.053509119898081,-0.018319528549910,0.098051227629185,0.223957091569901,-0.272478014230728,0.305592268705368,0.245224982500076));
res += mul(Get(s0,-dx,0), float4x4(-0.110358111560345,0.212061464786530,0.014807069674134,-0.080959856510162,0.028647815808654,-0.180874526500702,0.115554414689541,0.224965885281563,-0.206926897168159,-0.061013367027044,-0.091431729495525,-0.083967864513397,0.101452521979809,-0.214827507734299,0.053212311118841,0.149084657430649));
res += mul(Get(s0,-dx,dy), float4x4(-0.050183765590191,0.236089229583740,-0.082519352436066,0.190444946289063,-0.006781160831451,0.085753977298737,-0.058079741895199,-0.046900462359190,-0.190459385514259,0.237434819340706,-0.067081041634083,0.149699136614799,-0.230496004223824,-0.110905781388283,0.159131482243538,-0.113075539469719));
res += mul(Get(s0,0,-dy), float4x4(0.201200231909752,0.070044554769993,0.021663894876838,0.188662409782410,0.125974968075752,-0.151945367455482,0.102428600192070,0.051001131534576,0.455794066190720,0.174366712570190,-0.085192255675793,0.055102664977312,0.092668697237968,-0.013931388035417,0.071914985775948,0.130705028772354));
res += mul(Get(s0,0,0), float4x4(0.179060310125351,0.057730987668037,-0.042334377765656,-0.183686524629593,0.000864330912009,0.027275450527668,-0.021186411380768,0.008095812983811,-0.105124875903130,0.158132135868073,0.035779517143965,0.237795427441597,-0.149927631020546,-0.019023617729545,0.205311253666878,0.055594068020582));
res += mul(Get(s0,0,dy), float4x4(-0.146309018135071,0.049602612853050,0.051181603223085,-0.011772249825299,-0.050309885293245,0.180277571082115,-0.015972638502717,0.053105141967535,-0.012896591797471,0.026321770623326,-0.090645089745522,-0.097979240119457,-0.169994115829468,-0.138655617833138,0.126820385456085,0.014552911743522));
res += mul(Get(s0,dx,-dy), float4x4(0.067723207175732,-0.065510615706444,0.021636592224240,-0.212959438562393,-0.176729589700699,-0.155702635645866,-0.229565843939781,-0.063474752008915,0.208683043718338,0.056775819510221,0.067974939942360,0.097190894186497,0.083776816725731,-0.161793753504753,-0.119057498872280,-0.072958305478096));
res += mul(Get(s0,dx,0), float4x4(0.114246286451817,-0.242501318454742,-0.132519289851189,0.106563866138458,-0.226096048951149,-0.106259457767010,-0.041657466441393,0.113313369452953,0.127139046788216,0.050086855888367,0.157784357666969,0.395357221364975,-0.056969415396452,0.101635612547398,-0.037544697523117,0.167993202805519));
res += mul(Get(s0,dx,dy), float4x4(0.114350229501724,-0.050534419715405,-0.031000005081296,0.068335548043251,0.132551014423370,0.088924311101437,0.069444596767426,-0.270869970321655,0.246005386114120,0.231287360191345,0.190088182687759,0.166875779628754,-0.319486141204834,0.128879457712173,-0.278258800506592,0.192016035318375));
res += mul(Get(s1,-dx,-dy), float4x4(-0.071742951869965,0.320589095354080,0.045903410762548,0.006133290473372,0.063527666032314,-0.002539202338085,-0.087803132832050,0.226309195160866,-0.019260110333562,0.015346167609096,-0.128118783235550,0.066999018192291,0.399591594934464,-0.122141167521477,0.009797940030694,-0.011921245604753));
res += mul(Get(s1,-dx,0), float4x4(-0.103788256645203,0.069978639483452,0.069589741528034,0.139074549078941,0.137502133846283,0.009544881992042,-0.014215750619769,0.075205765664577,0.061213605105877,-0.082805387675762,-0.071465529501438,0.162931993603706,0.344540834426880,0.102360360324383,-0.001685399212874,-0.023102473467588));
res += mul(Get(s1,-dx,dy), float4x4(-0.301453620195389,0.191316112875938,-0.113739319145679,0.214727759361267,-0.211294829845428,0.186742708086967,-0.041176524013281,-0.139727428555489,0.103385522961617,0.042247857898474,0.083831936120987,-0.012185241095722,0.100396826863289,0.260550439357758,0.035035643726587,-0.163435816764832));
res += mul(Get(s1,0,-dy), float4x4(0.208426550030708,-0.057125538587570,0.004350498784333,0.209700703620911,0.153683513402939,0.048389710485935,0.296196550130844,0.131681859493256,-0.045869927853346,-0.003721525892615,-0.131465986371040,-0.007912755943835,-0.084622189402580,-0.054028086364269,0.239293023943901,0.064269043505192));
res += mul(Get(s1,0,0), float4x4(0.223632052540779,-0.195772871375084,-0.328541755676270,0.057051431387663,-0.058913160115480,0.004621236585081,0.086377166211605,0.149005070328712,0.278360754251480,0.088775888085365,0.075310960412025,0.170327678322792,-0.045896943658590,0.151866734027863,0.070160105824471,-0.091481484472752));
res += mul(Get(s1,0,dy), float4x4(0.158650830388069,0.008087608963251,-0.034942295402288,-0.030115636065602,-0.056157778948545,0.000861963606440,-0.120788238942623,0.183961763978004,0.101627998054028,-0.089424155652523,0.214075699448586,0.019507568329573,0.043541908264160,0.172740578651428,-0.035024482756853,-0.140948459506035));
res += mul(Get(s1,dx,-dy), float4x4(-0.155755519866943,0.103886850178242,-0.158280402421951,-0.120573736727238,0.104132629930973,-0.195975840091705,-0.131341725587845,0.145982921123505,-0.067744903266430,-0.101766549050808,0.061983559280634,0.240605771541595,-0.192009776830673,-0.013602927327156,-0.223777532577515,-0.044941626489162));
res += mul(Get(s1,dx,0), float4x4(0.242844894528389,0.011194898746908,-0.248000115156174,-0.052538491785526,0.152004823088646,0.022146997973323,-0.045324537903070,0.024376902729273,-0.058751683682203,0.190365910530090,-0.057383377104998,0.037707924842834,0.013847652822733,0.414728850126266,-0.104987315833569,-0.232322648167610));
res += mul(Get(s1,dx,dy), float4x4(0.135877057909966,0.039304435253143,0.002313897944987,-0.227487891912460,-0.053674820810556,-0.115153759717941,0.019478928297758,0.226572215557098,0.250164210796356,0.055365044623613,0.007454822305590,-0.213588774204254,0.027750950306654,0.210991263389587,-0.051291514188051,-0.220563143491745));
res += mul(Get(s2,-dx,-dy), float4x4(-0.257999688386917,-0.239624157547951,0.163759410381317,0.044932514429092,-0.149088323116302,-0.065406814217567,-0.010314608924091,-0.019491529092193,-0.114509545266628,0.081914998590946,-0.034640058875084,-0.231254011392593,-0.114943802356720,-0.046837683767080,0.150242298841476,0.055996526032686));
res += mul(Get(s2,-dx,0), float4x4(-0.100380554795265,-0.023438142612576,0.080051489174366,-0.084662653505802,0.075545616447926,0.297810792922974,-0.063178613781929,0.019159061834216,-0.223617658019066,0.093482740223408,0.062073081731796,-0.096772626042366,0.165358349680901,-0.045452129095793,0.243582278490067,0.062510773539543));
res += mul(Get(s2,-dx,dy), float4x4(0.000630732916761,-0.142430439591408,-0.061904214322567,0.035873278975487,-0.005361780524254,0.057651150971651,-0.003977970220149,-0.118031188845634,0.189968839287758,0.120758637785912,-0.048859555274248,0.089640915393829,0.082079790532589,0.084377177059650,0.020307254046202,0.149053514003754));
res += mul(Get(s2,0,-dy), float4x4(-0.070105396211147,-0.094732724130154,0.027788644656539,-0.169490993022919,-0.070676155388355,-0.029443329200149,-0.051156848669052,-0.312969923019409,0.142339080572128,-0.096429407596588,-0.072212070226669,-0.274032473564148,0.112695559859276,0.106067374348640,-0.029268618673086,0.053701620548964));
res += mul(Get(s2,0,0), float4x4(0.070900134742260,-0.219308614730835,-0.074809573590755,-0.078230507671833,-0.084132447838783,0.085579968988895,0.043434571474791,-0.005662735085934,0.064577534794807,-0.126658633351326,-0.043226949870586,-0.111679024994373,0.398096680641174,0.112467058002949,-0.112668372690678,-0.043786037713289));
res += mul(Get(s2,0,dy), float4x4(-0.113174334168434,-0.137573629617691,0.043625298887491,-0.132048711180687,-0.009838357567787,0.163379684090614,0.057130090892315,0.005587337538600,0.302413493394852,0.092271007597446,-0.153768092393875,0.059535566717386,0.141822278499603,0.012106006965041,-0.177748531103134,0.088542327284813));
res += mul(Get(s2,dx,-dy), float4x4(-0.118196353316307,0.085892252624035,-0.044546194374561,-0.043598793447018,0.015830563381314,0.100629799067974,0.060166969895363,0.044760257005692,0.096295602619648,-0.215880990028381,-0.007870373316109,-0.215099960565567,0.081368222832680,-0.085462987422943,-0.018920233473182,-0.038661815226078));
res += mul(Get(s2,dx,0), float4x4(0.062363483011723,0.070742316544056,-0.054735902696848,-0.022482763975859,0.095906369388103,0.111714363098145,-0.035429611802101,-0.025329595431685,-0.078917920589447,-0.124684698879719,-0.222762778401375,-0.250695168972015,0.272464007139206,-0.000300837331451,0.014799618162215,-0.080446355044842));
res += mul(Get(s2,dx,dy), float4x4(-0.065745063126087,0.074870005249977,0.108575679361820,0.045968789607286,-0.114958189427853,0.146720185875893,0.072733737528324,0.143631651997566,0.230032369494438,-0.069827519357204,-0.136497467756271,-0.156346186995506,0.051556028425694,-0.033306278288364,0.119853086769581,0.196323648095131));
res += mul(Get(s3,-dx,-dy), float4x4(0.018128182739019,0.211769402027130,0.040910582989454,0.204005047678947,-0.021859358996153,-0.212422385811806,0.028807435184717,-0.169980376958847,0.047386944293976,0.018814802169800,0.123462572693825,0.123640500009060,0.031690955162048,-0.032393772155046,-0.085645422339439,-0.144265711307526));
res += mul(Get(s3,-dx,0), float4x4(0.200497865676880,-0.181387037038803,0.099326863884926,-0.068953350186348,-0.071154519915581,0.129624590277672,0.120749667286873,-0.008045174181461,-0.225222602486610,-0.013375709764659,0.120204038918018,-0.142189949750900,0.169076159596443,0.149885922670364,0.035942867398262,-0.079284630715847));
res += mul(Get(s3,-dx,dy), float4x4(-0.048695031553507,0.021789478138089,0.064517304301262,-0.088143505156040,-0.063729755580425,-0.017508324235678,-0.099847406148911,0.062650099396706,-0.194780915975571,-0.044628530740738,-0.035612631589174,-0.054599121212959,-0.034004420042038,-0.001307360245846,-0.170762613415718,-0.182650551199913));
res += mul(Get(s3,0,-dy), float4x4(-0.061870157718658,-0.067167386412621,0.060986090451479,0.144708514213562,0.159076094627380,0.063601657748222,-0.198555901646614,0.000044288095523,0.158617258071899,0.068133592605591,0.090604990720749,0.002511586062610,0.071123637259007,0.114710792899132,0.049337875097990,-0.022589040920138));
res += mul(Get(s3,0,0), float4x4(-0.019739598035812,-0.227095976471901,-0.170272395014763,0.037476707249880,0.022490382194519,0.062163934111595,0.085519984364510,0.196967393159866,-0.141665682196617,-0.109910994768143,0.061763793230057,0.083967909216881,0.253972291946411,0.094086878001690,0.018488749861717,0.100461609661579));
res += mul(Get(s3,0,dy), float4x4(-0.093429096043110,0.009419203735888,-0.166516095399857,0.001489561633207,-0.089564979076385,0.062231931835413,0.124722674489021,-0.055261787027121,-0.121565133333206,-0.065724395215511,-0.104936540126801,-0.243291765451431,-0.110124766826630,0.003448019502684,0.101635806262493,0.027608115226030));
res += mul(Get(s3,dx,-dy), float4x4(0.049896132200956,0.152922645211220,-0.044089023023844,-0.029303194954991,0.043510325253010,-0.054953150451183,0.064050048589706,-0.071314409375191,-0.081558182835579,0.206703692674637,-0.131081625819206,0.186401858925819,-0.159220591187477,-0.107835307717323,-0.042716685682535,0.140016615390778));
res += mul(Get(s3,dx,0), float4x4(0.109491005539894,0.166646599769592,0.232822522521019,-0.042537569999695,-0.006982760503888,0.101345352828503,-0.163492545485497,0.210461065173149,0.019416306167841,0.193970352411270,-0.000698337797076,-0.037019655108452,-0.089711606502533,0.132557526230812,0.106034293770790,0.105244755744934));
res += mul(Get(s3,dx,dy), float4x4(-0.060146328061819,0.243135854601860,-0.053380899131298,-0.044336203485727,0.142958343029022,-0.144676595926285,0.024507246911526,0.015719102695584,-0.334275454282761,-0.029996396973729,-0.016899617388844,-0.002348373178393,0.245209217071533,0.085829898715019,0.078581728041172,0.004560353700072));
return max(float4(0,0,0,0), res);
}
