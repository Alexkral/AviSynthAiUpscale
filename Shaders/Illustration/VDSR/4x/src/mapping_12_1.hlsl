sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.186967566609383,-0.206009939312935,-0.115880534052849,0.048401657491922,-0.076550744473934,0.191900506615639,0.062781326472759,-0.164762720465660,-0.051352515816689,0.471103429794312,-0.262470364570618,-0.018585594370961,0.004771820735186,-0.222979143261909,-0.167438045144081,-0.216980084776878));
res += mul(Get(s0,-dx,0), float4x4(0.081735759973526,-0.128019869327545,-0.119766950607300,-0.088705696165562,-0.138289198279381,-0.094910763204098,0.136271670460701,-0.106942273676395,-0.112360030412674,0.315036565065384,-0.257363587617874,0.126753315329552,0.064479880034924,-0.066155798733234,-0.157824248075485,-0.125583648681641));
res += mul(Get(s0,-dx,dy), float4x4(0.066796340048313,-0.223736867308617,-0.087193951010704,0.068966709077358,-0.177818998694420,-0.094111703336239,0.021663559600711,-0.049649849534035,-0.205484718084335,0.156416550278664,-0.212191849946976,0.199072673916817,0.077719204127789,0.002786032855511,-0.145533651113510,0.065128393471241));
res += mul(Get(s0,0,-dy), float4x4(0.088681109249592,-0.137357056140900,-0.010557031258941,-0.060316544026136,-0.121539264917374,0.067732401192188,0.173903614282608,-0.177225068211555,0.111137829720974,0.036599405109882,-0.098689861595631,-0.092609137296677,0.107648521661758,-0.138307288289070,0.003431966761127,-0.056367598474026));
res += mul(Get(s0,0,0), float4x4(-0.019290558993816,-0.103843115270138,0.073588237166405,-0.099343977868557,-0.046860672533512,0.001222153077833,0.198974445462227,-0.117273919284344,0.031168010085821,-0.121852502226830,-0.071071431040764,-0.057347062975168,0.127683624625206,-0.092870600521564,-0.200988680124283,-0.111118189990520));
res += mul(Get(s0,0,dy), float4x4(0.164739474654198,-0.084026902914047,0.007610556203872,-0.034130487591028,-0.107859574258327,0.073863878846169,0.123258754611015,-0.133386030793190,-0.037451669573784,0.053225520998240,-0.043979737907648,-0.069358088076115,-0.018324743956327,-0.037769686430693,-0.229505345225334,-0.003908073063940));
res += mul(Get(s0,dx,-dy), float4x4(0.033998120576143,-0.106811821460724,-0.032059047371149,-0.034457772970200,-0.053175993263721,0.091324664652348,-0.244900256395340,0.020092880353332,-0.061599977314472,0.035978134721518,0.165799826383591,-0.122939862310886,0.145269244909286,0.036588851362467,0.027808832004666,0.112481705844402));
res += mul(Get(s0,dx,0), float4x4(0.089448824524879,-0.172375708818436,-0.044251903891563,-0.061014831066132,-0.020441737025976,0.155695453286171,-0.228389143943787,0.023961050435901,0.160944595932961,0.061255317181349,-0.061023868620396,-0.129668489098549,0.023548675701022,-0.140345022082329,0.134761855006218,0.159620463848114));
res += mul(Get(s0,dx,dy), float4x4(0.204683467745781,-0.153921708464622,0.035328499972820,-0.185945034027100,-0.087653428316116,-0.004060979932547,-0.070633657276630,-0.046925600618124,0.048366442322731,0.067098282277584,-0.039180703461170,-0.270540505647659,0.016955774277449,-0.112885624170303,-0.133272469043732,0.083772942423820));
res += mul(Get(s1,-dx,-dy), float4x4(0.035500042140484,-0.053517349064350,0.209757164120674,-0.018843583762646,-0.003413206199184,-0.225207209587097,0.089579053223133,0.358494222164154,0.114284172654152,-0.153363883495331,0.030405830591917,-0.098323598504066,-0.049513746052980,0.103243634104729,0.229676008224487,-0.259093999862671));
res += mul(Get(s1,-dx,0), float4x4(-0.157020360231400,0.074185945093632,0.160397052764893,-0.151809155941010,-0.091064259409904,0.154034510254860,-0.083216279745102,0.113510593771935,0.040284402668476,-0.024051263928413,0.025070682168007,0.060108035802841,-0.018681289628148,0.044774167239666,0.277356266975403,-0.216255947947502));
res += mul(Get(s1,-dx,dy), float4x4(-0.158607095479965,0.023318575695157,0.179668694734573,-0.223707363009453,0.030805006623268,0.107067748904228,-0.111365288496017,0.251002252101898,0.186617687344551,0.073926374316216,-0.003191225696355,0.243599459528923,-0.162840381264687,0.116565197706223,0.112828113138676,-0.194776862859726));
res += mul(Get(s1,0,-dy), float4x4(-0.039829269051552,-0.055952969938517,0.121561728417873,-0.189346462488174,0.151508107781410,-0.175958618521690,0.032473944127560,0.299984008073807,0.109182581305504,-0.157784253358841,-0.052155472338200,0.282479405403137,-0.222259745001793,0.053076364099979,0.036452893167734,-0.165308803319931));
res += mul(Get(s1,0,0), float4x4(-0.185600608587265,-0.063402079045773,0.096498377621174,-0.152376845479012,-0.009146707132459,-0.066420145332813,0.057202499359846,0.007342774420977,-0.056589815765619,-0.047651857137680,-0.050311561673880,-0.003783788066357,-0.060206957161427,-0.045325931161642,-0.039197266101837,-0.242756664752960));
res += mul(Get(s1,0,dy), float4x4(-0.114603862166405,0.197873130440712,0.166689455509186,0.097383834421635,0.169031068682671,0.026016728952527,-0.121783301234245,0.064728915691376,0.138186618685722,0.074483700096607,-0.067935951054096,0.056295141577721,-0.074211701750755,0.122898049652576,0.234284594655037,-0.180181697010994));
res += mul(Get(s1,dx,-dy), float4x4(-0.191987097263336,-0.050300788134336,0.129731103777885,0.240327566862106,0.148179575800896,-0.022434005513787,-0.017005931586027,-0.099032513797283,0.026407716795802,-0.111130677163601,-0.048795010894537,-0.090327583253384,-0.185488849878311,0.036916520446539,-0.145909681916237,0.199385598301888));
res += mul(Get(s1,dx,0), float4x4(-0.238945558667183,-0.007304341997951,-0.038207687437534,0.126272514462471,0.028887255117297,-0.047645512968302,-0.040332458913326,0.070946678519249,-0.096877321600914,0.060573276132345,-0.015209017321467,-0.019411759451032,-0.040719848126173,0.014268862083554,-0.199593275785446,0.088568970561028));
res += mul(Get(s1,dx,dy), float4x4(-0.055616125464439,0.256074398756027,-0.234974712133408,0.120521016418934,0.225992873311043,-0.108093433082104,0.139637336134911,-0.048360809683800,0.455546647310257,0.122763022780418,-0.192087039351463,0.037811491638422,-0.090767450630665,0.271410852670670,0.020117219537497,0.077873378992081));
res += mul(Get(s2,-dx,-dy), float4x4(0.221414014697075,-0.047323491424322,-0.093780718743801,-0.034054461866617,0.020720461383462,0.032324280589819,0.073473498225212,0.292024165391922,-0.074790135025978,0.109984293580055,0.142543703317642,-0.188852906227112,0.177600517868996,0.215639382600784,-0.199799686670303,-0.252997487783432));
res += mul(Get(s2,-dx,0), float4x4(0.082016676664352,0.005100148264319,-0.024668928235769,-0.061547961086035,0.043565601110458,-0.020727803930640,0.028426861390471,0.029038500040770,-0.218954384326935,-0.038523469120264,-0.045696869492531,-0.199097663164139,-0.151528373360634,-0.081142738461494,-0.181825324892998,-0.189653664827347));
res += mul(Get(s2,-dx,dy), float4x4(0.094506822526455,-0.061115417629480,-0.126331105828285,-0.147179946303368,0.044056132435799,-0.147735193371773,-0.137761756777763,-0.001222527120262,-0.286163955926895,-0.250156134366989,0.004069085698575,-0.278293579816818,-0.140149772167206,0.222950249910355,-0.062986515462399,-0.008045351132751));
res += mul(Get(s2,0,-dy), float4x4(0.077979721128941,-0.012262864969671,-0.076955065131187,-0.106348320841789,0.118508160114288,0.114108040928841,-0.134550660848618,0.150766491889954,-0.050315447151661,-0.089801304042339,-0.085498198866844,0.091648966073990,-0.096150889992714,0.084968492388725,-0.004086310043931,-0.109460555016994));
res += mul(Get(s2,0,0), float4x4(0.188089132308960,0.051412373781204,-0.091063737869263,-0.078952983021736,0.048892568796873,0.014010155573487,-0.148750200867653,0.152585506439209,-0.098443232476711,-0.054611109197140,0.063692569732666,0.086955338716507,-0.071287818253040,-0.122014731168747,0.003141771536320,-0.110303297638893));
res += mul(Get(s2,0,dy), float4x4(0.174580797553062,0.017551427707076,-0.135511308908463,-0.146673008799553,-0.117044158279896,-0.124034851789474,-0.123588182032108,0.159406557679176,-0.246882036328316,-0.163499683141708,-0.033898662775755,-0.163697838783264,-0.075291737914085,-0.021181784570217,-0.142922610044479,-0.187671899795532));
res += mul(Get(s2,dx,-dy), float4x4(0.177211537957191,-0.054499000310898,0.121292911469936,0.133495137095451,0.020961804315448,0.006552136503160,-0.000699048396200,0.139954671263695,-0.062164984643459,-0.142417550086975,-0.228299781680107,0.128700375556946,-0.062256112694740,-0.120459049940109,0.354358226060867,-0.069744072854519));
res += mul(Get(s2,dx,0), float4x4(0.289910852909088,-0.131099089980125,0.062095902860165,-0.028665645048022,-0.142577052116394,0.130229786038399,-0.092569917440414,-0.004370020702481,-0.101889945566654,-0.009303148835897,-0.063957713544369,0.037930212914944,-0.126844435930252,-0.199835151433945,0.149686038494110,0.131005674600601));
res += mul(Get(s2,dx,dy), float4x4(0.070450551807880,-0.151821464300156,0.089506968855858,-0.009477925486863,-0.030531434342265,0.064125210046768,-0.173719197511673,0.237924769520760,-0.258681625127792,-0.221811264753342,-0.028891140595078,0.072395354509354,-0.157696038484573,-0.026082681491971,0.026605423539877,0.016730610281229));
res += mul(Get(s3,-dx,-dy), float4x4(-0.011106666177511,0.285996764898300,0.182039737701416,-0.095503441989422,0.261716663837433,-0.036414187401533,-0.188822850584984,0.165073901414871,0.043274015188217,-0.183837935328484,-0.102322950959206,0.331245303153992,0.520056426525116,-0.120911873877048,0.079491041600704,-0.209826052188873));
res += mul(Get(s3,-dx,0), float4x4(-0.024853829294443,0.142376631498337,0.114014431834221,-0.128023386001587,0.162617355585098,-0.006172744091600,-0.159493938088417,0.020972143858671,-0.131787776947021,-0.169884249567986,-0.106498584151268,0.185210540890694,0.015531604178250,0.045930311083794,-0.044889107346535,0.094824090600014));
res += mul(Get(s3,-dx,dy), float4x4(-0.181342393159866,0.213985636830330,0.340883702039719,-0.220386132597923,0.237657070159912,0.128160640597343,0.006110596936196,-0.097495026886463,0.064077012240887,-0.056309226900339,-0.098876148462296,0.398069620132446,-0.042257618159056,0.107239723205566,-0.025261685252190,0.155341550707817));
res += mul(Get(s3,0,-dy), float4x4(-0.205683469772339,0.182004660367966,-0.102049194276333,-0.141594544053078,-0.109341278672218,-0.150872051715851,0.135857909917831,0.367573976516724,0.133205860853195,-0.123961314558983,-0.047008659690619,-0.039826456457376,-0.158920213580132,-0.128267273306847,-0.086667135357857,-0.094067811965942));
res += mul(Get(s3,0,0), float4x4(-0.060342624783516,0.002657746430486,0.006991010159254,-0.035662133246660,-0.240934267640114,-0.078779019415379,0.212266445159912,0.184028193354607,-0.098257794976234,-0.031294558197260,0.119275599718094,-0.039083730429411,-0.056240476667881,0.019853657111526,-0.026798382401466,0.125954821705818));
res += mul(Get(s3,0,dy), float4x4(-0.162919998168945,0.130462989211082,0.007390443235636,0.014697509817779,0.045664291828871,0.022928910329938,0.325211435556412,-0.026367226615548,-0.042627725750208,-0.061109513044357,0.070156656205654,-0.092151127755642,0.001028655329719,0.021223183721304,-0.063023120164871,0.063329264521599));
res += mul(Get(s3,dx,-dy), float4x4(-0.238959804177284,0.060837499797344,-0.049865826964378,0.019149018451571,-0.057096567004919,0.036952491849661,0.089693635702133,-0.230999499559402,0.017271280288696,-0.257432401180267,0.263858467340469,0.035320669412613,-0.057736758142710,-0.054339714348316,-0.010388541966677,0.036818727850914));
res += mul(Get(s3,dx,0), float4x4(-0.090158812701702,0.054966732859612,-0.104988746345043,0.050683766603470,-0.038177784532309,-0.016921767964959,0.060939274728298,0.098015293478966,-0.151902303099632,-0.157519161701202,0.017762504518032,-0.075152881443501,-0.010611791163683,-0.167902171611786,-0.022435856983066,0.188269108533859));
res += mul(Get(s3,dx,dy), float4x4(-0.128409504890442,0.397984743118286,-0.137299314141273,0.160438120365143,0.164843156933784,-0.119677655398846,0.030260626226664,-0.185838907957077,-0.195838063955307,-0.164122715592384,0.106417737901211,0.158444136381149,-0.079083345830441,-0.041757777333260,-0.083022229373455,0.076825812458992));
return max(float4(0,0,0,0), res);
}
