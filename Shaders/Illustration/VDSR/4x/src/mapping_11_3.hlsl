sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.217545434832573,-0.008208154700696,-0.117793098092079,-0.161494493484497,-0.125092387199402,-0.127439081668854,-0.006709695328027,-0.004618644714355,-0.088522940874100,0.043451488018036,-0.053958442062140,-0.171451807022095,-0.025732273235917,0.181588873267174,-0.262744307518005,-0.069751471281052));
res += mul(Get(s0,-dx,0), float4x4(0.045417182147503,-0.035180591046810,-0.127120882272720,-0.062699228525162,-0.148136213421822,-0.132851749658585,0.227345302700996,-0.083450004458427,-0.203258186578751,-0.017869828268886,-0.073027841746807,-0.183908924460411,-0.247651115059853,0.128594040870667,-0.171524569392204,-0.021516652777791));
res += mul(Get(s0,-dx,dy), float4x4(-0.250265717506409,0.052932567894459,-0.043294060975313,0.068315945565701,-0.192678391933441,-0.100948669016361,-0.044137224555016,-0.003090194193646,-0.055594734847546,0.293430149555206,-0.129834353923798,-0.189916342496872,-0.136949837207794,0.084031984210014,-0.174936056137085,-0.015500134788454));
res += mul(Get(s0,0,-dy), float4x4(-0.062183208763599,-0.138659864664078,-0.081701666116714,-0.044426541775465,-0.114121802151203,0.005990613717586,-0.244198754429817,0.007399201393127,0.112944819033146,-0.116949796676636,0.087869063019753,-0.177640765905380,0.167306736111641,-0.012907663360238,-0.019049214199185,-0.040536362677813));
res += mul(Get(s0,0,0), float4x4(0.099010668694973,-0.070141844451427,-0.016328033059835,0.079964019358158,-0.076442085206509,-0.055977977812290,-0.040422618389130,-0.124866962432861,-0.064454384148121,-0.316351175308228,0.049218162894249,-0.152612105011940,-0.016902597621083,0.071841470897198,-0.060682963579893,-0.028974765911698));
res += mul(Get(s0,0,dy), float4x4(0.008693390525877,-0.057582393288612,-0.005460481625050,0.022499972954392,-0.026764653623104,-0.079323701560497,0.048811409622431,-0.039952509105206,-0.040085613727570,0.071766518056393,-0.114772237837315,-0.166828796267509,-0.124743439257145,0.007161810994148,0.004038848448545,0.185160562396049));
res += mul(Get(s0,dx,-dy), float4x4(-0.014589731581509,-0.082280874252319,-0.100237056612968,-0.163021251559258,-0.179879963397980,0.383301794528961,-0.174570888280869,0.132190525531769,0.353554844856262,-0.091228589415550,-0.037390474230051,-0.247905895113945,0.030806420370936,-0.053998675197363,0.015573523938656,-0.102729082107544));
res += mul(Get(s0,dx,0), float4x4(-0.124308109283447,-0.104885905981064,0.124444752931595,0.040320608764887,-0.161762237548828,0.049717403948307,0.068913586437702,-0.085631653666496,-0.235393539071083,-0.108388505876064,-0.099450998008251,-0.177445784211159,0.014088829979300,-0.053348291665316,0.039361599832773,0.030575420707464));
res += mul(Get(s0,dx,dy), float4x4(0.077887572348118,-0.003363674506545,0.069315776228905,-0.030306776985526,0.011330073699355,0.021846115589142,-0.235663041472435,-0.184312909841537,0.219794884324074,0.102703750133514,-0.166823491454124,0.128605410456657,-0.032988537102938,-0.040192183107138,-0.151848107576370,0.156940877437592));
res += mul(Get(s1,-dx,-dy), float4x4(0.001677894964814,0.091014802455902,-0.173501729965210,-0.072262339293957,0.127132460474968,0.050020176917315,0.156037285923958,-0.042697124183178,-0.063150897622108,-0.041390292346478,-0.012423930689692,-0.168571308255196,-0.002569939708337,0.064774975180626,0.410167843103409,0.037582915276289));
res += mul(Get(s1,-dx,0), float4x4(-0.048504419624805,-0.072985716164112,0.040441986173391,-0.166385427117348,-0.056102950125933,0.050316106528044,-0.062555350363255,-0.051012851297855,-0.203403577208519,-0.016154002398252,-0.112422525882721,-0.144357383251190,-0.035804327577353,0.128229886293411,0.037111535668373,-0.054473191499710));
res += mul(Get(s1,-dx,dy), float4x4(0.023123761638999,-0.056944657117128,-0.106328494846821,0.045532248914242,0.192046687006950,-0.008032564073801,-0.092668995261192,-0.124368131160736,-0.164878800511360,-0.041895523667336,-0.124420650303364,-0.159931570291519,-0.087311007082462,0.283400267362595,-0.106166005134583,0.088083423674107));
res += mul(Get(s1,0,-dy), float4x4(-0.006054147146642,0.091578379273415,0.025532806292176,0.069701164960861,0.139236286282539,-0.054394200444221,-0.126706376671791,-0.052488494664431,0.112020514905453,-0.165572538971901,0.004623631946743,-0.149775132536888,0.187135472893715,-0.066075608134270,-0.074282661080360,-0.080916076898575));
res += mul(Get(s1,0,0), float4x4(0.014334290288389,-0.069773599505424,0.227988213300705,0.046195603907108,0.246344342827797,0.022802300751209,0.007861646823585,0.006614964455366,0.038388583809137,-0.178384482860565,-0.114155746996403,-0.087111875414848,0.129360124468803,-0.136321619153023,-0.130825027823448,-0.095571212470531));
res += mul(Get(s1,0,dy), float4x4(-0.076730221509933,-0.111563324928284,-0.056691139936447,0.034348968416452,-0.115163519978523,0.128552764654160,-0.025383520871401,-0.156066223978996,0.062841147184372,-0.151127547025681,-0.138186752796173,-0.159876853227615,0.133193567395210,0.301015168428421,-0.049109984189272,0.030975945293903));
res += mul(Get(s1,dx,-dy), float4x4(-0.187218427658081,0.034203223884106,-0.045082531869411,-0.014326400123537,0.151268392801285,-0.057909946888685,0.064961120486259,-0.077776327729225,-0.158118799328804,-0.167883381247520,0.005327425897121,-0.122112669050694,-0.057685032486916,0.112100899219513,0.185484737157822,0.059296395629644));
res += mul(Get(s1,dx,0), float4x4(-0.069445714354515,-0.087538026273251,0.093447767198086,0.196495577692986,0.170352518558502,-0.111333049833775,0.131881162524223,0.025415841490030,0.118083789944649,-0.176703557372093,-0.026820298284292,-0.074458621442318,0.050392329692841,-0.001286038197577,0.014266776852310,-0.079686649143696));
res += mul(Get(s1,dx,dy), float4x4(-0.171662539243698,-0.100340984761715,-0.070299349725246,0.114554896950722,0.009163699112833,-0.090666033327579,-0.080154150724411,0.159321680665016,0.154814183712006,0.018109310418367,-0.025123387575150,-0.089660711586475,-0.091133333742619,0.134688839316368,-0.001311784842983,0.003642374416813));
res += mul(Get(s2,-dx,-dy), float4x4(0.148205935955048,-0.003356784582138,-0.172297686338425,0.008934157900512,0.097343340516090,-0.031541828066111,-0.074778959155083,0.026875905692577,0.102302685379982,-0.081913940608501,0.010167890228331,-0.083877123892307,0.033726811408997,-0.066772744059563,0.051897536963224,-0.096650227904320));
res += mul(Get(s2,-dx,0), float4x4(-0.023774359375238,-0.135108843445778,-0.147147268056870,-0.077454194426537,-0.083442337810993,-0.058603845536709,0.080317683517933,-0.019814053550363,-0.053384598344564,-0.218794718384743,-0.058357696980238,0.045656412839890,-0.017943914979696,-0.018777951598167,-0.036260928958654,0.037198100239038));
res += mul(Get(s2,-dx,dy), float4x4(-0.072538971900940,-0.074468076229095,0.036483496427536,-0.023838929831982,-0.006417202763259,0.050248429179192,0.282941102981567,0.027888972312212,-0.149434447288513,-0.184644177556038,-0.027360383421183,-0.158849507570267,-0.044504333287477,-0.035148546099663,0.041735924780369,0.101546414196491));
res += mul(Get(s2,0,-dy), float4x4(0.141840845346451,0.041485313326120,-0.079039216041565,-0.037742108106613,0.132626622915268,0.095461152493954,0.049962289631367,0.150404870510101,0.123918749392033,0.037303123623133,0.115231417119503,-0.003105066949502,-0.173817977309227,0.038468413054943,0.038643810898066,-0.167227581143379));
res += mul(Get(s2,0,0), float4x4(0.047530416399240,-0.050538670271635,-0.034833539277315,-0.102940119802952,-0.077009014785290,-0.106001600623131,0.063762478530407,0.062707111239433,0.002237987238914,0.026668757200241,0.016351301223040,0.049981631338596,-0.026823518797755,0.013363501988351,-0.213876217603683,0.038542591035366));
res += mul(Get(s2,0,dy), float4x4(-0.152476534247398,-0.067998632788658,-0.090669251978397,-0.018734995275736,0.038751590996981,-0.022260548546910,0.077587865293026,-0.027170218527317,-0.178033396601677,-0.162383228540421,-0.000592123891693,-0.051106311380863,-0.053311262279749,-0.053885210305452,0.157355740666389,-0.140302717685699));
res += mul(Get(s2,dx,-dy), float4x4(0.091929711401463,0.251726269721985,-0.062506280839443,0.063821695744991,0.083369605243206,0.189700961112976,0.008018399588764,0.195199176669121,-0.010010239668190,0.084177441895008,-0.130879163742065,-0.099718123674393,-0.123676314949989,0.066308706998825,0.136226072907448,0.100616171956062));
res += mul(Get(s2,dx,0), float4x4(-0.111976891756058,0.066032327711582,-0.029603444039822,0.131266951560974,-0.036148726940155,-0.100911349058151,0.071042828261852,0.138089165091515,-0.037047192454338,0.015730932354927,-0.135701194405556,0.001037236885168,-0.009339259006083,0.081333644688129,-0.130948647856712,-0.170512974262238));
res += mul(Get(s2,dx,dy), float4x4(-0.152352750301361,-0.020791564136744,0.037874907255173,0.005900877062231,0.078771494328976,0.161257788538933,0.155285030603409,-0.136889144778252,0.045690324157476,-0.068953797221184,-0.211465448141098,0.072738409042358,-0.073792248964310,-0.039239238947630,-0.003356419503689,-0.046848926693201));
res += mul(Get(s3,-dx,-dy), float4x4(-0.228906139731407,0.103571839630604,-0.083687029778957,0.201557606458664,-0.007381396368146,0.258087098598480,0.245012715458870,-0.153277844190598,-0.101315028965473,-0.173722475767136,-0.003317947499454,0.141507431864738,0.079824119806290,-0.042771734297276,0.214718163013458,-0.059120047837496));
res += mul(Get(s3,-dx,0), float4x4(-0.247090995311737,0.200904786586761,-0.031856443732977,0.122880332171917,0.004653513897210,-0.081343844532967,-0.130665630102158,0.043931942433119,-0.044749043881893,-0.176101371645927,-0.005431455560029,-0.005261162761599,0.198311462998390,-0.074470624327660,0.056302357465029,-0.099398605525494));
res += mul(Get(s3,-dx,dy), float4x4(-0.201233014464378,-0.015916176140308,-0.206154629588127,0.100780181586742,-0.045409705489874,-0.187863215804100,0.016592560335994,-0.231110826134682,-0.057944852858782,-0.136272668838501,0.126851022243500,0.018341476097703,0.093474656343460,0.054868668317795,0.093979381024837,-0.178517088294029));
res += mul(Get(s3,0,-dy), float4x4(0.128166973590851,0.065269045531750,0.072069644927979,0.171415343880653,-0.011371518485248,0.234621912240982,0.119562812149525,-0.054262686520815,-0.029261015355587,-0.016814662143588,0.190248161554337,-0.033332023769617,0.056351043283939,0.013860419392586,0.120125681161880,0.077124804258347));
res += mul(Get(s3,0,0), float4x4(0.041931238025427,0.131742447614670,0.083702042698860,0.112954862415791,-0.115912467241287,-0.008147356100380,-0.016064384952188,0.148696258664131,-0.063307479023933,-0.032891426235437,0.238546550273895,0.043902579694986,0.083354182541370,-0.010677961632609,0.139273554086685,0.118243694305420));
res += mul(Get(s3,0,dy), float4x4(-0.097457930445671,0.070982582867146,0.004406066611409,-0.190070793032646,-0.156591460108757,-0.032345872372389,-0.023803561925888,-0.143382310867310,0.068050585687160,-0.106963112950325,-0.003350310027599,-0.083237528800964,-0.064077205955982,-0.065996512770653,0.042470753192902,-0.156077146530151));
res += mul(Get(s3,dx,-dy), float4x4(0.244849339127541,-0.132954046130180,-0.031303327530622,0.183511599898338,0.169029653072357,-0.279321044683456,0.039285548031330,-0.201453104615211,-0.030095845460892,0.117249332368374,-0.064918510615826,0.059219531714916,0.041768655180931,-0.168355673551559,-0.026245003566146,-0.043074607849121));
res += mul(Get(s3,dx,0), float4x4(0.522202372550964,0.130610451102257,-0.221792742609978,0.288192957639694,-0.019634438678622,-0.277151793241501,0.042940597981215,0.008484812453389,-0.019197626039386,0.156430825591087,0.044453259557486,-0.029603775590658,0.019554663449526,-0.074899181723595,-0.115366563200951,0.134042143821716));
res += mul(Get(s3,dx,dy), float4x4(-0.000537088781130,0.072320885956287,-0.208473011851311,0.223681345582008,-0.092290863394737,0.014187803491950,-0.080302558839321,-0.096264675259590,-0.097068734467030,-0.084823496639729,-0.109299711883068,0.041740082204342,-0.055802997201681,-0.240298122167587,-0.276405125856400,-0.016106121242046));
return max(float4(0,0,0,0), res);
}
