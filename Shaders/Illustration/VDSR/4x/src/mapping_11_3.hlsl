sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.363120406866074,0.197785809636116,0.154510244727135,-0.069097496569157,-0.037724032998085,0.196869105100632,-0.094019532203674,0.168233394622803,-0.169055983424187,0.103631131350994,-0.092773824930191,0.128782600164413,0.011387124657631,-0.018614966422319,0.096008747816086,-0.160559654235840));
res += mul(Get(s0,-dx,0), float4x4(-0.113249674439430,-0.115569867193699,-0.049507915973663,0.191386550664902,-0.010622682981193,0.280778169631958,0.012095880694687,0.072193801403046,0.088291108608246,-0.052383020520210,0.019510958343744,0.137300193309784,0.092127449810505,0.142640650272369,0.007176330778748,-0.240471109747887));
res += mul(Get(s0,-dx,dy), float4x4(0.050716064870358,-0.054353989660740,0.018341530114412,-0.054838184267282,-0.113005235791206,0.040368229150772,0.264350265264511,0.125984266400337,-0.033828143030405,-0.213922232389450,0.178272753953934,-0.042410362511873,0.169486910104752,-0.095141917467117,-0.130608230829239,-0.102845765650272));
res += mul(Get(s0,0,-dy), float4x4(0.277829676866531,0.144643604755402,-0.067836709320545,0.057261575013399,0.051177375018597,-0.082742698490620,0.270207941532135,0.027414668351412,0.083914875984192,-0.079796887934208,-0.109987832605839,0.047835435718298,0.022205801680684,0.066427230834961,0.019294440746307,0.088646478950977));
res += mul(Get(s0,0,0), float4x4(0.027347758412361,-0.011569330468774,0.082560233771801,0.021055821329355,0.034564554691315,0.122117362916470,-0.129236340522766,0.103169992566109,0.083585932850838,0.010999512858689,-0.138260141015053,0.119002863764763,-0.057513698935509,-0.059257190674543,0.065289929509163,-0.121474929153919));
res += mul(Get(s0,0,dy), float4x4(-0.059715878218412,0.221651360392570,-0.072808697819710,0.127670690417290,0.176947653293610,0.076486326754093,0.012796156108379,0.184444084763527,-0.070767797529697,0.283174961805344,0.014478167518973,0.038075551390648,0.087019778788090,0.144954413175583,0.037214580923319,0.014739473350346));
res += mul(Get(s0,dx,-dy), float4x4(0.038423530757427,-0.030381079763174,-0.003704380476847,-0.179540276527405,0.036329343914986,0.159351736307144,-0.045636788010597,-0.017321109771729,0.018465403467417,0.209910377860069,-0.195247262716293,-0.021446151658893,-0.133080035448074,-0.034301888197660,0.075187072157860,-0.237908825278282));
res += mul(Get(s0,dx,0), float4x4(-0.126733943820000,-0.003966919612139,0.022511174902320,-0.095750965178013,0.126018807291985,0.129934102296829,0.067130617797375,0.063248179852962,0.081940196454525,0.170788869261742,-0.129293948411942,-0.016272973269224,-0.078271932899952,-0.060194134712219,0.367001414299011,0.067922562360764));
res += mul(Get(s0,dx,dy), float4x4(-0.105259627103806,0.200902059674263,0.133139356970787,0.146612063050270,0.216535866260529,0.254801660776138,0.080614306032658,0.143097534775734,0.166678518056870,-0.043297629803419,-0.011172220110893,-0.136334836483002,0.123735666275024,0.085318274796009,-0.076096691191196,-0.199670106172562));
res += mul(Get(s1,-dx,-dy), float4x4(-0.063451275229454,0.004545264411718,-0.252681434154510,-0.145073771476746,0.132469549775124,-0.044627700001001,-0.228752523660660,0.067472070455551,0.007921281270683,-0.040257547050714,0.129341274499893,0.006048785522580,0.182439804077148,-0.217321082949638,0.136684104800224,0.037522107362747));
res += mul(Get(s1,-dx,0), float4x4(-0.108890324831009,-0.040690731257200,0.023835025727749,0.009749053977430,0.173537865281105,-0.162585422396660,-0.160304948687553,-0.072337038815022,-0.131635949015617,0.030041402205825,-0.142636522650719,-0.094133123755455,-0.042729120701551,-0.156554773449898,-0.043701410293579,-0.022476762533188));
res += mul(Get(s1,-dx,dy), float4x4(0.083946496248245,-0.149060294032097,0.017882963642478,-0.104217045009136,-0.045495972037315,0.302610397338867,-0.278721213340759,0.137679263949394,-0.107828095555305,0.018348433077335,-0.024298377335072,-0.042597543448210,0.173525378108025,0.041049767285585,-0.078049033880234,-0.156330555677414));
res += mul(Get(s1,0,-dy), float4x4(-0.082165203988552,-0.035769417881966,0.000003798967327,-0.030279738828540,0.002139109186828,0.085959158837795,-0.063832484185696,0.172321692109108,0.037790596485138,0.083274573087692,0.004450812935829,-0.004348624963313,-0.153403416275978,0.136677533388138,0.164426609873772,0.101036690175533));
res += mul(Get(s1,0,0), float4x4(0.121955700218678,-0.049353376030922,-0.050222057849169,0.031681597232819,0.027601171284914,-0.098998576402664,0.075562089681625,0.140919104218483,0.240240171551704,0.012710079550743,0.081027664244175,-0.093243375420570,0.143306255340576,-0.222958803176880,0.102629311382771,0.017270036041737));
res += mul(Get(s1,0,dy), float4x4(0.032251689583063,0.040645606815815,0.097801506519318,-0.051520794630051,-0.079936467111111,0.084942758083344,0.117055557668209,-0.014505764469504,0.061634011566639,0.011949955485761,0.138278767466545,0.121853359043598,-0.102590776979923,-0.082723043859005,0.161432906985283,-0.021628616377711));
res += mul(Get(s1,dx,-dy), float4x4(0.053489390760660,-0.091688700020313,-0.022666670382023,0.082186184823513,0.122746989130974,-0.017324758693576,-0.049400508403778,-0.162473902106285,0.068284824490547,-0.130059644579887,0.013428768143058,-0.009083564393222,-0.069590412080288,0.103583745658398,-0.018582060933113,-0.108194984495640));
res += mul(Get(s1,dx,0), float4x4(-0.009400841780007,-0.011551486328244,0.045717779546976,0.024368742480874,0.017144965007901,-0.091006793081760,-0.014684696681798,0.054726254194975,0.088795907795429,0.001628105295822,0.234122052788734,0.008999965153635,0.061860568821430,-0.012583010829985,-0.031992387026548,-0.076776333153248));
res += mul(Get(s1,dx,dy), float4x4(-0.002046525944024,-0.117102250456810,-0.024983095005155,0.014501970261335,-0.026154251769185,0.037583868950605,-0.002305278088897,0.009937419556081,-0.048876043409109,0.004712595604360,0.064293362200260,0.124919064342976,0.154946342110634,0.027223788201809,0.149377852678299,-0.005032367538661));
res += mul(Get(s2,-dx,-dy), float4x4(-0.104731194674969,-0.007299635559320,-0.009144774638116,-0.184099674224854,0.147425159811974,-0.279333591461182,-0.031803488731384,0.064855307340622,0.117732107639313,0.132424026727676,0.082617871463299,-0.057037912309170,0.046484537422657,-0.171265050768852,-0.050600118935108,-0.171925619244576));
res += mul(Get(s2,-dx,0), float4x4(0.121219098567963,0.027398418635130,0.143785417079926,-0.102197401225567,0.069669105112553,-0.099871896207333,0.095951586961746,0.232249245047569,-0.083329379558563,-0.002904996508732,0.122984804213047,-0.052306648343801,-0.008358418010175,-0.209812164306641,-0.084793686866760,-0.196682155132294));
res += mul(Get(s2,-dx,dy), float4x4(-0.072586104273796,-0.133442983031273,-0.089363515377045,0.077689699828625,-0.147078379988670,-0.144293874502182,-0.135660067200661,0.135819017887115,0.120702385902405,0.016318706795573,0.056757919490337,0.133499979972839,0.017541959881783,-0.207120060920715,0.063821248710155,0.055093955248594));
res += mul(Get(s2,0,-dy), float4x4(-0.244764938950539,-0.171143442392349,-0.177859380841255,-0.220272555947304,-0.028035629540682,0.125140637159348,0.045508727431297,0.039904892444611,0.038671068847179,-0.073911085724831,-0.018522433936596,0.139946356415749,-0.029366696253419,0.095319688320160,0.165605202317238,-0.172194927930832));
res += mul(Get(s2,0,0), float4x4(-0.047701247036457,0.110775619745255,0.047109134495258,0.070311270654202,-0.188751623034477,-0.073556885123253,-0.008746620267630,0.173935279250145,0.012372642755508,0.090420171618462,0.143845215439796,-0.132623389363289,0.102864950895309,-0.113606140017509,-0.015891632065177,-0.026049990206957));
res += mul(Get(s2,0,dy), float4x4(-0.014034155756235,-0.071081884205341,-0.070335462689400,0.040199153125286,-0.108516253530979,0.132864132523537,-0.051306102424860,0.117470867931843,0.045000713318586,0.196009874343872,0.137569680809975,0.071024730801582,0.057476229965687,-0.252152085304260,0.025680003687739,-0.052096255123615));
res += mul(Get(s2,dx,-dy), float4x4(-0.019321912899613,-0.048884201794863,0.100419104099274,-0.043047141283751,-0.158779621124268,0.155487343668938,0.247331783175468,-0.052548866719007,-0.053787264972925,-0.025891475379467,0.169590979814529,-0.025804428383708,0.142107039690018,-0.048293430358171,-0.059260763227940,-0.093461751937866));
res += mul(Get(s2,dx,0), float4x4(-0.009548202157021,-0.041591685265303,0.019707841798663,-0.017748590558767,0.001156717888080,-0.116751097142696,-0.118682838976383,0.111021541059017,0.261524260044098,-0.098771974444389,0.035737771540880,0.117748096585274,0.105115994811058,-0.144473865628242,-0.028637092560530,0.072853811085224));
res += mul(Get(s2,dx,dy), float4x4(-0.033727414906025,0.134030878543854,-0.157051280140877,0.110229387879372,0.031484510749578,-0.150690734386444,-0.087424486875534,0.026965549215674,0.213708057999611,-0.135931581258774,-0.123313866555691,0.141605228185654,0.031002558767796,0.013485755771399,-0.084418132901192,0.019726002588868));
res += mul(Get(s3,-dx,-dy), float4x4(-0.043471429497004,0.087668471038342,-0.154744610190392,0.091273903846741,0.039376039057970,0.081449054181576,-0.132917329668999,0.016471656039357,0.165105283260345,-0.061258893460035,0.188540264964104,-0.002818980487064,-0.104880124330521,0.187130987644196,0.173027977347374,0.010717434808612));
res += mul(Get(s3,-dx,0), float4x4(-0.374139755964279,-0.073341697454453,0.034696299582720,0.061536595225334,0.155719056725502,-0.113165453076363,-0.022974964231253,-0.130627706646919,0.030643820762634,0.005458799656481,0.334759354591370,-0.020008990541101,0.115316346287727,0.018722180277109,0.002400757744908,0.167204916477203));
res += mul(Get(s3,-dx,dy), float4x4(-0.041205119341612,0.050752699375153,0.088772401213646,0.237704217433929,0.079377114772797,0.037803411483765,-0.107251726090908,0.079069957137108,-0.013091398403049,0.126251652836800,0.066018648445606,0.043021313846111,-0.064773909747601,0.077992714941502,0.032699085772038,-0.012728114612401));
res += mul(Get(s3,0,-dy), float4x4(0.103116802871227,-0.091756500303745,0.006075366400182,-0.159742608666420,0.060975614935160,0.154915064573288,0.008922312408686,-0.052605308592319,0.122661590576172,0.050889164209366,0.229206830263138,0.001356593333185,-0.147361651062965,-0.070926867425442,0.188271895051003,0.075866572558880));
res += mul(Get(s3,0,0), float4x4(-0.041410792618990,-0.020304087549448,0.107013180851936,0.035331197082996,0.035542950034142,0.045504219830036,-0.048669256269932,-0.020383907482028,-0.000841053377371,0.064716748893261,0.130654424428940,-0.048518925905228,-0.033029958605766,-0.021910810843110,-0.095398962497711,0.094217799603939));
res += mul(Get(s3,0,dy), float4x4(-0.208908066153526,-0.161914542317390,-0.274756848812103,0.140240505337715,-0.011306832544506,0.030160570517182,-0.111845992505550,-0.038683954626322,0.104337818920612,0.086413115262985,-0.010533445514739,0.081780202686787,-0.101956553757191,-0.109921231865883,-0.038850292563438,-0.063835866749287));
res += mul(Get(s3,dx,-dy), float4x4(0.028207164257765,-0.178228974342346,-0.012685915455222,-0.136476233601570,-0.000080459140008,-0.130129009485245,-0.031413495540619,0.031874384731054,0.083051823079586,0.151963159441948,-0.008571647107601,0.018873423337936,-0.367281049489975,-0.102026812732220,-0.012024136260152,-0.028854781761765));
res += mul(Get(s3,dx,0), float4x4(-0.097890749573708,0.031257763504982,0.003859981894493,0.155007451772690,-0.091868884861469,0.090472847223282,0.044455617666245,0.019043361768126,-0.085917763411999,0.121663630008698,-0.030303709208965,0.171278804540634,0.119012653827667,-0.083281837403774,-0.094254381954670,-0.135590136051178));
res += mul(Get(s3,dx,dy), float4x4(0.106363058090210,-0.027743738144636,-0.139167696237564,-0.035474739968777,0.096770584583282,-0.215383350849152,0.043179381638765,-0.064457893371582,-0.015299765393138,0.002895551733673,-0.090156748890877,0.200887262821198,-0.052432037889957,0.079611949622631,-0.017855100333691,-0.011738012544811));
return max(float4(0,0,0,0), res);
}
