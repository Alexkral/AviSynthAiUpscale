sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.089185729622841,-0.031087735667825,-0.028999008238316,0.043098948895931,-0.085052862763405,0.055368859320879,-0.055275041610003,0.047674067318439,-0.037588838487864,-0.115064471960068,0.014633226208389,0.175193697214127,0.169495940208435,0.158945962786674,-0.110999070107937,0.043773937970400));
res += mul(Get(s0,-dx,0), float4x4(0.188012257218361,0.134468987584114,0.112929895520210,0.182118237018585,-0.153712838888168,0.162037834525108,0.090703338384628,0.123273856937885,0.057522565126419,0.046300195157528,0.023582207038999,-0.099388413131237,0.014947636984289,0.101441770792007,-0.053380735218525,-0.053099121898413));
res += mul(Get(s0,-dx,dy), float4x4(0.309355288743973,0.070116348564625,0.236738488078117,0.152432784438133,-0.167109534144402,-0.150867581367493,-0.012057437561452,0.261217802762985,0.053525622934103,-0.136037051677704,-0.012868569232523,-0.036897864192724,0.047081481665373,0.173521742224693,0.117175586521626,0.088129907846451));
res += mul(Get(s0,0,-dy), float4x4(0.062446437776089,0.169070214033127,0.080678239464760,-0.137774333357811,0.001529900240712,0.062029775232077,-0.009048025123775,-0.096710599958897,0.174511805176735,0.028079630807042,-0.105503410100937,-0.085769906640053,0.059591285884380,0.033026985824108,-0.036756552755833,0.106648452579975));
res += mul(Get(s0,0,0), float4x4(0.074577756226063,-0.098670974373817,0.252136021852493,0.199481576681137,0.011259872466326,0.021029708907008,-0.102778747677803,-0.032458249479532,0.173382669687271,-0.060405705124140,-0.176120042800903,0.194953307509422,0.015447444282472,-0.062573865056038,-0.065739087760448,0.021085143089294));
res += mul(Get(s0,0,dy), float4x4(0.109132133424282,-0.201566740870476,0.242447912693024,0.212080284953117,-0.037283603101969,-0.270800471305847,-0.146008551120758,0.118445679545403,0.128151997923851,-0.024417351931334,-0.091136664152145,-0.070823699235916,0.081063665449619,-0.078928075730801,0.123621501028538,0.044709037989378));
res += mul(Get(s0,dx,-dy), float4x4(-0.017135551199317,0.202325254678726,0.290815651416779,-0.016595629975200,-0.031070457771420,0.062146082520485,-0.084036812186241,-0.070850789546967,0.030793508514762,0.050572536885738,-0.146088540554047,0.060191653668880,0.029662601649761,0.097110211849213,-0.135473176836967,0.196473881602287));
res += mul(Get(s0,dx,0), float4x4(0.077158600091934,0.080710925161839,0.092417009174824,0.180624738335609,-0.106094598770142,0.155464336276054,-0.073025599122047,0.041710272431374,0.337908834218979,-0.022068094462156,-0.202144205570221,0.098931014537811,-0.057383716106415,-0.155227676033974,-0.142594754695892,0.090187028050423));
res += mul(Get(s0,dx,dy), float4x4(0.044346705079079,-0.044709432870150,-0.107255585491657,0.296413034200668,-0.066917009651661,-0.166816741228104,-0.163167789578438,0.018274519592524,0.034610960632563,0.098583810031414,-0.021891625598073,0.116397343575954,0.253570616245270,-0.088386073708534,0.054383583366871,-0.035886403173208));
res += mul(Get(s1,-dx,-dy), float4x4(-0.066816411912441,-0.110636532306671,0.008548301644623,-0.021090729162097,0.048045184463263,-0.046543221920729,0.065965354442596,-0.020850664004683,0.362107127904892,-0.098927430808544,0.049957998096943,-0.084233932197094,-0.080004096031189,0.116830758750439,0.004910486750305,-0.271796643733978));
res += mul(Get(s1,-dx,0), float4x4(-0.139409542083740,0.001699091168121,0.192625969648361,0.115560621023178,-0.174816787242889,0.235234260559082,-0.042925890535116,-0.044653035700321,0.100355282425880,-0.202417582273483,0.032025136053562,-0.215103745460510,-0.096088282763958,0.010562331415713,0.037103682756424,-0.139071121811867));
res += mul(Get(s1,-dx,dy), float4x4(-0.163151487708092,-0.073424495756626,-0.145529493689537,0.005453878082335,-0.106467977166176,0.204410612583160,0.001530198380351,0.380475431680679,-0.065553352236748,-0.180895522236824,0.055029809474945,0.096353374421597,-0.184969305992126,-0.006763280835003,0.318257391452789,-0.001913159270771));
res += mul(Get(s1,0,-dy), float4x4(-0.011145898140967,-0.098666973412037,-0.114364318549633,0.043008077889681,0.099531576037407,-0.053519565612078,-0.005836933851242,0.079031877219677,0.043868012726307,-0.120247505605221,-0.037152811884880,-0.117808617651463,-0.241007387638092,0.025986339896917,-0.055732745677233,-0.333943992853165));
res += mul(Get(s1,0,0), float4x4(-0.172759443521500,-0.075657136738300,0.302743971347809,0.022997526451945,0.063715524971485,0.009166062809527,-0.091813862323761,0.098706871271133,-0.063844673335552,-0.192313060164452,-0.083546698093414,-0.393680125474930,-0.122730493545532,-0.144672930240631,-0.123082719743252,-0.247054532170296));
res += mul(Get(s1,0,dy), float4x4(-0.029485842213035,-0.089000441133976,0.124467663466930,-0.105320587754250,0.099587351083755,-0.122122414410114,-0.114446550607681,0.100738272070885,-0.028742495924234,-0.119924224913120,-0.118803299963474,-0.025368519127369,-0.149768620729446,0.167113184928894,-0.017666095867753,0.004577884450555));
res += mul(Get(s1,dx,-dy), float4x4(-0.162478461861610,-0.330112665891647,-0.220969244837761,0.009938381612301,-0.140238672494888,0.053063444793224,-0.007050529122353,-0.028174636885524,-0.156567350029945,-0.168684095144272,0.038677852600813,-0.000597895821556,0.017280314117670,-0.175591781735420,-0.152538359165192,0.078194692730904));
res += mul(Get(s1,dx,0), float4x4(0.029106320813298,-0.111265823245049,-0.181484252214432,-0.079705923795700,-0.036949545145035,0.023128114640713,-0.038599774241447,-0.081095278263092,-0.062832199037075,0.191163778305054,-0.032479379326105,-0.247270435094833,-0.139104127883911,-0.140247166156769,-0.238707154989243,-0.072332195937634));
res += mul(Get(s1,dx,dy), float4x4(-0.128129675984383,-0.096022173762321,-0.070423990488052,-0.179150447249413,0.165970101952553,-0.050260402262211,-0.148592337965965,0.247234269976616,-0.151218459010124,0.126785457134247,-0.065335199236870,-0.031383872032166,-0.052221339195967,-0.006224402692169,0.286356747150421,-0.225969955325127));
res += mul(Get(s2,-dx,-dy), float4x4(0.013092815876007,0.036166556179523,0.000599950260948,0.009084578603506,-0.099978595972061,-0.171421617269516,-0.013144002296031,-0.271982192993164,0.155191585421562,0.079914651811123,0.057745609432459,0.091774545609951,-0.115939415991306,0.643788456916809,0.039165992289782,-0.137284293770790));
res += mul(Get(s2,-dx,0), float4x4(0.027864791452885,0.153868705034256,0.080197632312775,-0.127230867743492,-0.157658666372299,-0.133417114615440,-0.032247222959995,-0.016830718144774,0.048370778560638,-0.006437120027840,0.014372080564499,0.172870755195618,-0.235640257596970,0.120441339910030,0.047653049230576,-0.040481232106686));
res += mul(Get(s2,-dx,dy), float4x4(-0.148894220590591,0.210124894976616,-0.154229715466499,-0.039692800492048,-0.206308722496033,-0.239899083971977,-0.094832167029381,0.328403294086456,-0.087535537779331,-0.143667951226234,0.012506391853094,-0.005310705862939,-0.152384534478188,-0.116256698966026,-0.061030704528093,-0.053337316960096));
res += mul(Get(s2,0,-dy), float4x4(0.066686242818832,0.234985515475273,-0.004949227906764,0.135665282607079,-0.049524601548910,-0.180153727531433,0.001512002432719,-0.084155932068825,0.104785442352295,0.053304955363274,-0.029417319223285,0.115075334906578,-0.117218740284443,0.213123381137848,-0.233401432633400,-0.074636451900005));
res += mul(Get(s2,0,0), float4x4(-0.079753950238228,-0.040942426770926,-0.020596316084266,0.148452028632164,-0.074279032647610,-0.187709450721741,-0.117454648017883,-0.121314957737923,0.084649138152599,0.183088093996048,-0.070934131741524,0.197657972574234,-0.132184281945229,-0.192053407430649,0.161846369504929,-0.171954542398453));
res += mul(Get(s2,0,dy), float4x4(-0.054292719811201,-0.030739407986403,-0.190409049391747,0.081275798380375,-0.138586893677711,-0.214127182960510,-0.126470133662224,-0.102261491119862,0.054448541253805,-0.133737146854401,-0.109115488827229,-0.058547697961330,-0.104951381683350,-0.172917738556862,0.122946813702583,-0.187534913420677));
res += mul(Get(s2,dx,-dy), float4x4(0.157771334052086,0.271657258272171,0.018131030723453,0.028028786182404,-0.229840740561485,-0.049448791891336,0.115306116640568,-0.064456939697266,0.062704294919968,0.245687454938889,-0.044886101037264,0.111321412026882,-0.017554294317961,0.059228464961052,-0.300233155488968,0.012539529241621));
res += mul(Get(s2,dx,0), float4x4(0.093485169112682,0.133976846933365,0.009242422878742,-0.004642155487090,-0.197299793362617,-0.106555163860321,-0.078298509120941,-0.154789850115776,-0.035678733140230,0.032711856067181,-0.127624601125717,0.100878521800041,-0.099801786243916,-0.018548978492618,-0.153130501508713,-0.167591407895088));
res += mul(Get(s2,dx,dy), float4x4(-0.070190094411373,0.110449969768524,-0.000654055911582,-0.022072155028582,-0.137320488691330,-0.163545951247215,-0.105085223913193,-0.121793292462826,-0.055995505303144,-0.314093202352524,-0.050341725349426,-0.050546001642942,-0.175995439291000,-0.143294364213943,-0.130844816565514,-0.140433505177498));
res += mul(Get(s3,-dx,-dy), float4x4(0.165850982069969,0.061889030039310,0.066248230636120,-0.261623293161392,-0.054984975606203,-0.132684141397476,-0.027010466903448,-0.187758967280388,-0.009283323772252,0.085781678557396,0.035803269594908,0.255232065916061,-0.008805384859443,0.045258518308401,-0.082637727260590,-0.083409689366817));
res += mul(Get(s3,-dx,0), float4x4(0.083422459661961,-0.044286493211985,-0.012867036275566,-0.067782536149025,-0.149446353316307,-0.210872039198875,0.153789594769478,-0.220676049590111,-0.188216984272003,-0.000075282310718,-0.046157930046320,0.015739120543003,0.137808904051781,-0.038386303931475,-0.053947258740664,-0.001946174306795));
res += mul(Get(s3,-dx,dy), float4x4(0.242771178483963,-0.077762477099895,-0.236798107624054,0.026867166161537,-0.141679391264915,-0.233910053968430,0.060729555785656,-0.103693827986717,-0.115517079830170,-0.224534615874290,0.190961137413979,-0.040579006075859,0.133271411061287,-0.029388371855021,-0.169868826866150,0.127626061439514));
res += mul(Get(s3,0,-dy), float4x4(-0.108772113919258,-0.061191827058792,0.090164370834827,-0.000772999192122,-0.135385721921921,-0.075960099697113,-0.129642382264137,-0.072950579226017,0.032100182026625,-0.190568521618843,-0.047395080327988,0.204120293259621,0.043231550604105,-0.047346632927656,-0.176037237048149,-0.135156899690628));
res += mul(Get(s3,0,0), float4x4(0.152827695012093,-0.041314713656902,0.093521319329739,-0.109400682151318,-0.143136590719223,-0.080503083765507,-0.018612654879689,-0.119289636611938,-0.027951328083873,0.050753951072693,-0.075568318367004,0.072512604296207,0.479204505681992,-0.025682801380754,-0.069225519895554,-0.114249125123024));
res += mul(Get(s3,0,dy), float4x4(0.043391183018684,0.095398791134357,-0.020671952515841,-0.079755157232285,-0.063718192279339,-0.108198985457420,-0.028831081464887,-0.111410252749920,-0.040611840784550,-0.048837255686522,0.037854883819818,-0.072002708911896,0.164736241102219,0.050996549427509,-0.137557178735733,0.119348965585232));
res += mul(Get(s3,dx,-dy), float4x4(-0.004814136773348,0.023144960403442,0.005348217673600,-0.051783338189125,0.025638300925493,-0.164586141705513,-0.166266202926636,0.031235203146935,0.119086585938931,-0.014611937105656,-0.104553326964378,0.352895975112915,0.051474697887897,-0.133716762065887,-0.216771841049194,-0.068321347236633));
res += mul(Get(s3,dx,0), float4x4(-0.039846695959568,0.068541549146175,0.031190102919936,-0.108194589614868,-0.043965045362711,-0.083693124353886,0.063283286988735,-0.022802488878369,-0.138358071446419,-0.010589900426567,-0.032878503203392,-0.110413603484631,-0.031965862959623,-0.035503953695297,-0.151657685637474,-0.131420001387596));
res += mul(Get(s3,dx,dy), float4x4(0.081246212124825,0.255951851606369,0.068213589489460,-0.154912605881691,0.101759441196918,-0.144039094448090,-0.009306416846812,-0.158585995435715,0.106408387422562,-0.071660287678242,0.031372096389532,0.046418309211731,-0.056746676564217,-0.043133068829775,-0.111669704318047,-0.069176025688648));
return max(float4(0,0,0,0), res);
}
