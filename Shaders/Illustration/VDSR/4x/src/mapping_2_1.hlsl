sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.200036063790321,0.013817436993122,0.189910069108009,-0.113470993936062,0.115043424069881,-0.004488377831876,0.035887632519007,-0.004098287317902,-0.161402791738510,0.036541972309351,-0.175217911601067,0.093393459916115,0.147329971194267,-0.188578531146049,-0.087024055421352,0.151749148964882));
res += mul(Get(s0,-dx,0), float4x4(-0.053114980459213,0.013422404415905,0.124572746455669,-0.047187160700560,0.314866304397583,-0.028570974245667,-0.187859162688255,0.183151274919510,-0.065372884273529,-0.092963613569736,-0.072873845696449,-0.087715469300747,-0.125920474529266,0.270692050457001,-0.099486075341702,0.050969187170267));
res += mul(Get(s0,-dx,dy), float4x4(0.040134653449059,0.004907180555165,-0.170267596840858,0.152923896908760,0.006086848210543,-0.132461100816727,0.073651239275932,-0.152445331215858,-0.037159718573093,-0.040799655020237,0.123917698860168,-0.219303846359253,-0.206033617258072,0.119584850966930,0.010331708937883,-0.030287783592939));
res += mul(Get(s0,0,-dy), float4x4(-0.123608328402042,-0.019510686397552,-0.045772474259138,0.076204739511013,-0.001261374447495,0.041955891996622,0.113171592354774,0.034391492605209,0.189561277627945,0.106836795806885,0.051545064896345,-0.158017098903656,-0.109982095658779,0.117006994783878,0.153964772820473,-0.190773680806160));
res += mul(Get(s0,0,0), float4x4(0.010955906473100,0.019703553989530,-0.068152114748955,0.093507006764412,-0.033640757203102,0.102154187858105,-0.139374852180481,-0.088730134069920,0.061905093491077,0.017636429518461,0.122524872422218,-0.192948639392853,0.092376410961151,0.114852383732796,0.047156944870949,-0.081926696002483));
res += mul(Get(s0,0,dy), float4x4(0.006692625116557,0.179268255829811,-0.187425225973129,0.015067647211254,0.179050341248512,-0.143435940146446,0.145484730601311,0.056853994727135,0.159212604165077,-0.056202821433544,-0.063050374388695,0.105443380773067,-0.015473489649594,0.159125551581383,-0.134309798479080,0.145520716905594));
res += mul(Get(s0,dx,-dy), float4x4(0.083246439695358,0.054756857454777,0.049894019961357,0.023480158299208,-0.131208166480064,0.024807330220938,-0.257930725812912,-0.086867138743401,-0.045753810554743,-0.118308566510677,-0.117936864495277,0.045413292944431,0.108344361186028,-0.129446804523468,-0.047454632818699,0.120760574936867));
res += mul(Get(s0,dx,0), float4x4(-0.014077828265727,-0.052720718085766,0.087428398430347,-0.054246958345175,0.077647693455219,-0.110454529523849,-0.115340881049633,0.143956527113914,-0.051063880324364,-0.083112187683582,0.032080192118883,-0.160469055175781,-0.037887826561928,-0.105118893086910,0.121508203446865,-0.122907698154449));
res += mul(Get(s0,dx,dy), float4x4(0.015484944917262,-0.053682051599026,-0.058122675865889,-0.082470469176769,-0.024951247498393,0.089035913348198,-0.116965793073177,0.190621659159660,0.290153950452805,-0.060738686472178,0.021244710311294,0.044674452394247,-0.079251721501350,-0.053505960851908,0.117930836975574,-0.157146394252777));
res += mul(Get(s1,-dx,-dy), float4x4(-0.069223850965500,0.162960156798363,0.067254215478897,0.097579032182693,-0.057787142693996,-0.128160536289215,-0.116214543581009,0.016232393682003,-0.041764527559280,0.258119285106659,-0.095768712460995,0.150063201785088,-0.142520129680634,-0.064593896269798,-0.114900231361389,0.132782444357872));
res += mul(Get(s1,-dx,0), float4x4(0.013244220055640,-0.157691106200218,-0.014725149609149,-0.007624397054315,0.009983018971980,-0.100767128169537,-0.017671719193459,0.036081314086914,0.188355073332787,-0.028631763532758,-0.012494163587689,0.000648572982755,-0.024755010381341,-0.010817803442478,-0.040042351931334,0.025131737813354));
res += mul(Get(s1,-dx,dy), float4x4(0.055533796548843,-0.064722493290901,0.013559991493821,-0.078742206096649,0.021047053858638,-0.074752964079380,0.112470023334026,0.060432277619839,-0.086665086448193,-0.016578733921051,-0.134050756692886,0.111286126077175,-0.165272325277328,0.082907848060131,-0.012915496714413,-0.113952040672302));
res += mul(Get(s1,0,-dy), float4x4(-0.065103046596050,-0.028445728123188,0.009659108705819,-0.240111947059631,0.003806564258412,-0.025581767782569,-0.000676123541780,-0.165457159280777,0.064151778817177,0.181157752871513,-0.102902613580227,-0.111135132610798,-0.051426067948341,-0.076541639864445,0.098550006747246,0.131259396672249));
res += mul(Get(s1,0,0), float4x4(-0.049973856657743,0.073154330253601,0.174734920263290,-0.119587182998657,-0.395181745290756,0.105141825973988,-0.016505915671587,-0.082689583301544,-0.023559642955661,-0.108518429100513,0.157920718193054,-0.060980428010225,0.095217578113079,0.014032327570021,0.046960368752480,-0.005176965612918));
res += mul(Get(s1,0,dy), float4x4(-0.017865389585495,0.097292728722095,-0.001815887982957,0.154338151216507,-0.148648053407669,-0.199995815753937,0.330879867076874,0.051340501755476,-0.038358442485332,0.048873860388994,-0.004280846100301,-0.152974888682365,0.025986824184656,-0.222036287188530,0.141187846660614,-0.137100011110306));
res += mul(Get(s1,dx,-dy), float4x4(-0.156325519084930,-0.150268718600273,-0.141594454646111,-0.223650515079498,-0.025636056438088,-0.000078315875726,0.050448130816221,0.123451434075832,-0.163065418601036,0.075695313513279,0.060001365840435,-0.154555007815361,-0.184788003563881,-0.114830642938614,0.053353682160378,0.206375569105148));
res += mul(Get(s1,dx,0), float4x4(0.121477723121643,-0.064643345773220,-0.085165470838547,-0.208389237523079,-0.093185536563396,-0.126318737864494,0.051788598299026,0.097633711993694,0.057745072990656,-0.032822504639626,0.143917351961136,0.122313663363457,0.049919612705708,0.041133034974337,0.012067796662450,0.009000652469695));
res += mul(Get(s1,dx,dy), float4x4(-0.080746293067932,-0.121627621352673,-0.056539215147495,0.052794236689806,0.039617527276278,-0.166176572442055,0.069938577711582,0.133197858929634,-0.140554949641228,0.061437219381332,0.163887411355972,0.095713153481483,-0.019968520849943,0.104326702654362,-0.089161835610867,0.105613693594933));
res += mul(Get(s2,-dx,-dy), float4x4(-0.038605593144894,-0.159721523523331,0.057816710323095,-0.028233887627721,-0.165055602788925,-0.081591419875622,0.094886139035225,-0.024860335513949,0.103161804378033,0.195298597216606,-0.166350692510605,-0.090307354927063,-0.130450189113617,-0.234874576330185,-0.016806254163384,-0.016523057594895));
res += mul(Get(s2,-dx,0), float4x4(-0.121148645877838,0.090292394161224,0.081255823373795,-0.252460896968842,-0.003539561992511,-0.038903489708900,-0.092156618833542,-0.141472563147545,-0.048266258090734,0.068084217607975,0.039081681519747,-0.106376744806767,0.067886322736740,0.136497333645821,-0.238315716385841,0.157268047332764));
res += mul(Get(s2,-dx,dy), float4x4(-0.097938701510429,0.035869028419256,0.184701979160309,-0.080187037587166,-0.066681765019894,0.129354402422905,-0.081136055290699,-0.048566155135632,-0.054031908512115,-0.204481407999992,0.007909823209047,0.123373992741108,-0.153035670518875,-0.026385638862848,-0.284146517515182,-0.132683441042900));
res += mul(Get(s2,0,-dy), float4x4(0.197890385985374,0.067177519202232,-0.259471982717514,0.074553474783897,0.073782511055470,0.013366045430303,-0.114592753350735,-0.126476407051086,-0.162313252687454,-0.119060888886452,-0.070910356938839,-0.098134920001030,-0.253601640462875,0.195014566183090,-0.092060394585133,-0.293601632118225));
res += mul(Get(s2,0,0), float4x4(-0.047804802656174,-0.064527302980423,0.127599075436592,0.170094728469849,0.019106358289719,0.119667105376720,0.064168542623520,0.064764402806759,0.002699308795854,-0.235981509089470,-0.081348441541195,-0.076994083821774,-0.290257334709167,-0.161964789032936,0.166394740343094,-0.223051875829697));
res += mul(Get(s2,0,dy), float4x4(-0.310428291559219,0.107086002826691,0.121220901608467,0.166893899440765,0.052814502269030,0.017112838104367,-0.092913858592510,-0.081202432513237,-0.070291787385941,-0.069328308105469,0.079746685922146,0.004669987596571,0.062703423202038,0.020165216177702,0.013358630239964,-0.048986088484526));
res += mul(Get(s2,dx,-dy), float4x4(0.119001634418964,-0.094638004899025,0.102416329085827,-0.102646596729755,-0.048046141862869,-0.042331304401159,0.121383577585220,0.080889016389847,0.116940058767796,-0.039463695138693,0.037333209067583,0.149686664342880,0.030671000480652,0.054005421698093,-0.063397318124771,0.004195909015834));
res += mul(Get(s2,dx,0), float4x4(-0.129365459084511,-0.149014592170715,-0.231410935521126,0.064224228262901,0.039173249155283,-0.071667641401291,-0.013253307901323,0.109154798090458,0.039451360702515,-0.048527777194977,-0.075493000447750,-0.013841943815351,-0.059289928525686,0.133401706814766,-0.023619448766112,-0.039994761347771));
res += mul(Get(s2,dx,dy), float4x4(-0.084152355790138,-0.167432814836502,-0.098467558622360,-0.064848877489567,-0.151957482099533,-0.028663391247392,0.095795743167400,0.102494195103645,0.093306742608547,-0.026128431782126,0.051202557981014,-0.001952609163709,0.055085286498070,-0.050228305160999,-0.080255024135113,-0.221071720123291));
res += mul(Get(s3,-dx,-dy), float4x4(-0.049663383513689,-0.057718276977539,-0.085317336022854,0.103181712329388,-0.052610460668802,-0.075194768607616,-0.076153747737408,-0.104913108050823,0.170598551630974,0.046030487865210,-0.046278271824121,-0.013004345819354,0.073230296373367,-0.180718839168549,0.083771258592606,0.049790456891060));
res += mul(Get(s3,-dx,0), float4x4(-0.128000587224960,0.068184629082680,-0.162156954407692,-0.058763448148966,-0.042379014194012,-0.006558876950294,0.100442253053188,-0.033946491777897,0.031315866857767,-0.076931074261665,-0.046709086745977,0.110684014856815,0.006742929574102,-0.101162351667881,0.104665920138359,-0.227850973606110));
res += mul(Get(s3,-dx,dy), float4x4(-0.039983358234167,0.032875381410122,0.087940789759159,0.070322684943676,-0.110509522259235,-0.021316649392247,-0.115196578204632,-0.079950273036957,0.157165467739105,-0.058437705039978,0.045216057449579,0.179938495159149,-0.058947358280420,-0.045899223536253,-0.255635976791382,0.036428656429052));
res += mul(Get(s3,0,-dy), float4x4(0.131963282823563,0.022964477539063,-0.072367206215858,0.154470264911652,0.033449910581112,-0.085890829563141,0.091399095952511,-0.016344213858247,0.045998208224773,0.093376338481903,0.146397694945335,-0.079551413655281,-0.024580841884017,-0.111606217920780,0.092823430895805,0.105784706771374));
res += mul(Get(s3,0,0), float4x4(0.178633511066437,-0.056349799036980,-0.037856552749872,-0.060020294040442,0.038280706852674,0.041201394051313,0.048280309885740,-0.004732482135296,-0.023129163309932,0.002652558265254,-0.187805607914925,-0.069804340600967,0.023067252710462,-0.138651654124260,0.178355887532234,-0.095241785049438));
res += mul(Get(s3,0,dy), float4x4(0.151950165629387,-0.037521738559008,-0.037446308881044,-0.078785531222820,0.057953663170338,-0.004581661429256,0.227683588862419,-0.020056007429957,0.121480517089367,-0.075204692780972,0.037508159875870,0.002816036110744,-0.103091426193714,0.017626473680139,-0.200671181082726,-0.107638753950596));
res += mul(Get(s3,dx,-dy), float4x4(0.027112634852529,0.020576726645231,-0.207706719636917,-0.262865692377090,0.060916416347027,0.143754929304123,0.079198829829693,-0.090959042310715,-0.113500207662582,0.031194956973195,0.046437945216894,0.070373520255089,0.095500171184540,-0.221880748867989,-0.170752242207527,-0.048605021089315));
res += mul(Get(s3,dx,0), float4x4(-0.067150838673115,-0.121559880673885,-0.001699037500657,-0.043735135346651,0.079959757626057,0.105360992252827,-0.007941357791424,0.108659029006958,0.146147310733795,0.044919084757566,-0.092121802270412,0.087960205972195,-0.148183226585388,-0.100754611194134,0.111315809190273,0.073226556181908));
res += mul(Get(s3,dx,dy), float4x4(-0.032552998512983,-0.183383017778397,0.328617066144943,0.109852783381939,-0.297470986843109,-0.005219218321145,0.009710711427033,-0.100047439336777,0.073431760072708,0.021356632933021,-0.045021664351225,0.000542349182069,-0.080321379005909,0.127025157213211,-0.133215367794037,-0.147503212094307));
return max(float4(0,0,0,0), res);
}
