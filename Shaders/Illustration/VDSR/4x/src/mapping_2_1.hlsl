sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.377568960189819,0.432198464870453,0.098210915923119,-0.037935249507427,-0.338850677013397,0.088423520326614,-0.169989496469498,0.083978869020939,-0.103556580841541,0.088802367448807,-0.267758309841156,0.011209019459784,-0.132206574082375,-0.020805973559618,-0.086994200944901,0.098162211477757));
res += mul(Get(s0,-dx,0), float4x4(-0.466046690940857,-0.358166038990021,-0.010565211065114,0.007593010552227,-0.097801558673382,0.091392777860165,-0.102769903838634,-0.203397348523140,0.008070076815784,-0.090154103934765,-0.165901675820351,0.153858065605164,-0.025202730670571,-0.002008931478485,0.037979584187269,-0.013696166686714));
res += mul(Get(s0,-dx,dy), float4x4(0.532594501972198,-0.432723760604858,-0.119121193885803,0.018153192475438,-0.043495919555426,-0.118442825973034,0.129372268915176,-0.197836562991142,-0.222044304013252,-0.137242734432220,-0.098155751824379,-0.050100266933441,-0.019544227048755,0.031295079737902,-0.145290091633797,0.026946045458317));
res += mul(Get(s0,0,-dy), float4x4(-0.258387804031372,0.510075509548187,-0.261488378047943,0.013199474662542,-0.361239314079285,-0.093486741185188,0.146879836916924,0.026228561997414,-0.114154875278473,-0.008333774283528,-0.068956837058067,0.220051750540733,0.075716882944107,-0.042730361223221,-0.246372088789940,0.131950095295906));
res += mul(Get(s0,0,0), float4x4(-0.405456066131592,-0.322427183389664,-0.091331690549850,0.236067771911621,-0.135067656636238,-0.107128575444221,0.205305412411690,-0.175977885723114,0.051660086959600,-0.189338549971581,0.413949638605118,-0.017403384670615,0.103595636785030,0.003180224215612,-0.031131345778704,-0.002424655016512));
res += mul(Get(s0,0,dy), float4x4(0.241607204079628,-0.383019447326660,0.026944199576974,-0.068522579967976,-0.020361592993140,-0.138575077056885,-0.007063773460686,-0.205088615417480,-0.104744911193848,-0.258217930793762,-0.065690539777279,-0.185831129550934,0.124001331627369,0.029543781653047,-0.020302975550294,0.057410456240177));
res += mul(Get(s0,dx,-dy), float4x4(-0.191239029169083,0.292081356048584,-0.210555776953697,0.484192073345184,-0.352360337972641,-0.232340738177299,0.149001896381378,-0.048697363585234,-0.102526381611824,-0.031233740970492,-0.133619278669357,-0.128716781735420,0.024542486295104,0.006556012202054,0.162449985742569,-0.021470000967383));
res += mul(Get(s0,dx,0), float4x4(-0.375340849161148,-0.257410556077957,-0.023571424186230,0.151502251625061,-0.032659821212292,-0.155062049627304,0.165629386901855,0.013423459604383,-0.083890706300735,-0.242571726441383,0.198262214660645,-0.431324928998947,-0.005840222351253,-0.003802903462201,-0.022029452025890,0.037960011512041));
res += mul(Get(s0,dx,dy), float4x4(-0.099191471934319,-0.324348926544189,-0.001391336205415,-0.473048955202103,-0.085710711777210,-0.081068508327007,-0.177084237337112,-0.075836114585400,-0.146157369017601,-0.286797583103180,-0.082857400178909,-0.146555095911026,0.004139498807490,-0.014225260354578,-0.071389779448509,0.015032515861094));
res += mul(Get(s1,-dx,-dy), float4x4(0.052486989647150,0.062645390629768,0.266326069831848,-0.055929284542799,-0.009447439573705,-0.060844935476780,-0.091842614114285,0.075899578630924,-0.089502781629562,0.286230683326721,0.060026165097952,-0.665769517421722,-0.197490245103836,0.284685015678406,-0.035440403968096,-0.115398757159710));
res += mul(Get(s1,-dx,0), float4x4(0.198977142572403,0.367482185363770,0.151130124926567,-0.212009847164154,-0.086461260914803,-0.019279766827822,0.088016219437122,0.031638294458389,0.231055393815041,-0.080237373709679,-0.129404410719872,0.083104372024536,-0.008465129882097,0.006779198069125,0.120652392506599,-0.025779748335481));
res += mul(Get(s1,-dx,dy), float4x4(0.366803169250488,0.011599914170802,-0.035571288317442,0.056871995329857,-0.141152724623680,-0.032961402088404,0.230218619108200,-0.002389055443928,0.424380511045456,-0.049932930618525,-0.071831248700619,-0.146801799535751,0.002796506974846,-0.106875427067280,0.083960846066475,0.054101344197989));
res += mul(Get(s1,0,-dy), float4x4(-0.447865128517151,-0.044960841536522,-0.109462067484856,-0.062163118273020,0.007913616485894,-0.021239494904876,-0.112071260809898,0.049154117703438,-0.088888227939606,0.127367168664932,-0.143483534455299,0.386864185333252,-0.252624809741974,0.156726703047752,-0.071369662880898,0.041004765778780));
res += mul(Get(s1,0,0), float4x4(-0.482022553682327,0.153777986764908,0.061165116727352,-0.196889251470566,-0.023803979158401,0.016530433669686,0.176212355494499,0.024767942726612,0.076482348144054,-0.077025242149830,0.078030496835709,0.257990241050720,0.008960876613855,0.107917286455631,0.099960006773472,-0.078157164156437));
res += mul(Get(s1,0,dy), float4x4(-0.129697233438492,-0.142587363719940,-0.025296527892351,0.059488955885172,-0.034332931041718,0.019354190677404,0.338109105825424,0.043872751295567,0.486681610345840,0.010359165258706,-0.003963608294725,-0.246019765734673,-0.000701572804246,-0.005706368479878,0.004089058376849,0.116850987076759));
res += mul(Get(s1,dx,-dy), float4x4(-0.270762532949448,-0.143073156476021,-0.173814997076988,0.145434349775314,0.129293397068977,-0.105360873043537,-0.130642965435982,-0.112125471234322,-0.056204032152891,0.005396382417530,-0.078830532729626,0.287555336952209,-0.296451866626740,-0.050192665308714,-0.149226948618889,0.112202219665051));
res += mul(Get(s1,dx,0), float4x4(-0.469821840524673,0.083994381129742,-0.128280624747276,-0.129951179027557,0.041634809225798,-0.072130531072617,0.026697343215346,-0.085940942168236,-0.373986870050430,-0.217946499586105,0.048606488853693,-0.230558276176453,0.019434876739979,0.117862187325954,0.266377091407776,-0.011512301862240));
res += mul(Get(s1,dx,dy), float4x4(-0.391911596059799,-0.062100827693939,0.108633704483509,0.039454210549593,0.009791156277061,-0.065714873373508,0.114557847380638,-0.109316423535347,-0.346456110477448,-0.229526251554489,0.167905658483505,-0.270151436328888,0.030147939920425,0.037566907703876,-0.146640241146088,0.003986159805208));
res += mul(Get(s2,-dx,-dy), float4x4(-0.095351420342922,-0.212941735982895,-0.098660483956337,-0.378021419048309,0.064772732555866,0.877495884895325,-0.255648732185364,0.130842179059982,-0.004735796712339,-0.069737188518047,0.075639300048351,-0.026637393981218,0.085536770522594,0.006276133470237,-0.057272009551525,-0.010978899896145));
res += mul(Get(s2,-dx,0), float4x4(-0.174844294786453,-0.013271476142108,0.096844419836998,-0.241860240697861,-0.014002075418830,-0.300796329975128,-0.416980862617493,-0.285010844469070,0.030032956972718,-0.292652338743210,-0.071065813302994,-0.060578767210245,0.141633793711662,-0.122588768601418,-0.115417435765266,0.051890555769205));
res += mul(Get(s2,-dx,dy), float4x4(-0.217079743742943,-0.070845015347004,-0.065820083022118,0.163020148873329,-0.112793818116188,-0.197561427950859,-0.312285602092743,-0.330764681100845,0.061701066792011,-0.356369525194168,-0.114134520292282,-0.032399069517851,0.083323597908020,-0.071650400757790,0.095797546207905,-0.088919371366501));
res += mul(Get(s2,0,-dy), float4x4(0.048752833157778,-0.280039757490158,0.341755211353302,-0.122274637222290,-0.009624871425331,0.138801008462906,-0.260085999965668,-0.307360053062439,-0.053364198654890,0.217188775539398,0.005820922553539,-0.097562655806541,-0.075769662857056,0.112503185868263,-0.027315994724631,0.070426605641842));
res += mul(Get(s2,0,0), float4x4(-0.000401088822400,0.002994594397023,0.009787544608116,-0.236769422888756,-0.189826890826225,-0.478083312511444,-0.137566819787025,0.159635260701180,-0.060526832938194,-0.181348100304604,-0.156422689557076,0.054764721542597,-0.032957881689072,-0.163782492280006,0.051723878830671,-0.058470923453569));
res += mul(Get(s2,0,dy), float4x4(-0.027332896366715,-0.144911274313927,-0.046038698405027,0.081671319901943,-0.418195843696594,-0.033316154032946,-0.053408160805702,0.363732933998108,-0.077687188982964,-0.281704246997833,-0.201323166489601,0.048264998942614,-0.105768196284771,-0.112041696906090,-0.058187123388052,-0.171958014369011));
res += mul(Get(s2,dx,-dy), float4x4(0.009040364995599,-0.307170927524567,0.071325987577438,0.027065224945545,-0.050986435264349,-0.159521415829659,-0.053390342742205,0.234160736203194,-0.048223379999399,0.310576856136322,-0.043439041823149,-0.012276721186936,-0.043909862637520,0.103096090257168,0.169958785176277,0.211373031139374));
res += mul(Get(s2,dx,0), float4x4(-0.062196269631386,0.047134052962065,-0.183351844549179,-0.092521190643311,-0.099051393568516,-0.537739515304565,-0.035161472856998,0.361233443021774,-0.101933740079403,-0.098124250769615,-0.171766087412834,0.164891228079796,-0.035769902169704,-0.192596390843391,0.022906912490726,0.068251848220825));
res += mul(Get(s2,dx,dy), float4x4(-0.024684136733413,-0.034310888499022,-0.086685128509998,0.075698822736740,-0.125698074698448,-0.245303794741631,-0.017515679821372,-0.187875092029572,-0.165140539407730,-0.184547543525696,-0.033931300044060,0.135315194725990,-0.143118634819984,-0.147574380040169,-0.206486761569977,0.211225777864456));
res += mul(Get(s3,-dx,-dy), float4x4(-0.006329459603876,-0.008206628262997,-0.017385050654411,0.023834906518459,0.020683342590928,-0.154839053750038,0.007277010474354,-0.251110702753067,0.100699841976166,0.032098762691021,-0.407115161418915,-0.009889407083392,-0.261280268430710,-0.161053687334061,-0.273320674896240,0.020840257406235));
res += mul(Get(s3,-dx,0), float4x4(-0.001046728226356,-0.018260914832354,0.040114123374224,-0.004104944877326,-0.008603908121586,0.010604622773826,0.196745052933693,-0.393947839736938,-0.058482743799686,-0.101051665842533,-0.024214345961809,-0.068853713572025,-0.243112400174141,-0.118456222116947,-0.313585251569748,0.035225335508585));
res += mul(Get(s3,-dx,dy), float4x4(-0.001606827718206,-0.019646443426609,0.007546733133495,0.009535497054458,0.137800812721252,0.078332282602787,0.145818203687668,-0.229320943355560,-0.056185796856880,-0.050964806228876,0.030858099460602,0.094674184918404,0.067400313913822,-0.148905694484711,-0.072937376797199,0.022596800699830));
res += mul(Get(s3,0,-dy), float4x4(-0.009696312248707,0.001634646905586,0.005185343790799,0.041007023304701,-0.023091178387403,-0.255764216184616,0.073119446635246,0.055924117565155,-0.018615230917931,-0.002878130180761,0.104577571153641,-0.054244782775640,-0.310306072235107,-0.124580897390842,-0.296756267547607,0.091235913336277));
res += mul(Get(s3,0,0), float4x4(-0.018995560705662,-0.004596656654030,0.053840469568968,-0.001558883348480,-0.071032896637917,-0.184559389948845,-0.043780460953712,-0.029095863923430,-0.085466742515564,-0.100241415202618,0.353225827217102,-0.211233153939247,-0.261060804128647,-0.126630142331123,0.132545426487923,-0.087416112422943));
res += mul(Get(s3,0,dy), float4x4(0.000135325608426,-0.015469237230718,0.012498939409852,-0.004364452790469,-0.061039835214615,-0.168412387371063,-0.024492016062140,-0.038490697741508,-0.064309850335121,-0.078136034309864,-0.025480367243290,0.067868597805500,0.014179628342390,-0.187777400016785,-0.061456944793463,-0.037346940487623));
res += mul(Get(s3,dx,-dy), float4x4(-0.038082484155893,0.033153910189867,-0.005144700407982,0.055627781897783,-0.127592608332634,0.187574282288551,-0.206381335854530,0.269123017787933,-0.082313455641270,0.039824400097132,0.253948003053665,-0.033942025154829,-0.281383872032166,-0.100142501294613,-0.011806752532721,0.092994391918182));
res += mul(Get(s3,dx,0), float4x4(-0.054218906909227,-0.010063859634101,0.046620041131973,-0.019787773489952,-0.199355572462082,0.052939094603062,-0.001974797807634,0.135577604174614,-0.068140529096127,-0.067694827914238,0.223494112491608,-0.144241347908974,-0.314773768186569,-0.122758075594902,0.327408999204636,-0.063040301203728));
res += mul(Get(s3,dx,dy), float4x4(-0.050901249051094,-0.008653732016683,-0.008847683668137,-0.003098074579611,-0.347610682249069,-0.168840274214745,-0.084569118916988,0.076519407331944,-0.063374206423759,-0.076010152697563,-0.134637311100960,0.182708948850632,-0.035348925739527,-0.191472128033638,-0.211452573537827,0.022254124283791));
return max(float4(0,0,0,0), res);
}
