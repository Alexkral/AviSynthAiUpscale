sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.110102809965611,-0.102720834314823,0.047376722097397,-0.054465107619762,-0.163288995623589,-0.030585370957851,0.090978480875492,0.116141341626644,0.014462178573012,-0.014327615499496,-0.040363233536482,-0.003395709209144,0.012781751342118,0.152988865971565,-0.034503985196352,-0.107063978910446));
res += mul(Get(s0,-dx,0), float4x4(-0.000302735716105,-0.070916742086411,0.007234374061227,0.078168481588364,0.013744925148785,-0.038017850369215,-0.266914993524551,-0.008572841063142,0.054352153092623,-0.104193985462189,-0.064244225621223,0.031286977231503,-0.010736172087491,0.063685268163681,0.032089821994305,-0.009257626719773));
res += mul(Get(s0,-dx,dy), float4x4(-0.164213433861732,-0.011564169079065,0.074512310326099,0.053816214203835,-0.070405513048172,-0.039636746048927,-0.074409142136574,-0.040967520326376,0.091649867594242,-0.065988570451736,0.086309708654881,-0.026377076283097,-0.002456122310832,0.125115588307381,0.114358924329281,0.073239512741566));
res += mul(Get(s0,0,-dy), float4x4(-0.151068806648254,0.034966077655554,0.017780495807528,-0.156488448381424,0.033040527254343,0.005865787621588,-0.169167563319206,-0.042092192918062,-0.253290325403214,-0.201267823576927,0.128635838627815,0.021307244896889,0.101152099668980,-0.069682322442532,-0.145812183618546,0.160342693328857));
res += mul(Get(s0,0,0), float4x4(0.047938212752342,-0.094762153923512,0.123090878129005,-0.025982093065977,0.021041125059128,0.209126010537148,-0.037334904074669,-0.009631803259254,-0.113176748156548,-0.009548799134791,0.084900975227356,0.241729080677032,-0.051270160824060,-0.057006660848856,0.144452676177025,-0.095984481275082));
res += mul(Get(s0,0,dy), float4x4(0.297457009553909,0.008315557613969,0.004222709685564,0.027809891849756,-0.100668124854565,-0.144440621137619,-0.138411402702332,0.084032580256462,-0.100707493722439,-0.013258109800518,0.181499764323235,0.230173498392105,0.110671013593674,0.048387631773949,-0.034287650138140,-0.110438033938408));
res += mul(Get(s0,dx,-dy), float4x4(-0.081206604838371,-0.117185182869434,0.303436309099197,-0.009051184169948,0.109073832631111,-0.223410785198212,-0.038986042141914,-0.107831679284573,-0.049751721322536,0.006150730419904,-0.123588785529137,0.036406550556421,0.037844270467758,-0.140453845262527,0.208252221345901,0.199016243219376));
res += mul(Get(s0,dx,0), float4x4(0.131694421172142,-0.195900604128838,-0.071676343679428,-0.143796771764755,-0.085633128881454,0.033942062407732,0.035589177161455,0.098384663462639,-0.078740455210209,-0.265221238136292,-0.044191583991051,0.039960242807865,0.011194940656424,0.024734055623412,0.148299068212509,0.041900679469109));
res += mul(Get(s0,dx,dy), float4x4(-0.126741200685501,0.091523371636868,-0.048771563917398,-0.091969624161720,-0.068454034626484,0.166768878698349,0.121772795915604,0.088292136788368,0.040091797709465,0.013044916093349,-0.114960908889771,0.108775958418846,-0.147583201527596,-0.230488643050194,0.021693868562579,0.033301509916782));
res += mul(Get(s1,-dx,-dy), float4x4(-0.246303275227547,-0.107475116848946,0.031727619469166,-0.130397289991379,0.103229224681854,0.051231365650892,-0.151818409562111,0.010325577110052,-0.048475440591574,-0.032041944563389,-0.015220231376588,-0.150143653154373,-0.081147231161594,-0.226380929350853,-0.007957186549902,0.070314548909664));
res += mul(Get(s1,-dx,0), float4x4(-0.264471799135208,-0.124032042920589,0.021684069186449,0.028074668720365,0.075052648782730,-0.279137045145035,-0.102697573602200,0.044686991721392,-0.152970284223557,0.181366562843323,-0.097722969949245,-0.085556499660015,0.303930342197418,0.131451696157455,-0.060294497758150,-0.016345214098692));
res += mul(Get(s1,-dx,dy), float4x4(-0.295979499816895,0.135820910334587,-0.039780154824257,0.048886068165302,0.127381861209869,-0.044923815876245,0.069056309759617,0.069857880473137,-0.239012286067009,0.081234477460384,-0.053279612213373,-0.254971295595169,0.000082666731032,-0.309472113847733,0.053049691021442,-0.088132806122303));
res += mul(Get(s1,0,-dy), float4x4(0.043872922658920,-0.208380088210106,0.042364377528429,0.273552268743515,0.134012773633003,-0.123957805335522,-0.068081595003605,0.001305749057792,-0.081641264259815,-0.036421928554773,0.030117589980364,0.005599856376648,0.042416062206030,0.236455231904984,-0.080116331577301,0.143817171454430));
res += mul(Get(s1,0,0), float4x4(0.076058432459831,0.168710261583328,0.088606119155884,-0.019188957288861,-0.032017689198256,-0.176851674914360,0.113837212324142,0.056031111627817,-0.076101742684841,-0.110224105417728,0.146499127149582,-0.051577363163233,0.005995153449476,-0.124573864042759,0.090128988027573,0.057691108435392));
res += mul(Get(s1,0,dy), float4x4(0.032023709267378,-0.259579390287399,-0.291133522987366,0.001860171789303,0.288170605897903,0.122000604867935,-0.019154747948050,0.036566268652678,-0.082748733460903,-0.089592866599560,0.159185960888863,-0.038253057748079,0.204252466559410,-0.026020806282759,-0.218436345458031,-0.035202272236347));
res += mul(Get(s1,dx,-dy), float4x4(0.062856644392014,-0.074733778834343,0.043695349246264,0.190720394253731,0.056880064308643,-0.035813815891743,-0.273694962263107,-0.144344285130501,0.056902974843979,-0.099070906639099,-0.062922127544880,0.227164626121521,0.159517377614975,0.047963071614504,0.015055105090141,-0.067285954952240));
res += mul(Get(s1,dx,0), float4x4(0.026134716346860,0.061588082462549,-0.119639232754707,-0.193149119615555,-0.191492438316345,-0.081137686967850,-0.024764986708760,0.007985470816493,0.106440611183643,0.383824110031128,0.097951769828796,-0.097944058477879,-0.036323152482510,-0.040094435214996,0.036307185888290,0.095063671469688));
res += mul(Get(s1,dx,dy), float4x4(0.171488970518112,0.032815571874380,0.010045216418803,-0.017631217837334,0.043994382023811,0.025597568601370,-0.035978022962809,-0.089526809751987,-0.005280646495521,-0.040761440992355,0.086771801114082,0.050062797963619,-0.067346595227718,0.109034828841686,-0.053074941039085,0.115610666573048));
res += mul(Get(s2,-dx,-dy), float4x4(0.079487308859825,-0.289171099662781,-0.099228441715240,-0.031789537519217,-0.144701793789864,0.094602160155773,0.033171065151691,-0.053141497075558,0.188130274415016,0.188367322087288,0.062742330133915,-0.186295539140701,-0.094802848994732,-0.143865913152695,-0.087834089994431,-0.144322663545609));
res += mul(Get(s2,-dx,0), float4x4(-0.000642078754026,0.030313996598125,-0.308364540338516,-0.072189182043076,-0.074038229882717,0.164682015776634,0.038924608379602,-0.043394930660725,0.104993276298046,-0.088475793600082,-0.255348533391953,-0.010688803158700,-0.079963661730289,-0.066779173910618,-0.176318287849426,-0.074397832155228));
res += mul(Get(s2,-dx,dy), float4x4(-0.088353008031845,0.078955411911011,-0.176743343472481,0.084946312010288,-0.005123887676746,-0.200197756290436,0.011738859117031,-0.094517819583416,-0.120649918913841,0.002345380373299,0.053539700806141,0.097548201680183,0.159269079566002,0.009000568650663,-0.019267210736871,0.041422665119171));
res += mul(Get(s2,0,-dy), float4x4(-0.105181284248829,0.064086422324181,-0.100892275571823,-0.004580448847264,-0.106600314378738,-0.084651805460453,0.110774315893650,-0.143151670694351,-0.004883107729256,0.027459034696221,-0.098905898630619,0.072612069547176,-0.010530465282500,0.281565517187119,-0.041830461472273,-0.237886190414429));
res += mul(Get(s2,0,0), float4x4(-0.036753386259079,-0.166139453649521,0.015004393644631,-0.048842422664165,-0.070492155849934,0.014277040958405,-0.009506955742836,-0.016288280487061,-0.007575592491776,-0.064107060432434,0.038688391447067,0.011528051458299,-0.195907995104790,-0.036653786897659,0.023950874805450,0.038642048835754));
res += mul(Get(s2,0,dy), float4x4(-0.033083107322454,0.009795637801290,0.108263880014420,-0.124697126448154,-0.075639247894287,0.009376125410199,-0.118643030524254,0.034326184540987,0.052956130355597,0.141246095299721,-0.067526169121265,0.067964628338814,0.018413685262203,0.088151432573795,0.062133941799402,0.026929378509521));
res += mul(Get(s2,dx,-dy), float4x4(-0.104720391333103,0.007242097984999,0.104829408228397,-0.015635142102838,0.038007345050573,0.060346722602844,-0.061255313456059,0.063133858144283,0.125025480985641,-0.002239264547825,0.015897711738944,-0.111209183931351,0.067647695541382,0.189508751034737,-0.063200913369656,0.002233773469925));
res += mul(Get(s2,dx,0), float4x4(0.059372402727604,0.049984183162451,-0.087827496230602,0.009111292660236,0.137888029217720,-0.179523795843124,-0.092685572803020,-0.047465298324823,-0.143514841794968,-0.039975725114346,0.052036479115486,0.033038031309843,0.003694260027260,-0.178371027112007,-0.001587291830219,-0.064832106232643));
res += mul(Get(s2,dx,dy), float4x4(-0.029691359028220,0.035554796457291,-0.285796880722046,-0.082768566906452,-0.086242057383060,-0.091046459972858,0.005922669079155,-0.026280185207725,-0.012326811440289,0.123510845005512,0.066728442907333,0.130832329392433,0.138935476541519,-0.065529741346836,0.123932488262653,-0.070703685283661));
res += mul(Get(s3,-dx,-dy), float4x4(-0.010811842978001,0.080603629350662,0.121936455368996,0.094726353883743,-0.113307289779186,-0.178545981645584,-0.222616583108902,0.110609844326973,0.026977233588696,0.092699773609638,-0.264763325452805,0.103379070758820,0.197580158710480,-0.109173573553562,-0.137621745467186,-0.050095278769732));
res += mul(Get(s3,-dx,0), float4x4(0.105228230357170,-0.220529407262802,-0.182233706116676,0.027011068537831,-0.006259822286665,0.175413340330124,0.030709622427821,0.072405770421028,-0.007522942032665,0.063805714249611,-0.066847145557404,-0.054487444460392,0.078538559377193,-0.106157198548317,0.114315815269947,-0.147274941205978));
res += mul(Get(s3,-dx,dy), float4x4(0.042956106364727,-0.152485936880112,-0.091378226876259,0.105769902467728,0.057639751583338,0.033637344837189,0.092398412525654,0.003467365866527,-0.009596795774996,-0.109470300376415,-0.040262371301651,0.001693948986940,-0.046991709619761,-0.153602734208107,-0.047845542430878,0.023812483996153));
res += mul(Get(s3,0,-dy), float4x4(0.011278583668172,-0.258309096097946,0.028585955500603,0.197210714221001,-0.139798358082771,0.238401800394058,0.048744354397058,0.016567450016737,-0.001221676589921,-0.059979412704706,-0.098898515105247,-0.036625865846872,0.060325000435114,0.092606052756310,0.258730471134186,0.078042834997177));
res += mul(Get(s3,0,0), float4x4(0.003224404295906,-0.138388186693192,-0.075065247714520,-0.059123449027538,-0.175125002861023,-0.067705474793911,0.215337157249451,-0.325754433870316,0.142267823219299,-0.102915972471237,-0.018626561388373,0.038424883037806,0.021484049037099,0.175948277115822,0.035784076899290,0.235435068607330));
res += mul(Get(s3,0,dy), float4x4(0.026353398337960,0.252297580242157,-0.130654931068420,-0.120003193616867,0.013969899155200,-0.022926904261112,0.092387415468693,-0.229633107781410,0.008671587333083,-0.073458209633827,0.276817500591278,-0.013623949140310,-0.133435666561127,0.131694585084915,-0.146167501807213,0.033490877598524));
res += mul(Get(s3,dx,-dy), float4x4(0.057215888053179,-0.042196393013000,0.106771342456341,0.028209600597620,0.104739628732204,0.087747365236282,0.083685211837292,-0.076669126749039,-0.157224431633949,-0.006529355887324,0.040350265800953,0.005739276297390,0.024076564237475,-0.179745763540268,-0.048252582550049,0.166149452328682));
res += mul(Get(s3,dx,0), float4x4(-0.107758671045303,0.074910089373589,-0.227328628301620,-0.097792960703373,-0.032957963645458,-0.103463448584080,-0.161804467439651,-0.199293807148933,0.146715417504311,0.005585988983512,-0.096150606870651,-0.015830485150218,-0.162567898631096,0.006561496295035,0.049493756145239,0.106229670345783));
res += mul(Get(s3,dx,dy), float4x4(-0.047741182148457,-0.180361360311508,-0.303031146526337,-0.171910226345062,-0.208133637905121,-0.105656415224075,0.275884330272675,-0.023700337857008,0.050101354718208,0.127841681241989,0.139315694570541,-0.019761351868510,-0.086699843406677,0.026759810745716,-0.045134600251913,0.090356864035130));
return max(float4(0,0,0,0), res);
}
