sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.263915449380875,-0.084452502429485,0.072632580995560,-0.150452166795731,0.002873965306208,-0.142385452985764,-0.051409535109997,-0.065785348415375,-0.176283732056618,0.044347241520882,-0.142922148108482,-0.029321776703000,-0.162318527698517,-0.081343859434128,0.255349576473236,-0.154522612690926));
res += mul(Get(s0,-dx,0), float4x4(0.151531770825386,-0.128687247633934,0.047058068215847,-0.055488310754299,0.093419343233109,-0.157534047961235,0.286517411470413,-0.044766876846552,-0.088343508541584,0.069381095468998,-0.055406499654055,-0.066408649086952,0.108129449188709,-0.068924158811569,0.057181101292372,0.001073807245120));
res += mul(Get(s0,-dx,dy), float4x4(-0.000010764342733,-0.021350577473640,0.145729631185532,-0.103352814912796,-0.369582235813141,-0.093753263354301,0.225247442722321,0.087399981915951,-0.046236116439104,0.152197524905205,-0.032102469354868,0.030072981491685,0.018509520217776,-0.173831164836884,-0.050886590033770,-0.230221614241600));
res += mul(Get(s0,0,-dy), float4x4(0.176367089152336,-0.202787429094315,-0.100658051669598,-0.065545320510864,-0.043202586472034,-0.090626567602158,-0.218160152435303,-0.067442327737808,-0.143865123391151,-0.084186956286430,-0.174952149391174,0.136752828955650,0.089029841125011,0.027614369988441,0.247637361288071,0.032682739198208));
res += mul(Get(s0,0,0), float4x4(0.015914181247354,-0.191303923726082,-0.062264561653137,0.015627812594175,0.135193139314651,-0.077018514275551,0.042473103851080,0.097975596785545,-0.045715771615505,0.076242104172707,-0.164525911211967,-0.195226073265076,0.106453843414783,-0.094536915421486,0.065958783030510,-0.041019733995199));
res += mul(Get(s0,0,dy), float4x4(-0.105225190520287,-0.140959262847900,-0.097605466842651,-0.009685706347227,-0.159362673759460,-0.087365493178368,0.082236059010029,0.312048256397247,0.013004678301513,0.063071496784687,-0.118555523455143,-0.021889891475439,-0.144623383879662,-0.091634273529053,-0.118485428392887,-0.020381903275847));
res += mul(Get(s0,dx,-dy), float4x4(-0.227112159132957,0.033105175942183,-0.058903988450766,-0.176488116383553,0.143095403909683,-0.006041064858437,-0.276385307312012,-0.127628862857819,-0.140603259205818,0.008575802668929,-0.259338349103928,-0.071655511856079,-0.018201092258096,0.108860045671463,-0.252477914094925,-0.093068897724152));
res += mul(Get(s0,dx,0), float4x4(-0.109992682933807,0.101798430085182,-0.030606564134359,-0.057507816702127,-0.108340613543987,-0.096697501838207,-0.185586810112000,-0.181256860494614,0.018282720819116,-0.214873537421227,-0.100716345012188,-0.110432118177414,-0.277058094739914,-0.082306548953056,-0.288767755031586,-0.131812348961830));
res += mul(Get(s0,dx,dy), float4x4(-0.169950664043427,-0.003511051647365,-0.179048553109169,-0.167080536484718,-0.024174515157938,-0.132663890719414,-0.123299501836300,-0.166425570845604,-0.032698020339012,-0.135743230581284,-0.079791843891144,0.160833343863487,-0.312879711389542,-0.117546640336514,-0.210028916597366,0.044531643390656));
res += mul(Get(s1,-dx,-dy), float4x4(0.128092989325523,0.156899884343147,0.214146062731743,-0.197576984763145,0.016347855329514,0.085375241935253,0.034574028104544,-0.136682957410812,-0.047058556228876,0.179159700870514,0.351491183042526,0.140896260738373,-0.054975681006908,0.164324864745140,-0.100439488887787,0.125781714916229));
res += mul(Get(s1,-dx,0), float4x4(0.079232595860958,-0.084619745612144,0.214769825339317,0.098443694412708,0.146781861782074,0.207398474216461,0.082605376839638,0.207436636090279,0.043503154069185,0.003301618620753,0.281583160161972,0.237765893340111,0.019893186166883,0.108746320009232,-0.087742462754250,0.079285517334938));
res += mul(Get(s1,-dx,dy), float4x4(-0.064049564301968,-0.068555146455765,-0.123598806560040,0.473482847213745,0.234801203012466,0.207810923457146,-0.053389798849821,0.126189991831779,-0.085805006325245,-0.100193291902542,0.075094349682331,0.105354398488998,-0.105046592652798,0.260051727294922,-0.071572437882423,-0.050415255129337));
res += mul(Get(s1,0,-dy), float4x4(0.098427526652813,0.492796033620834,-0.243844345211983,0.119284592568874,0.010356185957789,0.164817973971367,-0.140527158975601,0.045781280845404,-0.089318007230759,0.177533671259880,0.310848057270050,-0.000897663179785,-0.053615517914295,-0.081342346966267,-0.039559520781040,0.212859764695168));
res += mul(Get(s1,0,0), float4x4(0.094181448221207,0.156541317701340,-0.131738990545273,0.000870465883054,0.192386537790298,0.110105551779270,0.027110816910863,0.053779341280460,0.183838114142418,0.064959675073624,0.086551524698734,0.089845024049282,0.014551553875208,-0.036347240209579,-0.045426979660988,0.081124767661095));
res += mul(Get(s1,0,dy), float4x4(-0.111688397824764,-0.070789977908134,-0.233524158596992,0.217815607786179,0.264494955539703,0.122288443148136,0.032450336962938,0.252340674400330,-0.122839465737343,0.028652451932430,-0.064969383180141,-0.023184636607766,-0.012828505598009,0.057018309831619,-0.012400407344103,-0.013741378672421));
res += mul(Get(s1,dx,-dy), float4x4(-0.015566461719573,-0.022116735577583,-0.056338962167501,-0.200405821204185,-0.038656942546368,-0.033411953598261,-0.226122111082077,-0.029084870591760,-0.139942109584808,0.109643973410130,0.117366887629032,-0.052227422595024,-0.147871270775795,-0.090885758399963,0.243302941322327,-0.050132419914007));
res += mul(Get(s1,dx,0), float4x4(-0.047278143465519,0.177458062767982,0.035966187715530,-0.032711330801249,0.158166214823723,0.014610644429922,-0.036674927920103,-0.055597074329853,0.256985306739807,-0.042623233050108,-0.000650690402836,0.065418638288975,-0.110125884413719,-0.135981008410454,0.366400122642517,0.089491471648216));
res += mul(Get(s1,dx,dy), float4x4(-0.031459990888834,-0.015699196606874,0.008470781147480,-0.193946540355682,0.036722224205732,-0.159673720598221,-0.096311137080193,0.151430755853653,0.022855939343572,0.089671835303307,-0.008644015528262,0.176729142665863,-0.113627262413502,-0.000097667892987,0.233128264546394,-0.024890858680010));
res += mul(Get(s2,-dx,-dy), float4x4(0.005691386759281,-0.017355015501380,-0.046573508530855,0.628200531005859,-0.028125690296292,-0.134731158614159,-0.075215928256512,0.210786774754524,0.017942134290934,-0.205876916646957,0.103082843124866,-0.166651725769043,-0.063296288251877,-0.037478424608707,-0.045674152672291,0.021028876304626));
res += mul(Get(s2,-dx,0), float4x4(-0.012026038020849,-0.083126068115234,-0.096467785537243,0.208160579204559,0.441540271043777,-0.082526132464409,0.115521945059299,0.041363213211298,0.013736143708229,-0.088505618274212,0.109280690550804,-0.042790550738573,-0.062177307903767,0.010400680825114,0.042562618851662,-0.032676227390766));
res += mul(Get(s2,-dx,dy), float4x4(-0.139814615249634,-0.035000827163458,-0.049908816814423,0.185795143246651,0.637460589408875,-0.120034717023373,0.240316063165665,-0.011790586635470,-0.081180565059185,-0.049438361078501,-0.105921372771263,-0.245719730854034,-0.165505081415176,0.181219413876534,-0.028259797021747,-0.149734094738960));
res += mul(Get(s2,0,-dy), float4x4(0.132093146443367,-0.031813792884350,0.104767672717571,0.293855607509613,-0.240870222449303,0.008478615432978,-0.094763837754726,-0.020687449723482,0.262688010931015,-0.032269563525915,-0.116035021841526,-0.103892907500267,-0.068150222301483,-0.127625420689583,0.054799918085337,-0.004445994738489));
res += mul(Get(s2,0,0), float4x4(0.024442873895168,-0.083933435380459,0.106330841779709,-0.002802254864946,0.287306398153305,-0.044030271470547,0.125545725226402,-0.091144114732742,0.363220542669296,-0.124850332736969,0.019161371514201,-0.007044440135360,-0.051182486116886,-0.147232383489609,0.083220288157463,0.099665760993958));
res += mul(Get(s2,0,dy), float4x4(-0.097948119044304,0.018640829250216,-0.022059092298150,-0.046109996736050,0.380754292011261,-0.060651965439320,-0.056750215590000,-0.005735338199884,0.063398443162441,-0.107014819979668,-0.117073185741901,0.028709240257740,-0.117714509367943,0.228435799479485,-0.050621863454580,-0.090014442801476));
res += mul(Get(s2,dx,-dy), float4x4(-0.229491382837296,0.020984431728721,-0.010893835686147,0.195690542459488,-0.079012282192707,0.177212193608284,-0.353604018688202,0.015613520517945,-0.133627787232399,-0.024065740406513,-0.092729888856411,0.120066858828068,-0.041951473802328,0.045755565166473,-0.098265029489994,0.082967303693295));
res += mul(Get(s2,dx,0), float4x4(-0.063365891575813,0.071236550807953,0.082191526889801,0.105243958532810,0.002111107343808,0.053563185036182,-0.307949006557465,-0.020777197554708,0.004912594333291,-0.104562394320965,-0.105738490819931,-0.044065404683352,-0.072523392736912,-0.174714639782906,-0.183125123381615,0.193008944392204));
res += mul(Get(s2,dx,dy), float4x4(-0.262310951948166,0.110060475766659,-0.012383620254695,-0.022970736026764,0.184417709708214,-0.019380681216717,-0.197945281863213,-0.007339350413531,-0.274552524089813,-0.201204508543015,-0.174586862325668,-0.075257621705532,-0.252157807350159,0.687929093837738,-0.258490204811096,0.265224635601044));
res += mul(Get(s3,-dx,-dy), float4x4(0.007423704024404,0.739554226398468,-0.102582149207592,-0.204122096300125,0.155040085315704,0.190792813897133,-0.054251182824373,-0.182040825486183,0.024690933525562,-0.148221850395203,0.339717864990234,0.014690143056214,-0.029012521728873,-0.102798305451870,0.109773933887482,0.098861530423164));
res += mul(Get(s3,-dx,0), float4x4(-0.109273932874203,0.184594482183456,-0.099511697888374,-0.238313719630241,0.028504017740488,0.007728310767561,-0.126544609665871,-0.015486298128963,0.069088734686375,-0.073630936443806,0.235780522227287,0.209722250699997,-0.126605153083801,-0.111719384789467,-0.029449615627527,0.130898609757423));
res += mul(Get(s3,-dx,dy), float4x4(-0.138111740350723,0.353324413299561,-0.025390189141035,-0.133334532380104,-0.195967972278595,0.736851453781128,-0.117081232368946,-0.229445531964302,-0.329098254442215,-0.158131569623947,0.248065009713173,0.201933994889259,-0.012585756368935,-0.081894919276237,-0.099858932197094,-0.132035121321678));
res += mul(Get(s3,0,-dy), float4x4(-0.021135834977031,0.161960691213608,-0.194306328892708,0.195184677839279,-0.036809545010328,-0.142993718385696,-0.090423233807087,-0.058857727795839,0.032035499811172,-0.085486792027950,0.146656438708305,0.072849482297897,-0.034633748233318,0.013432669453323,-0.015956424176693,0.120536625385284));
res += mul(Get(s3,0,0), float4x4(-0.118795320391655,-0.127093449234962,-0.126131862401962,-0.062870077788830,0.124563723802567,-0.237389847636223,-0.039371322840452,0.034848794341087,0.214201465249062,-0.042471390217543,0.222591698169708,0.145717874169350,-0.063845008611679,-0.061986345797777,-0.124565422534943,0.327024102210999));
res += mul(Get(s3,0,dy), float4x4(0.034808982163668,0.100831247866154,0.062407907098532,0.180557340383530,0.133285164833069,0.013013810850680,-0.066521599888802,-0.185443609952927,-0.173959672451019,-0.095444865524769,0.221906468272209,0.100630983710289,-0.006959848571569,-0.155586481094360,-0.028443522751331,0.204895213246346));
res += mul(Get(s3,dx,-dy), float4x4(-0.168878734111786,0.050035446882248,0.054105456918478,0.114491760730743,-0.134151220321655,-0.183122307062149,-0.118942037224770,-0.176047593355179,0.114431552588940,-0.028420461341739,-0.126626357436180,-0.131459578871727,-0.097809858620167,-0.069763012230396,-0.087654732167721,0.180692359805107));
res += mul(Get(s3,dx,0), float4x4(-0.016464101150632,0.025541430339217,0.051975481212139,-0.190194219350815,-0.078256182372570,-0.144507452845573,0.042280793190002,0.019173353910446,0.027145223692060,-0.037942875176668,-0.013493276201189,-0.013265871442854,0.078639253973961,-0.054992146790028,-0.189370632171631,0.127541303634644));
res += mul(Get(s3,dx,dy), float4x4(0.128902927041054,0.023924199864268,-0.083805024623871,-0.027253206819296,0.057717368006706,0.025962239131331,-0.053185429424047,-0.212203830480576,-0.211434304714203,-0.044962838292122,-0.084130734205246,-0.001779221231118,-0.064698271453381,-0.050556167960167,-0.096849128603935,-0.071402482688427));
return max(float4(0,0,0,0), res);
}
