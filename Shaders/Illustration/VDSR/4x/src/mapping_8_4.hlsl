sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.198654785752296,0.018046708777547,0.097298085689545,-0.095271423459053,0.021212736144662,-0.195992901921272,-0.320642352104187,0.017434250563383,-0.073083862662315,0.039336655288935,0.028980413451791,-0.177732437849045,0.056878406554461,-0.055748376995325,-0.047607727348804,-0.101403973996639));
res += mul(Get(s0,-dx,0), float4x4(-0.201420828700066,-0.014838341623545,0.075913198292255,-0.056935083121061,-0.095347277820110,-0.130384102463722,-0.179486021399498,-0.067529268562794,-0.042480412870646,0.062506467103958,0.135435998439789,-0.083927579224110,-0.032401207834482,-0.084723800420761,-0.053817246109247,0.097126238048077));
res += mul(Get(s0,-dx,dy), float4x4(-0.148429006338120,-0.040985252708197,0.290777325630188,0.159617811441422,-0.082042559981346,0.063481330871582,-0.115965902805328,0.008566193282604,-0.091114565730095,-0.019388493150473,0.238210946321487,-0.132535144686699,-0.105699196457863,0.003145572030917,-0.137864425778389,0.359369575977325));
res += mul(Get(s0,0,-dy), float4x4(0.102719366550446,-0.124634951353073,-0.130357265472412,-0.006789885461330,0.007558924611658,-0.138793528079987,-0.020406326279044,-0.002299807500094,-0.076275736093521,-0.154693409800529,0.039619237184525,-0.275014668703079,0.281024128198624,-0.093791268765926,-0.068071521818638,0.017169430851936));
res += mul(Get(s0,0,0), float4x4(-0.035364676266909,-0.071714304387569,0.094341665506363,-0.023996159434319,-0.121202401816845,-0.094991967082024,0.033728223294020,0.028695577755570,-0.058760140091181,-0.168656781315804,-0.013866129331291,-0.092133760452271,-0.004871404264122,-0.043066058307886,-0.031500678509474,-0.016194805502892));
res += mul(Get(s0,0,dy), float4x4(-0.133017480373383,-0.151926219463348,-0.050499424338341,0.032908722758293,-0.109982416033745,0.043872375041246,-0.018561556935310,-0.049063455313444,0.039768155664206,-0.081576511263847,-0.021481001749635,-0.156424656510353,-0.028797375038266,-0.050662815570831,-0.089554913341999,0.287855148315430));
res += mul(Get(s0,dx,-dy), float4x4(-0.085948266088963,-0.031693741679192,0.155559867620468,-0.009700399823487,0.176995217800140,-0.102629020810127,-0.030158385634422,-0.274727106094360,-0.051682051271200,0.659114360809326,-0.040702167898417,-0.051595851778984,0.404164671897888,-0.160989522933960,-0.252748429775238,-0.182118400931358));
res += mul(Get(s0,dx,0), float4x4(-0.163014963269234,0.244852259755135,0.107920713722706,-0.143126413226128,-0.118422180414200,-0.119970984756947,-0.011247842572629,-0.000719677074812,-0.088571056723595,0.013813436962664,-0.171840339899063,-0.164660513401031,0.117781475186348,-0.080889984965324,-0.079422295093536,-0.152885153889656));
res += mul(Get(s0,dx,dy), float4x4(-0.128769844770432,0.073528379201889,-0.079406648874283,-0.221992835402489,-0.063911162316799,0.119710624217987,-0.092158168554306,-0.263823360204697,-0.011715975590050,0.120561935007572,-0.101041674613953,-0.214346483349800,-0.019634908065200,-0.057551611214876,-0.175235867500305,-0.022834200412035));
res += mul(Get(s1,-dx,-dy), float4x4(-0.210571825504303,-0.225720182061195,-0.009648269042373,-0.004329389892519,-0.026677956804633,-0.029080176725984,0.184088185429573,-0.005197792779654,0.041007027029991,-0.150786504149437,0.022560287266970,0.030883660539985,-0.121388241648674,0.039390742778778,0.148492783308029,0.001114919432439));
res += mul(Get(s1,-dx,0), float4x4(0.062378946691751,-0.131427153944969,-0.074532240629196,0.026603359729052,-0.193059831857681,0.151669427752495,0.007248483132571,-0.001130984863266,-0.092460848391056,-0.033446740359068,-0.114221982657909,-0.062342058867216,-0.024528987705708,0.094789057970047,0.230764508247375,-0.036394871771336));
res += mul(Get(s1,-dx,dy), float4x4(0.018553672358394,-0.076742574572563,-0.036750741302967,0.175015226006508,0.107742972671986,0.165309712290764,-0.120781071484089,0.059001028537750,0.151519373059273,-0.071203976869583,-0.157158046960831,-0.001039783237502,0.026311056688428,0.133415907621384,0.239211320877075,-0.107244193553925));
res += mul(Get(s1,0,-dy), float4x4(-0.280140310525894,-0.133567795157433,0.140625372529030,0.017300207167864,0.122304014861584,-0.058559451252222,-0.059725429862738,0.077478796243668,-0.038623712956905,-0.082445055246353,0.066779002547264,-0.230386152863503,-0.061396420001984,0.008884247392416,0.189379215240479,0.084057010710239));
res += mul(Get(s1,0,0), float4x4(0.168966218829155,-0.001554458518513,-0.033400304615498,-0.051828213036060,-0.089291095733643,0.189096704125404,-0.007993784733117,0.163389593362808,0.119430594146252,-0.148304447531700,-0.110377497971058,-0.114770442247391,0.000716419832315,0.043983384966850,0.136126443743706,0.043496284633875));
res += mul(Get(s1,0,dy), float4x4(0.309436082839966,-0.082332469522953,0.019453404471278,0.049306083470583,-0.000302993139485,0.146750047802925,-0.133860394358635,0.176611691713333,0.121011927723885,-0.063468448817730,-0.074797317385674,0.055830162018538,0.024325303733349,0.187570065259933,0.283121526241302,0.008746886625886));
res += mul(Get(s1,dx,-dy), float4x4(-0.246337816119194,-0.147086441516876,0.091476038098335,-0.062297962605953,0.206900343298912,-0.055628370493650,-0.064461469650269,0.020894868299365,0.024764521047473,-0.031665559858084,-0.033523023128510,-0.120137713849545,-0.042988114058971,-0.173940524458885,0.135038405656815,-0.015046427957714));
res += mul(Get(s1,dx,0), float4x4(-0.080588281154633,0.024007264524698,0.022687563672662,0.150231286883354,0.070935517549515,0.135413959622383,-0.148655250668526,0.083125993609428,0.186650887131691,-0.048398986458778,-0.177789285778999,-0.136720106005669,-0.044964045286179,-0.111694470047951,0.161875411868095,0.038954436779022));
res += mul(Get(s1,dx,dy), float4x4(0.040984634310007,0.015131918713450,0.107010968029499,-0.048895586282015,0.088800758123398,0.289516776800156,-0.061984647065401,-0.110686987638474,0.079384222626686,0.036015555262566,-0.099366232752800,-0.075400896370411,0.016843440011144,-0.101074047386646,0.211814060807228,0.070279598236084));
res += mul(Get(s2,-dx,-dy), float4x4(-0.020913325250149,-0.055960960686207,-0.060308232903481,0.361910551786423,0.148010656237602,-0.094593673944473,-0.012826786376536,-0.100815430283546,0.206706851720810,-0.197907626628876,-0.203006237745285,0.097879394888878,-0.000698425865266,0.112335875630379,0.132653892040253,-0.016733128577471));
res += mul(Get(s2,-dx,0), float4x4(-0.100645929574966,0.025175794959068,-0.134511888027191,0.263195455074310,-0.107913568615913,-0.047685917466879,-0.110462188720703,-0.203072652220726,0.012850648723543,-0.091168992221355,-0.006679062731564,-0.013949391432106,-0.020452657714486,-0.075793959200382,0.131338864564896,-0.032834012061357));
res += mul(Get(s2,-dx,dy), float4x4(-0.142419010400772,0.107189230620861,-0.165620192885399,0.020118318498135,-0.280253916978836,-0.035899452865124,-0.122873574495316,-0.022324923425913,-0.017073005437851,-0.152213364839554,-0.124841585755348,-0.011903285980225,-0.012348702177405,-0.007042227312922,0.320813655853271,-0.038812778890133));
res += mul(Get(s2,0,-dy), float4x4(-0.028115944936872,-0.004407830536366,0.004662557505071,0.273499578237534,0.427784800529480,-0.073221117258072,-0.052031446248293,-0.123080320656300,0.066657878458500,-0.143823549151421,-0.102423332631588,0.020172577351332,-0.065945655107498,0.118934623897076,0.092155061662197,0.011357816867530));
res += mul(Get(s2,0,0), float4x4(-0.072848178446293,-0.198314443230629,-0.111079715192318,0.159412756562233,0.243985548615456,-0.058373186737299,-0.042234387248755,-0.062659189105034,-0.061755277216434,-0.109341621398926,-0.014671956188977,-0.146313786506653,-0.049147747457027,-0.048248302191496,0.145623669028282,-0.056144285947084));
res += mul(Get(s2,0,dy), float4x4(-0.053092453628778,0.108788348734379,-0.086440116167068,0.153419196605682,-0.069449357688427,-0.083656504750252,-0.071161255240440,-0.166366010904312,-0.105108693242073,-0.128484547138214,-0.123577259480953,-0.117612510919571,0.037213347852230,-0.083713769912720,0.465295851230621,-0.080065496265888));
res += mul(Get(s2,dx,-dy), float4x4(0.031724337488413,-0.049814548343420,0.019525734707713,-0.043157666921616,0.264962375164032,-0.117223791778088,0.148441180586815,-0.147027730941772,0.008080323226750,-0.098618768155575,-0.129710242152214,-0.180071562528610,-0.009123427793384,0.118247896432877,0.252225518226624,-0.067036390304565));
res += mul(Get(s2,dx,0), float4x4(-0.024507043883204,-0.056180879473686,0.057013113051653,-0.036290731281042,0.357383996248245,-0.073180168867111,-0.060401558876038,-0.284825414419174,-0.155638396739960,-0.084049798548222,-0.165333375334740,-0.322575837373734,-0.045487653464079,0.072877198457718,0.472151964902878,-0.115943729877472));
res += mul(Get(s2,dx,dy), float4x4(-0.085508354008198,0.149863511323929,0.004963031038642,0.195374622941017,0.039817828685045,-0.083391293883324,-0.130331933498383,-0.317179858684540,-0.061873789876699,-0.154744431376457,-0.163365647196770,-0.266250163316727,-0.078839175403118,-0.078285209834576,0.125821441411972,-0.119142614305019));
res += mul(Get(s3,-dx,-dy), float4x4(-0.008350009098649,0.408643931150436,0.077015154063702,-0.134517133235931,0.086237646639347,0.176017329096794,0.068339325487614,-0.076944708824158,0.106234215199947,0.065625667572021,-0.137026026844978,-0.097581923007965,0.099950976669788,0.138523191213608,0.322724223136902,-0.024596845731139));
res += mul(Get(s3,-dx,0), float4x4(-0.063249111175537,-0.087303638458252,0.035805668681860,-0.112745843827724,-0.116098999977112,0.222556963562965,0.078389763832092,-0.101465798914433,-0.285991489887238,0.092992037534714,-0.044294130057096,0.042714335024357,0.109656319022179,0.181219175457954,0.111830629408360,-0.046859208494425));
res += mul(Get(s3,-dx,dy), float4x4(-0.029305744916201,0.044772949069738,0.162741959095001,-0.094957888126373,-0.051045496016741,0.053940437734127,0.469004571437836,-0.066212922334671,-0.223281532526016,0.046854682266712,-0.138770848512650,0.276828885078430,-0.073287948966026,-0.140053570270538,-0.018463334068656,0.008393991738558));
res += mul(Get(s3,0,-dy), float4x4(-0.141229316592216,-0.002332536736503,-0.089797981083393,-0.133107647299767,-0.036749385297298,-0.095411375164986,0.301130682229996,0.034867420792580,0.011275339871645,-0.099699772894382,-0.112536616623402,0.064497515559196,-0.036667075008154,0.358758211135864,0.155026584863663,-0.139109104871750));
res += mul(Get(s3,0,0), float4x4(-0.036608781665564,-0.013820644468069,-0.066673211753368,-0.102418661117554,-0.084877789020538,-0.035870447754860,-0.208963483572006,-0.042148139327765,-0.118515953421593,-0.065678812563419,-0.061012115329504,0.233189135789871,-0.046178840100765,0.068989008665085,0.194750413298607,-0.126114785671234));
res += mul(Get(s3,0,dy), float4x4(0.164258718490601,-0.022069469094276,0.028702007606626,-0.006247811019421,-0.010672284290195,-0.083232983946800,0.342290163040161,-0.117054983973503,-0.070724956691265,-0.019269049167633,-0.164125427603722,0.506698727607727,-0.095987521111965,-0.062789551913738,-0.088436886668205,-0.102845437824726));
res += mul(Get(s3,dx,-dy), float4x4(-0.080203481018543,-0.004174753092229,0.095984704792500,0.063659869134426,-0.131686836481094,-0.092389255762100,0.245359733700752,0.086552098393440,0.099946878850460,-0.108029343187809,-0.137600004673004,-0.210238888859749,0.010835084132850,0.373299866914749,0.231418758630753,0.101637378334999));
res += mul(Get(s3,dx,0), float4x4(0.013303564861417,-0.000306441128487,-0.037776604294777,-0.011673229746521,-0.077833950519562,-0.148110270500183,0.206623688340187,-0.087125532329082,-0.027475539594889,-0.045258603990078,-0.114939726889133,-0.207332968711853,-0.146570757031441,0.223971128463745,0.006538363173604,-0.027363426983356));
res += mul(Get(s3,dx,dy), float4x4(0.155180707573891,-0.133614644408226,0.270257920026779,0.093530133366585,-0.059012919664383,-0.258257180452347,0.333901435136795,-0.113094694912434,-0.159165188670158,-0.073513485491276,-0.249933347105980,0.239030674099922,-0.051490936428308,0.016435185447335,-0.078963302075863,-0.143963530659676));
return max(float4(0,0,0,0), res);
}
