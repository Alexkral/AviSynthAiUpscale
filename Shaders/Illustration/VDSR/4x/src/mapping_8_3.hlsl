sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.049249809235334,-0.099854275584221,0.123508311808109,-0.018364660441875,-0.146742448210716,-0.101509347558022,0.135137036442757,-0.062949992716312,-0.156421676278114,-0.009214542806149,0.147660493850708,-0.062383156269789,0.122647807002068,0.025412930175662,0.031740393489599,0.082148581743240));
res += mul(Get(s0,-dx,0), float4x4(-0.103565029799938,-0.021476129069924,-0.154449149966240,0.055558193475008,-0.031784415245056,-0.136599943041801,-0.049700252711773,0.041527468711138,-0.044811047613621,-0.016362514346838,0.041709385812283,-0.023342637345195,-0.208672091364861,0.114874981343746,-0.077548690140247,0.040285963565111));
res += mul(Get(s0,-dx,dy), float4x4(0.082615561783314,-0.075622566044331,0.011226215399802,-0.061469659209251,0.207558199763298,0.049813855439425,-0.070574752986431,0.139471963047981,-0.090497530996799,-0.159282535314560,-0.268051654100418,0.151829913258553,0.070898026227951,-0.101030111312866,-0.127951681613922,-0.125987753272057));
res += mul(Get(s0,0,-dy), float4x4(0.113590031862259,-0.247341752052307,0.017107160761952,0.085874415934086,0.094982959330082,-0.057682607322931,0.095400728285313,0.056976709514856,-0.099402770400047,-0.103058002889156,-0.128429070115089,-0.018610522150993,-0.072688341140747,-0.115580178797245,0.005378659814596,0.057409256696701));
res += mul(Get(s0,0,0), float4x4(-0.030744010582566,-0.055521816015244,-0.132317617535591,-0.232318997383118,0.230580016970634,-0.111948058009148,0.008955867029727,-0.092978216707706,-0.030332829803228,0.088138192892075,-0.113267727196217,0.008885220624506,0.093212492763996,-0.006429887842387,0.003723664442077,-0.096677288413048));
res += mul(Get(s0,0,dy), float4x4(0.059225939214230,-0.145505517721176,-0.051947504281998,-0.041531655937433,-0.048773504793644,-0.015178206376731,-0.029250709339976,-0.224752545356750,0.096338026225567,-0.104967623949051,0.167588979005814,0.090467952191830,0.082730211317539,-0.099530279636383,-0.154761135578156,-0.085975453257561));
res += mul(Get(s0,dx,-dy), float4x4(-0.076397918164730,0.112202994525433,-0.033043127506971,0.165443256497383,0.134091183543205,-0.017718706279993,-0.169633567333221,0.076893180608749,0.181561768054962,-0.145957693457603,0.146801277995110,-0.043481878936291,-0.006590120960027,0.022575693204999,0.123630784451962,0.182006463408470));
res += mul(Get(s0,dx,0), float4x4(-0.110373236238956,-0.118215791881084,0.117571048438549,-0.032271675765514,-0.040186867117882,0.204109266400337,0.032010603696108,-0.017612792551517,-0.015670124441385,0.153245896100998,0.076236464083195,-0.070444941520691,-0.175474703311920,0.101780407130718,0.031326539814472,0.024562027305365));
res += mul(Get(s0,dx,dy), float4x4(0.001026861718856,0.128361418843269,-0.114504568278790,0.041432555764914,-0.259244114160538,-0.131880223751068,0.044311754405499,0.050463780760765,0.280834913253784,0.005709282588214,0.116154432296753,-0.000029535525755,0.019291477277875,-0.068588010966778,0.056577611714602,-0.093330875039101));
res += mul(Get(s1,-dx,-dy), float4x4(-0.341767668724060,0.056767936795950,0.047599453479052,0.095220260322094,0.219402626156807,0.181033700704575,-0.042948335409164,-0.217181861400604,-0.172535374760628,-0.065400429069996,0.028331043198705,-0.012552171014249,-0.073308318853378,-0.085223168134689,0.076471745967865,-0.039214074611664));
res += mul(Get(s1,-dx,0), float4x4(0.138600185513496,-0.119106762111187,0.019876796752214,-0.093299105763435,0.104573599994183,-0.081823125481606,0.156822994351387,0.063491351902485,-0.038828950375319,0.059234105050564,0.116629019379616,0.023085514083505,-0.126694127917290,-0.098002173006535,-0.123812332749367,0.116417825222015));
res += mul(Get(s1,-dx,dy), float4x4(0.171818986535072,-0.091998375952244,-0.018108684569597,-0.096932396292686,0.077703334391117,-0.029390990734100,0.037635609507561,0.006729847285897,-0.001692365971394,0.001626271288842,0.119839005172253,-0.004999688360840,-0.108716167509556,-0.064435340464115,0.184009432792664,0.234356701374054));
res += mul(Get(s1,0,-dy), float4x4(-0.091196179389954,-0.153926879167557,0.112912200391293,0.212259918451309,-0.073828175663948,-0.172129243612289,-0.046181619167328,-0.091954015195370,-0.012058637104928,0.024128008633852,0.009063169360161,-0.186835154891014,0.116294860839844,0.141437232494354,-0.131588220596313,-0.124037653207779));
res += mul(Get(s1,0,0), float4x4(0.009074673056602,-0.136109963059425,-0.077059790492058,-0.007263893727213,0.004459379706532,0.180594116449356,0.013739871792495,-0.038498297333717,-0.067506782710552,0.111099906265736,-0.160267904400826,0.096007697284222,-0.086049139499664,0.145438656210899,-0.174690037965775,0.080704107880592));
res += mul(Get(s1,0,dy), float4x4(0.067041307687759,-0.019810525700450,0.012063506059349,-0.147893995046616,-0.085784211754799,0.286449223756790,0.006255670916289,-0.122503668069839,-0.153817340731621,-0.091819360852242,0.036932885646820,0.029942791908979,-0.041016183793545,0.030378101393580,0.226830407977104,0.044537756592035));
res += mul(Get(s1,dx,-dy), float4x4(-0.002738628536463,-0.052975576370955,-0.253768265247345,0.024182718247175,-0.061755139380693,0.104732938110828,-0.193690657615662,-0.033945955336094,0.003240915713832,-0.022649379447103,0.007038990501314,0.078994467854500,-0.200787082314491,0.029677929356694,0.091151945292950,-0.111856050789356));
res += mul(Get(s1,dx,0), float4x4(0.068356700241566,0.020200558006763,-0.113461174070835,0.014056972227991,-0.112823575735092,-0.093581549823284,-0.223320797085762,0.360128581523895,-0.090945005416870,0.046019755303860,0.094548687338829,-0.133431300520897,-0.045357193797827,0.053814560174942,0.187457799911499,-0.013675414025784));
res += mul(Get(s1,dx,dy), float4x4(-0.041870910674334,0.247963726520538,0.050439063459635,0.113390028476715,0.188335970044136,0.079421751201153,0.052690878510475,0.179041340947151,0.178200647234917,-0.047462236136198,0.186644390225410,-0.158076688647270,-0.040443979203701,0.218430787324905,-0.042107481509447,0.164020240306854));
res += mul(Get(s2,-dx,-dy), float4x4(-0.137387380003929,0.188443407416344,-0.039677653461695,0.194707483053207,0.017460012808442,0.116393879055977,0.081498220562935,-0.183078989386559,0.028736788779497,0.167618647217751,-0.161794632673264,-0.045537974685431,-0.101381793618202,-0.060056656599045,-0.151958182454109,-0.087996825575829));
res += mul(Get(s2,-dx,0), float4x4(0.031255744397640,-0.299943387508392,-0.171710371971130,0.039803069084883,0.062137320637703,0.060473211109638,-0.078677609562874,-0.216201722621918,0.062922343611717,-0.117078781127930,0.025130024179816,0.013495534658432,0.004804848693311,-0.200821176171303,0.015393278561532,-0.105509556829929));
res += mul(Get(s2,-dx,dy), float4x4(0.147189274430275,-0.097685545682907,0.019609825685620,-0.065583012998104,0.225839927792549,-0.016159621998668,-0.109921433031559,-0.097466565668583,0.153602540493011,-0.112557388842106,0.185254201292992,0.069711089134216,-0.069046303629875,-0.193647086620331,0.195045948028564,-0.139308467507362));
res += mul(Get(s2,0,-dy), float4x4(-0.043031617999077,0.150328621268272,-0.042643003165722,-0.018392631784081,-0.010771150700748,0.103006623685360,-0.070867314934731,-0.050972715020180,0.099963985383511,-0.105100609362125,-0.006156046874821,0.057809483259916,-0.020420776680112,0.127119600772858,0.017274595797062,-0.186148077249527));
res += mul(Get(s2,0,0), float4x4(-0.001760523067787,0.094162069261074,0.080624401569366,-0.022791020572186,0.062291525304317,-0.085799619555473,0.118028268218040,-0.051419388502836,0.077300012111664,-0.025263249874115,0.119420960545540,0.108818039298058,-0.118495739996433,-0.100082732737064,-0.155297517776489,-0.119994141161442));
res += mul(Get(s2,0,dy), float4x4(-0.152788758277893,-0.056390859186649,0.000349581358023,-0.141402706503868,0.055112652480602,0.152923911809921,0.176629960536957,-0.089160226285458,-0.012907756492496,-0.112706333398819,0.065669775009155,-0.074971310794353,0.241282537579536,0.125104725360870,-0.001860754098743,-0.177700981497765));
res += mul(Get(s2,dx,-dy), float4x4(-0.147326365113258,-0.090785875916481,0.068331651389599,0.049831468611956,-0.061578962951899,-0.152656167745590,-0.041346833109856,0.041827786713839,0.015073649585247,-0.174143776297569,0.111954413354397,0.113083958625793,0.078888185322285,-0.132354423403740,0.095766663551331,0.018112467601895));
res += mul(Get(s2,dx,0), float4x4(0.025447897613049,-0.093524515628815,0.081348642706871,-0.043857425451279,0.114730991423130,-0.011846880428493,-0.022818451747298,0.074366956949234,0.039859253913164,-0.108453296124935,-0.014282108284533,0.121920205652714,0.134707733988762,0.026011228561401,0.035419143736362,-0.092172570526600));
res += mul(Get(s2,dx,dy), float4x4(-0.154814511537552,0.077347464859486,0.225366353988647,0.000383197038900,-0.029464816674590,-0.011674835346639,-0.101988807320595,-0.004231133498251,0.107722446322441,0.169577345252037,0.055145125836134,0.012269237078726,-0.140129834413528,0.072505392134190,-0.261145234107971,0.008069860748947));
res += mul(Get(s3,-dx,-dy), float4x4(-0.025583587586880,0.060554653406143,0.066554807126522,-0.052003078162670,0.061827063560486,-0.016349222511053,0.000526329502463,0.073597319424152,-0.104966573417187,-0.174122735857964,0.090300656855106,0.160225853323936,0.115233041346073,-0.207119658589363,0.036309495568275,0.013258170336485));
res += mul(Get(s3,-dx,0), float4x4(-0.004008405841887,-0.001463848515414,0.005241082049906,-0.105048686265945,0.056831099092960,-0.252867013216019,-0.162215739488602,0.026949014514685,-0.010344794020057,-0.028365187346935,0.189711198210716,0.063040591776371,-0.024279257282615,0.023110257461667,-0.103994078934193,-0.156414523720741));
res += mul(Get(s3,-dx,dy), float4x4(0.124575614929199,0.101403534412384,0.112793959677219,0.077277950942516,-0.022997474297881,-0.067550629377365,-0.062565430998802,0.011858807876706,-0.028104396536946,-0.072427049279213,0.070284038782120,-0.057058826088905,0.115601427853107,0.257716476917267,-0.036309711635113,0.004526842385530));
res += mul(Get(s3,0,-dy), float4x4(-0.057965122163296,0.122279450297356,-0.041337281465530,0.207386165857315,0.017036637291312,-0.052706971764565,-0.161368623375893,0.055413417518139,0.080854110419750,-0.127215862274170,-0.153634607791901,0.004566051531583,0.006964115891606,0.101489417254925,-0.078643262386322,-0.151576176285744));
res += mul(Get(s3,0,0), float4x4(-0.246475815773010,-0.091293007135391,0.000262058689259,0.038831476122141,-0.161182418465614,-0.050759594887495,-0.028218168765306,-0.086885914206505,0.015687389299273,-0.028551919385791,0.117687046527863,0.060618110001087,0.153581619262695,0.135387644171715,-0.094482243061066,0.015127536840737));
res += mul(Get(s3,0,dy), float4x4(-0.099132411181927,-0.130129292607307,-0.021485157310963,-0.271222561597824,0.056918978691101,0.019590139389038,-0.116290710866451,-0.047437544912100,0.087307177484035,0.220713287591934,0.182381510734558,-0.040484499186277,-0.178496733307838,-0.141985103487968,0.246557399630547,-0.013738788664341));
res += mul(Get(s3,dx,-dy), float4x4(-0.085235692560673,0.273297697305679,0.134241878986359,0.054531648755074,-0.025591850280762,-0.016252795234323,-0.000312315503834,0.151149034500122,-0.029729882255197,-0.092492572963238,-0.223619699478149,0.025104014202952,-0.024303851649165,-0.077814579010010,-0.045874144881964,-0.008266086690128));
res += mul(Get(s3,dx,0), float4x4(0.102775141596794,-0.046251259744167,-0.086258016526699,0.072070360183716,-0.072668127715588,0.120308801531792,-0.090723514556885,0.105448029935360,-0.120526388287544,0.275364637374878,-0.274149388074875,0.069480195641518,0.265892058610916,0.008805173449218,0.106701582670212,-0.022889748215675));
res += mul(Get(s3,dx,dy), float4x4(-0.109291978180408,0.000402067496907,-0.101890474557877,0.016675114631653,-0.042952399700880,0.226898550987244,-0.006000080611557,0.041624333709478,-0.017819382250309,-0.066725179553032,0.026438927277923,-0.170116931200027,-0.048322487622499,-0.097984865307808,-0.032139785587788,-0.135025426745415));
return max(float4(0,0,0,0), res);
}
