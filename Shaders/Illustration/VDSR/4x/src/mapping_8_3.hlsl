sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.208319693803787,-0.093389518558979,0.000150093415868,-0.124977223575115,-0.009642063640058,-0.114194057881832,0.054927032440901,-0.132535457611084,-0.074954099953175,-0.117492817342281,-0.083803020417690,-0.041966393589973,-0.127551808953285,-0.403507173061371,0.043578188866377,-0.094484888017178));
res += mul(Get(s0,-dx,0), float4x4(-0.134215518832207,-0.037066515535116,0.160947620868683,-0.150725096464157,-0.125486984848976,0.176963612437248,0.091230466961861,-0.137574017047882,-0.006809181533754,-0.100081682205200,-0.033650588244200,0.085467949509621,-0.100462928414345,-0.192252725362778,0.210241615772247,0.004267467185855));
res += mul(Get(s0,-dx,dy), float4x4(-0.211681216955185,0.167659193277359,-0.083530575037003,-0.254130721092224,-0.115454450249672,0.391676008701324,-0.059420816600323,0.169553071260452,-0.022589225322008,-0.020614076405764,-0.023742876946926,-0.042254641652107,-0.171588152647018,0.056785020977259,-0.183868929743767,-0.110407181084156));
res += mul(Get(s0,0,-dy), float4x4(-0.071593239903450,0.026788718998432,-0.106982715427876,-0.000418545532739,-0.052986755967140,-0.073995724320412,0.054003264755011,-0.078492589294910,-0.104635357856750,-0.161923065781593,-0.068377710878849,0.032569184899330,-0.207599356770515,-0.265726476907730,0.107537753880024,-0.044260531663895));
res += mul(Get(s0,0,0), float4x4(-0.077987045049667,-0.058781363070011,0.111840717494488,-0.062550298869610,-0.097972713410854,0.280611425638199,0.033866390585899,-0.083992637693882,0.044108524918556,-0.041215263307095,-0.058203559368849,-0.043870754539967,-0.034618992358446,-0.031263910233974,0.531388521194458,0.030151955783367));
res += mul(Get(s0,0,dy), float4x4(-0.158935844898224,0.194222107529640,0.003699215827510,-0.102225579321384,-0.076265014708042,0.154477089643478,0.036857344210148,0.144849732518196,-0.200665071606636,-0.106702670454979,-0.055350508540869,0.016724729910493,-0.040411442518234,0.144357725977898,0.033779770135880,0.037411872297525));
res += mul(Get(s0,dx,-dy), float4x4(0.027765927836299,0.070113614201546,-0.055873882025480,-0.064887896180153,0.168432474136353,-0.248048380017281,-0.282727539539337,0.058391172438860,-0.149402335286140,-0.160636812448502,-0.096742928028107,-0.090391620993614,0.110820114612579,-0.206824615597725,-0.385935038328171,0.022966345772147));
res += mul(Get(s0,dx,0), float4x4(0.159738659858704,-0.173773929476738,0.015546497888863,-0.154371365904808,0.406784981489182,-0.129611268639565,0.101757228374481,0.339977920055389,-0.160642519593239,-0.007614922709763,-0.001812392729335,-0.028567200526595,-0.031114591285586,-0.003550317138433,-0.217267736792564,0.003078100038692));
res += mul(Get(s0,dx,dy), float4x4(0.082806572318077,0.056640092283487,-0.133897185325623,0.134426012635231,-0.078730434179306,0.019715832546353,-0.109328083693981,0.492166459560394,-0.156740769743919,-0.040838323533535,-0.074266009032726,0.316088050603867,0.023041756823659,0.368912518024445,0.092351861298084,0.116892136633396));
res += mul(Get(s1,-dx,-dy), float4x4(-0.234784632921219,-0.294236540794373,-0.077408768236637,0.108487017452717,0.044252365827560,-0.189382940530777,-0.079447537660599,0.017493594437838,-0.090528398752213,-0.115214385092258,-0.166312903165817,0.019691817462444,0.001061103772372,0.003042215481400,0.046698056161404,0.056718975305557));
res += mul(Get(s1,-dx,0), float4x4(-0.224553734064102,0.039645642042160,-0.211789622902870,-0.189341202378273,0.009236275218427,-0.038306415081024,-0.072710283100605,-0.055547069758177,-0.083507277071476,-0.111704871058464,-0.153415173292160,-0.024181680753827,-0.024509649723768,0.016321614384651,0.048070132732391,0.089925691485405));
res += mul(Get(s1,-dx,dy), float4x4(0.201506793498993,0.178235247731209,0.022960742935538,-0.081772245466709,-0.162293106317520,-0.112923644483089,-0.083068795502186,-0.046620059758425,-0.122475318610668,0.026768773794174,0.031473454087973,-0.083100326359272,-0.128297358751297,-0.060832541435957,-0.007194184698164,-0.067624010145664));
res += mul(Get(s1,0,-dy), float4x4(0.010777857154608,-0.085811249911785,0.044093281030655,-0.042825955897570,0.125446796417236,-0.127518802881241,0.008789464831352,-0.179438516497612,0.161016315221786,-0.080233439803123,-0.119300827383995,0.060623135417700,-0.061045847833157,0.188556417822838,0.009742760099471,0.156511366367340));
res += mul(Get(s1,0,0), float4x4(-0.072053380310535,-0.044792152941227,0.022246316075325,-0.039610370993614,-0.001169656170532,-0.083083562552929,-0.096799902617931,0.024682244285941,0.225693687796593,0.043639849871397,-0.014760932885110,0.133016660809517,-0.061568994075060,0.147666618227959,0.033756043761969,0.141413778066635));
res += mul(Get(s1,0,dy), float4x4(0.171531409025192,0.000075766227383,0.070789992809296,-0.049381405115128,0.153870686888695,0.082182936370373,-0.027190871536732,-0.112277634441853,0.057421494275331,0.045536909252405,-0.089243866503239,0.051356945186853,-0.081427469849586,-0.071195207536221,-0.033323388546705,-0.033098895102739));
res += mul(Get(s1,dx,-dy), float4x4(-0.093682587146759,-0.123154386878014,-0.199292600154877,-0.104107849299908,0.270472466945648,-0.255401313304901,0.013639053329825,0.005099409725517,0.113204583525658,-0.131854370236397,-0.164721995592117,0.176282510161400,-0.051020726561546,-0.021408645436168,-0.049897812306881,-0.068607524037361));
res += mul(Get(s1,dx,0), float4x4(-0.015145868994296,-0.031540308147669,-0.068599946796894,-0.146556943655014,0.126586645841599,0.005759599152952,-0.032835818827152,0.009725059382617,0.169425159692764,0.104777023196220,-0.043096203356981,0.076933234930038,-0.057281423360109,0.012453429400921,0.050984635949135,-0.032588992267847));
res += mul(Get(s1,dx,dy), float4x4(0.004866281989962,0.122745312750340,0.080264694988728,0.157200112938881,0.407749116420746,-0.035605840384960,-0.022608140483499,0.002825764240697,0.083479218184948,-0.056971754878759,0.065865166485310,0.170980900526047,-0.112652964890003,-0.096202783286572,-0.031711969524622,-0.081808581948280));
res += mul(Get(s2,-dx,-dy), float4x4(-0.096715472638607,-0.139083340764046,0.303733408451080,0.066055662930012,-0.126352339982986,-0.090742543339729,-0.144845321774483,0.009826629422605,0.130920842289925,-0.199184581637383,0.067242898046970,-0.035102900117636,0.101657003164291,-0.051955912262201,-0.030996289104223,0.194669634103775));
res += mul(Get(s2,-dx,0), float4x4(-0.148420125246048,0.103928349912167,0.043302580714226,-0.137974515557289,-0.015776762738824,-0.058136485517025,0.000781838956755,-0.129710868000984,0.141504600644112,0.104107476770878,0.316215157508850,0.059553328901529,0.067381069064140,-0.063781417906284,-0.037479653954506,0.211329013109207));
res += mul(Get(s2,-dx,dy), float4x4(-0.157126471400261,0.145772337913513,-0.097306057810783,-0.050335664302111,-0.064862571656704,0.081453762948513,-0.042021822184324,-0.087489798665047,0.151685535907745,-0.015339329838753,0.125969663262367,0.144305348396301,-0.009149295277894,-0.008837485685945,-0.042526546865702,0.062576107680798));
res += mul(Get(s2,0,-dy), float4x4(-0.100099153816700,-0.055593293160200,0.317070305347443,0.487598389387131,-0.065972387790680,-0.068115398287773,-0.116287589073181,-0.062671303749084,0.159815549850464,-0.289947748184204,-0.159327253699303,-0.148145958781242,0.031414628028870,0.090728677809238,-0.039355613291264,0.156697586178780));
res += mul(Get(s2,0,0), float4x4(-0.000071798771387,0.281015366315842,0.103996478021145,0.226486295461655,-0.067756824195385,-0.073735721409321,-0.108019679784775,-0.119804628193378,0.355264425277710,0.080511219799519,0.204769745469093,0.137409165501595,-0.042439945042133,-0.028217539191246,-0.060649573802948,0.029611010104418));
res += mul(Get(s2,0,dy), float4x4(0.007755957543850,0.107972495257854,-0.125916182994843,0.069174736738205,-0.015760637819767,0.022041903808713,0.174813598394394,-0.074042215943336,0.244008660316467,0.250642329454422,0.061717770993710,0.289541095495224,-0.039399344474077,-0.007974817417562,-0.027316866442561,0.012371103279293));
res += mul(Get(s2,dx,-dy), float4x4(0.000589378701989,0.311965137720108,0.214688941836357,0.529070377349854,-0.023199491202831,-0.138586238026619,-0.171515077352524,0.005160185508430,0.490592181682587,-0.356073915958405,-0.319116443395615,-0.139330372214317,-0.036872405558825,-0.131852075457573,-0.057302232831717,-0.026504751294851));
res += mul(Get(s2,dx,0), float4x4(0.044623922556639,-0.009993760846555,0.202031299471855,-0.153689756989479,0.092263408005238,0.075485773384571,-0.233021929860115,-0.033035460859537,0.029140606522560,-0.175672248005867,-0.037022024393082,0.146707996726036,0.032249603420496,-0.031018629670143,-0.038067787885666,-0.045557435601950));
res += mul(Get(s2,dx,dy), float4x4(-0.025621134787798,-0.028205113485456,-0.010371271520853,0.030894501134753,0.053919896483421,0.166532084345818,0.170850783586502,-0.192608907818794,0.153735145926476,0.081939749419689,-0.201409175992012,0.396265625953674,-0.112022876739502,-0.010782826691866,-0.043317891657352,-0.059561040252447));
res += mul(Get(s3,-dx,-dy), float4x4(0.140263453125954,-0.155492886900902,-0.075613610446453,-0.139267072081566,0.097173266112804,-0.046274133026600,-0.023505821824074,0.036132141947746,-0.102267026901245,-0.255490750074387,-0.096667900681496,-0.156728282570839,0.191560760140419,-0.226085513830185,0.000605838838965,-0.109649375081062));
res += mul(Get(s3,-dx,0), float4x4(-0.077309340238571,-0.116434574127197,-0.051729433238506,-0.121462598443031,0.035696335136890,-0.031227976083755,-0.050795365124941,-0.047189969569445,-0.142326220870018,-0.054899860173464,-0.024455508217216,-0.163715228438377,0.212613821029663,-0.069476187229156,-0.039883080869913,0.025227854028344));
res += mul(Get(s3,-dx,dy), float4x4(0.089000321924686,0.024005971848965,-0.062080513685942,-0.147030755877495,-0.277884513139725,-0.009155022911727,-0.067800104618073,-0.067464075982571,-0.186892583966255,-0.109397679567337,0.063110522925854,-0.180559769272804,-0.016131129115820,-0.048259738832712,0.000865760084707,-0.020508870482445));
res += mul(Get(s3,0,-dy), float4x4(-0.117463305592537,-0.096834897994995,-0.083873122930527,-0.144900083541870,-0.049922630190849,0.008416118100286,-0.021327573806047,0.116379611194134,-0.177268266677856,0.020211234688759,-0.016361687332392,-0.017326369881630,-0.134987428784370,-0.186862334609032,-0.057574342936277,-0.043004237115383));
res += mul(Get(s3,0,0), float4x4(-0.056161496788263,-0.044903587549925,-0.059853184968233,-0.011147702112794,-0.047013264149427,0.056644558906555,-0.038727477192879,-0.040316093713045,-0.168410018086433,0.189141541719437,-0.068231262266636,0.038643293082714,-0.087818495929241,-0.117035239934921,-0.041921861469746,-0.124275282025337));
res += mul(Get(s3,0,dy), float4x4(0.001916059642099,0.042527299374342,0.017597354948521,-0.023172911256552,-0.155603766441345,0.051410239189863,-0.069467306137085,-0.001014997367747,-0.223625198006630,0.195111870765686,0.238544717431068,-0.036200258880854,-0.168509483337402,-0.080608852207661,-0.052926126867533,-0.175071030855179));
res += mul(Get(s3,dx,-dy), float4x4(-0.027927486225963,-0.124121941626072,-0.060160424560308,-0.051045753061771,-0.148309290409088,-0.027391172945499,-0.005337947513908,-0.015342129394412,-0.277012467384338,-0.151493623852730,-0.075357496738434,-0.278093576431274,-0.177873104810715,-0.143158644437790,0.012884266674519,0.003627836471424));
res += mul(Get(s3,dx,0), float4x4(-0.025401592254639,-0.053301095962524,-0.035391017794609,-0.045491222292185,-0.134368374943733,-0.088479936122894,-0.025313040241599,-0.135187730193138,-0.190282508730888,0.104081623256207,0.092829659581184,-0.185726150870323,-0.132485032081604,-0.105084069073200,0.069392919540405,-0.140409678220749));
res += mul(Get(s3,dx,dy), float4x4(0.024050941690803,-0.017153847962618,0.014189582318068,-0.043153140693903,-0.107822075486183,0.002993747126311,-0.013240369968116,-0.106027223169804,-0.084718115627766,0.100410699844360,0.421192795038223,-0.074325680732727,0.013858391903341,-0.136266112327576,-0.049695163965225,-0.085361771285534));
return max(float4(0,0,0,0), res);
}
