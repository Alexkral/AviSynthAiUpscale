sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.127543076872826,-0.196695074439049,0.001879854244180,-0.028618015348911,-0.052596736699343,-0.153921917080879,-0.023771703243256,-0.083454713225365,-0.191115692257881,-0.223770454525948,-0.263071388006210,-0.221721127629280,-0.105347067117691,-0.066110372543335,-0.030969342216849,0.200387477874756));
res += mul(Get(s0,-dx,0), float4x4(0.073023237287998,0.149021565914154,-0.022220350801945,0.019818840548396,0.017347812652588,-0.128476738929749,-0.150506481528282,0.049132637679577,-0.164223179221153,-0.308016985654831,0.042240258306265,-0.086767502129078,-0.042731303721666,-0.069225035607815,0.432574212551117,0.001521842554212));
res += mul(Get(s0,-dx,dy), float4x4(-0.206011816859245,0.007056367583573,0.218020766973495,-0.008634918369353,-0.032807115465403,-0.020409760996699,0.008610725402832,0.050861533731222,-0.062509119510651,0.075357072055340,0.067914523184299,-0.161209613084793,-0.026211662217975,-0.020749531686306,0.151743695139885,0.066079609096050));
res += mul(Get(s0,0,-dy), float4x4(0.006747255101800,-0.205398544669151,0.017995744943619,-0.022241255268455,0.025660317391157,-0.034640744328499,-0.003554786555469,-0.096536614000797,-0.227705806493759,-0.010378048755229,0.198717504739761,-0.176143437623978,-0.009069746360183,-0.195406660437584,0.005187731236219,0.072176851332188));
res += mul(Get(s0,0,0), float4x4(-0.021256251260638,0.141671791672707,0.007780630607158,-0.078150235116482,0.014131730422378,-0.101491957902908,-0.077748872339725,-0.013550612144172,-0.159760564565659,-0.222737714648247,0.211457446217537,-0.055224157869816,-0.042141813784838,-0.012287093326449,-0.162253811955452,0.078233577311039));
res += mul(Get(s0,0,dy), float4x4(-0.252243399620056,-0.017473326995969,0.053912330418825,-0.106518365442753,0.028770305216312,-0.034912977367640,0.000857925275341,-0.044775933027267,-0.064396768808365,-0.156424239277840,0.005251191090792,-0.043535362929106,-0.077984213829041,-0.025292163714767,-0.025260385125875,0.097058169543743));
res += mul(Get(s0,dx,-dy), float4x4(-0.057696416974068,-0.032123580574989,-0.033200632780790,-0.086447112262249,-0.043515998870134,-0.119215980172157,0.113436073064804,-0.191768929362297,-0.119882576167583,0.275333493947983,-0.169014334678650,0.002442009979859,0.013039158657193,-0.089532412588596,-0.109261848032475,-0.001331823761575));
res += mul(Get(s0,dx,0), float4x4(0.041254792362452,0.234003037214279,-0.143587023019791,-0.008211607113481,-0.046266280114651,-0.122233226895332,0.147081613540649,-0.131277859210968,-0.100297018885612,-0.136197388172150,-0.285035729408264,-0.095363825559616,-0.037672422826290,-0.054715886712074,-0.152530252933502,0.038118898868561));
res += mul(Get(s0,dx,dy), float4x4(-0.045635573565960,0.374557226896286,0.040424723178148,0.020966328680515,-0.076997026801109,-0.082655876874924,-0.024026205763221,0.171872019767761,-0.036031350493431,-0.085870154201984,-0.275686264038086,-0.112068355083466,-0.116552010178566,-0.150077536702156,-0.232052668929100,0.141377806663513));
res += mul(Get(s1,-dx,-dy), float4x4(0.006609975825995,-0.152528539299965,-0.033080074936152,-0.082428298890591,-0.007081261370331,0.172955021262169,-0.101880736649036,-0.022386604920030,-0.000335005723173,-0.038478747010231,-0.053631398826838,-0.206999614834785,0.263092815876007,-0.089426286518574,-0.194335862994194,0.103894054889679));
res += mul(Get(s1,-dx,0), float4x4(-0.103983551263809,0.061098124831915,0.235993698239326,-0.140924036502838,0.083758756518364,0.099435299634933,-0.118252307176590,-0.035180956125259,-0.096601136028767,-0.108532778918743,-0.056101985275745,-0.033257722854614,0.075844950973988,-0.076606728136539,-0.160909503698349,-0.201993927359581));
res += mul(Get(s1,-dx,dy), float4x4(0.011812330223620,-0.056585561484098,0.004007979761809,-0.241684004664421,0.011154180392623,0.060410324484110,-0.036883134394884,-0.208951115608215,0.266057997941971,-0.152253240346909,-0.075327128171921,0.213678374886513,0.210334211587906,-0.027898130938411,-0.015005608089268,-0.144951969385147));
res += mul(Get(s1,0,-dy), float4x4(-0.067130856215954,-0.051412552595139,-0.086236096918583,-0.285900652408600,0.077557884156704,0.079373002052307,-0.100806497037411,0.246719822287560,0.023538731038570,-0.206879332661629,0.032862793654203,-0.038586158305407,0.015525196678936,0.117997020483017,-0.243696689605713,0.323263555765152));
res += mul(Get(s1,0,0), float4x4(-0.063388109207153,0.261679023504257,-0.009293033741415,-0.204855039715767,-0.039376169443130,-0.147038549184799,-0.118219934403896,-0.246609285473824,0.034357424825430,0.103644058108330,-0.175639793276787,-0.013070903718472,-0.135882645845413,0.275356024503708,-0.217263028025627,-0.036964882165194));
res += mul(Get(s1,0,dy), float4x4(-0.035009104758501,0.061799746006727,-0.032742593437433,-0.166061192750931,-0.087884895503521,-0.004794430918992,-0.043264120817184,0.077985189855099,0.072400644421577,0.018834596499801,-0.170906811952591,0.228160411119461,-0.292690068483353,0.396924227476120,-0.017908930778503,-0.163172885775566));
res += mul(Get(s1,dx,-dy), float4x4(-0.053145371377468,-0.002349090529606,-0.143964886665344,0.470897436141968,0.404723554849625,0.352770030498505,-0.195882201194763,0.136629581451416,-0.051950611174107,-0.153941452503204,-0.010799400508404,-0.027748886495829,0.244805127382278,0.007325260899961,-0.167398035526276,0.206997632980347));
res += mul(Get(s1,dx,0), float4x4(-0.075489975512028,-0.215628609061241,-0.172777995467186,-0.160499215126038,-0.001282012672164,0.157149344682693,0.009303648956120,-0.231283396482468,0.010129820555449,0.101121291518211,-0.244763299822807,0.024077316746116,0.073068447411060,-0.184725224971771,-0.117306843400002,-0.310078948736191));
res += mul(Get(s1,dx,dy), float4x4(-0.142635226249695,-0.012406989000738,0.031189957633615,-0.330423384904861,-0.158963620662689,0.297331452369690,0.128357470035553,-0.284870117902756,-0.233128309249878,-0.017394436523318,-0.218831360340118,0.274793356657028,-0.054122995585203,0.142887130379677,-0.044546369463205,-0.323936849832535));
res += mul(Get(s2,-dx,-dy), float4x4(-0.034810181707144,0.026665512472391,0.019852347671986,-0.010883622802794,0.239656195044518,-0.284572660923004,-0.228200852870941,-0.160856604576111,-0.064469233155251,-0.058227129280567,-0.199647977948189,0.100811526179314,-0.077973477542400,-0.028726808726788,0.026871152222157,0.091612547636032));
res += mul(Get(s2,-dx,0), float4x4(-0.044349621981382,-0.207940533757210,0.002167135244235,-0.047780722379684,-0.018184350803494,-0.114000372588634,-0.084506653249264,0.049422290176153,-0.032326821237803,-0.054196823388338,-0.087976336479187,0.014018042013049,-0.131911695003510,-0.018816532567143,-0.005344667006284,0.075623303651810));
res += mul(Get(s2,-dx,dy), float4x4(-0.095536746084690,0.118347682058811,0.062023647129536,-0.076290823519230,0.194721326231956,-0.088434837758541,-0.045649178326130,-0.030916618183255,-0.058039736002684,-0.076539449393749,-0.181773543357849,0.055594895035028,-0.070964746177197,0.074443168938160,-0.117821954190731,0.036110121756792));
res += mul(Get(s2,0,-dy), float4x4(-0.098652854561806,0.104510344564915,-0.001784565392882,-0.059879455715418,-0.042840722948313,0.020502392202616,-0.217308238148689,-0.130731835961342,-0.051263194531202,-0.004848785232753,-0.000171344334376,0.061298243701458,-0.075044311583042,-0.030749723315239,-0.022572701796889,-0.232556819915771));
res += mul(Get(s2,0,0), float4x4(-0.085982330143452,0.060207534581423,0.140794083476067,-0.073845684528351,-0.180006384849548,-0.038116466253996,0.017944296821952,0.144743666052818,-0.027101520448923,-0.074523575603962,-0.020120374858379,-0.055586826056242,-0.117544263601303,-0.019677009433508,-0.039234913885593,-0.019814085215330));
res += mul(Get(s2,0,dy), float4x4(-0.149627760052681,0.142176523804665,0.013913504779339,-0.023591248318553,-0.010045390576124,-0.019978636875749,0.192394971847534,-0.082531303167343,-0.021885817870498,-0.086429327726364,-0.059239186346531,0.060479085892439,-0.054354242980480,-0.135242551565170,-0.050986867398024,0.146863803267479));
res += mul(Get(s2,dx,-dy), float4x4(-0.056647542864084,0.212359994649887,0.158572137355804,-0.158017903566360,-0.159880980849266,-0.204495996236801,-0.085675098001957,-0.061910089105368,-0.067823812365532,-0.081084705889225,0.042379252612591,-0.159709408879280,-0.076018229126930,-0.099277265369892,-0.059330593794584,-0.223065316677094));
res += mul(Get(s2,dx,0), float4x4(-0.076958291232586,0.161337047815323,0.172693192958832,-0.230572625994682,-0.039244011044502,-0.106711164116859,-0.174765422940254,0.106267362833023,-0.034676156938076,-0.056649047881365,-0.011908820830286,0.117587372660637,-0.127635419368744,-0.034249067306519,-0.006004741415381,0.272436887025833));
res += mul(Get(s2,dx,dy), float4x4(-0.104325957596302,-0.051049955189228,-0.152286157011986,0.177272036671638,0.106062799692154,-0.188776373863220,-0.126846939325333,-0.108206830918789,0.056677825748920,-0.009453298524022,-0.031991224735975,0.459308356046677,-0.151842281222343,-0.102315209805965,0.025998134166002,0.250719100236893));
res += mul(Get(s3,-dx,-dy), float4x4(-0.083225101232529,-0.116016037762165,0.071578204631805,-0.031390901654959,-0.086259603500366,-0.185753375291824,0.060786340385675,-0.078319467604160,-0.092233799397945,-0.059792846441269,-0.159105479717255,0.017203075811267,0.209513947367668,0.030170090496540,-0.084601856768131,0.031749736517668));
res += mul(Get(s3,-dx,0), float4x4(-0.043203145265579,-0.074023239314556,0.203556805849075,0.014852376654744,-0.042135223746300,-0.118888415396214,-0.096071772277355,-0.271174728870392,-0.036739151924849,0.001293382956646,-0.026642452925444,-0.004051742609590,0.108148768544197,0.107251621782780,-0.072659924626350,-0.070613980293274));
res += mul(Get(s3,-dx,dy), float4x4(-0.023377550765872,-0.136483833193779,0.315170466899872,0.042957391589880,-0.040258280932903,-0.066262476146221,-0.181459382176399,-0.231270089745522,-0.083829082548618,0.043293870985508,0.256139755249023,-0.060368977487087,-0.105194889008999,-0.126450493931770,-0.053912527859211,-0.173176258802414));
res += mul(Get(s3,0,-dy), float4x4(-0.074065394699574,-0.088234581053257,0.009925336576998,-0.054709229618311,-0.142246752977371,-0.065133817493916,-0.029660312458873,-0.090601384639740,-0.050910804420710,0.065557435154915,-0.345689684152603,-0.043680611997843,-0.016966272145510,-0.026041675359011,-0.092093542218208,-0.114419020712376));
res += mul(Get(s3,0,0), float4x4(-0.027823721989989,-0.073717266321182,0.145801484584808,-0.024505397304893,-0.077533215284348,-0.093438334763050,-0.078490592539310,-0.155982837080956,-0.075417198240757,-0.082360811531544,0.156476184725761,-0.048270598053932,0.027442170307040,0.116368182003498,-0.117647230625153,-0.118886403739452));
res += mul(Get(s3,0,dy), float4x4(-0.066613979637623,-0.080133542418480,0.267785072326660,-0.066850602626801,-0.090663440525532,-0.170357137918472,-0.117266967892647,-0.186277970671654,-0.163541734218597,-0.107371762394905,0.026651591062546,-0.125217989087105,-0.282620877027512,-0.060792014002800,0.143437236547470,-0.200208485126495));
res += mul(Get(s3,dx,-dy), float4x4(-0.064337842166424,-0.060325399041176,-0.364767462015152,-0.074534758925438,0.055069867521524,-0.227359175682068,-0.137489110231400,0.247990190982819,-0.026912042871118,-0.004462753422558,0.225701823830605,-0.011146948672831,-0.042811475694180,0.044361658394337,-0.058631021529436,0.020654384046793));
res += mul(Get(s3,dx,0), float4x4(-0.044235605746508,-0.082324303686619,-0.212886303663254,-0.043707240372896,-0.079367123544216,-0.229998126626015,0.000143616111018,0.088545709848404,-0.043146632611752,-0.124907359480858,0.040958270430565,-0.099949099123478,0.260306537151337,0.344493418931961,-0.017026243731380,0.015960779041052));
res += mul(Get(s3,dx,dy), float4x4(-0.078011453151703,-0.095937110483646,-0.107616521418095,-0.111855126917362,-0.069506198167801,0.287871152162552,0.330015897750854,-0.161217391490936,-0.113286249339581,-0.094287149608135,-0.081572830677032,-0.183489277958870,0.023418681696057,-0.071419507265091,0.186916947364807,0.033538427203894));
return max(float4(0,0,0,0), res);
}
