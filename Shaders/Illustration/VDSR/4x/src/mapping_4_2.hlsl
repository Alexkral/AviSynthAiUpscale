sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.054300643503666,-0.052798420190811,-0.081740610301495,0.149490430951118,0.010104892775416,0.091216407716274,0.062098350375891,-0.004210164770484,-0.278251558542252,-0.139381930232048,-0.020435696467757,0.116086266934872,-0.065031915903091,-0.201120823621750,-0.080896362662315,-0.183573901653290));
res += mul(Get(s0,-dx,0), float4x4(0.027248816564679,-0.042303107678890,-0.060603395104408,-0.053763560950756,0.071685366332531,-0.186707094311714,0.069335579872131,-0.074305936694145,-0.187417507171631,0.010458828881383,-0.147732987999916,-0.140656217932701,-0.076659150421619,-0.158077523112297,-0.169281616806984,-0.142439767718315));
res += mul(Get(s0,-dx,dy), float4x4(0.042242802679539,-0.149315848946571,-0.032485771924257,-0.017536859959364,-0.108867011964321,0.048636075109243,-0.095012664794922,-0.176936209201813,-0.168784961104393,-0.074665740132332,-0.188220664858818,-0.118221603333950,-0.554989218711853,-0.194574356079102,0.087349921464920,-0.230537891387939));
res += mul(Get(s0,0,-dy), float4x4(-0.257633328437805,0.036495409905910,-0.061926476657391,0.062182750552893,-0.076627120375633,-0.104285404086113,0.096441686153412,-0.070485383272171,-0.156140029430389,-0.309554666280746,0.183699980378151,-0.061175640672445,-0.059331279247999,-0.026948517188430,-0.165841758251190,-0.069893009960651));
res += mul(Get(s0,0,0), float4x4(-0.137268453836441,0.032026555389166,0.020112795755267,-0.133476927876472,-0.141665115952492,-0.016343884170055,0.069876946508884,0.062958270311356,-0.086186230182648,-0.160462424159050,-0.011483239009976,-0.020889505743980,-0.139690890908241,0.019010040909052,-0.245584264397621,-0.178771719336510));
res += mul(Get(s0,0,dy), float4x4(-0.077854387462139,-0.133673936128616,-0.022410910576582,-0.115727707743645,-0.153419926762581,0.214141547679901,-0.106642641127110,-0.003783276071772,-0.069819390773773,-0.058237951248884,-0.030972640961409,-0.032009780406952,-0.159846156835556,0.397099435329437,0.208346098661423,-0.190180614590645));
res += mul(Get(s0,dx,-dy), float4x4(-0.193572461605072,-0.029445625841618,0.014441215433180,-0.019212925806642,-0.052962016314268,0.089566066861153,-0.035258442163467,0.336180478334427,-0.079857848584652,-0.116874001920223,0.033218439668417,-0.180749207735062,0.149943098425865,-0.208327949047089,-0.000777134613600,-0.143145695328712));
res += mul(Get(s0,dx,0), float4x4(-0.286127299070358,-0.093996316194534,0.106337025761604,-0.111366674304008,-0.062058884650469,0.134101539850235,0.089321784675121,0.086062058806419,-0.122785449028015,-0.054046340286732,-0.020660558715463,-0.017539523541927,0.225453466176987,-0.319961458444595,-0.071199201047421,-0.208310127258301));
res += mul(Get(s0,dx,dy), float4x4(-0.019159793853760,-0.210313186049461,0.012263569049537,0.089501939713955,-0.130921944975853,0.106366746127605,0.029842896386981,0.052608110010624,-0.101485751569271,0.031233709305525,-0.026817388832569,0.191549614071846,0.010863312520087,-0.358810067176819,0.164416953921318,-0.297257900238037));
res += mul(Get(s1,-dx,-dy), float4x4(-0.097872637212276,0.069057330489159,-0.037154983729124,-0.014463077299297,0.333956837654114,-0.058467060327530,-0.017024965956807,-0.102400511503220,0.349582642316818,-0.101395845413208,-0.022346237674356,0.124870695173740,-0.180637404322624,-0.030363811179996,0.081554852426052,-0.046485930681229));
res += mul(Get(s1,-dx,0), float4x4(-0.055683553218842,-0.022752739489079,0.018827097490430,-0.029804278165102,0.107522033154964,0.003310549538583,-0.071782641112804,-0.098146691918373,-0.354227125644684,-0.008225104771554,-0.078682072460651,0.087826825678349,-0.230455264449120,-0.013020297512412,0.120380997657776,-0.012205707840621));
res += mul(Get(s1,-dx,dy), float4x4(0.060400847345591,-0.045100569725037,0.028631560504436,0.049197115004063,0.185740828514099,0.054201904684305,0.045800615102053,-0.044233392924070,0.045765873044729,0.173952937126160,0.011223151348531,-0.073130726814270,-0.213940933346748,0.248469769954681,-0.273576706647873,-0.086405411362648));
res += mul(Get(s1,0,-dy), float4x4(0.004752730950713,0.024182733148336,-0.071950495243073,-0.081473402678967,-0.230778425931931,0.138341844081879,0.024687778204679,-0.097537755966187,0.292242586612701,-0.106644980609417,-0.031619545072317,0.129685372114182,-0.095562107861042,-0.079678148031235,0.000150270425365,-0.085356228053570));
res += mul(Get(s1,0,0), float4x4(0.073407955467701,-0.032374653965235,-0.045143444091082,-0.102534100413322,-0.115405805408955,0.026638805866241,-0.136914759874344,-0.103050976991653,0.182232365012169,-0.140816450119019,-0.040259763598442,-0.013486247509718,-0.127098292112350,-0.078379012644291,0.113198511302471,-0.149608567357063));
res += mul(Get(s1,0,dy), float4x4(-0.021273236721754,0.007717163302004,-0.076633252203465,-0.046493142843246,0.201575502753258,0.024164786562324,0.037825722247362,0.043593056499958,0.094801284372807,-0.194455236196518,-0.117519013583660,-0.230332583189011,-0.266695380210876,-0.150305569171906,-0.118296377360821,-0.191023260354996));
res += mul(Get(s1,dx,-dy), float4x4(-0.134023323655128,-0.141763374209404,-0.077860400080681,0.032966662198305,-0.129319772124290,0.073883868753910,-0.082894645631313,-0.014123151078820,-0.151308983564377,-0.026309212669730,-0.127440944314003,0.203440949320793,0.147584512829781,-0.159347549080849,-0.015286985784769,-0.176842883229256));
res += mul(Get(s1,dx,0), float4x4(-0.057507906109095,-0.054691024124622,-0.049809310585260,0.027843229472637,0.026321787387133,0.161437675356865,-0.153509587049484,0.015976335853338,0.182739824056625,-0.001087573356926,-0.059461101889610,0.029251599684358,0.308479279279709,-0.317766964435577,0.259177893400192,-0.085289746522903));
res += mul(Get(s1,dx,dy), float4x4(0.014186732470989,0.067844562232494,-0.070467174053192,-0.037419632077217,-0.070662073791027,0.079957082867622,0.032496891915798,0.017421299591660,-0.296270608901978,-0.141208752989769,-0.024133998900652,-0.098321281373501,0.212642356753349,-0.393364727497101,-0.178802430629730,0.135499298572540));
res += mul(Get(s2,-dx,-dy), float4x4(0.052939839661121,-0.015341917052865,-0.123671077191830,-0.047969255596399,-0.016006687656045,-0.193838849663734,0.197261437773705,-0.088452629745007,-0.135254859924316,0.039274897426367,-0.159594133496284,0.101709373295307,0.100618809461594,-0.011898093856871,-0.017732363194227,-0.096837699413300));
res += mul(Get(s2,-dx,0), float4x4(0.030004452914000,-0.118927828967571,-0.098614640533924,-0.307094782590866,-0.104805231094360,-0.112972855567932,0.015256379730999,-0.146795719861984,0.106392495334148,0.097183145582676,-0.081519573926926,0.001175496843643,-0.121028684079647,0.032187819480896,-0.108780324459076,-0.048828173428774));
res += mul(Get(s2,-dx,dy), float4x4(0.024357063695788,-0.035079766064882,-0.085579343140125,0.457466870546341,-0.120382003486156,0.215318828821182,-0.298590809106827,-0.107054211199284,-0.040728345513344,-0.057363681495190,0.016205843538046,0.187451586127281,-0.023723013699055,0.105863071978092,-0.035320833325386,-0.176312327384949));
res += mul(Get(s2,0,-dy), float4x4(-0.121493116021156,0.030695077031851,-0.012048224918544,0.003782023442909,-0.088553167879581,-0.062359485775232,0.166252389550209,0.105250276625156,0.386734426021576,-0.003337407251820,-0.036136072129011,0.069217033684254,0.141714394092560,0.057323064655066,-0.082699887454510,0.069058701395988));
res += mul(Get(s2,0,0), float4x4(0.216499596834183,-0.008274731226265,-0.042904168367386,0.100037805736065,-0.120248384773731,-0.071840748190880,0.071460872888565,0.213922172784805,0.132723569869995,0.205755308270454,-0.015263350680470,0.017592949792743,0.095817223191261,-0.132989808917046,-0.091178007423878,0.103720106184483));
res += mul(Get(s2,0,dy), float4x4(0.093573890626431,0.070876725018024,-0.035013157874346,0.221606791019440,-0.231098830699921,-0.149984523653984,-0.104947954416275,0.062385708093643,-0.042104735970497,-0.094851255416870,0.041325449943542,-0.116945266723633,0.075398147106171,-0.072054080665112,0.098193034529686,-0.047541484236717));
res += mul(Get(s2,dx,-dy), float4x4(-0.137241914868355,0.013207306154072,0.051790043711662,-0.029823699966073,-0.041592668741941,-0.158063486218452,-0.094043083488941,-0.137627467513084,-0.008357086218894,-0.198799923062325,0.111658364534378,-0.049396045506001,0.077451258897781,-0.069289863109589,-0.077533140778542,-0.107332997024059));
res += mul(Get(s2,dx,0), float4x4(-0.156825587153435,0.368182301521301,-0.102590158581734,-0.011220661923289,-0.135799363255501,-0.116480663418770,0.381458967924118,0.115981362760067,-0.017014423385262,0.067744299769402,0.013163752853870,0.157709166407585,-0.076698042452335,-0.218231990933418,-0.041686519980431,-0.124448120594025));
res += mul(Get(s2,dx,dy), float4x4(-0.132773905992508,0.065741986036301,-0.097959786653519,-0.256945967674255,-0.246514573693275,0.036976136267185,0.169461026787758,0.186486795544624,-0.053257245570421,-0.079658366739750,-0.031921949237585,-0.071254797279835,-0.080640606582165,-0.045466996729374,0.070488542318344,-0.052904192358255));
res += mul(Get(s3,-dx,-dy), float4x4(0.043456252664328,0.006847593467683,-0.095702186226845,0.181686639785767,-0.407862931489944,-0.033517446368933,-0.081322237849236,-0.103796236217022,-0.238393709063530,-0.039476785808802,-0.034122288227081,-0.183908984065056,-0.308567643165588,-0.197584107518196,0.070762470364571,-0.042798381298780));
res += mul(Get(s3,-dx,0), float4x4(-0.230169117450714,0.082515232264996,-0.201252847909927,-0.219121664762497,-0.092102117836475,-0.110215701162815,-0.088697195053101,0.055720187723637,-0.221435323357582,-0.109245389699936,0.227714464068413,0.046070408076048,-0.300123840570450,-0.103529974818230,0.172752007842064,0.107026636600494));
res += mul(Get(s3,-dx,dy), float4x4(-0.159657791256905,0.302634507417679,-0.105152040719986,-0.195415377616882,-0.098075799643993,-0.077790275216103,-0.172661975026131,0.182622566819191,-0.082189485430717,0.009159684181213,0.062103684991598,-0.109805703163147,-0.259034395217896,-0.033154401928186,0.001351812621579,0.066434018313885));
res += mul(Get(s3,0,-dy), float4x4(0.087445273995399,-0.221885085105896,0.150896430015564,0.336398631334305,0.072151534259319,0.060127750039101,0.009445200674236,-0.107903480529785,0.239425644278526,-0.136397898197174,-0.171850711107254,-0.009877156466246,0.012137067504227,-0.206223726272583,-0.215656787157059,-0.179476916790009));
res += mul(Get(s3,0,0), float4x4(0.107950605452061,-0.221601188182831,-0.055226869881153,0.155143216252327,0.026352439075708,0.010559865273535,-0.004872057586908,-0.064325220882893,-0.004879111424088,-0.089349225163460,-0.081974677741528,-0.009376581758261,-0.158428132534027,-0.111368969082832,-0.005669727455825,0.102273784577847));
res += mul(Get(s3,0,dy), float4x4(0.004185463301837,-0.050089422613382,-0.301518797874451,0.212838783860207,-0.076312959194183,-0.041783645749092,-0.066164277493954,-0.014694778248668,-0.158243283629417,0.197742611169815,0.130418270826340,-0.023145308718085,-0.297678709030151,-0.091600447893143,-0.012488915584981,0.022941343486309));
res += mul(Get(s3,dx,-dy), float4x4(-0.223687157034874,-0.278446882963181,0.138375312089920,0.173836007714272,-0.104728795588017,0.025377102196217,0.016799658536911,-0.118381440639496,-0.110409811139107,0.007489416748285,-0.055058367550373,0.024699186906219,-0.023400818929076,-0.126141712069511,-0.195601016283035,-0.094892866909504));
res += mul(Get(s3,dx,0), float4x4(0.136743560433388,-0.100436843931675,0.045533999800682,-0.045431565493345,0.107434749603271,-0.022423537448049,0.012395678088069,-0.080399289727211,0.085472948849201,-0.145197883248329,-0.220682874321938,-0.194084078073502,0.130983129143715,-0.235584110021591,-0.190237566828728,-0.247080400586128));
res += mul(Get(s3,dx,dy), float4x4(0.036249764263630,-0.082335606217384,0.007908567786217,0.113198906183243,0.019575940445065,-0.027648087590933,0.011056517250836,-0.038259465247393,-0.278018534183502,-0.252912759780884,0.060414802283049,-0.039510212838650,-0.216390490531921,-0.213138937950134,-0.212236672639847,-0.258409500122070));
return max(float4(0,0,0,0), res);
}
