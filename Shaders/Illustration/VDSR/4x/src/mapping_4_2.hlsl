sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.073150128126144,-0.218606784939766,0.061052501201630,-0.012289804406464,-0.094053827226162,-0.148994177579880,-0.108169674873352,0.057434413582087,-0.081640250980854,0.124911203980446,-0.059271153062582,0.017815187573433,-0.064284905791283,0.078592397272587,0.068338632583618,0.133419290184975));
res += mul(Get(s0,-dx,0), float4x4(0.005853791255504,0.119061782956123,-0.080398321151733,-0.098488964140415,0.237273588776588,0.144967764616013,-0.038998432457447,0.010629536584020,0.017493063583970,0.148117989301682,0.057391356676817,0.042238242924213,-0.015526610426605,-0.065933637320995,-0.106700226664543,0.269038707017899));
res += mul(Get(s0,-dx,dy), float4x4(-0.054301314055920,0.101612560451031,0.043897155672312,-0.130834132432938,-0.051812924444675,-0.064371995627880,-0.121499300003052,0.028484931215644,-0.034597262740135,0.098591379821301,-0.071174696087837,-0.104992993175983,-0.018255705013871,-0.137800246477127,-0.076783880591393,0.233579173684120));
res += mul(Get(s0,0,-dy), float4x4(0.125358596444130,-0.034736000001431,-0.213739275932312,-0.033544369041920,0.007563414983451,-0.004713627975434,0.089922524988651,-0.016395358368754,0.222205266356468,-0.102030776441097,-0.129564553499222,-0.078679658472538,0.090125605463982,-0.030856665223837,-0.184913724660873,0.098424069583416));
res += mul(Get(s0,0,0), float4x4(0.001867613289505,0.232775136828423,0.146017298102379,-0.096587471663952,-0.044077500700951,0.099658772349358,0.025163643062115,0.132494628429413,0.174501448869705,-0.032941587269306,-0.120668061077595,-0.214238435029984,-0.229075491428375,0.216673240065575,-0.097789019346237,0.007621852215379));
res += mul(Get(s0,0,dy), float4x4(-0.068656735122204,0.099141843616962,0.035306982696056,-0.006109709385782,0.073254331946373,0.090488173067570,-0.189165398478508,0.247100114822388,-0.047072455286980,-0.032514005899429,0.038312409073114,-0.012545757927001,-0.030387558043003,-0.000744403281715,0.036696247756481,-0.079510122537613));
res += mul(Get(s0,dx,-dy), float4x4(-0.129735827445984,0.081311523914337,0.139639019966125,0.148441433906555,0.043115194886923,0.063372313976288,0.026750937104225,-0.000978201627731,0.070170603692532,-0.048965483903885,-0.033943921327591,0.137621134519577,-0.056205075234175,0.123897701501846,0.010127196088433,0.043453056365252));
res += mul(Get(s0,dx,0), float4x4(0.011839958839118,0.004937673453242,-0.181531086564064,-0.031001038849354,0.097626633942127,0.009793288074434,0.007261516992003,-0.149557560682297,-0.029114566743374,-0.077873684465885,-0.124736770987511,0.092900492250919,-0.065077908337116,0.019954714924097,-0.349785804748535,-0.138069540262222));
res += mul(Get(s0,dx,dy), float4x4(0.016257345676422,-0.090859651565552,0.001794199924916,-0.011161938309669,0.238238096237183,-0.012533279135823,-0.107066422700882,0.016945185139775,0.061231587082148,0.029313990846276,0.053486999124289,-0.082508958876133,-0.108926467597485,-0.067382037639618,-0.001514663919806,0.080815456807613));
res += mul(Get(s1,-dx,-dy), float4x4(0.139876723289490,-0.011708843521774,0.124901100993156,0.060231249779463,0.019908856600523,-0.036253642290831,-0.135526001453400,-0.152194559574127,0.110264316201210,0.095570988953114,-0.169918894767761,-0.091659963130951,0.021269973367453,-0.009923115372658,-0.102921314537525,-0.021056180819869));
res += mul(Get(s1,-dx,0), float4x4(-0.005760288797319,0.135456696152687,-0.020022792741656,-0.174120977520943,-0.000870084622875,-0.100746296346188,-0.110401876270771,-0.036545164883137,0.120777927339077,0.093056030571461,-0.135328546166420,0.018048105761409,0.088103547692299,0.159620583057404,-0.066032133996487,0.011439698748291));
res += mul(Get(s1,-dx,dy), float4x4(-0.061497747898102,-0.099079363048077,0.062126807868481,0.141196414828300,-0.170444369316101,-0.028284495696425,0.145926311612129,0.178556635975838,-0.087953701615334,-0.116542965173721,0.014852993190289,-0.337081313133240,-0.187272652983665,-0.011046050116420,0.158472016453743,-0.114249259233475));
res += mul(Get(s1,0,-dy), float4x4(0.043110903352499,-0.032649889588356,0.003380052512512,0.032400455325842,0.141823142766953,0.015214136801660,-0.096606068313122,0.010883823968470,0.105680122971535,-0.012310761027038,-0.012221229262650,0.216007679700851,-0.108088091015816,0.158971726894379,-0.048404354602098,-0.010675321333110));
res += mul(Get(s1,0,0), float4x4(-0.134587496519089,0.114309042692184,0.060749232769012,0.120943903923035,-0.072395965456963,0.070422343909740,0.072915352880955,0.103446744382381,0.004689460620284,0.014965309761465,0.158629223704338,0.056269038468599,0.067397393286228,0.136809960007668,-0.009736762382090,0.135832235217094));
res += mul(Get(s1,0,dy), float4x4(-0.070604093372822,0.035973757505417,-0.056507680565119,-0.137708261609077,-0.224362656474113,0.031093094497919,-0.025720439851284,-0.055550638586283,-0.074325084686279,0.067631088197231,0.090528175234795,-0.005927586462349,-0.150433495640755,-0.166153803467751,0.185373395681381,0.028965486213565));
res += mul(Get(s1,dx,-dy), float4x4(0.106846801936626,-0.008188118226826,-0.050577178597450,0.101829513907433,0.133490502834320,-0.072191961109638,0.160859316587448,-0.102311767637730,-0.068134009838104,-0.035600710660219,0.119388274848461,0.030117515474558,0.060315784066916,-0.223526284098625,-0.086530908942223,-0.008702827617526));
res += mul(Get(s1,dx,0), float4x4(-0.113513231277466,-0.015784556046128,0.094486877322197,0.104857869446278,0.128614455461502,-0.099738575518131,-0.102175518870354,0.192700564861298,0.013863949105144,0.099862620234489,0.109193339943886,0.039881963282824,-0.053191769868135,-0.194231197237968,0.033719275146723,0.020609740167856));
res += mul(Get(s1,dx,dy), float4x4(-0.054886173456907,0.037564013153315,0.075984552502632,0.066597394645214,0.041062023490667,0.046358700841665,-0.054383955895901,-0.226780816912651,0.025574114173651,0.067204527556896,-0.058154158294201,-0.018287025392056,-0.224311053752899,-0.062449540942907,-0.051953211426735,0.200581341981888));
res += mul(Get(s2,-dx,-dy), float4x4(-0.033148422837257,0.027450533583760,0.122909240424633,-0.170240372419357,-0.257244855165482,0.135583326220512,-0.101460017263889,-0.198613062500954,0.085555478930473,0.102341488003731,0.072090290486813,-0.012161412276328,0.114502228796482,-0.109550274908543,0.196575507521629,0.056433159857988));
res += mul(Get(s2,-dx,0), float4x4(-0.164564803242683,-0.163277342915535,0.160400539636612,0.054397523403168,0.143542826175690,-0.119535893201828,-0.193870991468430,-0.090801112353802,-0.081252731382847,-0.043865062296391,-0.089422769844532,0.159459978342056,-0.064701803028584,-0.084628082811832,-0.092700280249119,0.237123802304268));
res += mul(Get(s2,-dx,dy), float4x4(0.104123339056969,-0.034660756587982,-0.211106717586517,-0.048498883843422,-0.198073402047157,0.113183684647083,-0.023108338937163,-0.251076072454453,0.053156163543463,0.132439613342285,0.190968170762062,0.068810917437077,-0.054152190685272,-0.087980873882771,-0.079025663435459,0.017490494996309));
res += mul(Get(s2,0,-dy), float4x4(0.036202579736710,0.175742775201797,-0.058133151382208,-0.047167867422104,0.035012327134609,-0.051851183176041,0.051776915788651,0.085597671568394,-0.183105453848839,-0.162939533591270,-0.184557154774666,-0.126487970352173,0.037941727787256,0.040874473750591,0.036804549396038,-0.084881141781807));
res += mul(Get(s2,0,0), float4x4(0.015323528088629,0.102089904248714,0.049763888120651,-0.205215647816658,-0.068637207150459,-0.081939168274403,0.127975404262543,-0.256195008754730,-0.152738720178604,-0.033888574689627,0.148748233914375,0.098382130265236,0.000550089695025,-0.036667339503765,-0.231895014643669,-0.040258247405291));
res += mul(Get(s2,0,dy), float4x4(0.008777822367847,-0.114075995981693,0.071676701307297,-0.173167988657951,-0.093552090227604,-0.073434852063656,-0.031171150505543,-0.043248280882835,-0.010583436116576,-0.312984317541122,0.060685563832521,0.042543075978756,-0.030147079378366,0.002890291158110,-0.004830650053918,-0.102824456989765));
res += mul(Get(s2,dx,-dy), float4x4(-0.012333473190665,-0.195280417799950,-0.016076212748885,-0.261993944644928,-0.121994905173779,0.113312855362892,-0.084538288414478,-0.074875652790070,0.166687116026878,0.053040008991957,-0.028755996376276,-0.195695951581001,-0.042266592383385,0.087227880954742,-0.165479466319084,-0.070628181099892));
res += mul(Get(s2,dx,0), float4x4(-0.118382506072521,-0.028736762702465,-0.081815563142300,-0.085833087563515,-0.156361550092697,0.024268114939332,-0.041062947362661,0.078067325055599,-0.005537971388549,-0.003860181430355,-0.000130670843646,-0.113418519496918,-0.142805561423302,0.048753697425127,0.003397237975150,0.066042929887772));
res += mul(Get(s2,dx,dy), float4x4(-0.228559523820877,-0.100243881344795,-0.088560380041599,-0.103370510041714,-0.156492590904236,-0.003335955552757,0.050342142581940,0.016170475631952,0.004483999218792,-0.097938269376755,-0.185427680611610,0.044707328081131,0.103754878044128,0.182002693414688,-0.068588323891163,-0.016074249520898));
res += mul(Get(s3,-dx,-dy), float4x4(-0.112114317715168,-0.003093452425674,-0.008593973703682,-0.204910412430763,-0.043145082890987,-0.106635801494122,0.176062405109406,-0.116988934576511,0.030356302857399,-0.040587931871414,0.120025791227818,-0.092203050851822,-0.075303338468075,-0.042516190558672,-0.020695948973298,0.085791207849979));
res += mul(Get(s3,-dx,0), float4x4(0.178516492247581,0.139498576521873,0.139924302697182,0.130654200911522,0.013996332883835,0.054245080798864,0.121052786707878,-0.043136157095432,0.040178697556257,-0.014296981506050,0.081519417464733,0.026607742533088,-0.161387056112289,-0.023787688463926,0.017515609040856,0.111071266233921));
res += mul(Get(s3,-dx,dy), float4x4(0.212536334991455,0.053248018026352,0.003959836903960,0.045599099248648,-0.045169543474913,0.042696427553892,-0.269667267799377,-0.085803195834160,0.047573722898960,0.046647939831018,0.324331492185593,-0.087619818747044,-0.133138164877892,-0.286225825548172,-0.057914067059755,-0.019044831395149));
res += mul(Get(s3,0,-dy), float4x4(0.021561358124018,-0.211613461375237,-0.015092717483640,0.103980451822281,-0.009644833393395,-0.041888736188412,-0.085177138447762,-0.119269631803036,0.057690039277077,-0.080261670053005,-0.262232452630997,0.067686624825001,-0.086601756513119,-0.115405492484570,0.096087433397770,0.314693540334702));
res += mul(Get(s3,0,0), float4x4(0.113203972578049,0.127868577837944,0.144936203956604,-0.158834442496300,0.063984304666519,0.060354486107826,0.087451636791229,0.208854451775551,0.058585729449987,0.111867070198059,0.124868303537369,-0.212435603141785,-0.076569609344006,-0.048355743288994,-0.124146647751331,-0.095642484724522));
res += mul(Get(s3,0,dy), float4x4(0.069127999246120,0.088860094547272,0.109636329114437,-0.104009017348289,-0.137990653514862,0.032303970307112,-0.012729851529002,-0.219620227813721,0.111831404268742,-0.083494283258915,-0.043201614171267,-0.123686313629150,-0.057039890438318,0.053621031343937,0.004060666076839,0.083053581416607));
res += mul(Get(s3,dx,-dy), float4x4(0.120339676737785,0.028074182569981,0.112304426729679,0.120972417294979,0.034467201679945,0.234250262379646,-0.194436028599739,0.098326101899147,0.110513664782047,-0.065262325108051,0.035427819937468,0.079746589064598,-0.049785185605288,0.113760434091091,0.044441748410463,-0.087039716541767));
res += mul(Get(s3,dx,0), float4x4(-0.169772788882256,0.175189048051834,0.163564085960388,0.209055230021477,-0.151144996285439,0.137310832738876,-0.109890840947628,0.243658304214478,0.039062246680260,-0.078276000916958,-0.147524893283844,-0.066763870418072,-0.071154750883579,-0.076717205345631,0.064268037676811,-0.072341836988926));
res += mul(Get(s3,dx,dy), float4x4(-0.041796632111073,0.009076770395041,0.144668564200401,0.099994972348213,-0.090100526809692,-0.109114259481430,0.047029528766870,0.078327052295208,0.131160974502563,-0.128416717052460,0.102734491229057,-0.146586865186691,-0.137889385223389,-0.172390729188919,0.002454472705722,0.193575739860535));
return max(float4(0,0,0,0), res);
}
