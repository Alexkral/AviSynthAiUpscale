sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.020725527778268,-0.062925346195698,0.011783954687417,-0.030114216729999,-0.245533823966980,-0.022037515416741,-0.197314873337746,-0.039712551981211,-0.095372170209885,0.199462369084358,-0.100671142339706,-0.001341125345789,-0.107013344764709,-0.212491691112518,0.108635835349560,-0.075891084969044));
res += mul(Get(s0,-dx,0), float4x4(0.058159653097391,0.001212632749230,0.100149825215340,-0.033469025045633,-0.110457114875317,-0.052608683705330,-0.145422920584679,0.145141541957855,-0.111875422298908,0.339496314525604,-0.088781327009201,0.023197449743748,-0.096541456878185,-0.027020988985896,-0.052312109619379,-0.201632946729660));
res += mul(Get(s0,-dx,dy), float4x4(-0.048391431570053,-0.005089793354273,-0.098773412406445,-0.057689573615789,-0.045036140829325,-0.077050022780895,0.042400408536196,0.009401641786098,-0.234044671058655,0.212718129158020,-0.119847923517227,0.053800612688065,-0.111900493502617,-0.111457563936710,-0.101222120225430,0.223186597228050));
res += mul(Get(s0,0,-dy), float4x4(0.019216591492295,-0.038136430084705,0.024452364072204,0.195386648178101,0.033675700426102,-0.007701003458351,-0.077799722552299,0.071822732686996,-0.170043945312500,0.046224262565374,-0.091627195477486,-0.089855968952179,-0.259913980960846,0.151063933968544,0.138113930821419,-0.123073309659958));
res += mul(Get(s0,0,0), float4x4(0.044682424515486,-0.012928238138556,0.032197762280703,0.142747402191162,0.039038904011250,-0.132669731974602,-0.060007061809301,-0.096969433128834,-0.039507031440735,-0.102157533168793,-0.049121204763651,-0.067900747060776,-0.138688966631889,0.008631773293018,-0.100374780595303,-0.463496237993240));
res += mul(Get(s0,0,dy), float4x4(-0.008531151339412,-0.020981449633837,-0.111770831048489,0.064447872340679,0.076361477375031,0.035857524722815,-0.056693248450756,-0.149753838777542,-0.066543094813824,-0.117089308798313,-0.043607104569674,-0.032167058438063,-0.118624173104763,-0.078117065131664,-0.105219051241875,0.047360789030790));
res += mul(Get(s0,dx,-dy), float4x4(-0.147919952869415,-0.050951555371284,-0.043739952147007,0.029476489871740,0.064536869525909,0.073152743279934,-0.058495104312897,-0.150593772530556,-0.162392273545265,-0.328903913497925,-0.090733975172043,-0.059813112020493,-0.184296056628227,-0.249556735157967,-0.267062485218048,-0.126294538378716));
res += mul(Get(s0,dx,0), float4x4(-0.028798963874578,-0.059496480971575,-0.029735587537289,-0.011124910786748,0.019455861300230,-0.145208850502968,-0.033762536942959,-0.124092146754265,-0.029746741056442,-0.040923099964857,-0.029062794521451,-0.045661985874176,-0.069830797612667,-0.161585703492165,-0.247793555259705,-0.079395264387131));
res += mul(Get(s0,dx,dy), float4x4(-0.075070433318615,-0.020440699532628,-0.207576528191566,0.316245824098587,0.060842178761959,0.088150002062321,-0.008787005208433,-0.103979989886284,0.039778653532267,-0.114608176052570,-0.057542342692614,-0.022333104163408,-0.217658415436745,-0.095423787832260,-0.227104380726814,0.106087289750576));
res += mul(Get(s1,-dx,-dy), float4x4(-0.143879979848862,-0.111985556781292,-0.121115826070309,0.034540016204119,-0.155471757054329,-0.091585442423820,-0.273930341005325,0.030537014827132,-0.392187505960464,-0.058791100978851,-0.301532238721848,-0.077012442052364,-0.020015694200993,0.115803346037865,-0.090496882796288,-0.147111281752586));
res += mul(Get(s1,-dx,0), float4x4(-0.008624059148133,-0.144603386521339,0.107489556074142,0.081962376832962,-0.132543519139290,-0.008083392865956,-0.183827966451645,-0.005908835679293,-0.011328669264913,-0.116355575621128,-0.234902292490005,0.004015007521957,0.033341988921165,0.105114325881004,-0.079196006059647,0.015691075474024));
res += mul(Get(s1,-dx,dy), float4x4(0.095379143953323,-0.113345623016357,-0.051779363304377,0.035070478916168,-0.002444039564580,0.073889948427677,0.214959010481834,0.187095344066620,0.075365364551544,-0.039831522852182,-0.282613366842270,-0.047908153384924,-0.014410546049476,-0.078525803983212,-0.084234789013863,-0.127401247620583));
res += mul(Get(s1,0,-dy), float4x4(0.094961948692799,-0.169767156243324,-0.064092643558979,0.032273266464472,0.027730105444789,-0.082685589790344,-0.144620344042778,0.077475920319557,0.132769048213959,-0.152022391557693,-0.337868243455887,-0.022301074117422,0.017192052677274,0.173385083675385,-0.050486177206039,-0.209943309426308));
res += mul(Get(s1,0,0), float4x4(0.120437249541283,-0.053368769586086,0.182590261101723,0.133417069911957,-0.012773944064975,-0.114832244813442,-0.182884484529495,-0.145750492811203,0.059078842401505,-0.052768595516682,-0.075500130653381,0.085691109299660,-0.024593206122518,0.080261059105396,-0.043977394700050,-0.072997577488422));
res += mul(Get(s1,0,dy), float4x4(0.169071465730667,0.080996640026569,-0.104690529406071,0.022673098370433,-0.060763541609049,0.099260762333870,0.017404770478606,0.032483220100403,0.095183737576008,0.099779099225998,-0.025926496833563,-0.054817438125610,-0.098381876945496,-0.179747104644775,-0.076198086142540,-0.073335282504559));
res += mul(Get(s1,dx,-dy), float4x4(0.060897514224052,-0.072250321507454,-0.001305187353864,-0.089126527309418,-0.006519014015794,-0.166267871856689,-0.040963418781757,-0.198505327105522,0.008766928687692,-0.265370041131973,0.446718364953995,-0.194986194372177,-0.103601984679699,0.178501322865486,-0.054038930684328,-0.205291777849197));
res += mul(Get(s1,dx,0), float4x4(0.207464218139648,-0.044489379972219,0.073801241815090,-0.129640534520149,-0.187512487173080,-0.080573327839375,-0.066819734871387,-0.218496203422546,-0.149933159351349,-0.058404300361872,0.218724757432938,0.031090792268515,-0.072591334581375,-0.094045698642731,-0.129320070147514,-0.024686582386494));
res += mul(Get(s1,dx,dy), float4x4(0.204578220844269,-0.031926516443491,-0.104846864938736,-0.193053662776947,-0.202588587999344,0.015156006440520,-0.133347660303116,0.172807976603508,0.043580610305071,0.030461940914392,0.358651608228683,-0.056111507117748,-0.011615335009992,-0.219788312911987,-0.185408756136894,-0.052377317100763));
res += mul(Get(s2,-dx,-dy), float4x4(-0.348403662443161,-0.148857533931732,0.132512912154198,0.102129071950912,-0.123698592185974,0.168391108512878,-0.082062602043152,-0.021332908421755,-0.167842313647270,-0.061398815363646,0.069764338433743,0.248730212450027,-0.106971450150013,0.088647350668907,-0.278181701898575,-0.006429596804082));
res += mul(Get(s2,-dx,0), float4x4(-0.093485608696938,-0.006830028723925,0.121290162205696,0.165349379181862,-0.141357704997063,-0.051447771489620,-0.052772857248783,0.061619468033314,-0.342296421527863,-0.055511619895697,-0.057254485785961,0.190662071108818,-0.119340561330318,0.053682737052441,-0.204621985554695,-0.234476730227470));
res += mul(Get(s2,-dx,dy), float4x4(-0.111583031713963,-0.015878561884165,-0.014385432004929,-0.181046515703201,-0.191959589719772,-0.061419982463121,0.025205828249454,0.028905190527439,0.015546225011349,-0.156178146600723,-0.093199305236340,0.012165755964816,-0.266332149505615,-0.093557529151440,-0.285167813301086,-0.249818459153175));
res += mul(Get(s2,0,-dy), float4x4(-0.213132172822952,-0.225797578692436,0.018487976863980,0.172373160719872,-0.037830039858818,0.009114350192249,-0.050986584275961,-0.111993059515953,-0.090820051729679,-0.157310500741005,-0.072310574352741,-0.097768232226372,-0.232598677277565,-0.106342017650604,0.033042829483747,0.133015155792236));
res += mul(Get(s2,0,0), float4x4(-0.052758034318686,-0.073802128434181,-0.069482207298279,-0.155456900596619,-0.011734729632735,-0.113489016890526,-0.061977300792933,0.069025963544846,-0.093641184270382,0.145669594407082,-0.220461204648018,-0.162308320403099,-0.109452240169048,-0.049128945916891,0.089719198644161,0.060392744839191));
res += mul(Get(s2,0,dy), float4x4(0.054295856505632,-0.078358560800552,-0.176423534750938,-0.318091541528702,0.121578484773636,0.059262257069349,-0.068624973297119,-0.131500393152237,0.037427201867104,-0.025686010718346,-0.195725157856941,-0.134954184293747,0.161898180842400,-0.211030915379524,-0.376468420028687,0.067671939730644));
res += mul(Get(s2,dx,-dy), float4x4(0.013763359747827,-0.335344851016998,-0.160270705819130,-0.134423673152924,0.065057054162025,0.096047915518284,-0.057061754167080,-0.152264997363091,-0.070678822696209,-0.004464942961931,0.118031039834023,0.013692532666028,-0.023500742390752,-0.080899499356747,-0.192756965756416,-0.037781994789839));
res += mul(Get(s2,dx,0), float4x4(0.153762653470039,-0.106713928282261,0.017989253625274,-0.090628944337368,0.136360108852386,-0.024017399176955,-0.069714091718197,-0.090090624988079,0.030050307512283,0.247037261724472,-0.008919881656766,-0.202346429228783,0.247581079602242,0.051798835396767,0.415317207574844,-0.140278413891792));
res += mul(Get(s2,dx,dy), float4x4(0.330517411231995,0.074660331010818,0.036614488810301,-0.150829598307610,-0.027593981474638,0.133013918995857,-0.063809581100941,0.037025544792414,0.116183757781982,-0.094065420329571,-0.129937946796417,-0.137093499302864,0.445581316947937,-0.035124279558659,-0.005566429346800,-0.215009599924088));
res += mul(Get(s3,-dx,-dy), float4x4(-0.178130805492401,-0.246787756681442,-0.062231261283159,-0.218893274664879,0.026590721681714,-0.016043154522777,0.029105504974723,-0.010475738905370,0.061239551752806,0.027507925406098,-0.114130549132824,0.072947300970554,-0.279588669538498,-0.005783302243799,-0.103446468710899,-0.060359071940184));
res += mul(Get(s3,-dx,0), float4x4(-0.014879735186696,-0.119901075959206,-0.108038894832134,-0.068532943725586,-0.018114384263754,-0.043640926480293,0.140932738780975,0.065562590956688,-0.005932040978223,-0.124896429479122,-0.212342575192451,-0.028472183272243,-0.057889796793461,0.044586587697268,-0.040709365159273,-0.050017111003399));
res += mul(Get(s3,-dx,dy), float4x4(-0.085493378341198,-0.040021922439337,-0.167575255036354,-0.117620706558228,-0.166570693254471,-0.117672331631184,0.258572429418564,0.087351173162460,-0.000984107842669,0.022860085591674,-0.131367906928062,-0.191305279731750,-0.069324746727943,0.307762414216995,-0.089065663516521,-0.014419170096517));
res += mul(Get(s3,0,-dy), float4x4(0.156763002276421,0.007312410045415,-0.092342421412468,-0.128232404589653,0.089750736951828,-0.140163645148277,-0.034929115325212,-0.037880636751652,0.029147768393159,0.054885417222977,0.028307700529695,-0.036546289920807,-0.276640295982361,-0.392658978700638,-0.105330288410187,-0.025015078485012));
res += mul(Get(s3,0,0), float4x4(0.075501456856728,0.120592564344406,-0.137578234076500,-0.034504778683186,0.160890772938728,-0.070937462151051,0.002220335183665,0.062531262636185,-0.042724490165710,0.072335720062256,-0.056620188057423,-0.086637072265148,-0.162290215492249,0.004445816855878,-0.046619784086943,-0.037814117968082));
res += mul(Get(s3,0,dy), float4x4(-0.040447674691677,0.415791124105453,-0.168538749217987,-0.102997928857803,-0.119227476418018,-0.093638740479946,0.154694452881813,0.025882551446557,0.014831144362688,0.231042429804802,-0.055929318070412,-0.254545003175735,-0.115840032696724,-0.124648146331310,-0.090299718081951,-0.027143746614456));
res += mul(Get(s3,dx,-dy), float4x4(0.078531369566917,0.046215720474720,-0.089008376002312,-0.030114283785224,0.109656468033791,-0.080429024994373,-0.004048130940646,-0.030292419716716,0.051013674587011,-0.048691242933273,0.174667716026306,-0.005478225648403,-0.122320398688316,-0.372599512338638,-0.141987875103951,-0.126477614045143));
res += mul(Get(s3,dx,0), float4x4(0.014245695434511,-0.032532919198275,-0.112276665866375,0.024105155840516,0.078454114496708,-0.058650098741055,-0.017668358981609,0.041168306022882,0.077916257083416,-0.124612800776958,0.022208714857697,-0.031758572906256,-0.074353396892548,-0.200398817658424,-0.153938323259354,-0.126023158431053));
res += mul(Get(s3,dx,dy), float4x4(-0.207198336720467,0.293714404106140,-0.088278524577618,-0.045304853469133,-0.176082625985146,-0.042810715734959,-0.061824101954699,0.023781226947904,0.131369665265083,-0.024211596697569,0.072505280375481,0.133205592632294,-0.132169455289841,-0.128981828689575,-0.146504774689674,-0.056666404008865));
return max(float4(0,0,0,0), res);
}
