sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.210298761725426,-0.062223061919212,0.126415088772774,-0.087138444185257,-0.110060334205627,-0.059201460331678,-0.219102218747139,-0.188314840197563,-0.030804745852947,-0.104328408837318,-0.007946960628033,0.090166792273521,-0.088193386793137,0.061683811247349,-0.118352741003036,-0.319362223148346));
res += mul(Get(s0,-dx,0), float4x4(0.097744300961494,-0.031583677977324,-0.062030684202909,0.090951822698116,-0.123774059116840,-0.008004679344594,-0.049321249127388,-0.063830338418484,-0.165868580341339,-0.077641397714615,-0.185891926288605,0.208219379186630,-0.044682659208775,0.121722437441349,-0.106082201004028,-0.105357624590397));
res += mul(Get(s0,-dx,dy), float4x4(0.058870289474726,-0.001850233064033,-0.159071624279022,0.125168874859810,-0.010611919686198,-0.031109619885683,-0.009951354935765,0.064222842454910,0.076971657574177,0.095408983528614,0.047432914376259,-0.073648206889629,-0.021900597959757,0.087492749094963,-0.106479324400425,0.246522068977356));
res += mul(Get(s0,0,-dy), float4x4(0.084522999823093,0.071412719786167,-0.068219475448132,0.034054178744555,-0.241406008601189,-0.002000319538638,0.099361419677734,-0.019150229170918,0.100238747894764,-0.359316468238831,-0.177491456270218,0.167168259620667,-0.043802600353956,-0.085279233753681,-0.007822057232261,-0.091576389968395));
res += mul(Get(s0,0,0), float4x4(0.159957632422447,0.012816322036088,-0.176457688212395,-0.041892055422068,-0.246294453740120,0.096937321126461,0.241207137703896,0.135723233222961,-0.052159771323204,0.005394321866333,0.048600513488054,0.088476099073887,-0.028860317543149,-0.194625645875931,0.026838295161724,0.001486230059527));
res += mul(Get(s0,0,dy), float4x4(-0.078830502927303,0.025327753275633,-0.031767278909683,0.064686931669712,-0.058165680617094,-0.006961215287447,0.261383086442947,0.037288058549166,-0.003572414861992,0.261323094367981,0.083326570689678,0.123636290431023,-0.072961054742336,-0.053598172962666,-0.151711568236351,0.165401995182037));
res += mul(Get(s0,dx,-dy), float4x4(-0.020730758085847,0.054919090121984,-0.201511815190315,0.024887494742870,-0.185073912143707,-0.098849825561047,-0.041177846491337,-0.018857585266232,-0.181206777691841,0.031615987420082,0.069175876677036,0.221729755401611,0.169794440269470,-0.093418985605240,-0.140943869948387,0.053013395518064));
res += mul(Get(s0,dx,0), float4x4(-0.025432193651795,0.077073425054550,0.184467971324921,-0.105601996183395,0.015449462458491,0.091471455991268,0.037290718406439,-0.016064448282123,-0.179992660880089,0.058241773396730,0.065265245735645,0.082880079746246,-0.110683463513851,-0.066837593913078,0.066921927034855,-0.063935831189156));
res += mul(Get(s0,dx,dy), float4x4(-0.116817921400070,-0.175713732838631,-0.061325248330832,-0.076196737587452,-0.116735510528088,0.002387134358287,0.108883529901505,0.002092933282256,-0.108456492424011,-0.031580697745085,0.239023074507713,0.020319219678640,0.066745176911354,-0.030741171911359,-0.002169149462134,0.047782506793737));
res += mul(Get(s1,-dx,-dy), float4x4(-0.092177458107471,0.008783263154328,-0.037004962563515,0.154105991125107,0.087831713259220,0.011208019219339,0.128460854291916,-0.080435216426849,-0.164533898234367,0.107823193073273,-0.113634921610355,0.124871462583542,0.292790651321411,0.099918842315674,0.136615380644798,-0.001308284234256));
res += mul(Get(s1,-dx,0), float4x4(-0.070958897471428,-0.053347282111645,0.149204120039940,-0.032958608120680,-0.064108014106750,-0.026669751852751,0.092540644109249,-0.023699793964624,0.160125181078911,-0.038292735815048,0.217052906751633,-0.163385927677155,0.239045217633247,-0.000551177596208,0.088198438286781,-0.071316666901112));
res += mul(Get(s1,-dx,dy), float4x4(-0.040433205664158,0.077860474586487,0.009692492894828,0.007528104819357,-0.062560893595219,0.063066400587559,0.110325396060944,0.078366756439209,-0.093977428972721,0.087704733014107,0.054605752229691,0.036231171339750,0.039978753775358,0.322039991617203,0.060471288859844,-0.095780327916145));
res += mul(Get(s1,0,-dy), float4x4(0.056637704372406,0.145634368062019,0.019219495356083,-0.083025924861431,0.201631113886833,0.032221890985966,0.179475888609886,-0.099560946226120,0.031593479216099,0.173155650496483,0.151094585657120,-0.013202207162976,-0.015804240480065,0.248382702469826,0.060189079493284,-0.013161789625883));
res += mul(Get(s1,0,0), float4x4(0.112214259803295,-0.038384281098843,0.142553269863129,0.003061927622184,0.024435946717858,0.047765094786882,-0.079355888068676,0.042431775480509,-0.103613726794720,0.157103285193443,0.110051661729813,0.055862549692392,0.003189672483131,0.213698640465736,0.173558026552200,-0.219419747591019));
res += mul(Get(s1,0,dy), float4x4(0.144577994942665,0.124994918704033,0.102433823049068,-0.209455341100693,0.090128995478153,0.100767567753792,-0.078979186713696,0.057150091975927,0.084018975496292,0.034995228052139,-0.003670977195725,-0.055145598948002,0.080165676772594,0.250007539987564,-0.081035792827606,0.031648352742195));
res += mul(Get(s1,dx,-dy), float4x4(0.106215529143810,0.172988787293434,0.083949469029903,0.252246409654617,-0.002943966072053,0.008494145236909,0.176514610648155,0.119452565908432,0.089376561343670,-0.009106012061238,0.016507158055902,-0.219563037157059,-0.112958833575249,0.061833523213863,-0.007594379596412,0.326926589012146));
res += mul(Get(s1,dx,0), float4x4(0.003539972472936,-0.063512355089188,0.059953968971968,0.002824515802786,-0.085244931280613,-0.101722560822964,-0.157500281929970,-0.065711356699467,-0.048452250659466,-0.127050265669823,0.055676490068436,-0.054643016308546,0.044990066438913,0.041547786444426,0.048915974795818,0.044777929782867));
res += mul(Get(s1,dx,dy), float4x4(0.029850900173187,-0.135380074381828,-0.187194213271141,0.000573689292651,-0.148049145936966,-0.000476680201245,0.224526688456535,0.080222979187965,0.132369980216026,-0.052740916609764,-0.040706809610128,0.112609408795834,0.021389847621322,0.099035970866680,0.376532167196274,0.014351835474372));
res += mul(Get(s2,-dx,-dy), float4x4(-0.004063813947141,0.171637564897537,-0.083498947322369,-0.082395002245903,0.016079120337963,0.075728699564934,0.089975111186504,-0.021471474319696,0.148061484098434,-0.156581848859787,0.117928549647331,-0.067108348011971,-0.053723245859146,0.073438465595245,0.079870499670506,0.112977720797062));
res += mul(Get(s2,-dx,0), float4x4(0.150328397750854,-0.074631378054619,-0.107556417584419,0.132820129394531,-0.121975339949131,0.035871099680662,-0.073372744023800,-0.080379091203213,-0.008002527989447,-0.111151702702045,-0.185219854116440,0.050636593252420,-0.070111274719238,0.001350104343146,0.033219218254089,-0.014291749335825));
res += mul(Get(s2,-dx,dy), float4x4(-0.081217557191849,-0.093507423996925,-0.212976932525635,-0.022211391478777,0.079216644167900,0.017237590625882,0.088287442922592,0.038511179387569,0.081905104219913,-0.120703674852848,-0.161284163594246,-0.157878115773201,0.002416527830064,-0.211580440402031,0.017411531880498,-0.065391965210438));
res += mul(Get(s2,0,-dy), float4x4(-0.128724634647369,0.019834430888295,-0.220692515373230,-0.078293047845364,0.063600189983845,0.025247013196349,0.019817983731627,0.143022358417511,0.163629904389381,0.142695471644402,0.083298698067665,0.049780730158091,0.179984316229820,0.026723785325885,-0.056588768959045,-0.178892537951469));
res += mul(Get(s2,0,0), float4x4(-0.062322020530701,-0.069113008677959,-0.076198495924473,0.062241967767477,0.018932152539492,0.165644213557243,0.039715487509966,0.029436362907290,0.145190447568893,-0.159384310245514,-0.113586664199829,0.154130354523659,-0.051649443805218,-0.108264707028866,0.015968978404999,-0.013617014512420));
res += mul(Get(s2,0,dy), float4x4(-0.219724848866463,-0.091222457587719,-0.140974536538124,-0.040296927094460,-0.000723148114048,-0.066691130399704,-0.090515702962875,0.108675435185432,0.052098546177149,0.077081017196178,-0.232200145721436,-0.029916001483798,0.003854920621961,-0.130298495292664,-0.114295899868011,-0.046390742063522));
res += mul(Get(s2,dx,-dy), float4x4(0.072660394012928,-0.235930025577545,-0.042163062840700,-0.090176783502102,0.071021370589733,0.036455385386944,-0.026690108701587,0.022091591730714,-0.072223819792271,0.117223240435123,0.066303998231888,0.074759960174561,-0.199229955673218,-0.131918594241142,-0.065659001469612,-0.067425370216370));
res += mul(Get(s2,dx,0), float4x4(-0.018145343288779,-0.043855849653482,-0.033299066126347,-0.049267869442701,0.145125150680542,-0.126566365361214,0.021896459162235,-0.002906801411882,0.021390028297901,0.058021713048220,-0.231536671519279,0.138296663761139,-0.006397945806384,-0.130420356988907,-0.093410409986973,-0.058762960135937));
res += mul(Get(s2,dx,dy), float4x4(-0.105671733617783,-0.039010565727949,-0.031904589384794,0.062566481530666,-0.221859320998192,0.046229667961597,-0.045331113040447,0.097876444458961,-0.003246093401685,0.017293378710747,-0.216546699404716,0.065151125192642,-0.196383088827133,-0.078119486570358,-0.150100693106651,0.227889433503151));
res += mul(Get(s3,-dx,-dy), float4x4(-0.021139672026038,-0.135417520999908,-0.065857112407684,0.142090514302254,0.157417729496956,-0.002431515138596,0.133070141077042,-0.034382786601782,-0.045242562890053,-0.221408516168594,-0.083896882832050,-0.164502874016762,-0.134535953402519,-0.086968407034874,0.081097431480885,0.017060820013285));
res += mul(Get(s3,-dx,0), float4x4(0.215780034661293,0.064364798367023,-0.122454836964607,0.167120814323425,0.014193022623658,-0.008625589311123,-0.270041346549988,0.057994898408651,-0.028370819985867,-0.107230119407177,-0.043547309935093,0.066256970167160,0.069177113473415,-0.119320414960384,0.013213190250099,-0.071684300899506));
res += mul(Get(s3,-dx,dy), float4x4(-0.158024728298187,-0.084216460585594,-0.118149705231190,0.140667587518692,0.012192613445222,0.214677676558495,0.033770196139812,-0.109583713114262,0.267938256263733,-0.048356991261244,0.086123220622540,-0.119580522179604,0.190209552645683,-0.086885407567024,-0.164364472031593,-0.223678022623062));
res += mul(Get(s3,0,-dy), float4x4(0.203446939587593,-0.093748264014721,-0.012874220497906,-0.163454636931419,0.083810143172741,0.116518341004848,0.038615040481091,0.179214939475060,0.062897831201553,-0.127876594662666,0.080204516649246,-0.045578323304653,0.120912358164787,0.026253668591380,0.065655469894409,-0.075133554637432));
res += mul(Get(s3,0,0), float4x4(0.076949775218964,-0.035684410482645,-0.314910084009171,-0.116641111671925,-0.120262391865253,0.095795720815659,0.032766629010439,-0.042607024312019,-0.097774378955364,0.004256364889443,-0.105562873184681,-0.181012779474258,0.090361855924129,-0.031781066209078,-0.270157039165497,0.174957200884819));
res += mul(Get(s3,0,dy), float4x4(-0.065445572137833,0.025864921510220,-0.065021634101868,0.070565044879913,0.092682540416718,-0.087767802178860,-0.151307836174965,0.032101750373840,0.026536390185356,-0.079071246087551,-0.104330494999886,-0.028598431497812,0.191961079835892,0.088832430541515,0.019006444141269,0.130566179752350));
res += mul(Get(s3,dx,-dy), float4x4(0.023713625967503,-0.067439198493958,-0.083499014377594,0.143696069717407,0.031078390777111,-0.035968892276287,-0.046582859009504,0.153467014431953,0.101109892129898,-0.158765047788620,0.072494655847549,-0.003485528752208,-0.213383525609970,-0.045835878700018,-0.201568365097046,0.162351921200752));
res += mul(Get(s3,dx,0), float4x4(0.010586746968329,-0.006555885542184,-0.175423249602318,0.072478324174881,0.052455134689808,0.040579102933407,-0.167921856045723,-0.206749841570854,0.003542744321749,-0.084140799939632,-0.033445458859205,0.022036354988813,-0.130534425377846,0.045122232288122,-0.025560136884451,0.008215723559260));
res += mul(Get(s3,dx,dy), float4x4(0.203996539115906,0.023539019748569,-0.091685086488724,0.036612652242184,-0.234948113560677,-0.132478997111320,0.264816254377365,0.068009257316589,-0.090746901929379,-0.057648666203022,0.143704727292061,-0.142432913184166,0.076906599104404,-0.010705211199820,-0.083535730838776,0.122652590274811));
return max(float4(0,0,0,0), res);
}
