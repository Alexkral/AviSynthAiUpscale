sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.036868795752525,-0.066051490604877,0.378547042608261,0.086403101682663,0.148584946990013,0.180233299732208,-0.161713078618050,-0.066248729825020,-0.104477226734161,-0.191456466913223,-0.190146118402481,0.227870702743530,0.219372838735580,0.095615990459919,0.190960049629211,-0.031137889251113));
res += mul(Get(s0,-dx,0), float4x4(0.042641274631023,0.124558426439762,0.503469884395599,0.033298268914223,-0.042276639491320,-0.092020809650421,-0.092510782182217,-0.061604786664248,-0.034139957278967,0.063218094408512,0.048161230981350,-0.007882465608418,-0.002158303279430,0.064385347068310,0.177436813712120,0.235987007617950));
res += mul(Get(s0,-dx,dy), float4x4(-0.171300187706947,-0.018296340480447,0.695299148559570,-0.179477706551552,-0.175813227891922,0.186347052454948,-0.090982362627983,-0.048360958695412,-0.015464028343558,0.008608870208263,0.146402418613434,-0.116892173886299,-0.154095441102982,-0.140193462371826,0.345784693956375,-0.012864844873548));
res += mul(Get(s0,0,-dy), float4x4(-0.076664693653584,-0.019852181896567,0.046911772340536,0.163298666477203,0.227832034230232,0.096089832484722,-0.110973872244358,-0.015675643458962,-0.065252438187599,0.099955990910530,-0.078276716172695,0.152281343936920,0.131078198552132,0.102867729961872,0.003326939418912,0.171279400587082));
res += mul(Get(s0,0,0), float4x4(-0.170931980013847,0.357701927423477,-0.102136902511120,0.129292502999306,0.075115367770195,0.068164475262165,-0.075045049190521,-0.033469118177891,-0.011373455636203,0.046223528683186,0.109695851802826,0.104739546775818,0.015556404367089,0.046951208263636,-0.058185197412968,0.089313432574272));
res += mul(Get(s0,0,dy), float4x4(0.068868115544319,0.236889332532883,0.119378834962845,0.106500722467899,-0.235440805554390,0.241665527224541,0.054923083633184,-0.007320145610720,0.085018455982208,-0.186532542109489,0.015408181585371,-0.002466873032972,-0.163317412137985,-0.138257786631584,0.112159498035908,0.472232788801193));
res += mul(Get(s0,dx,-dy), float4x4(-0.013598230667412,0.171373561024666,0.126085013151169,-0.174987509846687,-0.162557289004326,-0.234105139970779,-0.065405055880547,0.055253513157368,0.053791005164385,-0.065618991851807,0.002392978640273,-0.195151463150978,-0.032399415969849,0.081125415861607,-0.048570383340120,-0.200392991304398));
res += mul(Get(s0,dx,0), float4x4(-0.032469570636749,0.026487912982702,-0.096156425774097,-0.062520831823349,-0.097825787961483,-0.060619935393333,-0.085317641496658,0.067646905779839,-0.132112756371498,0.366099119186401,0.099785216152668,-0.016255773603916,0.176669821143150,0.032839886844158,0.080507054924965,-0.126203596591949));
res += mul(Get(s0,dx,dy), float4x4(0.274030327796936,0.003784453496337,0.081501014530659,-0.081002980470657,-0.136947453022003,-0.071229182183743,0.035936940461397,0.066063538193703,0.087799057364464,0.021769899874926,-0.056903835386038,-0.170779988169670,0.005209063645452,-0.060585845261812,0.149393290281296,0.185069784522057));
res += mul(Get(s1,-dx,-dy), float4x4(0.321482777595520,-0.057450767606497,-0.123785510659218,-0.287056833505630,0.270144671201706,-0.275887101888657,0.005671910941601,-0.158357471227646,-0.111897543072701,0.039053309708834,-0.048383411020041,-0.132982477545738,0.459588170051575,-0.179382145404816,-0.196844756603241,0.048382539302111));
res += mul(Get(s1,-dx,0), float4x4(0.103523902595043,0.007045108824968,-0.119675837457180,-0.018969876691699,0.019564628601074,0.061451654881239,0.074238821864128,-0.154810607433319,-0.037769734859467,0.112148925662041,-0.051038660109043,0.154828891158104,0.052199687808752,0.296574443578720,-0.091416127979755,0.037476025521755));
res += mul(Get(s1,-dx,dy), float4x4(-0.098721437156200,0.124961249530315,-0.061253663152456,0.097427226603031,0.039284657686949,-0.083137296140194,0.270871758460999,-0.058711476624012,0.000673645350616,-0.008565270341933,0.073496393859386,0.020323168486357,-0.011385858990252,-0.025914406403899,-0.043789099901915,-0.235127106308937));
res += mul(Get(s1,0,-dy), float4x4(0.221921592950821,0.143459379673004,-0.112646847963333,0.021733729168773,-0.086314596235752,0.066593602299690,-0.075228236615658,0.113413140177727,-0.058860693126917,-0.048081081360579,-0.142433911561966,-0.164241373538971,0.192124173045158,-0.080510132014751,-0.199442446231842,0.126980975270271));
res += mul(Get(s1,0,0), float4x4(0.087547227740288,0.165090426802635,-0.021983975544572,0.057796180248260,-0.071501731872559,0.094854988157749,-0.123427115380764,0.068085394799709,0.059951446950436,0.152036264538765,-0.322421818971634,0.000561850494705,-0.121650740504265,0.243181943893433,-0.094447650015354,0.085418619215488));
res += mul(Get(s1,0,dy), float4x4(-0.194343939423561,0.147498369216919,0.044536367058754,-0.069670945405960,0.004372052382678,0.129719361662865,-0.085058897733688,-0.028309816494584,-0.092915900051594,0.140847176313400,-0.067340366542339,-0.032743569463491,-0.147198602557182,-0.219890072941780,-0.069661349058151,-0.096458099782467));
res += mul(Get(s1,dx,-dy), float4x4(-0.026449592784047,-0.037937562912703,-0.086642049252987,-0.001244067796506,0.160362854599953,-0.049354184418917,0.180966839194298,0.097215928137302,-0.148322910070419,-0.220888391137123,0.003436892526224,-0.175541371107101,-0.135842934250832,-0.254551321268082,-0.314268112182617,-0.164798781275749));
res += mul(Get(s1,dx,0), float4x4(0.022400211542845,-0.067188009619713,-0.117577709257603,0.106155060231686,0.045084629207850,0.077021509408951,0.087213888764381,-0.085322782397270,0.048192858695984,-0.062740229070187,-0.244609028100967,0.048272889107466,-0.047509316354990,-0.081055663526058,-0.196231693029404,0.497683256864548));
res += mul(Get(s1,dx,dy), float4x4(-0.177422538399696,0.164552718400955,0.043844908475876,0.262877255678177,0.107300169765949,0.100906550884247,-0.070508778095245,-0.183495625853539,0.082719318568707,-0.314595401287079,-0.208676800131798,0.105316586792469,0.021647166460752,-0.157157465815544,-0.100054167211056,-0.180880069732666));
res += mul(Get(s2,-dx,-dy), float4x4(0.014156379736960,0.191449835896492,0.043003644794226,-0.128601789474487,-0.037835154682398,-0.216771289706230,0.107213683426380,0.438561975955963,0.541129767894745,-0.145679682493210,-0.238132908940315,-0.193272322416306,0.113891579210758,0.127524495124817,-0.128793120384216,0.129617482423782));
res += mul(Get(s2,-dx,0), float4x4(-0.023033032193780,0.193518802523613,0.065664380788803,-0.144649729132652,0.108648240566254,-0.075935266911983,-0.052880816161633,0.125419214367867,0.387411206960678,0.071228362619877,-0.139570042490959,0.001826178980991,-0.006113271694630,0.124026298522949,-0.092148706316948,-0.047257751226425));
res += mul(Get(s2,-dx,dy), float4x4(0.036703061312437,0.037658128887415,0.077770933508873,-0.193962574005127,-0.055765379220247,-0.191627874970436,-0.010600384324789,-0.062949828803539,0.191677033901215,-0.005103535018861,-0.126234382390976,0.194202914834023,0.096233464777470,-0.115632072091103,-0.068901233375072,-0.010605279356241));
res += mul(Get(s2,0,-dy), float4x4(0.172489255666733,0.124868951737881,-0.042625751346350,0.157292112708092,0.094076439738274,-0.144776836037636,0.143354266881943,0.165044546127319,-0.215972900390625,-0.199944972991943,-0.090233437716961,0.058974735438824,-0.051767077296972,0.107020460069180,0.018253786489367,-0.055025085806847));
res += mul(Get(s2,0,0), float4x4(0.137609243392944,0.181941777467728,0.069789484143257,0.082047224044800,0.062508359551430,-0.073689803481102,0.046559713780880,-0.007273914292455,-0.158881470561028,0.221854701638222,-0.074705377221107,0.140604063868523,-0.146390452980995,0.140407621860504,-0.025772273540497,-0.004954906646162));
res += mul(Get(s2,0,dy), float4x4(-0.032440774142742,-0.073392301797867,0.073047861456871,0.120380483567715,0.028824655339122,-0.183105230331421,-0.027183465659618,0.266135364770889,-0.082231357693672,0.293887734413147,-0.154259830713272,0.085472449660301,-0.067799031734467,-0.035605702549219,-0.058675650507212,-0.033169157803059));
res += mul(Get(s2,dx,-dy), float4x4(0.263240039348602,-0.073888175189495,0.001027568941936,-0.084085591137409,-0.058452475816011,0.043665453791618,0.202942714095116,0.237001210451126,-0.144257858395576,-0.263069361448288,0.164033800363541,0.273766338825226,0.018494261428714,-0.207699462771416,0.175665661692619,-0.186840295791626));
res += mul(Get(s2,dx,0), float4x4(0.224644467234612,-0.004831455647945,-0.075474925339222,-0.154517382383347,-0.015102945268154,0.057879928499460,0.029710987582803,-0.001054812921211,-0.156000092625618,0.008909256197512,0.119581699371338,-0.017579298466444,-0.228372976183891,-0.008395045995712,-0.005750688724220,-0.100984953343868));
res += mul(Get(s2,dx,dy), float4x4(-0.062653139233589,0.162334337830544,-0.026137815788388,-0.074951305985451,-0.011565105058253,-0.111613847315311,0.060201432555914,0.037813547998667,-0.107215814292431,-0.049470558762550,-0.184328407049179,-0.083995185792446,-0.056151669472456,0.007639487739652,-0.128598496317863,0.028174180537462));
res += mul(Get(s3,-dx,-dy), float4x4(0.303913176059723,-0.237458840012550,-0.150797605514526,-0.123844020068645,-0.037083387374878,-0.227791547775269,-0.085012242197990,-0.131962031126022,0.056631498038769,0.119806766510010,0.261116206645966,0.148556917905807,0.088629193603992,-0.220482617616653,0.152398005127907,-0.043094463646412));
res += mul(Get(s3,-dx,0), float4x4(0.037436742335558,-0.075821086764336,-0.129219695925713,-0.061719354242086,-0.013560340739787,0.314320087432861,0.035637855529785,-0.063433989882469,0.098972819745541,0.141311675310135,0.039833042770624,0.186583191156387,0.022375209257007,0.017563618719578,0.052763998508453,0.022122165188193));
res += mul(Get(s3,-dx,dy), float4x4(0.004313694778830,0.065546326339245,-0.075236819684505,-0.091423876583576,0.159689977765083,0.193761751055717,0.015507840551436,0.003226901870221,-0.034988041967154,-0.071098901331425,0.224529847502708,0.117756374180317,-0.099758654832840,-0.038750164210796,0.077047690749168,-0.092771090567112));
res += mul(Get(s3,0,-dy), float4x4(0.064946405589581,0.004352020099759,-0.125524789094925,0.322783797979355,-0.169923081994057,-0.086035788059235,-0.054967388510704,-0.098736196756363,0.233323499560356,-0.334846794605255,0.362257391214371,-0.207263916730881,-0.093005657196045,-0.181373178958893,0.150071427226067,-0.053203798830509));
res += mul(Get(s3,0,0), float4x4(-0.198454469442368,0.217377692461014,-0.095585718750954,0.421820938587189,-0.008243843913078,0.322646498680115,-0.138168394565582,0.083279699087143,0.067407660186291,0.111648082733154,-0.045012827962637,0.038142077624798,0.156708121299744,-0.008490966632962,0.016679866239429,0.199613928794861));
res += mul(Get(s3,0,dy), float4x4(-0.063606061041355,0.246792286634445,-0.080815084278584,0.157773181796074,0.070780754089355,-0.038044158369303,-0.077324345707893,0.114641688764095,-0.015242187306285,-0.089403197169304,0.031691282987595,0.102645553648472,-0.010794654488564,-0.175780221819878,0.025528103113174,0.187102228403091));
res += mul(Get(s3,dx,-dy), float4x4(0.158821791410446,-0.078286953270435,0.184936314821243,-0.307270407676697,0.027971282601357,-0.310897767543793,0.301707744598389,-0.298312962055206,-0.002086664782837,-0.441805869340897,0.245358765125275,-0.073867939412594,-0.122139066457748,-0.229055315256119,0.089713305234909,-0.123382680118084));
res += mul(Get(s3,dx,0), float4x4(-0.185775801539421,0.054576370865107,-0.042640339583158,-0.147102907299995,0.070335514843464,0.000537996646017,0.148577973246574,0.052593950182199,-0.164048239588737,0.497966974973679,0.103647634387016,-0.025653861463070,0.026977272704244,0.023518754169345,0.067828014492989,0.129185721278191));
res += mul(Get(s3,dx,dy), float4x4(-0.147166028618813,0.027067376300693,-0.031510140746832,-0.090696834027767,0.069089047610760,-0.060710866004229,0.012309785932302,0.019630251452327,-0.262862324714661,0.302268713712692,0.268707007169724,-0.049233924597502,-0.029461441561580,-0.166580915451050,0.164181470870972,-0.045369371771812));
return max(float4(0,0,0,0), res);
}
