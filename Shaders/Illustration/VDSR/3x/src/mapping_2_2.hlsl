sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.041921451687813,-0.032525774091482,-0.040693007409573,-0.008647643961012,-0.002563822548836,0.295734852552414,-0.069429434835911,-0.115975446999073,0.088964551687241,-0.180258691310883,-0.216613382101059,-0.166461288928986,-0.082731619477272,0.066039174795151,-0.215452536940575,-0.037743378430605));
res += mul(Get(s0,-dx,0), float4x4(0.015411640517414,0.047200344502926,-0.033177714794874,0.017834205180407,-0.319393217563629,-0.388797342777252,-0.157606273889542,-0.053708408027887,0.073154740035534,-0.067438043653965,-0.097514972090721,-0.081652350723743,0.010236737318337,0.137546777725220,-0.170682817697525,-0.131400525569916));
res += mul(Get(s0,-dx,dy), float4x4(-0.026247268542647,0.051625758409500,-0.044111352413893,0.025627754628658,-0.158884018659592,-0.163580492138863,0.032415434718132,0.035194188356400,-0.052652452141047,-0.109736099839211,-0.031074889004230,-0.021253727376461,0.243939727544785,-0.024641964584589,-0.168645307421684,-0.021884562447667));
res += mul(Get(s0,0,-dy), float4x4(0.065810389816761,-0.009905168786645,0.028224827721715,-0.030784688889980,0.150703430175781,0.067549653351307,-0.211668327450752,-0.110497653484344,0.038312293589115,-0.115504823625088,0.081850245594978,-0.137177750468254,-0.082885809242725,-0.049728501588106,0.109855651855469,0.036711089313030));
res += mul(Get(s0,0,0), float4x4(0.057347215712070,0.086596436798573,0.015072145499289,-0.027520231902599,0.135323047637939,0.153139397501945,-0.351909101009369,-0.134835436940193,0.137418061494827,-0.038063079118729,0.029834698885679,-0.087015032768250,-0.114311248064041,-0.170491605997086,0.436245083808899,-0.102060012519360));
res += mul(Get(s0,0,dy), float4x4(0.000893594115041,0.098254375159740,0.043294116854668,0.006951452698559,-0.375719338655472,-0.072203323245049,-0.016861796379089,0.064393460750580,0.041037723422050,-0.001034272718243,0.023418061435223,-0.031450346112251,0.156254991889000,0.089830391108990,-0.010403772816062,-0.105090811848640));
res += mul(Get(s0,dx,-dy), float4x4(-0.015979550778866,0.038362517952919,0.020170610398054,-0.010215078480542,0.016522247344255,-0.202348873019218,0.059215493500233,-0.079381808638573,0.052523519843817,-0.021594353020191,0.180818796157837,-0.213183164596558,-0.227613091468811,-0.160052999854088,0.066998854279518,0.001290109939873));
res += mul(Get(s0,dx,0), float4x4(0.006011943798512,0.076446950435638,0.023894052952528,0.012039892375469,0.002942171413451,0.641881823539734,0.271255135536194,0.004345266148448,0.229454651474953,-0.059459339827299,0.147018298506737,-0.160059347748756,-0.216310039162636,-0.038646217435598,0.027221035212278,0.005639890674502));
res += mul(Get(s0,dx,dy), float4x4(-0.033808745443821,0.035633124411106,0.021862175315619,0.026795787736773,0.073804870247841,0.289691060781479,-0.112297601997852,0.027040652930737,0.180261120200157,0.071303322911263,0.020858321338892,-0.067717947065830,-0.050073072314262,-0.066582426428795,-0.044896416366100,-0.033490851521492));
res += mul(Get(s1,-dx,-dy), float4x4(-0.040675539523363,0.164804950356483,0.007206365466118,-0.036316242069006,-0.069573573768139,-0.053818255662918,-0.023607501760125,-0.121477037668228,0.102309510111809,-0.116511598229408,0.167826414108276,0.363747030496597,-0.036303251981735,0.038692418485880,0.121515348553658,-0.107186347246170));
res += mul(Get(s1,-dx,0), float4x4(0.026844076812267,-0.139452651143074,0.109146438539028,-0.122969180345535,-0.063185594975948,0.006632718257606,0.056864421814680,-0.003422978566960,0.031585402786732,-0.239722132682800,0.036849435418844,-0.201472565531731,0.163372933864594,0.084708012640476,0.225882321596146,0.016481878235936));
res += mul(Get(s1,-dx,dy), float4x4(-0.032066069543362,0.046050038188696,0.083617314696312,-0.099505238234997,-0.110328041017056,0.005229404196143,0.031350940465927,0.220495194196701,0.184104099869728,-0.015452558174729,-0.096776597201824,-0.066040799021721,-0.195886656641960,-0.068587847054005,0.030100202187896,0.159544408321381));
res += mul(Get(s1,0,-dy), float4x4(0.206708550453186,0.039500042796135,0.114395529031754,0.072715774178505,-0.087318107485771,-0.003801562823355,0.043424144387245,-0.064234852790833,-0.091219499707222,-0.241995885968208,0.035829618573189,0.153426557779312,-0.116428457200527,-0.057383622974157,-0.018581584095955,-0.063124790787697));
res += mul(Get(s1,0,0), float4x4(-0.162939980626106,0.061897460371256,0.154929250478745,0.050502080470324,-0.055796243250370,-0.030639588832855,0.059296499937773,0.000306814501528,-0.090138547122478,-0.367841064929962,-0.011447376571596,-0.155632913112640,0.054051950573921,-0.116173006594181,-0.011672354303300,0.007950843311846));
res += mul(Get(s1,0,dy), float4x4(-0.251213550567627,0.048903889954090,0.030770707875490,0.148443907499313,-0.078878551721573,-0.006437732838094,-0.024770610034466,0.135244011878967,0.188157916069031,-0.146660059690475,-0.021929159760475,-0.182100906968117,-0.048130486160517,0.126168817281723,-0.143209651112556,0.110403887927532));
res += mul(Get(s1,dx,-dy), float4x4(0.128500953316689,-0.172758296132088,-0.029142552986741,0.014816954731941,-0.058873467147350,0.068308837711811,0.074323765933514,-0.067368589341640,0.025170799344778,-0.172851771116257,-0.082508251070976,-0.043185975402594,0.032779615372419,-0.183271884918213,-0.033039059489965,-0.123050369322300));
res += mul(Get(s1,dx,0), float4x4(-0.174138531088829,0.320614993572235,-0.005944516044110,0.024849817156792,-0.040681816637516,-0.046546209603548,0.017929494380951,-0.055927507579327,0.210286542773247,0.023696396499872,0.037993822246790,-0.028624501079321,-0.002617667429149,-0.013836859725416,0.346536219120026,-0.080319859087467));
res += mul(Get(s1,dx,dy), float4x4(-0.212034940719604,-0.111047379672527,0.046963602304459,0.136220321059227,-0.068149901926517,0.052622146904469,-0.080322295427322,-0.008416507393122,-0.082849726080894,-0.053852338343859,0.130335286259651,-0.005540484096855,0.254328906536102,0.108187422156334,-0.228249862790108,-0.094339877367020));
res += mul(Get(s2,-dx,-dy), float4x4(0.122661717236042,-0.014509374275804,-0.019150435924530,0.125110492110252,-0.068981088697910,-0.041095368564129,-0.134968176484108,0.297294855117798,0.080382958054543,-0.114144504070282,-0.281772255897522,-0.351136893033981,-0.220685333013535,0.055922504514456,0.132651716470718,0.229779139161110));
res += mul(Get(s2,-dx,0), float4x4(0.077571384608746,0.052509605884552,-0.088666856288910,0.057094406336546,-0.143174335360527,-0.221893280744553,-0.149361073970795,0.128381818532944,0.131619617342949,0.064692348241806,-0.187906786799431,-0.023984272032976,0.033837739378214,-0.178009256720543,-0.109189867973328,-0.158082023262978));
res += mul(Get(s2,-dx,dy), float4x4(-0.211893782019615,0.125723704695702,-0.005964252632111,0.211099579930305,-0.137518376111984,-0.166641339659691,0.073240160942078,-0.000075838630437,-0.183474227786064,-0.105569973587990,0.030413681641221,-0.296382606029510,0.040725938975811,-0.135514706373215,-0.042734581977129,0.037190970033407));
res += mul(Get(s2,0,-dy), float4x4(0.057800088077784,-0.073095582425594,0.031843684613705,-0.034816481173038,-0.173141166567802,0.000077587246778,-0.165159747004509,0.036464165896177,0.118904657661915,0.027774719521403,-0.099164903163910,-0.316079974174500,-0.085544168949127,-0.046178776770830,0.039423115551472,0.228586331009865));
res += mul(Get(s2,0,0), float4x4(0.169586971402168,0.071270585060120,-0.051300514489412,-0.072044633328915,-0.201925858855247,-0.080014795064926,-0.218499466776848,-0.073179528117180,-0.092765845358372,0.081068657338619,0.020640494301915,0.101464107632637,-0.012957780621946,-0.088305033743382,0.131769552826881,-0.385386645793915));
res += mul(Get(s2,0,dy), float4x4(-0.037079907953739,0.125860527157784,-0.023623673245311,0.196308359503746,-0.121508605778217,-0.017046606168151,-0.215838029980659,-0.006013268604875,-0.239818781614304,0.017240623012185,-0.067116320133209,-0.002232627943158,0.066293992102146,0.038698669523001,-0.106798991560936,-0.421252310276031));
res += mul(Get(s2,dx,-dy), float4x4(0.011474049650133,-0.085615471005440,-0.082411102950573,0.097695812582970,-0.051973097026348,0.044951654970646,-0.107151292264462,0.198308408260345,0.070955522358418,0.169608220458031,0.215662971138954,0.076023116707802,0.021221725270152,-0.045268889516592,-0.138562098145485,0.208438873291016));
res += mul(Get(s2,dx,0), float4x4(0.014097066596150,-0.148146986961365,-0.034923575818539,-0.196646839380264,-0.189523518085480,-0.170322999358177,-0.171662986278534,-0.117030642926693,-0.124171636998653,-0.010995127260685,0.246963933110237,0.203140154480934,0.097132124006748,-0.040762599557638,0.081209287047386,-0.198567226529121));
res += mul(Get(s2,dx,dy), float4x4(-0.262679398059845,-0.202582523226738,0.000095630581200,-0.067388810217381,-0.272114843130112,-0.111042886972427,-0.113140560686588,-0.174473553895950,-0.283556193113327,-0.174761041998863,0.017349468544126,-0.187659621238708,0.187946945428848,0.075435295701027,0.122914627194405,-0.416283816099167));
res += mul(Get(s3,-dx,-dy), float4x4(-0.108022660017014,0.036754682660103,-0.150998607277870,-0.099963486194611,0.133394226431847,0.047363307327032,-0.247354224324226,-0.015516550280154,0.034334924072027,-0.002668534405529,-0.155546113848686,0.163566052913666,0.002518266439438,0.032065100967884,0.083615943789482,0.040885046124458));
res += mul(Get(s3,-dx,0), float4x4(0.095373727381229,-0.098288677632809,-0.162499397993088,-0.058372136205435,0.149440184235573,0.070612698793411,-0.126349598169327,-0.022277684882283,0.018452014774084,-0.076726011931896,-0.160824790596962,0.437441915273666,-0.094613596796989,-0.024037286639214,0.037584524601698,-0.127686753869057));
res += mul(Get(s3,-dx,dy), float4x4(-0.065005138516426,-0.074933812022209,-0.049580313265324,0.062659457325935,0.065551593899727,-0.070269055664539,0.023391360417008,-0.064114630222321,-0.070047989487648,-0.055855412036180,0.061414804309607,-0.290086030960083,-0.033608853816986,-0.000723547127564,0.036568086594343,-0.191340446472168));
res += mul(Get(s3,0,-dy), float4x4(-0.008457557298243,-0.013647784478962,0.019237676635385,-0.054920006543398,0.059400942176580,-0.074954800307751,-0.196864619851112,-0.031305175274611,-0.064507685601711,0.181957453489304,-0.109385505318642,0.088044941425323,0.051176905632019,-0.017546426504850,0.063862763345242,0.086331799626350));
res += mul(Get(s3,0,0), float4x4(0.134446904063225,0.076411731541157,0.009786547161639,-0.004191860090941,0.136373296380043,0.207169294357300,-0.083883941173553,-0.029796730726957,-0.181982770562172,-0.175672709941864,-0.350043177604675,-0.267431527376175,0.022221993654966,-0.017645403742790,0.159373924136162,-0.080833032727242));
res += mul(Get(s3,0,dy), float4x4(-0.024829609319568,0.171474680304527,0.034639742225409,0.062726646661758,0.111913293600082,0.140438571572304,-0.226673543453217,-0.085466139018536,-0.020140437409282,-0.277911335229874,-0.334535241127014,-0.336990058422089,0.021037921309471,0.044563945382833,0.123978063464165,-0.166118279099464));
res += mul(Get(s3,dx,-dy), float4x4(0.024521801620722,-0.018986780196428,0.099037379026413,0.046551965177059,-0.016877047717571,-0.044829048216343,0.068671621382236,-0.099169850349426,-0.226673215627670,0.133352130651474,0.007818714715540,0.118761248886585,0.022879935801029,0.009378486312926,0.016198819503188,0.074752710759640));
res += mul(Get(s3,dx,0), float4x4(0.137426719069481,0.157470449805260,0.161636292934418,0.086281597614288,-0.077037610113621,0.111615248024464,0.338134676218033,0.018212435767055,-0.133746162056923,-0.161619290709496,-0.372428447008133,-0.031664259731770,0.022453419864178,0.021717486903071,0.053687166422606,-0.047393489629030));
res += mul(Get(s3,dx,dy), float4x4(-0.010958004742861,0.276877939701080,0.086114846169949,0.096088416874409,0.094650141894817,-0.065198272466660,-0.077049396932125,-0.120530866086483,-0.061794806271791,-0.145931869745255,-0.281434476375580,0.121570557355881,0.149446040391922,0.066893473267555,0.061840087175369,-0.104328088462353));
return max(float4(0,0,0,0), res);
}
