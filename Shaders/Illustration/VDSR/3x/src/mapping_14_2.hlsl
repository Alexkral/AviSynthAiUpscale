sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.221177175641060,-0.055389545857906,-0.032839313149452,0.097037464380264,-0.015013451687992,0.023243593052030,0.022811643779278,0.043418880552053,-0.068282730877399,-0.062676787376404,-0.107692785561085,0.085032500326633,0.123346097767353,-0.041241608560085,-0.034674007445574,0.040098395198584));
res += mul(Get(s0,-dx,0), float4x4(-0.126067221164703,-0.155011609196663,0.005964046344161,-0.082851611077785,0.041888091713190,-0.026605859398842,-0.137184843420982,-0.093936525285244,0.008374465629458,-0.002998253796250,-0.106123447418213,0.031269889324903,-0.154044359922409,0.045354355126619,0.141347080469131,-0.043455269187689));
res += mul(Get(s0,-dx,dy), float4x4(-0.071844831109047,0.006717045325786,-0.031731631606817,0.008052397519350,-0.038024812936783,-0.007198900450021,-0.011067284271121,0.135519832372665,0.112613901495934,0.017306607216597,-0.017913507297635,0.033527370542288,-0.135069563984871,-0.079298056662083,0.223171100020409,0.086823903024197));
res += mul(Get(s0,0,-dy), float4x4(0.276334255933762,0.223854720592499,0.010017753578722,0.204042583703995,-0.210520699620247,-0.183984935283661,0.044318698346615,0.139043286442757,-0.021627962589264,-0.058899533003569,-0.141845703125000,-0.001338448026218,0.092436611652374,0.112070403993130,0.050107147544622,-0.158891171216965));
res += mul(Get(s0,0,0), float4x4(0.074650734663010,0.216898426413536,0.094462320208549,-0.111894890666008,-0.251873373985291,-0.038482859730721,-0.158249005675316,0.038516342639923,-0.033750459551811,0.036189585924149,-0.012593592517078,-0.169973298907280,-0.046109691262245,-0.133515611290932,0.124052122235298,-0.178239628672600));
res += mul(Get(s0,0,dy), float4x4(0.135661706328392,0.092613726854324,0.142083600163460,-0.068859457969666,-0.062244042754173,0.047019429504871,-0.068575106561184,0.151329040527344,0.011058202944696,0.004426138941199,0.132337868213654,0.147748142480850,-0.167711570858955,0.008985499851406,0.073311746120453,-0.075572200119495));
res += mul(Get(s0,dx,-dy), float4x4(-0.209661811590195,0.014670362696052,-0.017842570319772,0.115524865686893,0.142219901084900,-0.193703174591064,-0.097785770893097,0.204329803586006,-0.031012451276183,-0.132367789745331,-0.049244798719883,0.102463558316231,-0.035572130233049,0.111214391887188,-0.060585599392653,-0.055440839380026));
res += mul(Get(s0,dx,0), float4x4(-0.182031109929085,0.061776749789715,-0.097079284489155,-0.105991832911968,-0.119128137826920,0.079165846109390,-0.147037878632545,0.045625299215317,0.067790135741234,-0.089040637016296,0.091679655015469,0.047971054911613,0.038614489138126,0.079591177403927,-0.080606877803802,-0.133907303214073));
res += mul(Get(s0,dx,dy), float4x4(-0.149641633033752,0.087803706526756,-0.053662728518248,-0.071304842829704,-0.009601018391550,0.020518634468317,-0.031765069812536,-0.082456402480602,0.103446148335934,-0.004759877920151,0.007650624960661,0.223182484507561,-0.037032406777143,-0.068238973617554,-0.043061576783657,0.139254957437515));
res += mul(Get(s1,-dx,-dy), float4x4(0.194185808300972,-0.028655203059316,0.081649698317051,0.118366234004498,0.018710706382990,-0.012454785406590,0.115218937397003,-0.026866458356380,0.147492647171021,0.080307468771935,-0.114755518734455,0.029830327257514,0.070543274283409,0.018255004659295,0.134182319045067,-0.004206810146570));
res += mul(Get(s1,-dx,0), float4x4(0.140929028391838,-0.002159827155992,-0.046455487608910,-0.088079266250134,-0.175780221819878,-0.067237332463264,0.031744003295898,-0.001744110952131,0.051855210214853,0.014417522586882,0.046303119510412,-0.045786365866661,0.031903419643641,-0.102269470691681,0.142227962613106,0.155343472957611));
res += mul(Get(s1,-dx,dy), float4x4(0.109866075217724,-0.068932764232159,0.069116480648518,-0.038317952305079,-0.113177664577961,-0.039647195488214,-0.033799167722464,0.121172115206718,0.104200415313244,-0.031432434916496,-0.029023500159383,-0.290075302124023,0.004218398127705,0.072344966232777,0.060115825384855,0.096331335604191));
res += mul(Get(s1,0,-dy), float4x4(0.211637854576111,0.029613768681884,-0.042899299412966,-0.032161522656679,0.124968066811562,-0.094287328422070,0.087151534855366,-0.060100238770247,0.039269775152206,0.037058532238007,-0.053352463990450,-0.062689088284969,-0.071583986282349,0.016005029901862,-0.021078523248434,-0.006602987647057));
res += mul(Get(s1,0,0), float4x4(-0.199038282036781,-0.196090474724770,-0.080072827637196,-0.127871140837669,-0.022279484197497,-0.147697269916534,-0.006742253433913,0.037676591426134,0.059822183102369,-0.044059045612812,-0.282651633024216,0.174758940935135,0.120301961898804,-0.116204068064690,-0.149160772562027,0.287355512380600));
res += mul(Get(s1,0,dy), float4x4(-0.082437992095947,-0.045306470245123,0.026392644271255,-0.116812773048878,-0.077543213963509,-0.142239883542061,-0.024763938039541,0.199530199170113,-0.065082959830761,-0.003200764767826,-0.061083409935236,0.003034352092072,0.143154010176659,-0.123022846877575,-0.016905020922422,0.179431408643723));
res += mul(Get(s1,dx,-dy), float4x4(0.029218586161733,-0.070608451962471,0.067276097834110,0.044875238090754,0.054329890757799,0.025966398417950,0.066457904875278,0.070695720613003,0.050941772758961,0.073719412088394,-0.044951438903809,-0.040759064257145,-0.044095624238253,-0.017176473513246,-0.060516398400068,0.010129606351256));
res += mul(Get(s1,dx,0), float4x4(-0.002234937623143,-0.088302858173847,0.179920420050621,0.056125935167074,-0.062120858579874,-0.074225835502148,-0.031940046697855,-0.000503537303302,-0.076045617461205,0.014258369803429,-0.034155666828156,0.067423477768898,0.012593897990882,-0.006553266197443,-0.065373301506042,0.053371384739876));
res += mul(Get(s1,dx,dy), float4x4(-0.099245049059391,-0.123368613421917,0.097605228424072,0.140442699193954,0.076242275536060,0.031745314598083,0.049575161188841,0.193213149905205,0.019823729991913,-0.026977557688951,0.008590801618993,-0.094164289534092,-0.017292853444815,-0.062879882752895,-0.119822241365910,0.193987533450127));
res += mul(Get(s2,-dx,-dy), float4x4(0.049672931432724,-0.116533346474171,-0.129045695066452,-0.082822948694229,-0.036945018917322,-0.006963461171836,-0.028420886024833,-0.044014438986778,-0.065630577504635,0.045041579753160,-0.107649117708206,0.170908167958260,-0.074638314545155,-0.028005409985781,0.115223221480846,-0.026238018646836));
res += mul(Get(s2,-dx,0), float4x4(-0.004938875790685,-0.018117381259799,0.036022916436195,-0.170212760567665,0.010877468623221,-0.102797783911228,-0.297002196311951,0.013672125525773,-0.173556923866272,0.011528682895005,-0.168692559003830,-0.069525159895420,-0.043514635413885,-0.021391244605184,-0.045007489621639,0.073821529746056));
res += mul(Get(s2,-dx,dy), float4x4(0.093240790069103,0.005123633425683,0.122758746147156,-0.094641461968422,-0.017722839489579,-0.071823097765446,0.017835417762399,0.342695176601410,-0.047213125973940,-0.049403939396143,-0.113204285502434,0.040215745568275,0.028120459988713,0.014354340732098,0.026824176311493,0.186996653676033));
res += mul(Get(s2,0,-dy), float4x4(-0.081895500421524,-0.096163451671600,0.081927075982094,-0.087712712585926,0.030882362276316,-0.023187598213553,-0.032285772264004,-0.037772532552481,0.028796272352338,0.059153936803341,0.000739266863093,-0.078261196613312,0.061246398836374,-0.150134578347206,0.082926921546459,-0.038651291280985));
res += mul(Get(s2,0,0), float4x4(-0.051615510135889,-0.066134698688984,0.062946967780590,0.138173028826714,0.048237204551697,0.007896329276264,0.063324697315693,0.051438666880131,0.065007351338863,0.114370949566364,-0.015671700239182,-0.210196107625961,-0.080843515694141,-0.051445771008730,0.025461422279477,0.049040332436562));
res += mul(Get(s2,0,dy), float4x4(-0.007450846023858,0.007135331630707,0.036346808075905,0.192089751362801,0.070349007844925,-0.025281090289354,-0.061985932290554,0.339771270751953,0.054570201784372,-0.073153346776962,-0.057888768613338,-0.054511453956366,-0.154372662305832,-0.071388684213161,-0.090432532131672,0.162568956613541));
res += mul(Get(s2,dx,-dy), float4x4(0.042016483843327,0.077204883098602,-0.031996965408325,-0.065018519759178,0.078908964991570,-0.106281310319901,-0.049183122813702,-0.146215900778770,0.105397701263428,0.190454229712486,-0.006514281965792,-0.076604373753071,-0.064281456172466,-0.070654034614563,-0.062352113425732,0.104530289769173));
res += mul(Get(s2,dx,0), float4x4(0.023910006508231,-0.042247515171766,0.073058851063251,-0.129417717456818,-0.118320837616920,-0.005247444380075,-0.061711788177490,0.140066981315613,0.199360236525536,-0.016021342948079,-0.025472726672888,-0.126000538468361,-0.152050554752350,-0.047443494200706,-0.040084108710289,0.233282908797264));
res += mul(Get(s2,dx,dy), float4x4(0.050058856606483,0.068493701517582,0.038889717310667,0.011341937817633,-0.020252751186490,-0.013383162207901,-0.161864489316940,-0.069041155278683,0.043617639690638,-0.013592254370451,0.016707113012671,0.094392798841000,-0.068806052207947,-0.021380152553320,-0.023960217833519,0.100387178361416));
res += mul(Get(s3,-dx,-dy), float4x4(0.007196279242635,-0.058056384325027,0.123628862202168,0.025961549952626,0.105176672339439,-0.002850357908756,-0.054496176540852,-0.019336907193065,0.086180850863457,-0.040042459964752,0.148183390498161,0.079647384583950,0.010977840982378,-0.109519056975842,-0.106891192495823,-0.089707426726818));
res += mul(Get(s3,-dx,0), float4x4(-0.090975202620029,-0.056889902800322,0.050001695752144,0.223434552550316,0.215350702404976,-0.139074146747589,-0.085769586265087,0.153351590037346,-0.127724409103394,-0.068549685180187,-0.141485273838043,0.085292659699917,0.051617182791233,-0.036302238702774,-0.073546722531319,-0.199866488575935));
res += mul(Get(s3,-dx,dy), float4x4(-0.179822146892548,-0.040796786546707,-0.075490169227123,0.112598970532417,0.090122498571873,-0.015089800581336,-0.109908498823643,0.401394367218018,0.051188860088587,0.037445813417435,-0.087752282619476,-0.111059166491032,-0.046589560806751,-0.008423548191786,-0.075367517769337,0.008615029975772));
res += mul(Get(s3,0,-dy), float4x4(0.074132978916168,0.047070764005184,0.043123945593834,0.114172101020813,0.049717716872692,-0.002416672650725,-0.065521970391273,-0.159150823950768,-0.084702998399734,-0.035942435264587,-0.147209286689758,0.086994364857674,-0.120346233248711,-0.081722296774387,-0.066338725388050,-0.088920250535011));
res += mul(Get(s3,0,0), float4x4(0.016519261524081,-0.047847986221313,0.118396259844303,0.016589036211371,0.236313655972481,-0.059688873589039,-0.028944836929440,-0.082833163440228,0.077189907431602,-0.082306303083897,-0.204670846462250,0.158727601170540,-0.062528878450394,-0.062795229256153,-0.078599020838737,-0.071221336722374));
res += mul(Get(s3,0,dy), float4x4(-0.062858797609806,0.047213863581419,0.020801188424230,0.007607245817780,-0.092620290815830,-0.023551480844617,-0.031510580331087,0.195305764675140,0.129953846335411,0.028762552887201,-0.067279443144798,0.087167277932167,0.013758376240730,-0.107875794172287,-0.026158273220062,0.315707147121429));
res += mul(Get(s3,dx,-dy), float4x4(0.141123995184898,0.067553587257862,-0.165632724761963,-0.009932877495885,-0.043806340545416,0.007205512374640,0.096210777759552,-0.242596492171288,-0.089948393404484,-0.108278192579746,-0.041280295699835,0.043357435613871,0.063184283673763,0.055348515510559,0.020845558494329,0.075544059276581));
res += mul(Get(s3,dx,0), float4x4(0.022776324301958,-0.015663359314203,-0.093819811940193,-0.179671436548233,0.110581219196320,-0.013143446296453,0.014123517088592,-0.194025933742523,0.033891085535288,-0.088352702558041,-0.057302780449390,-0.007887886837125,-0.004436649382114,-0.119277052581310,0.106616638600826,-0.153648570179939));
res += mul(Get(s3,dx,dy), float4x4(0.132227495312691,-0.077210515737534,0.097232818603516,-0.060401838272810,0.001574166817591,0.022087708115578,0.030594412237406,0.293724745512009,0.052878901362419,-0.050495699048042,-0.031724773347378,0.101933382451534,0.012720963917673,-0.078504368662834,0.024241618812084,0.161684989929199));
return max(float4(0,0,0,0), res);
}
