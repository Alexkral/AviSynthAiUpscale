sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.082732990384102,0.325801461935043,-0.022952327504754,0.071936786174774,0.023195860907435,-0.066239617764950,-0.058764070272446,-0.033673733472824,-0.060568116605282,-0.023346614092588,-0.029329232871532,0.187714740633965,-0.178025916218758,0.236675307154655,-0.166762679815292,0.065560057759285));
res += mul(Get(s0,-dx,0), float4x4(-0.074553027749062,0.043719802051783,0.006068667396903,0.175979226827621,0.007117086555809,-0.220547959208488,-0.082059010863304,-0.099315084517002,0.098030664026737,0.098697274923325,-0.058627910912037,0.178324162960052,-0.123041890561581,0.235698208212852,-0.014797182753682,0.024350315332413));
res += mul(Get(s0,-dx,dy), float4x4(-0.032940983772278,-0.113947749137878,-0.015268947929144,0.064801737666130,-0.011676493100822,-0.279049813747406,-0.039783868938684,0.013863715343177,-0.050341382622719,0.063724339008331,0.038745392113924,0.052820019423962,-0.056972458958626,0.234510436654091,-0.025499224662781,0.252230823040009));
res += mul(Get(s0,0,-dy), float4x4(-0.184966295957565,0.039524305611849,-0.030428174883127,0.000042916835810,0.021634113043547,0.098865211009979,-0.019640048965812,-0.003949501086026,0.047577623277903,-0.100233443081379,-0.100784085690975,-0.074053891003132,-0.071858279407024,0.007888946682215,-0.161326542496681,0.090970583260059));
res += mul(Get(s0,0,0), float4x4(0.051897216588259,-0.059843502938747,-0.032460030168295,0.055259317159653,0.020682543516159,-0.019131209701300,0.141649812459946,-0.077411986887455,0.056490331888199,-0.128380149602890,-0.131133317947388,0.016815287992358,-0.035313397645950,-0.101545087993145,-0.073711119592190,-0.025153579190373));
res += mul(Get(s0,0,dy), float4x4(-0.021734775975347,-0.112088486552238,0.049311514943838,0.029329601675272,0.095754720270634,-0.212065428495407,0.162252902984619,0.074393980205059,0.056334897875786,0.160908699035645,-0.002664039144292,-0.230343624949455,0.042197663336992,0.318755507469177,-0.063286416232586,0.108556918799877));
res += mul(Get(s0,dx,-dy), float4x4(0.043217685073614,-0.053954329341650,-0.164016067981720,0.074386171996593,0.064111351966858,0.302836716175079,0.149280384182930,-0.161087185144424,0.003538624616340,0.042616739869118,-0.121884264051914,-0.057839304208755,0.007820193655789,-0.186615988612175,-0.200645491480827,-0.056048147380352));
res += mul(Get(s0,dx,0), float4x4(0.212952777743340,0.103169389069080,0.031026151031256,0.134285017848015,-0.040590524673462,-0.030759891495109,0.068248853087425,-0.137734934687614,0.162788122892380,-0.046866927295923,-0.116080850362778,0.029773863032460,0.012843333184719,-0.193729281425476,-0.025317266583443,-0.120306558907032));
res += mul(Get(s0,dx,dy), float4x4(0.108643785119057,-0.241174861788750,0.098806843161583,0.103733278810978,0.013793837279081,-0.157187208533287,-0.060940723866224,0.016943437978625,0.014510737732053,-0.036702167242765,-0.012089540250599,-0.106560662388802,-0.080664962530136,0.190402641892433,0.070419020950794,0.050738263875246));
res += mul(Get(s1,-dx,-dy), float4x4(0.071917697787285,0.183374121785164,-0.101056277751923,-0.084152244031429,0.141912579536438,-0.103262603282928,-0.173768296837807,-0.075736872851849,-0.035663511604071,-0.231998667120934,-0.209555268287659,-0.133406981825829,0.077579550445080,-0.159693151712418,0.180469319224358,-0.126241728663445));
res += mul(Get(s1,-dx,0), float4x4(0.082747392356396,0.017046345397830,-0.149426952004433,-0.187433496117592,0.289026111364365,-0.221211880445480,-0.094603233039379,-0.069839805364609,-0.233858838677406,0.058257110416889,-0.154549747705460,-0.061686649918556,0.014116880483925,0.056028679013252,-0.136925116181374,-0.002967874519527));
res += mul(Get(s1,-dx,dy), float4x4(0.127345144748688,0.063805222511292,-0.131602302193642,-0.134821981191635,-0.028778403997421,-0.190004006028175,-0.180355951189995,0.019579434767365,-0.104085095226765,-0.097471028566360,0.005237477365881,-0.101666025817394,-0.034639660269022,-0.169240400195122,-0.044189512729645,-0.016382068395615));
res += mul(Get(s1,0,-dy), float4x4(0.015500931069255,-0.022527122870088,0.067884400486946,0.104475520551205,-0.155141741037369,-0.082080841064453,-0.020037999376655,-0.090823069214821,-0.241977527737617,0.182746961712837,-0.065011024475098,0.222885772585869,-0.032516680657864,-0.057426963001490,0.239763274788857,0.016753658652306));
res += mul(Get(s1,0,0), float4x4(0.107581876218319,-0.096569806337357,0.106002636253834,0.120622426271439,-0.163363203406334,-0.221025988459587,0.083870239555836,0.026858359575272,-0.051724258810282,0.215288728475571,0.120680026710033,0.110197916626930,-0.088414363563061,-0.057423159480095,-0.286311239004135,-0.037430707365274));
res += mul(Get(s1,0,dy), float4x4(0.228351727128029,0.135193571448326,0.259978115558624,-0.054632388055325,0.075157873332500,-0.187389492988586,0.252221345901489,-0.061963301151991,-0.113196812570095,-0.071203909814358,0.132554486393929,-0.108767293393612,-0.048751417547464,-0.020451834425330,-0.056612916290760,0.029295850545168));
res += mul(Get(s1,dx,-dy), float4x4(0.034049443900585,0.053521413356066,0.189598456025124,0.066306926310062,-0.195911586284637,-0.014979405328631,0.123587220907211,0.011706418357790,-0.092480689287186,0.295553684234619,0.092578001320362,0.141939342021942,0.081778697669506,0.010354588739574,0.027442812919617,-0.083553723990917));
res += mul(Get(s1,dx,0), float4x4(-0.004726711660624,-0.097037635743618,0.114987805485725,-0.032786794006824,-0.149252250790596,0.082417093217373,-0.203273549675941,0.000328930211253,0.059930466115475,0.194591313600540,0.115015074610710,0.073877550661564,-0.010692643001676,0.116985671222210,-0.174425482749939,0.011696145869792));
res += mul(Get(s1,dx,dy), float4x4(0.347418338060379,0.026990419253707,0.003763002343476,-0.046264655888081,-0.036751735955477,-0.140130192041397,0.086779452860355,-0.084748119115829,0.161392077803612,-0.041549716144800,0.033149316906929,0.076133809983730,-0.158711805939674,0.224578037858009,0.044955193996429,-0.132015556097031));
res += mul(Get(s2,-dx,-dy), float4x4(0.135188877582550,0.031797423958778,0.019018923863769,-0.043438512831926,-0.120887391269207,0.050686556845903,-0.033081918954849,-0.049284815788269,0.261885523796082,-0.164846614003181,-0.220110625028610,-0.220837429165840,-0.169937103986740,0.002179236849770,-0.127539768815041,0.363371819257736));
res += mul(Get(s2,-dx,0), float4x4(-0.062290295958519,-0.023299846798182,0.014005058445036,0.118450447916985,0.060628566890955,0.128616482019424,-0.032840203493834,-0.006191534455866,-0.056584894657135,-0.017323918640614,-0.072563894093037,0.058755580335855,-0.185651883482933,-0.152453780174255,-0.074545703828335,0.088567100465298));
res += mul(Get(s2,-dx,dy), float4x4(-0.126510038971901,-0.069478899240494,0.021093932911754,0.061872500926256,0.104039736092091,0.020037589594722,-0.102308504283428,-0.021114358678460,-0.167432039976120,0.071708530187607,-0.082988500595093,0.391123116016388,-0.141155511140823,-0.093538202345371,-0.145830079913139,-0.031714517623186));
res += mul(Get(s2,0,-dy), float4x4(-0.092467807233334,0.019287183880806,0.030560262501240,-0.119990713894367,-0.119342319667339,0.058657679706812,-0.026372037827969,0.042079541832209,-0.182479932904243,-0.074340455234051,-0.027466971427202,-0.026792773976922,-0.020472489297390,0.156915366649628,-0.205118596553802,-0.125539854168892));
res += mul(Get(s2,0,0), float4x4(-0.024992082268000,0.001438859850168,0.045073401182890,-0.169512599706650,-0.161555096507072,0.215348303318024,-0.080578297376633,0.165718793869019,0.072796598076820,0.042211461812258,-0.112494073808193,0.115587115287781,-0.146445587277412,-0.003982611466199,-0.015489378944039,0.158988326787949));
res += mul(Get(s2,0,dy), float4x4(-0.048865273594856,-0.043237615376711,0.069384850561619,-0.120209522545338,0.056191924959421,-0.100909329950809,-0.280370563268661,-0.129767403006554,-0.001602531177923,-0.000786667107604,0.217769950628281,0.192094802856445,-0.159012004733086,-0.230371788144112,-0.030541246756911,0.019145134836435));
res += mul(Get(s2,dx,-dy), float4x4(-0.042049180716276,0.046309515833855,0.167335987091064,0.063649877905846,-0.072822265326977,-0.056047629565001,0.113178580999374,-0.063748590648174,-0.131184667348862,-0.163693919777870,0.061801876872778,-0.080389805138111,0.258817255496979,0.111662417650223,-0.163450658321381,-0.211517617106438));
res += mul(Get(s2,dx,0), float4x4(0.142768189311028,-0.045020285993814,0.162488117814064,0.000334996584570,0.123082458972931,-0.099998988211155,0.223843812942505,-0.060786440968513,-0.159876301884651,-0.014675331301987,0.201391369104385,0.078871957957745,0.000257094972767,0.062417391687632,-0.049651023000479,0.038623653352261));
res += mul(Get(s2,dx,dy), float4x4(0.181833267211914,-0.032921206206083,0.043190512806177,-0.005646653939039,0.060332369059324,-0.189149484038353,0.140854448080063,-0.275364160537720,0.194654330611229,0.190416485071182,0.276658058166504,0.290763884782791,0.043419651687145,-0.118253387510777,0.142640292644501,0.094203799962997));
res += mul(Get(s3,-dx,-dy), float4x4(-0.149531573057175,-0.055671364068985,-0.108915500342846,-0.083019152283669,-0.129184141755104,0.130589812994003,-0.103389412164688,-0.319171756505966,0.114042811095715,0.083326481282711,-0.027145860716701,-0.168515071272850,-0.282534122467041,-0.204258769750595,0.007618914823979,0.057227939367294));
res += mul(Get(s3,-dx,0), float4x4(0.019583549350500,-0.034456167370081,-0.137335911393166,-0.015857918187976,-0.136243700981140,0.043294992297888,-0.109587013721466,-0.029506631195545,0.064412347972393,-0.034529171884060,0.327429711818695,-0.039635062217712,-0.126076340675354,-0.046681579202414,-0.153098344802856,-0.089646607637405));
res += mul(Get(s3,-dx,dy), float4x4(0.176189064979553,0.011324372142553,-0.179720252752304,0.383320659399033,0.019057221710682,-0.061987355351448,-0.059409800916910,0.051651772111654,0.073804132640362,-0.002422673394904,0.057390868663788,-0.176486536860466,-0.080510839819908,-0.122694700956345,-0.144458502531052,-0.061643157154322));
res += mul(Get(s3,0,-dy), float4x4(-0.060770358890295,0.014325659722090,0.019907468929887,-0.005269265267998,-0.063264071941376,0.095905199646950,-0.009700370021164,-0.291435301303864,0.142563924193382,0.012059287168086,-0.313704162836075,-0.100212581455708,-0.071228086948395,-0.054878093302250,0.064058743417263,0.154796898365021));
res += mul(Get(s3,0,0), float4x4(0.166343733668327,0.044778365641832,0.076331153512001,0.097312442958355,0.091939717531204,-0.039403516799212,-0.067183353006840,-0.086976252496243,-0.147785767912865,0.221815884113312,0.152362674474716,-0.039578583091497,0.035270579159260,-0.062973991036415,-0.063257627189159,-0.081616088747978));
res += mul(Get(s3,0,dy), float4x4(-0.011221212334931,0.152381405234337,-0.010039136745036,0.007073366548866,-0.060455136001110,-0.010656395927072,-0.002229625126347,0.112780801951885,0.009415392763913,0.125744163990021,0.030571494251490,-0.096687138080597,-0.071088872849941,-0.012924655340612,-0.034687582403421,0.011388704180717));
res += mul(Get(s3,dx,-dy), float4x4(0.074296288192272,-0.005457506049424,-0.088288292288780,-0.187807589769363,0.127621576189995,-0.078406326472759,-0.099483251571655,-0.033961027860641,0.167966529726982,-0.031760871410370,-0.224974364042282,-0.129063919186592,-0.050325572490692,-0.263425707817078,-0.104478187859058,0.050586633384228));
res += mul(Get(s3,dx,0), float4x4(0.086099207401276,0.029150696471334,0.124247379601002,0.102860845625401,0.092787027359009,-0.042189955711365,-0.033887159079313,-0.039703167974949,0.065544642508030,0.053062371909618,0.108436577022076,-0.056634142994881,-0.030727691948414,-0.105577401816845,-0.107417881488800,0.013450572267175));
res += mul(Get(s3,dx,dy), float4x4(0.096608772873878,0.215118899941444,0.017494656145573,0.025628969073296,-0.001060056965798,-0.086234234273434,0.019979378208518,-0.085748620331287,0.124357514083385,-0.081183642148972,0.068696491420269,-0.143355414271355,0.010045793838799,-0.035504274070263,0.075195603072643,-0.026126489043236));
return max(float4(0,0,0,0), res);
}
