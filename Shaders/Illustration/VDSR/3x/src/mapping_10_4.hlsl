sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.071061469614506,-0.126714512705803,0.012892809696496,-0.002163066528738,-0.221252396702766,0.141554981470108,0.052770178765059,0.056793969124556,-0.182371675968170,0.013421953655779,0.042672969400883,-0.213479071855545,-0.179419979453087,0.072811596095562,-0.120740644633770,-0.216513723134995));
res += mul(Get(s0,-dx,0), float4x4(-0.080826468765736,-0.033932801336050,-0.014207289554179,0.151462689042091,0.080478101968765,0.010383894667029,-0.217891171574593,0.070428520441055,0.043052565306425,-0.108568944036961,0.091314904391766,-0.014767074957490,-0.093848325312138,-0.092679657042027,0.075508773326874,0.065768256783485));
res += mul(Get(s0,-dx,dy), float4x4(-0.004843778908253,-0.032475315034389,-0.099883891642094,0.039376474916935,0.028788177296519,-0.115466304123402,0.164180845022202,0.053514849394560,-0.104494072496891,0.092589423060417,0.154554098844528,0.129535421729088,-0.022123867645860,-0.001269618864171,0.190968841314316,-0.008651207201183));
res += mul(Get(s0,0,-dy), float4x4(-0.136352390050888,-0.129777103662491,-0.184153228998184,-0.031045675277710,0.021379258483648,0.167659133672714,-0.014052435755730,-0.232454195618629,0.063784889876842,-0.119730606675148,0.105525113642216,-0.068340301513672,-0.085043944418430,-0.278474897146225,-0.055195141583681,-0.093183487653732));
res += mul(Get(s0,0,0), float4x4(0.050996258854866,0.065329372882843,-0.107283979654312,-0.186462625861168,0.215239197015762,0.023067250847816,0.077871881425381,0.003029861720279,-0.015997517853975,0.146129265427589,-0.095128104090691,-0.061918638646603,0.169019863009453,0.161668211221695,-0.190985187888145,0.128032758831978));
res += mul(Get(s0,0,dy), float4x4(-0.035641212016344,-0.074939772486687,-0.138282164931297,-0.064567148685455,-0.142613470554352,0.068580836057663,-0.022105745971203,0.042078360915184,-0.078713938593864,-0.049076281487942,0.053841788321733,0.064768321812153,-0.015119577758014,-0.026182696223259,0.097945325076580,0.055408790707588));
res += mul(Get(s0,dx,-dy), float4x4(0.002711003413424,0.026184907183051,0.113061435520649,0.113809600472450,0.171937674283981,0.073562063276768,0.199216574430466,-0.115262150764465,0.111809954047203,-0.221750870347023,0.015462987124920,0.166129574179649,-0.072325564920902,0.230253174901009,-0.072805419564247,-0.115349315106869));
res += mul(Get(s0,dx,0), float4x4(-0.003074804553762,0.007694196421653,-0.308705240488052,0.006813287734985,-0.101739153265953,0.006170722190291,-0.054579924792051,-0.076026432216167,0.104182317852974,-0.024979120120406,0.030919646844268,0.118635758757591,0.049892403185368,-0.203094273805618,-0.032440651208162,0.137050658464432));
res += mul(Get(s0,dx,dy), float4x4(-0.088997967541218,0.076908297836781,-0.171438440680504,-0.171031326055527,-0.134498819708824,-0.173265039920807,-0.046009562909603,-0.088468939065933,0.146281763911247,0.107332497835159,0.127704679965973,-0.157284647226334,-0.039873220026493,-0.044160231947899,0.094858400523663,0.090495280921459));
res += mul(Get(s1,-dx,-dy), float4x4(0.054771900177002,0.056351851671934,-0.162630856037140,-0.033284317702055,0.097365476191044,0.075175307691097,0.035109497606754,0.028922716155648,0.041567750275135,0.053200975060463,0.071635454893112,-0.094782166182995,0.101040609180927,-0.032960992306471,0.138555884361267,-0.000921524304431));
res += mul(Get(s1,-dx,0), float4x4(-0.107564963400364,-0.115404948592186,-0.064318038523197,0.218570142984390,-0.069809146225452,-0.003231189912185,0.045529205352068,0.031550925225019,0.025732869282365,0.245841354131699,-0.005153197795153,0.069547705352306,-0.060281150043011,0.067299500107765,0.223950967192650,0.028873175382614));
res += mul(Get(s1,-dx,dy), float4x4(-0.057676535099745,0.038203075528145,0.130713596940041,-0.105022929608822,0.058689706027508,0.123670309782028,-0.063199482858181,0.105373397469521,0.054624177515507,-0.129901990294456,-0.001907609286718,0.128632292151451,-0.072521314024925,-0.021027803421021,0.083417475223541,-0.117815896868706));
res += mul(Get(s1,0,-dy), float4x4(0.050011329352856,-0.223192736506462,-0.081807874143124,-0.032775010913610,0.123939715325832,0.174822330474854,0.076782919466496,0.173897981643677,-0.073590248823166,-0.148995921015739,-0.097703039646149,-0.176993072032928,-0.026419183239341,-0.150750830769539,-0.063916131854057,0.018550824373960));
res += mul(Get(s1,0,0), float4x4(-0.019731681793928,0.072810158133507,-0.135157585144043,0.013934903778136,-0.011678359471262,0.155391290783882,0.188809022307396,-0.124529011547565,-0.159647539258003,0.165885031223297,-0.146914005279541,0.022694729268551,-0.103320851922035,-0.052569039165974,-0.012108255177736,0.154229238629341));
res += mul(Get(s1,0,dy), float4x4(-0.132051706314087,-0.012174990959466,0.153128623962402,0.039545230567455,0.064513385295868,0.028349038213491,-0.031307246536016,0.001214612741023,0.018568547442555,0.010380096733570,0.076189175248146,0.039499346166849,-0.036093898117542,0.045570936053991,-0.189648970961571,0.080718129873276));
res += mul(Get(s1,dx,-dy), float4x4(-0.100328333675861,0.249843403697014,0.022449886426330,-0.203835114836693,-0.062074568122625,0.061199899762869,0.107945755124092,0.112257219851017,0.025977674871683,-0.125586077570915,-0.062619015574455,0.068527817726135,0.165413275361061,0.105708427727222,-0.009267174638808,-0.117541544139385));
res += mul(Get(s1,dx,0), float4x4(-0.071945630013943,0.118961952626705,0.050534818321466,-0.216849371790886,-0.030904518440366,0.189605653285980,-0.140978172421455,-0.033439051359892,-0.179476007819176,-0.013530664145947,-0.200421258807182,-0.073362149298191,0.043335374444723,0.126610994338989,0.120672099292278,0.021097635850310));
res += mul(Get(s1,dx,dy), float4x4(-0.101591080427170,0.027943136170506,0.090063102543354,-0.128805011510849,-0.077227428555489,0.183293953537941,0.005898813251406,-0.082071483135223,0.081754431128502,-0.034375052899122,-0.031378861516714,0.277962803840637,0.160896345973015,-0.014006074517965,0.142478391528130,0.171143293380737));
res += mul(Get(s2,-dx,-dy), float4x4(-0.046148888766766,-0.019523711875081,-0.103090949356556,-0.220585301518440,-0.192751064896584,0.042275164276361,-0.153450995683670,-0.115738794207573,0.220946982502937,-0.023681212216616,0.116820313036442,0.033703114837408,0.048853274434805,-0.153767764568329,0.166254669427872,-0.031928494572639));
res += mul(Get(s2,-dx,0), float4x4(-0.143193617463112,0.053347535431385,-0.042311247438192,-0.021983172744513,-0.206429526209831,0.042686887085438,-0.134855791926384,0.000355777068762,-0.035542327910662,-0.057202156633139,0.027354493737221,-0.020649312064052,0.004281506408006,-0.197048529982567,0.117120467126369,0.126583039760590));
res += mul(Get(s2,-dx,dy), float4x4(-0.017044380307198,-0.103395797312260,0.135888680815697,0.020347310230136,0.115114331245422,0.060121703892946,0.154828429222107,0.042697668075562,-0.092636562883854,-0.154675573110580,0.064757019281387,0.049233812838793,0.197937175631523,0.035241395235062,0.056500047445297,0.078891463577747));
res += mul(Get(s2,0,-dy), float4x4(0.146244883537292,-0.011586322449148,0.076527267694473,-0.068752199411392,-0.089462101459503,0.094631291925907,-0.067784741520882,-0.166108593344688,0.069541364908218,-0.024988897144794,-0.148936137557030,-0.161487936973572,0.012077714316547,-0.001229566871189,-0.086711145937443,-0.038124561309814));
res += mul(Get(s2,0,0), float4x4(0.125494256615639,-0.043798815459013,0.042725637555122,0.097617208957672,-0.186528146266937,0.014623872004449,-0.060906939208508,-0.140036672353745,0.032515421509743,-0.124572224915028,-0.080299519002438,-0.051229666918516,-0.078740887343884,0.017389407381415,0.151692748069763,0.074651777744293));
res += mul(Get(s2,0,dy), float4x4(-0.140462532639503,0.046186778694391,0.128435119986534,-0.010036352090538,-0.021190747618675,0.212223544716835,-0.018609941005707,-0.163637608289719,-0.080480225384235,-0.128334552049637,-0.133026197552681,-0.096587508916855,0.071518272161484,-0.116629078984261,-0.084696501493454,-0.015961658209562));
res += mul(Get(s2,dx,-dy), float4x4(-0.079944364726543,0.062846563756466,0.039815634489059,0.164481922984123,-0.017336422577500,-0.003446510061622,-0.194084197282791,0.381249397993088,0.072900176048279,0.016670066863298,-0.171648576855659,0.003147148527205,-0.041365083307028,0.087842069566250,-0.097000807523727,-0.008917634375393));
res += mul(Get(s2,dx,0), float4x4(0.127779453992844,0.090233728289604,0.032619941979647,0.007277308497578,0.091674573719501,-0.026299210265279,0.055411070585251,-0.011862302199006,-0.017853090539575,-0.011261729523540,-0.014632295817137,-0.056461893022060,0.002647938206792,0.019256617873907,-0.078506186604500,-0.040305592119694));
res += mul(Get(s2,dx,dy), float4x4(0.110176153481007,-0.067904546856880,0.154241085052490,0.129639104008675,-0.245316788554192,-0.159771800041199,-0.129531651735306,-0.048986975103617,0.058481376618147,-0.109214477241039,-0.181759953498840,-0.085196159780025,-0.026190387085080,0.105798900127411,0.025804106146097,0.001618907321244));
res += mul(Get(s3,-dx,-dy), float4x4(0.071406707167625,0.134304523468018,0.043280769139528,-0.160076916217804,-0.009561633691192,0.069747947156429,0.042938034981489,0.130630105733871,0.030483962967992,-0.029722405597568,0.061019264161587,0.082708545029163,-0.079104445874691,-0.085374899208546,0.004159945063293,-0.294015288352966));
res += mul(Get(s3,-dx,0), float4x4(0.172949835658073,0.145886689424515,0.056029465049505,-0.092358835041523,-0.029031744226813,-0.099189028143883,0.179255604743958,0.078738994896412,0.019815782085061,-0.026481673121452,-0.179939195513725,-0.056465666741133,-0.000264585862169,0.049806989729404,0.098576001822948,-0.051325403153896));
res += mul(Get(s3,-dx,dy), float4x4(0.094620116055012,0.173067733645439,0.009526167064905,-0.097138017416000,0.036604445427656,-0.034279774874449,0.037586957216263,0.190715461969376,-0.126847863197327,0.189590826630592,-0.038585815578699,0.084463760256767,0.248652815818787,-0.018380193039775,0.203477159142494,-0.090029016137123));
res += mul(Get(s3,0,-dy), float4x4(0.142447754740715,-0.161474213004112,0.066506229341030,-0.134658277034760,0.224213212728500,-0.072857029736042,-0.128161758184433,-0.142181351780891,-0.132487922906876,0.114496082067490,0.002841239329427,-0.015671512112021,-0.123293951153755,-0.078861132264137,0.095218077301979,-0.056931812316179));
res += mul(Get(s3,0,0), float4x4(0.130094826221466,-0.060588855296373,-0.009004226885736,0.085542589426041,0.054472878575325,0.126424714922905,0.005211155395955,-0.046790350228548,0.062801390886307,0.018652342259884,0.044844776391983,-0.033240288496017,-0.179099053144455,0.207868620753288,0.209752932190895,-0.048974461853504));
res += mul(Get(s3,0,dy), float4x4(-0.072915002703667,-0.026917008683085,0.068206630647182,-0.007143094204366,-0.118720121681690,0.003649657126516,0.007049154490232,-0.133188933134079,-0.015684261918068,0.033754628151655,0.025087110698223,-0.126279979944229,-0.009094816632569,0.212564796209335,-0.125911816954613,-0.039428178220987));
res += mul(Get(s3,dx,-dy), float4x4(-0.035233292728662,0.108727321028709,0.055533118546009,-0.202947020530701,-0.092667855322361,-0.054673992097378,0.071829669177532,0.077061593532562,0.010863110423088,-0.066951416432858,-0.171110749244690,-0.180620506405830,0.280436873435974,-0.037746749818325,0.098337277770042,-0.192591175436974));
res += mul(Get(s3,dx,0), float4x4(0.012422626838088,-0.018843697384000,-0.007314755115658,-0.089446619153023,-0.060502938926220,-0.035383980721235,-0.074041984975338,-0.077895320951939,-0.196891114115715,0.049387037754059,-0.163152247667313,0.085380360484123,-0.045362558215857,-0.141628310084343,-0.051227640360594,0.263333588838577));
res += mul(Get(s3,dx,dy), float4x4(0.040101554244757,-0.128280475735664,0.051728084683418,-0.102708376944065,0.055903453379869,-0.105583608150482,-0.093525283038616,0.060467362403870,0.033280886709690,0.164739087224007,0.052056010812521,-0.074538901448250,-0.165241330862045,0.046304758638144,-0.012245542369783,-0.164604872465134));
return max(float4(0,0,0,0), res);
}
