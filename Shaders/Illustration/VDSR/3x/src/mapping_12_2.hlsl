sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.176492407917976,0.171647310256958,0.183550506830215,0.294459581375122,-0.077768728137016,-0.117903985083103,-0.051806624978781,-0.323279023170471,0.053410440683365,0.056733753532171,0.373286098241806,0.034374203532934,-0.000979815958999,0.046393860131502,-0.169680565595627,0.087355971336365));
res += mul(Get(s0,-dx,0), float4x4(0.174275383353233,-0.211394280195236,0.053544651716948,0.146022260189056,0.101011261343956,0.073674842715263,0.245529577136040,-0.008769147098064,0.047851663082838,0.119601808488369,0.523252308368683,0.043621167540550,0.010406704619527,0.304424047470093,-0.063477352261543,0.040420413017273));
res += mul(Get(s0,-dx,dy), float4x4(-0.234224170446396,-0.102299809455872,0.050284657627344,0.023100299760699,0.046426322311163,-0.035524304956198,-0.158484891057014,0.001422381959856,0.021111540496349,-0.087660506367683,-0.206611499190331,0.173807784914970,-0.018701341003180,0.191342428326607,0.104009903967381,-0.007161643821746));
res += mul(Get(s0,0,-dy), float4x4(-0.115869387984276,0.112219624221325,-0.136895865201950,0.321516424417496,-0.053928993642330,-0.035584516823292,-0.056622352451086,0.075274705886841,-0.038701582700014,0.130445152521133,-0.204228222370148,-0.230706274509430,0.121809601783752,0.110619731247425,-0.148930221796036,-0.086917012929916));
res += mul(Get(s0,0,0), float4x4(0.023129638284445,-0.012474185787141,-0.034421678632498,-0.220746755599976,0.107646018266678,0.151017650961876,0.231795743107796,0.178541526198387,0.074402473866940,0.024623483419418,-0.163730069994926,0.061419360339642,0.055304910987616,-0.000597379985265,-0.204772382974625,-0.192489042878151));
res += mul(Get(s0,0,dy), float4x4(-0.123833753168583,-0.224661231040955,-0.111758291721344,-0.053209345787764,-0.013482338748872,0.010438703931868,-0.019828002899885,-0.057072117924690,-0.050733886659145,-0.128427565097809,-0.129028126597404,0.129811480641365,-0.014680859632790,0.053471993654966,-0.075544446706772,-0.106267064809799));
res += mul(Get(s0,dx,-dy), float4x4(-0.000640069891233,0.115523271262646,0.039558053016663,0.050422694534063,0.043759074062109,-0.062743820250034,0.061565015465021,0.032605841755867,0.078122235834599,0.122882269322872,-0.100676022469997,0.034706927835941,-0.019109183922410,-0.046788074076176,0.033938024193048,-0.095215290784836));
res += mul(Get(s0,dx,0), float4x4(-0.070429861545563,-0.185337230563164,0.040088005363941,-0.207457005977631,0.071927227079868,0.082191355526447,0.348086982965469,0.055805262178183,-0.013365380465984,-0.122062318027020,0.059748593717813,-0.096254229545593,0.002784220967442,-0.020483693107963,-0.041811309754848,-0.109034761786461));
res += mul(Get(s0,dx,dy), float4x4(-0.053648073226213,-0.158298090100288,-0.148348599672318,-0.143353596329689,0.021918825805187,0.021485010161996,-0.023041659966111,0.005787099711597,-0.067078806459904,-0.104318171739578,-0.076670579612255,-0.145324349403381,-0.046881183981895,-0.096405617892742,-0.150530338287354,-0.038924578577280));
res += mul(Get(s1,-dx,-dy), float4x4(0.011421483010054,0.130024328827858,-0.092903345823288,0.016372578218579,0.060233753174543,-0.074653975665569,0.037997722625732,-0.071901157498360,0.081268660724163,0.014187460765243,-0.240729555487633,-0.129236161708832,0.190096929669380,0.147614985704422,-0.075225271284580,0.068283729255199));
res += mul(Get(s1,-dx,0), float4x4(-0.043685805052519,0.070135422050953,-0.005442121997476,-0.106257662177086,-0.117365509271622,0.020146531984210,0.072352312505245,0.111740157008171,-0.017904194071889,0.065554618835449,-0.148129254579544,-0.050975665450096,0.030649797990918,-0.110143601894379,-0.087000153958797,0.050006728619337));
res += mul(Get(s1,-dx,dy), float4x4(-0.121263496577740,-0.065975956618786,-0.107873216271400,-0.015569642186165,0.095318689942360,0.017693804576993,-0.093481019139290,-0.167372092604637,0.199891507625580,0.081482648849487,-0.051491681486368,0.060859020799398,0.005755078978837,0.084473781287670,-0.060977883636951,-0.027142329141498));
res += mul(Get(s1,0,-dy), float4x4(0.068087711930275,0.153414860367775,0.289418876171112,-0.147292748093605,0.174296796321869,-0.202702805399895,0.187152385711670,0.006929210852832,0.102324984967709,-0.118616357445717,-0.103883802890778,-0.143892839550972,0.048913676291704,-0.064943172037601,-0.120128452777863,-0.131535038352013));
res += mul(Get(s1,0,0), float4x4(-0.057054501026869,-0.087332211434841,0.008140778169036,-0.071898199617863,-0.041814390569925,0.017007486894727,0.062850825488567,0.202669665217400,-0.116483911871910,0.134489879012108,-0.136394560337067,-0.000939310120884,-0.093260094523430,-0.127166256308556,0.018362870439887,-0.053559381514788));
res += mul(Get(s1,0,dy), float4x4(-0.132734075188637,-0.074569486081600,-0.098016805946827,0.040344621986151,0.123939521610737,-0.069481253623962,0.073069319128990,0.073966056108475,0.031210578978062,0.013752794824541,-0.059885505586863,0.053369276225567,0.023234220221639,0.187681779265404,-0.194907277822495,0.005654322449118));
res += mul(Get(s1,dx,-dy), float4x4(0.040916815400124,0.133108228445053,-0.178426533937454,0.115238301455975,0.129227623343468,-0.208371698856354,0.063396587967873,0.042996156960726,0.127291053533554,-0.080447174608707,0.124181680381298,-0.203606441617012,-0.111906006932259,-0.208419963717461,0.126013293862343,-0.212328761816025));
res += mul(Get(s1,dx,0), float4x4(-0.034724052995443,-0.113941796123981,-0.094792857766151,0.234919041395187,0.020043898373842,-0.104645825922489,-0.077866166830063,0.098351776599884,-0.113346315920353,-0.018474454060197,-0.136306136846542,-0.088809132575989,-0.064185544848442,-0.126071065664291,0.061349190771580,0.074040845036507));
res += mul(Get(s1,dx,dy), float4x4(-0.158980950713158,-0.116961546242237,-0.133278563618660,-0.156998336315155,0.034718524664640,0.032790776342154,0.010593391954899,0.037119399756193,0.056517783552408,0.090122118592262,-0.210740342736244,0.055059872567654,-0.024704966694117,0.051614932715893,-0.096317589282990,0.253837406635284));
res += mul(Get(s2,-dx,-dy), float4x4(-0.036576550453901,0.129881173372269,0.027204496785998,-0.067179381847382,-0.022875087335706,0.099200531840324,-0.070935457944870,-0.017361229285598,0.023947928100824,-0.021704193204641,-0.036456953734159,0.066824145615101,0.147043257951736,-0.001101765199564,0.203537076711655,0.097966589033604));
res += mul(Get(s2,-dx,0), float4x4(0.019470667466521,0.000790025340393,-0.092130340635777,-0.091264322400093,0.305854409933090,0.156043440103531,0.172813192009926,-0.008855110965669,-0.044843800365925,0.043606940656900,-0.113544195890427,-0.122802473604679,0.090964846313000,-0.037583697587252,0.053391970694065,-0.046376455575228));
res += mul(Get(s2,-dx,dy), float4x4(0.364483714103699,0.006078821141273,-0.052718803286552,0.130635932087898,0.103748753666878,0.171318471431732,-0.110519446432590,0.049623638391495,-0.030577283352613,-0.224120602011681,-0.177184611558914,0.041497934609652,0.395055949687958,0.094021864235401,0.058552380651236,0.160314157605171));
res += mul(Get(s2,0,-dy), float4x4(-0.145528197288513,0.032416813075542,0.146742790937424,-0.035878550261259,-0.093137688934803,-0.046213332563639,-0.122263595461845,0.062938094139099,-0.225579544901848,-0.089509852230549,-0.074968576431274,-0.191395357251167,0.017666045576334,-0.051851667463779,0.259594738483429,0.173738747835159));
res += mul(Get(s2,0,0), float4x4(-0.086018182337284,0.061471689492464,0.197262957692146,0.083224788308144,0.082433186471462,0.024303246289492,0.099494807422161,0.003347868565470,-0.057663328945637,-0.062787152826786,-0.057792782783508,-0.156653910875320,-0.098942600190639,0.028092533349991,0.043177042156458,0.037642601877451));
res += mul(Get(s2,0,dy), float4x4(-0.007053258363158,-0.104807510972023,-0.011932584457099,-0.044408805668354,-0.099617056548595,-0.007231940981001,-0.188640907406807,0.074204593896866,0.294596642255783,-0.210001245141029,-0.023351805284619,0.285241663455963,-0.061004612594843,0.093986518681049,0.039783000946045,0.201352000236511));
res += mul(Get(s2,dx,-dy), float4x4(-0.070950634777546,-0.171952396631241,0.075047604739666,0.047085534781218,-0.078458458185196,-0.078155867755413,0.361229360103607,-0.004766616970301,0.041343092918396,-0.079631984233856,0.114169627428055,-0.039438344538212,0.101347394287586,0.041423652321100,0.201044812798500,-0.069509103894234));
res += mul(Get(s2,dx,0), float4x4(-0.132590666413307,0.091485626995564,-0.114807263016701,0.193418473005295,0.222251385450363,-0.053110267966986,-0.025954596698284,-0.090984091162682,0.031827315688133,-0.062319483608007,0.015369649045169,0.147240906953812,0.056313276290894,-0.037224389612675,-0.076883532106876,0.130939379334450));
res += mul(Get(s2,dx,dy), float4x4(-0.017461514100432,0.076226055622101,-0.100225113332272,-0.036275200545788,-0.141087323427200,-0.080866709351540,-0.105857349932194,-0.142930880188942,-0.072225056588650,-0.146467864513397,-0.142651304602623,-0.053385697305202,0.183952897787094,0.029394578188658,-0.176048189401627,0.094678409397602));
res += mul(Get(s3,-dx,-dy), float4x4(0.101761557161808,-0.095063313841820,-0.050655387341976,-0.271463990211487,0.006513382308185,0.232097193598747,-0.110629633069038,0.112918309867382,0.027322370558977,0.023473029956222,0.196273967623711,-0.070409648120403,0.200002685189247,-0.063428908586502,0.053515058010817,0.127658471465111));
res += mul(Get(s3,-dx,0), float4x4(0.087513379752636,-0.051437385380268,-0.162097990512848,-0.036570601165295,0.086742356419563,-0.033027041703463,-0.038782220333815,-0.124965272843838,0.238493487238884,0.062929332256317,0.090754471719265,0.102427028119564,0.030599553138018,-0.129748240113258,0.180718734860420,-0.004504108801484));
res += mul(Get(s3,-dx,dy), float4x4(-0.119678117334843,0.033943466842175,0.026470540091395,0.068749979138374,-0.018745142966509,0.135454893112183,-0.063030362129211,0.126770198345184,0.218997403979301,-0.025121554732323,-0.084773711860180,0.198053598403931,0.011480347253382,0.074224628508091,0.397899925708771,0.342737793922424));
res += mul(Get(s3,0,-dy), float4x4(0.150906130671501,0.015006143599749,0.041843436658382,-0.134051457047462,-0.042777802795172,0.098319441080093,0.026731671765447,0.025361005216837,-0.044217500835657,0.079372435808182,0.387745410203934,0.092572018504143,0.028591107577085,-0.052169509232044,-0.029899779707193,-0.094153292477131));
res += mul(Get(s3,0,0), float4x4(0.064031459391117,-0.033103454858065,-0.123821653425694,-0.190126881003380,-0.062809444963932,-0.132560059428215,0.120540194213390,-0.178245499730110,0.016119031235576,-0.045917730778456,0.085509166121483,0.151275679469109,-0.014294101856649,-0.154916316270828,-0.030197309330106,-0.064587771892548));
res += mul(Get(s3,0,dy), float4x4(-0.128917261958122,0.040680900216103,-0.153495654463768,0.088380999863148,-0.009543376974761,-0.072829477488995,-0.080903060734272,-0.058561395853758,0.101615317165852,0.012476834468544,-0.169309005141258,0.221183046698570,0.070637054741383,-0.125029027462006,-0.039724808186293,0.010298109613359));
res += mul(Get(s3,dx,-dy), float4x4(0.124065056443214,-0.115878686308861,0.301626980304718,-0.070459842681885,-0.143940806388855,0.339090079069138,0.074105024337769,-0.289190590381622,-0.056368101388216,-0.005991509649903,-0.068284273147583,0.033586081117392,0.031755886971951,-0.045795015990734,0.192274212837219,0.007975474931300));
res += mul(Get(s3,dx,0), float4x4(0.074829049408436,-0.067097991704941,0.018738485872746,0.023976502940059,-0.234590217471123,-0.170788154006004,0.146448284387589,-0.148747012019157,-0.155254378914833,0.009114915505052,0.299202799797058,-0.043111655861139,-0.018512636423111,-0.141033813357353,-0.024152683094144,-0.092954643070698));
res += mul(Get(s3,dx,dy), float4x4(0.001769268303178,0.007549297530204,-0.024199385195971,-0.079862244427204,-0.079099103808403,-0.172083526849747,-0.102626524865627,-0.166066661477089,0.106474950909615,-0.021101003512740,0.076728083193302,-0.007429386489093,-0.079106651246548,-0.116061188280582,-0.158505126833916,-0.205374255776405));
return max(float4(0,0,0,0), res);
}
