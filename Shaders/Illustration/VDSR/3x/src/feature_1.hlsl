sampler s0 : register(s0);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(x, y)   tex2D(s0, tex + float2(x, y))[0]

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += float4(-0.009320509620011,0.708714306354523,-0.196964129805565,-0.374819666147232) * Get(-dx,-dy);
res += float4(0.002048211870715,-0.066089577972889,-0.639731466770172,-0.437096118927002) * Get(-dx,0);
res += float4(-0.011584454216063,0.436221390962601,0.099270522594452,-0.343092352151871) * Get(-dx,dy);
res += float4(-0.012512732297182,0.421436667442322,-0.381792366504669,0.018549136817455) * Get(0,-dy);
res += float4(-0.011542840860784,-0.704582452774048,-0.274931758642197,-0.087083667516708) * Get(0,0);
res += float4(-0.016333991661668,-0.180155277252197,0.972814321517944,-0.091227307915688) * Get(0,dy);
res += float4(0.005221707280725,0.618664026260376,-0.272231936454773,0.520105183124542) * Get(dx,-dy);
res += float4(0.000124127647723,-0.691785097122192,-0.440895408391953,0.458126962184906) * Get(dx,0);
res += float4(-0.006732525769621,-0.512502253055573,0.249320134520531,0.363798290491104) * Get(dx,dy);
return max(float4(0,0,0,0), res);
}
