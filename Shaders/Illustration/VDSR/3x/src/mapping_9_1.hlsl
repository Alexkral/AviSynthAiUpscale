sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.022058136761189,0.015242168679833,0.097984336316586,0.013115813024342,0.068310908973217,-0.000779660360422,-0.118119589984417,0.133940115571022,0.099183127284050,0.102807886898518,0.164068371057510,0.094613783061504,0.022041548043489,-0.027796952053905,0.182730183005333,-0.025875512510538));
res += mul(Get(s0,-dx,0), float4x4(-0.046126652508974,0.018960971385241,0.032405834645033,-0.040003716945648,-0.059479903429747,0.039152130484581,0.113826192915440,-0.061489865183830,-0.117119431495667,0.023413905873895,0.017789686098695,-0.021583748981357,-0.070589885115623,0.079500503838062,0.193592548370361,0.018939126282930));
res += mul(Get(s0,-dx,dy), float4x4(0.074834458529949,-0.037357673048973,-0.180976107716560,0.101363666355610,0.148705825209618,-0.064887471497059,0.018081771209836,-0.040571343153715,-0.049692656844854,0.138735100626945,-0.042887598276138,-0.093484885990620,-0.071513831615448,0.097901627421379,0.197662785649300,-0.246500253677368));
res += mul(Get(s0,0,-dy), float4x4(0.106734387576580,-0.052911590784788,-0.060359813272953,0.019188161939383,0.013314126059413,-0.166793942451477,-0.098530828952789,0.277992844581604,0.203009575605392,0.160452470183372,0.009034438058734,-0.093902885913849,0.292836576700211,-0.040950261056423,0.069886676967144,-0.212113112211227));
res += mul(Get(s0,0,0), float4x4(0.044285260140896,-0.016950406134129,-0.062462951987982,0.082771562039852,-0.052891366183758,0.029594134539366,0.117948882281780,0.147172540426254,-0.088428974151611,-0.055561993271112,0.049085464328527,0.032848525792360,-0.126967310905457,-0.023477451875806,0.054050847887993,0.034362431615591));
res += mul(Get(s0,0,dy), float4x4(-0.053760699927807,-0.049405895173550,-0.031704284250736,-0.003656794317067,0.081859678030014,0.205311954021454,0.130296647548676,0.102973014116287,0.134877294301987,0.044411338865757,0.134129524230957,-0.014376710169017,0.047528930008411,-0.125535801053047,-0.136672064661980,-0.147343039512634));
res += mul(Get(s0,dx,-dy), float4x4(0.079633459448814,-0.082772053778172,-0.125094622373581,-0.016098426654935,0.213974311947823,-0.035301070660353,0.179526194930077,0.043904293328524,-0.127945318818092,0.221120163798332,0.071716107428074,0.061752397567034,-0.047819063067436,-0.270902663469315,0.114140145480633,0.137385904788971));
res += mul(Get(s0,dx,0), float4x4(-0.039903257042170,-0.122684113681316,0.015128145925701,-0.075533807277679,0.011842203326523,0.063256464898586,0.118342004716396,0.033917084336281,-0.101811438798904,-0.138747259974480,-0.069844499230385,0.085890144109726,-0.041851691901684,0.209595724940300,-0.024244435131550,0.393414914608002));
res += mul(Get(s0,dx,dy), float4x4(-0.044508378952742,-0.110226966440678,0.068654753267765,-0.071841821074486,0.109178617596626,0.103401698172092,-0.022625343874097,-0.014503115788102,-0.031363230198622,-0.025855593383312,-0.138233602046967,-0.064867168664932,-0.090096309781075,0.176185131072998,-0.074658527970314,-0.049079041928053));
res += mul(Get(s1,-dx,-dy), float4x4(-0.078511737287045,-0.028451329097152,0.058907210826874,0.119246356189251,-0.081486992537975,0.048616185784340,0.057949006557465,0.078130111098289,-0.090926058590412,0.167336151003838,0.100157760083675,-0.189135834574699,-0.127538412809372,0.003415034152567,-0.176247373223305,0.070498540997505));
res += mul(Get(s1,-dx,0), float4x4(-0.000396453251597,0.170781478285789,0.008854574523866,0.074649423360825,0.160335212945938,0.051278784871101,0.022904725745320,-0.188580855727196,0.400124877691269,0.097277179360390,-0.074563354253769,-0.166543945670128,0.111704878509045,0.081916928291321,-0.179238438606262,-0.027171209454536));
res += mul(Get(s1,-dx,dy), float4x4(0.018981279805303,0.096297785639763,0.006095673888922,-0.035799875855446,0.025700211524963,0.034358404576778,-0.038998134434223,-0.202367126941681,-0.179877474904060,-0.072105333209038,-0.100125610828400,0.407142251729965,-0.115768045186996,0.089914582669735,-0.099111750721931,0.072903752326965));
res += mul(Get(s1,0,-dy), float4x4(-0.030584247782826,-0.004871422424912,-0.087467260658741,0.012945354916155,-0.045953940600157,0.149382054805756,-0.052582181990147,-0.034049522131681,-0.052354954183102,-0.041656676679850,0.021570434793830,-0.144296690821648,0.136979147791862,-0.146153286099434,-0.008793253451586,-0.034466687589884));
res += mul(Get(s1,0,0), float4x4(-0.073483422398567,0.291517287492752,-0.032972298562527,0.001076674670912,-0.006468917708844,-0.079067043960094,0.028209924697876,0.113052614033222,0.294588238000870,-0.049062438309193,-0.036548808217049,-0.016697043552995,0.092972859740257,-0.014418079517782,-0.042809668928385,-0.011316142044961));
res += mul(Get(s1,0,dy), float4x4(-0.009706496261060,0.102130062878132,-0.007285203319043,0.043539237231016,-0.020437959581614,-0.118666253983974,-0.047954618930817,-0.051385425031185,-0.114229202270508,-0.143311202526093,-0.093879289925098,0.065646521747112,-0.241555258631706,-0.047601986676455,-0.081024639308453,-0.175187975168228));
res += mul(Get(s1,dx,-dy), float4x4(0.048777870833874,-0.026949379593134,0.027128102257848,-0.088358677923679,-0.002877956721932,-0.003845232771710,-0.019426427781582,-0.131722375750542,-0.133355513215065,0.030853219330311,-0.105630628764629,-0.191682428121567,-0.002092562848702,0.231977328658104,0.128223776817322,0.054335419088602));
res += mul(Get(s1,dx,0), float4x4(-0.009153694845736,0.111808054149151,0.134978950023651,-0.101464979350567,0.020083701238036,-0.045661814510822,0.057333327829838,-0.150787308812141,-0.138564899563789,0.385837912559509,-0.110842779278755,0.267507553100586,-0.365077316761017,0.282495617866516,-0.145187541842461,0.228017017245293));
res += mul(Get(s1,dx,dy), float4x4(0.007280435413122,0.068320639431477,0.057026330381632,-0.083928793668747,0.156518965959549,-0.120909243822098,-0.105477273464203,-0.093500666320324,-0.155768200755119,-0.086720675230026,0.248987928032875,-0.035178340971470,-0.240636497735977,0.321989774703979,-0.233116105198860,0.501347899436951));
res += mul(Get(s2,-dx,-dy), float4x4(0.008403507061303,-0.077396184206009,0.076845131814480,-0.079222127795219,-0.270770370960236,-0.037862002849579,-0.225799694657326,-0.125872343778610,-0.053106363862753,-0.194759190082550,0.124735318124294,0.034984838217497,0.049264952540398,-0.021836780011654,-0.074155822396278,0.211817532777786));
res += mul(Get(s2,-dx,0), float4x4(-0.071894906461239,-0.161085069179535,-0.041994471102953,-0.043394777923822,-0.207500323653221,0.179693102836609,-0.063427776098251,-0.213104411959648,0.381743073463440,-0.142643436789513,-0.009643075987697,0.278001397848129,-0.010137744247913,-0.022310785949230,0.156150579452515,-0.085945241153240));
res += mul(Get(s2,-dx,dy), float4x4(0.016363842412829,0.028689531609416,-0.002282347297296,-0.109116859734058,-0.162990927696228,-0.104810304939747,-0.003016043920070,-0.289792835712433,0.004534776788205,-0.124296054244041,-0.080144889652729,0.018469909206033,0.033079043030739,0.019324712455273,-0.014433844946325,-0.144323244690895));
res += mul(Get(s2,0,-dy), float4x4(0.021481323987246,-0.144737631082535,-0.034744780510664,-0.019549649208784,-0.194303601980209,0.143890902400017,-0.184993326663971,-0.126628056168556,-0.097281575202942,-0.105721183121204,0.090911492705345,0.126589685678482,-0.006116188596934,-0.058392267674208,0.035077761858702,0.076287560164928));
res += mul(Get(s2,0,0), float4x4(0.088988281786442,-0.141006171703339,-0.074725009500980,-0.076348796486855,-0.129015058279037,-0.064756855368614,0.051682330667973,-0.114015117287636,0.009670535102487,0.030527567490935,0.029450329020619,0.080867491662502,0.045205220580101,-0.111086532473564,0.005378693342209,0.022883366793394));
res += mul(Get(s2,0,dy), float4x4(0.133534744381905,-0.026607034727931,-0.108129680156708,-0.113380745053291,-0.141211956739426,-0.010743535123765,-0.085884496569633,-0.113062560558319,0.085420772433281,-0.095772698521614,-0.136916100978851,-0.023797351866961,0.156703367829323,-0.065838001668453,-0.100995138287544,-0.022612385451794));
res += mul(Get(s2,dx,-dy), float4x4(-0.101681649684906,-0.040581092238426,-0.071905829012394,-0.089112684130669,0.106415122747421,0.060582250356674,-0.418090820312500,-0.175481870770454,-0.120375379920006,0.089814841747284,-0.096574060618877,-0.132509738206863,0.095154739916325,-0.075251549482346,0.129410266876221,0.212422236800194));
res += mul(Get(s2,dx,0), float4x4(-0.059452500194311,-0.065658710896969,-0.125958502292633,-0.128977388143539,0.211123913526535,-0.055240835994482,0.748556911945343,-0.047166362404823,0.144888699054718,0.159538105130196,-0.142191678285599,-0.169352993369102,-0.007995773106813,-0.078083470463753,-0.047489427030087,0.141991272568703));
res += mul(Get(s2,dx,dy), float4x4(-0.072775423526764,-0.043388087302446,-0.215256437659264,-0.068896919488907,-0.051199179142714,-0.036842767149210,0.274391531944275,-0.045706398785114,-0.059420634061098,-0.122209407389164,-0.129988029599190,-0.250162422657013,0.224741250276566,0.181941524147987,-0.095518231391907,-0.075756676495075));
res += mul(Get(s3,-dx,-dy), float4x4(-0.145491912961006,0.113630726933479,0.304122567176819,-0.158706799149513,-0.240863651037216,-0.106540970504284,0.063555367290974,-0.072451986372471,0.259296000003815,-0.166126698255539,0.092844925820827,0.059113375842571,-0.086042843759060,0.208322450518608,0.135630309581757,-0.123186022043228));
res += mul(Get(s3,-dx,0), float4x4(-0.193140253424644,0.042932972311974,0.054998673498631,-0.037552028894424,-0.068870961666107,-0.101585425436497,0.086649052798748,-0.091622024774551,0.072650909423828,-0.018374502658844,0.062932536005974,0.145342558622360,-0.066775552928448,-0.083435773849487,-0.164788231253624,0.019074521958828));
res += mul(Get(s3,-dx,dy), float4x4(-0.113350532948971,0.046446785330772,0.161654964089394,-0.085844747722149,-0.051991660147905,-0.131357684731483,-0.083080694079399,0.007419397123158,-0.057765681296587,0.010026287287474,0.119106180965900,0.091312453150749,-0.019414141774178,-0.045682121068239,-0.063709154725075,0.003407414769754));
res += mul(Get(s3,0,-dy), float4x4(0.016177192330360,0.019233955070376,0.047085180878639,-0.076089188456535,0.090383015573025,-0.065144196152687,-0.028280945494771,-0.016915388405323,-0.061100028455257,-0.042236510664225,-0.056383654475212,-0.036844525486231,0.058273818343878,0.049999400973320,0.059003729373217,-0.097491927444935));
res += mul(Get(s3,0,0), float4x4(0.011411201208830,-0.174764364957809,0.077014319598675,0.077582299709320,0.199999317526817,-0.106448978185654,0.066521957516670,-0.116206958889961,0.033130466938019,0.082676194608212,0.018631678074598,-0.008543461561203,0.073260113596916,-0.013984679244459,0.044617105275393,0.009915940463543));
res += mul(Get(s3,0,dy), float4x4(0.378533929586411,-0.062235657125711,-0.037381932139397,-0.114439368247986,-0.175471618771553,-0.189733624458313,-0.079388298094273,0.062356535345316,0.024438925087452,0.073656730353832,0.034931771457195,0.087296664714813,-0.079568356275558,0.102001927793026,-0.052765626460314,-0.138144075870514));
res += mul(Get(s3,dx,-dy), float4x4(-0.026103705167770,0.264882981777191,0.128115743398666,0.011593466624618,-0.178515613079071,-0.036621697247028,-0.036589253693819,-0.051987294107676,0.067375883460045,-0.180578172206879,0.028071176260710,0.183061465620995,0.373237937688828,0.107657745480537,-0.074484989047050,0.025462618097663));
res += mul(Get(s3,dx,0), float4x4(-0.039348717778921,-0.074169091880322,0.114529341459274,-0.113516986370087,0.320256799459457,0.004985800012946,-0.223403438925743,-0.136789217591286,0.002429488813505,-0.070949785411358,0.037626951932907,-0.001887057442218,0.090223044157028,-0.096283115446568,-0.095542319118977,0.156885892152786));
res += mul(Get(s3,dx,dy), float4x4(0.180210009217262,-0.060185179114342,0.061724688857794,0.063403271138668,-0.145343109965324,0.044304981827736,-0.138468384742737,0.186644703149796,-0.046028111129999,0.078450568020344,0.055424634367228,-0.097662329673767,0.068288631737232,-0.025504730641842,-0.141535833477974,-0.045607402920723));
return max(float4(0,0,0,0), res);
}
