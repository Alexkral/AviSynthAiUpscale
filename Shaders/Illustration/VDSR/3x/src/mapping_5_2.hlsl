sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.045301280915737,0.055010393261909,-0.231528818607330,0.041503768414259,-0.139975920319557,-0.013334149494767,-0.041894681751728,0.164637386798859,-0.048624411225319,-0.236569568514824,0.261520713567734,-0.002385577419773,-0.014162134379148,-0.196273893117905,-0.040613751858473,-0.051164742559195));
res += mul(Get(s0,-dx,0), float4x4(0.062796443700790,0.055387187749147,0.038913674652576,0.127112030982971,-0.018309608101845,0.045660436153412,0.077022135257721,0.290435075759888,-0.118613868951797,0.024551989510655,0.090140923857689,-0.051277179270983,-0.066121138632298,-0.119570791721344,0.120044887065887,0.112688057124615));
res += mul(Get(s0,-dx,dy), float4x4(0.072698555886745,-0.013943558558822,0.080084845423698,0.168246820569038,-0.125578343868256,-0.057538226246834,-0.377467364072800,-0.127291917800903,-0.075269527733326,-0.062361110001802,-0.076838724315166,-0.002425701823086,0.220852732658386,0.011604936793447,-0.004436800722033,-0.176180914044380));
res += mul(Get(s0,0,-dy), float4x4(-0.027126858010888,0.124658003449440,-0.013415939174592,-0.094546563923359,0.095860473811626,-0.125013455748558,-0.103730306029320,0.176964730024338,0.128687977790833,-0.060447983443737,0.215696781873703,-0.049054142087698,0.091082796454430,0.006244845688343,-0.030555926263332,0.007375648710877));
res += mul(Get(s0,0,0), float4x4(-0.155415415763855,-0.081233263015747,0.158150270581245,0.060616176575422,-0.014769485220313,-0.003208680544049,0.250492900609970,0.029701855033636,-0.180984362959862,-0.024133145809174,-0.025829955935478,-0.097217835485935,-0.053393073379993,-0.025890232995152,0.049731597304344,0.133731871843338));
res += mul(Get(s0,0,dy), float4x4(-0.083978459239006,-0.023079657927155,-0.029317466542125,0.126718878746033,-0.073696166276932,-0.007915130816400,-0.055644966661930,0.060088597238064,0.056722946465015,-0.002915190998465,-0.085323788225651,-0.122068360447884,0.168829634785652,-0.137571305036545,0.019604993984103,-0.033805035054684));
res += mul(Get(s0,dx,-dy), float4x4(0.028123097494245,0.020329635590315,0.200522974133492,-0.000286036985926,-0.058405086398125,-0.071248486638069,0.008252729661763,-0.126324445009232,0.222302898764610,-0.099970534443855,0.199940219521523,0.034376140683889,0.076698362827301,0.102981723845005,0.119401380419731,0.181502640247345));
res += mul(Get(s0,dx,0), float4x4(-0.093591615557671,-0.074567437171936,0.195743590593338,-0.010226693004370,0.043766517192125,-0.074829258024693,0.253644704818726,-0.167545020580292,0.175048589706421,-0.142917931079865,-0.008147450163960,0.021744832396507,-0.162238091230392,-0.033219050616026,0.109940476715565,0.215274244546890));
res += mul(Get(s0,dx,dy), float4x4(0.048186227679253,-0.147511035203934,-0.164425611495972,-0.082054607570171,-0.005935848690569,-0.138033911585808,-0.112292088568211,-0.012782312929630,0.132692724466324,0.216321125626564,-0.109486088156700,-0.139231666922569,0.031379964202642,-0.093104802072048,0.129741296172142,-0.100494317710400));
res += mul(Get(s1,-dx,-dy), float4x4(-0.198940783739090,0.197373628616333,0.020770197734237,-0.063248008489609,0.062199987471104,0.004837027750909,0.005606425926089,-0.269907504320145,0.197069302201271,0.008319255895913,0.087627924978733,0.049013555049896,0.173732846975327,-0.068909466266632,-0.034053333103657,0.013605947606266));
res += mul(Get(s1,-dx,0), float4x4(-0.208908766508102,0.094989657402039,-0.137841731309891,-0.023553384467959,-0.132005244493484,-0.097934126853943,-0.136234551668167,0.097344659268856,0.124038420617580,0.023621333763003,-0.094418428838253,-0.126700192689896,-0.060839053243399,-0.123783499002457,-0.210821598768234,0.061967659741640));
res += mul(Get(s1,-dx,dy), float4x4(-0.184939622879028,0.090840488672256,-0.042708825320005,-0.120538592338562,-0.093889743089676,-0.065578773617744,0.100749269127846,0.132061034440994,-0.005600615404546,-0.127348124980927,-0.057251214981079,0.006663369480520,-0.201178550720215,-0.044786430895329,-0.023362288251519,0.151015341281891));
res += mul(Get(s1,0,-dy), float4x4(-0.093275614082813,-0.168612003326416,-0.086951516568661,0.039620567113161,-0.022868312895298,0.021196931600571,0.021695416420698,-0.075478166341782,0.108857870101929,0.168402016162872,-0.033081308007240,0.353229343891144,-0.102036230266094,-0.053261693567038,0.163737773895264,-0.176711216568947));
res += mul(Get(s1,0,0), float4x4(-0.099775381386280,0.062432181090117,-0.117093868553638,0.094597861170769,-0.001522507402115,-0.073927201330662,-0.113903500139713,0.104448914527893,0.052745454013348,-0.070655323565006,-0.012889225035906,-0.003381087444723,0.203204810619354,-0.132037594914436,0.140586167573929,0.090669974684715));
res += mul(Get(s1,0,dy), float4x4(-0.051240086555481,0.035549450665712,-0.041030246764421,-0.054263316094875,0.049170766025782,-0.159966662526131,0.052828665822744,-0.057128537446260,0.140788435935974,-0.128353044390678,-0.123417317867279,-0.044614430516958,0.124740079045296,-0.151808246970177,0.204710245132446,-0.105633988976479));
res += mul(Get(s1,dx,-dy), float4x4(-0.040304567664862,0.009345902130008,-0.041674237698317,0.158567249774933,-0.090632505714893,0.192404225468636,-0.115680858492851,-0.131870791316032,0.132897287607193,0.115821830928326,-0.061217606067657,0.165772333741188,-0.098145768046379,0.288857340812683,-0.079626791179180,-0.220372959971428));
res += mul(Get(s1,dx,0), float4x4(-0.000884601264261,0.186065748333931,-0.073426082730293,0.128751054406166,-0.103897564113140,0.118662893772125,-0.119796916842461,0.002685764571652,-0.127197071909904,0.079413503408432,-0.062914118170738,-0.009829797782004,0.046078000217676,0.165983259677887,-0.143497973680496,-0.050959285348654));
res += mul(Get(s1,dx,dy), float4x4(0.021385502070189,-0.018249891698360,-0.070960059762001,0.275361299514771,-0.006368727423251,-0.101666532456875,-0.283736258745193,0.015277155674994,0.017543910071254,-0.157210662961006,0.038553595542908,-0.141429796814919,0.077022425830364,-0.042042333632708,-0.029817353934050,-0.197350099682808));
res += mul(Get(s2,-dx,-dy), float4x4(0.101844534277916,-0.147890955209732,0.139718219637871,0.137969791889191,-0.072210796177387,-0.314270049333572,-0.177223771810532,-0.092868022620678,-0.058410700410604,0.037643175572157,-0.069763019680977,-0.022539449855685,0.118700124323368,-0.076803274452686,-0.111363351345062,-0.238640084862709));
res += mul(Get(s2,-dx,0), float4x4(-0.036459445953369,0.049950908869505,0.033078748732805,0.149468079209328,-0.076885372400284,-0.282919645309448,-0.103796385228634,-0.194806039333344,0.029423762112856,-0.018287479877472,-0.032118976116180,-0.171315848827362,0.045483794063330,-0.110964849591255,-0.128940537571907,-0.022504689171910));
res += mul(Get(s2,-dx,dy), float4x4(-0.002063896972686,0.059660952538252,-0.312593013048172,-0.020516501739621,-0.104695402085781,-0.188282564282417,-0.047197286039591,-0.114132583141327,-0.024021362885833,-0.018823221325874,-0.231860741972923,-0.123850591480732,-0.101901404559612,-0.064839772880077,-0.107392624020576,-0.003053806722164));
res += mul(Get(s2,0,-dy), float4x4(0.023057918995619,0.157261431217194,0.301396727561951,-0.280123829841614,-0.013177084736526,-0.072606578469276,-0.018275229260325,0.014887455850840,0.052470214664936,-0.105493538081646,0.051105894148350,-0.073538944125175,-0.059631291776896,0.076248794794083,0.126110762357712,-0.183412358164787));
res += mul(Get(s2,0,0), float4x4(0.112197630107403,-0.005309366621077,0.164915814995766,0.165625840425491,-0.032553222030401,-0.027242112904787,-0.013755445368588,-0.142554283142090,0.089410379528999,-0.032849911600351,0.028070371598005,0.080618485808372,-0.069770991802216,0.067573957145214,-0.083166889846325,0.128276407718658));
res += mul(Get(s2,0,dy), float4x4(0.160457685589790,-0.130692616105080,-0.124183721840382,0.034165449440479,-0.139794602990150,-0.156735315918922,-0.064187362790108,-0.066176287829876,0.131229266524315,0.109764829277992,0.086909234523773,0.026600258424878,-0.036652617156506,-0.011672309599817,-0.105084218084812,0.018613675609231));
res += mul(Get(s2,dx,-dy), float4x4(-0.203481465578079,0.133380532264709,0.048772752285004,-0.365337908267975,-0.056791823357344,-0.144185975193977,-0.001935326610692,-0.088433429598808,0.017053922638297,0.011937515810132,-0.082681432366371,-0.093868210911751,-0.221669167280197,0.114859715104103,0.028216453269124,-0.009962039068341));
res += mul(Get(s2,dx,0), float4x4(-0.099026955664158,-0.087154172360897,-0.031986899673939,0.130591586232185,-0.042123038321733,-0.077857881784439,-0.043343957513571,0.030162343755364,0.090457364916801,0.099284246563911,-0.153703466057777,0.033739343285561,-0.207856073975563,0.099008738994598,0.402208268642426,0.252956986427307));
res += mul(Get(s2,dx,dy), float4x4(-0.076921619474888,-0.117056541144848,-0.118014834821224,-0.235517278313637,-0.206496775150299,0.077339760959148,-0.019091764464974,0.107669264078140,0.103277288377285,0.095110945403576,0.033248033374548,-0.075315758585930,-0.281881690025330,-0.031185306608677,0.092656105756760,0.241652250289917));
res += mul(Get(s3,-dx,-dy), float4x4(-0.095274880528450,-0.165008693933487,0.007446387782693,-0.174757644534111,-0.126353919506073,-0.123487696051598,-0.099807187914848,-0.031439196318388,-0.201056271791458,-0.030333623290062,-0.058901704847813,-0.063403084874153,-0.156362816691399,0.016627000644803,-0.178539708256721,0.087067835032940));
res += mul(Get(s3,-dx,0), float4x4(-0.067033626139164,-0.100407987833023,0.016543699428439,0.026081079617143,-0.233466029167175,-0.004301707725972,-0.059255771338940,0.026955237612128,0.161189615726471,0.020948957651854,-0.243688166141510,-0.094364032149315,-0.069020994007587,-0.146595850586891,0.205835431814194,-0.027126362547278));
res += mul(Get(s3,-dx,dy), float4x4(-0.135052427649498,0.063745640218258,-0.075218118727207,0.063869141042233,-0.205810114741325,0.137103453278542,-0.254252642393112,-0.168981820344925,0.080986782908440,0.041779417544603,0.047999005764723,-0.076160021126270,-0.126283630728722,-0.151148736476898,-0.077756814658642,0.126508042216301));
res += mul(Get(s3,0,-dy), float4x4(-0.115735381841660,0.138009637594223,-0.047316581010818,0.001033572712913,-0.103289268910885,-0.002764897886664,-0.079852700233459,-0.018058484420180,-0.235248655080795,-0.056907135993242,0.148664861917496,-0.026260569691658,-0.042917244136333,-0.054588712751865,0.002304819878191,-0.080639936029911));
res += mul(Get(s3,0,0), float4x4(-0.072136200964451,0.000473978871014,-0.060361582785845,-0.042550269514322,-0.138690784573555,-0.101029843091965,-0.139473602175713,0.026399504393339,0.141164451837540,-0.089099377393723,-0.098572641611099,-0.116313554346561,-0.093559674918652,-0.119232423603535,-0.051362931728363,-0.111339367926121));
res += mul(Get(s3,0,dy), float4x4(-0.195047825574875,-0.067604847252369,0.018905695527792,0.324569404125214,-0.036437667906284,0.011873081326485,-0.026392586529255,-0.029745301231742,0.239009022712708,-0.019328139722347,0.097813121974468,-0.200179159641266,-0.012252748012543,-0.139530986547470,0.203120231628418,-0.015535297803581));
res += mul(Get(s3,dx,-dy), float4x4(-0.184672549366951,-0.067034684121609,-0.097447037696838,-0.204685002565384,-0.096057437360287,0.157129898667336,0.016725873574615,-0.077643617987633,-0.033528164029121,-0.086977712810040,0.007758431136608,-0.210675686597824,-0.004464311059564,0.113650597631931,0.143896579742432,-0.226636439561844));
res += mul(Get(s3,dx,0), float4x4(-0.247640520334244,0.076600171625614,-0.135230839252472,-0.183622211217880,-0.075258716940880,0.068284608423710,-0.018703453242779,-0.066794693470001,0.270546585321426,-0.164452299475670,0.030632838606834,-0.172757565975189,-0.056005418300629,0.009607556276023,-0.091697752475739,-0.063061930239201));
res += mul(Get(s3,dx,dy), float4x4(-0.244178339838982,0.057095348834991,-0.126112341880798,0.141528531908989,-0.017540203407407,0.474119544029236,-0.080269686877728,-0.101704955101013,0.011672727763653,-0.055584043264389,0.101055130362511,-0.171048253774643,0.099358394742012,-0.041845578700304,0.186956629157066,-0.127200946211815));
return max(float4(0,0,0,0), res);
}
