sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.108986623585224,-0.260795652866364,-0.058606836944818,-0.215682938694954,-0.062832422554493,0.405162781476974,0.164271518588066,0.136299878358841,0.126736998558044,-0.132284566760063,-0.051694288849831,0.089229576289654,0.024820433929563,0.053518556058407,0.085025802254677,0.066994227468967));
res += mul(Get(s0,-dx,0), float4x4(0.053699087351561,-0.130090042948723,0.303506225347519,-0.133473530411720,-0.017474284395576,-0.029706409201026,-0.070914968848228,0.142792865633965,0.014393902383745,-0.100151680409908,-0.130813017487526,0.067236535251141,0.173547402024269,0.086852252483368,0.169076323509216,-0.015745300799608));
res += mul(Get(s0,-dx,dy), float4x4(0.091901831328869,0.040105238556862,0.074352093040943,-0.107511661946774,0.032431315630674,0.087373875081539,0.016708487644792,-0.153874039649963,0.040059048682451,-0.045017853379250,0.048024471849203,0.100938975811005,0.199655294418335,0.026133842766285,0.192761093378067,-0.133389770984650));
res += mul(Get(s0,0,-dy), float4x4(0.179416492581367,-0.037924230098724,-0.272131621837616,-0.026013044640422,0.018736949190497,0.186716541647911,-0.064098067581654,-0.002980712568387,0.097614847123623,0.009098714217544,-0.150371968746185,0.228129848837852,0.112510345876217,-0.045590691268444,-0.012853279709816,0.000922148698010));
res += mul(Get(s0,0,0), float4x4(-0.133978307247162,-0.131245613098145,-0.140262559056282,-0.122233815491199,0.199851304292679,0.023813234642148,-0.148932322859764,-0.009706042706966,-0.023674644529819,0.046437155455351,-0.063966020941734,0.088707946240902,0.212660357356071,0.155849531292915,-0.038488652557135,-0.019855424761772));
res += mul(Get(s0,0,dy), float4x4(-0.121600635349751,-0.076101914048195,0.295732438564301,-0.085854031145573,0.025190437212586,0.014569517225027,0.051109351217747,0.101529560983181,-0.135183453559875,0.031438071280718,-0.045658085495234,-0.042315416038036,-0.098949253559113,0.002582265762612,0.028275016695261,-0.090252362191677));
res += mul(Get(s0,dx,-dy), float4x4(0.165222287178040,-0.061406798660755,-0.280339181423187,0.134935915470123,-0.080898940563202,0.066819101572037,-0.028069444000721,-0.055540971457958,0.039589628577232,0.236942097544670,-0.059948511421680,0.086438030004501,0.119681961834431,0.000259432388702,0.066406771540642,-0.230435281991959));
res += mul(Get(s0,dx,0), float4x4(-0.258884549140930,-0.178441047668457,0.076746389269829,-0.081420615315437,0.119890972971916,0.107852488756180,0.030999192968011,-0.147419899702072,0.051026627421379,-0.067840099334717,-0.041923601180315,0.151311859488487,0.014062243513763,0.096220910549164,0.042800702154636,-0.223159685730934));
res += mul(Get(s0,dx,dy), float4x4(-0.216062963008881,-0.041318517178297,-0.107008799910545,0.000398037082050,-0.141186475753784,0.024403654038906,0.040467411279678,-0.122206658124924,-0.090319015085697,-0.051349908113480,-0.073655165731907,0.182241424918175,-0.110669665038586,-0.044160328805447,0.160489663481712,-0.242832213640213));
res += mul(Get(s1,-dx,-dy), float4x4(-0.065044730901718,0.020180923864245,-0.016618771478534,-0.122659444808960,0.207502335309982,-0.225238844752312,-0.118263550102711,0.163881465792656,0.169797852635384,0.035802640020847,0.109761670231819,0.074548780918121,-0.011831201612949,0.040026105940342,0.352555245161057,-0.011966350488365));
res += mul(Get(s1,-dx,0), float4x4(-0.079024918377399,0.097979068756104,-0.097162462770939,0.150264695286751,0.182854607701302,-0.175125256180763,-0.134912177920341,0.107062809169292,0.205146357417107,0.199786230921745,-0.180664688348770,0.042299553751945,-0.085731692612171,0.086762502789497,0.009084376506507,0.105554006993771));
res += mul(Get(s1,-dx,dy), float4x4(-0.113791920244694,-0.097742788493633,0.147877335548401,-0.053826354444027,0.066597267985344,-0.150354683399200,0.070940986275673,-0.289247363805771,0.126157760620117,-0.086867876350880,-0.002019358798862,0.065502546727657,0.090228140354156,-0.422807216644287,0.003339667338878,0.127729967236519));
res += mul(Get(s1,0,-dy), float4x4(-0.258728832006454,0.015557183884084,0.099007599055767,0.001745300367475,0.042039893567562,-0.064118146896362,-0.034891661256552,0.099608920514584,-0.119304068386555,-0.036260813474655,0.181695625185966,0.105607375502586,0.040748756378889,-0.118113808333874,-0.028276072815061,0.061598177999258));
res += mul(Get(s1,0,0), float4x4(-0.135450705885887,-0.113084614276886,-0.073800757527351,0.028453696519136,-0.194453075528145,-0.009281578473747,-0.111639730632305,0.174743384122849,-0.081966236233711,-0.136760875582695,0.252374380826950,-0.031529877334833,-0.033259872347116,0.046971552073956,-0.015264231711626,-0.135539606213570));
res += mul(Get(s1,0,dy), float4x4(-0.099197015166283,-0.081086367368698,0.326237440109253,-0.050198677927256,-0.066618204116821,-0.117115430533886,0.021017735823989,0.211135700345039,-0.032441895455122,0.074058860540390,0.238290011882782,-0.033366210758686,0.137075409293175,-0.109194792807102,-0.055415302515030,0.006893162615597));
res += mul(Get(s1,dx,-dy), float4x4(-0.248653277754784,-0.051626868546009,-0.114844687283039,-0.160520434379578,0.124209575355053,0.028960609808564,-0.026893837377429,-0.397458642721176,-0.106185689568520,0.003880458883941,-0.123499400913715,-0.070106402039528,0.145550161600113,0.114681407809258,0.095596529543400,0.151017978787422));
res += mul(Get(s1,dx,0), float4x4(-0.173493146896362,-0.044863265007734,-0.074800856411457,-0.149034321308136,-0.141587123274803,0.085630990564823,-0.131855368614197,-0.179622918367386,-0.109735473990440,-0.119890786707401,-0.233821406960487,-0.083551809191704,0.177385360002518,0.062127523124218,-0.063758075237274,-0.203770145773888));
res += mul(Get(s1,dx,dy), float4x4(-0.202400714159012,-0.047117184847593,-0.019445566460490,-0.203066334128380,-0.027688959613442,0.005660179071128,-0.003760946914554,-0.018225714564323,-0.113965600728989,-0.079659961163998,-0.034592065960169,-0.096209861338139,-0.197780266404152,0.029830455780029,0.001512183574960,-0.165748581290245));
res += mul(Get(s2,-dx,-dy), float4x4(0.015875227749348,0.299036234617233,0.129741311073303,-0.074814930558205,-0.243543058633804,0.000503537186887,-0.019652059301734,0.187006801366806,0.035395588725805,-0.086895689368248,0.269843280315399,-0.020647328346968,0.000898020865861,-0.113040179014206,-0.061858899891376,0.230045005679131));
res += mul(Get(s2,-dx,0), float4x4(0.037056479603052,-0.151899650692940,-0.006919832900167,0.043343007564545,-0.083195023238659,0.084833264350891,-0.011451241560280,0.092593878507614,-0.168209522962570,0.050085384398699,-0.006510921288282,-0.144452258944511,0.210947051644325,0.019760848954320,-0.059502892196178,0.034070279449224));
res += mul(Get(s2,-dx,dy), float4x4(-0.025608029216528,-0.209312781691551,-0.066179193556309,0.134858265519142,-0.014085943810642,-0.141958072781563,-0.020650491118431,0.280870616436005,0.053948260843754,-0.013236158527434,0.233682543039322,-0.376585125923157,0.196797654032707,0.008955315686762,-0.031908258795738,0.452672749757767));
res += mul(Get(s2,0,-dy), float4x4(-0.073356315493584,0.127014517784119,0.391198545694351,-0.011677829548717,-0.179878711700439,0.108635917305946,-0.008314111270010,0.139667391777039,0.032243117690086,-0.137757226824760,-0.048131968826056,0.222782731056213,-0.016002655029297,-0.040827691555023,0.098063915967941,-0.022291718050838));
res += mul(Get(s2,0,0), float4x4(-0.045002475380898,0.238242015242577,-0.071725785732269,0.098227530717850,-0.027505580335855,0.149952650070190,-0.067260026931763,0.199556604027748,0.001497347257100,0.013070008717477,-0.061614446341991,0.079020462930202,-0.079497165977955,-0.030999528244138,-0.042502682656050,-0.081986844539642));
res += mul(Get(s2,0,dy), float4x4(0.035582367330790,0.030546376481652,-0.061398733407259,0.141697049140930,0.041939646005630,-0.213348880410194,-0.030167182907462,-0.073481112718582,-0.061370078474283,-0.085415810346603,0.189919739961624,-0.098776876926422,-0.056608591228724,-0.025557272136211,-0.125848025083542,0.224345669150352));
res += mul(Get(s2,dx,-dy), float4x4(-0.138862654566765,-0.061565183103085,-0.105732694268227,0.066096521914005,-0.122652076184750,0.132612138986588,-0.105542659759521,0.018838681280613,0.107519224286079,-0.070480987429619,0.184443309903145,-0.077353142201900,0.145229443907738,-0.090908594429493,-0.031636793166399,-0.087826490402222));
res += mul(Get(s2,dx,0), float4x4(-0.112228266894817,0.226789668202400,0.103090077638626,-0.001009116764180,0.258225113153458,0.153177544474602,-0.039725366979837,-0.086767449975014,-0.198480606079102,-0.106229841709137,0.195736870169640,-0.101732105016708,-0.090785972774029,-0.045663040131330,-0.039005354046822,-0.161606043577194));
res += mul(Get(s2,dx,dy), float4x4(0.075558669865131,0.324200332164764,0.038049843162298,-0.005112534388900,-0.177427485585213,-0.134194642305374,-0.097068168222904,0.032459754496813,-0.148099154233932,-0.070792913436890,0.093138575553894,-0.055335223674774,0.032002937048674,-0.000075458287029,-0.055464357137680,-0.167423009872437));
res += mul(Get(s3,-dx,-dy), float4x4(-0.023750901222229,0.061952307820320,0.108955606818199,-0.168213620781898,0.044082175940275,0.004129887092859,0.083268262445927,0.114283978939056,-0.079760804772377,-0.064470849931240,0.014752417802811,0.073937721550465,0.046253483742476,0.209098339080811,-0.134915769100189,0.181307688355446));
res += mul(Get(s3,-dx,0), float4x4(-0.005924227181822,-0.080967694520950,0.111380763351917,-0.214818745851517,-0.124695599079132,0.216090619564056,0.288595288991928,0.056852631270885,-0.082338891923428,-0.023872446268797,0.378871291875839,-0.001874016830698,0.004543629474938,0.321542590856552,0.149100720882416,0.084099955856800));
res += mul(Get(s3,-dx,dy), float4x4(0.151630178093910,-0.159533575177193,-0.128483369946480,-0.143007412552834,0.149793654680252,0.018059594556689,-0.192129403352737,-0.024642949923873,0.130080759525299,-0.060735881328583,0.030618129298091,0.151216104626656,0.148325175046921,0.162048771977425,-0.009405892342329,0.292096525430679));
res += mul(Get(s3,0,-dy), float4x4(-0.053805146366358,-0.109159752726555,-0.121555589139462,0.152448862791061,-0.039192125201225,0.014802733436227,0.106460697948933,-0.030565634369850,-0.181584149599075,-0.064014665782452,-0.117358371615410,0.264374643564224,-0.125605776906013,-0.070035777986050,0.090880893170834,0.080949760973454));
res += mul(Get(s3,0,0), float4x4(-0.187953159213066,0.086492344737053,-0.098975799977779,-0.013951317407191,-0.016432009637356,-0.104161456227303,-0.031676206737757,0.044087033718824,0.008446397259831,-0.090552136301994,-0.087129324674606,0.032309349626303,-0.115551643073559,-0.089035719633102,0.155411928892136,-0.110244914889336));
res += mul(Get(s3,0,dy), float4x4(0.073742911219597,0.003909748513252,-0.005920539610088,-0.009964505210519,0.043768499046564,0.007309276144952,-0.133571624755859,-0.000709780957550,0.064778476953506,-0.041546165943146,-0.104862645268440,-0.058308001607656,0.113885834813118,0.180671542882919,-0.123272404074669,0.107825890183449));
res += mul(Get(s3,dx,-dy), float4x4(0.224573507905006,0.072151027619839,0.041373725980520,-0.002272307639942,0.097865737974644,-0.091020464897156,0.050822380930185,-0.254672169685364,-0.076243221759796,-0.042307153344154,0.037914659827948,0.034198127686977,-0.123627610504627,-0.122760608792305,-0.058924004435539,0.008745185099542));
res += mul(Get(s3,dx,0), float4x4(0.115449234843254,0.104243546724319,0.042207997292280,-0.095994696021080,-0.075351297855377,-0.080900833010674,0.052345082163811,-0.225962445139885,0.136792942881584,-0.071653351187706,0.036245644092560,0.228025048971176,-0.082185380160809,-0.220169827342033,-0.095756575465202,-0.061597887426615));
res += mul(Get(s3,dx,dy), float4x4(0.136343136429787,0.081514552235603,0.039699606597424,-0.309722602367401,0.043234128504992,0.141985058784485,-0.008479265496135,-0.116552740335464,0.015015430748463,0.106292404234409,0.048845957964659,0.083155222237110,0.031807687133551,0.101035103201866,-0.276332378387451,-0.115820765495300));
return max(float4(0,0,0,0), res);
}
