sampler s0 : register(s0);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(x, y)   tex2D(s0, tex + float2(x, y))[0]

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += float4(-0.006683318875730,-0.061572521924973,-0.006937527097762,-0.189029276371002) * Get(-dx,-dy);
res += float4(0.000347148888977,-0.036047156900167,0.003608362283558,0.023077432066202) * Get(-dx,0);
res += float4(0.010751074180007,-0.098086930811405,0.008175304159522,0.212691664695740) * Get(-dx,dy);
res += float4(-0.019862538203597,-0.066826231777668,-0.028646497055888,-0.241936475038528) * Get(0,-dy);
res += float4(-0.006340065039694,-0.033499442040920,-0.000206622440601,-0.023514667525887) * Get(0,0);
res += float4(-0.019183887168765,-0.066682748496532,-0.019893914461136,0.188424959778786) * Get(0,dy);
res += float4(0.003047154285014,0.011170685291290,-0.003365273820236,-0.223638609051704) * Get(dx,-dy);
res += float4(-0.006582760252059,0.045798528939486,-0.005775584373623,-0.015120181255043) * Get(dx,0);
res += float4(0.000185006036190,-0.025222934782505,0.003847650019452,0.204499363899231) * Get(dx,dy);
return max(float4(0,0,0,0), res);
}
