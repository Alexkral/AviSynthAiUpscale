sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.022025121375918,-0.093400321900845,-0.074980892241001,0.280253916978836,0.114759728312492,0.145408660173416,0.145017802715302,-0.148614943027496,0.075791679322720,-0.103298626840115,0.067781537771225,0.062855079770088,0.171404108405113,0.130226552486420,0.004719918593764,0.035439293831587));
res += mul(Get(s0,-dx,0), float4x4(0.070726007223129,-0.134914070367813,-0.271788775920868,0.040156204253435,-0.071857124567032,0.028482574969530,-0.122425258159637,0.009930244646966,-0.086866214871407,0.104656085371971,-0.171722024679184,-0.035877466201782,-0.130478039383888,-0.180832728743553,-0.075863346457481,0.063626945018768));
res += mul(Get(s0,-dx,dy), float4x4(0.017513377591968,-0.035549748688936,0.013023498468101,-0.033468596637249,-0.059854954481125,0.144474521279335,0.067960582673550,0.051326967775822,-0.220128759741783,-0.127946123480797,0.081098161637783,-0.001139856991358,0.124329537153244,-0.140042081475258,-0.138509750366211,-0.084084503352642));
res += mul(Get(s0,0,-dy), float4x4(-0.093485474586487,-0.171853289008141,0.233794510364532,0.125454589724541,0.093782119452953,-0.231689453125000,0.123679161071777,0.066638633608818,0.062179613858461,0.022104887291789,-0.161297485232353,0.018428163602948,0.287434101104736,-0.180523499846458,0.046129748225212,0.118372380733490));
res += mul(Get(s0,0,0), float4x4(-0.010925757698715,-0.017402498051524,0.012432633899152,0.057120367884636,0.146142736077309,-0.101494826376438,0.005040179938078,0.123092234134674,-0.231905460357666,0.103920601308346,0.038072112947702,-0.162411168217659,-0.089798681437969,-0.229098722338676,-0.124766610562801,0.008255048654974));
res += mul(Get(s0,0,dy), float4x4(-0.042636949568987,0.007071418687701,0.073954649269581,-0.107590563595295,-0.168150648474693,0.001634397194721,0.042718693614006,-0.053109094500542,0.055867362767458,0.169594779610634,0.021719180047512,-0.023821815848351,0.029401473701000,0.033412240445614,-0.106217041611671,0.107805795967579));
res += mul(Get(s0,dx,-dy), float4x4(0.053946834057570,-0.015601456165314,0.120863452553749,-0.130052313208580,0.122967109084129,-0.117879003286362,0.094928562641144,0.058671142905951,-0.090806305408478,-0.038699459284544,-0.066307052969933,-0.171944141387939,0.080120250582695,0.017108980566263,-0.000864393718075,0.000148107690620));
res += mul(Get(s0,dx,0), float4x4(-0.020368013530970,0.041510820388794,0.058934625238180,-0.007796961814165,-0.150592282414436,0.090101025998592,0.122236177325249,-0.111915104091167,-0.042170993983746,0.248426303267479,0.031251832842827,-0.098250649869442,0.096346765756607,0.019651275128126,-0.200681492686272,0.127246916294098));
res += mul(Get(s0,dx,dy), float4x4(0.225185468792915,-0.073671661317348,0.166348710656166,-0.163599207997322,0.002764476463199,-0.288582384586334,0.025618735700846,0.278544902801514,-0.125144362449646,-0.045276165008545,0.100428730249405,0.082368105649948,-0.096665360033512,-0.010124821215868,-0.031225763261318,0.041923262178898));
res += mul(Get(s1,-dx,-dy), float4x4(0.059383615851402,-0.217255607247353,-0.189185425639153,0.201921999454498,0.223582759499550,-0.110763154923916,-0.226202860474586,-0.099344722926617,-0.121018797159195,0.012158532626927,-0.153178170323372,-0.105129823088646,0.176966086030006,-0.151913985610008,-0.047036830335855,-0.058252986520529));
res += mul(Get(s1,-dx,0), float4x4(0.108570970594883,0.120982721447945,0.200642630457878,0.077281929552555,0.022883661091328,-0.113590918481350,-0.030395569279790,0.032406620681286,-0.147318691015244,-0.018853086978197,-0.080748610198498,-0.009482765570283,-0.004344837274402,0.070553816854954,0.249307885766029,-0.082152545452118));
res += mul(Get(s1,-dx,dy), float4x4(-0.066576957702637,-0.049409650266171,0.004243392962962,0.049893766641617,-0.107877425849438,0.110923841595650,-0.108743138611317,-0.138569101691246,0.033648207783699,-0.057833798229694,0.172618120908737,-0.183554813265800,0.082300901412964,0.008819818496704,-0.031086556613445,-0.095312982797623));
res += mul(Get(s1,0,-dy), float4x4(-0.015356891788542,0.042249549180269,0.025846317410469,0.184682071208954,-0.012790454551578,-0.115933142602444,0.141490638256073,-0.150812745094299,0.000154569119331,-0.176927536725998,-0.054769203066826,-0.071428433060646,0.161185532808304,0.123512998223305,-0.180922359228134,-0.011958881281316));
res += mul(Get(s1,0,0), float4x4(-0.126329764723778,0.049922373145819,-0.001394129008986,-0.068947017192841,-0.084695041179657,0.053187590092421,-0.163790255784988,-0.147414267063141,0.001430752803572,-0.007455572951585,-0.047953069210052,0.037582363933325,0.167223140597343,0.108268849551678,0.040734864771366,0.017050335183740));
res += mul(Get(s1,0,dy), float4x4(-0.011506410315633,0.058815874159336,0.118574440479279,-0.064754687249660,-0.053866330534220,0.036954078823328,0.073629647493362,0.015283744782209,0.070275478065014,-0.052618794143200,-0.059601981192827,-0.172894135117531,-0.162210404872894,-0.000904087442905,-0.107319839298725,0.027728635817766));
res += mul(Get(s1,dx,-dy), float4x4(0.176961898803711,0.042148690670729,-0.032242983579636,-0.136816293001175,0.067498445510864,0.020447269082069,-0.062464177608490,-0.152334183454514,0.158970907330513,0.043838117271662,0.143427163362503,-0.016618462279439,-0.137970358133316,-0.173824697732925,-0.213364496827126,-0.044423803687096));
res += mul(Get(s1,dx,0), float4x4(0.095702335238457,-0.008210674859583,0.090795002877712,-0.107448332011700,-0.078977704048157,0.098121546208858,-0.107203021645546,-0.072853341698647,-0.089214868843555,0.066210247576237,0.221956759691238,0.197669968008995,-0.065768286585808,0.057225849479437,0.022011946886778,-0.087654300034046));
res += mul(Get(s1,dx,dy), float4x4(-0.025992678478360,0.048780962824821,0.071017332375050,-0.361865699291229,-0.193763822317123,0.130323693156242,0.067787423729897,-0.010887295007706,0.112129203975201,-0.057311750948429,-0.118250049650669,0.119755715131760,-0.100450761616230,-0.067133545875549,0.050093032419682,0.070996731519699));
res += mul(Get(s2,-dx,-dy), float4x4(-0.083064667880535,-0.047186259180307,-0.109608300030231,0.135131686925888,-0.051001157611609,0.022378336638212,-0.135041177272797,0.090275652706623,-0.014846008270979,0.013899619691074,0.059202477335930,0.011623470112681,-0.155063211917877,0.120066374540329,0.046242732554674,0.127274572849274));
res += mul(Get(s2,-dx,0), float4x4(-0.051163945347071,-0.055556502193213,-0.191744059324265,-0.202435269951820,-0.045767750591040,0.118811637163162,-0.064435161650181,0.262529462575912,-0.016197858378291,0.084951505064964,-0.003792250296101,-0.006123700644821,0.003554245224223,-0.028796944767237,-0.078334651887417,0.035543285310268));
res += mul(Get(s2,-dx,dy), float4x4(-0.046541303396225,-0.104039736092091,-0.231169819831848,-0.011857821606100,-0.068128809332848,0.165978446602821,-0.057418908923864,0.144731700420380,0.032040286809206,0.009153957478702,-0.116914257407188,0.088380426168442,0.181375563144684,0.031599275767803,-0.021567262709141,-0.097444631159306));
res += mul(Get(s2,0,-dy), float4x4(0.228470802307129,-0.138350531458855,0.140623867511749,0.086063802242279,-0.092870250344276,-0.047386899590492,-0.119026847183704,0.014057585038245,0.127634495496750,0.111902356147766,-0.078511729836464,-0.100473195314407,-0.087977379560471,0.005351194646209,-0.013105316087604,0.113261125981808));
res += mul(Get(s2,0,0), float4x4(0.073226921260357,0.007812970317900,0.064424529671669,-0.166487082839012,-0.049503408372402,0.047071434557438,0.029258444905281,0.240663394331932,-0.020766373723745,0.114875592291355,-0.195733264088631,0.051177069544792,0.196624487638474,-0.039679016917944,0.110490769147873,0.058103192597628));
res += mul(Get(s2,0,dy), float4x4(-0.096949778497219,-0.034746691584587,0.100432343780994,-0.023319851607084,-0.250606983900070,0.114103451371193,-0.008395737037063,-0.006760735530406,-0.165811330080032,-0.012460969388485,-0.155671909451485,-0.115125894546509,0.020684722810984,0.004554806277156,-0.019138837233186,0.112779460847378));
res += mul(Get(s2,dx,-dy), float4x4(0.142681911587715,0.163731113076210,-0.113061852753162,-0.053789228200912,0.097003899514675,-0.024173967540264,0.010928311385214,-0.095549985766411,0.081835687160492,-0.183675691485405,-0.210998430848122,-0.055175770074129,-0.038950562477112,0.063061162829399,0.018811061978340,0.071521595120430));
res += mul(Get(s2,dx,0), float4x4(0.102934792637825,-0.051391314715147,0.078924365341663,-0.007263260893524,-0.052575517445803,-0.036281619220972,0.187158256769180,-0.067790374159813,0.006815452594310,0.023158989846706,-0.026009544730186,-0.110577352344990,-0.016555508598685,-0.010765746235847,0.033547427505255,0.118305623531342));
res += mul(Get(s2,dx,dy), float4x4(0.075218454003334,-0.091258116066456,-0.125856250524521,0.159800171852112,-0.010130672715604,0.094043642282486,-0.144797071814537,0.191807806491852,-0.077139638364315,-0.036626320332289,0.002034358680248,-0.068308912217617,-0.030908757820725,-0.028684196993709,0.021452806890011,0.032880082726479));
res += mul(Get(s3,-dx,-dy), float4x4(-0.024046972393990,0.049324735999107,-0.355226367712021,-0.059900686144829,-0.179608881473541,-0.005510761868209,0.083991892635822,0.094039700925350,0.027465950697660,-0.008310882374644,-0.064360551536083,0.139958530664444,-0.026216803118587,-0.117115072906017,-0.155206888914108,-0.109103232622147));
res += mul(Get(s3,-dx,0), float4x4(-0.192132011055946,-0.104095004498959,-0.194093510508537,-0.025573913007975,0.246195688843727,-0.158102959394455,-0.083100326359272,0.198439791798592,0.051323186606169,0.045949295163155,-0.107273861765862,0.046239364892244,-0.193332806229591,0.004052232950926,-0.194978743791580,0.016422864049673));
res += mul(Get(s3,-dx,dy), float4x4(-0.063710257411003,-0.164853766560555,0.021286204457283,-0.169963732361794,-0.151847094297409,-0.007035990245640,-0.050518099218607,-0.026560394093394,-0.000597334990744,-0.103438720107079,0.073315560817719,-0.134716570377350,0.013405676931143,-0.066532157361507,0.055107645690441,0.071074478328228));
res += mul(Get(s3,0,-dy), float4x4(-0.122362516820431,-0.015811597928405,0.104020297527313,-0.045923229306936,0.226530283689499,-0.159575581550598,-0.049823306500912,0.135999217629433,0.015516917221248,-0.009022975340486,-0.015999887138605,-0.064505107700825,0.107919864356518,-0.304753154516220,0.111809499561787,-0.184979677200317));
res += mul(Get(s3,0,0), float4x4(-0.032084994018078,-0.129173874855042,-0.092304892838001,-0.235186189413071,-0.013639951124787,-0.126472473144531,0.051033757627010,-0.012135096825659,0.050019152462482,0.234671771526337,-0.009071681648493,-0.192635759711266,-0.207307830452919,0.113103985786438,0.015286665409803,-0.064581677317619));
res += mul(Get(s3,0,dy), float4x4(-0.024431180208921,-0.163791969418526,0.005572296679020,0.084230966866016,-0.126015812158585,-0.065485708415508,0.031747516244650,0.065034933388233,0.042958516627550,0.107717230916023,0.166091874241829,-0.095391295850277,-0.047035403549671,0.022139130160213,0.166358187794685,-0.104049839079380));
res += mul(Get(s3,dx,-dy), float4x4(0.039805207401514,0.004926188848913,-0.145219877362251,-0.057036638259888,0.074298739433289,-0.250527977943420,-0.108226470649242,-0.048620183020830,0.155349001288414,-0.050714578479528,-0.042934700846672,0.155565530061722,0.107342138886452,0.023502353578806,-0.162306964397430,0.015205280855298));
res += mul(Get(s3,dx,0), float4x4(-0.053828377276659,0.061029896140099,-0.241920381784439,-0.333575457334518,0.171438798308372,0.085344627499580,0.325134426355362,-0.033436547964811,-0.022607157006860,-0.075906299054623,-0.117550067603588,0.226912960410118,-0.154990598559380,-0.031939245760441,-0.142919480800629,0.035062249749899));
res += mul(Get(s3,dx,dy), float4x4(-0.072532929480076,-0.067623220384121,-0.006005806848407,-0.033304449170828,0.088302619755268,-0.114213824272156,-0.021222487092018,-0.141434729099274,0.131563693284988,-0.022294078022242,-0.063197389245033,-0.006941487081349,-0.040022198110819,-0.027467841282487,0.120708376169205,0.066040828824043));
return max(float4(0,0,0,0), res);
}
