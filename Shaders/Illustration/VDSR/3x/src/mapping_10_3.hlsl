sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.085684470832348,0.019125975668430,0.000537470565178,-0.012469534762204,-0.042489204555750,-0.060057368129492,0.001835401752032,-0.134237736463547,-0.105696029961109,0.149899840354919,-0.038038939237595,-0.011779175139964,-0.128456652164459,-0.106739744544029,0.045721504837275,-0.127279087901115));
res += mul(Get(s0,-dx,0), float4x4(0.221337780356407,-0.024256004020572,0.077583536505699,-0.081897713243961,0.067519053816795,0.008922648616135,0.047088790684938,-0.152081310749054,-0.050207976251841,0.079581603407860,-0.057557720690966,-0.065461315214634,-0.105205208063126,0.070730566978455,0.006766131147742,-0.109246924519539));
res += mul(Get(s0,-dx,dy), float4x4(0.100179456174374,-0.124674804508686,-0.118188627064228,-0.270418435335159,-0.076238110661507,-0.123449049890041,-0.091306120157242,-0.028698833659291,0.094864837825298,-0.014532423578203,0.007666783872992,0.174242615699768,0.161654442548752,-0.041925072669983,-0.343477249145508,-0.081613771617413));
res += mul(Get(s0,0,-dy), float4x4(-0.205674320459366,0.112917438149452,-0.020024940371513,-0.004071426577866,-0.074443824589252,-0.207678839564323,0.142346888780594,-0.018774032592773,0.024532120674849,0.031636942178011,-0.047957129776478,0.081407293677330,-0.220770612359047,0.009872495196760,-0.101694770157337,0.103156618773937));
res += mul(Get(s0,0,0), float4x4(0.105599276721478,-0.011105971410871,0.152883008122444,0.043248135596514,0.022419473156333,-0.083974950015545,0.040378827601671,-0.035372626036406,0.152758300304413,-0.121561348438263,0.097780510783195,-0.017160434275866,-0.159850254654884,-0.041630715131760,0.051941655576229,-0.027488848194480));
res += mul(Get(s0,0,dy), float4x4(0.136794477701187,-0.076195240020752,-0.119416959583759,0.123570188879967,-0.133427754044533,-0.131962314248085,-0.107626572251320,-0.088096626102924,-0.013898780569434,-0.008073095232248,-0.066998958587646,0.132752135396004,0.073377519845963,-0.134954884648323,-0.239785596728325,-0.001361990813166));
res += mul(Get(s0,dx,-dy), float4x4(-0.054152648895979,0.123645678162575,0.086414977908134,0.095793217420578,-0.073974393308163,-0.168043285608292,0.263115376234055,-0.145165920257568,-0.065890938043594,-0.004699368961155,0.157629296183586,-0.037984311580658,-0.200324997305870,-0.048989523202181,0.162331685423851,0.114441357553005));
res += mul(Get(s0,dx,0), float4x4(-0.036819670349360,0.080899231135845,0.049154464155436,0.030725529417396,0.160317987203598,-0.150110512971878,0.038724135607481,-0.120315104722977,0.075280852615833,-0.074988171458244,0.067318320274353,-0.113634839653969,-0.196349158883095,-0.048178117722273,0.081562474370003,-0.044198989868164));
res += mul(Get(s0,dx,dy), float4x4(0.222872108221054,0.007110903039575,-0.067508742213249,-0.129294231534004,0.094324924051762,-0.007624162826687,-0.006497882772237,-0.059101793915033,0.012696131132543,0.200726509094238,-0.027140397578478,0.181128650903702,-0.197928294539452,-0.033776152879000,0.025386033579707,-0.081455335021019));
res += mul(Get(s1,-dx,-dy), float4x4(0.097193971276283,-0.162737548351288,0.141018867492676,-0.282892435789108,0.254034131765366,-0.022643329575658,-0.053732305765152,-0.063855528831482,-0.158885821700096,0.026527503505349,0.368373125791550,-0.207085490226746,0.321790397167206,0.153620958328247,0.075580395758152,0.078362978994846));
res += mul(Get(s1,-dx,0), float4x4(0.045043941587210,-0.087656721472740,-0.008135418407619,0.055340342223644,-0.013091322034597,-0.067584440112114,0.139946281909943,-0.025800576433539,-0.026421127840877,-0.019873153418303,0.107068568468094,-0.083348527550697,0.052429523319006,-0.031088352203369,0.287232637405396,-0.097982898354530));
res += mul(Get(s1,-dx,dy), float4x4(0.252829343080521,-0.033983342349529,-0.117946371436119,0.254089057445526,0.046125873923302,-0.082187429070473,-0.042022861540318,-0.017375750467181,0.031283479183912,-0.135285735130310,-0.069504745304585,-0.093837112188339,-0.061163973063231,-0.259839057922363,0.010844719596207,-0.116005145013332));
res += mul(Get(s1,0,-dy), float4x4(-0.089263103902340,0.067038111388683,-0.096461161971092,0.156763240695000,0.133740901947021,0.170120671391487,0.085913814604282,-0.130691364407539,0.059719540178776,-0.038190215826035,-0.020071299746633,0.099053114652634,0.161467179656029,0.230403184890747,0.089280441403389,0.077746301889420));
res += mul(Get(s1,0,0), float4x4(-0.013398876413703,-0.000073651397543,0.177257165312767,0.035976473242044,-0.126222059130669,0.098189160227776,0.200673595070839,-0.049248721450567,0.056558694690466,-0.108952939510345,-0.013713891617954,0.103085525333881,0.129718974232674,-0.124578565359116,0.094541087746620,0.026893757283688));
res += mul(Get(s1,0,dy), float4x4(-0.111649252474308,0.061474040150642,0.107840351760387,-0.107206717133522,-0.095103025436401,0.054742649197578,-0.057829849421978,-0.028786994516850,0.017853545024991,-0.189957454800606,-0.139426901936531,-0.012461514212191,-0.127642661333084,0.319805681705475,-0.064333103597164,-0.321674823760986));
res += mul(Get(s1,dx,-dy), float4x4(-0.028441054746509,-0.002314025070518,0.083261549472809,0.047752495855093,-0.002921349136159,0.239550247788429,-0.146359756588936,0.477700382471085,0.040049459785223,0.162606492638588,0.133141532540321,0.117745019495487,-0.027337249368429,0.051560480147600,0.063449375331402,0.015055071562529));
res += mul(Get(s1,dx,0), float4x4(0.002682642545551,-0.022402392700315,0.206815242767334,-0.051684994250536,-0.130023226141930,-0.260857403278351,-0.233022019267082,0.197449967265129,-0.092633940279484,0.001938518136740,0.240792378783226,0.105204842984676,0.118464499711990,0.100038014352322,0.004013278987259,0.139260947704315));
res += mul(Get(s1,dx,dy), float4x4(0.074623703956604,0.098561652004719,-0.007662476506084,-0.095664404332638,-0.135135173797607,0.122959829866886,-0.278601497411728,-0.005209676921368,0.032172609120607,0.006297391839325,-0.161890491843224,-0.005314738024026,-0.097381256520748,0.041085787117481,0.018191790208220,-0.043704416602850));
res += mul(Get(s2,-dx,-dy), float4x4(0.007184418383986,0.088654898107052,0.113618798553944,-0.018209001049399,0.015106446109712,-0.034969810396433,-0.130548164248466,0.071284957230091,-0.081910841166973,-0.067106246948242,0.097362674772739,-0.003935108892620,-0.353851050138474,-0.027952941134572,-0.057168286293745,0.148413658142090));
res += mul(Get(s2,-dx,0), float4x4(0.008320025168359,0.113236799836159,0.049264483153820,0.023325888440013,-0.044749900698662,0.056856546550989,-0.078465938568115,-0.010436534881592,-0.146477118134499,-0.119308508932590,0.026722658425570,-0.030737478286028,0.102879308164120,0.038905434310436,-0.044234517961740,0.143549218773842));
res += mul(Get(s2,-dx,dy), float4x4(-0.029198279604316,-0.041572172194719,0.166600361466408,0.036473136395216,-0.062623672187328,0.119733132421970,-0.197060808539391,-0.079083532094955,0.095567956566811,-0.098751664161682,-0.290425449609756,0.111693710088730,-0.048958100378513,0.129238501191139,-0.048929136246443,-0.246634081006050));
res += mul(Get(s2,0,-dy), float4x4(0.060469903051853,0.038985993713140,0.061949964612722,0.067309141159058,-0.029946302995086,-0.061079878360033,0.373178124427795,0.043050043284893,-0.128524929285049,0.001719355001114,0.052770078182220,-0.051965739578009,-0.187920272350311,-0.010112177580595,0.064523562788963,-0.031761843711138));
res += mul(Get(s2,0,0), float4x4(0.215440943837166,-0.032357979565859,-0.160035312175751,0.008368629030883,0.046373777091503,-0.088582888245583,0.070059664547443,-0.028040723875165,-0.096352472901344,-0.198640093207359,0.311766326427460,-0.054144207388163,-0.141014471650124,0.066331021487713,0.022567247971892,-0.015433449298143));
res += mul(Get(s2,0,dy), float4x4(-0.066885262727737,-0.136005133390427,0.072615370154381,-0.071748286485672,0.245741054415703,0.105386860668659,-0.186418637633324,-0.138540685176849,0.039907012134790,-0.088974557816982,-0.156945332884789,-0.094337210059166,0.292736947536469,-0.027231847867370,-0.232398033142090,-0.059517122805119));
res += mul(Get(s2,dx,-dy), float4x4(-0.046836886554956,-0.039430201053619,0.144745737314224,0.060311377048492,-0.017559889703989,-0.082508511841297,-0.029927035793662,0.029361763969064,0.184455856680870,-0.048958074301481,-0.266132593154907,0.139611050486565,-0.105773314833641,-0.030863448977470,-0.005711155943573,-0.011827552691102));
res += mul(Get(s2,dx,0), float4x4(0.187120094895363,0.018693448975682,-0.062640562653542,0.000944383617025,-0.115829348564148,0.092941582202911,-0.108863256871700,0.038257818669081,-0.086658298969269,-0.102917425334454,-0.214927121996880,0.037755940109491,-0.113304577767849,-0.070424638688564,0.088343009352684,-0.068097546696663));
res += mul(Get(s2,dx,dy), float4x4(0.004889584612101,-0.053496252745390,0.008251333609223,-0.083351053297520,-0.278695017099380,0.256709247827530,-0.198826178908348,-0.165227532386780,-0.029836010187864,0.442155659198761,-0.416489034891129,0.053451754152775,-0.026292469352484,0.011477001011372,-0.110506810247898,-0.018153380602598));
res += mul(Get(s3,-dx,-dy), float4x4(-0.125167205929756,-0.106627106666565,0.095706015825272,-0.043574299663305,0.192099541425705,-0.111768931150436,-0.040058586746454,-0.016658660024405,0.005489346571267,0.043629489839077,-0.054421540349722,-0.029551178216934,-0.130034163594246,0.135009363293648,-0.060815714299679,-0.171881124377251));
res += mul(Get(s3,-dx,0), float4x4(-0.060405783355236,-0.065880455076694,-0.007512896787375,-0.126445204019547,-0.037336107343435,-0.019932042807341,-0.110713370144367,0.077994413673878,0.002797782886773,0.064935371279716,0.063007697463036,-0.022903095930815,-0.027245340868831,0.051886096596718,-0.051318787038326,-0.144052639603615));
res += mul(Get(s3,-dx,dy), float4x4(0.236841753125191,-0.009161488153040,0.084711916744709,0.315461814403534,-0.081211417913437,0.044744964689016,-0.159209161996841,-0.057199899107218,-0.018710380420089,0.027640381827950,0.111204728484154,0.006218196358532,-0.176592633128166,-0.039329174906015,-0.166966065764427,-0.068258486688137));
res += mul(Get(s3,0,-dy), float4x4(-0.115114279091358,-0.072735272347927,-0.124746091663837,-0.094292476773262,-0.048942621797323,-0.138025045394897,0.107229776680470,-0.049133185297251,-0.029992483556271,0.086146093904972,0.075481250882149,-0.026496820151806,-0.055508635938168,0.176950216293335,-0.154215008020401,-0.136232390999794));
res += mul(Get(s3,0,0), float4x4(-0.035268194973469,0.037893425673246,0.016886005178094,-0.138227805495262,0.175473630428314,0.036414306610823,-0.006435826886445,-0.055144537240267,0.009395220316947,0.206153362989426,0.005413576494902,-0.124840632081032,-0.100443452596664,-0.080822467803955,-0.086736232042313,0.030908560380340));
res += mul(Get(s3,0,dy), float4x4(-0.075038664042950,-0.056518651545048,0.101743586361408,-0.005937740672380,0.267145305871964,0.074117787182331,-0.055492114275694,0.131965473294258,-0.114802852272987,-0.024053372442722,0.082373328506947,-0.083896085619926,-0.104585528373718,-0.233409076929092,0.049779690802097,-0.004126964136958));
res += mul(Get(s3,dx,-dy), float4x4(-0.090760879218578,-0.023677200078964,-0.104735642671585,-0.071008168160915,-0.014493541792035,-0.107523716986179,0.061737034469843,-0.053150828927755,-0.210912600159645,0.041398823261261,-0.367073833942413,0.014740844257176,0.076604157686234,0.247524216771126,0.160751536488533,0.030992683023214));
res += mul(Get(s3,dx,0), float4x4(-0.032896429300308,0.094664379954338,0.007464613299817,-0.118766926229000,0.030074341222644,0.127785906195641,0.021800253540277,-0.107169337570667,-0.146132424473763,-0.139603331685066,-0.030598048120737,0.093498006463051,-0.023447209969163,-0.194757118821144,-0.058241609483957,0.013769148848951));
res += mul(Get(s3,dx,dy), float4x4(-0.120212107896805,-0.109607666730881,-0.095778554677963,0.083117105066776,0.103037953376770,0.041496179997921,-0.055736493319273,-0.120867945253849,-0.279135793447495,-0.013489957898855,-0.065669819712639,0.053270015865564,0.029541430994868,-0.171406731009483,-0.043665520846844,-0.143709167838097));
return max(float4(0,0,0,0), res);
}
