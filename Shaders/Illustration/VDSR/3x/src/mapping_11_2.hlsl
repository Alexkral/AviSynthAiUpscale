sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.044228829443455,0.048079825937748,0.118096627295017,-0.033916637301445,0.022541671991348,-0.002451079431921,-0.113155484199524,-0.164286926388741,-0.030263233929873,0.023904630914330,-0.204659432172775,0.161349296569824,-0.006167334970087,-0.041198033839464,0.070400021970272,0.067261919379234));
res += mul(Get(s0,-dx,0), float4x4(-0.009494272992015,0.108689673244953,0.056409135460854,-0.004210620652884,-0.071101717650890,-0.025166882202029,0.069919943809509,-0.047802846878767,0.062547683715820,-0.075694411993027,-0.154384076595306,-0.193500265479088,0.060624431818724,0.028913477435708,-0.083507157862186,0.292876511812210));
res += mul(Get(s0,-dx,dy), float4x4(0.001983468420804,0.037251703441143,0.052305009216070,-0.099371232092381,0.286627352237701,0.031089013442397,0.253123283386230,0.036846343427896,-0.047540493309498,-0.030404899269342,0.129077032208443,0.030168661847711,0.080248743295670,-0.039771102368832,0.006732476409525,0.134544521570206));
res += mul(Get(s0,0,-dy), float4x4(0.007296006195247,-0.059912055730820,-0.072002671658993,-0.044021509587765,0.044178828597069,-0.034294143319130,0.027786310762167,0.167660787701607,-0.150186926126480,-0.080231510102749,-0.207156255841255,0.064518079161644,0.085561402142048,-0.032934676855803,-0.004592074081302,0.089442491531372));
res += mul(Get(s0,0,0), float4x4(0.046363800764084,0.251530766487122,0.063941113650799,-0.124397896230221,-0.082250192761421,0.005979530513287,0.039159663021564,0.026099801063538,0.023799767717719,-0.134379819035530,-0.207656234502792,-0.074622012674809,0.028560599312186,-0.071957699954510,-0.022518401965499,0.216159567236900));
res += mul(Get(s0,0,dy), float4x4(-0.032716527581215,-0.029611548408866,-0.024410873651505,-0.121890984475613,0.108518771827221,0.014420874416828,0.115107245743275,-0.029755247756839,-0.173601508140564,-0.099616117775440,-0.237942501902580,0.038987018167973,0.003012126777321,-0.041337084025145,0.147578820586205,0.186867192387581));
res += mul(Get(s0,dx,-dy), float4x4(-0.152583330869675,0.046323917806149,-0.015166657045484,-0.023475468158722,-0.095444440841675,-0.020189190283418,-0.096091985702515,-0.005303741432726,-0.106770329177380,-0.010795565322042,0.209302559494972,0.410046279430389,-0.149309322237968,-0.027344889938831,0.116740532219410,0.206868410110474));
res += mul(Get(s0,dx,0), float4x4(-0.103308260440826,0.126595392823219,-0.003737933933735,-0.062043350189924,0.460986047983170,-0.067218288779259,-0.101102426648140,0.034376058727503,0.050827745348215,0.040203355252743,0.068428657948971,0.192281946539879,0.056091342121363,-0.032890196889639,0.021717026829720,0.233456835150719));
res += mul(Get(s0,dx,dy), float4x4(-0.133722156286240,0.052310187369585,0.131409302353859,0.024909632280469,0.101999521255493,-0.160906106233597,-0.095975160598755,0.133992895483971,0.141494229435921,0.055091649293900,0.202889800071716,0.025474563241005,0.128251969814301,0.042378552258015,0.067824140191078,0.015386784449220));
res += mul(Get(s1,-dx,-dy), float4x4(-0.065595798194408,0.070457145571709,0.042396504431963,-0.072316914796829,0.002967336447909,0.015332013368607,-0.133529230952263,0.085972808301449,-0.119551718235016,-0.042584970593452,-0.048837460577488,0.010410655289888,-0.110202848911285,-0.085405789315701,0.147382766008377,0.072187013924122));
res += mul(Get(s1,-dx,0), float4x4(0.007691793143749,-0.057667944580317,0.085593394935131,-0.160182416439056,0.130896046757698,-0.107966557145119,-0.123501166701317,-0.145127326250076,0.016252707690001,-0.004991844762117,-0.136282891035080,-0.024681095033884,0.062708020210266,-0.059107966721058,0.083374343812466,-0.000688020605594));
res += mul(Get(s1,-dx,dy), float4x4(-0.153053343296051,-0.126112967729568,0.272158175706863,0.222626507282257,-0.076946936547756,-0.123573809862137,0.072101645171642,-0.228206306695938,-0.147945955395699,0.059015348553658,0.119183801114559,-0.031039658933878,0.088738381862640,-0.019012438133359,0.066665269434452,0.213428646326065));
res += mul(Get(s1,0,-dy), float4x4(0.154321357607841,0.140822321176529,-0.174468502402306,-0.225502103567123,0.066659867763519,-0.091323576867580,-0.090120472013950,0.153054893016815,0.085765719413757,0.197703719139099,-0.017688648775220,0.051366463303566,-0.101963169872761,-0.017696058377624,0.000980343320407,-0.249895662069321));
res += mul(Get(s1,0,0), float4x4(-0.174789831042290,-0.171098127961159,-0.183677017688751,0.248292818665504,0.052624877542257,-0.194798275828362,-0.056596066802740,-0.155226200819016,0.097176164388657,-0.020114520564675,0.014556901529431,0.103843562304974,0.188843578100204,-0.079050637781620,-0.020629214122891,0.005761047359556));
res += mul(Get(s1,0,dy), float4x4(-0.007526835426688,-0.352126359939575,-0.068488232791424,-0.080109938979149,-0.158977225422859,-0.096124857664108,0.105762824416161,0.008040408603847,-0.001422325731255,0.155970841646194,-0.064382761716843,0.040021855384111,-0.102795645594597,0.086882404983044,0.045786123722792,0.004927395842969));
res += mul(Get(s1,dx,-dy), float4x4(0.248731091618538,0.268069207668304,-0.017680749297142,0.173482850193977,0.051203243434429,-0.125503122806549,0.005950360093266,0.137293562293053,0.141246929764748,0.166411653161049,-0.178834497928619,-0.194340825080872,-0.006009222939610,0.063123032450676,0.179747030138969,0.075229428708553));
res += mul(Get(s1,dx,0), float4x4(0.109259262681007,0.189615949988365,-0.143074512481689,0.063995614647865,0.307739645242691,-0.093854159116745,-0.055035647004843,-0.149774655699730,-0.096486426889896,0.252714693546295,-0.156804323196411,-0.079229332506657,0.032252483069897,-0.101178757846355,0.095586538314819,0.037031374871731));
res += mul(Get(s1,dx,dy), float4x4(0.214370027184486,0.093448832631111,-0.064116775989532,-0.224616348743439,-0.072858691215515,0.021544136106968,0.153520151972771,-0.117301814258099,-0.105774439871311,0.354568809270859,-0.030060846358538,-0.158692419528961,0.032601945102215,-0.117234908044338,-0.016557196155190,0.030609309673309));
res += mul(Get(s2,-dx,-dy), float4x4(0.123222924768925,0.083129853010178,0.023928729817271,-0.237497493624687,0.059907898306847,-0.045330125838518,-0.044436868280172,-0.104510851204395,0.199711948633194,-0.054957889020443,-0.094822078943253,-0.248063236474991,0.100698634982109,-0.099647231400013,-0.075093306601048,-0.122384287416935));
res += mul(Get(s2,-dx,0), float4x4(-0.039805870503187,0.157791495323181,-0.146431624889374,-0.169468551874161,-0.029297081753612,-0.045615553855896,-0.078398577868938,0.010960364714265,-0.012217692099512,-0.023153470829129,-0.018076645210385,-0.036737654358149,0.157624453306198,-0.146257564425468,0.085231594741344,0.062296032905579));
res += mul(Get(s2,-dx,dy), float4x4(-0.006599763408303,0.060543656349182,-0.166646540164948,0.013858952559531,-0.078762620687485,-0.131107732653618,-0.052772257477045,0.217998549342155,0.054576274007559,-0.052947260439396,0.120024681091309,-0.117383696138859,-0.011586132459342,-0.135081037878990,0.063958697021008,-0.002927823225036));
res += mul(Get(s2,0,-dy), float4x4(-0.088370181620121,-0.160812675952911,0.152888953685760,-0.080896958708763,0.001183603075333,-0.145796298980713,-0.017185324802995,-0.150128826498985,0.104541555047035,0.085540644824505,-0.122898571193218,0.090483017265797,-0.006573092192411,-0.083262272179127,-0.012714019045234,0.001128256204538));
res += mul(Get(s2,0,0), float4x4(-0.014871438965201,0.007503661792725,-0.027022836729884,0.020092204213142,0.089489549398422,-0.090657122433186,0.052311569452286,0.095580369234085,-0.024287115782499,0.124872021377087,0.020781973376870,0.024169828742743,0.377544552087784,-0.047366671264172,-0.063359141349792,0.026348490267992));
res += mul(Get(s2,0,dy), float4x4(-0.035167209804058,0.029217477887869,0.006567457690835,0.204287707805634,-0.115391872823238,-0.083464182913303,-0.027503725141287,0.100955508649349,0.058523893356323,0.171194344758987,0.242762431502342,0.013912794180214,0.091074861586094,-0.087539739906788,0.089123688638210,0.011480757966638));
res += mul(Get(s2,dx,-dy), float4x4(-0.077391512691975,-0.061424035578966,-0.125247687101364,-0.066463187336922,0.071447096765041,-0.094006083905697,-0.013120649382472,0.060615569353104,0.237901300191879,0.098832800984383,-0.065730877220631,0.081067338585854,-0.074124902486801,-0.085123971104622,0.003831664333120,0.073342569172382));
res += mul(Get(s2,dx,0), float4x4(0.413021743297577,-0.061805259436369,-0.238056451082230,-0.069662839174271,0.089097082614899,-0.096395730972290,0.098014533519745,-0.056463677436113,-0.051316108554602,0.154768466949463,-0.011178676038980,0.028799843043089,-0.030140668153763,-0.020718831568956,-0.103319600224495,-0.022237429395318));
res += mul(Get(s2,dx,dy), float4x4(0.306191176176071,-0.035510428249836,-0.225710287690163,-0.043276429176331,-0.132661581039429,-0.090733051300049,-0.019066456705332,-0.013657742179930,-0.092487879097462,0.007887181825936,-0.005145300645381,0.114053942263126,0.249708965420723,0.014966740272939,0.080495811998844,-0.115657083690166));
res += mul(Get(s3,-dx,-dy), float4x4(-0.194987490773201,-0.146263033151627,-0.272046685218811,0.006949362345040,-0.239300742745399,-0.029804827645421,0.143844276666641,-0.174438044428825,0.048548642545938,0.113075159490108,-0.081046730279922,-0.242560416460037,0.038546919822693,-0.183014705777168,0.172801002860069,0.033225215971470));
res += mul(Get(s3,-dx,0), float4x4(-0.181517392396927,0.041808404028416,-0.149302929639816,-0.065897330641747,0.021624676883221,-0.080523185431957,0.026125105097890,-0.023473018780351,0.070321314036846,0.005469108466059,-0.100632190704346,-0.087029740214348,0.014632123522460,-0.015446871519089,0.161662667989731,0.126497015357018));
res += mul(Get(s3,-dx,dy), float4x4(0.087986864149570,-0.169312521815300,-0.245191335678101,-0.001456264173612,-0.070893384516239,-0.113577954471111,-0.003908792976290,0.139345481991768,-0.137299492955208,-0.197996035218239,0.027482535690069,-0.046054828912020,-0.003145237453282,-0.033065989613533,0.002313381759450,-0.101479329168797));
res += mul(Get(s3,0,-dy), float4x4(-0.192471161484718,-0.019643152132630,-0.121158443391323,0.011051821522415,-0.107871674001217,0.062225107103586,0.145783036947250,0.010695262812078,0.012153756804764,0.155731573700905,0.020566556602716,-0.178359135985374,-0.071562439203262,-0.079557210206985,0.194010391831398,0.089771218597889));
res += mul(Get(s3,0,0), float4x4(-0.091715380549431,-0.005209804978222,-0.088023744523525,-0.053150378167629,-0.068206250667572,-0.023368373513222,0.067159011960030,0.130691841244698,-0.016609117388725,0.002476157387719,-0.049281030893326,0.023625835776329,-0.023512579500675,0.018710626289248,-0.109208934009075,0.073751628398895));
res += mul(Get(s3,0,dy), float4x4(0.084611684083939,0.012497282586992,-0.084528930485249,0.129039466381073,0.106242589652538,-0.095933511853218,-0.115374863147736,0.096439339220524,-0.023888295516372,-0.116142325103283,-0.044113200157881,-0.074187226593494,0.171331480145454,0.025467248633504,-0.110929638147354,-0.096774548292160));
res += mul(Get(s3,dx,-dy), float4x4(-0.192959964275360,0.190301164984703,0.063779912889004,0.050763640552759,0.046744503080845,0.077695332467556,0.116997390985489,-0.073721401393414,-0.053114343434572,0.146815329790115,0.123128741979599,-0.048041898757219,0.018756877630949,-0.231213629245758,0.134235858917236,0.019663620740175));
res += mul(Get(s3,dx,0), float4x4(-0.026422515511513,0.043851912021637,0.031662199646235,-0.077850863337517,0.004546813201159,0.021871825680137,-0.037834331393242,-0.082851283252239,-0.085665695369244,0.197478607296944,0.265781372785568,-0.018279116600752,-0.072546087205410,-0.089738138020039,-0.087250381708145,-0.026146803051233));
res += mul(Get(s3,dx,dy), float4x4(0.045424968004227,0.026135558262467,0.089596062898636,-0.049072578549385,0.072994127869606,0.029786396771669,0.066989488899708,0.128932014107704,-0.088867813348770,0.096902251243591,0.020845463499427,-0.080329291522503,0.370230972766876,-0.245766222476959,-0.025977004319429,-0.110380142927170));
return max(float4(0,0,0,0), res);
}
