sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.140360176563263,-0.031913582235575,-0.060673050582409,0.066219508647919,-0.011534683406353,-0.089256279170513,-0.083180218935013,0.045802831649780,-0.057865470647812,-0.019158439710736,-0.043320756405592,0.066193982958794,0.103960677981377,-0.061916749924421,-0.067757792770863,-0.010971440933645));
res += mul(Get(s0,-dx,0), float4x4(0.018760621547699,0.064136162400246,0.102500304579735,0.000333917909302,0.063641287386417,0.017400059849024,0.041657328605652,-0.142105162143707,0.086867719888687,0.099239386618137,0.082638517022133,-0.180720642209053,-0.094035074114799,-0.050402406603098,0.017478873953223,-0.048730153590441));
res += mul(Get(s0,-dx,dy), float4x4(0.015263917855918,-0.016535365954041,0.111467771232128,-0.108268536627293,-0.043912049382925,0.144653230905533,0.006196317728609,-0.228113844990730,0.109787493944168,-0.040922246873379,-0.127916201949120,-0.056616216897964,0.053403068333864,0.097189329564571,0.143308401107788,0.138698130846024));
res += mul(Get(s0,0,-dy), float4x4(-0.093347810208797,-0.024868374690413,0.134053543210030,-0.016006356105208,-0.183712795376778,0.016253743320704,0.029304128140211,-0.219456419348717,0.067787267267704,-0.062604695558548,0.104795433580875,-0.023902315646410,-0.010315365158021,0.007168300915509,0.043224118649960,-0.098633848130703));
res += mul(Get(s0,0,0), float4x4(0.016647728160024,0.030449001118541,-0.024788644164801,0.058200955390930,-0.077414080500603,-0.117785498499870,-0.087126925587654,-0.025205789133906,-0.074288904666901,-0.168188124895096,-0.084056511521339,0.175269633531570,0.111077658832073,0.018458418548107,-0.088762499392033,0.251518875360489));
res += mul(Get(s0,0,dy), float4x4(0.068030230700970,-0.004431784618646,0.026325872167945,-0.093576878309250,-0.092380367219448,-0.039514165371656,0.028570618480444,-0.120600298047066,-0.066028222441673,-0.052124671638012,0.114244431257248,0.018858678638935,0.197365388274193,0.025806320831180,0.084061689674854,0.001916560344398));
res += mul(Get(s0,dx,-dy), float4x4(0.127199023962021,0.037083853036165,-0.061190795153379,0.054633885622025,-0.056970912963152,-0.026654873043299,-0.087174504995346,0.020199384540319,-0.180508002638817,0.157460704445839,0.032742407172918,-0.171347603201866,-0.009568121284246,-0.025234105065465,0.008259478956461,-0.117821060121059));
res += mul(Get(s0,dx,0), float4x4(-0.075965307652950,0.058753263205290,0.151665925979614,0.102479308843613,-0.216690585017204,0.099537819623947,-0.158688902854919,0.075740456581116,0.141231685876846,0.030366601422429,0.000104324455606,0.185373097658157,0.158126309514046,-0.201776459813118,0.125016257166862,-0.153784781694412));
res += mul(Get(s0,dx,dy), float4x4(0.092928245663643,-0.011607315391302,0.012132988311350,-0.026777779683471,-0.077085398137569,0.097071580588818,-0.091800689697266,-0.022619923576713,-0.208647772669792,-0.066492073237896,-0.124968282878399,0.046903148293495,-0.140549957752228,0.138936266303062,-0.052488062530756,-0.025983341038227));
res += mul(Get(s1,-dx,-dy), float4x4(-0.129197210073471,-0.292321562767029,-0.013263755477965,-0.070304505527020,-0.139737159013748,0.055240213871002,-0.018952924758196,-0.052237588912249,-0.230173304677010,0.102323047816753,0.155149981379509,0.095401279628277,0.038265388458967,-0.002668142784387,0.065635852515697,-0.068234547972679));
res += mul(Get(s1,-dx,0), float4x4(0.095457144081593,-0.391839802265167,-0.171709045767784,-0.113679580390453,-0.061624210327864,-0.101706869900227,0.059459753334522,-0.148834556341171,-0.140170484781265,-0.068034067749977,-0.186639174818993,0.127321615815163,-0.142225801944733,0.062062043696642,-0.118406526744366,-0.089274205267429));
res += mul(Get(s1,-dx,dy), float4x4(0.021262699738145,-0.155588045716286,-0.079265512526035,-0.130802974104881,0.093859583139420,-0.142320096492767,0.132659047842026,0.006466913968325,0.128306895494461,0.253301203250885,-0.036075409501791,-0.030462570488453,-0.146964594721794,-0.217669963836670,-0.202007904648781,-0.074434831738472));
res += mul(Get(s1,0,-dy), float4x4(-0.022056765854359,0.016457624733448,-0.015451909042895,-0.011463962495327,-0.012266937643290,0.045755524188280,0.041860818862915,0.036945555359125,-0.103908747434616,0.077863544225693,-0.137746647000313,0.049961160868406,-0.264564961194992,0.120607405900955,0.045896131545305,0.055660594254732));
res += mul(Get(s1,0,0), float4x4(-0.221112579107285,-0.014281249605119,-0.038855284452438,-0.165063843131065,-0.046083953231573,-0.056186143308878,-0.015982327982783,0.211409240961075,-0.007805115543306,0.067472308874130,-0.120693862438202,0.002671435242519,-0.189773529767990,-0.030181732028723,0.202800661325455,0.093298308551311));
res += mul(Get(s1,0,dy), float4x4(-0.015897065401077,-0.033976562321186,0.029031259939075,-0.003997515887022,0.067977726459503,-0.134517118334770,-0.126263469457626,0.031996078789234,-0.071246698498726,0.026163434609771,-0.141621112823486,-0.072233140468597,0.031872525811195,-0.178685382008553,0.112320266664028,0.389527082443237));
res += mul(Get(s1,dx,-dy), float4x4(0.113728582859039,-0.017144814133644,0.057912860065699,-0.015351417474449,-0.045824624598026,-0.195328950881958,-0.144428849220276,0.019315719604492,-0.079962752759457,-0.034429445862770,-0.112881958484650,0.162495702505112,0.311694771051407,-0.022696979343891,0.172833457589149,-0.062047190964222));
res += mul(Get(s1,dx,0), float4x4(-0.009347248822451,0.105662837624550,0.014480818994343,0.076068229973316,-0.099198326468468,-0.148222923278809,-0.092749275267124,-0.078538902103901,-0.148892685770988,0.106010518968105,-0.033462334424257,0.062590986490250,0.089305438101292,-0.064546659588814,0.104640938341618,0.112751401960850));
res += mul(Get(s1,dx,dy), float4x4(-0.058048848062754,0.113701820373535,0.041145142167807,-0.092728458344936,-0.183384656906128,-0.111000530421734,-0.026450147852302,-0.074828721582890,0.063237622380257,0.006449622567743,-0.162918508052826,0.107389025390148,-0.005974625237286,-0.094120569527149,0.215280950069427,0.089447997510433));
res += mul(Get(s2,-dx,-dy), float4x4(0.060765422880650,-0.105974450707436,0.150412932038307,-0.071649998426437,0.022863756865263,0.032384164631367,0.104261770844460,-0.204980164766312,0.061859853565693,0.067259721457958,-0.022458383813500,-0.158502593636513,0.087795972824097,-0.006543365307152,-0.245947644114494,-0.202000007033348));
res += mul(Get(s2,-dx,0), float4x4(-0.183050721883774,0.067973710596561,-0.035901263356209,-0.089843615889549,0.071312800049782,0.069590263068676,0.076895855367184,-0.119119286537170,-0.018590865656734,-0.124227963387966,-0.039434120059013,0.174654141068459,-0.069343902170658,0.118427127599716,0.109140656888485,0.005090919323266));
res += mul(Get(s2,-dx,dy), float4x4(0.116745352745056,-0.082046248018742,0.013738949783146,-0.110277608036995,0.230753034353256,0.017918735742569,-0.042139809578657,0.034722890704870,0.105721488595009,-0.184675529599190,-0.016226403415203,-0.179004967212677,0.119516916573048,-0.118179075419903,-0.048422656953335,-0.010823321528733));
res += mul(Get(s2,0,-dy), float4x4(0.021463863551617,-0.065035782754421,-0.094048164784908,0.111399419605732,-0.260634839534760,0.054807756096125,0.191863328218460,-0.090257801115513,0.026929724961519,-0.076983548700809,-0.040222365409136,-0.020298991352320,0.083788551390171,-0.094004005193710,0.081250697374344,0.046417154371738));
res += mul(Get(s2,0,0), float4x4(-0.092175014317036,0.013670081272721,-0.012366268783808,-0.062232974916697,0.062488045543432,-0.120303161442280,0.078698672354221,-0.090202659368515,-0.115478686988354,0.228464707732201,0.076830841600895,-0.028579663485289,0.057632919400930,-0.289253085851669,0.021938547492027,-0.084517784416676));
res += mul(Get(s2,0,dy), float4x4(0.001388414064422,-0.152252167463303,0.091801725327969,-0.107719473540783,-0.102859355509281,0.120115458965302,0.039902031421661,0.208727300167084,0.061981160193682,-0.060967307537794,-0.114713966846466,0.033222302794456,0.150089457631111,0.124046072363853,-0.076624684035778,0.045374464243650));
res += mul(Get(s2,dx,-dy), float4x4(0.008927159942687,0.100055001676083,0.046966727823019,-0.021527256816626,0.029248168691993,-0.070579394698143,0.031754516065121,0.167534768581390,0.104553572833538,-0.086088895797729,0.025176597759128,-0.073981590569019,-0.127346605062485,0.170965790748596,0.077019929885864,0.062774546444416));
res += mul(Get(s2,dx,0), float4x4(0.013877945952117,-0.291618376970291,-0.107249215245247,-0.077270857989788,0.204125389456749,-0.016455074772239,-0.049712501466274,-0.061032045632601,-0.069717548787594,0.052731033414602,0.003838932141662,-0.025872522965074,0.044158495962620,0.061624132096767,0.073983289301395,0.196247145533562));
res += mul(Get(s2,dx,dy), float4x4(0.108595758676529,-0.041917540132999,0.143521159887314,-0.012999403290451,-0.072016328573227,-0.064987286925316,-0.238748148083687,-0.149008408188820,-0.023750508204103,0.015462823212147,-0.128995746374130,-0.203202471137047,0.162722334265709,0.087343625724316,-0.010268835350871,-0.003461437067017));
res += mul(Get(s3,-dx,-dy), float4x4(0.154644846916199,0.167790636420250,-0.005007460247725,0.037224832922220,-0.086982898414135,-0.030098799616098,0.013994541019201,-0.143733993172646,0.002026692964137,-0.142100587487221,0.063194341957569,0.036011550575495,-0.063935421407223,0.016913302242756,-0.020564259961247,0.083789408206940));
res += mul(Get(s3,-dx,0), float4x4(0.202153995633125,0.053902700543404,-0.006017304956913,-0.018180733546615,0.026965586468577,-0.096943214535713,0.018158154562116,-0.124091058969498,-0.010984817519784,0.077919967472553,0.079142056405544,-0.021795935928822,0.113199062645435,-0.020277677103877,0.138909101486206,-0.093702346086502));
res += mul(Get(s3,-dx,dy), float4x4(-0.130507916212082,-0.029000261798501,0.049162592738867,0.005238676909357,0.074170008301735,0.078319504857063,-0.079677388072014,-0.059340469539165,-0.279481589794159,-0.073066398501396,-0.083115503191948,-0.039496567100286,-0.081160426139832,-0.360092908143997,0.144364297389984,-0.071910828351974));
res += mul(Get(s3,0,-dy), float4x4(0.132018104195595,0.104433149099350,-0.166602224111557,0.016655923798680,0.023786898702383,0.035350114107132,0.087692566215992,-0.039113752543926,-0.029151698574424,-0.074129901826382,0.159059599041939,-0.192295014858246,0.119178615510464,-0.068862728774548,-0.075074315071106,-0.076619878411293));
res += mul(Get(s3,0,0), float4x4(0.034997489303350,0.113133244216442,0.127403587102890,0.181926757097244,-0.030141940340400,0.063769191503525,0.027095636352897,-0.013555786572397,0.064767070114613,-0.066310666501522,-0.124644413590431,0.020881265401840,0.168693095445633,0.039614103734493,-0.062710359692574,-0.191431164741516));
res += mul(Get(s3,0,dy), float4x4(0.041913624852896,0.158716648817062,-0.180221557617188,0.117411628365517,0.139137506484985,0.136634781956673,0.009815589524806,-0.060031551867723,0.071030072867870,-0.105417735874653,-0.089295685291290,0.044064737856388,0.104299120604992,0.025249384343624,0.040629617869854,0.013121993280947));
res += mul(Get(s3,dx,-dy), float4x4(0.144248202443123,-0.007962170056999,-0.062291231006384,-0.044473063200712,0.180938899517059,0.157549262046814,0.087008014321327,-0.029143745079637,-0.220949411392212,-0.043153658509254,0.060203634202480,-0.151933178305626,0.007325161248446,0.025123871862888,0.106422133743763,0.029737077653408));
res += mul(Get(s3,dx,0), float4x4(0.017592865973711,0.059689857065678,0.074007257819176,0.091328278183937,0.054313406348228,-0.250497221946716,0.002657877048478,-0.128440007567406,-0.035452645272017,0.116799123585224,-0.243102103471756,-0.025521609932184,-0.002545819152147,-0.111837074160576,0.285440891981125,-0.084757618606091));
res += mul(Get(s3,dx,dy), float4x4(0.056196201592684,-0.086330123245716,-0.103562362492085,0.161727830767632,-0.123788006603718,-0.015102858655155,-0.077029615640640,-0.142090827226639,0.085270129144192,0.076876237988472,-0.146321162581444,-0.006678618490696,-0.072322256863117,-0.022033875808120,0.034926801919937,-0.103385969996452));
return max(float4(0,0,0,0), res);
}
