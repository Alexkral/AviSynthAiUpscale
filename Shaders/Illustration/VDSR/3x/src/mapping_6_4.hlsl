sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.073854893445969,-0.293059855699539,0.045659195631742,-0.132984414696693,0.034939359873533,-0.066339068114758,-0.021458787843585,0.164816111326218,-0.068324290215969,-0.099360428750515,-0.066031523048878,-0.134875476360321,0.034432377666235,-0.141228154301643,0.096015863120556,-0.011254942975938));
res += mul(Get(s0,-dx,0), float4x4(-0.108199983835220,-0.127571716904640,-0.152040392160416,-0.084822073578835,0.000356753851520,0.178639411926270,0.057112175971270,-0.099764674901962,0.262582421302795,-0.010455010458827,-0.050577569752932,0.092516131699085,-0.031410861760378,-0.134820014238358,-0.084089718759060,-0.068587034940720));
res += mul(Get(s0,-dx,dy), float4x4(0.084721274673939,-0.046751342713833,-0.060741674154997,0.170336231589317,0.076857618987560,0.012051043100655,0.052668370306492,-0.180744558572769,0.133802130818367,-0.170848488807678,0.006569775287062,0.070972748100758,0.037654563784599,0.170356974005699,0.367062568664551,0.125679627060890));
res += mul(Get(s0,0,-dy), float4x4(-0.075322307646275,-0.014679715968668,-0.122766993939877,-0.160148665308952,-0.157091632485390,-0.108832284808159,-0.068037644028664,0.121988266706467,-0.078939750790596,0.118691571056843,-0.120610430836678,-0.088633731007576,-0.019715081900358,-0.065980046987534,0.076993867754936,-0.114263318479061));
res += mul(Get(s0,0,0), float4x4(0.006099094171077,0.014515593647957,-0.210014268755913,-0.067156396806240,-0.093763262033463,0.164194807410240,-0.178279608488083,-0.121833920478821,-0.099938005208969,0.130076646804810,-0.139847859740257,0.097815468907356,-0.070840328931808,-0.104952506721020,-0.018264265730977,-0.090709827840328));
res += mul(Get(s0,0,dy), float4x4(0.177626982331276,0.118145942687988,-0.023776600137353,0.048560652881861,0.001753598335199,0.011272269301116,-0.199837043881416,0.041931755840778,0.108562506735325,0.448283791542053,-0.219441533088684,0.087487265467644,0.045566692948341,-0.159785747528076,0.070617310702801,-0.065260469913483));
res += mul(Get(s0,dx,-dy), float4x4(-0.160199254751205,0.034183029085398,0.218311458826065,-0.059345651417971,-0.039470866322517,-0.055344063788652,0.078239619731903,-0.053549300879240,-0.262977600097656,-0.106986291706562,-0.151306375861168,-0.118017278611660,0.200942322611809,0.227718055248260,0.201878562569618,-0.045258954167366));
res += mul(Get(s0,dx,0), float4x4(-0.025370830669999,-0.174490287899971,-0.032801523804665,-0.232896924018860,-0.189968302845955,0.268532812595367,-0.120280772447586,-0.000745419296436,0.115900523960590,-0.097918599843979,-0.122212231159210,0.074528954923153,-0.083301514387131,0.280865728855133,-0.077379897236824,-0.146292760968208));
res += mul(Get(s0,dx,dy), float4x4(0.119228959083557,-0.103262908756733,-0.046239249408245,0.063825137913227,-0.143351733684540,-0.016108833253384,-0.005178470164537,-0.104834474623203,0.111137710511684,-0.042020794004202,-0.097507037222385,-0.144356966018677,0.070721954107285,0.235191181302071,0.144904762506485,0.092510066926479));
res += mul(Get(s1,-dx,-dy), float4x4(0.140777349472046,-0.075111553072929,-0.091582417488098,-0.071738496422768,-0.064578965306282,-0.108784750103951,0.128379136323929,-0.090460330247879,-0.182055979967117,0.073624692857265,-0.031626276671886,-0.158076167106628,0.027403390035033,-0.061760410666466,-0.021344445645809,-0.159364297986031));
res += mul(Get(s1,-dx,0), float4x4(0.037767749279737,-0.074269175529480,-0.003588197752833,-0.024742640554905,-0.067899368703365,-0.149946972727776,-0.289140760898590,0.321238517761230,-0.141347184777260,0.009539127349854,-0.147757157683372,-0.151571467518806,-0.146012932062149,-0.163178965449333,-0.040937565267086,-0.176230788230896));
res += mul(Get(s1,-dx,dy), float4x4(0.144753485918045,-0.035731643438339,-0.109330937266350,0.088725000619888,-0.062618173658848,-0.308626472949982,-0.106828637421131,0.159001186490059,-0.199894800782204,-0.098641186952591,-0.140956133604050,-0.121325984597206,0.014281442388892,0.086497485637665,-0.054235473275185,0.330515265464783));
res += mul(Get(s1,0,-dy), float4x4(-0.008212541230023,-0.006734605412930,-0.163248568773270,-0.147487401962280,-0.155169129371643,0.013610073365271,-0.141083881258965,-0.095906116068363,-0.150409340858459,0.059887219220400,-0.025325981900096,-0.026818389073014,-0.135873228311539,0.026341164484620,0.291261404752731,0.016228752210736));
res += mul(Get(s1,0,0), float4x4(-0.068869210779667,-0.010505743324757,-0.064049772918224,-0.103693306446075,-0.070826590061188,0.117521002888680,-0.044218748807907,-0.026934614405036,-0.102761924266815,-0.013846787624061,0.439169317483902,-0.019597603008151,-0.209584519267082,0.020791383460164,0.011344010010362,-0.027139879763126));
res += mul(Get(s1,0,dy), float4x4(-0.107411317527294,0.270973920822144,-0.098426468670368,-0.135708391666412,-0.113939441740513,-0.038240313529968,-0.034043241292238,0.052629310637712,0.100527957081795,0.011399827897549,0.157939374446869,-0.132209315896034,0.017884874716401,0.086176216602325,0.143116801977158,0.132943660020828));
res += mul(Get(s1,dx,-dy), float4x4(-0.121698632836342,-0.012038644403219,0.023999750614166,-0.184659510850906,-0.049448966979980,-0.037646509706974,0.040895946323872,-0.001277871779166,-0.182357266545296,-0.161594912409782,-0.139047592878342,0.053980167955160,0.021436849609017,-0.106812953948975,-0.036983519792557,0.229133814573288));
res += mul(Get(s1,dx,0), float4x4(-0.186323866248131,-0.021197132766247,0.081348717212677,-0.224679991602898,0.115790680050850,-0.041118320077658,0.037311058491468,-0.103313036262989,-0.094825819134712,0.097385570406914,-0.103384040296078,0.044634748250246,-0.073590248823166,-0.045028898864985,0.034418988972902,-0.036455221474171));
res += mul(Get(s1,dx,dy), float4x4(-0.198704779148102,0.075280390679836,-0.158762350678444,-0.300360828638077,0.064034707844257,0.057928044348955,-0.174674525856972,-0.007461212109774,0.013934127986431,-0.042935915291309,0.086813718080521,0.023004246875644,0.173272460699081,-0.097377471625805,-0.005462029483169,0.070545330643654));
res += mul(Get(s2,-dx,-dy), float4x4(-0.081258162856102,0.042586676776409,0.096491508185863,-0.048856984823942,-0.281956940889359,-0.067158788442612,0.052214931696653,-0.119605638086796,-0.174573361873627,-0.106839001178741,-0.060783434659243,0.025745026767254,-0.014389462769032,-0.096297651529312,-0.012885976582766,0.128926262259483));
res += mul(Get(s2,-dx,0), float4x4(0.013705058954656,-0.051863249391317,0.061096239835024,-0.105847105383873,-0.055550437420607,-0.031881101429462,0.044667564332485,-0.073351353406906,-0.026728887110949,-0.056775517761707,-0.125325590372086,-0.074524864554405,0.042696833610535,-0.093299560248852,0.069501310586929,-0.005001540295780));
res += mul(Get(s2,-dx,dy), float4x4(0.223975852131844,0.002748043276370,0.111238680779934,0.002876616548747,-0.130761206150055,-0.085878573358059,-0.030787514522672,0.117624953389168,0.018276188522577,0.155753597617149,-0.145185023546219,0.085061147809029,0.013930425047874,-0.002853125566617,0.089950449764729,0.146518468856812));
res += mul(Get(s2,0,-dy), float4x4(0.040425643324852,-0.011341087520123,0.054312311112881,-0.051192671060562,-0.183632016181946,0.170530810952187,-0.001648173783906,-0.066581308841705,-0.127520143985748,-0.060142714530230,-0.119207322597504,-0.183660089969635,0.089464701712132,0.261571913957596,-0.031422421336174,0.100950755178928));
res += mul(Get(s2,0,0), float4x4(0.037235468626022,0.155156478285789,-0.030758507549763,0.030883602797985,-0.181445434689522,0.001525129191577,0.066405870020390,-0.035578276962042,-0.076545566320419,0.073151759803295,-0.190722137689590,-0.184162601828575,-0.032838366925716,0.093388505280018,0.157425016164780,-0.080985262989998));
res += mul(Get(s2,0,dy), float4x4(0.142589256167412,0.226186424493790,0.028693534433842,-0.059721179306507,-0.031236995011568,0.032701406627893,0.110423199832439,0.223835378885269,0.051218934357166,0.369754910469055,-0.141580447554588,-0.016042690724134,-0.083772972226143,0.046031024307013,0.059672947973013,-0.031136507168412));
res += mul(Get(s2,dx,-dy), float4x4(-0.154931336641312,0.061737142503262,-0.031082186847925,-0.062932521104813,-0.250755131244659,-0.035690046846867,-0.009479351341724,0.052612069994211,-0.177332729101181,-0.056142438203096,-0.123583145439625,0.014028416946530,-0.086351215839386,-0.209682151675224,0.057215385138988,0.100232064723969));
res += mul(Get(s2,dx,0), float4x4(-0.115771256387234,0.181890249252319,-0.092637613415718,0.081490784883499,-0.057276863604784,-0.185969635844231,0.050505083054304,0.078268282115459,-0.108487419784069,0.019314514473081,-0.085490450263023,0.038805108517408,0.003499550512061,-0.085117861628532,0.052648771554232,0.050067141652107));
res += mul(Get(s2,dx,dy), float4x4(-0.019790684804320,0.298491328954697,-0.030022807419300,-0.227406352758408,-0.154257565736771,-0.152147069573402,-0.026238407939672,0.084147796034813,-0.002551752375439,-0.307710379362106,0.109782412648201,0.019238719716668,-0.059987183660269,-0.240330025553703,0.300314098596573,0.106051363050938));
res += mul(Get(s3,-dx,-dy), float4x4(-0.190341711044312,0.070160180330276,0.076462283730507,-0.183578744530678,-0.104445964097977,0.104515239596367,0.133901208639145,0.213183134794235,0.069957017898560,-0.018563341349363,-0.046755015850067,-0.201466903090477,0.198658615350723,0.308734446763992,0.003994851373136,0.284093230962753));
res += mul(Get(s3,-dx,0), float4x4(0.064932607114315,-0.113059557974339,-0.055097360163927,-0.086254641413689,0.329961955547333,-0.051671016961336,0.087877988815308,0.108054168522358,-0.015482347458601,0.048079736530781,0.149870112538338,0.305081188678741,-0.031632084399462,-0.148634448647499,0.055560912936926,0.195878237485886));
res += mul(Get(s3,-dx,dy), float4x4(-0.068651065230370,0.043868005275726,-0.122607909142971,-0.027330724522471,0.263969957828522,-0.075433515012264,-0.022911669686437,0.055082883685827,-0.076997488737106,-0.128817021846771,-0.042746048420668,-0.102006040513515,-0.072834789752960,-0.091060936450958,-0.142262101173401,-0.053900048136711));
res += mul(Get(s3,0,-dy), float4x4(-0.190706223249435,-0.042252913117409,-0.066346473991871,0.017211915925145,-0.005801884457469,0.059979241341352,-0.080322094261646,0.070100270211697,0.299445062875748,0.084942035377026,-0.030567176640034,-0.244355961680412,0.314812421798706,-0.108519129455090,0.190443009138107,-0.073638439178467));
res += mul(Get(s3,0,0), float4x4(-0.097451642155647,-0.147286385297775,-0.039606276899576,-0.019854759797454,0.079927481710911,-0.106733180582523,-0.081791713833809,0.022654201835394,0.032366815954447,0.150549888610840,-0.058136217296124,-0.073473714292049,-0.163902282714844,-0.149988278746605,-0.070540830492973,-0.042863275855780));
res += mul(Get(s3,0,dy), float4x4(0.026064671576023,0.028236422687769,-0.081693470478058,-0.125964358448982,0.110933192074299,0.082567289471626,-0.036008425056934,0.069648995995522,-0.032702688127756,-0.048311416059732,-0.121695548295975,-0.175613328814507,0.180208086967468,0.150600686669350,-0.052706535905600,-0.002615429228172));
res += mul(Get(s3,dx,-dy), float4x4(-0.149586871266365,0.193375572562218,-0.252002537250519,-0.043997123837471,0.002947879489511,0.111265689134598,-0.121292151510715,-0.061592657119036,-0.028001904487610,0.050776179879904,0.201913312077522,-0.003520744154230,0.094759002327919,-0.123003892600536,-0.009281693957746,-0.120202913880348));
res += mul(Get(s3,dx,0), float4x4(-0.089894130825996,-0.165879994630814,-0.216700792312622,-0.118286788463593,-0.067892685532570,-0.015721755102277,-0.000532112317160,-0.057622518390417,-0.095101326704025,-0.210956469178200,0.278720229864120,0.065722204744816,-0.114244230091572,-0.224111855030060,0.028148012235761,-0.150675103068352));
res += mul(Get(s3,dx,dy), float4x4(0.238005071878433,-0.074711352586746,-0.222143203020096,-0.177364438772202,0.068419560790062,-0.033713366836309,-0.057634219527245,-0.000494566629641,-0.217524737119675,-0.115652278065681,0.357385724782944,0.028771257027984,0.065014608204365,0.072602257132530,0.024594046175480,-0.064811579883099));
return max(float4(0,0,0,0), res);
}
