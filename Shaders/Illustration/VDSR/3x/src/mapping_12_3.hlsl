sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.062706589698792,-0.119503423571587,0.110535338521004,-0.045175913721323,0.257079243659973,-0.106313802301884,0.274969190359116,-0.073529928922653,-0.071464128792286,0.037802886217833,-0.016130307689309,-0.154706880450249,-0.107509426772594,-0.010534887202084,0.010559723712504,-0.085642814636230));
res += mul(Get(s0,-dx,0), float4x4(0.179579690098763,-0.026754768565297,0.017132094129920,-0.040005214512348,0.012960109859705,-0.035458620637655,0.034279715269804,0.145083338022232,0.016382910311222,0.013275336474180,-0.096859835088253,0.094941310584545,0.037126541137695,-0.008672426454723,-0.036536898463964,-0.019059598445892));
res += mul(Get(s0,-dx,dy), float4x4(0.283223569393158,0.003361415816471,-0.057847395539284,-0.160938143730164,0.070593483746052,0.105175778269768,0.005470626056194,0.152151301503181,0.219885408878326,0.075759306550026,0.004514839965850,-0.132605180144310,0.084780484437943,0.141728147864342,-0.064312115311623,0.018074147403240));
res += mul(Get(s0,0,-dy), float4x4(-0.105235189199448,-0.064706198871136,-0.039230819791555,0.020171126350760,0.045133024454117,0.045851100236177,0.204624921083450,-0.012953470461071,-0.073998853564262,0.411151587963104,-0.069252103567123,-0.080587290227413,-0.058533459901810,0.013963169418275,-0.176540061831474,-0.054102405905724));
res += mul(Get(s0,0,0), float4x4(0.383423149585724,-0.069545201957226,-0.047501668334007,0.010189048945904,0.065935932099819,0.040083974599838,-0.013125155121088,-0.051131032407284,0.010737782344222,0.246782779693604,-0.093402490019798,-0.065636679530144,0.011190041899681,0.089576870203018,0.152021840214729,-0.095244027674198));
res += mul(Get(s0,0,dy), float4x4(0.112013094127178,-0.032510146498680,0.012954508885741,-0.162682950496674,0.154361039400101,0.169755578041077,-0.030434332787991,0.226244777441025,0.172814637422562,0.076613157987595,-0.083542138338089,-0.012657166458666,0.256595611572266,0.057604998350143,0.187085330486298,0.172668248414993));
res += mul(Get(s0,dx,-dy), float4x4(-0.393830060958862,-0.001325374585576,-0.024169698357582,0.028343329206109,0.075667768716812,-0.018412642180920,0.214533105492592,0.040889460593462,-0.155700653791428,0.151707544922829,-0.049080703407526,-0.155809044837952,-0.168161347508430,-0.006017512641847,-0.143399059772491,-0.036714758723974));
res += mul(Get(s0,dx,0), float4x4(-0.018390789628029,-0.092556245625019,-0.013923557475209,0.036493569612503,-0.053909223526716,-0.072479896247387,0.030797483399510,0.035488847643137,-0.086515501141548,0.051724206656218,-0.056015752255917,-0.078027814626694,-0.269503504037857,-0.001825009938329,-0.024183826521039,0.018037952482700));
res += mul(Get(s0,dx,dy), float4x4(0.096356593072414,-0.040087938308716,0.159888744354248,-0.165274262428284,-0.063422061502934,-0.004045054316521,0.010360386222601,0.067243352532387,-0.133945196866989,-0.057120494544506,-0.066906921565533,-0.064308091998100,-0.128735974431038,0.013768636621535,-0.139313817024231,-0.037709210067987));
res += mul(Get(s1,-dx,-dy), float4x4(0.081040211021900,-0.068903990089893,-0.140760987997055,-0.020459046587348,-0.031931355595589,-0.197979480028152,0.119700245559216,0.194309622049332,-0.061570037156343,0.027185117825866,-0.062133461236954,0.061674095690250,-0.041356701403856,0.119362376630306,-0.027939476072788,-0.161766633391380));
res += mul(Get(s1,-dx,0), float4x4(0.080407507717609,-0.144175767898560,-0.090527370572090,0.072002761065960,-0.046833537518978,0.045650951564312,-0.013621912337840,-0.000411690678447,0.070727549493313,0.035524409264326,-0.080693669617176,0.113514237105846,0.143497452139854,0.066759623587132,0.054674554616213,-0.156780794262886));
res += mul(Get(s1,-dx,dy), float4x4(0.223332613706589,-0.021330511197448,-0.059053134173155,0.081461966037750,-0.012463975697756,0.052416946738958,-0.017064560204744,-0.015675049275160,0.040734462440014,-0.085547536611557,-0.109865814447403,0.040338046848774,0.118021398782730,0.214445874094963,-0.054915089160204,0.017600495368242));
res += mul(Get(s1,0,-dy), float4x4(-0.110532104969025,-0.157322540879250,-0.171139627695084,-0.206632524728775,-0.020332805812359,-0.093492873013020,0.105749532580376,0.062487952411175,0.000190393213416,0.036431837826967,-0.115451328456402,0.004871570039541,0.173352017998695,-0.118380442261696,0.023247912526131,0.030825415626168));
res += mul(Get(s1,0,0), float4x4(-0.197309508919716,-0.220065712928772,-0.110465571284294,-0.075913332402706,-0.098708108067513,-0.062679350376129,-0.124830320477486,0.040377039462328,-0.028700618073344,0.018229339271784,-0.161490440368652,0.177162498235703,0.183569371700287,-0.027688320726156,-0.018189676105976,0.036321435123682));
res += mul(Get(s1,0,dy), float4x4(-0.236228227615356,-0.067780122160912,-0.045279644429684,-0.037238553166389,-0.034153003245592,0.012194618582726,-0.098322980105877,-0.209039717912674,0.076566964387894,-0.131527990102768,-0.079230159521103,0.111124992370605,-0.050753332674503,0.155759543180466,-0.042231142520905,0.172605231404305));
res += mul(Get(s1,dx,-dy), float4x4(-0.018353050574660,0.063108153641224,-0.232531324028969,0.165278822183609,0.263646513223648,0.123400606215000,0.144965365529060,-0.123372346162796,-0.124118283390999,0.000054681684560,-0.044361367821693,-0.009648441337049,0.071691110730171,-0.093253731727600,-0.066346302628517,-0.173659041523933));
res += mul(Get(s1,dx,0), float4x4(0.255253016948700,0.033701796084642,-0.004634642973542,-0.160829916596413,0.152215078473091,-0.008097014389932,-0.051892593502998,-0.068354323506355,-0.105647213757038,-0.033846415579319,-0.076026082038879,0.168419197201729,-0.092556662857533,0.109156683087349,0.088570870459080,-0.117960177361965));
res += mul(Get(s1,dx,dy), float4x4(-0.299836844205856,-0.067200496792793,0.086800411343575,-0.317707389593124,-0.045175589621067,0.390756517648697,-0.045620486140251,-0.144827067852020,-0.107871472835541,0.091893270611763,-0.114266648888588,0.225939452648163,-0.108558222651482,0.323229879140854,0.089414462447166,-0.025573965162039));
res += mul(Get(s2,-dx,-dy), float4x4(0.048864793032408,0.000817273219582,0.103149458765984,-0.138957440853119,-0.020934382453561,0.148938074707985,-0.072088360786438,-0.096284814178944,-0.010427513159811,0.050543110817671,-0.155717372894287,-0.140047475695610,-0.021049372851849,0.024494681507349,-0.111358337104321,0.076731033623219));
res += mul(Get(s2,-dx,0), float4x4(-0.038381602615118,0.125726416707039,-0.055145680904388,0.040499899536371,-0.041242897510529,0.086966015398502,-0.090896144509315,-0.029321877285838,0.086493417620659,-0.191712006926537,-0.044765841215849,-0.126652568578720,-0.020925099030137,-0.003725238610059,0.023427000269294,-0.091943949460983));
res += mul(Get(s2,-dx,dy), float4x4(0.074518121778965,-0.008144062012434,0.042910415679216,0.033340245485306,0.062234852463007,0.078639328479767,-0.061789408326149,-0.165568351745605,-0.037581261247396,-0.152218565344810,0.097456753253937,-0.029974449425936,-0.242686077952385,0.081725291907787,-0.067075021564960,0.192289322614670));
res += mul(Get(s2,0,-dy), float4x4(-0.169742047786713,-0.059642016887665,0.221299752593040,-0.055869042873383,0.181587308645248,0.093493945896626,0.193479672074318,0.051455751061440,0.375686824321747,-0.123491071164608,-0.006665469612926,-0.152602732181549,-0.001989891054109,-0.045576650649309,-0.053947761654854,0.084576003253460));
res += mul(Get(s2,0,0), float4x4(-0.121044568717480,0.066834978759289,-0.119193740189075,-0.036301873624325,0.028632702305913,-0.014048430137336,0.081341989338398,-0.036193206906319,0.170311987400055,-0.026655841618776,0.264305472373962,-0.046979941427708,-0.086499340832233,0.041249804198742,-0.006125541403890,-0.002655171090737));
res += mul(Get(s2,0,dy), float4x4(0.058058522641659,0.041481200605631,0.036641966551542,-0.225038036704063,-0.113911241292953,-0.018806831911206,-0.035859994590282,-0.031377032399178,-0.060775838792324,0.222768962383270,0.153043553233147,0.186561509966850,-0.062146216630936,0.051070034503937,-0.058787461370230,0.211368247866631));
res += mul(Get(s2,dx,-dy), float4x4(-0.046507924795151,-0.024053782224655,0.229817926883698,-0.013850535266101,-0.106568776071072,-0.062313511967659,0.054635435342789,0.041018474847078,0.029461611062288,-0.080381207168102,0.141802504658699,-0.121406942605972,0.017519626766443,0.202113002538681,-0.089225523173809,0.057694800198078));
res += mul(Get(s2,dx,0), float4x4(-0.097771570086479,0.010362955741584,-0.090946242213249,0.214342489838600,0.037059921771288,-0.110756225883961,-0.079063095152378,0.051993429660797,-0.128551706671715,-0.183693647384644,0.172915518283844,-0.251025408506393,0.184112131595612,0.148229584097862,0.012320548295975,-0.045573446899652));
res += mul(Get(s2,dx,dy), float4x4(-0.098234944045544,-0.018038541078568,-0.100061915814877,0.166246384382248,-0.131964430212975,-0.188657000660896,-0.130032002925873,0.175646036863327,-0.097100928425789,-0.217482656240463,0.204335391521454,0.110641047358513,0.000828809570521,0.099785558879375,0.090998850762844,0.149156704545021));
res += mul(Get(s3,-dx,-dy), float4x4(0.202452510595322,-0.045881442725658,0.087354719638824,-0.183249741792679,0.022221699357033,0.034506004303694,0.048555556684732,0.005825511179864,0.111363083124161,-0.015256818383932,-0.130197986960411,0.231300368905067,0.033341363072395,0.084240548312664,-0.145898893475533,-0.095201887190342));
res += mul(Get(s3,-dx,0), float4x4(-0.000817096326500,0.028645897284150,-0.016032174229622,-0.021295104175806,0.303265392780304,0.108165726065636,0.114124678075314,-0.070836082100868,0.116860255599022,-0.052361402660608,0.029444407671690,0.086634941399097,-0.123481623828411,-0.012363765388727,-0.002741337986663,-0.074428662657738));
res += mul(Get(s3,-dx,dy), float4x4(-0.022439559921622,0.043812554329634,0.016891600564122,0.102464675903320,-0.042187251150608,0.106535300612450,-0.050339147448540,-0.102819144725800,-0.009446156211197,0.176240876317024,0.016766395419836,0.214168697595596,-0.158126994967461,-0.023715728893876,-0.106971308588982,0.573615789413452));
res += mul(Get(s3,0,-dy), float4x4(0.201361596584320,-0.072256878018379,-0.013276418671012,-0.113152451813221,0.064635112881660,-0.139420598745346,0.045362684875727,0.096468925476074,0.075183913111687,0.028947034850717,-0.073873892426491,0.183294221758842,0.228802382946014,-0.046863976866007,-0.072885408997536,-0.106571488082409));
res += mul(Get(s3,0,0), float4x4(-0.146948128938675,-0.062081359326839,0.179816111922264,0.051208905875683,0.111534237861633,-0.117900587618351,-0.018310807645321,0.004798088688403,0.284443378448486,-0.003460441716015,-0.011604348197579,0.105688273906708,0.122148960828781,-0.086947970092297,0.107476577162743,-0.235458925366402));
res += mul(Get(s3,0,dy), float4x4(-0.029714114964008,0.165828242897987,-0.053801275789738,-0.115134328603745,-0.111718542873859,-0.164293229579926,0.087443254888058,-0.101526863873005,0.268188863992691,-0.037988521158695,-0.053210772573948,0.136521473526955,0.367080569267273,-0.157119289040565,-0.032226748764515,-0.013010592199862));
res += mul(Get(s3,dx,-dy), float4x4(0.023591699078679,-0.170184746384621,0.067175775766373,0.115710943937302,-0.102122165262699,-0.167674556374550,-0.050102472305298,0.211030602455139,-0.083075895905495,-0.090511031448841,-0.109092332422733,0.159863442182541,-0.179924026131630,-0.006517731584609,0.103021696209908,-0.134210482239723));
res += mul(Get(s3,dx,0), float4x4(-0.097631305456161,0.093202345073223,0.012078673578799,-0.026758959516883,0.036545023322105,-0.045649733394384,-0.084491223096848,-0.072645574808121,-0.076518289744854,-0.107063621282578,-0.003484517568722,0.124537721276283,-0.174258485436440,-0.016566164791584,0.168852388858795,-0.123713240027428));
res += mul(Get(s3,dx,dy), float4x4(-0.282772004604340,0.053208772093058,-0.053470831364393,-0.042518321424723,-0.330325603485107,-0.072947867214680,0.160772383213043,0.030120221897960,-0.326986581087112,-0.198978736996651,-0.074440620839596,0.015928475186229,-0.254533857107162,-0.140643447637558,0.384923130273819,-0.012161749415100));
return max(float4(0,0,0,0), res);
}
