sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.106274455785751,-0.120440453290939,-0.058396860957146,-0.146749779582024,0.093566164374352,-0.056456647813320,0.155360519886017,0.027936261147261,-0.039339192211628,0.080354005098343,-0.080338433384895,0.047743100672960,0.031763646751642,-0.132764026522636,0.015290487557650,0.083340212702751));
res += mul(Get(s0,-dx,0), float4x4(-0.022923586890101,0.110359899699688,-0.006365754641593,0.081441611051559,-0.047277878969908,-0.043686881661415,-0.197107240557671,0.078966982662678,-0.080147139728069,-0.059726860374212,0.221576079726219,0.034351754933596,0.027401160448790,0.142230093479156,0.083252184092999,0.086960777640343));
res += mul(Get(s0,-dx,dy), float4x4(0.155069112777710,-0.059678636491299,0.021361634135246,0.167594596743584,0.056038107722998,-0.088445238769054,0.064210616052151,0.095907203853130,-0.154281184077263,0.001579842879437,0.142290249466896,-0.086296826601028,0.032649397850037,-0.005597847513855,-0.093285813927650,-0.034121885895729));
res += mul(Get(s0,0,-dy), float4x4(-0.287525564432144,0.013197963126004,0.049366567283869,0.003406128380448,-0.030942160636187,0.138195455074310,0.037890385836363,-0.029267640784383,-0.076779268682003,-0.276291817426682,-0.024524718523026,-0.072141468524933,0.067901596426964,0.106635920703411,-0.208087995648384,0.055313397198915));
res += mul(Get(s0,0,0), float4x4(-0.274635374546051,-0.086552850902081,0.032956808805466,0.300540834665298,0.020867085084319,0.128108218312263,0.067106112837791,0.080026276409626,-0.074250437319279,-0.032256245613098,-0.011910687200725,0.058049216866493,0.131201237440109,0.054731041193008,-0.152561247348785,-0.138525530695915));
res += mul(Get(s0,0,dy), float4x4(0.096215762197971,0.017929838970304,-0.043170794844627,0.174767807126045,-0.050939813256264,-0.048211082816124,-0.101278387010098,-0.028676515445113,-0.016097273677588,-0.046227633953094,-0.116495534777641,0.063824735581875,-0.010888716205955,-0.153681963682175,0.101779714226723,-0.130674362182617));
res += mul(Get(s0,dx,-dy), float4x4(-0.033238545060158,0.038729004561901,-0.097241714596748,0.176427721977234,-0.213821128010750,-0.143876805901527,0.013989901170135,-0.139554023742676,0.138765871524811,-0.071586288511753,0.048017002642155,-0.172018468379974,-0.060229722410440,0.076942525804043,-0.025051044300199,-0.010824512690306));
res += mul(Get(s0,dx,0), float4x4(-0.037674162536860,-0.130089715123177,-0.169457510113716,-0.066763237118721,0.033787075430155,0.024720469489694,-0.020906025543809,0.097302109003067,0.051434058696032,-0.022070763632655,0.044346813112497,-0.098427563905716,0.095131516456604,-0.091636501252651,-0.175453215837479,0.047924172133207));
res += mul(Get(s0,dx,dy), float4x4(0.104444809257984,0.064418248832226,-0.205963194370270,0.025625998154283,0.079057432711124,0.066839262843132,0.070524401962757,-0.046382274478674,-0.037719126790762,-0.139855444431305,0.090932697057724,-0.198242202401161,-0.042128864675760,-0.128443777561188,-0.076345108449459,0.079797714948654));
res += mul(Get(s1,-dx,-dy), float4x4(-0.165669336915016,-0.026986701413989,0.056297581642866,0.045032840222120,-0.003868150059134,0.159337267279625,0.105527795851231,0.065879330039024,-0.034305382519960,-0.118516355752945,-0.159418076276779,0.056950595229864,0.008136315271258,0.274581789970398,0.031890917569399,-0.012994484044611));
res += mul(Get(s1,-dx,0), float4x4(-0.007163674104959,-0.127637848258018,0.001786639797501,0.084302961826324,-0.143191978335381,0.123840376734734,-0.030622811987996,0.071660891175270,-0.040633376687765,-0.007108123973012,-0.127982780337334,-0.057725012302399,0.063036449253559,0.190182924270630,0.166461452841759,0.178718894720078));
res += mul(Get(s1,-dx,dy), float4x4(-0.159082695841789,0.006907462608069,0.196482717990875,-0.002989521017298,0.217520400881767,-0.059287853538990,0.172612428665161,-0.034427382051945,-0.112517036497593,0.007943529635668,0.029500871896744,0.073469012975693,-0.021084263920784,0.088036827743053,0.210215300321579,0.174452900886536));
res += mul(Get(s1,0,-dy), float4x4(0.011568024754524,0.120096161961555,-0.016344152390957,-0.055497519671917,-0.049485523253679,-0.074533231556416,0.154377654194832,-0.030018581077456,0.133256301283836,-0.023008862510324,-0.144587546586990,0.013964539393783,-0.177523419260979,0.011376937851310,-0.051532633602619,-0.052079677581787));
res += mul(Get(s1,0,0), float4x4(-0.037225659936666,0.101910650730133,-0.010190735571086,0.088004015386105,0.111342169344425,-0.065807454288006,-0.112140752375126,0.030738798901439,0.105310820043087,-0.197324201464653,-0.179671958088875,0.144743740558624,-0.005138447042555,-0.020220560953021,0.214414909482002,0.112889237701893));
res += mul(Get(s1,0,dy), float4x4(-0.102912090718746,0.068847358226776,-0.028025001287460,0.067579492926598,0.080179512500763,-0.153544053435326,0.080378338694572,0.105974167585373,0.077637724578381,-0.191238507628441,0.149388805031776,-0.046704757958651,-0.031949799507856,0.186113715171814,-0.187743112444878,0.089498199522495));
res += mul(Get(s1,dx,-dy), float4x4(0.112573102116585,-0.015760790556669,-0.071769729256630,-0.079823277890682,0.080146521329880,-0.036492533981800,-0.106675170361996,0.083410024642944,-0.206270143389702,0.007745584938675,0.114835180342197,-0.046805329620838,0.285608500242233,-0.147557392716408,-0.175073102116585,0.168621987104416));
res += mul(Get(s1,dx,0), float4x4(-0.008066418580711,-0.067638888955116,-0.031471412628889,-0.097457900643349,-0.058736529201269,-0.009689339436591,-0.113154262304306,-0.023899272084236,-0.207214519381523,-0.056036237627268,0.125240653753281,0.203979879617691,-0.151001840829849,0.066345602273941,-0.071210056543350,0.085142731666565));
res += mul(Get(s1,dx,dy), float4x4(0.023183472454548,0.001580719952472,-0.244407668709755,-0.033490043133497,-0.184781119227409,-0.115363024175167,-0.031684163957834,0.010076066479087,0.153286755084991,-0.134568572044373,0.066231742501259,-0.172203660011292,-0.058846000581980,0.000653599912766,-0.060847502201796,0.049814000725746));
res += mul(Get(s2,-dx,-dy), float4x4(-0.150021672248840,0.102219238877296,0.074905879795551,-0.036861162632704,-0.078217752277851,0.143936559557915,-0.073990300297737,0.094770312309265,-0.066785059869289,0.089962854981422,-0.183636084198952,-0.095380730926991,0.149724766612053,-0.044532150030136,0.040600217878819,-0.070555172860622));
res += mul(Get(s2,-dx,0), float4x4(0.214934974908829,0.019704300910234,0.080679915845394,0.126632377505302,0.137603804469109,0.137257292866707,0.128546297550201,0.001954443752766,0.190297082066536,0.007098681759089,0.210276022553444,0.046289686113596,0.015324645675719,-0.031563676893711,0.018864428624511,0.087174370884895));
res += mul(Get(s2,-dx,dy), float4x4(0.072627596557140,0.153520137071609,-0.044455673545599,0.000818199885543,-0.072817973792553,0.330982834100723,0.258674085140228,-0.011728175915778,-0.099847964942455,0.059258662164211,0.074520871043205,0.028635637834668,0.063683673739433,-0.236777499318123,0.043374393135309,-0.061289831995964));
res += mul(Get(s2,0,-dy), float4x4(-0.179859489202499,0.106993883848190,0.083602979779243,-0.042401682585478,-0.075139835476875,-0.073177069425583,-0.089022807776928,0.069749921560287,-0.070788390934467,0.140663519501686,0.031263906508684,0.040328655391932,0.043362919241190,-0.102028347551823,-0.009963742457330,0.086929030716419));
res += mul(Get(s2,0,0), float4x4(0.038753684610128,-0.174967184662819,0.052468273788691,0.102531783282757,-0.034220248460770,0.016515241935849,-0.041562780737877,-0.046755794435740,0.114378243684769,0.074368603527546,0.030541671440005,-0.075074106454849,0.030104814097285,0.079250626266003,0.033289022743702,0.235232248902321));
res += mul(Get(s2,0,dy), float4x4(-0.194557443261147,-0.007902995683253,-0.162172809243202,-0.072804562747478,-0.027162574231625,-0.003176080295816,0.054556101560593,-0.034510277211666,-0.198585942387581,-0.070394344627857,-0.066805988550186,0.048684604465961,-0.092323742806911,-0.138020768761635,-0.124533928930759,-0.027391716837883));
res += mul(Get(s2,dx,-dy), float4x4(-0.079543650150299,0.076880119740963,0.033871527761221,-0.213640198111534,0.107653632760048,0.027244437485933,-0.048230960965157,-0.021854054182768,0.070997804403305,0.032286316156387,0.046835318207741,-0.087459139525890,-0.140690535306931,0.199724182486534,0.037280954420567,-0.101127259433270));
res += mul(Get(s2,dx,0), float4x4(0.322059661149979,0.014055952429771,0.094467230141163,-0.095752395689487,0.030557954683900,0.027473507449031,-0.080274552106857,-0.048138827085495,-0.065430603921413,-0.135171040892601,0.140684261918068,0.249994009733200,0.037027806043625,-0.145558208227158,0.012703376822174,-0.129411458969116));
res += mul(Get(s2,dx,dy), float4x4(0.034394308924675,0.120429813861847,-0.113749742507935,-0.054170187562704,-0.204579740762711,0.034349061548710,-0.118546083569527,-0.154902055859566,-0.110347889363766,0.268944233655930,-0.182468578219414,0.232147872447968,-0.079543948173523,-0.104674004018307,-0.036281879991293,0.137163132429123));
res += mul(Get(s3,-dx,-dy), float4x4(0.101243406534195,0.020473996177316,0.061612747609615,0.130623787641525,0.109284833073616,0.027910377830267,0.255762696266174,0.174718856811523,0.160216346383095,-0.209519788622856,-0.074770182371140,0.023719860240817,-0.184520497918129,-0.070596836507320,-0.104048952460289,0.054193347692490));
res += mul(Get(s3,-dx,0), float4x4(-0.013105529360473,-0.187018826603889,-0.047000113874674,0.117382861673832,-0.010370628908277,0.047146111726761,-0.013148560188711,0.001792213995941,-0.011182500049472,-0.039193656295538,-0.139168247580528,-0.007555579766631,0.094435960054398,0.102691911160946,0.009437951259315,-0.060748651623726));
res += mul(Get(s3,-dx,dy), float4x4(0.038373704999685,-0.315008193254471,-0.057472720742226,-0.034517545253038,-0.139691382646561,-0.262403488159180,-0.134043827652931,0.124377354979515,0.047681972384453,-0.223620325326920,0.124563463032246,0.118586882948875,0.156774684786797,0.098906598985195,-0.045660816133022,0.140280529856682));
res += mul(Get(s3,0,-dy), float4x4(0.130663529038429,0.061641111969948,0.086857005953789,-0.088957764208317,-0.055968835949898,-0.028601368889213,-0.008074404671788,-0.040200557559729,-0.080751366913319,-0.035756058990955,-0.051205601543188,0.129261478781700,-0.013215290382504,0.040668725967407,0.100398145616055,-0.037453480064869));
res += mul(Get(s3,0,0), float4x4(0.017281809821725,-0.112367868423462,-0.017464034259319,-0.085369773209095,0.116152204573154,0.024691186845303,0.060563523322344,0.238799959421158,0.006409808062017,-0.056236952543259,-0.021255761384964,0.008002731017768,0.011771300807595,0.274809151887894,-0.093675211071968,0.133129864931107));
res += mul(Get(s3,0,dy), float4x4(0.002385159023106,-0.066000975668430,-0.156806185841560,-0.115770854055882,0.062607213854790,-0.046304460614920,0.301789045333862,0.045316960662603,0.107907831668854,-0.096800416707993,-0.097432576119900,-0.174682393670082,0.022093968465924,0.059814162552357,-0.072089523077011,-0.199885651469231));
res += mul(Get(s3,dx,-dy), float4x4(-0.091791488230228,-0.046668369323015,-0.127191841602325,-0.099078521132469,-0.109886959195137,-0.069795601069927,0.179899871349335,0.051601704210043,-0.009683508425951,0.027606643736362,0.102086074650288,-0.055434364825487,-0.178095653653145,0.108317181468010,-0.089340910315514,0.046360407024622));
res += mul(Get(s3,dx,0), float4x4(0.174529597163200,0.154826238751411,-0.053014826029539,0.007538180798292,-0.069902248680592,0.018543597310781,-0.045896843075752,-0.011108363047242,0.035304941236973,0.027988178655505,-0.079641819000244,0.254104733467102,-0.048793628811836,0.125264391303062,-0.007722267415375,0.003550404217094));
res += mul(Get(s3,dx,dy), float4x4(-0.030404085293412,-0.002960807178169,0.210849627852440,-0.050301667302847,-0.181184291839600,-0.225034430623055,-0.102176584303379,-0.011336138471961,-0.044522222131491,0.019343666732311,0.092213585972786,0.008932782337070,0.024490136653185,0.225464135408401,-0.036799058318138,0.049181558191776));
return max(float4(0,0,0,0), res);
}
