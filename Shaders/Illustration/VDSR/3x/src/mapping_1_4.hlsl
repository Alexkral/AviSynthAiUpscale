sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.042645037174225,0.089933775365353,0.062207546085119,0.002995611168444,-0.102825850248337,-0.132165163755417,0.057435028254986,0.026932068169117,-0.022725684568286,0.113583594560623,0.101893529295921,-0.107817657291889,0.127271503210068,-0.124514751136303,-0.087038695812225,0.005525995045900));
res += mul(Get(s0,-dx,0), float4x4(-0.066630668938160,0.103675432503223,0.047410104423761,-0.118700876832008,-0.003444493282586,-0.120809398591518,-0.019294593483210,-0.088955365121365,0.025030680000782,0.012087972834706,-0.004044095519930,0.030304912477732,-0.080731131136417,0.022529080510139,-0.023355610668659,-0.066810518503189));
res += mul(Get(s0,-dx,dy), float4x4(-0.090912684798241,0.044734939932823,-0.012451944872737,0.043316222727299,0.033904276788235,0.046858154237270,-0.007215427700430,0.093781679868698,0.023764632642269,0.079750545322895,-0.042365193367004,0.072183802723885,0.050873629748821,0.082235403358936,-0.044668652117252,0.056298907846212));
res += mul(Get(s0,0,-dy), float4x4(-0.083941079676151,0.120406776666641,-0.049303770065308,0.010002795606852,0.102605059742928,-0.126425549387932,0.148911789059639,-0.021351082250476,0.131673887372017,-0.109841398894787,0.057354051619768,0.084006667137146,0.032731138169765,0.052260678261518,-0.097319886088371,-0.047694087028503));
res += mul(Get(s0,0,0), float4x4(-0.065858110785484,0.029892669990659,0.155224397778511,-0.094646222889423,0.193139612674713,0.031339343637228,-0.170046493411064,-0.128528252243996,0.118606775999069,0.007391449995339,0.119004808366299,-0.010374557226896,0.156875953078270,-0.073092363774776,0.151796430349350,0.036248054355383));
res += mul(Get(s0,0,dy), float4x4(0.215150505304337,0.129246667027473,-0.028463512659073,-0.296224951744080,-0.163288787007332,0.010163272731006,-0.008538429625332,0.104094080626965,-0.045198984444141,0.099254280328751,0.000699463009369,-0.036294307559729,-0.153408572077751,0.247424021363258,-0.184566095471382,0.094296179711819));
res += mul(Get(s0,dx,-dy), float4x4(-0.055699400603771,-0.073406405746937,0.071081183850765,0.034636065363884,0.189906969666481,0.080380156636238,-0.204636365175247,0.063828937709332,-0.017414350062609,0.124380819499493,0.181609272956848,0.070984043180943,-0.002502827439457,0.010180230252445,-0.055243946611881,0.117853440344334));
res += mul(Get(s0,dx,0), float4x4(0.182593002915382,0.111393883824348,-0.167453333735466,0.016661517322063,0.084478296339512,0.121568679809570,0.025822957977653,0.176276490092278,0.080218195915222,0.000457623769762,-0.092919506132603,0.219185143709183,0.006391437724233,0.097950756549835,-0.115359529852867,0.079574897885323));
res += mul(Get(s0,dx,dy), float4x4(-0.027480563148856,-0.007258369121701,0.089013695716858,0.000261730514467,-0.038025625050068,-0.075859598815441,0.222620695829391,-0.060953810811043,0.011600574478507,-0.201750755310059,-0.226717442274094,0.097778454422951,-0.260771781206131,-0.051997959613800,-0.065160267055035,0.164472088217735));
res += mul(Get(s1,-dx,-dy), float4x4(0.143893271684647,-0.129112049937248,-0.080693840980530,0.211656630039215,-0.143771335482597,-0.149132668972015,0.022493010386825,-0.015094055794179,-0.071730025112629,-0.047356843948364,-0.049064319580793,-0.008581583388150,0.216103211045265,0.024203555658460,-0.100899301469326,-0.005383374169469));
res += mul(Get(s1,-dx,0), float4x4(0.321364223957062,0.073358163237572,0.048771839588881,-0.213302552700043,-0.076297096908092,-0.091538086533546,0.073593705892563,-0.056853257119656,0.211897969245911,-0.024575456976891,0.017209125682712,-0.046649094671011,0.073151208460331,-0.114961244165897,-0.217336982488632,-0.052070852369070));
res += mul(Get(s1,-dx,dy), float4x4(-0.024862267076969,0.109282188117504,-0.124865859746933,-0.201096609234810,-0.019143145531416,0.111299902200699,0.145422354340553,0.113575577735901,0.156808614730835,-0.021367825567722,0.292437642812729,-0.023774791508913,-0.015039866790175,-0.074837781488895,-0.001788089633919,0.067520663142204));
res += mul(Get(s1,0,-dy), float4x4(0.026791570708156,0.206722855567932,-0.095785550773144,-0.106868930160999,0.004763856530190,-0.002487189136446,-0.094299338757992,-0.011699143797159,0.057912115007639,-0.098526775836945,-0.003644970245659,0.056489940732718,0.039153460413218,-0.075641512870789,-0.059932827949524,-0.015460328198969));
res += mul(Get(s1,0,0), float4x4(-0.058438546955585,-0.061832685023546,0.008481767959893,-0.227203577756882,0.199666574597359,0.003322636242956,-0.038336295634508,-0.096666827797890,0.074005477130413,0.104363471269608,0.076983019709587,-0.057618141174316,0.120715849101543,-0.096003934741020,0.023910025134683,0.092108063399792));
res += mul(Get(s1,0,dy), float4x4(0.037389997392893,-0.189893752336502,0.118700660765171,-0.040755093097687,0.268946528434753,-0.023938426747918,-0.023721763864160,0.080554887652397,-0.046148233115673,0.171854987740517,-0.055012855678797,-0.136304780840874,-0.048455022275448,0.037280194461346,-0.000443451455794,-0.008445191197097));
res += mul(Get(s1,dx,-dy), float4x4(-0.048469122499228,0.184113919734955,-0.211157962679863,-0.045124951750040,-0.146428093314171,-0.102374993264675,-0.100771315395832,0.023827653378248,0.084805004298687,0.261021107435226,-0.065014056861401,0.019895207136869,-0.012533993460238,-0.126313358545303,0.075248986482620,-0.006084760650992));
res += mul(Get(s1,dx,0), float4x4(-0.016469797119498,0.028903802856803,0.203574851155281,0.023138426244259,-0.114344522356987,0.119880318641663,0.011020340025425,-0.030019607394934,0.146064981818199,0.068503201007843,-0.058772865682840,0.044949073344469,0.265347391366959,0.075497440993786,0.100649751722813,-0.014351876452565));
res += mul(Get(s1,dx,dy), float4x4(0.178819999098778,-0.131270825862885,-0.101308040320873,0.028612721711397,0.044557951390743,0.020605279132724,0.015740225091577,0.109108425676823,0.016148798167706,-0.079972393810749,0.062173787504435,0.078459843993187,-0.057802859693766,0.086263112723827,-0.152408838272095,-0.106451377272606));
res += mul(Get(s2,-dx,-dy), float4x4(0.085557952523232,0.091251790523529,-0.118887402117252,-0.240067481994629,0.217676460742950,0.463575094938278,0.231160327792168,-0.170948565006256,-0.024644009768963,0.027075082063675,-0.176678240299225,0.093219317495823,-0.024301685392857,-0.060972679406404,-0.021746944636106,-0.147696420550346));
res += mul(Get(s2,-dx,0), float4x4(0.041983935981989,-0.040394581854343,0.023683728650212,-0.121594116091728,0.047839067876339,0.068136028945446,0.085807211697102,0.019281165674329,0.136603504419327,0.021927537396550,-0.019162897020578,0.051196187734604,-0.171975746750832,0.034157998859882,-0.106143198907375,-0.173089712858200));
res += mul(Get(s2,-dx,dy), float4x4(0.122253619134426,0.050212103873491,0.045697674155235,0.329536676406860,-0.044007115066051,-0.032556835561991,-0.102501228451729,0.040750898420811,-0.090054586529732,0.134157106280327,-0.174528524279594,0.110575407743454,0.204579368233681,0.118682712316513,-0.092614464461803,0.071030348539352));
res += mul(Get(s2,0,-dy), float4x4(0.057750746607780,0.303889006376266,-0.023666506633162,-0.111013047397137,-0.151053622364998,-0.031432595103979,0.116575121879578,0.303932875394821,-0.058749705553055,-0.123954184353352,0.062168572098017,-0.080612115561962,-0.013643352314830,-0.222926825284958,-0.065905354917049,-0.168032094836235));
res += mul(Get(s2,0,0), float4x4(-0.327913105487823,-0.002177303191274,0.199071422219276,0.048446126282215,0.241738826036453,0.121058017015457,-0.023750646039844,0.014698750339448,-0.130286797881126,-0.004137709736824,0.027772404253483,0.010690741240978,0.138868317008018,-0.212366774678230,0.197587043046951,-0.190680339932442));
res += mul(Get(s2,0,dy), float4x4(-0.169465959072113,-0.129815593361855,-0.035384487360716,0.062669716775417,0.097344450652599,-0.307362169027328,0.150720894336700,-0.161186888813972,-0.035486113280058,-0.197625055909157,0.010415595024824,0.100095957517624,0.056152272969484,-0.207682102918625,-0.045230835676193,0.090240977704525));
res += mul(Get(s2,dx,-dy), float4x4(0.005460134241730,0.162487328052521,-0.037984672933817,0.204450830817223,-0.133495986461639,-0.120987921953201,-0.130547627806664,0.059668138623238,0.000090143243142,0.190647289156914,0.040806945413351,-0.384696960449219,0.104005873203278,0.088584214448929,-0.080217123031616,-0.073998123407364));
res += mul(Get(s2,dx,0), float4x4(0.043954331427813,-0.340987682342529,0.019321937114000,0.053869090974331,0.069610118865967,-0.036212243139744,0.124236449599266,-0.101182095706463,0.097563743591309,-0.067853659391403,0.325035601854324,-0.005249182693660,-0.123932205140591,0.045297220349312,-0.050780232995749,0.142187431454659));
res += mul(Get(s2,dx,dy), float4x4(0.291300237178802,-0.156388193368912,0.001544682425447,-0.162097156047821,0.103532016277313,-0.139580398797989,-0.131906092166901,0.022913027554750,-0.090834438800812,-0.015833849087358,-0.004407082218677,0.110508501529694,0.142742663621902,-0.080105632543564,0.081784307956696,-0.145608752965927));
res += mul(Get(s3,-dx,-dy), float4x4(0.121048845350742,0.182234168052673,-0.115276843309402,-0.054789442569017,-0.015669021755457,-0.094698145985603,0.016192758455873,0.043682929128408,0.004528949968517,-0.225380182266235,0.062174163758755,0.396615177392960,-0.193529188632965,0.031194811686873,-0.068571932613850,-0.030233802273870));
res += mul(Get(s3,-dx,0), float4x4(-0.240993112325668,0.060340262949467,0.093026183545589,0.053409539163113,-0.148986965417862,0.096754103899002,0.132815808057785,0.121206849813461,0.107962720096111,-0.124730527400970,-0.086640864610672,-0.002274754224345,0.077283300459385,-0.047091383486986,-0.214186191558838,0.282118380069733));
res += mul(Get(s3,-dx,dy), float4x4(-0.022768711671233,-0.114691711962223,-0.144072100520134,0.022031169384718,0.004587679635733,0.052004557102919,0.013938176445663,-0.256097197532654,-0.042874325066805,0.077576301991940,0.010722153820097,0.073729723691940,0.014775982126594,-0.024158554151654,0.046536959707737,0.075981087982655));
res += mul(Get(s3,0,-dy), float4x4(-0.032021742314100,-0.112102724611759,0.022720022127032,0.011299835518003,-0.054210837930441,0.028306027874351,0.118222586810589,0.215985327959061,-0.161594659090042,-0.020875118672848,0.180890321731567,0.033863946795464,-0.120510295033455,0.075411863625050,-0.040647696703672,0.051077123731375));
res += mul(Get(s3,0,0), float4x4(0.037891145795584,-0.159018218517303,-0.143464043736458,0.084471240639687,-0.145442232489586,0.031416829675436,-0.006603832822293,-0.057708770036697,-0.049390114843845,-0.200098618865013,-0.071139022707939,0.158379256725311,-0.033519603312016,0.074096895754337,-0.000706159975380,-0.089410401880741));
res += mul(Get(s3,0,dy), float4x4(-0.072118245065212,0.172685891389847,0.113888338208199,0.007004023529589,-0.005493775010109,-0.013298971578479,-0.071705527603626,0.165401831269264,0.195378437638283,-0.031325001269579,-0.060509860515594,0.138078317046165,-0.220281556248665,0.075357168912888,-0.157976567745209,-0.124033018946648));
res += mul(Get(s3,dx,-dy), float4x4(-0.053830347955227,0.049265474081039,0.077475614845753,-0.159524157643318,-0.039878666400909,-0.111287675797939,0.007060437463224,0.194388985633850,0.090838916599751,-0.113883264362812,0.135042041540146,-0.111558966338634,0.058216162025928,-0.050353594124317,0.139964058995247,0.109324999153614));
res += mul(Get(s3,dx,0), float4x4(-0.018604805693030,-0.031634293496609,-0.077174477279186,0.024491215124726,0.025450514629483,0.084495574235916,-0.021731745451689,-0.149347648024559,-0.076300203800201,-0.066811688244343,-0.020891033113003,-0.017486015334725,-0.011233879253268,0.065262190997601,0.037445992231369,0.005352996755391));
res += mul(Get(s3,dx,dy), float4x4(-0.015717178583145,0.039298567920923,0.023838970810175,-0.092136256396770,0.103953965008259,-0.077509552240372,0.095807649195194,0.038761202245951,-0.037952795624733,0.079328313469887,-0.025213712826371,0.073675274848938,0.194719731807709,-0.026480864733458,-0.151703506708145,0.100559122860432));
return max(float4(0,0,0,0), res);
}
