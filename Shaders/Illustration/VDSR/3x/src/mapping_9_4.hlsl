sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.080487385392189,0.038521707057953,-0.116676539182663,-0.107694007456303,-0.076353132724762,-0.142395630478859,-0.147464588284492,0.247530475258827,-0.008559535257518,0.175209224224091,0.005163788329810,-0.224499523639679,-0.047411639243364,0.056233488023281,0.139991343021393,-0.074665218591690));
res += mul(Get(s0,-dx,0), float4x4(-0.083880208432674,0.036190409213305,0.078980632126331,-0.249737069010735,0.175009652972221,-0.157890290021896,0.138711079955101,0.028098890557885,-0.004749658051878,-0.106110520660877,-0.043457701802254,-0.237693741917610,-0.150241345167160,0.027392175048590,0.152584359049797,0.141875863075256));
res += mul(Get(s0,-dx,dy), float4x4(-0.095004662871361,0.066518649458885,-0.065004587173462,0.266866087913513,0.470094889402390,-0.120034947991371,0.006774001289159,0.004711957182735,-0.061268027871847,0.064775891602039,0.210823029279709,-0.213569775223732,-0.010366390459239,-0.088147662580013,-0.022391563281417,0.555166959762573));
res += mul(Get(s0,0,-dy), float4x4(-0.113675750792027,-0.199337586760521,0.048798523843288,0.061487320810556,-0.086304739117622,-0.089662581682205,-0.175161719322205,0.111354544758797,0.019983882084489,0.365221470594406,-0.067618504166603,-0.134163200855255,-0.061814829707146,-0.107664383947849,0.031181771308184,0.132836535573006));
res += mul(Get(s0,0,0), float4x4(-0.043049823492765,-0.175717398524284,-0.007316888775676,0.111464150249958,0.057738389819860,0.014774442650378,0.181432515382767,0.042716171592474,-0.090115271508694,0.167440593242645,-0.061502896249294,0.025891099125147,-0.071211889386177,-0.050287667661905,0.102712139487267,0.130279034376144));
res += mul(Get(s0,0,dy), float4x4(0.062276776880026,-0.135260283946991,-0.123139880597591,0.197568446397781,0.072433792054653,-0.051007188856602,-0.006758842617273,0.037122040987015,-0.078590698540211,0.121339656412601,-0.072477497160435,-0.037647753953934,-0.031061740592122,-0.174914956092834,0.025797750800848,0.137772858142853));
res += mul(Get(s0,dx,-dy), float4x4(-0.061645943671465,-0.100877143442631,-0.070996016263962,0.162751331925392,-0.063759498298168,-0.060122191905975,0.022624284029007,-0.060833405703306,0.054597470909357,-0.018199736252427,0.059082221239805,-0.035274498164654,-0.061414562165737,0.003783978521824,0.022724857553840,-0.360368132591248));
res += mul(Get(s0,dx,0), float4x4(-0.095424138009548,-0.091381676495075,-0.074169129133224,0.026615422219038,0.054815422743559,-0.027255048975348,0.155924916267395,0.125711038708687,-0.081111095845699,0.147712737321854,-0.001979495631531,-0.035788614302874,-0.036860417574644,0.096330337226391,-0.071869604289532,0.076422043144703));
res += mul(Get(s0,dx,dy), float4x4(-0.047219451516867,-0.104565501213074,0.033765345811844,-0.025513680651784,-0.059337727725506,-0.038071438670158,0.096702225506306,0.011975782923400,-0.124277740716934,0.076079502701759,-0.112135425209999,0.028650676831603,-0.004631561692804,0.270974904298782,0.068724647164345,-0.010971772484481));
res += mul(Get(s1,-dx,-dy), float4x4(-0.015949081629515,0.034326400607824,0.276564776897430,-0.081945821642876,-0.062905192375183,0.158037900924683,0.211389228701591,0.041446920484304,0.206641331315041,-0.066455073654652,-0.086284026503563,0.084661751985550,0.109300531446934,0.032819725573063,0.122140638530254,0.142643973231316));
res += mul(Get(s1,-dx,0), float4x4(-0.143700271844864,0.112512879073620,0.059947323054075,-0.012493281625211,0.070441238582134,0.350033074617386,0.028728639706969,0.100032530725002,0.080814003944397,-0.042229194194078,-0.082420013844967,0.082940571010113,0.104752592742443,-0.097504571080208,0.026581810787320,-0.107236035168171));
res += mul(Get(s1,-dx,dy), float4x4(-0.026167860254645,0.108055725693703,0.017660703510046,-0.113688059151173,-0.160375162959099,-0.170851349830627,0.097870223224163,-0.013466089963913,0.298346102237701,0.088104128837585,0.130931526422501,-0.049331396818161,0.066972203552723,-0.071657963097095,-0.074018813669682,0.153610736131668));
res += mul(Get(s1,0,-dy), float4x4(-0.137677162885666,-0.016293346881866,0.138929262757301,0.198478817939758,0.043676368892193,-0.019715793430805,0.100290589034557,-0.059540338814259,-0.146363347768784,-0.190607681870461,-0.051049675792456,-0.033942550420761,0.207353413105011,-0.066032446920872,0.105880208313465,0.023383431136608));
res += mul(Get(s1,0,0), float4x4(0.019003165885806,-0.055599123239517,0.063988216221333,0.077758654952049,0.182016983628273,-0.062563627958298,0.087547920644283,-0.127415984869003,-0.079785704612732,0.030430333688855,0.047946244478226,-0.104653224349022,-0.098898284137249,0.094789117574692,-0.100330673158169,-0.065498471260071));
res += mul(Get(s1,0,dy), float4x4(-0.041242066770792,0.016967931762338,0.005359937902540,-0.129867956042290,-0.175577998161316,0.026544276624918,-0.000086543295765,-0.014740016311407,0.124879837036133,0.023294851183891,0.095464386045933,-0.174904376268387,-0.156725049018860,-0.051097366958857,0.022852839902043,0.064354345202446));
res += mul(Get(s1,dx,-dy), float4x4(0.033576328307390,-0.027583679184318,0.179111018776894,0.163452431559563,0.103383652865887,-0.164443582296371,0.011782804504037,-0.125913783907890,0.040844574570656,-0.122415043413639,0.002055824268609,0.182321682572365,-0.055794987827539,0.144804283976555,0.262566894292831,0.076699934899807));
res += mul(Get(s1,dx,0), float4x4(0.205841630697250,0.036079715937376,0.143602326512337,0.001768813934177,0.083821043372154,-0.056264583021402,0.080207958817482,-0.190003365278244,0.092855960130692,0.043426189571619,-0.030181778594851,0.122190460562706,-0.119859822094440,0.090216346085072,0.138746410608292,-0.091289699077606));
res += mul(Get(s1,dx,dy), float4x4(-0.018612442538142,-0.058151613920927,0.402881205081940,-0.060695573687553,-0.137284994125366,0.096659138798714,-0.086347535252571,-0.066636286675930,0.396047890186310,0.068874955177307,-0.014352621510625,0.043072868138552,-0.051523018628359,0.157980859279633,-0.116270273923874,0.118315838277340));
res += mul(Get(s2,-dx,-dy), float4x4(-0.174298107624054,-0.026472689583898,-0.327852010726929,-0.107967697083950,0.035156827419996,-0.054130855947733,0.315857619047165,-0.127230584621429,-0.003838426200673,-0.023549247533083,0.095059111714363,0.089569337666035,-0.074719734489918,0.002576533704996,-0.089285448193550,0.022971073165536));
res += mul(Get(s2,-dx,0), float4x4(-0.091690205037594,-0.077189020812511,0.083841010928154,-0.096123464405537,0.018159048631787,-0.206805467605591,0.031306933611631,-0.229287669062614,-0.063157856464386,0.097245268523693,-0.181182190775871,0.040959089994431,-0.057637944817543,0.120892226696014,-0.017204470932484,-0.029203373938799));
res += mul(Get(s2,-dx,dy), float4x4(0.010952306911349,0.123614370822906,-0.008936789818108,-0.060251813381910,0.053787644952536,-0.131917610764503,0.338849633932114,-0.215796738862991,-0.290294080972672,0.123449385166168,-0.113316379487514,0.181260406970978,0.001334435422905,-0.112624138593674,0.140191271901131,-0.003796032164246));
res += mul(Get(s2,0,-dy), float4x4(-0.145478338003159,-0.003820882877335,-0.314396649599075,-0.145480230450630,0.009603310376406,-0.012940909713507,0.168114826083183,-0.195642262697220,-0.042590003460646,-0.064364261925220,-0.057819489389658,0.161012649536133,-0.112178243696690,-0.105167366564274,-0.023149965330958,-0.041173901408911));
res += mul(Get(s2,0,0), float4x4(-0.148161232471466,-0.035359144210815,0.305228114128113,-0.096359543502331,0.177143350243568,-0.161873847246170,-0.250604391098022,-0.070204496383667,0.171620383858681,-0.086320139467716,-0.072719343006611,-0.126413419842720,-0.115246780216694,0.017842674627900,0.014502653852105,0.019126230850816));
res += mul(Get(s2,0,dy), float4x4(0.015479083172977,-0.111604966223240,0.219654470682144,0.161261409521103,0.320590525865555,-0.142028406262398,0.110225498676300,-0.019993541762233,-0.193640336394310,0.193041175603867,-0.006104278843850,-0.090955652296543,-0.067571096122265,-0.017613925039768,0.164770260453224,-0.051025249063969));
res += mul(Get(s2,dx,-dy), float4x4(-0.284936368465424,0.014006297104061,-0.265960186719894,-0.086585991084576,0.073395617306232,0.491279900074005,0.116456620395184,-0.355872064828873,-0.010067341849208,-0.105702467262745,-0.010775804519653,0.006270883604884,0.061851494014263,-0.153696045279503,-0.071956604719162,0.069516673684120));
res += mul(Get(s2,dx,0), float4x4(-0.222759574651718,-0.060338404029608,-0.044247981160879,-0.027281913906336,0.232102662324905,-0.120461083948612,-0.215537965297699,-0.174813538789749,0.013625170104206,-0.111300371587276,-0.155134350061417,-0.063718780875206,0.032358761876822,-0.000903393724002,-0.071532383561134,0.064361423254013));
res += mul(Get(s2,dx,dy), float4x4(-0.111198790371418,-0.113371707499027,-0.130772516131401,0.399343758821487,-0.076773852109909,-0.078831344842911,-0.096913099288940,-0.162740334868431,-0.194394767284393,0.061981480568647,0.027735399082303,0.045271832495928,-0.091287449002266,0.070202723145485,0.074603110551834,-0.048568602651358));
res += mul(Get(s3,-dx,-dy), float4x4(0.181312635540962,0.001398521824740,-0.348515778779984,-0.078878819942474,0.090734511613846,0.183437064290047,-0.218374043703079,-0.061408758163452,-0.148382410407066,-0.031915448606014,-0.091674685478210,-0.019365308806300,-0.117169536650181,-0.261530041694641,-0.083633355796337,-0.094746768474579));
res += mul(Get(s3,-dx,0), float4x4(0.049286648631096,0.257822573184967,-0.125338926911354,-0.072443984448910,0.018387177959085,-0.207682415843010,0.383810490369797,-0.127325087785721,-0.259891241788864,-0.023107925429940,0.122205853462219,0.065209485590458,0.061316821724176,-0.131355896592140,-0.060775808990002,-0.026809530332685));
res += mul(Get(s3,-dx,dy), float4x4(-0.068914987146854,-0.142795234918594,-0.087437473237514,-0.036321233958006,-0.083467021584511,-0.126575902104378,0.026854775846004,-0.022324025630951,0.077658534049988,-0.033597223460674,0.145747452974319,-0.190129697322845,0.047475270926952,-0.026498222723603,-0.054390002042055,-0.016153158620000));
res += mul(Get(s3,0,-dy), float4x4(0.018570909276605,-0.065371170639992,-0.158993408083916,-0.111527591943741,0.057174395769835,0.153876170516014,0.065600939095020,-0.097452670335770,-0.067628450691700,-0.145220488309860,-0.023858813568950,-0.058193594217300,0.070135898888111,-0.128439500927925,-0.099587030708790,-0.007679640781134));
res += mul(Get(s3,0,0), float4x4(0.145075634121895,0.062901251018047,0.031826507300138,-0.050809491425753,-0.123455226421356,-0.094601884484291,0.197849735617638,-0.078620098531246,-0.025799281895161,-0.041874673217535,-0.096220239996910,0.085932567715645,-0.016076119616628,-0.063668563961983,-0.000668537686579,0.115315288305283));
res += mul(Get(s3,0,dy), float4x4(-0.070829361677170,-0.054789900779724,-0.116607107222080,-0.007130544167012,-0.099299132823944,-0.144555181264877,0.098475866019726,-0.061840396374464,-0.015450023114681,0.067768894135952,-0.052561473101377,-0.047456923872232,-0.024075303226709,-0.131603479385376,0.096962302923203,-0.061026133596897));
res += mul(Get(s3,dx,-dy), float4x4(-0.078595764935017,-0.011150683276355,-0.182320713996887,-0.119492053985596,0.027705973014235,0.164571210741997,-0.179441064596176,-0.093913473188877,0.148812189698219,-0.033152665942907,-0.137382999062538,0.094348624348640,-0.095545716583729,0.059968050569296,-0.027301603928208,-0.084612607955933));
res += mul(Get(s3,dx,0), float4x4(0.125271514058113,-0.106779754161835,0.094328768551350,-0.113126710057259,-0.222556918859482,-0.114930629730225,-0.138663157820702,-0.078509427607059,0.086193628609180,-0.168933212757111,-0.042174145579338,0.054007347673178,-0.092708297073841,-0.041242003440857,-0.158519253134727,-0.099074192345142));
res += mul(Get(s3,dx,dy), float4x4(0.072356760501862,0.005102391820401,-0.093647390604019,-0.085566058754921,-0.147454917430878,-0.094147369265556,-0.100381910800934,0.157010585069656,0.000583177898079,-0.135566890239716,0.094781570136547,-0.058194980025291,-0.073823302984238,-0.090031191706657,-0.033036660403013,0.032275415956974));
return max(float4(0,0,0,0), res);
}
