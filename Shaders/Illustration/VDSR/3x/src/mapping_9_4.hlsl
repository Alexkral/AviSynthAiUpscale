sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.072563685476780,0.173072919249535,-0.102806627750397,0.167432144284248,0.154514938592911,-0.015639437362552,-0.057763103395700,-0.080040231347084,0.067221619188786,-0.040703732520342,0.106654830276966,0.103175841271877,-0.040214002132416,0.065813891589642,0.002374856499955,0.395843088626862));
res += mul(Get(s0,-dx,0), float4x4(0.032532908022404,-0.148710399866104,-0.021404851227999,0.044269856065512,-0.037767391651869,0.100255154073238,-0.032710161060095,-0.075650267302990,-0.005828313063830,0.055737707763910,0.148051097989082,-0.024646319448948,-0.000321378873195,0.152989089488983,0.017022386193275,0.086194328963757));
res += mul(Get(s0,-dx,dy), float4x4(-0.175366982817650,-0.060652382671833,-0.027710240334272,0.170066654682159,0.166093245148659,0.045463915914297,0.030473278835416,0.004697729367763,-0.013013282790780,0.019076971337199,-0.237062320113182,0.356278181076050,-0.127775579690933,0.000704882957507,-0.133822768926620,-0.224003911018372));
res += mul(Get(s0,0,-dy), float4x4(-0.053476013243198,0.177056029438972,-0.070081368088722,-0.106865510344505,-0.012330460362136,-0.106144554913044,-0.067219734191895,0.095435552299023,-0.120552413165569,-0.086921393871307,0.009907721541822,-0.137859538197517,0.019139273092151,-0.127298384904861,-0.002999521791935,0.010257862508297));
res += mul(Get(s0,0,0), float4x4(0.009040214121342,0.215935021638870,0.262132883071899,0.085523776710033,0.172649830579758,-0.017913876101375,-0.023894891142845,-0.019149500876665,-0.140762239694595,0.377591222524643,0.312874376773834,0.092496678233147,-0.165476351976395,0.098658673465252,-0.002056890400127,0.007493059616536));
res += mul(Get(s0,0,dy), float4x4(0.035330567508936,0.145014360547066,-0.053759437054396,-0.063409611582756,0.354494452476501,0.158512815833092,0.235360413789749,0.025416346266866,-0.045669734477997,-0.172197863459587,-0.098391048610210,0.069273613393307,0.045871194452047,-0.004990842193365,-0.131491720676422,-0.128536134958267));
res += mul(Get(s0,dx,-dy), float4x4(0.041777536273003,0.078635498881340,-0.006752442568541,0.049798190593719,-0.122536130249500,0.193892553448677,0.128340125083923,0.106347672641277,0.078056350350380,0.153503715991974,-0.121897928416729,-0.101048067212105,-0.128579869866371,0.110062532126904,0.008164791390300,0.134094536304474));
res += mul(Get(s0,dx,0), float4x4(0.202634692192078,-0.036922812461853,-0.068528495728970,0.156542241573334,-0.034100353717804,-0.152275979518890,0.078267611563206,-0.108091160655022,0.083391003310680,0.024094851687551,0.164304926991463,-0.030950762331486,0.023004021495581,0.155543044209480,-0.112643562257290,-0.118144206702709));
res += mul(Get(s0,dx,dy), float4x4(-0.084441602230072,0.061438940465450,0.002701764926314,0.173118755221367,0.199971392750740,-0.022770497947931,-0.144261494278908,0.099596716463566,0.258474498987198,-0.121812209486961,-0.164943575859070,-0.142614796757698,0.113314636051655,-0.293029576539993,-0.230052024126053,0.113831065595150));
res += mul(Get(s1,-dx,-dy), float4x4(0.035354290157557,0.154966518282890,0.090370304882526,-0.155741721391678,-0.057035319507122,-0.000377252756152,0.004945448599756,-0.134443402290344,0.116813912987709,0.075151376426220,0.112249732017517,0.197411760687828,0.048001382499933,-0.016511175781488,-0.116613715887070,0.157197326421738));
res += mul(Get(s1,-dx,0), float4x4(0.060711931437254,-0.109734341502190,-0.248035937547684,-0.143821552395821,0.004898611921817,-0.169806838035583,-0.187972202897072,0.039173308759928,0.249077335000038,0.189536690711975,-0.058553893119097,0.088479861617088,-0.030257454141974,-0.068585507571697,-0.120331786572933,-0.044909026473761));
res += mul(Get(s1,-dx,dy), float4x4(-0.049581132829189,-0.123253405094147,-0.095012724399567,-0.133838951587677,-0.132081702351570,0.037209510803223,-0.014032403007150,0.029894804582000,0.050538387149572,0.011365955695510,-0.065219931304455,-0.001372020575218,0.028876926749945,0.273689687252045,-0.058377135545015,0.197474166750908));
res += mul(Get(s1,0,-dy), float4x4(-0.350608110427856,-0.070110507309437,0.149400606751442,0.259152352809906,-0.109824776649475,-0.092709347605705,-0.041045796126127,0.042728111147881,0.131197407841682,0.099365524947643,0.045830123126507,-0.016253648325801,-0.203121289610863,-0.072139181196690,0.143558457493782,0.073023363947868));
res += mul(Get(s1,0,0), float4x4(-0.080298595130444,0.001854971167631,-0.283464103937149,-0.043442066758871,0.052588339895010,0.032375887036324,-0.027821589261293,-0.166054949164391,-0.053314037621021,-0.180700361728668,0.069897964596748,0.096391275525093,-0.212608128786087,0.040807224810123,-0.136481240391731,0.036490652710199));
res += mul(Get(s1,0,dy), float4x4(0.037395600229502,-0.068595871329308,-0.018997276201844,0.190658092498779,-0.213063076138496,-0.098360985517502,0.017774749547243,-0.121163189411163,-0.070351518690586,-0.070779927074909,-0.087504595518112,-0.168020635843277,0.016775958240032,-0.157181024551392,-0.055414240807295,0.180771872401237));
res += mul(Get(s1,dx,-dy), float4x4(-0.204814165830612,0.069093748927116,0.065667279064655,-0.093796297907829,-0.110097907483578,0.060791082680225,0.014150093309581,0.080465622246265,-0.202889412641525,-0.031303528696299,-0.015477562323213,0.111517503857613,0.189513906836510,-0.156949162483215,0.184679552912712,0.024464195594192));
res += mul(Get(s1,dx,0), float4x4(-0.140882492065430,-0.111601509153843,0.130941629409790,0.015337292104959,-0.067928552627563,-0.032922241836786,-0.032590415328741,-0.009208110161126,0.184016525745392,-0.009920885786414,-0.138804405927658,0.136203184723854,0.010923773050308,-0.002876952290535,-0.124934546649456,0.020323956385255));
res += mul(Get(s1,dx,dy), float4x4(0.127722159028053,0.125717341899872,-0.077326945960522,0.220317602157593,0.007077297195792,0.113920263946056,-0.161571174860001,-0.133341014385223,-0.262663155794144,-0.132940590381622,-0.078839495778084,0.129951626062393,0.044845424592495,-0.112028509378433,0.064251370728016,-0.002016137121245));
res += mul(Get(s2,-dx,-dy), float4x4(-0.037901844829321,0.041080191731453,-0.037494152784348,0.137871354818344,0.006107048597187,0.094937399029732,0.047870799899101,0.053981781005859,0.157229289412498,-0.093259759247303,0.010485045611858,-0.009380000643432,-0.255745112895966,-0.146168291568756,0.025821251794696,0.091603696346283));
res += mul(Get(s2,-dx,0), float4x4(0.054555814713240,0.091015711426735,-0.027509286999702,0.092886105179787,-0.122974641621113,0.028550209477544,0.116037599742413,0.095510505139828,-0.027648964896798,-0.031632207334042,0.078618779778481,-0.077344179153442,0.046474721282721,-0.136319950222969,0.193372502923012,-0.040943507105112));
res += mul(Get(s2,-dx,dy), float4x4(-0.071130178868771,-0.036946933716536,0.007089688442647,0.020967381075025,0.110321260988712,-0.079276911914349,-0.146425977349281,0.042518626898527,0.065672114491463,0.085951417684555,0.177298933267593,0.214863166213036,-0.047673538327217,0.081990756094456,0.101399637758732,-0.011306363157928));
res += mul(Get(s2,0,-dy), float4x4(-0.017592675983906,0.108756884932518,0.030769271776080,-0.059167046099901,0.083282910287380,-0.010172633454204,0.037216484546661,-0.037725023925304,-0.057422231882811,0.088764622807503,-0.026797162368894,-0.078942708671093,0.053022012114525,-0.249562248587608,0.063018374145031,0.107413433492184));
res += mul(Get(s2,0,0), float4x4(-0.055715929716825,0.107282646000385,-0.066131405532360,-0.296008855104446,-0.066932111978531,-0.003100725589320,0.117756597697735,0.055926449596882,-0.006868605036288,0.094076246023178,-0.089176282286644,0.305916577577591,-0.116266123950481,-0.054047591984272,0.077310062944889,0.132171913981438));
res += mul(Get(s2,0,dy), float4x4(-0.044216975569725,0.203407779335976,-0.098027639091015,-0.130855157971382,0.078430011868477,-0.086547590792179,-0.061367593705654,0.108741395175457,-0.225279405713081,-0.072161592543125,-0.011342100799084,-0.001862664474174,-0.210402876138687,0.034548949450254,0.035068675875664,0.085165224969387));
res += mul(Get(s2,dx,-dy), float4x4(0.093259081244469,0.077624648809433,-0.071318402886391,0.005815499927849,0.156377077102661,-0.006747278384864,-0.014765461906791,-0.059328220784664,-0.113752834498882,-0.054622221738100,-0.183886110782623,-0.091949991881847,0.199294805526733,-0.026285178959370,0.064406454563141,-0.117960728704929));
res += mul(Get(s2,dx,0), float4x4(0.236131533980370,0.017621558159590,0.047639198601246,-0.009148570708930,-0.052390191704035,0.095229871571064,-0.127100273966789,-0.047172710299492,-0.002270999597386,-0.142325922846794,-0.103927724063396,-0.066306136548519,-0.028499767184258,0.027174534276128,0.043694589287043,-0.153271451592445));
res += mul(Get(s2,dx,dy), float4x4(0.004812718369067,0.189444884657860,0.107638835906982,0.100184060633183,-0.037797205150127,-0.004667511209846,0.120149061083794,0.060958914458752,-0.081071004271507,-0.049611113965511,0.015784271061420,-0.093607708811760,-0.047010485082865,-0.044395871460438,-0.097268074750900,-0.124412328004837));
res += mul(Get(s3,-dx,-dy), float4x4(-0.032121483236551,0.339468747377396,0.120925426483154,-0.084049612283707,-0.066827118396759,0.060225795954466,0.230308756232262,-0.073133796453476,0.218750759959221,-0.076568491756916,-0.120498254895210,0.175349906086922,-0.035695474594831,0.214623659849167,0.307852685451508,0.034611746668816));
res += mul(Get(s3,-dx,0), float4x4(-0.028849804773927,-0.088101297616959,0.051108166575432,-0.050076223909855,0.172709062695503,0.011336417868733,-0.210441052913666,-0.051511719822884,0.019234862178564,0.032164353877306,0.055019814521074,-0.031100651249290,-0.020657891407609,0.076469130814075,0.183527141809464,-0.086099423468113));
res += mul(Get(s3,-dx,dy), float4x4(0.141188517212868,0.036845486611128,-0.110449843108654,-0.168358400464058,-0.031154936179519,0.151941269636154,-0.039627593010664,-0.073935382068157,-0.043414834886789,0.084249809384346,-0.187663808465004,0.100083604454994,0.024772286415100,-0.014860322698951,-0.136618852615356,-0.238074570894241));
res += mul(Get(s3,0,-dy), float4x4(0.156535744667053,-0.077492088079453,-0.044587906450033,-0.110529229044914,0.087445504963398,0.094094261527061,0.098024286329746,-0.002778752241284,-0.039606954902411,0.152775466442108,-0.211944952607155,0.040391881018877,0.023209461942315,0.063839495182037,0.100305177271366,-0.035283125936985));
res += mul(Get(s3,0,0), float4x4(-0.056614048779011,0.092779345810413,-0.025993432849646,0.087005838751793,0.030904533341527,0.266731172800064,0.185653015971184,0.020008765161037,0.178635582327843,-0.010977040976286,0.072505988180637,0.085424616932869,-0.083595588803291,0.024834746494889,-0.185544699430466,-0.102740190923214));
res += mul(Get(s3,0,dy), float4x4(0.079804122447968,0.078564837574959,-0.087535440921783,0.106019616127014,0.072069682180882,0.126684188842773,-0.101843997836113,-0.066248103976250,-0.106690078973770,0.132581010460854,-0.207007288932800,0.184928342700005,0.017258122563362,0.065303966403008,-0.171754196286201,-0.127538293600082));
res += mul(Get(s3,dx,-dy), float4x4(-0.012204912491143,0.104913048446178,0.048956494778395,0.011636338196695,-0.000910921837203,-0.173030018806458,-0.065144538879395,0.249631553888321,-0.017984809353948,0.030133441090584,-0.054486207664013,-0.086631797254086,-0.140529781579971,0.087348893284798,0.192672744393349,0.137030065059662));
res += mul(Get(s3,dx,0), float4x4(-0.001918941503391,-0.074217498302460,0.002582160057500,0.083569124341011,-0.049421492964029,-0.180466055870056,0.200139597058296,0.169853761792183,-0.086051724851131,-0.022207081317902,0.155957907438278,0.116511426866055,-0.189314112067223,0.165026053786278,0.119710698723793,-0.165261045098305));
res += mul(Get(s3,dx,dy), float4x4(-0.014626758173108,-0.090395092964172,-0.106341898441315,-0.088085517287254,-0.020240971818566,-0.070811733603477,0.061290301382542,0.187213361263275,-0.170885831117630,0.017294242978096,-0.095825895667076,0.062339749187231,0.004887507297099,-0.041045606136322,0.184300988912582,-0.115801431238651));
return max(float4(0,0,0,0), res);
}
