sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.027615157887340,0.006485640536994,0.137488096952438,-0.139646545052528,-0.013260102830827,0.091233924031258,-0.008162213489413,-0.101171419024467,0.093994773924351,-0.034394007176161,0.008793016895652,0.051497556269169,0.061577722430229,0.092688336968422,-0.000729706662241,0.111751861870289));
res += mul(Get(s0,-dx,0), float4x4(-0.145802229642868,0.095442049205303,0.263271510601044,0.038207467645407,-0.141285389661789,-0.057527948170900,-0.015905840322375,0.070696443319321,0.004975388292223,0.229293182492256,0.182700648903847,-0.026731155812740,0.020223945379257,0.047858141362667,0.061360877007246,-0.028002772480249));
res += mul(Get(s0,-dx,dy), float4x4(-0.037128400057554,0.117939852178097,-0.111457884311676,0.066845595836639,0.199031114578247,-0.012565393000841,0.043063484132290,-0.163621231913567,-0.074802063405514,0.306321650743484,-0.239057496190071,0.012877291068435,0.163883641362190,0.011822032742202,-0.044651594012976,-0.038654457777739));
res += mul(Get(s0,0,-dy), float4x4(0.212116360664368,-0.034341383725405,0.069546878337860,0.227253347635269,0.038391254842281,-0.186339125037193,-0.017445247620344,-0.030517099425197,-0.081310510635376,-0.107522241771221,-0.054577786475420,0.134209930896759,-0.026784906163812,-0.073321819305420,-0.045258216559887,0.181750625371933));
res += mul(Get(s0,0,0), float4x4(0.134689137339592,-0.017107315361500,0.107797436416149,0.195607915520668,0.123687200248241,-0.119274437427521,-0.172504916787148,-0.112287491559982,0.009958822280169,0.044346105307341,-0.049397666007280,0.001749528921209,-0.140157639980316,0.057992305606604,0.219680622220039,-0.206037759780884));
res += mul(Get(s0,0,dy), float4x4(-0.123589478433132,-0.288766264915466,-0.086067281663418,0.156464159488678,0.255711048841476,-0.120069004595280,0.182804018259048,-0.093741960823536,-0.231849491596222,0.015929821878672,0.108454912900925,-0.023306787014008,0.067912407219410,0.076383285224438,-0.066363058984280,0.058258112519979));
res += mul(Get(s0,dx,-dy), float4x4(0.049748577177525,-0.177976563572884,-0.135336130857468,0.298404812812805,-0.045106943696737,-0.172140479087830,-0.238708376884460,0.268331050872803,0.033625055104494,-0.207552462816238,0.218460187315941,0.267417401075363,-0.145689129829407,-0.042817708104849,-0.020942036062479,-0.177345037460327));
res += mul(Get(s0,dx,0), float4x4(0.112475901842117,0.223020628094673,0.051836755126715,0.086772166192532,-0.119283795356750,-0.116065070033073,0.069648958742619,-0.044578459113836,0.059810273349285,-0.120529755949974,0.094775155186653,0.073470488190651,-0.192660644650459,0.118078656494617,0.207938745617867,-0.125556364655495));
res += mul(Get(s0,dx,dy), float4x4(-0.274187833070755,-0.005269771441817,-0.087537556886673,0.103102758526802,-0.002173660090193,-0.112944714725018,0.121026821434498,-0.039511729031801,0.017013227567077,-0.220750927925110,-0.236423835158348,0.087324298918247,-0.181438937783241,-0.167577669024467,0.183267116546631,-0.078648984432220));
res += mul(Get(s1,-dx,-dy), float4x4(0.051913231611252,0.189843431115150,-0.094031818211079,-0.037384796887636,0.005488818977028,-0.012250699102879,-0.124066285789013,0.006399265490472,-0.195521682500839,0.026951374486089,-0.209960386157036,0.001882303622551,-0.084558404982090,0.267417609691620,0.120881818234921,0.164457276463509));
res += mul(Get(s1,-dx,0), float4x4(-0.057506330311298,0.001568753155880,0.005623530596495,-0.162647962570190,0.139496028423309,0.037125099450350,-0.093584217131138,-0.026796126738191,0.244131430983543,-0.056170374155045,0.159952431917191,-0.026451664045453,-0.201460808515549,-0.029296677559614,0.027791604399681,0.105644501745701));
res += mul(Get(s1,-dx,dy), float4x4(0.188541114330292,-0.069049172103405,0.189166605472565,0.068542547523975,0.039064917713404,-0.005076413508505,0.133968040347099,-0.027362447232008,-0.067266568541527,-0.023645753040910,0.117212943732738,-0.006910260301083,-0.004015917424113,-0.018604489043355,0.032633725553751,-0.004483588039875));
res += mul(Get(s1,0,-dy), float4x4(0.060034349560738,-0.023913118988276,-0.127124667167664,-0.013889779336751,0.021127650514245,-0.123175270855427,0.012533221393824,-0.071470424532890,0.035394877195358,0.172524362802505,0.070471338927746,0.117911487817764,-0.007765796966851,-0.139792308211327,0.043313816189766,0.159911766648293));
res += mul(Get(s1,0,0), float4x4(-0.062460679560900,-0.035527229309082,0.080411158502102,-0.086605519056320,-0.042457405477762,-0.077102839946747,0.081967264413834,0.022727623581886,0.163444802165031,0.085545055568218,0.120476774871349,-0.062021855264902,0.155446365475655,0.143104910850525,-0.080297090113163,0.023424945771694));
res += mul(Get(s1,0,dy), float4x4(0.088095813989639,0.171762526035309,0.178504973649979,-0.137850835919380,0.153405934572220,0.056135781109333,-0.135020390152931,0.151930019259453,0.015841394662857,0.078406848013401,-0.020565126091242,0.024603698402643,0.043302848935127,0.051312822848558,0.058643847703934,-0.016964465379715));
res += mul(Get(s1,dx,-dy), float4x4(0.027584442868829,-0.034562125802040,0.095727227628231,-0.112795583903790,0.125501945614815,0.015469808131456,-0.181382298469543,0.076172813773155,-0.024925990030169,0.132935896515846,-0.144517853856087,0.078360445797443,0.129693701863289,0.009119358845055,-0.042894430458546,-0.099370479583740));
res += mul(Get(s1,dx,0), float4x4(0.184730619192123,0.198142111301422,0.123333171010017,-0.129647180438042,0.077835865318775,0.042468342930079,-0.210309803485870,-0.014404308050871,0.068992450833321,0.122839413583279,0.006290978286415,-0.099756181240082,-0.011906332336366,0.052752278745174,0.116695664823055,-0.078972555696964));
res += mul(Get(s1,dx,dy), float4x4(-0.173082411289215,0.011510930955410,0.014181504026055,-0.135818243026733,0.029123576357961,0.070927940309048,0.032136123627424,0.052214741706848,-0.048104155808687,-0.084982566535473,-0.081155918538570,-0.157573834061623,0.140977486968040,0.081912375986576,-0.040488783270121,-0.109248347580433));
res += mul(Get(s2,-dx,-dy), float4x4(0.128437623381615,-0.040137831121683,-0.099703460931778,0.227416813373566,-0.089433155953884,0.105788886547089,0.052648007869720,0.104683168232441,-0.147956088185310,0.152436822652817,-0.174945935606956,0.054096970707178,0.287450253963470,-0.205042660236359,-0.027786402031779,-0.106588087975979));
res += mul(Get(s2,-dx,0), float4x4(0.034255862236023,-0.346810847520828,0.064835488796234,-0.317065924406052,-0.015395153313875,0.008704854175448,0.016188086941838,0.204801157116890,-0.142078086733818,0.089117035269737,-0.174705505371094,-0.032017249614000,0.004768254701048,0.102113649249077,-0.115534000098705,-0.162534952163696));
res += mul(Get(s2,-dx,dy), float4x4(0.109345927834511,-0.044508397579193,0.147735103964806,-0.013432479463518,-0.127488091588020,0.066824279725552,-0.027862438932061,-0.031815409660339,-0.005628217011690,-0.106532998383045,0.005949845537543,-0.105348937213421,0.156496733427048,0.224675998091698,-0.041083872318268,-0.028772337362170));
res += mul(Get(s2,0,-dy), float4x4(-0.132648944854736,-0.079274661839008,-0.167297333478928,0.091673538088799,0.027306502684951,-0.068307660520077,0.353220820426941,-0.014712037518620,-0.034781526774168,0.015330577269197,-0.061832513660192,-0.185150772333145,0.279707342386246,0.001090741599910,0.038154244422913,0.037975613027811));
res += mul(Get(s2,0,0), float4x4(-0.127175182104111,-0.024094182997942,0.006069025490433,-0.111108005046844,0.004032026976347,0.126147344708443,0.127150148153305,-0.137443959712982,-0.183753892779350,-0.113208390772343,0.015309303998947,0.067563861608505,0.129181817173958,-0.017766864970326,-0.025605097413063,0.104907125234604));
res += mul(Get(s2,0,dy), float4x4(0.046797964721918,-0.108878046274185,-0.165209874510765,-0.085278980433941,-0.221658065915108,-0.126891419291496,0.205668404698372,0.048920687288046,-0.126927629113197,-0.271741598844528,0.039323419332504,-0.044966984540224,-0.021720424294472,0.058097902685404,-0.035006713122129,0.138091742992401));
res += mul(Get(s2,dx,-dy), float4x4(0.013730214908719,-0.044019713997841,-0.142837911844254,0.089069254696369,-0.109970107674599,-0.044251114130020,0.203886866569519,-0.002058128826320,0.060760796070099,-0.090940237045288,-0.128513932228088,0.083136089146137,-0.227667957544327,-0.094908043742180,-0.033268697559834,-0.051570691168308));
res += mul(Get(s2,dx,0), float4x4(-0.039424907416105,-0.050908427685499,-0.001219467027113,0.145851150155067,-0.062091290950775,-0.196794733405113,-0.028731524944305,0.122011668980122,-0.099756836891174,0.178669124841690,-0.002036033896729,-0.145155534148216,-0.168904125690460,0.024479081854224,0.139439150691032,-0.099823437631130));
res += mul(Get(s2,dx,dy), float4x4(0.066910751163960,-0.095205433666706,0.023692995309830,-0.016364175826311,-0.296736091375351,-0.073298573493958,-0.030762126669288,-0.076882645487785,-0.213360235095024,0.008171519264579,0.117504008114338,0.051457937806845,-0.056978184729815,0.265344709157944,0.091897688806057,0.352407246828079));
res += mul(Get(s3,-dx,-dy), float4x4(0.135609731078148,-0.074091337621212,-0.090604044497013,-0.084184743463993,-0.027066256850958,-0.009451558813453,-0.002213186351582,0.027235008776188,-0.174712479114532,-0.014709766954184,-0.069632947444916,-0.035406962037086,0.198000922799110,-0.131574481725693,0.216267958283424,0.076941102743149));
res += mul(Get(s3,-dx,0), float4x4(0.252444326877594,0.014580581337214,-0.139461979269981,-0.073704257607460,0.058838311582804,0.285464316606522,0.015904307365417,-0.077482052147388,0.062047716230154,-0.026013791561127,0.012618434615433,-0.220396488904953,0.055144224315882,-0.102213032543659,-0.071521870791912,0.088851220905781));
res += mul(Get(s3,-dx,dy), float4x4(0.220173418521881,0.043963629752398,-0.297261923551559,0.064497061073780,0.011151420883834,-0.051965773105621,-0.113504186272621,-0.041954234242439,-0.056369844824076,-0.023447122424841,-0.188369244337082,-0.028192073106766,0.185054570436478,0.081349819898605,-0.072829715907574,-0.020173316821456));
res += mul(Get(s3,0,-dy), float4x4(0.152985721826553,0.049652524292469,0.115343593060970,-0.154327288269997,0.128411874175072,0.065844580531120,-0.070692390203476,-0.067021720111370,-0.154895156621933,0.002444115700200,0.091627337038517,0.026354949921370,0.119960345327854,0.103933081030846,0.225694403052330,0.104212902486324));
res += mul(Get(s3,0,0), float4x4(-0.054665818810463,0.087795063853264,-0.014207836240530,-0.115441486239433,0.142095550894737,0.104166090488434,0.063625290989876,0.058589138090611,0.029840320348740,-0.131176859140396,-0.160916924476624,0.093744523823261,-0.010899502784014,0.078322000801563,-0.002119047800079,0.126546800136566));
res += mul(Get(s3,0,dy), float4x4(0.034592542797327,-0.015936620533466,-0.057554751634598,-0.177876919507980,0.200615584850311,0.035995524376631,0.188578844070435,-0.033842440694571,0.030144764110446,-0.129273161292076,-0.053347527980804,-0.042134337127209,0.156663581728935,0.044118415564299,-0.001333608757704,0.064304754137993));
res += mul(Get(s3,dx,-dy), float4x4(0.240447402000427,-0.077335514128208,0.053976159542799,-0.071585707366467,0.048246696591377,-0.018372002989054,-0.026432013139129,-0.016898997128010,0.019096855074167,0.131572708487511,0.003868052037433,0.126339167356491,-0.065395034849644,0.022234201431274,0.093570880591869,0.003993240650743));
res += mul(Get(s3,dx,0), float4x4(0.016502562910318,-0.021955702453852,-0.082293011248112,-0.171324461698532,0.287684381008148,-0.078363172709942,-0.006096919067204,-0.090197019279003,-0.088597342371941,0.151755750179291,0.168991491198540,0.034237258136272,0.092145323753357,0.013305509462953,-0.064082242548466,-0.086468569934368));
res += mul(Get(s3,dx,dy), float4x4(0.082526892423630,-0.198902562260628,-0.054508276283741,0.042138151824474,0.216753944754601,-0.016877064481378,-0.066934987902641,0.056811187416315,-0.165949985384941,-0.007587055675685,-0.107339732348919,0.173519387841225,-0.001519463607110,0.014013836160302,-0.107579089701176,0.072981439530849));
return max(float4(0,0,0,0), res);
}
