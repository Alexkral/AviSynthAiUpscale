sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.174455031752586,-0.250834435224533,0.096956893801689,-0.140386074781418,-0.155176430940628,-0.000795259373263,0.190572619438171,0.149635896086693,0.042885616421700,0.062876783311367,-0.093441858887672,-0.037052266299725,-0.033393003046513,0.082694329321384,0.045996949076653,0.457748919725418));
res += mul(Get(s0,-dx,0), float4x4(-0.103079333901405,-0.200524345040321,0.095287553966045,-0.120843060314655,-0.060329586267471,0.010945067740977,-0.010486884042621,0.132721334695816,-0.045167148113251,-0.004743912722915,-0.159182548522949,0.141089260578156,-0.088695041835308,-0.113629184663296,-0.295906841754913,0.118058830499649));
res += mul(Get(s0,-dx,dy), float4x4(-0.034088488668203,-0.208432763814926,0.015613902360201,-0.066168561577797,-0.008055806159973,0.147701114416122,-0.282380640506744,-0.018518611788750,-0.117802321910858,0.020902421325445,0.110565587878227,-0.036970626562834,-0.065788939595222,0.113159291446209,-0.044980090111494,0.127685219049454));
res += mul(Get(s0,0,-dy), float4x4(-0.092462927103043,0.053814247250557,-0.037489492446184,-0.122806966304779,-0.134126126766205,0.035852555185556,0.125764384865761,-0.077963270246983,0.098818257451057,0.207415014505386,-0.002417026087642,-0.119299709796906,0.498206585645676,-0.046495042741299,-0.109000563621521,-0.009922674857080));
res += mul(Get(s0,0,0), float4x4(0.016918413341045,-0.103099606931210,0.022770645096898,0.046686932444572,-0.077062770724297,-0.132992058992386,0.147085681557655,-0.019688136875629,0.000288729846943,0.116285905241966,-0.032925948500633,0.203348696231842,-0.036621399223804,0.074947789311409,-0.056061699986458,0.004496566485614));
res += mul(Get(s0,0,dy), float4x4(0.025239750742912,-0.033166840672493,-0.062982633709908,0.013146955519915,0.048629872500896,-0.175625830888748,-0.120715014636517,-0.053835283964872,-0.196268767118454,-0.195573568344116,-0.169664070010185,0.209585905075073,0.075087875127792,-0.119784019887447,0.092673212289810,-0.063953012228012));
res += mul(Get(s0,dx,-dy), float4x4(-0.087036356329918,-0.053285725414753,0.019135661423206,0.016986273229122,0.015428439714015,0.114304013550282,-0.049745280295610,-0.172190129756927,0.170739114284515,0.185375764966011,-0.041749257594347,-0.116012148559093,-0.063440598547459,0.082876898348331,-0.026565970852971,0.014081233181059));
res += mul(Get(s0,dx,0), float4x4(-0.140060305595398,0.152498960494995,-0.061947338283062,0.174383506178856,-0.121010996401310,-0.157153204083443,0.187535956501961,-0.102028392255306,-0.130970984697342,0.056754786521196,-0.055052816867828,-0.093319490551949,-0.158546879887581,0.215196266770363,-0.177640035748482,0.004406771156937));
res += mul(Get(s0,dx,dy), float4x4(0.011910734698176,-0.178948312997818,0.128043666481972,-0.096769556403160,0.028164448216558,-0.307469725608826,-0.046632856130600,-0.123139262199402,-0.016292694956064,-0.252415984869003,-0.153214976191521,0.353213161230087,-0.099444650113583,-0.184606969356537,-0.212887465953827,-0.151055902242661));
res += mul(Get(s1,-dx,-dy), float4x4(-0.106335364282131,-0.222774699330330,0.091453447937965,0.108199797570705,-0.125855550169945,0.063485324382782,0.481862604618073,-0.060820199549198,-0.075888216495514,-0.059125568717718,-0.101768471300602,-0.033572040498257,0.035316511988640,0.170802459120750,0.119749352335930,-0.246411725878716));
res += mul(Get(s1,-dx,0), float4x4(0.076540403068066,0.051754791289568,0.165097936987877,0.019795833155513,-0.217627838253975,0.059585172683001,0.129846125841141,-0.001260913093574,-0.096890151500702,-0.124922767281532,-0.243031114339828,-0.174583077430725,0.127180412411690,0.030234547331929,-0.011968103237450,0.002140858210623));
res += mul(Get(s1,-dx,dy), float4x4(0.107289731502533,0.034108150750399,0.050959009677172,0.229365140199661,-0.055516447871923,-0.119812250137329,0.470493406057358,0.139165595173836,-0.003150536911562,0.030391311272979,-0.106880255043507,-0.193133920431137,0.065576665103436,-0.231600761413574,0.033773273229599,0.076952554285526));
res += mul(Get(s1,0,-dy), float4x4(-0.142753541469574,0.095888771116734,-0.142412945628166,-0.045948300510645,-0.165789976716042,0.234361141920090,-0.085022926330566,-0.005950836930424,0.008327731862664,0.025634834542871,0.103120557963848,-0.033177860081196,0.144119918346405,-0.034859050065279,-0.132094427943230,-0.141959428787231));
res += mul(Get(s1,0,0), float4x4(0.042814388871193,-0.079341977834702,-0.053853113204241,-0.074276082217693,-0.113759331405163,0.003042498370633,0.032127428799868,0.045385543256998,-0.095569722354412,-0.165961340069771,-0.048576336354017,0.104353927075863,0.206765234470367,-0.039969462901354,-0.111905895173550,-0.038671970367432));
res += mul(Get(s1,0,dy), float4x4(0.132300272583961,-0.066988833248615,-0.133202046155930,-0.020416824147105,0.066652692854404,0.003111615777016,-0.173443257808685,0.174646764993668,-0.039194226264954,-0.100155159831047,-0.129815742373466,0.007467644754797,0.128877356648445,0.256364673376083,0.022353604435921,-0.116358399391174));
res += mul(Get(s1,dx,-dy), float4x4(0.001395514933392,0.080794684588909,0.024117225781083,0.151086643338203,0.100204266607761,-0.140368685126305,-0.097901895642281,-0.041037239134312,0.156994625926018,0.124442197382450,-0.035163197666407,-0.032161388546228,0.143658190965652,-0.139622226357460,-0.128243505954742,-0.074496231973171));
res += mul(Get(s1,dx,0), float4x4(0.070525683462620,0.068099111318588,0.044471707195044,0.348624527454376,-0.060888160020113,-0.011156083084643,-0.086407944560051,-0.235194548964500,0.023200670257211,-0.006498852744699,-0.029769774526358,0.029519483447075,0.045637819916010,0.099586680531502,-0.126591399312019,-0.060786485671997));
res += mul(Get(s1,dx,dy), float4x4(0.141262173652649,0.049025181680918,-0.010092883370817,-0.080975465476513,0.090077884495258,0.012395977042615,-0.063148319721222,0.422402501106262,-0.076553508639336,-0.104296565055847,-0.146826580166817,0.042322486639023,-0.016691796481609,0.198234125971794,0.028304085135460,-0.027401592582464));
res += mul(Get(s2,-dx,-dy), float4x4(0.054526232182980,0.018730046227574,0.097138307988644,0.086277499794960,0.436917185783386,0.182511165738106,0.008539252914488,-0.130387589335442,-0.120296128094196,-0.158330425620079,0.076830275356770,-0.047405194491148,-0.105023346841335,-0.110385648906231,0.291984289884567,-0.076298646628857));
res += mul(Get(s2,-dx,0), float4x4(0.009317502379417,-0.010854808613658,0.040049444884062,-0.008825049735606,0.363062262535095,0.084358111023903,0.019209861755371,0.090885125100613,-0.014981065876782,-0.103073827922344,0.084143236279488,-0.156106859445572,-0.105501487851143,-0.131468772888184,0.015394239686430,-0.055742859840393));
res += mul(Get(s2,-dx,dy), float4x4(-0.137037694454193,-0.070132963359356,0.099727138876915,-0.067427299916744,0.134722515940666,0.019209824502468,-0.160087287425995,-0.085133351385593,-0.021793732419610,0.108669877052307,0.054170943796635,-0.114860557019711,-0.166349798440933,0.033227387815714,-0.145355984568596,-0.145920500159264));
res += mul(Get(s2,0,-dy), float4x4(-0.015398521907628,-0.104877054691315,-0.043415084481239,-0.065114721655846,-0.096227988600731,0.176501438021660,0.075001291930676,-0.174978688359261,-0.096793964505196,0.119427710771561,-0.003686290467158,0.043285235762596,-0.075398094952106,-0.073535323143005,0.062138456851244,0.232674777507782));
res += mul(Get(s2,0,0), float4x4(0.061545409262180,0.005863634403795,-0.076518803834915,0.022539151832461,0.028138587251306,0.054475024342537,-0.044105708599091,0.080670908093452,-0.001694652019069,-0.110742099583149,0.066635504364967,-0.021758338436484,-0.070286132395267,-0.096146367490292,-0.098131611943245,0.075174532830715));
res += mul(Get(s2,0,dy), float4x4(0.052625779062510,-0.052137359976768,-0.024197021499276,0.009240364655852,0.197511419653893,0.065899118781090,-0.230053812265396,-0.086157180368900,-0.098429664969444,-0.031041862443089,-0.005737905856222,-0.151992455124855,-0.028233336284757,-0.179438516497612,-0.171859249472618,-0.123057603836060));
res += mul(Get(s2,dx,-dy), float4x4(0.028611820191145,-0.210411563515663,0.071585111320019,-0.105422139167786,0.020865563303232,-0.031245006248355,0.102775260806084,-0.046463657170534,0.159928351640701,0.124379679560661,-0.052271433174610,0.032497417181730,-0.090623535215855,-0.028676137328148,0.143369227647781,0.077512912452221));
res += mul(Get(s2,dx,0), float4x4(0.243510812520981,-0.013095164671540,0.241037741303444,0.018833158537745,0.202282324433327,0.075240001082420,0.047909844666719,0.042433343827724,0.010634024627507,0.002896467223763,-0.025500705465674,-0.036388285458088,0.045703731477261,-0.029257578775287,-0.011951246298850,0.144276082515717));
res += mul(Get(s2,dx,dy), float4x4(0.148372262716293,-0.093255601823330,-0.038356427103281,0.088119499385357,0.042105022817850,0.036828376352787,-0.232053175568581,-0.086806334555149,-0.006560273934156,-0.136483073234558,0.053975734859705,-0.206631973385811,0.045070651918650,-0.238386943936348,-0.069094434380531,-0.022178320214152));
res += mul(Get(s3,-dx,-dy), float4x4(-0.291303068399429,0.057961624115705,-0.145457729697227,-0.048311728984118,-0.221462473273277,0.127791672945023,-0.057562511414289,-0.111476980149746,-0.029719261452556,-0.003182183019817,0.064481720328331,-0.027463970705867,-0.023606803268194,0.050678495317698,0.028056461364031,0.015568469651043));
res += mul(Get(s3,-dx,0), float4x4(0.262794524431229,-0.165680125355721,0.002158257877454,-0.112770386040211,-0.014427236281335,-0.054587204009295,0.197356030344963,0.096491783857346,0.086564697325230,0.019728574901819,0.255192846059799,-0.089058719575405,-0.107665583491325,0.199269190430641,0.102418825030327,-0.021757736802101));
res += mul(Get(s3,-dx,dy), float4x4(0.084070675075054,0.050287954509258,0.066052906215191,-0.174978435039520,-0.116628639400005,-0.085008703172207,0.193150833249092,0.231381595134735,-0.160499557852745,0.142788752913475,0.035418160259724,0.018155332654715,0.029641453176737,0.007466993294656,0.114707849919796,0.115304067730904));
res += mul(Get(s3,0,-dy), float4x4(-0.189282283186913,0.105615563690662,-0.062672346830368,-0.061940897256136,-0.073239699006081,0.035510592162609,-0.004622109234333,-0.188369125127792,0.040288750082254,0.093472845852375,0.056451834738255,-0.053277879953384,0.304741799831390,0.046424660831690,-0.190969765186310,-0.142474383115768));
res += mul(Get(s3,0,0), float4x4(-0.011109395883977,-0.047216642647982,0.012332524172962,-0.107137002050877,0.325890153646469,0.090451888740063,0.041606865823269,-0.101294219493866,-0.064666040241718,-0.019564017653465,0.074567846953869,-0.153992578387260,0.309161186218262,0.192621439695358,-0.148034945130348,-0.183995440602303));
res += mul(Get(s3,0,dy), float4x4(-0.199947685003281,-0.028605548664927,0.109188988804817,-0.080565094947815,0.093108311295509,-0.101659126579762,0.059538956731558,0.274090051651001,-0.091468431055546,0.191165000200272,-0.132792919874191,-0.183129474520683,-0.081427112221718,0.020862489938736,-0.100201249122620,0.030420547351241));
res += mul(Get(s3,dx,-dy), float4x4(-0.155564576387405,-0.093801133334637,-0.051585726439953,-0.168902859091759,0.124996125698090,0.028935221955180,0.017962384968996,-0.114922486245632,-0.161703437566757,0.520373165607452,-0.038435053080320,-0.193422093987465,-0.068966448307037,-0.112445577979088,-0.260667145252228,-0.092907302081585));
res += mul(Get(s3,dx,0), float4x4(0.225668430328369,0.002362095518038,0.077052332460880,-0.168062001466751,0.161679863929749,0.060890018939972,-0.058334548026323,-0.198840394616127,-0.134607791900635,0.150909245014191,-0.057743702083826,-0.143075764179230,-0.205393046140671,0.108613163232803,-0.123423114418983,-0.081377968192101));
res += mul(Get(s3,dx,dy), float4x4(0.067649267613888,0.045222878456116,0.213551074266434,-0.150847584009171,0.030284741893411,-0.159777805209160,0.123008891940117,0.160379394888878,-0.151420816779137,0.552563726902008,-0.081174395978451,-0.088407769799232,-0.233487978577614,0.342825144529343,-0.234861701726913,-0.037812240421772));
return max(float4(0,0,0,0), res);
}
