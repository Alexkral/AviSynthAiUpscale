sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.044358626008034,0.226407095789909,0.023625835776329,0.108392097055912,0.007078480906785,-0.145283669233322,0.071171529591084,-0.065179884433746,0.089822873473167,-0.138233765959740,0.040814090520144,0.102073028683662,0.125724732875824,-0.070841439068317,0.140889227390289,0.041044812649488));
res += mul(Get(s0,-dx,0), float4x4(0.005165551323444,-0.008860058151186,0.143879845738411,-0.071137234568596,0.079606659710407,0.040678754448891,-0.037298824638128,0.223389759659767,0.164581805467606,-0.143827050924301,-0.012911677360535,-0.122388899326324,0.005733531434089,-0.030959839001298,-0.024553203955293,-0.055845752358437));
res += mul(Get(s0,-dx,dy), float4x4(-0.039343710988760,0.011870913207531,0.015564432367682,-0.018808614462614,0.083702497184277,-0.005311727523804,-0.084717400372028,0.165299937129021,0.161132082343102,0.098786771297455,-0.010306895710528,-0.215052872896194,0.179373785853386,-0.094557844102383,-0.080923527479172,-0.022492585703731));
res += mul(Get(s0,0,-dy), float4x4(-0.214814499020576,0.070597805082798,-0.012611223384738,0.121597990393639,0.064556039869785,0.099062412977219,-0.025350160896778,-0.234506592154503,0.076319061219692,0.085301063954830,-0.083269335329533,0.010294839739799,0.037221379578114,-0.119254417717457,-0.107282795011997,-0.048633992671967));
res += mul(Get(s0,0,0), float4x4(-0.132045775651932,0.065536141395569,-0.046736404299736,0.040401440113783,-0.027726497501135,0.066612139344215,-0.204225912690163,0.092186845839024,0.095911599695683,-0.035703036934137,-0.047814797610044,0.063496999442577,-0.170541971921921,0.009642804041505,-0.091187037527561,0.011787449009717));
res += mul(Get(s0,0,dy), float4x4(0.062041439116001,0.073784396052361,0.063815601170063,-0.175419718027115,-0.061294808983803,-0.116161137819290,-0.048602923750877,-0.055586043745279,-0.223365128040314,0.032298520207405,-0.070609733462334,-0.025128066539764,0.167960897088051,-0.120426140725613,-0.012887830846012,0.206429392099380));
res += mul(Get(s0,dx,-dy), float4x4(-0.074135564267635,0.142331346869469,0.228421956300735,-0.069722130894661,0.122217193245888,0.069548986852169,-0.049659363925457,0.068608820438385,-0.025463197380304,-0.031338401138783,-0.082051292061806,0.067212961614132,-0.025965880602598,-0.099945150315762,0.023091379553080,-0.004978585988283));
res += mul(Get(s0,dx,0), float4x4(-0.182193905115128,0.040150374174118,0.019898392260075,-0.202328607439995,-0.055164080113173,0.140412911772728,0.078224383294582,0.043537806719542,-0.013650010339916,-0.111497923731804,-0.096711069345474,0.028549842536449,-0.164638385176659,0.237616628408432,0.009075378067791,0.192685738205910));
res += mul(Get(s0,dx,dy), float4x4(0.138409748673439,0.061296083033085,0.138440147042274,0.120110891759396,0.069842115044594,0.079286992549896,-0.244365185499191,0.193127915263176,-0.091699443757534,0.126881718635559,-0.058428127318621,-0.037603974342346,-0.148433491587639,0.105057902634144,-0.025560693815351,-0.003897428046912));
res += mul(Get(s1,-dx,-dy), float4x4(-0.019989330321550,-0.281296700239182,-0.051707666367292,0.103062011301517,0.100965648889542,0.078708522021770,-0.190458536148071,-0.043094635009766,0.075790204107761,-0.008676220662892,-0.023119961842895,0.059667058289051,0.136741623282433,-0.006731574889272,-0.145071253180504,0.069183856248856));
res += mul(Get(s1,-dx,0), float4x4(0.080375738441944,-0.099029645323753,0.081610478460789,-0.063900664448738,-0.097867950797081,0.041672684252262,-0.010438285768032,-0.135167881846428,0.001187641872093,-0.154474601149559,-0.133852809667587,0.179199427366257,-0.154939949512482,0.169810414314270,-0.193651139736176,-0.087807267904282));
res += mul(Get(s1,-dx,dy), float4x4(-0.076763518154621,0.162690877914429,-0.003813461400568,0.050397567451000,-0.107107363641262,0.004810204729438,0.016518546268344,0.187436819076538,-0.033223651349545,-0.085338182747364,-0.025982331484556,0.082906208932400,0.120338663458824,0.029063122346997,0.021280212327838,-0.017226606607437));
res += mul(Get(s1,0,-dy), float4x4(-0.010606162250042,-0.086184106767178,0.010148474946618,0.080953083932400,-0.011152585968375,0.053427502512932,0.012110425159335,-0.038194868713617,0.199858188629150,-0.117857180535793,0.157992735505104,-0.014793551526964,-0.018575422465801,-0.066680617630482,-0.109266668558121,0.065903887152672));
res += mul(Get(s1,0,0), float4x4(0.034089930355549,-0.065355725586414,-0.022806273773313,0.192512631416321,0.061311669647694,-0.065947182476521,-0.082655310630798,0.041909411549568,0.132269039750099,0.014845452271402,0.058880005031824,0.093508154153824,-0.026988320052624,-0.002354928292334,0.074771873652935,0.034727390855551));
res += mul(Get(s1,0,dy), float4x4(0.212315112352371,0.084165677428246,0.009535713121295,-0.008527456782758,0.098865345120430,-0.077579699456692,0.180729568004608,0.088349565863609,-0.001462400774471,-0.043200183659792,0.001841163262725,-0.008462663739920,0.100847229361534,0.040729209780693,-0.051831983029842,-0.190546855330467));
res += mul(Get(s1,dx,-dy), float4x4(-0.036528494209051,0.077918253839016,-0.027511414140463,0.070503979921341,0.025542026385665,0.028849693015218,0.089306034147739,-0.094639517366886,0.186822801828384,-0.113837294280529,0.207152083516121,-0.153704822063446,0.029033605009317,0.057328462600708,-0.078006766736507,-0.137281253933907));
res += mul(Get(s1,dx,0), float4x4(-0.042625032365322,0.019763175398111,-0.117226809263229,-0.184186056256294,0.150318577885628,-0.006507231853902,0.051629941910505,-0.012019280344248,0.201168075203896,-0.042927838861942,0.128490507602692,-0.135767132043839,0.103943526744843,-0.024649430066347,-0.080466464161873,0.121570564806461));
res += mul(Get(s1,dx,dy), float4x4(-0.015215064398944,-0.046886935830116,-0.073916114866734,0.189402624964714,-0.027357026934624,-0.132659733295441,0.175819680094719,0.094523772597313,0.037074308842421,0.003685021540150,0.020438792183995,-0.160241395235062,0.103159286081791,-0.060734458267689,-0.189663127064705,0.023434057831764));
res += mul(Get(s2,-dx,-dy), float4x4(0.254160195589066,-0.192355647683144,0.087639972567558,-0.021713543683290,-0.060068760067225,-0.048950225114822,0.015699984505773,-0.030415870249271,-0.025066126137972,-0.006128458306193,0.015253061428666,0.005191998556256,-0.099402129650116,0.000969354470726,0.025045946240425,0.086515694856644));
res += mul(Get(s2,-dx,0), float4x4(0.163685813546181,-0.158846288919449,-0.108484327793121,-0.082866095006466,-0.008574097417295,-0.044009294360876,0.118108436465263,-0.030363742262125,0.003776979399845,0.086314313113689,0.129428043961525,-0.068968765437603,-0.039252229034901,-0.138231411576271,-0.167571261525154,0.054518211632967));
res += mul(Get(s2,-dx,dy), float4x4(0.262368559837341,-0.058100324124098,0.079300262033939,-0.110240079462528,-0.121047459542751,-0.128170326352119,0.190883815288544,0.083068147301674,0.142001062631607,0.186201363801956,-0.031085716560483,0.000578553474043,-0.189110711216927,-0.043659452348948,-0.174130320549011,-0.051930423825979));
res += mul(Get(s2,0,-dy), float4x4(0.077278867363930,-0.042405076324940,-0.099488973617554,0.213930889964104,-0.051434069871902,0.074036702513695,-0.077171944081783,0.039451863616705,0.071034796535969,0.124570392072201,0.034210778772831,0.253353208303452,-0.020902885124087,0.040746133774519,-0.059550072997808,0.099575869739056));
res += mul(Get(s2,0,0), float4x4(-0.107085242867470,-0.121651656925678,-0.146431386470795,0.256525754928589,0.114570260047913,0.144947588443756,0.028354059904814,-0.135010033845901,-0.090439558029175,-0.117038860917091,0.109408393502235,0.157015189528465,-0.039715461432934,-0.200020238757133,-0.004502466879785,-0.124831259250641));
res += mul(Get(s2,0,dy), float4x4(0.154531031847000,0.108541972935200,0.088407255709171,-0.133443072438240,0.082595333456993,-0.099366821348667,0.126764357089996,0.056368514895439,0.046984389424324,0.063934668898582,0.031352978199720,0.146754056215286,-0.151562198996544,-0.123037062585354,0.005869911983609,0.009463221766055));
res += mul(Get(s2,dx,-dy), float4x4(0.006612265016884,0.215994015336037,0.098355174064636,0.210913375020027,-0.056773271411657,-0.067630000412464,-0.055329956114292,-0.167175561189651,0.011593972332776,-0.029585525393486,-0.155597656965256,0.004907651338726,-0.048414297401905,0.125883534550667,-0.004310771822929,0.026111187413335));
res += mul(Get(s2,dx,0), float4x4(0.046953879296780,-0.135135829448700,0.005338160786778,0.364947825670242,0.216164991259575,0.099526673555374,0.004690620582551,-0.015519500710070,-0.248546719551086,-0.062787793576717,0.140302002429962,0.007640634197742,-0.121606744825840,0.176863819360733,0.035886529833078,0.022958621382713));
res += mul(Get(s2,dx,dy), float4x4(0.135375708341599,-0.055913664400578,0.140495583415031,0.069925919175148,-0.208709806203842,-0.066493101418018,0.046692755073309,0.128169402480125,-0.031086258590221,0.140099570155144,-0.017067253589630,0.022786278277636,0.011832925491035,0.068091280758381,-0.117311418056488,0.018201297149062));
res += mul(Get(s3,-dx,-dy), float4x4(-0.070740856230259,0.042591638863087,0.082737244665623,0.289893448352814,-0.004776447545737,0.066663853824139,-0.058838073164225,-0.002945186337456,-0.060924682766199,0.007647345308214,0.076640933752060,0.029077021405101,-0.116673283278942,0.082037031650543,0.141945913434029,-0.001302669523284));
res += mul(Get(s3,-dx,0), float4x4(0.007038906682283,-0.162615746259689,0.040539428591728,0.090196959674358,-0.025383677333593,0.038208141922951,-0.010494080372155,0.264824360609055,0.077407121658325,0.012374777346849,0.101615093648434,0.033076677471399,0.053161274641752,-0.077456116676331,0.091560907661915,-0.055511642247438));
res += mul(Get(s3,-dx,dy), float4x4(0.041422557085752,0.054418712854385,-0.099249072372913,0.059222161769867,-0.046540189534426,-0.195188939571381,-0.169385194778442,0.149101600050926,-0.089034400880337,0.267632752656937,0.013124645687640,0.092614762485027,0.138920888304710,-0.092925213277340,-0.128863468766212,-0.066294156014919));
res += mul(Get(s3,0,-dy), float4x4(-0.133547857403755,-0.040273897349834,0.173326581716537,0.087784141302109,0.110408678650856,-0.124813348054886,-0.089065812528133,0.180133417248726,-0.083501465618610,0.138788312673569,0.030200213193893,-0.073213472962379,0.026729507371783,0.208543181419373,-0.053440809249878,-0.083029754459858));
res += mul(Get(s3,0,0), float4x4(-0.175383523106575,0.048083066940308,0.019553065299988,-0.038545403629541,-0.179062783718109,-0.116332761943340,0.169507920742035,0.161306023597717,0.128486007452011,0.085310988128185,-0.139789953827858,-0.241045027971268,-0.000348373432644,0.152644023299217,-0.028321141377091,-0.036379054188728));
res += mul(Get(s3,0,dy), float4x4(0.156386494636536,0.106507331132889,-0.092382095754147,0.152280554175377,0.063042096793652,0.083121426403522,-0.105715714395046,-0.080911330878735,-0.073371544480324,0.153696209192276,-0.074456505477428,0.164090350270271,-0.059349700808525,0.200762167572975,-0.268920660018921,-0.079216405749321));
res += mul(Get(s3,dx,-dy), float4x4(-0.049110870808363,-0.024047927930951,0.108803801238537,-0.209568738937378,0.139161229133606,-0.245885610580444,0.021611960604787,0.073809050023556,-0.043875016272068,-0.000568603398278,-0.022649643942714,-0.053140267729759,-0.031692672520876,-0.060267414897680,0.030951147899032,0.057419952005148));
res += mul(Get(s3,dx,0), float4x4(0.179155215620995,0.143443599343300,0.193370372056961,0.030668312683702,0.085077747702599,0.094207957386971,0.266078889369965,-0.086570300161839,0.037890501320362,0.043102957308292,-0.080543652176857,-0.007603231817484,-0.087121337652206,0.130351513624191,0.001345077063888,0.006492427084595));
res += mul(Get(s3,dx,dy), float4x4(0.125995710492134,-0.000461090414319,-0.159026205539703,-0.027381390333176,0.230075389146805,-0.008156632073224,-0.055630620568991,-0.165205746889114,0.077788963913918,-0.037173226475716,0.002883282024413,0.114332795143127,-0.159606009721756,0.034460898488760,0.133387550711632,0.131245091557503));
return max(float4(0,0,0,0), res);
}
