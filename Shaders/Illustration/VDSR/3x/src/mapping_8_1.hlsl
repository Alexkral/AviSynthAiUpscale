sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.041658889502287,-0.102610222995281,0.100586652755737,-0.052437588572502,-0.012077448889613,-0.100390203297138,0.115197628736496,0.036117266863585,-0.024572471156716,0.068266965448856,0.289824634790421,-0.026460271328688,-0.047843478620052,0.018810123205185,-0.059515051543713,-0.011033335700631));
res += mul(Get(s0,-dx,0), float4x4(-0.092142991721630,0.040537841618061,-0.140424013137817,0.018685691058636,-0.065992951393127,0.011896795593202,0.135524094104767,-0.016315782442689,-0.088922820985317,-0.021177409216762,0.148227557539940,-0.169285237789154,-0.020516715943813,-0.168786555528641,-0.067147500813007,0.125318422913551));
res += mul(Get(s0,-dx,dy), float4x4(-0.077811926603317,0.236712232232094,-0.050719037652016,-0.093509569764137,0.011832769960165,-0.066426008939743,0.083221487700939,-0.007351278327405,-0.092246346175671,-0.006821741349995,0.170020446181297,0.065187886357307,-0.179192915558815,-0.103642955422401,0.069488234817982,-0.025572231039405));
res += mul(Get(s0,0,-dy), float4x4(-0.037299111485481,-0.022617494687438,0.025487355887890,0.019936950877309,-0.077211216092110,-0.124418474733829,-0.079785987734795,0.012427872978151,-0.097184233367443,-0.090786002576351,0.161527812480927,-0.026066420599818,-0.076006509363651,0.152434006333351,0.004639516118914,0.055438503623009));
res += mul(Get(s0,0,0), float4x4(0.014260216616094,-0.208187535405159,-0.045482419431210,0.090649686753750,0.090194478631020,0.062284074723721,-0.078480824828148,0.069418467581272,-0.088353469967842,-0.027909044176340,0.007972805760801,0.004130495246500,-0.048093199729919,0.032903589308262,0.025168545544147,-0.013962952420115));
res += mul(Get(s0,0,dy), float4x4(0.077147424221039,-0.000078193930676,0.049183838069439,0.077640101313591,0.251993745565414,0.025225274264812,-0.025170419365168,0.070460408926010,0.078945204615593,0.018201140686870,-0.020217122510076,0.347814261913300,-0.046991761773825,-0.287490963935852,-0.102312177419662,-0.080461986362934));
res += mul(Get(s0,dx,-dy), float4x4(-0.186324492096901,-0.097804345190525,0.109020993113518,0.008401778526604,0.024686539545655,0.012420294806361,-0.194160833954811,0.067455485463142,0.192233651876450,-0.009985692799091,-0.157877340912819,-0.027658767998219,-0.058927349746227,0.075010187923908,0.090436875820160,0.097259722650051));
res += mul(Get(s0,dx,0), float4x4(0.130008324980736,0.121917374432087,-0.077540859580040,0.223292246460915,-0.078664608299732,0.168947741389275,0.012155822478235,0.041028566658497,0.396648913621902,0.062144502997398,-0.078974992036819,-0.079327240586281,0.022308822721243,0.044737659394741,-0.049183409661055,0.066054672002792));
res += mul(Get(s0,dx,dy), float4x4(0.048267349600792,0.364734768867493,0.056354954838753,0.188396438956261,0.119131699204445,0.154300272464752,0.000865556939971,-0.055374957621098,-0.037058349698782,0.209387779235840,-0.119923099875450,-0.170971527695656,-0.018541667610407,-0.043126281350851,0.000241846442805,0.050852030515671));
res += mul(Get(s1,-dx,-dy), float4x4(-0.066123396158218,0.167398914694786,0.258324116468430,0.023453550413251,-0.032749075442553,-0.104367204010487,0.263359010219574,-0.213948205113411,0.183751359581947,-0.056315544992685,0.130862370133400,0.029528021812439,-0.202591508626938,-0.175025627017021,-0.041141025722027,-0.034865565598011));
res += mul(Get(s1,-dx,0), float4x4(0.000475013250252,0.243695795536041,0.064375922083855,-0.024035897105932,-0.095310688018799,0.028651138767600,-0.097931407392025,-0.133332520723343,0.119083218276501,0.115071311593056,-0.005811427719891,0.086702503263950,-0.191551998257637,-0.168335393071175,-0.146672397851944,-0.180150255560875));
res += mul(Get(s1,-dx,dy), float4x4(-0.033102486282587,0.279784947633743,0.060426272451878,-0.110282883048058,-0.201032891869545,0.149316206574440,-0.274542719125748,-0.071095667779446,-0.040104579180479,-0.011779394000769,-0.081941373646259,0.063284024596214,0.070878751575947,-0.120203807950020,-0.099199041724205,-0.174410760402679));
res += mul(Get(s1,0,-dy), float4x4(-0.025053162127733,-0.175142690539360,0.508457541465759,-0.009806724265218,-0.091271393001080,0.078651949763298,-0.066047191619873,-0.198273614048958,0.100143201649189,0.022146007046103,0.083631560206413,-0.051065277308226,0.056655887514353,-0.116714544594288,0.133523538708687,-0.150811985135078));
res += mul(Get(s1,0,0), float4x4(0.003709679702297,0.018822774291039,-0.018514664843678,-0.025133142247796,-0.089013770222664,-0.135852232575417,-0.000357849872671,-0.077691353857517,-0.005390038713813,0.108175382018089,-0.031267222017050,-0.021833935752511,0.039797812700272,-0.017184248194098,0.015621797181666,0.021215530112386));
res += mul(Get(s1,0,dy), float4x4(0.078052595257759,0.033944901078939,-0.008858977816999,-0.008634861558676,-0.193337276577950,0.359914064407349,0.001223710482009,-0.228326156735420,-0.070507146418095,-0.012307008728385,0.014490353874862,-0.079942479729652,-0.133745104074478,0.090386703610420,-0.009596287272871,-0.101491048932076));
res += mul(Get(s1,dx,-dy), float4x4(-0.112212732434273,-0.071978382766247,-0.033351868391037,-0.084570683538914,-0.123816452920437,-0.117696225643158,-0.082857623696327,-0.088680602610111,0.200947046279907,-0.201342612504959,0.003277129260823,0.031979918479919,0.026929229497910,0.013553224503994,0.017911082133651,-0.178140059113503));
res += mul(Get(s1,dx,0), float4x4(-0.012656773440540,0.067003242671490,-0.202182158827782,-0.063170820474625,-0.093356996774673,-0.222377374768257,-0.141424223780632,0.213036522269249,0.442239791154861,0.086839929223061,-0.040838737040758,-0.016416575759649,-0.022419663146138,-0.063702724874020,0.023490427061915,-0.085930079221725));
res += mul(Get(s1,dx,dy), float4x4(-0.000889124930836,0.113504618406296,0.013356725685298,-0.128349512815475,-0.125469326972961,0.040075223892927,0.140117004513741,0.383962094783783,-0.235267862677574,0.071974448859692,0.030311111360788,-0.087044745683670,-0.100877963006496,-0.072264045476913,0.007984112948179,-0.082219056785107));
res += mul(Get(s2,-dx,-dy), float4x4(-0.033360820263624,-0.034677091985941,-0.222960993647575,0.066561244428158,-0.107702419161797,-0.048099294304848,0.110702596604824,-0.096386492252350,0.143879249691963,-0.054479405283928,0.178048282861710,0.051960453391075,-0.038907043635845,-0.050543509423733,0.110053054988384,0.164421156048775));
res += mul(Get(s2,-dx,0), float4x4(0.019870618358254,0.025826144963503,-0.092190556228161,0.176965773105621,-0.074275493621826,0.061126131564379,0.052916340529919,-0.098009437322617,-0.085657566785812,-0.116779938340187,0.101056680083275,0.062341280281544,0.083463110029697,-0.130482882261276,-0.017431769520044,0.173338189721107));
res += mul(Get(s2,-dx,dy), float4x4(0.050806034356356,0.154366403818130,-0.187719121575356,0.408687740564346,-0.056086640805006,0.023342816159129,-0.035602353513241,-0.065900988876820,-0.082258053123951,0.071790516376495,0.069622561335564,0.119621604681015,0.253197789192200,0.090218931436539,0.100373826920986,0.280452668666840));
res += mul(Get(s2,0,-dy), float4x4(0.116923198103905,-0.068966947495937,-0.099066190421581,-0.099392093718052,-0.136131688952446,-0.163613259792328,0.112589880824089,0.118977397680283,0.020403059199452,-0.112472489476204,0.208933904767036,0.028535421937704,-0.269247978925705,-0.179264307022095,-0.032676905393600,-0.155120223760605));
res += mul(Get(s2,0,0), float4x4(0.166043192148209,-0.086877740919590,-0.074468739330769,0.041462969034910,0.001226026681252,-0.051915526390076,0.268404304981232,-0.014840772375464,0.002329104347154,-0.030436264351010,0.013452224433422,0.007298056967556,-0.166120603680611,-0.142094463109970,-0.013168518431485,-0.027711767703295));
res += mul(Get(s2,0,dy), float4x4(-0.141880989074707,0.230021908879280,-0.143820449709892,0.141831174492836,0.046857770532370,-0.084043972194195,0.020266164094210,-0.086982250213623,0.006451820023358,0.215578973293304,-0.101657263934612,0.004941640421748,0.065105706453323,-0.120044201612473,0.288016170263290,-0.078813686966896));
res += mul(Get(s2,dx,-dy), float4x4(0.032536014914513,0.178625077009201,0.084232874214649,-0.075222291052341,-0.055081792175770,-0.055607184767723,-0.086671605706215,-0.159212529659271,-0.064845509827137,-0.007594494149089,0.085964925587177,-0.017725527286530,-0.231877848505974,0.103552334010601,-0.120252132415771,-0.102567888796329));
res += mul(Get(s2,dx,0), float4x4(0.027551963925362,0.243716180324554,-0.095588706433773,-0.024905877187848,-0.020321017131209,0.038635894656181,0.113012477755547,-0.166150063276291,-0.084161698818207,-0.021781273186207,-0.114931851625443,-0.058183461427689,-0.065058171749115,0.014919531531632,-0.107678763568401,-0.055921681225300));
res += mul(Get(s2,dx,dy), float4x4(-0.106199465692043,0.055046942085028,0.118582338094711,0.130829125642776,0.022075692191720,0.046716649085283,0.054172389209270,-0.295825064182281,0.117489993572235,0.018630880862474,-0.164247587323189,-0.126136988401413,0.084168806672096,-0.148305803537369,-0.024447781965137,-0.183633029460907));
res += mul(Get(s3,-dx,-dy), float4x4(0.130768120288849,-0.190083503723145,-0.128812938928604,0.146191701292992,-0.066864967346191,0.137360528111458,0.277202099561691,0.000801044923719,-0.131243035197258,-0.004945342428982,-0.056792359799147,-0.201641380786896,0.070453695952892,-0.148698225617409,-0.119476608932018,-0.004896665923297));
res += mul(Get(s3,-dx,0), float4x4(-0.049439873546362,-0.197528719902039,0.063215591013432,-0.047129683196545,-0.062831960618496,-0.150958284735680,0.177855923771858,-0.123711764812469,-0.038805894553661,-0.017872381955385,-0.080605588853359,-0.121087640523911,-0.009818994440138,-0.145451664924622,-0.031801905483007,0.110560804605484));
res += mul(Get(s3,-dx,dy), float4x4(-0.028241936117411,-0.138181000947952,-0.007808669004589,-0.071817882359028,-0.090123571455479,0.270767211914063,-0.098328590393066,-0.097121305763721,-0.130220651626587,-0.073334634304047,-0.169024586677551,-0.021356349810958,0.059630360454321,-0.157838493585587,-0.077656239271164,0.225106284022331));
res += mul(Get(s3,0,-dy), float4x4(0.037170201539993,0.114739485085011,-0.224456891417503,0.365590542554855,-0.029121665284038,-0.004189377650619,-0.193145379424095,0.003470539115369,-0.097129501402378,0.073762699961662,-0.148796588182449,-0.101379692554474,0.232221826910973,-0.200697243213654,-0.070086486637592,-0.072178229689598));
res += mul(Get(s3,0,0), float4x4(-0.075584553182125,0.290090024471283,-0.106892652809620,-0.047540273517370,0.026588512584567,-0.041930697858334,-0.092857390642166,-0.088633805513382,-0.032010395079851,-0.114008910953999,-0.083957396447659,-0.023228669539094,-0.103832684457302,-0.121321991086006,-0.100381590425968,-0.034492272883654));
res += mul(Get(s3,0,dy), float4x4(0.001582130207680,0.049174949526787,0.046574030071497,0.107694603502750,-0.110609978437424,0.147037833929062,0.025360612198710,-0.107728406786919,0.037968225777149,-0.201806113123894,-0.031207438558340,-0.006179707590491,-0.020074246451259,-0.158187016844749,0.012954981997609,-0.053626306355000));
res += mul(Get(s3,dx,-dy), float4x4(0.023872105404735,0.117476664483547,-0.221680983901024,0.193496853113174,-0.147543445229530,0.004358726553619,0.022200385108590,0.020572977140546,0.229144528508186,0.041983347386122,-0.172123581171036,0.103873468935490,-0.066568784415722,0.126626953482628,-0.092286936938763,-0.076475292444229));
res += mul(Get(s3,dx,0), float4x4(-0.090163201093674,-0.109265379607677,-0.037422686815262,-0.044058427214622,0.011324652470648,0.010308294557035,0.076866373419762,0.080914266407490,0.079170621931553,0.144247144460678,-0.154972553253174,-0.076076969504356,-0.046878498047590,0.194247335195541,-0.155729025602341,-0.144552543759346));
res += mul(Get(s3,dx,dy), float4x4(-0.063384018838406,-0.144174799323082,-0.012697338126600,0.197011575102806,0.050373416393995,0.128768220543861,0.020290479063988,-0.096300899982452,-0.056294512003660,0.097816847264767,-0.073459215462208,-0.129340589046478,-0.137954980134964,0.012040973640978,-0.068525798618793,-0.069295071065426));
return max(float4(0,0,0,0), res);
}
