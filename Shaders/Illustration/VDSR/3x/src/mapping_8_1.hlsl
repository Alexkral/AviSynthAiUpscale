sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.136299058794975,0.270285576581955,0.116267345845699,0.160300746560097,-0.032089382410049,-0.035825710743666,-0.269496828317642,-0.181469053030014,-0.022413568571210,0.198618769645691,0.028278557583690,-0.054525475949049,0.114147804677486,-0.142666280269623,0.060114733874798,0.140388369560242));
res += mul(Get(s0,-dx,0), float4x4(-0.066608272492886,0.168997168540955,-0.084943480789661,0.126810967922211,-0.060280267149210,-0.123274199664593,-0.143109455704689,-0.019077371805906,-0.024037605151534,0.132488444447517,-0.062789790332317,-0.009753413498402,0.101964958012104,-0.008243530057371,-0.170695364475250,0.165512353181839));
res += mul(Get(s0,-dx,dy), float4x4(0.051924429833889,-0.098723091185093,0.229165345430374,-0.126988977193832,0.051028348505497,-0.026961619034410,0.121166691184044,0.196305885910988,0.108498699963093,-0.124276936054230,0.001794974668883,0.033058561384678,0.101754941046238,0.015535066835582,-0.125665262341499,-0.057370848953724));
res += mul(Get(s0,0,-dy), float4x4(-0.105116024613380,0.061155173927546,0.170079335570335,0.134014844894409,0.062438167631626,0.024723587557673,0.234421670436859,0.002674792427570,-0.059653781354427,0.120148099958897,0.098271533846855,-0.110445410013199,0.050964545458555,-0.237974569201469,-0.047698687762022,0.082945078611374));
res += mul(Get(s0,0,0), float4x4(-0.024041421711445,0.106167756021023,0.129355013370514,-0.060238409787416,0.032760925590992,-0.043547809123993,0.080263175070286,0.157001227140427,-0.084056176245213,0.125833973288536,0.094812728464603,-0.006938823498785,-0.235198542475700,-0.063974007964134,-0.030478918924928,0.004669659771025));
res += mul(Get(s0,0,dy), float4x4(0.029803358018398,0.071846947073936,0.006092558149248,-0.187157213687897,-0.151534378528595,0.096665300428867,0.164777159690857,0.020891828462481,0.015674827620387,-0.024271573871374,-0.112800098955631,-0.083464697003365,0.160354584455490,0.019914435222745,0.070819623768330,0.259643167257309));
res += mul(Get(s0,dx,-dy), float4x4(0.093885228037834,0.009439892135561,0.121691770851612,0.145919814705849,0.013122204691172,-0.010671306401491,-0.014654401689768,0.118379265069962,0.066953025758266,-0.086935825645924,-0.029110502451658,0.068853959441185,-0.027798624709249,-0.160957306623459,-0.009008744731545,0.118961550295353));
res += mul(Get(s0,dx,0), float4x4(-0.045707799494267,0.294515669345856,0.011037805117667,-0.090864278376102,-0.020601697266102,-0.034862469881773,-0.112825930118561,0.004695408511907,-0.016140226274729,0.038887556642294,-0.023445181548595,-0.008054593577981,0.237205341458321,-0.199340254068375,-0.106439843773842,0.232908532023430));
res += mul(Get(s0,dx,dy), float4x4(0.051549989730120,-0.109281755983829,0.100788012146950,0.041707292199135,-0.049987755715847,-0.031367029994726,-0.006033530924469,0.137995764613152,0.167474031448364,0.049814507365227,0.156574189662933,0.001396664883941,0.027021756395698,0.003063428914174,0.009311879053712,-0.135112926363945));
res += mul(Get(s1,-dx,-dy), float4x4(-0.160363003611565,0.300388395786285,-0.042156420648098,-0.057198781520128,-0.243131235241890,0.025096762925386,0.084087431430817,-0.146025314927101,0.032347843050957,-0.033208087086678,0.045052543282509,-0.045412834733725,0.152409225702286,-0.113300040364265,-0.005155103281140,0.133540257811546));
res += mul(Get(s1,-dx,0), float4x4(-0.174028068780899,0.066533081233501,-0.195536851882935,-0.036159124225378,-0.008435784839094,-0.085660696029663,-0.007248406764120,0.089125424623489,-0.030055010691285,-0.038234211504459,0.008389338850975,-0.073704376816750,-0.002496055094525,0.036592781543732,-0.111874595284462,-0.039165500551462));
res += mul(Get(s1,-dx,dy), float4x4(-0.089754238724709,-0.058113157749176,-0.070510029792786,-0.061541792005301,0.031007798388600,-0.057361278682947,0.002168544568121,0.051731240004301,0.018587555736303,0.100547745823860,-0.126280903816223,0.055037010461092,0.229092642664909,-0.065272688865662,-0.100874476134777,0.034719530493021));
res += mul(Get(s1,0,-dy), float4x4(-0.067132212221622,-0.099327325820923,0.209388494491577,0.126975074410439,0.098168425261974,-0.075884900987148,-0.015981979668140,0.035490933805704,-0.006871371529996,-0.035008106380701,0.199005514383316,0.030778467655182,0.034355781972408,-0.037212692201138,0.021479414775968,-0.040848929435015));
res += mul(Get(s1,0,0), float4x4(0.024884838610888,0.035213064402342,0.069661915302277,0.035754907876253,-0.037091888487339,-0.070878103375435,-0.029136180877686,0.139162316918373,-0.105399407446384,-0.045563198626041,-0.008953751996160,0.177925020456314,-0.015865027904510,-0.035860773175955,0.088655196130276,0.107320256531239));
res += mul(Get(s1,0,dy), float4x4(-0.114781208336353,0.058496549725533,-0.127300769090652,-0.211994811892509,-0.056367475539446,-0.047246839851141,0.022467115893960,-0.014809475280344,-0.085665754973888,0.098796032369137,-0.110558152198792,0.146072030067444,0.155031591653824,0.113820910453796,-0.293761551380157,0.288523137569427));
res += mul(Get(s1,dx,-dy), float4x4(0.111182592809200,-0.016464438289404,-0.027746578678489,0.040113639086485,0.069293089210987,-0.280963927507401,0.080806799232960,0.094218261539936,-0.031015720218420,-0.019986530765891,0.150399580597878,0.039186932146549,0.000009114505701,0.055242750793695,0.075106218457222,-0.035071544349194));
res += mul(Get(s1,dx,0), float4x4(0.071780420839787,0.220967724919319,0.110752977430820,-0.159726679325104,0.092055536806583,-0.056071128696203,0.124806918203831,0.317821651697159,-0.009428092278540,0.076030261814594,-0.074142262339592,0.117798849940300,0.028549177572131,-0.113859519362450,-0.010403381660581,0.059563662856817));
res += mul(Get(s1,dx,dy), float4x4(-0.049347180873156,0.005870772525668,-0.041286807507277,0.055594787001610,-0.056932657957077,-0.089058734476566,-0.040120821446180,0.180513843894005,-0.135362878441811,0.162016764283180,-0.085359483957291,-0.103115446865559,-0.167393296957016,0.076778940856457,0.082913704216480,0.013507472351193));
res += mul(Get(s2,-dx,-dy), float4x4(-0.159733071923256,0.059462685137987,0.030869567766786,-0.010106401517987,0.060773864388466,-0.000638703408185,-0.137174367904663,-0.212764441967010,-0.075535193085670,0.028262756764889,0.022838605567813,-0.281034946441650,-0.075502552092075,-0.006950741168112,0.023203058168292,0.040460854768753));
res += mul(Get(s2,-dx,0), float4x4(0.059137441217899,-0.084813177585602,0.018519727513194,-0.031084315851331,-0.141280934214592,-0.214246600866318,-0.074995473027229,-0.008791678585112,0.061077758669853,0.099818959832191,-0.161329224705696,-0.196578845381737,-0.076635554432869,0.054230663925409,-0.072868704795837,0.221031844615936));
res += mul(Get(s2,-dx,dy), float4x4(-0.093182034790516,0.159695327281952,0.088999785482883,-0.071067385375500,0.134425371885300,-0.040531635284424,-0.047716733068228,-0.102376557886600,-0.104836709797382,-0.023393763229251,0.219665676355362,-0.187855795025826,-0.122946187853813,0.235219627618790,0.052212253212929,-0.164310857653618));
res += mul(Get(s2,0,-dy), float4x4(0.037761066108942,-0.199941560626030,-0.086000092327595,0.122887842357159,-0.050424356013536,-0.202149704098701,0.117986470460892,0.058153022080660,-0.086746178567410,0.164111703634262,0.149150788784027,0.048557955771685,0.154368385672569,-0.037939719855785,-0.048827666789293,-0.051587205380201));
res += mul(Get(s2,0,0), float4x4(0.070463098585606,0.041717898100615,-0.343741595745087,0.121752783656120,-0.220123857259750,-0.046837318688631,0.086271628737450,0.069924257695675,0.164065986871719,-0.108030684292316,0.053195029497147,-0.065480627119541,-0.026418335735798,-0.256805211305618,-0.009952942840755,0.150065362453461));
res += mul(Get(s2,0,dy), float4x4(-0.190227717161179,0.220045626163483,0.019255297258496,0.100711934268475,-0.169256016612053,-0.001080580172129,0.210310086607933,-0.024058567360044,-0.052207000553608,0.160705193877220,-0.046599265187979,-0.201604261994362,-0.105696916580200,0.127535849809647,-0.161949604749680,-0.045697551220655));
res += mul(Get(s2,dx,-dy), float4x4(0.065523482859135,-0.138315126299858,-0.070093967020512,0.032423932105303,-0.093173593282700,0.072915621101856,-0.054254915565252,-0.037717938423157,0.013603457249701,0.022306784987450,0.101908124983311,-0.029107337817550,0.144314900040627,-0.086445212364197,0.103000514209270,0.104726374149323));
res += mul(Get(s2,dx,0), float4x4(0.065915048122406,-0.071648426353931,0.116212889552116,0.054955407977104,0.037945471704006,0.064309425652027,-0.025514278560877,0.051101811230183,0.047441300004721,-0.100027784705162,0.149485468864441,-0.192376643419266,0.071826398372650,0.004305229522288,0.196337684988976,0.054909732192755));
res += mul(Get(s2,dx,dy), float4x4(-0.058314517140388,-0.098414696753025,-0.167115479707718,0.254721790552139,-0.129636496305466,-0.125023424625397,0.126906350255013,-0.088489510118961,0.016604635864496,-0.005706111900508,0.141431704163551,-0.012340484187007,-0.069515936076641,0.106069877743721,-0.190954625606537,-0.068107374012470));
res += mul(Get(s3,-dx,-dy), float4x4(-0.146748811006546,0.028745749965310,-0.073143236339092,-0.256208211183548,-0.079709298908710,-0.010256913490593,-0.104613557457924,-0.090317420661449,-0.071264751255512,-0.104087337851524,0.109011866152287,0.017465781420469,-0.028961282223463,0.014483286067843,0.197885707020760,0.048164464533329));
res += mul(Get(s3,-dx,0), float4x4(0.046727616339922,0.066068626940250,0.207476601004601,0.019784562289715,-0.087171532213688,0.017710765823722,0.106049433350563,0.082689970731735,0.103383250534534,0.027838729321957,-0.130766451358795,0.107596181333065,0.038805115967989,0.155250951647758,-0.201861158013344,-0.113509781658649));
res += mul(Get(s3,-dx,dy), float4x4(-0.004086856264621,0.029280204325914,-0.123086497187614,-0.003791817696765,-0.158344998955727,-0.040234126150608,-0.057368766516447,-0.155031561851501,-0.061549972742796,-0.025674402713776,-0.022177033126354,-0.033216621726751,0.072128050029278,0.070359393954277,0.176048070192337,-0.016002325341105));
res += mul(Get(s3,0,-dy), float4x4(-0.022744648158550,0.024648517370224,0.129672169685364,0.062611483037472,0.176970213651657,0.131146579980850,0.051368143409491,0.186386018991470,-0.056582462042570,0.024296330288053,0.122041381895542,-0.071747116744518,0.024419734254479,0.165662541985512,0.163513168692589,-0.048034142702818));
res += mul(Get(s3,0,0), float4x4(-0.262404412031174,-0.017521409317851,0.002226325916126,-0.058708906173706,-0.048283614218235,-0.043313082307577,0.077853173017502,-0.046431686729193,-0.042739376425743,0.107009045779705,0.247946545481682,0.181097820401192,-0.123250834643841,0.002575333230197,0.125102847814560,-0.019420852884650));
res += mul(Get(s3,0,dy), float4x4(-0.001364000607282,-0.061062667518854,0.110285505652428,0.121106512844563,-0.088523253798485,0.014591033570468,0.198328539729118,-0.039807878434658,-0.136624932289124,0.168939679861069,0.061242666095495,-0.177864968776703,0.074229925870895,0.031070724129677,0.075151100754738,0.021429363638163));
res += mul(Get(s3,dx,-dy), float4x4(0.014892450533807,0.126886680722237,-0.060019101947546,-0.040634330362082,-0.150885805487633,-0.093220181763172,-0.053646307438612,-0.143238022923470,-0.092119880020618,0.014791637659073,-0.075267173349857,-0.108251482248306,0.046680018305779,-0.105747655034065,0.087218567728996,0.069777555763721));
res += mul(Get(s3,dx,0), float4x4(0.102389477193356,0.134295478463173,0.146838918328285,0.062611572444439,0.128887712955475,0.104774668812752,-0.151615664362907,0.091645009815693,-0.006527659017593,0.037804435938597,0.024380885064602,0.184561133384705,-0.002191980835050,0.130928918719292,-0.161124125123024,-0.103720657527447));
res += mul(Get(s3,dx,dy), float4x4(-0.035256087779999,-0.043229706585407,-0.158313140273094,0.193751037120819,0.067224487662315,0.056774009019136,-0.088933669030666,-0.078805156052113,-0.040695942938328,0.110185198485851,0.017752790823579,-0.023023273795843,0.193795338273048,0.069477148354053,-0.060508653521538,0.134872376918793));
return max(float4(0,0,0,0), res);
}
