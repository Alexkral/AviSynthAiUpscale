sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.079424478113651,-0.026142027229071,0.056317012757063,0.041400253772736,-0.178272381424904,-0.092065870761871,0.060010917484760,0.139197126030922,0.025557234883308,-0.124010145664215,0.140032842755318,0.041383162140846,-0.209233954548836,-0.011669042520225,0.217729628086090,0.055942859500647));
res += mul(Get(s0,-dx,0), float4x4(-0.076282404363155,-0.062026351690292,-0.124055780470371,-0.125436052680016,-0.173109844326973,-0.018744219094515,0.039386656135321,0.222439631819725,-0.097411386668682,-0.074048832058907,0.108804285526276,0.023872708901763,-0.030811335891485,0.190263986587524,0.084984607994556,-0.022365463897586));
res += mul(Get(s0,-dx,dy), float4x4(-0.143788859248161,-0.095288939774036,-0.223231866955757,-0.130825519561768,0.093468770384789,0.061058539897203,0.048199933022261,0.054958753287792,0.072198472917080,0.041239637881517,0.005993389990181,0.018339458853006,0.037429079413414,0.120728805661201,-0.046802531927824,-0.201641410589218));
res += mul(Get(s0,0,-dy), float4x4(-0.089442938566208,-0.124319098889828,0.135382950305939,-0.076852038502693,-0.037097301334143,0.070103161036968,0.035075686872005,-0.111238382756710,0.019508613273501,0.019626973196864,0.125449925661087,-0.121117956936359,-0.179231166839600,0.021188443526626,0.102767504751682,-0.027283675968647));
res += mul(Get(s0,0,0), float4x4(0.296118438243866,-0.192390412092209,-0.102495521306992,-0.186330720782280,-0.030746569857001,0.138145908713341,-0.143035158514977,-0.036151792854071,-0.124442175030708,-0.111808530986309,-0.114425115287304,-0.063967444002628,-0.013923382386565,-0.030048759654164,-0.106176242232323,-0.001732069649734));
res += mul(Get(s0,0,dy), float4x4(0.157103344798088,-0.044787835329771,-0.124355845153332,-0.043302547186613,0.264744162559509,0.001002851524390,-0.007021468598396,-0.046075426042080,-0.003942627459764,-0.104862108826637,-0.076170034706593,-0.088663034141064,0.171018555760384,0.032073169946671,0.156221076846123,0.055346049368382));
res += mul(Get(s0,dx,-dy), float4x4(0.055814277380705,-0.152345761656761,0.057264827191830,-0.024349236860871,-0.008964375592768,-0.071602813899517,0.063779681921005,0.104926832020283,-0.096156843006611,0.061993218958378,0.333850443363190,-0.137848451733589,-0.244065523147583,0.019593881443143,0.010091802105308,0.192420184612274));
res += mul(Get(s0,dx,0), float4x4(0.157300382852554,-0.246314018964767,0.157810419797897,0.020992802456021,0.174079552292824,0.067441374063492,-0.158171206712723,0.143719002604485,0.094648443162441,-0.156517431139946,0.047200180590153,-0.093022666871548,0.254453182220459,-0.041239522397518,0.045917030423880,0.231004163622856));
res += mul(Get(s0,dx,dy), float4x4(0.244308724999428,-0.090437717735767,0.164238497614861,0.098719336092472,0.151183128356934,-0.080177940428257,0.065275765955448,0.033623900264502,0.077594980597496,0.049408618360758,0.110005512833595,-0.008166950196028,0.104431875050068,-0.029903873801231,0.096137948334217,0.285890519618988));
res += mul(Get(s1,-dx,-dy), float4x4(-0.204212069511414,-0.036218870431185,0.146221891045570,-0.095376774668694,-0.022071046754718,-0.117413908243179,-0.087397411465645,-0.019678803160787,0.038599714636803,-0.022611679509282,-0.090220123529434,-0.175740227103233,-0.273292213678360,0.228173241019249,-0.183242738246918,-0.273066073656082));
res += mul(Get(s1,-dx,0), float4x4(-0.012710996903479,-0.184736281633377,-0.034059550613165,-0.178453534841537,0.017427077516913,-0.099929265677929,0.002229342469946,0.052313923835754,-0.090324155986309,0.032095540314913,-0.019143497571349,-0.209819242358208,-0.015018826350570,0.151584565639496,-0.201310157775879,-0.185146331787109));
res += mul(Get(s1,-dx,dy), float4x4(-0.059184059500694,0.161323413252831,-0.277744114398956,-0.209648355841637,0.098546594381332,-0.007559535559267,0.081703498959541,0.039173193275928,0.043793741613626,0.057837415486574,-0.123324282467365,-0.079706884920597,0.074324436485767,-0.082330249249935,0.002838212298229,-0.042891345918179));
res += mul(Get(s1,0,-dy), float4x4(-0.161747500300407,0.008279525674880,0.096252627670765,-0.033421136438847,0.069300107657909,-0.099828094244003,0.049834895879030,0.061885867267847,0.026711929589510,-0.022476090118289,-0.082563221454620,-0.145970448851585,-0.108897611498833,-0.047910328954458,-0.092586316168308,-0.001305523794144));
res += mul(Get(s1,0,0), float4x4(0.346350729465485,-0.127808362245560,0.025237020105124,0.044191054999828,-0.065755911171436,-0.136064112186432,0.115350067615509,-0.013251321390271,0.059297837316990,0.000061850078055,0.169109597802162,-0.073499552905560,0.117262415587902,-0.003966768272221,0.007827115245163,0.007888033054769));
res += mul(Get(s1,0,dy), float4x4(0.151536822319031,0.000566046161111,-0.180955171585083,-0.026643630117178,0.151359423995018,-0.076545506715775,-0.036363955587149,-0.129356518387794,0.044934857636690,0.016298767179251,-0.011564876884222,-0.087565399706364,0.013786116614938,-0.153409197926521,-0.160102397203445,0.192806541919708));
res += mul(Get(s1,dx,-dy), float4x4(-0.191799268126488,0.043168716132641,0.119514279067516,-0.216706410050392,0.171368524432182,0.136316716670990,-0.048407357186079,-0.035757940262556,-0.102257817983627,-0.048678044229746,0.140581876039505,0.075436539947987,-0.087734416127205,0.041313562542200,-0.021695408970118,0.303207814693451));
res += mul(Get(s1,dx,0), float4x4(0.079944454133511,0.161097586154938,-0.132850691676140,-0.241434603929520,0.117723673582077,-0.042939487844706,0.001003420911729,-0.114016890525818,0.163184016942978,-0.066719278693199,0.034282565116882,0.323644340038300,-0.060185756534338,-0.081416204571724,-0.074344940483570,0.284568995237350));
res += mul(Get(s1,dx,dy), float4x4(0.297590672969818,0.226477488875389,-0.061288725584745,0.073785118758678,0.147693455219269,-0.029992563650012,-0.002849547425285,-0.127379298210144,0.205797225236893,-0.025788499042392,0.031494140625000,0.070731565356255,-0.171484038233757,0.049727104604244,-0.065734021365643,-0.048739042133093));
res += mul(Get(s2,-dx,-dy), float4x4(0.081613406538963,-0.015686035156250,-0.049232177436352,0.001097173430026,-0.070850051939487,0.291975617408752,0.035564258694649,-0.069039061665535,-0.339477449655533,-0.117280289530754,-0.090050011873245,-0.251140981912613,-0.089052267372608,0.042821127921343,0.037582188844681,0.098250731825829));
res += mul(Get(s2,-dx,0), float4x4(0.120760589838028,-0.054907016456127,0.036427993327379,0.009778225794435,-0.102798163890839,0.106140270829201,0.033440984785557,0.032443083822727,-0.093036346137524,0.019295420497656,-0.186987847089767,-0.161253094673157,0.033510796725750,0.039739612489939,0.087711229920387,0.005666919983923));
res += mul(Get(s2,-dx,dy), float4x4(0.025835972279310,-0.003116186009720,0.146740853786469,-0.028910938650370,-0.058859206736088,-0.001535754650831,0.044519368559122,-0.182792767882347,-0.265305370092392,-0.156684279441833,-0.169369354844093,0.032935131341219,-0.109838694334030,0.122656807303429,0.056919027119875,-0.135773763060570));
res += mul(Get(s2,0,-dy), float4x4(0.099226936697960,0.112862907350063,-0.117772854864597,-0.057535722851753,-0.096589520573616,0.073105558753014,0.052459284663200,0.028943436220288,-0.167877569794655,-0.010727164335549,0.179796248674393,-0.007960232906044,0.020871680229902,0.071987450122833,0.054759979248047,0.068060070276260));
res += mul(Get(s2,0,0), float4x4(0.155025795102119,0.086760334670544,-0.104098036885262,-0.137461587786674,-0.131415501236916,0.071509934961796,-0.084751501679420,0.053188636898994,0.258415699005127,-0.050291050225496,0.107480175793171,0.167335644364357,0.306451529264450,0.007787100039423,-0.046464033424854,0.142742931842804));
res += mul(Get(s2,0,dy), float4x4(0.136183947324753,0.057300809770823,0.136221438646317,0.053752090781927,0.015316516160965,0.293473720550537,-0.151851862668991,-0.109670452773571,-0.030922252684832,-0.147546067833900,0.113498993217945,0.000507711083628,0.106866404414177,0.099294126033783,-0.126666322350502,0.008968500420451));
res += mul(Get(s2,dx,-dy), float4x4(0.117553487420082,-0.088690824806690,0.041443955153227,-0.114600121974945,0.059951618313789,-0.049851905554533,0.053131405264139,0.468982219696045,-0.257613360881805,0.151771202683449,-0.003348018275574,0.135273605585098,-0.088996596634388,-0.010900363326073,0.014934062026441,0.041315108537674));
res += mul(Get(s2,dx,0), float4x4(0.142672210931778,-0.025618949905038,0.068837285041809,-0.050524074584246,-0.057987265288830,-0.106046937406063,-0.096779763698578,0.019291868433356,0.028445785865188,0.111357957124710,-0.164450436830521,0.040951412171125,0.310951650142670,-0.033837068825960,0.099238708615303,0.097871400415897));
res += mul(Get(s2,dx,dy), float4x4(0.107195571064949,0.013620872050524,-0.068766877055168,0.122588761150837,0.214976876974106,0.105458758771420,-0.082439221441746,0.159481525421143,0.079748652875423,-0.096332922577858,0.104700185358524,0.021392010152340,0.189448177814484,-0.052822887897491,0.116278104484081,0.012475434690714));
res += mul(Get(s3,-dx,-dy), float4x4(-0.124244995415211,0.173400029540062,0.024235671386123,-0.113537155091763,-0.178217098116875,0.018595103174448,0.015718318521976,0.027203191071749,-0.173340827226639,0.120473660528660,0.043905075639486,-0.093370698392391,-0.144841492176056,-0.131835475564003,-0.095402061939240,-0.031271677464247));
res += mul(Get(s3,-dx,0), float4x4(-0.001225258689374,0.020705651491880,0.060086201876402,-0.089949466288090,-0.196995615959167,0.139692470431328,-0.189198270440102,-0.148686781525612,-0.014539469033480,0.014364548027515,0.034423623234034,-0.039648916572332,-0.034835815429688,0.019289338961244,-0.148853495717049,-0.067457266151905));
res += mul(Get(s3,-dx,dy), float4x4(0.021460898220539,-0.079533331096172,0.131152510643005,0.086824275553226,-0.016773676499724,0.173300877213478,-0.036024816334248,-0.171425029635429,0.007621272467077,0.056022103875875,-0.037086673080921,-0.007390502374619,-0.106889232993126,-0.110495120286942,0.184302553534508,-0.106517024338245));
res += mul(Get(s3,0,-dy), float4x4(-0.089050650596619,-0.032869268208742,0.220445021986961,0.026411850005388,-0.077282838523388,0.019394118338823,-0.120206877589226,0.046292141079903,-0.105162821710110,0.056952588260174,-0.083638794720173,-0.093567624688148,-0.242335453629494,-0.184492766857147,0.001369496458210,-0.046519767493010));
res += mul(Get(s3,0,0), float4x4(0.117836318910122,0.056596662849188,-0.015589075163007,0.160053491592407,0.002572258235887,-0.060457557439804,-0.182984173297882,-0.005790501832962,0.178853213787079,-0.048531524837017,0.033274944871664,0.051610767841339,-0.021425018087029,0.011376398615539,-0.181270599365234,-0.025812057778239));
res += mul(Get(s3,0,dy), float4x4(-0.075624488294125,0.044256962835789,-0.047164667397738,-0.259902417659760,0.054909661412239,0.468100696802139,0.022123934701085,-0.168894976377487,0.002664617728442,-0.087512075901031,-0.083098515868187,-0.062565870583057,-0.057254038751125,-0.090870261192322,-0.025107147172093,0.058671943843365));
res += mul(Get(s3,dx,-dy), float4x4(-0.208650365471840,0.015854287892580,-0.136567533016205,0.225553855299950,-0.176233649253845,-0.113504722714424,-0.124404974281788,0.000755858374760,0.050436388701200,-0.015116464346647,-0.053878657519817,-0.054170835763216,-0.269852757453918,-0.085697382688522,0.059718970209360,0.063334599137306));
res += mul(Get(s3,dx,0), float4x4(0.151508301496506,-0.023811763152480,-0.012911789119244,-0.107691943645477,0.209592655301094,-0.091253042221069,-0.091939426958561,0.228209525346756,0.056347891688347,-0.016116172075272,-0.081545591354370,-0.165713950991631,0.000180598668521,-0.153016820549965,0.195461794734001,0.207489237189293));
res += mul(Get(s3,dx,dy), float4x4(0.122207134962082,0.058719571679831,0.010775357484818,-0.065040431916714,0.273427337408066,0.019034672528505,-0.105144493281841,0.125666037201881,0.175842121243477,-0.166091278195381,-0.046249400824308,0.017881203442812,-0.034441944211721,-0.218228146433830,0.089561603963375,0.168240904808044));
return max(float4(0,0,0,0), res);
}
