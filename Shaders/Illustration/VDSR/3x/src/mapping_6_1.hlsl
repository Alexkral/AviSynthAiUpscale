sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.267120182514191,0.005758217535913,-0.001947653479874,0.122380755841732,-0.022351367399096,0.002629722002894,-0.004260518122464,-0.049829095602036,0.097943961620331,-0.032559987157583,-0.174606606364250,-0.040230635553598,0.008730765432119,0.246104121208191,0.234591335058212,-0.035838849842548));
res += mul(Get(s0,-dx,0), float4x4(-0.195673808455467,-0.191909193992615,0.097322411835194,-0.041805513203144,-0.151474416255951,0.027433784678578,0.077793836593628,-0.168080404400826,0.095325030386448,-0.087557435035706,-0.084341734647751,-0.011187391355634,0.005797711201012,0.166406735777855,0.168408721685410,-0.065459206700325));
res += mul(Get(s0,-dx,dy), float4x4(-0.129635125398636,-0.097015567123890,0.153897121548653,-0.012665992602706,0.025088625028729,0.137024953961372,-0.138418778777122,-0.125527113676071,-0.102794699370861,-0.235190972685814,-0.023170297965407,-0.083004646003246,-0.141614675521851,0.039979308843613,-0.041527502238750,-0.000862889457494));
res += mul(Get(s0,0,-dy), float4x4(-0.205226927995682,0.082311235368252,-0.166267424821854,0.095197178423405,0.130186840891838,-0.076616629958153,-0.117542371153831,0.027575999498367,0.115573272109032,-0.054493267089128,0.049505908042192,0.069170989096165,-0.131385624408722,0.025537000969052,0.078462809324265,-0.084302559494972));
res += mul(Get(s0,0,0), float4x4(-0.163233444094658,0.084726631641388,-0.063478313386440,-0.068245947360992,-0.078002236783504,-0.099127270281315,0.020516596734524,0.108709312975407,0.100589327514172,-0.070678219199181,-0.003687493968755,-0.049461245536804,0.003344841999933,0.051791556179523,0.094234041869640,-0.001011497806758));
res += mul(Get(s0,0,dy), float4x4(-0.095057047903538,-0.062305822968483,-0.092960886657238,-0.009596808813512,0.163136899471283,0.042318254709244,-0.072746969759464,-0.112966306507587,-0.030315296724439,-0.191387251019478,0.042989075183868,0.087795943021774,-0.066017761826515,-0.095752425491810,-0.146535038948059,0.044815592467785));
res += mul(Get(s0,dx,-dy), float4x4(-0.169186070561409,0.009583531878889,-0.118128456175327,0.015095323324203,-0.116980813443661,-0.011552876792848,-0.037310931831598,0.075576469302177,0.278915733098984,-0.046715982258320,-0.203196108341217,0.022783543914557,-0.219987496733665,0.213201075792313,0.007727158255875,-0.142063885927200));
res += mul(Get(s0,dx,0), float4x4(-0.110755614936352,-0.008798725903034,-0.022872993722558,-0.156804606318474,-0.180472373962402,-0.103430673480034,-0.064207740128040,-0.040979478508234,0.066124528646469,-0.069437175989151,-0.191366791725159,0.015113658271730,-0.166706666350365,0.002285229740664,0.113471113145351,-0.017839448526502));
res += mul(Get(s0,dx,dy), float4x4(0.151946514844894,-0.158009335398674,-0.072062201797962,-0.152086526155472,0.288246601819992,0.003810154274106,-0.104947000741959,-0.056895636022091,0.007743542082608,-0.158815488219261,-0.026013785973191,-0.091180510818958,-0.121992789208889,0.274550169706345,0.026485200971365,-0.088431656360626));
res += mul(Get(s1,-dx,-dy), float4x4(-0.017519319429994,0.001131927128881,0.050927910953760,-0.017057659104466,-0.077601015567780,-0.066843412816525,-0.133654579520226,-0.135536819696426,-0.063761726021767,-0.147441595792770,0.124905712902546,0.314972400665283,-0.166831120848656,-0.134717598557472,0.012139190919697,0.317813485860825));
res += mul(Get(s1,-dx,0), float4x4(-0.013904397375882,0.149957910180092,0.109771922230721,0.111524239182472,-0.092024177312851,-0.100849814713001,0.086059331893921,-0.090562433004379,0.087460078299046,-0.137400060892105,-0.049297384917736,-0.170037806034088,-0.009712349623442,-0.085860185325146,-0.004279786255211,0.011667100712657));
res += mul(Get(s1,-dx,dy), float4x4(-0.118521563708782,-0.251487433910370,0.344472438097000,0.077491924166679,-0.215190380811691,-0.244646847248077,0.016155038028955,-0.042116202414036,-0.050354123115540,0.244987219572067,0.042753335088491,-0.066602125763893,-0.132747486233711,-0.019655020907521,0.042586836963892,0.043573845177889));
res += mul(Get(s1,0,-dy), float4x4(-0.038493789732456,-0.037583973258734,-0.025001885369420,-0.182805329561234,0.015325053595006,0.016341878101230,-0.120268128812313,-0.162674099206924,-0.143215775489807,-0.053321570158005,0.305388331413269,0.062268488109112,-0.105477586388588,-0.182505890727043,-0.061029661446810,0.257553607225418));
res += mul(Get(s1,0,0), float4x4(-0.001382966875099,0.072135068476200,-0.004651481751353,-0.125169336795807,-0.104445196688175,0.063621208071709,0.025563713163137,-0.037449602037668,-0.019528737291694,-0.204362750053406,-0.094254299998283,0.032493859529495,0.257928907871246,-0.025159131735563,-0.021011024713516,-0.232775762677193));
res += mul(Get(s1,0,dy), float4x4(-0.081753753125668,-0.115028373897076,-0.126511856913567,-0.046449795365334,-0.062863565981388,-0.124457068741322,0.062827475368977,-0.046965170651674,-0.170433431863785,-0.121686540544033,-0.137247920036316,0.107164487242699,-0.006844331976026,0.163865745067596,-0.015639584511518,0.007872693240643));
res += mul(Get(s1,dx,-dy), float4x4(-0.185027271509171,-0.029624983668327,-0.112825490534306,-0.214411735534668,-0.147213697433472,-0.016433369368315,-0.133930236101151,-0.116992861032486,-0.245839416980743,-0.106040090322495,0.087207943201065,0.251533657312393,0.011145145632327,-0.038171757012606,-0.080103456974030,-0.051228683441877));
res += mul(Get(s1,dx,0), float4x4(-0.040744252502918,0.249322041869164,-0.111761063337326,-0.134317189455032,-0.117682524025440,-0.050422236323357,-0.055114418268204,-0.043442662805319,-0.091691792011261,-0.060432825237513,-0.003636033972725,-0.136904105544090,0.119191221892834,-0.009884697385132,0.008117784745991,-0.058517210185528));
res += mul(Get(s1,dx,dy), float4x4(-0.152072548866272,0.118530400097370,-0.174247011542320,-0.115336976945400,-0.112066842615604,-0.049814645200968,0.055762164294720,-0.125910416245461,0.072657786309719,-0.020982185378671,-0.084794685244560,-0.018371257930994,0.131544753909111,0.027057189494371,0.008889199234545,-0.034926332533360));
res += mul(Get(s2,-dx,-dy), float4x4(0.188640624284744,-0.040028829127550,0.114728339016438,-0.051562853157520,-0.083564072847366,-0.066897906363010,0.130614206194878,-0.093042805790901,0.291776448488235,0.267764925956726,-0.071724869310856,-0.024630853906274,0.024248681962490,0.049879301339388,-0.077757142484188,-0.107361316680908));
res += mul(Get(s2,-dx,0), float4x4(0.112633518874645,-0.122327312827110,0.167517572641373,0.062630914151669,-0.227361828088760,0.033843621611595,-0.106076933443546,-0.060332294553518,-0.142487570643425,0.221179366111755,-0.083793573081493,-0.043338935822248,-0.024469353258610,-0.128893062472343,0.041814822703600,-0.073010683059692));
res += mul(Get(s2,-dx,dy), float4x4(0.109646208584309,-0.068238511681557,0.029983812943101,0.175495579838753,0.014900910668075,-0.124002233147621,-0.042530324310064,-0.221678093075752,-0.040114693343639,0.024255605414510,-0.091123931109905,0.009506018832326,-0.168390601873398,0.017179548740387,0.071450725197792,-0.113014660775661));
res += mul(Get(s2,0,-dy), float4x4(0.132045239210129,-0.088349133729935,-0.168298825621605,-0.100137531757355,0.102704085409641,-0.000163192569744,-0.002544406335801,-0.127529904246330,-0.144852206110954,0.090392857789993,-0.013043255545199,-0.053907532244921,-0.094113968312740,0.027435837313533,0.014523387886584,0.150113448500633));
res += mul(Get(s2,0,0), float4x4(0.163129031658173,-0.022477621212602,-0.053915515542030,0.103531263768673,-0.000734616245609,-0.092774979770184,-0.032284520566463,-0.046330351382494,-0.051672849804163,-0.199587360024452,-0.101367034018040,0.041361421346664,-0.107026346027851,0.182513341307640,0.028724197298288,-0.010890695266426));
res += mul(Get(s2,0,dy), float4x4(0.028768178075552,-0.061666682362556,0.060021445155144,0.217381030321121,0.141923427581787,-0.102589294314384,0.014898578636348,0.082456894218922,0.043909873813391,0.045434374362230,-0.171532735228539,0.062375411391258,-0.154143065214157,0.078840151429176,-0.144484430551529,-0.076423659920692));
res += mul(Get(s2,dx,-dy), float4x4(-0.043682329356670,0.026707734912634,-0.005336474161595,-0.031292438507080,0.312176495790482,0.059089146554470,-0.075355283915997,-0.289618790149689,0.017221782356501,-0.045032676309347,-0.039747342467308,-0.040032204240561,-0.114665925502777,-0.051003951579332,0.114050298929214,0.129283711314201));
res += mul(Get(s2,dx,0), float4x4(0.179514944553375,0.127686575055122,-0.044215966016054,0.133125230669975,-0.102439053356647,-0.003040330950171,0.019820576533675,-0.174299538135529,0.108683869242668,-0.182475775480270,-0.095069251954556,0.092613101005554,-0.130190774798393,0.115238413214684,0.139090344309807,-0.098793290555477));
res += mul(Get(s2,dx,dy), float4x4(0.180332899093628,-0.111796133220196,-0.064248509705067,-0.131972134113312,0.035524573177099,-0.195582836866379,-0.042685274034739,-0.090488821268082,0.090383790433407,-0.104360364377499,-0.170319437980652,0.147085845470428,-0.326918691396713,0.029833890497684,-0.097370982170105,-0.096955172717571));
res += mul(Get(s3,-dx,-dy), float4x4(-0.098853953182697,0.261449903249741,-0.050524879246950,0.146559774875641,0.247005447745323,0.202192217111588,-0.056966330856085,-0.017537776380777,-0.030675292015076,0.064913384616375,-0.009380457922816,-0.124037802219391,0.036231916397810,-0.036537893116474,0.066273674368858,0.029408335685730));
res += mul(Get(s3,-dx,0), float4x4(-0.050819881260395,0.153897061944008,-0.270610898733139,0.112266309559345,0.330383777618408,0.119908772408962,-0.075126364827156,0.066578097641468,0.100480645895004,-0.127432942390442,-0.002481162548065,-0.000540413719136,-0.068071484565735,0.072253376245499,0.003505152883008,0.302513629198074));
res += mul(Get(s3,-dx,dy), float4x4(-0.074053436517715,0.162050962448120,-0.024438545107841,0.104228511452675,0.020327284932137,-0.081312790513039,0.006356487516314,0.013504168950021,0.105689354240894,-0.153565838932991,0.176456525921822,0.114275380969048,-0.033536817878485,-0.229762569069862,-0.186182230710983,0.162490040063858));
res += mul(Get(s3,0,-dy), float4x4(0.041783552616835,0.006919763982296,0.036786437034607,0.007803722284734,0.177843838930130,0.059273019433022,-0.012828139588237,-0.006731743924320,0.094410590827465,0.142487406730652,-0.118663363158703,-0.189558714628220,-0.081474266946316,0.115855857729912,-0.138594478368759,-0.059727936983109));
res += mul(Get(s3,0,0), float4x4(0.206317529082298,-0.089015617966652,0.013849589973688,-0.090921640396118,-0.048535820096731,0.170803785324097,0.019462067633867,-0.050485748797655,0.019003329798579,0.008644654415548,0.003665855387226,0.004770877305418,-0.066638685762882,-0.111037366092205,-0.170028179883957,-0.034266863018274));
res += mul(Get(s3,0,dy), float4x4(-0.018580688163638,0.116149879992008,0.141233578324318,-0.047177169471979,0.008215200155973,-0.031351033598185,-0.034387104213238,-0.049610879272223,0.170575246214867,-0.050054520368576,-0.028836941346526,-0.055946022272110,-0.054783109575510,0.020691908895969,0.033940255641937,-0.125275775790215));
res += mul(Get(s3,dx,-dy), float4x4(-0.116278469562531,0.008772321045399,0.274399399757385,-0.131099909543991,-0.036388590931892,0.078079119324684,-0.058812402188778,0.088550619781017,-0.164416164159775,0.074110977351665,0.079475283622742,-0.109734117984772,-0.059522222727537,0.029752090573311,-0.039802446961403,-0.003174722194672));
res += mul(Get(s3,dx,0), float4x4(0.044046804308891,-0.003421069821343,0.001042001764290,-0.125228077173233,-0.135943919420242,0.000658716715407,0.058956526219845,0.133709460496902,-0.136150866746902,-0.069357842206955,0.000578785664402,0.084764011204243,-0.081299938261509,0.040110416710377,0.033010900020599,-0.048315253108740));
res += mul(Get(s3,dx,dy), float4x4(0.195082426071167,0.001433685887605,-0.225123941898346,0.136524140834808,0.041008740663528,0.041680794209242,-0.030361328274012,0.164774134755135,0.045851733535528,-0.148204863071442,-0.057443629950285,0.227087706327438,-0.178255319595337,-0.096459008753300,0.013239476829767,-0.094222515821457));
return max(float4(0,0,0,0), res);
}
