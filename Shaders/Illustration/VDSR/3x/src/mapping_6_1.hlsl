sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.087852239608765,-0.160364612936974,-0.074766181409359,0.298633426427841,-0.122275955975056,0.007031677756459,-0.031398590654135,0.121668040752411,0.081268139183521,0.080629527568817,-0.035361319780350,-0.107095144689083,0.112077578902245,0.017613630741835,-0.012312704697251,-0.043116595596075));
res += mul(Get(s0,-dx,0), float4x4(-0.017980886623263,0.197485700249672,0.026540881022811,-0.178328573703766,0.021738396957517,-0.101499699056149,-0.048537377268076,0.172128051519394,-0.059947215020657,-0.086758166551590,0.021865781396627,0.056687399744987,-0.067424103617668,0.157957047224045,0.082519233226776,-0.346358299255371));
res += mul(Get(s0,-dx,dy), float4x4(-0.110416397452354,-0.021142059937119,0.040809068828821,0.111696735024452,0.009631402790546,0.099478408694267,0.155155301094055,-0.005749695934355,-0.123829469084740,0.036685127764940,-0.075716912746429,0.001672254526056,-0.107942812144756,-0.012459717690945,-0.014200679026544,0.119880564510822));
res += mul(Get(s0,0,-dy), float4x4(0.103947803378105,-0.079190097749233,-0.082598015666008,0.193537339568138,0.175164312124252,0.057463191449642,-0.176608011126518,0.047757837921381,-0.020426072180271,-0.021353634074330,-0.022560045123100,-0.258467406034470,0.168745175004005,-0.073328472673893,-0.320505052804947,-0.045971758663654));
res += mul(Get(s0,0,0), float4x4(0.076304726302624,-0.061590053141117,-0.087873116135597,0.084268465638161,0.193277791142464,-0.102638192474842,0.017830839380622,0.067924886941910,-0.012660964392126,-0.025554865598679,-0.175339236855507,0.136910185217857,0.110515758395195,0.041360184550285,-0.070075713098049,0.078417368233204));
res += mul(Get(s0,0,dy), float4x4(0.152384564280510,0.131195470690727,-0.033181659877300,0.063765555620193,0.118787474930286,0.130696699023247,0.087533421814442,-0.114204816520214,-0.149050712585449,-0.119562484323978,-0.069951824843884,-0.075642868876457,0.041245833039284,0.101694561541080,0.101324170827866,0.081143051385880));
res += mul(Get(s0,dx,-dy), float4x4(-0.046012453734875,0.038786031305790,-0.090628325939178,0.167166009545326,-0.139976277947426,0.114871218800545,0.071178264915943,0.189091905951500,0.012375238351524,0.134877562522888,-0.099602036178112,-0.197105497121811,0.030546478927135,-0.046494562178850,0.098264686763287,0.070602253079414));
res += mul(Get(s0,dx,0), float4x4(-0.021727124229074,-0.168233200907707,0.104995846748352,-0.261106133460999,-0.218607023358345,-0.156247705221176,-0.205770671367645,-0.132471263408661,-0.114004269242287,0.048341728746891,-0.043883148580790,-0.110207177698612,-0.104996092617512,-0.150646194815636,0.205664977431297,0.029351657256484));
res += mul(Get(s0,dx,dy), float4x4(0.117368772625923,0.106120958924294,-0.049732279032469,0.104526013135910,-0.211089894175529,-0.008486875332892,0.201374694705009,0.079473823308945,-0.085826657712460,-0.002810969017446,0.018405329436064,0.074398972094059,-0.068525508046150,-0.191095426678658,-0.089875787496567,0.178634390234947));
res += mul(Get(s1,-dx,-dy), float4x4(0.018303936347365,-0.140609338879585,0.145037397742271,-0.078416712582111,0.054884269833565,-0.186371266841888,-0.062748886644840,0.138640940189362,-0.152783095836639,0.165688529610634,0.056875735521317,-0.216566860675812,0.031573913991451,-0.153717800974846,0.161966457962990,0.089470505714417));
res += mul(Get(s1,-dx,0), float4x4(-0.084998428821564,0.171871170401573,0.031148731708527,-0.004690345842391,0.104204721748829,-0.039370227605104,-0.005377332679927,-0.104377344250679,-0.020001742988825,-0.039931606501341,-0.104119889438152,0.009830140508711,0.103336006402969,0.045255936682224,-0.044565178453922,0.098281189799309));
res += mul(Get(s1,-dx,dy), float4x4(-0.130508571863174,0.049718864262104,0.090897724032402,-0.079051837325096,-0.141811728477478,0.073491439223289,-0.244720935821533,-0.114997796714306,-0.006148200482130,-0.058736752718687,-0.125811666250229,0.170013725757599,0.087246149778366,-0.118563964962959,0.026732124388218,-0.186030909419060));
res += mul(Get(s1,0,-dy), float4x4(0.229903146624565,-0.169386193156242,0.053667511790991,0.009668071754277,-0.143388569355011,-0.046553276479244,0.106636211276054,-0.167854994535446,0.283113628625870,-0.037111021578312,-0.080499738454819,-0.179160267114639,-0.203046649694443,-0.032476972788572,0.081129513680935,-0.012189061380923));
res += mul(Get(s1,0,0), float4x4(-0.121572434902191,-0.005958101246506,0.018258094787598,-0.143004506826401,0.289537847042084,0.097713299095631,0.138497695326805,0.013510505668819,0.168798580765724,-0.043164469301701,0.090931437909603,0.177858993411064,0.128604084253311,0.059702452272177,0.059999208897352,-0.011891749687493));
res += mul(Get(s1,0,dy), float4x4(-0.132222592830658,0.035678528249264,-0.011157188564539,0.148128703236580,-0.019486939534545,0.087720438838005,-0.152576670050621,0.057229768484831,0.071365982294083,-0.055797792971134,0.098278485238552,0.203369975090027,0.100499324500561,-0.277996093034744,0.095632418990135,-0.038033552467823));
res += mul(Get(s1,dx,-dy), float4x4(-0.045831080526114,-0.087684646248817,-0.061186905950308,-0.031145323067904,0.080148719251156,-0.139386311173439,-0.001290189917199,-0.036773871630430,0.144321113824844,0.096321873366833,0.087228998541832,-0.085663057863712,-0.221612185239792,-0.097001582384109,-0.084545128047466,-0.152901485562325));
res += mul(Get(s1,dx,0), float4x4(-0.342728912830353,0.069532744586468,-0.317552834749222,-0.046848054975271,0.001766947330907,-0.033903151750565,-0.046006951481104,0.029378311708570,-0.085289902985096,-0.020502706989646,0.134867161512375,0.006863705348223,-0.040938019752502,-0.103626057505608,0.126680448651314,0.151122510433197));
res += mul(Get(s1,dx,dy), float4x4(-0.045777052640915,-0.004475894384086,-0.226897686719894,0.015060619451106,0.029373552650213,0.075319714844227,-0.070473454892635,0.037154648452997,-0.126920819282532,0.057662881910801,0.109992779791355,-0.022162714973092,0.049171362072229,0.101635225117207,-0.002873426303267,0.273778408765793));
res += mul(Get(s2,-dx,-dy), float4x4(-0.010052008554339,0.112082123756409,-0.020858891308308,0.117472045123577,-0.049522131681442,0.143771484494209,-0.075078040361404,0.149934723973274,-0.008584644645452,0.000503527466208,-0.071874395012856,0.031652010977268,0.073252692818642,-0.046242862939835,0.071519069373608,-0.051751758903265));
res += mul(Get(s2,-dx,0), float4x4(0.223355844616890,-0.021394530311227,0.214328259229660,-0.171795785427094,-0.048473708331585,-0.068046517670155,-0.234565138816833,-0.074544705450535,0.208341985940933,0.200934931635857,-0.064901195466518,-0.078281618654728,0.069207571446896,-0.167196765542030,0.105832904577255,0.159709557890892));
res += mul(Get(s2,-dx,dy), float4x4(0.006680994294584,-0.065194733440876,-0.010558669455349,0.138040810823441,0.030078688636422,-0.144342035055161,-0.102055728435516,-0.159277826547623,0.163766577839851,0.015547038987279,0.062689431011677,0.052870791405439,-0.040409456938505,0.063884094357491,0.121814675629139,0.023333819583058));
res += mul(Get(s2,0,-dy), float4x4(-0.026217205449939,-0.022482175379992,0.034219559282064,-0.176883831620216,-0.023820061236620,0.165163055062294,-0.038871146738529,-0.134144395589828,-0.044988356530666,-0.126453310251236,0.057732455432415,0.119064480066299,-0.031124258413911,0.109764680266380,-0.218070700764656,0.223555013537407));
res += mul(Get(s2,0,0), float4x4(-0.141391769051552,0.026630045846105,-0.272155672311783,0.146613448858261,0.096298262476921,0.139913871884346,-0.085214927792549,0.048950087279081,0.098401837050915,-0.004501900169998,0.020519431680441,0.037606593221426,-0.001629679929465,0.001269170315936,0.128757879137993,0.011520638130605));
res += mul(Get(s2,0,dy), float4x4(0.005909767001867,0.113614395260811,0.097826108336449,0.010190838947892,0.016256395727396,-0.046822842210531,0.012203748337924,0.053247872740030,-0.032433070242405,0.093435160815716,-0.006123373284936,0.080969281494617,-0.219519793987274,-0.147023245692253,-0.019936773926020,-0.018813166767359));
res += mul(Get(s2,dx,-dy), float4x4(0.063044726848602,-0.010910747572780,0.178283765912056,-0.155875831842422,-0.113393984735012,-0.063034884631634,-0.016133334487677,-0.042324669659138,0.030191967263818,-0.085961319506168,-0.011483963578939,0.094900697469711,-0.138673126697540,0.163236364722252,-0.020968593657017,-0.029465554282069));
res += mul(Get(s2,dx,0), float4x4(0.206680431962013,0.091397278010845,-0.127221286296844,-0.110804922878742,0.194581106305122,0.214528769254684,-0.038493849337101,0.102052196860313,0.036561828106642,0.133944556117058,0.146901726722717,0.195758506655693,-0.111814141273499,-0.073596477508545,0.033665820956230,0.035457260906696));
res += mul(Get(s2,dx,dy), float4x4(-0.087702453136444,-0.034749824553728,-0.024985074996948,0.031012840569019,-0.190914765000343,0.002187497448176,0.180265307426453,-0.028074368834496,-0.148596256971359,-0.087714098393917,-0.034969311207533,-0.015792524442077,-0.006166199687868,0.085822507739067,-0.158866435289383,0.166468828916550));
res += mul(Get(s3,-dx,-dy), float4x4(0.170503586530685,0.280434787273407,0.188825756311417,0.052226282656193,0.033507652580738,0.051605921238661,-0.091222926974297,-0.043899230659008,0.230706334114075,-0.169765949249268,0.069698691368103,-0.049194183200598,0.025437077507377,-0.072943270206451,-0.046478476375341,-0.204837799072266));
res += mul(Get(s3,-dx,0), float4x4(-0.100711911916733,-0.053788337856531,0.012618477456272,0.494873613119125,-0.124343253672123,-0.090534009039402,0.064182169735432,-0.186769798398018,0.171521916985512,0.013301669619977,-0.015349813736975,-0.106542184948921,-0.010321536101401,0.055087871849537,-0.100435383617878,0.042954746633768));
res += mul(Get(s3,-dx,dy), float4x4(-0.038667276501656,-0.027176512405276,0.032747860997915,0.181214213371277,0.002684331266209,0.048064026981592,-0.080653883516788,0.001847026403993,-0.001056292676367,0.117569610476494,-0.052718643099070,-0.014845945872366,0.133685767650604,0.012704248540103,0.080513395369053,0.010709645226598));
res += mul(Get(s3,0,-dy), float4x4(0.070615820586681,-0.027714641764760,-0.000452604086604,-0.226409018039703,-0.024515653029084,-0.082987099885941,-0.049233328551054,-0.063640400767326,-0.110158488154411,0.124951347708702,-0.231898099184036,0.033182490617037,-0.019136460497975,-0.053145963698626,-0.155355572700500,-0.000766936573200));
res += mul(Get(s3,0,0), float4x4(0.065176360309124,-0.129036471247673,0.062170457094908,-0.048918075859547,0.026476047933102,0.048249624669552,-0.056218389421701,0.046101551502943,-0.064920678734779,-0.068662717938423,-0.129625350236893,-0.077445283532143,0.043279793113470,0.089943572878838,0.062149632722139,0.348759293556213));
res += mul(Get(s3,0,dy), float4x4(-0.020808735862374,0.138845875859261,0.041830141097307,0.074349783360958,-0.128290548920631,0.339369624853134,0.123683810234070,-0.279163509607315,-0.074392184615135,0.038655076175928,-0.002407036954537,-0.099413074553013,-0.109650284051895,0.129873439669609,-0.063445888459682,0.019942624494433));
res += mul(Get(s3,dx,-dy), float4x4(-0.124116025865078,0.034367259591818,-0.026438361033797,-0.094031326472759,0.078416109085083,0.096054553985596,0.007642867974937,0.090415515005589,0.066490978002548,0.022890534251928,-0.196321025490761,-0.048739314079285,0.071571223437786,-0.013602192513645,-0.009579635225236,0.027219934388995));
res += mul(Get(s3,dx,0), float4x4(0.001810811809264,0.071354657411575,0.115213371813297,-0.085238575935364,-0.265363097190857,-0.050512414425611,-0.149625867605209,0.009507427923381,0.183577507734299,0.001138192485087,-0.052945911884308,-0.175797775387764,-0.122742645442486,0.058602739125490,0.041219674050808,-0.017583228647709));
res += mul(Get(s3,dx,dy), float4x4(0.031972512602806,-0.077562935650349,0.045660469681025,-0.028885591775179,-0.070125609636307,-0.011175645515323,-0.054720379412174,0.028276059776545,-0.009201251901686,-0.083736874163151,-0.056367609649897,-0.181704461574554,0.072377674281597,0.167412444949150,0.037773799151182,-0.180556222796440));
return max(float4(0,0,0,0), res);
}
