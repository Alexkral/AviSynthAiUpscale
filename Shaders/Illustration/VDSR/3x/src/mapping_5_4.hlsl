sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.028327982872725,0.165545195341110,0.080368466675282,-0.079757444560528,-0.013946593739092,-0.023670483380556,0.117077440023422,-0.040878098458052,-0.059291303157806,0.284915566444397,-0.093986630439758,-0.032189957797527,-0.007691720034927,0.197726726531982,0.145946100354195,-0.144703164696693));
res += mul(Get(s0,-dx,0), float4x4(0.048092689365149,0.014535547234118,-0.197479367256165,0.107697449624538,-0.160278230905533,0.132964238524437,-0.046831876039505,0.089308187365532,-0.021722907200456,0.072025276720524,-0.069597177207470,0.172837749123573,0.032421678304672,0.183956012129784,-0.097561508417130,0.169723972678185));
res += mul(Get(s0,-dx,dy), float4x4(0.169591858983040,-0.156491264700890,0.063945598900318,0.078282885253429,0.138214841485023,0.051450442522764,-0.138772159814835,-0.057022836059332,0.114167951047421,0.114512920379639,-0.056246921420097,0.010489873588085,-0.089878082275391,-0.117980591952801,0.048984698951244,0.065382555127144));
res += mul(Get(s0,0,-dy), float4x4(-0.013879421167076,0.192558139562607,-0.072785660624504,-0.039086759090424,-0.175722539424896,-0.051859851926565,0.116117388010025,-0.050977114588022,0.047950133681297,-0.003925200086087,0.054480846971273,0.007239130325615,0.073543772101402,0.146760955452919,0.022559806704521,-0.046491760760546));
res += mul(Get(s0,0,0), float4x4(0.126515194773674,-0.103023365139961,-0.098739013075829,-0.003058025147766,0.023783847689629,0.016439244151115,0.036595724523067,0.200552597641945,0.207081899046898,-0.066075995564461,0.097573816776276,-0.135097801685333,0.176547497510910,-0.024758532643318,0.017286650836468,-0.106795236468315));
res += mul(Get(s0,0,dy), float4x4(0.032777141779661,-0.276700675487518,-0.153335601091385,-0.066648632287979,-0.084731779992580,-0.184389814734459,0.016544558107853,-0.293819606304169,0.112421452999115,0.083365499973297,-0.224084571003914,-0.131147593259811,-0.042580287903547,-0.058755233883858,0.057308275252581,-0.067822769284248));
res += mul(Get(s0,dx,-dy), float4x4(0.136343166232109,0.069942846894264,-0.087620861828327,-0.116977855563164,0.024257894605398,-0.139949053525925,-0.068087078630924,-0.105734348297119,-0.062036622315645,0.056879449635744,-0.054822053760290,-0.007137838751078,-0.097895972430706,-0.083436347544193,0.050374958664179,-0.090011328458786));
res += mul(Get(s0,dx,0), float4x4(-0.038128152489662,0.040941376239061,-0.139690592885017,-0.003211793256924,-0.149928957223892,-0.092407435178757,0.045090489089489,-0.145751893520355,-0.020722048357129,-0.036202490329742,-0.165624514222145,-0.074553333222866,0.054159041494131,-0.027203233912587,0.009925528429449,-0.154817223548889));
res += mul(Get(s0,dx,dy), float4x4(-0.086359068751335,-0.070651099085808,-0.106273852288723,-0.037918165326118,0.018144423142076,-0.142142117023468,-0.112773403525352,0.172796979546547,0.072699934244156,-0.205316215753555,0.126837998628616,0.215600043535233,0.162749961018562,-0.000553591642529,-0.108107164502144,0.147868573665619));
res += mul(Get(s1,-dx,-dy), float4x4(0.067963406443596,-0.216142788529396,0.111949145793915,-0.106200695037842,0.161060735583305,-0.061978366225958,-0.011763281188905,0.074590608477592,0.024399818852544,0.035295244306326,-0.018353573977947,0.023262392729521,0.130221813917160,-0.078209586441517,-0.051448557525873,0.039650537073612));
res += mul(Get(s1,-dx,0), float4x4(-0.225424841046333,-0.020879894495010,-0.168170109391212,-0.134571656584740,0.049747817218304,-0.102236151695251,-0.034891936928034,-0.196636453270912,-0.039840210229158,-0.000010914907762,0.024793459102511,-0.086636714637280,-0.000667130807415,0.044963259249926,-0.103832028806210,-0.066627167165279));
res += mul(Get(s1,-dx,dy), float4x4(-0.038546238094568,-0.219835028052330,-0.055251877754927,0.029119774699211,-0.066582255065441,-0.167995184659958,-0.099122777581215,-0.037254512310028,-0.147329926490784,-0.261707305908203,-0.109914779663086,-0.024245638400316,-0.006317107938230,-0.130992084741592,0.029932493343949,-0.073360770940781));
res += mul(Get(s1,0,-dy), float4x4(0.012171233072877,-0.062115862965584,-0.096666224300861,0.020757054910064,0.027367044240236,-0.040972184389830,-0.018637476488948,0.021711232140660,-0.031839732080698,-0.129414573311806,-0.170349851250648,-0.168380364775658,0.099457196891308,-0.069276578724384,-0.155950978398323,0.105634704232216));
res += mul(Get(s1,0,0), float4x4(-0.112062707543373,-0.135479122400284,0.051517926156521,-0.137232512235641,-0.146665617823601,0.119942173361778,-0.062950164079666,-0.276898682117462,-0.079287461936474,0.180837064981461,-0.112820692360401,-0.123707868158817,0.187489390373230,-0.060976911336184,-0.153284057974815,0.212916389107704));
res += mul(Get(s1,0,dy), float4x4(-0.137732490897179,0.109165303409100,0.084492735564709,-0.012757807970047,-0.068614237010479,0.048552878201008,-0.156266301870346,0.037421744316816,0.182707473635674,-0.013446633704007,0.067384451627731,0.161478757858276,0.142544776201248,0.025625661015511,-0.042763579636812,0.033422462642193));
res += mul(Get(s1,dx,-dy), float4x4(-0.128408133983612,-0.125648081302643,0.090350225567818,0.042066916823387,0.156656190752983,-0.128949001431465,-0.108637534081936,-0.071621827781200,0.077015012502670,-0.086716592311859,0.098572328686714,0.206703826785088,-0.019473301246762,0.214067175984383,-0.257726669311523,0.104568190872669));
res += mul(Get(s1,dx,0), float4x4(0.122250713407993,-0.054392874240875,0.106471002101898,0.140283614397049,0.094087444245815,0.067014180123806,-0.127377942204475,-0.140163049101830,-0.017589123919606,0.001618408947252,-0.154638350009918,0.062600530683994,0.040141694247723,0.079183429479599,-0.090464659035206,-0.084056571125984));
res += mul(Get(s1,dx,dy), float4x4(0.151309698820114,0.042475882917643,-0.190728634595871,-0.009449443779886,-0.111651830375195,-0.058156982064247,-0.120472855865955,0.122485116124153,-0.019721951335669,0.044873759150505,0.038111969828606,-0.095446951687336,0.005398413166404,-0.092549100518227,-0.149505659937859,-0.031852420419455));
res += mul(Get(s2,-dx,-dy), float4x4(0.032452132552862,-0.218718156218529,-0.213921621441841,-0.038252227008343,-0.041422046720982,0.005832173861563,-0.103215418756008,-0.058321356773376,-0.018467614427209,0.127064481377602,-0.081367231905460,0.028343712911010,0.049090974032879,-0.064775645732880,0.040570680052042,-0.210305005311966));
res += mul(Get(s2,-dx,0), float4x4(-0.079463288187981,-0.032682694494724,-0.120458640158176,0.170221820473671,0.018952218815684,-0.066753461956978,-0.015737192705274,0.107832059264183,0.116149418056011,-0.138894721865654,0.037244088947773,0.088531740009785,0.001691687386483,0.097572579979897,-0.259180068969727,-0.005621993448585));
res += mul(Get(s2,-dx,dy), float4x4(0.022740561515093,0.201522767543793,-0.015399654395878,0.021973920986056,0.095821931958199,-0.081415057182312,-0.132458195090294,-0.011382419615984,0.023566473275423,0.097622185945511,0.205054894089699,-0.043084055185318,0.139252454042435,0.061077058315277,0.094151131808758,0.086806453764439));
res += mul(Get(s2,0,-dy), float4x4(0.010324141010642,0.020828999578953,-0.071307241916656,-0.029963754117489,-0.061946921050549,-0.067642062902451,-0.040938369929790,0.086096473038197,-0.096211977303028,-0.027488673105836,-0.068848289549351,0.018111564218998,-0.136611998081207,0.094081111252308,-0.067694239318371,0.006594323087484));
res += mul(Get(s2,0,0), float4x4(-0.005412921775132,-0.112997509539127,0.199062794446945,0.055719085037708,-0.024191297590733,0.235059678554535,-0.037648174911737,-0.148535475134850,-0.004711079876870,-0.106523320078850,-0.018695564940572,0.094567015767097,0.041400078684092,0.148060694336891,-0.115540899336338,0.262388318777084));
res += mul(Get(s2,0,dy), float4x4(-0.149660214781761,0.154685363173485,-0.057827960699797,0.011164443567395,-0.088598012924194,-0.218107610940933,0.231930047273636,-0.009833648800850,0.027396136894822,0.000635186035652,-0.178135439753532,0.088534705340862,-0.060164794325829,-0.016898063942790,-0.092455692589283,-0.027599157765508));
res += mul(Get(s2,dx,-dy), float4x4(0.114952623844147,-0.109099030494690,-0.153958454728127,-0.132407978177071,0.022657562047243,0.127281188964844,0.074652306735516,-0.149224534630775,-0.204246237874031,-0.006169127766043,0.134779930114746,-0.000009964707715,0.095949418842793,-0.085444428026676,0.037698134779930,0.041936025023460));
res += mul(Get(s2,dx,0), float4x4(-0.118892319500446,-0.033516138792038,0.003339719027281,-0.028719488531351,0.052078265696764,-0.052879609167576,-0.132831379771233,-0.012954716570675,-0.050629705190659,0.041328541934490,0.067470401525497,-0.188988476991653,0.087492667138577,0.079477503895760,0.135023176670074,-0.000096997595392));
res += mul(Get(s2,dx,dy), float4x4(0.045576434582472,-0.130199000239372,-0.003239256329834,-0.042882394045591,-0.040220268070698,0.065560996532440,-0.161974936723709,-0.134122595191002,0.165410846471786,0.048735622316599,0.098161429166794,-0.039548199623823,-0.009532906115055,0.247495263814926,0.045216701924801,-0.098944738507271));
res += mul(Get(s3,-dx,-dy), float4x4(-0.153028517961502,0.083909094333649,0.178681239485741,-0.004286025185138,0.271882414817810,-0.031537618488073,-0.039928581565619,-0.003083685645834,-0.163136094808578,0.015824928879738,0.151090577244759,0.013327961787581,-0.187643975019455,0.067555136978626,-0.232315585017204,0.131400614976883));
res += mul(Get(s3,-dx,0), float4x4(0.029610194265842,-0.027897007763386,-0.069178521633148,-0.066692739725113,-0.005872219335288,0.036580611020327,-0.007385770324618,0.128785654902458,-0.012137830257416,0.055631268769503,0.162631303071976,-0.226436302065849,0.198338001966476,0.032166473567486,0.057404872030020,-0.187406390905380));
res += mul(Get(s3,-dx,dy), float4x4(-0.025080047547817,0.003513965290040,-0.170119881629944,-0.111658200621605,0.045688822865486,0.076543822884560,-0.119931019842625,-0.105451658368111,0.230343684554100,0.029329642653465,-0.072327941656113,-0.000736338028219,-0.043853480368853,0.016495414078236,-0.003718773368746,0.037548843771219));
res += mul(Get(s3,0,-dy), float4x4(-0.029173541814089,0.168712109327316,-0.057062827050686,-0.071703881025314,0.190558597445488,-0.020162360742688,-0.046535085886717,-0.269190996885300,-0.006659376434982,0.011636544950306,0.046089474111795,0.061716370284557,-0.094391584396362,0.097489066421986,0.061613615602255,0.068924330174923));
res += mul(Get(s3,0,0), float4x4(0.066345132887363,-0.098956428468227,-0.122690737247467,-0.032786849886179,0.031927872449160,-0.096013441681862,-0.016013093292713,-0.011866809800267,0.199527561664581,-0.086929634213448,-0.124009087681770,0.087877362966537,-0.004742777440697,-0.094911344349384,0.026461143046618,0.141394421458244));
res += mul(Get(s3,0,dy), float4x4(0.079833619296551,-0.023809213191271,-0.119954772293568,0.283556967973709,0.084302738308907,-0.006556510459632,-0.066470935940742,0.132938459515572,-0.067990012466908,-0.199643388390541,0.041015639901161,0.085512720048428,0.122956037521362,0.087065331637859,0.055395100265741,-0.055986974388361));
res += mul(Get(s3,dx,-dy), float4x4(-0.075986541807652,-0.115873597562313,-0.047160983085632,-0.060870893299580,0.035712201148272,-0.019226463511586,0.064752183854580,-0.259213119745255,-0.045243088155985,-0.097556859254837,-0.191896349191666,0.079511024057865,0.010467362590134,-0.061228450387716,-0.136641308665276,-0.024249164387584));
res += mul(Get(s3,dx,0), float4x4(-0.118219785392284,0.146099358797073,-0.167022913694382,-0.073679298162460,-0.060498118400574,-0.113721236586571,-0.108102239668369,0.088441178202629,0.213600248098373,-0.100060015916824,-0.205398231744766,0.100977025926113,0.055853981524706,0.027539443224669,0.098977141082287,0.114672489464283));
res += mul(Get(s3,dx,dy), float4x4(0.011696557514369,-0.158936455845833,-0.097498603165150,-0.077106140553951,0.019208241254091,-0.105973370373249,0.032770421355963,0.161192908883095,-0.121862806379795,-0.060093313455582,-0.114668488502502,-0.144495025277138,0.095428973436356,-0.045901104807854,-0.006662110798061,0.051343724131584));
return max(float4(0,0,0,0), res);
}
