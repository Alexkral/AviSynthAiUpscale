sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.040350243449211,0.137511625885963,-0.065864637494087,0.003650291822851,-0.042236398905516,-0.011464194394648,-0.045857541263103,0.103161312639713,-0.072436816990376,0.108562737703323,0.177663519978523,-0.041926339268684,0.091240324079990,0.068735651671886,-0.068454183638096,-0.010492584668100));
res += mul(Get(s0,-dx,0), float4x4(0.053967159241438,-0.156453073024750,0.060424476861954,0.009752998128533,-0.162456542253494,-0.147339165210724,-0.005476044490933,-0.009822460822761,0.140284329652786,0.056868080049753,0.066929295659065,0.003662374801934,0.155222773551941,-0.088947586715221,-0.039299171417952,-0.071007400751114));
res += mul(Get(s0,-dx,dy), float4x4(-0.116007864475250,0.125080749392509,-0.040134634822607,-0.028451513499022,0.148976057767868,0.102993465960026,-0.058376859873533,-0.132867157459259,-0.010186991654336,0.290743619203568,0.096250899136066,0.147903189063072,-0.053943201899529,-0.064969524741173,0.097956597805023,-0.013702502474189));
res += mul(Get(s0,0,-dy), float4x4(-0.126985162496567,-0.150467351078987,0.080608725547791,-0.020395059138536,0.100783698260784,0.000666581210680,0.084807649254799,0.033813592046499,-0.083008818328381,0.022275123745203,-0.047718860208988,0.026302371174097,-0.014708444476128,0.122729510068893,-0.006705620791763,0.093340642750263));
res += mul(Get(s0,0,0), float4x4(-0.194853529334068,-0.057936239987612,0.096084840595722,0.093429461121559,0.066212490200996,0.272566407918930,0.062961354851723,0.137603670358658,-0.100107766687870,0.089713245630264,0.094967514276505,0.021291999146342,-0.093268960714340,-0.009666361846030,-0.042291607707739,-0.006391568575054));
res += mul(Get(s0,0,dy), float4x4(-0.050763137638569,-0.018373521044850,0.193313509225845,0.033032912760973,-0.074836753308773,0.223217859864235,-0.249192506074905,-0.141965895891190,-0.070292659103870,-0.013764473609626,0.020105607807636,-0.091399230062962,0.109509035944939,0.189691498875618,-0.006160273216665,0.177836835384369));
res += mul(Get(s0,dx,-dy), float4x4(-0.006187850143760,-0.171422585844994,-0.088942721486092,0.123944222927094,0.147352203726768,-0.009040255099535,0.141010358929634,0.040997356176376,-0.146770268678665,-0.184899657964706,0.284071564674377,-0.105129830539227,-0.142221674323082,-0.074305616319180,-0.071324095129967,-0.086562290787697));
res += mul(Get(s0,dx,0), float4x4(-0.023163894191384,0.068583846092224,-0.061352454125881,0.016885655000806,0.074110224843025,0.044941328465939,-0.100199885666370,-0.019697653129697,-0.055942811071873,0.041168257594109,0.030274931341410,-0.074207931756973,0.141521528363228,0.232665225863457,-0.002826798474416,-0.139565527439117));
res += mul(Get(s0,dx,dy), float4x4(0.037484452128410,0.005114347208291,0.199569419026375,-0.145385980606079,0.084186144173145,0.130876019597054,0.014510545879602,-0.005755224265158,-0.087260536849499,0.052459944039583,-0.002195468638092,0.026811156421900,0.068841502070427,-0.154570937156677,0.097446598112583,0.045212808996439));
res += mul(Get(s1,-dx,-dy), float4x4(-0.187484622001648,-0.117029622197151,0.011049596592784,-0.066852450370789,0.097177579998970,0.143905818462372,-0.047217912971973,0.206273436546326,-0.052022725343704,0.097863294184208,0.040465258061886,-0.073849931359291,0.096991769969463,-0.167984619736671,-0.300962507724762,0.017520716413856));
res += mul(Get(s1,-dx,0), float4x4(-0.034429404884577,0.033706866204739,0.032613400369883,0.026003582403064,-0.047781925648451,-0.010054018348455,0.090471297502518,-0.006253779400140,-0.143734499812126,0.149416759610176,-0.252192050218582,-0.038200095295906,0.217390745878220,-0.006234648637474,-0.053883999586105,0.139764130115509));
res += mul(Get(s1,-dx,dy), float4x4(-0.013321291655302,0.162301599979401,0.096629440784454,-0.044600240886211,0.072852671146393,0.077990442514420,-0.077400848269463,0.083306849002838,0.026425063610077,-0.110182523727417,-0.074312038719654,-0.071582637727261,0.019052188843489,-0.084697902202606,-0.159671440720558,-0.080763578414917));
res += mul(Get(s1,0,-dy), float4x4(0.059189185500145,0.159361824393272,0.013126200996339,0.117708079516888,0.017914080992341,-0.101676031947136,-0.099641352891922,0.047597922384739,-0.061356417834759,-0.188193678855896,-0.021182017400861,-0.185421034693718,0.018282158300281,-0.040257401764393,-0.058007515966892,-0.162863299250603));
res += mul(Get(s1,0,0), float4x4(0.114793583750725,0.243822798132896,0.019538728520274,-0.052282832562923,-0.174356475472450,0.168151274323463,0.034162648022175,0.045269440859556,-0.057740040123463,0.218328982591629,-0.032699912786484,0.025761997327209,0.020219732075930,0.083498708903790,-0.077018983662128,0.006518254522234));
res += mul(Get(s1,0,dy), float4x4(-0.011312074027956,0.022589631378651,0.118863493204117,0.036159429699183,-0.060460567474365,0.130503803491592,0.005351884756237,0.049051281064749,-0.149483829736710,-0.159698128700256,-0.004010205157101,0.010068321600556,-0.026899678632617,0.114120356738567,-0.114089600741863,-0.025418726727366));
res += mul(Get(s1,dx,-dy), float4x4(-0.078695148229599,0.085058130323887,0.128406688570976,0.078973844647408,0.091160856187344,0.009781274013221,0.163574501872063,0.233068555593491,-0.075576461851597,0.081067971885204,0.101683177053928,0.002738261129707,-0.073261886835098,-0.165215432643890,0.040533203631639,-0.096811853349209));
res += mul(Get(s1,dx,0), float4x4(-0.237915083765984,0.103572592139244,-0.143292531371117,-0.004045458510518,0.032928846776485,-0.109257236123085,0.027241498231888,-0.216636836528778,-0.125670105218887,0.002000859938562,-0.145108118653297,0.291695475578308,0.126406505703926,0.067796744406223,0.170582696795464,-0.137731894850731));
res += mul(Get(s1,dx,dy), float4x4(-0.074936844408512,-0.117459736764431,-0.270043611526489,0.022803934291005,0.021574340760708,-0.142316311597824,-0.006238007452339,-0.023300770670176,0.139205351471901,-0.083323441445827,-0.069035246968269,-0.245192393660545,-0.130583301186562,0.056240960955620,0.111276403069496,0.101851686835289));
res += mul(Get(s2,-dx,-dy), float4x4(0.042100116610527,0.240925163030624,0.216101422905922,-0.225342899560928,0.037747703492641,0.073433972895145,0.161394223570824,0.077778659760952,0.007794009055942,-0.051738932728767,-0.100049532949924,-0.081289120018482,0.021000899374485,0.004129985347390,0.144996449351311,0.060494698584080));
res += mul(Get(s2,-dx,0), float4x4(-0.004398360382766,-0.229133218526840,-0.148416042327881,-0.083568759262562,0.002190596424043,-0.122979328036308,0.058935452252626,0.181137070059776,0.121682621538639,0.070766471326351,-0.109051272273064,-0.057397749274969,-0.016509672626853,-0.008468864485621,0.179094582796097,0.051059529185295));
res += mul(Get(s2,-dx,dy), float4x4(0.158837258815765,-0.054138921201229,-0.026344835758209,-0.269061475992203,0.033984433859587,-0.002262669149786,-0.135853931307793,-0.204283371567726,0.117685936391354,-0.109752215445042,-0.036989711225033,-0.087019637227058,-0.081380844116211,-0.047822806984186,-0.003750794334337,0.030673185363412));
res += mul(Get(s2,0,-dy), float4x4(-0.177179664373398,-0.060527577996254,0.156256780028343,-0.068074345588684,-0.149637207388878,-0.103150673210621,0.113528080284595,-0.034216091036797,-0.118036694824696,0.089254394173622,0.083444543182850,-0.259008228778839,0.155062794685364,-0.002805555006489,-0.105594575405121,0.110878825187683));
res += mul(Get(s2,0,0), float4x4(0.056458350270987,-0.103554852306843,-0.079146854579449,-0.110336482524872,-0.036101732403040,0.032535299658775,0.074905514717102,0.005247869528830,-0.096442259848118,0.054042536765337,-0.215226337313652,-0.119494594633579,-0.037888359278440,0.055666398257017,0.083201974630356,0.078601956367493));
res += mul(Get(s2,0,dy), float4x4(-0.165089055895805,0.170294135808945,-0.273011744022369,0.052864219993353,-0.053994860500097,-0.011819921433926,-0.067743420600891,-0.115260638296604,-0.077027328312397,-0.120210655033588,-0.017997421324253,-0.083576910197735,0.016831969842315,0.092137500643730,0.097452290356159,-0.064827188849449));
res += mul(Get(s2,dx,-dy), float4x4(-0.093222819268703,0.065727755427361,0.161051675677299,0.045318190008402,-0.003164263209328,0.055852852761745,-0.064476996660233,0.215406686067581,0.031072800979018,-0.007312358822674,-0.109410136938095,-0.006333683617413,-0.033586092293262,0.155656695365906,-0.082068704068661,0.121381662786007));
res += mul(Get(s2,dx,0), float4x4(0.031778562813997,0.064399719238281,0.034172590821981,0.136586084961891,-0.006637759506702,0.076134264469147,0.089378647506237,-0.018040835857391,-0.123317763209343,0.181682512164116,0.049259874969721,-0.173205539584160,0.147544309496880,-0.101823188364506,-0.164302736520767,0.137449443340302));
res += mul(Get(s2,dx,dy), float4x4(-0.117299705743790,0.162254780530930,0.200878694653511,-0.125551521778107,0.083479277789593,0.164482012391090,-0.133667841553688,0.186304882168770,0.002245798939839,-0.163416340947151,0.017167728394270,-0.018287938088179,-0.209716171026230,-0.072677187621593,-0.067162051796913,-0.156699270009995));
res += mul(Get(s3,-dx,-dy), float4x4(-0.061149328947067,-0.110796421766281,0.324253112077713,0.026138335466385,-0.008264482952654,-0.186969012022018,-0.095577657222748,-0.074888333678246,-0.001937467837706,0.214629471302032,0.156982272863388,0.032831206917763,-0.016366021707654,-0.150219246745110,0.085520230233669,0.101027384400368));
res += mul(Get(s3,-dx,0), float4x4(-0.025947112590075,0.053792167454958,0.006241316441447,-0.016471695154905,0.050902731716633,-0.180237844586372,0.128860399127007,-0.050395008176565,-0.013659264892340,0.128681078553200,-0.099663354456425,0.093676127493382,0.028797185048461,0.063763529062271,0.125371783971786,-0.082724124193192));
res += mul(Get(s3,-dx,dy), float4x4(-0.193141236901283,0.204843789339066,-0.000375739182346,0.123488217592239,-0.241558104753494,0.218238666653633,0.028062500059605,-0.196592867374420,0.187651738524437,0.012223270721734,0.088617660105228,-0.023334475234151,0.036406558007002,-0.069110184907913,-0.007725004572421,-0.106088578701019));
res += mul(Get(s3,0,-dy), float4x4(0.371764898300171,-0.081524878740311,-0.020012080669403,0.025986829772592,-0.054303195327520,0.011594563722610,0.000490997044835,0.075129635632038,0.040251489728689,0.065222032368183,0.052883390337229,-0.096963383257389,-0.095476239919662,0.128991708159447,-0.058941233903170,-0.056920908391476));
res += mul(Get(s3,0,0), float4x4(-0.012664000503719,-0.002486859681085,-0.131794050335884,0.028661075979471,0.069958716630936,-0.115454599261284,-0.056468926370144,-0.000714871508535,-0.018863588571548,-0.015082652680576,-0.016958398744464,-0.056141756474972,-0.078625977039337,0.044706851243973,0.045960858464241,0.015054902993143));
res += mul(Get(s3,0,dy), float4x4(0.193730935454369,0.012367520481348,-0.082070901989937,-0.153271943330765,0.060479048639536,-0.020391529425979,-0.063905730843544,0.136207774281502,0.005450111813843,-0.031671736389399,-0.066669814288616,-0.009835225529969,-0.010266638360918,-0.083999410271645,0.084467254579067,0.028742341324687));
res += mul(Get(s3,dx,-dy), float4x4(0.121463336050510,-0.196998223662376,0.086757473647594,0.177805945277214,-0.020594360306859,-0.065941154956818,0.007071968168020,-0.018285490572453,-0.018759083002806,0.061090782284737,-0.078620865941048,0.008134883828461,-0.220716848969460,0.028771067038178,-0.141141444444656,-0.115108825266361));
res += mul(Get(s3,dx,0), float4x4(0.040815237909555,-0.014221501536667,-0.024001944810152,-0.105831079185009,-0.147544175386429,-0.096932455897331,0.051375687122345,-0.041654292494059,-0.070968620479107,-0.042376406490803,-0.183417752385139,0.153968542814255,0.069430060684681,0.050180260092020,0.082723185420036,-0.058690410107374));
res += mul(Get(s3,dx,dy), float4x4(-0.174019545316696,-0.010150324553251,-0.224594011902809,-0.146040618419647,-0.197841033339500,-0.100538074970245,-0.174632728099823,0.066753074526787,0.099121622741222,0.136836796998978,-0.101072631776333,0.007882101461291,0.085372664034367,0.086162894964218,0.001117996755056,0.211752489209175));
return max(float4(0,0,0,0), res);
}
