sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.097885385155678,-0.105018064379692,-0.074216693639755,0.030703077092767,0.104007318615913,0.145345047116280,-0.086824864149094,-0.101891092956066,0.069602943956852,-0.133853003382683,-0.090346641838551,0.070052832365036,0.041970666497946,-0.048785615712404,0.078274063766003,-0.040113676339388));
res += mul(Get(s0,-dx,0), float4x4(0.055902265012264,0.046366367489100,0.040318936109543,-0.040771797299385,0.055759899318218,-0.010716034099460,0.078874640166759,0.044835630804300,0.058112882077694,-0.008531644009054,-0.017695490270853,0.018693694844842,-0.040863752365112,-0.072151511907578,0.097685091197491,-0.151749119162560));
res += mul(Get(s0,-dx,dy), float4x4(0.103176690638065,0.007318425457925,0.123970307409763,-0.021857688203454,-0.009547794237733,-0.076692573726177,0.049512360244989,-0.015476749278605,0.152708366513252,-0.037347514182329,-0.098385959863663,-0.127644717693329,-0.061001252382994,-0.031288456171751,-0.034576870501041,0.021647388115525));
res += mul(Get(s0,0,-dy), float4x4(-0.017085345461965,0.052553549408913,-0.033965211361647,0.031459938734770,0.066645376384258,0.094563186168671,0.067781597375870,0.047792766243219,-0.093196727335453,0.027842935174704,-0.057185724377632,0.000242367779720,0.026869546622038,-0.007380193565041,0.085163310170174,0.050348307937384));
res += mul(Get(s0,0,0), float4x4(-0.020423572510481,0.058487437665462,-0.059376750141382,0.090923935174942,0.022337974980474,0.192514926195145,0.034010615199804,-0.027566658332944,-0.003972833976150,-0.042913418263197,-0.096376329660416,0.247615799307823,-0.011557254940271,0.004873058293015,0.072681806981564,0.075110845267773));
res += mul(Get(s0,0,dy), float4x4(-0.006856049876660,0.016371196135879,0.018715662881732,0.094669036567211,0.026261731982231,0.289965331554413,-0.011119504459202,-0.161045640707016,0.010916769504547,0.024027071893215,-0.103792540729046,0.049496214836836,-0.165463447570801,-0.084452040493488,0.034445416182280,0.025851981714368));
res += mul(Get(s0,dx,-dy), float4x4(0.130744427442551,-0.178474098443985,-0.066093422472477,0.003962969873101,-0.016538526862860,-0.060512263327837,-0.062335867434740,0.001800444908440,-0.036132961511612,-0.032991494983435,0.100186161696911,0.114319346845150,-0.042219147086143,0.010796626098454,-0.002312449971214,-0.091260403394699));
res += mul(Get(s0,dx,0), float4x4(0.177640289068222,-0.032834354788065,-0.024225436151028,0.077529624104500,0.069315478205681,-0.139369875192642,-0.117825880646706,-0.053755592554808,-0.121061742305756,-0.157817736268044,0.125813186168671,-0.004625163506716,-0.031017443165183,-0.047209244221449,-0.035687983036041,0.036489926278591));
res += mul(Get(s0,dx,dy), float4x4(-0.043855253607035,0.031791757792234,0.110717274248600,0.123262889683247,-0.037354733794928,-0.169009059667587,-0.034761551767588,0.059668742120266,-0.145395860075951,0.002334050834179,0.072741553187370,0.068810045719147,-0.242775976657867,0.075272835791111,-0.046976227313280,-0.053737625479698));
res += mul(Get(s1,-dx,-dy), float4x4(0.266721099615097,-0.001473903190345,0.030057497322559,0.032786905765533,0.084755726158619,-0.066060975193977,0.201558664441109,-0.058574862778187,0.175229668617249,0.121409833431244,-0.030102565884590,0.056559495627880,0.244754865765572,-0.236513346433640,0.252123713493347,-0.080784291028976));
res += mul(Get(s1,-dx,0), float4x4(-0.035267222672701,-0.021006345748901,0.080340042710304,0.134637743234634,-0.020684564486146,0.054570611566305,-0.050017382949591,-0.053334336727858,0.129988893866539,0.130969867110252,-0.004223735537380,0.056602615863085,0.042331431061029,0.008428181521595,-0.066007591784000,-0.108412735164165));
res += mul(Get(s1,-dx,dy), float4x4(0.083119973540306,0.111469708383083,0.032269190996885,0.031332973390818,0.073347687721252,-0.092406168580055,0.106302089989185,-0.028941864147782,0.165924161672592,-0.066159747540951,0.070104017853737,0.056464917957783,0.221180170774460,-0.069512113928795,-0.050601921975613,-0.000249881355558));
res += mul(Get(s1,0,-dy), float4x4(0.017640536651015,0.010028519667685,-0.040501236915588,0.028161179274321,-0.147968798875809,-0.095800325274467,0.173944830894470,-0.148914098739624,0.158842086791992,0.044442400336266,0.109682999551296,0.115065529942513,-0.021897375583649,-0.262696325778961,-0.022427808493376,-0.087233178317547));
res += mul(Get(s1,0,0), float4x4(-0.017912497743964,-0.111712351441383,-0.065354354679585,0.039973020553589,-0.130546867847443,-0.025903331115842,-0.165854066610336,0.007294152863324,0.043951854109764,0.210460439324379,-0.035712856799364,0.082604080438614,0.134651541709900,-0.161845937371254,0.132148414850235,-0.023253584280610));
res += mul(Get(s1,0,dy), float4x4(0.239472925662994,0.085672155022621,-0.012461303733289,0.081277832388878,-0.010056625120342,0.063890837132931,-0.233917027711868,0.024564314633608,0.149411246180534,0.006715437863022,0.061174720525742,0.193884447216988,-0.084215268492699,-0.013844095170498,0.053438249975443,0.187188073992729));
res += mul(Get(s1,dx,-dy), float4x4(-0.002610669936985,0.082550823688507,-0.156444117426872,-0.015701126307249,-0.029794782400131,-0.099563114345074,0.006857414264232,-0.102165378630161,0.034219257533550,-0.054458227008581,0.052804678678513,0.008223020471632,-0.330266833305359,-0.026326434686780,-0.097405619919300,0.099877126514912));
res += mul(Get(s1,dx,0), float4x4(0.046729121357203,-0.183141976594925,0.005162574350834,-0.104247502982616,-0.037769772112370,-0.107000529766083,-0.136842384934425,0.019967356696725,-0.094860002398491,-0.021576004102826,0.139851301908493,0.087123282253742,-0.051911778748035,-0.220154449343681,-0.130107030272484,-0.068036310374737));
res += mul(Get(s1,dx,dy), float4x4(0.331250786781311,0.016940608620644,-0.145096793770790,-0.099071390926838,-0.034026570618153,-0.003680016845465,-0.023791223764420,0.155667722225189,-0.129744842648506,-0.108703218400478,-0.012992604635656,0.005369853228331,0.040725748986006,-0.052704293280840,0.023523842915893,-0.290418565273285));
res += mul(Get(s2,-dx,-dy), float4x4(-0.036085426807404,0.088903777301311,-0.026294961571693,0.039237484335899,0.073562569916248,-0.127101302146912,0.131296753883362,0.097032852470875,-0.188135296106339,-0.073964156210423,-0.001767366193235,-0.085493415594101,0.067321345210075,0.055649358779192,0.055938966572285,0.065178148448467));
res += mul(Get(s2,-dx,0), float4x4(0.089114844799042,0.072549380362034,-0.037950973957777,-0.102958425879478,-0.052857812494040,-0.090231321752071,-0.003147753188387,-0.070577085018158,-0.181467533111572,-0.008959891274571,0.100367918610573,-0.110415823757648,0.172207117080688,0.261650025844574,0.209462523460388,-0.114826820790768));
res += mul(Get(s2,-dx,dy), float4x4(-0.064828410744667,-0.052491541951895,-0.046384040266275,-0.010503152385354,-0.093958541750908,-0.104704201221466,0.065042883157730,-0.003122415859252,0.046841323375702,-0.014954862184823,-0.082594886422157,-0.078382849693298,0.118627414107323,0.163033425807953,-0.026332236826420,-0.221382007002831));
res += mul(Get(s2,0,-dy), float4x4(0.040876794606447,0.302105456590652,-0.024092053994536,0.052597049623728,-0.065208546817303,-0.183573469519615,0.128315851092339,0.002872276818380,-0.144906446337700,-0.068832591176033,-0.035111669450998,0.012519141659141,0.147432625293732,-0.231950521469116,0.093494243919849,-0.065279543399811));
res += mul(Get(s2,0,0), float4x4(-0.083733290433884,0.174012854695320,0.018810005858541,0.027138143777847,-0.003391038393602,-0.089642077684402,-0.233326494693756,-0.136543929576874,-0.103785805404186,-0.155109614133835,0.176085859537125,-0.040675438940525,0.086546093225479,-0.073784470558167,-0.096023671329021,0.116872966289520));
res += mul(Get(s2,0,dy), float4x4(-0.086394339799881,0.054463583976030,0.075957678258419,-0.028010997921228,0.230272099375725,-0.101635903120041,-0.076270148158073,-0.209396407008171,0.020376663655043,0.042605023831129,-0.068380594253540,-0.172584757208824,0.124030090868473,0.193231359124184,-0.155764132738113,-0.007087181322277));
res += mul(Get(s2,dx,-dy), float4x4(-0.211706072092056,-0.038535661995411,0.050870243459940,-0.079632453620434,0.053874135017395,-0.151390522718430,0.237225562334061,0.025878353044391,-0.215094029903412,0.021890010684729,-0.006331833545119,-0.076772160828114,-0.089941784739494,-0.039707679301500,0.015404923819005,-0.092684127390385));
res += mul(Get(s2,dx,0), float4x4(-0.041652962565422,-0.010895571671426,0.013600085861981,-0.040511142462492,-0.036301296204329,-0.036455117166042,0.035296704620123,0.036288764327765,-0.123822607100010,0.031724806874990,0.004707868210971,-0.147297292947769,-0.101903326809406,-0.062883898615837,-0.079991467297077,-0.138518825173378));
res += mul(Get(s2,dx,dy), float4x4(-0.016520779579878,-0.068316966295242,0.050080455839634,0.075346328318119,-0.093325540423393,-0.085646115243435,0.103057660162449,-0.006071398034692,-0.057195026427507,-0.003626540768892,-0.057463966310024,-0.137611865997314,-0.148465171456337,0.054999351501465,-0.162179902195930,0.190494775772095));
res += mul(Get(s3,-dx,-dy), float4x4(0.125851884484291,-0.392619997262955,0.044629752635956,-0.120232574641705,-0.080172844231129,-0.005611041560769,-0.044061616063118,-0.023129472509027,0.096845895051956,0.072835676372051,0.093262344598770,-0.000310462142807,-0.180180385708809,-0.048827275633812,-0.069111108779907,0.048321336507797));
res += mul(Get(s3,-dx,0), float4x4(0.028020553290844,0.128058955073357,0.011275332421064,0.018436327576637,-0.102511271834373,-0.020635567605495,0.010546188801527,-0.034244101494551,0.049126755446196,0.108737170696259,-0.080030828714371,0.042912542819977,-0.074762217700481,-0.037131235003471,0.016837909817696,-0.074921555817127));
res += mul(Get(s3,-dx,dy), float4x4(0.037465326488018,-0.205792412161827,0.139637082815170,-0.013718803413212,0.052248321473598,0.004583907779306,0.050240129232407,0.024991750717163,-0.040873512625694,0.033531706780195,-0.100576065480709,0.051331784576178,-0.160337731242180,-0.043055880814791,0.008635306730866,-0.069576837122440));
res += mul(Get(s3,0,-dy), float4x4(-0.015101314522326,0.045862898230553,0.049579247832298,0.036041684448719,-0.102172471582890,-0.011818006634712,-0.049876119941473,-0.033832114189863,0.151273325085640,-0.043844744563103,-0.019229421392083,0.152307033538818,-0.173849239945412,0.455940693616867,-0.110873393714428,-0.004965021274984));
res += mul(Get(s3,0,0), float4x4(0.071114875376225,0.351411163806915,0.028225319460034,0.064497791230679,-0.087690524756908,-0.127718538045883,0.091188788414001,-0.115648649632931,0.058758784085512,-0.061598602682352,0.073673017323017,0.131421700119972,-0.146846428513527,-0.193766236305237,-0.050235785543919,-0.018831716850400));
res += mul(Get(s3,0,dy), float4x4(0.129424974322319,-0.023536821827292,0.027304932475090,0.151408433914185,-0.064219057559967,-0.098688274621964,0.043241031467915,-0.006552684120834,0.029025379568338,0.158781573176384,-0.073611259460449,-0.029775185510516,-0.124591253697872,-0.058218386024237,-0.068269446492195,0.006677730008960));
res += mul(Get(s3,dx,-dy), float4x4(-0.011482276022434,-0.079766370356083,0.124779798090458,-0.031086653470993,-0.049038894474506,-0.040562015026808,-0.050504427403212,-0.085954003036022,-0.010596726089716,-0.082578927278519,-0.141971334815025,0.003576981136575,-0.188975319266319,-0.000921287341043,0.026619466021657,-0.005783393513411));
res += mul(Get(s3,dx,0), float4x4(-0.115890413522720,0.125884518027306,0.006132980342954,0.087707579135895,-0.016235116869211,-0.108164668083191,0.069081149995327,-0.059866141527891,-0.057263296097517,-0.049963705241680,-0.062160212546587,0.079887308180332,-0.311539143323898,0.053001176565886,-0.097442306578159,0.112047336995602));
res += mul(Get(s3,dx,dy), float4x4(-0.023846505209804,-0.070705354213715,0.121733278036118,0.075581751763821,-0.155525237321854,-0.115595407783985,0.144837543368340,0.019965425133705,0.101300016045570,-0.026985008269548,-0.095200367271900,0.040070567280054,-0.226714819669724,-0.039947316050529,-0.169280156493187,0.173197463154793));
return max(float4(0,0,0,0), res);
}
