sampler s0 : register(s0);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(x, y)   tex2D(s0, tex + float2(x, y))[0]

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += float4(-0.598277747631073,-0.201122447848320,0.579552710056305,-0.128391012549400) * Get(-dx,-dy);
res += float4(0.065813824534416,0.045138247311115,0.575022578239441,-0.079910762608051) * Get(-dx,0);
res += float4(-0.286791324615479,-0.406101435422897,1.283525586128235,-0.111839838325977) * Get(-dx,dy);
res += float4(-0.042524881660938,-0.398388564586639,-0.684805989265442,-0.103376813232899) * Get(0,-dy);
res += float4(2.282908678054810,0.120524227619171,-0.696258842945099,-0.025671584531665) * Get(0,0);
res += float4(-0.532856047153473,-0.728001952171326,0.448583394289017,-0.063866093754768) * Get(0,dy);
res += float4(-0.184088572859764,0.422690510749817,-1.038611173629761,0.000415896298364) * Get(dx,-dy);
res += float4(-0.745249509811401,1.267102241516113,-0.854299843311310,0.055585626512766) * Get(dx,0);
res += float4(0.167791396379471,-0.136477291584015,0.363465040922165,-0.089057065546513) * Get(dx,dy);
return max(float4(0,0,0,0), res);
}
