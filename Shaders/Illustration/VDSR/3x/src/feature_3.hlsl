sampler s0 : register(s0);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(x, y)   tex2D(s0, tex + float2(x, y))[0]

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += float4(-0.027980128303170,-0.000764141266700,-0.033303566277027,-0.111492425203323) * Get(-dx,-dy);
res += float4(0.020199457183480,-0.071516044437885,0.118977680802345,-0.026859253644943) * Get(-dx,0);
res += float4(-0.199252560734749,-0.004538486246020,-0.003666297765449,-0.022145381197333) * Get(-dx,dy);
res += float4(-0.006184759084135,-0.083980530500412,-0.171268031001091,-0.062425646930933) * Get(0,-dy);
res += float4(0.230771645903587,0.000852848868817,0.181166723370552,0.191484212875366) * Get(0,0);
res += float4(0.166499450802803,-0.037113197147846,-0.011933032423258,-0.107390142977238) * Get(0,dy);
res += float4(-0.183732733130455,-0.041015386581421,0.039531547576189,-0.055926792323589) * Get(dx,-dy);
res += float4(0.140815436840057,0.243997663259506,0.049405381083488,-0.082245655357838) * Get(dx,0);
res += float4(-0.098573587834835,0.035023041069508,-0.113503627479076,-0.137615084648132) * Get(dx,dy);
return max(float4(0,0,0,0), res);
}
