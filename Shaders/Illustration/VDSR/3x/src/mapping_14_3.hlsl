sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.003059709211811,-0.051374297589064,-0.020293086767197,-0.118162587285042,0.037062838673592,0.061611104756594,0.195161640644073,0.273184865713120,0.008034745231271,0.037188302725554,-0.104777887463570,0.138320550322533,-0.109482824802399,-0.020867466926575,-0.222552716732025,0.119266301393509));
res += mul(Get(s0,-dx,0), float4x4(0.117487318813801,-0.035357765853405,-0.009073211811483,-0.077975459396839,0.048992518335581,-0.027912357822061,0.189296454191208,-0.105459153652191,0.029295433312654,0.053529731929302,-0.150663241744041,-0.047389138489962,-0.102862447500229,-0.048912439495325,-0.181871742010117,0.086154289543629));
res += mul(Get(s0,-dx,dy), float4x4(0.002220859983936,0.049138233065605,-0.092573851346970,-0.181396782398224,0.062506772577763,0.031254261732101,0.023676227778196,-0.058609817177057,0.108814418315887,0.016781743615866,-0.135569512844086,0.111423037946224,-0.044005561619997,-0.011598908342421,-0.234372571110725,0.013035761192441));
res += mul(Get(s0,0,-dy), float4x4(-0.124024182558060,-0.014661243185401,0.076204858720303,-0.004739092197269,-0.083147928118706,0.036346018314362,0.076127998530865,0.192096859216690,0.055234845727682,-0.017626000568271,-0.070447601377964,-0.146443068981171,-0.013165009208024,-0.022978765890002,-0.119075164198875,0.076496914029121));
res += mul(Get(s0,0,0), float4x4(0.119408138096333,0.196375578641891,0.113343171775341,0.158269822597504,-0.146462678909302,-0.073261499404907,-0.083751983940601,0.169112026691437,0.009924732148647,0.009218457154930,-0.052774015814066,-0.140099987387657,-0.029183421283960,-0.070256523787975,-0.001140529522672,0.099811598658562));
res += mul(Get(s0,0,dy), float4x4(-0.008998391218483,0.086632438004017,-0.031984999775887,-0.015490337274969,-0.074357166886330,-0.036031812429428,-0.045696947723627,-0.170805290341377,0.082780405879021,0.045619808137417,0.059045549482107,0.032724235206842,-0.041220404207706,-0.050550363957882,0.001054721884429,0.281708568334579));
res += mul(Get(s0,dx,-dy), float4x4(-0.031795084476471,-0.158309638500214,-0.015648366883397,-0.065097481012344,0.036591719835997,-0.095789819955826,0.160052657127380,-0.073211066424847,0.051264762878418,-0.030653718858957,-0.088538393378258,-0.127350807189941,-0.029272250831127,-0.112756326794624,0.057638444006443,-0.026113862171769));
res += mul(Get(s0,dx,0), float4x4(0.074551321566105,0.000296222657198,0.209786385297775,0.054170489311218,0.034012876451015,0.174593538045883,-0.054690964519978,0.029601950198412,0.028937187045813,-0.100485667586327,-0.102521367371082,-0.213860198855400,-0.026104353368282,-0.047350902110338,0.000444753794000,-0.134244486689568));
res += mul(Get(s0,dx,dy), float4x4(-0.077261038124561,-0.037631962448359,0.250119149684906,-0.127983957529068,0.056378122419119,0.034545123577118,-0.146067649126053,0.050941295921803,0.030768983066082,0.102763831615448,-0.000489256752189,-0.048648014664650,0.046995237469673,-0.045114882290363,0.000841528526507,0.032207790762186));
res += mul(Get(s1,-dx,-dy), float4x4(-0.106580279767513,-0.124844364821911,-0.089631527662277,0.058742765337229,-0.087296590209007,-0.170748829841614,-0.068282008171082,-0.036547221243382,-0.038160845637321,0.079209163784981,0.025363819673657,0.114373773336411,-0.108891569077969,-0.039816252887249,0.137814939022064,0.146011173725128));
res += mul(Get(s1,-dx,0), float4x4(-0.121755279600620,0.204660624265671,-0.073885224759579,0.213874250650406,0.059439927339554,-0.100423589348793,0.074888251721859,-0.015643874183297,-0.018774885684252,0.028735501691699,-0.075039573013783,-0.054731134325266,-0.068636432290077,-0.042443703860044,0.095018818974495,0.035306107252836));
res += mul(Get(s1,-dx,dy), float4x4(0.003839728888124,0.078746639192104,-0.082499295473099,0.232620015740395,-0.019946305081248,0.066284894943237,0.111300431191921,-0.026986425742507,-0.191730320453644,-0.065513797104359,-0.038455642759800,-0.191651448607445,-0.098521225154400,-0.029521541669965,0.062782607972622,0.191670492291451));
res += mul(Get(s1,0,-dy), float4x4(-0.114625051617622,-0.006269492208958,-0.179561421275139,-0.002303986111656,-0.114357173442841,-0.139525309205055,-0.103824578225613,0.144061207771301,0.002192532643676,0.028092356398702,0.110148869454861,0.107251025736332,-0.078679069876671,0.036186303943396,0.009937657043338,0.165421649813652));
res += mul(Get(s1,0,0), float4x4(0.091851174831390,-0.016913499683142,-0.230220332741737,0.025697812438011,0.049489554017782,-0.012110016308725,-0.114805147051811,0.146073073148727,0.063292518258095,-0.085293360054493,-0.243294149637222,-0.271242678165436,-0.181488692760468,0.001388343516737,-0.043366186320782,-0.056247204542160));
res += mul(Get(s1,0,dy), float4x4(-0.133783146739006,-0.148314923048019,0.036719184368849,0.140754446387291,0.140687182545662,-0.127145677804947,0.116269946098328,-0.030518274754286,0.068725556135178,-0.102578237652779,-0.133043035864830,-0.242429077625275,-0.146913528442383,0.070685058832169,0.024618869647384,0.014156369492412));
res += mul(Get(s1,dx,-dy), float4x4(-0.039744190871716,-0.036345094442368,-0.076722376048565,-0.085396870970726,-0.007201474625617,-0.069548211991787,-0.007471032440662,0.086896449327469,0.064384505152702,0.038937158882618,0.054894316941500,0.102195307612419,0.043870065361261,0.157722935080528,0.076188877224922,0.295076102018356));
res += mul(Get(s1,dx,0), float4x4(0.044162407517433,0.134339824318886,0.042895253747702,-0.158131018280983,0.135047808289528,-0.021658981218934,0.051836997270584,0.223394200205803,-0.015238805674016,-0.135968551039696,-0.034139838069677,-0.113571941852570,-0.068085223436356,-0.023432431742549,-0.091438055038452,0.095653399825096));
res += mul(Get(s1,dx,dy), float4x4(-0.108809985220432,-0.080500297248363,0.003241271944717,-0.107943758368492,-0.039325181394815,0.122126296162605,0.083217412233353,0.232542037963867,0.029360670596361,-0.084836095571518,-0.309951692819595,-0.089955948293209,-0.048532944172621,0.024735866114497,-0.059447512030602,-0.060370691120625));
res += mul(Get(s2,-dx,-dy), float4x4(-0.041615761816502,-0.047439262270927,0.076987259089947,-0.174246251583099,-0.016265008598566,-0.000869861629326,0.059694655239582,0.068647883832455,0.197753265500069,0.059791456907988,-0.053598906844854,0.172137200832367,-0.073350079357624,-0.023539202287793,0.011994467116892,0.389678359031677));
res += mul(Get(s2,-dx,0), float4x4(-0.035753186792135,-0.017151977866888,0.032743241637945,-0.092119537293911,-0.070591747760773,-0.025984076783061,-0.137459665536880,-0.182310014963150,0.148512497544289,0.046712670475245,-0.067062750458717,0.090333320200443,0.055110484361649,0.131438434123993,0.166804268956184,0.208640366792679));
res += mul(Get(s2,-dx,dy), float4x4(-0.017642010003328,0.005082875490189,0.100022725760937,-0.027346691116691,0.033861551433802,-0.083251707255840,0.011774920858443,-0.176583468914032,0.108521260321140,-0.048499610275030,0.043545138090849,-0.075426973402500,-0.009846800938249,0.039136227220297,0.065865658223629,0.056248251348734));
res += mul(Get(s2,0,-dy), float4x4(-0.094619870185852,-0.023207835853100,0.057035427540541,0.249692291021347,-0.030672131106257,-0.053974051028490,-0.185886844992638,0.134115204215050,0.141721904277802,0.071941629052162,0.011507542803884,0.071500517427921,0.038917351514101,0.094776026904583,0.001194909564219,0.105697892606258));
res += mul(Get(s2,0,0), float4x4(-0.076756671071053,-0.000122659927001,0.028570061549544,-0.113921806216240,-0.120206154882908,-0.195297151803970,-0.130281060934067,-0.163821712136269,-0.004738734569401,0.087899796664715,-0.069815851747990,0.173595085740089,0.099787108600140,0.122733674943447,0.004952721763402,0.146075665950775));
res += mul(Get(s2,0,dy), float4x4(-0.057298652827740,-0.103681229054928,0.027814187109470,-0.040826965123415,-0.033425565809011,-0.122173115611076,0.007776543032378,0.090244382619858,-0.067121244966984,-0.007082033436745,-0.090951032936573,-0.010116999968886,-0.020215298980474,0.013905736617744,0.069849960505962,0.048510584980249));
res += mul(Get(s2,dx,-dy), float4x4(-0.185830697417259,-0.071569584310055,-0.016110910102725,0.246897250413895,-0.025429772213101,-0.134356811642647,-0.004720371216536,0.014380649663508,0.072788335382938,0.128657519817352,0.079426892101765,0.010673915967345,0.013281501829624,0.028706317767501,-0.091676093637943,-0.009875368326902));
res += mul(Get(s2,dx,0), float4x4(-0.140897691249847,-0.119209706783295,-0.056073855608702,0.376054823398590,-0.133942469954491,-0.108468182384968,-0.083855964243412,0.296988964080811,-0.061023481190205,0.064250916242599,-0.118224568665028,-0.110823534429073,0.089886620640755,0.062624379992485,0.081482969224453,0.086509317159653));
res += mul(Get(s2,dx,dy), float4x4(-0.012288177385926,-0.061332907527685,0.008067335933447,0.130633860826492,0.051943052560091,0.184468448162079,-0.119953460991383,0.280588060617447,-0.017214579507709,0.109410263597965,-0.185239464044571,-0.023459604009986,0.022415906190872,0.133579194545746,0.116219207644463,0.143135562539101));
res += mul(Get(s3,-dx,-dy), float4x4(0.024225695058703,-0.032468214631081,-0.073911271989346,-0.018735388293862,0.124655671417713,-0.023123607039452,-0.067343316972256,-0.012852257117629,-0.089176766574383,-0.133703097701073,-0.090517684817314,0.007538343314081,0.215865179896355,-0.007095281034708,0.072062894701958,0.295358806848526));
res += mul(Get(s3,-dx,0), float4x4(0.025530904531479,0.020504551008344,0.030517382547259,0.051087595522404,0.051479954272509,-0.021130669862032,-0.055406950414181,-0.297157496213913,0.016370408236980,-0.074092850089073,0.092624180018902,0.198969289660454,0.016366880387068,-0.095253117382526,0.058613739907742,-0.001349721569568));
res += mul(Get(s3,-dx,dy), float4x4(-0.054359812289476,0.034308716654778,-0.042779061943293,-0.190124034881592,0.138591170310974,0.036314029246569,-0.025510402396321,-0.151265859603882,-0.024558564648032,-0.006873209960759,0.163470044732094,0.012238578870893,-0.100645765662193,-0.089135326445103,-0.130868971347809,-0.206739485263824));
res += mul(Get(s3,0,-dy), float4x4(0.010058147832751,-0.092332035303116,-0.074640266597271,0.226684764027596,0.074649691581726,-0.075043648481369,-0.039092265069485,-0.022044952958822,-0.037700589746237,-0.138695359230042,-0.126488521695137,0.279802560806274,0.177377209067345,0.007757782470435,0.037625230848789,0.389269024133682));
res += mul(Get(s3,0,0), float4x4(0.081660255789757,0.114992514252663,-0.019817287102342,0.228126510977745,-0.020649554207921,-0.144924700260162,-0.104599379003048,-0.213549122214317,0.087892793118954,-0.051880370825529,-0.109697937965393,0.050458882004023,-0.081327006220818,-0.102857030928135,-0.158402487635612,-0.188886180520058));
res += mul(Get(s3,0,dy), float4x4(-0.060659367591143,0.031706504523754,-0.083143837749958,-0.015054390765727,0.203008145093918,0.070386916399002,-0.048552230000496,-0.095089897513390,-0.043628297746181,0.134476393461227,-0.085966542363167,-0.027281045913696,-0.055301319807768,-0.111048221588135,0.014912066981196,-0.141570508480072));
res += mul(Get(s3,dx,-dy), float4x4(0.160775944590569,0.108755789697170,-0.118307419121265,0.275344252586365,0.013279596343637,-0.004988300614059,-0.145072147250175,0.200418964028358,0.112849391996861,0.013275590725243,0.051433410495520,0.152147889137268,0.255052506923676,-0.047339376062155,0.067052319645882,0.252430319786072));
res += mul(Get(s3,dx,0), float4x4(0.082458965480328,0.140723854303360,-0.113293491303921,0.195004165172577,-0.062716148793697,-0.111509799957275,-0.185326457023621,0.086847037076950,0.059759918600321,0.084724947810173,0.014923043549061,0.167646512389183,-0.026900339871645,-0.039869721978903,-0.065047465264797,0.279169708490372));
res += mul(Get(s3,dx,dy), float4x4(-0.180284470319748,-0.030297867953777,-0.133954674005508,-0.049362439662218,-0.027127942070365,0.043782796710730,-0.047626793384552,0.115553304553032,0.068836785852909,0.089447647333145,-0.043194256722927,0.120472863316536,0.021174119785428,-0.072175711393356,0.010682978667319,0.116096988320351));
return max(float4(0,0,0,0), res);
}
