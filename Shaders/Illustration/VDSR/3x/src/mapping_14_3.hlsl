sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.106761492788792,0.063938498497009,-0.215707555413246,0.026849782094359,0.143835768103600,0.128677725791931,-0.063288271427155,-0.145792946219444,0.113907240331173,0.000743189593777,-0.084893986582756,-0.116179831326008,0.212454691529274,0.016630468890071,0.004857725463808,0.013870009221137));
res += mul(Get(s0,-dx,0), float4x4(-0.012133793905377,0.155572637915611,-0.104161702096462,-0.163947433233261,0.176428243517876,-0.158913522958755,-0.002459014765918,-0.012361248023808,-0.025814294815063,0.149620667099953,0.067259967327118,0.063407868146896,0.150009095668793,0.118458800017834,0.078017912805080,-0.133772134780884));
res += mul(Get(s0,-dx,dy), float4x4(-0.139194622635841,-0.012028542347252,-0.012007377110422,0.041890118271112,-0.021179985255003,0.000914619653486,0.110408276319504,-0.076644867658615,0.135599106550217,-0.096243202686310,0.006568148266524,0.153254345059395,0.029392719268799,-0.034724727272987,-0.073352344334126,-0.154313772916794));
res += mul(Get(s0,0,-dy), float4x4(-0.117197588086128,-0.073026902973652,0.202763259410858,0.040533438324928,0.234555780887604,0.091571621596813,-0.036174606531858,-0.134611248970032,-0.339796423912048,0.295160472393036,0.089744217693806,0.011837519705296,0.227555200457573,0.090292990207672,-0.055946368724108,-0.075665362179279));
res += mul(Get(s0,0,0), float4x4(0.156039431691170,0.067934125661850,0.081151187419891,-0.006600877270103,0.149520665407181,0.021462569013238,-0.038119062781334,-0.077063962817192,0.005913949571550,0.085298232734203,0.092645913362503,0.197787791490555,0.006419085897505,0.056304261088371,-0.116712152957916,0.130122318863869));
res += mul(Get(s0,0,dy), float4x4(0.241395726799965,-0.138230070471764,-0.005436637438834,0.054489877074957,0.009793852455914,-0.004011383280158,-0.128073960542679,-0.030648449435830,-0.081063710153103,-0.011975165456533,-0.198398903012276,0.056897830218077,-0.065790675580502,0.003693793434650,0.034958891570568,0.117693394422531));
res += mul(Get(s0,dx,-dy), float4x4(0.025612311437726,-0.039893209934235,0.016780721023679,-0.010360873304307,-0.003428110387176,0.011621985584497,-0.111826121807098,-0.077567227184772,0.135539263486862,0.037180408835411,-0.090734183788300,-0.002299534389749,0.228494465351105,0.037799187004566,-0.089937418699265,0.116397865116596));
res += mul(Get(s0,dx,0), float4x4(0.122143916785717,0.224821433424950,-0.042487435042858,0.017794307321310,0.131090670824051,0.054560080170631,0.025331929326057,0.006599675398320,-0.008443937636912,-0.020648920908570,0.095052018761635,0.017647214233875,-0.057607371360064,0.076134517788887,0.134026914834976,0.116118952631950));
res += mul(Get(s0,dx,dy), float4x4(-0.003703447757289,-0.115795351564884,-0.143003687262535,-0.008278587833047,0.064752779901028,-0.014402474276721,-0.082090698182583,-0.099381335079670,0.045791480690241,0.044725839048624,-0.245415493845940,0.059264607727528,0.103540942072868,-0.045986078679562,-0.061636917293072,0.138341486454010));
res += mul(Get(s1,-dx,-dy), float4x4(0.086712174117565,-0.077755838632584,-0.014838859438896,0.080028608441353,-0.010612866841257,-0.165962710976601,0.081275805830956,-0.008688625879586,-0.140501081943512,0.046570960432291,-0.083079114556313,0.074185758829117,-0.291998952627182,-0.083453319966793,-0.038374587893486,-0.117894768714905));
res += mul(Get(s1,-dx,0), float4x4(0.096444241702557,0.067830406129360,0.141767919063568,-0.136666789650917,0.189998909831047,-0.060069903731346,0.073879241943359,-0.033654898405075,-0.199774503707886,-0.073128372430801,0.112863361835480,-0.147844150662422,0.113301716744900,0.026436081156135,0.128864049911499,0.120451316237450));
res += mul(Get(s1,-dx,dy), float4x4(0.035598333925009,-0.121779747307301,0.021345911547542,-0.043766405433416,-0.063223235309124,-0.003145602298900,0.269042521715164,0.070696361362934,-0.096067182719707,0.128240242600441,0.107272528111935,-0.133138850331306,0.113522306084633,0.008850235491991,0.051321476697922,0.054552339017391));
res += mul(Get(s1,0,-dy), float4x4(-0.060914888978004,-0.026724046096206,-0.005864100530744,-0.017906052991748,-0.030110137537122,0.060728169977665,0.177812710404396,-0.011090875603259,-0.291022837162018,0.083074465394020,0.216884106397629,0.242696925997734,-0.082814209163189,0.085273258388042,-0.022903421893716,-0.030925676226616));
res += mul(Get(s1,0,0), float4x4(-0.179722458124161,-0.021833840757608,0.068182386457920,-0.062747076153755,0.151563957333565,0.084801353514194,-0.066609174013138,0.044839460402727,-0.075307413935661,0.140191540122032,0.195341974496841,0.043008219450712,-0.089968197047710,-0.055419962853193,0.206191569566727,-0.041269954293966));
res += mul(Get(s1,0,dy), float4x4(0.005455073900521,-0.034413672983646,-0.118269547820091,0.277424246072769,-0.257051497697830,-0.025071300566196,0.162300124764442,-0.001192784984596,0.062635950744152,-0.034961428493261,0.112382076680660,-0.027547376230359,0.065563306212425,-0.160888776183128,-0.159946843981743,-0.007774092257023));
res += mul(Get(s1,dx,-dy), float4x4(-0.055959079414606,0.072771064937115,0.061546385288239,-0.283555775880814,0.190736338496208,0.084392778575420,0.100020445883274,-0.202339455485344,0.161889493465424,0.009528134949505,0.001464148052037,0.041538402438164,-0.073325969278812,0.005459724459797,0.086212530732155,-0.072151683270931));
res += mul(Get(s1,dx,0), float4x4(0.012895694002509,0.086862981319427,0.146275535225868,0.031184293329716,0.274972349405289,-0.030777370557189,0.017372177913785,-0.054389160126448,-0.050062980502844,0.107456728816032,0.146320655941963,0.044406872242689,0.013172374106944,0.221652358770370,-0.003052317770198,-0.094340018928051));
res += mul(Get(s1,dx,dy), float4x4(0.008098122663796,0.045889429748058,0.105131186544895,0.008996339514852,-0.093480281531811,-0.102297790348530,0.247747540473938,0.020999029278755,0.084093362092972,-0.019869184121490,-0.165065646171570,-0.057921539992094,0.058398731052876,-0.028949636965990,-0.084654264152050,0.168440118432045));
res += mul(Get(s2,-dx,-dy), float4x4(0.106332540512085,0.190485104918480,-0.128902077674866,0.081308975815773,-0.091863594949245,0.092979341745377,-0.175113707780838,0.090445332229137,0.210081398487091,0.050756026059389,0.088824793696404,-0.092364713549614,-0.100801147520542,0.127095013856888,-0.043001703917980,-0.018668996170163));
res += mul(Get(s2,-dx,0), float4x4(0.005043097771704,0.169011220335960,0.147301048040390,-0.120356991887093,0.052841104567051,-0.025787556543946,-0.030162042006850,0.094535931944847,0.079924926161766,-0.066793963313103,0.014392325654626,0.038140609860420,0.169153198599815,-0.208829551935196,0.042212385684252,-0.114031665027142));
res += mul(Get(s2,-dx,dy), float4x4(0.147454813122749,-0.025241000577807,-0.068023972213268,0.144372537732124,0.088771663606167,-0.079381309449673,0.016076128929853,0.067851237952709,-0.013823848217726,0.075581096112728,-0.149449855089188,0.026027247309685,-0.114454321563244,0.050416752696037,-0.199704900383949,0.002804762218148));
res += mul(Get(s2,0,-dy), float4x4(0.028564713895321,0.167064383625984,-0.090568549931049,0.064447894692421,-0.113550864160061,0.197395026683807,-0.091139592230320,-0.111052274703979,0.116239689290524,0.104710824787617,0.027259418740869,-0.060645494610071,0.267166107892990,-0.193037316203117,-0.002777572488412,-0.088142938911915));
res += mul(Get(s2,0,0), float4x4(-0.034275177866220,0.031011000275612,0.064737051725388,0.076517835259438,0.111110791563988,-0.127282857894897,-0.142640992999077,-0.002519658068195,-0.073899112641811,0.075146935880184,-0.055791985243559,0.070522740483284,0.329537183046341,-0.107311315834522,-0.029357723891735,0.070872008800507));
res += mul(Get(s2,0,dy), float4x4(0.048601716756821,-0.025991920381784,0.015388497151434,-0.122575320303440,0.102594494819641,-0.054622329771519,-0.034881196916103,-0.064019776880741,-0.061450403183699,0.176333889365196,0.146803051233292,-0.140137538313866,0.161138907074928,0.024890508502722,0.090209625661373,-0.046398721635342));
res += mul(Get(s2,dx,-dy), float4x4(-0.218819931149483,0.142225250601768,0.008066699840128,0.214300230145454,-0.097213461995125,0.002962747821584,-0.036092687398195,-0.060627698898315,-0.231251850724220,-0.069619029760361,-0.024647584185004,-0.059234861284494,-0.190715476870537,0.123786389827728,-0.148256242275238,-0.143982753157616));
res += mul(Get(s2,dx,0), float4x4(-0.026003729552031,0.103495508432388,0.116268932819366,0.050251640379429,0.257051408290863,0.074054464697838,0.037280827760696,-0.001207845285535,-0.225189805030823,-0.022658197209239,-0.149109616875648,-0.210587501525879,0.243792250752449,-0.103230834007263,-0.126577049493790,0.086811363697052));
res += mul(Get(s2,dx,dy), float4x4(-0.019302174448967,0.199363887310028,-0.037488318979740,-0.212699979543686,0.113470353186131,0.117772564291954,-0.012716425582767,-0.114307075738907,-0.042332347482443,0.028486268594861,-0.074669308960438,-0.056950338184834,-0.033035472035408,0.043701652437449,-0.145540475845337,0.085212528705597));
res += mul(Get(s3,-dx,-dy), float4x4(-0.076010771095753,0.063297830522060,0.183128774166107,-0.040228169411421,-0.032476820051670,0.050439931452274,0.088665373623371,0.136407762765884,0.097927160561085,-0.030446115881205,-0.084557563066483,-0.152611732482910,-0.077065616846085,-0.147470831871033,-0.052076477557421,-0.113520056009293));
res += mul(Get(s3,-dx,0), float4x4(0.165249004960060,-0.049264881759882,0.121680460870266,0.084222353994846,-0.050155438482761,-0.088789165019989,0.144612535834312,0.165218666195869,0.041593793779612,0.079183906316757,0.043536178767681,0.015602039173245,-0.019806783646345,-0.002232811413705,0.002055835677311,0.045374732464552));
res += mul(Get(s3,-dx,dy), float4x4(0.036813125014305,0.087425388395786,-0.033671576529741,0.072005331516266,-0.239930823445320,-0.174308106303215,0.009209154173732,0.013253727927804,-0.036777365952730,-0.203136414289474,-0.012701153755188,-0.128653600811958,0.023630781099200,0.024905065074563,-0.137606054544449,-0.171003997325897));
res += mul(Get(s3,0,-dy), float4x4(-0.176890477538109,0.121865034103394,-0.105563849210739,0.076249450445175,0.070580944418907,0.171846762299538,-0.053968463093042,0.033540815114975,0.093555569648743,0.007746737916023,-0.014166720211506,-0.074008211493492,-0.071255065500736,-0.385087072849274,-0.228064119815826,0.130583837628365));
res += mul(Get(s3,0,0), float4x4(0.221332579851151,-0.040097370743752,-0.110517375171185,0.043224472552538,-0.204807966947556,-0.011470869183540,0.096118129789829,0.185068383812904,-0.084330804646015,0.115590840578079,-0.108131349086761,0.059158347547054,0.156358316540718,0.062852948904037,-0.142959788441658,0.057620450854301));
res += mul(Get(s3,0,dy), float4x4(-0.050003036856651,-0.076648913323879,-0.055358942598104,-0.198676943778992,-0.027901455760002,0.037787612527609,0.170277848839760,0.068303465843201,-0.092807613313198,0.126788109540939,-0.063100755214691,-0.010429800488055,0.020337942987680,0.105115227401257,-0.097860984504223,-0.124520070850849));
res += mul(Get(s3,dx,-dy), float4x4(0.167139470577240,-0.216088026762009,-0.310972958803177,-0.000245423289016,0.066418193280697,0.177633762359619,0.091513164341450,-0.067689135670662,0.046777322888374,-0.069868288934231,-0.205858513712883,-0.129677399992943,0.128669396042824,-0.129256606101990,0.030804418027401,0.006673428695649));
res += mul(Get(s3,dx,0), float4x4(0.162324711680412,-0.035510845482349,0.017853355035186,0.083134278655052,0.090616844594479,-0.105963066220284,0.184887364506721,-0.003185568377376,0.044092394411564,-0.015486532822251,-0.013269195333123,-0.007522530388087,-0.092280372977257,-0.254267096519470,0.092467837035656,-0.090025477111340));
res += mul(Get(s3,dx,dy), float4x4(-0.027312560006976,-0.087832875549793,-0.134986057877541,0.043717887252569,0.100989215075970,0.010080927051604,-0.010761890560389,0.002031435025856,-0.108362257480621,0.069299332797527,0.036719229072332,-0.049104593694210,-0.116027586162090,-0.031690388917923,-0.050681486725807,-0.034975901246071));
return max(float4(0,0,0,0), res);
}
