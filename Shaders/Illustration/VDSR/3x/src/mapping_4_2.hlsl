sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.174437478184700,-0.089403979480267,-0.236633762717247,0.000910027010832,-0.115538872778416,-0.190652996301651,0.083881191909313,-0.105204157531261,-0.013741205446422,-0.071650005877018,0.018656559288502,-0.129521474242210,-0.101622864603996,-0.077227592468262,-0.086787432432175,0.174703910946846));
res += mul(Get(s0,-dx,0), float4x4(-0.128449663519859,0.246827140450478,-0.254591763019562,0.155269354581833,-0.094513632357121,-0.131867632269859,0.198921978473663,-0.087046362459660,-0.028480276465416,0.070661142468452,-0.022644542157650,-0.036188922822475,-0.047835461795330,-0.100217714905739,0.047537837177515,0.020958585664630));
res += mul(Get(s0,-dx,dy), float4x4(-0.138582780957222,-0.242472156882286,-0.104544676840305,0.135256186127663,-0.020403971895576,0.105645515024662,0.043715421110392,0.159190580248833,0.023801313713193,0.071058630943298,-0.115666583180428,0.096864804625511,-0.090529181063175,-0.092417307198048,-0.168654635548592,0.116193898022175));
res += mul(Get(s0,0,-dy), float4x4(-0.106166005134583,-0.119354724884033,-0.066535614430904,0.049398597329855,-0.183364570140839,-0.096105851233006,0.046224035322666,0.189733400940895,-0.010027986019850,0.001993975834921,-0.097805544734001,-0.133458837866783,-0.028393018990755,-0.028120230883360,0.022319544106722,-0.072904400527477));
res += mul(Get(s0,0,0), float4x4(0.010082392953336,0.094398908317089,-0.100406609475613,0.124181360006332,-0.079168528318405,-0.041261490434408,0.089598849415779,0.006639786530286,0.093804374337196,0.060389321297407,-0.074181295931339,0.144261136651039,0.141143098473549,-0.035330638289452,0.035127956420183,0.096843317151070));
res += mul(Get(s0,0,dy), float4x4(0.037386558949947,0.083240352571011,-0.060947950929403,-0.054341427981853,-0.043057288974524,0.105014957487583,-0.056900855153799,0.075769141316414,-0.053349167108536,0.294708967208862,-0.145586088299751,0.006402663886547,0.107342831790447,-0.054650913923979,-0.173030942678452,-0.052338089793921));
res += mul(Get(s0,dx,-dy), float4x4(0.171252667903900,-0.050445586442947,-0.125549048185349,0.288549989461899,0.028562165796757,0.031063525006175,0.051255986094475,0.063312493264675,0.079848855733871,0.322184115648270,-0.066377967596054,-0.208996281027794,-0.155211329460144,0.192918211221695,-0.231065005064011,-0.179696694016457));
res += mul(Get(s0,dx,0), float4x4(-0.003281470853835,0.157425314188004,-0.132494911551476,-0.035173479467630,0.024867275729775,0.031289968639612,-0.000658600591123,-0.079681381583214,-0.071377240121365,0.257192075252533,-0.153944864869118,0.274872988462448,0.042303849011660,0.165769040584564,-0.061592508107424,-0.063664913177490));
res += mul(Get(s0,dx,dy), float4x4(0.051104329526424,-0.012107432819903,-0.100984275341034,-0.118225373327732,-0.016838196665049,-0.048405271023512,0.094047389924526,0.033546835184097,-0.158614739775658,0.033091180026531,-0.152539193630219,-0.203276634216309,-0.089262850582600,-0.015895836055279,-0.211167216300964,0.131172582507133));
res += mul(Get(s1,-dx,-dy), float4x4(0.023161614313722,-0.181769400835037,-0.020741948857903,0.024195840582252,-0.044744975864887,0.008636533282697,-0.043487809598446,0.057988047599792,-0.170720666646957,0.117423884570599,-0.110324166715145,0.000208006065805,-0.107918426394463,-0.086923688650131,0.054026871919632,-0.238449096679688));
res += mul(Get(s1,-dx,0), float4x4(-0.003163064597175,0.218860849738121,-0.094086103141308,-0.019229259341955,-0.145139276981354,-0.030489889904857,0.386356562376022,-0.070448443293571,-0.164461448788643,-0.052530273795128,-0.082505837082863,-0.128362953662872,-0.353156328201294,-0.066672921180725,0.057420469820499,-0.114226363599300));
res += mul(Get(s1,-dx,dy), float4x4(-0.232630774378777,0.132144957780838,0.096849530935287,-0.194374024868011,0.012098014354706,-0.071237400174141,-0.000347211956978,-0.160519823431969,-0.111869543790817,0.124557495117188,0.025580648332834,-0.048320055007935,-0.086683608591557,-0.159127652645111,-0.139045909047127,-0.162961080670357));
res += mul(Get(s1,0,-dy), float4x4(0.051272708922625,-0.009089659899473,0.061306439340115,0.091121494770050,-0.224900141358376,-0.059705924242735,-0.031258460134268,0.247215598821640,0.106727063655853,-0.086918026208878,0.061388872563839,0.151016101241112,0.373884052038193,-0.231319025158882,-0.229441761970520,-0.168245077133179));
res += mul(Get(s1,0,0), float4x4(0.186216160655022,0.020378384739161,-0.111393973231316,-0.171458780765533,-0.276682764291763,-0.003281364915892,-0.113626159727573,-0.017610872164369,-0.138207271695137,-0.006883318535984,0.011023499071598,-0.157525375485420,0.313650041818619,-0.166552394628525,0.127087637782097,-0.066757939755917));
res += mul(Get(s1,0,dy), float4x4(-0.027790656313300,-0.194975838065147,0.211175680160522,-0.278110027313232,0.225981414318085,0.179396733641624,-0.007079775445163,-0.023336557671428,-0.106291137635708,-0.153160691261292,0.055270608514547,-0.099314130842686,0.107172012329102,-0.204358473420143,0.232198536396027,-0.148815602064133));
res += mul(Get(s1,dx,-dy), float4x4(0.036354161798954,-0.021712219342589,0.173613846302032,-0.077795147895813,-0.000241703630309,0.163136139512062,0.107326120138168,-0.138882666826248,0.292107105255127,0.075949788093567,0.154598250985146,0.109860666096210,0.015379776246846,-0.256369441747665,-0.237762853503227,0.005192753393203));
res += mul(Get(s1,dx,0), float4x4(-0.022773860022426,-0.095170743763447,-0.149469941854477,-0.024005051702261,0.153686270117760,0.413914531469345,0.052885115146637,-0.110697261989117,0.211608111858368,0.103135958313942,-0.048306651413441,-0.077467039227486,0.070423282682896,-0.087270312011242,0.035461347550154,0.251600503921509));
res += mul(Get(s1,dx,dy), float4x4(-0.234226718544960,-0.166500762104988,0.134097546339035,-0.294716835021973,0.342064887285233,0.112129740417004,-0.138493046164513,0.064530171453953,-0.035546276718378,-0.019277533516288,0.086853243410587,0.054881084710360,-0.099368341267109,-0.275546371936798,0.253296941518784,0.007367293350399));
res += mul(Get(s2,-dx,-dy), float4x4(0.156071573495865,-0.018687514588237,-0.074918679893017,-0.096027620136738,-0.500407457351685,-0.167066603899002,-0.098505079746246,0.240801155567169,0.033598568290472,-0.051282923668623,-0.036414019763470,-0.093948103487492,-0.178217515349388,0.029185565188527,0.064747981727123,0.109156489372253));
res += mul(Get(s2,-dx,0), float4x4(0.047423169016838,-0.076152987778187,0.146053299307823,0.021847052499652,-0.422666132450104,-0.034066997468472,0.063958026468754,0.000687185325660,-0.016380079090595,0.075225688517094,0.295651882886887,0.025096327066422,-0.199574068188667,0.163658693432808,-0.107777334749699,0.016245821490884));
res += mul(Get(s2,-dx,dy), float4x4(0.172031402587891,-0.068929173052311,0.166561454534531,-0.069758452475071,-0.249623790383339,0.099617548286915,-0.127966970205307,-0.162423580884933,-0.176136270165443,0.137817293405533,0.109281189739704,-0.104657560586929,-0.028239563107491,-0.004667535889894,-0.073705732822418,0.270359575748444));
res += mul(Get(s2,0,-dy), float4x4(-0.026760205626488,-0.071888886392117,0.147961109876633,-0.128726989030838,-0.331300973892212,-0.060142736881971,-0.147856026887894,0.067279145121574,-0.116443417966366,-0.001059944741428,-0.278765231370926,-0.018990088254213,-0.194491863250732,-0.015473822131753,0.249928802251816,-0.113576546311378));
res += mul(Get(s2,0,0), float4x4(-0.079089872539043,-0.109687492251396,0.111227445304394,-0.066590398550034,-0.258439511060715,-0.124657668173313,0.102816149592400,-0.224770829081535,0.072671845555305,-0.124674707651138,-0.079341866075993,0.036662798374891,-0.102290824055672,0.087207056581974,-0.019392937421799,-0.033563859760761));
res += mul(Get(s2,0,dy), float4x4(-0.076677255332470,-0.177510261535645,0.179806098341942,-0.129591763019562,-0.151540026068687,-0.132692247629166,0.159810930490494,-0.132650569081306,0.023823332041502,0.023407360538840,-0.094882354140282,-0.184253528714180,0.110783897340298,0.004825358279049,0.045627515763044,0.062502540647984));
res += mul(Get(s2,dx,-dy), float4x4(0.079619042575359,-0.045471541583538,0.159799218177795,-0.209313407540321,-0.036303576081991,-0.102068051695824,0.026360446587205,0.423340231180191,-0.013243543915451,-0.177326664328575,-0.269278913736343,-0.030151519924402,-0.102665670216084,-0.060272011905909,-0.025213101878762,0.094927012920380));
res += mul(Get(s2,dx,0), float4x4(0.065913274884224,0.098809264600277,0.082364991307259,0.103571005165577,0.077990286052227,-0.038054995238781,0.251710772514343,0.125998899340630,0.167607545852661,-0.158616140484810,0.005591660272330,0.088573165237904,0.071461230516434,0.288790434598923,-0.171424210071564,-0.065782018005848));
res += mul(Get(s2,dx,dy), float4x4(0.096439525485039,0.131500691175461,-0.106077052652836,-0.101178720593452,-0.085760354995728,0.081702403724194,0.107299245893955,-0.016848361119628,-0.057053379714489,-0.084663912653923,-0.079383149743080,-0.180370375514030,-0.114055015146732,-0.039934951812029,-0.266242235898972,0.058232601732016));
res += mul(Get(s3,-dx,-dy), float4x4(0.015910789370537,-0.166061371564865,0.089506678283215,-0.195250049233437,0.075673699378967,0.007064565550536,-0.087382413446903,-0.086787641048431,-0.003774715121835,-0.159736424684525,-0.075769454240799,-0.082571342587471,-0.039958305656910,-0.175969332456589,0.019013199955225,0.164314523339272));
res += mul(Get(s3,-dx,0), float4x4(-0.106856696307659,-0.230975225567818,-0.078085057437420,0.164269819855690,0.121955998241901,-0.129544436931610,-0.037240527570248,-0.235160455107689,-0.168260559439659,-0.141396954655647,-0.119250692427158,-0.050441280007362,-0.409029901027679,-0.006707899272442,0.078728273510933,-0.030543265864253));
res += mul(Get(s3,-dx,dy), float4x4(-0.350460410118103,-0.284882813692093,-0.089183665812016,-0.053137671202421,-0.046556051820517,-0.280015885829926,-0.165417939424515,0.005063100717962,-0.038999751210213,-0.311402946710587,0.027391085401177,-0.088138736784458,-0.274981081485748,-0.085046887397766,0.058797519654036,-0.158323585987091));
res += mul(Get(s3,0,-dy), float4x4(0.121984273195267,-0.168577507138252,0.004687588661909,-0.088641628623009,-0.194388523697853,-0.082730472087860,0.026338346302509,0.052761022001505,0.208737120032310,-0.265920579433441,0.064871393144131,0.044350333511829,0.008074212819338,0.058343641459942,-0.030265683308244,0.307526409626007));
res += mul(Get(s3,0,0), float4x4(0.235539242625237,0.032816138118505,0.089433580636978,0.048336710780859,-0.062470428645611,0.052226394414902,-0.122732132673264,-0.053552761673927,-0.096385754644871,-0.013348542153835,0.030025681480765,-0.203061133623123,-0.111872464418411,0.053051680326462,0.017032042145729,-0.071956917643547));
res += mul(Get(s3,0,dy), float4x4(0.428627103567123,-0.066854402422905,0.039137009531260,-0.016796521842480,0.387231856584549,-0.155115544795990,0.061256591230631,-0.020583629608154,0.064999915659428,-0.069902457296848,-0.026620987802744,-0.176947996020317,-0.082421436905861,0.049419842660427,-0.152914643287659,-0.256686896085739));
res += mul(Get(s3,dx,-dy), float4x4(0.028532639145851,0.187608107924461,0.096254616975784,-0.009975192137063,-0.014652553945780,-0.123279877007008,0.170144945383072,0.103006869554520,0.264489710330963,0.160116225481033,0.194242134690285,-0.150849893689156,0.087911888957024,0.222206398844719,0.153315544128418,0.301214605569839));
res += mul(Get(s3,dx,0), float4x4(0.019735915586352,0.001897892449051,-0.184347182512283,0.139535680413246,-0.147410094738007,0.163314208388329,-0.104045279324055,-0.119271874427795,-0.048054762184620,0.099748656153679,0.113131240010262,0.016130102798343,-0.005429279524833,0.030956383794546,0.051507662981749,-0.108689442276955));
res += mul(Get(s3,dx,dy), float4x4(0.009035347029567,0.029965566471219,0.073628820478916,-0.007630434818566,-0.061141658574343,-0.171606272459030,0.036018285900354,0.145149603486061,0.191198766231537,-0.044486496597528,-0.198680371046066,-0.135258764028549,-0.058524928987026,-0.064383246004581,-0.090624757111073,-0.117514573037624));
return max(float4(0,0,0,0), res);
}
