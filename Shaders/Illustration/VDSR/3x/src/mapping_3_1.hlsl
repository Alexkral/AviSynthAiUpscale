sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.076989538967609,-0.126634806394577,0.072183549404144,-0.108642093837261,0.079166382551193,0.078501924872398,0.043958589434624,-0.126302853226662,-0.164259240031242,0.012185578234494,0.034935791045427,0.453424215316772,-0.021435977891088,0.476273864507675,0.107647843658924,-0.086458906531334));
res += mul(Get(s0,-dx,0), float4x4(0.146269738674164,-0.173901021480560,0.003659735899419,-0.149545013904572,0.260472863912582,0.162596061825752,0.193736478686333,-0.142994403839111,-0.065052784979343,-0.122029438614845,0.138487771153450,0.091500133275986,-0.177512452006340,0.027334371581674,0.024919649586082,0.007203744724393));
res += mul(Get(s0,-dx,dy), float4x4(-0.111849725246429,-0.099493399262428,0.067479334771633,-0.010848692618310,0.159205630421638,-0.011780654080212,0.138426542282104,-0.056000307202339,0.118546925485134,0.086761116981506,-0.048935767263174,-0.083997443318367,0.005263369530439,-0.141842290759087,-0.026970734819770,0.191467300057411));
res += mul(Get(s0,0,-dy), float4x4(0.027924625203013,-0.105750687420368,0.172478601336479,0.062219806015491,-0.084553696215153,-0.070502221584320,-0.103771358728409,0.035780332982540,0.052095193415880,0.081234313547611,0.254645615816116,-0.325210690498352,-0.225133240222931,-0.003230767324567,-0.099579490721226,-0.068041123449802));
res += mul(Get(s0,0,0), float4x4(-0.009173256345093,-0.064496554434299,0.018091838806868,0.077401697635651,-0.213878050446510,0.046231914311647,-0.119376435875893,-0.028192341327667,0.168609693646431,-0.206830143928528,-0.341636717319489,0.093238584697247,-0.230530947446823,-0.123091101646423,-0.123102128505707,-0.082082435488701));
res += mul(Get(s0,0,dy), float4x4(-0.096859186887741,0.082400918006897,-0.048377551138401,0.028028188273311,0.059942357242107,-0.105253271758556,-0.233032062649727,-0.046389441937208,-0.112166471779346,0.100672163069248,-0.204028233885765,0.126022726297379,-0.204244479537010,-0.192186549305916,-0.182481452822685,0.146859258413315));
res += mul(Get(s0,dx,-dy), float4x4(0.082148186862469,-0.080620236694813,-0.152908444404602,0.210649609565735,-0.050607711076736,-0.134750038385391,-0.033989023417234,0.078767880797386,0.267879158258438,-0.294397950172424,0.029912663623691,-0.215991199016571,-0.146258026361465,0.088949508965015,-0.017608828842640,-0.113915599882603));
res += mul(Get(s0,dx,0), float4x4(-0.000628985872027,-0.053018771111965,-0.022462571039796,0.104818239808083,-0.203001245856285,0.144971638917923,-0.136925294995308,0.098792910575867,-0.204904899001122,-0.261219650506973,-0.182810902595520,-0.099480308592319,0.229880318045616,0.052249424159527,0.236923441290855,-0.050210952758789));
res += mul(Get(s0,dx,dy), float4x4(-0.005556187592447,-0.016078338027000,-0.005974404513836,0.038651138544083,-0.009416344575584,0.143538132309914,-0.093804240226746,0.041542880237103,-0.058648984879255,0.178365424275398,-0.069467239081860,0.032839052379131,0.142300724983215,-0.035640623420477,0.097125872969627,-0.107201367616653));
res += mul(Get(s1,-dx,-dy), float4x4(-0.034579370170832,-0.216739997267723,-0.169691786170006,0.270832747220993,-0.053172569721937,-0.176040977239609,-0.140822917222977,0.028223460540175,0.147717595100403,0.223094761371613,0.011682345531881,0.002476091962308,0.016949135810137,-0.107418105006218,0.290523380041122,-0.147499144077301));
res += mul(Get(s1,-dx,0), float4x4(-0.119332849979401,-0.025264518335462,-0.088347814977169,0.329519271850586,-0.017447179183364,-0.030502308160067,-0.154857560992241,-0.248841047286987,-0.029055438935757,0.115148492157459,-0.035288538783789,-0.008559449575841,-0.119812548160553,-0.182001322507858,0.007057528942823,-0.101009741425514));
res += mul(Get(s1,-dx,dy), float4x4(0.170456722378731,0.247528672218323,0.048832733184099,-0.021806411445141,-0.106017202138901,-0.425474256277084,-0.092608645558357,-0.152486950159073,-0.056707143783569,-0.119553372263908,-0.018036013469100,-0.084842853248119,-0.184604376554489,-0.203356102108955,0.122404552996159,-0.005549217574298));
res += mul(Get(s1,0,-dy), float4x4(0.083184018731117,0.101281180977821,0.144134119153023,-0.013047889806330,-0.096251882612705,-0.140964522957802,-0.097034849226475,-0.151157811284065,-0.045539587736130,-0.096191279590130,-0.111505158245564,-0.081911854445934,-0.127425357699394,0.103071078658104,-0.029185324907303,-0.080568566918373));
res += mul(Get(s1,0,0), float4x4(-0.180548012256622,0.088950060307980,-0.088994115591049,-0.160945668816566,-0.126989930868149,0.302436709403992,-0.190698981285095,-0.180837407708168,-0.026864651590586,0.005467918701470,-0.073449045419693,-0.100515052676201,0.120481960475445,0.061372011899948,-0.141913220286369,-0.037328440696001));
res += mul(Get(s1,0,dy), float4x4(-0.086725629866123,0.055110562592745,-0.017738604918122,0.010642070323229,-0.161828249692917,-0.227930516004562,-0.142477855086327,-0.104270324110985,-0.074030198156834,-0.039623219519854,-0.076099328696728,-0.055647514760494,0.160381674766541,-0.092026934027672,-0.045599088072777,-0.050765544176102));
res += mul(Get(s1,dx,-dy), float4x4(0.350959450006485,-0.176037520170212,-0.183050617575645,-0.092320010066032,0.077962309122086,-0.157362118363380,-0.072714589536190,-0.066529519855976,-0.111349605023861,0.231452599167824,-0.064990669488907,-0.078653164207935,-0.074394747614861,-0.125135868787766,0.141311392188072,0.233219578862190));
res += mul(Get(s1,dx,0), float4x4(0.035564750432968,-0.120329521596432,-0.150129973888397,-0.179154396057129,0.053583659231663,-0.023670084774494,0.136495292186737,0.097646959125996,0.138103559613228,-0.006724223494530,-0.093879483640194,0.108163841068745,0.033826921135187,-0.068094044923782,-0.079760648310184,0.139961063861847));
res += mul(Get(s1,dx,dy), float4x4(-0.032676991075277,-0.030476402491331,-0.101381860673428,0.144304692745209,-0.159052222967148,-0.323127388954163,-0.048444490879774,-0.311774104833603,0.225042492151260,-0.228561162948608,-0.051959764212370,0.093625441193581,-0.274056673049927,-0.006742769386619,0.227032229304314,-0.074880629777908));
res += mul(Get(s2,-dx,-dy), float4x4(-0.043827071785927,-0.177220687270164,0.086740039288998,-0.056827668100595,-0.001713669509627,-0.019571695476770,0.147821381688118,-0.146727189421654,-0.041474651545286,-0.140636757016182,0.007391816005111,-0.022788461297750,-0.121976114809513,-0.039840374141932,-0.015605535358191,0.108636230230331));
res += mul(Get(s2,-dx,0), float4x4(0.052341070026159,-0.141760572791100,-0.300693243741989,-0.047542199492455,-0.070494629442692,0.074359223246574,-0.055163618177176,-0.054868288338184,0.211464092135429,-0.014267341233790,-0.013811951503158,-0.119048617780209,-0.062749482691288,0.012070908211172,0.246970385313034,-0.133995011448860));
res += mul(Get(s2,-dx,dy), float4x4(-0.009313400834799,0.082461863756180,-0.151365220546722,0.127524018287659,-0.082027435302734,0.044592931866646,-0.137058407068253,-0.042246486991644,0.205813780426979,0.082216717302799,0.022804951295257,-0.099599838256836,-0.178268805146217,-0.024056565016508,0.126314938068390,0.057483166456223));
res += mul(Get(s2,0,-dy), float4x4(-0.035755053162575,-0.043305344879627,0.084652937948704,-0.072504527866840,0.164130210876465,-0.001026753336191,0.209864079952240,-0.158519819378853,-0.070018306374550,-0.066200189292431,0.029164345934987,0.143312379717827,0.092836216092110,0.034579947590828,0.231514021754265,-0.175425276160240));
res += mul(Get(s2,0,0), float4x4(-0.187677428126335,-0.005896073766053,-0.072966970503330,-0.080846287310123,0.060482911765575,0.034672815352678,-0.062779158353806,-0.030804736539721,0.014292386360466,0.018281912431121,0.095540732145309,0.051143240183592,-0.014585990458727,0.081921271979809,-0.168773800134659,-0.077727012336254));
res += mul(Get(s2,0,dy), float4x4(0.017189718782902,0.089468687772751,-0.083254672586918,0.193350955843925,0.042206205427647,0.138049870729446,0.316318213939667,0.064435169100761,-0.154528319835663,0.065455809235573,0.139824435114861,0.077715530991554,-0.195978209376335,0.052593600004911,0.032819394022226,0.091659061610699));
res += mul(Get(s2,dx,-dy), float4x4(0.256283015012741,-0.057872269302607,-0.027201136574149,-0.001314485562034,0.069011509418488,-0.019846504554152,0.061168123036623,-0.049905709922314,0.166849151253700,0.067279249429703,-0.095367901027203,-0.114898353815079,0.132618233561516,-0.112756110727787,-0.083265386521816,-0.132462799549103));
res += mul(Get(s2,dx,0), float4x4(-0.102743305265903,-0.148776561021805,0.056564021855593,-0.062475420534611,-0.161725372076035,0.078811414539814,-0.260711342096329,-0.029615860432386,0.121349908411503,-0.036639705300331,-0.051749926060438,-0.007322170771658,-0.092311203479767,-0.017108110710979,-0.081679075956345,-0.070682987570763));
res += mul(Get(s2,dx,dy), float4x4(0.195445910096169,0.037782173603773,0.094406068325043,0.085941292345524,-0.009918037801981,0.103128649294376,0.127325862646103,-0.134824931621552,0.011573540978134,-0.031724460422993,-0.122235082089901,0.063391529023647,0.035261169075966,0.024883700534701,-0.044602468609810,0.058603465557098));
res += mul(Get(s3,-dx,-dy), float4x4(0.075480386614799,0.049160297960043,0.032309927046299,-0.071843229234219,-0.111008211970329,0.159257858991623,-0.039693024009466,0.008623123168945,0.061208851635456,0.060963153839111,0.201676145195961,-0.102751702070236,0.072014704346657,0.300332903862000,-0.286680549383163,-0.036192450672388));
res += mul(Get(s3,-dx,0), float4x4(-0.032303761690855,-0.126542299985886,0.028418753296137,-0.121942296624184,0.034715291112661,-0.025327755138278,0.046047605574131,-0.039917718619108,-0.138007834553719,-0.029441326856613,-0.027357263490558,-0.060292612761259,-0.060791809111834,0.025354830548167,-0.193864628672600,-0.094328999519348));
res += mul(Get(s3,-dx,dy), float4x4(-0.177059277892113,0.296774238348007,-0.195681259036064,0.136963680386543,-0.055317580699921,0.031813990324736,-0.075164720416069,0.048455800861120,-0.288781493902206,-0.089715778827667,-0.218987569212914,0.022972326725721,0.087793119251728,-0.025425877422094,-0.193832248449326,-0.084975950419903));
res += mul(Get(s3,0,-dy), float4x4(-0.069228656589985,-0.070101536810398,-0.031897265464067,-0.057967770844698,-0.025009036064148,0.051082488149405,0.070688873529434,0.017499392852187,0.057808343321085,-0.097369901835918,-0.070423200726509,-0.295695692300797,-0.013497217558324,0.010752182453871,-0.043966811150312,-0.035630613565445));
res += mul(Get(s3,0,0), float4x4(0.168462887406349,-0.239541083574295,0.088123098015785,-0.144642427563667,0.061096459627151,0.121462441980839,0.198826417326927,0.148966997861862,-0.053263138979673,-0.115413099527359,-0.090655066072941,-0.140487402677536,-0.051873631775379,0.091103509068489,-0.035526219755411,-0.125756278634071));
res += mul(Get(s3,0,dy), float4x4(-0.025761770084500,0.013662604615092,-0.024098444730043,0.071345567703247,0.116335928440094,0.300731956958771,0.242836833000183,0.027823526412249,-0.089043051004410,0.038778226822615,-0.140592515468597,0.007133373059332,0.123520202934742,-0.030980089679360,0.022375909611583,-0.173870101571083));
res += mul(Get(s3,dx,-dy), float4x4(0.081675946712494,-0.013450131751597,-0.179344341158867,-0.045232977718115,-0.083163194358349,-0.184229210019112,0.049737259745598,-0.086511425673962,-0.065896317362785,-0.290927648544312,-0.057547263801098,-0.156227394938469,0.030000057071447,-0.268649846315384,0.299369901418686,0.331318855285645));
res += mul(Get(s3,dx,0), float4x4(0.169564023613930,-0.069460988044739,0.195617333054543,-0.223130166530609,0.007556481752545,-0.107172109186649,0.089022770524025,0.039420742541552,-0.071195907890797,0.224007561802864,-0.131022125482559,-0.134476348757744,-0.007502715103328,-0.100791603326797,0.076892085373402,-0.093737743794918));
res += mul(Get(s3,dx,dy), float4x4(0.124560460448265,0.332516252994537,0.084891393780708,-0.133901402354240,0.035856898874044,-0.113801799714565,0.096624240279198,-0.019173797219992,-0.073225736618042,0.052688617259264,-0.058469150215387,-0.099648788571358,0.015558959916234,-0.308465600013733,-0.174104481935501,-0.220252588391304));
return max(float4(0,0,0,0), res);
}
