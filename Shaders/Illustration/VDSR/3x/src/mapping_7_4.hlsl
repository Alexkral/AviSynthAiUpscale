sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.022626942023635,0.033103831112385,0.078318551182747,0.083865188062191,0.029193237423897,0.139998629689217,0.116299413144588,0.119386911392212,-0.161070793867111,-0.122627526521683,-0.141745343804359,-0.085263766348362,0.045856464654207,-0.097972996532917,0.054414603859186,-0.052066512405872));
res += mul(Get(s0,-dx,0), float4x4(0.079844869673252,0.111417390406132,0.035669445991516,-0.044299568980932,-0.056629817932844,-0.029696729034185,0.077946968376637,-0.085321493446827,0.034470759332180,-0.061537485569715,0.195044636726379,-0.055796533823013,-0.075461350381374,-0.257034778594971,0.111905261874199,-0.362705856561661));
res += mul(Get(s0,-dx,dy), float4x4(0.034326720982790,0.103342823684216,-0.077781677246094,-0.199349179863930,-0.049293208867311,0.125615537166595,-0.011769973672926,-0.191456779837608,0.091622471809387,0.033172290772200,0.065048746764660,-0.042345855385065,0.040514376014471,0.056443225592375,-0.188828319311142,0.053349833935499));
res += mul(Get(s0,0,-dy), float4x4(0.065395176410675,-0.008459438569844,-0.120940692722797,0.027670085430145,-0.175208836793900,0.099802985787392,0.112052984535694,0.022789007052779,0.027427203953266,0.014243483543396,0.002933634910733,0.023048540577292,0.148443713784218,-0.187836095690727,-0.275078266859055,0.040841165930033));
res += mul(Get(s0,0,0), float4x4(0.307495266199112,-0.026863489300013,0.081386007368565,-0.048635438084602,0.169860824942589,0.231469944119453,0.062567450106144,-0.054315045475960,-0.012286094948649,-0.130813255906105,-0.185193225741386,-0.052491113543510,-0.154756903648376,-0.136523574590683,-0.099293515086174,0.003529001725838));
res += mul(Get(s0,0,dy), float4x4(0.053730450570583,0.143805310130119,-0.003657396649942,-0.205909699201584,0.042738843709230,-0.024221085011959,0.019123902544379,0.016302542760968,-0.176291510462761,-0.037239719182253,0.110343970358372,0.025790641084313,-0.066927358508110,0.061223801225424,0.013010802678764,-0.052605085074902));
res += mul(Get(s0,dx,-dy), float4x4(-0.043452419340611,-0.130434513092041,-0.033777724951506,-0.029370959848166,0.050919000059366,0.069991990923882,-0.008816492743790,0.177245631814003,0.083423174917698,-0.209616258740425,0.014314909465611,-0.064044162631035,0.036929063498974,-0.079590409994125,-0.122505068778992,0.105609312653542));
res += mul(Get(s0,dx,0), float4x4(0.017485884949565,-0.085282824933529,-0.091578744351864,0.119775138795376,0.117219462990761,0.080736421048641,-0.130526423454285,0.118157386779785,0.109322443604469,-0.075941324234009,0.107895918190479,0.039048433303833,-0.117255009710789,-0.103004008531570,-0.073369458317757,-0.031760841608047));
res += mul(Get(s0,dx,dy), float4x4(0.056724946945906,0.082502275705338,0.140377879142761,0.086125679314137,-0.081548236310482,0.231810957193375,-0.063065864145756,0.138020589947701,0.117131106555462,0.017413200810552,0.161306649446487,0.072507113218307,-0.089781761169434,-0.031827650964260,-0.095625303685665,0.029951108619571));
res += mul(Get(s1,-dx,-dy), float4x4(-0.079764917492867,-0.062358137220144,0.048012986779213,0.041033320128918,-0.026419432833791,-0.217684671282768,0.040701679885387,0.075829431414604,0.093283988535404,0.117743380367756,-0.251331359148026,0.059720858931541,0.011407590471208,0.003986596595496,-0.011617275886238,-0.019556753337383));
res += mul(Get(s1,-dx,0), float4x4(0.039801426231861,-0.112584106624126,-0.068905033171177,0.045948550105095,-0.015029666014016,-0.092886254191399,-0.008294072002172,-0.019356079399586,0.010957291349769,-0.035213179886341,0.113153316080570,-0.158018127083778,0.196757197380066,0.157515719532967,0.075026378035545,0.100776888430119));
res += mul(Get(s1,-dx,dy), float4x4(0.118074201047421,0.091848410665989,-0.044639535248280,-0.062613479793072,-0.100349143147469,-0.158699497580528,0.066132865846157,0.126650333404541,-0.036017436534166,0.151473000645638,0.192629531025887,-0.030731029808521,0.161459356546402,-0.096688255667686,0.048776015639305,-0.157638996839523));
res += mul(Get(s1,0,-dy), float4x4(-0.023021340370178,0.161026671528816,-0.008451832458377,0.024191530421376,-0.129196658730507,0.051134020090103,0.011300811544061,-0.047443028539419,-0.067204341292381,0.118885941803455,0.011533980257809,-0.017092814669013,-0.054386202245951,-0.118316963315010,-0.249674201011658,-0.007910785265267));
res += mul(Get(s1,0,0), float4x4(-0.002655392978340,-0.170842215418816,0.031071733683348,0.011566542088985,0.148476302623749,-0.047275774180889,0.193481519818306,-0.092550389468670,-0.036657664924860,-0.047409743070602,-0.039073832333088,-0.073694504797459,0.090891227126122,0.038466144353151,-0.018881712108850,-0.000611989060417));
res += mul(Get(s1,0,dy), float4x4(0.282207518815994,-0.158165290951729,-0.117463015019894,-0.020537683740258,-0.196670740842819,0.019765391945839,-0.070704631507397,-0.070088885724545,0.064207047224045,0.213232085108757,0.023496393114328,0.136023879051208,-0.078373655676842,0.056405916810036,-0.065005727112293,0.049742985516787));
res += mul(Get(s1,dx,-dy), float4x4(0.076524510979652,-0.023265512660146,-0.064706996083260,-0.144781470298767,-0.028166206553578,0.090669326484203,-0.033458162099123,0.129168689250946,-0.223320350050926,0.130434125661850,-0.134018361568451,0.032734081149101,-0.015453856438398,0.081885069608688,-0.039253268390894,0.047774173319340));
res += mul(Get(s1,dx,0), float4x4(-0.129322797060013,-0.216260731220245,-0.099388763308525,0.077748462557793,0.024156115949154,0.082470104098320,0.159495264291763,-0.084728077054024,0.043898791074753,0.036363437771797,0.047213420271873,0.091255769133568,0.171756714582443,0.065625816583633,-0.032497756183147,-0.118172712624073));
res += mul(Get(s1,dx,dy), float4x4(0.121578976511955,-0.053096968680620,-0.186374992132187,0.021054228767753,-0.164780259132385,-0.152206793427467,0.113389775156975,-0.065785728394985,-0.158790633082390,-0.032613899558783,-0.147298485040665,-0.074338816106319,-0.135078266263008,-0.102001085877419,-0.083745576441288,-0.174631297588348));
res += mul(Get(s2,-dx,-dy), float4x4(0.144330009818077,0.251060485839844,-0.051428396254778,-0.045655723661184,-0.059698257595301,-0.131338164210320,0.091328658163548,-0.098805435001850,-0.061673752963543,-0.059107009321451,-0.080797113478184,-0.103168942034245,-0.075392447412014,-0.083110101521015,-0.128469273447990,0.061636298894882));
res += mul(Get(s2,-dx,0), float4x4(0.125715136528015,0.089364938437939,-0.118328236043453,-0.109679713845253,-0.165371209383011,-0.058281868696213,0.108080901205540,0.038131859153509,-0.146744802594185,0.171317696571350,0.017648804932833,-0.241748750209808,0.222614794969559,-0.107849068939686,-0.011270274408162,-0.100395716726780));
res += mul(Get(s2,-dx,dy), float4x4(-0.101158261299133,0.037743959575891,-0.083115711808205,-0.106641724705696,0.035622715950012,-0.047317724674940,-0.005767452530563,0.034040685743093,-0.093613594770432,0.278576999902725,0.167102485895157,-0.052312381565571,-0.021614238619804,0.083872951567173,-0.050397574901581,-0.042402546852827));
res += mul(Get(s2,0,-dy), float4x4(0.062268029898405,0.018710417672992,0.016826996579766,0.069423973560333,0.034993000328541,0.168961569666862,0.133954957127571,0.023660751059651,-0.005833204835653,-0.179568231105804,-0.063775807619095,0.088275030255318,-0.220209077000618,0.124371111392975,0.116076074540615,0.065018586814404));
res += mul(Get(s2,0,0), float4x4(0.065436407923698,0.067071467638016,-0.098695203661919,0.009049456566572,-0.132871806621552,0.076763562858105,-0.241885155439377,0.146740317344666,-0.051776159554720,-0.046333461999893,0.027979897335172,0.241036042571068,-0.014441336505115,-0.136529028415680,0.029706867411733,0.156571149826050));
res += mul(Get(s2,0,dy), float4x4(0.093982644379139,0.102139182388783,-0.133651509881020,0.012573908083141,0.014137791469693,0.007765098009259,-0.047759369015694,-0.094717517495155,0.089568056166172,-0.145848646759987,0.065217182040215,0.132625818252563,-0.114938519895077,-0.077661953866482,-0.153067335486412,0.004787394776940));
res += mul(Get(s2,dx,-dy), float4x4(-0.049556750804186,0.035091523081064,-0.036350663751364,0.052692968398333,0.075783066451550,0.113958939909935,0.035520378500223,-0.012831253930926,0.016656139865518,-0.099345132708549,0.020888846367598,-0.190123468637466,-0.050901152193546,-0.073370888829231,0.042422186583281,0.005481471773237));
res += mul(Get(s2,dx,0), float4x4(0.045598354190588,-0.035622917115688,0.050092276185751,0.120638996362686,0.016846291720867,0.054726850241423,0.138810440897942,0.152583003044128,-0.014839922077954,-0.053553875535727,-0.001464885775931,0.025396171957254,0.072681069374084,-0.047695823013783,-0.005264418199658,0.103449121117592));
res += mul(Get(s2,dx,dy), float4x4(0.166459783911705,-0.058303013443947,0.110280603170395,0.183883041143417,0.070006839931011,-0.136824607849121,-0.022840781137347,0.047258976846933,-0.165533617138863,0.143078938126564,0.029968393966556,0.062658205628395,0.139387384057045,-0.026135854423046,0.025584716349840,0.105711959302425));
res += mul(Get(s3,-dx,-dy), float4x4(0.102457389235497,-0.012975719757378,-0.070441372692585,0.046101652085781,0.151050880551338,-0.212902456521988,-0.032577168196440,0.085405454039574,0.234744653105736,-0.067059122025967,-0.115702904760838,-0.169411480426788,0.084875516593456,-0.065096125006676,-0.279015362262726,0.109788477420807));
res += mul(Get(s3,-dx,0), float4x4(-0.242458701133728,0.002441184595227,-0.108392260968685,-0.072784595191479,-0.006226189900190,0.007730049546808,-0.138103976845741,-0.103157773613930,0.228025168180466,0.032026678323746,-0.119431614875793,0.084759183228016,0.008281912654638,-0.118131972849369,-0.053867980837822,-0.107006117701530));
res += mul(Get(s3,-dx,dy), float4x4(0.197408735752106,0.034165166318417,0.066332168877125,-0.031440239399672,0.259100437164307,-0.069680385291576,0.063990049064159,0.175558403134346,-0.185280725359917,-0.059492725878954,0.225915417075157,-0.002483921824023,-0.037135794758797,-0.085407763719559,-0.076107062399387,-0.044853832572699));
res += mul(Get(s3,0,-dy), float4x4(-0.129293233156204,0.043036963790655,-0.019824316725135,0.034233577549458,0.002154620131478,0.045415196567774,-0.127765372395515,-0.120335832238197,-0.029334040358663,-0.226304948329926,0.039456892758608,0.094009384512901,0.098310552537441,0.238704189658165,0.189581468701363,0.174426361918449));
res += mul(Get(s3,0,0), float4x4(0.142327308654785,0.017757805064321,-0.060654602944851,0.131123691797256,-0.030129674822092,-0.053615450859070,0.025071782991290,-0.123227939009666,-0.092571422457695,0.122354678809643,-0.122039236128330,-0.085454896092415,-0.019181966781616,-0.028593620285392,-0.092766985297203,0.177077069878578));
res += mul(Get(s3,0,dy), float4x4(-0.097615092992783,0.105265341699123,-0.144418954849243,0.060117159038782,-0.183113962411880,0.131677106022835,-0.075251683592796,-0.090693846344948,0.079478859901428,-0.046191524714231,0.125333085656166,-0.045119471848011,-0.233408883213997,-0.104266785085201,0.092885009944439,-0.149772748351097));
res += mul(Get(s3,dx,-dy), float4x4(0.018338119611144,-0.051701255142689,-0.134267434477806,-0.115863479673862,0.064725086092949,-0.050318680703640,-0.003103891154751,0.198441505432129,-0.095874585211277,-0.066711485385895,0.144324988126755,0.002738812938333,-0.014408239163458,-0.136923879384995,-0.172025308012962,-0.042898789048195));
res += mul(Get(s3,dx,0), float4x4(0.274321883916855,0.036033254116774,0.080093733966351,0.006300179753453,0.000867461552843,-0.077094502747059,-0.068827912211418,0.031296513974667,0.052576772868633,-0.120936274528503,-0.073202662169933,-0.207759991288185,-0.021848617121577,0.025574894621968,-0.030481474474072,-0.013087055645883));
res += mul(Get(s3,dx,dy), float4x4(0.062413170933723,0.000690240121912,0.010562855750322,-0.179647937417030,-0.043098516762257,-0.047481946647167,-0.172775700688362,-0.152054995298386,-0.060842681676149,-0.010022248141468,-0.099571295082569,-0.052592724561691,0.013292931951582,-0.042741306126118,-0.042492151260376,-0.115086555480957));
return max(float4(0,0,0,0), res);
}
