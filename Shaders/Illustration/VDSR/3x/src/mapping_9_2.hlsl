sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.009505445137620,-0.069406040012836,0.119144462049007,0.000749459315557,0.030786503106356,-0.036054182797670,0.012217514216900,0.166316151618958,0.261082947254181,-0.056660879403353,-0.223541676998138,-0.000058050674852,-0.003049544291571,-0.134271711111069,-0.228592470288277,-0.004762009717524));
res += mul(Get(s0,-dx,0), float4x4(-0.017741555348039,0.005789882037789,0.146273255348206,0.040241934359074,0.184842482209206,0.221562594175339,-0.154653936624527,0.095978766679764,0.178803265094757,-0.011632574722171,-0.118657872080803,0.094463817775249,0.063810341060162,-0.127201706171036,-0.163150370121002,-0.111927010118961));
res += mul(Get(s0,-dx,dy), float4x4(-0.039501149207354,-0.008086693473160,-0.044387590140104,-0.021869761869311,0.115195676684380,0.105279490351677,-0.054783992469311,-0.076802454888821,0.147412657737732,0.186324059963226,-0.009573535062373,0.028640856966376,-0.129856690764427,0.103431828320026,-0.115384593605995,-0.138695791363716));
res += mul(Get(s0,0,-dy), float4x4(0.011629846878350,0.031390935182571,0.111284472048283,0.215694397687912,0.111686274409294,-0.049495737999678,0.076855272054672,0.075937345623970,-0.117119945585728,-0.063108868896961,0.040543623268604,-0.200703173875809,0.112446688115597,-0.025930099189281,0.091934807598591,0.115643315017223));
res += mul(Get(s0,0,0), float4x4(0.161975860595703,0.024049051105976,0.094607964158058,0.140674725174904,-0.043396916240454,-0.045666232705116,0.006374250631779,-0.064362145960331,-0.033934522420168,-0.011192314326763,0.048986043781042,-0.018841737881303,0.136665627360344,-0.024798534810543,0.081048265099525,-0.079607568681240));
res += mul(Get(s0,0,dy), float4x4(0.051119826734066,-0.124314889311790,-0.118495792150497,-0.082959033548832,0.212327659130096,0.214980810880661,0.074662968516350,-0.154882490634918,-0.099970303475857,-0.119523867964745,0.003109549870715,-0.082708261907101,-0.085706397891045,-0.135915130376816,-0.026249455288053,-0.131873160600662));
res += mul(Get(s0,dx,-dy), float4x4(0.156632870435715,0.177303358912468,-0.004918240010738,0.141571685671806,0.075939260423183,-0.075135678052902,0.059602595865726,-0.148201063275337,0.260616868734360,-0.074728071689606,0.162188515067101,-0.213743567466736,0.035880930721760,0.194248348474503,0.098560795187950,0.117805868387222));
res += mul(Get(s0,dx,0), float4x4(0.138932555913925,0.130415230989456,-0.020111856982112,-0.013988071121275,-0.004828176461160,0.049437154084444,0.085990279912949,-0.085196532309055,-0.102155908942223,-0.121162071824074,0.018756378442049,0.238372415304184,0.108588181436062,0.022590860724449,-0.144974529743195,-0.048853483051062));
res += mul(Get(s0,dx,dy), float4x4(0.063506029546261,-0.127811476588249,-0.084735490381718,-0.078911997377872,0.087088130414486,0.115847550332546,0.116033613681793,-0.060960434377193,-0.177759289741516,-0.095237940549850,0.106488034129143,0.000436826550867,-0.086832769215107,0.024844791740179,-0.078407801687717,-0.078602038323879));
res += mul(Get(s1,-dx,-dy), float4x4(-0.040695440024137,0.021210353821516,0.152542039752007,-0.023309165611863,-0.108237646520138,-0.023341396823525,0.016894420608878,-0.131091982126236,0.307825446128845,0.007915470749140,-0.051890525966883,0.237908586859703,-0.048424053937197,0.044656507670879,-0.074751175940037,-0.058899644762278));
res += mul(Get(s1,-dx,0), float4x4(-0.047275800257921,-0.053001787513494,-0.024480611085892,-0.026875542476773,-0.111275628209114,-0.052112400531769,-0.117484100162983,-0.127115964889526,0.227845624089241,0.090409301221371,0.003805915359408,0.097809992730618,0.161244630813599,0.092579789459705,-0.126165017485619,-0.003841529600322));
res += mul(Get(s1,-dx,dy), float4x4(-0.062561087310314,-0.049375496804714,0.026595797389746,0.078946292400360,-0.139506012201309,-0.065425075590611,-0.102649964392185,-0.253294080495834,0.300818622112274,-0.103248476982117,0.007832447998226,-0.037494055926800,-0.090944327414036,0.066866502165794,0.049018193036318,-0.060846190899611));
res += mul(Get(s1,0,-dy), float4x4(0.099574886262417,0.057977974414825,-0.141735956072807,0.135863095521927,0.026802742853761,-0.089074775576591,0.132922559976578,-0.173765763640404,-0.112773932516575,0.119701243937016,0.039891671389341,-0.014258845709264,0.199842318892479,-0.156851515173912,-0.024705337360501,-0.050294201821089));
res += mul(Get(s1,0,0), float4x4(0.069158181548119,-0.127601131796837,-0.049268554896116,0.055670678615570,-0.067835435271263,-0.056415893137455,0.078094981610775,-0.037565082311630,-0.125877588987350,0.005045216064900,0.079455204308033,-0.011905533261597,0.163238674402237,-0.036916740238667,-0.033979676663876,-0.149920403957367));
res += mul(Get(s1,0,dy), float4x4(0.055270407348871,-0.016277063637972,-0.057501092553139,0.134685486555099,-0.040550462901592,0.039567694067955,-0.091306671500206,-0.037036638706923,0.026150278747082,-0.091692663729191,0.022377058863640,-0.093699023127556,-0.124370940029621,0.274309962987900,0.221591666340828,-0.165302067995071));
res += mul(Get(s1,dx,-dy), float4x4(0.183761283755302,-0.101644501090050,-0.104027464985847,-0.153406232595444,0.109589442610741,0.217973083257675,0.387317895889282,-0.076635442674160,0.019013907760382,0.101725548505783,0.083364292979240,0.017155922949314,-0.220250055193901,-0.256342649459839,0.145588144659996,-0.064582899212837));
res += mul(Get(s1,dx,0), float4x4(0.035970062017441,-0.085145756602287,-0.065073564648628,-0.259983837604523,-0.038437958806753,0.052691161632538,0.319929808378220,0.001518611679785,-0.004611169453710,0.037910480052233,0.063521236181259,-0.043312627822161,-0.059053823351860,-0.248367428779602,-0.025402044877410,-0.237615019083023));
res += mul(Get(s1,dx,dy), float4x4(-0.063561148941517,-0.113841705024242,-0.172042459249496,-0.095377996563911,-0.171985015273094,0.115935221314430,-0.038647826761007,0.083226136863232,0.130089253187180,-0.137181907892227,0.009063155390322,-0.106455340981483,0.023648601025343,0.253320515155792,0.024260720238090,-0.201154053211212));
res += mul(Get(s2,-dx,-dy), float4x4(0.000170424638782,0.506240606307983,-0.361366063356400,0.106586411595345,0.103960491716862,-0.174343466758728,-0.294306129217148,0.153325766324997,-0.284859776496887,0.072918847203255,0.038807023316622,-0.003999876324087,0.066056840121746,-0.051871847361326,0.043674077838659,0.134486854076385));
res += mul(Get(s2,-dx,0), float4x4(-0.056711789220572,0.221795290708542,0.075721822679043,-0.057364460080862,0.031596284359694,-0.112342432141304,-0.206104993820190,0.011853785254061,-0.222493320703506,-0.151536643505096,-0.149524748325348,-0.072629675269127,0.073683835566044,0.052353721112013,-0.083217069506645,0.186206385493279));
res += mul(Get(s2,-dx,dy), float4x4(-0.091688118875027,-0.256255209445953,0.008054052479565,0.117574781179428,-0.004208487924188,-0.105506971478462,-0.235358729958534,-0.065988332033157,-0.239983826875687,-0.196809440851212,-0.247696936130524,-0.110155008733273,-0.076347008347511,0.043536338955164,-0.218669667840004,0.070948734879494));
res += mul(Get(s2,0,-dy), float4x4(-0.175406351685524,-0.233273312449455,0.022070385515690,0.254273325204849,0.004481198266149,-0.162773638963699,-0.150409311056137,0.364475071430206,-0.014131627976894,-0.017595885321498,0.009374715387821,-0.066109016537666,0.035437203943729,-0.058021292090416,0.141280591487885,0.030335258692503));
res += mul(Get(s2,0,0), float4x4(-0.038584001362324,0.273054361343384,-0.063946835696697,-0.024178517982364,-0.042742285877466,-0.051620993763208,-0.054925039410591,-0.028415072709322,-0.028974400833249,-0.099061325192451,0.110489673912525,-0.024123007431626,-0.076711975038052,0.027955740690231,0.089409045875072,-0.118756748735905));
res += mul(Get(s2,0,dy), float4x4(-0.180723890662193,0.244911819696426,-0.123631916940212,0.174777328968048,-0.023343302309513,-0.015159528702497,-0.131464853882790,-0.139666318893433,0.037773482501507,-0.057085853070021,-0.000667188316584,0.028715215623379,-0.187784656882286,-0.218605041503906,0.102689586579800,-0.046727087348700));
res += mul(Get(s2,dx,-dy), float4x4(-0.203855603933334,-0.222108855843544,-0.056653972715139,0.179369777441025,-0.127235040068626,-0.078239090740681,-0.094773933291435,0.062704570591450,-0.016989234834909,0.080147758126259,-0.087224394083023,-0.023955805227160,0.064722195267677,0.089745752513409,0.037256367504597,0.068655073642731));
res += mul(Get(s2,dx,0), float4x4(-0.112395383417606,-0.033818192780018,0.174068331718445,-0.085738733410835,0.014497262425721,-0.064922235906124,-0.091603256762028,-0.115337826311588,-0.075741119682789,-0.160237416625023,-0.034248158335686,0.027466783300042,0.101950779557228,0.034908309578896,0.100834190845490,-0.028862716630101));
res += mul(Get(s2,dx,dy), float4x4(-0.000661540136207,0.159870415925980,0.174947023391724,-0.238773539662361,-0.107968114316463,-0.177561238408089,-0.176072701811790,-0.269300103187561,0.346593886613846,-0.095336146652699,-0.217847913503647,-0.011704361066222,0.122723311185837,-0.102655850350857,0.204552531242371,-0.010909024626017));
res += mul(Get(s3,-dx,-dy), float4x4(-0.062994562089443,0.009996277280152,-0.086309053003788,-0.056625667959452,0.067227542400360,-0.080920733511448,-0.160904794931412,0.550032854080200,-0.228925943374634,0.043592259287834,-0.109212450683117,0.114627964794636,-0.076450005173683,-0.067380517721176,0.051264896988869,-0.015764443203807));
res += mul(Get(s3,-dx,0), float4x4(-0.025711931288242,-0.164754509925842,-0.071641221642494,-0.190398350358009,-0.030352171510458,-0.074897319078445,-0.041963092982769,0.133958160877228,0.033392917364836,-0.030260816216469,0.269121199846268,0.012115522287786,-0.101086124777794,0.033727679401636,0.176192879676819,0.070865988731384));
res += mul(Get(s3,-dx,dy), float4x4(-0.178049653768539,-0.131389081478119,-0.110186904668808,0.087573960423470,-0.105946809053421,-0.041760597378016,0.001031804946251,-0.014418476261199,0.048639573156834,-0.153804987668991,0.134711265563965,-0.039128843694925,-0.023703413084149,-0.043906304985285,0.089728817343712,0.041852615773678));
res += mul(Get(s3,0,-dy), float4x4(-0.012314384803176,0.295994251966476,0.060360133647919,0.018059831112623,-0.050179328769445,-0.188734352588654,-0.042817551642656,-0.223573371767998,0.092330083250999,0.230370029807091,0.107703760266304,0.102628603577614,0.131673127412796,0.090003274381161,-0.087355025112629,0.041753612458706));
res += mul(Get(s3,0,0), float4x4(0.112753182649612,-0.128931149840355,0.214546382427216,-0.100197136402130,-0.091223344206810,-0.163499742746353,-0.091920435428619,-0.065381243824959,-0.080614551901817,0.123336389660835,0.186520963907242,0.038635287433863,-0.033314969390631,-0.033588670194149,0.063664443790913,-0.042720980942249));
res += mul(Get(s3,0,dy), float4x4(-0.083454638719559,-0.161710649728775,0.084169276058674,0.089479058980942,-0.137703225016594,-0.138196289539337,-0.106201715767384,-0.032281614840031,0.091746196150780,-0.194108515977859,-0.035256721079350,0.060525182634592,-0.179199412465096,0.227893322706223,0.165306910872459,0.118541799485683));
res += mul(Get(s3,dx,-dy), float4x4(-0.013204666785896,0.084899984300137,0.227652564644814,0.092622444033623,0.048406776040792,-0.078359305858612,-0.045506678521633,0.005428526084870,0.220785945653915,0.007984264753759,0.157654747366905,0.173550620675087,0.036713089793921,-0.249027758836746,-0.029292339459062,-0.161488622426987));
res += mul(Get(s3,dx,0), float4x4(0.043562587350607,0.025052746757865,-0.024202391505241,-0.012131776660681,0.203749969601631,-0.055074702948332,-0.078491024672985,0.100360356271267,-0.001508416491561,0.160016894340515,0.196990132331848,-0.035131670534611,-0.044328954070807,-0.057436894625425,-0.026450099423528,0.124452419579029));
res += mul(Get(s3,dx,dy), float4x4(0.134181693196297,-0.089082077145576,-0.083171024918556,0.015651578083634,0.359751671552658,-0.146965697407722,0.034155938774347,-0.234855875372887,0.042109772562981,-0.130871981382370,-0.050563260912895,-0.077830225229263,-0.123183041810989,0.184337094426155,0.122763499617577,0.048134852200747));
return max(float4(0,0,0,0), res);
}
