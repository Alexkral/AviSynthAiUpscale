sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.095709614455700,-0.048563726246357,-0.034532003104687,0.129700526595116,0.103014126420021,0.205851063132286,-0.059330713003874,0.090555682778358,0.031700462102890,-0.122271791100502,-0.077565968036652,0.075223743915558,0.012549621984363,0.036032088100910,-0.072677642107010,-0.086269721388817));
res += mul(Get(s0,-dx,0), float4x4(-0.039734128862619,0.010286776348948,0.025115815922618,0.102666303515434,0.102341234683990,-0.165702059864998,0.043614100664854,0.050737395882607,0.046222005039454,0.047538273036480,0.009335787966847,-0.197697699069977,0.018427448347211,0.051401074975729,-0.137831985950470,0.036735728383064));
res += mul(Get(s0,-dx,dy), float4x4(0.051014956086874,-0.028106933459640,0.065109975636005,-0.025254018604755,-0.101407542824745,-0.054078053683043,0.075937487185001,0.162397772073746,0.346727162599564,-0.127391785383224,0.046610068529844,0.034408088773489,0.055770274251699,-0.065862879157066,0.122744128108025,0.106780171394348));
res += mul(Get(s0,0,-dy), float4x4(-0.068907871842384,0.059863690286875,-0.191850110888481,-0.099325515329838,-0.178499236702919,-0.205548375844955,-0.117777206003666,0.228692024946213,0.019746964797378,0.189391866326332,-0.186835840344429,0.097864322364330,0.037903528660536,-0.147937297821045,0.089069157838821,0.045834295451641));
res += mul(Get(s0,0,0), float4x4(-0.263279736042023,-0.038409091532230,0.093046650290489,-0.032400880008936,0.089270286262035,-0.097915060818195,-0.153406351804733,-0.120807483792305,0.138415262103081,0.110925987362862,-0.227256894111633,-0.153410986065865,0.047291643917561,0.048946365714073,-0.057093594223261,-0.132936760783195));
res += mul(Get(s0,0,dy), float4x4(-0.070919744670391,0.036718599498272,-0.183314278721809,0.001074239728041,0.064743950963020,-0.018862003460526,0.129749655723572,-0.100197724997997,0.104344561696053,0.068614028394222,-0.023337611928582,0.059796791523695,0.061179310083389,-0.078169316053391,-0.067263267934322,0.004982104990631));
res += mul(Get(s0,dx,-dy), float4x4(-0.058390971273184,-0.202876985073090,-0.012213350273669,-0.157522886991501,-0.044086325913668,-0.049564104527235,-0.002589030191302,0.178216606378555,-0.117717213928699,0.028880644589663,-0.052731294184923,-0.166349202394485,0.052570853382349,0.079348646104336,0.056102957576513,0.061663221567869));
res += mul(Get(s0,dx,0), float4x4(-0.180444389581680,0.087057553231716,-0.025018449872732,-0.051693998277187,-0.018537865951657,0.075042799115181,-0.078792423009872,-0.165420114994049,0.123465448617935,-0.051896084100008,0.130371168255806,-0.077099926769733,0.085933491587639,-0.116780206561089,-0.140489920973778,0.045600350946188));
res += mul(Get(s0,dx,dy), float4x4(-0.204662144184113,-0.086359187960625,-0.211195677518845,-0.014043702743948,0.054466631263494,0.023308519273996,-0.051786292344332,-0.086924329400063,-0.103598736226559,0.063885957002640,-0.041138119995594,0.014507963322103,0.184210911393166,0.013681896030903,-0.059271790087223,0.138479486107826));
res += mul(Get(s1,-dx,-dy), float4x4(0.023217458277941,0.165477707982063,-0.066846668720245,0.022096605971456,-0.088991791009903,-0.226090803742409,-0.096771046519279,-0.002457729075104,0.106524869799614,-0.110106199979782,0.007453410886228,-0.014642878435552,0.029891582205892,0.054633576422930,-0.050347093492746,-0.097044847905636));
res += mul(Get(s1,-dx,0), float4x4(-0.160594224929810,-0.167799398303032,-0.018251938745379,0.130042076110840,0.080868780612946,-0.069857344031334,0.000332676543621,-0.009848934598267,0.004378455225378,-0.026881337165833,0.054436527192593,0.001250886940397,-0.103342965245247,-0.032290775328875,0.177845284342766,-0.055505324155092));
res += mul(Get(s1,-dx,dy), float4x4(0.060472283512354,-0.008153816685081,0.257564514875412,0.242550566792488,-0.190066933631897,0.101689584553242,-0.073219962418079,0.150587007403374,-0.087872684001923,0.018897073343396,-0.145264744758606,-0.081100165843964,-0.234001934528351,0.041092474013567,-0.032958079129457,0.052440073341131));
res += mul(Get(s1,0,-dy), float4x4(0.196189582347870,0.110582724213600,-0.140198379755020,-0.090749390423298,-0.180455714464188,-0.099244728684425,0.147607058286667,0.199490532279015,-0.003193310461938,0.186730444431305,-0.086704738438129,0.050749082118273,-0.045753262937069,0.165958926081657,0.062684044241905,-0.261941313743591));
res += mul(Get(s1,0,0), float4x4(0.059594411402941,0.077794298529625,-0.166946128010750,0.034543108195066,0.207612276077271,0.113360658288002,0.041125990450382,0.023999169468880,-0.182599216699600,-0.071492180228233,0.095671892166138,-0.058512032032013,0.012116143479943,-0.137986063957214,-0.131482735276222,-0.043841931968927));
res += mul(Get(s1,0,dy), float4x4(-0.036697920411825,-0.073177024722099,0.169436931610107,0.187381848692894,-0.014701663516462,0.041865687817335,-0.069457404315472,0.119438372552395,0.188714995980263,0.037790462374687,-0.185859560966492,-0.022484024986625,-0.106080509722233,-0.158262148499489,-0.052760958671570,-0.191622033715248));
res += mul(Get(s1,dx,-dy), float4x4(0.000424445635872,-0.112517513334751,-0.011641938239336,0.024935714900494,0.125838384032249,-0.040496151894331,-0.084415152668953,0.074169747531414,-0.120907440781593,-0.169628530740738,0.031784277409315,0.080957740545273,-0.079203970730305,0.262084722518921,0.036978974938393,-0.054292581975460));
res += mul(Get(s1,dx,0), float4x4(0.062579698860645,0.182686448097229,0.065804824233055,-0.286721259355545,-0.095829635858536,0.147065460681915,-0.056182011961937,-0.104919828474522,-0.097565546631813,-0.100286163389683,-0.120124168694019,-0.057727254927158,-0.051105689257383,-0.013120668008924,-0.278785347938538,-0.245683595538139));
res += mul(Get(s1,dx,dy), float4x4(-0.007351003587246,0.000770240905695,-0.119190067052841,-0.008229561150074,-0.040298178792000,0.049753185361624,0.061948504298925,-0.045719463378191,0.043202638626099,-0.028043318539858,0.078080810606480,-0.084075570106506,0.035600002855062,-0.082759588956833,-0.000961238343734,-0.116737075150013));
res += mul(Get(s2,-dx,-dy), float4x4(0.101254872977734,-0.144043967127800,-0.093397229909897,-0.102271035313606,0.046497665345669,0.008241329342127,0.065587610006332,-0.134471714496613,-0.118086501955986,-0.002861424582079,-0.165061980485916,-0.022717783227563,0.159154757857323,0.222726330161095,-0.168766319751740,-0.120354123413563));
res += mul(Get(s2,-dx,0), float4x4(-0.098728753626347,-0.057804681360722,-0.061622064560652,0.081338427960873,-0.066265173256397,0.070167213678360,-0.012342512607574,0.029018737375736,0.000264819362201,0.094718292355537,0.091951921582222,-0.219998285174370,-0.146506011486053,0.067723125219345,-0.123405717313290,0.040043123066425));
res += mul(Get(s2,-dx,dy), float4x4(-0.112450540065765,-0.089510925114155,0.019496459513903,-0.030317267403007,-0.015927338972688,0.086864560842514,-0.122374705970287,-0.052239034324884,-0.069889433681965,0.162173599004745,-0.056640330702066,-0.066684111952782,0.266921609640121,0.121831268072128,-0.015688546001911,0.007051619235426));
res += mul(Get(s2,0,-dy), float4x4(-0.021559156477451,-0.122807927429676,0.187168106436729,-0.019140109419823,0.017231613397598,-0.008595327846706,-0.091656737029552,0.203947946429253,0.154037147760391,-0.026267739012837,0.064289897680283,-0.053486995398998,-0.161209031939507,0.126306146383286,0.086178764700890,-0.267767220735550));
res += mul(Get(s2,0,0), float4x4(0.055005151778460,-0.101725257933140,-0.138331055641174,-0.108493462204933,-0.072938896715641,0.118561938405037,0.070333756506443,0.168008863925934,0.049224361777306,0.245956540107727,-0.067737713456154,-0.176162421703339,-0.107697047293186,0.180300533771515,-0.012212106958032,0.035460378974676));
res += mul(Get(s2,0,dy), float4x4(-0.003786067478359,-0.023678222671151,-0.037411574274302,0.024990491569042,-0.095747612416744,0.016951147466898,-0.018945960327983,-0.007274901494384,0.048570472747087,0.174980178475380,0.034536734223366,0.032539896667004,-0.081033006310463,0.199600487947464,0.016147242859006,0.053226042538881));
res += mul(Get(s2,dx,-dy), float4x4(0.076210796833038,0.044032458215952,-0.074067883193493,-0.153150498867035,0.051956426352262,0.062735274434090,0.023254863917828,0.094877511262894,-0.076749801635742,0.087086237967014,-0.139450311660767,0.144727960228920,-0.021021792665124,0.039665870368481,-0.118327789008617,-0.192945972084999));
res += mul(Get(s2,dx,0), float4x4(0.043511725962162,-0.173398211598396,-0.058449577540159,-0.088626109063625,0.142553836107254,0.187902778387070,0.085759893059731,0.033800989389420,0.110142566263676,-0.035124298185110,0.167060270905495,-0.056594435125589,-0.004286781419069,0.067871719598770,-0.050279986113310,-0.043331548571587));
res += mul(Get(s2,dx,dy), float4x4(0.111679077148438,0.012172208167613,0.026795301586390,0.065025091171265,-0.091145135462284,-0.259615987539291,0.070633463561535,0.352149903774261,-0.077555641531944,0.006945690605789,-0.159150883555412,-0.139430761337280,0.120882876217365,0.197141692042351,0.047871764749289,0.015087244100869));
res += mul(Get(s3,-dx,-dy), float4x4(-0.036118764430285,-0.003701461013407,0.240121990442276,-0.027155166491866,0.038471534848213,0.077692031860352,0.114660166203976,0.178928971290588,-0.103339023888111,0.044214315712452,0.120423883199692,0.084588058292866,0.267857968807220,0.107862286269665,0.081439591944218,0.116700522601604));
res += mul(Get(s3,-dx,0), float4x4(0.036040574312210,-0.018199322745204,-0.065451785922050,-0.099280215799809,0.103555426001549,0.182948008179665,0.063304290175438,-0.062828660011292,-0.203800648450851,-0.038602747023106,-0.048057965934277,0.057936638593674,-0.071807086467743,0.020808937028050,0.029353903606534,0.075866602361202));
res += mul(Get(s3,-dx,dy), float4x4(0.143083542585373,-0.078220672905445,-0.174185484647751,0.111011244356632,-0.005455981474370,0.084986463189125,0.032410953193903,0.075017184019089,-0.025272052735090,0.006824346259236,0.074962005019188,0.052488822489977,-0.034352526068687,-0.011371135711670,-0.065690979361534,0.125067502260208));
res += mul(Get(s3,0,-dy), float4x4(0.029373437166214,0.094500914216042,-0.126361250877380,-0.155328705906868,-0.063257381320000,0.009532932192087,0.100056819617748,-0.139342784881592,0.186675131320953,-0.002703085774556,-0.192445889115334,-0.063199177384377,0.129037573933601,0.009407472796738,-0.007951108738780,-0.117284446954727));
res += mul(Get(s3,0,0), float4x4(-0.028729610145092,0.039583086967468,0.052189435809851,-0.225352823734283,0.020216161385179,0.057355295866728,-0.106328599154949,-0.128432080149651,0.057475540786982,0.076635435223579,0.085409142076969,-0.076643511652946,-0.077740550041199,0.177989766001701,-0.040227256715298,-0.253918826580048));
res += mul(Get(s3,0,dy), float4x4(0.035338640213013,0.028704997152090,0.110495127737522,0.152569785714149,-0.003034969558939,-0.002839896827936,-0.087442591786385,-0.116752862930298,0.253795474767685,-0.092922843992710,-0.066730447113514,-0.018579006195068,0.074771977961063,0.058564741164446,-0.015951627865434,-0.038480199873447));
res += mul(Get(s3,dx,-dy), float4x4(-0.046911705285311,-0.110159114003181,0.139622509479523,0.012473828159273,-0.161868140101433,-0.104724489152431,0.002822270384058,-0.047288987785578,-0.093162044882774,-0.042054556310177,-0.244427159428596,0.017855547368526,-0.097113989293575,0.066481515765190,0.065062522888184,-0.212784901261330));
res += mul(Get(s3,dx,0), float4x4(0.006403182633221,-0.090402930974960,0.120975613594055,0.063947930932045,-0.009194509126246,-0.185443252325058,-0.048999935388565,0.019895283505321,0.046934716403484,0.040491804480553,-0.069690197706223,-0.072817534208298,-0.190594553947449,0.149283021688461,0.057728163897991,0.069855690002441));
res += mul(Get(s3,dx,dy), float4x4(0.091615512967110,-0.004295123275369,0.032467227429152,-0.081514000892639,-0.012517714872956,-0.002567211398855,-0.078099444508553,0.077789224684238,-0.045403178781271,0.137356683611870,-0.033548425883055,0.172950655221939,-0.008892859332263,-0.020136050879955,-0.180754631757736,0.172470614314079));
return max(float4(0,0,0,0), res);
}
