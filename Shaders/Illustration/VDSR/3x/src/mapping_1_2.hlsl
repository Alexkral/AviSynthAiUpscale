sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.113997079432011,-0.122031882405281,-0.109258979558945,0.095767080783844,0.138689517974854,0.240181788802147,0.079568020999432,0.185173168778419,0.067710161209106,-0.064434394240379,0.069805264472961,0.069276720285416,-0.252184957265854,-0.133140817284584,0.048099849373102,0.013840969651937));
res += mul(Get(s0,-dx,0), float4x4(0.024051167070866,0.064461342990398,0.081637091934681,-0.014221691526473,-0.098533734679222,0.089950375258923,0.053965061903000,-0.112908460199833,-0.035664130002260,-0.136771544814110,0.087569668889046,0.210360854864120,-0.065890915691853,0.073322653770447,-0.016788451001048,-0.077853366732597));
res += mul(Get(s0,-dx,dy), float4x4(0.083625890314579,0.093183279037476,0.111662894487381,0.143149420619011,-0.192581325769424,-0.055915188044310,-0.066166445612907,-0.070935368537903,-0.024689158424735,0.055301751941442,-0.103976160287857,0.010647448711097,0.023816771805286,-0.086304560303688,-0.004392210394144,0.177530422806740));
res += mul(Get(s0,0,-dy), float4x4(-0.072356700897217,0.027522217482328,-0.031237302348018,0.049742933362722,0.129695206880569,0.278892874717712,0.134393855929375,0.050267372280359,0.040691237896681,-0.039361771196127,0.013399248011410,-0.040150064975023,0.114343486726284,-0.042740650475025,0.047621876001358,-0.015426883473992));
res += mul(Get(s0,0,0), float4x4(-0.022647932171822,-0.016681127250195,0.076360404491425,0.127534791827202,-0.035960134118795,0.065856620669365,-0.055846132338047,0.174442142248154,-0.166949748992920,0.197088256478310,0.176605239510536,-0.064120993018150,0.018728496506810,-0.071234844624996,0.149409234523773,-0.061689727008343));
res += mul(Get(s0,0,dy), float4x4(0.023548293858767,-0.048353895545006,-0.083518013358116,0.119365699589252,0.024300869554281,0.052109275013208,0.090096071362495,0.156076595187187,-0.087833859026432,0.166298806667328,0.008005875162780,0.074706733226776,-0.122183971107006,0.065256610512733,0.045396447181702,0.241710603237152));
res += mul(Get(s0,dx,-dy), float4x4(0.015721673145890,0.297481685876846,-0.039092361927032,0.313812673091888,-0.052776522934437,-0.068912684917450,0.026205683127046,0.040340878069401,0.132613345980644,0.029945477843285,-0.037551272660494,0.146458417177200,0.036325972527266,-0.080118551850319,0.186967507004738,0.090543560683727));
res += mul(Get(s0,dx,0), float4x4(0.050842951983213,-0.021780349314213,0.129434317350388,-0.014568031765521,-0.121305793523788,-0.072413526475430,0.122442357242107,0.127503231167793,0.070368282496929,-0.019369851797819,0.048599496483803,0.235544666647911,-0.131231337785721,-0.109957054257393,-0.232139810919762,0.080322794616222));
res += mul(Get(s0,dx,dy), float4x4(-0.190312355756760,-0.225423753261566,0.216066852211952,-0.179837614297867,-0.351185828447342,-0.164805471897125,-0.050310224294662,-0.038075398653746,-0.142182901501656,0.142314493656158,-0.035448517650366,0.002707333769649,-0.108631402254105,0.066536024212837,-0.055361401289701,-0.113611109554768));
res += mul(Get(s1,-dx,-dy), float4x4(-0.075510531663895,-0.056507978588343,0.026046745479107,0.048619091510773,0.074780106544495,-0.106016777455807,-0.017238639295101,-0.063881404697895,-0.116363972425461,0.291510641574860,0.012045340612531,0.182828217744827,0.218360126018524,0.023495182394981,-0.130940854549408,-0.087600998580456));
res += mul(Get(s1,-dx,0), float4x4(-0.139787912368774,0.032870057970285,-0.095376610755920,0.058475669473410,-0.008477394469082,0.009916315786541,-0.068855054676533,-0.033910911530256,0.057256687432528,-0.170799717307091,-0.080983549356461,0.049544565379620,-0.042055401951075,0.124790504574776,0.062001839280128,-0.042371131479740));
res += mul(Get(s1,-dx,dy), float4x4(-0.030888827517629,-0.053188864141703,-0.145783185958862,-0.124939292669296,-0.170259892940521,-0.014480422250926,0.032969478517771,0.040482193231583,0.164010047912598,-0.025894250720739,0.048663005232811,-0.146481201052666,0.049906007945538,0.016085911542177,-0.122931480407715,0.010966775007546));
res += mul(Get(s1,0,-dy), float4x4(-0.103739000856876,0.018247835338116,0.068675003945827,-0.028984298929572,-0.166430696845055,0.001280148746446,0.273048728704453,0.085488773882389,-0.169344812631607,-0.123115919530392,-0.001926938071847,0.032436486333609,-0.132857725024223,0.246194392442703,0.118728384375572,0.019444491714239));
res += mul(Get(s1,0,0), float4x4(-0.032728392630816,-0.303967326879501,0.068649441003799,-0.050005294382572,-0.214188739657402,-0.063271865248680,-0.058596324175596,0.014474387280643,-0.045079171657562,0.159780263900757,-0.017560636624694,-0.021834379062057,-0.073413871228695,0.300327360630035,0.038394015282393,-0.027911413460970));
res += mul(Get(s1,0,dy), float4x4(-0.052625626325607,0.035306524485350,0.031723201274872,0.055690776556730,0.326781451702118,-0.033445153385401,0.047422934323549,0.014776272699237,-0.014929278753698,0.166409254074097,0.320070326328278,-0.038762487471104,-0.134452313184738,0.002729941857979,0.075893811881542,-0.021528495475650));
res += mul(Get(s1,dx,-dy), float4x4(-0.050483684986830,0.203561693429947,0.042369000613689,-0.120307728648186,0.115242369472980,-0.051009263843298,-0.106291644275188,-0.084687292575836,-0.173866316676140,-0.165608972311020,-0.051858242601156,-0.040007755160332,0.040704369544983,-0.222651004791260,-0.033842328935862,-0.000359111319995));
res += mul(Get(s1,dx,0), float4x4(-0.060316834598780,0.109728343784809,-0.100874766707420,0.116539977490902,0.043383363634348,-0.051007017493248,0.167582005262375,-0.045580741018057,0.140039205551147,0.230439603328705,0.003932868130505,-0.109960123896599,0.144916951656342,-0.046843998134136,0.025476969778538,0.044789135456085));
res += mul(Get(s1,dx,dy), float4x4(0.137656733393669,0.092033199965954,-0.058828715234995,0.196025595068932,-0.088650055229664,0.049500852823257,-0.095376238226891,0.055623427033424,-0.010999854654074,-0.102743148803711,0.307852804660797,-0.048837415874004,-0.069524459540844,-0.103285990655422,0.165476977825165,0.137984380125999));
res += mul(Get(s2,-dx,-dy), float4x4(0.029202694073319,-0.076795138418674,-0.243272915482521,0.176232889294624,-0.128315001726151,0.159983500838280,-0.148827210068703,-0.068761706352234,0.045550372451544,0.114812731742859,0.093913733959198,-0.076033346354961,-0.168155491352081,-0.061415579169989,0.107665009796619,0.122145511209965));
res += mul(Get(s2,-dx,0), float4x4(-0.073710769414902,-0.124121524393559,-0.184092745184898,-0.002559099346399,-0.016571935266256,0.120090119540691,-0.106594495475292,-0.007226980291307,0.108893580734730,0.188165619969368,0.105285711586475,-0.092294260859489,0.061371356248856,0.217919558286667,0.081181973218918,0.089431419968605));
res += mul(Get(s2,-dx,dy), float4x4(0.025170816108584,0.106369562447071,0.045196566730738,0.005672840867192,0.131942346692085,-0.032393038272858,-0.143606811761856,-0.141254946589470,0.131234988570213,0.123738303780556,-0.009396956302226,-0.069678500294685,-0.010201938450336,-0.020567098632455,0.259900122880936,-0.256471633911133));
res += mul(Get(s2,0,-dy), float4x4(0.067490562796593,0.282232940196991,-0.025457743555307,0.111646674573421,-0.044263027608395,0.138961464166641,0.131626456975937,-0.032570153474808,-0.044070836156607,-0.040804058313370,0.039714161306620,-0.235398679971695,-0.084011085331440,-0.026513054966927,0.018440613523126,-0.067167155444622));
res += mul(Get(s2,0,0), float4x4(-0.033623501658440,-0.108185254037380,-0.012074018828571,-0.091112717986107,-0.036612357944250,0.049176763743162,-0.141311213374138,0.051038928329945,-0.110257804393768,0.000293780671200,0.028880519792438,-0.061781074851751,-0.078369654715061,-0.104675643146038,-0.245134532451630,0.101104155182838));
res += mul(Get(s2,0,dy), float4x4(-0.120929747819901,-0.080737963318825,-0.158401295542717,-0.206582918763161,-0.243601366877556,-0.146474927663803,0.182691872119904,-0.013107503764331,0.019529523327947,0.038701616227627,-0.213016733527184,0.083033882081509,0.147490814328194,-0.090740136802197,0.191563189029694,0.044812329113483));
res += mul(Get(s2,dx,-dy), float4x4(-0.133432701230049,0.234108194708824,-0.133251577615738,-0.043049048632383,-0.101884618401527,0.063397765159607,-0.109096884727478,0.290180444717407,-0.005684379488230,-0.042140208184719,-0.062596261501312,-0.029957771301270,-0.091421164572239,-0.106126599013805,0.145000860095024,0.000844395603053));
res += mul(Get(s2,dx,0), float4x4(-0.022946540266275,0.191301748156548,-0.070325121283531,0.035260040313005,-0.170628681778908,0.018004655838013,-0.241731569170952,-0.042360439896584,0.000088236833108,0.090981967747211,-0.256490111351013,0.115665689110756,-0.140487805008888,0.042678683996201,-0.066038608551025,0.049437064677477));
res += mul(Get(s2,dx,dy), float4x4(0.013812502846122,-0.010489131323993,-0.090339489281178,-0.077871762216091,-0.032716926187277,-0.063771590590477,-0.143338009715080,-0.194965705275536,0.001073457882740,0.114327020943165,-0.083474367856979,0.152544558048248,0.024532277137041,0.182150319218636,0.024982782080770,0.130798190832138));
res += mul(Get(s3,-dx,-dy), float4x4(0.243520870804787,0.127832993865013,0.051390036940575,-0.017517926171422,0.045743882656097,0.089458905160427,0.076817207038403,0.005014494992793,0.084813140332699,-0.137649789452553,-0.118835590779781,-0.062162090092897,-0.073579594492912,-0.068563111126423,0.178571075201035,-0.067273952066898));
res += mul(Get(s3,-dx,0), float4x4(0.009321998804808,0.081571847200394,0.026426048949361,-0.109712600708008,-0.130847394466400,-0.014914370141923,-0.098063804209232,0.020747559145093,0.184038698673248,-0.169840037822723,0.014629602432251,-0.051322188228369,-0.038705084472895,-0.111437186598778,0.089724734425545,-0.057461500167847));
res += mul(Get(s3,-dx,dy), float4x4(0.019670145586133,0.090173855423927,0.070111863315105,-0.029573671519756,0.004385709296912,0.058548022061586,-0.122607260942459,-0.162395700812340,-0.129645898938179,-0.003399079199880,-0.051673270761967,-0.009171225130558,0.114073529839516,-0.001045364420861,0.019473792985082,-0.067094527184963));
res += mul(Get(s3,0,-dy), float4x4(-0.063932374119759,-0.284411787986755,-0.015530593693256,-0.116885483264923,-0.038915224373341,-0.097561620175838,-0.017866896465421,0.015834545716643,0.245647057890892,-0.076134771108627,0.138542726635933,0.060051012784243,0.045620668679476,-0.203160420060158,0.146116793155670,0.009442226029932));
res += mul(Get(s3,0,0), float4x4(0.215337023139000,-0.053258325904608,-0.017294898629189,0.043158672749996,0.024265378713608,-0.176251381635666,-0.039225421845913,0.102381162345409,0.154523581266403,0.119208276271820,0.146247357130051,-0.064841814339161,0.094656027853489,0.000357283483027,0.032117627561092,-0.150595441460609));
res += mul(Get(s3,0,dy), float4x4(-0.003584526479244,0.063110798597336,-0.010126190260053,0.045082770287991,-0.018414568156004,0.095069438219070,0.128929212689400,-0.016258642077446,0.020080570131540,-0.165018856525421,-0.079582445323467,0.003925275523216,0.045935362577438,0.089576490223408,-0.019628722220659,-0.171360075473785));
res += mul(Get(s3,dx,-dy), float4x4(0.098700366914272,0.088241122663021,-0.038764223456383,0.033580049872398,-0.015721682459116,0.152398064732552,0.067992441356182,0.183378010988235,-0.069011218845844,-0.223081335425377,0.084988348186016,0.187593653798103,-0.046126246452332,0.008107290603220,0.033986721187830,0.132475987076759));
res += mul(Get(s3,dx,0), float4x4(-0.099710822105408,-0.123728834092617,0.204937398433685,-0.004872134886682,-0.113156348466873,0.193535223603249,0.059512417763472,0.063389107584953,-0.094912029802799,-0.004157804418355,0.156252339482307,0.074549376964569,-0.058259088546038,-0.198084682226181,-0.033937063068151,-0.058497093617916));
res += mul(Get(s3,dx,dy), float4x4(0.044189389795065,0.011950097978115,0.031561642885208,-0.008611024357378,-0.034300204366446,-0.169581517577171,-0.166732907295227,-0.042668625712395,0.104881212115288,0.171118766069412,0.027510106563568,0.059052810072899,0.081304080784321,-0.047079373151064,-0.042339880019426,0.239035323262215));
return max(float4(0,0,0,0), res);
}
