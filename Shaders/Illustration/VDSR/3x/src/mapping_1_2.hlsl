sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.002177833579481,-0.004599848296493,-0.005795391276479,-0.001664965762757,-0.139421761035919,-0.120311908423901,-0.235900893807411,-0.400818496942520,0.036866243928671,-0.047471538186073,0.003692881204188,-0.097625151276588,0.072050385177135,-0.013121116906404,0.133958756923676,0.016456238925457));
res += mul(Get(s0,-dx,0), float4x4(-0.001206067856401,-0.002555703278631,0.007435790728778,0.004656373523176,-0.559778571128845,-0.172475561499596,-0.255230605602264,-0.187868729233742,-0.061289958655834,-0.029621327295899,0.276531755924225,-0.030984902754426,0.056428592652082,0.015760142356157,-0.049893882125616,0.039674263447523));
res += mul(Get(s0,-dx,dy), float4x4(0.017895517870784,-0.001859233248979,-0.004124116618186,0.000913365161978,-0.248036801815033,0.053210776299238,0.191302552819252,-0.300770252943039,-0.160690099000931,-0.023707624524832,0.413316369056702,-0.211937949061394,0.107016250491142,-0.015623126178980,-0.101648375391960,0.094206310808659));
res += mul(Get(s0,0,-dy), float4x4(-0.004794300068170,-0.007754669524729,-0.000055490087107,0.004593508318067,-0.117002002894878,-0.083203867077827,-0.439694762229919,0.051304418593645,0.015565296635032,0.087926223874092,-0.147071868181229,0.031281091272831,0.046820972114801,-0.016739867627621,0.020893996581435,-0.011326652951539));
res += mul(Get(s0,0,0), float4x4(-0.000909979455173,-0.003793986514211,-0.001783772837371,0.001376778702252,-0.233801648020744,-0.120337523519993,0.183756023645401,-0.281194984912872,-0.235648840665817,0.076463893055916,0.130347743630409,-0.008310836739838,0.049520518630743,-0.013901228085160,-0.044390581548214,0.005797120742500));
res += mul(Get(s0,0,dy), float4x4(-0.005309026688337,0.001486899214797,0.008808181621134,0.008377379737794,-0.129579186439514,0.025535784661770,0.023752368986607,0.026766920462251,-0.228884428739548,-0.048398569226265,0.279329210519791,0.012264641001821,0.065770544111729,-0.029268665239215,-0.058336067944765,0.015371775254607));
res += mul(Get(s0,dx,-dy), float4x4(0.000619644590188,-0.002425061771646,-0.011391727253795,-0.005983557552099,-0.382839858531952,-0.039786119014025,0.171589225530624,0.103050217032433,0.283028274774551,0.164329901337624,-0.111239150166512,0.051760915666819,-0.066112197935581,-0.002130902837962,0.077871821820736,0.031215230002999));
res += mul(Get(s0,dx,0), float4x4(0.000780291738920,-0.002578677609563,0.000862003478687,0.004163669887930,-0.089972168207169,-0.049731973558664,0.349784970283508,-0.112431891262531,-0.128354862332344,0.104677803814411,0.213194385170937,0.032056745141745,-0.010230536572635,0.003396590705961,-0.009877089411020,-0.001930477563292));
res += mul(Get(s0,dx,dy), float4x4(0.005001607816666,0.001571969478391,0.005282992962748,0.002629827242345,-0.144768506288528,0.032455060631037,-0.040379788726568,0.314081966876984,-0.112344592809677,-0.091463029384613,0.365740239620209,0.211351513862610,0.018324462696910,0.015428915619850,-0.081920973956585,0.000285384419840));
res += mul(Get(s1,-dx,-dy), float4x4(-0.000875155266840,0.007047284860164,-0.008946433663368,0.006134589668363,0.166872590780258,-0.038969334214926,-0.007140985224396,0.024212153628469,0.025095330551267,-0.003747379872948,0.027749879285693,-0.005107702221721,-0.005915321875364,0.009518128819764,0.001657468499616,-0.005728128831834));
res += mul(Get(s1,-dx,0), float4x4(-0.008950896561146,-0.002597128506750,0.006549507845193,0.014020929113030,-0.065564095973969,-0.012199711985886,-0.120070427656174,0.143464073538780,0.018703874200583,-0.000645323947538,-0.014098697341979,0.010086136870086,0.006053620483726,0.006445744540542,0.011925150640309,0.001468323287554));
res += mul(Get(s1,-dx,dy), float4x4(-0.002276136074215,0.007792609278113,0.003329114057124,-0.003234619973227,-0.140273749828339,0.053833667188883,0.099202111363411,-0.099755302071571,0.028270922601223,0.001977143809199,-0.016163319349289,0.011943575926125,0.002059348626062,-0.002277873456478,0.006265135016292,0.007195298559964));
res += mul(Get(s1,0,-dy), float4x4(-0.008771337568760,-0.003589961212128,0.005745663773268,-0.011780036613345,0.260221689939499,-0.062458492815495,-0.213327363133430,-0.132725387811661,0.010754891671240,0.005781440064311,0.002101644175127,0.007501614745706,0.012336654588580,0.002741805277765,0.000678315409459,0.003124624956399));
res += mul(Get(s1,0,0), float4x4(-0.008294004946947,-0.000391960114939,0.002834466518834,-0.013160483911633,-0.041249629110098,-0.017191704362631,-0.013106227852404,-0.177884876728058,0.009075721725821,0.001749623450451,-0.014805930666625,0.014915725216269,-0.014850847423077,0.000897251302376,0.010507367551327,-0.005049878731370));
res += mul(Get(s1,0,dy), float4x4(0.000178868285730,-0.005047750659287,-0.004990882705897,0.008534247055650,-0.098127156496048,-0.035872012376785,0.050381131470203,-0.138674616813660,-0.003835314186290,-0.012472249567509,-0.024605559185147,0.012940551154315,-0.003918810281903,-0.002449474530295,0.006322117988020,0.006219072267413));
res += mul(Get(s1,dx,-dy), float4x4(0.005785809829831,0.000863896042574,-0.004449105355889,0.000754468492232,0.233175635337830,0.015304383821785,-0.139633312821388,0.091906234622002,-0.018085068091750,0.006638268940151,0.012460615485907,0.008510830812156,-0.013324220664799,-0.002747667720541,-0.002724581398070,0.000918095582165));
res += mul(Get(s1,dx,0), float4x4(-0.010222567245364,0.000666019215714,0.003753580851480,0.001647718367167,-0.064855150878429,0.081710405647755,0.141996890306473,0.099308781325817,-0.000621119339485,-0.010039370507002,0.006060936022550,0.007453525904566,-0.009462745860219,0.000482733972603,-0.003479277249426,-0.003299569478258));
res += mul(Get(s1,dx,dy), float4x4(-0.002188029466197,-0.005789837334305,-0.008936351165175,-0.007656152825803,0.002751206979156,-0.026805017143488,0.208841815590858,0.150479555130005,0.004533856175840,-0.006964475847781,-0.019774597138166,0.009385402314365,0.000031449304515,0.002095696981996,-0.003193079261109,-0.009759997949004));
res += mul(Get(s2,-dx,-dy), float4x4(-0.595459640026093,0.024328136816621,-0.514649271965027,0.292069584131241,-0.220115810632706,-0.065942473709583,0.138427555561066,-0.061843689531088,-0.114284001290798,-0.074138306081295,0.054612893611193,-0.333898872137070,-0.089659437537193,-0.012019685469568,0.039760708808899,0.014367823489010));
res += mul(Get(s2,-dx,0), float4x4(-0.219743207097054,-0.147511765360832,0.199435487389565,-0.684893250465393,-0.413224071264267,0.050409533083439,-0.026383809745312,-0.162649601697922,-0.039026651531458,-0.115869812667370,-0.086406603455544,-0.132800817489624,-0.056210666894913,-0.009225346148014,-0.032073851674795,0.039886262267828));
res += mul(Get(s2,-dx,dy), float4x4(0.031178914010525,-0.310076445341110,0.228324681520462,-0.243967190384865,-0.038105525076389,0.117192544043064,0.039957825094461,-0.069875940680504,0.012337511405349,-0.084412239491940,-0.038275647908449,-0.380344390869141,-0.064055360853672,0.016206135973334,-0.075831577181816,0.064194947481155));
res += mul(Get(s2,0,-dy), float4x4(-0.491742789745331,-0.074630081653595,0.948968946933746,-0.178717970848083,0.175995469093323,-0.106586948037148,0.059198971837759,-0.171979561448097,0.072129018604755,0.280716896057129,-0.319514453411102,-0.090642064809799,-0.024419158697128,-0.005345988553017,0.049266673624516,0.007404452655464));
res += mul(Get(s2,0,0), float4x4(-0.018915209919214,-0.069476366043091,0.165095612406731,0.224781095981598,0.052668187767267,0.018875751644373,-0.024407681077719,-0.260357767343521,-0.081424497067928,0.080431625247002,-0.078581839799881,0.067277416586876,0.008202396333218,-0.029544066637754,0.003909821156412,-0.021903688088059));
res += mul(Get(s2,0,dy), float4x4(-0.006093510426581,-0.215175241231918,-0.767428576946259,0.147442579269409,-0.066225320100784,0.087970674037933,0.087755389511585,-0.345874816179276,-0.016432689502835,-0.089301325380802,0.222362548112869,-0.156903550028801,-0.015121282078326,-0.001945073250681,-0.034941755235195,-0.058524556457996));
res += mul(Get(s2,dx,-dy), float4x4(0.100937128067017,-0.305407404899597,0.789813995361328,-0.118347682058811,0.199442699551582,-0.008478983305395,-0.049235232174397,0.579608023166656,-0.086133383214474,0.343813687562943,-0.008361649699509,-0.123673379421234,0.051847081631422,0.009699996560812,-0.007453518453985,0.051057916134596));
res += mul(Get(s2,dx,0), float4x4(0.769941747188568,-0.091755189001560,-0.342169016599655,0.819208621978760,0.329684704542160,0.037388343364000,-0.075487829744816,0.421832859516144,-0.158595427870750,0.203490316867828,0.094526462256908,-0.132486373186111,0.079865001142025,0.002594553865492,0.014890098012984,0.014085605740547));
res += mul(Get(s2,dx,dy), float4x4(0.156950354576111,-0.127007961273193,-0.748473942279816,0.269620746374130,0.126884639263153,0.080887719988823,0.320060729980469,0.201010376214981,-0.068574421107769,-0.058030877262354,-0.064234599471092,-0.314983606338501,0.055699251592159,-0.010448165237904,0.044883418828249,-0.002270153257996));
res += mul(Get(s3,-dx,-dy), float4x4(-0.004060237202793,0.002823659451678,0.005351558327675,-0.004172601271421,-0.045162379741669,-0.003362943185493,0.019274519756436,0.022327523678541,-0.010281205177307,-0.012133377604187,0.009620331227779,0.009086657315493,-0.009869072586298,-0.014414284378290,-0.029543209820986,0.003960649948567));
res += mul(Get(s3,-dx,0), float4x4(-0.008546822704375,-0.001882613985799,-0.004723955877125,-0.004907262511551,-0.039814483374357,0.005400655791163,-0.022863347083330,0.042233467102051,0.006810726597905,-0.015378870069981,-0.006766404025257,0.008738290518522,0.020607022568583,-0.011244695633650,0.008127489127219,0.006578395143151));
res += mul(Get(s3,-dx,dy), float4x4(-0.005689574871212,-0.013210757635534,0.002162275603041,0.015384402126074,-0.032108213752508,0.013814819045365,-0.046348467469215,0.046531226485968,0.001109390868805,0.003579522017390,-0.007148029282689,-0.003246363950893,0.000952056900132,0.002129103057086,0.050216741859913,-0.013664027675986));
res += mul(Get(s3,0,-dy), float4x4(0.008832329884171,0.005294837988913,0.000654333678540,-0.000879065715708,-0.013040134683251,-0.008831289596856,0.005860294215381,0.016175489872694,-0.008664567023516,0.006520357914269,0.011706695891917,-0.011409627273679,-0.022427707910538,-0.007171409204602,-0.120772264897823,0.026126001030207));
res += mul(Get(s3,0,0), float4x4(-0.003002623794600,0.001651227590628,0.001552051748149,-0.001458243699744,-0.010123162530363,-0.007374938111752,0.002669695066288,-0.022072553634644,-0.000830097647849,-0.006580325309187,-0.012844778597355,-0.006283217575401,0.012957541272044,-0.013286240398884,-0.009286843240261,0.004743153695017));
res += mul(Get(s3,0,dy), float4x4(0.000417523406213,0.006548969075084,-0.001387131051160,-0.013451346196234,-0.012106254696846,0.019381690770388,-0.014422756619751,-0.032338507473469,-0.013562505133450,0.003829304827377,-0.003903892356902,0.000073738599895,-0.010229958221316,-0.005318498704582,0.059567321091890,-0.002127845771611));
res += mul(Get(s3,dx,-dy), float4x4(0.008382090367377,-0.001342459814623,0.000666279986035,0.006512531545013,0.023943703621626,-0.010059977881610,0.015883173793554,0.003173718927428,0.000315464712912,0.000348580244463,-0.001831613248214,0.012055151164532,-0.014531371183693,-0.021085772663355,-0.143140971660614,0.042953647673130));
res += mul(Get(s3,dx,0), float4x4(-0.008015877567232,-0.001696099294350,0.007171144243330,-0.000755759130698,0.048793330788612,-0.013255067169666,0.012228470295668,-0.002261620713398,0.006367754191160,-0.002210549311712,-0.000718607043382,0.003479234641418,0.011922131292522,-0.016461778432131,-0.054147537797689,0.008068061433733));
res += mul(Get(s3,dx,dy), float4x4(0.000574144476559,0.006210486870259,-0.011412749998271,0.000279895699350,0.029920052736998,-0.009598312899470,0.010289225727320,-0.003662447677925,-0.000534678110853,-0.004455137066543,0.004361930768937,0.005272885784507,-0.021065140143037,-0.020848805084825,0.025653332471848,0.009877778589725));
return max(float4(0,0,0,0), res);
}
