sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.008246191777289,0.262225925922394,-0.042274836450815,0.002958961529657,-0.066417731344700,-0.229322433471680,0.035041995346546,0.024830738082528,-0.118376158177853,0.062989994883537,0.099316090345383,0.026428891345859,-0.085279159247875,0.017770441249013,-0.029310639947653,-0.194518268108368));
res += mul(Get(s0,-dx,0), float4x4(-0.118120633065701,-0.015577051788568,0.073460251092911,-0.201748058199883,0.039671830832958,0.090666629374027,0.114706322550774,0.208529815077782,0.090237572789192,-0.079704038798809,-0.129591628909111,-0.075085572898388,0.007434238214046,-0.349914520978928,-0.048824183642864,0.014220585115254));
res += mul(Get(s0,-dx,dy), float4x4(0.054179754108191,-0.130173966288567,0.051514022052288,-0.095766976475716,0.044981233775616,-0.101997315883636,-0.126125991344452,-0.022741165012121,-0.017795639112592,-0.172004625201225,0.005500174127519,0.070867709815502,-0.113710135221481,-0.102758131921291,0.052305672317743,0.089011169970036));
res += mul(Get(s0,0,-dy), float4x4(0.114311560988426,-0.004911930300295,-0.063033260405064,-0.050894197076559,-0.089816257357597,-0.033810526132584,0.146705120801926,0.065076157450676,-0.041966889053583,-0.054966326802969,-0.017342198640108,-0.085928410291672,-0.012029696255922,-0.127508759498596,0.063686229288578,-0.120195344090462));
res += mul(Get(s0,0,0), float4x4(-0.190598249435425,0.164023905992508,0.084670446813107,-0.177563428878784,0.036433506757021,0.141154140233994,0.042449358850718,-0.141032963991165,-0.028582127764821,0.309581339359283,-0.076744355261326,0.023159034550190,0.105224907398224,0.006919462233782,-0.216013520956039,-0.022720601409674));
res += mul(Get(s0,0,dy), float4x4(-0.091499276459217,0.083346001803875,0.314080357551575,-0.047174010425806,-0.125921159982681,-0.086721412837505,-0.009796421974897,-0.093718953430653,0.097293302416801,0.074991330504417,-0.067886739969254,0.040650922805071,-0.012707265093923,0.139807149767876,-0.055691275745630,0.142146512866020));
res += mul(Get(s0,dx,-dy), float4x4(-0.055773273110390,0.157455176115036,-0.048837099224329,0.113204613327980,0.104910381138325,0.029886767268181,0.124065823853016,0.028001083061099,0.151687636971474,0.031674604862928,0.099933408200741,0.157166987657547,0.136406064033508,0.074651822447777,-0.107186630368233,0.185032144188881));
res += mul(Get(s0,dx,0), float4x4(-0.058106049895287,-0.028672300279140,-0.075228951871395,-0.106126815080643,-0.026630047708750,-0.041123773902655,0.152032852172852,0.055759444832802,0.087487302720547,-0.022100325673819,-0.057842690497637,-0.131365209817886,-0.054226618260145,-0.040923792868853,-0.015252558514476,-0.000959957658779));
res += mul(Get(s0,dx,dy), float4x4(0.006039155647159,0.001467651571147,-0.178127020597458,0.025406179949641,0.084204114973545,-0.086642101407051,-0.037373818457127,-0.043531790375710,0.004824559669942,-0.197705343365669,0.032483883202076,0.027179820463061,0.047941390424967,-0.175521835684776,-0.114814236760139,0.168798357248306));
res += mul(Get(s1,-dx,-dy), float4x4(0.044097244739532,-0.011891458183527,-0.059740662574768,-0.030865620821714,0.098238579928875,-0.044884696602821,-0.103750884532928,0.049224894493818,0.180099472403526,0.025428568944335,-0.284857779741287,0.028107378631830,-0.011196265928447,0.080596514046192,0.099755652248859,0.119662247598171));
res += mul(Get(s1,-dx,0), float4x4(-0.172348886728287,-0.171804741024971,0.105660296976566,-0.100311264395714,0.030371384695172,0.062247518450022,0.159572318196297,0.035876095294952,-0.103755563497543,-0.108367107808590,-0.046403188258410,-0.060026820749044,-0.119158945977688,-0.253386378288269,0.083515509963036,-0.248181417584419));
res += mul(Get(s1,-dx,dy), float4x4(-0.066976644098759,0.063417680561543,0.172630861401558,-0.002504481235519,0.050697315484285,0.050474472343922,-0.115561902523041,-0.022689264267683,0.064586326479912,0.037777327001095,-0.075357511639595,0.076874718070030,-0.153185039758682,-0.148353621363640,-0.078112035989761,0.008655587211251));
res += mul(Get(s1,0,-dy), float4x4(0.109029509127140,-0.075925953686237,0.029420878738165,-0.216633602976799,-0.066743105649948,0.015102649107575,-0.078894190490246,-0.096981972455978,-0.168901488184929,-0.133659943938255,0.055369466543198,-0.055212244391441,-0.136117845773697,-0.118554770946503,-0.070933930575848,0.020567417144775));
res += mul(Get(s1,0,0), float4x4(-0.161648616194725,0.134255558252335,-0.151529267430305,-0.100740626454353,0.007374877575785,-0.072855308651924,-0.118114002048969,0.019812773913145,0.056733369827271,0.156717956066132,0.093958832323551,0.047657188028097,0.022245358675718,-0.088292889297009,-0.152919054031372,0.049805093556643));
res += mul(Get(s1,0,dy), float4x4(-0.043352089822292,0.019911428913474,0.160169616341591,-0.060753259807825,0.130186870694160,-0.023456729948521,0.038565948605537,-0.038953080773354,0.028366427868605,0.077715687453747,-0.196678131818771,0.083727106451988,0.008215149864554,-0.176965609192848,-0.010064539499581,-0.036279331892729));
res += mul(Get(s1,dx,-dy), float4x4(-0.103336490690708,-0.211636409163475,0.146740421652794,0.123370051383972,-0.179761782288551,-0.083811432123184,0.061672016978264,-0.170090913772583,-0.108980230987072,-0.059445559978485,-0.211583822965622,-0.000214358820813,-0.081627108156681,0.024405075237155,0.121222086250782,0.047251708805561));
res += mul(Get(s1,dx,0), float4x4(-0.132920920848846,0.001134351943620,0.069363050162792,0.004695481620729,-0.115654930472374,-0.035177391022444,-0.026755927130580,0.061072554439306,0.070281274616718,0.221122130751610,-0.132364273071289,-0.103019826114178,0.063046015799046,-0.112605959177017,-0.141805022954941,-0.052863113582134));
res += mul(Get(s1,dx,dy), float4x4(-0.124390460550785,0.092724680900574,0.197994291782379,0.233442395925522,0.101375304162502,-0.168419077992439,-0.189778223633766,-0.013777395710349,0.179454788565636,0.101393386721611,0.130836948752403,0.033124517649412,-0.147887840867043,-0.051143437623978,-0.012651450000703,0.035346657037735));
res += mul(Get(s2,-dx,-dy), float4x4(0.116956651210785,-0.031171636655927,-0.152837738394737,0.128138884902000,0.126031294465065,0.172336623072624,-0.039877843111753,0.182337835431099,0.082156628370285,0.078838445246220,-0.005961225833744,-0.132618561387062,-0.077666051685810,0.224571198225021,-0.005016763228923,0.064739778637886));
res += mul(Get(s2,-dx,0), float4x4(-0.280036866664886,-0.091015413403511,0.000501722330227,-0.002009158022702,0.141975969076157,-0.054133370518684,-0.198534905910492,0.023640025407076,0.079622425138950,0.087212800979614,0.245996877551079,0.057507809251547,0.012730482034385,0.090830065310001,-0.143979027867317,-0.121233060956001));
res += mul(Get(s2,-dx,dy), float4x4(-0.046917870640755,0.084540389478207,0.061568561941385,-0.113522283732891,-0.043752279132605,0.119864821434021,-0.040187757462263,0.056589879095554,-0.162791341543198,0.023550270125270,0.129435390233994,0.252202957868576,0.071155160665512,0.060641936957836,0.211099252104759,-0.106148578226566));
res += mul(Get(s2,0,-dy), float4x4(0.046166699379683,-0.160553678870201,0.123198799788952,-0.004985925741494,0.181631579995155,0.117492467164993,0.184275224804878,0.151925638318062,-0.169640377163887,0.179440662264824,-0.236674845218658,-0.019602939486504,0.017858849838376,-0.107162445783615,0.009581736288965,0.030789328739047));
res += mul(Get(s2,0,0), float4x4(-0.029760569334030,-0.126720041036606,0.086087755858898,0.068452045321465,0.014169455505908,0.088582731783390,0.086310744285583,-0.084843434393406,0.152030408382416,0.034308742731810,-0.062490053474903,-0.044425658881664,0.043191887438297,-0.079118601977825,0.242995142936707,-0.022062694653869));
res += mul(Get(s2,0,dy), float4x4(-0.001887271879241,-0.058882169425488,-0.037871122360229,-0.012863731011748,-0.201262712478638,-0.014518987387419,0.041999794542789,-0.028588566929102,0.092577941715717,0.004528596065938,0.042192850261927,0.188067525625229,0.059640668332577,0.049462839961052,-0.111596129834652,-0.178254067897797));
res += mul(Get(s2,dx,-dy), float4x4(-0.016466302797198,0.135414645075798,-0.042953409254551,0.188935697078705,-0.051536634564400,-0.093856208026409,-0.050405222922564,0.092267416417599,0.046500913798809,0.007569960784167,0.118203103542328,-0.106952950358391,0.122587904334068,-0.002228309866041,0.101527348160744,-0.197658374905586));
res += mul(Get(s2,dx,0), float4x4(0.257345616817474,-0.080428779125214,-0.148300603032112,-0.038424070924520,-0.066177956759930,-0.166100099682808,0.180649533867836,-0.111023075878620,0.174419775605202,-0.064889609813690,0.035388190299273,-0.042375277727842,-0.296947270631790,0.127771168947220,-0.148930847644806,-0.193431377410889));
res += mul(Get(s2,dx,dy), float4x4(-0.004400386009365,-0.059412226080894,0.096830844879150,-0.029342569410801,0.020733406767249,0.011437066830695,0.110368140041828,0.011568835005164,0.208336800336838,0.111945405602455,0.062324348837137,-0.002583952853456,0.020699400454760,0.028908491134644,-0.146933689713478,0.014260125346482));
res += mul(Get(s3,-dx,-dy), float4x4(-0.046908888965845,-0.150168389081955,0.034418821334839,0.046843696385622,-0.017502332106233,0.014698334038258,0.097979426383972,0.205262258648872,0.017099900171161,-0.229281768202782,0.146829396486282,-0.190544873476028,-0.023862572386861,0.030439667403698,-0.167077034711838,-0.180780187249184));
res += mul(Get(s3,-dx,0), float4x4(-0.063049733638763,0.124907933175564,0.040012069046497,0.072479940950871,-0.114730484783649,-0.075243830680847,-0.122552193701267,-0.014692628756166,-0.003065712051466,0.226142883300781,0.059429042041302,-0.186888933181763,-0.044264145195484,-0.163344800472260,-0.193494245409966,0.077371060848236));
res += mul(Get(s3,-dx,dy), float4x4(-0.037322342395782,0.133635416626930,-0.137197807431221,-0.131896898150444,-0.120180346071720,-0.136885955929756,-0.063567720353603,0.058977842330933,0.067382857203484,0.014531696215272,0.065298333764076,-0.036651007831097,0.249102264642715,0.015009961090982,0.033783085644245,-0.030362904071808));
res += mul(Get(s3,0,-dy), float4x4(0.080987989902496,0.217101812362671,0.066267021000385,-0.235130041837692,0.049789279699326,0.007071849890053,-0.056070517748594,-0.250652700662613,0.104821525514126,0.027848012745380,0.103137098252773,-0.096011035144329,0.065479040145874,0.008515249937773,0.160975262522697,-0.074015080928802));
res += mul(Get(s3,0,0), float4x4(-0.023432359099388,0.063500881195068,-0.022833762690425,0.070571422576904,0.005165745038539,-0.113274686038494,0.198884651064873,-0.163324639201164,-0.014757690951228,0.014874071814120,-0.158590286970139,-0.108288444578648,0.023630101233721,-0.032115090638399,-0.106326833367348,-0.022083954885602));
res += mul(Get(s3,0,dy), float4x4(-0.054964508861303,0.024680294096470,0.109865181148052,-0.009304256178439,0.142984375357628,0.128482803702354,-0.086732283234596,-0.080786466598511,0.005798254162073,0.055115040391684,-0.130139365792274,0.105928704142570,0.035485792905092,0.051555745303631,0.099221535027027,0.041707947850227));
res += mul(Get(s3,dx,-dy), float4x4(-0.155755564570427,-0.210570871829987,-0.144566625356674,-0.006984078325331,0.050703108310699,0.247630357742310,0.180261701345444,0.014452775008976,-0.068394549190998,-0.001905575743876,0.049155965447426,-0.046632163226604,0.069317594170570,0.080214753746986,0.191478073596954,0.123081311583519));
res += mul(Get(s3,dx,0), float4x4(-0.114400222897530,-0.111634820699692,0.112967483699322,-0.032487511634827,-0.137011885643005,-0.004142927005887,0.004556005354971,0.052850898355246,0.148934349417686,0.049770705401897,-0.008165176026523,0.068758547306061,0.043667126446962,-0.166513770818710,0.129247456789017,0.003888672683388));
res += mul(Get(s3,dx,dy), float4x4(-0.091892145574093,-0.204470068216324,-0.086751520633698,-0.028353556990623,-0.256932675838470,-0.006468500941992,-0.056777451187372,0.304937362670898,-0.005495260003954,-0.084224931895733,0.104552194476128,0.026315798982978,-0.004515095613897,-0.137479305267334,0.194460853934288,-0.203006044030190));
return max(float4(0,0,0,0), res);
}
