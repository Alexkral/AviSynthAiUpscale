sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.065935336053371,-0.223326921463013,-0.006352399010211,-0.132173269987106,-0.116677023470402,0.006526837591082,-0.014862522482872,0.000323113461491,-0.064294740557671,-0.322342783212662,-0.075839869678020,-0.443062096834183,0.079651027917862,0.184786617755890,-0.014578843489289,0.015408731065691));
res += mul(Get(s0,-dx,0), float4x4(-0.196466460824013,0.104406185448170,-0.075009174644947,0.086377926170826,-0.120253175497055,-0.171845450997353,-0.237471178174019,0.190716892480850,-0.222823455929756,-0.122917585074902,-0.004141453653574,0.131574511528015,0.057792041450739,-0.072429209947586,-0.121589139103889,-0.150001317262650));
res += mul(Get(s0,-dx,dy), float4x4(-0.259449183940887,-0.019492248073220,0.020317170768976,0.110564135015011,-0.238633751869202,-0.226503804326057,0.002656863536686,0.207148835062981,-0.015350330621004,0.180052861571312,-0.197097525000572,-0.001050059450790,-0.064744867384434,0.113686002790928,-0.010204385034740,-0.258561372756958));
res += mul(Get(s0,0,-dy), float4x4(0.046484123915434,-0.102631032466888,0.099616505205631,-0.079249896109104,0.070943690836430,0.043282933533192,0.033222600817680,-0.220832511782646,0.124773859977722,0.140746876597404,-0.154440417885780,-0.173982411623001,-0.238497585058212,0.024939352646470,-0.099812023341656,0.008845747448504));
res += mul(Get(s0,0,0), float4x4(-0.072538129985332,-0.033843375742435,-0.050521221011877,0.107361532747746,0.124813988804817,-0.219202414155006,0.167545184493065,0.196010112762451,-0.167488098144531,0.096572555601597,-0.225126788020134,-0.028341092169285,-0.015027502551675,-0.069328121840954,-0.144963994622231,-0.116490483283997));
res += mul(Get(s0,0,dy), float4x4(0.040685940533876,-0.093295954167843,0.020428946241736,0.043479230254889,-0.242437794804573,-0.388903588056564,-0.032367236912251,0.092069804668427,0.009112679399550,0.090821273624897,0.201450496912003,-0.046689853072166,0.024700911715627,0.002296292921528,-0.092264361679554,-0.108741194009781));
res += mul(Get(s0,dx,-dy), float4x4(-0.030344830825925,0.075605146586895,0.069390796124935,0.014765351079404,0.252477586269379,-0.044646441936493,-0.171536087989807,-0.039623275399208,-0.003824748797342,0.151774227619171,-0.049834739416838,-0.218813374638557,-0.346907734870911,-0.172809138894081,0.335947662591934,-0.135667890310287));
res += mul(Get(s0,dx,0), float4x4(-0.141680330038071,0.021160682663321,0.042061164975166,-0.117626987397671,0.037852700799704,-0.031457785516977,0.092508107423782,0.081891246140003,0.066387116909027,0.056913245469332,-0.291289716959000,-0.090082198381424,0.143862858414650,-0.172184169292450,0.025469854474068,0.006626372225583));
res += mul(Get(s0,dx,dy), float4x4(0.056511498987675,-0.042733673006296,0.197682335972786,-0.162084624171257,0.027312951162457,-0.083828113973141,0.152643129229546,-0.043142464011908,0.240167886018753,-0.099940910935402,0.028961185365915,-0.023103702813387,-0.008992565795779,-0.113171875476837,-0.148612245917320,-0.224672242999077));
res += mul(Get(s1,-dx,-dy), float4x4(0.015340771526098,0.051491159945726,-0.058085009455681,-0.153424382209778,0.250127196311951,0.110087484121323,-0.150201722979546,-0.081129245460033,0.047333993017673,0.262903243303299,0.030991274863482,-0.285232990980148,0.138469070196152,0.112703040242195,-0.280937284231186,0.065280884504318));
res += mul(Get(s1,-dx,0), float4x4(-0.198766782879829,-0.055422909557819,0.088602572679520,-0.148081928491592,0.107799075543880,-0.066252350807190,0.137163341045380,-0.227415069937706,0.275072664022446,0.050490692257881,-0.157366991043091,-0.094339929521084,0.100151829421520,0.288671523332596,-0.083027109503746,-0.066115282475948));
res += mul(Get(s1,-dx,dy), float4x4(0.104879215359688,-0.022536007687449,0.067890904843807,-0.036123782396317,-0.165839791297913,0.015373417176306,0.293328821659088,-0.026158023625612,0.049288224428892,-0.150011390447617,-0.180613055825233,-0.118800908327103,-0.032022401690483,0.133425489068031,0.164266496896744,-0.050017319619656));
res += mul(Get(s1,0,-dy), float4x4(0.021004982292652,0.179747521877289,-0.004967181012034,-0.163924202322960,-0.192701026797295,0.305784732103348,-0.032750725746155,0.019928978756070,-0.046207163482904,-0.075587302446365,0.000520283821970,-0.107522964477539,-0.049064878374338,-0.024912135675550,0.035157151520252,0.213897958397865));
res += mul(Get(s1,0,0), float4x4(-0.026387710124254,0.091403707861900,-0.055309016257524,-0.149196788668633,-0.012867891229689,-0.077461250126362,0.000180311079021,-0.094849355518818,0.145184472203255,-0.041752062737942,-0.177737355232239,-0.051408492028713,0.126089468598366,-0.127451285719872,0.032617434859276,-0.015043557621539));
res += mul(Get(s1,0,dy), float4x4(-0.175543844699860,-0.045257996767759,-0.002731571672484,-0.069231495261192,-0.092587947845459,-0.301421612501144,0.116853542625904,0.060120306909084,-0.268324941396713,-0.078399360179901,-0.295005232095718,-0.053798776119947,0.074841305613518,-0.247263640165329,-0.043678805232048,-0.121763162314892));
res += mul(Get(s1,dx,-dy), float4x4(-0.045320995151997,0.112169042229652,0.015716651454568,-0.139206111431122,-0.143296003341675,0.201805263757706,0.103444978594780,-0.043267033994198,-0.336786240339279,-0.273195981979370,0.269755840301514,0.187869325280190,0.047094773501158,0.128937795758247,0.141337305307388,0.098711304366589));
res += mul(Get(s1,dx,0), float4x4(-0.207141444087029,-0.079785563051701,-0.155890211462975,-0.115951374173164,0.074229128658772,-0.089208900928497,-0.139952257275581,0.024645121768117,-0.014598799869418,-0.108459092676640,0.222680464386940,-0.086234346032143,0.226619631052017,0.006508522666991,-0.004218655638397,0.017503699287772));
res += mul(Get(s1,dx,dy), float4x4(-0.250689834356308,-0.176564887166023,-0.111935004591942,-0.021519703790545,0.012639243155718,-0.240693703293800,0.012168947607279,0.079930648207664,-0.227729335427284,0.056524600833654,0.046835999935865,-0.122266069054604,0.041705150157213,-0.120119266211987,-0.141462817788124,0.064107686281204));
res += mul(Get(s2,-dx,-dy), float4x4(-0.095574244856834,-0.067832015454769,0.063678473234177,-0.205410659313202,0.052702661603689,0.102854579687119,-0.037916570901871,0.011702032759786,-0.101962313055992,0.120011366903782,0.049598671495914,0.159913405776024,0.054343327879906,0.018315695226192,-0.016487406566739,-0.124612510204315));
res += mul(Get(s2,-dx,0), float4x4(0.056443095207214,0.066667705774307,-0.014294795691967,-0.070930510759354,0.098470769822598,0.224155932664871,-0.032304245978594,-0.092187508940697,-0.068074047565460,0.170591369271278,-0.057122811675072,0.113313443958759,-0.097555726766586,-0.088324256241322,0.061651803553104,0.081834942102432));
res += mul(Get(s2,-dx,dy), float4x4(0.074480354785919,-0.039125099778175,0.062704391777515,-0.070677384734154,0.175596103072166,-0.057272404432297,-0.141195386648178,-0.012174305506051,-0.102124556899071,-0.041462954133749,-0.106939055025578,-0.080356448888779,-0.011103898286819,-0.155205249786377,0.002850043121725,0.159470111131668));
res += mul(Get(s2,0,-dy), float4x4(-0.099324211478233,0.059190172702074,-0.019808975979686,-0.184044122695923,-0.106226339936256,-0.034991662949324,0.150456219911575,0.116028726100922,-0.014786153100431,0.116290487349033,0.059203084558249,0.003569334046915,-0.048269502818584,0.127641499042511,-0.138226196169853,-0.044155899435282));
res += mul(Get(s2,0,0), float4x4(0.064003884792328,-0.098657041788101,-0.126692309975624,-0.023914333432913,-0.026205994188786,0.116688534617424,0.082026310265064,0.003154052421451,0.084518983960152,0.140284940600395,0.101675726473331,0.114641569554806,-0.072774410247803,-0.031437035650015,-0.003761612344533,0.075188465416431));
res += mul(Get(s2,0,dy), float4x4(0.070656515657902,-0.365272015333176,-0.055906914174557,0.013732331804931,0.101569041609764,-0.062934897840023,-0.153708815574646,-0.017767408862710,0.057840563356876,-0.011197370477021,0.123148992657661,0.026548948138952,-0.114494137465954,-0.224811390042305,0.077355749905109,0.107811912894249));
res += mul(Get(s2,dx,-dy), float4x4(0.152168706059456,0.207592338323593,-0.097820743918419,-0.169566020369530,-0.099269531667233,0.049002859741449,0.217286199331284,0.007302999962121,0.048295058310032,0.145358249545097,0.099529556930065,-0.088529519736767,0.241104573011398,0.056968566030264,-0.109821267426014,-0.061308931559324));
res += mul(Get(s2,dx,0), float4x4(0.121283307671547,0.128285795450211,-0.041073679924011,0.191935732960701,-0.155368953943253,0.086189463734627,0.142214566469193,-0.002795190084726,0.064847335219383,0.021708089858294,0.108957052230835,-0.097261771559715,0.194929093122482,-0.077938348054886,-0.029429234564304,0.027481265366077));
res += mul(Get(s2,dx,dy), float4x4(-0.062780410051346,0.028917217627168,-0.058941692113876,0.059635709971189,-0.070895612239838,-0.038049962371588,-0.256993502378464,0.035897199064493,0.082774221897125,0.077347189188004,0.268032938241959,0.072547860443592,0.095647037029266,-0.056450087577105,0.059701949357986,0.023354576900601));
res += mul(Get(s3,-dx,-dy), float4x4(-0.077392004430294,0.156221941113472,0.025604702532291,-0.034212008118629,0.025843827053905,-0.099656470119953,-0.126264214515686,0.042226891964674,-0.145542636513710,0.076260775327682,0.001479885773733,0.144603371620178,0.120236210525036,-0.062964044511318,-0.213630795478821,0.110531494021416));
res += mul(Get(s3,-dx,0), float4x4(-0.054273340851068,-0.007383526302874,-0.085941635072231,-0.073830582201481,0.125422358512878,0.113450169563293,-0.214270457625389,0.029587375000119,-0.103028893470764,0.067037828266621,-0.241045728325844,0.017024494707584,0.036370892077684,0.043605074286461,0.079028807580471,-0.126119121909142));
res += mul(Get(s3,-dx,dy), float4x4(-0.045660678297281,0.032283112406731,-0.178543478250504,-0.059743735939264,0.113248616456985,0.094980232417583,-0.114551648497581,-0.028059644624591,-0.313038736581802,0.081849612295628,-0.124762430787086,0.161576569080353,0.195411249995232,0.047712054103613,0.193114995956421,-0.163728818297386));
res += mul(Get(s3,0,-dy), float4x4(-0.020537596195936,0.050222069025040,0.250128030776978,-0.092070452868938,-0.022106559947133,-0.142177417874336,0.297718226909637,0.200671061873436,-0.087505869567394,0.065618395805359,-0.180268839001656,0.126458480954170,0.075253665447235,-0.029086226597428,0.190164044499397,0.051612719893456));
res += mul(Get(s3,0,0), float4x4(0.083966635167599,0.130286902189255,-0.081743165850639,-0.138192474842072,0.086676165461540,-0.160196378827095,0.201217666268349,0.169561341404915,0.112112462520599,-0.135088264942169,-0.181395307183266,-0.202773585915565,-0.013674220070243,-0.115233160555363,0.060789223760366,0.358827620744705));
res += mul(Get(s3,0,dy), float4x4(-0.058424942195415,-0.151594877243042,-0.206875056028366,-0.046655040234327,-0.058693889528513,-0.128180935978889,0.052288915961981,-0.027966573834419,-0.162468492984772,-0.352866351604462,0.031066570430994,-0.085418283939362,0.210177510976791,-0.154468432068825,-0.071925096213818,0.001897684298456));
res += mul(Get(s3,dx,-dy), float4x4(0.194071009755135,-0.178952917456627,-0.005945436656475,0.236632943153381,0.183621823787689,-0.090516172349453,-0.000922776409425,0.049891259521246,-0.121158964931965,0.053071241825819,-0.204018995165825,0.056570477783680,-0.095239207148552,0.004690774250776,-0.069983825087547,0.033302687108517));
res += mul(Get(s3,dx,0), float4x4(0.014654953964055,-0.076218470931053,-0.245976224541664,0.034912116825581,0.120358519256115,-0.147999718785286,-0.185265257954597,0.079484909772873,0.028295997530222,-0.144206911325455,0.134882599115372,-0.082965254783630,-0.005834927782416,-0.119777239859104,0.186823010444641,-0.006276852451265));
res += mul(Get(s3,dx,dy), float4x4(-0.298816710710526,0.030608508735895,-0.137924566864967,0.019376210868359,0.071627035737038,-0.121230296790600,-0.039859730750322,-0.013196723535657,-0.223772630095482,-0.253671973943710,-0.193429335951805,-0.033446587622166,-0.109678916633129,-0.229532793164253,-0.066776908934116,-0.070842877030373));
return max(float4(0,0,0,0), res);
}
