sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.120847932994366,0.324243485927582,-0.075242988765240,-0.165017783641815,0.286892592906952,-0.185995236039162,-0.114651374518871,0.085972301661968,-0.054103851318359,0.013790159486234,-0.112072370946407,0.061805903911591,0.068816035985947,-0.099336773157120,-0.325681000947952,-0.047820780426264));
res += mul(Get(s0,-dx,0), float4x4(-0.039891101419926,-0.082898415625095,0.032239884138107,-0.003722046036273,-0.007370719686151,-0.053009387105703,0.043588846921921,0.022481476888061,-0.034660946577787,-0.226213932037354,-0.129833087325096,-0.112006530165672,0.126409143209457,-0.140073105692863,-0.128668978810310,-0.078175395727158));
res += mul(Get(s0,-dx,dy), float4x4(0.172952741384506,-0.010465385392308,0.025791451334953,0.069298885762691,0.017767092213035,0.325059443712234,-0.115881882607937,0.076779127120972,-0.151272132992744,-0.296245813369751,-0.073637694120407,0.025907283648849,-0.079643584787846,-0.194555535912514,-0.108341604471207,-0.321711987257004));
res += mul(Get(s0,0,-dy), float4x4(0.029799772426486,0.094656914472580,-0.087877057492733,-0.032814670354128,0.348682671785355,-0.062070183455944,0.034999359399080,0.099739328026772,-0.071064233779907,-0.049045126885176,0.147688463330269,0.111005634069443,-0.090309835970402,0.112888857722282,0.023480199277401,0.155341610312462));
res += mul(Get(s0,0,0), float4x4(-0.109515763819218,0.268714129924774,-0.000156890178914,-0.046707041561604,-0.061334602534771,-0.115644954144955,-0.028370263054967,-0.118983358144760,-0.062969468533993,-0.125597685575485,-0.083773054182529,0.099583320319653,0.290570348501205,-0.023196600377560,-0.064702630043030,-0.112391524016857));
res += mul(Get(s0,0,dy), float4x4(-0.115828149020672,-0.097883984446526,-0.022933909669518,-0.022280981764197,0.024748984724283,0.114735707640648,0.384476363658905,-0.086616590619087,-0.039531454443932,-0.262102037668228,-0.082421049475670,0.053789269179106,0.032462593168020,-0.046023521572351,-0.126428529620171,0.058531560003757));
res += mul(Get(s0,dx,-dy), float4x4(-0.152062088251114,0.050360687077045,-0.239706411957741,0.005563657265157,0.156185626983643,0.137381494045258,0.151568397879601,-0.020281847566366,-0.083614580333233,-0.056765649467707,-0.005336814559996,-0.007237439509481,0.018678946420550,-0.000703809666447,0.017615173012018,0.165731430053711));
res += mul(Get(s0,dx,0), float4x4(0.162351921200752,0.320934951305389,-0.088252045214176,-0.070138588547707,0.081661671400070,0.022095603868365,0.027085902169347,-0.047579638659954,-0.058681212365627,-0.086436457931995,0.063217729330063,-0.064752824604511,-0.052528999745846,-0.265949010848999,0.004170899279416,-0.090419255197048));
res += mul(Get(s0,dx,dy), float4x4(0.112163446843624,-0.081761717796326,-0.065061211585999,-0.055559437721968,-0.054266888648272,0.020952878519893,0.075303748250008,0.143623873591423,-0.051697224378586,-0.132300332188606,0.146290242671967,0.044763352721930,0.186038613319397,0.189653247594833,0.045838329941034,-0.085090219974518));
res += mul(Get(s1,-dx,-dy), float4x4(0.245034307241440,0.179663613438606,-0.081669233739376,0.285684764385223,0.028073966503143,0.057018026709557,-0.124904982745647,-0.113251537084579,0.007046188227832,0.018260383978486,-0.032190930098295,-0.008685283362865,-0.133338779211044,-0.088197849690914,-0.084946431219578,-0.147355556488037));
res += mul(Get(s1,-dx,0), float4x4(0.108214810490608,0.301269412040710,-0.126970231533051,-0.014260265976191,0.207908123731613,0.316616564989090,-0.109576225280762,0.068073190748692,-0.131649881601334,-0.082045197486877,0.087789267301559,0.036097697913647,0.126826837658882,-0.091751523315907,-0.036697547882795,-0.248059988021851));
res += mul(Get(s1,-dx,dy), float4x4(0.354210704565048,-0.005986647214741,-0.136040568351746,-0.034230127930641,0.505228877067566,-0.076190158724785,-0.069365926086903,-0.011545390821993,-0.022801889106631,-0.085352122783661,0.212763264775276,-0.021725460886955,0.229990541934967,-0.108252219855785,0.155405849218369,-0.128749400377274));
res += mul(Get(s1,0,-dy), float4x4(-0.013397685252130,0.223473951220512,-0.136466234922409,-0.057355392724276,-0.182206735014915,0.116501979529858,-0.109824612736702,-0.050334535539150,0.068937212228775,-0.117776207625866,-0.048897709697485,0.089179940521717,0.041134692728519,-0.028433496132493,0.060672760009766,-0.056919269263744));
res += mul(Get(s1,0,0), float4x4(0.098864711821079,0.102151677012444,-0.019061241298914,0.121939599514008,-0.157244741916656,0.076417341828346,-0.063846550881863,0.187658011913300,-0.090506091713905,-0.138329669833183,0.001611320767552,0.001258890144527,-0.029740743339062,-0.027360882610083,-0.060843288898468,-0.055886831134558));
res += mul(Get(s1,0,dy), float4x4(0.023502744734287,0.050578881055117,-0.048383928835392,0.191736891865730,0.060392037034035,-0.084948994219303,-0.113705046474934,-0.034295026212931,-0.073527842760086,-0.036463610827923,0.344523102045059,-0.098720662295818,0.050047218799591,-0.018244372680783,0.129590243101120,-0.094689048826694));
res += mul(Get(s1,dx,-dy), float4x4(-0.069692663848400,0.118569619953632,-0.174895167350769,-0.160624831914902,-0.131879940629005,0.008827608078718,0.145789504051208,-0.087679795920849,0.014952930621803,-0.048232622444630,0.037180613726377,-0.112615361809731,-0.059059891849756,0.001621781266294,0.092609830200672,-0.051590736955404));
res += mul(Get(s1,dx,0), float4x4(0.016426635906100,0.172697350382805,0.007260126993060,0.121601939201355,-0.114042893052101,0.175562381744385,-0.104954034090042,0.027194764465094,-0.010647154413164,-0.045818813145161,0.014371212571859,-0.154821664094925,0.110109932720661,-0.115824140608311,0.019048456102610,0.047310128808022));
res += mul(Get(s1,dx,dy), float4x4(-0.026689259335399,0.084238424897194,-0.013802416622639,-0.001817858894356,-0.076496750116348,0.066210247576237,-0.111320853233337,-0.217073515057564,-0.112789995968342,0.094184607267380,-0.025296188890934,-0.133655995130539,0.137701496481895,-0.273037374019623,-0.014070690609515,-0.113588035106659));
res += mul(Get(s2,-dx,-dy), float4x4(-0.093119934201241,-0.032466497272253,0.036127686500549,0.016379544511437,0.013947650790215,0.281483232975006,0.167299523949623,0.108002670109272,-0.059585064649582,-0.111004874110222,-0.130514100193977,0.046265672892332,-0.225713744759560,-0.327248871326447,0.167930662631989,-0.056985747069120));
res += mul(Get(s2,-dx,0), float4x4(-0.004029419738799,-0.107924759387970,-0.013382399454713,-0.094087898731232,0.079263493418694,0.241436287760735,-0.020550489425659,0.044810216873884,0.000160039213370,-0.267755955457687,-0.051797442138195,0.025337819010019,-0.057257417589426,-0.158851876854897,-0.102971367537975,0.035877536982298));
res += mul(Get(s2,-dx,dy), float4x4(-0.024320550262928,0.057244401425123,0.313450634479523,-0.010805564001203,-0.129034191370010,0.108641527593136,-0.075365617871284,0.055202689021826,-0.100208714604378,-0.093085959553719,-0.130455926060677,-0.070023491978645,0.031847119331360,0.107865616679192,-0.065356634557247,-0.068533003330231));
res += mul(Get(s2,0,-dy), float4x4(-0.206957802176476,0.293709665536880,0.123163759708405,0.093950957059860,-0.300975084304810,-0.178758233785629,0.025491749867797,-0.012103905901313,-0.116217583417892,-0.033220119774342,-0.093606658279896,-0.098041817545891,-0.189801186323166,-0.176811471581459,0.156001403927803,-0.136380389332771));
res += mul(Get(s2,0,0), float4x4(-0.211851641535759,0.020069204270840,0.110593430697918,0.021796938031912,-0.157163217663765,-0.083226099610329,-0.018690543249249,-0.033723112195730,-0.030485950410366,-0.213082075119019,-0.019627217203379,-0.071732342243195,-0.068043850362301,-0.195130988955498,0.011754544451833,0.349635154008865));
res += mul(Get(s2,0,dy), float4x4(-0.100015446543694,0.019803222268820,0.230337932705879,0.004165164660662,0.020256085321307,0.092263802886009,-0.151405617594719,0.095516405999660,-0.020414059981704,-0.136678487062454,0.026721868664026,0.020639451220632,-0.192205533385277,-0.082422927021980,0.034041613340378,-0.095290936529636));
res += mul(Get(s2,dx,-dy), float4x4(0.041805863380432,-0.015616069547832,0.066281430423260,-0.065526708960533,-0.291775703430176,0.372519105672836,0.198374852538109,-0.180952921509743,0.060681160539389,0.030961045995355,-0.190003156661987,-0.057819720357656,-0.146750316023827,-0.123315282166004,0.336019545793533,-0.266979634761810));
res += mul(Get(s2,dx,0), float4x4(-0.068771257996559,0.333254337310791,-0.082997813820839,0.068083971738815,-0.340854287147522,0.339193761348724,-0.047421246767044,-0.090818889439106,-0.005774815101177,0.059931568801403,0.037611749023199,0.073796577751637,-0.129598051309586,-0.177834197878838,0.152400195598602,0.152123898267746));
res += mul(Get(s2,dx,dy), float4x4(-0.132263973355293,0.245181351900101,-0.057361856102943,0.013987160287797,-0.251748383045197,0.091473154723644,0.027393650263548,-0.055302694439888,0.138695642352104,0.014235400594771,0.029902594164014,0.089780434966087,-0.181046232581139,-0.129288882017136,0.018022280186415,-0.078332908451557));
res += mul(Get(s3,-dx,-dy), float4x4(-0.012571188621223,-0.122632786631584,-0.352061182260513,-0.078737661242485,-0.132464453577995,0.125954806804657,-0.056426823139191,0.180350989103317,0.046743545681238,-0.182624265551567,-0.014473740011454,0.117846988141537,0.126665651798248,-0.192588970065117,-0.086433820426464,-0.079951360821724));
res += mul(Get(s3,-dx,0), float4x4(-0.096165835857391,-0.108233325183392,-0.178693234920502,-0.087589561939240,-0.024610625579953,0.015351573936641,-0.000564994814340,0.114389672875404,0.045574102550745,-0.148052155971527,-0.148948192596436,0.044522672891617,0.108115129172802,-0.106397882103920,0.107504934072495,-0.052701327949762));
res += mul(Get(s3,-dx,dy), float4x4(-0.114001721143723,-0.001604879857041,-0.127098679542542,-0.113705322146416,0.246606513857841,0.149769827723503,-0.144650861620903,-0.106983453035355,0.002687208820134,-0.071035616099834,0.105461761355400,0.082870572805405,-0.053249012678862,0.034159831702709,-0.149224787950516,0.029177064076066));
res += mul(Get(s3,0,-dy), float4x4(0.002458757488057,-0.095628105103970,-0.025745449587703,0.040131729096174,0.007076059002429,0.200912043452263,-0.060445524752140,0.011232812888920,-0.064463742077351,-0.120210446417332,0.072670705616474,0.353948295116425,0.156719490885735,-0.152791023254395,-0.124360762536526,0.135277509689331));
res += mul(Get(s3,0,0), float4x4(-0.074289552867413,-0.075726762413979,0.099778436124325,0.122301876544952,-0.011036069132388,0.064307577908039,0.050508324056864,0.109922543168068,-0.042225040495396,-0.142596349120140,-0.145120322704315,0.065608650445938,0.080828145146370,-0.069931298494339,-0.002404496772215,0.045260559767485));
res += mul(Get(s3,0,dy), float4x4(-0.138936772942543,0.055409487336874,0.104908742010593,-0.065813660621643,0.076488062739372,0.036260806024075,-0.097768269479275,-0.009111023508012,-0.130833983421326,-0.157765999436378,-0.027810765430331,0.175867915153503,-0.034758325666189,-0.013245133683085,0.042608886957169,-0.117487221956253));
res += mul(Get(s3,dx,-dy), float4x4(0.067591719329357,0.052642241120338,-0.178577721118927,0.389025628566742,-0.034891553223133,0.013845473527908,-0.076658472418785,-0.104771263897419,-0.022295897826552,-0.244001120328903,0.094583168625832,-0.003585536498576,0.005747409071773,0.072708241641521,0.043118707835674,0.085880339145660));
res += mul(Get(s3,dx,0), float4x4(0.134631827473640,-0.002031116513535,-0.043835934251547,0.301431238651276,-0.047542758285999,-0.182649686932564,0.001793081872165,-0.012979315593839,-0.038401376456022,-0.095912940800190,0.151112809777260,0.062781207263470,0.284982025623322,0.082152456045151,0.040982820093632,0.038631152361631));
res += mul(Get(s3,dx,dy), float4x4(0.033945482224226,0.090052448213100,0.091657638549805,-0.080098681151867,0.097854107618332,0.251722067594528,-0.131047025322914,-0.166835933923721,-0.013394023291767,0.046746958047152,0.013284263201058,0.074943087995052,0.151114434003830,0.036075945943594,0.060102857649326,0.001469006529078));
return max(float4(0,0,0,0), res);
}
