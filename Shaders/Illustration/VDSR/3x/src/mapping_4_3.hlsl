sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.149105146527290,-0.045351091772318,-0.122193716466427,-0.051406580954790,-0.187750443816185,-0.151079475879669,0.234008103609085,0.082807525992393,0.129633665084839,0.001480509527028,0.061521809548140,-0.171096429228783,-0.335684508085251,0.332717359066010,-0.173959195613861,-0.127540916204453));
res += mul(Get(s0,-dx,0), float4x4(-0.037011280655861,-0.090958237648010,-0.120445355772972,-0.047349851578474,-0.105194069445133,-0.114955492317677,0.142752081155777,0.037024226039648,-0.063887797296047,-0.003109654877335,-0.101416580379009,-0.058113012462854,-0.147901311516762,0.165375351905823,0.079653598368168,-0.049038350582123));
res += mul(Get(s0,-dx,dy), float4x4(0.017298595979810,0.116678506135941,-0.118613138794899,-0.043790116906166,-0.165302127599716,-0.020819833502173,0.039677023887634,0.173106700181961,0.307722091674805,-0.128251239657402,-0.013568875379860,-0.050487767904997,0.044380139559507,0.107818692922592,0.160055145621300,-0.016279427334666));
res += mul(Get(s0,0,-dy), float4x4(0.274848818778992,-0.238084688782692,-0.007570229005069,-0.139118656516075,0.192079663276672,-0.192701250314713,0.051628079265356,0.144486680626869,0.044231005012989,-0.119224667549133,-0.026231836527586,-0.322869539260864,-0.336047619581223,0.263068377971649,-0.175198078155518,-0.107268668711185));
res += mul(Get(s0,0,0), float4x4(-0.067741587758064,0.006650774739683,-0.159785956144333,0.221566900610924,-0.068860299885273,-0.102310195565224,0.158856138586998,0.083977483212948,0.108808025717735,-0.166093260049820,-0.077388651669025,0.088685333728790,-0.002134534763172,0.132180884480476,-0.037845604121685,-0.052830133587122));
res += mul(Get(s0,0,dy), float4x4(0.083584032952785,0.153521284461021,-0.146374195814133,0.170730441808701,0.010090361349285,0.117101661860943,0.022796677425504,0.157229691743851,-0.104077361524105,-0.127990633249283,-0.121470615267754,0.162331581115723,0.078212983906269,0.054321549832821,-0.087582699954510,-0.081300780177116));
res += mul(Get(s0,dx,-dy), float4x4(0.097851015627384,-0.046760112047195,0.058869432657957,-0.124522693455219,-0.122083365917206,-0.032178267836571,-0.072170197963715,0.090966612100601,0.286230415105820,-0.010891493409872,0.031313758343458,-0.192114666104317,-0.222375765442848,0.157405734062195,-0.138089358806610,-0.255489856004715));
res += mul(Get(s0,dx,0), float4x4(-0.237339094281197,0.007645870093256,0.018332462757826,0.199683770537376,-0.080424524843693,-0.093892402946949,-0.042950730770826,0.123612508177757,-0.031340092420578,-0.111721731722355,0.100322932004929,0.075352557003498,0.067883566021919,0.143150895833969,-0.014280593954027,-0.059929061681032));
res += mul(Get(s0,dx,dy), float4x4(-0.274455696344376,-0.183742925524712,0.090516410768032,0.415943741798401,-0.141780361533165,0.142461568117142,-0.084164105355740,-0.016285352408886,-0.081277683377266,-0.048672243952751,0.026593774557114,-0.142746046185493,-0.114827975630760,0.130441129207611,-0.047919616103172,-0.112808406352997));
res += mul(Get(s1,-dx,-dy), float4x4(0.028943529352546,-0.128486424684525,-0.088154129683971,-0.029588233679533,-0.039718434214592,-0.085803203284740,0.244084686040878,0.065435998141766,-0.129269883036613,0.013091995380819,0.110956206917763,-0.158799514174461,-0.157781332731247,0.355644762516022,0.300660938024521,-0.239131346344948));
res += mul(Get(s1,-dx,0), float4x4(-0.141137301921844,-0.081955410540104,-0.117935225367546,-0.165287822484970,-0.044415421783924,-0.038403067737818,0.002733696019277,0.050903763622046,0.097568154335022,0.277210801839828,-0.227301284670830,0.137764200568199,-0.103095181286335,-0.224064245820045,-0.134021341800690,-0.081227809190750));
res += mul(Get(s1,-dx,dy), float4x4(-0.232343539595604,0.056172672659159,0.202030226588249,-0.141170397400856,-0.141647666692734,0.103106126189232,-0.089722752571106,0.172212451696396,0.118751727044582,0.010394824668765,0.100397676229477,-0.049382772296667,-0.181243702769279,0.196349978446960,0.092110268771648,0.001630005659536));
res += mul(Get(s1,0,-dy), float4x4(0.036063212901354,-0.208715960383415,-0.033490281552076,0.006143165752292,-0.229998826980591,0.004275392740965,-0.082092396914959,-0.061436299234629,-0.132831856608391,0.192217931151390,-0.003258685115725,-0.011347165331244,-0.272021561861038,-0.174096107482910,-0.013072608970106,-0.101873531937599));
res += mul(Get(s1,0,0), float4x4(-0.008622938767076,-0.129986271262169,-0.138619288802147,-0.012584071606398,0.269605249166489,-0.014861932024360,-0.079056076705456,-0.013141684234142,-0.029384229332209,0.076375648379326,-0.118665151298046,-0.146494537591934,-0.056581482291222,-0.137403994798660,-0.331314057111740,-0.023996548727155));
res += mul(Get(s1,0,dy), float4x4(-0.203259751200676,0.008985850960016,0.039268098771572,-0.059511516243219,0.080810330808163,-0.078261539340019,-0.099850058555603,0.144000291824341,-0.160320535302162,0.206886693835258,0.136004939675331,-0.069839075207710,-0.196529537439346,0.223008260130882,-0.346299469470978,-0.004483337514102));
res += mul(Get(s1,dx,-dy), float4x4(-0.037395600229502,-0.155155748128891,0.144351944327354,0.000792757782619,0.030872676521540,-0.020012017339468,-0.037852566689253,-0.032313067466021,-0.176206499338150,0.278441488742828,-0.158715620636940,-0.151585653424263,-0.117533087730408,-0.078611515462399,-0.223272234201431,0.133703678846359));
res += mul(Get(s1,dx,0), float4x4(-0.068678058683872,-0.192489296197891,-0.070674389600754,-0.230115279555321,0.094563774764538,-0.187135785818100,-0.135899975895882,-0.084157936275005,-0.118617303669453,-0.092364206910133,-0.081954814493656,-0.290531426668167,-0.132101029157639,0.071208178997040,-0.137672260403633,-0.134168341755867));
res += mul(Get(s1,dx,dy), float4x4(-0.011628333479166,-0.020302001386881,-0.161574751138687,-0.248012676835060,-0.056675661355257,-0.312354952096939,0.033292043954134,0.083611443638802,-0.133513271808624,0.087389700114727,0.005486731417477,-0.163076385855675,-0.099506847560406,0.146132737398148,0.035245887935162,-0.144174829125404));
res += mul(Get(s2,-dx,-dy), float4x4(-0.129907846450806,-0.124997533857822,0.281531184911728,-0.090016357600689,-0.102486111223698,-0.209121346473694,0.003219431731850,-0.184401229023933,0.178558096289635,-0.303897798061371,-0.018687486648560,0.275916248559952,-0.144041165709496,-0.180388182401657,0.101179786026478,-0.232167243957520));
res += mul(Get(s2,-dx,0), float4x4(-0.037511274218559,-0.001216939883307,0.066875152289867,-0.066354654729366,-0.119349129498005,-0.125779449939728,0.119905911386013,-0.156926661729813,0.070378541946411,-0.292373716831207,-0.147614389657974,0.096879325807095,-0.025611137971282,0.007744673173875,0.082458145916462,-0.020776089280844));
res += mul(Get(s2,-dx,dy), float4x4(0.018321121111512,-0.051633398979902,-0.050523754209280,-0.132364526391029,0.001667374395765,0.066219508647919,0.354029476642609,-0.199034646153450,-0.077557079493999,0.070432513952255,-0.102908387780190,0.007541563361883,0.062584280967712,0.190448969602585,0.357739418745041,-0.101735934615135));
res += mul(Get(s2,0,-dy), float4x4(-0.148644119501114,0.092113077640533,0.049845475703478,-0.119831129908562,0.038533184677362,0.014887414872646,-0.094883136451244,-0.075226448476315,-0.049619786441326,-0.045587316155434,0.048865020275116,0.079777643084526,-0.036058221012354,-0.077194914221764,-0.035608347505331,-0.217585861682892));
res += mul(Get(s2,0,0), float4x4(-0.129071518778801,0.087238013744354,-0.023293318226933,0.015473234467208,0.112750746309757,-0.185595199465752,0.004419944249094,-0.128818094730377,0.156646609306335,0.145130947232246,0.213832646608353,-0.031304251402617,0.244906172156334,-0.180700808763504,-0.040327399969101,-0.153087481856346));
res += mul(Get(s2,0,dy), float4x4(-0.031896054744720,0.048306364566088,-0.127882406115532,0.194100230932236,-0.036152992397547,-0.050941262394190,0.097467660903931,-0.196625784039497,-0.111010335385799,0.222470253705978,0.199074313044548,-0.126104697585106,0.186314389109612,-0.302666991949081,0.087666943669319,-0.119735814630985));
res += mul(Get(s2,dx,-dy), float4x4(-0.175426200032234,0.054149240255356,0.046637438237667,0.057711333036423,0.068890437483788,-0.117237105965614,0.262698799371719,-0.102743402123451,0.336064338684082,0.139544382691383,-0.004456134047359,-0.032106235623360,0.006203300785273,-0.041558526456356,-0.124534375965595,-0.066547222435474));
res += mul(Get(s2,dx,0), float4x4(-0.069385699927807,0.110653027892113,0.079328231513500,-0.101725228130817,0.363100707530975,-0.074946746230125,-0.086827188730240,0.088465742766857,-0.088010147213936,0.160167068243027,0.060692287981510,-0.078123055398464,-0.097471818327904,0.133518874645233,-0.100190632045269,-0.035344496369362));
res += mul(Get(s2,dx,dy), float4x4(0.088176898658276,-0.035691361874342,0.012308751232922,-0.054627195000648,-0.009187270887196,-0.025044567883015,-0.200159326195717,-0.074794970452785,0.004228464793414,0.096880562603474,0.093226276338100,-0.021972432732582,0.168228670954704,0.183323591947556,-0.025068564340472,-0.064481846988201));
res += mul(Get(s3,-dx,-dy), float4x4(-0.090882696211338,0.061647612601519,-0.042236857116222,0.011774813756347,-0.246198669075966,-0.141555011272430,0.268610537052155,-0.063653610646725,-0.080332770943642,-0.298665761947632,0.106681384146214,0.098955705761909,-0.065720833837986,-0.195689141750336,-0.029259100556374,0.139350771903992));
res += mul(Get(s3,-dx,0), float4x4(0.044721450656652,0.195114627480507,-0.169762223958969,-0.020683530718088,0.041184239089489,-0.129957422614098,0.059759348630905,0.228632286190987,-0.163753435015678,-0.089932024478912,-0.116902612149715,0.076115630567074,0.271427512168884,-0.178142681717873,-0.065368175506592,0.114501707255840));
res += mul(Get(s3,-dx,dy), float4x4(0.033398684114218,-0.060029178857803,0.132906645536423,-0.098645217716694,0.034932412207127,-0.066158592700958,0.055514466017485,-0.045649088919163,-0.039745271205902,-0.045093335211277,-0.052356652915478,-0.009287645108998,-0.020902773365378,-0.108459979295731,-0.192063286900520,0.098577678203583));
res += mul(Get(s3,0,-dy), float4x4(0.004304131492972,0.240797892212868,0.108941122889519,-0.094041153788567,0.062511697411537,-0.012099962681532,-0.189622223377228,0.174093663692474,0.071916610002518,-0.376781016588211,-0.086738601326942,-0.017215562984347,-0.034769248217344,-0.128010556101799,0.050429034978151,-0.129645317792892));
res += mul(Get(s3,0,0), float4x4(0.174473717808723,0.150301411747932,-0.117360062897205,0.050161123275757,-0.017423514276743,-0.241189673542976,-0.104317948222160,0.077216371893883,0.044255875051022,0.007423674222082,-0.235479578375816,0.009671132080257,0.096188165247440,-0.136486575007439,0.022255385294557,-0.143424391746521));
res += mul(Get(s3,0,dy), float4x4(0.188648045063019,-0.092388376593590,-0.134441584348679,0.131822273135185,0.108387999236584,-0.205003783106804,-0.253872036933899,-0.100496582686901,0.259043455123901,-0.034458816051483,-0.172067001461983,-0.040722154080868,-0.040808111429214,-0.158975064754486,-0.018064094707370,0.198992192745209));
res += mul(Get(s3,dx,-dy), float4x4(-0.014248387888074,-0.080913342535496,0.217160627245903,0.065342351794243,-0.131452739238739,0.039741303771734,0.150787100195885,-0.115746684372425,-0.087193861603737,0.024750314652920,-0.102317065000534,-0.041826069355011,-0.109312720596790,-0.083920456469059,-0.024124564602971,-0.106858707964420));
res += mul(Get(s3,dx,0), float4x4(0.214733794331551,0.154343023896217,-0.005537015851587,0.049500200897455,-0.151134923100471,0.001546246116050,0.195945754647255,0.116245463490486,-0.117525070905685,0.003926834557205,-0.152318775653839,0.031734853982925,-0.196811228990555,-0.016389746218920,0.009515215642750,-0.143472552299500));
res += mul(Get(s3,dx,dy), float4x4(-0.015884667634964,0.246758580207825,-0.186419680714607,0.136560410261154,-0.403668880462646,-0.024010997265577,-0.127153828740120,-0.200328931212425,0.009321352466941,0.037621662020683,-0.219070881605148,-0.172499135136604,0.021429520100355,0.050894562155008,0.041248220950365,0.045490924268961));
return max(float4(0,0,0,0), res);
}
