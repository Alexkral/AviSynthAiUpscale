sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.214022710919380,0.042887430638075,0.287125349044800,-0.068836390972137,-0.018084913492203,-0.111314423382282,0.047047562897205,0.068600893020630,0.084534436464310,0.007540272083133,-0.169106662273407,0.123132064938545,0.151439934968948,-0.201197892427444,-0.066866144537926,-0.107142850756645));
res += mul(Get(s0,-dx,0), float4x4(-0.022852618247271,-0.119120053946972,0.233978077769279,-0.088008888065815,-0.169199019670486,0.206374406814575,-0.038055106997490,0.013995617628098,0.325145781040192,0.085569523274899,0.106106616556644,-0.111315034329891,0.044879887253046,0.043580725789070,-0.102438390254974,-0.082086496055126));
res += mul(Get(s0,-dx,dy), float4x4(-0.051146514713764,0.002939598634839,-0.067064419388771,0.163315087556839,0.112395472824574,-0.145798504352570,0.109300114214420,-0.048772167414427,-0.198496103286743,-0.183798730373383,-0.065541565418243,0.032730046659708,0.085356324911118,0.032686408609152,0.125065460801125,0.033657390624285));
res += mul(Get(s0,0,-dy), float4x4(0.050156395882368,0.007871853187680,0.002834994578734,0.103488586843014,-0.029604718089104,-0.178826406598091,-0.034588232636452,-0.079595491290092,-0.086414262652397,-0.207252800464630,-0.190893560647964,-0.203093275427818,-0.144309371709824,0.135030329227448,-0.104308821260929,0.051100980490446));
res += mul(Get(s0,0,0), float4x4(0.321657329797745,-0.150837376713753,-0.137646526098251,0.035656284540892,0.299863278865814,0.120941631495953,0.054284460842609,0.119213074445724,-0.059839103370905,0.053869009017944,-0.121197432279587,0.052184570580721,-0.056386020034552,-0.038303710520267,0.068240746855736,-0.013410620391369));
res += mul(Get(s0,0,dy), float4x4(0.008742783218622,-0.011478704400361,-0.064698420464993,0.200359120965004,0.016925113275647,-0.054572787135839,0.218248188495636,-0.117562673985958,0.061825040727854,-0.184457108378410,0.094976030290127,0.118900224566460,0.070175960659981,-0.159989610314369,0.142778038978577,0.011575505137444));
res += mul(Get(s0,dx,-dy), float4x4(-0.045879781246185,-0.006391562987119,-0.099414423108101,-0.064164325594902,-0.058566313236952,-0.050732135772705,-0.134622305631638,0.049220111221075,-0.020644817501307,0.207176133990288,0.066472329199314,-0.003201480722055,-0.101121142506599,-0.078765466809273,0.123001888394356,0.001557704876177));
res += mul(Get(s0,dx,0), float4x4(0.112453922629356,-0.068174183368683,0.046308439224958,-0.034626014530659,0.002783880103379,-0.037157498300076,-0.036040771752596,-0.095373302698135,0.049299608916044,0.071143940091133,0.004587514791638,-0.113996565341949,0.077031262218952,-0.049028225243092,0.031511671841145,-0.066985681653023));
res += mul(Get(s0,dx,dy), float4x4(0.104432046413422,-0.005337778478861,0.115815289318562,0.075742460787296,-0.000520278059412,0.143537968397141,-0.109542697668076,-0.042406838387251,-0.137567132711411,0.173698738217354,-0.178694888949394,0.158234208822250,-0.057567626237869,-0.035213049501181,-0.199484840035439,-0.016970079392195));
res += mul(Get(s1,-dx,-dy), float4x4(-0.123874753713608,-0.009463399648666,0.266068994998932,-0.050799936056137,0.055406134575605,0.063582003116608,-0.037158060818911,0.031052920967340,0.053310569375753,-0.052589807659388,-0.017925685271621,0.051697585731745,0.013508122414351,-0.067000448703766,-0.002087388653308,-0.082155741751194));
res += mul(Get(s1,-dx,0), float4x4(0.077854409813881,0.055509857833385,-0.137016281485558,-0.058176796883345,0.034654870629311,-0.075060024857521,-0.031312722712755,-0.035852622240782,-0.146321147680283,-0.144607707858086,0.084953516721725,-0.009309141896665,0.087317153811455,0.136334478855133,-0.040567141026258,-0.198041096329689));
res += mul(Get(s1,-dx,dy), float4x4(-0.132778212428093,0.216332107782364,-0.094939343631268,0.016161873936653,0.317508965730667,-0.016287121921778,-0.011148175224662,-0.168730154633522,0.009369730949402,0.277405738830566,-0.053860072046518,0.106130637228489,-0.084967814385891,0.102970361709595,-0.037251971662045,-0.114273145794868));
res += mul(Get(s1,0,-dy), float4x4(0.144955828785896,-0.048149365931749,0.015628321096301,-0.002101353835315,0.194232672452927,-0.018154975026846,-0.035881876945496,-0.016310080885887,0.101744025945663,-0.022882904857397,-0.101351745426655,-0.107912510633469,0.090789102017879,-0.010407826863229,0.087365701794624,-0.050974920392036));
res += mul(Get(s1,0,0), float4x4(-0.155769318342209,-0.042983107268810,0.078710287809372,-0.109627418220043,-0.046635631471872,0.030906492844224,0.049962032586336,-0.009530296549201,0.179572463035583,-0.022754848003387,0.122296251356602,-0.117756649851799,-0.104427233338356,0.169357329607010,-0.142213463783264,0.126322150230408));
res += mul(Get(s1,0,dy), float4x4(-0.158163011074066,0.121211089193821,-0.007820294238627,-0.012366177514195,0.068087324500084,-0.154051095247269,-0.027188260108232,0.155031368136406,-0.121649071574211,-0.036879464983940,0.052912872284651,-0.021643133834004,-0.157127469778061,0.041392862796783,0.063634857535362,-0.180851727724075));
res += mul(Get(s1,dx,-dy), float4x4(0.413228631019592,0.342083543539047,-0.138973847031593,0.021701231598854,0.183982715010643,0.017629547044635,-0.053733561187983,0.147026717662811,0.207642823457718,-0.034081198275089,-0.087110109627247,-0.083277776837349,0.104885652661324,0.097708195447922,-0.261724263429642,0.052046101540327));
res += mul(Get(s1,dx,0), float4x4(0.007136370521039,-0.028780078515410,-0.166874542832375,0.088402152061462,0.031395822763443,-0.032895930111408,-0.029204880818725,0.122299052774906,-0.049969810992479,0.118829548358917,0.118003077805042,-0.138307198882103,0.050152003765106,-0.034039467573166,0.001243192935362,0.252917945384979));
res += mul(Get(s1,dx,dy), float4x4(-0.019891563802958,-0.249290660023689,-0.234399110078812,0.045510582625866,-0.280666053295135,-0.166003122925758,0.186052739620209,0.139644742012024,0.176790326833725,-0.173116564750671,-0.045401010662317,-0.170732140541077,-0.019315294921398,0.176252290606499,-0.124380677938461,0.027536604553461));
res += mul(Get(s2,-dx,-dy), float4x4(-0.034144707024097,0.067920617759228,0.021739065647125,0.021101618185639,-0.063831560313702,-0.165145799517632,0.071928650140762,-0.004691007547081,0.001640595844947,-0.074936069548130,0.027060883119702,-0.120570652186871,0.099068343639374,-0.091874368488789,-0.066248670220375,0.118582494556904));
res += mul(Get(s2,-dx,0), float4x4(-0.122208759188652,0.039265364408493,-0.132209300994873,0.046139519661665,0.018427323549986,-0.050611145794392,-0.049905370920897,-0.045206904411316,0.096681334078312,-0.162085741758347,0.029434006661177,-0.130358576774597,0.103246591985226,-0.073527991771698,-0.056717406958342,0.131065055727959));
res += mul(Get(s2,-dx,dy), float4x4(-0.164329200983047,-0.108571566641331,0.108839191496372,-0.006086701992899,0.080822780728340,0.240919351577759,-0.008423822000623,0.023904530331492,0.014124472625554,-0.056695982813835,0.015747385099530,-0.021493855863810,0.027259185910225,-0.131945297122002,0.048483867198229,-0.048733070492744));
res += mul(Get(s2,0,-dy), float4x4(-0.256665617227554,-0.036642517894506,-0.091727487742901,0.001535522053018,-0.062890663743019,-0.070150889456272,0.000934928306378,0.045433856546879,-0.024803599342704,-0.232145652174950,0.161905318498611,-0.017994634807110,0.056165877729654,-0.187120914459229,0.024119792506099,0.196702778339386));
res += mul(Get(s2,0,0), float4x4(-0.214058235287666,0.047413598746061,-0.114095643162727,0.027287280187011,-0.160899519920349,-0.102075882256031,0.038208410143852,-0.069741673767567,0.075006365776062,0.091307483613491,-0.027365652844310,-0.020643936470151,0.131201833486557,-0.095041260123253,-0.025958873331547,0.135774523019791));
res += mul(Get(s2,0,dy), float4x4(0.004262847825885,0.056726086884737,0.035082552582026,-0.102667324244976,-0.001415368984453,-0.032303314656019,-0.038493152707815,-0.123184666037560,0.246605858206749,0.130613565444946,-0.054163824766874,0.014918830245733,-0.061069626361132,-0.118875972926617,-0.001570934662595,-0.027599075809121));
res += mul(Get(s2,dx,-dy), float4x4(0.085021190345287,-0.131310895085335,-0.059087198227644,0.012027531862259,0.009857249446213,0.081513173878193,0.081243865191936,0.082551792263985,-0.025595841929317,0.103168502449989,0.013606030493975,0.084441959857941,-0.097865402698517,0.008900284767151,-0.151240020990372,-0.072536326944828));
res += mul(Get(s2,dx,0), float4x4(-0.041001968085766,0.090668164193630,-0.072714470326900,0.029427040368319,-0.195311456918716,0.009916440583766,0.025920936837792,0.087452054023743,-0.024989953264594,0.157718181610107,-0.061842102557421,-0.042323641479015,-0.106911063194275,-0.029988497495651,-0.008113328367472,0.206726387143135));
res += mul(Get(s2,dx,dy), float4x4(0.029757384210825,0.133837506175041,-0.056958321481943,0.036091629415751,-0.016672508791089,-0.304233223199844,0.080363146960735,0.168531313538551,0.177694007754326,0.160449311137199,-0.155774012207985,0.066351152956486,0.106097646057606,0.065906882286072,-0.027521923184395,-0.056085512042046));
res += mul(Get(s3,-dx,-dy), float4x4(0.253333717584610,-0.097492836415768,0.096180148422718,-0.054830227047205,0.139860793948174,-0.128868058323860,-0.093906439840794,0.007052275817841,0.011863674968481,-0.127648219466209,-0.018124938011169,0.136044234037399,0.134462401270866,0.197395905852318,0.150968059897423,-0.115447245538235));
res += mul(Get(s3,-dx,0), float4x4(0.153051093220711,0.039562851190567,0.082489453256130,-0.020749198272824,-0.193033695220947,-0.050230722874403,-0.148348703980446,0.041116286069155,-0.082137115299702,0.021003762260079,-0.119846634566784,-0.072796463966370,0.135285377502441,0.033306632190943,0.051047462970018,0.085393585264683));
res += mul(Get(s3,-dx,dy), float4x4(-0.019203707575798,0.013278892263770,-0.096868395805359,-0.017536833882332,-0.004248785320669,-0.289009898900986,0.022376850247383,0.027461003512144,0.134331509470940,-0.099262669682503,-0.054410602897406,0.013633580878377,-0.012499065138400,0.077341645956039,0.044283434748650,0.026652796193957));
res += mul(Get(s3,0,-dy), float4x4(-0.144019767642021,-0.157438129186630,-0.196491464972496,0.242652088403702,0.154569700360298,0.149489507079124,0.008031183853745,0.021393807604909,0.094456285238266,-0.061050061136484,0.120182178914547,-0.001755336998031,0.075285397469997,-0.019995151087642,-0.016168998554349,-0.154290482401848));
res += mul(Get(s3,0,0), float4x4(-0.054457370191813,-0.208507120609283,-0.001142827561125,0.158768370747566,-0.039372600615025,-0.098209448158741,-0.121229834854603,0.148655787110329,-0.303645551204681,-0.071318976581097,-0.118796057999134,-0.046089835464954,-0.021825868636370,0.098521530628204,-0.093326628208160,-0.221185639500618));
res += mul(Get(s3,0,dy), float4x4(0.035312213003635,-0.264077603816986,0.117211930453777,-0.030160615220666,-0.089133732020855,0.032080210745335,0.082699351012707,-0.060575682669878,0.095508046448231,-0.021241044625640,0.086991153657436,-0.162967637181282,0.000411308952607,-0.199506729841232,-0.055454879999161,-0.166438296437263));
res += mul(Get(s3,dx,-dy), float4x4(-0.162683844566345,-0.044574167579412,0.152216881513596,0.171802505850792,0.017706032842398,-0.144314303994179,0.126639753580093,0.093515172600746,0.035119090229273,0.088977515697479,0.213321626186371,0.222301647067070,0.127442836761475,-0.123517058789730,0.046904698014259,-0.117322482168674));
res += mul(Get(s3,dx,0), float4x4(-0.117887355387211,0.016656108200550,0.070485368371010,-0.041851095855236,-0.007501611020416,0.017498658969998,0.008206655271351,-0.011053975671530,-0.257435709238052,-0.288562327623367,0.030383260920644,-0.034136321395636,0.013909160159528,-0.119092866778374,-0.103386864066124,-0.006067239213735));
res += mul(Get(s3,dx,dy), float4x4(-0.134774297475815,0.052478618919849,0.112278878688812,-0.148461118340492,0.119418092072010,0.171415954828262,0.034292731434107,0.047090414911509,-0.048096261918545,0.048058673739433,0.003002312732860,-0.042178470641375,0.113297402858734,-0.127003490924835,-0.008077248930931,0.038471493870020));
return max(float4(0,0,0,0), res);
}
