sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.030252348631620,0.014169141650200,-0.068904869258404,0.233709588646889,-0.089310556650162,0.288062244653702,0.176645472645760,-0.106015533208847,-0.094524160027504,0.064100526273251,-0.121567368507385,-0.038764566183090,-0.136501505970955,-0.058278013020754,-0.154847264289856,-0.043004419654608));
res += mul(Get(s0,-dx,0), float4x4(0.061632812023163,-0.202334880828857,0.052241656929255,0.057182621210814,0.087636038661003,0.195448577404022,0.182749316096306,-0.045791435986757,-0.124900445342064,0.044180829077959,-0.158367007970810,-0.072784617543221,-0.087863206863403,0.095145963132381,-0.013371418230236,0.012791682966053));
res += mul(Get(s0,-dx,dy), float4x4(-0.144357725977898,0.000188061647350,-0.130519270896912,-0.069856800138950,0.004816262982786,0.100929439067841,0.219194322824478,-0.083708547055721,0.054443180561066,-0.100862063467503,-0.130580738186836,0.017828907817602,-0.122854866087437,0.258933573961258,-0.101592540740967,0.181171804666519));
res += mul(Get(s0,0,-dy), float4x4(0.102300308644772,0.225960284471512,-0.005603443365544,0.032715924084187,0.040928427129984,0.124667875468731,-0.090180858969688,0.137108162045479,-0.051717516034842,0.321338683366776,-0.100984774529934,-0.058721296489239,-0.114854626357555,-0.003519606543705,0.021266272291541,-0.197068303823471));
res += mul(Get(s0,0,0), float4x4(0.176360398530960,0.011481232009828,0.149227008223534,0.007149592041969,0.077199682593346,0.031850229948759,-0.035792622715235,0.000194188192836,-0.071382522583008,0.025225661695004,-0.034478105604649,-0.064452514052391,0.017379235476255,-0.055999688804150,-0.053556259721518,-0.063438370823860));
res += mul(Get(s0,0,dy), float4x4(0.173107519745827,0.150074467062950,-0.267771899700165,0.007486294023693,-0.226022616028786,-0.099357716739178,-0.133014366030693,-0.036038774996996,-0.105879411101341,-0.135341107845306,-0.052301712334156,-0.074463374912739,0.085486985743046,0.070405140519142,-0.160526975989342,0.076247125864029));
res += mul(Get(s0,dx,-dy), float4x4(0.059613987803459,0.223594963550568,-0.118956603109837,-0.136336863040924,-0.023714259266853,-0.089446797966957,-0.136553063988686,0.074744522571564,-0.075825944542885,0.035406254231930,-0.102974399924278,0.322082638740540,-0.106550328433514,-0.112952709197998,-0.030456036329269,0.212854623794556));
res += mul(Get(s0,dx,0), float4x4(-0.042251698672771,0.119986653327942,0.188633441925049,0.020637746900320,0.067484766244888,-0.060512788593769,-0.145284414291382,0.005265247076750,-0.060275197029114,0.119415841996670,-0.022583115845919,0.134275808930397,-0.030475050210953,0.067694261670113,0.041789613664150,-0.012430163100362));
res += mul(Get(s0,dx,dy), float4x4(0.121608331799507,0.128614619374275,0.029163269326091,-0.079953074455261,-0.007974715903401,-0.146961763501167,-0.153666988015175,-0.013444404117763,0.068314254283905,-0.021773818880320,-0.150841385126114,0.026088733226061,0.062605164945126,0.164739966392517,-0.033317148685455,0.165888860821724));
res += mul(Get(s1,-dx,-dy), float4x4(0.216230839490891,-0.124191530048847,0.134871616959572,0.246209979057312,0.017503578215837,0.171745687723160,-0.249506607651711,-0.186301678419113,0.030062094330788,-0.021889362484217,0.016068723052740,-0.165161013603210,-0.105495728552341,0.069100253283978,-0.136703938245773,0.005457268096507));
res += mul(Get(s1,-dx,0), float4x4(0.063760928809643,0.098339207470417,0.015126690268517,0.145430520176888,0.006985132116824,0.222746372222900,-0.097939141094685,-0.076943643391132,-0.058085050433874,-0.111698068678379,0.120553731918335,-0.149287477135658,-0.162616431713104,-0.111033283174038,0.028596473857760,0.083511970937252));
res += mul(Get(s1,-dx,dy), float4x4(0.064101681113243,-0.020828997716308,-0.003844658145681,0.118909083306789,0.177692070603371,-0.200669944286346,-0.095312446355820,-0.006808100268245,-0.086037263274193,-0.143323823809624,0.107806988060474,0.071194224059582,0.139720305800438,-0.182473108172417,-0.061023529618979,-0.022737883031368));
res += mul(Get(s1,0,-dy), float4x4(-0.180112317204475,-0.048241987824440,0.111888557672501,-0.062502674758434,-0.243276402354240,0.112720973789692,0.076072320342064,-0.053306974470615,0.117785513401031,-0.053502507507801,0.017374090850353,-0.073951669037342,-0.004746777471155,-0.036916602402925,-0.151331111788750,-0.161454096436501));
res += mul(Get(s1,0,0), float4x4(0.006906409282237,0.057686347514391,0.089847438037395,-0.084781132638454,0.134962782263756,0.054536193609238,-0.033370334655046,-0.051410727202892,-0.011645926162601,0.001897391746752,-0.068377904593945,-0.060650512576103,-0.097392119467258,-0.078523233532906,-0.122442878782749,-0.086037509143353));
res += mul(Get(s1,0,dy), float4x4(0.031672302633524,0.063665293157101,0.108321070671082,-0.152040377259254,0.083529293537140,-0.075494863092899,-0.054381564259529,-0.058413255959749,0.005598602350801,-0.073055610060692,0.081783987581730,-0.003633755492046,0.057345297187567,-0.225387766957283,-0.192648679018021,-0.196481466293335));
res += mul(Get(s1,dx,-dy), float4x4(-0.170942857861519,0.136754035949707,0.000468431360787,-0.023363662883639,-0.105178780853748,0.194883868098259,0.163568481802940,-0.174753844738007,0.113763503730297,0.111552603542805,0.063371695578098,0.021122563630342,0.296359539031982,-0.101761825382710,0.057624071836472,-0.000074414412666));
res += mul(Get(s1,dx,0), float4x4(0.064144961535931,0.259523391723633,-0.036980073899031,-0.091312989592552,-0.071666434407234,0.287049740552902,0.119444645941257,-0.115744575858116,0.041334323585033,0.155187308788300,-0.018573986366391,0.031609460711479,-0.049128696322441,-0.282182633876801,-0.202727779746056,0.094010084867477));
res += mul(Get(s1,dx,dy), float4x4(0.122319430112839,0.165359184145927,0.245765164494514,-0.043706305325031,-0.053422786295414,0.166322231292725,0.184156700968742,0.037144165486097,0.031960386782885,0.190096274018288,0.408622026443481,-0.072349123656750,0.008737255819142,-0.363651514053345,-0.247176364064217,-0.053887866437435));
res += mul(Get(s2,-dx,-dy), float4x4(-0.041729446500540,0.068840049207211,0.173373907804489,-0.034221496433020,-0.176779240369797,0.157610058784485,-0.109217613935471,-0.156696125864983,0.045620903372765,-0.286340683698654,0.196104064583778,0.042348407208920,-0.155573904514313,0.003409371012822,0.039985522627831,-0.238648563623428));
res += mul(Get(s2,-dx,0), float4x4(-0.074731044471264,-0.142571330070496,-0.027865294367075,0.042503457516432,-0.204707443714142,-0.119964398443699,-0.026433799415827,-0.056616988033056,-0.065122060477734,0.129084303975105,-0.332756310701370,0.182548657059669,-0.144165799021721,0.065860003232956,0.304550737142563,-0.047049369663000));
res += mul(Get(s2,-dx,dy), float4x4(0.053108043968678,-0.207082405686378,0.241112962365150,0.015674300491810,0.139508664608002,-0.285127460956573,0.003224678570405,-0.193353831768036,-0.011010460555553,0.112955272197723,-0.159916445612907,0.128319531679153,-0.011887296102941,0.015413674525917,-0.061654750257730,-0.036419510841370));
res += mul(Get(s2,0,-dy), float4x4(-0.005845574196428,-0.040371146053076,-0.059400320053101,-0.085082255303860,-0.166734531521797,-0.157012820243835,-0.156460702419281,-0.045357160270214,-0.110305510461330,-0.093339152634144,0.162019327282906,0.047346640378237,-0.022021854296327,-0.078881166875362,-0.002010932890698,-0.001755167497322));
res += mul(Get(s2,0,0), float4x4(0.123329609632492,-0.051039166748524,0.098609872162342,-0.036464519798756,-0.145968705415726,-0.152542456984520,-0.060858745127916,0.120072305202484,0.072305649518967,-0.163480117917061,-0.080862492322922,-0.035833217203617,-0.145347908139229,0.005382529459894,0.043302688747644,0.021970525383949));
res += mul(Get(s2,0,dy), float4x4(-0.015891000628471,-0.081312030553818,0.174273699522018,-0.027761306613684,-0.024655925109982,-0.088469721376896,-0.128803327679634,-0.041697882115841,0.076222278177738,-0.097092166543007,-0.115762941539288,0.285771578550339,-0.059903405606747,0.033985648304224,-0.102759614586830,-0.052137788385153));
res += mul(Get(s2,dx,-dy), float4x4(0.064993850886822,-0.184191316366196,-0.189204528927803,-0.076224476099014,-0.122205764055252,-0.036630049347878,-0.050911299884319,-0.343905031681061,-0.255315959453583,-0.106749586760998,0.095689401030540,-0.067540049552917,0.144032806158066,0.079965405166149,0.137885943055153,0.129390925168991));
res += mul(Get(s2,dx,0), float4x4(0.194283798336983,-0.184148237109184,0.073067069053650,-0.070278927683830,-0.143088579177856,-0.146988496184349,-0.087047457695007,-0.158528640866280,0.066542617976665,-0.095878422260284,0.127380400896072,-0.100976422429085,0.088208287954330,-0.058828186243773,0.184527218341827,0.159522756934166));
res += mul(Get(s2,dx,dy), float4x4(-0.111203737556934,-0.019549334421754,0.151741176843643,-0.141742751002312,-0.078948207199574,-0.078561775386333,-0.216545149683952,-0.206709131598473,0.019673297181726,0.055353261530399,0.074665807187557,0.093154795467854,0.094036623835564,0.117427147924900,0.093570061028004,0.225973308086395));
res += mul(Get(s3,-dx,-dy), float4x4(-0.072276696562767,0.052278943359852,0.133661180734634,0.188099175691605,-0.150575324892998,0.364885002374649,-0.042451929301023,-0.230794996023178,0.195374608039856,0.075395688414574,-0.012385950423777,-0.027795180678368,0.051315903663635,0.304995745420456,0.161999478936195,0.044401779770851));
res += mul(Get(s3,-dx,0), float4x4(0.031840313225985,0.088791579008102,-0.167524784803391,0.312845438718796,0.014481465332210,-0.017460335046053,-0.062699228525162,-0.169476881623268,-0.131784021854401,-0.017581671476364,0.024017810821533,0.031668633222580,0.072115682065487,-0.074564501643181,0.029925797134638,0.107802152633667));
res += mul(Get(s3,-dx,dy), float4x4(-0.050639178603888,-0.029247550293803,-0.024843331426382,0.284855872392654,0.135275915265083,-0.114925123751163,-0.060025032609701,-0.091664381325245,-0.241108402609825,-0.166974157094955,-0.284047812223434,-0.019020128995180,0.218321159482002,-0.076032444834709,0.127133011817932,0.158811539411545));
res += mul(Get(s3,0,-dy), float4x4(-0.175657510757446,0.123886637389660,0.128508716821671,0.146134376525879,-0.175963595509529,0.081160910427570,-0.012034506537020,-0.059200730174780,0.152051091194153,-0.052168346941471,0.123671121895313,0.164930045604706,-0.117535553872585,-0.091908134520054,-0.164339259266853,0.063845947384834));
res += mul(Get(s3,0,0), float4x4(-0.074541017413139,0.065296970307827,0.104650564491749,0.205424159765244,-0.201770991086960,-0.091095544397831,-0.219702318310738,-0.195570409297943,-0.065054833889008,0.046079944819212,-0.059938561171293,0.089418068528175,-0.156352624297142,-0.071945801377296,0.035727892071009,0.045358113944530));
res += mul(Get(s3,0,dy), float4x4(-0.071652799844742,-0.013741308823228,0.018367953598499,0.074194639921188,0.156706228852272,-0.106338284909725,-0.151151001453400,-0.062779635190964,-0.026814660057425,-0.065328426659107,-0.008416486904025,-0.035643886774778,0.165572553873062,0.076238311827183,0.209373787045479,-0.004164755344391));
res += mul(Get(s3,dx,-dy), float4x4(0.251318186521530,-0.083939209580421,0.069961018860340,-0.055674225091934,-0.084104269742966,0.064183138310909,-0.086683824658394,0.013292366638780,0.323610097169876,-0.006571338977665,0.007070749532431,-0.163731664419174,0.027635356411338,-0.067176759243011,-0.255486249923706,0.077859699726105));
res += mul(Get(s3,dx,0), float4x4(0.174188151955605,-0.057568740099669,0.277029842138290,0.041068527847528,-0.132794871926308,-0.037148479372263,-0.131722494959831,0.132984608411789,0.328232109546661,0.031227009370923,-0.028905211016536,-0.195386484265327,-0.042524941265583,-0.264469087123871,-0.073076017200947,0.066711813211441));
res += mul(Get(s3,dx,dy), float4x4(0.005139203742146,-0.221615374088287,0.046912118792534,0.007935532368720,-0.001970167970285,0.046781849116087,-0.064891301095486,0.025195069611073,0.078530386090279,0.025568764656782,0.068171046674252,-0.021822921931744,0.110495470464230,-0.060869511216879,-0.109198898077011,0.103680387139320));
return max(float4(0,0,0,0), res);
}
