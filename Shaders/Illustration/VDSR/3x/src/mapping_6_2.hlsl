sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.136883944272995,0.003932597115636,-0.044857356697321,-0.076425485312939,-0.110167562961578,0.032978799194098,0.105594605207443,-0.274581223726273,-0.001511039794423,0.031603191047907,0.060987737029791,-0.094347484409809,-0.031554765999317,0.122254826128483,-0.044739019125700,0.104161970317364));
res += mul(Get(s0,-dx,0), float4x4(0.186459168791771,-0.019615676254034,0.041373126208782,-0.097803913056850,0.018271770328283,-0.032757643610239,0.014515071175992,-0.075948707759380,-0.070851713418961,-0.060917440801859,-0.210449561476707,0.066838212311268,-0.137872070074081,0.120995059609413,0.022882210090756,-0.074914552271366));
res += mul(Get(s0,-dx,dy), float4x4(0.095502018928528,-0.127253293991089,-0.107686586678028,0.040887441486120,-0.081338711082935,-0.013019931502640,-0.242896065115929,-0.037557646632195,-0.068014532327652,-0.000231814119616,0.065823137760162,-0.063489295542240,-0.051303438842297,-0.039927374571562,0.155131906270981,-0.016993081197143));
res += mul(Get(s0,0,-dy), float4x4(-0.212543174624443,-0.118211701512337,-0.111824370920658,-0.066952347755432,0.104661256074905,0.137937173247337,0.088476799428463,0.121436692774296,0.097365051507950,-0.164959445595741,-0.262076407670975,0.016579542309046,-0.081340931355953,0.170057237148285,-0.051030188798904,-0.024846335873008));
res += mul(Get(s0,0,0), float4x4(0.122968092560768,-0.065471276640892,0.142389953136444,0.029361397027969,0.274821132421494,0.003365437500179,-0.009460779838264,-0.073988102376461,0.052347686141729,-0.076285712420940,0.038518242537975,0.152632087469101,-0.057792440056801,0.026551494374871,-0.074501745402813,-0.072405122220516));
res += mul(Get(s0,0,dy), float4x4(0.051406797021627,0.125689789652824,0.069973543286324,-0.013063590042293,-0.162933319807053,0.100573271512985,0.079268164932728,-0.056326784193516,-0.077736012637615,-0.088689319789410,0.002509310841560,-0.052220005542040,-0.027059482410550,-0.084250077605247,-0.154754951596260,0.089306786656380));
res += mul(Get(s0,dx,-dy), float4x4(0.224944144487381,0.051467001438141,0.103637352585793,-0.013708704151213,-0.028791008517146,-0.013389134779572,-0.194663032889366,0.049375455826521,0.073738299310207,-0.031078530475497,0.006880559492856,0.171491011977196,0.236641496419907,-0.101052671670914,0.177039489150047,0.098464012145996));
res += mul(Get(s0,dx,0), float4x4(0.019749214872718,0.128367140889168,-0.231576457619667,0.128950506448746,-0.009744898416102,-0.251884907484055,0.080147780478001,0.022861946374178,-0.049860004335642,0.042917121201754,0.097424425184727,0.003639192553237,0.098470859229565,-0.095180541276932,0.084641009569168,-0.078393630683422));
res += mul(Get(s0,dx,dy), float4x4(-0.071748986840248,0.121838688850403,-0.062387973070145,0.001343840267509,-0.205882474780083,-0.034260004758835,-0.079731054604053,0.067440949380398,-0.055909849703312,0.062281098216772,-0.042962942272425,-0.055306024849415,-0.038408875465393,-0.121405102312565,0.055811412632465,0.081537701189518));
res += mul(Get(s1,-dx,-dy), float4x4(0.085355095565319,0.083134911954403,0.137046322226524,-0.095997281372547,-0.057745359838009,-0.182140275835991,0.058498322963715,-0.193100944161415,0.241475790739059,0.129000946879387,-0.066855400800705,-0.208699926733971,0.083859696984291,0.341092467308044,0.013204782269895,-0.034059815108776));
res += mul(Get(s1,-dx,0), float4x4(0.050576072186232,-0.112455420196056,-0.002741857664660,0.037583436816931,0.071708761155605,-0.151137843728065,-0.018657358363271,-0.017706528306007,0.074461609125137,-0.047583304345608,0.056385133415461,0.022378131747246,0.047583047300577,-0.131724208593369,-0.242996051907539,-0.046055540442467));
res += mul(Get(s1,-dx,dy), float4x4(0.059714615345001,0.051298931241035,-0.096272848546505,-0.136505365371704,-0.211260601878166,-0.032575801014900,-0.168546676635742,-0.191006869077682,0.331226170063019,0.010867454111576,-0.003237845376134,-0.024680936709046,-0.099424526095390,-0.277278423309326,-0.115762069821358,-0.007202454376966));
res += mul(Get(s1,0,-dy), float4x4(0.006477853283286,-0.130209282040596,-0.045995853841305,-0.042168423533440,0.119208075106144,-0.101894944906235,-0.079868473112583,-0.049433380365372,-0.026824295520782,-0.049906954169273,0.008123674429953,-0.100900068879128,-0.035676322877407,0.060376536101103,0.150586917996407,-0.057109314948320));
res += mul(Get(s1,0,0), float4x4(-0.082213006913662,0.083848901093006,0.067094691097736,0.170928180217743,0.015966676175594,-0.108006767928600,-0.082113727927208,-0.282928168773651,-0.087260454893112,0.008146177046001,-0.056730832904577,0.418112128973007,-0.080871023237705,-0.092033766210079,0.185294896364212,0.016066342592239));
res += mul(Get(s1,0,dy), float4x4(0.068637602031231,-0.009406075812876,0.222685202956200,0.002229569014162,-0.047080166637897,-0.016459193080664,-0.123837105929852,-0.055669669061899,-0.083818033337593,-0.132222458720207,0.026337267830968,0.050598662346601,-0.035608157515526,0.182991907000542,0.143175140023232,0.053148124366999));
res += mul(Get(s1,dx,-dy), float4x4(-0.019493248313665,-0.149078398942947,0.112032279372215,-0.077506870031357,0.050410840660334,0.002611249918118,-0.068331070244312,0.044028386473656,-0.103892721235752,0.052888121455908,-0.098379001021385,0.127264097332954,0.013621875084937,0.117880366742611,-0.130627542734146,-0.021566150709987));
res += mul(Get(s1,dx,0), float4x4(-0.046160455793142,0.035094350576401,-0.017577271908522,0.067000538110733,-0.012351701967418,0.103172913193703,0.002346156863496,0.081918291747570,0.031921610236168,-0.115888267755508,-0.018585929647088,-0.029121097177267,0.108954839408398,0.009593867696822,-0.095516763627529,-0.111785210669041));
res += mul(Get(s1,dx,dy), float4x4(0.231781914830208,0.022489305585623,-0.004816283937544,-0.064963303506374,0.210739493370056,0.025372467935085,-0.111303538084030,0.159248620271683,-0.076256036758423,-0.159491732716560,-0.250360786914825,-0.278347343206406,-0.381659358739853,-0.057591848075390,-0.034301724284887,0.050658717751503));
res += mul(Get(s2,-dx,-dy), float4x4(0.198306247591972,-0.006505324970931,0.004574789665639,0.041261628270149,-0.093235902488232,0.070180356502533,0.070114433765411,-0.105901144444942,-0.164734587073326,-0.025066453963518,-0.163146823644638,-0.050299417227507,-0.001693257479928,-0.057925090193748,-0.039583403617144,-0.063055142760277));
res += mul(Get(s2,-dx,0), float4x4(-0.128288134932518,-0.199651956558228,-0.010744659230113,-0.156739786267281,-0.061237588524818,-0.092681281268597,0.111364558339119,-0.068148739635944,0.094121403992176,-0.128216579556465,-0.090769156813622,-0.050363264977932,0.218000531196594,0.000808009295724,-0.199328139424324,0.143324911594391));
res += mul(Get(s2,-dx,dy), float4x4(0.088507287204266,-0.072727471590042,0.085777193307877,0.132434412837029,-0.075162246823311,0.252924501895905,0.060234770178795,-0.191807091236115,0.013337597250938,-0.000645681982860,-0.029781840741634,0.043472044169903,-0.030669063329697,-0.147513628005981,0.045890163630247,0.238878250122070));
res += mul(Get(s2,0,-dy), float4x4(-0.200602278113365,0.121214658021927,0.000901227351278,-0.004497126210481,0.031772468239069,-0.043561659753323,-0.145071893930435,0.000900770653971,0.130719184875488,-0.215590074658394,0.013948990963399,0.090797230601311,0.022026652470231,0.092501938343048,-0.115491010248661,-0.069278754293919));
res += mul(Get(s2,0,0), float4x4(0.076715432107449,-0.132450222969055,0.114329487085342,-0.076704040169716,0.000577849161346,0.077235616743565,0.164246991276741,0.319501399993896,-0.094420187175274,0.063886508345604,-0.130293875932693,0.079269178211689,0.151893004775047,0.112413689494133,0.054244745522738,-0.004735181108117));
res += mul(Get(s2,0,dy), float4x4(-0.128438681364059,-0.086409948766232,0.041282083839178,-0.050967447459698,-0.184234842658043,-0.016917072236538,-0.094409272074699,-0.053497221320868,0.189377173781395,0.088120028376579,0.123913563787937,0.115277849137783,0.083344943821430,-0.006150342989713,-0.035041656345129,0.025980124250054));
res += mul(Get(s2,dx,-dy), float4x4(0.265255093574524,0.057218167930841,0.030107507482171,0.100377179682255,-0.091168165206909,0.017021447420120,0.086291834712029,-0.097987569868565,0.066373199224472,0.003276996081695,-0.204589024186134,-0.020042391493917,-0.004880244378000,-0.036846812814474,0.082979001104832,0.173001706600189));
res += mul(Get(s2,dx,0), float4x4(0.012118881568313,0.035606965422630,-0.051790710538626,0.000428637082223,0.058645728975534,-0.131056010723114,-0.339763343334198,0.111928403377533,0.101214744150639,0.082560196518898,0.027649855241179,0.006352343596518,0.060584828257561,0.218235373497009,0.065224565565586,0.028892954811454));
res += mul(Get(s2,dx,dy), float4x4(0.017744211480021,0.085359454154968,0.050817299634218,-0.013259762898088,0.058642197400331,0.059585556387901,0.259686231613159,-0.001500239712186,-0.070731990039349,0.045907720923424,0.041395571082830,0.074249103665352,0.092491589486599,-0.189779162406921,0.019645720720291,-0.013529030606151));
res += mul(Get(s3,-dx,-dy), float4x4(-0.073100589215755,0.171859592199326,0.048854202032089,0.081238135695457,0.051024794578552,-0.185803651809692,0.057743351906538,0.080688871443272,-0.011970960535109,-0.093561470508575,-0.107554800808430,-0.012234000489116,0.120115183293819,0.007905104197562,-0.148381635546684,0.045705188065767));
res += mul(Get(s3,-dx,0), float4x4(-0.108522206544876,0.113428048789501,-0.027154188603163,-0.120115876197815,0.075601823627949,-0.118757076561451,0.158019676804543,0.059085335582495,0.024306412786245,0.158707365393639,-0.003382912604138,0.009869283996522,0.002826166804880,-0.132593825459480,-0.082413084805012,-0.042652666568756));
res += mul(Get(s3,-dx,dy), float4x4(0.064666889607906,0.081346310675144,0.053678657859564,-0.085664644837379,-0.167891994118690,0.041598994284868,0.126185178756714,-0.130328878760338,-0.118466943502426,0.090880118310452,0.100861631333828,0.168421313166618,-0.045437619090080,0.150514915585518,-0.113055817782879,-0.074338987469673));
res += mul(Get(s3,0,-dy), float4x4(-0.042660407721996,0.107769615948200,-0.086466163396835,0.019979881122708,0.195402771234512,-0.000204899508390,-0.136548951268196,-0.147014051675797,0.037501450628042,-0.048835217952728,-0.012533960863948,0.159764319658279,0.064415164291859,0.036395553499460,-0.255113840103149,0.038286902010441));
res += mul(Get(s3,0,0), float4x4(-0.033611599355936,-0.290623009204865,-0.021718692034483,-0.159886091947556,-0.035752311348915,0.033837776631117,0.017098156735301,0.118288420140743,-0.061820574104786,0.001822406775318,0.115276083350182,-0.076205722987652,-0.127676442265511,-0.016275933012366,-0.008948319591582,0.082690015435219));
res += mul(Get(s3,0,dy), float4x4(0.030700806528330,0.047982875257730,-0.024720998480916,-0.084129378199577,-0.228053346276283,0.061829585582018,0.048902288079262,0.087665036320686,0.026178807020187,0.057141009718180,0.049407619982958,0.088907957077026,-0.031193852424622,0.054170649498701,0.026297366246581,0.083036847412586));
res += mul(Get(s3,dx,-dy), float4x4(-0.183004036545753,-0.058063581585884,-0.045604012906551,-0.108239516615868,-0.189906314015388,-0.153396844863892,-0.085592411458492,-0.070689566433430,0.173819229006767,-0.080323345959187,-0.075142465531826,0.103390455245972,0.057852670550346,0.009066825732589,0.052936416119337,-0.172912195324898));
res += mul(Get(s3,dx,0), float4x4(0.121559515595436,-0.007019102573395,-0.060652773827314,-0.075157515704632,0.119049429893494,-0.035332050174475,-0.001334109925665,-0.083728484809399,0.068497985601425,-0.215716332197189,0.162946894764900,0.101153612136841,0.071969218552113,-0.068479239940643,0.060771301388741,-0.043297249823809));
res += mul(Get(s3,dx,dy), float4x4(-0.057039257138968,-0.034942828118801,-0.070955500006676,-0.119148544967175,0.037252206355333,0.032071121037006,0.081514880061150,0.007190169766545,0.161462232470512,0.037703327834606,0.020862014964223,0.071545600891113,-0.065449610352516,-0.187908068299294,0.055236689746380,0.064267538487911));
return max(float4(0,0,0,0), res);
}
