sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.142656520009041,-0.050106424838305,-0.250511288642883,0.194293022155762,0.013167815282941,0.173486411571503,0.040658559650183,-0.091582678258419,0.147561252117157,-0.106284253299236,0.029310245066881,-0.177857965230942,0.010015498846769,0.049251433461905,0.078850142657757,0.021215369924903));
res += mul(Get(s0,-dx,0), float4x4(0.269130498170853,-0.175123617053032,0.074676588177681,0.187857091426849,-0.004147368948907,-0.114411771297455,-0.099781386554241,-0.090741232037544,0.083903327584267,-0.111419811844826,-0.091029651463032,-0.069433830678463,0.002807064447552,0.013023018836975,-0.053962722420692,-0.172705069184303));
res += mul(Get(s0,-dx,dy), float4x4(0.086081795394421,0.023172395303845,0.113079212605953,-0.060426451265812,0.161009863018990,0.001931354403496,-0.125264316797256,-0.001079005422071,0.046053130179644,-0.103984557092190,-0.133142381906509,-0.108226530253887,-0.015716904774308,0.058740518987179,0.179692059755325,-0.114132732152939));
res += mul(Get(s0,0,-dy), float4x4(-0.062318958342075,-0.147880867123604,-0.221906870603561,-0.032417226582766,-0.153235450387001,-0.043068479746580,0.012894247658551,-0.073102168738842,-0.119051009416580,-0.019737558439374,-0.118510000407696,0.189786314964294,0.085984610021114,0.048428550362587,0.226268634200096,0.012843889184296));
res += mul(Get(s0,0,0), float4x4(-0.248721987009048,-0.218071371316910,0.065078012645245,-0.139903321862221,0.065472185611725,-0.166201785206795,-0.065456323325634,-0.099441334605217,-0.178591027855873,0.062726922333241,-0.160307809710503,-0.173435196280479,0.096239142119884,0.150362327694893,-0.014144946821034,-0.090296715497971));
res += mul(Get(s0,0,dy), float4x4(-0.123891606926918,0.030640281736851,-0.059313215315342,-0.177907884120941,-0.018034985288978,0.346443086862564,0.154913112521172,0.148262545466423,-0.088013157248497,-0.033475987613201,-0.088822245597839,-0.126626685261726,0.035116307437420,0.094694800674915,-0.000721616845112,-0.001469328301027));
res += mul(Get(s0,dx,-dy), float4x4(-0.205656915903091,-0.182831570506096,-0.172544762492180,-0.088844627141953,-0.174643203616142,0.035604871809483,0.061926510185003,-0.090701460838318,0.096265792846680,-0.101328074932098,0.126572459936142,0.155470758676529,-0.089644953608513,-0.155491277575493,-0.027402976527810,-0.251136600971222));
res += mul(Get(s0,dx,0), float4x4(-0.145800366997719,-0.084338262677193,-0.116876393556595,-0.003130982397124,-0.158953323960304,0.110061720013618,-0.024627715349197,-0.091858692467213,0.047525193542242,0.081123530864716,0.285270720720291,0.085987336933613,0.017637893557549,-0.030016181990504,-0.077852800488472,-0.193865031003952));
res += mul(Get(s0,dx,dy), float4x4(-0.112879820168018,0.097926117479801,0.015457803383470,0.000624948239420,-0.014562409371138,0.106436930596828,0.082040697336197,0.132394924759865,-0.089894875884056,0.151723667979240,0.226291596889496,0.103503420948982,-0.080016203224659,0.015515755861998,0.152562126517296,-0.066546596586704));
res += mul(Get(s1,-dx,-dy), float4x4(-0.304980397224426,-0.031574144959450,0.125212073326111,0.162556707859039,0.336124300956726,-0.184051841497421,-0.097167983651161,-0.070254541933537,-0.033367291092873,-0.096353180706501,0.205246716737747,-0.051862869411707,-0.083425670862198,0.014254688285291,-0.050030481070280,0.016182683408260));
res += mul(Get(s1,-dx,0), float4x4(-0.236258462071419,0.051650848239660,-0.084763117134571,-0.009000315330923,0.046517726033926,0.199267432093620,-0.183109462261200,-0.062666594982147,-0.040735483169556,0.018720336258411,-0.105200871825218,0.181216150522232,-0.013263377361000,-0.011681633070111,-0.014038172550499,-0.026745986193419));
res += mul(Get(s1,-dx,dy), float4x4(-0.170188143849373,0.071382641792297,-0.065384350717068,-0.121991470456123,-0.001467204070650,-0.047597270458937,-0.045604061335325,0.219494536519051,-0.074498772621155,0.293839961290359,-0.141195967793465,0.195137888193130,-0.097977735102177,0.176831692457199,0.108212925493717,-0.134319975972176));
res += mul(Get(s1,0,-dy), float4x4(-0.144821062684059,-0.149743273854256,0.057059075683355,-0.094600066542625,0.031132586300373,-0.334303230047226,-0.132067203521729,-0.051324065774679,-0.023144083097577,-0.356873720884323,-0.002446085214615,0.009272933937609,-0.078841030597687,-0.099153362214565,-0.067743025720119,0.029541507363319));
res += mul(Get(s1,0,0), float4x4(-0.152065634727478,0.005663722287863,0.024021642282605,-0.146780833601952,-0.086447574198246,0.155635252594948,0.043742448091507,-0.146090343594551,-0.028711130842566,-0.159594610333443,-0.121291607618332,0.040607888251543,-0.120199061930180,-0.023077562451363,-0.095406249165535,-0.067746996879578));
res += mul(Get(s1,0,dy), float4x4(-0.215373247861862,0.047649774700403,0.040896128863096,-0.191510140895844,0.138689324259758,0.056295134127140,0.219690114259720,-0.064884625375271,-0.225028395652771,-0.201190397143364,0.186929687857628,-0.013602823950350,-0.013643588870764,-0.016663461923599,-0.157960891723633,-0.103971838951111));
res += mul(Get(s1,dx,-dy), float4x4(-0.106396630406380,-0.169845148921013,-0.062264885753393,0.077375739812851,-0.021928928792477,-0.110792025923729,-0.026188828051090,0.037733532488346,-0.014262314885855,-0.374219805002213,0.014639631845057,-0.067966565489769,-0.177819162607193,0.126080557703972,-0.094238847494125,-0.144127562642097));
res += mul(Get(s1,dx,0), float4x4(-0.097835771739483,-0.098068669438362,-0.065854758024216,-0.059434454888105,-0.023000426590443,0.017184492200613,0.065840199589729,0.028474844992161,0.050842456519604,-0.164614751935005,0.023032594472170,-0.013189124874771,0.091277599334717,-0.048545014113188,-0.076245307922363,-0.169128298759460));
res += mul(Get(s1,dx,dy), float4x4(-0.189682111144066,-0.055619958788157,0.008135095238686,-0.085921250283718,0.002732312073931,-0.041162908077240,0.051765613257885,-0.069262117147446,-0.194877803325653,-0.042812719941139,0.088740952312946,-0.021096017211676,0.055083356797695,0.069727569818497,-0.061050351709127,-0.123970784246922));
res += mul(Get(s2,-dx,-dy), float4x4(0.030139587819576,0.058124665170908,-0.087827317416668,0.048961419612169,-0.092984817922115,-0.001998791703954,0.204033002257347,-0.017161550000310,-0.095069244503975,-0.360164165496826,-0.006263467483222,-0.103628195822239,-0.281426787376404,-0.340366005897522,-0.219762325286865,-0.045870956033468));
res += mul(Get(s2,-dx,0), float4x4(0.171710118651390,-0.124432340264320,0.156778737902641,0.260210007429123,-0.044697348028421,-0.001029134844430,0.010614727623761,0.121997691690922,-0.246528565883636,-0.027251973748207,-0.149067997932434,0.362694561481476,-0.160992294549942,-0.037539828568697,-0.321726113557816,-0.261399388313293));
res += mul(Get(s2,-dx,dy), float4x4(0.094563923776150,0.036197111010551,0.145750850439072,0.037144608795643,0.079650990664959,-0.036659676581621,-0.043974749743938,-0.191656425595284,-0.196664780378342,-0.002440387848765,-0.076881542801857,0.123216740787029,-0.180106639862061,0.228154748678207,-0.265575200319290,0.100336559116840));
res += mul(Get(s2,0,-dy), float4x4(0.075547739863396,0.117805324494839,-0.208400800824165,0.000135617039632,0.071215093135834,0.056550078094006,0.066076979041100,0.128348633646965,0.402317613363266,-0.224905580282211,-0.100721932947636,-0.059660624712706,0.227253720164299,-0.216626644134521,0.207821175456047,0.051028452813625));
res += mul(Get(s2,0,0), float4x4(0.007988681085408,-0.061216227710247,0.041755609214306,0.013926141895354,-0.049232847988605,0.116299502551556,0.094698138535023,-0.023069202899933,0.111506395041943,-0.178004950284958,0.024480849504471,0.057285390794277,0.119190789759159,-0.070811823010445,-0.082224510610104,-0.106625474989414));
res += mul(Get(s2,0,dy), float4x4(-0.044472634792328,0.117764741182327,-0.099558599293232,0.004841433838010,0.204533010721207,0.084668569266796,-0.120715647935867,-0.119085423648357,-0.055822256952524,-0.199110254645348,0.053050104528666,0.014347742311656,0.001132188132033,-0.011576965451241,0.003467837814242,0.249757021665573));
res += mul(Get(s2,dx,-dy), float4x4(0.030745454132557,0.053757853806019,-0.063276045024395,0.129371777176857,0.225568711757660,0.153111621737480,0.191902294754982,-0.025329032912850,0.059128016233444,-0.440297514200211,-0.164479941129684,0.003081742674112,-0.035646434873343,-0.092981383204460,0.016900893300772,-0.150940909981728));
res += mul(Get(s2,dx,0), float4x4(0.033805467188358,-0.073217749595642,0.374143630266190,0.026581710204482,0.037259027361870,0.011708085425198,0.117456808686256,-0.012115099467337,-0.054334051907063,-0.286293178796768,0.042582981288433,0.045648444443941,-0.014608262106776,-0.214520052075386,-0.086230106651783,-0.110086783766747));
res += mul(Get(s2,dx,dy), float4x4(0.113513521850109,0.115494228899479,-0.033915046602488,0.027904888615012,0.303937613964081,0.104986004531384,-0.163697794079781,0.060434069484472,-0.105949297547340,-0.136580258607864,0.265968888998032,0.181801095604897,0.021865971386433,-0.113368779420853,-0.005571998190135,0.061367936432362));
res += mul(Get(s3,-dx,-dy), float4x4(-0.002876179991290,0.340248286724091,-0.182562708854675,0.344323515892029,0.108610004186630,0.334068268537521,-0.005842216312885,0.095236055552959,0.239368334412575,-0.026320414617658,0.172877997159958,0.047262951731682,0.013316164724529,0.139748886227608,-0.066758304834366,0.025742938742042));
res += mul(Get(s3,-dx,0), float4x4(-0.049687366932631,-0.011656590737402,0.196582764387131,0.007344644516706,-0.004854012746364,-0.000401544471970,0.035374172031879,0.123044185340405,0.019845191389322,0.323988705873489,0.047455344349146,-0.171431094408035,0.187634482979774,0.103338897228241,-0.094324469566345,-0.142316624522209));
res += mul(Get(s3,-dx,dy), float4x4(0.233064785599709,0.050944268703461,-0.040035381913185,-0.089256793260574,0.210008978843689,0.165820524096489,-0.007735547143966,0.273669064044952,-0.084237545728683,0.157760500907898,0.000643435225356,-0.054663602262735,-0.093945294618607,0.133460685610771,-0.097906120121479,-0.064033336937428));
res += mul(Get(s3,0,-dy), float4x4(0.023164613172412,0.313385069370270,-0.043441042304039,-0.084921449422836,0.176372185349464,0.336628317832947,0.071497239172459,0.164583086967468,0.137536823749542,0.019875684753060,0.079937368631363,0.167979881167412,0.118133157491684,0.005650536622852,0.088200949132442,0.102379664778709));
res += mul(Get(s3,0,0), float4x4(-0.076352797448635,0.002633837983012,-0.008141824044287,-0.088356576859951,0.051251824945211,-0.007809456437826,0.105047404766083,-0.063973844051361,0.076278142631054,-0.095302850008011,-0.146993890404701,-0.102573342621326,0.091996796429157,-0.169321879744530,-0.060192797333002,-0.092269152402878));
res += mul(Get(s3,0,dy), float4x4(-0.022114587947726,-0.100993104279041,0.012718267738819,-0.024905150756240,0.162575706839561,0.060100115835667,0.132826671004295,-0.028596080839634,0.169946670532227,-0.130410015583038,-0.115204468369484,-0.167851924896240,0.057809703052044,0.150246888399124,-0.093193441629410,-0.042042676359415));
res += mul(Get(s3,dx,-dy), float4x4(-0.020795384421945,0.079410977661610,-0.080386355519295,0.076647266745567,0.075545668601990,0.061390422284603,-0.037919502705336,0.020011365413666,-0.031849332153797,-0.164548233151436,0.032535132020712,-0.016757383942604,0.024549663066864,-0.058854300528765,0.318312793970108,0.130731225013733));
res += mul(Get(s3,dx,0), float4x4(-0.155456766486168,-0.004473074804991,0.074842475354671,-0.024109194055200,0.046803683042526,0.152579352259636,0.107852891087532,-0.211385175585747,-0.083760462701321,-0.147799000144005,-0.080434009432793,-0.009211105294526,-0.219038456678391,0.270905107259750,-0.025391057133675,-0.117166250944138));
res += mul(Get(s3,dx,dy), float4x4(0.084554836153984,0.155987024307251,-0.071533292531967,-0.131975486874580,0.041406210511923,0.123940862715244,0.188632085919380,-0.052392642945051,-0.131822139024734,-0.035338096320629,-0.181939333677292,-0.164659157395363,-0.074216932058334,0.176179304718971,-0.082019954919815,-0.071158878505230));
return max(float4(0,0,0,0), res);
}
