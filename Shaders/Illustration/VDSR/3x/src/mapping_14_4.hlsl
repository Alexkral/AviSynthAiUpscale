sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.218599051237106,-0.039751149713993,-0.096219494938850,0.029803730547428,-0.064859762787819,0.007758118677884,0.019122498109937,-0.104125522077084,-0.261746883392334,-0.063610911369324,-0.035960946232080,0.095055900514126,-0.104629836976528,0.096115186810493,0.069344460964203,-0.028467739000916));
res += mul(Get(s0,-dx,0), float4x4(0.098254665732384,0.047352779656649,-0.081679873168468,-0.051205061376095,-0.172802060842514,0.012093678116798,-0.073262870311737,-0.192554339766502,-0.139022424817085,0.110991455614567,0.144829735159874,0.001206722692586,-0.050854053348303,-0.015365202911198,-0.019931713119149,0.017693107947707));
res += mul(Get(s0,-dx,dy), float4x4(0.104669593274593,-0.131157264113426,-0.087471254169941,0.036056973040104,0.019630424678326,-0.054617520421743,0.044454362243414,0.204004123806953,0.020407633855939,-0.006177009083331,-0.127677932381630,-0.133501365780830,-0.040586560964584,0.040074430406094,0.077756620943546,0.176931694149971));
res += mul(Get(s0,0,-dy), float4x4(0.201563820242882,-0.075217828154564,0.007121414411813,0.057450622320175,0.043385326862335,-0.010405910201371,-0.003753225319088,0.031715534627438,0.145548447966576,0.142134726047516,0.064765140414238,0.125064373016357,-0.076396770775318,-0.075616210699081,0.103839106857777,-0.057158887386322));
res += mul(Get(s0,0,0), float4x4(0.083400942385197,0.291960626840591,0.115159280598164,-0.046308550983667,-0.028145406395197,-0.109336622059345,0.062621392309666,-0.137608796358109,0.176259174942970,-0.096594013273716,-0.093572661280632,-0.137058705091476,0.068037822842598,0.121271148324013,-0.058351535350084,-0.131244421005249));
res += mul(Get(s0,0,dy), float4x4(0.048178646713495,0.132869794964790,0.165622666478157,-0.112638391554356,0.121686995029449,-0.014545817859471,-0.006503255106509,0.014966263435781,0.043687075376511,0.078162766993046,-0.119844861328602,0.100460141897202,-0.106823526322842,0.011431661434472,0.098424836993217,0.099887654185295));
res += mul(Get(s0,dx,-dy), float4x4(0.076774947345257,-0.021910144016147,0.057890407741070,0.043347217142582,0.029919093474746,0.158847868442535,0.112474575638771,0.215446382761002,-0.051452152431011,-0.041201904416084,-0.061847630888224,0.048756167292595,-0.154604434967041,0.083213336765766,-0.138512000441551,-0.127208277583122));
res += mul(Get(s0,dx,0), float4x4(0.350879848003387,-0.045596905052662,-0.185370415449142,0.175064429640770,0.104226209223270,-0.046348933130503,-0.118035025894642,0.141433686017990,-0.035681966692209,0.091814011335373,-0.067736312747002,0.067297808825970,0.209979608654976,-0.104013994336128,-0.123747229576111,-0.198045536875725));
res += mul(Get(s0,dx,dy), float4x4(0.021175449714065,-0.030650919303298,-0.124447330832481,-0.058559112250805,-0.116572625935078,-0.007027697283775,0.108378544449806,0.046287406235933,0.072387628257275,-0.057155936956406,-0.031530916690826,-0.110062897205353,0.117181673645973,-0.030526224523783,-0.255759328603745,0.066240251064301));
res += mul(Get(s1,-dx,-dy), float4x4(0.170947521924973,0.009636731818318,-0.019384203478694,-0.047173641622066,0.072975307703018,-0.003618132788688,-0.107189975678921,0.049411360174417,-0.160776033997536,0.044485732913017,-0.076919503509998,-0.208636507391930,0.018308933824301,0.039477843791246,0.110342957079411,-0.012904167175293));
res += mul(Get(s1,-dx,0), float4x4(-0.164997428655624,0.010796694085002,0.128047734498978,-0.045247953385115,0.027218634262681,0.025639938190579,0.111287422478199,0.020072273910046,-0.004932079929858,-0.029715184122324,-0.065497785806656,0.093028686940670,0.186878159642220,-0.169475153088570,0.154666379094124,-0.033490110188723));
res += mul(Get(s1,-dx,dy), float4x4(-0.178180471062660,0.214680016040802,0.053998172283173,0.020497620105743,0.025922255590558,0.054326117038727,-0.061027556657791,-0.097201429307461,-0.121383644640446,-0.162679031491280,0.053709641098976,-0.088925898075104,-0.038108568638563,-0.050437543541193,-0.113545335829258,0.007964248768985));
res += mul(Get(s1,0,-dy), float4x4(0.110823303461075,0.014295032247901,-0.001118989544921,-0.092580541968346,-0.017495308071375,0.184442862868309,-0.165768042206764,0.013429920189083,-0.084660567343235,0.166800245642662,-0.046654183417559,0.049515973776579,0.044486485421658,0.060581255704165,0.063225805759430,0.089020334184170));
res += mul(Get(s1,0,0), float4x4(0.008001000620425,-0.000390912668081,-0.042876809835434,-0.262849241495132,0.092812418937683,0.082567930221558,0.121755592525005,-0.091820068657398,0.187682643532753,0.038004253059626,-0.097430050373077,-0.071707323193550,0.176922008395195,0.068976297974586,-0.005875808186829,-0.118855863809586));
res += mul(Get(s1,0,dy), float4x4(0.007628905586898,-0.100956574082375,0.062097482383251,0.098437353968620,0.024914573878050,0.036744192242622,0.133010536432266,-0.148277580738068,0.217573374509811,-0.051398295909166,0.031859848648310,0.136264011263847,0.013866384513676,0.153788596391678,-0.034649997949600,-0.082285441458225));
res += mul(Get(s1,dx,-dy), float4x4(0.143462449312210,-0.036947403103113,-0.058767762035131,0.039467509835958,0.071069218218327,0.008138225413859,-0.285879224538803,0.126760736107826,0.151732861995697,-0.177943482995033,0.019490636885166,-0.065537847578526,-0.169930130243301,-0.025276903063059,0.084242805838585,0.050542708486319));
res += mul(Get(s1,dx,0), float4x4(-0.012407029978931,0.122493721544743,-0.056109659373760,0.147949904203415,-0.117786236107349,0.018051629886031,0.143530666828156,0.248451635241508,0.058959592133760,0.014666855335236,-0.076478429138660,-0.065735556185246,0.153481423854828,-0.068299531936646,0.014694345183671,0.048030395060778));
res += mul(Get(s1,dx,dy), float4x4(0.128237873315811,0.009767635725439,0.170238956809044,0.124698191881180,-0.151585340499878,0.071382552385330,-0.131533443927765,0.134993776679039,0.138983204960823,-0.053464952856302,0.032573599368334,-0.030280418694019,-0.034142468124628,0.001875296235085,-0.073883049190044,0.177239194512367));
res += mul(Get(s2,-dx,-dy), float4x4(0.010019378736615,-0.189585357904434,-0.109133407473564,-0.051401138305664,-0.026325128972530,0.027020713314414,-0.077633760869503,0.007621167693287,-0.025252390652895,-0.084700331091881,-0.208780705928802,-0.037660840898752,-0.038870099931955,0.047177631407976,-0.116553485393524,-0.163832828402519));
res += mul(Get(s2,-dx,0), float4x4(0.090979933738708,-0.011499539017677,-0.126139894127846,-0.157291322946548,0.214866280555725,-0.077532596886158,-0.041094128042459,0.008341117762029,-0.103577233850956,-0.049617331475019,-0.200460493564606,0.141475096344948,-0.142052695155144,-0.091030918061733,-0.164934322237968,-0.137801572680473));
res += mul(Get(s2,-dx,dy), float4x4(-0.003663337556645,-0.138350188732147,-0.093181230127811,0.041045311838388,0.110919483006001,-0.117663502693176,0.206530854105949,0.125672131776810,-0.043263942003250,0.085910052061081,-0.112647317349911,-0.116610690951347,0.002962813014165,0.019120497629046,-0.091031208634377,0.049584951251745));
res += mul(Get(s2,0,-dy), float4x4(-0.049564592540264,0.021317295730114,-0.067481786012650,0.067089453339577,-0.140667870640755,-0.037357032299042,-0.154416203498840,0.130911409854889,0.162997156381607,-0.166095763444901,-0.241758450865746,-0.065643720328808,0.043883670121431,-0.196745336055756,0.018997360020876,-0.009235396981239));
res += mul(Get(s2,0,0), float4x4(0.067925788462162,-0.118866808712482,0.167585164308548,-0.012422561645508,-0.051583264023066,0.035352904349566,0.098920077085495,0.009078478440642,0.161406859755516,-0.151073649525642,-0.239952549338341,0.021156189963222,0.000895433651749,-0.086622990667820,-0.065159827470779,-0.027026481926441));
res += mul(Get(s2,0,dy), float4x4(0.085862003266811,-0.072879470884800,-0.011160662397742,-0.235974386334419,-0.151613667607307,-0.060216803103685,-0.005715962499380,0.095238737761974,0.032706756144762,-0.125782012939453,0.060234732925892,-0.030182920396328,0.058353461325169,-0.034571778029203,0.077882170677185,0.174899920821190));
res += mul(Get(s2,dx,-dy), float4x4(0.081072710454464,0.112510979175568,-0.023401664569974,-0.038128491491079,0.087382957339287,-0.126505151391029,-0.087649852037430,0.076338574290276,0.070161819458008,-0.040489953011274,0.073236629366875,-0.042044594883919,0.176668912172318,-0.031776223331690,-0.014912982471287,0.063994482159615));
res += mul(Get(s2,dx,0), float4x4(0.043131995946169,0.014470826834440,0.018588682636619,0.098590150475502,0.008994038216770,0.090485915541649,-0.080397576093674,0.112917222082615,0.105740673840046,0.083735607564449,0.016092978417873,0.039615679532290,-0.072379477322102,0.186389774084091,-0.051158953458071,0.060678448528051));
res += mul(Get(s2,dx,dy), float4x4(-0.024263320490718,-0.029911627992988,-0.147790282964706,0.051310144364834,-0.140796929597855,-0.135240256786346,0.029484251514077,0.089437410235405,-0.116280034184456,-0.199754446744919,-0.063950628042221,0.076316952705383,-0.268323183059692,-0.282536417245865,-0.062864296138287,0.243904709815979));
res += mul(Get(s3,-dx,-dy), float4x4(0.078105144202709,0.044917624443769,0.035743545740843,-0.056263383477926,-0.019232397899032,0.150896072387695,0.129306361079216,-0.021057674661279,-0.038983818143606,0.137657225131989,0.132397398352623,0.093759015202522,0.140439599752426,0.053492061793804,0.016651969403028,0.033558715134859));
res += mul(Get(s3,-dx,0), float4x4(0.056550279259682,-0.031953945755959,0.154038831591606,-0.021026948466897,0.072286881506443,-0.039360657334328,-0.115744851529598,-0.037957314401865,0.165669947862625,-0.186031773686409,0.103308334946632,-0.010295564308763,0.007922762073576,0.022510292008519,-0.102815933525562,0.141698703169823));
res += mul(Get(s3,-dx,dy), float4x4(0.046839229762554,0.049034908413887,0.045006930828094,0.103363208472729,0.065617553889751,-0.020028427243233,0.173758074641228,-0.007679894100875,-0.075399287045002,-0.014582746662199,-0.080059662461281,-0.192470625042915,0.127092346549034,-0.038648061454296,-0.160004943609238,-0.109038814902306));
res += mul(Get(s3,0,-dy), float4x4(0.120503090322018,0.142500475049019,0.076102256774902,0.082630671560764,-0.037696249783039,-0.026570180431008,-0.046681702136993,0.199049681425095,0.203798696398735,-0.027745546773076,-0.085193805396557,-0.082217484712601,0.135059669613838,-0.052099741995335,-0.117941319942474,0.008827729150653));
res += mul(Get(s3,0,0), float4x4(0.021377202123404,-0.083738304674625,-0.228135928511620,0.083551116287708,-0.131110295653343,-0.078534558415413,0.080430522561073,-0.075945608317852,0.093787252902985,-0.127502456307411,-0.045581560581923,0.006771668326110,-0.124440610408783,-0.093584284186363,0.005758013110608,0.058564104139805));
res += mul(Get(s3,0,dy), float4x4(0.080657616257668,-0.024856187403202,0.152792006731033,0.056800197809935,0.107970945537090,-0.096026621758938,-0.095734603703022,0.024220833554864,-0.003482480533421,-0.141922786831856,-0.044593229889870,-0.021608073264360,-0.091119714081287,-0.024248024448752,-0.037661261856556,-0.126113295555115));
res += mul(Get(s3,dx,-dy), float4x4(0.086521916091442,-0.037752177566290,0.039731666445732,0.263640314340591,-0.009837885387242,-0.064973212778568,0.021468611434102,0.001567196333781,0.137086510658264,-0.035398650914431,-0.036573458462954,-0.002756176982075,0.207841753959656,-0.049135863780975,-0.118522606790066,-0.060624644160271));
res += mul(Get(s3,dx,0), float4x4(-0.129013821482658,0.051649458706379,0.070633754134178,-0.106715023517609,0.013712152838707,-0.081117421388626,-0.090729124844074,0.029805898666382,0.007599514443427,-0.027006315067410,-0.218448594212532,0.046051476150751,-0.019568275660276,-0.055585443973541,0.161742180585861,0.181855455040932));
res += mul(Get(s3,dx,dy), float4x4(-0.120554998517036,-0.093913055956364,-0.183155968785286,0.093517020344734,0.039155866950750,0.000524266390130,-0.128565490245819,0.007972957566381,-0.004476428031921,-0.050751410424709,-0.092335455119610,-0.004545220639557,0.032734259963036,-0.043988566845655,0.149964138865471,-0.058433506637812));
return max(float4(0,0,0,0), res);
}
