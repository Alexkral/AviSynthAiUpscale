sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.049517210572958,0.072677522897720,-0.010739470832050,0.073885381221771,0.236331060528755,0.121170051395893,0.217281103134155,0.077238798141479,-0.078695438802242,-0.026116579771042,-0.124402947723866,-0.105566024780273,-0.027583032846451,-0.004880585707724,-0.224641561508179,-0.135213270783424));
res += mul(Get(s0,-dx,0), float4x4(0.126432716846466,0.039033330976963,0.038813672959805,0.046565517783165,0.077532358467579,-0.218209967017174,0.057641278952360,0.033677756786346,-0.053639512509108,0.108232937753201,-0.027316292747855,0.152177453041077,-0.203692600131035,-0.025335036218166,-0.094305232167244,-0.297403424978256));
res += mul(Get(s0,-dx,dy), float4x4(-0.192738503217697,-0.021625088527799,-0.085907235741615,-0.115102365612984,0.070798255503178,-0.040523029863834,-0.138178721070290,0.185324653983116,0.088122211396694,0.229522272944450,-0.003411941230297,0.145730584859848,-0.054409690201283,-0.027796696871519,-0.066722892224789,-0.283612966537476));
res += mul(Get(s0,0,-dy), float4x4(0.174090042710304,0.076926454901695,-0.021383812651038,0.252809494733810,0.220746889710426,0.147406771779060,0.443285733461380,0.174265235662460,0.004589321557432,-0.072381936013699,-0.145639196038246,0.018336148932576,0.400962829589844,0.037908829748631,0.063091970980167,0.094854503870010));
res += mul(Get(s0,0,0), float4x4(0.234013870358467,0.100594475865364,0.079032212495804,-0.090577326714993,-0.281824827194214,-0.112273834645748,0.163439631462097,-0.203997448086739,0.047091078013182,0.037263367325068,0.066639959812164,0.097790613770485,0.284206658601761,0.071363553404808,0.255245953798294,-0.017105145379901));
res += mul(Get(s0,0,dy), float4x4(-0.028903480619192,-0.145495802164078,0.018613824620843,-0.041327308863401,-0.304852247238159,-0.138096168637276,-0.088887080550194,0.031191676855087,0.024148877710104,0.230729803442955,0.132166385650635,0.150995910167694,0.056734867393970,0.147577837109566,0.167800799012184,-0.042210467159748));
res += mul(Get(s0,dx,-dy), float4x4(-0.061695445328951,-0.059889052063227,0.024944962933660,-0.061497099697590,0.130479708313942,0.169187307357788,0.014284287579358,0.389003634452820,-0.202980175614357,-0.203118816018105,-0.056979034096003,-0.052361458539963,-0.037964649498463,0.023354653269053,0.214759543538094,0.120903573930264));
res += mul(Get(s0,dx,0), float4x4(-0.172327920794487,-0.130159735679626,0.095454886555672,-0.108420133590698,0.118343912065029,0.374960124492645,-0.158878937363625,0.039799153804779,-0.153781220316887,-0.093140199780464,0.029001055285335,-0.071094982326031,-0.065334334969521,-0.027756804600358,0.141894340515137,0.230527266860008));
res += mul(Get(s0,dx,dy), float4x4(-0.136368378996849,-0.201575815677643,-0.101660117506981,-0.041465669870377,0.013847804628313,-0.019144777208567,-0.303542643785477,0.016365937888622,0.016322623938322,0.175399810075760,0.157797649502754,0.191805958747864,-0.104158520698547,0.205290764570236,-0.139620244503021,0.182130113244057));
res += mul(Get(s1,-dx,-dy), float4x4(0.069464288651943,0.013195756822824,-0.146950811147690,0.028457088395953,-0.002726180944592,0.051778580993414,0.048638228327036,-0.020043330267072,0.244087129831314,0.238332957029343,0.109705865383148,0.146939799189568,0.148488223552704,0.078109443187714,0.063655190169811,0.142372429370880));
res += mul(Get(s1,-dx,0), float4x4(0.230479001998901,0.277212202548981,0.002329205628484,0.019413428381085,0.220907270908356,0.108475111424923,0.008095789700747,0.133834540843964,0.037980295717716,0.154810622334480,0.265238404273987,0.455938041210175,0.183506846427917,0.103867597877979,0.049275506287813,0.201424077153206));
res += mul(Get(s1,-dx,dy), float4x4(0.064934924244881,0.078913867473602,0.017585935071111,-0.105891786515713,0.057105470448732,0.047338508069515,0.145413339138031,-0.042169690132141,0.246276229619980,0.114420384168625,0.355682313442230,0.286942034959793,0.081605441868305,0.056595575064421,-0.010554249398410,0.187465474009514));
res += mul(Get(s1,0,-dy), float4x4(0.121699169278145,0.014233113266528,-0.088594436645508,0.072887189686298,0.208861991763115,0.020915552973747,0.063443735241890,0.045555382966995,-0.024924987927079,0.098676398396492,0.146396309137344,0.069255843758583,0.134102270007133,0.077385686337948,0.179596677422523,0.145601749420166));
res += mul(Get(s1,0,0), float4x4(0.160547167062759,0.121894620358944,0.151125892996788,0.163440316915512,0.341271609067917,0.143526136875153,0.127127453684807,0.146634370088577,-0.188129261136055,-0.217350050806999,0.062117528170347,-0.011975951492786,0.221627414226532,0.138449132442474,0.000490215083119,0.148454502224922));
res += mul(Get(s1,0,dy), float4x4(0.060379248112440,0.033674165606499,0.218129739165306,0.102449007332325,0.299305289983749,0.082066781818867,0.118197791278362,0.115658573806286,-0.182500287890434,-0.182939976453781,-0.025699121877551,-0.068637669086456,0.262049943208694,0.396330267190933,-0.066452868282795,0.425063848495483));
res += mul(Get(s1,dx,-dy), float4x4(0.037798859179020,-0.054085228592157,-0.012787692248821,0.007168656215072,-0.011984163895249,-0.046048957854509,0.102594561874866,0.140927881002426,-0.050444710999727,-0.051187898963690,0.010910616256297,-0.101974792778492,-0.010628002695739,-0.008788373321295,0.052490562200546,-0.014265329577029));
res += mul(Get(s1,dx,0), float4x4(0.036140229552984,-0.190498292446136,0.164841696619987,0.213472798466682,0.157100662589073,0.201871559023857,0.174664199352264,0.255531847476959,-0.196681424975395,-0.170616507530212,-0.365593641996384,-0.127587676048279,-0.049280762672424,-0.025955172255635,-0.030100604519248,-0.056076180189848));
res += mul(Get(s1,dx,dy), float4x4(-0.131033241748810,-0.241166561841965,0.052793547511101,0.018925346434116,0.006420110352337,0.261453092098236,0.182051897048950,0.251680165529251,-0.115624204277992,0.082106523215771,-0.039028044790030,-0.216116547584534,-0.105607643723488,0.048701133579016,-0.054686620831490,0.096209354698658));
res += mul(Get(s2,-dx,-dy), float4x4(-0.100738614797592,-0.256419509649277,-0.293326616287231,-0.084284983575344,0.037852283567190,-0.041002031415701,0.151593372225761,-0.143649548292160,-0.007412630598992,0.016516298055649,-0.108080960810184,-0.064794547855854,0.102806210517883,0.124225720763206,0.194522649049759,-0.041337955743074));
res += mul(Get(s2,-dx,0), float4x4(0.019955845549703,-0.044429861009121,-0.076874934136868,0.052474200725555,-0.223689928650856,-0.249406576156616,-0.118297100067139,-0.267407298088074,-0.151105865836143,-0.156384900212288,-0.209836691617966,-0.211677685379982,0.112742781639099,0.272919923067093,0.101512894034386,0.126547902822495));
res += mul(Get(s2,-dx,dy), float4x4(0.097698278725147,0.018502391874790,-0.010050260461867,0.264798849821091,-0.015338052995503,0.120363727211952,-0.160008460283279,0.072631642222404,-0.160994932055473,-0.035417407751083,-0.218622162938118,0.068744696676731,0.036863051354885,-0.020499769598246,0.027908261865377,0.204521819949150));
res += mul(Get(s2,0,-dy), float4x4(-0.116921007633209,-0.208594843745232,-0.074806459248066,-0.284670412540436,-0.047610599547625,-0.108185984194279,-0.015096634626389,-0.143635332584381,0.138387203216553,0.057124897837639,0.125029340386391,-0.063702456653118,0.124016039073467,-0.048091176897287,0.217318534851074,0.098132558166981));
res += mul(Get(s2,0,0), float4x4(-0.074524812400341,-0.340523838996887,-0.119188472628593,-0.134800463914871,-0.232079148292542,-0.109434865415096,-0.092469111084938,-0.136686712503433,0.029320128262043,-0.077041923999786,-0.105078846216202,-0.166805177927017,0.204522520303726,0.142939671874046,0.049034003168344,0.161799922585487));
res += mul(Get(s2,0,dy), float4x4(0.021687990054488,0.005836819298565,-0.097528256475925,0.087083123624325,0.068899251520634,0.365555226802826,-0.167655780911446,0.230283141136169,-0.051307119429111,-0.062478393316269,-0.083976969122887,0.009389671497047,0.036700781434774,-0.015592058189213,-0.010337153449655,0.034664768725634));
res += mul(Get(s2,dx,-dy), float4x4(0.083863496780396,0.024408193305135,-0.174844995141029,-0.126425623893738,0.197740912437439,-0.068964526057243,-0.118835821747780,-0.013112614862621,0.278957903385162,0.093720652163029,0.135971486568451,0.033315684646368,-0.082749873399734,-0.104131363332272,0.075532428920269,-0.029997790232301));
res += mul(Get(s2,dx,0), float4x4(0.209203198552132,0.050944592803717,-0.097951605916023,-0.014115887694061,0.194172769784927,0.313673019409180,-0.054175663739443,-0.087400965392590,0.133755341172218,0.002555154729635,-0.139884054660797,0.035044666379690,0.130976065993309,0.235711544752121,0.167126074433327,0.306293696165085));
res += mul(Get(s2,dx,dy), float4x4(0.227515518665314,0.161476403474808,-0.116107739508152,0.057340275496244,0.186404496431351,0.358596771955490,0.167055204510689,0.152770102024078,0.086257524788380,0.083722479641438,-0.092742495238781,0.117734238505363,-0.040656697005033,0.116381652653217,0.004550300072879,0.149556279182434));
res += mul(Get(s3,-dx,-dy), float4x4(0.123454757034779,0.079617753624916,-0.033037964254618,0.077184349298477,-0.107772454619408,-0.105882160365582,0.133826851844788,-0.095943443477154,0.006722643040121,0.063739120960236,0.152023077011108,0.168592378497124,0.177187129855156,0.003621008014306,0.126129895448685,0.110261410474777));
res += mul(Get(s3,-dx,0), float4x4(-0.076508760452271,-0.164533972740173,0.071255482733250,-0.073742687702179,0.010835411958396,0.033782064914703,-0.062527060508728,0.250685244798660,0.512715399265289,0.329648792743683,0.433302044868469,0.287549257278442,0.082531854510307,-0.147133976221085,-0.187962591648102,0.012144903652370));
res += mul(Get(s3,-dx,dy), float4x4(-0.117624819278717,-0.196690633893013,0.120000235736370,-0.222846716642380,0.278889775276184,0.269600450992584,-0.019100649282336,0.326391190290451,0.004098058678210,0.075169026851654,0.135016277432442,0.217446401715279,0.169931322336197,-0.061883013695478,-0.180397987365723,0.360008805990219));
res += mul(Get(s3,0,-dy), float4x4(0.127475246787071,0.172584295272827,0.097074553370476,-0.044820409268141,-0.168938338756561,-0.103269159793854,-0.051577061414719,-0.041081264615059,0.145792290568352,0.221219405531883,0.344116955995560,0.012955051846802,0.199528753757477,0.062028106302023,0.276664793491364,-0.050855219364166));
res += mul(Get(s3,0,0), float4x4(-0.027842029929161,0.082610704004765,0.074249461293221,-0.222059920430183,-0.239676430821419,-0.057492777705193,-0.163717716932297,-0.230764254927635,0.054145466536283,0.032564092427492,0.354134321212769,0.057922910898924,-0.280081957578659,-0.229761973023415,-0.078594930469990,-0.298453152179718));
res += mul(Get(s3,0,dy), float4x4(-0.011999760754406,-0.188437119126320,0.008471688255668,-0.216320082545280,0.103391028940678,0.233968466520309,-0.050067696720362,0.313468366861343,-0.117920421063900,0.157596006989479,-0.142700403928757,0.044251661747694,0.018060524016619,0.040849309414625,-0.052181798964739,0.359600096940994));
res += mul(Get(s3,dx,-dy), float4x4(0.140104115009308,0.215070888400078,-0.055354226380587,-0.025628382340074,-0.052939690649509,0.016940599307418,0.148857027292252,0.018375623971224,0.107998296618462,0.089600041508675,0.195551067590714,-0.017902564257383,0.276741027832031,0.253531724214554,0.280912876129150,0.086862251162529));
res += mul(Get(s3,dx,0), float4x4(0.115026280283928,0.088384553790092,0.100681394338608,-0.092763625085354,-0.245293378829956,-0.014661350287497,-0.085064150393009,0.111253626644611,-0.148099914193153,0.099168874323368,-0.024495299905539,-0.201325282454491,-0.063414819538593,-0.000975048809778,-0.081796929240227,-0.091476418077946));
res += mul(Get(s3,dx,dy), float4x4(0.017823131754994,0.017615042626858,0.084627047181129,0.063202336430550,-0.024502206593752,0.181840524077415,-0.017574023455381,0.197734251618385,0.053491242229939,0.092915087938309,-0.347033292055130,0.183012858033180,-0.007655639667064,0.146973356604576,-0.164022698998451,0.320970684289932));
return max(float4(0,0,0,0), res);
}
