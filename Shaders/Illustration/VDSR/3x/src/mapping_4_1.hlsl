sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.022095834836364,0.008935247547925,-0.042038008570671,-0.062368426471949,-0.061819944530725,-0.043439649045467,-0.055800180882215,0.069788441061974,0.074749290943146,-0.014207547530532,0.111280024051666,0.240004196763039,-0.085568368434906,0.009775377810001,0.076130323112011,0.083815686404705));
res += mul(Get(s0,-dx,0), float4x4(-0.114785328507423,0.153551712632179,-0.106560878455639,-0.042697478085756,0.171395331621170,0.163913980126381,0.025356933474541,0.063852019608021,-0.012257992289960,0.107371255755424,0.008343004621565,-0.099149145185947,-0.221897423267365,0.065056264400482,0.051503669470549,-0.067107915878296));
res += mul(Get(s0,-dx,dy), float4x4(0.116823248565197,-0.002284566173330,-0.107022665441036,-0.026388354599476,-0.032185345888138,-0.207055106759071,0.084681682288647,0.102527245879173,-0.003692270722240,0.027394611388445,-0.027479471638799,0.230241596698761,-0.170447021722794,-0.091555990278721,0.014964689500630,0.062713287770748));
res += mul(Get(s0,0,-dy), float4x4(0.025289516896009,0.096035949885845,0.061586659401655,-0.071236841380596,-0.005275384522974,0.033388156443834,-0.028567727655172,0.155359104275703,0.207596614956856,-0.113514766097069,0.064331479370594,0.015111296437681,-0.004841045942158,-0.127068072557449,0.101982921361923,-0.098191000521183));
res += mul(Get(s0,0,0), float4x4(0.030489845201373,-0.089330844581127,-0.082180522382259,-0.177608773112297,0.197193205356598,-0.001995998667553,0.049923434853554,0.005379679612815,0.274902045726776,-0.219632387161255,0.040565032511950,-0.008698776364326,-0.068207174539566,-0.026156933978200,-0.050097472965717,0.039231631904840));
res += mul(Get(s0,0,dy), float4x4(-0.074076980352402,-0.126427352428436,-0.128423184156418,0.023695744574070,-0.059006247669458,0.125040084123611,0.292306780815125,0.044725127518177,0.017613466829062,-0.061106737703085,-0.054492194205523,0.126218155026436,0.150013297796249,-0.198710441589355,-0.008636091835797,-0.051355507224798));
res += mul(Get(s0,dx,-dy), float4x4(-0.104533702135086,-0.092614777386189,-0.148798823356628,-0.037150327116251,-0.029717046767473,0.021979700773954,-0.046974062919617,0.162974759936333,-0.082223318517208,0.030202394351363,-0.259500235319138,-0.090862087905407,-0.208086028695107,0.027435671538115,-0.003648545360193,0.005173046141863));
res += mul(Get(s0,dx,0), float4x4(-0.119743965566158,-0.176669538021088,-0.166158065199852,0.002983025042340,0.106419533491135,0.218072533607483,0.007741011213511,0.170644938945770,0.049647226929665,0.246770039200783,-0.131920561194420,0.058082215487957,-0.101400054991245,-0.145883411169052,0.044413805007935,-0.104654677212238));
res += mul(Get(s0,dx,dy), float4x4(-0.155887648463249,0.033938132226467,0.053023420274258,0.005940937902778,0.032828502357006,-0.038043439388275,-0.070584572851658,-0.104288473725319,-0.044450193643570,-0.022333541885018,-0.038111072033644,0.059313692152500,0.057041686028242,-0.186129942536354,-0.044908389449120,0.024943906813860));
res += mul(Get(s1,-dx,-dy), float4x4(0.024826349690557,0.024744909256697,0.094741024076939,0.031974256038666,0.089348122477531,0.147361114621162,0.064445957541466,0.017987454310060,-0.015578993596137,-0.046034231781960,0.079578354954720,-0.135794222354889,-0.012377982959151,0.030652256682515,0.057951312512159,0.144193768501282));
res += mul(Get(s1,-dx,0), float4x4(-0.032217457890511,0.067586265504360,-0.184551537036896,-0.075917221605778,-0.014108775183558,-0.074228227138519,-0.087514631450176,-0.028483858332038,-0.042401701211929,0.135321572422981,0.198114886879921,0.039868649095297,0.059743095189333,-0.047794617712498,-0.280209392309189,0.004864641930908));
res += mul(Get(s1,-dx,dy), float4x4(-0.113033771514893,-0.017657030373812,0.294488877058029,-0.243342518806458,0.014783242717385,-0.150342285633087,0.111456364393234,0.072113811969757,-0.066644184291363,-0.150937318801880,0.010539580136538,-0.144888877868652,-0.047390636056662,-0.059278018772602,-0.113491162657738,0.011848751455545));
res += mul(Get(s1,0,-dy), float4x4(-0.225903451442719,0.116338327527046,-0.023581720888615,0.139809340238571,0.012424662709236,-0.071840889751911,-0.059580851346254,-0.068046994507313,-0.173446178436279,0.218682214617729,0.121385812759399,0.130526468157768,0.065064057707787,-0.302664399147034,-0.083980612456799,0.036038432270288));
res += mul(Get(s1,0,0), float4x4(0.039578825235367,0.094299219548702,-0.168639853596687,0.209827214479446,0.030499132350087,-0.055167417973280,-0.094604231417179,0.042996712028980,0.151424556970596,-0.021297184750438,-0.094888605177402,-0.006377947516739,0.011280673556030,-0.129614233970642,0.062055271118879,-0.113918185234070));
res += mul(Get(s1,0,dy), float4x4(0.108780488371849,0.105754159390926,-0.077967613935471,-0.019801126793027,0.105991095304489,-0.155053675174713,0.255559682846069,0.037188533693552,-0.003778606420383,-0.127607658505440,-0.080513507127762,0.086607545614243,0.053454320877790,0.107270158827305,-0.042846877127886,0.147482007741928));
res += mul(Get(s1,dx,-dy), float4x4(0.020209694281220,-0.010380358435214,-0.016963984817266,0.195667013525963,-0.047721695154905,-0.117661044001579,0.031378138810396,0.037929397076368,-0.001487556030042,0.134067386388779,0.106573425233364,0.202811956405640,-0.096947170794010,0.212857604026794,-0.153953582048416,-0.060594663023949));
res += mul(Get(s1,dx,0), float4x4(-0.077537424862385,0.008916553109884,0.090343631803989,-0.072390466928482,0.182653352618217,0.213402613997459,0.142357021570206,0.037281773984432,0.032333385199308,-0.090036600828171,0.032269380986691,0.016584914177656,-0.142677605152130,0.134788885712624,-0.054322648793459,-0.006264727097005));
res += mul(Get(s1,dx,dy), float4x4(0.095645345747471,-0.062133133411407,-0.055902570486069,-0.129299059510231,-0.102526053786278,-0.020099023357034,0.134466663002968,-0.042527463287115,-0.072261355817318,-0.029621634632349,0.026686437427998,-0.026617133989930,0.001034897170030,0.103969991207123,-0.110863819718361,-0.109278269112110));
res += mul(Get(s2,-dx,-dy), float4x4(-0.115701191127300,-0.034758627414703,0.092470489442348,0.221008062362671,-0.060156449675560,0.032027970999479,-0.047288410365582,0.136099919676781,0.001993250101805,0.119933530688286,0.186006620526314,-0.151064231991768,-0.038337577134371,-0.117856301367283,-0.068592086434364,-0.049888074398041));
res += mul(Get(s2,-dx,0), float4x4(0.120938479900360,0.166217476129532,-0.072173617780209,0.117698393762112,-0.084451936185360,-0.114966608583927,0.075273305177689,0.138507708907127,-0.180348053574562,-0.124598614871502,-0.053385589271784,-0.112340703606606,0.032946888357401,0.132884129881859,0.075604014098644,-0.040040738880634));
res += mul(Get(s2,-dx,dy), float4x4(-0.106517359614372,0.181015551090240,-0.180779621005058,-0.325893640518188,-0.001931836130098,-0.009812010452151,0.004334851633757,0.050070721656084,-0.019555551931262,0.014474565163255,-0.192715302109718,-0.199117466807365,-0.059360843151808,-0.006950811017305,0.114778488874435,-0.227131128311157));
res += mul(Get(s2,0,-dy), float4x4(0.072112582623959,-0.045258354395628,0.028069194406271,0.005590219981968,0.006156203802675,0.006733271293342,0.054659638553858,0.037079799920321,0.088476955890656,0.303237795829773,-0.017555411905050,0.050356797873974,-0.081072397530079,0.115606173872948,-0.074539072811604,0.242300078272820));
res += mul(Get(s2,0,0), float4x4(0.158855229616165,0.028136547654867,0.043145082890987,0.158201873302460,-0.008641917258501,0.090997867286205,0.129892557859421,0.003807759378105,0.077990613877773,-0.076933197677135,0.024093097075820,-0.270904421806335,0.129122599959373,0.222676649689674,-0.111552320420742,-0.005994779523462));
res += mul(Get(s2,0,dy), float4x4(-0.133632183074951,0.128047361969948,-0.000211926235352,-0.088272906839848,0.365282922983170,0.058624558150768,0.061701770871878,0.028484189882874,0.168545901775360,-0.011375002563000,-0.199108943343163,-0.070860713720322,0.015984885394573,-0.054385181516409,0.040204659104347,0.139239743351936));
res += mul(Get(s2,dx,-dy), float4x4(0.110248424112797,0.214099496603012,0.091060906648636,-0.067928761243820,0.209510564804077,0.186503499746323,-0.044680185616016,-0.004454872570932,0.139602109789848,0.069981314241886,0.139981910586357,0.114626400172710,-0.160203740000725,0.223277807235718,0.143256708979607,0.003681953297928));
res += mul(Get(s2,dx,0), float4x4(0.040587328374386,-0.040889259427786,-0.140173077583313,0.077525161206722,0.148784756660461,0.067915089428425,0.006854958366603,0.079140082001686,0.063064076006413,-0.171782702207565,0.175350815057755,0.039710745215416,-0.252243340015411,0.035767514258623,-0.181573569774628,-0.070848755538464));
res += mul(Get(s2,dx,dy), float4x4(0.013134644366801,-0.062698595225811,-0.137694358825684,0.101115114986897,0.101429127156734,-0.086194850504398,0.215467855334282,0.037246160209179,-0.063338719308376,0.103880479931831,0.026589360088110,0.124899119138718,0.061644181609154,-0.022629559040070,0.233258798718452,0.093203283846378));
res += mul(Get(s3,-dx,-dy), float4x4(-0.060019891709089,0.037028126418591,-0.208583235740662,-0.250447511672974,-0.054072719067335,-0.234470486640930,-0.070931956171989,-0.032597362995148,-0.011282256804407,-0.180341377854347,-0.017264224588871,0.186374798417091,0.110376790165901,0.239657938480377,0.009617421776056,0.032512169331312));
res += mul(Get(s3,-dx,0), float4x4(-0.042682528495789,0.033665455877781,-0.100740186870098,-0.120288498699665,-0.029815383255482,-0.049460534006357,-0.015950324013829,-0.017912929877639,-0.185884907841682,-0.151520997285843,-0.039240017533302,-0.078101985156536,0.051523208618164,0.139838784933090,-0.011974676512182,0.043584503233433));
res += mul(Get(s3,-dx,dy), float4x4(-0.012903074733913,0.261002182960510,0.057748220860958,-0.046326216310263,0.144238322973251,-0.060099136084318,0.235484153032303,-0.020349612459540,-0.129550784826279,-0.055022932589054,0.040016151964664,-0.088016115128994,-0.142477437853813,0.067295834422112,-0.015440176241100,-0.040445197373629));
res += mul(Get(s3,0,-dy), float4x4(-0.001240358920768,-0.150462433695793,0.126793846487999,-0.073546573519707,0.108120277523994,0.014068224467337,0.004487251397222,-0.021307868883014,-0.048460632562637,-0.381139248609543,-0.040948580950499,0.097724862396717,0.005616830196232,0.087686643004417,-0.022252580150962,0.008245312608778));
res += mul(Get(s3,0,0), float4x4(-0.118590861558914,-0.146079659461975,-0.106504127383232,0.057450659573078,0.007616175338626,-0.122613966464996,-0.044826459139585,0.064853340387344,0.069821991026402,0.002380050020292,-0.076534353196621,0.384779065847397,0.077596507966518,0.145085662603378,0.160451859235764,-0.000728293613065));
res += mul(Get(s3,0,dy), float4x4(-0.005667024292052,0.100275523960590,-0.034115452319384,0.039568506181240,-0.082141518592834,0.106219150125980,0.062984414398670,0.027714779600501,-0.003096492029727,0.108744174242020,-0.127872020006180,-0.096132308244705,-0.076058454811573,0.023304436355829,0.125595837831497,-0.035979274660349));
res += mul(Get(s3,dx,-dy), float4x4(-0.244869172573090,-0.241968870162964,-0.058830499649048,-0.078690312802792,-0.011465840041637,-0.201125785708427,0.005551032721996,0.030854368582368,-0.125066101551056,-0.106558091938496,-0.015659064054489,-0.064126595854759,-0.077673368155956,-0.019672947004437,-0.038533609360456,-0.087696053087711));
res += mul(Get(s3,dx,0), float4x4(-0.104973085224628,0.101126447319984,-0.166291058063507,-0.159303486347198,0.128530845046043,0.097672976553440,-0.174834802746773,-0.079518906772137,0.229438781738281,-0.202083557844162,0.064299665391445,-0.056339934468269,0.036162611097097,-0.039206068962812,0.084031537175179,-0.069167554378510));
res += mul(Get(s3,dx,dy), float4x4(-0.042409870773554,0.154959693551064,0.124216891825199,0.075649380683899,0.122140482068062,0.095882564783096,0.027087133377790,0.035989992320538,0.077899068593979,0.018803585320711,0.032171193510294,-0.130486369132996,-0.115203693509102,0.015977244824171,-0.065767183899879,-0.103030286729336));
return max(float4(0,0,0,0), res);
}
