sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.041340373456478,-0.022146910429001,-0.010373164899647,-0.025360217317939,0.020962152630091,-0.149525448679924,-0.194119274616241,-0.188415154814720,0.060158934444189,0.001649725250900,0.102025717496872,0.090395055711269,-0.032488945871592,0.247638657689095,0.122417248785496,0.049862455576658));
res += mul(Get(s0,-dx,0), float4x4(-0.003480870742351,-0.009344205260277,0.029715450480580,-0.053152780979872,0.116440221667290,-0.087765388190746,-0.181659862399101,-0.128290385007858,0.090821228921413,-0.289784699678421,0.077526189386845,0.283407807350159,0.075361073017120,-0.082917854189873,-0.103840596973896,-0.001582039520144));
res += mul(Get(s0,-dx,dy), float4x4(-0.005805575288832,0.021544370800257,0.072382457554340,-0.061354476958513,0.053825497627258,0.220854297280312,-0.052611093968153,0.047363877296448,0.115001760423183,0.002655371557921,0.081912845373154,0.107442215085030,0.019821558147669,-0.142481282353401,0.183548301458359,0.052383121103048));
res += mul(Get(s0,0,-dy), float4x4(-0.007551298942417,0.024604706093669,0.030974965542555,-0.061949491500854,-0.051110297441483,-0.251785963773727,-0.282512813806534,-0.057328253984451,0.089917011559010,0.081672213971615,0.077782288193703,0.087093949317932,-0.049677114933729,0.160865142941475,0.057691060006618,0.042463805526495));
res += mul(Get(s0,0,0), float4x4(-0.014100403524935,0.006715090014040,0.061629042029381,-0.040029454976320,-0.087873987853527,-0.219796165823936,-0.323746085166931,0.058876268565655,0.055745217949152,-0.163430929183960,0.047145232558250,0.170460164546967,-0.026973742991686,-0.030204184353352,-0.304006695747375,0.014640738256276));
res += mul(Get(s0,0,dy), float4x4(-0.027607964351773,0.052040882408619,0.065913341939449,-0.050145674496889,-0.114166460931301,0.341705590486526,-0.122849501669407,-0.216726958751678,0.003461982356384,0.021998910233378,0.052567429840565,-0.065437480807304,0.023164343088865,-0.108726449310780,-0.016682505607605,0.117474712431431));
res += mul(Get(s0,dx,-dy), float4x4(0.021753914654255,0.000516089552548,-0.017325382679701,0.000591937801801,-0.092720918357372,0.110345363616943,-0.135453909635544,-0.165066465735435,0.001945457071997,0.130590990185738,0.076398022472858,-0.010595269501209,0.035026527941227,-0.176063984632492,0.260855853557587,0.026889877393842));
res += mul(Get(s0,dx,0), float4x4(0.037196002900600,0.008439457975328,0.019209541380405,-0.012846064753830,-0.177191495895386,-0.065033555030823,-0.122528314590454,-0.304883420467377,-0.029986774548888,-0.035810634493828,0.022988330572844,-0.013720962218940,-0.189774677157402,-0.256186544895172,-0.163892894983292,-0.095184423029423));
res += mul(Get(s0,dx,dy), float4x4(0.017311720177531,0.038878634572029,0.010530348867178,-0.006219935137779,-0.230738148093224,-0.021712156012654,-0.047502696514130,-0.337778419256210,-0.073834776878357,-0.100524023175240,0.006425957195461,-0.084611333906651,-0.001826054765843,-0.104535572230816,0.142396003007889,0.126644968986511));
res += mul(Get(s1,-dx,-dy), float4x4(0.002759910188615,-0.170277595520020,-0.120966911315918,0.014723313972354,-0.053527843207121,0.036611113697290,0.005788550712168,0.028573574498296,-0.034972578287125,0.291798889636993,-0.029616881161928,-0.035835161805153,0.093093805015087,0.009870713576674,0.004419452976435,-0.181670859456062));
res += mul(Get(s1,-dx,0), float4x4(0.125323340296745,-0.119520753622055,-0.082529820501804,0.288228422403336,-0.086482994258404,-0.078372955322266,0.076132826507092,0.079050116240978,-0.014926181174815,-0.333206623792648,-0.070320509374142,-0.078841015696526,0.146430477499962,0.130642145872116,0.135187268257141,-0.204009890556335));
res += mul(Get(s1,-dx,dy), float4x4(-0.021998977288604,-0.013064893893898,-0.002315934514627,0.207974970340729,0.037700962275267,0.143694356083870,0.079033948481083,0.037110008299351,-0.003956145606935,-0.226624161005020,0.056277766823769,0.115023091435432,-0.141465961933136,0.289760023355484,-0.139413148164749,-0.210947781801224));
res += mul(Get(s1,0,-dy), float4x4(-0.057391453534365,0.013579990714788,0.008999345824122,0.089499868452549,-0.041165791451931,0.042296875268221,-0.050817921757698,0.008642963133752,-0.140705049037933,-0.026888133957982,-0.058525275439024,-0.084681175649166,-0.005901138298213,-0.040365818887949,-0.043795280158520,-0.097311064600945));
res += mul(Get(s1,0,0), float4x4(-0.118883721530437,0.063435733318329,0.033257771283388,0.090783201158047,-0.060951508581638,-0.031922727823257,-0.087883107364178,0.044217474758625,-0.070101588964462,-0.135053098201752,-0.182691290974617,0.177998781204224,-0.169676497578621,0.021433550864458,0.127344593405724,-0.098603539168835));
res += mul(Get(s1,0,dy), float4x4(-0.201188832521439,0.154299765825272,0.019504994153976,-0.185615763068199,-0.010281973518431,0.021413814276457,-0.118607982993126,0.090185232460499,0.305526763200760,-0.194247290492058,0.022126095369458,0.183941200375557,-0.289644211530685,0.129814371466637,-0.143881350755692,-0.169183120131493));
res += mul(Get(s1,dx,-dy), float4x4(-0.024806508794427,-0.179321914911270,0.005055224522948,0.303138196468353,-0.062671244144440,0.127554282546043,-0.033196710050106,-0.073398798704147,-0.094556868076324,-0.082427926361561,0.255200862884521,-0.118927925825119,0.284412622451782,-0.101374186575413,0.058499760925770,-0.117238707840443));
res += mul(Get(s1,dx,0), float4x4(-0.217225909233093,-0.051266472786665,0.020175652578473,0.240662440657616,-0.081397749483585,0.029075646772981,-0.100636959075928,-0.056273546069860,0.292828351259232,0.020588921383023,-0.050006791949272,-0.179056882858276,-0.020487096160650,-0.045359637588263,0.104341804981232,-0.240658789873123));
res += mul(Get(s1,dx,dy), float4x4(-0.234548375010490,-0.057100243866444,-0.117077417671680,-0.041700154542923,-0.052883446216583,0.026504961773753,-0.129095211625099,-0.043505072593689,0.241224870085716,0.127046361565590,-0.002783324103802,-0.336886376142502,-0.206526830792427,-0.277007073163986,-0.113219432532787,-0.022251423448324));
res += mul(Get(s2,-dx,-dy), float4x4(0.094720944762230,-0.023045629262924,-0.047004438936710,0.080139055848122,-0.134223788976669,-0.225908696651459,-0.065301209688187,0.079765602946281,-0.261762708425522,-0.136671483516693,0.412436366081238,0.080938659608364,-0.208945527672768,0.246121764183044,0.055386871099472,-0.064877375960350));
res += mul(Get(s2,-dx,0), float4x4(0.073504857718945,0.125202715396881,0.034499280154705,0.067581534385681,0.458998769521713,-0.120088629424572,-0.328627258539200,-0.105007499456406,-0.212430134415627,0.105965577065945,-0.035514965653419,0.025923766195774,0.124501883983612,-0.027584278956056,-0.300174862146378,-0.034825697541237));
res += mul(Get(s2,-dx,dy), float4x4(-0.006268764846027,0.036748729646206,0.018587497994304,0.060867074877024,0.246946945786476,-0.263720124959946,-0.210488945245743,-0.139569044113159,-0.058283921331167,0.110338486731052,-0.105293959379196,0.123438648879528,0.009623775258660,-0.045390862971544,-0.060408852994442,0.084380939602852));
res += mul(Get(s2,0,-dy), float4x4(-0.119133807718754,0.045953180640936,-0.083588711917400,-0.078548185527325,-0.163881301879883,0.142050027847290,0.382856428623199,-0.113138794898987,-0.204492375254631,-0.161710470914841,0.179321348667145,0.075400561094284,-0.171819835901260,0.275583177804947,-0.005081828217953,-0.100576899945736));
res += mul(Get(s2,0,0), float4x4(0.005278057418764,0.124928288161755,-0.056496385484934,0.083176918327808,-0.074383854866028,0.251586169004440,0.194117844104767,-0.203179270029068,-0.224825084209442,-0.044643029570580,-0.146355614066124,-0.070296928286552,-0.016060855239630,-0.058184131979942,-0.274451464414597,-0.048707444220781));
res += mul(Get(s2,0,dy), float4x4(0.031101100146770,0.071983836591244,-0.119322299957275,0.165299162268639,0.055652040988207,-0.119103968143463,0.215259492397308,0.086671456694603,0.245234131813049,0.127364307641983,-0.235420972108841,-0.084923967719078,0.047771301120520,-0.047310270369053,-0.028356213122606,0.195104047656059));
res += mul(Get(s2,dx,-dy), float4x4(-0.079095415771008,-0.039263397455215,-0.087001800537109,-0.124985598027706,-0.015768792480230,0.009609392844141,-0.013437322340906,0.043822709470987,-0.252635419368744,-0.008687229827046,0.340639293193817,0.101365163922310,-0.065591402351856,0.018671104684472,0.363935232162476,-0.075398020446301));
res += mul(Get(s2,dx,0), float4x4(0.108753114938736,0.118249632418156,0.004475242923945,0.082785420119762,-0.279718965291977,0.034756947308779,-0.094573833048344,0.098404906690121,-0.302014172077179,0.028839940205216,0.041444107890129,-0.084502354264259,-0.051640402525663,-0.076767586171627,0.052058394998312,-0.061352826654911));
res += mul(Get(s2,dx,dy), float4x4(0.066301107406616,-0.034511718899012,-0.024015478789806,0.088676340878010,-0.173072770237923,-0.167856559157372,0.039473786950111,0.246920287609100,0.260775059461594,0.035427231341600,-0.106040485203266,-0.112863570451736,0.176087006926537,0.027819903567433,0.347464025020599,0.077165961265564));
res += mul(Get(s3,-dx,-dy), float4x4(-0.006093404255807,-0.140531226992607,-0.057244639843702,0.008612492121756,0.050516463816166,-0.074410192668438,-0.051252406090498,0.032636489719152,-0.126460582017899,-0.030905673280358,0.071961157023907,-0.156082764267921,0.031799275428057,0.090442620217800,0.100417435169220,0.175617814064026));
res += mul(Get(s3,-dx,0), float4x4(-0.112599059939384,-0.075201220810413,0.049393553286791,0.125785484910011,0.049920078366995,-0.190225139260292,0.011278267949820,-0.071424774825573,-0.038172435015440,0.047275573015213,-0.025683863088489,-0.056055191904306,-0.088512830436230,0.044670738279819,-0.040980841964483,0.121702171862125));
res += mul(Get(s3,-dx,dy), float4x4(-0.066520981490612,-0.066355489194393,0.034222159534693,0.065497428178787,-0.013470968231559,-0.102935835719109,0.007638438139111,-0.005479894112796,0.092443764209747,-0.142814040184021,-0.309158712625504,-0.068811468780041,-0.059064101427794,-0.032938208431005,0.010739939287305,0.059085268527269));
res += mul(Get(s3,0,-dy), float4x4(-0.010946325026453,-0.049698837101460,-0.048206947743893,-0.020570799708366,0.199643686413765,0.006011542864144,-0.105845175683498,0.011254539713264,-0.047747965902090,0.062491323798895,0.047151606529951,0.141585990786552,0.060718413442373,-0.004383125808090,0.107312150299549,0.008011354133487));
res += mul(Get(s3,0,0), float4x4(-0.075397707521915,-0.059862390160561,0.082539573311806,0.048010081052780,0.050015963613987,-0.084853738546371,-0.067535832524300,-0.057458262890577,0.015289768576622,-0.381507754325867,0.102540172636509,-0.061380323022604,-0.088798530399799,0.047976218163967,-0.034889008849859,-0.003049849998206));
res += mul(Get(s3,0,dy), float4x4(-0.059636339545250,-0.041590534150600,0.070037752389908,0.012629266828299,-0.141998037695885,-0.011670871637762,-0.047029048204422,-0.109264552593231,0.010170973837376,-0.048618778586388,0.160270050168037,-0.001862179604359,-0.061639811843634,0.034802798181772,-0.027206683531404,-0.042511150240898));
res += mul(Get(s3,dx,-dy), float4x4(-0.038233526051044,0.030154628679156,-0.017526052892208,0.017401417717338,0.037404373288155,0.043531429022551,-0.047219187021255,-0.024343267083168,0.031601976603270,0.301315724849701,0.100550793111324,-0.313525527715683,0.023157486692071,0.000222188216867,0.051350735127926,-0.151989564299583));
res += mul(Get(s3,dx,0), float4x4(-0.073207363486290,-0.044340439140797,0.066373497247696,0.048972621560097,-0.109245218336582,0.073277369141579,-0.063786752521992,-0.031663749366999,-0.170978158712387,-0.131184801459312,-0.022596625611186,0.218644753098488,-0.115876242518425,0.025955969467759,-0.046228632330894,-0.119870409369469));
res += mul(Get(s3,dx,dy), float4x4(-0.059346318244934,-0.005824535153806,0.071113124489784,0.023613531142473,-0.226463958621025,0.077736869454384,-0.089482210576534,-0.129115983843803,-0.085231065750122,0.064299426972866,-0.138738960027695,0.408356755971909,-0.129721075296402,0.054311044514179,-0.046531602740288,-0.131060719490051));
return max(float4(0,0,0,0), res);
}
