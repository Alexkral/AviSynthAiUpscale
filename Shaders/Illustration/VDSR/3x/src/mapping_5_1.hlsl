sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.125363945960999,-0.009618845768273,-0.185016840696335,-0.008046034723520,0.185309782624245,-0.088498406112194,-0.035680968314409,-0.122078478336334,0.037900712341070,0.042323589324951,0.150243207812309,-0.134961351752281,0.121096007525921,-0.111756682395935,0.060490991920233,-0.113321140408516));
res += mul(Get(s0,-dx,0), float4x4(-0.124704197049141,-0.227918222546577,-0.133815512061119,-0.040209610015154,0.178675517439842,-0.169555217027664,0.016150437295437,-0.160190299153328,0.063039377331734,-0.024125151336193,0.097880817949772,-0.120960958302021,0.056721840053797,0.030843785032630,-0.049977168440819,-0.085940212011337));
res += mul(Get(s0,-dx,dy), float4x4(0.246908798813820,-0.058138832449913,-0.207137659192085,-0.208360075950623,0.222409740090370,-0.030273107811809,-0.111685529351234,-0.111797511577606,-0.009417800232768,0.113721460103989,0.277307659387589,-0.233240798115730,-0.126938357949257,-0.066384546458721,-0.042759578675032,-0.086129978299141));
res += mul(Get(s0,0,-dy), float4x4(0.002544780494645,0.057697340846062,-0.009231402538717,-0.051353599876165,0.136694177985191,0.026053408160806,0.062258865684271,-0.096782796084881,0.215659156441689,-0.035271797329187,-0.161308676004410,-0.099574893712997,0.205710262060165,-0.044143091887236,0.136251404881477,-0.093406081199646));
res += mul(Get(s0,0,0), float4x4(-0.087919585406780,-0.052087459713221,-0.151792198419571,-0.068263813853264,0.066813945770264,0.183294519782066,-0.027915630489588,0.166091710329056,-0.041595578193665,-0.044896755367517,-0.045745477080345,-0.021249547600746,0.130592033267021,0.000265679700533,0.185223251581192,-0.013762045651674));
res += mul(Get(s0,0,dy), float4x4(-0.157809734344482,0.076721288263798,-0.082732602953911,-0.079475373029709,0.009710825048387,-0.131642207503319,0.029418697580695,0.285981208086014,-0.106699623167515,-0.120635591447353,-0.137910231947899,-0.341963022947311,-0.151077926158905,-0.000032855143218,0.050501719117165,-0.076235949993134));
res += mul(Get(s0,dx,-dy), float4x4(0.089230313897133,-0.148566067218781,-0.005567618645728,0.135930985212326,-0.076915048062801,0.029263656586409,-0.034345660358667,-0.155550569295883,0.076072894036770,0.179625466465950,-0.242307931184769,-0.076114669442177,-0.055361174046993,-0.171874150633812,-0.009273934178054,0.025461314246058));
res += mul(Get(s0,dx,0), float4x4(-0.125530868768692,0.180039137601852,-0.196032941341400,0.067329011857510,-0.088373504579067,0.089974023401737,-0.091454923152924,0.143772602081299,0.315513074398041,0.003007774008438,0.092775642871857,0.215509250760078,0.308880388736725,0.055220875889063,-0.052399918437004,0.110930547118187));
res += mul(Get(s0,dx,dy), float4x4(-0.309425354003906,-0.063687436282635,-0.259254723787308,-0.080718524754047,-0.102642856538296,-0.299051940441132,-0.066178478300571,0.076379880309105,-0.136894047260284,-0.044708512723446,0.251775473356247,-0.165237635374069,-0.066795378923416,0.018521668389440,0.019738558679819,-0.057447202503681));
res += mul(Get(s1,-dx,-dy), float4x4(0.035056710243225,0.006682664155960,-0.259513169527054,0.130359306931496,0.117592863738537,0.154443234205246,0.049124043434858,-0.102004632353783,-0.136057004332542,-0.098709493875504,0.007444866932929,0.007343553472310,-0.030689256265759,0.090275384485722,0.118876263499260,-0.065929085016251));
res += mul(Get(s1,-dx,0), float4x4(-0.061268568038940,0.096318751573563,-0.209859922528267,-0.107009813189507,0.130003273487091,-0.013473987579346,0.111003980040550,-0.124047249555588,-0.122973956167698,-0.219126388430595,-0.256148457527161,-0.057598475366831,-0.129753366112709,0.461478084325790,0.092509552836418,-0.010035452432930));
res += mul(Get(s1,-dx,dy), float4x4(-0.174129322171211,-0.037983145564795,-0.047189228236675,-0.052439548075199,-0.046894412487745,-0.033670060336590,0.132657170295715,-0.150750592350960,-0.149660885334015,0.100568443536758,-0.043931502848864,-0.146282762289047,-0.188754066824913,-0.227239102125168,0.187290817499161,0.057726901024580));
res += mul(Get(s1,0,-dy), float4x4(0.027085175737739,0.023485081270337,0.118430003523827,-0.033107105642557,0.047092612832785,-0.104168727993965,0.140336915850639,-0.090437524020672,-0.093440540134907,-0.022580770775676,-0.003329596249387,-0.010100003331900,0.172577008605003,0.137259870767593,-0.013556027784944,0.141335695981979));
res += mul(Get(s1,0,0), float4x4(-0.089699640870094,0.138604328036308,-0.073866792023182,0.033137436956167,0.108251623809338,-0.194949030876160,-0.063724458217621,-0.076004162430763,0.201870694756508,-0.175765067338943,-0.143746629357338,-0.015183630399406,0.124693877995014,0.154877141118050,0.137256562709808,0.195691898465157));
res += mul(Get(s1,0,dy), float4x4(-0.074771672487259,0.023251840844750,0.057576142251492,-0.128123506903648,-0.078389585018158,-0.014187978580594,0.000930699694436,-0.258691370487213,0.023752450942993,0.254448205232620,-0.240140914916992,-0.109356902539730,0.030651580542326,-0.105048693716526,0.110080182552338,0.022296139970422));
res += mul(Get(s1,dx,-dy), float4x4(-0.057638119906187,-0.014275214634836,0.146507620811462,0.213844135403633,-0.103160455822945,0.026906264945865,0.079947538673878,-0.212825849652290,0.216827288269997,-0.019013637676835,0.079184442758560,-0.034134801477194,0.041083760559559,0.153962954878807,0.030925517901778,0.177128717303276));
res += mul(Get(s1,dx,0), float4x4(0.137256994843483,-0.022224094718695,0.057511493563652,0.327601075172424,-0.074055418372154,-0.023733824491501,0.140534549951553,-0.132062450051308,0.115093223750591,-0.052517563104630,-0.077837780117989,0.163984760642052,-0.050589248538017,-0.143797755241394,-0.139853447675705,0.035830244421959));
res += mul(Get(s1,dx,dy), float4x4(0.012672690674663,-0.123373419046402,-0.101920224726200,0.087405875325203,-0.095452070236206,0.111770085990429,-0.133424758911133,-0.357318311929703,0.017139948904514,0.164604008197784,-0.027242666110396,0.101536884903908,-0.012387554161251,0.001164341694675,0.084590598940849,-0.178756356239319));
res += mul(Get(s2,-dx,-dy), float4x4(0.223490178585052,-0.130407512187958,-0.160900071263313,-0.230737358331680,0.141639426350594,0.037185993045568,0.252262711524963,-0.144230246543884,-0.023254649713635,0.208208426833153,0.013027290813625,0.171124696731567,-0.040887635201216,-0.028340071439743,0.113928109407425,-0.184463784098625));
res += mul(Get(s2,-dx,0), float4x4(0.081411935389042,-0.089506208896637,-0.095375277101994,-0.281218171119690,-0.163934230804443,0.172041207551956,-0.089746475219727,-0.018757626414299,-0.113677307963371,0.067703574895859,-0.092416889965534,0.263631135225296,0.215581282973289,-0.070261873304844,0.009806385263801,-0.033711891621351));
res += mul(Get(s2,-dx,dy), float4x4(0.164321482181549,-0.268376857042313,0.012904881499708,-0.295856148004532,0.041265930980444,0.369636118412018,-0.105359978973866,0.006925090681762,-0.216704159975052,-0.121139362454414,-0.056315738707781,0.116290174424648,-0.036648724228144,0.062047470360994,0.090031839907169,-0.260706752538681));
res += mul(Get(s2,0,-dy), float4x4(-0.043451026082039,-0.019759105518460,-0.117425918579102,-0.065017253160477,0.092909008264542,-0.087294556200504,0.123443596065044,-0.034732859581709,0.017712248489261,-0.030708709731698,0.148570030927658,0.038188885897398,0.016296487301588,0.205389499664307,-0.049988739192486,-0.164253339171410));
res += mul(Get(s2,0,0), float4x4(-0.010489528998733,0.030042653903365,-0.024002887308598,-0.145989611744881,-0.096852213144302,-0.000606045708992,-0.013956127688289,0.025115987285972,-0.102414764463902,-0.111655145883560,0.018463671207428,0.127216011285782,0.030785080045462,-0.099450998008251,-0.025610916316509,-0.115593515336514));
res += mul(Get(s2,0,dy), float4x4(-0.113433860242367,-0.102379359304905,0.119728088378906,-0.186385124921799,-0.049666654318571,-0.038413532078266,-0.016160190105438,-0.210620358586311,-0.028393745422363,-0.112956739962101,0.058157753199339,0.071810126304626,0.160792887210846,-0.040580075234175,0.085393041372299,-0.051617894321680));
res += mul(Get(s2,dx,-dy), float4x4(-0.002075146650895,0.155975759029388,-0.158433556556702,-0.136082559823990,-0.058906417340040,-0.075586065649986,0.298348098993301,-0.135797530412674,-0.100450918078423,-0.053132858127356,-0.113895371556282,0.062566235661507,-0.078665748238564,-0.234651982784271,-0.082502670586109,-0.121984414756298));
res += mul(Get(s2,dx,0), float4x4(0.010550562292337,-0.017680685967207,-0.015900930389762,-0.226534247398376,-0.069580756127834,-0.064325690269470,-0.059686969965696,0.207249239087105,-0.086143925786018,-0.060641117393970,-0.043806809931993,0.072289273142815,-0.069346927106380,-0.172912165522575,-0.036563836038113,-0.172361239790916));
res += mul(Get(s2,dx,dy), float4x4(-0.148704379796982,-0.211630731821060,-0.030552472919226,-0.258848726749420,-0.058333184570074,-0.159623548388481,0.077108636498451,0.208796828985214,-0.156048312783241,-0.002536531537771,0.034532099962234,-0.011841248720884,-0.009432313963771,0.007270870264620,0.092535331845284,-0.104728594422340));
res += mul(Get(s3,-dx,-dy), float4x4(-0.097130328416824,0.107080273330212,0.028286946937442,-0.068420715630054,0.062623463571072,0.288636744022369,-0.007886869832873,0.051879923790693,-0.087086267769337,0.011474820785224,0.133049383759499,-0.019209265708923,-0.066306695342064,-0.050243560224771,0.204879477620125,-0.080621875822544));
res += mul(Get(s3,-dx,0), float4x4(-0.092991806566715,-0.191431790590286,0.002207366516814,0.010096271522343,-0.068229757249355,0.306916207075119,-0.061334963887930,0.062303628772497,0.118595890700817,-0.147190645337105,-0.142299249768257,-0.025785144418478,0.054461743682623,0.225555285811424,-0.137919276952744,-0.149168193340302));
res += mul(Get(s3,-dx,dy), float4x4(-0.067569412291050,0.127582907676697,-0.197770595550537,0.117973983287811,-0.142795503139496,0.090931236743927,-0.008843273855746,-0.188484385609627,-0.088975526392460,-0.057813312858343,-0.186276137828827,-0.217346012592316,0.053955424576998,0.051578678190708,-0.114771582186222,0.139199525117874));
res += mul(Get(s3,0,-dy), float4x4(-0.137102469801903,-0.157634109258652,-0.155972361564636,-0.041373796761036,0.059132128953934,-0.123067565262318,0.282942056655884,0.194218903779984,-0.082060292363167,0.057414665818214,0.072108633816242,0.094775378704071,-0.170064568519592,0.180722936987877,-0.052733432501554,-0.030413672327995));
res += mul(Get(s3,0,0), float4x4(-0.114767357707024,-0.136294171214104,-0.017447251826525,0.081344716250896,-0.070959612727165,-0.137677460908890,0.189174190163612,-0.031637143343687,0.020618472248316,-0.150237470865250,0.172255098819733,0.109737530350685,0.005834009498358,0.165055319666862,-0.069349609315395,-0.190682560205460));
res += mul(Get(s3,0,dy), float4x4(-0.081187769770622,0.028752543032169,-0.132523879408836,-0.040221154689789,-0.091873608529568,-0.243095368146896,0.280838698148727,-0.175441384315491,-0.056613545864820,-0.102976322174072,0.143907934427261,0.226300403475761,-0.091349832713604,-0.055683568120003,0.146424338221550,0.026329565793276));
res += mul(Get(s3,dx,-dy), float4x4(-0.034206155687571,-0.211417958140373,-0.345777660608292,0.146057754755020,0.055384404957294,-0.093156054615974,-0.028286589309573,0.334730833768845,-0.206402733922005,-0.008495749905705,0.000001786771008,0.105293415486813,-0.167354956269264,0.260498046875000,-0.123797371983528,0.034308847039938));
res += mul(Get(s3,dx,0), float4x4(-0.063552714884281,-0.171068370342255,-0.249053388834000,-0.147524967789650,-0.014135067351162,-0.206132650375366,-0.094325512647629,-0.072750449180603,-0.136862605810165,-0.109313994646072,-0.033269498497248,0.057776335626841,-0.082888193428516,-0.122645482420921,-0.144930645823479,-0.164501175284386));
res += mul(Get(s3,dx,dy), float4x4(-0.018236640840769,-0.145446673035622,-0.065647207200527,-0.084605693817139,-0.050409678369761,-0.105682201683521,-0.067686066031456,-0.160349979996681,-0.110489487648010,0.007875384762883,-0.267562299966812,0.204196020960808,-0.019122270867229,-0.095739185810089,-0.012322984635830,0.146240085363388));
return max(float4(0,0,0,0), res);
}
