sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.212949633598328,0.050603467971087,0.131238654255867,-0.058029152452946,0.001940371119417,0.122335419058800,-0.104260630905628,0.005007718224078,-0.054278165102005,0.180089443922043,0.012332028709352,0.329944133758545,0.065606571733952,-0.060848534107208,0.093092143535614,-0.088569670915604));
res += mul(Get(s0,-dx,0), float4x4(0.318624347448349,-0.024468271061778,0.138539880514145,-0.038027416914701,-0.032095249742270,0.014675403013825,0.101689621806145,0.103816367685795,-0.021065697073936,-0.109319366514683,0.083106324076653,0.195230633020401,0.214062303304672,-0.061373230069876,0.046846114099026,-0.066937401890755));
res += mul(Get(s0,-dx,dy), float4x4(0.062514774501324,-0.092212334275246,0.101264491677284,0.304209232330322,-0.031199334189296,0.121970623731613,-0.059303868561983,0.081870593130589,-0.176153495907784,0.109011322259903,-0.014196462929249,0.021083256229758,-0.205612257122993,-0.182432249188423,0.016011746600270,-0.050572581589222));
res += mul(Get(s0,0,-dy), float4x4(0.010926259681582,0.052199024707079,0.082676559686661,0.149840965867043,-0.094777427613735,-0.032027550041676,0.002260836306959,0.041356630623341,-0.072045095264912,0.026491727679968,-0.066612236201763,0.020353021100163,0.325738519430161,-0.045148268342018,-0.016999462619424,-0.054946508258581));
res += mul(Get(s0,0,0), float4x4(-0.127538472414017,0.035918511450291,0.107154697179794,0.054932530969381,0.062585808336735,0.111326001584530,0.032886460423470,-0.054223515093327,-0.085894949734211,-0.032521549612284,0.014188498258591,-0.106648832559586,-0.020547850057483,-0.124860666692257,-0.029267197474837,-0.131069824099541));
res += mul(Get(s0,0,dy), float4x4(-0.095265507698059,-0.023778731003404,0.121005505323410,0.062251906841993,-0.026089444756508,0.052097473293543,0.064212404191494,0.084147527813911,-0.185960546135902,0.131384178996086,0.009187249466777,0.028883378952742,-0.022327892482281,-0.167754039168358,-0.116845466196537,0.001640938688070));
res += mul(Get(s0,dx,-dy), float4x4(0.189666107296944,-0.006034190300852,-0.017353810369968,0.124665200710297,0.027776427567005,0.135857462882996,0.130836635828018,-0.008168120868504,0.047093022614717,0.060305815190077,-0.267637789249420,-0.013323903083801,0.129904910922050,-0.013156811706722,-0.181645452976227,-0.164137408137321));
res += mul(Get(s0,dx,0), float4x4(0.152558878064156,0.031814366579056,0.046300251036882,-0.039416320621967,0.053492788225412,0.033240005373955,0.217912197113037,-0.046923611313105,-0.010790204629302,0.035575166344643,-0.230749875307083,-0.069066643714905,-0.031396906822920,-0.092389464378357,0.025140123441815,-0.007764876820147));
res += mul(Get(s0,dx,dy), float4x4(-0.028734019026160,-0.009887463413179,-0.011574667878449,-0.015971826389432,0.038372121751308,0.284617274999619,0.173173189163208,0.051547840237617,0.170399844646454,0.037781048566103,-0.075199291110039,0.193864092230797,0.017442090436816,-0.211921140551567,0.061512932181358,-0.172435224056244));
res += mul(Get(s1,-dx,-dy), float4x4(0.072137758135796,0.117551267147064,-0.135662794113159,0.162813439965248,-0.022398425266147,0.297519087791443,0.066214449703693,-0.037344548851252,-0.032481733709574,0.065474219620228,0.197013676166534,-0.080713994801044,0.097544819116592,0.010692754760385,-0.236092239618301,0.179502189159393));
res += mul(Get(s1,-dx,0), float4x4(-0.009948383085430,0.157696485519409,-0.135572418570518,-0.003978666383773,0.169575631618500,-0.029397614300251,-0.005245977547020,-0.101111911237240,0.131361380219460,-0.201828971505165,0.061030622571707,-0.131933227181435,-0.059489160776138,-0.105146311223507,0.076678514480591,-0.021511677652597));
res += mul(Get(s1,-dx,dy), float4x4(-0.083981260657310,-0.007652299478650,-0.156222283840179,-0.088962793350220,-0.024186316877604,-0.098745569586754,-0.056276887655258,-0.208494380116463,-0.061438150703907,-0.143385022878647,-0.022661754861474,-0.033637769520283,-0.207906112074852,-0.101819187402725,0.128410547971725,-0.021440556272864));
res += mul(Get(s1,0,-dy), float4x4(-0.070883587002754,0.123364061117172,-0.066486947238445,0.037261161953211,0.223406001925468,0.289400935173035,-0.061890468001366,-0.142028987407684,-0.039338491857052,-0.040725398808718,-0.057170599699020,0.059343855828047,0.068592399358749,0.076708771288395,-0.038662057369947,0.145289957523346));
res += mul(Get(s1,0,0), float4x4(-0.002618581056595,0.144641071557999,0.031146261841059,0.099959403276443,-0.033007089048624,0.105200618505478,0.040713820606470,0.029215447604656,0.072202771902084,-0.158482268452644,-0.230490967631340,-0.033249568194151,0.086284004151821,0.015507342293859,-0.013805489055812,-0.079193323850632));
res += mul(Get(s1,0,dy), float4x4(0.012309371493757,-0.095731697976589,-0.057662464678288,0.159010112285614,-0.171431094408035,-0.267536431550980,-0.122987948358059,-0.013544581830502,0.038515452295542,-0.157669246196747,-0.120668612420559,0.051381606608629,-0.052408859133720,-0.031374655663967,0.000822421279736,-0.195862323045731));
res += mul(Get(s1,dx,-dy), float4x4(0.120203241705894,0.077863425016403,0.029681753367186,0.020669009536505,-0.012455118820071,-0.316675692796707,-0.137660697102547,-0.228858381509781,0.212953373789787,0.331140071153641,0.192181766033173,-0.053243461996317,0.033040538430214,0.099663667380810,0.023121554404497,0.094298332929611));
res += mul(Get(s1,dx,0), float4x4(0.011843683198094,-0.052705731242895,-0.009078006260097,-0.058399189263582,-0.175771981477737,0.148547083139420,-0.146122410893440,-0.073189355432987,-0.037787273526192,0.044436842203140,-0.019385771825910,0.001439337269403,-0.109775081276894,-0.057733915746212,-0.026258170604706,0.156220525503159));
res += mul(Get(s1,dx,dy), float4x4(0.091897755861282,-0.059364724904299,0.005702427122742,-0.087745636701584,-0.173575356602669,-0.058197107166052,-0.138808920979500,-0.099378086626530,0.058731414377689,-0.109243728220463,-0.193259119987488,0.076454013586044,-0.125800237059593,-0.119273707270622,0.018711166456342,-0.018748475238681));
res += mul(Get(s2,-dx,-dy), float4x4(0.140965521335602,0.159828767180443,0.011079160496593,-0.050732892006636,0.349985539913177,-0.052366696298122,0.074868083000183,0.036961901932955,0.231961473822594,0.096800297498703,0.030932534486055,0.209155380725861,-0.086985222995281,-0.018139436841011,0.256310731172562,0.079645365476608));
res += mul(Get(s2,-dx,0), float4x4(0.224842011928558,0.022039845585823,0.302058428525925,0.049962840974331,-0.021016210317612,-0.105242408812046,0.097701400518417,0.081073433160782,0.070268049836159,-0.099561862647533,0.122458323836327,-0.037179823964834,-0.034237857908010,-0.057445302605629,-0.079259775578976,0.003652318147942));
res += mul(Get(s2,-dx,dy), float4x4(-0.063104152679443,-0.038660213351250,0.126879304647446,-0.079464994370937,0.134133666753769,-0.136534512042999,0.056536007672548,0.107485525310040,-0.233505010604858,-0.133987903594971,0.112316749989986,-0.110550060868263,0.117452234029770,-0.089987643063068,0.070472896099091,0.021400919184089));
res += mul(Get(s2,0,-dy), float4x4(-0.018853122368455,-0.097966171801090,-0.103288799524307,0.188299193978310,-0.093177132308483,-0.080686934292316,-0.096447899937630,-0.049580249935389,-0.026311274617910,0.109658099710941,-0.115707181394100,-0.056423649191856,-0.037773348391056,0.017437187954783,0.254339963197708,0.220595881342888));
res += mul(Get(s2,0,0), float4x4(0.013385518454015,-0.001835900824517,0.087551645934582,0.101004786789417,-0.113930948078632,-0.136244937777519,-0.050630558282137,-0.091143310070038,-0.086119957268238,-0.217688336968422,-0.089467786252499,0.157069161534309,-0.130406334996223,-0.046840000897646,0.088069640100002,0.144958600401878));
res += mul(Get(s2,0,dy), float4x4(0.123723529279232,-0.094917505979538,0.190619096159935,-0.051422182470560,-0.124491691589355,-0.168954998254776,-0.007101036142558,-0.035704683512449,-0.202989175915718,-0.256744831800461,-0.068062297999859,-0.088168255984783,-0.005159271880984,-0.060565553605556,0.011948121711612,0.007020398974419));
res += mul(Get(s2,dx,-dy), float4x4(0.288551479578018,0.014364171773195,0.072787784039974,-0.001747343805619,-0.193043887615204,-0.124285757541656,-0.279320478439331,-0.095208123326302,-0.037018120288849,-0.013140612281859,-0.033723276108503,-0.170021131634712,0.033327274024487,-0.057037170976400,-0.088961951434612,0.116207130253315));
res += mul(Get(s2,dx,0), float4x4(0.109919615089893,0.086761891841888,0.084070764482021,0.093139037489891,-0.073377989232540,-0.129984349012375,-0.256035864353180,-0.056679345667362,-0.222931623458862,-0.111551411449909,-0.085183009505272,-0.030276032164693,-0.170770630240440,-0.106847323477268,0.065464965999126,0.151158303022385));
res += mul(Get(s2,dx,dy), float4x4(-0.141375467181206,-0.074023313820362,-0.006562181282789,0.189060509204865,-0.016508068889380,-0.178100734949112,-0.203270748257637,0.354160159826279,-0.133234515786171,-0.314754098653793,-0.200769171118736,-0.041191749274731,-0.097816146910191,-0.090880155563354,0.102713160216808,-0.132216230034828));
res += mul(Get(s3,-dx,-dy), float4x4(-0.225988179445267,0.288476526737213,-0.112962171435356,-0.017225621268153,-0.226622760295868,-0.059025920927525,0.000475104548968,0.063208214938641,-0.130850180983543,0.164428338408470,0.042887702584267,-0.095264233648777,0.299500405788422,-0.160194188356400,0.054393779486418,-0.056947503238916));
res += mul(Get(s3,-dx,0), float4x4(-0.181485071778297,0.066240005195141,0.089208163321018,-0.080379217863083,-0.130972206592560,-0.070869296789169,-0.046028282493353,0.222741290926933,-0.077264174818993,0.028189554810524,0.072328075766563,-0.051870357245207,0.205247327685356,-0.207865551114082,-0.136613190174103,0.082513742148876));
res += mul(Get(s3,-dx,dy), float4x4(-0.126247331500053,0.124783076345921,0.042419049888849,-0.109940432012081,-0.080792933702469,-0.138786822557449,0.047274049371481,0.373029261827469,-0.029250431805849,0.237651124596596,-0.032991431653500,-0.002676001982763,0.129029601812363,-0.095224104821682,-0.138705462217331,0.168777823448181));
res += mul(Get(s3,0,-dy), float4x4(0.025336228311062,0.147224321961403,-0.100443623960018,0.049229767173529,-0.027811346575618,-0.001969645032659,0.005040389485657,0.131162881851196,-0.093176126480103,0.120152086019516,-0.016417298465967,-0.104459673166275,0.172538638114929,0.011282187886536,-0.044963207095861,-0.266234606504440));
res += mul(Get(s3,0,0), float4x4(0.035007540136576,0.039025638252497,-0.052578974515200,0.011830887757242,-0.166481658816338,0.027782766148448,-0.076391801238060,-0.054832085967064,0.075639665126801,-0.111794024705887,-0.019488828256726,-0.023865647614002,0.101683981716633,0.025505609810352,0.142377674579620,-0.024831829592586));
res += mul(Get(s3,0,dy), float4x4(0.001437275554053,0.086594082415104,-0.049402028322220,-0.036105997860432,-0.156876742839813,-0.050913151353598,-0.107543200254440,-0.250558406114578,0.094150371849537,-0.006664049346000,0.099104993045330,0.127106621861458,0.054199371486902,-0.014566218480468,0.055733691900969,0.005830244626850));
res += mul(Get(s3,dx,-dy), float4x4(-0.207275673747063,-0.202062532305717,-0.203643217682838,0.047994811087847,-0.029330257326365,-0.104979082942009,0.271194964647293,0.119243390858173,0.025350157171488,-0.068594112992287,-0.063173070549965,0.033825531601906,-0.130254015326500,0.028641851618886,-0.170531168580055,-0.158810660243034));
res += mul(Get(s3,dx,0), float4x4(-0.256717056035995,0.018461681902409,-0.207164362072945,0.043708629906178,-0.005442330613732,0.000284498848487,0.252859205007553,-0.046265717595816,0.015619311481714,0.073642797768116,-0.078779384493828,-0.151541635394096,-0.105253100395203,0.031528916209936,0.203916057944298,-0.048122391104698));
res += mul(Get(s3,dx,dy), float4x4(0.008533761836588,0.032954651862383,-0.145719364285469,-0.004328305367380,0.074910961091518,0.031317748129368,0.064968623220921,-0.222320124506950,0.112506926059723,0.102784886956215,-0.071619451045990,0.002015572739765,-0.059284325689077,-0.162985935807228,0.042833279818296,-0.061770472675562));
return max(float4(0,0,0,0), res);
}
