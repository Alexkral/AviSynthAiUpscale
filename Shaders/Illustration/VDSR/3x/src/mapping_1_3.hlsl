sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.000558726838790,0.000937564298511,0.003804358188063,0.000925116997678,0.078994229435921,0.112067215144634,-0.244115084409714,0.245596379041672,-0.060229942202568,0.093872226774693,-0.376309365034103,-0.084846623241901,-0.011727705597878,-0.118360072374344,0.071686327457428,0.015868760645390));
res += mul(Get(s0,-dx,0), float4x4(-0.010188241489232,0.007498947437853,0.001162311993539,-0.002508565550670,0.299805223941803,0.291502237319946,-0.151526793837547,0.319143474102020,-0.040383208543062,0.109310865402222,-0.013998338952661,-0.034529749304056,0.008201782591641,-0.088735952973366,0.033277016133070,0.020836461335421));
res += mul(Get(s0,-dx,dy), float4x4(0.006293801590800,0.001510960049927,-0.001017123227939,-0.000660331570543,0.253095746040344,0.117764838039875,-0.659564435482025,-0.073852784931660,-0.154044896364212,-0.059441585093737,-0.058711156249046,-0.204261854290962,0.039014387875795,-0.082592383027077,0.063854016363621,0.090263895690441));
res += mul(Get(s0,0,-dy), float4x4(-0.007609794847667,0.002815363230184,0.004848822019994,-0.009887048974633,0.145684942603111,0.311675339937210,-0.118947863578796,0.039575833827257,-0.011248523369431,-0.064162872731686,-0.201116159558296,-0.128877282142639,-0.065700441598892,-0.015160671435297,-0.026010280475020,-0.015783866867423));
res += mul(Get(s0,0,0), float4x4(0.007255457341671,-0.004033673088998,0.000143685945659,0.003878446528688,0.142671272158623,0.057861208915710,0.022285470739007,-0.069876171648502,-0.105145111680031,-0.024257283657789,0.219647035002708,-0.053235501050949,-0.035782389342785,-0.021341552957892,-0.073519140481949,0.000918865320273));
res += mul(Get(s0,0,dy), float4x4(-0.000936258467846,-0.001440451480448,0.008549884893000,-0.001117795356549,-0.038536280393600,-0.193315029144287,-0.409946411848068,-0.233560875058174,-0.270646512508392,0.033581536263227,0.130944862961769,-0.197267696261406,-0.012140076607466,-0.042122267186642,-0.081299148499966,0.099288135766983));
res += mul(Get(s0,dx,-dy), float4x4(-0.001996554667130,0.000848372990731,-0.006325214169919,0.003851785557345,-0.005502379965037,-0.032957587391138,-0.414702922105789,0.230069503188133,-0.025588275864720,0.049845896661282,-0.152653485536575,-0.090564943850040,-0.048729557543993,0.017061967402697,-0.062630824744701,0.020400866866112));
res += mul(Get(s0,dx,0), float4x4(0.000699720403645,-0.003720354055986,0.003812655108050,0.009286272339523,-0.148936375975609,-0.167066425085068,-0.151869431138039,-0.051664009690285,-0.040506362915039,-0.005887744948268,-0.209066092967987,-0.003599568968639,-0.037893373519182,-0.015753479674459,-0.058153841644526,-0.025869976729155));
res += mul(Get(s0,dx,dy), float4x4(-0.005176782142371,-0.012435718439519,-0.004065640736371,0.013022624887526,-0.174293294548988,-0.310430496931076,-0.334408313035965,0.290173113346100,-0.168798804283142,-0.011951013468206,-0.060014151036739,-0.214586615562439,-0.057440683245659,-0.066974900662899,-0.019854608923197,0.017933079972863));
res += mul(Get(s1,-dx,-dy), float4x4(-0.000679132179357,-0.005080525763333,-0.001473695621826,-0.003229002933949,-0.045653976500034,0.091003827750683,0.075797408819199,-0.060098771005869,0.003310107626021,-0.046544805169106,0.015322831459343,-0.002339767524973,0.004640209022909,-0.002922993386164,0.006159029901028,0.007311679888517));
res += mul(Get(s1,-dx,0), float4x4(0.000057571643993,-0.009296299889684,-0.007924038916826,0.000392288347939,0.008820760063827,-0.043942801654339,0.104762807488441,0.064158692955971,0.007145533803850,-0.048852354288101,0.024256236851215,0.010676657781005,-0.004897140897810,0.014760064892471,-0.009382036514580,-0.008318970911205));
res += mul(Get(s1,-dx,dy), float4x4(-0.001547793624923,-0.010817742906511,-0.006004319526255,0.003223873907700,-0.016685139387846,-0.075017042458057,0.200004443526268,-0.012731175869703,0.009557565674186,-0.026854196563363,0.013929262757301,0.004643390420824,0.008920908905566,-0.005204081069678,-0.005989757832140,-0.001597602153197));
res += mul(Get(s1,0,-dy), float4x4(-0.002859620144591,-0.005668807774782,0.005718957167119,-0.002701247110963,0.024818131700158,-0.006592183839530,-0.004758793395013,-0.315276920795441,-0.004809634294361,-0.000011855828234,0.012419925071299,0.002124639227986,-0.004485269077122,-0.004417007789016,-0.006885188166052,-0.004313536453992));
res += mul(Get(s1,0,0), float4x4(-0.016080964356661,0.001630822196603,-0.000125307342387,-0.013726266101003,-0.016634780913591,-0.185355991125107,0.163119494915009,-0.044908639043570,0.006110331509262,-0.019558385014534,-0.009531770832837,0.000483501673443,0.000292379583698,0.016857733950019,0.005522850435227,0.000662831822410));
res += mul(Get(s1,0,dy), float4x4(-0.003764349035919,-0.001864094054326,-0.001161920838058,-0.003217990277335,-0.140371337532997,-0.021342692896724,0.005802715662867,-0.166644036769867,0.004845807794482,-0.016892818734050,-0.027213446795940,0.017271675169468,-0.007741309236735,-0.002350026974455,0.009871729649603,-0.003371401922777));
res += mul(Get(s1,dx,-dy), float4x4(0.008209941908717,-0.002619617385790,0.009452324360609,-0.012880672700703,-0.144584432244301,0.097308091819286,-0.013568114489317,-0.233386442065239,-0.010837532579899,-0.003589875763282,-0.036381110548973,0.003115286584944,-0.004122177604586,-0.004222323652357,0.008207152597606,-0.014705817215145));
res += mul(Get(s1,dx,0), float4x4(-0.005855934228748,-0.004643432330340,0.004652879666537,0.004947448614985,-0.151951134204865,-0.079292245209217,-0.089387543499470,0.145544141530991,-0.008177318610251,0.006019715219736,-0.026722386479378,0.007081495132297,0.005876623094082,0.005761041771621,0.006235333625227,0.000238424763666));
res += mul(Get(s1,dx,dy), float4x4(-0.000241784699028,-0.000478711270262,-0.014867574907839,-0.004773941822350,-0.180107995867729,0.025504657998681,-0.015891240909696,-0.062594063580036,-0.018474372103810,-0.023791585117579,-0.025271272286773,-0.008866369724274,-0.007602606434375,-0.005997170694172,0.007762287743390,0.002075565978885));
res += mul(Get(s2,-dx,-dy), float4x4(-0.188711836934090,-0.398782610893250,-0.257490485906601,-0.199581548571587,-0.007446479052305,-0.120023071765900,-0.058670904487371,-0.011109595187008,0.222887009382248,0.009719809517264,0.004662550054491,-0.040849972516298,-0.013239560648799,0.005848187487572,-0.028269583359361,0.019796170294285));
res += mul(Get(s2,-dx,0), float4x4(-0.152999654412270,0.548108339309692,-0.265479981899261,-0.215149164199829,0.051758866757154,-0.018919702619314,0.156111881136894,-0.146556735038757,0.067386969923973,0.147424936294556,-0.000794170890003,-0.004225565586239,-0.005081086419523,0.007977336645126,-0.011585338972509,-0.013883345760405));
res += mul(Get(s2,-dx,dy), float4x4(-0.081852056086063,0.225498035550117,-0.026831977069378,-0.318565279245377,0.014415976591408,-0.040209986269474,-0.074130721390247,0.025291649624705,-0.157189518213272,-0.081254400312901,-0.163220882415771,-0.075102344155312,0.001880927709863,0.000438446149928,-0.015519544482231,-0.031081700697541));
res += mul(Get(s2,0,-dy), float4x4(0.232751369476318,-0.255573183298111,-0.566617786884308,0.534486770629883,0.019422758370638,-0.038889728486538,-0.034555312246084,0.099274910986423,0.069631256163120,-0.183683127164841,-0.202367052435875,0.027597634121776,0.002938089892268,-0.006411034613848,-0.013415034860373,0.009717290289700));
res += mul(Get(s2,0,0), float4x4(0.154048264026642,-0.059055536985397,-0.016988005489111,-0.103023938834667,0.155871570110321,-0.063804738223553,0.075543090701103,0.012567588128150,-0.067308641970158,0.114955969154835,0.024082934483886,-0.093735679984093,0.020916035398841,-0.017535425722599,-0.002574334852397,-0.006582008674741));
res += mul(Get(s2,0,dy), float4x4(-0.110349774360657,-0.048127930611372,0.955248117446899,-0.352763563394547,0.185603082180023,0.009910492226481,-0.251240372657776,0.126069456338882,-0.193811103701591,0.185515016317368,0.131104424595833,-0.074622504413128,0.023880617693067,-0.035265255719423,0.005883807782084,-0.025599850341678));
res += mul(Get(s2,dx,-dy), float4x4(-0.249834015965462,-0.036653347313404,-0.259161651134491,0.385611295700073,-0.251127541065216,-0.012316997162998,0.228411912918091,-0.069126799702644,0.004827582743019,0.189250156283379,0.241878464818001,-0.057851269841194,-0.028118396177888,0.010191066190600,-0.003854917362332,0.045136008411646));
res += mul(Get(s2,dx,0), float4x4(-0.125819429755211,-0.072197906672955,0.041167899966240,0.186803922057152,-0.174396857619286,-0.108650900423527,-0.002169534331188,0.132665842771530,0.006152548827231,-0.082879118621349,-0.212293356657028,-0.114251248538494,-0.013764231465757,-0.012662060558796,-0.019437866285443,0.023858817294240));
res += mul(Get(s2,dx,dy), float4x4(0.012942672707140,0.024986114352942,0.337749987840652,-0.101385258138180,-0.153704538941383,-0.027746934443712,-0.230766698718071,0.267354339361191,-0.003080302150920,0.080175481736660,0.240357726812363,-0.249774798750877,-0.027167687192559,-0.027404142543674,-0.011081743054092,0.010210295207798));
res += mul(Get(s3,-dx,-dy), float4x4(-0.003030079184100,0.006321478169411,-0.001750593306497,0.006370276212692,-0.018607711419463,-0.003492409363389,-0.011925432831049,0.001892030355521,-0.015751600265503,0.001107504125684,-0.007356798741966,-0.001095368759707,-0.040577985346317,0.022727005183697,0.080769307911396,-0.096663691103458));
res += mul(Get(s3,-dx,0), float4x4(-0.008347674272954,0.009072725661099,-0.002118119271472,0.002005322603509,-0.000110984561616,-0.012633402831852,-0.006165466737002,-0.003299597650766,0.003513184841722,-0.008900636807084,-0.004922620486468,-0.008306919597089,-0.012958360835910,-0.016551593318582,0.002300862921402,-0.019021911546588));
res += mul(Get(s3,-dx,dy), float4x4(0.008669938892126,0.009008386172354,0.005937023553997,0.011787005700171,-0.011316590011120,-0.005020521581173,-0.014953521080315,-0.010310953482985,0.000349211273715,0.007847281172872,0.001598115894012,-0.006651458330452,-0.003671606536955,-0.050152163952589,-0.115029126405716,-0.032482791692019));
res += mul(Get(s3,0,-dy), float4x4(0.000627492961939,-0.003137524239719,-0.001428385381587,0.006502078846097,-0.000101255391201,-0.018800437450409,0.001265682163648,0.000718848139513,-0.008638912811875,0.001773626776412,-0.003104052506387,-0.000121032549941,-0.033908035606146,0.033752277493477,0.081368401646614,-0.087573029100895));
res += mul(Get(s3,0,0), float4x4(0.004854849539697,-0.012318046763539,0.007911256514490,0.011391639709473,-0.009788487106562,-0.010070965625346,0.009197210893035,-0.026220580562949,0.010675520636141,0.000550870085135,-0.004319847561419,0.012294976972044,-0.021208534017205,0.002686761319637,0.015407121740282,-0.014162262901664));
res += mul(Get(s3,0,dy), float4x4(-0.000456149689853,0.000233932689298,-0.009345847181976,0.006249121390283,-0.003993972670287,-0.010463121347129,-0.007219193503261,-0.018989659845829,-0.003674164414406,-0.021004848182201,0.002803180133924,0.012869659811258,-0.005505761597306,-0.017321184277534,-0.052889425307512,-0.004489676561207));
res += mul(Get(s3,dx,-dy), float4x4(0.011391555890441,-0.000092439287982,-0.002286006230861,0.000017967644453,-0.026498811319470,-0.001771317212842,0.007349611725658,-0.000680230034050,0.008626936934888,-0.013807371258736,0.001040871255100,-0.002187547041103,-0.028234304860234,0.043575845658779,0.095214441418648,-0.103581085801125));
res += mul(Get(s3,dx,0), float4x4(-0.008969905786216,-0.004059608094394,0.005075823049992,-0.002871169708669,-0.017149066552520,-0.010608216747642,-0.000174993037945,0.001068821526133,-0.007446106057614,-0.007950454019010,-0.006419118959457,-0.006807509809732,-0.026453308761120,0.011419315822423,0.029059052467346,-0.018542876467109));
res += mul(Get(s3,dx,dy), float4x4(-0.002750541549176,0.005378815345466,0.008116160519421,0.010232849977911,-0.018262088298798,-0.018927488476038,-0.011080482974648,0.007194492965937,0.009503683075309,-0.005493006668985,-0.001394886756316,-0.003975267987698,0.007678797468543,-0.008376304991543,-0.012921500019729,-0.016954576596618));
return max(float4(0,0,0,0), res);
}
