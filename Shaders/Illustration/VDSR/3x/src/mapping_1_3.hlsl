sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.245402023196220,0.060435209423304,0.299945354461670,-0.172490343451500,-0.275326967239380,-0.211190328001976,0.067608922719955,0.013813550584018,0.003569318447262,-0.108215883374214,-0.130854964256287,0.017190800979733,-0.111584141850471,0.059364151209593,0.018248742446303,-0.097977355122566));
res += mul(Get(s0,-dx,0), float4x4(0.056984830647707,0.157384440302849,-0.049470573663712,-0.105206817388535,-0.031960386782885,-0.137120068073273,-0.080688044428825,0.012055383063853,-0.043223269283772,0.133073046803474,0.024208080023527,0.112652458250523,-0.200248673558235,0.076764546334743,-0.089947611093521,-0.014010448008776));
res += mul(Get(s0,-dx,dy), float4x4(0.002398030599579,0.062364190816879,0.052844446152449,-0.077900514006615,0.130717903375626,-0.027921589091420,0.192916929721832,0.057708110660315,0.016568815335631,0.196804031729698,0.174391224980354,0.171247556805611,0.001803903374821,0.074769906699657,-0.002092034090310,0.030506325885653));
res += mul(Get(s0,0,-dy), float4x4(-0.091659292578697,0.008140354417264,-0.036975860595703,-0.117980204522610,0.044084616005421,0.044863976538181,0.064223632216454,-0.116760231554508,-0.222034588456154,-0.042343229055405,-0.136948242783546,-0.133669972419739,0.020257785916328,0.076825819909573,0.008847934193909,0.354228466749191));
res += mul(Get(s0,0,0), float4x4(0.047468390315771,0.035336896777153,-0.040565166622400,0.043983127921820,0.014329060912132,-0.024335335940123,-0.024516539648175,0.092156589031219,0.169609516859055,0.135305613279343,-0.028383996337652,0.070650726556778,0.115398071706295,-0.032760139554739,0.109250515699387,0.131913423538208));
res += mul(Get(s0,0,dy), float4x4(-0.088788539171219,0.058658674359322,-0.074598185718060,0.053714368492365,0.074863746762276,0.015441224910319,0.062969245016575,-0.035064723342657,0.060856088995934,0.107813671231270,0.113992057740688,-0.002128304680809,-0.109126761555672,0.043860886245966,0.077294610440731,0.252840757369995));
res += mul(Get(s0,dx,-dy), float4x4(0.080658130347729,-0.183782204985619,-0.067740850150585,-0.060824885964394,-0.156973823904991,-0.124361552298069,-0.006232832558453,0.012363235466182,0.227594882249832,-0.161842271685600,-0.218368813395500,0.092824235558510,0.087230861186981,-0.254702389240265,-0.040694158524275,0.044193599373102));
res += mul(Get(s0,dx,0), float4x4(0.005845413077623,-0.030836721882224,0.184958964586258,-0.119683675467968,0.163763910531998,-0.284564822912216,0.126479297876358,-0.140384241938591,0.157971322536469,-0.004880254622549,0.070964105427265,0.116854883730412,0.006192296277732,-0.133622214198112,0.185265019536018,0.015662634745240));
res += mul(Get(s0,dx,dy), float4x4(-0.189026802778244,-0.036389913409948,-0.099680073559284,0.071838185191154,-0.099269524216652,-0.024837614968419,-0.005834397394210,0.152515381574631,0.000738878734410,0.028236808255315,0.086366012692451,0.085727214813232,-0.087665975093842,0.133516177535057,-0.007996029220521,0.060972962528467));
res += mul(Get(s1,-dx,-dy), float4x4(0.086868286132813,-0.074972897768021,-0.100076936185360,-0.061174575239420,0.049872834235430,-0.184469521045685,-0.030488912016153,-0.110761970281601,-0.037419158965349,0.061231903731823,-0.181897789239883,0.030277118086815,-0.123396255075932,0.125500336289406,-0.026337273418903,-0.095316059887409));
res += mul(Get(s1,-dx,0), float4x4(0.029666975140572,0.037156254053116,-0.057393390685320,0.141242116689682,-0.064183183014393,-0.043288614600897,-0.025343395769596,-0.041469451040030,0.053257577121258,-0.095600873231888,-0.012821410782635,-0.103674232959747,-0.083288706839085,0.037235073745251,0.122186504304409,0.146571904420853));
res += mul(Get(s1,-dx,dy), float4x4(-0.026706060394645,0.170059636235237,0.090653307735920,-0.018007254227996,-0.105680704116821,-0.032511044293642,0.135531187057495,-0.070880055427551,-0.016397139057517,-0.007179633248597,-0.112678810954094,0.044164739549160,-0.034580182284117,0.001665153773502,-0.027304768562317,0.140733987092972));
res += mul(Get(s1,0,-dy), float4x4(0.211376249790192,-0.100940190255642,0.017028020694852,-0.156871318817139,0.051176209002733,-0.059840217232704,-0.037449181079865,0.000916484917980,-0.066420137882233,0.034252028912306,-0.074315309524536,-0.004775277804583,-0.136947438120842,-0.130090996623039,-0.035020429641008,0.005271262954921));
res += mul(Get(s1,0,0), float4x4(0.068330250680447,-0.108959518373013,0.096691228449345,0.099498949944973,0.227710679173470,-0.062064450234175,-0.067553609609604,0.074652493000031,-0.049749638885260,-0.069992072880268,0.031148916110396,0.072599053382874,-0.006123045925051,0.060248140245676,-0.128593116998672,-0.050494465976954));
res += mul(Get(s1,0,dy), float4x4(-0.012589298188686,-0.056899107992649,0.003693531500176,-0.178140848875046,-0.041365064680576,-0.181899771094322,-0.023855041712523,-0.139320954680443,-0.150692939758301,-0.003156519727781,-0.135281264781952,0.091129571199417,0.038179736584425,-0.133240655064583,0.172039017081261,0.058795616030693));
res += mul(Get(s1,dx,-dy), float4x4(0.028250912204385,0.050121378153563,0.280631572008133,-0.210351765155792,-0.112727455794811,0.090280175209045,0.031989000737667,0.006111117545515,-0.095398187637329,0.017820922657847,-0.110574737191200,-0.121793895959854,-0.110790140926838,0.180643469095230,-0.033636521548033,-0.080641649663448));
res += mul(Get(s1,dx,0), float4x4(0.008408205583692,-0.023258199915290,-0.189809173345566,0.033848993480206,-0.014914496801794,-0.205156162381172,-0.116827324032784,-0.099701367318630,-0.157682269811630,-0.113841071724892,-0.173558399081230,-0.142110839486122,0.120895467698574,0.059854619204998,0.142934709787369,-0.016297681257129));
res += mul(Get(s1,dx,dy), float4x4(0.019630694761872,-0.111899606883526,-0.047981586307287,-0.107371151447296,-0.061965249478817,0.001120100379921,0.032673124223948,0.035240277647972,-0.056786730885506,0.088811919093132,-0.257244616746902,-0.039743211120367,-0.181001558899879,0.029889341443777,0.040444843471050,-0.059262890368700));
res += mul(Get(s2,-dx,-dy), float4x4(-0.050298415124416,0.083460144698620,-0.141039133071899,0.064237467944622,0.220920309424400,0.159584701061249,-0.054223831743002,0.054941575974226,-0.166720077395439,0.033203754574060,-0.090206310153008,0.043803814798594,0.009410578757524,-0.048537615686655,-0.194619253277779,0.045606348663568));
res += mul(Get(s2,-dx,0), float4x4(-0.160748526453972,-0.222321301698685,0.077323153614998,0.291974484920502,0.244713604450226,0.008454925380647,0.077437080442905,0.199202924966812,-0.229990825057030,0.091002963483334,-0.085194088518620,0.115477003157139,0.017847130075097,0.008872588165104,-0.051888953894377,0.085010267794132));
res += mul(Get(s2,-dx,dy), float4x4(-0.045469637960196,-0.197981014847755,0.134348303079605,0.008677655830979,-0.070850260555744,0.193820029497147,0.146948322653770,0.120780006051064,0.241062611341476,0.126818180084229,0.058438438922167,0.065607912838459,-0.060013029724360,0.203366816043854,0.124209187924862,0.101520046591759));
res += mul(Get(s2,0,-dy), float4x4(-0.135905489325523,0.128563776612282,-0.118868909776211,0.160666793584824,-0.011934113688767,-0.136825263500214,-0.022391881793737,-0.078004896640778,-0.052942752838135,0.194809019565582,-0.194228276610374,0.060735322535038,0.081177242100239,0.102170415222645,-0.019217509776354,-0.183529585599899));
res += mul(Get(s2,0,0), float4x4(-0.040199708193541,0.306023657321930,0.110109925270081,-0.020987723022699,-0.052605643868446,-0.055226840078831,0.121633276343346,-0.055215936154127,0.031977072358131,-0.068195208907127,0.291163206100464,0.354468464851379,-0.097641251981258,-0.049825515598059,-0.007547933608294,0.049289438873529));
res += mul(Get(s2,0,dy), float4x4(-0.073957115411758,-0.047854628413916,0.237465709447861,0.052509389817715,0.004369728267193,-0.065215326845646,0.183198764920235,-0.159909576177597,0.110112965106964,-0.071500256657600,0.188946127891541,0.177829787135124,-0.090917147696018,-0.068025052547455,-0.110695332288742,-0.097854427993298));
res += mul(Get(s2,dx,-dy), float4x4(-0.133296146988869,-0.011087353341281,-0.063308283686638,-0.227189987897873,-0.112054750323296,-0.186098247766495,-0.078028693795204,-0.065831765532494,-0.207917883992195,0.104517377912998,-0.190587505698204,-0.081274136900902,0.082349389791489,0.160966619849205,-0.063179850578308,-0.063651718199253));
res += mul(Get(s2,dx,0), float4x4(-0.220162659883499,-0.091276027262211,-0.069629818201065,-0.107736110687256,-0.222879931330681,0.023495022207499,-0.156601220369339,-0.205805256962776,0.041612751781940,-0.162907570600510,-0.050136562436819,0.010749919340014,0.191488206386566,0.310287117958069,-0.155584290623665,0.073828823864460));
res += mul(Get(s2,dx,dy), float4x4(0.063865326344967,-0.059111226350069,0.095180206000805,0.014820012263954,-0.016170777380466,-0.072141550481319,-0.012971384450793,0.148589462041855,0.035150431096554,-0.218558907508850,0.078288756310940,-0.230185240507126,-0.043959934264421,0.018974026665092,0.043149117380381,0.032315272837877));
res += mul(Get(s3,-dx,-dy), float4x4(-0.092838071286678,-0.097812928259373,-0.013673937879503,-0.064194880425930,-0.160483494400978,-0.063049316406250,-0.040776100009680,-0.242811366915703,-0.106389246881008,0.042185164988041,-0.001881080563180,-0.001851080334745,0.089445374906063,-0.009885899722576,0.088270880281925,-0.028559578582644));
res += mul(Get(s3,-dx,0), float4x4(0.011931092478335,-0.181305333971977,0.072850897908211,0.010684982873499,0.013808748684824,-0.009948221966624,-0.020911933854222,0.025294262915850,0.002320146886632,-0.184387490153313,-0.071566201746464,-0.076813980937004,-0.144268065690994,-0.038461927324533,-0.114845186471939,-0.107499666512012));
res += mul(Get(s3,-dx,dy), float4x4(0.093034915626049,0.109934739768505,0.027738407254219,0.178538084030151,0.146199017763138,-0.039636187255383,0.069306015968323,-0.087851852178574,-0.093236014246941,-0.217350497841835,0.009977517649531,0.118976190686226,-0.065185017883778,0.171988591551781,-0.147933200001717,-0.020681319758296));
res += mul(Get(s3,0,-dy), float4x4(0.083375543355942,0.007606140803546,0.075005203485489,0.103147201240063,-0.062494959682226,0.123941227793694,0.096792764961720,0.126098960638046,-0.040465336292982,-0.016732515767217,0.118574231863022,0.042087465524673,-0.068390272557735,-0.080431073904037,0.129779383540154,0.094269938766956));
res += mul(Get(s3,0,0), float4x4(0.005091460421681,0.111001990735531,-0.017444895580411,-0.087390378117561,-0.080795988440514,0.029902748763561,-0.155989959836006,-0.109273120760918,-0.093181706964970,0.084532417356968,-0.002158536342904,0.159182131290436,0.059517215937376,0.031263962388039,-0.004092948045582,0.113167904317379));
res += mul(Get(s3,0,dy), float4x4(-0.096357747912407,-0.118900194764137,-0.134756937623024,-0.138572186231613,-0.111077204346657,-0.138201445341110,0.038161046802998,0.000208138284506,-0.056014798581600,0.015330455265939,0.053960859775543,-0.038994438946247,0.049806516617537,0.068351253867149,-0.157808795571327,0.022957671433687));
res += mul(Get(s3,dx,-dy), float4x4(0.050581116229296,0.169186845421791,-0.176904991269112,0.176515042781830,-0.030293455347419,-0.111478000879288,0.024334961548448,-0.103109709918499,0.410318106412888,-0.190444529056549,-0.085887171328068,0.129754677414894,0.012196729891002,0.085871078073978,-0.091414682567120,0.057793840765953));
res += mul(Get(s3,dx,0), float4x4(-0.029997900128365,0.029121978208423,0.011612056754529,0.023251637816429,-0.023306792601943,-0.121118679642677,-0.019615074619651,-0.086676284670830,0.392790287733078,-0.172395050525665,-0.076397888362408,-0.262879431247711,-0.038309670984745,-0.097236022353172,-0.046464547514915,-0.091840840876102));
res += mul(Get(s3,dx,dy), float4x4(0.132168501615524,0.204686746001244,0.067356593906879,0.064227908849716,0.016153676435351,0.050716307014227,0.110955148935318,-0.005121462047100,0.108996570110321,0.093782618641853,-0.363765001296997,0.053814455866814,-0.105746746063232,0.078563444316387,-0.034181158989668,-0.165202736854553));
return max(float4(0,0,0,0), res);
}
