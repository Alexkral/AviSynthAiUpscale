sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.054616276174784,0.086204066872597,0.023498408496380,-0.019456513226032,-0.065218172967434,-0.037306502461433,0.041169308125973,0.042857836931944,0.110791735351086,0.058608103543520,0.001312645152211,-0.070911258459091,0.117485210299492,-0.169646427035332,0.046193603426218,0.128852918744087));
res += mul(Get(s0,-dx,0), float4x4(0.015120611526072,-0.082885682582855,-0.235345318913460,0.009249593131244,0.076232478022575,0.052318826317787,0.146379977464676,0.132046669721603,-0.032979622483253,0.006306723691523,0.173087954521179,-0.018287455663085,0.057154469192028,0.014384570531547,-0.198741018772125,0.069920055568218));
res += mul(Get(s0,-dx,dy), float4x4(-0.201625183224678,-0.077845059335232,0.130663037300110,0.130778089165688,-0.112499386072159,0.014645547606051,0.094263210892677,0.093054302036762,0.107636526226997,0.001947896322235,-0.129086360335350,0.009536235593259,0.031433340162039,0.009834624826908,0.163462340831757,0.388131827116013));
res += mul(Get(s0,0,-dy), float4x4(-0.114309899508953,-0.078512161970139,-0.133927255868912,-0.101447165012360,0.079471908509731,-0.183677360415459,0.160649091005325,0.009187298826873,-0.111319370567799,0.037097681313753,0.061292659491301,-0.063087336719036,0.099274545907974,-0.128256738185883,-0.118721894919872,-0.134682968258858));
res += mul(Get(s0,0,0), float4x4(-0.063103206455708,0.005887593142688,0.059835545718670,-0.077633507549763,-0.020208077505231,0.030736291781068,0.019755672663450,-0.007888680323958,-0.028443448245525,0.083762288093567,0.100420057773590,0.093727506697178,0.170013144612312,0.010288887657225,0.050054620951414,0.042995803058147));
res += mul(Get(s0,0,dy), float4x4(-0.050226408988237,0.150671452283859,0.117676831781864,0.067077629268169,0.008070296607912,0.044570099562407,-0.200178250670433,0.110720276832581,0.050997801125050,-0.089386031031609,0.192238837480545,0.040262293070555,-0.045226927846670,-0.151962384581566,0.010199801065028,-0.013805704191327));
res += mul(Get(s0,dx,-dy), float4x4(0.161926105618477,0.212205737829208,-0.113192610442638,0.153258234262466,-0.000718893308658,0.146175771951675,-0.015712440013885,-0.065691925585270,0.156482785940170,-0.006167159415781,-0.123511157929897,-0.158494532108307,-0.016261162236333,-0.041167132556438,-0.081667974591255,0.014456397853792));
res += mul(Get(s0,dx,0), float4x4(0.041309956461191,-0.010659930296242,0.172581300139427,0.070522546768188,0.049803100526333,-0.056683246046305,0.081156298518181,-0.073800168931484,-0.053714185953140,0.017628530040383,-0.052981168031693,0.138895466923714,-0.073958732187748,0.094412311911583,-0.132239088416100,0.048721872270107));
res += mul(Get(s0,dx,dy), float4x4(0.162375360727310,-0.055870607495308,0.099263228476048,0.088121503591537,0.095115698873997,0.276545971632004,0.152328312397003,0.076921090483665,-0.077525906264782,0.282936185598373,-0.123048432171345,0.168396547436714,-0.022612106055021,-0.064737431704998,-0.208051189780235,0.033428072929382));
res += mul(Get(s1,-dx,-dy), float4x4(-0.103922635316849,-0.010077953338623,-0.001796265365556,-0.126852095127106,0.104961328208447,0.034733485430479,0.055447988212109,0.098939932882786,-0.120223239064217,0.047085307538509,-0.043308772146702,-0.036208126693964,-0.159892037510872,0.019679674878716,0.002289904048666,0.140821754932404));
res += mul(Get(s1,-dx,0), float4x4(-0.110831439495087,0.079655654728413,-0.134006604552269,-0.033071044832468,-0.157195672392845,-0.149596735835075,-0.090232476592064,0.123525679111481,0.020613612607121,0.110790036618710,-0.001016886089928,0.026319753378630,-0.152951851487160,-0.203394532203674,0.072955824434757,-0.240678608417511));
res += mul(Get(s1,-dx,dy), float4x4(-0.038171216845512,-0.014588500373065,-0.073641970753670,-0.055009253323078,-0.110177472233772,-0.000310861476464,0.056878946721554,0.232409670948982,0.011532126925886,0.017163697630167,-0.094958350062370,-0.082690000534058,0.050105344504118,-0.150550991296768,0.178763985633850,0.099295206367970));
res += mul(Get(s1,0,-dy), float4x4(-0.102079585194588,0.031927965581417,-0.153407171368599,0.117957621812820,0.115163922309875,-0.177123874425888,-0.000065803636971,-0.001491452800110,0.050794012844563,0.027807820588350,0.010211643762887,-0.153358384966850,-0.087798148393631,-0.004395277239382,0.187255367636681,0.026325302198529));
res += mul(Get(s1,0,0), float4x4(0.182218357920647,0.006873148959130,-0.035424217581749,-0.109039843082428,0.021483773365617,0.112685799598694,0.016294391825795,0.131623893976212,0.067656040191650,0.077149160206318,0.088880881667137,0.021885346621275,0.016291474923491,-0.008149161934853,-0.007940595038235,-0.102127119898796));
res += mul(Get(s1,0,dy), float4x4(0.134948462247849,0.008472830988467,-0.155445560812950,0.118944525718689,-0.199019297957420,-0.059516698122025,0.109822295606136,-0.087139315903187,-0.150792062282562,0.193229347467422,0.175997108221054,0.081581160426140,-0.026568051427603,0.008002077229321,-0.093191400170326,0.097422674298286));
res += mul(Get(s1,dx,-dy), float4x4(-0.009086281992495,0.106121905148029,-0.186877936124802,-0.065551087260246,-0.132205352187157,-0.012998668476939,-0.067815229296684,0.018531523644924,-0.107034139335155,0.247487306594849,0.080482862889767,0.127604186534882,0.173487991094589,-0.121338337659836,0.110797382891178,0.018916251137853));
res += mul(Get(s1,dx,0), float4x4(-0.056403614580631,0.087638311088085,0.146331772208214,-0.059762403368950,0.006575697567314,-0.007621554192156,0.060130871832371,0.011842996813357,0.054337341338396,-0.016945287585258,-0.344074726104736,-0.097894206643105,0.159023880958557,-0.132215261459351,0.121270880103111,-0.010379003360868));
res += mul(Get(s1,dx,dy), float4x4(0.009129675105214,-0.027468904852867,-0.451965332031250,0.034360531717539,-0.030653519555926,0.125653669238091,0.182577639818192,0.115855865180492,-0.046990383416414,0.001208457048051,0.096981085836887,0.028654554858804,0.118046782910824,0.061671130359173,0.286580413579941,-0.000613352225628));
res += mul(Get(s2,-dx,-dy), float4x4(0.041715614497662,-0.066279165446758,0.022633748129010,-0.074163004755974,-0.134180873632431,0.082372620701790,0.042258769273758,-0.122454032301903,-0.032048411667347,-0.078972108662128,-0.106275588274002,0.143465861678123,0.203684940934181,0.075526162981987,-0.156819596886635,0.051122967153788));
res += mul(Get(s2,-dx,0), float4x4(0.042176503688097,-0.014109465293586,0.128576412796974,-0.143940508365631,0.086260549724102,0.100331172347069,-0.296349555253983,0.009352990426123,-0.004432758782059,-0.043159365653992,0.131097123026848,0.048470333218575,0.016087982803583,0.046224612742662,-0.281514763832092,0.004289881791919));
res += mul(Get(s2,-dx,dy), float4x4(0.134672328829765,-0.145960569381714,0.056942261755466,-0.015788912773132,-0.033723384141922,0.213738188147545,0.051628693938255,-0.024439455941319,0.121656097471714,0.044834751635790,-0.072757303714752,0.038353756070137,-0.001668391167186,-0.090523257851601,0.041139967739582,0.169153809547424));
res += mul(Get(s2,0,-dy), float4x4(-0.137919232249260,-0.068279482424259,0.044862281531096,-0.006432271096855,0.016018610447645,0.173217028379440,0.042046029120684,-0.038062661886215,-0.152906477451324,0.034428328275681,-0.040001772344112,0.096310988068581,0.009328312240541,0.012038131244481,-0.029039483517408,-0.119578346610069));
res += mul(Get(s2,0,0), float4x4(-0.172104075551033,-0.072794653475285,0.185892850160599,-0.094513863325119,0.053671188652515,-0.166927233338356,-0.029166374355555,-0.182962357997894,-0.203702479600906,0.017565526068211,-0.144010990858078,0.100717619061470,-0.115156225860119,-0.092549689114094,0.020150696858764,0.136458992958069));
res += mul(Get(s2,0,dy), float4x4(-0.066620424389839,0.263583123683929,0.142027989029884,-0.104499928653240,0.166537597775459,-0.064686626195908,-0.051544424146414,-0.055225048214197,0.037096370011568,-0.091671176254749,0.021550981327891,0.076644055545330,0.013094150461257,-0.133827194571495,0.104879759252071,-0.243480831384659));
res += mul(Get(s2,dx,-dy), float4x4(0.038512919098139,0.035588927567005,-0.190734103322029,0.009012572467327,-0.212367519736290,0.116515398025513,0.036571577191353,0.024270240217447,-0.212423428893089,-0.175747677683830,-0.019634069874883,-0.132612973451614,-0.048832584172487,0.059925280511379,-0.210016250610352,0.048797473311424));
res += mul(Get(s2,dx,0), float4x4(0.026914466172457,0.032033875584602,0.077752321958542,0.101054690778255,-0.014795760624111,-0.012605208903551,0.078610129654408,-0.170858979225159,-0.019772505387664,-0.067503049969673,0.145107567310333,0.089788123965263,0.115987055003643,0.098137915134430,-0.072198286652565,-0.052619278430939));
res += mul(Get(s2,dx,dy), float4x4(-0.077873311936855,-0.107431262731552,-0.024055054411292,-0.078545384109020,-0.000088539884018,0.154379650950432,-0.048513047397137,-0.026878992095590,-0.083950042724609,0.138923853635788,-0.014461957849562,0.200493380427361,0.000899006845430,-0.176245018839836,0.025887865573168,0.066761910915375));
res += mul(Get(s3,-dx,-dy), float4x4(-0.061203099787235,0.044174835085869,-0.052507270127535,0.026749774813652,-0.101528607308865,-0.226986244320869,0.235773727297783,0.173899427056313,-0.029031209647655,-0.141402378678322,-0.070247910916805,-0.064487874507904,-0.055326819419861,-0.047979559749365,-0.132262378931046,-0.209273159503937));
res += mul(Get(s3,-dx,0), float4x4(-0.176348760724068,-0.194432184100151,-0.017885975539684,-0.017888834699988,-0.001676294021308,-0.090082272887230,0.183037027716637,0.226634889841080,0.085684768855572,0.086045235395432,0.099498629570007,-0.109353259205818,-0.146374166011810,0.120297871530056,0.009480473585427,0.050113663077354));
res += mul(Get(s3,-dx,dy), float4x4(0.117256060242653,0.070710927248001,0.060077317059040,-0.218225166201591,-0.083358146250248,-0.093798957765102,0.170673459768295,-0.008368797600269,0.069217108190060,0.094488717615604,-0.119085758924484,0.028885688632727,0.213602125644684,-0.114414863288403,0.018121283501387,-0.052986204624176));
res += mul(Get(s3,0,-dy), float4x4(0.089849777519703,0.029211524873972,-0.044699411839247,-0.027557583525777,0.077850662171841,0.017972694709897,-0.044327992945910,-0.303304433822632,0.156568586826324,-0.026619430631399,-0.164994761347771,0.026485830545425,0.292758405208588,0.054557327181101,0.001395780709572,-0.024743547663093));
res += mul(Get(s3,0,0), float4x4(-0.175740852952003,0.029168620705605,-0.027334270998836,0.143859893083572,-0.026031257584691,0.126831173896790,0.156167939305305,0.103470861911774,0.111836448311806,0.223639667034149,-0.026650376617908,-0.160522982478142,0.080721385776997,-0.156143009662628,0.181894391775131,-0.219585016369820));
res += mul(Get(s3,0,dy), float4x4(-0.051788248121738,0.041105419397354,-0.037852413952351,0.039505448192358,-0.030751558020711,0.001711067627184,0.108935847878456,-0.088526315987110,-0.102831967175007,-0.008300411514938,0.035418879240751,-0.109478540718555,-0.132537335157394,-0.043024703860283,0.065983392298222,0.091431185603142));
res += mul(Get(s3,dx,-dy), float4x4(-0.049083098769188,0.064840368926525,0.085468396544456,-0.035405106842518,-0.261907368898392,0.083413556218147,0.038112271577120,0.006168602965772,0.051595602184534,-0.057534273713827,-0.200406610965729,-0.171675354242325,0.050807654857635,-0.050826314836740,-0.039228778332472,0.163540825247765));
res += mul(Get(s3,dx,0), float4x4(0.023177370429039,0.110586069524288,0.097816459834576,-0.047015424817801,0.056933876127005,-0.165007665753365,-0.123263858258724,0.090971201658249,-0.051220588386059,-0.048597820103168,0.015230036340654,-0.348601311445236,-0.110588826239109,0.038964059203863,-0.118536829948425,0.126631259918213));
res += mul(Get(s3,dx,dy), float4x4(0.034192807972431,0.062761284410954,-0.006892050150782,0.062967300415039,0.024751402437687,0.117682069540024,-0.083622179925442,0.070020616054535,-0.226051613688469,-0.151351049542427,0.051336400210857,-0.092215366661549,0.103039704263210,0.020464329048991,-0.104446880519390,-0.121021144092083));
return max(float4(0,0,0,0), res);
}
