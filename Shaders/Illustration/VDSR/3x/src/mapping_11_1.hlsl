sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.285804569721222,0.057688582688570,-0.072621747851372,-0.074243620038033,0.017135150730610,-0.050736140459776,-0.086655147373676,-0.062091581523418,0.136885508894920,0.049210667610168,-0.069593094289303,-0.235165193676949,0.211206346750259,0.023167451843619,0.002160198055208,0.133416637778282));
res += mul(Get(s0,-dx,0), float4x4(-0.095239482820034,0.033639997243881,-0.038419827818871,-0.151987582445145,0.094474568963051,-0.101867310702801,-0.224039942026138,-0.056302063167095,0.200466692447662,-0.066534169018269,0.100180983543396,0.306784600019455,-0.035866055637598,0.189779132604599,0.097078479826450,0.118999555706978));
res += mul(Get(s0,-dx,dy), float4x4(0.043506436049938,0.268009573221207,-0.081333719193935,-0.164872646331787,-0.236768260598183,0.031422581523657,-0.131793990731239,0.205143451690674,-0.063786342740059,-0.165933981537819,-0.066996984183788,0.187403276562691,-0.027268482372165,0.022193262353539,-0.060015652328730,0.070949286222458));
res += mul(Get(s0,0,-dy), float4x4(-0.274250924587250,0.041555080562830,0.016257233917713,-0.064236678183079,0.233511835336685,-0.080392390489578,-0.058977153152227,0.151635557413101,-0.103255972266197,-0.050376504659653,0.025790328159928,0.113742403686047,-0.007510142400861,0.151745840907097,0.027005439624190,-0.000446816033218));
res += mul(Get(s0,0,0), float4x4(-0.130077466368675,-0.106346204876900,-0.104358777403831,-0.101753085851669,-0.226051330566406,0.002675291150808,-0.183938831090927,0.238363415002823,-0.038273591548204,0.037670053541660,0.019295902922750,0.096041090786457,0.034814942628145,0.148206830024719,0.000208540615859,0.028694545850158));
res += mul(Get(s0,0,dy), float4x4(0.074894301593304,-0.163246989250183,-0.164699077606201,-0.125842049717903,-0.214371487498283,0.099078461527824,-0.102685347199440,0.189096465706825,-0.144008874893188,-0.208370938897133,-0.069579862058163,0.068249277770519,-0.164214909076691,0.024442646652460,0.166268676519394,0.026235910132527));
res += mul(Get(s0,dx,-dy), float4x4(-0.086190059781075,0.214089214801788,0.073105119168758,-0.143919214606285,0.110375687479973,-0.123585812747478,-0.264708191156387,0.043028894811869,-0.116791322827339,0.097492657601833,0.036147367209196,0.175876185297966,-0.021225837990642,0.014421463012695,-0.052625622600317,-0.033067747950554));
res += mul(Get(s0,dx,0), float4x4(0.053916450589895,-0.136045500636101,-0.129914417862892,-0.068958722054958,-0.335674464702606,0.000725334801245,-0.211709648370743,-0.137266784906387,0.027652624994516,0.285419911146164,0.077702254056931,-0.064185298979282,0.010650421492755,0.086784802377224,-0.054610133171082,0.029108092188835));
res += mul(Get(s0,dx,dy), float4x4(0.041010018438101,-0.110951542854309,-0.220168381929398,-0.102547571063042,-0.211125418543816,0.277665257453918,-0.173911646008492,-0.007165575399995,0.024144671857357,-0.004090062342584,-0.068735808134079,-0.128363102674484,-0.099351264536381,0.151687458157539,0.087470635771751,0.125295132398605));
res += mul(Get(s1,-dx,-dy), float4x4(0.023767951875925,-0.192462459206581,0.142355531454086,0.321695297956467,-0.023551652207971,-0.105657175183296,0.093293383717537,0.155114546418190,0.021655308082700,-0.156897440552711,0.000101333906059,-0.109669581055641,-0.011214729398489,0.067140199244022,0.012944825924933,-0.006658820435405));
res += mul(Get(s1,-dx,0), float4x4(0.048535756766796,-0.004064230713993,-0.087699726223946,0.178241699934006,-0.087412744760513,0.209035441279411,-0.020231841132045,0.290974795818329,0.065396063029766,-0.071305587887764,0.023239972069860,-0.009740873239934,0.117993302643299,0.130951687693596,-0.189307302236557,0.022219141945243));
res += mul(Get(s1,-dx,dy), float4x4(-0.033980954438448,-0.250402301549911,-0.126606941223145,0.078841559588909,-0.177113860845566,-0.197667479515076,-0.037153579294682,0.176352426409721,-0.077021554112434,-0.109424747526646,-0.047107748687267,-0.155925691127777,-0.142031013965607,0.093140497803688,-0.042217623442411,0.107739999890327));
res += mul(Get(s1,0,-dy), float4x4(0.109154038131237,0.179222419857979,0.039027702063322,0.304844945669174,0.086879484355450,-0.145200431346893,-0.065998889505863,-0.012056144885719,-0.072877071797848,-0.080480135977268,-0.021910412237048,-0.005620505660772,0.099826641380787,-0.060575895011425,0.104959622025490,-0.144740492105484));
res += mul(Get(s1,0,0), float4x4(-0.022597964853048,-0.013883861713111,-0.127607762813568,-0.019913572818041,0.033525500446558,0.030626356601715,-0.108415201306343,-0.042786948382854,-0.033818054944277,0.104618161916733,-0.129367679357529,0.046928271651268,0.055337745696306,0.077875703573227,0.043893184512854,-0.008170728571713));
res += mul(Get(s1,0,dy), float4x4(-0.041532628238201,-0.237480163574219,-0.146208420395851,-0.052978806197643,-0.224994659423828,-0.161402508616447,-0.014891052618623,-0.050887141376734,-0.058446124196053,0.003566102590412,-0.113757297396660,-0.175210520625114,-0.135438293218613,0.059348143637180,0.053139973431826,-0.024159865453839));
res += mul(Get(s1,dx,-dy), float4x4(-0.023321365937591,0.003224923973903,-0.108974993228912,-0.130090713500977,-0.205167502164841,-0.171497538685799,0.144370287656784,0.120647422969341,-0.100927613675594,-0.111612796783447,0.188723921775818,-0.064586117863655,0.057921022176743,0.121309645473957,0.092554114758968,0.068182900547981));
res += mul(Get(s1,dx,0), float4x4(-0.110720947384834,-0.092176541686058,-0.056445959955454,-0.088102072477341,-0.090828366577625,-0.177583709359169,0.013787563890219,-0.161417320370674,-0.108048051595688,-0.013352801091969,0.035473957657814,-0.051503960043192,-0.070644542574883,0.069910734891891,-0.028176693245769,0.144568040966988));
res += mul(Get(s1,dx,dy), float4x4(-0.095145218074322,-0.300993025302887,-0.224009841680527,-0.042857293039560,-0.268870353698730,-0.196215391159058,0.033258520066738,-0.115102216601372,-0.106749929487705,-0.033813647925854,-0.061859671026468,-0.154491141438484,-0.208626568317413,-0.048384934663773,0.085998408496380,0.069003872573376));
res += mul(Get(s2,-dx,-dy), float4x4(-0.117639698088169,-0.056689802557230,0.086592204868793,-0.085186533629894,0.037889569997787,0.048758078366518,0.412057906389236,0.039971616119146,0.025436421856284,0.038391146808863,0.012464510276914,0.017399059608579,0.005303544923663,-0.022152343764901,0.003712099045515,0.050587847828865));
res += mul(Get(s2,-dx,0), float4x4(-0.161677286028862,0.311890065670013,-0.077272154390812,0.019275408238173,0.300693690776825,-0.197101011872292,-0.092946656048298,-0.179528474807739,0.028415676206350,0.240078881382942,0.106380768120289,0.032880615442991,0.055518381297588,0.092751979827881,-0.034472733736038,0.151828899979591));
res += mul(Get(s2,-dx,dy), float4x4(-0.037883765995502,0.498797535896301,-0.131605431437492,-0.034530203789473,0.081489488482475,-0.085613928735256,-0.187280267477036,0.011095447465777,-0.002486102748662,-0.239384055137634,0.092050530016422,0.170780718326569,0.115093849599361,-0.056932013481855,0.006279154215008,0.156598210334778));
res += mul(Get(s2,0,-dy), float4x4(0.105444863438606,0.094579316675663,0.246794074773788,-0.076843522489071,0.315482795238495,0.041001625359058,-0.074010156095028,0.059989098459482,0.032302930951118,-0.032249864190817,0.144008204340935,-0.064597308635712,0.017895346507430,-0.020104598253965,-0.135492503643036,-0.006253114901483));
res += mul(Get(s2,0,0), float4x4(0.006721457466483,0.050001569092274,-0.023737335577607,-0.108119189739227,-0.022529657930136,-0.041646830737591,-0.221946313977242,0.022629152983427,0.084380291402340,0.436679750680923,0.191017210483551,0.013935955241323,0.006572620011866,0.064069829881191,0.025946885347366,0.016816969960928));
res += mul(Get(s2,0,dy), float4x4(0.140075519680977,-0.209253445267677,0.015232237055898,-0.068927384912968,0.158767551183701,0.046684354543686,-0.056844327598810,0.042740870267153,-0.040008772164583,-0.081077985465527,-0.125453457236290,0.094457216560841,0.157960951328278,-0.107274204492569,-0.140450686216354,-0.096020378172398));
res += mul(Get(s2,dx,-dy), float4x4(0.253651350736618,0.039193127304316,0.028484553098679,0.001972041325644,0.094912931323051,-0.062901511788368,-0.127935782074928,-0.089875951409340,0.089548341929913,-0.039492212235928,0.099007576704025,-0.050387583673000,0.008255488239229,-0.010961212217808,0.183086290955544,-0.096032880246639));
res += mul(Get(s2,dx,0), float4x4(-0.107563599944115,0.089264921844006,-0.020503586158156,-0.095383614301682,-0.192940756678581,-0.073164701461792,-0.225683957338333,0.008657258003950,0.220260992646217,0.379617303609848,0.173537462949753,-0.090144678950310,-0.116556905210018,0.245831802487373,0.081626579165459,0.409528017044067));
res += mul(Get(s2,dx,dy), float4x4(-0.055086936801672,0.096061289310455,0.012523370794952,-0.176899313926697,-0.070358842611313,-0.158918231725693,-0.003546841209754,0.154919221997261,0.202308937907219,0.049387212842703,-0.009336847811937,0.024916999042034,-0.026817008852959,0.091312170028687,-0.080945290625095,0.144050806760788));
res += mul(Get(s3,-dx,-dy), float4x4(0.065167173743248,0.221159338951111,0.075431026518345,-0.148384466767311,0.037689857184887,0.052048712968826,-0.069837570190430,-0.023429365828633,0.293885409832001,0.086425036191940,0.443773478269577,-0.044318579137325,0.013701328076422,-0.053701203316450,-0.000408868509112,0.011824226938188));
res += mul(Get(s3,-dx,0), float4x4(0.121572643518448,0.238586425781250,-0.034638155251741,-0.021806310862303,0.141188263893127,-0.185436695814133,0.142482995986938,0.197162047028542,0.148512035608292,0.001534747309051,0.047532185912132,-0.045415312051773,-0.056927658617496,0.101266913115978,-0.006341629661620,-0.086290866136551));
res += mul(Get(s3,-dx,dy), float4x4(0.177662432193756,0.080650709569454,0.246271371841431,0.083055414259434,0.299769222736359,-0.060936428606510,-0.081980310380459,0.219464525580406,-0.001036438276060,-0.203163295984268,0.063656799495220,0.034042328596115,0.037065930664539,-0.050430823117495,-0.025911774486303,-0.025840183719993));
res += mul(Get(s3,0,-dy), float4x4(0.119854912161827,0.089379400014877,0.142830193042755,-0.233848914504051,0.026682924479246,0.158356562256813,-0.046144686639309,-0.012385224923491,0.234286069869995,0.165639430284500,0.238169357180595,0.003699554828927,0.043544046580791,-0.140685006976128,-0.117374449968338,0.023981105536222));
res += mul(Get(s3,0,0), float4x4(0.048267681151628,-0.040510229766369,0.155294388532639,-0.019139422103763,-0.174407392740250,-0.028763052076101,0.003912714309990,-0.049830727279186,0.054010126739740,0.045263491570950,0.008259029127657,0.034682668745518,-0.077306807041168,0.083484120666981,0.058139290660620,0.027732221409678));
res += mul(Get(s3,0,dy), float4x4(-0.189467221498489,-0.134397014975548,0.259583622217178,0.166742771863937,0.196515634655952,-0.045962154865265,-0.036086171865463,-0.039657182991505,-0.023052114993334,-0.014710018411279,-0.061381049454212,0.090399578213692,0.202180519700050,-0.064587056636810,0.061893090605736,0.112824842333794));
res += mul(Get(s3,dx,-dy), float4x4(0.302943199872971,-0.095844417810440,-0.043814569711685,-0.110084578394890,-0.023287184536457,0.187736615538597,0.122077859938145,-0.050914976745844,0.068713292479515,0.109709940850735,-0.035708833485842,-0.141143560409546,-0.161520421504974,-0.174690395593643,0.141429871320724,-0.073613010346889));
res += mul(Get(s3,dx,0), float4x4(-0.085410401225090,0.087645366787910,-0.005566409323364,0.107779540121555,0.131970509886742,-0.043511517345905,0.092694751918316,-0.057822126895189,0.010056909173727,0.112327642738819,0.040905013680458,0.013446140103042,-0.142007842659950,-0.002157710492611,-0.038853053003550,-0.021483123302460));
res += mul(Get(s3,dx,dy), float4x4(-0.286448895931244,0.004663317929953,0.041344966739416,-0.063553936779499,0.158669799566269,0.167500868439674,0.197114512324333,0.033161990344524,0.131945744156837,0.010411189869046,0.130592957139015,0.026781307533383,0.218650624155998,0.016876107081771,-0.040681071579456,-0.060377527028322));
return max(float4(0,0,0,0), res);
}
