sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.022979684174061,-0.159594133496284,0.071132741868496,0.015205868519843,0.013107178732753,-0.008138360455632,-0.022201700136065,-0.086656205356121,-0.025407720357180,0.002642311155796,0.102376937866211,-0.099351525306702,0.072341538965702,-0.125849202275276,0.076146245002747,-0.026379417628050));
res += mul(Get(s0,-dx,0), float4x4(0.110137246549129,0.159214109182358,0.072851292788982,-0.088860973715782,0.075192108750343,0.014555073343217,-0.042764272540808,-0.017230601981282,-0.010998007841408,-0.098451457917690,0.037748470902443,-0.180807381868362,0.015910396352410,0.001739749568515,0.144495204091072,0.066842198371887));
res += mul(Get(s0,-dx,dy), float4x4(0.097825579345226,-0.076663583517075,0.075160883367062,0.105476625263691,0.005110131576657,0.022953057661653,-0.028363309800625,-0.096678659319878,0.108081601560116,-0.046770326793194,-0.025450715795159,0.211728543043137,0.036124493926764,-0.071523286402225,0.021182652562857,-0.049011956900358));
res += mul(Get(s0,0,-dy), float4x4(0.021889131516218,-0.057273138314486,-0.093983791768551,-0.236233830451965,-0.182540759444237,0.136196851730347,0.082564331591129,0.216010689735413,-0.174261435866356,0.028886619955301,-0.007117692381144,0.003137913532555,0.014481193386018,-0.041698612272739,-0.026129620149732,-0.105919294059277));
res += mul(Get(s0,0,0), float4x4(0.102935515344143,0.126610115170479,0.043477077037096,0.070288747549057,-0.037587892264128,0.119980454444885,0.167889282107353,0.139111518859863,-0.045683450996876,0.092340037226677,0.167598873376846,0.003218728583306,0.063333109021187,-0.156349986791611,-0.120928160846233,-0.036380119621754));
res += mul(Get(s0,0,dy), float4x4(-0.022064305841923,-0.001085920725018,-0.011796697042882,0.113328561186790,-0.145890295505524,0.083087086677551,-0.107841864228249,0.107739292085171,0.006407036446035,0.133674263954163,0.027619255706668,-0.087906971573830,-0.142673954367638,0.150711566209793,-0.029179943725467,0.030117489397526));
res += mul(Get(s0,dx,-dy), float4x4(0.152168542146683,-0.023760937154293,0.028411874547601,0.226768299937248,-0.043453495949507,-0.192177265882492,0.060261093080044,-0.090272538363934,-0.043731801211834,-0.206249430775642,0.083462059497833,0.192878752946854,-0.014318817295134,-0.170293539762497,-0.006991809234023,-0.084707178175449));
res += mul(Get(s0,dx,0), float4x4(0.191112458705902,0.100019812583923,0.043300818651915,-0.048347763717175,-0.065286263823509,0.013641236349940,-0.016002126038074,-0.297776341438293,0.127175852656364,-0.133773669600487,0.019316423684359,0.022031873464584,-0.097794242203236,0.057299453765154,-0.018689844757318,-0.131516858935356));
res += mul(Get(s0,dx,dy), float4x4(-0.009282800368965,0.014784391038120,0.108779281377792,0.005035172216594,-0.124268986284733,-0.026220446452498,-0.035161975771189,0.015583448112011,-0.089415527880192,-0.095339976251125,0.122315548360348,-0.248767033219337,-0.162427604198456,0.026760602369905,-0.177065119147301,-0.063938498497009));
res += mul(Get(s1,-dx,-dy), float4x4(-0.050287418067455,-0.125680252909660,-0.021862776950002,0.047992039471865,0.007192011456937,-0.057600542902946,-0.071954280138016,-0.045938506722450,-0.079319819808006,0.034771271049976,-0.047491017729044,-0.258414447307587,-0.094681568443775,0.064952343702316,-0.049892265349627,-0.012026466429234));
res += mul(Get(s1,-dx,0), float4x4(0.068751297891140,0.048519115895033,-0.006592059507966,-0.125172093510628,0.141359388828278,-0.202132835984230,-0.037779826670885,-0.057135321199894,-0.017461128532887,-0.157677814364433,0.090900123119354,0.016331361606717,-0.125526726245880,-0.024409970268607,-0.142195627093315,-0.227027103304863));
res += mul(Get(s1,-dx,dy), float4x4(-0.011374950408936,-0.131318792700768,0.022969858720899,-0.002702538156882,-0.161169633269310,-0.042779587209225,-0.085152611136436,0.252592831850052,-0.068403780460358,0.051209878176451,-0.044284429401159,-0.009054098278284,0.016198946163058,-0.089776270091534,-0.137729749083519,-0.081833995878696));
res += mul(Get(s1,0,-dy), float4x4(-0.025334294885397,-0.078205533325672,0.148740485310555,-0.016331477090716,0.008553138934076,-0.015878738835454,-0.083389535546303,-0.121919065713882,0.039325207471848,0.217987209558487,-0.058697804808617,0.041109316051006,0.120272949337959,0.060654662549496,-0.041504926979542,0.247266128659248));
res += mul(Get(s1,0,0), float4x4(0.237906306982040,0.061532370746136,0.192365273833275,0.092617645859718,0.024869995191693,-0.085325881838799,-0.057605363428593,-0.133089676499367,0.021088492125273,0.067130826413631,0.029434388503432,0.054171618074179,-0.089887298643589,0.258698135614395,-0.162813603878021,0.082395866513252));
res += mul(Get(s1,0,dy), float4x4(0.227058574557304,0.094894118607044,0.128333598375320,-0.096553236246109,0.100619785487652,-0.054002411663532,0.131731316447258,-0.054866012185812,-0.076961614191532,-0.038277979940176,0.014846874400973,0.083239153027534,-0.015479243360460,-0.024727985262871,-0.053756315261126,0.052018050104380));
res += mul(Get(s1,dx,-dy), float4x4(-0.100076258182526,-0.267648458480835,-0.031078603118658,0.028888413682580,-0.081865921616554,-0.045558016747236,-0.037777237594128,-0.056631702929735,0.119004540145397,0.000681899604388,0.066165953874588,0.395746439695358,0.099481374025345,-0.144729375839233,0.037866719067097,-0.080468140542507));
res += mul(Get(s1,dx,0), float4x4(0.036893546581268,0.035052191466093,0.060944940894842,0.119812332093716,0.288974791765213,-0.267133682966232,-0.081069409847260,-0.147624760866165,0.131345689296722,-0.190817639231682,0.041673257946968,-0.161746442317963,0.217284604907036,0.041206303983927,0.152413293719292,-0.108719848096371));
res += mul(Get(s1,dx,dy), float4x4(0.120453909039497,-0.068641774356365,0.033404871821404,-0.111673146486282,0.043014161288738,0.363428950309753,-0.065303973853588,-0.295726627111435,0.023006059229374,-0.018857002258301,-0.050338938832283,-0.043955206871033,-0.138220176100731,-0.121335156261921,0.041933227330446,-0.003407779382542));
res += mul(Get(s2,-dx,-dy), float4x4(-0.046616204082966,-0.227722823619843,-0.000734635745175,-0.036291636526585,-0.065424375236034,-0.028183475136757,-0.071054235100746,-0.063800118863583,0.030244350433350,-0.019519530236721,0.171870455145836,0.271158158779144,0.047982253134251,-0.059603367000818,0.038913678377867,0.247870489954948));
res += mul(Get(s2,-dx,0), float4x4(0.082880042493343,-0.039571668952703,-0.037502001971006,-0.139815136790276,-0.142503798007965,-0.115698099136353,-0.076598696410656,-0.107239596545696,0.038663707673550,-0.161332339048386,-0.014562268741429,0.017282817512751,-0.089987114071846,0.051855359226465,-0.132402926683426,-0.105546519160271));
res += mul(Get(s2,-dx,dy), float4x4(-0.006383691448718,-0.093034543097019,0.040434554219246,-0.105917960405350,0.023263633251190,-0.184932455420494,0.001268259482458,-0.228974163532257,-0.089653141796589,-0.077390298247337,0.000645490654279,-0.219326972961426,-0.042797833681107,-0.010088288225234,-0.047035027295351,-0.049676537513733));
res += mul(Get(s2,0,-dy), float4x4(-0.105196259915829,0.150152847170830,0.020033495500684,0.071567721664906,-0.081101097166538,-0.077614262700081,-0.020099595189095,0.062003269791603,-0.106355451047421,-0.179097935557365,-0.272579073905945,-0.080877028405666,0.082736782729626,-0.082301482558250,-0.127391949295998,0.146691173315048));
res += mul(Get(s2,0,0), float4x4(0.031547244638205,0.116580657660961,0.060724288225174,0.208910331130028,-0.178047686815262,0.146644055843353,-0.019674705341458,-0.013738420791924,-0.087999083101749,-0.120015792548656,-0.110159382224083,-0.177790477871895,-0.031154055148363,0.122770354151726,-0.130730569362640,0.099467940628529));
res += mul(Get(s2,0,dy), float4x4(0.009890375658870,0.118005715310574,0.033756416290998,0.288681238889694,0.062853910028934,0.048686012625694,-0.019227193668485,-0.151835337281227,-0.051174018532038,0.010416323319077,-0.081209011375904,0.070079892873764,-0.101988725364208,0.251419067382813,-0.128230139613152,-0.236230477690697));
res += mul(Get(s2,dx,-dy), float4x4(0.042297516018152,-0.030718460679054,0.013509607873857,0.068350359797478,0.055187057703733,-0.234004274010658,0.080860443413258,0.252143442630768,-0.066506937146187,0.011103246361017,0.023313073441386,-0.058199644088745,-0.032817188650370,0.274393051862717,-0.066541440784931,-0.050083152949810));
res += mul(Get(s2,dx,0), float4x4(0.005527865141630,0.103146143257618,0.011366274207830,0.042699869722128,0.053016200661659,-0.105968065559864,0.097465001046658,-0.058144167065620,-0.026341833174229,0.067985072731972,-0.053192116320133,0.050590917468071,0.016042817384005,0.111774504184723,-0.098537087440491,-0.107222504913807));
res += mul(Get(s2,dx,dy), float4x4(-0.081162139773369,0.046091433614492,0.082361072301865,0.017443923279643,0.074415996670723,-0.105500452220440,0.270203858613968,-0.061075292527676,0.020088199526072,0.104877740144730,0.064408682286739,-0.054138243198395,0.180767834186554,-0.177992701530457,-0.071021035313606,-0.140707895159721));
res += mul(Get(s3,-dx,-dy), float4x4(-0.100979864597321,-0.267736613750458,-0.059025626629591,-0.183091744780540,-0.003267148975283,-0.045082639902830,0.086176000535488,0.064561426639557,-0.024794666096568,-0.087921783328056,0.063960894942284,0.016662221401930,0.137809112668037,-0.097204491496086,0.111595988273621,-0.050513636320829));
res += mul(Get(s3,-dx,0), float4x4(-0.005910699255764,-0.077906429767609,0.129198193550110,-0.500604331493378,-0.124051526188850,-0.003319904906675,0.078121751546860,0.085259035229683,0.008461277931929,-0.093664728105068,0.278987973928452,-0.058132756501436,0.076709203422070,-0.015876885503531,-0.091839633882046,0.003027727361768));
res += mul(Get(s3,-dx,dy), float4x4(0.072451189160347,0.009671842679381,0.000212937899050,-0.365639299154282,-0.114644058048725,-0.103640191257000,-0.017137998715043,-0.058515422046185,-0.128681093454361,-0.001829634187743,0.109683297574520,-0.105750054121017,-0.025132419541478,0.162530496716499,-0.053980454802513,-0.144114419817924));
res += mul(Get(s3,0,-dy), float4x4(-0.170187115669250,-0.111939065158367,0.011753175407648,0.256708800792694,0.123309209942818,-0.136825248599052,-0.004949837923050,0.271520316600800,0.027974678203464,-0.019729459658265,-0.043858725577593,0.082728065550327,-0.138194873929024,0.067289613187313,0.091261550784111,-0.050824359059334));
res += mul(Get(s3,0,0), float4x4(-0.115341573953629,0.099244348704815,0.047720380127430,0.095006637275219,0.180183768272400,0.061715926975012,-0.052855182439089,-0.045383241027594,-0.155864641070366,0.134585231542587,-0.162140369415283,-0.089507795870304,-0.048218071460724,-0.205186709761620,-0.027732120826840,-0.068097859621048));
res += mul(Get(s3,0,dy), float4x4(0.041957154870033,0.010684362612665,0.097773000597954,0.309619545936584,0.092951104044914,-0.067555367946625,-0.002285728696734,0.053229145705700,-0.051003787666559,-0.053695544600487,0.081378951668739,-0.222729265689850,0.028505766764283,0.016945160925388,-0.104408696293831,0.061043940484524));
res += mul(Get(s3,dx,-dy), float4x4(-0.110449030995369,-0.213632181286812,0.040995851159096,0.048033721745014,0.158296972513199,-0.074665442109108,0.015338982455432,-0.001275770133361,0.096664637327194,0.131577163934708,-0.107162915170193,0.006949257105589,0.019587710499763,0.206724599003792,-0.142458781599998,0.129787847399712));
res += mul(Get(s3,dx,0), float4x4(0.112218976020813,0.372865438461304,0.022407032549381,-0.016287993639708,0.121298857033253,-0.084663987159729,-0.052961703389883,-0.108950093388557,-0.010670592077076,-0.035861641168594,-0.111920639872551,-0.100495405495167,-0.066937252879143,-0.004774653352797,-0.119769044220448,0.036565814167261));
res += mul(Get(s3,dx,dy), float4x4(0.022236013785005,-0.045436687767506,0.093816764652729,0.064148679375648,-0.024775773286819,0.194357693195343,-0.084526121616364,-0.003106917720288,0.209894001483917,-0.052425328642130,0.012360852211714,-0.255019217729568,0.073546901345253,0.006447711959481,0.133467242121696,-0.101233139634132));
return max(float4(0,0,0,0), res);
}
