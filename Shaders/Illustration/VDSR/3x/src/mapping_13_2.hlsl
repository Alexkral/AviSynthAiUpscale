sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.053712837398052,-0.020310632884502,-0.039719410240650,-0.048154398798943,0.094927504658699,0.056505747139454,-0.039621856063604,0.111276425421238,0.012217112816870,-0.059047590941191,-0.073453158140182,0.075074009597301,-0.261672496795654,-0.000920416612644,-0.031336754560471,0.007092368789017));
res += mul(Get(s0,-dx,0), float4x4(0.092218436300755,0.139197885990143,0.043281491845846,-0.198360070586205,-0.129556179046631,0.044903211295605,-0.015091684646904,-0.085894495248795,0.028958776965737,-0.067265368998051,0.005355548113585,0.020132752135396,0.038757987320423,0.044499952346087,-0.152024462819099,-0.124897964298725));
res += mul(Get(s0,-dx,dy), float4x4(-0.138276144862175,-0.108866192400455,-0.018541032448411,0.125036224722862,-0.191769272089005,-0.044122606515884,-0.052363973110914,0.044074799865484,0.052097510546446,0.069812923669815,-0.066927276551723,-0.110950931906700,-0.035111591219902,-0.039777558296919,-0.145426258444786,-0.207477658987045));
res += mul(Get(s0,0,-dy), float4x4(-0.009967966005206,0.083655111491680,-0.064150139689445,-0.060538690537214,0.126287609338760,0.156989708542824,0.090605668723583,-0.018486980348825,-0.105084143579006,-0.134479865431786,-0.107066385447979,-0.031084669753909,0.053390808403492,0.025928156450391,0.044747456908226,0.073375687003136));
res += mul(Get(s0,0,0), float4x4(-0.158812746405602,-0.020250203087926,-0.004974549636245,-0.050714220851660,-0.016301015391946,-0.091448783874512,0.110720060765743,-0.002026094589382,0.048416648060083,0.045173946768045,-0.113798774778843,-0.002550920238718,-0.109946228563786,-0.057209569960833,-0.163352757692337,-0.012172967195511));
res += mul(Get(s0,0,dy), float4x4(-0.007059291470796,0.183321520686150,0.040854874998331,0.175037056207657,0.052790030837059,0.238426759839058,0.353714674711227,0.037892326712608,-0.052515782415867,-0.082006588578224,-0.092564359307289,0.143717527389526,-0.053152233362198,0.252220213413239,0.000092398055131,0.210948884487152));
res += mul(Get(s0,dx,-dy), float4x4(0.016052091494203,0.056621488183737,-0.048897348344326,0.029279310256243,0.049362473189831,-0.085611395537853,0.075482621788979,-0.025293236598372,0.012432973831892,-0.141576915979385,-0.098832793533802,-0.015606221742928,-0.098569534718990,-0.018898796290159,0.119538471102715,0.199288100004196));
res += mul(Get(s0,dx,0), float4x4(0.148832812905312,-0.037683267146349,-0.101091712713242,-0.030069142580032,-0.131870374083519,-0.031412992626429,0.114211164414883,0.090969018638134,-0.118642538785934,-0.036579400300980,-0.126236647367477,-0.053600866347551,-0.063095644116402,-0.064895063638687,-0.046329814940691,0.123909182846546));
res += mul(Get(s0,dx,dy), float4x4(-0.031288944184780,-0.021766245365143,0.009913476184011,-0.059758629649878,0.073480486869812,0.252980798482895,-0.120917782187462,-0.063235156238079,-0.042811896651983,0.045059647411108,-0.044458102434874,-0.071044243872166,-0.000247702468187,0.030631531029940,0.135283127427101,-0.046365309506655));
res += mul(Get(s1,-dx,-dy), float4x4(-0.061916682869196,0.082126609981060,-0.094940327107906,-0.006302257534117,0.205502346158028,-0.082121230661869,-0.109183117747307,-0.077600792050362,0.052774418145418,0.173160657286644,0.091291032731533,-0.221053346991539,0.135945931077003,0.100661918520927,-0.062928572297096,-0.052522145211697));
res += mul(Get(s1,-dx,0), float4x4(0.070058338344097,0.099305100739002,-0.087433941662312,0.118173189461231,0.071652911603451,0.024935329332948,-0.114432774484158,0.007519847713411,-0.111940272152424,0.065751798450947,0.082810021936893,-0.205320492386818,0.126602888107300,-0.326611638069153,-0.109032347798347,0.040080871433020));
res += mul(Get(s1,-dx,dy), float4x4(0.197339147329330,0.042733430862427,-0.103853985667229,0.090515717864037,0.085298664867878,0.129454657435417,-0.117489211261272,-0.012039531022310,-0.083866290748119,-0.228936389088631,-0.023996630683541,-0.004099026788026,0.033186480402946,0.118786416947842,-0.018684256821871,-0.021359626203775));
res += mul(Get(s1,0,-dy), float4x4(0.064573436975479,0.181600660085678,-0.019268617033958,-0.092453554272652,-0.009149564430118,-0.066988795995712,0.146373897790909,-0.082369565963745,-0.008278477936983,0.079676263034344,-0.169366344809532,-0.108259372413158,0.059146720916033,0.045663461089134,-0.036551363766193,0.094595789909363));
res += mul(Get(s1,0,0), float4x4(0.056274037808180,0.013129326514900,0.032844733446836,0.023909403011203,-0.195548161864281,0.046184062957764,0.159678503870964,0.132725760340691,-0.061518236994743,-0.094156406819820,-0.094401702284813,-0.177105486392975,0.134839609265327,-0.178592249751091,0.051101870834827,0.152133747935295));
res += mul(Get(s1,0,dy), float4x4(0.011228515766561,0.185636177659035,-0.066165462136269,0.012250036932528,0.050818335264921,-0.017620643600821,0.061313852667809,-0.015082017518580,0.077792078256607,-0.024530069902539,-0.016972245648503,0.011594449169934,0.001860892050900,0.290217459201813,0.094980143010616,-0.035826407372952));
res += mul(Get(s1,dx,-dy), float4x4(-0.006879191379994,0.121388137340546,-0.246515706181526,-0.107379160821438,-0.183425545692444,-0.035049915313721,-0.034739751368761,-0.128776833415031,0.015614114701748,0.138296753168106,-0.331292927265167,-0.033057358115911,-0.015667373314500,0.011350328102708,-0.126496657729149,0.098596498370171));
res += mul(Get(s1,dx,0), float4x4(0.080801725387573,0.070623666048050,0.024996200576425,0.150626465678215,-0.034528248012066,-0.083953551948071,0.051684435456991,-0.010312651284039,-0.049269188195467,-0.002340391511098,-0.231287240982056,-0.171834260225296,0.133210673928261,-0.134012266993523,-0.017231985926628,0.099260672926903));
res += mul(Get(s1,dx,dy), float4x4(0.112312711775303,-0.080742545425892,0.017081970348954,-0.229031518101692,0.240211591124535,-0.009429098106921,0.184899717569351,-0.032274976372719,0.077120020985603,-0.131709173321724,-0.048896033316851,0.042174529284239,0.109307602047920,-0.061043735593557,-0.163768753409386,-0.128015905618668));
res += mul(Get(s2,-dx,-dy), float4x4(-0.012395372614264,-0.061513103544712,0.109950974583626,-0.076760150492191,0.097931407392025,-0.090119659900665,0.097477152943611,-0.105507954955101,-0.007999764755368,0.216682031750679,0.275869905948639,0.061064545065165,0.033676102757454,0.185153618454933,-0.123716287314892,-0.226989358663559));
res += mul(Get(s2,-dx,0), float4x4(-0.042364917695522,0.174982696771622,0.099207200109959,-0.081815361976624,-0.159807041287422,-0.062547013163567,-0.087705403566360,-0.159742638468742,0.056390341371298,0.067264825105667,0.079526312649250,-0.015536756254733,-0.060727588832378,-0.100234679877758,-0.173600196838379,-0.236290767788887));
res += mul(Get(s2,-dx,dy), float4x4(0.271149307489395,-0.030783869326115,0.103859223425388,0.162370547652245,-0.012945638969541,0.043335735797882,0.025238674134016,-0.046810399740934,0.067818783223629,0.066346347332001,0.133751928806305,-0.149388223886490,-0.076669096946716,-0.075270891189575,0.118985123932362,0.028671847656369));
res += mul(Get(s2,0,-dy), float4x4(-0.011496708728373,-0.078802675008774,0.074271067976952,-0.058750614523888,-0.142100483179092,-0.016600135713816,0.000772869098000,0.088324569165707,-0.056937709450722,0.109539195895195,-0.006186797283590,-0.234588921070099,-0.035860985517502,-0.020738050341606,0.097879819571972,-0.129993289709091));
res += mul(Get(s2,0,0), float4x4(-0.053618267178535,-0.114348210394382,-0.021303772926331,-0.108031198382378,-0.241165488958359,-0.142591461539268,0.181033954024315,-0.118853688240051,-0.193831771612167,-0.168129965662956,0.032769348472357,-0.024297587573528,0.004656492266804,-0.016079725697637,0.177902340888977,0.014685903675854));
res += mul(Get(s2,0,dy), float4x4(0.002729743719101,-0.083746954798698,0.100635156035423,0.162908405065536,0.134780049324036,-0.027296938002110,-0.108764596283436,0.046002894639969,0.045260291546583,0.081095539033413,-0.172070965170860,-0.155875980854034,-0.086596012115479,0.014548920094967,0.017188189551234,0.078619323670864));
res += mul(Get(s2,dx,-dy), float4x4(-0.054640065878630,-0.092451810836792,-0.043973069638014,-0.034235011786222,0.096918642520905,-0.027475045993924,-0.056238386780024,0.080484591424465,-0.019695321097970,-0.014093942008913,-0.164789646863937,0.040440667420626,-0.075484566390514,0.098111793398857,0.023290131241083,-0.042796928435564));
res += mul(Get(s2,dx,0), float4x4(-0.067184634506702,0.058212209492922,-0.038352690637112,0.041837163269520,-0.012679523788393,-0.003844930091873,-0.190819665789604,0.034831218421459,-0.144379153847694,-0.011595925316215,0.278749883174896,0.121248394250870,0.008040247485042,0.031611680984497,0.145344570279121,-0.038482844829559));
res += mul(Get(s2,dx,dy), float4x4(0.036276478320360,0.057608719915152,-0.031906116753817,0.087166294455528,0.180123597383499,0.116039425134659,-0.175859689712524,0.109697073698044,-0.079919435083866,-0.180955722928047,0.013651251792908,-0.026503803208470,-0.143388792872429,-0.009823097847402,-0.136933773756027,0.128264114260674));
res += mul(Get(s3,-dx,-dy), float4x4(-0.069733932614326,0.006289219483733,0.097554840147495,0.048289913684130,-0.106083028018475,-0.148294508457184,0.158310472965240,0.120114654302597,0.114556893706322,-0.067460544407368,0.094703890383244,0.047130320221186,0.128515735268593,-0.074372760951519,0.153999522328377,-0.049909323453903));
res += mul(Get(s3,-dx,0), float4x4(0.018936639651656,0.038772534579039,0.113493084907532,-0.183026224374771,0.033786769956350,0.057157337665558,-0.115568049252033,0.127837270498276,0.046159002929926,0.013848531059921,0.006876068655401,0.089667133986950,0.039230186492205,-0.139394581317902,-0.036173541098833,0.004308672156185));
res += mul(Get(s3,-dx,dy), float4x4(-0.031556084752083,-0.089609391987324,-0.000387060310459,-0.014899022877216,-0.177347391843796,-0.306257426738739,0.091261930763721,0.145083099603653,0.061032287776470,-0.043055184185505,0.078598871827126,0.146809011697769,-0.120583288371563,0.009006771259010,0.095475316047668,0.112113438546658));
res += mul(Get(s3,0,-dy), float4x4(-0.117511942982674,0.010977518744767,-0.000158489390742,-0.188829571008682,-0.034752134233713,-0.267655640840530,0.014365275390446,0.062695100903511,0.315893888473511,0.055035836994648,0.007907855324447,0.015888255089521,-0.089312613010406,0.046982724219561,-0.051876239478588,-0.071306303143501));
res += mul(Get(s3,0,0), float4x4(-0.071309275925159,0.063163623213768,0.147869646549225,-0.136862322688103,0.012401108630002,0.108109742403030,-0.099708355963230,-0.193594902753830,-0.189871519804001,0.036744132637978,0.089799866080284,0.041818827390671,0.055397082120180,-0.028425376862288,-0.030932772904634,-0.145847812294960));
res += mul(Get(s3,0,dy), float4x4(-0.040522150695324,0.053444899618626,-0.064091287553310,0.020956965163350,-0.165710553526878,-0.098553143441677,0.021816475316882,0.042559478431940,0.025912009179592,-0.024599298834801,-0.180859923362732,-0.117447115480900,0.123901635408401,-0.003161757951602,0.003981031943113,-0.010249558836222));
res += mul(Get(s3,dx,-dy), float4x4(-0.095081292092800,0.068453513085842,0.194824993610382,-0.077436923980713,0.069888882339001,-0.135263800621033,0.190320938825607,-0.074581705033779,0.011112630367279,-0.197912186384201,0.004150112625211,-0.153600111603737,0.182153508067131,0.081497699022293,0.041538532823324,-0.084254905581474));
res += mul(Get(s3,dx,0), float4x4(0.024936087429523,-0.002748760627583,0.252036213874817,0.038009461015463,-0.119688056409359,0.156361564993858,-0.043996617197990,0.103277318179607,0.129500404000282,-0.044401004910469,0.027340060099959,-0.015716878697276,-0.220081508159637,-0.062088198959827,-0.092472948133945,0.187420114874840));
res += mul(Get(s3,dx,dy), float4x4(0.069381393492222,-0.062992624938488,0.115574687719345,-0.011274623684585,-0.212512537837029,-0.123202897608280,0.168469488620758,0.180969223380089,0.114671006798744,-0.165615677833557,0.058744240552187,-0.044839400798082,-0.123465284705162,0.116754025220871,0.023409053683281,0.138277247548103));
return max(float4(0,0,0,0), res);
}
