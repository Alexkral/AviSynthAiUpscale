sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.137295663356781,0.000863804481924,-0.137705728411674,-0.127608031034470,-0.018308026716113,0.062432844191790,0.172519236803055,-0.028279276564717,-0.091589167714119,0.093887649476528,-0.012749879620969,0.064521133899689,0.091978602111340,0.015568468719721,-0.046712052077055,-0.076603002846241));
res += mul(Get(s0,-dx,0), float4x4(0.009500783868134,-0.006859803572297,-0.149504855275154,-0.036108832806349,0.077629052102566,0.075341694056988,0.042625088244677,0.054358672350645,-0.052553221583366,0.140956997871399,0.147747561335564,0.064059518277645,-0.071999683976173,0.159741267561913,-0.042211178690195,-0.038882125169039));
res += mul(Get(s0,-dx,dy), float4x4(0.212497770786285,-0.071178652346134,-0.004598957020789,-0.079592078924179,0.091422185301781,0.026656612753868,0.001408630283549,-0.068570621311665,-0.032015074044466,0.047656342387199,-0.030762918293476,-0.133219301700592,-0.021892603486776,0.074223302304745,0.056481819599867,-0.175734519958496));
res += mul(Get(s0,0,-dy), float4x4(-0.046821404248476,0.031028104946017,0.015240215696394,0.010760816745460,-0.160988941788673,-0.090993963181973,-0.071976512670517,0.052481323480606,-0.159806221723557,0.093594849109650,-0.010425144806504,0.021418627351522,0.034609250724316,0.008732625283301,0.080757841467857,0.063156403601170));
res += mul(Get(s0,0,0), float4x4(-0.026625273749232,-0.021318580955267,-0.041329067200422,-0.047822359949350,0.054806094616652,0.169471308588982,0.016893103718758,-0.038260117173195,-0.179337471723557,-0.019265005365014,-0.125164672732353,-0.057704988867044,-0.040908697992563,0.065021261572838,0.077746294438839,0.014999112114310));
res += mul(Get(s0,0,dy), float4x4(0.204613581299782,0.160657688975334,0.092785879969597,-0.012034554034472,0.115763537585735,-0.069359786808491,-0.022607840597630,0.021078936755657,-0.109295681118965,-0.161853536963463,0.163602039217949,-0.150146603584290,0.022409841418266,0.125563979148865,0.042995169758797,-0.175047591328621));
res += mul(Get(s0,dx,-dy), float4x4(-0.155932635068893,-0.136555179953575,0.007876348681748,0.017840022221208,-0.143231824040413,-0.121888123452663,0.061760738492012,-0.140288710594177,-0.041010808199644,-0.052627701312304,-0.065568879246712,0.062216714024544,0.174830004572868,-0.060187995433807,-0.208979636430740,0.104298084974289));
res += mul(Get(s0,dx,0), float4x4(-0.190071091055870,-0.008866883814335,-0.122591860592365,-0.003930188715458,-0.028810545802116,0.011695342138410,0.024524584412575,0.036353025585413,-0.196116954088211,-0.044232498854399,0.019177900627255,-0.067003816366196,0.046056289225817,-0.173321545124054,0.010122181847692,-0.174617290496826));
res += mul(Get(s0,dx,dy), float4x4(0.083825454115868,0.120068028569221,0.058683138340712,0.008524423465133,-0.062531135976315,-0.103995025157928,0.043265968561172,-0.028333680704236,-0.181080237030983,-0.029058774933219,0.138524815440178,-0.072023637592793,0.200241014361382,0.033002223819494,-0.067411579191685,-0.203685358166695));
res += mul(Get(s1,-dx,-dy), float4x4(0.043349575251341,0.047520849853754,-0.026827001944184,-0.063810274004936,-0.068052619695663,-0.002696024719626,-0.012106035836041,-0.035634148865938,0.129028022289276,-0.003508326597512,-0.158439293503761,-0.099367782473564,0.043917518109083,0.184723749756813,-0.066589862108231,0.023308245465159));
res += mul(Get(s1,-dx,0), float4x4(0.098653070628643,-0.054691351950169,-0.013842667452991,-0.054151840507984,-0.119682908058167,0.027357703074813,-0.023682635277510,0.062518402934074,0.301860123872757,0.174104690551758,0.032501455396414,0.184049502015114,0.152892038226128,0.270525753498077,-0.132953539490700,-0.008783092722297));
res += mul(Get(s1,-dx,dy), float4x4(0.074224904179573,-0.020457072183490,-0.058585230261087,-0.018600134178996,-0.057440888136625,-0.061741530895233,0.182700365781784,0.097064487636089,0.123525351285934,0.055042989552021,0.036780472844839,-0.043440490961075,0.075503408908844,0.131396993994713,0.039428945630789,-0.073894560337067));
res += mul(Get(s1,0,-dy), float4x4(0.071815259754658,-0.123696073889732,0.072449676692486,-0.036412980407476,-0.024508997797966,-0.035395819693804,0.019075222313404,-0.027509577572346,0.064456298947334,-0.079859077930450,-0.023842865601182,-0.052681639790535,-0.129708826541901,-0.009037942625582,-0.166341155767441,0.064012169837952));
res += mul(Get(s1,0,0), float4x4(0.050380088388920,-0.082414746284485,0.005275145638734,0.160394161939621,-0.075860768556595,-0.124726876616478,-0.180312454700470,0.091376498341560,0.170875921845436,0.047601956874132,0.091858819127083,0.313502103090286,-0.192048519849777,-0.232692360877991,-0.234325513243675,0.103858917951584));
res += mul(Get(s1,0,dy), float4x4(-0.087922930717468,-0.079428270459175,0.120920516550541,0.078593403100967,-0.096113704144955,-0.079941406846046,-0.003530132351443,0.070964641869068,0.103144504129887,-0.119529962539673,0.032887425273657,0.051918283104897,0.067989103496075,-0.144202455878258,0.077579580247402,-0.181360289454460));
res += mul(Get(s1,dx,-dy), float4x4(0.031852457672358,-0.096474327147007,0.153592675924301,-0.088016204535961,-0.151551216840744,-0.059961512684822,0.134651690721512,-0.013268419541419,-0.037707734853029,0.009979589842260,-0.004862015601248,-0.064649336040020,-0.105086401104927,-0.190424337983131,-0.215796902775764,0.104994162917137));
res += mul(Get(s1,dx,0), float4x4(0.079130165278912,0.019399093464017,0.037819843739271,0.017961366102099,-0.124811626970768,0.007703329436481,-0.024323903024197,0.134788945317268,0.033505111932755,-0.003273919224739,0.003372676204890,0.315470844507217,-0.257939219474792,-0.145660996437073,-0.114123888313770,0.070746533572674));
res += mul(Get(s1,dx,dy), float4x4(0.024665154516697,-0.041728828102350,0.146117299795151,0.275646150112152,-0.155900552868843,0.029788225889206,0.074841246008873,0.030773049220443,0.092300973832607,-0.094969525933266,-0.034534920006990,-0.379638552665710,-0.088188081979752,-0.005775268189609,0.156541809439659,0.561620116233826));
res += mul(Get(s2,-dx,-dy), float4x4(0.001104512601160,-0.008774372749031,-0.085897766053677,-0.157802984118462,-0.027740519493818,0.052100535482168,0.109550788998604,0.092644616961479,-0.011502086184919,-0.016558391973376,-0.165009081363678,0.068211920559406,-0.298571228981018,-0.118183940649033,-0.087309852242470,0.086799539625645));
res += mul(Get(s2,-dx,0), float4x4(-0.044898357242346,-0.023796020075679,0.096161238849163,0.086609169840813,0.133758857846260,0.055719017982483,0.174022212624550,-0.046233054250479,-0.077098563313484,-0.004982320591807,-0.157011866569519,-0.075467996299267,-0.068166062235832,-0.025470387190580,-0.111401543021202,-0.192635029554367));
res += mul(Get(s2,-dx,dy), float4x4(-0.006668475922197,0.084143631160259,-0.013105288147926,-0.149315342307091,-0.007785432506353,-0.025382297113538,0.154904454946518,-0.150495514273643,-0.042162951081991,-0.178579643368721,-0.016053648665547,-0.090856194496155,0.016689697280526,-0.079278483986855,-0.005012013018131,-0.073867648839951));
res += mul(Get(s2,0,-dy), float4x4(-0.028675155714154,0.072235390543938,0.053323250263929,-0.104944199323654,0.059715852141380,-0.035642176866531,-0.122853986918926,0.130359679460526,0.126147150993347,0.302215367555618,0.061314750462770,0.234626054763794,-0.047359660267830,0.107700988650322,-0.107277430593967,0.035188633948565));
res += mul(Get(s2,0,0), float4x4(-0.018633166328073,0.129256516695023,0.080315656960011,-0.322498023509979,0.182538866996765,-0.177530288696289,-0.020233834162354,-0.083043761551380,-0.059739507734776,0.042435240000486,0.067314371466637,-0.122982814908028,-0.114135302603245,0.001550318091176,-0.033386871218681,-0.111813463270664));
res += mul(Get(s2,0,dy), float4x4(0.066452190279961,0.179883867502213,0.017744837328792,-0.045385356992483,0.026661822572351,-0.191747456789017,-0.126033157110214,-0.101712577044964,0.007744865026325,-0.037099309265614,0.189223781228065,-0.205107644200325,0.059621576219797,-0.007146452087909,0.040875349193811,0.070293717086315));
res += mul(Get(s2,dx,-dy), float4x4(-0.000507760851178,-0.063737973570824,0.042420215904713,0.083922445774078,0.010786761529744,-0.037560008466244,-0.094866290688515,-0.023625329136848,-0.156170129776001,0.032317467033863,0.148377954959869,0.124677993357182,0.104584291577339,-0.019152322784066,-0.130671083927155,0.046138249337673));
res += mul(Get(s2,dx,0), float4x4(-0.045680791139603,-0.019025554880500,0.097978428006172,0.152021721005440,0.019833790138364,-0.095108263194561,-0.145776763558388,-0.152379930019379,0.003397740656510,-0.044136181473732,0.195662438869476,-0.101518370211124,-0.005159773398191,-0.111984796822071,-0.051564902067184,-0.096116364002228));
res += mul(Get(s2,dx,dy), float4x4(-0.119048021733761,0.036971680819988,0.034788969904184,-0.051819492131472,-0.000920086167753,0.125452756881714,-0.027031142264605,0.123261950910091,-0.005663602147251,0.005263487808406,0.125254079699516,-0.151487737894058,0.068533025681973,0.084557548165321,0.006853230763227,0.110438227653503));
res += mul(Get(s3,-dx,-dy), float4x4(-0.066615112125874,0.025671927258372,0.001041146693751,-0.008441722951829,-0.087515391409397,0.066732950508595,-0.024331111460924,0.107962131500244,0.031883012503386,-0.049302916973829,0.076583094894886,0.022772217169404,-0.009921120479703,-0.192027762532234,-0.096753299236298,0.116757236421108));
res += mul(Get(s3,-dx,0), float4x4(-0.048338145017624,0.114095777273178,0.046810787171125,-0.205532446503639,0.027536088600755,-0.046905722469091,-0.060030706226826,0.029734220355749,-0.104827560484409,-0.022528424859047,-0.082623034715652,-0.051983110606670,0.007462307345122,0.034905355423689,-0.196829110383987,-0.025441465899348));
res += mul(Get(s3,-dx,dy), float4x4(0.090146437287331,0.028273660689592,0.108194679021835,-0.327603459358215,0.137309551239014,0.050766419619322,0.075099423527718,-0.091266885399818,-0.080959111452103,-0.113820172846317,0.153778478503227,-0.120744645595551,-0.003902646712959,0.007424368523061,-0.149376168847084,-0.052063010632992));
res += mul(Get(s3,0,-dy), float4x4(0.026810504496098,-0.081217251718044,0.002312909346074,0.015186144039035,0.065564833581448,0.001065835473128,0.074608162045479,0.112538821995258,-0.051713351160288,0.010012225247920,-0.044907160103321,-0.028328625485301,-0.091387465596199,0.300504148006439,-0.002651295857504,0.070138454437256));
res += mul(Get(s3,0,0), float4x4(0.098483070731163,0.036339618265629,0.032688986510038,-0.066039122641087,-0.133313700556755,-0.205269068479538,-0.072366341948509,-0.076309554278851,-0.046412274241447,0.037875741720200,0.004917377140373,-0.002053799573332,0.052358597517014,0.138947725296021,0.020875144749880,0.006110594607890));
res += mul(Get(s3,0,dy), float4x4(0.073217548429966,-0.047393277287483,-0.008027114905417,-0.073225721716881,0.111719571053982,-0.088794663548470,0.094219684600830,-0.135669544339180,-0.076726622879505,-0.046226546168327,0.057912904769182,-0.059305343776941,0.207856222987175,-0.037352927029133,0.086046285927296,-0.137713015079498));
res += mul(Get(s3,dx,-dy), float4x4(0.012289467267692,0.075827889144421,0.017272159457207,0.038186158984900,0.048963230103254,-0.236923575401306,0.061556566506624,0.019512567669153,-0.117207489907742,0.096643917262554,0.053283199667931,-0.043016023933887,-0.162462443113327,0.152725532650948,0.015828169882298,0.078663691878319));
res += mul(Get(s3,dx,0), float4x4(0.022163910791278,0.052045460790396,0.122268252074718,-0.051460821181536,-0.146444410085678,-0.221873581409454,-0.082974180579185,-0.115506529808044,-0.135520353913307,0.021631654351950,0.051036667078733,-0.044379759579897,-0.114416770637035,-0.101000837981701,0.035806186497211,-0.004298441577703));
res += mul(Get(s3,dx,dy), float4x4(0.169051930308342,-0.011761467903852,0.068467125296593,0.056745786219835,0.013530734926462,0.021106451749802,0.014739603735507,-0.136460006237030,-0.128671839833260,-0.089442931115627,0.102147117257118,-0.019745806232095,0.028882855549455,0.055606357753277,0.079777486622334,-0.095545135438442));
return max(float4(0,0,0,0), res);
}
