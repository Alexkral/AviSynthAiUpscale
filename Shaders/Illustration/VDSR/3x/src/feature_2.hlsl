sampler s0 : register(s0);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(x, y)   tex2D(s0, tex + float2(x, y))[0]

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += float4(-0.008766692131758,-0.852481126785278,-0.080965422093868,-0.002783822594211) * Get(-dx,-dy);
res += float4(-0.006192836444825,-0.362228095531464,-0.100421890616417,-0.010351966135204) * Get(-dx,0);
res += float4(0.008240021765232,0.538625001907349,-0.052833091467619,-0.005441347602755) * Get(-dx,dy);
res += float4(-0.024211427196860,-0.702754199504852,-0.004829917568713,-0.016572071239352) * Get(0,-dy);
res += float4(-0.019940296187997,-0.335711956024170,-0.034718990325928,0.008258611895144) * Get(0,0);
res += float4(-0.015165332704782,0.551060974597931,-0.000478386180475,-0.005989289842546) * Get(0,dy);
res += float4(0.003506752662361,0.069256559014320,0.097782753407955,-0.006457947194576) * Get(dx,-dy);
res += float4(0.008679937571287,0.283062607049942,0.124321378767490,0.009380260482430) * Get(dx,0);
res += float4(0.006418574135751,0.808856844902039,0.099707901477814,-0.016374398022890) * Get(dx,dy);
return max(float4(0,0,0,0), res);
}
