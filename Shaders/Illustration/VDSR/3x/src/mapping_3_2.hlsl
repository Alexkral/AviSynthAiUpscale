sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.107993811368942,-0.262843817472458,-0.001060013193637,0.060373671352863,0.005953080020845,-0.393164426088333,-0.105194516479969,-0.170756682753563,-0.135716438293457,-0.293694764375687,-0.334613263607025,-0.044926870614290,0.216582849621773,0.006843301001936,0.026696983724833,-0.204818233847618));
res += mul(Get(s0,-dx,0), float4x4(-0.020339963957667,-0.133640483021736,0.128830790519714,-0.062711343169212,0.024395668879151,-0.190104216337204,-0.012019262649119,-0.116038903594017,-0.048686023801565,0.103367038071156,-0.073800347745419,0.100191287696362,-0.064244218170643,-0.273847281932831,-0.016565103083849,0.010659044608474));
res += mul(Get(s0,-dx,dy), float4x4(0.225894317030907,-0.219158768653870,0.099313214421272,0.085990749299526,-0.023131646215916,-0.077322326600552,-0.162848874926567,-0.356599360704422,-0.032913703471422,-0.016970017924905,0.097746334969997,-0.101730719208717,-0.104968883097172,-0.131634086370468,-0.079946406185627,-0.019176727160811));
res += mul(Get(s0,0,-dy), float4x4(-0.200467810034752,-0.032298497855663,-0.053879838436842,-0.062110759317875,-0.085545614361763,-0.111775934696198,-0.269789218902588,-0.173504099249840,-0.013334674760699,-0.174111351370811,-0.250672399997711,-0.028704402968287,0.245764479041100,-0.110695503652096,0.076315067708492,-0.147432833909988));
res += mul(Get(s0,0,0), float4x4(0.004984253551811,-0.060582119971514,-0.063362725079060,-0.139817088842392,0.082368046045303,-0.039483446627855,0.230886369943619,-0.160127818584442,-0.154970318078995,0.016989741474390,0.060352720320225,-0.058336947113276,-0.026457669213414,0.034347161650658,-0.060778710991144,-0.186305418610573));
res += mul(Get(s0,0,dy), float4x4(0.106950134038925,-0.103629879653454,-0.182926535606384,0.072590865194798,-0.115524195134640,-0.181266382336617,0.098326370120049,-0.138864576816559,0.110127814114094,0.275565147399902,0.405921220779419,0.041528828442097,0.086447127163410,0.403387099504471,-0.038233228027821,-0.325740486383438));
res += mul(Get(s0,dx,-dy), float4x4(0.031524118036032,-0.038817130029202,0.210667416453362,0.089135766029358,-0.058522704988718,-0.119227953255177,-0.058439992368221,0.132080867886543,-0.016128860414028,-0.192636817693710,-0.086949132382870,-0.086331881582737,0.090623311698437,-0.078150950372219,-0.138111874461174,0.103120461106300));
res += mul(Get(s0,dx,0), float4x4(0.013289613649249,-0.049823321402073,-0.008834501728415,0.100227393209934,0.039492789655924,-0.125420972704887,0.044270727783442,0.094152785837650,0.075762644410133,-0.157127767801285,-0.229548409581184,-0.060722939670086,-0.076049529016018,-0.174253851175308,-0.193908214569092,0.162979081273079));
res += mul(Get(s0,dx,dy), float4x4(0.195972591638565,0.055691324174404,0.014950159937143,0.218451246619225,-0.126103788614273,0.340536355972290,0.008218201808631,0.040346469730139,-0.001594387344085,-0.048756916075945,-0.185660168528557,0.221801504492760,-0.051500726491213,-0.116599678993225,-0.229740142822266,-0.072252325713634));
res += mul(Get(s1,-dx,-dy), float4x4(-0.051206547766924,-0.126990705728531,0.140201985836029,0.056597776710987,-0.069973148405552,-0.105259843170643,0.066241905093193,0.201549589633942,-0.016785580664873,-0.163401827216148,-0.185438498854637,0.029498882591724,0.266599059104919,-0.087041191756725,-0.076067432761192,-0.101496011018753));
res += mul(Get(s1,-dx,0), float4x4(-0.271183222532272,-0.000107507723442,-0.101274125277996,-0.092452056705952,0.236444875597954,-0.147252067923546,0.057266123592854,0.182342067360878,-0.114483393728733,-0.121487900614738,-0.229794546961784,-0.213221058249474,0.293608367443085,-0.077443502843380,0.077845677733421,-0.111716121435165));
res += mul(Get(s1,-dx,dy), float4x4(-0.032574776560068,0.069884106516838,0.166567191481590,0.324631392955780,0.189430102705956,-0.020088287070394,0.035133574157953,-0.142521500587463,-0.092601738870144,-0.113196857273579,-0.057973250746727,0.397751152515411,0.062530182301998,-0.031828805804253,-0.006006332114339,-0.005560220219195));
res += mul(Get(s1,0,-dy), float4x4(-0.012863994576037,-0.189270853996277,0.013036132790148,0.094299443066120,0.031739961355925,-0.194319516420364,0.014658036641777,0.149124696850777,-0.146115705370903,-0.156766340136528,-0.094321779906750,-0.051451109349728,-0.114271275699139,-0.044343810528517,-0.113493591547012,-0.015652487054467));
res += mul(Get(s1,0,0), float4x4(-0.134431615471840,-0.198812395334244,-0.198846176266670,-0.274681895971298,-0.123226955533028,-0.028247043490410,0.018751380965114,0.086560301482677,-0.212141707539558,0.147016629576683,-0.073455065488815,-0.082761861383915,-0.090570248663425,0.199151784181595,-0.034962341189384,-0.144145429134369));
res += mul(Get(s1,0,dy), float4x4(-0.261516302824020,-0.031192639842629,-0.006047310307622,0.176070809364319,-0.068615965545177,0.335729628801346,-0.001257463358343,-0.127212807536125,-0.248551219701767,0.324605733156204,-0.063739821314812,-0.252793699502945,0.038899749517441,-0.126644998788834,0.060735654085875,-0.005703098140657));
res += mul(Get(s1,dx,-dy), float4x4(-0.057372454553843,-0.263968408107758,-0.121234171092510,-0.153826907277107,0.178639099001884,-0.028445696458220,-0.076274722814560,0.016925420612097,-0.013172065839171,0.030590984970331,-0.041550066322088,0.135570853948593,-0.066502951085567,0.173735603690147,-0.138726592063904,-0.140498399734497));
res += mul(Get(s1,dx,0), float4x4(0.226412013173103,-0.080631956458092,-0.176966086030006,-0.372091263532639,-0.078537128865719,0.029076958075166,-0.120116367936134,0.091661378741264,-0.236004829406738,0.227315619587898,-0.119113907217979,0.046604622155428,-0.032136294990778,0.139756888151169,0.041424289345741,-0.094799406826496));
res += mul(Get(s1,dx,dy), float4x4(-0.053127959370613,0.130473747849464,-0.090078391134739,0.096255190670490,-0.106675282120705,0.105359159410000,-0.020073032006621,-0.158625364303589,-0.188114196062088,-0.014324923045933,-0.110129274427891,-0.262310713529587,0.186156809329987,-0.112637206912041,0.045810360461473,0.050443615764380));
res += mul(Get(s2,-dx,-dy), float4x4(0.036071676760912,0.112047627568245,-0.027629932388663,-0.172991260886192,0.172184124588966,-0.078526370227337,-0.102169811725616,-0.048899274319410,0.193241238594055,0.028756460174918,0.069547630846500,0.120074123144150,0.036743596196175,0.104894392192364,0.048803083598614,-0.110842518508434));
res += mul(Get(s2,-dx,0), float4x4(0.090834453701973,-0.061162479221821,-0.017837913706899,-0.057416401803493,-0.159452497959137,-0.001328435027972,-0.037280153483152,-0.190037116408348,0.203710779547691,-0.031598325818777,0.036011628806591,0.012237438000739,-0.053462434560061,0.037490814924240,0.029854953289032,-0.138954013586044));
res += mul(Get(s2,-dx,dy), float4x4(0.073940210044384,0.018335856497288,0.131634473800659,0.053625144064426,0.039986301213503,0.084113106131554,0.007474722806364,-0.015618153847754,-0.154770016670227,-0.038926638662815,-0.003917312249541,-0.228609159588814,0.032651573419571,-0.029971668496728,0.020583543926477,0.078873269259930));
res += mul(Get(s2,0,-dy), float4x4(-0.003376145847142,0.176237583160400,-0.164769485592842,-0.240390881896019,0.143003165721893,-0.245459809899330,0.133790597319603,0.284127116203308,0.138358056545258,-0.019223729148507,-0.016260497272015,0.009026985615492,0.030545197427273,-0.061616979539394,0.098271876573563,-0.104933559894562));
res += mul(Get(s2,0,0), float4x4(0.055467367172241,-0.050687819719315,-0.118343539535999,-0.143086746335030,-0.241998061537743,0.104867823421955,-0.086131028831005,0.054010443389416,0.176026135683060,-0.061442226171494,-0.130279749631882,0.249619454145432,-0.144584715366364,-0.056465420871973,0.208963856101036,-0.195354789495468));
res += mul(Get(s2,0,dy), float4x4(-0.062786921858788,0.018260430544615,0.228845432400703,0.052439536899328,0.081217296421528,0.015338408760726,0.028352769091725,-0.023195901885629,0.023929184302688,0.026538498699665,-0.026721429079771,-0.117472782731056,-0.087016858160496,0.011337247677147,0.202447429299355,-0.061372134834528));
res += mul(Get(s2,dx,-dy), float4x4(-0.030803468078375,0.073238566517830,-0.112079426646233,-0.225285097956657,0.063341774046421,-0.173576354980469,0.111168302595615,0.144257619976997,-0.104372091591358,-0.006283579394221,-0.068874731659889,0.049272917211056,0.072688929736614,0.036774270236492,-0.174947395920753,-0.077707588672638));
res += mul(Get(s2,dx,0), float4x4(-0.087280392646790,-0.017529143020511,0.006014631129801,-0.004051054827869,-0.143386155366898,0.147846668958664,0.042748004198074,0.121976733207703,0.002762483200058,0.086621470749378,-0.016425678506494,0.094203144311905,-0.033431846648455,0.020475246012211,0.007338029332459,-0.051396783441305));
res += mul(Get(s2,dx,dy), float4x4(-0.069869719445705,0.167322531342506,0.102639190852642,0.006896595004946,0.055294096469879,-0.108229748904705,0.140559703111649,0.105275698006153,0.038212630897760,0.189609497785568,0.166782304644585,-0.015805752947927,-0.031346775591373,0.068136125802994,0.109287515282631,-0.057784095406532));
res += mul(Get(s3,-dx,-dy), float4x4(0.300973832607269,-0.066946029663086,-0.072674378752708,0.065236568450928,-0.082482218742371,-0.096315987408161,0.070667214691639,-0.054705049842596,-0.019529873505235,-0.017845135182142,0.203741133213043,0.151836380362511,0.048406064510345,-0.100026704370975,0.160231754183769,-0.211556211113930));
res += mul(Get(s3,-dx,0), float4x4(-0.163672730326653,-0.104169942438602,0.035840954631567,0.056483615189791,-0.166484013199806,0.064617589116096,0.182682603597641,-0.126401990652084,0.146237343549728,-0.001781577477232,0.073781497776508,-0.142838165163994,-0.155917927622795,-0.048079825937748,0.081082135438919,-0.129412844777107));
res += mul(Get(s3,-dx,dy), float4x4(-0.163510456681252,-0.188806921243668,-0.082483284175396,-0.150853171944618,0.056250311434269,0.084750972688198,0.037756361067295,-0.128767251968384,0.043983440846205,0.136265784502029,0.019697064533830,-0.105381220579147,-0.255686730146408,0.029620960354805,-0.009774304926395,-0.322645336389542));
res += mul(Get(s3,0,-dy), float4x4(-0.072221398353577,-0.033544104546309,-0.058402255177498,0.114100590348244,-0.066212721168995,0.041252285242081,-0.148062601685524,-0.129317924380302,0.320499211549759,0.045082680881023,-0.149649411439896,-0.288052767515182,0.204482316970825,-0.100352026522160,-0.178894653916359,0.130733788013458));
res += mul(Get(s3,0,0), float4x4(-0.294877022504807,-0.226160958409309,-0.046266920864582,0.021131558343768,-0.158745467662811,-0.069593392312527,0.003697649342939,-0.094260789453983,-0.037454392760992,-0.191736355423927,-0.071587078273296,-0.106423258781433,0.083976089954376,-0.075142927467823,0.003294805530459,0.083628438413143));
res += mul(Get(s3,0,dy), float4x4(-0.230044007301331,-0.070933923125267,0.022957509383559,-0.173276975750923,0.072504654526711,-0.125601634383202,-0.226047337055206,-0.155669823288918,-0.230042219161987,-0.055520597845316,-0.046915665268898,-0.099352598190308,-0.043613210320473,-0.083426952362061,-0.019158311188221,-0.057831004261971));
res += mul(Get(s3,dx,-dy), float4x4(-0.099667057394981,0.045106556266546,0.006631427910179,-0.067116536200047,-0.052590847015381,0.187322273850441,0.073265135288239,-0.003087048185989,0.005725662689656,0.050171479582787,-0.101597376167774,-0.021668352186680,-0.111453212797642,0.103751212358475,0.020207157358527,-0.007797065656632));
res += mul(Get(s3,dx,0), float4x4(-0.349577635526657,-0.198367729783058,-0.024779416620731,-0.027160920202732,-0.209303677082062,-0.094171799719334,0.088025689125061,0.067504063248634,0.107294350862503,0.181562632322311,0.061562057584524,-0.155834794044495,-0.204435586929321,0.106141641736031,-0.034950308501720,-0.144364312291145));
res += mul(Get(s3,dx,dy), float4x4(-0.245966508984566,-0.091786339879036,-0.087994068861008,-0.155063092708588,-0.048216413706541,0.004308462608606,0.110218062996864,-0.065632089972496,-0.250203371047974,0.326412260532379,-0.105960763990879,-0.230643555521965,-0.163438796997070,0.293829590082169,-0.064427718520164,-0.182682350277901));
return max(float4(0,0,0,0), res);
}
