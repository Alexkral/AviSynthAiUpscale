sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.168633624911308,-0.126079991459846,0.148372352123260,0.014742605388165,-0.002728498773649,-0.066295370459557,0.183084562420845,0.077337056398392,0.089280165731907,0.156254366040230,0.035125516355038,0.232631444931030,0.037228897213936,0.070106364786625,0.126218020915985,-0.048027914017439));
res += mul(Get(s0,-dx,0), float4x4(0.047791048884392,-0.152621760964394,0.049813322722912,0.121891975402832,0.068767018616199,0.035955771803856,0.047457113862038,-0.167908713221550,0.173984467983246,-0.115501336753368,-0.162796080112457,0.066435337066650,-0.033810839056969,0.276048809289932,0.088379904627800,-0.218155920505524));
res += mul(Get(s0,-dx,dy), float4x4(-0.024287573993206,0.148680061101913,0.235807955265045,-0.024702845141292,-0.072697326540947,0.121935009956360,0.146222695708275,-0.135687142610550,0.014090009965003,0.090987220406532,-0.050835262984037,0.227695956826210,0.089055918157101,0.100778535008430,-0.249229758977890,-0.114263206720352));
res += mul(Get(s0,0,-dy), float4x4(0.059954587370157,-0.183237522840500,-0.104826003313065,0.099721960723400,-0.107032969594002,-0.053748138248920,-0.025751631706953,0.125450640916824,-0.074318908154964,0.197745248675346,-0.139145925641060,-0.110440865159035,-0.029639601707458,-0.027290241792798,-0.200996860861778,-0.035506282001734));
res += mul(Get(s0,0,0), float4x4(0.160491734743118,-0.043840672820807,0.049823805689812,-0.084382258355618,0.133366152644157,0.079450145363808,-0.154943838715553,-0.150396883487701,0.154915496706963,-0.057091183960438,-0.065226614475250,0.014893669635057,-0.030784599483013,-0.204365447163582,-0.088885903358459,-0.180132418870926));
res += mul(Get(s0,0,dy), float4x4(-0.069808550179005,0.152392387390137,0.003678194014356,0.194283783435822,-0.025235364213586,0.095332495868206,-0.100610136985779,-0.155026525259018,-0.019031083211303,0.116653300821781,0.090781725943089,-0.078509986400604,-0.181622877717018,0.029725231230259,-0.071831800043583,0.047396510839462));
res += mul(Get(s0,dx,-dy), float4x4(0.174410849809647,-0.203886181116104,-0.120222508907318,-0.137805044651031,-0.159322395920753,0.111232779920101,-0.120992764830589,-0.083987712860107,-0.069183774292469,0.021868748590350,0.201658546924591,-0.003607108490542,-0.135746940970421,0.018540639430285,-0.178809493780136,0.061035055667162));
res += mul(Get(s0,dx,0), float4x4(-0.093262784183025,0.225832849740982,-0.319746226072311,0.065241180360317,0.076424024999142,0.012132600881159,0.114406228065491,-0.126902133226395,-0.147386595606804,-0.022976428270340,0.057479031383991,-0.097944997251034,-0.018068214878440,-0.084224753081799,-0.063079506158829,-0.072353497147560));
res += mul(Get(s0,dx,dy), float4x4(-0.017984775826335,0.166192531585693,0.110765956342220,0.012155359610915,-0.214833915233612,0.066911913454533,-0.040212593972683,-0.093863949179649,-0.147731468081474,0.052072372287512,0.024304131045938,-0.151587277650833,-0.063595637679100,0.106223694980145,-0.066360235214233,-0.169990316033363));
res += mul(Get(s1,-dx,-dy), float4x4(0.200475335121155,0.020816890522838,0.146428287029266,0.006940933410078,-0.103984892368317,-0.174911499023438,0.007261416874826,-0.050391018390656,0.037143178284168,-0.069633029401302,0.068596385419369,0.041799426078796,-0.060573413968086,-0.104140609502792,0.132105946540833,-0.058260537683964));
res += mul(Get(s1,-dx,0), float4x4(-0.096376799046993,0.006223888136446,-0.081520199775696,0.010933794081211,0.152560755610466,0.005634292028844,-0.005598254967481,0.069050602614880,0.236771881580353,-0.016651958227158,-0.121663302183151,-0.203246414661407,-0.229723796248436,0.073815025389194,0.169428631663322,0.337366253137589));
res += mul(Get(s1,-dx,dy), float4x4(0.045684512704611,-0.090216837823391,-0.120360001921654,-0.180360242724419,-0.084688551723957,0.061309628188610,0.001904072472826,-0.122365795075893,0.261738777160645,-0.054386369884014,0.144644424319267,-0.164680421352386,0.036994304507971,0.073803074657917,0.067299105226994,-0.018158286809921));
res += mul(Get(s1,0,-dy), float4x4(0.026614833623171,-0.075032398104668,-0.014859639108181,0.049581915140152,-0.121956355869770,-0.083727620542049,0.122209370136261,-0.075259044766426,-0.016379199922085,-0.088785581290722,0.078100457787514,-0.066763237118721,-0.097504191100597,-0.128004893660545,-0.182246878743172,0.058682132512331));
res += mul(Get(s1,0,0), float4x4(-0.026198556646705,-0.061228435486555,-0.068708397448063,0.071265734732151,0.175695240497589,0.047123938798904,0.035084985196590,-0.023697374388576,0.031663015484810,0.212948530912399,0.055167187005281,0.008640254847705,-0.017906947061419,0.110018581151962,0.159103170037270,-0.100889779627323));
res += mul(Get(s1,0,dy), float4x4(0.045662377029657,-0.118096046149731,0.080223351716995,-0.164110094308853,0.110203914344311,0.158157244324684,-0.110288910567760,-0.079435728490353,0.129201874136925,-0.042703758925200,0.158379793167114,0.048904456198215,0.331850171089172,-0.003896437352523,0.026797693222761,-0.236027687788010));
res += mul(Get(s1,dx,-dy), float4x4(0.166573554277420,-0.020361080765724,0.008864402770996,0.107779487967491,-0.165501952171326,0.106090106070042,0.299465656280518,0.041768625378609,0.050329454243183,0.014934753067791,0.060768749564886,-0.105357989668846,0.058050785213709,0.021223669871688,0.011711734347045,0.096922867000103));
res += mul(Get(s1,dx,0), float4x4(-0.094693563878536,0.129824906587601,-0.154065862298012,-0.013805313035846,0.085092991590500,-0.190219804644585,0.042036142200232,-0.016298355534673,-0.048013523221016,0.056988291442394,-0.155028283596039,0.132794678211212,0.149280816316605,0.007389749400318,0.132143273949623,-0.247206568717957));
res += mul(Get(s1,dx,dy), float4x4(-0.044505219906569,-0.215934023261070,0.110066957771778,-0.205752924084663,-0.065973535180092,-0.084480628371239,0.118213199079037,-0.029810238629580,-0.044297590851784,-0.186291098594666,0.000216014028410,0.214817181229591,-0.116244331002235,-0.044337484985590,0.026576986536384,-0.003839052747935));
res += mul(Get(s2,-dx,-dy), float4x4(0.076052114367485,-0.221313938498497,-0.442276597023010,0.236122325062752,-0.085367389023304,0.018071658909321,-0.027673603966832,0.037129804491997,-0.105911388993263,-0.033335898071527,0.042337976396084,-0.187641084194183,0.010744308121502,0.012276634573936,-0.137629404664040,0.025761827826500));
res += mul(Get(s2,-dx,0), float4x4(-0.130521222949028,-0.055901423096657,-0.219825938344002,0.147695735096931,-0.052261292934418,0.044539678841829,-0.011808034963906,-0.040282011032104,-0.139159768819809,-0.076037473976612,-0.046350605785847,-0.106556773185730,0.019192518666387,-0.032816249877214,-0.078489951789379,0.071043215692043));
res += mul(Get(s2,-dx,dy), float4x4(0.003529915353283,-0.187843903899193,-0.142921194434166,0.062882259488106,-0.069363929331303,0.202074646949768,-0.085869863629341,0.019917640835047,-0.213572472333908,-0.058513488620520,0.058713458478451,-0.140086933970451,0.150872647762299,0.043129757046700,0.086909927427769,-0.141562342643738));
res += mul(Get(s2,0,-dy), float4x4(-0.022821322083473,-0.023186551406980,-0.177614256739616,0.005303445272148,0.161137640476227,-0.194370895624161,0.026726203039289,0.009281991049647,0.098925530910492,0.069181367754936,0.018230976536870,-0.295260906219482,-0.122157685458660,0.063986994326115,0.047869626432657,0.071535177528858));
res += mul(Get(s2,0,0), float4x4(0.117238402366638,0.013031931594014,0.012626659125090,0.074798554182053,0.007624909281731,0.088471993803978,-0.101114101707935,-0.121602177619934,-0.132512792944908,0.053149547427893,-0.034108825027943,0.250907689332962,-0.003219903446734,-0.070534169673920,0.048373714089394,0.149475291371346));
res += mul(Get(s2,0,dy), float4x4(0.040276393294334,0.004695197101682,-0.003859746968374,0.104165524244308,0.015483560971916,0.036114212125540,-0.009899307042360,0.230644524097443,-0.012906322255731,0.129470035433769,0.005879432428628,-0.075657159090042,0.123010136187077,-0.066572688519955,-0.064554244279861,-0.008177997544408));
res += mul(Get(s2,dx,-dy), float4x4(-0.176044777035713,-0.108890824019909,-0.101384989917278,-0.067210577428341,-0.108970202505589,0.045858811587095,0.122832953929901,-0.114022374153137,-0.002115799812600,0.036788739264011,0.066423043608665,0.103294186294079,0.044271174818277,-0.031588494777679,-0.102492839097977,-0.009239154867828));
res += mul(Get(s2,dx,0), float4x4(-0.111636318266392,0.104126773774624,0.128624603152275,-0.025579188019037,-0.018709223717451,-0.058488596230745,0.145957753062248,-0.027191229164600,-0.009295461699367,-0.014004877768457,0.084695473313332,0.020274417474866,-0.138522773981094,0.011718655005097,0.235559478402138,-0.107299968600273));
res += mul(Get(s2,dx,dy), float4x4(-0.038849156349897,-0.111655488610268,-0.102388910949230,-0.169631853699684,-0.004685109481215,0.081921026110649,-0.153018936514854,0.068278349936008,-0.088285535573959,-0.122475497424603,-0.079781740903854,-0.106680899858475,0.050681408494711,0.209695428609848,-0.025464151054621,0.108943097293377));
res += mul(Get(s3,-dx,-dy), float4x4(-0.279447823762894,-0.100662939250469,-0.081589393317699,-0.154589712619781,-0.044308997690678,0.069533772766590,-0.018230024725199,-0.097864419221878,-0.009938948787749,-0.062472008168697,-0.261852115392685,-0.269825011491776,-0.066797628998756,0.057350698858500,0.017497889697552,-0.171751573681831));
res += mul(Get(s3,-dx,0), float4x4(0.005389112513512,0.141935199499130,-0.056164525449276,0.138615891337395,0.133819177746773,-0.095086909830570,0.118607997894287,-0.066004745662212,0.048560712486506,-0.125357419252396,-0.169223263859749,0.027315452694893,-0.004958524834365,0.030280318111181,-0.044051654636860,0.173319160938263));
res += mul(Get(s3,-dx,dy), float4x4(0.253837555646896,-0.086138330399990,0.010291528888047,-0.084482774138451,-0.064321689307690,-0.096761979162693,0.176544278860092,0.130064010620117,0.115956887602806,-0.222377777099609,-0.055799841880798,-0.042265642434359,0.278429210186005,-0.031985215842724,0.079535871744156,0.125750929117203));
res += mul(Get(s3,0,-dy), float4x4(-0.034083373844624,0.153726100921631,-0.083902232348919,0.260665237903595,-0.052868995815516,0.028942761942744,-0.178589329123497,-0.053733419626951,-0.029579415917397,-0.028477665036917,-0.069778420031071,-0.053795933723450,-0.155591920018196,0.229195624589920,0.151574030518532,0.024562463164330));
res += mul(Get(s3,0,0), float4x4(0.080616645514965,0.030746284872293,-0.105145260691643,0.055879525840282,0.028399206697941,0.063155055046082,0.020083719864488,-0.009742451831698,0.094295777380466,0.023774957284331,0.120358377695084,-0.023381484672427,0.012442573904991,-0.172672659158707,0.057892408221960,0.130487188696861));
res += mul(Get(s3,0,dy), float4x4(0.027105798944831,-0.117227450013161,0.108047448098660,0.053616870194674,-0.135139673948288,-0.214538812637329,-0.036307547241449,0.040952086448669,-0.015748919919133,-0.160660162568092,-0.044051613658667,-0.026366708800197,0.013939964585006,0.026031451299787,-0.006549548357725,0.007715417537838));
res += mul(Get(s3,dx,-dy), float4x4(-0.057620320469141,-0.014750846661627,0.110600464046001,0.206649422645569,0.144785687327385,-0.004090460948646,0.044691506773233,0.115566357970238,0.087348222732544,0.092804871499538,0.003852917579934,-0.052622970193624,0.107750847935677,-0.064926624298096,0.008587804622948,-0.145116597414017));
res += mul(Get(s3,dx,0), float4x4(0.087023742496967,0.089382514357567,0.022489689290524,0.098188996315002,-0.192034050822258,0.261481970548630,0.023550957441330,0.054369423538446,-0.106197297573090,0.122082605957985,0.076502785086632,0.047022301703691,0.244779020547867,-0.082663200795650,0.140887677669525,-0.010063579306006));
res += mul(Get(s3,dx,dy), float4x4(0.251537919044495,0.047859549522400,-0.048160530626774,-0.142101615667343,-0.288446336984634,0.047760013490915,-0.056525185704231,0.032957855612040,-0.052471023052931,-0.093315385282040,0.027300370857120,0.127636790275574,0.166709169745445,0.061769101768732,-0.045667588710785,0.148607701063156));
return max(float4(0,0,0,0), res);
}
