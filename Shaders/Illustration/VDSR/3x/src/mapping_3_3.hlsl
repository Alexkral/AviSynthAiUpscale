sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.165707737207413,-0.347432971000671,-0.034241843968630,-0.104078345000744,0.122025221586227,-0.173894092440605,-0.109090633690357,-0.085937127470970,0.154355093836784,-0.267028242349625,-0.178505510091782,0.021383522078395,-0.028871495276690,-0.070141091942787,-0.160444170236588,-0.156964331865311));
res += mul(Get(s0,-dx,0), float4x4(0.126131922006607,-0.398710906505585,0.093028217554092,-0.107326894998550,-0.062705218791962,-0.018745737150311,0.257668673992157,-0.039276614785194,0.021722320467234,-0.178300082683563,0.058993656188250,0.022494245320559,0.194284841418266,0.355229914188385,-0.153371080756187,0.193094387650490));
res += mul(Get(s0,-dx,dy), float4x4(-0.020766487345099,-0.367998301982880,0.253084450960159,-0.188012287020683,0.072686001658440,0.028052041307092,-0.026489708572626,-0.140310615301132,-0.131206974387169,-0.093440994620323,0.150064095854759,0.253126174211502,0.101449891924858,0.036376561969519,-0.071813769638538,0.338015347719193));
res += mul(Get(s0,0,-dy), float4x4(0.000555917096790,-0.146140709519386,-0.149566516280174,0.137080997228622,-0.138928100466728,-0.051450718194246,-0.076892994344234,-0.180575996637344,-0.277629345655441,0.001827205996960,0.006806872785091,0.359317183494568,-0.080049574375153,0.056111782789230,0.325431048870087,-0.164352357387543));
res += mul(Get(s0,0,0), float4x4(-0.056779719889164,-0.084406040608883,-0.092795304954052,-0.039553385227919,-0.074241645634174,-0.012185178697109,0.135476067662239,-0.047662802040577,-0.097125239670277,-0.036677803844213,0.196240305900574,-0.143062248826027,-0.139650240540504,-0.110851295292377,-0.041086524724960,0.176407739520073));
res += mul(Get(s0,0,dy), float4x4(-0.109605342149734,-0.065899536013603,0.146889388561249,-0.115534633398056,0.022899260744452,0.076423324644566,0.115970052778721,-0.097785890102386,0.007262953091413,-0.102375052869320,0.121541470289230,-0.138676866889000,-0.148237615823746,0.016349205747247,-0.125107407569885,0.074116960167885));
res += mul(Get(s0,dx,-dy), float4x4(0.032715234905481,-0.102566085755825,-0.059462208300829,0.077034331858158,0.011621119454503,0.061378065496683,-0.067836917936802,0.039939150214195,-0.084573209285736,-0.182118698954582,0.015428775921464,-0.072960786521435,0.148114457726479,-0.060902927070856,0.185742601752281,0.008679771795869));
res += mul(Get(s0,dx,0), float4x4(0.107314020395279,-0.114388965070248,-0.111178934574127,-0.069747500121593,-0.054536566138268,-0.099048964679241,-0.036150790750980,-0.063384942710400,0.114011958241463,0.158114120364189,-0.069164313375950,-0.015368872322142,0.160927593708038,-0.216995790600777,-0.119787476956844,-0.027253307402134));
res += mul(Get(s0,dx,dy), float4x4(-0.029909573495388,-0.116333246231079,0.099136278033257,-0.165858224034309,-0.024136401712894,-0.115260779857635,-0.063813649117947,-0.194588199257851,0.048463046550751,-0.063830994069576,-0.171407893300056,0.047390431165695,-0.003204833716154,0.063739761710167,-0.144355311989784,-0.258791536092758));
res += mul(Get(s1,-dx,-dy), float4x4(0.078124105930328,0.133698195219040,0.003885825630277,0.189971536397934,-0.098075188696384,0.097334749996662,-0.113419085741043,-0.123222216963768,-0.281481713056564,-0.034554116427898,-0.395159184932709,-0.328007727861404,-0.097506672143936,-0.037771977484226,0.123424917459488,0.085575029253960));
res += mul(Get(s1,-dx,0), float4x4(0.257402926683426,-0.078141830861568,-0.022144235670567,0.005287788342685,-0.067692644894123,-0.022991366684437,-0.104412637650967,0.072871737182140,-0.046686563640833,0.184127315878868,-0.216601043939590,-0.183120325207710,0.080002948641777,0.034211929887533,-0.041013862937689,-0.181881666183472));
res += mul(Get(s1,-dx,dy), float4x4(0.202175050973892,0.048504892736673,-0.159145101904869,-0.001421563909389,0.068016164004803,-0.103581584990025,-0.099742896854877,0.056295122951269,-0.004923083819449,0.225515842437744,-0.155520647764206,-0.004031689837575,0.095926292240620,-0.102009430527687,0.162460103631020,-0.282361090183258));
res += mul(Get(s1,0,-dy), float4x4(-0.029030000790954,-0.037332374602556,0.090498775243759,0.136198788881302,0.266463458538055,0.026809686794877,-0.123871840536594,-0.090859614312649,-0.149869039654732,-0.128235712647438,0.047924820333719,-0.202963024377823,-0.145299896597862,0.112287744879723,-0.162684559822083,0.005410348996520));
res += mul(Get(s1,0,0), float4x4(0.116041719913483,0.222323715686798,0.113588839769363,0.131904765963554,0.170547336339951,0.145639732480049,-0.079753279685974,0.093264512717724,0.014622582122684,0.014548224397004,-0.186034277081490,-0.173917442560196,-0.049610983580351,-0.072334297001362,-0.004578793887049,-0.113482333719730));
res += mul(Get(s1,0,dy), float4x4(0.198444604873657,-0.072631850838661,0.178513392806053,-0.080097518861294,-0.147098720073700,0.100744210183620,0.168471068143845,0.062948755919933,0.010679681785405,0.135739713907242,0.090348504483700,0.186993047595024,-0.040782704949379,-0.062097717076540,-0.009029299020767,-0.017424033954740));
res += mul(Get(s1,dx,-dy), float4x4(-0.156473875045776,-0.100962191820145,-0.216829821467400,-0.084381647408009,0.027172831818461,-0.071873269975185,-0.074071325361729,0.046762794256210,-0.245271384716034,0.031898837536573,0.425631791353226,-0.015154701657593,-0.215176552534103,0.063131079077721,-0.156818762421608,-0.013034132309258));
res += mul(Get(s1,dx,0), float4x4(-0.147359728813171,0.000150580381160,-0.170440346002579,-0.256736785173416,0.075264275074005,0.295816779136658,-0.086265861988068,0.031859163194895,0.083453856408596,-0.020553341135383,-0.128906995058060,0.011730489321053,0.138804718852043,-0.069773137569427,-0.038933560252190,-0.027109719812870));
res += mul(Get(s1,dx,dy), float4x4(0.145953655242920,0.251246869564056,-0.153588235378265,-0.377540051937103,-0.223079279065132,0.019459202885628,0.072430863976479,0.063103780150414,-0.006050359923393,-0.149796575307846,0.065955385565758,0.034833274781704,0.028750848025084,-0.056839030236006,-0.122868150472641,-0.023434162139893));
res += mul(Get(s2,-dx,-dy), float4x4(-0.197661697864532,-0.058068297803402,0.255178421735764,0.050260789692402,0.016292020678520,0.062214113771915,0.064740099012852,-0.121757738292217,-0.018353806808591,-0.055279850959778,-0.023291332647204,0.008929201401770,0.109526760876179,0.241634160280228,0.114384360611439,0.201646327972412));
res += mul(Get(s2,-dx,0), float4x4(-0.231688618659973,-0.170719936490059,0.032290764153004,-0.217404738068581,-0.006987601984292,0.042953770607710,-0.036633700132370,-0.236557081341743,0.074446707963943,-0.095818683505058,-0.059518676251173,0.025507869198918,-0.038939699530602,0.004933169111609,-0.009163188748062,-0.058911900967360));
res += mul(Get(s2,-dx,dy), float4x4(-0.138313129544258,-0.071661613881588,-0.009203523397446,-0.172727465629578,-0.021647816523910,-0.054902780801058,-0.111504577100277,0.065236963331699,-0.003251545131207,-0.087628588080406,0.146836429834366,-0.118788711726665,-0.012091056443751,-0.052935887128115,-0.015156763605773,0.020130181685090));
res += mul(Get(s2,0,-dy), float4x4(-0.079531408846378,0.014063849113882,0.331189334392548,0.074587590992451,0.108539812266827,-0.020529631525278,-0.050291351974010,0.004650551360101,0.015014200471342,-0.006342919543386,-0.021617846563458,0.040491327643394,-0.116047494113445,-0.114582844078541,-0.080141209065914,0.090169146656990));
res += mul(Get(s2,0,0), float4x4(-0.201072737574577,0.011467283591628,0.019382633268833,0.035676773637533,0.119514107704163,-0.142241120338440,0.034798029810190,-0.129898816347122,0.185801506042480,-0.054857145994902,-0.055147979408503,0.030749274417758,-0.143103271722794,0.114587299525738,-0.163388922810555,-0.117355562746525));
res += mul(Get(s2,0,dy), float4x4(-0.117425329983234,0.056273229420185,0.034462571144104,-0.051552895456553,-0.004301629960537,-0.140679240226746,-0.020591005682945,0.135021194815636,-0.009696382097900,-0.053263228386641,0.037005320191383,-0.047332722693682,0.026932314038277,-0.056732717901468,0.110249511897564,-0.030404012650251));
res += mul(Get(s2,dx,-dy), float4x4(-0.021659806370735,-0.093608468770981,0.058678179979324,-0.078826621174812,0.036641035228968,-0.076461359858513,-0.121251925826073,-0.025028124451637,-0.148315623402596,-0.000933867064305,-0.050020840018988,-0.000441088312073,-0.066953502595425,-0.011385335586965,0.038245789706707,-0.074961327016354));
res += mul(Get(s2,dx,0), float4x4(-0.199741944670677,0.098285578191280,-0.006727881263942,-0.039479978382587,0.104667618870735,0.051423907279968,0.097388342022896,0.060408871620893,-0.081448115408421,0.061448059976101,-0.034540750086308,-0.027630360797048,-0.107581101357937,0.126119539141655,-0.117804490029812,-0.016054913401604));
res += mul(Get(s2,dx,dy), float4x4(-0.000483873795019,0.070633135735989,0.072125308215618,-0.031768430024385,-0.255851894617081,0.040502421557903,-0.092682756483555,0.122330427169800,-0.061780210584402,-0.049471590667963,0.056970253586769,-0.079415731132030,0.016836218535900,0.035315610468388,0.084118343889713,0.152480900287628));
res += mul(Get(s3,-dx,-dy), float4x4(0.214600920677185,-0.053185295313597,-0.061924356967211,-0.165122240781784,-0.134570553898811,0.007890329696238,0.071622610092163,0.011085479520261,0.047126810997725,-0.265604227781296,-0.101874016225338,-0.016906525939703,-0.074989490211010,0.056942250579596,-0.072252288460732,-0.085902243852615));
res += mul(Get(s3,-dx,0), float4x4(0.046410687267780,-0.065136767923832,-0.135504528880119,0.249002754688263,-0.093012668192387,-0.026968654245138,-0.131450578570366,-0.037881471216679,-0.052394594997168,0.020473226904869,-0.093241199851036,-0.037348870187998,-0.012264098040760,-0.192440956830978,0.115046247839928,-0.077703423798084));
res += mul(Get(s3,-dx,dy), float4x4(-0.142635866999626,0.154393523931503,-0.134204685688019,0.253261536359787,-0.110972993075848,-0.051553715020418,0.025434684008360,-0.066923692822456,0.034922219812870,0.058936994522810,-0.178424894809723,0.144354626536369,-0.102399066090584,-0.197516679763794,0.196048855781555,-0.319968968629837));
res += mul(Get(s3,0,-dy), float4x4(0.010378003120422,-0.085032127797604,-0.172181293368340,0.014695135876536,-0.026227056980133,-0.088976614177227,-0.089769601821899,0.021581534296274,-0.068299554288387,-0.082347892224789,-0.121356151998043,-0.026053337380290,0.024985708296299,0.025999967008829,-0.273638784885406,0.045602850615978));
res += mul(Get(s3,0,0), float4x4(-0.116913385689259,-0.055575948208570,-0.239583939313889,0.093898624181747,0.079609856009483,-0.088388919830322,0.015748146921396,-0.052685309201479,0.114153675734997,0.082151442766190,0.017066651955247,-0.094261810183525,0.364797621965408,-0.153446525335312,-0.083743721246719,0.015968292951584));
res += mul(Get(s3,0,dy), float4x4(-0.061945345252752,0.009700620546937,-0.189708709716797,0.051830980926752,-0.047665093094110,-0.082486666738987,-0.003192856209353,0.113874256610870,0.118081390857697,0.011911831796169,0.084393493831158,-0.011000919155777,0.034009188413620,-0.090577378869057,0.045338738709688,-0.139621213078499));
res += mul(Get(s3,dx,-dy), float4x4(-0.133222818374634,-0.124482266604900,-0.211343273520470,0.116440340876579,0.047309651970863,-0.070960260927677,-0.107564203441143,0.020518427714705,-0.288326352834702,0.095676667988300,-0.217152312397957,-0.013982449658215,-0.040037024766207,-0.032046239823103,-0.144452780485153,0.036869775503874));
res += mul(Get(s3,dx,0), float4x4(-0.106688961386681,-0.117233850061893,-0.236182481050491,-0.178134858608246,0.164429113268852,-0.127644419670105,0.319463223218918,0.049205865710974,-0.275933891534805,-0.047888498753309,0.023312807083130,-0.011791572906077,0.021669862791896,-0.097805246710777,-0.137643933296204,0.033073466271162));
res += mul(Get(s3,dx,dy), float4x4(-0.063841089606285,-0.089532099664211,-0.260127246379852,-0.184111163020134,-0.063945308327675,-0.117897018790245,-0.033786047250032,-0.079858176410198,-0.025415105745196,-0.064848780632019,0.295436710119247,0.174364522099495,-0.241421893239021,-0.053648576140404,-0.111411415040493,-0.192579627037048));
return max(float4(0,0,0,0), res);
}
