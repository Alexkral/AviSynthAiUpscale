sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.105073407292366,0.204038813710213,0.063018195331097,-0.085806876420975,-0.055689759552479,-0.064428895711899,0.110150329768658,0.035419929772615,-0.149443522095680,-0.017181079834700,-0.057778768241405,0.026281338185072,-0.199124723672867,0.018657362088561,-0.022780550643802,-0.108427815139294));
res += mul(Get(s0,-dx,0), float4x4(-0.121966913342476,0.220310524106026,-0.086359426379204,-0.222284629940987,0.102387152612209,0.022340137511492,-0.069673657417297,-0.138814762234688,0.072840288281441,0.082660175859928,-0.106104202568531,-0.254075437784195,0.193618044257164,0.058265529572964,0.062424637377262,-0.010517160408199));
res += mul(Get(s0,-dx,dy), float4x4(0.136018484830856,-0.040781445801258,-0.036532953381538,-0.097767800092697,-0.132505208253860,0.051314324140549,0.130848884582520,-0.019773244857788,0.079629369080067,0.266709268093109,-0.070182301104069,-0.168981388211250,-0.038049496710300,0.100260727107525,0.026583570986986,-0.010155744850636));
res += mul(Get(s0,0,-dy), float4x4(-0.064137704670429,-0.041480299085379,0.065755173563957,-0.200087457895279,0.050976522266865,-0.353771090507507,-0.084383621811867,0.144740268588066,-0.109994590282440,-0.126753106713295,-0.168232753872871,-0.022371556609869,0.110270746052265,0.031613711267710,-0.265416055917740,0.194377586245537));
res += mul(Get(s0,0,0), float4x4(-0.212974607944489,0.046773668378592,-0.289712160825729,0.132759928703308,0.101820982992649,-0.054415784776211,0.130091443657875,-0.085984885692596,-0.231944948434830,0.215375483036041,-0.002375810872763,-0.102959327399731,-0.069668076932430,-0.101202450692654,-0.085481077432632,0.057591866701841));
res += mul(Get(s0,0,dy), float4x4(0.200400769710541,0.086425237357616,-0.107295744121075,-0.158119961619377,-0.089406415820122,0.098134748637676,0.095076777040958,-0.096519522368908,0.168998181819916,0.067243315279484,-0.047892205417156,0.139696463942528,0.086955040693283,-0.058020319789648,-0.050767950713634,-0.082117445766926));
res += mul(Get(s0,dx,-dy), float4x4(-0.094698823988438,-0.107841156423092,-0.006389268208295,0.061722777783871,0.035901326686144,0.095484837889671,0.074426457285881,-0.032386969774961,-0.069090113043785,-0.072920598089695,-0.082058124244213,0.137663319706917,0.106446139514446,-0.080585226416588,-0.057929363101721,0.101488530635834));
res += mul(Get(s0,dx,0), float4x4(-0.175228908658028,-0.345944106578827,-0.092804782092571,0.242352932691574,-0.196033746004105,-0.087333828210831,-0.105026520788670,0.130590990185738,0.096759289503098,-0.094056978821754,0.102383971214294,-0.144337698817253,0.122692212462425,-0.067591778934002,-0.142053321003914,0.123716130852699));
res += mul(Get(s0,dx,dy), float4x4(-0.071968428790569,0.067515350878239,-0.255370646715164,0.203526616096497,0.079458251595497,-0.001617332221940,-0.020408608019352,0.059046890586615,-0.015138631686568,0.007394991349429,-0.141532242298126,0.027725137770176,0.079175025224686,0.024798439815640,-0.000285210611764,0.032797951251268));
res += mul(Get(s1,-dx,-dy), float4x4(0.005156589671969,0.071696862578392,-0.062509641051292,0.226194083690643,-0.011593502014875,0.180986791849136,0.083467729389668,0.022540010511875,0.015407242812216,0.078400246798992,0.023234440013766,0.113012425601482,0.017333822324872,0.045325893908739,-0.109735213220119,-0.103657238185406));
res += mul(Get(s1,-dx,0), float4x4(-0.012755516916513,0.026942931115627,0.077938899397850,-0.106412671506405,0.190887331962585,-0.075043477118015,-0.111230000853539,0.041318681091070,0.182174906134605,0.170357689261436,0.058301679790020,0.178442224860191,0.107258602976799,0.120379865169525,-0.038090661168098,0.042562715709209));
res += mul(Get(s1,-dx,dy), float4x4(0.048776801675558,-0.064549528062344,-0.073082983493805,-0.110364615917206,0.124572925269604,0.030388163402677,-0.078834570944309,0.064477160573006,-0.052372280508280,0.066083654761314,-0.035702217370272,-0.048850256949663,-0.245281770825386,0.119617611169815,-0.189531981945038,0.091167464852333));
res += mul(Get(s1,0,-dy), float4x4(-0.076320938766003,-0.035289257764816,0.060706377029419,-0.020391257479787,0.193403974175453,-0.112173654139042,0.061503320932388,0.007533708121628,0.026887917891145,0.098531194031239,0.269682735204697,-0.042737852782011,-0.078302860260010,-0.062417760491371,0.102289527654648,0.097572013735771));
res += mul(Get(s1,0,0), float4x4(0.004675544798374,0.086775869131088,-0.054543174803257,-0.256820857524872,0.031296052038670,-0.085077546536922,-0.052431918680668,-0.182944282889366,-0.020471496507525,0.099818244576454,0.022730233147740,0.124409921467304,-0.001670191413723,0.018925657495856,0.257602304220200,0.023736383765936));
res += mul(Get(s1,0,dy), float4x4(-0.084461905062199,0.045358050614595,-0.283052414655685,-0.117295756936073,0.105456262826920,-0.133843317627907,-0.126958087086678,-0.158319219946861,-0.049730848520994,0.223024517297745,-0.098543070256710,-0.059298966079950,0.022121297195554,0.027152273803949,0.102701283991337,-0.105700895190239));
res += mul(Get(s1,dx,-dy), float4x4(-0.205821469426155,0.151198342442513,-0.163714319467545,-0.110919348895550,-0.061201035976410,-0.121698252856731,-0.045234438031912,0.022239005193114,0.125666037201881,0.058726735413074,-0.101777926087379,0.265261054039001,0.195931419730186,-0.028463246300817,-0.034776598215103,0.005246307700872));
res += mul(Get(s1,dx,0), float4x4(-0.056710410863161,-0.066204078495502,-0.096369042992592,0.070995055139065,-0.022336628288031,0.020775848999619,-0.049728296697140,0.143955856561661,0.007922080345452,-0.154900327324867,0.040920983999968,0.067662641406059,-0.071023315191269,0.167929142713547,0.165713950991631,-0.224021524190903));
res += mul(Get(s1,dx,dy), float4x4(0.025611830875278,0.084107190370560,-0.107614770531654,0.035172477364540,-0.182296156883240,-0.022047067061067,0.097367443144321,0.098356239497662,0.109467305243015,0.020222771912813,-0.038283426314592,-0.092096172273159,-0.106793731451035,-0.234833732247353,0.043789077550173,0.057156577706337));
res += mul(Get(s2,-dx,-dy), float4x4(-0.031372670084238,0.101312622427940,-0.273361623287201,0.103873096406460,0.242456033825874,0.143273100256920,-0.033283606171608,0.069143883883953,0.114193305373192,-0.056886631995440,-0.019925069063902,-0.070824339985847,-0.156935289502144,-0.007042700890452,-0.158359989523888,-0.253071457147598));
res += mul(Get(s2,-dx,0), float4x4(0.122995115816593,0.143096700310707,-0.041681751608849,0.006168664433062,-0.111032664775848,-0.080411069095135,0.016845494508743,0.065971568226814,0.061549790203571,-0.085090830922127,-0.302829116582870,-0.122558794915676,-0.073976367712021,0.133741170167923,-0.004691104404628,-0.086247131228447));
res += mul(Get(s2,-dx,dy), float4x4(-0.003085723146796,-0.063545688986778,0.009855471551418,-0.095153279602528,-0.065641768276691,-0.016260577365756,-0.127083286643028,0.066407933831215,0.029912598431110,-0.072608239948750,-0.027237694710493,0.117602303624153,0.040110394358635,0.243482470512390,-0.136002779006958,-0.031508993357420));
res += mul(Get(s2,0,-dy), float4x4(0.142958775162697,0.046278752386570,0.057225793600082,0.257174909114838,-0.081875436007977,-0.124186046421528,-0.121215529739857,-0.054604176431894,0.111583486199379,-0.035764835774899,0.019588405266404,0.044528018683195,0.084845826029778,-0.065295994281769,0.106566511094570,-0.018538029864430));
res += mul(Get(s2,0,0), float4x4(-0.048608604818583,-0.078651182353497,-0.029911585152149,0.181899309158325,0.184176594018936,-0.138740718364716,0.002243563067168,0.140361815690994,0.011831426993012,0.141152113676071,0.008645072579384,0.254708290100098,-0.026041397824883,0.125354066491127,0.081637226045132,-0.083349429070950));
res += mul(Get(s2,0,dy), float4x4(0.054734814912081,-0.171868979930878,0.132499203085899,-0.045090224593878,-0.051237136125565,-0.041852600872517,0.110697217285633,0.003982414957136,0.008680609054863,0.035270337015390,-0.066587194800377,-0.034083288162947,0.065918527543545,-0.067627176642418,-0.015483940020204,-0.022922404110432));
res += mul(Get(s2,dx,-dy), float4x4(0.040060754865408,0.010762084275484,-0.139853641390800,-0.014094805344939,0.122408293187618,-0.106151461601257,0.108420424163342,-0.021530603989959,-0.096765108406544,0.036407720297575,-0.143362909555435,0.084618367254734,-0.029114190489054,-0.136864796280861,-0.008040292188525,-0.189775511622429));
res += mul(Get(s2,dx,0), float4x4(-0.183985427021980,0.118451565504074,0.250800460577011,0.194391638040543,-0.080469757318497,-0.060286134481430,0.271781146526337,-0.044919338077307,0.001257764175534,0.182659506797791,-0.044993992894888,0.013080280274153,0.018291326239705,-0.079174131155014,0.180943652987480,0.186907127499580));
res += mul(Get(s2,dx,dy), float4x4(0.071330651640892,-0.054218549281359,0.121507920324802,0.080241426825523,-0.147601857781410,-0.157497718930244,0.027172097936273,0.236178800463676,-0.138900384306908,0.112475141882896,0.247324809432030,0.048362478613853,0.013514946214855,-0.071499772369862,0.037289243191481,0.072712987661362));
res += mul(Get(s3,-dx,-dy), float4x4(-0.004625545348972,-0.184684440493584,-0.038603104650974,-0.094185888767242,0.071975119411945,0.220082342624664,-0.193539664149284,-0.141102865338326,-0.158022835850716,0.096684753894806,-0.268803805112839,-0.092227883636951,-0.089226864278316,0.069920755922794,-0.079004451632500,-0.089855715632439));
res += mul(Get(s3,-dx,0), float4x4(-0.104900144040585,-0.217711463570595,-0.014389907941222,-0.002793292282149,-0.074325866997242,0.022330677136779,-0.089305594563484,0.075404472649097,-0.049304883927107,0.084020905196667,0.087161846458912,-0.080648064613342,-0.030915023759007,-0.144662678241730,0.096531622111797,0.030970942229033));
res += mul(Get(s3,-dx,dy), float4x4(-0.002667677588761,-0.042037460952997,0.176623001694679,-0.000638789439108,0.223568126559258,0.170933946967125,0.088367693126202,0.183226868510246,-0.043748576194048,-0.047422274947166,-0.059097532182932,0.139236971735954,-0.160060971975327,0.027285153046250,0.039270434528589,0.053260948508978));
res += mul(Get(s3,0,-dy), float4x4(-0.185694798827171,0.046171050518751,0.009643316268921,0.047335699200630,0.072005838155746,-0.113122858107090,-0.080762267112732,-0.249976724386215,-0.103987276554108,0.012505688704550,0.007181655149907,-0.053226318210363,0.035250794142485,0.097799874842167,0.027852540835738,0.223941236734390));
res += mul(Get(s3,0,0), float4x4(0.036621812731028,0.084656000137329,-0.013566639274359,-0.125731557607651,0.005818452686071,0.015641700476408,0.048086475580931,0.009468002244830,0.204856276512146,-0.165933743119240,0.081407979130745,0.102135702967644,0.101593457162380,0.086819984018803,0.299179702997208,0.004165883176029));
res += mul(Get(s3,0,dy), float4x4(0.113276503980160,0.041951447725296,0.076831102371216,0.009392280131578,-0.130044803023338,-0.059148941189051,-0.022697033360600,-0.087104283273220,0.139612719416618,-0.104631908237934,-0.089798048138618,-0.021548811346292,-0.157863378524780,-0.163507238030434,0.084923706948757,0.035727888345718));
res += mul(Get(s3,dx,-dy), float4x4(0.030088549479842,0.016635805368423,-0.080613151192665,0.074942909181118,0.016987161710858,0.109904423356056,0.004659579601139,-0.163653105497360,0.102900944650173,-0.066184073686600,0.095441162586212,0.052582331001759,0.002551737707108,0.109208047389984,0.044787999242544,-0.090320266783237));
res += mul(Get(s3,dx,0), float4x4(0.120810478925705,0.045795772224665,-0.174655556678772,0.030811896547675,-0.127463698387146,-0.076408036053181,0.042798351496458,0.107018865644932,0.083820015192032,-0.077990591526031,0.025126624852419,-0.034702461212873,-0.169791445136070,0.030254257842898,-0.038983292877674,0.014332310296595));
res += mul(Get(s3,dx,dy), float4x4(0.011064872145653,0.168379813432693,0.058479830622673,0.072628557682037,-0.000276649865555,0.055536180734634,-0.071326687932014,0.183711677789688,0.026776382699609,-0.049003083258867,0.027852598577738,-0.002289275871590,0.027231765910983,0.236745387315750,0.209459468722343,0.249353200197220));
return max(float4(0,0,0,0), res);
}
