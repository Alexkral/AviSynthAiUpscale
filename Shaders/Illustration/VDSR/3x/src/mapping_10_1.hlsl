sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.081461206078529,-0.251890063285828,0.060123268514872,-0.053847763687372,0.318615853786469,-0.103218846023083,-0.116165690124035,0.163142427802086,-0.159327909350395,-0.009976509027183,0.056187514215708,0.039314303547144,-0.130954638123512,-0.122163198888302,0.110805779695511,-0.265826791524887));
res += mul(Get(s0,-dx,0), float4x4(-0.114158488810062,-0.103788226842880,-0.015749374404550,-0.159742742776871,-0.069195389747620,0.093914084136486,-0.165538832545280,-0.044129475951195,0.018355246633291,-0.026006171479821,-0.130372211337090,-0.110117301344872,-0.077070675790310,0.141232922673225,0.055217526853085,0.007073703221977));
res += mul(Get(s0,-dx,dy), float4x4(-0.014700648374856,-0.123401604592800,0.243086785078049,0.026810552924871,-0.028658553957939,-0.158466637134552,-0.094095245003700,0.009861100465059,0.052919298410416,0.018359119072556,0.174773588776588,-0.080812886357307,0.126764521002769,0.075202129781246,-0.219079613685608,-0.104999102652073));
res += mul(Get(s0,0,-dy), float4x4(0.003854171838611,-0.058612406253815,-0.097618035972118,0.005266723688692,0.349146425724030,0.019158272072673,0.139817729592323,0.042937200516462,0.012590929865837,-0.019029226154089,0.048129729926586,0.264411985874176,-0.136247187852859,-0.122417300939560,0.055250417441130,0.228801026940346));
res += mul(Get(s0,0,0), float4x4(-0.040680710226297,0.009026829153299,-0.053951490670443,0.171669617295265,-0.000502641312778,0.158084928989410,0.008244109340012,-0.023574734106660,0.091935113072395,0.022634824737906,0.045461695641279,-0.152117624878883,0.035091396421194,0.158945873379707,-0.048441708087921,-0.032777067273855));
res += mul(Get(s0,0,dy), float4x4(0.000612463103607,0.200219869613647,-0.092736683785915,0.132440730929375,-0.016563933342695,0.160337731242180,0.096928574144840,-0.141838073730469,0.043010041117668,-0.073804959654808,0.159603551030159,0.190020188689232,0.006235105916858,0.063093498349190,-0.164002105593681,-0.047016486525536));
res += mul(Get(s0,dx,-dy), float4x4(0.118175849318504,-0.002600851468742,0.026593571528792,0.052237160503864,0.215346276760101,-0.173219785094261,0.012655019760132,0.040158111602068,-0.005628193728626,0.104105405509472,0.139731615781784,0.212236836552620,-0.010632140561938,-0.009933385998011,-0.103899255394936,0.143472954630852));
res += mul(Get(s0,dx,0), float4x4(-0.030392695218325,0.043894924223423,0.009483198635280,0.220279261469841,-0.055637918412685,-0.057717878371477,-0.032071549445391,0.050684668123722,-0.034099046140909,0.156897470355034,0.025268549099565,0.149987488985062,0.062380079180002,-0.222935259342194,-0.126331657171249,-0.013158700428903));
res += mul(Get(s0,dx,dy), float4x4(0.023067662492394,0.085330083966255,-0.064593218266964,0.128799125552177,0.049355883151293,-0.065627545118332,-0.001153606339358,-0.082073830068111,-0.098077885806561,0.239307940006256,-0.065190285444260,0.087585285305977,-0.015914840623736,-0.145922511816025,-0.103354208171368,0.098009496927261));
res += mul(Get(s1,-dx,-dy), float4x4(0.004108148626983,-0.098914444446564,0.170266389846802,-0.057689864188433,0.030012592673302,-0.076249875128269,-0.096227794885635,-0.040724087506533,0.049696035683155,-0.007862772792578,0.157196253538132,-0.094923160970211,-0.120080500841141,0.040457390248775,-0.084966458380222,-0.012181018479168));
res += mul(Get(s1,-dx,0), float4x4(0.098996922373772,-0.138692498207092,0.095725186169147,0.096291758120060,0.118410825729370,-0.022133437916636,0.005473683122545,0.183705165982246,0.039762344211340,-0.036404117941856,0.214305937290192,-0.048920262604952,0.098109886050224,-0.013313009403646,0.020073028281331,0.010935866273940));
res += mul(Get(s1,-dx,dy), float4x4(0.249051734805107,-0.229867547750473,0.141769543290138,-0.092642441391945,0.126412108540535,-0.070782668888569,-0.137393414974213,-0.107358030974865,0.059581894427538,-0.013029154390097,0.049765281379223,-0.092942737042904,0.020789509639144,0.077298723161221,-0.022048134356737,0.160273715853691));
res += mul(Get(s1,0,-dy), float4x4(0.189145013689995,-0.086206413805485,-0.014115351252258,0.205385372042656,-0.068137347698212,-0.054087765514851,-0.052878241986036,-0.111610189080238,-0.077071100473404,0.122379116714001,0.017352787777781,0.012219505384564,-0.248443797230721,0.011245276778936,0.001339193782769,-0.083171986043453));
res += mul(Get(s1,0,0), float4x4(-0.002073131967336,-0.063935108482838,0.047921020537615,-0.112699113786221,-0.283702701330185,-0.107544846832752,0.125717341899872,0.107044048607349,0.072335913777351,-0.033925183117390,0.004549283534288,0.275607228279114,-0.129822492599487,0.111058786511421,0.003020697506145,0.006319633219391));
res += mul(Get(s1,0,dy), float4x4(0.005696947220713,-0.128836974501610,0.170845061540604,0.019473701715469,0.134133711457253,-0.080289445817471,0.000981842982583,-0.092708863317966,0.090510971844196,0.071421399712563,-0.035559218376875,0.146528512239456,-0.115946069359779,0.051748126745224,-0.023755611851811,-0.117197468876839));
res += mul(Get(s1,dx,-dy), float4x4(0.021644923835993,-0.052911378443241,-0.017935600131750,-0.046702150255442,-0.118081770837307,0.103457883000374,-0.132600963115692,-0.093227259814739,0.015338469296694,0.102411873638630,-0.160873189568520,0.032070476561785,-0.199538990855217,-0.042078554630280,0.018832312896848,0.077441975474358));
res += mul(Get(s1,dx,0), float4x4(-0.031676683574915,-0.116620540618896,0.061698164790869,-0.166836351156235,-0.202547952532768,0.182581275701523,0.051268529146910,0.139369875192642,-0.001024563913234,0.085685335099697,-0.030225269496441,-0.050939667969942,-0.230554044246674,0.045575223863125,-0.064932219684124,-0.090699143707752));
res += mul(Get(s1,dx,dy), float4x4(-0.030802251771092,0.005784199107438,-0.021460033953190,0.041156880557537,0.151775956153870,-0.068330101668835,-0.021443469449878,0.001521591213532,0.193225979804993,0.089889869093895,-0.002124560298398,-0.029265968129039,-0.091285295784473,0.084146432578564,-0.024231253191829,-0.061836600303650));
res += mul(Get(s2,-dx,-dy), float4x4(-0.154995769262314,0.038271449506283,-0.122019469738007,-0.160091072320938,-0.197839781641960,0.007210410200059,0.173409700393677,0.252263635396957,0.079405173659325,-0.101183988153934,-0.076199270784855,-0.299450725317001,-0.104498006403446,-0.017641823738813,0.024504385888577,-0.214754760265350));
res += mul(Get(s2,-dx,0), float4x4(-0.203403398394585,-0.013336012139916,-0.087138250470161,-0.120841018855572,-0.125358685851097,0.015692172572017,-0.029992625117302,-0.139368176460266,0.022966541349888,-0.140860080718994,-0.039298180490732,-0.194673120975494,-0.045104697346687,0.112446472048759,0.018234184011817,-0.127278655767441));
res += mul(Get(s2,-dx,dy), float4x4(-0.012986213900149,0.006590879056603,-0.145469456911087,-0.090450696647167,0.095902964472771,0.021945271641016,-0.026841234415770,0.023506209254265,-0.023301888257265,0.002263675443828,-0.169656157493591,-0.148142784833908,0.020798711106181,0.423134028911591,0.134738236665726,-0.044430099427700));
res += mul(Get(s2,0,-dy), float4x4(-0.051581822335720,0.050219990313053,-0.017662955448031,0.063290886580944,0.230906814336777,-0.141546338796616,-0.067104093730450,0.021418949589133,-0.178235784173012,-0.029609138146043,0.200923919677734,-0.147561237215996,-0.019211020320654,-0.173916324973106,0.036470912396908,-0.105495095252991));
res += mul(Get(s2,0,0), float4x4(0.005088637582958,-0.017317570745945,0.078543551266193,0.144038259983063,0.053262665867805,-0.116904802620411,-0.063737466931343,-0.143549829721451,0.080640777945518,-0.055067874491215,0.013041252270341,-0.042973235249519,-0.038967318832874,0.001935355132446,0.004956572316587,-0.037273447960615));
res += mul(Get(s2,0,dy), float4x4(0.211809560656548,0.033248469233513,-0.103042140603065,-0.173919573426247,0.006440839730203,0.043916240334511,-0.031878277659416,0.051917966455221,-0.036474157124758,-0.099028728902340,-0.063398987054825,0.083310782909393,-0.083002336323261,0.082519285380840,0.015607345849276,0.029626913368702));
res += mul(Get(s2,dx,-dy), float4x4(-0.218967273831367,-0.047037173062563,0.019201876595616,0.065712988376617,-0.049983698874712,-0.082057282328606,-0.080262184143066,0.027252145111561,-0.074956052005291,-0.096582271158695,-0.003898659721017,-0.100185871124268,-0.101115666329861,-0.156277105212212,-0.141429334878922,-0.055220581591129));
res += mul(Get(s2,dx,0), float4x4(-0.239422738552094,0.049694240093231,-0.123208016157150,0.136692300438881,-0.081118099391460,-0.052507609128952,-0.007704485207796,0.006731008179486,0.026968741789460,-0.090050429105759,0.012354325503111,-0.032991252839565,0.061403337866068,-0.093638084828854,-0.039780262857676,-0.133841410279274));
res += mul(Get(s2,dx,dy), float4x4(0.326679706573486,-0.013134316541255,-0.088903404772282,-0.120155125856400,-0.125664442777634,0.154737204313278,0.214931994676590,0.191893443465233,0.021388441324234,-0.132460281252861,0.059452217072248,0.108194276690483,0.046515382826328,-0.124396294355392,-0.009646549820900,0.064652211964130));
res += mul(Get(s3,-dx,-dy), float4x4(0.024383690208197,-0.178460016846657,-0.159351870417595,0.082745984196663,-0.083065085113049,0.064576156437397,0.134814992547035,-0.025649785995483,0.323966354131699,-0.138187244534492,-0.019805908203125,-0.023451047018170,-0.106422729790211,-0.160100415349007,0.340240746736526,-0.228686034679413));
res += mul(Get(s3,-dx,0), float4x4(-0.109319314360619,-0.136323064565659,-0.130075559020042,-0.274792313575745,-0.050666708499193,0.238762527704239,0.096038773655891,-0.095660850405693,-0.132975146174431,0.043715272098780,-0.161882668733597,-0.149093404412270,0.072857081890106,0.289119601249695,0.204155996441841,0.183386072516441));
res += mul(Get(s3,-dx,dy), float4x4(-0.046103622764349,-0.115459397435188,-0.045981213450432,-0.204176843166351,-0.217559173703194,0.031243897974491,-0.146530523896217,-0.063359074294567,0.017570560798049,-0.017407592386007,-0.032538633793592,0.093036361038685,-0.085277512669563,0.223133459687233,0.328479200601578,-0.144667327404022));
res += mul(Get(s3,0,-dy), float4x4(-0.018657952547073,-0.081234268844128,-0.032720554620028,0.082421518862247,-0.014895766973495,-0.052604522556067,-0.053092319518328,-0.022987404838204,0.093645274639130,-0.069728069007397,0.148685485124588,0.062494665384293,-0.034069754183292,-0.147718682885170,0.106895901262760,-0.042459320276976));
res += mul(Get(s3,0,0), float4x4(-0.109170176088810,-0.056565411388874,-0.182085737586021,-0.141743898391724,-0.160118684172630,-0.055109992623329,-0.094218626618385,-0.096521303057671,0.048621959984303,0.208803653717041,-0.010357575491071,0.034302771091461,-0.028924455866218,0.011338504962623,0.084608584642410,0.071738824248314));
res += mul(Get(s3,0,dy), float4x4(-0.080268166959286,0.013776209205389,-0.118624113500118,0.002637567464262,-0.190513983368874,0.286160111427307,-0.164798229932785,-0.262102246284485,-0.073814220726490,-0.061973299831152,-0.016422217711806,0.186523407697678,0.096495166420937,0.034225121140480,0.063986174762249,-0.182669878005981));
res += mul(Get(s3,dx,-dy), float4x4(-0.083600252866745,-0.065420791506767,0.022993426769972,-0.061313614249229,0.263233423233032,-0.104283146560192,-0.154853388667107,0.057964004576206,-0.078432716429234,-0.157028108835220,0.484928488731384,-0.021076224744320,0.050752732902765,-0.086394891142845,-0.145393699407578,-0.117348887026310));
res += mul(Get(s3,dx,0), float4x4(-0.013863994739950,-0.106015652418137,-0.099452890455723,-0.183449640870094,0.042302202433348,0.076422922313213,-0.107931025326252,0.063792444765568,0.138065129518509,0.040621951222420,0.000897051766515,-0.065307177603245,0.055758796632290,-0.045362770557404,-0.069874487817287,0.121605411171913));
res += mul(Get(s3,dx,dy), float4x4(-0.045755509287119,0.039826303720474,0.006453380454332,0.446249157190323,0.001236456213519,0.093149214982986,-0.057378381490707,0.207777291536331,0.096348270773888,-0.104899279773235,0.180208995938301,-0.065618485212326,0.068775825202465,-0.144164502620697,-0.031769771128893,-0.051554176956415));
return max(float4(0,0,0,0), res);
}
