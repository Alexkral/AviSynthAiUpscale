sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.106149964034557,0.054767102003098,-0.028696399182081,0.006964649539441,0.107999250292778,0.044514305889606,0.216608926653862,0.007303255610168,-0.046281930059195,-0.072588883340359,-0.058527261018753,0.107480943202972,-0.120175041258335,-0.141784593462944,-0.151369705796242,0.024771802127361));
res += mul(Get(s0,-dx,0), float4x4(-0.096981950104237,0.207320436835289,0.053802557289600,-0.093920893967152,0.305363357067108,-0.005297096446157,-0.055597979575396,0.008655227720737,-0.182017281651497,0.118262216448784,-0.055890679359436,0.086080975830555,-0.069131083786488,-0.152302294969559,0.149783611297607,-0.129236429929733));
res += mul(Get(s0,-dx,dy), float4x4(-0.022636957466602,0.084397912025452,0.141026824712753,-0.100394584238529,-0.057097699493170,-0.070959113538265,0.034168813377619,-0.009475886821747,-0.140148952603340,-0.019439700990915,-0.042036205530167,-0.031985037028790,0.091105543076992,-0.052444983273745,-0.125093251466751,0.296090632677078));
res += mul(Get(s0,0,-dy), float4x4(-0.194320589303970,0.095096558332443,-0.048712793737650,0.031663149595261,0.091979965567589,0.026303106918931,0.039952117949724,0.008624492213130,0.150005653500557,0.104408726096153,-0.072690978646278,-0.029341585934162,-0.037070449441671,-0.097736522555351,-0.270497798919678,0.042015850543976));
res += mul(Get(s0,0,0), float4x4(0.004299823194742,-0.035178497433662,0.149137839674950,0.091656878590584,-0.020672399550676,-0.080530345439911,-0.059144161641598,0.067700803279877,0.039474792778492,-0.034605327993631,-0.254894375801086,-0.061857122927904,-0.084708668291569,-0.014567136764526,0.005675807129592,-0.004084921907634));
res += mul(Get(s0,0,dy), float4x4(-0.017144488170743,0.099655330181122,0.177630513906479,0.013580691069365,0.177440345287323,-0.117608390748501,0.095842115581036,0.046267490833998,-0.066741883754730,-0.045228626579046,0.167354539036751,-0.056703913956881,0.119727060198784,0.053153455257416,0.066183723509312,0.323754817247391));
res += mul(Get(s0,dx,-dy), float4x4(-0.145605638623238,0.061554465442896,-0.105767019093037,-0.011989951133728,0.083351679146290,-0.032062180340290,0.011696505360305,-0.143910855054855,0.009897761046886,0.061831053346395,-0.120874211192131,-0.020571421831846,0.052224785089493,0.139600917696953,-0.259553343057632,0.172232955694199));
res += mul(Get(s0,dx,0), float4x4(-0.149284273386002,-0.062913514673710,-0.001460937666707,0.023381084203720,0.113191500306129,-0.064704962074757,0.011787112802267,0.110667645931244,0.003963181283325,-0.003005271544680,-0.200494349002838,-0.088801935315132,0.055023599416018,0.611539423465729,-0.094734244048595,-0.005134506151080));
res += mul(Get(s0,dx,dy), float4x4(-0.196897402405739,-0.104109354317188,0.180672749876976,0.123697422444820,0.309765756130219,0.037420250475407,0.032889045774937,0.021236155182123,-0.176951512694359,-0.149137154221535,0.091380119323730,-0.056664507836103,-0.060238558799028,0.153798371553421,0.106890819966793,-0.128638863563538));
res += mul(Get(s1,-dx,-dy), float4x4(-0.089353896677494,-0.001235687872395,-0.031856600195169,-0.078872539103031,-0.066126443445683,0.078317940235138,-0.089923746883869,-0.101726301014423,0.384995490312576,-0.041113622486591,-0.023226004093885,0.081042438745499,0.039046645164490,0.028456518426538,-0.061670042574406,0.189355760812759));
res += mul(Get(s1,-dx,0), float4x4(-0.085437260568142,0.005142614711076,-0.056539881974459,-0.072241410613060,-0.092020295560360,0.141996204853058,-0.143671348690987,-0.238829046487808,0.390086323022842,0.031868822872639,-0.061217159032822,0.067579582333565,0.072708174586296,-0.143617808818817,0.045275744050741,0.119725592434406));
res += mul(Get(s1,-dx,dy), float4x4(0.061944331973791,-0.040442321449518,-0.124707333743572,-0.233902335166931,0.016342340037227,-0.000265365961241,-0.237153351306915,-0.327617764472961,-0.037553586065769,-0.167667582631111,0.131225138902664,0.034229997545481,0.258628964424133,-0.239289879798889,0.237366765737534,0.037935443222523));
res += mul(Get(s1,0,-dy), float4x4(0.082178235054016,-0.035657964646816,-0.113533996045589,0.179787993431091,0.069736190140247,-0.022610567510128,-0.101759605109692,0.012289217673242,-0.173008412122726,-0.114189736545086,0.095817655324936,0.026227593421936,-0.093934804201126,0.033413711935282,0.146522834897041,0.042156014591455));
res += mul(Get(s1,0,0), float4x4(-0.077828645706177,0.002222786424682,0.044588595628738,-0.069651372730732,0.032970376312733,0.138637915253639,-0.080178104341030,0.083427056670189,-0.020558940246701,-0.051443584263325,-0.009783843532205,-0.045214202255011,-0.017899777740240,-0.048884529620409,0.094115503132343,0.240244850516319));
res += mul(Get(s1,0,dy), float4x4(0.014654103666544,0.150100842118263,-0.058315075933933,-0.230728492140770,-0.133773162961006,-0.090985499322414,-0.164187595248222,-0.119870372116566,-0.075450845062733,-0.130635306239128,0.187915429472923,-0.077644728124142,-0.122500382363796,-0.093512088060379,-0.031265575438738,-0.064085163176060));
res += mul(Get(s1,dx,-dy), float4x4(0.265711426734924,0.085547655820847,-0.140031263232231,0.226786598563194,0.526111006736755,-0.006852076388896,-0.016786547377706,-0.121634192764759,0.058603435754776,0.007695831824094,-0.000701600336470,0.306501001119614,0.012741787359118,-0.083188563585281,0.094738222658634,-0.086207926273346));
res += mul(Get(s1,dx,0), float4x4(-0.038810446858406,0.283529996871948,0.011455025523901,-0.111753180623055,0.196699157357216,0.178967267274857,0.009782883338630,-0.052571278065443,-0.022395484149456,-0.109988600015640,0.011312286369503,-0.071435943245888,-0.192500367760658,-0.084198974072933,0.272447705268860,0.193278834223747));
res += mul(Get(s1,dx,dy), float4x4(0.090858489274979,0.045440692454576,0.033549867570400,0.030690720304847,-0.099967278540134,-0.167547196149826,-0.094313248991966,-0.101084023714066,0.082795046269894,-0.195583388209343,-0.002881284337491,0.045997656881809,-0.055729638785124,-0.082209482789040,0.330322057008743,-0.239094480872154));
res += mul(Get(s2,-dx,-dy), float4x4(0.063985019922256,-0.017079139128327,-0.030090395361185,-0.057467777282000,-0.224044963717461,-0.020452674478292,-0.071733839809895,0.125553652644157,-0.034158010035753,0.005309849511832,-0.031461153179407,0.009791298769414,-0.179135918617249,-0.187419846653938,-0.193246424198151,0.023781027644873));
res += mul(Get(s2,-dx,0), float4x4(0.080741576850414,0.008161057718098,-0.113408096134663,-0.040452625602484,-0.060715027153492,-0.037356898188591,-0.062495071440935,0.131284981966019,-0.186227664351463,-0.172748848795891,0.099834658205509,0.008103499189019,-0.134135559201241,-0.083154410123825,-0.005558936391026,0.004869672935456));
res += mul(Get(s2,-dx,dy), float4x4(0.199792459607124,0.070035547018051,0.135029837489128,-0.121802501380444,-0.074247263371944,0.014010695740581,0.027481263503432,-0.149493768811226,-0.125410169363022,0.234831348061562,0.031837962567806,0.033409249037504,-0.098834723234177,0.021725917235017,0.085570469498634,0.035502880811691));
res += mul(Get(s2,0,-dy), float4x4(0.132632002234459,-0.186966389417648,-0.100203551352024,-0.057903788983822,-0.035886209458113,0.039288215339184,-0.219611957669258,-0.047588255256414,0.296752452850342,-0.035464055836201,-0.092976592481136,-0.017167882993817,0.056435797363520,-0.183773130178452,-0.136355265974998,-0.150711983442307));
res += mul(Get(s2,0,0), float4x4(0.093315482139587,0.015967886894941,-0.174796178936958,-0.078012943267822,0.226328536868095,-0.071577802300453,-0.057872317731380,-0.029144797474146,0.217224061489105,-0.050497785210609,0.062555894255638,-0.129828393459320,0.007575300522149,-0.001866686157882,0.144386023283005,-0.064497373998165));
res += mul(Get(s2,0,dy), float4x4(0.046485435217619,-0.059615697711706,-0.049997013062239,-0.101585425436497,0.034247279167175,-0.015405549667776,0.058606587350368,0.100883118808270,0.132573187351227,0.278285562992096,0.082697808742523,-0.011618667282164,-0.100609116256237,0.070734605193138,0.059408023953438,-0.047186519950628));
res += mul(Get(s2,dx,-dy), float4x4(0.144996911287308,-0.001247164793313,0.053712118417025,-0.074325434863567,-0.111205928027630,-0.056860934942961,-0.310418337583542,-0.132964864373207,0.197063013911247,-0.223053187131882,-0.072320953011513,0.164935484528542,-0.036006368696690,-0.191569462418556,-0.248002871870995,-0.157932206988335));
res += mul(Get(s2,dx,0), float4x4(0.126326844096184,-0.172405213117599,-0.066189095377922,-0.013811360113323,-0.017695711925626,-0.116729132831097,-0.142866581678391,-0.089287690818310,0.042150605469942,0.166635483503342,-0.030305195599794,-0.071654967963696,0.201598659157753,-0.117941103875637,-0.124912545084953,-0.163479357957840));
res += mul(Get(s2,dx,dy), float4x4(0.017296701669693,-0.039484169334173,0.055525634437799,0.027696965262294,-0.060595441609621,-0.226240620017052,-0.065394908189774,-0.038786519318819,-0.110453791916370,0.055293478071690,0.055451672524214,0.072731316089630,-0.233107849955559,0.371794074773788,0.008236800320446,-0.015312891453505));
res += mul(Get(s3,-dx,-dy), float4x4(-0.079593464732170,-0.139543816447258,0.181029573082924,0.221001967787743,-0.040345348417759,0.049841281026602,-0.078715801239014,0.121950283646584,-0.025375960394740,-0.022041201591492,0.157204955816269,-0.068332456052303,0.258186787366867,-0.037360794842243,-0.207334309816360,-0.013441837392747));
res += mul(Get(s3,-dx,0), float4x4(-0.048093713819981,-0.109049342572689,-0.021605236455798,0.015239127911627,-0.121674492955208,0.168570697307587,-0.059355292469263,-0.077688246965408,-0.064623445272446,-0.051241930574179,-0.049743223935366,0.000899020116776,-0.049725834280252,-0.061770696192980,0.029371405020356,-0.029365532100201));
res += mul(Get(s3,-dx,dy), float4x4(0.047326274216175,-0.095338761806488,0.115328907966614,0.116642609238625,-0.182725295424461,0.157892853021622,-0.112504392862320,-0.134663835167885,-0.010678784921765,-0.279448866844177,0.019595608115196,0.071892000734806,-0.213572800159454,0.008143764920533,-0.128328174352646,0.115790799260139));
res += mul(Get(s3,0,-dy), float4x4(-0.098588697612286,-0.010162397287786,-0.082974649965763,-0.094927847385406,-0.062285032123327,0.007044369820505,-0.018433945253491,0.097248002886772,0.010186741128564,0.107344210147858,0.144873633980751,-0.051482737064362,0.117364205420017,-0.138801008462906,0.031220447272062,-0.075048595666885));
res += mul(Get(s3,0,0), float4x4(-0.078546009957790,-0.042971126735210,0.000912534771487,-0.146338328719139,0.057725705206394,-0.097347587347031,-0.066131375730038,-0.048576988279819,-0.002873805584386,0.002892736112699,0.250116676092148,0.053094584494829,0.098933801054955,-0.037209343165159,0.510333597660065,-0.077952302992344));
res += mul(Get(s3,0,dy), float4x4(0.037378907203674,-0.115789569914341,0.088928282260895,-0.085497386753559,0.021465254947543,0.014508627355099,-0.052233599126339,-0.133072763681412,0.066115073859692,-0.113360151648521,0.029565688222647,0.045376483350992,-0.113091655075550,0.086048051714897,-0.121840402483940,0.061770133674145));
res += mul(Get(s3,dx,-dy), float4x4(-0.052750725299120,0.074919946491718,0.148475438356400,0.113343439996243,-0.083978444337845,-0.202283069491386,-0.051757764071226,-0.013652900233865,0.057510107755661,0.020278088748455,-0.125476732850075,-0.117583781480789,-0.106983892619610,-0.072328299283981,0.043951138854027,0.160127982497215));
res += mul(Get(s3,dx,0), float4x4(-0.065217830240726,0.076195247471333,-0.078220389783382,0.050215672701597,-0.103917479515076,-0.135039791464806,-0.176036342978477,-0.077402524650097,0.054986555129290,-0.083893649280071,0.206792667508125,-0.043151125311852,0.072319574654102,0.103234983980656,0.185978487133980,0.285286039113998));
res += mul(Get(s3,dx,dy), float4x4(-0.037673126906157,0.186472788453102,0.059409223496914,0.154758796095848,-0.154323518276215,-0.238476425409317,0.031629808247089,-0.124626867473125,0.010024451650679,-0.144260063767433,-0.088613033294678,-0.144033461809158,0.028798045590520,0.100518889725208,-0.112352550029755,0.288768708705902));
return max(float4(0,0,0,0), res);
}
