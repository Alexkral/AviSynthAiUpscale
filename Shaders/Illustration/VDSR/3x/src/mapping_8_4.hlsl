sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.072719745337963,0.017203485593200,0.122300408780575,0.081465639173985,-0.138559833168983,-0.157256856560707,0.022098163142800,-0.082241810858250,0.133816152811050,0.113629564642906,0.050933279097080,-0.096527218818665,0.029576910659671,-0.009254313074052,0.052211735397577,-0.021207645535469));
res += mul(Get(s0,-dx,0), float4x4(-0.264503657817841,-0.117443405091763,0.042003303766251,0.213672369718552,0.133010953664780,0.042958516627550,-0.114277787506580,-0.154344350099564,-0.156626895070076,-0.022396873682737,-0.048906940966845,0.113035120069981,-0.132190644741058,0.073200747370720,0.045267693698406,0.015004605986178));
res += mul(Get(s0,-dx,dy), float4x4(0.104440562427044,0.154699608683586,0.087785080075264,0.057712160050869,-0.038841459900141,-0.061057373881340,0.001319401082583,-0.110128208994865,0.187393873929977,-0.129955112934113,0.309240251779556,-0.044010214507580,-0.136232793331146,-0.029854444786906,-0.095270343124866,-0.129442736506462));
res += mul(Get(s0,0,-dy), float4x4(-0.185253635048866,0.052550200372934,0.014291476458311,-0.105260930955410,-0.248673781752586,0.070051029324532,-0.024921387434006,0.094182662665844,-0.062881998717785,0.068116337060928,-0.047507286071777,0.007439143490046,-0.082864582538605,0.066697098314762,-0.113192655146122,0.189041480422020));
res += mul(Get(s0,0,0), float4x4(-0.216955184936523,-0.026288885623217,-0.133993044495583,-0.107734076678753,0.142853558063507,0.040250554680824,0.075781002640724,0.026668624952435,-0.012206200510263,0.088147900998592,-0.006573093123734,0.306658864021301,-0.035324100404978,0.104387693107128,-0.138495340943336,0.079497709870338));
res += mul(Get(s0,0,dy), float4x4(-0.026227710768580,0.096114531159401,-0.249052733182907,-0.059212606400251,-0.124411463737488,-0.107054874300957,-0.076648555696011,-0.110076121985912,0.061717908829451,0.108045518398285,0.232970431447029,0.033701553940773,0.210361078381538,0.179082453250885,-0.088110342621803,-0.132757291197777));
res += mul(Get(s0,dx,-dy), float4x4(0.137504890561104,-0.125178202986717,0.285774946212769,0.096938267350197,-0.127334281802177,0.127647981047630,0.285896331071854,-0.205906897783279,0.143187224864960,-0.086748391389847,0.193018928170204,-0.081057526171207,-0.087142296135426,-0.282655477523804,-0.028036968782544,0.013395794667304));
res += mul(Get(s0,dx,0), float4x4(0.183348953723907,-0.019488520920277,0.143285855650902,0.060298722237349,-0.196717754006386,0.090810939669609,-0.115683548152447,-0.062849782407284,-0.105794452130795,-0.035710122436285,-0.121630780398846,0.022570235654712,0.415257036685944,-0.114867769181728,-0.113425888121128,-0.035794455558062));
res += mul(Get(s0,dx,dy), float4x4(0.159949094057083,0.008807566016912,0.083203047513962,0.048725232481956,-0.071547552943230,0.045189075171947,0.076927937567234,-0.129615530371666,0.197524324059486,0.118428148329258,0.150222331285477,-0.131121203303337,-0.213003441691399,0.129889070987701,0.109071329236031,0.108155012130737));
res += mul(Get(s1,-dx,-dy), float4x4(-0.030405580997467,0.090704567730427,0.001103828195482,-0.128973841667175,0.063596107065678,-0.156274154782295,0.081456236541271,-0.140278428792953,0.075007691979408,-0.151731774210930,0.127790674567223,-0.008951755240560,0.050400439649820,-0.128016978502274,-0.003708318341523,-0.133618608117104));
res += mul(Get(s1,-dx,0), float4x4(-0.055399276316166,-0.163642838597298,0.044446442276239,-0.031302429735661,-0.107669018208981,-0.108990617096424,0.274454176425934,0.046991359442472,-0.078604646027088,-0.112420804798603,0.100548595190048,0.200117677450180,0.034155055880547,-0.070294924080372,-0.086036905646324,0.262538224458694));
res += mul(Get(s1,-dx,dy), float4x4(0.001515887212008,-0.027033843100071,-0.106285892426968,-0.108884036540985,0.156429812312126,0.112141169607639,-0.029388241469860,-0.089596100151539,-0.143738523125648,-0.092690281569958,-0.314182877540588,0.057568386197090,-0.023500449955463,-0.190347880125046,-0.142793983221054,-0.020680507645011));
res += mul(Get(s1,0,-dy), float4x4(0.037913989275694,-0.264991849660873,0.060574136674404,-0.077754989266396,-0.081970751285553,0.006386686582118,-0.068121634423733,0.084225259721279,0.146742999553680,-0.283991515636444,-0.050747208297253,0.021663013845682,-0.008247234858572,0.126833513379097,-0.124287486076355,0.119505584239960));
res += mul(Get(s1,0,0), float4x4(-0.104761637747288,0.025871334597468,-0.240131214261055,-0.206547766923904,-0.015449230559170,0.093901425600052,0.269107133150101,0.061144612729549,0.073184780776501,-0.177665695548058,-0.024923948571086,0.117386698722839,-0.130839541554451,-0.099205777049065,0.144816532731056,0.132903844118118));
res += mul(Get(s1,0,dy), float4x4(0.035115864127874,-0.006260175723583,-0.031284485012293,0.007890501059592,0.064498431980610,0.033643897622824,0.027828723192215,0.182040855288506,0.067922860383987,-0.156501218676567,-0.110569976270199,0.136962428689003,0.042463906109333,-0.311711072921753,-0.231710970401764,0.106324829161167));
res += mul(Get(s1,dx,-dy), float4x4(-0.228897050023079,-0.034540168941021,0.016815280541778,0.024936897680163,-0.008396482095122,-0.023947922512889,0.113911606371403,-0.054335139691830,0.174050658941269,-0.031298935413361,-0.116115368902683,-0.099875800311565,-0.027486214414239,-0.110240429639816,0.157061055302620,-0.016954921185970));
res += mul(Get(s1,dx,0), float4x4(-0.118760459125042,-0.057251725345850,0.205728918313980,-0.079290524125099,0.233065277338028,-0.053230877965689,0.025334263220429,0.074247702956200,0.109251573681831,-0.060387894511223,-0.051270168274641,-0.220040440559387,0.227355867624283,0.019095705822110,0.076486438512802,-0.009356367401779));
res += mul(Get(s1,dx,dy), float4x4(0.169075071811676,-0.079959265887737,-0.027650574222207,-0.127356871962547,0.008344089612365,-0.167375028133392,0.036718744784594,0.282784670591354,-0.092028446495533,-0.051573567092419,-0.138705641031265,0.017539666965604,0.171987846493721,-0.166532352566719,0.065912842750549,-0.018468866124749));
res += mul(Get(s2,-dx,-dy), float4x4(-0.058300446718931,-0.049959830939770,-0.063752733170986,0.090217918157578,-0.008034379221499,-0.139441162347794,-0.181487500667572,-0.062648333609104,0.122988753020763,-0.005175075493753,-0.070579610764980,0.051644839346409,-0.147014081478119,0.226585522294044,-0.090157732367516,-0.025995004922152));
res += mul(Get(s2,-dx,0), float4x4(-0.098578765988350,0.013736049644649,0.052097655832767,0.048742838203907,-0.099110454320908,-0.038245044648647,0.094045415520668,-0.268392533063889,0.147290870547295,0.034825850278139,-0.120983764529228,-0.086065411567688,0.056240737438202,0.137238577008247,-0.174164250493050,0.042366378009319));
res += mul(Get(s2,-dx,dy), float4x4(-0.287974268198013,0.016989227384329,0.082509100437164,-0.043718867003918,-0.010259304195642,-0.052504606544971,-0.036059826612473,-0.131991341710091,0.103274919092655,-0.147389605641365,-0.003689478849992,-0.056447681039572,0.057985071092844,0.188548997044563,-0.001963412389159,0.065537199378014));
res += mul(Get(s2,0,-dy), float4x4(0.024743985384703,0.132275611162186,0.052230384200811,0.112339645624161,0.083203546702862,0.025714145973325,-0.019930157810450,0.064982824027538,0.258302837610245,0.064216285943985,-0.035572469234467,-0.024754112586379,-0.084630295634270,0.090826690196991,0.141388237476349,-0.152960926294327));
res += mul(Get(s2,0,0), float4x4(-0.076741144061089,-0.132514327764511,0.032727152109146,0.058715827763081,-0.003912790678442,0.087392948567867,-0.016250936314464,-0.018991192802787,-0.160440593957901,-0.012544787488878,0.248950615525246,-0.057076845318079,0.013821334578097,-0.066535092890263,0.130289897322655,0.154302611947060));
res += mul(Get(s2,0,dy), float4x4(0.052792932838202,0.168040946125984,0.004811706021428,-0.075048975646496,0.014017849229276,0.058282360434532,0.053563285619020,0.149113401770592,-0.110749214887619,-0.235926225781441,-0.148688420653343,-0.063943140208721,-0.222516432404518,0.118655309081078,0.003855578601360,0.033574327826500));
res += mul(Get(s2,dx,-dy), float4x4(-0.162892296910286,0.179520979523659,0.017047952860594,0.021883318200707,0.164388164877892,0.093743160367012,0.147292733192444,0.114045917987823,-0.014891591854393,-0.058848489075899,0.212077155709267,0.080075807869434,-0.071152105927467,-0.027235267683864,0.144398450851440,0.185704916715622));
res += mul(Get(s2,dx,0), float4x4(0.096783034503460,0.109151422977448,0.046746265143156,-0.124835617840290,0.040260121226311,-0.057671193033457,-0.256848990917206,0.085027456283569,-0.097600445151329,0.018411172553897,-0.007991591468453,0.011767860502005,0.051405027508736,-0.094144500792027,-0.028380855917931,0.183767288923264));
res += mul(Get(s2,dx,dy), float4x4(-0.043510619550943,-0.043216776102781,-0.031721223145723,-0.060891732573509,0.116905346512794,-0.080885492265224,-0.043909586966038,-0.004498162306845,0.013390615582466,0.015033520758152,0.045206591486931,0.043647106736898,0.094685412943363,-0.203075021505356,0.129435703158379,-0.018692219629884));
res += mul(Get(s3,-dx,-dy), float4x4(0.100923568010330,0.114004947245121,0.002285738242790,-0.021987985819578,-0.106693111360073,0.067771255970001,-0.061965141445398,0.132538497447968,-0.029710870236158,0.074762567877769,-0.103231124579906,0.131420060992241,0.173541590571404,0.051689554005861,-0.080201372504234,0.234080344438553));
res += mul(Get(s3,-dx,0), float4x4(0.042880859225988,-0.026071565225720,-0.034728854894638,0.005334484390914,-0.088910341262817,0.220756083726883,-0.152902454137802,0.152567386627197,-0.120615974068642,-0.022180909290910,-0.124186649918556,0.116690702736378,0.106802232563496,0.117863148450851,-0.113683164119720,-0.197580501437187));
res += mul(Get(s3,-dx,dy), float4x4(-0.065928563475609,0.156151354312897,-0.225581869482994,-0.186326861381531,-0.055341426283121,0.036095134913921,0.174985140562057,0.116698987782001,0.076136372983456,-0.027245793491602,0.147247105836868,0.057624403387308,-0.145312353968620,-0.116823613643646,0.074481278657913,-0.064691610634327));
res += mul(Get(s3,0,-dy), float4x4(-0.229508563876152,-0.101101107895374,0.252797961235046,0.217747092247009,-0.105783045291901,-0.179316669702530,0.084211155772209,0.171469554305077,-0.041686814278364,0.165941759943962,-0.094303473830223,0.063864208757877,-0.048730198293924,0.075487606227398,0.190459743142128,0.058187007904053));
res += mul(Get(s3,0,0), float4x4(0.074799224734306,0.079706870019436,0.083143852651119,0.011614993214607,0.106327906250954,-0.042871344834566,-0.021877480670810,0.179267898201942,-0.052612308412790,-0.118725799024105,-0.203480929136276,0.009209512732923,0.226483866572380,-0.213631778955460,0.024472774937749,0.150259658694267));
res += mul(Get(s3,0,dy), float4x4(0.031807180494070,-0.012468776665628,-0.106073960661888,-0.043929897248745,-0.048064660280943,0.047497007995844,-0.010178253054619,-0.018766039982438,0.099832832813263,-0.027685711160302,-0.172918155789375,-0.006280859932303,0.108800768852234,0.084164254367352,0.020416004583240,0.027769802138209));
res += mul(Get(s3,dx,-dy), float4x4(-0.147228449583054,0.017452659085393,0.169286951422691,0.066469728946686,0.051321860402822,0.053775440901518,0.113793887197971,-0.077675402164459,-0.156813472509384,-0.125550985336304,-0.027065128087997,-0.006647389382124,-0.129269540309906,-0.241827845573425,-0.044643543660641,0.024060202762485));
res += mul(Get(s3,dx,0), float4x4(-0.002163256052881,-0.097175724804401,0.060026597231627,-0.034384872764349,0.239963844418526,0.283592551946640,-0.224843695759773,0.316935330629349,-0.268196851015091,0.113752402365208,0.099299468100071,-0.034388687461615,-0.080789141356945,0.127810597419739,-0.062862344086170,0.215526655316353));
res += mul(Get(s3,dx,dy), float4x4(0.006291422992945,-0.029669793322682,-0.062233977019787,0.035074971616268,-0.109540060162544,-0.028829459100962,-0.305556893348694,0.037725638598204,0.196065604686737,0.160425364971161,-0.259546399116516,-0.017597382888198,-0.037747763097286,0.154908150434494,-0.002622081432492,0.205203905701637));
return max(float4(0,0,0,0), res);
}
