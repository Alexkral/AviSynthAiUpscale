sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.080961748957634,-0.126570239663124,-0.049868695437908,-0.097553618252277,-0.079163834452629,-0.092877589166164,0.112202346324921,0.051890458911657,-0.088452890515327,-0.119070604443550,-0.090049512684345,0.153013721108437,-0.027160780504346,-0.312697619199753,-0.082669325172901,0.082365840673447));
res += mul(Get(s0,-dx,0), float4x4(0.076171047985554,-0.001691403216682,0.001276785857044,0.048357047140598,0.070171341300011,0.034805674105883,-0.144337281584740,0.106865406036377,-0.117309153079987,-0.069328017532825,-0.089490957558155,0.193581312894821,0.128466323018074,-0.039627563208342,0.087426200509071,-0.110991895198822));
res += mul(Get(s0,-dx,dy), float4x4(-0.066178843379021,-0.000408300111303,0.057946700602770,-0.101900212466717,0.007275492418557,-0.004189764615148,-0.209015861153603,-0.015008631162345,-0.083202324807644,-0.092428594827652,-0.345767825841904,-0.096209555864334,0.221101522445679,-0.034736394882202,-0.231909558176994,-0.060515891760588));
res += mul(Get(s0,0,-dy), float4x4(-0.141960561275482,-0.217334568500519,-0.038780096918344,-0.061213470995426,-0.174228027462959,-0.156651645898819,-0.014111608266830,-0.020616488531232,-0.100257217884064,-0.224875256419182,-0.176832467317581,0.114984221756458,-0.011249805800617,-0.176439955830574,0.027162272483110,0.218619033694267));
res += mul(Get(s0,0,0), float4x4(-0.032705858349800,-0.059739839285612,-0.014131189323962,0.010423617437482,0.054269503802061,-0.083731323480606,-0.054848350584507,-0.071891166269779,-0.053300980478525,-0.104853205382824,0.113659620285034,0.169570833444595,-0.048210367560387,0.034419678151608,0.147282570600510,-0.031565304845572));
res += mul(Get(s0,0,dy), float4x4(0.192994892597198,-0.020607970654964,0.028349159285426,-0.155743211507797,-0.058093279600143,-0.031258329749107,-0.096999712288380,-0.281491965055466,0.046025790274143,-0.083030067384243,-0.250899881124496,-0.218349561095238,0.053957104682922,0.010806441307068,0.159380793571472,-0.173631846904755));
res += mul(Get(s0,dx,-dy), float4x4(-0.197168290615082,-0.119949795305729,-0.000423956749728,0.099055491387844,-0.085372112691402,-0.129851803183556,0.040734119713306,-0.104786731302738,0.129523649811745,-0.010326093062758,-0.101310789585114,-0.182300016283989,-0.059528488665819,-0.209730312228203,-0.019464045763016,0.044530797749758));
res += mul(Get(s0,dx,0), float4x4(-0.170828938484192,-0.076573677361012,0.160249114036560,-0.052778888493776,-0.004862355068326,0.137925103306770,0.148611620068550,-0.188113242387772,-0.104359932243824,-0.061060968786478,0.219427838921547,-0.103935666382313,-0.017588833346963,-0.000226424192078,-0.004562994930893,-0.059411205351353));
res += mul(Get(s0,dx,dy), float4x4(-0.079847134649754,0.003806081134826,-0.006589059717953,-0.237331718206406,0.055225498974323,0.211966365575790,-0.115104392170906,-0.286706268787384,-0.040441509336233,-0.083630405366421,-0.061413981020451,-0.259614080190659,-0.062876872718334,-0.009302595630288,0.052585650235415,0.092662476003170));
res += mul(Get(s1,-dx,-dy), float4x4(-0.093404203653336,-0.077963732182980,0.129100605845451,0.043858766555786,-0.098456695675850,-0.022634018212557,-0.050902653485537,-0.018080582842231,0.057882051914930,0.057372003793716,-0.018843924626708,0.021398210898042,0.145766273140907,-0.085936859250069,0.006881736218929,0.156354278326035));
res += mul(Get(s1,-dx,0), float4x4(0.041012641042471,-0.064464956521988,0.086983226239681,-0.043553717434406,-0.055754046887159,0.020766362547874,-0.069700144231319,-0.120951332151890,0.086805418133736,-0.087055645883083,-0.196579709649086,-0.002671930938959,0.020381448790431,-0.148196086287498,0.122199401259422,-0.132458478212357));
res += mul(Get(s1,-dx,dy), float4x4(0.049219537526369,-0.136992931365967,0.062125306576490,0.035103604197502,0.033120226114988,-0.009305990301073,-0.214595630764961,0.410247594118118,0.199721917510033,0.080502539873123,0.227681785821915,0.116278819739819,-0.056000363081694,-0.049051534384489,0.256903707981110,0.038541153073311));
res += mul(Get(s1,0,-dy), float4x4(-0.188251480460167,-0.093389257788658,0.039610151201487,-0.077776305377483,-0.109876625239849,-0.051939535886049,-0.045246832072735,-0.117514379322529,-0.154415428638458,-0.016341488808393,-0.110086880624294,0.155191913247108,0.065882302820683,-0.038610205054283,0.016249097883701,0.051153350621462));
res += mul(Get(s1,0,0), float4x4(-0.080653280019760,-0.037815313786268,-0.053175736218691,-0.121803075075150,-0.025655699893832,-0.019625606015325,-0.102606222033501,-0.100667454302311,-0.060654375702143,0.014168246649206,-0.159192964434624,-0.026408694684505,0.040898766368628,-0.070626072585583,0.072741262614727,0.020667115226388));
res += mul(Get(s1,0,dy), float4x4(0.015185094438493,0.020899640396237,-0.084072165191174,-0.105381153523922,-0.024291088804603,-0.026999618858099,-0.091723814606667,0.224816873669624,-0.158365175127983,0.100022301077843,0.616710722446442,0.018201472237706,0.083069674670696,-0.052335526794195,0.103493131697178,0.124027073383331));
res += mul(Get(s1,dx,-dy), float4x4(-0.060285821557045,0.276891350746155,0.178468883037567,-0.116382732987404,-0.048499841243029,0.023170599713922,-0.033039044588804,0.207896962761879,0.052566740661860,-0.013342382386327,-0.107762970030308,0.149414986371994,-0.043712016195059,0.039843227714300,0.107183106243610,-0.103686280548573));
res += mul(Get(s1,dx,0), float4x4(0.076448082923889,-0.112277030944824,-0.050083894282579,-0.197633534669876,-0.118582308292389,-0.143590644001961,0.088828168809414,0.449363887310028,-0.025484735146165,-0.091603524982929,-0.276517480611801,-0.163692906498909,0.090272441506386,-0.049275081604719,-0.077372699975967,-0.179090693593025));
res += mul(Get(s1,dx,dy), float4x4(0.127074241638184,0.044113241136074,-0.073638394474983,-0.221965387463570,-0.168887823820114,-0.147072985768318,-0.090154215693474,0.190553888678551,0.336376130580902,-0.119074925780296,-0.080639071762562,-0.125366032123566,0.000468766782433,-0.091961316764355,0.382697045803070,-0.161137506365776));
res += mul(Get(s2,-dx,-dy), float4x4(0.090886875987053,-0.002164048841223,0.085241921246052,0.113575771450996,0.058480527251959,0.068882495164871,0.072615630924702,0.227490067481995,-0.231059208512306,0.113826304674149,-0.032942086458206,0.097549192607403,0.047611217945814,0.071816183626652,0.046820756047964,0.175582781434059));
res += mul(Get(s2,-dx,0), float4x4(0.019708957523108,-0.055588077753782,0.144296199083328,0.029152514412999,-0.056587051600218,-0.016902221366763,-0.011659860610962,-0.065282367169857,-0.070239163935184,0.001325145945884,0.044763930141926,0.066363260149956,0.100366100668907,0.020941823720932,-0.120491035282612,-0.003028338542208));
res += mul(Get(s2,-dx,dy), float4x4(0.166359215974808,-0.222653284668922,-0.116487398743629,-0.020407546311617,0.022284109145403,-0.013763099908829,0.087769247591496,-0.014256884343922,-0.127432927489281,0.116130590438843,0.032304346561432,0.134427055716515,-0.088609538972378,0.338504612445831,-0.204514801502228,-0.012661280110478));
res += mul(Get(s2,0,-dy), float4x4(0.030998228117824,-0.113289430737495,0.041407402604818,0.114453278481960,0.195792764425278,0.142294168472290,0.090924382209778,0.404830783605576,-0.100717648863792,0.056554235517979,0.049337584525347,0.063749991357327,-0.011286412365735,0.111071825027466,0.190059244632721,-0.062164284288883));
res += mul(Get(s2,0,0), float4x4(-0.044633466750383,-0.004519394598901,0.139262199401855,0.073525235056877,0.180701985955238,-0.071718819439411,-0.089221164584160,-0.168633341789246,0.104500226676464,0.109180614352226,0.040466766804457,-0.101647093892097,-0.089706912636757,-0.063667334616184,0.041114885360003,-0.060839459300041));
res += mul(Get(s2,0,dy), float4x4(0.093163698911667,-0.101115614175797,0.004654870368540,0.143947467207909,0.086378306150436,0.033554419875145,0.030832983553410,-0.094494007527828,0.085795141756535,-0.002879048231989,0.004938337020576,-0.109981290996075,-0.115748740732670,0.129679441452026,-0.114335812628269,-0.138414978981018));
res += mul(Get(s2,dx,-dy), float4x4(0.106204897165298,-0.002907328540459,0.030223723500967,0.061447273939848,0.394146949052811,0.374894291162491,-0.080192610621452,0.137641295790672,-0.061559945344925,0.464351415634155,0.072101101279259,-0.128343626856804,-0.159624040126801,0.058749865740538,0.012020695954561,-0.216251298785210));
res += mul(Get(s2,dx,0), float4x4(0.045071117579937,0.060485612601042,0.134356707334518,0.086911499500275,0.217780277132988,0.088315449655056,-0.004968049470335,0.043524362146854,0.057662177830935,0.146686613559723,-0.060689684003592,-0.229149982333183,-0.081143610179424,0.197662651538849,-0.124776646494865,-0.191731378436089));
res += mul(Get(s2,dx,dy), float4x4(0.017562679946423,0.068887859582901,0.030276980251074,-0.118797428905964,0.080301254987717,0.019655061885715,-0.053899187594652,0.034656066447496,0.056257490068674,0.087602123618126,0.009024839848280,-0.151357352733612,-0.148870885372162,-0.059873707592487,-0.074445903301239,-0.137091219425201));
res += mul(Get(s3,-dx,-dy), float4x4(0.243616729974747,-0.098751612007618,-0.080061540007591,0.181196495890617,-0.019913496449590,0.051637530326843,0.310661673545837,-0.144857376813889,-0.091300539672375,-0.178873389959335,0.006830048747361,0.167013883590698,-0.108290240168571,0.000694541726261,-0.047889254987240,0.071880854666233));
res += mul(Get(s3,-dx,0), float4x4(0.163260832428932,-0.118402197957039,-0.055220071226358,-0.050323590636253,-0.063209339976311,-0.152284935116768,0.077072419226170,0.091407969594002,-0.122145347297192,-0.027039341628551,-0.030093334615231,0.069343551993370,0.178742989897728,0.020054219290614,-0.150269553065300,0.134073823690414));
res += mul(Get(s3,-dx,dy), float4x4(0.146748766303062,0.105656452476978,0.025433264672756,0.038011938333511,-0.001730610150844,-0.133292987942696,0.528996586799622,0.148186862468719,0.136734560132027,-0.112362518906593,-0.114111565053463,0.033177431672812,0.112518027424812,0.091672375798225,-0.075260624289513,0.269182801246643));
res += mul(Get(s3,0,-dy), float4x4(0.017330173403025,-0.205592751502991,-0.070162363350391,0.021955717355013,-0.012753691524267,-0.106890633702278,-0.094473600387573,0.017285760492086,0.277224481105804,0.007728094700724,0.076745033264160,-0.116497352719307,-0.157896459102631,-0.162301808595657,0.075046554207802,-0.182390391826630));
res += mul(Get(s3,0,0), float4x4(-0.054255411028862,-0.194937929511070,-0.060139145702124,0.020748181268573,-0.046412460505962,0.047786414623260,-0.195176854729652,0.144882604479790,0.016706265509129,0.067250199615955,0.005879569333047,-0.164353981614113,-0.020765930414200,0.335719734430313,-0.094821885228157,-0.129464760422707));
res += mul(Get(s3,0,dy), float4x4(0.094783045351505,0.228386163711548,0.036308933049440,-0.085664592683315,-0.100690416991711,-0.057823449373245,0.345085114240646,0.183921903371811,0.131424903869629,-0.100571922957897,0.068877898156643,-0.034494522958994,-0.011970987543464,0.260836780071259,-0.152047231793404,0.029549682512879));
res += mul(Get(s3,dx,-dy), float4x4(-0.069547079503536,-0.240138992667198,-0.073168106377125,-0.072696462273598,0.165076151490211,-0.045724205672741,0.235969677567482,0.131560459733009,-0.167023882269859,-0.138741552829742,0.059440951794386,-0.149189874529839,-0.168575748801231,-0.043258309364319,-0.048400547355413,0.082327276468277));
res += mul(Get(s3,dx,0), float4x4(-0.069349691271782,-0.118133559823036,-0.120887793600559,-0.038907974958420,0.216689452528954,0.020207785069942,0.022515555843711,0.002688855398446,0.012351213954389,0.018301930278540,0.095376975834370,-0.172036468982697,-0.091177463531494,0.054877784103155,-0.088259287178516,-0.027601698413491));
res += mul(Get(s3,dx,dy), float4x4(0.012309787794948,0.055707924067974,-0.089245349168777,-0.045644436031580,0.197692677378654,-0.089689686894417,0.153592020273209,0.043776538223028,0.099727503955364,0.035155769437551,0.075129911303520,-0.175907850265503,-0.195980489253998,0.172829151153564,-0.261302590370178,-0.075959093868732));
return max(float4(0,0,0,0), res);
}
