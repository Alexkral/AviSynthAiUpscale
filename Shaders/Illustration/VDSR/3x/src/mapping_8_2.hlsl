sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.136426717042923,0.063038527965546,0.022711500525475,0.045675456523895,0.089503549039364,-0.182749629020691,0.096425414085388,-0.052564535290003,-0.020342255011201,-0.020862322300673,0.223382160067558,0.095719546079636,-0.111998416483402,-0.126311272382736,0.040272627025843,0.087733455002308));
res += mul(Get(s0,-dx,0), float4x4(0.045345578342676,-0.097419500350952,-0.174660146236420,-0.125927120447159,-0.036526020616293,-0.124811768531799,0.019656363874674,0.092250645160675,0.077829621732235,-0.095478110015392,0.041669469326735,-0.013646543025970,0.025295590981841,0.008711985312402,-0.067706324160099,-0.049197517335415));
res += mul(Get(s0,-dx,dy), float4x4(-0.026192674413323,0.167300224304199,-0.110249035060406,-0.055219665169716,0.191480606794357,-0.062330760061741,-0.026559723541141,0.032261647284031,0.135573461651802,0.125543430447578,0.141483098268509,-0.120924100279808,0.059994254261255,-0.172050669789314,0.067609362304211,0.240653797984123));
res += mul(Get(s0,0,-dy), float4x4(0.161958336830139,-0.063709110021591,0.036220557987690,0.172986745834351,-0.138149812817574,-0.208258360624313,0.017647875472903,-0.035736653953791,0.064872592687607,-0.049398574978113,-0.033227402716875,0.091158568859100,0.036467928439379,0.010979158803821,0.069438919425011,0.166800305247307));
res += mul(Get(s0,0,0), float4x4(-0.041694205254316,0.122908256947994,-0.063486486673355,-0.020663989707828,-0.008627746254206,0.011914991773665,0.093488790094852,0.090410351753235,0.058257557451725,0.009806822054088,-0.122013933956623,-0.069482542574406,0.143641650676727,0.051469948142767,0.038712169975042,0.157626435160637));
res += mul(Get(s0,0,dy), float4x4(-0.039586700499058,0.089628048241138,0.014366715215147,-0.077079936861992,-0.004083646927029,0.328821748495102,-0.216792538762093,-0.038920193910599,0.075284220278263,-0.130536362528801,-0.175929710268974,0.093212559819221,0.046696756035089,0.036138929426670,-0.081818707287312,-0.104515925049782));
res += mul(Get(s0,dx,-dy), float4x4(0.158684358000755,0.017789918929338,0.139305531978607,0.169020086526871,-0.044570256024599,0.115864224731922,0.064732767641544,0.104421913623810,0.237178683280945,-0.127738803625107,0.152339935302734,-0.018110990524292,-0.102538615465164,-0.023116374388337,-0.165059208869934,0.109656877815723));
res += mul(Get(s0,dx,0), float4x4(-0.059154510498047,0.007927325554192,0.185588091611862,-0.138069510459900,-0.051494829356670,0.149118497967720,-0.161492884159088,-0.338504314422607,-0.068190641701221,-0.095323950052261,-0.045903827995062,0.062602445483208,0.109562963247299,0.097838751971722,0.086253054440022,0.020993985235691));
res += mul(Get(s0,dx,dy), float4x4(-0.178206697106361,-0.032958183437586,0.067019186913967,-0.113376110792160,-0.139786347746849,0.085787907242775,0.013656862080097,-0.091920502483845,-0.000967657542787,-0.106766395270824,0.101399824023247,-0.003760880557820,-0.077161408960819,-0.131455034017563,0.028515262529254,0.132863029837608));
res += mul(Get(s1,-dx,-dy), float4x4(-0.001630714046769,0.003804407082498,0.265074014663696,0.001115476596169,0.143741399049759,0.250219792127609,-0.127336308360100,-0.012587617151439,0.026897825300694,0.192346692085266,-0.056103210896254,0.041542623192072,0.031835906207561,-0.035587016493082,-0.156288713216782,0.038326639682055));
res += mul(Get(s1,-dx,0), float4x4(-0.245370358228683,0.187371641397476,0.127178639173508,0.109227970242500,0.099591232836246,-0.058174267411232,-0.041885744780302,0.180361792445183,-0.063846521079540,-0.096787378191948,-0.071642912924290,-0.062968134880066,-0.178732275962830,-0.058931052684784,0.057294767349958,-0.133222043514252));
res += mul(Get(s1,-dx,dy), float4x4(-0.180681049823761,0.151050910353661,0.097814060747623,0.023390797898173,-0.024934498593211,-0.021687904372811,-0.039577998220921,-0.074628368020058,-0.037581846117973,0.129268914461136,0.122358046472073,0.110799670219421,-0.220400914549828,0.056906051933765,-0.040458813309669,-0.035712238401175));
res += mul(Get(s1,0,-dy), float4x4(-0.154773131012917,0.067351132631302,-0.161821320652962,-0.114744566380978,0.001325311139226,0.086703881621361,0.092261597514153,0.177622243762016,0.000544568407349,-0.068696439266205,-0.115449965000153,-0.095614865422249,-0.067488439381123,-0.039627395570278,0.143475949764252,0.067828141152859));
res += mul(Get(s1,0,0), float4x4(-0.047996472567320,-0.028021832928061,-0.041149366647005,-0.005487035494298,-0.031461454927921,-0.016707910224795,0.093798458576202,0.049670930951834,-0.117588892579079,0.095940247178078,0.017173251137137,-0.023807592689991,0.225646704435349,-0.030494941398501,0.070223800837994,-0.007910322397947));
res += mul(Get(s1,0,dy), float4x4(-0.174691140651703,-0.080621071159840,0.287608236074448,-0.037265863269567,0.056296605616808,0.153312325477600,0.046532075852156,-0.066703982651234,0.068675696849823,-0.200114592909813,0.203006252646446,0.055400159209967,0.141175135970116,-0.132740899920464,0.138550311326981,0.078669622540474));
res += mul(Get(s1,dx,-dy), float4x4(-0.052383333444595,-0.044213753193617,0.056957922875881,-0.096473544836044,0.006902444642037,0.106795899569988,-0.134724095463753,-0.120256021618843,-0.005899216514081,0.363428890705109,-0.151535257697105,-0.246774256229401,0.172512367367744,-0.102815210819244,-0.100901991128922,-0.049385994672775));
res += mul(Get(s1,dx,0), float4x4(-0.021979328244925,0.031905662268400,0.046422526240349,0.150575846433640,-0.090153828263283,0.237689867615700,0.039770074188709,0.085935398936272,0.092453561723232,0.085006482899189,0.079455435276031,-0.153621464967728,-0.009742520749569,-0.052123874425888,-0.042351890355349,-0.038433089852333));
res += mul(Get(s1,dx,dy), float4x4(-0.230132594704628,-0.032202932983637,0.186056360602379,-0.109560638666153,-0.099525645375252,0.080763429403305,-0.075125925242901,0.303152233362198,0.061838567256927,0.018358111381531,-0.108676873147488,-0.010030299425125,-0.049155551940203,-0.068273589015007,0.226164013147354,-0.117035083472729));
res += mul(Get(s2,-dx,-dy), float4x4(0.039007294923067,-0.024386337026954,0.108826033771038,-0.116944797337055,0.026541151106358,0.224044948816299,0.169585302472115,0.007829243317246,-0.098753139376640,0.014219491742551,0.091122850775719,-0.102004192769527,-0.078213356435299,-0.125865995883942,0.095707006752491,-0.016325185075402));
res += mul(Get(s2,-dx,0), float4x4(0.095539227128029,0.093061998486519,-0.115905851125717,0.041669685393572,-0.154011279344559,0.118367299437523,0.245622977614403,-0.009001410566270,-0.108314342796803,0.086666934192181,0.074802815914154,-0.047273542732000,-0.001337158610113,-0.000252552126767,-0.213665723800659,0.031419102102518));
res += mul(Get(s2,-dx,dy), float4x4(0.205431967973709,0.121949300169945,-0.130695730447769,-0.428543537855148,0.074740625917912,0.259164631366730,-0.069168515503407,0.228524416685104,0.177100479602814,-0.023447763174772,0.129842042922974,0.174832984805107,0.153759285807610,0.021578557789326,0.212844520807266,-0.062670670449734));
res += mul(Get(s2,0,-dy), float4x4(0.109081625938416,-0.055255271494389,-0.151057273149490,-0.006227852310985,-0.042845886200666,-0.140139758586884,-0.016398729756474,-0.023341182619333,-0.027025785297155,-0.017962412908673,-0.068663053214550,0.056260086596012,0.113358423113823,-0.092349730432034,-0.127240702509880,0.146885588765144));
res += mul(Get(s2,0,0), float4x4(0.219985142350197,-0.143174499273300,-0.019079150632024,-0.041905283927917,0.106191232800484,0.148905828595161,-0.109102785587311,-0.071375474333763,0.046367589384317,0.054133437573910,0.201908394694328,0.327633351087570,0.083291806280613,-0.056712877005339,0.018626799806952,0.025437114760280));
res += mul(Get(s2,0,dy), float4x4(-0.067485563457012,0.059572581201792,0.259790003299713,0.052198063582182,0.042467195540667,0.127757981419563,-0.070686675608158,0.171146169304848,-0.063345573842525,-0.069469317793846,-0.074240252375603,-0.027967005968094,-0.074082240462303,0.173889279365540,0.074438467621803,-0.094438962638378));
res += mul(Get(s2,dx,-dy), float4x4(-0.223885864019394,-0.032114446163177,-0.196477830410004,0.087777189910412,0.137772023677826,-0.007990711368620,0.117960214614868,-0.264693051576614,0.050384733825922,-0.080076716840267,0.075275413691998,0.018166525289416,0.036304637789726,0.127077266573906,-0.111965022981167,-0.029216352850199));
res += mul(Get(s2,dx,0), float4x4(-0.018397603183985,-0.078543104231358,-0.000776399392635,0.155126810073853,-0.030833834782243,-0.177140772342682,-0.053915899246931,-0.049251884222031,0.002273312071338,-0.034805417060852,0.127176612615585,0.007096355315298,-0.228558450937271,0.119872733950615,0.007149856537580,0.150384142994881));
res += mul(Get(s2,dx,dy), float4x4(-0.128667026758194,0.164810046553612,0.151467844843864,-0.021483656018972,0.055752575397491,-0.104652091860771,0.071926645934582,-0.111945323646069,0.013081908226013,-0.104176513850689,0.030272683128715,0.094892449676991,0.105523690581322,0.072377979755402,-0.061678096652031,0.052818305790424));
res += mul(Get(s3,-dx,-dy), float4x4(-0.092215515673161,-0.101679176092148,0.115049391984940,-0.050120931118727,-0.021937392652035,-0.110520467162132,-0.036292485892773,0.045283135026693,-0.093602955341339,0.062717460095882,-0.038060579448938,0.017719147726893,0.078164435923100,0.037931032478809,0.040908940136433,-0.002127359388396));
res += mul(Get(s3,-dx,0), float4x4(0.067137807607651,-0.126172721385956,0.051203172653913,-0.012472195550799,-0.048775471746922,0.084941767156124,-0.044283460825682,-0.007662775460631,0.083146050572395,0.054248820990324,-0.011673498898745,0.175348803400993,-0.001256101531908,-0.167845100164413,0.123606063425541,0.030219387263060));
res += mul(Get(s3,-dx,dy), float4x4(0.329875200986862,-0.065029434859753,0.261095821857452,0.126604154706001,-0.212799474596977,-0.091400742530823,-0.032849952578545,-0.145440503954887,0.020783595740795,0.075625516474247,-0.043732322752476,-0.068381153047085,0.114812046289444,-0.068841964006424,0.028757112100720,0.061978563666344));
res += mul(Get(s3,0,-dy), float4x4(0.004122691694647,0.038895618170500,-0.128808304667473,-0.104194454848766,0.080299675464630,-0.086889334022999,-0.105600774288177,0.053411245346069,0.049092054367065,0.111329987645149,-0.205152720212936,-0.048788011074066,-0.094895213842392,-0.023332582786679,0.019956480711699,0.000585535541177));
res += mul(Get(s3,0,0), float4x4(0.129838600754738,0.050253488123417,-0.053322423249483,-0.038650624454021,0.018896223977208,-0.093628816306591,0.140866935253143,-0.105580568313599,0.083997398614883,-0.047759778797626,-0.010457628406584,-0.173122331500053,-0.016298415139318,-0.079050049185753,0.113582931458950,-0.185015618801117));
res += mul(Get(s3,0,dy), float4x4(0.127207130193710,0.058830745518208,0.044122390449047,-0.106208331882954,-0.202621206641197,0.110691264271736,0.032191459089518,-0.149467349052429,-0.097749009728432,0.105135574936867,-0.193777829408646,0.127977952361107,0.236226141452789,-0.120616711676121,-0.066504836082458,-0.081345714628696));
res += mul(Get(s3,dx,-dy), float4x4(-0.082661181688309,-0.141187161207199,0.081535123288631,-0.213334724307060,-0.063895814120770,-0.188651829957962,0.063625037670135,0.163880810141563,-0.028444133698940,0.030628856271505,0.040501404553652,0.054218351840973,0.065689712762833,-0.019142998382449,0.299662917852402,0.073683522641659));
res += mul(Get(s3,dx,0), float4x4(-0.026253048330545,0.000379109522328,-0.014075933024287,-0.032062809914351,-0.129900008440018,0.040683299303055,0.021624060347676,0.039640191942453,-0.178878635168076,0.135233014822006,0.082162082195282,0.052447125315666,-0.187323600053787,-0.113762401044369,0.237736195325851,0.020351376384497));
res += mul(Get(s3,dx,dy), float4x4(-0.014516367577016,-0.059044867753983,-0.186356350779533,-0.065655030310154,-0.026364436373115,0.053827490657568,-0.012913739308715,-0.007309813983738,-0.087970942258835,0.139640077948570,-0.019598044455051,-0.108275294303894,0.038884021341801,0.110397264361382,0.051994692534208,0.201669096946716));
return max(float4(0,0,0,0), res);
}
