sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.072931639850140,-0.265927016735077,0.151855975389481,0.049577549099922,0.183120504021645,-0.143183782696724,0.069286167621613,0.006862367037684,-0.092651337385178,-0.260269135236740,0.364634186029434,-0.042827054858208,-0.035912770777941,-0.067832589149475,0.314664602279663,0.174705192446709));
res += mul(Get(s0,-dx,0), float4x4(-0.057926766574383,0.061179671436548,0.164241209626198,0.049578398466110,-0.003497589612380,0.019876714795828,-0.089295513927937,-0.048744790256023,-0.079977735877037,-0.151797011494637,0.075791031122208,0.080297999083996,0.129828691482544,-0.169387355446815,0.162310063838959,-0.112020246684551));
res += mul(Get(s0,-dx,dy), float4x4(-0.060216404497623,0.017872728407383,-0.141587466001511,-0.134761258959770,0.041582774370909,-0.070513889193535,-0.178364783525467,-0.148441269993782,-0.127614974975586,0.115927785634995,-0.097146525979042,-0.202350318431854,0.140655532479286,0.067430555820465,0.184659525752068,-0.218697518110275));
res += mul(Get(s0,0,-dy), float4x4(-0.212073937058449,-0.114050470292568,0.217194765806198,0.153548270463943,-0.089715078473091,0.031311612576246,-0.010369943454862,-0.105902589857578,-0.114845521748066,-0.072191275656223,0.055257409811020,0.023543342947960,-0.129381731152534,0.153250426054001,-0.031400769948959,-0.045827746391296));
res += mul(Get(s0,0,0), float4x4(-0.017118249088526,0.086281709372997,0.153606548905373,0.033368483185768,-0.174151539802551,0.012134772725403,-0.142013639211655,0.030993944033980,-0.182738080620766,-0.074378341436386,0.158137470483780,0.142171815037727,-0.033140908926725,-0.099423699080944,-0.024792507290840,-0.157164275646210));
res += mul(Get(s0,0,dy), float4x4(-0.079661972820759,-0.071361392736435,0.023762946948409,-0.149283125996590,-0.111861936748028,0.008507659658790,-0.090055622160435,-0.130235403776169,-0.141023874282837,0.280291080474854,0.072392009198666,-0.229684218764305,-0.040647443383932,0.188515365123749,-0.071150489151478,-0.101016096770763));
res += mul(Get(s0,dx,-dy), float4x4(-0.035856530070305,0.006351726595312,0.004204825963825,0.063607551157475,-0.099679186940193,0.032877020537853,-0.103361763060093,0.155584663152695,-0.156485170125961,0.338719338178635,-0.178852170705795,0.026662835851312,-0.108261749148369,0.087077885866165,0.110807023942471,0.046979013830423));
res += mul(Get(s0,dx,0), float4x4(0.090826869010925,-0.002297831233591,-0.118468828499317,-0.037068977952003,-0.120339669287205,0.023996049538255,-0.309827685356140,0.018174592405558,-0.091832153499126,-0.039709176868200,-0.186841443181038,-0.033643275499344,-0.062099289149046,-0.030004231259227,-0.113077841699123,-0.087550617754459));
res += mul(Get(s0,dx,dy), float4x4(-0.160981252789497,0.036118406802416,-0.129835009574890,0.007865390740335,-0.100160770118237,0.016613362357020,-0.117895871400833,-0.060903657227755,0.014212882146239,0.144499406218529,0.062161341309547,-0.176373541355133,0.232200145721436,0.057728651911020,-0.194748178124428,-0.084961727261543));
res += mul(Get(s1,-dx,-dy), float4x4(0.009133335202932,-0.084590144455433,0.062699459493160,-0.099590957164764,-0.115968547761440,-0.078842788934708,0.129005476832390,0.159404769539833,0.070477619767189,-0.177369430661201,0.128471568226814,0.093561545014381,0.013431043364108,0.172323495149612,0.007194383069873,-0.172416299581528));
res += mul(Get(s1,-dx,0), float4x4(0.247623726725578,-0.296518564224243,-0.004896637052298,-0.128438428044319,-0.066520921885967,-0.083358898758888,-0.091573528945446,0.025143040344119,0.045377109199762,-0.083470195531845,0.285021781921387,0.029865859076381,0.159178182482719,0.047156549990177,0.026642110198736,0.125437974929810));
res += mul(Get(s1,-dx,dy), float4x4(-0.229123353958130,-0.001622244599275,0.245034322142601,0.104279592633247,-0.079384423792362,-0.148060485720634,-0.056243769824505,-0.038035020232201,0.181367278099060,-0.154914468526840,0.099013954401016,0.078845269978046,0.164490416646004,-0.287617266178131,-0.117509506642818,-0.039333313703537));
res += mul(Get(s1,0,-dy), float4x4(0.234173417091370,0.378009974956512,0.069182977080345,-0.008931550197303,-0.081044271588326,-0.123882725834846,-0.187730997800827,-0.112481474876404,0.312005788087845,-0.045380495488644,-0.011796168982983,0.000368839537259,0.006107767578214,-0.070140287280083,-0.087404265999794,-0.064748346805573));
res += mul(Get(s1,0,0), float4x4(-0.157857879996300,-0.262411773204803,-0.111069157719612,0.041720997542143,-0.080565266311169,-0.140874311327934,-0.195908457040787,0.136104196310043,0.216621652245522,-0.094891950488091,0.142651051282883,0.145881578326225,0.248343363404274,-0.004490945022553,0.071334198117256,0.105873771011829));
res += mul(Get(s1,0,dy), float4x4(-0.324395030736923,-0.140924364328384,0.256322830915451,0.077947109937668,-0.076138034462929,0.110291689634323,-0.241971075534821,0.041804660111666,-0.001206415938213,-0.045143306255341,-0.089565150439739,-0.115951098501682,0.078097112476826,-0.132931858301163,-0.257377058267593,-0.138577565550804));
res += mul(Get(s1,dx,-dy), float4x4(0.001336598768830,0.405022144317627,0.046737909317017,-0.042413849383593,-0.096861571073532,0.026201095432043,-0.030417157337070,-0.031684946268797,0.191479444503784,-0.123874485492706,-0.027218556031585,-0.046194318681955,-0.075176723301411,0.024721560999751,0.059432931244373,0.000546355731785));
res += mul(Get(s1,dx,0), float4x4(-0.061211355030537,-0.143430545926094,0.226586267352104,-0.068413957953453,-0.124354809522629,0.041714478284121,-0.126174822449684,-0.038229122757912,-0.016277465969324,-0.002155232708901,-0.053966842591763,0.279586851596832,-0.242602914571762,-0.081021405756474,-0.050114374607801,-0.002767385682091));
res += mul(Get(s1,dx,dy), float4x4(-0.112145856022835,-0.148506775498390,0.275458306074142,0.072820648550987,-0.171631112694740,0.046975634992123,0.089738279581070,0.081605806946754,-0.021550269797444,-0.115504965186119,-0.047008320689201,-0.031299337744713,0.100445419549942,-0.038693688809872,-0.176953598856926,-0.129723310470581));
res += mul(Get(s2,-dx,-dy), float4x4(0.129501596093178,-0.222500026226044,-0.030698692426085,-0.089297324419022,0.114684738218784,-0.009990871883929,0.049064666032791,-0.113170616328716,-0.086045004427433,-0.071955330669880,0.119207896292210,-0.125508084893227,0.074008814990520,0.038970824331045,0.173494368791580,-0.100961029529572));
res += mul(Get(s2,-dx,0), float4x4(0.257522374391556,0.295688211917877,0.252599358558655,-0.103319488465786,0.238930016756058,0.083217352628708,0.062656648457050,-0.038175519555807,-0.184824913740158,0.051946621388197,0.096170924603939,-0.073693022131920,0.054594401270151,0.045540969818830,-0.160856083035469,-0.046725966036320));
res += mul(Get(s2,-dx,dy), float4x4(0.178039312362671,-0.073713049292564,0.064950816333294,0.119840674102306,0.133830249309540,0.078767687082291,-0.175180584192276,0.456214666366577,-0.056504365056753,0.022059433162212,0.023307470604777,-0.032152816653252,0.188059672713280,-0.041073124855757,-0.119792170822620,-0.098750576376915));
res += mul(Get(s2,0,-dy), float4x4(0.097045086324215,-0.198296174407005,-0.045855052769184,0.040901873260736,-0.114078387618065,0.074669659137726,0.034298259764910,-0.238810390233994,-0.173523828387260,0.056364279240370,-0.223629578948021,0.151824787259102,-0.117038309574127,-0.181425809860229,0.113125018775463,-0.074722938239574));
res += mul(Get(s2,0,0), float4x4(-0.024670917540789,-0.013043507933617,0.040143016725779,-0.058892037719488,-0.201397046446800,0.055418819189072,0.072617083787918,-0.177826419472694,-0.023603478446603,0.121904656291008,-0.083367154002190,-0.127649411559105,-0.144774273037910,0.179804965853691,-0.076966241002083,-0.037727911025286));
res += mul(Get(s2,0,dy), float4x4(0.028842201456428,-0.205382898449898,0.070115201175213,0.114086516201496,-0.182833492755890,-0.206870675086975,-0.083336524665356,0.001858233707026,0.102200865745544,0.060919601470232,0.002683463273570,0.130726680159569,-0.173749595880508,0.114209599792957,0.039838876575232,-0.261595368385315));
res += mul(Get(s2,dx,-dy), float4x4(-0.081133455038071,0.064580619335175,-0.086628481745720,-0.035756289958954,-0.164334341883659,-0.153574585914612,0.014269355684519,-0.044452901929617,0.015088759362698,-0.064752720296383,-0.101334087550640,-0.133470505475998,-0.101631864905357,-0.095596961677074,0.102268144488335,0.129720762372017));
res += mul(Get(s2,dx,0), float4x4(-0.248041152954102,0.197886034846306,-0.169861361384392,0.050739564001560,-0.176044017076492,-0.166937768459320,-0.154004588723183,-0.153017416596413,-0.042536318302155,-0.088358126580715,-0.092042915523052,-0.143599748611450,-0.167258709669113,0.061125598847866,-0.105604983866215,0.021615095436573));
res += mul(Get(s2,dx,dy), float4x4(0.004035138525069,-0.049147754907608,-0.047729231417179,0.157945573329926,-0.196391239762306,-0.201292783021927,-0.104481764137745,-0.164728119969368,-0.095558293163776,-0.139600142836571,0.065435826778412,-0.208537742495537,-0.056746531277895,0.164743125438690,-0.062816813588142,-0.223474025726318));
res += mul(Get(s3,-dx,-dy), float4x4(0.060648702085018,0.340845733880997,-0.072390794754028,0.044103451073170,0.043767124414444,-0.074934169650078,0.276411294937134,0.186427757143974,-0.013022191822529,-0.094417080283165,-0.092429518699646,-0.018380092456937,0.007998371496797,-0.044545602053404,0.099350661039352,-0.154070198535919));
res += mul(Get(s3,-dx,0), float4x4(-0.074579179286957,-0.004474326036870,0.318991154432297,0.128448367118835,0.022376522421837,0.312772631645203,-0.099082991480827,-0.146950602531433,-0.228399857878685,-0.122275233268738,0.005194574128836,-0.132363170385361,-0.039876334369183,-0.176285669207573,-0.050010088831186,0.020128667354584));
res += mul(Get(s3,-dx,dy), float4x4(0.108127973973751,-0.037162169814110,0.258808523416519,0.172805353999138,0.266451567411423,0.065673075616360,-0.080832011997700,-0.168223813176155,-0.037855897098780,-0.187417075037956,-0.064883805811405,-0.119128838181496,-0.227716937661171,-0.253261834383011,0.129050150513649,-0.194756031036377));
res += mul(Get(s3,0,-dy), float4x4(-0.052977189421654,-0.170715346932411,-0.052118919789791,-0.172130182385445,0.153526991605759,-0.073673881590366,-0.082178212702274,0.195487245917320,0.027068521827459,-0.252785176038742,-0.159067690372467,-0.035638332366943,-0.112171307206154,0.050670303404331,-0.118271388113499,0.076206654310226));
res += mul(Get(s3,0,0), float4x4(-0.190211609005928,-0.045034296810627,0.064843960106373,0.018431924283504,0.067486368119717,0.090800352394581,-0.207933962345123,-0.203069880604744,-0.122017040848732,-0.083030745387077,-0.077331520617008,0.013700868934393,-0.108433529734612,-0.136181712150574,-0.160079419612885,0.012302699498832));
res += mul(Get(s3,0,dy), float4x4(-0.202601179480553,0.031817410141230,0.079613626003265,-0.199108898639679,-0.004312466830015,0.009922907687724,0.063397608697414,-0.170453622937202,0.012797888368368,-0.091637261211872,-0.118427947163582,0.319655001163483,-0.153697848320007,-0.193828880786896,-0.139659643173218,0.049334134906530));
res += mul(Get(s3,dx,-dy), float4x4(0.233112767338753,0.070211298763752,-0.116773314774036,0.050498630851507,-0.094285592436790,-0.201673597097397,0.094348244369030,0.004831314552575,0.159200325608253,0.092700272798538,-0.126554220914841,0.072551086544991,-0.104505471885204,0.182751640677452,-0.132920905947685,0.184140086174011));
res += mul(Get(s3,dx,0), float4x4(0.122808516025543,-0.069238543510437,-0.428504824638367,0.077129572629929,-0.143264174461365,-0.066321343183517,0.092302702367306,-0.046275936067104,0.031345233321190,0.111798346042633,0.216597944498062,-0.153224065899849,-0.134566694498062,0.117229141294956,-0.242852658033371,0.304888159036636));
res += mul(Get(s3,dx,dy), float4x4(-0.056731902062893,0.188806623220444,-0.232598438858986,-0.104932077229023,-0.216740325093269,-0.109804041683674,0.323709249496460,-0.077388793230057,0.001138206687756,0.077823691070080,-0.011027546599507,0.134408354759216,-0.112631946802139,-0.121526956558228,-0.210782423615456,0.215937897562981));
return max(float4(0,0,0,0), res);
}
