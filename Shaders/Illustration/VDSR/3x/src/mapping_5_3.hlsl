sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.078367255628109,-0.005089368205518,0.020927108824253,0.047347586601973,0.166821762919426,-0.114308178424835,-0.107265993952751,0.089731484651566,-0.042822178453207,0.007406791672111,0.098830878734589,-0.116217434406281,-0.106640532612801,-0.133370831608772,-0.028480323031545,-0.187897592782974));
res += mul(Get(s0,-dx,0), float4x4(0.066521681845188,0.065790139138699,-0.028591768816113,-0.215000346302986,-0.248001575469971,-0.142728671431541,0.103761844336987,-0.137236431241035,0.087496630847454,0.007735266350210,-0.091166600584984,0.048534810543060,-0.114548265933990,0.033132802695036,0.127078592777252,0.190350100398064));
res += mul(Get(s0,-dx,dy), float4x4(0.097949713468552,0.017052434384823,-0.199320763349533,-0.063112579286098,-0.096376895904541,-0.107794582843781,-0.133603602647781,-0.116297855973244,0.056113459169865,-0.015234801918268,-0.143103957176208,0.068515315651894,-0.131003186106682,0.244122937321663,0.060694184154272,-0.013927076943219));
res += mul(Get(s0,0,-dy), float4x4(-0.161123499274254,0.109208591282368,0.094673000276089,0.135250717401505,0.040855437517166,-0.020535016432405,-0.001808519940823,-0.025051757693291,-0.004263132344931,-0.227515637874603,-0.016400123015046,-0.063690274953842,0.060736421495676,-0.182036519050598,-0.142410844564438,-0.078030996024609));
res += mul(Get(s0,0,0), float4x4(0.193044885993004,0.000923669314943,0.032426252961159,-0.032375417649746,0.081033304333687,-0.011182819493115,-0.028459725901484,-0.070787750184536,0.091623328626156,0.164372071623802,-0.037914205342531,0.167650952935219,-0.142595499753952,-0.202081561088562,0.095627337694168,0.022334193810821));
res += mul(Get(s0,0,dy), float4x4(-0.006410894915462,0.052114013582468,-0.050841834396124,0.082748278975487,-0.182417690753937,0.200481578707695,0.029226886108518,-0.222170591354370,-0.066656790673733,0.077586807310581,0.062605671584606,-0.029144013300538,-0.006811768282205,0.044183135032654,-0.040634788572788,-0.049925997853279));
res += mul(Get(s0,dx,-dy), float4x4(-0.166957885026932,0.099205546081066,0.017789645120502,-0.034521151334047,0.149803593754768,-0.010927964001894,0.051067832857370,-0.110663458704948,0.168645381927490,-0.027254384011030,0.099876515567303,-0.206927150487900,-0.014853119850159,-0.183511048555374,0.013123680837452,0.145546436309814));
res += mul(Get(s0,dx,0), float4x4(-0.047642890363932,0.039949726313353,-0.026901785284281,0.129154458642006,-0.156337529420853,-0.001283719437197,-0.182182744145393,-0.075648941099644,0.003495084587485,-0.030305232852697,0.036610525101423,0.009937025606632,-0.085993051528931,-0.099550336599350,0.118005938827991,0.182025551795959));
res += mul(Get(s0,dx,dy), float4x4(-0.072310306131840,0.073668465018272,-0.005484476685524,-0.014951189979911,-0.097730584442616,0.110098913311958,0.121809810400009,-0.134551301598549,-0.210626438260078,-0.034795962274075,0.073872059583664,0.087780259549618,0.011738275177777,-0.071339510381222,-0.120813190937042,0.089153990149498));
res += mul(Get(s1,-dx,-dy), float4x4(-0.079876750707626,-0.026825966313481,-0.133608967065811,-0.067032895982265,0.104926429688931,-0.110217295587063,-0.006860324647278,0.001178661244921,-0.113163515925407,0.165194392204285,0.055502533912659,0.068603157997131,0.055999893695116,0.097965583205223,0.081665948033333,0.075558334589005));
res += mul(Get(s1,-dx,0), float4x4(0.202956035733223,-0.036682181060314,0.055753435939550,-0.259909123182297,0.048101853579283,0.055468093603849,-0.102751091122627,-0.031340893357992,0.047792233526707,0.075598351657391,0.087276495993137,-0.102345250546932,0.044995881617069,0.037617500871420,-0.020718693733215,0.001768529415131));
res += mul(Get(s1,-dx,dy), float4x4(-0.169054850935936,0.021463803946972,-0.064763218164444,-0.124995186924934,-0.113415509462357,-0.125235065817833,-0.004157104529440,-0.034457672387362,0.085108488798141,-0.034490775316954,0.067535042762756,0.040052443742752,0.068656720221043,-0.037755500525236,-0.014717496931553,0.147911295294762));
res += mul(Get(s1,0,-dy), float4x4(0.025012990459800,-0.100173287093639,0.034501396119595,-0.017716530710459,-0.140873417258263,0.099782295525074,0.098260127007961,0.213425412774086,0.139244943857193,0.096772521734238,-0.029531987383962,0.086536616086960,-0.050764631479979,0.168393567204475,-0.149744644761086,0.086405143141747));
res += mul(Get(s1,0,0), float4x4(-0.058468088507652,0.012811153195798,0.198042511940002,-0.243642896413803,-0.062217969447374,-0.050545435398817,-0.036027345806360,0.053094528615475,0.030980322510004,0.023152509704232,-0.137832552194595,0.127293422818184,0.120346352458000,-0.015989484265447,0.017905972898006,0.030680816620588));
res += mul(Get(s1,0,dy), float4x4(-0.024647917598486,-0.017509916797280,-0.102061659097672,-0.110065117478371,0.047809947282076,-0.004887260962278,-0.131179630756378,-0.063180088996887,0.023425592109561,-0.059758543968201,0.264540433883667,0.032971110194921,0.102360233664513,0.065965414047241,0.019079331308603,0.150721102952957));
res += mul(Get(s1,dx,-dy), float4x4(-0.196614176034927,-0.119036018848419,0.068532511591911,0.114464305341244,-0.125153943896294,0.033888351172209,0.088333845138550,-0.030204700306058,-0.112085826694965,0.022027319297194,0.028422262519598,-0.041301671415567,-0.035301107913256,-0.065307743847370,0.108066894114017,0.101117201149464));
res += mul(Get(s1,dx,0), float4x4(0.087420754134655,-0.251583993434906,0.143745049834251,-0.074326984584332,-0.029195046052337,0.300912529230118,-0.004346490371972,0.067654885351658,-0.223383486270905,-0.160555616021156,-0.190434888005257,0.066836029291153,-0.073642268776894,0.023826137185097,-0.151247650384903,0.041802965104580));
res += mul(Get(s1,dx,dy), float4x4(0.020271439105272,-0.049018200486898,-0.155218482017517,-0.062132034450769,-0.243982002139091,0.044255781918764,-0.051418349146843,0.172457829117775,0.106018297374249,0.027489511296153,-0.058129694312811,-0.023174744099379,-0.011742984876037,0.051469653844833,0.120519995689392,-0.111223593354225));
res += mul(Get(s2,-dx,-dy), float4x4(0.059346940368414,0.070872344076633,-0.124710075557232,0.177325710654259,-0.008072473108768,0.008524359203875,-0.074016332626343,-0.046436324715614,-0.046904239803553,0.108394823968410,-0.104815386235714,-0.004363573156297,0.054491505026817,-0.081375233829021,-0.007714758161455,-0.051322627812624));
res += mul(Get(s2,-dx,0), float4x4(0.103824764490128,-0.009485730901361,0.017459005117416,0.030040320008993,-0.014789276756346,0.165734708309174,0.040938824415207,-0.119723513722420,0.052653018385172,-0.055321753025055,-0.160730451345444,-0.138931378722191,0.084162734448910,-0.035281296819448,-0.052980937063694,-0.003001481993124));
res += mul(Get(s2,-dx,dy), float4x4(0.078978873789310,0.014400088228285,0.186052203178406,-0.027990180999041,0.112846978008747,0.080522723495960,0.346631288528442,0.080131866037846,-0.001969680655748,-0.079138919711113,-0.013123909942806,0.013933489099145,0.069443456828594,0.116896718740463,0.104659855365753,0.147544980049133));
res += mul(Get(s2,0,-dy), float4x4(-0.212899386882782,0.142254382371902,0.126296535134315,0.006285027135164,0.009866366162896,-0.052444659173489,0.092617012560368,-0.069091983139515,-0.057663738727570,-0.057435538619757,0.050511304289103,-0.149514317512512,-0.112188361585140,0.050082162022591,-0.038025878369808,0.060215953737497));
res += mul(Get(s2,0,0), float4x4(0.026840232312679,0.165159851312637,0.075840309262276,0.156821832060814,0.094263896346092,0.046254105865955,0.120783433318138,-0.097400218248367,0.048385512083769,-0.225795477628708,0.251048237085342,0.063134305179119,-0.012644083239138,-0.008369549177587,0.118930988013744,-0.079053089022636));
res += mul(Get(s2,0,dy), float4x4(-0.350323975086212,-0.089622676372528,0.168604075908661,0.048986617475748,-0.011914223432541,-0.086585864424706,0.090939640998840,-0.026441171765327,-0.097701512277126,-0.003251790767536,-0.039380207657814,0.048551019281149,0.047118335962296,0.042900383472443,0.048631086945534,-0.184759035706520));
res += mul(Get(s2,dx,-dy), float4x4(-0.178354173898697,0.048716273158789,-0.160114809870720,-0.132299080491066,-0.103877246379852,-0.008710272610188,-0.123933129012585,0.121398851275444,0.096110671758652,-0.107238024473190,0.008646956644952,-0.028221609070897,-0.126294523477554,0.071910157799721,0.045970268547535,-0.126925110816956));
res += mul(Get(s2,dx,0), float4x4(-0.095189243555069,0.216100484132767,0.103213563561440,-0.034893374890089,-0.134354099631310,0.150723397731781,-0.217977538704872,-0.126594543457031,0.134790658950806,-0.161346256732941,0.313471019268036,-0.105469800531864,-0.023409722372890,0.086284711956978,-0.200995832681656,-0.037767961621284));
res += mul(Get(s2,dx,dy), float4x4(0.003097989363596,-0.004886043258011,0.058970849961042,-0.117397330701351,0.129762336611748,-0.079906448721886,0.026313021779060,0.069760970771313,0.194807350635529,0.020119573920965,-0.049514658749104,-0.031046394258738,-0.154131650924683,0.003808225505054,-0.103316694498062,-0.143444120883942));
res += mul(Get(s3,-dx,-dy), float4x4(-0.037115547806025,-0.170745804905891,-0.112414672970772,-0.070457972586155,0.008307506330311,-0.095502689480782,-0.068802379071712,-0.037969905883074,-0.019189788028598,-0.149520874023438,-0.137811049818993,0.106853291392326,0.045669578015804,0.012776880525053,-0.041946120560169,0.020633963868022));
res += mul(Get(s3,-dx,0), float4x4(0.016882047057152,-0.174557402729988,-0.123628064990044,0.147425085306168,0.097962796688080,0.059805773198605,-0.075050130486488,0.038626473397017,0.003811332397163,-0.052213266491890,0.061265043914318,-0.093500018119812,-0.010132153518498,-0.013937938027084,0.105778574943542,-0.090559974312782));
res += mul(Get(s3,-dx,dy), float4x4(0.030110847204924,0.046776719391346,0.080685451626778,0.093157008290291,-0.008844217285514,0.099069572985172,0.065368779003620,0.134183824062347,0.011053105816245,0.038373209536076,-0.038041967898607,0.060149535536766,-0.062718756496906,0.051296338438988,-0.133831486105919,0.038302090018988));
res += mul(Get(s3,0,-dy), float4x4(0.067117825150490,0.022770712152123,0.192855477333069,-0.010933971032500,-0.082481615245342,-0.016409706324339,-0.008660522289574,-0.321095287799835,-0.024930141866207,0.208616450428963,-0.026122547686100,-0.238175705075264,-0.105682447552681,-0.029677340760827,0.178543314337730,0.012527763843536));
res += mul(Get(s3,0,0), float4x4(0.100316293537617,0.096524626016617,0.047819323837757,0.209397807717323,-0.057835396379232,-0.041190393269062,0.040863268077374,-0.115588933229446,-0.170935094356537,0.094088152050972,-0.055342335253954,0.032069738954306,-0.173621922731400,-0.020125234499574,0.108746238052845,0.024768494069576));
res += mul(Get(s3,0,dy), float4x4(-0.032574851065874,0.146154582500458,-0.075116112828255,0.031429532915354,-0.072466760873795,-0.003958250395954,-0.139948979020119,0.163263604044914,-0.062411364167929,0.232270911335945,-0.065547659993172,0.052396278828382,-0.103338219225407,-0.057680685073137,-0.043852638453245,-0.007356313057244));
res += mul(Get(s3,dx,-dy), float4x4(0.102137655019760,-0.084977634251118,0.129171743988991,0.085619144141674,-0.121736645698547,-0.114316143095493,0.109814018011093,0.061873305588961,-0.115566603839397,-0.045079585164785,-0.123123593628407,0.087024278938770,-0.070221133530140,-0.054218161851168,0.138059929013252,-0.071343079209328));
res += mul(Get(s3,dx,0), float4x4(0.109053440392017,-0.115400455892086,0.200645342469215,0.072704203426838,0.134382605552673,0.059744454920292,-0.091712966561317,0.015868090093136,0.074824914336205,0.098902419209480,-0.059797067195177,-0.103327684104443,-0.013219061307609,-0.040175240486860,-0.146730542182922,-0.086431890726089));
res += mul(Get(s3,dx,dy), float4x4(-0.023384111002088,-0.208987236022949,0.065368957817554,-0.092448383569717,-0.232153132557869,0.027536736801267,-0.069260492920876,0.092953518033028,-0.044076692312956,0.051786724478006,0.234400317072868,0.058448702096939,0.045633055269718,0.082976453006268,0.032076846808195,0.019715256989002));
return max(float4(0,0,0,0), res);
}
