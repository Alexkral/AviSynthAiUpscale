sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.064821526408195,0.097771592438221,-0.071706436574459,0.145813390612602,-0.155337780714035,0.077018044888973,0.164074212312698,0.377197027206421,-0.156034737825394,-0.064318537712097,0.216904744505882,-0.017810864374042,0.097572021186352,-0.164341166615486,0.106621697545052,-0.126937314867973));
res += mul(Get(s0,-dx,0), float4x4(-0.098625592887402,-0.013879332691431,-0.130349561572075,0.101874560117722,-0.005053709726781,-0.102209948003292,-0.003470083000138,-0.037613987922668,-0.135025143623352,-0.015403566882014,0.038915071636438,0.105686016380787,0.083881460130215,0.073961399495602,0.113452717661858,0.104220256209373));
res += mul(Get(s0,-dx,dy), float4x4(-0.251338124275208,-0.137822791934013,-0.010934766381979,-0.151639014482498,0.101165488362312,-0.128677189350128,-0.018467437475920,-0.002634439617395,-0.025433070957661,-0.223897680640221,-0.087642014026642,0.121817551553249,0.177566692233086,-0.052734948694706,0.145174637436867,-0.018304938450456));
res += mul(Get(s0,0,-dy), float4x4(-0.044921074062586,-0.123406656086445,-0.016403295099735,0.098749853670597,-0.104322373867035,0.107550688087940,-0.015095856972039,-0.133494868874550,0.237151890993118,-0.033195525407791,0.088268868625164,-0.132735967636108,0.126453667879105,-0.085890524089336,0.089293070137501,-0.109769716858864));
res += mul(Get(s0,0,0), float4x4(-0.052317395806313,-0.097388476133347,0.026402177289128,-0.112203210592270,-0.008844333700836,0.073545865714550,0.043324396014214,-0.115800231695175,0.141336828470230,-0.027979858219624,0.059589933604002,-0.045735742896795,0.228773519396782,0.101206555962563,-0.006814499851316,-0.146707609295845));
res += mul(Get(s0,0,dy), float4x4(-0.086410515010357,-0.178007826209068,0.114575706422329,-0.133714616298676,0.056245718151331,-0.075747177004814,0.229875907301903,-0.150589749217033,-0.046304401010275,-0.224862679839134,-0.040436487644911,-0.073386743664742,-0.138577744364738,-0.006543801631778,0.063740752637386,-0.082916699349880));
res += mul(Get(s0,dx,-dy), float4x4(-0.146180123090744,-0.202923774719238,-0.021592486649752,0.060722533613443,-0.002006560331210,-0.009153665043414,-0.139597743749619,0.155301675200462,0.067798234522343,-0.018697623163462,-0.049064088612795,0.016311366111040,0.204161271452904,0.139836713671684,-0.006933750119060,-0.141883358359337));
res += mul(Get(s0,dx,0), float4x4(0.029457004740834,-0.085229627788067,-0.014426658861339,-0.240156859159470,-0.012041343376040,-0.017707636579871,-0.071348764002323,0.043808061629534,-0.166293323040009,-0.025966484099627,-0.083605706691742,-0.023783953860402,0.062173236161470,-0.084156259894371,-0.096252016723156,-0.135614961385727));
res += mul(Get(s0,dx,dy), float4x4(0.096633739769459,0.082090876996517,0.112114511430264,-0.167263537645340,-0.066463872790337,0.034644532948732,-0.059936631470919,0.047966357320547,-0.277568906545639,-0.182517975568771,-0.074415273964405,-0.105808593332767,0.185359746217728,-0.076451614499092,0.010728255845606,-0.233960986137390));
res += mul(Get(s1,-dx,-dy), float4x4(-0.182344585657120,-0.185017019510269,-0.058968398720026,-0.284189909696579,0.009981623850763,0.077500604093075,0.035317286849022,-0.020323576405644,0.139497980475426,0.119485855102539,-0.103750616312027,-0.032470192760229,-0.009928192943335,0.146198019385338,0.122562490403652,0.037182264029980));
res += mul(Get(s1,-dx,0), float4x4(-0.092272922396660,-0.284511238336563,-0.014859857037663,-0.096619710326195,-0.205855831503868,0.239429935812950,0.024369550868869,-0.086395166814327,0.094153791666031,-0.179326012730598,-0.046082220971584,-0.149809598922729,0.030235704034567,0.111452579498291,-0.116086713969707,-0.028872655704618));
res += mul(Get(s1,-dx,dy), float4x4(-0.137112811207771,-0.260803073644638,0.118340767920017,-0.163172230124474,0.078071743249893,0.203439399600029,0.020210510119796,-0.216153666377068,-0.072244942188263,-0.142166703939438,-0.108755633234978,0.069534167647362,0.154516607522964,-0.176497906446457,-0.081839703023434,-0.054269202053547));
res += mul(Get(s1,0,-dy), float4x4(0.044825952500105,0.125717759132385,-0.059000615030527,0.070861861109734,0.137156382203102,0.247184142470360,-0.101506747305393,-0.083367355167866,-0.031789675354958,0.044689517468214,-0.068176299333572,0.391761690378189,0.063204288482666,0.014369276352227,-0.178366959095001,-0.070898234844208));
res += mul(Get(s1,0,0), float4x4(0.042022403329611,0.041047908365726,-0.085440374910831,0.066248185932636,-0.133298784494400,0.068947695195675,-0.017014112323523,-0.134908437728882,-0.103453896939754,-0.099478401243687,-0.126293659210205,-0.147156536579132,0.220280170440674,0.206057682633400,-0.155892729759216,-0.201775252819061));
res += mul(Get(s1,0,dy), float4x4(0.156692236661911,0.014835315756500,-0.033365130424500,-0.002643034327775,0.242529109120369,0.069166600704193,-0.051364056766033,-0.228994935750961,-0.128600835800171,-0.286521345376968,-0.120730571448803,-0.118625961244106,0.069030597805977,-0.025650728493929,-0.230664879083633,-0.138196185231209));
res += mul(Get(s1,dx,-dy), float4x4(-0.319649726152420,-0.031523358076811,-0.020754970610142,0.030994482338428,0.196243450045586,-0.080224655568600,-0.122855670750141,-0.187477007508278,-0.061966374516487,-0.027365440502763,-0.209137544035912,-0.067616768181324,-0.134002819657326,-0.079802826046944,0.035497430711985,-0.019188646227121));
res += mul(Get(s1,dx,0), float4x4(-0.009834686294198,-0.120064362883568,0.076147049665451,-0.065699651837349,-0.217177078127861,0.105826772749424,-0.014141649939120,-0.233820006251335,0.360480666160583,-0.123263336718082,-0.131632149219513,-0.161581441760063,0.077833794057369,-0.078836999833584,0.086387090384960,-0.096541598439217));
res += mul(Get(s1,dx,dy), float4x4(0.067642919719219,-0.049483858048916,0.112953856587410,-0.050474058836699,0.098659873008728,0.054703664034605,-0.024540329352021,-0.313232243061066,0.209284767508507,-0.072233930230141,-0.206436261534691,-0.094384379684925,-0.061430893838406,-0.168950587511063,-0.118833914399147,-0.139424055814743));
res += mul(Get(s2,-dx,-dy), float4x4(-0.175317689776421,-0.233873814344406,-0.206598892807961,0.145068541169167,-0.175834044814110,0.382327884435654,-0.281005799770355,-0.004180868621916,-0.156568914651871,-0.100377798080444,-0.052583765238523,0.010206862352788,0.151683941483498,-0.045134920626879,-0.004236344713718,0.056319266557693));
res += mul(Get(s2,-dx,0), float4x4(-0.033148057758808,0.059951648116112,0.140870019793510,-0.065846651792526,-0.036138642579317,-0.263659685850143,-0.038393307477236,-0.103648588061333,0.028217785060406,-0.110597677528858,-0.055265866219997,0.030924629420042,-0.052218321710825,0.047022376209497,-0.101008579134941,-0.025589765980840));
res += mul(Get(s2,-dx,dy), float4x4(0.019508831202984,-0.187329277396202,-0.071840286254883,0.087966196238995,0.076105594635010,-0.238726750016212,0.061876129359007,0.062438935041428,0.402590334415436,-0.007242855615914,-0.006219355855137,0.059953402727842,-0.023284342139959,0.058456793427467,0.147491112351418,-0.066687405109406));
res += mul(Get(s2,0,-dy), float4x4(-0.092128895223141,0.075253874063492,0.103879518806934,-0.116023071110249,-0.054108593612909,-0.082990542054176,-0.175409182906151,0.046675849705935,-0.153050526976585,0.091844350099564,-0.078580170869827,-0.062642097473145,-0.078684419393539,0.007033638190478,0.035212285816669,-0.124311499297619));
res += mul(Get(s2,0,0), float4x4(0.070250280201435,0.131184816360474,0.241094559431076,-0.085642330348492,0.058145731687546,-0.149617686867714,0.102799154818058,-0.057669781148434,-0.032030604779720,-0.084616139531136,-0.071462154388428,0.123797781765461,-0.182683899998665,-0.057422995567322,-0.035261541604996,-0.117021389305592));
res += mul(Get(s2,0,dy), float4x4(0.234887719154358,-0.090412661433220,0.172151699662209,-0.136609554290771,0.279555469751358,-0.108699224889278,0.110679298639297,-0.025178009644151,0.107019647955894,0.005924144759774,-0.166043326258659,0.024911802262068,0.009240067563951,-0.251077502965927,0.317443490028381,-0.171059042215347));
res += mul(Get(s2,dx,-dy), float4x4(-0.089278340339661,-0.016169195994735,-0.055591821670532,-0.154393568634987,-0.151548340916634,0.011538391932845,-0.052869345992804,-0.050441816449165,0.066229492425919,-0.051028817892075,-0.064920671284199,0.169078275561333,0.263778239488602,0.171514973044395,-0.030626375228167,-0.211040422320366));
res += mul(Get(s2,dx,0), float4x4(0.232652544975281,-0.025624454021454,0.202874571084976,-0.245730668306351,-0.033928576856852,-0.024549435824156,0.167195662856102,-0.014467864297330,0.055759713053703,0.042324651032686,-0.118244200944901,-0.025256274268031,-0.202416673302650,0.097084879875183,-0.180715307593346,-0.236404985189438));
res += mul(Get(s2,dx,dy), float4x4(-0.036639112979174,-0.159030973911285,-0.026965439319611,-0.217170402407646,0.047925796359777,0.116832993924618,-0.011740450747311,0.281119883060455,-0.059938821941614,0.022773964330554,-0.137472495436668,0.073931209743023,0.260822445154190,0.110585123300552,-0.075504399836063,-0.259005039930344));
res += mul(Get(s3,-dx,-dy), float4x4(-0.063919901847839,0.000443587603513,-0.070313423871994,0.222666889429092,-0.170935228466988,0.121686168015003,-0.050425481051207,0.101699359714985,0.117666289210320,0.054228011518717,0.005903174635023,0.139182507991791,0.028091050684452,-0.013443710282445,0.066457569599152,0.177938610315323));
res += mul(Get(s3,-dx,0), float4x4(-0.117349155247211,-0.176558062434196,-0.022053007036448,0.117426685988903,-0.257153928279877,0.054491356015205,0.017128581181169,-0.094415098428726,0.032269779592752,-0.061083272099495,-0.125365674495697,0.063219346106052,-0.108064815402031,0.075696103274822,0.081169746816158,-0.008891304023564));
res += mul(Get(s3,-dx,dy), float4x4(-0.086146362125874,-0.232923597097397,-0.066340036690235,-0.030844068154693,0.038577374070883,-0.247422471642494,-0.056603040546179,-0.118977107107639,0.113752618432045,-0.008494561538100,0.133274197578430,0.073319345712662,0.059756401926279,0.158007875084877,0.174245640635490,0.077273108065128));
res += mul(Get(s3,0,-dy), float4x4(-0.136479213833809,0.238729342818260,-0.141315564513206,-0.065116375684738,-0.050495643168688,0.212940916419029,-0.011117026209831,0.164815783500671,-0.061713609844446,-0.067692719399929,-0.043373458087444,0.163001254200935,0.017424445599318,-0.071948036551476,0.011736102402210,0.125714823603630));
res += mul(Get(s3,0,0), float4x4(-0.011387418024242,0.005061978008598,-0.032792583107948,0.121426090598106,-0.091608233749866,0.280710101127625,-0.032843213528395,-0.062314476817846,-0.165898561477661,0.049224391579628,0.240597143769264,0.079346209764481,-0.033894978463650,-0.074019841849804,0.100839979946613,-0.093991853296757));
res += mul(Get(s3,0,dy), float4x4(0.000627564673778,-0.141912087798119,-0.104015052318573,-0.218731984496117,0.068693116307259,0.105113744735718,-0.062671318650246,-0.074771858751774,-0.026853594928980,0.153872251510620,0.082529924809933,0.088169381022453,-0.182042703032494,0.209806591272354,-0.175598397850990,-0.085479758679867));
res += mul(Get(s3,dx,-dy), float4x4(-0.004750401247293,0.193467766046524,-0.172164708375931,-0.057800974696875,-0.075118988752365,0.161549210548401,-0.078472599387169,0.198615416884422,-0.037699270993471,-0.112927533686161,0.157324984669685,0.127544045448303,-0.099933899939060,-0.021014155820012,-0.001666160649620,0.149522110819817));
res += mul(Get(s3,dx,0), float4x4(-0.078538291156292,-0.076407253742218,-0.053945261985064,-0.082730524241924,0.146241381764412,0.201934278011322,-0.165686994791031,0.069203786551952,-0.031015362590551,-0.117270305752754,0.253910750150681,0.030161816626787,0.037555050104856,-0.017476037144661,0.248661845922470,-0.082199618220329));
res += mul(Get(s3,dx,dy), float4x4(-0.068856954574585,-0.095584489405155,-0.104478351771832,-0.091306209564209,0.001469482202083,-0.007601586170495,-0.019986994564533,0.050174351781607,-0.131797522306442,-0.137821644544601,0.104784615337849,0.093494035303593,-0.002301695058122,-0.290673494338989,-0.112884186208248,-0.182248085737228));
return max(float4(0,0,0,0), res);
}
