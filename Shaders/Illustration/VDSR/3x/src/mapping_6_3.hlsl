sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.041215304285288,-0.074261337518692,-0.008349807001650,0.125377625226974,-0.019973827525973,-0.005033970344812,0.211839452385902,-0.063261248171329,-0.165911465883255,-0.175929203629494,0.011380380019546,0.011908173561096,-0.025504102930427,0.157024919986725,-0.150909289717674,-0.054654609411955));
res += mul(Get(s0,-dx,0), float4x4(0.034531500190496,0.098984368145466,0.081546872854233,-0.015358421020210,0.093315348029137,-0.241442799568176,-0.108744017779827,-0.062498871237040,0.021197106689215,0.032449100166559,0.088440366089344,0.080054245889187,0.139804378151894,-0.163900926709175,0.038168199360371,0.001921584596857));
res += mul(Get(s0,-dx,dy), float4x4(-0.016881546005607,0.295893311500549,-0.049227278679609,-0.082249529659748,-0.046301361173391,-0.010869963094592,0.085367299616337,0.216421946883202,-0.043847065418959,-0.039197415113449,-0.155001416802406,-0.002911655930802,-0.059667229652405,0.105422034859657,-0.124357514083385,-0.126681879162788));
res += mul(Get(s0,0,-dy), float4x4(-0.114258073270321,0.015172607265413,0.007372740656137,0.098933957517147,-0.019989069551229,-0.097555361688137,0.022525858134031,-0.117591172456741,-0.034530267119408,0.074656933546066,0.074577361345291,-0.204850122332573,-0.085971474647522,0.100746788084507,0.077111601829529,0.046234365552664));
res += mul(Get(s0,0,0), float4x4(-0.072696492075920,-0.000701225420926,0.296918928623199,0.085301391780376,0.094054602086544,-0.120884828269482,-0.087275192141533,0.068111814558506,-0.000232498365222,0.010650321841240,-0.039662458002567,-0.160052597522736,-0.026252515614033,-0.126494064927101,0.172982603311539,0.048682473599911));
res += mul(Get(s0,0,dy), float4x4(-0.095574334263802,0.070571497082710,-0.402478218078613,0.120369218289852,-0.055379007011652,0.147754296660423,0.132679343223572,-0.039954423904419,0.103705428540707,-0.157898232340813,0.103878028690815,-0.098595306277275,-0.163437455892563,0.042134165763855,-0.070049308240414,-0.007424520328641));
res += mul(Get(s0,dx,-dy), float4x4(-0.070314846932888,0.054796203970909,-0.161183968186378,0.109532065689564,-0.131884709000587,0.036384917795658,0.183137431740761,-0.043762572109699,0.194163203239441,0.126670226454735,0.099346175789833,-0.158342555165291,0.156173884868622,0.307386964559555,-0.017979828640819,-0.062680296599865));
res += mul(Get(s0,dx,0), float4x4(0.052592251449823,-0.063050009310246,0.190873935818672,0.298385858535767,-0.046295154839754,0.034831449389458,-0.000944701372646,-0.044701166450977,0.200668126344681,-0.126659631729126,-0.199039682745934,-0.081222273409367,-0.006656575482339,-0.093559145927429,-0.023428510874510,-0.037368383258581));
res += mul(Get(s0,dx,dy), float4x4(0.024351160973310,0.053863253444433,0.102520115673542,-0.149344816803932,-0.026850994676352,0.380617082118988,0.299210667610168,-0.005688448902220,0.097489893436432,0.066193737089634,-0.004131981171668,-0.125244513154030,-0.025222137570381,-0.081517353653908,-0.047338772565126,-0.143625974655151));
res += mul(Get(s1,-dx,-dy), float4x4(0.158319428563118,0.027271129190922,-0.063349865376949,-0.052676327526569,0.055556342005730,-0.018243292346597,-0.027998514473438,-0.012044113129377,-0.007544058840722,-0.003648041980341,-0.105135440826416,-0.151515126228333,-0.199912220239639,-0.041544377803802,-0.147254705429077,0.075017124414444));
res += mul(Get(s1,-dx,0), float4x4(0.011278070509434,-0.196531683206558,0.020423518493772,0.011308782733977,0.025147641077638,-0.129993245005608,-0.013878826051950,-0.009878813289106,0.046326417475939,-0.099932223558426,0.054392445832491,-0.033281482756138,-0.008425420150161,-0.027751855552197,-0.022313609719276,0.290589392185211));
res += mul(Get(s1,-dx,dy), float4x4(0.082298465073109,0.043973509222269,-0.029698362573981,-0.058045361191034,-0.018228569999337,-0.116030797362328,-0.192552611231804,0.010394826531410,-0.017422424629331,0.046007234603167,0.123325660824776,0.011765313334763,-0.105804488062859,0.034273624420166,-0.122120223939419,-0.008001754991710));
res += mul(Get(s1,0,-dy), float4x4(0.238637834787369,-0.089700378477573,-0.085614383220673,-0.083246432244778,0.051921065896749,0.130440443754196,-0.020771503448486,0.150140538811684,-0.129664853215218,0.049834270030260,0.087237544357777,-0.035604737699032,-0.114249043166637,0.060784507542849,-0.147564902901649,-0.109955161809921));
res += mul(Get(s1,0,0), float4x4(-0.066218502819538,0.021393071860075,0.145668759942055,-0.114679545164108,-0.018766431137919,-0.030441109091043,-0.014363223686814,-0.010481433011591,0.059852845966816,-0.079564653337002,0.142468169331551,0.201549783349037,-0.046742632985115,0.093580618500710,0.124986171722412,-0.065421849489212));
res += mul(Get(s1,0,dy), float4x4(-0.216208145022392,0.024733640253544,0.041276950389147,0.008143831975758,-0.037722859531641,0.048175111413002,-0.071708463132381,0.098902747035027,0.083558082580566,-0.059764910489321,0.039180025458336,0.073039747774601,0.028351960703731,-0.007936261594296,-0.087748393416405,0.031806744635105));
res += mul(Get(s1,dx,-dy), float4x4(0.102374546229839,-0.158624723553658,0.074562482535839,0.104270204901695,0.253707528114319,0.012349954806268,-0.099172472953796,0.128094837069511,-0.040680769830942,0.056362405419350,0.067481689155102,-0.190325543284416,-0.162227228283882,-0.024917878210545,0.137414976954460,0.018543852493167));
res += mul(Get(s1,dx,0), float4x4(-0.044990874826908,-0.089516088366508,-0.093966424465179,-0.092251934111118,-0.033993836492300,-0.130791932344437,-0.065193422138691,-0.096379064023495,0.048793207854033,-0.056338071823120,0.033246260136366,-0.015354817733169,0.079659111797810,-0.001244951854460,0.119571343064308,0.070451214909554));
res += mul(Get(s1,dx,dy), float4x4(-0.129705488681793,-0.303537815809250,0.317184001207352,0.301157265901566,-0.146087124943733,-0.143550381064415,-0.149861276149750,-0.028524119406939,-0.046340737491846,-0.073415666818619,0.219059184193611,-0.115929715335369,0.076445311307907,-0.236221015453339,-0.058167777955532,0.138492748141289));
res += mul(Get(s2,-dx,-dy), float4x4(0.275338649749756,0.093770004808903,-0.073200039565563,-0.053035404533148,-0.077658563852310,0.129740297794342,-0.075518533587456,0.149064958095551,-0.040779143571854,-0.067345693707466,-0.097916491329670,-0.057508524507284,-0.145069733262062,0.423774898052216,-0.003192261327058,0.006319814827293));
res += mul(Get(s2,-dx,0), float4x4(0.006701081991196,0.124999754130840,0.041222974658012,-0.034442640841007,0.105659522116184,-0.120630800724030,0.064606294035912,0.116900473833084,-0.065715737640858,-0.074811317026615,0.066037818789482,0.054806541651487,-0.149909839034081,-0.066692396998405,-0.097523048520088,-0.077318571507931));
res += mul(Get(s2,-dx,dy), float4x4(-0.028461972251534,-0.056081756949425,-0.213418319821358,-0.022235004231334,-0.274106293916702,0.189156711101532,-0.012954661622643,0.143785864114761,-0.017519759014249,-0.068621978163719,0.119044050574303,-0.076348789036274,-0.061535060405731,0.206250593066216,-0.158267855644226,-0.066406026482582));
res += mul(Get(s2,0,-dy), float4x4(0.132817879319191,0.052389308810234,0.207568570971489,-0.049304127693176,-0.015793249011040,0.086821958422661,0.125006601214409,0.022418081760406,-0.200902864336967,-0.059110049158335,-0.138480678200722,0.093476004898548,0.092028737068176,-0.206538110971451,-0.010224819183350,-0.013669018633664));
res += mul(Get(s2,0,0), float4x4(0.140063896775246,0.103026911616325,0.064385801553726,0.109126143157482,0.168592974543571,-0.177994921803474,0.165442302823067,-0.189821988344193,-0.096019491553307,0.072564631700516,-0.091502532362938,-0.113081298768520,-0.086021728813648,-0.093073964118958,-0.085997477173805,-0.038731586188078));
res += mul(Get(s2,0,dy), float4x4(-0.031158845871687,-0.119360551238060,-0.037292227149010,-0.054346527904272,0.056487385183573,-0.057870328426361,-0.017443180084229,0.035602554678917,-0.016691893339157,0.016735566779971,0.073984540998936,-0.055911153554916,-0.166994005441666,0.120557971298695,-0.206535488367081,-0.036218274384737));
res += mul(Get(s2,dx,-dy), float4x4(-0.157466605305672,-0.062620535492897,0.094658620655537,-0.092709079384804,0.079937696456909,0.214874923229218,-0.013635777868330,-0.117267452180386,-0.261861145496368,-0.058854926377535,-0.036784552037716,-0.035160828381777,-0.026428882032633,-0.021391129121184,-0.139072477817535,0.015429100953043));
res += mul(Get(s2,dx,0), float4x4(0.129529342055321,-0.070787660777569,0.100233778357506,0.026781590655446,0.322963654994965,-0.098187744617462,0.010622438043356,-0.145938247442245,-0.177187055349350,0.116120561957359,0.079866401851177,-0.271425873041153,-0.169962137937546,-0.150545179843903,-0.265209645032883,0.032565318048000));
res += mul(Get(s2,dx,dy), float4x4(-0.068251505494118,-0.086003653705120,0.122622683644295,0.032591864466667,0.059125311672688,-0.167455688118935,-0.059011988341808,0.088765919208527,-0.084953136742115,-0.070529833436012,0.075297586619854,-0.051848288625479,-0.174908399581909,-0.041462030261755,-0.210310846567154,0.108122080564499));
res += mul(Get(s3,-dx,-dy), float4x4(-0.094737954437733,-0.016732431948185,-0.134261071681976,-0.148109421133995,0.205779179930687,0.000534407095984,0.058210596442223,-0.048689123243093,0.142607912421227,0.126287803053856,0.040128555148840,-0.080834969878197,-0.171214833855629,-0.254197835922241,-0.208502799272537,-0.058476187288761));
res += mul(Get(s3,-dx,0), float4x4(0.168312519788742,-0.171410396695137,-0.000437235139543,0.164396837353706,0.021490367129445,-0.132630437612534,-0.113993652164936,-0.073286496102810,0.140128716826439,-0.064150385558605,-0.049722429364920,0.003164224792272,-0.190062120556831,0.226231679320335,-0.206616312265396,-0.124367363750935));
res += mul(Get(s3,-dx,dy), float4x4(0.199781179428101,-0.068648755550385,-0.234494775533676,-0.024337971583009,0.074183799326420,-0.066613145172596,-0.016251707449555,0.046896453946829,-0.006312118377537,-0.036450345069170,0.145692706108093,-0.052461709827185,-0.129484161734581,-0.215389803051949,0.039494022727013,0.016395028680563));
res += mul(Get(s3,0,-dy), float4x4(-0.199556857347488,-0.063615307211876,0.028707943856716,-0.130172029137611,0.086717106401920,0.015308863483369,-0.156724423170090,-0.025856681168079,0.082550942897797,-0.004646506626159,0.151768401265144,-0.047244869172573,-0.102060116827488,-0.070503152906895,-0.115191340446472,-0.213481098413467));
res += mul(Get(s3,0,0), float4x4(-0.106480918824673,0.135565042495728,0.005446799099445,-0.080775767564774,-0.108640350401402,-0.092355735599995,-0.064032100141048,0.016917122527957,0.055061370134354,-0.100880689918995,-0.113971725106239,0.029479753226042,-0.095257773995399,0.379071176052094,-0.189595833420753,-0.123939849436283));
res += mul(Get(s3,0,dy), float4x4(-0.097826249897480,-0.002447454491630,0.013116103596985,0.043839398771524,0.177554622292519,0.072063840925694,0.105355150997639,-0.036385495215654,0.071688741445541,-0.103799931704998,-0.086001686751842,0.056625507771969,-0.182480275630951,-0.302137106657028,0.084303110837936,-0.055288475006819));
res += mul(Get(s3,dx,-dy), float4x4(-0.040684174746275,-0.088372148573399,0.024336382746696,-0.159020230174065,-0.077522739768028,-0.095345564186573,-0.054433111101389,0.049165353178978,-0.079813942313194,0.090518377721310,0.021094853058457,-0.007835216820240,0.330169975757599,-0.170207783579826,-0.221091464161873,0.006775275804102));
res += mul(Get(s3,dx,0), float4x4(0.126230835914612,0.087453447282314,-0.147705346345901,0.373932182788849,-0.017389301210642,-0.124934174120426,0.140602275729179,0.024924114346504,-0.079873882234097,-0.171054422855377,-0.110692806541920,0.003490762552246,0.045233231037855,0.015254930593073,-0.358118206262589,-0.283232897520065));
res += mul(Get(s3,dx,dy), float4x4(-0.061493866145611,-0.131298780441284,0.148427993059158,0.295606672763824,0.169458061456680,-0.018633736297488,0.045845836400986,0.084594294428825,-0.066506497561932,-0.319838434457779,-0.077477090060711,-0.037864971905947,-0.004009749274701,-0.117852173745632,-0.002622823929414,0.068095184862614));
return max(float4(0,0,0,0), res);
}
