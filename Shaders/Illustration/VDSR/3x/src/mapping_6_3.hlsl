sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.000495866057463,-0.153496637940407,-0.105098754167557,-0.134251266717911,-0.017429186031222,0.073310129344463,0.043580666184425,0.020789491012692,-0.107957884669304,-0.026177030056715,-0.029496101662517,-0.183523535728455,-0.037850905209780,0.077977657318115,-0.034362234175205,-0.064093723893166));
res += mul(Get(s0,-dx,0), float4x4(-0.066805221140385,0.038638502359390,-0.018672766163945,-0.085042223334312,-0.077669642865658,0.036843255162239,0.078374125063419,0.170667469501495,0.079146452248096,-0.070737764239311,-0.192390486598015,0.030311722308397,-0.093902833759785,0.017647307366133,0.043738577514887,-0.040600992739201));
res += mul(Get(s0,-dx,dy), float4x4(-0.053259611129761,0.043210890144110,0.179548233747482,-0.024109844118357,0.106981322169304,0.149919047951698,-0.140880167484283,0.027715789154172,0.180997774004936,-0.041885077953339,-0.123836167156696,0.047873754054308,0.025250284001231,-0.168815359473228,0.141023442149162,0.000645872554742));
res += mul(Get(s0,0,-dy), float4x4(-0.071218602359295,-0.044646140187979,0.111500225961208,0.060504768043756,-0.150858551263809,0.047955039888620,-0.028433175757527,0.169122338294983,0.013697875663638,0.150942713022232,0.041277013719082,0.022230852395296,-0.037429254502058,0.022293237969279,0.113501131534576,0.031510300934315));
res += mul(Get(s0,0,0), float4x4(0.093035265803337,-0.051140151917934,0.116234652698040,-0.138411432504654,-0.042954333126545,0.083724901080132,-0.150184243917465,0.185272768139839,-0.185021877288818,0.101833343505859,-0.179189905524254,-0.103721015155315,0.066178761422634,-0.084016442298889,-0.053665369749069,-0.078346163034439));
res += mul(Get(s0,0,dy), float4x4(-0.078381665050983,0.046304062008858,0.183598265051842,0.003006086917594,0.025246363133192,0.030012825503945,-0.133555963635445,-0.044768579304218,-0.021739019080997,0.180686220526695,0.180810198187828,-0.042952757328749,-0.032955311238766,-0.023424845188856,-0.027542324736714,-0.113983862102032));
res += mul(Get(s0,dx,-dy), float4x4(-0.129866123199463,0.068173274397850,-0.014095798134804,0.046125788241625,-0.065565943717957,-0.204025685787201,0.055678419768810,-0.072233043611050,0.184322580695152,-0.050198886543512,-0.134727790951729,0.115544587373734,-0.164351433515549,-0.071182869374752,0.023711847141385,0.004551683086902));
res += mul(Get(s0,dx,0), float4x4(-0.037504959851503,0.152222365140915,-0.015175769105554,0.022307075560093,-0.003600774100050,0.029741978272796,-0.111404851078987,0.006718317046762,-0.069544196128845,-0.207587733864784,0.010519396513700,0.023764956742525,-0.063841387629509,-0.049834333360195,0.191811382770538,0.011929360218346));
res += mul(Get(s0,dx,dy), float4x4(-0.190857887268066,0.250763118267059,0.040610507130623,-0.001992347184569,0.048402059823275,-0.177229911088943,-0.135629341006279,-0.085049048066139,0.138010248541832,0.121352732181549,-0.066413030028343,-0.019194580614567,-0.135435163974762,0.172631680965424,0.112893119454384,-0.001744639244862));
res += mul(Get(s1,-dx,-dy), float4x4(0.073961421847343,0.167927429080009,-0.117156684398651,-0.089359126985073,0.124202512204647,0.158453002572060,0.185436457395554,-0.083284087479115,0.102499052882195,-0.133125051856041,-0.067082792520523,-0.166014835238457,0.034404937177896,-0.187725484371185,0.053181402385235,-0.038836512714624));
res += mul(Get(s1,-dx,0), float4x4(0.117569930851460,-0.060498915612698,-0.047765061259270,-0.176282390952110,0.091866195201874,-0.065110385417938,-0.047742012888193,-0.088406674563885,-0.007206940557808,0.019076731055975,-0.283286571502686,-0.152411952614784,0.136408478021622,-0.021336261183023,0.193492218852043,-0.011998403817415));
res += mul(Get(s1,-dx,dy), float4x4(0.061434682458639,0.003745859023184,-0.033838562667370,0.045874498784542,0.074329510331154,0.077405996620655,0.154504716396332,-0.151976808905602,0.027539597824216,-0.145216330885887,0.185432642698288,-0.139321267604828,-0.061256788671017,0.034878946840763,-0.024571795016527,-0.036608558148146));
res += mul(Get(s1,0,-dy), float4x4(0.029489284381270,0.066303968429565,-0.076505042612553,0.081092886626720,-0.080846257507801,-0.032368056476116,0.108447864651680,-0.041432537138462,-0.157174080610275,0.043452195823193,-0.186447232961655,-0.016400488093495,0.074992291629314,-0.090648904442787,0.057777121663094,-0.158198252320290));
res += mul(Get(s1,0,0), float4x4(0.081998430192471,0.113214500248432,0.086111471056938,0.211877509951591,-0.065320655703545,-0.075471557676792,-0.018880983814597,-0.017415853217244,0.092576168477535,0.070710197091103,-0.163839399814606,-0.000257640698692,0.054084010422230,0.044844340533018,0.019304463639855,0.032136622816324));
res += mul(Get(s1,0,dy), float4x4(0.052401397377253,-0.033069670200348,0.003041178919375,0.081556618213654,0.046489760279655,0.201020151376724,0.095206692814827,0.047924894839525,0.002650833455846,0.177253693342209,-0.089960917830467,-0.059991240501404,0.062884598970413,0.145363003015518,0.168357163667679,0.079496487975121));
res += mul(Get(s1,dx,-dy), float4x4(-0.219177559018135,-0.136033236980438,0.219951137900352,0.032110806554556,0.011373743414879,0.049543399363756,-0.128523781895638,-0.070175260305405,0.137891605496407,-0.083312675356865,-0.100484043359756,-0.063716009259224,0.005963798146695,0.098665118217468,0.098185129463673,-0.008767598308623));
res += mul(Get(s1,dx,0), float4x4(0.195087522268295,-0.112972237169743,0.066117502748966,0.037367217242718,-0.128967121243477,0.044116474688053,0.139588028192520,-0.131760314106941,0.215850710868835,-0.011420676484704,-0.143572285771370,0.064633555710316,0.033005870878696,-0.033545959740877,-0.138690590858459,-0.005135678220540));
res += mul(Get(s1,dx,dy), float4x4(0.018588567152619,0.184061989188194,0.025107946246862,-0.064460799098015,0.209406599402428,0.208992078900337,0.204926371574402,-0.000007752249076,0.055172596126795,0.019154520705342,0.342798858880997,0.106491193175316,0.169492810964584,-0.053799498826265,-0.109621793031693,0.045490555465221));
res += mul(Get(s2,-dx,-dy), float4x4(-0.071208447217941,-0.079088322818279,-0.007553705479950,0.037787672132254,-0.078366264700890,-0.131240963935852,0.041485007852316,0.049657735973597,0.186714202165604,-0.030257146805525,0.031950391829014,0.028862180188298,-0.228139445185661,-0.092122495174408,0.108603008091450,-0.099543921649456));
res += mul(Get(s2,-dx,0), float4x4(-0.059843517839909,0.207201451063156,0.075736746191978,-0.050229564309120,-0.121757857501507,0.252046465873718,0.177871435880661,-0.111969538033009,0.196105599403381,-0.094999432563782,-0.083177946507931,-0.014137256890535,0.088306508958340,-0.089242897927761,-0.159854382276535,0.118146643042564));
res += mul(Get(s2,-dx,dy), float4x4(-0.038514018058777,-0.204569891095161,0.113212630152702,0.044134456664324,-0.022821232676506,0.082642376422882,0.050068218261003,-0.049769356846809,0.124466575682163,-0.051725342869759,-0.132683530449867,0.080459818243980,0.008764307945967,-0.096250556409359,-0.013242476619780,0.049597240984440));
res += mul(Get(s2,0,-dy), float4x4(-0.021369114518166,0.022333689033985,0.109408192336559,0.054841458797455,0.045910894870758,0.011787036433816,-0.064012974500656,0.111928492784500,0.045322142541409,0.053623579442501,0.075078174471855,-0.037756565958261,0.061556719243526,0.170886442065239,-0.033232629299164,-0.051543507725000));
res += mul(Get(s2,0,0), float4x4(0.018223175778985,-0.036609321832657,0.107323274016380,0.152108803391457,-0.031802441924810,0.017686631530523,0.040719915181398,0.107043862342834,-0.078241035342216,-0.196503117680550,0.006007928401232,-0.132700651884079,-0.224796220660210,-0.098665967583656,-0.014204059727490,-0.127260863780975));
res += mul(Get(s2,0,dy), float4x4(-0.078761458396912,-0.010648488998413,0.032643344253302,-0.186822652816772,-0.052680771797895,-0.081062152981758,0.080537885427475,0.046756930649281,-0.059492517262697,-0.053386494517326,0.023461699485779,-0.050450056791306,-0.113672479987144,-0.009472752921283,-0.121661104261875,-0.190198615193367));
res += mul(Get(s2,dx,-dy), float4x4(0.255020141601563,-0.195669665932655,0.180588334798813,-0.169000998139381,-0.170831486582756,0.135408222675323,0.018402284011245,-0.129466786980629,-0.235806465148926,-0.086239077150822,-0.192146182060242,-0.048784963786602,0.040162615478039,-0.084260776638985,-0.153262197971344,0.093510963022709));
res += mul(Get(s2,dx,0), float4x4(0.044794954359531,-0.161629915237427,-0.098797418177128,0.072645254433155,-0.228475749492645,0.008181237615645,-0.054903034120798,0.037177368998528,-0.034872569143772,-0.218665435910225,-0.106524616479874,-0.187917232513428,0.220158040523529,0.040111955255270,-0.111131422221661,0.129180058836937));
res += mul(Get(s2,dx,dy), float4x4(0.174037054181099,0.175534531474113,0.223767429590225,0.124960482120514,0.010609863325953,0.045808006078005,0.003517801407725,-0.225723952054977,-0.173579886555672,0.124108299612999,-0.034470550715923,0.015289263799787,0.000347651657648,0.044764261692762,-0.019422192126513,0.025072848424315));
res += mul(Get(s3,-dx,-dy), float4x4(-0.017390735447407,-0.015918444842100,-0.051431920379400,-0.087635062634945,-0.042071893811226,-0.045116752386093,0.035314720124006,0.105983130633831,-0.029325274750590,-0.059136245399714,0.251799255609512,-0.028349809348583,0.065677113831043,-0.194180786609650,-0.185767084360123,-0.058916397392750));
res += mul(Get(s3,-dx,0), float4x4(-0.074090421199799,-0.095273055136204,0.071981675922871,0.010151596739888,0.105687655508518,-0.010588388890028,0.018113868311048,-0.062484283000231,0.024140043184161,0.191158637404442,-0.059140346944332,0.048060439527035,0.023694615811110,-0.025553975254297,0.072026394307613,0.131523206830025));
res += mul(Get(s3,-dx,dy), float4x4(-0.163043409585953,-0.078675650060177,-0.271588325500488,-0.003673512255773,0.121302582323551,0.043801974505186,0.094914607703686,-0.202765256166458,0.017659606412053,0.020403912290931,0.008981167338789,-0.096674978733063,0.187247484922409,-0.138565480709076,-0.032191794365644,0.041235636919737));
res += mul(Get(s3,0,-dy), float4x4(0.232801809906960,-0.262719959020615,0.084751397371292,0.000630792754237,0.003153406316414,-0.179491728544235,-0.025983799248934,0.050545766949654,-0.068090729415417,-0.111233741044998,0.089257672429085,0.029717607423663,-0.056889701634645,0.030129484832287,0.004639610182494,0.113742753863335));
res += mul(Get(s3,0,0), float4x4(-0.024035247042775,0.124313987791538,0.065702371299267,0.159850254654884,0.119956865906715,-0.094238512217999,0.069657556712627,0.058770161122084,0.032724786549807,0.040317934006453,0.015400221571326,-0.022601839154959,0.026738977059722,-0.076571106910706,0.089609175920486,-0.063529290258884));
res += mul(Get(s3,0,dy), float4x4(0.095504283905029,0.211941391229630,-0.037023592740297,-0.005329738836735,0.029022041708231,-0.064169980585575,0.009961668401957,0.060363113880157,-0.113254018127918,-0.243326529860497,0.107315063476563,0.215488716959953,-0.024053398519754,-0.069563254714012,-0.190881520509720,-0.085836529731750));
res += mul(Get(s3,dx,-dy), float4x4(0.025698347017169,-0.024819502606988,-0.014025526121259,-0.010105706751347,-0.143178328871727,0.030078344047070,0.192660689353943,0.090837389230728,0.036658171564341,0.099477291107178,0.036344658583403,-0.012953301891685,-0.051524784415960,0.201575741171837,-0.057864092290401,0.064484044909477));
res += mul(Get(s3,dx,0), float4x4(-0.007800226565450,-0.017823528498411,-0.014953580684960,-0.185876637697220,-0.098195463418961,-0.030533712357283,-0.049779687076807,-0.071156680583954,-0.203171879053116,-0.241619586944580,0.153605148196220,0.046850737184286,0.067084863781929,-0.113480247557163,0.067797154188156,0.075314700603485));
res += mul(Get(s3,dx,dy), float4x4(-0.069780834019184,0.163036212325096,-0.015766639262438,-0.079928547143936,-0.043196994811296,-0.022737745195627,0.093682117760181,0.039658904075623,-0.011383944191039,0.064357593655586,-0.022389087826014,0.050958938896656,0.046400304883718,0.090919613838196,-0.259711295366287,0.058526720851660));
return max(float4(0,0,0,0), res);
}
