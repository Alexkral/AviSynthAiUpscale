sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.001626783283427,0.007154912222177,-0.003364416537806,0.003458734601736,-0.002423495985568,-0.262021809816360,-0.403875529766083,0.118730016052723,0.052487425506115,-0.125382587313652,0.042908664792776,-0.209083721041679,0.004109890665859,-0.032778657972813,0.014507501386106,0.081395305693150));
res += mul(Get(s0,-dx,0), float4x4(-0.008037594147027,-0.004623668733984,-0.010703342966735,-0.005182246677577,-0.013596012257040,0.061104357242584,-0.099219858646393,0.399905055761337,0.046819116920233,-0.278816431760788,-0.052863560616970,-0.077934451401234,0.006363996770233,-0.050221148878336,-0.001575301866978,0.120227985084057));
res += mul(Get(s0,-dx,dy), float4x4(-0.007734257727861,-0.001500996644609,-0.006876975763589,-0.006029287353158,0.006539627443999,0.082365773618221,0.188170388340950,-0.236305683851242,0.009993805550039,0.006562210153788,-0.025562778115273,0.198010295629501,0.010687096975744,0.055820997804403,-0.025913216173649,0.135154977440834));
res += mul(Get(s0,0,-dy), float4x4(-0.007114156149328,-0.002437283284962,0.001781009952538,0.003176975995302,-0.035899624228477,-0.031919095665216,-0.233783304691315,-0.364429861307144,0.056046474725008,0.231386259198189,0.079612173140049,-0.101743884384632,-0.012184106744826,-0.031324740499258,-0.008320761844516,-0.029815003275871));
res += mul(Get(s0,0,0), float4x4(0.001521892729215,-0.000890452531166,-0.002542330883443,0.000327211164404,-0.054025258868933,-0.357490837574005,0.025089161470532,0.007527971174568,0.029513809829950,-0.351403027772903,-0.033649016171694,-0.084676973521709,-0.033326115459204,-0.058645434677601,-0.016160858795047,0.033484466373920));
res += mul(Get(s0,0,dy), float4x4(-0.011159885674715,-0.007921114563942,0.014277602545917,-0.009808369912207,-0.031115578487515,-0.003510732436553,0.355672597885132,-0.429297804832458,-0.004970805719495,-0.157901138067245,-0.025875285267830,0.095962949097157,-0.032473787665367,-0.015292397700250,-0.028568396344781,0.067674636840820));
res += mul(Get(s0,dx,-dy), float4x4(-0.000847940042149,0.008669425733387,-0.003878175048158,-0.006811414845288,-0.023505393415689,-0.017750002443790,0.016884522512555,-0.128725945949554,0.043782871216536,-0.112621657550335,0.080704063177109,0.029373640194535,-0.002039493061602,0.004099314101040,0.029230933636427,-0.058683194220066));
res += mul(Get(s0,dx,0), float4x4(0.004475984256715,0.009600780904293,0.003671681275591,-0.001838562893681,-0.049624305218458,0.141290292143822,0.110007837414742,0.199286073446274,0.007885957136750,-0.153705105185509,-0.056103080511093,-0.010557155124843,-0.017814204096794,-0.029541250318289,0.023342365399003,-0.042107671499252));
res += mul(Get(s0,dx,dy), float4x4(-0.001409722957760,0.001090367091820,0.005518848076463,-0.002691808389500,-0.016453545540571,0.000301379535813,0.212194994091988,0.127302318811417,-0.007048727013171,-0.063944384455681,-0.060776192694902,0.171751827001572,-0.029222529381514,-0.005752612370998,0.025671280920506,0.002887638052925));
res += mul(Get(s1,-dx,-dy), float4x4(0.000103733946162,0.002128489781171,0.001128550968133,-0.017736569046974,0.120698280632496,0.155488863587379,0.119887098670006,0.030420614406466,-0.002618017373607,-0.013604689389467,-0.002800881629810,0.010954010300338,0.007326871156693,0.000163740231073,0.001985999522731,0.001937834313139));
res += mul(Get(s1,-dx,0), float4x4(-0.010872978717089,0.004905093926936,-0.005707124248147,-0.014188230037689,0.041968222707510,-0.026302350685000,0.008321512490511,-0.053774058818817,-0.005476089660078,0.002449130173773,0.005446793045849,0.024398751556873,-0.009406190365553,-0.005940850824118,0.000311042123940,-0.002356596523896));
res += mul(Get(s1,-dx,dy), float4x4(0.004714692942798,-0.005004796665162,0.001595737645403,-0.002183682052419,-0.031645137816668,0.108408123254776,-0.121022529900074,0.064697891473770,0.001489879097790,0.012876684777439,-0.003514535957947,0.026609329506755,0.001466802088544,0.001303975004703,-0.000874520163052,-0.000408433930716));
res += mul(Get(s1,0,-dy), float4x4(0.003870850894600,-0.002627582289279,-0.010644739493728,0.010070979595184,0.047147098928690,0.262703537940979,0.129725456237793,-0.060263097286224,-0.012908526696265,0.007127971854061,-0.001148295821622,-0.002909699454904,0.014217563904822,0.006276412867010,0.006512135267258,-0.005040206480771));
res += mul(Get(s1,0,0), float4x4(0.000120487253298,-0.012956378981471,-0.002983617363498,0.016393067315221,-0.045328624546528,-0.327572762966156,-0.059699162840843,-0.150889366865158,-0.009340913966298,0.001424210146070,-0.007823123596609,0.004619554150850,-0.000529187906068,-0.010863410308957,-0.007303961087018,0.000505681324285));
res += mul(Get(s1,0,dy), float4x4(0.000058446472394,0.003991952165961,-0.004186569247395,-0.002609731163830,-0.081940360367298,-0.192415833473206,-0.119091279804707,-0.035786714404821,-0.001977578271180,0.020795691758394,0.006326000671834,0.014360643923283,0.003702793037519,-0.007492196746171,-0.004146025981754,0.003796151140705));
res += mul(Get(s1,dx,-dy), float4x4(-0.002911376301199,0.004429986234754,0.004438177216798,-0.006391788367182,0.014052493497729,0.010059245862067,0.106233157217503,0.078044995665550,0.001379581750371,0.000977009651251,0.001163743203506,-0.022679999470711,-0.001497137127444,0.001657064305618,0.000459216389572,-0.000007801801985));
res += mul(Get(s1,dx,0), float4x4(0.000279572996078,-0.005196313373744,-0.002819865010679,0.002302499487996,-0.088728785514832,0.063745893537998,-0.091582544147968,-0.105451598763466,-0.003608116880059,-0.008440545760095,0.005505467299372,-0.017691651359200,-0.002746921265498,-0.003777426201850,0.000134605303174,-0.003887750674039));
res += mul(Get(s1,dx,dy), float4x4(0.013085584156215,-0.000078626580944,-0.006753782741725,-0.000206705823075,-0.086372874677181,-0.058519780635834,-0.125975415110588,0.036702703684568,0.000067597749876,0.013444205746055,0.001767684239894,0.001699039479718,-0.003746192436665,0.000100703160570,0.003246824489906,-0.007616114802659));
res += mul(Get(s2,-dx,-dy), float4x4(0.026604186743498,0.146431475877762,-0.368697732686996,0.028940089046955,0.012224965728819,-0.044347297400236,0.107492931187153,0.139474704861641,-0.034956350922585,-0.052891824394464,0.051595568656921,-0.166398718953133,0.007221239618957,0.030108669772744,-0.002186416415498,-0.019824123010039));
res += mul(Get(s2,-dx,0), float4x4(0.072027213871479,-0.202389195561409,-0.365129470825195,-0.668337762355804,0.050572838634253,-0.024469600990415,0.222365573048592,-0.015704924240708,-0.047830782830715,-0.074682325124741,-0.095088765025139,0.081528052687645,0.013296447694302,0.050638880580664,-0.001477985875681,-0.028929445892572));
res += mul(Get(s2,-dx,dy), float4x4(0.062681272625923,0.022917246446013,-0.086748175323009,-0.167875140905380,0.079539448022842,-0.061233077198267,0.269994825124741,0.055387020111084,-0.038341458886862,-0.083921276032925,-0.161805719137192,0.312244117259979,0.011563210748136,0.096282660961151,0.006396290380508,-0.043427865952253));
res += mul(Get(s2,0,-dy), float4x4(-0.014787059277296,-0.786130726337433,-0.397974729537964,0.453557699918747,-0.034817405045033,-0.026341475546360,-0.145253732800484,0.119779437780380,-0.039943918585777,0.127609550952911,0.041535697877407,-0.297828078269958,0.019926285371184,0.026176864281297,-0.005901796743274,0.033990677446127));
res += mul(Get(s2,0,0), float4x4(-0.037582498043776,1.231242895126343,-0.251484602689743,-0.433915913105011,-0.054033376276493,-0.125041678547859,0.054410208016634,0.296877861022949,-0.065470553934574,-0.287058651447296,-0.083818361163139,0.040796641260386,0.007603204343468,-0.027756355702877,-0.006032660137862,0.035937938839197));
res += mul(Get(s2,0,dy), float4x4(-0.054741226136684,0.267092943191528,-0.025161754339933,-0.231490626931190,-0.038530480116606,-0.123450756072998,0.207293331623077,-0.101457394659519,-0.046618446707726,0.073803149163723,-0.089281722903252,-0.012592899613082,0.008565375581384,-0.025871613994241,0.003518911311403,-0.006302800495178));
res += mul(Get(s2,dx,-dy), float4x4(-0.026537580415606,-0.507761597633362,-0.433813452720642,0.558391451835632,-0.058598116040230,-0.116010598838329,-0.119889691472054,-0.111670747399330,-0.015405372716486,0.131553992629051,0.172949492931366,-0.274900585412979,-0.007308112457395,-0.068559728562832,-0.003904075594619,0.023520991206169));
res += mul(Get(s2,dx,0), float4x4(-0.066830299794674,0.050045687705278,-0.280319720506668,0.357602834701538,-0.067065805196762,-0.130039080977440,-0.030595334246755,-0.072454072535038,-0.060334894806147,-0.055349912494421,0.080968283116817,-0.248339816927910,-0.018996283411980,-0.077842630445957,0.003626267425716,0.041577182710171));
res += mul(Get(s2,dx,dy), float4x4(-0.075460627675056,0.093762002885342,-0.122175842523575,0.039150357246399,-0.064029082655907,0.020547244697809,-0.058526609092951,-0.085915170609951,-0.053521834313869,0.076310090720654,0.012825650162995,-0.084074109792709,-0.010823927819729,-0.030571075156331,0.000707564351615,0.007955169305205));
res += mul(Get(s3,-dx,-dy), float4x4(-0.003221185412258,0.006831942126155,0.000017444646801,-0.006948586553335,0.026963178068399,0.017130305990577,-0.008464503102005,-0.022754389792681,-0.008813476189971,-0.007114530541003,-0.008842919021845,0.002641757018864,-0.005729490425438,0.008190360851586,0.034026138484478,-0.053859606385231));
res += mul(Get(s3,-dx,0), float4x4(0.012535883113742,-0.004288582596928,-0.015173734165728,-0.003750723088160,0.032633248716593,0.032271135598421,0.001346389995888,-0.027253456413746,0.001797744538635,0.002238545566797,0.002913742559031,0.000984965940006,-0.023796310648322,0.002630111062899,0.014429595321417,-0.011146998032928));
res += mul(Get(s3,-dx,dy), float4x4(-0.016284447163343,0.001973066013306,-0.007494302932173,0.001884692814201,0.021128121763468,0.061234235763550,-0.011410586535931,-0.028657190501690,-0.008848752826452,0.007854322902858,0.015894055366516,0.004464195109904,-0.002019067062065,-0.009285535663366,0.002535778097808,-0.009537924081087));
res += mul(Get(s3,0,-dy), float4x4(-0.010042277164757,0.001792490482330,0.007946533150971,0.011527997441590,0.008188269101083,0.001587630831636,0.007083594333380,0.013933431357145,0.001808217028156,0.006668803747743,0.003613690612838,0.002633042167872,-0.000177021152922,0.006498522590846,0.022206626832485,-0.038278020918369));
res += mul(Get(s3,0,0), float4x4(0.011008088476956,-0.002179489471018,-0.001660123001784,0.006278748624027,0.005300068762153,-0.024034142494202,0.001421680441126,0.011055902577937,0.005005084443837,0.007471769116819,0.005077157635242,0.004542170092463,-0.008601802401245,0.002774802735075,0.014120937325060,-0.015490324236453));
res += mul(Get(s3,0,dy), float4x4(0.012900813482702,-0.001061588176526,-0.004002314992249,-0.013193669728935,0.002048120833933,-0.016573728993535,-0.010172337293625,-0.001984117319807,0.009084743447602,0.007149914279580,-0.005933454260230,-0.004467598162591,-0.008063359186053,-0.018788369372487,0.004733040463179,-0.011090553365648));
res += mul(Get(s3,dx,-dy), float4x4(0.002108146669343,0.022776376456022,0.002817495027557,-0.005368062295020,-0.008664433844388,-0.032229315489531,-0.004507593810558,0.020665755495429,-0.005733656696975,-0.003724743612111,-0.001458786893636,-0.007684980984777,-0.001932858955115,0.047325380146503,-0.006620965898037,-0.024197462946177));
res += mul(Get(s3,dx,0), float4x4(-0.006463532336056,-0.003587308106944,-0.008299328386784,-0.003658389206976,-0.016377545893192,-0.033885329961777,-0.007384582422674,0.023605208843946,0.001564224832691,0.004524984396994,-0.002354026306421,0.009975667111576,-0.008747707121074,0.053959634155035,-0.004285836592317,-0.016059961169958));
res += mul(Get(s3,dx,dy), float4x4(-0.011789415962994,0.004525541327894,-0.005386380944401,-0.005571268964559,0.000942069047596,-0.012720745056868,0.003729367395863,0.000496553024277,0.002809994155541,-0.000168110345840,-0.011985272169113,0.005475142505020,-0.010363976471126,-0.003009162377566,-0.006624622270465,0.006726786959916));
return max(float4(0,0,0,0), res);
}
