sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.016084659844637,-0.174111723899841,0.066068753600121,-0.122353672981262,-0.135652497410774,-0.009648068808019,-0.026654576882720,-0.014587006531656,0.036886185407639,0.016653804108500,0.020720319822431,0.128045588731766,-0.007808791473508,-0.008581948466599,0.080403164029121,0.008586429059505));
res += mul(Get(s0,-dx,0), float4x4(-0.012444126419723,0.091105490922928,-0.073832005262375,-0.055636927485466,-0.005223500076681,0.106961622834206,-0.049081351608038,-0.132254317402840,0.122034892439842,0.092648819088936,0.111609727144241,-0.015635201707482,0.098218798637390,0.069207720458508,0.162322819232941,-0.044417172670364));
res += mul(Get(s0,-dx,dy), float4x4(0.055413320660591,0.003604457713664,0.095979854464531,-0.032501064240932,0.025924503803253,-0.052626740187407,-0.049804192036390,-0.156533986330032,0.112770579755306,-0.033231597393751,-0.045607004314661,-0.007770634256303,0.060916915535927,0.012461204081774,-0.181511536240578,-0.038580771535635));
res += mul(Get(s0,0,-dy), float4x4(0.006462952122092,0.084896720945835,-0.064346894621849,0.022008558735251,0.109292395412922,0.101123794913292,0.071721293032169,0.039990488439798,-0.074669674038887,-0.062396362423897,-0.052566345781088,0.079728595912457,0.038837507367134,0.206264793872833,0.114796839654446,-0.154549017548561));
res += mul(Get(s0,0,0), float4x4(0.310098826885223,0.027577180415392,0.081855684518814,-0.122150927782059,-0.145454406738281,0.055469106882811,-0.059410512447357,-0.023968541994691,0.027420258149505,-0.035335171967745,0.224995478987694,0.064492084085941,0.138525173068047,0.038515739142895,0.166504353284836,0.088306061923504));
res += mul(Get(s0,0,dy), float4x4(-0.204750731587410,0.049812413752079,0.059575777500868,0.025622356683016,0.079433470964432,0.142230272293091,0.127903595566750,0.061672091484070,-0.110069349408150,-0.124527692794800,0.106300838291645,-0.125761762261391,0.101003587245941,0.207831799983978,0.007895952090621,0.050050549209118));
res += mul(Get(s0,dx,-dy), float4x4(0.234791547060013,-0.134735316038132,-0.033212706446648,0.008201217278838,-0.079757899045944,0.007390945218503,-0.074103057384491,-0.120932199060917,-0.151265785098076,-0.055256888270378,-0.052490286529064,-0.173954561352730,0.025088392198086,-0.082902766764164,0.197981521487236,-0.013675689697266));
res += mul(Get(s0,dx,0), float4x4(0.170086532831192,-0.135726273059845,-0.131227821111679,0.144700735807419,0.054616842418909,-0.070553123950958,0.105498701334000,0.198473319411278,0.102850228548050,-0.019079830497503,0.070352621376514,-0.124608792364597,-0.082165025174618,0.060436330735683,0.019088234752417,0.111290961503983));
res += mul(Get(s0,dx,dy), float4x4(0.068974830210209,-0.030824584886432,-0.151548102498055,-0.026595504954457,0.117239408195019,-0.163960576057434,-0.055372036993504,-0.005238248500973,-0.003300891024992,0.006205448415130,-0.043354772031307,-0.160816743969917,-0.079206652939320,-0.029144994914532,-0.138599202036858,-0.103349633514881));
res += mul(Get(s1,-dx,-dy), float4x4(0.136028289794922,0.068080924451351,-0.248856559395790,0.047541569918394,0.008894702419639,0.058006681501865,-0.097645238041878,-0.088105782866478,0.036835528910160,-0.000506229931489,0.044813696295023,-0.016740875318646,-0.050800133496523,0.108783103525639,-0.005197796970606,0.046154722571373));
res += mul(Get(s1,-dx,0), float4x4(-0.183624252676964,0.067499421536922,-0.036916632205248,0.040034573525190,-0.254806727170944,-0.130219236016273,0.026881912723184,-0.010733288712800,0.005325656384230,-0.229461669921875,0.097818240523338,0.240929186344147,-0.140397354960442,-0.074317559599876,0.193095877766609,-0.079521365463734));
res += mul(Get(s1,-dx,dy), float4x4(-0.004956998862326,-0.248218700289726,0.081719711422920,0.040172960609198,-0.266721099615097,0.061713691800833,-0.001698794541880,-0.125633746385574,0.087476164102554,-0.110690347850323,0.021368803456426,-0.045720361173153,-0.042623057961464,0.204321682453156,-0.058443937450647,-0.185113236308098));
res += mul(Get(s1,0,-dy), float4x4(-0.221493929624557,-0.151293799281120,0.036924708634615,-0.076759897172451,0.000133175402880,-0.154047876596451,-0.160012096166611,-0.030073298141360,0.066426828503609,0.088870264589787,0.057034619152546,-0.025573801249266,0.079184807837009,-0.127654254436493,-0.001070917351171,0.170227617025375));
res += mul(Get(s1,0,0), float4x4(0.114853203296661,-0.163796335458755,0.048490155488253,0.044305086135864,-0.101468585431576,0.114774093031883,-0.037927113473415,-0.361852616071701,0.092345505952835,-0.000453647546237,0.077444806694984,-0.176556199789047,0.096300207078457,0.020526941865683,0.104689918458462,0.237569630146027));
res += mul(Get(s1,0,dy), float4x4(0.095186315476894,0.045616839081049,-0.064760886132717,-0.051034193485975,0.046654466539621,-0.020042616873980,-0.094775401055813,-0.115378260612488,-0.026945166289806,-0.119999602437019,0.129277184605598,-0.052284415811300,-0.114854171872139,-0.173992708325386,0.018693823367357,0.018869621679187));
res += mul(Get(s1,dx,-dy), float4x4(-0.000773436215241,0.166168585419655,0.015920383855700,-0.098908603191376,0.108317121863365,0.139263927936554,-0.081946536898613,-0.174991428852081,0.004953993484378,-0.082856789231300,0.051421601325274,-0.145925924181938,-0.053925126791000,-0.085585549473763,0.159623041749001,-0.110066615045071));
res += mul(Get(s1,dx,0), float4x4(-0.009822772815824,-0.037399150431156,-0.185937806963921,-0.132954955101013,0.125761181116104,-0.055160511285067,0.087409131228924,-0.134357869625092,0.109203197062016,0.028002176433802,0.162120968103409,0.008860906586051,0.012716472148895,-0.068334698677063,0.118409343063831,0.138915300369263));
res += mul(Get(s1,dx,dy), float4x4(-0.285897672176361,0.092078775167465,-0.086532600224018,0.121756784617901,-0.059309266507626,0.074120365083218,0.017105447128415,-0.050155241042376,-0.247911170125008,-0.109369479119778,0.000794182356913,0.101954028010368,-0.037510696798563,0.045459654182196,0.034990571439266,-0.063929617404938));
res += mul(Get(s2,-dx,-dy), float4x4(0.084333412349224,0.047292433679104,-0.128064796328545,-0.081872001290321,-0.112020298838615,0.113671310245991,-0.027168346568942,0.052195824682713,0.043478462845087,0.018706809729338,-0.020127149298787,-0.102294772863388,0.036709912121296,-0.069071166217327,-0.133633628487587,-0.143631055951118));
res += mul(Get(s2,-dx,0), float4x4(0.031254611909389,0.011060004122555,0.000664303079247,0.069768555462360,-0.074039168655872,-0.054294824600220,0.025245208293200,-0.104621872305870,0.098932221531868,-0.054173775017262,0.019541887566447,-0.203618273139000,-0.090063154697418,-0.083483368158340,-0.112266004085541,0.057167682796717));
res += mul(Get(s2,-dx,dy), float4x4(-0.055790256708860,-0.004520621616393,-0.209988519549370,-0.183824479579926,-0.103307627141476,-0.020045321434736,0.019099136814475,0.056942112743855,-0.110521525144577,0.076423399150372,-0.186006635427475,-0.016972504556179,-0.205174520611763,-0.198868244886398,-0.133153691887856,0.317364871501923));
res += mul(Get(s2,0,-dy), float4x4(-0.009337183088064,0.039500102400780,-0.018243895843625,-0.246978402137756,0.265500605106354,-0.028876176103950,-0.189710915088654,-0.003116649342701,0.232868224382401,0.004214404150844,0.013348922133446,-0.017937609925866,0.210757911205292,0.111513696610928,-0.196117267012596,0.082661718130112));
res += mul(Get(s2,0,0), float4x4(-0.286541789770126,0.082367487251759,0.054146613925695,0.026645297184587,0.102611802518368,-0.064102135598660,-0.082227721810341,-0.058765120804310,-0.133136376738548,-0.114641040563583,-0.042442522943020,0.114620782434940,-0.068976245820522,0.098392084240913,0.035561226308346,-0.087761744856834));
res += mul(Get(s2,0,dy), float4x4(0.173940241336823,0.009128587320447,-0.001847624080256,0.023016136139631,-0.280383706092834,-0.018395157530904,0.117729566991329,-0.133230417966843,-0.104677230119705,0.073122426867485,-0.124744914472103,0.064021185040474,0.011515581049025,-0.007912590168417,-0.180995449423790,0.095073267817497));
res += mul(Get(s2,dx,-dy), float4x4(-0.105642199516296,-0.029614141210914,0.051413942128420,-0.006786968559027,-0.041841179132462,-0.038580369204283,-0.037345882505178,0.090712517499924,0.035234749317169,0.006456917617470,-0.014499262906611,0.098901510238647,0.064514309167862,0.107302144169807,0.012550426647067,-0.128135532140732));
res += mul(Get(s2,dx,0), float4x4(-0.126479446887970,0.029343774542212,0.168245747685432,0.040833912789822,-0.203949347138405,0.051828052848577,0.010065662674606,-0.011405237019062,-0.196354746818542,-0.023272518068552,-0.219875365495682,-0.110878258943558,0.011177930049598,0.020916569977999,0.090677730739117,-0.161774322390556));
res += mul(Get(s2,dx,dy), float4x4(0.042217452079058,-0.082112267613411,0.059430819004774,0.102550752460957,-0.016681652516127,-0.042562033981085,-0.162880003452301,0.039784442633390,-0.077279411256313,0.206917911767960,-0.241700366139412,-0.130605697631836,-0.103018485009670,0.032941181212664,-0.000328149297275,0.080870874226093));
res += mul(Get(s3,-dx,-dy), float4x4(-0.048564009368420,0.038584075868130,0.011633126065135,-0.092218071222305,-0.011044225655496,-0.020387835800648,0.042393635958433,-0.173661127686501,-0.252386182546616,0.059206899255514,0.013178386725485,0.095307506620884,0.110971897840500,0.002629169262946,0.122714094817638,-0.030275527387857));
res += mul(Get(s3,-dx,0), float4x4(-0.009665550664067,0.087659358978271,-0.044842187315226,0.016740722581744,-0.168948084115982,-0.025070022791624,-0.025859279558063,-0.021541787311435,0.103921547532082,-0.202450975775719,-0.102981410920620,-0.209947824478149,-0.064008682966232,-0.080729477107525,0.128540635108948,-0.046314340084791));
res += mul(Get(s3,-dx,dy), float4x4(0.150150924921036,0.042788952589035,-0.169016614556313,0.129588931798935,0.018521711230278,0.061448261141777,-0.129973962903023,-0.054719444364309,0.226246595382690,0.025219563394785,0.098825283348560,-0.019707458093762,0.133261129260063,-0.154139935970306,0.001618647133000,-0.081648558378220));
res += mul(Get(s3,0,-dy), float4x4(-0.033191051334143,0.247503235936165,-0.040903404355049,0.074609160423279,-0.093797422945499,0.059181641787291,0.220532894134521,0.043518070131540,0.056264318525791,-0.036279194056988,0.068227760493755,0.031651932746172,-0.037302546203136,0.036202587187290,-0.149792760610580,0.009204516187310));
res += mul(Get(s3,0,0), float4x4(0.102453216910362,-0.137355715036392,0.081777840852737,0.124625995755196,-0.011355224065483,0.085231430828571,-0.268939912319183,0.046819888055325,-0.049689184874296,0.279783427715302,0.056799102574587,-0.070520602166653,0.005013063549995,-0.148948207497597,-0.036618314683437,-0.208284288644791));
res += mul(Get(s3,0,dy), float4x4(0.025276955217123,-0.191133022308350,0.171268105506897,-0.178302362561226,0.037662010639906,0.203388080000877,-0.059341717511415,0.045985139906406,0.002240209607407,0.001671021338552,-0.042005274444818,0.061418447643518,0.026551537215710,-0.120808765292168,-0.075003921985626,-0.045232106000185));
res += mul(Get(s3,dx,-dy), float4x4(0.040356479585171,-0.133884012699127,-0.039671543985605,0.087232530117035,-0.098001644015312,0.149264931678772,-0.148064866662025,-0.046162616461515,-0.186086729168892,-0.121778868138790,0.112825512886047,-0.007013498805463,-0.115683771669865,0.150030270218849,-0.067690543830395,-0.061281856149435));
res += mul(Get(s3,dx,0), float4x4(-0.139261335134506,-0.098597593605518,-0.178678318858147,0.240327477455139,-0.031281869858503,-0.143855631351471,-0.067475117743015,-0.075879521667957,0.198908492922783,0.055117089301348,0.040869757533073,-0.105624489486217,-0.075404815375805,-0.050820719450712,0.061296042054892,-0.102602392435074));
res += mul(Get(s3,dx,dy), float4x4(-0.066676087677479,-0.022795271128416,0.024219548329711,0.046743664890528,0.040013287216425,-0.263022631406784,0.040974684059620,-0.076903238892555,0.059687487781048,0.034289740025997,0.288225591182709,0.020334189757705,0.061780452728271,-0.011635182425380,-0.064400665462017,0.071848638355732));
return max(float4(0,0,0,0), res);
}
