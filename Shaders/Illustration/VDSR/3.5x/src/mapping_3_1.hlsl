sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.073319919407368,-0.020606441423297,0.031644109636545,0.069092482328415,-0.035503290593624,-0.093523338437080,-0.232886731624603,0.024831399321556,0.140498101711273,0.149739518761635,-0.401487410068512,-0.199186265468597,-0.055267147719860,0.054036136716604,-0.127050131559372,-0.083102822303772));
res += mul(Get(s0,-dx,0), float4x4(-0.039854116737843,-0.017648663371801,0.029497517272830,-0.203591674566269,0.152434006333351,-0.035297065973282,0.250374138355255,-0.128393515944481,-0.018846025690436,-0.043858248740435,-0.122653469443321,0.112495340406895,-0.078212216496468,0.145160764455795,-0.118421949446201,0.295132368803024));
res += mul(Get(s0,-dx,dy), float4x4(0.033094901591539,0.088238678872585,-0.194793492555618,-0.134679675102234,-0.128608509898186,-0.119577087461948,-0.099088989198208,-0.015857093036175,-0.001368626137264,-0.065961278975010,-0.094550684094429,-0.123603455722332,-0.175930500030518,0.002746510319412,0.017334252595901,-0.072460047900677));
res += mul(Get(s0,0,-dy), float4x4(-0.173335194587708,0.041463986039162,-0.145974650979042,0.010355156846344,0.160325288772583,-0.063243240118027,0.094710826873779,0.035657919943333,-0.021302683278918,0.028935732319951,0.068755261600018,0.215698257088661,0.026248520240188,0.016729397699237,0.047570370137691,0.048783052712679));
res += mul(Get(s0,0,0), float4x4(-0.121946476399899,-0.117056556046009,0.033034730702639,0.128766432404518,-0.093594208359718,-0.022032100707293,-0.073417790234089,-0.083326637744904,0.099914737045765,-0.022421585395932,-0.025855181738734,-0.145253822207451,0.047645062208176,-0.054357077926397,0.077875308692455,-0.292795777320862));
res += mul(Get(s0,0,dy), float4x4(0.005316872149706,-0.208843529224396,0.117948412895203,0.078050903975964,0.104275092482567,-0.122717544436455,-0.211870238184929,0.121737115085125,-0.091984532773495,-0.012670662254095,-0.010989618487656,-0.025291519239545,-0.014928178861737,-0.059908717870712,0.063211135566235,0.168566942214966));
res += mul(Get(s0,dx,-dy), float4x4(-0.032746430486441,-0.045038942247629,0.280674010515213,-0.083829089999199,-0.130079776048660,0.140194907784462,-0.002998038195074,0.038041703402996,-0.039512097835541,-0.118533849716187,0.102504603564739,-0.165096059441566,-0.167457640171051,0.127445533871651,-0.116199724376202,0.107494406402111));
res += mul(Get(s0,dx,0), float4x4(0.049282606691122,0.023119747638702,-0.013047239743173,0.050360113382339,-0.060271222144365,-0.039251729846001,0.015547287650406,-0.158386960625648,0.043943982571363,0.053497660905123,-0.057888709008694,0.066078804433346,-0.003214899916202,-0.029547231271863,-0.072846844792366,-0.054992187768221));
res += mul(Get(s0,dx,dy), float4x4(-0.067184880375862,-0.261078298091888,-0.018306994810700,0.023998409509659,-0.180394053459167,-0.089917138218880,-0.038922470062971,0.066112369298935,-0.098890408873558,0.024401664733887,0.059438355267048,-0.000381295132684,0.256886065006256,0.032404240220785,-0.080890148878098,-0.190566539764404));
res += mul(Get(s1,-dx,-dy), float4x4(0.010557639412582,-0.087658964097500,-0.010401265695691,-0.016798701137304,-0.168618828058243,-0.023631053045392,0.053195342421532,-0.059389717876911,-0.132582604885101,0.032944064587355,0.129739612340927,0.171843260526657,0.103691771626472,-0.111321210861206,0.087879709899426,0.039933338761330));
res += mul(Get(s1,-dx,0), float4x4(0.088274687528610,0.022770682349801,-0.095360949635506,0.241100698709488,-0.039505872875452,-0.147019803524017,0.012197819538414,-0.040770180523396,0.162748023867607,0.089811332523823,0.135987460613251,0.183531656861305,0.135337159037590,0.057900395244360,-0.043867714703083,-0.210533455014229));
res += mul(Get(s1,-dx,dy), float4x4(-0.065286159515381,-0.016589902341366,0.068584151566029,-0.058375664055347,0.213332131505013,0.026362067088485,0.022446829825640,0.025432763621211,0.048560209572315,0.125431999564171,0.140941202640533,-0.077594928443432,-0.104268133640289,0.116589285433292,-0.022345220670104,0.014233810827136));
res += mul(Get(s1,0,-dy), float4x4(0.231977522373199,-0.106248870491982,0.085173718631268,0.083435125648975,-0.157166361808777,0.261727988719940,-0.090284056961536,0.191382750868797,0.153907150030136,0.003898072289303,-0.088028401136398,0.003775729797781,-0.187786221504211,0.054520778357983,-0.049178998917341,-0.099765926599503));
res += mul(Get(s1,0,0), float4x4(-0.102427333593369,-0.123446784913540,0.025665612891316,-0.156776875257492,-0.046278011053801,0.021566264331341,0.051002707332373,0.096247658133507,-0.218669623136520,-0.044394634664059,0.053441978991032,-0.180369198322296,-0.208444327116013,-0.101538509130478,-0.044408019632101,-0.108831442892551));
res += mul(Get(s1,0,dy), float4x4(-0.122143305838108,-0.235708981752396,0.089343562722206,-0.052423559129238,-0.012432889081538,0.064944654703140,0.115652397274971,-0.140563592314720,-0.076882861554623,-0.145807728171349,-0.032757509499788,-0.070672303438187,-0.086900822818279,0.225116997957230,-0.137877374887466,-0.139781519770622));
res += mul(Get(s1,dx,-dy), float4x4(-0.017791902646422,-0.003177358768880,0.038174085319042,0.054952278733253,0.044417392462492,-0.096551470458508,0.028235536068678,0.061074286699295,0.094461970031261,-0.069467365741730,0.071497961878777,-0.170970827341080,-0.173136949539185,0.117225743830204,-0.129585713148117,0.041968654841185));
res += mul(Get(s1,dx,0), float4x4(0.102797485888004,0.180609777569771,-0.215138658881187,-0.026766614988446,-0.017295505851507,0.008676402270794,-0.032602857798338,0.037987418472767,-0.147024929523468,-0.244063705205917,0.138327628374100,-0.215968996286392,0.026617990806699,0.145216897130013,-0.309194207191467,0.029455214738846));
res += mul(Get(s1,dx,dy), float4x4(0.029541727155447,-0.121483333408833,0.020253751426935,-0.028811708092690,0.156707674264908,-0.022246360778809,-0.071869097650051,0.114426597952843,0.156632453203201,-0.044769857078791,0.000235031737247,-0.090680874884129,-0.291500896215439,-0.185061469674110,0.051158141344786,-0.097060665488243));
res += mul(Get(s2,-dx,-dy), float4x4(0.159501314163208,0.087303757667542,-0.210931405425072,0.022539472207427,0.046049598604441,0.081031113862991,0.208838075399399,-0.163248553872108,0.061755627393723,-0.037871535867453,-0.102627649903297,0.056625027209520,-0.016448026522994,-0.123847112059593,0.047217156738043,0.053655676543713));
res += mul(Get(s2,-dx,0), float4x4(0.012402750551701,0.121649220585823,-0.004796054679900,-0.062827184796333,-0.019148910418153,0.046743515878916,0.066955529153347,0.130728974938393,-0.000130605214508,-0.020760694518685,0.197157800197601,-0.022155744954944,-0.062770701944828,-0.085355639457703,0.105786480009556,-0.121502533555031));
res += mul(Get(s2,-dx,dy), float4x4(0.076644077897072,-0.037181261926889,-0.011928409337997,-0.098518930375576,-0.105289742350578,-0.068714439868927,-0.008138021454215,0.065367206931114,0.171132206916809,-0.264529705047607,-0.113641120493412,-0.078270286321640,0.119083911180496,-0.010986221954226,-0.022032240405679,-0.083953469991684));
res += mul(Get(s2,0,-dy), float4x4(0.040912456810474,0.131469786167145,-0.054426737129688,0.067338392138481,-0.024121543392539,0.007662327960134,-0.334040492773056,0.060237176716328,-0.018447769805789,0.281621634960175,0.101602241396904,0.046827591955662,-0.057992495596409,-0.116450294852257,0.008578578941524,-0.148526161909103));
res += mul(Get(s2,0,0), float4x4(-0.078618973493576,0.004159385338426,-0.061232227832079,0.067127779126167,-0.022593971341848,-0.070590712130070,-0.135774135589600,-0.193296745419502,0.086889162659645,-0.106674678623676,0.030990062281489,-0.021063890308142,-0.154761925339699,0.219993337988853,0.060672096908092,-0.106770679354668));
res += mul(Get(s2,0,dy), float4x4(-0.084345094859600,0.111238457262516,-0.096805319190025,-0.238606691360474,-0.034377731382847,-0.083046779036522,0.024992667138577,-0.056773446500301,-0.142746627330780,0.035307157784700,-0.076411649584770,0.024219360202551,0.062112092971802,-0.031310454010963,-0.026643607765436,-0.044934686273336));
res += mul(Get(s2,dx,-dy), float4x4(0.074690468609333,-0.302069723606110,-0.214174106717110,0.025692848488688,-0.074468456208706,0.073327980935574,-0.283633053302765,0.017661361023784,-0.084097705781460,-0.114225961267948,0.267258465290070,0.059538621455431,0.022926589474082,-0.152241095900536,-0.113974772393703,-0.163778230547905));
res += mul(Get(s2,dx,0), float4x4(-0.061969757080078,-0.078937262296677,0.009076139889657,0.087197974324226,-0.295413255691528,-0.168123230338097,0.127797111868858,0.046124532818794,0.182998612523079,0.038006659597158,0.147398427128792,0.119568958878517,0.081088192760944,0.060758568346500,0.304399132728577,0.035481058061123));
res += mul(Get(s2,dx,dy), float4x4(0.060469027608633,0.076430387794971,0.115004949271679,-0.149841547012329,0.117407873272896,0.024601500481367,0.087920762598515,-0.186689868569374,0.072501368820667,0.270838648080826,0.044131182134151,0.120810307562351,0.041324116289616,-0.067571267485619,-0.320219665765762,0.166793718934059));
res += mul(Get(s3,-dx,-dy), float4x4(0.013970870524645,-0.037912186235189,-0.017965028062463,-0.125186294317245,-0.003888016799465,-0.096377082169056,0.202428877353668,-0.064470171928406,-0.248783737421036,0.120505340397358,-0.100632414221764,-0.155321165919304,0.050795711576939,0.060284730046988,0.130049496889114,-0.083181209862232));
res += mul(Get(s3,-dx,0), float4x4(-0.032869640737772,0.018669920042157,0.034240018576384,0.147980138659477,-0.179592162370682,0.010219682939351,-0.234758168458939,0.048461895436049,0.223802447319031,-0.032516773790121,-0.154026105999947,0.131832957267761,-0.070601560175419,-0.033096894621849,-0.166983410716057,0.214266538619995));
res += mul(Get(s3,-dx,dy), float4x4(0.060041118413210,-0.057255983352661,0.096426986157894,0.012635675258934,-0.080427050590515,0.087314650416374,0.168610051274300,-0.147100493311882,0.053647242486477,0.188133552670479,0.102543354034424,0.075676202774048,0.038306489586830,-0.039945274591446,0.073334760963917,-0.071190893650055));
res += mul(Get(s3,0,-dy), float4x4(0.068646989762783,-0.087827287614346,-0.066855944693089,-0.001307206577621,0.100281432271004,0.084787435829639,-0.128735512495041,-0.011585485190153,0.011876222677529,0.140439480543137,-0.054815512150526,0.074729278683662,-0.010041168890893,-0.137067809700966,0.160796806216240,0.109922051429749));
res += mul(Get(s3,0,0), float4x4(0.080523356795311,-0.067223973572254,0.031778480857611,0.083321705460548,0.015642732381821,-0.045328948646784,0.140540912747383,-0.046419635415077,-0.036559395492077,-0.025778833776712,0.046299036592245,-0.196506097912788,0.088171698153019,-0.068275868892670,-0.085433997213840,0.100665226578712));
res += mul(Get(s3,0,dy), float4x4(0.041335426270962,0.038653310388327,0.029598653316498,-0.009887401945889,-0.096149876713753,-0.095267564058304,-0.017396049574018,-0.049287624657154,0.105688735842705,-0.054478034377098,-0.011596557684243,-0.271456629037857,0.044602293521166,0.138729453086853,-0.088172137737274,0.055631242692471));
res += mul(Get(s3,dx,-dy), float4x4(-0.162875711917877,0.170809254050255,-0.117960833013058,0.020381491631269,0.101866059005260,0.102481000125408,0.140913784503937,0.204486519098282,0.106933459639549,0.048400796949863,-0.078977391123772,-0.062682472169399,-0.008926058188081,-0.048539519309998,-0.304782390594482,0.104444704949856));
res += mul(Get(s3,dx,0), float4x4(0.010825585573912,0.292569547891617,-0.066113039851189,0.137385636568069,-0.033940255641937,0.133504956960678,0.115806400775909,-0.127838969230652,-0.119172275066376,-0.176004752516747,-0.098028436303139,0.145249247550964,0.003868403844535,-0.076498888432980,-0.297328084707260,-0.201548814773560));
res += mul(Get(s3,dx,dy), float4x4(-0.151488125324249,0.050803050398827,0.104835137724876,-0.047222040593624,-0.109829507768154,-0.098527640104294,0.009613256901503,0.036271065473557,-0.052907541394234,-0.095066487789154,0.106615036725998,-0.013456745073199,-0.173691883683205,0.013477007858455,0.107585929334164,-0.110869012773037));
return max(float4(0,0,0,0), res);
}
