sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.072598531842232,-0.218901157379150,0.082988277077675,-0.123596400022507,-0.080662615597248,-0.113921158015728,0.019998887553811,-0.089307323098183,-0.059612367302179,0.086900606751442,0.183883056044579,-0.016763743013144,-0.095428973436356,0.044909104704857,-0.077369697391987,0.000461298855953));
res += mul(Get(s0,-dx,0), float4x4(0.053014010190964,0.005883323494345,0.084363333880901,-0.132954135537148,-0.111240789294243,-0.147741779685020,0.042522761970758,-0.161404237151146,-0.246958062052727,0.054507743567228,-0.056461669504642,-0.038583431392908,-0.034699972718954,-0.096377752721310,-0.001900032861158,0.013888277113438));
res += mul(Get(s0,-dx,dy), float4x4(-0.131778001785278,-0.022705147042871,0.121636681258678,-0.128256872296333,-0.021638885140419,-0.097974307835102,0.238393455743790,-0.083568602800369,-0.494273900985718,0.205814152956009,0.085905276238918,-0.021465398371220,0.082011073827744,-0.082192599773407,0.134869262576103,-0.061027094721794));
res += mul(Get(s0,0,-dy), float4x4(0.148959636688232,-0.256000906229019,-0.023829219862819,-0.122992165386677,0.006859557237476,-0.005981374066323,0.141859322786331,-0.023134434595704,-0.117143541574478,0.057892601937056,0.001820225152187,-0.142409756779671,-0.126020669937134,-0.091997675597668,-0.122259452939034,-0.056933782994747));
res += mul(Get(s0,0,0), float4x4(0.199208736419678,-0.046779777854681,0.051665283739567,-0.102518603205681,0.047158833593130,-0.006741049699485,-0.025485815480351,-0.102093189954758,0.025173388421535,-0.098382048308849,-0.120311126112938,0.074587188661098,-0.066583842039108,-0.080029979348183,-0.135720282793045,-0.047194544225931));
res += mul(Get(s0,0,dy), float4x4(-0.154219016432762,-0.070818766951561,0.142754346132278,-0.039071641862392,-0.083267338573933,-0.011950194835663,-0.020286543294787,0.025614831596613,-0.410179436206818,0.068883873522282,0.027086742222309,0.181254759430885,0.020170660689473,-0.020699623972178,-0.087397530674934,-0.080813400447369));
res += mul(Get(s0,dx,-dy), float4x4(-0.206164449453354,-0.266628831624985,0.005348766222596,-0.099701955914497,0.269673049449921,-0.058862350881100,-0.064037293195724,0.049217268824577,0.292515099048615,-0.127137929201126,0.028875932097435,-0.039048474282026,-0.111801326274872,-0.001295801601373,-0.017155660316348,0.034014828503132));
res += mul(Get(s0,dx,0), float4x4(-0.056738123297691,-0.049454800784588,0.014725871384144,-0.095104239881039,0.123169988393784,0.124671652913094,-0.130688458681107,-0.023190632462502,0.147262096405029,-0.022016003727913,0.073163822293282,0.012482536956668,-0.013555245473981,-0.039895374327898,-0.117342866957188,0.046707786619663));
res += mul(Get(s0,dx,dy), float4x4(0.000036464523873,-0.046954363584518,0.002883544191718,-0.057124938815832,-0.039280533790588,-0.136025369167328,-0.131953030824661,0.015147592872381,-0.014273316599429,-0.001100167515688,0.053906459361315,-0.142672896385193,-0.018427424132824,-0.068638145923615,-0.117360159754753,0.048905484378338));
res += mul(Get(s1,-dx,-dy), float4x4(0.092313557863235,-0.023651164025068,-0.143404692411423,-0.125287234783173,-0.160606071352959,0.043920367956161,-0.159245193004608,-0.039351299405098,-0.085553310811520,-0.135492324829102,0.207156732678413,0.025218656286597,-0.140087932348251,-0.087657444179058,-0.047047294676304,0.065900012850761));
res += mul(Get(s1,-dx,0), float4x4(-0.489366739988327,0.018980141729116,0.004331492353231,-0.036103188991547,-0.153602525591850,-0.033714458346367,-0.098960906267166,-0.069861531257629,-0.024341825395823,-0.110943734645844,0.199903056025505,0.103220492601395,-0.021846842020750,0.090043544769287,-0.003550356952474,0.011067758314312));
res += mul(Get(s1,-dx,dy), float4x4(-0.090444520115852,0.001871398999356,-0.108152210712433,-0.137671381235123,0.115052185952663,-0.026491325348616,0.136410340666771,-0.031454220414162,-0.043892160058022,0.069968476891518,0.032843917608261,-0.026323311030865,-0.062468141317368,-0.002071343595162,-0.023153984919190,0.058081317692995));
res += mul(Get(s1,0,-dy), float4x4(0.332240670919418,-0.072274275124073,-0.070194773375988,0.099829159677029,-0.070892125368118,-0.048867218196392,-0.086393862962723,-0.157874628901482,-0.237056538462639,-0.098085358738899,-0.054295729845762,0.019506411626935,-0.019951039925218,0.044887043535709,0.123579449951649,-0.051984291523695));
res += mul(Get(s1,0,0), float4x4(0.133537217974663,-0.066047832369804,0.206266820430756,0.239244252443314,-0.084065996110439,-0.205414757132530,-0.091090887784958,-0.058684397488832,-0.141508579254150,-0.077286101877689,-0.019054453819990,0.024601938202977,0.056546751409769,0.038133025169373,0.062784448266029,-0.115984626114368));
res += mul(Get(s1,0,dy), float4x4(-0.116032429039478,0.030573001131415,-0.068851418793201,-0.051272917538881,0.022070687264204,-0.138242989778519,-0.128441214561462,0.117601171135902,-0.080073945224285,0.123628333210945,0.017750270664692,-0.011727307923138,0.032106138765812,-0.022189754992723,0.142462208867073,-0.064529620110989));
res += mul(Get(s1,dx,-dy), float4x4(0.043641801923513,-0.039596293121576,-0.207530274987221,-0.101381108164787,0.035096779465675,-0.010789187625051,-0.179331764578819,0.251991748809814,-0.104758642613888,-0.009861935861409,0.065114289522171,-0.090733833611012,0.067577540874481,-0.051718272268772,-0.048131123185158,-0.128302574157715));
res += mul(Get(s1,dx,0), float4x4(0.002551911398768,-0.003191248280928,-0.077437110245228,-0.029107436537743,-0.001266902079806,0.115243300795555,-0.094826623797417,0.305675566196442,-0.150897562503815,-0.124917641282082,0.020562132820487,-0.011624574661255,0.355123609304428,-0.078809730708599,-0.009275818243623,-0.041726857423782));
res += mul(Get(s1,dx,dy), float4x4(0.123909533023834,0.054180640727282,-0.017100855708122,-0.059228781610727,-0.030395170673728,0.006516590248793,-0.122930936515331,0.069814763963223,0.008825456723571,0.095993869006634,-0.227458134293556,0.082446336746216,0.117812804877758,0.102189995348454,0.173844173550606,0.005957341752946));
res += mul(Get(s2,-dx,-dy), float4x4(0.125301450490952,-0.012741209007800,0.011760590597987,-0.165174782276154,-0.134104773402214,-0.122563876211643,-0.256663560867310,0.074518255889416,0.111953169107437,-0.110326655209064,-0.125945195555687,-0.052348930388689,-0.304575562477112,0.420544236898422,0.204245194792747,-0.130412861704826));
res += mul(Get(s2,-dx,0), float4x4(-0.037492483854294,-0.029155541211367,0.047185406088829,-0.263314127922058,0.022931559011340,-0.025012264028192,0.007518072612584,-0.080142922699451,0.047378946095705,-0.149172469973564,0.065720394253731,-0.004020574036986,-0.064083173871040,0.020421735942364,-0.217554971575737,-0.047035392373800));
res += mul(Get(s2,-dx,dy), float4x4(-0.194227471947670,0.099384874105453,-0.019595615565777,0.016370246186852,-0.254783451557159,-0.093454115092754,0.060914471745491,-0.070985257625580,-0.070206403732300,-0.010296889580786,0.049030311405659,-0.109000638127327,0.330057263374329,-0.063491426408291,0.051122806966305,-0.156644776463509));
res += mul(Get(s2,0,-dy), float4x4(0.133545219898224,-0.046876665204763,-0.065791621804237,0.125949546694756,0.016900297254324,-0.109785512089729,-0.149394407868385,-0.035293620079756,0.138253822922707,-0.124084621667862,0.199115246534348,-0.021789617836475,0.246112778782845,0.024375772103667,-0.184957712888718,-0.037542827427387));
res += mul(Get(s2,0,0), float4x4(-0.045796338468790,-0.014387872070074,-0.148651301860809,-0.049066971987486,0.149938747286797,0.036572825163603,-0.022545920684934,0.001315489993431,0.017014922574162,-0.050565119832754,0.247169062495232,-0.094808012247086,0.020989749580622,-0.217487186193466,-0.172429531812668,0.042005971074104));
res += mul(Get(s2,0,dy), float4x4(-0.098199911415577,-0.113664723932743,-0.131413653492928,0.149869561195374,0.054540660232306,-0.110005527734756,0.047647248953581,0.089287213981152,0.095367886126041,-0.010752255097032,-0.006556731183082,0.006121113896370,-0.111502721905708,-0.236148551106453,-0.014312092214823,-0.015305069275200));
res += mul(Get(s2,dx,-dy), float4x4(0.068766385316849,0.006154273170978,0.063418321311474,0.008202433586121,-0.217304810881615,-0.037440497428179,-0.148293867707253,0.053943168371916,-0.067215465009212,-0.100770093500614,-0.001420652261004,0.005007713101804,-0.062322787940502,0.088913440704346,-0.160948410630226,0.169812485575676));
res += mul(Get(s2,dx,0), float4x4(-0.158767729997635,-0.029157590121031,0.114443600177765,0.120823167264462,-0.056048694998026,0.163963854312897,0.080444477498531,-0.043894592672586,-0.194293603301048,0.041703764349222,0.135034069418907,0.006524361204356,-0.042192231863737,-0.147831007838249,-0.133826315402985,0.027432275936007));
res += mul(Get(s2,dx,dy), float4x4(0.002270760945976,0.034247111529112,-0.091100178658962,0.180447906255722,0.220247179269791,0.013005495071411,0.165909960865974,0.289400041103363,0.038814045488834,0.118450470268726,-0.288007318973541,0.011501137167215,0.127633854746819,-0.124827139079571,-0.085721544921398,-0.125415235757828));
res += mul(Get(s3,-dx,-dy), float4x4(0.055637486279011,-0.060221258550882,0.000860120169818,0.108218885958195,-0.067039377987385,0.200542375445366,0.079605430364609,0.055858489125967,-0.218614220619202,-0.075464658439159,-0.118484959006310,0.117086395621300,0.042669788002968,-0.050616122782230,0.097858659923077,-0.253541886806488));
res += mul(Get(s3,-dx,0), float4x4(-0.053377222269773,0.134040981531143,-0.070150084793568,0.008231198415160,0.112544380128384,0.075893037021160,0.097964897751808,-0.069448381662369,-0.196586728096008,0.184255942702293,-0.129825487732887,0.024615829810500,-0.049620732665062,-0.084919646382332,-0.042814541608095,-0.009027179330587));
res += mul(Get(s3,-dx,dy), float4x4(0.003156961407512,0.141440093517303,-0.054218951612711,-0.100306905806065,-0.003788111265749,-0.107767380774021,-0.017213692888618,-0.019794812425971,-0.218105450272560,0.239873632788658,0.015763506293297,0.078884489834309,-0.118314579129219,0.073245905339718,0.000579429557547,0.144849419593811));
res += mul(Get(s3,0,-dy), float4x4(-0.091006301343441,-0.052569527179003,-0.074825420975685,-0.139043420553207,-0.011627727188170,-0.231951013207436,0.051562812179327,0.013612228445709,-0.059776749461889,-0.058062087744474,0.161368802189827,0.047824293375015,-0.040978990495205,-0.102369062602520,0.097632423043251,-0.135865539312363));
res += mul(Get(s3,0,0), float4x4(-0.102017752826214,0.152248591184616,-0.158776223659515,-0.025808338075876,0.093662925064564,-0.196360439062119,0.088838122785091,0.016206126660109,-0.186643630266190,-0.129643589258194,-0.120520778000355,-0.191641464829445,-0.070915505290031,-0.148065164685249,0.125929683446884,0.154346197843552));
res += mul(Get(s3,0,dy), float4x4(-0.016837388277054,-0.108076870441437,-0.130793303251266,-0.078572958707809,0.028528556227684,-0.086079113185406,-0.087564110755920,-0.024842964485288,-0.221256121993065,-0.117676541209221,0.057023640722036,0.006679400335997,-0.083105415105820,-0.031539563089609,0.163267955183983,-0.309467881917953));
res += mul(Get(s3,dx,-dy), float4x4(0.093703001737595,0.026905603706837,-0.029795629903674,-0.092186704277992,0.092141635715961,0.072575993835926,0.028956798836589,-0.187780901789665,0.035534195601940,-0.043998934328556,0.712547361850739,-0.004567603580654,-0.062599979341030,-0.189140826463699,0.071517348289490,0.139183044433594));
res += mul(Get(s3,dx,0), float4x4(-0.036870669573545,0.048460412770510,-0.187795177102089,-0.040642973035574,0.024647917598486,-0.020480889827013,-0.024423860013485,-0.043670147657394,0.106171496212482,0.062471717596054,-0.086970463395119,-0.197895824909210,-0.049709882587194,-0.274345010519028,0.376048475503922,0.115823939442635));
res += mul(Get(s3,dx,dy), float4x4(-0.053970471024513,-0.066952332854271,-0.141841188073158,0.125775933265686,-0.138289809226990,-0.055095206946135,-0.124418795108795,0.055811487138271,-0.243541374802589,0.113096669316292,-0.216501995921135,-0.126558274030685,0.142400607466698,-0.158439755439758,0.214426741003990,-0.367031842470169));
return max(float4(0,0,0,0), res);
}
