sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.169470310211182,-0.052247211337090,0.081081897020340,-0.129033938050270,-0.141317695379257,0.038391903042793,-0.068775258958340,0.066815547645092,-0.138159453868866,0.131181076169014,-0.034623231738806,0.076173976063728,-0.107189044356346,-0.051758065819740,-0.189358055591583,-0.082528419792652));
res += mul(Get(s0,-dx,0), float4x4(-0.089064508676529,0.116376295685768,-0.009421293623745,-0.080781601369381,-0.029387235641479,-0.012608326971531,0.141008794307709,-0.021734436973929,-0.079511918127537,-0.017667802050710,-0.050754863768816,-0.184989094734192,-0.163254320621490,-0.141334280371666,-0.067989192903042,0.047853529453278));
res += mul(Get(s0,-dx,dy), float4x4(0.120504334568977,0.171753749251366,0.219542726874352,-0.035133566707373,-0.002622471656650,0.018668899312615,0.246552586555481,0.063381738960743,-0.320195794105530,0.008738407865167,-0.092992097139359,-0.014823183417320,-0.121586337685585,0.141283273696899,0.029061233624816,0.091467142105103));
res += mul(Get(s0,0,-dy), float4x4(-0.146647453308105,-0.007838763296604,-0.060593299567699,-0.272035121917725,0.119984418153763,-0.207932844758034,0.025876352563500,-0.062474522739649,0.214732378721237,0.002367601729929,-0.148568525910378,0.031016863882542,0.014431051909924,-0.054482728242874,-0.007428431883454,0.034155756235123));
res += mul(Get(s0,0,0), float4x4(0.153401777148247,-0.011734863743186,-0.015153791755438,-0.019660498946905,-0.060937542468309,0.152887970209122,0.100827068090439,-0.103160358965397,-0.165083974599838,0.031622745096684,-0.019894370809197,-0.137815147638321,-0.008656322956085,0.059525616466999,0.005217232275754,-0.113986097276211));
res += mul(Get(s0,0,dy), float4x4(0.035951368510723,0.119193188846111,-0.059000466018915,-0.141094982624054,-0.154588058590889,-0.138855367898941,0.018176993355155,-0.131539106369019,-0.111807473003864,-0.067227520048618,0.057019539177418,0.107835069298744,0.032611116766930,0.019444765523076,0.149165377020836,0.022467749193311));
res += mul(Get(s0,dx,-dy), float4x4(0.114939585328102,0.003112930338830,0.128902509808540,-0.042747467756271,-0.037868797779083,0.134757533669472,0.237451523542404,-0.017355591058731,-0.077672243118286,0.063703350722790,-0.071271002292633,0.061713382601738,-0.005507619120181,0.034269172698259,-0.166994154453278,-0.020769188180566));
res += mul(Get(s0,dx,0), float4x4(-0.147418171167374,0.124923884868622,0.245696946978569,0.130055829882622,0.086326174438000,0.112954549491405,0.090167157351971,-0.057797927409410,0.057315614074469,-0.029538415372372,0.058781106024981,0.154709875583649,-0.042088635265827,0.171555861830711,-0.109537549316883,0.115306451916695));
res += mul(Get(s0,dx,dy), float4x4(0.024997545406222,0.018075998872519,0.216048091650009,0.249013811349869,0.023726105690002,0.195274144411087,0.156819298863411,0.014054618775845,0.023832082748413,-0.047083463519812,-0.142495870590210,0.039753574877977,0.094202734529972,0.204902514815331,-0.070881247520447,-0.133735731244087));
res += mul(Get(s1,-dx,-dy), float4x4(0.100188367068768,-0.086157895624638,0.000714511785191,0.026385392993689,-0.063755705952644,0.125210389494896,0.067686133086681,-0.011738536879420,0.083108767867088,-0.060974080115557,-0.119581669569016,-0.144173473119736,-0.272721558809280,0.065556183457375,0.102054297924042,-0.010996880941093));
res += mul(Get(s1,-dx,0), float4x4(0.120236530900002,-0.005045258440077,-0.044964302331209,-0.103021636605263,-0.054414983838797,-0.168172582983971,-0.020143439993262,0.192366763949394,-0.096338368952274,0.009251960553229,-0.043022908270359,0.093143403530121,-0.012860823422670,-0.007017718162388,0.201500967144966,0.102616228163242));
res += mul(Get(s1,-dx,dy), float4x4(0.282332748174667,-0.272728919982910,-0.042186282575130,-0.079834476113319,0.110894277691841,-0.049391802400351,0.081279195845127,-0.090136989951134,0.096842922270298,-0.145880013704300,0.098902821540833,0.067826040089130,0.075440414249897,-0.186080589890480,0.062191478908062,0.044024486094713));
res += mul(Get(s1,0,-dy), float4x4(-0.038162484765053,0.049963284283876,-0.147691696882248,-0.118080034852028,0.126264110207558,-0.069631494581699,-0.107455067336559,-0.011136023327708,-0.137296125292778,-0.019854988902807,0.112348183989525,0.055341191589832,0.062974937260151,0.063778512179852,0.155065357685089,-0.061892367899418));
res += mul(Get(s1,0,0), float4x4(0.117025732994080,-0.106554292142391,0.052485238760710,0.036194812506437,-0.000398023024900,0.024398690089583,0.033613231033087,-0.041827622801065,0.067237608134747,-0.056203857064247,-0.131112739443779,-0.095898725092411,0.234066545963287,-0.043618414551020,0.149514943361282,-0.042303804308176));
res += mul(Get(s1,0,dy), float4x4(0.183633342385292,-0.129122436046600,-0.123851560056210,0.172259375452995,-0.114845924079418,0.087869577109814,0.059298090636730,-0.058406446129084,0.168574303388596,0.123861514031887,0.094718143343925,-0.115864969789982,-0.177364751696587,-0.020790964365005,0.047299198806286,-0.237109944224358));
res += mul(Get(s1,dx,-dy), float4x4(-0.072914458811283,-0.040709942579269,-0.089799866080284,-0.244944155216217,0.049457225948572,0.076829396188259,-0.124850608408451,-0.012475304305553,0.045738860964775,0.046998549252748,0.200148254632950,-0.008980914019048,-0.147726550698280,0.025702394545078,-0.096542239189148,-0.094224907457829));
res += mul(Get(s1,dx,0), float4x4(-0.226485773921013,-0.012354003265500,-0.082166619598866,0.029228610917926,0.270530521869659,0.000130102140247,-0.024159299209714,-0.000136418180773,-0.116761595010757,0.119935423135757,0.185874342918396,0.023730395361781,0.026092523708940,0.042001370340586,-0.114929482340813,0.045987624675035));
res += mul(Get(s1,dx,dy), float4x4(-0.086360849440098,-0.274266302585602,0.068947099149227,-0.021630642935634,-0.002708288142458,0.286635458469391,0.168131157755852,0.001181634725071,0.067535303533077,-0.005717077758163,0.145443618297577,0.075080469250679,-0.114030018448830,-0.058451309800148,-0.096090406179428,0.017835360020399));
res += mul(Get(s2,-dx,-dy), float4x4(-0.017309376969934,-0.179009720683098,0.012341210618615,-0.056164845824242,-0.057537116110325,-0.069862738251686,0.183800309896469,-0.093245476484299,-0.020528096705675,0.097274400293827,-0.021951127797365,0.102854281663895,-0.000772312516347,0.101547166705132,0.000513696344569,-0.066201061010361));
res += mul(Get(s2,-dx,0), float4x4(-0.095604121685028,-0.004391881637275,0.183409512042999,0.066004358232021,0.091062083840370,0.024634264409542,0.060741946101189,-0.066274076700211,0.053347229957581,-0.060422226786613,0.002388895256445,0.049031030386686,-0.192994773387909,0.091689795255661,-0.157057106494904,-0.152915030717850));
res += mul(Get(s2,-dx,dy), float4x4(0.133264675736427,0.027696512639523,-0.154400363564491,0.197173923254013,0.166911721229553,0.042547643184662,0.170932397246361,-0.032044176012278,0.110087759792805,0.222442567348480,0.033778920769691,0.060315422713757,-0.151329398155212,0.040610145777464,-0.004239925183356,-0.162282973527908));
res += mul(Get(s2,0,-dy), float4x4(-0.006993331946433,0.038788594305515,0.183136969804764,-0.068669646978378,-0.108604006469250,-0.048423182219267,0.165894612669945,-0.042261879891157,-0.172866135835648,-0.027437452226877,-0.182661727070808,-0.052331589162350,-0.046844929456711,0.096997521817684,0.186365664005280,-0.128382444381714));
res += mul(Get(s2,0,0), float4x4(0.049734506756067,-0.170886576175690,0.024472290650010,0.058023739606142,0.080020412802696,0.064526341855526,0.038842972368002,0.128342196345329,0.121687576174736,-0.273275792598724,-0.188662767410278,-0.073070235550404,0.033475160598755,0.040935967117548,-0.037752091884613,0.053697988390923));
res += mul(Get(s2,0,dy), float4x4(-0.179498299956322,-0.005412229802459,0.036379795521498,0.045948125422001,0.262672752141953,0.029665119946003,-0.126817256212234,0.119994595646858,-0.194313913583755,0.099946565926075,0.062293622642756,0.082139723002911,-0.161885499954224,0.102113634347916,-0.214419797062874,-0.053703650832176));
res += mul(Get(s2,dx,-dy), float4x4(-0.061088867485523,0.109213106334209,-0.074655607342720,0.056435704231262,-0.149397045373917,0.042744271457195,-0.071307107806206,0.037418931722641,-0.144650146365166,-0.058789890259504,0.156124025583267,0.146223247051239,0.001936575979926,0.309274941682816,0.274809509515762,-0.010226422920823));
res += mul(Get(s2,dx,0), float4x4(0.127104565501213,-0.031713735312223,0.046713639050722,-0.206971719861031,-0.072366714477539,0.017070356756449,0.053749393671751,-0.099163129925728,0.088782884180546,-0.136865288019180,-0.053401604294777,0.016507510095835,0.000243565213168,-0.115073032677174,-0.026089960709214,-0.001812140922993));
res += mul(Get(s2,dx,dy), float4x4(0.124734662473202,-0.085209354758263,0.111863523721695,0.063789904117584,-0.046144507825375,0.237352892756462,-0.049521807581186,-0.050219159573317,-0.033416494727135,0.139578625559807,-0.010741322301328,0.023259755223989,-0.189098641276360,-0.017938140779734,-0.224877178668976,-0.231654658913612));
res += mul(Get(s3,-dx,-dy), float4x4(-0.083694696426392,0.086231879889965,-0.095970273017883,0.182392463088036,0.145867943763733,0.082085959613323,-0.045440517365932,-0.160757914185524,0.052985519170761,0.078347101807594,-0.366356194019318,-0.024632768705487,0.188574150204659,0.168955400586128,0.189911633729935,-0.040263175964355));
res += mul(Get(s3,-dx,0), float4x4(0.081383913755417,-0.053137451410294,0.058815762400627,0.057295590639114,0.069549232721329,-0.296569496393204,-0.090434901416302,0.023613324388862,-0.182202309370041,0.036120343953371,0.041391234844923,0.035668686032295,0.045726481825113,0.188123956322670,0.099823251366615,-0.067968182265759));
res += mul(Get(s3,-dx,dy), float4x4(0.034500602632761,0.042607452720404,-0.039444562047720,-0.158132642507553,-0.016371114179492,-0.457682758569717,-0.315068006515503,0.064952820539474,-0.091767616569996,-0.104390390217304,0.017453640699387,0.058811645954847,0.107949808239937,0.149932339787483,0.016732443124056,0.026179250329733));
res += mul(Get(s3,0,-dy), float4x4(-0.150266215205193,0.024092055857182,-0.043277394026518,0.150880068540573,0.184133097529411,-0.002807425335050,-0.036133751273155,-0.130358934402466,0.054981198161840,-0.030735600739717,0.053980614989996,0.005688696634024,0.148493289947510,0.096935309469700,0.047628071159124,-0.106747142970562));
res += mul(Get(s3,0,0), float4x4(-0.114188857376575,-0.171779915690422,0.072148852050304,0.112397730350494,0.067694611847401,0.080410614609718,0.084009602665901,0.020784495398402,-0.001195211661980,-0.010197572410107,0.013698103837669,0.132389143109322,0.002657008823007,0.010329333133996,0.000893254764378,-0.136929064989090));
res += mul(Get(s3,0,dy), float4x4(-0.233226165175438,0.115744836628437,0.081526607275009,-0.132731720805168,-0.112977579236031,-0.279587328433990,0.157530412077904,0.049348238855600,-0.056027404963970,-0.058631014078856,-0.204890862107277,-0.050348881632090,-0.162247911095619,-0.067296333611012,0.123838432133198,0.083512075245380));
res += mul(Get(s3,dx,-dy), float4x4(-0.130134925246239,-0.029494199901819,-0.004946498665959,0.078412033617496,-0.041641168296337,0.199695557355881,0.018139429390430,-0.015491945669055,-0.003075696295127,0.257858097553253,-0.051512856036425,-0.149452939629555,-0.355043351650238,-0.091558329761028,-0.069249339401722,0.103551313281059));
res += mul(Get(s3,dx,0), float4x4(-0.076881624758244,-0.003784609260038,-0.018785255029798,0.091059274971485,0.293921560049057,0.088274344801903,-0.078807242214680,0.189651712775230,-0.083954215049744,0.224898695945740,0.064012594521046,0.075839877128601,-0.063070803880692,-0.141671806573868,-0.064162194728851,0.110108993947506));
res += mul(Get(s3,dx,dy), float4x4(0.180995881557465,0.010299480520189,0.091639026999474,0.143800586462021,0.169709801673889,-0.049312740564346,-0.136571913957596,0.025192037224770,-0.109151974320412,0.051776554435492,-0.189569577574730,-0.086469285190105,-0.159333869814873,-0.084499165415764,0.015332078561187,0.207623139023781));
return max(float4(0,0,0,0), res);
}
