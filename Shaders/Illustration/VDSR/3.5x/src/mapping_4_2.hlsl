sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.091357216238976,0.088977716863155,0.100283749401569,0.127669319510460,-0.138811916112900,-0.101085364818573,-0.045638408511877,-0.065077804028988,-0.122913353145123,0.129716455936432,0.125579819083214,0.152244687080383,0.124461784958839,0.003218216588721,-0.110755980014801,0.154317110776901));
res += mul(Get(s0,-dx,0), float4x4(-0.036141335964203,-0.096220411360264,-0.002765371697024,0.191035956144333,-0.059940252453089,-0.184290662407875,-0.176759958267212,0.098559044301510,-0.028201503679156,-0.169101879000664,0.131066918373108,-0.082897268235683,0.046105649322271,-0.047261402010918,-0.056097090244293,0.113870657980442));
res += mul(Get(s0,-dx,dy), float4x4(0.131846815347672,0.012555405497551,-0.119998641312122,0.004837286192924,-0.027077179402113,0.022200779989362,-0.040351860225201,-0.213749855756760,-0.138618007302284,-0.022944809868932,0.214651882648468,-0.014580996707082,-0.058680865913630,0.010580323636532,-0.009450265206397,-0.004093149676919));
res += mul(Get(s0,0,-dy), float4x4(0.041869033128023,0.000053212927014,-0.087654814124107,-0.033136460930109,-0.111256055533886,-0.261499881744385,0.052875149995089,-0.099433146417141,-0.046399064362049,0.055594984441996,0.020761858671904,-0.089716240763664,0.049677655100822,0.264980345964432,0.129346489906311,-0.153480648994446));
res += mul(Get(s0,0,0), float4x4(0.058716211467981,0.045952666550875,0.031288109719753,0.033765528351068,0.013926517218351,-0.008373412303627,-0.145532533526421,-0.070818811655045,-0.043177515268326,0.133923381567001,-0.054994527250528,0.045139852911234,-0.092147208750248,0.043770421296358,0.119544394314289,0.167739957571030));
res += mul(Get(s0,0,dy), float4x4(-0.070130355656147,-0.131701901555061,0.060367323458195,-0.053174853324890,0.019725792109966,0.084651380777359,-0.072347499430180,-0.017990177497268,-0.104039639234543,0.016021715477109,-0.118701457977295,-0.067722134292126,-0.062856264412403,-0.032902337610722,-0.045390427112579,-0.050068683922291));
res += mul(Get(s0,dx,-dy), float4x4(-0.136773228645325,0.032847467809916,0.013735434971750,0.151489228010178,-0.174161583185196,-0.063378572463989,-0.099110387265682,-0.009341888129711,0.053297489881516,-0.021448843181133,-0.085837520658970,0.053581636399031,-0.117481850087643,0.097835324704647,0.004778991919011,-0.018150014802814));
res += mul(Get(s0,dx,0), float4x4(0.097870931029320,-0.125114515423775,-0.112905524671078,-0.130294561386108,-0.048576891422272,-0.039621848613024,-0.087458625435829,0.013242555782199,-0.100677639245987,0.146861642599106,0.122652366757393,-0.075863435864449,0.176007941365242,0.102003872394562,0.128698691725731,0.047131150960922));
res += mul(Get(s0,dx,dy), float4x4(-0.041284736245871,-0.095303282141685,0.028869535773993,-0.025364229455590,0.024236161261797,-0.087249048054218,0.024957867339253,0.010087015107274,0.171928465366364,0.062937870621681,-0.048779338598251,0.189287051558495,-0.284339100122452,0.003245408646762,-0.078964978456497,-0.217538028955460));
res += mul(Get(s1,-dx,-dy), float4x4(0.165049076080322,0.012832575477660,0.006603381130844,-0.088189043104649,0.087521724402905,-0.104970477521420,0.043946109712124,-0.094601795077324,0.124339535832405,-0.062744706869125,0.132192552089691,0.034277439117432,-0.044870205223560,-0.043979901820421,-0.079021207988262,-0.072302497923374));
res += mul(Get(s1,-dx,0), float4x4(0.089945212006569,-0.048039291054010,-0.120951168239117,0.067460931837559,-0.003950261045247,-0.079755112528801,0.317614257335663,-0.084447100758553,0.022718351334333,0.064630918204784,0.067515514791012,-0.007297459989786,0.056975372135639,0.164144411683083,0.023598847910762,-0.070798330008984));
res += mul(Get(s1,-dx,dy), float4x4(0.029912365600467,-0.016007494181395,-0.020215366035700,-0.108759097754955,-0.139979347586632,0.017041932791471,-0.137302488088608,-0.005189566407353,0.174340039491653,-0.165753632783890,0.204912289977074,-0.147432163357735,-0.089500300586224,-0.075113050639629,-0.099679857492447,0.214967146515846));
res += mul(Get(s1,0,-dy), float4x4(0.094283476471901,-0.014528939500451,-0.142778187990189,-0.108047194778919,-0.014112923294306,0.082871235907078,0.043593551963568,0.105110466480255,-0.076363347470760,-0.033148501068354,0.109597057104111,0.098511941730976,0.026557127013803,0.034760434180498,0.027757367119193,0.108696728944778));
res += mul(Get(s1,0,0), float4x4(0.146829620003700,0.058468420058489,-0.067834831774235,0.028834259137511,-0.188392102718353,-0.092977948486805,-0.020048698410392,-0.243821114301682,-0.020355822518468,0.079552672803402,-0.008923372253776,0.206389784812927,0.036047294735909,-0.019612116739154,0.107407420873642,0.147952765226364));
res += mul(Get(s1,0,dy), float4x4(0.099354252219200,-0.191277384757996,0.096927501261234,0.010238543152809,0.159806787967682,-0.067651361227036,0.029169814661145,-0.095186688005924,-0.103141404688358,-0.163660645484924,0.072136752307415,0.157501175999641,0.188329741358757,-0.015014582313597,-0.054904025048018,-0.037049125880003));
res += mul(Get(s1,dx,-dy), float4x4(0.127113178372383,0.169618397951126,0.137939170002937,-0.039356473833323,-0.054740790277719,-0.026755241677165,0.163022279739380,0.006628765258938,-0.038957413285971,-0.002706363564357,-0.000915132462978,-0.282336056232452,-0.061229404062033,-0.133517399430275,0.109445624053478,0.021990429610014));
res += mul(Get(s1,dx,0), float4x4(-0.046797357499599,-0.011508193798363,-0.169791042804718,0.140128225088120,-0.127226427197456,-0.043695103377104,0.261964499950409,-0.072214320302010,0.145573616027832,-0.020212508738041,0.099464327096939,-0.037576571106911,0.009142476134002,0.066872902214527,-0.081375829875469,0.043094787746668));
res += mul(Get(s1,dx,dy), float4x4(0.074682317674160,0.004160423763096,0.131951600313187,-0.066348649561405,-0.092709019780159,-0.039727147668600,-0.059927344322205,0.123502962291241,0.188129365444183,0.050118315964937,0.056716941297054,-0.159011512994766,-0.059572167694569,-0.174543961882591,0.276311755180359,0.012832263484597));
res += mul(Get(s2,-dx,-dy), float4x4(0.162705168128014,0.153849080204964,0.021366672590375,-0.011897283606231,-0.033940263092518,0.170446395874023,0.063248246908188,0.017424048855901,-0.024324014782906,0.050250027328730,-0.113634996116161,-0.062444414943457,-0.133061349391937,0.051393300294876,0.069823049008846,0.064630724489689));
res += mul(Get(s2,-dx,0), float4x4(0.158073276281357,0.046306159347296,-0.066546976566315,-0.030912069603801,-0.137020125985146,0.021109240129590,0.034229658544064,0.013649444095790,0.142966866493225,-0.052478928118944,0.008338923566043,0.062128830701113,-0.135413572192192,0.102969713509083,-0.078643724322319,-0.076976895332336));
res += mul(Get(s2,-dx,dy), float4x4(-0.361296951770782,0.001998601946980,-0.081838473677635,0.092637628316879,0.065284430980682,-0.063308097422123,0.079242199659348,0.097437955439091,-0.028804697096348,-0.051214393228292,0.131705984473228,-0.087083116173744,0.094821937382221,-0.043127011507750,-0.001054856111296,-0.110238254070282));
res += mul(Get(s2,0,-dy), float4x4(-0.079967044293880,0.123348645865917,0.139542654156685,-0.035626802593470,-0.058751944452524,0.001666400465183,0.167690157890320,-0.080728262662888,0.139716953039169,-0.096608288586140,0.099949099123478,-0.019706698134542,-0.053384240716696,0.023875078186393,0.129709556698799,0.075594812631607));
res += mul(Get(s2,0,0), float4x4(-0.157524704933167,0.151719540357590,0.038021676242352,0.144777402281761,-0.076507218182087,0.173281490802765,-0.064403399825096,-0.180381819605827,-0.119351707398891,0.007434693630785,-0.250634759664536,0.034344855695963,0.110108092427254,-0.049738362431526,0.099125005304813,-0.092787101864815));
res += mul(Get(s2,0,dy), float4x4(-0.045768320560455,0.051840007305145,-0.010789544321597,0.085269965231419,-0.182169139385223,0.114069618284702,-0.064546614885330,0.037329211831093,-0.044449802488089,-0.141015157103539,0.265449464321136,0.001504105748609,0.104906782507896,0.107322014868259,0.120556816458702,-0.071297362446785));
res += mul(Get(s2,dx,-dy), float4x4(-0.083525098860264,-0.004628168884665,0.147558227181435,0.158502981066704,0.066770464181900,0.045040681958199,-0.092890039086342,0.014318503439426,-0.068297594785690,-0.019579138606787,0.099429041147232,0.177997514605522,0.056251011788845,-0.193926587700844,-0.082869946956635,-0.110375113785267));
res += mul(Get(s2,dx,0), float4x4(0.230747297406197,-0.105143755674362,0.056695729494095,0.141372546553612,-0.163903981447220,0.128444239497185,0.122709743678570,-0.133542448282242,-0.068654239177704,0.233942091464996,0.089582107961178,-0.246566280722618,-0.188267454504967,-0.084100000560284,-0.080837205052376,-0.031731314957142));
res += mul(Get(s2,dx,dy), float4x4(0.014117847196758,0.117557086050510,-0.023636050522327,0.074470072984695,-0.023304602131248,0.132131099700928,0.130374625325203,0.085268892347813,-0.125145748257637,-0.337960720062256,-0.016466399654746,-0.046865858137608,-0.042675178498030,0.048991527408361,-0.278378367424011,0.079065553843975));
res += mul(Get(s3,-dx,-dy), float4x4(0.134705618023872,0.179422467947006,-0.088214769959450,0.031316883862019,0.025393890216947,0.008859717287123,-0.083789378404617,-0.153742954134941,-0.039192155003548,-0.038960125297308,-0.029738921672106,0.050683990120888,-0.008723763749003,-0.033127240836620,-0.040427546948195,-0.105933725833893));
res += mul(Get(s3,-dx,0), float4x4(-0.054953359067440,0.068066552281380,0.034690864384174,-0.080564022064209,0.076189897954464,0.022715786471963,-0.087611034512520,-0.172516360878944,0.103182062506676,-0.017821554094553,-0.046149376779795,0.069476597011089,-0.217075347900391,-0.048319045454264,0.047625005245209,-0.060853488743305));
res += mul(Get(s3,-dx,dy), float4x4(0.071569189429283,0.042332101613283,-0.023919325321913,0.013144577853382,-0.217194408178329,0.081327602267265,0.038063038140535,-0.047182764858007,0.071484036743641,-0.220125764608383,0.131017908453941,-0.158481612801552,-0.364051699638367,-0.076635666191578,0.092356950044632,-0.035062260925770));
res += mul(Get(s3,0,-dy), float4x4(-0.150676220655441,-0.033531654626131,0.197159349918365,-0.148401394486427,0.040514789521694,0.039198320358992,-0.049837723374367,-0.039574529975653,-0.231512874364853,-0.083021834492683,-0.144154265522957,0.173204511404037,-0.008789898827672,0.037726026028395,-0.225416615605354,-0.017778551205993));
res += mul(Get(s3,0,0), float4x4(-0.081011287868023,-0.039422929286957,-0.128185212612152,0.046580176800489,-0.112070269882679,0.127392902970314,0.036024890840054,-0.108133539557457,0.001428395975381,-0.032195415347815,-0.099843867123127,0.124229878187180,-0.042228810489178,0.239161506295204,-0.104256890714169,-0.069056496024132));
res += mul(Get(s3,0,dy), float4x4(0.150363817811012,0.074614845216274,-0.001960940891877,0.025393646210432,0.246649444103241,-0.023493960499763,0.030431341379881,0.233844250440598,-0.321885019540787,0.107573859393597,-0.069881945848465,-0.194260135293007,0.214353784918785,0.038921579718590,-0.135461136698723,0.121728979051113));
res += mul(Get(s3,dx,-dy), float4x4(-0.125387698411942,0.201209515333176,0.057093717157841,-0.077701181173325,0.076130211353302,-0.152092367410660,0.077215671539307,-0.084708452224731,0.065662220120430,0.152732536196709,0.021871499717236,-0.072471544146538,-0.061919871717691,-0.132090941071510,0.270326435565948,-0.082640163600445));
res += mul(Get(s3,dx,0), float4x4(-0.038688290864229,-0.112904787063599,0.068500883877277,0.139667928218842,-0.036026921123266,-0.057049922645092,-0.009458659216762,0.096166215837002,-0.053301490843296,0.068141832947731,-0.052380543202162,0.082712091505527,-0.053942538797855,-0.133142814040184,-0.062757447361946,-0.073215119540691));
res += mul(Get(s3,dx,dy), float4x4(0.133873969316483,-0.110376231372356,-0.110820852220058,-0.152068153023720,-0.094577662646770,-0.020680477842689,-0.244638785719872,-0.033307988196611,-0.007841201499104,-0.094934582710266,-0.136200919747353,-0.038286395370960,0.070796340703964,-0.292401909828186,0.044591862708330,0.096455946564674));
return max(float4(0,0,0,0), res);
}
