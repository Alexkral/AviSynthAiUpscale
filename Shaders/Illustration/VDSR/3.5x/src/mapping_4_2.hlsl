sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.044838070869446,-0.166954651474953,-0.008991899900138,-0.254347115755081,-0.137689888477325,0.194582954049110,0.317296326160431,0.106027595698833,-0.037672899663448,0.223905146121979,0.067930348217487,-0.215421006083488,-0.204675227403641,0.209157779812813,-0.132871389389038,-0.095959521830082));
res += mul(Get(s0,-dx,0), float4x4(-0.079537220299244,0.053439989686012,0.150794908404350,-0.142813682556152,-0.223640009760857,-0.317442387342453,-0.227589622139931,0.077978439629078,-0.010026493109763,-0.135787785053253,-0.085893124341965,-0.120021395385265,-0.045542243868113,-0.132643938064575,0.099800162017345,-0.040756177157164));
res += mul(Get(s0,-dx,dy), float4x4(-0.191867038607597,-0.170049533247948,-0.067691497504711,-0.230375155806541,-0.161622539162636,0.228965342044830,-0.197285279631615,0.011062222532928,0.150783136487007,-0.503529906272888,0.230048507452011,-0.008791423402727,-0.251251429319382,-0.022816890850663,-0.106779083609581,-0.105162769556046));
res += mul(Get(s0,0,-dy), float4x4(-0.183373972773552,0.062573984265327,-0.180770099163055,-0.062697358429432,0.067228026688099,0.119509495794773,0.034144062548876,-0.141783609986305,0.214405566453934,0.083443656563759,0.109840981662273,-0.082824066281319,0.007940819486976,0.058939334005117,-0.217436060309410,-0.109625317156315));
res += mul(Get(s0,0,0), float4x4(0.162482932209969,0.059029854834080,0.076365217566490,0.048968311399221,-0.105516716837883,-0.136619880795479,-0.018874198198318,-0.101750895380974,0.031570065766573,-0.037772431969643,0.158324852585793,-0.040559083223343,0.022158026695251,-0.021940778940916,-0.054597817361355,0.140096962451935));
res += mul(Get(s0,0,dy), float4x4(0.170990988612175,-0.070910006761551,-0.085647381842136,-0.088485747575760,-0.056837450712919,0.056583378463984,-0.185786560177803,-0.016865383833647,-0.005060397554189,-0.415671437978745,0.216320827603340,-0.051937360316515,-0.130414247512817,0.169463604688644,-0.125459969043732,0.235503971576691));
res += mul(Get(s0,dx,-dy), float4x4(-0.201567605137825,-0.055089600384235,-0.107432015240192,0.282198727130890,0.079094037413597,0.194399073719978,-0.036462649703026,-0.215845808386803,0.108203060925007,0.278889626264572,0.008732954040170,-0.252912938594818,-0.068263597786427,-0.120622664690018,-0.216149061918259,0.056878209114075));
res += mul(Get(s0,dx,0), float4x4(-0.199158862233162,-0.093910902738571,0.206851586699486,0.075377613306046,-0.139296293258667,0.194686368107796,0.025027148425579,-0.268363028764725,-0.018270269036293,0.074410200119019,-0.111255459487438,-0.188480019569397,0.155427083373070,0.192444488406181,-0.213287100195885,-0.099329739809036));
res += mul(Get(s0,dx,dy), float4x4(0.087130129337311,-0.319829672574997,-0.062453996390104,-0.187239378690720,-0.110613822937012,0.032111514359713,-0.116097882390022,0.136282041668892,0.167368143796921,-0.149580180644989,-0.039135333150625,-0.156285166740417,0.015413684770465,0.433640420436859,0.091030545532703,-0.089868694543839));
res += mul(Get(s1,-dx,-dy), float4x4(-0.118119202554226,-0.269510984420776,-0.059688407927752,-0.197990626096725,0.071581766009331,0.009553887881339,-0.190511092543602,-0.012460517697036,-0.028314225375652,-0.013307629153132,-0.116159684956074,0.239517867565155,-0.063708253204823,-0.157511442899704,-0.034989230334759,0.152896344661713));
res += mul(Get(s1,-dx,0), float4x4(-0.093744754791260,0.092564143240452,0.051498435437679,-0.170191362500191,0.133316770195961,-0.135613948106766,0.030005240812898,-0.198958516120911,0.098934739828110,0.113201484084129,0.156895950436592,0.018130142241716,-0.106840819120407,0.025482891127467,0.297821223735809,-0.048622284084558));
res += mul(Get(s1,-dx,dy), float4x4(0.001749078859575,0.228400751948357,-0.224394917488098,-0.007545589935035,-0.077712118625641,-0.130937665700912,-0.119246132671833,-0.088237553834915,0.152789264917374,0.008528555743396,0.070122569799423,-0.006160705350339,0.038310695439577,0.202965304255486,0.132618665695190,0.025125093758106));
res += mul(Get(s1,0,-dy), float4x4(-0.131296008825302,-0.221288830041885,-0.110662505030632,-0.003933113534003,0.005074165295810,0.185394898056984,-0.115118473768234,0.079044647514820,0.159595385193825,0.053367991000414,0.049599446356297,0.212310031056404,-0.151502013206482,-0.129042074084282,0.055680815130472,0.379966616630554));
res += mul(Get(s1,0,0), float4x4(-0.126484140753746,-0.154959022998810,-0.016926588490605,0.043891940265894,0.086176924407482,-0.001542699988931,0.219870880246162,0.196640715003014,-0.053119607269764,0.084269374608994,0.071117304265499,0.094249852001667,-0.130739986896515,-0.057746846228838,0.023523036390543,0.177894100546837));
res += mul(Get(s1,0,dy), float4x4(-0.130765214562416,-0.046464517712593,-0.347945243120193,-0.036567013710737,0.055505365133286,0.033368580043316,0.136788368225098,0.006611915770918,0.182751893997192,0.078764326870441,-0.168277785181999,-0.040281351655722,-0.028896348550916,-0.008329860866070,-0.162919163703918,0.088793434202671));
res += mul(Get(s1,dx,-dy), float4x4(-0.107670992612839,-0.101971358060837,-0.142398640513420,-0.038489270955324,0.080044113099575,-0.133814319968224,0.256469279527664,0.184073433279991,-0.017112825065851,-0.028095103800297,0.062476135790348,-0.039534676820040,-0.108380287885666,-0.097433477640152,-0.022455511614680,-0.056881111115217));
res += mul(Get(s1,dx,0), float4x4(-0.109442204236984,0.064605310559273,-0.006109319161624,0.106820523738861,-0.016006974503398,0.058866526931524,0.009689161553979,-0.228174984455109,0.094426319003105,-0.072535485029221,0.199025690555573,-0.066003769636154,-0.014571611769497,0.093977056443691,0.150568455457687,-0.221694380044937));
res += mul(Get(s1,dx,dy), float4x4(-0.206408321857452,0.352200686931610,-0.187720671296120,0.058968961238861,0.068316362798214,-0.036412060260773,0.087967306375504,-0.015219933353364,-0.104489170014858,0.007571670226753,-0.247267529368401,-0.009646273218095,-0.043101623654366,0.016057021915913,-0.044642824679613,0.071358911693096));
res += mul(Get(s2,-dx,-dy), float4x4(-0.125465065240860,0.396707832813263,-0.081555329263210,0.064830273389816,-0.060688298195601,-0.072899222373962,-0.064555332064629,0.106158934533596,-0.074863284826279,-0.050214730203152,-0.003941433038563,-0.054574664682150,-0.307128399610519,0.131851404905319,-0.105607986450195,0.050351671874523));
res += mul(Get(s2,-dx,0), float4x4(-0.214431494474411,-0.039246223866940,0.026246896013618,0.251101076602936,0.155582517385483,0.034458819776773,0.176313012838364,-0.011528444476426,0.091671191155910,-0.098016656935215,0.139263913035393,-0.068935409188271,-0.109861969947815,0.136508271098137,-0.196602806448936,-0.017222657799721));
res += mul(Get(s2,-dx,dy), float4x4(-0.048823624849319,0.096109345555305,-0.064546592533588,0.108825080096722,-0.230516403913498,-0.334103524684906,-0.018689567223191,-0.190425932407379,-0.032015599310398,-0.019363198429346,0.082892715930939,-0.178499311208725,0.010300351306796,0.066378325223923,-0.073077477514744,-0.020204657688737));
res += mul(Get(s2,0,-dy), float4x4(-0.084208466112614,-0.062735296785831,0.033810310065746,-0.095553688704967,-0.155454292893410,-0.160612642765045,-0.012806112878025,0.178538694977760,-0.107871726155281,0.040881369262934,-0.131084963679314,0.004548604134470,-0.235195085406303,0.069415137171745,-0.041824098676443,0.258400261402130));
res += mul(Get(s2,0,0), float4x4(-0.017981249839067,-0.183954089879990,-0.063642486929893,0.044834211468697,-0.065439768135548,0.103102222084999,-0.062384732067585,-0.166075184941292,0.257750153541565,-0.067379355430603,-0.022605046629906,-0.012571332976222,-0.245565921068192,-0.096940785646439,-0.119497038424015,0.091046050190926));
res += mul(Get(s2,0,dy), float4x4(0.008146896027029,-0.252160072326660,-0.103245601058006,0.079011008143425,0.045364353805780,-0.384140938520432,-0.030979087576270,-0.236105486750603,0.105065934360027,-0.056380439549685,0.040291279554367,0.084158249199390,0.319167435169220,-0.093547604978085,-0.164935529232025,-0.022924311459064));
res += mul(Get(s2,dx,-dy), float4x4(-0.137829110026360,-0.218157738447189,0.105737581849098,-0.017956966534257,0.311895489692688,-0.154955253005028,0.083877086639404,-0.046278845518827,-0.146555200219154,0.075533837080002,-0.220398768782616,0.237683281302452,-0.156549900770187,-0.119297884404659,0.011678926646709,0.001310901949182));
res += mul(Get(s2,dx,0), float4x4(-0.049268029630184,-0.170803800225258,0.010733677074313,-0.008654391393065,0.304576963186264,0.120172962546349,-0.016458770260215,-0.177060008049011,0.148933514952660,-0.094089418649673,0.035413499921560,0.101792380213737,-0.212005257606506,0.069109708070755,-0.171997904777527,-0.058161884546280));
res += mul(Get(s2,dx,dy), float4x4(-0.106775052845478,-0.050797678530216,0.026674034073949,-0.008108583278954,0.319925665855408,-0.277314215898514,-0.235005319118500,-0.130853310227394,-0.048749420791864,-0.164663434028625,-0.100396215915680,-0.056718163192272,0.174969375133514,-0.151387587189674,-0.269410610198975,-0.245907947421074));
res += mul(Get(s3,-dx,-dy), float4x4(-0.144483655691147,-0.198373034596443,-0.267748028039932,-0.124728091061115,-0.067773453891277,0.048596534878016,0.167400270700455,0.159413605928421,-0.197929322719574,-0.205227196216583,-0.028992369771004,0.031953960657120,0.104450903832912,-0.015690989792347,0.005448117852211,0.132396727800369));
res += mul(Get(s3,-dx,0), float4x4(-0.238898292183876,-0.064101099967957,0.235220491886139,-0.011613590642810,-0.069436587393284,0.012250029481947,0.019649893045425,-0.044353980571032,-0.166855722665787,-0.188663378357887,-0.001669823424891,0.112632736563683,0.132728606462479,0.103737361729145,0.162468194961548,-0.031775582581758));
res += mul(Get(s3,-dx,dy), float4x4(0.094410896301270,-0.106507733464241,0.231530502438545,-0.259019911289215,-0.118060082197189,-0.216718271374702,0.096926286816597,0.161068454384804,-0.002677931217477,0.014314447529614,-0.152230426669121,-0.055521354079247,-0.069557555019855,-0.117551796138287,-0.042607691138983,0.139253154397011));
res += mul(Get(s3,0,-dy), float4x4(0.091830052435398,-0.056806199252605,0.106763072311878,0.424930065870285,-0.043416075408459,-0.093762353062630,-0.286694049835205,0.044214308261871,-0.047007042914629,0.064375989139080,0.021489452570677,-0.050524454563856,-0.030978485941887,-0.043227251619101,-0.131625369191170,-0.024834839627147));
res += mul(Get(s3,0,0), float4x4(-0.087372787296772,0.137818634510040,0.106376901268959,-0.111933089792728,-0.013880967162549,0.086458921432495,0.072635374963284,0.104216665029526,-0.044572308659554,0.127640888094902,-0.077283270657063,-0.015094238333404,-0.160706549882889,0.159828990697861,-0.137066036462784,-0.077622972428799));
res += mul(Get(s3,0,dy), float4x4(0.008138483390212,-0.016484271734953,0.043907690793276,-0.301274448633194,-0.002363619627431,-0.207125380635262,0.137589976191521,0.246466383337975,-0.078576005995274,0.046125326305628,-0.078739888966084,0.139755576848984,0.004964203108102,0.088874541223049,-0.241044864058495,0.111720152199268));
res += mul(Get(s3,dx,-dy), float4x4(-0.178993985056877,-0.124771483242512,-0.087189309298992,0.397355467081070,0.089516788721085,0.291341483592987,0.001794895040803,0.006168014835566,-0.227451324462891,0.059254162013531,-0.308739364147186,-0.186644479632378,0.036906462162733,-0.152191460132599,-0.079571321606636,0.145134463906288));
res += mul(Get(s3,dx,0), float4x4(-0.196670889854431,0.038970012217760,-0.141998365521431,0.097954593598843,0.127250343561172,0.309828847646713,0.076828323304653,-0.003679356770590,-0.035535395145416,0.288977175951004,-0.211645394563675,-0.096861578524113,0.189000979065895,0.021750941872597,-0.069187819957733,-0.005926957353950));
res += mul(Get(s3,dx,dy), float4x4(0.131422892212868,-0.091612100601196,-0.091377019882202,-0.109178192913532,-0.028174197301269,0.140758663415909,-0.125821650028229,-0.009606322273612,-0.155736684799194,0.159960582852364,-0.109392292797565,-0.038887288421392,0.104886375367641,0.201115071773529,-0.155238881707191,-0.040581632405519));
return max(float4(0,0,0,0), res);
}
