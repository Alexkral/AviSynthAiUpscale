sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.111167915165424,0.136351317167282,0.061105657368898,-0.185859322547913,-0.183140575885773,-0.224133878946304,0.469434380531311,0.012454497627914,0.193801268935204,-0.041300971060991,-0.211038559675217,-0.028165485709906,0.251780271530151,0.138639688491821,0.204178616404533,-0.038162134587765));
res += mul(Get(s0,-dx,0), float4x4(0.195296898484230,0.240645617246628,-0.419096142053604,-0.092514954507351,-0.050006713718176,-0.086704924702644,0.079647764563560,0.071144171059132,-0.099269062280655,-0.034117933362722,-0.161452814936638,0.105207838118076,0.114556074142456,0.045170783996582,-0.057333860546350,0.065342776477337));
res += mul(Get(s0,-dx,dy), float4x4(-0.096622526645660,0.247678533196449,-0.103760890662670,-0.136306107044220,-0.030680498108268,0.114630423486233,0.058640785515308,0.172674119472504,-0.062420677393675,0.075989343225956,-0.101811595261097,0.006524641532451,-0.133953243494034,0.065284088253975,-0.076631277799606,0.046873766928911));
res += mul(Get(s0,0,-dy), float4x4(0.013171359896660,0.030911428853869,0.122436024248600,0.082704812288284,-0.180365458130836,-0.131496280431747,-0.001377295120619,-0.126875609159470,0.163142979145050,0.110604949295521,0.140099838376045,0.023856673389673,0.178623944520950,-0.037619747221470,0.028419476002455,-0.201784208416939));
res += mul(Get(s0,0,0), float4x4(0.151799052953720,0.251222759485245,-0.265888154506683,-0.088169232010841,-0.028512040153146,0.079558983445168,-0.016993992030621,-0.147102981805801,0.100628577172756,0.072612546384335,0.029629146680236,0.046288680285215,-0.135623797774315,-0.006796963047236,-0.260280370712280,-0.073790743947029));
res += mul(Get(s0,0,dy), float4x4(-0.214887723326683,0.139051526784897,-0.116952896118164,-0.120647892355919,0.103462189435959,-0.021702732890844,0.050724994391203,0.055241871625185,0.131280139088631,0.025308780372143,0.203160375356674,0.030224010348320,-0.278368711471558,-0.071512997150421,-0.177020460367203,0.116266049444675));
res += mul(Get(s0,dx,-dy), float4x4(-0.085744872689247,0.104464203119278,0.364898800849915,-0.093285828828812,-0.152901604771614,0.132729873061180,0.015892909839749,-0.148109301924706,0.163637116551399,-0.056071568280458,0.195646971464157,-0.094315007328987,0.164474323391914,-0.192461490631104,-0.008354100398719,-0.012055166997015));
res += mul(Get(s0,dx,0), float4x4(0.166710585355759,0.001451729447581,-0.075631171464920,-0.164264619350433,0.043397042900324,-0.092899888753891,-0.052974708378315,-0.189692720770836,-0.011716970242560,0.109777674078941,0.061086606234312,-0.109560519456863,0.022531112655997,-0.113129086792469,-0.056779850274324,-0.058768361806870));
res += mul(Get(s0,dx,dy), float4x4(-0.290175706148148,0.133706435561180,-0.067753396928310,-0.228835344314575,0.121854290366173,-0.043799061328173,-0.107903875410557,0.151335656642914,0.082265079021454,-0.051059383898973,0.238713562488556,-0.219297185540199,0.015307040885091,-0.119806066155434,-0.020540494471788,0.082407876849174));
res += mul(Get(s1,-dx,-dy), float4x4(-0.024541944265366,-0.151403427124023,-0.220073923468590,-0.165343314409256,0.048304811120033,0.091519117355347,0.097789756953716,0.128097996115685,-0.062839865684509,-0.171230703592300,0.024763029068708,-0.221198320388794,0.069224700331688,-0.217947512865067,0.033516995608807,-0.114773340523243));
res += mul(Get(s1,-dx,0), float4x4(-0.042775228619576,-0.223109886050224,-0.175707459449768,-0.107272736728191,-0.031445682048798,-0.102705873548985,-0.077438391745090,0.042900856584311,0.163253262639046,-0.208436235785484,-0.202372625470161,0.202438116073608,0.098159968852997,-0.227410584688187,0.098761044442654,0.094402439892292));
res += mul(Get(s1,-dx,dy), float4x4(0.106877528131008,0.006871464662254,-0.081848978996277,0.127487823367119,-0.074785679578781,0.010936371050775,0.242572307586670,0.342537641525269,0.112772509455681,0.022692674770951,-0.095513738691807,-0.026011178269982,-0.111120454967022,-0.231194883584976,-0.110163182020187,-0.144655987620354));
res += mul(Get(s1,0,-dy), float4x4(0.145345270633698,-0.077536411583424,-0.126466542482376,-0.046035487204790,0.119153805077076,0.056127529591322,0.073248311877251,-0.149684518575668,-0.234589055180550,-0.138951331377029,0.064073249697685,-0.073168158531189,-0.090058498084545,-0.097990341484547,-0.031584098935127,0.137157782912254));
res += mul(Get(s1,0,0), float4x4(0.227314203977585,-0.115228600800037,-0.059021804481745,-0.034717038273811,0.052170157432556,-0.123880021274090,-0.269695401191711,-0.067619331181049,0.111499153077602,0.018253089860082,-0.076528541743755,0.062478266656399,-0.145534083247185,-0.092078879475594,0.284567743539810,0.098478905856609));
res += mul(Get(s1,0,dy), float4x4(0.110944971442223,-0.036566611379385,-0.192374974489212,0.077796913683414,-0.191789582371712,-0.084417000412941,0.366740673780441,0.146275401115417,0.129277870059013,-0.037320122122765,-0.137052372097969,0.021757973358035,-0.184131652116776,-0.230404123663902,0.165010333061218,0.117157325148582));
res += mul(Get(s1,dx,-dy), float4x4(0.314535140991211,-0.087827585637569,-0.089351035654545,0.032875806093216,-0.075698561966419,-0.077579066157341,0.117394745349884,-0.253234565258026,-0.098417006433010,0.054787434637547,0.119815558195114,-0.100946918129921,-0.107145667076111,-0.050018344074488,-0.097503490746021,-0.070509500801563));
res += mul(Get(s1,dx,0), float4x4(0.208969414234161,-0.146135896444321,-0.023349970579147,0.011448599398136,0.097029566764832,-0.196633309125900,0.041644956916571,-0.015564445406199,-0.021357392892241,0.175189390778542,0.003268321277574,-0.157434478402138,-0.073656715452671,0.076643407344818,0.019098069518805,-0.089001350104809));
res += mul(Get(s1,dx,dy), float4x4(-0.228123262524605,-0.145730182528496,-0.070236973464489,-0.002226498676464,-0.108304776251316,0.028109701350331,0.282861769199371,-0.053294647485018,-0.082040511071682,0.013701774179935,-0.153066873550415,-0.087370030581951,-0.088882565498352,-0.106324478983879,-0.166836515069008,0.044531058520079));
res += mul(Get(s2,-dx,-dy), float4x4(0.094096183776855,0.471953094005585,-0.110971443355083,-0.259404957294464,0.005140053108335,-0.108086802065372,0.047046363353729,-0.119373582303524,-0.048558138310909,-0.024952420964837,0.101164437830448,0.086017362773418,-0.221365764737129,-0.126855194568634,-0.211060211062431,-0.003181733191013));
res += mul(Get(s2,-dx,0), float4x4(-0.001040629693307,0.039455048739910,-0.321672916412354,-0.248649343848228,0.013521975837648,-0.071355596184731,0.064660042524338,-0.009673985652626,0.409812301397324,0.030312322080135,0.081133924424648,-0.001050259335898,0.125859469175339,-0.057180639356375,0.160810247063637,0.004956262186170));
res += mul(Get(s2,-dx,dy), float4x4(-0.147031560540199,-0.157385036349297,-0.304451793432236,0.053674198687077,-0.142312794923782,0.001090460340492,0.296846985816956,0.016837632283568,-0.000716830021702,-0.014522818848491,0.272740304470062,-0.155906572937965,-0.052850764244795,-0.028930228203535,0.013916550204158,0.093459762632847));
res += mul(Get(s2,0,-dy), float4x4(-0.145509809255600,-0.153376817703247,0.044807996600866,-0.122962579131126,0.101031132042408,0.120538860559464,-0.020986860617995,0.028686989098787,0.089438021183014,0.159029275178909,-0.122951611876488,0.140898957848549,0.037436746060848,-0.136079415678978,-0.049199052155018,0.034730959683657));
res += mul(Get(s2,0,0), float4x4(-0.121786735951900,0.160101130604744,-0.218787789344788,0.014097583480179,0.022124484181404,0.021758548915386,-0.123661130666733,0.199517130851746,0.235772788524628,-0.099994212388992,-0.067499384284019,0.092816106975079,0.108310624957085,-0.125681057572365,0.031852398067713,0.167592987418175));
res += mul(Get(s2,0,dy), float4x4(-0.215812936425209,0.047056417912245,-0.016690718010068,0.142667800188065,-0.099556587636471,-0.103895619511604,0.402314037084579,0.127002850174904,0.034817986190319,-0.113649852573872,0.115742534399033,0.072096459567547,-0.024568758904934,-0.182653307914734,0.122438631951809,0.124607190489769));
res += mul(Get(s2,dx,-dy), float4x4(0.172684907913208,-0.097706869244576,0.093172423541546,-0.234130084514618,0.056402023881674,-0.079257473349571,-0.011407564394176,-0.043956685811281,-0.186351627111435,-0.062176831066608,-0.012361086905003,0.142637968063354,-0.154644459486008,-0.090702138841152,-0.170636758208275,0.035035185515881));
res += mul(Get(s2,dx,0), float4x4(0.186962708830833,0.110236153006554,-0.115514159202576,-0.062467735260725,-0.148495420813560,-0.134212806820869,-0.066085308790207,-0.122554458677769,-0.134844169020653,0.045692272484303,0.013629112392664,-0.078655615448952,-0.022702815011144,0.069905824959278,-0.148631021380424,0.437049001455307));
res += mul(Get(s2,dx,dy), float4x4(0.193557545542717,-0.019898388534784,0.037185490131378,-0.116179123520851,0.041022166609764,-0.168962001800537,-0.036907568573952,-0.089052855968475,-0.260890901088715,0.073311060667038,-0.083737201988697,0.096353821456432,0.044067285954952,-0.059090148657560,-0.023078862577677,0.208987817168236));
res += mul(Get(s3,-dx,-dy), float4x4(0.088183648884296,0.135863453149796,0.063428290188313,0.220668926835060,-0.255870550870895,0.045699212700129,0.087316237390041,-0.212605983018875,-0.066962264478207,0.321472376585007,0.119197539985180,-0.274817407131195,0.023133592680097,-0.016398303210735,0.204342380166054,0.105269730091095));
res += mul(Get(s3,-dx,0), float4x4(-0.038882590830326,0.228652223944664,0.160020798444748,-0.112841375172138,-0.108316525816917,-0.188682645559311,0.181298792362213,-0.074871025979519,0.017587311565876,0.210550993680954,-0.210802420973778,-0.032959792762995,-0.110048294067383,0.235068231821060,-0.107468038797379,0.039865110069513));
res += mul(Get(s3,-dx,dy), float4x4(0.205234766006470,0.097257345914841,0.071562178432941,-0.138520643115044,-0.193346843123436,-0.059770788997412,-0.016422545537353,0.156021595001221,0.028183950111270,0.131453141570091,0.086451537907124,-0.166229307651520,-0.121167987585068,0.014717241749167,-0.031277675181627,-0.253456979990005));
res += mul(Get(s3,0,-dy), float4x4(0.196100041270256,0.274350792169571,0.043762400746346,0.052526086568832,-0.055226113647223,0.345784485340118,-0.193750053644180,-0.058726839721203,-0.023958627134562,-0.092785872519016,0.324973225593567,-0.080726377665997,-0.102362670004368,-0.014709689654410,0.090244442224503,-0.316031426191330));
res += mul(Get(s3,0,0), float4x4(-0.170453205704689,-0.002956294920295,0.064375057816505,-0.105600968003273,0.107825905084610,0.049462299793959,-0.070383287966251,-0.113444365561008,-0.009244939312339,-0.054410267621279,-0.163755446672440,0.006855323445052,0.089296840131283,0.138745605945587,-0.194830372929573,-0.144443854689598));
res += mul(Get(s3,0,dy), float4x4(-0.212380558252335,-0.044733237475157,-0.001408958109096,-0.170031785964966,0.026649793609977,-0.050315737724304,0.037604093551636,-0.027300516143441,-0.145608827471733,-0.008498606272042,0.015642398968339,-0.072188474237919,-0.089082367718220,0.135755121707916,-0.290279239416122,-0.148293644189835));
res += mul(Get(s3,dx,-dy), float4x4(0.013554703444242,0.006128150504082,0.054448936134577,0.084095098078251,-0.341275185346603,-0.132274240255356,-0.103882417082787,-0.163894563913345,0.389009177684784,-0.078948199748993,0.056380480527878,-0.247789248824120,0.124720200896263,-0.081002250313759,0.185949072241783,-0.076725594699383));
res += mul(Get(s3,dx,0), float4x4(0.201260551810265,-0.136033743619919,0.037341855466366,0.022935435175896,0.019542904570699,-0.044582955539227,-0.152213305234909,-0.142893671989441,0.203374460339546,0.173172369599342,-0.257877200841904,-0.216985464096069,-0.002374275354668,0.241811782121658,-0.189119189977646,0.050115279853344));
res += mul(Get(s3,dx,dy), float4x4(-0.114822231233120,-0.213292092084885,-0.061823967844248,0.007929746992886,-0.107502125203609,0.030207771807909,-0.106368154287338,-0.166270285844803,-0.051552992314100,0.221919640898705,0.062340609729290,-0.279920935630798,-0.037819512188435,-0.053637847304344,-0.194789215922356,-0.030937511473894));
return max(float4(0,0,0,0), res);
}
