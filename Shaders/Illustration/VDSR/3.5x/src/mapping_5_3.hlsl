sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.060115568339825,0.118450783193111,-0.162380099296570,0.142518267035484,0.032075304538012,0.004727432038635,0.053776290267706,-0.029503505676985,-0.004347329493612,-0.011897061951458,-0.023790055885911,-0.123662330210209,0.026354502886534,0.095190010964870,-0.144230991601944,-0.043675884604454));
res += mul(Get(s0,-dx,0), float4x4(0.014282735995948,0.038137074559927,-0.064501702785492,0.015705378726125,0.020666198804975,-0.134509384632111,-0.023812539875507,-0.026220329105854,-0.202243849635124,0.035943821072578,-0.023014862090349,-0.210807383060455,0.121925197541714,-0.063380487263203,-0.073101431131363,-0.117965601384640));
res += mul(Get(s0,-dx,dy), float4x4(0.023779874667525,0.098221860826015,-0.190002262592316,0.120753332972527,0.031905934214592,0.157210841774940,0.014560753479600,0.003245945321396,0.014664407819510,0.144434928894043,0.133639976382256,-0.075804039835930,0.071805670857430,-0.027914000675082,-0.033326551318169,-0.055511549115181));
res += mul(Get(s0,0,-dy), float4x4(-0.062470778822899,0.019242674112320,0.038705356419086,0.109495259821415,0.124587029218674,0.085992716252804,-0.003172765485942,0.010423397645354,-0.103202179074287,0.043122321367264,-0.058791268616915,0.150471061468124,0.195330277085304,-0.010932789184153,0.017455099150538,-0.129632160067558));
res += mul(Get(s0,0,0), float4x4(0.042776815593243,0.046424742788076,0.072058498859406,0.022123288363218,-0.054962646216154,-0.090604633092880,0.001301133772358,-0.216444298624992,-0.058497596532106,0.044139429926872,0.011890128254890,-0.283364146947861,0.105521969497204,-0.043961998075247,-0.087585523724556,0.220093235373497));
res += mul(Get(s0,0,dy), float4x4(-0.016072548925877,0.146431028842926,-0.043809238821268,0.112012013792992,0.059441447257996,0.136544913053513,0.035863976925611,-0.138866528868675,0.274218201637268,-0.058201987296343,-0.038781553506851,0.120018973946571,-0.130330771207809,0.092882074415684,-0.091550476849079,-0.094216465950012));
res += mul(Get(s0,dx,-dy), float4x4(-0.109571412205696,-0.047964505851269,0.044370543211699,0.107207745313644,-0.154057055711746,-0.127319678664207,0.140132322907448,0.105655945837498,0.046199832111597,0.028275946155190,0.073423177003860,-0.074446871876717,0.017950860783458,0.069492436945438,0.309595674276352,0.146321699023247));
res += mul(Get(s0,dx,0), float4x4(-0.210594207048416,-0.145275652408600,0.184886649250984,-0.109854020178318,0.113849751651287,-0.113875664770603,-0.088554479181767,0.138532280921936,-0.019182007759809,0.016579013317823,-0.123773641884327,0.028271691873670,-0.015784289687872,-0.113176517188549,0.078979648649693,-0.038815770298243));
res += mul(Get(s0,dx,dy), float4x4(-0.090369172394276,0.214544788002968,-0.036645364016294,-0.018069071695209,-0.017839500680566,0.051329206675291,0.091330766677856,0.017722405493259,-0.015570962801576,0.189196363091469,-0.174602627754211,0.027521925047040,0.063915714621544,0.094007819890976,-0.009493206627667,-0.110491797327995));
res += mul(Get(s1,-dx,-dy), float4x4(-0.010118053294718,-0.224828511476517,-0.034971337765455,0.038354072719812,0.091098830103874,0.133407384157181,0.159111365675926,0.078074567019939,-0.147739470005035,-0.109040945768356,0.126675397157669,0.183795571327209,0.049361910670996,-0.093582652509212,0.069675929844379,-0.207714393734932));
res += mul(Get(s1,-dx,0), float4x4(-0.158581689000130,-0.071444429457188,0.001617670990527,-0.009130834601820,-0.004555172752589,0.035730488598347,-0.083353899419308,-0.084550179541111,0.037378873676062,-0.042932480573654,0.046631291508675,0.142846941947937,-0.132700130343437,-0.039110656827688,0.092983253300190,0.118647672235966));
res += mul(Get(s1,-dx,dy), float4x4(-0.020808517932892,0.041934497654438,-0.132785752415657,0.130604118108749,0.161107763648033,-0.087920598685741,0.119787476956844,-0.091407239437103,-0.075150944292545,-0.004465739708394,0.097278758883476,-0.033585995435715,-0.155431345105171,0.033732809126377,0.023044671863317,0.035431604832411));
res += mul(Get(s1,0,-dy), float4x4(0.062964700162411,0.210912361741066,-0.083765976130962,0.175853312015533,-0.112367346882820,-0.044805884361267,0.136610716581345,-0.159529134631157,0.154989570379257,0.022554190829396,0.046165775507689,0.018439618870616,-0.139644697308540,-0.063831456005573,-0.056845951825380,0.350955665111542));
res += mul(Get(s1,0,0), float4x4(-0.087919928133488,-0.168923139572144,0.083279654383659,0.127617537975311,-0.153258547186852,-0.067387022078037,-0.165112748742104,0.066503979265690,0.120583422482014,0.001743953209370,0.116680644452572,-0.023774033412337,0.163376048207283,-0.208983138203621,0.073846280574799,-0.127961382269859));
res += mul(Get(s1,0,dy), float4x4(-0.173607259988785,-0.063461720943451,0.022532753646374,-0.164162665605545,-0.044663082808256,-0.081840880215168,-0.165006160736084,-0.036257334053516,-0.119544126093388,-0.201646685600281,-0.024895926937461,0.105374880135059,-0.006181956268847,-0.162633791565895,0.066066861152649,-0.031163381412625));
res += mul(Get(s1,dx,-dy), float4x4(0.036094587296247,0.078012079000473,-0.223559796810150,0.011610634624958,0.083265945315361,-0.036639921367168,0.099659271538258,0.013524932786822,-0.043455414474010,-0.004729259293526,0.005053184926510,0.039311438798904,0.026403050869703,-0.009796601720154,-0.193256273865700,-0.105740353465080));
res += mul(Get(s1,dx,0), float4x4(-0.403849393129349,0.075166523456573,-0.090447865426540,0.079695567488670,-0.027389733120799,-0.014107958413661,0.098774559795856,0.060748483985662,0.088779188692570,-0.001627794001251,0.028604865074158,-0.018730787560344,0.067547023296356,0.050086475908756,-0.033700432628393,0.125681921839714));
res += mul(Get(s1,dx,dy), float4x4(0.183425113558769,0.066499255597591,0.039203092455864,0.047866966575384,-0.205722674727440,-0.182104110717773,0.176238074898720,-0.016794953495264,0.060982469469309,-0.029209051281214,-0.025775929912925,-0.036085128784180,-0.068017572164536,-0.044171158224344,-0.249201953411102,-0.202806800603867));
res += mul(Get(s2,-dx,-dy), float4x4(-0.124720998108387,0.125328898429871,0.171026647090912,0.055198900401592,-0.069669924676418,0.184956744313240,0.044458590447903,-0.053633641451597,0.234522983431816,0.056514970958233,-0.198075816035271,0.037719458341599,0.192613631486893,-0.043998870998621,0.122235678136349,0.172244668006897));
res += mul(Get(s2,-dx,0), float4x4(-0.136587709188461,0.016453031450510,0.313701778650284,0.028060590848327,0.144301518797874,0.031474079936743,0.017515409737825,-0.036745537072420,-0.128675177693367,-0.195297330617905,0.269441246986389,-0.036233674734831,-0.210801765322685,-0.010747511871159,0.043029651045799,0.136094227433205));
res += mul(Get(s2,-dx,dy), float4x4(-0.094354413449764,0.063756309449673,0.229498654603958,-0.133248507976532,0.226222649216652,0.011608277447522,-0.184001594781876,-0.022558007389307,-0.204877182841301,0.094728924334049,-0.097428038716316,-0.052353754639626,-0.067859865725040,-0.057920344173908,0.014262326061726,0.050057221204042));
res += mul(Get(s2,0,-dy), float4x4(0.099087752401829,-0.076628610491753,0.011502761393785,-0.131155923008919,-0.082170628011227,0.110130093991756,0.016751673072577,0.246221661567688,0.142169713973999,0.147379651665688,-0.111540436744690,-0.030940202996135,0.042372357100248,-0.001365713425912,0.037812437862158,-0.022350249812007));
res += mul(Get(s2,0,0), float4x4(0.273898184299469,0.108809627592564,0.155506521463394,0.244253993034363,0.041952565312386,0.084352806210518,-0.095962174236774,0.088412098586559,-0.064278595149517,0.103242531418800,-0.080080434679985,0.217457115650177,0.165829911828041,-0.198669910430908,-0.076558448374271,-0.199744254350662));
res += mul(Get(s2,0,dy), float4x4(0.117709062993526,0.068850353360176,-0.053095307201147,0.209520846605301,0.196570307016373,0.133177906274796,0.082692518830299,-0.219118103384972,0.009315069764853,0.123902767896652,-0.010498370975256,0.016965772956610,-0.129882410168648,-0.056785237044096,0.027480933815241,0.040029961615801));
res += mul(Get(s2,dx,-dy), float4x4(-0.039125557988882,0.167895033955574,-0.104944653809071,0.025628751143813,0.004417605232447,-0.073912777006626,0.122922606766224,0.075277805328369,-0.302721947431564,-0.004304248373955,-0.215714052319527,-0.105977579951286,-0.132253155112267,-0.088810406625271,0.049907702952623,0.066890940070152));
res += mul(Get(s2,dx,0), float4x4(-0.105310671031475,-0.054095409810543,0.036932364106178,0.005739243701100,-0.194226711988449,-0.041934534907341,-0.050936028361320,-0.088477201759815,0.047622945159674,0.157408982515335,-0.009399837814271,0.003097210312262,-0.016691792756319,0.096271559596062,0.118659771978855,0.010068423114717));
res += mul(Get(s2,dx,dy), float4x4(0.068869479000568,0.018319539725780,0.129589572548866,0.114252209663391,0.073311828076839,-0.062156673520803,0.092758007347584,0.012660843320191,0.248814463615417,-0.031419079750776,-0.016643578186631,-0.004519842099398,0.021144201979041,-0.042572464793921,-0.118635676801205,0.109774537384510));
res += mul(Get(s3,-dx,-dy), float4x4(-0.103168353438377,0.241484478116035,0.039065197110176,0.127266228199005,0.269096404314041,-0.022677293047309,-0.079730175435543,-0.037835434079170,-0.002845212351531,0.060116268694401,0.029324948787689,-0.045845873653889,-0.008359934203327,0.004164769779891,0.024043800309300,-0.088733524084091));
res += mul(Get(s3,-dx,0), float4x4(-0.016217164695263,-0.041966021060944,0.002640303224325,0.019153576344252,0.119128555059433,-0.157261908054352,0.001064698561095,0.009820654988289,-0.278973668813705,-0.066351354122162,-0.163126453757286,-0.193484216928482,0.075813293457031,0.098350778222084,0.058222457766533,-0.026089861989021));
res += mul(Get(s3,-dx,dy), float4x4(0.166796728968620,-0.054339844733477,0.005623834207654,-0.050477609038353,-0.104268223047256,0.093103192746639,-0.145637631416321,0.071020781993866,-0.202134713530540,0.011701614595950,0.300886034965515,-0.010799089446664,0.071770161390305,-0.075922317802906,0.261804103851318,0.149749055504799));
res += mul(Get(s3,0,-dy), float4x4(0.102872125804424,-0.170467168092728,-0.134697332978249,0.091565676033497,0.162228822708130,-0.229188159108162,0.046556312590837,-0.208894103765488,-0.109123446047306,-0.073106169700623,0.195466175675392,-0.090039812028408,0.184367328882217,0.053284760564566,0.044828169047832,0.094790965318680));
res += mul(Get(s3,0,0), float4x4(-0.101981237530708,-0.149114549160004,0.091794915497303,0.097205333411694,0.026254558935761,0.068720452487469,-0.030779698863626,-0.016739258542657,-0.003084964584559,-0.094330772757530,0.100824721157551,0.101078338921070,0.052372567355633,0.073373913764954,-0.071334145963192,-0.035250261425972));
res += mul(Get(s3,0,dy), float4x4(0.184546276926994,0.019229255616665,0.180259302258492,0.030712056905031,-0.133855879306793,0.254706144332886,0.047610767185688,-0.086741946637630,0.028831321746111,0.008149826899171,0.052056368440390,-0.108825467526913,0.166926071047783,0.143482148647308,-0.048592079430819,-0.048204354941845));
res += mul(Get(s3,dx,-dy), float4x4(0.142694130539894,0.065414451062679,-0.064817868173122,0.175128623843193,0.011482706293464,-0.064122907817364,-0.060624137520790,-0.036098036915064,0.086668834090233,-0.102633245289326,-0.010719522833824,-0.094702988862991,0.178711473941803,0.009539239108562,0.007732869125903,-0.022377448156476));
res += mul(Get(s3,dx,0), float4x4(0.181690782308578,-0.055663246661425,0.006504936143756,-0.013188570737839,-0.053182020783424,-0.129980459809303,-0.331211864948273,-0.137982621788979,-0.122133798897266,-0.037692118436098,-0.064821079373360,-0.069172099232674,0.107741139829159,-0.131568312644958,-0.029678218066692,0.057978127151728));
res += mul(Get(s3,dx,dy), float4x4(0.275836616754532,0.080724552273750,0.112085066735744,-0.134118899703026,-0.078630797564983,0.102421939373016,-0.060238827019930,0.158721074461937,0.031480599194765,0.201982438564301,0.060685943812132,-0.019210508093238,0.031355716288090,-0.060496352612972,-0.261976003646851,0.019579546526074));
return max(float4(0,0,0,0), res);
}
