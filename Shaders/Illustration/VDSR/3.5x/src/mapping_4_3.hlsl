sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.268190443515778,0.177163302898407,0.110600367188454,-0.010797545313835,0.117581941187382,0.250831782817841,-0.213132649660110,-0.044854257255793,-0.110655121505260,-0.138532713055611,-0.128515541553497,0.159329667687416,0.116204969584942,-0.194692730903625,-0.046982537955046,0.011818435043097));
res += mul(Get(s0,-dx,0), float4x4(-0.083850309252739,-0.059199750423431,0.002235901076347,-0.031394835561514,-0.122757159173489,-0.092759408056736,-0.058685533702374,-0.014070734381676,0.127884939312935,0.202795982360840,0.107174254953861,-0.043479096144438,-0.104618929326534,-0.186868816614151,0.015341669321060,0.137608230113983));
res += mul(Get(s0,-dx,dy), float4x4(0.112799443304539,0.127219870686531,-0.125082686543465,-0.037134144455194,0.135976344347000,-0.158153042197227,0.167915225028992,-0.242064252495766,-0.096718974411488,0.235297307372093,-0.098060324788094,-0.002312085591257,-0.054710596799850,-0.178574785590172,0.144887387752533,0.122326716780663));
res += mul(Get(s0,0,-dy), float4x4(-0.019160265102983,0.078231066465378,0.055483784526587,0.057939380407333,0.051467109471560,-0.091247476637363,0.065860465168953,0.114364393055439,0.056226246058941,0.087541669607162,-0.199020847678185,-0.099924236536026,0.090923719108105,0.041302189230919,-0.103791177272797,0.002663795603439));
res += mul(Get(s0,0,0), float4x4(0.022743504494429,0.099702872335911,-0.047536037862301,0.164201766252518,-0.008283981122077,-0.067302338778973,-0.116940297186375,0.146753266453743,0.061977431178093,-0.020948255434632,-0.177770182490349,0.029009016230702,0.031504083424807,-0.005464950576425,0.188233345746994,0.281222313642502));
res += mul(Get(s0,0,dy), float4x4(0.002537767169997,-0.203763261437416,0.091788291931152,0.210733205080032,0.121024362742901,0.109286159276962,0.059675477445126,-0.184585317969322,-0.114689193665981,-0.002279118401930,-0.149031564593315,-0.129118040204048,0.038492456078529,0.080314986407757,-0.003396760439500,0.033827722072601));
res += mul(Get(s0,dx,-dy), float4x4(0.076890379190445,-0.001666018040851,0.077212721109390,-0.024358604103327,-0.167325064539909,0.088154666125774,0.008692710660398,0.026188025251031,0.114450581371784,-0.115631312131882,0.034393943846226,0.019788434728980,0.194028645753860,0.021405121311545,-0.054739993065596,0.028612317517400));
res += mul(Get(s0,dx,0), float4x4(0.006836456712335,0.094386875629425,0.192102015018463,-0.244848102331161,0.207241266965866,-0.067584417760372,-0.097023159265518,-0.080375529825687,0.151084288954735,-0.003798377234489,0.090459734201431,-0.204507783055305,0.002722824225202,-0.207160800695419,0.054403476417065,0.067388638854027));
res += mul(Get(s0,dx,dy), float4x4(-0.028966840356588,0.039174288511276,0.000125566410134,-0.018736617639661,0.060614284127951,0.045327179133892,0.000986577593721,0.120826765894890,0.050746500492096,-0.159681260585785,-0.089623622596264,0.089585922658443,-0.002805949188769,-0.004346069879830,0.154628187417984,0.289465934038162));
res += mul(Get(s1,-dx,-dy), float4x4(-0.050156060606241,-0.082362510263920,0.047995183616877,-0.100875936448574,-0.129453152418137,0.100102394819260,-0.178338587284088,-0.105128139257431,-0.009183054789901,-0.011510732583702,0.004313554149121,-0.037561014294624,0.005719308741391,0.016542753204703,-0.056055109947920,-0.181005075573921));
res += mul(Get(s1,-dx,0), float4x4(0.083488978445530,-0.097495168447495,0.074878230690956,-0.168000921607018,-0.079106122255325,0.196995601058006,-0.114090472459793,0.192094758152962,0.072464138269424,-0.122652322053909,-0.133316859602928,0.025537526234984,0.034242197871208,-0.164644047617912,0.128833755850792,0.008636420592666));
res += mul(Get(s1,-dx,dy), float4x4(0.040495738387108,0.092466972768307,-0.024869095534086,-0.026224048808217,-0.077048212289810,0.087560519576073,0.156419515609741,-0.090316489338875,0.115182720124722,0.088537223637104,0.074117042124271,-0.090099528431892,-0.052324686199427,-0.273055106401443,0.076036244630814,0.077250137925148));
res += mul(Get(s1,0,-dy), float4x4(0.044550012797117,-0.091731145977974,-0.196540549397469,0.086960688233376,-0.019841069355607,0.196572810411453,-0.061493754386902,0.092335790395737,-0.097316682338715,0.057849165052176,-0.115226939320564,0.032070305198431,-0.212026789784431,0.081129647791386,-0.068131417036057,-0.011131275445223));
res += mul(Get(s1,0,0), float4x4(-0.140147492289543,-0.045675244182348,-0.073622867465019,0.122915156185627,-0.035419896245003,0.043242294341326,-0.074431926012039,-0.307546168565750,-0.016658416017890,0.249256521463394,-0.013562153093517,-0.098694063723087,-0.090122178196907,-0.087805211544037,-0.036705762147903,0.097405664622784));
res += mul(Get(s1,0,dy), float4x4(-0.021057926118374,-0.008594391867518,-0.109474562108517,-0.252996921539307,-0.176020130515099,-0.020844472572207,-0.055685289204121,-0.063872702419758,-0.092470489442348,0.163982778787613,-0.051155552268028,-0.044650584459305,-0.103370107710361,-0.110276907682419,-0.004612223710865,0.030737848952413));
res += mul(Get(s1,dx,-dy), float4x4(-0.113256499171257,0.086408682167530,-0.017995934933424,-0.055832378566265,0.001021421863697,-0.155244588851929,-0.218002155423164,-0.059115156531334,0.044400624930859,-0.367211341857910,-0.076067119836807,-0.053519867360592,-0.046676497906446,0.041953597217798,0.008152947761118,0.044394277036190));
res += mul(Get(s1,dx,0), float4x4(0.071814633905888,0.291264295578003,-0.024913223460317,-0.077925458550453,-0.003678718348965,-0.048217967152596,-0.031713310629129,-0.016744144260883,-0.160320252180099,0.185781598091125,0.006989598274231,0.035815298557281,0.158217117190361,0.069036751985550,0.078566156327724,-0.085050433874130));
res += mul(Get(s1,dx,dy), float4x4(0.177060127258301,0.281799077987671,-0.136215284466743,-0.084112279117107,0.146732062101364,-0.130065038800240,-0.027689293026924,-0.233747109770775,0.007376347668469,0.274393141269684,0.052519094198942,-0.076577425003052,-0.086315825581551,0.170644685626030,-0.041921444237232,0.012585817836225));
res += mul(Get(s2,-dx,-dy), float4x4(-0.191739946603775,-0.061585716903210,0.011814892292023,0.090920217335224,-0.024073112756014,-0.033352002501488,0.123822830617428,-0.002945515559986,-0.290215522050858,0.019343210384250,0.237500816583633,-0.020834919065237,0.052365493029356,0.086425989866257,0.000591616495512,-0.188872754573822));
res += mul(Get(s2,-dx,0), float4x4(-0.103944547474384,-0.042924854904413,0.026733040809631,-0.042272485792637,0.142209514975548,0.053012907505035,0.030306262895465,0.003585121361539,-0.226078510284424,0.098576076328754,0.030112061649561,0.072937913239002,-0.330798983573914,-0.010484498925507,0.106095679104328,0.119150474667549));
res += mul(Get(s2,-dx,dy), float4x4(-0.136867731809616,-0.179184257984161,-0.111108906567097,0.004501934628934,0.154080137610435,0.078591488301754,0.205383926630020,0.175224319100380,-0.147582396864891,0.071287438273430,0.158502742648125,-0.030879206955433,-0.052694756537676,-0.209860578179359,-0.000446594611276,0.140712514519691));
res += mul(Get(s2,0,-dy), float4x4(-0.028610467910767,-0.079261273145676,-0.195309668779373,-0.107833236455917,-0.021937465295196,0.129686772823334,-0.189488634467125,0.083839602768421,0.156055599451065,0.027426939457655,0.036898083984852,-0.066237702965736,-0.221287086606026,-0.062226168811321,0.031688086688519,-0.184717386960983));
res += mul(Get(s2,0,0), float4x4(0.013322800397873,-0.025729423388839,-0.019967133179307,-0.168314844369888,-0.071191243827343,0.191799432039261,0.324677616357803,0.126701384782791,0.042055841535330,0.135785609483719,-0.014940520748496,-0.106772974133492,-0.106348790228367,-0.048538770526648,-0.025567870587111,-0.277165591716766));
res += mul(Get(s2,0,dy), float4x4(-0.117896698415279,-0.022344702854753,0.100612580776215,-0.143164470791817,0.055862437933683,-0.005703061819077,0.198981314897537,0.308091759681702,0.202334612607956,-0.147669658064842,-0.084056988358498,0.147150054574013,-0.073951244354248,-0.013018431141973,-0.105961479246616,-0.179619491100311));
res += mul(Get(s2,dx,-dy), float4x4(-0.002637018682435,0.301332741975784,0.018484354019165,0.236810550093651,0.016977882012725,0.190352842211723,-0.263203799724579,-0.155149295926094,-0.186320737004280,-0.075065888464451,0.049644447863102,-0.101042672991753,-0.048249203711748,-0.077905811369419,0.199722126126289,0.101853452622890));
res += mul(Get(s2,dx,0), float4x4(-0.068850956857204,0.030003847554326,-0.108648933470249,-0.014726439490914,0.123306617140770,-0.071517571806908,0.182640925049782,-0.163387164473534,0.016056155785918,0.028810989111662,-0.274043828248978,0.113646343350410,-0.009120925329626,-0.005051119253039,-0.189826399087906,-0.148411929607391));
res += mul(Get(s2,dx,dy), float4x4(0.157704681158066,-0.160317033529282,0.040486499667168,-0.087550930678844,0.055685449391603,0.107835173606873,0.171785339713097,-0.008685072883964,0.205767273902893,-0.159966722130775,-0.152533695101738,0.043194580823183,0.032991293817759,-0.046644277870655,-0.180771395564079,-0.058147277683020));
res += mul(Get(s3,-dx,-dy), float4x4(0.148712232708931,-0.046230658888817,-0.158668011426926,0.134349077939987,-0.076407082378864,0.198311343789101,-0.122680723667145,-0.023246688768268,-0.190365299582481,0.035800866782665,0.184518158435822,-0.236938595771790,0.100027076900005,0.133748784661293,0.004739142488688,0.099263235926628));
res += mul(Get(s3,-dx,0), float4x4(-0.081072196364403,0.195549204945564,-0.167377784848213,0.002461022231728,-0.137342318892479,0.054330825805664,-0.097849212586880,0.015248933807015,-0.021291699260473,0.096007011830807,0.026674013584852,-0.088076278567314,0.205073252320290,-0.015760187059641,0.292554587125778,-0.205831393599510));
res += mul(Get(s3,-dx,dy), float4x4(-0.063928954303265,0.051296431571245,-0.161112621426582,-0.033955458551645,0.101682014763355,0.045557543635368,-0.038398556411266,0.054959364235401,-0.142934888601303,0.068597652018070,0.076740317046642,0.024942725896835,0.031593244522810,-0.120711557567120,-0.017467694357038,-0.070483833551407));
res += mul(Get(s3,0,-dy), float4x4(-0.111748307943344,-0.061670254915953,-0.005341755691916,0.016435034573078,-0.102312393486500,-0.018692065030336,0.038711618632078,-0.049894876778126,-0.183402314782143,-0.003844573395327,0.040722589939833,-0.103816002607346,-0.110915742814541,0.065959021449089,-0.066557474434376,-0.145574018359184));
res += mul(Get(s3,0,0), float4x4(0.133592858910561,0.158637002110481,-0.072422683238983,-0.002059216611087,0.002679338678718,0.247285977005959,0.020316306501627,-0.151852950453758,-0.131515309214592,-0.143801599740982,-0.163595333695412,-0.145535916090012,0.079626157879829,-0.142610758543015,0.235099151730537,0.042129427194595));
res += mul(Get(s3,0,dy), float4x4(0.102225065231323,-0.212215423583984,-0.058438897132874,0.049037206918001,0.228527188301086,0.094713374972343,-0.110600687563419,-0.034946888685226,-0.053060106933117,0.020172175019979,-0.140300467610359,-0.017776548862457,-0.101291231811047,-0.021417256444693,-0.056366529315710,0.006519237533212));
res += mul(Get(s3,dx,-dy), float4x4(-0.033196002244949,-0.082240656018257,-0.088783659040928,0.139065042138100,0.086250729858875,-0.059620574116707,-0.067880578339100,0.122240878641605,0.113786198198795,-0.162111997604370,-0.071686930954456,-0.046130895614624,-0.397617280483246,-0.028712410479784,-0.168153136968613,-0.069407172501087));
res += mul(Get(s3,dx,0), float4x4(0.026309434324503,0.050835788249969,0.094223469495773,-0.018355926498771,-0.195200324058533,-0.081496641039848,0.022143408656120,-0.058095198124647,-0.100137457251549,-0.149486079812050,-0.000487802317366,-0.017030712217093,-0.093259684741497,-0.002448268700391,0.061647422611713,0.019795913249254));
res += mul(Get(s3,dx,dy), float4x4(-0.008656201884151,0.092145852744579,0.157614618539810,0.107680499553680,0.078554198145866,0.004721647594124,0.013230203650892,0.028391700237989,0.113083362579346,-0.026650004088879,-0.055441580712795,0.059742663055658,0.104205340147018,0.014318865723908,-0.008633323013783,-0.066357351839542));
return max(float4(0,0,0,0), res);
}
