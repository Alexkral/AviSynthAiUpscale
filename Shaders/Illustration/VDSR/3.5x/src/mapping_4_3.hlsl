sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.147357106208801,-0.345019757747650,0.317093461751938,-0.146563842892647,0.017644304782152,-0.021286845207214,0.142267450690269,-0.084976442158222,0.145622834563255,-0.059779018163681,-0.027620682492852,-0.181675195693970,-0.104772962629795,0.293417513370514,0.040736071765423,-0.075277775526047));
res += mul(Get(s0,-dx,0), float4x4(0.076424688100815,-0.234564721584320,0.203793659806252,-0.080559872090816,0.170915439724922,-0.232632800936699,-0.092580333352089,0.021936107426882,0.181062355637550,-0.024702012538910,-0.119498938322067,-0.125010758638382,-0.165990725159645,0.042147286236286,-0.077023260295391,0.037057995796204));
res += mul(Get(s0,-dx,dy), float4x4(-0.021459193900228,-0.162010073661804,0.060436688363552,-0.040684968233109,-0.085200242698193,-0.112165920436382,0.026747241616249,0.205347061157227,-0.031742226332426,-0.230173036456108,-0.113897658884525,-0.055317133665085,0.122525177896023,0.194211304187775,-0.138050138950348,0.100402429699898));
res += mul(Get(s0,0,-dy), float4x4(0.113258734345436,-0.011041297577322,-0.125453174114227,0.032283503562212,0.062043488025665,0.048521868884563,0.230593740940094,-0.095982350409031,-0.322900176048279,0.222276672720909,0.001484048087150,-0.095034919679165,0.029522929340601,-0.037449404597282,-0.111054204404354,-0.179148063063622));
res += mul(Get(s0,0,0), float4x4(-0.012306218966842,-0.204190000891685,0.027216756716371,-0.132180094718933,0.124441660940647,-0.154495492577553,0.102978438138962,0.059571035206318,-0.180280447006226,0.252727270126343,-0.062895536422729,-0.112236186861992,-0.111358433961868,-0.101946942508221,-0.233184069395065,0.008026098832488));
res += mul(Get(s0,0,dy), float4x4(-0.214963436126709,-0.150976613163948,-0.131882071495056,0.039689883589745,-0.033585689961910,-0.060320395976305,0.299949318170547,0.389119625091553,0.064073748886585,0.039466936141253,-0.110576987266541,-0.062084838747978,0.110963486135006,0.151017934083939,-0.221362054347992,0.061201658099890));
res += mul(Get(s0,dx,-dy), float4x4(-0.163803994655609,0.227623015642166,-0.191970169544220,0.090849108994007,-0.069413587450981,0.086186744272709,0.015142815187573,-0.151308402419090,-0.028659578412771,0.371925920248032,-0.173225969076157,-0.101493000984192,-0.088485166430473,0.215214282274246,-0.068632617592812,-0.173161968588829));
res += mul(Get(s0,dx,0), float4x4(-0.132209137082100,0.155014619231224,0.066983737051487,-0.091424480080605,0.087231971323490,-0.262855172157288,-0.139000326395035,-0.276047199964523,0.088160403072834,0.202265828847885,-0.209284335374832,-0.106909163296223,0.176593363285065,0.041592359542847,-0.280107766389847,0.023109301924706));
res += mul(Get(s0,dx,dy), float4x4(-0.120113410055637,-0.083410739898682,-0.200903445482254,-0.039901744574308,0.039280146360397,-0.300020903348923,-0.109863705933094,-0.287642151117325,0.181523784995079,-0.199493706226349,-0.197373673319817,-0.105581037700176,0.217925801873207,0.080850422382355,-0.423243582248688,-0.010817167349160));
res += mul(Get(s1,-dx,-dy), float4x4(0.112771771848202,0.314557820558548,0.048210859298706,-0.082796432077885,-0.073790229856968,0.169739365577698,-0.130741626024246,0.131475433707237,-0.131312325596809,-0.071603849530220,0.058355864137411,-0.019095977768302,-0.186185806989670,-0.120410822331905,-0.042836289852858,0.143197193741798));
res += mul(Get(s1,-dx,0), float4x4(0.095779463648796,0.043245512992144,0.133563622832298,-0.046686157584190,0.013644079677761,0.172953650355339,0.091422699391842,0.051267180591822,0.262659519910812,0.102426216006279,0.037248585373163,-0.021704161539674,-0.082995034754276,-0.053687371313572,-0.103635273873806,-0.093155726790428));
res += mul(Get(s1,-dx,dy), float4x4(0.250418663024902,0.130440831184387,-0.135551229119301,-0.011677018366754,0.045986052602530,0.100385591387749,-0.019087037071586,0.397817254066467,-0.147100195288658,-0.297250360250473,0.192113086581230,-0.084928058087826,-0.163472294807434,-0.210120067000389,0.087326824665070,-0.180947199463844));
res += mul(Get(s1,0,-dy), float4x4(0.074198305606842,0.203094169497490,0.079695671796799,0.059025552123785,0.094799347221851,0.028589125722647,-0.260000795125961,-0.028299834579229,-0.107179887592793,0.188537716865540,0.021983383223414,-0.143026873469353,-0.047395993024111,0.298832029104233,-0.123677469789982,-0.119260013103485));
res += mul(Get(s1,0,0), float4x4(-0.063093669712543,0.140491649508476,-0.059331431984901,0.094253264367580,-0.019143836572766,0.070636339485645,-0.000600055966061,-0.145996078848839,0.054924599826336,0.155914217233658,-0.226269558072090,0.117257818579674,-0.145301774144173,-0.023306943476200,0.156833469867706,0.226703748106956));
res += mul(Get(s1,0,dy), float4x4(-0.227640122175217,0.036399818956852,-0.240163028240204,-0.047299142926931,-0.053749490529299,0.122930534183979,-0.125877812504768,-0.053911071270704,-0.035214751958847,-0.176873385906219,-0.167351394891739,0.099732741713524,-0.109193220734596,-0.160370007157326,-0.119956083595753,0.443369001150131));
res += mul(Get(s1,dx,-dy), float4x4(-0.080180190503597,-0.132265478372574,-0.073347836732864,-0.047172877937555,0.090864509344101,-0.147730037570000,-0.290466964244843,-0.200201421976089,-0.150080114603043,0.031810685992241,0.118730485439301,0.233410269021988,-0.035591527819633,-0.021744564175606,-0.121514856815338,-0.135840684175491));
res += mul(Get(s1,dx,0), float4x4(0.070575438439846,-0.090773090720177,-0.181009709835052,0.112736411392689,0.046020481735468,0.016822233796120,0.334074705839157,-0.100259497761726,-0.137384176254272,0.069350115954876,0.046243268996477,0.132883906364441,0.029855765402317,-0.085140563547611,0.011509848758578,-0.136041745543480));
res += mul(Get(s1,dx,dy), float4x4(0.067299455404282,0.229723259806633,-0.155649438500404,0.007096728775650,-0.055262710899115,0.056978683918715,0.160194173455238,-0.037934821099043,0.019991805776954,0.004643296357244,-0.030098719522357,0.066826105117798,-0.123642504215240,-0.311210721731186,0.017011892050505,-0.076354295015335));
res += mul(Get(s2,-dx,-dy), float4x4(-0.141472712159157,0.035956423729658,0.088684186339378,-0.037012763321400,-0.141709163784981,0.094343058764935,0.032959420233965,-0.130990996956825,-0.052652746438980,-0.006649172864854,-0.041682913899422,-0.110662512481213,-0.052545905113220,-0.229706123471260,0.292697161436081,0.131817102432251));
res += mul(Get(s2,-dx,0), float4x4(-0.272609829902649,0.067355297505856,0.007718045264482,-0.088213071227074,-0.048341095447540,-0.240604147315025,0.236322283744812,-0.134435638785362,-0.035898827016354,0.027781857177615,-0.223532319068909,0.041658949106932,-0.056151062250137,0.018672820180655,-0.159040912985802,-0.178585171699524));
res += mul(Get(s2,-dx,dy), float4x4(-0.477661758661270,0.503627717494965,-0.005656167399138,0.241299599409103,-0.056657735258341,-0.243179067969322,-0.016037805005908,-0.175451666116714,-0.060371253639460,-0.014480242505670,-0.171312361955643,0.098316229879856,-0.186308249831200,-0.255704492330551,-0.008804011158645,0.032983727753162));
res += mul(Get(s2,0,-dy), float4x4(-0.077683374285698,-0.119922928512096,-0.024105152115226,-0.097533866763115,-0.146110847592354,0.134404599666595,0.059240065515041,0.043032232671976,-0.110570795834064,0.227834939956665,-0.129609048366547,-0.118888080120087,-0.025339387357235,0.065971091389656,0.184354111552238,0.030072938650846));
res += mul(Get(s2,0,0), float4x4(-0.043672468513250,-0.094932995736599,-0.084624096751213,-0.053447041660547,-0.039550606161356,-0.090752594172955,0.226180478930473,-0.097631841897964,0.152505710721016,0.275775551795959,-0.039359550923109,0.038069378584623,-0.073490157723427,0.046445228159428,-0.125136077404022,0.137886613607407));
res += mul(Get(s2,0,dy), float4x4(-0.128698632121086,0.109495282173157,-0.106584779918194,-0.019174627959728,-0.179634779691696,-0.248333141207695,-0.069104753434658,0.222229570150375,0.045492529869080,-0.160458609461784,0.070765756070614,-0.003682198235765,-0.142112195491791,-0.165415853261948,0.110623545944691,-0.008765070699155));
res += mul(Get(s2,dx,-dy), float4x4(0.004031367134303,-0.184323728084564,0.044515032321215,-0.033165365457535,-0.164963379502296,0.399382054805756,-0.135783314704895,0.158591464161873,-0.175450846552849,0.055940233170986,-0.092952668666840,-0.044352132827044,0.083446256816387,0.189187526702881,0.052868522703648,-0.056958612054586));
res += mul(Get(s2,dx,0), float4x4(-0.089813016355038,-0.138332307338715,0.074633076786995,0.132955625653267,-0.034120190888643,0.205177202820778,-0.211858257651329,-0.192814171314240,0.175191566348076,0.206372857093811,-0.015722962096334,0.055591557174921,-0.009262965060771,0.006978164892644,-0.050628527998924,0.221891507506371));
res += mul(Get(s2,dx,dy), float4x4(-0.127971827983856,0.024943839758635,0.412372887134552,0.001682121539488,-0.029442725703120,-0.167973831295967,-0.067388549447060,0.066847436130047,-0.024748535826802,-0.043891388922930,0.127842023968697,-0.068269364535809,-0.145238712430000,-0.100100740790367,-0.179983869194984,0.067187018692493));
res += mul(Get(s3,-dx,-dy), float4x4(0.058845706284046,-0.285879254341125,-0.001328817452304,-0.078040793538094,-0.128309175372124,-0.082534775137901,0.301329225301743,-0.245645210146904,-0.105033554136753,0.155847966670990,0.013685852289200,-0.031812261790037,-0.223371222615242,-0.173772796988487,0.136492386460304,-0.065460935235023));
res += mul(Get(s3,-dx,0), float4x4(-0.006865732371807,-0.377258330583572,0.142786800861359,-0.078258320689201,0.044814035296440,-0.256657868623734,0.131244823336601,0.183311760425568,-0.054862931370735,0.169220507144928,0.226706340909004,-0.111329659819603,0.005662171170115,-0.258498013019562,0.084966577589512,0.089605748653412));
res += mul(Get(s3,-dx,dy), float4x4(0.011133820749819,-0.336305141448975,-0.007738618645817,-0.035159502178431,-0.047741074115038,-0.283858507871628,-0.264224678277969,0.101451478898525,-0.068002142012119,0.003479079576209,0.159634768962860,0.129354938864708,0.019293054938316,-0.178181543946266,0.006863254588097,-0.014615476131439));
res += mul(Get(s3,0,-dy), float4x4(-0.024236448109150,-0.064709886908531,-0.057528752833605,-0.094883866608143,-0.093980565667152,0.035114716738462,0.051782567054033,0.225223615765572,0.003948138095438,-0.005928004160523,0.195532605051994,-0.072068467736244,-0.195367589592934,-0.088648758828640,0.301901787519455,-0.001403193338774));
res += mul(Get(s3,0,0), float4x4(-0.044017843902111,-0.158843636512756,-0.008687301538885,-0.118074208498001,-0.040839895606041,-0.039533723145723,-0.105322837829590,0.071548342704773,0.074009284377098,-0.102129034698009,0.228301003575325,-0.049675222486258,-0.038644544780254,-0.138810887932777,-0.092304155230522,0.129471704363823));
res += mul(Get(s3,0,dy), float4x4(-0.040951177477837,-0.068658173084259,-0.076790004968643,-0.033685468137264,-0.103062868118286,-0.084980294108391,0.112415194511414,0.017686782404780,-0.269037097692490,-0.077444702386856,-0.040561079978943,0.147544011473656,0.088524803519249,-0.244681105017662,-0.027578536421061,0.051881849765778));
res += mul(Get(s3,dx,-dy), float4x4(-0.054512541741133,-0.116264998912811,-0.115790843963623,0.006315143778920,-0.130223095417023,-0.027352027595043,0.129536479711533,-0.462068945169449,-0.019767405465245,-0.058392837643623,-0.175577342510223,-0.092576652765274,-0.215924054384232,0.094726413488388,-0.063352264463902,0.296498894691467));
res += mul(Get(s3,dx,0), float4x4(-0.003309293882921,-0.174990624189377,0.092352747917175,0.079131126403809,-0.025790233165026,0.025218348950148,0.065169431269169,-0.271650612354279,0.309482663869858,-0.129314944148064,-0.193650484085083,-0.199839875102043,0.062570735812187,-0.185735225677490,-0.244994148612022,0.379362642765045));
res += mul(Get(s3,dx,dy), float4x4(-0.016558689996600,-0.079957105219364,0.006090155337006,-0.104331500828266,0.199116945266724,-0.049188375473022,0.155018717050552,-0.114194467663765,-0.032080586999655,-0.035886481404305,-0.269520103931427,-0.073589965701103,0.228343874216080,-0.239768564701080,-0.096429347991943,0.000221344380407));
return max(float4(0,0,0,0), res);
}
