sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.066179960966110,0.010284886695445,0.074134938418865,0.092034034430981,-0.070239506661892,0.038420479744673,0.005655029788613,-0.132136017084122,-0.044809043407440,0.064998060464859,-0.160232216119766,0.193088740110397,-0.080839954316616,-0.055918384343386,-0.049304600805044,0.012888220138848));
res += mul(Get(s0,-dx,0), float4x4(0.075388088822365,0.002082158811390,0.026172794401646,0.337684065103531,-0.140313714742661,0.033620957285166,0.123350925743580,0.051201540976763,0.012167043052614,0.141139522194862,-0.033233195543289,0.091090343892574,0.022633425891399,-0.035080298781395,0.062311623245478,-0.147882565855980));
res += mul(Get(s0,-dx,dy), float4x4(0.210616663098335,0.027864782139659,-0.191659793257713,0.292910009622574,-0.085506439208984,0.027936244383454,0.144247770309448,0.070977151393890,0.021094199270010,0.094765126705170,-0.237100899219513,-0.014953670091927,-0.175938963890076,-0.061691898852587,0.168826177716255,0.000441298441729));
res += mul(Get(s0,0,-dy), float4x4(0.024608781561255,0.040951229631901,0.046064220368862,0.164196625351906,0.165473327040672,0.126213863492012,-0.070275552570820,-0.149500906467438,0.068154022097588,-0.028329104185104,-0.000902164611034,0.179690986871719,-0.152141839265823,-0.043938640505075,0.171599373221397,0.002942722523585));
res += mul(Get(s0,0,0), float4x4(0.202770799398422,0.192987784743309,-0.001580370822921,0.312868356704712,-0.105521664023399,-0.058570768684149,0.209125801920891,0.231379464268684,0.166340500116348,0.098537817597389,-0.096450328826904,0.013436337932944,0.007149356883019,0.034037664532661,0.087863795459270,-0.005188184790313));
res += mul(Get(s0,0,dy), float4x4(-0.153939485549927,-0.162711247801781,-0.069375962018967,0.135043159127235,-0.002594535471871,0.033846013247967,0.023384792730212,0.397634863853455,-0.204943329095840,-0.129267930984497,-0.159306839108467,0.008418180048466,0.033735755831003,0.185424849390984,0.179233372211456,0.063169792294502));
res += mul(Get(s0,dx,-dy), float4x4(-0.094984501600266,0.087744288146496,-0.018430745229125,-0.125787869095802,0.059043023735285,0.002911786548793,-0.167767569422722,-0.197491884231567,0.059201713651419,-0.021010745316744,0.126858487725258,0.116074368357658,-0.179753869771957,0.081271871924400,-0.110366493463516,0.071647763252258));
res += mul(Get(s0,dx,0), float4x4(-0.059858862310648,-0.025875816121697,-0.090195208787918,-0.032578077167273,-0.048339948058128,-0.130655959248543,0.044238157570362,0.244197055697441,-0.152269840240479,0.062542073428631,0.278506517410278,0.143333747982979,-0.206159070134163,0.022511459887028,-0.099106900393963,0.017225617542863));
res += mul(Get(s0,dx,dy), float4x4(-0.031305518001318,-0.136026486754417,-0.149738818407059,0.019612122327089,0.193940475583076,-0.175016775727272,-0.121185138821602,0.276226460933685,-0.069966703653336,-0.128800243139267,0.156426489353180,-0.090726189315319,-0.101126432418823,0.173137709498405,-0.120758727192879,-0.014935684390366));
res += mul(Get(s1,-dx,-dy), float4x4(-0.177230805158615,-0.040636323392391,-0.140589937567711,-0.100709430873394,0.152691617608070,0.111519642174244,0.153709426522255,-0.128291726112366,0.000907247886062,-0.141818955540657,0.038481373339891,0.139410302042961,0.103729404509068,0.158962786197662,0.199631795287132,-0.079611778259277));
res += mul(Get(s1,-dx,0), float4x4(-0.036259431391954,0.067805394530296,-0.079005695879459,0.093687377870083,0.001350140082650,0.013825325295329,0.073501393198967,-0.009519488550723,-0.009089843370020,-0.150688797235489,0.060099221765995,0.196285143494606,-0.119996026158333,0.004591907374561,0.063083209097385,-0.000472716521472));
res += mul(Get(s1,-dx,dy), float4x4(-0.176031515002251,0.155717164278030,0.048069402575493,0.065809153020382,-0.017323518171906,0.154541686177254,-0.085696019232273,-0.105445474386215,0.024666788056493,-0.034138496965170,0.255477041006088,0.156782731413841,-0.168143674731255,0.018757173791528,0.084201224148273,0.098908722400665));
res += mul(Get(s1,0,-dy), float4x4(0.135982438921928,-0.062644720077515,0.002888914663345,-0.121221296489239,-0.130727812647820,-0.193546578288078,-0.098157621920109,-0.120607174932957,-0.211657062172890,-0.080670505762100,-0.056553427129984,0.148810297250748,-0.019186135381460,0.100693769752979,-0.084696315228939,-0.210944846272469));
res += mul(Get(s1,0,0), float4x4(-0.111532367765903,-0.031263902783394,-0.008243455551565,-0.040258508175611,0.016503091901541,-0.064434647560120,0.036551523953676,-0.097357295453548,-0.134348228573799,0.031723003834486,0.102712206542492,0.074949912726879,-0.078012034296989,0.112027384340763,0.038310158997774,0.060333043336868));
res += mul(Get(s1,0,dy), float4x4(0.192209944128990,0.015436952002347,0.395364582538605,0.065640650689602,0.010565450415015,0.043453335762024,0.291440993547440,-0.275971293449402,-0.124499030411243,-0.053841233253479,0.395366847515106,0.060588128864765,-0.064177721738815,0.086624950170517,0.016357647255063,-0.017926650121808));
res += mul(Get(s1,dx,-dy), float4x4(-0.000180893417564,-0.012715164572001,0.300923079252243,0.128831073641777,-0.061771769076586,-0.010692440904677,-0.110986150801182,-0.043539084494114,0.024114888161421,0.022579761222005,0.054120756685734,-0.278766006231308,-0.019676942378283,0.095466315746307,0.048755120486021,-0.152535825967789));
res += mul(Get(s1,dx,0), float4x4(-0.105378046631813,-0.139887660741806,0.204132854938507,0.013613518327475,-0.058078948408365,0.062773123383522,-0.091494388878345,-0.049867991358042,0.068318329751492,-0.084842808544636,-0.089822240173817,-0.269772976636887,-0.235002458095551,-0.012553190812469,0.163526475429535,0.124422192573547));
res += mul(Get(s1,dx,dy), float4x4(0.123782470822334,0.074901297688484,0.142479941248894,0.022862924262881,0.072591610252857,0.067419067025185,0.073902942240238,-0.094822131097317,-0.085255295038223,0.272245883941650,0.119706578552723,-0.042413905262947,-0.062590748071671,-0.103639133274555,0.141498118638992,0.014820334501565));
res += mul(Get(s2,-dx,-dy), float4x4(0.008364390581846,-0.148580521345139,0.004696813412011,0.013943781144917,-0.019748700782657,0.017863923683763,-0.079994469881058,-0.103724636137486,-0.086045987904072,-0.141498997807503,-0.255481898784637,-0.222834184765816,-0.013526574708521,-0.203921839594841,0.011990433558822,-0.022749416530132));
res += mul(Get(s2,-dx,0), float4x4(-0.043266411870718,-0.129127785563469,0.004743330646306,0.014071010053158,0.015779679641128,0.046304725110531,-0.018796922639012,0.050594944506884,0.167181238532066,0.049465455114841,-0.068905703723431,-0.054460145533085,0.175002291798592,-0.189603433012962,0.175023227930069,-0.078765273094177));
res += mul(Get(s2,-dx,dy), float4x4(0.050272654742002,-0.150597795844078,0.046953767538071,0.188659131526947,0.140159115195274,0.028819005936384,-0.035406857728958,-0.175593242049217,0.086947895586491,-0.075270436704159,-0.050148881971836,0.103348419070244,-0.183511868119240,-0.046213053166866,-0.186579212546349,-0.199963435530663));
res += mul(Get(s2,0,-dy), float4x4(-0.015176755376160,0.001839280477725,-0.029212489724159,-0.124885357916355,-0.085521124303341,0.213399469852448,0.130076736211777,0.135593235492706,0.057538315653801,0.039312925189734,-0.021194685250521,-0.106232717633247,-0.164792701601982,-0.122009105980396,0.046294618397951,0.044238124042749));
res += mul(Get(s2,0,0), float4x4(-0.055052291601896,0.044817972928286,0.043131269514561,0.024144439026713,-0.123336106538773,0.147870868444443,0.217672616243362,-0.038036476820707,0.019804850220680,0.076844990253448,-0.153837367892265,-0.058459538966417,-0.150510311126709,-0.068955920636654,0.075148969888687,0.141420423984528));
res += mul(Get(s2,0,dy), float4x4(-0.076968356966972,0.022605083882809,0.149407044053078,0.156789034605026,0.146486505866051,0.088252291083336,0.018012167885900,0.026346080005169,-0.122460544109344,0.070660531520844,-0.198764726519585,0.177729710936546,0.093856967985630,-0.031260341405869,-0.036652624607086,0.021184731274843));
res += mul(Get(s2,dx,-dy), float4x4(-0.035761941224337,-0.025841545313597,-0.105798065662384,-0.054212432354689,0.015717782080173,-0.086779035627842,-0.027156107127666,-0.148809969425201,-0.051356874406338,0.078651897609234,0.095479108393192,0.046708505600691,-0.108612187206745,-0.159481137990952,-0.161153107881546,-0.005896767601371));
res += mul(Get(s2,dx,0), float4x4(-0.031398229300976,0.063000701367855,0.021738257259130,0.166413232684135,0.116985753178596,0.117219530045986,-0.026206677779555,-0.166528582572937,0.043985966593027,0.161236315965652,0.018141577020288,0.110577225685120,0.006679313722998,0.124339692294598,0.051840394735336,0.057243619114161));
res += mul(Get(s2,dx,dy), float4x4(0.127038151025772,-0.026392413303256,0.062018722295761,0.184883087873459,-0.166304394602776,0.038490939885378,0.106479220092297,-0.031087487936020,0.102752208709717,-0.081807367503643,0.030011493712664,-0.063761189579964,0.039138898253441,-0.021766236051917,-0.114405445754528,-0.067241676151752));
res += mul(Get(s3,-dx,-dy), float4x4(-0.135754168033600,0.012181531637907,-0.071649618446827,-0.205251961946487,0.116216354072094,-0.021979711949825,0.004079057369381,0.089966520667076,-0.189920723438263,-0.066276088356972,-0.116164982318878,-0.131289303302765,0.064933329820633,-0.057307410985231,0.010062117129564,0.051541104912758));
res += mul(Get(s3,-dx,0), float4x4(-0.022726871073246,-0.002360005630180,0.011065161786973,-0.146889880299568,0.095396570861340,0.068203069269657,-0.175302907824516,0.177331984043121,0.002594545017928,-0.138463661074638,0.078361064195633,-0.013424554839730,-0.182262510061264,-0.088512606918812,0.157346352934837,-0.111913077533245));
res += mul(Get(s3,-dx,dy), float4x4(0.037063337862492,0.070894286036491,-0.031677410006523,-0.047816067934036,0.105567894876003,0.049482759088278,-0.114779114723206,0.150873810052872,-0.121350623667240,0.135202109813690,0.100757271051407,0.035006556659937,-0.101841948926449,0.017518505454063,-0.044428147375584,-0.120989888906479));
res += mul(Get(s3,0,-dy), float4x4(-0.005743167828768,-0.030825445428491,0.119291350245476,-0.054776128381491,-0.128423497080803,0.013430370949209,-0.170735731720924,-0.002385501284152,-0.083145126700401,-0.158866494894028,-0.017654873430729,0.030750684440136,0.137016028165817,-0.282047122716904,0.151525378227234,0.186514392495155));
res += mul(Get(s3,0,0), float4x4(-0.063588395714760,0.097345195710659,0.075879514217377,0.056095805019140,-0.065119273960590,0.174415722489357,0.059344969689846,0.140909925103188,-0.167467385530472,0.026235941797495,-0.148997008800507,0.260726302862167,-0.222484081983566,-0.061030287295580,0.039830993860960,0.045299354940653));
res += mul(Get(s3,0,dy), float4x4(-0.003561491845176,0.026820519939065,-0.009198418818414,-0.075767517089844,-0.011938231065869,-0.030705584213138,-0.178700745105743,0.051805015653372,-0.075517728924751,-0.058554403483868,-0.159250080585480,-0.048828545957804,0.053308703005314,-0.033537719398737,-0.162985533475876,-0.043261546641588));
res += mul(Get(s3,dx,-dy), float4x4(0.000191214043298,0.203402012586594,0.222530186176300,-0.052189949899912,-0.020647466182709,0.094618536531925,0.060941807925701,0.125534877181053,-0.014306785538793,-0.017375297844410,-0.150432884693146,0.063894882798195,-0.004084962885827,0.000126315848320,0.123659163713455,0.312050461769104));
res += mul(Get(s3,dx,0), float4x4(-0.124763175845146,0.130735024809837,0.072272092103958,0.054945684969425,0.074091441929340,0.095209501683712,0.095002122223377,0.028673954308033,-0.055563483387232,0.107922248542309,0.063532039523125,0.126264989376068,0.055923689156771,-0.045833602547646,-0.043601758778095,0.178030580282211));
res += mul(Get(s3,dx,dy), float4x4(0.032817054539919,-0.012556037865579,0.089687645435333,0.024016004055738,0.032535642385483,0.047460969537497,-0.161547675728798,-0.028389934450388,0.119903914630413,0.086884208023548,0.106303900480270,0.254494786262512,-0.098482504487038,-0.045851178467274,0.058313973248005,0.239963188767433));
return max(float4(0,0,0,0), res);
}
