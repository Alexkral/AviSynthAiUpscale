sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.232440054416656,-0.229202717542648,-0.158283725380898,0.231548562645912,0.137576565146446,-0.043136473745108,0.232098489999771,-0.116335757076740,-0.025071956217289,0.155233278870583,-0.001330911414698,0.060078352689743,-0.046477045863867,0.062348201870918,0.242923319339752,-0.131135284900665));
res += mul(Get(s0,-dx,0), float4x4(-0.083164937794209,-0.114226095378399,0.048531297594309,0.272618263959885,0.059571467339993,0.058358050882816,-0.136404812335968,0.099619120359421,-0.063127338886261,-0.068936839699745,0.146014764904976,0.013294873759151,-0.202179148793221,-0.143424600362778,-0.078044608235359,0.001481022685766));
res += mul(Get(s0,-dx,dy), float4x4(-0.077397137880325,-0.108310557901859,0.008707965724170,0.077548660337925,-0.252484202384949,-0.076410166919231,-0.024924170225859,0.040180630981922,0.037686258554459,-0.086967378854752,0.239215508103371,-0.034013859927654,-0.131045803427696,-0.037305068224669,-0.201089307665825,-0.056639228016138));
res += mul(Get(s0,0,-dy), float4x4(-0.100329093635082,-0.152662739157677,-0.035077977925539,0.127157300710678,0.156003251671791,-0.271861642599106,-0.008517418056726,-0.103293843567371,-0.055066734552383,0.009225306101143,0.245025888085365,-0.119445987045765,0.105359032750130,-0.068570896983147,-0.043530542403460,0.009039216674864));
res += mul(Get(s0,0,0), float4x4(-0.057256270200014,0.062378216534853,-0.062419530004263,0.018828600645065,0.068756826221943,0.109984442591667,-0.203374072909355,-0.202936127781868,-0.082672603428364,-0.076187215745449,0.079012796282768,-0.029837341979146,-0.252204746007919,0.099881604313850,-0.231586858630180,-0.150121033191681));
res += mul(Get(s0,0,dy), float4x4(-0.116370186209679,0.024220608174801,0.135788857936859,0.180617570877075,-0.303815811872482,-0.161114200949669,0.053624439984560,0.109006099402905,0.049960032105446,-0.031849492341280,-0.044528156518936,-0.033181406557560,-0.265925079584122,0.118675641715527,-0.205506041646004,0.032410148531199));
res += mul(Get(s0,dx,-dy), float4x4(-0.221105247735977,-0.189412325620651,-0.048524234443903,0.034563444554806,0.201646074652672,-0.458865255117416,0.033471293747425,-0.152572333812714,-0.034672860056162,-0.031788825988770,0.067695654928684,0.016880234703422,0.460063159465790,-0.148926377296448,0.018516888841987,0.036928080022335));
res += mul(Get(s0,dx,0), float4x4(-0.137904658913612,0.351514011621475,-0.128869175910950,-0.105328135192394,-0.050447370857000,0.147641181945801,-0.127461791038513,-0.050805591046810,-0.109241776168346,0.176704123616219,0.078327983617783,-0.069290027022362,0.178671494126320,0.016663663089275,0.033799089491367,-0.027460556477308));
res += mul(Get(s0,dx,dy), float4x4(-0.117642618715763,0.289957791566849,-0.175443768501282,-0.129669263958931,-0.239503383636475,-0.018378717824817,0.045093197375536,0.342304676771164,0.179955735802650,0.096013158559799,0.176108494400978,-0.007595047354698,-0.429368644952774,-0.095022998750210,-0.043346155434847,0.006799414288253));
res += mul(Get(s1,-dx,-dy), float4x4(0.214767426252365,0.046842206269503,-0.159452855587006,-0.064129330217838,0.089644104242325,-0.148656368255615,-0.022055244073272,-0.000507178774569,0.324483513832092,0.156052470207214,-0.138747259974480,-0.148992195725441,0.237172737717628,0.104260362684727,-0.200690835714340,-0.182716518640518));
res += mul(Get(s1,-dx,0), float4x4(0.067529477179050,0.075893945991993,-0.091165058314800,-0.270487636327744,-0.112630590796471,0.195917695760727,-0.032033231109381,0.408930689096451,0.073778010904789,-0.141710057854652,0.004027823451906,0.180977821350098,0.222039327025414,-0.095204450190067,-0.015192246064544,-0.123809650540352));
res += mul(Get(s1,-dx,dy), float4x4(-0.248715713620186,-0.219421580433846,-0.019586913287640,0.132155805826187,-0.173684671521187,-0.242998078465462,0.220147207379341,-0.148347347974777,0.023958258330822,-0.180405944585800,0.303030878305435,0.030265022069216,-0.127896204590797,-0.155242443084717,0.141794741153717,-0.015241858549416));
res += mul(Get(s1,0,-dy), float4x4(-0.001142443041317,-0.057301733642817,-0.205702558159828,-0.046014159917831,0.263593137264252,-0.093301802873611,-0.055776596069336,0.110258482396603,0.039742629975080,0.008430041372776,0.109280169010162,0.022034540772438,0.185806185007095,-0.126119732856750,-0.156042575836182,-0.141097679734230));
res += mul(Get(s1,0,0), float4x4(0.163573145866394,-0.021015549078584,0.042888548225164,-0.072587944567204,-0.091169349849224,0.020305838435888,0.012633452191949,0.007048349827528,-0.127980455756187,-0.044339742511511,-0.005382137373090,0.159695833921432,0.003996811807156,-0.133292555809021,0.143405631184578,-0.085374839603901));
res += mul(Get(s1,0,dy), float4x4(-0.216549754142761,0.050290700048208,0.153239801526070,0.009799257852137,-0.148779764771461,-0.219241574406624,0.051823940128088,-0.080560699105263,-0.147477015852928,-0.018185697495937,-0.012384403496981,0.026151325553656,-0.050337962806225,-0.150846049189568,0.064437195658684,-0.046149428933859));
res += mul(Get(s1,dx,-dy), float4x4(-0.094653725624084,0.245189055800438,0.058658123016357,-0.012694692239165,0.132317975163460,-0.153802931308746,-0.055038791149855,-0.048747535794973,-0.271594434976578,0.058071747422218,0.025199584662914,0.068297043442726,0.087447479367256,-0.073273472487926,-0.189656928181648,-0.127233475446701));
res += mul(Get(s1,dx,0), float4x4(-0.039654266089201,-0.109526440501213,0.065416045486927,-0.025304220616817,-0.145375937223434,0.006775015965104,0.084596835076809,-0.004521064460278,-0.250253945589066,-0.022209644317627,-0.380424916744232,0.086628518998623,0.208504006266594,0.214155688881874,-0.131544798612595,-0.016628341749310));
res += mul(Get(s1,dx,dy), float4x4(-0.035592470318079,0.046302959322929,0.043904755264521,-0.058207340538502,-0.215951144695282,0.037101373076439,-0.107812941074371,0.211692735552788,-0.238742351531982,-0.011380799114704,-0.076405934989452,-0.113754756748676,0.055195406079292,0.240714550018311,-0.196001857519150,0.069102108478546));
res += mul(Get(s2,-dx,-dy), float4x4(-0.223872303962708,0.122035674750805,-0.056061193346977,-0.178825765848160,0.391526609659195,0.119215905666351,-0.205158501863480,-0.097200773656368,-0.092174984514713,-0.189394891262054,-0.117961697280407,0.017343629151583,-0.009290414862335,-0.238210558891296,0.092139102518559,-0.180364966392517));
res += mul(Get(s2,-dx,0), float4x4(-0.081805936992168,0.281234174966812,-0.203139334917068,-0.104880154132843,-0.165795922279358,-0.058992344886065,0.075508505105972,-0.014210191555321,-0.008456428535283,-0.124881558120251,0.206239551305771,0.099719807505608,-0.022250985726714,-0.029331382364035,0.082033589482307,-0.241550385951996));
res += mul(Get(s2,-dx,dy), float4x4(0.000019876169972,0.030237842351198,-0.202408120036125,0.063158906996250,-0.122704602777958,0.107730127871037,0.053742416203022,-0.071048215031624,-0.084825180470943,0.079136677086353,-0.130210101604462,-0.054028417915106,-0.080505974590778,0.245729729533195,0.012185591273010,0.148790419101715));
res += mul(Get(s2,0,-dy), float4x4(-0.149122163653374,-0.096728816628456,0.027141155675054,-0.094013012945652,0.032134510576725,-0.288021951913834,-0.055569287389517,-0.148594006896019,0.316787391901016,-0.080674842000008,-0.026864537969232,-0.113042548298836,-0.115098565816879,-0.166874811053276,0.003465644316748,-0.068566545844078));
res += mul(Get(s2,0,0), float4x4(0.069917052984238,0.141882166266441,0.027590282261372,-0.124813824892044,-0.263922154903412,-0.251551300287247,0.017278263345361,-0.040909327566624,0.031441610306501,-0.132599025964737,0.019192444160581,-0.047512043267488,-0.153106242418289,-0.029494857415557,-0.019245449453592,-0.126772642135620));
res += mul(Get(s2,0,dy), float4x4(-0.011668405495584,0.114291414618492,0.023365272209048,0.048311814665794,-0.047956258058548,0.132373034954071,-0.073842301964760,-0.014585036784410,0.073170691728592,0.009566630236804,0.066986672580242,0.004596905317158,-0.149939894676208,0.027981018647552,-0.058005001395941,-0.110810600221157));
res += mul(Get(s2,dx,-dy), float4x4(-0.048206266015768,0.042322471737862,0.088956169784069,-0.069022394716740,-0.156293243169785,-0.206069916486740,0.225401237607002,-0.162454932928085,0.086730055510998,-0.031994570046663,-0.143647477030754,-0.187206178903580,-0.081719815731049,-0.285241633653641,0.063186980783939,0.139822587370872));
res += mul(Get(s2,dx,0), float4x4(0.190440639853477,-0.004512040875852,0.076392248272896,-0.107845366001129,-0.178727895021439,-0.018589755520225,-0.101418405771255,-0.165509358048439,-0.044364459812641,-0.210031598806381,-0.081444740295410,-0.117241419851780,-0.073736004531384,0.041375420987606,0.104929320514202,-0.130983784794807));
res += mul(Get(s2,dx,dy), float4x4(0.072619259357452,0.216812849044800,0.026690067723393,-0.145795091986656,0.083608977496624,0.147838085889816,-0.115707620978355,-0.008432460017502,-0.057716429233551,0.193725794553757,0.121438801288605,-0.068829782307148,-0.058868855237961,-0.003584970021620,0.069752208888531,-0.099308148026466));
res += mul(Get(s3,-dx,-dy), float4x4(-0.090822577476501,-0.094070814549923,-0.098986834287643,-0.047653451561928,0.004514783155173,-0.121142417192459,0.322205245494843,-0.073106028139591,0.083632513880730,0.069625906646252,0.012922580353916,-0.102592848241329,0.251596510410309,-0.106902062892914,-0.087043583393097,0.013345087878406));
res += mul(Get(s3,-dx,0), float4x4(-0.194302380084991,-0.115680187940598,-0.156024277210236,0.099205836653709,-0.236278474330902,-0.090787038207054,0.219954729080200,-0.077993065118790,-0.027205150574446,-0.148462414741516,0.083470270037651,-0.133222803473473,-0.053066566586494,0.109742470085621,-0.138818755745888,0.094791293144226));
res += mul(Get(s3,-dx,dy), float4x4(-0.290178894996643,-0.104392535984516,0.415370404720306,-0.027853209525347,-0.098713897168636,-0.060409080237150,-0.198676422238350,0.023351732641459,0.153503492474556,0.108911372721195,0.160046920180321,-0.074275471270084,-0.246675387024879,-0.050965275615454,-0.017726313322783,0.117822758853436));
res += mul(Get(s3,0,-dy), float4x4(-0.126773074269295,-0.038460735231638,-0.210329055786133,-0.183922424912453,-0.024555565789342,-0.243942648172379,0.087688006460667,-0.048374973237514,-0.078258141875267,0.177575573325157,-0.209209620952606,-0.075951807200909,0.029332960024476,-0.085456572473049,-0.025025976821780,0.083951845765114));
res += mul(Get(s3,0,0), float4x4(-0.108053825795650,0.002839588094503,-0.064918689429760,0.009881429374218,-0.091072790324688,-0.178658142685890,-0.146882042288780,-0.144321173429489,-0.172224611043930,-0.098754145205021,-0.105442486703396,-0.000315382843837,-0.055833313614130,0.039634197950363,-0.037618126720190,-0.130400791764259));
res += mul(Get(s3,0,dy), float4x4(-0.313136190176010,0.115162715315819,0.142604425549507,-0.036036007106304,-0.149794489145279,0.002605895744637,-0.184072718024254,0.050067447125912,-0.022104393690825,-0.155769526958466,0.092933431267738,0.144074425101280,-0.161743238568306,0.005295977927744,-0.090068094432354,-0.101350665092468));
res += mul(Get(s3,dx,-dy), float4x4(-0.111635223031044,-0.099616646766663,-0.152000159025192,0.025131555274129,0.084712520241737,0.023848164826632,0.293636113405228,-0.030481558293104,-0.122553497552872,-0.119533509016037,-0.071335472166538,-0.089978829026222,-0.069190397858620,-0.244504183530807,-0.246825084090233,-0.008993972092867));
res += mul(Get(s3,dx,0), float4x4(-0.109606571495533,0.362736731767654,0.082992583513260,-0.018209083005786,0.108116008341312,0.382765442132950,0.124173998832703,0.085690043866634,-0.039044320583344,-0.047735314816236,-0.001921868650243,-0.121538162231445,-0.125042334198952,-0.205355376005173,-0.244813680648804,-0.120266430079937));
res += mul(Get(s3,dx,dy), float4x4(-0.043016076087952,0.265527814626694,-0.013112072832882,-0.114152990281582,-0.286404073238373,0.069635473191738,-0.209513872861862,0.177474975585938,0.037609975785017,-0.048474062234163,-0.149984374642372,0.139428168535233,-0.225299134850502,-0.029502971097827,-0.183913126587868,0.118865862488747));
return max(float4(0,0,0,0), res);
}
