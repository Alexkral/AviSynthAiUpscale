sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.065412200987339,0.151310965418816,-0.008877521380782,0.009743213653564,-0.005289108026773,-0.234136566519737,-0.103753037750721,-0.046431787312031,-0.079018898308277,-0.099522039294243,-0.097594141960144,0.034293711185455,-0.115052558481693,0.017659733071923,-0.140294969081879,0.116949573159218));
res += mul(Get(s0,-dx,0), float4x4(-0.079804800450802,-0.046015512198210,-0.086932279169559,0.039322152733803,-0.091463759541512,-0.048250351101160,0.150197416543961,-0.012732770293951,-0.180521413683891,0.128774359822273,-0.097106091678143,-0.125272005796432,-0.051568642258644,-0.048444274812937,-0.126296684145927,0.241535708308220));
res += mul(Get(s0,-dx,dy), float4x4(0.190944567322731,0.070527456700802,-0.079557009041309,-0.008555423468351,0.228881925344467,-0.117968626320362,0.120560817420483,0.061949286609888,0.014181639999151,-0.066718764603138,0.185187518596649,-0.184374362230301,-0.140666455030441,0.076720401644707,-0.191734269261360,0.067256800830364));
res += mul(Get(s0,0,-dy), float4x4(-0.025946361944079,0.051062550395727,0.131240770220757,0.134118244051933,-0.236758172512054,-0.086677461862564,-0.109846837818623,-0.016830224543810,-0.059509940445423,-0.047104157507420,0.064816251397133,0.016690479591489,-0.123820990324020,0.007202442269772,-0.056729014962912,-0.298757970333099));
res += mul(Get(s0,0,0), float4x4(-0.125768318772316,0.105938985943794,0.003523738356307,-0.126389026641846,-0.010288381949067,0.038965143263340,0.008967833593488,-0.073742613196373,0.133834302425385,0.089923486113548,0.001983626279980,-0.050220731645823,-0.229801133275032,0.031238391995430,0.068616956472397,0.052328780293465));
res += mul(Get(s0,0,dy), float4x4(-0.050184629857540,-0.018958682194352,0.151339054107666,-0.011789526790380,-0.122945815324783,0.014004974626005,0.083901979029179,0.153574228286743,0.011244854889810,0.107499025762081,0.202208161354065,0.092361181974411,-0.073994025588036,0.101286090910435,0.093433044850826,0.095608502626419));
res += mul(Get(s0,dx,-dy), float4x4(-0.030739173293114,-0.006415276788175,0.225666955113411,0.055267386138439,0.087901800870895,0.169475138187408,-0.097815014421940,-0.077479667961597,-0.061763990670443,0.096328414976597,-0.008016906678677,-0.109185062348843,-0.105548031628132,0.082910858094692,-0.170039981603622,-0.048066373914480));
res += mul(Get(s0,dx,0), float4x4(0.135104268789291,-0.036323651671410,-0.031290244311094,-0.174419000744820,0.094752423465252,-0.116698421537876,0.113319948315620,0.025000065565109,-0.011564790271223,-0.036858111619949,-0.018830461427569,0.010190654546022,-0.122640825808048,0.121185503900051,-0.061707496643066,0.046772662550211));
res += mul(Get(s0,dx,dy), float4x4(-0.069541588425636,-0.051562950015068,0.007248830981553,0.126095280051231,0.118434607982635,-0.122134603559971,0.295002758502960,0.088965490460396,0.200567752122879,0.008576951920986,-0.162662789225578,-0.052574481815100,0.111289426684380,0.006263259798288,-0.123749628663063,0.071758836507797));
res += mul(Get(s1,-dx,-dy), float4x4(-0.008029281161726,-0.081134848296642,-0.067696787416935,0.225038394331932,-0.147428885102272,-0.129416257143021,-0.026034414768219,0.177762165665627,0.063485711812973,-0.059628672897816,-0.090732410550117,-0.025162311270833,0.067693136632442,-0.116468973457813,-0.117981299757957,-0.019762784242630));
res += mul(Get(s1,-dx,0), float4x4(-0.077448286116123,-0.140035748481750,-0.143692284822464,0.004394003655761,-0.123719640076160,-0.080727286636829,0.038849726319313,0.057314697653055,-0.068089768290520,0.023914488032460,0.048519857227802,0.153800502419472,-0.046947821974754,0.128550723195076,-0.069369681179523,-0.032967321574688));
res += mul(Get(s1,-dx,dy), float4x4(0.016363469883800,-0.124399147927761,0.010362767614424,-0.096672132611275,-0.024892255663872,0.024412708356977,0.072069026529789,0.137875407934189,-0.069574616849422,0.053691182285547,-0.024978378787637,0.035565141588449,-0.100289367139339,-0.082537956535816,-0.251570075750351,0.011575941927731));
res += mul(Get(s1,0,-dy), float4x4(-0.152158945798874,0.082602500915527,-0.055029962211847,-0.121381610631943,-0.137140274047852,0.180016443133354,-0.049050409346819,-0.076781816780567,0.160531952977180,0.187420621514320,0.250489383935928,-0.011150844395161,0.008292005397379,-0.038700673729181,-0.025152629241347,0.271206557750702));
res += mul(Get(s1,0,0), float4x4(0.000218174813199,0.010702251456678,-0.125548020005226,-0.294117271900177,-0.375231415033340,0.124273270368576,0.115761898458004,0.154137611389160,0.251362591981888,-0.099905684590340,-0.211486160755157,0.064259670674801,-0.116260945796967,0.050689753144979,0.023447735235095,-0.006105960812420));
res += mul(Get(s1,0,dy), float4x4(0.177570655941963,-0.051662065088749,-0.047958828508854,0.180938839912415,-0.022345656529069,-0.027441618964076,-0.197224691510201,0.124372728168964,0.105431444942951,-0.072963885962963,-0.004304040223360,0.070796012878418,-0.020624531432986,0.201594233512878,-0.074905805289745,-0.038155164569616));
res += mul(Get(s1,dx,-dy), float4x4(-0.184167474508286,-0.204034313559532,0.018704693764448,0.191010802984238,-0.001693104859442,-0.177403986454010,0.006424505263567,0.036666236817837,0.178521990776062,0.171578511595726,0.086774200201035,0.030296973884106,0.062302801758051,0.061450257897377,-0.134700044989586,-0.056055121123791));
res += mul(Get(s1,dx,0), float4x4(-0.099399484694004,0.019119778648019,-0.113516986370087,0.048221480101347,0.078524261713028,-0.204203560948372,0.041661977767944,0.101410351693630,0.006665192544460,-0.290594875812531,-0.224370270967484,-0.058545924723148,-0.049395915120840,0.013575469143689,-0.007629800587893,-0.102398447692394));
res += mul(Get(s1,dx,dy), float4x4(-0.002027863403782,-0.029132556170225,0.169349998235703,-0.012813031673431,0.012237333692610,-0.087876863777637,0.081612706184387,-0.010654325596988,0.048699997365475,-0.166879758238792,-0.016663977876306,0.228239431977272,0.060357201844454,0.064157523214817,-0.211531549692154,0.129553884267807));
res += mul(Get(s2,-dx,-dy), float4x4(-0.169572100043297,-0.126172751188278,-0.105091951787472,0.223570272326469,-0.129629731178284,-0.054918944835663,0.056268971413374,0.009791730903089,-0.005493949167430,0.069643594324589,-0.127786606550217,0.145731523633003,0.010523263365030,-0.079391650855541,0.097225375473499,-0.252375245094299));
res += mul(Get(s2,-dx,0), float4x4(0.273999243974686,-0.244788333773613,0.052193041890860,0.008984163403511,-0.108105458319187,-0.017380846664310,0.004150945693254,0.031311020255089,-0.053919468075037,-0.005407248623669,0.049011092633009,-0.118321128189564,0.320860862731934,-0.130649358034134,0.114677712321281,-0.062815278768539));
res += mul(Get(s2,-dx,dy), float4x4(-0.024966085329652,0.084059774875641,-0.082376010715961,0.037025414407253,0.096064209938049,0.019434722140431,0.019062219187617,-0.077809378504753,-0.071044787764549,0.074123233556747,-0.039940789341927,-0.054574918001890,-0.049077656120062,-0.108269214630127,-0.049315262585878,-0.118359006941319));
res += mul(Get(s2,0,-dy), float4x4(0.086783930659294,-0.047956977039576,0.176168322563171,-0.142920896410942,-0.099571548402309,0.189638867974281,-0.009881803765893,0.051670528948307,-0.070833265781403,-0.039095189422369,0.039141014218330,0.152192369103432,0.138776302337646,-0.017367033287883,0.051250670105219,0.146216884255409));
res += mul(Get(s2,0,0), float4x4(-0.134164020419121,-0.025197189301252,-0.080936111509800,-0.191298782825470,0.201935499906540,-0.088999770581722,-0.059320658445358,0.039583314210176,-0.152635589241982,0.093292161822319,-0.041736282408237,-0.002291312674060,0.105968683958054,-0.129159286618233,-0.075925290584564,-0.040206976234913));
res += mul(Get(s2,0,dy), float4x4(0.002640606602654,0.203284278512001,-0.266164451837540,0.065165057778358,0.165889814496040,0.093159221112728,0.210342243313789,-0.231534212827682,-0.034170374274254,0.045874129980803,0.220066890120506,-0.071956329047680,0.007387677207589,-0.084480330348015,-0.005411277059466,-0.004804721567780));
res += mul(Get(s2,dx,-dy), float4x4(0.006868466269225,0.105158813297749,0.196464389562607,0.075076714158058,-0.050449024885893,0.085962325334549,0.007352000568062,-0.095742918550968,-0.031425237655640,0.128480434417725,0.020633822306991,0.063693679869175,0.034305658191442,0.059357136487961,0.155854001641273,-0.162492513656616));
res += mul(Get(s2,dx,0), float4x4(-0.101830467581749,0.076091036200523,0.105281561613083,-0.067236274480820,0.011175708845258,-0.138799518346786,0.037949610501528,-0.019515167921782,-0.038365609943867,0.089055426418781,0.321932047605515,0.037561960518360,0.122987106442451,0.034194879233837,-0.030590983107686,-0.061912894248962));
res += mul(Get(s2,dx,dy), float4x4(-0.241673886775970,-0.065866447985172,0.057906195521355,-0.039782095700502,0.010178106836975,0.080561541020870,0.099207744002342,0.151977255940437,0.038579802960157,-0.021122101694345,-0.011374603956938,0.154890373349190,0.012633504346013,-0.021506808698177,-0.045889444649220,-0.125257536768913));
res += mul(Get(s3,-dx,-dy), float4x4(0.142209634184837,-0.102504432201385,-0.045745320618153,0.080791369080544,-0.071807630360126,-0.097149528563023,-0.074558578431606,0.008465214632452,0.027721505612135,0.130664378404617,0.140167266130447,0.135098531842232,0.057623062282801,-0.136761188507080,-0.131959646940231,-0.057827915996313));
res += mul(Get(s3,-dx,0), float4x4(0.040155049413443,0.251943528652191,-0.130557805299759,0.024501452222466,0.084962181746960,0.182104215025902,0.066904842853546,-0.085065022110939,0.016555318608880,-0.022285057231784,0.009243652224541,0.220451205968857,0.051267839968204,-0.006647615693510,0.112001881003380,-0.245850145816803));
res += mul(Get(s3,-dx,dy), float4x4(0.171935483813286,-0.041607331484556,-0.061374742537737,0.100612103939056,-0.169722676277161,-0.041447810828686,-0.111052975058556,-0.224163621664047,0.019620079547167,-0.169853851199150,0.038635097444057,-0.078509144484997,0.038273200392723,-0.043088637292385,-0.058993164449930,0.064818955957890));
res += mul(Get(s3,0,-dy), float4x4(-0.052562680095434,0.114009141921997,-0.026669260114431,0.064176902174950,0.239475727081299,-0.002360933460295,-0.155832737684250,0.164510875940323,-0.169406697154045,0.008673412725329,0.135532528162003,0.014918309636414,0.090012505650520,0.211881130933762,-0.085749320685863,0.145712673664093));
res += mul(Get(s3,0,0), float4x4(0.120070189237595,-0.100206099450588,-0.169715881347656,-0.136832624673843,-0.019369723275304,0.165421679615974,0.165213376283646,0.192144542932510,-0.158360749483109,-0.156565189361572,-0.146751731634140,0.132828176021576,0.229412242770195,0.125710785388947,0.265837311744690,0.156496271491051));
res += mul(Get(s3,0,dy), float4x4(0.215366080403328,0.084753088653088,0.006148001644760,-0.100244671106339,-0.171011462807655,-0.106655225157738,0.065172478556633,0.024587767198682,0.103559128940105,-0.172398731112480,-0.143324896693230,0.004592523910105,-0.068238578736782,-0.010577163659036,0.084911316633224,0.015522398985922));
res += mul(Get(s3,dx,-dy), float4x4(-0.003789034672081,-0.086622066795826,-0.037778135389090,0.027636332437396,-0.115838795900345,0.019725937396288,-0.030746292322874,0.140195742249489,-0.173558473587036,0.042763330042362,0.140170723199844,0.200947657227516,0.141336008906364,-0.000683402002323,-0.108953662216663,-0.111733332276344));
res += mul(Get(s3,dx,0), float4x4(0.119156844913960,0.197046041488647,-0.096807681024075,-0.011784518137574,0.035097040235996,-0.058374051004648,-0.143621653318405,-0.075129404664040,0.243205562233925,0.028551789000630,0.091533467173576,0.167760968208313,-0.059635564684868,-0.173683375120163,0.107429824769497,-0.048517920076847));
res += mul(Get(s3,dx,dy), float4x4(-0.078244820237160,0.116705268621445,-0.044504042714834,-0.048709347844124,-0.211625084280968,0.089291505515575,-0.067895852029324,-0.072141416370869,-0.173498511314392,-0.126599192619324,-0.291019201278687,0.043923258781433,0.008902391418815,-0.020597612485290,0.084030263125896,-0.094194307923317));
return max(float4(0,0,0,0), res);
}
