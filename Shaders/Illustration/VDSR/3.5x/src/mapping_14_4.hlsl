sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.124196067452431,-0.158351197838783,-0.087902501225471,-0.133094415068626,-0.089222341775894,0.099923655390739,0.035315807908773,-0.155834257602692,-0.076671898365021,-0.127749875187874,-0.076224148273468,-0.082171253859997,0.075902491807938,0.127735331654549,0.015036054886878,0.238767638802528));
res += mul(Get(s0,-dx,0), float4x4(0.220737129449844,-0.260896325111389,0.005010435823351,-0.050290577113628,-0.139595225453377,-0.100089490413666,-0.049911722540855,0.133634954690933,-0.079163029789925,0.158224686980247,-0.029821693897247,0.070757791399956,0.066347114741802,0.298803091049194,-0.246457114815712,-0.110255286097527));
res += mul(Get(s0,-dx,dy), float4x4(0.022455684840679,0.062838234007359,0.004782949574292,-0.056216042488813,-0.162949383258820,-0.032007861882448,-0.066234394907951,-0.065787181258202,-0.102531224489212,0.135095193982124,-0.140766352415085,-0.155913010239601,0.101974748075008,-0.105871543288231,0.088649317622185,0.106066673994064));
res += mul(Get(s0,0,-dy), float4x4(0.360048592090607,0.083206683397293,-0.078565619885921,-0.005910372827202,-0.229288414120674,0.013146453537047,0.082422263920307,0.172348663210869,0.048476561903954,0.020666103810072,-0.076167121529579,0.045079674571753,0.048449631780386,0.200812578201294,-0.051695432513952,-0.154637336730957));
res += mul(Get(s0,0,0), float4x4(0.174700126051903,-0.162323340773582,0.118648633360863,-0.074680939316750,-0.049979563802481,-0.048312179744244,0.113277792930603,0.102638624608517,0.114037036895752,0.182159274816513,0.125692322850227,0.174244821071625,0.035572979599237,0.026211641728878,-0.068884924054146,-0.082308597862720));
res += mul(Get(s0,0,dy), float4x4(0.068437911570072,0.003931455314159,0.106907866895199,-0.091774962842464,0.066432081162930,-0.229002088308334,0.128802731633186,-0.017795689404011,0.029090289026499,0.014697466045618,-0.013649688102305,0.164717465639114,-0.041730180382729,-0.023697692900896,0.161889478564262,0.136147797107697));
res += mul(Get(s0,dx,-dy), float4x4(0.086809106171131,0.025028292089701,-0.207718566060066,0.106509350240231,-0.176566943526268,-0.025614654645324,0.053782589733601,-0.037599708884954,0.030429705977440,-0.176886484026909,0.045469965785742,0.136391937732697,-0.011802801862359,0.044592544436455,-0.032920688390732,-0.046052753925323));
res += mul(Get(s0,dx,0), float4x4(0.084314875304699,-0.145716950297356,-0.019249996170402,-0.022021060809493,0.188089832663536,0.205518573522568,-0.028431590646505,0.021792944520712,0.192471429705620,-0.187455922365189,0.121755108237267,0.213383629918098,0.069831870496273,-0.141505762934685,-0.154023230075836,0.188960313796997));
res += mul(Get(s0,dx,dy), float4x4(0.025491794571280,-0.031866453588009,0.058193624019623,0.107461884617805,-0.078285031020641,-0.038690142333508,0.137294724583626,-0.084764629602432,0.161772534251213,-0.221926823258400,0.096128106117249,-0.129137858748436,0.208246648311615,-0.091512113809586,0.132702797651291,-0.121837534010410));
res += mul(Get(s1,-dx,-dy), float4x4(0.042300641536713,0.203987747430801,-0.000272881181445,0.116808436810970,0.235814630985260,-0.052232529968023,-0.073668517172337,-0.017810054123402,-0.110124014317989,0.046897526830435,0.073405221104622,-0.065119922161102,-0.045047707855701,0.146969482302666,-0.051399305462837,-0.058576166629791));
res += mul(Get(s1,-dx,0), float4x4(-0.090964324772358,0.213075354695320,-0.219064369797707,-0.213360726833344,-0.012584741227329,-0.228802233934402,-0.041404698044062,-0.008955249562860,0.069405898451805,-0.147758111357689,0.178015887737274,-0.141739875078201,-0.150519147515297,-0.087936960160732,-0.075810305774212,-0.000528314965777));
res += mul(Get(s1,-dx,dy), float4x4(0.019141916185617,0.266014665365219,0.071803808212280,-0.057277578860521,0.152204975485802,-0.010870302096009,-0.139139071106911,0.070173293352127,0.074646003544331,-0.176250576972961,0.078404627740383,0.047115247696638,0.161686033010483,-0.045866649597883,0.093684911727905,-0.030690241605043));
res += mul(Get(s1,0,-dy), float4x4(0.004036675207317,0.166291132569313,0.015494372695684,0.033550448715687,0.042492158710957,-0.039303079247475,0.217977598309517,-0.048055097460747,0.065029963850975,0.034991025924683,-0.014506078325212,-0.160812750458717,0.086517013609409,0.186596542596817,-0.170428931713104,0.068240284919739));
res += mul(Get(s1,0,0), float4x4(-0.110996142029762,-0.060656968504190,-0.114788085222244,-0.015088311396539,0.030385689809918,0.083385899662971,-0.060952894389629,0.097694754600525,-0.275657385587692,0.331573873758316,0.123531475663185,-0.155199661850929,0.086935847997665,-0.201387032866478,-0.078930154442787,-0.061280351132154));
res += mul(Get(s1,0,dy), float4x4(-0.101316094398499,0.002233223523945,0.136808618903160,0.183093547821045,-0.057932432740927,0.180652499198914,-0.005829348694533,-0.059670150279999,-0.116033099591732,0.049144279211760,0.199682146310806,0.052345767617226,0.134336173534393,-0.039429381489754,-0.009147371165454,-0.077513337135315));
res += mul(Get(s1,dx,-dy), float4x4(-0.011580507270992,0.131542891263962,-0.002955211093649,0.169215410947800,0.093328580260277,0.033352825790644,0.125268414616585,-0.042749047279358,0.047440744936466,0.398272454738617,-0.120143346488476,-0.046765368431807,-0.300050199031830,0.216377958655357,-0.062633380293846,-0.089505583047867));
res += mul(Get(s1,dx,0), float4x4(-0.031925685703754,0.075625516474247,0.045052405446768,0.178592160344124,-0.091197043657303,0.250907719135284,0.147143080830574,0.082615055143833,-0.115107417106628,0.280257165431976,-0.276411592960358,-0.113918133080006,-0.095093518495560,-0.157906889915466,0.032400477677584,0.134417876601219));
res += mul(Get(s1,dx,dy), float4x4(-0.032354008406401,-0.096992678940296,-0.112336851656437,0.029713859781623,-0.138284370303154,0.145173966884613,0.010679278522730,-0.089508526027203,-0.113699220120907,0.307936549186707,-0.113003626465797,-0.069400377571583,0.047482322901487,-0.292775213718414,-0.017948884516954,-0.061173051595688));
res += mul(Get(s2,-dx,-dy), float4x4(0.080229379236698,0.329147398471832,-0.001519852201454,0.194194793701172,-0.187388867139816,-0.164620071649551,0.036664631217718,0.032423958182335,0.100012503564358,-0.017528165131807,-0.037733320146799,-0.187737762928009,0.018014043569565,0.246092408895493,-0.102199114859104,-0.018645115196705));
res += mul(Get(s2,-dx,0), float4x4(-0.007735098712146,0.033450260758400,-0.029003228992224,-0.092951253056526,-0.171698853373528,-0.100509546697140,-0.163767650723457,0.020856944844127,0.115229554474354,0.166778042912483,-0.040945969521999,0.078128278255463,0.029564291238785,0.169404938817024,0.005151654593647,-0.029688190668821));
res += mul(Get(s2,-dx,dy), float4x4(0.056233543902636,0.173985019326210,-0.037202894687653,0.080436095595360,-0.038079544901848,0.180107101798058,-0.109484605491161,-0.172915354371071,-0.113294161856174,-0.128702625632286,-0.215360686182976,0.002898994833231,0.091935880482197,0.140579432249069,-0.018846342340112,0.049716461449862));
res += mul(Get(s2,0,-dy), float4x4(0.172409534454346,0.350671082735062,-0.047673501074314,0.000085504769231,0.084098361432552,-0.276015967130661,-0.037553407251835,-0.112235918641090,-0.069297201931477,-0.001635510358028,-0.067571744322777,0.089911267161369,-0.074358142912388,0.019391311332583,-0.050940867513418,-0.091845907270908));
res += mul(Get(s2,0,0), float4x4(0.123193725943565,-0.135221734642982,-0.009458993561566,0.003798858961090,-0.111010625958443,0.054815623909235,0.126346230506897,-0.037382964044809,0.037740476429462,0.169229075312614,0.122590444982052,0.196407333016396,0.197418928146362,0.043743591755629,0.140168488025665,-0.019339006394148));
res += mul(Get(s2,0,dy), float4x4(0.063452593982220,-0.115319781005383,-0.097759269177914,0.012128152884543,0.014725045301020,0.002985341707245,-0.210640668869019,0.098402485251427,0.053489509969950,-0.114217564463615,-0.032206535339355,0.044710297137499,0.079355992376804,-0.038615029305220,0.111040234565735,0.095577709376812));
res += mul(Get(s2,dx,-dy), float4x4(-0.089765429496765,0.118368081748486,-0.006459368392825,0.102742552757263,0.095211945474148,0.062988661229610,-0.018871292471886,0.002494382439181,0.032723952084780,-0.211559832096100,0.124553315341473,-0.037593562155962,-0.004122240934521,0.102988041937351,-0.146062910556793,-0.047348156571388));
res += mul(Get(s2,dx,0), float4x4(-0.113914959132671,0.109668388962746,0.035515550523996,0.053342368453741,-0.020873067900538,0.183649718761444,-0.026254020631313,0.238385021686554,-0.041075047105551,-0.131976872682571,-0.072275109589100,0.140676036477089,-0.241463601589203,0.037218738347292,-0.108147941529751,-0.034215975552797));
res += mul(Get(s2,dx,dy), float4x4(-0.244529992341995,0.008435071446002,0.065866678953171,0.081278301775455,-0.078541375696659,-0.245825156569481,-0.080856494605541,-0.007175611797720,0.138871014118195,0.141001015901566,0.092513792216778,-0.098266370594501,0.093041554093361,0.047814745455980,-0.152366250753403,0.138077080249786));
res += mul(Get(s3,-dx,-dy), float4x4(-0.000865598500241,0.342352598905563,0.004471352323890,0.098186403512955,0.104900479316711,0.093659453094006,0.037203144282103,0.025987995788455,-0.088209025561810,0.109462201595306,0.069217629730701,0.178875729441643,-0.178822755813599,0.024892257526517,-0.106655709445477,0.091440185904503));
res += mul(Get(s3,-dx,0), float4x4(0.078534230589867,0.218901634216309,0.054598789662123,0.028974814340472,0.058527346700430,-0.108974635601044,0.064788624644279,-0.085644029080868,-0.102392837405205,-0.060348350554705,-0.206743136048317,0.031303625553846,-0.240647062659264,0.039546702057123,-0.067452654242516,0.023161331191659));
res += mul(Get(s3,-dx,dy), float4x4(-0.182984963059425,0.257373958826065,0.138245061039925,0.098123185336590,-0.047759044915438,-0.109000831842422,0.057742398232222,0.236086994409561,-0.163503363728523,-0.031309656798840,0.042491618543863,0.165087342262268,-0.213880643248558,0.335951119661331,-0.264791041612625,0.069656327366829));
res += mul(Get(s3,0,-dy), float4x4(0.050057481974363,-0.018942324444652,-0.008849347941577,0.197524651885033,-0.097872048616409,-0.125534549355507,0.090434893965721,0.226702898740768,0.054504726082087,0.012031331658363,0.041450522840023,0.075133159756660,0.067174576222897,-0.362727642059326,-0.037461832165718,0.023896196857095));
res += mul(Get(s3,0,0), float4x4(-0.202419176697731,-0.116577930748463,0.127734899520874,-0.089860312640667,-0.082765966653824,-0.036782063543797,-0.017578054219484,0.003410100471228,0.161607220768929,-0.046449940651655,-0.021508760750294,0.079167552292347,0.131320908665657,-0.126724347472191,-0.027970960363746,0.127000734210014));
res += mul(Get(s3,0,dy), float4x4(0.132207080721855,-0.052060123533010,-0.021361974999309,0.248625665903091,-0.052569620311260,-0.044912844896317,-0.096080735325813,-0.066527940332890,0.089933261275291,-0.087472654879093,-0.000470616418170,-0.051577776670456,-0.074881181120872,0.306564807891846,-0.112338140606880,-0.044117972254753));
res += mul(Get(s3,dx,-dy), float4x4(0.086210295557976,-0.280474990606308,-0.005425793584436,0.087061375379562,-0.034847240895033,0.090656146407127,0.031914178282022,-0.081485532224178,0.009138746187091,0.028855945914984,0.051696892827749,-0.027669304981828,-0.190421670675278,-0.113483741879463,0.015591176226735,0.039456404745579));
res += mul(Get(s3,dx,0), float4x4(0.230801329016685,-0.117777943611145,0.024874541908503,0.152816489338875,-0.071420058608055,0.028198113664985,-0.296352386474609,-0.023408258333802,-0.114781238138676,-0.041567977517843,0.136515617370605,-0.023154659196734,0.066613189876080,0.055433142930269,0.006277274340391,0.125357374548912));
res += mul(Get(s3,dx,dy), float4x4(0.146798968315125,-0.144325435161591,0.072416283190250,0.086458653211594,0.001697828294709,-0.016250759363174,-0.171534195542336,-0.041718933731318,-0.086132161319256,-0.084684200584888,0.037251137197018,0.064102441072464,-0.042336657643318,0.360328644514084,-0.012262739241123,-0.107545398175716));
return max(float4(0,0,0,0), res);
}
