sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.054390385746956,0.097903527319431,-0.065287381410599,0.148630633950233,-0.110540211200714,-0.060027606785297,-0.137916460633278,0.020406059920788,0.151917845010757,0.097778357565403,0.116933502256870,0.008791393600404,-0.060347940772772,-0.108342215418816,0.186560228466988,-0.113710090517998));
res += mul(Get(s0,-dx,0), float4x4(-0.205409884452820,0.321540325880051,0.005456429906189,0.060598690062761,-0.089741356670856,0.010952831245959,0.101152814924717,0.089822806417942,0.227073639631271,0.121654391288757,0.147703528404236,0.073126763105392,-0.044367644935846,-0.091400384902954,-0.037602771073580,-0.010273339226842));
res += mul(Get(s0,-dx,dy), float4x4(0.000341442704666,0.161613792181015,-0.080216906964779,0.102810621261597,0.121863335371017,-0.066726811230183,0.153850972652435,-0.019768733531237,0.164557367563248,0.076319858431816,-0.026874871924520,0.094765789806843,0.039146665483713,-0.232283517718315,0.058082811534405,0.021898172795773));
res += mul(Get(s0,0,-dy), float4x4(-0.202159509062767,0.190470367670059,-0.266932725906372,0.208631306886673,0.029842220246792,-0.159189417958260,0.063359610736370,-0.019145287573338,0.087240450084209,0.026901442557573,-0.032931610941887,0.002560923807323,-0.033098209649324,-0.075111083686352,0.086521066725254,0.096946798264980));
res += mul(Get(s0,0,0), float4x4(-0.231161385774612,0.089624397456646,-0.040779586881399,0.266289234161377,0.014950296841562,-0.173890620470047,-0.029729394242167,0.064668148756027,0.307733118534088,0.339441001415253,-0.033230911940336,-0.108228005468845,0.066938474774361,-0.046160005033016,0.331447035074234,0.140884295105934));
res += mul(Get(s0,0,dy), float4x4(-0.043833781033754,-0.465391248464584,-0.165913835167885,-0.107661686837673,0.105110958218575,-0.063746511936188,-0.025513004511595,-0.045182738453150,0.394354343414307,0.257245838642120,-0.087473623454571,0.073552757501602,0.160890266299248,-0.030395342037082,0.385987371206284,0.146275028586388));
res += mul(Get(s0,dx,-dy), float4x4(-0.170322299003601,0.113197192549706,-0.192335784435272,0.143513292074203,-0.022112023085356,-0.173070445656776,0.088778197765350,0.068876937031746,0.259869873523712,-0.014111664146185,0.097560495138168,0.034475333988667,-0.223852232098579,-0.027636209502816,0.082982458174229,-0.110601373016834));
res += mul(Get(s0,dx,0), float4x4(-0.099195048213005,-0.165731117129326,-0.007527410518378,0.079895339906216,0.052000090479851,-0.099486768245697,-0.124026328325272,0.068360723555088,0.151560887694359,0.412890046834946,-0.075417108833790,0.026390315964818,-0.045589998364449,0.066721625626087,0.155700474977493,-0.042264677584171));
res += mul(Get(s0,dx,dy), float4x4(0.206114798784256,0.049856323748827,-0.110205680131912,-0.198425188660622,-0.008013520389795,0.108424037694931,0.061449326574802,0.151408970355988,0.191109552979469,0.157034799456596,-0.102768093347549,0.103387512266636,0.117702655494213,-0.012402393855155,0.207209587097168,0.108938626945019));
res += mul(Get(s1,-dx,-dy), float4x4(-0.070484541356564,0.151697695255280,0.028036471456289,-0.094872131943703,0.136491462588310,-0.035177953541279,-0.030441217124462,-0.099957264959812,0.241122543811798,-0.040926359593868,0.022259270772338,-0.113004282116890,-0.052869640290737,-0.155255004763603,-0.042086862027645,-0.131326809525490));
res += mul(Get(s1,-dx,0), float4x4(-0.010988600552082,-0.047600522637367,0.156048014760017,-0.170379877090454,0.283206790685654,0.111096218228340,0.014072545804083,0.051956951618195,0.138649120926857,0.019080502912402,-0.098059728741646,0.047628037631512,0.086378246545792,-0.029061917215586,-0.165138572454453,0.137613385915756));
res += mul(Get(s1,-dx,dy), float4x4(0.316715747117996,-0.139341920614243,0.012146377936006,-0.192110911011696,0.323625773191452,0.045045871287584,-0.078671678900719,0.289591044187546,-0.132338866591454,0.177974149584770,0.076748810708523,0.045639269053936,-0.228306055068970,0.011134600266814,-0.012790777720511,0.068318285048008));
res += mul(Get(s1,0,-dy), float4x4(-0.076250173151493,-0.108579590916634,0.009710935875773,-0.133169323205948,-0.176660865545273,-0.093944422900677,-0.024138180539012,-0.004147396422923,0.147686123847961,0.034143794327974,0.045137975364923,0.043769296258688,-0.012774966657162,-0.142217382788658,0.103069707751274,-0.071151815354824));
res += mul(Get(s1,0,0), float4x4(0.192486092448235,-0.083970867097378,0.026084119454026,-0.088052652776241,-0.010127004235983,0.114802934229374,0.003736429149285,-0.043531090021133,0.031512960791588,0.147222578525543,-0.166089698672295,-0.068672657012939,0.100210756063461,0.224426105618477,0.091384880244732,-0.021401818841696));
res += mul(Get(s1,0,dy), float4x4(0.376554131507874,0.036230929195881,0.141740709543228,-0.061601486057043,0.016576308757067,-0.137971714138985,-0.033379897475243,0.125108301639557,-0.191529706120491,0.052730470895767,0.044987753033638,0.020340654999018,-0.103194363415241,0.030058499425650,-0.113622032105923,0.111516110599041));
res += mul(Get(s1,dx,-dy), float4x4(0.125688269734383,0.091925255954266,0.053523145616055,0.023453528061509,-0.171564728021622,-0.145317807793617,-0.018221182748675,-0.085154660046101,-0.277384281158447,0.135444238781929,-0.092512160539627,0.012220676988363,0.102445274591446,0.097329340875149,0.032040968537331,-0.053109608590603));
res += mul(Get(s1,dx,0), float4x4(0.221767827868462,0.177171230316162,0.157214835286140,-0.065682560205460,0.028619550168514,-0.021412573754787,0.224214240908623,-0.001574447378516,-0.340307265520096,0.067311286926270,-0.025656005367637,-0.150719180703163,0.144571125507355,0.445093244314194,-0.018304098397493,-0.048395030200481));
res += mul(Get(s1,dx,dy), float4x4(0.177006125450134,0.276626557111740,0.002595259109512,-0.092206433415413,0.004409634973854,-0.127768024802208,-0.050096053630114,-0.048924013972282,-0.642130017280579,0.102667883038521,0.117617718875408,-0.184134081006050,0.149778112769127,0.099998995661736,-0.037307590246201,0.146492958068848));
res += mul(Get(s2,-dx,-dy), float4x4(0.172289565205574,0.263770997524261,0.060208179056644,0.077501513063908,-0.067513503134251,0.046724472194910,0.043047022074461,-0.032565157860518,-0.079102724790573,0.102330118417740,0.018053850159049,0.188252776861191,0.017429487779737,0.185059741139412,0.015279507264495,0.019763497635722));
res += mul(Get(s2,-dx,0), float4x4(0.494740545749664,0.246404692530632,-0.022269561886787,0.185024812817574,-0.072151303291321,0.118919119238853,0.031817570328712,0.050763674080372,-0.240429043769836,0.079802609980106,0.028020115569234,0.200988098978996,-0.267600506544113,0.041863117367029,-0.068148553371429,0.220074549317360));
res += mul(Get(s2,-dx,dy), float4x4(0.362016022205353,-0.095988444983959,0.059411827474833,0.246856898069382,-0.098051749169827,0.054073117673397,-0.127931118011475,-0.136490553617477,0.088325537741184,-0.325579732656479,-0.008488890714943,-0.017985748127103,0.017291884869337,-0.248338103294373,0.062928542494774,-0.022911224514246));
res += mul(Get(s2,0,-dy), float4x4(-0.095959588885307,0.043098732829094,-0.043316997587681,0.000706715451088,0.396237105131149,0.153735592961311,0.142354741692543,-0.000456672656583,-0.074772998690605,0.159215003252029,-0.030236748978496,-0.080035820603371,0.172475889325142,0.216300070285797,0.061908137053251,0.055405274033546));
res += mul(Get(s2,0,0), float4x4(0.091964744031429,0.053034346550703,-0.018486358225346,0.012833644635975,0.304807126522064,0.209384441375732,-0.083494596183300,0.171088293194771,-0.261472284793854,-0.093748718500137,0.004740696866065,0.266253560781479,0.042387045919895,-0.270433753728867,-0.045341666787863,0.089702032506466));
res += mul(Get(s2,0,dy), float4x4(0.323873043060303,-0.045156389474869,0.000038522048271,0.088094055652618,-0.044969793409109,0.002318955957890,-0.119000598788261,0.197939932346344,-0.086027733981609,-0.167338922619820,-0.052855938673019,-0.097832903265953,0.244987055659294,-0.243539556860924,0.034175846725702,-0.000438591407146));
res += mul(Get(s2,dx,-dy), float4x4(-0.249432235956192,-0.177005589008331,-0.103713504970074,-0.088522791862488,0.134153947234154,0.106449387967587,0.028633527457714,-0.099150069057941,-0.065104812383652,0.324144989252090,-0.146384298801422,0.269032150506973,0.148450031876564,0.167854577302933,-0.026540609076619,-0.036106985062361));
res += mul(Get(s2,dx,0), float4x4(-0.186465486884117,-0.265523195266724,-0.031145472079515,-0.126412093639374,0.097928814589977,0.124523736536503,-0.031172148883343,0.090783186256886,-0.166745483875275,0.157357171177864,-0.059120818972588,0.051986083388329,0.409775435924530,-0.145262211561203,0.016496909782290,-0.006590464618057));
res += mul(Get(s2,dx,dy), float4x4(0.307014137506485,-0.252919584512711,-0.009622075594962,-0.082800887525082,-0.028380192816257,-0.024974998086691,-0.149160116910934,0.211486190557480,0.037635680288076,0.156116306781769,-0.100533209741116,-0.111677832901478,0.378970175981522,0.094287201762199,-0.019841149449348,0.096467219293118));
res += mul(Get(s3,-dx,-dy), float4x4(0.056093238294125,-0.037086986005306,-0.018226815387607,0.089269049465656,0.079116910696030,0.019723247736692,0.046916246414185,-0.039479963481426,-0.205055296421051,0.050418008118868,-0.098760388791561,0.141932010650635,0.014792196452618,-0.096212856471539,0.041460119187832,-0.165216892957687));
res += mul(Get(s3,-dx,0), float4x4(-0.006558948662132,0.029037702828646,0.103142142295837,0.307917475700378,-0.045213077217340,-0.064611718058586,0.152995198965073,-0.125873982906342,-0.113494567573071,-0.245294764637947,-0.047138605266809,-0.202875763177872,-0.135027289390564,-0.162516638636589,-0.021556919440627,-0.132364943623543));
res += mul(Get(s3,-dx,dy), float4x4(0.006855447776616,0.013426790945232,0.202951520681381,0.233343258500099,0.082103893160820,0.017104316502810,0.009815502911806,0.026101607829332,-0.058624990284443,-0.093162864446640,-0.148758694529533,-0.242828145623207,-0.128095239400864,-0.084579251706600,0.027713719755411,-0.051806498318911));
res += mul(Get(s3,0,-dy), float4x4(0.041797708719969,0.021026834845543,0.145790904760361,0.239404395222664,0.178723901510239,-0.007549652364105,0.097754344344139,0.152131587266922,-0.083747148513794,0.005871437024325,-0.165298163890839,0.235432446002960,0.069593675434589,-0.204851999878883,0.036893609911203,-0.141907393932343));
res += mul(Get(s3,0,0), float4x4(-0.218953952193260,0.085599407553673,-0.003605402773246,0.182009324431419,0.083222374320030,-0.008862294256687,0.129757046699524,0.098601527512074,-0.205540940165520,-0.241024956107140,-0.062147788703442,0.022374458611012,-0.006783204618841,-0.062371801584959,-0.073518060147762,0.055637724697590));
res += mul(Get(s3,0,dy), float4x4(-0.307508438825607,-0.035035185515881,-0.048698328435421,0.040329970419407,0.119170516729355,0.018762905150652,0.027875253930688,-0.023276722058654,-0.128887325525284,0.108785763382912,-0.069610267877579,-0.161194801330566,0.114256188273430,-0.101815111935139,-0.044125247746706,0.058597240597010));
res += mul(Get(s3,dx,-dy), float4x4(-0.054066020995378,-0.061053942888975,0.107146002352238,-0.128312766551971,0.253715485334396,0.048443138599396,0.039092388004065,0.192063122987747,0.132647380232811,0.044919293373823,-0.172066465020180,0.207825794816017,0.280066817998886,-0.086517579853535,-0.070758894085884,0.270008951425552));
res += mul(Get(s3,dx,0), float4x4(-0.213923811912537,0.039523798972368,-0.008539652451873,0.068964831531048,0.104481659829617,-0.060615286231041,0.052253447473049,0.041500587016344,-0.005292028188705,-0.025195740163326,-0.044188514351845,0.082569204270840,0.248607829213142,-0.091510817408562,0.078441955149174,-0.066598586738110));
res += mul(Get(s3,dx,dy), float4x4(-0.275357007980347,0.122092768549919,0.046154648065567,-0.018414745107293,0.248139426112175,0.196603402495384,0.040582109242678,0.069304421544075,-0.220244795084000,-0.011571021750569,-0.044777806848288,-0.002222408540547,0.264687806367874,-0.026209780946374,-0.013264349661767,0.006359001155943));
return max(float4(0,0,0,0), res);
}
