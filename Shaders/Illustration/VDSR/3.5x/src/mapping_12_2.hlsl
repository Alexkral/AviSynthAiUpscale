sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.135209560394287,-0.064862914383411,0.095957942306995,-0.004573292564601,-0.085414849221706,-0.135750710964203,0.026585035026073,-0.055352449417114,0.098370209336281,-0.013331237249076,0.082598842680454,-0.011232570745051,0.019437110051513,-0.144332796335220,0.027364199981093,-0.157894238829613));
res += mul(Get(s0,-dx,0), float4x4(0.013985404744744,0.070731297135353,-0.126384258270264,0.049815773963928,0.059806592762470,0.014442280866206,-0.086788646876812,-0.188229694962502,-0.120677925646305,-0.045261844992638,0.076644413173199,-0.085535258054733,-0.426117658615112,-0.143051952123642,-0.154634892940521,-0.094745211303234));
res += mul(Get(s0,-dx,dy), float4x4(0.016977500170469,-0.078751161694527,-0.010035327635705,0.016760097816586,-0.058951985090971,-0.014910198748112,-0.007740870118141,-0.166030049324036,-0.126286506652832,-0.012174482457340,0.137337759137154,0.042594894766808,-0.237873345613480,-0.000623787229415,-0.163421407341957,-0.189286410808563));
res += mul(Get(s0,0,-dy), float4x4(0.131171703338623,0.114048518240452,-0.038576971739531,0.072207801043987,0.007118267007172,-0.063383631408215,-0.067630954086781,-0.045633748173714,0.092876620590687,-0.002363137435168,0.019372817128897,-0.013881673105061,0.059150401502848,0.171072483062744,0.072524785995483,-0.046404931694269));
res += mul(Get(s0,0,0), float4x4(0.012131499126554,-0.019425841048360,0.000969351385720,-0.063039243221283,0.093001000583172,-0.072534143924713,-0.156966432929039,0.128113508224487,0.061860874295235,-0.046642806380987,0.094434179365635,0.064924731850624,0.124018192291260,0.173426643013954,0.090735785663128,-0.110780552029610));
res += mul(Get(s0,0,dy), float4x4(-0.087620005011559,-0.016531024128199,-0.050578579306602,-0.043916627764702,0.023731997236609,-0.034252330660820,0.294123202562332,0.056788828223944,-0.128072142601013,0.100243449211121,-0.013155539520085,0.031193813309073,-0.039380725473166,-0.065980315208435,-0.111282899975777,-0.043573837727308));
res += mul(Get(s0,dx,-dy), float4x4(-0.003404912073165,0.046295020729303,-0.216728568077087,0.006209133658558,0.163080707192421,-0.081298626959324,-0.113512672483921,-0.273203253746033,-0.064389295876026,-0.136097103357315,-0.009160366840661,-0.091805964708328,-0.270776391029358,0.159965619444847,0.035754162818193,0.104548126459122));
res += mul(Get(s0,dx,0), float4x4(0.026170425117016,-0.138600006699562,0.011559963226318,0.081241279840469,-0.051751557737589,-0.116039201617241,-0.184287428855896,-0.002423223573714,0.139513060450554,0.020298425108194,-0.197003692388535,0.015739280730486,0.330229759216309,0.083110101521015,-0.097003549337387,-0.064858190715313));
res += mul(Get(s0,dx,dy), float4x4(-0.145851388573647,0.081996411085129,-0.093311399221420,0.055548381060362,-0.089207053184509,-0.077153004705906,-0.167483627796173,-0.045046295970678,-0.069487981498241,-0.012790836393833,-0.084583774209023,0.016280179843307,0.159605532884598,-0.018197074532509,0.301731288433075,0.092327758669853));
res += mul(Get(s1,-dx,-dy), float4x4(-0.167522579431534,0.019154988229275,0.060923181474209,-0.040281545370817,0.037015840411186,-0.167224571108818,-0.030997475609183,-0.141927167773247,-0.027171351015568,-0.076214782893658,-0.216313451528549,-0.035732366144657,-0.106796517968178,-0.128269955515862,0.091060042381287,0.011936902068555));
res += mul(Get(s1,-dx,0), float4x4(-0.197613224387169,-0.043080091476440,0.169436573982239,-0.248586624860764,0.014031628146768,-0.174441859126091,-0.070342265069485,-0.118666909635067,-0.056486606597900,-0.081942416727543,0.080226063728333,-0.091146387159824,0.010841629467905,-0.072820693254471,0.068343147635460,-0.010337180458009));
res += mul(Get(s1,-dx,dy), float4x4(-0.075435996055603,0.008257254026830,-0.072696126997471,-0.027742709964514,0.021026859059930,-0.115515828132629,-0.068717397749424,-0.206221237778664,-0.002863186877221,0.101559646427631,-0.166345044970512,-0.014811304397881,-0.094837591052055,0.033289011567831,-0.006757754366845,0.130682334303856));
res += mul(Get(s1,0,-dy), float4x4(0.020102970302105,0.158561050891876,-0.349868416786194,-0.184188693761826,-0.088638663291931,-0.091580212116241,0.000413108762586,0.030724192038178,-0.043172776699066,-0.041795156896114,0.018519241362810,-0.039356287568808,0.137669295072556,-0.199734181165695,-0.091267853975296,0.007826315239072));
res += mul(Get(s1,0,0), float4x4(-0.124876938760281,-0.026176102459431,-0.183134302496910,0.027118148282170,-0.045679286122322,-0.087629780173302,-0.286213099956512,-0.024469183757901,0.059423312544823,0.093106120824814,0.000453694898169,-0.033517844974995,0.055777929723263,-0.081453144550323,0.033381059765816,0.016222249716520));
res += mul(Get(s1,0,dy), float4x4(0.054974336177111,0.042309056967497,-0.084293223917484,-0.077284269034863,-0.178010120987892,-0.052285533398390,0.008339258842170,-0.252191036939621,0.020020134747028,-0.136921331286430,-0.003563331207260,0.088661432266235,-0.021608879789710,0.029886666685343,-0.166442990303040,0.106251426041126));
res += mul(Get(s1,dx,-dy), float4x4(-0.056237023323774,-0.211535930633545,-0.012381250038743,-0.001662025926635,0.002145208651200,-0.126301541924477,0.181674793362617,-0.297685652971268,0.059602860361338,-0.079691924154758,0.324181586503983,-0.139725059270859,-0.068628668785095,0.262228608131409,0.000717084622011,-0.196203231811523));
res += mul(Get(s1,dx,0), float4x4(-0.108464621007442,-0.088466078042984,0.382020890712738,-0.076389990746975,0.062268808484077,-0.199094057083130,-0.148825109004974,-0.096142321825027,0.072534970939159,-0.020416611805558,0.108811713755131,0.019225332885981,-0.117285765707493,0.094615116715431,0.144256666302681,-0.026363097131252));
res += mul(Get(s1,dx,dy), float4x4(0.068894006311893,-0.137730091810226,-0.332995027303696,-0.201095327734947,-0.343003273010254,-0.337836563587189,-0.206472769379616,-0.107148759067059,0.090397596359253,0.098560042679310,-0.069100096821785,-0.106868579983711,-0.157354012131691,0.093900687992573,-0.206660896539688,-0.096779718995094));
res += mul(Get(s2,-dx,-dy), float4x4(-0.158590078353882,0.006642716936767,-0.151032775640488,-0.008017368614674,0.082652658224106,-0.106144599616528,-0.075008004903793,-0.062749698758125,-0.028170939534903,-0.037838403135538,0.029478523880243,0.022710843011737,-0.159323230385780,-0.032734382897615,0.179807946085930,0.044668868184090));
res += mul(Get(s2,-dx,0), float4x4(-0.060655739158392,-0.116477705538273,-0.043680988252163,0.078592032194138,-0.120215132832527,-0.030759386718273,0.154084891080856,-0.002986348699778,-0.032083023339510,-0.063777543604374,-0.000408134335885,0.110934078693390,0.017072726041079,0.068715907633305,-0.170229375362396,0.078651577234268));
res += mul(Get(s2,-dx,dy), float4x4(-0.013074690476060,-0.160957142710686,-0.164574101567268,0.013230590149760,-0.130108520388603,-0.099280618131161,-0.013978228904307,-0.020302653312683,-0.067941263318062,-0.023036846891046,0.017955565825105,-0.028931591659784,-0.042758557945490,-0.033181760460138,-0.063718460500240,-0.094572491943836));
res += mul(Get(s2,0,-dy), float4x4(0.024991896003485,0.066871076822281,0.154085963964462,0.087981596589088,0.028309803456068,-0.071155734360218,-0.064887493848801,0.130287468433380,0.057622496038675,-0.032946877181530,0.134931981563568,-0.133117288351059,-0.012380462139845,0.057342883199453,0.112736187875271,-0.077458426356316));
res += mul(Get(s2,0,0), float4x4(0.018839374184608,0.117907255887985,0.016544908285141,-0.037494339048862,0.035616196691990,-0.007231657858938,0.095311112701893,-0.013255507685244,0.067153409123421,0.291144758462906,-0.062061127275229,0.000128238927573,0.074465610086918,-0.012057163752615,0.115773633122444,0.081978224217892));
res += mul(Get(s2,0,dy), float4x4(0.108252257108688,0.237254068255424,0.083327040076256,-0.087298415601254,0.016419192776084,-0.093250110745430,-0.209669664502144,-0.010523715056479,0.046660251915455,0.001649304409511,-0.064082980155945,-0.097226701676846,0.073424875736237,-0.091750934720039,-0.009996271692216,0.127194687724113));
res += mul(Get(s2,dx,-dy), float4x4(-0.018724370747805,-0.116180814802647,-0.103858999907970,-0.277496427297592,-0.041682928800583,-0.057714756578207,-0.135577812790871,-0.060220349580050,-0.010587484575808,0.022493759170175,0.099271312355995,-0.044720437377691,0.048832017928362,0.044355385005474,-0.118867300450802,-0.063070148229599));
res += mul(Get(s2,dx,0), float4x4(-0.003339603776112,-0.058035541325808,-0.036528412252665,0.061227504163980,-0.080141946673393,-0.059989940375090,0.097467035055161,-0.008482938632369,0.083927899599075,0.104943409562111,-0.218374624848366,-0.068493120372295,-0.022374700754881,-0.171952977776527,-0.256016045808792,-0.085694268345833));
res += mul(Get(s2,dx,dy), float4x4(0.207579091191292,-0.024562191218138,-0.059958491474390,-0.044376455247402,0.116452522575855,-0.201487451791763,-0.107842929661274,0.127768829464912,-0.030920941382647,-0.028116764500737,0.227731555700302,-0.138157218694687,-0.006189991254359,-0.038268141448498,-0.027112152427435,0.018318677321076));
res += mul(Get(s3,-dx,-dy), float4x4(-0.280537754297256,-0.065084233880043,-0.040054444223642,0.005303751211613,-0.004153358750045,-0.011476189829409,-0.041515525430441,0.001365886651911,-0.149328693747520,-0.039245959371328,0.033215869218111,-0.009514633566141,0.052607599645853,-0.131392806768417,0.122275903820992,0.008736809715629));
res += mul(Get(s3,-dx,0), float4x4(0.036063808947802,0.118649609386921,-0.038474798202515,-0.047133907675743,0.004889247007668,0.081067062914371,0.232186868786812,-0.019015993922949,-0.141292199492455,0.038458626717329,0.203426748514175,-0.186600819230080,-0.087076671421528,-0.101311057806015,0.047250606119633,-0.027368161827326));
res += mul(Get(s3,-dx,dy), float4x4(-0.007010579574853,0.069295458495617,-0.108129844069481,0.045855779200792,-0.237520441412926,0.068545199930668,-0.169036716222763,-0.050364594906569,-0.158681809902191,0.038991674780846,-0.020677473396063,-0.013637240044773,0.024944227188826,-0.110214218497276,-0.060977034270763,-0.053606089204550));
res += mul(Get(s3,0,-dy), float4x4(0.057470306754112,-0.089321799576283,-0.010174396447837,-0.035625565797091,0.128079757094383,0.037605445832014,-0.172226503491402,0.092782340943813,-0.135303363204002,-0.119842469692230,-0.119565472006798,0.000150750129251,0.195381417870522,-0.078780978918076,0.003413770813495,0.104701437056065));
res += mul(Get(s3,0,0), float4x4(0.133808910846710,-0.072103038430214,0.006054944824427,-0.121698968112469,-0.006844130810350,-0.004462901502848,0.250584363937378,0.085116535425186,0.018849002197385,0.020896550267935,-0.054592467844486,0.045510035008192,-0.111828483641148,0.058931492269039,-0.087731853127480,-0.009623835794628));
res += mul(Get(s3,0,dy), float4x4(0.103332191705704,0.081119723618031,-0.120499715209007,0.064978308975697,0.011985281482339,0.047207355499268,-0.011891284026206,-0.052208505570889,0.009753738529980,-0.090586416423321,-0.163066908717155,-0.044552918523550,-0.002185045974329,0.051232874393463,-0.271858870983124,-0.084566287696362));
res += mul(Get(s3,dx,-dy), float4x4(0.152904763817787,0.144746452569962,0.004886444192380,-0.037210535258055,0.149406462907791,0.130847692489624,-0.050710313022137,0.100975245237350,0.140207231044769,-0.015650263056159,0.001493333140388,0.042861748486757,0.071035444736481,0.030302278697491,-0.003893889253959,0.142758086323738));
res += mul(Get(s3,dx,0), float4x4(-0.117207206785679,0.075442038476467,0.115464851260185,0.012804613448679,0.038171399384737,0.097000882029533,-0.016917448490858,0.046884119510651,0.020267093554139,0.021583514288068,0.211297094821930,0.158393174409866,-0.085098199546337,-0.135555058717728,-0.084983110427856,0.035644829273224));
res += mul(Get(s3,dx,dy), float4x4(-0.167421981692314,0.038668129593134,-0.060855809599161,-0.126663014292717,-0.046008042991161,0.051436696201563,-0.032165363430977,-0.002095456467941,0.056380636990070,-0.054023779928684,0.020419796928763,0.017190974205732,-0.015702575445175,0.166879266500473,-0.242627173662186,0.009428817778826));
return max(float4(0,0,0,0), res);
}
