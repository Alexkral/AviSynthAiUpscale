sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.087234377861023,-0.163134634494781,0.166543453931808,-0.048043493181467,0.057865992188454,0.191832572221756,-0.066869206726551,0.190621733665466,-0.013347333297133,-0.073630519211292,-0.235377773642540,-0.018546147271991,-0.036468841135502,-0.034573089331388,0.035569131374359,0.135537087917328));
res += mul(Get(s0,-dx,0), float4x4(0.054633256047964,-0.105132907629013,0.123268626630306,-0.053310964256525,0.028853740543127,0.220219284296036,-0.016125718131661,-0.026315661147237,0.005324134603143,0.142075166106224,-0.065697960555553,-0.171219781041145,-0.047342840582132,0.115020520985126,-0.096693344414234,-0.071367852389812));
res += mul(Get(s0,-dx,dy), float4x4(0.028502216562629,-0.001247104490176,-0.113753713667393,-0.096652284264565,-0.053954087197781,-0.029790025204420,-0.100348494946957,-0.014156158082187,0.008399581536651,0.124484360218048,-0.027479588985443,0.115245856344700,-0.158188015222549,0.062470372766256,-0.246301800012589,-0.216241702437401));
res += mul(Get(s0,0,-dy), float4x4(0.086393482983112,0.148925855755806,-0.082197107374668,-0.095162890851498,-0.180273666977882,0.111973688006401,-0.146551251411438,0.148615673184395,0.029747726395726,0.039114125072956,-0.037313554435968,-0.197880819439888,0.101304583251476,-0.045976310968399,-0.142328605055809,0.110685378313065));
res += mul(Get(s0,0,0), float4x4(0.089490905404091,-0.060664646327496,0.010925360955298,-0.046376015990973,-0.173426195979118,-0.093662001192570,0.246288731694221,-0.109560139477253,0.121033400297165,-0.027790389955044,0.011329590342939,-0.134989529848099,-0.142838358879089,0.075911864638329,-0.029085742309690,0.144215777516365));
res += mul(Get(s0,0,dy), float4x4(-0.131568014621735,0.067611798644066,-0.172037109732628,0.090085782110691,0.005387395154685,0.095938585698605,-0.028591228649020,-0.163542464375496,0.005147295072675,-0.173386290669441,0.001369588659145,0.089904777705669,-0.077321998775005,0.020836830139160,-0.068280287086964,0.054285008460283));
res += mul(Get(s0,dx,-dy), float4x4(-0.095678299665451,0.036581650376320,0.110924690961838,-0.002174952998757,-0.013909471221268,-0.112917579710484,-0.057016178965569,0.073535174131393,-0.032428298145533,0.026133166626096,-0.109832942485809,0.023750588297844,-0.054378181695938,-0.011352094821632,-0.119056053459644,0.123870112001896));
res += mul(Get(s0,dx,0), float4x4(-0.038748223334551,0.037383362650871,0.119190394878387,0.104879207909107,-0.094325929880142,-0.058536618947983,-0.020357759669423,0.091491818428040,-0.013839121907949,0.027639249339700,-0.060300391167402,0.204636663198471,0.049432955682278,0.053439822047949,-0.030724834650755,0.190594404935837));
res += mul(Get(s0,dx,dy), float4x4(-0.120446987450123,0.020593550056219,-0.033332813531160,0.077886439859867,0.021785410121083,0.028501002117991,-0.096806734800339,-0.081697888672352,0.092784985899925,0.129632011055946,-0.101229384541512,0.072959959506989,0.063463702797890,0.026505567133427,-0.147404477000237,-0.185973793268204));
res += mul(Get(s1,-dx,-dy), float4x4(-0.100546769797802,-0.086025655269623,-0.115246213972569,-0.028500158339739,-0.046128820627928,-0.027244750410318,-0.147439673542976,-0.126475840806961,0.021525207906961,-0.165023654699326,0.111535139381886,-0.141295224428177,-0.199530467391014,0.203264310956001,-0.036823481321335,0.069866590201855));
res += mul(Get(s1,-dx,0), float4x4(-0.015463134273887,-0.128486335277557,-0.192575603723526,-0.131721168756485,0.225703895092010,0.012590839527547,-0.237279817461967,0.077425934374332,-0.092754080891609,0.037564661353827,0.204364418983459,-0.010845646262169,-0.053542159497738,-0.091005235910416,0.053498417139053,-0.162922292947769));
res += mul(Get(s1,-dx,dy), float4x4(0.156450361013412,-0.160795882344246,-0.056254375725985,0.278769522905350,0.070759885013103,-0.019172878935933,-0.048433367162943,0.334011197090149,-0.040504705160856,-0.076246552169323,0.093608535826206,0.056784767657518,0.054312411695719,0.041406728327274,0.042283926159143,-0.093613885343075));
res += mul(Get(s1,0,-dy), float4x4(-0.062035772949457,0.044528197497129,0.089176505804062,-0.020932011306286,-0.074907764792442,0.172050923109055,0.146517157554626,-0.057269051671028,-0.012798236683011,-0.109885424375534,0.085108749568462,-0.120867311954498,0.254911482334137,0.173076003789902,0.075840793550014,0.128923729062080));
res += mul(Get(s1,0,0), float4x4(0.117729410529137,0.171162456274033,0.043753486126661,-0.021044153720140,0.133655115962029,-0.003434084123001,0.063175305724144,-0.102698959410191,0.137871816754341,0.030077457427979,-0.096298605203629,0.140752226114273,0.094780288636684,-0.071807645261288,0.079694837331772,-0.087994217872620));
res += mul(Get(s1,0,dy), float4x4(-0.092618696391582,0.001208069967106,-0.137784495949745,-0.084223367273808,0.201031908392906,0.108793526887894,-0.014336088672280,0.071070209145546,-0.044854588806629,-0.166689813137054,-0.196792334318161,0.121580302715302,0.004167316481471,0.026942867785692,-0.117354653775692,-0.066253900527954));
res += mul(Get(s1,dx,-dy), float4x4(0.037649527192116,0.039388064295053,-0.041587069630623,0.062966018915176,-0.138805046677589,-0.162165999412537,0.087429426610470,0.079415969550610,0.009020523168147,-0.223381400108337,-0.132186755537987,0.187510699033737,-0.111478440463543,0.189356431365013,-0.027428053319454,0.041738767176867));
res += mul(Get(s1,dx,0), float4x4(0.064272150397301,-0.099619783461094,0.005284938029945,0.010508104227483,0.187669038772583,-0.019942995160818,-0.037509515881538,0.041778501123190,-0.098068810999393,0.082854494452477,0.005348328966647,-0.250837266445160,0.002992324298248,0.111567966639996,0.101176604628563,0.238215982913971));
res += mul(Get(s1,dx,dy), float4x4(0.223944157361984,0.041746687144041,-0.113400243222713,-0.040520168840885,0.061506185680628,0.037799410521984,0.163720428943634,-0.172501057386398,0.076239079236984,0.071532383561134,-0.186451196670532,-0.064187318086624,-0.008433729410172,-0.067239202558994,-0.189143747091293,-0.066183447837830));
res += mul(Get(s2,-dx,-dy), float4x4(-0.099558010697365,0.068100214004517,0.106169253587723,-0.208875820040703,0.009173099882901,0.007796001620591,-0.115857988595963,-0.155607670545578,-0.035782545804977,-0.062737002968788,-0.004915180150419,-0.089010141789913,-0.102673649787903,0.150267794728279,-0.061446625739336,0.163817316293716));
res += mul(Get(s2,-dx,0), float4x4(-0.036064073443413,-0.012880239635706,-0.169188261032104,0.017387742176652,0.195082202553749,-0.018116239458323,-0.028722519055009,-0.041155815124512,0.109067291021347,0.138328433036804,0.092327997088432,-0.002710863715038,-0.034064013510942,-0.078298196196556,0.128510728478432,-0.127016544342041));
res += mul(Get(s2,-dx,dy), float4x4(0.062889799475670,-0.045360241085291,-0.163486197590828,0.143522948026657,0.030729727819562,0.097771950066090,-0.186502248048782,0.150248140096664,0.214328140020370,0.022329859435558,-0.052095457911491,0.145797848701477,-0.232204079627991,0.027304604649544,0.087109491229057,0.139775857329369));
res += mul(Get(s2,0,-dy), float4x4(-0.046881988644600,-0.025202605873346,0.240624576807022,-0.020891401916742,-0.157248169183731,0.291424512863159,-0.005433727987111,-0.069646380841732,0.075204111635685,0.040051784366369,-0.138166174292564,-0.048218768090010,-0.094401441514492,-0.002036344725639,0.093369342386723,0.070375517010689));
res += mul(Get(s2,0,0), float4x4(0.086863823235035,-0.108570165932178,0.090197369456291,-0.109544962644577,0.087366983294487,0.084723368287086,-0.041288707405329,0.078751571476460,0.020871680229902,-0.129217505455017,-0.123084120452404,0.181177467107773,0.113414034247398,-0.144353136420250,0.048776201903820,-0.088085740804672));
res += mul(Get(s2,0,dy), float4x4(0.035705238580704,-0.003294750815257,-0.015707282349467,0.039636168628931,-0.034263517707586,-0.005866484716535,0.115288779139519,0.043498463928699,0.174718156456947,0.047627106308937,0.059790916740894,0.092002600431442,0.062088590115309,-0.063761919736862,0.033020440489054,0.056724574416876));
res += mul(Get(s2,dx,-dy), float4x4(0.071967840194702,-0.100661098957062,-0.037234347313643,0.051203791052103,-0.148985490202904,0.002681398764253,-0.013825362548232,0.017173932865262,-0.074133709073067,0.042411595582962,-0.012550273910165,0.088748760521412,0.109599187970161,0.015767358243465,0.038008589297533,-0.127241313457489));
res += mul(Get(s2,dx,0), float4x4(-0.051530413329601,-0.105157390236855,0.102405078709126,0.091360218822956,-0.025608759373426,-0.303387820720673,-0.004657460376620,-0.071359708905220,-0.086106814444065,0.070941805839539,0.088470146059990,0.091073803603649,0.113319382071495,-0.007200935389847,0.239802837371826,0.163479119539261));
res += mul(Get(s2,dx,dy), float4x4(-0.111696399748325,0.027837110683322,-0.180462688207626,-0.055204868316650,-0.115551374852657,0.020943721756339,-0.107630625367165,0.049228698015213,-0.004574109334499,0.166722461581230,-0.121156610548496,-0.112295456230640,0.012989699840546,0.162949800491333,0.190386012196541,-0.168935477733612));
res += mul(Get(s3,-dx,-dy), float4x4(0.003067880636081,-0.046350244432688,0.011842017993331,0.038202106952667,0.087052933871746,0.000243574118940,0.005204244051129,0.001803581835702,0.048929281532764,-0.027145359665155,0.001463891821913,0.067072175443172,0.046765271574259,-0.002255917061120,-0.223091259598732,-0.059285156428814));
res += mul(Get(s3,-dx,0), float4x4(0.146917894482613,-0.031339384615421,0.075002402067184,-0.174863159656525,-0.099036164581776,-0.054752789437771,-0.154939189553261,-0.042536880820990,-0.108429722487926,0.045782584697008,-0.160802453756332,-0.188261240720749,-0.100999027490616,-0.177328974008560,0.228930845856667,0.001798934303224));
res += mul(Get(s3,-dx,dy), float4x4(0.046707976609468,0.336605042219162,-0.001760102459230,-0.147433653473854,0.073402263224125,0.047799784690142,0.029566964134574,0.070891290903091,0.004830984864384,-0.071003615856171,-0.138554275035858,-0.041666589677334,0.123755216598511,-0.080807045102119,0.019612660631537,0.208827331662178));
res += mul(Get(s3,0,-dy), float4x4(-0.007590402849019,-0.144403368234634,-0.113408893346786,0.090379677712917,-0.159111782908440,0.009607271291316,0.072456315159798,0.033286027610302,0.077119737863541,-0.061191391199827,-0.039605945348740,0.064084306359291,-0.034567434340715,-0.090140454471111,0.059273611754179,0.019318304955959));
res += mul(Get(s3,0,0), float4x4(-0.027307378128171,0.150085300207138,-0.193784981966019,0.131364479660988,-0.102551564574242,0.125563874840736,-0.042055211961269,0.057169690728188,-0.032847128808498,-0.194872990250587,-0.181056663393974,0.016017753630877,-0.123810030519962,0.050058480352163,0.022105613723397,0.099140219390392));
res += mul(Get(s3,0,dy), float4x4(0.099506005644798,-0.109804645180702,-0.030114121735096,0.085443817079067,-0.200904682278633,-0.228457495570183,-0.019259210675955,0.005778057966381,0.034696381539106,0.196327343583107,-0.076518975198269,-0.106995470821857,-0.046832915395498,0.047875221818686,0.074239984154701,0.047310899943113));
res += mul(Get(s3,dx,-dy), float4x4(-0.166035234928131,0.072075679898262,-0.013709646649659,-0.020507747307420,-0.120732761919498,-0.036035921424627,-0.059097312390804,-0.165920048952103,-0.016440166160464,-0.185499563813210,-0.112498067319393,0.158517569303513,0.003162664594129,-0.077637329697609,-0.076556220650673,-0.091435804963112));
res += mul(Get(s3,dx,0), float4x4(0.226049229502678,-0.087618805468082,-0.102100118994713,0.126817226409912,-0.015838321298361,0.040423009544611,0.097835801541805,-0.066828258335590,-0.148475095629692,0.101280897855759,-0.126024261116982,0.056266844272614,-0.145964056253433,0.131154686212540,0.194507241249084,-0.004564288537949));
res += mul(Get(s3,dx,dy), float4x4(-0.032947923988104,0.012927032075822,-0.164994552731514,-0.066795080900192,0.100750856101513,0.091508880257607,-0.112147711217403,-0.050779763609171,-0.032467748969793,0.154637739062309,0.134976893663406,0.088093131780624,-0.040046334266663,0.038981087505817,-0.061041474342346,-0.134488314390182));
return max(float4(0,0,0,0), res);
}
