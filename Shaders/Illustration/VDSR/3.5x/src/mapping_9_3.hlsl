sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.068971537053585,-0.054881487041712,0.077200755476952,0.108219839632511,0.070511676371098,0.135544627904892,-0.001147372648120,-0.023964444175363,0.026194015517831,-0.241061612963676,-0.058369953185320,-0.159554079174995,0.157428175210953,-0.045884042978287,-0.004481702577323,-0.111785747110844));
res += mul(Get(s0,-dx,0), float4x4(-0.001800496247597,-0.039735008031130,-0.012661350890994,-0.022336168214679,0.167529255151749,-0.062963381409645,-0.073356509208679,-0.038829371333122,0.150603190064430,-0.045296479016542,0.158255621790886,-0.023324640467763,0.032722752541304,0.112844213843346,-0.015821389853954,-0.034204296767712));
res += mul(Get(s0,-dx,dy), float4x4(0.113746657967567,-0.119537681341171,-0.065513044595718,-0.016791988164186,0.071958109736443,-0.002512082224712,-0.209913343191147,-0.069346807897091,0.392536491155624,-0.104027979075909,0.029633885249496,-0.082114189863205,-0.052946005016565,-0.013068255968392,0.055839706212282,-0.113103978335857));
res += mul(Get(s0,0,-dy), float4x4(0.014220574870706,-0.174556553363800,-0.094491869211197,-0.132229208946228,0.130396202206612,0.070098824799061,-0.089648008346558,-0.078111983835697,-0.218996107578278,0.034796394407749,-0.135598465800285,0.147913768887520,0.012624585069716,-0.052989441901445,-0.020972559228539,-0.032291222363710));
res += mul(Get(s0,0,0), float4x4(0.180492341518402,-0.070829704403877,-0.093502737581730,-0.104361884295940,-0.216999560594559,-0.003501510247588,0.102036379277706,0.158141002058983,-0.025478689000010,0.080748759210110,-0.200349882245064,0.011848075315356,-0.014837480150163,-0.098191708326340,-0.086867704987526,-0.036328922957182));
res += mul(Get(s0,0,dy), float4x4(-0.001338489004411,-0.101612403988838,-0.130631878972054,0.044242117553949,-0.039129305630922,0.138709336519241,0.134812891483307,-0.037896003574133,0.085056751966476,-0.034229923039675,-0.101699776947498,-0.047361440956593,0.063830152153969,-0.258545249700546,0.132216975092888,-0.106091447174549));
res += mul(Get(s0,dx,-dy), float4x4(-0.028804825618863,0.032556824386120,-0.097113803029060,-0.086311466991901,0.258617669343948,0.098861001431942,-0.163721680641174,0.066772617399693,-0.095916777849197,0.079050168395042,-0.057237226516008,-0.055735059082508,0.000378256110707,0.037281140685081,-0.030582705512643,-0.203722670674324));
res += mul(Get(s0,dx,0), float4x4(-0.200131133198738,0.248108074069023,0.078800246119499,-0.122299112379551,0.168658107519150,0.015440305694938,0.106207929551601,0.171648159623146,-0.223138049244881,0.234756425023079,0.059086363762617,-0.229164600372314,-0.018091976642609,0.373631477355957,-0.024051399901509,-0.064155593514442));
res += mul(Get(s0,dx,dy), float4x4(-0.029215848073363,-0.079618223011494,0.139090403914452,0.004877624101937,-0.120507381856441,-0.132303997874260,0.058047484606504,-0.238674715161324,0.104769326746464,-0.025899233296514,-0.126873418688774,0.008489699102938,0.126831427216530,0.104068577289581,0.105342023074627,0.036103505641222));
res += mul(Get(s1,-dx,-dy), float4x4(0.073219738900661,0.138593375682831,0.031531628221273,0.128913745284081,-0.006339889485389,0.004472069907933,-0.048977721482515,0.036549843847752,0.022699728608131,0.196038439869881,-0.047105107456446,-0.108890183269978,0.022547470405698,0.109608307480812,0.096658028662205,0.077870406210423));
res += mul(Get(s1,-dx,0), float4x4(0.017145203426480,0.047856297343969,-0.308548867702484,0.082650691270828,0.182873368263245,-0.069652482867241,0.028927333652973,0.065495029091835,-0.139921963214874,0.004845944233239,-0.239165991544724,0.083294302225113,-0.270268380641937,0.143107235431671,-0.227115556597710,0.032077185809612));
res += mul(Get(s1,-dx,dy), float4x4(0.111455127596855,-0.034980583935976,-0.043895430862904,-0.179820403456688,-0.115405224263668,-0.224081426858902,0.010200150310993,0.209315046668053,0.132130071520805,-0.123447388410568,-0.131384849548340,-0.117777489125729,0.056930381804705,-0.014469417743385,-0.045391187071800,-0.108567148447037));
res += mul(Get(s1,0,-dy), float4x4(0.056186072528362,0.155976831912994,-0.018313197419047,0.210298761725426,0.090729869902134,0.117326252162457,-0.045562397688627,-0.095951683819294,-0.005408944096416,-0.165221258997917,0.152683451771736,0.021321790292859,0.045772802084684,-0.013177759014070,-0.219274416565895,-0.027631741017103));
res += mul(Get(s1,0,0), float4x4(0.136559948325157,0.054050449281931,-0.077621057629585,-0.116128534078598,0.078675039112568,0.097851864993572,-0.063055165112019,-0.031149517744780,-0.007538275793195,-0.014995125122368,-0.037700790911913,0.020282652229071,-0.215361192822456,-0.093097351491451,-0.056958775967360,0.133697524666786));
res += mul(Get(s1,0,dy), float4x4(-0.026224110275507,0.038823105394840,-0.021925261244178,0.036372251808643,-0.086628898978233,0.045081876218319,0.070157684385777,-0.076364025473595,0.265066862106323,-0.131548598408699,-0.084794186055660,0.048031609505415,-0.029556514695287,-0.098306164145470,-0.095167025923729,0.066154122352600));
res += mul(Get(s1,dx,-dy), float4x4(0.023098310455680,0.015181268565357,-0.082460969686508,0.082353107631207,0.022819086909294,0.127795517444611,-0.080540969967842,0.021470429375768,0.036533329635859,0.190008074045181,-0.132750257849693,0.095358073711395,0.273314774036407,-0.020483804866672,0.008464039303362,0.139583215117455));
res += mul(Get(s1,dx,0), float4x4(0.141122788190842,-0.033282596617937,-0.100445546209812,-0.124369077384472,-0.102599322795868,0.219542145729065,-0.119096927344799,-0.110094815492630,-0.146244734525681,-0.036319542676210,0.051529891788960,0.075596876442432,0.206583842635155,0.124269016087055,-0.026308590546250,-0.021086681634188));
res += mul(Get(s1,dx,dy), float4x4(0.024234827607870,-0.153896272182465,0.019327618181705,-0.004817017819732,-0.091156639158726,0.053885348141193,0.124387674033642,0.314281523227692,0.070633195340633,-0.074877388775349,-0.100535556674004,-0.174582809209824,-0.178214937448502,0.121950261294842,0.209992051124573,0.017730424180627));
res += mul(Get(s2,-dx,-dy), float4x4(-0.015507852658629,0.094828158617020,-0.092705234885216,0.095705777406693,0.040401816368103,-0.079580225050449,0.203538089990616,0.046971153467894,-0.014558286406100,0.057634655386209,0.073082163929939,0.058637883514166,-0.023598227649927,-0.172991603612900,-0.008465107530355,-0.041920028626919));
res += mul(Get(s2,-dx,0), float4x4(0.144136458635330,0.172940164804459,-0.183669015765190,0.144382685422897,-0.073775060474873,-0.019429296255112,-0.032378129661083,0.041659589856863,-0.188880950212479,-0.242891937494278,-0.203357785940170,-0.185500681400299,0.043092031031847,0.096936561167240,0.066995538771152,0.077160298824310));
res += mul(Get(s2,-dx,dy), float4x4(0.141267076134682,-0.001003459794447,0.029296431690454,0.030567510053515,-0.003425406059250,0.067717194557190,0.030472736805677,-0.144890785217285,-0.078186690807343,0.000921731989365,0.314549565315247,-0.030905773863196,-0.058139339089394,-0.095481000840664,-0.070192918181419,0.120597004890442));
res += mul(Get(s2,0,-dy), float4x4(0.151019275188446,-0.003571556648239,0.111585550010204,-0.096915483474731,0.136996462941170,0.069527812302113,-0.060618583112955,-0.020244657993317,-0.109518133103848,0.029220908880234,-0.091584123671055,0.142473191022873,0.094477951526642,0.126239135861397,0.085547141730785,0.079276561737061));
res += mul(Get(s2,0,0), float4x4(-0.021284839138389,0.132000073790550,0.030710665509105,0.117505975067616,0.098615519702435,0.000180548144272,-0.081208214163780,0.097610987722874,-0.025529975071549,-0.046376198530197,0.030440606176853,0.020622245967388,-0.063929051160812,0.033473227173090,0.085080556571484,-0.146873623132706));
res += mul(Get(s2,0,dy), float4x4(-0.020278356969357,-0.057559765875340,-0.041771706193686,-0.054603364318609,-0.079951591789722,-0.035703103989363,0.044544853270054,-0.032268855720758,0.046246144920588,0.100629307329655,-0.138175949454308,-0.046163767576218,0.077281631529331,-0.146930322051048,0.102398276329041,-0.136651471257210));
res += mul(Get(s2,dx,-dy), float4x4(-0.095746599137783,-0.018696751445532,-0.136763677000999,-0.102146998047829,-0.017880717292428,0.107976078987122,0.151287049055099,-0.091907180845737,-0.047797068953514,-0.040295608341694,-0.040056090801954,-0.007800024002790,-0.009733304381371,-0.146825775504112,0.158719733357430,-0.192353680729866));
res += mul(Get(s2,dx,0), float4x4(-0.004297680687159,-0.091287143528461,0.040626954287291,0.001694999518804,-0.062254495918751,0.027529880404472,-0.186858147382736,0.030982637777925,-0.079595342278481,-0.079234950244427,-0.094659656286240,0.081297934055328,0.002420202828944,0.145551159977913,-0.134990915656090,-0.019595459103584));
res += mul(Get(s2,dx,dy), float4x4(0.204016402363777,-0.052075572311878,-0.029627082869411,0.187703534960747,-0.228374242782593,-0.082601137459278,-0.190634459257126,0.183163389563560,-0.055303487926722,0.073589861392975,0.073803089559078,0.365073591470718,0.185243248939514,0.028450392186642,0.014507201500237,0.053378146141768));
res += mul(Get(s3,-dx,-dy), float4x4(-0.142368048429489,0.013297028839588,0.032881423830986,0.018304314464331,0.027572657912970,0.007716869935393,0.068044289946556,0.046420857310295,-0.082521252334118,0.113333635032177,-0.029307449236512,-0.015844628214836,0.007168251555413,0.101343579590321,0.041099797934294,0.011036554351449));
res += mul(Get(s3,-dx,0), float4x4(-0.266012549400330,-0.147684469819069,0.029017396271229,0.120388947427273,0.045709840953350,-0.041853487491608,0.088118121027946,0.171295404434204,-0.090339764952660,0.144575864076614,-0.030072672292590,0.104760535061359,0.101571790874004,-0.105669274926186,0.014098665677011,0.058294191956520));
res += mul(Get(s3,-dx,dy), float4x4(0.003968769218773,0.026224611327052,-0.058055777102709,0.004361276980489,-0.024332989007235,0.306943506002426,0.081892393529415,-0.092980317771435,-0.071036107838154,0.028797110542655,-0.016224719583988,-0.147163197398186,0.068614654242992,-0.077442444860935,-0.030103662982583,-0.024880869314075));
res += mul(Get(s3,0,-dy), float4x4(-0.008708694018424,-0.164388731122017,0.185445636510849,0.114786677062511,0.203894525766373,0.086710639297962,0.071390882134438,0.327368736267090,-0.029702510684729,-0.208832904696465,0.260155439376831,-0.081174746155739,-0.214661017060280,0.096842706203461,-0.171557411551476,-0.031212495639920));
res += mul(Get(s3,0,0), float4x4(-0.037598054856062,-0.008296925574541,0.062392391264439,-0.004561749286950,0.063025869429111,0.145180881023407,-0.011925615370274,-0.045212354511023,0.050956867635250,0.098739787936211,0.045098222792149,0.045362506061792,0.004435208626091,0.025973623618484,0.066039197146893,0.043845567852259));
res += mul(Get(s3,0,dy), float4x4(0.039697598665953,0.199589341878891,-0.068433023989201,0.010726979002357,-0.204936921596527,0.123008243739605,0.093057699501514,-0.084719426929951,-0.090504221618176,0.000520001805853,0.061780929565430,0.070682056248188,-0.000921878148802,0.127191662788391,-0.019474366679788,0.247190386056900));
res += mul(Get(s3,dx,-dy), float4x4(0.060029763728380,0.128562703728676,-0.040204342454672,0.138149112462997,-0.093763522803783,0.014082044363022,-0.243062376976013,-0.073784433305264,-0.105377517640591,-0.086501538753510,0.057173646986485,-0.082511819899082,-0.093188337981701,0.079305186867714,-0.001419933163561,-0.170547977089882));
res += mul(Get(s3,dx,0), float4x4(0.030348125845194,-0.161055684089661,0.036007836461067,0.022242175415158,-0.006871793884784,-0.058223851025105,-0.065700531005859,-0.164905160665512,0.017475344240665,0.116879351437092,-0.019572004675865,-0.015519358217716,0.173627749085426,0.087740637362003,-0.020191084593534,0.121928162872791));
res += mul(Get(s3,dx,dy), float4x4(0.125919535756111,0.005299312528223,0.058204025030136,0.087961919605732,-0.085705615580082,-0.016357002779841,-0.113328330218792,-0.069299973547459,0.087187595665455,0.065367817878723,0.115264646708965,0.121250785887241,0.242230862379074,-0.250329047441483,-0.019990799948573,0.022157164290547));
return max(float4(0,0,0,0), res);
}
