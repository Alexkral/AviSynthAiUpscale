sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.058535799384117,0.149575442075729,-0.116064779460430,-0.149997681379318,0.216632977128029,-0.090975075960159,0.294792979955673,-0.031347323209047,-0.105870418250561,-0.124529585242271,0.255724310874939,0.005395050626248,0.122956410050392,0.144884184002876,-0.199380531907082,-0.153532028198242));
res += mul(Get(s0,-dx,0), float4x4(-0.117140345275402,0.030869714915752,-0.131507709622383,-0.191134363412857,0.240476131439209,-0.091579273343086,-0.057409230619669,0.110163658857346,0.074332021176815,0.017976278439164,0.076582379639149,0.015093445777893,0.113407216966152,-0.171598538756371,0.142835587263107,-0.004007917828858));
res += mul(Get(s0,-dx,dy), float4x4(-0.164585337042809,-0.069001182913780,-0.151963159441948,-0.174091398715973,0.083830825984478,-0.031503230333328,0.151969239115715,0.217176139354706,-0.038226369768381,0.219746276736259,-0.038995899260044,-0.050978437066078,0.122324429452419,0.001195735530928,-0.021312167868018,0.086033776402473));
res += mul(Get(s0,0,-dy), float4x4(-0.184630185365677,0.181104272603989,-0.115907862782478,-0.222607746720314,0.007643196266145,0.059288334101439,-0.036772653460503,0.224374637007713,-0.032916359603405,-0.068184316158295,0.101589523255825,-0.017659967765212,-0.094877555966377,0.132143229246140,-0.084810532629490,-0.134676083922386));
res += mul(Get(s0,0,0), float4x4(-0.077298238873482,-0.045314658433199,-0.104201339185238,-0.094509966671467,0.137117728590965,-0.014145657420158,0.199317261576653,0.122139915823936,0.083966627717018,0.011427597142756,-0.030847771093249,-0.074010007083416,0.054934427142143,-0.189015388488770,-0.044417880475521,0.052279710769653));
res += mul(Get(s0,0,dy), float4x4(-0.062563501298428,-0.087695151567459,-0.062509648501873,-0.063327029347420,-0.064918316900730,-0.115442253649235,0.198876336216927,-0.166838437318802,-0.062531284987926,-0.119125477969646,-0.114034697413445,-0.006948138121516,0.078997679054737,-0.043827518820763,-0.022797925397754,-0.038075100630522));
res += mul(Get(s0,dx,-dy), float4x4(-0.162310808897018,0.032834053039551,-0.126108452677727,-0.166041254997253,-0.083232149481773,0.090575776994228,0.004978103563190,0.162261605262756,0.064617596566677,0.010387860238552,-0.004882568493485,0.026817455887794,-0.130625963211060,0.503756463527679,-0.040805354714394,-0.171353369951248));
res += mul(Get(s0,dx,0), float4x4(-0.135811269283295,-0.070434123277664,-0.071618244051933,-0.047373648732901,-0.006504138000309,0.027688214555383,0.004224497824907,0.035785675048828,-0.002983043435961,-0.057897966355085,-0.059496276080608,0.137362092733383,-0.073087960481644,-0.066392645239830,0.167153313755989,0.106649748980999));
res += mul(Get(s0,dx,dy), float4x4(-0.192714035511017,-0.036307308822870,-0.214974045753479,0.059258852154016,-0.146668955683708,-0.108913280069828,-0.154744505882263,0.029264422133565,-0.102012321352959,0.047844603657722,-0.053188569843769,0.085416868329048,-0.001641653245315,0.029300909489393,0.033439353108406,0.003965487703681));
res += mul(Get(s1,-dx,-dy), float4x4(-0.045638196170330,-0.153505399823189,0.231328293681145,0.153673693537712,-0.070786207914352,-0.010057907551527,0.069907195866108,0.382513254880905,-0.073882207274437,0.039894405752420,-0.250127494335175,-0.136406391859055,-0.023580433800817,0.011509079486132,-0.151133880019188,0.125027224421501));
res += mul(Get(s1,-dx,0), float4x4(0.356108069419861,0.211938276886940,-0.075674816966057,0.060059789568186,0.191347137093544,-0.077479749917984,0.048788290470839,0.040304362773895,-0.091938547790051,-0.032845512032509,-0.015007160604000,-0.063969545066357,-0.042364932596684,-0.072699293494225,-0.017243966460228,0.011805906891823));
res += mul(Get(s1,-dx,dy), float4x4(-0.013117510825396,-0.071176737546921,-0.221013739705086,-0.020582353696227,-0.015443833544850,-0.042968254536390,0.113385744392872,-0.042033929377794,-0.116983272135258,0.028595505282283,-0.123676203191280,-0.031475912779570,-0.120157353579998,-0.028366375714540,0.446955412626266,-0.198783755302429));
res += mul(Get(s1,0,-dy), float4x4(-0.124282985925674,-0.111272990703583,0.098309442400932,0.096199460327625,-0.099527150392532,-0.061062816530466,0.093463242053986,0.485590368509293,-0.041447583585978,-0.030631678178906,-0.049954365938902,-0.191958248615265,0.026918565854430,0.028720408678055,-0.015249529853463,-0.134558796882629));
res += mul(Get(s1,0,0), float4x4(-0.009553984738886,0.260811746120453,-0.155328258872032,-0.103595189750195,0.086080394685268,-0.046137847006321,0.162303701043129,-0.192354038357735,-0.003302658442408,-0.030662612989545,0.323891878128052,0.013587260618806,-0.058506678789854,-0.025102889165282,0.170653760433197,-0.132182195782661));
res += mul(Get(s1,0,dy), float4x4(0.024611275643110,-0.034367173910141,-0.303713738918304,-0.228568822145462,0.106464631855488,-0.054001096636057,-0.111933596432209,-0.079524710774422,-0.057360887527466,-0.067066662013531,-0.076750263571739,0.147005945444107,-0.013384378515184,-0.059445366263390,0.148167699575424,-0.111497864127159));
res += mul(Get(s1,dx,-dy), float4x4(-0.074551805853844,-0.126640632748604,0.185226663947105,0.138148903846741,-0.246441140770912,0.195058807730675,0.514376103878021,0.417651265859604,0.089051559567451,0.322060793638229,-0.291379779577255,-0.195553883910179,0.169434860348701,0.032662410289049,-0.092393390834332,-0.100684478878975));
res += mul(Get(s1,dx,0), float4x4(-0.098308272659779,0.126307249069214,-0.101764604449272,-0.009161909110844,-0.040347065776587,-0.198092237114906,0.374361366033554,0.073384933173656,-0.130702242255211,-0.028422977775335,-0.089941397309303,0.286637634038925,0.114282615482807,0.182154685258865,0.152627393603325,0.099723771214485));
res += mul(Get(s1,dx,dy), float4x4(-0.100321613252163,-0.045043095946312,0.014364320784807,-0.142952769994736,0.010838280431926,-0.061238598078489,0.218857914209366,-0.096428491175175,-0.134650886058807,-0.128569647669792,-0.009167355485260,0.007284099701792,-0.070863105356693,0.015770897269249,0.168355658650398,0.240610465407372));
res += mul(Get(s2,-dx,-dy), float4x4(-0.112599134445190,0.380359351634979,0.114089034497738,-0.128871276974678,-0.110498599708080,0.035248737782240,-0.193516641855240,-0.214729174971581,-0.037376314401627,-0.128749489784241,0.011196198873222,0.004897843115032,-0.045889738947153,-0.206581056118011,0.121110215783119,-0.061562381684780));
res += mul(Get(s2,-dx,0), float4x4(-0.110746048390865,-0.063081055879593,-0.067135304212570,-0.135538220405579,-0.069306023418903,-0.071694418787956,0.025512918829918,0.057015672326088,-0.078818783164024,-0.075026221573353,-0.023666860535741,-0.027999291196465,-0.149890765547752,-0.042396422475576,-0.034951459616423,-0.194850325584412));
res += mul(Get(s2,-dx,dy), float4x4(-0.137381613254547,-0.119831286370754,0.092154122889042,-0.251341581344604,0.039133489131927,-0.100155286490917,-0.044545184820890,-0.139599978923798,-0.137234672904015,0.114782348275185,-0.103100128471851,0.063584648072720,-0.000386218307540,0.157372936606407,-0.096777155995369,-0.053640380501747));
res += mul(Get(s2,0,-dy), float4x4(0.124186702072620,0.089312411844730,0.010771146975458,0.067919060587883,-0.018537156283855,0.066019631922245,-0.074015952646732,-0.157984480261803,0.000869653769769,-0.129773005843163,-0.061384830623865,0.055648352950811,0.143548294901848,-0.027967281639576,0.153820842504501,0.158025816082954));
res += mul(Get(s2,0,0), float4x4(-0.061130661517382,-0.233774885535240,-0.073952808976173,0.109068222343922,-0.041473951190710,-0.044088158756495,0.121826939284801,0.063654311001301,-0.026244180276990,-0.102456778287888,0.244262740015984,-0.101125545799732,-0.049263659864664,-0.089273720979691,-0.064487144351006,-0.068322613835335));
res += mul(Get(s2,0,dy), float4x4(-0.047063410282135,0.000596746744122,0.095085561275482,0.058409865945578,-0.028389846906066,-0.042660079896450,0.166867911815643,0.094656459987164,-0.087246671319008,0.092266164720058,0.041939061135054,0.053770747035742,0.078834354877472,-0.097900792956352,-0.072389408946037,-0.193295404314995));
res += mul(Get(s2,dx,-dy), float4x4(0.336966186761856,0.491797149181366,-0.155093088746071,0.010720830410719,0.217128112912178,-0.020462363958359,-0.016333319246769,-0.083996109664440,0.017339492216706,-0.042768549174070,0.010940455831587,-0.015189412049949,0.082434654235840,0.486128360033035,-0.052071079611778,0.158530414104462));
res += mul(Get(s2,dx,0), float4x4(0.263865739107132,-0.079789802432060,-0.113104447722435,0.109530843794346,0.061784345656633,-0.051494568586349,0.159072354435921,0.055317945778370,0.009722072631121,0.050153862684965,0.124389722943306,0.279434591531754,-0.239314243197441,0.006757626775652,-0.171311527490616,0.014651818200946));
res += mul(Get(s2,dx,dy), float4x4(0.458643496036530,0.180238977074623,0.145933717489243,0.139416962862015,0.109317235648632,-0.038445055484772,-0.070206522941589,-0.043601449579000,-0.176817372441292,0.043583519756794,-0.133134528994560,0.514039158821106,-0.180066227912903,-0.153071209788322,-0.115107521414757,0.254494398832321));
res += mul(Get(s3,-dx,-dy), float4x4(-0.116215936839581,0.132917091250420,-0.009364522062242,-0.116663433611393,0.194752141833305,0.028005637228489,0.000136900242069,-0.069247350096703,0.111529849469662,-0.170664936304092,-0.066110134124756,-0.159538030624390,-0.034600909799337,-0.081497386097908,-0.011633994989097,-0.116187386214733));
res += mul(Get(s3,-dx,0), float4x4(0.131508961319923,-0.037873350083828,-0.136808440089226,-0.042173363268375,0.104242622852325,0.031993657350540,0.082451149821281,0.006448002066463,0.014639838598669,-0.041755195707083,-0.084878154098988,-0.101699963212013,-0.020643034949899,-0.157536089420319,0.095421627163887,-0.074888065457344));
res += mul(Get(s3,-dx,dy), float4x4(0.395880162715912,-0.020742680877447,-0.145678907632828,0.085686907172203,0.284002780914307,0.065970443189144,0.008023393340409,0.017350753769279,-0.065797589719296,0.064888954162598,-0.093521617352962,-0.206381484866142,0.411097675561905,-0.115870945155621,0.121743559837341,-0.204769805073738));
res += mul(Get(s3,0,-dy), float4x4(-0.141761034727097,0.246467724442482,-0.014769324101508,-0.094729393720627,0.000019190889361,-0.052431806921959,-0.047162339091301,-0.101648524403572,0.090935990214348,-0.092509686946869,-0.086321488022804,-0.094294086098671,-0.035239405930042,0.042662002146244,-0.048752650618553,-0.172017812728882));
res += mul(Get(s3,0,0), float4x4(-0.174109011888504,-0.052199505269527,-0.042752046138048,0.022871691733599,-0.057381197810173,0.115162722766399,0.020158462226391,-0.043059926480055,-0.063287541270256,-0.088399648666382,-0.067159511148930,0.177543729543686,-0.168708547949791,-0.060445211827755,0.051256068050861,0.029599389061332));
res += mul(Get(s3,0,dy), float4x4(-0.085165239870548,-0.083101607859135,0.132147029042244,-0.003964523319155,0.009768047370017,0.076787181198597,0.093435056507587,-0.096633829176426,-0.005729090888053,0.032181791961193,-0.041026823222637,0.066530659794807,-0.031028730794787,-0.076269492506981,0.078077249228954,-0.071002341806889));
res += mul(Get(s3,dx,-dy), float4x4(-0.147315070033073,0.074721544981003,0.129087328910828,-0.235576763749123,0.092848099768162,-0.065215937793255,-0.084046021103859,0.037221167236567,0.183342233300209,0.057741884142160,-0.190375655889511,-0.009762536734343,0.054615195840597,0.038361933082342,0.042490720748901,-0.140392139554024));
res += mul(Get(s3,dx,0), float4x4(-0.089720115065575,-0.003170289564878,0.055330373346806,0.029922116547823,0.033807322382927,-0.024964766576886,-0.044324692338705,-0.027386756613851,0.044287525117397,-0.120185479521751,-0.167905956506729,0.130779296159744,-0.112782850861549,-0.017896875739098,0.521419167518616,-0.025411691516638));
res += mul(Get(s3,dx,dy), float4x4(-0.109893493354321,-0.006296631880105,0.018349207937717,0.280796289443970,0.195323422551155,-0.034139696508646,-0.005529337562621,-0.008572624996305,0.098766312003136,0.004558212589473,-0.225091055035591,0.136045336723328,-0.125517964363098,-0.093623213469982,0.164644017815590,-0.064718455076218));
return max(float4(0,0,0,0), res);
}
