sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.108782418072224,0.082399435341358,0.126033112406731,-0.048093408346176,-0.064289920032024,-0.176428213715553,0.136857867240906,-0.064053840935230,-0.091182149946690,0.041544862091541,-0.039692863821983,0.150424823164940,-0.008466148748994,0.145621672272682,-0.109732501208782,-0.054757773876190));
res += mul(Get(s0,-dx,0), float4x4(-0.163360580801964,0.044803295284510,-0.154853940010071,0.087220728397369,-0.163203254342079,0.154805377125740,0.015754440799356,-0.149793356657028,-0.065529026091099,0.090403012931347,-0.071522787213326,-0.055320840328932,-0.055455368012190,0.086460120975971,0.029522391036153,-0.029392911121249));
res += mul(Get(s0,-dx,dy), float4x4(0.044036351144314,0.083943068981171,0.097571238875389,-0.006790278013796,-0.010909063741565,-0.071675844490528,-0.097977988421917,0.121528252959251,0.059879343956709,-0.040995266288519,0.000638818950392,0.188098460435867,0.208114042878151,-0.006848120130599,-0.051508400589228,-0.191441938281059));
res += mul(Get(s0,0,-dy), float4x4(0.046114079654217,0.096452116966248,-0.031510427594185,0.031263537704945,-0.052691970020533,0.113729052245617,-0.016513908281922,-0.136392623186111,0.013476126827300,0.068352289497852,0.015052631497383,0.114123471081257,0.002609637333080,0.082325458526611,-0.022821379825473,-0.181567907333374));
res += mul(Get(s0,0,0), float4x4(-0.099734224379063,0.008898306638002,0.074895955622196,-0.068225875496864,0.080739594995975,0.102589577436447,0.213756099343300,0.141890212893486,-0.051356554031372,0.197759047150612,0.051329519599676,0.057849496603012,0.040112566202879,-0.231567576527596,-0.118839010596275,-0.031721618026495));
res += mul(Get(s0,0,dy), float4x4(0.067121960222721,0.049129806458950,-0.261752545833588,0.159969717264175,0.025892890989780,0.157918557524681,-0.040144272148609,0.251670092344284,-0.066683791577816,-0.120140790939331,-0.221500128507614,-0.204879879951477,0.065038166940212,-0.052589479833841,-0.013188174925745,-0.100223138928413));
res += mul(Get(s0,dx,-dy), float4x4(0.000539614760783,0.082129076123238,-0.048343908041716,-0.035075917840004,-0.069891579449177,0.001377046224661,-0.014515262097120,0.007772755343467,-0.134957820177078,-0.145405322313309,0.014418920502067,0.089007206261158,-0.071589805185795,-0.152035593986511,-0.218582376837730,-0.051745481789112));
res += mul(Get(s0,dx,0), float4x4(0.071593940258026,-0.126550987362862,-0.032499931752682,0.063248515129089,0.069117031991482,-0.192143276333809,-0.040740240365267,0.181433558464050,-0.079493016004562,-0.000848833878990,0.062502205371857,-0.056029289960861,0.165452852845192,-0.079156585037708,0.085408866405487,0.124611929059029));
res += mul(Get(s0,dx,dy), float4x4(-0.207169160246849,-0.144384458661079,-0.169681474566460,0.075474224984646,0.098189651966095,0.140473350882530,0.105628222227097,-0.171669036149979,-0.057064402848482,0.123535692691803,-0.026298291981220,0.080096453428268,-0.126075178384781,0.057164229452610,0.010218835435808,-0.076225668191910));
res += mul(Get(s1,-dx,-dy), float4x4(-0.025216106325388,-0.054733574390411,0.090333469212055,-0.041979085654020,0.016386458650231,-0.054462656378746,0.140134245157242,-0.175548121333122,0.003168454626575,-0.022364804521203,-0.039867442101240,-0.093992911279202,-0.131594493985176,0.004494068212807,-0.019824799150229,0.112830743193626));
res += mul(Get(s1,-dx,0), float4x4(-0.058586832135916,0.137496694922447,0.044480316340923,-0.033233776688576,-0.103954374790192,0.067607820034027,-0.174027055501938,0.112834773957729,-0.001358713372611,-0.002575098536909,0.169154614210129,0.100160025060177,-0.041376780718565,0.135420575737953,0.092001251876354,0.027886208146811));
res += mul(Get(s1,-dx,dy), float4x4(-0.070066869258881,-0.047911804169416,0.172730579972267,0.035560000687838,-0.086655892431736,-0.090407058596611,-0.130162343382835,-0.002760479459539,-0.062352139502764,-0.131273582577705,0.032783545553684,-0.132618919014931,0.128379359841347,0.050443001091480,-0.093516081571579,-0.096305079758167));
res += mul(Get(s1,0,-dy), float4x4(-0.186966568231583,-0.447074681520462,0.041442446410656,0.094808258116245,-0.031742978841066,-0.018405275419354,0.041862208396196,0.120614297688007,0.142559468746185,-0.061871293932199,0.076065063476563,-0.125444650650024,-0.075109325349331,-0.157933652400970,-0.221128553152084,-0.121376365423203));
res += mul(Get(s1,0,0), float4x4(-0.049223385751247,0.007618392817676,0.052315779030323,0.009057637304068,0.071304455399513,-0.012990648858249,-0.017027169466019,0.044419072568417,-0.042524248361588,0.237352713942528,0.098214454948902,0.078668862581253,-0.035236265510321,-0.064183183014393,0.071503750979900,0.325352966785431));
res += mul(Get(s1,0,dy), float4x4(0.100105620920658,-0.001508769462816,-0.040639150887728,0.035220842808485,-0.154782414436340,0.077940195798874,0.011130894534290,-0.252405613660812,0.032552741467953,0.072037041187286,-0.184132978320122,0.004586946219206,0.128714725375175,-0.017865013331175,-0.107178211212158,-0.182366907596588));
res += mul(Get(s1,dx,-dy), float4x4(-0.082157015800476,-0.003174589481205,-0.121381267905235,-0.107065193355083,-0.005251738242805,-0.127940788865089,-0.006467914208770,0.132859855890274,-0.155175521969795,-0.002760961418971,-0.043794665485620,-0.226571246981621,-0.073013134300709,0.027192778885365,0.000770965998527,-0.037645414471626));
res += mul(Get(s1,dx,0), float4x4(-0.057351607829332,0.048236262053251,-0.112982302904129,-0.004825772717595,-0.086607329547405,0.102436959743500,-0.030909594148397,-0.022522296756506,-0.108651101589203,0.034312222152948,-0.071839876472950,0.014664294198155,-0.005416837055236,0.171205297112465,0.217494308948517,0.122906021773815));
res += mul(Get(s1,dx,dy), float4x4(0.156064704060555,-0.060172762721777,-0.093762129545212,-0.152547091245651,0.065157122910023,0.025499207898974,-0.048529919236898,-0.244945704936981,-0.023532783612609,0.153312623500824,0.262604117393494,-0.159962296485901,0.057848505675793,0.134306907653809,0.006514633074403,0.143593862652779));
res += mul(Get(s2,-dx,-dy), float4x4(-0.214779406785965,-0.210431009531021,-0.187165498733521,0.162955641746521,0.026883831247687,-0.174610257148743,-0.062972269952297,-0.077268518507481,-0.071219131350517,-0.224140256643295,-0.107750147581100,-0.029733197763562,-0.111598260700703,-0.111155524849892,0.003754081437364,0.228871867060661));
res += mul(Get(s2,-dx,0), float4x4(-0.094136849045753,0.009248682297766,0.082247786223888,-0.129692539572716,0.059306927025318,-0.179634198546410,-0.196168556809425,-0.147862046957016,0.049404464662075,0.066365092992783,0.157800778746605,-0.326860755681992,-0.033684324473143,0.065664790570736,0.027257641777396,0.010722779668868));
res += mul(Get(s2,-dx,dy), float4x4(-0.111635357141495,0.078214213252068,-0.104124046862125,0.009735157713294,-0.118576519191265,-0.012225477024913,-0.078132122755051,0.003390535013750,-0.156951487064362,0.039438940584660,0.014864590018988,-0.023078439757228,-0.024151803925633,-0.004230873193592,-0.006900374311954,-0.163062840700150));
res += mul(Get(s2,0,-dy), float4x4(0.089171558618546,0.063567034900188,0.007340311538428,-0.064788132905960,0.007767222356051,0.067405544221401,-0.028219040483236,0.012522947974503,-0.098042607307434,0.008841957896948,-0.114038608968258,0.208557322621346,0.057634681463242,-0.282402575016022,-0.001106573385186,-0.190062001347542));
res += mul(Get(s2,0,0), float4x4(-0.142022043466568,0.075947485864162,0.073492288589478,0.062656246125698,-0.166465878486633,-0.100597143173218,-0.011472288519144,0.046656899154186,-0.206488713622093,0.247372061014175,0.200995355844498,-0.093344122171402,0.045630462467670,-0.049961946904659,0.090217709541321,0.110326915979385));
res += mul(Get(s2,0,dy), float4x4(0.115585401654243,-0.033346179872751,-0.067235589027405,0.115918621420860,-0.040719598531723,-0.082229070365429,0.004554392769933,0.225148305296898,0.176655352115631,0.062880307435989,0.033771976828575,0.004006519913673,-0.123246259987354,0.032949984073639,0.019427211955190,0.216199338436127));
res += mul(Get(s2,dx,-dy), float4x4(-0.066408880054951,0.000200092341402,-0.096397265791893,0.181909039616585,0.054122257977724,0.020327476784587,-0.057693246752024,0.074097014963627,-0.128886759281158,-0.146495312452316,-0.295132458209991,-0.138757020235062,0.072985038161278,-0.067624531686306,-0.138897001743317,0.070715859532356));
res += mul(Get(s2,dx,0), float4x4(-0.286021798849106,-0.142921656370163,0.060612540692091,-0.045468013733625,-0.017871357500553,0.169537708163261,0.055590622127056,-0.132754251360893,0.014865456148982,0.167556241154671,0.035566478967667,0.014920013956726,-0.260158628225327,0.063934996724129,-0.218664184212685,0.174623519182205));
res += mul(Get(s2,dx,dy), float4x4(-0.125317618250847,0.082613274455070,-0.130892947316170,-0.066171079874039,-0.120295986533165,0.300471246242523,-0.171790137887001,-0.035888455808163,0.015496544539928,0.062695123255253,0.011716742999852,-0.106200039386749,-0.025968315079808,0.082160897552967,-0.014654180034995,-0.098521515727043));
res += mul(Get(s3,-dx,-dy), float4x4(-0.039334744215012,-0.014089066535234,-0.013799867592752,-0.091374382376671,0.042291216552258,0.035622149705887,-0.041044998914003,0.134134888648987,-0.191757038235664,0.017248596996069,0.037933010607958,0.008046058937907,-0.150577187538147,0.114799723029137,0.029442824423313,0.269018352031708));
res += mul(Get(s3,-dx,0), float4x4(0.096074052155018,-0.102133661508560,0.159261822700500,-0.024119583889842,-0.266028881072998,0.174910083413124,0.077921539545059,-0.149538904428482,0.039676316082478,-0.133009985089302,-0.062203221023083,0.013859158381820,-0.167199999094009,0.059744674712420,0.024894064292312,0.021497724577785));
res += mul(Get(s3,-dx,dy), float4x4(-0.040770605206490,0.066270872950554,-0.110562324523926,-0.005942384712398,-0.014768858440220,-0.002872215583920,-0.051574077457190,-0.175159141421318,0.006178549956530,-0.146673843264580,-0.004553642123938,0.122897230088711,0.138137057423592,0.177758261561394,0.197805687785149,-0.075748987495899));
res += mul(Get(s3,0,-dy), float4x4(-0.007163327652961,0.062530040740967,0.016029318794608,-0.018754389137030,0.159168526530266,0.041890006512403,-0.055694203823805,0.086527764797211,-0.010206555947661,0.005436189007014,-0.101527862250805,-0.154551327228546,0.019953658804297,0.037620771676302,0.027196027338505,0.023515040054917));
res += mul(Get(s3,0,0), float4x4(0.098777696490288,0.031696420162916,0.114696986973286,-0.047798950225115,-0.117496632039547,0.004835095256567,0.052481684833765,-0.033962815999985,-0.058683890849352,0.133739560842514,0.076844029128551,-0.085398755967617,-0.002853538608178,-0.057866826653481,-0.006983168888837,0.099111206829548));
res += mul(Get(s3,0,dy), float4x4(0.167979300022125,-0.003325013443828,0.057818830013275,-0.065633751451969,0.029543805867434,-0.075900390744209,-0.245548337697983,0.018121728673577,-0.024106295779347,-0.133295506238937,0.252352714538574,-0.140616640448570,0.076778240501881,-0.053707163780928,-0.096663452684879,-0.063883572816849));
res += mul(Get(s3,dx,-dy), float4x4(-0.078323505818844,-0.134151190519333,-0.083087772130966,0.275230109691620,0.052385412156582,0.057680997997522,-0.081583566963673,0.028868509456515,0.079973727464676,-0.026635641232133,-0.025936644524336,0.076450407505035,0.062057215720415,0.154252350330353,0.096263542771339,0.113914944231510));
res += mul(Get(s3,dx,0), float4x4(-0.073171541094780,0.022937435656786,-0.079053178429604,-0.093216337263584,0.044536277651787,-0.092794060707092,-0.053458880633116,0.057550333440304,-0.135839179158211,-0.045511581003666,0.015892909839749,-0.044177155941725,0.168454185128212,0.089134871959686,-0.061834074556828,0.130766674876213));
res += mul(Get(s3,dx,dy), float4x4(-0.069540388882160,0.114624872803688,0.009096200577915,-0.048378419131041,0.088896185159683,0.061703894287348,-0.015137483365834,-0.204602912068367,-0.089735679328442,-0.066831931471825,-0.109885774552822,-0.011820742860436,0.133300423622131,-0.113089829683304,-0.043186418712139,0.040137518197298));
return max(float4(0,0,0,0), res);
}
