sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.282777637243271,-0.206905633211136,0.053901337087154,0.216614425182343,-0.065985098481178,0.149483129382133,0.095459304749966,-0.249430567026138,0.026325294747949,0.018236853182316,-0.090690754354000,-0.114703595638275,-0.064485520124435,0.268408298492432,-0.018112285062671,0.016876896843314));
res += mul(Get(s0,-dx,0), float4x4(0.030599607154727,-0.062083341181278,0.047339081764221,0.003641769057140,-0.191442236304283,-0.066601589322090,-0.139111191034317,0.054537221789360,-0.013454309664667,-0.043767791241407,-0.013941544108093,0.009906732477248,-0.094564139842987,0.202368512749672,0.048935472965240,-0.037858650088310));
res += mul(Get(s0,-dx,dy), float4x4(0.263126581907272,-0.230563119053841,0.011371479369700,-0.222231969237328,-0.084793105721474,-0.014211286790669,0.016882300376892,0.002094498137012,-0.182072445750237,0.037279792129993,0.009325129911304,0.022203592583537,-0.109484508633614,0.142900794744492,0.048837300390005,-0.090545102953911));
res += mul(Get(s0,0,-dy), float4x4(-0.024950135499239,0.122721314430237,0.069047942757607,-0.124137721955776,0.063296444714069,0.062503486871719,0.038818042725325,0.022459832951427,-0.191993251442909,-0.210251778364182,-0.170729145407677,-0.002058705314994,-0.098646722733974,0.088090337812901,0.059262502938509,0.035105861723423));
res += mul(Get(s0,0,0), float4x4(0.104114018380642,-0.107050694525242,-0.094336450099945,0.212611734867096,-0.003042169846594,0.057594157755375,-0.030727215111256,-0.081705793738365,0.008929123170674,0.133057475090027,-0.088667429983616,-0.018916798755527,-0.203942015767097,0.112734049558640,0.197759225964546,0.069543458521366));
res += mul(Get(s0,0,dy), float4x4(-0.050850689411163,0.051648508757353,0.095502123236656,0.000831885728985,0.068921297788620,-0.113465942442417,-0.101299405097961,-0.154054433107376,-0.093912683427334,0.010964551940560,-0.044611480087042,0.096614077687263,0.019041763618588,0.046427670866251,-0.015756830573082,0.023552754893899));
res += mul(Get(s0,dx,-dy), float4x4(0.136287361383438,-0.040207214653492,-0.013302940875292,0.024620085954666,0.065236121416092,0.067269876599312,0.061298426240683,0.023058634251356,0.006756648421288,0.095500357449055,-0.071437150239944,-0.193644165992737,-0.109615251421928,0.022445494309068,-0.047930859029293,-0.013698139227927));
res += mul(Get(s0,dx,0), float4x4(0.052041206508875,-0.055614128708839,-0.028060300275683,-0.079671271145344,-0.200570359826088,0.115652054548264,0.106137014925480,-0.097322613000870,-0.143677830696106,0.131910488009453,0.072691902518272,-0.251643329858780,-0.054493501782417,-0.080224096775055,0.091724663972855,-0.031653966754675));
res += mul(Get(s0,dx,dy), float4x4(0.070764444768429,-0.063278332352638,0.035760175436735,-0.204293593764305,0.085132025182247,0.000706271443050,0.084086053073406,0.205611556768417,-0.119268029928207,0.080287449061871,-0.260989576578140,-0.122718334197998,0.119684629142284,-0.093373998999596,0.127842217683792,0.027110554277897));
res += mul(Get(s1,-dx,-dy), float4x4(-0.074171729385853,0.146895796060562,-0.110715240240097,-0.041079647839069,-0.124662794172764,-0.160375878214836,0.012352812103927,-0.117195419967175,0.000135819384013,-0.036756400018930,-0.051472757011652,0.059123788028955,0.001828974229284,-0.037060514092445,0.048656441271305,0.058126375079155));
res += mul(Get(s1,-dx,0), float4x4(-0.221470400691032,0.250096499919891,0.094349786639214,-0.078816987574100,-0.074061229825020,-0.042623497545719,-0.017597740516067,0.118606239557266,-0.215043157339096,0.090035192668438,-0.106578223407269,0.075699262320995,-0.003401114372537,0.056541766971350,0.004795657936484,-0.031042294576764));
res += mul(Get(s1,-dx,dy), float4x4(0.202877834439278,0.071126163005829,0.036055088043213,-0.012352066114545,-0.070790477097034,-0.060532376170158,-0.132889568805695,0.199244767427444,-0.139680981636047,-0.009758023545146,0.214851617813110,0.265643715858459,0.006186011247337,-0.081210918724537,0.247702553868294,-0.077225267887115));
res += mul(Get(s1,0,-dy), float4x4(0.034219183027744,0.035422243177891,-0.132761433720589,-0.039111398160458,-0.051610823720694,0.082103341817856,-0.071597285568714,-0.063448786735535,0.001968404278159,0.046032201498747,-0.035958632826805,0.057321980595589,0.019826002418995,0.172792091965675,0.023020731285214,0.036920052021742));
res += mul(Get(s1,0,0), float4x4(-0.088276110589504,0.008424492552876,-0.055930018424988,-0.241839483380318,0.093744307756424,0.007856842130423,0.065048739314079,-0.217353269457817,-0.113913111388683,-0.128667354583740,0.013382153585553,-0.023912379518151,-0.020477626472712,-0.205615818500519,0.150887191295624,0.018715351819992));
res += mul(Get(s1,0,dy), float4x4(0.103079937398434,-0.003928352147341,-0.156435504555702,0.066073372960091,0.107279255986214,0.043199006468058,0.019675103947520,0.014365845359862,0.054876796901226,0.143290057778358,0.066020362079144,-0.025184376165271,-0.074146211147308,-0.220566824078560,-0.008789800107479,0.112851060926914));
res += mul(Get(s1,dx,-dy), float4x4(-0.025931261479855,-0.087554000318050,-0.110196329653263,0.103606887161732,0.058563884347677,-0.065283805131912,0.003724440000951,-0.122165404260159,0.068734891712666,0.301235705614090,0.238594800233841,0.023560030385852,0.007577958982438,0.009854562580585,-0.010847304016352,-0.234831079840660));
res += mul(Get(s1,dx,0), float4x4(-0.139110088348389,0.085807219147682,-0.110940739512444,0.006941040046513,-0.183535784482956,0.075610905885696,-0.175381824374199,-0.004828612785786,0.004949109163135,0.033072378486395,0.157179906964302,-0.113752134144306,0.124007172882557,0.127784729003906,0.046558104455471,0.152771428227425));
res += mul(Get(s1,dx,dy), float4x4(0.107490763068199,0.106137268245220,-0.095861420035362,0.002038191305473,-0.084212444722652,0.097337521612644,0.120068110525608,-0.083305500447750,-0.194804579019547,0.201669439673424,0.007472099270672,-0.298152208328247,0.069624170660973,0.070697195827961,-0.111797004938126,0.232791945338249));
res += mul(Get(s2,-dx,-dy), float4x4(-0.117917016148567,0.033543508499861,-0.024012923240662,0.009137785062194,0.124542973935604,0.077037803828716,0.230191409587860,-0.102253630757332,-0.165910005569458,0.013149575330317,0.057640228420496,0.015998994931579,0.180853679776192,-0.113932788372040,-0.124958269298077,0.199928179383278));
res += mul(Get(s2,-dx,0), float4x4(-0.090830311179161,0.061511356383562,0.017645012587309,0.021577596664429,0.062308378517628,0.020411781966686,0.074480533599854,-0.114561676979065,0.052008751779795,-0.167298629879951,-0.100932709872723,-0.000250085431617,-0.126482114195824,-0.040653936564922,-0.179332926869392,-0.006922523491085));
res += mul(Get(s2,-dx,dy), float4x4(-0.072830781340599,-0.217383354902267,0.138590902090073,0.330276876688004,-0.142350956797600,0.004192532040179,-0.076823994517326,-0.039441224187613,0.025452179834247,0.023373218253255,0.142131298780441,0.043957576155663,-0.030075432732701,0.013183136470616,0.229822501540184,0.114064775407314));
res += mul(Get(s2,0,-dy), float4x4(-0.038712590932846,0.175537824630737,0.002847528783605,-0.087145872414112,-0.028110466897488,-0.204078897833824,0.124164000153542,-0.181621134281158,0.152469128370285,-0.049197740852833,0.035723634064198,-0.096962496638298,-0.118427984416485,-0.070939324796200,-0.069785356521606,0.004500737413764));
res += mul(Get(s2,0,0), float4x4(-0.062263634055853,-0.024044608697295,-0.010404621250927,0.168742164969444,0.022177128121257,0.223723143339157,-0.054665841162205,-0.112153388559818,0.186315327882767,-0.129397332668304,0.009226723574102,0.053190104663372,0.062381099909544,0.153810948133469,0.159206837415695,-0.013138743117452));
res += mul(Get(s2,0,dy), float4x4(-0.296752870082855,0.102952063083649,-0.015182955190539,0.108394570648670,-0.110648535192013,-0.135671481490135,0.086827315390110,-0.044519938528538,0.085788123309612,-0.070131190121174,-0.015810927376151,-0.111908026039600,-0.214665815234184,0.028932085260749,0.251847475767136,-0.024199146777391));
res += mul(Get(s2,dx,-dy), float4x4(0.021220007911325,-0.131274715065956,0.000341600039974,0.043400812894106,-0.046083822846413,-0.014388195239007,-0.007113334722817,-0.009048180654645,0.063626013696194,0.159114927053452,-0.187287718057632,-0.152256369590759,-0.162463262677193,-0.066138081252575,0.122317574918270,-0.025583576411009));
res += mul(Get(s2,dx,0), float4x4(0.006502945441753,0.242874071002007,0.041938822716475,0.009871127083898,-0.056348387151957,0.195456475019455,0.241063699126244,0.013780088163912,0.069297142326832,-0.104432381689548,-0.052076362073421,-0.108305692672729,-0.156435474753380,0.134017750620842,0.014876727946103,-0.120292134582996));
res += mul(Get(s2,dx,dy), float4x4(-0.058018978685141,0.063948206603527,0.069178365170956,-0.109984107315540,0.049608379602432,-0.061748858541250,-0.052994754165411,0.088624767959118,-0.103366315364838,-0.064764313399792,-0.204203993082047,-0.004791946616024,-0.054438270628452,-0.085319012403488,-0.098407924175262,-0.055213999003172));
res += mul(Get(s3,-dx,-dy), float4x4(0.225734442472458,0.000111782312160,-0.012634400278330,0.149340242147446,-0.016672672703862,0.046077787876129,-0.258042484521866,0.040702976286411,-0.151789903640747,0.202323913574219,0.013938697054982,0.143863692879677,-0.011775371618569,0.141802504658699,-0.251507967710495,0.061224810779095));
res += mul(Get(s3,-dx,0), float4x4(-0.017489681020379,-0.052952952682972,-0.007206065580249,0.013971313834190,0.117848612368107,-0.096816077828407,-0.059113416820765,0.106854960322380,0.073331877589226,0.020548041909933,-0.145844385027885,-0.018208373337984,-0.037756476551294,-0.051236573606730,0.098986536264420,0.064096495509148));
res += mul(Get(s3,-dx,dy), float4x4(-0.271458178758621,-0.078447312116623,0.010346511378884,0.031298145651817,-0.022416731342673,-0.210104897618294,-0.007454274222255,0.078150406479836,-0.074028223752975,0.146265432238579,-0.148991495370865,0.124249838292599,-0.047931261360645,0.184366255998611,0.018094187602401,-0.131368845701218));
res += mul(Get(s3,0,-dy), float4x4(-0.159777402877808,-0.050227977335453,0.118373483419418,-0.262988746166229,-0.202220469713211,0.043400861322880,-0.301159054040909,-0.061149984598160,0.066491357982159,0.090776324272156,-0.026150917634368,0.165999308228493,-0.117090709507465,0.022076262161136,-0.095268771052361,-0.024890966713428));
res += mul(Get(s3,0,0), float4x4(-0.177705764770508,-0.142577275633812,-0.117380306124687,0.146856248378754,0.115041747689247,-0.001678214408457,0.089482061564922,0.228783562779427,0.110214926302433,-0.127751246094704,-0.103622063994408,0.179201513528824,0.012003486044705,0.218776628375053,-0.077143505215645,0.052425533533096));
res += mul(Get(s3,0,dy), float4x4(0.056350033730268,0.092158704996109,-0.011643225327134,-0.157382100820541,-0.135282546281815,-0.151599436998367,-0.168105781078339,0.034978263080120,0.115784808993340,-0.017152190208435,-0.068737328052521,-0.132172822952271,0.005886297207326,0.079912588000298,-0.102196678519249,-0.119597315788269));
res += mul(Get(s3,dx,-dy), float4x4(-0.027778388932347,0.113601088523865,-0.189354926347733,0.087183073163033,-0.010314387269318,0.051242057234049,-0.035291332751513,-0.334402829408646,0.138856500387192,-0.167121872305870,0.190385937690735,0.051020272076130,0.013621354475617,-0.023886675015092,0.021196650341153,-0.021881077438593));
res += mul(Get(s3,dx,0), float4x4(-0.070813961327076,-0.094329319894314,0.001156279584393,-0.180693671107292,0.013146339915693,-0.013993082568049,0.059637486934662,-0.143595680594444,-0.110048800706863,0.169681817293167,-0.044087670743465,-0.162867099046707,0.032315865159035,0.075929202139378,0.083965905010700,-0.024519370868802));
res += mul(Get(s3,dx,dy), float4x4(-0.188682019710541,-0.028551664203405,-0.026360146701336,0.142810657620430,0.138845831155777,-0.031864363700151,-0.008034681901336,-0.074804775416851,-0.054536920040846,-0.220152765512466,-0.153127685189247,-0.193412527441978,-0.007139754015952,0.005132324993610,0.006158353760839,-0.000344606145518));
return max(float4(0,0,0,0), res);
}
