sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.088948182761669,0.072882466018200,0.290707647800446,-0.085226774215698,-0.309447050094604,-0.026853526011109,0.327719002962112,-0.123303517699242,0.223446816205978,-0.250940531492233,0.592603564262390,0.064321704208851,-0.207262828946114,0.114696167409420,0.191007092595100,0.124600492417812));
res += mul(Get(s0,-dx,0), float4x4(-0.031491898000240,0.006544010248035,0.291148424148560,-0.073805145919323,-0.141731366515160,0.052471589297056,0.093999899923801,0.094667866826057,0.026774898171425,-0.041599702090025,0.084105513989925,0.040431335568428,-0.133202701807022,-0.055802188813686,-0.043893292546272,0.114957362413406));
res += mul(Get(s0,-dx,dy), float4x4(-0.226029217243195,0.010859109461308,0.032840829342604,0.289546430110931,-0.156492561101913,0.051824696362019,-0.223666891455650,0.111953541636467,-0.209351539611816,-0.058383151888847,-0.012501345947385,0.507381677627563,-0.041355244815350,-0.067163310945034,-0.081550560891628,0.044066827744246));
res += mul(Get(s0,0,-dy), float4x4(0.141571208834648,0.156962662935257,0.061357241123915,0.049485046416521,0.019764324650168,0.041551917791367,0.088375516235828,-0.032679934054613,0.187176436185837,-0.189511239528656,0.107172966003418,-0.054029487073421,0.273146957159042,0.113604843616486,-0.031179696321487,-0.059996683150530));
res += mul(Get(s0,0,0), float4x4(0.056842867285013,0.063392981886864,0.042716447263956,-0.106723003089428,0.486847490072250,-0.032652389258146,-0.075005896389484,0.139966115355492,0.268747329711914,0.154031947255135,-0.134864896535873,-0.146330028772354,-0.119773827493191,0.067752845585346,-0.058913450688124,0.146843999624252));
res += mul(Get(s0,0,dy), float4x4(0.111338384449482,0.133669644594193,-0.127669602632523,0.200377568602562,0.375060677528381,-0.137190446257591,-0.087407693266869,-0.004590883385390,0.081917278468609,0.006455035414547,-0.039747770875692,-0.129543125629425,0.034696538001299,0.093023538589478,-0.063925884664059,-0.031026719138026));
res += mul(Get(s0,dx,-dy), float4x4(0.115706399083138,-0.187573283910751,-0.076418697834015,-0.105248816311359,-0.110255859792233,-0.033031977713108,-0.055637545883656,0.073218442499638,0.023990185931325,-0.251165747642517,-0.090816274285316,-0.120023086667061,0.170782238245010,0.136072427034378,-0.079488381743431,-0.054624754935503));
res += mul(Get(s0,dx,0), float4x4(0.088703982532024,-0.279723197221756,-0.068540878593922,-0.197967290878296,0.055553112179041,-0.033535871654749,-0.075684182345867,0.135576367378235,0.056995227932930,-0.277580231428146,-0.115764848887920,-0.190253630280495,0.032089371234179,0.128099501132965,-0.129598364233971,0.016188118606806));
res += mul(Get(s0,dx,dy), float4x4(0.062483552843332,-0.113380804657936,-0.089354164898396,-0.097524568438530,-0.023129524663091,-0.045548025518656,-0.132119879126549,0.181674465537071,-0.028069531545043,-0.086320616304874,0.056338801980019,-0.167848184704781,0.096954837441444,0.262429684400558,-0.100429251790047,0.011929499916732));
res += mul(Get(s1,-dx,-dy), float4x4(-0.171516433358192,0.091100528836250,0.132112279534340,-0.021139936521649,-0.068993449211121,-0.027165280655026,0.035052385181189,0.014281839132309,-0.127419799566269,0.001811477588490,-0.047600325196981,-0.004890364129096,0.123670056462288,-0.110367670655251,0.170075759291649,-0.049196820706129));
res += mul(Get(s1,-dx,0), float4x4(-0.123503111302853,0.021148754283786,0.083604224026203,-0.021253302693367,-0.031513191759586,0.081517390906811,0.002077078679577,0.088235117495060,-0.006162889767438,-0.097783863544464,0.048024758696556,-0.022129245102406,0.098891578614712,0.030682703480124,-0.001262034289539,0.043874770402908));
res += mul(Get(s1,-dx,dy), float4x4(-0.164577424526215,-0.027372743934393,-0.204078912734985,0.083083920180798,-0.119404263794422,-0.166700035333633,0.339114069938660,0.047878865152597,0.226484283804893,-0.089447304606438,-0.039743356406689,-0.069230891764164,-0.054712805896997,0.176364615559578,-0.185062766075134,0.067811168730259));
res += mul(Get(s1,0,-dy), float4x4(0.044152408838272,-0.076659701764584,0.041447568684816,-0.145973339676857,0.090626977384090,0.183068931102753,-0.093675695359707,-0.036899540573359,-0.006807179190218,-0.050084479153156,-0.049521241337061,-0.071433000266552,0.188236922025681,-0.163113877177238,0.185098364949226,0.089245982468128));
res += mul(Get(s1,0,0), float4x4(-0.033806119114161,-0.123540706932545,-0.068402767181396,-0.033202737569809,0.181259348988533,0.068973630666733,0.111361108720303,-0.027266301214695,0.077877663075924,-0.026756312698126,0.067079439759254,-0.051823806017637,0.148507967591286,0.020151952281594,-0.033631477504969,0.001256804913282));
res += mul(Get(s1,0,dy), float4x4(-0.077913202345371,-0.058565091341734,-0.148988872766495,0.000068775967520,0.166052296757698,-0.229876756668091,0.280837953090668,0.075256206095219,0.108057290315628,-0.140740036964417,-0.098766937851906,-0.063759602606297,0.129933610558510,-0.031233085319400,-0.161882534623146,-0.079811096191406));
res += mul(Get(s1,dx,-dy), float4x4(-0.096859782934189,-0.230628609657288,-0.062878161668777,-0.137063935399055,0.037441711872816,-0.058818973600864,-0.188594743609428,-0.064245104789734,-0.065059803426266,-0.279578059911728,0.014565085992217,-0.114637307822704,0.138426899909973,-0.114804983139038,0.112808346748352,0.030514566227794));
res += mul(Get(s1,dx,0), float4x4(-0.035536400973797,-0.134924113750458,0.000967935833614,-0.071778580546379,0.215474352240562,-0.000631929375231,0.065820358693600,-0.073672197759151,0.004648473113775,-0.103728838264942,0.205043375492096,-0.062669374048710,0.002721315948293,-0.005843705963343,-0.169933095574379,0.067189164459705));
res += mul(Get(s1,dx,dy), float4x4(-0.098445586860180,-0.158850491046906,0.005270304158330,-0.006163595709950,0.289501726627350,-0.126717194914818,0.064222030341625,0.089714184403419,-0.004916339181364,-0.105085790157318,-0.151322960853577,-0.154059886932373,-0.059975259006023,0.065841570496559,-0.179342493414879,0.040974874049425));
res += mul(Get(s2,-dx,-dy), float4x4(-0.019553052261472,-0.152904450893402,0.141734838485718,-0.145477071404457,-0.180910855531693,0.413493901491165,0.026479344815016,-0.130288392305374,-0.112050138413906,-0.114793293178082,0.364143818616867,-0.064171642065048,-0.064770862460136,-0.194957539439201,-0.092718414962292,-0.019730878993869));
res += mul(Get(s2,-dx,0), float4x4(-0.039367310702801,-0.059499718248844,0.107704035937786,-0.071549549698830,0.056669820100069,0.183135315775871,0.132068350911140,-0.066258504986763,-0.053623232990503,-0.099165514111519,-0.125110879540443,0.074087806046009,-0.165956974029541,-0.122800782322884,0.110395789146423,-0.061398681253195));
res += mul(Get(s2,-dx,dy), float4x4(-0.117027603089809,0.074844382703304,-0.167943760752678,-0.044662553817034,-0.028712334111333,0.161858901381493,-0.007335847709328,0.133959874510765,-0.058442480862141,-0.139198437333107,0.168927639722824,0.075446836650372,-0.232066035270691,-0.024650551378727,0.081744022667408,0.080071598291397));
res += mul(Get(s2,0,-dy), float4x4(-0.069788545370102,-0.064382381737232,0.063503541052341,-0.002557208994403,0.047498706728220,0.079914957284927,0.041804794222116,-0.055614717304707,-0.083009429275990,-0.076165147125721,-0.093269459903240,-0.009851160459220,-0.010205765254796,-0.172614157199860,0.346893846988678,0.055008832365274));
res += mul(Get(s2,0,0), float4x4(0.310110777616501,-0.030484069138765,-0.018475869670510,0.032842978835106,0.159629881381989,0.144866585731506,0.016464611515403,0.078196041285992,-0.044890131801367,-0.071881882846355,-0.130701676011086,-0.043638538569212,0.066274106502533,-0.095496565103531,-0.000495310989209,-0.005124983843416));
res += mul(Get(s2,0,dy), float4x4(-0.066617369651794,0.040902212262154,-0.236084476113319,0.005307775922120,-0.037590671330690,0.159006267786026,0.054299138486385,0.079549826681614,0.061847645789385,-0.163009136915207,-0.045065458863974,0.027845645323396,0.256378471851349,-0.107216298580170,-0.060768540948629,0.104575671255589));
res += mul(Get(s2,dx,-dy), float4x4(-0.138643786311150,-0.170718580484390,-0.198887944221497,0.167344689369202,0.092288367450237,0.259356498718262,-0.136573627591133,-0.101966328918934,-0.129532888531685,-0.005844813771546,0.388222068548203,-0.061611227691174,0.072508245706558,0.006038625724614,0.135788232088089,0.042130209505558));
res += mul(Get(s2,dx,0), float4x4(0.071367777884007,0.092169024050236,-0.138630345463753,-0.089297704398632,0.497230350971222,0.240466192364693,-0.234370633959770,0.034872978925705,-0.069690242409706,-0.123969875276089,0.015557742677629,-0.069193258881569,0.064154841005802,-0.178697288036346,0.012608604505658,-0.030785508453846));
res += mul(Get(s2,dx,dy), float4x4(-0.007895178161561,0.013494738377631,-0.174846231937408,-0.221781432628632,-0.073978886008263,0.071011438965797,-0.080893397331238,-0.059916820377111,0.055043686181307,-0.237383738160133,-0.004566110670567,-0.069257982075214,0.169764205813408,-0.258673340082169,-0.217997878789902,0.185403302311897));
res += mul(Get(s3,-dx,-dy), float4x4(-0.114679701626301,-0.047947820276022,0.162375673651695,-0.078688763082027,0.027343705296516,0.000127772393171,0.184477642178535,0.079663813114166,-0.025914799422026,0.219795495271683,-0.201986789703369,0.227029010653496,-0.081944584846497,0.152033954858780,0.292594224214554,-0.119499616324902));
res += mul(Get(s3,-dx,0), float4x4(-0.155097782611847,0.122577920556068,0.133333683013916,0.222730293869972,0.160406321287155,-0.003658826928586,0.029843622818589,-0.131993010640144,0.058634169399738,0.135443836450577,-0.062241908162832,0.195542842149734,-0.147858470678329,0.102884285151958,0.181175038218498,-0.012118687853217));
res += mul(Get(s3,-dx,dy), float4x4(-0.389078766107559,0.242818981409073,-0.125999510288239,0.570463240146637,-0.367834806442261,-0.015477259643376,-0.166182085871696,-0.195964947342873,0.016841327771544,-0.115690872073174,0.112602613866329,0.035357467830181,-0.090424612164497,-0.002359963022172,0.149530857801437,0.030528822913766));
res += mul(Get(s3,0,-dy), float4x4(0.007035449612886,-0.158611580729485,0.093156941235065,0.016171388328075,-0.096979103982449,0.002696430776268,-0.080005370080471,0.105637520551682,0.088150955736637,-0.023636315017939,-0.087640345096588,-0.029379149898887,0.115752033889294,0.008851801045239,-0.055532328784466,-0.167294695973396));
res += mul(Get(s3,0,0), float4x4(0.321221053600311,-0.038639724254608,0.081854641437531,0.065484873950481,0.038186911493540,0.148729935288429,-0.046397589147091,-0.075799919664860,0.075317285954952,-0.148415952920914,0.081438794732094,0.011155245825648,0.034029651433229,0.022118750959635,0.172253459692001,0.046317320317030));
res += mul(Get(s3,0,dy), float4x4(0.134780690073967,0.123986706137657,-0.105257123708725,0.168776839971542,-0.156200870871544,-0.015353102236986,-0.045290522277355,0.000151369240484,-0.050771467387676,-0.148420572280884,0.214793443679810,-0.117826648056507,0.093871921300888,-0.078566275537014,-0.015156836248934,0.041640806943178));
res += mul(Get(s3,dx,-dy), float4x4(-0.148662626743317,-0.126544103026390,0.147080346941948,-0.116653300821781,0.048071570694447,-0.127299323678017,-0.020906591787934,0.019793728366494,0.084474571049213,0.356030046939850,-0.026291266083717,0.033366132527590,-0.059864975512028,0.023965045809746,-0.030564200133085,0.006591354496777));
res += mul(Get(s3,dx,0), float4x4(-0.008010040037334,-0.139083102345467,0.014831220731139,-0.030494926497340,0.110218361020088,0.033518880605698,-0.090852141380310,-0.019893685355783,0.047845523804426,-0.150093436241150,-0.000365065468941,0.012944358401000,0.022317774593830,-0.047127369791269,0.021073522046208,0.045319687575102));
res += mul(Get(s3,dx,dy), float4x4(0.151555001735687,-0.127270579338074,-0.102628067135811,0.083902120590210,-0.075945332646370,0.047513149678707,-0.134809553623199,0.060449309647083,-0.040871016681194,-0.095099240541458,0.069196105003357,-0.108727708458900,0.076769381761551,-0.100184924900532,-0.153183922171593,0.095221728086472));
return max(float4(0,0,0,0), res);
}
