sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.161056399345398,0.283376604318619,-0.010824328288436,-0.139773324131966,-0.028020139783621,0.074789576232433,0.006925010122359,0.109934620559216,0.100816130638123,-0.042351011186838,0.129222124814987,0.052941396832466,-0.146780207753181,-0.151857718825340,0.055351447314024,0.126309469342232));
res += mul(Get(s0,-dx,0), float4x4(0.079680405557156,-0.022588482126594,0.084608286619186,-0.109147220849991,-0.078260414302349,-0.096208445727825,-0.085985295474529,-0.096987918019295,-0.108532279729843,-0.031484652310610,0.203869238495827,-0.006226698867977,-0.311732381582260,-0.093336790800095,-0.113901257514954,-0.014567668549716));
res += mul(Get(s0,-dx,dy), float4x4(-0.032976735383272,-0.110561110079288,-0.140464171767235,-0.116759747266769,-0.134375005960464,-0.125060439109802,-0.103499092161655,-0.072787091135979,-0.171107307076454,-0.031069232150912,0.269632190465927,0.063611984252930,-0.326179921627045,-0.029205573722720,0.209584221243858,-0.123089507222176));
res += mul(Get(s0,0,-dy), float4x4(0.007509868126363,0.377285689115524,0.031110653653741,-0.214161619544029,-0.015967831015587,-0.005239446181804,0.221623107790947,-0.054242875427008,0.001948094461113,-0.114225961267948,0.017950488254428,-0.235029146075249,-0.259516119956970,-0.177970543503761,0.155284091830254,0.011100050061941));
res += mul(Get(s0,0,0), float4x4(-0.021978177130222,-0.139994949102402,-0.007213386707008,0.024486185982823,-0.053265862166882,-0.138044729828835,-0.040920697152615,0.012659749016166,-0.044239647686481,-0.038861684501171,0.036310289055109,-0.153091162443161,-0.068879619240761,0.006892324890941,0.275474935770035,-0.013907635584474));
res += mul(Get(s0,0,dy), float4x4(-0.062656238675117,-0.067426599562168,-0.149028852581978,0.117123976349831,-0.093880385160446,-0.163225203752518,-0.081831023097038,0.012885179370642,0.014752342365682,-0.142687201499939,-0.002899142215028,-0.122630260884762,0.129304751753807,0.066978707909584,0.061942841857672,-0.086794756352901));
res += mul(Get(s0,dx,-dy), float4x4(-0.115180045366287,-0.087073296308517,-0.114368006587029,0.487575799226761,-0.030045486986637,0.055372163653374,0.208015933632851,-0.219711109995842,0.058791451156139,0.084685280919075,0.082112684845924,0.106811277568340,-0.181826382875443,0.134013742208481,0.018487041816115,-0.015987440943718));
res += mul(Get(s0,dx,0), float4x4(-0.091114670038223,-0.177623167634010,-0.063261903822422,0.250050365924835,-0.143783658742905,-0.009954776614904,0.141651540994644,-0.007402982097119,-0.004282919224352,-0.034936241805553,0.028399758040905,-0.087363541126251,0.180690824985504,0.088046133518219,-0.089051827788353,-0.137923866510391));
res += mul(Get(s0,dx,dy), float4x4(-0.061163645237684,-0.171130135655403,-0.141994550824165,0.030902776867151,-0.023142859339714,-0.035014241933823,0.158766016364098,-0.060371581465006,-0.088236764073372,0.021564589813352,0.096006892621517,-0.019198322668672,0.138022810220718,0.147206619381905,-0.200516238808632,-0.152572855353355));
res += mul(Get(s1,-dx,-dy), float4x4(0.136237695813179,-0.069763071835041,-0.092970415949821,-0.115850836038589,-0.006982854567468,-0.028260055929422,0.255118846893311,-0.148633196949959,-0.090004652738571,-0.055670991539955,0.006899935659021,0.133742257952690,-0.170357272028923,0.158689394593239,-0.198493614792824,0.118719264864922));
res += mul(Get(s1,-dx,0), float4x4(0.228453308343887,0.027386035770178,-0.113736331462860,-0.228512570261955,-0.017858795821667,-0.035588406026363,0.159981191158295,-0.111610218882561,0.017838379368186,-0.078391186892986,-0.086229376494884,0.186823934316635,-0.006889053154737,0.343098014593124,-0.080065160989761,0.021489901468158));
res += mul(Get(s1,-dx,dy), float4x4(-0.047422312200069,0.203763276338577,-0.279728025197983,-0.006593609694391,-0.215737044811249,-0.077527239918709,-0.101273886859417,-0.114027895033360,0.199124142527580,0.136519774794579,-0.064033709466457,0.096344649791718,-0.118681803345680,0.185435757040977,-0.045041710138321,0.435214817523956));
res += mul(Get(s1,0,-dy), float4x4(0.099618986248970,-0.095085196197033,-0.092044189572334,-0.209545344114304,-0.238160759210587,-0.116640679538250,-0.091978408396244,0.056383736431599,-0.168370828032494,-0.126539155840874,-0.065174527466297,-0.093443766236305,-0.129963636398315,-0.034901931881905,-0.129726499319077,0.046164479106665));
res += mul(Get(s1,0,0), float4x4(-0.065096512436867,0.058778442442417,0.066183678805828,-0.170349046587944,-0.146189123392105,-0.051766272634268,0.081624113023281,-0.034695826470852,-0.019472749903798,-0.076028555631638,0.199794858694077,-0.052046719938517,0.105109550058842,0.027917709201574,-0.213165014982224,0.066503733396530));
res += mul(Get(s1,0,dy), float4x4(0.057256460189819,-0.011554693803191,-0.169160872697830,-0.136469259858131,-0.184798032045364,0.003799197031185,-0.024180199950933,-0.153031483292580,0.203350976109505,-0.110565654933453,-0.011855249293149,-0.024511173367500,0.051927827298641,0.230998978018761,0.034272640943527,0.212398007512093));
res += mul(Get(s1,dx,-dy), float4x4(0.249901667237282,-0.035022422671318,-0.018115108832717,-0.078902609646320,-0.032729834318161,0.042635753750801,-0.135964363813400,-0.043842632323503,-0.142912551760674,0.002658332465217,-0.003679317887872,0.078651711344719,-0.158427655696869,-0.131102815270424,-0.063433431088924,-0.232348442077637));
res += mul(Get(s1,dx,0), float4x4(0.212630271911621,-0.015219573862851,0.092484258115292,0.043815098702908,-0.025519737973809,0.164004206657410,-0.087304666638374,-0.130127951502800,0.129152953624725,0.016442304477096,0.072631403803825,-0.017003560438752,-0.007895375601947,-0.111684814095497,0.076244644820690,-0.109584122896194));
res += mul(Get(s1,dx,dy), float4x4(-0.091886907815933,0.165044739842415,-0.066315501928329,0.055083516985178,0.099222235381603,0.067434333264828,-0.215829893946648,-0.183625593781471,0.271658629179001,0.031951766461134,-0.127991229295731,-0.100533120334148,-0.036487989127636,0.040030904114246,-0.106907531619072,-0.067671433091164));
res += mul(Get(s2,-dx,-dy), float4x4(-0.248201996088028,-0.200539395213127,0.258548676967621,0.233336493372917,-0.157889321446419,0.125156179070473,-0.021785888820887,-0.037958584725857,-0.069641567766666,-0.109676815569401,0.139755532145500,0.046277556568384,-0.121598318219185,-0.024012060835958,-0.043731763958931,-0.108552850782871));
res += mul(Get(s2,-dx,0), float4x4(-0.104604005813599,0.030570892617106,0.056633066385984,0.048986248672009,0.068015426397324,-0.141009703278542,-0.105085402727127,-0.298337996006012,0.012102039530873,-0.097384423017502,0.531779885292053,-0.053927198052406,-0.148702457547188,-0.041719529777765,-0.146422415971756,0.217293426394463));
res += mul(Get(s2,-dx,dy), float4x4(-0.067878827452660,-0.098231732845306,-0.104059040546417,0.075240425765514,0.055363439023495,0.052312072366476,-0.180314555764198,-0.100689485669136,0.024105340242386,-0.148582100868225,0.411991536617279,-0.176950350403786,-0.276925563812256,-0.101690828800201,0.110180787742138,-0.108325019478798));
res += mul(Get(s2,0,-dy), float4x4(-0.037753265351057,-0.117884747684002,-0.016446039080620,0.047211080789566,-0.032499924302101,0.040819384157658,0.297858655452728,0.024346364662051,0.130856350064278,0.018996804952621,0.158985972404480,0.099042996764183,-0.244433671236038,-0.083334684371948,-0.124173797667027,-0.036193676292896));
res += mul(Get(s2,0,0), float4x4(0.102083370089531,0.002725711092353,0.073074780404568,-0.123692303895950,-0.032880693674088,0.071376368403435,-0.055388726294041,-0.082865014672279,0.022247031331062,-0.007946693338454,-0.051851462572813,0.018541743978858,-0.025333994999528,-0.131687194108963,-0.025504287332296,-0.118110984563828));
res += mul(Get(s2,0,dy), float4x4(-0.060935799032450,-0.036815203726292,0.038802541792393,0.129724875092506,0.006864692550153,-0.128777399659157,-0.275728464126587,-0.116142436861992,0.064855188131332,-0.095751382410526,-0.210313886404037,0.053828924894333,-0.173564106225967,-0.135603696107864,0.042865615338087,-0.078928671777248));
res += mul(Get(s2,dx,-dy), float4x4(0.084296569228172,-0.144842609763145,0.060546301305294,-0.045990344136953,-0.105553515255451,-0.116757109761238,0.197212934494019,0.125934019684792,0.268051952123642,-0.051726929843426,0.077570997178555,0.070885278284550,-0.080372318625450,0.192982077598572,-0.161908715963364,0.323435992002487));
res += mul(Get(s2,dx,0), float4x4(-0.088311322033405,-0.060674339532852,-0.023268740624189,0.101042054593563,-0.143153309822083,-0.053085781633854,0.011472756974399,-0.043745178729296,0.088033571839333,-0.040906518697739,0.039240222424269,0.016700906679034,0.160283759236336,-0.087251700460911,-0.089306041598320,0.099885642528534));
res += mul(Get(s2,dx,dy), float4x4(-0.026148987933993,-0.176291421055794,-0.130518093705177,0.138663515448570,-0.006322116125375,-0.151355311274529,-0.097112134099007,0.089460723102093,-0.025309022516012,-0.141170367598534,0.078640833497047,0.129747986793518,0.141529366374016,-0.093602806329727,-0.036619227379560,-0.074858203530312));
res += mul(Get(s3,-dx,-dy), float4x4(0.414701402187347,0.000564566231333,0.005790937691927,-0.117631971836090,-0.180414035916328,-0.092388562858105,-0.207176327705383,-0.086011804640293,-0.046719558537006,-0.139842897653580,0.018575524911284,-0.018864054232836,0.030714754015207,0.282912641763687,-0.049115605652332,-0.166211545467377));
res += mul(Get(s3,-dx,0), float4x4(0.223489627242088,0.246316328644753,-0.089909933507442,0.012926098890603,-0.111540108919144,-0.080208629369736,0.300354093313217,-0.048742383718491,-0.048737298697233,-0.018858361989260,0.145959079265594,0.040130846202374,0.089496515691280,0.139031827449799,0.067696064710617,-0.105952538549900));
res += mul(Get(s3,-dx,dy), float4x4(0.054387718439102,-0.046501263976097,-0.156571686267853,0.139374315738678,-0.104648567736149,-0.009620087221265,-0.143644422292709,0.066785566508770,-0.018060401082039,0.160551384091377,0.006746696308255,0.104244984686375,0.076718024909496,0.185549333691597,0.056638807058334,-0.118880629539490));
res += mul(Get(s3,0,-dy), float4x4(0.173986107110977,0.226936087012291,-0.089897990226746,0.181641474366188,-0.218860253691673,-0.106724023818970,0.026713306084275,-0.065786466002464,-0.181210413575172,-0.144753620028496,-0.016187850385904,0.050364449620247,0.268893957138062,-0.155534490942955,-0.211951509118080,-0.100009761750698));
res += mul(Get(s3,0,0), float4x4(0.069083794951439,0.285435259342194,-0.017771825194359,0.052260927855968,-0.006987129803747,-0.110106527805328,0.119621202349663,-0.060425937175751,0.019426906481385,-0.136617273092270,0.384774029254913,0.065384730696678,-0.042289227247238,-0.158113688230515,-0.049755685031414,-0.137012541294098));
res += mul(Get(s3,0,dy), float4x4(0.045103687793016,0.055323533713818,0.047493174672127,0.105182491242886,-0.047626331448555,-0.017888562753797,-0.076045796275139,-0.099700160324574,0.064074195921421,-0.079180106520653,0.045832227915525,-0.174640938639641,-0.028543382883072,-0.150913655757904,-0.037942305207253,-0.100226342678070));
res += mul(Get(s3,dx,-dy), float4x4(0.152683138847351,-0.040789723396301,0.067770481109619,-0.008884112350643,-0.061652116477489,0.300373077392578,-0.169996887445450,0.000897104095202,0.062812343239784,-0.184610113501549,0.000265661452431,-0.018632685765624,-0.007759536616504,0.178837448358536,-0.156638637185097,-0.068710513412952));
res += mul(Get(s3,dx,0), float4x4(0.106835708022118,0.101788997650146,0.045401636511087,-0.040443435311317,0.436535745859146,0.128967702388763,0.130289465188980,-0.038546137511730,0.178721234202385,-0.194170817732811,0.236274704337120,0.090134620666504,-0.195398956537247,0.107946783304214,-0.135971322655678,-0.014755728654563));
res += mul(Get(s3,dx,dy), float4x4(0.070540055632591,0.075054034590721,-0.000292324606562,-0.100569821894169,0.348778247833252,0.087021812796593,-0.075601167976856,-0.122493825852871,0.124174945056438,0.036312978714705,0.074279576539993,-0.020279616117477,0.031758066266775,-0.096520669758320,-0.048448719084263,-0.114897876977921));
return max(float4(0,0,0,0), res);
}
