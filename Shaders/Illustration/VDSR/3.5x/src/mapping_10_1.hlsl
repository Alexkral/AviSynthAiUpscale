sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.114937841892242,-0.154030039906502,0.055397067219019,-0.024692943319678,-0.087799571454525,-0.088404715061188,0.035467963665724,0.000376466166927,-0.087180413305759,0.121639341115952,0.016943359747529,-0.023790722712874,-0.067612476646900,-0.023347150534391,0.005796607118100,-0.099917016923428));
res += mul(Get(s0,-dx,0), float4x4(-0.016706962138414,0.069807142019272,0.217801272869110,-0.084808826446533,-0.098966196179390,0.108213603496552,0.237946212291718,-0.073011115193367,-0.047237303107977,-0.199327379465103,0.061199337244034,-0.063440807163715,-0.091224454343319,-0.108827255666256,0.299483805894852,-0.099697865545750));
res += mul(Get(s0,-dx,dy), float4x4(-0.038156129419804,-0.142017200589180,0.006575670558959,0.093246370553970,-0.173607751727104,0.052400995045900,-0.080877289175987,-0.240589275956154,-0.157482206821442,-0.202359616756439,0.102542936801910,-0.106807477772236,0.074820160865784,0.017613463103771,-0.000861914537381,-0.025746135041118));
res += mul(Get(s0,0,-dy), float4x4(0.072061754763126,0.270602405071259,0.064272463321686,-0.018114356324077,-0.178754866123199,-0.088193185627460,0.008938480168581,-0.129853561520576,0.025972377508879,-0.132649183273315,-0.019131509587169,-0.008857562206686,-0.139050036668777,-0.042496465146542,-0.042260196059942,-0.117737926542759));
res += mul(Get(s0,0,0), float4x4(0.033627755939960,0.251492321491241,0.151937767863274,-0.004880327731371,0.107245564460754,-0.003106646705419,0.065187707543373,-0.015067025087774,0.048965264111757,-0.087239757180214,0.040046833455563,0.272299319505692,-0.030901778489351,-0.056671984493732,0.054257042706013,-0.058193709701300));
res += mul(Get(s0,0,dy), float4x4(-0.084465749561787,0.157745659351349,0.067301861941814,-0.081529140472412,0.326462686061859,-0.002988965716213,-0.114173948764801,0.106447622179985,-0.178616762161255,-0.230732575058937,0.267821758985519,0.333833605051041,0.054359711706638,0.004506439436227,0.099982067942619,0.025234555825591));
res += mul(Get(s0,dx,-dy), float4x4(0.347041279077530,0.426337689161301,-0.018673647195101,0.098807409405708,-0.176717787981033,0.029754616320133,-0.021798528730869,-0.043212871998549,-0.046932056546211,-0.150726839900017,-0.099938288331032,-0.215659886598587,0.009456660598516,0.126222774386406,-0.042973887175322,0.004480489529669));
res += mul(Get(s0,dx,0), float4x4(0.429273545742035,0.173818618059158,-0.144569441676140,-0.003310095751658,0.034707318991423,0.083839118480682,0.031431887298822,-0.086488872766495,0.372403383255005,0.062769457697868,0.156547829508781,0.040025632828474,0.278238534927368,0.009970752522349,-0.018482066690922,0.026157535612583));
res += mul(Get(s0,dx,dy), float4x4(0.128340855240822,-0.001402774010785,-0.003648350480944,-0.120915532112122,0.099410451948643,-0.292198956012726,-0.107060939073563,0.122539855539799,-0.132304921746254,-0.029253697022796,0.175064772367477,-0.049441505223513,0.123530462384224,0.006353128701448,-0.070992268621922,0.186326012015343));
res += mul(Get(s1,-dx,-dy), float4x4(0.362166672945023,-0.051978200674057,-0.127759382128716,0.110504709184170,0.139093011617661,0.179354175925255,-0.044671561568975,0.074310377240181,0.204741746187210,-0.055426191538572,-0.196410477161407,0.031554967164993,0.085311129689217,0.297402709722519,-0.156427532434464,0.090991422533989));
res += mul(Get(s1,-dx,0), float4x4(0.129007264971733,-0.097779534757137,0.213503330945969,-0.048080034554005,0.110514938831329,0.053109817206860,0.021185899153352,0.091007269918919,0.170721739530563,0.039002284407616,0.010401393286884,0.038208741694689,-0.078069068491459,0.237907484173775,-0.132420137524605,0.053077224642038));
res += mul(Get(s1,-dx,dy), float4x4(-0.064028225839138,-0.086283065378666,0.038302469998598,-0.153547748923302,0.094909287989140,0.080939248204231,0.202424198389053,0.234264194965363,-0.143743157386780,0.146112248301506,-0.090465657413006,0.298749417066574,-0.117492690682411,-0.104298710823059,-0.159718513488770,0.568124175071716));
res += mul(Get(s1,0,-dy), float4x4(0.257551848888397,-0.055513225495815,0.134124338626862,0.111211538314819,-0.006997433025390,-0.075776286423206,0.164206951856613,0.105165868997574,0.130092158913612,-0.124924480915070,-0.154968515038490,0.123326547443867,0.283292204141617,0.014083763584495,-0.179501399397850,-0.212750494480133));
res += mul(Get(s1,0,0), float4x4(-0.069720894098282,-0.047119759023190,0.095604836940765,-0.036259610205889,-0.054416500031948,-0.044645775109529,0.091573812067509,-0.020074939355254,0.076191030442715,-0.089112825691700,0.107111856341362,0.031909618526697,0.002980361925438,0.146315649151802,-0.090431950986385,0.204181551933289));
res += mul(Get(s1,0,dy), float4x4(-0.131370171904564,-0.087769895792007,-0.076464176177979,-0.051062256097794,-0.013171288184822,0.431124746799469,0.221504688262939,0.063515417277813,-0.074063338339329,0.032059419900179,-0.001226166146807,-0.006349909119308,-0.132738500833511,-0.189033761620522,0.034369178116322,0.226854532957077));
res += mul(Get(s1,dx,-dy), float4x4(-0.003094666870311,-0.018484855070710,0.226308077573776,-0.018190871924162,-0.015794184058905,0.006867473013699,-0.115928851068020,0.094795547425747,-0.010587117634714,-0.118246182799339,-0.009658734314144,-0.027098530903459,0.121223755180836,0.171356692910194,-0.173403024673462,0.062319625169039));
res += mul(Get(s1,dx,0), float4x4(-0.097975619137287,-0.021199839189649,0.016081599518657,0.064710244536400,0.075064167380333,0.260116815567017,0.111429318785667,0.066718943417072,-0.068235747516155,-0.066550932824612,-0.020212551578879,-0.114806264638901,-0.155355557799339,0.096339933574200,-0.009119288064539,0.058929953724146));
res += mul(Get(s1,dx,dy), float4x4(-0.159258916974068,-0.082083418965340,0.108648918569088,0.080597966909409,0.168678164482117,0.395858556032181,0.214915156364441,0.058256462216377,-0.123671047389507,-0.210092410445213,-0.023306142538786,-0.084901928901672,0.430504024028778,-0.036402106285095,0.135094285011292,0.161702021956444));
res += mul(Get(s2,-dx,-dy), float4x4(-0.012805870734155,-0.052296813577414,0.234181910753250,-0.252060323953629,0.117916099727154,-0.119019158184528,0.577660202980042,0.018213907256722,-0.122770391404629,-0.118458136916161,-0.156869441270828,-0.063469476997852,-0.165135011076927,-0.164413049817085,-0.062050569802523,-0.193195000290871));
res += mul(Get(s2,-dx,0), float4x4(-0.087225027382374,0.252872884273529,0.195685058832169,-0.203252181410789,-0.069699384272099,-0.061185106635094,-0.004773265682161,-0.166200578212738,0.063621580600739,-0.122238010168076,0.257030814886093,-0.147924676537514,-0.086547225713730,-0.006352670490742,0.155155584216118,-0.034758362919092));
res += mul(Get(s2,-dx,dy), float4x4(-0.013180197216570,0.136965200304985,0.147469416260719,-0.025644309818745,0.138197898864746,-0.177344679832458,0.111174538731575,-0.056964222341776,0.102511487901211,-0.036595918238163,0.066053189337254,-0.229525998234749,-0.161831274628639,0.137760594487190,0.296757906675339,-0.102448575198650));
res += mul(Get(s2,0,-dy), float4x4(-0.041199997067451,0.180601224303246,0.032049302011728,0.165911674499512,0.104192055761814,-0.102905012667179,0.117431916296482,0.098863363265991,-0.079286441206932,-0.059401635080576,-0.142864361405373,-0.164554968476295,-0.035221915692091,0.031520940363407,-0.119658753275871,-0.117301203310490));
res += mul(Get(s2,0,0), float4x4(-0.025896223261952,0.200182244181633,0.171736210584641,-0.164442539215088,-0.079907119274139,0.091754749417305,-0.175444260239601,-0.105980731546879,-0.119333736598492,-0.170658335089684,0.047912947833538,-0.146672934293747,-0.017408734187484,0.058158524334431,0.144435837864876,-0.076949343085289));
res += mul(Get(s2,0,dy), float4x4(-0.138202846050262,-0.044120948761702,-0.004477054346353,-0.124689161777496,0.162933692336082,0.050048276782036,0.016400519758463,0.018968520686030,-0.140061721205711,-0.013499066233635,0.136668935418129,-0.127434641122818,-0.018878217786551,0.055926714092493,0.034721173346043,-0.104030296206474));
res += mul(Get(s2,dx,-dy), float4x4(-0.033160664141178,0.015270998701453,0.009818136692047,-0.132525220513344,0.161193192005157,-0.157202631235123,0.102420248091221,0.242939129471779,-0.194546267390251,-0.164862364530563,-0.407825112342834,-0.142414838075638,-0.063327081501484,0.200422242283821,-0.006397279910743,0.099277831614017));
res += mul(Get(s2,dx,0), float4x4(0.163484126329422,0.259471744298935,-0.039964906871319,-0.147279188036919,-0.146175816655159,-0.076442241668701,-0.120377719402313,0.081705681979656,-0.230506747961044,-0.235451668500900,-0.043348889797926,-0.114010773599148,0.012167870067060,0.172943353652954,0.081620380282402,0.065845102071762));
res += mul(Get(s2,dx,dy), float4x4(-0.039418082684278,-0.094668410718441,-0.102967187762260,0.057900410145521,0.080682523548603,-0.104800388216972,-0.185907855629921,0.006173464003950,-0.206278175115585,0.047667779028416,-0.196029275655746,-0.160302072763443,0.265398293733597,0.071390263736248,0.050123926252127,0.007660452276468));
res += mul(Get(s3,-dx,-dy), float4x4(0.113061532378197,-0.064319230616093,-0.207931354641914,-0.074319064617157,-0.009913965128362,0.170727163553238,-0.010919842869043,0.047918863594532,-0.016909081488848,0.118726439774036,0.244840785861015,-0.145209521055222,0.144728124141693,0.088225230574608,0.002983377315104,0.056691303849220));
res += mul(Get(s3,-dx,0), float4x4(0.113370038568974,0.025296803563833,-0.052271801978350,-0.068892642855644,-0.073398113250732,0.069864869117737,-0.104087971150875,-0.109177730977535,-0.074686914682388,0.067807853221893,-0.010222529061139,-0.075428456068039,0.047001827508211,-0.032902710139751,0.263051986694336,-0.116076797246933));
res += mul(Get(s3,-dx,dy), float4x4(0.067055158317089,-0.013661311939359,0.112202286720276,-0.149068981409073,-0.273267775774002,-0.072860449552536,-0.157983392477036,0.246016398072243,-0.030534431338310,0.020156957209110,0.103800803422928,-0.019965190440416,0.055504638701677,-0.003404763061553,0.247413516044617,-0.134067863225937));
res += mul(Get(s3,0,-dy), float4x4(-0.016021734103560,0.198031067848206,-0.076035059988499,-0.057497460395098,0.058674365282059,-0.081822492182255,0.021326482295990,-0.059426333755255,-0.121708057820797,-0.109299726784229,0.079612649977207,0.197707682847977,-0.077377565205097,0.081400945782661,0.094867140054703,0.058521352708340));
res += mul(Get(s3,0,0), float4x4(0.039048150181770,-0.043100260198116,0.094876378774643,-0.079594038426876,0.028367137536407,-0.006762924604118,-0.113972976803780,-0.049170874059200,-0.108779720962048,-0.081546485424042,-0.058993928134441,0.103674665093422,0.001743367873132,0.019391069188714,0.325936645269394,0.030718289315701));
res += mul(Get(s3,0,dy), float4x4(-0.027669928967953,-0.130264505743980,0.000308290851535,-0.105116210877895,-0.221459984779358,-0.019645325839520,-0.060923412442207,0.266318559646606,-0.138740345835686,-0.097410954535007,0.017819629982114,0.182558745145798,-0.066127784550190,0.067179426550865,0.023720134049654,0.018461497500539));
res += mul(Get(s3,dx,-dy), float4x4(-0.126959055662155,0.013970737345517,-0.098094373941422,0.018084997311234,0.036706767976284,-0.012533824890852,-0.021724412217736,0.003412428544834,0.225247576832771,-0.111445076763630,-0.043552890419960,0.053761828690767,-0.090034730732441,0.257670909166336,-0.045180924236774,0.022953376173973));
res += mul(Get(s3,dx,0), float4x4(-0.134918570518494,0.068355247378349,0.054651942104101,0.029825214296579,0.139146938920021,-0.084780737757683,0.053515564650297,0.114977151155472,-0.045151565223932,-0.041320443153381,-0.040033526718616,-0.040128327906132,0.025128237903118,-0.092960298061371,0.276797056198120,0.009223919361830));
res += mul(Get(s3,dx,dy), float4x4(-0.032796759158373,-0.185406461358070,-0.096778377890587,0.157161250710487,-0.118260242044926,-0.106636397540569,0.133587166666985,0.046477805823088,-0.087314769625664,-0.002278422471136,0.026473175734282,0.045414518564939,-0.001704067457467,-0.130940496921539,-0.001444370835088,0.029684001579881));
return max(float4(0,0,0,0), res);
}
