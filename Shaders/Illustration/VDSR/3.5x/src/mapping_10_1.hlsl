sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.057269949465990,0.110879264771938,0.106129348278046,0.141746863722801,0.155756279826164,0.042638387531042,-0.197872385382652,-0.116293370723724,0.111853703856468,0.034084960818291,0.001868203165941,-0.308601438999176,0.205826610326767,-0.170788392424583,0.153180569410324,0.068592444062233));
res += mul(Get(s0,-dx,0), float4x4(0.204310834407806,-0.028057448565960,0.193086013197899,-0.131543800234795,-0.131975650787354,-0.025038404390216,0.133008435368538,0.101198188960552,0.100349396467209,-0.051557369530201,-0.051631439477205,-0.130460083484650,0.154706045985222,-0.019690424203873,-0.011623506434262,-0.027132902294397));
res += mul(Get(s0,-dx,dy), float4x4(-0.071064211428165,-0.129025757312775,-0.026680996641517,-0.053652454167604,-0.117923028767109,0.204406321048737,0.024232234805822,-0.123831212520599,0.004808881785721,-0.011212664656341,-0.235872507095337,-0.124881215393543,-0.015438951551914,-0.025799624621868,0.000104215301690,-0.056992143392563));
res += mul(Get(s0,0,-dy), float4x4(0.054557647556067,0.126276358962059,-0.214391350746155,-0.140444353222847,-0.016405127942562,-0.045091535896063,0.114930726587772,0.029876532033086,-0.159459024667740,0.040052499622107,-0.029373187571764,-0.168353304266930,-0.006127821281552,-0.165931716561317,-0.049716066569090,-0.084975570440292));
res += mul(Get(s0,0,0), float4x4(-0.033048320561647,-0.035717677325010,-0.107304848730564,0.080452308058739,0.171464085578918,-0.030670901760459,0.042034462094307,-0.035265486687422,-0.002397083677351,0.099402360618114,0.008764144033194,0.098155930638313,-0.121461011469364,0.183664098381996,-0.052263312041759,-0.081876836717129));
res += mul(Get(s0,0,dy), float4x4(-0.142454043030739,-0.195676490664482,-0.056707743555307,0.077776551246643,-0.191403061151505,-0.074048124253750,0.073728628456593,-0.135237708687782,0.000733472057618,-0.052837949246168,0.265968739986420,0.042030744254589,-0.027919003739953,0.137802809476852,0.094577699899673,-0.041428703814745));
res += mul(Get(s0,dx,-dy), float4x4(-0.082789212465286,-0.013202968053520,0.078641012310982,-0.030605023726821,0.066476345062256,0.114898405969143,-0.224161937832832,0.080624341964722,-0.204656630754471,-0.086657993495464,-0.246086180210114,0.158668786287308,-0.038820140063763,0.090486466884613,-0.036458037793636,-0.101864285767078));
res += mul(Get(s0,dx,0), float4x4(0.180495411157608,-0.045282885432243,-0.173864707350731,-0.076147377490997,-0.097607031464577,0.065676406025887,-0.055903434753418,0.003354432526976,0.022806361317635,-0.033873651176691,-0.110288843512535,0.070430405437946,0.086272731423378,0.092152729630470,0.202375560998917,-0.123282752931118));
res += mul(Get(s0,dx,dy), float4x4(-0.192206934094429,0.028290132060647,0.024594400078058,0.023907737806439,-0.041539613157511,0.007749550044537,-0.040067680180073,0.089320056140423,0.130552053451538,-0.139173015952110,-0.027304930612445,0.187452405691147,0.000771418504883,-0.140529245138168,0.152361229062080,-0.059229370206594));
res += mul(Get(s1,-dx,-dy), float4x4(0.129851177334785,-0.084311373531818,-0.098472476005554,-0.219332739710808,0.134363189339638,0.008803627453744,-0.104536704719067,0.185964539647102,-0.096876703202724,-0.048507250845432,-0.017453480511904,-0.242149770259857,-0.054943520575762,-0.126914039254189,-0.247511789202690,0.135797768831253));
res += mul(Get(s1,-dx,0), float4x4(0.076860904693604,-0.246722996234894,-0.048674937337637,-0.149553462862968,-0.138360291719437,-0.021716447547078,-0.080861032009125,-0.163233801722527,0.116388402879238,-0.174851849675179,0.043332207947969,0.100178532302380,0.021667376160622,-0.143812224268913,-0.020215412601829,-0.104297891259193));
res += mul(Get(s1,-dx,dy), float4x4(-0.034655466675758,-0.090538546442986,0.027668198570609,-0.049475692212582,0.126213312149048,-0.193128615617752,0.078428335487843,0.165628775954247,0.154940858483315,0.207075595855713,-0.075732290744781,-0.055593635886908,-0.085325933992863,-0.131545737385750,0.052973546087742,-0.061523165553808));
res += mul(Get(s1,0,-dy), float4x4(0.000906751316506,0.059826306998730,-0.145157858729362,0.165560200810432,0.014568052254617,-0.166629165410995,0.081816814839840,-0.099840968847275,0.119279488921165,-0.064573787152767,0.129220545291901,0.004839453846216,-0.030075559392571,-0.102681204676628,0.053755480796099,-0.087231330573559));
res += mul(Get(s1,0,0), float4x4(0.096389427781105,-0.052903763949871,0.080692969262600,-0.004965445026755,0.151961684226990,-0.033121298998594,0.055797558277845,-0.114233896136284,-0.082622557878494,0.039548911154270,0.026844132691622,-0.172301769256592,-0.033997256308794,0.023544870316982,0.170761987566948,-0.006545210722834));
res += mul(Get(s1,0,dy), float4x4(-0.002539439359680,-0.086294792592525,0.043701510876417,-0.037675164639950,-0.149281829595566,0.100451707839966,0.083290129899979,-0.186174884438515,0.040610380470753,0.018075382336974,-0.072280146181583,-0.238976582884789,-0.077420771121979,-0.028734182938933,0.188117176294327,0.065750904381275));
res += mul(Get(s1,dx,-dy), float4x4(0.018749374896288,-0.229141026735306,-0.002688228618354,0.093172580003738,-0.210930615663528,0.221560552716255,-0.035682570189238,0.037544332444668,-0.076503627002239,-0.187632516026497,-0.148834422230721,0.093698635697365,-0.055978056043386,0.015153609216213,-0.291773825883865,0.215248033404350));
res += mul(Get(s1,dx,0), float4x4(-0.109257325530052,0.021926576271653,-0.073051474988461,0.107834979891777,0.123305670917034,0.020125607028604,-0.041371095925570,0.045065805315971,-0.002530622528866,-0.153341636061668,-0.235292240977287,0.055300980806351,-0.129215225577354,0.002651676069945,0.011612151749432,0.040314175188541));
res += mul(Get(s1,dx,dy), float4x4(-0.051547575742006,0.040883202105761,-0.050875715911388,0.066051043570042,-0.131356701254845,0.047471951693296,0.337791264057159,0.044884782284498,0.103140465915203,-0.065568313002586,0.017801927402616,0.314735114574432,0.066507346928120,0.011804855428636,-0.051569331437349,0.087595321238041));
res += mul(Get(s2,-dx,-dy), float4x4(-0.175198838114738,0.017368797212839,0.068921990692616,0.019459920004010,-0.105732716619968,0.070500642061234,-0.035842899233103,0.047084424644709,0.004384140949696,-0.055280234664679,-0.117332458496094,0.189083442091942,0.064412035048008,-0.012071602977812,0.000570039497688,-0.143820956349373));
res += mul(Get(s2,-dx,0), float4x4(0.054390460252762,-0.002970493398607,0.017297554761171,-0.199459999799728,-0.069769293069839,-0.130513891577721,-0.197242483496666,-0.020354468375444,-0.015672679990530,-0.062678188085556,-0.167772009968758,0.212984070181847,-0.160235822200775,-0.080390475690365,0.142095640301704,0.002154149115086));
res += mul(Get(s2,-dx,dy), float4x4(-0.005764249246567,-0.017088027670979,0.040541704744101,-0.005754774436355,-0.041858289390802,-0.212684363126755,0.022907352074981,0.035887762904167,0.112289503216743,0.136246562004089,0.083317726850510,0.039762180298567,-0.129266768693924,0.075368233025074,0.064890846610069,-0.118033796548843));
res += mul(Get(s2,0,-dy), float4x4(-0.254460632801056,0.033242542296648,-0.101033702492714,0.167395636439323,0.050152219831944,-0.030738322064281,0.113018386065960,-0.212852641940117,-0.037227846682072,-0.051321830600500,-0.148287191987038,-0.013476345688105,-0.110386423766613,-0.023448240011930,0.172010272741318,-0.074223779141903));
res += mul(Get(s2,0,0), float4x4(0.050496630370617,-0.055036306381226,-0.024491544812918,0.002870162483305,0.138411775231361,-0.025722112506628,-0.168299540877342,0.217113569378853,-0.148119926452637,0.088734738528728,-0.160678178071976,-0.064703918993473,-0.283778071403503,0.041774038225412,-0.064608886837959,-0.017730114981532));
res += mul(Get(s2,0,dy), float4x4(0.136532425880432,-0.019671455025673,0.004020194523036,0.069181092083454,0.044035930186510,-0.099767148494720,0.074781022965908,-0.101997271180153,0.047082483768463,-0.090261898934841,0.066637285053730,-0.113006487488747,-0.110215947031975,-0.064855590462685,-0.154408410191536,0.067554481327534));
res += mul(Get(s2,dx,-dy), float4x4(0.026801846921444,-0.059936370700598,0.105720959603786,0.056844756007195,-0.017450373619795,0.114505112171173,0.084490656852722,-0.098197773098946,0.051371462643147,0.038223039358854,-0.221946701407433,-0.019996084272861,0.113705419003963,-0.151951253414154,-0.132154151797295,0.017597271129489));
res += mul(Get(s2,dx,0), float4x4(-0.137626603245735,-0.095907032489777,-0.266168922185898,-0.084291487932205,0.093183085322380,0.165676161646843,0.053822841495275,-0.015066292136908,-0.049160148948431,-0.330430418252945,-0.221245095133781,-0.039260875433683,-0.030082520097494,0.101171918213367,-0.054679576307535,0.064050413668156));
res += mul(Get(s2,dx,dy), float4x4(-0.096042342483997,-0.200577616691589,-0.044680293649435,-0.037529099732637,-0.132239341735840,0.008063901215792,0.017991375178099,0.015547147952020,0.074228279292583,0.060230001807213,-0.159525275230408,-0.114296533167362,0.035542011260986,-0.125467196106911,-0.035033877938986,0.009615059942007));
res += mul(Get(s3,-dx,-dy), float4x4(0.119249865412712,0.002253870945424,-0.059498794376850,0.084045149385929,0.066061839461327,0.049627590924501,-0.228707507252693,-0.015813983976841,0.022151168435812,-0.018087806180120,0.062273938208818,-0.001740473788232,0.064543820917606,0.018918044865131,-0.048688828945160,0.172205179929733));
res += mul(Get(s3,-dx,0), float4x4(0.063596263527870,0.023101879283786,0.000674228242133,0.105227768421173,0.287513405084610,-0.129776239395142,-0.195872694253922,0.006773003377020,-0.010841035284102,0.024620572105050,-0.013608392328024,-0.071376711130142,-0.072074443101883,0.019476708024740,-0.131590306758881,-0.296856105327606));
res += mul(Get(s3,-dx,dy), float4x4(0.113330684602261,-0.045532841235399,0.129014223814011,0.088517747819424,0.228806033730507,0.088001772761345,0.053449045866728,-0.036975588649511,-0.020114330574870,-0.113141335546970,-0.043346416205168,0.063765339553356,-0.040969409048557,0.013422315940261,-0.049924064427614,-0.099579192698002));
res += mul(Get(s3,0,-dy), float4x4(0.035001832991838,0.053603593260050,-0.061962332576513,0.077642425894737,0.085808642208576,-0.049000497907400,-0.045978091657162,-0.138936847448349,0.099842756986618,0.279838949441910,0.039356347173452,0.056457445025444,-0.111211344599724,-0.016925809904933,-0.038910713046789,0.024780694395304));
res += mul(Get(s3,0,0), float4x4(0.118150494992733,-0.068333163857460,0.183405756950378,-0.069637432694435,-0.325749903917313,-0.069830194115639,-0.000453905755421,-0.091058157384396,0.051102273166180,0.026677506044507,0.277898043394089,0.055355798453093,0.105410628020763,0.211420536041260,0.142276480793953,0.140215218067169));
res += mul(Get(s3,0,dy), float4x4(0.020691288635135,0.005188814364374,-0.013745720498264,-0.022336928173900,0.213575661182404,0.103157863020897,-0.080007605254650,-0.032558903098106,-0.022119853645563,0.096010409295559,0.124145627021790,-0.132585898041725,0.004683985840529,0.031298443675041,-0.009131734259427,-0.034712668508291));
res += mul(Get(s3,dx,-dy), float4x4(0.210320100188255,0.004797264933586,0.311176061630249,-0.044544294476509,-0.063147760927677,-0.028123214840889,-0.048312801867723,0.165675222873688,-0.038164850324392,-0.001987175783142,-0.086544163525105,0.126562535762787,0.155772075057030,-0.002871854696423,0.079619683325291,-0.064965799450874));
res += mul(Get(s3,dx,0), float4x4(-0.062258329242468,0.079801008105278,0.171215310692787,-0.046750929206610,0.146391361951828,0.008369782008231,0.014119114726782,-0.017455287277699,0.201031118631363,-0.177172303199768,-0.062280092388391,-0.091536462306976,-0.124125130474567,-0.074725002050400,0.145969048142433,0.225839912891388));
res += mul(Get(s3,dx,dy), float4x4(0.245117053389549,-0.169174060225487,0.192070916295052,-0.070465311408043,-0.079476103186607,-0.166622295975685,-0.068371973931789,0.024434678256512,-0.037448596209288,-0.029632929712534,0.089582167565823,-0.025725271552801,0.036527119576931,-0.010107865557075,-0.097421228885651,-0.189332664012909));
return max(float4(0,0,0,0), res);
}
