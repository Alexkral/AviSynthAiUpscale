sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.026147531345487,-0.203085377812386,0.084260404109955,-0.131344139575958,0.019894007593393,0.044989664107561,0.140404090285301,-0.195417791604996,-0.000934996467549,0.071296237409115,0.058756507933140,-0.130812868475914,0.030450435355306,0.130900233983994,-0.109633378684521,-0.018606049939990));
res += mul(Get(s0,-dx,0), float4x4(0.123660840094090,0.152578756213188,0.018202101811767,-0.033713031560183,-0.040117058902979,-0.339999228715897,0.058037027716637,0.007962459698319,-0.047706156969070,-0.061527688056231,-0.012846163474023,0.161181151866913,0.133419007062912,-0.069302186369896,0.080567739903927,0.179612115025520));
res += mul(Get(s0,-dx,dy), float4x4(0.021483128890395,0.010516965761781,0.073744326829910,-0.046995006501675,0.031701121479273,0.045710571110249,0.161240220069885,0.085853233933449,-0.048997916281223,0.005246314220130,-0.025891924276948,0.269811093807220,0.178839862346649,-0.060584958642721,-0.053772032260895,0.122494585812092));
res += mul(Get(s0,0,-dy), float4x4(0.097401745617390,-0.026071127504110,-0.012539093382657,-0.111619964241982,-0.091450825333595,0.181785687804222,-0.008102484978735,-0.086320914328098,0.146676495671272,-0.062345616519451,0.105876959860325,0.071548104286194,-0.156423315405846,0.189074501395226,-0.171298816800117,0.052334349602461));
res += mul(Get(s0,0,0), float4x4(-0.144973114132881,0.044465690851212,0.061147250235081,0.013734870590270,-0.105224050581455,-0.000054964646552,-0.051232241094112,0.278928875923157,0.137634500861168,-0.103698410093784,-0.045429237186909,-0.124658294022083,-0.053235318511724,-0.070660129189491,0.062963172793388,0.030570320785046));
res += mul(Get(s0,0,dy), float4x4(0.247382789850235,-0.179250881075859,-0.111509785056114,-0.031257946044207,-0.008563109673560,-0.150934040546417,0.186447799205780,-0.003380552865565,-0.061381116509438,-0.073008894920349,-0.119236208498478,-0.007621636614203,0.149597004055977,0.012356173247099,-0.242988079786301,0.056334868073463));
res += mul(Get(s0,dx,-dy), float4x4(-0.051765255630016,0.033219706267118,0.093991257250309,-0.064070940017700,0.097808659076691,0.083074234426022,0.110283203423023,0.131882622838020,-0.049939464777708,-0.160360574722290,-0.001627452671528,-0.022808598354459,-0.147762507200241,0.160992547869682,0.183954149484634,-0.070129200816154));
res += mul(Get(s0,dx,0), float4x4(-0.103778325021267,0.120774462819099,0.155088871717453,0.046336937695742,-0.077121980488300,0.141091540455818,-0.034073010087013,-0.054676342755556,0.126171246170998,0.202842652797699,-0.224064841866493,0.063335180282593,-0.035801392048597,-0.110805377364159,-0.072026401758194,0.018088601529598));
res += mul(Get(s0,dx,dy), float4x4(-0.023504264652729,0.035023801028728,0.003066220320761,0.056221745908260,-0.010715245269239,-0.062294263392687,0.042539823800325,-0.124155722558498,-0.067483201622963,-0.099726848304272,-0.120383910834789,-0.109493777155876,-0.112728424370289,-0.156786635518074,-0.061828948557377,0.064129874110222));
res += mul(Get(s1,-dx,-dy), float4x4(0.003756820224226,-0.029167216271162,0.061987865716219,0.166463002562523,-0.033088892698288,-0.232086345553398,0.168849781155586,-0.106776215136051,0.097169667482376,-0.107656806707382,0.019847959280014,0.012414609082043,0.032932505011559,0.126249834895134,0.082776226103306,0.089388482272625));
res += mul(Get(s1,-dx,0), float4x4(-0.067616529762745,0.104959398508072,-0.178149014711380,0.081003971397877,0.017560828477144,-0.055031839758158,-0.155930817127228,-0.082009062170982,-0.223312199115753,0.071360386908054,0.055476415902376,0.093921646475792,-0.276613414287567,-0.038254078477621,-0.017200557515025,-0.006094118114561));
res += mul(Get(s1,-dx,dy), float4x4(-0.152937561273575,-0.043595675379038,-0.048628825694323,-0.247449472546577,0.119696035981178,-0.011870886199176,0.067086122930050,-0.037725597620010,-0.048163980245590,-0.041869465261698,0.003927189856768,0.192873388528824,0.070330731570721,-0.211586683988571,0.189870998263359,0.022938517853618));
res += mul(Get(s1,0,-dy), float4x4(-0.125719040632248,0.157782658934593,0.210286125540733,0.191026225686073,-0.126280650496483,-0.176039397716522,0.232022181153297,-0.165803477168083,-0.086722820997238,0.185850828886032,-0.045599687844515,-0.096617728471756,0.073387973010540,0.164545685052872,-0.251226752996445,0.210770517587662));
res += mul(Get(s1,0,0), float4x4(0.015199118293822,-0.092929415404797,-0.001436713617295,0.099710509181023,0.074590779840946,-0.061865381896496,-0.030232477933168,-0.086955145001411,0.060302592813969,-0.023016683757305,0.053582403808832,-0.052117247134447,-0.170288637280464,-0.080715954303741,-0.196568727493286,-0.001509378314950));
res += mul(Get(s1,0,dy), float4x4(0.013620315119624,-0.058114491403103,0.043744936585426,-0.036470860242844,-0.038964446634054,0.100022330880165,-0.131988570094109,0.020507477223873,0.089367218315601,0.105301536619663,0.136507213115692,0.076511070132256,0.008390867151320,-0.058880679309368,-0.092210404574871,-0.116051778197289));
res += mul(Get(s1,dx,-dy), float4x4(-0.144654899835587,0.012581088580191,-0.147178530693054,-0.188419625163078,-0.083312809467316,0.221896156668663,-0.165671825408936,-0.122577078640461,-0.048666074872017,-0.027093172073364,0.143142089247704,-0.085187539458275,-0.074624180793762,-0.003439884865656,0.107453495264053,0.082204416394234));
res += mul(Get(s1,dx,0), float4x4(0.177508041262627,0.049872659146786,0.099623799324036,-0.041653115302324,0.055588707327843,0.035657323896885,0.021292157471180,0.188079953193665,-0.002126415492967,-0.091381199657917,0.101199865341187,0.160035997629166,-0.100095942616463,0.059508074074984,-0.062198501080275,0.044986363500357));
res += mul(Get(s1,dx,dy), float4x4(0.196170106530190,0.155747339129448,-0.104796960949898,0.024493372067809,-0.119708880782127,-0.044082567095757,-0.114299081265926,-0.139660239219666,-0.129809737205505,-0.065974079072475,-0.190329819917679,0.105361215770245,0.057968057692051,-0.159146711230278,-0.191965147852898,-0.053902398794889));
res += mul(Get(s2,-dx,-dy), float4x4(0.021081903949380,0.051395189017057,-0.062309272587299,0.167912840843201,-0.220953837037086,0.135000750422478,-0.044721834361553,-0.076185323297977,0.034820973873138,0.150619074702263,-0.030388008803129,0.012484623119235,-0.014792181551456,-0.082625389099121,0.068458735942841,0.013818826526403));
res += mul(Get(s2,-dx,0), float4x4(0.095749676227570,0.102906800806522,0.007764191366732,-0.047590661793947,-0.105082504451275,-0.056147601455450,0.132762014865875,-0.046407397836447,-0.027364015579224,-0.151459842920303,-0.261818856000900,-0.140583992004395,0.050796430557966,-0.044399313628674,0.064387835562229,-0.047917854040861));
res += mul(Get(s2,-dx,dy), float4x4(0.019143167883158,-0.149689331650734,0.020206980407238,-0.098811544477940,0.121887855231762,0.138677179813385,-0.153580278158188,-0.121486410498619,-0.013215931132436,0.019418925046921,-0.163324788212776,0.186258971691132,-0.146334350109100,-0.133898705244064,-0.017616307362914,-0.104648537933826));
res += mul(Get(s2,0,-dy), float4x4(-0.058344606310129,0.000169856139109,-0.148469015955925,-0.047011751681566,-0.051908764988184,-0.086170546710491,0.188814014196396,-0.206834375858307,-0.041740816086531,-0.045903284102678,-0.141809105873108,0.131964191794395,0.091173827648163,0.096793957054615,-0.061944864690304,-0.075405173003674));
res += mul(Get(s2,0,0), float4x4(0.048353970050812,0.153047159314156,0.066291801631451,-0.014879113063216,-0.164003759622574,0.198823973536491,-0.070624575018883,0.056328557431698,-0.109055504202843,-0.215498134493828,0.165402963757515,-0.113082498311996,-0.150903120636940,0.132120430469513,0.067210271954536,-0.031692609190941));
res += mul(Get(s2,0,dy), float4x4(-0.027346646413207,0.100442558526993,0.063432134687901,0.192593708634377,0.095920965075493,-0.164054170250893,0.046801201999187,0.115729935467243,-0.004733356647193,0.034216631203890,-0.072375997900963,0.104963369667530,-0.150534749031067,0.183148860931396,-0.118354462087154,0.099695250391960));
res += mul(Get(s2,dx,-dy), float4x4(-0.156802505254745,-0.164179623126984,-0.164262577891350,-0.090814597904682,-0.108130872249603,0.071944013237953,-0.011362884193659,0.172710478305817,0.103990301489830,-0.101575173437595,-0.134597375988960,0.182620003819466,-0.120601430535316,-0.154713347554207,-0.171741217374802,0.126107901334763));
res += mul(Get(s2,dx,0), float4x4(-0.098251640796661,-0.173018887639046,0.060612510889769,-0.031758580356836,0.045252557843924,-0.064767390489578,-0.019702106714249,-0.011894525960088,-0.187954351305962,-0.139490619301796,-0.074138283729553,-0.117540530860424,-0.217400640249252,0.011027009226382,-0.035681024193764,0.061785809695721));
res += mul(Get(s2,dx,dy), float4x4(-0.101821340620518,0.115366995334625,-0.001532332040370,-0.060513898730278,0.025733809918165,0.080775223672390,0.037541188299656,0.062106374651194,0.019565846771002,-0.034082099795341,-0.032763011753559,0.113042645156384,0.061724320054054,0.162212103605270,0.088498577475548,-0.190839633345604));
res += mul(Get(s3,-dx,-dy), float4x4(0.294504106044769,-0.143894895911217,-0.158384963870049,-0.141806334257126,-0.104656398296356,-0.008129640482366,0.251715242862701,0.174354687333107,0.127177536487579,0.176490947604179,0.048750311136246,0.180146828293800,0.073941297829151,-0.237263396382332,0.133409202098846,-0.077446840703487));
res += mul(Get(s3,-dx,0), float4x4(0.314251035451889,0.010660506784916,-0.052060358226299,-0.002188518643379,-0.137212380766869,0.211369737982750,0.087043538689613,0.165298908948898,0.145084187388420,0.097890481352806,0.051619485020638,-0.102076545357704,0.079442009329796,0.175610199570656,-0.048958458006382,-0.105339452624321));
res += mul(Get(s3,-dx,dy), float4x4(-0.035657275468111,0.295305460691452,0.001047136145644,-0.045846004039049,-0.016714731231332,0.170565634965897,0.079010523855686,-0.112900249660015,-0.028031101450324,0.058732081204653,-0.033335354179144,-0.030938286334276,0.083165496587753,0.165657967329025,-0.111594602465630,0.189680173993111));
res += mul(Get(s3,0,-dy), float4x4(0.165652811527252,0.077893085777760,-0.068068601191044,0.027059981599450,-0.140583530068398,-0.105624742805958,-0.047002810984850,-0.001754271448590,-0.160118266940117,-0.068003885447979,0.045828055590391,0.167948573827744,-0.182509347796440,0.031378280371428,0.125362515449524,-0.113541230559349));
res += mul(Get(s3,0,0), float4x4(-0.084898546338081,0.231364235281944,-0.013331251218915,0.007547810673714,-0.069531880319118,0.097934097051620,0.048885837197304,0.025276545435190,0.097970537841320,0.071589373052120,0.144572913646698,0.217596620321274,-0.115089893341064,0.201728239655495,-0.000643084116746,0.114810094237328));
res += mul(Get(s3,0,dy), float4x4(-0.019907595589757,-0.164157003164291,0.028143476694822,-0.065104871988297,-0.034281034022570,-0.158911958336830,-0.134938597679138,-0.162090063095093,-0.148950323462486,-0.003464806359261,-0.043897334486246,-0.120093263685703,0.000287174480036,-0.194964915513992,0.103235110640526,0.079068087041378));
res += mul(Get(s3,dx,-dy), float4x4(-0.092148900032043,0.144631907343864,-0.037730645388365,-0.035364747047424,0.096771948039532,0.061387658119202,0.087136909365654,0.129527077078819,-0.246626481413841,-0.038745466619730,-0.112319245934486,-0.071720220148563,-0.161727473139763,0.112811103463173,0.009130405262113,0.017197493463755));
res += mul(Get(s3,dx,0), float4x4(-0.128680273890495,0.139826416969299,-0.100653849542141,0.016238959506154,0.122628740966320,-0.121434308588505,-0.067616976797581,-0.303908973932266,-0.087231598794460,0.095920078456402,0.053078297525644,0.089406162500381,0.060714498162270,-0.066150650382042,0.022370649501681,-0.022057266905904));
res += mul(Get(s3,dx,dy), float4x4(-0.148758098483086,-0.100961416959763,-0.007596430834383,-0.027260525152087,0.124233886599541,-0.342419862747192,-0.024002335965633,0.056381460279226,-0.056046631187201,0.109944850206375,0.005301387514919,0.001506500178948,0.029927216470242,-0.039138127118349,0.110019065439701,-0.056510124355555));
return max(float4(0,0,0,0), res);
}
