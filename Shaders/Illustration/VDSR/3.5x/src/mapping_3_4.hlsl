sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.002301790984347,-0.115577809512615,-0.192482098937035,0.179421916604042,0.048570264130831,-0.256691753864288,0.015293102711439,0.030668029561639,0.127689883112907,-0.068738907575607,0.032267600297928,0.171613454818726,0.062505193054676,0.194627076387405,0.117776386439800,0.097916699945927));
res += mul(Get(s0,-dx,0), float4x4(-0.084247969090939,0.036570463329554,0.032989475876093,0.028437800705433,0.111344337463379,-0.087464965879917,0.129151776432991,-0.128348246216774,-0.052605357021093,-0.001812389236875,-0.013075128197670,0.047035548835993,0.002243238734081,0.018987998366356,-0.058632586151361,-0.169982925057411));
res += mul(Get(s0,-dx,dy), float4x4(-0.050239436328411,-0.081787258386612,0.082212254405022,-0.021989876404405,0.166009575128555,0.142191961407661,-0.218470141291618,0.088376261293888,0.112939611077309,-0.194168463349342,-0.059203296899796,-0.146751374006271,-0.041327185928822,0.028132105246186,-0.025293663144112,-0.033977869898081));
res += mul(Get(s0,0,-dy), float4x4(0.009944424964488,0.109944462776184,0.092336647212505,0.002054364653304,-0.122116751968861,-0.200949281454086,-0.171691343188286,-0.073621399700642,-0.074986651539803,-0.101566217839718,0.098130047321320,0.188311427831650,0.109915420413017,-0.236804246902466,0.305072158575058,-0.098323531448841));
res += mul(Get(s0,0,0), float4x4(-0.086215190589428,-0.165334641933441,-0.141726419329643,-0.102895572781563,0.147852942347527,0.010318396613002,-0.096569068729877,-0.037988044321537,0.009884877130389,-0.192518249154091,-0.042842824012041,-0.120274819433689,-0.013440868817270,-0.077375598251820,-0.206510215997696,0.114670485258102));
res += mul(Get(s0,0,dy), float4x4(0.055782925337553,-0.150387197732925,0.167088478803635,0.053350582718849,0.128903388977051,0.009021536447108,0.073111832141876,-0.099693045020103,-0.086415909230709,0.094547279179096,0.024316444993019,-0.033710960298777,-0.057027082890272,0.063748061656952,-0.058915164321661,0.298161327838898));
res += mul(Get(s0,dx,-dy), float4x4(0.009765406139195,-0.002600139938295,0.104526408016682,-0.007831903174520,-0.125317081809044,-0.248440206050873,-0.123368963599205,0.088351629674435,0.181447178125381,0.107338830828667,-0.019000174477696,-0.072977259755135,0.178273126482964,-0.034008640795946,0.257889002561569,0.221611648797989));
res += mul(Get(s0,dx,0), float4x4(-0.036488607525826,-0.126437544822693,0.141950428485870,-0.015065838582814,0.113530300557613,0.015096390619874,0.137657865881920,0.048964969813824,0.040874384343624,-0.013384833000600,0.056734345853329,0.029657922685146,-0.018478747457266,0.078471049666405,-0.033912409096956,-0.046488475054502));
res += mul(Get(s0,dx,dy), float4x4(-0.060631681233644,0.180378079414368,0.009422948583961,0.019999438896775,-0.138171508908272,0.061746489256620,-0.071280665695667,-0.050639037042856,-0.251166015863419,-0.040671657770872,-0.071563437581062,0.131634384393692,0.049782652407885,-0.286479949951172,-0.062216386198997,0.089318543672562));
res += mul(Get(s1,-dx,-dy), float4x4(-0.221747770905495,-0.078713856637478,0.014107960276306,0.060443915426731,-0.266871035099030,-0.072988435626030,0.149517118930817,0.065484791994095,0.033005788922310,-0.001570550841279,-0.040076315402985,0.048170119524002,0.154190227389336,-0.080383479595184,0.115000039339066,-0.309671998023987));
res += mul(Get(s1,-dx,0), float4x4(-0.066713288426399,0.033822946250439,0.059521652758121,0.081259563565254,-0.143459677696228,0.069930128753185,-0.139684438705444,0.133800998330116,-0.032566286623478,-0.159196078777313,-0.210771694779396,-0.110545426607132,-0.078500121831894,0.025234866887331,0.099883235991001,0.021745955571532));
res += mul(Get(s1,-dx,dy), float4x4(0.097430385649204,0.089425407350063,-0.163593694567680,-0.149069249629974,-0.005073164589703,-0.162464380264282,0.078638657927513,-0.215034216642380,0.023215318098664,-0.175423815846443,-0.019048795104027,-0.030016863718629,0.195399045944214,-0.081502795219421,-0.030369829386473,0.070052564144135));
res += mul(Get(s1,0,-dy), float4x4(0.061058282852173,-0.050790302455425,-0.116323001682758,0.029335428029299,0.001059749163687,-0.169021591544151,0.136963337659836,0.076529569923878,0.068873159587383,0.010954473167658,-0.197291776537895,0.018999289721251,-0.033875610679388,0.105663970112801,0.191484898328781,-0.086794719099998));
res += mul(Get(s1,0,0), float4x4(-0.114346027374268,-0.010324488393962,0.272753745317459,-0.234655171632767,0.075631380081177,-0.131798103451729,-0.079091385006905,0.087709218263626,-0.162974283099174,0.258335292339325,0.080647632479668,0.118603274226189,0.280003696680069,-0.049635700881481,0.058356132358313,-0.112329006195068));
res += mul(Get(s1,0,dy), float4x4(-0.001267548650503,0.207584321498871,-0.053075093775988,-0.128479391336441,0.000303864566376,-0.268205821514130,-0.195714205503464,-0.160816594958305,-0.070903509855270,0.107106700539589,0.199737846851349,-0.083392672240734,0.015567529015243,-0.117036595940590,0.032488454133272,0.149502471089363));
res += mul(Get(s1,dx,-dy), float4x4(-0.129290133714676,-0.085505038499832,-0.048701852560043,-0.082707464694977,0.013441791757941,-0.126538738608360,0.011751955375075,-0.132552191615105,-0.035206459462643,0.061863437294960,0.024176068603992,-0.086222328245640,-0.046031549572945,-0.142595648765564,0.080711454153061,0.057019177824259));
res += mul(Get(s1,dx,0), float4x4(0.067301802337170,0.009880588389933,0.053223803639412,0.224704891443253,0.097578741610050,0.054329704493284,-0.137792646884918,0.018534788861871,0.152161881327629,-0.050992373377085,-0.061214812099934,-0.150478839874268,0.123245470225811,-0.023651659488678,-0.134220704436302,0.046755563467741));
res += mul(Get(s1,dx,dy), float4x4(-0.083189465105534,0.157597199082375,-0.063214108347893,-0.101850345730782,-0.100469276309013,0.192483574151993,-0.252988368272781,0.278341501951218,-0.063846603035927,-0.049721505492926,0.013797657564282,-0.019674830138683,-0.131086915731430,-0.038152493536472,-0.197851762175560,0.040562000125647));
res += mul(Get(s2,-dx,-dy), float4x4(-0.020232494920492,-0.086012043058872,-0.007570505607873,0.191039994359016,0.102908492088318,0.031214281916618,-0.052551303058863,-0.028379047289491,0.100479818880558,-0.149561837315559,-0.071863561868668,-0.103242993354797,0.103316977620125,-0.088096290826797,0.045213092118502,0.051316138356924));
res += mul(Get(s2,-dx,0), float4x4(0.091002643108368,0.257062345743179,-0.040709953755140,-0.020175671204925,-0.054989412426949,-0.169700711965561,0.095824033021927,0.048567499965429,0.034663636237383,0.108020149171352,0.008099193684757,0.171697750687599,-0.103586412966251,0.147059813141823,-0.009562286548316,-0.057451646775007));
res += mul(Get(s2,-dx,dy), float4x4(0.070486083626747,-0.012381203472614,-0.129183024168015,0.331435382366180,0.098546639084816,0.034842789173126,0.123428940773010,-0.083421140909195,-0.277561157941818,-0.003896981943399,-0.178860187530518,-0.076089352369308,-0.037425059825182,-0.020320283249021,-0.242926985025406,-0.039564624428749));
res += mul(Get(s2,0,-dy), float4x4(0.023310719057918,-0.064673811197281,0.075874514877796,-0.048787083476782,-0.108007468283176,0.047379165887833,-0.152625098824501,0.001935063279234,-0.062847599387169,0.032467443495989,0.044879201799631,-0.004292174242437,0.085785120725632,-0.054834473878145,-0.157156527042389,0.075893417000771));
res += mul(Get(s2,0,0), float4x4(-0.094436071813107,0.123020440340042,-0.076239816844463,0.189613118767738,-0.173556745052338,0.022375505417585,0.126197457313538,-0.111833594739437,-0.085672289133072,0.000972137611825,0.074572294950485,-0.042793337255716,0.091542616486549,0.181553155183792,-0.187820643186569,0.042529843747616));
res += mul(Get(s2,0,dy), float4x4(-0.010686920024455,0.195369571447372,-0.241921350359917,-0.152561187744141,0.229592382907867,-0.088795453310013,0.029514109715819,0.002410627203062,-0.095044940710068,-0.169534057378769,0.160109132528305,-0.007902891375124,-0.051018930971622,0.176864296197891,-0.115443274378777,0.137967750430107));
res += mul(Get(s2,dx,-dy), float4x4(-0.053385507315397,0.147711321711540,0.114956140518188,0.078522481024265,0.070256538689137,0.002767048543319,-0.105641916394234,-0.128851860761642,-0.029592690989375,-0.088138766586781,0.012368937022984,-0.173667177557945,-0.089952573180199,-0.022451207041740,-0.149149000644684,0.026967454701662));
res += mul(Get(s2,dx,0), float4x4(0.028736447915435,-0.019106524065137,-0.031652115285397,-0.016359781846404,-0.128305763006210,0.047864478081465,0.109737977385521,-0.027492465451360,0.014928610064089,0.034957271069288,0.203136369585991,-0.062026839703321,0.213531583547592,-0.167324185371399,0.009853473864496,-0.160689458250999));
res += mul(Get(s2,dx,dy), float4x4(0.155523091554642,-0.022106131538749,-0.027109017595649,-0.164051696658134,-0.187171936035156,-0.056623846292496,0.126134395599365,-0.001002053380944,-0.032227821648121,-0.133733108639717,0.097751043736935,-0.165973037481308,-0.205072388052940,-0.111235767602921,0.115652270615101,0.260646283626556));
res += mul(Get(s3,-dx,-dy), float4x4(-0.406456798315048,0.006916604936123,0.031680237501860,0.140864923596382,-0.068048723042011,0.154288619756699,0.291268557310104,-0.026299349963665,-0.000719674571883,0.116529963910580,0.173754885792732,-0.015892809256911,0.292415380477905,-0.035771626979113,-0.256879478693008,0.068614900112152));
res += mul(Get(s3,-dx,0), float4x4(0.083413027226925,0.030000085011125,0.061557114124298,-0.041658263653517,-0.150744736194611,0.000505775446072,-0.097448289394379,0.051610704511404,-0.107773952186108,0.109989114105701,0.130417704582214,-0.210273265838623,0.029906952753663,0.087193280458450,-0.058709464967251,-0.044596280902624));
res += mul(Get(s3,-dx,dy), float4x4(0.102006532251835,-0.031302697956562,-0.174331471323967,-0.211715489625931,-0.005683764349669,0.063391193747520,-0.082160741090775,0.149110168218613,0.120130904018879,0.172587841749191,-0.244019076228142,0.155845969915390,0.293516188859940,-0.130648121237755,-0.137827232480049,0.088446274399757));
res += mul(Get(s3,0,-dy), float4x4(-0.000695908442140,-0.004735102877021,0.100820139050484,-0.087438613176346,0.070902168750763,0.122440747916698,-0.064615547657013,0.136523202061653,-0.260642409324646,0.005581398494542,0.076265960931778,0.024622460827231,0.048092052340508,0.108401663601398,0.067174948751926,-0.036683484911919));
res += mul(Get(s3,0,0), float4x4(-0.086431428790092,0.020805012434721,-0.153580084443092,0.031173961237073,-0.069759398698807,0.039494443684816,0.016147412359715,-0.079323083162308,-0.068681821227074,-0.002056552795693,0.050687842071056,-0.152984619140625,0.099505610764027,-0.085778214037418,-0.005861407611519,0.121549285948277));
res += mul(Get(s3,0,dy), float4x4(-0.233334809541702,0.070016302168369,-0.025504855439067,0.025661373510957,-0.053623132407665,-0.022581005468965,-0.161653608083725,0.056820005178452,-0.214316233992577,0.118625812232494,0.092511996626854,0.001363346586004,0.260424524545670,0.106175109744072,-0.001709580421448,0.034029372036457));
res += mul(Get(s3,dx,-dy), float4x4(-0.186785355210304,0.060669440776110,-0.160967126488686,0.044769778847694,-0.038334053009748,0.096528224647045,-0.060939878225327,-0.051555737853050,-0.126390427350998,0.006168035324663,0.049632132053375,-0.021403620019555,0.061874877661467,-0.083005815744400,-0.116130724549294,-0.053910620510578));
res += mul(Get(s3,dx,0), float4x4(-0.144691199064255,-0.028308318927884,0.035829097032547,-0.069953769445419,0.016403339803219,-0.036391377449036,0.068479076027870,0.153724461793900,-0.181155979633331,-0.021310843527317,0.000507388613187,0.078520946204662,0.037519466131926,0.052311576902866,-0.067164503037930,-0.092610687017441));
res += mul(Get(s3,dx,dy), float4x4(-0.019274687394500,-0.151976630091667,-0.206285804510117,0.034522011876106,-0.168374985456467,-0.158615469932556,-0.045128110796213,0.029270540922880,0.115854315459728,-0.009554970078170,-0.103293657302856,0.121584676206112,-0.105018891394138,0.105967603623867,-0.115634731948376,0.051916588097811));
return max(float4(0,0,0,0), res);
}
