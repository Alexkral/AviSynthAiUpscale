sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.173541218042374,-0.057593490928411,0.074121877551079,-0.098307445645332,-0.057099428027868,-0.040999848395586,-0.100094906985760,-0.057413838803768,0.060537073761225,0.171514987945557,0.014773634262383,-0.068363688886166,0.033255588263273,0.047796025872231,-0.208020821213722,-0.034578986465931));
res += mul(Get(s0,-dx,0), float4x4(-0.011393889784813,-0.068711541593075,-0.029899673536420,-0.183477997779846,-0.024902323260903,-0.102250032126904,0.201574906706810,0.025816366076469,0.059179592877626,-0.197539418935776,0.441147387027740,0.138035997748375,0.004623982589692,-0.180168330669403,-0.194346174597740,0.018451780080795));
res += mul(Get(s0,-dx,dy), float4x4(-0.034504085779190,0.179879784584045,-0.083154924213886,-0.060318741947412,-0.033097296953201,-0.114528201520443,-0.139786079525948,0.089375071227551,0.093183107674122,0.043921813368797,-0.165877133607864,-0.164982870221138,0.147691801190376,-0.156099289655685,-0.278039366006851,0.050437312573195));
res += mul(Get(s0,0,-dy), float4x4(0.067607082426548,0.062860004603863,-0.001305414945818,-0.054336983710527,-0.052726056426764,0.045369021594524,-0.167860254645348,-0.055533993989229,0.004348550457507,0.012600483372808,-0.070634447038174,-0.275197952985764,-0.027717875316739,-0.079711198806763,-0.155044406652451,-0.179837584495544));
res += mul(Get(s0,0,0), float4x4(-0.014608941972256,0.046850942075253,-0.035308022052050,-0.117507994174957,-0.091715186834335,-0.006288822740316,0.002140128053725,0.114825360476971,-0.296406537294388,-0.090409554541111,0.116040632128716,0.026806529611349,-0.309664994478226,-0.114309355616570,-0.277428239583969,0.020423283800483));
res += mul(Get(s0,0,dy), float4x4(0.273345500230789,0.294514447450638,-0.013571179471910,0.033512763679028,-0.136739879846573,-0.009305384941399,0.058155119419098,-0.030674096196890,-0.164142698049545,-0.081439882516861,0.258074671030045,-0.185425415635109,-0.075486980378628,0.157377555966377,-0.276069402694702,0.211059063673019));
res += mul(Get(s0,dx,-dy), float4x4(0.110195986926556,0.023022653535008,0.161512985825539,-0.143644675612450,0.004871028941125,0.008541149087250,-0.166406452655792,-0.061863433569670,0.033274974673986,-0.199659347534180,-0.044727928936481,-0.316820293664932,-0.046485465019941,-0.077745318412781,-0.039232365787029,-0.048675421625376));
res += mul(Get(s0,dx,0), float4x4(-0.175458103418350,-0.218384847044945,0.101306855678558,0.019386835396290,-0.056168273091316,0.089128613471985,0.039437770843506,0.157081797719002,-0.038762427866459,-0.122029058635235,-0.142321661114693,-0.156517103314400,-0.088299959897995,-0.030455533415079,-0.145733982324600,-0.022658422589302));
res += mul(Get(s0,dx,dy), float4x4(-0.037014011293650,-0.137852281332016,0.134078174829483,0.175962969660759,-0.103209346532822,0.163000792264938,0.168918967247009,-0.131268367171288,0.610661387443542,0.131996735930443,-0.236823499202728,-0.228078484535217,0.107683904469013,-0.149028509855270,-0.036081060767174,-0.208868682384491));
res += mul(Get(s1,-dx,-dy), float4x4(-0.275225579738617,-0.041820533573627,0.003363333409652,0.097479611635208,-0.089087136089802,-0.124936699867249,-0.012701462954283,0.043053727596998,-0.008824764750898,-0.004131917841733,-0.139399379491806,-0.099408395588398,-0.169302880764008,0.038894135504961,0.010997952893376,-0.094449438154697));
res += mul(Get(s1,-dx,0), float4x4(-0.289678931236267,0.070377185940742,-0.110654681921005,0.295176863670349,-0.085218712687492,0.165914088487625,-0.042601525783539,0.310064673423767,0.072296641767025,0.213585019111633,0.007618635427207,-0.245366930961609,-0.041394509375095,-0.161669999361038,-0.058681737631559,0.075887940824032));
res += mul(Get(s1,-dx,dy), float4x4(-0.141047418117523,0.153077274560928,0.281716674566269,-0.255417436361313,-0.150974169373512,0.227840751409531,-0.072072006762028,0.053073924034834,-0.167961254715919,-0.209611415863037,0.079617500305176,0.319609373807907,-0.041512593626976,-0.261713832616806,-0.082407161593437,0.149279236793518));
res += mul(Get(s1,0,-dy), float4x4(-0.138741984963417,-0.042770102620125,-0.153463214635849,-0.236680373549461,-0.061722006648779,-0.058290556073189,-0.089128322899342,0.086203664541245,0.066174589097500,-0.255141586065292,-0.100328095257282,-0.012702618725598,-0.092040941119194,-0.259092271327972,0.093502663075924,-0.069131135940552));
res += mul(Get(s1,0,0), float4x4(-0.132986634969711,-0.144260436296463,0.040119640529156,0.162145152688026,-0.183567523956299,-0.123360186815262,-0.158636122941971,0.017357317730784,0.002680457662791,0.056744322180748,0.010587248019874,-0.001713784877211,-0.014548966661096,-0.201629608869553,-0.052285987883806,0.154814496636391));
res += mul(Get(s1,0,dy), float4x4(0.118713185191154,0.065027281641960,-0.087202556431293,-0.071043014526367,-0.205911532044411,-0.268647432327271,-0.064091198146343,0.063374146819115,-0.038474615663290,0.247730612754822,0.073749244213104,0.322133749723434,0.036636780947447,-0.094805248081684,-0.038030065596104,0.141669064760208));
res += mul(Get(s1,dx,-dy), float4x4(-0.128300368785858,-0.223180130124092,-0.254922986030579,-0.119744047522545,-0.091836564242840,0.207772254943848,0.059835501015186,0.056107711046934,-0.028331162407994,0.280707120895386,-0.055567678064108,-0.141601741313934,-0.135253608226776,-0.105893395841122,0.091883920133114,-0.119848929345608));
res += mul(Get(s1,dx,0), float4x4(-0.181166112422943,-0.079536981880665,-0.115017123520374,0.158234477043152,-0.104798674583435,-0.006272110156715,-0.097720660269260,-0.131973534822464,-0.085515215992928,0.459926486015320,-0.042232874780893,-0.054422333836555,-0.031161257997155,-0.055580954998732,-0.161385402083397,0.002232155296952));
res += mul(Get(s1,dx,dy), float4x4(0.187563970685005,0.053648900240660,-0.113907344639301,0.222434878349304,-0.051609128713608,-0.244424819946289,0.045882042497396,-0.093927495181561,-0.080121882259846,0.046459782868624,-0.102428197860718,-0.151496037840843,0.129207879304886,-0.053521152585745,-0.222567766904831,-0.000834006816149));
res += mul(Get(s2,-dx,-dy), float4x4(0.116711504757404,0.087045609951019,-0.048046324402094,0.009703612886369,-0.100330613553524,0.055352732539177,-0.157390311360359,-0.011094490066171,-0.204578205943108,-0.231657058000565,0.062662437558174,0.084430217742920,0.034831710159779,0.051899425685406,-0.144272640347481,0.055702984333038));
res += mul(Get(s2,-dx,0), float4x4(-0.054311022162437,0.059729989618063,0.045054718852043,0.026793939992785,-0.256042897701263,-0.013239998370409,-0.014668787829578,-0.041896201670170,0.044977683573961,-0.240378499031067,0.173416510224342,-0.194980770349503,0.019001111388206,-0.089303947985172,-0.002563809975982,0.392562240362167));
res += mul(Get(s2,-dx,dy), float4x4(-0.045513007789850,0.349765181541443,-0.049419023096561,0.287889987230301,-0.088288903236389,0.083654843270779,0.003856814932078,0.042881485074759,-0.210956290364265,0.230416521430016,0.327134221792221,0.080569401383400,0.234992027282715,-0.031451173126698,-0.092380277812481,0.146422073245049));
res += mul(Get(s2,0,-dy), float4x4(0.188311308622360,0.208970472216606,-0.055429890751839,0.011377485468984,0.177481994032860,0.049850966781378,-0.094207271933556,-0.143905505537987,0.080486059188843,-0.160063788294792,-0.299607157707214,0.202685147523880,-0.061117198318243,0.040979981422424,-0.142842516303062,-0.265106320381165));
res += mul(Get(s2,0,0), float4x4(-0.120284393429756,-0.056245170533657,0.040724441409111,-0.053804300725460,-0.018991839140654,-0.169695019721985,0.024394094944000,-0.106005482375622,0.229239210486412,-0.133504822850227,-0.283468604087830,-0.264724344015121,-0.386040329933167,-0.114917576313019,-0.093445427715778,0.030645929276943));
res += mul(Get(s2,0,dy), float4x4(-0.059161521494389,-0.328753948211670,-0.222926363348961,0.032809883356094,-0.025648282840848,-0.122361481189728,-0.101983278989792,0.286741644144058,0.036573451012373,0.035862367600203,-0.078663863241673,0.193113684654236,0.205178231000900,-0.206280022859573,0.108130156993866,0.210017532110214));
res += mul(Get(s2,dx,-dy), float4x4(0.153093710541725,0.271588683128357,-0.121547445654869,-0.016282234340906,0.057334527373314,0.486739724874496,0.080231979489326,-0.108991891145706,0.028709076344967,-0.238269373774529,-0.106256715953350,0.110071502625942,-0.070159859955311,-0.158243730664253,-0.067638210952282,-0.149765297770500));
res += mul(Get(s2,dx,0), float4x4(-0.093903288245201,-0.033039737492800,0.072861917316914,-0.192080602049828,-0.051147341728210,-0.095980808138847,0.090824186801910,-0.253191739320755,-0.124700263142586,-0.061494473367929,-0.094674907624722,-0.137492075562477,-0.185174033045769,-0.002155936555937,-0.005367504898459,-0.195484474301338));
res += mul(Get(s2,dx,dy), float4x4(-0.025827974081039,-0.003479382488877,0.085797429084778,-0.082541510462761,-0.109759807586670,-0.074384264647961,-0.061116464436054,0.043224055320024,-0.142710790038109,0.112411156296730,0.072280474007130,0.139107614755630,0.360688418149948,0.214355617761612,0.178505957126617,-0.416581749916077));
res += mul(Get(s3,-dx,-dy), float4x4(0.140663057565689,0.177563011646271,0.013671576976776,-0.153200775384903,-0.069319166243076,-0.044809594750404,-0.164713978767395,-0.193431094288826,-0.158019378781319,-0.071207024157047,-0.066622510552406,-0.231852158904076,-0.116872832179070,0.174376636743546,-0.064694285392761,-0.117111891508102));
res += mul(Get(s3,-dx,0), float4x4(0.156588390469551,-0.066495031118393,0.062161065638065,-0.151532232761383,-0.076157048344612,0.149818629026413,-0.112535290420055,0.113678693771362,-0.093242660164833,0.084871076047421,-0.274399191141129,-0.137630283832550,-0.019887415692210,-0.029390856623650,-0.081088699400425,-0.272725641727448));
res += mul(Get(s3,-dx,dy), float4x4(0.063634723424911,-0.206767931580544,0.130204364657402,-0.061557441949844,-0.026416784152389,-0.035281859338284,-0.105267450213432,0.067162305116653,-0.058922946453094,-0.288489222526550,-0.219972953200340,-0.034286569803953,-0.008646752685308,-0.236550033092499,-0.278131812810898,-0.169137269258499));
res += mul(Get(s3,0,-dy), float4x4(-0.205376476049423,0.003488997928798,-0.058119971305132,0.010272135958076,0.041947696357965,0.125094413757324,-0.028306001797318,-0.127039313316345,-0.067692987620831,0.046372272074223,0.169231474399567,-0.134147375822067,-0.144006088376045,-0.029100600630045,-0.278889626264572,0.029458682984114));
res += mul(Get(s3,0,0), float4x4(-0.048186633735895,-0.101545691490173,0.026475416496396,0.030593158677220,-0.066669508814812,0.206056267023087,-0.025097405537963,-0.083674773573875,-0.047331895679235,-0.159078821539879,-0.177488580346107,-0.092365831136703,-0.054700590670109,-0.038105096668005,-0.022500222548842,-0.031549379229546));
res += mul(Get(s3,0,dy), float4x4(-0.234699860215187,-0.058326032012701,0.022941436618567,0.053414165973663,0.041347421705723,-0.075999580323696,-0.044424012303352,-0.182080999016762,-0.000682869635057,-0.415274560451508,0.070381648838520,-0.090683989226818,-0.007027267012745,-0.269373446702957,0.071148931980133,-0.198143556714058));
res += mul(Get(s3,dx,-dy), float4x4(0.000758874928579,-0.041404452174902,0.100070372223854,0.136163294315338,-0.028817212209105,-0.259049177169800,0.043658677488565,-0.060541301965714,-0.132647052407265,-0.155108377337456,-0.014408923685551,-0.202526003122330,-0.130588874220848,-0.062575958669186,-0.111817695200443,-0.065304554998875));
res += mul(Get(s3,dx,0), float4x4(0.091312810778618,-0.029892774298787,0.068439088761806,0.041064757853746,0.081621564924717,-0.249794051051140,0.056834664195776,0.006787240970880,-0.000393192254705,-0.200085684657097,-0.069201052188873,-0.113282799720764,-0.052588827908039,-0.094719626009464,-0.027664141729474,-0.136084973812103));
res += mul(Get(s3,dx,dy), float4x4(-0.052538912743330,-0.053883764892817,0.033011175692081,-0.019277052953839,-0.099639274179935,0.151675328612328,0.021450221538544,0.010097787715495,0.190562844276428,-0.142732501029968,0.205970942974091,-0.158285215497017,0.003080183174461,-0.119100384414196,0.162182807922363,-0.305833131074905));
return max(float4(0,0,0,0), res);
}
