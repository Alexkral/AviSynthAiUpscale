sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.022494778037071,-0.008232974447310,-0.209518313407898,0.085979662835598,0.031163541600108,0.185212105512619,-0.150662109255791,-0.050110552459955,0.028397293761373,0.019440026953816,-0.083606615662575,-0.064518056809902,0.069621771574020,-0.070182822644711,0.043112367391586,-0.025160215795040));
res += mul(Get(s0,-dx,0), float4x4(-0.269002854824066,-0.077812492847443,-0.243795216083527,0.112385749816895,0.072220154106617,0.103401392698288,-0.234747543931007,-0.111396774649620,-0.235957294702530,-0.002184497658163,-0.015058464370668,-0.053389690816402,-0.043068110942841,0.093563295900822,0.002131764544174,0.125046387314796));
res += mul(Get(s0,-dx,dy), float4x4(-0.200221657752991,0.138705968856812,-0.027528284117579,0.099847607314587,-0.010578324086964,-0.006323413923383,0.003114961786196,-0.101687587797642,0.057562272995710,0.025754403322935,0.170285075902939,0.198488846421242,-0.141146376729012,-0.005366398487240,0.104741595685482,-0.196200698614120));
res += mul(Get(s0,0,-dy), float4x4(-0.044208154082298,0.187974959611893,-0.190513849258423,0.024083111435175,0.126815974712372,-0.162704855203629,-0.146065279841423,0.042088303714991,-0.002468379214406,0.175351530313492,0.004308285191655,0.114885523915291,-0.187984734773636,-0.053048245608807,-0.145979344844818,0.007285969331861));
res += mul(Get(s0,0,0), float4x4(0.003219228237867,-0.004620577208698,-0.032367318868637,-0.070873089134693,0.265857994556427,-0.140036657452583,0.095727652311325,-0.078076876699924,-0.045448191463947,-0.166432455182076,-0.090608395636082,-0.019880315288901,0.015892161056399,0.012106153182685,0.069812558591366,-0.139358058571815));
res += mul(Get(s0,0,dy), float4x4(-0.145100563764572,-0.017279222607613,0.065320305526257,-0.038873434066772,0.218574553728104,0.112372189760208,0.139938190579414,-0.106014795601368,0.042524389922619,0.107477091252804,-0.162330985069275,-0.031575594097376,0.103572949767113,-0.010698704980314,0.189690306782722,-0.137459591031075));
res += mul(Get(s0,dx,-dy), float4x4(0.025145323947072,-0.115105070173740,0.033056534826756,0.000460581970401,-0.009862209670246,0.102521143853664,-0.026674034073949,-0.088232673704624,-0.070504270493984,0.152924299240112,0.005713220220059,-0.012806679122150,-0.138055339455605,0.030204227194190,0.190080299973488,-0.083962239325047));
res += mul(Get(s0,dx,0), float4x4(-0.076820909976959,-0.075819142162800,-0.097603805363178,-0.082592487335205,0.009782749228179,0.087304815649986,-0.024281514808536,0.072688795626163,0.057224836200476,-0.010451906360686,-0.001115343300626,-0.146783426403999,0.047245167195797,-0.118677094578743,0.060761865228415,-0.031270321458578));
res += mul(Get(s0,dx,dy), float4x4(0.241127118468285,-0.099725008010864,-0.106272011995316,0.040609184652567,-0.034497100859880,-0.192549332976341,0.052956916391850,-0.030831089243293,-0.207779556512833,-0.028299709782004,0.015105781145394,-0.003175347577780,-0.048380099236965,-0.164342075586319,-0.008714310824871,0.120313622057438));
res += mul(Get(s1,-dx,-dy), float4x4(0.017625931650400,0.221753790974617,-0.135072201490402,-0.102086752653122,-0.091108731925488,-0.119667202234268,-0.097004838287830,0.048626501113176,0.116434663534164,-0.060861427336931,-0.041555721312761,-0.058012288063765,-0.061179362237453,-0.055650763213634,0.056490082293749,0.043684676289558));
res += mul(Get(s1,-dx,0), float4x4(0.095251798629761,0.024188935756683,-0.015869203954935,-0.050720449537039,-0.059517104178667,0.194297075271606,0.131830468773842,0.005456448998302,0.113943658769131,-0.138532891869545,-0.113839745521545,-0.081423729658127,-0.012301352806389,-0.200828388333321,-0.018982028588653,0.095878764986992));
res += mul(Get(s1,-dx,dy), float4x4(0.064791098237038,0.085668951272964,-0.064862437546253,-0.013388395309448,-0.099163249135017,0.204555690288544,0.050728850066662,0.016488172113895,-0.032813303172588,0.013973832130432,0.031363774091005,0.160443693399429,0.032402042299509,0.135779663920403,-0.089416891336441,-0.011669741943479));
res += mul(Get(s1,0,-dy), float4x4(-0.087686687707901,-0.093408443033695,-0.001047113211825,0.039752550423145,-0.064748905599117,-0.062751539051533,-0.121743194758892,0.046182334423065,0.041978746652603,-0.025206653401256,-0.110889472067356,-0.259250164031982,-0.126154854893684,0.088311553001404,0.068656854331493,-0.128023505210876));
res += mul(Get(s1,0,0), float4x4(-0.253067225217819,0.068195655941963,-0.004741584882140,0.016868891194463,0.172930747270584,0.037945121526718,-0.062320578843355,0.241746813058853,0.027805855497718,0.053172904998064,0.058667276054621,-0.054344445466995,0.085410058498383,-0.009065188467503,0.005453151185066,-0.059161379933357));
res += mul(Get(s1,0,dy), float4x4(0.042422499507666,0.184578031301498,0.009697500616312,-0.047953713685274,0.099740073084831,0.057942938059568,-0.271740227937698,0.160780236124992,-0.166192770004272,-0.054951246827841,-0.154500037431717,-0.103409364819527,-0.027983266860247,-0.136350616812706,-0.106514774262905,-0.130904972553253));
res += mul(Get(s1,dx,-dy), float4x4(-0.101958088576794,-0.016634935513139,0.110677301883698,-0.010149623267353,0.142523437738419,-0.010354470461607,0.117748424410820,0.033853724598885,-0.063093595206738,0.138929620385170,-0.179316759109497,-0.069213479757309,0.104815445840359,0.085369698703289,-0.114182375371456,0.091706715524197));
res += mul(Get(s1,dx,0), float4x4(0.071375787258148,-0.025530904531479,-0.058156732469797,-0.004109998233616,-0.065695203840733,0.143831253051758,0.018148794770241,-0.060264915227890,-0.017803678289056,0.078918360173702,-0.115078419446945,0.133482888340950,0.133480176329613,-0.087146155536175,-0.169974833726883,-0.003979054279625));
res += mul(Get(s1,dx,dy), float4x4(-0.096581928431988,-0.107947148382664,-0.028527187183499,0.033965259790421,-0.110191710293293,-0.053839769214392,-0.008652522228658,-0.155480459332466,0.125757098197937,-0.023245014250278,-0.048026960343122,0.139762833714485,-0.049122750759125,-0.138749614357948,0.082359060645103,-0.007299836724997));
res += mul(Get(s2,-dx,-dy), float4x4(0.080369904637337,-0.214206486940384,-0.197654306888580,0.142213717103004,-0.111079804599285,0.164007470011711,-0.089438937604427,0.216469720005989,0.026431225240231,0.027279628440738,0.130182266235352,0.117133490741253,-0.019407985731959,0.016791768372059,0.028965497389436,0.108640663325787));
res += mul(Get(s2,-dx,0), float4x4(-0.023129411041737,0.036708358675241,-0.058602143079042,0.170336663722992,-0.020063092932105,0.029823370277882,0.094723626971245,-0.311022073030472,0.022405477240682,-0.025275520980358,0.014204132370651,0.096050180494785,-0.182310074567795,-0.046119388192892,-0.159433066844940,0.211957201361656));
res += mul(Get(s2,-dx,dy), float4x4(0.185417994856834,-0.035076092928648,-0.088799029588699,-0.131585732102394,-0.060382846742868,-0.051804471760988,0.251980751752853,-0.022125529125333,0.016051318496466,0.012372796423733,0.084406919777393,0.155896916985512,-0.102041013538837,-0.204031452536583,0.100760929286480,-0.111105583608150));
res += mul(Get(s2,0,-dy), float4x4(0.060761589556932,0.009173043072224,-0.091664873063564,-0.131016209721565,0.023765616118908,0.326586276292801,0.049870673567057,-0.250133186578751,0.101201802492142,-0.004016299266368,0.091765135526657,-0.222518458962440,0.101810127496719,-0.014499351382256,-0.000224009796511,0.123064115643501));
res += mul(Get(s2,0,0), float4x4(0.014479568228126,-0.042715873569250,0.009624950587749,0.058464135974646,0.029405469074845,-0.058071546256542,0.143872052431107,-0.154250517487526,0.064425863325596,0.107182450592518,0.004570450633764,0.200966671109200,-0.060339435935020,0.088855363428593,-0.033397786319256,-0.079214699566364));
res += mul(Get(s2,0,dy), float4x4(0.009221159853041,-0.076348714530468,-0.071460343897343,0.134109884500504,-0.017091181129217,-0.080841332674026,0.056347589939833,-0.045975167304277,0.050658740103245,0.027341332286596,0.003900123061612,0.366681277751923,0.117124170064926,-0.181048080325127,0.001749685499817,-0.185735583305359));
res += mul(Get(s2,dx,-dy), float4x4(-0.024382030591369,0.205262869596481,0.005257569253445,0.144539892673492,-0.011286900378764,0.081069469451904,0.061712704598904,0.044408164918423,0.051958624273539,-0.057895425707102,0.025797439739108,-0.079547628760338,0.042864825576544,0.100420847535133,0.038233235478401,0.159683734178543));
res += mul(Get(s2,dx,0), float4x4(0.005287679843605,-0.226415887475014,-0.044630859047174,0.148240208625793,0.086181126534939,-0.161426916718483,0.009698176756501,-0.062990061938763,0.147204235196114,0.068918645381927,0.216448679566383,-0.145031347870827,-0.078653924167156,0.018717078492045,-0.128357440233231,0.076883055269718));
res += mul(Get(s2,dx,dy), float4x4(0.151706606149673,0.091520898044109,0.114654287695885,0.125280767679214,-0.229217767715454,-0.157270953059196,0.135211244225502,-0.162472724914551,0.114850394427776,0.259632050991058,-0.039928372949362,0.011825353838503,-0.180778518319130,-0.091766275465488,0.087440453469753,-0.234724402427673));
res += mul(Get(s3,-dx,-dy), float4x4(-0.152077019214630,0.014394329860806,0.014771371148527,-0.065249010920525,-0.221927955746651,-0.077029816806316,0.226317360997200,-0.062665902078152,-0.019052779302001,-0.130209416151047,0.017945382744074,-0.019910894334316,-0.210892811417580,0.129935726523399,-0.089663334190845,0.046062238514423));
res += mul(Get(s3,-dx,0), float4x4(-0.056820694357157,0.008733371272683,-0.013025024905801,0.057886157184839,0.017280772328377,0.196742326021194,0.115769848227501,0.057923130691051,0.039760764688253,-0.203926220536232,-0.012340093031526,0.220427349209785,0.016635973006487,-0.022734692320228,0.070787854492664,-0.166110455989838));
res += mul(Get(s3,-dx,dy), float4x4(-0.144484758377075,-0.258306324481964,-0.034773759543896,0.136198669672012,-0.182358205318451,-0.066355101764202,0.046380285173655,0.033003930002451,-0.270924121141434,0.120565980672836,0.026354158297181,0.257189095020294,-0.150860637426376,0.097721301019192,-0.313561856746674,-0.009112573228776));
res += mul(Get(s3,0,-dy), float4x4(-0.069294549524784,-0.025983922183514,0.033624205738306,0.032880794256926,-0.077808111906052,0.129899457097054,0.020434170961380,0.123936235904694,0.097463868558407,0.043341059237719,0.100520916283131,0.182960227131844,0.044347513467073,0.033272631466389,-0.203587979078293,0.216085180640221));
res += mul(Get(s3,0,0), float4x4(-0.070029184222221,0.159648701548576,0.071968384087086,0.188658267259598,-0.070121459662914,0.045458536595106,0.084721311926842,0.051019448786974,0.058513678610325,0.056858960539103,0.029579548165202,0.116870515048504,0.014236761257052,-0.086969554424286,-0.135179266333580,-0.131870359182358));
res += mul(Get(s3,0,dy), float4x4(0.002886454109102,-0.113498106598854,0.010681793093681,-0.097702085971832,0.119805306196213,-0.072014346718788,0.128059729933739,0.066935792565346,0.010428752750158,0.100651800632477,0.054722368717194,0.175873994827271,-0.088229537010193,-0.077363677322865,0.219364926218987,-0.310281276702881));
res += mul(Get(s3,dx,-dy), float4x4(-0.032409820705652,-0.055112171918154,0.116435319185257,-0.120315790176392,-0.123312480747700,-0.008194544352591,-0.086312286555767,0.282849878072739,0.180232807993889,-0.063461579382420,0.140673577785492,0.156542226672173,0.071589544415474,0.091040447354317,-0.038127832114697,-0.318885505199432));
res += mul(Get(s3,dx,0), float4x4(-0.231784328818321,-0.025747384876013,-0.073609948158264,0.087200552225113,0.101857312023640,-0.132993295788765,-0.164844900369644,0.091643668711185,-0.081780806183815,-0.289661288261414,0.035633072257042,-0.042221255600452,0.292683959007263,0.137434467673302,-0.253381282091141,-0.081459879875183));
res += mul(Get(s3,dx,dy), float4x4(-0.105224318802357,-0.023246945813298,-0.149443462491035,0.005838914774358,-0.019479455426335,-0.243809342384338,0.102041721343994,0.111651234328747,-0.029475133866072,-0.140149608254433,-0.089929945766926,-0.144070461392403,0.172785535454750,0.116438843309879,0.029550390318036,-0.238962456583977));
return max(float4(0,0,0,0), res);
}
