sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.055776488035917,-0.015901029109955,0.065270908176899,0.003883212106302,0.086010038852692,0.118902184069157,-0.069409914314747,0.083154812455177,0.107589259743690,-0.107319749891758,-0.091489300131798,0.078336693346500,0.152458399534225,-0.058768007904291,0.078120611608028,0.077313758432865));
res += mul(Get(s0,-dx,0), float4x4(-0.056697245687246,0.041915956884623,-0.118180319666862,0.006776223890483,-0.121882557868958,0.156208276748657,0.149036228656769,-0.042043283581734,0.023206083104014,-0.058630231767893,-0.101587615907192,0.071551069617271,0.161909118294716,0.345653682947159,-0.009144195355475,-0.336703509092331));
res += mul(Get(s0,-dx,dy), float4x4(0.031894870102406,-0.081152521073818,-0.156725659966469,-0.132615983486176,0.176929607987404,-0.076461941003799,-0.029865115880966,-0.150914117693901,-0.093923203647137,0.091233968734741,0.044378872960806,-0.089395411312580,0.070476941764355,0.010186596773565,0.027987178415060,0.111915461719036));
res += mul(Get(s0,0,-dy), float4x4(-0.008341317996383,0.125439569354057,0.288857609033585,0.007952640764415,-0.153120398521423,-0.090189605951309,0.118560545146465,-0.017444508150220,0.003723168745637,0.115310050547123,0.049591448158026,-0.187381044030190,-0.020622516050935,-0.079101704061031,0.080126799643040,0.003133158665150));
res += mul(Get(s0,0,0), float4x4(-0.013022956438363,0.043459389358759,0.194689586758614,0.085344471037388,-0.037992980331182,0.105694137513638,0.054105065762997,-0.008941202424467,-0.165641486644745,0.218879118561745,-0.002814790233970,-0.051179751753807,0.055216915905476,0.038234826177359,-0.054385483264923,-0.091636314988136));
res += mul(Get(s0,0,dy), float4x4(-0.112908460199833,0.022726006805897,0.134018212556839,0.038695905357599,-0.110938578844070,0.136674046516418,0.058304712176323,-0.235247448086739,-0.028142774477601,-0.040064089000225,-0.017234144732356,-0.144204571843147,0.277989774942398,0.219794169068336,0.135085254907608,-0.108178071677685));
res += mul(Get(s0,dx,-dy), float4x4(0.006711065769196,-0.005710077006370,-0.055915474891663,0.124119974672794,0.024084951728582,-0.149310082197189,-0.142126545310020,0.172852098941803,-0.261368691921234,0.026503708213568,0.218492612242699,-0.088825233280659,-0.037919204682112,-0.054159086197615,0.080320708453655,-0.095210984349251));
res += mul(Get(s0,dx,0), float4x4(0.080962821841240,0.063591547310352,-0.185787782073021,0.032901011407375,-0.077415347099304,-0.038606163114309,0.131865501403809,0.233838900923729,0.107529886066914,0.000628630048595,-0.039914220571518,-0.190271213650703,-0.026890164241195,-0.195908963680267,-0.001304384437390,0.001683072303422));
res += mul(Get(s0,dx,dy), float4x4(0.091694802045822,-0.094784140586853,0.321986585855484,-0.125776588916779,-0.066038936376572,0.010217255912721,-0.041036747395992,-0.001161691383459,-0.126488015055656,0.166362076997757,0.008530447259545,0.198037222027779,-0.008757457137108,-0.147259742021561,-0.106255620718002,0.009563646279275));
res += mul(Get(s1,-dx,-dy), float4x4(-0.165683791041374,0.033281005918980,-0.165275245904922,0.028911191970110,-0.030740454792976,0.086471438407898,-0.182507932186127,-0.078857548534870,-0.057332854717970,-0.052293498069048,-0.038548760116100,-0.134976804256439,-0.008965077809989,-0.211776688694954,-0.077858723700047,0.049229569733143));
res += mul(Get(s1,-dx,0), float4x4(-0.241553917527199,-0.022685091942549,0.122925616800785,0.252511858940125,0.010513842105865,0.050816722214222,-0.199132323265076,-0.097533874213696,-0.040770187973976,0.023820236325264,-0.019820760935545,0.116625875234604,-0.004073863383383,-0.145351782441139,0.204673469066620,0.177364751696587));
res += mul(Get(s1,-dx,dy), float4x4(-0.017512790858746,-0.103851199150085,-0.271045297384262,0.071486353874207,0.034874472767115,-0.028072491288185,0.051588997244835,-0.037826299667358,0.021118862554431,-0.058859381824732,-0.119427196681499,0.039023034274578,-0.103594601154327,-0.034849226474762,-0.327831953763962,0.098285697400570));
res += mul(Get(s1,0,-dy), float4x4(-0.196939572691917,-0.085858643054962,-0.022840417921543,0.216390326619148,-0.218290269374847,0.055543430149555,-0.043741755187511,-0.116015046834946,-0.169425860047340,-0.004682649392635,-0.046359959989786,-0.134846612811089,0.080318406224251,-0.102843210101128,-0.005023545119911,-0.004573425743729));
res += mul(Get(s1,0,0), float4x4(-0.105968698859215,0.076757930219173,0.049804937094450,0.096265114843845,-0.167259991168976,0.183205381035805,-0.043773248791695,-0.232241839170456,-0.039954822510481,0.068514429032803,0.092937909066677,0.115423761308193,0.042088709771633,0.098288200795650,-0.019512049853802,0.106378205120564));
res += mul(Get(s1,0,dy), float4x4(-0.024424953386188,-0.113871894776821,0.013765399344265,-0.146672070026398,0.061798889189959,0.097856670618057,0.007893438450992,0.024920480325818,0.153134912252426,-0.031340237706900,-0.031665395945311,-0.034353651106358,0.132056877017021,0.034180048853159,-0.175021231174469,-0.006995534058660));
res += mul(Get(s1,dx,-dy), float4x4(0.264863669872284,0.064770437777042,0.080117672681808,0.023737203329802,0.000133242530865,-0.025354240089655,-0.127495527267456,-0.174999892711639,0.201142430305481,0.042521793395281,0.080508187413216,-0.121950037777424,-0.002336336765438,0.021288121119142,-0.018706742674112,0.139810964465141));
res += mul(Get(s1,dx,0), float4x4(0.083258688449860,0.038437530398369,-0.131906852126122,-0.046671781688929,-0.040549129247665,0.063913427293301,0.131052270531654,-0.090349189937115,-0.022244244813919,-0.006054853554815,-0.004284043796360,-0.195525512099266,0.144528016448021,0.037791855633259,-0.006106202490628,0.135723263025284));
res += mul(Get(s1,dx,dy), float4x4(-0.142119348049164,0.154118925333023,-0.085377804934978,-0.219403713941574,0.054990399628878,0.091336213052273,0.154519513249397,-0.035566587001085,0.006450189743191,-0.113429181277752,-0.130751609802246,0.010262888856232,-0.059120055288076,-0.124273575842381,-0.098925955593586,-0.103004224598408));
res += mul(Get(s2,-dx,-dy), float4x4(-0.268915742635727,0.044820152223110,0.222089126706123,0.022037955000997,-0.035153862088919,0.146661251783371,0.054426766932011,-0.111546449363232,-0.269146442413330,0.012351039797068,-0.195166423916817,-0.030567226931453,0.041697464883327,0.024637579917908,0.163670793175697,0.037947464734316));
res += mul(Get(s2,-dx,0), float4x4(0.040485542267561,0.020915023982525,-0.100224807858467,-0.157494917511940,0.263259321451187,0.129132479429245,-0.062768533825874,0.033141493797302,-0.022041872143745,0.056201387196779,0.175371170043945,0.101584054529667,-0.041453868150711,-0.027576277032495,0.035888846963644,0.129232585430145));
res += mul(Get(s2,-dx,dy), float4x4(0.131014376878738,0.243571951985359,0.088068217039108,-0.127953693270683,0.067084982991219,-0.083818048238754,-0.016137065365911,-0.236929610371590,0.047442957758904,-0.044439408928156,-0.005413449369371,-0.104237906634808,-0.012697638012469,0.053343594074249,-0.121999897062778,-0.148515373468399));
res += mul(Get(s2,0,-dy), float4x4(-0.018717352300882,0.005674558691680,-0.208532676100731,0.010170562192798,-0.095765970647335,-0.020365484058857,-0.191986292600632,-0.015966694802046,0.045614518225193,-0.037341613322496,-0.280748665332794,0.070263616740704,0.087720558047295,-0.137708783149719,0.084301911294460,-0.101528204977512));
res += mul(Get(s2,0,0), float4x4(0.039798960089684,0.009172625839710,-0.106215454638004,-0.008334340527654,0.018716743215919,-0.120460078120232,-0.015666984021664,-0.058175664395094,-0.133747592568398,-0.167676866054535,-0.016763670369983,-0.222238659858704,0.014553397893906,0.077543526887894,0.006740281358361,-0.142050221562386));
res += mul(Get(s2,0,dy), float4x4(-0.017557960003614,0.105630896985531,-0.101975321769714,0.019161062315106,0.206322938203812,-0.089049398899078,-0.095070496201515,-0.046756707131863,-0.161954343318939,-0.097701899707317,-0.152959972620010,0.052806962281466,0.204924046993256,0.201601788401604,0.188751086592674,-0.097325868904591));
res += mul(Get(s2,dx,-dy), float4x4(-0.354521751403809,-0.018225966021419,-0.060640644282103,-0.025717461481690,0.013502052985132,-0.191092595458031,0.165587827563286,-0.080854356288910,0.115132853388786,0.054669901728630,-0.134046927094460,0.151097953319550,0.062387432903051,0.091727972030640,-0.168948411941528,0.014967993833125));
res += mul(Get(s2,dx,0), float4x4(-0.163473054766655,0.146855950355530,0.101715087890625,-0.039864949882030,0.190771222114563,-0.025289958342910,0.150788068771362,0.082938820123672,-0.122790090739727,-0.103708393871784,-0.054014660418034,-0.102908283472061,-0.018051985651255,0.256059974431992,-0.065800137817860,-0.102286323904991));
res += mul(Get(s2,dx,dy), float4x4(-0.004815245512873,-0.138898238539696,0.140781342983246,0.112037077546120,0.010472693480551,-0.090639330446720,-0.071322917938232,0.012385168112814,0.011711996980011,-0.151437491178513,0.053229402750731,-0.009215964935720,0.038082960993052,-0.026058519259095,0.108134590089321,-0.032853782176971));
res += mul(Get(s3,-dx,-dy), float4x4(0.019721642136574,-0.074595049023628,0.130727261304855,-0.228468209505081,-0.328500241041183,0.107681311666965,0.093678310513496,0.039369210600853,0.044162571430206,0.089775055646896,0.018266424536705,0.158760175108910,-0.070027887821198,-0.117768153548241,-0.000384769955417,0.130108028650284));
res += mul(Get(s3,-dx,0), float4x4(0.038989260792732,-0.091117464005947,-0.078091457486153,0.028456054627895,-0.010674157179892,0.001946772681549,-0.007188304793090,-0.129581734538078,0.079885832965374,-0.014954674057662,0.230232179164886,0.024744691327214,0.013658073730767,0.196630641818047,0.071646980941296,-0.056072998791933));
res += mul(Get(s3,-dx,dy), float4x4(0.054334633052349,-0.086196884512901,-0.181058958172798,-0.039876427501440,0.050128813832998,0.010347325354815,0.001109558157623,-0.128068864345551,-0.244756594300270,0.034626293927431,-0.064690381288528,-0.151349380612373,0.042464621365070,0.024876534938812,-0.115471221506596,0.023516179993749));
res += mul(Get(s3,0,-dy), float4x4(-0.010800319723785,0.092312708497047,-0.160909384489059,-0.102202087640762,-0.015127619728446,0.049749065190554,0.027515696361661,-0.124355129897594,-0.007469352334738,0.005565303843468,0.044499501585960,-0.047393113374710,0.115593254566193,0.086369447410107,0.162939310073853,-0.143259450793266));
res += mul(Get(s3,0,0), float4x4(-0.007657573558390,-0.049784168601036,0.010201463475823,-0.178340032696724,0.174087211489677,0.090561486780643,-0.184231683611870,-0.092150814831257,0.063115932047367,-0.014307336881757,0.139233335852623,-0.043282438069582,0.217761084437370,0.143939003348351,-0.045250628143549,-0.012251811102033));
res += mul(Get(s3,0,dy), float4x4(-0.154096513986588,0.085764080286026,-0.159385874867439,0.077553659677505,0.037165623158216,0.054693955928087,0.048102561384439,0.065707340836525,-0.045580875128508,0.131922215223312,-0.094750985503197,-0.131425023078918,0.084015451371670,0.237217426300049,0.013223796151578,0.042535498738289));
res += mul(Get(s3,dx,-dy), float4x4(-0.036029759794474,0.063333369791508,-0.019880015403032,0.036576662212610,-0.157449886202812,-0.081019446253777,-0.128541350364685,-0.005287798587233,-0.032841749489307,-0.012452485971153,0.088193669915199,0.000913346186280,0.121933288872242,0.116253316402435,0.087584719061852,0.175660714507103));
res += mul(Get(s3,dx,0), float4x4(-0.043991815298796,0.200039237737656,0.141813203692436,-0.172660037875175,0.020620804280043,-0.167391031980515,0.061809256672859,-0.065445698797703,-0.056279841810465,0.116617463529110,-0.139202147722244,0.004477693699300,0.113216556608677,-0.099797852337360,-0.068330138921738,-0.060442872345448));
res += mul(Get(s3,dx,dy), float4x4(-0.196290075778961,0.018837114796042,-0.131294488906860,0.046196937561035,0.051966652274132,-0.107909798622131,-0.065609239041805,0.121892109513283,0.085082165896893,-0.007749567739666,0.046147476881742,-0.168638795614243,-0.056206729263067,0.035016894340515,0.033098239451647,-0.037574611604214));
return max(float4(0,0,0,0), res);
}
