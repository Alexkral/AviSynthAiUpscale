sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.103466674685478,0.022608233615756,0.171636417508125,-0.018557192757726,-0.052136611193419,-0.020803214982152,-0.090623848140240,-0.045434325933456,-0.152026206254959,-0.042146317660809,0.187961012125015,0.075443714857101,-0.100709587335587,0.035499468445778,-0.019920472055674,-0.121011376380920));
res += mul(Get(s0,-dx,0), float4x4(0.311343640089035,-0.054864328354597,0.217537656426430,-0.085912629961967,-0.023012172430754,-0.087594337761402,-0.229248717427254,-0.210395380854607,0.226553663611412,-0.156316101551056,-0.010796431452036,0.022477388381958,0.063622519373894,0.023897117003798,0.010708679445088,-0.186417147517204));
res += mul(Get(s0,-dx,dy), float4x4(-0.102788388729095,0.123661868274212,0.024707041680813,-0.063836269080639,-0.051698781549931,0.017537593841553,0.276971071958542,0.083076171576977,-0.041956800967455,0.089862875640392,0.238958775997162,-0.017463417723775,0.079339236021042,0.024821292608976,-0.131980136036873,-0.184164792299271));
res += mul(Get(s0,0,-dy), float4x4(-0.082004100084305,0.236412733793259,0.191257059574127,-0.045481525361538,0.231822997331619,-0.133880108594894,-0.103215247392654,-0.138135328888893,-0.074818298220634,0.386659145355225,-0.044638667255640,-0.021405734121799,-0.180892676115036,0.210092678666115,0.271728426218033,-0.116950608789921));
res += mul(Get(s0,0,0), float4x4(0.048169899731874,0.098367668688297,0.146151170134544,-0.108176633715630,0.097349010407925,0.088016085326672,-0.133856326341629,-0.006429485511035,0.111832387745380,0.142770126461983,-0.052995610982180,-0.060854442417622,0.110712513327599,0.116120368242264,0.113761238753796,-0.129077851772308));
res += mul(Get(s0,0,dy), float4x4(0.131738647818565,-0.087861642241478,0.111238941550255,-0.103981040418148,0.092734165489674,0.296622216701508,0.324297994375229,0.037953663617373,-0.119947955012321,0.191728755831718,0.173163175582886,0.061416123062372,0.454380393028259,0.091541662812233,-0.058227956295013,-0.080708697438240));
res += mul(Get(s0,dx,-dy), float4x4(-0.062326848506927,0.042403314262629,-0.064781062304974,0.019991280511022,0.234202459454536,-0.210476800799370,-0.155769154429436,-0.058988925069571,-0.299127608537674,0.158068761229515,-0.052106063812971,0.102943904697895,-0.405692785978317,0.049542926251888,0.000797277083620,0.007531214505434));
res += mul(Get(s0,dx,0), float4x4(-0.079246528446674,-0.066292412579060,-0.044697266072035,-0.122211590409279,-0.047915112227201,-0.221847489476204,-0.023230835795403,0.084547966718674,0.074353553354740,-0.023279219865799,-0.074869923293591,-0.051756333559752,-0.068148270249367,0.014831738546491,0.050387170165777,-0.017680916935205));
res += mul(Get(s0,dx,dy), float4x4(-0.121479883790016,-0.097352825105190,-0.106594026088715,-0.056746914982796,0.108285047113895,-0.209080323576927,-0.027445262297988,0.006293755955994,-0.301112502813339,0.014351115562022,0.147928819060326,-0.015362689271569,-0.029672428965569,0.029829915612936,0.049698155373335,-0.039646703749895));
res += mul(Get(s1,-dx,-dy), float4x4(0.110885441303253,0.075122050940990,-0.264788180589676,0.055734887719154,-0.087009511888027,-0.003364157862961,0.334379076957703,-0.054074127227068,0.139619112014771,-0.004419740755111,-0.006562546826899,-0.011806046590209,-0.165870785713196,0.062584295868874,0.041110988706350,0.003705092938617));
res += mul(Get(s1,-dx,0), float4x4(0.288987934589386,0.014731548726559,-0.167469650506973,-0.002876689657569,-0.007505306974053,-0.176869496703148,0.386071115732193,-0.042059931904078,-0.017736341804266,0.069958768785000,-0.012920792214572,0.011458077467978,0.059363245964050,0.023952046409249,0.190139040350914,-0.090901754796505));
res += mul(Get(s1,-dx,dy), float4x4(0.194479852914810,0.106269970536232,-0.117284961044788,-0.045338436961174,0.096688158810139,-0.145385012030602,0.026593204587698,0.015515890903771,0.010298321023583,0.010501763783395,0.182175934314728,0.117586992681026,-0.065013267099857,-0.022205190733075,0.358909606933594,-0.078699976205826));
res += mul(Get(s1,0,-dy), float4x4(0.027416214346886,0.146073609590530,0.089969053864479,-0.155899137258530,-0.216681465506554,0.137664750218391,0.048911429941654,-0.133196741342545,0.104453064501286,-0.116248235106468,-0.029506584629416,-0.009686606936157,-0.138565286993980,0.080127947032452,-0.081657811999321,-0.168433845043182));
res += mul(Get(s1,0,0), float4x4(0.194317772984505,0.127804279327393,0.195624351501465,-0.075698412954807,-0.045491497963667,0.313571453094482,0.010333728976548,-0.087873667478561,-0.027173118665814,0.044188078492880,-0.039641860872507,0.169280037283897,-0.097149923443794,0.248275235295296,-0.027523266151547,-0.027293972671032));
res += mul(Get(s1,0,dy), float4x4(0.283594250679016,0.358391463756561,0.068165138363838,-0.126428365707397,0.007393721025437,0.052351687103510,-0.168314844369888,0.047629587352276,-0.073159888386726,0.118067309260368,0.106045588850975,0.101454623043537,-0.161696612834930,0.103014141321182,0.055849093943834,-0.209715992212296));
res += mul(Get(s1,dx,-dy), float4x4(0.011913187801838,-0.151204377412796,-0.063259348273277,0.132251650094986,-0.140567049384117,-0.337331622838974,0.011297535151243,0.005971232894808,-0.099802710115910,0.085838705301285,-0.072534158825874,0.146965563297272,-0.008066702634096,-0.221756696701050,-0.028482057154179,0.007797271013260));
res += mul(Get(s1,dx,0), float4x4(-0.028305102139711,-0.099202595651150,-0.001629606587812,0.002780588809401,0.020953064784408,-0.133322432637215,-0.080331295728683,-0.128417462110519,-0.026002792641521,-0.165777951478958,0.105048000812531,0.197105228900909,0.177718967199326,-0.193920940160751,0.016640841960907,-0.122501999139786));
res += mul(Get(s1,dx,dy), float4x4(0.021107995882630,-0.022969519719481,0.078653350472450,-0.017046386376023,-0.068562783300877,-0.154463946819305,-0.286308288574219,-0.042507596313953,-0.027971534058452,0.040629915893078,0.218713849782944,0.088436841964722,0.030043652281165,-0.043174471706152,-0.096203550696373,-0.038708284497261));
res += mul(Get(s2,-dx,-dy), float4x4(-0.242679089307785,0.140177175402641,-0.088038049638271,-0.064241513609886,-0.034445416182280,0.016115546226501,0.005696872249246,0.031582944095135,0.176183208823204,-0.089406602084637,0.103482365608215,-0.081641964614391,-0.033798035234213,-0.145912975072861,0.022698640823364,-0.036847248673439));
res += mul(Get(s2,-dx,0), float4x4(0.004568843636662,-0.056876167654991,-0.000182426898391,-0.004806170240045,0.152643010020256,-0.046899743378162,-0.031372845172882,-0.013124872930348,0.489970713853836,-0.154603004455566,0.089819379150867,-0.025109613314271,0.102781496942043,-0.064110346138477,-0.082993231713772,-0.136759981513023));
res += mul(Get(s2,-dx,dy), float4x4(0.074520789086819,-0.009733047336340,-0.040394347161055,0.086433261632919,0.093538559973240,0.051050953567028,0.110331565141678,0.138852655887604,0.109549209475517,-0.228072836995125,0.750612020492554,0.053712815046310,-0.039398770779371,-0.084460593760014,-0.101581387221813,0.013098577968776));
res += mul(Get(s2,0,-dy), float4x4(-0.040531229227781,-0.081393256783485,0.023849859833717,-0.127768173813820,-0.018535783514380,-0.047315090894699,0.024995170533657,-0.088574826717377,0.050800975412130,-0.099858395755291,-0.112388558685780,-0.055329293012619,0.459863156080246,-0.053987734019756,0.023123083636165,-0.060995541512966));
res += mul(Get(s2,0,0), float4x4(0.262447685003281,-0.086191393435001,0.067840695381165,-0.163454294204712,0.157501488924026,0.005782213527709,-0.025919241830707,-0.114345408976078,0.074730738997459,-0.007632142864168,-0.116317823529243,-0.045738533139229,0.173879519104958,-0.049336358904839,-0.011024354957044,-0.085755184292793));
res += mul(Get(s2,0,dy), float4x4(0.253428071737289,0.052609845995903,0.050823934376240,-0.005981939844787,0.290111958980560,-0.029475288465619,0.008502808399498,-0.007609548512846,0.132257193326950,-0.041806351393461,-0.112915240228176,0.024164505302906,0.076020173728466,-0.112813405692577,-0.039735723286867,0.086392328143120));
res += mul(Get(s2,dx,-dy), float4x4(-0.130124390125275,-0.116753220558167,0.086750619113445,-0.115059979259968,-0.167626947164536,0.066963993012905,-0.075885139405727,-0.068590916693211,0.084399372339249,-0.033173710107803,0.024851717054844,0.053153332322836,0.022246075794101,-0.007566701620817,-0.067547872662544,-0.115316674113274));
res += mul(Get(s2,dx,0), float4x4(0.030479248613119,0.026837525889277,0.011496281251311,-0.075689107179642,0.034323692321777,0.029364043846726,-0.175725981593132,-0.198686674237251,-0.011169636622071,0.027620850130916,-0.031498208642006,0.171516135334969,0.017578814178705,-0.064671032130718,-0.001809166744351,0.024888385087252));
res += mul(Get(s2,dx,dy), float4x4(0.063619337975979,0.074310325086117,-0.000753105443437,0.112900540232658,0.123542867600918,0.201443552970886,0.230612263083458,0.374030143022537,0.036957606673241,0.037005890160799,-0.135704189538956,-0.023225480690598,0.128211215138435,-0.002146484097466,-0.054448202252388,0.059638451784849));
res += mul(Get(s3,-dx,-dy), float4x4(-0.055821783840656,-0.054270301014185,-0.009637775830925,-0.012515751644969,-0.062747552990913,-0.174660250544548,-0.151468604803085,-0.157464519143105,0.034876596182585,-0.157529696822166,-0.052017115056515,-0.161902964115143,-0.276158183813095,-0.121702983975410,-0.061454009264708,-0.305641174316406));
res += mul(Get(s3,-dx,0), float4x4(-0.069367632269859,-0.033463474363089,-0.031875435262918,0.048317007720470,0.208026051521301,0.125360056757927,-0.117286309599876,-0.037549819797277,0.155242070555687,-0.116132028400898,-0.225887611508369,-0.091002948582172,-0.216820240020752,-0.127643570303917,0.061408363282681,-0.097918204963207));
res += mul(Get(s3,-dx,dy), float4x4(0.052104510366917,-0.130008131265640,0.057006992399693,0.090234398841858,0.071732155978680,-0.001324011012912,-0.104083158075809,-0.141203954815865,0.019914442673326,-0.129533186554909,0.088842272758484,0.006435553543270,-0.059819851070642,-0.091441616415977,0.041578073054552,-0.109582923352718));
res += mul(Get(s3,0,-dy), float4x4(0.106595292687416,-0.120537899434566,0.065245337784290,0.077785663306713,0.075669601559639,0.039540927857161,-0.023795535787940,-0.025462726131082,-0.046682629734278,0.007858525961637,-0.078580722212791,-0.078667566180229,-0.112249463796616,-0.147582888603210,-0.171758443117142,-0.164790838956833));
res += mul(Get(s3,0,0), float4x4(0.054646708071232,-0.109342053532600,-0.022745223715901,-0.120074853301048,0.584279417991638,0.261849522590637,-0.057680226862431,0.013121763244271,-0.069379337131977,-0.034577041864395,-0.087196461856365,0.103926457464695,-0.037999153137207,-0.024253793060780,-0.138181999325752,-0.061521083116531));
res += mul(Get(s3,0,dy), float4x4(0.005573409609497,-0.216819867491722,0.062605105340481,0.083393082022667,0.260576426982880,-0.086946919560432,-0.020579721778631,-0.140849709510803,-0.023020485416055,0.117120996117592,0.333893001079559,0.125373378396034,-0.131795987486839,0.033954717218876,-0.123277939856052,0.336211115121841));
res += mul(Get(s3,dx,-dy), float4x4(-0.172101527452469,-0.071254558861256,-0.142456114292145,0.022508535534143,0.030667250975966,-0.119087196886539,-0.007866491563618,-0.044687483459711,0.105117596685886,0.332612752914429,-0.176113232970238,-0.224667355418205,-0.149866282939911,-0.022484866902232,-0.262782752513885,-0.071103915572166));
res += mul(Get(s3,dx,0), float4x4(-0.040698498487473,-0.118017472326756,-0.108850732445717,0.003535159630701,0.417861968278885,0.026498282328248,-0.052222456783056,-0.063433542847633,0.171286031603813,0.260510295629501,-0.007045095320791,0.205211296677589,0.116905078291893,-0.129150718450546,-0.077133767306805,0.185255065560341));
res += mul(Get(s3,dx,dy), float4x4(-0.131971761584282,-0.092575930058956,-0.100820749998093,-0.032354597002268,0.142273858189583,-0.020145677030087,-0.019107498228550,0.008072328753769,0.035219661891460,0.164326354861259,0.132646843791008,0.603089570999146,0.003945849835873,-0.086305685341358,0.065196365118027,0.120773747563362));
return max(float4(0,0,0,0), res);
}
