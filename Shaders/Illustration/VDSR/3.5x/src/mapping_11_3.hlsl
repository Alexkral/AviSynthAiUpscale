sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.141109213232994,-0.125294059514999,-0.193311214447021,-0.103238023817539,-0.005738878156990,0.174897044897079,-0.106779508292675,-0.067627109587193,0.024895472452044,-0.063277490437031,0.066384330391884,0.011141457594931,-0.126167058944702,0.032572273164988,-0.116130232810974,-0.136469185352325));
res += mul(Get(s0,-dx,0), float4x4(-0.155234798789024,0.177866622805595,-0.116286441683769,-0.049593169242144,0.091449461877346,0.088932283222675,0.008355872705579,0.075513131916523,-0.087629869580269,-0.040164854377508,0.220048487186432,0.200505703687668,-0.003780858824030,-0.026516612619162,-0.114385612308979,-0.110199972987175));
res += mul(Get(s0,-dx,dy), float4x4(-0.035833753645420,-0.131087884306908,-0.136443004012108,-0.034100417047739,0.051643975079060,-0.321224540472031,-0.155273228883743,-0.063914909958839,-0.032592143863440,-0.076305978000164,0.176266670227051,0.158144146203995,0.096396096050739,0.597449302673340,-0.149639859795570,-0.054812509566545));
res += mul(Get(s0,0,-dy), float4x4(-0.154139369726181,0.088860310614109,0.072360597550869,0.037089359015226,-0.049342293292284,0.020304936915636,-0.105359233915806,0.003407514188439,0.204390719532967,-0.025428812950850,0.013949862681329,0.053262323141098,-0.206782534718513,0.041203048080206,-0.025989273563027,-0.128068760037422));
res += mul(Get(s0,0,0), float4x4(0.006041425280273,-0.070628322660923,-0.013519411906600,-0.025475936010480,0.006199431605637,0.142515704035759,-0.009061277844012,0.091716110706329,-0.042552769184113,-0.029632449150085,0.061818849295378,-0.054006639868021,0.037339728325605,0.058970544487238,-0.057056192308664,-0.154296636581421));
res += mul(Get(s0,0,dy), float4x4(0.029179345816374,-0.086542494595051,-0.010677753947675,-0.011012271977961,0.005886535160244,-0.202783524990082,-0.047165561467409,-0.060617979615927,-0.113404251635075,-0.063755504786968,0.059024430811405,0.111057721078396,0.107842139899731,0.107112176716328,-0.107251353561878,0.020367726683617));
res += mul(Get(s0,dx,-dy), float4x4(-0.123763807117939,0.185172572731972,0.012935460545123,-0.022242020815611,0.069191053509712,0.151252269744873,0.001501533086412,-0.044009797275066,0.210371658205986,0.041381493210793,-0.066395543515682,-0.022664012387395,-0.087813034653664,-0.142332643270493,0.067756310105324,-0.133328914642334));
res += mul(Get(s0,dx,0), float4x4(-0.115967750549316,0.132811307907104,0.062140416353941,0.012186517938972,-0.044166069477797,0.264380872249603,-0.068521879613400,-0.128854811191559,0.228277608752251,0.028483713045716,0.027176372706890,-0.113730452954769,0.182776212692261,-0.196418717503548,0.089542225003242,-0.038424223661423));
res += mul(Get(s0,dx,dy), float4x4(-0.041184343397617,0.159541934728622,0.161910802125931,0.002510212594643,-0.204757407307625,0.234999909996986,-0.102611258625984,-0.080693550407887,-0.016136677935719,-0.083824947476387,-0.040893305093050,0.092650435864925,-0.023530799895525,-0.121764913201332,-0.012748454697430,0.190591529011726));
res += mul(Get(s1,-dx,-dy), float4x4(0.035085532814264,-0.000759628077503,0.071028955280781,-0.097131893038750,0.001779499580152,0.020773977041245,-0.116978943347931,-0.104895934462547,0.056999783962965,0.162051364779472,0.175727218389511,0.085116535425186,-0.032244529575109,0.000802658265457,0.090371377766132,-0.004541186150163));
res += mul(Get(s1,-dx,0), float4x4(0.201497793197632,0.092976875603199,-0.050618834793568,0.084532015025616,0.289844095706940,0.256151407957077,-0.160704135894775,-0.125460967421532,-0.025571193546057,-0.045636903494596,-0.011362359859049,0.137519329786301,-0.018541216850281,-0.022294543683529,-0.063630126416683,-0.185819163918495));
res += mul(Get(s1,-dx,dy), float4x4(0.003363309195265,0.028617374598980,-0.062771722674370,-0.070221133530140,0.080078646540642,-0.036185055971146,-0.085986480116844,-0.049115568399429,0.048567641526461,-0.096625976264477,0.112361878156662,0.207570523023605,-0.152722924947739,-0.161684140563011,-0.073354177176952,-0.092637836933136));
res += mul(Get(s1,0,-dy), float4x4(-0.173385530710220,-0.174322992563248,0.022969543933868,-0.019403072074056,-0.099830396473408,0.122535526752472,-0.025287108495831,0.173077762126923,-0.016067203134298,0.045111604034901,0.078948482871056,-0.037544928491116,-0.023816416040063,0.038525033742189,-0.102669514715672,-0.063159286975861));
res += mul(Get(s1,0,0), float4x4(0.085486754775047,0.184889093041420,0.032353226095438,0.037102364003658,0.152410909533501,0.160370692610741,-0.090668253600597,-0.048036754131317,-0.119134962558746,-0.048533633351326,0.011370971798897,0.177686288952827,0.020668933168054,0.054999813437462,0.009909692220390,0.033223722130060));
res += mul(Get(s1,0,dy), float4x4(0.074831150472164,-0.057012435048819,0.013890014030039,0.097921356558800,-0.002645984757692,-0.063169054687023,-0.054924942553043,-0.099233500659466,-0.032282680273056,-0.131370931863785,-0.074144132435322,0.077268920838833,-0.044309716671705,-0.031883932650089,-0.067338578402996,0.141598373651505));
res += mul(Get(s1,dx,-dy), float4x4(-0.015256742015481,-0.114963270723820,-0.096882082521915,-0.027758508920670,-0.120877958834171,0.117099374532700,-0.074484787881374,-0.101587966084480,0.079156190156937,-0.087210707366467,-0.165499493479729,0.109415613114834,0.017074793577194,0.154911667108536,-0.103811688721180,-0.158963695168495));
res += mul(Get(s1,dx,0), float4x4(0.038214143365622,0.122472152113914,-0.074300557374954,0.095432601869106,0.200672268867493,-0.015961941331625,-0.085256919264793,0.122857324779034,-0.044298660010099,-0.019741801545024,-0.079557113349438,0.027317004278302,-0.125958725810051,-0.102255403995514,-0.038274619728327,-0.123186543583870));
res += mul(Get(s1,dx,dy), float4x4(0.099931277334690,0.192587837576866,-0.068704314529896,0.051818732172251,0.321672260761261,-0.119438536465168,-0.120802082121372,0.054189048707485,-0.148894026875496,-0.060833290219307,-0.017178149893880,0.003307031700388,-0.067753225564957,-0.054405432194471,-0.183844253420830,0.087640628218651));
res += mul(Get(s2,-dx,-dy), float4x4(-0.031864043325186,-0.065923064947128,0.116939991712570,-0.025283377617598,-0.002402746817097,0.140672832727432,-0.020254760980606,-0.254362463951111,-0.041252057999372,0.278021812438965,0.073811136186123,0.035915467888117,0.062678545713425,0.057431094348431,0.005237028934062,-0.130526751279831));
res += mul(Get(s2,-dx,0), float4x4(0.163577526807785,-0.114001795649529,-0.029971595853567,0.036958266049623,-0.061827778816223,0.061902597546577,-0.304229944944382,0.044473510235548,0.005392322782427,0.062381286174059,-0.051788255572319,-0.076903000473976,-0.108679153025150,0.185108885169029,0.109624072909355,-0.180043458938599));
res += mul(Get(s2,-dx,dy), float4x4(-0.217904329299927,-0.111879631876945,0.009138052351773,-0.044579647481441,-0.164352729916573,-0.073921091854572,-0.129558771848679,0.119405411183834,-0.041370783001184,-0.185750871896744,0.019731445237994,0.157152563333511,0.115125268697739,-0.147638723254204,0.174421757459641,0.055151164531708));
res += mul(Get(s2,0,-dy), float4x4(0.076857477426529,-0.058893900364637,0.061570875346661,-0.072341047227383,0.099240146577358,0.076744921505451,-0.004956072662026,-0.198162078857422,0.049592789262533,-0.015959532931447,0.055161554366350,-0.037325795739889,0.387100547552109,-0.081454709172249,-0.082151152193546,-0.010989020578563));
res += mul(Get(s2,0,0), float4x4(0.062754139304161,-0.089447349309921,0.177660837769508,0.032985262572765,-0.089829012751579,-0.009008202701807,0.095651656389236,0.003805339336395,-0.063875228166580,-0.102079465985298,0.102800227701664,-0.000182351635885,0.002697157440707,-0.117723248898983,0.013303340412676,0.130265593528748));
res += mul(Get(s2,0,dy), float4x4(0.017427753657103,-0.073467217385769,0.103726319968700,0.123095110058784,-0.213786050677299,-0.058824058622122,0.217360228300095,0.079388551414013,-0.144443318247795,-0.070755206048489,0.139431565999985,0.024987155571580,0.048453830182552,-0.161994919180870,-0.167123675346375,0.293699115514755));
res += mul(Get(s2,dx,-dy), float4x4(0.149444729089737,0.077176123857498,0.200308412313461,0.013785608112812,0.165077209472656,-0.038895286619663,-0.150293186306953,-0.015664603561163,0.055133976042271,-0.010742801241577,-0.091146901249886,-0.060191407799721,0.132876589894295,-0.298557251691818,-0.053853817284107,0.002727625425905));
res += mul(Get(s2,dx,0), float4x4(0.158996894955635,-0.032544724643230,0.093134492635727,0.031937178224325,-0.013398321345448,-0.080573864281178,-0.011420559138060,0.114458799362183,-0.046834561973810,0.055265188217163,-0.076295070350170,-0.033219654113054,0.084444366395473,-0.115494653582573,-0.032550562173128,0.046832401305437));
res += mul(Get(s2,dx,dy), float4x4(0.072513245046139,-0.125637710094452,-0.180879563093185,-0.061923179775476,-0.208717778325081,-0.136813834309578,-0.194345667958260,-0.134902015328407,-0.034170795232058,0.134099140763283,-0.003989797551185,0.003058667760342,-0.013491707853973,-0.028325874358416,0.000861279666424,-0.028824789449573));
res += mul(Get(s3,-dx,-dy), float4x4(0.069217845797539,0.135641023516655,-0.173833966255188,0.217745184898376,-0.127324298024178,-0.067975930869579,-0.020966878160834,0.157530650496483,0.203001961112022,-0.098844006657600,0.060495875775814,-0.157896056771278,0.110793650150299,0.244474515318871,0.191789358854294,-0.126706793904305));
res += mul(Get(s3,-dx,0), float4x4(-0.161522105336189,-0.081347040832043,-0.158627182245255,-0.012428082525730,-0.068014547228813,0.122934870421886,0.016520984470844,-0.157688528299332,-0.001533009344712,-0.095508717000484,0.161593511700630,-0.045559201389551,0.142208650708199,-0.137038409709930,0.406149208545685,0.468049049377441));
res += mul(Get(s3,-dx,dy), float4x4(-0.306895464658737,-0.195831269025803,0.008409569039941,-0.164640069007874,0.085868768393993,-0.023165872320533,0.022913929075003,0.065755538642406,-0.127975821495056,-0.063200101256371,-0.030413031578064,-0.198578372597694,-0.153606057167053,-0.157154276967049,-0.023852674290538,0.086284451186657));
res += mul(Get(s3,0,-dy), float4x4(-0.088366210460663,0.041588146239519,0.019114339724183,-0.016630316153169,-0.058861404657364,-0.058252424001694,-0.032245539128780,0.018511237576604,0.182081386446953,-0.079042427241802,-0.012421367689967,-0.112062059342861,-0.146278962492943,0.121893741190434,-0.042347967624664,-0.109569147229195));
res += mul(Get(s3,0,0), float4x4(-0.166514232754707,-0.054076075553894,0.037585645914078,-0.063667602837086,0.077270723879337,0.002719623269513,0.003696182509884,-0.139178201556206,-0.051434773951769,-0.109908737242222,0.297646850347519,0.046645637601614,-0.232015594840050,-0.131894588470459,0.044015377759933,-0.003627906553447));
res += mul(Get(s3,0,dy), float4x4(-0.335262119770050,-0.128727152943611,0.404853820800781,-0.004299490246922,-0.029850767925382,-0.046682972460985,0.018131129443645,0.146734029054642,-0.146047234535217,-0.119376786053181,0.229495689272881,-0.030107853934169,-0.165722668170929,-0.096017569303513,0.373449712991714,-0.086862504482269));
res += mul(Get(s3,dx,-dy), float4x4(-0.243569582700729,-0.010411761701107,0.255098074674606,0.036222755908966,-0.156385898590088,0.002005146583542,-0.042201757431030,-0.037350825965405,0.381591826677322,-0.144825279712677,-0.151427850127220,-0.162980049848557,0.244215264916420,-0.133155480027199,0.157407104969025,-0.169403687119484));
res += mul(Get(s3,dx,0), float4x4(0.001673482009210,-0.126382172107697,0.004358088131994,0.034602884203196,-0.122480712831020,-0.043620616197586,-0.060189299285412,-0.014836875721812,0.051425602287054,-0.190725326538086,0.000642280676402,-0.158639043569565,-0.141837626695633,-0.163719311356544,-0.222655400633812,0.140616357326508));
res += mul(Get(s3,dx,dy), float4x4(-0.254926502704620,-0.102851241827011,0.470495790243149,-0.047090955078602,0.143429949879646,0.032075081020594,-0.128760263323784,0.207298740744591,-0.110807888209820,-0.086965225636959,-0.055063132196665,-0.139832779765129,-0.011862640269101,-0.057867046445608,-0.128876224160194,0.198742911219597));
return max(float4(0,0,0,0), res);
}
