sampler s0 : register(s0);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(x, y)   tex2D(s0, tex + float2(x, y))[0]

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += float4(0.432659238576889,-0.999887287616730,-0.231358215212822,-0.012117976322770) * Get(-dx,-dy);
res += float4(-0.370465576648712,0.647909641265869,-0.324681460857391,-0.005201965570450) * Get(-dx,0);
res += float4(0.249335974454880,-0.922608375549316,0.176785573363304,0.004943106323481) * Get(-dx,dy);
res += float4(-0.133343279361725,-0.374434351921082,-0.345657020807266,-0.029336946085095) * Get(0,-dy);
res += float4(0.213538140058517,1.407665133476257,-0.546223521232605,0.004454087466002) * Get(0,0);
res += float4(-0.485141962766647,-0.323724925518036,-0.205690711736679,-0.032396439462900) * Get(0,dy);
res += float4(-0.626965999603271,-0.126794576644897,0.600367248058319,-0.015861393883824) * Get(dx,-dy);
res += float4(0.934021592140198,0.002978131640702,0.469174504280090,-0.022886266931891) * Get(dx,0);
res += float4(-0.132968276739120,-0.693040013313293,0.511635422706604,-0.003571110079065) * Get(dx,dy);
return max(float4(0,0,0,0), res);
}
