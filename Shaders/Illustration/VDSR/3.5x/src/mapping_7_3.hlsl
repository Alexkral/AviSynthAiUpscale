sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.003094682004303,0.095263421535492,-0.180094018578529,0.027574114501476,0.021801576018333,-0.086605720221996,-0.154891714453697,-0.055241640657187,-0.075670413672924,-0.120945975184441,0.134634613990784,-0.010337485931814,0.150960832834244,0.027921753004193,0.107392899692059,-0.059302922338247));
res += mul(Get(s0,-dx,0), float4x4(0.045316416770220,0.124005898833275,-0.109882161021233,0.110515035688877,0.033226925879717,-0.119836039841175,-0.093189276754856,0.128409281373024,0.101044520735741,-0.108583167195320,0.198412626981735,-0.014200132340193,-0.029750173911452,0.079518325626850,-0.010317016392946,0.179180517792702));
res += mul(Get(s0,-dx,dy), float4x4(0.187180906534195,0.041755642741919,-0.126396775245667,0.077344425022602,0.115336015820503,-0.027333484962583,-0.027340952306986,0.035138387233019,-0.064321018755436,-0.158435508608818,-0.083763152360916,-0.130786746740341,0.119283229112625,0.040266465395689,-0.103496365249157,-0.066290743649006));
res += mul(Get(s0,0,-dy), float4x4(-0.010559395886958,-0.045925296843052,0.102064087986946,-0.085980735719204,0.047178842127323,-0.045169442892075,0.093505576252937,0.107041604816914,-0.135941147804260,-0.033869516104460,-0.124511100351810,-0.022094976156950,0.073960930109024,0.093771390616894,-0.068972796201706,-0.221632018685341));
res += mul(Get(s0,0,0), float4x4(0.071033693850040,0.074038371443748,0.031896393746138,0.057049173861742,-0.199108302593231,0.132668808102608,-0.120089486241341,-0.063779599964619,-0.077215939760208,-0.044840343296528,0.084529384970665,0.119956642389297,-0.060151062905788,0.108392924070358,-0.099526628851891,0.275116503238678));
res += mul(Get(s0,0,dy), float4x4(-0.166662752628326,-0.125542312860489,-0.011234072037041,0.089689217507839,-0.075129300355911,-0.041781518608332,-0.061698954552412,0.002845673589036,0.041555151343346,0.031757649034262,-0.195060133934021,-0.110384687781334,0.099948421120644,0.098905041813850,0.183463588356972,0.198044270277023));
res += mul(Get(s0,dx,-dy), float4x4(0.038788046687841,-0.151986464858055,-0.079225547611713,0.096621215343475,0.005208467599005,-0.087521784007549,-0.039386928081512,-0.006911885458976,-0.123260408639908,-0.078124299645424,-0.123520359396935,0.103906966745853,-0.053454920649529,-0.126395359635353,-0.186535403132439,0.090502217411995));
res += mul(Get(s0,dx,0), float4x4(0.099213577806950,-0.154812514781952,0.141469717025757,0.079781569540501,0.154989808797836,0.002407317282632,-0.037952706217766,-0.071727469563484,-0.112977333366871,-0.092299200594425,-0.051853023469448,0.199664220213890,-0.266962677240372,0.145353510975838,0.078005105257034,0.081784784793854));
res += mul(Get(s0,dx,dy), float4x4(-0.095565967261791,-0.070565626025200,-0.204002752900124,-0.082642599940300,-0.027195610105991,0.087993510067463,-0.005827792454511,-0.254909992218018,-0.043281298130751,-0.036051012575626,-0.047464337199926,-0.079843141138554,-0.082619465887547,0.095758780837059,-0.176228180527687,0.154778927564621));
res += mul(Get(s1,-dx,-dy), float4x4(0.117685414850712,-0.160973533987999,-0.066414959728718,-0.001123773050494,-0.121381677687168,-0.198481187224388,0.006319386418909,0.040828518569469,0.097188137471676,-0.095911689102650,-0.058603037148714,-0.034673795104027,0.108562640845776,-0.172068789601326,-0.055276643484831,-0.018690105527639));
res += mul(Get(s1,-dx,0), float4x4(-0.033943988382816,-0.026546977460384,0.168266043066978,-0.030877897515893,0.103515706956387,0.087661817669868,-0.074291713535786,-0.266384810209274,-0.086652174592018,0.050824653357267,0.286511689424515,-0.150791972875595,0.227055072784424,0.099166303873062,0.087308727204800,0.086020469665527));
res += mul(Get(s1,-dx,dy), float4x4(0.236318752169609,-0.087331347167492,0.056209966540337,0.011043786071241,0.088511057198048,-0.255690246820450,-0.024849118664861,-0.026680273935199,0.073778271675110,-0.298420667648315,0.057073939591646,-0.096474550664425,0.075647428631783,-0.193507179617882,-0.063076578080654,0.151415273547173));
res += mul(Get(s1,0,-dy), float4x4(-0.132645130157471,0.026174500584602,-0.162496328353882,-0.101641386747360,-0.133752882480621,-0.098894335329533,-0.026931079104543,0.070937842130661,0.074065394699574,-0.052771355956793,0.118779048323631,0.079548701643944,-0.031724251806736,0.114007189869881,0.158253178000450,0.214624464511871));
res += mul(Get(s1,0,0), float4x4(0.018383909016848,0.130755156278610,-0.067108549177647,0.071795515716076,-0.145446494221687,0.146550685167313,0.131335079669952,-0.004256920889020,0.028572538867593,-0.088303551077843,-0.112192027270794,-0.069405592978001,0.205413684248924,-0.120723411440849,-0.100823380053043,0.037573568522930));
res += mul(Get(s1,0,dy), float4x4(0.107406899333000,-0.150250643491745,0.080117829144001,-0.126535296440125,0.145142555236816,0.074269905686378,0.191539004445076,-0.015864266082644,0.019957711920142,-0.040788251906633,-0.050514772534370,0.097962878644466,0.042530052363873,0.044373404234648,0.087967813014984,0.085712715983391));
res += mul(Get(s1,dx,-dy), float4x4(0.037585169076920,-0.016599800437689,-0.019617164507508,0.008944850414991,0.055891018360853,0.066470742225647,0.118622578680515,-0.117485783994198,-0.100804813206196,-0.081221014261246,0.179734513163567,0.004841037560254,0.025533407926559,0.140157073736191,-0.049392953515053,-0.212268784642220));
res += mul(Get(s1,dx,0), float4x4(0.157122224569321,-0.214206308126450,-0.065514691174030,0.018186192959547,-0.004518030676991,0.105957850813866,0.005994551349431,-0.194609925150871,0.212747782468796,-0.014284715056419,0.023253036662936,-0.058374002575874,0.255948454141617,0.078206121921539,-0.059938382357359,-0.008753942325711));
res += mul(Get(s1,dx,dy), float4x4(0.072197325527668,-0.106782704591751,-0.131851062178612,-0.116799101233482,0.082688570022583,0.069144144654274,0.130817413330078,0.055454645305872,0.052791390568018,0.001801278907806,-0.107336871325970,0.291879713535309,0.090970419347286,-0.007980649359524,-0.113607637584209,-0.084438644349575));
res += mul(Get(s2,-dx,-dy), float4x4(-0.087219148874283,0.063815698027611,0.153227791190147,0.088108025491238,-0.112683892250061,0.036257520318031,0.119818098843098,-0.082346886396408,0.154235973954201,0.065881967544556,0.031613953411579,-0.178197458386421,0.046391818672419,0.036182172596455,-0.094776093959808,-0.030039964243770));
res += mul(Get(s2,-dx,0), float4x4(-0.207301676273346,0.106283947825432,-0.053822938352823,0.096763722598553,-0.067402355372906,0.319234639406204,-0.098534792661667,0.053267017006874,0.017519801855087,-0.056727539747953,0.030894076451659,-0.151040121912956,-0.041506007313728,0.094645112752914,0.129923298954964,-0.149226456880569));
res += mul(Get(s2,-dx,dy), float4x4(-0.003897095099092,-0.052617207169533,0.184624880552292,-0.059244316071272,0.026955381035805,-0.142397224903107,0.003857887350023,0.030275415629148,-0.133919417858124,-0.008664545603096,0.028117869049311,-0.063118390738964,0.084424041211605,-0.049005538225174,0.066335037350655,0.206459358334541));
res += mul(Get(s2,0,-dy), float4x4(0.246549367904663,0.174960926175117,0.023681387305260,0.085057556629181,0.122324801981449,-0.015651499852538,0.020453827455640,-0.173049345612526,0.131328135728836,-0.089735768735409,-0.246894508600235,0.066421948373318,0.044838488101959,0.166143670678139,-0.039698313921690,-0.267192214727402));
res += mul(Get(s2,0,0), float4x4(-0.033921342343092,-0.054776258766651,-0.173824995756149,-0.109850607812405,-0.062061361968517,-0.044054776430130,-0.008243026211858,0.067876979708672,0.060045976191759,0.084466204047203,0.001985957147554,-0.232570320367813,-0.059129200875759,-0.107774227857590,-0.235741615295410,0.080127328634262));
res += mul(Get(s2,0,dy), float4x4(0.156902253627777,0.060752552002668,0.239667341113091,0.048595201224089,-0.042385209351778,-0.048922158777714,0.074361637234688,-0.040930319577456,-0.019812619313598,-0.028726238757372,-0.211142063140869,0.024016743525863,0.046566031873226,0.112370334565639,-0.000716610753443,0.107065081596375));
res += mul(Get(s2,dx,-dy), float4x4(-0.014406831003726,-0.239812195301056,-0.005323946475983,0.096275456249714,-0.049364980310202,0.025470083579421,-0.001104679424316,-0.117274329066277,-0.232513993978500,0.204197734594345,-0.063859745860100,-0.058378592133522,-0.188658520579338,0.282406479120255,-0.171189665794373,-0.099396459758282));
res += mul(Get(s2,dx,0), float4x4(0.242286369204521,0.117275997996330,0.117085091769695,-0.000304100103676,-0.083662621676922,0.032765854150057,-0.044469684362411,0.012178421951830,-0.146551281213760,0.063310451805592,-0.103059642016888,-0.001135994913056,0.098374970257282,0.113001763820648,-0.147117272019386,-0.300892502069473));
res += mul(Get(s2,dx,dy), float4x4(0.024530721828341,-0.127023831009865,0.140676185488701,0.056062769144773,0.007270538248122,0.013920958153903,-0.144993335008621,-0.131292134523392,0.119243480265141,-0.007827548310161,-0.053172316402197,0.150790616869926,0.149979472160339,-0.111194908618927,0.049350984394550,-0.036875706166029));
res += mul(Get(s3,-dx,-dy), float4x4(-0.148479446768761,0.149774149060249,-0.182083442807198,0.041439782828093,-0.158598870038986,-0.016295835375786,-0.036911152303219,-0.095828056335449,0.224058806896210,0.061855275183916,-0.024713544175029,-0.126211479306221,-0.192180067300797,0.309619188308716,0.061308279633522,-0.039237540215254));
res += mul(Get(s3,-dx,0), float4x4(-0.017979316413403,-0.016824768856168,-0.096403330564499,-0.042856186628342,0.041444692760706,0.021769450977445,0.180952697992325,-0.082746028900146,0.341219067573547,0.007577249314636,-0.061286583542824,0.107304029166698,-0.011095770634711,-0.079776749014854,-0.006530380807817,0.044612087309361));
res += mul(Get(s3,-dx,dy), float4x4(-0.325476825237274,0.093089938163757,-0.027322415262461,0.083686694502831,0.032111093401909,-0.031681764870882,0.051135271787643,0.022380620241165,-0.063670523464680,0.017683964222670,0.051265440881252,-0.158492863178253,0.092100590467453,-0.136636927723885,0.118578284978867,0.008722753264010));
res += mul(Get(s3,0,-dy), float4x4(0.086439915001392,0.197060331702232,0.018383495509624,-0.098839499056339,-0.075203850865364,-0.071446903049946,-0.101172886788845,-0.327006340026855,-0.055343229323626,-0.085979096591473,0.128567516803741,0.179006174206734,-0.031796056777239,-0.106771230697632,0.170157924294472,0.154997169971466));
res += mul(Get(s3,0,0), float4x4(0.094643220305443,0.054670188575983,0.159161314368248,-0.112229481339455,0.329597085714340,-0.036863926798105,-0.114681407809258,0.059692390263081,-0.043529462069273,0.022172035649419,0.093480721116066,-0.014293113723397,0.142190307378769,0.035677369683981,0.170774340629578,-0.013267606496811));
res += mul(Get(s3,0,dy), float4x4(0.107296988368034,0.043592654168606,0.187296524643898,0.037529814988375,-0.001762079307809,-0.071245625615120,0.006310894619673,-0.152987033128738,0.145174071192741,0.218816757202148,0.003364252857864,-0.033193446695805,-0.013568309135735,0.131133556365967,0.072253040969372,0.007588522043079));
res += mul(Get(s3,dx,-dy), float4x4(-0.021276567131281,0.096087418496609,-0.097721025347710,0.152899399399757,-0.190399914979935,-0.201897546648979,0.239937782287598,-0.130063593387604,-0.015315357595682,0.129214808344841,-0.226306751370430,0.146364584565163,0.131540626287460,0.278136014938354,-0.084464386105537,-0.225091278553009));
res += mul(Get(s3,dx,0), float4x4(0.183592438697815,-0.205365896224976,-0.002456499962136,-0.119920715689659,0.011256095953286,-0.103125184774399,-0.181749790906906,0.148467570543289,0.078660652041435,-0.130156949162483,-0.085653036832809,0.083877988159657,-0.001849520951509,0.144176095724106,-0.015872387215495,-0.080717220902443));
res += mul(Get(s3,dx,dy), float4x4(-0.111613981425762,-0.233310088515282,-0.137763231992722,-0.123655222356319,-0.071203514933586,0.080582238733768,-0.125635489821434,0.059620521962643,-0.149199366569519,-0.039849478751421,0.067856207489967,-0.040525175631046,-0.050683666020632,0.052256561815739,0.021190335974097,0.173469409346581));
return max(float4(0,0,0,0), res);
}
