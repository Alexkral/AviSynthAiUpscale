sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.095915377140045,-0.050305582582951,0.310492962598801,-0.001214695745148,-0.059729523956776,0.069903686642647,0.139843553304672,-0.182822406291962,-0.022523632273078,-0.163736850023270,-0.100924655795097,0.886891543865204,-0.039018571376801,-0.114906936883926,-0.107672929763794,0.051944155246019));
res += mul(Get(s0,-dx,0), float4x4(-0.034334212541580,-0.005571670364588,0.032405808568001,-0.268452465534210,-0.205350473523140,-0.012046232819557,0.018680669367313,-0.039359442889690,0.023849699646235,-0.159856364130974,-0.042359385639429,0.185966208577156,-0.145692244172096,-0.152908951044083,-0.245696991682053,0.073711812496185));
res += mul(Get(s0,-dx,dy), float4x4(-0.102215118706226,0.119806118309498,-0.141848027706146,-0.032103337347507,0.410205662250519,-0.209197461605072,0.061612222343683,-0.056239403784275,0.060646153986454,-0.096215277910233,0.031054515391588,0.117413744330406,-0.046531826257706,-0.225964859127998,0.323698610067368,0.187571778893471));
res += mul(Get(s0,0,-dy), float4x4(0.077292300760746,0.018388988450170,0.044465776532888,-0.068662688136101,-0.093038484454155,0.125653028488159,0.106489464640617,-0.339645892381668,-0.060574844479561,0.058377254754305,-0.148160800337791,0.226236194372177,-0.118802361190319,-0.225032731890678,0.122653320431709,-0.025371855124831));
res += mul(Get(s0,0,0), float4x4(0.099155485630035,0.035272121429443,-0.072683542966843,-0.070334024727345,-0.119071520864964,0.215678811073303,-0.135214596986771,0.013756281696260,0.028787927702069,0.122780941426754,-0.095653437077999,0.073183096945286,-0.156237855553627,-0.173246949911118,0.141515001654625,0.232141882181168));
res += mul(Get(s0,0,dy), float4x4(0.082781009376049,0.103286102414131,-0.113598950207233,-0.031368736177683,0.068910345435143,-0.091710858047009,-0.216765746474266,0.027001259848475,0.032825350761414,0.031792029738426,-0.198736950755119,-0.033191774040461,-0.075493171811104,-0.251773029565811,0.748022973537445,0.016086958348751));
res += mul(Get(s0,dx,-dy), float4x4(-0.005302365869284,0.251497149467468,0.132792994379997,0.110862508416176,-0.051783017814159,0.246090814471245,0.025628754869103,-0.209131136536598,0.045965734869242,-0.167063042521477,-0.056858137249947,0.153669834136963,-0.051653973758221,-0.097285792231560,-0.136392340064049,-0.070493116974831));
res += mul(Get(s0,dx,0), float4x4(0.035252809524536,0.263764411211014,-0.014051928184927,0.025755885988474,0.025012917816639,0.559947192668915,-0.136961609125137,-0.192049965262413,0.037667166441679,-0.055229850113392,0.093380540609360,-0.005196463782340,-0.097517468035221,-0.078266054391861,-0.120157003402710,0.009052919223905));
res += mul(Get(s0,dx,dy), float4x4(0.247017249464989,-0.010999932885170,-0.123764708638191,0.152275815606117,0.025645639747381,0.051714278757572,-0.108613938093185,-0.091174997389317,0.010811876505613,-0.025304177775979,-0.067882172763348,0.204179868102074,-0.072563059628010,-0.095013931393623,0.018672885373235,0.110127300024033));
res += mul(Get(s1,-dx,-dy), float4x4(-0.045552067458630,-0.069106459617615,-0.042144030332565,0.091650962829590,-0.068791694939137,-0.070074230432510,-0.111772343516350,-0.286354869604111,-0.081275396049023,-0.093801617622375,0.304328262805939,-0.272522568702698,-0.135829821228981,-0.108294136822224,-0.188600793480873,-0.045156762003899));
res += mul(Get(s1,-dx,0), float4x4(-0.124974489212036,0.001569278305396,-0.203599870204926,-0.154242932796478,-0.068195231258869,-0.029884928837419,0.231340527534485,0.020159475505352,-0.040802434086800,0.034072134643793,-0.155507296323776,-0.079168185591698,-0.179484501481056,-0.048516500741243,0.078188151121140,-0.073036856949329));
res += mul(Get(s1,-dx,dy), float4x4(-0.096786707639694,0.071791537106037,-0.059272795915604,-0.099088832736015,-0.054289866238832,0.105367906391621,-0.191795393824577,0.073389925062656,-0.090388558804989,-0.023565193638206,-0.041197422891855,-0.150092437863350,-0.143104299902916,0.004084665328264,0.015660781413317,-0.145573228597641));
res += mul(Get(s1,0,-dy), float4x4(0.023468004539609,-0.180223390460014,-0.043168894946575,0.210290089249611,-0.092844128608704,-0.010039408691227,-0.159844204783440,-0.012196078896523,-0.086761817336082,0.022239057347178,0.009272217750549,-0.150768563151360,-0.091579370200634,-0.161383107304573,-0.088994473218918,-0.063979782164097));
res += mul(Get(s1,0,0), float4x4(-0.068235948681831,-0.044786661863327,-0.229321241378784,-0.292855232954025,-0.110375262796879,-0.026736544445157,-0.068737030029297,-0.030145356431603,-0.015612251125276,0.135253891348839,-0.197995215654373,-0.012744342908263,-0.062993079423904,-0.062893353402615,0.243592694401741,0.089245550334454));
res += mul(Get(s1,0,dy), float4x4(0.038068611174822,-0.034569907933474,-0.078053139150143,0.101448662579060,-0.112081445753574,0.184599891304970,-0.185116320848465,-0.107572965323925,0.110445335507393,-0.180558919906616,-0.149506747722626,0.042700827121735,-0.097837679088116,0.057904414832592,0.006234584376216,0.022353833541274));
res += mul(Get(s1,dx,-dy), float4x4(-0.016215352341533,-0.213577926158905,0.276354104280472,0.382979035377502,-0.011120560579002,0.014622122980654,-0.246085405349731,-0.099781773984432,-0.232254564762115,0.027646822854877,0.190757334232330,-0.038531493395567,-0.036032192409039,0.001894186600111,-0.068173445761204,0.067938514053822));
res += mul(Get(s1,dx,0), float4x4(-0.094353213906288,-0.093018107116222,0.142495334148407,0.296400189399719,-0.106364518404007,-0.138766303658485,-0.231521800160408,0.024675922468305,-0.170624539256096,0.132412269711494,-0.083851873874664,0.068729959428310,-0.032548189163208,0.005188061390072,0.199803397059441,0.053477074950933));
res += mul(Get(s1,dx,dy), float4x4(-0.006077398080379,-0.101485706865788,0.207111969590187,0.048704184591770,-0.040425784885883,0.110358282923698,-0.033463086932898,-0.144846007227898,-0.158800333738327,-0.039495680481195,0.034954521805048,-0.010694105178118,-0.067310810089111,0.363744705915451,-0.073414564132690,0.010179032571614));
res += mul(Get(s2,-dx,-dy), float4x4(0.412490218877792,0.028135647997260,0.225235924124718,0.060363128781319,-0.166104912757874,-0.260350316762924,-0.099112510681152,-0.178660884499550,-0.205393493175507,0.005649208091199,0.098500631749630,-0.085044264793396,0.318134337663651,0.048771310597658,0.148104980587959,-0.082090482115746));
res += mul(Get(s2,-dx,0), float4x4(0.094767145812511,-0.039657603949308,0.106518559157848,0.052551966160536,-0.130705520510674,-0.241692379117012,0.018591109663248,-0.157907545566559,0.044743958860636,0.006504971534014,-0.026497345417738,0.156367763876915,0.097345851361752,-0.090660177171230,-0.128162518143654,-0.169205203652382));
res += mul(Get(s2,-dx,dy), float4x4(0.241501450538635,0.001119375694543,0.077930495142937,0.069597445428371,0.035153508186340,-0.122663214802742,0.226619973778725,0.014857186004519,0.137010008096695,-0.068107306957245,0.205199792981148,0.307618200778961,-0.120138846337795,-0.070039138197899,-0.051492419093847,-0.209899932146072));
res += mul(Get(s2,0,-dy), float4x4(0.149017006158829,0.008222302421927,0.082201883196831,0.020459901541471,-0.198263883590698,0.045548308640718,-0.057985015213490,-0.068882487714291,-0.021747373044491,-0.087605498731136,0.057152360677719,-0.187523335218430,0.065342672169209,0.050707310438156,0.158086866140366,-0.005338766146451));
res += mul(Get(s2,0,0), float4x4(-0.128918617963791,0.031116493046284,-0.002099966397509,-0.024014705792069,-0.104235216975212,-0.043056175112724,-0.162333160638809,-0.007011130917817,0.075775504112244,0.031978003680706,-0.044363152235746,0.073732770979404,0.045052576810122,-0.027420138940215,0.148830696940422,-0.083053275942802));
res += mul(Get(s2,0,dy), float4x4(-0.147949039936066,-0.137669175863266,-0.017923727631569,-0.063775449991226,0.025692526251078,0.068494573235512,-0.197274819016457,0.008632062934339,0.191367343068123,-0.139545097947121,0.131731823086739,0.055315975099802,0.063940063118935,0.075863711535931,-0.053424287587404,-0.096623525023460));
res += mul(Get(s2,dx,-dy), float4x4(0.271954149007797,-0.025270069018006,-0.122458443045616,0.070538327097893,-0.070925779640675,-0.046224981546402,-0.156465604901314,-0.122982725501060,-0.061745475977659,0.010131919756532,0.193527683615685,0.105675235390663,0.283649384975433,0.015640288591385,-0.176263839006424,0.023888340219855));
res += mul(Get(s2,dx,0), float4x4(0.061169441789389,-0.078802995383739,-0.166732713580132,-0.010106814093888,-0.031316142529249,-0.149103879928589,-0.285624682903290,0.029207874089479,0.005155791528523,0.088656693696976,0.047532800585032,0.084574639797211,0.099950507283211,-0.122854240238667,0.006848393008113,-0.009636010974646));
res += mul(Get(s2,dx,dy), float4x4(-0.164913594722748,-0.178722351789474,-0.179256498813629,-0.112427316606045,0.010723463259637,-0.107013508677483,0.026108544319868,0.122052691876888,0.149642050266266,-0.108548738062382,0.171877220273018,0.159361481666565,0.027142742648721,0.077806398272514,-0.043385677039623,-0.071081750094891));
res += mul(Get(s3,-dx,-dy), float4x4(0.467590570449829,-0.127579107880592,0.031592406332493,0.073765709996223,-0.029945133253932,-0.174538001418114,0.160324126482010,-0.075738109648228,-0.014702851884067,0.412916243076324,0.022906422615051,0.123061560094357,-0.049195535480976,-0.190071895718575,0.229802042245865,-0.296330124139786));
res += mul(Get(s3,-dx,0), float4x4(0.027890531346202,-0.084124617278576,0.174393221735954,0.005744711030275,0.008286575786769,-0.165057882666588,0.284111350774765,0.093888819217682,0.178325966000557,0.409558117389679,-0.009588962420821,0.016114724799991,-0.002365784253925,-0.055827006697655,0.225124895572662,-0.352372974157333));
res += mul(Get(s3,-dx,dy), float4x4(-0.109021618962288,-0.017506219446659,-0.043847568333149,-0.035451259464025,0.044708028435707,-0.080069273710251,-0.103977657854557,0.187339588999748,0.285087108612061,0.117675304412842,0.086421728134155,0.312387675046921,-0.073317915201187,-0.089501634240150,0.232947558164597,0.122824564576149));
res += mul(Get(s3,0,-dy), float4x4(0.208004549145699,-0.052245639264584,0.135193035006523,-0.006951337214559,-0.018695941194892,-0.183319956064224,-0.015271292068064,-0.193285778164864,0.144724637269974,-0.010279930196702,-0.014648639596999,0.051467567682266,-0.126350641250610,0.015377236530185,-0.022422239184380,-0.186577841639519));
res += mul(Get(s3,0,0), float4x4(-0.059566926211119,-0.022045746445656,0.072852119803429,-0.053383223712444,-0.139186888933182,-0.217722803354263,-0.077184833586216,-0.044969249516726,0.276825129985809,0.018323648720980,-0.143994346261024,0.084217593073845,-0.113695889711380,0.298916280269623,-0.142034187912941,-0.170248150825500));
res += mul(Get(s3,0,dy), float4x4(-0.055022530257702,-0.017658602446318,-0.296000063419342,0.038811750710011,-0.018758736550808,-0.053794853389263,-0.179543301463127,0.126563563942909,-0.025287950411439,-0.025976415723562,-0.016564892604947,0.117680475115776,0.023182775825262,0.190814152359962,-0.021723998710513,0.064569242298603));
res += mul(Get(s3,dx,-dy), float4x4(0.217014238238335,0.060771845281124,-0.179983988404274,-0.023072941228747,-0.251243591308594,0.090246327221394,-0.117778226733208,-0.090776391327381,-0.009388278238475,-0.087188184261322,0.031768906861544,-0.053863864392042,-0.119328945875168,-0.195763587951660,0.019762206822634,-0.033584699034691));
res += mul(Get(s3,dx,0), float4x4(0.062368504703045,0.156626477837563,-0.071124732494354,-0.025313105434179,-0.090761877596378,0.034667219966650,-0.210639670491219,-0.006606301292777,0.077124670147896,-0.057181123644114,0.010120457969606,-0.187191039323807,-0.147852167487144,-0.067039623856544,-0.112755909562111,-0.048340220004320));
res += mul(Get(s3,dx,dy), float4x4(0.158336937427521,0.146234765648842,-0.305435359477997,0.238767579197884,-0.032510921359062,0.110136054456234,-0.097964309155941,0.192341342568398,0.035380404442549,-0.050036747008562,0.064079135656357,0.220969513058662,0.033751007169485,0.158978074789047,-0.036172576248646,-0.037977963685989));
return max(float4(0,0,0,0), res);
}
