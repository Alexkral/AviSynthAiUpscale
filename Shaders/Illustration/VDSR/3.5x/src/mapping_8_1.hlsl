sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.058939091861248,0.084069415926933,-0.023476654663682,-0.064159281551838,0.047127556055784,-0.038420401513577,-0.137467846274376,0.011250322684646,0.006282351911068,0.168636515736580,-0.074877962470055,-0.066805399954319,0.026072870939970,-0.105068378150463,-0.174347355961800,-0.007564000785351));
res += mul(Get(s0,-dx,0), float4x4(0.005162257235497,0.003881379961967,-0.107768535614014,-0.159951403737068,-0.086643554270267,-0.104413010179996,-0.147401675581932,0.062996499240398,0.158918097615242,-0.222793787717819,0.217608675360680,0.028541730716825,-0.144780680537224,-0.083280391991138,-0.020095730200410,-0.140080973505974));
res += mul(Get(s0,-dx,dy), float4x4(0.155015408992767,-0.058475703001022,-0.130803778767586,-0.002769959857687,-0.102478191256523,0.073521137237549,-0.269606977701187,-0.044329021126032,0.050642538815737,0.112369015812874,0.079373598098755,0.067008018493652,-0.207416921854019,0.057335067540407,0.160385817289352,0.036420714110136));
res += mul(Get(s0,0,-dy), float4x4(-0.067405425012112,-0.081219285726547,-0.007737386506051,-0.084308139979839,0.037578683346510,-0.023748049512506,-0.107185430824757,-0.022467743605375,0.009400777518749,0.060078032314777,-0.023723376914859,-0.017249083146453,0.027595333755016,-0.188907414674759,-0.030260583385825,-0.187757998704910));
res += mul(Get(s0,0,0), float4x4(0.009991214610636,0.118689365684986,-0.076448641717434,0.203908488154411,0.065563283860683,0.061066009104252,-0.019689558073878,0.044068254530430,0.205051258206367,0.030290793627501,-0.076597101986408,-0.023254506289959,-0.007028844207525,-0.087794758379459,-0.031525500118732,-0.043318841606379));
res += mul(Get(s0,0,dy), float4x4(0.197354748845100,0.115890301764011,-0.150387167930603,-0.005703886505216,-0.027659248560667,-0.128227204084396,0.028824666514993,0.026456929743290,-0.059278648346663,-0.112523369491100,-0.033239539712667,0.174337744712830,0.017058955505490,0.010963805951178,-0.027275018393993,-0.042437903583050));
res += mul(Get(s0,dx,-dy), float4x4(-0.076224215328693,-0.094868786633015,0.244404271245003,0.090303488075733,0.093620359897614,0.040609616786242,-0.081690363585949,0.091478854417801,-0.012779145501554,0.100328899919987,0.088956803083420,-0.024151079356670,0.055849030613899,0.080908909440041,-0.155956923961639,-0.386892229318619));
res += mul(Get(s0,dx,0), float4x4(0.085249371826649,-0.049395710229874,0.093370407819748,0.177120894193649,0.039138212800026,-0.019407290965319,-0.071245469152927,0.009288702160120,0.134086206555367,0.037027437239885,-0.096266873180866,0.175657346844673,0.140428960323334,-0.141757830977440,-0.039352595806122,-0.015264758840203));
res += mul(Get(s0,dx,dy), float4x4(0.070396892726421,0.011751476675272,-0.007006169296801,-0.137598827481270,0.107143551111221,0.085450544953346,0.152528032660484,-0.046885456889868,-0.163316026329994,0.228944629430771,0.009794705547392,0.023648282513022,0.128323316574097,-0.042411267757416,0.000724577752408,0.170953646302223));
res += mul(Get(s1,-dx,-dy), float4x4(0.167501702904701,-0.019266124814749,0.065743438899517,0.134732514619827,-0.044643469154835,-0.103707171976566,-0.123797938227654,0.025939295068383,-0.056138820946217,-0.131980597972870,0.050589241087437,0.127994269132614,0.097938388586044,-0.156108841300011,-0.152000874280930,0.052780028432608));
res += mul(Get(s1,-dx,0), float4x4(-0.148860514163971,-0.253751873970032,-0.104248695075512,0.009016584604979,0.079478509724140,-0.078254014253616,-0.034885384142399,0.002967459149659,-0.085543893277645,0.029184818267822,-0.023211574181914,0.019822878763080,0.089920863509178,0.008021916262805,0.161031261086464,0.016666514798999));
res += mul(Get(s1,-dx,dy), float4x4(0.174414262175560,-0.097615696489811,0.102565646171570,0.129718661308289,-0.057933516800404,0.003264544997364,0.075364708900452,-0.076008185744286,-0.152846857905388,-0.120558001101017,-0.091663740575314,0.042983394116163,0.136278480291367,0.086108803749084,0.090790286660194,0.033002637326717));
res += mul(Get(s1,0,-dy), float4x4(0.036225568503141,-0.028347963467240,-0.148511722683907,0.022224633023143,-0.004717851523310,-0.091970898211002,0.102856695652008,0.053555876016617,0.194015666842461,0.144644796848297,0.040869839489460,-0.151473745703697,0.051410615444183,0.221879288554192,-0.140623509883881,0.096425719559193));
res += mul(Get(s1,0,0), float4x4(0.143996953964233,0.179050818085670,0.001246938831173,0.014755821786821,-0.181056797504425,-0.020605904981494,0.035410154610872,0.111643925309181,0.104003094136715,0.067340210080147,-0.076867409050465,0.010813761502504,-0.023993639275432,0.051401108503342,-0.038245547562838,0.164003729820251));
res += mul(Get(s1,0,dy), float4x4(0.120040424168110,-0.113079689443111,-0.185131847858429,0.213699251413345,-0.099760524928570,-0.070614561438560,-0.082919657230377,-0.128958955407143,-0.049843538552523,-0.027625452727079,-0.035529404878616,0.032701805233955,-0.088652864098549,0.130021780729294,0.097752913832664,0.096680618822575));
res += mul(Get(s1,dx,-dy), float4x4(0.073139615356922,0.155197829008102,-0.156280532479286,0.055146560072899,0.128326281905174,-0.132776603102684,-0.114980727434158,-0.084110490977764,-0.002517240354791,-0.190908014774323,-0.025432063266635,-0.053734757006168,-0.036564599722624,-0.149933069944382,-0.247267916798592,-0.315338015556335));
res += mul(Get(s1,dx,0), float4x4(0.151377707719803,-0.082340084016323,0.101512394845486,0.164429619908333,0.061968311667442,-0.074406504631042,-0.036934386938810,0.004836066626012,0.185615211725235,-0.156001076102257,-0.034807473421097,0.083293318748474,-0.187609672546387,0.134409084916115,0.186512574553490,-0.066807344555855));
res += mul(Get(s1,dx,dy), float4x4(0.049856688827276,0.027422195300460,-0.055410865694284,-0.024956321343780,-0.050142552703619,0.083533518016338,-0.050996683537960,0.317605912685394,0.040041349828243,0.023498585447669,-0.000757145870011,0.081542685627937,-0.157847329974174,-0.048396725207567,0.074937827885151,-0.099497646093369));
res += mul(Get(s2,-dx,-dy), float4x4(0.081931635737419,-0.037821404635906,0.036927860230207,-0.002929258858785,-0.001452752621844,-0.072842523455620,0.214995369315147,-0.164172574877739,-0.135861068964005,0.053206793963909,-0.150616213679314,-0.001759495818987,0.139733001589775,0.030025333166122,0.190105602145195,0.009751028381288));
res += mul(Get(s2,-dx,0), float4x4(-0.286649525165558,-0.075357563793659,0.247906669974327,0.169142365455627,0.021000077947974,0.047463934868574,-0.016260828822851,-0.034337297081947,0.024354206398129,0.185274749994278,0.134531363844872,-0.006584510672837,0.015270975418389,-0.043825749307871,-0.181883201003075,-0.034293465316296));
res += mul(Get(s2,-dx,dy), float4x4(0.056684385985136,0.018173607066274,-0.071496278047562,-0.043593518435955,-0.004910050425678,0.109417930245399,-0.054435033351183,0.029297152534127,-0.098016545176506,0.098914042115211,-0.007615382317454,0.183887526392937,0.074043273925781,0.179940313100815,-0.157313346862793,0.149422779679298));
res += mul(Get(s2,0,-dy), float4x4(-0.118382446467876,-0.174953669309616,-0.210978031158447,0.314882963895798,0.168739050626755,-0.067806847393513,0.037968333810568,-0.113128826022148,-0.098809421062469,0.049171812832355,-0.064192920923233,0.063503213226795,-0.048005953431129,0.060944803059101,0.014686642214656,0.273329257965088));
res += mul(Get(s2,0,0), float4x4(-0.012833222746849,0.080757349729538,0.046313233673573,0.046575017273426,0.317924916744232,-0.187811285257339,-0.038776837289333,0.237441733479500,-0.083657123148441,0.061355601996183,-0.075002707540989,0.063666246831417,-0.013315349817276,0.136467933654785,0.061060633510351,0.129205062985420));
res += mul(Get(s2,0,dy), float4x4(-0.097845010459423,0.124067813158035,0.211633920669556,-0.019052367657423,-0.129435583949089,0.031813722103834,0.173755183815956,0.083854183554649,-0.094731755554676,-0.081422150135040,0.060345925390720,-0.157733336091042,-0.014682715758681,-0.039283670485020,-0.142921969294548,-0.181035533547401));
res += mul(Get(s2,dx,-dy), float4x4(0.120190382003784,0.023533660918474,-0.017716048285365,-0.004625506699085,-0.000824108370580,-0.023215405642986,0.026216654106975,-0.105125643312931,-0.046521522104740,-0.158810615539551,0.084317654371262,-0.034268703311682,0.226077958941460,-0.048421520739794,0.049739282578230,0.189481243491173));
res += mul(Get(s2,dx,0), float4x4(-0.022833596915007,-0.035320602357388,-0.067003510892391,-0.206202089786530,-0.070949055254459,-0.042838092893362,-0.181531384587288,0.093570291996002,0.020877266302705,-0.067985646426678,-0.078283876180649,-0.071314029395580,0.109045624732971,0.118115015327930,-0.096038162708282,0.037602681666613));
res += mul(Get(s2,dx,dy), float4x4(0.063584290444851,-0.120857350528240,0.285508900880814,0.058347973972559,-0.189434394240379,-0.030034013092518,0.165406346321106,-0.033394616097212,0.112637579441071,0.084079392254353,0.030806152150035,0.054234910756350,0.110474742949009,0.051317173987627,-0.097770817577839,-0.063388377428055));
res += mul(Get(s3,-dx,-dy), float4x4(-0.189654290676117,0.147264823317528,-0.072275996208191,0.091459564864635,-0.132384747266769,0.226703047752380,-0.058316212147474,-0.078147597610950,-0.091279082000256,-0.012253597378731,-0.213737726211548,-0.014477765187621,-0.032473105937243,-0.046570777893066,0.149526968598366,0.040769327431917));
res += mul(Get(s3,-dx,0), float4x4(-0.052499789744616,0.058693025261164,-0.036332227289677,0.156660035252571,0.022628378123045,0.057469170540571,0.164731398224831,0.161848634481430,-0.100715599954128,0.137096554040909,0.062569245696068,-0.042470730841160,-0.048868544399738,0.057464521378279,-0.088711068034172,0.231040924787521));
res += mul(Get(s3,-dx,dy), float4x4(-0.118375919759274,-0.023617042228580,-0.167847245931625,0.016777649521828,0.024515844881535,0.031997371464968,0.068115688860416,0.093262903392315,-0.061412300914526,-0.166925698518753,0.285138338804245,0.116001360118389,-0.154276728630066,-0.024428375065327,-0.052332144230604,0.191651314496994));
res += mul(Get(s3,0,-dy), float4x4(0.007617169059813,-0.063559852540493,0.014559965580702,-0.018347715958953,0.162581428885460,0.023086341097951,-0.021357305347919,-0.128945246338844,-0.073269061744213,-0.091838672757149,-0.088597483932972,-0.162775784730911,-0.042455062270164,-0.109847396612167,-0.098731316626072,0.070095516741276));
res += mul(Get(s3,0,0), float4x4(-0.039276648312807,-0.108999185264111,0.029570337384939,0.122100047767162,0.151792451739311,-0.246759057044983,0.141415387392044,0.101317562162876,-0.088026359677315,-0.032435104250908,-0.128538638353348,0.015891687944531,-0.011026610620320,-0.165423110127449,-0.018611868843436,-0.119905509054661));
res += mul(Get(s3,0,dy), float4x4(0.112474322319031,0.050863608717918,0.051109891384840,0.082554973661900,0.149247035384178,-0.159537583589554,0.089608162641525,0.223667666316032,-0.213322356343269,-0.150154501199722,0.021294500678778,0.168966695666313,-0.060723744332790,-0.003393308026716,-0.171562731266022,0.015063285827637));
res += mul(Get(s3,dx,-dy), float4x4(0.169197440147400,-0.096758328378201,-0.153992995619774,0.150812968611717,0.165158078074455,0.090966977179050,-0.097922712564468,-0.107397153973579,-0.101531468331814,-0.322441726922989,-0.320754438638687,-0.061948642134666,0.066177695989609,0.066768012940884,0.046858098357916,-0.108450129628181));
res += mul(Get(s3,dx,0), float4x4(-0.101788781583309,-0.093677699565887,0.079117566347122,0.119214773178101,-0.082554578781128,0.098590269684792,-0.087809965014458,0.014242041856050,0.042894486337900,0.014339577406645,-0.069590687751770,-0.061581708490849,0.037591725587845,0.066185161471367,0.016738308593631,0.106480196118355));
res += mul(Get(s3,dx,dy), float4x4(0.045442264527082,-0.033547744154930,-0.131477579474449,-0.128338396549225,-0.078258164227009,-0.082378320395947,-0.010647833347321,0.027113316580653,-0.130886375904083,0.037918969988823,0.004683895967901,0.094389878213406,0.166929736733437,-0.150181382894516,-0.004434430971742,0.015042363665998));
return max(float4(0,0,0,0), res);
}
