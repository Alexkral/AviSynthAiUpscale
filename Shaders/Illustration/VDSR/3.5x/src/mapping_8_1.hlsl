sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.236657917499542,0.036985278129578,0.021018663421273,-0.222163766622543,0.085378281772137,-0.123995058238506,-0.119803160429001,0.288188904523849,0.001140813692473,0.327078998088837,-0.099656380712986,-0.156399548053741,0.071857467293739,0.178523838520050,0.168469414114952,0.285980403423309));
res += mul(Get(s0,-dx,0), float4x4(0.017553813755512,-0.037687789648771,-0.073063656687737,0.148919403553009,0.027968412265182,-0.156693145632744,-0.089669235050678,0.052106261253357,-0.092505060136318,0.159821689128876,-0.071922533214092,0.008326142095029,0.196345835924149,0.123266980051994,-0.095704235136509,0.171919003129005));
res += mul(Get(s0,-dx,dy), float4x4(-0.021835664287210,-0.013981635682285,0.034415777772665,0.204901188611984,-0.100732460618019,-0.007388674188405,-0.069398410618305,-0.000243248621700,-0.112330414354801,0.087525062263012,-0.079346626996994,0.457271456718445,0.116696141660213,0.011408904567361,-0.110740453004837,0.052573125809431));
res += mul(Get(s0,0,-dy), float4x4(-0.049271687865257,0.051271293312311,0.092511765658855,-0.219982698559761,-0.159865871071815,-0.111130982637405,-0.040708906948566,0.362546324729919,0.075828902423382,0.410402894020081,-0.113098248839378,-0.135601133108139,0.123842656612396,0.012915924191475,0.386859744787216,0.149153977632523));
res += mul(Get(s0,0,0), float4x4(-0.040385670959949,-0.041607201099396,0.110858395695686,0.011844573542476,-0.078321404755116,0.069353386759758,-0.057209640741348,-0.023759733885527,0.087497688829899,0.180935770273209,-0.080440491437912,-0.036363366991282,-0.143091782927513,-0.027030108496547,0.077523775398731,0.152227312326431));
res += mul(Get(s0,0,dy), float4x4(0.009198543615639,-0.068268597126007,-0.020355537533760,0.199092984199524,-0.062368303537369,-0.062180135399103,-0.026175536215305,-0.061015963554382,-0.119305700063705,-0.303073942661285,-0.085959084331989,0.036008413881063,0.111133083701134,-0.029402777552605,0.206039071083069,0.290543526411057));
res += mul(Get(s0,dx,-dy), float4x4(-0.113226428627968,0.205855607986450,0.116475924849510,-0.263692140579224,-0.053371872752905,0.296222358942032,-0.055803716182709,-0.097083531320095,-0.013167802244425,-0.061077442020178,-0.056975517421961,-0.157102584838867,-0.010471940040588,0.121135316789150,0.126444682478905,0.108716033399105));
res += mul(Get(s0,dx,0), float4x4(-0.064986363053322,0.098688498139381,0.127928793430328,0.179298460483551,-0.094726786017418,0.022461259737611,-0.063227228820324,0.231694281101227,0.037247858941555,0.047842685133219,-0.063900232315063,-0.024770826101303,-0.153841957449913,-0.069740317761898,-0.048864651471376,0.115537837147713));
res += mul(Get(s0,dx,dy), float4x4(-0.001919384230860,-0.013482080772519,-0.018937226384878,0.067341089248657,-0.058710984885693,0.043773144483566,0.013277927413583,-0.006593399215490,0.079627811908722,0.104164950549603,0.076068043708801,0.106650799512863,0.030404532328248,-0.135395571589470,0.045060392469168,0.130560085177422));
res += mul(Get(s1,-dx,-dy), float4x4(-0.195620119571686,-0.200144693255424,-0.056535348296165,-0.197215318679810,-0.049976143985987,-0.004549806471914,0.040481511503458,-0.161987215280533,0.202360168099403,-0.312686383724213,-0.060506395995617,-0.027811529114842,0.190770611166954,0.032368686050177,-0.102890491485596,0.377241820096970));
res += mul(Get(s1,-dx,0), float4x4(-0.190987482666969,-0.369226932525635,-0.078418701887131,0.038796596229076,0.046393990516663,0.033935043960810,-0.031399004161358,0.051829479634762,0.109551735222340,-0.079384312033653,0.035022292286158,-0.105383768677711,0.171521991491318,-0.224845647811890,-0.222146645188332,0.632278323173523));
res += mul(Get(s1,-dx,dy), float4x4(-0.064807802438736,-0.392140597105026,-0.145644381642342,0.116201713681221,0.146629422903061,0.034233089536428,0.060176387429237,-0.004916566424072,0.099389567971230,-0.067120544612408,-0.088858768343925,0.110388875007629,-0.101177990436554,-0.171322360634804,-0.193852514028549,-0.088192775845528));
res += mul(Get(s1,0,-dy), float4x4(-0.326746553182602,-0.015045082196593,0.217760071158409,-0.134246304631233,-0.025413809344172,0.132616117596626,-0.035986386239529,-0.124521434307098,0.134346112608910,-0.029468026012182,-0.002576624043286,0.118478983640671,0.011519599705935,0.166363924741745,-0.010556084103882,0.019524320960045));
res += mul(Get(s1,0,0), float4x4(-0.183676660060883,-0.135073706507683,0.004763987381011,0.101218149065971,0.013100551441312,0.079840265214443,-0.074596673250198,0.013279194943607,0.189736336469650,0.151951983571053,-0.000080628400610,0.000747418496758,-0.154402524232864,-0.092131555080414,0.013858371414244,-0.069714039564133));
res += mul(Get(s1,0,dy), float4x4(0.104129917919636,-0.367109626531601,-0.124972604215145,-0.020170688629150,0.083943776786327,0.093960747122765,0.032081265002489,-0.115626506507397,0.163860514760017,0.014780936762691,-0.057396288961172,-0.043332234025002,-0.220796868205070,0.022464497014880,0.082040354609489,-0.251225888729095));
res += mul(Get(s1,dx,-dy), float4x4(-0.252209752798080,-0.119252145290375,0.000584970810451,0.000072633498348,-0.046722304075956,0.174061328172684,0.031010657548904,-0.132534667849541,-0.086979381740093,-0.170861661434174,-0.066424094140530,0.023443523794413,-0.004802952986211,0.353977173566818,-0.103973597288132,-0.235351279377937));
res += mul(Get(s1,dx,0), float4x4(0.046330735087395,-0.063986875116825,-0.037436395883560,0.003613900858909,0.040166035294533,0.119687199592590,0.051889605820179,0.001064049196430,0.029529910534620,0.044208448380232,0.002738399663940,-0.000198528287001,-0.100334085524082,0.463382691144943,-0.056504394859076,-0.107599258422852));
res += mul(Get(s1,dx,dy), float4x4(0.123221978545189,-0.016205664724112,-0.081761091947556,-0.069505579769611,0.023255513980985,-0.064556628465652,0.271931290626526,0.028354717418551,0.065739206969738,0.293194323778152,-0.188272804021835,-0.206747770309448,-0.064385272562504,0.435330688953400,-0.016060404479504,-0.214557051658630));
res += mul(Get(s2,-dx,-dy), float4x4(-0.115466907620430,0.064362719655037,0.162584096193314,-0.114737100899220,-0.160165846347809,-0.259082019329071,0.046695400029421,-0.087266325950623,-0.008716424927115,0.195838600397110,-0.074277691543102,0.076594032347202,-0.052472561597824,0.491422474384308,0.014699740335345,-0.326417326927185));
res += mul(Get(s2,-dx,0), float4x4(0.054527614265680,0.176449224352837,-0.087373755872250,-0.036144077777863,0.150476664304733,-0.125311493873596,-0.064597755670547,0.147307440638542,-0.101249009370804,-0.006649416405708,-0.108772382140160,0.027866454795003,-0.020761521533132,0.435786932706833,-0.019294928759336,-0.114688217639923));
res += mul(Get(s2,-dx,dy), float4x4(-0.037237849086523,0.141573190689087,-0.141250342130661,0.015734432265162,-0.161578923463821,-0.225715249776840,-0.048058193176985,-0.022015180438757,-0.130802765488625,0.140977874398232,0.024650849401951,-0.068749248981476,0.006723459810019,0.451870381832123,-0.026925871148705,-0.015761554241180));
res += mul(Get(s2,0,-dy), float4x4(-0.031513687223196,0.122034832835197,-0.282102674245834,0.005276655778289,-0.099999383091927,-0.000161661431775,0.032618012279272,0.104179203510284,-0.089196093380451,0.080149464309216,0.109647683799267,0.091202720999718,-0.063792467117310,0.455485016107559,-0.029185121878982,-0.298562109470367));
res += mul(Get(s2,0,0), float4x4(0.197282567620277,0.058122999966145,-0.028943581506610,-0.013196973130107,0.064573116600513,-0.220781430602074,0.018582755699754,0.270325303077698,-0.080176785588264,0.122090399265289,0.014765836298466,0.105568058788776,-0.062623709440231,0.019500168040395,-0.040658589452505,-0.124528512358665));
res += mul(Get(s2,0,dy), float4x4(0.187574490904808,-0.141808062791824,-0.028977928683162,-0.015963219106197,-0.013765384443104,-0.095541633665562,0.189114153385162,-0.074733436107635,-0.046159796416759,0.037169117480516,-0.043560333549976,-0.104290902614594,0.080203711986542,0.242154315114021,-0.062939889729023,-0.091899737715721));
res += mul(Get(s2,dx,-dy), float4x4(0.011365523561835,0.281861960887909,0.343407779932022,0.227004095911980,-0.059797324240208,-0.049593884497881,0.085405111312866,-0.116897910833359,0.002939652651548,-0.051998347043991,0.041772048920393,0.172808215022087,0.023225232958794,-0.026773424819112,0.029164820909500,0.114981859922409));
res += mul(Get(s2,dx,0), float4x4(0.155826613306999,0.352918237447739,0.236827760934830,0.094814486801624,-0.080157510936260,0.021650787442923,0.129351481795311,0.029303809627891,0.073990054428577,0.114762678742409,0.018623560667038,0.030322829261422,0.060737948864698,-0.146915316581726,-0.128616705536842,-0.124589428305626));
res += mul(Get(s2,dx,dy), float4x4(0.139568924903870,-0.104794897139072,0.044296152889729,0.072364076972008,-0.018667630851269,0.004727206658572,0.143294692039490,0.047484416514635,-0.150564953684807,0.028776373714209,0.059155266731977,-0.139521941542625,0.055167451500893,-0.063684910535812,0.018784865736961,-0.122624218463898));
res += mul(Get(s3,-dx,-dy), float4x4(0.614647626876831,-0.015552892349660,-0.140645071864128,-0.032220307737589,-0.098967283964157,-0.056870743632317,0.063736714422703,-0.045463997870684,-0.083011999726295,0.010665393434465,-0.016056135296822,-0.173660859465599,-0.006627984810621,0.122041285037994,-0.145895093679428,0.360637336969376));
res += mul(Get(s3,-dx,0), float4x4(0.535218954086304,-0.231589481234550,-0.096896655857563,-0.075019873678684,-0.096651054918766,0.024586653336883,-0.109037227928638,-0.141226872801781,-0.152207493782043,0.122735269367695,0.042975232005119,-0.090611927211285,0.174862340092659,-0.003486728761345,-0.148844942450523,0.319644123315811));
res += mul(Get(s3,-dx,dy), float4x4(0.072880826890469,0.020413821563125,-0.046280719339848,0.195682004094124,0.009412609972060,-0.062149636447430,-0.144701749086380,-0.000940700119827,-0.010839759372175,-0.106739565730095,-0.070676028728485,-0.103114672005177,0.136097326874733,-0.126463919878006,-0.073036514222622,0.330305993556976));
res += mul(Get(s3,0,-dy), float4x4(0.421613484621048,0.094396829605103,-0.111159637570381,0.072300761938095,0.112594850361347,0.224935472011566,0.183708816766739,0.031147139146924,-0.133484974503517,-0.091178558766842,0.532478690147400,-0.060829848051071,0.087298236787319,0.064146034419537,0.030547542497516,0.140128597617149));
res += mul(Get(s3,0,0), float4x4(-0.054985392838717,-0.159909650683403,0.010769312269986,-0.026849716901779,-0.030828021466732,0.177585631608963,0.214509278535843,-0.176679432392120,-0.011520703323185,-0.013174002058804,-0.118093088269234,0.056262902915478,-0.019014799967408,-0.140081614255905,0.067708775401115,0.139407202601433));
res += mul(Get(s3,0,dy), float4x4(-0.202469021081924,-0.166762292385101,-0.027053469792008,-0.004459873307496,0.147023364901543,0.022772204130888,0.040478911250830,-0.056864295154810,0.015816934406757,0.022616067901254,-0.094254896044731,-0.052614104002714,-0.194603145122528,-0.131456300616264,-0.288383245468140,-0.095123723149300));
res += mul(Get(s3,dx,-dy), float4x4(0.198069244623184,0.144171118736267,-0.028922887519002,-0.195618212223053,0.059405032545328,0.367729187011719,-0.027916274964809,0.138328954577446,0.094811446964741,-0.147720471024513,0.206911191344261,-0.165346860885620,0.003394921775907,0.021995278075337,-0.081607557833195,0.058594293892384));
res += mul(Get(s3,dx,0), float4x4(0.046330656856298,-0.001040932605974,0.006364597938955,-0.121344767510891,0.194573163986206,0.117248654365540,-0.033654455095530,-0.141313210129738,-0.086303070187569,-0.132466539740562,0.037681840360165,-0.115486271679401,-0.036097057163715,0.015979319810867,0.119245626032352,-0.008483680896461));
res += mul(Get(s3,dx,dy), float4x4(-0.058112438768148,-0.007126753684133,-0.018020039424300,-0.128737419843674,0.061121974140406,0.007567719090730,-0.196799591183662,-0.035523802042007,-0.106574118137360,-0.059150535613298,0.018260540440679,-0.209139078855515,-0.046538356691599,-0.108391463756561,0.034249197691679,-0.073507472872734));
return max(float4(0,0,0,0), res);
}
