sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.059930518269539,-0.221604779362679,0.082232609391212,-0.055161319673061,0.047437109053135,0.061506152153015,-0.076806887984276,-0.183437615633011,0.092481337487698,0.251665353775024,0.216728433966637,-0.067207403481007,-0.020855754613876,-0.119655534625053,0.145171433687210,0.161124378442764));
res += mul(Get(s0,-dx,0), float4x4(0.310037851333618,0.015416432172060,0.260564208030701,-0.134531199932098,-0.041801407933235,0.044161442667246,-0.098147734999657,-0.101294793188572,0.274979829788208,-0.021826472133398,0.059239692986012,-0.195204138755798,-0.217202723026276,-0.253376454114914,0.162263154983521,-0.045068830251694));
res += mul(Get(s0,-dx,dy), float4x4(-0.183777317404747,-0.226339295506477,-0.111207015812397,-0.169831156730652,0.081857107579708,0.028102083131671,-0.114590726792812,0.051660634577274,-0.048748306930065,-0.139619752764702,-0.201719537377357,0.057070057839155,-0.098457120358944,0.091197654604912,0.718500912189484,-0.078453660011292));
res += mul(Get(s0,0,-dy), float4x4(-0.011704501695931,-0.061412595212460,-0.172732546925545,-0.167306229472160,0.174644857645035,-0.169837653636932,0.072874747216702,-0.120484896004200,0.171845793724060,0.103901281952858,-0.001597787020728,-0.102312453091145,-0.153438016772270,-0.083202615380287,-0.205391123890877,-0.003262049285695));
res += mul(Get(s0,0,0), float4x4(0.162493199110031,-0.059056099504232,-0.078944437205791,-0.181708306074142,0.037031393498182,-0.160012155771255,0.052548319101334,-0.077264301478863,-0.127958104014397,-0.124356366693974,0.025299372151494,-0.148058965802193,-0.209484264254570,-0.266432940959930,-0.350325316190720,0.193389862775803));
res += mul(Get(s0,0,dy), float4x4(-0.201891258358955,-0.253535866737366,0.018934633582830,-0.022635754197836,0.006110351998359,-0.132110908627510,0.028187524527311,-0.018807118758559,-0.100577823817730,-0.131751596927643,0.130983874201775,0.103976525366306,0.357597053050995,0.398958295583725,0.020057495683432,-0.094071164727211));
res += mul(Get(s0,dx,-dy), float4x4(0.242201477289200,0.155749171972275,-0.260828226804733,-0.170765116810799,-0.087641842663288,0.105978280305862,-0.029019249603152,0.011457841843367,-0.074656970798969,-0.097629897296429,-0.288498371839523,0.204364165663719,-0.040300194174051,0.014261138625443,-0.116874717175961,-0.057949285954237));
res += mul(Get(s0,dx,0), float4x4(-0.141353949904442,0.040493875741959,-0.354462534189224,0.116547644138336,-0.160327076911926,0.091269865632057,-0.051866665482521,-0.012415474280715,-0.272628396749496,-0.104500614106655,-0.172167837619781,0.246918052434921,0.034178603440523,-0.106343068182468,-0.266390174627304,-0.105876766145229));
res += mul(Get(s0,dx,dy), float4x4(-0.219022199511528,-0.256871849298477,0.009366687387228,0.187366396188736,-0.159169524908066,-0.002170540858060,0.025602871552110,-0.064406529068947,-0.047962572425604,-0.085595533251762,0.156760498881340,-0.081183262169361,0.244183748960495,0.403073459863663,0.054792460054159,0.080403521656990));
res += mul(Get(s1,-dx,-dy), float4x4(-0.132195040583611,0.008109134621918,-0.196119710803032,-0.116563908755779,-0.080197215080261,-0.008908400312066,0.132259428501129,-0.020964302122593,0.094731688499451,-0.057976208627224,-0.349139332771301,0.079924978315830,0.173160240054131,0.134965017437935,-0.095022082328796,-0.049344461411238));
res += mul(Get(s1,-dx,0), float4x4(-0.109094634652138,-0.073006123304367,-0.283715486526489,0.153736203908920,-0.071792252361774,-0.061781484633684,0.098837345838547,0.088037915527821,-0.150540634989738,0.019165005534887,-0.207693547010422,0.097552992403507,0.079925060272217,0.063025549054146,-0.022382225841284,-0.023972012102604));
res += mul(Get(s1,-dx,dy), float4x4(-0.061323855072260,-0.135232567787170,0.189795568585396,0.016085671260953,-0.089345313608646,0.100219957530499,0.091632775962353,0.135536417365074,0.066153183579445,0.265426248311996,0.160029515624046,-0.106655642390251,-0.032739575952291,-0.022533277049661,-0.037222463637590,-0.019655171781778));
res += mul(Get(s1,0,-dy), float4x4(-0.086348615586758,0.013484134338796,-0.007854645140469,0.165896892547607,-0.038955766707659,0.069120489060879,0.014518775045872,0.019023353233933,0.008556990884244,-0.253228276968002,-0.143688797950745,0.121219351887703,0.053646396845579,0.127519011497498,-0.005606865510345,-0.059977818280458));
res += mul(Get(s1,0,0), float4x4(0.047508444637060,-0.019272387027740,-0.185835465788841,0.114174403250217,-0.079860538244247,0.011085614562035,-0.005324458703399,0.077075935900211,-0.197783172130585,-0.091378107666969,-0.095409177243710,0.248477369546890,-0.043750524520874,0.017227740958333,0.035949151962996,-0.022074112668633));
res += mul(Get(s1,0,dy), float4x4(-0.175973892211914,-0.103543929755688,0.396537899971008,-0.128488525748253,-0.117470681667328,0.165427848696709,0.013320276513696,0.168640077114105,-0.112284623086452,0.515645205974579,0.231281116604805,-0.021108975633979,-0.110097244381905,-0.057447865605354,0.072531975805759,0.021097814664245));
res += mul(Get(s1,dx,-dy), float4x4(-0.057287417352200,-0.122136205434799,0.020303068682551,0.083880096673965,-0.089093551039696,0.063144035637379,0.007939129136503,0.058246057480574,-0.281857520341873,-0.175919890403748,0.082319758832455,0.045169439166784,-0.045760627835989,0.091415084898472,-0.057993948459625,0.069882951676846));
res += mul(Get(s1,dx,0), float4x4(-0.111777469515800,-0.286021232604980,-0.245218068361282,0.058625061064959,-0.161636471748352,-0.025444775819778,-0.030647221952677,-0.052517857402563,-0.156715571880341,-0.129202917218208,-0.124791003763676,-0.190501928329468,-0.068176873028278,0.008370024152100,0.017324890941381,0.068572789430618));
res += mul(Get(s1,dx,dy), float4x4(0.262854665517807,-0.146085411310196,-0.017741717398167,-0.107803776860237,-0.165432184934616,0.102694272994995,-0.008456169627607,-0.003119935980067,0.526157200336456,0.283113926649094,0.016351157799363,-0.154817298054695,-0.084803193807602,-0.054765079170465,0.114602498710155,0.056641958653927));
res += mul(Get(s2,-dx,-dy), float4x4(0.127738237380981,0.006307025905699,0.053610295057297,-0.039159461855888,0.356653332710266,0.159082502126694,-0.116973221302032,-0.176410824060440,-0.133568048477173,-0.104656092822552,-0.496617197990417,-0.139482408761978,-0.001904685050249,0.030393613502383,-0.074392147362232,0.065153256058693));
res += mul(Get(s2,-dx,0), float4x4(0.025851543992758,-0.009728745557368,0.058883268386126,-0.133700832724571,0.074686475098133,-0.026034036651254,-0.040413845330477,-0.011916864663363,-0.085972905158997,0.087051220238209,-0.371981322765350,0.370046496391296,-0.102801389992237,-0.054235290735960,0.058381244540215,0.103231951594353));
res += mul(Get(s2,-dx,dy), float4x4(-0.028404792770743,-0.047787029296160,-0.038274325430393,-0.153198108077049,-0.271593302488327,-0.028312878683209,-0.143068969249725,0.129971563816071,-0.087217837572098,-0.004617868456990,0.351748377084732,-0.078262813389301,-0.030758585780859,-0.233940184116364,0.184458747506142,-0.034981511533260));
res += mul(Get(s2,0,-dy), float4x4(-0.075378999114037,0.092217452824116,0.107349671423435,-0.235986620187759,0.049350500106812,-0.014934672974050,0.081529758870602,-0.019020844250917,-0.168702244758606,-0.000428218248999,-0.305951803922653,0.133724197745323,-0.165010452270508,-0.067716203629971,0.233592599630356,0.135882794857025));
res += mul(Get(s2,0,0), float4x4(-0.007046389393508,0.013499215245247,0.055814556777477,-0.194667026400566,-0.059903781861067,-0.129247531294823,-0.098018363118172,-0.004491053055972,0.051676295697689,0.198474258184433,-0.261639684438705,0.320278912782669,0.023617547005415,0.061346575617790,0.260363250970840,-0.253884583711624));
res += mul(Get(s2,0,dy), float4x4(-0.001085553667508,-0.006325899157673,-0.077434174716473,-0.081166803836823,-0.144236102700233,-0.160744965076447,-0.266272544860840,0.230694949626923,-0.115249663591385,0.015537857078016,0.026800552383065,0.049377348273993,-0.043526522815228,-0.321267873048782,0.141156256198883,-0.164293706417084));
res += mul(Get(s2,dx,-dy), float4x4(-0.022362088784575,-0.032718751579523,-0.053818382322788,0.072869926691055,-0.242384195327759,-0.045178368687630,0.028944948688149,0.028888160362840,-0.179663851857185,-0.119195565581322,-0.228334054350853,-0.071504689753056,-0.033767726272345,0.116288304328918,-0.011853341013193,0.049111917614937));
res += mul(Get(s2,dx,0), float4x4(0.020518131554127,0.007963973097503,-0.026679433882236,0.046832051128149,-0.199477598071098,-0.035297349095345,0.093640640377998,0.017752142623067,-0.134067505598068,0.075853526592255,-0.250580400228500,-0.241601318120956,0.011486419476569,0.117288611829281,-0.276398181915283,-0.142240375280380));
res += mul(Get(s2,dx,dy), float4x4(0.039229456335306,0.025467434898019,-0.044933740049601,0.032134305685759,0.051476590335369,-0.142326176166534,0.084350600838661,-0.240451827645302,0.297646850347519,0.111579507589340,-0.199112772941589,0.080976717174053,0.197963804006577,-0.111079409718513,-0.412136882543564,0.120320439338684));
res += mul(Get(s3,-dx,-dy), float4x4(0.158490046858788,-0.046368557959795,-0.075539238750935,-0.015065711922944,0.004044317640364,0.014255149289966,-0.012918879278004,0.329564511775970,-0.448751300573349,-0.233923777937889,0.045048277825117,-0.068639710545540,-0.028617195785046,-0.049684632569551,0.288238167762756,-0.068117953836918));
res += mul(Get(s3,-dx,0), float4x4(0.112929649651051,0.037649214267731,0.159723997116089,-0.005062498617917,-0.053922705352306,0.047245658934116,0.145470321178436,-0.132323101162910,0.123758561909199,0.102055065333843,-0.229217141866684,-0.038950428366661,0.137889683246613,0.077170416712761,0.045544154942036,-0.132686555385590));
res += mul(Get(s3,-dx,dy), float4x4(-0.244729012250900,-0.198227375745773,0.110265068709850,-0.118320748209953,0.030022190883756,-0.080306813120842,0.397333383560181,-0.013791561126709,0.177566826343536,-0.201570063829422,-0.270830571651459,0.235679551959038,-0.036056652665138,0.003525889245793,-0.361468851566315,0.035964637994766));
res += mul(Get(s3,0,-dy), float4x4(-0.040966663509607,-0.030206738039851,-0.117294721305370,-0.110630907118320,-0.186698034405708,-0.135411232709885,-0.038207557052374,-0.055312056094408,0.052333693951368,0.142182394862175,0.197323963046074,-0.180355384945869,0.075659319758415,0.043113268911839,0.201881706714630,-0.117841064929962));
res += mul(Get(s3,0,0), float4x4(-0.046807348728180,-0.140165582299232,0.076329074800014,-0.104072101414204,-0.166532412171364,0.121874287724495,-0.019814381375909,-0.215161383152008,0.245613560080528,-0.074632823467255,-0.099102832376957,-0.223660320043564,0.002502317074686,-0.043424174189568,0.024855595082045,-0.348781377077103));
res += mul(Get(s3,0,dy), float4x4(-0.042496852576733,-0.111561194062233,0.025479411706328,-0.131736889481544,0.259019166231155,0.053030773997307,0.019112439826131,0.006594293285161,-0.306213468313217,-0.355391889810562,-0.159721508622169,0.128199756145477,-0.144814789295197,-0.061608891934156,-0.017625501379371,-0.029986247420311));
res += mul(Get(s3,dx,-dy), float4x4(-0.087980888783932,0.155870899558067,-0.027430145069957,0.054862935096025,-0.086868591606617,-0.176023080945015,-0.303504824638367,-0.033789586275816,-0.068456768989563,0.161970138549805,-0.228362232446671,-0.141671046614647,0.168097510933876,0.010371104814112,-0.358142107725143,-0.025743089616299));
res += mul(Get(s3,dx,0), float4x4(-0.008854356594384,0.080712832510471,0.042390372604132,-0.071551196277142,0.219088748097420,0.087440744042397,-0.212460443377495,-0.105445705354214,-0.512260854244232,-0.021295409649611,-0.016993267461658,-0.088527619838715,-0.211542770266533,-0.120533265173435,-0.255755096673965,-0.009566007182002));
res += mul(Get(s3,dx,dy), float4x4(0.097074508666992,0.033925034105778,-0.014572535641491,-0.019994061440229,0.303947925567627,-0.160643070936203,-0.399841696023941,0.152915209531784,-0.431185215711594,-0.013661251403391,-0.009650430642068,-0.301990181207657,-0.058816794306040,-0.059521693736315,0.267627030611038,-0.035896848887205));
return max(float4(0,0,0,0), res);
}
