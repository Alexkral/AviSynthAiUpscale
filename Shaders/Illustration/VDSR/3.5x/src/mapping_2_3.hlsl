sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.022028336301446,-0.032200805842876,-0.072571448981762,-0.049123156815767,0.040396992117167,-0.008609372191131,0.099904552102089,-0.317217051982880,0.187636896967888,-0.029002314433455,-0.057910557836294,-0.048087947070599,-0.007786121219397,0.003222738625482,0.015309211798012,-0.225406229496002));
res += mul(Get(s0,-dx,0), float4x4(0.065170779824257,0.082101292908192,-0.048011440783739,-0.151930630207062,0.057675383985043,0.063801512122154,0.017702898010612,0.106514491140842,-0.030692661181092,-0.079189494252205,0.153351023793221,0.127861559391022,0.051096774637699,-0.066641412675381,0.036491833627224,-0.022951867431402));
res += mul(Get(s0,-dx,dy), float4x4(-0.122983321547508,0.010178127326071,-0.081777997314930,0.066543206572533,-0.080279283225536,-0.033366516232491,-0.119795925915241,-0.033997207880020,0.072990894317627,0.164757907390594,-0.256504684686661,-0.000506008160301,0.035385403782129,0.056486401706934,0.072722777724266,0.026978330686688));
res += mul(Get(s0,0,-dy), float4x4(-0.024527672678232,0.110961973667145,0.100039139389992,-0.006377768237144,0.049635652452707,0.067590743303299,0.069289557635784,-0.015873402357101,-0.272751092910767,0.008489350788295,-0.113270968198776,0.243315026164055,0.038992755115032,0.098966255784035,0.039708636701107,0.157250463962555));
res += mul(Get(s0,0,0), float4x4(-0.115031071007252,0.040344286710024,-0.031452041119337,-0.102494180202484,-0.080688700079918,-0.082779467105865,0.005678214598447,0.058938726782799,0.000377458054572,0.011499489657581,-0.246627464890480,-0.176948219537735,0.080035097897053,0.024291548877954,0.075919754803181,0.056840732693672));
res += mul(Get(s0,0,dy), float4x4(-0.026722690090537,0.123366311192513,-0.037664916366339,0.000153199347551,0.094729810953140,0.076414808630943,0.088937044143677,-0.084391258656979,0.136967360973358,0.054722558706999,-0.159943327307701,-0.143834441900253,0.027582880109549,0.046525329351425,0.076237991452217,-0.083784848451614));
res += mul(Get(s0,dx,-dy), float4x4(-0.026069279760122,-0.008015514351428,-0.136105820536613,0.095080882310867,0.244094446301460,-0.043750811368227,0.015602378174663,0.029004262760282,0.013257899321616,-0.214077979326248,-0.219503402709961,0.216841503977776,0.008281117305160,-0.062470752745867,0.119673423469067,0.006922511849552));
res += mul(Get(s0,dx,0), float4x4(-0.148437008261681,0.037349097430706,-0.167238742113113,0.259274840354919,0.113767839968204,-0.039767310023308,0.196718424558640,-0.051910925656557,-0.069146491587162,0.015852084383368,-0.021311579272151,0.055382303893566,0.260963946580887,-0.035321962088346,-0.067098967730999,0.001276443130337));
res += mul(Get(s0,dx,dy), float4x4(0.065207861363888,-0.160433068871498,0.012876681983471,-0.056640267372131,0.004435621667653,-0.166562989354134,0.024147214367986,0.098968990147114,0.070354968309402,0.123376972973347,-0.053281221538782,-0.078662574291229,-0.050746936351061,0.068665407598019,-0.103727668523788,-0.204919025301933));
res += mul(Get(s1,-dx,-dy), float4x4(0.010895903222263,0.211042836308479,-0.033587891608477,0.150168433785439,-0.004455687943846,-0.046770147979259,-0.013575508259237,0.077423647046089,0.184597432613373,0.025613265112042,-0.008660268969834,-0.070441618561745,-0.032145652920008,0.095140255987644,0.107777178287506,0.005514298565686));
res += mul(Get(s1,-dx,0), float4x4(-0.146660149097443,-0.020832527428865,0.042515698820353,0.003012513276190,0.050494529306889,0.051384069025517,-0.023961013182998,-0.094799064099789,0.018356993794441,-0.010975749231875,0.092814780771732,-0.016166172921658,-0.030806034803391,-0.261039495468140,-0.002716018119827,-0.067278333008289));
res += mul(Get(s1,-dx,dy), float4x4(-0.092453531920910,0.072149604558945,0.126746684312820,-0.220384612679482,-0.055858634412289,0.187634408473969,-0.113102056086063,-0.110402837395668,-0.082239069044590,0.072234183549881,0.071360290050507,0.104942217469215,0.203122735023499,-0.122587040066719,-0.071554467082024,-0.055229656398296));
res += mul(Get(s1,0,-dy), float4x4(0.268026262521744,0.115050688385963,0.007852889597416,0.083532683551311,0.140852525830269,0.042645379900932,0.085233539342880,0.053796079009771,-0.019542716443539,-0.003193426178768,0.106605768203735,-0.262759000062943,0.120658583939075,-0.046863682568073,-0.141128554940224,-0.170622050762177));
res += mul(Get(s1,0,0), float4x4(-0.109544657170773,0.133089318871498,0.097844988107681,0.045709684491158,0.140143796801567,-0.002541271504015,0.047392226755619,-0.013495332561433,0.091395229101181,-0.006451944354922,0.091701835393906,-0.072040431201458,-0.003164963098243,0.129841700196266,-0.053820006549358,-0.024603659287095));
res += mul(Get(s1,0,dy), float4x4(-0.023447072133422,0.146629765629768,-0.015919461846352,0.019410135224462,0.074530102312565,-0.066174879670143,-0.112535752356052,-0.109406501054764,0.047245301306248,-0.050444670021534,0.031455799937248,0.043787993490696,-0.073153600096703,0.162890478968620,-0.038093011826277,-0.140392139554024));
res += mul(Get(s1,dx,-dy), float4x4(-0.032378833740950,0.117467075586319,-0.009936725720763,0.011041564866900,-0.122896216809750,0.086723446846008,-0.059571675956249,0.045396551489830,0.095758751034737,-0.097591131925583,-0.087177738547325,0.080603435635567,0.084659345448017,-0.038253713399172,0.063286297023296,-0.022628994658589));
res += mul(Get(s1,dx,0), float4x4(-0.087169595062733,0.238189414143562,-0.073266625404358,-0.094199836254120,-0.067654661834240,0.096169874072075,-0.131920039653778,-0.066461332142353,-0.117363974452019,0.237920463085175,0.015043055638671,0.291409611701965,0.019592557102442,0.040570814162493,0.312219172716141,-0.054621834307909));
res += mul(Get(s1,dx,dy), float4x4(-0.055156800895929,0.106696076691151,0.000920968886930,-0.282298445701599,-0.018608041107655,0.016967583447695,0.076960489153862,0.177079111337662,-0.101664736866951,0.108764946460724,0.042267724871635,-0.071173422038555,0.092005878686905,-0.096690401434898,-0.083055958151817,-0.059373244643211));
res += mul(Get(s2,-dx,-dy), float4x4(-0.028061127290130,0.072301179170609,-0.113527387380600,0.028774006292224,0.015186735428870,0.090417034924030,0.089711681008339,0.028172291815281,-0.005742779932916,0.090032972395420,-0.002230629557744,0.143757358193398,-0.177023291587830,-0.088964708149433,0.050714161247015,-0.326384454965591));
res += mul(Get(s2,-dx,0), float4x4(-0.038178622722626,0.048745002597570,-0.002693688729778,-0.025772502645850,0.233438014984131,-0.021595014259219,-0.010773274116218,-0.224302142858505,-0.021433772519231,0.040347579866648,0.103400371968746,-0.326315760612488,-0.013529922813177,-0.038453765213490,0.122882649302483,-0.021559210494161));
res += mul(Get(s2,-dx,dy), float4x4(0.075665555894375,0.069133028388023,-0.010599813424051,-0.005855415016413,0.315195709466934,0.042689051479101,-0.104204915463924,-0.008097427897155,-0.023352047428489,0.091192603111267,-0.079507820308208,0.186876505613327,0.044449064880610,0.139077991247177,-0.005749875213951,-0.087705925107002));
res += mul(Get(s2,0,-dy), float4x4(0.091518707573414,0.070142552256584,-0.031272828578949,-0.016488313674927,0.027977563440800,0.214121580123901,0.064831219613552,-0.034877825528383,0.136240601539612,0.023217441514134,0.064217790961266,-0.121662884950638,0.004117887001485,-0.318190693855286,-0.065120182931423,-0.001724531175569));
res += mul(Get(s2,0,0), float4x4(-0.051548775285482,-0.104374416172504,0.108248218894005,0.030698072165251,-0.015730256214738,-0.157962471246719,-0.005030614323914,-0.033566672354937,0.240310579538345,0.103510357439518,-0.079863078892231,0.046160493046045,0.080404505133629,0.027924060821533,-0.084748022258282,0.293532222509384));
res += mul(Get(s2,0,dy), float4x4(0.019333237782121,0.187356188893318,-0.113862380385399,0.020189899951220,0.066621117293835,-0.002001800341532,-0.009243236854672,0.125463381409645,-0.061303935945034,0.120525091886520,0.167174309492111,0.024925382807851,-0.031967695802450,-0.178535923361778,-0.128365591168404,0.070688389241695));
res += mul(Get(s2,dx,-dy), float4x4(-0.012221300974488,-0.080681674182415,-0.022985039278865,-0.111944220960140,-0.189619243144989,0.082924686372280,0.079321220517159,0.049250382930040,0.140474095940590,-0.003097322536632,-0.055782146751881,-0.119707003235817,-0.005556676071137,-0.030071560293436,-0.042658023536205,-0.079050444066525));
res += mul(Get(s2,dx,0), float4x4(0.000849893782288,0.297775655984879,0.083804145455360,-0.006193774286658,-0.058552559465170,0.039051607251167,-0.016200998798013,-0.083210065960884,0.122119955718517,0.061809286475182,-0.145337328314781,-0.178940460085869,0.031982168555260,-0.016887910664082,0.374414384365082,0.180927455425262));
res += mul(Get(s2,dx,dy), float4x4(-0.044758379459381,0.159377098083496,0.002647260669619,0.041244838386774,-0.181908324360847,0.016209712252021,-0.215368852019310,0.080520398914814,-0.114010415971279,-0.083868697285652,0.064978070557117,-0.120153322815895,-0.157069489359856,-0.067261807620525,-0.059807810932398,-0.050777688622475));
res += mul(Get(s3,-dx,-dy), float4x4(-0.132836148142815,0.089345470070839,0.054178461432457,0.085312493145466,0.156140074133873,0.031048478558660,0.132349953055382,0.203608632087708,0.102797158062458,0.187289848923683,0.006761544384062,0.067978993058205,0.171719640493393,-0.264348000288010,0.063118956983089,-0.113303050398827));
res += mul(Get(s3,-dx,0), float4x4(0.219548851251602,0.109324805438519,-0.086886629462242,-0.102697931230068,-0.078761704266071,0.180553898215294,-0.061546638607979,-0.104353919625282,-0.102225072681904,0.125701442360878,0.098913535475731,0.101579211652279,-0.081700295209885,0.029183335602283,0.077076703310013,0.017763800919056));
res += mul(Get(s3,-dx,dy), float4x4(0.104947552084923,-0.158153861761093,0.099931493401527,-0.013784225098789,0.031045967712998,-0.043562389910221,0.085241384804249,0.096148751676083,0.181666016578674,0.117705903947353,-0.116655848920345,0.059902910143137,-0.031092336401343,0.011277166195214,0.083109557628632,-0.231166243553162));
res += mul(Get(s3,0,-dy), float4x4(0.062058657407761,-0.114132300019264,-0.188222408294678,0.043943177908659,0.019272040575743,0.206863328814507,0.164221480488777,-0.066077105700970,-0.104332230985165,0.108734600245953,-0.026957079768181,0.006144271232188,0.113222859799862,-0.002705022925511,0.006803718395531,-0.029168969020247));
res += mul(Get(s3,0,0), float4x4(0.050788860768080,0.065205931663513,-0.318560153245926,0.018403137102723,-0.083341576159000,0.096383996307850,0.073655024170876,0.103867538273335,-0.135455444455147,0.046359118074179,-0.164050117135048,0.012269491329789,0.023989666253328,0.003914827946573,-0.052495989948511,0.037576213479042));
res += mul(Get(s3,0,dy), float4x4(-0.117498427629471,-0.222467005252838,-0.161452069878578,-0.116309784352779,-0.061077576130629,-0.008247215300798,-0.012821538373828,0.082847855985165,0.121539339423180,-0.104899689555168,-0.068760149180889,-0.051337953656912,0.076751053333282,0.012221253477037,0.013532560318708,-0.045905627310276));
res += mul(Get(s3,dx,-dy), float4x4(0.151109114289284,0.034268405288458,0.112316384911537,0.222321808338165,0.061023112386465,0.088214665651321,0.071285814046860,0.440949767827988,-0.021654760465026,-0.010290971025825,-0.089367784559727,0.028549933806062,-0.015819765627384,-0.027838861569762,0.009693847969174,0.069267861545086));
res += mul(Get(s3,dx,0), float4x4(-0.095694266259670,0.102299831807613,0.000719667819794,-0.207936137914658,-0.038086179643869,-0.164762005209923,0.041300278156996,0.123499773442745,0.102561205625534,-0.029225829988718,-0.106239981949329,-0.149423614144325,0.144081547856331,-0.016693115234375,-0.028678165748715,0.034171745181084));
res += mul(Get(s3,dx,dy), float4x4(-0.008549408055842,0.098647385835648,-0.037436999380589,-0.019206682220101,0.123389393091202,-0.006821191869676,0.015279122628272,0.176373004913330,-0.118543826043606,-0.097226336598396,0.127173662185669,-0.124084576964378,0.013241539709270,0.026429381221533,-0.256870299577713,0.049868803471327));
return max(float4(0,0,0,0), res);
}
