sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.054386105388403,-0.049790985882282,0.113243304193020,-0.020712610334158,0.001944544841535,-0.250899255275726,-0.145589247345924,0.294231206178665,-0.277771264314651,-0.112005338072777,-0.106769979000092,-0.068176805973053,0.009318276308477,0.065100416541100,0.087809853255749,-0.066609106957912));
res += mul(Get(s0,-dx,0), float4x4(0.054005689918995,0.093064837157726,0.094129666686058,0.013206399977207,0.125932678580284,0.097812891006470,-0.213024631142616,-0.118951126933098,-0.017318291589618,-0.151854589581490,0.040242012590170,-0.054849006235600,0.007089796941727,0.075251035392284,-0.108041755855083,0.091185085475445));
res += mul(Get(s0,-dx,dy), float4x4(-0.103079564869404,-0.227542206645012,-0.037567339837551,-0.169609442353249,-0.152402743697166,-0.107333526015282,-0.039427924901247,-0.153973519802094,0.044603168964386,-0.128465846180916,0.110054746270180,0.020747564733028,-0.088545985519886,0.033715326339006,0.077040597796440,0.164576023817062));
res += mul(Get(s0,0,-dy), float4x4(-0.013695561327040,0.027856018394232,0.107647262513638,0.219689652323723,-0.098773755133152,-0.108245208859444,-0.216211602091789,0.018543893471360,-0.116204999387264,-0.078666336834431,0.023790659382939,0.029818886891007,0.080501124262810,0.043134268373251,-0.082275956869125,0.082074262201786));
res += mul(Get(s0,0,0), float4x4(-0.109584994614124,0.095825433731079,-0.100488245487213,-0.139399081468582,-0.169907808303833,0.002736947266385,0.121127769351006,0.314743667840958,0.078035667538643,0.049981579184532,-0.183880358934402,0.083947584033012,0.056670986115932,0.045925438404083,-0.029307805001736,0.142883017659187));
res += mul(Get(s0,0,dy), float4x4(-0.074388518929482,0.121392443776131,-0.070915013551712,-0.008097550831735,-0.101562783122063,-0.046280652284622,-0.115161545574665,-0.020600939169526,-0.093837231397629,0.093956083059311,0.145863905549049,0.016406174749136,-0.048081163316965,0.167351409792900,-0.272848963737488,-0.067844070494175));
res += mul(Get(s0,dx,-dy), float4x4(0.063028976321220,-0.029422340914607,0.148373022675514,-0.101362101733685,-0.195681914687157,0.122611284255981,0.083009280264378,-0.132942244410515,-0.136513188481331,-0.079164355993271,-0.075143985450268,0.049377698451281,0.300605028867722,-0.201870083808899,0.041171569377184,0.131513431668282));
res += mul(Get(s0,dx,0), float4x4(0.105322085320950,0.023187795653939,-0.033005177974701,-0.115057498216629,0.009643800556660,0.034532934427261,0.018182795494795,0.134913906455040,0.306708306074142,-0.124656930565834,-0.011213661171496,0.179067313671112,0.150762274861336,-0.000327884743456,0.035193651914597,0.202643051743507));
res += mul(Get(s0,dx,dy), float4x4(0.085014745593071,-0.035525303333998,-0.131481125950813,0.034903060644865,-0.059956666082144,-0.218749552965164,0.126675039529800,-0.102497108280659,-0.150116533041000,-0.025107668712735,-0.073639333248138,-0.219436585903168,-0.039298783987761,0.072160258889198,0.091749303042889,-0.002625014632940));
res += mul(Get(s1,-dx,-dy), float4x4(0.060635875910521,-0.194386333227158,0.042153798043728,0.103441320359707,0.162992089986801,-0.016621600836515,0.078336946666241,-0.055658988654613,0.173871040344238,0.185693770647049,0.034577868878841,-0.056215837597847,-0.001515010604635,0.006461202632636,0.052530463784933,-0.058568317443132));
res += mul(Get(s1,-dx,0), float4x4(0.028360936790705,-0.082796193659306,-0.045709013938904,-0.048605263233185,0.096384577453136,0.086777873337269,-0.112145937979221,-0.172462403774261,0.039403609931469,-0.040184892714024,0.054317958652973,0.078710652887821,-0.077879995107651,0.055507238954306,-0.150447383522987,0.023159740492702));
res += mul(Get(s1,-dx,dy), float4x4(0.033545602113008,-0.189571380615234,0.109676986932755,-0.132148072123528,-0.007381812203676,0.053945638239384,-0.151810720562935,-0.048427667468786,0.083069674670696,-0.149652481079102,-0.124051623046398,0.015926858410239,-0.084395170211792,0.287997901439667,0.321147620677948,0.082049712538719));
res += mul(Get(s1,0,-dy), float4x4(0.060435712337494,0.015953999012709,0.051810819655657,-0.058383230119944,0.088037021458149,-0.096600137650967,-0.074207961559296,0.170368343591690,0.119961649179459,-0.031004749238491,-0.034467313438654,-0.134051397442818,-0.083060473203659,0.124831713736057,0.024890791624784,0.000375387840904));
res += mul(Get(s1,0,0), float4x4(0.084506206214428,0.011447909288108,0.094928488135338,-0.154786095023155,0.149238064885139,0.059551209211349,-0.022327268496156,-0.057694908231497,-0.072926826775074,-0.095216922461987,0.075119704008102,0.051561433821917,-0.007443123962730,0.044472914189100,-0.243538647890091,-0.101922728121281));
res += mul(Get(s1,0,dy), float4x4(0.108336664736271,0.173223212361336,0.014965519309044,0.021789394319057,-0.073383942246437,-0.151831254363060,0.130228355526924,-0.144979566335678,-0.005694180261344,-0.005253420211375,0.066866017878056,0.113844044506550,-0.056895319372416,-0.021639086306095,-0.080476738512516,-0.034448780119419));
res += mul(Get(s1,dx,-dy), float4x4(-0.052883040159941,0.193952068686485,0.062053300440311,0.057959374040365,0.151262402534485,0.120094984769821,-0.018765935674310,-0.005141615401953,0.012060922570527,0.054049428552389,-0.041486907750368,-0.108613714575768,-0.148703068494797,0.004809057340026,0.012165740132332,0.026109080761671));
res += mul(Get(s1,dx,0), float4x4(0.109477110207081,0.077666111290455,0.030417665839195,0.000571803539060,0.094002202153206,0.079776428639889,0.003831801004708,-0.131183266639709,-0.095007322728634,-0.023049201816320,-0.201170906424522,-0.201764702796936,-0.020568927749991,0.032324913889170,-0.119110129773617,-0.141087010502815));
res += mul(Get(s1,dx,dy), float4x4(-0.145447120070457,-0.026221828535199,0.272420376539230,-0.079927906394005,-0.006627182941884,-0.046554345637560,0.054588347673416,-0.127397879958153,-0.115012139081955,-0.076026380062103,-0.056077904999256,-0.268393009901047,0.119664944708347,0.118440091609955,-0.076680846512318,0.086090005934238));
res += mul(Get(s2,-dx,-dy), float4x4(0.090584121644497,0.184218943119049,-0.121633656322956,-0.131000623106956,0.081630051136017,-0.150829240679741,-0.096602641046047,0.137394726276398,0.166268020868301,0.125794306397438,-0.185873657464981,0.088522017002106,-0.059474918991327,-0.261596292257309,-0.180908873677254,0.019111283123493));
res += mul(Get(s2,-dx,0), float4x4(0.000491164333653,-0.168755978345871,0.018035354092717,-0.031278461217880,0.049232088029385,0.045165982097387,-0.034226428717375,0.055352099239826,-0.070117235183716,-0.019447853788733,-0.232422783970833,0.127058073878288,0.173230305314064,0.091779366135597,0.264724045991898,-0.059997290372849));
res += mul(Get(s2,-dx,dy), float4x4(-0.010248197242618,-0.197315081954002,0.129376843571663,-0.153358608484268,-0.037127230316401,0.117484889924526,0.006779486779124,-0.180476829409599,0.054192878305912,-0.165168166160583,0.145809262990952,0.114101171493530,0.117647446691990,-0.140727981925011,-0.084735386073589,-0.025659155100584));
res += mul(Get(s2,0,-dy), float4x4(0.015308215282857,0.047605954110622,0.093196235597134,-0.066111020743847,-0.049927793443203,0.150121361017227,-0.035342004150152,-0.149658456444740,-0.142670765519142,-0.283135175704956,-0.104359038174152,-0.022993063554168,0.000008077367056,-0.025895578786731,-0.013732852414250,-0.235459238290787));
res += mul(Get(s2,0,0), float4x4(-0.089648351073265,-0.094955146312714,-0.083888143301010,-0.021494545042515,0.032365243881941,0.051211129873991,0.033000841736794,0.059181034564972,0.030527090653777,-0.094358332455158,0.086475126445293,0.084121845662594,-0.041655953973532,-0.146416604518890,-0.120149008929729,0.062767475843430));
res += mul(Get(s2,0,dy), float4x4(0.172683402895927,-0.000704285397660,-0.000366014428437,-0.097573660314083,-0.032737012952566,0.031597334891558,-0.037735830992460,0.162018239498138,-0.040349863469601,0.113095790147781,0.142030000686646,-0.131540179252625,-0.105426587164402,0.023513928055763,0.093651041388512,0.060191620141268));
res += mul(Get(s2,dx,-dy), float4x4(-0.198037743568420,0.171810209751129,0.073097936809063,0.194354251027107,-0.062893912196159,-0.046747419983149,-0.222083538770676,0.068486154079437,-0.027528975158930,-0.278950184583664,0.035794995725155,0.280272960662842,0.138992592692375,-0.229910030961037,-0.033570669591427,0.038055706769228));
res += mul(Get(s2,dx,0), float4x4(-0.126029357314110,0.026318607851863,0.158992290496826,0.126120567321777,-0.254984021186829,-0.027373624965549,-0.208430454134941,0.125272512435913,0.067630499601364,0.012143284082413,-0.228627219796181,-0.026401033625007,0.116075634956360,-0.053364247083664,0.037659257650375,0.071239784359932));
res += mul(Get(s2,dx,dy), float4x4(0.050005719065666,0.113697230815887,-0.133923068642616,0.114189252257347,-0.260368704795837,0.083819031715393,-0.014236102811992,0.158440947532654,0.017933068796992,0.204956442117691,0.142552182078362,0.104012310504913,0.074656754732132,-0.101197220385075,0.057765629142523,0.139921933412552));
res += mul(Get(s3,-dx,-dy), float4x4(0.207137331366539,-0.012104258872569,0.222308844327927,0.016144180670381,-0.128192216157913,0.006521804258227,-0.004639941267669,-0.100152581930161,0.084367208182812,0.123528495430946,-0.061490111052990,-0.057083033025265,0.073120892047882,-0.133504927158356,-0.025820424780250,0.045721318572760));
res += mul(Get(s3,-dx,0), float4x4(0.191854774951935,-0.206524983048439,0.030625745654106,-0.042764440178871,-0.187534570693970,-0.081150718033314,-0.031840924173594,0.067190103232861,-0.124120347201824,-0.057679224759340,-0.178679257631302,0.104121565818787,0.145736336708069,-0.172533705830574,-0.091081790626049,0.056539915502071));
res += mul(Get(s3,-dx,dy), float4x4(0.082204855978489,-0.023331152275205,-0.116916410624981,-0.159660398960114,-0.065301410853863,-0.107406847178936,-0.075212277472019,-0.000331121613272,0.037526663392782,-0.002989151282236,0.020240891724825,0.213405027985573,0.194750115275383,0.169328957796097,0.013157012872398,0.076521612703800));
res += mul(Get(s3,0,-dy), float4x4(-0.180152356624603,0.020224947482347,0.115587711334229,0.086376801133156,0.139997348189354,-0.150842592120171,-0.100212581455708,-0.011241238564253,0.012707931920886,0.136284083127975,-0.076047532260418,-0.094231463968754,-0.041181981563568,-0.101224042475224,-0.023158047348261,0.177249640226364));
res += mul(Get(s3,0,0), float4x4(0.020940644666553,0.149276331067085,0.082139402627945,-0.079535514116287,-0.008571851998568,-0.114078603684902,-0.089887447655201,-0.133390590548515,0.054158054292202,-0.137963101267815,-0.025546001270413,0.063180625438690,0.077684804797173,0.030788820236921,-0.189459025859833,0.156434223055840));
res += mul(Get(s3,0,dy), float4x4(0.057168852537870,-0.168313235044479,-0.012697205878794,-0.120990917086601,0.125563904643059,0.306382119655609,-0.037300921976566,0.227934837341309,0.011861617676914,0.101444058120251,-0.058688752353191,-0.207570075988770,0.247548043727875,-0.178522214293480,-0.079492926597595,-0.012383751571178));
res += mul(Get(s3,dx,-dy), float4x4(0.019345680251718,-0.011324773542583,-0.029649157077074,-0.110315784811974,-0.034867051988840,-0.021347630769014,0.095428027212620,-0.129164263606071,0.078679986298084,0.265502095222473,-0.235248595476151,0.106990210711956,-0.014798968099058,-0.075606077909470,-0.011993723921478,-0.098821237683296));
res += mul(Get(s3,dx,0), float4x4(-0.033474586904049,0.088766321539879,0.133058071136475,-0.073293939232826,0.349802196025848,-0.195933222770691,0.178152486681938,-0.028331536799669,-0.053617455065250,-0.034420270472765,-0.158277973532677,-0.274584561586380,-0.175294667482376,0.006567988544703,-0.196104779839516,-0.036948844790459));
res += mul(Get(s3,dx,dy), float4x4(-0.016654191538692,0.220034912228584,-0.140779718756676,0.129532620310783,0.081479869782925,-0.049639940261841,-0.098849073052406,-0.054371312260628,-0.129838630557060,-0.001484638196416,-0.013550167903304,0.104918137192726,0.198040649294853,0.098335236310959,-0.090287514030933,-0.023940805345774));
return max(float4(0,0,0,0), res);
}
