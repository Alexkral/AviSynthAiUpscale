sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.140535756945610,0.299081414937973,-0.112367920577526,-0.122953847050667,-0.043382421135902,-0.004494129214436,0.258649736642838,-0.098705872893333,-0.053733333945274,0.038891389966011,-0.068815894424915,-0.060294345021248,0.180281028151512,0.367120981216431,-0.005553982220590,-0.157011806964874));
res += mul(Get(s0,-dx,0), float4x4(-0.050758954137564,0.276030987501144,0.174590051174164,-0.079356931149960,-0.112885318696499,-0.062892042100430,0.180715188384056,-0.108646489679813,-0.023036656901240,-0.017512433230877,0.191135630011559,-0.015884481370449,0.173895880579948,0.060273651033640,-0.018576046451926,-0.049921605736017));
res += mul(Get(s0,-dx,dy), float4x4(-0.222918465733528,0.210004538297653,0.005792160052806,-0.031407438218594,-0.037571791559458,0.279756814241409,-0.043545033782721,-0.071100160479546,-0.033919680863619,0.234630867838860,-0.068816199898720,-0.092562772333622,0.122734792530537,-0.072349756956100,-0.064083792269230,-0.068567447364330));
res += mul(Get(s0,0,-dy), float4x4(0.041276417672634,0.214882746338844,-0.015616090036929,0.063965260982513,-0.001593217137270,0.159307837486267,0.257729470729828,-0.108975179493427,-0.019883235916495,-0.040976442396641,-0.140927344560623,-0.191220477223396,0.132644444704056,0.499658346176147,-0.059686362743378,-0.070390202105045));
res += mul(Get(s0,0,0), float4x4(-0.136511534452438,0.081805475056171,0.136595830321312,0.271854788064957,-0.052782852202654,0.242546692490578,-0.056199543178082,-0.071960940957069,0.029005644842982,-0.174709677696228,-0.046171333640814,-0.011933528818190,0.001816593459807,0.326817184686661,0.002903073327616,-0.012447874061763));
res += mul(Get(s0,0,dy), float4x4(-0.175516173243523,0.126093938946724,-0.097040913999081,-0.055568091571331,0.018460068851709,0.222366154193878,0.026755845174193,-0.031045988202095,-0.043672785162926,0.110754050314426,-0.031424537301064,-0.183017387986183,0.089388072490692,0.093317814171314,-0.172866970300674,-0.094173051416874));
res += mul(Get(s0,dx,-dy), float4x4(0.148229464888573,0.079204283654690,0.167444780468941,0.305036008358002,-0.088783822953701,-0.228181049227715,0.011703696101904,-0.200150176882744,-0.074666120111942,0.215933367609978,-0.165295153856277,-0.026420719921589,-0.004754683468491,0.094008028507233,-0.057080030441284,0.046069275587797));
res += mul(Get(s0,dx,0), float4x4(0.018353762105107,0.095785766839981,0.014632806181908,0.042349908500910,-0.096071965992451,0.413120508193970,-0.008986229076982,0.014294270426035,-0.029075462371111,-0.136441394686699,0.047625005245209,0.067045010626316,-0.054711945354939,0.228749379515648,0.124968834221363,-0.015078358352184));
res += mul(Get(s0,dx,dy), float4x4(-0.278776109218597,0.167300328612328,-0.136084958910942,0.002812168560922,-0.167113870382309,0.553390443325043,0.187435567378998,0.004782047588378,-0.126613676548004,0.283839404582977,-0.080508440732956,0.076384231448174,-0.018673613667488,0.087695315480232,-0.228185623884201,-0.064618624746799));
res += mul(Get(s1,-dx,-dy), float4x4(0.072795271873474,-0.037212781608105,-0.174825355410576,0.157965376973152,0.051158908754587,-0.009636571630836,-0.142686158418655,-0.158258557319641,-0.065065838396549,0.121509477496147,-0.046872716397047,-0.021176677197218,-0.243988052010536,-0.155616596341133,-0.315322369337082,-0.079454943537712));
res += mul(Get(s1,-dx,0), float4x4(0.167662248015404,-0.029150011017919,-0.028157960623503,0.196451038122177,-0.038099188357592,-0.027903379872441,0.022807117551565,-0.043399609625340,-0.090211018919945,0.121416911482811,0.049430675804615,-0.015631264075637,-0.113340884447098,-0.067485265433788,-0.129445657134056,-0.146946206688881));
res += mul(Get(s1,-dx,dy), float4x4(-0.047897052019835,0.049129173159599,0.219528257846832,0.118156284093857,-0.114288829267025,0.001030732411891,0.051954586058855,0.153172135353088,-0.052173074334860,0.118256971240044,0.043681893497705,0.345263361930847,-0.035368267446756,-0.043238960206509,0.161266222596169,-0.076256573200226));
res += mul(Get(s1,0,-dy), float4x4(-0.060641489923000,-0.154607191681862,-0.082558482885361,0.157772719860077,0.027728704735637,0.330899119377136,0.238956496119499,-0.138875961303711,0.020625362172723,-0.075204893946648,0.045835964381695,-0.031613811850548,-0.048903264105320,-0.331009626388550,-0.038685113191605,-0.084268167614937));
res += mul(Get(s1,0,0), float4x4(0.147372931241989,-0.121889524161816,-0.148574560880661,-0.047808963805437,-0.137969106435776,0.100386388599873,0.031486175954342,-0.042209170758724,0.277360141277313,0.028873085975647,-0.023117506876588,-0.111990064382553,-0.101302474737167,-0.156610965728760,0.077864058315754,0.067506976425648));
res += mul(Get(s1,0,dy), float4x4(-0.104549013078213,-0.191361814737320,0.103492349386215,-0.090074218809605,-0.158336639404297,0.115072973072529,0.154868364334106,0.332759261131287,0.166471287608147,0.097284868359566,-0.157091945409775,-0.012958880513906,-0.118255570530891,-0.120077706873417,0.249641194939613,-0.024048056453466));
res += mul(Get(s1,dx,-dy), float4x4(0.002605724381283,-0.129879668354988,-0.144064769148827,-0.043350942432880,0.145140483975410,0.035685319453478,-0.011778530664742,-0.077078938484192,0.256188422441483,0.173823997378349,0.054497044533491,-0.204814538359642,-0.058601912111044,-0.398571908473969,0.021444961428642,-0.179153487086296));
res += mul(Get(s1,dx,0), float4x4(0.296097695827484,-0.083860009908676,-0.057176075875759,-0.086418330669403,0.088407061994076,-0.063922092318535,-0.045413337647915,0.181252047419548,0.518973052501678,-0.058031827211380,-0.130871683359146,-0.253758549690247,-0.201913550496101,-0.317279636859894,0.118565574288368,0.120204091072083));
res += mul(Get(s1,dx,dy), float4x4(-0.133836016058922,-0.117246292531490,0.007766841445118,-0.244509875774384,-0.008166799321771,0.193083062767982,0.104969009757042,0.087937526404858,-0.014779292047024,-0.061536930501461,-0.216442093253136,0.572541654109955,-0.118610523641109,0.002863736590371,0.022549415007234,0.009272301569581));
res += mul(Get(s2,-dx,-dy), float4x4(0.119691587984562,-0.038047607988119,-0.105415679514408,-0.091288074851036,-0.269363045692444,0.123794741928577,0.452352344989777,0.186106055974960,0.040461298078299,0.066938012838364,0.038538329303265,-0.027696052566171,0.015971668064594,0.389915794134140,-0.096922606229782,-0.199925199151039));
res += mul(Get(s2,-dx,0), float4x4(-0.024164555594325,-0.137450888752937,-0.092431701719761,-0.111886344850063,0.156597882509232,0.071586757898331,0.134074032306671,0.052818875759840,0.091773837804794,0.078137733042240,0.012028489261866,0.120566971600056,0.052408862859011,0.109854847192764,-0.211719602346420,-0.085805311799049));
res += mul(Get(s2,-dx,dy), float4x4(-0.092093832790852,-0.128887996077538,-0.100768737494946,-0.187755107879639,-0.092694848775864,-0.061582833528519,0.109970949590206,0.008303589187562,0.033952385187149,0.209615707397461,-0.223979309201241,0.201827883720398,-0.030855879187584,0.180140882730484,-0.340855747461319,0.242196887731552));
res += mul(Get(s2,0,-dy), float4x4(0.059731699526310,-0.158739224076271,-0.100376978516579,-0.013160058297217,-0.249076813459396,-0.149256721138954,0.177948921918869,0.292924255132675,0.155467033386230,0.094746485352516,0.071914836764336,-0.042493879795074,0.011087508872151,0.068187676370144,-0.181661292910576,-0.179399654269218));
res += mul(Get(s2,0,0), float4x4(0.153141736984253,-0.128134533762932,-0.005641000345349,-0.082710407674313,0.072681352496147,-0.062547907233238,0.049704000353813,0.067012511193752,0.314154297113419,0.150129407644272,0.035417255014181,0.100178875029087,-0.059856377542019,-0.052613481879234,0.018820581957698,-0.137213096022606));
res += mul(Get(s2,0,dy), float4x4(0.145502105355263,-0.065948531031609,-0.008747599087656,-0.068954750895500,-0.115373119711876,-0.038154117763042,-0.116890236735344,-0.164737895131111,-0.000438995921286,0.035591993480921,-0.174321413040161,0.270147591829300,0.039634063839912,-0.157046839594841,-0.125773951411247,0.188776627182961));
res += mul(Get(s2,dx,-dy), float4x4(0.011296517215669,-0.145740628242493,-0.162570416927338,-0.085132494568825,-0.112785793840885,-0.244638875126839,-0.017033627256751,0.191562995314598,0.051967177540064,0.186386793851852,-0.024441724643111,0.158091291785240,0.070349059998989,0.925615429878235,-0.290431350469589,-0.146731823682785));
res += mul(Get(s2,dx,0), float4x4(-0.075422577559948,-0.130116209387779,-0.082844734191895,-0.084406659007072,0.067293159663677,-0.145800456404686,0.010359995067120,-0.004634680692106,0.071816794574261,0.398055791854858,-0.187776029109955,0.509957909584045,0.145130097866058,-0.184392958879471,-0.067532598972321,0.071506954729557));
res += mul(Get(s2,dx,dy), float4x4(0.429795831441879,-0.027757320553064,0.113283090293407,-0.099381417036057,-0.181215390563011,-0.074196591973305,-0.081754833459854,-0.128243640065193,-0.121959745883942,0.130090177059174,-0.196322470903397,0.725483477115631,0.174084603786469,-0.115522325038910,-0.188581734895706,-0.009531317278743));
res += mul(Get(s3,-dx,-dy), float4x4(-0.119060926139355,-0.077042244374752,-0.127365067601204,-0.082980781793594,0.139947712421417,0.161320090293884,0.061761751770973,-0.009787947870791,-0.037169095128775,-0.094874843955040,-0.054318994283676,-0.179280817508698,0.054453756660223,0.012955605052412,-0.020063748583198,0.165809124708176));
res += mul(Get(s3,-dx,0), float4x4(0.012652491219342,-0.132144197821617,0.103930510580540,0.119635805487633,0.091472543776035,0.041445184499025,0.049438636749983,0.086229458451271,0.025641201063991,-0.038946766406298,-0.088393196463585,-0.102686300873756,0.028439898043871,0.110559202730656,-0.067268624901772,0.073620751500130));
res += mul(Get(s3,-dx,dy), float4x4(-0.093952238559723,0.163545772433281,0.324642986059189,-0.131590798497200,0.060072705149651,0.046165224164724,0.018272662535310,0.262378752231598,-0.202470198273659,0.032672595232725,-0.046318929642439,-0.077562004327774,-0.327926784753799,-0.151967123150826,-0.218671888113022,-0.180230915546417));
res += mul(Get(s3,0,-dy), float4x4(-0.133941411972046,-0.080557897686958,-0.058980356901884,0.006297996267676,-0.076321393251419,-0.056985661387444,0.037853870540857,0.155402511358261,0.346154958009720,-0.096388198435307,-0.016285259276628,-0.127781048417091,0.013881089165807,-0.183868408203125,-0.153975084424019,-0.039967089891434));
res += mul(Get(s3,0,0), float4x4(0.013016962446272,-0.129928767681122,0.075709149241447,-0.100951999425888,-0.032695136964321,0.001226294902153,-0.081178471446037,-0.001833315473050,0.189901024103165,-0.010125051252544,-0.035385720431805,-0.060531098395586,0.047591749578714,-0.042748462408781,0.027829036116600,-0.024851933121681));
res += mul(Get(s3,0,dy), float4x4(-0.086720541119576,-0.132214844226837,0.264221847057343,0.185997679829597,0.027629518881440,0.023523338139057,-0.007426797877997,0.024917459115386,-0.048099569976330,-0.015760848298669,-0.057435151189566,-0.041042637079954,-0.151255011558533,-0.153355851769447,0.012048507109284,-0.160102710127831));
res += mul(Get(s3,dx,-dy), float4x4(-0.038534760475159,-0.107683315873146,0.238729298114777,-0.040526390075684,0.181505352258682,-0.062665231525898,-0.113238066434860,-0.103014238178730,0.217840194702148,-0.141750022768974,-0.092692293226719,-0.053560029715300,0.034779936075211,-0.332085788249969,0.066864721477032,0.235415711998940));
res += mul(Get(s3,dx,0), float4x4(0.059795204550028,-0.095103733241558,-0.005554693751037,-0.056019522249699,-0.057905372232199,-0.009615023620427,-0.028863774612546,-0.118591330945492,0.169212296605110,-0.104700006544590,-0.137570112943649,-0.066372074186802,-0.203473314642906,-0.040587376803160,-0.064001046121120,0.086474277079105));
res += mul(Get(s3,dx,dy), float4x4(-0.146170049905777,-0.100407868623734,0.139631941914558,-0.052040480077267,-0.012229678221047,-0.041933119297028,0.222306787967682,0.009827891364694,-0.009391096420586,-0.120579853653908,-0.165938273072243,-0.041963659226894,-0.087982088327408,-0.122274108231068,0.012364841997623,-0.160010591149330));
return max(float4(0,0,0,0), res);
}
