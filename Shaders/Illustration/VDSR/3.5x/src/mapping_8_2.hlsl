sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.106532379984856,-0.015178358182311,0.110961228609085,0.124897412955761,0.161009728908539,0.137379467487335,-0.028736257925630,-0.040907382965088,0.083386264741421,-0.129141539335251,-0.106191612780094,-0.109909087419510,-0.031273417174816,-0.257246136665344,0.143422558903694,0.030947716906667));
res += mul(Get(s0,-dx,0), float4x4(-0.046514455229044,-0.090618453919888,0.230913758277893,0.040338210761547,-0.006274976301938,-0.033420559018850,0.156795978546143,0.115545853972435,0.090957559645176,-0.180890813469887,-0.119391784071922,0.019966455176473,-0.038686174899340,-0.089911535382271,-0.062135659158230,0.235030427575111));
res += mul(Get(s0,-dx,dy), float4x4(-0.104556843638420,-0.032619372010231,-0.060275789350271,-0.190160587430000,-0.062637463212013,0.043033543974161,0.072489865124226,-0.106900751590729,0.216148197650909,0.064323723316193,0.132338151335716,-0.252472400665283,0.000510104757268,-0.090227931737900,0.189390495419502,0.009438131004572));
res += mul(Get(s0,0,-dy), float4x4(-0.011878518387675,0.139316037297249,-0.025850985199213,0.207132935523987,0.006853293161839,0.133708581328392,-0.003433455247432,-0.102755106985569,0.260405540466309,0.186763182282448,0.213828071951866,0.128927692770958,0.093270368874073,0.108541607856750,-0.071085698902607,0.109407320618629));
res += mul(Get(s0,0,0), float4x4(-0.024178201332688,0.066756628453732,0.162146374583244,-0.012631592340767,0.065027922391891,0.174883604049683,-0.271469146013260,0.056308250874281,-0.034415215253830,-0.114669762551785,-0.069083370268345,-0.074384897947311,-0.088281139731407,0.061485320329666,-0.033414103090763,0.062819883227348));
res += mul(Get(s0,0,dy), float4x4(-0.012470539659262,-0.101316571235657,0.002319757128134,0.005920091643929,0.086594529449940,0.081178277730942,-0.134246453642845,0.193965464830399,-0.017089219763875,0.171121850609779,-0.057927899062634,0.101297624409199,0.050434220582247,-0.178434953093529,0.191753938794136,-0.020470255985856));
res += mul(Get(s0,dx,-dy), float4x4(-0.000826072995551,0.157862722873688,0.102860130369663,0.016265144571662,0.105625361204147,0.107126869261265,0.002759014954790,0.127941504120827,0.077869117259979,-0.044208977371454,0.184840694069862,-0.020814538002014,0.253697663545609,0.258376419544220,0.063597708940506,-0.059858202934265));
res += mul(Get(s0,dx,0), float4x4(-0.302258163690567,-0.090188510715961,0.268119752407074,-0.150860652327538,-0.027048630639911,-0.082062229514122,0.025280466303229,-0.208479970693588,-0.064319044351578,-0.043998777866364,-0.011831869371235,0.112028241157532,0.143061473965645,0.099663168191910,0.172092422842979,0.253007471561432));
res += mul(Get(s0,dx,dy), float4x4(-0.003292053705081,-0.115568280220032,0.199648082256317,-0.002147347433493,-0.053455393761396,0.249273851513863,-0.028531687334180,0.153706803917885,-0.049246635288000,0.073921598494053,-0.147541701793671,0.164123207330704,0.311426907777786,-0.086773276329041,-0.218235090374947,0.066429339349270));
res += mul(Get(s1,-dx,-dy), float4x4(-0.128272369503975,-0.138142153620720,-0.198245987296104,-0.108699001371861,-0.122488565742970,-0.230217412114143,0.118912227451801,0.045797783881426,-0.141025885939598,0.118997126817703,-0.064209505915642,-0.039612516760826,-0.053023837506771,-0.055352564901114,0.133932903409004,0.172616735100746));
res += mul(Get(s1,-dx,0), float4x4(-0.074841126799583,0.044596232473850,-0.184203177690506,0.133568897843361,-0.118341781198978,0.063047617673874,0.127785503864288,0.128038942813873,0.018542407080531,0.039259221404791,-0.141936495900154,-0.252149641513824,0.051156748086214,-0.134787023067474,0.021728169173002,0.025283498689532));
res += mul(Get(s1,-dx,dy), float4x4(0.151720598340034,0.103108406066895,0.005867195315659,0.002841624198481,-0.074475280940533,0.149607777595520,0.128432810306549,-0.065058432519436,0.121931396424770,0.045726984739304,-0.295275509357452,-0.090115889906883,0.065828241407871,-0.028113881126046,-0.139996141195297,0.139751479029655));
res += mul(Get(s1,0,-dy), float4x4(0.045250702649355,-0.175207883119583,-0.033347334712744,-0.066749721765518,0.108898758888245,-0.165690436959267,-0.031902067363262,-0.042229909449816,-0.020063683390617,-0.148837551474571,0.192818537354469,0.015502828173339,-0.163196399807930,-0.173528492450714,0.058059882372618,-0.289398908615112));
res += mul(Get(s1,0,0), float4x4(0.086049646139145,-0.001653967425227,-0.139694243669510,0.006971258204430,-0.057345032691956,0.019436795264482,-0.014769755303860,0.195109874010086,0.101014249026775,0.099277690052986,-0.153359785676003,-0.046239569783211,0.148279294371605,-0.006343123968691,-0.026676796376705,0.024473642930388));
res += mul(Get(s1,0,dy), float4x4(0.022162739187479,0.001901425886899,-0.013682575896382,0.076311975717545,-0.011804673820734,-0.008236889727414,0.022562293335795,0.041261412203312,0.076579116284847,0.005093238782138,-0.136850848793983,-0.081894047558308,-0.057611323893070,-0.128960460424423,0.237281784415245,0.175726413726807));
res += mul(Get(s1,dx,-dy), float4x4(-0.019570069387555,0.045417714864016,0.101743385195732,-0.014675473794341,0.065161131322384,-0.260549008846283,0.127221092581749,-0.063464507460594,0.099343992769718,-0.122762769460678,-0.094253100454807,0.046969465911388,-0.087179601192474,0.129445195198059,0.094253912568092,-0.010444351471961));
res += mul(Get(s1,dx,0), float4x4(0.133427605032921,0.246849566698074,0.108526989817619,-0.102158039808273,0.036457434296608,0.037523575127125,0.046962007880211,-0.014315626583993,0.211587101221085,0.014146391302347,0.213595211505890,-0.049679435789585,-0.031063746660948,-0.040324378758669,-0.170647740364075,0.007936695590615));
res += mul(Get(s1,dx,dy), float4x4(-0.125474765896797,-0.041452173143625,0.040708053857088,0.062870368361473,0.067343622446060,0.058795243501663,-0.048144660890102,-0.140973895788193,-0.044560801237822,-0.135695785284042,-0.139228016138077,0.115394584834576,0.070150271058083,-0.078654065728188,0.051645807921886,0.108702957630157));
res += mul(Get(s2,-dx,-dy), float4x4(-0.122222088277340,0.143413022160530,-0.247155055403709,0.050654225051403,-0.059149291366339,0.119279474020004,0.114520251750946,-0.038290981203318,0.122659109532833,-0.043542604893446,-0.116166107356548,-0.027717350050807,0.184023797512054,-0.068172238767147,-0.264073967933655,-0.062639236450195));
res += mul(Get(s2,-dx,0), float4x4(0.076247066259384,-0.019488034769893,-0.052395552396774,0.242465049028397,-0.168920755386353,0.008112953975797,0.089590355753899,-0.071520030498505,0.083908133208752,-0.042128495872021,0.022769091650844,0.083719193935394,0.065669327974319,0.005754289682955,0.051879134029150,0.133867710828781));
res += mul(Get(s2,-dx,dy), float4x4(-0.100337229669094,0.116817325353622,0.053531132638454,0.030082032084465,0.154355436563492,-0.041061744093895,-0.024032797664404,-0.057970080524683,0.047503389418125,-0.097511276602745,0.109243333339691,0.052880834788084,-0.076196052134037,0.155201196670532,-0.083867527544498,0.080183729529381));
res += mul(Get(s2,0,-dy), float4x4(0.121721327304840,0.096563398838043,-0.009114141575992,0.174146592617035,-0.052214432507753,-0.098959922790527,0.037687815725803,-0.043075095862150,0.009351945482194,0.021801559254527,0.169044092297554,-0.049714267253876,0.157570526003838,-0.080650292336941,0.070769488811493,-0.013712527230382));
res += mul(Get(s2,0,0), float4x4(-0.211571842432022,0.002600877778605,-0.074947521090508,-0.074396140873432,0.063895203173161,0.040217205882072,0.228301078081131,-0.274923115968704,-0.175089463591576,0.082158461213112,0.089513882994652,0.156393051147461,-0.060007911175489,-0.002016806043684,-0.090356476604939,-0.137778356671333));
res += mul(Get(s2,0,dy), float4x4(-0.130868837237358,0.056479923427105,0.129955336451530,0.247430831193924,-0.102299652993679,0.065711036324501,-0.103704757988453,-0.048029396682978,-0.081587716937065,-0.022133041173220,0.030053185299039,0.161767199635506,-0.120491519570351,0.090056955814362,0.035191293805838,0.041601404547691));
res += mul(Get(s2,dx,-dy), float4x4(0.083054661750793,0.117061108350754,-0.003811506554484,-0.038459993898869,-0.045165859162807,0.096476003527641,0.146392107009888,0.053541611880064,0.084217682480812,0.048408683389425,0.119241133332253,-0.008173679932952,0.063091814517975,-0.067730404436588,-0.066831745207310,0.000635395816062));
res += mul(Get(s2,dx,0), float4x4(0.035631809383631,0.088127903640270,0.127096891403198,0.138829037547112,-0.087081365287304,0.027013570070267,-0.010137251578271,-0.087969459593296,-0.149002984166145,-0.009047293104231,-0.032719917595387,0.060787610709667,0.138572603464127,0.012061689980328,-0.023908494040370,0.038562841713428));
res += mul(Get(s2,dx,dy), float4x4(-0.062433194369078,0.149893254041672,-0.143259868025780,0.009383545257151,-0.228674098849297,0.045977771282196,0.127844497561455,-0.155383199453354,0.094944708049297,0.050517238676548,-0.068167507648468,0.138168603181839,0.164453327655792,0.108504794538021,-0.178308442234993,-0.024522582069039));
res += mul(Get(s3,-dx,-dy), float4x4(-0.069113478064537,-0.014425854198635,0.040789514780045,0.031255189329386,0.174198716878891,-0.048379931598902,-0.024624586105347,-0.062353201210499,-0.170417174696922,-0.127823397517204,-0.122674115002155,0.053444154560566,0.196339368820190,0.192869678139687,-0.191720589995384,0.102093987166882));
res += mul(Get(s3,-dx,0), float4x4(-0.072833150625229,-0.076964907348156,0.047711301594973,-0.078213520348072,-0.255748897790909,0.176874905824661,-0.064927421510220,0.037192504853010,-0.085206732153893,0.269895285367966,-0.130071908235550,-0.161373957991600,0.042194813489914,-0.124102108180523,-0.025188324972987,0.100087516009808));
res += mul(Get(s3,-dx,dy), float4x4(0.113099575042725,-0.093301586806774,0.056211858987808,-0.101668238639832,-0.010184515267611,-0.275224953889847,0.134093865752220,-0.060049138963223,-0.276148885488510,-0.126500338315964,-0.188523158431053,0.080777935683727,-0.043472860008478,-0.049737527966499,-0.053026266396046,0.209036439657211));
res += mul(Get(s3,0,-dy), float4x4(0.008719786070287,0.044461958110332,0.056947488337755,0.009308866225183,0.044059012085199,0.052790388464928,-0.008273865096271,-0.073484882712364,0.108484551310539,0.248879447579384,-0.333025872707367,-0.042952876538038,-0.039874810725451,-0.090796679258347,-0.063408806920052,-0.196262627840042));
res += mul(Get(s3,0,0), float4x4(0.151341438293457,0.036637634038925,-0.179307773709297,0.050497822463512,0.160246297717094,0.047088198363781,0.105420008301735,0.163972511887550,-0.053047198802233,-0.155111238360405,0.016455806791782,-0.167599231004715,-0.078109599649906,-0.005823258310556,-0.041953373700380,0.037434794008732));
res += mul(Get(s3,0,dy), float4x4(0.049637258052826,-0.056171976029873,-0.211581513285637,-0.076827839016914,0.004874343518168,-0.166597977280617,0.082284688949585,-0.125501975417137,0.071831166744232,0.118808515369892,0.003335519693792,-0.009695984423161,-0.086937032639980,-0.043947089463472,-0.177562102675438,-0.106496557593346));
res += mul(Get(s3,dx,-dy), float4x4(-0.150300472974777,0.181731462478638,-0.050245538353920,0.009710540063679,0.103893376886845,0.056869432330132,0.026029266417027,0.030646113678813,-0.013059988617897,0.014257499016821,0.052071861922741,0.071405097842216,0.025932999327779,0.013800572603941,0.265020608901978,-0.213727265596390));
res += mul(Get(s3,dx,0), float4x4(0.002913851989433,0.194124191999435,-0.103132657706738,0.188748672604561,0.110547333955765,0.122064448893070,-0.066290691494942,-0.075269341468811,0.167025223374367,-0.051607917994261,0.160534277558327,0.010977928526700,0.000606582034379,-0.035662356764078,0.049237482249737,-0.078306317329407));
res += mul(Get(s3,dx,dy), float4x4(-0.018553610891104,-0.075090140104294,0.034074220806360,-0.052025355398655,0.101298160851002,-0.128748074173927,0.134056150913239,-0.040681187063456,0.046481724828482,-0.204328551888466,0.110136762261391,-0.152693569660187,-0.211662471294403,-0.186865493655205,0.105260856449604,-0.106782898306847));
return max(float4(0,0,0,0), res);
}
