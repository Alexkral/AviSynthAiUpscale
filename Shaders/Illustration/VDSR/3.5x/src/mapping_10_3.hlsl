sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.033568114042282,-0.362974911928177,-0.078194543719292,-0.120500512421131,-0.143212929368019,0.049996387213469,-0.023104213178158,-0.171158507466316,0.045819390565157,-0.213109254837036,0.003196368226781,0.113598838448524,0.069777205586433,-0.029429659247398,-0.074277766048908,0.027699645608664));
res += mul(Get(s0,-dx,0), float4x4(0.293345749378204,0.049038983881474,0.018234854564071,0.229481011629105,0.154462710022926,0.051099065691233,0.084059461951256,-0.005947227589786,0.123224407434464,0.011266479268670,0.076887734234333,-0.045549374073744,0.070788674056530,0.006115787662566,0.142088979482651,-0.038591891527176));
res += mul(Get(s0,-dx,dy), float4x4(-0.083981394767761,-0.120530582964420,-0.153105229139328,0.028740940615535,0.118318818509579,0.158625498414040,0.008272419683635,0.087657094001770,0.094975233078003,0.046171180903912,-0.031665444374084,0.044114079326391,0.096222855150700,0.168775007128716,-0.142562940716743,-0.099794484674931));
res += mul(Get(s0,0,-dy), float4x4(0.166714936494827,-0.097624763846397,0.019620351493359,0.093026667833328,-0.062512353062630,0.097126103937626,0.134225621819496,0.236787974834442,0.076332576572895,-0.177823856472969,0.035789694637060,-0.152498587965965,0.051926333457232,-0.158843070268631,0.068305909633636,0.101338595151901));
res += mul(Get(s0,0,0), float4x4(-0.158610016107559,-0.053165409713984,-0.086894012987614,-0.194625675678253,0.021887799724936,0.208460196852684,0.029698098078370,0.010359318926930,0.085512824356556,-0.034787297248840,0.025503577664495,0.024748211726546,0.237892016768456,0.063334286212921,0.010359667241573,0.036736242473125));
res += mul(Get(s0,0,dy), float4x4(-0.106154739856720,0.145112022757530,0.121457964181900,-0.110788695514202,0.083002805709839,-0.131087586283684,-0.153800413012505,-0.194176182150841,0.006573519203812,0.065155655145645,0.039816573262215,-0.020092725753784,-0.138192400336266,-0.021274168044329,-0.271479070186615,0.026069719344378));
res += mul(Get(s0,dx,-dy), float4x4(-0.044152047485113,-0.010428600944579,0.173005759716034,-0.074067674577236,0.000796823995188,0.100691586732864,-0.030586665496230,-0.108707256615162,0.011738691478968,-0.128118649125099,-0.037064146250486,-0.029069339856505,-0.152558863162994,-0.077465534210205,-0.052149370312691,0.013316440396011));
res += mul(Get(s0,dx,0), float4x4(-0.121109001338482,0.370423257350922,0.213125780224800,-0.178506851196289,-0.078975588083267,-0.155387297272682,-0.177094712853432,0.249935761094093,-0.043631907552481,-0.018355915322900,0.077374972403049,0.110781878232956,-0.086628250777721,0.207103997468948,0.085775412619114,0.004078019876033));
res += mul(Get(s0,dx,dy), float4x4(-0.147155866026878,0.210031360387802,0.172162011265755,-0.055898241698742,0.054315689951181,-0.087344594299793,0.181975305080414,-0.011862001381814,-0.005396697204560,0.097553417086601,-0.064686372876167,-0.075068846344948,-0.168140068650246,-0.054257135838270,-0.016421515494585,-0.045810993760824));
res += mul(Get(s1,-dx,-dy), float4x4(-0.081249743700027,0.108473904430866,-0.149670213460922,0.082855775952339,-0.136030852794647,-0.067029975354671,-0.026365224272013,-0.019253179430962,0.168320104479790,-0.039001494646072,0.116942100226879,-0.133072108030319,-0.132580786943436,-0.096456713974476,-0.036777079105377,0.041263338178396));
res += mul(Get(s1,-dx,0), float4x4(-0.116504050791264,0.079540178179741,0.032754331827164,-0.123372897505760,-0.203273907303810,0.000255885272054,-0.182998850941658,0.093980878591537,-0.077773220837116,0.090545646846294,-0.160246789455414,-0.022478520870209,-0.007924268022180,0.061209253966808,0.151298969984055,-0.022998003289104));
res += mul(Get(s1,-dx,dy), float4x4(0.006370496470481,0.008679308928549,-0.029872637242079,-0.037352841347456,-0.277937710285187,0.013544561341405,-0.091617457568645,0.079706452786922,0.017887067049742,0.209615200757980,-0.136487260460854,-0.068651780486107,0.004745902493596,-0.002224689582363,0.093092232942581,0.068457663059235));
res += mul(Get(s1,0,-dy), float4x4(-0.061818055808544,0.243244439363480,0.001233028830029,0.104418598115444,-0.083103820681572,-0.048658169806004,-0.102420799434185,0.029179979115725,0.263345539569855,-0.184755504131317,-0.024055758491158,0.064982593059540,-0.141567096114159,0.174658536911011,0.127258032560349,0.007676745764911));
res += mul(Get(s1,0,0), float4x4(-0.077985987067223,-0.212399140000343,0.141289547085762,-0.110345780849457,-0.097611129283905,0.090324349701405,-0.071695975959301,-0.023225158452988,0.011319560930133,0.111207231879234,-0.154987126588821,0.248192697763443,-0.110236868262291,-0.141203865408897,0.233582526445389,0.045970261096954));
res += mul(Get(s1,0,dy), float4x4(0.203985765576363,-0.000701269193087,0.011308146640658,0.135602921247482,0.152029708027840,-0.023715417832136,-0.022126270458102,-0.090017251670361,-0.164340779185295,0.053161386400461,-0.103567518293858,-0.190967336297035,0.042884666472673,-0.022391820326447,0.116485424339771,0.005523292347789));
res += mul(Get(s1,dx,-dy), float4x4(-0.044345553964376,0.078454986214638,-0.113401681184769,0.067541681230068,-0.139278724789619,-0.053555369377136,-0.146165281534195,0.022300707176328,-0.048681642860174,-0.072718977928162,0.102178998291492,-0.095416992902756,-0.087282776832581,0.002470358042046,0.173845887184143,-0.150062233209610));
res += mul(Get(s1,dx,0), float4x4(0.008769272826612,-0.025322018191218,-0.097776405513287,-0.036374207586050,0.022794112563133,0.009194822050631,-0.073622092604637,-0.237938821315765,-0.014771780930459,0.005681988317519,-0.246139749884605,0.003287704894319,-0.007385983597487,0.021983806043863,0.034096010029316,0.119837827980518));
res += mul(Get(s1,dx,dy), float4x4(-0.059608496725559,0.201953679323196,-0.140115275979042,-0.205992564558983,-0.044782083481550,0.040656220167875,0.041634373366833,-0.004609495867044,0.004630888812244,0.129540711641312,-0.017079945653677,-0.113000199198723,0.017364833503962,0.043370395898819,0.150688499212265,0.035028863698244));
res += mul(Get(s2,-dx,-dy), float4x4(0.048987325280905,-0.079458549618721,-0.025057997554541,-0.262857556343079,0.021667879074812,-0.095789410173893,0.245876342058182,-0.198436558246613,-0.142508730292320,0.060615219175816,-0.122310891747475,0.058163292706013,0.031847331672907,-0.000803819741122,-0.006898314226419,0.012966845184565));
res += mul(Get(s2,-dx,0), float4x4(0.133887410163879,-0.055863957852125,-0.122410111129284,-0.029855920001864,-0.198579952120781,-0.285669267177582,0.094677299261093,-0.038341119885445,-0.053656872361898,-0.109769843518734,0.132884591817856,-0.010846341028810,-0.134327366948128,0.096793211996555,-0.030650043860078,-0.109167903661728));
res += mul(Get(s2,-dx,dy), float4x4(0.161555618047714,-0.085185922682285,-0.110989481210709,-0.128488153219223,-0.007162859663367,-0.015157217159867,0.094625607132912,0.022308066487312,0.085281193256378,-0.078026406466961,-0.071534357964993,-0.007621416356415,-0.024769801646471,0.108246646821499,0.130484610795975,0.024167450144887));
res += mul(Get(s2,0,-dy), float4x4(0.093000397086143,-0.205988764762878,0.047257438302040,0.058792654424906,-0.008605826646090,0.132299900054932,0.142285346984863,0.010199950076640,0.110296756029129,-0.057141687721014,0.139960229396820,-0.032387830317020,-0.174269825220108,-0.001683036913164,-0.008350717835128,-0.135282263159752));
res += mul(Get(s2,0,0), float4x4(-0.283981502056122,0.191125988960266,-0.142171874642372,-0.264765679836273,-0.062153376638889,0.045150585472584,0.157740116119385,-0.156646609306335,-0.153020411729813,0.008976384997368,0.117454841732979,-0.101585529744625,-0.126002296805382,0.092122867703438,0.245711520314217,0.078875146806240));
res += mul(Get(s2,0,dy), float4x4(-0.046205725520849,0.061080347746611,-0.201748669147491,0.186325639486313,0.087399795651436,0.170909762382507,-0.104524798691273,-0.049822527915239,-0.003300365526229,0.151619166135788,-0.005742853041738,0.041349366307259,0.002248559147120,0.042374975979328,0.172066867351532,-0.017832564190030));
res += mul(Get(s2,dx,-dy), float4x4(-0.288007080554962,-0.065283097326756,0.186116039752960,-0.017757581546903,-0.045141842216253,0.068485923111439,0.149130478501320,0.071080893278122,-0.034082982689142,0.087694250047207,0.094286240637302,0.001046462100931,-0.010976817458868,-0.009874470531940,-0.194172650575638,0.050469558686018));
res += mul(Get(s2,dx,0), float4x4(0.046767946332693,0.149594813585281,0.066907241940498,-0.131247296929359,0.033568289130926,-0.133213609457016,-0.173420906066895,0.124937608838081,0.074319928884506,-0.054030351340771,-0.007307862397283,-0.262978911399841,0.161656841635704,-0.159638911485672,0.021182784810662,-0.058683201670647));
res += mul(Get(s2,dx,dy), float4x4(-0.142548516392708,0.139570146799088,-0.228758037090302,-0.064468972384930,-0.036667034029961,-0.144225299358368,-0.004777451045811,0.016200250014663,0.057539012283087,-0.035799808800220,0.024113064631820,-0.020030012354255,-0.061980132013559,-0.240775331854820,0.088532708585262,0.079491361975670));
res += mul(Get(s3,-dx,-dy), float4x4(0.102319516241550,0.085005812346935,-0.048126824200153,-0.110582098364830,0.085809528827667,0.024317082017660,0.002013286342844,-0.171592146158218,0.057460334151983,-0.025817107409239,-0.105015620589256,-0.094414979219437,-0.005981307011098,0.047569964081049,0.144639477133751,0.082148060202599));
res += mul(Get(s3,-dx,0), float4x4(-0.014466109685600,-0.199052467942238,0.047972045838833,-0.124064147472382,-0.078324839472771,-0.063224263489246,0.089373476803303,0.018077077344060,-0.086407184600830,0.018269823864102,-0.011750567704439,0.078364923596382,0.126560896635056,0.087285578250885,0.062952116131783,0.073320962488651));
res += mul(Get(s3,-dx,dy), float4x4(0.076242074370384,-0.135085597634315,0.027972379699349,0.029696730896831,0.161113277077675,0.124942928552628,0.218298792839050,-0.097650602459908,0.017616922035813,0.006801196839660,-0.003457454731688,0.065963372588158,-0.104783989489079,-0.057976409792900,-0.055437196046114,-0.172735899686813));
res += mul(Get(s3,0,-dy), float4x4(0.078618206083775,0.113648086786270,0.110600471496582,-0.131691277027130,-0.215798005461693,-0.024244638159871,0.064064823091030,0.059179302304983,0.090236753225327,0.095728605985641,0.008712370879948,0.140005558729172,0.048406571149826,0.116540253162384,0.043868903070688,0.081554487347603));
res += mul(Get(s3,0,0), float4x4(-0.205483689904213,-0.062037441879511,0.127882540225983,0.013859268277884,-0.002917373552918,-0.179342716932297,-0.114594608545303,0.031768836081028,0.044923450797796,0.024857593700290,-0.028837125748396,0.113090336322784,-0.190827667713165,-0.014225149527192,-0.053456574678421,-0.221116244792938));
res += mul(Get(s3,0,dy), float4x4(-0.230560213327408,0.017137028276920,-0.042366400361061,0.043165072798729,0.153438836336136,0.086393490433693,-0.062793269753456,-0.113578185439110,-0.119247600436211,0.094324439764023,-0.083355955779552,0.047825515270233,0.014369560405612,0.032820407301188,-0.068944886326790,0.007522499654442));
res += mul(Get(s3,dx,-dy), float4x4(0.067574419081211,0.090220689773560,-0.109206780791283,-0.031528852880001,-0.001292995759286,-0.036900784820318,-0.086941957473755,-0.020816540345550,-0.090822584927082,0.075806066393852,0.031005095690489,-0.168588504195213,0.164840891957283,0.105922475457191,0.108629047870636,-0.040926888585091));
res += mul(Get(s3,dx,0), float4x4(0.150918364524841,0.054629039019346,-0.220124930143356,0.158187389373779,0.167703554034233,-0.066967204213142,0.128189057111740,0.039204172790051,-0.116740345954895,-0.079666994512081,-0.092468231916428,-0.125930368900299,-0.063203543424606,0.056689541786909,0.127955347299576,0.038200020790100));
res += mul(Get(s3,dx,dy), float4x4(-0.002831932622939,-0.202292323112488,-0.150051578879356,0.050944928079844,-0.037626825273037,0.104085594415665,-0.017896194010973,-0.060457654297352,-0.017583377659321,0.068927228450775,-0.045566074550152,-0.110072731971741,-0.102977499365807,0.066762909293175,0.065927989780903,-0.126367092132568));
return max(float4(0,0,0,0), res);
}
