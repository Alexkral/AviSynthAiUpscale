sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.108694799244404,0.267910182476044,0.029640654101968,0.136661514639854,0.028597585856915,0.200338974595070,-0.071991316974163,0.126253366470337,-0.009172641672194,-0.272246450185776,0.282398730516434,-0.049498241394758,-0.157518893480301,-0.125919342041016,-0.080755569040775,-0.028024246916175));
res += mul(Get(s0,-dx,0), float4x4(0.001013707369566,0.016880208626390,-0.117655880749226,0.007209259551018,0.015979332849383,0.176950350403786,-0.000930246373173,0.154515072703362,0.038595274090767,-0.106255725026131,0.250356644392014,-0.146172448992729,-0.133299753069878,-0.132271870970726,-0.210852846503258,-0.034948080778122));
res += mul(Get(s0,-dx,dy), float4x4(-0.058483283966780,-0.018424209207296,-0.148571327328682,-0.020239789038897,0.203003242611885,-0.169599011540413,-0.287062644958496,-0.148492023348808,-0.015392865985632,-0.010757328011096,0.359048515558243,-0.002163346158341,0.012385753914714,-0.155318900942802,-0.182216525077820,-0.057467505335808));
res += mul(Get(s0,0,-dy), float4x4(0.054059628397226,0.048605315387249,-0.053843863308430,-0.036937221884727,-0.017099743708968,-0.131640300154686,-0.096359089016914,0.181321069598198,0.143560111522675,-0.147903025150299,-0.101617641746998,0.160183429718018,-0.087855681777000,-0.126058518886566,-0.034096337854862,-0.046672765165567));
res += mul(Get(s0,0,0), float4x4(-0.036832086741924,-0.146731242537498,-0.139388293027878,-0.087709277868271,-0.092822633683681,0.192572772502899,-0.108665481209755,0.038387097418308,0.127047181129456,0.064956456422806,-0.314487040042877,-0.029527809470892,-0.161008432507515,-0.043956454843283,-0.123775571584702,0.084940806031227));
res += mul(Get(s0,0,dy), float4x4(-0.015499205328524,-0.037397459149361,-0.129696726799011,0.000839957094286,0.409492880105972,-0.127402827143669,-0.297397464513779,0.097288407385349,-0.083191625773907,0.000846502836794,0.069540619850159,0.020155385136604,0.070075288414955,-0.034810468554497,-0.086111441254616,0.336345762014389));
res += mul(Get(s0,dx,-dy), float4x4(0.037206169217825,-0.104925803840160,0.077889293432236,-0.072854369878769,-0.055088710039854,-0.233395636081696,-0.015698943287134,0.091582044959068,-0.055422559380531,-0.114472731947899,0.100245974957943,-0.078826025128365,-0.077109836041927,-0.200454279780388,0.072604432702065,-0.043174952268600));
res += mul(Get(s0,dx,0), float4x4(-0.051967546343803,-0.068374790251255,-0.068021439015865,-0.157775983214378,-0.080386377871037,-0.110539838671684,0.118238829076290,0.042308695614338,0.065642200410366,-0.020274972543120,0.091774776577950,-0.060860428959131,-0.110618755221367,-0.073547594249249,0.248098179697990,-0.133901610970497));
res += mul(Get(s0,dx,dy), float4x4(0.013147345744073,-0.100959405303001,0.074543051421642,-0.066304266452789,0.228689357638359,-0.122691482305527,-0.108460858464241,-0.067482143640518,-0.251427680253983,-0.004507201723754,0.315817207098007,-0.118103079497814,-0.060778934508562,0.002182618249208,0.068528860807419,0.051706723868847));
res += mul(Get(s1,-dx,-dy), float4x4(-0.185728937387466,-0.208593413233757,0.478737056255341,-0.039907392114401,-0.053133137524128,-0.000946967105847,-0.085654750466347,-0.191653326153755,-0.077704913914204,-0.106026649475098,-0.190946385264397,0.328241616487503,0.062402781099081,0.147755533456802,-0.155394420027733,0.108943447470665));
res += mul(Get(s1,-dx,0), float4x4(-0.018586538732052,-0.127112343907356,0.191242486238480,0.132184460759163,-0.054914753884077,0.097699239850044,-0.005965291522443,-0.143609717488289,0.057781275361776,0.015007629059255,-0.037895597517490,0.455393135547638,-0.029344689100981,-0.089940942823887,-0.214917734265327,0.001924909302033));
res += mul(Get(s1,-dx,dy), float4x4(0.074982874095440,-0.086719393730164,0.033457938581705,0.058271709829569,0.035615555942059,0.266384869813919,-0.083671443164349,-0.036930136382580,0.144181653857231,-0.095810785889626,0.020950451493263,0.123225048184395,-0.066415145993233,-0.072381451725960,-0.157894611358643,0.033095851540565));
res += mul(Get(s1,0,-dy), float4x4(-0.181499630212784,-0.232895076274872,0.099639147520065,0.036041684448719,-0.048112932592630,0.218509554862976,-0.282542049884796,0.001214211573824,-0.032772935926914,-0.137667253613472,0.016710618510842,0.086762331426144,0.019755037501454,0.045637756586075,0.076331220567226,0.021015034988523));
res += mul(Get(s1,0,0), float4x4(0.044427882879972,-0.108103781938553,0.077291525900364,0.021783275529742,0.095872066915035,0.089656531810760,0.172866836190224,-0.017434705048800,0.076476216316223,-0.058785632252693,-0.008735521696508,0.026582410559058,0.087780572474003,-0.059020273387432,0.044786132872105,-0.088498204946518));
res += mul(Get(s1,0,dy), float4x4(0.343064010143280,-0.164577677845955,-0.044962756335735,0.458651244640350,0.248582437634468,0.161441370844841,0.115858376026154,-0.162567466497421,0.078877784311771,-0.005418651271611,0.212882295250893,0.124881900846958,-0.128295391798019,-0.057062227278948,0.103637509047985,-0.081276692450047));
res += mul(Get(s1,dx,-dy), float4x4(0.016626190394163,-0.085792496800423,0.146754816174507,-0.066992163658142,0.254813909530640,0.231745406985283,-0.029705697670579,0.103379830718040,-0.088660567998886,0.022038856521249,0.052065938711166,0.208318293094635,0.060343902558088,0.023862218484282,0.152508273720741,0.034181218594313));
res += mul(Get(s1,dx,0), float4x4(0.008113513700664,0.135388448834419,-0.178408890962601,-0.110111452639103,0.002181956544518,0.118061892688274,0.226955488324165,0.083156496286392,-0.010590109042823,0.242427393794060,0.096612654626369,-0.036412518471479,0.119568563997746,-0.095596946775913,0.197807103395462,-0.128071740269661));
res += mul(Get(s1,dx,dy), float4x4(0.046529956161976,0.053696297109127,-0.334669917821884,-0.099552355706692,0.045254327356815,0.139107540249825,0.410113632678986,-0.044405184686184,-0.035485941916704,-0.020651042461395,0.245490804314613,-0.072933398187160,0.172507107257843,-0.101141668856144,0.381900638341904,-0.184799745678902));
res += mul(Get(s2,-dx,-dy), float4x4(0.038546789437532,0.091092720627785,0.075320832431316,-0.081841237843037,-0.058142784982920,0.052419114857912,0.082017302513123,-0.138687610626221,-0.034960675984621,-0.339550495147705,-0.005831488873810,0.179460480809212,-0.187111765146255,0.269152909517288,0.306895107030869,-0.128193676471710));
res += mul(Get(s2,-dx,0), float4x4(0.050785556435585,0.020450668409467,-0.047745514661074,-0.020281456410885,-0.064222097396851,0.163288101553917,-0.011859769932926,0.073281101882458,0.162074208259583,-0.087511256337166,0.236345961689949,-0.043340351432562,0.005842374172062,0.112817719578743,0.110636368393898,-0.285179555416107));
res += mul(Get(s2,-dx,dy), float4x4(0.112305149435997,-0.206759512424469,-0.035830412060022,0.043265543878078,0.123475603759289,-0.026648890227079,-0.160511776804924,0.067853033542633,-0.044481046497822,0.397788971662521,0.422631144523621,-0.027517357841134,-0.154650688171387,-0.004931871313602,-0.026405474171042,-0.091827213764191));
res += mul(Get(s2,0,-dy), float4x4(0.075695633888245,-0.125616714358330,-0.123486325144768,-0.006282943300903,-0.009518068283796,-0.082861877977848,-0.126247256994247,-0.056702639907598,-0.030502572655678,-0.160620540380478,-0.019951947033405,-0.010950987227261,-0.013520220294595,0.182946607470512,-0.116758652031422,0.647269487380981));
res += mul(Get(s2,0,0), float4x4(0.166205704212189,-0.079752840101719,-0.109534882009029,-0.030999552458525,0.028006112203002,-0.076264947652817,-0.060240659862757,0.136907845735550,0.147987738251686,0.197600945830345,-0.084796167910099,-0.146899878978729,-0.130926817655563,-0.167112305760384,-0.030513919889927,-0.030901163816452));
res += mul(Get(s2,0,dy), float4x4(0.128501862287521,-0.119291171431541,0.014988648705184,-0.020821742713451,0.000038875550672,-0.109334059059620,-0.128807038068771,0.151712551712990,-0.034986265003681,0.447349548339844,0.108903639018536,0.237244382500648,-0.042566951364279,-0.105097763240337,-0.082521267235279,-0.122247643768787));
res += mul(Get(s2,dx,-dy), float4x4(0.034058652818203,0.091838330030441,-0.218154087662697,-0.041534941643476,0.025225635617971,-0.185569643974304,-0.126348733901978,-0.115754254162312,-0.184253126382828,0.197134673595428,-0.218073397874832,0.228422448039055,-0.233111098408699,0.167704239487648,0.049515262246132,0.506800532341003));
res += mul(Get(s2,dx,0), float4x4(0.013761523179710,-0.122298456728458,-0.049896702170372,-0.120868608355522,0.104039281606674,-0.143151849508286,-0.114097565412521,0.065417170524597,-0.136422380805016,0.399783760309219,-0.151703208684921,-0.119308963418007,-0.067819491028786,-0.030609574168921,0.008233382366598,0.114609159529209));
res += mul(Get(s2,dx,dy), float4x4(0.231749057769775,-0.170858100056648,0.114601276814938,-0.121629372239113,0.202563568949699,-0.035311155021191,-0.044022537767887,0.246889024972916,-0.155770242214203,0.060590427368879,-0.075608320534229,0.135260283946991,0.116149306297302,0.003069053171203,-0.092504464089870,0.068958736956120));
res += mul(Get(s3,-dx,-dy), float4x4(0.039013732224703,0.239135205745697,0.305928558111191,0.134856805205345,-0.111634887754917,-0.105424165725708,-0.155815377831459,0.074848532676697,-0.000183360563824,-0.056414138525724,-0.137980744242668,-0.246202871203423,-0.016548203304410,0.260941028594971,0.133162140846252,0.039701994508505));
res += mul(Get(s3,-dx,0), float4x4(0.052751667797565,0.025990430265665,0.318213462829590,0.034960776567459,-0.023996433243155,-0.213097065687180,-0.050131496042013,-0.108264535665512,0.004404389765114,0.055098779499531,-0.162317320704460,0.025655118748546,0.056695774197578,0.277075201272964,0.212349846959114,0.151559680700302));
res += mul(Get(s3,-dx,dy), float4x4(0.042123906314373,-0.129664108157158,-0.019780011847615,-0.076672747731209,0.125848069787025,-0.071497522294521,-0.030517106875777,0.301247835159302,-0.183227151632309,0.125468432903290,-0.292053222656250,0.138922661542892,0.148239582777023,0.033075351268053,-0.090225383639336,0.005768476985395));
res += mul(Get(s3,0,-dy), float4x4(-0.011744846589863,-0.047347128391266,0.176584050059319,0.084169797599316,-0.126729890704155,-0.063709437847137,-0.072952307760715,-0.155138611793518,0.021201070398092,0.073747098445892,-0.099322311580181,-0.207772493362427,0.116704747080803,0.321360081434250,0.057732302695513,0.151725903153419));
res += mul(Get(s3,0,0), float4x4(-0.039122562855482,0.014059595763683,0.183341041207314,-0.118071928620338,-0.183860272169113,-0.063345208764076,-0.084763489663601,0.115965612232685,0.035372976213694,0.079142525792122,-0.087592810392380,0.262708008289337,0.162740439176559,0.127378657460213,0.101995959877968,0.107764616608620));
res += mul(Get(s3,0,dy), float4x4(0.048532389104366,0.033474531024694,0.038866199553013,-0.083603084087372,0.149814605712891,-0.146614909172058,0.015212276019156,0.270515084266663,0.092580877244473,0.004037476144731,-0.016159510239959,-0.095997832715511,0.131450772285461,-0.041772261261940,0.076450899243355,-0.063684225082397));
res += mul(Get(s3,dx,-dy), float4x4(-0.039372693747282,-0.013114565052092,0.245683550834656,0.147407054901123,-0.128410011529922,-0.243404626846313,-0.075320392847061,-0.090734429657459,0.044490523636341,-0.015759030357003,0.042123626917601,-0.209757953882217,0.186960995197296,0.019799616187811,-0.111597739160061,0.250979512929916));
res += mul(Get(s3,dx,0), float4x4(-0.027105757966638,-0.050434630364180,0.228866830468178,-0.003417744999751,-0.134469762444496,0.078589253127575,-0.199884444475174,-0.011017311364412,0.130665540695190,0.088478088378906,0.085755303502083,0.317385554313660,0.056306023150682,-0.009467074647546,0.063546523451805,0.158977195620537));
res += mul(Get(s3,dx,dy), float4x4(-0.001431139302440,-0.160514742136002,0.096097655594349,-0.212972328066826,0.420688897371292,0.309721618890762,-0.032981034368277,0.102146796882153,0.126036956906319,-0.136824265122414,-0.021262977272272,-0.122553974390030,0.020861834287643,-0.093961790204048,0.041556548327208,0.012121364474297));
return max(float4(0,0,0,0), res);
}
