sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.017833506688476,-0.100696027278900,0.131478369235992,0.015045827254653,0.124239109456539,-0.228322952985764,-0.118541114032269,-0.006978991441429,-0.077546417713165,-0.108569554984570,-0.017463630065322,0.001067225472070,0.211486324667931,-0.019296847283840,-0.047619640827179,0.018381206318736));
res += mul(Get(s0,-dx,0), float4x4(0.016813738271594,-0.111187480390072,0.012635316699743,0.196795552968979,-0.016241794452071,-0.134112119674683,-0.106259785592556,-0.085298486053944,-0.064742028713226,-0.078811578452587,-0.028554655611515,-0.042087282985449,0.103491850197315,0.355159372091293,0.043908260762691,0.067487843334675));
res += mul(Get(s0,-dx,dy), float4x4(0.048485763370991,-0.113932073116302,0.027995267882943,0.059261266142130,-0.116401605308056,-0.107023350894451,-0.032617237418890,0.013447937555611,0.092154853045940,-0.116693712770939,0.001749030780047,0.086627505719662,0.140118718147278,0.011804291978478,-0.012906191870570,0.047244604676962));
res += mul(Get(s0,0,-dy), float4x4(0.025826519355178,0.020449580624700,0.137968733906746,-0.146164566278458,0.185690119862556,-0.263453572988510,-0.107727751135826,-0.039899624884129,-0.023621382191777,-0.102007143199444,-0.006073089782149,0.332469165325165,-0.046831857413054,-0.089052662253380,0.037719197571278,0.013032018207014));
res += mul(Get(s0,0,0), float4x4(0.247085332870483,-0.128386631608009,-0.054552529007196,-0.223318204283714,-0.066027827560902,-0.061436906456947,-0.135027185082436,0.183044761419296,0.126137629151344,0.133747458457947,-0.025539353489876,0.250257730484009,0.047944322228432,0.281861692667007,0.061513915657997,-0.037368297576904));
res += mul(Get(s0,0,dy), float4x4(-0.022165572270751,-0.049403097480536,0.021966829895973,-0.088285841047764,-0.111195124685764,-0.085855014622211,-0.102842986583710,0.275868982076645,0.208216682076454,0.156387090682983,-0.097484201192856,-0.035915490239859,0.176682770252228,0.153735473752022,0.071509547531605,-0.094087302684784));
res += mul(Get(s0,dx,-dy), float4x4(-0.100718364119530,-0.020293882116675,0.474620878696442,-0.005381715483963,0.299867630004883,-0.188806220889091,-0.193173632025719,-0.099876135587692,-0.102136813104153,0.046531345695257,-0.008742777630687,0.030129257589579,0.030472874641418,-0.087850950658321,0.133142441511154,-0.111054308712482));
res += mul(Get(s0,dx,0), float4x4(0.298805713653564,-0.182381585240364,0.378197580575943,-0.128884568810463,-0.081092320382595,-0.037211548537016,-0.208565101027489,0.142355695366859,0.069535292685032,0.072750054299831,-0.011097682639956,0.226000860333443,0.110483974218369,0.093838863074780,-0.005619051866233,-0.000380154437153));
res += mul(Get(s0,dx,dy), float4x4(-0.177880078554153,-0.013321704231203,0.951862573623657,-0.096053160727024,-0.130469799041748,-0.031742092221975,-0.183574691414833,0.111102171242237,0.064805768430233,0.145185783505440,0.065476022660732,-0.055993940681219,0.068270109593868,0.029751554131508,0.199771225452423,-0.105275139212608));
res += mul(Get(s1,-dx,-dy), float4x4(-0.068597219884396,-0.278889268636703,-0.048061300069094,0.086353234946728,0.065317459404469,-0.240169629454613,-0.061091028153896,0.090606577694416,0.076617777347565,-0.117197573184967,0.152055636048317,0.215135216712952,0.196041107177734,-0.268763154745102,0.045924779027700,-0.033085409551859));
res += mul(Get(s1,-dx,0), float4x4(-0.046436961740255,0.022936837747693,-0.070764072239399,-0.134429082274437,0.063364051282406,-0.189918294548988,-0.049411814659834,-0.062078882008791,0.002929702866822,-0.029926290735602,0.086423262953758,0.046977534890175,-0.048644784837961,-0.050009019672871,-0.013707647100091,-0.050406642258167));
res += mul(Get(s1,-dx,dy), float4x4(-0.057314191013575,-0.037260428071022,-0.093720346689224,-0.071571901440620,-0.059974975883961,-0.048806060105562,0.011573184281588,0.180025950074196,0.021576931700110,0.071131519973278,-0.043199237436056,0.050944373011589,0.449462980031967,-0.107154771685600,0.040955793112516,0.506989181041718));
res += mul(Get(s1,0,-dy), float4x4(-0.108527131378651,-0.299798190593719,-0.052613563835621,-0.167050123214722,0.060528311878443,-0.119852997362614,-0.099730394780636,-0.050992224365473,0.039241198450327,-0.104886546730995,0.086219966411591,0.037286449223757,-0.069507390260696,-0.110600054264069,-0.034184966236353,0.091269724071026));
res += mul(Get(s1,0,0), float4x4(-0.131996557116508,0.229526877403259,-0.092228889465332,-0.094452619552612,-0.103337429463863,-0.071328088641167,-0.043226767331362,-0.115006655454636,-0.054742258042097,-0.074035823345184,0.039302118122578,-0.080462008714676,-0.141603827476501,0.097867444157600,-0.097455359995365,-0.403516590595245));
res += mul(Get(s1,0,dy), float4x4(0.026412194594741,0.127086237072945,0.010972425341606,-0.167444437742233,0.047172728925943,-0.009107656776905,-0.050155885517597,0.037591762840748,0.031125133857131,0.130323544144630,0.059098478406668,0.159417852759361,-0.142178207635880,-0.014885271899402,-0.057490460574627,-0.023380294442177));
res += mul(Get(s1,dx,-dy), float4x4(-0.263264000415802,0.038279030472040,0.266392171382904,-0.080513350665569,0.065972782671452,0.028566790744662,-0.074266135692596,-0.044868532568216,-0.020001547411084,0.033946435898542,-0.050847411155701,0.024442914873362,0.002874829107895,-0.045497801154852,0.087353855371475,0.163679525256157));
res += mul(Get(s1,dx,0), float4x4(-0.142952173948288,0.018316289409995,0.223141714930534,-0.073332488536835,0.055228345096111,0.050923418253660,-0.038846623152494,-0.007173155900091,-0.079227015376091,0.000517903245054,-0.085083849728107,0.286905586719513,-0.336914569139481,0.077341437339783,0.007596988230944,-0.246135696768761));
res += mul(Get(s1,dx,dy), float4x4(0.030995450913906,0.253162622451782,-0.128407627344131,-0.230268210172653,0.169015735387802,0.106836467981339,0.126545116305351,-0.049016792327166,0.069213241338730,0.080622106790543,-0.089025624096394,0.131625831127167,-0.144870832562447,0.003385466989130,-0.064433775842190,-0.509821891784668));
res += mul(Get(s2,-dx,-dy), float4x4(-0.111559979617596,0.027913179248571,-0.078844659030437,-0.195327177643776,0.102493055164814,-0.106398910284042,0.034383699297905,0.047860514372587,-0.113570593297482,0.079736858606339,0.063327074050903,0.108519986271858,-0.047965239733458,-0.156438872218132,-0.126970693469048,-0.130062907934189));
res += mul(Get(s2,-dx,0), float4x4(-0.074125066399574,0.056556776165962,0.065610259771347,-0.148825511336327,0.140803351998329,-0.133988827466965,-0.005652410443872,-0.007405041251332,-0.049667250365019,0.229676350951195,0.062061849981546,-0.126384213566780,-0.050633281469345,-0.116849124431610,-0.086026959121227,0.133092209696770));
res += mul(Get(s2,-dx,dy), float4x4(-0.133253306150436,0.303158909082413,-0.013005199842155,-0.138792917132378,0.066857807338238,-0.279081284999847,0.158261299133301,0.233252078294754,0.244886517524719,0.080098815262318,0.031809173524380,-0.051984515041113,-0.140761718153954,-0.003077664412558,-0.108367778360844,0.114783674478531));
res += mul(Get(s2,0,-dy), float4x4(-0.035312797874212,0.034864526242018,0.079116955399513,0.050093837082386,0.000103907994344,0.138445615768433,-0.010390165261924,0.210820600390434,-0.027421992272139,-0.042775489389896,0.048324022442102,0.154248386621475,-0.078585498034954,0.063432157039642,-0.021966889500618,-0.197673857212067));
res += mul(Get(s2,0,0), float4x4(-0.030799116939306,0.091887831687927,0.134394109249115,-0.101619377732277,0.061259828507900,0.130998253822327,-0.032593384385109,-0.109471917152405,0.073968835175037,0.064834348857403,0.067553199827671,0.182959809899330,-0.011595101095736,0.044984716922045,0.009741095826030,-0.089742027223110));
res += mul(Get(s2,0,dy), float4x4(0.006094490177929,0.390361160039902,-0.195708632469177,-0.141621068120003,-0.107013486325741,0.295760005712509,0.106048956513405,-0.020515989512205,0.397627353668213,-0.065830327570438,-0.074161723256111,0.110210463404655,-0.101822540163994,0.041244018822908,0.119455054402351,0.236149489879608));
res += mul(Get(s2,dx,-dy), float4x4(-0.211778223514557,-0.035097833722830,-0.172477215528488,0.239332482218742,-0.182563081383705,0.188187554478645,0.072184637188911,0.271351784467697,0.043851293623447,-0.085182741284370,-0.080968499183655,0.291973352432251,-0.090581223368645,0.064465992152691,-0.126398846507072,0.117405608296394));
res += mul(Get(s2,dx,0), float4x4(0.031839713454247,0.079007059335709,-0.110746577382088,0.056732427328825,0.037448193877935,0.281837731599808,0.064989984035492,-0.015964217483997,0.106554046273232,-0.036298312246799,-0.018851837143302,0.365967750549316,-0.108186751604080,0.090274386107922,0.022379262372851,-0.036135401576757));
res += mul(Get(s2,dx,dy), float4x4(-0.064251244068146,0.047843225300312,-0.084237091243267,-0.164995148777962,-0.173921331763268,0.212295159697533,0.225525841116905,-0.132422834634781,0.328513771295547,0.080985113978386,-0.070005707442760,0.088349662721157,-0.078944779932499,0.093187712132931,0.105239927768707,0.276350378990173));
res += mul(Get(s3,-dx,-dy), float4x4(0.022437915205956,-0.340055555105209,-0.001519006560557,-0.125010892748833,0.203422859311104,-0.069592289626598,0.041173420846462,-0.064598754048347,-0.189821735024452,0.058235771954060,-0.245553001761436,-0.140524223446846,-0.006408169399947,-0.297803193330765,0.014125149697065,0.432830840349197));
res += mul(Get(s3,-dx,0), float4x4(0.184909060597420,0.048477791249752,-0.028755649924278,-0.089842885732651,-0.015572743490338,0.005284984130412,-0.013897156342864,-0.149116009473801,-0.082117088139057,-0.021591935306787,-0.020377995446324,-0.072995856404305,0.064363136887550,0.073082335293293,0.167923465371132,0.044358603656292));
res += mul(Get(s3,-dx,dy), float4x4(0.196258038282394,0.004813452716917,-0.082020200788975,-0.013862853869796,0.050088215619326,-0.107759475708008,0.012040741741657,-0.160165265202522,-0.150495305657387,0.028193620964885,-0.100495167076588,-0.047496471554041,0.169694811105728,-0.101721838116646,0.019820885732770,0.035388052463531));
res += mul(Get(s3,0,-dy), float4x4(0.161732345819473,-0.336050480604172,0.031752116978168,-0.063525781035423,-0.000392462970922,-0.085903897881508,0.154388889670372,-0.079125687479973,-0.024783395230770,-0.051546942442656,0.131111755967140,0.047450311481953,0.040250860154629,0.007893808186054,0.021232413128018,-0.002668483415619));
res += mul(Get(s3,0,0), float4x4(0.119234383106232,-0.085596799850464,0.060952104628086,-0.175647646188736,-0.058673202991486,0.003887921571732,-0.129299089312553,0.009346658363938,-0.082348346710205,-0.060229606926441,0.028704883530736,-0.078087761998177,0.319381207227707,0.200447812676430,-0.005398434586823,-0.102093100547791));
res += mul(Get(s3,0,dy), float4x4(0.053975649178028,-0.117289744317532,-0.009663076139987,-0.116438865661621,0.129058793187141,-0.056076787412167,-0.030485436320305,-0.148810967803001,0.002189141465351,0.150505617260933,0.050332408398390,-0.074636548757553,0.272439867258072,-0.145429387688637,0.040740329772234,-0.034176785498857));
res += mul(Get(s3,dx,-dy), float4x4(-0.028212036937475,-0.177127569913864,-0.078974425792694,-0.115192458033562,-0.044368483126163,-0.062484931200743,0.197298452258110,-0.096462950110435,0.200161635875702,-0.168613523244858,-0.245204582810402,-0.034930821508169,-0.107474170625210,-0.040096893906593,0.015199483372271,0.311568349599838));
res += mul(Get(s3,dx,0), float4x4(-0.115049675107002,0.158290043473244,-0.045183990150690,-0.184209182858467,0.052877943962812,0.195954665541649,0.021654656156898,-0.019405888393521,0.226684421300888,0.010119189508259,-0.092616409063339,-0.094602636992931,-0.043186917901039,0.064435012638569,0.082592636346817,-0.015037243254483));
res += mul(Get(s3,dx,dy), float4x4(0.021037776023149,0.052188392728567,-0.163612246513367,-0.083989717066288,0.232634529471397,0.006100395694375,0.159977465867996,-0.108777008950710,0.369205236434937,0.008072383701801,-0.139462918043137,-0.164793014526367,-0.212498351931572,-0.122346773743629,0.085870683193207,-0.133207052946091));
return max(float4(0,0,0,0), res);
}
