sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.100858144462109,-0.212109923362732,0.052316252142191,0.058080639690161,0.202852770686150,-0.046362590044737,-0.101191498339176,-0.178517863154411,0.084150023758411,-0.154180854558945,0.200252503156662,-0.195947065949440,0.208880320191383,0.010088751092553,-0.004486456047744,0.073611304163933));
res += mul(Get(s0,-dx,0), float4x4(-0.013074588961899,-0.013790985569358,0.009422722272575,-0.074325986206532,0.000405459752074,-0.072821170091629,0.080473348498344,-0.090958975255489,-0.081088736653328,0.032771192491055,0.218709170818329,-0.047196250408888,-0.348257273435593,0.201063364744186,-0.040966063737869,-0.184927120804787));
res += mul(Get(s0,-dx,dy), float4x4(-0.027811262756586,0.115929387509823,-0.032065607607365,-0.147492885589600,0.172935813665390,-0.108521282672882,0.127087548375130,0.018262729048729,-0.205377161502838,-0.051954880356789,-0.037577174603939,0.170567125082016,0.021973477676511,-0.111528515815735,-0.153823137283325,0.164117038249969));
res += mul(Get(s0,0,-dy), float4x4(0.110962033271790,0.070749960839748,-0.012985290028155,-0.070717126131058,0.153952494263649,-0.005709365475923,0.044238872826099,-0.086441181600094,-0.015892777591944,-0.032299373298883,-0.149883180856705,0.087001137435436,0.086345434188843,0.219146341085434,0.038345102220774,0.064743265509605));
res += mul(Get(s0,0,0), float4x4(-0.066460035741329,0.110049597918987,0.103384941816330,0.003020933829248,0.000546705035958,-0.059225797653198,0.177398905158043,0.095427855849266,-0.000423757650424,-0.138918176293373,-0.123407751321793,0.108882911503315,-0.087104760110378,-0.113638378679752,-0.026071488857269,-0.040958046913147));
res += mul(Get(s0,0,dy), float4x4(-0.055069878697395,0.205202057957649,0.059661451727152,0.039682783186436,-0.023400368168950,0.001180886756629,0.014741593971848,0.048214051872492,0.322475850582123,0.241471022367477,-0.029388800263405,0.088536269962788,-0.120914764702320,-0.070723921060562,0.114137470722198,0.058128055185080));
res += mul(Get(s0,dx,-dy), float4x4(-0.221811741590500,0.107663705945015,-0.289137601852417,0.135581493377686,0.003780492814258,-0.068660795688629,-0.167959257960320,0.027875177562237,-0.146000862121582,0.064754441380501,-0.079079918563366,-0.049766797572374,0.004554079845548,-0.010426768101752,-0.055188193917274,0.046163659542799));
res += mul(Get(s0,dx,0), float4x4(0.157925546169281,0.149288102984428,-0.014868739992380,-0.072800405323505,-0.084822639822960,-0.020724639296532,0.122513778507710,0.025847876444459,-0.135114252567291,-0.103610649704933,-0.000305454392219,-0.105234116315842,0.019618887454271,-0.052039191126823,-0.081552974879742,-0.029938077554107));
res += mul(Get(s0,dx,dy), float4x4(-0.013689845800400,0.028513574972749,-0.057395737618208,0.094475664198399,0.003878428135067,-0.052566576749086,0.025201335549355,-0.182242989540100,-0.178196445107460,0.013895717449486,0.015713844448328,0.019878776744008,-0.356123834848404,0.059460744261742,-0.228290066123009,-0.025407176464796));
res += mul(Get(s1,-dx,-dy), float4x4(-0.027532048523426,0.008021988905966,0.062626622617245,0.013282915577292,-0.023544821888208,0.027008233591914,-0.110544897615910,-0.053373135626316,0.155458256602287,-0.004715363960713,-0.171322852373123,-0.079991519451141,0.106318473815918,-0.138462871313095,0.060701534152031,0.094174504280090));
res += mul(Get(s1,-dx,0), float4x4(0.065538167953491,0.154387220740318,0.057596810162067,0.009298460558057,0.247295632958412,0.000383386912290,-0.177879631519318,-0.121037527918816,-0.084544435143471,0.016378745436668,0.026434708386660,0.264968335628510,0.142949119210243,-0.053425528109074,0.096769779920578,0.064679339528084));
res += mul(Get(s1,-dx,dy), float4x4(0.061253715306520,-0.105612881481647,-0.124806188046932,-0.109898738563061,0.040522139519453,-0.079421542584896,-0.059327986091375,-0.049778740853071,-0.086482457816601,-0.120344668626785,-0.125870913267136,0.015375062823296,-0.003775273915380,0.046528350561857,0.171688646078110,0.007835640572011));
res += mul(Get(s1,0,-dy), float4x4(0.011634862050414,-0.120573766529560,-0.084475196897984,-0.061311379075050,0.084955692291260,0.159554511308670,-0.089268378913403,-0.052502345293760,0.052200812846422,0.029486002400517,0.037428390234709,-0.048837427049875,0.071840643882751,-0.127720400691032,0.020867332816124,0.045904327183962));
res += mul(Get(s1,0,0), float4x4(0.008809864521027,0.030794212594628,-0.178082674741745,-0.003744125366211,-0.018950419500470,0.016475249081850,-0.113530062139034,0.282166451215744,0.066623970866203,0.021621748805046,0.006977616343647,-0.020859522745013,-0.099173314869404,-0.075721010565758,0.010754129849374,-0.062727473676205));
res += mul(Get(s1,0,dy), float4x4(0.131880849599838,0.020369511097670,-0.073534749448299,0.151953160762787,-0.014514407142997,-0.066253274679184,0.111352361738682,-0.046195723116398,0.180725276470184,0.043704360723495,0.113139331340790,0.307472795248032,-0.043901558965445,0.121374718844891,0.005892570596188,0.316189169883728));
res += mul(Get(s1,dx,-dy), float4x4(-0.102981664240360,-0.024038204923272,0.059879101812840,-0.175151497125626,0.077486336231232,-0.006935227196664,0.074337191879749,0.265879154205322,0.180956393480301,-0.099918738007545,0.190760895609856,0.150093495845795,-0.017162278294563,0.056199822574854,-0.042769350111485,0.038819778710604));
res += mul(Get(s1,dx,0), float4x4(-0.027666725218296,0.005552361253649,0.180838689208031,-0.085575528442860,-0.010742671787739,0.191552951931953,-0.459768980741501,-0.052936989814043,0.061122376471758,-0.109686426818371,-0.121868222951889,-0.055041894316673,-0.083627767860889,-0.013132171705365,0.069512173533440,0.165643125772476));
res += mul(Get(s1,dx,dy), float4x4(0.049940079450607,0.000029370012271,-0.034910682588816,0.026774099096656,0.140003561973572,-0.149073496460915,0.030110122635961,-0.147229477763176,0.202020391821861,-0.069479085505009,0.089307613670826,-0.017777094617486,0.072149626910686,0.065158240497112,-0.051411826163530,0.005360974464566));
res += mul(Get(s2,-dx,-dy), float4x4(-0.271664977073669,-0.156134739518166,0.063798904418945,-0.157493099570274,-0.089423350989819,0.108891583979130,0.080972552299500,0.038518305867910,-0.096438765525818,-0.297065794467926,-0.037194270640612,0.048224173486233,-0.054260544478893,-0.054383181035519,-0.024737045168877,-0.067566685378551));
res += mul(Get(s2,-dx,0), float4x4(-0.119148954749107,-0.100751385092735,0.031214419752359,0.092008478939533,-0.069460980594158,0.030362125486135,0.247851610183716,-0.058680627495050,-0.066685505211353,0.104429922997952,-0.051662504673004,0.115931026637554,0.193570405244827,0.140168100595474,0.098312392830849,-0.028697542846203));
res += mul(Get(s2,-dx,dy), float4x4(-0.096287012100220,-0.203562200069427,0.017529061064124,0.018418546766043,-0.080259948968887,0.165872365236282,-0.017262145876884,0.182736873626709,0.267309069633484,0.091134704649448,-0.011126507073641,0.035427987575531,-0.191966816782951,0.033095452934504,-0.008897855877876,0.161648482084274));
res += mul(Get(s2,0,-dy), float4x4(0.045655269175768,-0.055142126977444,0.131589978933334,-0.088117219507694,0.182340383529663,0.148711830377579,0.053102519363165,-0.044877868145704,0.134580850601196,-0.100301355123520,-0.163128331303596,0.092066042125225,0.075689740478992,0.075000032782555,0.011400305666029,-0.163075625896454));
res += mul(Get(s2,0,0), float4x4(0.045663394033909,0.122042447328568,-0.159298583865166,0.196031004190445,-0.048192132264376,-0.120309844613075,-0.118062421679497,0.016152825206518,0.132827237248421,0.095212116837502,0.108324229717255,-0.018467709422112,0.087091088294983,-0.082022644579411,0.129928514361382,0.052380632609129));
res += mul(Get(s2,0,dy), float4x4(0.007581859827042,-0.010224638506770,-0.119180291891098,-0.042625959962606,0.007838038727641,0.246482670307159,-0.082670331001282,0.044218901544809,0.099858522415161,0.080575644969940,-0.001807811437175,-0.008231305517256,-0.004532400984317,-0.128618165850639,-0.101762503385544,0.098134838044643));
res += mul(Get(s2,dx,-dy), float4x4(-0.195459797978401,-0.045976232737303,-0.037316936999559,-0.180056825280190,-0.109511151909828,0.136853322386742,-0.163248628377914,-0.032764088362455,0.106431365013123,-0.114000812172890,0.050402995198965,-0.013492375612259,-0.052920360118151,-0.053163785487413,0.016042049974203,0.067122265696526));
res += mul(Get(s2,dx,0), float4x4(0.175621971487999,-0.017170710489154,-0.133095040917397,-0.037572566419840,-0.014871750026941,0.064840547740459,0.068538956344128,-0.039999138563871,0.043985124677420,-0.087359324097633,0.047082744538784,0.099525727331638,-0.018790489062667,0.049906555563211,0.020443296059966,0.222177609801292));
res += mul(Get(s2,dx,dy), float4x4(-0.070695243775845,-0.154478803277016,-0.072816021740437,-0.165172636508942,-0.039213508367538,-0.129242315888405,-0.117041423916817,0.052790116518736,-0.026117365807295,-0.055786743760109,-0.038962084800005,0.037317622452974,-0.061401896178722,0.104253977537155,-0.113230742514133,-0.022223291918635));
res += mul(Get(s3,-dx,-dy), float4x4(-0.047252301126719,0.034050144255161,0.216967165470123,0.140636250376701,-0.059368163347244,0.309260874986649,0.028260065242648,0.119223102927208,0.211246758699417,-0.053060382604599,0.013556966558099,-0.106142476201057,-0.081779405474663,0.009000125341117,0.001629204722121,0.037267304956913));
res += mul(Get(s3,-dx,0), float4x4(0.149018019437790,0.041415184736252,-0.232595458626747,-0.014362855814397,-0.008851584978402,0.024663437157869,-0.189038142561913,-0.082646436989307,-0.171746358275414,-0.074923262000084,-0.121916398406029,-0.001809960231185,0.086640112102032,0.040875945240259,-0.019874015823007,-0.080507464706898));
res += mul(Get(s3,-dx,dy), float4x4(-0.005601324141026,0.103221997618675,-0.020572975277901,-0.161140069365501,0.013370540924370,-0.324740856885910,0.058177981525660,0.016870647668839,0.181742534041405,0.006400919519365,-0.144280210137367,0.059001740068197,-0.141569435596466,-0.158116683363914,-0.133936762809753,-0.019667899236083));
res += mul(Get(s3,0,-dy), float4x4(-0.065403215587139,0.125942349433899,-0.121247991919518,0.085198812186718,-0.024783989414573,-0.084128871560097,0.049036100506783,-0.018705146387219,0.034030128270388,-0.012211396358907,0.008744779042900,0.078471377491951,-0.086706094443798,-0.103523313999176,0.034520763903856,0.076286561787128));
res += mul(Get(s3,0,0), float4x4(-0.024427901953459,0.094004258513451,0.100507326424122,-0.252237707376480,-0.056013233959675,-0.164860785007477,-0.023088615387678,0.048559185117483,-0.135667711496353,0.111786797642708,-0.050582110881805,0.071144297719002,0.039645887911320,0.148446291685104,0.100261986255646,0.213986903429031));
res += mul(Get(s3,0,dy), float4x4(0.056760806590319,-0.123621292412281,0.041894275695086,-0.118937246501446,-0.172447770833969,-0.005182609427720,-0.082444235682487,0.212523385882378,0.087175853550434,-0.008349219337106,0.121725060045719,-0.180738240480423,-0.195429205894470,-0.011948000639677,0.234340354800224,0.010260866023600));
res += mul(Get(s3,dx,-dy), float4x4(-0.052392844110727,-0.049789618700743,0.078295394778252,-0.006062252447009,-0.072960421442986,0.087513245642185,-0.137974143028259,-0.244265213608742,0.006670707371086,-0.078810974955559,0.153996899724007,-0.202688306570053,0.127339780330658,0.122616596519947,-0.052513822913170,0.039692450314760));
res += mul(Get(s3,dx,0), float4x4(-0.076552838087082,0.010233296081424,-0.006267241202295,0.001488164300099,-0.064724810421467,-0.279801338911057,-0.186341851949692,0.035698607563972,-0.076396904885769,-0.037474457174540,-0.208144024014473,-0.272672653198242,0.182097971439362,0.059886083006859,-0.088654853403568,-0.071510180830956));
res += mul(Get(s3,dx,dy), float4x4(0.038489673286676,-0.050583139061928,0.077956661581993,-0.029290750622749,0.064196370542049,-0.095614545047283,0.007565101142973,-0.376667857170105,0.071036323904991,0.029505705460906,0.127181977033615,0.166894659399986,0.049016863107681,0.152024671435356,-0.007906235754490,-0.025901582092047));
return max(float4(0,0,0,0), res);
}
