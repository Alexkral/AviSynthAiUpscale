sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.134467855095863,-0.216289445757866,-0.037397876381874,0.021278927102685,-0.138796761631966,0.076752498745918,0.061207778751850,0.021905239671469,0.167335808277130,-0.146512314677238,-0.034392051398754,0.095086030662060,0.040768753737211,-0.017384598031640,0.013603805564344,0.192052319645882));
res += mul(Get(s0,-dx,0), float4x4(0.026704262942076,-0.022321777418256,0.100255206227303,-0.173746496438980,0.163879171013832,-0.019421074539423,0.010211365297437,-0.132679134607315,0.120656736195087,0.137927964329720,0.099072478711605,-0.171479612588882,0.002901363652200,-0.079503141343594,0.052093040198088,-0.062233120203018));
res += mul(Get(s0,-dx,dy), float4x4(0.245120197534561,-0.064645670354366,0.136674627661705,-0.132452800869942,0.054415989667177,0.192524090409279,-0.054518509656191,-0.278401702642441,0.124959796667099,-0.167032152414322,0.087025932967663,-0.003319672308862,-0.226972982287407,-0.159108072519302,-0.144219458103180,0.273490190505981));
res += mul(Get(s0,0,-dy), float4x4(-0.030795475468040,0.125702738761902,-0.023491911590099,0.097935579717159,-0.013857514597476,-0.107591010630131,0.079631708562374,-0.060886081308126,-0.160739198327065,-0.021874599158764,0.051422294229269,-0.214496001601219,0.040507581084967,-0.136422500014305,0.087079919874668,-0.061644256114960));
res += mul(Get(s0,0,0), float4x4(-0.211288988590240,0.000042531530198,0.066834390163422,0.220374390482903,0.005385036580265,-0.255903780460358,-0.076635241508484,-0.066150940954685,-0.102168329060078,0.004135466180742,-0.018444608896971,-0.094039157032967,0.133357927203178,0.182229638099670,-0.108235597610474,0.066354207694530));
res += mul(Get(s0,0,dy), float4x4(-0.180049777030945,-0.005636975169182,-0.068434782326221,0.011467129923403,-0.124707244336605,-0.020478162914515,-0.055081982165575,-0.057436611503363,-0.053578462451696,0.070741318166256,0.108471758663654,-0.027012534439564,0.057473137974739,-0.074412800371647,0.011613462120295,-0.036294661462307));
res += mul(Get(s0,dx,-dy), float4x4(0.069920383393764,-0.004949009511620,0.020080460235476,0.104740791022778,-0.075233407318592,0.140533134341240,-0.069511160254478,-0.196002647280693,-0.136879801750183,0.239971548318863,-0.158716216683388,-0.161247313022614,-0.129506826400757,-0.136560946702957,0.125440314412117,-0.085340969264507));
res += mul(Get(s0,dx,0), float4x4(0.155702143907547,-0.072411186993122,0.067549951374531,-0.099714815616608,-0.076247267425060,-0.038281153887510,0.034778002649546,0.020211413502693,0.142648741602898,0.176712706685066,0.015065634623170,-0.081205144524574,-0.064428970217705,0.183925718069077,-0.105276033282280,-0.005203283391893));
res += mul(Get(s0,dx,dy), float4x4(-0.103356935083866,0.049416813999414,-0.032334234565496,-0.084170758724213,0.211143627762794,0.106025017797947,0.015236279927194,0.012683412991464,-0.009989895857871,0.163946166634560,-0.100830852985382,-0.040065113455057,0.108398340642452,0.341275990009308,-0.148833096027374,-0.028231691569090));
res += mul(Get(s1,-dx,-dy), float4x4(-0.008403030224144,0.165799602866173,-0.052391607314348,0.008804947137833,-0.008812386542559,-0.265627980232239,-0.128550916910172,-0.294347643852234,0.100806072354317,-0.154759719967842,0.026290958747268,-0.110341697931290,0.092138811945915,-0.000691644439939,0.171701088547707,-0.102134935557842));
res += mul(Get(s1,-dx,0), float4x4(-0.058533485978842,0.087355144321918,-0.087666988372803,-0.025289567187428,-0.011564535088837,-0.302353829145432,-0.029433349147439,0.078163512051105,0.052287433296442,-0.121679805219173,-0.327140986919403,-0.044321194291115,0.119946114718914,-0.203646466135979,0.012036834843457,0.137421071529388));
res += mul(Get(s1,-dx,dy), float4x4(0.017610872164369,-0.017057467252016,-0.153108090162277,0.036640342324972,0.138613328337669,0.000263198249741,-0.033305224031210,0.195059642195702,-0.139976307749748,0.060507476329803,0.190546497702599,-0.153697907924652,-0.140961617231369,0.026874421164393,-0.077609471976757,0.101754441857338));
res += mul(Get(s1,0,-dy), float4x4(0.290600121021271,-0.071136139333248,0.033735159784555,0.048161637037992,0.021498261019588,-0.081504307687283,-0.045429412275553,0.002409212756902,0.083888165652752,0.314419656991959,0.006236948072910,0.027847157791257,-0.101671263575554,-0.221206441521645,-0.134891778230667,0.074323900043964));
res += mul(Get(s1,0,0), float4x4(0.071510575711727,-0.078789815306664,-0.111357249319553,-0.066488884389400,0.012983881868422,0.162202924489975,0.069427579641342,0.058868341147900,-0.063561812043190,0.078048840165138,-0.167351245880127,0.078196644783020,0.032443217933178,0.036839567124844,0.215913817286491,0.290293008089066));
res += mul(Get(s1,0,dy), float4x4(-0.136010125279427,-0.057783015072346,0.184450790286064,-0.132404670119286,-0.112181827425957,0.045459970831871,0.020707476884127,0.036993317306042,0.065360605716705,0.136796131730080,0.098949402570724,0.000403046899009,0.014257164672017,0.030210712924600,0.165085077285767,-0.127747312188148));
res += mul(Get(s1,dx,-dy), float4x4(0.063794419169426,0.156475782394409,-0.080569706857204,0.111637033522129,-0.029795635491610,-0.126112580299377,0.037659753113985,0.156106159090996,0.031903371214867,0.094937220215797,0.147969514131546,0.074624240398407,0.031533438712358,-0.135940328240395,-0.078328967094421,0.039698865264654));
res += mul(Get(s1,dx,0), float4x4(-0.108207263052464,-0.047988034784794,-0.008579323999584,-0.071416132152081,0.088636308908463,-0.097591377794743,-0.270665675401688,0.006203924305737,-0.212707951664925,0.037733521312475,0.077103070914745,-0.052826568484306,0.005844754166901,-0.060779191553593,-0.184170559048653,-0.041540194302797));
res += mul(Get(s1,dx,dy), float4x4(0.105323329567909,-0.077309705317020,-0.167780235409737,0.115024648606777,0.043355312198400,0.098932072520256,0.074852727353573,0.090363688766956,-0.282311558723450,0.206671074032784,0.025790266692638,-0.004085711203516,-0.178086593747139,0.144446417689323,-0.161099433898926,-0.036100886762142));
res += mul(Get(s2,-dx,-dy), float4x4(0.144740417599678,-0.105000048875809,0.061032067984343,-0.159364789724350,0.007444964721799,0.024923000484705,0.321733415126801,-0.044602535665035,-0.249320954084396,-0.079753071069717,0.070282541215420,0.162871658802032,-0.100852862000465,-0.001180066261441,-0.188561171293259,-0.051263827830553));
res += mul(Get(s2,-dx,0), float4x4(0.135614097118378,0.002833104692400,-0.212959840893745,-0.016748981550336,-0.063677236437798,-0.144240379333496,0.024522665888071,-0.112584345042706,-0.000970297318418,-0.056200399994850,0.227011218667030,0.089123591780663,-0.058561470359564,-0.118812493979931,0.053697176277637,-0.038898359984159));
res += mul(Get(s2,-dx,dy), float4x4(-0.202931180596352,-0.016143089160323,-0.103822290897369,0.010499996133149,0.116941638290882,-0.108597308397293,-0.126327097415924,0.258686989545822,0.130601301789284,0.079244621098042,-0.121458753943443,0.199504643678665,-0.105991795659065,0.118790827691555,0.138407692313194,0.132544770836830));
res += mul(Get(s2,0,-dy), float4x4(-0.080293320119381,0.045357804745436,0.128605127334595,-0.139329493045807,0.080676376819611,-0.021239623427391,0.045042421668768,0.098033398389816,-0.126104205846786,0.092850215733051,0.009202197194099,0.179057955741882,-0.105565413832664,-0.110971592366695,-0.078353360295296,0.012838234193623));
res += mul(Get(s2,0,0), float4x4(0.044521111994982,-0.116836696863174,-0.020699841901660,0.013709104619920,0.032694533467293,-0.002407985972241,-0.064959093928337,0.055726319551468,-0.037964463233948,0.070454992353916,0.137443274259567,-0.053243283182383,-0.133745178580284,0.027893401682377,-0.254111856222153,-0.097771078348160));
res += mul(Get(s2,0,dy), float4x4(0.024131564423442,0.018189296126366,0.010634226724505,0.063105747103691,0.034357085824013,0.031052215024829,-0.253742039203644,0.261709660291672,-0.120304152369499,-0.000117263429274,0.057427242398262,-0.384314447641373,-0.161578193306923,-0.147392913699150,0.047260262072086,-0.112667083740234));
res += mul(Get(s2,dx,-dy), float4x4(-0.107831172645092,-0.034178342670202,0.118035636842251,0.127219721674919,-0.010906171984971,0.019823854789138,0.203117087483406,0.212974980473518,0.096572726964951,-0.140051856637001,-0.061863329261541,-0.075395368039608,0.103069134056568,-0.038998737931252,-0.156392112374306,-0.029344541952014));
res += mul(Get(s2,dx,0), float4x4(-0.112102635204792,0.079949520528316,-0.062720939517021,0.074447780847549,-0.193209916353226,-0.113236859440804,0.020958958193660,0.096329987049103,-0.075157158076763,-0.089476361870766,0.024543929845095,0.015531148761511,0.076981700956821,0.122318521142006,0.016440059989691,0.132954165339470));
res += mul(Get(s2,dx,dy), float4x4(-0.193090036511421,-0.100045032799244,-0.126568213105202,0.015891898423433,0.078403361141682,0.090561948716640,-0.047873694449663,-0.038589134812355,0.063844189047813,-0.344685286283493,0.249518439173698,0.068943142890930,-0.060685984790325,0.075003810226917,-0.118080027401447,0.132408156991005));
res += mul(Get(s3,-dx,-dy), float4x4(-0.041123650968075,-0.210982605814934,-0.082949623465538,-0.066724427044392,-0.194961413741112,-0.010767292231321,0.090241201221943,0.083345554769039,0.058258153498173,0.061352550983429,0.227567702531815,-0.004458481911570,-0.073366522789001,-0.135968938469887,-0.160052239894867,-0.015445307828486));
res += mul(Get(s3,-dx,0), float4x4(-0.151521906256676,-0.074922583997250,-0.036303117871284,-0.047880981117487,0.052790280431509,-0.043414309620857,0.035183113068342,-0.098763927817345,0.053559489548206,-0.109657950699329,0.138447880744934,0.091796480119228,-0.042352624237537,-0.117320328950882,0.022115075960755,-0.070091485977173));
res += mul(Get(s3,-dx,dy), float4x4(-0.051284004002810,0.105318531394005,0.070381723344326,0.120526365935802,-0.030118707567453,-0.053783521056175,0.108938142657280,-0.103100627660751,0.021887866780162,-0.229142040014267,0.151102557778358,0.189545825123787,0.191747546195984,-0.087548278272152,0.121968619525433,0.071781262755394));
res += mul(Get(s3,0,-dy), float4x4(-0.065937981009483,0.015823980793357,0.048525352030993,-0.045050214976072,-0.065479353070259,-0.094022698700428,0.131017431616783,-0.038067366927862,0.014780537225306,-0.008288677781820,0.069677121937275,0.121624067425728,-0.091629102826118,0.226409375667572,-0.140392661094666,-0.119495391845703));
res += mul(Get(s3,0,0), float4x4(-0.002115250565112,-0.123975932598114,0.043765079230070,0.012772521004081,-0.170363917946815,0.032917298376560,0.158653303980827,-0.075808465480804,0.011156138963997,0.020788183435798,0.000453329441370,-0.031533975154161,0.099693857133389,0.186490938067436,0.124342761933804,0.142474368214607));
res += mul(Get(s3,0,dy), float4x4(-0.114435628056526,0.190292358398438,0.012670749798417,-0.059273924678564,-0.089250825345516,0.264462441205978,-0.027327803894877,-0.114782057702541,0.066150419414043,0.076327621936798,-0.054062191396952,0.076632007956505,0.182598501443863,-0.153199031949043,0.026229344308376,0.097809620201588));
res += mul(Get(s3,dx,-dy), float4x4(0.005089407786727,-0.091644145548344,-0.032730534672737,-0.112612016499043,-0.010386728681624,0.039954613894224,-0.000702845281921,-0.221070379018784,-0.173123478889465,-0.008483915589750,0.108488708734512,-0.198173865675926,0.021951448172331,0.213349774479866,-0.034732609987259,-0.144452169537544));
res += mul(Get(s3,dx,0), float4x4(0.040818072855473,0.003084475174546,-0.064408652484417,0.054629813879728,0.042756713926792,0.270682096481323,0.024574736133218,-0.052334163337946,-0.086263313889503,-0.148963704705238,-0.090859062969685,0.231055557727814,-0.160195127129555,0.051967032253742,0.092503756284714,0.259139537811279));
res += mul(Get(s3,dx,dy), float4x4(-0.096384629607201,-0.007960190996528,-0.193212717771530,-0.068762399256229,-0.028260463848710,0.242149055004120,0.197351902723312,-0.112451478838921,-0.039472371339798,0.064007349312305,0.165164425969124,-0.014576110988855,0.001186192268506,-0.027938216924667,-0.003020828589797,-0.034639574587345));
return max(float4(0,0,0,0), res);
}
