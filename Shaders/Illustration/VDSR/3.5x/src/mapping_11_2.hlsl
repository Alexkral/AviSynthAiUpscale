sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.132945612072945,0.037335932254791,-0.041186939924955,-0.113759942352772,-0.225695297122002,-0.043586317449808,-0.121285170316696,-0.013727597892284,0.082025066018105,-0.137343227863312,-0.070569664239883,0.083831951022148,0.166268408298492,-0.060311280190945,0.032380294054747,-0.092290475964546));
res += mul(Get(s0,-dx,0), float4x4(-0.017385132610798,-0.155539870262146,-0.008470944128931,-0.057632114738226,-0.164020091295242,-0.017390135675669,0.012056689709425,0.029930740594864,-0.142680183053017,0.220758005976677,-0.129184290766716,-0.095566593110561,0.110075160861015,0.109615102410316,-0.062601231038570,-0.054455548524857));
res += mul(Get(s0,-dx,dy), float4x4(-0.199356004595757,-0.055367201566696,0.035768296569586,-0.042151544243097,-0.005243482068181,-0.161846369504929,0.013330881483853,0.151090770959854,0.031266581267118,-0.186172172427177,0.011736371554434,0.120434455573559,-0.097424075007439,0.220366269350052,0.031680569052696,-0.098814338445663));
res += mul(Get(s0,0,-dy), float4x4(0.019296100363135,-0.039074122905731,-0.002843071939424,-0.098398447036743,-0.011336553841829,0.142894521355629,-0.258409798145294,-0.102147817611694,0.128906324505806,-0.075582027435303,-0.109910413622856,0.029616858810186,-0.100446105003357,-0.155153468251228,-0.188816025853157,-0.002754067303613));
res += mul(Get(s0,0,0), float4x4(-0.020444741472602,0.117826364934444,-0.177082344889641,-0.083189994096756,0.170661360025406,0.224100783467293,-0.033108782023191,-0.126657709479332,0.125648364424706,-0.023422880098224,-0.112851954996586,-0.111093193292618,0.069825857877731,-0.112275063991547,0.036432374268770,0.086556240916252));
res += mul(Get(s0,0,dy), float4x4(0.077695026993752,-0.087162956595421,-0.042947724461555,-0.198031052947044,0.144287779927254,-0.011299020610750,-0.050213187932968,0.114638656377792,-0.126458600163460,-0.079489834606647,0.064181454479694,-0.032882604748011,-0.083293259143829,0.222084879875183,-0.087336041033268,0.088627196848392));
res += mul(Get(s0,dx,-dy), float4x4(-0.056897521018982,0.106909886002541,0.050900705158710,0.082223102450371,0.112249553203583,-0.087401956319809,-0.060608875006437,0.079254664480686,-0.030886832624674,-0.030468255281448,-0.011513422243297,-0.008065661415458,0.124918811023235,0.155321642756462,0.176554575562477,0.024141883477569));
res += mul(Get(s0,dx,0), float4x4(0.071195170283318,0.119971297681332,0.000007236089914,-0.158714383840561,-0.080939546227455,0.125059485435486,0.141799643635750,0.008467401377857,0.071054272353649,-0.057818125933409,0.129003658890724,-0.015154755674303,-0.056634161621332,0.083901144564152,-0.055854126811028,0.010106850415468));
res += mul(Get(s0,dx,dy), float4x4(-0.060466784983873,0.075040899217129,0.033218108117580,0.062272254377604,-0.034010522067547,-0.289142400026321,-0.093756988644600,0.088058888912201,0.070401899516582,0.057636559009552,-0.118546105921268,-0.050463955849409,0.053861405700445,-0.192502602934837,0.035558909177780,0.089563496410847));
res += mul(Get(s1,-dx,-dy), float4x4(0.062242835760117,0.022762980312109,-0.006606181152165,-0.285320281982422,0.046781517565250,0.036257158964872,0.205781877040863,-0.104153782129288,-0.042125344276428,-0.001466206624173,-0.019080337136984,-0.001916825538501,-0.016344394534826,0.161972671747208,0.349185854196548,0.089296557009220));
res += mul(Get(s1,-dx,0), float4x4(0.039003904908895,-0.022752715274692,-0.168740883469582,0.009053807705641,-0.110392853617668,-0.060115072876215,-0.198230147361755,-0.082503266632557,0.053249996155500,-0.055754859000444,-0.002201018622145,-0.075448408722878,-0.021861819550395,0.026815205812454,0.145270422101021,-0.002329411217943));
res += mul(Get(s1,-dx,dy), float4x4(0.025234885513783,0.039031155407429,0.058471571654081,0.139256283640862,-0.145579010248184,-0.050357736647129,-0.136866942048073,0.343579500913620,-0.154367268085480,0.030380208045244,-0.028623960912228,-0.132043153047562,-0.089565068483353,-0.204818308353424,-0.031811781227589,-0.091124556958675));
res += mul(Get(s1,0,-dy), float4x4(-0.081364221870899,-0.097744226455688,-0.102398440241814,0.130791425704956,0.045019958168268,0.098773606121540,-0.152654364705086,-0.050305861979723,-0.082092836499214,0.221777558326721,-0.032541781663895,0.226513713598251,-0.066196970641613,0.027444051578641,-0.033976994454861,0.159448936581612));
res += mul(Get(s1,0,0), float4x4(0.049562592059374,-0.162862032651901,0.041557136923075,-0.072408623993397,0.094493165612221,0.080893360078335,-0.074025183916092,-0.171550750732422,0.120699360966682,0.064975172281265,-0.037318252027035,-0.059442739933729,0.053736347705126,-0.015241462737322,0.172179505228996,-0.070633560419083));
res += mul(Get(s1,0,dy), float4x4(0.091961316764355,0.024623563513160,0.175431460142136,0.043515611439943,-0.155321523547173,-0.054256964474916,-0.041650276631117,0.205102354288101,-0.097352512180805,0.207247719168663,0.118553057312965,-0.173342779278755,0.017438556998968,-0.090593218803406,0.290006577968597,0.071564838290215));
res += mul(Get(s1,dx,-dy), float4x4(-0.113386936485767,0.067279338836670,0.200806185603142,-0.270144402980804,0.104126393795013,0.100293055176735,-0.071062318980694,-0.174372807145119,-0.173228591680527,-0.067377574741840,0.034246589988470,0.042418118566275,-0.099212549626827,0.012799239717424,0.097563132643700,0.064470566809177));
res += mul(Get(s1,dx,0), float4x4(-0.016695899888873,0.138250321149826,0.173189952969551,0.017777757719159,-0.037363838404417,-0.027561731636524,0.064459726214409,-0.105535522103310,-0.179332286119461,-0.071270197629929,0.020662518218160,-0.018977867439389,0.080800339579582,-0.193789497017860,0.010853042826056,0.229618996381760));
res += mul(Get(s1,dx,dy), float4x4(0.099924415349960,0.063845053315163,0.254096150398254,-0.022398427128792,-0.093861714005470,0.099126569926739,-0.121392317116261,0.002410033484921,-0.059490468353033,0.103473678231239,0.210314437747002,0.063032612204552,0.098810732364655,0.194574907422066,0.045720618218184,0.152448415756226));
res += mul(Get(s2,-dx,-dy), float4x4(-0.040614571422338,0.022895144298673,-0.007708756718785,-0.052663337439299,-0.050198417156935,-0.179516181349754,0.215486869215965,-0.183584436774254,-0.110938198864460,-0.006664422806352,-0.086919330060482,-0.001275798422284,0.103024333715439,-0.081496566534042,-0.077335625886917,0.160931602120399));
res += mul(Get(s2,-dx,0), float4x4(0.030441517010331,-0.031096871942282,-0.220150738954544,-0.200920343399048,-0.267426162958145,-0.004370494280010,-0.243331402540207,-0.074549198150635,0.168029382824898,-0.144387155771255,-0.218933492898941,0.076505467295647,-0.144881561398506,-0.108601249754429,0.059781111776829,-0.334388315677643));
res += mul(Get(s2,-dx,dy), float4x4(0.027233170345426,-0.036789827048779,0.155820414423943,0.092536956071854,-0.009367408230901,-0.104187004268169,0.031774055212736,0.094826921820641,0.111012049019337,0.091329231858253,0.000424138386734,-0.170882552862167,0.173492193222046,-0.077319510281086,-0.073433943092823,0.096199914813042));
res += mul(Get(s2,0,-dy), float4x4(-0.111602425575256,-0.005303482525051,0.101257272064686,-0.048365749418736,0.057432893663645,-0.175184190273285,-0.115686044096947,0.130660101771355,-0.154014378786087,-0.127716034650803,-0.042969748377800,-0.207728937268257,0.054271046072245,0.005480414722115,-0.039721563458443,0.012032127939165));
res += mul(Get(s2,0,0), float4x4(0.049237664788961,0.017881466075778,-0.122225061058998,-0.054413858801126,-0.128770411014557,-0.027468221262097,0.103763163089752,-0.075898803770542,-0.161704301834106,-0.029157245531678,0.158890098333359,0.026101538911462,0.045095577836037,-0.030599713325500,0.116111516952515,0.093852117657661));
res += mul(Get(s2,0,dy), float4x4(0.158707231283188,-0.060731474310160,0.062994308769703,0.029274515807629,0.145982310175896,-0.115000627934933,-0.174214527010918,0.086966924369335,0.169812783598900,0.021818092092872,0.044921707361937,-0.032291769981384,-0.073657907545567,-0.075865775346756,0.086465746164322,0.181444093585014));
res += mul(Get(s2,dx,-dy), float4x4(-0.078874118626118,-0.000872471660841,0.050463799387217,-0.056675437837839,0.154749050736427,0.132696792483330,-0.033279024064541,0.034553933888674,-0.179993271827698,-0.141533493995667,0.090510822832584,0.101261533796787,0.188767492771149,-0.018789598718286,-0.088550314307213,-0.007033097557724));
res += mul(Get(s2,dx,0), float4x4(0.111665651202202,-0.038550984114408,0.088712967932224,-0.142622008919716,0.049258187413216,-0.137381896376610,-0.111593276262283,-0.203023776412010,-0.019648678600788,-0.082573384046555,0.005966114345938,0.172816097736359,0.198934212327003,-0.239702776074409,0.121752344071865,-0.007748018950224));
res += mul(Get(s2,dx,dy), float4x4(0.039029445499182,0.078883230686188,0.035817805677652,-0.007551081944257,-0.058222386986017,-0.153419986367226,0.073927313089371,-0.026077913120389,-0.008635248057544,0.019445404410362,-0.129398509860039,-0.113444484770298,-0.046178765594959,0.087077565491199,-0.024781960994005,-0.182473152875900));
res += mul(Get(s3,-dx,-dy), float4x4(0.122411742806435,0.216898366808891,-0.040837306529284,-0.103524424135685,0.057474665343761,-0.121710158884525,-0.071160480380058,-0.046484947204590,0.148791939020157,0.099660135805607,0.066911146044731,-0.149134367704391,0.149361938238144,0.003570402273908,0.017843266949058,-0.192863389849663));
res += mul(Get(s3,-dx,0), float4x4(-0.046387452632189,-0.168349206447601,-0.114064261317253,0.025738187134266,-0.088692672550678,-0.047741465270519,-0.163795605301857,0.147512361407280,0.122261278331280,-0.039335440844297,-0.220433115959167,0.031267851591110,0.056540597230196,0.022687908262014,0.001959818881005,-0.122417353093624));
res += mul(Get(s3,-dx,dy), float4x4(-0.052439991384745,-0.131998032331467,0.028973525390029,0.012787914834917,-0.276399493217468,-0.043528217822313,0.226492747664452,0.350628048181534,0.287027835845947,-0.159100025892258,-0.140490666031837,-0.123290896415710,-0.019832881167531,-0.064481131732464,-0.142281800508499,0.016325945034623));
res += mul(Get(s3,0,-dy), float4x4(-0.029508220031857,-0.134611159563065,0.174443721771240,-0.198288127779961,0.118965826928616,-0.026729766279459,-0.119533494114876,-0.204193606972694,-0.056770075112581,0.127067536115646,-0.250405669212341,0.022820718586445,-0.159634292125702,-0.094300910830498,-0.120257146656513,-0.100560829043388));
res += mul(Get(s3,0,0), float4x4(0.063376918435097,0.014508370310068,-0.191044554114342,0.040301389992237,0.145315647125244,-0.054529324173927,0.025279391556978,-0.100024104118347,-0.149132281541824,-0.037412151694298,-0.032145202159882,-0.099880784749985,0.027878535911441,-0.140838637948036,-0.079451657831669,-0.066951386630535));
res += mul(Get(s3,0,dy), float4x4(0.167203649878502,-0.014044438488781,-0.351417660713196,0.105796471238136,0.106083527207375,-0.095418497920036,0.025656491518021,0.112386047840118,0.023944361135364,0.099655397236347,-0.129313290119171,-0.109078623354435,0.060544401407242,0.104075953364372,0.096321515738964,-0.012592926621437));
res += mul(Get(s3,dx,-dy), float4x4(-0.110113874077797,0.128694295883179,0.077332921326160,0.106182895600796,0.125730335712433,-0.018992368131876,-0.106717504560947,-0.171787619590759,-0.016192717477679,0.072603031992912,0.118166960775852,0.081968247890472,-0.098878525197506,-0.094493083655834,-0.061260920017958,0.054329827427864));
res += mul(Get(s3,dx,0), float4x4(0.047768317162991,0.009035152383149,0.052713878452778,-0.106477059423923,0.100411720573902,-0.094833463430405,0.002359208883718,-0.073182724416256,-0.042104903608561,0.037214923650026,0.140872150659561,-0.004115904215723,0.005947835277766,-0.055618677288294,-0.186702325940132,-0.075077399611473));
res += mul(Get(s3,dx,dy), float4x4(0.123564809560776,0.071419611573219,0.181231632828712,-0.099050678312778,-0.073438592255116,-0.069811739027500,0.012028309516609,0.147942617535591,-0.038207381963730,-0.209928378462791,0.036021474748850,-0.147586807608604,0.111225739121437,-0.005544856656343,-0.091907463967800,0.003021283773705));
return max(float4(0,0,0,0), res);
}
