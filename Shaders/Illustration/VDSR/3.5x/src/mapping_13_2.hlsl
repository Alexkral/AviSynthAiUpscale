sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.047684498131275,-0.163784682750702,0.236254960298538,0.059159349650145,0.166430279612541,0.166774719953537,-0.063242301344872,0.042828798294067,-0.303547173738480,-0.052186664193869,-0.134956732392311,-0.039758726954460,0.099755033850670,0.000429921114119,-0.061000976711512,0.065946117043495));
res += mul(Get(s0,-dx,0), float4x4(0.249426886439323,0.212549552321434,0.083376064896584,0.078143596649170,0.106747522950172,0.132540568709373,-0.008949196897447,0.046922087669373,-0.045748073607683,-0.224863156676292,0.205623924732208,-0.066081315279007,0.095635548233986,-0.165033325552940,0.051644764840603,-0.050306078046560));
res += mul(Get(s0,-dx,dy), float4x4(0.053030941635370,0.147671774029732,0.069684833288193,0.048679996281862,-0.111753039062023,0.095682643353939,0.168485090136528,-0.039113014936447,0.095608249306679,0.091304287314415,-0.273940205574036,-0.133766338229179,-0.115424841642380,0.018289947882295,0.328223139047623,-0.237040519714355));
res += mul(Get(s0,0,-dy), float4x4(0.004993637092412,0.022506797686219,0.144872024655342,-0.081974364817142,0.231568962335587,0.032604545354843,-0.015400227159262,0.040362697094679,-0.196291282773018,0.030124289914966,0.182654649019241,-0.022148737683892,-0.083543293178082,-0.040282078087330,-0.027597870677710,0.178823381662369));
res += mul(Get(s0,0,0), float4x4(0.264943093061447,-0.003396127838641,0.046553488820791,0.137059688568115,0.017655611038208,0.024910656735301,-0.008461162447929,0.094235718250275,-0.146234124898911,-0.097010128200054,0.199752181768417,-0.026637714356184,0.001958231674507,-0.063330978155136,0.337253868579865,0.007105179131031));
res += mul(Get(s0,0,dy), float4x4(0.166190683841705,-0.007030471228063,0.108997486531734,0.232391357421875,0.036271825432777,-0.011305225081742,0.111219152808189,-0.076257765293121,0.054033625870943,0.074891254305840,-0.101832263171673,0.045392304658890,-0.176113411784172,-0.013172324746847,0.041943393647671,-0.015757877379656));
res += mul(Get(s0,dx,-dy), float4x4(0.034468036144972,-0.065646946430206,-0.046351153403521,0.089551642537117,0.113281443715096,0.018099460750818,0.046905931085348,0.183867618441582,-0.212431430816650,-0.003787445602939,0.139767646789551,0.192600429058075,-0.162109732627869,-0.000085128580395,0.033373396843672,0.239282146096230));
res += mul(Get(s0,dx,0), float4x4(0.389898747205734,0.095124453306198,-0.124728135764599,0.068354830145836,0.013397222384810,0.083290860056877,-0.049056380987167,0.171430632472038,-0.130017101764679,0.013429847545922,0.381454110145569,0.095374383032322,-0.002629651920870,-0.147008717060089,0.164520114660263,0.024721458554268));
res += mul(Get(s0,dx,dy), float4x4(0.219741597771645,0.053684491664171,-0.082288175821304,0.193400785326958,-0.012266955338418,0.078607738018036,0.092128284275532,0.009935681708157,0.062895610928535,0.140289381146431,0.229495301842690,0.043553009629250,-0.118188515305519,-0.081931211054325,-0.028086947277188,0.021342817693949));
res += mul(Get(s1,-dx,-dy), float4x4(-0.054802715778351,0.021772872656584,0.247447073459625,-0.063930466771126,-0.266268640756607,0.395916223526001,-0.026850147172809,0.023757597431540,0.103154145181179,0.272925049066544,0.030298054218292,0.082599923014641,0.353319942951202,0.060008063912392,-0.085778243839741,-0.118908904492855));
res += mul(Get(s1,-dx,0), float4x4(0.204989686608315,-0.099258653819561,0.027728656306863,-0.004465006291866,-0.000060509129980,0.475332587957382,-0.097518645226955,-0.145861968398094,0.031109509989619,0.193211585283279,-0.001763911335729,0.120696261525154,-0.021851647645235,-0.133060365915298,-0.051338978111744,0.150702163577080));
res += mul(Get(s1,-dx,dy), float4x4(0.038659881800413,0.157732278108597,-0.147650569677353,0.146845132112503,0.119388967752457,-0.011613100767136,-0.014435558579862,-0.218214780092239,-0.057116143405437,0.011918938718736,0.045264054089785,-0.032560348510742,-0.128979280591011,0.100068368017673,0.085920773446560,-0.110430799424648));
res += mul(Get(s1,0,-dy), float4x4(0.200884804129601,0.109291017055511,0.064239516854286,-0.161313131451607,-0.222155243158340,0.216261506080627,0.015239664353430,-0.049145303666592,0.002379785059020,0.026538500562310,0.057747077196836,0.121699735522270,0.005855261348188,0.167064726352692,0.160358294844627,-0.004622207954526));
res += mul(Get(s1,0,0), float4x4(0.163297474384308,0.128991454839706,-0.048572231084108,0.020901454612613,-0.176077798008919,0.020882381126285,-0.144895985722542,-0.111883915960789,0.096718013286591,0.211841449141502,-0.074811555445194,0.058955658227205,-0.169645220041275,-0.066622108221054,0.298032879829407,0.067587532103062));
res += mul(Get(s1,0,dy), float4x4(0.202678978443146,0.165758833289146,-0.119769647717476,-0.095151349902153,0.254737377166748,0.255885928869247,-0.023956570774317,-0.034631729125977,0.011289203539491,0.150320202112198,0.037939410656691,0.070168659090996,-0.113024033606052,0.188230007886887,-0.168836236000061,-0.110262602567673));
res += mul(Get(s1,dx,-dy), float4x4(0.212974950671196,-0.085563667118549,-0.048686653375626,0.277011394500732,-0.214061036705971,-0.067383676767349,0.020086517557502,-0.084636777639389,-0.091184951364994,0.012072327546775,-0.019775163382292,0.133733034133911,-0.012206418439746,0.263018935918808,0.073705807328224,0.214824065566063));
res += mul(Get(s1,dx,0), float4x4(0.079705864191055,-0.080600827932358,-0.059096585959196,0.259588420391083,-0.154070571064949,-0.114452920854092,-0.232066184282303,-0.046960193663836,0.102671235799789,-0.018682204186916,-0.136435776948929,0.056093215942383,-0.167628422379494,0.092186026275158,-0.357001036405563,-0.102241508662701));
res += mul(Get(s1,dx,dy), float4x4(0.172345459461212,-0.041210122406483,-0.121910803020000,0.269838660955429,-0.004001089837402,-0.027016470208764,-0.236863702535629,0.121211804449558,-0.044197525829077,-0.034383509308100,0.037047445774078,0.139205321669579,-0.139946117997169,0.196619510650635,-0.256819814443588,-0.099203996360302));
res += mul(Get(s2,-dx,-dy), float4x4(0.106104552745819,0.121236786246300,-0.031559057533741,-0.096043266355991,-0.221724376082420,-0.053573638200760,0.447256922721863,-0.120070837438107,-0.169438078999519,0.026509445160627,-0.130041331052780,0.161295264959335,0.249476790428162,0.283850938081741,0.161431476473808,-0.105309568345547));
res += mul(Get(s2,-dx,0), float4x4(0.195309385657310,-0.012459155172110,0.012085346505046,-0.121425352990627,-0.121372304856777,0.017870180308819,0.325256735086441,0.063789501786232,-0.081182062625885,-0.039030328392982,0.013887922279537,0.088079370558262,0.036051578819752,0.155052691698074,-0.174800425767899,-0.021244915202260));
res += mul(Get(s2,-dx,dy), float4x4(0.052619431167841,-0.073944114148617,0.081116534769535,-0.066631630063057,0.182214781641960,0.043629374355078,0.111543089151382,-0.002905328758061,-0.144560992717743,0.283566862344742,-0.016051925718784,-0.052981983870268,-0.022042339667678,-0.096207551658154,-0.141858220100403,-0.100488133728504));
res += mul(Get(s2,0,-dy), float4x4(0.152569755911827,0.059430655092001,0.103945970535278,0.039384894073009,-0.284108102321625,-0.047594822943211,0.343876600265503,-0.073248080909252,-0.200951382517815,0.076822385191917,0.062283344566822,0.122128494083881,0.145679861307144,-0.021853003650904,-0.030928358435631,-0.045802854001522));
res += mul(Get(s2,0,0), float4x4(0.002835579914972,0.042779006063938,0.077317409217358,-0.087513566017151,-0.159269794821739,-0.034709606319666,0.047466203570366,-0.171551823616028,-0.054253980517387,-0.050670865923166,0.051482696086168,-0.031809605658054,0.092370115220547,-0.017908446490765,-0.028649989515543,0.225092127919197));
res += mul(Get(s2,0,dy), float4x4(0.016818674281240,0.181829079985619,-0.048412859439850,-0.183832705020905,0.138441473245621,0.086398482322693,0.173572644591331,0.149093404412270,-0.099138960242271,0.142562359571457,-0.223237633705139,-0.029275327920914,-0.090875245630741,-0.257231175899506,-0.238985955715179,-0.025197453796864));
res += mul(Get(s2,dx,-dy), float4x4(0.033431887626648,0.147799342870712,0.122643820941448,-0.007933580316603,-0.138121560215950,-0.301830738782883,-0.120667733252048,0.092087008059025,0.124750003218651,-0.046889264136553,-0.243143945932388,0.196241274476051,0.133647158741951,0.209334939718246,-0.051334287971258,-0.101399175822735));
res += mul(Get(s2,dx,0), float4x4(-0.086071826517582,0.214168488979340,0.287982851266861,0.084128834307194,0.170155748724937,-0.190998956561089,-0.080333948135376,0.154117017984390,0.000766404729802,-0.093316763639450,-0.493375211954117,-0.129578754305840,0.083382651209831,0.149061828851700,0.088043451309204,0.433985650539398));
res += mul(Get(s2,dx,dy), float4x4(0.017034495249391,0.008493762463331,0.105016618967056,-0.068232670426369,-0.078384265303612,-0.054071918129921,-0.012898093089461,0.225160896778107,-0.110333286225796,0.048310168087482,-0.399874597787857,0.046627111732960,-0.113432250916958,-0.025416355580091,-0.086639821529388,-0.010861327871680));
res += mul(Get(s3,-dx,-dy), float4x4(0.220071166753769,0.180027231574059,-0.100303590297699,-0.000928453169763,-0.101189255714417,0.077400922775269,-0.059508867561817,0.074344195425510,0.231667414307594,0.158959835767746,-0.065313555300236,0.012825048528612,0.264582216739655,0.416898369789124,0.195018783211708,-0.010921466164291));
res += mul(Get(s3,-dx,0), float4x4(0.271217495203018,-0.227779820561409,-0.128889441490173,0.037526570260525,0.016744704917073,0.224389240145683,0.219353288412094,0.073828332126141,-0.135157808661461,0.149867281317711,-0.075745917856693,0.293662190437317,-0.018731467425823,0.282804816961288,-0.121481806039810,0.187265932559967));
res += mul(Get(s3,-dx,dy), float4x4(-0.135080650448799,-0.018396995961666,0.171442672610283,-0.083183757960796,-0.033812057226896,0.086824066936970,0.052361726760864,0.005357080139220,-0.004195325542241,-0.069898210465908,0.157422229647636,-0.166504502296448,0.027315340936184,0.224832564592361,-0.005469497758895,-0.100000679492950));
res += mul(Get(s3,0,-dy), float4x4(0.372295469045639,0.281660586595535,-0.286313742399216,-0.194686844944954,-0.145586594939232,0.136145800352097,0.056421045213938,-0.055109370499849,0.079239226877689,-0.009118515998125,-0.060663592070341,-0.085895225405693,0.068439513444901,0.210914745926857,0.244204998016357,0.117028497159481));
res += mul(Get(s3,0,0), float4x4(-0.094740808010101,-0.020595833659172,-0.106428675353527,0.199787884950638,0.077726438641548,0.268609791994095,-0.026736712083220,-0.210311457514763,0.077603153884411,0.085015431046486,0.209072977304459,0.256230413913727,0.160350471735001,-0.093520835042000,0.109639838337898,0.047384571284056));
res += mul(Get(s3,0,dy), float4x4(-0.125003740191460,-0.050520282238722,0.189550936222076,-0.217535972595215,0.010228789411485,0.144272685050964,-0.204482421278954,0.149517789483070,-0.049669362604618,-0.014442980289459,0.069548606872559,-0.163434788584709,0.203335985541344,0.082523435354233,0.197981044650078,-0.109967619180679));
res += mul(Get(s3,dx,-dy), float4x4(0.138624534010887,0.165998473763466,0.041568070650101,0.194941520690918,-0.114994272589684,-0.073169745504856,-0.055851299315691,-0.048709198832512,0.188922584056854,0.282413780689240,-0.159397765994072,0.136232852935791,0.165220215916634,0.024090740829706,0.264915376901627,0.092272795736790));
res += mul(Get(s3,dx,0), float4x4(-0.168411791324615,0.165768742561340,0.095618203282356,0.094436839222908,0.023374630138278,-0.074949063360691,-0.121337942779064,-0.029514009132981,0.080936156213284,0.110605031251907,-0.292617231607437,0.019401721656322,0.124026104807854,-0.107318408787251,0.029996532946825,-0.036216314882040));
res += mul(Get(s3,dx,dy), float4x4(-0.154739439487457,0.060386721044779,-0.185364991426468,-0.128936737775803,0.164051160216331,0.140054568648338,-0.131523609161377,0.145774111151695,-0.119393020868301,0.025446832180023,0.096048913896084,-0.195377394556999,0.010279195383191,-0.042708922177553,0.093453586101532,-0.037755712866783));
return max(float4(0,0,0,0), res);
}
