sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.069792099297047,-0.155653759837151,0.129241645336151,-0.028890917077661,0.126282095909119,0.001997697865590,0.031125137582421,0.070023730397224,0.049309447407722,-0.021100018173456,0.103319257497787,0.253746151924133,-0.107820592820644,-0.061053026467562,-0.153904512524605,-0.198906868696213));
res += mul(Get(s0,-dx,0), float4x4(-0.142928957939148,-0.012006698176265,-0.171363174915314,-0.131227940320969,-0.009572139941156,-0.048972416669130,0.098505713045597,-0.118364199995995,0.066064812242985,0.087249077856541,-0.028614154085517,-0.026006449013948,0.127547442913055,-0.236215427517891,-0.137195482850075,-0.020183734595776));
res += mul(Get(s0,-dx,dy), float4x4(0.009570417925715,-0.094490878283978,-0.118366785347462,-0.140565797686577,0.132726624608040,0.090655878186226,0.165461897850037,0.000126893894048,0.017534755170345,-0.012301819398999,-0.265545397996902,-0.165527731180191,0.141321137547493,-0.150016576051712,-0.139980107545853,0.094672702252865));
res += mul(Get(s0,0,-dy), float4x4(0.179036840796471,-0.321723818778992,-0.009050129912794,0.006271314341575,0.152651011943817,0.012801190838218,0.025371652096510,-0.128084465861320,0.011237052269280,0.037378553301096,0.039121832698584,-0.114170461893082,-0.137809276580811,-0.163790792226791,-0.044239707291126,-0.062961228191853));
res += mul(Get(s0,0,0), float4x4(-0.180293023586273,-0.023011209443212,-0.080709718167782,0.009764043614268,0.075847819447517,0.113766327500343,-0.058347664773464,-0.194509536027908,0.009353863075376,0.054814711213112,0.006340421270579,0.031763639301062,-0.103873945772648,-0.176562920212746,-0.139282166957855,-0.119639605283737));
res += mul(Get(s0,0,dy), float4x4(0.059756025671959,-0.167931526899338,0.049611605703831,-0.076577290892601,-0.127998098731041,-0.056606523692608,0.090813659131527,-0.057265911251307,-0.071686998009682,-0.029494196176529,-0.204494625329971,0.050459537655115,-0.037950757890940,-0.102715909481049,-0.219865769147873,-0.240235477685928));
res += mul(Get(s0,dx,-dy), float4x4(0.025897789746523,0.069479092955589,-0.176051765680313,-0.160206556320190,-0.026928016915917,-0.046338740736246,-0.115946002304554,-0.130741566419601,-0.275729149580002,-0.120937854051590,0.172879248857498,0.093769468367100,-0.081108994781971,-0.219669789075851,-0.030899882316589,0.148007571697235));
res += mul(Get(s0,dx,0), float4x4(0.272971808910370,0.003465948160738,0.401152461767197,0.008006457239389,0.255350559949875,-0.026510775089264,0.015848865732551,-0.183197394013405,-0.159238576889038,-0.163267210125923,-0.064543277025223,0.092693231999874,-0.156388744711876,-0.107451327145100,0.012164068408310,-0.055621158331633));
res += mul(Get(s0,dx,dy), float4x4(-0.045363102108240,0.182756319642067,0.212396174669266,0.039189789444208,0.069583699107170,-0.183254912495613,0.013396335765719,0.104668192565441,-0.118820190429688,-0.147981747984886,0.001836122595705,-0.155161842703819,-0.204440668225288,-0.044931348413229,0.023606015369296,0.473009705543518));
res += mul(Get(s1,-dx,-dy), float4x4(-0.273636370897293,-0.125888332724571,0.112022675573826,-0.195166364312172,-0.026000406593084,0.205552250146866,0.196455895900726,0.112813673913479,0.008376014418900,-0.298327118158340,0.124302387237549,-0.117493472993374,-0.116712704300880,-0.041607487946749,0.036220632493496,0.169895008206367));
res += mul(Get(s1,-dx,0), float4x4(-0.145548820495605,-0.152411431074142,-0.120536796748638,-0.243978932499886,0.045116975903511,-0.061779856681824,-0.152701929211617,-0.108625441789627,0.059364710003138,-0.138886585831642,0.109745070338249,-0.079907603561878,-0.132132112979889,0.053433712571859,-0.116746470332146,0.009506693109870));
res += mul(Get(s1,-dx,dy), float4x4(-0.059752162545919,-0.095891073346138,-0.182866543531418,-0.234141349792480,0.017905566841364,0.010818553157151,-0.098404221236706,0.027679987251759,0.095663234591484,0.036474805325270,0.077828787267208,-0.183220580220222,-0.230627134442329,-0.032883331179619,0.279146045446396,0.120240986347198));
res += mul(Get(s1,0,-dy), float4x4(-0.226946204900742,-0.119942486286163,0.264376729726791,0.366937875747681,-0.170416638255119,-0.125438094139099,0.093027994036674,-0.142977744340897,-0.247966513037682,-0.055947978049517,0.070944488048553,0.044940646737814,0.035164743661880,0.014923255890608,-0.204324200749397,-0.068591713905334));
res += mul(Get(s1,0,0), float4x4(-0.187146872282028,-0.079535871744156,-0.023247448727489,-0.030591107904911,-0.116581015288830,0.040999393910170,-0.092406749725342,-0.265610605478287,-0.244206160306931,0.109244391322136,0.237193703651428,0.047766674309969,-0.142815843224525,-0.115759551525116,-0.111003465950489,-0.141642913222313));
res += mul(Get(s1,0,dy), float4x4(0.092113316059113,-0.013784178532660,-0.109283544123173,-0.055383399128914,-0.005876184441149,0.144446328282356,-0.060299437493086,-0.185319840908051,-0.124975360929966,0.091077409684658,-0.154122009873390,0.093945711851120,-0.147094294428825,-0.066483132541180,0.063971832394600,0.186711430549622));
res += mul(Get(s1,dx,-dy), float4x4(-0.137537375092506,-0.093577630817890,0.104410715401173,-0.277704685926437,-0.184438362717628,-0.038869597017765,0.061950519680977,-0.030017133802176,-0.171449631452560,-0.132076740264893,0.056116301566362,0.138883173465729,-0.108605533838272,0.148968428373337,0.151108682155609,0.349686950445175));
res += mul(Get(s1,dx,0), float4x4(-0.129238769412041,-0.063225127756596,0.042394828051329,-0.165806055068970,-0.022147383540869,0.141441985964775,0.145881116390228,-0.097995370626450,-0.067427188158035,0.003022128483281,-0.030237257480621,0.318642109632492,-0.111177079379559,0.041212402284145,-0.103891395032406,-0.280809342861176));
res += mul(Get(s1,dx,dy), float4x4(0.050692867487669,0.074665978550911,-0.062444195151329,-0.041591137647629,-0.133201032876968,0.205881237983704,0.080795474350452,0.048337023705244,0.349177271127701,-0.108314558863640,-0.087351307272911,0.371606737375259,-0.140998780727386,-0.075963996350765,-0.160008698701859,-0.047079589217901));
res += mul(Get(s2,-dx,-dy), float4x4(-0.046841736882925,-0.041334595531225,-0.170603930950165,-0.083582468330860,-0.080522522330284,-0.153107449412346,0.069069735705853,0.133521467447281,-0.056953396648169,-0.100266449153423,0.168386816978455,-0.041049011051655,-0.067564733326435,-0.130444616079330,0.119308605790138,-0.071681112051010));
res += mul(Get(s2,-dx,0), float4x4(0.259662568569183,-0.106134019792080,-0.068498402833939,-0.196938157081604,-0.000850909156725,-0.167469367384911,0.227800324559212,0.066097863018513,-0.161707475781441,-0.202836081385612,-0.097038820385933,0.006527054123580,-0.156529515981674,-0.111830741167068,0.128622949123383,0.034832552075386));
res += mul(Get(s2,-dx,dy), float4x4(0.147765144705772,0.045659344643354,-0.202866524457932,-0.153041794896126,0.109012044966221,0.081499300897121,0.248734503984451,0.297014057636261,-0.044953469187021,-0.172881707549095,0.004957273136824,0.099855855107307,-0.055737968534231,-0.065359510481358,0.060875602066517,0.054772730916739));
res += mul(Get(s2,0,-dy), float4x4(0.127362951636314,-0.122748106718063,-0.117879673838615,-0.126310750842094,0.021264258772135,-0.119753129780293,-0.070568621158600,-0.091235250234604,0.083843357861042,0.044347442686558,-0.144669324159622,-0.090937942266464,-0.181114286184311,-0.072839148342609,0.060318470001221,0.046468842774630));
res += mul(Get(s2,0,0), float4x4(0.210298106074333,0.097162291407585,-0.055559903383255,-0.207230404019356,0.065613843500614,-0.190496265888214,0.062311857938766,0.279750168323517,0.111011192202568,0.025698307901621,0.079851709306240,-0.056596528738737,-0.204202622175217,-0.080594293773174,-0.017458332702518,0.116229869425297));
res += mul(Get(s2,0,dy), float4x4(0.082052424550056,0.386881619691849,-0.027499364688993,0.026000186800957,0.241044357419014,-0.016023049131036,0.110247954726219,0.116061426699162,0.038549348711967,-0.026877202093601,-0.067890256643295,0.006137285381556,-0.073737896978855,-0.020914709195495,0.035822678357363,-0.047035135328770));
res += mul(Get(s2,dx,-dy), float4x4(0.075537718832493,-0.062100391834974,0.051848098635674,-0.100489087402821,0.094849348068237,0.152968898415565,0.042713239789009,-0.009429675526917,0.288781464099884,-0.064892776310444,-0.125623881816864,0.186509713530540,0.071029052138329,0.035012666136026,-0.037412773817778,0.072214543819427));
res += mul(Get(s2,dx,0), float4x4(-0.059689674526453,0.248419418931007,0.251460164785385,0.001090763718821,0.009777645580471,0.010172103531659,-0.046167910099030,-0.123094253242016,0.413390129804611,-0.002144776750356,0.176826551556587,0.096993692219257,-0.144472882151604,0.012547807767987,-0.127498507499695,0.070382155478001));
res += mul(Get(s2,dx,dy), float4x4(-0.103312201797962,0.310584902763367,0.200830921530724,0.204071953892708,-0.012783076614141,0.039300404489040,0.212169155478477,0.018518909811974,0.179140537977219,-0.035591583698988,-0.141659706830978,0.050566211342812,-0.032641045749187,0.032544318586588,-0.144726872444153,0.010575450025499));
res += mul(Get(s3,-dx,-dy), float4x4(-0.051069412380457,0.247484877705574,0.036383762955666,0.154614806175232,0.027157627046108,-0.039265468716621,-0.160907477140427,-0.239950463175774,0.218971803784370,0.058504756540060,-0.074519462883472,-0.062655098736286,-0.190936237573624,0.080963045358658,-0.024925338104367,-0.210938110947609));
res += mul(Get(s3,-dx,0), float4x4(-0.084130711853504,0.293048173189163,-0.038238465785980,-0.054302036762238,0.169361516833305,-0.269548088312149,-0.329844236373901,-0.000714966037776,0.124007530510426,-0.091196611523628,0.371191173791885,-0.066365629434586,-0.191308781504631,-0.037162654101849,-0.095142096281052,-0.089620590209961));
res += mul(Get(s3,-dx,dy), float4x4(0.031249783933163,0.023068746551871,-0.153982698917389,-0.142680421471596,0.127479359507561,-0.153190225362778,0.112982824444771,0.136978298425674,0.085085116326809,0.023008313030005,-0.047149468213320,-0.082698740065098,0.099492192268372,-0.021377213299274,-0.118651859462261,-0.110167726874352));
res += mul(Get(s3,0,-dy), float4x4(-0.119889870285988,0.144684389233589,-0.147518128156662,-0.087930515408516,-0.073362611234188,-0.048008207231760,-0.013911266811192,-0.176013588905334,-0.076396808028221,0.068851098418236,-0.315061002969742,-0.095654077827930,-0.173320427536964,-0.152526453137398,-0.019576352089643,-0.152964174747467));
res += mul(Get(s3,0,0), float4x4(-0.049851898103952,-0.062243640422821,0.094094194471836,0.016541881486773,-0.038717690855265,-0.202038019895554,-0.069230906665325,-0.018947873264551,-0.043982189148664,0.026033250615001,-0.143289864063263,-0.048406232148409,-0.183309689164162,-0.086861722171307,-0.124192841351032,-0.055494654923677));
res += mul(Get(s3,0,dy), float4x4(-0.022880893200636,-0.142027214169502,-0.082399629056454,-0.085877083241940,0.097194083034992,0.076002135872841,0.090317226946354,-0.051665775477886,-0.009188348427415,0.145124301314354,0.262944132089615,-0.068529263138771,-0.046817705035210,0.066246688365936,-0.165404826402664,-0.072808749973774));
res += mul(Get(s3,dx,-dy), float4x4(-0.268495202064514,0.012387751601636,-0.105989515781403,0.293731987476349,-0.012480405159295,0.041831802576780,-0.033040944486856,-0.236026138067245,-0.024708315730095,-0.256031751632690,-0.235330119729042,-0.156279891729355,-0.169723331928253,0.069881260395050,0.028499972075224,-0.061912611126900));
res += mul(Get(s3,dx,0), float4x4(-0.290894210338593,0.005092938430607,-0.001762351370417,-0.137628465890884,-0.032766379415989,-0.090108364820480,0.007689604070038,-0.111801207065582,0.259307056665421,-0.140223771333694,-0.066480390727520,-0.065919496119022,-0.268994688987732,0.034031350165606,-0.067411370575428,-0.035930994898081));
res += mul(Get(s3,dx,dy), float4x4(-0.160525947809219,-0.041778329759836,-0.064349584281445,-0.160336583852768,-0.106674417853355,0.473792344331741,0.006301102228463,-0.162007451057434,-0.131119817495346,-0.299429237842560,0.060969728976488,-0.010932882316411,-0.153291925787926,0.335398614406586,-0.107350066304207,-0.073238000273705));
return max(float4(0,0,0,0), res);
}
