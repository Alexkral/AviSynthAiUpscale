sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.110707812011242,0.297454595565796,0.110633544623852,-0.011501875706017,0.105057805776596,0.209199890494347,0.170393899083138,-0.117112450301647,-0.009943414479494,-0.046975828707218,0.081844732165337,0.247440204024315,-0.136466383934021,0.058482348918915,-0.044218964874744,-0.168759226799011));
res += mul(Get(s0,-dx,0), float4x4(0.064898863434792,-0.077800735831261,0.063585489988327,-0.026689913123846,-0.016135117039084,0.010994328185916,-0.138172790408134,0.005243018735200,0.171758085489273,0.051865637302399,0.079764649271965,-0.086891889572144,-0.261269986629486,-0.199126571416855,0.033031653612852,-0.292537152767181));
res += mul(Get(s0,-dx,dy), float4x4(-0.157213866710663,-0.016084291040897,0.101413257420063,-0.005690256133676,-0.305762350559235,-0.132134884595871,-0.011150811798871,-0.177789390087128,0.263011097908020,-0.052316319197416,-0.143876895308495,-0.135355427861214,0.016471093520522,0.022038193419576,-0.130145967006683,0.030252499505877));
res += mul(Get(s0,0,-dy), float4x4(-0.055723588913679,-0.103340268135071,0.026260152459145,0.081303410232067,-0.009054448455572,-0.098810009658337,-0.109930932521820,0.030903270468116,-0.013089139945805,-0.228691980242729,-0.035412203520536,-0.103086031973362,0.023476164788008,0.008309598080814,-0.026189522817731,-0.206002682447433));
res += mul(Get(s0,0,0), float4x4(-0.131046637892723,0.064931198954582,0.224116086959839,0.063939452171326,-0.000355881929863,0.030616380274296,-0.068542629480362,-0.006377947982401,-0.096445150673389,-0.070046737790108,-0.096210680902004,-0.095262184739113,0.030621241778135,0.151802211999893,-0.047473337501287,0.070982627570629));
res += mul(Get(s0,0,dy), float4x4(-0.227540418505669,0.128562450408936,0.015980619937181,0.021529586985707,-0.091406285762787,-0.270590424537659,0.043344825506210,-0.111080870032310,-0.006591570097953,-0.040183879435062,0.138166010379791,-0.105407416820526,-0.041169438511133,-0.020182585343719,-0.171255543828011,-0.013370511122048));
res += mul(Get(s0,dx,-dy), float4x4(-0.071331612765789,-0.032585944980383,0.069336913526058,-0.224758416414261,0.135692089796066,0.176734924316406,-0.101873949170113,0.002864096546546,-0.202590048313141,0.122586786746979,0.101063206791878,-0.068783842027187,0.102687567472458,0.196454554796219,-0.165425181388855,0.053940214216709));
res += mul(Get(s0,dx,0), float4x4(-0.009028715081513,-0.117194399237633,0.111333474516869,-0.006666983012110,-0.069534689188004,-0.022715795785189,0.096685677766800,-0.021011639386415,-0.207321181893349,-0.025866627693176,-0.094770669937134,-0.021171785891056,0.052206594496965,-0.080313690006733,0.007636120542884,0.202649503946304));
res += mul(Get(s0,dx,dy), float4x4(0.055600084364414,-0.126482278108597,-0.012149682268500,-0.155969858169556,0.059064112603664,-0.054065283387899,0.056855462491512,-0.020451309159398,0.210619524121284,-0.134424015879631,0.047704860568047,-0.298036962747574,-0.141224399209023,0.278182327747345,-0.205083921551704,0.030542559921741));
res += mul(Get(s1,-dx,-dy), float4x4(0.134406462311745,-0.109366558492184,0.039331708103418,-0.188298717141151,-0.050138056278229,-0.051174174994230,-0.047171108424664,-0.067105412483215,-0.126942321658134,0.031226128339767,0.131590366363525,-0.079092375934124,-0.127299025654793,-0.227523595094681,-0.130930811166763,-0.024852074682713));
res += mul(Get(s1,-dx,0), float4x4(0.045860152691603,0.093950532376766,0.108072042465210,-0.185105040669441,0.020429857075214,0.012900643050671,0.029954601079226,0.101000413298607,0.074866637587547,0.014758115634322,0.058477882295847,0.142118752002716,-0.001264005666599,0.158201470971107,-0.083208702504635,-0.074117779731750));
res += mul(Get(s1,-dx,dy), float4x4(0.029431216418743,-0.065870381891727,-0.108170740306377,0.166922628879547,-0.088026486337185,0.146529287099838,0.146203145384789,0.190258339047432,-0.079282380640507,-0.098552331328392,0.114867530763149,-0.040041413158178,-0.019815675914288,0.149846032261848,-0.038247857242823,-0.125625491142273));
res += mul(Get(s1,0,-dy), float4x4(-0.092453733086586,0.149895414710045,0.099063947796822,-0.215470790863037,-0.077549099922180,0.014556065201759,0.093362323939800,0.069297797977924,-0.041081745177507,0.133906602859497,0.002792457351461,0.114709749817848,0.172567442059517,0.217520013451576,-0.075516000390053,-0.095592543482780));
res += mul(Get(s1,0,0), float4x4(0.111290983855724,-0.017028117552400,0.070792935788631,0.062445845454931,0.054197732359171,0.068466328084469,0.088095761835575,-0.057150412350893,0.072111606597900,0.036170728504658,-0.018061675131321,-0.054296731948853,0.075108997523785,0.024789910763502,-0.107179589569569,-0.058332543820143));
res += mul(Get(s1,0,dy), float4x4(0.203162312507629,-0.072822876274586,0.084656126797199,0.117264963686466,0.068114563822746,0.013815097510815,0.029883008450270,0.006193827372044,0.091978222131729,-0.144562438130379,0.081430740654469,0.136960625648499,0.032225556671619,0.160757914185524,-0.117073610424995,-0.028580443933606));
res += mul(Get(s1,dx,-dy), float4x4(0.055984120815992,0.150582715868950,-0.118192374706268,-0.108799479901791,0.012044035829604,0.078394949436188,-0.127429470419884,-0.146346569061279,0.104417130351067,0.032631013542414,0.037220418453217,-0.021072406321764,-0.059520840644836,0.006004157476127,0.021806536242366,-0.009820808656514));
res += mul(Get(s1,dx,0), float4x4(0.058609921485186,-0.030630210414529,0.161246359348297,-0.125627502799034,0.029140630736947,0.041478138417006,0.026257889345288,-0.019834786653519,-0.024067478254437,0.150842800736427,-0.099813416600227,-0.075890362262726,0.054279666393995,0.227374285459518,-0.100521579384804,0.016326297074556));
res += mul(Get(s1,dx,dy), float4x4(-0.104844182729721,-0.124578066170216,-0.106863088905811,0.115220181643963,0.086455613374710,-0.081468909978867,0.001818263786845,0.232537388801575,-0.049366537481546,-0.013167202472687,-0.013816625811160,0.105801381170750,0.126440316438675,-0.134789362549782,-0.099580056965351,0.150867000222206));
res += mul(Get(s2,-dx,-dy), float4x4(0.003697153646499,-0.241493031382561,-0.161149695515633,0.067583017051220,0.233801707625389,-0.134119227528572,0.078139066696167,-0.042974639683962,-0.066641747951508,0.071737177670002,-0.094320580363274,0.155812010169029,0.078635945916176,0.118571467697620,0.008531967177987,-0.020689241588116));
res += mul(Get(s2,-dx,0), float4x4(-0.050191186368465,0.230549931526184,-0.075847767293453,-0.256318509578705,-0.261903166770935,-0.073193624615669,0.070597037672997,-0.151370301842690,-0.083532452583313,-0.013027377426624,0.199962079524994,-0.092846490442753,0.038334090262651,-0.237793415784836,0.088654689490795,-0.157978355884552));
res += mul(Get(s2,-dx,dy), float4x4(-0.071689240634441,-0.080462321639061,-0.074708327651024,0.063027493655682,-0.181636780500412,0.184981897473335,-0.091337934136391,-0.222952172160149,-0.105070374906063,-0.050096515566111,-0.190464809536934,-0.155375927686691,0.071069434285164,0.074782453477383,-0.018139040097594,0.150097683072090));
res += mul(Get(s2,0,-dy), float4x4(0.143636301159859,0.017538135871291,-0.108659364283085,0.029598901048303,0.139353394508362,-0.030366564169526,0.060587793588638,0.091106198728085,-0.027430029585958,0.046692527830601,0.016689110547304,0.077250719070435,-0.091236338019371,-0.081485137343407,-0.127501010894775,0.261376380920410));
res += mul(Get(s2,0,0), float4x4(-0.165249899029732,-0.012924473732710,0.100564710795879,0.029015051200986,0.007161289453506,-0.014237268827856,-0.031748514622450,-0.011432931758463,-0.057478539645672,-0.024703193455935,-0.299715042114258,-0.211306512355804,-0.067540973424911,-0.120887823402882,0.005263473838568,-0.157475531101227));
res += mul(Get(s2,0,dy), float4x4(-0.046263176947832,0.219435602426529,-0.037447437644005,-0.126991420984268,0.032666545361280,-0.113931737840176,0.241054117679596,0.014520454220474,-0.134738832712173,-0.170030102133751,0.112051576375961,-0.259659975767136,0.047641944140196,-0.032504096627235,0.129728853702545,-0.155248329043388));
res += mul(Get(s2,dx,-dy), float4x4(-0.078302629292011,-0.031141914427280,-0.011906551197171,-0.001114093698561,0.005098935216665,0.219076827168465,-0.095544598996639,-0.100836642086506,-0.100933521986008,0.074638977646828,0.158439159393311,-0.059718571603298,0.176812201738358,-0.102612137794495,-0.069351688027382,0.006645809859037));
res += mul(Get(s2,dx,0), float4x4(-0.084625847637653,-0.206982389092445,0.008877482265234,0.065035849809647,-0.016818048432469,0.046790398657322,0.139505818486214,-0.041419975459576,-0.116409957408905,-0.100371927022934,0.033981882035732,0.230486378073692,0.022157393395901,0.038529142737389,-0.013474273495376,-0.180783897638321));
res += mul(Get(s2,dx,dy), float4x4(-0.103666745126247,-0.193890675902367,0.053653616458178,0.099752917885780,-0.103905640542507,0.028119532391429,0.010457063093781,0.097736015915871,-0.077640883624554,0.190253332257271,0.038594242185354,-0.079353496432304,-0.107883699238300,-0.129285126924515,-0.105078689754009,-0.025437263771892));
res += mul(Get(s3,-dx,-dy), float4x4(0.028504220768809,0.091129079461098,0.184213608503342,-0.092528730630875,-0.171314030885696,-0.113092198967934,0.089992754161358,0.115717560052872,-0.044426064938307,-0.077175721526146,-0.090329498052597,0.160613909363747,-0.091229394078255,-0.017789028584957,0.065014570951462,0.024261917918921));
res += mul(Get(s3,-dx,0), float4x4(0.018291259184480,-0.165402248501778,-0.076074600219727,0.036980204284191,0.015247494913638,0.043468423187733,-0.142224773764610,-0.002864212263376,0.156687065958977,0.064336016774178,0.025363236665726,0.068145632743835,-0.149211302399635,0.081022784113884,-0.050521697849035,-0.099573269486427));
res += mul(Get(s3,-dx,dy), float4x4(0.140822052955627,-0.181271106004715,0.017564173787832,0.033655777573586,-0.082850858569145,0.061728257685900,-0.022381518036127,-0.060868702828884,0.115335978567600,-0.000592579774093,0.035601444542408,-0.197461038827896,0.080328151583672,-0.103359051048756,0.148655697703362,0.044899519532919));
res += mul(Get(s3,0,-dy), float4x4(-0.055225849151611,-0.156967297196388,-0.055051490664482,-0.150051474571228,-0.056571312248707,-0.147323116660118,-0.176392048597336,-0.058274865150452,0.040938891470432,-0.029762495309114,-0.051198277622461,0.260223895311356,0.098856225609779,0.082677811384201,0.068942613899708,0.024061799049377));
res += mul(Get(s3,0,0), float4x4(-0.056530848145485,-0.112642116844654,0.027581755071878,0.005139171611518,-0.015876529738307,-0.020990762859583,0.111480750143528,0.183560505509377,0.087915815412998,-0.017945785075426,-0.013217985630035,0.288419306278229,-0.014408738352358,-0.119802951812744,0.202552676200867,-0.006432715337723));
res += mul(Get(s3,0,dy), float4x4(0.063970372080803,-0.170707643032074,0.158055186271667,-0.110781528055668,-0.138063043355942,0.093036688864231,-0.048002623021603,-0.139993831515312,0.102297291159630,0.111258134245872,-0.160042464733124,-0.170960888266563,0.082199715077877,0.058568686246872,0.118444219231606,0.027979124337435));
res += mul(Get(s3,dx,-dy), float4x4(-0.022953532636166,0.068291649222374,0.176707163453102,-0.149148300290108,-0.111475959420204,-0.197818860411644,0.094117403030396,-0.006499655079097,-0.013121524825692,-0.104002781212330,0.015621893107891,0.007784592919052,-0.016325412318110,0.015917886048555,0.091555438935757,-0.184935420751572));
res += mul(Get(s3,dx,0), float4x4(-0.069092504680157,0.142469525337219,0.084081813693047,-0.089650236070156,-0.253774315118790,-0.143361389636993,0.228396192193031,-0.099954009056091,-0.006339678075165,0.055276721715927,0.040140390396118,0.083655886352062,0.095485366880894,-0.113901406526566,-0.029963474720716,0.227368578314781));
res += mul(Get(s3,dx,dy), float4x4(0.115696921944618,-0.069225609302521,0.141304358839989,0.000915389275178,-0.020462818443775,-0.024612138047814,-0.140862584114075,0.033174671232700,-0.069095447659492,-0.029843034222722,0.052648417651653,-0.058104410767555,0.169871762394905,0.020577900111675,0.069023758172989,-0.140081495046616));
return max(float4(0,0,0,0), res);
}
