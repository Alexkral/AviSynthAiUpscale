sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.198504373431206,0.088113248348236,0.015452155843377,-0.149779185652733,-0.087658412754536,0.128343433141708,-0.262357622385025,0.033322643488646,-0.115003764629364,0.042798321694136,-0.173284158110619,-0.257393032312393,-0.015458891168237,-0.003940196242183,-0.099291659891605,0.005308110266924));
res += mul(Get(s0,-dx,0), float4x4(-0.042202942073345,0.216165557503700,0.185352519154549,-0.086659401655197,-0.088270470499992,-0.056962080299854,-0.129660278558731,0.154317498207092,0.028977923095226,0.270553588867188,-0.030470782890916,-0.208436459302902,-0.050732120871544,-0.000278175837593,-0.022304991260171,0.187500417232513));
res += mul(Get(s0,-dx,dy), float4x4(-0.100064128637314,-0.038677256554365,-0.114689275622368,-0.277499437332153,-0.027974206954241,0.332146495580673,-0.114201359450817,0.294891625642776,-0.020319705829024,-0.025492250919342,-0.106803074479103,-0.002089724410325,-0.097380034625530,0.135223492980003,-0.014113652519882,-0.071427792310715));
res += mul(Get(s0,0,-dy), float4x4(0.011619433760643,-0.107798360288143,-0.018700888380408,-0.098346486687660,0.007089944090694,0.072562076151371,-0.060519542545080,0.112309142947197,-0.246585577726364,0.105921171605587,-0.115889586508274,-0.046831980347633,0.072193853557110,-0.081576585769653,0.117432862520218,0.065251335501671));
res += mul(Get(s0,0,0), float4x4(0.029081562533975,0.069683045148849,0.076661281287670,0.293026834726334,-0.028423523530364,0.113488636910915,-0.085896208882332,-0.050853382796049,0.086975343525410,0.010349604301155,-0.099607616662979,-0.086807698011398,-0.052415400743484,0.033872552216053,0.009350189007819,0.013946345075965));
res += mul(Get(s0,0,dy), float4x4(0.072163507342339,-0.023203423246741,0.048379737883806,0.043164130300283,0.053309250622988,0.139833152294159,-0.136323288083076,0.039512552320957,0.015105091035366,0.122233487665653,0.053362414240837,0.051290001720190,0.029126496985555,-0.276087254285812,-0.069793954491615,-0.196752607822418));
res += mul(Get(s0,dx,-dy), float4x4(0.067442610859871,0.204098954796791,-0.241333231329918,0.133988872170448,-0.092911019921303,0.154635593295097,-0.065574392676353,0.186242252588272,-0.068325072526932,0.069412566721439,0.205511689186096,0.046225953847170,-0.011876073665917,-0.011989837512374,0.026961887255311,0.075231671333313));
res += mul(Get(s0,dx,0), float4x4(-0.190238952636719,0.109371036291122,-0.008997613564134,-0.133618250489235,-0.015497568994761,0.052498593926430,0.048952877521515,-0.057910095900297,-0.003096902975813,-0.003197391517460,-0.006676597055048,-0.039325971156359,0.082653649151325,-0.016380950808525,-0.148528426885605,0.070806905627251));
res += mul(Get(s0,dx,dy), float4x4(0.028537785634398,-0.037962298840284,0.014407038688660,0.098631359636784,-0.039205234497786,-0.052444387227297,-0.042254559695721,-0.093929089605808,0.123575061559677,0.131796792149544,-0.061047732830048,0.140927910804749,0.157559350132942,-0.123394630849361,-0.000923546846025,-0.016473732888699));
res += mul(Get(s1,-dx,-dy), float4x4(0.101188480854034,-0.133281111717224,0.010381243191659,-0.017179643735290,-0.091802611947060,0.126225322484970,0.038380742073059,0.026435358449817,-0.093284890055656,-0.015853688120842,0.068087697029114,-0.034070745110512,-0.016145301982760,-0.116348579525948,0.088021062314510,-0.168102458119392));
res += mul(Get(s1,-dx,0), float4x4(0.122779920697212,0.035895235836506,0.106063239276409,0.023388771340251,0.061424173414707,0.159449338912964,-0.036474943161011,0.007849251851439,0.140416398644447,-0.044688876718283,0.010326455347240,-0.092683628201485,-0.049642343074083,-0.022704252973199,0.064403250813484,-0.086031995713711));
res += mul(Get(s1,-dx,dy), float4x4(0.013510252349079,-0.006851241923869,-0.030009005218744,0.160627290606499,-0.194125384092331,-0.212024196982384,-0.034872371703386,-0.172780647873878,0.203301325440407,-0.151794388890266,0.071335650980473,0.144696056842804,0.257941395044327,0.209996908903122,0.047174844890833,-0.070030882954597));
res += mul(Get(s1,0,-dy), float4x4(-0.135726541280746,-0.051180571317673,0.009405796416104,0.077592633664608,0.127638757228851,0.098225392401218,-0.021812668070197,0.197559788823128,0.131206929683685,-0.065062388777733,-0.032609205693007,0.016455300152302,-0.052103415131569,-0.060212116688490,0.090923652052879,0.032098218798637));
res += mul(Get(s1,0,0), float4x4(0.037572532892227,0.257574379444122,-0.187020778656006,0.008443580940366,-0.190313875675201,-0.173247769474983,0.173675596714020,-0.098060160875320,0.081509977579117,-0.061574585735798,-0.081422053277493,0.082703091204166,-0.040237601846457,0.080784767866135,0.177277281880379,0.019306167960167));
res += mul(Get(s1,0,dy), float4x4(0.014940786175430,0.355740606784821,-0.065486542880535,0.014506682753563,0.032546706497669,0.231174722313881,-0.096610426902771,-0.013484157621861,-0.072601191699505,-0.088975816965103,0.013747318647802,0.157499328255653,-0.086209014058113,0.049010273069143,0.175915509462357,0.036266565322876));
res += mul(Get(s1,dx,-dy), float4x4(0.164221525192261,-0.023263799026608,-0.144214510917664,0.134041026234627,-0.086773119866848,0.092289485037327,-0.086738727986813,0.053763974457979,-0.020944966003299,-0.091419212520123,-0.002509107813239,0.002766590565443,0.149633988738060,-0.351930707693100,0.024403510615230,0.052297022193670));
res += mul(Get(s1,dx,0), float4x4(0.195979401469231,0.111842192709446,0.107252545654774,-0.038562189787626,-0.008351259864867,0.125115096569061,0.021487314254045,-0.053076270967722,0.115621119737625,0.148263901472092,-0.047635894268751,-0.227709844708443,-0.014837155118585,-0.236911281943321,0.067793659865856,-0.020384076982737));
res += mul(Get(s1,dx,dy), float4x4(-0.084306925535202,0.281365692615509,0.266008615493774,0.066064536571503,-0.086525522172451,-0.228739529848099,-0.105925120413303,0.091163486242294,0.050520874559879,0.020957978442311,0.119895629584789,-0.197505801916122,0.275943607091904,-0.257221072912216,0.234299197793007,-0.071820117533207));
res += mul(Get(s2,-dx,-dy), float4x4(0.110828630626202,0.237622067332268,0.076407611370087,-0.154428109526634,0.113123767077923,0.101068161427975,0.098542883992195,-0.024340976029634,-0.018228838220239,-0.138238996267319,-0.121487922966480,0.377631664276123,0.068300768733025,-0.119812317192554,-0.006181036587805,-0.019847860559821));
res += mul(Get(s2,-dx,0), float4x4(-0.097521662712097,0.239771276712418,0.198380485177040,-0.244563072919846,0.113726630806923,0.189495116472244,-0.098782017827034,-0.027821570634842,-0.009129040874541,-0.031489197164774,0.015386522747576,0.101449541747570,0.012324354611337,-0.106091089546680,-0.213672325015068,0.310656398534775));
res += mul(Get(s2,-dx,dy), float4x4(0.260935932397842,0.012243673205376,0.081465780735016,-0.060980837792158,-0.051022995263338,0.081289298832417,0.013365792110562,0.103467985987663,0.047769788652658,-0.043828804045916,0.316960394382477,-0.078379422426224,0.233260080218315,0.028062637895346,-0.081279262900352,0.117440514266491));
res += mul(Get(s2,0,-dy), float4x4(0.063042923808098,-0.146997779607773,-0.061987161636353,0.000971522065811,0.163365215063095,-0.132993221282959,0.061267312616110,0.024096544831991,-0.070835471153259,0.015995943918824,0.061378631740808,-0.029051806777716,0.094970405101776,-0.142808943986893,-0.009308518841863,-0.055382318794727));
res += mul(Get(s2,0,0), float4x4(-0.102501600980759,0.172951772809029,0.141013324260712,0.092408485710621,0.035427726805210,-0.225627675652504,0.057111021131277,0.050878848880529,-0.053461596369743,-0.122824579477310,-0.056606460362673,0.065382629632950,-0.016820246353745,-0.051294453442097,-0.128554850816727,-0.127012088894844));
res += mul(Get(s2,0,dy), float4x4(-0.164598390460014,-0.069018520414829,0.033400200307369,-0.210572570562363,-0.155456930398941,0.005887982435524,0.014427502639592,0.311662912368774,0.080561734735966,-0.172775715589523,0.049756690859795,0.068705208599567,0.074219681322575,-0.022040404379368,0.056646771728992,0.018476378172636));
res += mul(Get(s2,dx,-dy), float4x4(-0.024341326206923,-0.013087551109493,-0.060684897005558,0.163164094090462,-0.176358953118324,-0.018317893147469,-0.050299897789955,-0.124545365571976,-0.132248654961586,0.045123752206564,0.022761374711990,0.091251477599144,-0.180344372987747,-0.017084216699004,0.099289350211620,-0.191652208566666));
res += mul(Get(s2,dx,0), float4x4(-0.123251996934414,0.061725839972496,-0.070182800292969,-0.200457528233528,-0.043178245425224,0.021638419479132,-0.078319787979126,0.005135045386851,-0.074612520635128,-0.060544602572918,-0.126167073845863,0.153497904539108,0.018087644129992,-0.097682118415833,-0.260170191526413,-0.197331026196480));
res += mul(Get(s2,dx,dy), float4x4(0.105408743023872,-0.072980187833309,0.324281811714172,-0.084267921745777,0.014626401476562,0.254307895898819,0.135355696082115,0.033251307904720,-0.082847692072392,-0.054115884006023,0.002397105563432,-0.207871243357658,-0.233078673481941,0.058509793132544,-0.073157571256161,-0.063681446015835));
res += mul(Get(s3,-dx,-dy), float4x4(-0.040984436869621,-0.024141920730472,0.015653304755688,-0.019920377060771,0.040822841227055,0.034629106521606,-0.061718512326479,0.021463742479682,0.086683847010136,-0.216619640588760,-0.087355300784111,0.183675274252892,-0.064412206411362,-0.092000730335712,-0.162594214081764,0.044395048171282));
res += mul(Get(s3,-dx,0), float4x4(-0.138377219438553,0.051693174988031,0.102258250117302,-0.079151362180710,-0.210775867104530,0.011300393380225,-0.044305808842182,0.042272094637156,0.191250622272491,0.033186312764883,-0.065567225217819,-0.036058370023966,0.126794025301933,-0.201722234487534,-0.190229296684265,-0.213061839342117));
res += mul(Get(s3,-dx,dy), float4x4(-0.092577539384365,-0.109056733548641,0.208013013005257,0.038873132318258,-0.142965421080589,0.078969180583954,-0.083459682762623,0.099721916019917,0.016740189865232,-0.086745455861092,-0.030367443338037,0.135067045688629,-0.032261893153191,-0.107075102627277,-0.090560160577297,-0.001214199932292));
res += mul(Get(s3,0,-dy), float4x4(0.016212984919548,-0.208717480301857,-0.048410061746836,-0.081948578357697,-0.166220843791962,0.197143584489822,0.098673291504383,-0.219510123133659,-0.143856033682823,0.076529569923878,-0.098150730133057,0.050527561455965,0.025381384417415,-0.099123269319534,-0.071486487984657,0.003878898452967));
res += mul(Get(s3,0,0), float4x4(0.147501572966576,0.156103208661079,0.060161095112562,-0.195569440722466,-0.018448475748301,0.089124873280525,-0.101880408823490,-0.064810611307621,0.057314354926348,0.044897988438606,0.017291411757469,0.021937055513263,-0.104365676641464,0.168581008911133,0.128044262528419,0.116714261472225));
res += mul(Get(s3,0,dy), float4x4(0.040598779916763,-0.008836792781949,0.025689857080579,-0.028653910383582,0.024534089490771,0.248512744903564,0.092268295586109,-0.010897479951382,-0.210503220558167,0.062116783112288,0.098188191652298,0.061076905578375,-0.014277443289757,-0.080156691372395,0.034768592566252,0.188702777028084));
res += mul(Get(s3,dx,-dy), float4x4(-0.154262304306030,-0.105052992701530,0.061769459396601,-0.014329653233290,-0.077991187572479,-0.096815757453442,0.046051889657974,-0.100863657891750,0.176519528031349,0.121134772896767,0.082238487899303,0.106341637670994,0.011290204711258,-0.111667133867741,-0.052300639450550,-0.007178025785834));
res += mul(Get(s3,dx,0), float4x4(0.101049348711967,-0.123209692537785,-0.034111902117729,-0.032933477312326,-0.125645518302917,-0.044350601732731,0.074633724987507,-0.003773209406063,0.107608243823051,-0.140553563833237,-0.007549105212092,0.044946718961000,-0.248537153005600,-0.006113061681390,0.118351764976978,0.079289667308331));
res += mul(Get(s3,dx,dy), float4x4(-0.090752847492695,-0.040464993566275,0.050014995038509,-0.017890252172947,-0.049007326364517,0.089448265731335,-0.234485492110252,0.003126180730760,-0.099867895245552,-0.189678505063057,0.033153962343931,-0.071782022714615,-0.000242279420490,0.036578912287951,0.046387493610382,0.094136603176594));
return max(float4(0,0,0,0), res);
}
