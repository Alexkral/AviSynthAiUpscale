sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.081825464963913,-0.019447296857834,-0.161107242107391,-0.026265909895301,0.121269538998604,0.291546553373337,-0.138241052627563,0.040272947400808,-0.174949049949646,0.111312985420227,0.010932087898254,-0.109103068709373,0.075411438941956,0.041718337684870,-0.196434214711189,0.028067603707314));
res += mul(Get(s0,-dx,0), float4x4(-0.184866666793823,-0.016518181189895,0.205406486988068,0.149180084466934,-0.254327833652496,-0.178191274404526,-0.073724120855331,0.013357582502067,-0.127930417656898,-0.027757264673710,0.048812460154295,0.090797044336796,0.011152022518218,0.062201511114836,0.156862795352936,-0.172334730625153));
res += mul(Get(s0,-dx,dy), float4x4(-0.024992750957608,0.118408970534801,-0.114417910575867,0.069595068693161,0.011190466582775,-0.179817900061607,0.003715069033206,-0.048528145998716,-0.142619684338570,0.019507994875312,0.016965910792351,0.080448366701603,-0.080116711556911,-0.011065903119743,-0.036342967301607,-0.246818184852600));
res += mul(Get(s0,0,-dy), float4x4(-0.068360529839993,-0.232203319668770,-0.143117815256119,0.220051273703575,-0.038566075265408,0.053823072463274,-0.026818580925465,-0.026193153113127,-0.175532087683678,-0.080800786614418,-0.187234789133072,0.170040160417557,0.205264270305634,-0.011921269819140,0.142415344715118,-0.297173202037811));
res += mul(Get(s0,0,0), float4x4(-0.080737441778183,0.077446885406971,-0.065591238439083,0.219292134046555,0.069787748157978,0.032266747206450,-0.058306679129601,0.020654493942857,-0.160124108195305,-0.001238254713826,0.002840704284608,0.082180142402649,0.247298493981361,0.105212613940239,-0.026578433811665,0.089784942567348));
res += mul(Get(s0,0,dy), float4x4(-0.072096139192581,0.158234968781471,-0.077263392508030,-0.125023171305656,0.109076872467995,0.098408222198486,0.064860709011555,0.120793975889683,0.019955482333899,-0.063890606164932,-0.012698062695563,0.126436635851860,-0.098831161856651,0.021596748381853,0.053090665489435,0.176077499985695));
res += mul(Get(s0,dx,-dy), float4x4(0.255235463380814,-0.062570773065090,-0.182113781571388,-0.128693222999573,-0.097810596227646,0.159302726387978,0.003800384001806,0.001436035730876,-0.040749963372946,0.074301742017269,0.184788793325424,-0.039169207215309,-0.003257911419496,0.169698476791382,-0.018988924100995,0.016945028677583));
res += mul(Get(s0,dx,0), float4x4(0.023476116359234,-0.153955563902855,-0.009092083200812,0.007189408876002,-0.041102096438408,0.023837355896831,0.005201732739806,-0.114099688827991,0.040306583046913,0.261314123868942,-0.022469742223620,-0.153671234846115,-0.069424569606781,-0.013266754336655,0.216560050845146,-0.050379093736410));
res += mul(Get(s0,dx,dy), float4x4(0.058785714209080,0.198698669672012,0.100547507405281,0.140537738800049,0.108557969331741,-0.008658771403134,0.143976569175720,-0.050872702151537,0.075996167957783,0.039289858192205,0.148360729217529,-0.120310962200165,-0.068072900176048,-0.038944248110056,0.092206418514252,0.232400551438332));
res += mul(Get(s1,-dx,-dy), float4x4(0.027045551687479,0.088175892829895,0.017621882259846,-0.130033403635025,0.223449468612671,-0.065348386764526,-0.180082783102989,0.060842871665955,0.101535275578499,-0.119837805628777,0.112375587224960,0.285022944211960,0.058623146265745,0.135915011167526,0.142664819955826,-0.098559573292732));
res += mul(Get(s1,-dx,0), float4x4(-0.040678922086954,0.125850334763527,-0.204351782798767,-0.267260670661926,0.000582929293159,0.011125567369163,0.006798583082855,0.097692005336285,-0.109585627913475,-0.089736245572567,-0.073783896863461,-0.032989203929901,-0.026458431035280,-0.018230715766549,-0.188065543770790,-0.098842047154903));
res += mul(Get(s1,-dx,dy), float4x4(-0.155045315623283,-0.113019421696663,0.013216912746429,0.105962961912155,0.064848378300667,0.003635380184278,0.018213963136077,0.020519889891148,0.017479825764894,-0.032754201442003,0.202338159084320,-0.059997294098139,-0.052501771599054,0.075565703213215,-0.130098685622215,0.021322451531887));
res += mul(Get(s1,0,-dy), float4x4(-0.128239974379539,-0.045653183013201,-0.059968836605549,-0.016456635668874,-0.011974699795246,0.263256311416626,0.051910299807787,0.057827763259411,0.262985676527023,-0.078168302774429,0.093971289694309,-0.066826350986958,-0.019477663561702,-0.020548418164253,-0.163969576358795,0.042782276868820));
res += mul(Get(s1,0,0), float4x4(-0.224547311663628,-0.005972373764962,-0.039510820060968,0.074963063001633,-0.032696537673473,0.098737858235836,0.029493190348148,0.027927400544286,0.016249010339379,0.113108500838280,0.205425336956978,-0.297121137380600,0.041889216750860,-0.092478409409523,-0.127093926072121,-0.030236134305596));
res += mul(Get(s1,0,dy), float4x4(-0.151783332228661,-0.014171194285154,-0.114904232323170,-0.134683728218079,-0.074484795331955,-0.002444038167596,-0.073417641222477,-0.046292323619127,-0.191558837890625,-0.038225617259741,0.168712779879570,-0.218727067112923,-0.065978176891804,-0.114986836910248,-0.120529808104038,0.007370563689619));
res += mul(Get(s1,dx,-dy), float4x4(0.086550749838352,0.238904476165771,0.052617680281401,0.223569944500923,-0.053890816867352,0.173636972904205,-0.140585079789162,-0.202697575092316,0.102827884256840,-0.099110081791878,-0.006164051592350,0.094283528625965,0.181510984897614,0.093645848333836,-0.146252170205116,-0.069295860826969));
res += mul(Get(s1,dx,0), float4x4(-0.024110909551382,-0.098288267850876,-0.029165742918849,-0.062595680356026,0.071419470012188,-0.014863115735352,-0.157371312379837,0.069620229303837,-0.101566731929779,0.168040335178375,-0.056839730590582,0.203702405095100,-0.192296475172043,-0.087571121752262,-0.139391541481018,0.004805333446711));
res += mul(Get(s1,dx,dy), float4x4(-0.142894968390465,-0.011411959305406,0.177798166871071,-0.067851550877094,-0.292784214019775,0.083644516766071,0.090332731604576,0.135944321751595,0.080456301569939,-0.144331485033035,-0.119148112833500,-0.141042992472649,-0.239614263176918,0.022130245342851,0.077862016856670,-0.046479865908623));
res += mul(Get(s2,-dx,-dy), float4x4(-0.019657386466861,-0.125483900308609,0.037621494382620,0.079955145716667,-0.208019688725471,0.052612863481045,-0.032914016395807,0.108393460512161,0.058848913758993,-0.071936912834644,0.080149531364441,-0.114240482449532,0.142186477780342,-0.199165329337120,-0.014926439151168,-0.139239251613617));
res += mul(Get(s2,-dx,0), float4x4(-0.037011455744505,0.157127678394318,-0.143718376755714,0.048980455845594,0.080164983868599,0.071034803986549,0.020273588597775,0.158786147832870,0.075376413762569,0.000258249783656,0.100566446781158,-0.000146073522046,-0.020269913598895,-0.061053823679686,-0.036999002099037,-0.057516150176525));
res += mul(Get(s2,-dx,dy), float4x4(-0.015901751816273,0.056293893605471,-0.042600516229868,-0.125050932168961,0.035859972238541,0.210116401314735,0.105057522654533,0.070107772946358,-0.056123729795218,0.063436225056648,-0.254527986049652,-0.200156182050705,0.078559473156929,-0.155864685773849,-0.005777928978205,-0.046089049428701));
res += mul(Get(s2,0,-dy), float4x4(0.166583284735680,0.107810586690903,-0.081510700285435,-0.044494725763798,0.023884223774076,-0.033503122627735,-0.103841744363308,-0.001921924180351,0.074917152523994,0.009598659351468,0.096019983291626,0.166498348116875,-0.091796055436134,0.197083726525307,-0.063101559877396,0.033355597406626));
res += mul(Get(s2,0,0), float4x4(0.041791427880526,0.138015240430832,-0.056234482675791,-0.118053935468197,-0.234318524599075,0.070713631808758,-0.009723288007081,-0.029702529311180,0.026746025308967,-0.095315530896187,-0.218198567628860,0.374105006456375,-0.094215959310532,0.183482140302658,-0.146886065602303,-0.118889965116978));
res += mul(Get(s2,0,dy), float4x4(0.100548312067986,0.008496475405991,-0.022951018065214,-0.109528996050358,-0.121281363070011,-0.111920371651649,0.037924949079752,0.338054776191711,-0.243383809924126,-0.108677633106709,0.063003696501255,0.076569847762585,-0.006437062285841,-0.013297398574650,-0.149966493248940,0.072003580629826));
res += mul(Get(s2,dx,-dy), float4x4(-0.068793855607510,-0.162365138530731,-0.162289291620255,-0.044448655098677,0.042886566370726,-0.001434671925381,-0.070623956620693,0.150653570890427,0.236103206872940,0.117551527917385,0.024513486772776,0.001039327471517,-0.139948368072510,-0.071760781109333,-0.092019341886044,-0.033492837101221));
res += mul(Get(s2,dx,0), float4x4(0.041164580732584,-0.282663792371750,-0.182853922247887,0.027380252256989,-0.052679162472486,0.029146395623684,-0.125056698918343,-0.183165073394775,0.000485072465381,-0.121217466890812,0.028556520119309,0.090906612575054,-0.032759040594101,0.166377529501915,-0.121464766561985,-0.081246994435787));
res += mul(Get(s2,dx,dy), float4x4(-0.174307465553284,0.236281871795654,-0.170464009046555,-0.176944524049759,0.063675500452518,-0.084628961980343,-0.092061169445515,0.095490604639053,-0.013878973200917,-0.143197372555733,0.052298679947853,-0.023255130276084,-0.021968372166157,0.305273920297623,-0.158682033419609,0.222302258014679));
res += mul(Get(s3,-dx,-dy), float4x4(-0.150394678115845,0.154582351446152,0.119383864104748,0.081613004207611,-0.091068848967552,0.053150817751884,-0.056304585188627,0.019642932340503,-0.176876559853554,-0.095801316201687,-0.016438128426671,0.024146413430572,-0.006527095101774,-0.077794335782528,0.033925421535969,-0.089629501104355));
res += mul(Get(s3,-dx,0), float4x4(0.045101173222065,0.101108133792877,-0.101420678198338,-0.008569157682359,0.274211406707764,0.074153542518616,0.003603599732742,-0.144251123070717,0.081186175346375,0.095336034893990,0.093779698014259,-0.157072469592094,0.001083628390916,-0.008773514069617,0.060445137321949,0.215397849678993));
res += mul(Get(s3,-dx,dy), float4x4(0.000600241473876,-0.037168275564909,-0.088535070419312,0.079899691045284,0.164145961403847,0.195393562316895,0.005649827886373,0.147197663784027,-0.099841415882111,0.086324147880077,0.010261978022754,-0.062678612768650,0.049140229821205,-0.030388198792934,-0.093898661434650,0.028512867167592));
res += mul(Get(s3,0,-dy), float4x4(0.186789467930794,0.088248811662197,0.071891784667969,0.039929907768965,0.101229339838028,0.169421672821045,0.111369125545025,-0.111800722777843,0.015395284630358,0.011661603115499,-0.073130071163177,-0.104114443063736,-0.036042682826519,0.086762472987175,0.067068696022034,-0.174143284559250));
res += mul(Get(s3,0,0), float4x4(-0.081192061305046,-0.052844632416964,-0.027845967561007,0.042710110545158,0.100571528077126,-0.015416830778122,0.012820223346353,0.081828959286213,0.008538559079170,0.151688262820244,0.227839156985283,-0.021148957312107,-0.028035895898938,-0.071440823376179,-0.137847855687141,-0.050989981740713));
res += mul(Get(s3,0,dy), float4x4(0.036783818155527,0.194273173809052,0.103829540312290,0.166705340147018,-0.159755289554596,-0.046856798231602,0.049920834600925,-0.140942752361298,0.147446855902672,0.134893164038658,-0.033699735999107,-0.097616508603096,0.020125739276409,-0.190202102065086,0.070024944841862,0.010962056927383));
res += mul(Get(s3,dx,-dy), float4x4(-0.093835465610027,0.046612989157438,-0.065811373293400,0.089132927358150,-0.039449144154787,0.142476812005043,0.032188139855862,0.028656171634793,0.001239557750523,0.179092049598694,0.163459286093712,0.264756947755814,-0.126977249979973,-0.080093480646610,-0.097366847097874,-0.051242921501398));
res += mul(Get(s3,dx,0), float4x4(0.203845605254173,-0.208091646432877,-0.045075628906488,0.132217451930046,-0.177268669009209,-0.110175423324108,-0.064617410302162,-0.062961734831333,-0.191145002841949,-0.110279515385628,0.018417790532112,0.179428756237030,0.034011047333479,-0.049067579209805,-0.058560062199831,-0.037568036466837));
res += mul(Get(s3,dx,dy), float4x4(-0.081735081970692,0.127016589045525,-0.043462421745062,0.023287065327168,-0.188003256917000,-0.104117915034294,0.140559449791908,-0.215330824255943,0.027383523061872,-0.169062048196793,-0.139458522200584,0.113728575408459,-0.049812421202660,-0.174979954957962,0.079667478799820,0.076276935636997));
return max(float4(0,0,0,0), res);
}
