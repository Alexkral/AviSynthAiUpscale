sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.152363285422325,0.037540588527918,-0.143123120069504,0.003282675752416,0.257263690233231,0.052029766142368,0.302366197109222,-0.038966096937656,-0.193391472101212,-0.098183058202267,-0.304912060499191,0.156164273619652,0.123807676136494,0.020728375762701,0.000485518801725,-0.110275253653526));
res += mul(Get(s0,-dx,0), float4x4(0.049374017864466,-0.075320027768612,0.092719808220863,0.011676062829792,0.045264732092619,0.223851650953293,0.098514415323734,0.006308413576335,0.139465913176537,0.125224456191063,-0.220463603734970,0.208350390195847,0.173202171921730,0.165281489491463,0.032654125243425,0.010117189027369));
res += mul(Get(s0,-dx,dy), float4x4(-0.104937739670277,0.117208711802959,-0.064796209335327,0.089538186788559,-0.222060129046440,-0.047455783933401,-0.005255361553282,-0.119042903184891,0.248498499393463,0.063331589102745,0.523304760456085,0.109879620373249,-0.023933149874210,-0.204557836055756,-0.181058123707771,0.081474281847477));
res += mul(Get(s0,0,-dy), float4x4(-0.103316225111485,0.073134355247021,-0.190927967429161,-0.173586547374725,0.130924403667450,-0.036959514021873,0.263467311859131,0.044471327215433,-0.136207401752472,-0.153616532683372,-0.035930335521698,-0.040974792093039,-0.113824196159840,0.044635254889727,-0.164333596825600,-0.167412608861923));
res += mul(Get(s0,0,0), float4x4(-0.117028072476387,-0.082304365932941,-0.008354108780622,-0.111226417124271,0.048129815608263,0.055570282042027,0.243029817938805,-0.049126766622066,-0.186392068862915,0.084298446774483,-0.277492880821228,-0.243357688188553,0.359003156423569,0.372781813144684,-0.049175806343555,-0.128677874803543));
res += mul(Get(s0,0,dy), float4x4(-0.188468590378761,0.194677695631981,-0.226323619484901,-0.043990612030029,-0.091051384806633,-0.091296479105949,-0.020954830572009,-0.142055362462997,0.316717565059662,-0.051570441573858,0.207084670662880,0.238317564129829,-0.186530813574791,-0.003203436033800,-0.089328989386559,0.046670600771904));
res += mul(Get(s0,dx,-dy), float4x4(-0.141193941235542,-0.065090551972389,-0.092761330306530,-0.172700256109238,0.018995990976691,0.059215325862169,0.165820434689522,0.055905003100634,0.016856608912349,-0.108681142330170,0.050589952617884,-0.027252256870270,-0.066806949675083,0.012277211062610,-0.247075855731964,-0.093488059937954));
res += mul(Get(s0,dx,0), float4x4(-0.135076075792313,-0.148606181144714,-0.007431217469275,-0.111364364624023,0.133642375469208,-0.134206503629684,0.198478683829308,0.133496582508087,-0.022276692092419,0.001435407670215,0.149563103914261,-0.126583665609360,-0.017957955598831,0.252095431089401,-0.214507237076759,-0.187351837754250));
res += mul(Get(s0,dx,dy), float4x4(-0.220680475234985,-0.041490547358990,-0.163514971733093,-0.094379641115665,0.064997091889381,-0.099819600582123,-0.053722243756056,-0.111763328313828,0.218176349997520,-0.016620606184006,0.062771372497082,-0.064579918980598,-0.000869404699188,0.124403961002827,-0.092814773321152,-0.133085742592812));
res += mul(Get(s1,-dx,-dy), float4x4(-0.103687189519405,-0.129471957683563,-0.233044698834419,-0.085711106657982,-0.024138834327459,-0.045752029865980,-0.001424048445188,-0.160600408911705,0.100122846662998,0.031416211277246,-0.009296302683651,0.081114619970322,-0.101391099393368,0.169621735811234,-0.036071721464396,-0.159428000450134));
res += mul(Get(s1,-dx,0), float4x4(0.022474693134427,0.019925152882934,-0.197436287999153,0.135810852050781,0.044590625911951,0.003929567057639,0.035756703466177,-0.195670008659363,-0.117501258850098,0.304774433374405,0.078455753624439,-0.070418089628220,-0.203342139720917,-0.042380280792713,-0.051364101469517,-0.131553426384926));
res += mul(Get(s1,-dx,dy), float4x4(-0.116534635424614,-0.015710979700089,-0.152101308107376,0.129427611827850,0.077986426651478,-0.015874207019806,0.290646791458130,-0.080857068300247,-0.106537699699402,0.009291269816458,-0.085152946412563,0.002394968178123,-0.193694934248924,0.197228625416756,0.011403235606849,-0.046203814446926));
res += mul(Get(s1,0,-dy), float4x4(-0.101813592016697,0.128298789262772,-0.074341043829918,0.243421480059624,-0.065761402249336,-0.082819305360317,0.055248547345400,-0.143529191613197,0.158434242010117,-0.100373104214668,0.096888653934002,0.236493155360222,0.116337366402149,0.066581562161446,0.178348243236542,-0.023111304268241));
res += mul(Get(s1,0,0), float4x4(0.108474053442478,0.195418477058411,-0.055625732988119,0.171646907925606,0.110679529607296,0.145334050059319,0.174967139959335,0.132380843162537,0.337184190750122,-0.057335484772921,-0.230302259325981,-0.042204156517982,-0.127289637923241,-0.104974567890167,0.196807563304901,-0.095697380602360));
res += mul(Get(s1,0,dy), float4x4(0.215535044670105,0.148980140686035,-0.187524542212486,0.248059511184692,0.146580189466476,-0.022270014509559,0.272160559892654,0.145615518093109,0.084799081087112,-0.110620737075806,-0.086151435971260,-0.180067047476768,-0.225843831896782,0.086086444556713,0.041506800800562,-0.139705643057823));
res += mul(Get(s1,dx,-dy), float4x4(0.049827218055725,0.031354013830423,0.071069926023483,0.181568175554276,-0.140979245305061,0.005950292106718,-0.110861673951149,-0.046054054051638,0.100582055747509,-0.045761670917273,0.292666524648666,0.093869127333164,0.083914406597614,0.161663919687271,0.038184668868780,-0.066644042730331));
res += mul(Get(s1,dx,0), float4x4(0.227982744574547,0.104569464921951,0.109853014349937,0.045703221112490,0.138812944293022,0.091808736324310,0.224449232220650,0.146266743540764,0.241704642772675,-0.073987811803818,0.345071256160736,0.254186213016510,-0.063256271183491,0.096075929701328,0.071018524467945,-0.065925642848015));
res += mul(Get(s1,dx,dy), float4x4(0.197989985346794,0.045280195772648,-0.031935155391693,0.071605578064919,0.137242212891579,-0.043889373540878,0.316263526678085,0.077420964837074,0.111079394817352,-0.086543060839176,0.226859092712402,-0.021424870938063,-0.104539208114147,0.202368274331093,-0.008109251968563,-0.041976742446423));
res += mul(Get(s2,-dx,-dy), float4x4(-0.143129289150238,-0.172145694494247,-0.013769796118140,0.063600651919842,-0.031199466437101,-0.241249829530716,0.150745928287506,0.027702523395419,-0.019473766908050,-0.191593363881111,-0.210405230522156,0.194226667284966,0.204426363110542,-0.069467030465603,-0.291038393974304,0.611875474452972));
res += mul(Get(s2,-dx,0), float4x4(0.098881945014000,-0.075941063463688,0.043717838823795,0.190111145377159,0.127773687243462,-0.094368673861027,0.184550046920776,0.129925787448883,0.048944920301437,-0.109022252261639,-0.116590142250061,-0.042826198041439,0.244897514581680,-0.222353667020798,-0.076633691787720,0.225022912025452));
res += mul(Get(s2,-dx,dy), float4x4(-0.037913125008345,0.018356537446380,0.374828845262527,0.458692312240601,-0.138608336448669,-0.091077230870724,0.176399931311607,0.258357405662537,0.039337050169706,-0.085905008018017,0.089409619569778,0.027543723583221,0.016053298488259,-0.078168511390686,0.146348312497139,0.013221000321209));
res += mul(Get(s2,0,-dy), float4x4(-0.049823503941298,-0.087883241474628,-0.079902760684490,-0.109502784907818,-0.137852981686592,0.019679103046656,0.070112809538841,-0.142920061945915,0.007186488714069,-0.128422111272812,-0.089001126587391,0.152192175388336,0.108147554099560,-0.096321024000645,0.091051653027534,0.346547514200211));
res += mul(Get(s2,0,0), float4x4(0.007733368314803,0.042437512427568,0.012050576508045,-0.022579098120332,-0.106296747922897,-0.130127415060997,0.152726680040359,-0.052466105669737,0.273881793022156,0.006826460361481,-0.177170157432556,0.105221621692181,-0.164477899670601,-0.086050488054752,0.144255951046944,-0.042227875441313));
res += mul(Get(s2,0,dy), float4x4(-0.069325774908066,0.358442276716232,0.194180771708488,-0.128241181373596,-0.187993437051773,-0.140560984611511,0.206285610795021,0.144826814532280,0.027353333309293,0.078927576541901,0.092498712241650,0.069213576614857,-0.047112710773945,0.072896279394627,0.076177738606930,-0.047797068953514));
res += mul(Get(s2,dx,-dy), float4x4(-0.000401999248425,-0.040370769798756,-0.016562528908253,-0.101723812520504,-0.057864852249622,-0.064993895590305,-0.091272167861462,-0.150800690054893,0.135836407542229,0.209426328539848,0.040164999663830,0.074679434299469,0.147266387939453,0.241287395358086,-0.173830553889275,0.090832598507404));
res += mul(Get(s2,dx,0), float4x4(-0.012883013114333,0.275864213705063,-0.087369285523891,-0.030492547899485,-0.100510925054550,0.137179166078568,-0.051756747066975,-0.062468323856592,0.119924709200859,-0.035344813019037,0.019932698458433,-0.026767505332828,0.162886366248131,0.271815538406372,0.098217912018299,0.069170229136944));
res += mul(Get(s2,dx,dy), float4x4(0.033059313893318,0.621622443199158,-0.017074836418033,-0.106732405722141,-0.216231331229210,0.047981880605221,0.032444681972265,0.045397851616144,0.329082995653152,0.035928841680288,0.717669963836670,0.059846796095371,0.047503590583801,0.190367400646210,0.068849362432957,-0.107611298561096));
res += mul(Get(s3,-dx,-dy), float4x4(-0.003052879590541,-0.112765304744244,0.011239954270422,-0.110057137906551,0.139396801590919,0.185990512371063,-0.118088297545910,-0.047575451433659,0.053834494203329,-0.183138087391853,0.187859326601028,-0.078636147081852,-0.054617874324322,-0.039456300437450,0.041029699146748,0.125044539570808));
res += mul(Get(s3,-dx,0), float4x4(-0.103822313249111,-0.074786596000195,-0.018685840070248,-0.120212443172932,0.068717993795872,0.185743287205696,-0.226948156952858,-0.129290655255318,0.153841346502304,-0.079288020730019,-0.221352711319923,0.096918895840645,-0.178878560662270,0.186189144849777,0.155493021011353,0.168020144104958));
res += mul(Get(s3,-dx,dy), float4x4(-0.229847162961960,0.045767579227686,-0.026651337742805,-0.005378804169595,0.024557700380683,0.004001135937870,-0.152009904384613,-0.244252830743790,-0.124753825366497,-0.219116061925888,-0.157789438962936,-0.230606019496918,-0.154808387160301,-0.030418395996094,-0.055574003607035,0.173489004373550));
res += mul(Get(s3,0,-dy), float4x4(-0.044739548116922,-0.053716860711575,0.120997488498688,-0.108325354754925,-0.008469899185002,0.075296334922314,0.086369648575783,-0.182071775197983,-0.131485059857368,-0.123752817511559,-0.035450514405966,-0.215595364570618,-0.035504907369614,0.183336719870567,0.256332516670227,0.123147241771221));
res += mul(Get(s3,0,0), float4x4(-0.063007533550262,-0.077538780868053,-0.058002073317766,0.052379585802555,-0.078740708529949,0.041562203317881,-0.108374752104282,-0.053209718316793,0.031327199190855,-0.171242803335190,0.075762607157230,0.088322579860687,-0.001548318425193,0.397710263729095,0.104974336922169,0.213257029652596));
res += mul(Get(s3,0,dy), float4x4(-0.064812190830708,-0.046593599021435,-0.011062025092542,0.043170295655727,-0.141849607229233,-0.134715616703033,-0.093372248113155,-0.251274466514587,-0.067428812384605,-0.100093178451061,0.165606960654259,0.414254039525986,-0.059217352420092,-0.020411031320691,0.153783068060875,0.065821200609207));
res += mul(Get(s3,dx,-dy), float4x4(-0.106667205691338,-0.097776070237160,0.096477910876274,-0.072585724294186,0.215878009796143,0.016716254875064,0.070914760231972,0.027630003169179,-0.060634072870016,0.114896126091480,-0.166472434997559,-0.234134718775749,-0.129582092165947,0.114065863192081,-0.046439152210951,-0.117676168680191));
res += mul(Get(s3,dx,0), float4x4(-0.192171737551689,-0.231460779905319,-0.003589425701648,-0.019476320594549,0.186079233884811,-0.104169532656670,-0.054726965725422,-0.087934926152229,-0.082865208387375,0.301116496324539,-0.409083873033524,-0.172928184270859,-0.067994773387909,0.234048843383789,0.038076143711805,0.116354256868362));
res += mul(Get(s3,dx,dy), float4x4(-0.274251550436020,-0.158975109457970,-0.032906129956245,-0.110426455736160,0.203117728233337,-0.228808462619781,-0.211902573704720,-0.224941819906235,-0.207874566316605,0.250763118267059,0.072145797312260,0.238732650876045,-0.193721815943718,-0.025008773431182,0.012789183296263,-0.118654377758503));
return max(float4(0,0,0,0), res);
}
