sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.136781230568886,-0.139545902609825,0.040769312530756,0.008462203666568,-0.051685519516468,-0.051320929080248,-0.181441664695740,0.141524761915207,-0.014929660595953,0.144293382763863,0.175925806164742,0.178503304719925,-0.061419427394867,-0.153141483664513,0.060549303889275,-0.011167201213539));
res += mul(Get(s0,-dx,0), float4x4(0.031858008354902,0.115826204419136,-0.109029859304428,-0.134190499782562,0.013219525106251,-0.133230790495872,0.134926855564117,-0.099225178360939,-0.101126827299595,-0.081952065229416,0.019035773351789,-0.128822878003120,0.057933904230595,0.004115501884371,-0.063424892723560,-0.124091073870659));
res += mul(Get(s0,-dx,dy), float4x4(0.190745264291763,0.156766206026077,0.029649961739779,-0.155957445502281,0.068837642669678,0.161168709397316,0.056218728423119,-0.001144530950114,-0.085418425500393,-0.003944728057832,-0.088164031505585,0.042696990072727,-0.121223159134388,-0.091577135026455,-0.006296182051301,0.046512834727764));
res += mul(Get(s0,0,-dy), float4x4(-0.010875254869461,-0.000915413955227,0.018681544810534,0.103212200105190,-0.124271251261234,0.135250404477119,0.009811739437282,0.110451646149158,-0.017730243504047,-0.030254773795605,0.057088349014521,0.009336082264781,0.000638893397991,-0.146896451711655,0.036403197795153,0.040461417287588));
res += mul(Get(s0,0,0), float4x4(0.076948933303356,-0.008692827075720,-0.025060519576073,0.033146321773529,0.149965301156044,0.101416252553463,-0.023666527122259,0.017954550683498,-0.183238714933395,0.055351130664349,0.015425351448357,-0.047364506870508,0.107571944594383,0.220822334289551,0.000887831498403,0.038667164742947));
res += mul(Get(s0,0,dy), float4x4(0.018151229247451,0.022022560238838,-0.042645815759897,0.023022809997201,-0.079407989978790,0.054218973964453,-0.067672908306122,0.023867130279541,0.080861210823059,0.201269909739494,-0.084142461419106,0.068363636732101,0.092350780963898,-0.202236860990524,-0.184211835265160,0.143762588500977));
res += mul(Get(s0,dx,-dy), float4x4(-0.177849993109703,0.041306119412184,-0.051600843667984,0.152615413069725,-0.164055019617081,-0.033151753246784,0.015208684839308,-0.000721182499547,-0.074091687798500,-0.147067293524742,-0.158807098865509,-0.040450293570757,-0.104080952703953,-0.047303706407547,0.031551774591208,-0.124734260141850));
res += mul(Get(s0,dx,0), float4x4(-0.193689391016960,0.045318923890591,0.057555582374334,0.015043701045215,-0.025088081136346,0.102193906903267,0.049348782747984,-0.122280217707157,-0.042775701731443,0.115824714303017,-0.143761441111565,0.116418980062008,-0.062654197216034,0.155992388725281,0.133467823266983,0.057444941252470));
res += mul(Get(s0,dx,dy), float4x4(-0.112755157053471,-0.009631770662963,0.075866691768169,0.182699650526047,0.194948911666870,0.158028408885002,-0.042876474559307,0.058062694966793,-0.015281330794096,-0.179816678166389,-0.049766924232244,0.177413761615753,0.075769871473312,0.007802816107869,0.157970979809761,-0.144809663295746));
res += mul(Get(s1,-dx,-dy), float4x4(-0.128105446696281,-0.054143249988556,-0.065894462168217,0.134266540408134,-0.082253932952881,0.092916376888752,0.238093405961990,0.175039827823639,0.030836675316095,0.030970437452197,0.030955068767071,0.037648789584637,0.030157577246428,0.066176533699036,0.067861028015614,0.195947557687759));
res += mul(Get(s1,-dx,0), float4x4(0.014217230491340,0.033750552684069,-0.127991631627083,-0.057091686874628,0.041653990745544,0.030340533703566,0.111113145947456,0.076835162937641,0.016686175018549,0.044936884194613,0.216431468725204,-0.126199200749397,-0.193391710519791,0.117749430239201,-0.090457379817963,-0.041292458772659));
res += mul(Get(s1,-dx,dy), float4x4(-0.080354630947113,0.051023926585913,0.007143088616431,0.082472518086433,0.050826203078032,0.101261101663113,0.119529142975807,-0.013836953788996,0.078324094414711,-0.031765457242727,-0.028837742283940,-0.058420017361641,0.031570322811604,0.190081492066383,0.086995773017406,0.036489434540272));
res += mul(Get(s1,0,-dy), float4x4(-0.154340416193008,0.128777295351028,0.177024573087692,-0.055915638804436,0.038834869861603,0.155436798930168,0.239798873662949,-0.091321170330048,0.004331728909165,-0.057744421064854,0.089572168886662,0.037317138165236,0.178435206413269,-0.024949187412858,-0.119249545037746,0.155635014176369));
res += mul(Get(s1,0,0), float4x4(0.100803218781948,-0.075588509440422,-0.133567497134209,0.052854970097542,-0.023118207231164,-0.061547316610813,-0.291076391935349,0.062451981008053,0.047232229262590,0.193141549825668,0.143687486648560,-0.092530816793442,-0.057747628539801,-0.035024747252464,0.034534767270088,0.033620826900005));
res += mul(Get(s1,0,dy), float4x4(-0.130496755242348,-0.170500636100769,-0.156502455472946,0.059048414230347,0.083896569907665,0.096534959971905,0.032175764441490,0.215246334671974,-0.168069407343864,0.072682514786720,-0.183334633708000,0.111129201948643,-0.001749195274897,-0.096988573670387,0.125458613038063,-0.095022469758987));
res += mul(Get(s1,dx,-dy), float4x4(-0.154442563652992,0.131335482001305,0.001161659834906,-0.224765941500664,0.118909455835819,0.096619769930840,0.080333031713963,0.113068073987961,-0.012612615711987,0.018813349306583,-0.032299213111401,-0.072369776666164,-0.157205149531364,-0.183126479387283,0.187181919813156,-0.103804588317871));
res += mul(Get(s1,dx,0), float4x4(0.022137077525258,-0.059821687638760,-0.211462438106537,-0.144699603319168,-0.065284140408039,-0.098787941038609,0.038351565599442,-0.038448229432106,0.104805693030357,-0.244819790124893,0.136550799012184,-0.065886847674847,-0.053676038980484,-0.144803315401077,-0.128622755408287,0.013150651939213));
res += mul(Get(s1,dx,dy), float4x4(-0.129431307315826,-0.011840457096696,0.012354236096144,-0.043986938893795,0.002519499277696,0.000327143876348,0.001453381497413,-0.195903047919273,-0.095072031021118,-0.041977263987064,-0.009860269725323,-0.044545132666826,0.006292385049164,0.002041853498667,0.108346901834011,-0.036259844899178));
res += mul(Get(s2,-dx,-dy), float4x4(0.013523689471185,0.059550806879997,-0.056483265012503,-0.116310238838196,0.035698544234037,0.061006687581539,-0.155629768967628,0.113916829228401,0.153466552495956,-0.152833327651024,0.148009449243546,0.028606997802854,-0.002300611697137,0.239834591746330,0.113348759710789,-0.103831619024277));
res += mul(Get(s2,-dx,0), float4x4(-0.011425707489252,-0.060357403010130,-0.002564331283793,0.027624839916825,-0.060774080455303,-0.021455127745867,-0.019034128636122,0.006891090422869,-0.022672640159726,0.186102554202080,0.196060135960579,0.037417531013489,-0.010407590307295,0.191067665815353,-0.161445096135139,0.094326525926590));
res += mul(Get(s2,-dx,dy), float4x4(0.092251852154732,-0.101713337004185,0.189360797405243,0.052845053374767,0.050270855426788,0.181977957487106,0.081466510891914,0.094666853547096,-0.056578826159239,0.191014572978020,-0.021874276921153,-0.045843433588743,-0.095506973564625,-0.117420658469200,-0.062314543873072,-0.100073315203190));
res += mul(Get(s2,0,-dy), float4x4(0.142954498529434,0.076908193528652,0.134936928749084,-0.108671568334103,0.323003441095352,-0.195982024073601,-0.004402193240821,-0.002273639198393,0.103854693472385,-0.019399845972657,0.178493157029152,-0.012450738810003,0.039415262639523,0.196035951375961,-0.154776006937027,-0.064132593572140));
res += mul(Get(s2,0,0), float4x4(-0.017004195600748,-0.104144699871540,-0.034719258546829,-0.152849271893501,0.181589066982269,-0.063707448542118,-0.127668887376785,0.165820121765137,0.120422743260860,0.098443120718002,-0.049121856689453,0.234413668513298,0.084656558930874,-0.160747826099396,-0.002563619753346,-0.216569036245346));
res += mul(Get(s2,0,dy), float4x4(0.135957017540932,-0.080762475728989,0.187445729970932,0.053583700209856,0.143622085452080,-0.035050116479397,-0.227078050374985,0.049151673913002,-0.077223397791386,0.006697375327349,-0.084888674318790,-0.138076677918434,-0.087924122810364,0.028801823034883,-0.098529867827892,-0.182109236717224));
res += mul(Get(s2,dx,-dy), float4x4(0.045400422066450,-0.173498034477234,0.130682975053787,-0.173649430274963,0.213144630193710,0.050624407827854,-0.118270136415958,0.087293349206448,-0.003893011948094,-0.108412444591522,-0.130847781896591,0.055588632822037,0.112522378563881,-0.093872658908367,-0.141838014125824,0.120162241160870));
res += mul(Get(s2,dx,0), float4x4(0.037373904138803,0.013351043686271,0.022695861756802,-0.009929331019521,0.052498418837786,0.069517761468887,0.024574501439929,0.115871392190456,-0.032718632370234,-0.073163680732250,0.120407626032829,-0.202098667621613,-0.023732664063573,-0.038989402353764,0.005675440654159,-0.085826292634010));
res += mul(Get(s2,dx,dy), float4x4(0.188174158334732,0.057536106556654,-0.064948976039886,0.009889644570649,0.065141230821609,0.165014788508415,0.178451970219612,0.012514491565526,0.150254234671593,0.164582207798958,-0.216857671737671,-0.157843098044395,-0.189228311181068,-0.139600709080696,0.017664736136794,-0.169749304652214));
res += mul(Get(s3,-dx,-dy), float4x4(-0.006731621455401,0.000854991725646,0.117040663957596,0.032540354877710,0.263666123151779,0.070245675742626,0.049961652606726,0.046893917024136,-0.201814964413643,0.084829114377499,0.068992227315903,0.050932247191668,0.057140111923218,0.217709451913834,0.009839951992035,0.022651668637991));
res += mul(Get(s3,-dx,0), float4x4(-0.111353464424610,-0.104852437973022,0.020693724974990,-0.015679083764553,-0.039620805531740,-0.107263058423996,-0.042486008256674,0.159939512610435,0.035030189901590,0.160050496459007,0.027930120006204,0.125595748424530,-0.067872412502766,0.203728869557381,-0.020596748217940,0.023824268952012));
res += mul(Get(s3,-dx,dy), float4x4(0.000697027542628,0.191036313772202,-0.244396448135376,-0.179754957556725,-0.043447077274323,-0.073422908782959,-0.105838082730770,0.099773593246937,-0.010765638202429,-0.031528819352388,0.082447089254856,-0.042778003960848,-0.060252916067839,0.014775021933019,-0.150294423103333,-0.046821951866150));
res += mul(Get(s3,0,-dy), float4x4(-0.250550061464310,0.178209736943245,0.110540859401226,0.014542094431818,0.318384498357773,0.086594685912132,-0.107442311942577,0.072460055351257,-0.010704370215535,0.052882451564074,0.031702712178230,-0.159924104809761,-0.067579999566078,0.210379138588905,-0.081885382533073,0.127092182636261));
res += mul(Get(s3,0,0), float4x4(-0.107250317931175,0.142482250928879,0.162617444992065,0.086117289960384,0.070944830775261,0.095726989209652,0.227830275893211,0.098577156662941,0.026895666494966,-0.011594848707318,0.250953525304794,0.039015069603920,-0.058396339416504,-0.104066804051399,-0.077641457319260,0.113589145243168));
res += mul(Get(s3,0,dy), float4x4(0.019820485264063,-0.128313824534416,0.062247119843960,-0.030026003718376,-0.097209773957729,0.199976280331612,-0.064454369246960,0.072704136371613,0.034795176237822,0.189934924244881,0.199485003948212,-0.014237942174077,0.000816849700641,0.013409683480859,-0.037324212491512,-0.116740867495537));
res += mul(Get(s3,dx,-dy), float4x4(0.053055062890053,-0.108348637819290,0.129725053906441,0.185564100742340,0.162070110440254,-0.267646163702011,-0.114643752574921,0.108369417488575,0.063602477312088,0.118272721767426,-0.011036001145840,-0.142623111605644,0.016816684976220,-0.091212213039398,-0.040721878409386,0.031646888703108));
res += mul(Get(s3,dx,0), float4x4(-0.081246294081211,-0.110165834426880,0.053797952830791,-0.031972650438547,-0.068901225924492,-0.038815956562757,0.000264084723312,0.126689195632935,-0.076983369886875,0.284154236316681,0.130304798483849,-0.040092531591654,-0.005608032923192,-0.067935101687908,-0.101333819329739,0.062786661088467));
res += mul(Get(s3,dx,dy), float4x4(-0.039460580796003,-0.024292921647429,0.061718720942736,-0.048658143728971,0.037919543683529,0.006137870252132,0.173793584108353,0.047362290322781,0.102327510714531,0.164807215332985,0.129340648651123,0.102204173803329,-0.042925622314215,-0.095098830759525,-0.270112544298172,-0.210904672741890));
return max(float4(0,0,0,0), res);
}
