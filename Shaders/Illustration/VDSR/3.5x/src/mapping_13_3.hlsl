sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.033843126147985,-0.068665482103825,0.271053224802017,0.097459807991982,-0.085375472903252,0.080933116376400,-0.151748627424240,0.185575753450394,-0.232540398836136,0.364591926336288,-0.055460322648287,0.047641661018133,-0.079765908420086,0.109358452260494,0.081772871315479,0.092639043927193));
res += mul(Get(s0,-dx,0), float4x4(0.174875721335411,-0.210626497864723,0.314451158046722,-0.027033947408199,-0.003990656230599,0.126057609915733,-0.082163333892822,0.036831408739090,-0.128263384103775,0.368697136640549,0.116694070398808,0.183389008045197,-0.013983320444822,0.068482421338558,0.173194214701653,0.029822010546923));
res += mul(Get(s0,-dx,dy), float4x4(-0.069097369909286,-0.145338386297226,0.178455695509911,-0.175374910235405,0.172898665070534,0.029659530147910,0.005860474426299,0.036482591181993,0.056669570505619,0.153419926762581,-0.146056547760963,0.134826377034187,-0.208811283111572,0.339765757322311,0.065774895250797,0.201185643672943));
res += mul(Get(s0,0,-dy), float4x4(0.203679621219635,-0.084454454481602,-0.070507235825062,-0.023721309378743,0.308860003948212,0.165166139602661,-0.182205215096474,0.008527384139597,0.120429247617722,0.035978484898806,0.080335706472397,0.017191493883729,0.033193632960320,0.019330006092787,0.034320164471865,-0.102823667228222));
res += mul(Get(s0,0,0), float4x4(0.207955867052078,-0.271270066499710,-0.087129622697830,-0.010697706602514,0.221591547131538,0.278970807790756,-0.102289311587811,0.035730637609959,-0.026925716549158,0.092893473803997,0.140359997749329,0.159248322248459,0.090553782880306,0.000933794421144,0.104450285434723,-0.092567890882492));
res += mul(Get(s0,0,dy), float4x4(-0.021823033690453,-0.176952436566353,-0.003019690979272,-0.034370020031929,0.245588898658752,0.224228993058205,-0.012527300044894,0.134305313229561,0.259702801704407,0.013645051047206,-0.044928781688213,0.027205651625991,0.039221949875355,-0.089556537568569,-0.025737749412656,-0.069016657769680));
res += mul(Get(s0,dx,-dy), float4x4(0.163139328360558,-0.007785547524691,-0.124045029282570,0.421258002519608,0.047768298536539,0.119912058115005,-0.175846695899963,0.073249392211437,0.054821826517582,0.012581398710608,0.030566146597266,-0.068965680897236,0.065148338675499,-0.092682912945747,0.114613302052021,-0.048725441098213));
res += mul(Get(s0,dx,0), float4x4(-0.108572274446487,-0.013628416694701,-0.080465316772461,0.074934147298336,0.196604266762733,0.156632795929909,-0.074000127613544,0.083608962595463,0.123638443648815,0.089923597872257,-0.013892770744860,0.054397732019424,-0.112237393856049,-0.057818941771984,0.196322128176689,0.142147377133369));
res += mul(Get(s0,dx,dy), float4x4(-0.197496131062508,-0.007329971995205,0.007005758583546,0.014237609691918,0.227397039532661,0.112493366003036,0.055681530386209,0.332754433155060,0.487766206264496,-0.144647896289825,-0.037262149155140,-0.086056396365166,-0.183012515306473,-0.051043797284365,0.087832383811474,0.301434516906738));
res += mul(Get(s1,-dx,-dy), float4x4(0.235354617238045,0.243244946002960,-0.028716150671244,0.305321186780930,0.115814849734306,-0.033436987549067,0.057456698268652,-0.261875391006470,-0.061128009110689,0.096222773194313,0.207279339432716,-0.054526951164007,0.026690155267715,0.174809023737907,-0.234600052237511,-0.139239981770515));
res += mul(Get(s1,-dx,0), float4x4(0.042335107922554,-0.016046129167080,-0.037528447806835,0.094871893525124,0.320035785436630,-0.206629544496536,-0.053819004446268,-0.104090735316277,0.215186506509781,0.100401245057583,0.135155498981476,-0.018120871856809,0.107538968324661,0.196449875831604,0.053700260818005,-0.222559690475464));
res += mul(Get(s1,-dx,dy), float4x4(0.074522465467453,-0.134562402963638,-0.047343466430902,0.018052784726024,0.552733957767487,-0.222042888402939,-0.152647897601128,-0.140032082796097,0.112609401345253,0.176742017269135,0.088926091790199,0.157389357686043,0.149813115596771,-0.052410576492548,-0.052606999874115,-0.113380528986454));
res += mul(Get(s1,0,-dy), float4x4(-0.025304190814495,0.279103726148605,-0.015838483348489,0.284172028303146,-0.190768286585808,0.139623567461967,-0.004426707047969,0.178329288959503,-0.002590212738141,0.103387646377087,0.176772683858871,0.133504331111908,0.165682137012482,0.215976461768150,-0.218278244137764,-0.104943908751011));
res += mul(Get(s1,0,0), float4x4(-0.002609019633383,0.114455103874207,-0.069192275404930,0.087468616664410,-0.438530862331390,0.117166154086590,-0.106907807290554,-0.114391371607780,0.297361254692078,0.137714996933937,0.206350952386856,0.113021999597549,0.279428869485855,0.390154153108597,-0.128843322396278,-0.004600345157087));
res += mul(Get(s1,0,dy), float4x4(0.148328319191933,-0.059634644538164,0.051838375627995,0.083366543054581,0.392947733402252,-0.163405165076256,-0.138334780931473,-0.192229002714157,0.103305153548717,0.022602103650570,0.045396927744150,0.205924287438393,0.599442183971405,0.059446088969707,0.054517287760973,-0.072006098926067));
res += mul(Get(s1,dx,-dy), float4x4(0.017647955566645,0.105508349835873,0.023454744368792,-0.019413851201534,-0.176463887095451,0.234521985054016,-0.079386733472347,0.201876595616341,-0.127331256866455,-0.034711413085461,0.200403273105621,-0.078588515520096,0.395353823900223,-0.036262888461351,-0.257531404495239,-0.014516121707857));
res += mul(Get(s1,dx,0), float4x4(-0.102792099118233,0.094401270151138,-0.161515772342682,-0.166959270834923,-0.107650786638260,0.244509398937225,-0.075737670063972,0.184940978884697,0.017447423189878,0.102215237915516,0.112699978053570,0.149752765893936,0.174637421965599,-0.127001479268074,-0.045724980533123,0.354072928428650));
res += mul(Get(s1,dx,dy), float4x4(0.122847162187099,-0.075912788510323,-0.010200754739344,-0.119903832674026,0.100189045071602,0.127808406949043,-0.073201172053814,0.036882862448692,-0.120345704257488,0.200542718172073,-0.005688479635864,0.138277485966682,0.121332198381424,-0.100590541958809,-0.124672859907150,0.509925901889801));
res += mul(Get(s2,-dx,-dy), float4x4(0.022224124521017,0.237491294741631,0.003711868543178,0.447443395853043,0.244369015097618,-0.142794668674469,0.164452120661736,-0.171933621168137,0.059725072234869,0.071639887988567,-0.067337960004807,-0.105471812188625,-0.018850600346923,0.267331779003143,-0.216267555952072,0.138897165656090));
res += mul(Get(s2,-dx,0), float4x4(-0.029920293018222,0.456386357545853,-0.008572829887271,0.118700750172138,-0.047680322080851,0.063578620553017,-0.032008726149797,0.056368339806795,0.179455175995827,0.103981710970402,0.065688498318195,-0.016476048156619,-0.086040668189526,0.200991630554199,-0.010626036673784,-0.069963209331036));
res += mul(Get(s2,-dx,dy), float4x4(-0.140903979539871,0.174730956554413,0.035601820796728,0.211827889084816,-0.066799178719521,0.107024386525154,0.161205634474754,-0.055627606809139,0.240211904048920,-0.426102042198181,-0.007172806188464,0.036638244986534,-0.231083363294601,0.120278142392635,-0.026847835630178,0.210579976439476));
res += mul(Get(s2,0,-dy), float4x4(0.187996983528137,0.255592197179794,0.035949952900410,0.034551296383142,-0.129109218716621,-0.270970970392227,-0.110964506864548,0.107593938708305,-0.019682351499796,0.269290000200272,-0.062005355954170,0.060338780283928,0.144675716757774,0.177721455693245,-0.092984676361084,0.095348097383976));
res += mul(Get(s2,0,0), float4x4(0.166220158338547,0.328256756067276,0.013375661335886,-0.127127230167389,-0.025991415604949,-0.094588294625282,-0.075307339429855,-0.181648552417755,0.210627540946007,0.119870990514755,0.071850478649139,0.308818131685257,-0.138013660907745,0.284858226776123,-0.054183725267649,0.061597146093845));
res += mul(Get(s2,0,dy), float4x4(0.004961016122252,-0.018775517120957,-0.027420284226537,-0.167083486914635,0.015173487365246,0.054976738989353,-0.040398117154837,0.147715702652931,0.078520789742470,-0.308271229267120,-0.100800096988678,0.126702830195427,-0.103483982384205,0.161749124526978,-0.031851209700108,0.127985119819641));
res += mul(Get(s2,dx,-dy), float4x4(0.026295525953174,0.149399235844612,0.056055948138237,-0.110594913363457,-0.081819519400597,-0.169060140848160,-0.185037210583687,0.209043547511101,-0.103379413485527,0.334149539470673,0.013308444991708,0.321323961019516,0.146400213241577,0.022591445595026,-0.190121918916702,-0.113108381628990));
res += mul(Get(s2,dx,0), float4x4(0.197299629449844,-0.049538869410753,0.059259343892336,0.136160239577293,-0.080116152763367,-0.299999415874481,-0.012415467761457,0.008671832270920,-0.036495655775070,0.080546699464321,0.308654218912125,0.400051057338715,0.195167347788811,0.310845583677292,-0.146536812186241,0.041271865367889));
res += mul(Get(s2,dx,dy), float4x4(-0.075535759329796,0.028430523350835,0.092677511274815,-0.188014984130859,0.037506755441427,-0.022293396294117,-0.101971916854382,-0.008028323762119,-0.055613704025745,-0.147439166903496,-0.063159540295601,0.167289361357689,0.169101357460022,0.164276450872421,-0.072733409702778,0.183624967932701));
res += mul(Get(s3,-dx,-dy), float4x4(0.021240500733256,-0.035890571773052,-0.228249847888947,0.601054012775421,0.045117434114218,0.014418326318264,0.299449473619461,-0.112854652106762,-0.041882596910000,-0.005625844001770,0.037730522453785,-0.235198408365250,0.256571859121323,-0.194725111126900,0.086463212966919,-0.248084858059883));
res += mul(Get(s3,-dx,0), float4x4(-0.202736303210258,0.502817690372467,-0.051412288099527,0.091910578310490,-0.041799440979958,-0.002177424263209,0.268370002508163,0.107418760657310,-0.046011023223400,-0.027417790144682,-0.138349264860153,-0.144273579120636,0.028975754976273,-0.203029394149780,0.138574764132500,-0.132816225290298));
res += mul(Get(s3,-dx,dy), float4x4(-0.259817689657211,0.136799946427345,0.174681484699249,-0.208957314491272,-0.024135563522577,-0.070584833621979,0.051263950765133,0.029205486178398,0.042935509234667,0.425907641649246,0.106921821832657,0.065549969673157,0.103745363652706,-0.027179462835193,0.066952519118786,0.110686101019382));
res += mul(Get(s3,0,-dy), float4x4(-0.061799369752407,0.013908307999372,-0.256512075662613,0.099207438528538,0.054955046623945,0.204003512859344,0.244850605726242,-0.136902749538422,0.139628902077675,-0.029261644929647,-0.074105739593506,-0.138972759246826,0.014452277682722,-0.174809515476227,-0.064310260117054,-0.169534787535667));
res += mul(Get(s3,0,0), float4x4(-0.270353883504868,0.452652543783188,-0.244905233383179,0.009132763370872,0.114307522773743,-0.158076003193855,-0.062954030930996,0.015756243839860,0.275033086538315,-0.151167824864388,0.106253117322922,-0.151694610714912,0.129793226718903,-0.205357864499092,-0.039492193609476,0.066540539264679));
res += mul(Get(s3,0,dy), float4x4(-0.220544308423996,0.298401623964310,0.179909840226173,0.478587448596954,0.053508926182985,-0.185133263468742,-0.141660362482071,-0.153932690620422,0.221674114465714,0.100105583667755,0.022883467376232,0.081859126687050,0.051659710705280,-0.017835533246398,0.171155333518982,0.053447626531124));
res += mul(Get(s3,dx,-dy), float4x4(0.084456160664558,0.058641027659178,-0.241359919309616,-0.145097553730011,-0.006782473530620,0.198563575744629,0.167910218238831,0.446791023015976,-0.008566435426474,-0.081500627100468,-0.277440547943115,0.021383538842201,0.181255325675011,0.013074922375381,-0.076797664165497,0.233788043260574));
res += mul(Get(s3,dx,0), float4x4(0.098093613982201,0.148247584700584,-0.312497973442078,-0.141022264957428,-0.029715500771999,0.033446010202169,0.147152543067932,0.412797957658768,0.135411977767944,-0.023202499374747,-0.046541698276997,0.061735287308693,-0.270581930875778,-0.000959087745287,-0.072767622768879,0.104094453155994));
res += mul(Get(s3,dx,dy), float4x4(0.062470611184835,0.142697155475616,0.149401485919952,0.670592308044434,0.317547768354416,-0.071740217506886,-0.157974600791931,-0.059021763503551,0.149616643786430,0.229799881577492,0.064560174942017,0.014270405285060,-0.095857292413712,0.164282128214836,-0.060525957494974,-0.008821305818856));
return max(float4(0,0,0,0), res);
}
