sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.073732689023018,-0.011061423458159,0.045050859451294,0.005634513683617,-0.159043684601784,0.079688183963299,-0.071793593466282,0.006999768782407,-0.095104783773422,0.018441986292601,-0.074268840253353,-0.015524748712778,-0.154627889394760,-0.183247610926628,-0.157329544425011,-0.066951900720596));
res += mul(Get(s0,-dx,0), float4x4(0.164540156722069,0.080880999565125,0.053572021424770,0.134576290845871,-0.079646348953247,0.172078937292099,-0.098446249961853,0.038729570806026,0.007589591201395,0.117040127515793,-0.033404495567083,0.158945664763451,-0.047302212566137,0.140620008111000,-0.031717609614134,-0.145531684160233));
res += mul(Get(s0,-dx,dy), float4x4(0.000208821278648,0.085482433438301,-0.028740176931024,-0.120507635176182,0.002579661551863,0.070320114493370,-0.074144043028355,-0.187066316604614,0.156780377030373,0.087983459234238,0.035367574542761,0.039235383272171,-0.063074707984924,-0.062365517020226,-0.032836180180311,-0.006418709643185));
res += mul(Get(s0,0,-dy), float4x4(0.020629409700632,-0.022748673334718,0.049929179251194,-0.088493943214417,-0.109864972531796,-0.041887626051903,-0.062333617359400,0.135043218731880,-0.043747514486313,-0.037191085517406,-0.000656461517792,-0.001032115891576,-0.053144425153732,-0.004802809562534,-0.034570038318634,-0.096002273261547));
res += mul(Get(s0,0,0), float4x4(0.110081270337105,-0.126364320516586,0.058074377477169,0.052405033260584,0.066169492900372,-0.041563339531422,-0.028906937688589,-0.030522249639034,0.001381269190460,-0.155499324202538,0.024056911468506,-0.046526491641998,-0.061252977699041,-0.291726142168045,-0.081748329102993,-0.072110287845135));
res += mul(Get(s0,0,dy), float4x4(-0.083422072231770,0.078854858875275,-0.121994175016880,-0.049953751266003,0.263397008180618,-0.052411518990993,0.027345495298505,-0.047252546995878,-0.060949716717005,-0.103693269193172,-0.022849744185805,0.013703699223697,0.035842496901751,0.041405387222767,-0.016537420451641,-0.042749412357807));
res += mul(Get(s0,dx,-dy), float4x4(-0.012960731051862,0.044502325356007,0.008421029895544,0.034350942820311,-0.148793578147888,-0.266344875097275,-0.122850902378559,-0.008131558075547,0.027550332248211,-0.039311606436968,0.109768144786358,0.002855235012248,0.030878050252795,-0.004795625340194,-0.009298129007220,-0.107971899211407));
res += mul(Get(s0,dx,0), float4x4(0.102739632129669,-0.040056005120277,0.022305266931653,0.058688256889582,0.189342692494392,-0.127175822854042,-0.091404907405376,-0.052009236067533,0.121404334902763,0.035707578063011,-0.022711401805282,0.031810063868761,-0.013551902957261,0.025649392977357,-0.091328687965870,-0.113837458193302));
res += mul(Get(s0,dx,dy), float4x4(-0.090605162084103,0.068457342684269,-0.002123384503648,0.049183838069439,0.014841457828879,0.016699284315109,0.030980387702584,0.155555382370949,-0.098372302949429,-0.000475436594570,-0.041245728731155,0.028054373338819,-0.020776970311999,-0.101296246051788,0.057246368378401,0.066831715404987));
res += mul(Get(s1,-dx,-dy), float4x4(0.044156990945339,-0.051386151462793,-0.021042361855507,-0.103814773261547,-0.106028772890568,-0.017442591488361,0.016773249953985,-0.060585230588913,-0.007166278548539,-0.067408435046673,0.049428779631853,0.068105332553387,-0.125492617487907,-0.003798975376412,-0.018868984654546,-0.041233930736780));
res += mul(Get(s1,-dx,0), float4x4(-0.021583717316389,-0.191970124840736,-0.008549435995519,-0.118459627032280,-0.096049748361111,0.019236983731389,-0.039547946304083,-0.033753067255020,0.031492430716753,0.034512747079134,0.010756130330265,0.055578432977200,-0.198675677180290,0.028945665806532,-0.143487051129341,0.178009256720543));
res += mul(Get(s1,-dx,dy), float4x4(-0.191713526844978,-0.101156339049339,-0.039319120347500,-0.156151756644249,-0.003900746349245,0.054628975689411,-0.156240060925484,0.023298334330320,0.087407939136028,-0.148457124829292,-0.053410179913044,0.109052136540413,-0.001165102119558,0.250804603099823,-0.008510405197740,-0.026204081252217));
res += mul(Get(s1,0,-dy), float4x4(0.071950860321522,-0.040800251066685,-0.027096927165985,0.000210082609556,-0.076845899224281,0.057142045348883,-0.120984092354774,0.044213615357876,-0.006589837837964,0.015814093872905,0.139675930142403,-0.039414774626493,-0.051550764590502,-0.065556935966015,-0.133203625679016,-0.092158220708370));
res += mul(Get(s1,0,0), float4x4(-0.090475283563137,-0.024464298039675,-0.015667209401727,-0.073423236608505,-0.006800823379308,0.082856163382530,-0.021022582426667,0.034268509596586,-0.069230213761330,0.035017505288124,-0.053092136979103,-0.008927749469876,0.295555382966995,-0.175390943884850,-0.054320409893990,-0.049383137375116));
res += mul(Get(s1,0,dy), float4x4(-0.078390985727310,0.176856443285942,-0.066344842314720,-0.056200828403234,0.116508826613426,-0.052501525729895,-0.146729469299316,-0.050358965992928,0.146510615944862,0.040748301893473,0.050744377076626,0.051064085215330,0.143555194139481,-0.016995722427964,-0.112919554114342,-0.225263580679893));
res += mul(Get(s1,dx,-dy), float4x4(-0.045168355107307,0.053076650947332,-0.193214759230614,-0.075764037668705,-0.092960484325886,0.050750110298395,-0.188828319311142,0.194748342037201,-0.029536720365286,0.047287181019783,0.001663242932409,-0.062175635248423,0.020243728533387,-0.103899329900742,-0.152656257152557,0.059125062078238));
res += mul(Get(s1,dx,0), float4x4(0.024974033236504,0.029059693217278,-0.052334114909172,-0.067743659019470,-0.104780107736588,-0.193224266171455,-0.205031558871269,-0.156362980604172,-0.033463750034571,0.045273851603270,-0.106419250369072,-0.008892613463104,0.024262538179755,-0.022489251568913,0.094404108822346,-0.141112118959427));
res += mul(Get(s1,dx,dy), float4x4(0.044036075472832,0.073318980634212,-0.194225236773491,-0.040074311196804,0.133623614907265,-0.263094216585159,-0.323597282171249,-0.242024406790733,-0.119057744741440,-0.020356969907880,-0.034344479441643,-0.029628206044436,0.031776025891304,0.098034620285034,-0.239645466208458,-0.053820282220840));
res += mul(Get(s2,-dx,-dy), float4x4(0.059317640960217,-0.029922066256404,-0.081958644092083,0.181652307510376,0.096526868641376,0.207555890083313,-0.034723378717899,0.140371441841125,-0.002887462032959,0.026127578690648,0.048544798046350,-0.057328380644321,-0.047161072492599,-0.131879106163979,-0.082934603095055,-0.074563749134541));
res += mul(Get(s2,-dx,0), float4x4(0.124226197600365,-0.146410390734673,-0.056535508483648,-0.013314822688699,0.080791123211384,0.138856843113899,0.077481076121330,0.187327712774277,0.027310920879245,-0.083343081176281,0.265400111675262,-0.072986848652363,0.044341366738081,-0.067672602832317,0.146527454257011,-0.039620433002710));
res += mul(Get(s2,-dx,dy), float4x4(-0.046869888901711,0.068607077002525,0.116302184760571,-0.049960795789957,0.284487396478653,0.168217599391937,0.072466455399990,0.030913062393665,-0.034095183014870,0.066517494618893,-0.067605212330818,0.108460582792759,-0.112194031476974,0.070556744933128,0.004782130476087,0.000318770267768));
res += mul(Get(s2,0,-dy), float4x4(-0.158548876643181,-0.252408444881439,0.005051698535681,0.026071630418301,-0.202839285135269,-0.050954692065716,-0.090814232826233,-0.047986492514610,0.097595751285553,0.026382919400930,0.071927532553673,0.031204164028168,-0.215857118368149,0.066884815692902,-0.088372811675072,-0.001204559346661));
res += mul(Get(s2,0,0), float4x4(-0.005787780508399,-0.200136154890060,0.114860527217388,0.096615411341190,-0.150345683097839,-0.037590656429529,0.019884411245584,0.130938977003098,-0.035819794982672,0.028443912044168,-0.003925743047148,-0.036821801215410,0.025720659643412,0.043387349694967,0.059857055544853,-0.129521861672401));
res += mul(Get(s2,0,dy), float4x4(-0.075564809143543,-0.137544915080070,0.142332360148430,0.094907015562057,0.189130067825317,-0.082947276532650,0.030198860913515,-0.140398651361465,-0.108346641063690,-0.038775928318501,-0.014063675887883,-0.067566990852356,0.020673803985119,0.015269570052624,0.102100513875484,-0.102140396833420));
res += mul(Get(s2,dx,-dy), float4x4(0.064852342009544,-0.197090163826942,0.026459895074368,0.012971099466085,-0.189551562070847,-0.131235092878342,-0.070801503956318,-0.074080459773540,-0.128188908100128,-0.074337475001812,-0.004728471394628,0.041238002479076,-0.070385091006756,-0.043113902211189,-0.042833395302296,-0.022139746695757));
res += mul(Get(s2,dx,0), float4x4(-0.098842442035675,-0.182289123535156,0.020680969581008,-0.002940853592008,0.015536073595285,-0.128220900893211,-0.040867805480957,0.080462045967579,-0.009937153197825,0.114606864750385,-0.099447444081306,0.043080069124699,0.187622278928757,-0.097403928637505,0.024833425879478,-0.056035775691271));
res += mul(Get(s2,dx,dy), float4x4(0.016706125810742,-0.045739203691483,-0.070947580039501,-0.272264063358307,-0.038936976343393,0.056751508265734,0.013274104334414,-0.066537857055664,0.020408060401678,0.004661317914724,-0.217993080615997,0.116065360605717,-0.066242530941963,-0.091339148581028,0.062366809695959,-0.222984179854393));
res += mul(Get(s3,-dx,-dy), float4x4(-0.257207661867142,-0.027806941419840,-0.226135253906250,0.000522529357113,0.045833904296160,-0.110832631587982,-0.049110412597656,0.039170783013105,-0.084546849131584,-0.035858266055584,0.048788387328386,-0.061564065515995,-0.209629505872726,0.144441664218903,-0.100783601403236,0.328759819269180));
res += mul(Get(s3,-dx,0), float4x4(-0.261486679315567,0.099323198199272,0.002901843981817,-0.170875385403633,-0.033307395875454,0.168807774782181,0.031585860997438,-0.005162579473108,-0.120099715888500,0.095858797430992,-0.008063812740147,0.009177776984870,-0.050723813474178,0.216992422938347,-0.040428280830383,0.013027879409492));
res += mul(Get(s3,-dx,dy), float4x4(-0.055433426052332,0.186004355549812,-0.024932764470577,0.133072450757027,-0.068344369530678,-0.040018752217293,-0.105659671127796,-0.062570951879025,-0.139633715152740,0.136052906513214,0.026517251506448,-0.239798247814178,-0.079095795750618,0.343971520662308,-0.189414426684380,-0.013661237433553));
res += mul(Get(s3,0,-dy), float4x4(-0.083244301378727,-0.210064619779587,-0.018939519301057,0.086209490895271,0.136742606759071,-0.201945498585701,-0.168524473905563,-0.089955434203148,0.039886154234409,0.034876421093941,0.057199109345675,-0.039298843592405,-0.163716793060303,0.045561954379082,-0.091409295797348,0.145498007535934));
res += mul(Get(s3,0,0), float4x4(0.120769359171391,-0.162858024239540,0.073798254132271,0.110697112977505,-0.043429490178823,-0.063802123069763,0.023975515738130,0.052166048437357,-0.002740851370618,0.000404068850912,-0.033912993967533,0.078827790915966,-0.129175722599030,0.014527737163007,-0.055777702480555,0.022745009511709));
res += mul(Get(s3,0,dy), float4x4(0.113605126738548,-0.131795674562454,-0.026992462575436,0.084816835820675,-0.002309042727575,-0.061801321804523,-0.017901340499520,-0.120685741305351,-0.002791601000354,0.099452026188374,0.003820654237643,0.012617642059922,0.067237637937069,0.085801742970943,-0.122965946793556,-0.277111589908600));
res += mul(Get(s3,dx,-dy), float4x4(-0.026792909950018,-0.279320716857910,-0.079441413283348,-0.112953796982765,-0.121726796030998,0.028197538107634,0.078684926033020,-0.042246740311384,-0.071728900074959,-0.009100805036724,0.069082304835320,-0.013156884349883,-0.081034056842327,-0.085248485207558,-0.041605394333601,-0.040247902274132));
res += mul(Get(s3,dx,0), float4x4(0.071346394717693,-0.114553742110729,0.209261044859886,-0.016038604080677,-0.094378121197224,-0.049202904105186,-0.017114574089646,-0.033798631280661,-0.066269353032112,0.152817547321320,0.180179178714752,-0.016373543068767,-0.084724716842175,-0.032340917736292,-0.007669279817492,-0.066162496805191));
res += mul(Get(s3,dx,dy), float4x4(-0.138321653008461,-0.055888839066029,-0.056518193334341,-0.116909541189671,-0.115768596529961,0.178955674171448,-0.060103822499514,-0.138475626707077,-0.103211164474487,0.116947650909424,0.035554934293032,0.052204724401236,0.109448909759521,-0.008523049764335,-0.136811450123787,-0.158270657062531));
return max(float4(0,0,0,0), res);
}
