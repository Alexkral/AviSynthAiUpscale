sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.032055590301752,-0.057054653763771,0.064812079071999,-0.098661698400974,-0.155274942517281,-0.092267408967018,-0.053204327821732,-0.103494763374329,0.014458898454905,-0.119224369525909,-0.116323918104172,-0.094527840614319,0.027745185419917,-0.049313910305500,0.248808816075325,-0.049318660050631));
res += mul(Get(s0,-dx,0), float4x4(0.039657723158598,-0.051431346684694,0.054537288844585,-0.074779272079468,-0.209613934159279,-0.200509861111641,-0.229301631450653,0.056021638214588,-0.020387100055814,0.222026050090790,0.017033545300364,0.016386291012168,-0.071310065686703,-0.057347662746906,-0.005953915882856,0.031755641102791));
res += mul(Get(s0,-dx,dy), float4x4(-0.115077562630177,0.112820006906986,-0.109637081623077,-0.154167234897614,0.062282491475344,-0.065263926982880,-0.147579848766327,0.056397087872028,-0.121526189148426,0.098420843482018,0.010977864265442,-0.003835533512756,-0.139299407601357,0.142201885581017,-0.044774599373341,0.110704235732555));
res += mul(Get(s0,0,-dy), float4x4(-0.156798943877220,-0.026979774236679,-0.144561946392059,-0.041254848241806,-0.010419758036733,0.147853732109070,0.072546705603600,0.041019730269909,0.088417969644070,0.010631268844008,0.122079648077488,-0.164933755993843,0.085130162537098,-0.050007600337267,0.025774374604225,0.021048195660114));
res += mul(Get(s0,0,0), float4x4(0.044958297163248,0.090916864573956,0.269814491271973,-0.128187313675880,-0.113094218075275,-0.083379991352558,-0.107999578118324,-0.041634723544121,0.016829472035170,0.080746226012707,0.003705888986588,-0.016264991834760,0.053283896297216,0.005493904929608,-0.053211443126202,0.168707296252251));
res += mul(Get(s0,0,dy), float4x4(0.014513856731355,-0.002775048371404,0.071532413363457,-0.039634332060814,0.186339601874352,0.087311714887619,-0.084128923714161,-0.029126897454262,0.109711162745953,-0.103064686059952,0.168924316763878,-0.019226022064686,0.133271008729935,0.287834465503693,0.001368067576550,0.058973457664251));
res += mul(Get(s0,dx,-dy), float4x4(0.012831363826990,-0.073442004621029,-0.209608182311058,0.009959404356778,-0.196087658405304,0.094373129308224,0.097124814987183,-0.052522737532854,-0.071182526648045,0.036251507699490,-0.165848836302757,-0.130382239818573,0.011405510827899,0.030424654483795,-0.001653753337450,-0.152742519974709));
res += mul(Get(s0,dx,0), float4x4(-0.083998553454876,-0.003081388538703,-0.171563759446144,0.052686519920826,-0.075201697647572,0.246598854660988,-0.055527172982693,0.039864584803581,-0.009159822948277,-0.030586237087846,0.107116945087910,-0.026085807010531,-0.076689258217812,-0.009126070886850,0.056807201355696,-0.000722042866983));
res += mul(Get(s0,dx,dy), float4x4(-0.091151662170887,0.069662891328335,-0.155474826693535,0.124833412468433,-0.125376984477043,-0.072281330823898,-0.078881636261940,-0.189838662743568,0.033643428236246,-0.200903683900833,0.067891143262386,0.178318381309509,0.246843785047531,0.212145715951920,0.107457540929317,-0.180652841925621));
res += mul(Get(s1,-dx,-dy), float4x4(-0.097142584621906,0.142737120389938,0.143134534358978,-0.067127190530300,-0.185723379254341,0.006515306886286,-0.017639605328441,0.052945178002119,-0.034845810383558,-0.044835772365332,0.081953227519989,-0.095708899199963,0.255046665668488,0.001060620532371,0.031648363918066,-0.010256306268275));
res += mul(Get(s1,-dx,0), float4x4(-0.030374011024833,-0.060520391911268,0.243515491485596,-0.002850623568520,0.149729594588280,0.177612259984016,-0.172481164336205,0.036735892295837,-0.157151132822037,-0.041485249996185,0.032235953956842,-0.019482031464577,0.168595910072327,0.010032125748694,-0.302360147237778,0.066220514476299));
res += mul(Get(s1,-dx,dy), float4x4(0.050103027373552,-0.024176098406315,0.090574584901333,0.361867785453796,0.126294389367104,0.125845953822136,-0.256639659404755,-0.124196931719780,-0.070584625005722,-0.002114966744557,-0.023894438520074,-0.156488910317421,0.034917935729027,-0.188626438379288,-0.214466556906700,-0.064631305634975));
res += mul(Get(s1,0,-dy), float4x4(0.112943336367607,0.010760999284685,0.074133053421974,-0.124391146004200,-0.093787692487240,0.026212653145194,0.038957238197327,-0.150528490543365,0.034718200564384,-0.029216166585684,0.026374103501439,0.083463527262211,-0.066940508782864,-0.018450584262609,-0.077674709260464,-0.080164596438408));
res += mul(Get(s1,0,0), float4x4(0.055228702723980,-0.169210031628609,-0.020993033424020,-0.107863336801529,-0.125002682209015,0.147726565599442,0.121299199759960,-0.071164980530739,-0.079705737531185,0.212860792875290,0.067786157131195,0.043977625668049,0.103149749338627,-0.084528237581253,-0.007560126949102,-0.201281338930130));
res += mul(Get(s1,0,dy), float4x4(0.131876260042191,0.077026903629303,-0.168686568737030,0.106830149888992,-0.069808833301067,-0.039821766316891,-0.169186919927597,0.047702841460705,0.035415187478065,0.178737536072731,0.021849414333701,0.034115165472031,0.106403917074203,-0.142510086297989,-0.178404569625854,-0.156867429614067));
res += mul(Get(s1,dx,-dy), float4x4(-0.094669409096241,-0.004472706001252,-0.008741314522922,0.126276895403862,0.065349817276001,-0.068863600492477,0.026546629145741,-0.066767476499081,-0.121620081365108,-0.031801264733076,0.091865621507168,0.128872811794281,-0.048291649669409,0.021421134471893,0.028957981616259,0.133591383695602));
res += mul(Get(s1,dx,0), float4x4(-0.074266672134399,0.093951389193535,-0.038407690823078,-0.021962108090520,0.157376632094383,0.151702180504799,-0.061451144516468,0.170668929815292,0.196694388985634,0.024975515902042,-0.245185926556587,-0.075101487338543,0.207320824265480,-0.113398976624012,-0.074881106615067,0.249880358576775));
res += mul(Get(s1,dx,dy), float4x4(-0.127318933606148,0.031279556453228,-0.043454699218273,0.079527497291565,-0.062118977308273,0.124087631702423,0.153362423181534,-0.159908875823021,-0.008185334503651,-0.064348891377449,0.078854791820049,0.116216309368610,-0.079651147127151,-0.082529626786709,0.057947803288698,0.125499024987221));
res += mul(Get(s2,-dx,-dy), float4x4(-0.021359102800488,0.049993608146906,-0.271263569593430,-0.068008564412594,0.090205378830433,0.067583099007607,0.019790790975094,-0.103887028992176,-0.170626923441887,-0.061345007270575,0.003882905468345,0.129862651228905,-0.008761717006564,-0.055148523300886,-0.017399733886123,-0.115860715508461));
res += mul(Get(s2,-dx,0), float4x4(-0.159805849194527,0.047524858266115,0.020523020997643,0.000149413128383,0.035266298800707,0.000205151169212,-0.138954967260361,0.031286913901567,0.068228840827942,-0.197855502367020,-0.044539336115122,-0.187519609928131,0.050166830420494,-0.081072174012661,0.055545493960381,0.177910447120667));
res += mul(Get(s2,-dx,dy), float4x4(-0.028156092390418,0.129857122898102,-0.017928143963218,-0.017134143039584,0.087428838014603,0.093393050134182,-0.239695623517036,-0.088173985481262,-0.099975191056728,-0.076240099966526,-0.124156057834625,-0.100208617746830,0.069759458303452,0.137627929449081,-0.262437433004379,0.153833314776421));
res += mul(Get(s2,0,-dy), float4x4(-0.007665055338293,-0.106330566108227,0.042652055621147,0.058989785611629,-0.122741922736168,-0.116291530430317,-0.096796512603760,0.016545347869396,-0.160985425114632,0.074045173823833,-0.086843766272068,0.252730816602707,0.080206222832203,0.026579774916172,-0.080890946090221,-0.170294910669327));
res += mul(Get(s2,0,0), float4x4(-0.181962952017784,0.121201731264591,-0.138956964015961,-0.033834069967270,0.033434592187405,0.093860834836960,0.188169464468956,0.126196965575218,-0.174312248826027,-0.117372617125511,0.017364963889122,0.058176070451736,-0.078386187553406,-0.014160376042128,0.330478101968765,-0.081259533762932));
res += mul(Get(s2,0,dy), float4x4(-0.042729917913675,0.003982450813055,-0.145546644926071,0.121215894818306,-0.008405160158873,-0.150045543909073,-0.098233208060265,-0.194057762622833,0.030135231092572,0.018325652927160,0.264942467212677,-0.249134331941605,-0.049151714891195,-0.226260617375374,-0.272260814905167,0.012752323411405));
res += mul(Get(s2,dx,-dy), float4x4(-0.035253394395113,-0.002174135530367,0.034284219145775,0.198438256978989,-0.129418641328812,-0.004002683795989,0.123217917978764,0.024135746061802,-0.060237690806389,-0.044501703232527,-0.117419347167015,0.104220040142536,0.102122388780117,-0.228053510189056,0.006123379804194,-0.133339926600456));
res += mul(Get(s2,dx,0), float4x4(-0.113797970116138,-0.170370563864708,0.020873405039310,0.087261967360973,0.036102648824453,0.013081565499306,-0.047396313399076,-0.212981089949608,-0.187352746725082,-0.052008725702763,0.060642145574093,0.184832111001015,0.076427184045315,-0.103000044822693,0.079530663788319,-0.020529141649604));
res += mul(Get(s2,dx,dy), float4x4(-0.151177197694778,-0.044639166444540,0.008847374469042,0.063846297562122,0.115944162011147,0.110920511186123,0.029835747554898,-0.081561625003815,0.007935167290270,-0.181579798460007,-0.038319982588291,-0.137065246701241,-0.126077458262444,0.077018499374390,-0.115510724484921,-0.102600030601025));
res += mul(Get(s3,-dx,-dy), float4x4(-0.034380961209536,-0.033284604549408,-0.027834948152304,-0.100405342876911,-0.194854423403740,0.056739088147879,0.085690438747406,0.038929775357246,-0.047818925231695,-0.153713956475258,0.047751665115356,0.135659903287888,-0.202616572380066,-0.037324503064156,0.215298816561699,-0.320900350809097));
res += mul(Get(s3,-dx,0), float4x4(0.064702600240707,0.130453646183014,0.229045704007149,-0.006883945781738,-0.107724823057652,-0.184840574860573,-0.077913053333759,-0.133940652012825,-0.085207454860210,-0.108824692666531,-0.092400982975960,0.161968752741814,-0.084987625479698,0.027100877836347,0.266987055540085,0.104286164045334));
res += mul(Get(s3,-dx,dy), float4x4(-0.075434155762196,0.042956437915564,0.068924129009247,-0.112099096179008,-0.119694262742996,-0.082159355282784,0.051186621189117,0.318645328283310,-0.123590126633644,-0.153107941150665,0.099288977682590,0.062490072101355,0.053469177335501,-0.055264677852392,-0.016829023137689,0.021877046674490));
res += mul(Get(s3,0,-dy), float4x4(-0.161305546760559,-0.152702689170837,0.139774337410927,0.092656962573528,-0.010149531997740,0.067538894712925,-0.062584832310677,0.079493768513203,0.008834324777126,0.141592472791672,0.003971949219704,0.051338776946068,0.146580740809441,-0.120901934802532,-0.059043720364571,0.142899081110954));
res += mul(Get(s3,0,0), float4x4(-0.023924970999360,-0.018030844628811,0.166089758276939,-0.043638654053211,-0.175790160894394,0.113356113433838,-0.129510387778282,0.306810468435287,-0.063123837113380,0.074852846562862,0.068592473864555,0.128670468926430,-0.211012557148933,0.015571082942188,-0.248092040419579,0.071012094616890));
res += mul(Get(s3,0,dy), float4x4(-0.126093059778214,0.266741663217545,0.075975187122822,-0.083790332078934,-0.066778346896172,0.050584636628628,0.126516714692116,0.064139105379581,-0.087930634617805,-0.034917019307613,-0.093697778880596,0.235788270831108,-0.031181955710053,-0.033875413239002,-0.102511897683144,0.001815494615585));
res += mul(Get(s3,dx,-dy), float4x4(0.010825844481587,0.039469256997108,0.138362154364586,-0.035357028245926,-0.049348097294569,-0.025609953328967,-0.079444490373135,0.055132962763309,-0.000334119918989,-0.058073759078979,-0.195794612169266,0.231073707342148,0.187556847929955,-0.003942724782974,0.115290418267250,-0.127919167280197));
res += mul(Get(s3,dx,0), float4x4(0.026418505236506,0.037598099559546,-0.000980107928626,0.144036486744881,0.117382973432541,-0.088302209973335,-0.029043922200799,0.091279380023479,0.102505944669247,-0.198955833911896,-0.022279340773821,-0.021797575056553,-0.023338738828897,0.130282267928123,-0.104155004024506,-0.256920665502548));
res += mul(Get(s3,dx,dy), float4x4(-0.088055267930031,-0.012659002095461,0.145070552825928,0.069685027003288,0.106191195547581,0.157203808426857,-0.066374167799950,0.236813783645630,-0.150423094630241,-0.066363453865051,0.092959150671959,-0.140807986259460,-0.171054765582085,-0.050261657685041,-0.098118163645267,-0.187149047851563));
return max(float4(0,0,0,0), res);
}
