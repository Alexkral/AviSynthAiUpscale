sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.034982737153769,-0.113951243460178,-0.013648200780153,0.231243208050728,0.145898774266243,0.045224700123072,-0.063522905111313,0.026318037882447,-0.098402217030525,-0.181269854307175,0.067691370844841,0.051042295992374,0.020764717832208,0.019722124561667,0.032008163630962,0.076954983174801));
res += mul(Get(s0,-dx,0), float4x4(-0.185927212238312,0.002545186551288,-0.209234088659286,-0.037653870880604,0.058021981269121,-0.015115366317332,0.138073921203613,-0.062810204923153,-0.022691803053021,-0.153854891657829,-0.097737692296505,-0.063220813870430,0.111457414925098,-0.208311289548874,0.135822743177414,0.156322658061981));
res += mul(Get(s0,-dx,dy), float4x4(-0.121604867279530,0.028673896566033,-0.194099977612495,0.035341586917639,0.003602399956435,0.105495899915695,-0.074416734278202,-0.073797717690468,0.202074825763702,0.036672942340374,0.227780267596245,-0.046318605542183,-0.088994570076466,-0.013757348060608,0.017949588596821,0.029774228110909));
res += mul(Get(s0,0,-dy), float4x4(-0.085922338068485,0.246397465467453,-0.059330914169550,0.035313706845045,-0.015569049865007,0.135619461536407,-0.149265140295029,0.153657764196396,0.037115830928087,0.223529830574989,0.057740792632103,-0.079633086919785,-0.182092353701591,0.198518678545952,0.098849423229694,0.141044646501541));
res += mul(Get(s0,0,0), float4x4(0.175737038254738,-0.056362658739090,0.101327359676361,0.068955011665821,-0.013397408649325,-0.052841439843178,-0.164240375161171,-0.109627090394497,-0.172047957777977,0.166034415364265,0.196505904197693,0.052274405956268,-0.057804003357887,-0.164766371250153,0.090993694961071,0.025212129577994));
res += mul(Get(s0,0,dy), float4x4(-0.106016196310520,-0.070966958999634,0.018886804580688,0.195575311779976,0.134372800588608,-0.113770693540573,-0.000702582183294,-0.120422706007957,0.121207274496555,-0.016359232366085,0.041797775775194,0.014134902507067,0.150303974747658,-0.017623821273446,-0.074391297996044,0.046627826988697));
res += mul(Get(s0,dx,-dy), float4x4(0.203962311148643,0.063645131886005,-0.019251143559813,0.021241595968604,-0.009522062726319,0.096453949809074,0.028385737910867,0.002228522207588,0.112751983106136,-0.098958738148212,-0.014176896773279,0.012037444859743,0.085882328450680,-0.170291081070900,-0.097984872758389,-0.309735298156738));
res += mul(Get(s0,dx,0), float4x4(0.195156559348106,-0.049106024205685,0.027244895696640,0.138214185833931,-0.031328696757555,0.048387207090855,0.164949938654900,-0.157194152474403,0.155775144696236,0.036651816219091,0.155313208699226,-0.044659018516541,-0.046533275395632,0.004045720212162,-0.074981667101383,-0.072439163923264));
res += mul(Get(s0,dx,dy), float4x4(0.042072270065546,-0.017010105773807,0.110872566699982,0.110244475305080,-0.201886951923370,-0.004934835247695,0.064063660800457,-0.156739816069603,-0.146349981427193,0.065870299935341,0.145003944635391,0.056700594723225,0.018387304618955,0.100810714066029,0.058316301554441,-0.065806396305561));
res += mul(Get(s1,-dx,-dy), float4x4(0.038745876401663,0.081805460155010,-0.106725558638573,0.199077859520912,0.007890948094428,0.120652124285698,0.047961834818125,0.015102168545127,-0.236720412969589,0.011942564509809,-0.020826894789934,0.036950986832380,-0.049015261232853,0.054960675537586,-0.153774559497833,-0.083976812660694));
res += mul(Get(s1,-dx,0), float4x4(0.097753606736660,-0.160719975829124,-0.053914163261652,0.047207780182362,-0.148847073316574,-0.027805551886559,0.104937791824341,0.014748179353774,0.040528822690248,-0.091248005628586,-0.189597606658936,-0.029598440974951,-0.054897211492062,-0.100064702332020,-0.152021482586861,0.075588621199131));
res += mul(Get(s1,-dx,dy), float4x4(0.037110537290573,-0.072060778737068,-0.004299745429307,-0.009915065020323,-0.177460044622421,-0.075430810451508,0.038290441036224,-0.137150526046753,0.129813641309738,-0.078812055289745,-0.221843987703323,-0.043926101177931,-0.033085700124502,-0.161664307117462,0.125517711043358,0.021360326558352));
res += mul(Get(s1,0,-dy), float4x4(-0.192004010081291,0.009612457826734,0.168871000409126,-0.113481752574444,-0.015652080997825,0.027938432991505,0.187915369868279,0.079063072800636,-0.193651720881462,-0.053213447332382,0.031578306108713,-0.035061549395323,0.048497121781111,0.130403354763985,0.164800241589546,-0.195198819041252));
res += mul(Get(s1,0,0), float4x4(-0.081250891089439,-0.113325126469135,0.109807513654232,-0.046689204871655,0.106756910681725,0.005713078193367,-0.015040060505271,0.069909058511257,0.180789232254028,0.108286976814270,0.068828396499157,-0.099106512963772,0.056216597557068,0.039041597396135,0.061662089079618,0.242630168795586));
res += mul(Get(s1,0,dy), float4x4(0.051606427878141,0.108224816620350,0.064313448965549,0.014856552705169,-0.065268546342850,0.002980543300509,-0.067877694964409,0.043683670461178,-0.011324963532388,-0.152702346444130,-0.028787478804588,-0.127810627222061,0.038681291043758,0.230664968490601,-0.026158498600125,0.061626937240362));
res += mul(Get(s1,dx,-dy), float4x4(0.013821409083903,0.134166404604912,-0.092910915613174,-0.222288563847542,-0.094564795494080,0.097807824611664,-0.166134804487228,-0.220599055290222,0.075733102858067,0.157670944929123,0.324124872684479,-0.175952389836311,0.005962573923171,-0.202073529362679,0.050028491765261,0.019160987809300));
res += mul(Get(s1,dx,0), float4x4(-0.142287075519562,-0.101172134280205,0.141994357109070,0.054585941135883,-0.038065128028393,-0.090587951242924,-0.014031926169991,0.146329462528229,0.257060706615448,-0.018702575936913,0.132867902517319,0.085843451321125,0.031481947749853,-0.059307552874088,-0.027326691895723,0.102503947913647));
res += mul(Get(s1,dx,dy), float4x4(-0.063813038170338,0.025711754336953,-0.072785228490829,0.016103653237224,-0.037138957530260,-0.001732893870212,0.048091318458319,0.136811643838882,-0.078554674983025,-0.213868871331215,-0.017288858070970,-0.165927439928055,0.031415440142155,-0.129293859004974,0.157484278082848,0.076460391283035));
res += mul(Get(s2,-dx,-dy), float4x4(0.024385502561927,-0.218532875180244,0.013884960673749,0.320407032966614,-0.032369263470173,0.050536591559649,-0.258618324995041,0.010547164827585,-0.282452076673508,-0.025772823020816,0.021060695871711,0.009773678146303,0.168308392167091,0.089519798755646,0.382383048534393,-0.053415369242430));
res += mul(Get(s2,-dx,0), float4x4(-0.116833515465260,-0.136052206158638,-0.141419768333435,0.266666501760483,-0.055152233690023,-0.024091254919767,0.049264427274466,-0.070300020277500,0.116736717522144,-0.133485376834869,0.061046086251736,-0.059407446533442,-0.013829557225108,0.133136481046677,-0.253432631492615,-0.069243930280209));
res += mul(Get(s2,-dx,dy), float4x4(0.091113269329071,0.067017398774624,0.114955015480518,-0.206762775778770,0.055821869522333,-0.135284349322319,0.145000904798508,-0.267102271318436,0.028196245431900,-0.076462864875793,0.157940775156021,0.111722640693188,-0.145736366510391,0.009684695862234,0.006167536601424,0.207320511341095));
res += mul(Get(s2,0,-dy), float4x4(-0.014195391908288,0.101330913603306,-0.029591023921967,-0.133574530482292,0.058865830302238,-0.034315396100283,0.038897577673197,0.148039266467094,-0.121470257639885,0.056630291044712,-0.090688861906528,-0.047951675951481,-0.128837406635284,0.006871523335576,0.127554222941399,-0.029010966420174));
res += mul(Get(s2,0,0), float4x4(0.132984846830368,-0.008504257537425,-0.026991531252861,0.101992622017860,-0.080152109265327,0.037436712533236,0.123469687998295,-0.015601037070155,0.041187860071659,-0.001832948531955,-0.045024126768112,0.041315630078316,-0.056271523237228,0.032883454114199,-0.061665564775467,0.120055295526981));
res += mul(Get(s2,0,dy), float4x4(-0.045856710523367,0.030284522101283,-0.099288806319237,-0.074854038655758,-0.037177473306656,0.233462631702423,-0.009133877232671,-0.134059101343155,0.189178034663200,-0.029968723654747,-0.077612116932869,-0.120846785604954,0.142203330993652,-0.125695481896400,0.021219639107585,-0.022567393258214));
res += mul(Get(s2,dx,-dy), float4x4(-0.144362449645996,0.223149970173836,0.207281306385994,-0.117486827075481,-0.073318719863892,-0.089742466807365,0.160973936319351,0.051509629935026,0.003696001833305,-0.011589938774705,0.004221315961331,0.110621325671673,0.102140039205551,-0.054091107100248,-0.028131270781159,-0.105908818542957));
res += mul(Get(s2,dx,0), float4x4(-0.140262901782990,-0.023605322465301,-0.039117619395256,-0.252032160758972,0.032055959105492,0.031330958008766,-0.130531191825867,-0.051509022712708,-0.005237746518105,0.054286528378725,-0.136257499456406,-0.105203151702881,0.068826459348202,0.165915682911873,-0.097862154245377,-0.008294234983623));
res += mul(Get(s2,dx,dy), float4x4(0.157120332121849,-0.028550146147609,0.032393675297499,0.015786789357662,-0.008719487115741,-0.045466110110283,0.115716628730297,-0.147664606571198,-0.193222135305405,0.078888997435570,-0.028394261375070,-0.003143119160086,0.088299252092838,-0.087900578975677,0.150146469473839,-0.149096831679344));
res += mul(Get(s3,-dx,-dy), float4x4(-0.124901004135609,0.161069750785828,-0.134628400206566,-0.016138937324286,-0.241302490234375,0.062971815466881,0.102212220430374,-0.032771237194538,0.026656117290258,-0.107986509799957,-0.049354892224073,-0.034291055053473,-0.079288765788078,0.168721348047256,0.015643060207367,-0.027368323877454));
res += mul(Get(s3,-dx,0), float4x4(-0.053830582648516,0.001707010203972,-0.016315115615726,0.025250097736716,-0.162134543061256,-0.032261576503515,0.121598385274410,-0.000687273393851,0.085787758231163,-0.281645774841309,-0.024426111951470,0.038532108068466,0.060079306364059,-0.024078356102109,-0.093103446066380,-0.039635326713324));
res += mul(Get(s3,-dx,dy), float4x4(0.137178182601929,-0.109543800354004,0.026972211897373,-0.027141109108925,0.088980048894882,-0.195290774106979,0.000172739557456,-0.204534709453583,-0.008443975821137,0.007051092572510,0.067591175436974,0.018148189410567,-0.111644126474857,0.033734429627657,0.312190115451813,0.134011611342430));
res += mul(Get(s3,0,-dy), float4x4(0.021321056410670,-0.078770928084850,-0.065873041749001,0.068536818027496,-0.091115780174732,0.042997404932976,-0.064886644482613,0.024196369573474,-0.013418366201222,-0.080104500055313,-0.168755650520325,0.104066126048565,0.015998737886548,-0.121749699115753,-0.193847015500069,0.135198086500168));
res += mul(Get(s3,0,0), float4x4(-0.127021640539169,0.041125074028969,0.100403256714344,0.031125819310546,-0.081875577569008,0.018500564619899,-0.009215666912496,0.203928992152214,0.065119519829750,-0.015235069207847,-0.142487823963165,-0.072276160120964,-0.112082481384277,-0.003583406563848,0.008612146601081,0.002505449578166));
res += mul(Get(s3,0,dy), float4x4(0.162425383925438,-0.098363511264324,-0.016095794737339,0.019368408247828,-0.268839240074158,-0.128985971212387,-0.123463615775108,-0.079988725483418,-0.254447102546692,0.053046692162752,0.016798710450530,0.090048894286156,-0.026705384254456,-0.046938430517912,-0.145168304443359,-0.090856574475765));
res += mul(Get(s3,dx,-dy), float4x4(0.057016901671886,0.115397036075592,-0.144177660346031,-0.024698788300157,0.056737679988146,-0.078113779425621,0.037238776683807,-0.009461532346904,0.076452493667603,0.092382341623306,-0.013377441093326,-0.183289170265198,-0.143331408500671,-0.109641380608082,0.028967505320907,-0.059092223644257));
res += mul(Get(s3,dx,0), float4x4(-0.209266513586044,0.121637687087059,-0.044909868389368,0.026490975171328,0.088382691144943,-0.146881714463234,0.110151916742325,0.129901364445686,0.073175467550755,-0.006131115369499,-0.059654615819454,0.071500860154629,0.006116840988398,0.095522828400135,-0.061954695731401,0.111682720482349));
res += mul(Get(s3,dx,dy), float4x4(-0.015619199723005,-0.077346161007881,0.116254448890686,0.082479797303677,0.034871671348810,0.088974028825760,0.173892542719841,-0.029742458835244,0.014419510960579,0.058474570512772,-0.046124845743179,0.108908973634243,-0.015158853493631,-0.088525719940662,-0.080038428306580,0.150838494300842));
return max(float4(0,0,0,0), res);
}
