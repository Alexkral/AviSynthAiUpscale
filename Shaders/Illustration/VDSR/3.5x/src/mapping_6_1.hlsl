sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.220043733716011,-0.161562234163284,-0.183440670371056,0.444979161024094,-0.196289345622063,0.009744577109814,0.024514017626643,-0.035125780850649,-0.198609665036201,-0.090204343199730,0.084964156150818,0.218127503991127,0.050716899335384,0.078507691621780,-0.320699036121368,-0.034847278147936));
res += mul(Get(s0,-dx,0), float4x4(-0.154083609580994,0.031532235443592,-0.306122869253159,-0.077826380729675,-0.154427677392960,-0.044537082314491,-0.056246623396873,0.024007638916373,-0.150849431753159,-0.180436357855797,0.210771992802620,-0.034002065658569,0.071856923401356,-0.007468270137906,-0.177645936608315,-0.160226061940193));
res += mul(Get(s0,-dx,dy), float4x4(-0.117806941270828,-0.187363803386688,-0.005938820075244,-0.192166611552238,-0.187416896224022,-0.150260984897614,0.180197939276695,-0.055191196501255,-0.155202701687813,-0.047393500804901,0.101075910031796,0.002374287461862,-0.097667276859283,-0.172743365168571,-0.177160456776619,-0.142521455883980));
res += mul(Get(s0,0,-dy), float4x4(-0.234218820929527,-0.142337337136269,0.067091360688210,0.152261674404144,0.002716572256759,-0.087487928569317,0.207610487937927,0.160129934549332,0.026359407231212,-0.030145812779665,0.022853272035718,0.093291297554970,0.055263202637434,0.174399733543396,-0.228544220328331,-0.094397582113743));
res += mul(Get(s0,0,0), float4x4(-0.124556444585323,0.073610022664070,0.162747666239738,0.145406097173691,-0.134559407830238,-0.182653069496155,0.258019179105759,0.314200341701508,0.138241603970528,-0.140989169478416,0.100144654512405,0.032921962440014,0.067909508943558,0.039017207920551,-0.013960215263069,-0.116600498557091));
res += mul(Get(s0,0,dy), float4x4(0.015306632034481,0.038226507604122,0.316561996936798,-0.015454391948879,-0.078805990517139,-0.114963702857494,0.353383690118790,0.213857114315033,-0.045485500246286,-0.255363374948502,0.076422952115536,0.077130593359470,-0.096032612025738,-0.201443716883659,-0.166477337479591,-0.107230901718140));
res += mul(Get(s0,dx,-dy), float4x4(-0.280416935682297,-0.113879427313805,-0.050837807357311,-0.071557857096195,0.112866528332233,0.014856708236039,0.117667540907860,0.258023262023926,-0.126425400376320,-0.104981668293476,0.120576173067093,-0.288833767175674,-0.064673170447350,0.096325784921646,-0.105082437396049,-0.060075037181377));
res += mul(Get(s0,dx,0), float4x4(-0.079001292586327,-0.098928935825825,0.141027778387070,0.073674067854881,0.085198178887367,-0.073888294398785,0.285945087671280,-0.000794119376224,-0.086769729852676,-0.128100246191025,-0.133111268281937,0.008944875560701,0.157018944621086,0.194969534873962,-0.128057375550270,0.024575492367148));
res += mul(Get(s0,dx,dy), float4x4(-0.009829276241362,-0.008248254656792,0.401706755161285,-0.033666677772999,-0.087957054376602,-0.100413210690022,0.003432451747358,0.165173232555389,-0.181964665651321,-0.140838071703911,-0.004587810952216,0.045085441321135,-0.107893407344818,0.027686672285199,-0.121726498007774,-0.103402957320213));
res += mul(Get(s1,-dx,-dy), float4x4(-0.168227687478065,-0.123953111469746,-0.124750055372715,-0.163569912314415,0.308994591236115,0.094224825501442,-0.043542850762606,0.090737581253052,0.366274356842041,-0.055298294872046,-0.391685336828232,0.086385272443295,-0.131196171045303,0.181420400738716,0.042318396270275,-0.139645159244537));
res += mul(Get(s1,-dx,0), float4x4(-0.234405100345612,-0.030091267079115,-0.097167998552322,-0.172578319907188,0.034492935985327,0.000676316674799,-0.041616361588240,-0.049278251826763,0.093844108283520,-0.122768297791481,-0.113459192216396,-0.034944362938404,0.106064558029175,-0.129923477768898,0.078637555241585,-0.186948969960213));
res += mul(Get(s1,-dx,dy), float4x4(0.067157231271267,0.097951576113701,0.015456554479897,-0.229748129844666,0.029525049030781,-0.120669886469841,-0.109362930059433,-0.064161852002144,0.200766652822495,0.009067702107131,-0.011930081062019,-0.112808555364609,0.025476118549705,0.178064867854118,-0.097058705985546,-0.040375962853432));
res += mul(Get(s1,0,-dy), float4x4(0.048648409545422,0.090165950357914,-0.114835694432259,-0.041505023837090,0.088417582213879,0.192982971668243,-0.059421572834253,-0.103143855929375,0.021084187552333,0.126026317477226,-0.247133061289787,-0.070256851613522,-0.176066458225250,0.081701949238777,0.083455003798008,-0.120795860886574));
res += mul(Get(s1,0,0), float4x4(0.002275001723319,0.003980388864875,-0.069059468805790,-0.043403852730989,-0.086029961705208,0.107974283397198,-0.028673533350229,-0.026253294199705,-0.003576200688258,0.087081715464592,0.033264260739088,-0.027049293741584,0.089567415416241,0.071224324405193,-0.081467092037201,-0.092907756567001));
res += mul(Get(s1,0,dy), float4x4(0.281277388334274,0.027181578800082,-0.029548835009336,-0.164457395672798,-0.022245811298490,-0.171180233359337,-0.038886729627848,-0.089841738343239,0.028067065402865,-0.079116113483906,-0.027242718264461,-0.069184377789497,-0.036945037543774,0.014718308113515,-0.176533252000809,-0.175114870071411));
res += mul(Get(s1,dx,-dy), float4x4(-0.000607955735177,-0.012928681448102,-0.112109519541264,-0.101619631052017,-0.046042300760746,0.151429682970047,-0.132763475179672,0.227940306067467,-0.054326660931110,0.026285961270332,-0.006592584773898,-0.104888975620270,-0.057904042303562,0.017674228176475,0.101186409592628,-0.190460249781609));
res += mul(Get(s1,dx,0), float4x4(0.011025976389647,0.077588982880116,-0.121618755161762,-0.115692950785160,-0.189001619815826,0.074022844433784,-0.040181905031204,0.360157757997513,-0.057625457644463,0.047470830380917,0.010200573131442,-0.004969316534698,-0.023207342252135,0.005661178845912,-0.088857449591160,-0.130759060382843));
res += mul(Get(s1,dx,dy), float4x4(0.404101669788361,0.115771695971489,-0.037347149103880,-0.203100949525833,-0.052070721983910,-0.152219727635384,-0.097075395286083,0.149300023913383,-0.128884553909302,0.046347063034773,0.023498112335801,0.003923437092453,0.120421744883060,-0.096173852682114,-0.126306265592575,-0.076916597783566));
res += mul(Get(s2,-dx,-dy), float4x4(-0.098719634115696,-0.052843026816845,-0.008895222097635,0.053981482982635,-0.085684642195702,-0.316634893417358,0.010211476124823,0.055867020040751,0.083435684442520,-0.075873799622059,0.070559479296207,-0.113318853080273,0.186718523502350,0.089707501232624,-0.019284944981337,-0.140937477350235));
res += mul(Get(s2,-dx,0), float4x4(0.210654199123383,-0.088616020977497,0.085691206157207,-0.141456082463264,-0.146516472101212,-0.177610218524933,-0.056998029351234,-0.050052635371685,0.044516593217850,0.053503263741732,0.102867335081100,0.263569682836533,0.122203759849072,0.132264375686646,-0.039583444595337,-0.120919920504093));
res += mul(Get(s2,-dx,dy), float4x4(-0.102982565760612,0.111568965017796,0.126141875982285,-0.119891524314880,0.009164089336991,0.017898716032505,-0.059714473783970,-0.008255559951067,-0.142198354005814,-0.070466384291649,0.066311590373516,0.343634337186813,-0.099840342998505,-0.119676098227501,-0.176180019974709,-0.253966003656387));
res += mul(Get(s2,0,-dy), float4x4(0.029044061899185,-0.009410496801138,-0.117480672895908,0.060303300619125,-0.112125128507614,-0.228562444448471,-0.150347635149956,0.192538946866989,-0.009754826314747,0.052432637661695,0.166490703821182,-0.128161877393723,0.170514434576035,0.365936070680618,-0.200397580862045,0.053796689957380));
res += mul(Get(s2,0,0), float4x4(0.286056160926819,-0.161442458629608,-0.038052432239056,-0.110872097313404,-0.252415210008621,-0.282059460878372,-0.153787449002266,0.401872128248215,0.151250436902046,0.121219262480736,0.144888266921043,-0.007217270787805,0.078808575868607,0.240828633308411,-0.021487034857273,-0.064370952546597));
res += mul(Get(s2,0,dy), float4x4(0.163260728120804,0.020510151982307,-0.030710557475686,-0.052175607532263,-0.054183509200811,-0.228469654917717,-0.053617734462023,-0.044474311172962,-0.122399553656578,-0.036885511130095,-0.002726183505729,0.244806379079819,-0.121616967022419,-0.080895394086838,-0.044842317700386,-0.113785408437252));
res += mul(Get(s2,dx,-dy), float4x4(0.107982046902180,0.090760715305805,0.010138062760234,0.034643311053514,-0.142166778445244,-0.093676008284092,0.065509207546711,-0.172839537262917,0.076859869062901,-0.171636149287224,0.144337132573128,0.004830209538341,-0.092387355864048,0.281436562538147,-0.217303067445755,0.101829595863819));
res += mul(Get(s2,dx,0), float4x4(0.354523718357086,0.016905475407839,0.191856920719147,-0.059529721736908,-0.322971433401108,-0.116537339985371,0.107193164527416,0.010603724047542,0.118108749389648,0.086001366376877,0.077240265905857,-0.077875591814518,-0.100891686975956,0.274165809154510,-0.068797536194324,-0.054236453026533));
res += mul(Get(s2,dx,dy), float4x4(-0.064654991030693,-0.007987132295966,0.071988821029663,-0.030938440933824,-0.325051903724670,-0.379858791828156,0.309760361909866,-0.049772903323174,-0.137235298752785,0.045818503946066,-0.159412279725075,0.104509308934212,-0.171478256583214,0.164361089468002,-0.061718206852674,-0.224822193384171));
res += mul(Get(s3,-dx,-dy), float4x4(-0.005274078808725,0.180438339710236,-0.177856624126434,0.192938953638077,-0.308298200368881,0.086086355149746,-0.168474018573761,-0.190435066819191,-0.099447652697563,0.105468697845936,0.182608142495155,-0.019352627918124,0.073760725557804,0.075075611472130,0.008626478724182,0.031159032136202));
res += mul(Get(s3,-dx,0), float4x4(0.062253043055534,0.103156730532646,-0.007725737988949,0.256543308496475,0.001042722724378,-0.117185182869434,-0.226637214422226,-0.167554125189781,0.185398831963539,0.059737306088209,0.192428737878799,-0.048011496663094,0.074759915471077,-0.005204962566495,-0.021682495251298,-0.013831153512001));
res += mul(Get(s3,-dx,dy), float4x4(0.401095181703568,-0.256071329116821,0.096303716301918,0.168443948030472,0.052036061882973,-0.226097211241722,-0.175088778138161,-0.206721514463425,0.060512244701385,0.069298483431339,-0.051760304719210,-0.176617041230202,-0.231631428003311,-0.097902260720730,-0.023167820647359,-0.223055481910706));
res += mul(Get(s3,0,-dy), float4x4(-0.186958685517311,-0.061443351209164,-0.010761649347842,0.036042068153620,-0.005236700642854,0.117401003837585,-0.100234754383564,-0.063603416085243,-0.068026356399059,0.144951283931732,0.262624144554138,-0.142264112830162,-0.075295351445675,-0.098026603460312,-0.053654242306948,0.026366502046585));
res += mul(Get(s3,0,0), float4x4(0.046531468629837,-0.015103379264474,0.109799951314926,0.138816058635712,-0.060814991593361,-0.002152694854885,-0.057452537119389,-0.056370653212070,0.034365326166153,0.014302883297205,0.165336668491364,0.007761567365378,-0.140348270535469,0.074249446392059,-0.105006888508797,-0.030083235353231));
res += mul(Get(s3,0,dy), float4x4(0.309608191251755,0.102329529821873,0.200834661722183,0.008090632967651,0.001879448886029,-0.212242722511292,-0.062638662755489,-0.110458716750145,-0.076181516051292,-0.054498903453350,-0.095043599605560,-0.027139114215970,-0.090448327362537,-0.068314872682095,-0.164362609386444,0.070804797112942));
res += mul(Get(s3,dx,-dy), float4x4(-0.240907996892929,-0.018423317000270,-0.102866195142269,0.112097375094891,-0.076002508401871,0.038774006068707,-0.230587407946587,0.076256528496742,-0.098833054304123,0.362483590841293,0.503272116184235,0.090048409998417,0.318083614110947,-0.128162890672684,-0.136806413531303,-0.011014882475138));
res += mul(Get(s3,dx,0), float4x4(-0.146990105509758,0.008299150504172,0.022476768121123,0.125954225659370,-0.128791138529778,0.149594232439995,-0.101181253790855,-0.058855310082436,0.102518349885941,-0.015808716416359,0.237946435809135,0.018116304650903,0.261531591415405,0.114846304059029,-0.160990163683891,-0.031215930357575));
res += mul(Get(s3,dx,dy), float4x4(-0.100845336914063,-0.019789837300777,-0.065503336489201,0.052413195371628,0.224937587976456,-0.322044759988785,-0.084750302135944,-0.169300511479378,-0.053226038813591,-0.197254955768585,0.002811426296830,0.081289671361446,-0.005775231868029,-0.061398711055517,-0.135267019271851,0.141036510467529));
return max(float4(0,0,0,0), res);
}
