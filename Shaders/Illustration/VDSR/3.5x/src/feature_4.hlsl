sampler s0 : register(s0);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(x, y)   tex2D(s0, tex + float2(x, y))[0]

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += float4(-0.161552488803864,0.196039155125618,-0.236949741840363,-0.179577440023422) * Get(-dx,-dy);
res += float4(-0.225770652294159,-0.161567792296410,0.187125548720360,-0.069552637636662) * Get(-dx,0);
res += float4(0.139127865433693,0.360643625259399,-0.030160428956151,-0.025923140347004) * Get(-dx,dy);
res += float4(0.099699340760708,-0.234942778944969,-0.138272568583488,-0.128536835312843) * Get(0,-dy);
res += float4(0.366333484649658,-0.199151173233986,-0.191140308976173,-0.077171795070171) * Get(0,0);
res += float4(-0.196077749133110,0.210317641496658,-0.030179286375642,0.001816486590542) * Get(0,dy);
res += float4(-0.129995569586754,-0.108005210757256,-0.067229531705379,0.028207495808601) * Get(dx,-dy);
res += float4(0.029069073498249,-0.058876208961010,-0.001808089786209,0.236796140670776) * Get(dx,0);
res += float4(0.125208824872971,0.030314480885863,-0.072570711374283,0.066587202250957) * Get(dx,dy);
return max(float4(0,0,0,0), res);
}
