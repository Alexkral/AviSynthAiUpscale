sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.045630361884832,-0.010785873048007,0.138785257935524,0.067316539585590,-0.069070942699909,-0.061840996146202,-0.042972814291716,-0.072793968021870,0.013787983916700,-0.136807590723038,0.088108383119106,-0.064819619059563,0.079866357147694,0.016233654692769,-0.096382893621922,-0.021942561492324));
res += mul(Get(s0,-dx,0), float4x4(-0.232039108872414,-0.039142891764641,-0.047250151634216,0.089241445064545,-0.102993696928024,0.023543480783701,0.174592480063438,-0.225196421146393,-0.093711398541927,-0.171281576156616,0.083313129842281,-0.018592515960336,-0.076619111001492,0.169381856918335,0.001330353901722,-0.186107724905014));
res += mul(Get(s0,-dx,dy), float4x4(0.080076485872269,-0.015388940460980,0.050530631095171,-0.052036784589291,-0.051195450127125,0.236092731356621,0.078198112547398,0.018623111769557,-0.115930639207363,-0.089916966855526,-0.082481376826763,0.079742752015591,0.137858510017395,0.049737766385078,-0.115078583359718,0.001505751162767));
res += mul(Get(s0,0,-dy), float4x4(-0.122758254408836,-0.074940323829651,0.108485437929630,-0.018853897228837,0.170887947082520,0.002804218791425,-0.056733317673206,-0.111776396632195,0.036132600158453,-0.093310445547104,-0.023936178535223,0.066572643816471,-0.019573433324695,-0.127517551183701,0.024294469505548,-0.045545000582933));
res += mul(Get(s0,0,0), float4x4(0.015357312746346,-0.015673076733947,0.018452115356922,-0.035712953656912,-0.005296803545207,0.031746957451105,0.211575955152512,0.048477802425623,-0.218314558267593,-0.214659750461578,-0.095672950148582,0.038015224039555,0.107064656913280,0.016965119168162,0.107990674674511,-0.196571186184883));
res += mul(Get(s0,0,dy), float4x4(0.109319731593132,-0.070306383073330,0.039093580096960,-0.036582965403795,0.060455016791821,0.112307369709015,0.182190328836441,-0.008194298483431,-0.068076834082603,-0.060942538082600,-0.106404177844524,0.070868134498596,-0.008609768003225,-0.002109146211296,-0.010831254534423,-0.010388212278485));
res += mul(Get(s0,dx,-dy), float4x4(0.204288244247437,0.010596480220556,-0.065274558961391,-0.051355857402086,0.211961790919304,0.156681716442108,0.192486390471458,-0.032212905585766,-0.025312844663858,-0.069572329521179,-0.107494696974754,0.406028360128403,0.085474796593189,-0.114596568048000,-0.032075636088848,0.131201773881912));
res += mul(Get(s0,dx,0), float4x4(0.031673084944487,-0.029319755733013,-0.066841445863247,-0.068289615213871,-0.076263554394245,0.040701098740101,-0.090063616633415,0.047906901687384,-0.088935814797878,0.020695675164461,0.207024320960045,0.055773872882128,-0.110656902194023,-0.010733276605606,-0.242005988955498,0.078447021543980));
res += mul(Get(s0,dx,dy), float4x4(0.047392643988132,-0.015246707946062,-0.024151895195246,0.131914913654327,-0.244961470365524,-0.243381753563881,-0.084028549492359,-0.129259318113327,-0.112701877951622,-0.054451487958431,0.131813481450081,-0.071177475154400,0.039557836949825,0.078649736940861,-0.140340149402618,0.153860688209534));
res += mul(Get(s1,-dx,-dy), float4x4(0.071978941559792,0.028558060526848,0.147480338811874,0.156690016388893,-0.066315077245235,-0.069634221494198,0.146530210971832,-0.021254442632198,0.146254763007164,0.123682618141174,-0.050082597881556,-0.067544475197792,-0.046850722283125,-0.033824227750301,0.099266462028027,-0.092194758355618));
res += mul(Get(s1,-dx,0), float4x4(-0.149597704410553,0.080838575959206,0.052329715341330,0.107951946556568,-0.106149628758430,0.019909940660000,-0.135287925601006,-0.131852462887764,-0.128624826669693,-0.007100629154593,-0.028697021305561,0.049934890121222,0.047608967870474,0.235659390687943,0.199839517474174,-0.200786381959915));
res += mul(Get(s1,-dx,dy), float4x4(0.062840498983860,-0.115287005901337,-0.098823182284832,0.017089260742068,-0.090508475899696,0.111768588423729,0.042798250913620,-0.000103805265098,0.142406955361366,0.089586302638054,-0.099569536745548,-0.150722473859787,0.040169842541218,-0.040478304028511,0.131882101297379,-0.040467489510775));
res += mul(Get(s1,0,-dy), float4x4(0.250826537609100,-0.075537115335464,0.134393259882927,0.213756695389748,0.071597225964069,-0.057677939534187,0.030904026702046,-0.098237693309784,-0.090689986944199,-0.075712427496910,-0.046446468681097,0.018452364951372,0.081104107201099,0.280927121639252,0.024544121697545,0.019810484722257));
res += mul(Get(s1,0,0), float4x4(-0.092912755906582,-0.007200625725091,-0.057105097919703,0.211751237511635,-0.010565736331046,0.073634222149849,-0.014201419427991,0.021829221397638,0.145379498600960,-0.025646736845374,-0.137755393981934,-0.039757963269949,-0.057145331054926,-0.085250735282898,-0.029431581497192,-0.051731508225203));
res += mul(Get(s1,0,dy), float4x4(0.056454829871655,-0.029916727915406,-0.120291166007519,0.015685295686126,-0.129286840558052,0.047319594770670,-0.036112852394581,-0.086059510707855,0.028544841334224,0.156708553433418,0.151822268962860,-0.129942744970322,-0.034547660499811,-0.086950965225697,-0.079472079873085,0.001987289404497));
res += mul(Get(s1,dx,-dy), float4x4(-0.150038033723831,0.046031557023525,0.051803834736347,-0.197422981262207,-0.039714213460684,-0.170227408409119,0.109165973961353,-0.043812047690153,-0.034099828451872,-0.023452378809452,-0.037647828459740,-0.055083319544792,0.177641838788986,0.154296219348907,-0.054750774055719,-0.018766239285469));
res += mul(Get(s1,dx,0), float4x4(0.107504077255726,0.038877382874489,-0.163477763533592,0.150256633758545,-0.003933786414564,-0.030906185507774,0.045800719410181,0.068221881985664,0.348374336957932,0.066418677568436,-0.046485956758261,0.020032597705722,-0.114314064383507,0.056565128266811,0.054949503391981,0.060383640229702));
res += mul(Get(s1,dx,dy), float4x4(0.122919328510761,0.184417217969894,-0.239940285682678,0.041470017284155,0.082597449421883,0.033673908561468,-0.109063878655434,-0.119436144828796,0.079633563756943,-0.085547573864460,0.093177773058414,0.027699230238795,-0.108801849186420,0.033301107585430,0.007376998662949,0.060932256281376));
res += mul(Get(s2,-dx,-dy), float4x4(-0.031908549368382,0.032934512943029,-0.090158633887768,-0.098802112042904,-0.030633253976703,-0.155202105641365,0.167506232857704,-0.030465172603726,-0.096154652535915,0.007800356950611,0.107070639729500,-0.247840464115143,-0.029622707515955,-0.094494856894016,-0.041293181478977,0.091034471988678));
res += mul(Get(s2,-dx,0), float4x4(-0.162953317165375,0.136715009808540,-0.016928080469370,-0.058862116187811,0.080968670547009,-0.056482922285795,0.121517166495323,-0.032102465629578,-0.174439579248428,-0.031271934509277,-0.016140468418598,-0.058928687125444,-0.035575702786446,-0.127656728029251,0.055150426924229,-0.007596235256642));
res += mul(Get(s2,-dx,dy), float4x4(-0.072419352829456,0.175276249647141,0.202266141772270,-0.101501472294331,0.055017545819283,-0.125252842903137,0.105432108044624,0.135703355073929,-0.021501252427697,-0.003866351675242,0.320577591657639,0.145187333226204,-0.078655071556568,0.042840693145990,-0.182277441024780,0.107940688729286));
res += mul(Get(s2,0,-dy), float4x4(0.123160935938358,-0.100709065794945,0.036051385104656,0.141249597072601,-0.056080952286720,0.171218201518059,-0.070589378476143,0.061798781156540,-0.163168713450432,0.047702923417091,0.028995338827372,-0.010859026573598,0.130963698029518,0.060133993625641,0.042344905436039,-0.201078906655312));
res += mul(Get(s2,0,0), float4x4(0.034028802067041,-0.188146024942398,0.021630004048347,-0.011190743185580,0.063918650150299,0.113354869186878,-0.302403777837753,0.019293511286378,0.046793427318335,0.130227133631706,-0.079944014549255,0.118426471948624,0.146015614271164,0.098270326852798,-0.086271733045578,0.210717275738716));
res += mul(Get(s2,0,dy), float4x4(-0.125135019421577,0.168930441141129,0.131847187876701,-0.092741377651691,0.120145343244076,0.060151729732752,-0.013430465944111,-0.060393150895834,-0.041979204863310,0.142226621508598,-0.002231315709651,-0.106821693480015,0.141662016510963,0.036720238626003,0.117916867136955,-0.131855264306068));
res += mul(Get(s2,dx,-dy), float4x4(-0.286308526992798,-0.116919651627541,0.153291970491409,-0.063564851880074,0.010223172605038,-0.136356741189957,0.094346806406975,-0.255176812410355,-0.019570874050260,-0.031949646770954,0.140170291066170,-0.046587124466896,-0.030126212164760,-0.110101424157619,-0.000845750852022,0.098772004246712));
res += mul(Get(s2,dx,0), float4x4(0.121165022253990,-0.001037660520524,0.013305201195180,0.103149428963661,0.008201491087675,-0.070845067501068,0.123538307845592,-0.079564981162548,-0.067939579486847,-0.017262145876884,0.038454566150904,0.032645482569933,-0.258597403764725,0.059235908091068,-0.022542702034116,0.101987831294537));
res += mul(Get(s2,dx,dy), float4x4(0.058864332735538,-0.026245845481753,-0.225299775600433,-0.012063589878380,0.058411400765181,0.017860526219010,-0.077664405107498,-0.108613498508930,-0.164199367165565,0.127992928028107,0.233425348997116,0.063141666352749,0.016797011718154,0.141705036163330,0.030410416424274,-0.241517707705498));
res += mul(Get(s3,-dx,-dy), float4x4(-0.112371206283569,-0.050131253898144,0.145907610654831,-0.136077076196671,0.214271679520607,-0.208254724740982,-0.116987094283104,0.095477044582367,0.208141744136810,-0.098255529999733,-0.093150191009045,0.091048009693623,-0.188256010413170,0.194872364401817,0.305229425430298,-0.128835409879684));
res += mul(Get(s3,-dx,0), float4x4(-0.087673887610435,-0.210368454456329,0.045913811773062,0.013372602872550,-0.077397197484970,0.048575937747955,0.018211800605059,-0.002038421807811,-0.289777785539627,-0.003705438459292,-0.035280238837004,0.004032652359456,-0.009752155281603,-0.000590419454966,0.160861164331436,-0.192669004201889));
res += mul(Get(s3,-dx,dy), float4x4(-0.056038402020931,-0.093050681054592,0.138675674796104,0.165742069482803,-0.184308454394341,0.091207399964333,-0.158609837293625,-0.096972741186619,0.098570950329304,-0.020336322486401,0.031532775610685,-0.085592567920685,-0.028146903961897,0.014848150312901,0.017500063404441,-0.111542038619518));
res += mul(Get(s3,0,-dy), float4x4(-0.076799131929874,-0.046381630003452,0.130331456661224,-0.021370211616158,0.009317241609097,-0.107534885406494,-0.123870871961117,-0.215335696935654,-0.065086424350739,-0.084521077573299,0.005614691879600,0.017336765304208,-0.103871613740921,-0.198003485798836,-0.186928927898407,-0.190409675240517));
res += mul(Get(s3,0,0), float4x4(0.058037210255861,-0.027040658518672,0.074037186801434,-0.029755972325802,-0.261760115623474,0.135602697730064,-0.139520660042763,0.114404074847698,-0.022198237478733,-0.013927306048572,-0.074216820299625,0.095569841563702,0.109202913939953,0.128203943371773,-0.107216097414494,0.163217768073082));
res += mul(Get(s3,0,dy), float4x4(-0.044861324131489,-0.088783375918865,-0.004695767536759,0.125200241804123,0.252655178308487,-0.114684939384460,0.174662619829178,0.161528080701828,0.149241626262665,-0.054280389100313,-0.087777450680733,-0.119563348591328,-0.137558296322823,-0.036724131554365,0.019499575719237,0.049068935215473));
res += mul(Get(s3,dx,-dy), float4x4(0.243735194206238,0.021285589784384,-0.106235072016716,0.039902567863464,0.115493550896645,-0.107974179089069,0.192538246512413,0.014224064536393,0.032970584928989,0.063303984701633,-0.062763452529907,0.002182269934565,-0.068738870322704,0.169336825609207,-0.157503277063370,0.052066944539547));
res += mul(Get(s3,dx,0), float4x4(-0.075598940253258,-0.047748710960150,-0.306224882602692,-0.104520924389362,0.145652547478676,-0.006317961495370,0.121608130633831,-0.084918037056923,-0.037100274115801,0.013372378423810,0.117380715906620,0.017849281430244,-0.067529961466789,-0.011862833984196,0.181765004992485,-0.048924747854471));
res += mul(Get(s3,dx,dy), float4x4(-0.126834973692894,-0.065400116145611,-0.024115109816194,0.290988564491272,-0.159041702747345,0.009763137437403,-0.114576585590839,-0.008054241538048,-0.029792264103889,0.119203217327595,-0.147731602191925,-0.212730512022972,-0.111224032938480,0.029553497210145,-0.003614119254053,-0.009817516431212));
return max(float4(0,0,0,0), res);
}
