sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.539130926132202,0.058552645146847,-0.026661334559321,-0.117044299840927,-0.159238249063492,-0.302422195672989,-0.032377213239670,-0.010603453963995,-0.037799675017595,0.001712521770969,0.223989784717560,0.229456514120102,-0.040848575532436,0.081778220832348,-0.255048364400864,-0.096424020826817));
res += mul(Get(s0,-dx,0), float4x4(0.196769818663597,-0.033730596303940,-0.142292678356171,-0.258930593729019,-0.063866600394249,-0.269562989473343,-0.090349726378918,-0.068707592785358,0.038543950766325,-0.085905008018017,0.055178888142109,0.111389338970184,-0.035431265830994,-0.115968599915504,-0.158516198396683,-0.091073423624039));
res += mul(Get(s0,-dx,dy), float4x4(0.052794538438320,0.178323298692703,-0.176590457558632,-0.029731404036283,0.140780374407768,-0.277084141969681,0.003978114109486,-0.195803031325340,-0.050613630563021,0.221273764967918,0.089250870049000,-0.041213840246201,-0.066987670958042,0.042096257209778,-0.084856867790222,0.177842006087303));
res += mul(Get(s0,0,-dy), float4x4(0.183155879378319,-0.211253941059113,-0.033313065767288,-0.114953584969044,0.151095777750015,-0.312282651662827,-0.294590950012207,0.048289895057678,-0.045735031366348,-0.271744847297668,0.036567658185959,-0.029796576127410,-0.071395196020603,0.122727207839489,-0.012927663512528,0.118100449442863));
res += mul(Get(s0,0,0), float4x4(0.042918875813484,-0.177428156137466,-0.079227693378925,-0.160865709185600,0.451479703187943,-0.172601982951164,0.052128147333860,-0.026975486427546,0.041416473686695,-0.074469104409218,-0.024659626185894,-0.009554891847074,0.061001680791378,0.201138287782669,-0.219723984599113,0.272880911827087));
res += mul(Get(s0,0,dy), float4x4(-0.101188458502293,-0.064672924578190,-0.146576434373856,-0.090403199195862,0.114784859120846,-0.079925119876862,0.061400916427374,-0.180657669901848,0.074219070374966,-0.043482206761837,0.012448390945792,-0.047074321657419,-0.019524296745658,0.022520733997226,-0.421513676643372,-0.132127091288567));
res += mul(Get(s0,dx,-dy), float4x4(0.143599838018417,-0.148352786898613,-0.099468953907490,-0.013364775106311,0.030375903472304,-0.203490480780602,0.483583480119705,0.154942899942398,-0.157865524291992,-0.140044733881950,0.140766128897667,0.140611559152603,-0.225621566176414,-0.098906651139259,0.047886781394482,0.155195966362953));
res += mul(Get(s0,dx,0), float4x4(0.058289445936680,-0.231008112430573,0.001855951151811,0.132455363869667,-0.242613419890404,-0.100113064050674,-0.135164201259613,-0.097506299614906,0.123746149241924,0.091595031321049,0.106090314686298,0.054396044462919,0.170804440975189,0.207339406013489,-0.168412312865257,0.173193126916885));
res += mul(Get(s0,dx,dy), float4x4(-0.099330857396126,-0.094872437417507,-0.035328462719917,0.114456690847874,-0.221293747425079,-0.018149325624108,-0.250561267137527,-0.126433491706848,-0.115800343453884,0.052772093564272,0.116630606353283,0.127752959728241,0.029057839885354,0.030501486733556,-0.339877307415009,0.114827305078506));
res += mul(Get(s1,-dx,-dy), float4x4(-0.066624276340008,0.046033836901188,0.007998916320503,-0.094973862171173,0.166614428162575,-0.102967076003551,-0.099340647459030,-0.063633516430855,-0.247839689254761,0.011437587440014,0.062890216708183,-0.355651766061783,-0.149362117052078,-0.151813015341759,0.118237152695656,-0.076637648046017));
res += mul(Get(s1,-dx,0), float4x4(0.098554722964764,0.190990582108498,0.066342368721962,0.080748029053211,-0.216471210122108,-0.177931532263756,-0.037619892507792,-0.226685404777527,-0.156857833266258,-0.031661845743656,-0.079811125993729,-0.118300013244152,-0.088268063962460,-0.073583148419857,-0.010020902380347,-0.092278279364109));
res += mul(Get(s1,-dx,dy), float4x4(0.076547123491764,0.163612768054008,-0.238276973366737,-0.172657459974289,-0.287805855274200,-0.274992376565933,0.075701281428337,-0.039770234376192,0.008039263077080,0.148383408784866,-0.106124095618725,-0.136089548468590,-0.198776140809059,0.137097761034966,-0.029650077223778,-0.163623631000519));
res += mul(Get(s1,0,-dy), float4x4(-0.181296408176422,-0.162963449954987,-0.077487751841545,-0.127307981252670,0.022889075800776,0.020322011783719,0.084871746599674,-0.045516517013311,-0.050330068916082,-0.081380501389503,0.006272352766246,-0.087156243622303,-0.051338184624910,-0.132279157638550,-0.039054024964571,-0.139957100152969));
res += mul(Get(s1,0,0), float4x4(0.057335078716278,0.008268633857369,0.007607570849359,0.069827064871788,-0.124063841998577,-0.003250145819038,-0.230352982878685,-0.160501539707184,-0.071268409490585,-0.084070339798927,-0.163432389497757,-0.164227113127708,-0.039453040808439,-0.082516148686409,0.034814078360796,-0.063975520431995));
res += mul(Get(s1,0,dy), float4x4(-0.114592425525188,0.050637144595385,-0.067096352577209,-0.148682013154030,-0.191204339265823,-0.222804531455040,-0.137567490339279,-0.055721379816532,0.075607925653458,-0.144161552190781,-0.105328314006329,0.004397895187140,-0.044335599988699,-0.099175341427326,-0.125555098056793,-0.176858782768250));
res += mul(Get(s1,dx,-dy), float4x4(-0.115551188588142,0.049949150532484,-0.089439481496811,-0.043542414903641,-0.106201589107513,-0.248068451881409,0.104594178497791,-0.024351591244340,-0.116068512201309,-0.023720579221845,-0.123650573194027,-0.097494520246983,-0.014892606996000,-0.315778672695160,-0.095350451767445,-0.239099636673927));
res += mul(Get(s1,dx,0), float4x4(0.000663614540827,-0.074129216372967,0.104778602719307,-0.011310116387904,-0.209804192185402,-0.078149266541004,-0.184402391314507,-0.178408131003380,-0.075244255363941,-0.235625788569450,-0.057528041303158,-0.254932343959808,-0.121953338384628,-0.141601607203484,0.132524445652962,0.081033840775490));
res += mul(Get(s1,dx,dy), float4x4(-0.149488061666489,-0.027496816590428,-0.092348270118237,-0.185116559267044,-0.178538590669632,-0.303098380565643,-0.167793348431587,0.058386459946632,0.204189509153366,-0.259664297103882,-0.085329875349998,0.067792363464832,-0.185101598501205,-0.229692637920380,0.018986942246556,0.123302534222603));
res += mul(Get(s2,-dx,-dy), float4x4(-0.101126544177532,0.125591471791267,0.031415387988091,-0.161967456340790,0.207437843084335,-0.065527200698853,0.114806637167931,-0.163094386458397,-0.207205027341843,0.159135624766350,0.083690345287323,0.029680274426937,-0.164856180548668,-0.212393254041672,0.083418704569340,0.009512790478766));
res += mul(Get(s2,-dx,0), float4x4(-0.103086329996586,-0.178161874413490,0.137692019343376,0.139983057975769,-0.105925768613815,-0.156458720564842,-0.060650471597910,-0.164875775575638,0.111235119402409,0.116812214255333,-0.101101160049438,-0.020327938720584,-0.237134888768196,-0.080516338348389,0.010913781821728,-0.083541952073574));
res += mul(Get(s2,-dx,dy), float4x4(-0.011199287138879,-0.016267193481326,0.101150125265121,0.120512604713440,-0.026415839791298,0.020634798333049,-0.067552559077740,-0.016738764941692,-0.089199505746365,0.018248312175274,0.182786747813225,0.026093784719706,-0.303163498640060,0.222736969590187,-0.112660892307758,0.046388894319534));
res += mul(Get(s2,0,-dy), float4x4(-0.116740077733994,0.080388523638248,-0.087532669305801,0.019473226740956,-0.007795540615916,-0.087853170931339,-0.008313734084368,-0.175026282668114,-0.039283171296120,0.115529544651508,0.155381008982658,0.021059334278107,-0.114313431084156,0.018459552899003,-0.001037884154357,-0.112868316471577));
res += mul(Get(s2,0,0), float4x4(-0.070838131010532,-0.057827584445477,0.053720351308584,0.188395783305168,-0.137518703937531,-0.086445748806000,-0.123676426708698,-0.040128782391548,0.011915836483240,-0.026612106710672,-0.095671065151691,-0.158429205417633,-0.010891574434936,-0.040399134159088,-0.037072211503983,-0.032976213842630));
res += mul(Get(s2,0,dy), float4x4(0.015166983939707,-0.083128757774830,0.085420019924641,0.021350098773837,0.240849658846855,-0.093866579234600,-0.160514652729034,-0.012735061347485,-0.079497046768665,0.023742889985442,-0.105813123285770,-0.173660174012184,0.136352300643921,0.163398921489716,-0.095261991024017,-0.110765539109707));
res += mul(Get(s2,dx,-dy), float4x4(-0.186508715152740,0.089326843619347,0.040263600647449,0.193813651800156,-0.110859364271164,-0.010447103530169,-0.016540875658393,-0.071211419999599,-0.024439649656415,0.151356458663940,-0.175976946949959,0.463783293962479,0.149732857942581,0.076341919600964,-0.075844191014767,-0.283392816781998));
res += mul(Get(s2,dx,0), float4x4(-0.041264243423939,0.136025071144104,0.029209446161985,-0.032098270952702,-0.214623421430588,-0.109262801706791,-0.105251826345921,-0.006492336746305,-0.024955891072750,0.220794156193733,-0.007714926265180,0.164831250905991,-0.005524955689907,-0.013558594509959,-0.055458273738623,-0.043081097304821));
res += mul(Get(s2,dx,dy), float4x4(0.014364580623806,0.056059986352921,0.222482442855835,-0.115063682198524,0.328750908374786,-0.217412337660789,-0.123159810900688,0.265365988016129,-0.082168117165565,0.033557280898094,0.047210469841957,-0.023889115080237,0.396506667137146,0.052507363259792,-0.141230434179306,-0.104925088584423));
res += mul(Get(s3,-dx,-dy), float4x4(0.150669425725937,-0.086770169436932,-0.142213746905327,-0.056272160261869,-0.000405051949201,-0.456709474325180,0.151338323950768,-0.074816286563873,-0.153206631541252,-0.183551624417305,0.171773001551628,-0.031359173357487,0.002929194597527,-0.053478460758924,-0.037434231489897,-0.237341329455376));
res += mul(Get(s3,-dx,0), float4x4(0.089819848537445,-0.076882779598236,-0.198790833353996,-0.003708183532581,0.015043740160763,-0.063870586454868,0.202560424804688,-0.028812281787395,-0.031346451491117,-0.160290122032166,0.128994554281235,-0.219927892088890,0.118424020707607,-0.025995703414083,0.225449115037918,-0.144373536109924));
res += mul(Get(s3,-dx,dy), float4x4(-0.216009691357613,-0.225845232605934,-0.170933067798615,-0.007451379671693,-0.170755237340927,0.100264519453049,0.050808660686016,-0.013867536559701,-0.121258407831192,0.003658819012344,0.123533032834530,-0.227018579840660,-0.003664018819109,0.324621707201004,-0.019726986065507,-0.127688288688660));
res += mul(Get(s3,0,-dy), float4x4(-0.076348133385181,-0.194369837641716,0.042880009859800,-0.079264245927334,-0.013812067918479,-0.154681056737900,-0.070401027798653,0.060757286846638,-0.048330042511225,0.124578848481178,0.193877592682838,-0.088469281792641,0.182927742600441,-0.131096720695496,-0.050468496978283,0.019446499645710));
res += mul(Get(s3,0,0), float4x4(0.134620308876038,-0.092582173645496,-0.070773489773273,-0.074545182287693,0.008395848795772,0.155117169022560,0.015327922999859,-0.071442961692810,0.032697036862373,-0.140708103775978,0.135737761855125,-0.149826511740685,0.190173834562302,-0.006771990098059,0.082474708557129,-0.141423806548119));
res += mul(Get(s3,0,dy), float4x4(-0.065453171730042,0.073109962046146,-0.198644176125526,-0.025203391909599,-0.212224438786507,0.050033766776323,0.149741441011429,-0.120066836476326,-0.131080120801926,0.168228387832642,-0.095536015927792,-0.215003103017807,0.029737835749984,0.128968328237534,-0.034855976700783,0.001726565184072));
res += mul(Get(s3,dx,-dy), float4x4(-0.149217262864113,-0.275369137525558,0.034749664366245,-0.097841657698154,-0.072422392666340,-0.092765338718891,-0.044351454824209,0.197620749473572,-0.132867604494095,0.190644830465317,-0.045035269111395,0.084274590015411,0.153942540287971,-0.086470887064934,0.005557704716921,-0.142034277319908));
res += mul(Get(s3,dx,0), float4x4(0.008638693019748,0.011539034545422,-0.112955272197723,-0.085229732096195,-0.059380907565355,0.166310280561447,-0.208465158939362,0.078739523887634,0.164500668644905,0.049217071384192,0.479546874761581,0.082436814904213,0.033274386078119,-0.051780410110950,-0.019608831033111,-0.069222092628479));
res += mul(Get(s3,dx,dy), float4x4(-0.105371877551079,0.115583412349224,-0.162098109722137,0.280319660902023,-0.102386422455311,0.129347175359726,-0.120769664645195,-0.126856341958046,-0.054093819111586,0.054880090057850,0.222579404711723,-0.046969328075647,-0.110443815588951,0.217955574393272,-0.013930260203779,0.245083451271057));
return max(float4(0,0,0,0), res);
}
