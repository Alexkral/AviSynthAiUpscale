sampler s0 : register(s0);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(x, y)   tex2D(s0, tex + float2(x, y))[0]

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += float4(-0.430071890354156,-0.588518857955933,0.002168386243284,-0.038195669651031) * Get(-dx,-dy);
res += float4(0.079586036503315,0.017906373366714,-0.025537746027112,0.026680352166295) * Get(-dx,0);
res += float4(0.071211643517017,-0.561794459819794,-0.035482089966536,0.135692283511162) * Get(-dx,dy);
res += float4(0.892359256744385,0.315980851650238,-0.017051262781024,-0.098064064979553) * Get(0,-dy);
res += float4(0.176005840301514,2.107161283493042,0.005484817549586,-0.056898083537817) * Get(0,0);
res += float4(-0.187314584851265,0.507841765880585,-0.010342497378588,0.039522219449282) * Get(0,dy);
res += float4(-0.172107011079788,-1.098391413688660,-0.012255872599781,-0.050419021397829) * Get(dx,-dy);
res += float4(-0.343108713626862,-0.209932535886765,-0.012448271736503,-0.049038268625736) * Get(dx,0);
res += float4(0.030799079686403,-0.571983814239502,-0.017129965126514,0.054410256445408) * Get(dx,dy);
return max(float4(0,0,0,0), res);
}
