sampler s0 : register(s0);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(x, y)   tex2D(s0, tex + float2(x, y))[0]

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += float4(-0.110490597784519,-0.078108884394169,0.232618585228920,-0.051790934056044) * Get(-dx,-dy);
res += float4(-0.117357380688190,0.026001129299402,-0.166030213236809,-0.073150880634785) * Get(-dx,0);
res += float4(-0.060036037117243,-0.045953843742609,-0.191358372569084,-0.141328230500221) * Get(-dx,dy);
res += float4(-0.161928460001945,-0.008355994708836,0.090044222772121,0.092635184526443) * Get(0,-dy);
res += float4(0.002435016911477,0.033311869949102,-0.149174779653549,-0.010268576443195) * Get(0,0);
res += float4(-0.140792593359947,-0.064352922141552,-0.011000383645296,-0.004640054889023) * Get(0,dy);
res += float4(0.282703310251236,0.051966264843941,-0.001921122195199,0.023066211491823) * Get(dx,-dy);
res += float4(0.115194216370583,-0.118015617132187,-0.160475239157677,-0.065109983086586) * Get(dx,0);
res += float4(0.208832457661629,0.029879119247198,0.124700784683228,-0.130479976534843) * Get(dx,dy);
return max(float4(0,0,0,0), res);
}
