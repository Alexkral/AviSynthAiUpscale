sampler s0 : register(s0);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(x, y)   tex2D(s0, tex + float2(x, y))[0]

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += float4(-0.567957401275635,-0.172484740614891,0.028602946549654,0.002196840010583) * Get(-dx,-dy);
res += float4(-0.731507539749146,-0.166560679674149,1.146431565284729,-0.029898559674621) * Get(-dx,0);
res += float4(-0.080236040055752,0.489334464073181,0.625452935695648,-0.023915134370327) * Get(-dx,dy);
res += float4(-0.722702383995056,-0.463662296533585,-0.522001385688782,0.011473613791168) * Get(0,-dy);
res += float4(-0.370556890964508,-0.403914093971252,-0.253257066011429,-0.007723595015705) * Get(0,0);
res += float4(0.656320333480835,0.279814094305038,-0.622283041477203,0.000283593893982) * Get(0,dy);
res += float4(-0.751761734485626,-0.250527858734131,-0.088325418531895,-0.012504524551332) * Get(dx,-dy);
res += float4(-0.576062917709351,-0.328267544507980,-0.551596283912659,-0.009298123419285) * Get(dx,0);
res += float4(0.074554480612278,0.254080474376678,-0.744384467601776,-0.000901394407265) * Get(dx,dy);
return max(float4(0,0,0,0), res);
}
