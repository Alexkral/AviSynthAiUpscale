sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.152543932199478,-0.008989501744509,-0.200318947434425,-0.069877699017525,-0.010101165622473,-0.206275016069412,0.108633488416672,-0.052109234035015,0.061747025698423,0.004122485406697,-0.023420827463269,0.148572683334351,0.006207659374923,0.045924469828606,-0.090348616242409,0.022736854851246));
res += mul(Get(s0,-dx,0), float4x4(0.059269730001688,0.013507205061615,-0.025012532249093,0.184882670640945,0.111181855201721,0.156699836254120,-0.025088153779507,0.007609580643475,-0.054264888167381,0.117293052375317,0.044924478977919,-0.103150196373463,0.072844468057156,0.034231726080179,0.130772754549980,-0.254441231489182));
res += mul(Get(s0,-dx,dy), float4x4(-0.083983600139618,-0.188771113753319,0.027982361614704,0.051650367677212,-0.032222583889961,0.047289576381445,-0.033527888357639,-0.009203559719026,0.115455351769924,-0.005918340757489,-0.069916561245918,0.000958335585892,0.099281810224056,-0.034034859389067,-0.018367953598499,-0.049619764089584));
res += mul(Get(s0,0,-dy), float4x4(0.114251673221588,-0.093313358724117,0.115967907011509,0.061574224382639,0.129877835512161,-0.076056808233261,-0.136764287948608,0.016035592183471,0.087507061660290,-0.185822322964668,0.033734563738108,-0.110143512487411,-0.105964519083500,0.111755214631557,0.084050878882408,0.269687771797180));
res += mul(Get(s0,0,0), float4x4(0.002475568326190,0.126324564218521,0.017766127362847,-0.028785439208150,0.086259000003338,0.234304025769234,-0.103801742196083,-0.109306283295155,0.108636736869812,0.007276986259967,0.051247145980597,0.032791327685118,0.105308331549168,0.188396334648132,0.034783873707056,-0.209903940558434));
res += mul(Get(s0,0,dy), float4x4(0.179547443985939,-0.188394561409950,0.135413110256195,0.137553259730339,-0.028602618724108,-0.275810152292252,-0.034985881298780,-0.193806245923042,-0.056998789310455,0.080064639449120,0.057502686977386,-0.029468648135662,-0.162474617362022,-0.163513749837875,0.133701875805855,0.031159859150648));
res += mul(Get(s0,dx,-dy), float4x4(-0.048503741621971,0.179034203290939,-0.049640659242868,-0.151728942990303,0.081891424953938,0.037665050476789,-0.095023818314075,-0.043043918907642,0.167934969067574,0.018488844856620,0.098338954150677,-0.015893368050456,-0.075970306992531,0.033521082252264,-0.028815969824791,0.071952663362026));
res += mul(Get(s0,dx,0), float4x4(0.184723511338234,0.086712397634983,0.195270419120789,0.296401798725128,0.105248250067234,-0.134639576077461,-0.135720402002335,0.028661165386438,-0.159662052989006,0.072695314884186,0.006597393192351,-0.105677545070648,-0.146890878677368,0.084793031215668,-0.082558378577232,0.094961471855640));
res += mul(Get(s0,dx,dy), float4x4(0.172231480479240,-0.038006313145161,-0.129584252834320,0.227403551340103,0.005965794902295,0.024916835129261,-0.079007133841515,0.042183596640825,0.176642194390297,-0.102151252329350,-0.036066073924303,-0.038921732455492,0.112767904996872,0.031167471781373,0.096565589308739,0.090633489191532));
res += mul(Get(s1,-dx,-dy), float4x4(0.020572980865836,0.073296323418617,0.065577603876591,0.085089400410652,0.047751013189554,-0.104854285717010,-0.014448163099587,0.025609685108066,0.032717209309340,0.035905316472054,-0.123706191778183,0.135247752070427,-0.006720285397023,0.102483280003071,0.065105482935905,0.194968804717064));
res += mul(Get(s1,-dx,0), float4x4(-0.010020949877799,-0.174827694892883,-0.070430986583233,0.056047976016998,0.052438076585531,0.021947542205453,0.080915354192257,-0.120622463524342,0.067448064684868,-0.103918388485909,-0.027237819507718,0.163422450423241,-0.030013747513294,-0.027998683974147,-0.109835565090179,0.051738638430834));
res += mul(Get(s1,-dx,dy), float4x4(-0.105416841804981,0.092488899827003,-0.117902010679245,0.007305476348847,-0.103739850223064,-0.097494378685951,-0.022694759070873,0.021897858008742,-0.127170786261559,0.028398653492332,-0.101360373198986,-0.004329671151936,-0.062008429318666,-0.001731473370455,-0.106616355478764,-0.119855068624020));
res += mul(Get(s1,0,-dy), float4x4(0.045187126845121,-0.064735136926174,0.056126207113266,-0.074296340346336,0.033807955682278,-0.123463951051235,-0.175390630960464,-0.050445724278688,0.211506709456444,0.179231569170952,0.194581225514412,0.100548893213272,-0.025609456002712,-0.017244588583708,0.031250081956387,-0.146525934338570));
res += mul(Get(s1,0,0), float4x4(0.157658040523529,-0.141687750816345,0.067685410380363,0.105152033269405,-0.066328816115856,-0.146407216787338,0.037281852215528,-0.068329751491547,0.081218332052231,-0.053950499743223,0.135663479566574,0.089528068900108,0.011389989405870,0.093096271157265,-0.067497938871384,-0.071964636445045));
res += mul(Get(s1,0,dy), float4x4(0.122272908687592,0.043531347066164,0.175009936094284,-0.075460463762283,-0.017422029748559,0.030884308740497,-0.003691999241710,0.167660653591156,-0.099947266280651,-0.120939120650291,0.044215589761734,-0.098210714757442,0.003069927450269,-0.017723917961121,0.050570502877235,-0.176077470183372));
res += mul(Get(s1,dx,-dy), float4x4(0.143469884991646,-0.015416353940964,-0.022916423156857,0.039637923240662,-0.019545944407582,-0.085000552237034,-0.064968243241310,-0.181586429476738,0.117261715233326,-0.111053422093391,0.149927288293839,-0.004247957840562,0.096405908465385,0.041363667696714,-0.070323623716831,0.331792622804642));
res += mul(Get(s1,dx,0), float4x4(0.023327272385359,0.091225594282150,-0.288545489311218,-0.016926508396864,0.123529791831970,-0.019045243039727,-0.040150873363018,-0.132818624377251,0.066673971712589,-0.038277514278889,-0.137711107730865,-0.155451431870461,0.094239085912704,-0.064979761838913,-0.022619834169745,-0.058149263262749));
res += mul(Get(s1,dx,dy), float4x4(0.000056752418459,-0.136989891529083,0.027251271530986,-0.161036282777786,-0.224485531449318,-0.173828437924385,-0.134078085422516,0.013277430087328,0.150906175374985,-0.220224633812904,-0.031989950686693,-0.047128409147263,0.135155081748962,-0.008755438961089,0.044886171817780,0.007057697977871));
res += mul(Get(s2,-dx,-dy), float4x4(-0.093525938689709,-0.117331139743328,-0.054216571152210,0.174045294523239,-0.134590491652489,-0.090831480920315,-0.082650378346443,0.133950531482697,0.136998906731606,-0.017518788576126,-0.018841309472919,0.157769650220871,-0.003000393277034,-0.117338575422764,-0.025930469855666,0.215700536966324));
res += mul(Get(s2,-dx,0), float4x4(0.051748070865870,0.074804171919823,-0.039454262703657,0.134512960910797,0.097266495227814,-0.032810855656862,0.034012377262115,-0.130558952689171,0.120704188942909,-0.021424498409033,0.127053037285805,0.025809582322836,-0.066992826759815,0.236201345920563,0.065615832805634,0.110260277986526));
res += mul(Get(s2,-dx,dy), float4x4(-0.208973005414009,-0.034524571150541,-0.166318669915199,0.086737796664238,0.046939928084612,-0.098437495529652,-0.012341419234872,-0.001444387598895,0.063748456537724,0.040034092962742,-0.061851292848587,-0.132569044828415,-0.009257089346647,-0.061827760189772,0.017876785248518,-0.107223846018314));
res += mul(Get(s2,0,-dy), float4x4(-0.020674614235759,-0.129391476511955,-0.032025765627623,-0.111406378448009,0.096435949206352,0.058582477271557,-0.050556600093842,0.116704255342484,0.018361561000347,-0.103402644395828,-0.041254028677940,0.086100690066814,-0.077006079256535,-0.054089434444904,-0.068078011274338,0.115847691893578));
res += mul(Get(s2,0,0), float4x4(0.087486550211906,0.098804906010628,-0.104664683341980,0.060702476650476,0.054381612688303,0.239640578627586,-0.109590291976929,-0.119127646088600,-0.057250667363405,0.153288125991821,0.162701576948166,0.018070595338941,-0.095451854169369,0.006558131426573,-0.035692226141691,0.107535727322102));
res += mul(Get(s2,0,dy), float4x4(0.050770971924067,-0.059529293328524,0.062821075320244,-0.055750604718924,-0.077143907546997,0.288496792316437,-0.020366959273815,-0.235770225524902,0.062266230583191,0.014651042409241,-0.110851183533669,0.020738961175084,-0.207171007990837,-0.096184022724628,0.178684487938881,0.265808314085007));
res += mul(Get(s2,dx,-dy), float4x4(-0.031815011054277,-0.033876702189445,0.047942645847797,0.025821745395660,-0.012554463930428,-0.029180588200688,0.040743663907051,0.041869614273310,-0.167681440711021,-0.130909442901611,-0.154405236244202,0.187679976224899,0.102888390421867,0.100544877350330,0.091944679617882,-0.011961216107011));
res += mul(Get(s2,dx,0), float4x4(0.164418399333954,-0.141346395015717,0.049883510917425,-0.080533713102341,-0.071437999606133,0.138793990015984,0.104316160082817,0.030505621805787,0.059228133410215,-0.179383873939514,0.034958839416504,-0.083809159696102,-0.084880709648132,-0.111913807690144,-0.040678951889277,0.121839433908463));
res += mul(Get(s2,dx,dy), float4x4(-0.049444951117039,-0.011344584636390,-0.041979756206274,0.024822643026710,-0.018234498798847,-0.066654667258263,0.189826220273972,-0.032224621623755,-0.164729490876198,-0.190548017621040,0.132219716906548,0.139251977205276,0.030393354594707,0.076958850026131,0.115631580352783,0.189759045839310));
res += mul(Get(s3,-dx,-dy), float4x4(-0.015387453138828,-0.059569530189037,-0.050779834389687,0.100484408438206,-0.064688175916672,-0.053367249667645,0.023919967934489,-0.107356272637844,-0.137776449322701,0.115850679576397,0.220456108450890,0.140598878264427,-0.135260969400406,-0.161424428224564,0.002834330778569,-0.120785184204578));
res += mul(Get(s3,-dx,0), float4x4(-0.048555303364992,-0.005210664588958,-0.049800161272287,0.251133143901825,-0.030600516125560,-0.010050957091153,-0.103705681860447,-0.183755457401276,0.150904864072800,0.005191331729293,0.006073927041143,-0.040602359920740,-0.044112969189882,-0.115634195506573,-0.010057297535241,-0.153340891003609));
res += mul(Get(s3,-dx,dy), float4x4(0.051789291203022,0.112099274992943,-0.000690682965796,-0.030232537537813,-0.339423298835754,-0.143907517194748,-0.009643472731113,-0.024251827970147,0.085464045405388,0.163627937436104,-0.076005853712559,-0.008617624640465,0.092348888516426,-0.274616509675980,0.231631353497505,0.101556964218616));
res += mul(Get(s3,0,-dy), float4x4(-0.112985290586948,0.016524421051145,0.093439444899559,-0.093765623867512,0.030603868886828,-0.070733428001404,-0.098375722765923,-0.211305379867554,-0.259765237569809,0.236300855875015,0.134018078446388,-0.148438766598701,-0.153833255171776,-0.076718419790268,-0.163242697715759,-0.088481567800045));
res += mul(Get(s3,0,0), float4x4(0.175788179039955,0.079296059906483,-0.052974395453930,0.011377057060599,-0.093091085553169,0.163532719016075,0.074297517538071,0.144207090139389,0.071091651916504,0.156830996274948,0.019715778529644,0.000960994511843,-0.002301525324583,-0.157477721571922,-0.005031196866184,0.017773179337382));
res += mul(Get(s3,0,dy), float4x4(-0.238286048173904,-0.094696201384068,0.168576493859291,-0.014391914941370,-0.003076249035075,0.003579742740840,-0.030052877962589,0.061948098242283,-0.091466985642910,0.119830645620823,0.093617424368858,-0.102678403258324,-0.142278119921684,-0.205923512578011,-0.114260792732239,-0.026572687551379));
res += mul(Get(s3,dx,-dy), float4x4(0.184849396348000,0.182784929871559,0.005762109067291,0.093781381845474,0.221863552927971,-0.141730323433876,-0.071752116084099,-0.258792579174042,-0.157915487885475,-0.026986332610250,-0.092065915465355,0.227576985955238,-0.112926445901394,-0.280149370431900,0.055169224739075,0.081560894846916));
res += mul(Get(s3,dx,0), float4x4(0.011736712418497,0.100997023284435,-0.155363768339157,0.130084767937660,0.125320181250572,-0.026867689564824,-0.008069145493209,-0.051951739937067,0.042315710335970,0.085705660283566,-0.026378083974123,-0.037779983133078,-0.074568092823029,-0.088325388729572,0.223698258399963,0.143856555223465));
res += mul(Get(s3,dx,dy), float4x4(-0.099195264279842,-0.047035474330187,0.008017475716770,0.109773345291615,0.119107194244862,-0.297490984201431,-0.011561345309019,-0.076740913093090,0.280100047588348,0.135201677680016,-0.029404900968075,0.131189078092575,-0.000993839581497,-0.068481221795082,0.049322143197060,0.159906253218651));
return max(float4(0,0,0,0), res);
}
