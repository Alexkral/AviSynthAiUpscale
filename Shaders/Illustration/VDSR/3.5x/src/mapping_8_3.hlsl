sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.043339110910892,0.012384396977723,0.078852288424969,0.146083831787109,0.527748584747314,0.569423794746399,-0.025879479944706,-0.133421421051025,-0.209507122635841,-0.068626753985882,-0.080956868827343,0.234766334295273,-0.131169274449348,0.133240237832069,0.035390678793192,0.020035339519382));
res += mul(Get(s0,-dx,0), float4x4(0.102748736739159,0.066199108958244,0.524327635765076,-0.001806944957934,0.024985406547785,0.185557261109352,-0.123842887580395,-0.020950904116035,-0.016330018639565,-0.075343377888203,-0.038142811506987,0.087723143398762,-0.001167262205854,0.029800767078996,0.001717449864373,0.167727172374725));
res += mul(Get(s0,-dx,dy), float4x4(-0.016985693946481,0.168490886688232,0.460023880004883,-0.022484276443720,-0.257423549890518,0.150446519255638,-0.064962700009346,-0.055484868586063,-0.054903946816921,0.343834668397903,-0.015058933757246,0.062140710651875,-0.010017246007919,-0.079319082200527,0.000238282096689,0.139922916889191));
res += mul(Get(s0,0,-dy), float4x4(-0.014320499263704,0.158346071839333,0.029275020584464,0.153033599257469,0.358246475458145,0.058788958936930,-0.267168402671814,0.255920737981796,-0.081708908081055,-0.083005771040916,-0.152017951011658,-0.137481749057770,0.189427420496941,0.214430689811707,-0.022418422624469,0.050537534058094));
res += mul(Get(s0,0,0), float4x4(0.049395225942135,0.052246477454901,0.156669333577156,-0.145051464438438,-0.006260845344514,0.013778185471892,-0.257651448249817,0.003518258687109,0.186205327510834,-0.209080234169960,-0.072206743061543,-0.039026986807585,0.190818130970001,0.110125526785851,-0.048580870032310,0.096039973199368));
res += mul(Get(s0,0,dy), float4x4(0.337650477886200,0.014107891358435,0.114114366471767,0.136645391583443,-0.316006958484650,0.116933085024357,-0.198419094085693,-0.047132670879364,0.287232309579849,0.071187674999237,0.123917549848557,0.034881770610809,0.146063387393951,0.099765814840794,0.161260485649109,0.051243185997009));
res += mul(Get(s0,dx,-dy), float4x4(0.031301904469728,-0.036381464451551,-0.096917167305946,0.154483094811440,0.012478969991207,-0.018991457298398,0.097921133041382,0.123824343085289,0.022107051685452,-0.033179640769958,-0.031068690121174,-0.176828190684319,0.369097828865051,0.204173028469086,-0.011051535606384,0.039126176387072));
res += mul(Get(s0,dx,0), float4x4(0.023941103368998,-0.120479010045528,0.065408065915108,-0.038017801940441,0.015413096174598,-0.158696323633194,0.102805651724339,0.086241468787193,0.130760461091995,-0.194000333547592,-0.027930887416005,-0.088828302919865,0.299471437931061,0.104572474956512,0.037703420966864,-0.088860899209976));
res += mul(Get(s0,dx,dy), float4x4(0.330910980701447,-0.091018266975880,0.145959109067917,-0.029011929407716,-0.238457515835762,0.115110531449318,0.057080131024122,0.131287574768066,0.162470102310181,-0.082131594419479,0.035859242081642,-0.114135421812534,0.373013794422150,0.013948521576822,-0.003201616462320,0.021715974435210));
res += mul(Get(s1,-dx,-dy), float4x4(0.062188379466534,-0.006451954133809,0.400278806686401,0.263946264982224,-0.021815724670887,-0.103485763072968,-0.036674052476883,0.139367222785950,-0.079942218959332,0.198235988616943,0.067389816045761,-0.129390642046928,0.028262060135603,0.259096950292587,-0.016733672469854,-0.205403313040733));
res += mul(Get(s1,-dx,0), float4x4(0.139837056398392,-0.039669889956713,0.049036175012589,0.039369001984596,0.132190525531769,-0.044120952486992,0.040276210755110,-0.037589091807604,0.009300689212978,0.139622509479523,-0.012819793075323,-0.106027238070965,-0.086987935006618,0.131140694022179,0.146015420556068,-0.259565502405167));
res += mul(Get(s1,-dx,dy), float4x4(0.410138309001923,-0.086813896894455,-0.178104817867279,0.473205983638763,0.005136512685567,0.151336222887039,0.140828490257263,0.094497561454773,-0.032990600913763,0.304274469614029,-0.077481448650360,-0.205879464745522,-0.040217813104391,0.035631321370602,-0.129712462425232,-0.187015876173973));
res += mul(Get(s1,0,-dy), float4x4(0.043541099876165,-0.030633198097348,0.122591927647591,-0.043780963867903,-0.001495040836744,0.032712835818529,0.039997361600399,0.112486757338047,-0.062063053250313,-0.110077045857906,0.091684974730015,-0.093805976212025,-0.012165660969913,0.383747518062592,-0.094745896756649,-0.037506811320782));
res += mul(Get(s1,0,0), float4x4(0.002265596063808,-0.006535859312862,-0.035769738256931,-0.075974628329277,-0.038209304213524,-0.124925464391708,0.193743810057640,-0.090490289032459,-0.104459114372730,-0.085619494318962,-0.029614301398396,-0.028577068820596,0.240597769618034,0.086247965693474,0.223403558135033,-0.035686880350113));
res += mul(Get(s1,0,dy), float4x4(0.512811779975891,-0.071023151278496,-0.108918093144894,0.052491828799248,-0.121011726558208,0.000670593813993,0.195573583245277,0.059330340474844,0.045287985354662,0.065801009535789,-0.138691052794456,-0.160997867584229,0.015408394858241,0.313758462667465,-0.127117007970810,-0.087565124034882));
res += mul(Get(s1,dx,-dy), float4x4(-0.170219615101814,-0.098184190690517,-0.107198521494865,-0.135598465800285,0.334533065557480,-0.029248787090182,0.241248071193695,0.014909802936018,-0.057218302041292,0.021549221128225,-0.020250139757991,-0.086169846355915,-0.240189090371132,0.219421997666359,0.051690760999918,-0.086642295122147));
res += mul(Get(s1,dx,0), float4x4(-0.106356322765350,-0.024046955630183,0.001137097831815,-0.045154299587011,0.139276042580605,-0.120399765670300,0.310247272253036,-0.197903975844383,-0.122428216040134,-0.104577690362930,-0.172016620635986,-0.076090537011623,0.030160432681441,0.023362858220935,-0.001550216577016,-0.026993948966265));
res += mul(Get(s1,dx,dy), float4x4(0.300199717283249,-0.074240811169147,-0.004862232599407,-0.072227232158184,0.221002802252769,0.048282153904438,0.423072785139084,-0.065973475575447,-0.076537966728210,-0.036796823143959,-0.077032804489136,-0.134475216269493,0.120266459882259,0.220365419983864,-0.171186894178391,-0.020682264119387));
res += mul(Get(s2,-dx,-dy), float4x4(-0.193539172410965,-0.071893565356731,-0.180805921554565,0.326792299747467,-0.092816278338432,-0.310682505369186,-0.042325295507908,0.180103778839111,0.040619026869535,-0.140344738960266,0.071306914091110,0.090159416198730,-0.137753903865814,-0.277296185493469,-0.197954550385475,0.051047943532467));
res += mul(Get(s2,-dx,0), float4x4(-0.071061715483665,-0.139261126518250,-0.053888004273176,0.043593253940344,-0.093766383826733,-0.040880806744099,-0.096080876886845,0.029947308823466,-0.056225083768368,0.024768920615315,0.062516666948795,-0.044222943484783,-0.168026253581047,-0.146300554275513,-0.132730334997177,0.110061071813107));
res += mul(Get(s2,-dx,dy), float4x4(0.037801925092936,-0.164704278111458,-0.010978635400534,0.005481005180627,-0.080330885946751,-0.204265296459198,0.124372154474258,0.437036186456680,0.051316142082214,0.075495779514313,-0.078353501856327,-0.028421454131603,-0.213399425148964,-0.101404018700123,-0.177700713276863,-0.002184473676607));
res += mul(Get(s2,0,-dy), float4x4(-0.145448744297028,-0.046209610998631,-0.168683573603630,0.275694042444229,-0.166814774274826,-0.089984521269798,0.122099786996841,-0.158022552728653,0.014766332693398,0.154742509126663,-0.089663825929165,0.053037185221910,-0.167315423488617,-0.227437287569046,-0.101674914360046,0.004388669505715));
res += mul(Get(s2,0,0), float4x4(-0.133750557899475,-0.113186165690422,0.035583447664976,-0.071206033229828,-0.026159489527345,0.094935908913612,-0.048477694392204,0.127791032195091,-0.120765902101994,0.149858072400093,0.054410066455603,-0.055414289236069,-0.024394022300839,-0.023052865639329,-0.006984340958297,0.012778909876943));
res += mul(Get(s2,0,dy), float4x4(-0.106857433915138,-0.025356339290738,-0.035468164831400,-0.039731536060572,0.058554742485285,0.149419099092484,0.198590323328972,0.020272539928555,-0.044252131134272,0.055042643100023,-0.075490400195122,-0.050229273736477,-0.158424839377403,-0.160963088274002,-0.042173009365797,0.048004534095526));
res += mul(Get(s2,dx,-dy), float4x4(-0.266018241643906,0.005773078184575,-0.164302706718445,0.213768988847733,-0.077291972935200,-0.032748065888882,0.252897232770920,-0.100650034844875,0.219874367117882,0.065786466002464,0.047303069382906,-0.036682270467281,0.125760942697525,-0.241622552275658,-0.022335076704621,-0.030594771727920));
res += mul(Get(s2,dx,0), float4x4(-0.211392045021057,0.030571393668652,0.004093311727047,0.157984152436256,-0.019951656460762,0.024722952395678,-0.200128644704819,0.103822268545628,-0.050328359007835,0.032393909990788,0.188997030258179,-0.046793136745691,-0.167876809835434,-0.097536310553551,-0.092513747513294,-0.033289045095444));
res += mul(Get(s2,dx,dy), float4x4(-0.114705227315426,-0.071479290723801,0.067586973309517,0.063670054078102,0.150959208607674,0.002324590459466,0.283505588769913,-0.068018577992916,-0.137820377945900,0.052128359675407,-0.076234899461269,-0.272551327943802,-0.167021229863167,-0.214601501822472,0.040843676775694,0.016102271154523));
res += mul(Get(s3,-dx,-dy), float4x4(0.290886461734772,-0.099666722118855,-0.063834436237812,-0.132513478398323,-0.248010545969009,0.121411360800266,0.023430010303855,0.011095435358584,0.062281213700771,-0.009493219666183,-0.034275069832802,-0.167106404900551,0.141512244939804,-0.154224231839180,-0.040443193167448,-0.036742821335793));
res += mul(Get(s3,-dx,0), float4x4(0.405967652797699,-0.126101121306419,0.089808963239193,0.123409397900105,0.033185269683599,0.075016081333160,-0.085648223757744,0.166798964142799,0.013536718674004,-0.065043739974499,-0.092905394732952,-0.071384556591511,-0.172053769230843,-0.184026345610619,-0.042788088321686,0.039006590843201));
res += mul(Get(s3,-dx,dy), float4x4(0.233907639980316,-0.097762048244476,0.029193459078670,0.089470483362675,0.251009941101074,-0.020087545737624,0.000668351713102,-0.076959908008575,-0.135889947414398,-0.148093193769455,-0.137286975979805,-0.229539439082146,-0.164055392146111,-0.148376509547234,0.143321648240089,0.350831300020218));
res += mul(Get(s3,0,-dy), float4x4(0.124496579170227,0.116174250841141,-0.037803411483765,-0.168409049510956,0.020688941702247,0.002809322206303,0.087549902498722,0.022605791687965,-0.150014340877533,-0.029359545558691,0.022584453225136,-0.077599227428436,0.182616770267487,0.008212625049055,-0.016924966126680,-0.047983102500439));
res += mul(Get(s3,0,0), float4x4(-0.000840825960040,0.014904850162566,-0.073786422610283,-0.026806004345417,0.068466007709503,-0.020143695175648,-0.038913883268833,0.044604320079088,-0.078507408499718,-0.138516589999199,-0.080694906413555,-0.075740680098534,-0.006813442334533,-0.047825284302235,0.010502494871616,0.003373052692041));
res += mul(Get(s3,0,dy), float4x4(-0.142771646380424,0.044861618429422,-0.102674148976803,0.037125807255507,0.123325437307358,-0.067280784249306,-0.019297052174807,0.035173919051886,-0.013464827090502,-0.144395560026169,0.019035510718822,-0.080666519701481,0.012274106033146,0.197904631495476,0.341815918684006,0.176189109683037));
res += mul(Get(s3,dx,-dy), float4x4(-0.042760528624058,0.172801360487938,0.116561569273472,-0.079781092703342,-0.107514277100563,-0.103207752108574,-0.101109132170677,0.039525855332613,-0.046243257820606,0.023101383820176,-0.050467234104872,-0.099910348653793,0.145696684718132,0.109000757336617,-0.050680618733168,0.025050353258848));
res += mul(Get(s3,dx,0), float4x4(-0.087796002626419,-0.031466003507376,-0.136326685547829,-0.072195835411549,-0.128723919391632,-0.064953789114952,0.007065658923239,-0.009064591489732,-0.167261660099030,0.154455661773682,-0.133597537875175,-0.111158072948456,0.029072541743517,-0.068587601184845,0.069459661841393,0.044460162520409));
res += mul(Get(s3,dx,dy), float4x4(0.120791584253311,-0.166376382112503,-0.074888773262501,-0.019489062950015,0.011350854299963,-0.032636728137732,0.260863751173019,-0.043140370398760,-0.071592040359974,0.251657187938690,0.160698980093002,-0.083551198244095,-0.041141331195831,-0.006240956950933,0.082348525524139,-0.143366202712059));
return max(float4(0,0,0,0), res);
}
