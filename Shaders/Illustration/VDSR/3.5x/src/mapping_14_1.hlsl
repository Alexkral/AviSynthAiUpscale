sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.063938893377781,-0.036989022046328,0.002025810303167,-0.124440729618073,0.137222871184349,-0.035205088555813,-0.031635221093893,0.040596410632133,-0.147386416792870,-0.128404021263123,0.039733044803143,0.066045038402081,0.092621617019176,-0.034594647586346,-0.042996291071177,0.070643909275532));
res += mul(Get(s0,-dx,0), float4x4(-0.105519182980061,-0.316408812999725,0.035871941596270,0.008301927708089,-0.024430274963379,-0.048174299299717,-0.044399131089449,0.067989639937878,-0.010926179587841,0.164129272103310,0.009960019960999,0.072543084621429,-0.006531031336635,-0.151589483022690,-0.088855206966400,0.100579828023911));
res += mul(Get(s0,-dx,dy), float4x4(-0.041317515075207,0.000114765527542,0.030880473554134,0.123416230082512,-0.179481506347656,-0.032003685832024,0.069144085049629,0.132002323865891,0.128747805953026,0.123917140066624,-0.030187500640750,0.069237150251865,-0.002671261783689,0.022271862253547,0.072684951126575,-0.058031823486090));
res += mul(Get(s0,0,-dy), float4x4(0.070335716009140,0.106528885662556,0.055626422166824,-0.076986089348793,0.171873882412910,-0.170066833496094,0.041452910751104,-0.010643662884831,0.193957492709160,-0.102795846760273,-0.016468772664666,0.006343625951558,-0.140082955360413,-0.097101621329784,-0.183783754706383,0.015462981536984));
res += mul(Get(s0,0,0), float4x4(0.018029946833849,0.066973529756069,0.178791910409927,0.062926374375820,0.026179695501924,-0.043378628790379,-0.024192538112402,-0.120156809687614,0.050717931240797,0.207744315266609,0.205963104963303,-0.022914445027709,-0.099091418087482,0.026283133774996,0.179180130362511,-0.041452664881945));
res += mul(Get(s0,0,dy), float4x4(0.043453380465508,-0.152289420366287,-0.038662616163492,0.122311495244503,-0.005649474449456,-0.030879318714142,0.212418422102928,0.010103453882039,0.041157588362694,0.068769074976444,0.045029167085886,0.187157109379768,0.127810478210449,-0.199491083621979,-0.073970451951027,0.115566805005074));
res += mul(Get(s0,dx,-dy), float4x4(0.096044436097145,0.036069441586733,-0.004444282501936,-0.025583079084754,0.162998825311661,0.205127999186516,0.043752688914537,-0.028469249606133,0.135173067450523,0.009683175012469,0.168294936418533,0.003190004266798,0.128378555178642,0.090448021888733,-0.104135997593403,0.196932658553123));
res += mul(Get(s0,dx,0), float4x4(-0.096022456884384,-0.116356708109379,0.073491618037224,-0.235176846385002,0.022703019902110,0.239095196127892,0.071096383035183,-0.166986420750618,0.178274527192116,0.227244794368744,-0.072044320404530,0.081902459263802,0.019082203507423,-0.013981550000608,-0.068166933953762,-0.108509145677090));
res += mul(Get(s0,dx,dy), float4x4(-0.062724798917770,-0.126265451312065,0.229297995567322,-0.020276483148336,-0.233628243207932,0.084879517555237,-0.030337430536747,-0.041132602840662,-0.166498392820358,0.076618514955044,-0.098727159202099,0.049525033682585,-0.090746693313122,-0.078278146684170,0.073852464556694,0.005402716342360));
res += mul(Get(s1,-dx,-dy), float4x4(-0.021333346143365,0.003990822937340,0.042658798396587,-0.175522908568382,-0.228706672787666,0.093231201171875,-0.162845805287361,0.166210860013962,-0.205028727650642,0.036832332611084,0.026470972225070,0.079915642738342,0.123467110097408,-0.141274541616440,0.202036902308464,-0.066008962690830));
res += mul(Get(s1,-dx,0), float4x4(0.021470628678799,-0.051729377359152,0.009667389094830,-0.026240667328238,0.005288447719067,-0.021543124690652,0.097610622644424,-0.031149657443166,-0.117276355624199,0.071390770375729,0.123276270925999,0.143774613738060,-0.172857880592346,0.079612657427788,-0.041849456727505,-0.174225866794586));
res += mul(Get(s1,-dx,dy), float4x4(0.057296205312014,0.021786397323012,0.041817236691713,0.046571452170610,-0.039595041424036,-0.079577602446079,-0.236649304628372,-0.058018106967211,0.029677892103791,0.063192792236805,-0.054122213274240,0.078148163855076,-0.273544967174530,0.054620262235403,-0.098597384989262,-0.019856365397573));
res += mul(Get(s1,0,-dy), float4x4(-0.014872756786644,-0.201654419302940,0.012233407236636,-0.230307370424271,-0.151301026344299,0.130942568182945,-0.108695715665817,0.019099060446024,-0.106273174285889,0.164695933461189,0.114245235919952,-0.048727307468653,-0.142489746212959,0.047212723642588,-0.044451698660851,-0.072765924036503));
res += mul(Get(s1,0,0), float4x4(0.020070452243090,0.119702063500881,-0.180497139692307,0.159701257944107,0.094113565981388,0.100283645093441,-0.092969000339508,-0.047207038849592,0.130159184336662,0.170298129320145,0.293385624885559,0.189475923776627,-0.018741261214018,-0.143847957253456,-0.067972123622894,0.028723713010550));
res += mul(Get(s1,0,dy), float4x4(-0.003859607269987,0.133151918649673,-0.009640152566135,-0.078435808420181,0.091409973800182,-0.047459226101637,-0.092252299189568,-0.239202678203583,0.011882044374943,0.217375591397285,0.029603624716401,0.076285474002361,-0.134819343686104,0.105540215969086,0.085502013564110,-0.025352997705340));
res += mul(Get(s1,dx,-dy), float4x4(-0.225402548909187,-0.042990125715733,-0.073095872998238,0.147135451436043,-0.335390806198120,0.182077795267105,0.123756572604179,-0.103381194174290,-0.025914704427123,0.166231065988541,-0.163442268967628,0.082221910357475,-0.129132792353630,-0.015786936506629,-0.050433650612831,-0.041081782430410));
res += mul(Get(s1,dx,0), float4x4(0.001767664682120,0.026002725586295,0.063978478312492,0.217023611068726,0.032793555408716,-0.108408994972706,0.052456811070442,0.144418150186539,0.102178566157818,-0.068237029016018,0.054065331816673,-0.094325587153435,-0.099821589887142,-0.056309740990400,-0.081451669335365,-0.089374296367168));
res += mul(Get(s1,dx,dy), float4x4(0.083733178675175,0.234880298376083,-0.015880996361375,-0.119992263615131,0.191551744937897,-0.022153716534376,-0.055899769067764,0.165438801050186,0.099585048854351,0.093136295676231,0.041877981275320,0.123033389449120,-0.134134918451309,-0.092943102121353,-0.091070465743542,0.232102409005165));
res += mul(Get(s2,-dx,-dy), float4x4(-0.074849054217339,-0.053555175662041,-0.058777991682291,0.028453098610044,0.056783579289913,-0.081619136035442,-0.049633044749498,-0.043515045195818,0.017161812633276,0.008482906967402,-0.003208818379790,-0.011940072290599,0.209593638777733,-0.124294489622116,-0.064040251076221,-0.094433613121510));
res += mul(Get(s2,-dx,0), float4x4(0.001222957740538,-0.050928037613630,0.068850651383400,-0.140373721718788,0.019880024716258,0.011806906200945,0.033335141837597,-0.024844808503985,-0.049687616527081,0.126960635185242,-0.126617223024368,0.001501170918345,0.009360906668007,0.016066286712885,0.137874141335487,0.012484146282077));
res += mul(Get(s2,-dx,dy), float4x4(-0.127439334988594,-0.124058604240417,-0.063751637935638,-0.086571976542473,-0.147242486476898,-0.168721154332161,-0.087953694164753,0.046544577926397,0.172041222453117,-0.059328760951757,0.002473341533914,-0.048188354820013,0.072220347821712,0.030739145353436,-0.112606510519981,0.161382123827934));
res += mul(Get(s2,0,-dy), float4x4(0.039608497172594,-0.259940356016159,-0.019105378538370,0.029225757345557,-0.023794155567884,0.092824935913086,0.131771415472031,0.032830175012350,0.128412142395973,0.015850655734539,-0.083456680178642,0.084472924470901,0.115501888096333,0.056952767074108,0.039025228470564,0.052499614655972));
res += mul(Get(s2,0,0), float4x4(-0.094063535332680,0.040909875184298,-0.172806739807129,0.112447842955589,-0.260280877351761,-0.049259427934885,-0.100216493010521,0.055272080004215,-0.062483407557011,0.023310294374824,0.057687506079674,-0.125749692320824,-0.048283956944942,0.085579134523869,-0.071336477994919,0.044879086315632));
res += mul(Get(s2,0,dy), float4x4(-0.010154351592064,0.089111104607582,-0.084812991321087,0.090021893382072,-0.101377733051777,-0.171641528606415,-0.022917091846466,0.012388604693115,-0.100655555725098,-0.161240324378014,0.302867114543915,0.056697707623243,-0.135647788643837,0.071926675736904,-0.080262497067451,0.042778480798006));
res += mul(Get(s2,dx,-dy), float4x4(0.044745903462172,-0.051066633313894,-0.112908847630024,-0.203828915953636,-0.049185499548912,0.136687099933624,0.030577098950744,0.155187696218491,0.050790473818779,-0.022716054692864,0.092177949845791,0.052839454263449,0.152935594320297,-0.104282364249229,0.113956607878208,-0.056176085025072));
res += mul(Get(s2,dx,0), float4x4(-0.133596017956734,0.016773315146565,-0.105108641088009,0.033323567360640,-0.142663747072220,-0.029736222699285,-0.027487743645906,0.072329454123974,-0.111213922500610,-0.117001853883266,-0.096532471477985,-0.141855984926224,0.042164906859398,0.201661884784698,0.000408437568694,-0.035139482468367));
res += mul(Get(s2,dx,dy), float4x4(0.206653624773026,0.213443353772163,0.119010619819164,-0.006722552701831,-0.060745861381292,-0.081721000373363,-0.061733581125736,0.092288501560688,0.010179796256125,-0.154259011149406,-0.040606644004583,-0.083224818110466,-0.078711718320847,-0.026461742818356,-0.188951179385185,-0.010596500709653));
res += mul(Get(s3,-dx,-dy), float4x4(0.046055305749178,0.033203739672899,0.023885337635875,0.035113971680403,0.010817566886544,0.111407458782196,-0.138128697872162,-0.110430650413036,0.091570042073727,0.130774259567261,-0.098737426102161,0.085692293941975,0.113382972776890,-0.135648101568222,0.029939761385322,0.028158886358142));
res += mul(Get(s3,-dx,0), float4x4(-0.069359816610813,-0.051777321845293,0.018611803650856,-0.047850530594587,0.067533619701862,0.110527604818344,-0.038741875439882,0.076452083885670,0.000853694858961,0.005844891536981,0.043865047395229,-0.085530340671539,0.252290755510330,-0.256038933992386,-0.059151995927095,-0.006121007725596));
res += mul(Get(s3,-dx,dy), float4x4(-0.035416729748249,-0.059971828013659,-0.020434129983187,-0.087198473513126,0.184102579951286,0.039560806006193,0.072258941829205,-0.058977264910936,-0.022262811660767,-0.032428853213787,-0.056868165731430,0.238499373197556,-0.042897440493107,-0.256902784109116,-0.035859491676092,0.134043633937836));
res += mul(Get(s3,0,-dy), float4x4(0.001081924419850,0.185647562146187,0.163155645132065,-0.242183580994606,-0.142708212137222,-0.070176698267460,-0.029912177473307,-0.204969227313995,-0.136928498744965,-0.076983503997326,0.001988115021959,-0.010099229402840,-0.085756078362465,-0.201281458139420,-0.155598834156990,0.213568776845932));
res += mul(Get(s3,0,0), float4x4(-0.035131763666868,-0.051301594823599,-0.079235307872295,0.132135435938835,-0.020329559221864,-0.153419807553291,-0.136892557144165,0.005506431218237,0.032836940139532,-0.082613900303841,-0.067650973796844,-0.114888846874237,-0.150647044181824,-0.047647789120674,-0.047999743372202,0.129011660814285));
res += mul(Get(s3,0,dy), float4x4(0.257411926984787,0.143164530396461,-0.173586562275887,0.092483118176460,-0.002561176195741,0.020525056868792,-0.176670074462891,0.001232084585354,0.127912387251854,-0.040126830339432,-0.113798856735229,0.212957888841629,0.176809936761856,-0.163725554943085,-0.027121672406793,0.121685929596424));
res += mul(Get(s3,dx,-dy), float4x4(-0.085321187973022,-0.038689695298672,-0.043721091002226,-0.054207455366850,0.130367919802666,0.006892387289554,0.023103276267648,-0.142937615513802,-0.138699978590012,0.068103790283203,0.159927576780319,0.034351624548435,0.274997234344482,0.108449138700962,-0.153428718447685,0.076795794069767));
res += mul(Get(s3,dx,0), float4x4(0.234682679176331,0.071528337895870,-0.101137995719910,0.032265640795231,-0.070392206311226,0.096836708486080,-0.019242363050580,0.083317436277866,-0.066898971796036,-0.130860477685928,0.085883371531963,-0.106957115232944,0.073479421436787,-0.046327579766512,-0.179118648171425,-0.131331458687782));
res += mul(Get(s3,dx,dy), float4x4(-0.164120793342590,0.040552724152803,0.109238103032112,0.047552965581417,0.122931480407715,-0.003260843688622,-0.098113007843494,-0.012100391089916,-0.088745757937431,0.270006448030472,0.007651036139578,0.123283311724663,0.177793785929680,-0.190410822629929,0.061921931803226,0.098893471062183));
return max(float4(0,0,0,0), res);
}
