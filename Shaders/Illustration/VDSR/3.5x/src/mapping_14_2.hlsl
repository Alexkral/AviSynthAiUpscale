sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.050397612154484,-0.169246956706047,-0.379452735185623,-0.203033328056335,0.261727392673492,-0.274592906236649,0.248035058379173,0.162950232625008,0.086858503520489,0.170530080795288,0.044144820421934,-0.013933921232820,0.166089132428169,0.234694853425026,-0.107677139341831,0.097537301480770));
res += mul(Get(s0,-dx,0), float4x4(-0.029166273772717,-0.127337992191315,-0.200836837291718,0.094364412128925,0.076719671487808,-0.008403082378209,0.266087383031845,0.056460816413164,0.064863331615925,0.077747821807861,0.187178835272789,-0.040818348526955,0.018123066052794,0.294983863830566,-0.151593148708344,0.044772658497095));
res += mul(Get(s0,-dx,dy), float4x4(-0.134970635175705,-0.068591155111790,-0.099227063357830,0.069465048611164,0.277896732091904,0.130301639437675,-0.199638411402702,0.129029750823975,-0.026155967265368,0.015983156859875,0.135533779859543,0.078254029154778,-0.113097935914993,0.244271233677864,-0.301808476448059,0.027933036908507));
res += mul(Get(s0,0,-dy), float4x4(-0.108971983194351,-0.141155928373337,-0.218328997492790,0.088382527232170,0.008768687024713,-0.339332640171051,0.064430192112923,-0.065355665981770,0.019567344337702,-0.040297389030457,0.612203955650330,0.038179486989975,0.028726277872920,0.309889584779739,0.259425371885300,0.081989713013172));
res += mul(Get(s0,0,0), float4x4(-0.028030984103680,-0.007265644147992,0.209131360054016,0.271344631910324,-0.180137917399406,-0.000661014171783,0.516573667526245,0.054698769003153,0.068473994731903,0.069876678287983,0.296357929706573,-0.086811296641827,-0.138079196214676,0.232804000377655,-0.083624109625816,0.064754478633404));
res += mul(Get(s0,0,dy), float4x4(0.060985393822193,-0.073695696890354,0.306523621082306,-0.024656789377332,-0.018432529643178,0.077868290245533,0.173843413591385,0.012105260975659,-0.016113409772515,0.015595707111061,0.069359362125397,-0.051856778562069,-0.157501712441444,0.307481408119202,-0.208909839391708,-0.115960322320461));
res += mul(Get(s0,dx,-dy), float4x4(0.095569431781769,-0.228014737367630,0.092144243419170,0.205009877681732,-0.226864680647850,-0.065379008650780,-0.436645627021790,0.153766468167305,0.065654695034027,-0.040229003876448,0.173747569322586,0.058393180370331,0.087844371795654,0.207977622747421,-0.122219145298004,-0.148240104317665));
res += mul(Get(s0,dx,0), float4x4(0.300833821296692,-0.185660421848297,0.223778367042542,0.034180488437414,-0.116152681410313,-0.018820185214281,0.046016268432140,0.061674807220697,0.068247020244598,-0.054044194519520,0.258374750614166,0.150578439235687,0.062022529542446,0.093438938260078,0.016680410131812,-0.090814970433712));
res += mul(Get(s0,dx,dy), float4x4(0.000441428041086,-0.139479964971542,0.007791523355991,-0.152976751327515,-0.102696642279625,0.009477139450610,-0.030608085915446,0.134594544768333,0.059131570160389,0.071392767131329,-0.060507170855999,0.141603976488113,-0.095480427145958,0.296497464179993,-0.073167033493519,-0.082365125417709));
res += mul(Get(s1,-dx,-dy), float4x4(0.343108028173447,-0.134870857000351,0.321053743362427,-0.075466476380825,0.255032777786255,0.130157724022865,0.234940171241760,0.153356254100800,0.045357536524534,0.045399416238070,-0.125587597489357,0.079313479363918,0.080447077751160,-0.147653743624687,-0.104398593306541,0.021435201168060));
res += mul(Get(s1,-dx,0), float4x4(-0.101028665900230,0.160273656249046,0.180434405803680,-0.201150760054588,0.111487440764904,0.262629210948944,-0.001425777329132,0.026201752945781,-0.165998563170433,0.256988584995270,-0.312589794397354,-0.134814321994781,-0.150018617510796,0.346522003412247,-0.375376224517822,0.148474648594856));
res += mul(Get(s1,-dx,dy), float4x4(-0.081150509417057,0.260020434856415,-0.119181461632252,-0.183858424425125,0.089678518474102,0.364546298980713,-0.152898281812668,0.041328713297844,0.043583467602730,-0.043667573481798,-0.082995519042015,0.076784797012806,-0.074086286127567,0.054149553179741,-0.141748145222664,-0.062637358903885));
res += mul(Get(s1,0,-dy), float4x4(0.301382482051849,-0.174359574913979,0.427971661090851,-0.144836008548737,-0.067213274538517,-0.129821702837944,0.338820487260818,0.237098395824432,0.109685480594635,-0.067140661180019,-0.101742073893547,0.092836335301399,0.149351030588150,-0.063980445265770,0.080130793154240,-0.054754946380854));
res += mul(Get(s1,0,0), float4x4(0.026168961077929,0.044709049165249,0.370572835206985,-0.136483713984489,0.059416402131319,0.268159985542297,0.305309623479843,0.191590562462807,-0.134952858090401,0.020469296723604,-0.450202554464340,0.062790893018246,-0.031152917072177,0.205073565244675,-0.020504999905825,-0.022417649626732));
res += mul(Get(s1,0,dy), float4x4(-0.051078315824270,0.257554441690445,-0.247535049915314,-0.055428687483072,0.006153538357466,0.113685287535191,-0.127526655793190,0.242867723107338,0.154291480779648,0.075766414403915,0.026716349646449,0.032809633761644,-0.070116698741913,0.153861641883850,-0.042089395225048,0.163499847054482));
res += mul(Get(s1,dx,-dy), float4x4(0.051267255097628,0.014901583082974,0.080739676952362,-0.037792198359966,-0.017402565106750,-0.117213949561119,0.314477384090424,0.090226344764233,0.169920295476913,0.012207655236125,0.026240771636367,-0.009768969379365,0.211281955242157,0.001185456640087,0.165919899940491,-0.161542654037476));
res += mul(Get(s1,dx,0), float4x4(-0.145320460200310,0.176018014550209,-0.207897156476974,-0.071256555616856,-0.071449033915997,0.096425414085388,0.002263057744130,-0.078695259988308,0.241960614919662,-0.132610499858856,-0.227525979280472,0.012152357958257,0.298602670431137,0.180212154984474,-0.054890953004360,0.017141489312053));
res += mul(Get(s1,dx,dy), float4x4(-0.133877232670784,0.187665119767189,-0.294464975595474,-0.106730692088604,-0.024330075830221,0.149383276700974,-0.182350710034370,0.021984467282891,0.549954593181610,-0.022081254050136,0.496021211147308,-0.098627321422100,0.019318228587508,0.132659718394279,-0.035131238400936,0.085357360541821));
res += mul(Get(s2,-dx,-dy), float4x4(0.081348821520805,0.035241819918156,-0.053076613694429,0.054335232824087,0.035795331001282,0.093944869935513,0.495014131069183,-0.222136020660400,-0.152817398309708,-0.058353114873171,-0.178199470043182,0.141354084014893,0.059710849076509,0.006238261237741,0.259315311908722,0.057075504213572));
res += mul(Get(s2,-dx,0), float4x4(-0.067809872329235,0.138209417462349,-0.188120707869530,-0.077465713024139,0.258842438459396,-0.061297684907913,0.743369877338409,-0.168071120977402,-0.042450930923223,-0.027365317568183,0.119691617786884,-0.076729714870453,0.166322529315948,-0.086273632943630,0.536301732063293,0.282489389181137));
res += mul(Get(s2,-dx,dy), float4x4(-0.348694741725922,0.089622355997562,-0.351118087768555,0.020320540294051,0.260782390832901,-0.079056918621063,0.483587086200714,0.042982984334230,0.036433901637793,-0.003213917370886,0.009067108854651,-0.099516279995441,0.328789263963699,-0.006796733010560,0.656909286975861,0.222994446754456));
res += mul(Get(s2,0,-dy), float4x4(0.266545087099075,0.039263218641281,0.123146750032902,0.231385767459869,-0.103802390396595,0.143574401736259,-0.452983796596527,-0.193219721317291,-0.123098462820053,-0.051390413194895,-0.123734958469868,0.310017615556717,0.217414483428001,0.144015595316887,0.261191546916962,-0.050704997032881));
res += mul(Get(s2,0,0), float4x4(0.300196975469589,-0.055873505771160,-0.055214598774910,0.223549336194992,0.047281749546528,-0.124972559511662,-0.140842273831367,-0.055376987904310,-0.015457206405699,-0.026814693585038,0.154277145862579,0.070005804300308,0.257108688354492,-0.020296432077885,0.521173238754272,-0.057330220937729));
res += mul(Get(s2,0,dy), float4x4(0.037020605057478,0.115549743175507,-0.103178225457668,-0.006062875501812,0.103729829192162,-0.154633343219757,0.525466620922089,0.039188951253891,0.329611480236053,-0.090159744024277,0.045968979597092,-0.166346445679665,0.344253450632095,0.044570252299309,0.405962496995926,-0.139570876955986));
res += mul(Get(s2,dx,-dy), float4x4(0.232433840632439,-0.100821018218994,0.575721383094788,0.071750029921532,-0.260690182447433,0.209297537803650,-0.289876282215118,0.188819140195847,-0.140885740518570,-0.148074656724930,-0.404982000589371,0.122110858559608,0.160960674285889,0.011139630340040,0.293677955865860,0.080017283558846));
res += mul(Get(s2,dx,0), float4x4(0.309269815683365,0.019929161295295,0.655085146427155,-0.032155342400074,-0.027294006198645,0.049993284046650,-0.131731674075127,0.207763731479645,0.050277065485716,-0.186561495065689,-0.147396087646484,0.045933973044157,0.024568831548095,0.077029049396515,-0.034142155200243,-0.049812790006399));
res += mul(Get(s2,dx,dy), float4x4(0.057055443525314,0.161123067140579,0.162311941385269,-0.086984910070896,0.251769602298737,-0.102005541324615,0.516243159770966,0.175226211547852,0.064000502228737,-0.178895682096481,-0.185020610690117,-0.031560756266117,-0.099137730896473,0.086349405348301,-0.087438434362411,0.001440919586457));
res += mul(Get(s3,-dx,-dy), float4x4(-0.119737081229687,0.097859695553780,-0.353796094655991,-0.051425307989120,0.264330685138702,0.063390001654625,0.285259813070297,-0.011946114711463,0.053602509200573,-0.148448362946510,0.398198634386063,-0.050310295075178,0.082056418061256,-0.147279068827629,0.129052996635437,-0.125215590000153));
res += mul(Get(s3,-dx,0), float4x4(-0.217569828033447,-0.120336301624775,-0.208597198128700,0.069215789437294,-0.057750642299652,0.102450773119926,0.300859957933426,-0.010516861453652,0.247280359268188,-0.267534792423248,0.150233358144760,0.084166958928108,0.046645492315292,-0.153038382530212,-0.157680884003639,-0.121368095278740));
res += mul(Get(s3,-dx,dy), float4x4(0.035021040588617,-0.064872376620770,-0.005514752119780,0.110507532954216,-0.076056621968746,0.243820130825043,0.115321859717369,-0.017334964126348,0.019928736612201,-0.136877357959747,-0.100524052977562,-0.068018943071365,0.293881684541702,-0.235680624842644,0.178648367524147,0.024915963411331));
res += mul(Get(s3,0,-dy), float4x4(-0.184212222695351,0.290022313594818,-0.387225151062012,0.070380270481110,0.124805115163326,0.041578810662031,-0.048371281474829,0.004295736551285,0.006703677121550,-0.134366199374199,0.364865720272064,0.065488338470459,-0.019283803179860,-0.133478999137878,0.343068271875381,-0.140755251049995));
res += mul(Get(s3,0,0), float4x4(-0.108112275600433,0.101006224751472,-0.136711433529854,0.134607642889023,-0.083846002817154,0.139361113309860,0.055209081619978,-0.103834137320518,-0.075402103364468,-0.041125033050776,0.308396786451340,-0.121019899845123,-0.106935255229473,-0.119379356503487,0.228735119104385,-0.171560153365135));
res += mul(Get(s3,0,dy), float4x4(0.140427201986313,0.070697113871574,0.070590287446976,0.241623818874359,-0.098331823945045,0.199563682079315,-0.101632043719292,-0.051635321229696,-0.052391551434994,-0.367744565010071,-0.429067641496658,-0.025301167741418,-0.128405824303627,-0.296600550413132,0.061254896223545,0.002723572310060));
res += mul(Get(s3,dx,-dy), float4x4(-0.050690185278654,0.177288994193077,-0.282736241817474,-0.053426250815392,-0.023427642881870,0.126111805438995,-0.100917667150497,0.231211781501770,0.106910593807697,-0.189410641789436,0.225240513682365,0.157318428158760,-0.150864765048027,0.078946635127068,-0.065284796059132,0.083325311541557));
res += mul(Get(s3,dx,0), float4x4(0.020465375855565,0.009346461854875,0.117092818021774,0.102402783930302,-0.031659565865993,0.058442052453756,-0.204004108905792,0.064037956297398,-0.101115725934505,-0.122929811477661,0.175726398825645,0.003116477746516,-0.147548273205757,-0.062606528401375,-0.114939652383327,-0.033504594117403));
res += mul(Get(s3,dx,dy), float4x4(0.321225434541702,-0.042248763144016,0.259385228157043,0.115554444491863,-0.145010948181152,0.081184521317482,-0.310637891292572,0.068504884839058,0.039701387286186,-0.158841490745544,-0.099679082632065,-0.098308660089970,-0.194743305444717,-0.165298029780388,-0.106445111334324,0.044224627315998));
return max(float4(0,0,0,0), res);
}
