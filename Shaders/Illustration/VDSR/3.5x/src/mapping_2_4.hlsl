sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.134294912219048,0.129693165421486,0.034792762249708,0.029418138787150,0.107961565256119,-0.083673700690269,-0.165101051330566,-0.068431608378887,0.026378093287349,-0.048698328435421,0.090419366955757,0.056713048368692,0.106210902333260,0.025667687878013,-0.003402942791581,0.072451345622540));
res += mul(Get(s0,-dx,0), float4x4(-0.192841842770576,0.014318961650133,-0.058390099555254,-0.114592969417572,-0.162037551403046,0.001935417181812,0.175764977931976,-0.151130855083466,0.160112187266350,0.140295013785362,0.123853951692581,0.026810413226485,-0.113833703100681,-0.115512005984783,0.134992003440857,0.042643636465073));
res += mul(Get(s0,-dx,dy), float4x4(-0.200298175215721,-0.025591488927603,0.142767041921616,-0.043149728327990,0.001559080788866,0.182214841246605,-0.016519343480468,-0.171759903430939,0.128890544176102,-0.066646344959736,-0.066991873085499,-0.087558485567570,0.011660804040730,0.030528746545315,0.055242802947760,-0.026899440214038));
res += mul(Get(s0,0,-dy), float4x4(-0.141822427511215,-0.079927131533623,-0.049309886991978,0.096856541931629,0.060970604419708,-0.178691968321800,-0.182488560676575,-0.005012891255319,0.132085725665092,0.056482922285795,0.150605753064156,-0.038053035736084,0.041999030858278,-0.038507334887981,0.151848241686821,0.046110101044178));
res += mul(Get(s0,0,0), float4x4(0.083129391074181,-0.093617349863052,0.036108952015638,-0.139099955558777,-0.063381448388100,0.132446229457855,0.012945172376931,0.136713162064552,-0.028740892186761,0.090084820985794,0.172159284353256,-0.000192129751667,-0.068049922585487,0.007102426141500,-0.108981706202030,0.002626460045576));
res += mul(Get(s0,0,dy), float4x4(0.220888644456863,0.035795070230961,0.057014364749193,0.023526506498456,-0.059949066489935,0.039891067892313,-0.025763275101781,-0.073748409748077,-0.134952306747437,-0.025584330782294,-0.052773315459490,-0.043872416019440,-0.176731392741203,0.132028877735138,0.074400864541531,-0.056030936539173));
res += mul(Get(s0,dx,-dy), float4x4(-0.048194821923971,0.023923294618726,-0.157784983515739,-0.160158053040504,0.032409910112619,0.008058429695666,0.022588076069951,-0.082533523440361,0.081125840544701,-0.088239260017872,-0.016368869692087,0.002263003727421,-0.269374847412109,0.111755773425102,0.091785609722137,-0.047393370419741));
res += mul(Get(s0,dx,0), float4x4(0.124380663037300,-0.017331678420305,0.101356700062752,-0.018497478216887,-0.044441040605307,-0.047104515135288,0.023859139531851,0.082443661987782,0.132432326674461,0.001389574492350,-0.403400272130966,0.025800025090575,0.232108131051064,-0.230686768889427,-0.097282543778419,-0.111324228346348));
res += mul(Get(s0,dx,dy), float4x4(-0.232671156525612,0.190026775002480,0.015466224402189,0.065882325172424,-0.104270845651627,-0.102419391274452,0.010079509578645,0.096065729856491,0.076693519949913,-0.003540903795511,-0.121616415679455,-0.177260264754295,0.227994203567505,-0.012722030282021,-0.175972536206245,-0.025259941816330));
res += mul(Get(s1,-dx,-dy), float4x4(0.065675273537636,0.131408661603928,-0.019552556797862,0.120741896331310,0.040222961455584,0.138313174247742,-0.094695709645748,0.069216713309288,-0.125402525067329,-0.104186348617077,-0.179513782262802,-0.002745266305283,0.069819219410419,0.097158841788769,0.082535147666931,0.117633379995823));
res += mul(Get(s1,-dx,0), float4x4(0.127229601144791,-0.116712950170040,-0.213420048356056,0.073338918387890,0.085817381739616,-0.008264212869108,-0.000689224398229,-0.112737059593201,-0.095610231161118,0.025427855551243,0.036234833300114,-0.082461133599281,0.152319207787514,-0.072213195264339,-0.011245774105191,0.016021618619561));
res += mul(Get(s1,-dx,dy), float4x4(0.061900015920401,-0.002221955219284,-0.069906607270241,-0.001173980068415,-0.011836955323815,-0.010237234644592,0.154325157403946,0.079416595399380,0.070441082119942,0.195446982979774,0.118629895150661,0.022629480808973,0.120774753391743,-0.297811895608902,-0.037304934114218,-0.050121728330851));
res += mul(Get(s1,0,-dy), float4x4(0.200538471341133,0.091426536440849,0.023301076143980,0.045202821493149,-0.215873762965202,-0.022217150777578,0.091558419167995,-0.049748428165913,0.104039877653122,0.020508861169219,-0.185512423515320,0.110332220792770,0.113160520792007,-0.178969934582710,-0.002392531605437,-0.100672684609890));
res += mul(Get(s1,0,0), float4x4(-0.086720801889896,0.135624572634697,-0.022845763713121,-0.101847633719444,-0.060075029730797,-0.235050678253174,-0.050981573760509,-0.083593428134918,-0.093316666781902,-0.000171327876160,-0.225139841437340,0.065724968910217,-0.198345869779587,0.018818859010935,0.080182082951069,-0.038452841341496));
res += mul(Get(s1,0,dy), float4x4(0.036305774003267,-0.030000865459442,-0.177593886852264,-0.020050425082445,-0.180494353175163,-0.016298182308674,0.047478422522545,0.091196060180664,-0.305558472871780,0.085807666182518,-0.081906549632549,-0.054698199033737,-0.051694996654987,0.132903307676315,0.099995225667953,0.050987824797630));
res += mul(Get(s1,dx,-dy), float4x4(-0.009834929369390,0.107369020581245,-0.048337489366531,-0.090468168258667,0.102571830153465,-0.157958224415779,-0.120332889258862,-0.039399579167366,0.038773618638515,0.115643449127674,-0.069366931915283,-0.076391234993935,-0.024131136015058,-0.059492431581020,0.038856036961079,-0.101330786943436));
res += mul(Get(s1,dx,0), float4x4(-0.093359753489494,0.071095831692219,-0.085264310240746,0.042872961610556,-0.083595953881741,0.107029549777508,-0.036329898983240,0.061731487512589,0.121684946119785,-0.153984501957893,-0.072414010763168,0.000431085354649,0.075508609414101,-0.018402660265565,0.091951139271259,-0.101345792412758));
res += mul(Get(s1,dx,dy), float4x4(0.133887901902199,-0.070126235485077,0.070662751793861,0.019203141331673,0.119802154600620,0.170507207512856,-0.000237954038312,0.163289561867714,-0.079220362007618,0.176579698920250,-0.136965349316597,0.069401159882545,0.162171557545662,-0.013650766573846,-0.075105890631676,-0.025525143370032));
res += mul(Get(s2,-dx,-dy), float4x4(-0.088800735771656,-0.161064550280571,-0.155002012848854,0.291664868593216,0.034701872617006,-0.101663947105408,0.093885198235512,-0.253435313701630,0.145316705107689,-0.126693293452263,-0.337947845458984,-0.127020627260208,-0.258947104215622,-0.071265280246735,0.139075011014938,0.107196748256683));
res += mul(Get(s2,-dx,0), float4x4(-0.029962196946144,0.087818890810013,0.297958225011826,0.044657681137323,0.196671828627586,-0.018390452489257,0.241759359836578,-0.042721167206764,0.016846897080541,0.150865644216537,-0.170441821217537,0.061079937964678,-0.080785915255547,-0.060289226472378,-0.153675541281700,0.144390508532524));
res += mul(Get(s2,-dx,dy), float4x4(0.021383777260780,-0.036776982247829,-0.030374310910702,0.016949288547039,-0.000327995221596,-0.023977803066373,0.042753420770168,-0.075790323317051,-0.078687153756618,0.072018429636955,0.059509970247746,0.064466021955013,-0.037240844219923,0.025171186774969,0.177781090140343,0.151328876614571));
res += mul(Get(s2,0,-dy), float4x4(-0.035167291760445,0.040741611272097,-0.095130942761898,-0.098221428692341,-0.105963647365570,0.196561485528946,0.196978554129601,0.103094629943371,-0.034552775323391,0.182126358151436,-0.074160993099213,-0.018102170899510,-0.119544327259064,-0.112191647291183,0.140856757760048,-0.117081597447395));
res += mul(Get(s2,0,0), float4x4(0.200099796056747,-0.198921471834183,-0.079008795320988,-0.070205137133598,0.241801947355270,-0.111096374690533,-0.171569302678108,-0.160679891705513,-0.049314275383949,-0.109244957566261,0.164844200015068,0.040338773280382,0.006204020231962,-0.119854301214218,0.090563982725143,0.086259290575981));
res += mul(Get(s2,0,dy), float4x4(0.116583682596684,0.048943120986223,-0.205003708600998,0.078137420117855,0.025604156777263,0.266681462526321,0.024191496893764,-0.034572925418615,-0.058050133287907,0.073246240615845,-0.049466371536255,0.115622945129871,0.127440080046654,0.061894543468952,-0.094322852790356,-0.023345272988081));
res += mul(Get(s2,dx,-dy), float4x4(-0.072285883128643,-0.021420903503895,-0.154637843370438,0.221132874488831,-0.002285818336532,-0.096993222832680,-0.119287326931953,-0.040687303990126,-0.212319716811180,0.049782693386078,0.028622144833207,0.227955520153046,-0.099890530109406,0.017265494912863,-0.083225555717945,-0.077743172645569));
res += mul(Get(s2,dx,0), float4x4(0.026250369846821,-0.062084209173918,0.073214985430241,-0.035519786179066,-0.022076437249780,0.088559918105602,0.028860079124570,0.083387359976768,-0.076083898544312,0.039592515677214,0.116227418184280,-0.016244456171989,-0.042467791587114,0.069024659693241,0.021915769204497,-0.022229798138142));
res += mul(Get(s2,dx,dy), float4x4(0.071055710315704,0.035790808498859,0.111689053475857,-0.010922295972705,0.020625075325370,0.142110586166382,-0.105622090399265,-0.087524600327015,0.066372036933899,0.113891735672951,0.036917474120855,0.160671249032021,-0.209036529064178,0.267073452472687,0.053699277341366,-0.037276577204466));
res += mul(Get(s3,-dx,-dy), float4x4(0.016991166397929,0.090717084705830,-0.068123467266560,-0.144563227891922,0.117677055299282,0.006537769921124,-0.003496349789202,0.051292836666107,-0.064974129199982,-0.043910648673773,0.000019197774236,0.087353564798832,-0.004007726442069,0.051076121628284,-0.106849178671837,-0.000583257933613));
res += mul(Get(s3,-dx,0), float4x4(0.155223548412323,-0.072475299239159,0.058517776429653,0.062337130308151,-0.074128635227680,0.205580487847328,-0.080898836255074,-0.055630777031183,-0.088021270930767,-0.082912020385265,-0.062485270202160,0.018738625571132,0.082962147891521,-0.101852834224701,-0.037229649722576,-0.063728637993336));
res += mul(Get(s3,-dx,dy), float4x4(0.025645755231380,0.023207895457745,-0.108659073710442,-0.077402547001839,0.115952752530575,-0.102507516741753,0.005974106490612,0.010330084711313,0.070145733654499,0.136423438787460,0.098223946988583,-0.098408326506615,0.075550831854343,-0.112192325294018,-0.093928292393684,-0.065114326775074));
res += mul(Get(s3,0,-dy), float4x4(0.092680275440216,-0.107621558010578,-0.137187272310257,0.154971003532410,-0.114905044436455,-0.001934521831572,0.119889542460442,0.056472636759281,-0.008307682350278,-0.017017662525177,-0.036928735673428,0.080283053219318,0.073065094649792,-0.095212757587433,0.050238531082869,-0.148796841502190));
res += mul(Get(s3,0,0), float4x4(0.107390172779560,0.014503462240100,-0.074457965791225,0.013040843419731,0.101164609193802,-0.025870624929667,-0.105494022369385,0.208193108439445,-0.256455749273300,0.084940075874329,0.026593780145049,-0.034088183194399,-0.064038805663586,0.163252577185631,-0.017703948542476,-0.049921441823244));
res += mul(Get(s3,0,dy), float4x4(-0.017282892018557,-0.052032891660929,0.111259862780571,0.200399756431580,0.103656895458698,-0.094673067331314,-0.032404273748398,0.104656301438808,0.017664518207312,-0.032987605780363,-0.058540973812342,0.204418301582336,0.051994096487761,0.131986513733864,-0.129454359412193,-0.095770053565502));
res += mul(Get(s3,dx,-dy), float4x4(0.015767458826303,0.037263814359903,0.093734018504620,0.161002963781357,-0.049498625099659,0.015103689394891,0.121663123369217,0.099038131535053,0.155247390270233,0.038391828536987,0.009746039286256,0.075013138353825,0.002168213250116,0.133234351873398,0.035878024995327,0.094279795885086));
res += mul(Get(s3,dx,0), float4x4(-0.150291636586189,0.135483115911484,0.223116114735603,-0.061178773641586,0.178313419222832,0.085979968309402,-0.203005477786064,0.048263728618622,0.004807679913938,-0.096531733870506,-0.032044649124146,-0.014813179150224,-0.006011323072016,-0.013843216933310,0.088718250393867,0.117366187274456));
res += mul(Get(s3,dx,dy), float4x4(0.070017337799072,-0.059710893779993,0.066141635179520,-0.089242547750473,-0.048220518976450,-0.103376433253288,0.122620396316051,-0.130647912621498,-0.015198796056211,-0.157849743962288,0.184674441814423,-0.003933657892048,-0.191967338323593,-0.018272010609508,-0.018543811514974,0.044205952435732));
return max(float4(0,0,0,0), res);
}
