sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.075679264962673,-0.211092844605446,-0.271143794059753,-0.163365393877029,-0.080974206328392,0.016934808343649,-0.183339044451714,-0.067233830690384,-0.089510694146156,-0.157963603734970,0.198272511363029,0.029455671086907,-0.105789229273796,-0.099113181233406,-0.169622689485550,-0.154455661773682));
res += mul(Get(s0,-dx,0), float4x4(-0.188020482659340,-0.169274404644966,0.068315252661705,0.135180547833443,-0.096582457423210,-0.015689074993134,-0.039993129670620,0.032659962773323,-0.154113665223122,0.001910436199978,-0.047929834574461,0.031505018472672,-0.173687115311623,-0.153362527489662,-0.031850002706051,-0.065334655344486));
res += mul(Get(s0,-dx,dy), float4x4(-0.347750067710876,-0.113881222903728,-0.126192152500153,0.231829181313515,-0.047405242919922,-0.099926881492138,0.074224039912224,0.207350000739098,-0.052725687623024,-0.202142640948296,0.051822625100613,-0.013376248069108,0.088312625885010,0.091112822294235,-0.113784134387970,-0.251634508371353));
res += mul(Get(s0,0,-dy), float4x4(-0.079941257834435,-0.103671565651894,-0.199399441480637,-0.145990148186684,0.028419671580195,0.025017006322742,-0.181145235896111,0.158217132091522,0.211082711815834,-0.079076603055000,0.061510886996984,-0.014267172664404,0.028261112049222,-0.024984873831272,-0.104048334062099,-0.058046344667673));
res += mul(Get(s0,0,0), float4x4(-0.233118921518326,-0.109620444476604,-0.097420722246170,0.174055486917496,0.058844007551670,0.054279863834381,-0.172753438353539,0.062587380409241,0.094082534313202,-0.002377146854997,0.015753436833620,-0.047560568898916,-0.035335697233677,-0.183235496282578,-0.035429302603006,-0.012419995851815));
res += mul(Get(s0,0,dy), float4x4(-0.283596545457840,-0.169568315148354,-0.131785973906517,0.037351429462433,0.091099724173546,0.013586658984423,-0.130279004573822,0.030219733715057,0.029997834935784,-0.151005327701569,0.054895240813494,0.118403114378452,0.011640982702374,0.049869708716869,-0.059175092726946,0.079442493617535));
res += mul(Get(s0,dx,-dy), float4x4(-0.069635614752769,-0.067076206207275,-0.354706346988678,0.304952591657639,-0.052602834999561,-0.029638547450304,-0.077570520341396,0.150711804628372,0.166978165507317,-0.133395224809647,-0.018825516104698,0.060110710561275,0.149419784545898,0.388249963521957,0.044989965856075,-0.043538857251406));
res += mul(Get(s0,dx,0), float4x4(-0.175280094146729,-0.000702098303009,0.042775668203831,0.165120765566826,-0.000579908082727,0.000737674650736,0.152503624558449,0.041047099977732,-0.062037698924541,-0.058752510696650,0.035864070057869,-0.115405827760696,-0.073619842529297,0.127226114273071,-0.208839952945709,0.062830016016960));
res += mul(Get(s0,dx,dy), float4x4(-0.221183195710182,-0.071888774633408,0.185502976179123,-0.038083784282207,0.131041288375854,0.051850106567144,0.233144655823708,-0.054108239710331,-0.042324740439653,-0.080078549683094,-0.036577939987183,0.169709593057632,-0.083311289548874,0.097742885351181,-0.008485917933285,0.274739712476730));
res += mul(Get(s1,-dx,-dy), float4x4(-0.382531255483627,-0.160566747188568,0.021883349865675,-0.024193998426199,0.043381657451391,-0.091082192957401,-0.010828894563019,0.005119553767145,0.153013512492180,-0.162405505776405,-0.010546854697168,-0.285832971334457,-0.044889610260725,-0.009717121720314,-0.088995225727558,0.156295776367188));
res += mul(Get(s1,-dx,0), float4x4(-0.200375556945801,-0.145680248737335,-0.043822813779116,-0.215071484446526,0.041287757456303,-0.025782052427530,-0.109031833708286,-0.048159677535295,0.077132709324360,-0.268210113048553,0.170633062720299,-0.092239819467068,-0.050096992403269,-0.012493296526372,0.121926248073578,-0.003286249469966));
res += mul(Get(s1,-dx,dy), float4x4(-0.222899600863457,-0.057139158248901,0.020799029618502,0.078002274036407,-0.026700571179390,-0.021063508465886,-0.187338396906853,-0.002640026155859,0.048482302576303,-0.210942164063454,0.004085561260581,-0.259359210729599,0.012000663205981,-0.009034947492182,0.139218822121620,-0.052281532436609));
res += mul(Get(s1,0,-dy), float4x4(-0.319583177566528,0.082485012710094,-0.017590869218111,-0.142126187682152,0.047947961837053,-0.077671080827713,0.173501148819923,-0.049472689628601,0.288389146327972,-0.171102210879326,0.036058340221643,-0.338691800832748,-0.052982319146395,-0.013059623539448,-0.044309571385384,0.094686798751354));
res += mul(Get(s1,0,0), float4x4(-0.051593564450741,0.144587069749832,-0.018650043755770,-0.097466744482517,0.064547933638096,-0.001183514716104,0.099941670894623,-0.063015595078468,-0.151341006159782,-0.096240118145943,0.075220674276352,-0.077013835310936,-0.066681914031506,-0.001659778878093,0.148776426911354,-0.082885511219501));
res += mul(Get(s1,0,dy), float4x4(0.003908026963472,-0.020398776978254,0.046024154871702,0.189249187707901,-0.023295165970922,-0.005044644232839,0.035052895545959,0.013424636796117,-0.298935860395432,0.001911835744977,-0.026097180321813,-0.137717947363853,-0.009846461936831,-0.015293610282242,0.162783771753311,-0.075150899589062));
res += mul(Get(s1,dx,-dy), float4x4(-0.157532751560211,0.026907881721854,-0.195774152874947,-0.144813597202301,0.007898604497313,-0.070659287273884,0.221142306923866,-0.005077270325273,0.201297119259834,-0.021831668913364,0.056747671216726,-0.041718795895576,-0.051146257668734,-0.026717342436314,-0.093684837222099,0.079633466899395));
res += mul(Get(s1,dx,0), float4x4(0.427602618932724,-0.027571722865105,-0.139682784676552,-0.170060679316521,0.025991398841143,0.012675976380706,0.155888319015503,-0.057315979152918,-0.024498295038939,0.169033497571945,0.113838858902454,0.018930692225695,-0.102651797235012,-0.023886548355222,-0.018864179030061,-0.034059438854456));
res += mul(Get(s1,dx,dy), float4x4(0.387184768915176,-0.243356138467789,-0.190584376454353,-0.128795713186264,-0.038052190095186,0.001354375504889,0.081996396183968,0.007360767573118,-0.207461178302765,0.261118650436401,-0.115809731185436,-0.018426962196827,-0.065823078155518,-0.026552673429251,0.020530523732305,-0.006809597834945));
res += mul(Get(s2,-dx,-dy), float4x4(-0.070524632930756,-0.087474778294563,0.016790566965938,0.133312821388245,-0.054091218858957,-0.227865800261497,-0.081166252493858,0.352785885334015,0.071787990629673,-0.257231563329697,0.013742855750024,-0.063310846686363,-0.253249108791351,-0.220004796981812,-0.170602470636368,-0.055499810725451));
res += mul(Get(s2,-dx,0), float4x4(-0.052572935819626,-0.061810847371817,-0.023252673447132,0.172809585928917,0.025670211762190,-0.129016682505608,-0.128243848681450,-0.090421341359615,-0.108974605798721,-0.273618996143341,0.107121057808399,-0.168607577681541,-0.267863631248474,0.053410414606333,-0.038246192038059,-0.005198482424021));
res += mul(Get(s2,-dx,dy), float4x4(-0.051397271454334,-0.090304009616375,-0.085316702723503,0.053367450833321,-0.015317906625569,-0.152159810066223,0.172009155154228,-0.023128844797611,-0.110408015549183,0.203224569559097,-0.062289569526911,-0.260709702968597,-0.425130039453506,0.010054969228804,-0.017965827137232,0.066179834306240));
res += mul(Get(s2,0,-dy), float4x4(-0.075771242380142,-0.117279991507530,-0.028754349797964,0.082155317068100,-0.000702798308339,-0.024620011448860,0.205748155713081,-0.063287571072578,0.221213623881340,0.085285820066929,0.020292093977332,-0.075395546853542,-0.282569557428360,-0.152051210403442,-0.160151198506355,-0.109979897737503));
res += mul(Get(s2,0,0), float4x4(0.031907785683870,-0.072717271745205,0.156998112797737,0.172605827450752,0.050651658326387,0.138986393809319,0.055312473326921,-0.166005179286003,-0.127296045422554,-0.071500636637211,0.023759897798300,-0.114447541534901,-0.323768556118011,0.106708943843842,-0.095935486257076,-0.135452806949615));
res += mul(Get(s2,0,dy), float4x4(0.063488878309727,-0.010343494825065,0.092753492295742,0.098715029656887,0.091316439211369,0.054889891296625,-0.011726702563465,-0.042169600725174,-0.204728618264198,0.118393197655678,-0.161815449595451,-0.207369923591614,-0.346243947744370,0.058715511113405,-0.075256235897541,-0.014927994459867));
res += mul(Get(s2,dx,-dy), float4x4(0.003181623993441,-0.023527251556516,-0.008937117643654,0.073158726096153,0.017182385548949,-0.107519254088402,-0.039116546511650,0.033755246549845,0.266432017087936,0.386338323354721,0.004572119098157,0.013753523118794,0.428940445184708,0.042072441428900,-0.276710182428360,-0.241098463535309));
res += mul(Get(s2,dx,0), float4x4(0.072778701782227,-0.006063201930374,-0.001661752583459,0.099357582628727,0.097686387598515,-0.025374157354236,-0.187116652727127,-0.054710675030947,-0.087996475398540,0.019210146740079,-0.171898469328880,-0.122281000018120,0.370261818170547,0.112277798354626,-0.168886125087738,-0.172346338629723));
res += mul(Get(s2,dx,dy), float4x4(0.118489675223827,0.030136937275529,-0.043193675577641,0.036795314401388,0.051471717655659,-0.012647326104343,0.003813993651420,0.025387488305569,-0.081736966967583,-0.068493500351906,-0.242930844426155,-0.241297498345375,0.209692195057869,0.135263428092003,-0.154424279928207,0.015030724927783));
res += mul(Get(s3,-dx,-dy), float4x4(-0.080975025892258,0.120006784796715,-0.049019172787666,-0.020281478762627,-0.234007537364960,-0.104469314217567,-0.245930030941963,-0.096287675201893,0.195051282644272,-0.224910795688629,0.147245913743973,-0.170292615890503,-0.100570939481258,-0.086697481572628,-0.105024129152298,-0.122217319905758));
res += mul(Get(s3,-dx,0), float4x4(0.053585380315781,-0.070744626224041,0.001486434717663,-0.029988465830684,-0.174268111586571,-0.257653713226318,-0.166413798928261,-0.045390855520964,0.031832624226809,-0.147130772471428,-0.057099394500256,-0.314760595560074,-0.208093971014023,-0.060048013925552,0.029342465102673,0.031262129545212));
res += mul(Get(s3,-dx,dy), float4x4(0.084075897932053,-0.053279746323824,-0.010567327030003,-0.162412583827972,-0.315040409564972,-0.225780695676804,0.012854074127972,-0.123560883104801,-0.099084518849850,-0.072281673550606,0.046306487172842,0.457830131053925,-0.160766482353210,-0.099859848618507,0.128878623247147,0.105992808938026));
res += mul(Get(s3,0,-dy), float4x4(0.451426386833191,-0.196166470646858,-0.044957853853703,-0.006777611561120,0.087557159364223,0.089117221534252,-0.082361415028572,-0.004928720649332,-0.180404707789421,-0.138779908418655,0.084072872996330,-0.066833339631557,-0.067575499415398,-0.016345752403140,-0.247723445296288,-0.103320941329002));
res += mul(Get(s3,0,0), float4x4(0.283184230327606,-0.160021096467972,-0.000542942783795,-0.040918201208115,0.001141799264587,-0.001261188881472,-0.039240606129169,0.006200863048434,-0.108351074159145,-0.079087518155575,0.265166372060776,-0.024318683892488,-0.075626231729984,-0.036743585020304,0.040327101945877,0.181077718734741));
res += mul(Get(s3,0,dy), float4x4(0.163789525628090,-0.065688550472260,-0.031855277717113,-0.121680676937103,-0.223687544465065,0.095425747334957,0.055975221097469,-0.180051222443581,-0.083241038024426,0.005042957141995,0.113605961203575,-0.041825380176306,-0.095204494893551,-0.055583976209164,0.030180009081960,0.036261212080717));
res += mul(Get(s3,dx,-dy), float4x4(0.223234519362450,-0.208286717534065,-0.087140977382660,-0.112809330224991,0.063812457025051,0.121778652071953,0.055533077567816,-0.013918775133789,-0.146568611264229,-0.165413349866867,-0.044422894716263,0.199237346649170,-0.049241628497839,-0.071665234863758,-0.067230030894279,0.015209358185530));
res += mul(Get(s3,dx,0), float4x4(-0.041847735643387,-0.184758514165878,-0.043923560529947,-0.133500188589096,-0.052679993212223,0.041299477219582,-0.115238949656487,-0.116932168602943,0.001775020966306,-0.249228447675705,0.014398734085262,0.158703446388245,-0.027152983471751,-0.071405753493309,-0.049339327961206,0.007715112995356));
res += mul(Get(s3,dx,dy), float4x4(-0.074892878532410,-0.088009625673294,-0.045915372669697,0.009605776518583,-0.192006140947342,0.057164292782545,-0.065148279070854,0.043144520372152,0.179238721728325,-0.186192974448204,0.117846399545670,-0.202018946409225,-0.061181608587503,-0.050513021647930,-0.099704273045063,0.095468781888485));
return max(float4(0,0,0,0), res);
}
