sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.160686433315277,-0.171719610691071,-0.120231449604034,-0.037687595933676,-0.133374512195587,0.123448446393013,-0.091390073299408,-0.021953916177154,-0.010762680321932,-0.094098225235939,0.028123490512371,0.128306597471237,0.045811016112566,0.061072379350662,0.022775422781706,0.101117365062237));
res += mul(Get(s0,-dx,0), float4x4(0.234638392925262,0.172560974955559,-0.098813191056252,0.053984861820936,0.024319997057319,-0.292566180229187,-0.032106041908264,0.049047291278839,0.016448043286800,0.015304794535041,0.060170166194439,-0.058013617992401,-0.081622920930386,-0.038029506802559,0.005693390034139,0.078096859157085));
res += mul(Get(s0,-dx,dy), float4x4(-0.339919388294220,-0.066693820059299,0.078813143074512,-0.138324066996574,-0.028896249830723,-0.019879072904587,0.136940136551857,-0.024649327620864,-0.131223857402802,0.188748821616173,0.183729425072670,0.120232924818993,0.162470668554306,-0.004927317611873,-0.023238975554705,-0.070373401045799));
res += mul(Get(s0,0,-dy), float4x4(-0.141057834029198,0.113146640360355,-0.071625351905823,0.072445712983608,-0.187652811408043,-0.076975129544735,-0.017443001270294,0.187602296471596,0.038726598024368,-0.036375544965267,0.158659413456917,0.037813499569893,0.143649145960808,0.106231577694416,-0.005233816802502,-0.203258484601974));
res += mul(Get(s0,0,0), float4x4(-0.078244782984257,0.083756096661091,0.074393860995770,0.025448469445109,-0.103949844837189,0.045400127768517,-0.027825100347400,-0.092702627182007,0.011113396845758,-0.085508629679680,-0.044140726327896,0.151762455701828,0.180337667465210,0.061847753822803,-0.043195385485888,0.163477301597595));
res += mul(Get(s0,0,dy), float4x4(-0.008303929120302,-0.010439048521221,-0.080115444958210,-0.144444018602371,0.004388360772282,0.136226460337639,0.016971679404378,0.212278172373772,-0.046389151364565,-0.089165493845940,-0.062418363988400,0.069661147892475,-0.096625417470932,0.120573155581951,-0.097940295934677,-0.068639054894447));
res += mul(Get(s0,dx,-dy), float4x4(0.016890415921807,0.058540496975183,0.091586120426655,0.107101850211620,-0.141829937696457,0.131008610129356,-0.010547881945968,0.130911648273468,0.051044292747974,0.029896149411798,-0.009245431981981,0.047723788768053,0.114670328795910,0.023164952173829,-0.023991767317057,-0.027563028037548));
res += mul(Get(s0,dx,0), float4x4(-0.059015709906816,-0.050330381840467,0.090531699359417,0.017120564356446,0.180071175098419,0.095332123339176,-0.086815975606441,-0.023367354646325,-0.060692742466927,-0.106758721172810,0.008403106592596,0.193621009588242,-0.173070460557938,-0.180507928133011,0.143816694617271,-0.044339425861835));
res += mul(Get(s0,dx,dy), float4x4(-0.098776794970036,0.129220902919769,-0.080457873642445,0.125912785530090,-0.036188866943121,0.154229149222374,-0.058612916618586,-0.061979118734598,-0.240025758743286,0.025978537276387,-0.001549339503981,0.064303174614906,-0.158797383308411,-0.125586315989494,-0.060598123818636,-0.066965498030186));
res += mul(Get(s1,-dx,-dy), float4x4(-0.101995609700680,-0.023537399247289,-0.014693052507937,0.031651508063078,-0.154730960726738,-0.222384721040726,-0.088848806917667,-0.131968885660172,-0.139288291335106,-0.047059923410416,0.208237349987030,0.031071592122316,0.337763905525208,-0.046266261488199,0.419876545667648,0.006128101609647));
res += mul(Get(s1,-dx,0), float4x4(-0.101672098040581,-0.079461872577667,-0.041307054460049,0.116230167448521,0.119936183094978,0.001390860415995,-0.006191317923367,-0.075012825429440,-0.007598149124533,-0.341382950544357,0.127321168780327,-0.053929615765810,0.114802770316601,-0.288876205682755,-0.126016184687614,0.042376779019833));
res += mul(Get(s1,-dx,dy), float4x4(-0.098390661180019,0.223675683140755,0.025923421606421,0.092247903347015,0.222982570528984,0.018265666440129,-0.059946876019239,0.000210825470276,0.246973469853401,0.009965728037059,-0.084959439933300,0.121360354125500,-0.005966228432953,-0.060858283191919,0.140552982687950,0.177843511104584));
res += mul(Get(s1,0,-dy), float4x4(0.111911915242672,0.064806409180164,0.129729881882668,0.029897157102823,0.019895413890481,-0.037002980709076,-0.137454494833946,0.117956317961216,-0.005377349909395,-0.024748310446739,-0.045466832816601,-0.051084924489260,-0.021601410582662,-0.089025355875492,-0.149239063262939,0.064345426857471));
res += mul(Get(s1,0,0), float4x4(0.014333882369101,-0.127014070749283,-0.066267646849155,0.022301122546196,-0.158860132098198,-0.144852519035339,-0.044568218290806,0.128021270036697,-0.245956838130951,-0.053837977349758,-0.058660831302404,-0.153630360960960,0.052579123526812,-0.022429654374719,0.045147884637117,0.070399686694145));
res += mul(Get(s1,0,dy), float4x4(0.028525309637189,0.003496044315398,-0.149545386433601,-0.131947979331017,0.050875533372164,0.015341218560934,-0.145695537328720,-0.066142469644547,0.007327236235142,-0.046664375811815,-0.125256136059761,0.065666049718857,0.012503826990724,0.009736400097609,-0.186275079846382,0.050801321864128));
res += mul(Get(s1,dx,-dy), float4x4(-0.053199388086796,0.115157529711723,0.004664249252528,-0.018017364665866,-0.191174834966660,0.167909070849419,-0.084732778370380,-0.041246011853218,0.129010707139969,0.085948929190636,-0.181875258684158,-0.277512043714523,0.171422407031059,0.090058140456676,-0.007988727651536,-0.048776317387819));
res += mul(Get(s1,dx,0), float4x4(-0.066598713397980,0.245668902993202,-0.076983965933323,-0.225986167788506,0.070054784417152,-0.260218441486359,0.084845528006554,-0.136047601699829,-0.041927590966225,-0.067423671483994,-0.329017221927643,0.289466351270676,-0.039128363132477,0.072848416864872,-0.050748363137245,-0.034678239375353));
res += mul(Get(s1,dx,dy), float4x4(-0.010571509599686,-0.032067060470581,0.161098271608353,0.151192963123322,-0.171401068568230,0.179840773344040,-0.089408054947853,-0.116756610572338,-0.281671285629272,0.123048096895218,-0.037346418946981,0.136692404747009,-0.080822460353374,0.314048409461975,-0.181360095739365,0.056017968803644));
res += mul(Get(s2,-dx,-dy), float4x4(0.023566480726004,0.026962764561176,0.040529549121857,0.182617142796516,-0.091908268630505,0.080513931810856,0.056487161666155,0.077659115195274,-0.061684053391218,0.042510297149420,0.054097965359688,-0.021429497748613,0.060467831790447,0.023648990318179,0.207914307713509,-0.110183268785477));
res += mul(Get(s2,-dx,0), float4x4(0.173042699694633,0.086480870842934,-0.015641858801246,0.136674582958221,-0.070557758212090,-0.035090234130621,0.028743609786034,0.046162772923708,-0.202737674117088,0.042438965290785,0.004074388183653,0.033602960407734,0.141834199428558,0.001623757532798,-0.061210360378027,-0.067909598350525));
res += mul(Get(s2,-dx,dy), float4x4(0.081746533513069,0.154565036296844,0.059974052011967,0.181766584515572,0.241527080535889,0.041797485202551,-0.004349822178483,0.017965994775295,-0.077483534812927,-0.132105663418770,-0.190308973193169,-0.013599226251245,0.220982611179352,0.146353676915169,-0.114960819482803,0.194327801465988));
res += mul(Get(s2,0,-dy), float4x4(-0.031227169558406,-0.002632558112964,-0.023693969473243,0.054938774555922,0.043639879673719,0.119773432612419,-0.181594491004944,0.034795720130205,-0.058743555098772,-0.178598225116730,-0.004739760886878,-0.016241177916527,-0.066106766462326,-0.215640679001808,-0.009999033994973,-0.040284078568220));
res += mul(Get(s2,0,0), float4x4(-0.016458045691252,-0.041189130395651,0.071478895843029,0.057943250983953,0.055770415812731,0.290550380945206,0.042209919542074,0.043855622410774,-0.010876721702516,0.026381636038423,0.102382183074951,-0.098501451313496,0.063975967466831,-0.084527097642422,-0.030295306816697,-0.097524657845497));
res += mul(Get(s2,0,dy), float4x4(-0.053312897682190,0.058597050607204,0.120119705796242,-0.116755232214928,-0.075335741043091,0.193641632795334,0.029194001108408,0.051154304295778,-0.187120258808136,-0.027726499363780,-0.023609930649400,0.004174318630248,-0.145795285701752,-0.059826556593180,-0.055995419621468,-0.191191181540489));
res += mul(Get(s2,dx,-dy), float4x4(-0.042768888175488,-0.070026993751526,-0.021896254271269,0.052738737314939,-0.171761453151703,-0.061010863631964,0.083512499928474,-0.024219656363130,0.004502221010625,-0.001160698593594,-0.097443468868732,0.077271193265915,0.087722048163414,-0.094646200537682,0.015387549065053,0.023155534639955));
res += mul(Get(s2,dx,0), float4x4(0.043851509690285,-0.004461722914129,-0.105085715651512,0.003951172344387,-0.141673773527145,0.028348920866847,0.049623448401690,-0.123938143253326,0.161915674805641,-0.144046708941460,0.032809320837259,-0.001540902769193,-0.004838518332690,0.065180838108063,-0.113576881587505,-0.074518315494061));
res += mul(Get(s2,dx,dy), float4x4(0.031153371557593,-0.131258055567741,-0.106895998120308,0.164715558290482,-0.121466591954231,0.087127581238747,-0.060190767049789,-0.102685973048210,-0.085384458303452,-0.103643320500851,0.048070408403873,0.064581200480461,-0.087273381650448,0.113804504275322,0.129938125610352,-0.064597927033901));
res += mul(Get(s3,-dx,-dy), float4x4(-0.211091041564941,-0.019556570798159,-0.286338657140732,0.157673254609108,0.221687257289886,0.138556674122810,0.103347755968571,-0.017707049846649,-0.048221558332443,-0.078345328569412,0.201249957084656,-0.072950191795826,-0.097047097980976,0.087803840637207,0.103545852005482,-0.059064373373985));
res += mul(Get(s3,-dx,0), float4x4(0.096042126417160,0.072721928358078,-0.102502621710300,0.156772658228874,-0.075048692524433,-0.090395607054234,-0.074167907238007,0.104934066534042,-0.108165979385376,-0.160427317023277,-0.175881981849670,-0.066440895199776,0.064645782113075,0.078095152974129,-0.199776604771614,0.043180067092180));
res += mul(Get(s3,-dx,dy), float4x4(-0.034319251775742,-0.036463469266891,-0.039628237485886,0.029876008629799,0.376452267169952,0.006907114293426,-0.104420386254787,0.243090569972992,0.050477970391512,0.049938738346100,-0.058685831725597,0.028411651030183,-0.121839590370655,0.046213928610086,0.091852426528931,0.042824711650610));
res += mul(Get(s3,0,-dy), float4x4(-0.065592430531979,-0.125731796026230,0.179814606904984,-0.229716405272484,-0.064906768500805,-0.063399262726307,-0.149908855557442,-0.001841087709181,-0.100638531148434,-0.015616162680089,0.146833434700966,-0.008047598414123,0.184683963656425,-0.028038838878274,0.027119370177388,0.119297139346600));
res += mul(Get(s3,0,0), float4x4(-0.012420492246747,-0.306421816349030,-0.021347474306822,-0.205016449093819,-0.037337318062782,-0.001336365588941,-0.222165480256081,0.008823186159134,0.004751057364047,0.084040842950344,-0.027660025283694,-0.087857268750668,-0.072817191481590,-0.038295332342386,0.038530588150024,-0.128967508673668));
res += mul(Get(s3,0,dy), float4x4(-0.020176220685244,0.049833934754133,0.081475242972374,0.020146006718278,-0.105941608548164,-0.077239930629730,-0.179326191544533,-0.107229746878147,-0.025201948359609,0.074732363224030,-0.051975894719362,0.111774981021881,0.168613433837891,0.093241371214390,-0.194588661193848,0.130521804094315));
res += mul(Get(s3,dx,-dy), float4x4(0.221091568470001,0.093294829130173,-0.169425874948502,-0.003710527438670,0.093348309397697,-0.078830905258656,-0.024648768827319,0.018763093277812,-0.004513657186180,0.132711648941040,-0.006400493904948,0.034964971244335,-0.019393866881728,0.208189025521278,0.013815622776747,0.123374387621880));
res += mul(Get(s3,dx,0), float4x4(-0.113135375082493,-0.113827392458916,0.080933339893818,-0.109742663800716,-0.053292989730835,0.109140433371067,-0.024463396519423,0.012507226318121,0.131682261824608,-0.042310986667871,-0.198286280035973,0.052899967879057,0.053483497351408,-0.077967919409275,0.213695034384727,0.073146514594555));
res += mul(Get(s3,dx,dy), float4x4(0.100582875311375,0.354550153017044,0.142878696322441,-0.155638560652733,0.048994839191437,-0.109102018177509,0.129252836108208,0.057175312191248,0.078630939126015,-0.164925619959831,-0.047999292612076,0.056668486446142,-0.162004292011261,0.170221656560898,-0.055089715868235,0.067373812198639));
return max(float4(0,0,0,0), res);
}
