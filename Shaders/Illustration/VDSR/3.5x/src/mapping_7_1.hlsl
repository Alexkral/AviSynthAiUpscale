sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.007989691570401,-0.282435715198517,-0.123328886926174,-0.015742525458336,0.152618303894997,-0.165749594569206,-0.031050706282258,-0.206629350781441,-0.137807101011276,-0.335820019245148,0.316666483879089,0.155689597129822,-0.171596154570580,0.055836606770754,-0.005123447161168,0.040790364146233));
res += mul(Get(s0,-dx,0), float4x4(0.362308919429779,0.008842477574944,0.041271593421698,0.077727846801281,0.042544733732939,-0.167298436164856,0.017792729660869,-0.254527211189270,-0.050305254757404,-0.080806225538254,0.134245157241821,-0.175999104976654,-0.017610151320696,0.015055908821523,0.189123660326004,0.005032666958869));
res += mul(Get(s0,-dx,dy), float4x4(0.391140401363373,0.190608829259872,-0.094720356166363,0.246573567390442,-0.097180128097534,-0.060176480561495,-0.138375520706177,0.018083054572344,0.037605464458466,0.239648774266243,0.256830662488937,-0.200429141521454,-0.139893710613251,-0.120519109070301,0.184883251786232,-0.170151293277740));
res += mul(Get(s0,0,-dy), float4x4(0.238288149237633,-0.143213301897049,-0.094917103648186,-0.114675886929035,-0.037578091025352,0.017015218734741,0.047857098281384,-0.187296181917191,0.074981898069382,-0.248374238610268,-0.054166357964277,0.301491439342499,-0.202253505587578,0.242081940174103,-0.127905011177063,0.110822319984436));
res += mul(Get(s0,0,0), float4x4(0.218321561813354,0.001806312589906,0.082284122705460,-0.087327703833580,-0.180067554116249,-0.185484647750854,-0.027884362265468,-0.104546934366226,0.114545345306396,-0.114564083516598,-0.017536794766784,0.048086989670992,-0.053964108228683,-0.211165606975555,0.032707624137402,-0.024405853822827));
res += mul(Get(s0,0,dy), float4x4(0.147317439317703,0.114470645785332,-0.076677009463310,0.059531580656767,-0.241737395524979,-0.048172816634178,0.006631692871451,0.536526620388031,0.135263249278069,0.101703353226185,0.272695749998093,-0.029792055487633,-0.153832823038101,-0.110516630113125,0.204248234629631,-0.180913433432579));
res += mul(Get(s0,dx,-dy), float4x4(-0.441237390041351,-0.191889762878418,-0.044708017259836,-0.096101567149162,-0.060453895479441,0.077159970998764,0.216548442840576,0.008332809433341,0.101118460297585,0.157929390668869,0.021122597157955,0.228823587298393,-0.181899949908257,-0.157933548092842,-0.084487959742546,-0.063503675162792));
res += mul(Get(s0,dx,0), float4x4(-0.011024839244783,-0.124295443296432,0.138191506266594,0.052129935473204,0.032602485269308,-0.284954398870468,0.177773356437683,0.155328899621964,-0.048285260796547,-0.004278384149075,-0.055313874036074,0.155945450067520,-0.110997885465622,-0.080553114414215,-0.154148593544960,-0.139204710721970));
res += mul(Get(s0,dx,dy), float4x4(0.127630770206451,0.331608831882477,0.003078157315031,0.081596523523331,-0.099862806499004,0.013674562796950,0.081369347870350,0.180409267544746,0.173553988337517,0.029453525319695,0.142022788524628,0.029207345098257,-0.086652219295502,-0.028756186366081,0.005501166451722,-0.191113471984863));
res += mul(Get(s1,-dx,-dy), float4x4(0.153310686349869,0.033468820154667,0.048119526356459,0.098708316683769,-0.053668856620789,0.287281751632690,0.043315872550011,-0.241237744688988,0.016519896686077,-0.195691972970963,-0.144894197583199,-0.057566601783037,-0.136640563607216,0.151739045977592,0.158619493246078,-0.212785765528679));
res += mul(Get(s1,-dx,0), float4x4(-0.025345692411065,0.026305247098207,0.067192815244198,-0.035746678709984,-0.202390685677528,0.141190454363823,0.098578751087189,-0.056845147162676,0.016008203849196,-0.146741330623627,-0.080832920968533,-0.037207525223494,0.021785894408822,0.017057895660400,-0.023976117372513,0.063040688633919));
res += mul(Get(s1,-dx,dy), float4x4(-0.077807866036892,0.240077018737793,0.007451933342963,-0.032706625759602,0.093581564724445,-0.032103188335896,0.091279245913029,-0.100349493324757,-0.138396590948105,-0.033250618726015,0.043533656746149,-0.051982864737511,0.225512340664864,0.110434636473656,-0.058094952255487,0.122644715011120));
res += mul(Get(s1,0,-dy), float4x4(-0.155476465821266,0.107015900313854,0.136221915483475,0.051490183919668,0.128144159913063,-0.038082510232925,0.077798277139664,-0.095239840447903,0.177524775266647,-0.132209599018097,-0.096929654479027,0.028119616210461,-0.035668879747391,0.212438657879829,0.067691102623940,-0.078218936920166));
res += mul(Get(s1,0,0), float4x4(0.072465017437935,0.139318332076073,-0.064003735780716,-0.114726603031158,-0.173504382371902,-0.044031176716089,0.152695164084435,0.193135827779770,0.102245472371578,-0.041991934180260,-0.129941269755363,0.016226755455136,0.157471925020218,0.001516365562566,-0.019841775298119,-0.054431345313787));
res += mul(Get(s1,0,dy), float4x4(0.074418753385544,-0.060039792209864,-0.108952894806862,-0.184822291135788,0.083417989313602,-0.031128637492657,0.306923896074295,0.196490257978439,0.056979864835739,-0.084049791097641,-0.099017687141895,-0.116672240197659,0.348979681730270,0.153894603252411,-0.106939904391766,-0.003238318720832));
res += mul(Get(s1,dx,-dy), float4x4(0.014210187830031,0.000890222319867,0.032586816698313,0.261076450347900,0.509845137596130,0.043896175920963,0.041315782815218,-0.084874935448170,-0.264337897300720,-0.037520769983530,-0.100403234362602,0.045668572187424,0.010058735497296,0.464211940765381,-0.055336173623800,0.026086464524269));
res += mul(Get(s1,dx,0), float4x4(-0.041630797088146,0.017420265823603,0.164367780089378,-0.032197143882513,0.080358020961285,-0.117629818618298,0.187859430909157,0.147732079029083,-0.191941291093826,0.010310383513570,-0.001325467368588,-0.082613810896873,-0.136786788702011,0.042266156524420,0.090294852852821,0.079402558505535));
res += mul(Get(s1,dx,dy), float4x4(0.109446965157986,-0.013818151317537,-0.138562530279160,-0.171395048499107,0.177450835704803,0.268183469772339,0.326816141605377,0.371556460857391,-0.096511989831924,-0.124225124716759,-0.141221717000008,-0.093992166221142,0.398339003324509,-0.065280914306641,-0.115051761269569,0.030458964407444));
res += mul(Get(s2,-dx,-dy), float4x4(-0.029675444588065,-0.104070663452148,-0.099094465374947,-0.008109183050692,-0.005373694933951,0.077698789536953,0.071668960154057,-0.095224909484386,-0.073582850396633,-0.038200318813324,-0.198000743985176,0.469180405139923,0.203648105263710,-0.230657622218132,0.079359307885170,-0.124844767153263));
res += mul(Get(s2,-dx,0), float4x4(0.027743643149734,-0.026951542124152,-0.022111697122455,-0.068013347685337,-0.292803138494492,0.302920252084732,-0.054788835346699,-0.037267025560141,0.256388366222382,-0.059496048837900,-0.088000372052193,0.183505728840828,0.210187062621117,-0.023142103105783,0.199029400944710,0.071083299815655));
res += mul(Get(s2,-dx,dy), float4x4(-0.171192362904549,-0.117386698722839,0.049219407141209,0.132147639989853,-0.065377533435822,-0.083564132452011,-0.086837574839592,-0.072805449366570,0.004158490337431,-0.158561378717422,-0.085128009319305,-0.083963379263878,-0.364618211984634,-0.013376191258430,0.217548966407776,0.130642324686050));
res += mul(Get(s2,0,-dy), float4x4(-0.013711121864617,-0.072066068649292,0.001228677807376,0.010212717577815,-0.064324364066124,-0.072879515588284,0.113410286605358,-0.139296978712082,0.129544436931610,0.165389582514763,0.022221013903618,0.200875863432884,0.254427164793015,-0.168141841888428,-0.017505016177893,-0.052619393914938));
res += mul(Get(s2,0,0), float4x4(0.017379155382514,-0.003731905249879,-0.027952525764704,-0.126126408576965,-0.095698721706867,-0.166896402835846,-0.179890602827072,-0.115211084485054,0.144027650356293,0.081400237977505,0.085362985730171,0.138011753559113,0.113529995083809,-0.000597954320256,-0.136937990784645,0.031511969864368));
res += mul(Get(s2,0,dy), float4x4(-0.156318470835686,-0.144157424569130,-0.033684905618429,0.279938906431198,0.006354455836117,0.022628646343946,-0.094625115394592,-0.022365666925907,-0.012443930841982,0.208314687013626,0.025029908865690,-0.036940135061741,-0.197495862841606,0.049761962145567,-0.271541118621826,-0.069047711789608));
res += mul(Get(s2,dx,-dy), float4x4(0.192467153072357,0.071856617927551,0.136550024151802,-0.096195727586746,0.167920753359795,-0.102274075150490,-0.152035802602768,-0.230779036879539,-0.152992129325867,-0.109685063362122,0.012065639719367,-0.058613996952772,-0.035467304289341,-0.181103333830833,-0.067275203764439,0.099398002028465));
res += mul(Get(s2,dx,0), float4x4(0.158117040991783,0.094145916402340,0.027304731309414,-0.260335355997086,0.158496782183647,0.152638927102089,-0.205131307244301,-0.150305032730103,-0.106291860342026,-0.017644120380282,-0.037330035120249,-0.120163366198540,-0.059867791831493,-0.104237176477909,-0.097687020897865,0.034011375159025));
res += mul(Get(s2,dx,dy), float4x4(-0.069625928997993,-0.004819174762815,-0.047284319996834,0.016785165295005,-0.202840894460678,-0.031458824872971,-0.022917829453945,0.051321912556887,-0.255349129438400,0.050617303699255,-0.257222741842270,-0.154829069972038,-0.121546112000942,-0.031726803630590,-0.053743593394756,0.211889758706093));
res += mul(Get(s3,-dx,-dy), float4x4(0.158740326762199,0.015580462291837,0.079246714711189,-0.169928371906281,-0.099646300077438,0.436596125364304,-0.018655497580767,0.325264066457748,0.125716313719749,0.092015519738197,0.106639809906483,-0.101153552532196,0.031029466539621,0.136781424283981,-0.323719829320908,0.017259618267417));
res += mul(Get(s3,-dx,0), float4x4(-0.019050648435950,0.148823916912079,-0.013595911674201,0.274539470672607,-0.012039868161082,0.071012951433659,-0.065776720643044,-0.061285149306059,-0.174548655748367,-0.145388513803482,0.193713113665581,0.111572340130806,0.040773440152407,-0.044736955314875,-0.244331806898117,-0.069910109043121));
res += mul(Get(s3,-dx,dy), float4x4(0.220089241862297,0.080175578594208,-0.058873504400253,0.032695788890123,0.059815257787704,-0.118290908634663,0.186681225895882,0.027383629232645,-0.188204690814018,0.037225615233183,0.327406436204910,0.085960805416107,0.068909242749214,-0.119734227657318,0.111356005072594,0.005743193440139));
res += mul(Get(s3,0,-dy), float4x4(0.022791439667344,-0.065885946154594,0.060803454369307,-0.111549265682697,-0.151699706912041,0.348065257072449,0.169271856546402,-0.105491265654564,-0.086166352033615,-0.028235441073775,-0.205019399523735,-0.037587609142065,0.366095483303070,-0.174161463975906,-0.068540111184120,-0.002580574946478));
res += mul(Get(s3,0,0), float4x4(-0.022261284291744,0.207841038703918,-0.156728342175484,0.286189585924149,-0.008293061517179,0.076883196830750,-0.081047505140305,-0.323200851678848,-0.010191557928920,-0.183604091405869,-0.085006870329380,0.133439972996712,-0.074793599545956,-0.195397257804871,-0.087600961327553,0.026755189523101));
res += mul(Get(s3,0,dy), float4x4(0.156076073646545,0.187102794647217,-0.118432968854904,0.137338072061539,0.184293895959854,0.122948735952377,-0.065909445285797,-0.119563080370426,-0.030760573223233,-0.058973565697670,-0.013612081296742,-0.027099933475256,0.038227282464504,-0.066028244793415,-0.137434795498848,0.028337663039565));
res += mul(Get(s3,dx,-dy), float4x4(0.157703340053558,-0.068067476153374,0.076656885445118,-0.213483840227127,-0.001085204537958,0.039900511503220,0.048857029527426,-0.104977220296860,0.028188614174724,0.025863464921713,-0.038210075348616,-0.101689860224724,0.381420493125916,-0.041723202914000,0.069414660334587,-0.114543825387955));
res += mul(Get(s3,dx,0), float4x4(-0.031721957027912,0.169140294194221,-0.053539413958788,-0.152906581759453,0.024884555488825,-0.025382518768311,-0.060216665267944,-0.099649310112000,-0.026077270507813,-0.184885680675507,-0.032881543040276,-0.097879230976105,0.183189809322357,0.024413630366325,0.064928352832794,0.057694092392921));
res += mul(Get(s3,dx,dy), float4x4(-0.121321782469749,0.006646268535405,-0.153888732194901,0.009104510769248,-0.122820638120174,-0.034364998340607,-0.253982365131378,0.282581686973572,-0.178784549236298,-0.199572697281837,-0.174800887703896,-0.148251131176949,0.187552034854889,-0.070906683802605,0.005305208731443,0.208855211734772));
return max(float4(0,0,0,0), res);
}
