sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.015594962984324,-0.099075727164745,0.344979405403137,0.039542526006699,-0.034471798688173,0.143013775348663,-0.183157563209534,0.087607041001320,-0.194929361343384,-0.058842599391937,-0.134176179766655,-0.052423074841499,-0.314015060663223,-0.123979873955250,0.229975163936615,0.046515587717295));
res += mul(Get(s0,-dx,0), float4x4(-0.114260800182819,-0.110328473150730,0.093123547732830,-0.014010861515999,-0.072412252426147,-0.059182971715927,0.108094930648804,-0.267184436321259,-0.184224188327789,-0.064184032380581,-0.075161039829254,0.075335651636124,-0.193374544382095,-0.140485882759094,0.199587821960449,0.067034289240837));
res += mul(Get(s0,-dx,dy), float4x4(-0.093016527593136,-0.047487620264292,-0.053958401083946,-0.041598107665777,-0.158000484108925,-0.131369486451149,-0.209209650754929,-0.113650918006897,-0.152627140283585,-0.032947242259979,0.003409489523619,0.107309386134148,-0.107236661016941,0.063116930425167,0.415978252887726,0.081881031394005));
res += mul(Get(s0,0,-dy), float4x4(0.082788251340389,-0.063618920743465,0.058129373937845,0.102760672569275,-0.149510860443115,-0.061567801982164,-0.046209305524826,0.375478506088257,0.008584045805037,0.209573462605476,-0.180155470967293,-0.057249747216702,-0.219144940376282,0.033500675112009,0.183994129300117,-0.164197400212288));
res += mul(Get(s0,0,0), float4x4(0.096359439194202,-0.066168367862701,-0.084578953683376,-0.053750559687614,0.034332759678364,-0.097901836037636,-0.119420722126961,-0.057823464274406,0.055697221308947,0.013495438732207,-0.180150911211967,-0.059012688696384,-0.252576828002930,-0.023228863254189,0.038965292274952,0.167121127247810));
res += mul(Get(s0,0,dy), float4x4(-0.007381022907794,-0.020106546580791,-0.211305662989616,-0.044749379158020,-0.103340692818165,-0.114948719739914,-0.141814038157463,0.108663335442543,0.058346204459667,-0.042612258344889,-0.015268484130502,-0.096709161996841,-0.177330687642097,-0.074247926473618,0.288915008306503,0.087258405983448));
res += mul(Get(s0,dx,-dy), float4x4(-0.081261061131954,0.023152537643909,0.056388180702925,0.173085898160934,0.186842560768127,-0.186608865857124,0.324281662702560,0.034953344613314,0.052300550043583,0.340887963771820,-0.120608560740948,-0.150076776742935,0.024705499410629,-0.011782621033490,0.172694608569145,-0.285700589418411));
res += mul(Get(s0,dx,0), float4x4(0.128723531961441,-0.031600173562765,-0.080822072923183,-0.027175534516573,-0.059861946851015,-0.078848816454411,-0.126415818929672,0.137283831834793,0.007158436346799,0.134524449706078,-0.039379633963108,-0.180914103984833,-0.131438836455345,0.275876075029373,-0.115021243691444,-0.096576385200024));
res += mul(Get(s0,dx,dy), float4x4(-0.089810326695442,0.132383123040199,-0.085344590246677,-0.130003646016121,-0.132304742932320,-0.104062952101231,-0.198388636112213,0.368958503007889,-0.004444211721420,0.180328428745270,-0.121762253344059,-0.190850645303726,-0.189267262816429,-0.133418664336205,0.148148298263550,-0.157905638217926));
res += mul(Get(s1,-dx,-dy), float4x4(-0.138265058398247,-0.057922095060349,0.160092189908028,0.077584140002728,-0.004927433095872,-0.101139284670353,0.100941188633442,0.062188267707825,-0.158967882394791,0.127703100442886,0.042403351515532,-0.116905927658081,-0.208381846547127,-0.045067984610796,-0.041853606700897,0.325234532356262));
res += mul(Get(s1,-dx,0), float4x4(-0.121877528727055,-0.146275609731674,0.210873916745186,0.021238710731268,-0.066262289881706,0.020048866048455,0.128808081150055,0.042583260685205,-0.085957147181034,-0.235461875796318,0.007536004297435,-0.053726024925709,-0.151522278785706,-0.031645737588406,0.313548833131790,0.361552655696869));
res += mul(Get(s1,-dx,dy), float4x4(-0.167828008532524,0.052815701812506,0.169783994555473,0.065788768231869,0.018777189776301,0.005975591484457,-0.022497223690152,-0.012848149053752,-0.127389952540398,-0.040491480380297,-0.132147267460823,-0.080638468265533,-0.272445470094681,0.113045424222946,0.176276743412018,0.193352654576302));
res += mul(Get(s1,0,-dy), float4x4(-0.118900984525681,0.110991053283215,0.089486613869667,-0.249329388141632,0.219759106636047,0.247466206550598,-0.143007844686508,-0.019738350063562,-0.038898676633835,-0.004965109284967,-0.063685655593872,0.165464326739311,-0.093455001711845,-0.019070954993367,0.201817452907562,0.154295638203621));
res += mul(Get(s1,0,0), float4x4(-0.118970148265362,-0.082146108150482,-0.087006300687790,0.028048558160663,-0.027088211849332,-0.092859558761120,0.008511749096215,-0.118552267551422,0.151259616017342,-0.036630295217037,0.054030053317547,0.106053732335567,-0.076241612434387,0.061405301094055,0.015915818512440,0.205019369721413));
res += mul(Get(s1,0,dy), float4x4(-0.110611796379089,0.064348377287388,0.004514102358371,-0.113110736012459,0.050481613725424,0.010501652956009,-0.056930266320705,0.012081691063941,0.028924707323313,-0.001279703108594,-0.185019806027412,0.011180704459548,-0.175455242395401,0.037345841526985,-0.150763615965843,-0.108854986727238));
res += mul(Get(s1,dx,-dy), float4x4(-0.008213005959988,0.046129073947668,0.093441076576710,-0.294223606586456,0.168712794780731,0.240091338753700,-0.144811466336250,-0.152683064341545,-0.302217453718185,-0.058589547872543,-0.012800063937902,-0.054703086614609,0.057203374803066,0.031888213008642,0.179180786013603,-0.069608077406883));
res += mul(Get(s1,dx,0), float4x4(0.066687285900116,0.086314074695110,0.181920245289803,-0.120095737278461,0.091727018356323,0.031147535890341,-0.034237109124660,-0.207575455307961,-0.108745664358139,-0.038613203912973,0.311404794454575,0.150236472487450,0.006365705281496,-0.000270914519206,-0.026859657838941,0.045196261256933));
res += mul(Get(s1,dx,dy), float4x4(0.067512601613998,0.256326109170914,0.418641895055771,-0.216492891311646,-0.023519366979599,0.120464280247688,-0.025589473545551,-0.299391835927963,0.141992226243019,-0.064085133373737,0.012873341329396,-0.113088272511959,-0.013979025185108,-0.203239396214485,-0.076707728207111,0.048902727663517));
res += mul(Get(s2,-dx,-dy), float4x4(-0.057488936930895,-0.063473209738731,-0.123533010482788,-0.256645917892456,-0.304569751024246,-0.106306783854961,0.190155774354935,-0.074690870940685,0.063476197421551,0.143882557749748,0.085684426128864,0.114490389823914,0.146097585558891,0.035330176353455,-0.035917446017265,-0.134241744875908));
res += mul(Get(s2,-dx,0), float4x4(-0.075083501636982,-0.103767670691013,-0.061476450413465,-0.232986941933632,0.011038559488952,0.142490684986115,-0.129323124885559,-0.059952717274427,0.053296145051718,0.029362319037318,0.039371579885483,0.121975563466549,0.086485885083675,-0.090135477483273,-0.068444281816483,0.023548141121864));
res += mul(Get(s2,-dx,dy), float4x4(0.042411681264639,-0.187166571617126,-0.052738856524229,-0.262645810842514,0.012563519179821,0.043221518397331,0.141713529825211,0.042412988841534,0.161512225866318,0.046697556972504,-0.010464651510119,0.016779610887170,0.041203763335943,-0.031481452286243,0.025759568437934,-0.010969330556691));
res += mul(Get(s2,0,-dy), float4x4(-0.102663591504097,-0.022396918386221,-0.072194509208202,0.068624392151833,-0.070056073367596,0.011632818728685,-0.048344835639000,0.090389005839825,0.108571723103523,0.024592513218522,0.054795511066914,-0.023474156856537,0.392297536134720,0.058679580688477,0.018350470811129,-0.113410763442516));
res += mul(Get(s2,0,0), float4x4(-0.212959766387939,-0.169317111372948,-0.190407738089561,0.025527887046337,-0.076716922223568,-0.071170933544636,-0.130563005805016,-0.176949873566628,0.024488877505064,0.142940402030945,-0.014057435095310,0.096228823065758,0.115481115877628,-0.087535426020622,-0.027610002085567,-0.020392226055264));
res += mul(Get(s2,0,dy), float4x4(0.158874914050102,-0.059180509299040,-0.066561907529831,0.017440553754568,0.054786637425423,-0.050149839371443,-0.112701073288918,-0.069069281220436,0.025070399045944,0.169238463044167,0.176520183682442,0.120877936482430,0.154523655772209,0.230149403214455,-0.013417839072645,0.045282833278179));
res += mul(Get(s2,dx,-dy), float4x4(-0.020429112017155,0.008038768544793,0.066640742123127,-0.005974697414786,0.288379877805710,-0.105719201266766,0.008107735775411,-0.179270654916763,0.290069103240967,-0.006651375442743,0.132016360759735,-0.160243287682533,0.197044074535370,0.099671229720116,0.175002157688141,-0.083087235689163));
res += mul(Get(s2,dx,0), float4x4(-0.084397755563259,-0.001771159702912,-0.021780414506793,0.359453380107880,-0.125722229480743,0.085674658417702,0.072996184229851,-0.235773161053658,0.146481424570084,-0.043484725058079,0.037160895764828,-0.046320587396622,0.093286909162998,-0.034543260931969,0.089778967201710,-0.016605922952294));
res += mul(Get(s2,dx,dy), float4x4(0.217769876122475,0.008363132365048,0.106791540980339,0.210123792290688,0.074255906045437,-0.027359010651708,-0.204837471246719,-0.206613942980766,0.103685237467289,-0.035157583653927,0.205579668283463,-0.086137771606445,0.061588756740093,0.182505816221237,-0.032424584031105,0.010805630125105));
res += mul(Get(s3,-dx,-dy), float4x4(-0.155356854200363,0.296559512615204,0.016547502949834,-0.132842287421227,-0.234325304627419,-0.090018175542355,0.139310941100121,0.383168578147888,0.213595375418663,0.130114883184433,0.077441766858101,-0.071562282741070,-0.002110576257110,0.188382536172867,-0.051175616681576,0.123062536120415));
res += mul(Get(s3,-dx,0), float4x4(-0.249879539012909,0.012912549078465,0.091038934886456,0.173015832901001,-0.152192533016205,0.058509841561317,0.005215523764491,0.078084789216518,0.235383093357086,0.060372706502676,-0.119113102555275,-0.226821571588516,0.012645610608160,-0.151378422975540,-0.130550056695938,-0.036520905792713));
res += mul(Get(s3,-dx,dy), float4x4(-0.099922910332680,-0.166782096028328,-0.008387719281018,-0.148277789354324,0.035513591021299,-0.124280646443367,0.147274762392044,-0.006464308127761,0.067146129906178,0.017799185588956,0.128318637609482,-0.088721632957458,0.164138466119766,-0.007002494763583,-0.025867868214846,0.009831042028964));
res += mul(Get(s3,0,-dy), float4x4(-0.068093262612820,0.097242094576359,0.001360579975881,0.026278046891093,-0.225439131259918,-0.000646156840958,0.034691564738750,0.134730011224747,-0.251783251762390,0.039487022906542,0.058016475290060,-0.070281893014908,-0.174034804105759,-0.055896617472172,-0.158665791153908,-0.076164394617081));
res += mul(Get(s3,0,0), float4x4(-0.079132638871670,-0.073322653770447,-0.008010284043849,0.252449721097946,-0.091987356543541,-0.073447346687317,-0.052045684307814,0.166535347700119,0.213399142026901,-0.130416095256805,-0.034061077982187,0.089560993015766,-0.013713536784053,-0.114297926425934,-0.100223094224930,-0.211882129311562));
res += mul(Get(s3,0,dy), float4x4(-0.113574117422104,-0.098370142281055,-0.087994344532490,-0.128560602664948,0.061782538890839,-0.031168898567557,-0.116435639560223,0.006650886032730,0.086087912321091,0.104973748326302,0.285566836595535,-0.000684842700139,0.128719925880432,0.218342155218124,-0.077978163957596,-0.210999414324760));
res += mul(Get(s3,dx,-dy), float4x4(0.041303563863039,0.291844218969345,-0.081223681569099,0.137050390243530,0.050439491868019,0.145259499549866,0.027482736855745,0.101349286735058,-0.040509276092052,0.104839570820332,0.148980960249901,-0.233049765229225,0.495747804641724,-0.119034856557846,-0.110683701932430,-0.176054075360298));
res += mul(Get(s3,dx,0), float4x4(0.104267321527004,0.275558799505234,-0.106779240071774,0.152492657303810,0.008016210049391,0.053800232708454,-0.097216829657555,0.081773772835732,0.250418394804001,-0.171651065349579,0.075588800013065,-0.048560202121735,0.091216184198856,-0.087832204997540,-0.047315232455730,-0.116336785256863));
res += mul(Get(s3,dx,dy), float4x4(0.105832628905773,-0.042445238679647,0.026245150715113,-0.031413443386555,-0.058025173842907,0.105165809392929,-0.133418262004852,-0.076937936246395,0.122515991330147,0.424751669168472,0.080625884234905,-0.127066746354103,0.155981078743935,-0.048983793705702,-0.028263974934816,-0.336011379957199));
return max(float4(0,0,0,0), res);
}
