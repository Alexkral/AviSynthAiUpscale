sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.002534984378144,0.158746987581253,-0.021090626716614,-0.305749803781509,-0.097397275269032,-0.147121548652649,0.144215106964111,0.033537842333317,0.184230625629425,-0.096062712371349,-0.046034421771765,0.034144110977650,0.055346477776766,-0.066133596003056,-0.078744739294052,0.041429210454226));
res += mul(Get(s0,-dx,0), float4x4(-0.046497683972120,-0.202562063932419,-0.126610919833183,0.229169875383377,0.016003619879484,-0.063327811658382,-0.049879416823387,-0.211632981896400,-0.022639915347099,-0.020691597834229,0.089594945311546,-0.071181766688824,0.124721392989159,-0.064139388501644,-0.061182487756014,0.076312623918056));
res += mul(Get(s0,-dx,dy), float4x4(-0.067989110946655,0.067846797406673,-0.343620270490646,0.108923137187958,0.001252633752301,-0.193763315677643,-0.259021848440170,0.081581450998783,-0.029150672256947,0.091920129954815,-0.120774269104004,0.080565221607685,-0.102093018591404,0.073578029870987,0.128205716609955,-0.034349460154772));
res += mul(Get(s0,0,-dy), float4x4(0.065326325595379,0.173953995108604,-0.104976616799831,-0.108241431415081,0.192586094141006,-0.022449670359492,0.130050376057625,-0.152229875326157,0.166008278727531,-0.050287224352360,-0.132309868931770,-0.024484766647220,0.026967503130436,0.097822219133377,0.132623434066772,0.013073683716357));
res += mul(Get(s0,0,0), float4x4(-0.230690747499466,0.087792143225670,-0.038622260093689,-0.021789308637381,0.168135419487953,-0.030389344319701,0.206818848848343,-0.018118001520634,0.049316950142384,-0.151822686195374,0.044321794062853,-0.027885202318430,0.133997425436974,0.099233746528625,0.136061951518059,0.168560937047005));
res += mul(Get(s0,0,dy), float4x4(-0.060744874179363,0.012676485814154,0.248099654912949,-0.061282016336918,0.149328187108040,0.037046622484922,0.234065130352974,-0.250148862600327,0.081447228789330,0.105272553861141,-0.126406148076057,-0.058551389724016,0.130104839801788,-0.066387690603733,0.089019134640694,-0.097989059984684));
res += mul(Get(s0,dx,-dy), float4x4(0.266041040420532,-0.044786825776100,-0.032278589904308,-0.075067631900311,0.016261167824268,-0.029001941904426,0.058329179883003,-0.027371205389500,-0.020814815536141,-0.233382478356361,0.119419269263744,-0.183073371648788,-0.172776535153389,0.102327436208725,0.094960965216160,0.040095306932926));
res += mul(Get(s0,dx,0), float4x4(-0.220113307237625,-0.011676671914756,-0.144031062722206,0.045080456882715,-0.049419663846493,-0.147421330213547,0.068759895861149,-0.117849051952362,0.028132021427155,0.024660388007760,-0.053572773933411,0.032196704298258,0.233450680971146,0.051278788596392,0.195340201258659,0.043837890028954));
res += mul(Get(s0,dx,dy), float4x4(0.122567109763622,0.099765084683895,0.058259312063456,-0.050940394401550,-0.063879363238811,-0.288180619478226,0.150809317827225,-0.156992495059967,-0.237907767295837,0.208097383379936,-0.026159744709730,-0.154760003089905,0.041720252484083,0.051794797182083,-0.001038938411511,-0.190485864877701));
res += mul(Get(s1,-dx,-dy), float4x4(0.063337169587612,0.138932093977928,0.099810697138309,-0.147529557347298,-0.136956766247749,-0.064148627221584,-0.001404006849043,0.051677554845810,0.029799837619066,0.107144236564636,-0.006986317690462,0.056310694664717,0.059155181050301,0.125643819570541,-0.007455055136234,0.020564550533891));
res += mul(Get(s1,-dx,0), float4x4(0.102514103055000,0.072951614856720,0.067470416426659,0.144053414463997,0.026845639571548,0.004721297416836,0.089771039783955,0.008765716105700,0.074643522500992,0.132702082395554,0.024585703387856,0.074797563254833,-0.091351278126240,-0.144585132598877,-0.020798454061151,-0.107296101748943));
res += mul(Get(s1,-dx,dy), float4x4(0.030597578734159,-0.021179419010878,0.076735585927963,-0.014273517765105,-0.026187269017100,0.159095019102097,0.051153961569071,-0.078116461634636,0.001103297225200,0.006001173052937,0.017354525625706,-0.064242012798786,-0.054577309638262,0.168972209095955,0.174180895090103,0.095764674246311));
res += mul(Get(s1,0,-dy), float4x4(-0.066133819520473,-0.130775138735771,0.120136119425297,-0.046905133873224,-0.017593363299966,-0.023402253165841,0.040289521217346,-0.061891529709101,0.099170900881290,-0.032625194638968,0.023493496701121,-0.007887640967965,0.217297211289406,-0.122466571629047,-0.002401300007477,-0.104205295443535));
res += mul(Get(s1,0,0), float4x4(0.042654726654291,0.118049636483192,0.148776665329933,-0.095072776079178,-0.188768103718758,-0.099860094487667,-0.068651273846626,-0.152070596814156,0.109319746494293,-0.081002406775951,-0.014125944115222,-0.024692352861166,-0.028184510767460,-0.009531479328871,-0.083864428102970,0.121835000813007));
res += mul(Get(s1,0,dy), float4x4(-0.049400966614485,0.028875758871436,-0.007817132398486,-0.070863761007786,-0.097711168229580,-0.004404406994581,0.068940475583076,-0.264578580856323,-0.003231314243749,-0.050934731960297,0.113616324961185,-0.139398396015167,-0.033006396144629,0.102543435990810,-0.027844885364175,0.003233934054151));
res += mul(Get(s1,dx,-dy), float4x4(0.091568537056446,-0.097781971096992,0.025073602795601,0.109930589795113,-0.015124228782952,0.121969126164913,0.142671093344688,-0.019973006099463,0.010505191050470,0.018598996102810,0.119698464870453,0.182482540607452,0.104192174971104,-0.089332275092602,0.036854300647974,0.179552569985390));
res += mul(Get(s1,dx,0), float4x4(-0.058149039745331,-0.182872951030731,0.019564144313335,-0.015715038403869,-0.115768186748028,-0.013435922563076,0.111673295497894,0.147662937641144,-0.046452619135380,0.245765209197998,-0.054885201156139,0.334352880716324,-0.183334484696388,-0.026681274175644,0.004668890032917,0.004281483590603));
res += mul(Get(s1,dx,dy), float4x4(-0.145483762025833,0.041361130774021,-0.178533822298050,0.092350609600544,-0.078100025653839,0.103556580841541,0.186310216784477,-0.093638032674789,0.258934408426285,-0.049944270402193,0.069932922720909,-0.091916605830193,-0.070988796651363,0.045713987201452,0.146871760487556,0.018699001520872));
res += mul(Get(s2,-dx,-dy), float4x4(0.044298943132162,-0.021466154605150,0.001643526600674,-0.121301978826523,0.039086814969778,-0.003118437947705,-0.135107696056366,0.016173364594579,0.087159030139446,-0.175987556576729,-0.181443855166435,0.001660773763433,-0.216434642672539,-0.089108519256115,0.162270948290825,0.024468591436744));
res += mul(Get(s2,-dx,0), float4x4(-0.067132852971554,0.006372310221195,-0.172919824719429,-0.076380945742130,0.012010254897177,0.079725399613380,0.206591665744781,0.049890168011189,-0.083730697631836,-0.138510942459106,-0.104236848652363,-0.107509724795818,-0.021573780104518,0.016233291476965,-0.066176071763039,-0.135428279638290));
res += mul(Get(s2,-dx,dy), float4x4(-0.034723930060863,-0.043636765331030,-0.094795808196068,-0.127588093280792,0.012041014619172,0.050067629665136,-0.068576730787754,-0.085004940629005,-0.099262379109859,-0.220054596662521,0.221878111362457,0.068565227091312,-0.080323480069637,0.176457002758980,0.049416203051805,0.025353493168950));
res += mul(Get(s2,0,-dy), float4x4(-0.122708410024643,0.039518337696791,0.025952395051718,-0.090038940310478,0.015712734311819,0.067313142120838,0.084773726761341,0.114823184907436,-0.013600766658783,-0.136277422308922,0.031875904649496,-0.042323675006628,-0.044503476470709,0.001203636988066,-0.049834929406643,0.049601465463638));
res += mul(Get(s2,0,0), float4x4(0.006641060579568,-0.156796097755432,0.045372512191534,0.144750908017159,0.079267539083958,0.071883395314217,0.046083316206932,0.161933988332748,-0.139381244778633,-0.099297791719437,-0.012317481450737,0.060615476220846,0.088748253881931,0.074739500880241,0.087581984698772,0.022350499406457));
res += mul(Get(s2,0,dy), float4x4(-0.059683412313461,0.156373098492622,-0.097518205642700,0.010653568431735,-0.113190859556198,-0.212148323655128,0.003617483191192,0.198631554841995,-0.122931361198425,-0.136349722743034,0.165745809674263,-0.086098596453667,0.246710255742073,0.092686563730240,-0.181271016597748,0.005082179792225));
res += mul(Get(s2,dx,-dy), float4x4(0.005656936205924,-0.036644086241722,0.108941659331322,-0.045453801751137,0.221285864710808,-0.041570439934731,-0.198689416050911,0.008713981136680,0.079915367066860,0.065799184143543,0.089249603450298,0.101161226630211,0.140241444110870,0.073829121887684,0.056559894233942,-0.041239921003580));
res += mul(Get(s2,dx,0), float4x4(-0.084856308996677,0.080500945448875,0.075019881129265,-0.026201395317912,0.023705054074526,0.044866234064102,-0.138733997941017,0.044758662581444,0.090412147343159,0.181283712387085,0.065389692783356,-0.022949036210775,0.261572569608688,-0.094841822981834,-0.129632726311684,-0.003799787024036));
res += mul(Get(s2,dx,dy), float4x4(-0.062886342406273,0.237354695796967,-0.003929279744625,-0.119159691035748,0.054029546678066,-0.186564400792122,-0.054090116173029,-0.060045488178730,0.053709808737040,-0.066503137350082,0.061410158872604,-0.014549419283867,-0.037302140146494,-0.080805510282516,-0.147127479314804,-0.266892880201340));
res += mul(Get(s3,-dx,-dy), float4x4(-0.081533096730709,0.048188053071499,0.130865901708603,0.020329622551799,-0.354805767536163,-0.128930881619453,-0.027422601357102,-0.083183795213699,-0.080063790082932,-0.301470816135406,-0.113867379724979,-0.038266621530056,0.109354332089424,-0.080721110105515,-0.034490041434765,-0.115820206701756));
res += mul(Get(s3,-dx,0), float4x4(0.103980503976345,0.061684899032116,0.116526193916798,-0.089540839195251,-0.299906104803085,0.172670513391495,0.119108133018017,-0.013901052996516,-0.032761465758085,-0.007326549384743,0.100738406181335,-0.017960499972105,0.016314459964633,0.176403060555458,-0.165305092930794,0.195286944508553));
res += mul(Get(s3,-dx,dy), float4x4(-0.122129805386066,0.087335504591465,0.022035602480173,-0.167857185006142,0.000930566049647,0.036548234522343,-0.269816547632217,0.186749488115311,-0.152740165591240,-0.100442163646221,-0.040600035339594,0.064139403402805,0.006505834404379,-0.203701421618462,0.008078587241471,-0.168390303850174));
res += mul(Get(s3,0,-dy), float4x4(-0.031095875427127,-0.066670201718807,-0.058899194002151,0.197084203362465,0.130852401256561,-0.357879728078842,0.144065335392952,-0.107898935675621,-0.049835134297609,0.061188217252493,-0.130016684532166,0.121090799570084,-0.028205266222358,-0.029189152643085,0.013480960391462,0.064779520034790));
res += mul(Get(s3,0,0), float4x4(-0.055292133241892,-0.215289250016212,0.012779988348484,0.002733264816925,-0.014832192100585,-0.084671936929226,0.061185982078314,-0.084756873548031,0.030978573486209,-0.086294695734978,-0.134301215410233,0.011772956699133,0.030415408313274,-0.114757448434830,0.117431499063969,-0.372460067272186));
res += mul(Get(s3,0,dy), float4x4(-0.045135475695133,-0.068187728524208,-0.098919093608856,0.189224258065224,0.049129240214825,-0.028465300798416,-0.310271471738815,0.046125825494528,-0.215464025735855,0.246336355805397,0.058033011853695,-0.132984861731529,-0.163296878337860,-0.250966519117355,0.091845341026783,-0.054839700460434));
res += mul(Get(s3,dx,-dy), float4x4(-0.021349217742682,0.084520727396011,0.063812620937824,0.049439415335655,-0.081362321972847,-0.088861934840679,0.115810401737690,0.036926053464413,0.042194377630949,0.064695678651333,-0.007378015201539,0.104581892490387,0.093181490898132,0.112885542213917,0.123848266899586,-0.089351281523705));
res += mul(Get(s3,dx,0), float4x4(0.069715932011604,-0.149347305297852,-0.061192341148853,-0.002426339313388,0.063027791678905,-0.115978613495827,0.059056829661131,0.021574541926384,-0.053443808108568,0.047279432415962,-0.119492553174496,-0.093381822109222,0.059786528348923,-0.033687502145767,-0.028387980535626,-0.131083726882935));
res += mul(Get(s3,dx,dy), float4x4(0.091887332499027,-0.006698319222778,0.123636819422245,-0.062678404152393,0.152203038334846,0.080476522445679,0.063569366931915,0.080254793167114,0.172263607382774,0.027586944401264,0.047970548272133,-0.057665444910526,-0.005539103411138,0.141953870654106,0.026802645996213,0.184581890702248));
return max(float4(0,0,0,0), res);
}
