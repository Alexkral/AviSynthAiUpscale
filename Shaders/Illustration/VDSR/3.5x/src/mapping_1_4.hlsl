sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.053447060286999,0.200555756688118,-0.050861492753029,0.149566903710365,0.095369532704353,0.070934690535069,-0.075725913047791,-0.172279089689255,-0.258155494928360,-0.046740505844355,0.115298561751842,0.236197397112846,-0.001417973893695,-0.005012126173824,0.003900170326233,-0.006831045728177));
res += mul(Get(s0,-dx,0), float4x4(-0.014351155608892,0.162991568446159,-0.021806953474879,0.555557608604431,0.221260249614716,0.008839762769639,0.166956916451454,-0.041853733360767,-0.215738952159882,-0.150637254118919,-0.170070052146912,0.028611430898309,-0.004937756806612,-0.005404280964285,-0.007998485118151,0.002194493776187));
res += mul(Get(s0,-dx,dy), float4x4(-0.126482397317886,0.178951784968376,-0.022804124280810,0.223441943526268,0.084451422095299,0.075175799429417,-0.008441930636764,-0.154815077781677,-0.283035069704056,0.022729536518455,-0.108712285757065,0.051793769001961,0.002766859950498,0.007669945713133,0.004733250476420,0.010880922898650));
res += mul(Get(s0,0,-dy), float4x4(0.045484010130167,-0.025810215622187,-0.183343365788460,-0.288775950670242,-0.078689619898796,-0.052743282169104,0.026600429788232,0.040160428732634,-0.140582129359245,0.036423195153475,-0.045381586998701,0.034675978124142,-0.007308150175959,0.007510640658438,0.010304246097803,-0.013950174674392));
res += mul(Get(s0,0,0), float4x4(0.069902308285236,0.286602735519409,-0.106140814721584,0.113322801887989,-0.051922641694546,-0.130299076437950,0.475020259618759,0.156466543674469,-0.110390789806843,-0.053674459457397,-0.019120924174786,-0.187336638569832,0.002778658643365,0.001723241759464,0.011555683799088,-0.006367567460984));
res += mul(Get(s0,0,dy), float4x4(-0.054752159863710,0.424457997083664,0.165697038173676,0.339322447776794,-0.029196694493294,-0.022932104766369,-0.065069958567619,-0.298515856266022,-0.246140077710152,0.174821794033051,0.067347697913647,-0.043952267616987,-0.001641655690037,0.010024394840002,-0.008676823228598,0.002804697956890));
res += mul(Get(s0,dx,-dy), float4x4(-0.224560052156448,-0.389763265848160,0.123128153383732,-0.529949605464935,-0.088322743773460,0.038081817328930,-0.007965883240104,0.202899917960167,-0.327540218830109,-0.459107488393784,-0.013487388379872,-0.016223233193159,0.015198656357825,-0.010753776878119,0.013908563181758,0.006279609166086));
res += mul(Get(s0,dx,0), float4x4(-0.164022132754326,-0.275200575590134,-0.144474178552628,-0.401739567518234,-0.138283997774124,-0.026985265314579,-0.127302631735802,-0.036750204861164,-0.172776862978935,-0.326820313930511,0.228317216038704,-0.031706050038338,0.002602237043902,0.001480445032939,-0.011170422658324,-0.005214306991547));
res += mul(Get(s0,dx,dy), float4x4(-0.270980238914490,-0.395475149154663,0.286236375570297,-0.145801663398743,-0.097208566963673,0.094387888908386,-0.057966493070126,-0.202123612165451,-0.350366562604904,-0.152175486087799,0.007733670063317,-0.088051490485668,0.010367956012487,0.019909277558327,-0.003758898936212,-0.001051569473930));
res += mul(Get(s1,-dx,-dy), float4x4(-0.157251670956612,0.020252587273717,0.175027087330818,-0.251224309206009,-0.090809606015682,-0.028896177187562,0.071057423949242,-0.105074830353260,0.400853902101517,0.093058764934540,-0.155570134520531,-0.080862030386925,-0.003802476683632,-0.000587670074310,0.013322406448424,0.004700599238276));
res += mul(Get(s1,-dx,0), float4x4(0.094257652759552,-0.182693973183632,-0.139744162559509,-0.142039954662323,0.084529407322407,-0.011668655090034,-0.021472798660398,-0.011370488442481,0.583948969841003,-0.030638089403510,-0.171623229980469,-0.140888020396233,-0.003429917851463,-0.012379889376462,-0.003805435495451,-0.004647799767554));
res += mul(Get(s1,-dx,dy), float4x4(0.123248018324375,-0.148222520947456,-0.196803405880928,-0.187274172902107,0.171435594558716,0.030444838106632,-0.012226354330778,-0.017971830442548,0.354792952537537,-0.089369989931583,-0.029711248353124,-0.022848192602396,-0.001139927422628,-0.000181293275091,-0.008783681318164,0.001033345470205));
res += mul(Get(s1,0,-dy), float4x4(-0.237114787101746,-0.023283481597900,0.144864395260811,-0.149121075868607,-0.109478816390038,-0.037695515900850,0.012778241187334,-0.097092531621456,0.094667248427868,0.024387551471591,-0.185795813798904,-0.064865879714489,-0.006097446195781,-0.011377851478755,0.003220148850232,-0.004330806434155));
res += mul(Get(s1,0,0), float4x4(-0.062727481126785,-0.154361233115196,-0.040910027921200,0.009419373236597,0.021592983976007,-0.033683743327856,-0.072138108313084,-0.028746446594596,0.142878815531731,-0.080523885786533,-0.126948848366737,-0.081950731575489,-0.003654407104477,-0.020635137334466,-0.002558907959610,-0.006104573141783));
res += mul(Get(s1,0,dy), float4x4(-0.036794964224100,0.045436270534992,-0.125407904386520,0.003168387571350,0.109573662281036,-0.018121777102351,-0.051557376980782,-0.066888101398945,0.030769210308790,-0.082375332713127,-0.105029992759228,0.007672700565308,-0.004905197303742,0.001335728098638,0.008276606909931,-0.017505493015051));
res += mul(Get(s1,dx,-dy), float4x4(-0.329807192087173,0.067939281463623,0.149414524435997,-0.079503372311592,-0.091136552393436,-0.052623633295298,0.026104174554348,-0.118141964077950,-0.140739351511002,-0.040248297154903,0.147803589701653,0.060937352478504,-0.016103016212583,-0.004595194477588,-0.000624247128144,0.002045426052064));
res += mul(Get(s1,dx,0), float4x4(-0.102802380919456,-0.020031642168760,0.065505437552929,0.083416387438774,0.006682708859444,-0.051204882562160,-0.015091134235263,-0.002460799412802,-0.172462388873100,-0.090352408587933,0.026202768087387,-0.030344966799021,-0.003781867446378,0.011252396740019,0.013282269239426,-0.001630750019103));
res += mul(Get(s1,dx,dy), float4x4(-0.033681768923998,0.037204243242741,-0.055761452764273,0.066604882478714,0.093255728483200,-0.019590493291616,0.002684686798602,-0.001132598146796,-0.191100746393204,-0.021311314776540,-0.012388251721859,-0.043814066797495,0.015084139071405,-0.004663375206292,0.003910762723535,-0.008515521883965));
res += mul(Get(s2,-dx,-dy), float4x4(1.139816045761108,0.242345333099365,-0.273366183042526,-0.280384659767151,0.006071301177144,-0.061695527285337,0.096012406051159,0.031619481742382,0.002716577379033,0.010407404042780,-0.007741863839328,-0.011640821583569,-0.005786275491118,-0.010188373737037,-0.001507334411144,0.014396957121789));
res += mul(Get(s2,-dx,0), float4x4(0.201805442571640,0.570565879344940,-0.402214497327805,0.076096944510937,0.171072661876678,-0.073843598365784,0.200079217553139,0.098097249865532,0.012191497720778,-0.006126805674285,0.005793992429972,-0.012920034117997,-0.003109267447144,0.009196873754263,0.004875481594354,0.003497206373140));
res += mul(Get(s2,-dx,dy), float4x4(-0.335422754287720,0.273218274116516,0.478892832994461,0.515572845935822,0.085613556206226,-0.008776866830885,-0.082673005759716,-0.249753847718239,0.013808063231409,-0.001870170352049,-0.007732421625406,0.006432442925870,0.009116175584495,-0.000024009865228,0.000584248395171,0.005988650489599));
res += mul(Get(s2,0,-dy), float4x4(0.452374964952469,0.276508808135986,-0.464977115392685,-0.453631132841110,-0.038249421864748,0.011278261430562,-0.042410627007484,-0.109899304807186,0.003355449298397,0.001122696092352,-0.011458330787718,0.007908847182989,0.003431861987337,0.017497366294265,0.012038966640830,-0.001714910380542));
res += mul(Get(s2,0,0), float4x4(-0.374592661857605,-0.064696222543716,0.029485518112779,-0.062266964465380,-0.083887226879597,-0.093014813959599,0.229032516479492,0.258420884609222,-0.008237634785473,0.009519746527076,-0.007842755876482,0.000711772241630,0.010267098434269,-0.005156023427844,0.004302216228098,-0.019182579591870));
res += mul(Get(s2,0,dy), float4x4(-0.634862124919891,-0.272080034017563,0.455777347087860,0.507096886634827,-0.076308049261570,-0.156925186514854,-0.081535719335079,-0.100222609937191,-0.005867929663509,-0.012071435339749,0.001635261694901,-0.010761916637421,0.019771091639996,-0.029352650046349,0.004310192074627,-0.002082427963614));
res += mul(Get(s2,dx,-dy), float4x4(-0.052535079419613,0.068006992340088,-0.047371733933687,-0.304421722888947,0.054836608469486,0.013454535976052,-0.136728346347809,-0.226082161068916,-0.007804362569004,-0.004093943629414,0.010093858465552,0.003337800968438,-0.008781293407083,-0.000365444604540,-0.008710524067283,0.007558241952211));
res += mul(Get(s2,dx,0), float4x4(-0.741481542587280,-0.509026587009430,0.343058198690414,-0.130998253822327,0.026657979935408,0.080168701708317,-0.183816134929657,-0.030283913016319,0.008583392016590,-0.001128230709583,-0.006916510872543,-0.005747098941356,0.013128512538970,-0.010877454653382,-0.003054819069803,0.006301475223154));
res += mul(Get(s2,dx,dy), float4x4(-0.756493449211121,-0.290276944637299,-0.090602897107601,0.195178434252739,-0.016426676884294,0.112844131886959,0.072344683110714,-0.104795321822166,-0.004657479003072,-0.010909935459495,-0.006476987618953,-0.002199199050665,0.009442357346416,-0.019079072400928,0.002665897132829,-0.005259718280286));
res += mul(Get(s3,-dx,-dy), float4x4(-0.102139621973038,0.035290166735649,0.013392360880971,-0.151342049241066,0.004150355234742,0.011678590439260,0.003176097990945,-0.001089178724214,0.522888183593750,0.394098103046417,-0.028715781867504,-0.061213612556458,0.045214802026749,0.058024346828461,-0.046410523355007,0.027472082525492));
res += mul(Get(s3,-dx,0), float4x4(0.150939300656319,-0.033109363168478,-0.147860974073410,-0.130773350596428,0.003327792044729,-0.009609460830688,-0.005292281508446,0.010957153514028,0.767346978187561,0.125355318188667,-0.193804934620857,0.032250523567200,-0.081005759537220,0.001489819725975,0.022420367226005,-0.028152421116829));
res += mul(Get(s3,-dx,dy), float4x4(0.184067234396935,-0.062447603791952,-0.160607472062111,-0.174150004982948,0.004415448755026,-0.001643893891014,0.006167634855956,-0.006664167623967,0.613915264606476,-0.299547195434570,-0.111618369817734,0.170848593115807,-0.167493402957916,-0.065212033689022,0.015558479353786,0.145506843924522));
res += mul(Get(s3,0,-dy), float4x4(-0.318070203065872,0.022832470014691,-0.139514684677124,-0.248357668519020,0.008183366619051,-0.004327923990786,0.011602818034589,0.005665174685419,-0.067343279719353,0.570031762123108,-0.112427704036236,-0.232965990900993,0.160306006669998,0.126354396343231,0.054604411125183,-0.017586458474398));
res += mul(Get(s3,0,0), float4x4(-0.090791113674641,-0.053820244967937,-0.090773224830627,-0.129203587770462,0.002018906641752,0.008454742841423,0.007382741663605,0.008100377395749,-0.084593795239925,0.309375405311584,-0.281857520341873,-0.121087282896042,0.009930016472936,0.086284339427948,-0.118391759693623,-0.122788861393929));
res += mul(Get(s3,0,dy), float4x4(0.047561109066010,0.002733131404966,0.035587880760431,-0.120607033371925,-0.005535097792745,0.005506611894816,-0.019000776112080,-0.001462279120460,-0.239745363593102,0.003191360738128,-0.166056022047997,0.100549720227718,-0.095194257795811,0.020400719717145,0.034637399017811,0.040564075112343));
res += mul(Get(s3,dx,-dy), float4x4(-0.366186857223511,-0.060853380709887,0.098870284855366,-0.162196785211563,0.018947729840875,-0.000714341935236,0.017293855547905,0.000881761836354,-0.330510467290878,-0.186091035604477,0.573896765708923,-0.066344909369946,0.237907662987709,-0.145186871290207,-0.014579766429961,0.001589057734236));
res += mul(Get(s3,dx,0), float4x4(-0.116489917039871,-0.151632308959961,0.147901833057404,-0.010188631713390,0.011628190986812,-0.004109552130103,0.004368048161268,-0.006316473241895,-0.393907219171524,-0.163472563028336,0.398534327745438,0.048699371516705,0.054744642227888,-0.110036477446556,0.011154951527715,-0.101407729089260));
res += mul(Get(s3,dx,dy), float4x4(0.013722463510931,0.020814713090658,-0.159640058875084,-0.003547039581463,-0.001191727467813,0.007067464292049,-0.011958104558289,-0.004499784205109,-0.600079476833344,0.025887474417686,-0.107016593217850,0.132776930928230,-0.122835718095303,-0.003483614418656,-0.071046866476536,-0.059253077954054));
return max(float4(0,0,0,0), res);
}
