sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.056252881884575,-0.013856197707355,0.118399679660797,0.037640064954758,-0.051924929022789,0.028709257021546,-0.037438619881868,0.127637237310410,-0.130763813853264,0.030392093583941,0.080736562609673,0.088140256702900,0.068460710346699,0.095354519784451,0.060598436743021,-0.230109065771103));
res += mul(Get(s0,-dx,0), float4x4(-0.051392141729593,0.097277566790581,0.004599835257977,-0.028974685817957,0.057755801826715,0.017282502725720,-0.002507964847609,0.012399923056364,0.061468269675970,0.032286208122969,-0.000495602551382,-0.266702473163605,-0.023079829290509,0.089674748480320,-0.003811335423961,0.061797954142094));
res += mul(Get(s0,-dx,dy), float4x4(-0.096291579306126,-0.143424779176712,0.110984742641449,0.048376522958279,0.064431369304657,0.082599617540836,0.109396353363991,-0.101729929447174,-0.088189572095871,0.085321843624115,0.093646682798862,0.074141159653664,-0.165554612874985,0.052537627518177,-0.042370460927486,-0.032488781958818));
res += mul(Get(s0,0,-dy), float4x4(-0.066775463521481,0.098598346114159,0.071546815335751,0.007718535605818,-0.001376436324790,0.045739073306322,0.012459173798561,0.130104541778564,-0.137381717562675,-0.124250404536724,-0.011113598942757,-0.183813393115997,-0.285626679658890,-0.068263038992882,0.057477843016386,0.020432544872165));
res += mul(Get(s0,0,0), float4x4(0.136312127113342,-0.019350059330463,-0.143994495272636,-0.151492923498154,0.136869341135025,-0.056578047573566,0.115312688052654,0.051030103117228,-0.032984483987093,0.023100372403860,0.027344398200512,0.125663757324219,-0.133858993649483,0.180724620819092,0.152262568473816,-0.014986949972808));
res += mul(Get(s0,0,dy), float4x4(-0.100493215024471,-0.144119292497635,0.107385590672493,0.145291447639465,-0.159723326563835,0.088536918163300,-0.019651560112834,0.138151705265045,-0.034198805689812,0.012254866771400,-0.161516234278679,0.141962856054306,-0.111741349101067,-0.097109816968441,0.054160438477993,-0.055704798549414));
res += mul(Get(s0,dx,-dy), float4x4(0.012385864742100,-0.056842327117920,-0.000362706079613,-0.023953150957823,-0.067333869636059,0.240928173065186,0.049737412482500,-0.169197216629982,0.023697482421994,-0.041703581809998,-0.041581962257624,-0.070815257728100,0.073241740465164,0.113651536405087,-0.045423824340105,-0.089068077504635));
res += mul(Get(s0,dx,0), float4x4(-0.183161526918411,-0.006380512379110,0.163467258214951,0.110333621501923,0.088270559906960,-0.069516919553280,-0.000650542206131,-0.097685597836971,-0.191995516419411,0.067878760397434,0.010629703290761,-0.134508311748505,-0.034016966819763,-0.099102772772312,0.270011544227600,0.086539745330811));
res += mul(Get(s0,dx,dy), float4x4(0.148596465587616,0.085981220006943,0.046380147337914,-0.203901991248131,-0.082066170871258,-0.092740684747696,0.012910390272737,0.102527283132076,0.054238673299551,0.021152574568987,0.088067732751369,-0.076774679124355,-0.022483319044113,0.078718498349190,0.140199467539787,-0.090160608291626));
res += mul(Get(s1,-dx,-dy), float4x4(0.105197563767433,-0.024518357589841,0.139782845973969,-0.198357656598091,-0.190678209066391,-0.102254509925842,0.034302696585655,-0.068146109580994,0.016868799924850,0.029386721551418,0.217603906989098,0.162092804908752,-0.063166283071041,-0.018872747197747,0.099965795874596,-0.345979154109955));
res += mul(Get(s1,-dx,0), float4x4(-0.026556476950645,-0.200953513383865,0.063007287681103,0.123132519423962,0.131913885474205,-0.211548700928688,-0.055866353213787,-0.072993554174900,-0.161320462822914,0.004357940051705,0.056397028267384,0.170173481106758,-0.098450541496277,0.184363096952438,0.114545270800591,0.266393184661865));
res += mul(Get(s1,-dx,dy), float4x4(-0.006030164659023,0.274596929550171,0.027494965121150,0.008842566050589,-0.041718386113644,0.184439748525620,-0.057222295552492,-0.033793065696955,-0.005415815394372,0.039135001599789,0.044465765357018,0.319493502378464,0.132046267390251,-0.073802091181278,-0.078288704156876,0.089224293828011));
res += mul(Get(s1,0,-dy), float4x4(-0.254888594150543,-0.031436387449503,-0.138525009155273,-0.201124921441078,0.083993516862392,-0.007841768674552,-0.049162335693836,0.040920551866293,-0.051772858947515,0.124055236577988,0.061782747507095,-0.118846096098423,0.119821712374687,-0.182198703289032,-0.029763879254460,0.202295929193497));
res += mul(Get(s1,0,0), float4x4(0.105902746319771,-0.030532259494066,0.118354387581348,0.000342864630511,0.236306682229042,-0.020289845764637,-0.158408567309380,-0.045238483697176,0.018582226708531,-0.095958255231380,0.025547523051500,0.044268876314163,-0.000187223646208,0.000875705038197,0.014646711759269,0.064560942351818));
res += mul(Get(s1,0,dy), float4x4(0.124916173517704,0.105771698057652,0.008274907246232,0.313151448965073,0.016088517382741,0.082246005535126,0.081460736691952,0.065094143152237,0.129696384072304,-0.038383018225431,0.012806302867830,0.154893472790718,0.056148290634155,0.028046125546098,-0.015417247079313,-0.053645804524422));
res += mul(Get(s1,dx,-dy), float4x4(0.250286996364594,-0.036408405750990,0.041413653641939,-0.092574387788773,-0.041007790714502,-0.060141511261463,-0.064762845635414,0.021843994036317,-0.020003018900752,0.197831407189369,0.166147410869598,0.018841763958335,0.031729839742184,-0.183505356311798,-0.283093541860580,-0.075857363641262));
res += mul(Get(s1,dx,0), float4x4(-0.127839580178261,-0.174891874194145,0.054545808583498,-0.089135035872459,0.109622180461884,-0.099612057209015,0.010494520887733,-0.009448044002056,-0.057625606656075,-0.095007866621017,-0.031805112957954,-0.110275991261005,0.050681106746197,0.090769618749619,0.051079690456390,-0.057101503014565));
res += mul(Get(s1,dx,dy), float4x4(-0.126868307590485,0.017345931380987,-0.095680534839630,-0.040678422898054,-0.008681513369083,0.194438487291336,0.105824768543243,-0.035150241106749,-0.113796241581440,0.046556338667870,-0.056274209171534,-0.036123692989349,0.025051379576325,-0.068387508392334,-0.231743484735489,-0.104825921356678));
res += mul(Get(s2,-dx,-dy), float4x4(-0.060319535434246,0.031798250973225,0.069515712559223,-0.105808764696121,0.077523730695248,-0.003988939337432,0.125878855586052,0.138270795345306,-0.098978407680988,0.031573623418808,-0.137196868658066,-0.018631886690855,-0.145555123686790,0.062466003000736,0.125650137662888,0.183712005615234));
res += mul(Get(s2,-dx,0), float4x4(0.009895440191031,0.033763173967600,0.141042545437813,-0.001504293526523,0.035813771188259,-0.216143131256104,0.104619204998016,-0.048426274210215,0.075141698122025,-0.073110081255436,0.140476137399673,0.186202734708786,0.066649533808231,-0.101598776876926,-0.017673887312412,0.033341277390718));
res += mul(Get(s2,-dx,dy), float4x4(-0.242812365293503,-0.099948711693287,0.159800246357918,0.029305433854461,-0.024501504376531,0.109411865472794,-0.089112825691700,0.012783914804459,-0.017809782177210,0.139209404587746,-0.152008414268494,-0.105330407619476,0.004045228008181,0.045299161225557,0.082612693309784,-0.138985797762871));
res += mul(Get(s2,0,-dy), float4x4(-0.026365047320724,0.129186362028122,-0.061135526746511,-0.012378841638565,0.047657135874033,0.049710959196091,0.079101622104645,0.205851137638092,0.055613093078136,-0.103982232511044,-0.022325566038489,-0.179310843348503,-0.006792461033911,0.375065207481384,0.006807338446379,0.290875792503357));
res += mul(Get(s2,0,0), float4x4(0.068435192108154,0.059995930641890,0.098765030503273,0.192758664488792,-0.091164559125900,0.012589549645782,-0.041168298572302,0.076796010136604,0.014537009410560,-0.058402352035046,-0.083525657653809,0.095926672220230,0.050022136420012,0.104996845126152,-0.080144211649895,0.050322219729424));
res += mul(Get(s2,0,dy), float4x4(0.118750251829624,-0.096821144223213,-0.072261281311512,0.061681013554335,-0.307568281888962,-0.103062935173512,-0.131538137793541,0.068955585360527,0.199093744158745,-0.045820493251085,0.123461022973061,-0.131578773260117,-0.007769207004458,-0.035521466284990,0.011242334730923,-0.131443053483963));
res += mul(Get(s2,dx,-dy), float4x4(0.272292494773865,-0.027195315808058,-0.156812027096748,0.063957720994949,0.145785123109818,0.197094723582268,-0.059327624738216,0.123384855687618,-0.133038431406021,-0.118853986263275,-0.105662398040295,-0.000654447590932,0.101204633712769,0.017175156623125,0.052498091012239,-0.084693454205990));
res += mul(Get(s2,dx,0), float4x4(-0.093122564256191,0.109585314989090,-0.161405995488167,0.056501243263483,0.058885689824820,0.015009731054306,0.094431057572365,-0.008166274055839,-0.078845150768757,0.138699442148209,0.100874826312065,-0.045547038316727,-0.344476014375687,0.016092212870717,0.106383390724659,-0.307503223419189));
res += mul(Get(s2,dx,dy), float4x4(-0.059732247143984,0.173078671097755,-0.098715268075466,0.144078046083450,0.166585400700569,0.065908968448639,-0.059747651219368,-0.083252362906933,-0.159813448786736,-0.153622537851334,-0.040537558495998,-0.014528414234519,0.036022055894136,-0.072856441140175,0.296544969081879,0.021897658705711));
res += mul(Get(s3,-dx,-dy), float4x4(-0.036708556115627,0.016633551567793,0.154224053025246,-0.022916626185179,0.000379141420126,0.008349014446139,-0.003662524512038,-0.007019725162536,0.113216884434223,-0.045092485845089,-0.078290119767189,0.091879732906818,-0.078797146677971,-0.176750153303146,-0.262930423021317,-0.082160972058773));
res += mul(Get(s3,-dx,0), float4x4(0.128223255276680,-0.011644217185676,-0.261512786149979,-0.043252207338810,0.167548179626465,-0.197421565651894,0.026299426332116,0.074614547193050,-0.148215800523758,0.118171013891697,-0.002568564843386,-0.010784208774567,-0.158288702368736,-0.051799152046442,0.033751826733351,0.119813688099384));
res += mul(Get(s3,-dx,dy), float4x4(0.009607412852347,-0.174073785543442,-0.250346124172211,0.102808117866516,0.129375576972961,0.043828867375851,-0.036617070436478,0.175692930817604,0.347175657749176,0.030017118901014,-0.127219513058662,0.076009407639503,-0.080158203840256,0.098307937383652,0.129893198609352,0.067293673753738));
res += mul(Get(s3,0,-dy), float4x4(-0.185692802071571,-0.095413632690907,0.056849192827940,0.024537565186620,0.059749513864517,-0.163566455245018,-0.179018244147301,-0.204990059137344,0.235710516571999,0.028218152001500,0.102780513465405,0.205398380756378,-0.015087617561221,0.009978258982301,-0.068559966981411,0.076146580278873));
res += mul(Get(s3,0,0), float4x4(-0.116842359304428,0.007746638730168,-0.038791995495558,0.125250101089478,0.079787209630013,-0.038080405443907,-0.066202990710735,-0.090225398540497,-0.070007622241974,0.053847756236792,0.071377471089363,0.060742847621441,-0.192724823951721,0.123575091362000,-0.058743815869093,0.219895705580711));
res += mul(Get(s3,0,dy), float4x4(-0.206540584564209,0.053229667246342,-0.065470851957798,0.277947962284088,0.226380601525307,-0.034029409289360,-0.010949249379337,0.015999417752028,-0.114398531615734,0.157719835639000,0.145937576889992,0.049816288053989,-0.123143754899502,-0.092266708612442,-0.182268321514130,-0.050532970577478));
res += mul(Get(s3,dx,-dy), float4x4(-0.189800485968590,0.107450254261494,0.287983149290085,-0.326514363288879,0.015323936939240,-0.101086989045143,0.013803324662149,-0.233500137925148,-0.059533175081015,-0.069460079073906,0.090879216790199,-0.067838445305824,-0.119156509637833,-0.151250705122948,0.047985628247261,-0.227533340454102));
res += mul(Get(s3,dx,0), float4x4(-0.023850670084357,0.016044475138187,0.018953887745738,-0.188041985034943,0.167319625616074,0.081456162035465,-0.114560343325138,-0.192466393113136,0.108027391135693,-0.054823044687510,-0.007194736972451,-0.143193021416664,-0.103100851178169,0.075971491634846,0.014132271520793,0.176913514733315));
res += mul(Get(s3,dx,dy), float4x4(-0.055538427084684,-0.052448526024818,-0.171157926321030,-0.009507427923381,-0.234674766659737,0.145405322313309,0.074897743761539,0.111973315477371,0.148440703749657,-0.070030733942986,0.030952395871282,-0.075937263667583,0.142295315861702,-0.051204591989517,-0.061691179871559,0.041766516864300));
return max(float4(0,0,0,0), res);
}
