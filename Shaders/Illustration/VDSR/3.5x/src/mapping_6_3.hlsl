sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.016241606324911,-0.038507703691721,-0.156491503119469,-0.141298145055771,0.006663907784969,0.028207452967763,-0.130465105175972,-0.097120635211468,-0.004438826348633,-0.097136303782463,-0.070887453854084,0.028801126405597,-0.109977275133133,-0.174654677510262,0.075296044349670,0.065825618803501));
res += mul(Get(s0,-dx,0), float4x4(0.019059577956796,-0.069893978536129,-0.037348058074713,-0.113036476075649,-0.020095393061638,0.070832133293152,-0.146937176585197,0.034992694854736,-0.147204622626305,-0.048137925565243,-0.120993763208389,0.046916149556637,-0.100716978311539,-0.095548644661903,-0.067785404622555,-0.128907829523087));
res += mul(Get(s0,-dx,dy), float4x4(0.018207864835858,0.009394085034728,-0.053974132984877,-0.058689877390862,0.062797680497169,0.034893829375505,-0.008267901837826,0.074393898248672,-0.258539974689484,0.192338183522224,-0.027770802378654,-0.113737158477306,-0.045532286167145,-0.041239377111197,-0.011474337428808,-0.282147943973541));
res += mul(Get(s0,0,-dy), float4x4(0.009834933094680,-0.124041333794594,-0.089902535080910,-0.180535405874252,-0.056818816810846,0.058003213256598,0.110648900270462,-0.130061864852905,0.015472301281989,-0.123421117663383,-0.055136680603027,0.114894896745682,0.043681595474482,-0.110566303133965,-0.145746469497681,-0.018406571820378));
res += mul(Get(s0,0,0), float4x4(-0.017195122316480,-0.080965675413609,-0.123750202357769,-0.121801242232323,-0.001350695267320,-0.078622631728649,-0.095002509653568,0.012833341024816,-0.039600171148777,-0.063898839056492,-0.033567875623703,-0.155811131000519,0.052146136760712,-0.060368064790964,0.070607580244541,0.012853581458330));
res += mul(Get(s0,0,dy), float4x4(-0.002743669087067,-0.029086040332913,-0.068022653460503,-0.102734655141830,-0.075369961559772,-0.153185471892357,0.206682324409485,0.097374454140663,-0.206375449895859,0.011340934783220,-0.108228169381618,0.165315628051758,0.126027181744576,-0.173559308052063,0.037683580070734,0.296398878097534));
res += mul(Get(s0,dx,-dy), float4x4(-0.073596656322479,0.008753003552556,-0.345899105072021,-0.173972353339195,0.055225271731615,0.066464111208916,0.010004965588450,-0.072270274162292,0.282648950815201,-0.091860011219978,-0.074803829193115,-0.038638748228550,0.100173912942410,-0.122734040021896,-0.031238492578268,-0.290496498346329));
res += mul(Get(s0,dx,0), float4x4(-0.041368227452040,-0.040672156959772,-0.180422589182854,-0.105776816606522,0.041829425841570,-0.095757998526096,-0.165277466177940,-0.083610966801643,0.083632484078407,-0.041708599776030,-0.013019713573158,0.037339776754379,-0.022880213335156,-0.130325332283974,-0.002603967441246,-0.238403484225273));
res += mul(Get(s0,dx,dy), float4x4(-0.040397506207228,-0.137764543294907,-0.239200010895729,-0.081899173557758,-0.039315871894360,0.016451362520456,-0.035183727741241,0.083166137337685,-0.250323951244354,-0.057079568505287,-0.007955745793879,0.235925719141960,0.160230502486229,-0.066784866154194,-0.135245129466057,0.012605786323547));
res += mul(Get(s1,-dx,-dy), float4x4(-0.067341633141041,-0.270268648862839,-0.113491408526897,0.163338467478752,-0.208508118987083,0.029851987957954,0.059129945933819,0.051940839737654,-0.236954152584076,0.061298053711653,-0.109616219997406,0.026119766756892,-0.153993561863899,0.177406787872314,0.314681589603424,-0.052111640572548));
res += mul(Get(s1,-dx,0), float4x4(-0.072680406272411,0.171217501163483,-0.001300543081015,0.111400566995144,0.148929044604301,0.113540589809418,-0.076994083821774,0.061166457831860,-0.168787583708763,0.001087413285859,0.008633368648589,-0.022922091186047,-0.075566925108433,0.345134377479553,0.394942730665207,-0.134377151727676));
res += mul(Get(s1,-dx,dy), float4x4(-0.124475114047527,0.100387729704380,-0.018171528354287,-0.157717257738113,0.037877444177866,0.189494758844376,-0.027436673641205,-0.158912852406502,-0.230360552668571,0.197237193584442,-0.139036774635315,-0.076202400028706,0.019624231383204,-0.013870029710233,-0.093466147780418,0.067174144089222));
res += mul(Get(s1,0,-dy), float4x4(0.105945341289043,-0.118042558431625,-0.008588596247137,0.136147141456604,0.120727829635143,0.093754567205906,0.096853137016296,0.002608691575006,-0.088156618177891,-0.055560901761055,-0.159566700458527,0.104339100420475,-0.072201572358608,0.125787928700447,0.091194011271000,0.082860097289085));
res += mul(Get(s1,0,0), float4x4(-0.056166023015976,0.056199386715889,-0.064110986888409,-0.023229841142893,0.022867858409882,0.063776426017284,-0.127575621008873,0.068900667130947,0.075023241341114,-0.197677850723267,-0.126209154725075,0.363548487424850,0.044845014810562,-0.094420902431011,0.131159022450447,-0.026446288451552));
res += mul(Get(s1,0,dy), float4x4(-0.024169761687517,-0.055478777736425,-0.173833563923836,-0.040069993585348,-0.062445200979710,-0.071521796286106,0.234684377908707,-0.055987194180489,-0.011115082539618,-0.018317423760891,-0.093756787478924,0.112526923418045,0.092055492103100,0.109287202358246,-0.165493279695511,0.323933660984039));
res += mul(Get(s1,dx,-dy), float4x4(0.256938457489014,-0.075169429183006,0.010796943679452,0.351601004600525,0.050677441060543,-0.067558884620667,0.218446224927902,0.217438504099846,0.052020959556103,-0.116070918738842,0.026064185425639,-0.180456638336182,0.074683405458927,-0.121544860303402,-0.106930226087570,0.237764433026314));
res += mul(Get(s1,dx,0), float4x4(-0.035783100873232,0.105775557458401,-0.064676143229008,0.322778970003128,0.057214092463255,-0.100687496364117,0.064621135592461,0.194454833865166,0.116307154297829,-0.170855134725571,-0.050655163824558,-0.106710322201252,0.138428539037704,-0.051625914871693,-0.019095700234175,0.130614787340164));
res += mul(Get(s1,dx,dy), float4x4(-0.143973231315613,0.022607132792473,-0.134096562862396,-0.293093591928482,0.068335533142090,-0.044454678893089,0.133190214633942,0.088868200778961,0.099472835659981,0.036434590816498,-0.116951555013657,-0.049983706325293,0.025110403075814,0.191058531403542,-0.161708638072014,0.262742221355438));
res += mul(Get(s2,-dx,-dy), float4x4(-0.002423307392746,-0.085237115621567,0.424750834703445,-0.159593746066093,-0.040678221732378,-0.042700204998255,0.311781644821167,-0.084550097584724,0.186930015683174,0.060974258929491,0.193896293640137,-0.058389682322741,0.098878875374794,-0.067790754139423,0.163503453135490,-0.239763393998146));
res += mul(Get(s2,-dx,0), float4x4(-0.105060443282127,-0.325676769018173,0.039680410176516,-0.013258256949484,-0.200409516692162,0.082765422761440,0.008926173672080,-0.079095259308815,0.208308681845665,-0.055541094392538,0.182564809918404,-0.045302994549274,0.076243504881859,-0.112541057169437,0.070799522101879,-0.096748761832714));
res += mul(Get(s2,-dx,dy), float4x4(0.096628822386265,-0.080446325242519,0.063739977777004,-0.137181609869003,-0.377860248088837,-0.126330405473709,-0.236710026860237,-0.029285434633493,0.261224210262299,-0.044605683535337,0.076022200286388,-0.040175452828407,0.163403734564781,-0.207687035202980,-0.195523113012314,0.113559126853943));
res += mul(Get(s2,0,-dy), float4x4(-0.034912664443254,-0.021654902026057,0.119902633130550,0.274543941020966,-0.098921693861485,0.120466344058514,0.282014906406403,-0.047302309423685,0.092161670327187,0.167703241109848,0.109773546457291,-0.080353513360023,0.149833247065544,-0.114705935120583,0.012161406688392,-0.282851934432983));
res += mul(Get(s2,0,0), float4x4(-0.063207708299160,-0.017179744318128,-0.035241726785898,0.076077796518803,-0.137698546051979,0.026229133829474,0.138397872447968,-0.092665277421474,0.206617891788483,0.025563931092620,0.102974079549313,-0.001725174603052,0.056416198611259,-0.077103532850742,-0.071623049676418,-0.106720924377441));
res += mul(Get(s2,0,dy), float4x4(-0.024003718048334,0.173238605260849,-0.018890051171184,-0.284814119338989,-0.160617530345917,-0.069601267576218,-0.072516784071922,-0.074933961033821,0.182790175080299,-0.073620244860649,0.102718487381935,0.026460871100426,0.228926643729210,-0.062115490436554,-0.046024095267057,0.055834617465734));
res += mul(Get(s2,dx,-dy), float4x4(-0.129140466451645,-0.098147884011269,-0.020630156621337,0.226293951272964,-0.181806951761246,0.045334435999393,-0.168936863541603,-0.002389621920884,0.117376536130905,0.157253563404083,0.000496728403959,-0.072626069188118,-0.049187809228897,-0.122066929936409,0.022029103711247,-0.153209164738655));
res += mul(Get(s2,dx,0), float4x4(-0.068310715258121,0.009298156946898,-0.047293979674578,0.177289620041847,-0.078258812427521,0.158037066459656,-0.099517360329628,-0.108265846967697,0.068309426307678,0.004321118351072,0.169646158814430,-0.032292559742928,-0.013684637844563,-0.101641520857811,-0.133143484592438,-0.049470148980618));
res += mul(Get(s2,dx,dy), float4x4(0.076509408652782,0.209828138351440,0.128873303532600,0.078674674034119,-0.095896311104298,0.225293770432472,-0.481724828481674,-0.104985184967518,0.002454987261444,0.071822084486485,0.314942091703415,-0.009908119216561,0.023694068193436,-0.219832688570023,0.001064539654180,-0.090205922722816));
res += mul(Get(s3,-dx,-dy), float4x4(-0.147369578480721,-0.045484524220228,0.012447005137801,0.015158989466727,-0.118341177701950,-0.090418122708797,-0.175001606345177,0.117016337811947,-0.213139951229095,-0.105475604534149,0.222785115242004,-0.135329961776733,0.728580296039581,-0.311583817005157,-0.062957666814327,0.065598480403423));
res += mul(Get(s3,-dx,0), float4x4(-0.189153403043747,-0.062298458069563,0.156647115945816,-0.012441173195839,-0.131814748048782,-0.181495919823647,-0.145385682582855,0.119899839162827,0.081639043986797,-0.077959924936295,0.082161381840706,0.109361536800861,0.003420001128688,0.177242830395699,-0.037136144936085,-0.112289398908615));
res += mul(Get(s3,-dx,dy), float4x4(-0.246075823903084,0.033360619097948,-0.001232001464814,-0.128684297204018,-0.009981649927795,0.190885499119759,-0.074924066662788,0.217313289642334,0.003247512970120,0.123939871788025,0.117060862481594,-0.229673668742180,0.000268812174909,0.345244675874710,-0.122612603008747,0.019494090229273));
res += mul(Get(s3,0,-dy), float4x4(-0.049996584653854,0.145117133855820,0.175897091627121,0.002144620986655,0.073512017726898,-0.099374718964100,0.028572240844369,-0.113184437155724,-0.093401350080967,-0.062595523893833,0.089101947844028,0.284164577722549,-0.025396861135960,-0.298737227916718,-0.121821798384190,0.145231112837791));
res += mul(Get(s3,0,0), float4x4(-0.117567732930183,0.021656138822436,0.198428094387054,0.008215889334679,-0.081331893801689,-0.147753477096558,-0.094960011541843,-0.047405339777470,-0.007709573954344,-0.143206313252449,0.131507664918900,0.197617784142494,-0.060092043131590,0.025883398950100,-0.146533519029617,-0.147218674421310));
res += mul(Get(s3,0,dy), float4x4(-0.099519349634647,-0.078705899417400,0.085195548832417,-0.025670953094959,-0.052837122231722,0.158543109893799,-0.122600279748440,-0.027735330164433,-0.042172413319349,-0.077363796532154,-0.047137998044491,-0.015649879351258,-0.016280781477690,0.167833328247070,-0.182985946536064,-0.011156232096255));
res += mul(Get(s3,dx,-dy), float4x4(-0.008706510066986,0.099677354097366,0.001613079104573,-0.153817221522331,-0.030857708305120,-0.132299005985260,0.010440900921822,-0.033079970628023,0.132371366024017,-0.127138912677765,0.099849730730057,-0.111950151622295,0.070304758846760,-0.135963171720505,-0.011959710158408,0.234533742070198));
res += mul(Get(s3,dx,0), float4x4(0.003686909331009,-0.147265911102295,0.124948516488075,-0.080122604966164,0.084988124668598,-0.194384098052979,-0.180898964405060,0.132808849215508,-0.028485869988799,-0.152062609791756,-0.078295648097992,-0.012447661720216,0.088553987443447,0.215472862124443,-0.052337899804115,-0.027797978371382));
res += mul(Get(s3,dx,dy), float4x4(-0.025788577273488,0.002839716384187,0.065670430660248,-0.022167976945639,-0.009549678303301,0.032460633665323,-0.069342538714409,-0.110589906573296,0.031798899173737,-0.053880240768194,-0.162405207753181,-0.091272242367268,0.249208927154541,-0.119919419288635,0.168371155858040,0.058890022337437));
return max(float4(0,0,0,0), res);
}
