sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.048454146832228,-0.102406784892082,-0.124226137995720,0.005665716249496,0.052054576575756,0.147758916020393,0.035905167460442,0.045668344944715,0.096500813961029,0.085282661020756,0.256499379873276,-0.000471518404083,-0.206981703639030,-0.119962498545647,-0.163740232586861,0.117886252701283));
res += mul(Get(s0,-dx,0), float4x4(-0.040569536387920,-0.090747922658920,-0.278463006019592,0.096346162259579,0.030889131128788,0.233948811888695,-0.028410822153091,-0.063647754490376,-0.123893536627293,-0.048371728509665,0.060911227017641,-0.159727513790131,-0.028972111642361,-0.116669461131096,-0.074359893798828,0.026746787130833));
res += mul(Get(s0,-dx,dy), float4x4(0.453432202339172,-0.199257880449295,-0.129119470715523,-0.115929193794727,-0.142273128032684,0.050514806061983,0.154216930270195,0.099235564470291,0.358994841575623,-0.047068972140551,0.121803700923920,-0.108045324683189,-0.082600697875023,-0.029374185949564,-0.127238735556602,-0.164782434701920));
res += mul(Get(s0,0,-dy), float4x4(0.030330292880535,-0.107871428132057,0.090190678834915,-0.065729781985283,-0.028269326314330,0.116420194506645,-0.126038864254951,0.124621421098709,-0.016160374507308,-0.048702478408813,-0.103949822485447,-0.041596774011850,-0.001498081604950,-0.004425436258316,-0.192815110087395,-0.035411622375250));
res += mul(Get(s0,0,0), float4x4(-0.126776233315468,-0.087596602737904,-0.055798284709454,-0.157878890633583,0.099052302539349,-0.067047156393528,-0.026001915335655,0.231305673718452,-0.073171406984329,-0.053249154239893,-0.008809469640255,-0.011821609921753,-0.077125810086727,-0.009616881608963,0.068781077861786,0.063669130206108));
res += mul(Get(s0,0,dy), float4x4(-0.004326676484197,-0.264809310436249,0.047327730804682,-0.138227328658104,0.025068676099181,0.004460230935365,0.039722628891468,-0.027199318632483,0.116391576826572,0.090799964964390,-0.040824562311172,0.000236280218814,0.204450026154518,-0.042368892580271,-0.003700963454321,-0.102203883230686));
res += mul(Get(s0,dx,-dy), float4x4(0.100179791450500,-0.094201616942883,-0.071936041116714,-0.088655553758144,-0.085081428289413,0.088941819965839,-0.149974316358566,-0.122712619602680,-0.171863675117493,-0.163607597351074,0.136873751878738,-0.029132440686226,-0.038541235029697,-0.087958887219429,-0.090005531907082,-0.124172396957874));
res += mul(Get(s0,dx,0), float4x4(-0.142690747976303,-0.029835607856512,-0.139663890004158,-0.146661877632141,0.069942668080330,-0.010999067686498,-0.147035315632820,0.277404904365540,-0.040467292070389,0.038651611655951,0.002618180122226,-0.082330822944641,-0.117987781763077,0.124727718532085,0.062925674021244,-0.076367005705833));
res += mul(Get(s0,dx,dy), float4x4(-0.017223041504622,-0.281992584466934,0.089933425188065,-0.189234256744385,-0.002842282876372,0.147046729922295,0.080450154840946,0.054753679782152,0.165094509720802,-0.159520015120506,-0.008115359582007,0.027909381315112,-0.016755200922489,0.090266779065132,0.418721884489059,-0.154142260551453));
res += mul(Get(s1,-dx,-dy), float4x4(-0.055712748318911,0.227293580770493,-0.093276120722294,-0.152723431587219,-0.084306403994560,-0.210304170846939,0.117670148611069,0.043941151350737,0.100767746567726,-0.190591588616371,-0.130172178149223,0.009393206797540,-0.008573724888265,-0.114557430148125,-0.144324496388435,0.016160715371370));
res += mul(Get(s1,-dx,0), float4x4(-0.020496582612395,-0.042712610214949,-0.114399462938309,0.095521330833435,-0.032715488225222,-0.002965701743960,-0.027924494817853,-0.047026585787535,0.188504174351692,0.174264416098595,-0.122400090098381,0.002547496929765,-0.053048942238092,-0.087729915976524,0.071209125220776,0.013622009195387));
res += mul(Get(s1,-dx,dy), float4x4(-0.106332786381245,0.026427518576384,-0.195071592926979,-0.154659420251846,-0.110552988946438,-0.125200435519218,-0.204807162284851,0.108558349311352,0.413899481296539,-0.108962655067444,0.046393234282732,-0.016873631626368,-0.173286885023117,0.003397846128792,-0.038651991635561,-0.005490953102708));
res += mul(Get(s1,0,-dy), float4x4(-0.112538859248161,-0.035194896161556,0.072110831737518,0.007480472791940,0.024841925129294,-0.171310693025589,0.051851522177458,0.190984234213829,0.031103815883398,-0.084384851157665,-0.073332540690899,-0.018559589982033,0.219638988375664,0.006147186271846,-0.306531280279160,0.111756108701229));
res += mul(Get(s1,0,0), float4x4(-0.065236307680607,-0.129853352904320,0.279785633087158,0.099874287843704,-0.042982611805201,0.012398589402437,0.024224290624261,0.129717245697975,-0.099512539803982,0.176965802907944,-0.076333411037922,-0.062969006597996,0.121958680450916,0.029797097668052,0.253595054149628,-0.063908502459526));
res += mul(Get(s1,0,dy), float4x4(0.063647776842117,-0.110323868691921,0.107933007180691,0.057550426572561,0.049515061080456,-0.091185860335827,0.069945909082890,0.264138668775558,0.005986243486404,0.039267528802156,0.018508065491915,0.084932610392570,-0.007411060389131,-0.054050613194704,0.288739949464798,-0.065975941717625));
res += mul(Get(s1,dx,-dy), float4x4(-0.255223423242569,-0.009230057708919,-0.197850048542023,0.495329141616821,0.050073407590389,-0.114465482532978,0.205985903739929,0.240240067243576,-0.048199310898781,-0.186194196343422,-0.009143448434770,-0.106121212244034,0.193066745996475,0.210528001189232,-0.290539711713791,-0.116112582385540));
res += mul(Get(s1,dx,0), float4x4(-0.171151533722878,0.035238262265921,0.118094980716705,-0.088167175650597,0.034557979553938,-0.040562305599451,0.176097616553307,0.062312573194504,0.004032005555928,0.293961226940155,-0.047059495002031,-0.107685580849648,-0.157199457287788,0.274597138166428,-0.119120098650455,-0.012090021744370));
res += mul(Get(s1,dx,dy), float4x4(0.039087742567062,0.251110702753067,-0.155340924859047,-0.049551069736481,-0.041115619242191,-0.095856934785843,0.075318463146687,0.208982393145561,0.192260310053825,-0.006788671482354,-0.100510977208614,0.096008107066154,-0.142386645078659,0.453868240118027,0.177197203040123,0.000967419764493));
res += mul(Get(s2,-dx,-dy), float4x4(0.218608915805817,-0.127929240465164,-0.255211621522903,-0.048279274255037,-0.050709184259176,0.033824693411589,0.010205735452473,0.224246367812157,-0.092190064489841,-0.039095949381590,-0.015708334743977,-0.048407487571239,-0.033488903194666,0.325224429368973,0.048647038638592,0.010594024322927));
res += mul(Get(s2,-dx,0), float4x4(0.333635002374649,-0.106083609163761,-0.186985254287720,-0.146003887057304,0.000045773485908,0.227647602558136,-0.168796971440315,0.007008790969849,-0.200959816575050,0.022818276658654,0.204347923398018,0.056364912539721,-0.076191090047359,-0.117639750242233,0.002017234452069,-0.060229323804379));
res += mul(Get(s2,-dx,dy), float4x4(0.248942360281944,-0.269118338823318,0.078683286905289,-0.125977262854576,0.084898233413696,-0.233487382531166,-0.151927128434181,-0.133482143282890,-0.209794655442238,-0.098088733851910,0.138424172997475,-0.062280815094709,-0.116943642497063,-0.096927307546139,-0.112306378781796,0.005425823852420));
res += mul(Get(s2,0,-dy), float4x4(-0.020108535885811,-0.042111765593290,-0.151868790388107,-0.306916087865829,-0.147070661187172,-0.150193318724632,0.091383993625641,-0.017383977770805,0.048074547201395,0.034177072346210,-0.117848098278046,0.031333614140749,0.057623047381639,0.259328961372375,-0.159334719181061,-0.035448059439659));
res += mul(Get(s2,0,0), float4x4(0.026849908754230,-0.117505647242069,0.041819088160992,-0.087325818836689,-0.184330165386200,0.054561559110880,-0.045765496790409,-0.174998730421066,0.198995396494865,0.185427501797676,-0.109719350934029,-0.048668511211872,0.116903759539127,0.156919315457344,0.413788825273514,-0.107705980539322));
res += mul(Get(s2,0,dy), float4x4(0.113988295197487,-0.227272018790245,0.041900821030140,0.055581115186214,0.026134591549635,-0.148919716477394,0.009955771267414,-0.163798689842224,0.058135807514191,0.168226599693298,0.104724749922752,-0.025976568460464,-0.032006930559874,0.206481531262398,0.046151373535395,0.105818785727024));
res += mul(Get(s2,dx,-dy), float4x4(-0.254559308290482,-0.017511250451207,-0.048907667398453,-0.129511296749115,-0.192539379000664,-0.209954231977463,0.187495574355125,0.130844071507454,-0.014636802487075,-0.131982654333115,0.075180023908615,-0.014043395407498,0.038984645158052,-0.015217447653413,-0.170644059777260,-0.230891421437263));
res += mul(Get(s2,dx,0), float4x4(-0.229742392897606,-0.003889491083100,0.185953840613365,-0.022932574152946,-0.084260053932667,-0.000623018364422,-0.020141232758760,-0.021298220381141,0.028598999604583,0.223211973905563,-0.065152756869793,0.025231122970581,-0.141717687249184,0.111638568341732,0.245703786611557,-0.104431517422199));
res += mul(Get(s2,dx,dy), float4x4(-0.167579516768456,-0.186249822378159,0.043838948011398,-0.017997050657868,0.031468480825424,-0.315911740064621,-0.116431139409542,0.096730090677738,-0.033875863999128,0.031748179346323,0.393540441989899,0.125982388854027,0.030634103342891,-0.198094159364700,0.066070854663849,0.174438089132309));
res += mul(Get(s3,-dx,-dy), float4x4(0.073185846209526,0.022893145680428,0.051667332649231,-0.249796539545059,0.142781391739845,-0.207844287157059,-0.139317676424980,0.048121985048056,-0.235245048999786,-0.100640892982483,0.249914526939392,-0.039261221885681,0.129166349768639,-0.030149294063449,-0.133997485041618,-0.158413216471672));
res += mul(Get(s3,-dx,0), float4x4(-0.076436981558800,-0.183241978287697,-0.039737883955240,0.024429272860289,0.343158781528473,-0.234215170145035,-0.133810222148895,-0.007821520790458,-0.145043984055519,-0.076212570071220,0.146779477596283,-0.044956237077713,0.085476160049438,-0.067635767161846,-0.110955379903316,0.070925563573837));
res += mul(Get(s3,-dx,dy), float4x4(-0.270050883293152,-0.095069311559200,0.029670022428036,0.057232148945332,0.072234839200974,-0.023066297173500,-0.147978276014328,-0.008971080183983,0.023787934333086,-0.072306431829929,0.246231049299240,-0.124265111982822,0.330997765064240,-0.064755171537399,-0.146253809332848,0.102266617119312));
res += mul(Get(s3,0,-dy), float4x4(-0.083685807883739,-0.013841071166098,0.124052464962006,0.018988396972418,-0.132936611771584,-0.132975280284882,-0.179469704627991,0.175077795982361,-0.139389723539352,-0.100707218050957,-0.111937083303928,0.070599593222141,-0.316986620426178,-0.175922989845276,-0.009741373360157,0.617442488670349));
res += mul(Get(s3,0,0), float4x4(-0.018589569255710,-0.037089280784130,-0.182354509830475,0.029435856267810,-0.004827825818211,-0.047268886119127,-0.101878553628922,-0.019764887169003,-0.004852679092437,-0.040235482156277,-0.121926985681057,-0.024334609508514,0.026044268161058,-0.063264846801758,-0.164202868938446,-0.007765754126012));
res += mul(Get(s3,0,dy), float4x4(0.085980951786041,-0.038388658314943,0.064321145415306,-0.135147199034691,-0.213999271392822,-0.101060867309570,-0.129204854369164,-0.107051797211170,-0.118167579174042,-0.058635737746954,0.108780093491077,-0.098447278141975,0.121197476983070,-0.007830732502043,-0.209761291742325,0.085951894521713));
res += mul(Get(s3,dx,-dy), float4x4(-0.162931680679321,-0.115808427333832,0.038762748241425,-0.026197455823421,-0.103662885725498,-0.147757828235626,0.047831069678068,0.214267075061798,-0.119788020849228,-0.164436563849449,-0.241804242134094,-0.111866839230061,0.082977488636971,-0.165819257497787,-0.050464864820242,0.515489101409912));
res += mul(Get(s3,dx,0), float4x4(-0.114194624125957,-0.000433444773080,0.162653788924217,-0.042029932141304,0.075152717530727,-0.063303627073765,0.139815747737885,0.133797705173492,-0.098311267793179,-0.095764659345150,-0.244550123810768,-0.129823938012123,0.142020553350449,-0.103236146271229,-0.055641449987888,-0.099049217998981));
res += mul(Get(s3,dx,dy), float4x4(-0.093861073255539,-0.042816616594791,0.278863936662674,-0.011202358640730,-0.043706376105547,-0.065804913640022,0.033599037677050,-0.161170378327370,0.062576614320278,-0.160515621304512,0.034108754247427,-0.095452763140202,-0.108745671808720,0.021558972075582,0.075058639049530,0.056478586047888));
return max(float4(0,0,0,0), res);
}
