sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.116690143942833,0.168514758348465,-0.113420709967613,0.108955375850201,-0.000013223479982,0.180372908711433,-0.122980676591396,0.059294462203979,-0.035966467112303,-0.098600745201111,-0.236749112606049,-0.093150667846203,0.026016077026725,0.050772115588188,0.092388495802879,-0.144405633211136));
res += mul(Get(s0,-dx,0), float4x4(-0.021220898255706,0.011732348240912,-0.177307203412056,0.149886608123779,0.015464712865651,0.057414431124926,0.091906227171421,0.100340738892555,0.034522525966167,-0.038977432996035,0.001389187527820,0.149070560932159,-0.082162596285343,0.047610398381948,0.047654192894697,0.232235386967659));
res += mul(Get(s0,-dx,dy), float4x4(-0.043982762843370,-0.120349198579788,-0.143390238285065,0.120931483805180,-0.058726448565722,0.117729663848877,-0.000378829281544,-0.139724582433701,0.063484534621239,-0.009916181676090,-0.020925888791680,0.376680642366409,-0.086225211620331,-0.079117909073830,0.079650484025478,-0.041866045445204));
res += mul(Get(s0,0,-dy), float4x4(-0.159486278891563,0.203449875116348,-0.040022913366556,-0.025260072201490,0.123436555266380,0.068914145231247,-0.070780552923679,-0.147132232785225,-0.096868269145489,-0.166238129138947,-0.218803197145462,0.088906154036522,0.018049446865916,-0.039930976927280,-0.058913905173540,0.186564341187477));
res += mul(Get(s0,0,0), float4x4(-0.031728018075228,-0.105236858129501,0.103044785559177,-0.178075179457664,-0.054842561483383,0.110758967697620,0.200169011950493,-0.103587627410889,0.126588150858879,-0.064413808286190,-0.009158843196929,0.042924482375383,0.007438753265887,0.085976533591747,-0.115649126470089,0.132091343402863));
res += mul(Get(s0,0,dy), float4x4(0.162501066923141,-0.154263481497765,0.013083692640066,0.137254804372787,-0.077402964234352,0.068953134119511,-0.171820253133774,0.022928796708584,-0.060362033545971,0.054375525563955,-0.082359813153744,0.045308712869883,-0.291478604078293,-0.108300931751728,-0.103115819394588,0.013980315998197));
res += mul(Get(s0,dx,-dy), float4x4(0.113172560930252,-0.056920934468508,-0.071615844964981,0.133878380060196,-0.033139079809189,-0.125327676534653,0.053121447563171,-0.092289358377457,0.043394200503826,0.122679598629475,0.108865633606911,-0.106317669153214,-0.144436821341515,0.004809966310859,0.015326356515288,0.160979524254799));
res += mul(Get(s0,dx,0), float4x4(-0.167943894863129,0.109488412737846,0.016970461234450,0.093184582889080,-0.283510088920593,-0.002445554826409,0.080239191651344,0.050582580268383,0.073538094758987,0.055267721414566,-0.044952001422644,-0.045636478811502,-0.028973493725061,-0.246500819921494,0.142163708806038,0.128492057323456));
res += mul(Get(s0,dx,dy), float4x4(-0.102637052536011,-0.037459433078766,0.038499563932419,-0.168565586209297,-0.030133817344904,-0.083357617259026,0.069161705672741,-0.140127390623093,0.144095495343208,-0.178784921765327,-0.054444119334221,0.114084355533123,-0.131703019142151,-0.069682784378529,0.040868833661079,-0.171102330088615));
res += mul(Get(s1,-dx,-dy), float4x4(0.185358747839928,-0.030310442671180,-0.020032905042171,0.032922722399235,0.011934783309698,-0.068119816482067,0.082116298377514,0.104376792907715,0.221076965332031,-0.214863568544388,0.161093801259995,0.162983477115631,-0.134060442447662,-0.078281261026859,0.038918454200029,-0.094912260770798));
res += mul(Get(s1,-dx,0), float4x4(0.074586294591427,0.058938898146152,-0.260831028223038,0.086516678333282,0.017219988629222,0.108389638364315,0.036707993596792,0.198896571993828,-0.093831934034824,0.040615517646074,-0.232962518930435,0.009809808805585,-0.112877756357193,0.007615390699357,0.103560246527195,0.192658931016922));
res += mul(Get(s1,-dx,dy), float4x4(-0.055404450744390,0.045402903109789,0.175440251827240,-0.070948667824268,-0.005290398374200,0.079101778566837,-0.192277848720551,0.120061814785004,0.013802817091346,-0.005721447058022,0.063369490206242,0.157338559627533,-0.043083786964417,0.097210392355919,0.163326129317284,-0.007211547344923));
res += mul(Get(s1,0,-dy), float4x4(-0.099784299731255,-0.053944233804941,-0.013814568519592,-0.071889698505402,0.018223837018013,0.149293273687363,-0.087942183017731,0.023539207875729,-0.112604618072510,0.124429732561111,0.188765838742256,0.124996386468410,0.125038325786591,-0.177441015839577,0.169667571783066,-0.015918411314487));
res += mul(Get(s1,0,0), float4x4(-0.145716935396194,0.103669829666615,0.073261745274067,-0.122285895049572,0.023632023483515,0.014965821988881,-0.147098705172539,0.286857217550278,0.004216872155666,0.129379987716675,0.003378306049854,0.251999139785767,0.031706567853689,0.171853840351105,-0.058805592358112,0.058980897068977));
res += mul(Get(s1,0,dy), float4x4(-0.022909099236131,0.089643433690071,-0.052622668445110,-0.307749807834625,-0.000043886964704,0.047177460044622,0.193189635872841,-0.011804275214672,0.093610279262066,0.136254832148552,-0.215842708945274,-0.207575350999832,-0.121416643261909,0.276300728321075,-0.078757569193840,-0.011795004829764));
res += mul(Get(s1,dx,-dy), float4x4(0.068193554878235,0.118141382932663,-0.188145622611046,-0.022790556773543,-0.257208913564682,-0.004862094298005,0.061080124229193,-0.083322614431381,-0.052335958927870,0.017790142446756,-0.102613501250744,0.126434132456779,0.102842569351196,0.068776704370975,-0.016314456239343,0.073209829628468));
res += mul(Get(s1,dx,0), float4x4(-0.034479182213545,0.131481602787971,-0.042442783713341,-0.055765312165022,-0.012313542887568,0.014797221869230,-0.150291025638580,0.053901221603155,-0.079398281872272,0.063665434718132,0.137053996324539,0.104675538837910,-0.045330926775932,0.147711664438248,-0.119657129049301,-0.031342413276434));
res += mul(Get(s1,dx,dy), float4x4(0.085636429488659,0.070058129727840,-0.088497817516327,-0.105429373681545,0.122747041285038,0.053036119788885,-0.077299572527409,0.072605811059475,0.208398029208183,0.027654638513923,0.218926012516022,0.079942457377911,-0.093703739345074,0.130429968237877,0.037852816283703,0.104787386953831));
res += mul(Get(s2,-dx,-dy), float4x4(-0.123493313789368,0.060816366225481,-0.033476855605841,0.091295227408409,0.092824816703796,-0.013056810945272,0.069494590163231,-0.075976371765137,0.042376670986414,-0.035239502787590,0.106848530471325,0.070180669426918,0.005983672104776,0.065567150712013,0.072120949625969,-0.133128851652145));
res += mul(Get(s2,-dx,0), float4x4(0.110211409628391,-0.002321561798453,0.144793659448624,-0.274155825376511,0.022058524191380,0.038302309811115,-0.080967202782631,-0.035205405205488,0.053714849054813,-0.086513146758080,0.076570503413677,0.087779313325882,0.011956309899688,0.103952877223492,0.076265774667263,0.320170968770981));
res += mul(Get(s2,-dx,dy), float4x4(0.014289417304099,-0.021722711622715,0.007680318783969,0.265013664960861,-0.147506102919579,0.126063644886017,-0.120291024446487,-0.080696932971478,-0.042671408504248,-0.004928274080157,-0.106763236224651,0.060129940509796,0.025282032787800,-0.129736199975014,0.102323465049267,-0.072687417268753));
res += mul(Get(s2,0,-dy), float4x4(-0.147130668163300,0.068758808076382,-0.068594895303249,0.004998154938221,-0.242611467838287,0.120998427271843,-0.055741276592016,0.166132852435112,0.187925398349762,0.098875187337399,0.069777689874172,-0.011537875980139,-0.138066038489342,-0.046485912054777,-0.024168048053980,-0.209050253033638));
res += mul(Get(s2,0,0), float4x4(-0.160979911684990,-0.149236992001534,0.117460697889328,-0.166126772761345,0.006783211138099,-0.045463398098946,0.103514626622200,0.031870950013399,0.201817855238914,-0.103133887052536,-0.053653553128242,0.069375507533550,-0.084789529442787,0.034525379538536,0.173570021986961,-0.292353391647339));
res += mul(Get(s2,0,dy), float4x4(-0.160311922430992,-0.175871595740318,0.373024582862854,-0.004262802191079,0.023339862003922,0.088558070361614,-0.089440591633320,0.100655905902386,0.046764902770519,-0.122316598892212,-0.158547505736351,0.066433355212212,0.143949970602989,-0.018504770472646,-0.022297753021121,0.042025748640299));
res += mul(Get(s2,dx,-dy), float4x4(-0.079577825963497,-0.058124966919422,0.001578514813446,-0.108359992504120,-0.066470921039581,0.127331689000130,0.151317477226257,-0.065557286143303,0.086733162403107,-0.051815859973431,-0.047464981675148,0.088195510208607,0.006471825297922,0.059119451791048,0.295673668384552,-0.052441582083702));
res += mul(Get(s2,dx,0), float4x4(-0.147622868418694,0.116563074290752,0.168758198618889,0.089233361184597,0.037649445235729,-0.191907674074173,0.067434772849083,0.109544686973095,0.030170116573572,-0.187518268823624,0.087509386241436,0.013936135917902,-0.045319046825171,0.069903828203678,0.066992998123169,0.211070612072945));
res += mul(Get(s2,dx,dy), float4x4(0.176491156220436,-0.029756652191281,-0.034038532525301,0.007933611050248,-0.063754633069038,-0.018928928300738,-0.035193275660276,-0.097041688859463,-0.012812959961593,0.001033355598338,0.060516726225615,-0.218863040208817,-0.053652822971344,-0.047815296798944,-0.009500187821686,-0.012660671025515));
res += mul(Get(s3,-dx,-dy), float4x4(0.079100750386715,0.008296958170831,0.034986872226000,0.127558723092079,0.156465739011765,0.012854593805969,0.011414899490774,-0.000426304119173,-0.012838368304074,0.027942961081862,0.185276895761490,-0.074373178184032,-0.003749063238502,0.094140797853470,0.140418738126755,0.117125719785690));
res += mul(Get(s3,-dx,0), float4x4(-0.016973802819848,0.200934529304504,-0.059587933123112,0.143911406397820,-0.142258733510971,-0.193703889846802,0.046327695250511,-0.214855015277863,0.029469646513462,-0.093873240053654,-0.059408392757177,-0.043132979422808,0.159574776887894,-0.273311942815781,-0.258241385221481,0.074619650840759));
res += mul(Get(s3,-dx,dy), float4x4(0.037233419716358,0.185488075017929,-0.261745542287827,0.102333009243011,0.026468155905604,-0.016162393614650,0.215699791908264,-0.085927806794643,0.082399234175682,0.033297888934612,-0.110950283706188,0.158797010779381,0.148942217230797,-0.191407158970833,0.037050876766443,0.008920295163989));
res += mul(Get(s3,0,-dy), float4x4(-0.122207418084145,-0.011193648912013,-0.068837173283100,0.189463987946510,0.032044928520918,0.199009627103806,-0.005721241701394,0.019185658544302,0.082298621535301,0.291441679000854,-0.197579964995384,0.070670202374458,-0.167537212371826,-0.081656783819199,0.068041838705540,-0.124102719128132));
res += mul(Get(s3,0,0), float4x4(0.140877351164818,0.088755041360855,0.001033687265590,0.286156028509140,0.148473843932152,0.093231178820133,-0.050087410956621,0.128430828452110,0.010842577554286,-0.266507178544998,-0.016730539500713,0.051211301237345,-0.135770112276077,0.013276089914143,-0.113170146942139,-0.100780241191387));
res += mul(Get(s3,0,dy), float4x4(0.166026055812836,0.079945996403694,-0.007841832004488,-0.162221565842628,0.227412626147270,-0.096894390881062,-0.067259334027767,-0.063343942165375,0.008141156286001,-0.055475588887930,-0.023184891790152,-0.164623394608498,0.024194674566388,-0.214882597327232,0.152288883924484,0.260817617177963));
res += mul(Get(s3,dx,-dy), float4x4(-0.088023804128170,0.017284067347646,0.084267407655716,-0.014799326658249,0.026095295324922,0.220979630947113,-0.235586509108543,-0.080678574740887,0.061399113386869,0.299948185682297,0.014741537161171,-0.133894205093384,-0.018181268125772,-0.199170380830765,0.022080156952143,0.007099610287696));
res += mul(Get(s3,dx,0), float4x4(-0.203705474734306,0.213819712400436,-0.176275208592415,-0.069965630769730,-0.085456497967243,0.009451901540160,0.238529250025749,0.198565259575844,0.204167455434799,-0.064953044056892,-0.383706659078598,-0.083472602069378,-0.125176355242729,-0.044252850115299,0.228077173233032,-0.069062232971191));
res += mul(Get(s3,dx,dy), float4x4(0.055342033505440,-0.041877314448357,0.002831811783835,-0.163414940237999,0.013833499513566,-0.121046081185341,0.067221187055111,0.033889241516590,0.035505689680576,-0.221206322312355,-0.064322382211685,-0.245335176587105,0.125156581401825,0.101029805839062,-0.052778534591198,-0.194183692336082));
return max(float4(0,0,0,0), res);
}
