sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.000949861539993,0.233777567744255,-0.030819479376078,-0.126655295491219,0.145144060254097,-0.086163662374020,-0.159013196825981,0.445779025554657,0.049970079213381,0.237239465117455,0.054210431873798,-0.019411763176322,-0.113460585474968,-0.014763844199479,0.235239684581757,-0.061577286571264));
res += mul(Get(s0,-dx,0), float4x4(-0.127825304865837,0.348012655973434,0.129366546869278,-0.012337326072156,0.018361033871770,0.086505815386772,-0.140892133116722,-0.043446645140648,-0.272634834051132,0.029633481055498,-0.062054201960564,-0.039121501147747,-0.240239694714546,0.090149387717247,-0.046551275998354,0.075979776680470));
res += mul(Get(s0,-dx,dy), float4x4(-0.051781017333269,-0.135269850492477,0.119541555643082,0.106741867959499,0.001785382628441,-0.007827498018742,-0.037793546915054,0.013921893201768,-0.109220393002033,-0.014621478505433,-0.099352046847343,0.048006553202868,-0.015656838193536,-0.047289732843637,-0.106254085898399,-0.042210765182972));
res += mul(Get(s0,0,-dy), float4x4(0.162276357412338,0.013533565215766,-0.156389892101288,-0.149397715926170,0.165886104106903,0.028063444420695,-0.084428764879704,0.228668078780174,-0.077972330152988,0.241489320993423,-0.012421731837094,0.015340035781264,0.054192684590816,0.044253848493099,0.226268097758293,-0.005936355795711));
res += mul(Get(s0,0,0), float4x4(0.026877669617534,0.070446200668812,0.189441084861755,0.022874943912029,-0.018599266186357,0.018751760944724,-0.012062173336744,-0.020990122109652,0.165317505598068,-0.074545711278915,-0.006125270389020,-0.028073145076632,-0.034720961004496,-0.145595595240593,-0.163727030158043,-0.023522887378931));
res += mul(Get(s0,0,dy), float4x4(-0.020118102431297,0.052568886429071,-0.010349242016673,0.078546464443207,0.027482703328133,0.045321680605412,-0.067323774099350,0.012743684463203,0.220172435045242,-0.093295395374298,-0.033458907157183,0.170771732926369,0.163830831646919,-0.158589318394661,-0.123335793614388,-0.092911608517170));
res += mul(Get(s0,dx,-dy), float4x4(0.137709796428680,-0.089060619473457,-0.117914766073227,-0.121941678225994,0.074552476406097,0.119679398834705,-0.022600913420320,0.032564412802458,0.164355307817459,-0.023563884198666,0.047985851764679,0.115114659070969,0.000550389755517,-0.055463932454586,0.305098742246628,-0.025452841073275));
res += mul(Get(s0,dx,0), float4x4(0.073904879391193,0.020260093733668,-0.113416247069836,0.035937204957008,-0.105289064347744,-0.063847817480564,-0.118169844150543,-0.079094439744949,0.004959083162248,0.029853526502848,0.169516563415527,-0.028872063383460,-0.011549772694707,-0.173938244581223,-0.058508288115263,-0.034367028623819));
res += mul(Get(s0,dx,dy), float4x4(0.031764935702085,0.060249365866184,-0.105931863188744,-0.023893911391497,-0.059253983199596,0.164554312825203,-0.160848453640938,-0.076111301779747,0.055701732635498,0.082090005278587,0.066551819443703,-0.032473582774401,0.387287765741348,-0.132819429039955,-0.034045320004225,0.003048786427826));
res += mul(Get(s1,-dx,-dy), float4x4(0.044693641364574,0.151803940534592,-0.022486891597509,-0.071438722312450,-0.076923467218876,0.219577684998512,-0.162251651287079,0.062127914279699,-0.117544978857040,0.115946516394615,0.159566193819046,-0.314835220575333,-0.101611241698265,0.261475890874863,0.129324078559875,-0.132257625460625));
res += mul(Get(s1,-dx,0), float4x4(0.231073662638664,-0.138338431715965,-0.055670611560345,-0.089197538793087,-0.061455398797989,0.038082495331764,0.119034327566624,-0.078379519283772,-0.194547176361084,0.001377531443723,0.056538693606853,0.066374301910400,-0.005464266985655,0.074317723512650,-0.055263783782721,-0.059516519308090));
res += mul(Get(s1,-dx,dy), float4x4(-0.053118608891964,0.169146254658699,-0.066714286804199,-0.091383263468742,0.095608085393906,0.244067817926407,-0.094475895166397,-0.037058115005493,-0.147697269916534,-0.095917768776417,-0.209104597568512,-0.260940968990326,-0.019889142364264,0.015781603753567,-0.180028691887856,-0.008848954923451));
res += mul(Get(s1,0,-dy), float4x4(0.022675652056932,0.114652723073959,0.089154683053493,0.053355433046818,-0.125169783830643,0.059883244335651,-0.275835931301117,-0.045171003788710,-0.085117585957050,-0.028458407148719,0.232983157038689,-0.063293777406216,-0.045892279595137,0.155247718095779,-0.148207098245621,-0.000098641641671));
res += mul(Get(s1,0,0), float4x4(0.164983019232750,0.124931991100311,0.054526641964912,-0.007993581704795,-0.068870246410370,0.033347092568874,-0.035495121032000,0.124918743968010,-0.076604232192039,-0.171212926506996,-0.080369994044304,0.286294639110565,-0.026722615584731,-0.280585110187531,0.122770406305790,0.217903688549995));
res += mul(Get(s1,0,dy), float4x4(-0.062414009124041,-0.048141811043024,0.023650841787457,-0.058583244681358,0.019531281664968,0.025809420272708,-0.085179567337036,0.042005516588688,-0.201931610703468,-0.224795207381248,-0.123436592519283,0.167429387569427,-0.134826302528381,-0.016598321497440,0.074555702507496,-0.058399207890034));
res += mul(Get(s1,dx,-dy), float4x4(-0.007842017337680,0.456604033708572,0.103318981826305,-0.050067257136106,-0.181281819939613,0.191587433218956,0.325731337070465,-0.093198724091053,-0.136827647686005,-0.177482649683952,0.060550678521395,-0.311675757169724,-0.091697178781033,0.023999387398362,-0.093614749610424,0.003729289863259));
res += mul(Get(s1,dx,0), float4x4(-0.069296948611736,0.259258747100830,-0.099791906774044,-0.007678829599172,-0.094823621213436,0.091683231294155,-0.326760888099670,-0.199798911809921,-0.015841506421566,-0.166124463081360,0.250090092420578,-0.243390649557114,-0.061315856873989,-0.134519055485725,0.038635015487671,0.194975405931473));
res += mul(Get(s1,dx,dy), float4x4(-0.094950959086418,0.242035657167435,-0.006933416239917,-0.145080909132957,-0.079423815011978,0.039705041795969,-0.247006222605705,-0.217055633664131,-0.038861550390720,0.058991719037294,-0.180470988154411,-0.152805060148239,-0.084044583141804,-0.005845373030752,0.110393278300762,-0.135694429278374));
res += mul(Get(s2,-dx,-dy), float4x4(0.149451553821564,0.093893744051456,0.054067775607109,-0.239636331796646,0.097181074321270,0.158935099840164,-0.030892359092832,-0.228563621640205,-0.113281458616257,0.276006609201431,0.170636147260666,-0.185480773448944,0.093478441238403,0.008811635896564,-0.027689384296536,-0.028755400329828));
res += mul(Get(s2,-dx,0), float4x4(-0.033688314259052,-0.078539088368416,0.078385449945927,0.062569484114647,-0.054554063826799,-0.104679398238659,0.012567657977343,-0.049415491521358,-0.088230751454830,0.343806713819504,0.220395937561989,0.114792980253696,0.201879546046257,0.005479753483087,-0.067764163017273,-0.110743895173073));
res += mul(Get(s2,-dx,dy), float4x4(-0.128608644008636,-0.279827237129211,0.016178367659450,-0.085417881608009,-0.113516315817833,0.062862642109394,-0.161070406436920,-0.032545927911997,0.234791249036789,0.270900875329971,0.026037508621812,0.073853589594364,0.248910367488861,-0.203151285648346,-0.084411211311817,0.164471089839935));
res += mul(Get(s2,0,-dy), float4x4(-0.069475546479225,-0.023293493315578,0.046183299273252,-0.258960336446762,0.276451885700226,0.149121508002281,-0.019967144355178,-0.087073363363743,-0.074541449546814,0.064289823174477,0.013035531155765,-0.156278297305107,0.121207155287266,-0.076257191598415,0.016970466822386,0.322546333074570));
res += mul(Get(s2,0,0), float4x4(-0.045621059834957,-0.082579515874386,0.214570090174675,0.215587019920349,0.019721770659089,-0.021045705303550,-0.040140345692635,-0.085965447127819,-0.070470981299877,-0.048577774316072,-0.013925601728261,0.013828706927598,0.083532474935055,-0.077298864722252,0.263434290885925,0.254769235849380));
res += mul(Get(s2,0,dy), float4x4(-0.087416745722294,-0.152068078517914,0.137320190668106,0.031095644459128,0.052372898906469,-0.047509387135506,-0.122241236269474,0.141132399439812,0.187446057796478,-0.138604313135147,-0.028423860669136,-0.114755332469940,-0.148034200072289,-0.114751204848289,-0.018972553312778,0.045414611697197));
res += mul(Get(s2,dx,-dy), float4x4(-0.228107377886772,-0.109564229846001,0.175348654389381,-0.076423220336437,-0.030669433996081,0.080666117370129,0.126654446125031,-0.025991631671786,-0.039268888533115,-0.057855103164911,0.099239103496075,0.137419641017914,0.142370492219925,-0.071526020765305,-0.036708615720272,0.014934414066374));
res += mul(Get(s2,dx,0), float4x4(-0.102030523121357,-0.084886871278286,0.026492536067963,0.263379216194153,-0.166900217533112,-0.066230468451977,0.192060410976410,-0.148342907428741,-0.134827092289925,-0.034421086311340,0.165934279561043,0.057996585965157,-0.022350113838911,-0.085524357855320,0.052025213837624,-0.290097028017044));
res += mul(Get(s2,dx,dy), float4x4(-0.023308448493481,-0.072062782943249,0.361803263425827,-0.133459851145744,-0.079999253153801,0.043816279619932,-0.086537666618824,0.176883399486542,0.290164709091187,-0.114772453904152,-0.016814831644297,0.100199550390244,-0.099666364490986,-0.151977837085724,-0.037300109863281,-0.144982025027275));
res += mul(Get(s3,-dx,-dy), float4x4(-0.174682572484016,0.162585929036140,0.091720215976238,-0.112487524747849,0.031729392707348,-0.048909131437540,-0.165558204054832,0.072974026203156,0.025001658126712,0.048247393220663,-0.161129042506218,-0.071475200355053,-0.113236732780933,0.077453158795834,0.129740670323372,0.076570764183998));
res += mul(Get(s3,-dx,0), float4x4(-0.075659938156605,0.049764391034842,0.073453098535538,0.188558593392372,-0.099031195044518,0.011378959752619,-0.023056648671627,0.548619508743286,-0.073421828448772,0.014086392708123,-0.103092387318611,0.131962686777115,-0.074583500623703,0.072766654193401,-0.198302045464516,0.049367256462574));
res += mul(Get(s3,-dx,dy), float4x4(0.107161805033684,-0.049451809376478,0.030227029696107,0.159962162375450,-0.101519033312798,-0.064199596643448,-0.082114681601524,-0.076994970440865,0.124219253659248,-0.056332502514124,-0.141918152570724,0.102809585630894,-0.036909680813551,0.000495349988341,-0.182214230298996,-0.216371595859528));
res += mul(Get(s3,0,-dy), float4x4(-0.086574316024780,0.018103230744600,0.174403786659241,-0.171740204095840,0.067403502762318,0.131889313459396,0.032160550355911,-0.265862047672272,-0.085399039089680,0.173820644617081,-0.040265679359436,-0.117771536111832,-0.095601491630077,0.164413586258888,0.014666162431240,-0.035622075200081));
res += mul(Get(s3,0,0), float4x4(-0.047369301319122,-0.053395614027977,0.083246372640133,0.164175912737846,0.022241266444325,-0.030240016058087,0.025129619985819,0.156012579798698,-0.118059001863003,-0.084253802895546,-0.001517928438261,-0.063818164169788,-0.025314196944237,0.203275561332703,-0.201415151357651,-0.012641308829188));
res += mul(Get(s3,0,dy), float4x4(0.048286274075508,-0.011753477156162,-0.004777475725859,0.267178386449814,0.066964454948902,-0.073780089616776,0.066523924469948,-0.013149565085769,0.187032282352448,-0.176906883716583,-0.007022358011454,0.069215171039104,0.049154393374920,0.107004001736641,-0.190294206142426,0.081776089966297));
res += mul(Get(s3,dx,-dy), float4x4(0.020360825583339,-0.007185126654804,0.153643652796745,-0.040954843163490,0.134089365601540,0.063796646893024,0.174758180975914,-0.208581715822220,-0.077734731137753,0.070459187030792,-0.079969987273216,0.057766884565353,-0.099719583988190,0.164435446262360,-0.048671279102564,-0.071593999862671));
res += mul(Get(s3,dx,0), float4x4(-0.083129927515984,-0.129805088043213,-0.018455920740962,0.128172755241394,0.084647431969643,0.089980736374855,0.083075210452080,0.225908964872360,0.049483072012663,-0.084272734820843,-0.062560848891735,0.088318668305874,-0.149609118700027,0.130981311202049,-0.270755201578140,-0.140718325972557));
res += mul(Get(s3,dx,dy), float4x4(0.158281728625298,-0.080819547176361,-0.091982536017895,0.057574972510338,0.210424378514290,-0.117239482700825,0.124998003244400,-0.013632868416607,0.354416519403458,-0.155658200383186,-0.034650724381208,0.015692727640271,0.042040545493364,-0.132633775472641,-0.193719640374184,-0.169234901666641));
return max(float4(0,0,0,0), res);
}
