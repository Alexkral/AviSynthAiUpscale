sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.045739389955997,0.284362584352493,-0.091354124248028,-0.131667912006378,0.038324285298586,0.121374212205410,-0.112760365009308,-0.051058039069176,0.041730023920536,0.326113373041153,-0.126122727990150,0.297711014747620,0.148173883557320,0.077313207089901,0.228844225406647,0.144986808300018));
res += mul(Get(s0,-dx,0), float4x4(0.142183482646942,0.219488203525543,-0.215807184576988,-0.115087971091270,0.068725414574146,0.018358584493399,-0.009681322611868,-0.051842365413904,0.164681866765022,-0.017809705808759,0.013174771331251,0.097091294825077,0.115937538444996,0.029563574120402,0.271243661642075,0.056919511407614));
res += mul(Get(s0,-dx,dy), float4x4(0.245288476347923,0.052408508956432,-0.181063488125801,-0.180350437760353,0.237188294529915,0.146834835410118,0.053046662360430,0.001496088574640,-0.123155102133751,0.202032849192619,-0.085589259862900,0.083324857056141,0.053210679441690,0.026365712285042,0.146018803119659,-0.026414595544338));
res += mul(Get(s0,0,-dy), float4x4(0.025092454627156,-0.235306903719902,-0.108187407255173,-0.171035468578339,0.054882731288671,0.034725680947304,-0.108384534716606,0.060943260788918,0.223730728030205,0.095613710582256,-0.176252737641335,0.172465994954109,-0.050084482878447,0.045660540461540,-0.071410484611988,-0.005212391726673));
res += mul(Get(s0,0,0), float4x4(-0.026670340448618,-0.103921718895435,-0.094822667539120,-0.150760456919670,0.007530884817243,-0.018583759665489,-0.100975602865219,0.122598297894001,0.124252915382385,-0.067197605967522,-0.146037161350250,0.002188445301726,0.067638516426086,-0.073434427380562,-0.010021458379924,0.106174603104591));
res += mul(Get(s0,0,dy), float4x4(0.093974776566029,0.215746879577637,-0.195060044527054,-0.164960071444511,0.205187290906906,-0.009457074105740,-0.121775142848492,0.159895390272141,0.084384955465794,0.068268455564976,-0.091228306293488,-0.216975420713425,0.105065420269966,-0.240649014711380,0.213431268930435,0.009510764852166));
res += mul(Get(s0,dx,-dy), float4x4(-0.124264299869537,0.222060143947601,-0.022605799138546,-0.055185500532389,0.049165882170200,0.115572117269039,-0.098078027367592,0.074181653559208,0.107694067060947,-0.003068641060963,-0.014576933346689,0.245427608489990,0.107005007565022,0.055451456457376,0.030310383066535,0.102836482226849));
res += mul(Get(s0,dx,0), float4x4(-0.080690316855907,0.097929358482361,0.034937493503094,-0.035969484597445,0.015966529026628,-0.037702806293964,-0.148268207907677,0.074906982481480,0.056680217385292,-0.050456300377846,0.028394797816873,-0.029929123818874,0.195237144827843,-0.018779581412673,0.078998751938343,-0.033513944596052));
res += mul(Get(s0,dx,dy), float4x4(0.195177480578423,-0.126418083906174,0.018009807914495,-0.090922117233276,0.143269121646881,-0.012375715188682,-0.100578390061855,0.069917842745781,0.133854329586029,0.017751287668943,0.005787898786366,-0.141705587506294,0.230405509471893,-0.011540497653186,0.193404614925385,0.091930381953716));
res += mul(Get(s1,-dx,-dy), float4x4(0.179837554693222,0.193562954664230,-0.066387280821800,0.079474687576294,0.147918090224266,0.043942559510469,-0.082639954984188,-0.088697992265224,0.037585135549307,0.160790964961052,0.183226600289345,-0.116421982645988,0.168431088328362,0.156741231679916,-0.207126602530479,0.312155723571777));
res += mul(Get(s1,-dx,0), float4x4(-0.020822037011385,0.016793470829725,0.023807069286704,0.065694503486156,-0.000129411710077,-0.181096091866493,-0.036518272012472,-0.153852000832558,0.081415802240372,-0.005636798683554,0.150155961513519,-0.112700231373310,-0.134335577487946,0.051418330520391,-0.053179897367954,0.013319578953087));
res += mul(Get(s1,-dx,dy), float4x4(-0.080038703978062,0.258881390094757,-0.032542295753956,0.100730210542679,0.033403009176254,0.115889593958855,-0.234762519598007,-0.278179824352264,0.158872231841087,0.127165123820305,-0.026970885694027,-0.051138445734978,-0.173062935471535,0.105710975825787,0.350084513425827,-0.065730981528759));
res += mul(Get(s1,0,-dy), float4x4(0.148424461483955,-0.014759195037186,-0.117650695145130,0.139967247843742,0.103924192488194,-0.021836988627911,-0.011839808896184,0.043046582490206,0.028119930997491,0.102164730429649,0.085368111729622,0.090179234743118,0.183298826217651,-0.186300039291382,-0.187070041894913,-0.055323366075754));
res += mul(Get(s1,0,0), float4x4(0.012421114370227,0.020699568092823,-0.055302411317825,0.123578689992428,-0.142075821757317,-0.129638940095901,0.080880828201771,-0.053827378898859,0.037655137479305,-0.072911664843559,0.082665413618088,0.098401710391045,0.113724514842033,-0.176872029900551,-0.116767048835754,-0.244464948773384));
res += mul(Get(s1,0,dy), float4x4(0.075845584273338,-0.053324423730373,-0.053416062146425,0.048201385885477,-0.053557556122541,-0.040920753031969,-0.092745527625084,-0.220690280199051,-0.012884457595646,0.026239765807986,-0.055472563952208,0.081049188971519,0.128814801573753,-0.114596590399742,0.148975655436516,-0.199258640408516));
res += mul(Get(s1,dx,-dy), float4x4(0.084656029939651,0.099495410919189,-0.076329514384270,0.082363434135914,0.344623982906342,-0.033526070415974,-0.005220085848123,0.239801347255707,0.156547993421555,0.305963575839996,0.116869606077671,0.170867517590523,0.056466072797775,-0.163639023900032,0.111736819148064,-0.045600146055222));
res += mul(Get(s1,dx,0), float4x4(0.061518646776676,0.204369053244591,-0.025704013183713,0.087544530630112,0.025323396548629,-0.147410839796066,0.068651072680950,-0.049010559916496,0.027095757424831,-0.002427652943879,0.073635794222355,0.078290179371834,-0.189568534493446,-0.235690161585808,0.058059442788363,-0.145998269319534));
res += mul(Get(s1,dx,dy), float4x4(-0.035571139305830,0.117024540901184,-0.165932178497314,0.049632396548986,-0.019441843032837,-0.001322796917520,0.132316827774048,-0.041031882166862,0.213345870375633,0.059191647917032,-0.007285195402801,0.179129689931870,-0.322341829538345,-0.131874725222588,0.139166921377182,-0.228756591677666));
res += mul(Get(s2,-dx,-dy), float4x4(0.062531009316444,0.061721894890070,-0.124625921249390,0.314144641160965,-0.055523935705423,-0.011295990087092,0.033964611589909,-0.001081691356376,0.351662844419479,0.275152057409286,-0.303426802158356,-0.134511053562164,-0.215675652027130,0.377010613679886,0.352454125881195,0.269775420427322));
res += mul(Get(s2,-dx,0), float4x4(-0.000284296751488,0.162995234131813,-0.103653483092785,0.157614469528198,-0.025775237008929,0.145761147141457,-0.104681737720966,-0.001561413286254,0.293830871582031,0.047320522367954,-0.071518070995808,-0.113058634102345,-0.096139162778854,-0.056971073150635,0.211168423295021,0.201378077268600));
res += mul(Get(s2,-dx,dy), float4x4(-0.146499365568161,0.080512061715126,-0.118214465677738,0.166050225496292,0.001511589391157,0.074059151113033,-0.109640859067440,0.026271447539330,-0.123216032981873,0.029954692348838,0.193281114101410,0.017358163371682,-0.037595640867949,0.059564273804426,0.264443635940552,0.210910201072693));
res += mul(Get(s2,0,-dy), float4x4(0.157239973545074,0.081369042396545,-0.152576774358749,0.022308632731438,-0.011599749326706,-0.226090461015701,0.168961301445961,0.068370468914509,0.245492935180664,0.054348204284906,-0.194204047322273,-0.131219625473022,-0.213010460138321,0.071004189550877,-0.012864973396063,0.087584070861340));
res += mul(Get(s2,0,0), float4x4(0.010789503343403,-0.074407339096069,-0.105532579123974,0.091601960361004,-0.132793679833412,-0.035700961947441,0.006656644865870,-0.121113739907742,0.048813235014677,0.021968677639961,-0.028554325923324,-0.067218229174614,-0.155083164572716,0.001919257570989,0.011165633797646,0.132001429796219));
res += mul(Get(s2,0,dy), float4x4(0.079812258481979,-0.083343751728535,0.068098314106464,0.023752918466926,-0.104948535561562,0.006759382784367,-0.099804818630219,-0.040303375571966,-0.109604254364967,-0.008409456349909,0.237942099571228,-0.083740420639515,-0.060638774186373,0.286600798368454,0.051290031522512,0.196904331445694));
res += mul(Get(s2,dx,-dy), float4x4(0.050511751323938,0.115359529852867,-0.101006433367729,-0.049862734973431,-0.032496828585863,0.080251023173332,0.084715947508812,0.139276236295700,0.081438720226288,-0.025637723505497,-0.150392085313797,-0.023025872185826,0.008908242918551,0.013882840052247,-0.154344826936722,0.046006564050913));
res += mul(Get(s2,dx,0), float4x4(0.055019456893206,-0.009916891343892,-0.105248980224133,-0.019183980301023,0.001789181726053,-0.016687026247382,0.066804416477680,0.515531003475189,-0.127909317612648,-0.081101499497890,-0.068600758910179,-0.057700697332621,0.180338680744171,0.056812494993210,-0.097724795341492,-0.099578611552715));
res += mul(Get(s2,dx,dy), float4x4(0.132587179541588,0.000055000335124,-0.030707554891706,-0.120518475770950,0.024391418322921,0.050515484064817,-0.152340605854988,0.077655375003815,-0.244604051113129,0.061130937188864,0.126817092299461,-0.068981088697910,-0.028649056330323,-0.008518264628947,0.001374347251840,-0.186605021357536));
res += mul(Get(s3,-dx,-dy), float4x4(-0.327286839485168,-0.033360775560141,-0.001603042008355,-0.073437437415123,0.126240283250809,0.233318835496902,0.065124660730362,0.040121849626303,-0.154189348220825,0.008308370597661,-0.079451605677605,-0.013292379677296,0.065731182694435,0.045547243207693,-0.039650626480579,0.011145016178489));
res += mul(Get(s3,-dx,0), float4x4(-0.051629796624184,-0.040275923907757,0.188970223069191,0.024942725896835,-0.062732808291912,0.222570955753326,0.128965288400650,-0.030701830983162,0.003176944330335,0.062558934092522,-0.076277710497379,-0.041166484355927,0.013874865137041,0.259816020727158,-0.249656289815903,-0.055172849446535));
res += mul(Get(s3,-dx,dy), float4x4(-0.099205672740936,-0.246099963784218,0.199926048517227,0.048404753208160,-0.053994916379452,0.153613835573196,-0.013585236854851,-0.027109585702419,0.101892262697220,0.216994822025299,0.142693936824799,-0.024937806650996,0.173749595880508,0.130867600440979,-0.142597228288651,-0.200215339660645));
res += mul(Get(s3,0,-dy), float4x4(-0.436052709817886,0.076286457479000,-0.117029659450054,-0.018143193796277,0.140714034438133,0.174214422702789,0.112977258861065,0.023803746327758,0.010079213418067,0.022143635898829,-0.029352998360991,-0.055458869785070,-0.042182151228189,-0.068691499531269,-0.011200129054487,0.170597255229950));
res += mul(Get(s3,0,0), float4x4(-0.308558434247971,0.104867137968540,0.001878113951534,-0.248095035552979,-0.081520579755306,-0.019812325015664,0.282501339912415,-0.076533526182175,0.052630860358477,-0.124118618667126,0.018466843292117,-0.097780883312225,0.021972993388772,-0.022012623026967,-0.113202601671219,-0.014634701423347));
res += mul(Get(s3,0,dy), float4x4(-0.085265606641769,0.022546026855707,0.104128561913967,-0.136952623724937,-0.070000618696213,-0.138325735926628,-0.110002748668194,-0.088076084852219,0.309333980083466,-0.169443726539612,-0.040262769907713,-0.152888193726540,0.072199009358883,-0.046212390065193,-0.062229752540588,-0.040627907961607));
res += mul(Get(s3,dx,-dy), float4x4(-0.148372024297714,-0.117828413844109,-0.172683015465736,-0.178694799542427,0.278389692306519,0.044985059648752,0.134895056486130,0.000410561071476,-0.039945919066668,-0.052237197756767,-0.063069716095924,-0.045465245842934,-0.051711443811655,-0.204900607466698,0.126868814229965,0.137078538537025));
res += mul(Get(s3,dx,0), float4x4(-0.002184224314988,-0.154984280467033,-0.319997549057007,-0.142913684248924,-0.023473618552089,-0.040037162601948,0.327458769083023,-0.025281691923738,0.087836824357510,-0.036401394754648,-0.067065365612507,-0.020290298387408,-0.095269091427326,0.136839374899864,-0.070595629513264,-0.034079041332006));
res += mul(Get(s3,dx,dy), float4x4(0.171293810009956,-0.293634086847305,0.068948969244957,-0.302836537361145,-0.061031613498926,0.011246372945607,0.136231467127800,-0.072049632668495,0.171716228127480,-0.142946198582649,0.040833737701178,-0.103581525385380,-0.100377947092056,-0.047973178327084,-0.023190574720502,-0.066560782492161));
return max(float4(0,0,0,0), res);
}
