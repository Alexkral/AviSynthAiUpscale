sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.095434047281742,0.042587522417307,-0.194904968142509,-0.039635796099901,0.027852494269609,-0.113325156271458,-0.068946413695812,-0.004712818190455,-0.069710358977318,-0.126934170722961,0.089834608137608,-0.034026969224215,-0.151256293058395,0.014233602210879,0.183145150542259,0.198604673147202));
res += mul(Get(s0,-dx,0), float4x4(0.028991645202041,0.058014236390591,-0.121770709753036,0.038705788552761,-0.231848374009132,-0.061403017491102,0.032895192503929,-0.187680661678314,-0.023061515763402,0.118277773261070,-0.124649114906788,0.229130759835243,0.067952081561089,0.127528905868530,-0.096951268613338,0.003159430110827));
res += mul(Get(s0,-dx,dy), float4x4(0.154972195625305,-0.011653676629066,0.100152060389519,-0.069241046905518,0.018647998571396,0.090647719800472,0.149652555584908,-0.168836623430252,-0.049341835081577,0.161405757069588,-0.214120373129845,0.124132476747036,-0.139408588409424,-0.000358556630090,0.053265832364559,-0.206556990742683));
res += mul(Get(s0,0,-dy), float4x4(0.151113212108612,0.050127021968365,0.092438690364361,0.072977915406227,0.107202880084515,-0.050545807927847,-0.000573051453102,-0.158432200551033,0.048112120479345,-0.096771553158760,0.031415563076735,0.083700299263000,0.015410939231515,0.156753435730934,-0.015065138228238,0.030214648693800));
res += mul(Get(s0,0,0), float4x4(0.101592794060707,0.070768594741821,0.032904054969549,0.158051103353500,0.175222128629684,0.193890839815140,-0.051024112850428,0.005733217578381,0.028346989303827,-0.112626366317272,-0.054365985095501,0.233763247728348,0.039797063916922,-0.106693431735039,0.058015346527100,0.040783923119307));
res += mul(Get(s0,0,dy), float4x4(0.010519864968956,-0.074512414634228,0.117919154465199,-0.229350522160530,0.124441310763359,0.062687829136848,0.195213988423347,-0.073865272104740,-0.164929643273354,-0.161304473876953,0.128541946411133,0.055747635662556,0.146593406796455,0.122768454253674,-0.163912624120712,0.017326613888144));
res += mul(Get(s0,dx,-dy), float4x4(0.166095495223999,0.019872009754181,-0.094645261764526,-0.018334502354264,-0.100807763636112,0.183522194623947,-0.014953046105802,0.054436378180981,-0.123938113451004,-0.072297140955925,-0.132788777351379,0.255832552909851,-0.076791442930698,0.007510462775826,0.072992548346519,-0.046627961099148));
res += mul(Get(s0,dx,0), float4x4(0.100476503372192,0.108295336365700,-0.013909555040300,0.266430675983429,0.168743178248405,-0.077902786433697,0.177535936236382,-0.018870051950216,-0.073511503636837,-0.129299327731133,-0.020528778433800,-0.051787193864584,-0.103228040039539,0.105055376887321,0.108105480670929,-0.014863799326122));
res += mul(Get(s0,dx,dy), float4x4(0.035960357636213,0.079083800315857,0.008841564878821,-0.147628471255302,0.134376466274261,-0.049047969281673,0.154077842831612,0.004607957787812,-0.194536089897156,0.193477064371109,-0.044018834829330,0.157341748476028,-0.108739577233791,-0.078169293701649,0.080798581242561,0.068718023598194));
res += mul(Get(s1,-dx,-dy), float4x4(0.133966013789177,0.040438428521156,-0.088666871190071,-0.017820483073592,-0.258778423070908,-0.028785459697247,-0.174513369798660,-0.038543220609426,-0.056417636573315,-0.051516976207495,0.053986657410860,0.009473727084696,0.045403219759464,0.124659195542336,0.136387467384338,0.045459456741810));
res += mul(Get(s1,-dx,0), float4x4(0.001913326908834,-0.049640290439129,-0.031300444155931,-0.126897364854813,0.062878146767616,-0.104456894099712,-0.053539015352726,-0.223684281110764,0.026981137692928,-0.120652869343758,0.023970363661647,0.157970488071442,0.103725224733353,0.085494078695774,-0.008970233611763,0.000352393049980));
res += mul(Get(s1,-dx,dy), float4x4(0.013492505066097,0.037271555513144,-0.125730261206627,-0.092370107769966,-0.002299023093656,0.057921621948481,-0.114569969475269,-0.065562188625336,0.134101912379265,0.030245587229729,0.146234467625618,-0.013553723692894,0.064770273864269,0.071998633444309,-0.214843422174454,0.195847138762474));
res += mul(Get(s1,0,-dy), float4x4(0.013012320734560,-0.186856880784035,0.060807544738054,0.150597661733627,0.009571113623679,-0.070052966475487,0.101733677089214,0.002005528891459,0.112970352172852,-0.005109351594001,-0.152229860424995,-0.004584275186062,0.005701024550945,-0.081030115485191,0.170222342014313,-0.102130703628063));
res += mul(Get(s1,0,0), float4x4(-0.097586482763290,0.034801982343197,0.014109084382653,-0.115709163248539,0.028707908466458,-0.057837959378958,-0.113859079778194,-0.158424004912376,0.047216873615980,0.036144755780697,0.054174158722162,-0.181629791855812,-0.277976453304291,-0.015800852328539,-0.057659670710564,0.030876265838742));
res += mul(Get(s1,0,dy), float4x4(0.009835397824645,-0.125704228878021,-0.234321162104607,0.061138864606619,-0.101650521159172,-0.071331456303596,-0.069240078330040,-0.131954923272133,-0.017224512994289,-0.129346549510956,0.034789294004440,-0.218773797154427,-0.071915507316589,0.072943657636642,-0.276836127042770,0.062742412090302));
res += mul(Get(s1,dx,-dy), float4x4(-0.032892405986786,-0.013644056394696,0.003165367525071,-0.045534681528807,0.019380185753107,-0.051812641322613,-0.102196939289570,0.032457601279020,0.024687046185136,-0.112363517284393,-0.084557242691517,0.155229657888412,-0.005276869516820,0.033739563077688,0.033715553581715,0.065436944365501));
res += mul(Get(s1,dx,0), float4x4(-0.252327978610992,-0.059983175247908,-0.016533402726054,-0.025634014979005,0.080369226634502,0.069287478923798,0.059534303843975,-0.007457417901605,0.022539813071489,-0.098533868789673,-0.115923337638378,0.059158969670534,-0.121254153549671,-0.059999786317348,0.317527532577515,-0.296639382839203));
res += mul(Get(s1,dx,dy), float4x4(0.227051138877869,-0.056427359580994,-0.184005677700043,-0.034477602690458,-0.005268574692309,-0.213628664612770,0.122214406728745,0.068837530910969,0.303319603204727,0.037335004657507,-0.187101587653160,0.166593059897423,-0.109467878937721,0.000405586499255,0.009579031728208,-0.095974259078503));
res += mul(Get(s2,-dx,-dy), float4x4(0.015308251604438,-0.269906610250473,0.011391079984605,-0.102529697120190,0.173788607120514,0.002184217330068,0.007454666309059,-0.040307391434908,0.064305491745472,-0.046722989529371,0.122239097952843,-0.043267149478197,-0.169479832053185,-0.121404655277729,0.016612812876701,0.071020923554897));
res += mul(Get(s2,-dx,0), float4x4(0.057385377585888,-0.012044949457049,0.087636180222034,0.082762286067009,-0.052425950765610,-0.127279132604599,0.055723231285810,-0.009542000479996,-0.130836516618729,-0.079355858266354,-0.122548691928387,0.073534317314625,-0.197005078196526,0.087301939725876,-0.215354025363922,0.149983286857605));
res += mul(Get(s2,-dx,dy), float4x4(0.125211983919144,0.027570370584726,-0.145969614386559,0.130836337804794,0.034200452268124,0.181238517165184,-0.002431517466903,0.030773853883147,-0.084808170795441,-0.016538973897696,-0.027531880885363,-0.241901651024818,-0.043878052383661,-0.193062499165535,-0.119761139154434,0.106172673404217));
res += mul(Get(s2,0,-dy), float4x4(-0.101792119443417,0.043171968311071,0.161540836095810,0.009074063971639,0.054437208920717,0.019558509811759,0.101715110242367,0.028768565505743,0.047078445553780,0.016764868050814,-0.160445153713226,-0.146109551191330,-0.150472462177277,0.020475525408983,-0.192940056324005,0.164182156324387));
res += mul(Get(s2,0,0), float4x4(-0.062763683497906,0.046021025627851,-0.058354601264000,0.037295650690794,-0.129055306315422,-0.167392283678055,0.104354992508888,0.027581386268139,-0.058332532644272,-0.016691271215677,0.085601851344109,-0.034537274390459,-0.075291663408279,-0.179765388369560,-0.180889114737511,0.224967643618584));
res += mul(Get(s2,0,dy), float4x4(-0.079234316945076,-0.121416822075844,0.065304718911648,-0.016584195196629,0.003110174322501,0.019635317847133,0.199723437428474,0.039891168475151,-0.073339961469173,0.048510827124119,0.156253218650818,-0.224919825792313,-0.181652396917343,-0.010101287625730,0.004103958141059,0.037118203938007));
res += mul(Get(s2,dx,-dy), float4x4(0.096065782010555,0.075093150138855,0.039560716599226,0.044501353055239,0.001133202342317,0.306744515895844,-0.024372531101108,-0.046925038099289,0.011583872139454,-0.011014353483915,-0.108851470053196,-0.094319067895412,-0.084829643368721,-0.042147938162088,-0.015579214319587,0.101760506629944));
res += mul(Get(s2,dx,0), float4x4(-0.059375550597906,0.018525786697865,0.054172366857529,-0.071031570434570,-0.143148660659790,-0.064765177667141,0.189426228404045,0.010915390215814,0.209307223558426,-0.169523552060127,0.010941559448838,-0.042391892522573,0.084779627621174,-0.101227097213268,-0.112609975039959,0.143877103924751));
res += mul(Get(s2,dx,dy), float4x4(-0.043959800153971,-0.112394653260708,0.077000632882118,0.095487318933010,-0.105022571980953,-0.061162266880274,-0.146138340234756,-0.177211046218872,-0.059863638132811,-0.125152230262756,0.022806575521827,-0.020011195912957,-0.191588953137398,-0.179255351424217,-0.197947472333908,0.054745245724916));
res += mul(Get(s3,-dx,-dy), float4x4(0.151119410991669,-0.203803941607475,-0.090446278452873,-0.101008966565132,0.134743124246597,-0.034737158566713,-0.117235042154789,-0.089072637259960,-0.062872521579266,-0.018024759367108,0.051896538585424,-0.071447506546974,0.005141907837242,0.082665532827377,-0.077481321990490,0.089916571974754));
res += mul(Get(s3,-dx,0), float4x4(-0.034825343638659,-0.164011597633362,-0.083912320435047,-0.017909429967403,0.314163923263550,0.014721604064107,-0.049764785915613,0.147436991333961,0.094312310218811,0.054113425314426,-0.029865426942706,0.061162516474724,-0.067523248493671,-0.159272745251656,-0.123117618262768,-0.036276496946812));
res += mul(Get(s3,-dx,dy), float4x4(-0.101904287934303,0.102435804903507,0.060715112835169,-0.007180667947978,0.293827354907990,-0.117456212639809,-0.164441660046577,-0.031744353473186,0.017357170581818,0.091150917112827,0.082760535180569,-0.021332904696465,-0.230141043663025,0.085250534117222,-0.045915346592665,0.080141596496105));
res += mul(Get(s3,0,-dy), float4x4(-0.057462599128485,0.187374085187912,0.027070637792349,-0.125519901514053,-0.142515361309052,0.265379160642624,-0.096795871853828,0.200039952993393,0.142948508262634,0.081072077155113,-0.113863997161388,0.019103223457932,0.044957518577576,-0.066175580024719,-0.254285097122192,0.166502729058266));
res += mul(Get(s3,0,0), float4x4(-0.137260884046555,0.081892073154449,-0.005802350118756,0.045255087316036,0.184539988636971,-0.130540668964386,0.042242899537086,0.367555737495422,0.004657198209316,0.033980406820774,-0.030046056956053,-0.063391521573067,-0.189983963966370,0.085441537201405,-0.091558322310448,0.028508929535747));
res += mul(Get(s3,0,dy), float4x4(-0.001337732188404,-0.162889450788498,0.169065982103348,0.092834740877151,0.138833537697792,-0.081606581807137,0.013423670083284,0.237569496035576,-0.040223676711321,-0.141503497958183,-0.022364145144820,0.130578964948654,-0.043338213115931,-0.087526515126228,0.063613481819630,-0.234518438577652));
res += mul(Get(s3,dx,-dy), float4x4(0.122966803610325,0.009421928785741,-0.190761670470238,-0.157589197158813,-0.093142151832581,0.093304805457592,0.012234172783792,-0.028280949220061,-0.080665037035942,-0.029441894963384,-0.028207318857312,-0.065040469169617,-0.012947153300047,-0.114991575479507,-0.049564763903618,0.008270621299744));
res += mul(Get(s3,dx,0), float4x4(0.058325961232185,-0.145217821002007,0.151484474539757,0.093806706368923,-0.022360458970070,0.014613335952163,-0.086303412914276,-0.044827312231064,-0.246515884995461,-0.038664903491735,0.044263523072004,-0.028429711237550,-0.009683784097433,-0.277266740798950,-0.133666783571243,-0.037756673991680));
res += mul(Get(s3,dx,dy), float4x4(0.037554904818535,-0.068994387984276,0.136609673500061,-0.066823095083237,-0.091399237513542,0.055376932024956,-0.054272785782814,-0.044274318963289,0.067513898015022,-0.102037161588669,0.002102894708514,-0.090693973004818,0.001584174926393,0.147405445575714,-0.111251488327980,-0.244761645793915));
return max(float4(0,0,0,0), res);
}
