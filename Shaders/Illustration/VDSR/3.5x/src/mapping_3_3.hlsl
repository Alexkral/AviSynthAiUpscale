sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.106180496513844,0.110531188547611,-0.057937163859606,0.074746459722519,0.141692593693733,0.020078487694263,0.135781124234200,-0.126958996057510,0.194227606058121,0.040862768888474,-0.010693300515413,-0.052255567163229,0.106605947017670,-0.100276850163937,-0.065770089626312,0.083946831524372));
res += mul(Get(s0,-dx,0), float4x4(0.322107315063477,0.044076792895794,-0.117406226694584,0.071374177932739,-0.137547761201859,0.141453936696053,0.069812223315239,-0.064670905470848,0.139303192496300,0.033891078084707,0.068663097918034,-0.043738730251789,-0.198893025517464,0.029139494523406,-0.007764285430312,-0.080663174390793));
res += mul(Get(s0,-dx,dy), float4x4(0.082891874015331,-0.088829785585403,-0.032882027328014,0.119700558483601,-0.030691964551806,0.056101907044649,0.020806686952710,-0.060337748378515,0.037127938121557,-0.006279988214374,0.014025072567165,-0.052669860422611,0.006047762930393,-0.138237714767456,-0.082280285656452,-0.059261098504066));
res += mul(Get(s0,0,-dy), float4x4(-0.211931109428406,0.027619749307632,0.006241893395782,-0.099699363112450,0.152935981750488,-0.079315222799778,0.013173627667129,-0.223845005035400,-0.180668041110039,0.109518863260746,0.064511246979237,-0.034512892365456,0.237953945994377,0.057349704205990,-0.045340526849031,0.074285343289375));
res += mul(Get(s0,0,0), float4x4(0.224830493330956,-0.209527388215065,0.168133392930031,-0.417307347059250,0.064189612865448,-0.011029536835849,0.024084609001875,0.086034432053566,-0.076797910034657,-0.057797994464636,-0.131321325898170,0.080937668681145,-0.023992994800210,0.026025075465441,-0.007954604923725,0.061031453311443));
res += mul(Get(s0,0,dy), float4x4(0.033826664090157,-0.057779945433140,-0.091503173112869,0.074089467525482,-0.000175811248482,-0.043656084686518,0.040612660348415,0.148513048887253,0.018137639388442,-0.132404133677483,-0.081414185464382,-0.019074728712440,-0.083727449178696,0.046226292848587,0.089009486138821,0.137405559420586));
res += mul(Get(s0,dx,-dy), float4x4(-0.230457022786140,-0.079147905111313,-0.091390065848827,0.115713976323605,0.034708164632320,-0.081183761358261,-0.113760761916637,0.189524441957474,-0.097464628517628,-0.167318582534790,-0.001758958096616,0.174328342080116,0.178290247917175,-0.078909397125244,0.086026020348072,-0.067574270069599));
res += mul(Get(s0,dx,0), float4x4(-0.040710289031267,-0.170811101794243,0.009407132863998,-0.076442606747150,-0.194346249103546,0.008476679213345,-0.028812699019909,-0.031433787196875,-0.075614318251610,-0.017125770449638,0.244331374764442,-0.043591495603323,0.089617110788822,-0.135782927274704,0.009712667204440,-0.151828899979591));
res += mul(Get(s0,dx,dy), float4x4(-0.109548516571522,0.046481993049383,0.033156342804432,-0.007512275595218,-0.190427765250206,-0.067720562219620,-0.022802842780948,0.060990840196609,-0.264956206083298,-0.101131998002529,-0.005083125550300,-0.041509617120028,-0.074414983391762,0.118051439523697,0.024575389921665,0.240552634000778));
res += mul(Get(s1,-dx,-dy), float4x4(-0.126651480793953,-0.138139382004738,-0.017784157767892,0.140837565064430,-0.119112402200699,0.032631058245897,0.015044697560370,0.108413942158222,-0.006598413921893,0.100078791379929,0.029034700244665,-0.174203366041183,-0.074526630342007,-0.104982264339924,-0.027366517111659,0.177992522716522));
res += mul(Get(s1,-dx,0), float4x4(-0.099830508232117,-0.088533900678158,-0.215816855430603,0.153477624058723,-0.006547188851982,-0.110643334686756,0.092966899275780,0.105020977556705,-0.178451627492905,-0.107119470834732,0.221631452441216,-0.111509628593922,0.094374172389507,0.064400181174278,-0.258042186498642,-0.208572328090668));
res += mul(Get(s1,-dx,dy), float4x4(0.353907167911530,-0.111896246671677,-0.221971794962883,0.166139453649521,0.124498762190342,-0.032745867967606,0.062836490571499,-0.009626857005060,0.112224623560905,-0.031149256974459,-0.105918765068054,0.106280580163002,0.005495626479387,0.016771540045738,-0.040278397500515,0.019467439502478));
res += mul(Get(s1,0,-dy), float4x4(0.125545069575310,-0.167267322540283,0.016550038009882,0.023748721927404,0.076781295239925,-0.074331887066364,-0.028728133067489,0.109408974647522,0.218793049454689,-0.176193490624428,0.232306107878685,-0.134092375636101,0.013068287633359,0.105390243232250,0.131366997957230,-0.011780439876020));
res += mul(Get(s1,0,0), float4x4(-0.140775904059410,-0.043356955051422,0.099530234932899,-0.018247300758958,-0.038540292531252,0.103386431932449,0.026568951085210,0.041833736002445,-0.045277412980795,0.206431105732918,0.128506854176521,0.019519103690982,0.246020421385765,0.251024842262268,0.029918957501650,-0.008478833362460));
res += mul(Get(s1,0,dy), float4x4(0.051742658019066,0.165766581892967,0.066680096089840,-0.016654670238495,-0.131397530436516,0.060083638876677,-0.102410785853863,0.014638946391642,-0.185834884643555,-0.094570845365524,-0.092803739011288,-0.035207826644182,-0.084988564252853,0.132208198308945,-0.016130574047565,0.261497497558594));
res += mul(Get(s1,dx,-dy), float4x4(0.097863025963306,0.125152900815010,0.027479097247124,-0.134005203843117,-0.043148644268513,0.035932406783104,0.057405650615692,-0.050792042165995,-0.224604532122612,-0.122936613857746,-0.112416684627533,0.239042669534683,-0.063594698905945,-0.110579416155815,-0.142556622624397,0.084307730197906));
res += mul(Get(s1,dx,0), float4x4(-0.129604563117027,0.070915617048740,-0.105494067072868,0.014317738823593,-0.041527390480042,0.131541803479195,0.051183070987463,0.097679302096367,-0.113481484353542,-0.052507597953081,-0.021718863397837,-0.155004650354385,0.076777704060078,-0.006765523925424,-0.010167846456170,0.170281961560249));
res += mul(Get(s1,dx,dy), float4x4(0.200194716453552,0.135599598288536,-0.027123671025038,-0.078276984393597,0.067850679159164,0.097988970577717,0.112169615924358,0.119129970669746,0.007082620169967,0.078570432960987,-0.044803295284510,0.148531734943390,0.107970431447029,-0.217413187026978,-0.083216831088066,0.069614768028259));
res += mul(Get(s2,-dx,-dy), float4x4(-0.105698890984058,0.111523129045963,0.100324191153049,-0.155482217669487,-0.153706163167953,0.031315412372351,-0.007598396856338,0.117876522243023,0.243262648582458,0.064122594892979,-0.009704435244203,0.062306281179190,0.074380531907082,0.029126772657037,-0.078005068004131,0.162686794996262));
res += mul(Get(s2,-dx,0), float4x4(0.036781344562769,0.057773184031248,0.082819014787674,-0.263217568397522,0.002037146827206,0.105496086180210,0.040635548532009,-0.035479098558426,0.039626274257898,0.022304922342300,-0.014823627658188,-0.203769415616989,-0.086190849542618,0.076764360070229,-0.030506769195199,-0.076070100069046));
res += mul(Get(s2,-dx,dy), float4x4(0.065708301961422,0.130606442689896,0.052419196814299,0.021963031962514,0.177145227789879,-0.016443088650703,-0.159945547580719,-0.042881827801466,0.019115248695016,-0.092401511967182,-0.007626387290657,0.156144574284554,-0.089053101837635,-0.095082454383373,0.202642098069191,-0.041519146412611));
res += mul(Get(s2,0,-dy), float4x4(0.011907232925296,0.193947419524193,0.027053456753492,-0.014489554800093,0.015623272396624,-0.053404547274113,-0.028390195220709,-0.038490843027830,-0.041756141930819,0.095504760742188,-0.244086980819702,-0.004651942756027,-0.081689909100533,-0.281664758920670,0.247200608253479,0.132582858204842));
res += mul(Get(s2,0,0), float4x4(-0.073119543492794,-0.036595825105906,-0.270106643438339,-0.039731577038765,-0.270545601844788,-0.050536829978228,-0.104257412254810,0.163216918706894,0.065487958490849,-0.040626380592585,-0.126981765031815,-0.064954489469528,-0.008392466232181,0.033790327608585,-0.078822307288647,-0.161490008234978));
res += mul(Get(s2,0,dy), float4x4(-0.153932929039001,-0.255452126264572,0.056326258927584,-0.064766526222229,-0.011148565448821,-0.025054862722754,0.007161337882280,-0.178586885333061,-0.016366882249713,-0.221668049693108,-0.007111325860023,-0.081231743097305,-0.053478494286537,0.035916745662689,-0.109338171780109,0.170182913541794));
res += mul(Get(s2,dx,-dy), float4x4(-0.043801944702864,-0.194675162434578,-0.010963763110340,-0.022286649793386,0.057660054415464,0.052127663046122,-0.115078590810299,-0.130631566047668,-0.122856251895428,0.071830503642559,0.119605652987957,-0.041935734450817,-0.061250898987055,-0.034183811396360,-0.129036456346512,0.055525545030832));
res += mul(Get(s2,dx,0), float4x4(-0.002293314784765,-0.180042117834091,0.012978979386389,0.029012497514486,0.244714796543121,0.036624532192945,0.095943905413151,0.199824362993240,-0.000829376338515,0.129464372992516,0.032208368182182,-0.076098009943962,-0.122037582099438,0.082601793110371,-0.048529099673033,0.275107920169830));
res += mul(Get(s2,dx,dy), float4x4(0.086253993213177,0.162019759416580,0.008219642564654,-0.181861653923988,-0.058146245777607,0.163184121251106,0.122596085071564,-0.016538631170988,-0.086834721267223,0.261685609817505,-0.058548565953970,0.038590159267187,0.024400006979704,-0.023348933085799,0.136859953403473,-0.022901844233274));
res += mul(Get(s3,-dx,-dy), float4x4(0.054844040423632,0.050902467221022,0.018003419041634,0.139354407787323,-0.038107801228762,-0.047388434410095,-0.071809053421021,0.061163440346718,0.049815099686384,-0.130639418959618,0.066907480359077,-0.076226472854614,0.088830523192883,0.050784658640623,-0.063655324280262,0.179701179265976));
res += mul(Get(s3,-dx,0), float4x4(0.113443143665791,-0.122957974672318,-0.050931975245476,0.012703041546047,0.060195717960596,0.060842011123896,-0.078420691192150,-0.103942535817623,-0.024408215656877,0.046247705817223,-0.101044431328773,0.002674117917195,-0.174407497048378,0.074414849281311,-0.131567806005478,0.162083894014359));
res += mul(Get(s3,-dx,dy), float4x4(-0.144352018833160,-0.100100062787533,0.004917322192341,0.145184412598610,0.048414949327707,-0.138233080506325,-0.124747939407825,0.054667323827744,-0.019861353561282,-0.010159663856030,-0.227281019091606,-0.204167574644089,-0.034585740417242,0.115327276289463,0.014254319481552,0.032883092761040));
res += mul(Get(s3,0,-dy), float4x4(-0.081721350550652,0.041563950479031,0.018236214295030,-0.108835749328136,0.055158637464046,-0.091676071286201,0.189253985881805,0.043187197297812,0.023819006979465,-0.070322193205357,-0.110139772295952,0.042836394160986,-0.005755342543125,0.035043202340603,-0.008735320530832,0.049050722271204));
res += mul(Get(s3,0,0), float4x4(-0.036205064505339,0.026665883138776,-0.029483668506145,-0.191721558570862,-0.015302588231862,-0.039725542068481,-0.073988862335682,0.004303751979023,0.049442987889051,0.123157940804958,0.088383987545967,-0.039346430450678,0.212110504508018,0.041660983115435,0.046251673251390,-0.013371307402849));
res += mul(Get(s3,0,dy), float4x4(-0.208976551890373,-0.088828295469284,-0.089235201478004,0.182796910405159,0.100346028804779,-0.128588229417801,0.136142015457153,-0.057692609727383,0.010815599933267,0.017853673547506,0.078013457357883,-0.024205092340708,-0.141522824764252,0.039563778787851,0.233033284544945,0.095050968229771));
res += mul(Get(s3,dx,-dy), float4x4(0.029258975759149,-0.010922670364380,-0.122467465698719,0.009995232336223,0.194569721817970,0.054147001355886,0.147614121437073,-0.059273838996887,0.170060738921165,-0.020464135333896,0.009772867895663,0.092029921710491,0.076813235878944,-0.133142963051796,0.048485703766346,-0.031265608966351));
res += mul(Get(s3,dx,0), float4x4(0.095037452876568,0.062423329800367,-0.012715743854642,-0.030622720718384,0.051840115338564,0.065158292651176,-0.098659776151180,-0.164538070559502,-0.124029368162155,-0.127522945404053,-0.139171019196510,-0.179653733968735,0.142703339457512,-0.087167061865330,0.032331086695194,-0.009433757513762));
res += mul(Get(s3,dx,dy), float4x4(-0.002563898917288,-0.082270592451096,-0.042490731924772,-0.194066330790520,-0.155232980847359,0.105710946023464,-0.077940233051777,0.085236571729183,0.009676821529865,-0.094812631607056,-0.115451633930206,-0.043364588171244,0.129079669713974,-0.042416460812092,-0.197327271103859,0.028699124231935));
return max(float4(0,0,0,0), res);
}
