sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.038842104375362,0.017759995535016,-0.027775609865785,0.083216719329357,-0.054128628224134,0.145227089524269,0.217854216694832,0.108468480408192,-0.135842144489288,0.038012191653252,0.246727898716927,-0.010118588805199,-0.089371681213379,-0.007362195756286,-0.036075759679079,-0.046894129365683));
res += mul(Get(s0,-dx,0), float4x4(0.053356353193521,0.012946438044310,0.028290566056967,-0.079904839396477,-0.036432214081287,0.161649897694588,-0.076103843748569,0.041464846581221,0.028914401307702,0.204659789800644,-0.008282400667667,-0.037056863307953,0.031950451433659,0.069221585988998,-0.061662271618843,-0.209786862134933));
res += mul(Get(s0,-dx,dy), float4x4(-0.063889354467392,0.052148748189211,0.158708080649376,0.115731664001942,0.007043320219964,0.181550785899162,-0.082040473818779,0.036376886069775,-0.109679393470287,-0.241476222872734,-0.110352896153927,-0.157672971487045,0.088217839598656,0.055784139782190,-0.039988204836845,0.029616033658385));
res += mul(Get(s0,0,-dy), float4x4(-0.081408195197582,0.074020102620125,0.095401637256145,-0.021901575848460,0.084254637360573,0.076844759285450,0.081851355731487,-0.099449418485165,0.094955839216709,0.141785487532616,0.099564231932163,-0.086185581982136,-0.143756926059723,0.156512036919594,0.037386551499367,-0.009368077851832));
res += mul(Get(s0,0,0), float4x4(-0.156031504273415,-0.012232297100127,-0.055654637515545,0.206470087170601,0.166751801967621,0.109302148222923,0.143247440457344,-0.018114421516657,-0.103314958512783,-0.024011248722672,0.223328933119774,0.055953163653612,0.052542757242918,0.090947739779949,0.275258690118790,-0.301350235939026));
res += mul(Get(s0,0,dy), float4x4(-0.020428998395801,-0.012961486354470,-0.091054260730743,0.165054306387901,-0.028408646583557,0.055507015436888,0.090891771018505,-0.081189945340157,-0.256828397512436,-0.088444620370865,-0.117627330124378,-0.074012845754623,-0.052487146109343,-0.131795898079872,-0.141116648912430,-0.064513519406319));
res += mul(Get(s0,dx,-dy), float4x4(0.140974804759026,0.081623598933220,0.019602116197348,0.000484775460791,-0.003290453925729,-0.161167606711388,0.039270050823689,-0.134688764810562,0.000330257782480,0.028075344860554,0.057963863015175,0.116696208715439,0.095462545752525,0.006721914745867,0.129479810595512,0.058967698365450));
res += mul(Get(s0,dx,0), float4x4(0.051533788442612,-0.110824435949326,-0.225982204079628,-0.173226714134216,-0.108591198921204,-0.110766828060150,0.093607954680920,0.086140334606171,0.016251120716333,-0.164608389139175,0.049856442958117,-0.114723414182663,0.061419960111380,0.144512102007866,0.079937696456909,-0.131719425320625));
res += mul(Get(s0,dx,dy), float4x4(0.083328120410442,0.126205593347549,0.155372574925423,-0.022253789007664,0.043706290423870,0.148136958479881,0.029685614630580,0.027563178911805,0.059282947331667,-0.073550850152969,-0.021839143708348,-0.164103880524635,0.113008871674538,0.225862577557564,-0.003532637376338,-0.076902851462364));
res += mul(Get(s1,-dx,-dy), float4x4(-0.049338571727276,0.282294005155563,-0.009763546288013,0.017200503498316,0.023739458993077,0.111737690865993,-0.208042711019516,0.056002274155617,0.013325719162822,-0.004163203760982,-0.087581433355808,0.043303176760674,-0.128284752368927,0.016786655411124,0.071569107472897,-0.014153293333948));
res += mul(Get(s1,-dx,0), float4x4(-0.131299078464508,-0.012773632071912,0.142973750829697,0.099415913224220,0.028245506808162,0.060649577528238,0.043920740485191,0.017568651586771,-0.048826217651367,0.058350499719381,-0.074596568942070,-0.142603695392609,-0.054165501147509,-0.179076060652733,0.179294854402542,-0.205129444599152));
res += mul(Get(s1,-dx,dy), float4x4(-0.012810693122447,0.236142843961716,-0.018637198954821,0.069326981902122,0.064642675220966,-0.093130961060524,-0.051294691860676,-0.157080352306366,-0.053338520228863,0.104590930044651,-0.121813565492630,-0.239678218960762,-0.191230073571205,-0.087331868708134,-0.246694117784500,-0.100321240723133));
res += mul(Get(s1,0,-dy), float4x4(0.021431293338537,-0.139639720320702,-0.006113559007645,0.229670673608780,0.065078251063824,-0.023623181506991,-0.078498475253582,-0.082931354641914,0.189042851328850,-0.136858955025673,0.155487686395645,0.058956790715456,0.046286568045616,0.048084538429976,-0.082519851624966,0.085765965282917));
res += mul(Get(s1,0,0), float4x4(-0.114084951579571,-0.042915660887957,0.202421620488167,0.162962198257446,0.018890203908086,-0.056603386998177,0.072502084076405,0.206344574689865,-0.107052832841873,-0.020388450473547,-0.166615381836891,-0.161075189709663,0.006031807512045,-0.307241261005402,-0.143581345677376,0.026690240949392));
res += mul(Get(s1,0,dy), float4x4(0.122661590576172,0.014186415821314,-0.166344925761223,-0.058401342481375,-0.043513786047697,-0.001042766030878,-0.103959262371063,0.017145479097962,0.080061882734299,-0.017780587077141,-0.082383587956429,-0.069899342954159,-0.013829108327627,-0.243168711662292,-0.189573556184769,0.199022680521011));
res += mul(Get(s1,dx,-dy), float4x4(-0.063322991132736,0.240353778004646,0.116253234446049,-0.034869145601988,-0.019903266802430,-0.013341302983463,0.301589131355286,0.025569800287485,0.049008425325155,0.108317688107491,-0.002549428027123,0.138499081134796,0.041844528168440,0.052999403327703,-0.102745257318020,0.102306552231312));
res += mul(Get(s1,dx,0), float4x4(-0.015338314697146,-0.088348761200905,0.038388699293137,-0.066017620265484,0.000396185525460,0.057049985975027,0.025771375745535,-0.092260301113129,-0.180573195219040,-0.003596461610869,-0.031233176589012,-0.084653399884701,-0.076306290924549,-0.070892818272114,-0.292514830827713,0.047382295131683));
res += mul(Get(s1,dx,dy), float4x4(-0.160695821046829,-0.052021242678165,-0.014576232992113,0.015210422687232,0.077470056712627,-0.046822965145111,-0.260557025671005,0.044943645596504,0.001413151505403,0.006607456598431,0.046739835292101,-0.014489670284092,-0.092308521270752,0.056080047041178,-0.016429677605629,0.069600835442543));
res += mul(Get(s2,-dx,-dy), float4x4(0.087414272129536,0.139404430985451,-0.141420453786850,-0.222530335187912,0.083764426410198,-0.022642049938440,-0.169867530465126,-0.011044533923268,0.012352248653769,-0.057684570550919,-0.126615986227989,0.110738366842270,-0.302074402570724,0.113581798970699,-0.114076659083366,-0.141636893153191));
res += mul(Get(s2,-dx,0), float4x4(0.091187708079815,-0.014976156875491,0.094849474728107,-0.047294341027737,0.046687923371792,0.012443745508790,-0.093298435211182,-0.016122892498970,-0.063687883317471,-0.097289934754372,-0.069386772811413,-0.037784170359373,0.073632106184959,0.053875241428614,-0.006590189877898,0.058841861784458));
res += mul(Get(s2,-dx,dy), float4x4(0.131103932857513,0.191854938864708,0.002590979449451,0.066608257591724,-0.229268953204155,0.110588714480400,-0.205116078257561,0.017234668135643,0.040971137583256,0.084055945277214,-0.185640797019005,0.067970797419548,0.026783507317305,-0.005637764930725,-0.154957175254822,0.094703324139118));
res += mul(Get(s2,0,-dy), float4x4(0.037210553884506,-0.056223418563604,0.114301942288876,0.116319909691811,-0.125675916671753,-0.078078411519527,0.007573539391160,-0.014261839911342,0.031508490443230,0.065909266471863,-0.062618345022202,-0.019564956426620,0.120243541896343,-0.101053252816200,-0.054299745708704,-0.019447922706604));
res += mul(Get(s2,0,0), float4x4(0.136658445000648,-0.059765562415123,-0.166759997606277,-0.006011691410094,0.055542271584272,0.041737295687199,-0.144755139946938,-0.020739505067468,0.073618754744530,0.042084228247404,-0.032202113419771,0.087052665650845,0.057785023003817,-0.016382528468966,0.188636481761932,-0.228787034749985));
res += mul(Get(s2,0,dy), float4x4(0.115292854607105,0.122608095407486,0.015374204143882,-0.211559146642685,-0.131032139062881,-0.177374675869942,-0.019163256511092,-0.195403411984444,-0.095147602260113,-0.128947243094444,0.005366893019527,-0.021513044834137,-0.078045338392258,-0.132211282849312,-0.145819023251534,0.103726744651794));
res += mul(Get(s2,dx,-dy), float4x4(0.067805573344231,-0.061118736863136,-0.209364861249924,0.149751201272011,0.190549582242966,-0.038031417876482,-0.041420470923185,0.019467946141958,0.006153816822916,0.051861338317394,0.086916230618954,0.140623524785042,-0.151198893785477,-0.027897363528609,0.072052240371704,-0.306095600128174));
res += mul(Get(s2,dx,0), float4x4(0.059251241385937,0.019571201875806,-0.148635506629944,-0.060634661465883,-0.084820486605167,0.121754065155983,-0.078850261867046,-0.068485029041767,-0.003730856347829,0.143298938870430,-0.004976262804121,0.018891504034400,-0.036852113902569,0.120327122509480,0.096302896738052,0.100605480372906));
res += mul(Get(s2,dx,dy), float4x4(0.068946011364460,0.123840592801571,0.154995068907738,0.113551601767540,-0.076526939868927,-0.153880417346954,-0.172347381711006,0.024128738790751,-0.049076735973358,-0.101276427507401,-0.168503537774086,0.097710542380810,-0.101221606135368,0.142574310302734,0.057907018810511,0.039282374083996));
res += mul(Get(s3,-dx,-dy), float4x4(-0.112979844212532,-0.035042773932219,0.034657217562199,-0.067916281521320,0.122075885534286,-0.241689011454582,0.148921340703964,0.018024114891887,-0.008688769303262,0.070206090807915,0.119049198925495,0.041953355073929,-0.090324729681015,-0.051868285983801,0.037630405277014,-0.060327678918839));
res += mul(Get(s3,-dx,0), float4x4(0.213658198714256,0.098771624267101,0.096428722143173,-0.072541721165180,0.129415959119797,-0.006009479984641,0.109639294445515,0.044366959482431,0.135259985923767,0.022296046838164,0.011407124809921,0.128225758671761,0.009057542309165,-0.028858428820968,-0.015329117886722,-0.103960320353508));
res += mul(Get(s3,-dx,dy), float4x4(0.100287124514580,0.003609636565670,-0.122686088085175,-0.098739869892597,0.163009777665138,-0.057568140327930,0.065571933984756,-0.230193689465523,0.039163347333670,0.099459886550903,0.018111398443580,0.006431823596358,-0.216732591390610,0.029021743685007,0.131065323948860,0.040626246482134));
res += mul(Get(s3,0,-dy), float4x4(-0.082827828824520,-0.064225517213345,0.072551399469376,0.128916248679161,-0.080359108746052,0.065653868019581,0.003958197310567,0.118476152420044,0.097248964011669,0.047231480479240,-0.256930768489838,0.141981601715088,0.065521471202374,-0.233290374279022,-0.016570577397943,0.113561585545540));
res += mul(Get(s3,0,0), float4x4(0.006170683540404,0.049684740602970,-0.073978923261166,-0.089925900101662,0.048868373036385,-0.061861228197813,0.077194854617119,0.162769719958305,0.123755231499672,0.079318240284920,-0.018549425527453,-0.133225888013840,-0.001126278773881,-0.111362852156162,0.033103678375483,-0.041125308722258));
res += mul(Get(s3,0,dy), float4x4(-0.110618568956852,-0.153121784329414,0.053851660341024,-0.206055864691734,-0.079691521823406,-0.014917952008545,-0.104085408151150,0.188471138477325,-0.242596194148064,-0.084882304072380,-0.077895790338516,-0.192475602030754,-0.027676833793521,-0.060233149677515,-0.027343057096004,0.285220175981522));
res += mul(Get(s3,dx,-dy), float4x4(0.011882954277098,0.040145721286535,0.085142791271210,0.065257698297501,0.045540601015091,0.050849191844463,-0.175219893455505,0.099810972809792,0.223635941743851,-0.161844506859779,0.074379175901413,-0.058395002037287,0.049493096768856,0.084666587412357,0.118456900119781,-0.051065981388092));
res += mul(Get(s3,dx,0), float4x4(0.137637719511986,-0.128732815384865,-0.056362498551607,0.081116028130054,0.138432547450066,0.238334953784943,0.059300679713488,0.190886840224266,-0.105006024241447,0.218929141759872,-0.130085512995720,-0.043917749077082,0.050111286342144,-0.032548077404499,0.151009932160378,-0.125734448432922));
res += mul(Get(s3,dx,dy), float4x4(-0.207698836922646,-0.045858457684517,-0.127673119306564,-0.362425088882446,0.136658623814583,0.021946543827653,0.066255562007427,0.324875950813293,0.154247626662254,-0.044380877166986,-0.245029166340828,0.056419529020786,0.060914788395166,-0.061586033552885,-0.026269566267729,0.178730726242065));
return max(float4(0,0,0,0), res);
}
