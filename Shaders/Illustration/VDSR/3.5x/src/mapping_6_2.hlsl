sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.028350498527288,-0.056880362331867,-0.150144845247269,0.175851061940193,0.237907811999321,0.100234217941761,-0.131072133779526,0.024157920852304,-0.165349081158638,0.010568421334028,-0.085349336266518,-0.093564569950104,-0.188434600830078,-0.023722667247057,0.126066997647285,-0.120592661201954));
res += mul(Get(s0,-dx,0), float4x4(0.094868510961533,0.055315531790257,-0.202308297157288,-0.164222553372383,0.044963195919991,-0.122924178838730,-0.147226959466934,-0.042924407869577,-0.098560214042664,-0.007571052759886,0.396903634071350,-0.020452814176679,-0.093014322221279,0.151365324854851,0.052821528166533,-0.055437523871660));
res += mul(Get(s0,-dx,dy), float4x4(0.111597403883934,-0.038653619587421,-0.146473497152328,-0.193517073988914,0.134633809328079,-0.019229218363762,-0.154772326350212,0.078368313610554,-0.049921229481697,0.050065923482180,0.058778993785381,-0.167921766638756,-0.087973587214947,0.165387809276581,-0.220356225967407,-0.076395682990551));
res += mul(Get(s0,0,-dy), float4x4(0.134320408105850,-0.011896507814527,-0.154506698250771,-0.164305105805397,-0.147248968482018,-0.018606536090374,-0.069422237575054,0.104582317173481,0.014885482378304,0.104262799024582,0.086190596222878,-0.064533978700638,-0.175109773874283,-0.102796286344528,0.046939004212618,-0.055159565061331));
res += mul(Get(s0,0,0), float4x4(0.089473098516464,0.086237892508507,-0.109125368297100,-0.184571772813797,-0.071271479129791,-0.064408048987389,-0.049454104155302,0.120645865797997,-0.118114903569221,0.028573632240295,0.022238880395889,0.019213235005736,-0.019269509240985,-0.080670133233070,0.025094883516431,-0.149493083357811));
res += mul(Get(s0,0,dy), float4x4(0.004726691637188,-0.016773244366050,0.034732196480036,-0.010058687068522,0.074128210544586,0.051104735583067,-0.074693448841572,0.241429582238197,-0.012173823080957,-0.040692370384932,-0.206779330968857,0.082105144858360,-0.018039567396045,-0.111397854983807,-0.274587780237198,-0.190277189016342));
res += mul(Get(s0,dx,-dy), float4x4(-0.071614995598793,0.306440293788910,-0.204769685864449,-0.000589805131312,0.086397163569927,-0.035528261214495,-0.100132316350937,0.154975667595863,-0.000863634806592,0.061711557209492,0.074418470263481,0.114531815052032,-0.235021218657494,-0.018083998933434,0.133281424641609,0.074129059910774));
res += mul(Get(s0,dx,0), float4x4(0.076827429234982,0.163086056709290,-0.080887056887150,-0.101427301764488,0.089811116456985,-0.039135627448559,-0.101297944784164,0.158624649047852,0.020847439765930,0.241108998656273,-0.038206376135349,0.013761380687356,-0.224766999483109,-0.079070225358009,0.145248383283615,-0.024371774867177));
res += mul(Get(s0,dx,dy), float4x4(-0.012018299661577,0.457221269607544,-0.004177938681096,-0.069909878075123,0.132843464612961,0.118308477103710,-0.030854556709528,0.218949586153030,-0.076499886810780,0.069829627871513,-0.171172872185707,0.063855625689030,-0.192589446902275,-0.151000171899796,-0.278841823339462,-0.167422696948051));
res += mul(Get(s1,-dx,-dy), float4x4(-0.032693471759558,-0.086203828454018,0.024545071646571,-0.087681442499161,0.026091462001204,0.014624503441155,0.197874605655670,-0.072370953857899,-0.123644560575485,-0.145114749670029,0.253024369478226,0.028941242024302,-0.156969264149666,-0.140875995159149,-0.134450063109398,0.164599463343620));
res += mul(Get(s1,-dx,0), float4x4(-0.047860994935036,-0.076375931501389,-0.021779831498861,-0.058618072420359,0.239102751016617,0.136784225702286,0.000710574619006,-0.174356296658516,-0.008850003592670,0.019884457811713,0.162073060870171,-0.073064215481281,-0.094659753143787,-0.309652239084244,-0.171717941761017,-0.055354133248329));
res += mul(Get(s1,-dx,dy), float4x4(-0.025303294882178,-0.063828952610493,-0.243528708815575,-0.004773875698447,-0.036633308976889,-0.017334612086415,0.088797770440578,-0.092297226190567,-0.011519576422870,-0.045985236763954,-0.187327489256859,-0.029131079092622,-0.010537378489971,-0.095426633954048,-0.090411052107811,-0.126969709992409));
res += mul(Get(s1,0,-dy), float4x4(-0.063936188817024,-0.057910691946745,-0.007688841316849,0.007964550517499,0.117116220295429,0.116169482469559,-0.019705254584551,-0.059364560991526,-0.096338137984276,-0.045367229729891,0.382652699947357,-0.114848107099533,-0.162512689828873,0.258400261402130,-0.161091193556786,0.019473925232887));
res += mul(Get(s1,0,0), float4x4(-0.073677614331245,-0.041874986141920,0.094098836183548,-0.026596743613482,0.185714527964592,0.070549465715885,-0.069941967725754,-0.169386297464371,-0.050394054502249,-0.049259006977081,0.111194267868996,-0.127679124474525,-0.075175344944000,-0.223921880125999,0.009868531487882,-0.158977150917053));
res += mul(Get(s1,0,dy), float4x4(-0.089943490922451,0.050110507756472,-0.115387447178364,-0.060062091797590,0.270702093839645,-0.088593788444996,0.325322061777115,0.077627085149288,-0.054671920835972,-0.006338492035866,-0.331920027732849,-0.194324046373367,-0.077130705118179,0.379707127809525,-0.032099120318890,-0.140141010284424));
res += mul(Get(s1,dx,-dy), float4x4(-0.086123675107956,-0.018835995346308,-0.148324251174927,0.063406944274902,-0.182033434510231,0.032773252576590,0.155128583312035,-0.174175083637238,-0.051656950265169,0.021097885444760,0.098898015916348,-0.041378669440746,-0.140543535351753,-0.000823863432743,-0.049206320196390,0.197751045227051));
res += mul(Get(s1,dx,0), float4x4(-0.086824081838131,0.172604352235794,-0.011137257330120,0.025788879022002,-0.113240443170071,-0.063625216484070,0.343730688095093,0.233871415257454,-0.040697809308767,-0.105058349668980,-0.307844549417496,-0.074124693870544,-0.101258993148804,-0.003517105942592,0.164124593138695,-0.076805196702480));
res += mul(Get(s1,dx,dy), float4x4(-0.038908883929253,0.625258624553680,-0.125923395156860,0.036409933120012,0.010344165377319,-0.078778669238091,0.031316585838795,0.045866876840591,-0.009049660526216,-0.089087590575218,-0.229785367846489,-0.130591958761215,-0.121562480926514,-0.082934938371181,-0.189152732491493,-0.039579883217812));
res += mul(Get(s2,-dx,-dy), float4x4(0.065763182938099,-0.148275360465050,-0.105851925909519,-0.183088988065720,0.115066632628441,0.166434377431870,-0.088453985750675,0.132906720042229,0.226069703698158,-0.041827257722616,-0.087726771831512,0.048941757529974,-0.203377306461334,0.003929161000997,-0.046698227524757,0.222720071673393));
res += mul(Get(s2,-dx,0), float4x4(-0.013538820669055,0.012405429035425,-0.030143355950713,-0.100492790341377,0.106160394847393,0.124351844191551,-0.125694364309311,-0.255185723304749,-0.027991058304906,-0.010707951150835,0.021178983151913,-0.148649498820305,-0.111366808414459,-0.089943803846836,0.123249173164368,-0.166174620389938));
res += mul(Get(s2,-dx,dy), float4x4(-0.029684459790587,0.178130716085434,-0.032555472105742,0.069053478538990,-0.003279300639406,0.120961360633373,-0.181049317121506,0.466625392436981,0.161316290497780,-0.098222456872463,0.009842190891504,-0.161143377423286,-0.147350952029228,-0.003218931844458,-0.041643925011158,-0.151786550879478));
res += mul(Get(s2,0,-dy), float4x4(0.003620301373303,0.032049417495728,0.109279803931713,-0.122220739722252,-0.005227677989751,-0.043506629765034,-0.108954422175884,0.023085027933121,0.065642610192299,0.025478119030595,0.014844489283860,0.082178801298141,-0.148328334093094,0.028625292703509,-0.095230810344219,0.011704673059285));
res += mul(Get(s2,0,0), float4x4(-0.031813647598028,0.135658606886864,-0.021617896854877,-0.030688660219312,-0.008976977318525,-0.011757787317038,-0.159659191966057,-0.000128108324134,-0.001612594467588,-0.035152748227119,-0.025763865560293,0.088459305465221,-0.045919284224510,-0.119603507220745,0.158874228596687,-0.022938717156649));
res += mul(Get(s2,0,dy), float4x4(-0.075597062706947,0.114834442734718,-0.049926899373531,-0.000623156782240,0.016786849126220,-0.044957406818867,-0.136312410235405,0.466371357440948,0.068702280521393,0.032303854823112,-0.048964064568281,0.041526243090630,-0.086462594568729,-0.082677312195301,-0.302333563566208,0.038927253335714));
res += mul(Get(s2,dx,-dy), float4x4(-0.049547173082829,0.035055324435234,-0.210234254598618,-0.007412989623845,-0.218052610754967,0.025240842252970,-0.098119065165520,0.093565143644810,0.278900623321533,0.061947014182806,0.038523692637682,-0.035587579011917,-0.389491319656372,-0.065441608428955,-0.173788458108902,0.109052881598473));
res += mul(Get(s2,dx,0), float4x4(-0.126506239175797,0.110981903970242,0.031373593956232,-0.087090872228146,-0.057313501834869,0.103056244552135,-0.132248818874359,0.079996801912785,0.057515803724527,-0.135303467512131,-0.082847364246845,0.298700720071793,-0.377382606267929,-0.084761708974838,-0.000734537257813,-0.010510476306081));
res += mul(Get(s2,dx,dy), float4x4(-0.126614585518837,-0.082541450858116,0.066111423075199,0.010535930283368,-0.318682253360748,0.527934968471527,-0.187991559505463,-0.213992238044739,0.234722808003426,-0.161872640252113,0.046136196702719,0.197153612971306,-0.065649814903736,-0.049840472638607,-0.334134280681610,0.107614785432816));
res += mul(Get(s3,-dx,-dy), float4x4(-0.074396930634975,0.081037737429142,-0.144043818116188,0.276935219764709,-0.138908877968788,-0.082791358232498,0.278278201818466,0.010130866430700,0.182484596967697,-0.147509098052979,0.146261647343636,0.154470205307007,-0.184580639004707,-0.112328931689262,-0.168639451265335,-0.013524393551052));
res += mul(Get(s3,-dx,0), float4x4(-0.026774480938911,-0.116384327411652,0.177922353148460,0.096591591835022,-0.111783199012280,-0.218590900301933,0.300351053476334,-0.160082966089249,0.029322290793061,0.130638271570206,0.191152632236481,0.139484003186226,-0.054918985813856,-0.044314295053482,-0.051023934036493,-0.086650654673576));
res += mul(Get(s3,-dx,dy), float4x4(0.147665157914162,-0.028116447851062,0.037029713392258,0.347723573446274,-0.121523864567280,0.063707821071148,0.170747429132462,-0.148090690374374,-0.165855363011360,0.134856894612312,0.051786363124847,0.109349481761456,-0.276489615440369,-0.145073488354683,-0.046978883445263,-0.124858140945435));
res += mul(Get(s3,0,-dy), float4x4(-0.301770061254501,0.192329034209251,0.350676000118256,0.117237649857998,-0.071066617965698,-0.104880571365356,-0.017495390027761,0.106380008161068,0.234640359878540,-0.134399607777596,-0.026114784181118,-0.166022077202797,-0.013424161821604,-0.126866325736046,-0.087100744247437,0.238347962498665));
res += mul(Get(s3,0,0), float4x4(0.057955048978329,-0.147824972867966,0.135933205485344,0.177054747939110,0.054208524525166,-0.174649238586426,0.005995998624712,-0.132252275943756,0.225400909781456,-0.108457505702972,0.180909633636475,-0.173410773277283,-0.177272379398346,-0.095813140273094,0.005375004373491,0.145136818289757));
res += mul(Get(s3,0,dy), float4x4(0.184907272458076,-0.001383535447530,0.043660692870617,0.197677373886108,-0.105774082243443,-0.051644966006279,-0.101386569440365,-0.090431720018387,-0.111471220850945,0.013010312803090,-0.030188418924809,-0.012901031412184,0.044246006757021,-0.065735906362534,0.040742620825768,0.047537539154291));
res += mul(Get(s3,dx,-dy), float4x4(0.040254220366478,-0.056656364351511,0.352962076663971,-0.029808660969138,-0.274533480405807,-0.008993100374937,-0.084877185523510,0.028500659391284,0.119915805757046,-0.138854056596756,-0.148682102560997,-0.138981193304062,0.106601342558861,-0.059394929558039,-0.070480071008205,-0.054098058491945));
res += mul(Get(s3,dx,0), float4x4(0.199670329689980,-0.255676358938217,0.171255648136139,-0.108911462128162,-0.152720853686333,-0.126868858933449,-0.239310562610626,-0.056277807801962,0.210730209946632,-0.047975149005651,0.056506481021643,0.139776736497879,0.299353063106537,-0.059505987912416,0.014466921798885,-0.144449412822723));
res += mul(Get(s3,dx,dy), float4x4(0.105046883225441,-0.049480557441711,-0.057415947318077,-0.083359502255917,-0.192032903432846,-0.078372798860073,-0.109782360494137,0.018044052645564,0.093636244535446,0.201743945479393,-0.082609951496124,0.098714113235474,0.125540897250175,-0.076511628925800,0.042187053710222,0.004466541111469));
return max(float4(0,0,0,0), res);
}
