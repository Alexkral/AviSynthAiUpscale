sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.046155232936144,-0.121719934046268,-0.033869508653879,-0.094355098903179,-0.055878598242998,0.284836173057556,-0.036220312118530,-0.078185446560383,-0.098583035171032,-0.046633042395115,-0.152682766318321,0.064918294548988,-0.104052886366844,0.032820060849190,-0.036818034946918,0.177474841475487));
res += mul(Get(s0,-dx,0), float4x4(-0.029620993882418,0.069203928112984,0.133700624108315,-0.040463201701641,0.083439223468304,-0.040102951228619,-0.094293050467968,0.037114895880222,0.172264993190765,0.192394852638245,0.174483329057693,0.002987302606925,0.185731485486031,0.091845087707043,0.101755008101463,-0.126365780830383));
res += mul(Get(s0,-dx,dy), float4x4(-0.139413878321648,-0.053825113922358,0.154567450284958,-0.207632377743721,-0.153615832328796,0.098380059003830,0.106135219335556,-0.002916563302279,-0.108191035687923,0.113306492567062,-0.098358020186424,0.169422313570976,0.098705887794495,0.098291009664536,0.205794349312782,0.124917931854725));
res += mul(Get(s0,0,-dy), float4x4(0.113972954452038,0.038774035871029,-0.128123328089714,0.138431936502457,0.203890904784203,0.060419585555792,0.006174425594509,0.004681888967752,0.040766574442387,0.171900138258934,0.295813024044037,0.091051861643791,0.164277970790863,0.067828610539436,0.056677140295506,-0.110502928495407));
res += mul(Get(s0,0,0), float4x4(0.155751958489418,0.120924942195415,-0.021257780492306,0.012226677499712,0.148040205240250,-0.075240716338158,-0.135222360491753,-0.130068913102150,0.125946134328842,0.026447830721736,0.090700745582581,0.279591530561447,0.221339017152786,-0.044237006455660,0.044477332383394,0.074400827288628));
res += mul(Get(s0,0,dy), float4x4(-0.118957787752151,0.185757264494896,-0.074444442987442,-0.001032522646710,-0.121951580047607,0.093178808689117,0.130651265382767,0.163156658411026,-0.079737767577171,0.002792401239276,0.042073130607605,0.023238515481353,0.076139047741890,0.030361285433173,0.025454787537456,0.077290996909142));
res += mul(Get(s0,dx,-dy), float4x4(0.276530206203461,-0.040542934089899,-0.065519422292709,0.190445944666862,0.077224142849445,-0.037080183625221,0.009365721605718,0.074189066886902,-0.100005134940147,-0.075721785426140,0.275837182998657,-0.212269753217697,0.016785072162747,-0.055023401975632,-0.167831063270569,-0.019596748054028));
res += mul(Get(s0,dx,0), float4x4(-0.085159718990326,0.031876072287560,-0.131585344672203,-0.202395439147949,-0.062624715268612,-0.063935495913029,0.005182335618883,-0.171417146921158,0.018641639500856,-0.138694420456886,-0.095174588263035,0.136163264513016,0.098200120031834,-0.056121461093426,0.011774393729866,0.139671206474304));
res += mul(Get(s0,dx,dy), float4x4(0.124836266040802,-0.044860124588013,0.113544717431068,0.223387956619263,-0.098909705877304,-0.024950237944722,-0.097771018743515,-0.102808356285095,0.255425065755844,0.017222588881850,0.080560855567455,0.001517627853900,-0.108789093792439,0.027955453842878,-0.106630913913250,0.078042156994343));
res += mul(Get(s1,-dx,-dy), float4x4(0.135592818260193,-0.132393106818199,0.139172255992889,0.034602262079716,-0.045425947755575,0.108368858695030,0.078271731734276,-0.060296744108200,0.189707934856415,0.103772319853306,0.052917730063200,-0.143975630402565,-0.035147417336702,-0.120324693620205,-0.173327684402466,-0.077922694385052));
res += mul(Get(s1,-dx,0), float4x4(-0.017978012561798,-0.011488504707813,0.073516905307770,0.065883658826351,-0.029304591938853,-0.016116624698043,-0.082260988652706,-0.018492791801691,0.110855363309383,0.185696169734001,0.015495465137064,-0.222986713051796,0.118072487413883,-0.145278975367546,0.016235182061791,0.143575102090836));
res += mul(Get(s1,-dx,dy), float4x4(0.055735163390636,-0.156203746795654,-0.024311427026987,0.128046378493309,-0.238713622093201,0.146943673491478,-0.029000692069530,-0.120887495577335,-0.006448895670474,-0.284875690937042,-0.083922311663628,-0.138784825801849,-0.054366335272789,-0.033566437661648,0.211928039789200,0.192496553063393));
res += mul(Get(s1,0,-dy), float4x4(-0.325246572494507,0.037516206502914,-0.082070454955101,-0.171269237995148,0.117953941226006,0.060115762054920,0.003648946061730,0.207380041480064,-0.045782066881657,-0.053218383342028,-0.022433552891016,-0.053334992378950,-0.072350531816483,0.093410901725292,0.159827113151550,-0.034800410270691));
res += mul(Get(s1,0,0), float4x4(-0.097626216709614,-0.133562296628952,-0.190886810421944,0.153316855430603,0.211334541440010,-0.143409430980682,0.163257449865341,-0.126300916075706,0.050830669701099,-0.168015733361244,-0.118142165243626,-0.297688066959381,0.058864418417215,-0.089672833681107,0.095085762441158,0.134443715214729));
res += mul(Get(s1,0,dy), float4x4(-0.094899006187916,0.071009874343872,0.027135562151670,0.155787378549576,-0.117568694055080,-0.062031105160713,-0.087861604988575,0.101844318211079,0.072329081594944,-0.046938762068748,-0.135224536061287,-0.164769917726517,-0.132036298513412,0.135741338133812,0.073781378567219,0.161673098802567));
res += mul(Get(s1,dx,-dy), float4x4(-0.059698864817619,-0.036845859140158,0.067618988454342,-0.133528992533684,0.144258260726929,-0.105641573667526,0.050343658775091,-0.343666106462479,0.151151612401009,-0.275943368673325,0.022161414846778,-0.157269388437271,-0.082522690296173,0.127402558922768,-0.040521074086428,0.032082330435514));
res += mul(Get(s1,dx,0), float4x4(0.038360755890608,0.014725555665791,-0.165704429149628,-0.098294876515865,-0.169515371322632,-0.146279156208038,0.064592555165291,0.198458060622215,-0.116356253623962,0.054644454270601,0.083302579820156,-0.119170546531677,0.008792100474238,-0.153629735112190,-0.023525739088655,0.069995135068893));
res += mul(Get(s1,dx,dy), float4x4(-0.016697715967894,-0.129930198192596,0.255374848842621,-0.089164577424526,0.003752996446565,-0.043827045708895,-0.123927190899849,0.041428465396166,-0.057177897542715,-0.054250899702311,0.055481269955635,0.083274923264980,0.025403236970305,-0.110535614192486,0.014400925487280,-0.134429484605789));
res += mul(Get(s2,-dx,-dy), float4x4(-0.030419830232859,-0.039488546550274,0.031767517328262,-0.052852120250463,0.174414455890656,-0.206232398748398,-0.114846035838127,-0.077067472040653,0.130853548645973,-0.046750392764807,-0.074786297976971,0.284670859575272,0.040617395192385,0.037235166877508,0.059802208095789,-0.011508074589074));
res += mul(Get(s2,-dx,0), float4x4(0.051908291876316,-0.011792660690844,0.213890075683594,-0.006329109426588,-0.188294589519501,-0.026032220572233,-0.098280914127827,0.085454247891903,-0.037347815930843,0.068421252071857,-0.197668448090553,0.317513465881348,-0.070492871105671,0.124171100556850,-0.177694737911224,0.196160972118378));
res += mul(Get(s2,-dx,dy), float4x4(0.077026017010212,-0.113272823393345,0.183345437049866,-0.128785252571106,0.007690363097936,-0.026193600147963,0.113950863480568,-0.009840297512710,0.077038608491421,0.109517805278301,0.187602117657661,0.003361556679010,-0.093197174370289,-0.071984589099884,-0.058937985450029,-0.149421960115433));
res += mul(Get(s2,0,-dy), float4x4(-0.157210141420364,-0.198697865009308,0.091693133115768,0.040855593979359,-0.007517712656409,0.035792894661427,-0.187241747975349,-0.338226497173309,0.097337424755096,-0.004183819051832,-0.050901897251606,0.044414561241865,0.098777003586292,-0.019658805802464,-0.019264232367277,-0.136098742485046));
res += mul(Get(s2,0,0), float4x4(0.036804933100939,-0.105620987713337,-0.141741544008255,0.198204010725021,0.048282917588949,0.014949389733374,0.035133533179760,-0.003751886775717,-0.299554020166397,0.123032413423061,-0.001200078870170,0.043418616056442,-0.007225971203297,0.110479660332203,-0.179424643516541,0.220900163054466));
res += mul(Get(s2,0,dy), float4x4(-0.024040913209319,-0.081002935767174,-0.026704967021942,0.132919773459435,0.037032026797533,0.031153755262494,-0.226227253675461,-0.164226919412613,-0.003915807697922,-0.010808466933668,-0.259705215692520,0.064750134944916,-0.078099519014359,-0.095306694507599,-0.033672638237476,-0.022780561819673));
res += mul(Get(s2,dx,-dy), float4x4(0.286327868700027,-0.072316765785217,0.135563001036644,-0.233497053384781,-0.012918298132718,-0.050511062145233,0.019718632102013,-0.019422311335802,-0.091904044151306,0.173255428671837,-0.082455314695835,-0.070812523365021,-0.022619364783168,0.187878564000130,0.022214094176888,-0.095744147896767));
res += mul(Get(s2,dx,0), float4x4(-0.019503364339471,-0.046222053468227,0.047288764268160,0.340470463037491,0.148269191384315,-0.002553476253524,-0.067817144095898,0.088406793773174,-0.030807843431830,-0.006377147976309,-0.004524715710431,-0.075733259320259,-0.197882324457169,0.076412290334702,0.066376090049744,0.075865119695663));
res += mul(Get(s2,dx,dy), float4x4(0.164809554815292,0.101015307009220,0.062777087092400,-0.046027425676584,0.020927326753736,-0.144173517823219,-0.255679070949554,-0.187966778874397,0.039880923926830,-0.109263688325882,0.215730100870132,0.155116647481918,-0.145828694105148,0.116422235965729,0.026891207322478,-0.332543611526489));
res += mul(Get(s3,-dx,-dy), float4x4(0.100404307246208,0.019944058731198,0.087249316275120,-0.137368619441986,0.039211142808199,-0.092615887522697,0.053592912852764,0.240314543247223,-0.060959301888943,-0.039067793637514,-0.015368975698948,-0.148958250880241,0.048695858567953,0.061815440654755,0.090752080082893,0.099734179675579));
res += mul(Get(s3,-dx,0), float4x4(0.039647702127695,-0.043602492660284,0.115582354366779,-0.014263404533267,0.023935509845614,0.263480216264725,0.131463378667831,0.014583683572710,0.104809194803238,0.113178975880146,0.017122864723206,0.040710777044296,-0.033308122307062,-0.099676996469498,0.173615247011185,0.050909392535686));
res += mul(Get(s3,-dx,dy), float4x4(-0.040139652788639,-0.084713861346245,-0.103506393730640,-0.141340553760529,0.160338848829269,0.096138179302216,-0.022854553535581,-0.067438088357449,-0.083522066473961,0.142386630177498,-0.102215088903904,0.259031325578690,0.085342995822430,0.110312275588512,-0.023442748934031,-0.132821083068848));
res += mul(Get(s3,0,-dy), float4x4(-0.041225090622902,0.142240688204765,0.050554823130369,0.176235899329185,-0.108130544424057,0.027904279530048,0.161060169339180,0.023603629320860,0.198703020811081,0.036552496254444,0.133112549781799,-0.169794961810112,0.125698834657669,-0.042731903493404,0.166944086551666,0.024669630452991));
res += mul(Get(s3,0,0), float4x4(-0.148966133594513,-0.075885146856308,0.182800054550171,0.109959505498409,0.063391268253326,0.146700114011765,-0.092419743537903,0.017469011247158,0.000804329523817,0.019612217321992,0.065731488168240,0.136452779173851,-0.087703712284565,0.056331373751163,0.003673543222249,0.241932570934296));
res += mul(Get(s3,0,dy), float4x4(-0.141033634543419,-0.183378964662552,-0.162005171179771,-0.078287772834301,0.074230618774891,0.096128404140472,0.273272305727005,-0.146197363734245,-0.241306588053703,0.038723763078451,0.124212995171547,0.068061158061028,-0.052049487829208,0.019336042925715,-0.000437708426034,0.086229659616947));
res += mul(Get(s3,dx,-dy), float4x4(0.049666434526443,-0.007360000163317,-0.022910378873348,0.024362988770008,-0.020324945449829,-0.054831501096487,-0.010889107361436,-0.222962930798531,0.222153216600418,0.080432981252670,0.196478903293610,0.181747406721115,0.112196125090122,0.059219490736723,-0.090318828821182,0.021335687488317));
res += mul(Get(s3,dx,0), float4x4(-0.210091203451157,0.072332240641117,-0.048991061747074,-0.023102015256882,-0.057953346520662,-0.074963606894016,-0.210233598947525,-0.012311418540776,0.047663807868958,-0.000095688512374,-0.049338817596436,-0.055169131606817,0.036410894244909,-0.018297150731087,-0.035376485437155,0.066014632582664));
res += mul(Get(s3,dx,dy), float4x4(-0.051638115197420,0.007743916008621,-0.036443546414375,-0.183235213160515,-0.219572052359581,-0.049020413309336,0.079967029392719,-0.025219811126590,0.013529005460441,0.041335280984640,-0.088094137609005,-0.111425057053566,-0.056937757879496,0.232587814331055,-0.065420702099800,0.008721959777176));
return max(float4(0,0,0,0), res);
}
