sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.119563482701778,-0.013516317121685,0.065411001443863,-0.026919949799776,-0.077468223869801,-0.044203367084265,-0.199847444891930,-0.211576566100121,0.196706295013428,0.116895690560341,0.224681153893471,-0.060133565217257,-0.016343744471669,0.243753999471664,0.043118383735418,0.040528986603022));
res += mul(Get(s0,-dx,0), float4x4(-0.057757355272770,0.000685237755533,0.017307352274656,-0.130878880620003,0.057135004550219,0.015782933682203,-0.237102702260017,-0.067715279757977,-0.127037689089775,0.049533627927303,0.156848400831223,-0.046352371573448,-0.119300618767738,-0.106210194528103,-0.084262855350971,0.259443938732147));
res += mul(Get(s0,-dx,dy), float4x4(-0.096865698695183,0.065757110714912,-0.187146872282028,-0.175673007965088,-0.086803443729877,0.074870832264423,-0.060899581760168,-0.124420300126076,0.131324574351311,0.047278579324484,0.197910204529762,0.125974640250206,-0.190434485673904,-0.047796145081520,-0.097639046609402,-0.117000095546246));
res += mul(Get(s0,0,-dy), float4x4(0.065334200859070,0.413524836301804,-0.081162422895432,-0.202684178948402,-0.099284559488297,0.115595981478691,-0.087109670042992,-0.143822148442268,0.063353039324284,-0.053556017577648,0.154612198472023,0.018132619559765,-0.132863089442253,0.012532535009086,-0.177475139498711,-0.006592951714993));
res += mul(Get(s0,0,0), float4x4(-0.101633749902248,0.363511174917221,-0.071597725152969,-0.167457967996597,-0.048065673559904,0.215689390897751,-0.140578746795654,-0.036959279328585,-0.070571660995483,-0.104405522346497,0.026944182813168,-0.057270269840956,0.053099606186152,-0.169386938214302,-0.241122722625732,0.405456870794296));
res += mul(Get(s0,0,dy), float4x4(-0.088966622948647,0.001407188014127,-0.156915739178658,-0.034078832715750,-0.135960757732391,-0.105987176299095,0.006760843563825,-0.053257547318935,0.276816964149475,-0.017091909423470,0.182078048586845,-0.096120588481426,-0.013098032213748,-0.059457298368216,-0.129261463880539,0.163928464055061));
res += mul(Get(s0,dx,-dy), float4x4(-0.055969122797251,0.175699517130852,-0.053611192852259,-0.114547751843929,-0.108126468956470,0.012498664669693,-0.065951816737652,-0.084679827094078,-0.312145888805389,-0.114936329424381,0.003078921930864,0.103129819035530,-0.409412235021591,-0.248189330101013,0.091403566300869,0.015216041356325));
res += mul(Get(s0,dx,0), float4x4(-0.139577552676201,-0.111551605165005,-0.128973931074142,-0.130690872669220,-0.115277953445911,-0.200581252574921,-0.044110205024481,-0.006171961314976,-0.046611241996288,-0.049041025340557,0.294354736804962,-0.091281466186047,-0.197353526949883,-0.193711534142494,-0.061881180852652,0.152239993214607));
res += mul(Get(s0,dx,dy), float4x4(-0.227561518549919,-0.201463580131531,-0.190539300441742,-0.123414732515812,-0.177818790078163,-0.111477248370647,0.180036813020706,0.013197047635913,0.056361164897680,-0.010187522508204,0.062208261340857,-0.023963831365108,-0.016329770907760,-0.064543440937996,0.037358049303293,0.028819642961025));
res += mul(Get(s1,-dx,-dy), float4x4(0.260011255741119,0.136201694607735,-0.058425940573215,-0.068696871399879,-0.081607393920422,-0.046323820948601,-0.063417978584766,-0.021251862868667,0.036742702126503,0.006077352911234,0.031848706305027,-0.043676845729351,-0.048739880323410,-0.100940003991127,-0.059157624840736,-0.071785993874073));
res += mul(Get(s1,-dx,0), float4x4(0.038051623851061,-0.044581856578588,0.104896798729897,0.132839784026146,-0.040593095123768,-0.178218051791191,0.049040682613850,-0.009364840574563,-0.099197812378407,0.041489213705063,0.302641093730927,0.224772810935974,-0.092376746237278,0.351060122251511,0.087423101067543,0.127999097108841));
res += mul(Get(s1,-dx,dy), float4x4(0.088992200791836,0.076590821146965,0.073487155139446,-0.004186326172203,-0.016370112076402,0.008826314471662,-0.128822773694992,-0.023800415918231,-0.011371239088476,0.115143254399300,0.234861567616463,-0.046668503433466,0.028161484748125,0.109614133834839,-0.183116480708122,-0.108994312584400));
res += mul(Get(s1,0,-dy), float4x4(-0.044616531580687,0.152839437127113,0.284721136093140,0.055022191256285,-0.004318838007748,-0.103287421166897,-0.061274800449610,0.010030971840024,-0.021272348240018,-0.049889314919710,0.024602429941297,-0.177635744214058,0.082041613757610,0.027073208242655,0.176333218812943,0.099702484905720));
res += mul(Get(s1,0,0), float4x4(-0.018509697169065,-0.156663537025452,0.075951933860779,0.048616267740726,-0.038619052618742,-0.051564007997513,0.015139982104301,0.086240805685520,0.012646165676415,0.140245839953423,-0.080138348042965,-0.079567909240723,-0.064121343195438,0.113905496895313,0.294870138168335,0.026772020384669));
res += mul(Get(s1,0,dy), float4x4(0.243986457586288,-0.093217633664608,0.078676350414753,0.278616219758987,-0.060683745890856,-0.101810783147812,0.028381559997797,0.004286827519536,0.021399904042482,0.042529191821814,-0.004414527677000,-0.125411748886108,-0.093859896063805,0.040142383426428,0.083603166043758,-0.108561292290688));
res += mul(Get(s1,dx,-dy), float4x4(0.219598785042763,-0.136035650968552,-0.140938624739647,-0.057942669838667,0.027709089219570,0.011753723956645,-0.092250101268291,0.051540669053793,0.026479855179787,-0.052330099046230,-0.004565067123622,-0.055077750235796,-0.145287260413170,0.034078218042850,0.064042188227177,-0.050619833171368));
res += mul(Get(s1,dx,0), float4x4(-0.035876892507076,-0.117950007319450,-0.154300272464752,-0.193589329719543,0.082760319113731,-0.021696135401726,0.068038769066334,0.118028156459332,-0.090229071676731,-0.021685097366571,-0.005644743330777,-0.020153209567070,-0.212264701724052,0.160899639129639,0.146667867898941,-0.164814725518227));
res += mul(Get(s1,dx,dy), float4x4(0.258790343999863,-0.169270962476730,0.024175016209483,-0.083118014037609,-0.107687160372734,-0.042615707963705,-0.153006121516228,-0.082265101373196,0.217828765511513,0.009907458908856,0.144534289836884,0.107196353375912,-0.055465571582317,0.123611561954021,-0.159611508250237,-0.175994828343391));
res += mul(Get(s2,-dx,-dy), float4x4(-0.145375758409500,0.008997046388686,0.013172428123653,0.162758424878120,0.024194866418839,0.234567716717720,-0.167354583740234,0.068985432386398,-0.014285098761320,0.237001478672028,-0.181788057088852,-0.151837602257729,-0.061694394797087,-0.019841870293021,-0.217690810561180,0.016626933589578));
res += mul(Get(s2,-dx,0), float4x4(-0.182349085807800,-0.124563544988632,-0.038804795593023,-0.151794880628586,0.065251320600510,0.024964209645987,-0.076186828315258,-0.045273020863533,0.091926887631416,0.001822075573727,-0.073454640805721,0.153877645730972,-0.052094370126724,-0.004354908596724,-0.174801945686340,0.069716237485409));
res += mul(Get(s2,-dx,dy), float4x4(-0.109553299844265,-0.269478499889374,-0.020735360682011,-0.255854964256287,-0.181023970246315,-0.090791650116444,-0.065535537898540,-0.277217417955399,0.022405406460166,0.154415309429169,0.158761382102966,0.037741910666227,0.009170091710985,-0.024675069376826,-0.244728311896324,0.082672417163849));
res += mul(Get(s2,0,-dy), float4x4(-0.047713179141283,0.037342641502619,-0.095014639198780,-0.003077970352024,-0.054700423032045,0.210662931203842,-0.049848735332489,0.032480046153069,0.122389815747738,-0.091322287917137,-0.078131861984730,-0.053627714514732,0.030395625159144,0.058830149471760,-0.014657763764262,-0.012365653179586));
res += mul(Get(s2,0,0), float4x4(-0.076607368886471,-0.078057728707790,-0.063310332596302,-0.128893971443176,0.045698288828135,0.040757313370705,-0.027218388393521,0.034112442284822,0.052119512110949,-0.158009752631187,0.086404874920845,0.064492337405682,0.218890234827995,-0.197359457612038,-0.022835141047835,-0.032080780714750));
res += mul(Get(s2,0,dy), float4x4(-0.051917485892773,-0.148982703685760,0.212475538253784,0.003285740269348,0.028886245563626,-0.052441135048866,0.015935271978378,-0.056607693433762,0.170300453901291,0.059110485017300,0.079997830092907,-0.048282574862242,-0.095903210341930,-0.106594808399677,0.182000488042831,-0.119224429130554));
res += mul(Get(s2,dx,-dy), float4x4(0.037024769932032,-0.025575231760740,0.053011629730463,0.423091024160385,-0.056885786354542,0.084311559796333,-0.086929842829704,-0.059836179018021,-0.059970509260893,-0.032285895198584,0.028181809931993,-0.062375560402870,-0.002604843117297,0.084802061319351,0.123716048896313,0.164788633584976));
res += mul(Get(s2,dx,0), float4x4(0.159613877534866,-0.151605218648911,0.237878188490868,0.046534780412912,0.013432784006000,-0.078982442617416,-0.006300535984337,0.070016078650951,-0.144501209259033,-0.027554631233215,0.306582033634186,0.083491660654545,0.206138923764229,0.070093482732773,-0.049049418419600,-0.047181438654661));
res += mul(Get(s2,dx,dy), float4x4(-0.087195806205273,-0.287743151187897,0.139917328953743,0.034816961735487,0.051565874367952,0.127540737390518,-0.061581648886204,0.056669831275940,0.061832364648581,-0.059499099850655,0.198179602622986,-0.016888592392206,-0.130532681941986,-0.096335105597973,0.037615567445755,-0.053399745374918));
res += mul(Get(s3,-dx,-dy), float4x4(-0.104082062840462,0.123869001865387,0.040480379015207,0.439961582422256,0.100184693932533,-0.251704990863800,-0.490925103425980,-0.028983732685447,-0.016509493812919,0.128883928060532,-0.112867735326290,-0.042725525796413,0.093343049287796,-0.167074322700500,0.051624730229378,-0.140884533524513));
res += mul(Get(s3,-dx,0), float4x4(0.086279392242432,0.148088574409485,-0.030507715418935,0.121585048735142,-0.133066624403000,0.018446579575539,-0.059474974870682,-0.168628200888634,-0.043244302272797,-0.098864823579788,-0.052938718348742,-0.031086251139641,0.135029405355453,0.004159432370216,0.028229495510459,-0.127822026610374));
res += mul(Get(s3,-dx,dy), float4x4(0.350259870290756,0.011316190473735,0.154148340225220,-0.003592892084271,-0.138482704758644,0.187756270170212,0.002177745569497,0.095587022602558,-0.129161104559898,-0.023916065692902,-0.202198147773743,-0.110036045312881,-0.167902976274490,0.060290601104498,0.005433692596853,-0.079976074397564));
res += mul(Get(s3,0,-dy), float4x4(-0.124059170484543,-0.019602308049798,0.022474955767393,0.105829566717148,-0.287674456834793,0.192217275500298,-0.052953451871872,0.339276075363159,0.051134966313839,0.265241265296936,-0.083310015499592,-0.107955381274223,0.104979813098907,-0.095539189875126,0.245054811239243,0.229529976844788));
res += mul(Get(s3,0,0), float4x4(0.060943938791752,-0.018525103107095,-0.135416358709335,-0.032174859195948,-0.236677587032318,0.195424452424049,-0.032882500439882,-0.279370993375778,-0.019133597612381,0.133599847555161,-0.093206264078617,-0.128352597355843,-0.071511834859848,-0.096886232495308,0.133155822753906,0.007006812840700));
res += mul(Get(s3,0,dy), float4x4(0.260552138090134,-0.136358931660652,0.108249388635159,-0.009660240262747,-0.106736473739147,-0.069051377475262,-0.015893347561359,-0.036065492779016,-0.166801646351814,0.169676616787910,-0.146536841988564,0.058249413967133,-0.063025526702404,-0.238957464694977,-0.018139984458685,-0.028673496097326));
res += mul(Get(s3,dx,-dy), float4x4(-0.384002774953842,-0.019197553396225,0.151083990931511,0.022517425939441,0.098376378417015,0.170239076018333,-0.003937758505344,0.162679985165596,0.024466024711728,0.282528817653656,-0.188814654946327,0.185025498270988,-0.159854173660278,-0.259098917245865,-0.037058640271425,-0.127993389964104));
res += mul(Get(s3,dx,0), float4x4(0.111566625535488,-0.109827369451523,-0.080438822507858,-0.046428486704826,-0.033485222607851,0.052470900118351,-0.133929058909416,0.082053244113922,-0.020526045933366,0.201170980930328,-0.152811303734779,-0.045335389673710,0.043849512934685,-0.346737802028656,0.069592259824276,-0.103131853044033));
res += mul(Get(s3,dx,dy), float4x4(0.375813752412796,-0.164839357137680,-0.019645806401968,0.128109529614449,-0.174366012215614,-0.062118086963892,-0.157917216420174,0.022296162322164,-0.128176704049110,0.063744850456715,-0.219423115253448,0.296808838844299,0.054553322494030,-0.201404154300690,0.136597990989685,-0.040354654192924));
return max(float4(0,0,0,0), res);
}
