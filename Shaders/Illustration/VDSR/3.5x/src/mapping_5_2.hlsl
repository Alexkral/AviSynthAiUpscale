sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.012056874111295,0.037900172173977,0.185036301612854,0.005932240746915,0.080647245049477,-0.177175119519234,-0.032112557440996,-0.027143456041813,-0.013477524742484,-0.019223138689995,-0.073345825076103,0.083450257778168,-0.038509182631969,-0.097678899765015,-0.308163464069366,-0.032541971653700));
res += mul(Get(s0,-dx,0), float4x4(0.041897531598806,0.050473477691412,-0.057975329458714,-0.117483593523502,-0.177426829934120,0.177520006895065,-0.131758898496628,0.080500438809395,0.093935832381248,0.107807114720345,0.135856330394745,0.104836069047451,-0.095728643238544,-0.065322667360306,0.083178780972958,0.041853360831738));
res += mul(Get(s0,-dx,dy), float4x4(0.043771624565125,-0.051879081875086,-0.151687249541283,0.034899786114693,-0.057539533823729,0.049799982458353,-0.141286656260490,0.074317134916782,0.039352662861347,0.078718453645706,-0.028112076222897,0.065086700022221,-0.143014594912529,0.050397146493196,0.070898465812206,-0.022482296451926));
res += mul(Get(s0,0,-dy), float4x4(0.177517592906952,-0.191776081919670,0.163421511650085,0.009410036727786,-0.147137001156807,0.117541521787643,-0.190378993749619,0.235049128532410,0.138292342424393,-0.015778243541718,0.092556260526180,0.098649501800537,-0.096723727881908,0.024622915312648,-0.012342375703156,-0.012581587769091));
res += mul(Get(s0,0,0), float4x4(-0.052569501101971,-0.024996580556035,0.078549653291702,0.254428684711456,-0.154798895120621,0.089895799756050,0.082639738917351,-0.042591203004122,0.047448039054871,0.057208858430386,-0.091518588364124,0.106890313327312,0.081377297639847,-0.278410673141479,-0.072240903973579,-0.018481446430087));
res += mul(Get(s0,0,dy), float4x4(-0.132256865501404,0.098565369844437,-0.026499785482883,0.105206310749054,0.068136513233185,0.128870040178299,0.094231113791466,-0.084598556160927,-0.142322897911072,-0.009434081614017,0.078598283231258,-0.073458857834339,-0.111614197492599,0.120526306331158,-0.067361652851105,-0.060918413102627));
res += mul(Get(s0,dx,-dy), float4x4(0.274286776781082,0.056643217802048,-0.003570694942027,-0.005193040706217,-0.225443437695503,0.005917381029576,0.127903789281845,-0.145565137267113,-0.079444564878941,0.002337581012398,0.035714250057936,-0.102413259446621,0.099117837846279,-0.024672085419297,-0.259030491113663,-0.059470925480127));
res += mul(Get(s0,dx,0), float4x4(-0.077577486634254,0.095741391181946,-0.159304842352867,0.042647048830986,-0.011041427031159,0.181995719671249,0.004024674184620,-0.152806803584099,-0.092623703181744,-0.263229459524155,0.134005025029182,0.012319830246270,0.033518437296152,0.089753687381744,0.005751115269959,-0.100002847611904));
res += mul(Get(s0,dx,dy), float4x4(0.089074827730656,-0.118836082518101,-0.103714697062969,-0.025999004021287,-0.060731299221516,-0.215714409947395,0.150705367326736,-0.025256382301450,-0.049498200416565,0.008950544521213,0.003889418439940,0.184507146477699,0.065165534615517,-0.129817053675652,-0.134789541363716,-0.187748059630394));
res += mul(Get(s1,-dx,-dy), float4x4(0.136060044169426,-0.076686643064022,0.146257534623146,-0.050165008753538,-0.183381050825119,-0.139475122094154,0.014021516777575,0.070786520838737,-0.056211035698652,-0.007807875052094,0.080318093299866,-0.166427358984947,-0.161194145679474,-0.078010819852352,-0.117221392691135,-0.084900557994843));
res += mul(Get(s1,-dx,0), float4x4(-0.021730491891503,0.035041641443968,-0.024737412109971,-0.033225938677788,-0.023926537483931,-0.055626433342695,-0.030832942575216,-0.040214352309704,0.099850535392761,0.182380557060242,-0.097718894481659,0.151952907443047,-0.024762352928519,-0.023737663403153,0.093068048357964,-0.106266506016254));
res += mul(Get(s1,-dx,dy), float4x4(-0.006773214787245,-0.148606985807419,0.123711518943310,-0.000977399991825,0.273625552654266,0.154874175786972,-0.110621355473995,-0.075563363730907,0.067455440759659,0.012650771997869,0.053956609219313,-0.198683604598045,-0.034189019352198,0.084688805043697,-0.016542099416256,-0.215089052915573));
res += mul(Get(s1,0,-dy), float4x4(0.124144844710827,0.014192327857018,-0.129651710391045,-0.169751480221748,0.276810199022293,0.089615330100060,0.051262363791466,0.165995240211487,-0.107077874243259,-0.183468505740166,-0.034639015793800,0.138375923037529,0.013494483195245,-0.034660916775465,-0.090429075062275,0.041152350604534));
res += mul(Get(s1,0,0), float4x4(-0.080677390098572,0.092842884361744,-0.083383612334728,0.013580529950559,0.330274969339371,-0.158228710293770,0.147610545158386,0.028891637921333,-0.058671496808529,0.071620531380177,0.076321460306644,0.242413789033890,-0.019055373966694,-0.179257512092590,-0.122201412916183,0.309294790029526));
res += mul(Get(s1,0,dy), float4x4(-0.096915364265442,0.246736913919449,0.008413153700531,0.037625182420015,-0.049842577427626,0.048336062580347,0.029565220698714,0.079091303050518,-0.002780715236440,0.093901261687279,-0.155188977718353,-0.028231006115675,0.080424420535564,0.208562701940536,0.134915545582771,0.039211481809616));
res += mul(Get(s1,dx,-dy), float4x4(0.049216847866774,0.106807969510555,-0.102359533309937,0.014256017282605,0.254506826400757,0.026065632700920,0.117043286561966,0.016933925449848,0.071448266506195,-0.088365688920021,-0.002841814886779,0.146709516644478,-0.019650777801871,-0.020232694223523,0.139686450362206,0.199864581227303));
res += mul(Get(s1,dx,0), float4x4(0.062140483409166,-0.132623106241226,0.038907814770937,-0.040713269263506,0.122660249471664,-0.167256489396095,0.055604275316000,0.179264724254608,0.002987860701978,0.045172255486250,0.032205112278461,-0.098137885332108,0.144197389483452,0.085199750959873,0.260202199220657,-0.122673131525517));
res += mul(Get(s1,dx,dy), float4x4(0.043479058891535,0.188136860728264,-0.073734506964684,-0.041060768067837,-0.018027026206255,0.103068023920059,-0.024779774248600,-0.133916363120079,-0.158061459660530,-0.012861125171185,-0.009072066284716,-0.195645257830620,0.033168487250805,-0.094282619655132,0.029673434793949,-0.100062109529972));
res += mul(Get(s2,-dx,-dy), float4x4(-0.010569794103503,0.060823351144791,0.120275668799877,-0.030931217595935,0.081966400146484,-0.038927216082811,0.073636360466480,-0.026619596406817,0.059317164123058,0.278177231550217,0.001111102988943,0.075324930250645,0.101863943040371,0.112454660236835,0.078342221677303,-0.053005866706371));
res += mul(Get(s2,-dx,0), float4x4(-0.020763887092471,-0.176569074392319,-0.078655295073986,0.096405990421772,0.130523666739464,-0.124141119420528,0.031769882887602,0.060340113937855,-0.113942913711071,0.091436989605427,-0.019106505438685,-0.012021478265524,-0.068031728267670,0.031056445091963,-0.130945488810539,-0.028307326138020));
res += mul(Get(s2,-dx,dy), float4x4(0.083849430084229,-0.057913769036531,-0.094065688550472,0.021821910515428,0.060401819646358,-0.011389832943678,0.221735015511513,-0.061826601624489,-0.000748708145693,0.040999997407198,-0.121640138328075,0.037709329277277,-0.139330103993416,0.166621685028076,-0.115967094898224,-0.082443274557590));
res += mul(Get(s2,0,-dy), float4x4(-0.033948421478271,0.011548863723874,-0.031244352459908,0.252892255783081,0.084918804466724,0.115951806306839,-0.070287071168423,0.082382522523403,0.116305187344551,0.086237825453281,-0.077296249568462,-0.152622699737549,0.196807444095612,-0.088533192873001,-0.118613339960575,0.229318946599960));
res += mul(Get(s2,0,0), float4x4(-0.131535619497299,-0.155620530247688,0.047368977218866,-0.044584035873413,0.086866602301598,0.075546801090240,-0.132606238126755,0.079767391085625,0.184758216142654,-0.005742134526372,0.134288221597672,-0.013319528661668,-0.242229521274567,0.033662084490061,-0.039834592491388,0.060976117849350));
res += mul(Get(s2,0,dy), float4x4(0.069846056401730,0.058633446693420,-0.078074537217617,0.104389145970345,0.038018506020308,0.109247572720051,-0.117139749228954,0.059482086449862,-0.020994065329432,0.020040217787027,-0.077939227223396,-0.214484766125679,-0.015905855223536,0.010863391682506,0.014807765372097,-0.036721922457218));
res += mul(Get(s2,dx,-dy), float4x4(0.038319878280163,0.039601463824511,-0.062741853296757,-0.134331241250038,-0.105611220002174,-0.125195756554604,0.146413296461105,0.110710605978966,0.016555896028876,-0.002747361548245,-0.032641574740410,-0.125732183456421,-0.262400329113007,-0.136625573039055,-0.098883293569088,0.122761808335781));
res += mul(Get(s2,dx,0), float4x4(0.040739554911852,0.014657054096460,0.052078746259212,0.077049516141415,0.014501456171274,0.046608492732048,-0.058773916214705,0.139453083276749,0.070762366056442,0.017020599916577,0.054513268172741,0.002474793698639,0.154268592596054,0.094634674489498,-0.023414729163051,0.057884514331818));
res += mul(Get(s2,dx,dy), float4x4(-0.140443354845047,0.063451334834099,-0.089879475533962,-0.006749865133315,-0.174356088042259,-0.241090402007103,0.104827731847763,-0.054905623197556,0.083155758678913,-0.211925491690636,0.052565146237612,-0.159727245569229,-0.031251333653927,-0.048202741891146,0.099126815795898,0.086666874587536));
res += mul(Get(s3,-dx,-dy), float4x4(-0.051930695772171,-0.032053608447313,-0.033917110413313,-0.001288385479711,-0.093238681554794,-0.003049890510738,0.066597722470760,0.154663011431694,-0.090705677866936,-0.203609332442284,-0.223867252469063,-0.006322775036097,-0.121751457452774,0.062076553702354,-0.026830781251192,-0.209647104144096));
res += mul(Get(s3,-dx,0), float4x4(0.131767839193344,0.075317464768887,-0.113741099834442,0.005119126290083,0.029502477496862,-0.066276215016842,0.126289308071136,-0.027415322139859,-0.061401113867760,-0.001067172619514,0.108328066766262,0.210299447178841,0.060495819896460,0.084548786282539,0.130833551287651,-0.081251122057438));
res += mul(Get(s3,-dx,dy), float4x4(0.018686030060053,0.131903275847435,-0.105527192354202,0.035769719630480,0.004127325490117,-0.003497042227536,0.174352049827576,0.083454161882401,0.195406392216682,-0.071885436773300,0.074374116957188,-0.160435274243355,-0.088650986552238,-0.215875357389450,-0.029615243896842,-0.054885532706976));
res += mul(Get(s3,0,-dy), float4x4(0.016776045784354,0.032461635768414,-0.039052728563547,-0.250927656888962,0.040931288152933,-0.024234257638454,0.065940901637077,0.026096928864717,0.062175940722227,0.081641301512718,-0.114056684076786,0.061983052641153,0.108316637575626,-0.109921455383301,0.055792566388845,0.015569796785712));
res += mul(Get(s3,0,0), float4x4(-0.058655701577663,0.021069372072816,0.003990527708083,0.131509453058243,0.052902579307556,-0.014468133449554,0.103978596627712,-0.117931127548218,0.030372038483620,-0.236188650131226,0.099681109189987,-0.215039372444153,-0.046992644667625,-0.137297764420509,-0.221476987004280,-0.104723699390888));
res += mul(Get(s3,0,dy), float4x4(0.061132326722145,0.145756125450134,-0.170277297496796,0.121738888323307,0.072589896619320,-0.128049045801163,0.072778619825840,-0.145509690046310,-0.056681871414185,-0.047521028667688,0.064012438058853,-0.107562541961670,0.204474389553070,-0.065326265990734,-0.014073813334107,-0.180270418524742));
res += mul(Get(s3,dx,-dy), float4x4(-0.007944232784212,-0.108411200344563,0.107351519167423,0.104388736188412,0.013563602231443,-0.009432636201382,-0.272582471370697,0.049293339252472,0.237039774656296,0.022568238899112,-0.133228674530983,0.194927528500557,-0.077694773674011,-0.145237818360329,-0.047318637371063,0.155379161238670));
res += mul(Get(s3,dx,0), float4x4(-0.143423259258270,0.031975332647562,-0.082498848438263,-0.043989598751068,0.257555931806564,-0.012783833779395,-0.087405212223530,0.004959899932146,0.125614017248154,-0.127649962902069,0.231832623481750,0.135341748595238,0.114323012530804,0.040710076689720,-0.025186035782099,0.183465376496315));
res += mul(Get(s3,dx,dy), float4x4(0.057059425860643,-0.116587482392788,0.025114629417658,0.155957609415054,-0.065540730953217,0.172264888882637,0.228151589632034,0.089933358132839,0.060709018260241,-0.013969692401588,-0.052904117852449,0.188331812620163,0.067585304379463,0.081999152898788,-0.193341225385666,0.151456415653229));
return max(float4(0,0,0,0), res);
}
