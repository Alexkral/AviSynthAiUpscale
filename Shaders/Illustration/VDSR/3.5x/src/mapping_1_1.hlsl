sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.100228421390057,-0.000583395070862,-0.151163727045059,0.213276073336601,-0.125166848301888,-0.150721952319145,-0.027132228016853,-0.122004531323910,0.149346396327019,0.093351215124130,0.036684665828943,0.008491197600961,0.122996278107166,-0.096225678920746,0.172595351934433,-0.223082780838013));
res += mul(Get(s0,-dx,0), float4x4(-0.214916497468948,-0.165719509124756,0.149179413914680,0.161325171589851,-0.022524515166879,-0.211824804544449,0.021000912413001,-0.016439219936728,0.246319413185120,-0.073729239404202,-0.075663119554520,0.204362794756889,-0.201334223151207,0.005902183242142,0.061268322169781,-0.098401747643948));
res += mul(Get(s0,-dx,dy), float4x4(-0.142185896635056,-0.039238475263119,-0.096481487154961,-0.009650431573391,-0.214496418833733,-0.059588178992271,-0.313393741846085,-0.037903379648924,-0.136582002043724,-0.016275387257338,0.197282910346985,0.054455332458019,0.042214129120111,0.004890886601061,0.050451941788197,-0.044644281268120));
res += mul(Get(s0,0,-dy), float4x4(-0.020700469613075,-0.046805717051029,-0.200778469443321,0.076167568564415,-0.172604247927666,0.077406562864780,-0.089782036840916,-0.108423598110676,0.057822860777378,-0.235385060310364,0.125081419944763,0.175799608230591,-0.031507331877947,-0.174056097865105,-0.114798858761787,-0.302508920431137));
res += mul(Get(s0,0,0), float4x4(0.051813840866089,0.165965735912323,-0.048929914832115,-0.033964093774557,0.043970245867968,0.265280067920685,0.386801689863205,-0.061981115490198,-0.000415669841459,0.060983255505562,0.102674826979637,-0.130968064069748,-0.162462458014488,0.126345753669739,-0.226854190230370,-0.084070973098278));
res += mul(Get(s0,0,dy), float4x4(0.024228239431977,-0.001514456933364,-0.160376235842705,0.035369534045458,-0.083137817680836,0.024280006065965,0.184759020805359,0.014736378565431,0.014407105743885,0.155349373817444,-0.128389850258827,-0.068719580769539,-0.104681402444839,0.271700739860535,-0.045403633266687,0.112294927239418));
res += mul(Get(s0,dx,-dy), float4x4(0.045774079859257,-0.110358998179436,0.039193611592054,0.206770032644272,-0.125694751739502,0.133708432316780,-0.068421408534050,0.009361823089421,0.007752171717584,0.113388933241367,0.001751131261699,-0.025359787046909,0.005769599694759,-0.165047183632851,-0.011757162399590,-0.066456951200962));
res += mul(Get(s0,dx,0), float4x4(-0.208265841007233,-0.048863470554352,-0.117159947752953,0.044996690005064,-0.106731966137886,0.127998232841492,0.085997648537159,-0.057705491781235,0.012255796231329,-0.113004401326180,-0.233347803354263,-0.033219631761312,0.020911294966936,0.082842156291008,-0.046507947146893,-0.050558477640152));
res += mul(Get(s0,dx,dy), float4x4(0.119702994823456,-0.096088223159313,-0.031336288899183,0.072102673351765,-0.119136713445187,-0.158411458134651,0.036828372627497,-0.104620866477489,-0.034645028412342,-0.083062015473843,-0.123867549002171,0.055229999125004,-0.128748565912247,0.147053971886635,0.179528236389160,-0.139836072921753));
res += mul(Get(s1,-dx,-dy), float4x4(-0.036762230098248,-0.001930132391863,-0.022788763046265,0.037204235792160,-0.181199625134468,-0.117844402790070,0.045018039643764,0.022929055616260,-0.120289765298367,0.061246823519468,0.057291530072689,0.250565290451050,-0.068100735545158,0.070986486971378,-0.089947313070297,0.102916732430458));
res += mul(Get(s1,-dx,0), float4x4(0.255289733409882,0.254791051149368,0.088753357529640,0.058391503989697,0.208666265010834,0.013216688297689,-0.133208468556404,-0.115285098552704,-0.042060185223818,0.000179980401299,0.009708434343338,-0.132983669638634,0.094295859336853,0.004075505770743,-0.127598926424980,-0.073530972003937));
res += mul(Get(s1,-dx,dy), float4x4(0.155436068773270,0.035460688173771,0.063232570886612,-0.239577040076256,0.113775834441185,-0.148911252617836,0.120070219039917,0.065375052392483,0.166044041514397,0.081821925938129,0.076140746474266,0.275981038808823,-0.061992470175028,0.107971757650375,-0.085153408348560,0.040319446474314));
res += mul(Get(s1,0,-dy), float4x4(-0.182651221752167,0.114093400537968,-0.020326593890786,0.137292116880417,0.077630065381527,-0.100615866482258,-0.175238430500031,-0.119446456432343,-0.060820255428553,-0.066593900322914,-0.135294437408447,0.069867432117462,0.011242555454373,-0.115908160805702,0.175072416663170,0.019675342366099));
res += mul(Get(s1,0,0), float4x4(-0.034972645342350,0.034861393272877,-0.289528787136078,0.064017288386822,0.012403835542500,0.233180239796638,0.093759380280972,0.114159196615219,0.085875578224659,-0.059706870466471,0.105827018618584,0.140469148755074,0.218371257185936,-0.035304572433233,-0.108492121100426,-0.172659888863564));
res += mul(Get(s1,0,dy), float4x4(0.147723883390427,-0.042592696845531,0.163124248385429,-0.080764375627041,0.177251160144806,-0.009160066954792,0.075363494455814,-0.112035147845745,-0.156917884945869,-0.004887450952083,-0.087983749806881,0.109702348709106,-0.160215362906456,0.044057216495275,-0.078251108527184,-0.076442882418633));
res += mul(Get(s1,dx,-dy), float4x4(-0.325722932815552,0.013084325939417,-0.093955412507057,-0.039102774113417,0.115342162549496,0.002081340877339,-0.142420038580894,-0.003184588626027,-0.024214478209615,0.095838129520416,0.013720657676458,-0.033454984426498,0.125867933034897,0.064748756587505,0.057223334908485,-0.155950725078583));
res += mul(Get(s1,dx,0), float4x4(-0.033909428864717,-0.184547394514084,0.159600496292114,-0.056374128907919,-0.280946493148804,0.096011623740196,0.245577171444893,0.053865309804678,-0.174763023853302,-0.001185934292153,0.106991402804852,0.131770133972168,0.035073500126600,0.064913257956505,-0.006325062364340,-0.031863506883383));
res += mul(Get(s1,dx,dy), float4x4(-0.185476601123810,0.002941807033494,-0.013778383843601,0.098880544304848,0.153771936893463,0.214651599526405,0.043065298348665,0.042895499616861,0.102046251296997,-0.193754836916924,0.069386079907417,0.005454182159156,0.114758253097534,-0.065326429903507,-0.118710614740849,0.077438950538635));
res += mul(Get(s2,-dx,-dy), float4x4(0.096740804612637,-0.077072292566299,0.079038485884666,-0.034962389618158,-0.048376560211182,0.015634033828974,-0.091726899147034,-0.046016670763493,0.094054378569126,-0.017817931249738,-0.134258955717087,-0.029637997969985,0.160812214016914,-0.085559584200382,-0.035339679569006,-0.021420557051897));
res += mul(Get(s2,-dx,0), float4x4(-0.018005318939686,-0.115676574409008,-0.001680416986346,0.122855603694916,0.059683520346880,-0.026737987995148,0.042489297688007,0.083610408008099,-0.017219657078385,0.119104042649269,0.045618031173944,0.024720296263695,0.010718894191086,0.020330891013145,0.000243007496465,-0.112059324979782));
res += mul(Get(s2,-dx,dy), float4x4(-0.013366415165365,0.048800587654114,-0.028747133910656,0.015852380543947,-0.063720136880875,-0.095547415316105,0.105775602161884,0.054528292268515,-0.264640957117081,-0.128101691603661,0.103567920625210,-0.061651725322008,-0.029671857133508,0.098852418363094,0.073311410844326,-0.097055256366730));
res += mul(Get(s2,0,-dy), float4x4(-0.049712210893631,0.016696225851774,-0.028696451336145,-0.055248837918043,-0.063082821667194,0.014345227740705,-0.070243693888187,-0.194408401846886,-0.001187674584799,-0.170856341719627,0.041413038969040,0.236942529678345,-0.120091304183006,-0.011868292465806,-0.161758542060852,-0.130226895213127));
res += mul(Get(s2,0,0), float4x4(0.048437379300594,-0.227796480059624,0.076319530606270,-0.053128242492676,-0.112423449754715,-0.041841335594654,0.132653951644897,-0.068457394838333,0.093404524028301,0.182286426424980,0.199905946850777,-0.142146155238152,-0.109845608472824,-0.012952533550560,0.076543867588043,0.075549706816673));
res += mul(Get(s2,0,dy), float4x4(-0.008725078776479,0.105857595801353,-0.036938615143299,0.025187803432345,-0.155218899250031,-0.259000182151794,0.116511985659599,0.186452776193619,0.232483446598053,-0.029036389663815,0.048035737127066,-0.011130902916193,-0.201287269592285,-0.027885578572750,0.154794156551361,-0.088089711964130));
res += mul(Get(s2,dx,-dy), float4x4(0.260623872280121,-0.039894562214613,0.065823227167130,-0.093470841646194,0.175586834549904,0.040201809257269,-0.122676096856594,0.012188243679702,0.089181922376156,-0.114800818264484,0.047619756311178,0.045113857835531,0.155177161097527,0.176660090684891,-0.211674004793167,0.043730556964874));
res += mul(Get(s2,dx,0), float4x4(-0.062488529831171,0.013194745406508,0.036353472620249,0.017018126323819,-0.067330889403820,-0.031485963612795,-0.064924687147141,0.075718246400356,-0.092091217637062,-0.025479581207037,0.054374966770411,-0.095227375626564,-0.061375610530376,-0.026760598644614,-0.060590893030167,0.001045238692313));
res += mul(Get(s2,dx,dy), float4x4(0.019385548308492,-0.474537909030914,-0.141465976834297,0.002439999021590,0.008976259268820,-0.103203244507313,0.001984766684473,-0.064807906746864,-0.038095708936453,0.069907478988171,-0.021410722285509,0.077564239501953,0.278267562389374,-0.061851561069489,0.019405331462622,-0.144564703106880));
res += mul(Get(s3,-dx,-dy), float4x4(0.166799351572990,0.038560472428799,0.072564512491226,-0.105716384947300,-0.218923464417458,0.052507799118757,0.138599857687950,0.042631715536118,0.072755008935928,-0.036657910794020,0.224385678768158,-0.215533941984177,-0.029670758172870,-0.149986505508423,0.000421141245170,0.040638513863087));
res += mul(Get(s3,-dx,0), float4x4(-0.070751577615738,0.238107934594154,0.019476471468806,-0.015106494538486,0.161073148250580,-0.115014284849167,-0.066256932914257,0.011807027272880,0.302610725164413,-0.233998268842697,-0.137289762496948,-0.084901280701160,-0.051624752581120,-0.097913958132267,0.108863763511181,-0.098781965672970));
res += mul(Get(s3,-dx,dy), float4x4(-0.125862166285515,-0.043247133493423,0.008176586590707,0.061127863824368,-0.164113640785217,-0.112715214490891,0.099083751440048,-0.077705413103104,0.255343884229660,0.274144947528839,0.009910364635289,0.098981201648712,-0.155630245804787,0.066540978848934,0.057320870459080,-0.178578749299049));
res += mul(Get(s3,0,-dy), float4x4(0.101798169314861,0.143036752939224,0.160129129886627,0.255848705768585,-0.071479298174381,-0.049294646829367,0.019204881042242,-0.032932337373495,-0.116253502666950,0.194342091679573,0.074132941663265,0.151691794395447,0.104030415415764,-0.064152784645557,-0.075250834226608,0.104886904358864));
res += mul(Get(s3,0,0), float4x4(-0.014574509114027,0.111438177525997,-0.005308571271598,0.152343288064003,0.019136687740684,-0.186949670314789,-0.009857162833214,0.061609357595444,0.027844065800309,0.058156628161669,0.043074995279312,0.076910547912121,-0.014399254694581,-0.174230620265007,-0.108045570552349,-0.156013667583466));
res += mul(Get(s3,0,dy), float4x4(0.073325358331203,0.028882855549455,-0.137062996625900,0.230748161673546,0.042633347213268,0.194850251078606,-0.002926446264610,0.072539910674095,0.114236935973167,0.035398509353399,0.044863343238831,0.086568124592304,0.009438706561923,-0.087047256529331,0.032440174371004,-0.169933602213860));
res += mul(Get(s3,dx,-dy), float4x4(-0.078725062310696,-0.016650419682264,0.081131555140018,-0.289140403270721,-0.096895202994347,-0.069427654147148,0.019753143191338,0.151096001267433,0.102583751082420,-0.017229853197932,0.025910988450050,0.084556870162487,0.062841087579727,-0.134058073163033,-0.076674103736877,0.044664576649666));
res += mul(Get(s3,dx,0), float4x4(0.236952081322670,-0.257239431142807,0.098045535385609,0.002347159665078,0.053262844681740,-0.030737899243832,0.058593183755875,-0.035571131855249,0.113049633800983,0.034376382827759,-0.098533138632774,0.046233821660280,-0.211489856243134,-0.158989280462265,-0.056670308113098,0.015637511387467));
res += mul(Get(s3,dx,dy), float4x4(0.064319044351578,-0.097644910216331,-0.088431432843208,-0.109607823193073,0.010723175480962,0.062433514744043,-0.047301448881626,-0.061335001140833,0.280282527208328,0.152018338441849,0.129979833960533,-0.246664717793465,0.117751553654671,-0.246409177780151,0.030994793400168,0.037652559578419));
return max(float4(0,0,0,0), res);
}
