sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.263861507177353,0.368942111730576,0.749194979667664,-0.320503175258636,-0.011579996906221,-0.062921948730946,-0.263805866241455,0.012261685915291,0.033173743635416,-0.012317402288318,0.629014313220978,-0.130437836050987,-0.001626282697544,-0.001220372621901,0.003041535615921,0.011811732314527));
res += mul(Get(s0,-dx,0), float4x4(-0.225088834762573,0.301438599824905,0.731720387935638,-0.322219997644424,-0.221279308199883,-0.083896845579147,-0.182613655924797,0.388916522264481,-0.203662782907486,0.062387015670538,0.372569113969803,-0.233961090445518,-0.005093052517623,-0.002339965431020,-0.001184726832435,-0.000513184058946));
res += mul(Get(s0,-dx,dy), float4x4(-0.596276521682739,0.283426851034164,-0.306342154741287,0.302437245845795,0.120489582419395,-0.016528729349375,0.079598195850849,0.282083690166473,0.024545023217797,0.097675837576389,0.108345650136471,-0.132254034280777,0.001256596995518,-0.003606163430959,0.000342681858456,0.001456127502024));
res += mul(Get(s0,0,-dy), float4x4(0.445628553628922,-0.198420509696007,-0.294915586709976,-0.193020895123482,0.266482561826706,-0.072784289717674,-0.008597115054727,-0.110269762575626,0.188118085265160,-0.197248071432114,-0.128466650843620,0.064486168324947,0.010399309918284,0.005706360563636,0.007986752316356,-0.012003342621028));
res += mul(Get(s0,0,0), float4x4(0.156113401055336,-0.181058689951897,0.230027779936790,-0.425666183233261,-0.209049433469772,-0.144294336438179,0.284470438957214,-0.157019689679146,-0.124911047518253,-0.138716056942940,-0.358764350414276,-0.151421248912811,0.001111462945119,0.005549746565521,-0.000765671429690,-0.002739592920989));
res += mul(Get(s0,0,dy), float4x4(-0.323787122964859,-0.123686842620373,-0.050980426371098,0.180514171719551,-0.181342497467995,-0.082745447754860,0.001033339533024,-0.116340517997742,-0.033626370131969,-0.084270291030407,-0.266659498214722,-0.125448837876320,-0.018538326025009,-0.010754138231277,-0.003776110708714,-0.015071733854711));
res += mul(Get(s0,dx,-dy), float4x4(-0.070720240473747,-0.074129194021225,-0.824722766876221,0.267967820167542,0.182656824588776,0.058638580143452,-0.047135010361671,-0.137065947055817,0.110895968973637,-0.093195065855980,0.137445732951164,0.189616858959198,0.002254638820887,-0.001804189756513,0.011832609772682,-0.005212260875851));
res += mul(Get(s0,dx,0), float4x4(0.171191439032555,-0.145227864384651,-0.390241116285324,-0.008608613163233,-0.300771862268448,-0.016609471291304,0.161241844296455,-0.139297768473625,-0.089825838804245,-0.056769993156195,-0.245949164032936,-0.065932504832745,-0.004940343089402,-0.000307231966872,-0.001389196026139,-0.007638136390597));
res += mul(Get(s0,dx,dy), float4x4(0.174005433917046,-0.135296493768692,0.065895691514015,0.463260084390640,-0.343968331813812,-0.067453235387802,-0.205466404557228,-0.420190870761871,-0.164605870842934,-0.071903750300407,-0.189685627818108,0.295198887586594,0.001406987663358,-0.001180079299957,-0.005576977506280,-0.001977954758331));
res += mul(Get(s1,-dx,-dy), float4x4(-0.038666866719723,-0.063201278448105,-0.075228393077850,0.257807224988937,-0.018762825056911,0.035975128412247,-0.041725084185600,0.056563176214695,-0.077080406248569,-0.147591739892960,-0.045541886240244,-0.493469923734665,0.001339053153060,-0.000737015274353,-0.002411967609078,0.002148585394025));
res += mul(Get(s1,-dx,0), float4x4(0.024556538090110,0.041380073875189,0.218158662319183,0.495443999767303,-0.038264632225037,-0.018096927553415,0.032713234424591,0.166354626417160,0.041128318756819,-0.148280411958694,-0.052572552114725,-0.095719359815121,-0.001038406742737,-0.009567949920893,0.003743632230908,-0.004328450653702));
res += mul(Get(s1,-dx,dy), float4x4(0.074448198080063,0.134345725178719,-0.006379366386682,-0.236587569117546,0.023884287104011,-0.022481020539999,-0.025259235873818,-0.157354652881622,0.145763874053955,-0.061431143432856,0.089220710098743,-0.315260231494904,-0.002024676417932,0.001246856641956,0.005647674202919,0.018896536901593));
res += mul(Get(s1,0,-dy), float4x4(-0.269520163536072,-0.123530983924866,0.044394887983799,-0.201926454901695,-0.062726579606533,0.008297285065055,-0.064000770449638,-0.070791848003864,-0.033780731260777,-0.202792435884476,-0.201184943318367,-0.062418386340141,0.005558607634157,0.004227326717228,0.008448835462332,0.000947453663684));
res += mul(Get(s1,0,0), float4x4(-0.230101525783539,-0.054183632135391,-0.007663040421903,-0.003832706250250,-0.067067258059978,-0.057681340724230,0.011542077176273,-0.024555170908570,0.004584447480738,-0.127478390932083,-0.089467793703079,0.069119080901146,0.009838840924203,0.000357790588168,-0.010285892523825,0.004994799382985));
res += mul(Get(s1,0,dy), float4x4(-0.165536373853683,-0.005405545234680,-0.209785655140877,-0.018599517643452,0.010189174674451,-0.023467142134905,-0.069260925054550,-0.073160417377949,0.060016598552465,0.021464264020324,-0.091889038681984,0.002558452077210,0.019775846973062,0.011150626465678,0.006081309635192,0.004538793116808));
res += mul(Get(s1,dx,-dy), float4x4(-0.197170332074165,-0.093518920242786,0.068610005080700,-0.149455964565277,-0.090996012091637,0.014829300343990,-0.025326319038868,-0.043737463653088,0.076474748551846,-0.025692088529468,-0.189152419567108,-0.100566782057285,0.000167641366716,0.013058147393167,-0.005543000064790,-0.008232834748924));
res += mul(Get(s1,dx,0), float4x4(-0.106046259403229,-0.007301942445338,-0.077141873538494,-0.173070430755615,-0.119306661188602,-0.029625570401549,-0.037354096770287,-0.044438295066357,-0.084344998002052,0.050984010100365,-0.005515896715224,0.053688310086727,-0.008625663816929,0.005437553860247,0.011709078215063,-0.005250963848084));
res += mul(Get(s1,dx,dy), float4x4(0.039381723850965,0.039251696318388,0.044565390795469,0.231681570410728,-0.018254121765494,-0.001076931017451,-0.025893885642290,-0.101032741367817,-0.217007100582123,0.054236784577370,0.010536323301494,0.056945528835058,0.007565993349999,-0.005560778547078,0.007828679867089,0.009582739323378));
res += mul(Get(s2,-dx,-dy), float4x4(-0.345876544713974,-0.049374576658010,0.274023205041885,-0.430520832538605,-0.198831573128700,0.112813778221607,-0.227810665965080,-0.014158431440592,-0.004669500980526,0.001934654312208,0.001376179861836,-0.017332438379526,0.003029222134501,-0.001667307340540,0.003999008797109,0.003642737632617));
res += mul(Get(s2,-dx,0), float4x4(-0.537574827671051,-0.033063661307096,0.260534912347794,-0.039621151983738,-0.293062001466751,0.092279821634293,-0.409415930509567,0.204356417059898,0.000283971836325,0.001646517077461,-0.009943990968168,-0.012223898433149,-0.002308620372787,0.000614300312009,-0.010617855004966,-0.019942853599787));
res += mul(Get(s2,-dx,dy), float4x4(0.351894557476044,-0.065808840095997,-0.173882395029068,0.520850181579590,-0.058133382350206,0.067701466381550,-0.203076303005219,0.362001389265060,-0.007688997313380,0.008558267727494,-0.003693446516991,0.005940400529653,0.005925721023232,0.001281009754166,0.000276039034361,-0.026068976148963));
res += mul(Get(s2,0,-dy), float4x4(-0.438387602567673,-0.160793781280518,-0.221598476171494,-0.036662526428699,0.251842558383942,-0.043028071522713,-0.121355205774307,0.069271653890610,0.012207780964673,-0.006145711988211,0.007009518798441,-0.006945267319679,0.004474986810237,-0.008590414188802,0.007484718225896,0.019212720915675));
res += mul(Get(s2,0,0), float4x4(0.219361305236816,-0.013558736070991,-0.057147793471813,-0.120518885552883,-0.102811008691788,0.033819828182459,0.158181607723236,-0.096153154969215,0.006353043019772,-0.004448544234037,-0.000643795938231,0.000780301750638,-0.011127856560051,-0.014520437456667,0.012742123566568,-0.019656183198094));
res += mul(Get(s2,0,dy), float4x4(0.773051798343658,0.121642708778381,0.290037125349045,-0.010244322940707,-0.300488799810410,-0.034663610160351,-0.059254627674818,-0.044337734580040,-0.000713838904630,-0.009355213493109,-0.006959825288504,0.013029176741838,-0.002622824395075,-0.005424459464848,0.013433443382382,-0.048544898629189));
res += mul(Get(s2,dx,-dy), float4x4(-0.352371543645859,-0.138315498828888,-0.246893227100372,0.200651198625565,0.293987989425659,-0.134115770459175,0.090945363044739,-0.083458051085472,0.000251665274845,0.005927026737481,-0.004948755260557,0.008562481962144,0.005732912570238,-0.008894036523998,-0.001285478239879,0.036074940115213));
res += mul(Get(s2,dx,0), float4x4(0.130684792995453,0.108223333954811,-0.390479534864426,-0.030034339055419,-0.081880584359169,-0.003508421592414,0.148359790444374,0.048655062913895,-0.006138040684164,-0.000279748492176,-0.005291004665196,-0.000106771207356,0.011372344568372,-0.005402834154665,-0.011443470604718,0.000904359971173));
res += mul(Get(s2,dx,dy), float4x4(0.375849604606628,0.206761300563812,0.168226897716522,-0.112331070005894,-0.159557580947876,-0.120829634368420,-0.014577127993107,0.119093336164951,-0.005119267851114,-0.004443055018783,0.000656893767882,-0.002352863550186,0.008992413058877,-0.015537628903985,-0.000718803843483,-0.046028666198254));
res += mul(Get(s3,-dx,-dy), float4x4(0.061663523316383,-0.089708350598812,0.153001323342323,0.019254852086306,0.005523921921849,0.000224424555199,-0.007583604194224,0.003465177956969,-0.028899604454637,-0.261056929826736,0.124584585428238,-0.439643234014511,0.130029439926147,-0.033607888966799,0.009977073408663,0.049053892493248));
res += mul(Get(s3,-dx,0), float4x4(-0.093011051416397,-0.026896348223090,0.027440879493952,0.033767484128475,-0.004220589995384,-0.002537322929129,-0.005738672334701,0.002994739217684,0.054013460874557,-0.326766818761826,0.067580491304398,0.492508858442307,-0.157373353838921,-0.057548858225346,0.087750084698200,-0.169155359268188));
res += mul(Get(s3,-dx,dy), float4x4(-0.127440378069878,0.003141406457871,-0.078010685741901,0.024703836068511,-0.000766506360378,-0.004984966013581,-0.016576712951064,-0.006425905972719,0.203841507434845,-0.231415957212448,0.031613804399967,-0.306839853525162,0.106776647269726,-0.033023171126842,0.142313748598099,-0.159852206707001));
res += mul(Get(s3,0,-dy), float4x4(-0.240438953042030,-0.134940385818481,0.034166827797890,-0.032979872077703,-0.005198166705668,0.010493130423129,-0.003693353384733,0.003941694740206,0.004740912932903,-0.217728614807129,-0.324983119964600,-0.217533916234970,0.071366742253304,-0.084392175078392,-0.222575768828392,-0.164678558707237));
res += mul(Get(s3,0,0), float4x4(-0.232865184545517,-0.074549905955791,-0.185305193066597,-0.062055945396423,0.001658484921791,0.017873533070087,-0.009726916439831,-0.004066507797688,0.038115195930004,-0.343695849180222,-0.144493937492371,0.654170870780945,-0.155760273337364,-0.091402001678944,-0.144624948501587,0.017481768503785));
res += mul(Get(s3,0,dy), float4x4(-0.212423652410507,-0.059971667826176,-0.175630047917366,0.107354111969471,-0.002780541544780,-0.001969883218408,0.008894887752831,-0.011055967770517,-0.002922869054601,-0.177732929587364,-0.145910441875458,0.344371229410172,0.191506519913673,-0.097463518381119,0.073178902268410,-0.108503602445126));
res += mul(Get(s3,dx,-dy), float4x4(-0.153762489557266,0.111933819949627,0.048199798911810,0.127193763852119,0.003707985859364,-0.000045092012442,0.009633240289986,-0.008703184314072,0.406903713941574,0.348766416311264,-0.311172932386398,-0.120293579995632,0.035248175263405,-0.015512894839048,-0.076535284519196,-0.031162897124887));
res += mul(Get(s3,dx,0), float4x4(-0.168556824326515,0.021172864362597,-0.171344295144081,-0.082856893539429,-0.012410401366651,-0.001763071166351,-0.012022205628455,-0.013602549210191,-0.117452874779701,0.376384973526001,-0.275204092264175,0.001074848347344,-0.144703954458237,0.008120361715555,-0.022381311282516,0.163890048861504));
res += mul(Get(s3,dx,dy), float4x4(-0.170382052659988,-0.023863598704338,0.008145622909069,0.174015834927559,0.011156500317156,0.014667222276330,0.003945357166231,-0.000987442559563,-0.423310905694962,0.426802933216095,-0.011855950579047,-0.093257538974285,0.070076122879982,-0.005800149403512,0.001675082487054,0.023645479232073));
return max(float4(0,0,0,0), res);
}
