sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.059381779283285,-0.138920933008194,0.084270656108856,0.141575694084167,0.164089828729630,-0.158043995499611,0.043748416006565,0.264741867780685,0.258057832717896,0.110305212438107,0.331069946289063,-0.124105371534824,-0.104344472289085,0.015377383679152,0.042537786066532,0.219094753265381));
res += mul(Get(s0,-dx,0), float4x4(0.140364080667496,0.081983998417854,0.284309685230255,0.068397350609303,0.160575926303864,-0.058382604271173,0.185934782028198,0.129092335700989,0.039735998958349,-0.012935349717736,0.141323149204254,-0.090521268546581,-0.144616112112999,0.102648831903934,-0.141551911830902,0.151810541749001));
res += mul(Get(s0,-dx,dy), float4x4(-0.042134929448366,-0.045263417065144,-0.034575104713440,-0.028523882851005,0.058941047638655,-0.009267575107515,0.116604946553707,-0.091972053050995,0.076635308563709,-0.021208204329014,0.106474317610264,-0.017394505441189,-0.169681072235107,0.132517755031586,-0.291500180959702,-0.002448762068525));
res += mul(Get(s0,0,-dy), float4x4(-0.064045488834381,0.317881375551224,0.000012387223251,0.126490414142609,0.089199721813202,-0.071259044110775,-0.040726367384195,0.181243926286697,0.088863916695118,0.026893051341176,-0.102154858410358,-0.100105836987495,0.018785905092955,0.060373269021511,0.252991169691086,-0.003521238919348));
res += mul(Get(s0,0,0), float4x4(0.038062836974859,0.003279182361439,-0.077891066670418,0.004437446594238,0.108378566801548,0.100618973374367,0.164924636483192,-0.012813420034945,-0.005417090840638,0.080793909728527,-0.005153699778020,-0.116820819675922,-0.028226194903255,-0.092956505715847,-0.171726211905479,-0.032013785094023));
res += mul(Get(s0,0,dy), float4x4(0.060463279485703,-0.166394904255867,0.144607812166214,0.042953185737133,0.177805975079536,-0.059192322194576,0.060291245579720,0.097756341099739,-0.009067507460713,0.062138520181179,0.100886419415474,-0.001318630762398,-0.132854640483856,-0.035672899335623,-0.067471079528332,-0.035160429775715));
res += mul(Get(s0,dx,-dy), float4x4(0.004118837416172,0.343696564435959,0.095298863947392,-0.006488156504929,0.019601514562964,0.385099887847900,-0.076277211308479,0.122852124273777,0.103195898234844,0.125579252839088,0.031439814716578,-0.267748326063156,0.114658996462822,0.263218224048615,0.192104756832123,0.000367382279364));
res += mul(Get(s0,dx,0), float4x4(0.147022694349289,0.161577865481377,0.157494977116585,-0.007138947490603,-0.147897034883499,0.282020509243011,0.170003712177277,-0.030420998111367,-0.042220730334520,0.162042140960693,-0.221129328012466,-0.132142096757889,0.027717877179384,-0.007526044733822,0.082722902297974,0.100549034774303));
res += mul(Get(s0,dx,dy), float4x4(0.153901308774948,-0.154269561171532,0.007790733128786,0.014434278011322,-0.107598423957825,0.030499631538987,-0.020737735554576,-0.055292516946793,0.020186491310596,0.136691123247147,-0.102608658373356,-0.178560510277748,0.007403722964227,0.085790999233723,0.056930646300316,0.120211623609066));
res += mul(Get(s1,-dx,-dy), float4x4(0.035950299352407,-0.008580038323998,-0.076798170804977,0.139749869704247,-0.070486344397068,-0.261500060558319,0.062407970428467,-0.177482128143311,-0.124891005456448,0.104007244110107,0.063295006752014,-0.078964821994305,0.034035414457321,-0.080904185771942,-0.088822878897190,-0.176687240600586));
res += mul(Get(s1,-dx,0), float4x4(0.059791892766953,-0.021320620551705,0.307310432195663,0.037290960550308,0.119370460510254,-0.053468197584152,0.051772434264421,-0.183093622326851,-0.135511070489883,0.261614799499512,0.016945678740740,-0.050889268517494,-0.085831165313721,-0.047734994441271,-0.145802885293961,-0.201568499207497));
res += mul(Get(s1,-dx,dy), float4x4(0.106454022228718,0.028135433793068,0.028510652482510,-0.104380913078785,-0.020311987027526,-0.076065994799137,-0.255096018314362,-0.139161899685860,-0.040859039872885,-0.065169051289558,-0.170737758278847,-0.048120621591806,-0.135189428925514,0.115798331797123,0.197709903120995,0.032378081232309));
res += mul(Get(s1,0,-dy), float4x4(-0.107837729156017,0.106391929090023,-0.178505539894104,0.066457428038120,0.025778753682971,-0.044130623340607,-0.007111660670489,-0.093030743300915,-0.087075471878052,0.048099096864462,0.002957913558930,-0.150581508874893,0.157673776149750,-0.020100802183151,0.005680155009031,0.063072115182877));
res += mul(Get(s1,0,0), float4x4(-0.095339238643646,0.158779263496399,0.134661272168159,-0.033210899680853,-0.102746687829494,0.005795835517347,0.207717180252075,-0.166990786790848,-0.125899896025658,0.015051882714033,0.110109277069569,-0.051035549491644,0.058721460402012,0.003579721553251,0.121648319065571,0.062890075147152));
res += mul(Get(s1,0,dy), float4x4(-0.112173616886139,0.031924739480019,0.044522814452648,-0.136272653937340,0.195869281888008,-0.053555097430944,-0.437508970499039,-0.061273645609617,0.036131463944912,0.048161793500185,-0.040974937379360,0.057885542511940,-0.063083723187447,-0.027095563709736,0.043589554727077,-0.137644931674004));
res += mul(Get(s1,dx,-dy), float4x4(0.038372825831175,0.022446474060416,-0.215683192014694,0.063890971243382,0.133925586938858,0.104656033217907,0.044822245836258,-0.036038044840097,-0.056149039417505,-0.161529779434204,-0.096633099019527,-0.182730153203011,0.254665136337280,-0.162917509675026,-0.054143521934748,-0.044254560023546));
res += mul(Get(s1,dx,0), float4x4(0.058803625404835,0.021698966622353,0.303424865007401,0.006232359912246,-0.026330554857850,-0.068296752870083,-0.039831586182117,-0.068917267024517,-0.113025479018688,-0.117544181644917,0.005383705254644,-0.204533576965332,0.038904353976250,0.041011948138475,0.022836539894342,-0.014685896225274));
res += mul(Get(s1,dx,dy), float4x4(0.182694226503372,0.016816763207316,0.221771866083145,0.016584258526564,0.080054074525833,-0.113681890070438,-0.093148954212666,-0.076609522104263,-0.208475813269615,-0.069087617099285,-0.171385377645493,-0.109740272164345,-0.076905973255634,0.017105188220739,0.248052150011063,-0.137450039386749));
res += mul(Get(s2,-dx,-dy), float4x4(-0.068543367087841,0.045674998313189,0.133157506585121,0.114292003214359,-0.139836505055428,-0.053825579583645,-0.126383841037750,-0.015606892295182,-0.208408206701279,0.461411327123642,-0.227075353264809,-0.138560950756073,-0.181677415966988,0.114512383937836,0.098158203065395,0.150854736566544));
res += mul(Get(s2,-dx,0), float4x4(-0.030243387445807,-0.041300971060991,0.045340072363615,0.099525526165962,-0.032715056091547,-0.028471905738115,-0.056118361651897,0.019463149830699,-0.131171420216560,-0.092654317617416,-0.136072605848312,-0.107262298464775,-0.069656275212765,-0.007210852112621,0.188569232821465,0.125559002161026));
res += mul(Get(s2,-dx,dy), float4x4(0.250380516052246,0.071405179798603,0.120119914412498,0.071534901857376,0.052776493132114,-0.213055551052094,-0.097264327108860,0.054471138864756,0.119354136288166,-0.312643140554428,-0.133624106645584,0.068517647683620,-0.005752022843808,0.017454037442803,-0.186705633997917,0.180209591984749));
res += mul(Get(s2,0,-dy), float4x4(-0.075512871146202,0.051872167736292,0.033764407038689,0.003552678739652,-0.157267570495605,-0.088783130049706,-0.087574899196625,-0.047088786959648,-0.120226509869099,0.111507289111614,-0.209280818700790,-0.014444082975388,0.031441934406757,-0.017577685415745,0.136416018009186,-0.149866059422493));
res += mul(Get(s2,0,0), float4x4(-0.053545087575912,-0.097880676388741,-0.031051019206643,0.082169577479362,-0.153168603777885,0.091991938650608,0.057979319244623,-0.105181328952312,-0.066623888909817,-0.106592200696468,0.008430032059550,0.022453889250755,-0.081211932003498,-0.022803472355008,-0.037578608840704,-0.116210803389549));
res += mul(Get(s2,0,dy), float4x4(0.099738731980324,0.040481019765139,0.103713348507881,0.116893872618675,-0.104638732969761,-0.008747341111302,-0.094439096748829,-0.000042719668272,-0.003385914722458,-0.060016978532076,-0.067111127078533,0.028772745281458,-0.098978720605373,-0.048979509621859,0.034706123173237,-0.014034693129361));
res += mul(Get(s2,dx,-dy), float4x4(-0.038984421640635,-0.210307076573372,0.043141167610884,-0.049769394099712,-0.172009825706482,-0.298343837261200,0.088565148413181,-0.122522771358490,-0.069020077586174,-0.097693085670471,0.005602801684290,-0.037702180445194,0.245724678039551,-0.158633247017860,0.289042562246323,0.217292398214340));
res += mul(Get(s2,dx,0), float4x4(-0.015348885208368,-0.112942658364773,-0.068017512559891,-0.006290161516517,-0.123623356223106,-0.103282667696476,0.099956884980202,-0.158986479043961,-0.045049559324980,-0.013602239079773,0.035307303071022,-0.001491952687502,0.065227083861828,-0.049475904554129,0.125252529978752,0.025170529261231));
res += mul(Get(s2,dx,dy), float4x4(0.117218777537346,-0.042259257286787,-0.058056648820639,-0.039455216377974,-0.124217130243778,0.255527287721634,0.039592858403921,-0.205575391650200,-0.052806377410889,0.148634940385818,0.072795651853085,0.064774557948112,-0.104465313255787,-0.060034368187189,-0.070326484739780,-0.081018336117268));
res += mul(Get(s3,-dx,-dy), float4x4(-0.147823616862297,0.078116111457348,-0.131192445755005,-0.068171232938766,0.008954881690443,0.008061650209129,-0.129388496279716,0.136031404137611,0.051243547350168,0.029614694416523,-0.078233614563942,-0.075453124940395,-0.216418161988258,0.399801194667816,0.002010145923123,-0.206359133124352));
res += mul(Get(s3,-dx,0), float4x4(-0.017616737633944,0.033942505717278,0.119331926107407,-0.164387270808220,0.157038360834122,0.080121375620365,-0.043033298105001,0.033286593854427,-0.066633753478527,-0.068338572978973,-0.098729103803635,-0.025418667122722,-0.035559181123972,0.046208113431931,-0.039268013089895,-0.077132485806942));
res += mul(Get(s3,-dx,dy), float4x4(-0.134727135300636,-0.079394094645977,-0.069441914558411,-0.059542838484049,0.232567921280861,0.005814029835165,-0.046487011015415,0.036763567477465,-0.203548029065132,-0.187516465783119,-0.098293900489807,0.036520905792713,-0.033181909471750,0.135533094406128,-0.043465368449688,0.059818290174007));
res += mul(Get(s3,0,-dy), float4x4(-0.096624709665775,0.049085963517427,0.080386921763420,-0.121071130037308,-0.259114056825638,0.019810801371932,0.058205984532833,-0.053527768701315,0.226599216461182,-0.114582292735577,0.074032954871655,0.003478913800791,-0.034984640777111,-0.142080307006836,0.395960956811905,-0.102718040347099));
res += mul(Get(s3,0,0), float4x4(-0.008213740773499,0.162904307246208,-0.090594388544559,-0.078338563442230,0.135790556669235,0.077954389154911,-0.041673239320517,-0.038735218346119,0.078118890523911,-0.016964023932815,-0.074517861008644,-0.004237480927259,0.010031499899924,-0.191010519862175,-0.190011292695999,0.011961030773818));
res += mul(Get(s3,0,dy), float4x4(-0.130972474813461,-0.060057342052460,-0.057992517948151,-0.118964873254299,0.224308773875237,-0.062385845929384,-0.098350793123245,0.015477530658245,-0.010380263440311,0.009855635464191,0.070458769798279,-0.130170881748199,0.005277657415718,-0.154056236147881,-0.205458492040634,-0.002078092657030));
res += mul(Get(s3,dx,-dy), float4x4(-0.078543499112129,-0.263343840837479,-0.001276272581890,-0.072572201490402,0.015890266746283,-0.048051502555609,-0.039624113589525,0.388066887855530,0.038137327879667,-0.180866777896881,0.114853911101818,0.026964072138071,0.117775052785873,-0.208972141146660,0.345524162054062,-0.152718439698219));
res += mul(Get(s3,dx,0), float4x4(-0.052878621965647,-0.015948234125972,0.199306815862656,-0.139439404010773,0.064159154891968,0.065319225192070,-0.033955223858356,-0.010147229768336,-0.184640780091286,0.050787080079317,-0.009937804192305,-0.143675878643990,-0.078797698020935,-0.068135634064674,-0.090174302458763,-0.116066262125969));
res += mul(Get(s3,dx,dy), float4x4(-0.163983777165413,-0.057379454374313,-0.091888889670372,-0.148390918970108,0.201739475131035,-0.199477329850197,-0.213611587882042,0.058458417654037,-0.154019773006439,-0.001374156563543,0.131216570734978,-0.150715127587318,-0.120092362165451,-0.037559725344181,-0.256205260753632,-0.092967599630356));
return max(float4(0,0,0,0), res);
}
