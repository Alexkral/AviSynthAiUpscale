sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.094632461667061,-0.000421708537033,-0.076019890606403,0.013403946533799,-0.115475580096245,-0.079916633665562,0.026825716719031,-0.048771999776363,-0.048736140131950,-0.069643445312977,-0.008789962157607,0.071321621537209,-0.033997856080532,0.030512237921357,0.058003243058920,-0.008732617832720));
res += mul(Get(s0,-dx,0), float4x4(0.044224448502064,0.029400220140815,-0.063403367996216,-0.031288973987103,-0.174983605742455,-0.030179033055902,-0.070248059928417,-0.019793577492237,-0.060043804347515,0.067744195461273,0.114786669611931,0.001579108182341,0.048212323337793,-0.003526168642566,-0.017543060705066,0.024690682068467));
res += mul(Get(s0,-dx,dy), float4x4(0.103371225297451,-0.108406260609627,-0.070500813424587,0.020798025652766,0.123486809432507,-0.035837706178427,0.052094094455242,0.179381191730499,-0.038681525737047,0.002787693170831,-0.105867572128773,-0.087036468088627,-0.046901121735573,0.040391396731138,0.067808143794537,0.310901612043381));
res += mul(Get(s0,0,-dy), float4x4(0.231635063886642,0.015499584376812,0.010139076039195,0.104722760617733,-0.003121053101495,-0.051469620317221,0.030333459377289,0.086358070373535,0.184383988380432,0.113991931080818,0.059031598269939,0.085847593843937,0.013910645619035,-0.086497440934181,0.120331831276417,-0.048336740583181));
res += mul(Get(s0,0,0), float4x4(0.142307162284851,0.302393496036530,0.091503284871578,-0.009499350562692,-0.051175385713577,-0.145738765597343,0.077251061797142,-0.138854607939720,0.160964325070381,-0.043984774500132,-0.062932647764683,-0.020627368241549,0.066116496920586,0.055608164519072,-0.041796714067459,-0.208650529384613));
res += mul(Get(s0,0,dy), float4x4(0.108961254358292,0.165687635540962,0.130712389945984,-0.194403648376465,-0.010984608903527,-0.084841288626194,0.018318586051464,0.058825429528952,0.006039654836059,0.070557788014412,-0.099988594651222,0.145966291427612,-0.104507759213448,0.007939861156046,0.070737637579441,0.252336591482162));
res += mul(Get(s0,dx,-dy), float4x4(-0.077408276498318,-0.026815190911293,0.051209025084972,0.123709321022034,0.054095670580864,0.119842223823071,0.106086641550064,0.112449645996094,-0.098664179444313,-0.023794086650014,-0.041707430034876,0.019623424857855,-0.092207200825214,0.049996361136436,-0.081282719969749,-0.056920249015093));
res += mul(Get(s0,dx,0), float4x4(0.133573502302170,-0.040848616510630,-0.141628593206406,0.115407697856426,0.076275564730167,-0.044720824807882,-0.091923147439957,0.066151589155197,-0.131358057260513,0.113020136952400,-0.039354652166367,-0.020626213401556,0.157159358263016,-0.099374562501907,-0.095346815884113,-0.136141911149025));
res += mul(Get(s0,dx,dy), float4x4(-0.011316586285830,-0.010379172861576,-0.094155810773373,-0.128819510340691,-0.220753327012062,-0.081822268664837,0.090112954378128,0.062903501093388,0.076140306890011,0.030907515436411,-0.030986187979579,0.049083884805441,0.087338685989380,-0.028850853443146,-0.206898763775826,0.133304506540298));
res += mul(Get(s1,-dx,-dy), float4x4(0.034977480769157,-0.056938469409943,-0.013594600372016,0.017046388238668,-0.054110199213028,-0.193926796317101,-0.048905488103628,0.037811614573002,0.039338339120150,0.001005752361380,-0.058254495263100,-0.109942004084587,0.010482881218195,0.016992699354887,0.074122153222561,0.000371067842934));
res += mul(Get(s1,-dx,0), float4x4(-0.144813746213913,-0.048691578209400,0.063631825149059,-0.040158979594707,0.043807622045279,-0.127581343054771,0.107860609889030,0.059618070721626,-0.035681989043951,-0.011336385272443,-0.065357320010662,0.242673546075821,0.062793642282486,-0.127537414431572,0.105605192482471,-0.044635411351919));
res += mul(Get(s1,-dx,dy), float4x4(-0.137089475989342,0.152370288968086,0.030236838385463,0.035655912011862,0.014948323369026,-0.032591156661510,-0.076602280139923,0.059928812086582,0.036549590528011,-0.198195025324821,0.034741450101137,-0.062421031296253,-0.106262616813183,-0.079910129308701,-0.096524439752102,-0.083993189036846));
res += mul(Get(s1,0,-dy), float4x4(0.113112874329090,-0.033280633389950,0.005253040231764,-0.080247014760971,0.021544011309743,0.194245859980583,-0.090059332549572,0.062798969447613,0.007026522420347,0.085403092205524,-0.032593477517366,0.030903315171599,0.013549312949181,0.066477701067924,0.042291294783354,0.010535102337599));
res += mul(Get(s1,0,0), float4x4(0.103441543877125,0.016355663537979,-0.060413923114538,-0.279209822416306,0.245968952775002,0.110928408801556,0.122524611651897,-0.114114142954350,0.124945081770420,0.199579909443855,-0.102660082280636,0.033544857054949,0.162660449743271,0.065908856689930,-0.004908250179142,-0.043340295553207));
res += mul(Get(s1,0,dy), float4x4(0.095165103673935,-0.060479532927275,0.040964573621750,0.074665106832981,-0.016733711585402,0.003782424377277,0.060642786324024,-0.093053437769413,0.188278630375862,0.001795928110369,0.005262681748718,0.214155286550522,0.103660874068737,0.101072445511818,-0.039164867252111,0.092705518007278));
res += mul(Get(s1,dx,-dy), float4x4(0.147292390465736,-0.056787207722664,-0.034324191510677,0.039726220071316,0.113708868622780,0.098167896270752,-0.197500064969063,0.094872467219830,0.177426770329475,-0.231919452548027,0.022764336317778,-0.042376823723316,-0.149928271770477,-0.076314821839333,0.039701063185930,0.070801354944706));
res += mul(Get(s1,dx,0), float4x4(0.040518306195736,0.100052706897259,-0.063083589076996,0.034099891781807,-0.017753832042217,0.066312260925770,0.124838665127754,0.202323108911514,-0.022997276857495,-0.002267074538395,-0.087893575429916,0.021514425054193,0.088655948638916,-0.108206622302532,0.006601215805858,-0.027634387835860));
res += mul(Get(s1,dx,dy), float4x4(0.135527759790421,-0.006524543277919,0.140766844153404,0.054011035710573,-0.256405055522919,0.045530784875154,-0.104816772043705,0.052790284156799,0.086548700928688,0.064373768866062,0.000415050279116,0.076878875494003,-0.100346811115742,-0.010505976155400,-0.081002824008465,0.189031183719635));
res += mul(Get(s2,-dx,-dy), float4x4(0.016227416694164,-0.191617116332054,-0.067893877625465,-0.109038472175598,0.028883961960673,0.047588359564543,-0.062046363949776,0.000070662361395,0.002254078164697,-0.069600790739059,-0.160907059907913,-0.005404582712799,0.017296159639955,0.037582758814096,-0.049694757908583,0.113049902021885));
res += mul(Get(s2,-dx,0), float4x4(0.014796142466366,-0.020371001213789,-0.074597872793674,0.037407509982586,0.185426101088524,-0.040085654705763,-0.010227664373815,0.066090725362301,-0.014760437421501,-0.035245660692453,-0.151782780885696,0.062485493719578,0.008458605036139,0.044423352926970,-0.133648291230202,-0.023338053375483));
res += mul(Get(s2,-dx,dy), float4x4(0.045374576002359,0.028507526963949,-0.057577829807997,0.109717242419720,0.061619739979506,-0.105675093829632,0.138499572873116,0.072876468300819,-0.000174690198037,0.064626924693584,-0.087626598775387,-0.075086139142513,0.080289654433727,0.096543908119202,-0.085216902196407,-0.004579045809805));
res += mul(Get(s2,0,-dy), float4x4(-0.102351486682892,-0.000721190823242,-0.015964295715094,0.218521490693092,-0.145812034606934,-0.005258413497359,-0.114594854414463,0.133664026856422,0.103679575026035,-0.128925770521164,-0.186324208974838,0.009378932416439,0.053160622715950,-0.153314828872681,0.095326311886311,0.098691083490849));
res += mul(Get(s2,0,0), float4x4(0.083960853517056,-0.131308883428574,0.185734227299690,0.007705058902502,-0.020178386941552,0.056599263101816,0.092610627412796,-0.027031958103180,0.095628112554550,-0.106676489114761,-0.178360939025879,-0.022631866857409,0.071959517896175,-0.052800778299570,-0.053950052708387,-0.004483671858907));
res += mul(Get(s2,0,dy), float4x4(0.159823924303055,-0.107546128332615,-0.008470623753965,-0.153473004698753,-0.002267421688884,-0.061524640768766,-0.028639569878578,0.098979681730270,-0.012073227204382,-0.100890904664993,0.048253849148750,-0.022791406139731,0.123355932533741,0.062119081616402,0.039346877485514,0.293929994106293));
res += mul(Get(s2,dx,-dy), float4x4(0.130263581871986,0.016293415799737,0.016264714300632,0.032397750765085,0.153433650732040,-0.036571346223354,-0.043314162641764,-0.011561186984181,0.040623642504215,-0.008053245022893,0.060855582356453,-0.013089765794575,0.125767484307289,-0.045110862702131,0.061366267502308,0.028062310069799));
res += mul(Get(s2,dx,0), float4x4(0.089128226041794,0.160943403840065,0.030921708792448,0.010574163869023,0.016166877001524,0.134600311517715,-0.059520520269871,-0.031678888946772,0.096383027732372,0.072838887572289,0.015900900587440,0.025058986619115,-0.085082404315472,-0.015215189196169,-0.036831770092249,0.084932848811150));
res += mul(Get(s2,dx,dy), float4x4(-0.127712145447731,0.041685950011015,-0.118023715913296,-0.013057316653430,-0.031373638659716,-0.083992302417755,0.004888915922493,0.046368684619665,-0.069175966084003,-0.155181214213371,-0.056410182267427,0.061469286680222,0.043186120688915,-0.180697068572044,-0.055144593119621,0.165759712457657));
res += mul(Get(s3,-dx,-dy), float4x4(0.113508455455303,0.045774359256029,0.040019776672125,-0.055553708225489,-0.059445504099131,0.046973176300526,0.064243830740452,0.013600267469883,-0.032275326550007,0.071412473917007,0.092512212693691,0.064905829727650,0.091447047889233,0.067091375589371,0.019312424585223,-0.050303734838963));
res += mul(Get(s3,-dx,0), float4x4(0.063472628593445,0.014887662604451,0.141172260046005,-0.070334203541279,0.131046310067177,-0.027839109301567,-0.131125211715698,-0.132495492696762,0.048008676618338,-0.160293400287628,0.085692018270493,0.075654968619347,0.007224052213132,0.114385597407818,-0.067862957715988,0.119540333747864));
res += mul(Get(s3,-dx,dy), float4x4(-0.029897492378950,0.033906597644091,0.033741094172001,0.108865045011044,0.024244494736195,0.019986882805824,0.132686465978622,0.026817882433534,-0.038565721362829,-0.011691560037434,-0.055994730442762,-0.000541706976946,0.107452355325222,0.088460028171539,-0.119217909872532,0.037736598402262));
res += mul(Get(s3,0,-dy), float4x4(0.060795471072197,0.107031390070915,0.103352382779121,0.073228746652603,-0.041045371443033,-0.047928765416145,-0.074794635176659,0.231089368462563,0.155341327190399,-0.068506166338921,-0.060805272310972,-0.052622601389885,0.044679936021566,-0.037974171340466,-0.052156448364258,0.014870275743306));
res += mul(Get(s3,0,0), float4x4(0.062541127204895,-0.012510223314166,-0.157084316015244,0.019776964560151,0.044410210102797,-0.002254277002066,0.059399515390396,-0.072367519140244,-0.006743145640939,-0.116540558636189,-0.040368881076574,0.140636652708054,-0.162730529904366,-0.047907244414091,0.035443812608719,0.015558320097625));
res += mul(Get(s3,0,dy), float4x4(0.100170932710171,-0.062370695173740,0.117982730269432,0.045698679983616,0.052090395241976,-0.019301988184452,-0.075175009667873,0.129532143473625,-0.074628517031670,-0.112862020730972,-0.041542489081621,0.121031023561954,-0.128859117627144,0.024636978283525,-0.029090488329530,-0.092015489935875));
res += mul(Get(s3,dx,-dy), float4x4(0.070922046899796,-0.056516285985708,0.076190114021301,0.249780908226967,0.003094529267401,-0.104613222181797,-0.003827668260783,0.003658061148599,0.159138351678848,0.002621205523610,-0.017859989777207,-0.000121942059195,0.203642040491104,0.025593804195523,-0.069863758981228,-0.021817117929459));
res += mul(Get(s3,dx,0), float4x4(-0.061836887151003,0.061061777174473,0.058060534298420,-0.031603232026100,-0.023225959390402,-0.085929155349731,-0.055613353848457,0.067871980369091,-0.076404690742493,-0.012821753509343,-0.166593208909035,0.121051855385303,-0.001280617434531,0.002570521086454,0.130650669336319,0.187687039375305));
res += mul(Get(s3,dx,dy), float4x4(-0.043686695396900,-0.107350803911686,-0.131533652544022,0.010277833789587,-0.025118343532085,-0.023915316909552,-0.086559146642685,0.102641291916370,-0.077279329299927,-0.040180768817663,-0.071943625807762,-0.070637501776218,-0.022663252428174,-0.031491369009018,0.104860961437225,-0.118857182562351));
return max(float4(0,0,0,0), res);
}
