sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.009007665328681,0.049468897283077,-0.031179608777165,-0.010160582140088,-0.018305871635675,-0.102925680577755,0.045237503945827,0.035506874322891,-0.089180268347263,-0.004780482035130,-0.053464870899916,-0.138273701071739,0.037372022867203,0.069211453199387,0.051056504249573,0.112525895237923));
res += mul(Get(s0,-dx,0), float4x4(-0.150319576263428,-0.044026341289282,-0.040591523051262,0.237177550792694,0.007304627448320,-0.151487782597542,0.091415457427502,0.013125312514603,-0.069712311029434,-0.052332770079374,0.054373569786549,-0.119375690817833,0.143085688352585,0.041408415883780,0.156170696020126,0.054879888892174));
res += mul(Get(s0,-dx,dy), float4x4(0.040935400873423,0.050331283360720,-0.090782798826694,-0.027369793504477,0.162405923008919,-0.130286648869514,-0.101084381341934,0.025242626667023,0.057610992342234,-0.054374888539314,0.159628257155418,-0.036386962980032,-0.139061182737350,0.092205241322517,0.038731917738914,0.035652354359627));
res += mul(Get(s0,0,-dy), float4x4(-0.022587008774281,-0.030536381527781,-0.025210948660970,-0.072461351752281,0.001997453859076,0.035169124603271,0.040200281888247,0.059244461357594,-0.058665342628956,-0.019019220024347,-0.008294674567878,0.073247052729130,-0.069777779281139,0.099487580358982,-0.059134244918823,0.173568382859230));
res += mul(Get(s0,0,0), float4x4(0.032860428094864,-0.112690672278404,0.040375657379627,0.161442086100578,-0.012995122000575,0.102315813302994,-0.111498713493347,-0.083317011594772,-0.125239312648773,0.011513476260006,0.062724284827709,0.020705521106720,0.152527049183846,0.055387128144503,0.088677071034908,0.119791753590107));
res += mul(Get(s0,0,dy), float4x4(0.165884628891945,0.007975960150361,0.027573956176639,0.033563699573278,0.121231012046337,-0.144141018390656,-0.025484375655651,-0.121968552470207,-0.003437775885686,0.005054104141891,0.056923456490040,0.062372867017984,0.000012390744814,0.124610051512718,-0.019657434895635,0.162913560867310));
res += mul(Get(s0,dx,-dy), float4x4(0.118805579841137,0.011395835317671,0.055115878582001,-0.003157045226544,-0.010402933694422,-0.039313089102507,-0.022638481110334,-0.017197264358401,-0.043273784220219,-0.025927565991879,-0.027827335521579,-0.040828108787537,-0.023159805685282,-0.000763191492297,-0.004439939279109,-0.023581728339195));
res += mul(Get(s0,dx,0), float4x4(0.047199092805386,0.010961799882352,0.043103557080030,0.023625917732716,0.006950736045837,-0.051881734281778,-0.110936261713505,-0.141552582383156,-0.083128169178963,0.035858709365129,0.030537839978933,-0.020115900784731,0.028028044849634,-0.055884677916765,0.100837253034115,-0.049218576401472));
res += mul(Get(s0,dx,dy), float4x4(0.050983216613531,-0.121011391282082,0.329865217208862,-0.169395133852959,-0.037564121186733,-0.179235920310020,-0.251681357622147,-0.199522748589516,0.003252642694861,0.008289871737361,0.035427164286375,0.034621685743332,0.154217079281807,-0.113160483539104,-0.086419999599457,-0.071413964033127));
res += mul(Get(s1,-dx,-dy), float4x4(-0.078112594783306,-0.002463530749083,0.110321506857872,-0.021858956664801,-0.016387645155191,-0.115317076444626,-0.003449287731200,-0.002664082683623,0.094286806881428,0.038686428219080,-0.087519913911819,0.077988952398300,-0.063128836452961,-0.070103541016579,-0.040788251906633,-0.134895056486130));
res += mul(Get(s1,-dx,0), float4x4(-0.034693077206612,0.002947788452730,0.014024711214006,0.062318403273821,-0.058995746076107,0.076211325824261,0.026087956503034,-0.053736642003059,-0.029062826186419,-0.012745288200676,0.047090627253056,0.051754634827375,0.000575250713155,-0.035070762038231,-0.018981205299497,0.074467651546001));
res += mul(Get(s1,-dx,dy), float4x4(-0.024991376325488,-0.079023778438568,-0.019349066540599,0.121518671512604,-0.114130586385727,-0.023769734427333,0.026227464899421,0.076576776802540,-0.023390736430883,0.157436326146126,-0.040329329669476,0.070025533437729,-0.111139245331287,-0.053679972887039,-0.038111925125122,-0.144387319684029));
res += mul(Get(s1,0,-dy), float4x4(-0.025656465440989,0.082553997635841,0.078919775784016,0.045476641505957,0.175093233585358,0.058336347341537,0.135489672422409,0.066952601075172,0.007276999298483,0.011182819493115,-0.074152886867523,-0.069803088903427,-0.007581857964396,-0.107725888490677,0.129993170499802,-0.091935507953167));
res += mul(Get(s1,0,0), float4x4(-0.153652563691139,-0.019994908943772,0.068254910409451,0.011498388834298,0.146553441882133,0.068402096629143,0.034536246210337,0.135978743433952,0.009736252948642,0.040924087166786,0.063564643263817,-0.102626100182533,0.036789901554585,-0.004740522708744,0.039804629981518,-0.035524353384972));
res += mul(Get(s1,0,dy), float4x4(-0.236368328332901,0.006009377073497,-0.093095704913139,-0.095686510205269,-0.122348003089428,-0.006289702840149,0.056389875710011,0.099223285913467,0.116927139461040,0.027029039338231,0.207206413149834,-0.097627423703671,-0.068048037588596,0.037949491292238,-0.098504357039928,-0.036148350685835));
res += mul(Get(s1,dx,-dy), float4x4(0.125686898827553,0.128363996744156,-0.066835813224316,0.056410718709230,-0.086503133177757,0.087199464440346,-0.120800264179707,-0.018048411235213,-0.003051616018638,-0.054085917770863,0.021966082975268,0.077502392232418,0.051822185516357,0.009342766366899,-0.187250629067421,0.038463044911623));
res += mul(Get(s1,dx,0), float4x4(0.134523108601570,0.081963576376438,0.088958628475666,0.044170700013638,-0.011625493876636,0.055041503161192,-0.189341619610786,0.018700299784541,-0.007600969169289,-0.131225168704987,0.016626430675387,-0.121218055486679,-0.008583387359977,0.114687040448189,-0.095508322119713,0.048970002681017));
res += mul(Get(s1,dx,dy), float4x4(0.008676960133016,-0.022105697542429,-0.043975178152323,-0.038471035659313,-0.034521091729403,-0.071826912462711,0.018853886052966,0.098943054676056,-0.061314444988966,-0.110600687563419,-0.221502915024757,-0.158886343240738,-0.128180593252182,0.025646848604083,-0.191449269652367,-0.045735128223896));
res += mul(Get(s2,-dx,-dy), float4x4(-0.071555010974407,-0.034315530210733,0.073424108326435,-0.036154855042696,0.181456089019775,0.020283639431000,0.013089294545352,-0.059496905654669,-0.065407000482082,-0.091207563877106,-0.040433194488287,-0.006825455464423,-0.033274870365858,-0.128885209560394,-0.091643080115318,0.086005002260208));
res += mul(Get(s2,-dx,0), float4x4(0.022158609703183,-0.025138508528471,0.046967290341854,0.033894255757332,0.029966896399856,0.108660936355591,-0.084529578685760,-0.032479915767908,-0.030370134860277,-0.070191927254200,0.146879017353058,-0.029823031276464,0.054713241755962,-0.110612578690052,-0.021888287737966,0.000017654097974));
res += mul(Get(s2,-dx,dy), float4x4(-0.115771673619747,-0.003804939100519,-0.019997349008918,0.275322496891022,0.129379883408546,-0.065995790064335,-0.095079131424427,-0.132356733083725,-0.065026804804802,-0.015978606417775,0.058024302124977,-0.065188862383366,0.009278698824346,-0.097594842314720,-0.138119414448738,0.020969562232494));
res += mul(Get(s2,0,-dy), float4x4(-0.121723026037216,0.017736135050654,0.005138239357620,0.035281453281641,-0.026671286672354,0.048928428441286,-0.063165679574013,-0.129367142915726,-0.009556718170643,-0.122624948620796,0.090422309935093,0.207951575517654,-0.141487941145897,0.380154550075531,0.070591703057289,0.081551477313042));
res += mul(Get(s2,0,0), float4x4(0.104454532265663,0.003402228467166,0.014674736186862,0.082949548959732,-0.008221264928579,0.001417647581547,-0.021131798624992,-0.078083194792271,-0.053922470659018,0.004896316677332,0.214082702994347,0.079067312180996,-0.052370477467775,0.109174773097038,0.115956306457520,-0.158433824777603));
res += mul(Get(s2,0,dy), float4x4(-0.065356291830540,0.047703042626381,-0.066595941781998,0.089973554015160,-0.033900544047356,-0.028903711587191,0.010070587508380,-0.080234758555889,-0.060427587479353,-0.013346281833947,-0.090381935238838,0.043704774230719,0.042728435248137,-0.103752084076405,0.044583179056644,-0.050613831728697));
res += mul(Get(s2,dx,-dy), float4x4(-0.025866646319628,0.112949997186661,0.033965881913900,0.081163495779037,-0.007204032968730,-0.038641780614853,0.125347375869751,-0.126674816012383,-0.035591203719378,0.071127869188786,0.155016154050827,0.048827372491360,0.104886397719383,0.153131932020187,0.075577996671200,0.057537171989679));
res += mul(Get(s2,dx,0), float4x4(0.084833458065987,0.107904024422169,-0.026045598089695,0.030159682035446,-0.042842678725719,-0.023297736421227,0.022574640810490,-0.151738181710243,-0.091337330639362,0.060868766158819,-0.021884040907025,-0.017471184954047,-0.003866947721690,-0.005519858095795,0.047409214079380,-0.025039501488209));
res += mul(Get(s2,dx,dy), float4x4(-0.069091454148293,0.031910397112370,-0.097891062498093,0.062627419829369,0.016416138038039,-0.110610835254192,0.086805410683155,-0.123304419219494,-0.168292224407196,-0.005091190338135,-0.142871007323265,-0.018553765490651,0.143212065100670,-0.076430380344391,-0.014046098105609,-0.012465015053749));
res += mul(Get(s3,-dx,-dy), float4x4(-0.025930371135473,-0.125779479742050,0.094503037631512,0.064880140125751,-0.072311624884605,0.228544861078262,0.064412452280521,-0.013656795024872,0.205975636839867,-0.142256453633308,-0.024833239614964,-0.076030783355236,0.125800162553787,0.099519848823547,0.162312507629395,-0.047099664807320));
res += mul(Get(s3,-dx,0), float4x4(-0.046083442866802,-0.202271640300751,0.089434601366520,0.119768165051937,-0.047942258417606,0.011067134328187,0.052412137389183,-0.189658135175705,0.128453969955444,-0.079141102731228,-0.014035895466805,0.104081921279430,-0.012705656699836,-0.026999529451132,0.084168322384357,-0.082827143371105));
res += mul(Get(s3,-dx,dy), float4x4(0.028461525216699,0.049388598650694,0.014429222792387,0.061957862228155,-0.112597942352295,0.057762764394283,0.064488157629967,0.075828514993191,0.304257720708847,-0.111291132867336,-0.006167151033878,-0.129016280174255,0.089000120759010,-0.008120885118842,0.137486115098000,-0.107667222619057));
res += mul(Get(s3,0,-dy), float4x4(0.000251335557550,0.011986232362688,0.104699499905109,0.116384752094746,-0.052835147827864,-0.001415753620677,0.061906553804874,-0.066375091671944,0.006153878755867,0.266933262348175,-0.024433629587293,-0.121660120785236,-0.014004071243107,0.007079794071615,-0.071296833455563,-0.023421451449394));
res += mul(Get(s3,0,0), float4x4(-0.078275196254253,0.026325821876526,0.088515639305115,0.046425286680460,-0.059747591614723,0.056832119822502,-0.020236449316144,0.025556847453117,-0.100018173456192,0.038025941699743,-0.131624504923820,0.086943194270134,-0.011948398314416,-0.093771167099476,0.027170104905963,0.005367970559746));
res += mul(Get(s3,0,dy), float4x4(-0.121302023530006,0.098020620644093,-0.065686002373695,-0.056040424853563,-0.091596476733685,0.154148101806641,-0.042761120945215,0.058194912970066,0.079619094729424,-0.020528806373477,-0.051573120057583,-0.153292730450630,0.015727439895272,-0.135904952883720,0.176644027233124,0.019040469080210));
res += mul(Get(s3,dx,-dy), float4x4(0.040242861956358,0.026749150827527,-0.036943189799786,0.366377145051956,-0.044875562191010,-0.045370280742645,0.033738076686859,-0.050337746739388,0.107261523604393,0.023488359525800,-0.015319203957915,-0.143019825220108,0.194170936942101,0.062195494771004,-0.040049150586128,0.067587949335575));
res += mul(Get(s3,dx,0), float4x4(-0.048895549029112,-0.081078432500362,-0.035705670714378,-0.021218227222562,0.023997595533729,-0.020773448050022,-0.042784661054611,0.211566373705864,-0.072524160146713,-0.036038979887962,-0.139210596680641,0.163989558815956,0.051921743899584,0.013234315440059,0.015102664008737,-0.012695639394224));
res += mul(Get(s3,dx,dy), float4x4(-0.223117262125015,-0.002330513205379,-0.080588810145855,-0.061733998358250,-0.026372920721769,0.039803132414818,-0.118349544703960,-0.021763432770967,0.262409836053848,-0.026521602645516,-0.156373575329781,-0.066281639039516,0.225320324301720,-0.014541989192367,0.058235913515091,-0.028423359617591));
return max(float4(0,0,0,0), res);
}
