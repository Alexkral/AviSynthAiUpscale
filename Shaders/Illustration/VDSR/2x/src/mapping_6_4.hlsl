sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.092049703001976,0.019326195120811,-0.071633309125900,0.072920568287373,0.072021149098873,-0.143242508172989,-0.064067937433720,0.155501261353493,-0.083278469741344,-0.015253379940987,-0.029037907719612,0.075823754072189,0.075111955404282,-0.057401265949011,-0.105623565614223,-0.006003656424582));
res += mul(Get(s0,-dx,0), float4x4(0.064881585538387,0.126783668994904,0.079618044197559,-0.005273520946503,0.092276982963085,0.009160241112113,0.055168427526951,0.031503483653069,0.003448692150414,0.149209365248680,0.092710889875889,-0.088101342320442,-0.104830898344517,-0.045020300894976,-0.007073455024511,-0.027632925659418));
res += mul(Get(s0,-dx,dy), float4x4(0.067470505833626,0.066297300159931,0.032401144504547,-0.013374733738601,-0.018086994066834,0.219233259558678,-0.050977900624275,-0.174048453569412,0.052796054631472,0.021417424082756,-0.002467034617439,-0.127543658018112,0.005976423155516,0.082434520125389,0.123264990746975,0.126402527093887));
res += mul(Get(s0,0,-dy), float4x4(-0.092848122119904,0.039738629013300,0.068138666450977,0.029412141069770,-0.062677539885044,-0.085208028554916,0.104311741888523,-0.158404409885406,0.068050183355808,-0.034684754908085,0.045279942452908,0.012707586400211,-0.024416705593467,0.002470955019817,-0.003055012086406,-0.082689337432384));
res += mul(Get(s0,0,0), float4x4(0.045192640274763,0.078871034085751,0.070199735462666,0.026270957663655,0.033922780305147,-0.162837207317352,-0.090894199907780,0.090332679450512,-0.112177357077599,-0.130805298686028,-0.114751793444157,0.235877558588982,0.068849325180054,0.017681885510683,-0.100695103406906,0.228769958019257));
res += mul(Get(s0,0,dy), float4x4(0.111006729304790,0.041726578027010,0.167625829577446,-0.043568391352892,-0.047114595770836,0.032199859619141,-0.035115655511618,-0.055816728621721,-0.058917470276356,-0.051547288894653,0.110050879418850,-0.028125142678618,0.137853145599365,0.015594003722072,0.084396414458752,0.000784758361988));
res += mul(Get(s0,dx,-dy), float4x4(0.078638345003128,0.045776188373566,-0.082285150885582,0.123923763632774,0.006300818640739,-0.101045571267605,-0.073773220181465,-0.004440139047801,-0.129220157861710,0.204328253865242,0.023271182551980,-0.187694549560547,-0.023122886195779,-0.012717758305371,-0.011577884666622,-0.094987355172634));
res += mul(Get(s0,dx,0), float4x4(-0.022068832069635,0.102962270379066,0.077985383570194,0.101026445627213,-0.107850439846516,0.054728053510189,-0.111840561032295,0.077727645635605,0.091180212795734,0.079708993434906,-0.003624592907727,0.210777804255486,0.123523995280266,-0.163189619779587,0.079379715025425,-0.128473505377769));
res += mul(Get(s0,dx,dy), float4x4(0.074535250663757,0.006828296463937,0.024216411635280,-0.003870138665661,-0.035942442715168,0.094758890569210,0.014741792343557,0.119989395141602,-0.129022166132927,-0.032257236540318,-0.095223262906075,0.027413418516517,-0.140070259571075,0.132347658276558,-0.055155023932457,-0.003257097909227));
res += mul(Get(s1,-dx,-dy), float4x4(-0.115742839872837,-0.054183155298233,0.076484151184559,0.005825586616993,-0.150699377059937,0.063986331224442,0.128553748130798,-0.052251555025578,-0.185243397951126,0.095923453569412,0.105732306838036,0.069468468427658,0.037250183522701,0.046566173434258,0.028488699346781,-0.027428967878222));
res += mul(Get(s1,-dx,0), float4x4(0.055074058473110,-0.222356125712395,-0.129926159977913,-0.075258933007717,-0.026127062737942,-0.140471413731575,0.165602996945381,-0.181130066514015,-0.101974889636040,-0.050773516297340,-0.134188324213028,0.005129819735885,-0.012928144074976,0.140741944313049,-0.080651275813580,-0.081263169646263));
res += mul(Get(s1,-dx,dy), float4x4(0.081382617354393,-0.104355685412884,-0.085045255720615,-0.094061061739922,0.169365867972374,-0.159595876932144,0.224418312311172,-0.104583799839020,0.062702953815460,0.177950337529182,0.069639630615711,-0.025537483394146,-0.105550967156887,-0.128584071993828,-0.113949246704578,-0.147046580910683));
res += mul(Get(s1,0,-dy), float4x4(-0.000949022127315,0.126512572169304,0.063684284687042,0.075844183564186,-0.043433286249638,0.055500261485577,0.049229990690947,0.107962168753147,-0.113723039627075,0.175578668713570,-0.156957745552063,-0.016011988744140,-0.319449096918106,0.208906069397926,0.058904428035021,0.029745539650321));
res += mul(Get(s1,0,0), float4x4(-0.182510167360306,-0.028299320489168,0.037482965737581,-0.117247931659222,-0.078535512089729,-0.120940506458282,-0.038216624408960,0.129052862524986,-0.006207664497197,0.182795628905296,-0.057379502803087,-0.124176003038883,-0.108360648155212,-0.012493614107370,0.269295960664749,0.021857462823391));
res += mul(Get(s1,0,dy), float4x4(0.113609239459038,-0.136603236198425,0.187872424721718,0.025136483833194,0.054144386202097,-0.129253327846527,-0.122499644756317,-0.086100555956364,-0.119665361940861,-0.006656053010374,0.000933697505388,0.019734857603908,0.049592521041632,-0.200430572032928,0.093422859907150,0.257950514554977));
res += mul(Get(s1,dx,-dy), float4x4(0.085675485432148,0.006649956107140,0.023359911516309,-0.000691463996191,-0.111445270478725,-0.059972155839205,-0.071230903267860,0.060481488704681,-0.077586732804775,-0.040801052004099,-0.102502778172493,0.102180987596512,0.131225451827049,0.050190605223179,0.009406750090420,-0.083970770239830));
res += mul(Get(s1,dx,0), float4x4(-0.025151785463095,-0.010151096619666,-0.027287317439914,0.024845814332366,-0.109677806496620,-0.195481285452843,-0.105018690228462,-0.090034395456314,-0.124865129590034,0.112451143562794,0.148813813924789,-0.092903412878513,0.028572157025337,-0.014299423433840,0.007947150617838,0.007020269986242));
res += mul(Get(s1,dx,dy), float4x4(0.004944931715727,-0.014755631797016,0.102492608129978,-0.155231088399887,-0.093388073146343,-0.090257577598095,-0.011966708116233,-0.165272444486618,0.084179110825062,-0.057270456105471,-0.031822554767132,0.007817933335900,-0.008146871812642,-0.089889384806156,0.053182695060968,-0.021882578730583));
res += mul(Get(s2,-dx,-dy), float4x4(0.051261749118567,-0.094999805092812,0.132504567503929,-0.063514187932014,-0.000578448933084,-0.069952636957169,0.076500587165356,-0.147496059536934,-0.063536524772644,0.093010604381561,0.005922039505094,-0.109427765011787,0.122535683214664,-0.023719986900687,-0.203656837344170,-0.234862446784973));
res += mul(Get(s2,-dx,0), float4x4(-0.161878213286400,0.059207942336798,-0.031804244965315,-0.080533266067505,0.044954016804695,0.050851117819548,0.129384383559227,-0.041190106421709,-0.109480500221252,-0.174391821026802,-0.060727555304766,0.137795358896255,-0.037786379456520,0.090904980897903,0.106198482215405,-0.007901480421424));
res += mul(Get(s2,-dx,dy), float4x4(0.103070788085461,-0.073927611112595,0.013707741163671,-0.098361715674400,0.209942281246185,0.044837094843388,0.060380034148693,0.018699448555708,0.114598840475082,-0.335796833038330,-0.130722790956497,-0.012678926810622,0.105733282864094,-0.145623683929443,-0.041863005608320,-0.018999412655830));
res += mul(Get(s2,0,-dy), float4x4(0.017020979896188,-0.054943684488535,-0.081524178385735,0.098392210900784,-0.222935736179352,0.074128583073616,0.076078280806541,-0.055511720478535,-0.028710883110762,0.084274038672447,-0.083673804998398,-0.032744016498327,0.129909619688988,-0.142416626214981,0.027112575247884,0.046026449650526));
res += mul(Get(s2,0,0), float4x4(-0.083349473774433,0.013877702876925,-0.009660777635872,-0.057339172810316,0.077870398759842,-0.056800246238708,0.050257965922356,0.029498396441340,-0.121872492134571,0.232326716184616,-0.011828988790512,-0.008974350057542,0.050002962350845,-0.319068580865860,0.003085846779868,-0.033056616783142));
res += mul(Get(s2,0,dy), float4x4(-0.001758983707987,-0.134308904409409,0.077141441404819,-0.096064887940884,-0.098536677658558,0.206947028636932,0.049061682075262,0.198509946465492,0.109783649444580,-0.109705664217472,-0.102502055466175,0.126106470823288,0.119518376886845,-0.008722192607820,-0.088269479572773,0.068034261465073));
res += mul(Get(s2,dx,-dy), float4x4(0.006695807445794,0.087176039814949,0.040979493409395,-0.015758978202939,0.000600934145041,-0.076597936451435,-0.022039199247956,0.121266551315784,0.027758754789829,-0.073482900857925,-0.038091406226158,-0.179092556238174,-0.054103739559650,0.134480342268944,0.030456233769655,0.055359825491905));
res += mul(Get(s2,dx,0), float4x4(0.005943941883743,-0.258946895599365,-0.097174935042858,-0.069183498620987,0.216778919100761,-0.039347078651190,-0.005415972787887,0.043027970939875,-0.101795859634876,0.004345362540334,-0.171256452798843,-0.061482284218073,0.075988069176674,0.047632917761803,0.038175445050001,0.229968816041946));
res += mul(Get(s2,dx,dy), float4x4(0.093006402254105,-0.037582643330097,0.126825988292694,-0.012851585634053,-0.127817466855049,-0.077944263815880,-0.137744903564453,-0.113488502800465,-0.029572106897831,-0.082250364124775,-0.223155319690704,-0.126796767115593,0.124233797192574,0.000520779867657,0.003740528132766,0.017247462645173));
res += mul(Get(s3,-dx,-dy), float4x4(0.050318766385317,0.104052431881428,0.060334246605635,-0.135889679193497,-0.088267825543880,-0.045452352613211,0.016556244343519,0.009077606722713,-0.002569125033915,-0.082284078001976,0.056600559502840,0.034374173730612,-0.075324952602386,0.024523690342903,-0.046704966574907,0.095351353287697));
res += mul(Get(s3,-dx,0), float4x4(0.246014773845673,-0.050710059702396,0.019459106028080,0.034619539976120,-0.015142307616770,-0.122186414897442,0.034425955265760,-0.112142436206341,-0.015426921658218,0.109511718153954,0.049553275108337,-0.081974364817142,0.096262104809284,-0.022939065471292,0.124824427068233,-0.080073766410351));
res += mul(Get(s3,-dx,dy), float4x4(-0.071178272366524,-0.143969789147377,0.069816082715988,0.036245644092560,0.054266020655632,0.016559403389692,-0.057196382433176,-0.018385522067547,-0.244421154260635,-0.026279926300049,-0.074432045221329,-0.092486098408699,-0.103452108800411,-0.300380468368530,0.136447638273239,-0.062625922262669));
res += mul(Get(s3,0,-dy), float4x4(0.015986209735274,0.011674223467708,-0.127143114805222,-0.107462339103222,0.029298100620508,0.052065856754780,0.100972272455692,0.099819742143154,-0.027543336153030,-0.039706204086542,0.096622459590435,-0.133576393127441,0.055955912917852,-0.048244677484035,-0.053936816751957,-0.071483433246613));
res += mul(Get(s3,0,0), float4x4(0.001229329616763,0.013744642026722,0.175873741507530,0.163917899131775,-0.027020415291190,0.096628166735172,0.010569401085377,-0.021842213347554,0.055344328284264,-0.032830469310284,-0.145963236689568,0.005787682719529,0.166305035352707,0.029394216835499,-0.040855813771486,-0.192427098751068));
res += mul(Get(s3,0,dy), float4x4(0.085493817925453,-0.020754048600793,-0.169105604290962,0.189192280173302,0.143829405307770,0.166134849190712,0.006789424456656,-0.020051248371601,0.060312371701002,-0.032531373202801,-0.070083290338516,0.076840154826641,0.070218190550804,0.034737184643745,0.029447417706251,0.005541746038944));
res += mul(Get(s3,dx,-dy), float4x4(0.083801284432411,-0.064585946500301,-0.061111893504858,-0.068676620721817,0.154238834977150,0.126148208975792,0.144436910748482,0.074461601674557,-0.202605873346329,-0.023581994697452,-0.006446227431297,-0.128828987479210,-0.045290116220713,0.044557984918356,0.053410399705172,0.034667473286390));
res += mul(Get(s3,dx,0), float4x4(0.012668508104980,-0.005886639468372,0.006665675900877,0.105357497930527,0.043336767703295,-0.217813447117805,0.068868897855282,-0.120034515857697,-0.034389603883028,0.106473989784718,-0.255313009023666,-0.035535044968128,-0.025544594973326,-0.103266611695290,0.230784460902214,-0.093027248978615));
res += mul(Get(s3,dx,dy), float4x4(0.074106834828854,-0.283370703458786,-0.027102686464787,0.169820919632912,-0.065157689154148,0.031382400542498,-0.002879590727389,-0.075802750885487,0.060507062822580,0.095189817249775,-0.147698163986206,-0.025626515969634,-0.071968555450439,-0.004666762892157,0.052762426435947,-0.102870605885983));
return max(float4(0,0,0,0), res);
}
