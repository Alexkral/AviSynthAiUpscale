sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.005136300344020,-0.092229433357716,-0.096386149525642,-0.115216411650181,0.029992934316397,0.091601550579071,0.015416155569255,0.044920928776264,-0.110018469393253,0.011144015938044,-0.040879260748625,-0.174403503537178,-0.033732462674379,0.037341114133596,-0.017445070669055,-0.056533638387918));
res += mul(Get(s0,-dx,0), float4x4(0.024597672745585,-0.020755233243108,-0.058454159647226,-0.059862524271011,0.099940381944180,-0.026564791798592,0.092237748205662,0.145200446248055,0.076859146356583,0.012815478257835,-0.175232514739037,0.032047793269157,-0.082681663334370,0.011409673839808,0.037052914500237,-0.037585623562336));
res += mul(Get(s0,-dx,dy), float4x4(0.068145923316479,0.174071580171585,0.114949546754360,-0.048575352877378,0.097483187913895,-0.074775494635105,-0.179090052843094,0.000622805790044,0.154990717768669,-0.006160828284919,-0.107598908245564,0.088046312332153,0.010036664083600,-0.107753567397594,0.118978887796402,0.002249558689073));
res += mul(Get(s0,0,-dy), float4x4(-0.093211449682713,-0.040595203638077,0.027697037905455,0.046211883425713,-0.144518658518791,-0.084886871278286,-0.100060805678368,0.199818059802055,-0.091892257332802,0.121282152831554,0.017405634745955,-0.007751707918942,-0.031432945281267,0.003269545501098,0.117856793105602,0.028222670778632));
res += mul(Get(s0,0,0), float4x4(0.028160840272903,-0.081421501934528,0.017325812950730,-0.098526552319527,0.014976342208683,-0.114562481641769,-0.122003056108952,0.172684222459793,-0.147847726941109,0.247069731354713,-0.175529778003693,-0.091206274926662,0.073377884924412,-0.076525703072548,-0.039507366716862,-0.069894447922707));
res += mul(Get(s0,0,dy), float4x4(-0.124938488006592,0.085158124566078,0.097377121448517,0.015564225614071,-0.008664540015161,-0.114624179899693,-0.166312307119370,-0.058738090097904,-0.057325653731823,0.179540619254112,0.160601124167442,0.008414639160037,-0.032788004726171,-0.007520557846874,-0.017811330035329,-0.098258607089520));
res += mul(Get(s0,dx,-dy), float4x4(-0.106744989752769,0.049772743135691,-0.075422495603561,0.072630353271961,-0.071980811655521,-0.101619370281696,0.026031760498881,-0.086436308920383,0.065856903791428,-0.121537171304226,-0.137491166591644,0.075763791799545,-0.135846033692360,-0.068477630615234,0.023344114422798,0.003293758956715));
res += mul(Get(s0,dx,0), float4x4(-0.044385019689798,0.159129261970520,-0.038877863436937,0.095032155513763,0.022686991840601,0.017370102927089,-0.057652324438095,0.018353527411819,-0.066589131951332,-0.202700480818748,-0.030186045914888,0.003798587247729,-0.042433835566044,-0.041357140988111,0.161107137799263,0.015997763723135));
res += mul(Get(s0,dx,dy), float4x4(-0.139177978038788,0.218518570065498,0.028981238603592,0.014335292391479,0.123873978853226,-0.075130417943001,-0.119146175682545,-0.090064868330956,0.001349223079160,0.019584756344557,-0.083044312894344,-0.037189450114965,-0.116414994001389,0.159482464194298,0.087638534605503,0.002198398346081));
res += mul(Get(s1,-dx,-dy), float4x4(0.110986933112144,0.071235127747059,-0.162190929055214,-0.039822239428759,0.007561610545963,0.210643038153648,0.145916759967804,-0.034980829805136,0.168711543083191,-0.108998030424118,0.019055092707276,-0.158200159668922,0.058472104370594,-0.159125357866287,-0.105277225375175,-0.039402291178703));
res += mul(Get(s1,-dx,0), float4x4(0.046395726501942,-0.073452800512314,-0.074104562401772,-0.158579021692276,-0.023003054782748,-0.080895923078060,-0.089007690548897,-0.041213016957045,0.053672950714827,-0.059979271143675,-0.225142195820808,-0.120633393526077,0.116674959659576,0.006846103351563,0.052979305386543,-0.071276172995567));
res += mul(Get(s1,-dx,dy), float4x4(0.013613471761346,-0.048179075121880,-0.100856199860573,-0.016686700284481,0.083097644150257,0.075829647481441,-0.013259480707347,-0.098619811236858,0.168400242924690,-0.099409006536007,0.173736974596977,-0.168416619300842,-0.110615737736225,0.147872462868690,0.047494303435087,-0.042510624974966));
res += mul(Get(s1,0,-dy), float4x4(0.124202616512775,0.072834521532059,-0.095494702458382,0.096019282937050,-0.099115222692490,-0.027590006589890,0.013277021236718,-0.027364624664187,-0.089621864259243,0.120868206024170,-0.137735411524773,-0.042992312461138,0.025975290685892,-0.145791754126549,-0.092315174639225,-0.095051512122154));
res += mul(Get(s1,0,0), float4x4(-0.002962112193927,0.198932036757469,0.075301885604858,0.170660734176636,-0.044584218412638,0.069967672228813,-0.107347086071968,0.021150570362806,0.113520681858063,0.078929208219051,-0.132645726203918,0.005077763460577,0.032541844993830,0.034177575260401,-0.094236046075821,0.046736411750317));
res += mul(Get(s1,0,dy), float4x4(-0.079562276601791,-0.088082075119019,-0.050177622586489,0.071939624845982,0.111492231488228,0.282251566648483,-0.004222179763019,0.121749669313431,0.135654017329216,0.136059626936913,-0.091094493865967,-0.093428328633308,-0.055051539093256,0.084363110363483,0.161512792110443,0.092847861349583));
res += mul(Get(s1,dx,-dy), float4x4(-0.190264970064163,-0.133306890726089,0.151948347687721,0.009847599081695,0.104344807565212,-0.070844188332558,-0.153048306703568,-0.071838773787022,0.184835538268089,0.097833417356014,-0.033208157867193,-0.037919569760561,0.069113627076149,0.118980824947357,0.064069688320160,0.072601117193699));
res += mul(Get(s1,dx,0), float4x4(0.023169323801994,-0.053267359733582,0.055150236934423,0.038048669695854,-0.100377030670643,0.087009899318218,0.081046111881733,-0.106758624315262,0.123642362654209,0.198952257633209,-0.142524093389511,0.092465914785862,0.091698378324509,0.107090659439564,-0.119714573025703,0.033087126910686));
res += mul(Get(s1,dx,dy), float4x4(-0.123046554625034,-0.014898023568094,0.004929231479764,0.058979932218790,0.175801306962967,0.034956779330969,0.171708077192307,0.111881516873837,0.006108998786658,0.082067340612411,0.263824552297592,0.046282581984997,0.176339730620384,-0.022715905681252,-0.034103281795979,0.024430943652987));
res += mul(Get(s2,-dx,-dy), float4x4(-0.060971457511187,-0.069723390042782,-0.010334533639252,0.032793734222651,-0.065380901098251,-0.171653032302856,0.059823617339134,0.029225246980786,0.072594739496708,0.000499319226947,0.012207711115479,-0.024786753579974,-0.284440755844116,-0.087686948478222,0.131860181689262,-0.096095040440559));
res += mul(Get(s2,-dx,0), float4x4(-0.051882270723581,0.183770641684532,0.063827417790890,-0.044209588319063,-0.111072294414043,0.137274950742722,0.157778963446617,-0.080997169017792,0.163639858365059,0.041353594511747,-0.108411692082882,-0.064501628279686,0.114716470241547,-0.067022152245045,-0.128545969724655,0.103253036737442));
res += mul(Get(s2,-dx,dy), float4x4(-0.033652927726507,-0.177757963538170,0.095880985260010,0.039206694811583,-0.069530770182610,-0.078687086701393,-0.032726220786572,-0.073771245777607,0.000855174963363,0.014937486499548,-0.131694018840790,0.067069038748741,-0.006290452089161,-0.062623918056488,0.012400483712554,0.041228357702494));
res += mul(Get(s2,0,-dy), float4x4(-0.022360043600202,0.019095662981272,0.096544094383717,0.047784198075533,0.035001404583454,0.030512003228068,-0.081763267517090,0.126481711864471,0.054572645574808,0.169979438185692,0.020668454468250,0.038586497306824,0.051176514476538,0.242227092385292,0.024796525016427,-0.051936239004135));
res += mul(Get(s2,0,0), float4x4(0.011526499874890,-0.031040541827679,0.095306150615215,0.135495081543922,0.028215417638421,0.040615450590849,0.064302042126656,0.183503836393356,-0.076554618775845,-0.032851196825504,-0.005958551540971,-0.107346870005131,-0.076295167207718,-0.040956053882837,0.018484503030777,-0.116204321384430));
res += mul(Get(s2,0,dy), float4x4(-0.072534270584583,-0.006471678148955,0.029339008033276,-0.165024787187576,-0.007327117025852,-0.026326833292842,0.046666890382767,0.101003386080265,-0.101094990968704,0.032841306179762,0.018046591430902,-0.029686933383346,-0.001091540441848,0.009322537109256,-0.077784605324268,-0.165708482265472));
res += mul(Get(s2,dx,-dy), float4x4(0.220234870910645,-0.169442802667618,0.164882898330688,-0.150314643979073,-0.208894535899162,0.006193158682436,0.046017933636904,-0.154850825667381,-0.219246670603752,0.007995176129043,-0.165579169988632,-0.010450852103531,0.038491129875183,-0.006977244745940,-0.078210346400738,0.096818141639233));
res += mul(Get(s2,dx,0), float4x4(0.035406474024057,-0.139568284153938,-0.083001203835011,0.066114477813244,-0.190383002161980,-0.068798050284386,0.025199448689818,0.077247247099876,0.021069094538689,-0.124566316604614,-0.100819483399391,-0.190691322088242,0.249672114849091,0.033348370343447,-0.057747352868319,0.118611820042133));
res += mul(Get(s2,dx,dy), float4x4(0.152483031153679,0.151733130216599,0.203657969832420,0.111471876502037,0.000310264731525,-0.021648056805134,0.068714484572411,-0.185323387384415,-0.105450250208378,0.179253682494164,-0.018741486594081,0.003328145248815,0.064386814832687,0.022571736946702,0.006451903842390,0.025214109569788));
res += mul(Get(s3,-dx,-dy), float4x4(-0.058259740471840,0.069680921733379,0.025128027424216,-0.035220820456743,-0.045615069568157,-0.015326797962189,0.057258937507868,0.112062208354473,0.016445109620690,0.043930064886808,0.209667176008224,-0.040491368621588,0.088790059089661,-0.148211956024170,-0.171410366892815,-0.040683832019567));
res += mul(Get(s3,-dx,0), float4x4(-0.003259078599513,-0.207938775420189,0.178230494260788,0.027194192633033,0.162898659706116,-0.006461836397648,0.022989325225353,-0.031721703708172,-0.013082297518849,0.213925212621689,-0.060995448380709,0.060765095055103,0.009322641417384,-0.029852112755179,0.091785036027431,0.136399462819099));
res += mul(Get(s3,-dx,dy), float4x4(-0.009672304615378,0.005025527905673,-0.161706954240799,-0.050980985164642,0.079524293541908,0.117143869400024,0.079485498368740,-0.153573259711266,0.010870479978621,0.030950013548136,0.003453494515270,-0.079172626137733,0.159986495971680,-0.105770602822304,-0.036266852170229,0.053950775414705));
res += mul(Get(s3,0,-dy), float4x4(0.171063706278801,-0.196543723344803,0.065357141196728,-0.017850633710623,0.043982896953821,-0.165602132678032,-0.013063064776361,0.057412572205067,-0.085910581052303,-0.102114245295525,0.074044860899448,0.098648294806480,-0.039742566645145,0.007333683315665,0.000656431599054,0.099931500852108));
res += mul(Get(s3,0,0), float4x4(0.006172758061439,0.002219313988462,0.090365566313267,0.160501793026924,0.160493344068527,-0.136332169175148,0.050423271954060,0.045456133782864,-0.012721337378025,0.042082209140062,0.009135630913079,-0.020386833697557,0.011078755371273,-0.059275005012751,0.052758093923330,-0.068076938390732));
res += mul(Get(s3,0,dy), float4x4(0.155629992485046,-0.043499059975147,0.000236636959016,-0.037126909941435,0.046804405748844,-0.020590322092175,-0.019311819225550,0.017540017142892,-0.063430301845074,-0.112216793000698,0.077509425580502,0.184446081519127,-0.037421077489853,-0.016848091036081,-0.189230486750603,-0.081436075270176));
res += mul(Get(s3,dx,-dy), float4x4(0.037493169307709,0.052351776510477,-0.114046297967434,0.003053357126191,-0.116382174193859,0.068980567157269,0.167467266321182,0.018616832792759,0.045427236706018,0.133829653263092,0.016147514805198,-0.024553723633289,-0.049125023186207,0.139701426029205,-0.035907734185457,0.058980673551559));
res += mul(Get(s3,dx,0), float4x4(-0.039385613054037,-0.156283631920815,-0.034956544637680,-0.077045299112797,-0.066585205495358,-0.073065102100372,-0.071559675037861,-0.098224572837353,-0.158493220806122,-0.119084306061268,0.120709896087646,0.025795087218285,0.068630099296570,-0.084588475525379,0.066463634371758,0.081261932849884));
res += mul(Get(s3,dx,dy), float4x4(-0.075115084648132,-0.166477933526039,-0.014449954964221,-0.089405089616776,-0.026331948116422,-0.065489284694195,0.073295645415783,0.032267451286316,0.013497782871127,0.161789104342461,-0.033063728362322,0.032360631972551,0.033549401909113,0.067014612257481,-0.223435580730438,0.068767867982388));
return max(float4(0,0,0,0), res);
}
