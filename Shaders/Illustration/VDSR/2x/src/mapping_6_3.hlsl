sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.058027192950249,0.127551332116127,-0.024624425917864,-0.039510987699032,-0.018955472856760,0.099333092570305,-0.075855277478695,-0.037783425301313,-0.084534980356693,0.088153511285782,-0.071776069700718,0.334440022706985,-0.152475088834763,-0.139022305607796,-0.107508122920990,-0.141470864415169));
res += mul(Get(s0,-dx,0), float4x4(0.120744504034519,-0.074265547096729,-0.063119120895863,0.009085479192436,-0.040204878896475,0.056545473635197,-0.050431929528713,-0.058775853365660,-0.022442564368248,-0.022874258458614,-0.083006411790848,0.082361891865730,0.024416789412498,0.018017491325736,-0.115910746157169,-0.160040020942688));
res += mul(Get(s0,-dx,dy), float4x4(0.070779755711555,0.029416184872389,-0.064251467585564,0.008328097872436,-0.202407106757164,0.049038108438253,-0.062080878764391,-0.095073938369751,0.049816597253084,0.081554390490055,0.091440461575985,0.094330728054047,0.108346544206142,0.053041119128466,0.068549126386642,0.074927918612957));
res += mul(Get(s0,0,-dy), float4x4(0.006831917911768,0.136621445417404,-0.015038925223053,-0.052021462470293,0.094966486096382,-0.101341545581818,-0.085892431437969,-0.037640701979399,0.036046121269464,0.120899215340614,-0.130843147635460,0.348026782274246,-0.088605843484402,-0.106114193797112,-0.093097619712353,-0.102268457412720));
res += mul(Get(s0,0,0), float4x4(0.323891609907150,0.013783795759082,0.005244410596788,-0.063435956835747,-0.043480228632689,-0.177057206630707,-0.129531949758530,-0.137905478477478,0.093634098768234,0.003553057089448,-0.094717778265476,0.095026858150959,-0.075304254889488,0.063659504055977,-0.128072798252106,-0.067354187369347));
res += mul(Get(s0,0,dy), float4x4(0.009627310559154,0.001030034385622,-0.045749567449093,0.033989001065493,-0.091597005724907,-0.133460640907288,-0.077443107962608,0.263772845268250,0.028317786753178,-0.061764676123857,-0.001145351678133,0.035999447107315,-0.010610947385430,0.061929207295179,0.102643199265003,0.019288456067443));
res += mul(Get(s0,dx,-dy), float4x4(-0.103944413363934,-0.033453110605478,-0.032347232103348,0.004545805044472,-0.024505898356438,-0.055014919489622,0.081263244152069,0.039838008582592,-0.101649366319180,0.084062337875366,0.028710767626762,0.013115987181664,0.005396210122854,-0.080037057399750,-0.111815087497234,0.027612427249551));
res += mul(Get(s0,dx,0), float4x4(-0.066094525158405,-0.048739030957222,0.113432563841343,-0.098938487470150,-0.042991362512112,-0.113113157451153,0.047160007059574,-0.114622905850410,-0.086144745349884,-0.016791870817542,0.003519329940900,-0.051924977451563,-0.046531889587641,0.082171976566315,-0.110797882080078,0.034595213830471));
res += mul(Get(s0,dx,dy), float4x4(-0.054759655147791,-0.118343316018581,0.036221023648977,-0.177650764584541,0.014077082276344,-0.053556740283966,0.053116697818041,0.049531180411577,-0.099521882832050,0.023030871525407,0.069585025310516,0.171249657869339,0.046080991625786,0.125491544604301,0.063023842871189,0.050112396478653));
res += mul(Get(s1,-dx,-dy), float4x4(0.021370900794864,0.000414971495047,0.009179873391986,-0.136520311236382,0.155676215887070,-0.053609650582075,0.085234656929970,-0.045434109866619,0.009409445337951,0.048922892659903,-0.021335398778319,-0.104152157902718,-0.033759284764528,-0.123596169054508,-0.098851151764393,0.099684104323387));
res += mul(Get(s1,-dx,0), float4x4(0.057978428900242,-0.098970189690590,-0.020619086921215,-0.096124865114689,0.237285301089287,0.086005702614784,0.006990659516305,-0.146347358822823,-0.079548262059689,0.045810792595148,-0.084825865924358,0.078565433621407,-0.103563308715820,0.072058498859406,-0.121201314032078,-0.026795482262969));
res += mul(Get(s1,-dx,dy), float4x4(-0.008638383820653,0.071568809449673,-0.059493768960238,-0.041258428245783,0.055582359433174,-0.011202050372958,-0.016842793673277,0.034620821475983,0.020340962335467,0.012006832286716,-0.029599685221910,-0.006839151494205,0.005088849458843,0.089190147817135,-0.027884589508176,-0.063843309879303));
res += mul(Get(s1,0,-dy), float4x4(-0.041784383356571,-0.003714571008459,-0.006259244401008,-0.028925579041243,0.026941027492285,-0.041291981935501,0.024743244051933,-0.063987106084824,0.009812264703214,0.006352035794407,0.059033900499344,0.044396325945854,-0.063360162079334,0.331665635108948,-0.055873062461615,0.063265368342400));
res += mul(Get(s1,0,0), float4x4(-0.012450592592359,0.019976358860731,0.041723228991032,-0.056581284850836,0.130971446633339,0.104635074734688,0.119777671992779,-0.068076059222221,0.052744846791029,-0.002702371217310,-0.058016698807478,-0.012776993215084,-0.049622815102339,0.102346241474152,-0.114034570753574,-0.056549776345491));
res += mul(Get(s1,0,dy), float4x4(-0.008426777087152,0.095183007419109,-0.106483414769173,-0.007867251522839,-0.011870924383402,0.111079804599285,0.051345661282539,0.107457756996155,0.061919499188662,-0.057764638215303,-0.002219242742285,0.021440749987960,-0.000822449335828,0.003827361622825,-0.100171841681004,-0.029967596754432));
res += mul(Get(s1,dx,-dy), float4x4(-0.003478479338810,-0.054792892187834,0.104773826897144,-0.019816882908344,0.030232502147555,0.016683392226696,0.071022339165211,0.022609464824200,0.073257096111774,0.133405297994614,0.017572028562427,-0.013678576797247,-0.009083769284189,-0.136456549167633,-0.018644545227289,-0.019459925591946));
res += mul(Get(s1,dx,0), float4x4(0.071671985089779,0.010300394147635,0.096905268728733,-0.051931120455265,0.088290669023991,-0.000559837208129,0.015073185786605,0.043358370661736,-0.029545912519097,-0.011914458125830,0.087782084941864,0.207959562540054,0.161008730530739,-0.054617516696453,-0.080013014376163,0.051446646451950));
res += mul(Get(s1,dx,dy), float4x4(0.079126939177513,-0.053191035985947,0.071482919156551,0.013103939592838,0.102752476930618,-0.089651763439178,-0.102131940424442,0.079159222543240,-0.071623705327511,-0.069209851324558,0.059680651873350,-0.048572931438684,0.051533646881580,-0.015207784250379,-0.027324043214321,0.035465400665998));
res += mul(Get(s2,-dx,-dy), float4x4(0.093220263719559,-0.060358487069607,0.012793979607522,-0.055605597794056,-0.074282445013523,-0.079985857009888,-0.104164898395538,-0.071417585015297,0.077362917363644,0.071854248642921,-0.010120649822056,0.046646866947412,0.074059978127480,0.010030405595899,-0.059438433498144,0.012773328460753));
res += mul(Get(s2,-dx,0), float4x4(0.202844679355621,0.082961618900299,-0.050611298531294,0.021968450397253,-0.072737917304039,0.119446776807308,-0.052870549261570,-0.060266073793173,0.238041058182716,-0.018657188862562,0.041876666247845,0.047514785081148,-0.085351869463921,0.027046930044889,0.041946649551392,-0.091513283550739));
res += mul(Get(s2,-dx,dy), float4x4(0.056195270270109,0.115588612854481,-0.026166381314397,-0.005316928960383,-0.014650429598987,0.010138218291104,-0.096146032214165,0.017928699031472,0.229084268212318,-0.030665602535009,0.087926857173443,-0.007245406042784,-0.012857863679528,0.031067453324795,0.028322195634246,-0.071579217910767));
res += mul(Get(s2,0,-dy), float4x4(-0.001199027057737,-0.085357084870338,0.013646280393004,-0.041996899992228,0.043136741966009,-0.088311433792114,-0.117007166147232,-0.046615578234196,-0.123789720237255,0.200908973813057,-0.061573326587677,-0.077798888087273,-0.055253334343433,-0.015558863990009,-0.044352613389492,0.007732637692243));
res += mul(Get(s2,0,0), float4x4(-0.007406986784190,-0.102102428674698,0.100218877196312,0.005334047600627,0.021711599081755,0.117322869598866,0.060910463333130,0.218070551753044,-0.094604797661304,0.016099886968732,-0.117278158664703,0.080284319818020,-0.096038460731506,-0.050015795975924,0.337949633598328,0.003753953613341));
res += mul(Get(s2,0,dy), float4x4(-0.035010784864426,-0.065891467034817,-0.000702735676896,-0.049867551773787,0.027422746643424,0.058104921132326,0.082197330892086,-0.033579368144274,-0.093104146420956,0.006137127522379,-0.087499983608723,-0.037323515862226,0.087423823773861,0.055639106780291,0.053656816482544,0.087826423346996));
res += mul(Get(s2,dx,-dy), float4x4(0.047077752649784,-0.074447289109230,-0.065596535801888,0.001772059244104,-0.132829725742340,-0.050703749060631,-0.089265450835228,0.023166604340076,-0.136522695422173,-0.086352623999119,-0.022425780072808,0.100243836641312,-0.104643158614635,-0.094977095723152,0.121639356017113,-0.045881237834692));
res += mul(Get(s2,dx,0), float4x4(-0.007863261736929,-0.013406231999397,0.029663288965821,0.097686208784580,-0.182819187641144,0.100666023790836,0.003312366083264,-0.026874262839556,-0.160648658871651,-0.105601236224174,-0.000513370148838,0.003994236234576,-0.040578562766314,-0.024522261694074,0.130921810865402,0.099173314869404));
res += mul(Get(s2,dx,dy), float4x4(0.058559842407703,-0.041476979851723,-0.006069947965443,0.040020171552896,-0.051308751106262,0.097464196383953,-0.013269324786961,0.060147713869810,-0.102177828550339,-0.019821941852570,-0.084640406072140,0.004092770162970,0.113972105085850,0.136735275387764,0.108607381582260,0.028391443192959));
res += mul(Get(s3,-dx,-dy), float4x4(-0.042899243533611,-0.058848109096289,-0.096030317246914,0.014624050818384,-0.044631287455559,0.091294258832932,0.273220092058182,0.048890251666307,0.072770267724991,0.104362852871418,-0.005778894294053,-0.151207134127617,0.023049825802445,0.035566892474890,0.016485877335072,-0.017668114975095));
res += mul(Get(s3,-dx,0), float4x4(-0.018067916855216,0.040076296776533,-0.138714432716370,0.065042756497860,0.131729841232300,-0.083583481609821,0.214188471436501,0.024738667532802,-0.092798858880997,-0.038642443716526,0.134426578879356,-0.054803796112537,-0.002007975243032,-0.037406101822853,0.024293398484588,-0.026425790041685));
res += mul(Get(s3,-dx,dy), float4x4(-0.117405064404011,-0.051002960652113,-0.074785903096199,0.032423142343760,0.003966137301177,-0.042963303625584,0.093628473579884,0.101803638041019,-0.007093257736415,-0.064763382077217,0.082264922559261,-0.037568733096123,0.020779037848115,-0.023436386138201,0.052046675235033,-0.099163919687271));
res += mul(Get(s3,0,-dy), float4x4(-0.093875348567963,0.055431000888348,0.015282297506928,0.107731163501740,-0.069023430347443,-0.023974986746907,0.072746202349663,0.119022570550442,0.015969574451447,-0.012659418396652,0.052577562630177,-0.095929749310017,-0.013468623161316,0.003453989746049,-0.060246575623751,-0.007530594244599));
res += mul(Get(s3,0,0), float4x4(0.062844268977642,-0.028859805315733,0.032649368047714,-0.037595827132463,0.066189788281918,-0.067719936370850,0.021985391154885,-0.178319334983826,-0.026759782806039,0.126230269670486,-0.162113577127457,0.105485863983631,-0.025035012513399,0.093403749167919,-0.079713352024555,-0.017969828099012));
res += mul(Get(s3,0,dy), float4x4(-0.104669652879238,0.000029549219107,0.061853077262640,0.193512529134750,0.180083945393562,-0.098841935396194,0.093239918351173,-0.125742807984352,-0.019686447456479,0.120519228279591,0.008590257726610,0.059144213795662,-0.011339916847646,0.007929628714919,-0.015538682229817,-0.125573888421059));
res += mul(Get(s3,dx,-dy), float4x4(-0.128080740571022,0.100981175899506,0.007966605946422,0.049601253122091,-0.107631780207157,-0.083100393414497,-0.163865402340889,-0.033709313720465,0.234000563621521,-0.094999037683010,0.040823131799698,-0.106173723936081,0.077781990170479,-0.006052622571588,-0.103815928101540,0.025640271604061));
res += mul(Get(s3,dx,0), float4x4(-0.064919225871563,-0.076124131679535,0.104728639125824,-0.070639386773109,0.001487333909608,-0.063339769840240,-0.107321605086327,-0.045712910592556,0.148251041769981,-0.029288506135345,-0.135477960109711,0.052054654806852,0.111574813723564,0.037953965365887,-0.115344494581223,0.133663564920425));
res += mul(Get(s3,dx,dy), float4x4(-0.075728915631771,-0.027039198204875,0.036440003663301,0.077198006212711,0.059960409998894,-0.084170088171959,-0.005262606311589,-0.046690538525581,0.040680006146431,-0.011143392883241,0.039097305387259,-0.006453286856413,0.272624433040619,0.037658978253603,0.012651320546865,0.134328931570053));
return max(float4(0,0,0,0), res);
}
