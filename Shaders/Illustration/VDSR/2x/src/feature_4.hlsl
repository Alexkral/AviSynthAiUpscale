sampler s0 : register(s0);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(x, y)   tex2D(s0, tex + float2(x, y))[0]

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += float4(0.088472448289394,-0.040536798536777,-0.030978163704276,-0.049357648938894) * Get(-dx,-dy);
res += float4(-0.043627325445414,-0.037861425429583,-0.007253397721797,-0.008774294517934) * Get(-dx,0);
res += float4(-0.064992532134056,0.030071094632149,0.008337758481503,-0.188224554061890) * Get(-dx,dy);
res += float4(0.035543289035559,-0.025098180398345,-0.343119651079178,-0.028307219967246) * Get(0,-dy);
res += float4(-0.168094873428345,0.036912016570568,-0.070570431649685,0.178564339876175) * Get(0,0);
res += float4(0.220104053616524,0.051114246249199,0.121755130589008,0.002628986723721) * Get(0,dy);
res += float4(0.032073292881250,-0.143536686897278,-0.116810031235218,-0.004498274996877) * Get(dx,-dy);
res += float4(0.051435027271509,-0.112445339560509,0.061592154204845,-0.086059652268887) * Get(dx,0);
res += float4(-0.099412754178047,-0.088279992341995,-0.027832010760903,-0.012246022000909) * Get(dx,dy);
return max(float4(0,0,0,0), res);
}
