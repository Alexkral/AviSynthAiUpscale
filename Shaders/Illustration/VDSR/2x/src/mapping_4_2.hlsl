sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.026447309181094,0.052415665239096,0.216270476579666,0.245561197400093,-0.100560709834099,0.009476447477937,0.055829569697380,0.002004431560636,-0.082761101424694,-0.000879127823282,0.002611671108752,-0.091612815856934,-0.055322449654341,0.001857841270976,-0.114673413336277,0.012989480979741));
res += mul(Get(s0,-dx,0), float4x4(-0.025357184931636,0.167430952191353,-0.087789051234722,0.097265139222145,-0.032255336642265,-0.010715283453465,0.067627236247063,-0.042378824204206,0.149802833795547,-0.158054500818253,-0.026368850842118,-0.028905626386404,0.016927186399698,0.059180103242397,0.045372832566500,0.111800476908684));
res += mul(Get(s0,-dx,dy), float4x4(0.014063253067434,0.032208684831858,0.053250413388014,-0.010325872339308,0.099503248929977,-0.037388037890196,0.122880637645721,0.072686612606049,-0.013574551790953,-0.047614209353924,-0.118362739682198,-0.068628892302513,0.040331192314625,-0.067783281207085,-0.082424059510231,-0.043645236641169));
res += mul(Get(s0,0,-dy), float4x4(-0.090891912579536,-0.012083341367543,0.109611205756664,-0.018471717834473,0.145532444119453,-0.074081391096115,-0.069002680480480,-0.018452338874340,-0.016553789377213,0.071818239986897,0.107534110546112,-0.002372778020799,-0.067027233541012,-0.036245100200176,-0.074777320027351,-0.004133608657867));
res += mul(Get(s0,0,0), float4x4(-0.026970842853189,-0.080670841038227,-0.260308772325516,0.003612910863012,0.078803852200508,-0.009734493680298,-0.017973536625504,0.005064006894827,-0.061674434691668,-0.064139805734158,0.191832944750786,0.092959016561508,-0.032501727342606,-0.052187778055668,-0.010411286726594,-0.011993108317256));
res += mul(Get(s0,0,dy), float4x4(-0.053252361714840,-0.103086128830910,0.000857900828123,-0.075793512165546,0.084767848253250,-0.002058108570054,-0.049241531640291,-0.057386215776205,-0.004327307455242,0.154012739658356,-0.067632876336575,-0.011942597106099,-0.001415112405084,-0.084007076919079,-0.036577042192221,-0.009481495246291));
res += mul(Get(s0,dx,-dy), float4x4(0.096035189926624,-0.099330984055996,0.178352981805801,0.057306937873363,0.123791277408600,-0.142774328589439,0.069054126739502,0.042525321245193,-0.120270676910877,-0.003344464581460,-0.127759873867035,0.057744204998016,-0.037290927022696,-0.110481537878513,-0.054974082857370,-0.072746522724628));
res += mul(Get(s0,dx,0), float4x4(0.061180174350739,-0.067588560283184,0.016875239089131,0.053877755999565,-0.042166523635387,0.165847107768059,0.060085300356150,-0.055434416979551,-0.124040096998215,0.001844115788117,0.051643896847963,0.075348608195782,0.212561845779419,-0.071350835263729,-0.000669936882332,-0.066330343484879));
res += mul(Get(s0,dx,dy), float4x4(0.033492468297482,-0.068007960915565,0.197951838374138,-0.038054730743170,-0.068220138549805,0.155582159757614,0.069851823151112,0.124200925230980,-0.019654212519526,-0.017688566818833,-0.141747996211052,0.040478017181158,0.175094857811928,-0.066317528486252,-0.135086074471474,-0.059668980538845));
res += mul(Get(s1,-dx,-dy), float4x4(-0.055105503648520,-0.091033235192299,-0.078819461166859,-0.028714325278997,-0.071191854774952,0.011309055611491,-0.031142504885793,-0.084983684122562,0.011870187707245,0.004264385439456,0.021325374022126,-0.047023825347424,0.068689852952957,-0.037980969995260,-0.084976077079773,-0.187475636601448));
res += mul(Get(s1,-dx,0), float4x4(-0.021524084731936,-0.021994311362505,0.042430937290192,0.054142087697983,-0.129114061594009,-0.050863265991211,-0.222753569483757,-0.050343029201031,0.016857199370861,0.011198178865016,-0.099868819117546,-0.077321693301201,-0.078994080424309,-0.054923959076405,-0.035134200006723,0.158783316612244));
res += mul(Get(s1,-dx,dy), float4x4(-0.001813422772102,0.002580709755421,0.125775590538979,-0.066752865910530,-0.143750935792923,-0.005098092369735,-0.049725610762835,-0.094606138765812,0.138600260019302,-0.054471135139465,-0.067278280854225,-0.039196439087391,-0.052343372255564,-0.050359595566988,0.150616094470024,0.058469183743000));
res += mul(Get(s1,0,-dy), float4x4(-0.107528939843178,-0.019174685701728,0.067254722118378,0.036071781069040,-0.131267324090004,-0.071534402668476,0.027615305036306,-0.009509548544884,-0.122549064457417,-0.044226083904505,0.033194679766893,-0.038508180528879,0.016292687505484,0.115316405892372,0.123471714556217,-0.026624558493495));
res += mul(Get(s1,0,0), float4x4(-0.043475363403559,-0.003762429580092,-0.052531477063894,-0.030915355309844,-0.090230889618397,-0.081952266395092,-0.137490510940552,0.014821050688624,0.002656366443262,0.119972065091133,0.099178425967693,0.001330390456133,0.060345094650984,-0.017432851716876,-0.032611738890409,-0.061170984059572));
res += mul(Get(s1,0,dy), float4x4(-0.047506123781204,-0.048217449337244,-0.026750862598419,-0.075521543622017,-0.149795636534691,0.032250177115202,-0.038827352225780,-0.025278629735112,0.022147467359900,-0.094769679009914,0.047146208584309,0.010590595193207,-0.054147105664015,-0.021082153543830,0.081977061927319,0.006700407247990));
res += mul(Get(s1,dx,-dy), float4x4(-0.028731498867273,0.047301780432463,0.013127265498042,-0.014923733659089,0.044781334698200,-0.006698139477521,-0.013225367292762,-0.088049627840519,-0.036097206175327,-0.151015013456345,-0.078035198152065,-0.009782709181309,0.005166774615645,0.040606211870909,-0.097014717757702,-0.000680410186760));
res += mul(Get(s1,dx,0), float4x4(-0.053010828793049,-0.053798347711563,-0.053111795336008,-0.031701792031527,-0.053719829767942,-0.019308164715767,-0.052672583609819,-0.124222837388515,-0.014226674102247,0.307391494512558,0.002807458397001,0.084616102278233,-0.172187164425850,0.112598963081837,-0.011051787063479,0.036189094185829));
res += mul(Get(s1,dx,dy), float4x4(0.052101347595453,-0.069875448942184,-0.001573144691065,-0.073754459619522,-0.107644639909267,-0.030878005549312,-0.124280095100403,-0.016831047832966,-0.109248310327530,0.083602450788021,0.077327303588390,0.052750110626221,-0.110098212957382,0.057610802352428,-0.042329795658588,0.078394256532192));
res += mul(Get(s2,-dx,-dy), float4x4(0.031813103705645,-0.041053973138332,0.118050321936607,0.043065346777439,-0.099039793014526,0.200079500675201,-0.021044552326202,-0.275687664747238,0.173475548624992,-0.031177505850792,0.079696565866470,-0.013438054360449,0.027591964229941,-0.007470847573131,-0.056812133640051,0.012550334446132));
res += mul(Get(s2,-dx,0), float4x4(-0.057875812053680,-0.049063265323639,-0.098516441881657,-0.001928720972501,0.138112246990204,0.030921177938581,-0.224235132336617,-0.151131838560104,0.165450632572174,-0.053680647164583,0.006963953375816,-0.071353524923325,0.010549390688539,-0.060243938118219,0.040362149477005,-0.038426198065281));
res += mul(Get(s2,-dx,dy), float4x4(-0.116807684302330,0.015293337404728,0.104115478694439,0.138387143611908,0.053636256605387,-0.008463366888463,0.191195532679558,-0.084695227444172,-0.083879649639130,0.000159575938596,0.176983729004860,0.039073869585991,0.000982548575848,-0.088401131331921,0.084476731717587,-0.076271310448647));
res += mul(Get(s2,0,-dy), float4x4(0.055664595216513,-0.070536628365517,0.151690408587456,0.049595303833485,-0.001532339025289,0.287170946598053,0.026646595448256,-0.091582454741001,-0.032997030764818,0.120308019220829,0.019239487126470,0.040820881724358,0.018649168312550,-0.052527781575918,-0.052186790853739,-0.066613182425499));
res += mul(Get(s2,0,0), float4x4(0.133858859539032,-0.054909627884626,-0.051783263683319,-0.021719258278608,-0.047641769051552,-0.067960307002068,-0.102779909968376,-0.031073428690434,-0.056456342339516,0.015530210919678,-0.054590772837400,0.006672739051282,0.030623564496636,-0.064344048500061,-0.037956375628710,-0.082177788019180));
res += mul(Get(s2,0,dy), float4x4(-0.010336288250983,-0.050476692616940,0.057424794882536,-0.010374587960541,0.115499965846539,-0.003598061855882,0.031874392181635,-0.012027403339744,-0.032060738652945,0.019362593069673,-0.041444838047028,0.049979470670223,-0.058757435530424,-0.062998369336128,0.120171405375004,-0.084756672382355));
res += mul(Get(s2,dx,-dy), float4x4(-0.045039486140013,-0.068903252482414,0.101752087473869,0.000490674749017,0.121939040720463,0.105513937771320,-0.074027732014656,-0.086995296180248,-0.091708973050117,-0.010486600920558,-0.030383419245481,0.003535759868100,0.004996741656214,0.078636363148689,-0.053278293460608,0.020405592396855));
res += mul(Get(s2,dx,0), float4x4(0.001638885005377,-0.024057291448116,-0.007769017014652,0.050812657922506,0.078644007444382,0.087182261049747,-0.062969155609608,-0.071747362613678,-0.017829550430179,-0.136029884219170,-0.143686085939407,-0.098769672214985,0.065762266516685,-0.119394190609455,-0.058440417051315,0.124195344746113));
res += mul(Get(s2,dx,dy), float4x4(-0.077905021607876,0.039514802396297,0.005017589777708,-0.088221848011017,0.035558577626944,0.060025431215763,-0.039297994226217,-0.028769321739674,0.021779989823699,0.059031188488007,0.034277930855751,0.013692833483219,-0.021658729761839,0.003466247115284,0.031815487891436,0.048441592603922));
res += mul(Get(s3,-dx,-dy), float4x4(0.086174130439758,0.043867114931345,0.100159831345081,0.067949384450912,0.001260125660338,-0.023955598473549,0.019995063543320,-0.118289016187191,-0.074081413447857,0.037016216665506,0.011987630277872,-0.095010817050934,0.188397109508514,-0.019314948469400,0.010573837906122,-0.052371103316545));
res += mul(Get(s3,-dx,0), float4x4(0.079783782362938,-0.062325991690159,0.110486373305321,0.029666228219867,-0.058616116642952,-0.027565844357014,0.097780831158161,0.071860827505589,-0.127702400088310,-0.035342540591955,-0.061535686254501,-0.062649302184582,-0.072035022079945,-0.043413728475571,-0.037339739501476,0.089949347078800));
res += mul(Get(s3,-dx,dy), float4x4(0.106096535921097,0.029529372230172,-0.010317547246814,-0.060695420950651,-0.117142297327518,0.115781515836716,0.007883159443736,0.087608277797699,-0.028054229915142,-0.081711679697037,-0.092404507100582,0.034494172781706,-0.020508417859674,-0.079821661114693,0.097704827785492,-0.029923610389233));
res += mul(Get(s3,0,-dy), float4x4(-0.089254885911942,0.081290170550346,0.000602270010859,-0.011411486193538,0.035601869225502,0.010293109342456,-0.051368277519941,-0.024721151217818,-0.123721547424793,-0.078370742499828,0.068665340542793,-0.073398366570473,0.286679178476334,0.015168420970440,0.011971238069236,-0.089576952159405));
res += mul(Get(s3,0,0), float4x4(-0.071591012179852,-0.024367116391659,0.078604049980640,-0.054646283388138,-0.037035014480352,-0.035886809229851,-0.016539882868528,0.306925594806671,-0.108028210699558,-0.070569567382336,-0.034130059182644,-0.084163293242455,0.049297731369734,-0.041203420609236,-0.191834941506386,0.014203846454620));
res += mul(Get(s3,0,dy), float4x4(0.080618813633919,-0.048868190497160,-0.053986772894859,-0.072472520172596,-0.050347369164228,-0.010821460746229,-0.047187536954880,-0.092133499681950,-0.076371774077415,0.106205709278584,-0.109600678086281,0.059288900345564,0.101853519678116,0.044857878237963,0.147614344954491,-0.015114801004529));
res += mul(Get(s3,dx,-dy), float4x4(-0.093866616487503,-0.111093655228615,0.014516403898597,-0.113866783678532,-0.016577394679189,0.107615359127522,0.082303181290627,-0.000188708800124,-0.091721720993519,-0.070123821496964,0.036138456314802,0.001853568828665,-0.111438721418381,-0.118848763406277,-0.010380646213889,-0.061344981193542));
res += mul(Get(s3,dx,0), float4x4(-0.026785474270582,-0.125343084335327,0.079602442681789,-0.096279583871365,-0.056332416832447,-0.110067531466484,-0.180375054478645,-0.024825768545270,-0.074162110686302,0.182006031274796,-0.024357100948691,0.056187201291323,0.152595832943916,-0.113265492022038,-0.157236248254776,-0.010961084626615));
res += mul(Get(s3,dx,dy), float4x4(0.122158780694008,-0.011636074632406,-0.056288681924343,-0.080695085227489,-0.063186921179295,-0.061505004763603,0.079654134809971,-0.029351377859712,-0.099814064800739,-0.022797519341111,-0.125100001692772,0.051089942455292,0.104574866592884,-0.064551725983620,0.041059385985136,-0.014217201620340));
return max(float4(0,0,0,0), res);
}
