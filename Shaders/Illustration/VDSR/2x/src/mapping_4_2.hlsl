sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.013583750464022,0.018342679366469,-0.073761820793152,-0.069505400955677,0.007826034910977,0.114747457206249,0.100780300796032,0.045317374169827,0.051807772368193,-0.113540738821030,-0.146019011735916,-0.042811173945665,-0.025295495986938,-0.072603277862072,-0.264691233634949,-0.118280559778214));
res += mul(Get(s0,-dx,0), float4x4(-0.031072691082954,-0.140291705727577,0.057616896927357,-0.010627941228449,0.071358740329742,-0.244404688477516,-0.106238238513470,0.032082073390484,0.162673935294151,0.101235471665859,0.014855449087918,-0.032958835363388,0.072351478040218,-0.044742953032255,-0.171659559011459,0.073228515684605));
res += mul(Get(s0,-dx,dy), float4x4(-0.026898473501205,-0.241710573434830,-0.045837402343750,-0.068194679915905,0.017181769013405,0.084779962897301,0.168328598141670,0.088997736573219,-0.021348923444748,0.000509341887664,-0.074148938059807,-0.055183090269566,0.134894385933876,0.109912186861038,0.091708838939667,0.021253006532788));
res += mul(Get(s0,0,-dy), float4x4(-0.048550281673670,0.121776275336742,0.105680778622627,0.001446298439987,0.005575668532401,-0.037968892604113,0.020580366253853,-0.033127035945654,-0.020922781899571,0.034338913857937,0.040124643594027,-0.220361709594727,0.064248628914356,0.030058763921261,0.167175248265266,-0.003206784138456));
res += mul(Get(s0,0,0), float4x4(-0.205837771296501,-0.015935244038701,0.074700072407722,-0.247222572565079,0.126930758357048,-0.012185727246106,0.011155928485096,-0.088379867374897,-0.131135180592537,0.091608077287674,0.098813384771347,-0.126350060105324,0.026758594438434,0.072714678943157,-0.040047913789749,0.063837774097919));
res += mul(Get(s0,0,dy), float4x4(0.027573689818382,0.048099655658007,-0.095431149005890,-0.111142985522747,-0.207234889268875,0.108533538877964,-0.119426101446152,-0.061171401292086,0.038624927401543,-0.115791238844395,-0.188636854290962,-0.041708365082741,-0.059930142015219,0.112813688814640,-0.023891499266028,0.069528818130493));
res += mul(Get(s0,dx,-dy), float4x4(0.031282681971788,0.061705168336630,-0.123601935803890,0.061695668846369,0.045010562986135,0.022914685308933,-0.105202972888947,-0.169321864843369,0.105431735515594,-0.121663056313992,-0.073457159101963,0.032463133335114,-0.026705516502261,0.116447642445564,0.019982289522886,-0.066288970410824));
res += mul(Get(s0,dx,0), float4x4(0.213766664266586,0.050960894674063,-0.012630213052034,0.009671833366156,-0.019306318834424,-0.019838325679302,-0.014024670235813,-0.009636475704610,-0.120933175086975,-0.023308031260967,-0.024563586339355,-0.085157006978989,0.060997985303402,-0.164227783679962,0.085688740015030,-0.173554912209511));
res += mul(Get(s0,dx,dy), float4x4(-0.046916030347347,0.067636944353580,-0.020230608060956,-0.177637204527855,-0.109443023800850,0.000692913890816,-0.024345146492124,0.067132793366909,-0.129009217023849,0.068986251950264,-0.223119676113129,-0.120769508183002,-0.070700399577618,0.026230039075017,0.087057888507843,-0.141960158944130));
res += mul(Get(s1,-dx,-dy), float4x4(0.029138334095478,0.061157185584307,0.218246549367905,0.062434542924166,-0.029453281313181,-0.090916514396667,-0.006640100385994,-0.049679264426231,0.072079993784428,0.008101749233902,-0.129738345742226,-0.056225840002298,-0.087999232113361,0.039314135909081,0.152795404195786,0.083380244672298));
res += mul(Get(s1,-dx,0), float4x4(0.112529367208481,-0.119690582156181,0.038977444171906,0.047957371920347,0.041318200528622,0.140271380543709,-0.117744557559490,-0.093855097889900,-0.044106017798185,0.044256292283535,0.029925402253866,-0.079543866217136,0.153345584869385,-0.017730528488755,-0.031415909528732,0.034192845225334));
res += mul(Get(s1,-dx,dy), float4x4(0.159159585833549,0.038070295006037,-0.103664994239807,-0.159386709332466,-0.059032928198576,0.075431562960148,-0.120321847498417,-0.194664612412453,-0.139318972826004,-0.091403014957905,0.047756578773260,0.025745943188667,0.083825774490833,-0.176406711339951,-0.017462411895394,-0.110722512006760));
res += mul(Get(s1,0,-dy), float4x4(0.085067182779312,0.136475354433060,0.276976168155670,-0.023507822304964,-0.103332288563251,0.116608127951622,-0.159172877669334,-0.137985557317734,-0.140994861721992,-0.008504426106811,0.058603912591934,0.011764617636800,0.155105069279671,0.174758374691010,0.018912224099040,-0.146308228373528));
res += mul(Get(s1,0,0), float4x4(-0.199852988123894,-0.111862502992153,-0.067414253950119,0.040316496044397,-0.049295336008072,0.090549051761627,0.091906502842903,0.269905924797058,0.097533419728279,0.150730162858963,-0.055747810751200,0.071891367435455,-0.058642663061619,0.096847556531429,0.161990731954575,-0.040346592664719));
res += mul(Get(s1,0,dy), float4x4(0.121683031320572,0.082460731267929,-0.046931620687246,0.018063703551888,-0.198032021522522,0.079238496720791,-0.078722193837166,-0.073562651872635,-0.002959151519462,-0.062208365648985,-0.034400973469019,-0.055894400924444,-0.255982220172882,0.204844236373901,-0.029098631814122,0.009820500388741));
res += mul(Get(s1,dx,-dy), float4x4(-0.112434588372707,-0.010099628008902,0.132358506321907,-0.005180436186492,0.148483455181122,0.014062075875700,-0.169477671384811,0.142108634114265,0.141847148537636,0.027655670419335,-0.043856337666512,0.047979012131691,0.181744590401649,0.089136376976967,0.053963705897331,-0.171453565359116));
res += mul(Get(s1,dx,0), float4x4(-0.083803564310074,0.155769750475883,0.040801599621773,-0.064866162836552,-0.055343538522720,-0.101217143237591,0.063121326267719,-0.055375609546900,-0.016533493995667,0.020346799865365,0.021527079865336,-0.075211398303509,-0.023362893611193,-0.022549528628588,-0.074681565165520,0.022826801985502));
res += mul(Get(s1,dx,dy), float4x4(-0.005018484778702,-0.028084853664041,0.019944671541452,0.103902496397495,0.127180069684982,0.010480527766049,-0.000370887864847,0.099421881139278,-0.247063145041466,-0.080214560031891,0.052228763699532,0.083516739308834,-0.143191069364548,-0.026472903788090,-0.106625735759735,0.117546148598194));
res += mul(Get(s2,-dx,-dy), float4x4(0.016195444390178,-0.068208925426006,0.182952433824539,-0.051129296422005,0.238875806331635,0.371852397918701,-0.137454673647881,0.125652506947517,0.170727133750916,0.101328454911709,-0.099509753286839,-0.096327543258667,0.058891758322716,-0.044951833784580,-0.085189297795296,-0.171377107501030));
res += mul(Get(s2,-dx,0), float4x4(0.001046819030307,0.047046396881342,0.069485805928707,-0.008461338467896,0.112037368118763,0.039848417043686,0.160818889737129,-0.237418577075005,0.285882711410522,-0.036106783896685,-0.112064607441425,0.127264291048050,-0.138476595282555,0.045652475208044,-0.123037926852703,-0.215786159038544));
res += mul(Get(s2,-dx,dy), float4x4(-0.057696476578712,0.191775798797607,0.036105632781982,-0.098594695329666,0.154882505536079,0.015909286215901,0.025172209367156,0.015875684097409,0.096305586397648,0.118317209184170,-0.072097480297089,-0.173976719379425,-0.118622906506062,0.025244992226362,-0.009667149744928,0.043136220425367));
res += mul(Get(s2,0,-dy), float4x4(-0.185636818408966,-0.110381618142128,-0.000033752043237,-0.003311368636787,-0.097699232399464,-0.101906470954418,0.083454057574272,0.094555839896202,-0.026884507387877,-0.028252534568310,-0.158615931868553,-0.033802673220634,-0.015259880572557,0.139082133769989,-0.097877882421017,-0.206441327929497));
res += mul(Get(s2,0,0), float4x4(-0.073983103036880,0.170292943716049,-0.063592948019505,-0.073187224566936,-0.125120148062706,-0.036023821681738,-0.027220789343119,0.046088866889477,0.119972780346870,0.007672981359065,0.046128526329994,0.136513829231262,0.216107502579689,-0.071997739374638,-0.100186184048653,0.042302004992962));
res += mul(Get(s2,0,dy), float4x4(0.031481515616179,-0.101618371903896,0.100149035453796,0.110344305634499,-0.050869468599558,0.079018011689186,0.092916712164879,0.149112612009048,0.158013761043549,0.045560713857412,-0.104328863322735,0.040544100105762,-0.051182568073273,0.093828037381172,-0.055658955127001,-0.169429570436478));
res += mul(Get(s2,dx,-dy), float4x4(-0.060337513685226,0.062611721456051,0.104360416531563,0.074777357280254,-0.004830616526306,0.028719382360578,-0.113828390836716,-0.112035728991032,-0.075167663395405,-0.135950416326523,0.029460027813911,0.003902347292751,0.104226641356945,0.037906277924776,-0.128480970859528,0.032914195209742));
res += mul(Get(s2,dx,0), float4x4(-0.081117451190948,-0.024576799944043,-0.175250798463821,0.035891670733690,-0.022549999877810,0.172733902931213,-0.212111026048660,0.021170416846871,0.139103725552559,-0.194163054227829,-0.018050169572234,0.047515891492367,-0.086300902068615,0.140011310577393,-0.171777918934822,0.009589144028723));
res += mul(Get(s2,dx,dy), float4x4(0.003491154173389,-0.182428389787674,-0.131178587675095,-0.022528219968081,-0.011436160653830,0.128802418708801,0.015746876597404,0.180937200784683,0.146442130208015,-0.021233323961496,-0.018532864749432,-0.087659314274788,-0.100997619330883,0.005478735547513,-0.283201247453690,-0.005705926567316));
res += mul(Get(s3,-dx,-dy), float4x4(-0.051806434988976,0.027103709056973,0.084874197840691,-0.040909159928560,0.145998448133469,-0.114446207880974,-0.022198475897312,0.053025003522635,-0.028368631377816,-0.158111795783043,-0.020318344235420,-0.186788544058800,-0.044819470494986,0.080678507685661,0.151667952537537,-0.028916178271174));
res += mul(Get(s3,-dx,0), float4x4(0.085870079696178,-0.013330166228116,-0.085268147289753,0.120101064443588,0.055129528045654,0.061831194907427,-0.090187236666679,0.071341931819916,-0.016727985814214,0.056034348905087,-0.024530468508601,-0.145453944802284,0.016664795577526,-0.113345921039581,-0.178367465734482,0.032358437776566));
res += mul(Get(s3,-dx,dy), float4x4(0.072443388402462,-0.094237498939037,0.030280264094472,0.081021167337894,-0.028304995968938,-0.037680692970753,-0.221594825387001,0.012824591249228,-0.056994263082743,0.269212335348129,0.023044260218740,0.041759744286537,0.112837381660938,-0.037105273455381,0.036702778190374,-0.016766445711255));
res += mul(Get(s3,0,-dy), float4x4(0.000406010280130,-0.003776055760682,-0.018248530104756,-0.121910750865936,0.055408813059330,0.051430165767670,-0.131308406591415,0.027900990098715,0.081469736993313,-0.035503692924976,-0.052107971161604,-0.018402434885502,0.008255241438746,-0.026649504899979,0.159834846854210,-0.050284370779991));
res += mul(Get(s3,0,0), float4x4(-0.061496842652559,-0.074403151869774,0.086685322225094,-0.053170129656792,-0.041339118033648,-0.143487766385078,0.143023803830147,-0.125571012496948,0.163093194365501,0.043120309710503,0.015290361829102,-0.011540016159415,0.088928766548634,-0.096141949295998,0.002060515107587,0.172401055693626));
res += mul(Get(s3,0,dy), float4x4(-0.039367727935314,-0.087263114750385,0.036940243095160,0.042009945958853,-0.017369406297803,0.160171359777451,-0.178036481142044,0.163185998797417,0.078073047101498,0.113117083907127,0.159635052084923,0.055627804249525,0.009584783576429,-0.047246623784304,0.026570398360491,0.007750659249723));
res += mul(Get(s3,dx,-dy), float4x4(-0.047974295914173,-0.048091627657413,0.166036099195480,-0.021370371803641,-0.015899486839771,-0.048316363245249,0.042334716767073,-0.020863844081759,0.035132389515638,-0.034191723912954,0.037376508116722,-0.056763973087072,0.005339045543224,-0.139640420675278,0.113058142364025,0.009235651232302));
res += mul(Get(s3,dx,0), float4x4(0.077593602240086,-0.124703489243984,0.029527230188251,0.109067589044571,0.007668099831790,-0.213147804141045,-0.030242966488004,-0.126609265804291,0.228338047862053,0.055756181478500,-0.100147880613804,0.072197526693344,-0.217847794294357,-0.173015698790550,0.234229385852814,-0.038668673485518));
res += mul(Get(s3,dx,dy), float4x4(0.096573442220688,-0.086006373167038,0.055160671472549,-0.127386569976807,0.015832884237170,-0.026045417413116,-0.014649799093604,-0.090103350579739,0.057373408228159,-0.019588939845562,-0.048155173659325,-0.025346912443638,0.105014115571976,-0.177319422364235,0.103096857666969,-0.144446194171906));
return max(float4(0,0,0,0), res);
}
