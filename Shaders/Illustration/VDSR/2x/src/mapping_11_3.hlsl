sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.091457337141037,0.015863364562392,-0.017912739887834,-0.007143109105527,0.057492341846228,0.080737479031086,-0.036345444619656,-0.052972037345171,0.074227109551430,-0.037765018641949,-0.077292896807194,-0.027685204520822,0.047775268554688,0.119327485561371,0.160978287458420,-0.069064356386662));
res += mul(Get(s0,-dx,0), float4x4(0.056516446173191,-0.104918353259563,0.068377099931240,-0.153508648276329,-0.099684923887253,-0.016057765111327,-0.150979235768318,0.073279567062855,0.142551183700562,-0.010736154392362,0.010269102640450,-0.047555580735207,0.084859371185303,0.004148133564740,0.107795611023903,0.027782790362835));
res += mul(Get(s0,-dx,dy), float4x4(-0.247484654188156,0.023894758895040,0.058631960302591,-0.001462303567678,0.035903427749872,0.004287124145776,-0.069092668592930,0.051950823515654,-0.008808992803097,-0.030300494283438,0.101247772574425,-0.188283607363701,0.008666546083987,0.083330020308495,0.142119362950325,0.029472708702087));
res += mul(Get(s0,0,-dy), float4x4(-0.038241222500801,0.095800191164017,0.011451282538474,-0.058073252439499,-0.081035822629929,0.015853786841035,-0.033173765987158,-0.102971881628036,-0.034326840192080,-0.154155746102333,-0.016505844891071,0.053106695413589,0.111125767230988,0.021241296082735,0.091074302792549,-0.031041769310832));
res += mul(Get(s0,0,0), float4x4(0.105623833835125,0.030666828155518,0.051333148032427,-0.076899163424969,-0.126972302794456,-0.163601756095886,-0.175709277391434,-0.047971751540899,0.021400880068541,0.080071881413460,-0.059444583952427,0.142312705516815,-0.010685343295336,0.030346596613526,0.080295212566853,0.024737544357777));
res += mul(Get(s0,0,dy), float4x4(-0.070121549069881,-0.002352901734412,0.101334691047668,-0.045457392930984,0.050304062664509,-0.001655061962083,-0.103759534657001,0.192927584052086,-0.083870626986027,0.000309815077344,0.128557771444321,-0.028764754533768,0.095815896987915,0.060136936604977,0.144052386283875,-0.056868351995945));
res += mul(Get(s0,dx,-dy), float4x4(-0.014835032634437,0.067493610084057,0.050679355859756,0.004388705827296,-0.064294509589672,-0.076054811477661,-0.130531311035156,-0.064004369080067,0.043012764304876,-0.019474247470498,0.011115048080683,0.044438906013966,0.097300693392754,0.123901911079884,0.076632738113403,-0.021804897114635));
res += mul(Get(s0,dx,0), float4x4(0.096467316150665,0.021060457453132,0.086102731525898,-0.016598768532276,0.062179017812014,-0.104143075644970,-0.203614741563797,0.152820408344269,0.030792133882642,0.037389565259218,-0.006891108583659,0.038160905241966,0.115568138659000,0.123463466763496,0.048737362027168,0.154420569539070));
res += mul(Get(s0,dx,dy), float4x4(-0.021687919273973,0.086671911180019,0.129998564720154,0.090146042406559,-0.010212268680334,0.004510778002441,-0.147778198122978,0.123418331146240,-0.026557976379991,0.036974061280489,0.068441815674305,0.040226224809885,0.064003102481365,0.210376054048538,-0.000902087718714,0.059328235685825));
res += mul(Get(s1,-dx,-dy), float4x4(0.087970621883869,0.150101333856583,0.048604827374220,-0.026280211284757,0.054373648017645,0.023391149938107,-0.031955353915691,0.050576254725456,-0.077595412731171,0.049547407776117,-0.020989475771785,-0.125867828726768,-0.149690881371498,0.153485476970673,0.021139251068234,0.109719909727573));
res += mul(Get(s1,-dx,0), float4x4(-0.046366274356842,-0.121381759643555,-0.031371138989925,-0.013655520975590,0.032196473330259,0.184992164373398,-0.042262308299541,-0.028976179659367,-0.021455563604832,0.120165310800076,-0.018525471910834,0.033881455659866,0.235484227538109,0.009180055931211,0.103770889341831,-0.014753623865545));
res += mul(Get(s1,-dx,dy), float4x4(0.051561716943979,-0.000467925710836,-0.096145465970039,0.023242760449648,0.279246121644974,-0.050138499587774,-0.135405555367470,-0.138825625181198,0.091206707060337,0.199304088950157,-0.027350185438991,-0.066912889480591,0.089751638472080,0.039544131606817,0.047946993261576,-0.074251785874367));
res += mul(Get(s1,0,-dy), float4x4(-0.047612734138966,0.003834710689262,0.044001344591379,0.090344332158566,-0.029401278123260,0.027208913117647,-0.068894766271114,-0.017583508044481,-0.080628111958504,0.191189736127853,0.022280210629106,0.068005338311195,0.070809438824654,0.265538245439529,-0.125702947378159,-0.002577840583399));
res += mul(Get(s1,0,0), float4x4(-0.013518215157092,-0.071410015225410,0.007052467204630,-0.056667026132345,-0.074217349290848,0.073452755808830,-0.035718489438295,-0.086302749812603,-0.040940001606941,0.347854107618332,-0.008891873061657,-0.165371373295784,-0.054104413837194,-0.000325231725583,0.029221892356873,-0.031442996114492));
res += mul(Get(s1,0,dy), float4x4(0.021052220836282,-0.023046944290400,-0.100753128528595,0.046733248978853,-0.131156325340271,0.062780320644379,-0.212686732411385,-0.171026825904846,-0.086903132498264,0.074035562574863,0.053400997072458,0.024060983210802,0.036954443901777,-0.003286213614047,-0.066981792449951,-0.140692070126534));
res += mul(Get(s1,dx,-dy), float4x4(0.060857005417347,-0.090203955769539,0.134302869439125,0.029429608955979,-0.022914079949260,-0.047135487198830,-0.060226626694202,-0.128566771745682,0.020509930327535,0.089962378144264,0.021362623199821,0.230861961841583,0.034623108804226,0.054144565016031,-0.055358849465847,0.049985658377409));
res += mul(Get(s1,dx,0), float4x4(0.128743648529053,-0.093327097594738,0.152086824178696,-0.001977369189262,0.077420398592949,0.009407454170287,-0.061984051018953,-0.177283897995949,-0.102577671408653,0.086173646152020,0.114917725324631,-0.041232604533434,0.018209664151073,0.041060686111450,0.058253210037947,-0.003698671236634));
res += mul(Get(s1,dx,dy), float4x4(-0.035039570182562,-0.064657464623451,0.010383768938482,0.004860430024564,-0.012052174657583,0.039050158113241,-0.095138110220432,-0.137836992740631,-0.052719820290804,0.178663283586502,0.143848106265068,0.015995662659407,-0.079497449100018,-0.009218756109476,0.090973071753979,-0.032058000564575));
res += mul(Get(s2,-dx,-dy), float4x4(0.006243255920708,-0.056367844343185,0.000334671611199,-0.021884886547923,-0.031494136899710,0.019828584045172,0.017040116712451,-0.031687952578068,-0.020961195230484,-0.062993936240673,0.022601457312703,0.045194201171398,0.311430126428604,-0.049411118030548,0.044378150254488,0.070259667932987));
res += mul(Get(s2,-dx,0), float4x4(-0.083574056625366,-0.003768341615796,0.053873408585787,-0.028398159891367,-0.006874304264784,-0.022089805454016,0.035324290394783,0.004008340649307,-0.099841289222240,0.176688075065613,-0.083238743245602,0.069772399961948,0.074387617409229,0.013126757927239,0.073896922171116,0.052903302013874));
res += mul(Get(s2,-dx,dy), float4x4(-0.003212143667042,-0.118179455399513,0.117769435048103,-0.048100188374519,0.195355385541916,0.030041929334402,0.044050056487322,0.103199362754822,-0.044890698045492,0.026989996433258,0.022044191136956,-0.029234481975436,0.026834646239877,0.073425099253654,0.058445882052183,-0.081274814903736));
res += mul(Get(s2,0,-dy), float4x4(0.152489811182022,-0.208629056811333,-0.061348281800747,0.089260958135128,0.045837175101042,-0.114611625671387,0.087929569184780,0.125903204083443,0.085657857358456,-0.036088727414608,-0.028198773041368,-0.074480757117271,0.141303226351738,-0.118686906993389,-0.045703120529652,-0.050272602587938));
res += mul(Get(s2,0,0), float4x4(-0.083127580583096,-0.113502174615860,-0.011305634863675,0.227110579609871,0.118884854018688,-0.002998860785738,0.047932222485542,0.178219631314278,-0.065233007073402,-0.074282683432102,-0.126601710915565,0.072656579315662,-0.037272084504366,-0.106372870504856,0.054160289466381,0.005800459999591));
res += mul(Get(s2,0,dy), float4x4(0.035685505717993,-0.056703679263592,0.072144672274590,-0.029020495712757,0.298858642578125,-0.002433212473989,0.030957201495767,0.107344299554825,-0.002550811972469,0.096567615866661,-0.033671747893095,-0.111781544983387,-0.089822567999363,0.095580331981182,0.011531830765307,-0.017172235995531));
res += mul(Get(s2,dx,-dy), float4x4(-0.037716645747423,-0.024718482047319,-0.168116614222527,0.137429177761078,0.068248748779297,0.005520883481950,0.106970719993114,0.062797568738461,-0.005231348797679,-0.078123383224010,-0.053823210299015,-0.038468252867460,-0.064373217523098,-0.068319551646709,-0.058275535702705,-0.107881866395473));
res += mul(Get(s2,dx,0), float4x4(-0.007908286526799,-0.068108394742012,-0.117780745029449,0.155640244483948,-0.139452084898949,0.110110826790333,0.141308188438416,0.094786614179611,-0.076934024691582,-0.094692669808865,-0.138656824827194,-0.001842464553192,0.011224027723074,-0.074254356324673,0.053443469107151,0.060028813779354));
res += mul(Get(s2,dx,dy), float4x4(0.079456478357315,-0.052977658808231,-0.028513275086880,-0.225682616233826,-0.098260730504990,-0.071880415081978,-0.074233882129192,-0.056387532502413,-0.021859696134925,0.073710568249226,-0.092669993638992,-0.089427337050438,0.047406814992428,0.141675382852554,0.010981080122292,-0.014886377379298));
res += mul(Get(s3,-dx,-dy), float4x4(0.000378671189537,0.006878678686917,0.018862800672650,0.051922995597124,0.075596503913403,-0.043320495635271,-0.059544552117586,0.021285666152835,-0.053936611860991,-0.010539737530053,0.097943551838398,-0.037882402539253,0.050656132400036,0.049816317856312,-0.003943844698370,-0.116442963480949));
res += mul(Get(s3,-dx,0), float4x4(-0.064715608954430,0.002332052448764,-0.027707248926163,-0.075435012578964,0.031526710838079,0.062713809311390,-0.041361808776855,0.029594162479043,-0.012345464900136,-0.122664719820023,0.071978963911533,-0.166420087218285,0.084384679794312,0.047226268798113,0.043479710817337,-0.120877005159855));
res += mul(Get(s3,-dx,dy), float4x4(-0.060836754739285,0.023751029744744,-0.014415311627090,-0.110467188060284,0.130707859992981,-0.094460971653461,0.003533264854923,0.003655191045254,0.026159482076764,-0.161803647875786,-0.005518988240510,-0.048922371119261,0.054224964231253,-0.022753711789846,0.045638129115105,-0.210094332695007));
res += mul(Get(s3,0,-dy), float4x4(-0.051449783146381,-0.039090052247047,0.041687045246363,-0.002198713598773,0.023504642769694,-0.062935478985310,0.025369027629495,0.034230370074511,-0.021055672317743,-0.018734971061349,-0.021309992298484,0.008487673476338,0.037678137421608,0.079400658607483,-0.073806352913380,-0.054316502064466));
res += mul(Get(s3,0,0), float4x4(-0.090880341827869,-0.137711495161057,0.020174495875835,-0.032475784420967,-0.018212936818600,-0.033109620213509,0.178211435675621,0.153307572007179,-0.102191038429737,-0.029567774385214,-0.116267308592796,0.010237912647426,-0.054815307259560,0.134852766990662,-0.034710414707661,-0.032812211662531));
res += mul(Get(s3,0,dy), float4x4(-0.077842943370342,-0.041789539158344,0.117048807442188,0.021616907790303,-0.045327972620726,-0.042180627584457,0.035976406186819,-0.064749889075756,-0.008455375209451,-0.038233064115047,-0.207691267132759,0.218975797295570,0.025448562577367,0.062017679214478,0.032663568854332,-0.155497267842293));
res += mul(Get(s3,dx,-dy), float4x4(0.056486193090677,-0.013557040132582,-0.088955529034138,0.069040246307850,-0.112777069211006,0.003669636789709,-0.066164635121822,-0.008989199995995,-0.166589856147766,-0.065576121211052,-0.076263748109341,-0.023950107395649,-0.099463559687138,0.064298219978809,0.130243599414825,-0.106234006583691));
res += mul(Get(s3,dx,0), float4x4(-0.001086554140784,-0.099689371883869,0.188457429409027,0.121562696993351,0.008984710089862,0.083497889339924,-0.000924636784475,-0.130405530333519,-0.150834590196609,-0.015064333565533,-0.116707228124142,-0.110642388463020,-0.067330308258533,0.131536394357681,0.123800292611122,-0.084483481943607));
res += mul(Get(s3,dx,dy), float4x4(-0.125992313027382,0.020743647590280,-0.011143250390887,-0.011615919880569,-0.083407677710056,0.009161817841232,0.092787057161331,-0.064893692731857,-0.133425593376160,-0.037770166993141,-0.214918464422226,0.118393495678902,0.008671171963215,0.097123131155968,0.114373020827770,-0.091680862009525));
return max(float4(0,0,0,0), res);
}
