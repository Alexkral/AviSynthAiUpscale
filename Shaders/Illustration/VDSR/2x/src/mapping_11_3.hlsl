sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.028803067281842,0.018984891474247,0.039246447384357,0.062556929886341,-0.023248177021742,-0.025629891082644,0.112382881343365,0.025838157162070,-0.121305115520954,0.090010851621628,-0.027761360630393,-0.133081495761871,0.110737413167953,-0.059493441134691,-0.014786002226174,-0.198375895619392));
res += mul(Get(s0,-dx,0), float4x4(0.012974565848708,0.011190015822649,-0.026993066072464,0.059650804847479,-0.006172822788358,0.079705610871315,0.006318924017251,0.071563400328159,0.031013609841466,-0.145213186740875,-0.083358787000179,0.067225128412247,0.141151905059814,0.080544710159302,-0.006145263090730,-0.044375751167536));
res += mul(Get(s0,-dx,dy), float4x4(0.014405689202249,0.042160484939814,0.031768761575222,0.046940285712481,-0.012235754169524,0.000493836239912,-0.132416307926178,-0.003324602497742,-0.068006746470928,0.007302829995751,-0.125764369964600,-0.016735687851906,0.077525250613689,0.056459955871105,-0.028346514329314,0.017915574833751));
res += mul(Get(s0,0,-dy), float4x4(0.006120625417680,-0.085559226572514,0.353448987007141,-0.083345428109169,0.021974209696054,0.104699283838272,0.007681881077588,0.068406760692596,0.161601781845093,-0.019015362486243,0.163522183895111,-0.154405176639557,0.097898192703724,-0.087369091808796,-0.187987729907036,0.087450668215752));
res += mul(Get(s0,0,0), float4x4(-0.021024091169238,-0.062281005084515,0.004956050775945,-0.057871960103512,-0.043181944638491,-0.005726535804570,-0.043251454830170,0.073308341205120,0.106826357543468,-0.235557883977890,-0.040573384612799,0.083625853061676,0.179008543491364,0.069151051342487,-0.008657695725560,-0.023591391742229));
res += mul(Get(s0,0,dy), float4x4(-0.254690170288086,-0.069508276879787,0.018008334562182,0.062632046639919,-0.076101928949356,-0.224548146128654,-0.005612985696644,-0.043345551937819,0.029806876555085,0.157117292284966,-0.093425020575523,0.174641177058220,0.031219730153680,-0.027743762359023,0.100413441658020,-0.040180061012506));
res += mul(Get(s0,dx,-dy), float4x4(-0.000735786452424,0.079962275922298,0.070748910307884,-0.217403411865234,-0.035921104252338,-0.079207867383957,-0.096406854689121,0.026372313499451,-0.068012170493603,-0.089290626347065,-0.019022593274713,0.134954079985619,-0.087637200951576,-0.163865149021149,0.091246344149113,-0.042516339570284));
res += mul(Get(s0,dx,0), float4x4(0.035843729972839,-0.031618557870388,-0.117709383368492,-0.004044492729008,-0.094612702727318,0.037913344800472,-0.027815185487270,0.180961027741432,-0.017165372148156,0.038364786654711,0.027540694922209,0.029086716473103,-0.026642212644219,0.064216047525406,0.119151823222637,0.085658237338066));
res += mul(Get(s0,dx,dy), float4x4(0.007114769890904,-0.104387685656548,-0.098803229629993,0.022378537803888,-0.031457513570786,-0.059386685490608,0.046480398625135,0.023593936115503,-0.051478110253811,0.059292398393154,0.092749826610088,0.024516636505723,0.013905442319810,0.158901825547218,-0.113115049898624,-0.074595242738724));
res += mul(Get(s1,-dx,-dy), float4x4(-0.161515384912491,0.039014127105474,-0.034485243260860,0.079922750592232,-0.035007510334253,0.010570479556918,-0.101928390562534,-0.044765908271074,-0.026268836110830,0.207221820950508,0.025359090417624,-0.085754036903381,-0.158711999654770,0.037407957017422,0.025202762335539,-0.131117552518845));
res += mul(Get(s1,-dx,0), float4x4(-0.012005321681499,-0.040108669549227,0.118870086967945,0.052765198051929,0.238549754023552,0.004446676000953,0.003976045642048,-0.017995115369558,0.040091078728437,-0.089104816317558,-0.034122001379728,-0.039839956909418,-0.160176381468773,-0.074068918824196,0.013322989456356,-0.013221942819655));
res += mul(Get(s1,-dx,dy), float4x4(0.054052855819464,-0.102114297449589,0.008435050956905,-0.043503291904926,-0.069216266274452,0.018845448270440,0.051294412463903,-0.154891222715378,0.111418999731541,0.023830203339458,-0.121181264519691,0.063494615256786,-0.161611452698708,0.101376853883266,-0.021975912153721,0.068224295973778));
res += mul(Get(s1,0,-dy), float4x4(-0.003855687798932,0.005056871101260,-0.054353997111320,0.042075749486685,0.074572473764420,-0.085028536617756,0.062898270785809,0.145111963152885,0.080561295151711,-0.133718833327293,-0.063821732997894,0.007098680362105,-0.145418897271156,-0.003609981155023,-0.062145005911589,-0.102064356207848));
res += mul(Get(s1,0,0), float4x4(-0.021100062876940,-0.065818034112453,0.189430221915245,0.108256921172142,0.020313423126936,-0.110224582254887,0.073015294969082,-0.036389689892530,-0.056908588856459,-0.037128865718842,0.050292592495680,0.114319384098053,-0.077787078917027,-0.061016961932182,0.086507789790630,-0.104860149323940));
res += mul(Get(s1,0,dy), float4x4(-0.025581728667021,-0.087449684739113,0.136396229267120,0.103747569024563,-0.047489114105701,-0.114572755992413,0.140675157308578,0.068204365670681,0.090927697718143,0.046407785266638,-0.087786264717579,0.181340992450714,0.109172664582729,-0.114075452089310,0.033485937863588,-0.078097179532051));
res += mul(Get(s1,dx,-dy), float4x4(0.074058085680008,-0.061182748526335,0.057989772409201,0.122214436531067,0.041332591325045,-0.017883928492665,0.242346510291100,0.178008854389191,-0.129991069436073,-0.184319064021111,-0.106388427317142,0.009350798092782,0.000887158443220,-0.047634363174438,-0.027162780985236,-0.020597010850906));
res += mul(Get(s1,dx,0), float4x4(0.032624065876007,-0.151656582951546,0.001609903993085,0.065798953175545,-0.131729200482368,-0.054810017347336,0.174210190773010,0.046258062124252,-0.032748244702816,0.096979722380638,0.098134413361549,0.024493604898453,-0.112809710204601,0.002840002765879,0.125690534710884,-0.023798447102308));
res += mul(Get(s1,dx,dy), float4x4(-0.021763414144516,-0.018693849444389,-0.068666256964207,-0.088860876858234,-0.010983635671437,0.001314010703936,0.184492930769920,-0.084065929055214,0.030566159635782,0.102391108870506,-0.042798191308975,-0.002132354537025,0.009796116501093,0.083280779421329,-0.098624803125858,-0.034847840666771));
res += mul(Get(s2,-dx,-dy), float4x4(0.009158495813608,-0.053288821130991,0.206629097461700,0.144763842225075,0.104833252727985,-0.052217286080122,0.023004809394479,-0.010950018651783,-0.009810429997742,-0.060929495841265,0.135430693626404,0.108801811933517,0.006102026905864,-0.211551472544670,-0.169906273484230,0.170439973473549));
res += mul(Get(s2,-dx,0), float4x4(0.092262238264084,0.036514554172754,0.066844284534454,-0.182584911584854,0.082770414650440,-0.117439314723015,0.019174672663212,0.099579542875290,0.059484418481588,-0.048542559146881,-0.033109374344349,0.171387776732445,-0.098985217511654,-0.151446223258972,-0.040682684630156,-0.032262958586216));
res += mul(Get(s2,-dx,dy), float4x4(-0.082234747707844,-0.096314266324043,0.006109073758125,-0.043753143399954,-0.092235215008259,-0.057237561792135,-0.009635272435844,-0.239697128534317,-0.067588627338409,0.161319658160210,-0.059877172112465,0.009523103944957,-0.018134631216526,-0.160270139575005,-0.053299166262150,0.144993841648102));
res += mul(Get(s2,0,-dy), float4x4(-0.099420353770256,-0.101655498147011,-0.182442486286163,-0.097056061029434,-0.136846169829369,0.067416116595268,0.020553747192025,-0.177819713950157,0.010459747165442,0.014925625175238,0.033929675817490,-0.123706057667732,-0.002096872776747,-0.094505704939365,-0.017573777586222,0.183262392878532));
res += mul(Get(s2,0,0), float4x4(0.090587072074413,0.098438456654549,-0.172666907310486,0.064038790762424,-0.143753945827484,0.072869077324867,-0.025527637451887,-0.051302090287209,-0.009422790259123,-0.044568005949259,-0.024626282975078,0.269451200962067,0.119007766246796,0.019945373758674,0.104326903820038,0.121577784419060));
res += mul(Get(s2,0,dy), float4x4(-0.233168333768845,-0.131947025656700,-0.016796432435513,0.066807299852371,0.048353489488363,-0.012643707916141,-0.186842709779739,0.036337729543447,0.152390748262405,0.177601426839828,0.104038186371326,-0.070449478924274,-0.116076603531837,0.023912452161312,0.069908820092678,0.131197378039360));
res += mul(Get(s2,dx,-dy), float4x4(0.043712835758924,0.080256871879101,0.034559380263090,0.138691857457161,-0.163009598851204,-0.125400558114052,-0.082760289311409,0.081349782645702,-0.038860127329826,0.019597686827183,-0.103066563606262,0.044711854308844,-0.112315848469734,0.100894041359425,0.090354695916176,0.103346422314644));
res += mul(Get(s2,dx,0), float4x4(-0.086262181401253,0.111264519393444,0.011257693171501,0.023350229486823,-0.127298802137375,-0.037330292165279,0.107196807861328,0.117530897259712,-0.075187385082245,0.185484185814857,-0.180104658007622,-0.037035435438156,-0.182742401957512,-0.055422455072403,0.089791528880596,-0.079354397952557));
res += mul(Get(s2,dx,dy), float4x4(-0.139243483543396,-0.043057177215815,0.016499731689692,0.028012949973345,0.030484622344375,-0.042618840932846,-0.153085887432098,-0.172784179449081,0.014045837335289,0.108037181198597,0.074283756315708,0.014660917222500,0.083072908222675,0.092848703265190,0.038926530629396,-0.068354308605194));
res += mul(Get(s3,-dx,-dy), float4x4(0.048074461519718,0.005606293212622,-0.130630418658257,-0.049094919115305,-0.110941872000694,-0.110826700925827,-0.006007661577314,-0.029736110940576,-0.083951368927956,-0.047688193619251,-0.029962152242661,-0.070150569081306,0.052160054445267,0.003290858585387,0.055000193417072,-0.034326668828726));
res += mul(Get(s3,-dx,0), float4x4(-0.131126686930656,-0.005518248770386,-0.007263244129717,0.037491742521524,0.041064918041229,0.021696966141462,0.012239782139659,0.065962620079517,-0.052781093865633,0.014559380710125,0.012646785937250,0.065343216061592,-0.128709837794304,0.001089924247935,0.045366995036602,0.097088299691677));
res += mul(Get(s3,-dx,dy), float4x4(-0.090520836412907,0.027785336598754,-0.026800213381648,0.058455709367990,0.177272573113441,-0.087621755897999,0.051704689860344,0.082795090973377,-0.152035355567932,-0.181465119123459,-0.021935665979981,-0.179598838090897,0.012230390682817,-0.071803420782089,-0.028221530839801,-0.011442106217146));
res += mul(Get(s3,0,-dy), float4x4(-0.074137546122074,0.077749222517014,-0.087443225085735,0.017743965610862,0.037671606987715,0.113154433667660,0.056958101689816,-0.123739846050739,0.013653168454766,-0.081489950418472,-0.065964028239250,0.033189322799444,0.063657596707344,-0.005942170042545,-0.010838492773473,0.042338725179434));
res += mul(Get(s3,0,0), float4x4(-0.100272431969643,-0.041352432221174,0.080345638096333,-0.171173900365829,0.061085246503353,-0.189909815788269,-0.038150247186422,0.003035230562091,-0.000381249410566,0.007730708457530,0.077047288417816,0.095232374966145,0.160646453499794,0.090743869543076,-0.131213024258614,0.006555521860719));
res += mul(Get(s3,0,dy), float4x4(0.020699746906757,-0.068227991461754,0.198014676570892,-0.100183099508286,0.076686903834343,-0.145509466528893,0.094276480376720,-0.013592733070254,0.289457768201828,-0.127301812171936,-0.053655054420233,0.214242547750473,0.024131797254086,0.080035857856274,0.056068599224091,-0.016224835067987));
res += mul(Get(s3,dx,-dy), float4x4(-0.001111063058488,-0.044729206711054,0.150488093495369,-0.067256197333336,0.122484669089317,0.065279036760330,-0.006135956849903,0.028283543884754,0.003755583195016,-0.039615407586098,-0.074826017022133,0.035741597414017,-0.134022265672684,-0.106247179210186,-0.096863798797131,-0.083611130714417));
res += mul(Get(s3,dx,0), float4x4(-0.016780126839876,0.097153611481190,0.014070927165449,-0.095368877053261,-0.110126174986362,-0.061227034777403,0.040431398898363,0.167769134044647,-0.035037595778704,-0.023327598348260,-0.013158786110580,0.146881803870201,-0.054085806012154,0.121243707835674,0.097892813384533,0.005545418709517));
res += mul(Get(s3,dx,dy), float4x4(0.052002556622028,0.058175038546324,-0.034851659089327,-0.062713965773582,-0.019617579877377,0.029772117733955,0.107539795339108,-0.039910793304443,-0.200156465172768,-0.058412216603756,0.121030561625957,0.087027169764042,0.112605698406696,0.045506559312344,0.021185182034969,0.028408443555236));
return max(float4(0,0,0,0), res);
}
