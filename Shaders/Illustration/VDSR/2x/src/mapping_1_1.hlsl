sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.015755508095026,-0.169698297977448,-0.043875653296709,0.079412519931793,0.023052157834172,-0.005758847109973,0.003348984289914,-0.067034438252449,0.005474846810102,-0.000304561166558,-0.018813639879227,-0.009032189846039,-0.018311852589250,-0.010201000608504,-0.007239312399179,0.000192808380234));
res += mul(Get(s0,-dx,0), float4x4(-0.017626741901040,-0.188795641064644,-0.064085774123669,0.050817560404539,-0.010876432061195,-0.004135660361499,-0.023521307855844,-0.035857781767845,-0.074679479002953,-0.003031631233171,0.021524943411350,-0.027069883421063,0.000963730213698,-0.014629982411861,0.029505113139749,0.002826338633895));
res += mul(Get(s0,-dx,dy), float4x4(0.028367973864079,-0.142209067940712,-0.053730297833681,0.120101816952229,0.000593650154769,-0.028785264119506,-0.014000447466969,-0.042581472545862,0.040816448628902,-0.123143739998341,0.051552526652813,-0.009144121780992,-0.025442797690630,0.006509558297694,0.000961872923654,-0.008925435133278));
res += mul(Get(s0,0,-dy), float4x4(0.000003627050319,-0.015172483399510,0.101524941623211,-0.147639870643616,-0.028072534129024,-0.016706878319383,-0.015464670024812,-0.013869199901819,0.020785834640265,-0.010893428698182,0.032803408801556,0.003136693732813,-0.017884172499180,-0.019106039777398,-0.018364010378718,0.002604626119137));
res += mul(Get(s0,0,0), float4x4(-0.045022901147604,-0.001422704313882,0.110054284334183,-0.190943062305450,-0.012782215140760,0.022870101034641,0.039912544190884,-0.003833370050415,-0.018952038139105,0.063533991575241,0.010864291340113,-0.092340178787708,0.001545645063743,-0.006191486492753,0.026522403582931,0.004959811922163));
res += mul(Get(s0,0,dy), float4x4(0.041027348488569,-0.028648955747485,0.020359270274639,-0.166736453771591,0.086111538112164,-0.019139517098665,0.023285396397114,-0.021797262132168,0.048892881721258,-0.070210680365562,-0.032058939337730,-0.037098914384842,-0.027341010048985,0.014432559721172,0.002293998375535,-0.012667034752667));
res += mul(Get(s0,dx,-dy), float4x4(-0.015032144263387,-0.030746228992939,-0.060247778892517,0.041144236922264,0.017886904999614,-0.009274668991566,0.011762117967010,-0.052646569907665,-0.011339670047164,-0.045719504356384,0.015590757131577,0.019862396642566,-0.015810081735253,-0.011630075983703,-0.013372650370002,0.002346826717257));
res += mul(Get(s0,dx,0), float4x4(0.037663169205189,-0.012261040508747,-0.020568635314703,0.012120587751269,-0.028569996356964,0.033471181988716,0.011811507865787,-0.059032261371613,-0.009183669462800,0.024920143187046,-0.051127485930920,0.021707039326429,0.000827851181384,0.019415143877268,0.016838489100337,0.007165600545704));
res += mul(Get(s0,dx,dy), float4x4(0.032246265560389,-0.008074793033302,0.053621072322130,0.022330095991492,-0.013918814249337,0.004544755909592,0.004291505552828,-0.113006420433521,-0.097216121852398,-0.069772101938725,0.017141204327345,0.123859055340290,-0.028306066989899,0.004142128862441,0.000016331872757,-0.013435306027532));
res += mul(Get(s1,-dx,-dy), float4x4(-0.000002376142675,0.000000518182162,0.000001627781330,-0.000001358462328,-0.011787360534072,0.051416326314211,-0.079938009381294,-0.045659322291613,0.000000654224550,-0.000004425717179,-0.000001233830744,0.000004040268777,0.037906575948000,0.006573520600796,-0.043212417513132,0.028669958934188));
res += mul(Get(s1,-dx,0), float4x4(0.000000795130063,0.000000638057315,0.000000504120464,0.000000987614044,0.001811411813833,0.024859568104148,-0.012044613249600,-0.001217613578774,0.000004168241958,-0.000001888981728,-0.000000553008988,0.000004979628557,0.002135294256732,-0.051300648599863,-0.039219040423632,0.004495067056268));
res += mul(Get(s1,-dx,dy), float4x4(-0.000001464786351,-0.000001697242510,-0.000000688753573,-0.000002412772574,-0.139766022562981,0.049846686422825,-0.138945788145065,-0.059594567865133,0.000004018534128,-0.000004028171588,0.000002253899538,-0.000001246909164,0.001638924120925,-0.049905322492123,-0.041060503572226,0.108841344714165));
res += mul(Get(s1,0,-dy), float4x4(-0.000000589442095,-0.000000300756000,0.000001415537213,0.000000419511110,-0.058968927711248,-0.047800764441490,-0.034826014190912,0.004298695363104,0.000005734487331,0.000000719910929,0.000000096099711,-0.000002005956048,-0.025577614083886,0.022065570577979,0.055460002273321,-0.007620542775840));
res += mul(Get(s1,0,0), float4x4(0.000000955474206,-0.000003737644647,0.000001382757432,0.000001411117864,0.007231281138957,-0.093530006706715,0.261388897895813,0.004834129475057,0.000004745671504,-0.000001794899617,-0.000000876248578,-0.000005167788004,-0.027125781401992,0.038616646081209,0.127363935112953,-0.191753879189491));
res += mul(Get(s1,0,dy), float4x4(0.000001810365347,0.000001937581146,0.000000158666026,0.000000371655716,-0.200922518968582,-0.021712619811296,-0.139029785990715,-0.065021879971027,0.000002725976628,-0.000002317641702,0.000001172533416,-0.000006554195352,0.016327368095517,-0.013151019811630,0.044168118387461,-0.098508745431900));
res += mul(Get(s1,dx,-dy), float4x4(-0.000001967781145,-0.000001108130164,0.000000990187004,0.000001531022235,0.042425543069839,0.010735430754721,-0.074703425168991,0.004273154307157,0.000002059140797,-0.000003783311968,-0.000003353518650,0.000001522698540,-0.002255843020976,-0.024714350700378,-0.096259720623493,0.060063611716032));
res += mul(Get(s1,dx,0), float4x4(0.000002174458359,-0.000002106578222,0.000000720613741,0.000003554106115,-0.110292077064514,0.035027217119932,0.187931507825851,0.030002132058144,-0.000001510465836,-0.000004899904070,-0.000001961086127,-0.000005424699793,0.009155436418951,-0.036507554352283,-0.036612164229155,-0.015793014317751));
res += mul(Get(s1,dx,dy), float4x4(0.000001129890052,-0.000000476486349,-0.000001756455390,0.000001611038670,-0.096321687102318,0.032692577689886,-0.129970088601112,0.063797026872635,-0.000005454386610,-0.000004797547263,0.000001907122169,-0.000005053538644,0.020671468228102,0.008878084830940,0.001500608166680,0.031499810516834));
res += mul(Get(s2,-dx,-dy), float4x4(-0.015904163941741,-0.015284090302885,-0.041167978197336,0.002821743488312,-0.098084717988968,0.148551598191261,-0.165557205677032,-0.175667166709900,0.000014440111954,0.000424723286415,-0.000653140828945,-0.000161181713338,-0.000000301490644,0.000003233938742,-0.000000963320872,0.000001438517870));
res += mul(Get(s2,-dx,0), float4x4(-0.018822342157364,0.054702132940292,-0.048355311155319,-0.046433866024017,-0.169667050242424,0.502576529979706,0.121877178549767,-0.313284933567047,0.000104675789771,0.000650983012747,-0.000104857681436,-0.000245094095590,0.000000031856278,-0.000000285555302,-0.000002120420959,0.000001665980221));
res += mul(Get(s2,-dx,dy), float4x4(0.081533290445805,0.005469178315252,-0.043428212404251,-0.035598568618298,0.288902699947357,0.113933995366096,0.349836915731430,-0.282658755779266,-0.000217143679038,0.000685616862029,-0.000076750300650,-0.000501737522427,-0.000003049092811,0.000003025512115,-0.000002849750217,-0.000000282513298));
res += mul(Get(s2,0,-dy), float4x4(-0.035361226648092,-0.056454125791788,0.071997962892056,-0.002353347837925,0.007021220400929,0.041347935795784,-0.058264575898647,-0.111590251326561,-0.000052474853874,0.000259895052295,-0.000699343043379,-0.000031015639252,-0.000000259952031,0.000000011500056,-0.000000540861606,-0.000002322817409));
res += mul(Get(s2,0,0), float4x4(0.012924962677062,-0.037890963256359,0.145006373524666,-0.018762294203043,-0.299548476934433,-0.515484869480133,-0.294604957103729,0.250795274972916,0.000073879840784,0.000493699277285,-0.000011637750504,-0.000157690185006,0.000002685966592,0.000000116213165,-0.000003402679795,-0.000000680678966));
res += mul(Get(s2,0,dy), float4x4(-0.030405135825276,-0.022010292857885,-0.034409157931805,0.014507449232042,0.352608233690262,-0.100148923695087,0.151333168148994,0.254077672958374,-0.000226349919103,0.000409961037803,-0.000041806164518,-0.000347703578882,0.000000056887927,0.000000983241193,-0.000002679204727,-0.000001399726216));
res += mul(Get(s2,dx,-dy), float4x4(0.043590575456619,0.049130339175463,-0.048784300684929,0.046187177300453,-0.074735738337040,-0.008333764038980,-0.002303743967786,0.067249186336994,-0.000118485979328,0.000152962908032,-0.000639373436570,-0.000005948981652,0.000000089998892,-0.000000048538158,0.000001527206564,-0.000000891369552));
res += mul(Get(s2,dx,0), float4x4(0.019268665462732,0.003672108286992,-0.002698623575270,0.032363004982471,0.083926618099213,-0.097474873065948,-0.169749200344086,0.159939989447594,-0.000004341883596,0.000302007829305,0.000014397137420,-0.000097633528640,-0.000001298261964,0.000000081006881,-0.000001631586656,0.000001072904524));
res += mul(Get(s2,dx,dy), float4x4(0.012698417529464,-0.003545823739842,-0.026821054518223,0.035233844071627,-0.064975120127201,-0.064813569188118,0.046731133013964,0.134807899594307,-0.000169418504811,0.000101350713521,-0.000030815885111,-0.000209804231417,-0.000000078751299,0.000001650296099,-0.000001113862936,-0.000000903230557));
res += mul(Get(s3,-dx,-dy), float4x4(0.000000396853579,-0.000002962925691,0.000001541509050,-0.000001568898483,-0.000094246286608,-0.000227851007367,0.000022007772714,-0.000105525992694,0.000001310818902,0.000009618930562,0.000002555497076,-0.000012461016013,-0.000000080502694,-0.000000120822804,0.000001228347742,0.000000096276693));
res += mul(Get(s3,-dx,0), float4x4(0.000000735534854,0.000001041754558,-0.000000563497622,-0.000000710316101,-0.000227157914196,-0.000200528360438,-0.000007880093108,-0.000135388836497,-0.000004351365533,0.000007295116120,-0.000011764581359,-0.000018193453798,0.000001558840268,0.000001009204311,0.000002454425385,-0.000000721984691));
res += mul(Get(s3,-dx,dy), float4x4(-0.000000648360299,-0.000000215587420,0.000001747955025,-0.000000281624722,-0.000136078320793,-0.000126676823129,0.000038622805732,-0.000114610411401,0.000008365357644,0.000012287202480,-0.000009314720955,-0.000018963572074,0.000001031909505,0.000000196442286,-0.000002832651035,-0.000000638664176));
res += mul(Get(s3,0,-dy), float4x4(-0.000000427335493,0.000001223475579,-0.000000618401089,0.000000704770400,-0.000099499433418,0.000687900406774,0.000122344805277,-0.000073342824180,0.000021404182917,0.000021686022592,0.000016340023649,-0.000017182133888,0.000000620285618,0.000003138510920,0.000001785463041,-0.000002371539040));
res += mul(Get(s3,0,0), float4x4(0.000003515612207,0.000000461075047,0.000001734761554,-0.000001655002166,0.000223833005293,0.000398538482841,0.000127725390485,-0.000016485202650,0.000009390550076,0.000019295443053,0.000011917730262,-0.000018129525415,0.000002126358140,0.000000490196499,0.000002520706175,0.000001356477242));
res += mul(Get(s3,0,dy), float4x4(-0.000003935164386,0.000000858299529,0.000001036801564,0.000000553496079,0.000382141472073,0.000211350212339,0.000099551543826,0.000040533665015,0.000009278652215,0.000018768290829,0.000003289744200,-0.000019125285689,0.000001616146278,0.000003141065690,0.000000047102422,0.000000772875296));
res += mul(Get(s3,dx,-dy), float4x4(0.000003851843303,-0.000002628899892,-0.000000387934023,0.000000130559542,-0.000127384177176,0.000494506792165,0.000146508158650,-0.001244926941581,0.000026570040063,0.000029166969398,0.000012770742615,-0.000023900895030,0.000000429103068,-0.000001276063585,0.000003040076990,-0.000000157521654));
res += mul(Get(s3,dx,0), float4x4(0.000000560574676,-0.000001841681183,-0.000001520372052,0.000002313578761,-0.000072085058491,0.000758937210776,0.000101504716440,-0.001350281527266,0.000035801629565,0.000030411711123,0.000017342748833,-0.000021028194169,-0.000001263177865,0.000000869852443,0.000000253049222,0.000001771453753));
res += mul(Get(s3,dx,dy), float4x4(0.000001726165124,-0.000000834551827,-0.000001867340529,-0.000000370406838,0.000017511381884,0.000775973370764,0.000044345331844,-0.001416311948560,0.000031738982216,0.000025350906071,0.000013168182704,-0.000018612254280,-0.000001145238002,-0.000000459542747,-0.000002191495241,-0.000001517164947));
return max(float4(0,0,0,0), res);
}
