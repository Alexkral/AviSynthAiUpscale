sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.022921191528440,-0.170979931950569,-0.017817839980125,-0.052720587700605,-0.141859427094460,0.008195389993489,0.016752151772380,-0.005907287821174,0.048419740051031,0.015710199251771,0.013966050930321,0.110547430813313,-0.005706830881536,-0.006443779449910,0.071199767291546,0.008559426292777));
res += mul(Get(s0,-dx,0), float4x4(0.021909046918154,0.062495864927769,-0.092673614621162,0.028854776173830,-0.023595796898007,0.109269492328167,-0.022219300270081,-0.117067977786064,0.122525811195374,0.086920171976089,0.100453495979309,-0.025797614827752,0.089061729609966,0.063159346580505,0.147769033908844,-0.040455739945173));
res += mul(Get(s0,-dx,dy), float4x4(0.004009958822280,-0.052552245557308,-0.001611221348867,-0.031506154686213,0.007471168413758,-0.033436372876167,-0.026985660195351,-0.142348095774651,0.114872530102730,-0.028827812522650,-0.041380006819963,-0.016760040074587,0.058701518923044,0.011429482139647,-0.166240274906158,-0.037210680544376));
res += mul(Get(s0,0,-dy), float4x4(-0.006774366367608,0.037009764462709,-0.097336940467358,0.035831611603498,0.097016870975494,0.113172329962254,0.083191335201263,0.028217956423759,-0.040057752281427,-0.056655846536160,-0.053549122065306,0.097142443060875,0.039495103061199,0.189161390066147,0.107591971755028,-0.136861488223076));
res += mul(Get(s0,0,0), float4x4(0.209060519933701,0.036283504217863,0.057239349931479,-0.064858965575695,-0.144755616784096,0.029710033908486,0.000005812315521,-0.045155897736549,0.059538591653109,-0.033754445612431,0.194217666983604,0.087918773293495,0.129104286432266,0.032081641256809,0.152068614959717,0.081892967224121));
res += mul(Get(s0,0,dy), float4x4(-0.195020556449890,0.027731874957681,0.034272428601980,0.092892773449421,0.050700545310974,0.094407141208649,0.174649566411972,0.019796071574092,-0.054044701159000,-0.114948675036430,0.082751221954823,-0.071856476366520,0.091199032962322,0.184714883565903,0.007077375892550,0.048719849437475));
res += mul(Get(s0,dx,-dy), float4x4(0.203279465436935,-0.162629857659340,0.003750544041395,0.014892998151481,-0.050540070980787,0.016811778768897,-0.017939455807209,-0.036095958203077,-0.116922438144684,-0.052883751690388,-0.057669628411531,-0.152960434556007,0.025489114224911,-0.074677884578705,0.176914647221565,0.007463620975614));
res += mul(Get(s0,dx,0), float4x4(0.082926459610462,-0.126160413026810,-0.118027098476887,0.093824394047260,0.054369807243347,-0.062212228775024,0.121639765799046,0.238542959094048,0.122354067862034,-0.022086735814810,0.042906075716019,-0.108358174562454,-0.072563603520393,0.054243303835392,0.009854359552264,0.111505441367626));
res += mul(Get(s0,dx,dy), float4x4(0.085234433412552,-0.019200617447495,-0.059723455458879,0.006813554093242,0.081730857491493,-0.147446244955063,-0.013612018898129,0.034124489873648,0.028726607561111,0.003480944782495,-0.071386240422726,-0.145854949951172,-0.065124437212944,-0.027032788842916,-0.131124481558800,-0.092836558818817));
res += mul(Get(s1,-dx,-dy), float4x4(0.123483747243881,0.062210109084845,-0.227913722395897,0.042554896324873,0.091716200113297,0.077298998832703,-0.065209433436394,-0.030793149024248,0.102053113281727,0.038503404706717,0.013194211758673,0.015560722909868,-0.021653261035681,0.102429695427418,-0.017123922705650,0.045497998595238));
res += mul(Get(s1,-dx,0), float4x4(-0.167162626981735,0.061484824866056,-0.034624058753252,0.033806439489126,-0.203392148017883,-0.094490841031075,0.015255893580616,0.002003362867981,0.046258926391602,-0.163154616951942,-0.021086148917675,0.177607923746109,-0.104149311780930,-0.073749624192715,0.152869254350662,-0.067805275321007));
res += mul(Get(s1,-dx,dy), float4x4(-0.001986667979509,-0.226506531238556,0.073703438043594,0.032898232340813,-0.230919525027275,0.041905876249075,-0.004543466959149,-0.090516038239002,0.082940094172955,-0.028582526370883,-0.093906655907631,0.046895828098059,-0.016999458894134,0.175899982452393,-0.080493576824665,-0.155829146504402));
res += mul(Get(s1,0,-dy), float4x4(-0.201960042119026,-0.137539342045784,0.032312046736479,-0.076035007834435,-0.008697062730789,-0.079215355217457,-0.107152417302132,-0.001581698074006,0.109390363097191,0.066130787134171,-0.007101031951606,0.001887712278403,0.083729930222034,-0.112395092844963,0.005597791168839,0.143168061971664));
res += mul(Get(s1,0,0), float4x4(0.105451464653015,-0.149367243051529,0.043017294257879,0.030307164415717,-0.109956495463848,0.193292915821075,0.038758337497711,-0.332170546054840,0.121889613568783,0.020353529602289,-0.035285066813231,-0.182370901107788,0.099131688475609,0.018092839047313,0.098820507526398,0.205251470208168));
res += mul(Get(s1,0,dy), float4x4(0.089277498424053,0.041782159358263,-0.059518106281757,-0.057071462273598,0.012194809503853,0.001209199195728,-0.071833007037640,-0.089143678545952,-0.083416543900967,-0.064756587147713,0.055684261023998,-0.026132443919778,-0.093851514160633,-0.162250444293022,0.019357968121767,0.003548577660695));
res += mul(Get(s1,dx,-dy), float4x4(0.001827666419558,0.152432188391685,0.015120867639780,-0.090357571840286,0.075127758085728,0.187157809734344,0.031321305781603,-0.131142064929008,-0.000006557820598,-0.054070141166449,0.201113596558571,-0.159972384572029,-0.048210095614195,-0.074992142617702,0.145005464553833,-0.101136803627014));
res += mul(Get(s1,dx,0), float4x4(-0.005492475349456,-0.033976245671511,-0.169358998537064,-0.122301623225212,0.076088927686214,-0.022525439038873,0.153669148683548,-0.099059611558914,0.002639781683683,0.070908084511757,0.367686301469803,-0.019794054329395,0.013619799166918,-0.061598613858223,0.108570538461208,0.123260170221329));
res += mul(Get(s1,dx,dy), float4x4(-0.255108207464218,0.084262274205685,-0.078716456890106,0.110595956444740,-0.108703769743443,0.076383568346500,0.089017510414124,0.021800007671118,-0.448237448930740,-0.085121497511864,0.095864459872246,0.158225134015083,-0.030011741444468,0.041745774447918,0.030497631058097,-0.062953881919384));
res += mul(Get(s2,-dx,-dy), float4x4(0.169860586524010,0.074720032513142,-0.004386350978166,-0.068463392555714,-0.014406085945666,0.084116928279400,0.045023724436760,0.021410310640931,-0.012196007184684,0.041329097002745,0.048487946391106,-0.042583551257849,0.032933089882135,-0.062326997518539,-0.122284345328808,-0.131456449627876));
res += mul(Get(s2,-dx,0), float4x4(0.110385708510876,0.020605638623238,0.063798561692238,0.042875677347183,0.025975024327636,-0.023175181820989,0.087616316974163,-0.134680762887001,0.046365901827812,0.000854897778481,0.075075268745422,-0.157843306660652,-0.077173061668873,-0.072604544460773,-0.109473288059235,0.051559008657932));
res += mul(Get(s2,-dx,dy), float4x4(-0.144671842455864,-0.066276900470257,-0.214468523859978,-0.148036092519760,-0.094703793525696,-0.056302506476641,-0.035581778734922,0.129019320011139,-0.060736317187548,0.025723963975906,-0.158814445137978,0.021245354786515,-0.186884298920631,-0.181516423821449,-0.121576361358166,0.287192940711975));
res += mul(Get(s2,0,-dy), float4x4(0.054576497524977,0.041923776268959,0.022029675543308,-0.169913932681084,0.265214562416077,-0.002535663545132,-0.118180178105831,-0.045388929545879,0.126661390066147,0.014791228808463,0.069117493927479,0.002399023156613,0.186986625194550,0.091157130897045,-0.182064205408096,0.075489535927773));
res += mul(Get(s2,0,0), float4x4(-0.215830132365227,0.056309353560209,0.070343144237995,0.007158285472542,0.116217836737633,-0.052688069641590,-0.105900436639786,-0.055935230106115,-0.100627094507217,-0.058694224804640,0.020436581224203,0.123013824224472,-0.062357999384403,0.096920803189278,0.035480931401253,-0.080118373036385));
res += mul(Get(s2,0,dy), float4x4(0.034675285220146,-0.032989654690027,-0.050370097160339,0.075195342302322,-0.298704206943512,-0.042958982288837,0.057869665324688,0.039913613349199,-0.012298697605729,0.015337227843702,-0.104657128453255,0.130149960517883,0.010714300908148,-0.010186397470534,-0.166359066963196,0.089274600148201));
res += mul(Get(s2,dx,-dy), float4x4(-0.023877143859863,0.004439136013389,0.010281896218657,0.106295377016068,0.025735871866345,0.060297220945358,-0.068111829459667,0.034895617514849,0.036302689462900,0.033739462494850,-0.000969827931840,0.134008318185806,0.054583214223385,0.094284102320671,0.003429013537243,-0.105554886162281));
res += mul(Get(s2,dx,0), float4x4(-0.108716502785683,0.006902108434588,0.073781810700893,0.070144884288311,-0.171527296304703,0.088037408888340,-0.077303074300289,-0.000853337405715,-0.056744717061520,0.004879511427134,-0.204235956072807,-0.080893017351627,0.015532779507339,0.020860683172941,0.062902845442295,-0.145821928977966));
res += mul(Get(s2,dx,dy), float4x4(-0.078725248575211,-0.116807773709297,0.052562460303307,0.127394944429398,-0.044217273592949,-0.037227854132652,-0.193542048335075,0.094856828451157,0.039348792284727,0.165485516190529,-0.193092450499535,-0.052151888608932,-0.093106508255005,0.030092854052782,0.000697462004609,0.079902596771717));
res += mul(Get(s3,-dx,-dy), float4x4(0.113044433295727,0.040957652032375,-0.052332054823637,-0.111176453530788,-0.007511483505368,-0.017427925020456,0.038092818111181,-0.159092202782631,-0.243166059255600,0.123160466551781,0.043233212083578,0.079556584358215,0.120301775634289,-0.001604766352102,0.075151868164539,-0.029462497681379));
res += mul(Get(s3,-dx,0), float4x4(0.142334625124931,0.111859768629074,-0.069974407553673,-0.120832271873951,-0.152062058448792,-0.022660037502646,-0.024323774501681,-0.020668633282185,0.107501171529293,-0.189907804131508,-0.090536020696163,-0.135546550154686,-0.058316178619862,-0.068554982542992,0.095523752272129,-0.046136852353811));
res += mul(Get(s3,-dx,dy), float4x4(0.085960470139980,0.045876674354076,-0.074054278433323,0.078044846653938,0.019857130944729,0.056176211684942,-0.119067855179310,-0.051636688411236,0.220240458846092,0.004344870336354,0.082858286798000,0.000143913712236,0.059827618300915,-0.133186236023903,-0.003762794891372,-0.071691237390041));
res += mul(Get(s3,0,-dy), float4x4(-0.005404896568507,0.350988686084747,0.034190561622381,0.013556025922298,-0.098409876227379,0.042724508792162,0.224376276135445,0.040401015430689,0.035534415394068,0.029240744188428,0.077535502612591,0.073160380125046,-0.040364664047956,0.025239471346140,-0.136100232601166,0.001301573589444));
res += mul(Get(s3,0,0), float4x4(0.072918936610222,-0.060471411794424,0.081878863275051,0.092348292469978,-0.010900563560426,0.075236573815346,-0.230890363454819,0.043146081268787,-0.032940585166216,0.229508534073830,0.030280817300081,-0.022292988374829,-0.016352852806449,-0.117372386157513,-0.025373587384820,-0.212483286857605));
res += mul(Get(s3,0,dy), float4x4(-0.070833541452885,-0.209973409771919,0.180676698684692,-0.242817416787148,0.029307462275028,0.176874846220016,-0.058175105601549,0.042546115815639,0.024170642718673,-0.009330706670880,-0.041542835533619,0.054362386465073,-0.047095265239477,-0.124420866370201,-0.058216463774443,-0.043213814496994));
res += mul(Get(s3,dx,-dy), float4x4(0.058484759181738,-0.119564853608608,-0.007016145624220,0.059065353125334,-0.121695503592491,0.138907358050346,-0.112592071294785,-0.026334563270211,-0.150162488222122,-0.046957883983850,0.105648964643478,0.053075518459082,-0.096759572625160,0.134645089507103,-0.071886949241161,-0.053016379475594));
res += mul(Get(s3,dx,0), float4x4(-0.136468350887299,-0.072856120765209,-0.175017386674881,0.344395935535431,-0.038442540913820,-0.130756974220276,-0.071926385164261,-0.050594255328178,0.193784341216087,0.033515837043524,0.007736016064882,-0.067073725163937,-0.087587065994740,-0.040987748652697,0.023691348731518,-0.096158087253571));
res += mul(Get(s3,dx,dy), float4x4(-0.060166336596012,-0.044305317103863,-0.034691479057074,0.007945730350912,0.032083790749311,-0.239903986454010,0.040227897465229,-0.061408903449774,0.092877581715584,0.024365866556764,0.256672680377960,0.025144742801785,-0.009128199890256,-0.014441962353885,-0.049260716885328,0.078562781214714));
return max(float4(0,0,0,0), res);
}
