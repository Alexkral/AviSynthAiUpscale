sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.001167077338323,0.127777352929115,-0.065032072365284,0.058574732393026,-0.069362953305244,0.039781659841537,0.088343977928162,0.037529963999987,-0.069246537983418,0.032114397734404,0.163737758994102,0.024719970300794,0.028579147532582,-0.033519834280014,0.054582357406616,-0.071082822978497));
res += mul(Get(s0,-dx,0), float4x4(0.248867630958557,0.121936827898026,-0.045128311961889,0.120463341474533,-0.058840233832598,0.031293362379074,0.095218792557716,0.090368680655956,-0.033274196088314,-0.017360677942634,-0.026730082929134,-0.020359268411994,0.102622225880623,0.013655169866979,0.034041967242956,-0.026315947994590));
res += mul(Get(s0,-dx,dy), float4x4(0.146851226687431,0.039803944528103,-0.097735822200775,0.057831443846226,0.192554876208305,-0.006652615964413,0.122253157198429,0.042476173490286,-0.020382644608617,-0.032134827226400,-0.012836230918765,-0.046297766268253,0.032255012542009,0.040817640721798,0.089967057108879,-0.002189323771745));
res += mul(Get(s0,0,-dy), float4x4(0.018617929890752,0.030865987762809,-0.041717387735844,0.163044959306717,0.052522759884596,0.216355919837952,0.046757686883211,0.050430137664080,-0.012898387387395,0.120478413999081,0.157876700162888,-0.008066473528743,0.108555182814598,0.042704693973064,0.002810316393152,-0.082683622837067));
res += mul(Get(s0,0,0), float4x4(0.205346375703812,-0.016688834875822,0.019623059779406,0.153787195682526,0.061218429356813,-0.017217323184013,-0.016023265197873,-0.060494121164083,0.001948530087247,0.153581321239471,0.216257825493813,0.061911948025227,0.222243949770927,0.077487289905548,0.079781293869019,-0.026432923972607));
res += mul(Get(s0,0,dy), float4x4(0.073063820600510,-0.025404771789908,-0.008608735166490,0.013928855769336,0.433700293302536,0.147319942712784,0.064881883561611,0.088863819837570,-0.054625313729048,0.007432804442942,0.013300579041243,-0.066610373556614,0.055654287338257,0.040419340133667,0.080786973237991,-0.025485949590802));
res += mul(Get(s0,dx,-dy), float4x4(0.035410284996033,0.035820152610540,-0.003350717248395,0.189597532153130,0.067124217748642,0.067225858569145,0.022780001163483,0.045470058917999,-0.025752579793334,0.200309723615646,0.060436803847551,0.170961320400238,0.064388133585453,0.028792617842555,0.062330123037100,0.022610846906900));
res += mul(Get(s0,dx,0), float4x4(0.054080829024315,0.013005897402763,-0.022858584299684,-0.013209270313382,0.102981753647327,0.199128687381744,-0.007809385657310,-0.019059667363763,0.000452766485978,0.122895032167435,-0.020512457937002,0.143555045127869,0.284270465373993,0.131003662943840,0.083190642297268,-0.002882022177801));
res += mul(Get(s0,dx,dy), float4x4(0.082274697721004,0.062818385660648,-0.064261779189110,0.024757266044617,0.078831493854523,0.090961694717407,-0.079612061381340,0.029173297807574,0.037897128611803,0.157811284065247,0.018110940232873,0.084408231079578,0.102759793400764,0.079584255814552,0.094200052320957,-0.030313758179545));
res += mul(Get(s1,-dx,-dy), float4x4(0.043208409100771,0.127383843064308,0.013258593156934,-0.202901050448418,-0.103763610124588,-0.245905593037605,-0.117202542722225,0.121657237410545,-0.060812436044216,0.081176131963730,-0.012066364288330,0.046041376888752,-0.001428521587513,-0.035920090973377,0.101070620119572,0.010196016170084));
res += mul(Get(s1,-dx,0), float4x4(0.046553399413824,0.073849394917488,-0.267240732908249,-0.107109442353249,0.039154771715403,-0.169242277741432,-0.105992376804352,-0.052532859146595,0.027923008427024,0.103309087455273,-0.010888152755797,-0.082582779228687,0.029577424749732,-0.157815217971802,0.099488027393818,-0.004839690867811));
res += mul(Get(s1,-dx,dy), float4x4(0.157367885112762,0.183229744434357,-0.326928615570068,0.196581110358238,0.063753224909306,0.175510168075562,-0.120680749416351,0.167438432574272,0.015003138221800,0.136712387204170,-0.249653682112694,0.058684676885605,0.040643423795700,-0.048041600733995,-0.034257736057043,0.172862738370895));
res += mul(Get(s1,0,-dy), float4x4(-0.294996201992035,-0.064924255013466,0.045940402895212,-0.267768383026123,-0.146033480763435,-0.024367736652493,-0.102776311337948,0.065372996032238,-0.077610850334167,0.042077407240868,0.148462250828743,-0.089036233723164,0.135415211319923,0.018267504870892,0.051587365567684,0.145604476332664));
res += mul(Get(s1,0,0), float4x4(-0.192058026790619,-0.098981961607933,-0.088802434504032,-0.221917942166328,0.037917647510767,-0.171304807066917,-0.113577812910080,-0.072757065296173,0.069470152258873,0.061605781316757,0.015891546383500,-0.225547641515732,-0.167711630463600,-0.042183149605989,-0.045164190232754,-0.013704719953239));
res += mul(Get(s1,0,dy), float4x4(0.110651031136513,0.010159412398934,-0.086190521717072,0.138030737638474,0.107966423034668,0.024499898776412,0.017535109072924,0.164918214082718,0.039645556360483,0.031469050794840,0.131414040923119,0.023275898769498,0.088918231427670,-0.048304539173841,-0.080805867910385,0.288386076688766));
res += mul(Get(s1,dx,-dy), float4x4(-0.333471804857254,-0.031110705807805,0.117540746927261,-0.208630695939064,-0.022758945822716,0.045978493988514,-0.074414677917957,0.105365291237831,0.075219295918941,0.117107853293419,0.019678270444274,0.061180844902992,-0.029824320226908,-0.106071300804615,0.056039173156023,-0.018057379871607));
res += mul(Get(s1,dx,0), float4x4(-0.168756231665611,-0.126645222306252,-0.026148801669478,-0.066085509955883,0.135138645768166,-0.007872755639255,-0.085963428020477,-0.008538864552975,0.029603539034724,0.089327603578568,-0.103885896503925,0.137921869754791,-0.123607456684113,-0.154753237962723,-0.001957143424079,-0.097113527357578));
res += mul(Get(s1,dx,dy), float4x4(0.181131929159164,-0.112915545701981,0.048919871449471,0.173787429928780,0.200016587972641,0.076615639030933,0.041439767926931,0.201010584831238,-0.075970262289047,0.137784048914909,-0.088332831859589,0.165300622582436,0.248407661914825,-0.129126012325287,0.250323027372360,0.369001239538193));
res += mul(Get(s2,-dx,-dy), float4x4(-0.120610684156418,-0.033505134284496,-0.057219050824642,-0.052700791507959,0.108819097280502,-0.048402842134237,0.157162159681320,0.073730051517487,0.018960475921631,-0.128666892647743,-0.042429815977812,-0.161971315741539,0.016450842842460,-0.008201221935451,-0.092773705720901,-0.075116910040379));
res += mul(Get(s2,-dx,0), float4x4(0.029731575399637,0.083339750766754,-0.045827381312847,0.008851516060531,-0.073356233537197,-0.123986914753914,-0.013077513314784,0.051760397851467,-0.021069807931781,-0.126094743609428,-0.022779071703553,-0.070617586374283,0.276589572429657,-0.006193746812642,-0.049360405653715,-0.123056948184967));
res += mul(Get(s2,-dx,dy), float4x4(0.032062705606222,0.114806003868580,0.040691167116165,0.096867613494396,-0.098311945796013,-0.096031486988068,0.030400194227695,-0.184284105896950,-0.055127095431089,0.085753187537193,-0.049277983605862,0.013605892658234,0.185024261474609,0.036176782101393,0.090317726135254,0.066987968981266));
res += mul(Get(s2,0,-dy), float4x4(-0.197771474719048,-0.048178426921368,0.049384262412786,-0.087143652141094,-0.063292846083641,0.010296782478690,0.149449184536934,0.034954331815243,0.021169405430555,-0.007792048621923,-0.010005376301706,-0.094624511897564,0.207095295190811,0.031512081623077,0.017779257148504,0.025433594360948));
res += mul(Get(s2,0,0), float4x4(-0.284213215112686,-0.151501014828682,-0.115578621625900,0.032826442271471,-0.330538570880890,-0.254515141248703,-0.182349294424057,-0.136832669377327,0.016117930412292,0.031973443925381,0.080147884786129,-0.038009800016880,0.383953243494034,0.231223881244659,0.151704609394073,0.031332097947598));
res += mul(Get(s2,0,dy), float4x4(-0.093372099101543,0.009381039068103,-0.027875777333975,0.057387821376324,-0.006178949028254,-0.253918379545212,-0.132158577442169,-0.273947030305862,0.149550884962082,0.066575996577740,0.071519777178764,0.050938114523888,-0.035477146506310,0.173894152045250,0.060936562716961,-0.018378486856818));
res += mul(Get(s2,dx,-dy), float4x4(-0.148760572075844,0.083205036818981,0.163199678063393,-0.067855730652809,-0.029438400641084,0.009017537347972,0.059224031865597,-0.067861407995224,0.118606738746166,-0.029430620372295,-0.053147297352552,0.142050892114639,0.169806778430939,-0.016487505286932,0.044850632548332,0.044382024556398));
res += mul(Get(s2,dx,0), float4x4(-0.139254033565521,0.039701350033283,0.197060793638229,-0.088772177696228,0.022584214806557,-0.000628854031675,0.106634460389614,-0.147291928529739,0.127020791172981,0.016266731545329,-0.021689362823963,0.187675014138222,0.073241844773293,-0.177145019173622,0.018269492313266,-0.093632079660892));
res += mul(Get(s2,dx,dy), float4x4(-0.069073535501957,-0.052249107509851,0.065384745597839,-0.001820910954848,0.031062051653862,-0.092853091657162,0.135287716984749,0.038478814065456,0.016180032864213,0.223693057894707,-0.006728119216859,0.248565331101418,-0.104004703462124,-0.082883968949318,-0.031029906123877,-0.044773448258638));
res += mul(Get(s3,-dx,-dy), float4x4(0.059853695333004,0.066743873059750,0.034437980502844,0.123631656169891,0.107377454638481,0.070490218698978,0.078494980931282,0.213439539074898,-0.032593183219433,0.146910205483437,0.090299874544144,-0.170571297407150,0.028906481340528,0.054199937731028,0.036151852458715,-0.055533729493618));
res += mul(Get(s3,-dx,0), float4x4(0.037995234131813,0.128095343708992,0.113817028701305,0.104660719633102,0.040124371647835,-0.002284181769937,-0.001742447260767,0.081389963626862,0.150956884026527,0.235349386930466,0.196814179420471,-0.009633317589760,-0.053192663937807,-0.006430916022509,-0.153368577361107,0.018333967775106));
res += mul(Get(s3,-dx,dy), float4x4(0.200376093387604,0.072954066097736,0.062477800995111,0.056383304297924,-0.012535369023681,0.011752544902265,0.038333386182785,0.005640973336995,0.089808546006680,0.000123005331261,0.088545866310596,-0.106454998254776,-0.167347416281700,-0.073660276830196,-0.154108479619026,-0.176941320300102));
res += mul(Get(s3,0,-dy), float4x4(0.133115813136101,0.009956330060959,-0.024774964898825,0.037922553718090,0.188793241977692,0.145020619034767,0.098015673458576,0.112722836434841,0.229559659957886,0.126532673835754,-0.060531362891197,0.008175292983651,0.064438208937645,0.111510254442692,0.036240309476852,-0.035294838249683));
res += mul(Get(s3,0,0), float4x4(-0.011517410166562,0.041937883943319,0.061161827296019,0.141250997781754,0.164200484752655,0.223028704524040,0.113760501146317,0.015044975094497,0.335464864969254,0.339787811040878,0.002733285538852,0.092045366764069,-0.185453653335571,-0.049939949065447,-0.061338804662228,-0.107030801475048));
res += mul(Get(s3,0,dy), float4x4(0.019092975184321,0.009597320109606,-0.022478222846985,0.048642471432686,0.064669720828533,0.106288880109787,0.066233620047569,0.055075239390135,-0.090147949755192,0.194050535559654,-0.025605535134673,0.024130696430802,-0.214592978358269,-0.116960957646370,-0.116749547421932,-0.225978419184685));
res += mul(Get(s3,dx,-dy), float4x4(0.124588362872601,-0.082158982753754,-0.007695471402258,-0.041585311293602,0.026569467037916,0.012976741418242,-0.007483165245503,0.030671738088131,-0.009664227254689,-0.048467133194208,-0.046777900308371,-0.060001216828823,-0.011276242323220,-0.026681613177061,0.002557685831562,-0.014031392522156));
res += mul(Get(s3,dx,0), float4x4(-0.035971201956272,-0.011643879115582,0.044167634099722,0.100602515041828,0.210315063595772,0.057584583759308,-0.005798593163490,0.131250932812691,-0.093210048973560,-0.044289201498032,-0.155362457036972,-0.069263458251953,-0.147598892450333,-0.003469112329185,0.021046401932836,0.035329557955265));
res += mul(Get(s3,dx,dy), float4x4(0.000746986770537,-0.040412768721581,-0.001384030329064,-0.055766273289919,0.076636940240860,0.102267980575562,0.056168396025896,0.096024163067341,-0.017421010881662,0.035539150238037,-0.135601401329041,-0.063795857131481,-0.094201371073723,-0.175222113728523,0.026541993021965,-0.102674841880798));
return max(float4(0,0,0,0), res);
}
