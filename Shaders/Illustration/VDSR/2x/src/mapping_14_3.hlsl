sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.060533165931702,0.068413168191910,-0.114443309605122,0.024759147316217,0.160628110170364,0.029253048822284,0.029574586078525,0.008628873154521,0.022481203079224,-0.036019429564476,0.012408895418048,-0.079900220036507,0.068897128105164,-0.019564021378756,0.034564949572086,0.033430546522141));
res += mul(Get(s0,-dx,0), float4x4(-0.068715699017048,0.134843200445175,-0.053313910961151,-0.108161561191082,0.050515647977591,-0.066834867000580,0.047997273504734,0.045627225190401,0.024921741336584,0.047767512500286,0.185472458600998,0.097295239567757,0.087268874049187,0.127465218305588,0.057180158793926,-0.103581696748734));
res += mul(Get(s0,-dx,dy), float4x4(-0.121178403496742,-0.084184296429157,0.012264468707144,0.019316384568810,-0.035233445465565,0.067185528576374,-0.021726956591010,-0.072606079280376,0.154449060559273,-0.044859282672405,0.132299274206161,0.049599304795265,-0.026254380121827,0.027743933722377,-0.094012841582298,-0.149587228894234));
res += mul(Get(s0,0,-dy), float4x4(-0.097079746425152,-0.033660743385553,0.016952693462372,0.014498748816550,-0.010917267762125,0.083445072174072,-0.043145168572664,-0.079120099544525,-0.188739493489265,0.191459178924561,0.118637613952160,-0.032472513616085,-0.005546736530960,0.040600955486298,-0.081159450113773,-0.046040058135986));
res += mul(Get(s0,0,0), float4x4(0.049670718610287,0.057930413633585,-0.098654158413410,-0.026690674945712,0.052630290389061,-0.064152859151363,-0.086236312985420,-0.034794256091118,0.002371145412326,0.143534272909164,0.098008528351784,0.193014755845070,0.048461258411407,0.062884867191315,-0.076894499361515,0.078784778714180));
res += mul(Get(s0,0,dy), float4x4(0.095006458461285,-0.106577396392822,-0.121632896363735,0.083999797701836,0.061313901096582,0.034642998129129,-0.115717582404613,-0.071741499006748,-0.056811358779669,0.078071102499962,-0.074512578547001,0.029009724035859,-0.045129548758268,0.062327455729246,-0.019940704107285,0.013191347010434));
res += mul(Get(s0,dx,-dy), float4x4(0.135084375739098,-0.093439050018787,0.020228913053870,-0.023331882432103,-0.002304929075763,-0.025567805394530,-0.090019866824150,-0.023268269374967,0.120186857879162,0.035457201302052,-0.019728718325496,-0.027435088530183,0.102441325783730,0.036095857620239,-0.059703066945076,0.084932215511799));
res += mul(Get(s0,dx,0), float4x4(0.153168305754662,0.131356164813042,-0.001969402655959,-0.018399450927973,0.078862257301807,0.004137483425438,0.017873601987958,0.084711082279682,-0.028184866532683,-0.013497789390385,0.161334425210953,0.057487305253744,0.024551132693887,0.083488702774048,0.076777562499046,0.049384031444788));
res += mul(Get(s0,dx,dy), float4x4(0.007791324984282,-0.104008123278618,-0.092753842473030,-0.038109794259071,-0.115931913256645,0.071375273168087,-0.100071139633656,-0.134399116039276,0.052951306104660,0.045956585556269,-0.202419117093086,0.019473582506180,0.065223164856434,0.040239594876766,-0.043548770248890,0.096178479492664));
res += mul(Get(s1,-dx,-dy), float4x4(-0.003743093693629,-0.032314684242010,-0.002362726256251,0.012276451103389,-0.053361140191555,-0.120828412473202,0.022857055068016,-0.020640846341848,-0.048530567437410,0.010743740946054,0.052362971007824,-0.006994726601988,-0.159948438405991,-0.109602414071560,0.052075576037169,-0.104364596307278));
res += mul(Get(s1,-dx,0), float4x4(0.032120086252689,0.037327554076910,0.189446255564690,-0.099421568214893,0.179475441575050,-0.073164410889149,0.014896959997714,-0.030654663220048,-0.123753063380718,0.057277515530586,0.138350412249565,-0.046275682747364,-0.005995527841151,0.073851071298122,0.127150043845177,0.076379455626011));
res += mul(Get(s1,-dx,dy), float4x4(-0.036647148430347,-0.102400906383991,0.025221459567547,-0.034216493368149,-0.057315554469824,-0.028477072715759,0.101034678518772,0.113379113376141,0.009917434304953,0.073927529156208,0.078535154461861,-0.042248144745827,-0.060234326869249,-0.014683937653899,0.153162330389023,-0.003161079483107));
res += mul(Get(s1,0,-dy), float4x4(0.008274847641587,-0.024344332516193,-0.037278175354004,-0.008115662261844,-0.196137011051178,0.142711102962494,0.024409146979451,0.002635962795466,-0.065979152917862,0.039768245071173,0.224563598632813,0.055950835347176,0.006991487927735,0.002209380036220,0.034756079316139,-0.059499908238649));
res += mul(Get(s1,0,0), float4x4(0.031106794252992,-0.105454988777637,-0.000370140303858,-0.065987750887871,0.177857980132103,-0.047510556876659,-0.158050820231438,-0.071635872125626,0.048920743167400,0.097861543297768,0.081115618348122,0.043943230062723,-0.050870660692453,-0.104064919054508,0.122726917266846,-0.057224657386541));
res += mul(Get(s1,0,dy), float4x4(0.117780879139900,-0.071154497563839,-0.119747526943684,0.145211219787598,-0.100384607911110,0.019703062251210,0.059921380132437,0.032832708209753,0.043559595942497,-0.035765901207924,0.003027793718502,-0.080439746379852,-0.227179899811745,-0.105534210801125,-0.133304953575134,-0.037163387984037));
res += mul(Get(s1,dx,-dy), float4x4(0.022305767983198,0.036860484629869,0.035018712282181,-0.218044564127922,0.098719835281372,0.024577282369137,0.112147778272629,-0.133240357041359,0.127902016043663,-0.029216418042779,0.016907017678022,0.001113300328143,-0.078453168272972,0.024828067049384,0.072250649333000,-0.102202661335468));
res += mul(Get(s1,dx,0), float4x4(0.097425125539303,0.038915630429983,0.100579611957073,0.032639876008034,0.266603618860245,-0.051657490432262,0.081780858337879,-0.086192600429058,0.112245745956898,-0.054946165531874,0.210701927542686,0.020044248551130,0.010893857106566,0.052986562252045,0.072250075638294,-0.108366459608078));
res += mul(Get(s1,dx,dy), float4x4(0.151792600750923,-0.059510841965675,0.120917521417141,-0.022747244685888,0.005221946164966,-0.068427510559559,0.206449955701828,0.011280763894320,0.038315769284964,-0.046687692403793,-0.031927555799484,-0.084600672125816,-0.057559717446566,-0.032607190310955,-0.046789664775133,0.083803266286850));
res += mul(Get(s2,-dx,-dy), float4x4(0.104027606546879,0.052382580935955,-0.072576068341732,0.158483907580376,-0.119646936655045,0.035908006131649,-0.227886393666267,0.095175690948963,0.215100377798080,0.011352218687534,0.034502711147070,-0.044384520500898,-0.057212602347136,0.048464365303516,-0.066139377653599,0.002343107480556));
res += mul(Get(s2,-dx,0), float4x4(-0.064307972788811,0.073637858033180,0.184988304972649,0.005693535320461,0.001899215159938,-0.047308616340160,-0.085590131580830,0.130898252129555,0.054433029145002,-0.091003485023975,0.002785646589473,0.052214246243238,0.069734059274197,-0.115257486701012,-0.045256298035383,-0.106965273618698));
res += mul(Get(s2,-dx,dy), float4x4(0.057215444743633,-0.083019435405731,-0.054239582270384,0.066712379455566,-0.034605618566275,-0.158060133457184,-0.032839991152287,-0.014308182522655,-0.006988762412220,0.034999798983335,-0.158474579453468,0.009033787995577,-0.024667203426361,0.040058758109808,-0.222628697752953,-0.051457997411489));
res += mul(Get(s2,0,-dy), float4x4(-0.065668240189552,0.272938877344131,-0.020104506984353,0.047466304153204,-0.037526901811361,0.157368868589401,-0.099751196801662,-0.114910565316677,0.111546576023102,0.088097304105759,-0.019678940996528,-0.011850191280246,0.123769670724869,-0.242480725049973,-0.014838984236121,-0.012869467027485));
res += mul(Get(s2,0,0), float4x4(-0.167942702770233,0.100831538438797,0.057205945253372,0.178016558289528,-0.019256869331002,-0.118080951273441,-0.105500727891922,0.058094453066587,-0.049449186772108,0.053983733057976,-0.048381321132183,0.090301282703876,0.327573984861374,-0.155964344739914,0.008113370276988,-0.001896988367662));
res += mul(Get(s2,0,dy), float4x4(0.014625173062086,-0.055376786738634,0.018513685092330,-0.084593147039413,0.026350399479270,-0.142260000109673,-0.069911353290081,-0.086399205029011,-0.001756027922966,0.100684918463230,0.087053745985031,-0.103902593255043,0.233392387628555,0.096478074789047,0.018137987703085,-0.125140950083733));
res += mul(Get(s2,dx,-dy), float4x4(-0.199605926871300,0.133966520428658,-0.013141050934792,-0.025623565539718,-0.065341137349606,-0.045957017689943,-0.106849685311317,-0.048701897263527,-0.139887750148773,-0.028464619070292,-0.049286816269159,-0.039987165480852,-0.119769439101219,-0.003219603328034,0.002783568575978,-0.055026777088642));
res += mul(Get(s2,dx,0), float4x4(0.007278595585376,0.137460827827454,0.058473471552134,0.096183151006699,0.079890221357346,0.077540777623653,-0.034627676010132,0.094554543495178,-0.113322734832764,-0.076000101864338,-0.114911109209061,-0.162256225943565,0.176148399710655,-0.118872515857220,-0.053079158067703,-0.081040687859058));
res += mul(Get(s2,dx,dy), float4x4(0.064788788557053,0.150643169879913,-0.057540453970432,-0.143129214644432,0.122915349900723,-0.023568704724312,-0.083017535507679,-0.100466884672642,-0.018382379785180,0.009381049312651,-0.055704195052385,-0.027354588732123,-0.045912452042103,-0.023785838857293,-0.152542114257813,-0.064630985260010));
res += mul(Get(s3,-dx,-dy), float4x4(-0.043388277292252,0.091643162071705,0.187744066119194,0.012825185433030,0.014119606465101,0.086915001273155,0.123443961143494,0.113058023154736,0.117460705339909,-0.094896376132965,-0.084027945995331,-0.077764183282852,0.063909910619259,-0.100133247673512,0.010989618487656,-0.068325288593769));
res += mul(Get(s3,-dx,0), float4x4(0.172552272677422,0.045938637107611,0.127803847193718,0.093192435801029,0.031984608620405,-0.060136932879686,0.146849811077118,0.216482907533646,0.020419387146831,0.067862913012505,0.044465754181147,-0.043183069676161,0.112727724015713,-0.048189569264650,0.001533995731734,0.004162814468145));
res += mul(Get(s3,-dx,dy), float4x4(-0.040344811975956,0.105792298913002,0.026740105822682,0.015293608419597,-0.072401627898216,-0.098566062748432,-0.112040311098099,-0.004988584201783,-0.000954791146796,-0.138729959726334,-0.037112172693014,-0.026996992528439,-0.026660403236747,0.083398394286633,-0.114207059144974,-0.210777208209038));
res += mul(Get(s3,0,-dy), float4x4(-0.164975956082344,0.175225839018822,-0.071493603289127,0.030733777210116,0.075073719024658,0.225353360176086,-0.113784216344357,-0.006049541290849,0.110895484685898,-0.075611211359501,0.048209678381681,0.005041396711022,-0.016539277508855,-0.183202236890793,-0.168726235628128,0.086483627557755));
res += mul(Get(s3,0,0), float4x4(0.157251551747322,0.049977391958237,-0.029699381440878,0.049719188362360,0.016475863754749,-0.065756596624851,-0.020016098394990,0.169552907347679,-0.050058454275131,0.079145275056362,-0.065973363816738,0.041950818151236,0.154803872108459,0.100315071642399,-0.077626429498196,0.022438660264015));
res += mul(Get(s3,0,dy), float4x4(-0.043973971158266,0.007116871420294,0.039173860102892,-0.172202274203300,0.120970673859119,-0.027240853756666,0.027094785124063,0.012202647514641,0.012909615412354,0.066932260990143,-0.083057798445225,0.069005616009235,0.053120970726013,0.124223925173283,-0.084038265049458,-0.100988999009132));
res += mul(Get(s3,dx,-dy), float4x4(0.037705320864916,-0.086650125682354,-0.215943619608879,-0.026628436520696,0.061401214450598,0.201979562640190,-0.067404113709927,-0.136801227927208,-0.010705527849495,-0.141546845436096,-0.150746315717697,-0.058119490742683,0.136075660586357,-0.059860881417990,0.045508097857237,-0.057999711483717));
res += mul(Get(s3,dx,0), float4x4(0.100934647023678,0.022227508947253,0.022552693262696,0.148567870259285,0.031053427606821,-0.037848342210054,0.094411969184875,0.019743507727981,-0.084592275321484,-0.070172786712646,0.031273599714041,0.047155898064375,-0.020546266809106,-0.157145172357559,0.113732017576694,-0.061345968395472));
res += mul(Get(s3,dx,dy), float4x4(-0.054646480828524,-0.016052639111876,-0.140941590070724,0.074043780565262,-0.028495522215962,-0.076874740421772,-0.042017836123705,-0.022441549226642,-0.084762349724770,-0.020407455042005,0.036090482026339,0.048804607242346,-0.031354755163193,0.039992969483137,-0.063473857939243,-0.015754120424390));
return max(float4(0,0,0,0), res);
}
