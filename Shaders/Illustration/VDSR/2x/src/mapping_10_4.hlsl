sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.086835674941540,-0.052821923047304,0.002891623415053,0.014277335256338,-0.179655760526657,0.139179438352585,0.040438912808895,0.046863194555044,-0.097127683460712,0.025425862520933,0.027964189648628,-0.175752952694893,-0.032398369163275,0.138081833720207,-0.003214081516489,-0.194932162761688));
res += mul(Get(s0,-dx,0), float4x4(-0.113506615161896,0.062733426690102,-0.015651265159249,0.138899117708206,0.080985218286514,0.002895859535784,-0.176545694470406,0.056736532598734,0.065727084875107,-0.084935694932938,0.084033921360970,-0.010874867439270,0.000975880306214,-0.020919710397720,0.034334771335125,0.060370564460754));
res += mul(Get(s0,-dx,dy), float4x4(-0.062535531818867,0.053109120577574,-0.068240448832512,0.040082138031721,0.025511328130960,-0.126080021262169,0.135848760604858,0.044337779283524,-0.081065572798252,0.100989215075970,0.127854347229004,0.111694894731045,0.020908020436764,0.051454264670610,0.179735586047173,-0.009534322656691));
res += mul(Get(s0,0,-dy), float4x4(-0.076492935419083,-0.089322790503502,-0.055767036974430,-0.013350076042116,0.022505659610033,0.160411328077316,-0.001365799689665,-0.193836480379105,0.077497191727161,-0.085703864693642,0.097754970192909,-0.041341215372086,-0.154555201530457,-0.190073728561401,0.015647601336241,-0.105104647576809));
res += mul(Get(s0,0,0), float4x4(0.033240415155888,0.065364897251129,0.018857441842556,-0.147219240665436,0.187617614865303,0.030552776530385,0.085449889302254,-0.001788877067156,0.025396058335900,0.119769886136055,-0.081481635570526,-0.036690816283226,0.084923125803471,0.273981600999832,-0.204373136162758,0.076663970947266));
res += mul(Get(s0,0,dy), float4x4(-0.027533490210772,-0.052947968244553,-0.004109160508960,-0.040945433080196,-0.113962657749653,0.044188145548105,-0.012273557484150,0.034176059067249,-0.066176973283291,-0.027889035642147,0.052877541631460,0.064730487763882,0.080237016081810,0.050875734537840,0.096473507583141,0.003704867791384));
res += mul(Get(s0,dx,-dy), float4x4(-0.013379326090217,0.028332630172372,0.165410533547401,0.112954698503017,0.142680242657661,0.055247612297535,0.167082861065865,-0.093843072652817,0.077201947569847,-0.166004464030266,-0.002205938799307,0.144367665052414,-0.180975139141083,0.181547001004219,-0.007270895875990,-0.136407032608986));
res += mul(Get(s0,dx,0), float4x4(0.016098991036415,0.004748260136694,-0.250346988439560,0.018036343157291,-0.094594836235046,0.003743333043531,-0.039633877575397,-0.065478950738907,0.092419221997261,-0.012192513793707,-0.007355130277574,0.105271190404892,-0.082281187176704,0.011830599047244,-0.049854241311550,0.086879566311836));
res += mul(Get(s0,dx,dy), float4x4(-0.016063101589680,0.067055448889732,-0.120747476816177,-0.132040649652481,-0.115387961268425,-0.149281412363052,-0.033885665237904,-0.072455950081348,0.114506430923939,0.118910975754261,0.089987941086292,-0.128562852740288,-0.009869684465230,0.029231483116746,0.017418446019292,0.055467471480370));
res += mul(Get(s1,-dx,-dy), float4x4(0.002414063783363,0.104734010994434,-0.171009942889214,-0.039045423269272,0.135498225688934,0.049602452665567,0.121051952242851,-0.037119340151548,0.034927304834127,0.046030215919018,0.062184661626816,-0.079430900514126,0.052720163017511,-0.051015067845583,0.154588863253593,0.003683418733999));
res += mul(Get(s1,-dx,0), float4x4(-0.098914213478565,-0.096925780177116,-0.135830610990524,0.161543607711792,-0.082432836294174,0.001449399860576,0.021622629836202,-0.040187738835812,0.020430266857147,0.205491423606873,-0.002509827958420,0.056419551372528,-0.086710676550865,0.065500110387802,0.083205305039883,0.009856626391411));
res += mul(Get(s1,-dx,dy), float4x4(-0.081212632358074,-0.082293391227722,0.018232563510537,-0.156907066702843,0.032999772578478,0.028118574991822,-0.008358074352145,0.036841165274382,0.046510655432940,-0.108102992177010,-0.002692217705771,0.106213882565498,-0.002917561912909,-0.097588658332825,-0.005576366558671,-0.102132789790630));
res += mul(Get(s1,0,-dy), float4x4(0.027241008356214,-0.166893094778061,0.003399801207706,-0.011516010388732,0.112082831561565,0.006816214416176,0.088008999824524,0.091940172016621,-0.060525026172400,-0.124150507152081,-0.077708430588245,-0.148494109511375,-0.071630656719208,-0.115326978266239,0.162405014038086,-0.015197088941932));
res += mul(Get(s1,0,0), float4x4(-0.031517453491688,0.066381968557835,-0.068501345813274,0.004963656887412,0.022058436647058,0.067120276391506,0.163472726941109,-0.165539875626564,-0.129366293549538,0.135615646839142,-0.121734432876110,0.016787189990282,-0.122044019401073,-0.090243190526962,-0.012312689796090,0.082677580416203));
res += mul(Get(s1,0,dy), float4x4(-0.110417515039444,-0.139720857143402,0.106228061020374,0.008582525886595,0.023607328534126,0.062605284154415,0.081921748816967,-0.035951539874077,0.015790892764926,0.004501231480390,0.061289869248867,0.030304012820125,-0.014661522582173,-0.030919171869755,-0.247239649295807,0.039734326303005));
res += mul(Get(s1,dx,-dy), float4x4(-0.074999310076237,0.096617706120014,0.093108773231506,-0.149255067110062,-0.145125851035118,-0.036905076354742,0.128563180565834,0.080303169786930,0.026356462389231,-0.104390963912010,-0.049125079065561,0.056221779435873,0.056235440075397,0.184811934828758,0.176151484251022,-0.107263684272766));
res += mul(Get(s1,dx,0), float4x4(-0.001116415252909,-0.001530888141133,0.056879695504904,-0.181377053260803,0.013145837932825,0.168300762772560,-0.099650159478188,-0.062919601798058,-0.146420329809189,-0.016889667138457,-0.162526950240135,-0.062143262475729,0.007521561812609,0.044191338121891,0.123068928718567,-0.007152365986258));
res += mul(Get(s1,dx,dy), float4x4(-0.016873825341463,-0.117123365402222,0.015376930125058,-0.114143066108227,-0.133321523666382,0.251979708671570,-0.002661298960447,-0.081250049173832,0.068650186061859,-0.035064209252596,-0.024054583162069,0.230321839451790,0.111113406717777,-0.062689699232578,0.136540934443474,0.135302588343620));
res += mul(Get(s2,-dx,-dy), float4x4(-0.077341921627522,0.031104719266295,-0.089505814015865,-0.182916402816772,-0.099845834076405,-0.119125656783581,-0.235862538218498,-0.078567735850811,0.116411216557026,-0.022880217060447,0.126499250531197,0.056266598403454,0.187399283051491,-0.055013488978148,0.030176533386111,-0.063175290822983));
res += mul(Get(s2,-dx,0), float4x4(-0.121346049010754,0.051910586655140,-0.030927248299122,-0.017630618065596,-0.109397277235985,-0.211858078837395,-0.249702408909798,0.011977359652519,-0.007524021901190,-0.026471531018615,-0.043498627841473,0.010758408345282,0.047781951725483,-0.038711644709110,0.164908900856972,0.064921990036964));
res += mul(Get(s2,-dx,dy), float4x4(-0.028022149577737,-0.098412089049816,0.097723439335823,0.013453994877636,0.066862381994724,-0.012149658054113,0.033457856625319,0.028621885925531,-0.076776482164860,-0.035519063472748,0.005124917253852,0.028713727369905,0.153402224183083,0.080387048423290,0.027125591412187,0.037171576172113));
res += mul(Get(s2,0,-dy), float4x4(0.102004975080490,0.012966914102435,0.059998549520969,-0.057097718119621,-0.042820837348700,0.009695887565613,0.001258171047084,-0.121645592153072,-0.077323950827122,0.077238485217094,-0.097421385347843,-0.106247946619987,0.095524445176125,0.030908875167370,-0.241794779896736,-0.059478636831045));
res += mul(Get(s2,0,0), float4x4(0.084613353013992,-0.040945719927549,0.032890982925892,0.081736065447330,-0.080614358186722,-0.067816495895386,-0.006885285489261,-0.127409681677818,0.027868174016476,-0.068668030202389,-0.138156890869141,0.002720447955653,-0.093101479113102,0.016809765249491,0.114465422928333,0.025311794131994));
res += mul(Get(s2,0,dy), float4x4(-0.122031420469284,0.048075735569000,0.082867860794067,-0.010048933327198,0.008530265651643,0.278955668210983,0.010999973863363,-0.163774043321609,0.006224705372006,0.076683782041073,-0.096103183925152,-0.080751247704029,-0.023072807118297,-0.050603833049536,-0.126440525054932,-0.042336620390415));
res += mul(Get(s2,dx,-dy), float4x4(-0.084667436778545,0.073288165032864,0.024308234453201,0.136550799012184,0.140347197651863,-0.042671207338572,-0.149567812681198,0.293806135654449,0.053426992148161,0.059881992638111,-0.151717647910118,0.020410005003214,-0.068109177052975,0.080969139933586,-0.200057476758957,-0.024166755378246));
res += mul(Get(s2,dx,0), float4x4(0.080267354846001,0.076701194047928,0.011974771507084,0.005669867154211,0.150165140628815,-0.088902592658997,0.070034697651863,-0.055484291166067,0.005162164103240,0.083131320774555,-0.032000720500946,-0.011232991702855,-0.077834554016590,0.014514170587063,-0.112607851624489,-0.052649747580290));
res += mul(Get(s2,dx,dy), float4x4(0.078476257622242,-0.038739461451769,0.125945001840591,0.107867553830147,-0.199411049485207,-0.160864040255547,0.004018193576485,-0.069289162755013,0.133260220289230,0.093018941581249,-0.049233175814152,-0.068093955516815,-0.074792012572289,0.141695842146873,0.035007487982512,-0.036018878221512));
res += mul(Get(s3,-dx,-dy), float4x4(0.067662149667740,0.112616710364819,-0.007809207309037,-0.142581000924110,0.124467216432095,-0.039584543555975,0.164983451366425,0.107165738940239,0.110000833868980,-0.019581522792578,0.065416403114796,0.055926181375980,0.029846720397472,-0.046497527509928,0.035752307623625,-0.238516137003899));
res += mul(Get(s3,-dx,0), float4x4(0.130722045898438,0.021823862567544,0.140732824802399,-0.081686444580555,0.033508926630020,-0.152357846498489,0.217215135693550,0.024365276098251,0.065327063202858,-0.037589050829411,-0.098886281251907,-0.047934990376234,0.025489561259747,-0.002062434330583,0.117450654506683,-0.044460408389568));
res += mul(Get(s3,-dx,dy), float4x4(0.054153271019459,0.011002850718796,-0.011936479248106,-0.082308255136013,0.097677648067474,-0.086479686200619,0.091895110905170,0.092342242598534,-0.082433819770813,0.123808234930038,-0.083470962941647,0.064075112342834,0.151394009590149,-0.063358373939991,0.123556628823280,-0.074714764952660));
res += mul(Get(s3,0,-dy), float4x4(0.029745383188128,-0.218966960906982,-0.021005515009165,-0.114637881517410,0.182248413562775,-0.101150318980217,-0.084327161312103,-0.083753377199173,-0.097080759704113,0.086546361446381,-0.069098360836506,-0.013598582707345,0.002133237896487,-0.077693857252598,0.058843072503805,-0.047392256557941));
res += mul(Get(s3,0,0), float4x4(0.009803415276110,-0.085683815181255,-0.049238748848438,0.063890866935253,0.017617313191295,0.126823827624321,0.027864014729857,-0.034051965922117,0.097196750342846,0.019098933786154,0.010243336670101,-0.021424846723676,-0.022473582997918,0.076869919896126,0.132636070251465,-0.039217241108418));
res += mul(Get(s3,0,dy), float4x4(-0.050048962235451,-0.118871845304966,0.040066704154015,-0.006230260711163,-0.110306717455387,-0.033405691385269,0.007010619156063,-0.121308714151382,-0.014288961887360,0.076573073863983,-0.053176354616880,-0.107792243361473,0.061832271516323,0.096151530742645,-0.066849470138550,-0.024022627621889));
res += mul(Get(s3,dx,-dy), float4x4(-0.021933874115348,0.049980532377958,-0.022352391853929,-0.170221358537674,-0.013853955082595,-0.060101997107267,0.080424517393112,0.101862996816635,-0.028268618509173,-0.066056482493877,-0.116633459925652,-0.148195073008537,0.290522009134293,0.067870505154133,0.152033299207687,-0.170183971524239));
res += mul(Get(s3,dx,0), float4x4(-0.067148797214031,0.011557694524527,-0.049244880676270,-0.069363459944725,-0.001138303196058,-0.069115422666073,0.002217204542831,-0.051227111369371,-0.132440105080605,-0.005887307692319,-0.104796998202801,0.078872889280319,0.049450937658548,-0.072066254913807,0.031169876456261,0.186319842934608));
res += mul(Get(s3,dx,dy), float4x4(0.042432446032763,-0.017866661772132,-0.030061244964600,-0.085244826972485,0.082511723041534,-0.081221692264080,-0.085823237895966,0.044067475944757,0.022067135199904,0.138224899768829,-0.009962254203856,-0.066291153430939,-0.063881807029247,0.026664298027754,0.143083691596985,-0.168530806899071));
return max(float4(0,0,0,0), res);
}
