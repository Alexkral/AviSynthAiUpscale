sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.175339192152023,-0.015175307169557,0.136325716972351,-0.001938241999596,0.077647157013416,0.000261728855548,0.113301098346710,-0.016978388652205,-0.024815971031785,-0.070954896509647,0.072989337146282,-0.004241409711540,-0.028603645041585,-0.001114823855460,0.144903436303139,0.101349659264088));
res += mul(Get(s0,-dx,0), float4x4(0.060507956892252,-0.039218306541443,0.074491441249847,0.007331422995776,0.011758128181100,0.076579704880714,-0.029506275430322,0.082089349627495,-0.058041565120220,0.008322241716087,0.016202395781875,-0.035669084638357,-0.014386757276952,-0.033009085804224,0.170043274760246,0.098782166838646));
res += mul(Get(s0,-dx,dy), float4x4(0.008013172075152,-0.104970075190067,0.227141156792641,-0.116945318877697,0.096057415008545,-0.021968008950353,0.121748998761177,-0.040582310408354,0.064400941133499,-0.003833950264379,0.032340485602617,-0.120937138795853,-0.066864311695099,-0.082996822893620,-0.020224997773767,0.061369210481644));
res += mul(Get(s0,0,-dy), float4x4(-0.114275164902210,0.019179733470082,-0.095718197524548,0.040922071784735,-0.012968104332685,-0.070420630276203,-0.018890218809247,0.143148362636566,-0.062496379017830,-0.094932824373245,-0.190194129943848,0.092311948537827,-0.119311846792698,0.106463350355625,0.006169384811074,0.020675122737885));
res += mul(Get(s0,0,0), float4x4(0.191210880875587,-0.107720650732517,-0.009775163605809,-0.081246055662632,-0.004513612017035,-0.037752375006676,-0.185965821146965,0.028527494519949,-0.077320732176304,-0.066542059183121,-0.115057215094566,0.159118354320526,-0.117656290531158,0.022245971485972,-0.025919392704964,0.026142524555326));
res += mul(Get(s0,0,dy), float4x4(0.028240684419870,-0.085960954427719,0.157317742705345,-0.177842915058136,0.104779452085495,-0.044714909046888,0.013850653544068,-0.088671796023846,0.045283984392881,-0.042618300765753,-0.029784118756652,0.064963251352310,0.022591300308704,-0.129370242357254,-0.030390365049243,0.104831367731094));
res += mul(Get(s0,dx,-dy), float4x4(0.064329028129578,-0.019945815205574,-0.050118677318096,0.045397683978081,0.047543734312057,0.031821936368942,0.089219264686108,-0.020063832402229,0.017678199335933,-0.009471764788032,-0.091391459107399,-0.081362843513489,0.006882742978632,0.057734586298466,-0.027380401268601,0.074378259480000));
res += mul(Get(s0,dx,0), float4x4(0.345657706260681,-0.073898844420910,0.047530837357044,0.012762980535626,0.097080253064632,-0.039314135909081,0.005010342691094,0.085858933627605,0.183529824018478,-0.040008965879679,-0.073188252747059,-0.032666184008121,0.158101916313171,-0.015783507376909,0.004649247042835,-0.046095725148916));
res += mul(Get(s0,dx,dy), float4x4(0.003330913605168,-0.161634236574173,0.035675108432770,-0.038288857787848,0.148681595921516,-0.023992935195565,0.168292641639709,-0.040996666997671,-0.017656398937106,-0.038715112954378,-0.046458009630442,0.047046549618244,-0.044658843427896,-0.017191305756569,0.052951503545046,0.172153100371361));
res += mul(Get(s1,-dx,-dy), float4x4(-0.053573917597532,0.134876772761345,0.005698338150978,-0.052267953753471,0.127943530678749,0.064137101173401,-0.031289871782064,0.003356244880706,0.140955150127411,0.087192080914974,0.046712782233953,0.112308785319328,-0.015867058187723,-0.080083966255188,0.212193623185158,-0.001475399127230));
res += mul(Get(s1,-dx,0), float4x4(-0.134928062558174,-0.024846630170941,0.027490556240082,-0.030710937455297,0.123410418629646,0.157899633049965,-0.050530679523945,0.021449605002999,-0.006463984493166,-0.027408491820097,0.027119753882289,0.098741121590137,-0.101723916828632,0.028785653412342,-0.026072192937136,0.061536464840174));
res += mul(Get(s1,-dx,dy), float4x4(-0.135197371244431,0.029283935204148,-0.205540984869003,-0.010657475329936,0.012881274335086,0.164560049772263,0.036461215466261,-0.044393885880709,0.125343069434166,-0.118865765631199,0.058073718100786,0.111824378371239,-0.033368211239576,0.055192276835442,-0.100768335163593,0.165604591369629));
res += mul(Get(s1,0,-dy), float4x4(-0.076539024710655,-0.000011438842193,0.052295479923487,-0.034255452454090,0.241051882505417,0.091155253350735,0.174343928694725,-0.037963822484016,0.019475692883134,0.175810456275940,0.030853409320116,-0.112488508224487,0.001184278400615,-0.020241793245077,-0.084415920078754,-0.054141167551279));
res += mul(Get(s1,0,0), float4x4(-0.017842844128609,-0.057631544768810,0.093700386583805,-0.027657741680741,-0.081186421215534,0.038975846022367,-0.077803567051888,-0.052883911877871,-0.111555442214012,-0.054568760097027,-0.058420397341251,-0.032762061804533,-0.023164652287960,-0.101296439766884,-0.070896387100220,-0.031921263784170));
res += mul(Get(s1,0,dy), float4x4(-0.094010338187218,-0.028437459841371,0.005756824277341,0.054580342024565,-0.026712618768215,-0.024944985285401,0.079372286796570,-0.096272572875023,0.069891020655632,-0.076455943286419,0.003641870804131,-0.149487063288689,0.237856253981590,-0.050032172352076,0.016492668539286,0.071450524032116));
res += mul(Get(s1,dx,-dy), float4x4(-0.134210839867592,0.161475896835327,0.023942390456796,0.133729621767998,-0.003528188448399,0.009852753952146,0.133981660008430,0.036573823541403,0.020994801074266,0.199046716094017,0.004352994728833,0.005822207313031,0.052254393696785,0.097671352326870,-0.055502235889435,0.052251640707254));
res += mul(Get(s1,dx,0), float4x4(-0.133756846189499,0.057845011353493,0.068220354616642,0.040080439299345,-0.051362454891205,0.141335874795914,-0.033916089683771,0.078074634075165,0.170776993036270,0.006489393766969,-0.039847161620855,-0.016180055215955,0.153968021273613,-0.056714326143265,-0.053670797497034,0.191618606448174));
res += mul(Get(s1,dx,dy), float4x4(0.021153412759304,0.222507387399673,0.003020652104169,-0.063180714845657,-0.015428747050464,-0.066833220422268,-0.052286989986897,0.114267863333225,-0.153159767389297,0.022047476842999,-0.177159786224365,-0.014013991691172,0.026863936334848,-0.059174127876759,-0.074457816779613,0.210616156458855));
res += mul(Get(s2,-dx,-dy), float4x4(0.112446710467339,-0.066054783761501,0.117921069264412,0.069181390106678,0.023654602468014,0.031156811863184,-0.122904054820538,-0.020749436691403,-0.029197270050645,0.054493840783834,0.201434388756752,-0.096310324966908,-0.124339804053307,-0.031824696809053,0.015544265508652,-0.061241120100021));
res += mul(Get(s2,-dx,0), float4x4(-0.040220998227596,0.121653556823730,0.006806076969951,0.036953259259462,0.174713820219040,-0.044179446995258,-0.097154363989830,0.142169699072838,0.033300060778856,0.017368730157614,0.154292657971382,-0.012787702493370,-0.165172815322876,0.061594534665346,0.040057595819235,-0.222738265991211));
res += mul(Get(s2,-dx,dy), float4x4(-0.159166693687439,-0.158319130539894,0.105519391596317,0.021643018350005,0.101098991930485,-0.050426531583071,-0.117131620645523,0.240246996283531,0.021000869572163,-0.052210114896297,0.064361914992332,0.019402198493481,-0.135186165571213,0.110840789973736,-0.062192067503929,-0.060971658676863));
res += mul(Get(s2,0,-dy), float4x4(-0.063935026526451,-0.049248199909925,-0.060214325785637,0.086825497448444,0.206492215394974,-0.013771299272776,-0.178872689604759,0.163113534450531,-0.117847487330437,0.065650917589664,-0.109125137329102,-0.087983250617981,-0.156300470232964,0.013666722923517,-0.137292504310608,-0.021054770797491));
res += mul(Get(s2,0,0), float4x4(0.099847234785557,0.172479599714279,0.163067579269409,-0.052617873996496,-0.022175677120686,0.179882600903511,-0.106870532035828,0.010710504837334,0.049904603511095,-0.006036487873644,-0.091708533465862,-0.000202394017833,-0.038489501923323,-0.018763111904263,-0.110352069139481,-0.106542401015759));
res += mul(Get(s2,0,dy), float4x4(0.125332623720169,-0.066341370344162,0.087196223437786,-0.041545774787664,-0.061561048030853,0.150216042995453,-0.109870679676533,0.213140979409218,-0.052103713154793,-0.067629732191563,-0.085213527083397,-0.050813492387533,-0.146848678588867,-0.030979609116912,0.019926145672798,-0.161973640322685));
res += mul(Get(s2,dx,-dy), float4x4(-0.015650222077966,-0.051886942237616,-0.073896460235119,0.081372521817684,-0.031376499682665,-0.042919393628836,-0.096727885305882,0.116322375833988,0.079845845699310,0.199443385004997,-0.166020721197128,-0.042161308228970,0.073972299695015,0.239345759153366,-0.171532064676285,0.030708171427250));
res += mul(Get(s2,dx,0), float4x4(-0.120207525789738,-0.021460631862283,0.003360377158970,0.066298112273216,-0.038869552314281,-0.112906761467457,-0.051601056009531,0.019398838281631,0.095512568950653,0.025855168700218,-0.069038748741150,-0.009547956287861,0.047226317226887,0.036912888288498,-0.146859541535378,-0.067165121436119));
res += mul(Get(s2,dx,dy), float4x4(-0.016293708235025,-0.234594196081161,-0.042040605098009,-0.027333399280906,0.013503052294254,0.070856995880604,-0.011665056459606,0.078711718320847,-0.130255699157715,-0.017825966700912,-0.047432120889425,0.003224102314562,-0.139542490243912,-0.057751629501581,-0.091261371970177,-0.048390660434961));
res += mul(Get(s3,-dx,-dy), float4x4(0.091884344816208,-0.116297364234924,0.449651062488556,-0.168911993503571,0.013886451721191,0.137037739157677,0.075283609330654,-0.052609976381063,0.040586400777102,0.074401646852493,-0.046472284942865,0.136180520057678,-0.067967928946018,0.102116711437702,-0.033518958836794,0.033487677574158));
res += mul(Get(s3,-dx,0), float4x4(0.099257983267307,0.048842746764421,0.026107529178262,-0.079579249024391,-0.174774006009102,-0.029919791966677,0.026448398828506,-0.036689601838589,-0.140321701765060,-0.005784027744085,-0.021258607506752,0.108291581273079,-0.088590681552887,-0.098366193473339,-0.075949810445309,-0.019315723329782));
res += mul(Get(s3,-dx,dy), float4x4(0.058634731918573,0.126766145229340,0.077665939927101,-0.082316771149635,-0.185500681400299,0.032418195158243,-0.008343162015080,-0.049565464258194,-0.014906579628587,-0.039733618497849,-0.089406028389931,0.040165387094021,0.034367680549622,0.108872272074223,-0.104843162000179,0.044867508113384));
res += mul(Get(s3,0,-dy), float4x4(-0.024575307965279,-0.118914097547531,-0.169523954391479,-0.041517946869135,-0.037254337221384,0.044199019670486,-0.049211397767067,-0.085639908909798,0.101071521639824,0.054290320724249,0.088149458169937,-0.006516174413264,-0.123851455748081,0.085338734090328,0.129741668701172,-0.081030264496803));
res += mul(Get(s3,0,0), float4x4(0.011826018802822,0.063930511474609,-0.121734470129013,-0.125327408313751,-0.134273007512093,-0.184707790613174,-0.013155835680664,-0.029866511002183,-0.023285977542400,-0.020793858915567,0.104288153350353,-0.041570808738470,-0.070407681167126,-0.068034753203392,0.029620723798871,-0.107109144330025));
res += mul(Get(s3,0,dy), float4x4(0.034182954579592,0.026809236034751,0.033732742071152,-0.061087522655725,-0.123635515570641,0.050813212990761,-0.053035374730825,-0.005223485641181,-0.017856534570456,0.020679710432887,0.161191642284393,0.002171154599637,0.049399804323912,-0.016042910516262,0.145691201090813,-0.042159963399172));
res += mul(Get(s3,dx,-dy), float4x4(0.089591957628727,-0.024470617994666,0.017496602609754,0.027482479810715,0.034530520439148,0.017270121723413,-0.165332883596420,-0.042779188603163,0.169275000691414,-0.026314288377762,-0.168630167841911,-0.062226653099060,-0.073093213140965,0.499323129653931,-0.130575731396675,0.075325936079025));
res += mul(Get(s3,dx,0), float4x4(0.104887679219246,-0.101677209138870,-0.072254277765751,-0.013286011293530,-0.099172256886959,-0.111880972981453,-0.056260701268911,-0.006300603970885,0.259960621595383,-0.049587517976761,-0.167920291423798,-0.060586072504520,0.069237858057022,-0.053068205714226,-0.066102921962738,-0.010840062983334));
res += mul(Get(s3,dx,dy), float4x4(0.104833960533142,-0.038312572985888,0.058840084820986,-0.025037789717317,0.016824183985591,-0.053030252456665,-0.074836283922195,-0.041277203708887,0.069210939109325,-0.053572881966829,-0.054054461419582,-0.017974680289626,-0.100868068635464,-0.029515473172069,-0.049787729978561,0.014010995626450));
return max(float4(0,0,0,0), res);
}
