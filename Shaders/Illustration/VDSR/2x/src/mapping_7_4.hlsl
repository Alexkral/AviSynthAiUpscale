sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.033973906189203,-0.049208987504244,-0.080764770507813,-0.062007892876863,-0.020742580294609,-0.200654149055481,0.086275793612003,0.053573057055473,0.212280884385109,0.152081429958344,-0.029313748702407,-0.021147202700377,0.026041269302368,0.089193888008595,-0.078164473176003,0.091485120356083));
res += mul(Get(s0,-dx,0), float4x4(-0.115036040544510,-0.066439151763916,-0.033530741930008,-0.110224448144436,0.030265362933278,-0.178744509816170,-0.104415297508240,0.062575645744801,0.067745208740234,0.184311226010323,0.057008508592844,0.136374577879906,-0.093075215816498,0.035728130489588,0.021568464115262,0.138327047228813));
res += mul(Get(s0,-dx,dy), float4x4(-0.020074654370546,0.074684888124466,0.024244729429483,0.045112598687410,-0.081536218523979,-0.044517207890749,-0.071874834597111,-0.067261926829815,0.242921680212021,0.020226916298270,-0.000851346761920,-0.090918704867363,0.034066237509251,0.116547673940659,0.086955271661282,0.148083001375198));
res += mul(Get(s0,0,-dy), float4x4(0.351288139820099,-0.021578066051006,-0.191764920949936,-0.028656791895628,-0.046336784958839,-0.233749911189079,0.254917830228806,0.123027034103870,0.004411001689732,0.043972097337246,0.156368359923363,-0.070164494216442,-0.011005913838744,0.016901489347219,-0.051162086427212,-0.024382550269365));
res += mul(Get(s0,0,0), float4x4(-0.056915961205959,0.156196370720863,0.081350781023502,-0.109451837837696,-0.082344524562359,-0.150335878133774,-0.043208241462708,0.254718661308289,-0.017455190420151,0.002885871334001,-0.062708102166653,-0.092803008854389,-0.080003924667835,0.045980047434568,0.016796525567770,-0.044847127050161));
res += mul(Get(s0,0,dy), float4x4(-0.007482858840376,0.009978509508073,-0.058217361569405,-0.109895326197147,-0.158806979656219,-0.138535141944885,-0.152009099721909,-0.026364222168922,0.390810132026672,0.038030657917261,0.063160330057144,-0.066284157335758,0.107894696295261,0.103754743933678,0.060014449059963,0.041936323046684));
res += mul(Get(s0,dx,-dy), float4x4(0.031383108347654,0.006328254472464,-0.076389700174332,-0.142203032970428,-0.068590983748436,-0.150223061442375,-0.068817034363747,0.049577016383410,-0.018737511709332,0.039882171899080,-0.074541993439198,-0.129914611577988,0.094108000397682,0.014315883629024,-0.022025665268302,0.092054069042206));
res += mul(Get(s0,dx,0), float4x4(-0.173853218555450,0.003085441654548,0.197390466928482,-0.130766719579697,-0.258178383111954,-0.180039152503014,-0.008513280190527,0.174493029713631,-0.041102997958660,0.078154817223549,-0.121335707604885,-0.214253336191177,-0.019268471747637,0.090377487242222,0.075636453926563,0.099293835461140));
res += mul(Get(s0,dx,dy), float4x4(-0.046311236917973,-0.016798861324787,-0.083301320672035,-0.077719293534756,-0.148934960365295,-0.121787890791893,0.132133081555367,0.060414660722017,0.135285988450050,0.011280107311904,-0.068034924566746,-0.029247967526317,0.026441922411323,0.183150351047516,0.112473353743553,0.245664998888969));
res += mul(Get(s1,-dx,-dy), float4x4(-0.066354617476463,0.100344553589821,0.217656254768372,0.025767663493752,0.140703484416008,0.000028637787182,0.007774385157973,-0.069203317165375,0.008717698976398,-0.159198507666588,-0.008993582800031,-0.071740433573723,-0.024637551978230,0.108415216207504,0.041695609688759,-0.107408739626408));
res += mul(Get(s1,-dx,0), float4x4(-0.110237546265125,-0.101163163781166,-0.116310678422451,-0.081678874790668,0.051557797938585,0.070139363408089,0.026769323274493,0.069735519587994,-0.107714109122753,0.057433575391769,-0.061174459755421,0.048502571880817,-0.013046122156084,0.084231749176979,0.039148781448603,0.061523377895355));
res += mul(Get(s1,-dx,dy), float4x4(-0.091810360550880,-0.100154757499695,-0.150759547948837,-0.043876457959414,-0.153728812932968,0.321354717016220,-0.034200411289930,-0.026007333770394,0.021809667348862,0.194239839911461,-0.034820832312107,0.051069725304842,0.011685965582728,-0.070873215794563,-0.076283335685730,-0.198656305670738));
res += mul(Get(s1,0,-dy), float4x4(-0.036020264029503,0.250537782907486,0.351273447275162,0.076638221740723,0.077946476638317,-0.041109420359135,-0.021239716559649,-0.035855785012245,-0.035520024597645,-0.129864558577538,-0.033638671040535,-0.161458775401115,0.060729049146175,-0.129484951496124,-0.003118350869045,-0.027598809450865));
res += mul(Get(s1,0,0), float4x4(-0.037317804992199,0.016524646431208,0.010046021081507,-0.027949390932918,0.067549027502537,-0.037974268198013,-0.034493435174227,-0.007148348260671,-0.049067720770836,0.041208833456039,-0.063480690121651,-0.139751449227333,0.276261061429977,-0.039447117596865,-0.053808029741049,0.096593104302883));
res += mul(Get(s1,0,dy), float4x4(-0.131444603204727,0.055326558649540,0.142634436488152,0.034172188490629,-0.087112389504910,0.039322920143604,0.043429121375084,-0.075679704546928,0.018012585118413,0.037373028695583,-0.014993510209024,0.012185974977911,0.117828883230686,0.043617695569992,0.147742643952370,0.134862869977951));
res += mul(Get(s1,dx,-dy), float4x4(0.067974939942360,0.185498997569084,0.046283427625895,-0.011554501019418,0.124886035919189,-0.037606492638588,0.179555714130402,-0.030999604612589,-0.014675135724247,0.126136466860771,0.301488906145096,-0.139037638902664,0.046088211238384,0.030718062072992,-0.102346144616604,0.094072066247463));
res += mul(Get(s1,dx,0), float4x4(0.070272400975227,0.078240491449833,-0.064911134541035,-0.059256799519062,0.114947721362114,0.047958914190531,0.141307398676872,0.033847048878670,-0.022277869284153,0.263943314552307,0.076781772077084,-0.129670485854149,0.136534497141838,-0.073912285268307,-0.063886076211929,-0.021627724170685));
res += mul(Get(s1,dx,dy), float4x4(-0.177956193685532,0.047084972262383,-0.061920784413815,0.158044591546059,0.048642143607140,0.034938134253025,0.079091548919678,-0.000431409047451,0.059366270899773,0.076193280518055,0.077961489558220,-0.143072992563248,0.034443162381649,0.043678231537342,0.142658576369286,0.005940622650087));
res += mul(Get(s2,-dx,-dy), float4x4(0.166192427277565,-0.098366156220436,-0.077058941125870,0.068135328590870,-0.058369986712933,0.179575845599174,0.261627584695816,-0.015930110588670,-0.096327796578407,-0.019752468913794,-0.102707192301750,-0.180207952857018,-0.195343062281609,0.244869843125343,-0.021670518442988,0.027340603992343));
res += mul(Get(s2,-dx,0), float4x4(0.069949060678482,-0.069887660443783,0.118996165692806,-0.056561261415482,0.121867954730988,-0.064541667699814,0.040801368653774,-0.035091925412416,0.104956634342670,-0.224082008004189,-0.115654319524765,0.041008193045855,-0.028186876326799,-0.114566572010517,-0.007590844295919,-0.089465074241161));
res += mul(Get(s2,-dx,dy), float4x4(-0.004587387666106,-0.001658154884353,0.103978358209133,-0.110206328332424,0.079586744308472,-0.046201784163713,-0.005613875575364,-0.089953534305096,-0.017055222764611,-0.120229423046112,0.042678158730268,0.112360596656799,-0.041927307844162,0.005416308995336,-0.038667708635330,0.044912986457348));
res += mul(Get(s2,0,-dy), float4x4(0.048127215355635,-0.090683251619339,-0.115203000605106,0.093242011964321,-0.059473656117916,0.158757999539375,-0.014635170809925,0.142348483204842,0.009462881833315,-0.127561345696449,-0.055168211460114,-0.181975170969963,-0.152611821889877,0.046204794198275,0.124877706170082,0.116239830851555));
res += mul(Get(s2,0,0), float4x4(-0.001627379562706,0.035780288279057,-0.015526671893895,0.169955432415009,-0.072385273873806,-0.020866246894002,0.009959328919649,0.124405249953270,0.246591344475746,-0.194498792290688,0.169394463300705,0.105114348232746,-0.000996487564407,0.106113143265247,-0.091239839792252,-0.128724262118340));
res += mul(Get(s2,0,dy), float4x4(0.192628651857376,-0.047406703233719,-0.036523457616568,0.007319148629904,0.024759357795119,-0.015146262012422,0.035548720508814,0.060683395713568,0.076954245567322,-0.083423823118210,0.030341045930982,-0.068479448556900,0.046304702758789,-0.013483138754964,0.000013845934518,-0.089501611888409));
res += mul(Get(s2,dx,-dy), float4x4(0.089959405362606,-0.009669532068074,-0.147221967577934,0.018911002203822,-0.035559836775064,0.151860907673836,-0.076842494308949,0.016861684620380,-0.024532211944461,-0.139839604496956,-0.006665969267488,-0.139921233057976,-0.116623304784298,0.021084580570459,-0.065735168755054,0.105518065392971));
res += mul(Get(s2,dx,0), float4x4(0.018243214115500,-0.019565569236875,-0.032149709761143,-0.009374008513987,-0.122459895908833,-0.084352038800716,-0.065337203443050,0.080798573791981,-0.068507090210915,-0.210475072264671,-0.014925114810467,0.101102948188782,0.006300194188952,0.046909179538488,-0.096911571919918,0.010456243529916));
res += mul(Get(s2,dx,dy), float4x4(-0.055822435766459,0.017661809921265,-0.039493009448051,-0.072638779878616,0.106212615966797,-0.112802498042583,-0.140040948987007,0.049388933926821,0.004749944899231,-0.151006922125816,-0.063898570835590,-0.070764414966106,0.016661465167999,0.129792079329491,-0.074613787233829,0.000337389472406));
res += mul(Get(s3,-dx,-dy), float4x4(-0.024198684841394,0.005606987513602,-0.078722901642323,0.099371954798698,0.137597769498825,-0.030778067186475,0.004690504167229,-0.036886680871248,0.110353566706181,-0.093572795391083,0.190080672502518,0.036920689046383,0.082899555563927,-0.142772436141968,0.063563413918018,-0.057728588581085));
res += mul(Get(s3,-dx,0), float4x4(-0.107285536825657,-0.043541681021452,-0.109341204166412,0.171794027090073,-0.024555634707212,0.087351188063622,0.045582909137011,0.089687153697014,0.019914085045457,0.134574621915817,0.032852351665497,-0.030679468065500,-0.034496646374464,-0.102841019630432,-0.070968843996525,-0.116613551974297));
res += mul(Get(s3,-dx,dy), float4x4(0.145919412374496,-0.021420646458864,0.015219135209918,-0.017035767436028,0.019863666966558,0.036620356142521,0.110506437718868,0.069600306451321,-0.085480831563473,0.049944307655096,0.071962915360928,0.107085071504116,-0.037432979792356,0.005856510251760,-0.051536727696657,-0.090749315917492));
res += mul(Get(s3,0,-dy), float4x4(-0.075665041804314,-0.026927074417472,0.061646558344364,-0.068171739578247,-0.014585368335247,0.014200275763869,0.089715383946896,-0.084861673414707,0.046596232801676,0.030687548220158,0.134251147508621,-0.020224671810865,0.047406934201717,-0.132797449827194,0.006724862847477,0.017523350194097));
res += mul(Get(s3,0,0), float4x4(0.047127179801464,-0.054753933101892,0.054892148822546,0.109969258308411,-0.018277388066053,0.085307694971561,0.052941113710403,0.086856752634048,0.173746898770332,0.119682960212231,0.007040309254080,0.108475863933563,-0.027801770716906,-0.123912893235683,0.130109950900078,0.193117648363113));
res += mul(Get(s3,0,dy), float4x4(0.407811075448990,-0.034858241677284,0.114988923072815,0.205120757222176,0.001029622391798,0.040489546954632,0.052762430161238,0.008169376291335,0.209664851427078,0.191213861107826,0.131954476237297,0.359629094600677,-0.045830518007278,-0.093403935432434,-0.025418817996979,0.049590528011322));
res += mul(Get(s3,dx,-dy), float4x4(-0.039897408336401,0.050152316689491,-0.043483454734087,-0.082188561558723,-0.014339824207127,-0.069480948150158,0.076182276010513,-0.033639281988144,0.040742672979832,0.080159418284893,0.022005716338754,-0.058316115289927,0.027569575235248,-0.116707384586334,-0.008859273977578,0.054256383329630));
res += mul(Get(s3,dx,0), float4x4(-0.087401337921619,-0.080202244222164,-0.060852967202663,0.001924947835505,-0.073840454220772,0.129171609878540,0.037738759070635,0.068314574658871,0.168245628476143,0.139340013265610,-0.006909477058798,-0.000596026773565,0.090317793190479,-0.152602240443230,0.136650577187538,0.057942539453506));
res += mul(Get(s3,dx,dy), float4x4(-0.048880837857723,-0.054327860474586,-0.060871407389641,0.030861014500260,-0.097665011882782,0.025413947179914,-0.002273477846757,-0.056535255163908,0.131891325116158,0.238461226224899,0.094203755259514,0.009136334992945,-0.046462088823318,-0.131613269448280,0.018275404348969,0.088482767343521));
return max(float4(0,0,0,0), res);
}
