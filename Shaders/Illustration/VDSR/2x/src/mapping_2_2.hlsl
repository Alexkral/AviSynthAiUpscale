sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.090642668306828,0.003135355655104,0.058005951344967,-0.070741511881351,0.057370144873857,0.027502231299877,-0.041592311114073,-0.021505303680897,0.133391350507736,-0.165175855159760,-0.105992563068867,-0.034036636352539,0.084755837917328,-0.067071020603180,0.018977444618940,-0.077908851206303));
res += mul(Get(s0,-dx,0), float4x4(0.070399224758148,0.048674028366804,0.004353230819106,0.088280215859413,0.146954551339149,-0.018510511144996,0.106689222157001,-0.037479422986507,-0.017449727281928,-0.052212171256542,-0.119397141039371,0.011704931035638,-0.062898755073547,-0.027960339561105,-0.032335925847292,-0.166193038225174));
res += mul(Get(s0,-dx,dy), float4x4(0.142057701945305,-0.121634863317013,-0.013362628407776,0.025897001847625,-0.002246214309707,0.136882767081261,0.044633459299803,-0.092971831560135,0.031455695629120,0.122494272887707,-0.083245515823364,0.070051588118076,0.018606979399920,0.090212225914001,0.083028160035610,0.035457435995340));
res += mul(Get(s0,0,-dy), float4x4(0.310825169086456,-0.078892663121223,-0.047601010650396,-0.003700124332681,-0.042479999363422,0.030832510441542,0.002769067417830,-0.113930486142635,0.138272345066071,0.070579014718533,0.095581881701946,0.090254910290241,0.147236913442612,0.215592533349991,-0.150164157152176,-0.034954030066729));
res += mul(Get(s0,0,0), float4x4(-0.006208249367774,-0.159658029675484,0.083466827869415,0.018313061445951,-0.103821165859699,-0.061496596783400,-0.027497434988618,0.010199251584709,-0.235848337411880,-0.017320249229670,0.118190556764603,-0.207674667239189,-0.069744333624840,0.089717783033848,0.110914602875710,-0.074338994920254));
res += mul(Get(s0,0,dy), float4x4(0.131731674075127,0.001250091590919,-0.032878309488297,-0.054369166493416,-0.058888565748930,-0.023251462727785,-0.041250046342611,0.120502069592476,0.027016682550311,0.176187008619308,0.157037690281868,-0.011135797016323,-0.092999354004860,-0.083216771483421,-0.016013858839869,0.033784084022045));
res += mul(Get(s0,dx,-dy), float4x4(-0.049581941217184,-0.015034085139632,-0.017153218388557,-0.065962806344032,-0.152430623769760,-0.050332188606262,0.042176946997643,0.106008909642696,-0.120094850659370,-0.052328776568174,0.113621860742569,-0.114836871623993,0.002728771185502,-0.014572713524103,-0.071348972618580,0.042896963655949));
res += mul(Get(s0,dx,0), float4x4(-0.013525228947401,0.041135516017675,0.087498053908348,-0.013981708325446,-0.010981974191964,0.151635721325874,-0.007388683501631,0.060490980744362,-0.114786945283413,0.002222259528935,0.026954466477036,-0.031394511461258,0.040498632937670,-0.048769064247608,-0.011151862330735,0.008599834516644));
res += mul(Get(s0,dx,dy), float4x4(0.023287191987038,-0.110925517976284,-0.040338691323996,0.144616246223450,-0.084722056984901,-0.036884896457195,0.004628401249647,-0.008546535857022,0.025215167552233,-0.106834731996059,0.060841649770737,0.190861135721207,-0.017006034031510,0.000315053126542,-0.012785981409252,-0.057233739644289));
res += mul(Get(s1,-dx,-dy), float4x4(-0.023567423224449,0.066175490617752,-0.029240291565657,-0.010852683335543,0.004286729730666,0.057654231786728,0.040149461477995,-0.079186655580997,0.203964084386826,0.154213309288025,0.090813897550106,0.168641805648804,0.001460728468373,0.060048535466194,-0.140198245644569,0.087335504591465));
res += mul(Get(s1,-dx,0), float4x4(0.025291334837675,0.026431091129780,0.030849548056722,-0.069180116057396,-0.032873526215553,-0.164607137441635,-0.097795873880386,-0.087371848523617,-0.053883675485849,-0.008775072172284,-0.172686129808426,-0.031576093286276,-0.116014197468758,-0.235539093613625,0.036759696900845,-0.089037418365479));
res += mul(Get(s1,-dx,dy), float4x4(0.049826577305794,0.092021405696869,-0.070711039006710,0.063372530043125,-0.055972836911678,-0.004816963803023,0.120193019509315,0.033045601099730,-0.084739901125431,0.028553381562233,-0.083620674908161,0.035317245870829,-0.020844573155046,-0.206906780600548,0.023623514920473,-0.095730915665627));
res += mul(Get(s1,0,-dy), float4x4(-0.067723065614700,0.033339351415634,0.043823424726725,0.056832678616047,0.099386818706989,-0.052378781139851,-0.130789473652840,-0.091143734753132,-0.058383516967297,-0.081700094044209,0.007289544679224,0.031783953309059,0.002162839984521,0.153583779931068,0.004535400308669,-0.195711880922318));
res += mul(Get(s1,0,0), float4x4(-0.151088491082191,-0.072634384036064,0.032603893429041,0.051081523299217,0.106921479105949,-0.031121760606766,-0.029920529574156,0.012202991172671,0.195192471146584,0.000227342956350,-0.039292670786381,0.114686004817486,0.210636943578720,-0.049629099667072,-0.043795734643936,0.157768368721008));
res += mul(Get(s1,0,dy), float4x4(0.024153064936399,0.088859476149082,0.114098019897938,-0.040769446641207,-0.184723302721977,0.114025503396988,-0.006868984550238,0.167420580983162,-0.063679590821266,0.075664170086384,-0.062717698514462,0.037981968373060,0.102565310895443,-0.211397647857666,0.066440649330616,-0.090445213019848));
res += mul(Get(s1,dx,-dy), float4x4(0.009484323672950,-0.137104317545891,0.006843429058790,-0.061663202941418,-0.125616416335106,0.029696689918637,0.108208134770393,0.105244114995003,0.096881657838821,-0.149990752339363,0.105292893946171,-0.001817160053179,0.059436548501253,-0.167810097336769,-0.086187027394772,0.097926527261734));
res += mul(Get(s1,dx,0), float4x4(-0.034764595329762,0.088818028569221,0.079229556024075,-0.077779136598110,0.184758007526398,0.003856410505250,-0.034865513443947,-0.018175939098001,-0.122415639460087,0.006379540544003,0.287750869989395,-0.025487959384918,-0.121718250215054,-0.033175569027662,0.035880666226149,0.051021277904510));
res += mul(Get(s1,dx,dy), float4x4(-0.058682721108198,0.058372274041176,0.206920698285103,0.071431465446949,-0.068937949836254,0.030032632872462,-0.104456931352615,0.030852049589157,-0.059480804949999,-0.102088250219822,-0.107765793800354,0.170329898595810,-0.044394243508577,0.003591119544581,0.091796524822712,-0.122654385864735));
res += mul(Get(s2,-dx,-dy), float4x4(0.021457325667143,0.037744689732790,0.059149578213692,0.208042964339256,-0.013009591959417,-0.070421129465103,-0.051289856433868,-0.002685753628612,0.123252771794796,-0.027946015819907,-0.071996890008450,-0.061240155249834,0.074920423328876,-0.059139158576727,-0.057848017662764,-0.043279033154249));
res += mul(Get(s2,-dx,0), float4x4(-0.075782276690006,0.106206201016903,-0.057408232241869,0.053458701819181,0.043426029384136,-0.149966478347778,-0.119868941605091,0.017964454367757,-0.195575490593910,0.041286807507277,0.112618088722229,-0.135209500789642,-0.007340040057898,0.160774961113930,0.026807876303792,-0.034884512424469));
res += mul(Get(s2,-dx,dy), float4x4(0.116859115660191,0.033294785767794,0.006850293837488,0.182676628232002,0.027480812743306,-0.006916678976268,-0.147479400038719,-0.117308691143990,-0.013930460438132,0.040828052908182,0.093148261308670,0.032842006534338,0.113437041640282,-0.007137562148273,0.053318075835705,0.105693839490414));
res += mul(Get(s2,0,-dy), float4x4(0.092149682343006,-0.003854090347886,-0.010489819571376,0.035061355680227,0.073370195925236,0.008458435535431,0.010675866156816,0.053361941128969,-0.044357895851135,-0.000347667984897,0.022564122453332,0.041434794664383,0.170208752155304,0.012576466426253,-0.079079590737820,-0.107322536408901));
res += mul(Get(s2,0,0), float4x4(0.108213357627392,0.104055978357792,-0.043620195239782,0.016275878995657,0.000301279156702,0.014653408899903,-0.051028158515692,-0.095747806131840,-0.108051776885986,-0.203428313136101,0.034834515303373,0.089398741722107,-0.010878915898502,-0.110949538648129,-0.005275717005134,-0.039952192455530));
res += mul(Get(s2,0,dy), float4x4(0.129856973886490,0.209035903215408,0.155271455645561,-0.104174062609673,0.057898599654436,-0.127999112010002,-0.008775915019214,-0.069985114037991,0.025381498038769,0.046668484807014,0.065240740776062,0.053146220743656,-0.001921575865708,-0.050914727151394,-0.029363153502345,0.136123165488243));
res += mul(Get(s2,dx,-dy), float4x4(-0.000224668663577,0.005125491879880,-0.019671773537993,0.007690304890275,-0.007491698488593,-0.080852121114731,-0.037758711725473,0.042704679071903,0.004247039556503,0.099289059638977,0.037209995090961,0.073875136673450,0.184551730751991,-0.141001045703888,-0.093202926218510,0.091710165143013));
res += mul(Get(s2,dx,0), float4x4(-0.042763866484165,-0.025003705173731,-0.054620008915663,0.017916655167937,0.112876258790493,-0.070796526968479,0.041500680148602,-0.031198302283883,0.180315062403679,-0.064778596162796,-0.091358862817287,0.129151135683060,-0.034297280013561,0.064670689404011,0.066713869571686,-0.011757304891944));
res += mul(Get(s2,dx,dy), float4x4(0.055659215897322,0.105850726366043,-0.077087387442589,-0.147226452827454,-0.151708006858826,0.081335514783859,0.116036780178547,0.086741209030151,0.006071103736758,0.019751543179154,-0.121883355081081,-0.030500529333949,0.080191336572170,0.062814585864544,0.074836596846581,0.012247309088707));
res += mul(Get(s3,-dx,-dy), float4x4(0.012019223533571,-0.131577908992767,0.154123991727829,-0.002370661823079,0.233184695243835,-0.147628337144852,0.057469539344311,-0.109147928655148,0.052446365356445,-0.042663671076298,0.112470574676991,-0.001418532337993,-0.010231710039079,0.172164335846901,-0.128422155976295,-0.061631686985493));
res += mul(Get(s3,-dx,0), float4x4(-0.161740288138390,0.235909640789032,-0.115995056927204,-0.085466153919697,0.130074873566628,0.007549262605608,0.053113061934710,-0.087570697069168,-0.066002659499645,-0.152072757482529,0.061205837875605,-0.118317365646362,0.027157677337527,0.147399872541428,0.205731898546219,-0.141003161668777));
res += mul(Get(s3,-dx,dy), float4x4(0.087004654109478,0.052885688841343,-0.014343863353133,-0.302414298057556,-0.208573058247566,-0.246620580554008,-0.070646286010742,-0.232104614377022,-0.030138239264488,0.042861521244049,0.044074680656195,-0.002505318494514,0.021080955862999,0.018522696569562,-0.145978420972824,-0.043333049863577));
res += mul(Get(s3,0,-dy), float4x4(0.284133553504944,0.031787682324648,-0.038309574127197,-0.034958172589540,0.182770431041718,-0.018243502825499,-0.127643406391144,-0.034712616354227,0.103506296873093,-0.058232445269823,-0.107529290020466,0.089334726333618,0.243817910552025,0.017671307548881,-0.092124938964844,-0.107157662510872));
res += mul(Get(s3,0,0), float4x4(0.001181946136057,0.178101807832718,-0.279506742954254,0.025010248646140,-0.107685074210167,0.003408330958337,-0.128464743494987,-0.035706829279661,-0.064664274454117,-0.084123119711876,0.033544387668371,0.013196801766753,-0.057204637676477,0.176071375608444,0.293554246425629,-0.028266770765185));
res += mul(Get(s3,0,dy), float4x4(-0.072572328150272,-0.252928763628006,0.221203342080116,0.282336086034775,-0.084261320531368,-0.031428497284651,0.000846517388709,0.139057174324989,-0.126952216029167,0.134670570492744,0.025542251765728,0.037715815007687,-0.027593569830060,0.215490877628326,0.068506471812725,0.027741929516196));
res += mul(Get(s3,dx,-dy), float4x4(0.199417829513550,-0.006580105051398,-0.032970283180475,-0.151682049036026,-0.046153005212545,0.016307123005390,0.034872606396675,0.032343205064535,0.042363248765469,-0.003731780219823,-0.133518397808075,-0.185126870870590,0.030329586938024,0.109240770339966,0.054399494081736,0.097710147500038));
res += mul(Get(s3,dx,0), float4x4(-0.077977232635021,-0.013427478261292,-0.048113323748112,-0.027849609032273,0.159505099058151,-0.132159575819969,0.112041607499123,0.104006372392178,-0.053048752248287,-0.017835378646851,0.028372544795275,0.167612418532372,0.065566755831242,-0.015686012804508,0.019404437392950,0.063068069517612));
res += mul(Get(s3,dx,dy), float4x4(-0.021176638081670,0.018560687080026,0.213387742638588,0.015371135435998,0.093793258070946,0.035667881369591,0.038876831531525,0.255124568939209,-0.091384410858154,0.005785937421024,0.131661459803581,0.052612155675888,-0.018489457666874,-0.032436363399029,-0.009132062084973,-0.007618339732289));
return max(float4(0,0,0,0), res);
}
