sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.057761576026678,0.097656913101673,-0.013128497637808,-0.033466137945652,-0.064016930758953,-0.076465897262096,0.084350265562534,0.083453334867954,-0.154969632625580,-0.109059616923332,0.101825550198555,0.094876058399677,-0.003823388600722,-0.011618908494711,0.071889355778694,-0.091997921466827));
res += mul(Get(s0,-dx,0), float4x4(-0.160442426800728,0.121239073574543,0.109311200678349,0.018410915508866,0.100313559174538,0.019344167783856,0.093659028410912,0.155369386076927,-0.105493254959583,-0.105480693280697,0.173234283924103,0.081511743366718,0.020365932956338,-0.098873630166054,-0.062242891639471,-0.165740534663200));
res += mul(Get(s0,-dx,dy), float4x4(-0.110005006194115,-0.016356138512492,0.123194918036461,0.020428728312254,0.046412240713835,-0.049199424684048,-0.151302143931389,-0.089366696774960,-0.053325619548559,0.028232552111149,0.079688131809235,-0.025064896792173,0.127227514982224,-0.074534192681313,-0.072736814618111,0.066950902342796));
res += mul(Get(s0,0,-dy), float4x4(0.042353682219982,0.056765858083963,-0.136272534728050,-0.196170672774315,0.150054201483727,0.060350783169270,0.030403332784772,0.067431412637234,0.051496170461178,-0.031542625278234,-0.036907244473696,-0.148338884115219,0.036334317177534,-0.035920217633247,0.024563875049353,-0.130583167076111));
res += mul(Get(s0,0,0), float4x4(0.277063786983490,0.076580330729485,0.119641833007336,0.126213699579239,0.001791004673578,0.012479149736464,-0.009248204529285,-0.052285261452198,0.077031977474689,-0.084966152906418,-0.019383186474442,0.081148974597454,-0.016866127029061,-0.023118430748582,-0.121296688914299,-0.055287800729275));
res += mul(Get(s0,0,dy), float4x4(0.053817629814148,-0.107871532440186,0.116633437573910,-0.067605271935463,-0.127991333603859,0.020790349692106,-0.074482761323452,0.000724665354937,-0.047792498022318,-0.056448131799698,0.063026212155819,0.049856659024954,0.117768317461014,0.026773175224662,0.020564846694469,0.078251793980598));
res += mul(Get(s0,dx,-dy), float4x4(-0.126461267471313,0.030095018446445,-0.094986133277416,0.020587738603354,-0.019745254889131,0.074245333671570,-0.077384136617184,-0.088068470358849,-0.091129094362259,0.054585263133049,0.002868561074138,-0.041549820452929,-0.084835469722748,-0.077473543584347,0.124385505914688,-0.010272826999426));
res += mul(Get(s0,dx,0), float4x4(0.252254873514175,0.074206955730915,-0.001714020036161,0.132814556360245,-0.109896481037140,-0.051411487162113,-0.137063145637512,-0.096183672547340,0.193533107638359,-0.034151762723923,-0.106735967099667,0.035649508237839,-0.139299973845482,0.011388540267944,0.058557022362947,0.038637533783913));
res += mul(Get(s0,dx,dy), float4x4(-0.028379939496517,-0.055037982761860,0.037949565798044,-0.082003884017467,0.229643806815147,0.018437249585986,-0.083321951329708,-0.068600513041019,0.088328227400780,-0.081789180636406,0.035781361162663,0.007792925927788,0.031531538814306,0.027690546587110,0.009109416976571,0.058921284973621));
res += mul(Get(s1,-dx,-dy), float4x4(-0.042096965014935,-0.229603737592697,-0.062820650637150,-0.018133329227567,0.000001313753160,0.000001153928679,-0.000001422371724,0.000000610524410,0.080583423376083,0.007971908897161,-0.037559308111668,-0.080057993531227,0.022794928401709,-0.118688069283962,-0.035622175782919,0.171085074543953));
res += mul(Get(s1,-dx,0), float4x4(-0.008812951855361,-0.343599736690521,0.093083269894123,-0.031368456780910,0.000001033669037,0.000000552778545,-0.000002892159046,-0.000002065730087,0.013392990455031,0.051062930375338,-0.071786612272263,-0.073963329195976,-0.060634855180979,0.432900041341782,-0.027195144444704,0.012660241685808));
res += mul(Get(s1,-dx,dy), float4x4(-0.057934746146202,-0.331766217947006,0.135496661067009,-0.014223572798073,-0.000001322874141,0.000000670460850,-0.000000537798599,-0.000002400402764,0.036778941750526,0.065993323922157,0.062050111591816,0.036741025745869,0.125979974865913,0.543516516685486,0.099371641874313,-0.124209038913250));
res += mul(Get(s1,0,-dy), float4x4(-0.224512606859207,-0.014149613678455,-0.081220254302025,-0.019569316878915,0.000002567536285,0.000002216783059,-0.000000071415357,0.000000451796922,0.062921471893787,-0.013061563484371,-0.075926117599010,-0.042117457836866,-0.238336801528931,0.085764423012733,-0.085771135985851,0.065519556403160));
res += mul(Get(s1,0,0), float4x4(0.008141067810357,-0.049237865954638,0.061201527714729,-0.021850951015949,0.000001947543751,0.000000032806696,-0.000000055555645,-0.000001863859552,0.011454629711807,-0.067712128162384,-0.104984290897846,-0.032588008791208,-0.355752766132355,-0.198938056826591,-0.170379802584648,-0.011061263270676));
res += mul(Get(s1,0,dy), float4x4(0.248929589986801,-0.027971148490906,0.150307595729828,0.000170456580236,0.000000668922269,0.000001289288548,-0.000001993740852,-0.000000341594500,0.144626140594482,-0.041960883885622,0.035685084760189,0.086831755936146,0.613229632377625,-0.242441028356552,0.031337399035692,-0.007517481222749));
res += mul(Get(s1,dx,-dy), float4x4(0.046423193067312,-0.019985992461443,-0.021938515827060,-0.041916269809008,-0.000000912526787,-0.000000511616861,-0.000001447802788,0.000001181324706,0.013024833984673,0.012612085789442,-0.000402845616918,0.054814442992210,-0.036903973668814,-0.018025517463684,0.008358547464013,-0.097664177417755));
res += mul(Get(s1,dx,0), float4x4(0.041543126106262,0.005950156599283,0.048723068088293,-0.030010011047125,-0.000002579445436,0.000000337577774,-0.000001271333872,0.000001431604574,-0.026354357600212,0.000084568680904,-0.053805503994226,0.052015002816916,-0.070312790572643,-0.098694033920765,0.014244704507291,-0.015870483592153));
res += mul(Get(s1,dx,dy), float4x4(0.017957171425223,0.079306706786156,0.021049212664366,-0.014883523806930,-0.000000285943628,-0.000002906657755,0.000001377933359,0.000002400216090,0.026332201436162,0.027248302474618,0.077309943735600,0.080632165074348,0.008254225365818,-0.087717622518539,0.191758513450623,-0.133509501814842));
res += mul(Get(s2,-dx,-dy), float4x4(-0.007382058072835,0.039164833724499,-0.059867121279240,-0.042206589132547,0.044263288378716,-0.063105501234531,-0.044976625591516,0.045520268380642,-0.013841282576323,0.033910457044840,0.072540208697319,0.080769687891006,0.016210071742535,-0.042760815471411,-0.008122363127768,-0.053619254380465));
res += mul(Get(s2,-dx,0), float4x4(-0.050037186592817,-0.025953236967325,-0.065090261399746,-0.035626225173473,-0.057414695620537,0.030182195827365,-0.184190019965172,-0.025320727378130,0.013220975175500,0.006223142147064,-0.124059334397316,0.074459224939346,-0.062401417642832,-0.028437502682209,0.051677722483873,0.005343719851226));
res += mul(Get(s2,-dx,dy), float4x4(-0.082816287875175,-0.127278760075569,0.005304011516273,-0.031537972390652,-0.108835779130459,0.034663572907448,-0.132095232605934,-0.068298742175102,0.035494513809681,-0.008703165687621,-0.186551913619041,0.061594359576702,-0.094380430877209,-0.038467478007078,-0.032381087541580,-0.102473899722099));
res += mul(Get(s2,0,-dy), float4x4(0.095144219696522,-0.046615090221167,-0.028589064255357,0.017960276454687,0.022775514051318,0.010564506985247,0.000929036701564,0.211941406130791,-0.055326119065285,-0.016152892261744,0.145339578390121,-0.025551421567798,-0.001224123174325,-0.015327007509768,-0.092225931584835,-0.070926994085312));
res += mul(Get(s2,0,0), float4x4(-0.076869249343872,-0.085029102861881,-0.034295599907637,0.032332792878151,-0.024138493463397,-0.008137018419802,-0.164305031299591,-0.003892465727404,-0.053767375648022,0.008493491448462,0.116512753069401,0.059159766882658,0.025674644857645,-0.004189599305391,0.033887904137373,0.038491062819958));
res += mul(Get(s2,0,dy), float4x4(-0.098671630024910,-0.046442337334156,0.008184445090592,-0.022585727274418,-0.067199923098087,-0.066765636205673,-0.081753507256508,-0.099489524960518,-0.018336666747928,0.020572217181325,-0.042949277907610,0.001303984085098,0.017095798626542,-0.042112722992897,-0.015263613313437,-0.025752563029528));
res += mul(Get(s2,dx,-dy), float4x4(0.069984361529350,0.015361541882157,0.100155733525753,0.009864488616586,-0.026072945445776,-0.041717112064362,0.000730588508304,-0.014312933199108,0.025401690974832,0.004999128170311,-0.022794913500547,-0.136471047997475,-0.011676462367177,-0.002324611879885,-0.055248208343983,0.042621653527021));
res += mul(Get(s2,dx,0), float4x4(-0.031395573168993,-0.032732646912336,-0.004357759375125,0.059772633016109,-0.076843738555908,-0.059268664568663,-0.106650240719318,0.000751400541048,-0.015644891187549,0.000465385004645,-0.012327540665865,-0.125231564044952,-0.039468377828598,-0.008304583840072,0.049846976995468,0.054210107773542));
res += mul(Get(s2,dx,dy), float4x4(-0.141446799039841,-0.018610449507833,0.014552691951394,0.015911607071757,-0.071419857442379,0.044691342860460,-0.138583958148956,0.018372731283307,-0.011372624896467,-0.031350627541542,-0.004226798657328,0.013659968972206,-0.061473742127419,-0.019159104675055,-0.129749268293381,-0.039715006947517));
res += mul(Get(s3,-dx,-dy), float4x4(-0.080715216696262,0.047426283359528,0.068444438278675,0.122551031410694,0.000001752454068,0.000000805687648,-0.000001906946750,-0.000000469276955,0.097641050815582,0.037207424640656,0.004365634638816,0.108681008219719,-0.007074173539877,0.050256539136171,0.043442633002996,-0.007794323377311));
res += mul(Get(s3,-dx,0), float4x4(0.056842647492886,-0.025374706834555,0.123640947043896,0.228385552763939,0.000003353296961,-0.000000122184062,0.000001553347829,-0.000000616609498,0.028658069670200,0.097132518887520,0.009183157235384,0.053155638277531,-0.088117659091949,-0.098197996616364,-0.138366132974625,0.028561372309923));
res += mul(Get(s3,-dx,dy), float4x4(-0.041597187519073,-0.044206041842699,-0.085840865969658,0.014192766509950,0.000000556969894,0.000001627711413,0.000001314294195,-0.000001531124553,-0.172752618789673,-0.053998462855816,-0.039663691073656,-0.088093020021915,-0.074300006031990,0.030757274478674,-0.062612794339657,-0.043556023389101));
res += mul(Get(s3,0,-dy), float4x4(-0.026514278724790,0.036217954009771,0.067363940179348,0.108608670532703,0.000000160234592,0.000000797637483,-0.000000559662283,-0.000001677633350,0.143817692995071,0.086821898818016,-0.023140242323279,0.096251226961613,-0.044065091758966,-0.025993872433901,-0.049946844577789,-0.003462764434516));
res += mul(Get(s3,0,0), float4x4(-0.026662394404411,-0.025612434372306,0.212772145867348,0.096099391579628,-0.000000348480114,-0.000000747842989,-0.000000720333105,0.000000173943036,-0.073986053466797,0.108646154403687,-0.035341333597898,-0.023355431854725,-0.152420327067375,-0.068127572536469,-0.119884632527828,-0.038049336522818));
res += mul(Get(s3,0,dy), float4x4(-0.051736932247877,-0.072412461042404,-0.099974147975445,-0.017524661496282,-0.000000475460922,-0.000000793169420,-0.000000335133848,0.000001499743007,-0.221788004040718,-0.068853639066219,-0.006621114443988,-0.065860129892826,-0.065250121057034,-0.051288135349751,-0.041628103703260,-0.060435384511948));
res += mul(Get(s3,dx,-dy), float4x4(-0.003628800390288,-0.036467645317316,-0.038081198930740,0.021870013326406,-0.000002068129106,-0.000000387279812,-0.000000147020373,0.000001953134870,0.049687542021275,0.055581279098988,-0.043134015053511,0.057763528078794,-0.020528690889478,-0.019104322418571,0.066091269254684,-0.007417303044349));
res += mul(Get(s3,dx,0), float4x4(0.019044121727347,-0.057329382747412,0.030730433762074,-0.019458683207631,0.000000731055763,0.000002644077085,-0.000001122381377,0.000000874562886,-0.068867474794388,0.027397803962231,-0.047132961452007,-0.056412030011415,-0.032842840999365,-0.050450101494789,-0.097396619617939,0.031930383294821));
res += mul(Get(s3,dx,dy), float4x4(-0.043014708906412,-0.123872660100460,0.004414656665176,-0.006978796329349,-0.000000859054069,-0.000001059101578,-0.000000309431215,-0.000000743847181,-0.213468834757805,-0.009943051263690,0.015407668426633,-0.019240908324718,-0.016909731552005,0.026938857510686,-0.024596957489848,0.026470042765141));
return max(float4(0,0,0,0), res);
}
