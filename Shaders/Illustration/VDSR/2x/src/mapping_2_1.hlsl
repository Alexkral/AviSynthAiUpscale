sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.111023373901844,0.101894013583660,0.008396067656577,-0.055316362529993,0.084404274821281,-0.011035586707294,0.006730806548148,0.056020945310593,0.124963581562042,0.025335729122162,-0.202495321631432,-0.117824420332909,-0.080317355692387,-0.125940114259720,-0.190181568264961,-0.013153384439647));
res += mul(Get(s0,-dx,0), float4x4(0.062146525830030,0.009577523916960,-0.092201218008995,-0.021504972130060,-0.081654734909534,-0.074563249945641,-0.033344104886055,-0.061726380139589,0.063975051045418,0.109722092747688,-0.011849818751216,0.010683074593544,-0.125129222869873,-0.090765900909901,0.120874181389809,0.040052052587271));
res += mul(Get(s0,-dx,dy), float4x4(-0.206881761550903,-0.062360737472773,0.034614939242601,-0.105594836175442,0.134547233581543,0.037209376692772,0.026304218918085,-0.031464580446482,0.006773178465664,0.007085818331689,-0.024711079895496,0.010869823396206,-0.043989751487970,0.020501079037786,-0.315304011106491,-0.009327118285000));
res += mul(Get(s0,0,-dy), float4x4(0.121723100543022,-0.033035222440958,0.031152632087469,-0.183586314320564,0.309179306030273,0.167438492178917,-0.036777619272470,0.103530108928680,-0.029476620256901,0.085183389484882,0.125718787312508,-0.055014979094267,0.010216793045402,-0.122682988643646,0.048427645117044,-0.065830856561661));
res += mul(Get(s0,0,0), float4x4(0.089546762406826,-0.063849948346615,-0.022030578926206,-0.074275910854340,-0.027617137879133,-0.021459819748998,-0.015036670491099,0.071056246757507,-0.107976958155632,0.102267809212208,0.050304431468248,-0.040991250425577,-0.102139383554459,0.045340456068516,-0.131984859704971,0.096627272665501));
res += mul(Get(s0,0,dy), float4x4(0.065618678927422,0.008608780801296,0.029690623283386,0.018676683306694,0.023207066580653,-0.035286363214254,0.106406256556511,-0.102938726544380,-0.261912673711777,0.083510525524616,-0.070688471198082,-0.127226099371910,0.117607690393925,0.051933512091637,-0.033995620906353,-0.127755790948868));
res += mul(Get(s0,dx,-dy), float4x4(-0.101230263710022,-0.089506477117538,0.049156110733747,-0.128332450985909,-0.076835267245770,-0.138777434825897,0.155122086405754,0.166355326771736,-0.042133647948503,0.079549543559551,0.104852505028248,0.260383754968643,-0.016677740961313,0.010281192138791,0.193933933973312,0.184151887893677));
res += mul(Get(s0,dx,0), float4x4(-0.106916807591915,-0.026887638494372,0.096232667565346,-0.083361983299255,-0.196383967995644,-0.105274289846420,0.070457190275192,-0.033102717250586,-0.007622781209648,0.045827858150005,0.143065318465233,0.201748907566071,-0.005857822019607,0.041369669139385,-0.004858203232288,-0.184282109141350));
res += mul(Get(s0,dx,dy), float4x4(-0.048647794872522,0.085659854114056,0.060288112610579,0.036612305790186,0.103631727397442,0.050164863467216,0.209400966763496,-0.038039736449718,-0.009612725116313,-0.045539494603872,0.032074268907309,-0.000372784736101,-0.066740110516548,0.009971544146538,0.233235940337181,-0.063099160790443));
res += mul(Get(s1,-dx,-dy), float4x4(-0.132258474826813,-0.023234700784087,0.026497943326831,0.061780881136656,0.068235643208027,0.015042277052999,0.169904097914696,0.061176892369986,0.060001406818628,-0.115932926535606,-0.050944864749908,-0.309879839420319,-0.081483915448189,-0.042139019817114,0.010710383765399,-0.032464373856783));
res += mul(Get(s1,-dx,0), float4x4(0.092104189097881,0.008010579273105,-0.016176218166947,-0.036758437752724,0.251021713018417,0.133578225970268,-0.061382755637169,0.037715669721365,0.055968265980482,0.098678961396217,-0.077253952622414,0.106943354010582,0.003235342446715,0.106107324361801,0.126159802079201,-0.044317126274109));
res += mul(Get(s1,-dx,dy), float4x4(-0.141471654176712,0.071025520563126,-0.061016950756311,-0.176845222711563,-0.252818495035172,-0.001408485230058,-0.123022556304932,-0.002096355659887,-0.014821839518845,0.012346752919257,-0.027908055111766,-0.022701956331730,0.148294493556023,0.152919590473175,0.146636366844177,0.131136849522591));
res += mul(Get(s1,0,-dy), float4x4(-0.040492709726095,0.037696469575167,-0.083463601768017,0.058917406946421,-0.173421293497086,-0.043557818979025,0.125109910964966,-0.125135466456413,-0.123225800693035,0.069614313542843,0.023117866367102,-0.186260625720024,0.077264659106731,-0.184412121772766,-0.226285442709923,-0.002602601423860));
res += mul(Get(s1,0,0), float4x4(0.147131755948067,-0.268322974443436,0.091568291187286,-0.004110366571695,0.318385452032089,0.018372153863311,0.129483953118324,0.127912580966949,0.024500006809831,-0.079145237803459,-0.013761517591774,0.008497588336468,-0.024024132639170,0.100289501249790,0.084003590047359,-0.120302692055702));
res += mul(Get(s1,0,dy), float4x4(0.112259894609451,-0.086468733847141,-0.180707618594170,-0.074275441467762,0.122582204639912,0.071183703839779,0.030804403126240,-0.162981197237968,0.050912141799927,-0.029051622375846,0.182634964585304,0.062989406287670,0.289262294769287,0.058032773435116,0.031447481364012,0.058172486722469));
res += mul(Get(s1,dx,-dy), float4x4(0.020672416314483,0.000670035951771,0.054141517728567,0.027484441176057,-0.037085782736540,-0.073472596704960,-0.145448923110962,-0.022997986525297,0.128992944955826,0.105987489223480,-0.147694304585457,-0.048535328358412,0.090705387294292,-0.002855781698599,0.015414971858263,-0.247701704502106));
res += mul(Get(s1,dx,0), float4x4(0.158323809504509,0.053731404244900,0.081156052649021,0.094011008739471,-0.019747909158468,-0.054568674415350,0.019772166386247,-0.020852010697126,-0.037705983966589,0.183513700962067,0.041442502290010,-0.119719229638577,-0.077561751008034,-0.088041000068188,-0.067481137812138,-0.171288445591927));
res += mul(Get(s1,dx,dy), float4x4(0.141915410757065,0.108602598309517,0.121196344494820,0.189828544855118,-0.061187267303467,-0.088534399867058,-0.092040412127972,0.061652868986130,0.072126448154449,-0.111690007150173,-0.070606887340546,0.147761672735214,0.059248007833958,-0.116307891905308,-0.185834467411041,-0.019469765946269));
res += mul(Get(s2,-dx,-dy), float4x4(0.161107867956161,0.013116817921400,0.088872924447060,0.036578428000212,0.081014998257160,-0.002386641688645,-0.251778364181519,0.082092940807343,-0.071346685290337,0.237562581896782,-0.114789001643658,0.131289228796959,-0.127728447318077,-0.117385946214199,-0.070838317275047,-0.094507098197937));
res += mul(Get(s2,-dx,0), float4x4(0.108625181019306,-0.026969235390425,-0.053427796810865,0.002875081030652,-0.106691434979439,0.096954762935638,0.040115334093571,0.051354203373194,-0.104196764528751,0.047630932182074,0.078743413090706,-0.159615412354469,0.104000017046928,-0.042405158281326,0.072046563029289,0.003353733336553));
res += mul(Get(s2,-dx,dy), float4x4(0.042421136051416,0.228345334529877,-0.036467090249062,-0.205286502838135,0.034098718315363,-0.007038495969027,-0.098212830722332,-0.140690594911575,0.019458850845695,0.064988411962986,-0.038456026464701,-0.192266583442688,0.150816008448601,-0.006222561467439,-0.033279012888670,0.103758223354816));
res += mul(Get(s2,0,-dy), float4x4(-0.039375904947519,0.019444284960628,0.018353594467044,0.082360737025738,0.117991089820862,0.001655890373513,0.129234984517097,0.095093593001366,0.197291642427444,-0.155847981572151,-0.204659238457680,0.105583667755127,-0.081674419343472,0.015222921036184,-0.003162395674735,-0.005884624551982));
res += mul(Get(s2,0,0), float4x4(0.019641948863864,-0.016988201066852,0.255104303359985,0.124371446669102,-0.046872563660145,-0.001862541656010,-0.113123558461666,0.093871638178825,0.024103488773108,0.034123692661524,-0.104927957057953,-0.062433511018753,-0.156231150031090,-0.185153007507324,-0.014801830053329,-0.228994503617287));
res += mul(Get(s2,0,dy), float4x4(0.213300004601479,-0.006208635866642,0.230335041880608,0.110911950469017,-0.020443432033062,-0.052185352891684,-0.100614689290524,0.032255642116070,0.078291676938534,-0.150720655918121,0.271420121192932,0.099171802401543,-0.057036381214857,-0.170772716403008,-0.111285224556923,0.104500189423561));
res += mul(Get(s2,dx,-dy), float4x4(-0.201987355947495,-0.066722780466080,-0.131275460124016,-0.057070180773735,-0.224773526191711,0.162093222141266,0.305390983819962,-0.068901143968105,-0.121816374361515,-0.146293655037880,0.007034077309072,0.017875554040074,0.072085700929165,-0.179634705185890,0.146264880895615,-0.021620118990541));
res += mul(Get(s2,dx,0), float4x4(-0.051455315202475,0.204397514462471,-0.043362896889448,-0.042888406664133,0.185247525572777,0.125185996294022,0.142215520143509,-0.099913246929646,0.037786476314068,0.056777544319630,-0.227004751563072,-0.177261605858803,-0.055135656148195,-0.014889997430146,-0.028246229514480,-0.052654888480902));
res += mul(Get(s2,dx,dy), float4x4(0.035834092646837,0.057677030563354,0.105781503021717,-0.102517716586590,0.103206023573875,0.003750997595489,0.031845133751631,0.086863063275814,0.172174841165543,0.054631020873785,-0.124340787529945,-0.086372233927250,-0.055413186550140,-0.204529583454132,-0.040579695254564,-0.222955703735352));
res += mul(Get(s3,-dx,-dy), float4x4(-0.021408542990685,0.016616171225905,-0.061708781868219,0.006281167734414,0.030110135674477,0.212439328432083,-0.196553498506546,-0.054209787398577,0.148372396826744,0.062104146927595,0.006010841112584,0.085202500224113,0.075295984745026,0.077551946043968,0.032449141144753,0.033099722117186));
res += mul(Get(s3,-dx,0), float4x4(-0.054559268057346,-0.044616993516684,-0.044220633804798,0.031619150191545,0.015113797970116,0.190354406833649,0.128528162837029,0.163537412881851,-0.079300776124001,0.148581400513649,0.152098938822746,0.039388310164213,0.192389175295830,-0.145971730351448,-0.125865176320076,0.080844119191170));
res += mul(Get(s3,-dx,dy), float4x4(-0.059020429849625,-0.131617441773415,-0.116636268794537,0.110267713665962,0.006698868703097,0.025191342458129,-0.021461939439178,0.070681221783161,-0.093579068779945,-0.058910995721817,-0.053607821464539,0.110968738794327,-0.159073278307915,-0.051741775125265,-0.067325815558434,-0.134043186903000));
res += mul(Get(s3,0,-dy), float4x4(0.305440485477448,0.223781749606133,0.008332300931215,-0.167156398296356,-0.011241360567510,0.047470077872276,-0.173518106341362,-0.044993720948696,0.043905012309551,-0.089140579104424,-0.092238299548626,0.231781259179115,-0.031236302107573,-0.001268389052711,0.032383929938078,-0.053683187812567));
res += mul(Get(s3,0,0), float4x4(0.119786389172077,0.260129928588867,0.219182491302490,-0.090871095657349,0.241331443190575,0.237726479768753,-0.038977686315775,0.077479571104050,0.173006162047386,0.014489960856736,0.048670273274183,0.147898465394974,-0.220115706324577,0.053339842706919,0.217653498053551,-0.062340669333935));
res += mul(Get(s3,0,dy), float4x4(-0.118161208927631,-0.103688985109329,-0.006216101348400,-0.030255319550633,0.008028749376535,0.091841623187065,-0.170497179031372,0.115763194859028,0.045409880578518,-0.167846456170082,-0.118320226669312,-0.172576934099197,0.131602108478546,-0.139343023300171,-0.030230771750212,0.027816604822874));
res += mul(Get(s3,dx,-dy), float4x4(0.150682792067528,0.038335964083672,-0.028235990554094,0.065108306705952,-0.009892189875245,0.022015202790499,0.063022062182426,0.035788066685200,0.062427349388599,0.023310706019402,0.054266981780529,-0.131166860461235,-0.025688789784908,-0.076899118721485,0.111437425017357,0.089953199028969));
res += mul(Get(s3,dx,0), float4x4(-0.196912422776222,0.203347340226173,-0.027313077822328,-0.071480594575405,-0.076723486185074,0.034942165017128,0.000781032198574,-0.215119808912277,0.182070583105087,-0.275507777929306,-0.126272067427635,-0.048691395670176,0.000821468245704,-0.095671713352203,-0.099858842790127,-0.023369420319796));
res += mul(Get(s3,dx,dy), float4x4(-0.057717826217413,-0.011066735722125,0.027995359152555,0.083293110132217,-0.057692579925060,-0.011454407125711,0.062721513211727,0.134309113025665,0.011134952306747,-0.133495897054672,0.119320906698704,-0.146461516618729,-0.101248487830162,-0.033140275627375,0.016184592619538,-0.090127766132355));
return max(float4(0,0,0,0), res);
}
