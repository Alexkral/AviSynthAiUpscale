sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.099865995347500,0.006223930977285,-0.014133399352431,-0.066791765391827,-0.098167739808559,0.005955753847957,0.095096930861473,-0.227399721741676,-0.002972222864628,0.000142373683047,0.039497237652540,-0.073055319488049,0.023136992007494,0.105142295360565,-0.039993826299906,0.067628338932991));
res += mul(Get(s0,-dx,0), float4x4(0.108866274356842,-0.084748536348343,0.053109176456928,-0.094161108136177,-0.062003728002310,0.049360804259777,0.018556164577603,-0.041937783360481,0.005304802209139,0.000580097956117,-0.181834459304810,0.043766282498837,-0.100358963012695,0.100420027971268,0.018385974690318,-0.097867064177990));
res += mul(Get(s0,-dx,dy), float4x4(-0.003872870467603,-0.120510391891003,-0.080769583582878,0.032546900212765,-0.102736100554466,0.069675482809544,-0.198573082685471,-0.000496486842167,-0.029549641534686,0.001707782386802,0.069843083620071,-0.089932508766651,-0.043884806334972,-0.042877491563559,0.135892137885094,-0.044870171695948));
res += mul(Get(s0,0,-dy), float4x4(-0.195529446005821,-0.085355103015900,-0.091340139508247,-0.060566700994968,0.212215378880501,0.099389910697937,0.076101757586002,0.088829837739468,0.156451940536499,-0.103069886565208,-0.236053764820099,0.123675845563412,-0.026871491223574,0.151454031467438,-0.045972131192684,-0.033464971929789));
res += mul(Get(s0,0,0), float4x4(0.095059357583523,-0.115324340760708,0.134924888610840,0.023675901815295,0.286961138248444,0.080159611999989,-0.007289356552064,-0.053191501647234,0.193083375692368,-0.011720027774572,0.029041958972812,0.171501666307449,-0.016487143933773,0.005884899757802,-0.070902645587921,-0.082302808761597));
res += mul(Get(s0,0,dy), float4x4(0.094753652811050,0.060538098216057,0.072117716073990,-0.034622035920620,-0.055332131683826,0.112377606332302,0.097798407077789,-0.065264925360680,-0.029830835759640,-0.046484917402267,0.000334936630679,-0.062802292406559,-0.022537356242537,-0.096847340464592,-0.141264244914055,0.061429250985384));
res += mul(Get(s0,dx,-dy), float4x4(0.165745675563812,0.062104679644108,0.067967571318150,0.003253494389355,0.024141969159245,0.022400746122003,-0.170376524329185,0.084673151373863,0.025516364723444,-0.074276350438595,-0.002639709971845,0.143292769789696,0.201206102967262,-0.090243555605412,0.156123206019402,0.095758549869061));
res += mul(Get(s0,dx,0), float4x4(0.074634045362473,0.076139450073242,-0.211884945631027,0.126825049519539,-0.075083538889885,-0.137990564107895,0.093229904770851,0.079970024526119,0.045078169554472,-0.017184684053063,0.075204126536846,-0.050980176776648,0.097971171140671,-0.095126666128635,0.068781703710556,-0.064131885766983));
res += mul(Get(s0,dx,dy), float4x4(-0.038501266390085,0.097068816423416,-0.049862526357174,-0.013475250452757,-0.201276853680611,-0.024743838235736,-0.032496169209480,0.071768626570702,-0.122846081852913,0.035165123641491,-0.037779793143272,-0.107645906507969,-0.059108853340149,-0.126479372382164,0.041045982390642,0.076498001813889));
res += mul(Get(s1,-dx,-dy), float4x4(0.059222143143415,0.093421444296837,0.131665945053101,-0.102976441383362,-0.083830691874027,-0.252172529697418,0.029984870925546,-0.163363680243492,0.149760931730270,0.177380934357643,-0.006878980901092,-0.131728485226631,0.014139104634523,0.275274515151978,0.037961620837450,-0.092603914439678));
res += mul(Get(s1,-dx,0), float4x4(0.070856206119061,0.068183556199074,0.013133056461811,0.051472093909979,0.124985322356224,-0.091061629354954,-0.011153932660818,-0.043348997831345,-0.086009092628956,-0.022277019917965,0.107030719518661,-0.004817779175937,0.006022218614817,-0.123730413615704,-0.197583943605423,-0.061162516474724));
res += mul(Get(s1,-dx,dy), float4x4(0.128050073981285,0.096653178334236,-0.079404719173908,-0.101225905120373,-0.173329859972000,0.045442596077919,-0.141594350337982,-0.182182386517525,0.181455314159393,-0.040628958493471,0.062505513429642,-0.021661944687366,-0.074369043111801,-0.198794588446617,-0.081996724009514,0.001176228164695));
res += mul(Get(s1,0,-dy), float4x4(-0.010208788327873,-0.079657942056656,-0.036988031119108,-0.082657523453236,0.097074247896671,-0.079785734415054,-0.090779125690460,0.039447538554668,-0.002246946794912,0.082755781710148,0.051633559167385,-0.061069995164871,-0.019278626888990,-0.048358336091042,0.126793667674065,-0.084777563810349));
res += mul(Get(s1,0,0), float4x4(-0.119468636810780,0.136366844177246,0.074044875800610,0.104307278990746,0.105333223938942,-0.052431814372540,-0.068698413670063,-0.201446980237961,-0.151575848460197,-0.009697292000055,0.000694436428603,0.326548188924789,-0.060705248266459,-0.183868542313576,0.139623716473579,0.047505259513855));
res += mul(Get(s1,0,dy), float4x4(0.052787829190493,0.014692659489810,0.191778495907784,-0.058256674557924,0.176194250583649,0.040859807282686,-0.102305307984352,-0.068619735538960,-0.071956388652325,-0.157424613833427,0.057535201311111,0.047237608581781,0.026848869398236,0.152231439948082,0.127539679408073,0.083474904298782));
res += mul(Get(s1,dx,-dy), float4x4(0.058222841471434,-0.129470437765121,0.072459630668163,-0.104644291102886,0.108308993279934,0.017886219546199,-0.057282187044621,0.022068528458476,-0.128044590353966,0.176622226834297,-0.072629317641258,0.109541170299053,0.017432009801269,0.033949501812458,-0.125254034996033,-0.058286312967539));
res += mul(Get(s1,dx,0), float4x4(-0.102953568100929,0.037894520908594,-0.020291363820434,0.005920025520027,0.061838820576668,0.088883608579636,0.003680368419737,-0.027309250086546,-0.065477333962917,-0.078128188848495,-0.010210606269538,-0.024454500526190,0.145627588033676,-0.039624292403460,-0.093388184905052,-0.131988003849983));
res += mul(Get(s1,dx,dy), float4x4(0.199664518237114,0.013824022375047,0.004070434719324,-0.118334881961346,0.231100156903267,0.045307490974665,-0.091207794845104,0.001778672565706,-0.090562246739864,-0.136236131191254,-0.224051743745804,-0.236973032355309,-0.234976470470428,0.024046301841736,-0.016700470820069,-0.020739460363984));
res += mul(Get(s2,-dx,-dy), float4x4(0.178688839077950,-0.005003845319152,0.003994166385382,0.036757651716471,-0.134770050644875,0.069467045366764,0.093759715557098,-0.068355858325958,-0.155696973204613,-0.058169394731522,-0.128648057579994,-0.085784070193768,0.009991332888603,-0.011387137696147,-0.031645398586988,-0.030498374253511));
res += mul(Get(s2,-dx,0), float4x4(-0.110083602368832,-0.175445571541786,-0.009561127983034,-0.138992547988892,-0.005373753141612,-0.062605880200863,0.132111057639122,0.023673754185438,0.214798703789711,-0.230436965823174,-0.077423527836800,-0.037257246673107,0.177874982357025,0.013604791834950,-0.181741341948509,0.125308960676193));
res += mul(Get(s2,-dx,dy), float4x4(0.082922510802746,-0.065776437520981,0.075856581330299,0.117593467235565,0.008150188252330,0.166328459978104,0.059860486537218,-0.103997997939587,-0.078323334455490,-0.006857499480247,-0.048003416508436,-0.083963416516781,-0.000804998795502,-0.065267652273178,0.023812964558601,0.217708230018616));
res += mul(Get(s2,0,-dy), float4x4(-0.182922020554543,0.108844272792339,0.000935456773732,-0.003983792383224,-0.062743082642555,-0.015791594982147,-0.156852468848228,0.033125150948763,0.100148990750313,-0.233346551656723,0.020694468170404,0.038458935916424,-0.012332418933511,0.086111702024937,-0.098951376974583,-0.061263885349035));
res += mul(Get(s2,0,0), float4x4(0.069494165480137,-0.118568502366543,0.101474605500698,-0.068221308290958,-0.024247098714113,0.090537153184414,0.171962574124336,0.338098198175430,0.004842674825341,0.020287439227104,-0.101883545517921,0.089463762938976,0.047936271876097,0.044357605278492,0.053681332617998,0.004069550428540));
res += mul(Get(s2,0,dy), float4x4(-0.111058495938778,-0.078694142401218,0.037018802016973,-0.044928796589375,-0.104930289089680,-0.055174317210913,-0.058108281344175,0.000965623534285,0.198841780424118,0.143501102924347,0.085868604481220,-0.019699826836586,0.045448116958141,-0.024995369836688,-0.036782216280699,0.029251525178552));
res += mul(Get(s2,dx,-dy), float4x4(0.226515635848045,0.050148244947195,0.026532605290413,0.090210057795048,-0.116578824818134,0.034379083663225,0.069236367940903,-0.075787149369717,-0.005053034517914,-0.042949289083481,-0.209491208195686,-0.112424924969673,0.059264115989208,-0.025912299752235,0.080965086817741,0.126903533935547));
res += mul(Get(s2,dx,0), float4x4(0.006195331458002,0.031533431261778,-0.046386323869228,0.000368851906387,0.087585099041462,-0.105388104915619,-0.278417110443115,0.050794627517462,0.072958841919899,0.137021154165268,-0.004525606520474,-0.030966181308031,0.025416797026992,0.165949016809464,0.070070117712021,0.014484248124063));
res += mul(Get(s2,dx,dy), float4x4(0.010303037241101,0.077830150723457,0.044715281575918,-0.012399924919009,0.024735957384109,0.029199177399278,0.237380787730217,-0.056474991142750,-0.046685278415680,0.148745566606522,-0.001429283292964,-0.052439555525780,0.121485613286495,-0.169352680444717,0.023981261998415,-0.024725852534175));
res += mul(Get(s3,-dx,-dy), float4x4(0.046314358711243,0.173556700348854,0.001216929173097,0.041280813515186,-0.083836778998375,-0.167963668704033,0.050335697829723,0.115326292812824,0.072731897234917,-0.045589748769999,-0.089894860982895,0.012744468636811,0.127200439572334,-0.012276715599000,-0.135976165533066,0.044064357876778));
res += mul(Get(s3,-dx,0), float4x4(-0.043695721775293,0.096233390271664,-0.056728418916464,-0.142098367214203,0.016122201457620,-0.113416656851768,0.148749575018883,0.034333009272814,0.099707931280136,0.183793917298317,0.004135406576097,0.022569708526134,0.009924807585776,-0.080392949283123,-0.073443509638309,-0.036091785877943));
res += mul(Get(s3,-dx,dy), float4x4(0.105529569089413,0.125518858432770,0.024972809478641,0.012952847406268,-0.064029917120934,0.051892835646868,0.125903263688087,-0.135450646281242,-0.127152144908905,0.066459216177464,0.096147291362286,0.148808687925339,-0.011310611851513,0.144638031721115,-0.100474141538143,-0.067740283906460));
res += mul(Get(s3,0,-dy), float4x4(-0.071438796818256,0.156347036361694,-0.081829614937305,-0.040474675595760,0.195403158664703,-0.030239904299378,-0.130640521645546,-0.123803727328777,0.066480204463005,-0.088026717305183,-0.019125990569592,0.132351115345955,0.105298191308975,0.050579980015755,-0.226124107837677,0.030568506568670));
res += mul(Get(s3,0,0), float4x4(0.124815024435520,-0.282555907964706,-0.036951757967472,-0.174401327967644,0.038806948810816,0.032849960029125,0.017821939662099,0.096280910074711,-0.068736068904400,0.046457592397928,0.097801968455315,-0.066745489835739,-0.101466797292233,0.040114585310221,-0.004097119439393,0.064481332898140));
res += mul(Get(s3,0,dy), float4x4(0.333679229021072,0.091182596981525,-0.046978760510683,-0.085251964628696,-0.093249224126339,0.081420734524727,0.049034144729376,0.052174396812916,0.029093561694026,0.082104802131653,0.045739531517029,0.038338534533978,0.013809032738209,0.067676790058613,0.020729290321469,0.069683276116848));
res += mul(Get(s3,dx,-dy), float4x4(-0.160175204277039,0.038512956351042,-0.030788514763117,-0.037292648106813,-0.072297990322113,-0.087193869054317,-0.080879032611847,-0.065152958035469,0.145143210887909,-0.055857148021460,-0.074519380927086,0.060896299779415,0.089957557618618,0.018029859289527,0.052332125604153,-0.147866919636726));
res += mul(Get(s3,dx,0), float4x4(0.138393774628639,-0.025222362950444,-0.040405567735434,-0.040057875216007,0.134784609079361,0.016482790932059,-0.010129572823644,-0.089877732098103,0.094678953289986,-0.074813835322857,0.142401441931725,0.048971060663462,0.096051037311554,-0.041528996080160,0.051630824804306,-0.045220423489809));
res += mul(Get(s3,dx,dy), float4x4(-0.014838147908449,0.016921576112509,-0.058267507702112,-0.097840093076229,-0.005240030121058,0.084418162703514,0.064786948263645,-0.030079962685704,0.127587080001831,0.100192360579967,0.022963194176555,0.081759653985500,-0.026841334998608,-0.162950888276100,0.045887485146523,0.045105382800102));
return max(float4(0,0,0,0), res);
}
