sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.058643959462643,0.074271261692047,-0.073807336390018,0.015405844897032,0.032774817198515,0.032683182507753,0.079593785107136,0.102519445121288,0.088357701897621,0.001003334531561,0.029953096061945,-0.096719078719616,0.170089438557625,0.020396314561367,-0.108084022998810,-0.128760010004044));
res += mul(Get(s0,-dx,0), float4x4(0.043161865323782,0.171242803335190,0.082607090473175,-0.050242502242327,0.033538386225700,0.125966951251030,0.102490715682507,0.038009930402040,0.019600229337811,0.034572653472424,0.009615612216294,-0.114383079111576,-0.093208208680153,-0.122187077999115,0.127286270260811,-0.015546161681414));
res += mul(Get(s0,-dx,dy), float4x4(-0.060198571532965,0.135248616337776,0.024374062195420,-0.122053556144238,-0.015311464667320,0.052488386631012,-0.147730007767677,-0.048948239535093,-0.083372086286545,-0.003183182096109,-0.017671003937721,-0.232379585504532,-0.053124338388443,0.068428471684456,-0.013656846247613,-0.089093267917633));
res += mul(Get(s0,0,-dy), float4x4(0.161577865481377,-0.032019853591919,-0.041223693639040,-0.046113945543766,-0.015857728198171,-0.117138415575027,0.013280935585499,0.103703044354916,0.043285481631756,0.016764407977462,-0.120896205306053,-0.065267473459244,0.318614810705185,0.129640966653824,-0.172770112752914,-0.056484218686819));
res += mul(Get(s0,0,0), float4x4(-0.025708492845297,0.029774302616715,0.069493569433689,0.109160870313644,0.038551881909370,-0.188859015703201,0.085513539612293,-0.008469609543681,-0.122443646192551,0.127833411097527,-0.150987148284912,0.001057352405041,-0.097806274890900,0.067301779985428,0.008396212942898,-0.009510943666101));
res += mul(Get(s0,0,dy), float4x4(-0.079098075628281,0.015057397074997,0.026648350059986,-0.080120369791985,-0.004442898090929,-0.043332118541002,-0.027373686432838,-0.013436614535749,0.015338565222919,-0.070244781672955,-0.122113265097141,-0.119155034422874,-0.012031846679747,0.105246469378471,0.184805244207382,0.172595515847206));
res += mul(Get(s0,dx,-dy), float4x4(0.001136037521064,-0.071413315832615,-0.137518346309662,-0.099764011800289,-0.007160161156207,-0.039290323853493,0.089966483414173,-0.056286361068487,0.071563094854355,0.032635245472193,-0.141676768660545,-0.018892360851169,-0.018997589126229,0.149574875831604,-0.205476015806198,-0.018284246325493));
res += mul(Get(s0,dx,0), float4x4(0.011888240464032,-0.007255124859512,-0.003945997450501,-0.005350791383535,-0.029839875176549,-0.127638995647430,0.170985922217369,-0.040123309940100,0.054591208696365,0.019501555711031,-0.114745117723942,0.087191544473171,-0.105661712586880,-0.130872055888176,-0.027108008041978,-0.044401057064533));
res += mul(Get(s0,dx,dy), float4x4(-0.029377074912190,0.038894549012184,-0.077746100723743,-0.100861750543118,-0.108538709580898,-0.012527791783214,0.010169952176511,-0.191790506243706,0.053932543843985,-0.040502905845642,0.000477068475448,-0.043149765580893,-0.014452647417784,-0.019084800034761,0.009970462881029,0.016249313950539));
res += mul(Get(s1,-dx,-dy), float4x4(-0.041302844882011,0.105822883546352,-0.098859317600727,-0.011278260499239,-0.073860712349415,-0.094954885542393,0.036669656634331,0.055234871804714,0.109998360276222,0.073900096118450,-0.071461685001850,-0.077979817986488,0.277809768915176,0.056066494435072,-0.068902835249901,0.031571902334690));
res += mul(Get(s1,-dx,0), float4x4(-0.058110721409321,0.177191138267517,0.018734574317932,0.054152399301529,0.042042762041092,-0.102475062012672,0.069354169070721,-0.011846009641886,0.138912618160248,-0.054534457623959,-0.054112665355206,-0.129312470555305,0.112907133996487,0.034823726862669,-0.032774478197098,0.096025079488754));
res += mul(Get(s1,-dx,dy), float4x4(0.121241264045238,0.017764838412404,0.079134881496429,-0.064820408821106,-0.088149718940258,0.028865858912468,-0.126406654715538,-0.086655810475349,-0.105286695063114,-0.168009519577026,0.028005903586745,-0.062677480280399,0.108638122677803,0.198370933532715,-0.092164143919945,-0.083820924162865));
res += mul(Get(s1,0,-dy), float4x4(0.090670667588711,-0.035028968006372,-0.129719883203506,-0.113246120512486,0.029283814132214,-0.024629104882479,-0.056542981415987,0.016190502792597,-0.031166614964604,0.109546683728695,0.010681380517781,0.090687714517117,0.190739542245865,-0.016079211607575,-0.037632357329130,0.017441263422370));
res += mul(Get(s1,0,0), float4x4(-0.072356969118118,-0.106827676296234,-0.000917823461350,0.281985282897949,0.013740112073720,0.011634551919997,0.345786631107330,0.218515008687973,-0.015415215864778,-0.012881513684988,0.083637021481991,0.171589627861977,0.055079560726881,-0.108112126588821,-0.023540481925011,0.017877683043480));
res += mul(Get(s1,0,dy), float4x4(-0.017910782247782,-0.063944250345230,0.021984944120049,-0.060195058584213,-0.056150384247303,0.082394912838936,-0.071652419865131,-0.041332185268402,-0.053254373371601,-0.049139913171530,-0.130303204059601,-0.094455242156982,-0.127441689372063,-0.004550753161311,0.115990169346333,0.075495332479477));
res += mul(Get(s1,dx,-dy), float4x4(0.108914777636528,0.051098141819239,-0.074307650327682,-0.069323852658272,-0.012849308550358,-0.092161022126675,-0.145845219492912,0.011175342835486,0.083625257015228,0.144895821809769,0.018851660192013,-0.045252710580826,-0.179275214672089,0.066970735788345,0.125312447547913,0.093649409711361));
res += mul(Get(s1,dx,0), float4x4(0.083913944661617,-0.001716868719086,-0.126590698957443,-0.031594324856997,-0.040224041789770,-0.034783426672220,-0.038169804960489,0.069128423929214,-0.026980498805642,0.045150864869356,0.165497362613678,0.040098253637552,-0.071693010628223,0.067784383893013,0.012437900528312,-0.042662326246500));
res += mul(Get(s1,dx,dy), float4x4(0.055782280862331,0.019164301455021,-0.040477536618710,-0.086291581392288,-0.158161371946335,-0.063105903565884,-0.057188946753740,0.386803865432739,-0.058382965624332,0.105103909969330,-0.089156165719032,0.067565210163593,0.010454709641635,-0.057170178741217,0.035541415214539,0.042994059622288));
res += mul(Get(s2,-dx,-dy), float4x4(0.159491002559662,0.106428615748882,0.229896202683449,0.170426979660988,-0.026186751201749,0.125418886542320,0.024555193260312,-0.026593716815114,-0.056354969739914,-0.108079731464386,-0.106226548552513,-0.044264860451221,0.041409593075514,-0.096214585006237,-0.052492111921310,-0.117878571152687));
res += mul(Get(s2,-dx,0), float4x4(0.148392468690872,0.020721668377519,0.171295657753944,-0.088920697569847,-0.029287705197930,0.151084497570992,0.079470373690128,0.030679389834404,0.020870102569461,-0.132975101470947,-0.019822444766760,-0.042887587100267,-0.032810017466545,-0.097577318549156,-0.073206193745136,-0.054920319467783));
res += mul(Get(s2,-dx,dy), float4x4(0.060754299163818,0.050466813147068,0.009340745396912,0.052133649587631,-0.071324139833450,0.105941489338875,0.017305297777057,-0.051061581820250,-0.073631584644318,-0.122188426554203,0.117997691035271,-0.110239043831825,-0.046429898589849,-0.084361001849174,-0.012686640955508,0.049049392342567));
res += mul(Get(s2,0,-dy), float4x4(0.072055175900459,0.044077683240175,0.063590958714485,0.301751732826233,0.153359979391098,0.202300116419792,-0.004506147466600,-0.069525927305222,0.041103687137365,-0.015676397830248,-0.107255302369595,0.045367844402790,-0.060856252908707,-0.088326662778854,0.003920109476894,0.014822801575065));
res += mul(Get(s2,0,0), float4x4(0.033577863126993,-0.042249772697687,0.065186232328415,0.200558945536613,-0.101183108985424,-0.118317119777203,-0.072060927748680,0.136902466416359,0.010552311316133,0.106417655944824,-0.056964777410030,0.008656702935696,-0.056767545640469,-0.014863573014736,-0.028697956353426,-0.138315379619598));
res += mul(Get(s2,0,dy), float4x4(0.056418485939503,-0.046963948756456,-0.018914310261607,0.069422826170921,-0.109492368996143,-0.013255581259727,-0.094695456326008,-0.095541693270206,-0.040510118007660,0.021881839260459,0.029115261510015,-0.158781006932259,-0.075002506375313,-0.115917950868607,0.046678636223078,0.159841120243073));
res += mul(Get(s2,dx,-dy), float4x4(-0.012658813036978,-0.149569287896156,-0.086762413382530,0.156725063920021,0.141563788056374,0.036863479763269,-0.013287538662553,-0.083445034921169,0.041724592447281,0.119651742279530,-0.101483136415482,0.077489569783211,-0.089317902922630,0.071183115243912,0.245367214083672,0.071393489837646));
res += mul(Get(s2,dx,0), float4x4(-0.100588455796242,0.144000992178917,0.178980335593224,0.094567500054836,0.195859923958778,-0.071203052997589,-0.084814310073853,0.057525716722012,-0.004300850443542,0.122580215334892,-0.124471716582775,-0.122766211628914,-0.040172401815653,0.020162766799331,0.053281441330910,0.044104322791100));
res += mul(Get(s2,dx,dy), float4x4(-0.000707848521415,0.231734052300453,0.267878353595734,0.138135120272636,0.071828074753284,-0.102427132427692,-0.128253236413002,0.002283765468746,0.000744183314964,0.100506708025932,-0.029937719926238,-0.235711216926575,-0.036122120916843,-0.056226253509521,0.045145768672228,0.142747461795807));
res += mul(Get(s3,-dx,-dy), float4x4(0.148640260100365,0.067273005843163,0.177439332008362,0.055015079677105,0.238994374871254,-0.041415203362703,0.048346873372793,-0.134157165884972,0.224106222391129,0.029946278780699,0.061439182609320,0.053260833024979,0.053199894726276,0.049239635467529,-0.068919621407986,0.014006756246090));
res += mul(Get(s3,-dx,0), float4x4(0.067304320633411,0.062480911612511,0.158310726284981,0.048900365829468,0.117989040911198,-0.063683979213238,-0.077832229435444,0.002228539669886,-0.088936328887939,0.020214835181832,0.096196599304676,0.017912978306413,0.082240641117096,-0.013658418320119,-0.051806394010782,0.148065298795700));
res += mul(Get(s3,-dx,dy), float4x4(0.074879005551338,0.030364006757736,0.060670804232359,-0.214349493384361,-0.095802068710327,0.015568412840366,-0.082363009452820,-0.002431504661217,-0.051941551268101,-0.010091339237988,-0.054995439946651,-0.063270993530750,0.064468972384930,0.031354669481516,0.085255019366741,-0.026957944035530));
res += mul(Get(s3,0,-dy), float4x4(0.032224148511887,-0.100006841123104,-0.176310271024704,0.006134445313364,0.082352153956890,-0.025542173534632,0.031276043504477,0.003953962586820,0.201265156269073,-0.005334693938494,0.032254800200462,0.065712116658688,0.080736972391605,0.084535323083401,-0.058456216007471,-0.066233709454536));
res += mul(Get(s3,0,0), float4x4(-0.106864742934704,-0.099301636219025,0.032233681529760,0.107094310224056,0.110958330333233,-0.033938989043236,-0.070061802864075,0.075851447880268,0.065597109496593,-0.079951897263527,0.008978279307485,-0.007802340667695,0.058173820376396,0.064983658492565,0.094063997268677,0.148845270276070));
res += mul(Get(s3,0,dy), float4x4(-0.090296052396297,-0.125764533877373,0.156257867813110,0.031777050346136,-0.125866711139679,-0.041118245571852,-0.094701454043388,0.004478046204895,0.012480461038649,-0.021988023072481,-0.103663176298141,-0.037452425807714,-0.123711600899696,0.090304709970951,0.075135834515095,0.086858153343201));
res += mul(Get(s3,dx,-dy), float4x4(-0.070281364023685,0.197304040193558,-0.220181748270988,-0.089203312993050,0.144013807177544,-0.145100772380829,0.129710391163826,0.008634896948934,0.117527142167091,0.020797245204449,-0.010677415877581,-0.028428142890334,0.013407486490905,0.065061472356319,-0.095530107617378,-0.092241711914539));
res += mul(Get(s3,dx,0), float4x4(0.004201526753604,0.231651350855827,-0.086434565484524,-0.071301877498627,0.053451448678970,-0.131334036588669,-0.087918981909752,-0.007615596987307,-0.090293966233730,0.093618698418140,0.033115740865469,-0.084371857345104,0.001602780306712,0.040578983724117,-0.005405375733972,-0.053434900939465));
res += mul(Get(s3,dx,dy), float4x4(-0.012921871617436,0.054184772074223,0.136321455240250,-0.056748416274786,-0.082949519157410,-0.031915064901114,-0.083965733647346,-0.086537927389145,0.064670681953430,-0.024181617423892,-0.067961625754833,-0.099842764437199,-0.109813429415226,0.037689592689276,0.151264309883118,-0.035973414778709));
return max(float4(0,0,0,0), res);
}
