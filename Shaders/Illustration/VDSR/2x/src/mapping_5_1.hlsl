sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.067351974546909,0.030985955148935,-0.016847465187311,-0.120663441717625,0.019578821957111,-0.040437266230583,0.012874664738774,0.009161583147943,-0.039483308792114,-0.006637552287430,0.090053685009480,-0.060740966349840,0.017185358330607,-0.114996805787086,-0.084524311125278,0.048112943768501));
res += mul(Get(s0,-dx,0), float4x4(-0.095840543508530,-0.051809236407280,-0.016375288367271,-0.048204895108938,-0.102603569626808,0.010208988562226,-0.033541608601809,-0.030802471563220,0.018348995596170,0.001926801051013,-0.024863947182894,0.153755992650986,0.045910857617855,-0.094943873584270,-0.168359398841858,0.002250433433801));
res += mul(Get(s0,-dx,dy), float4x4(-0.074740976095200,0.051270168274641,0.064334854483604,-0.070392757654190,-0.034050870686769,-0.037879768759012,0.087870940566063,0.035616949200630,-0.049249209463596,0.097777090966702,-0.059157665818930,-0.052340552210808,-0.025355333462358,0.121730841696262,0.009661622345448,0.137125283479691));
res += mul(Get(s0,0,-dy), float4x4(0.020476937294006,-0.039620343595743,-0.057076483964920,-0.070886254310608,-0.008091823197901,-0.020527847111225,-0.124249316751957,0.181894302368164,0.061585608869791,0.048442427068949,0.032691068947315,0.004214147571474,-0.001494416850619,-0.125707492232323,-0.079855509102345,-0.018609266728163));
res += mul(Get(s0,0,0), float4x4(-0.047888766974211,-0.129284724593163,0.044785965234041,-0.139824271202087,0.085757106542587,-0.068891607224941,-0.003220257116482,-0.009432384744287,-0.070620402693748,0.036854568868876,0.027983067557216,0.091707013547421,0.007355360779911,-0.050914835184813,-0.102008610963821,-0.060593362897635));
res += mul(Get(s0,0,dy), float4x4(-0.108382262289524,-0.046342305839062,0.108563631772995,-0.094581298530102,0.006435580551624,0.000734770495910,0.144804283976555,-0.057789299637079,-0.125499546527863,-0.023000132292509,-0.078121557831764,-0.101584330201149,0.014648272655904,-0.042074494063854,0.078027598559856,-0.096293687820435));
res += mul(Get(s0,dx,-dy), float4x4(-0.139612555503845,-0.087270744144917,-0.099600933492184,0.084974572062492,0.045418273657560,0.001036219415255,0.145816162228584,-0.056349299848080,0.023948563262820,0.015472967177629,0.058793272823095,-0.007873877882957,0.028469068929553,0.088657751679420,-0.060051005333662,0.021742535755038));
res += mul(Get(s0,dx,0), float4x4(-0.067605227231979,-0.067767553031445,0.052272059023380,-0.047615580260754,0.009722884744406,0.013905536383390,-0.119746007025242,-0.037504345178604,-0.136314347386360,0.039610046893358,-0.020516559481621,0.152232781052589,0.117868237197399,-0.038002315908670,-0.132818266749382,0.045812990516424));
res += mul(Get(s0,dx,dy), float4x4(0.018341774120927,-0.168558210134506,0.066069684922695,-0.038976196199656,-0.013414058834314,0.017783548682928,0.037406727671623,0.000975679606199,-0.141303583979607,0.021076185628772,-0.130830124020576,0.014284344390035,-0.012404449284077,0.060385305434465,-0.023554826155305,0.073510028421879));
res += mul(Get(s1,-dx,-dy), float4x4(0.078463897109032,0.036216538399458,0.103232167661190,0.156196862459183,-0.140986323356628,-0.074974916875362,-0.212475627660751,-0.034315105527639,0.026893813163042,0.053708001971245,-0.002396513009444,0.130551204085350,-0.061136659234762,0.026070408523083,0.028644718229771,0.015018963254988));
res += mul(Get(s1,-dx,0), float4x4(0.077160112559795,-0.019342482089996,0.010980558581650,-0.024536270648241,-0.030634634196758,-0.131094396114349,-0.077846765518188,0.020657174289227,0.024569660425186,0.004935387521982,-0.024220434948802,0.002939117373899,0.036643970757723,0.007906522601843,-0.105565279722214,-0.014409668743610));
res += mul(Get(s1,-dx,dy), float4x4(-0.073737174272537,0.022855356335640,0.080828636884689,-0.162104502320290,0.073806054890156,-0.027801798656583,0.031497862190008,-0.080192364752293,0.064544804394245,0.012237935326993,0.030697125941515,0.071970328688622,-0.029366200789809,-0.057254973798990,-0.130374833941460,0.076001599431038));
res += mul(Get(s1,0,-dy), float4x4(0.006321160588413,-0.023492226377130,-0.008247274905443,-0.008456200361252,0.045944340527058,-0.035582903772593,-0.128187179565430,-0.039832513779402,0.040557160973549,0.066060662269592,0.039411481469870,0.056205052882433,0.019146373495460,-0.036993816494942,-0.093418642878532,0.000885904766619));
res += mul(Get(s1,0,0), float4x4(-0.047387115657330,0.150473237037659,-0.100064359605312,-0.028442742303014,0.004322799853981,-0.052363868802786,-0.097520031034946,0.011593602597713,0.006725442130119,-0.023499172180891,0.062741585075855,-0.014562636613846,0.226356908679008,-0.086570493876934,-0.054652027785778,0.181982874870300));
res += mul(Get(s1,0,dy), float4x4(-0.093214601278305,0.070177353918552,0.036961980164051,-0.030210662633181,0.081794507801533,0.010768527165055,-0.069353304803371,0.201281905174255,-0.105713449418545,0.193002924323082,-0.001203667954542,0.085641838610172,0.174214318394661,0.001107315532863,-0.121184073388577,0.169838100671768));
res += mul(Get(s1,dx,-dy), float4x4(0.013806819915771,-0.070542395114899,0.002462929580361,0.044803056865931,-0.027361830696464,-0.088062956929207,-0.110144183039665,-0.032245442271233,0.011553107760847,0.079912871122360,-0.004168682266027,0.016589881852269,-0.122794061899185,-0.057416055351496,-0.074794709682465,-0.062267281115055));
res += mul(Get(s1,dx,0), float4x4(-0.048150505870581,-0.036457769572735,-0.013004789128900,0.035476718097925,0.079355172812939,-0.039702598005533,-0.158100515604019,-0.095829129219055,0.031573746353388,0.029410038143396,-0.018193608149886,0.035623837262392,-0.008253403007984,0.366098880767822,-0.084590993821621,0.051045335829258));
res += mul(Get(s1,dx,dy), float4x4(-0.118618689477444,0.068448938429356,0.014921967871487,-0.012030893936753,0.178938791155815,0.010066202841699,0.070092298090458,-0.088568545877934,-0.049156028777361,0.005265134852380,0.072022065520287,0.052271254360676,0.002560482826084,-0.127660006284714,0.040541682392359,0.032020427286625));
res += mul(Get(s2,-dx,-dy), float4x4(-0.021964576095343,-0.029876723885536,-0.120867714285851,-0.019634215161204,-0.004198697395623,-0.032362300902605,-0.075774013996124,-0.036010958254337,-0.095541290938854,-0.037781596183777,0.099804826080799,0.029189191758633,-0.138954520225525,-0.087230876088142,0.099958196282387,-0.092045411467552));
res += mul(Get(s2,-dx,0), float4x4(0.009784426540136,-0.036948233842850,0.189431950449944,-0.044268604367971,-0.012942469678819,0.033498037606478,-0.095641650259495,-0.060694843530655,-0.050643846392632,-0.034920979291201,0.074523374438286,-0.141689121723175,0.076744236052036,0.075137726962566,-0.088666804134846,-0.065485298633575));
res += mul(Get(s2,-dx,dy), float4x4(0.161119908094406,0.033686544746161,-0.017812335863709,-0.081049978733063,0.011981164105237,-0.037382986396551,0.077343098819256,0.012608660385013,0.020100835710764,-0.091775089502335,-0.010777540504932,0.022151898592710,0.041488531976938,-0.044033616781235,0.045420505106449,0.069467090070248));
res += mul(Get(s2,0,-dy), float4x4(-0.005889361724257,0.092567004263401,-0.115583389997482,-0.038112115114927,-0.110486425459385,0.012111380696297,-0.080177091062069,-0.060678873211145,-0.033130325376987,0.012840957380831,0.027726894244552,0.043311111629009,-0.037654303014278,-0.009503666311502,0.216460928320885,-0.061563618481159));
res += mul(Get(s2,0,0), float4x4(-0.052131865173578,-0.056100353598595,-0.004577293992043,-0.041227657347918,-0.086308941245079,0.036950968205929,-0.054723538458347,-0.086082942783833,0.124992132186890,-0.050274960696697,0.002943265717477,-0.060637500137091,0.005381343420595,-0.052159912884235,-0.044459704309702,-0.024464996531606));
res += mul(Get(s2,0,dy), float4x4(-0.051581207662821,0.008168589323759,-0.145566716790199,-0.120148040354252,-0.086920365691185,0.065616026520729,0.117617942392826,0.028281146660447,0.063280515372753,-0.103769943118095,0.130432084202766,-0.115642234683037,0.010330419056118,-0.021605394780636,0.151395380496979,-0.032543744891882));
res += mul(Get(s2,dx,-dy), float4x4(0.006029320880771,0.036899488419294,-0.042804896831512,0.058465521782637,-0.102920047938824,-0.064889006316662,-0.180268049240112,-0.016353141516447,-0.009658108465374,0.032679088413715,0.082339584827423,-0.036171965301037,-0.037119489163160,-0.018792044371367,0.262004911899567,-0.019579472020268));
res += mul(Get(s2,dx,0), float4x4(-0.040237519890070,0.109462931752205,0.127590671181679,-0.035369604825974,-0.135677278041840,-0.072609752416611,-0.048608765006065,-0.058113969862461,0.051125671714544,-0.028525622561574,0.023736877366900,0.051529608666897,0.002616099314764,-0.014167577028275,-0.155892238020897,0.060396775603294));
res += mul(Get(s2,dx,dy), float4x4(-0.123749025166035,0.107418186962605,-0.072901852428913,-0.099768683314323,-0.118882171809673,-0.101556427776814,-0.003547478234395,0.106250233948231,-0.098734445869923,0.055738296359777,-0.032924417406321,-0.207387030124664,-0.011647867038846,0.020217902958393,-0.040487080812454,0.214581355452538));
res += mul(Get(s3,-dx,-dy), float4x4(0.102481439709663,-0.018607690930367,-0.114046655595303,-0.095359198749065,-0.088411241769791,-0.048931375145912,-0.078756384551525,-0.057331331074238,0.073817938566208,0.073028430342674,-0.133495524525642,-0.190448552370071,0.020710233598948,-0.053772978484631,0.034312274307013,-0.015571542084217));
res += mul(Get(s3,-dx,0), float4x4(-0.053890779614449,0.107990056276321,0.027114283293486,-0.158697217702866,-0.159335479140282,-0.051548473536968,-0.122711516916752,-0.030407804995775,-0.025558548048139,0.049510780721903,-0.035801146179438,0.095836356282234,0.070163890719414,-0.072283044457436,-0.001299965311773,-0.074285916984081));
res += mul(Get(s3,-dx,dy), float4x4(-0.076188743114471,0.081987679004669,-0.041987866163254,-0.041801251471043,0.032092347741127,-0.007748198695481,0.072516642510891,-0.070128090679646,-0.026324519887567,0.003268088679761,-0.135462507605553,-0.060947768390179,0.034046784043312,-0.056703571230173,0.079836726188660,-0.004548740573227));
res += mul(Get(s3,0,-dy), float4x4(0.106474652886391,0.011855522170663,-0.021322645246983,-0.106164671480656,0.056225389242172,-0.057218257337809,-0.191362917423248,0.084060974419117,-0.057172536849976,-0.020269481465220,0.122297063469887,-0.016655892133713,0.096230797469616,0.014236500486732,-0.045795086771250,0.070986084640026));
res += mul(Get(s3,0,0), float4x4(-0.067121520638466,0.133073106408119,-0.051318965852261,0.005978272762150,-0.075449071824551,-0.071989364922047,0.019236225634813,0.011903213337064,-0.070948638021946,-0.039516381919384,0.125115364789963,0.091329537332058,0.123306296765804,-0.007862864062190,-0.054254461079836,0.107394389808178));
res += mul(Get(s3,0,dy), float4x4(-0.097089529037476,0.092599101364613,0.043167494237423,-0.042631193995476,-0.006363656837493,0.065318390727043,0.143067911267281,-0.066347107291222,-0.047087561339140,0.025560235604644,0.010938804596663,0.074216209352016,0.040866389870644,-0.014715654775500,0.147677481174469,0.070571906864643));
res += mul(Get(s3,dx,-dy), float4x4(-0.144985198974609,-0.035347450524569,-0.200759291648865,0.000326664594468,-0.059916291385889,0.027681911364198,-0.005626261234283,-0.023229820653796,0.001539766788483,-0.012542729265988,-0.106972567737103,-0.042356807738543,0.027221579104662,-0.072998315095901,-0.023723764345050,0.000178464440978));
res += mul(Get(s3,dx,0), float4x4(-0.094132259488106,-0.114167638123035,-0.048766043037176,0.105397269129753,-0.021135391667485,0.028829298913479,-0.027487859129906,-0.008874453604221,0.027407525107265,-0.048303540796041,0.131627544760704,0.086015492677689,-0.007539355661720,-0.081918843090534,-0.035719379782677,0.016424452885985));
res += mul(Get(s3,dx,dy), float4x4(-0.058021955192089,-0.052016608417034,-0.125707596540451,-0.014380953274667,-0.041370149701834,-0.003613771870732,-0.034249871969223,-0.122138574719429,-0.023933157324791,0.035021875053644,0.015356229618192,0.053521174937487,0.025553300976753,0.015544574707747,0.044080622494221,0.041951805353165));
return max(float4(0,0,0,0), res);
}
