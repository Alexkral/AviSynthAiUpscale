sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.059780120849609,0.079723045229912,0.092707999050617,-0.013145349919796,0.012358494102955,0.019275674596429,0.194357484579086,0.099954210221767,0.051010459661484,-0.009979019872844,0.045959025621414,-0.028550557792187,0.148141071200371,-0.039074338972569,0.118371099233627,-0.004348055459559));
res += mul(Get(s0,-dx,0), float4x4(0.105020992457867,0.041060592979193,0.016082938760519,0.058032859116793,-0.048469282686710,-0.235469728708267,0.006495351903141,-0.099310211837292,-0.009825598448515,0.064683191478252,0.089865058660507,0.087652429938316,-0.204915881156921,0.152856528759003,-0.007680647075176,-0.080022275447845));
res += mul(Get(s0,-dx,dy), float4x4(-0.180547565221786,0.012855273671448,-0.061453215777874,-0.044831514358521,0.145119071006775,0.118892759084702,-0.015525050461292,-0.026796454563737,-0.035183724015951,0.051709853112698,-0.023702505975962,0.085498251020908,-0.216668948531151,-0.066644288599491,-0.030346998944879,-0.084334351122379));
res += mul(Get(s0,0,-dy), float4x4(0.057382233440876,-0.142756372690201,-0.055218234658241,-0.003775835037231,-0.043732520192862,-0.006356014404446,0.111741155385971,-0.050403762608767,0.158099830150604,0.122052095830441,-0.043219566345215,-0.029845152050257,0.096874728798866,0.120368115603924,-0.108039155602455,-0.082337915897369));
res += mul(Get(s0,0,0), float4x4(0.161261424422264,-0.152609646320343,0.047520488500595,-0.182378530502319,0.058931283652782,-0.021227244287729,0.167771920561790,-0.122765824198723,0.141590341925621,0.188176169991493,0.328331947326660,0.218448042869568,-0.078754596412182,0.028442583978176,-0.079818397760391,-0.015585198067129));
res += mul(Get(s0,0,dy), float4x4(0.049304302781820,0.075526662170887,0.056132189929485,0.062533393502235,-0.088848933577538,-0.054796714335680,-0.040679302066565,-0.036835450679064,0.001981925917789,0.227426275610924,0.164235875010490,-0.091251209378242,-0.056819863617420,-0.030803997069597,-0.121670387685299,-0.026249326765537));
res += mul(Get(s0,dx,-dy), float4x4(0.034706350415945,-0.062331356108189,0.154291823506355,-0.100317969918251,0.140138581395149,-0.075293533504009,0.133324131369591,-0.016543943434954,0.102325357496738,0.016542663797736,0.039811801165342,-0.139152422547340,0.122595913708210,0.032454572618008,0.144361764192581,0.071933187544346));
res += mul(Get(s0,dx,0), float4x4(0.085961796343327,-0.077143423259258,0.044516764581203,-0.037718135863543,-0.044860579073429,0.141054466366768,-0.235715389251709,-0.022026777267456,0.013109274208546,0.019881518557668,0.070901855826378,0.171774059534073,-0.070148147642612,-0.001418821280822,0.085829399526119,-0.035795483738184));
res += mul(Get(s0,dx,dy), float4x4(-0.060910023748875,0.021955756470561,-0.026581002399325,0.005383206531405,0.050352334976196,0.039428327232599,0.014069516211748,-0.115447625517845,0.023263663053513,0.111261636018753,-0.080363243818283,-0.084132604300976,-0.112077184021473,-0.239441752433777,-0.054940462112427,0.115115195512772));
res += mul(Get(s1,-dx,-dy), float4x4(0.070628546178341,-0.218330621719360,0.004638796206564,-0.079857788980007,0.088904030621052,0.047411896288395,-0.077643401920795,0.129386439919472,0.063829690217972,0.009836398996413,0.019406571984291,0.040951970964670,0.136868581175804,-0.061895553022623,-0.005176525563002,0.057142499834299));
res += mul(Get(s1,-dx,0), float4x4(0.021849356591702,-0.155310332775116,0.091295406222343,-0.144849807024002,-0.016811734065413,-0.155583336949348,-0.028045115992427,-0.123812995851040,0.008361957035959,0.048336300998926,0.045146707445383,0.051502514630556,0.057307563722134,-0.051083371043205,0.091155812144279,0.022636981680989));
res += mul(Get(s1,-dx,dy), float4x4(-0.004826452583075,0.053983192890882,-0.064550057053566,0.012585157528520,-0.008790994994342,-0.054048400372267,-0.039321064949036,-0.048579677939415,0.009374035522342,-0.114290490746498,0.124316744506359,-0.011950730346143,-0.039017565548420,0.072664782404900,0.018938032910228,0.058483194559813));
res += mul(Get(s1,0,-dy), float4x4(0.039524197578430,-0.025093702599406,0.059147726744413,0.138790696859360,-0.129157274961472,-0.049608066678047,0.035295639187098,-0.064008623361588,0.120900340378284,0.120381504297256,0.189400404691696,-0.021959245204926,0.123095497488976,0.122010149061680,-0.047377411276102,0.011728729121387));
res += mul(Get(s1,0,0), float4x4(-0.148714661598206,0.097883984446526,-0.002010886557400,0.003682731650770,0.149660497903824,0.199457973241806,0.026466442272067,-0.088058695197105,0.171664640307426,-0.060583483427763,0.095538482069969,-0.116613872349262,0.072226449847221,-0.004814541898668,-0.098655112087727,0.000629350019153));
res += mul(Get(s1,0,dy), float4x4(-0.088982522487640,-0.141674891114235,0.091740041971207,0.125020444393158,0.130228981375694,0.040801674127579,-0.147239208221436,-0.042644143104553,-0.120115816593170,0.036963921040297,0.092224918305874,0.031848121434450,-0.011817986145616,-0.129647076129913,-0.066116310656071,0.155151605606079));
res += mul(Get(s1,dx,-dy), float4x4(-0.050608962774277,0.199458107352257,0.074257157742977,-0.032734107226133,0.031898844987154,-0.088696710765362,-0.086991898715496,0.011824354529381,0.012464103288949,0.064771063625813,0.095187284052372,0.138812586665154,0.077338658273220,0.103498876094818,-0.116133347153664,0.009280745871365));
res += mul(Get(s1,dx,0), float4x4(-0.180041328072548,-0.012402890250087,0.005984714720398,-0.048591472208500,-0.031616456806660,0.092081189155579,-0.047051630914211,0.007134722080082,0.049406498670578,-0.085366524755955,0.062680535018444,0.068454787135124,0.037266965955496,-0.095935270190239,-0.025110380724072,0.053786132484674));
res += mul(Get(s1,dx,dy), float4x4(-0.165722489356995,-0.049540985375643,0.089087046682835,-0.134569495916367,-0.132366478443146,0.087388709187508,-0.078356347978115,-0.091424264013767,0.078824430704117,0.140343084931374,0.142251864075661,-0.019421895965934,0.197531551122665,-0.215418040752411,-0.087369464337826,0.069573484361172));
res += mul(Get(s2,-dx,-dy), float4x4(0.033505983650684,-0.126284882426262,0.168907895684242,0.145351424813271,0.014818283729255,-0.074011258780956,0.043517827987671,0.183636903762817,-0.020543359220028,0.179667934775352,0.003591140965000,0.006175720132887,-0.081643894314766,0.041450478136539,0.207784175872803,-0.001063298084773));
res += mul(Get(s2,-dx,0), float4x4(0.130634471774101,0.118874795734882,0.068948425352573,-0.036738041788340,-0.229682639241219,-0.045824389904737,-0.075796596705914,-0.070385672152042,0.035979732871056,-0.012018514797091,0.095119543373585,0.023201443254948,0.014112193137407,-0.071879237890244,-0.211208239197731,-0.204230099916458));
res += mul(Get(s2,-dx,dy), float4x4(0.053267281502485,0.196264997124672,-0.124724134802818,0.037669047713280,-0.147739812731743,-0.050601579248905,-0.018079936504364,-0.033402457833290,0.095908366143703,0.071484953165054,0.183717995882034,-0.103149093687534,0.029007134959102,0.003442332381383,-0.128808900713921,-0.033248882740736));
res += mul(Get(s2,0,-dy), float4x4(-0.016404001042247,0.052933283150196,0.170292422175407,0.013690804131329,-0.178099200129509,-0.002215894637629,-0.007706002332270,0.044435575604439,0.085626602172852,0.063300564885139,0.278912454843521,-0.000613365962636,-0.131604239344597,-0.064000122249126,0.021388301625848,-0.093524277210236));
res += mul(Get(s2,0,0), float4x4(0.058814238756895,0.058886304497719,0.059279859066010,-0.047441545873880,0.070199728012085,-0.104153484106064,-0.019099973142147,0.042292833328247,0.153534963726997,0.220481663942337,-0.063916027545929,-0.051902227103710,-0.042588286101818,-0.002345735207200,0.149977758526802,0.198019877076149));
res += mul(Get(s2,0,dy), float4x4(0.072579249739647,-0.204272061586380,-0.075163707137108,-0.018808959051967,-0.058314289897680,0.016168082132936,0.069505386054516,0.136205956339836,0.142549306154251,0.023912981152534,0.003829992841929,0.079900957643986,0.021174781024456,0.101340398192406,0.174389138817787,-0.036115042865276));
res += mul(Get(s2,dx,-dy), float4x4(0.200306788086891,-0.091030173003674,-0.023383365944028,0.042753919959068,0.296022236347198,0.034553419798613,-0.074962683022022,-0.007078799884766,0.079619064927101,0.058066114783287,0.153188526630402,0.037095844745636,0.030773798003793,-0.129364252090454,0.128440067172050,0.034431584179401));
res += mul(Get(s2,dx,0), float4x4(-0.119646921753883,0.141309738159180,0.116965964436531,-0.068863175809383,0.082243636250496,0.083582744002342,-0.026617096737027,0.157428443431854,0.010981741361320,-0.070720486342907,-0.037007912993431,0.144355028867722,-0.046698022633791,0.021503774449229,0.202515780925751,0.031733900308609));
res += mul(Get(s2,dx,dy), float4x4(-0.070263966917992,-0.028780858963728,0.043651569634676,0.154564395546913,0.078919686377048,-0.048742685467005,-0.038650315254927,-0.081555038690567,0.043355133384466,0.020301980897784,-0.109175272285938,0.078166119754314,-0.018420884385705,0.134943485260010,0.115405455231667,-0.015367497690022));
res += mul(Get(s3,-dx,-dy), float4x4(-0.099559821188450,-0.105515196919441,0.048865761607885,-0.171247467398643,0.057925552129745,-0.112546712160110,-0.127929002046585,-0.143645003437996,0.032965406775475,0.163043633103371,-0.035058028995991,-0.095756866037846,-0.033642340451479,-0.044646020978689,0.129418373107910,0.025587342679501));
res += mul(Get(s3,-dx,0), float4x4(-0.103947281837463,-0.017778029665351,-0.025252159684896,0.215333223342896,0.123759090900421,0.181080192327499,0.046118602156639,-0.067101418972015,-0.286302775144577,-0.009677298367023,-0.227806136012077,-0.099486321210861,0.112064614892006,0.051819968968630,0.131297037005424,-0.127420246601105));
res += mul(Get(s3,-dx,dy), float4x4(-0.129300132393837,-0.088468253612518,0.135210216045380,0.040482785552740,-0.121593721210957,0.024475172162056,-0.118810281157494,-0.089542470872402,-0.065533392131329,-0.011568332090974,-0.093474037945271,-0.048252012580633,-0.084983155131340,-0.112833924591541,-0.007385747041553,-0.139044806361198));
res += mul(Get(s3,0,-dy), float4x4(0.040678482502699,-0.055279638618231,0.126002579927444,-0.084468819200993,-0.028445281088352,0.171717062592506,-0.122397996485233,0.010530938394368,0.051826037466526,-0.018515614792705,0.226661711931229,0.071010023355484,0.001065693795681,-0.176372513175011,0.090227879583836,0.088264666497707));
res += mul(Get(s3,0,0), float4x4(0.068999774754047,-0.114198170602322,-0.079545237123966,-0.026752972975373,-0.098637931048870,0.138792738318443,0.107099987566471,0.013989700935781,-0.017323400825262,0.095664948225021,0.009518856182694,0.007522737141699,0.093931123614311,-0.190084248781204,-0.069425046443939,0.007836621254683));
res += mul(Get(s3,0,dy), float4x4(-0.195328623056412,-0.174778521060944,0.069055423140526,0.155016079545021,-0.006927239242941,0.091573983430862,-0.051080901175737,-0.023138396441936,0.094515658915043,-0.059129919856787,-0.186605796217918,-0.014871948398650,0.126894071698189,-0.100890383124352,-0.056824810802937,-0.010288543999195));
res += mul(Get(s3,dx,-dy), float4x4(-0.058490846306086,0.085510388016701,0.160487085580826,0.008779545314610,-0.031393416225910,0.034548431634903,0.103765703737736,0.074470177292824,-0.163554191589355,-0.049143068492413,0.092000685632229,-0.064164467155933,0.062196034938097,-0.184249758720398,-0.099082194268703,0.020942673087120));
res += mul(Get(s3,dx,0), float4x4(-0.022754907608032,-0.109443962574005,-0.100523225963116,0.017512112855911,0.110638901591301,0.027250522747636,0.079853184521198,-0.032014403492212,-0.034601721912622,0.028350979089737,0.110211908817291,-0.079883299767971,-0.000095214898465,-0.066670134663582,0.060252424329519,-0.007966368459165));
res += mul(Get(s3,dx,dy), float4x4(0.027127891778946,-0.037885442376137,0.096579685807228,-0.034079100936651,-0.165297016501427,0.084798313677311,-0.015001180581748,0.019837968051434,0.129125431180000,0.038449909538031,-0.178576216101646,-0.001802558428608,0.056562129408121,0.036888822913170,-0.046121805906296,0.003338287351653));
return max(float4(0,0,0,0), res);
}
