sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.060504417866468,0.148164793848991,0.044378008693457,-0.021940207108855,-0.145619153976440,-0.078536458313465,-0.052261825650930,0.146688938140869,-0.124147199094296,-0.035951104015112,-0.020322859287262,-0.047970905900002,-0.018934497609735,-0.078015983104706,-0.126815557479858,0.045527588576078));
res += mul(Get(s0,-dx,0), float4x4(-0.068114526569843,-0.028632719069719,-0.007884477265179,-0.072711117565632,-0.048362806439400,-0.117455221712589,-0.098271042108536,0.272641241550446,0.237232804298401,0.043397027999163,0.062619157135487,-0.003721156157553,0.127125993371010,0.099476180970669,0.131006330251694,-0.118999943137169));
res += mul(Get(s0,-dx,dy), float4x4(-0.041287835687399,0.018838029354811,0.088981725275517,-0.015499046072364,-0.011306758038700,0.073992922902107,-0.071928106248379,0.075176417827606,0.007610207889229,0.021250231191516,0.065676659345627,-0.143134906888008,0.042827412486076,0.067019939422607,0.072772301733494,-0.000910304486752));
res += mul(Get(s0,0,-dy), float4x4(0.070041321218014,0.051051098853350,-0.084169812500477,0.075492277741432,0.016488207504153,-0.075896233320236,0.167929172515869,-0.066221214830875,-0.168052315711975,0.034043021500111,0.034296877682209,0.021095370873809,-0.039350941777229,0.010238588787615,-0.151176795363426,-0.023913772776723));
res += mul(Get(s0,0,0), float4x4(0.144392490386963,0.265467375516891,0.008460134267807,-0.083775326609612,-0.068177811801434,-0.123379424214363,0.017551824450493,-0.170857146382332,0.425530344247818,0.062205910682678,0.032908257097006,0.138774722814560,0.035982951521873,-0.022443560883403,0.067976415157318,0.068706825375557));
res += mul(Get(s0,0,dy), float4x4(-0.020829532295465,-0.062858507037163,0.095926716923714,-0.089219085872173,0.079321764409542,-0.064790889620781,-0.120029710233212,0.044837225228548,0.095226965844631,0.117987982928753,0.105631083250046,-0.070302076637745,0.155158773064613,-0.012747691944242,0.102798044681549,-0.011481976136565));
res += mul(Get(s0,dx,-dy), float4x4(-0.028196055442095,-0.027496784925461,0.018355270847678,-0.077085494995117,-0.286635041236877,0.041662033647299,0.018339456990361,-0.116376616060734,-0.099055081605911,-0.073138244450092,0.129336297512054,-0.127718985080719,-0.190249919891357,0.081332527101040,-0.003777218982577,-0.125647693872452));
res += mul(Get(s0,dx,0), float4x4(-0.030476380139589,0.017329350113869,-0.033745761960745,-0.036578685045242,-0.101150214672089,-0.123041078448296,0.170952811837196,-0.254705607891083,0.012565673328936,0.041721869260073,0.049855139106512,0.131695240736008,-0.160709679126740,0.066161878407001,0.174888521432877,-0.201501294970512));
res += mul(Get(s0,dx,dy), float4x4(-0.024576989933848,0.054988194257021,0.077982872724533,-0.103678755462170,0.069314233958721,-0.153219476342201,-0.186257034540176,-0.008876797743142,0.146585196256638,0.183794870972633,0.006542477291077,-0.015079876407981,-0.112097024917603,0.004378449637443,0.110058136284351,-0.068752676248550));
res += mul(Get(s1,-dx,-dy), float4x4(-0.114836968481541,-0.137760356068611,-0.071515515446663,-0.024990318343043,0.064559668302536,0.101633623242378,-0.084161862730980,0.024765552952886,-0.082601092755795,-0.068449020385742,-0.159614324569702,-0.054873593151569,-0.008454979397357,-0.054094627499580,0.070264756679535,0.031487617641687));
res += mul(Get(s1,-dx,0), float4x4(0.090143479406834,0.042666886001825,-0.098858803510666,-0.012595416978002,-0.103260032832623,0.110181070864201,0.099012270569801,0.027690909802914,-0.095003426074982,0.001889394596219,-0.057604458183050,-0.107093930244446,-0.089432165026665,-0.003069861326367,0.022394325584173,-0.110318258404732));
res += mul(Get(s1,-dx,dy), float4x4(0.140698239207268,-0.004684472922236,-0.033584151417017,-0.052400149405003,0.397539079189301,0.107307843863964,0.102877967059612,-0.023229556158185,0.000739511160646,-0.089089117944241,-0.118270181119442,-0.002309954725206,-0.005571418441832,0.020553765818477,0.020017515867949,-0.028996478766203));
res += mul(Get(s1,0,-dy), float4x4(-0.007601794786751,-0.138751760125160,-0.078472286462784,-0.039380624890327,0.031743820756674,0.004013420548290,0.089473851025105,-0.038772132247686,0.090738892555237,-0.092831924557686,-0.001318393740803,0.000452664855402,0.005466778762639,-0.179958477616310,-0.091682933270931,0.070547528564930));
res += mul(Get(s1,0,0), float4x4(0.105001941323280,-0.025561472401023,-0.011798436753452,-0.001218645833433,0.007177412509918,-0.029881255701184,0.031807832419872,-0.016027944162488,0.046575229614973,-0.035195946693420,-0.024983754381537,-0.066713631153107,0.024632433429360,-0.103215843439102,-0.049392826855183,0.007024607155472));
res += mul(Get(s1,0,dy), float4x4(0.047295082360506,0.010414639487863,0.056037638336420,-0.049671471118927,0.018791753798723,0.020605498924851,-0.076286517083645,-0.002227889839560,-0.237831220030785,-0.117098070681095,-0.100829996168613,-0.062665767967701,0.014253458939493,-0.006885654758662,-0.089552357792854,0.066709138453007));
res += mul(Get(s1,dx,-dy), float4x4(-0.119985558092594,-0.015341835096478,-0.028603836894035,0.025843031704426,-0.028306065127254,0.008009357377887,-0.028431076556444,-0.001096793101169,0.053033683449030,-0.051174875348806,-0.024205937981606,-0.126690387725830,-0.011712690815330,-0.089175701141357,0.141253918409348,0.000748970836867));
res += mul(Get(s1,dx,0), float4x4(-0.032767482101917,-0.063316687941551,-0.060310322791338,0.029832798987627,-0.038410231471062,0.039379637688398,0.160492151975632,-0.022510414943099,-0.001814241870306,0.030281770974398,-0.112291455268860,0.127437084913254,-0.038791488856077,-0.017973819747567,0.064511284232140,0.104714930057526));
res += mul(Get(s1,dx,dy), float4x4(0.061746802181005,-0.057653058320284,-0.054683443158865,0.014631264843047,-0.064858756959438,-0.035110596567392,0.044241473078728,-0.054840240627527,0.196298927068710,0.032856144011021,-0.106761105358601,-0.065839156508446,0.061508439481258,-0.184014499187469,0.125968486070633,0.052852917462587));
res += mul(Get(s2,-dx,-dy), float4x4(-0.065665565431118,-0.077713057398796,-0.008222326636314,0.143318101763725,-0.036968186497688,0.029338732361794,0.023234022781253,0.018393583595753,-0.004351986106485,0.057096775621176,-0.102743722498417,0.025067673996091,0.044666364789009,-0.016413887962699,0.030684500932693,-0.011173542588949));
res += mul(Get(s2,-dx,0), float4x4(-0.059389077126980,-0.025538075715303,-0.077905319631100,0.199065521359444,0.080560989677906,0.064804501831532,0.038197591900826,-0.014320228248835,0.036813091486692,0.023559585213661,-0.124773882329464,0.040621798485518,0.255666583776474,-0.006747602485120,0.044257663190365,-0.067309536039829));
res += mul(Get(s2,-dx,dy), float4x4(-0.109358884394169,0.010546445846558,-0.074089072644711,-0.047798015177250,-0.022806003689766,0.031553406268358,0.050325248390436,-0.087409056723118,-0.003187883179635,0.037679966539145,-0.052314348518848,-0.020932674407959,0.064305044710636,0.127415433526039,0.033619925379753,-0.047754872590303));
res += mul(Get(s2,0,-dy), float4x4(0.007368737831712,0.011333681643009,0.022134426981211,-0.059442531317472,0.048766624182463,-0.010561821982265,0.195764914155006,-0.017645606771111,-0.020085945725441,0.032723464071751,-0.135770842432976,0.059608280658722,-0.117842376232147,0.072070665657520,0.177447631955147,0.044266570359468));
res += mul(Get(s2,0,0), float4x4(-0.119799830019474,0.019915143027902,0.083298623561859,0.150104805827141,0.113251581788063,0.139385670423508,0.065008692443371,0.015969751402736,-0.094350025057793,-0.063072547316551,-0.227776527404785,0.181321024894714,-0.101679496467113,0.017494920641184,0.064498938620090,-0.035683628171682));
res += mul(Get(s2,0,dy), float4x4(0.063357897102833,0.029238427057862,-0.032635129988194,0.089663818478584,0.111494816839695,0.045082729309797,-0.017246967181563,0.198964416980743,0.136304646730423,-0.051997181028128,-0.132176771759987,0.076319739222527,0.078787937760353,-0.028770688921213,0.000622856430709,-0.042351353913546));
res += mul(Get(s2,dx,-dy), float4x4(-0.214189186692238,0.290796428918839,-0.044047545641661,-0.103491991758347,0.021574571728706,-0.084023311734200,0.183964103460312,0.040294665843248,-0.239458277821541,0.219777822494507,0.060462385416031,-0.130224168300629,-0.068532764911652,0.101932778954506,0.130749568343163,-0.141167491674423));
res += mul(Get(s2,dx,0), float4x4(-0.070346415042877,0.192440807819366,0.072350375354290,-0.174822315573692,0.113280005753040,-0.079999916255474,0.092311397194862,-0.050283253192902,-0.138709351420403,-0.046036139130592,0.032339420169592,-0.077706247568130,-0.003581829369068,0.040075071156025,0.011444116942585,-0.052328247576952));
res += mul(Get(s2,dx,dy), float4x4(-0.044176574796438,0.085888355970383,0.072905100882053,0.077104829251766,0.045574620366096,-0.099842339754105,-0.182183235883713,0.081186957657337,0.099122136831284,0.028088293969631,-0.101801201701164,-0.000794121879153,0.109772548079491,0.070959933102131,0.075133591890335,0.054805777966976));
res += mul(Get(s3,-dx,-dy), float4x4(0.104550205171108,-0.029740151017904,-0.014294902794063,0.078598670661449,-0.016381816938519,-0.075112015008926,0.035514656454325,0.078093901276588,-0.033495366573334,-0.016244452446699,-0.023839874193072,-0.057742219418287,-0.019162634387612,-0.011059133335948,-0.078599937260151,0.020717948675156));
res += mul(Get(s3,-dx,0), float4x4(0.053765539079905,-0.111142560839653,-0.061304945498705,0.107296898961067,-0.090814799070358,-0.061074271798134,0.013655283488333,0.308201640844345,0.097652159631252,-0.036171481013298,0.002169547369704,-0.039575692266226,0.128160521388054,-0.023893529549241,0.039724018424749,0.022848978638649));
res += mul(Get(s3,-dx,dy), float4x4(-0.053311899304390,-0.157898247241974,-0.096843600273132,-0.026839185506105,0.077235169708729,-0.058023549616337,-0.112495787441730,-0.015662858262658,-0.066597200930119,-0.084828272461891,-0.124982394278049,-0.035504005849361,0.028610441833735,0.085062719881535,0.174044996500015,-0.110720224678516));
res += mul(Get(s3,0,-dy), float4x4(-0.004086314700544,-0.196210160851479,-0.024646013975143,0.017174618318677,0.027641497552395,0.006315713748336,0.118039570748806,-0.090401045978069,0.090271115303040,0.035205777734518,-0.119438506662846,-0.129588752985001,-0.054873820394278,0.003764864755794,0.088052421808243,-0.049664366990328));
res += mul(Get(s3,0,0), float4x4(-0.069254286587238,-0.050925053656101,0.157714635133743,-0.062546797096729,0.012199122458696,-0.033054333180189,0.156331986188889,-0.093471542000771,0.128823742270470,0.201084017753601,0.034258402884007,-0.153059855103493,-0.115037910640240,-0.071051768958569,-0.180071890354156,-0.038728568702936));
res += mul(Get(s3,0,dy), float4x4(-0.013980749063194,0.017986694350839,-0.069263190031052,0.044865123927593,0.021361209452152,-0.054576274007559,-0.163113117218018,0.024117670953274,0.115214318037033,0.099603116512299,-0.145424053072929,0.084976702928543,0.057231117039919,-0.098538927733898,0.162376195192337,-0.037581514567137));
res += mul(Get(s3,dx,-dy), float4x4(-0.056206136941910,0.021378017961979,0.012010369449854,-0.085604280233383,-0.032919932156801,-0.040395781397820,0.024054687470198,0.025553021579981,0.046171333640814,0.174729555845261,-0.077266246080399,-0.005837715230882,-0.068754874169827,0.127197042107582,-0.027381299063563,-0.044469453394413));
res += mul(Get(s3,dx,0), float4x4(-0.013596259988844,0.120412304997444,0.106342032551765,-0.081740647554398,0.002110037021339,0.063573725521564,0.109931051731110,-0.024971377104521,0.071099944412708,0.136931642889977,0.008289520628750,-0.059657882899046,-0.063705876469612,-0.107363365590572,-0.002540945541114,-0.079334825277328));
res += mul(Get(s3,dx,dy), float4x4(0.229356214404106,0.023432474583387,-0.069027990102768,0.090269818902016,0.002593446522951,0.022530822083354,-0.038709077984095,0.125946670770645,0.089397303760052,0.156754672527313,-0.128134220838547,-0.056391663849354,0.000563047011383,-0.060046870261431,0.058147270232439,-0.092280164361000));
return max(float4(0,0,0,0), res);
}
