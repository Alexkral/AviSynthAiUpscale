sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.055973805487156,0.012751481495798,-0.079605147242546,-0.034734383225441,0.030059540644288,-0.056654725223780,-0.010654659941792,-0.017452416941524,0.262175112962723,0.006318101659417,-0.044186372309923,0.003572522895411,0.030459254980087,-0.104140304028988,0.012065994553268,0.026907702907920));
res += mul(Get(s0,-dx,0), float4x4(0.081659302115440,-0.107388652861118,0.091320276260376,0.109197176992893,-0.134354323148727,-0.136380031704903,-0.083038836717606,0.040187373757362,0.103539355099201,-0.085927829146385,0.027766522020102,-0.021940428763628,-0.068369247019291,0.056043293327093,-0.075813360512257,0.034513138234615));
res += mul(Get(s0,-dx,dy), float4x4(-0.016309807077050,-0.101520888507366,0.019574621692300,-0.007723439950496,-0.000396138231736,0.129983603954315,0.006056926213205,-0.003475648583844,0.165879428386688,0.019479585811496,0.090757705271244,0.044252950698137,-0.036621838808060,0.058360952883959,-0.030026832595468,-0.089637383818626));
res += mul(Get(s0,0,-dy), float4x4(0.008283630013466,-0.091763667762280,0.210545390844345,0.031747490167618,-0.117213532328606,-0.142651513218880,0.125067055225372,-0.037294860929251,0.199713379144669,-0.174596115946770,-0.148139908909798,-0.084579318761826,0.129764348268509,0.010482028126717,0.029979020357132,-0.045669421553612));
res += mul(Get(s0,0,0), float4x4(0.161310732364655,-0.091190993785858,0.125335410237312,0.088422730565071,-0.000269943499006,0.149562463164330,0.087516948580742,0.116858579218388,-0.019099894911051,0.192247435450554,-0.030086606740952,-0.135480105876923,0.062779158353806,0.193027734756470,0.013108321465552,0.026478160172701));
res += mul(Get(s0,0,dy), float4x4(-0.100351333618164,-0.089472249150276,-0.052189230918884,-0.105093255639076,0.038123767822981,0.107296869158745,0.046152595430613,-0.106137320399284,0.086267389357090,0.075318105518818,0.012887084856629,0.109142854809761,0.012878060340881,-0.047791413962841,0.084758155047894,-0.067514024674892));
res += mul(Get(s0,dx,-dy), float4x4(0.104444362223148,-0.110380642116070,-0.073106706142426,0.061878919601440,-0.131649792194366,-0.054338835179806,-0.087965868413448,0.002032800344750,0.022899234667420,-0.150179073214531,-0.143739506602287,0.269386231899261,-0.043048880994320,-0.056392826139927,0.007099755108356,0.091700069606304));
res += mul(Get(s0,dx,0), float4x4(-0.003478304250166,-0.019521258771420,0.015879897400737,-0.014209262095392,-0.183530688285828,-0.079771272838116,0.109533526003361,-0.128149509429932,0.029239388182759,0.167906865477562,-0.027897749096155,-0.043990079313517,-0.061622768640518,0.051686618477106,-0.012696784920990,0.127663984894753));
res += mul(Get(s0,dx,dy), float4x4(-0.093915484845638,-0.013374359346926,0.054069451987743,-0.055698115378618,0.063772298395634,0.137758329510689,-0.028843231499195,-0.004830941092223,0.201406762003899,-0.127482399344444,-0.043252084404230,0.020329438149929,0.101664781570435,-0.126282215118408,0.066541999578476,0.151212573051453));
res += mul(Get(s1,-dx,-dy), float4x4(0.065157040953636,-0.036535441875458,-0.037892591208220,-0.092676214873791,-0.092099182307720,-0.028054844588041,-0.042060304433107,-0.020613210275769,-0.057173095643520,0.073863588273525,0.138192638754845,-0.033779982477427,-0.002022885717452,0.086526677012444,-0.003477310761809,-0.073649711906910));
res += mul(Get(s1,-dx,0), float4x4(0.131588250398636,0.019518427550793,-0.114170014858246,0.114443443715572,0.050330266356468,-0.023089937865734,-0.127916604280472,-0.017733709886670,0.047968912869692,0.074362859129906,-0.056178253144026,-0.060185711830854,-0.141116201877594,-0.054905194789171,0.149030193686485,-0.051088251173496));
res += mul(Get(s1,-dx,dy), float4x4(0.011362852528691,-0.075463920831680,-0.070026002824306,-0.068323910236359,-0.134518399834633,0.059480570256710,0.001917024143040,-0.037435788661242,-0.099258035421371,0.034949854016304,0.065901868045330,0.034995853900909,0.021933740004897,-0.154604926705360,0.105842694640160,-0.090101130306721));
res += mul(Get(s1,0,-dy), float4x4(0.059064764529467,-0.007223160937428,0.115859419107437,-0.090213544666767,-0.021131753921509,0.004491915926337,0.013091934844851,0.015742963179946,0.007974572479725,-0.034663349390030,-0.128690183162689,-0.281107872724533,0.015022648498416,-0.041619684547186,0.021381009370089,0.002686587162316));
res += mul(Get(s1,0,0), float4x4(0.184032127261162,-0.077026747167110,-0.185867115855217,0.035942219197750,-0.074336342513561,-0.082491293549538,-0.074020035564899,0.018626851961017,0.140306055545807,0.057654637843370,-0.033709384500980,-0.070885531604290,-0.113183781504631,0.104340828955173,0.180823206901550,-0.026393575593829));
res += mul(Get(s1,0,dy), float4x4(-0.028892809525132,0.066618233919144,0.042153317481279,-0.030327446758747,-0.087818458676338,-0.124276734888554,0.129419788718224,-0.033092323690653,-0.088963724672794,-0.030374448746443,0.042936861515045,0.136491179466248,0.156229287385941,0.142455637454987,0.017181238159537,-0.124476961791515));
res += mul(Get(s1,dx,-dy), float4x4(0.028783211484551,-0.009395915083587,0.120620124042034,-0.072258323431015,0.137655973434448,0.062326613813639,-0.016046764329076,0.156141862273216,0.090093366801739,0.039317693561316,-0.058488767594099,0.030721507966518,0.094140999019146,0.112635232508183,-0.004244108684361,-0.135599553585052));
res += mul(Get(s1,dx,0), float4x4(-0.131302967667580,0.154456958174706,0.037573866546154,0.024120161309838,-0.041081562638283,-0.096184141933918,-0.066390775144100,-0.026043729856610,-0.049627043306828,0.114844128489494,-0.061478830873966,0.048974879086018,0.021189510822296,-0.111578851938248,0.000530895893462,-0.090346626937389));
res += mul(Get(s1,dx,dy), float4x4(0.016317889094353,-0.093200378119946,0.046819075942039,-0.066499255597591,0.011899253353477,0.055276922881603,-0.022181294858456,0.139895692467690,0.054741308093071,0.054023634642363,-0.046171665191650,-0.094185486435890,0.200441226363182,-0.155224382877350,0.007962982170284,-0.122708983719349));
res += mul(Get(s2,-dx,-dy), float4x4(-0.135296940803528,0.047234520316124,-0.083741851150990,-0.072289653122425,-0.071331582963467,-0.070965446531773,0.086595542728901,-0.004258763045073,-0.063918441534042,0.023731607943773,0.050806589424610,0.106433622539043,-0.058213364332914,-0.089075811207294,-0.023316342383623,0.007738079410046));
res += mul(Get(s2,-dx,0), float4x4(-0.054930411279202,0.059144578874111,0.067912138998508,-0.128170266747475,-0.010985758155584,0.015452671796083,0.006140324752778,0.195264667272568,0.000504829164129,-0.136203870177269,-0.088563449680805,-0.109122298657894,0.000850586104207,0.024867990985513,-0.162023007869720,0.173511952161789));
res += mul(Get(s2,-dx,dy), float4x4(0.031506471335888,-0.060301601886749,-0.185230195522308,-0.029825029894710,-0.024407917633653,0.085024461150169,-0.204386189579964,0.046021513640881,0.003056833753362,0.118697680532932,-0.116366587579250,-0.051401309669018,-0.001791747054085,0.038266573101282,0.073305524885654,0.069381587207317));
res += mul(Get(s2,0,-dy), float4x4(0.003708229633048,0.137828439474106,-0.116809926927090,-0.042968060821295,-0.011099839583039,-0.016312176361680,-0.001401378191076,0.062163863331079,0.077139772474766,-0.019384121522307,-0.036930445581675,0.125833123922348,0.089176915585995,-0.027515863999724,-0.117867842316628,-0.003692816244438));
res += mul(Get(s2,0,0), float4x4(0.146871522068977,-0.019092077389359,-0.020672166720033,-0.037510436028242,-0.109157577157021,0.027928264811635,0.103730089962482,-0.119493849575520,0.032329805195332,0.085829690098763,0.094427831470966,0.054703518748283,-0.032717801630497,-0.097926110029221,-0.136222854256630,-0.020403075963259));
res += mul(Get(s2,0,dy), float4x4(-0.068837389349937,-0.100916072726250,0.019912507385015,0.037004288285971,0.000927986518946,-0.090860292315483,0.114310622215271,0.027374651283026,0.037671174854040,0.036868643015623,-0.084678836166859,-0.102882698178291,-0.059256266802549,-0.010763231664896,0.064593084156513,-0.256157606840134));
res += mul(Get(s2,dx,-dy), float4x4(-0.022564658895135,0.049211293458939,-0.037146948277950,-0.012621770612895,0.104903332889080,0.029855003580451,0.020606925711036,-0.065159648656845,0.086488813161850,-0.167244851589203,0.020629089325666,0.142237827181816,-0.004722564946860,0.082561202347279,0.006669290829450,0.088045842945576));
res += mul(Get(s2,dx,0), float4x4(0.183092802762985,-0.068115144968033,-0.211915329098701,-0.016402827575803,-0.082752116024494,0.054802857339382,-0.000549165008124,0.043378990143538,0.007324115373194,0.019678648561239,-0.066540747880936,-0.082404308021069,0.115361176431179,0.036064159125090,-0.095389902591705,-0.139790445566177));
res += mul(Get(s2,dx,dy), float4x4(-0.085057839751244,-0.016312394291162,-0.110665448009968,-0.176885291934013,-0.137536019086838,0.075167924165726,-0.053509201854467,-0.130244359374046,-0.079777374863625,0.148072987794876,0.157925531268120,0.050515793263912,0.096875227987766,-0.031347122043371,0.031929131597281,-0.031639538705349));
res += mul(Get(s3,-dx,-dy), float4x4(0.050772599875927,0.053916484117508,-0.045787006616592,0.043206803500652,-0.012695590965450,0.061667665839195,0.118034981191158,-0.041553981602192,-0.050269521772861,-0.109961204230785,0.035786718130112,0.030552783980966,0.027507353574038,0.053822323679924,-0.046679709106684,0.024225773289800));
res += mul(Get(s3,-dx,0), float4x4(-0.073189474642277,0.025894254446030,0.262938767671585,0.001691763172857,-0.012647620402277,-0.045443281531334,0.149424389004707,-0.075670048594475,-0.072622939944267,0.034053977578878,-0.041849352419376,0.055348675698042,-0.005349435377866,0.074913628399372,-0.003577191615477,-0.068844333291054));
res += mul(Get(s3,-dx,dy), float4x4(-0.125995680689812,0.095841415226460,0.055287044495344,0.008068902418017,0.019497735425830,-0.042512606829405,-0.108840085566044,-0.081143595278263,-0.031996466219425,-0.082807883620262,-0.107879914343357,-0.102779753506184,0.029028300195932,-0.010739360935986,-0.044687230139971,-0.129192128777504));
res += mul(Get(s3,0,-dy), float4x4(-0.050157934427261,0.049496829509735,-0.062348037958145,-0.062746994197369,-0.045005779713392,0.021278807893395,0.031468156725168,-0.001579162431881,0.143556952476501,-0.134767234325409,0.158287361264229,0.046074856072664,0.065197125077248,-0.096916981041431,-0.085606627166271,-0.021557280793786));
res += mul(Get(s3,0,0), float4x4(-0.056275721639395,-0.026446623727679,0.255284696817398,-0.079380363225937,-0.005506561137736,-0.176325216889381,-0.011780827306211,0.034935228526592,0.055719401687384,-0.018770825117826,0.080380544066429,-0.036047592759132,0.128339216113091,-0.121597960591316,-0.030071400105953,-0.070174910128117));
res += mul(Get(s3,0,dy), float4x4(0.078436709940434,0.023245239630342,0.104190513491631,-0.038871765136719,0.091243430972099,0.092507757246494,-0.146122395992279,-0.133809551596642,0.134457498788834,0.129856407642365,0.002511613070965,0.006221943534911,-0.087256386876106,0.138044103980064,-0.093884706497192,0.030217893421650));
res += mul(Get(s3,dx,-dy), float4x4(-0.029870042577386,0.074622496962547,-0.049726828932762,0.056773964315653,0.020516201853752,-0.014710406772792,0.154196053743362,-0.067686647176743,-0.081005990505219,-0.094591103494167,0.171411082148552,-0.112253159284592,0.150740772485733,-0.118904560804367,-0.125751420855522,-0.038589186966419));
res += mul(Get(s3,dx,0), float4x4(-0.044029612094164,-0.033007748425007,0.034434568136930,-0.079343371093273,0.192161098122597,0.063740141689777,-0.091978751122952,0.056864980608225,-0.108374655246735,-0.078647218644619,0.035457465797663,-0.000796774751507,-0.077289961278439,-0.108042761683464,-0.052869036793709,0.077765524387360));
res += mul(Get(s3,dx,dy), float4x4(-0.072302661836147,-0.085765279829502,-0.052334211766720,-0.002377255121246,-0.061282437294722,-0.044044025242329,0.028662363067269,-0.056716784834862,-0.074324637651443,-0.096387565135956,-0.052637349814177,-0.071159072220325,-0.032805174589157,-0.072687759995461,0.081158541142941,0.018077813088894));
return max(float4(0,0,0,0), res);
}
