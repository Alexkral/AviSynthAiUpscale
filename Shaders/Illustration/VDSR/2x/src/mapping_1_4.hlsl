sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.012360057793558,-0.124999411404133,0.052369903773069,0.011518132872880,-0.029192535206676,-0.122775800526142,0.051559835672379,0.022565083578229,-0.046558748930693,0.100803270936012,0.058615818619728,-0.079480975866318,0.114009134471416,-0.113236777484417,-0.082895636558533,0.009517809376121));
res += mul(Get(s0,-dx,0), float4x4(0.013527397997677,0.023396819829941,0.079112455248833,-0.042963955551386,0.033082641661167,-0.088935814797878,0.023494195193052,-0.080391511321068,-0.002299570478499,0.009877398610115,-0.045206326991320,0.037337079644203,-0.069204270839691,0.021581912413239,-0.020921953022480,-0.069031730294228));
res += mul(Get(s0,-dx,dy), float4x4(0.025939790531993,-0.012751800008118,-0.019150285050273,0.066890992224216,0.043995503336191,0.038334455341101,0.077200278639793,0.080770045518875,-0.017422003671527,0.069694131612778,-0.084997743368149,0.072044737637043,0.048238206654787,0.074477739632130,-0.041533004492521,0.049469739198685));
res += mul(Get(s0,0,-dy), float4x4(-0.060893308371305,0.057333748787642,0.022191777825356,-0.077167600393295,0.053597740828991,-0.100293137133121,0.128284469246864,0.015356454998255,0.085067279636860,-0.108310230076313,0.049327183514833,0.095539659261703,0.029445260763168,0.038591809570789,-0.094706431031227,-0.026003142818809));
res += mul(Get(s0,0,0), float4x4(-0.013394990004599,0.097483918070793,0.121839165687561,-0.096132442355156,0.177716881036758,0.042729876935482,-0.100938044488430,-0.087366715073586,0.073848694562912,-0.002692092675716,0.118317767977715,0.006594100967050,0.144633308053017,-0.073747381567955,0.142063811421394,0.025592135265470));
res += mul(Get(s0,0,dy), float4x4(0.283044695854187,0.120973415672779,-0.154149070382118,-0.266659528017044,-0.110822841525078,0.023434011265635,0.080447092652321,0.122527793049812,-0.068619504570961,0.075470425188541,0.020391164347529,-0.024598365649581,-0.138174474239349,0.216220512986183,-0.159791365265846,0.073666453361511));
res += mul(Get(s0,dx,-dy), float4x4(-0.031065771356225,-0.026580996811390,0.003732190001756,-0.020068991929293,0.113707400858402,0.017240732908249,-0.209183260798454,-0.022906795144081,-0.037550706416368,0.075621210038662,0.187531948089600,0.063223995268345,-0.017554735764861,0.000490316015203,-0.054986450821161,0.115625202655792));
res += mul(Get(s0,dx,0), float4x4(0.145884618163109,0.247607350349426,-0.188452661037445,-0.049946557730436,0.086414195597172,0.092186421155930,0.031351577490568,0.070483759045601,0.055981606245041,-0.038767699152231,-0.062857732176781,0.197549909353256,-0.008730605244637,0.085271336138248,-0.100305527448654,0.070974722504616));
res += mul(Get(s0,dx,dy), float4x4(0.054412320256233,-0.063163131475449,0.077764831483364,-0.043254904448986,-0.006258532404900,-0.071887277066708,0.217696979641914,-0.120168372988701,0.005223005078733,-0.215810179710388,-0.187179908156395,0.081979326903820,-0.234341874718666,-0.048157777637243,-0.046259555965662,0.135614529252052));
res += mul(Get(s1,-dx,-dy), float4x4(0.125733643770218,-0.115584433078766,-0.072514161467552,0.193045139312744,-0.114608101546764,-0.103539422154427,0.024140035733581,-0.023822665214539,-0.000164341225172,-0.105516143143177,-0.073718130588531,0.003352940548211,0.173547819256783,0.020677492022514,-0.085055202245712,-0.016688572242856));
res += mul(Get(s1,-dx,0), float4x4(0.292695224285126,0.071307584643364,0.045198671519756,-0.200424879789352,-0.071082621812820,-0.103423401713371,0.062692888081074,-0.085028588771820,0.039576888084412,-0.103605262935162,-0.080596409738064,-0.005752016324550,0.038811571896076,-0.106975153088570,-0.185846373438835,-0.060168329626322));
res += mul(Get(s1,-dx,dy), float4x4(-0.021760938689113,0.106730431318283,-0.111796453595161,-0.186263829469681,-0.043103225529194,0.106954641640186,0.140751779079437,0.088822953402996,-0.092853426933289,-0.138789072632790,0.223782315850258,0.059284519404173,-0.026782399043441,-0.083378501236439,0.017643624916673,0.046081967651844));
res += mul(Get(s1,0,-dy), float4x4(0.028473637998104,0.187961354851723,-0.090390257537365,-0.094867117702961,0.076943524181843,0.082338079810143,-0.075116425752640,-0.017278121784329,-0.019934577867389,-0.125600576400757,-0.012981667183340,-0.008412205614150,0.045542545616627,-0.034568864852190,-0.047695785760880,0.005019061733037));
res += mul(Get(s1,0,0), float4x4(-0.049334730952978,-0.055560395121574,0.005200865678489,-0.206994727253914,0.222652435302734,0.012227936647832,-0.012199925258756,-0.107172109186649,0.104760326445103,0.041524317115545,0.054893907159567,-0.144570007920265,0.132731989026070,-0.054397702217102,0.024537226185203,0.095616519451141));
res += mul(Get(s1,0,dy), float4x4(0.036980513483286,-0.170235469937325,0.108293272554874,-0.036866430193186,0.165124520659447,-0.033597614616156,-0.010240287519991,0.074909016489983,-0.109143696725368,0.087740816175938,0.031762909144163,-0.044482298195362,-0.026301160454750,0.054532133042812,0.004382425453514,-0.004274318926036));
res += mul(Get(s1,dx,-dy), float4x4(-0.041468411684036,0.167614728212357,-0.193882957100868,-0.034466244280338,0.005375509615988,-0.056275002658367,-0.054809574037790,-0.014010635204613,0.070082135498524,0.333379834890366,-0.083889573812485,-0.095423795282841,-0.012317637912929,-0.115750774741173,0.069836981594563,0.000255129620200));
res += mul(Get(s1,dx,0), float4x4(-0.012810801155865,0.027343593537807,0.185780018568039,0.025764988735318,-0.059289604425430,0.091871827840805,0.059382986277342,-0.051783248782158,0.098243169486523,-0.021683877333999,-0.064979828894138,-0.105242215096951,0.245109081268311,0.069241948425770,0.089603379368782,-0.011362950317562));
res += mul(Get(s1,dx,dy), float4x4(0.164827942848206,-0.117526836693287,-0.091492235660553,0.029470466077328,-0.012278610840440,0.007515897043049,0.005391840822995,0.059471134096384,-0.072023183107376,-0.148006379604340,0.106757275760174,0.183869108557701,-0.050752475857735,0.078954324126244,-0.140681520104408,-0.096843309700489));
res += mul(Get(s2,-dx,-dy), float4x4(-0.017674619331956,-0.008569722995162,-0.109934911131859,-0.230757504701614,0.078072994947433,0.326124727725983,0.154991671442986,-0.151209846138954,-0.000414228969021,0.025434650480747,-0.067835293710232,0.126895561814308,-0.022810071706772,-0.056842256337404,-0.019692992791533,-0.134464308619499));
res += mul(Get(s2,-dx,0), float4x4(0.115227535367012,-0.068862304091454,0.082264438271523,-0.191660642623901,0.057050824165344,-0.040601909160614,0.047055695205927,0.070069119334221,0.156061977148056,0.029073372483253,0.047096196562052,0.006868558935821,-0.160060927271843,0.025292005389929,-0.100854307413101,-0.157741039991379));
res += mul(Get(s2,-dx,dy), float4x4(0.038629032671452,-0.089646875858307,0.017903655767441,0.332899183034897,-0.208844467997551,-0.058045167475939,-0.095695070922375,0.235329732298851,-0.060784541070461,0.041297182440758,-0.102181375026703,0.077781662344933,0.184859052300453,0.111499354243279,-0.069778271019459,0.069116443395615));
res += mul(Get(s2,0,-dy), float4x4(0.102137640118599,0.208563923835754,-0.002433622954413,-0.092153511941433,-0.026705292984843,-0.086675733327866,0.089647337794304,0.217554554343224,-0.045619182288647,-0.121082410216331,0.098568543791771,0.005435325670987,-0.014492384158075,-0.202561780810356,-0.055385250598192,-0.156201303005219));
res += mul(Get(s2,0,0), float4x4(-0.193434342741966,0.045663636177778,0.251277893781662,0.134080812335014,0.223257005214691,0.085272565484047,0.132861897349358,0.058817401528358,-0.097722955048084,0.059830840677023,0.036474086344242,-0.014430893585086,0.120107419788837,-0.198267713189125,0.180716559290886,-0.173033013939857));
res += mul(Get(s2,0,dy), float4x4(-0.149962455034256,-0.082951597869396,-0.063925124704838,0.222417250275612,0.021700575947762,-0.223049417138100,0.340961307287216,-0.032720256596804,-0.030456960201263,-0.181676536798477,0.014498665928841,0.051796499639750,0.040324699133635,-0.191552519798279,-0.046016938984394,0.091980002820492));
res += mul(Get(s2,dx,-dy), float4x4(0.039225786924362,0.078518860042095,0.022677469998598,0.022324126213789,-0.084715478122234,-0.006080619059503,-0.117963902652264,-0.052941080182791,0.025371814146638,0.072377517819405,-0.030577180907130,-0.265375673770905,0.111261747777462,0.093076795339584,-0.071327745914459,-0.067745603621006));
res += mul(Get(s2,dx,0), float4x4(0.025774810463190,-0.157194286584854,0.125088170170784,0.009557138197124,-0.031809542328119,0.149128600955009,0.085742436349392,-0.121015548706055,0.071813307702541,0.051073607057333,0.230727732181549,0.054902985692024,-0.117261461913586,0.034498151391745,-0.038760583847761,0.130158752202988));
res += mul(Get(s2,dx,dy), float4x4(0.168329685926437,-0.028037961572409,-0.048106979578733,-0.101034291088581,0.009903652593493,0.049316629767418,-0.181250289082527,0.028807846829295,-0.064109690487385,0.090218774974346,-0.029975630342960,0.119069509208202,0.130823835730553,-0.073263369500637,0.076711229979992,-0.140601247549057));
res += mul(Get(s3,-dx,-dy), float4x4(0.324979811906815,0.238102450966835,-0.169254750013351,-0.162342771887779,-0.013006373308599,-0.086800277233124,0.018023883923888,0.044153418391943,0.105688713490963,-0.208946079015732,0.019950278103352,0.416541248559952,-0.175505667924881,0.024982228875160,-0.052159920334816,-0.020392198115587));
res += mul(Get(s3,-dx,0), float4x4(-0.199570968747139,0.111142247915268,0.082047738134861,0.045046217739582,-0.132895261049271,0.088767580688000,0.121044099330902,0.112467005848885,0.030651682987809,-0.120936773717403,-0.145035266876221,0.040828984230757,0.112380385398865,-0.056230381131172,-0.111255712807178,0.236701667308807));
res += mul(Get(s3,-dx,dy), float4x4(0.102973692119122,-0.121456325054169,-0.113592393696308,-0.006153259892017,0.005944219883531,0.049276214092970,0.013205373659730,-0.233474358916283,-0.054717328399420,0.075328566133976,-0.032863277941942,-0.009225334972143,-0.015751451253891,-0.090486004948616,0.083775706589222,0.059422321617603));
res += mul(Get(s3,0,-dy), float4x4(0.121179729700089,0.017423089593649,-0.089588679373264,0.053553458303213,-0.029123965650797,0.028991257771850,0.103003643453121,0.198027700185776,-0.096525490283966,-0.047201097011566,0.128743946552277,0.109928563237190,-0.109019957482815,0.111968040466309,-0.010219207964838,0.055447846651077));
res += mul(Get(s3,0,0), float4x4(-0.186653032898903,-0.185135081410408,-0.250353217124939,0.183942466974258,-0.141571506857872,0.027231952175498,-0.000543831847608,-0.041397839784622,-0.106854379177094,-0.181603848934174,-0.102037206292152,0.172054633498192,-0.016192946583033,0.103762991726398,0.040527921169996,-0.084790669381618));
res += mul(Get(s3,0,dy), float4x4(0.005289949942380,0.145424604415894,0.244628831744194,-0.093226797878742,-0.006427966989577,-0.015817731618881,-0.065741375088692,0.141426667571068,0.178874164819717,-0.023027490824461,-0.075503863394260,0.068772085011005,-0.228700950741768,0.037551719695330,-0.147703677415848,-0.092345386743546));
res += mul(Get(s3,dx,-dy), float4x4(0.034797407686710,-0.018445540219545,0.206355318427086,-0.054361328482628,-0.004210020415485,-0.074440002441406,0.017716465517879,0.152208119630814,0.067786224186420,-0.150145232677460,0.087643451988697,-0.052938874810934,0.052184659987688,-0.022476138547063,0.126789167523384,0.082024447619915));
res += mul(Get(s3,dx,0), float4x4(-0.037793260067701,-0.098584942519665,0.100112304091454,0.095159403979778,-0.001975512132049,0.067090712487698,-0.015825465321541,-0.137311801314354,-0.075082920491695,-0.061019018292427,-0.055955063551664,-0.037793349474669,-0.035311281681061,0.063077919185162,0.048697829246521,-0.016534259542823));
res += mul(Get(s3,dx,dy), float4x4(0.299787551164627,0.137485191226006,0.217772349715233,-0.137370437383652,0.097663499414921,-0.073894783854485,0.065900437533855,0.032094143331051,-0.035558633506298,0.063775196671486,-0.026480086147785,0.030912064015865,0.167574837803841,-0.074959896504879,-0.120017163455486,0.047561798244715));
return max(float4(0,0,0,0), res);
}
