sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.150121212005615,0.177015468478203,0.050691284239292,-0.003557105083019,-0.114308975636959,0.005044945515692,-0.119050502777100,-0.060039620846510,-0.081868670880795,0.069085083901882,0.069734215736389,-0.056712388992310,-0.030047038570046,-0.010725633241236,-0.030832037329674,-0.044662885367870));
res += mul(Get(s0,-dx,0), float4x4(-0.057331308722496,0.023299340158701,-0.006641975603998,0.069711402058601,-0.045702233910561,0.015976898372173,0.125580906867981,-0.157803773880005,0.081505328416824,-0.011531031690538,0.004240111447871,-0.022236295044422,0.092001169919968,0.157029300928116,0.046370089054108,-0.079982951283455));
res += mul(Get(s0,-dx,dy), float4x4(0.025931505486369,0.000391783425584,0.072726249694824,0.051973223686218,-0.026535805314779,-0.002073947107419,-0.047710269689560,0.019384972751141,0.036121819168329,0.070656970143318,-0.121139101684093,-0.081860825419426,-0.007195502519608,-0.177453979849815,0.001788267516531,0.059892863035202));
res += mul(Get(s0,0,-dy), float4x4(-0.024566726759076,0.104943886399269,-0.033242434263229,-0.068445608019829,-0.055753681808710,0.038859054446220,-0.126550063490868,-0.128411382436752,0.136810883879662,-0.002591948723421,-0.038117650896311,-0.203748419880867,-0.112364210188389,-0.079395346343517,-0.150444000959396,0.150491595268250));
res += mul(Get(s0,0,0), float4x4(-0.044447597116232,-0.226891487836838,-0.075779095292091,0.115875661373138,-0.021228492259979,0.072534665465355,0.027974586933851,0.059651259332895,0.061039455235004,-0.033730689436197,-0.134254232048988,0.049682352691889,-0.090545512735844,-0.044601958245039,0.161597028374672,0.087705239653587));
res += mul(Get(s0,0,dy), float4x4(0.169046297669411,-0.027609784156084,0.075298629701138,-0.055624309927225,-0.158691510558128,0.081970155239105,-0.045540664345026,0.140941351652145,-0.217368125915527,-0.085582949221134,0.115263462066650,-0.021028621122241,0.248415693640709,0.066227227449417,0.153893232345581,-0.122982814908028));
res += mul(Get(s0,dx,-dy), float4x4(-0.019705209881067,-0.143881455063820,-0.041007131338120,0.048845797777176,0.045031856745481,0.082461260259151,0.132047444581985,-0.043449889868498,-0.041280861943960,-0.061097167432308,-0.066862531006336,-0.016758643090725,0.134154006838799,-0.035533074289560,0.120700053870678,-0.015929041430354));
res += mul(Get(s0,dx,0), float4x4(-0.064135894179344,-0.230897799134254,0.007940391078591,-0.104956373572350,0.119918160140514,0.077631339430809,0.155834510922432,0.020877586677670,0.155275255441666,-0.021049128845334,-0.087788380682468,-0.153977647423744,0.082220591604710,-0.052547108381987,-0.123624779284000,0.015099201351404));
res += mul(Get(s0,dx,dy), float4x4(0.060056030750275,0.059525251388550,0.020477533340454,-0.157682463526726,-0.091157034039497,0.077753514051437,-0.027563421055675,-0.055647794157267,0.112221196293831,0.211698353290558,-0.006302773486823,-0.046923376619816,-0.030763546004891,0.096927829086781,-0.085845485329628,-0.042778834700584));
res += mul(Get(s1,-dx,-dy), float4x4(0.045200448483229,0.054535780102015,0.038351740688086,-0.084317758679390,0.013849325478077,0.056647889316082,-0.108323521912098,0.052393741905689,-0.245225176215172,0.176801383495331,0.063386395573616,0.019554549828172,-0.092912144958973,0.042123407125473,0.016840996220708,0.065615616738796));
res += mul(Get(s1,-dx,0), float4x4(0.036466334015131,-0.071362420916557,-0.179280951619148,-0.069838583469391,0.005893710535020,0.094037652015686,-0.024810139089823,0.062434904277325,-0.105409353971481,0.109640374779701,0.136104360222816,0.068584255874157,-0.041855767369270,-0.024594713002443,0.142462208867073,-0.011595499701798));
res += mul(Get(s1,-dx,dy), float4x4(-0.087694711983204,0.006818240974098,-0.108822546899319,-0.054553117603064,0.024216949939728,0.184872046113014,0.112501911818981,-0.059826232492924,-0.032339081168175,-0.057729475200176,-0.043253436684608,0.006202277727425,-0.080718256533146,0.184736937284470,-0.115138888359070,0.084218889474869));
res += mul(Get(s1,0,-dy), float4x4(-0.191926732659340,0.023834636434913,-0.017657080665231,0.269909173250198,0.168687075376511,-0.010815791785717,0.006996268872172,-0.062702164053917,0.171404585242271,0.120281517505646,-0.000381789461244,-0.029029030352831,-0.003556345356628,-0.001772011979483,0.086700506508350,0.147380605340004));
res += mul(Get(s1,0,0), float4x4(-0.199218451976776,0.014264033176005,-0.066590622067451,-0.105163320899010,0.109039366245270,0.205293804407120,0.090830728411674,-0.050737597048283,0.123333498835564,0.097564354538918,0.134863629937172,0.107124119997025,0.101347781717777,-0.008261168375611,-0.012676960788667,0.089467421174049));
res += mul(Get(s1,0,dy), float4x4(0.051807150244713,-0.096151135861874,0.016731526702642,0.008658220060170,0.041519973427057,0.067214466631413,-0.106338024139404,0.072732478380203,-0.030088182538748,0.054544262588024,0.165147706866264,0.126480028033257,0.077889084815979,0.010217002592981,-0.026510469615459,0.152939841151237));
res += mul(Get(s1,dx,-dy), float4x4(0.047290943562984,-0.096452668309212,0.050018962472677,0.241173505783081,0.031886234879494,0.000560155895073,0.106874592602253,0.215894669294357,0.043161407113075,-0.019974779337645,-0.033583890646696,0.091242402791977,-0.045987583696842,-0.059024184942245,-0.028976421803236,-0.108205154538155));
res += mul(Get(s1,dx,0), float4x4(-0.019887726753950,-0.029146118089557,0.025014854967594,-0.044591937214136,0.032202538102865,0.069732822477818,0.053242616355419,0.006273971404880,0.105614677071571,0.152098715305328,-0.051064372062683,-0.042002469301224,-0.054155927151442,0.103409700095654,-0.040947951376438,-0.039993084967136));
res += mul(Get(s1,dx,dy), float4x4(-0.075328953564167,-0.038973767310381,-0.091486126184464,-0.029348235577345,-0.092064015567303,-0.225755631923676,0.077873617410660,-0.046996947377920,0.041926790028811,-0.000606766378041,-0.083457797765732,0.134348154067993,-0.120577372610569,0.107307024300098,-0.031748846173286,0.150502666831017));
res += mul(Get(s2,-dx,-dy), float4x4(-0.079864025115967,0.111295446753502,-0.043859377503395,-0.048508305102587,-0.025787942111492,0.124972477555275,0.100037820637226,-0.052375614643097,-0.000372359238099,-0.067555069923401,0.005812768824399,0.101376816630363,-0.095866061747074,-0.010820982977748,0.054644972085953,0.045308340340853));
res += mul(Get(s2,-dx,0), float4x4(-0.003214540658519,0.124398455023766,-0.018291056156158,0.058524824678898,0.075491778552532,-0.062467668205500,0.015438754111528,-0.139056697487831,-0.071699306368828,-0.176168367266655,-0.000184335513040,0.060847382992506,0.046211797744036,0.009191755205393,-0.034351155161858,-0.042716179043055));
res += mul(Get(s2,-dx,dy), float4x4(0.025386642664671,-0.088234998285770,0.004158423282206,-0.062170751392841,0.004415312316269,-0.194370150566101,-0.024606004357338,0.111175380647182,-0.126706168055534,0.035048831254244,0.050042524933815,0.101255178451538,0.039336770772934,-0.099508985877037,0.084985345602036,-0.122255884110928));
res += mul(Get(s2,0,-dy), float4x4(-0.131544977426529,-0.016862094402313,0.090809822082520,0.163167759776115,-0.006157148629427,0.036812055855989,-0.037765126675367,0.027808617800474,0.146659031510353,-0.039107587188482,-0.042244326323271,0.042639147490263,0.033880177885294,0.051068305969238,-0.026214212179184,0.052458647638559));
res += mul(Get(s2,0,0), float4x4(0.110556028783321,-0.046347308903933,0.079814679920673,0.134805947542191,0.091856107115746,0.048063445836306,0.003108229953796,-0.078460894525051,0.174232929944992,0.018265893682837,0.017741255462170,0.006300477776676,0.093934476375580,-0.000218532979488,0.015484574250877,-0.040232039988041));
res += mul(Get(s2,0,dy), float4x4(0.114119499921799,-0.074838027358055,0.043355468660593,0.077263675630093,-0.008157101459801,-0.043020315468311,0.063336871564388,-0.012287838384509,0.096092082560062,-0.000547540374100,-0.027599012479186,0.036635961383581,0.227636918425560,0.164343178272247,0.043786488473415,0.115261703729630));
res += mul(Get(s2,dx,-dy), float4x4(-0.042510550469160,0.153049603104591,0.049321223050356,0.050963997840881,-0.071538314223289,-0.085648246109486,0.156800791621208,0.154567748308182,0.088038146495819,0.017059206962585,-0.042413234710693,-0.223444402217865,0.104690462350845,-0.091103762388229,-0.004959420766681,-0.068576499819756));
res += mul(Get(s2,dx,0), float4x4(0.232528477907181,0.012148667126894,-0.010267446748912,-0.195096522569656,0.040988869965076,0.124119728803635,0.114317864179611,0.014652373269200,-0.011270412243903,-0.066480316221714,-0.051140971481800,-0.002847403287888,-0.031647630035877,-0.101176753640175,-0.051083005964756,-0.003187682013959));
res += mul(Get(s2,dx,dy), float4x4(0.144623979926109,-0.020910101011395,-0.101767972111702,0.048786774277687,0.127795517444611,-0.159640029072762,0.017525881528854,0.277379393577576,-0.024313023313880,0.115259073674679,0.059007957577705,0.114030621945858,0.024967879056931,-0.072633557021618,0.048523064702749,-0.094844289124012));
res += mul(Get(s3,-dx,-dy), float4x4(0.007900820113719,-0.045981097966433,-0.022424146533012,-0.118670701980591,0.082179270684719,0.004977006465197,-0.068493574857712,-0.063865356147289,-0.069726064801216,0.125596329569817,0.084927991032600,0.065586015582085,0.037134252488613,-0.047198101878166,0.047719221562147,0.104931570589542));
res += mul(Get(s3,-dx,0), float4x4(0.192009285092354,0.041434362530708,-0.012106737121940,0.064504526555538,0.090297088027000,-0.176017239689827,0.069896720349789,-0.185866773128510,0.110750615596771,-0.043035652488470,-0.196524932980537,-0.056749712675810,0.204461082816124,0.052918240427971,-0.035814359784126,-0.016439454630017));
res += mul(Get(s3,-dx,dy), float4x4(0.168004944920540,0.031866934150457,0.056344036012888,-0.057422582060099,0.050201684236526,-0.154068738222122,-0.109434679150581,0.076927743852139,0.005412423517555,0.039083197712898,-0.076095260679722,-0.067992597818375,0.035477511584759,0.023457141593099,0.006370573770255,0.030060270801187));
res += mul(Get(s3,0,-dy), float4x4(-0.042303394526243,0.138463735580444,-0.045096732676029,0.032857850193977,0.013546375557780,0.026048274710774,-0.037049204111099,0.011805986054242,0.070045977830887,0.295221149921417,-0.058045025914907,0.095968991518021,0.024826275184751,-0.098992899060249,0.001538086566143,0.015947608277202));
res += mul(Get(s3,0,0), float4x4(-0.137077108025551,-0.121938712894917,-0.088396430015564,0.104548543691635,0.080432988703251,-0.188416197896004,-0.001288731349632,-0.082087062299252,-0.042150020599365,-0.124865733087063,0.005201064515859,-0.136075407266617,0.002364474348724,0.124774262309074,-0.015368960797787,0.136758476495743));
res += mul(Get(s3,0,dy), float4x4(0.031892459839582,-0.063562348484993,-0.042362637817860,-0.120858088135719,0.122106485068798,-0.124675646424294,-0.048583298921585,0.076167039573193,0.010181354358792,0.040642101317644,-0.038226131349802,-0.074108801782131,0.078066281974316,-0.150229960680008,0.205788210034370,0.126713514328003));
res += mul(Get(s3,dx,-dy), float4x4(-0.099954508244991,0.018077813088894,-0.037183374166489,0.138918206095695,0.050249420106411,0.000437578768469,0.015664838254452,0.014894235879183,-0.110523886978626,0.047475241124630,0.071123570203781,0.062184371054173,0.038429338485003,-0.029788045212626,-0.071727424860001,-0.104950256645679));
res += mul(Get(s3,dx,0), float4x4(-0.192150339484215,-0.032887727022171,-0.165981680154800,0.207230120897293,0.024890739470720,-0.041032221168280,-0.092308379709721,-0.167341902852058,-0.020487174391747,-0.086200542747974,0.002542440081015,-0.035268317908049,-0.060095351189375,-0.093531198799610,-0.008951618336141,-0.038960408419371));
res += mul(Get(s3,dx,dy), float4x4(0.104710087180138,0.017924422398210,-0.022120423614979,-0.065699607133865,0.138667330145836,-0.110757142305374,-0.190939694643021,0.065755322575569,0.177319288253784,0.033868242055178,-0.066478036344051,0.026145890355110,0.026416948065162,0.073987938463688,-0.005271748639643,0.037483882158995));
return max(float4(0,0,0,0), res);
}
