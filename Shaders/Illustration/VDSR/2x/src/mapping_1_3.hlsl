sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.083493128418922,-0.010734537616372,0.000037160607462,-0.002944509033114,-0.018476441502571,-0.051051791757345,-0.034988731145859,-0.000954954943154,0.012131107039750,-0.123121038079262,0.009753263555467,-0.095074035227299,-0.015816347673535,-0.021276181563735,-0.006975715514272,-0.007140696980059));
res += mul(Get(s0,-dx,0), float4x4(0.082976058125496,-0.027822451665998,0.018073327839375,0.036031570285559,-0.014743921346962,-0.088574998080730,-0.052249796688557,0.008240670897067,-0.099242419004440,0.001341048511676,0.014588849619031,-0.042718812823296,0.000813825987279,-0.010674959048629,-0.000195781947696,0.011613063514233));
res += mul(Get(s0,-dx,dy), float4x4(0.023508988320827,0.017846055328846,0.031874164938927,0.073622249066830,-0.006829373072833,-0.012183195911348,-0.061626281589270,-0.021857786923647,0.039036016911268,0.009282720275223,-0.024008154869080,-0.052701327949762,-0.004391586408019,0.016537379473448,-0.004534511361271,-0.001637193025090));
res += mul(Get(s0,0,-dy), float4x4(0.006072243209928,0.001601637457497,0.004069572314620,-0.075183019042015,0.032941326498985,0.069974750280380,-0.096179328858852,-0.021418815478683,0.027535282075405,-0.114877194166183,-0.051323771476746,-0.056806996464729,-0.014885166659951,-0.015083331614733,-0.018383124843240,-0.008117614313960));
res += mul(Get(s0,0,0), float4x4(0.049320328980684,-0.009925602935255,-0.116106569766998,-0.063646152615547,0.051938846707344,-0.012508044950664,-0.110479332506657,-0.035847365856171,0.021510211750865,-0.002354087075219,-0.035601366311312,-0.040642086416483,0.005856761243194,-0.004571951460093,-0.008346312679350,0.012217598035932));
res += mul(Get(s0,0,dy), float4x4(-0.061337079852819,0.020573284476995,-0.036134473979473,-0.030511954799294,-0.017870768904686,-0.014324997551739,-0.112776763737202,0.012983267195523,-0.004101417493075,-0.015797093510628,0.015722585842013,-0.040092572569847,-0.003913169261068,0.009954215027392,-0.001098383800127,0.002373684896156));
res += mul(Get(s0,dx,-dy), float4x4(-0.002867561532184,0.022289898246527,0.145688667893410,0.028520444408059,0.001192174619064,0.003551141824573,-0.148406520485878,0.052667241543531,0.004165123682469,-0.125029280781746,0.046370450407267,-0.122144080698490,-0.016285534948111,-0.004425882827491,-0.012288672849536,-0.004212846513838));
res += mul(Get(s0,dx,0), float4x4(-0.000346642249497,-0.007601425517350,0.117725759744644,0.033310804516077,-0.044808406382799,-0.007704060524702,-0.141096055507660,-0.000819416833110,0.073514737188816,-0.007677964866161,0.017200885340571,-0.063658535480499,0.007883026264608,0.009547132998705,-0.010557388886809,0.004334525205195));
res += mul(Get(s0,dx,dy), float4x4(-0.039366506040096,-0.022566549479961,0.032166443765163,0.002515800064430,-0.054897479712963,-0.012807855382562,-0.137413308024406,-0.001171306474134,-0.028958363458514,-0.036594357341528,0.008663676679134,-0.080116979777813,-0.003257836680859,-0.019684268161654,0.001249621389434,0.003797049168497));
res += mul(Get(s1,-dx,-dy), float4x4(0.000001067804078,-0.000000704021431,-0.000000676467323,-0.000000470177383,0.061899308115244,0.001665157382376,-0.022585170343518,-0.007228127680719,-0.000002482643822,-0.000012106770555,0.000001025566348,0.000001434188221,0.028715748339891,-0.012443782761693,0.004259245935827,-0.012048296630383));
res += mul(Get(s1,-dx,0), float4x4(-0.000000531704927,-0.000002681533715,-0.000003785655508,0.000001890428280,-0.164107143878937,0.035412129014730,0.046989653259516,-0.016022888943553,0.000003670118076,-0.000012035520740,0.000001720701789,0.000001207447099,0.087211847305298,-0.083324581384659,0.015060809440911,0.002223283983767));
res += mul(Get(s1,-dx,dy), float4x4(0.000001033111857,-0.000000754245264,-0.000002068046797,0.000001731372890,-0.005401149392128,0.013174812309444,0.042350690811872,0.065191857516766,0.000001372166935,-0.000004857238764,0.000002098993491,0.000003710072860,0.001527532585897,0.021258244290948,0.022078750655055,0.044269032776356));
res += mul(Get(s1,0,-dy), float4x4(-0.000000437109776,-0.000002185582161,0.000000602319744,-0.000000236539421,0.049839887768030,-0.012930032797158,0.021744560450315,0.049029354006052,-0.000004936531695,-0.000008523497854,0.000005733512353,0.000001559942007,-0.030469046905637,0.007289308123291,-0.013832615688443,0.009351371787488));
res += mul(Get(s1,0,0), float4x4(-0.000003128688832,-0.000000941228052,0.000004162278856,0.000002203134045,-0.004357835743576,0.091165512800217,-0.023112067952752,-0.088252335786819,0.000002707495696,-0.000004325957889,0.000003340325748,0.000005736634193,0.078992411494255,0.042930506169796,-0.004728887695819,-0.002422895049676));
res += mul(Get(s1,0,dy), float4x4(-0.000004093072675,-0.000001310386892,0.000001235568220,0.000003071796527,-0.015077202580869,-0.063409678637981,-0.053087443113327,0.010844917967916,0.000000992214041,-0.000004055656063,0.000005150568541,0.000003562486881,-0.015653526410460,0.028790347278118,-0.108147844672203,-0.028751006349921));
res += mul(Get(s1,dx,-dy), float4x4(-0.000002975895768,-0.000002028014023,0.000000545644923,-0.000000132793488,-0.101106896996498,0.030353445559740,-0.058141786605120,0.098131179809570,-0.000002935729981,-0.000012222276382,0.000007091268344,0.000000743324051,-0.022193163633347,-0.016749145463109,-0.040503125637770,0.023947864770889));
res += mul(Get(s1,dx,0), float4x4(-0.000000433719549,-0.000003549666189,-0.000000939830613,-0.000000497502299,-0.015686746686697,0.045728020370007,0.061392184346914,-0.047602996230125,0.000003492118140,-0.000006526126981,0.000002961961172,-0.000000398577555,0.022110706195235,-0.068773776292801,0.164340272545815,0.014960728585720));
res += mul(Get(s1,dx,dy), float4x4(-0.000001081868277,0.000000954080633,0.000000208531432,0.000000661889828,-0.005878214258701,0.092336937785149,-0.012099827639759,0.035114549100399,0.000002307653176,-0.000007947496670,0.000003280349574,0.000001510771540,-0.038044612854719,-0.039323851466179,-0.102392666041851,0.000516809406690));
res += mul(Get(s2,-dx,-dy), float4x4(0.001867552986369,-0.042751293629408,-0.002942488761619,-0.025007821619511,-0.111842416226864,0.116363316774368,-0.050872113555670,0.077777057886124,0.000026125428121,-0.000180438699317,-0.000124923826661,0.000077476383012,-0.000002021760338,-0.000000240089406,-0.000000825875816,0.000000262788546));
res += mul(Get(s2,-dx,0), float4x4(-0.051617074757814,-0.062370892614126,-0.006385533139110,-0.004528140649199,-0.191346809267998,-0.069972038269043,-0.085090786218643,-0.229285866022110,0.000033786724089,0.000302051630570,-0.000027074080208,0.000047026765969,-0.000001082403628,-0.000004439348231,-0.000001169807547,-0.000002319363830));
res += mul(Get(s2,-dx,dy), float4x4(0.046721760183573,-0.013120611198246,-0.051724378019571,-0.028973592445254,-0.126570627093315,-0.031068840995431,-0.052563253790140,-0.119540654122829,0.000012487184904,0.000287012633635,-0.000048936359235,-0.000088333334133,0.000000350672195,-0.000001326278152,0.000001853677418,-0.000000654575842));
res += mul(Get(s2,0,-dy), float4x4(0.006030382122844,-0.022177651524544,0.006074327509850,-0.047511275857687,-0.106316149234772,0.201437756419182,-0.108463913202286,0.143203526735306,0.000010123965694,-0.000222192000365,-0.000175072360435,0.000103369748103,-0.000000813598263,-0.000001178104981,-0.000001829723146,0.000001103847239));
res += mul(Get(s2,0,0), float4x4(-0.000358106917702,0.019080096855760,-0.003548081964254,-0.040965039283037,0.284939974546432,-0.192061319947243,-0.143344074487686,-0.155818760395050,0.000086007596110,0.000197001267225,-0.000048932983191,0.000056470598793,-0.000003072110985,0.000001538631977,-0.000000697550774,-0.000000451801611));
res += mul(Get(s2,0,dy), float4x4(0.002538004424423,0.003314072499052,0.080038279294968,-0.059337388724089,-0.140936717391014,-0.007925042882562,-0.013145240955055,0.199704468250275,-0.000014115358681,0.000227698561503,-0.000064404826844,-0.000080513986177,-0.000002697340051,0.000003841472790,-0.000000436745268,-0.000000948169657));
res += mul(Get(s2,dx,-dy), float4x4(0.021005878224969,-0.060877770185471,0.020381171256304,-0.043402925133705,-0.244054183363914,-0.116128504276276,0.179024606943130,0.240234404802322,-0.000023017504645,-0.000186430333997,-0.000205927441129,0.000046892044338,0.000000878979563,0.000002190680334,0.000001540907192,-0.000002143261327));
res += mul(Get(s2,dx,0), float4x4(0.040648642927408,0.026666760444641,-0.011511482298374,-0.035442829132080,0.249618142843246,0.127760499715805,0.189685121178627,-0.073492877185345,0.000078345728980,-0.000015844607333,-0.000090843001090,0.000052894341934,-0.000001725569632,0.000001785990889,-0.000002026328275,-0.000000940955886));
res += mul(Get(s2,dx,dy), float4x4(0.000802216934972,0.038612790405750,-0.063150443136692,-0.076034843921661,-0.162030547857285,-0.063531115651131,0.103701971471310,-0.099610812962055,-0.000015386605810,0.000095412717201,-0.000056412867707,-0.000064209460106,0.000003574972880,0.000001309414301,-0.000000347120789,0.000000891872446));
res += mul(Get(s3,-dx,-dy), float4x4(-0.000003880520126,-0.000000010971663,0.000004811568033,-0.000002656882543,-0.000058320023527,-0.000074354145909,-0.000141187876579,0.000073701361543,-0.000002545406460,0.000001862295335,-0.000016213421986,0.000001334847866,-0.000001641638391,0.000000890894967,0.000000390090975,-0.000001442044891));
res += mul(Get(s3,-dx,0), float4x4(0.000000749699723,0.000001977172133,-0.000002615291578,-0.000000133423555,-0.000058895679103,-0.000076648102549,-0.000178264977876,0.000073748196883,-0.000006934715657,0.000002969070238,-0.000013628339730,0.000001535313004,-0.000003069141940,0.000001103651471,-0.000001317844067,-0.000000280804983));
res += mul(Get(s3,-dx,dy), float4x4(-0.000000005567285,0.000000689507829,0.000000759296881,0.000001369262122,-0.000017079664758,-0.000055447490013,-0.000207281351322,0.000164459299413,-0.000001822374543,0.000009406323443,-0.000011014849406,0.000003523688292,0.000000029344120,0.000001127377118,-0.000000003569223,0.000000460323832));
res += mul(Get(s3,0,-dy), float4x4(-0.000001317678425,0.000000305391978,-0.000000419733652,-0.000002491997520,0.000091782050731,0.000409474654589,-0.000040688624722,-0.000176398491021,-0.000006400171969,0.000003069106924,-0.000007002578059,-0.000000838026835,0.000000381964441,0.000001186034069,0.000000131520707,0.000005491515367));
res += mul(Get(s3,0,0), float4x4(0.000000672781425,0.000001146125669,-0.000001467353513,0.000001152757932,0.000024583567210,0.000137838695082,-0.000107183645014,0.000254041573498,-0.000004019438620,0.000005701710052,-0.000006296881111,0.000001810199137,0.000001794706236,-0.000000596088285,0.000001592338776,0.000002054467814));
res += mul(Get(s3,0,dy), float4x4(-0.000001373427722,0.000000972689463,-0.000001491975354,0.000001198157747,-0.000049642108934,-0.000025338536943,-0.000140284566442,0.000741013442166,-0.000001441234076,0.000011214177903,-0.000004345424713,0.000001957625045,-0.000001649207547,0.000000632453919,0.000001111656275,0.000004040382009));
res += mul(Get(s3,dx,-dy), float4x4(0.000001492911338,-0.000002825943739,0.000000866456446,-0.000001552678100,-0.000005589911780,0.000249565084232,0.000045780743676,-0.000249175325735,0.000002713662752,0.000007928689229,-0.000010492993169,-0.000004932135198,0.000001383264134,-0.000003918065431,-0.000000604720640,0.000000721629590));
res += mul(Get(s3,dx,0), float4x4(0.000000074309263,0.000000035999186,0.000004031056051,-0.000002635693590,-0.000130869811983,0.000185665136087,0.000017769862097,-0.000236661318922,-0.000002158383722,0.000006428886991,-0.000005752937341,-0.000003419237828,0.000000098543566,-0.000002082736273,0.000002836820613,0.000000279557071));
res += mul(Get(s3,dx,dy), float4x4(-0.000002870015805,-0.000000785179225,-0.000001399664598,0.000000759868385,-0.000157017362653,0.000084926497948,0.000018220418497,-0.000146945385495,-0.000000697864380,0.000007128741800,-0.000004504808658,-0.000001087941428,-0.000001341257644,0.000002074936219,-0.000000081518294,0.000001060112368));
return max(float4(0,0,0,0), res);
}
