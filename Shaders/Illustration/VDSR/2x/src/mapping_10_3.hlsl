sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.030035443603992,0.109323248267174,-0.011996603570879,-0.050520975142717,0.055705450475216,-0.003518587909639,0.050722915679216,0.080888651311398,0.052333191037178,0.156653121113777,-0.074635326862335,-0.060506977140903,0.012374292127788,-0.068709246814251,-0.083891496062279,-0.105863548815250));
res += mul(Get(s0,-dx,0), float4x4(-0.065555147826672,-0.081172287464142,0.057453952729702,-0.078060545027256,0.156808003783226,-0.074937507510185,0.160456970334053,0.182825759053230,-0.057378299534321,0.030774716287851,-0.076843336224556,-0.032724995166063,-0.079925887286663,-0.001766143250279,-0.072642795741558,-0.149621397256851));
res += mul(Get(s0,-dx,dy), float4x4(0.033043928444386,0.311432898044586,0.100028403103352,-0.025258507579565,0.019318761304021,0.031874138861895,-0.028395671397448,-0.070644997060299,0.025075627490878,0.008874559774995,0.079555951058865,0.131224930286407,-0.066691130399704,0.039729222655296,-0.145560011267662,-0.114710755646229));
res += mul(Get(s0,0,-dy), float4x4(-0.133725658059120,0.052611168473959,-0.121403492987156,-0.043337821960449,-0.080116264522076,0.055566679686308,-0.005709267221391,-0.038998186588287,0.057853411883116,0.073863670229912,-0.062665708363056,-0.149017304182053,-0.036113947629929,-0.115447625517845,-0.077111124992371,-0.031967960298061));
res += mul(Get(s0,0,0), float4x4(-0.133381545543671,-0.120843730866909,0.064211502671242,0.066926896572113,-0.070781797170639,-0.054660722613335,-0.053835786879063,-0.022944914177060,-0.062687963247299,-0.024037433788180,-0.086995236575603,0.037538331001997,-0.074010632932186,0.010835620574653,-0.066318251192570,-0.071707449853420));
res += mul(Get(s0,0,dy), float4x4(-0.034020502120256,0.168347761034966,0.091815084218979,0.141356214880943,-0.023653835058212,0.027272252365947,-0.003806290449575,0.080990076065063,-0.060756161808968,-0.075242072343826,0.051232948899269,0.307662755250931,-0.005470506381243,-0.007969836704433,-0.042331457138062,0.165616169571877));
res += mul(Get(s0,dx,-dy), float4x4(0.013296359218657,0.063464701175690,0.121835365891457,-0.126580804586411,0.061635058373213,-0.043181017041206,0.078525662422180,-0.025354901328683,0.058994337916374,-0.063843436539173,0.005276348441839,-0.150480285286903,0.081546999514103,0.165416896343231,-0.022044083103538,-0.048296082764864));
res += mul(Get(s0,dx,0), float4x4(-0.014961174689233,-0.024418346583843,0.104215584695339,-0.137269586324692,-0.050965294241905,-0.024846337735653,-0.009798608720303,0.007595122791827,-0.114901341497898,-0.044629272073507,0.020942924544215,-0.028767090290785,-0.050405643880367,0.067412897944450,0.031790580600500,-0.062128379940987));
res += mul(Get(s0,dx,dy), float4x4(0.000292471289868,0.089335247874260,0.011567728593946,0.057804014533758,0.037356369197369,0.065075606107712,-0.026646839454770,-0.006215598899871,-0.039486005902290,-0.007875417359173,0.170857936143875,-0.023169318214059,-0.006892119068652,0.176390558481216,-0.052938494831324,-0.000781871320214));
res += mul(Get(s1,-dx,-dy), float4x4(-0.094563856720924,-0.086076177656651,-0.152361154556274,-0.066280573606491,0.016630835831165,-0.032975196838379,0.052679985761642,0.015051085501909,0.254577606916428,-0.194585874676704,0.037275560200214,-0.006912170909345,0.103071160614491,0.092729151248932,-0.105594359338284,0.029050685465336));
res += mul(Get(s1,-dx,0), float4x4(-0.001814810675569,0.302777409553528,-0.031304970383644,-0.062529683113098,-0.057422775775194,-0.065996930003166,-0.083566822111607,0.240581706166267,0.318906128406525,0.052535962313414,-0.011215583421290,0.037344347685575,0.127169996500015,-0.102612130343914,-0.170733645558357,0.004314033780247));
res += mul(Get(s1,-dx,dy), float4x4(-0.145673751831055,-0.069162800908089,-0.024323031306267,0.011583711951971,-0.127614557743073,-0.045012768357992,-0.171946883201599,-0.027724897488952,0.199713736772537,0.048321269452572,0.379071474075317,0.058906078338623,0.128580272197723,-0.003479174571112,-0.020146878436208,0.174926444888115));
res += mul(Get(s1,0,-dy), float4x4(0.065280906856060,0.069324426352978,-0.001377426437102,0.112418249249458,0.183277249336243,-0.009860070422292,0.028299836441875,0.012498229742050,-0.167297631502151,-0.184142500162125,0.001877875882201,0.015102323144674,-0.049373820424080,0.205785349011421,-0.074667952954769,0.064434014260769));
res += mul(Get(s1,0,0), float4x4(0.278517574071884,0.112846940755844,0.110643334686756,0.119159378111362,0.102435581386089,-0.057559821754694,0.027676099911332,0.108798846602440,-0.063928037881851,-0.042836461216211,-0.075441926717758,0.018330514431000,-0.056200902909040,-0.169296175241470,-0.030455252155662,0.045942667871714));
res += mul(Get(s1,0,dy), float4x4(0.184235349297523,-0.057047437876463,0.152356296777725,0.085109055042267,-0.024522058665752,0.004149056505412,-0.056467425078154,0.071403682231903,-0.145381480455399,-0.093959569931030,0.158770799636841,0.055308256298304,-0.058471735566854,-0.001813823590055,0.066483698785305,0.330177575349808));
res += mul(Get(s1,dx,-dy), float4x4(-0.213584616780281,0.042706254869699,-0.148974150419235,-0.058920256793499,-0.177347064018250,0.082123890519142,-0.049814488738775,-0.030110180377960,0.032447025179863,-0.097014233469963,0.116205364465714,-0.030764278024435,-0.048616603016853,-0.077947281301022,-0.002232312457636,-0.038701057434082));
res += mul(Get(s1,dx,0), float4x4(-0.159393191337585,0.137143731117249,-0.197706311941147,-0.081693999469280,-0.120861530303955,-0.084434032440186,-0.023639746010303,0.064859502017498,0.017729680985212,0.004085138440132,0.031049443408847,-0.053438033908606,-0.036716837435961,-0.065147385001183,0.053446516394615,-0.015036198310554));
res += mul(Get(s1,dx,dy), float4x4(-0.211523801088333,-0.050959911197424,-0.040093310177326,-0.027478799223900,-0.197705700993538,-0.131716951727867,-0.021807439625263,0.068227514624596,0.014739469625056,-0.015358162112534,0.046615533530712,-0.127832978963852,0.006800853181630,0.004680996295065,0.031987234950066,0.005450020078570));
res += mul(Get(s2,-dx,-dy), float4x4(0.104892402887344,0.004203366581351,0.091086655855179,0.014460526406765,-0.144250020384789,0.169991686940193,-0.116276003420353,-0.047290060669184,0.129743382334709,-0.025447644293308,-0.179392546415329,-0.104089014232159,-0.071671932935715,0.011240362189710,-0.041139859706163,-0.149079039692879));
res += mul(Get(s2,-dx,0), float4x4(0.082662738859653,-0.050829537212849,0.063702665269375,-0.131243824958801,-0.097097992897034,0.479019284248352,-0.158110186457634,0.178818643093109,0.025348877534270,0.075328558683395,-0.118388138711452,-0.019152350723743,-0.067458085715771,-0.074106030166149,-0.006643881089985,-0.156086847186089));
res += mul(Get(s2,-dx,dy), float4x4(0.081050522625446,0.144355595111847,-0.019565183669329,-0.135561108589172,-0.072519764304161,-0.140991598367691,-0.128282278776169,-0.053824830800295,0.004296703729779,0.117861114442348,-0.077507339417934,0.134802445769310,0.006386323366314,0.173130124807358,0.075140014290810,-0.004132841713727));
res += mul(Get(s2,0,-dy), float4x4(-0.134990066289902,-0.020459700375795,0.131610408425331,0.150591835379601,-0.086131945252419,-0.064390741288662,-0.116606444120407,-0.046823609620333,0.114655256271362,-0.046150896698236,-0.034216493368149,-0.057264965027571,0.149833589792252,0.047223828732967,0.050481881946325,0.093774572014809));
res += mul(Get(s2,0,0), float4x4(-0.115127332508564,-0.140874445438385,0.143835902214050,-0.068748161196709,-0.149695709347725,-0.060410238802433,-0.057513058185577,-0.026124812662601,-0.017519738525152,-0.014763482846320,-0.204668462276459,-0.012657608836889,-0.142039075493813,-0.054577093571424,-0.110196031630039,-0.040229778736830));
res += mul(Get(s2,0,dy), float4x4(-0.127092286944389,0.578689634799957,0.120498351752758,0.072900690138340,-0.133163049817085,-0.115531101822853,-0.004328170791268,0.018578013405204,0.012745056301355,0.016727872192860,-0.147368118166924,0.192731842398643,-0.024227969348431,0.091066725552082,-0.006542525254190,0.115182414650917));
res += mul(Get(s2,dx,-dy), float4x4(0.132097959518433,0.051062494516373,0.093692019581795,-0.128564998507500,0.096855811774731,0.010482082143426,0.102189362049103,-0.051028396934271,0.290768921375275,-0.104322910308838,0.063789471983910,0.034640874713659,0.079036556184292,-0.011833271943033,-0.046767458319664,0.122610688209534));
res += mul(Get(s2,dx,0), float4x4(0.203806966543198,-0.024231385439634,0.026892893016338,-0.029526194557548,-0.039046846330166,0.162959277629852,0.216392129659653,-0.012079088948667,0.007321790792048,-0.054075554013252,-0.066364184021950,0.005997798871249,-0.063060723245144,-0.044202674180269,0.017793880775571,0.052869446575642));
res += mul(Get(s2,dx,dy), float4x4(0.242709383368492,0.012002686038613,-0.044915098696947,-0.016262192279100,-0.099745690822601,-0.023215766996145,0.075411759316921,-0.054198008030653,0.024099253118038,0.100623674690723,-0.123795807361603,0.095557115972042,-0.074810750782490,0.173371180891991,0.098138242959976,0.047231465578079));
res += mul(Get(s3,-dx,-dy), float4x4(-0.043326690793037,0.021778032183647,-0.036533433943987,0.075133554637432,0.094079963862896,0.043188709765673,-0.083072721958160,-0.132776215672493,0.157052323222160,0.030890513211489,0.012300623580813,-0.059136629104614,0.054515291005373,-0.074503101408482,0.022181285545230,-0.066633783280849));
res += mul(Get(s3,-dx,0), float4x4(0.042333886027336,0.252835810184479,0.037868563085794,0.076311431825161,-0.062436994165182,0.000101387508039,-0.133648753166199,-0.120422124862671,0.001363835763186,0.082488760352135,-0.030995747074485,0.094214715063572,0.060804173350334,-0.011947500519454,-0.145421847701073,-0.173971846699715));
res += mul(Get(s3,-dx,dy), float4x4(-0.164140820503235,-0.182650864124298,0.108431965112686,0.002243416383862,-0.076480641961098,-0.059755835682154,0.018480474129319,0.023686235770583,0.051231361925602,0.037701494991779,-0.021384585648775,0.143313810229301,0.121585778892040,-0.032072797417641,0.146759212017059,-0.044218134135008));
res += mul(Get(s3,0,-dy), float4x4(-0.130769416689873,0.042840477079153,-0.059725042432547,-0.113406226038933,0.081126630306244,-0.027650810778141,-0.057651042938232,-0.037512030452490,0.093524828553200,-0.010886863805354,-0.098912939429283,-0.142715021967888,0.071650147438049,-0.195194855332375,-0.018271811306477,-0.000009853680240));
res += mul(Get(s3,0,0), float4x4(-0.045468226075172,-0.073418460786343,-0.057549938559532,-0.006984126288444,-0.116092100739479,-0.027297612279654,-0.050654336810112,-0.055254783481359,-0.054886996746063,0.000146975362441,-0.035154849290848,-0.030707806348801,0.017943060025573,0.041761215776205,0.009713250212371,-0.059157591313124));
res += mul(Get(s3,0,dy), float4x4(-0.080045402050018,-0.037724360823631,-0.042477305978537,0.048078708350658,-0.029000384733081,-0.078446477651596,0.006493045948446,0.019721474498510,-0.037311788648367,0.010414734482765,0.049083761870861,0.221186548471451,-0.063282832503319,0.004218655638397,0.137413352727890,0.174374029040337));
res += mul(Get(s3,dx,-dy), float4x4(-0.107175149023533,-0.081573866307735,-0.037015087902546,-0.002092374255881,-0.055126637220383,-0.074105970561504,0.149685710668564,0.022817160934210,0.035005044192076,-0.094007380306721,0.149291366338730,0.067508116364479,0.177224993705750,-0.119155794382095,0.083803333342075,-0.052984133362770));
res += mul(Get(s3,dx,0), float4x4(0.005745470058173,-0.018171496689320,-0.041892692446709,0.046207185834646,0.000953957787715,-0.068444527685642,0.206658557057381,-0.087447248399258,-0.058867890387774,-0.049137461930513,0.115513391792774,0.061674166470766,0.349042594432831,-0.057676579803228,0.135734200477600,-0.035414744168520));
res += mul(Get(s3,dx,dy), float4x4(-0.014134902507067,-0.002966667991132,0.130773544311523,-0.105924099683762,-0.070946961641312,-0.062713943421841,0.233114391565323,0.052502866834402,-0.105048604309559,0.040797416120768,0.001877496601082,0.027749089524150,0.182088002562523,-0.132544770836830,0.080871306359768,0.000782484770752));
return max(float4(0,0,0,0), res);
}
