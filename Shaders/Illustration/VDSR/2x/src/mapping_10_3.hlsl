sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.008279249072075,-0.062094785273075,-0.047821067273617,0.210557624697685,0.086133450269699,0.119006864726543,0.122175171971321,-0.124133192002773,0.072141021490097,-0.076155774295330,0.051508206874132,0.043391011655331,0.152642324566841,0.131113201379776,0.035785090178251,-0.060424763709307));
res += mul(Get(s0,-dx,0), float4x4(0.009250670671463,-0.094815224409103,-0.214800983667374,0.036454461514950,-0.041150741279125,0.018774934113026,-0.099985376000404,0.015345234423876,-0.075626216828823,0.095876492559910,-0.148059666156769,-0.040648471564054,-0.077218368649483,-0.159824967384338,-0.048495069146156,0.015267071314156));
res += mul(Get(s0,-dx,dy), float4x4(0.113302238285542,-0.016687909141183,0.049807455390692,0.013427264988422,-0.052132092416286,0.143591463565826,0.050684235990047,0.039779804646969,-0.208797454833984,-0.105433836579323,0.053596735000610,-0.044921658933163,-0.108006432652473,-0.114276438951492,-0.099615722894669,-0.119691401720047));
res += mul(Get(s0,0,-dy), float4x4(-0.058136519044638,-0.151342272758484,0.210718914866447,0.157179206609726,0.067536331713200,-0.192068502306938,0.102674081921577,0.050124205648899,0.074609689414501,0.031342402100563,-0.140558794140816,0.061135936528444,0.225299790501595,-0.145764663815498,0.045012265443802,0.153037026524544));
res += mul(Get(s0,0,0), float4x4(-0.041851446032524,-0.027478409931064,0.005681040696800,0.101997494697571,0.146805673837662,-0.084946304559708,0.004688490182161,0.112314820289612,-0.176830738782883,0.091114006936550,0.025777047500014,-0.083178617060184,-0.001137306098826,-0.225022509694099,-0.106637418270111,0.053885385394096));
res += mul(Get(s0,0,dy), float4x4(0.003991004545242,-0.007712977472693,0.053676221519709,0.015471581369638,-0.133756160736084,0.020462810993195,0.028612550348043,-0.032861176878214,0.075678430497646,0.144745782017708,0.003506191307679,-0.018147747963667,-0.044651493430138,0.042269475758076,-0.081200607120991,0.087097808718681));
res += mul(Get(s0,dx,-dy), float4x4(0.121233887970448,-0.013021610677242,0.100639358162880,-0.056036606431007,0.086785770952702,-0.098854005336761,0.079122766852379,0.045602310448885,-0.066360309720039,-0.032101813703775,-0.051832929253578,-0.057311091572046,0.131012976169586,0.028437815606594,0.001618132810108,-0.079333990812302));
res += mul(Get(s0,dx,0), float4x4(-0.010956514626741,0.041285652667284,0.031782072037458,0.045962817966938,-0.100820057094097,0.074866726994514,0.102610439062119,-0.094793103635311,-0.002305978210643,0.202807441353798,0.029973603785038,-0.011601693928242,0.120682299137115,-0.011004279367626,-0.173552587628365,0.084252797067165));
res += mul(Get(s0,dx,dy), float4x4(0.183367699384689,-0.072185352444649,0.099796436727047,-0.042648721486330,0.010226707905531,-0.223019078373909,0.010601219721138,0.233735695481300,-0.068928278982639,-0.042397849261761,0.081284098327160,0.077007994055748,-0.123788326978683,0.004837176762521,-0.021255077794194,-0.045904528349638));
res += mul(Get(s1,-dx,-dy), float4x4(0.067908026278019,-0.189546510577202,-0.176227048039436,0.028501773253083,0.197364643216133,-0.085439637303352,-0.189551398158073,-0.152844905853271,-0.100395657122135,0.009720379486680,-0.127452418208122,-0.091183893382549,0.011908281594515,-0.105378918349743,-0.040923997759819,-0.030156185850501));
res += mul(Get(s1,-dx,0), float4x4(0.065694764256477,0.108286306262016,0.151613041758537,-0.005658103618771,-0.020950505509973,-0.115508221089840,-0.010034742765129,-0.080999873578548,-0.126776933670044,-0.016302380710840,-0.067673549056053,-0.009838345460594,-0.116811312735081,0.041899695992470,0.207577094435692,-0.045434169471264));
res += mul(Get(s1,-dx,dy), float4x4(-0.005803592037410,-0.087005972862244,0.015232040546834,-0.016799231991172,-0.158091112971306,-0.034320972859859,-0.049734193831682,-0.175250008702278,0.025112494826317,-0.048353664577007,0.143770009279251,-0.153900206089020,0.118140444159508,-0.028983073309064,-0.033456854522228,-0.082114391028881));
res += mul(Get(s1,0,-dy), float4x4(0.012317425571382,0.008299970999360,0.022700419649482,0.094533413648605,0.042159482836723,-0.101411685347557,0.124858029186726,-0.122288413345814,-0.001649120938964,-0.147311121225357,-0.045578174293041,-0.061533540487289,0.113128677010536,0.131078004837036,-0.163564831018448,0.000362719845725));
res += mul(Get(s1,0,0), float4x4(-0.164192900061607,0.059664476662874,0.009733664803207,-0.028800686821342,-0.006120143923908,0.043117668479681,-0.120114371180534,-0.153521373867989,-0.001955690560862,-0.006247758399695,-0.040628455579281,0.032540909945965,0.070557944476604,0.072801917791367,0.025496006011963,0.073818586766720));
res += mul(Get(s1,0,dy), float4x4(-0.010094949044287,0.002984089776874,0.130096644163132,-0.027943171560764,-0.043882846832275,-0.014588208869100,0.043662320822477,0.019112173467875,0.054659489542246,-0.043636605143547,-0.049428172409534,-0.143412813544273,-0.103780701756477,-0.023875299841166,-0.083897963166237,0.010462702251971));
res += mul(Get(s1,dx,-dy), float4x4(0.049297053366899,0.031839191913605,0.000995710492134,-0.030732806771994,0.102720849215984,-0.006126881577075,-0.061523988842964,-0.064023561775684,0.128619983792305,0.037212911993265,0.119121298193932,-0.012968957424164,-0.080307483673096,-0.125273957848549,-0.191653385758400,-0.043050181120634));
res += mul(Get(s1,dx,0), float4x4(0.053062468767166,0.019182786345482,0.104672938585281,0.017020691186190,-0.039841551333666,0.038562797009945,-0.094628311693668,-0.018871156498790,-0.075238563120365,0.055251576006413,0.184694647789001,0.169418931007385,-0.057731024920940,0.017428539693356,0.007821898907423,-0.046330809593201));
res += mul(Get(s1,dx,dy), float4x4(0.026926510035992,0.028851348906755,0.076533198356628,-0.261178821325302,-0.241597533226013,0.054108217358589,0.009343677200377,-0.000655849173199,0.095311023294926,-0.046806063503027,-0.098414584994316,0.099376320838928,-0.083067618310452,-0.071293137967587,0.043008554726839,0.049497466534376));
res += mul(Get(s2,-dx,-dy), float4x4(-0.045811880379915,-0.037896081805229,-0.091938279569149,0.083410091698170,0.074082843959332,-0.020559960976243,-0.082164473831654,0.032958433032036,-0.030551696196198,0.051977589726448,0.050164468586445,-0.057079698890448,-0.122437499463558,0.105728149414063,0.021165804937482,0.061020046472549));
res += mul(Get(s2,-dx,0), float4x4(-0.006884726230055,-0.053081203252077,-0.156800702214241,-0.139558807015419,0.130797520279884,0.036705341190100,-0.009299513883889,0.188587486743927,0.054340779781342,0.086703658103943,0.007700095884502,-0.043550945818424,0.002967098494992,-0.005912919063121,-0.071525409817696,-0.019356191158295));
res += mul(Get(s2,-dx,dy), float4x4(-0.048570062965155,-0.081208638846874,-0.187633842229843,0.063746802508831,-0.052344493567944,0.074770703911781,0.007358782459050,0.107640355825424,0.108926281332970,-0.017859075218439,-0.066814258694649,0.104210481047630,0.199748203158379,0.050210352987051,-0.021656390279531,0.002807709621266));
res += mul(Get(s2,0,-dy), float4x4(0.192560136318207,-0.115437552332878,0.118199929594994,0.054547224193811,-0.024269420653582,-0.065363898873329,-0.098481804132462,0.003667714074254,0.101417958736420,0.101168602705002,-0.089552901685238,-0.121206007897854,-0.015592873096466,-0.004826852120459,-0.027408991008997,0.089186847209930));
res += mul(Get(s2,0,0), float4x4(0.078990131616592,-0.003843349637464,0.057035390287638,-0.099692016839981,-0.055003691464663,-0.013862559571862,0.028941497206688,0.099613294005394,0.036475136876106,0.068578168749809,-0.162171259522438,0.110153265297413,0.278879731893539,-0.047531064599752,0.096843168139458,0.039986915886402));
res += mul(Get(s2,0,dy), float4x4(-0.087051771581173,-0.020774690434337,0.087019801139832,0.025566486641765,-0.241603285074234,0.033616703003645,-0.003185142530128,-0.081869870424271,-0.176273748278618,-0.024599209427834,-0.105797007679939,0.067905321717262,0.085489384829998,-0.005720362532884,-0.009173084050417,0.215221971273422));
res += mul(Get(s2,dx,-dy), float4x4(0.122169218957424,0.134972512722015,-0.095480978488922,-0.059781555086374,0.115599997341633,-0.023995047435164,-0.018051639199257,-0.079262740910053,0.061603162437677,-0.099037244915962,-0.184416919946671,-0.026762332767248,0.017882648855448,0.049700092524290,-0.006290437187999,0.066134892404079));
res += mul(Get(s2,dx,0), float4x4(0.125346243381500,-0.055816311389208,0.066775716841221,0.002510963706300,0.030783597379923,-0.006774113047868,0.151907071471214,-0.151840925216675,-0.008430359885097,0.040506374090910,-0.028518062084913,-0.067784197628498,-0.044260963797569,-0.039186388254166,0.023966375738382,0.087543636560440));
res += mul(Get(s2,dx,dy), float4x4(0.040671214461327,-0.069591850042343,-0.103542976081371,0.147170543670654,-0.049941997975111,0.101047560572624,-0.124348811805248,0.133415326476097,-0.065721198916435,-0.008808175101876,0.017182089388371,-0.035420268774033,-0.083965443074703,-0.057880569249392,0.022013762965798,0.044317785650492));
res += mul(Get(s3,-dx,-dy), float4x4(-0.009726024232805,0.064453825354576,-0.312450855970383,-0.052477672696114,-0.120801791548729,0.028033111244440,0.060610324144363,0.182871446013451,0.040728121995926,0.001643962808885,-0.046657234430313,0.058695238083601,0.076928131282330,-0.108749262988567,-0.109691023826599,-0.058815859258175));
res += mul(Get(s3,-dx,0), float4x4(-0.050709195435047,-0.077786102890968,-0.167437791824341,-0.012147359549999,0.098926521837711,-0.123439475893974,-0.069735914468765,0.182385966181755,0.019261602312326,0.028373816981912,-0.085330769419670,0.019936950877309,-0.061733867973089,0.017487889155746,-0.145163387060165,0.014476723968983));
res += mul(Get(s3,-dx,dy), float4x4(-0.167331799864769,-0.112118557095528,-0.001052596024238,-0.191846072673798,-0.177989915013313,0.008133981376886,-0.025680946186185,-0.032240524888039,-0.067063353955746,-0.081528447568417,0.069334752857685,-0.027302665635943,0.028751658275723,-0.054259646683931,0.075712576508522,0.027492254972458));
res += mul(Get(s3,0,-dy), float4x4(-0.006317587103695,0.001148753915913,0.074478298425674,-0.052928652614355,0.172320559620857,-0.113963015377522,-0.060119975358248,0.070978537201881,0.023448923602700,-0.006193065084517,-0.008058107458055,-0.082825504243374,-0.007681711111218,-0.232058048248291,0.120262287557125,-0.111615329980850));
res += mul(Get(s3,0,0), float4x4(0.178374513983727,-0.104986235499382,-0.066596366465092,-0.250001847743988,-0.077527359127998,-0.090163186192513,0.005159271880984,-0.054625418037176,0.054198972880840,0.188210010528564,0.001724826288410,-0.147423386573792,-0.151195898652077,0.089678309857845,0.043870959430933,0.015558914281428));
res += mul(Get(s3,0,dy), float4x4(0.030816968530416,-0.130179047584534,0.018895991146564,-0.009765657596290,-0.075590118765831,-0.072827130556107,0.006600140128285,0.079674690961838,-0.011549718677998,0.091722100973129,0.154813125729561,-0.011255525052547,-0.047362275421619,-0.011155259795487,0.173795953392982,-0.139440998435020));
res += mul(Get(s3,dx,-dy), float4x4(0.015501714311540,0.006393848452717,-0.127452760934830,-0.048298962414265,-0.018146263435483,-0.208152294158936,-0.096103496849537,-0.070452548563480,0.114685729146004,-0.041686262935400,-0.030560487881303,0.147141709923744,0.085334599018097,0.070540376007557,-0.139988601207733,-0.066594973206520));
res += mul(Get(s3,dx,0), float4x4(-0.041252046823502,0.042506694793701,-0.197265177965164,-0.325160831212997,0.022674927487969,0.050368633121252,0.237483054399490,0.016039727255702,-0.047721315175295,-0.066149167716503,-0.085640951991081,0.225780427455902,-0.068076856434345,-0.028793890029192,-0.120334044098854,0.009949774481356));
res += mul(Get(s3,dx,dy), float4x4(-0.120276838541031,-0.051657542586327,0.010127773508430,-0.116051882505417,0.089240327477455,-0.154356554150581,-0.021739916875958,-0.016195977106690,0.104063749313354,-0.013581913895905,-0.055563148111105,0.081105858087540,-0.007224267814308,-0.050657045096159,0.073648601770401,-0.023852309212089));
return max(float4(0,0,0,0), res);
}
