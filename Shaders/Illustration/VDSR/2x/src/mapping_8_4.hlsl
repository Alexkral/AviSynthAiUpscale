sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.055753197520971,-0.032785207033157,0.126086518168449,0.059708658605814,-0.124958254396915,-0.132923156023026,0.050817660987377,-0.024222208186984,0.125834509730339,0.086481824517250,0.039266619831324,-0.099501639604568,0.028489612042904,0.083155848085880,0.055403124541044,-0.083080306649208));
res += mul(Get(s0,-dx,0), float4x4(-0.248950049281120,-0.090947225689888,0.079797051846981,0.202775686979294,0.105010904371738,0.052485220134258,-0.077123314142227,-0.085399851202965,-0.135680928826332,-0.033994033932686,-0.033279806375504,0.061989836394787,-0.144224122166634,0.106403902173042,0.153691649436951,-0.060502901673317));
res += mul(Get(s0,-dx,dy), float4x4(0.073463968932629,0.187324941158295,0.115870669484138,0.014639372937381,-0.037152826786041,-0.044122144579887,0.049796354025602,-0.145310789346695,0.182418227195740,-0.140716657042503,0.302996128797531,-0.086131460964680,-0.155579566955566,-0.063095487654209,-0.049680136144161,-0.043369002640247));
res += mul(Get(s0,0,-dy), float4x4(-0.154875949025154,0.095273561775684,-0.075123548507690,-0.099914260208607,-0.264943838119507,0.073590829968452,-0.013807287439704,0.074320979416370,-0.054004240781069,0.070006221532822,-0.053655423223972,-0.005019773263484,-0.079594165086746,-0.024886578321457,-0.084064103662968,0.095763050019741));
res += mul(Get(s0,0,0), float4x4(-0.210411757230759,0.039030008018017,-0.148034974932671,-0.093334123492241,0.090782746672630,0.004906204063445,0.105933852493763,0.054820876568556,-0.021318089216948,0.102169059216976,-0.016748899593949,0.245640248060226,-0.070658177137375,-0.045906752347946,-0.007253567222506,0.000911351293325));
res += mul(Get(s0,0,dy), float4x4(-0.041054800152779,0.143651962280273,-0.198549807071686,-0.114233709871769,-0.084755182266235,-0.128283157944679,0.009871781803668,-0.163514524698257,0.043495420366526,0.109710581600666,0.219459310173988,-0.016810093075037,0.165494173765182,0.006731705274433,-0.080436706542969,-0.046162720769644));
res += mul(Get(s0,dx,-dy), float4x4(0.128826707601547,-0.081191420555115,0.178916573524475,0.056774202734232,-0.131826013326645,0.063486769795418,0.208608493208885,-0.202870726585388,0.151563897728920,-0.071729794144630,0.146094888448715,-0.092930473387241,-0.142489328980446,-0.240201130509377,-0.063037283718586,-0.013531011529267));
res += mul(Get(s0,dx,0), float4x4(0.151713937520981,0.012487781234086,0.096283964812756,0.035362258553505,-0.160893484950066,0.003578141098842,-0.120593503117561,-0.041423387825489,-0.082573182880878,-0.038971275091171,-0.146397367119789,0.006736090406775,0.283677071332932,-0.092961184680462,-0.090561196208000,-0.127229347825050));
res += mul(Get(s0,dx,dy), float4x4(0.127885013818741,0.010777909308672,0.074627734720707,0.006813814397901,-0.003477816702798,-0.022268176078796,0.049201175570488,-0.135651692748070,0.174770385026932,0.092872604727745,0.112886786460876,-0.145645037293434,-0.275328129529953,0.132456406950951,0.055163942277431,0.029773555696011));
res += mul(Get(s1,-dx,-dy), float4x4(-0.051785916090012,0.165971621870995,0.079750664532185,-0.074664376676083,0.093426145613194,-0.175461903214455,0.106523372232914,-0.115837693214417,0.020703006535769,-0.094920910894871,0.176039338111877,-0.039696503430605,0.050275389105082,-0.094138570129871,-0.018637929111719,-0.066448472440243));
res += mul(Get(s1,-dx,0), float4x4(-0.041008383035660,-0.082514628767967,0.025048147886992,0.045550014823675,-0.100985325872898,-0.136008009314537,0.272505044937134,0.093685761094093,-0.044242877513170,-0.080335654318333,0.047876928001642,0.164584875106812,0.053680039942265,-0.094907142221928,-0.088304281234741,0.199813529849052));
res += mul(Get(s1,-dx,dy), float4x4(0.032582327723503,-0.012799235060811,-0.227678507566452,-0.070043832063675,0.143322348594666,0.047256994992495,-0.047992937266827,-0.072877541184425,-0.147039785981178,-0.138340577483177,-0.186714425683022,-0.070471584796906,-0.051994275301695,-0.216388300061226,-0.078869946300983,0.055799826979637));
res += mul(Get(s1,0,-dy), float4x4(0.005366973113269,-0.247233688831329,0.059993840754032,-0.130362391471863,-0.007985127158463,0.018709538504481,-0.087784610688686,0.020141076296568,0.063390776515007,-0.214463293552399,-0.040647663176060,0.005631774198264,-0.003039950272068,0.137846365571022,-0.193141475319862,0.063040837645531));
res += mul(Get(s1,0,0), float4x4(-0.106690928339958,0.009259492158890,-0.215908035635948,-0.174452394247055,0.006185244303197,0.100809268653393,0.236052796244621,-0.004174290690571,0.022499660030007,-0.136866331100464,0.012639233842492,0.095745041966438,-0.078322663903236,-0.089061953127384,0.043431855738163,0.056449532508850));
res += mul(Get(s1,0,dy), float4x4(0.009798184968531,-0.008956474252045,-0.185221388936043,0.013872986659408,0.042771667242050,0.045496065169573,0.023728398606181,0.083103545010090,-0.000192861320102,-0.178848624229431,-0.067372590303421,0.042998928576708,0.028436096385121,-0.235109999775887,-0.174360379576683,0.097313709557056));
res += mul(Get(s1,dx,-dy), float4x4(-0.176852777600288,-0.057631347328424,0.070932269096375,-0.036260195076466,0.029394315555692,-0.000749534054194,0.088294230401516,-0.053226273506880,0.140431195497513,-0.041474070400000,-0.153402447700500,-0.119264274835587,-0.030063804239035,-0.035453282296658,0.071351200342178,-0.008116785436869));
res += mul(Get(s1,dx,0), float4x4(-0.065713256597519,-0.074794478714466,0.189593568444252,-0.105309285223484,0.237683847546577,-0.021680966019630,0.031001379713416,-0.000888002279680,0.112195022404194,-0.060665920376778,0.021149946376681,-0.218403324484825,0.184332132339478,0.054110150784254,0.001181952306069,0.003981842193753));
res += mul(Get(s1,dx,dy), float4x4(0.147159740328789,-0.062436018139124,-0.090589135885239,-0.144809916615486,0.017166804522276,-0.123596839606762,0.080788165330887,0.154049962759018,-0.099199198186398,-0.103489287197590,-0.089303195476532,-0.000204247437068,0.050324276089668,-0.081465125083923,0.039324458688498,0.000975628558081));
res += mul(Get(s2,-dx,-dy), float4x4(-0.034321509301662,-0.026950612664223,-0.073635429143906,0.111275315284729,0.011280595324934,-0.140854507684708,-0.074346214532852,0.050116587430239,0.094871103763580,0.027366260066628,-0.044318258762360,0.067228376865387,-0.159090265631676,0.188365757465363,-0.018408477306366,-0.028951389715075));
res += mul(Get(s2,-dx,0), float4x4(-0.071531936526299,0.009985409677029,0.040040992200375,0.048927441239357,-0.086081564426422,-0.072623759508133,0.192731082439423,-0.173365384340286,0.105029724538326,0.052919756621122,-0.112003684043884,-0.073302045464516,-0.004893117118627,0.150339484214783,-0.071480549871922,-0.063227400183678));
res += mul(Get(s2,-dx,dy), float4x4(-0.255841642618179,0.006030194927007,0.072807304561138,-0.054686456918716,-0.011898740194738,-0.068796031177044,-0.088319011032581,-0.142035216093063,0.057758003473282,-0.088232070207596,-0.037893082946539,-0.034934952855110,0.096327230334282,0.117973096668720,0.143142610788345,-0.020381277427077));
res += mul(Get(s2,0,-dy), float4x4(0.017110265791416,0.108685590326786,0.026633391156793,0.103666171431541,0.093963406980038,0.023362413048744,0.028020896017551,0.106885008513927,0.254124939441681,0.067109458148479,-0.015918636694551,-0.046446382999420,-0.119096495211124,0.020917357876897,0.129729256033897,-0.144934579730034));
res += mul(Get(s2,0,0), float4x4(-0.077290721237659,-0.148628860712051,0.017575703561306,0.033937390893698,-0.018081365153193,0.087537974119186,0.007545747328550,0.029745396226645,-0.128262609243393,-0.002303241752088,0.222473889589310,-0.066296100616455,-0.043001007288694,-0.041150663048029,0.117642492055893,0.101166583597660));
res += mul(Get(s2,0,dy), float4x4(0.022562272846699,0.111898429691792,0.003582170000300,-0.091998353600502,0.006604393012822,0.091401301324368,0.043377313762903,0.050855591893196,-0.086315155029297,-0.168475210666656,-0.145456805825233,-0.051812913268805,-0.144673764705658,0.049253784120083,0.067025035619736,-0.007150598336011));
res += mul(Get(s2,dx,-dy), float4x4(-0.143525451421738,0.145107105374336,-0.025865282863379,0.002520007081330,0.087900765240192,0.084707438945770,0.226392820477486,0.068626046180725,0.021633986383677,-0.059851389378309,0.201007992029190,0.025957258418202,-0.039974503219128,-0.056975431740284,-0.009630213491619,0.062518782913685));
res += mul(Get(s2,dx,0), float4x4(0.071847945451736,0.055175978690386,0.004340962506831,-0.105133935809135,-0.033968433737755,-0.010560895316303,-0.196135163307190,0.084544837474823,-0.044814717024565,0.006632015109062,0.030287111178041,-0.024403216317296,0.031233260408044,-0.076667703688145,0.032651036977768,0.007861166261137));
res += mul(Get(s2,dx,dy), float4x4(-0.066054753959179,-0.085581921041012,-0.046434566378593,-0.067163161933422,0.045539230108261,-0.019936155527830,-0.038363352417946,0.009940396063030,0.045194230973721,0.043182965368032,0.084055379033089,0.015994515269995,0.123906023800373,-0.180182546377182,0.078949369490147,-0.177776828408241));
res += mul(Get(s3,-dx,-dy), float4x4(0.158916577696800,0.124074220657349,0.004560555331409,-0.000600508647040,-0.074951402842999,0.069174855947495,-0.154354736208916,0.056238166987896,-0.025650404393673,0.148497536778450,-0.093409724533558,0.127018019556999,0.102073535323143,0.063799373805523,-0.024331714957952,0.161850482225418));
res += mul(Get(s3,-dx,0), float4x4(-0.013578264042735,-0.061841990798712,0.033693175762892,-0.049245711416006,-0.102241210639477,0.163395479321480,-0.179494410753250,0.043886560946703,-0.130957812070847,0.044146548956633,-0.087162941694260,0.142714440822601,0.042028103023767,0.161183953285217,-0.047436267137527,-0.190489038825035));
res += mul(Get(s3,-dx,dy), float4x4(-0.078330643475056,0.023447854444385,-0.173762276768684,-0.163984239101410,-0.036726661026478,0.025343732908368,0.070380151271820,0.027366314083338,0.038200344890356,0.012767594307661,0.136209487915039,0.076431736350060,-0.183440029621124,-0.048190247267485,0.113286562263966,-0.029347099363804));
res += mul(Get(s3,0,-dy), float4x4(-0.107242561876774,-0.170524731278419,0.167758330702782,0.100269213318825,-0.069791376590729,-0.132249176502228,0.038405485451221,0.103293597698212,-0.051731646060944,0.169661387801170,-0.058638691902161,0.061468370258808,-0.039619721472263,0.101950585842133,0.136478900909424,-0.054375294595957));
res += mul(Get(s3,0,0), float4x4(0.042580641806126,-0.024194523692131,0.091147862374783,-0.076350271701813,0.072678282856941,-0.039408236742020,-0.081914670765400,0.088951930403709,-0.087439142167568,-0.106638818979263,-0.157373040914536,0.025765400379896,0.192936226725578,-0.199192300438881,0.040374290198088,0.092212334275246));
res += mul(Get(s3,0,dy), float4x4(0.027463380247355,-0.091433644294739,-0.120034284889698,-0.055297069251537,0.003142774803564,0.022523831576109,-0.069825910031796,-0.050596654415131,0.065276496112347,-0.043582793325186,-0.167309388518333,-0.024590129032731,0.050819981843233,0.040325246751308,-0.004382968414575,0.032210204750299));
res += mul(Get(s3,dx,-dy), float4x4(0.004514737054706,-0.046789105981588,0.076173871755600,0.036555621773005,0.048407372087240,-0.112301722168922,0.052923291921616,-0.169989228248596,-0.117685541510582,-0.175505593419075,-0.028792068362236,-0.042350262403488,-0.061450466513634,-0.210933774709702,-0.072060465812683,-0.125357031822205));
res += mul(Get(s3,dx,0), float4x4(-0.019751412793994,-0.145095571875572,0.025838840752840,-0.066061593592167,0.151006758213043,0.140135928988457,-0.258947849273682,0.162065461277962,-0.263949006795883,-0.013740647584200,0.068721555173397,-0.057148206979036,-0.044673487544060,0.058952566236258,-0.057993397116661,0.076795414090157));
res += mul(Get(s3,dx,dy), float4x4(0.012054255232215,-0.048451986163855,-0.102825716137886,-0.064752586185932,-0.038058664649725,-0.035399205982685,-0.308972060680389,-0.062100112438202,0.161105707287788,0.001657246844843,-0.247931987047195,-0.053488589823246,-0.020292796194553,0.000053251354984,-0.032726235687733,0.118350192904472));
return max(float4(0,0,0,0), res);
}
