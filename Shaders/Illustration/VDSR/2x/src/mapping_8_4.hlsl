sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.066142231225967,0.079241849482059,-0.178104832768440,-0.002347496105358,0.022948071360588,-0.121279917657375,-0.098743215203285,0.053334742784500,-0.103956811130047,0.062830485403538,0.105337031185627,0.209706202149391,0.087758883833885,0.160874307155609,0.008586210198700,-0.020110048353672));
res += mul(Get(s0,-dx,0), float4x4(-0.094485834240913,0.052722718566656,0.013490020297468,0.053986802697182,-0.052786190062761,-0.050355672836304,-0.086299136281013,0.064553551375866,0.053610648959875,-0.028826555237174,0.007585180923343,0.121530100703239,0.083188086748123,-0.067766778171062,0.294067621231079,-0.143917217850685));
res += mul(Get(s0,-dx,dy), float4x4(-0.036091662943363,0.099327281117439,-0.115145221352577,-0.127680465579033,0.057483781129122,-0.035585984587669,0.034051239490509,0.113227665424347,-0.102040544152260,-0.033618047833443,0.009517326951027,0.221268475055695,-0.034806810319424,-0.101330332458019,-0.037597451359034,-0.109163567423820));
res += mul(Get(s0,0,-dy), float4x4(-0.013575667515397,-0.058284137398005,-0.144572004675865,0.155798092484474,-0.005275634583086,-0.042149074375629,-0.028069853782654,-0.061287663877010,-0.150658160448074,0.064360074698925,0.027991324663162,-0.080213360488415,0.032586775720119,-0.094109550118446,0.004023048561066,-0.018407236784697));
res += mul(Get(s0,0,0), float4x4(-0.090860508382320,-0.011622549034655,-0.043360441923141,0.073913395404816,0.028523150831461,0.053461700677872,-0.044501986354589,0.129798054695129,-0.022185826674104,-0.053468950092793,-0.102599062025547,-0.038042169064283,0.120549701154232,-0.111207015812397,0.108819000422955,0.067627474665642));
res += mul(Get(s0,0,dy), float4x4(-0.073458276689053,-0.008607666939497,-0.141786336898804,-0.069859296083450,-0.027744932100177,0.258101850748062,0.043532539159060,0.139074832201004,-0.116560384631157,0.046992413699627,-0.092931777238846,0.012368732132018,-0.079472273588181,-0.181896820664406,-0.157006070017815,0.003267508698627));
res += mul(Get(s0,dx,-dy), float4x4(0.048372074961662,0.026030767709017,-0.135296046733856,0.106959037482738,0.015019221231341,-0.048050343990326,-0.041448041796684,0.000525696494151,-0.013639276847243,0.057724017649889,0.187845736742020,-0.064546592533588,-0.049743928015232,0.049548696726561,-0.062330905348063,0.063272267580032));
res += mul(Get(s0,dx,0), float4x4(-0.036159131675959,0.053651973605156,-0.082633517682552,0.072647728025913,0.083609506487846,0.059943318367004,-0.106305353343487,0.073910303413868,0.348530590534210,-0.000260684493696,0.027362853288651,0.031120657920837,-0.108820512890816,0.152966216206551,-0.008247401565313,0.260866671800613));
res += mul(Get(s0,dx,dy), float4x4(-0.019653404131532,-0.048309892416000,-0.117807425558567,-0.082265034317970,0.084075324237347,0.007326372433454,0.087798282504082,0.141381099820137,-0.010940485633910,-0.020037081092596,-0.008118416182697,0.151111409068108,-0.032692186534405,0.136699110269547,-0.251017898321152,0.140766724944115));
res += mul(Get(s1,-dx,-dy), float4x4(0.028038803488016,0.039198324084282,0.115130536258221,-0.153132066130638,0.068641364574432,-0.006209624931216,-0.124414719641209,0.156178429722786,-0.167789101600647,-0.069387830793858,-0.053468022495508,0.063287444412708,-0.067997284233570,-0.014145793393254,0.300470143556595,-0.200316756963730));
res += mul(Get(s1,-dx,0), float4x4(-0.001075710868463,0.190128564834595,-0.014310162514448,-0.157078415155411,0.061275277286768,-0.045476034283638,-0.037517681717873,0.112753130495548,-0.022091375663877,-0.101911932229996,0.090336285531521,0.104827590286732,0.091496616601944,0.027803858742118,-0.020427206531167,-0.127963826060295));
res += mul(Get(s1,-dx,dy), float4x4(0.242572024464607,-0.067003242671490,-0.113335147500038,-0.112955003976822,0.060557950288057,-0.137829318642616,-0.104937396943569,-0.011098468676209,0.031100926920772,-0.127966418862343,-0.043354127556086,-0.094964042305946,-0.119562134146690,-0.001666083466262,0.111198045313358,-0.105696126818657));
res += mul(Get(s1,0,-dy), float4x4(-0.076871171593666,-0.121408425271511,-0.018484823405743,0.049908030778170,0.248044282197952,0.033655662089586,0.006648228969425,-0.027820989489555,0.038443461060524,0.411546617746353,-0.006520205643028,-0.023085024207830,0.049712274223566,-0.030909819528461,0.124717377126217,-0.122807323932648));
res += mul(Get(s1,0,0), float4x4(-0.047956977039576,0.080024525523186,-0.071452371776104,-0.038493677973747,-0.020890867337584,0.012928451411426,-0.004329665564001,0.024256434291601,0.035423818975687,0.074217371642590,0.175435915589333,0.088727742433548,0.262332230806351,-0.009321818128228,-0.070523627102375,-0.058864414691925));
res += mul(Get(s1,0,dy), float4x4(-0.012100047431886,-0.041234444826841,-0.043750680983067,0.038196407258511,0.059923481196165,-0.112547889351845,-0.009908712469041,-0.051528785377741,0.043400172144175,0.052209742367268,0.066919356584549,-0.042112931609154,0.094866514205933,-0.052384916692972,0.145637363195419,0.004128801636398));
res += mul(Get(s1,dx,-dy), float4x4(-0.008574387989938,0.029806382954121,-0.012312510050833,-0.023631833493710,0.177844882011414,-0.079274877905846,0.018142191693187,-0.012041616253555,0.370302528142929,0.006890473421663,-0.133055523037910,0.096968784928322,-0.069500461220741,-0.082181446254253,0.042005665600300,-0.002416126895696));
res += mul(Get(s1,dx,0), float4x4(-0.049624830484390,0.070800028741360,-0.034780740737915,0.088124573230743,-0.080481581389904,-0.060088887810707,-0.115941725671291,-0.086255274713039,0.017719080671668,-0.076805926859379,-0.157178238034248,-0.002861073240638,0.084920957684517,-0.051678664982319,0.085328310728073,0.090596757829189));
res += mul(Get(s1,dx,dy), float4x4(-0.074161149561405,0.012553625740111,-0.053645864129066,-0.122500374913216,0.111554391682148,-0.045569710433483,-0.055554106831551,-0.052344866096973,0.107186444103718,-0.032269459217787,-0.122258439660072,0.045856546610594,-0.089763648808002,-0.021930888295174,0.119778260588646,0.057318452745676));
res += mul(Get(s2,-dx,-dy), float4x4(-0.006525611504912,-0.068195909261703,0.064724281430244,0.174786821007729,-0.009024269878864,-0.093010745942593,0.107598118484020,-0.071277037262917,-0.062402624636889,0.059796620160341,0.094740912318230,0.068919248878956,0.047341477125883,0.153082326054573,0.106168404221535,-0.168122127652168));
res += mul(Get(s2,-dx,0), float4x4(-0.100866936147213,0.145386978983879,-0.100220501422882,0.026782808825374,0.041281428188086,-0.028374210000038,0.017130849882960,-0.019997797906399,-0.079593583941460,0.033372774720192,-0.151783198118210,0.006782094016671,-0.027522938326001,-0.017189847305417,-0.016309140250087,-0.077956087887287));
res += mul(Get(s2,-dx,dy), float4x4(-0.040290854871273,0.070293746888638,-0.023113887757063,-0.019223539158702,-0.039997629821301,-0.147716179490089,0.000188754027477,0.000074228548328,0.008959706872702,-0.027433967217803,-0.107996992766857,0.010112055577338,-0.212981626391411,-0.022508701309562,0.137023732066154,-0.079294279217720));
res += mul(Get(s2,0,-dy), float4x4(-0.053935967385769,0.092646040022373,-0.012754532508552,0.020046640187502,0.022376429289579,0.054869741201401,-0.049960430711508,-0.026978164911270,-0.033461589366198,-0.061436139047146,0.320929080247879,-0.044835940003395,-0.047203652560711,-0.012830278836191,0.132870718836784,-0.131078630685806));
res += mul(Get(s2,0,0), float4x4(-0.109526745975018,0.023455007001758,-0.003815365489572,0.027985068038106,0.045629773288965,0.019028922542930,-0.009894886985421,0.079427272081375,-0.122344352304935,-0.081929318606853,-0.018108297139406,-0.126531541347504,0.006093563977629,0.055715419352055,-0.043563060462475,0.032982684671879));
res += mul(Get(s2,0,dy), float4x4(-0.188853204250336,-0.094747275114059,0.016877911984921,-0.006271969992667,0.088163793087006,0.117864154279232,0.046452209353447,0.106199041008949,0.008264482952654,-0.035966604948044,0.008081573992968,-0.042172778397799,-0.064850561320782,-0.093827612698078,0.094318754971027,-0.098697043955326));
res += mul(Get(s2,dx,-dy), float4x4(0.183306053280830,0.020878612995148,0.027914941310883,-0.066909477114677,0.000934596348088,-0.050657290965319,0.061818767338991,0.013439348898828,-0.162932381033897,0.008397326804698,-0.167797416448593,-0.082496024668217,-0.107450723648071,0.001985051669180,-0.058709044009447,-0.020715856924653));
res += mul(Get(s2,dx,0), float4x4(0.005510090384632,-0.087552018463612,0.153961077332497,-0.033831071108580,-0.126974657177925,-0.017818080261350,-0.004375419113785,-0.096581466495991,-0.038261506706476,-0.053775355219841,-0.039008595049381,0.004403034225106,-0.034784104675055,-0.021090373396873,-0.026359863579273,-0.023823494091630));
res += mul(Get(s2,dx,dy), float4x4(0.001144755864516,-0.093734093010426,0.075435414910316,-0.013805137947202,0.127360805869102,0.036175139248371,-0.107818163931370,-0.213619247078896,-0.014253074303269,0.125564917922020,-0.144105166196823,-0.075775466859341,-0.175072401762009,-0.038653973490000,0.070552065968513,-0.140962138772011));
res += mul(Get(s3,-dx,-dy), float4x4(-0.051450740545988,0.077813267707825,-0.000108943480882,0.092305898666382,0.093271553516388,-0.108535438776016,0.119772672653198,0.105891995131969,0.067677982151508,-0.183759927749634,0.020209889858961,-0.080623500049114,0.026518803089857,0.055581096559763,-0.069453313946724,-0.023342285305262));
res += mul(Get(s3,-dx,0), float4x4(0.001284079626203,-0.018610589206219,-0.039936538785696,-0.076399490237236,0.013762997463346,0.152448087930679,-0.046854581683874,0.232025921344757,0.020752212032676,0.274137824773788,0.060577832162380,-0.004060762934387,-0.047876875847578,0.084893524646759,-0.037661027163267,0.080390945076942));
res += mul(Get(s3,-dx,dy), float4x4(-0.050676144659519,0.200287878513336,-0.049770604819059,0.013975670561194,0.134294271469116,-0.064059272408485,-0.002765071578324,0.126401260495186,0.090664602816105,0.051989506930113,-0.018205979838967,-0.046674322336912,-0.031189093366265,0.088386975228786,0.047196488827467,0.021965898573399));
res += mul(Get(s3,0,-dy), float4x4(0.045583408325911,-0.049667675048113,0.060279078781605,-0.047556720674038,-0.064283289015293,0.039316933602095,0.008837179280818,-0.031324785202742,0.013463392853737,-0.045066609978676,0.031175114214420,0.013826627284288,0.031169557943940,-0.041117351502180,0.113636367022991,-0.086899988353252));
res += mul(Get(s3,0,0), float4x4(0.012889002449811,-0.066180109977722,-0.071204893290997,0.108977444469929,-0.051337603479624,0.181930229067802,-0.160365924239159,-0.010197993367910,0.032180834561586,0.014695093035698,0.049012646079063,0.049773335456848,-0.095064386725426,-0.011262616142631,-0.055634722113609,0.000757515022997));
res += mul(Get(s3,0,dy), float4x4(-0.042203739285469,0.460497736930847,-0.016013097018003,-0.083914630115032,-0.108353897929192,-0.026582768186927,-0.086580425500870,0.162512794137001,-0.001431261771359,-0.015820156782866,0.056402191519737,-0.037909705191851,-0.024313252419233,0.010602715425193,-0.054266300052404,0.097850777208805));
res += mul(Get(s3,dx,-dy), float4x4(0.065582200884819,0.178259089589119,0.081157684326172,-0.041163422167301,0.072408333420753,0.011676469817758,0.009665902704000,0.007099629845470,0.061002198606730,-0.114905431866646,0.162162780761719,0.082555897533894,-0.036034531891346,-0.020410008728504,-0.024776611477137,0.057605884969234));
res += mul(Get(s3,dx,0), float4x4(0.117163613438606,-0.026151759549975,-0.045609608292580,0.013719001784921,0.012629111297429,-0.022334838286042,0.196683660149574,-0.011128637939692,0.148883759975433,0.018044939264655,0.049007039517164,0.118961729109287,0.074650846421719,0.005281712394208,-0.109803020954132,0.135931149125099));
res += mul(Get(s3,dx,dy), float4x4(-0.039011470973492,0.030454451218247,-0.000954711518716,-0.214316427707672,-0.044383868575096,-0.039440762251616,-0.002438931260258,-0.015992553904653,-0.031856119632721,-0.098332345485687,0.054611235857010,-0.011761323548853,-0.051537495106459,-0.054785236716270,-0.027245754376054,0.113601438701153));
return max(float4(0,0,0,0), res);
}
