sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.098538108170033,0.012910490855575,0.158896327018738,-0.098881110548973,0.121406607329845,0.056066621094942,-0.054087571799755,-0.014020947739482,-0.039320576936007,0.073958121240139,0.184719324111938,-0.146724194288254,-0.038663480430841,0.031713634729385,0.026841960847378,0.013186024501920));
res += mul(Get(s0,-dx,0), float4x4(-0.108208209276199,0.015471200458705,-0.105694994330406,-0.138485163450241,0.085479490458965,-0.029931325465441,-0.111496306955814,0.174760207533836,0.002210598904639,0.076728515326977,0.113614171743393,-0.093784004449844,-0.010355629958212,0.081393212080002,-0.086490385234356,-0.041261620819569));
res += mul(Get(s0,-dx,dy), float4x4(-0.163979336619377,0.049893025308847,-0.126766353845596,0.020128391683102,0.064493015408516,-0.022023037075996,0.037904623895884,0.006756663322449,0.026675853878260,0.108409412205219,-0.050156980752945,0.079875335097313,0.011256515048444,-0.026818091049790,0.055352874100208,-0.080370076000690));
res += mul(Get(s0,0,-dy), float4x4(0.009863522835076,-0.045062109827995,0.024368636310101,-0.083632096648216,-0.067095682024956,0.049085423350334,0.025641432031989,-0.079631224274635,0.036106694489717,0.032361898571253,0.038712497800589,-0.018374374136329,-0.006677888799459,0.024888416752219,0.030510611832142,0.059957295656204));
res += mul(Get(s0,0,0), float4x4(-0.226843625307083,-0.094196103513241,-0.214925795793533,0.043298851698637,-0.135270640254021,0.004823536146432,0.039165604859591,-0.112761497497559,0.099745988845825,-0.046046320348978,-0.011828045360744,-0.116638779640198,-0.059873566031456,-0.059394370764494,-0.043094150722027,0.109443478286266));
res += mul(Get(s0,0,dy), float4x4(-0.096369601786137,-0.028185509145260,-0.054831411689520,0.322247296571732,-0.024020336568356,-0.005066317040473,0.038205098360777,-0.052196986973286,0.056025270372629,0.019173501059413,-0.049666181206703,-0.060848344117403,-0.027202513068914,0.014324415475130,0.199212998151779,-0.028541924431920));
res += mul(Get(s0,dx,-dy), float4x4(0.076241329312325,-0.034211792051792,0.050080846995115,0.138919219374657,0.041752833873034,0.061274841427803,0.061767470091581,-0.062971919775009,-0.097214907407761,-0.027237977832556,0.021847272291780,-0.013393583707511,0.027796123176813,0.099060468375683,-0.014420502819121,-0.061033848673105));
res += mul(Get(s0,dx,0), float4x4(-0.020813541486859,-0.077389121055603,0.109048888087273,-0.008284502662718,-0.015311494469643,-0.005323154386133,-0.092749357223511,-0.049580670893192,0.049985252320766,0.012027680873871,-0.090496137738228,0.001908311736770,-0.103418178856373,0.113113217055798,0.139183595776558,-0.085418976843357));
res += mul(Get(s0,dx,dy), float4x4(0.012836299836636,-0.001525564235635,0.025868991389871,-0.248439311981201,-0.000013841028704,-0.178251907229424,0.070991851389408,0.014612697064877,0.112675890326500,-0.003949659876525,0.085124932229519,0.014094535261393,-0.040828239172697,0.042590577155352,0.002622299361974,-0.109808325767517));
res += mul(Get(s1,-dx,-dy), float4x4(0.044997997581959,-0.107634797692299,-0.009655952453613,-0.029660787433386,-0.079984523355961,-0.045228581875563,-0.059512615203857,0.030142284929752,-0.079971410334110,0.008776310831308,-0.129240483045578,0.010111713781953,-0.144523903727531,-0.090626366436481,0.027036590501666,-0.055277310311794));
res += mul(Get(s1,-dx,0), float4x4(0.055834580212831,0.035628892481327,0.019163344055414,-0.052303474396467,-0.069578818976879,-0.016213871538639,0.131729096174240,0.077107749879360,0.010165961459279,-0.112499900162220,-0.085950173437595,-0.013397471979260,-0.128438934683800,-0.157900497317314,-0.052072141319513,0.004643575288355));
res += mul(Get(s1,-dx,dy), float4x4(0.004726194310933,-0.078194774687290,-0.072556212544441,-0.058517057448626,-0.117410160601139,-0.019052747637033,-0.086668364703655,0.002989607164636,0.004157118964940,0.081747256219387,-0.107019968330860,0.140922114253044,-0.085134051740170,-0.004138942342252,0.039597120136023,-0.033106967806816));
res += mul(Get(s1,0,-dy), float4x4(0.046953774988651,-0.002540820743889,0.085214905440807,-0.063785970211029,-0.090156674385071,0.122114934027195,-0.016027709469199,-0.022776022553444,-0.072833985090256,0.160570114850998,-0.076989710330963,-0.116390757262707,0.051271982491016,-0.031480874866247,-0.064351998269558,0.001166744972579));
res += mul(Get(s1,0,0), float4x4(0.176808625459671,0.012167968787253,-0.089170292019844,-0.046029925346375,-0.033346951007843,0.119865067303181,0.138509377837181,0.053847059607506,-0.029343200847507,-0.063077114522457,-0.111953437328339,-0.155618011951447,0.064474612474442,-0.054059822112322,-0.115009516477585,-0.007133485283703));
res += mul(Get(s1,0,dy), float4x4(0.012832279317081,-0.009659226052463,-0.082363687455654,0.097465522587299,-0.108698450028896,0.007805802393705,-0.037489999085665,0.217792704701424,0.048661373555660,-0.122738473117352,-0.083732940256596,0.042933892458677,-0.006626373622566,0.019328828901052,-0.145400106906891,0.045859690755606));
res += mul(Get(s1,dx,-dy), float4x4(-0.004316072911024,0.194751739501953,0.077188938856125,-0.082315608859062,-0.126203104853630,0.148420035839081,-0.007711911574006,-0.108542501926422,-0.035855270922184,-0.164669647812843,-0.042537130415440,-0.135261356830597,0.147432327270508,-0.012543563731015,0.004672992974520,0.004816634580493));
res += mul(Get(s1,dx,0), float4x4(0.013844414614141,0.132525622844696,-0.001394066843204,0.044996008276939,-0.091808147728443,0.012390231713653,0.043538998812437,-0.104369431734085,-0.018222168087959,0.040536016225815,0.026386346668005,-0.052157662808895,-0.029512686654925,0.023183919489384,0.263626545667648,-0.021916847676039));
res += mul(Get(s1,dx,dy), float4x4(-0.134762555360794,-0.050929337739944,0.102193288505077,-0.206268861889839,-0.125829011201859,0.149803802371025,0.026205724105239,0.025593766942620,-0.106762737035751,-0.027604360133410,-0.022823337465525,0.067589826881886,-0.111940614879131,0.061064761132002,0.188268929719925,-0.044515207409859));
res += mul(Get(s2,-dx,-dy), float4x4(-0.050581365823746,-0.034672927111387,0.060712561011314,-0.124035879969597,-0.073321409523487,-0.029267666861415,-0.111562766134739,-0.049348589032888,0.005685759708285,-0.057646203786135,-0.026524115353823,-0.066612184047699,0.119646623730659,0.116954006254673,0.072820939123631,-0.123382903635502));
res += mul(Get(s2,-dx,0), float4x4(-0.026137158274651,-0.050393756479025,-0.049905255436897,0.181885302066803,0.011153774335980,-0.164020076394081,-0.221456959843636,0.132707208395004,0.020910294726491,0.043847545981407,0.022856850177050,0.028953818604350,0.035640969872475,-0.189067468047142,0.029110055416822,-0.000109110958874));
res += mul(Get(s2,-dx,dy), float4x4(-0.013365993276238,-0.055855125188828,0.054893009364605,0.021490361541510,-0.013659807853401,-0.016425877809525,-0.001080319401808,0.036631830036640,0.021274114027619,-0.025332525372505,0.044593993574381,0.002308153314516,0.071856580674648,-0.064798034727573,0.034390777349472,0.061450935900211));
res += mul(Get(s2,0,-dy), float4x4(0.182045936584473,-0.022747730836272,0.031755350530148,-0.036975156515837,-0.277024775743484,0.122039325535297,0.090783648192883,-0.043486636132002,0.013676871545613,0.024376939982176,-0.009049156680703,-0.126093193888664,-0.042846534401178,0.038552913814783,-0.011905724182725,0.063546009361744));
res += mul(Get(s2,0,0), float4x4(0.135550618171692,0.026166709139943,0.080223701894283,0.178816199302673,0.078504890203476,-0.142210453748703,0.262894988059998,-0.006832795217633,0.115366734564304,0.010015397332609,-0.039926175028086,0.071684539318085,-0.085164859890938,0.016629211604595,0.031829215586185,0.086595140397549));
res += mul(Get(s2,0,dy), float4x4(-0.014357350766659,-0.031429626047611,0.059838872402906,0.030181150883436,0.122992545366287,0.003080726135522,-0.076347440481186,0.030877770856023,0.000729086110368,0.065830521285534,-0.050525829195976,0.100193910300732,0.015254899859428,0.033492777496576,0.269139111042023,-0.323405742645264));
res += mul(Get(s2,dx,-dy), float4x4(0.083059549331665,0.022717408835888,-0.030259212478995,0.019690185785294,0.042593624442816,0.131463155150414,-0.071229010820389,-0.032681372016668,-0.001089646364562,-0.052961204200983,-0.111078023910522,0.105167694389820,-0.038862887769938,-0.017154382541776,0.069105662405491,-0.050048891454935));
res += mul(Get(s2,dx,0), float4x4(-0.007922294549644,-0.060064539313316,0.148636251688004,-0.065075837075710,0.066410623490810,-0.050105728209019,-0.040783502161503,-0.096788309514523,0.081192694604397,0.116578765213490,0.049925591796637,0.229656606912613,0.004025506321341,-0.137926861643791,-0.100911855697632,0.193356692790985));
res += mul(Get(s2,dx,dy), float4x4(0.030567700043321,-0.029097093269229,-0.108939848840237,0.069385707378387,-0.012881096452475,-0.018303008750081,-0.030160840600729,0.035044383257627,-0.090692229568958,0.071429483592510,0.116480290889740,-0.031982526183128,0.174833223223686,0.135249331593513,-0.037787824869156,0.227703571319580));
res += mul(Get(s3,-dx,-dy), float4x4(0.044300295412540,-0.059675835072994,-0.039766997098923,-0.056437887251377,-0.139911994338036,-0.168819084763527,-0.022393854334950,-0.020150383934379,0.046730011701584,0.041805416345596,-0.048195686191320,0.005476488266140,0.039470832794905,-0.079002678394318,0.056299149990082,-0.130401924252510));
res += mul(Get(s3,-dx,0), float4x4(-0.092242419719696,-0.134309142827988,-0.070586375892162,-0.002967727137730,-0.000759523245506,0.043041680008173,-0.003934077452868,-0.054188575595617,-0.015309295617044,0.057656630873680,-0.105555765330791,0.106348238885403,-0.003338388632983,-0.068197935819626,0.012441915459931,0.018773794174194));
res += mul(Get(s3,-dx,dy), float4x4(0.004023778252304,0.007631416898221,-0.140918463468552,0.035880088806152,0.045360065996647,0.106305025517941,-0.099813818931580,-0.003672712948173,-0.084710523486137,0.064611874520779,-0.052255384624004,0.105836510658264,-0.028830306604505,-0.061093155294657,0.027567103505135,0.063325107097626));
res += mul(Get(s3,0,-dy), float4x4(-0.069042041897774,-0.061632715165615,-0.091169022023678,0.116732768714428,-0.059439644217491,0.159296661615372,0.079921789467335,-0.098333142697811,0.019770927727222,-0.003641385352239,-0.150763228535652,0.084092438220978,0.156029090285301,-0.055304232984781,0.024076037108898,-0.114774413406849));
res += mul(Get(s3,0,0), float4x4(-0.021520055830479,0.044842537492514,-0.061916023492813,0.055621542036533,-0.100981935858727,0.026176091283560,-0.086515501141548,0.163969218730927,-0.046822331845760,-0.089345246553421,-0.014888313598931,-0.043973319232464,-0.034475963562727,-0.074701577425003,-0.137518152594566,0.051838617771864));
res += mul(Get(s3,0,dy), float4x4(0.025286415591836,-0.028117962181568,-0.073067657649517,0.025657888501883,-0.081719450652599,0.025471452623606,-0.048276279121637,0.055041201412678,-0.001917209476233,0.113595709204674,0.096545383334160,-0.013714210130274,-0.043165598064661,-0.077662192285061,-0.008088156580925,0.004079501144588));
res += mul(Get(s3,dx,-dy), float4x4(-0.087852768599987,-0.053611490875483,-0.013189282268286,0.020388083532453,-0.057789295911789,0.100466474890709,0.000632876472082,0.009190435521305,-0.011853983625770,0.040062960237265,-0.082447864115238,0.008063154295087,-0.053983282297850,-0.090573549270630,0.109386295080185,-0.130864426493645));
res += mul(Get(s3,dx,0), float4x4(-0.097787328064442,0.241467744112015,0.101974204182625,0.066739089787006,0.089957557618618,-0.062821790575981,-0.023999441415071,0.110103353857994,-0.072783954441547,0.033114738762379,-0.010612410493195,-0.051540296524763,0.085471898317337,-0.153051838278770,0.035430654883385,-0.027153650298715));
res += mul(Get(s3,dx,dy), float4x4(-0.091557949781418,0.012707368470728,0.043218631297350,-0.115985043346882,0.018430735915899,-0.165126577019691,-0.006344453897327,-0.157576680183411,-0.094943210482597,-0.007315224036574,0.017662573605776,0.334570497274399,-0.031489767134190,-0.020508538931608,-0.021763557568192,0.142811134457588));
return max(float4(0,0,0,0), res);
}
