sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.091849386692047,0.048648901283741,-0.077260106801987,-0.044154256582260,-0.091581538319588,0.099309489130974,0.109777539968491,0.003299015574157,-0.066374816000462,-0.136368468403816,-0.041015759110451,-0.004032813478261,0.163684606552124,0.040423322468996,-0.094093292951584,0.080173768103123));
res += mul(Get(s0,-dx,0), float4x4(-0.172660514712334,-0.123428054153919,0.039356436580420,0.129195243120193,0.136774376034737,0.027753319591284,0.112396962940693,-0.181287989020348,-0.067935906350613,0.000002724296110,0.001178925274871,-0.090044245123863,-0.040830902755260,0.018564043566585,0.176291465759277,-0.114178381860256));
res += mul(Get(s0,-dx,dy), float4x4(0.023174038156867,0.019702555611730,-0.127456843852997,-0.027768919244409,-0.036777492612600,-0.081295967102051,-0.035994555801153,0.014836654067039,0.165383815765381,-0.025435127317905,-0.062824264168739,-0.043787762522697,-0.070690713822842,-0.089640289545059,0.019212782382965,0.060626097023487));
res += mul(Get(s0,0,-dy), float4x4(-0.115932762622833,0.062548801302910,0.174390062689781,-0.189924374222755,-0.063147284090519,0.029984030872583,-0.024033783003688,0.025242710486054,0.068710707128048,0.014501214027405,-0.093043796718121,0.010607143864036,0.063640065491199,-0.007087169680744,-0.062177482992411,0.026354083791375));
res += mul(Get(s0,0,0), float4x4(-0.042883995920420,-0.047069590538740,0.093918561935425,0.111050635576248,-0.196638554334641,-0.041240859776735,0.039002347737551,-0.037892594933510,0.129621297121048,-0.242409929633141,-0.005628877319396,0.015372218564153,-0.055211551487446,-0.100239634513855,0.093394674360752,0.147123545408249));
res += mul(Get(s0,0,dy), float4x4(-0.087926529347897,-0.045069321990013,-0.056816767901182,-0.056583415716887,-0.010085398331285,0.036047946661711,-0.055931143462658,-0.046077620238066,-0.268401861190796,0.059614747762680,-0.032423872500658,-0.152313575148582,0.234980702400208,-0.074034348130226,0.094749726355076,0.028646415099502));
res += mul(Get(s0,dx,-dy), float4x4(0.085235625505447,-0.018734384328127,-0.002750549931079,-0.216467544436455,-0.110598035156727,0.029981959611177,0.133643686771393,0.035359214991331,-0.024548305198550,0.030096132308245,-0.028405716642737,0.037012729793787,0.092077754437923,0.141065165400505,-0.081997729837894,-0.083945110440254));
res += mul(Get(s0,dx,0), float4x4(-0.069141320884228,0.070616558194160,-0.017329813912511,-0.127907276153564,-0.164801731705666,-0.063920669257641,0.039102591574192,-0.061852738261223,-0.017765220254660,-0.015875978395343,0.043850347399712,-0.010769153945148,0.227587684988976,-0.191385313868523,0.020074360072613,-0.179869577288628));
res += mul(Get(s0,dx,dy), float4x4(0.023915410041809,0.049773164093494,0.066331304609776,0.152268275618553,-0.096947237849236,-0.102492660284042,-0.146307826042175,-0.104656949639320,-0.032946370542049,-0.040182512253523,0.176225349307060,0.061842959374189,0.060209158807993,-0.106722719967365,-0.156478881835938,-0.053936645388603));
res += mul(Get(s1,-dx,-dy), float4x4(-0.022185813635588,0.181731805205345,-0.339539259672165,-0.123035833239555,-0.081725038588047,0.122625552117825,0.236652806401253,-0.128198608756065,-0.048128545284271,-0.075621061027050,-0.068316295742989,-0.066435232758522,0.184023544192314,0.060529619455338,-0.064740993082523,-0.062255080789328));
res += mul(Get(s1,-dx,0), float4x4(0.119291305541992,-0.015937047079206,-0.045997034758329,0.000102946825791,-0.061136167496443,-0.027548745274544,0.030711892992258,0.029829217121005,0.036464255303144,0.103235907852650,-0.202180162072182,-0.257242292165756,0.061737280339003,-0.060497127473354,0.010037305764854,0.119879327714443));
res += mul(Get(s1,-dx,dy), float4x4(-0.028298038989305,0.011784206144512,-0.092536926269531,-0.114548228681087,-0.098983213305473,-0.096559420228004,0.037337254732847,-0.045281883329153,0.111279636621475,0.060249034315348,-0.100038625299931,-0.129093766212463,-0.009412102401257,-0.151764929294586,0.002910583512858,0.164038240909576));
res += mul(Get(s1,0,-dy), float4x4(0.006609085481614,0.029911508783698,-0.055122327059507,-0.119498446583748,-0.133464470505714,-0.038481026887894,0.131989419460297,-0.013600266538560,-0.005834467243403,0.053264103829861,0.010279320180416,0.122774869203568,0.113230019807816,0.012350946664810,0.022667136043310,-0.178752139210701));
res += mul(Get(s1,0,0), float4x4(-0.065780684351921,-0.260332792997360,0.036100760102272,0.090172708034515,0.016920570284128,0.025737553834915,-0.096951723098755,0.047662761062384,0.032130986452103,-0.022686034440994,0.042286306619644,0.064957708120346,-0.085005424916744,-0.147508531808853,0.169520601630211,0.151010200381279));
res += mul(Get(s1,0,dy), float4x4(-0.067818820476532,0.160311505198479,0.157299533486366,0.274707257747650,-0.041068535298109,-0.085834026336670,0.295158088207245,0.093187287449837,-0.260587453842163,-0.019216241315007,0.029007378965616,0.000660291756503,-0.046839863061905,0.088611699640751,0.226214215159416,-0.017632348462939));
res += mul(Get(s1,dx,-dy), float4x4(0.036280985921621,0.015117391943932,0.082989431917667,-0.062739536166191,0.104359492659569,0.062675304710865,-0.080882295966148,-0.212678879499435,-0.044535282999277,-0.130159959197044,-0.047623004764318,0.069059267640114,0.064912661910057,-0.135933175683022,-0.067206792533398,0.044103175401688));
res += mul(Get(s1,dx,0), float4x4(0.077068157494068,-0.146205857396126,0.107826828956604,-0.104298777878284,-0.064538218080997,0.043890915811062,0.114222727715969,-0.089261628687382,0.021069776266813,0.105732373893261,-0.015368118882179,-0.139427363872528,-0.059804055839777,0.084456056356430,0.077552631497383,0.124207139015198));
res += mul(Get(s1,dx,dy), float4x4(0.124991938471794,-0.021332196891308,-0.048383325338364,-0.197688013315201,0.070169210433960,0.136245548725128,0.095069512724876,-0.133392661809921,0.017396973446012,-0.021860625594854,0.175893098115921,-0.025432894006371,-0.266143769025803,0.128391653299332,-0.097908839583397,-0.080651476979256));
res += mul(Get(s2,-dx,-dy), float4x4(0.070805937051773,0.137956365942955,-0.137974277138710,0.239949896931648,0.009851224720478,-0.048849474638700,0.035188391804695,-0.034911032766104,-0.047213897109032,0.052673120051622,-0.041129540652037,0.120318852365017,0.022621158510447,0.105557799339294,0.013210349716246,0.184122398495674));
res += mul(Get(s2,-dx,0), float4x4(-0.152323335409164,0.031236127018929,0.155632600188255,-0.141104087233543,-0.061483275145292,-0.117118276655674,-0.136209309101105,0.027514724060893,-0.016434120014310,-0.028884213417768,-0.011154942214489,0.139373332262039,-0.107035458087921,0.054709009826183,-0.027982566505671,-0.116555407643318));
res += mul(Get(s2,-dx,dy), float4x4(-0.127875939011574,0.150570780038834,0.127291128039360,0.066671364009380,-0.195851966738701,-0.230328723788261,-0.049458786845207,0.286283195018768,0.030008725821972,0.155908688902855,0.020959243178368,-0.028959704563022,0.016542784869671,-0.042614113539457,-0.008297137916088,0.042992103844881));
res += mul(Get(s2,0,-dy), float4x4(0.032154887914658,-0.003731189761311,-0.040673084557056,0.189630180597305,0.055863410234451,-0.001207055640407,0.160657227039337,0.046927876770496,0.100949838757515,0.040422659367323,0.048698082566261,-0.171155214309692,-0.116335585713387,-0.124173462390900,-0.095917940139771,0.039898168295622));
res += mul(Get(s2,0,0), float4x4(-0.057309124618769,-0.016861544921994,0.053134977817535,-0.149422600865364,0.358417510986328,-0.261750638484955,-0.117937304079533,0.158707320690155,-0.001216966193169,-0.038041900843382,0.060115750879049,-0.119074776768684,0.163284853100777,-0.054376449435949,0.123024068772793,0.189119577407837));
res += mul(Get(s2,0,dy), float4x4(-0.084441408514977,-0.037980146706104,0.140503630042076,0.015033392235637,0.098833754658699,-0.016167880967259,-0.062929242849350,0.044877264648676,0.092891953885555,0.075922869145870,0.076791457831860,-0.096516169607639,-0.042554136365652,0.034921925514936,-0.141145482659340,0.027261082082987));
res += mul(Get(s2,dx,-dy), float4x4(-0.169282406568527,0.033823527395725,-0.074820637702942,-0.001024571247399,0.023347610607743,0.112490922212601,-0.031187506392598,-0.056724648922682,0.014330872334540,0.063581921160221,-0.073909327387810,0.042511451989412,-0.188464328646660,0.003404592163861,0.049926646053791,-0.033761642873287));
res += mul(Get(s2,dx,0), float4x4(-0.086551956832409,-0.039210896939039,-0.111761890351772,0.024609491229057,0.136136919260025,-0.111234687268734,-0.035099744796753,0.125573322176933,0.066523984074593,0.175140261650085,0.041734453290701,0.202036261558533,0.003022319404408,0.038026720285416,-0.014695233665407,0.008085996843874));
res += mul(Get(s2,dx,dy), float4x4(-0.231473252177238,-0.001379662775435,-0.029914252460003,0.109001338481903,0.063328035175800,0.037898868322372,-0.036552462726831,0.120216377079487,-0.041637193411589,-0.127735048532486,0.177578032016754,-0.033792167901993,-0.120076268911362,-0.015292171388865,-0.017008287832141,-0.234304204583168));
res += mul(Get(s3,-dx,-dy), float4x4(-0.104591973125935,-0.025812093168497,-0.025645762681961,-0.031742066144943,-0.202184960246086,-0.061957862228155,-0.151481151580811,0.163244426250458,0.057528782635927,0.137836128473282,0.030388830229640,-0.181093752384186,-0.077237881720066,0.106498643755913,0.076864488422871,-0.040829863399267));
res += mul(Get(s3,-dx,0), float4x4(0.052920702844858,0.059073958545923,0.125446915626526,-0.048199139535427,-0.046121243387461,-0.016859762370586,0.027725392952561,0.012729126028717,-0.034332986921072,-0.033916380256414,-0.058100219815969,-0.041210528463125,0.007641265168786,0.021276140585542,-0.026065452024341,0.008076583966613));
res += mul(Get(s3,-dx,dy), float4x4(0.028227629140019,0.060709744691849,-0.016904098913074,0.016436738893390,-0.038589753210545,0.067735560238361,0.008971186354756,-0.254476457834244,0.144109800457954,0.087693415582180,0.069216474890709,0.025374939665198,-0.073108687996864,0.077312134206295,-0.005608163308352,0.026743860915303));
res += mul(Get(s3,0,-dy), float4x4(0.131533548235893,0.107307597994804,0.002771372441202,0.063518390059471,-0.017750402912498,-0.083248279988766,-0.018621232360601,0.196217238903046,0.059418693184853,0.009592915885150,0.023089403286576,0.374217808246613,0.134712174534798,-0.014939463697374,-0.021169269457459,0.148279681801796));
res += mul(Get(s3,0,0), float4x4(0.037881281226873,-0.194746434688568,0.038155261427164,-0.010710380040109,-0.064148537814617,0.123915985226631,0.033039808273315,0.281139284372330,0.087185487151146,0.139121562242508,0.130982458591461,0.229794263839722,-0.022493684664369,0.063176892697811,-0.056935623288155,0.011553077958524));
res += mul(Get(s3,0,dy), float4x4(0.133381992578506,-0.104382567107677,0.163325861096382,0.150306388735771,0.022930968552828,-0.112473510205746,0.017497995868325,-0.133021950721741,-0.012813239358366,0.129387870430946,0.001894740154967,0.009116588160396,-0.112737871706486,0.017813913524151,-0.098037362098694,0.189733803272247));
res += mul(Get(s3,dx,-dy), float4x4(0.078016303479671,0.012922413647175,-0.217395246028900,0.063888698816299,-0.014515402726829,0.138902172446251,-0.031667843461037,0.006319322623312,0.021978173404932,0.110202282667160,0.007742363959551,0.073844462633133,0.021131770685315,0.026058925315738,-0.061504080891609,0.063352674245834));
res += mul(Get(s3,dx,0), float4x4(0.169633269309998,0.094593361020088,0.126062884926796,0.039398368448019,0.187531918287277,-0.057218469679356,0.034725815057755,0.143066540360451,0.140136241912842,0.149382367730141,-0.001612115185708,-0.166551724076271,-0.077593758702278,-0.049531973898411,0.096586577594280,0.080232031643391));
res += mul(Get(s3,dx,dy), float4x4(0.006175044924021,-0.066695027053356,0.084065698087215,-0.024855623021722,-0.123368062078953,0.112933784723282,0.065859757363796,-0.222986891865730,-0.085451103746891,0.084686219692230,-0.029012134298682,-0.255365490913391,-0.148539513349533,0.111959919333458,0.216628611087799,-0.098178811371326));
return max(float4(0,0,0,0), res);
}
