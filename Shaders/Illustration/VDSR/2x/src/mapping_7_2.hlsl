sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.085050702095032,0.029653569683433,0.099867925047874,-0.023743545636535,-0.068637199699879,0.042157694697380,0.009162287227809,-0.008748987689614,0.000279276282527,-0.124757744371891,0.047389216721058,0.106079272925854,0.038380678743124,0.095241270959377,-0.037250179797411,0.149001881480217));
res += mul(Get(s0,-dx,0), float4x4(-0.264926761388779,0.063012100756168,0.240878105163574,0.015650033950806,-0.169135168194771,-0.085395827889442,0.023868340998888,0.122467443346977,-0.033015742897987,0.047693561762571,0.163120374083519,-0.012447675690055,0.010670904070139,0.015785187482834,0.053061999380589,0.066461063921452));
res += mul(Get(s0,-dx,dy), float4x4(-0.135841384530067,0.078125327825546,-0.076871663331985,0.048178650438786,0.106045044958591,-0.077524699270725,0.045888822525740,-0.126101359724998,-0.046691637486219,0.132613137364388,-0.129881396889687,0.029857881367207,-0.007727241609246,-0.032643970102072,0.063011065125465,0.043804030865431));
res += mul(Get(s0,0,-dy), float4x4(0.286534130573273,0.000281793647446,-0.055793657898903,0.060503933578730,0.066400587558746,-0.233895048499107,0.015372382476926,-0.012407752685249,0.008471691980958,-0.129486709833145,-0.108752623200417,0.075454205274582,-0.048881117254496,-0.073361635208130,-0.099200412631035,0.121845431625843));
res += mul(Get(s0,0,0), float4x4(0.050010994076729,0.008997202850878,0.053600367158651,-0.019401861354709,0.189884796738625,-0.108680374920368,-0.095957748591900,-0.069077536463737,0.145709842443466,0.001413399237208,-0.125643163919449,-0.068557038903236,-0.139921531081200,0.029874488711357,0.269700795412064,-0.144653171300888));
res += mul(Get(s0,0,dy), float4x4(-0.104935020208359,-0.188696920871735,-0.058882754296064,0.032927509397268,0.180902093648911,-0.123127803206444,0.189282551407814,-0.044935509562492,-0.074673429131508,-0.044321727007627,0.159911319613457,-0.030981935560703,0.036470707505941,-0.014990365132689,0.021103810518980,0.122850015759468));
res += mul(Get(s0,dx,-dy), float4x4(0.039969000965357,-0.150824636220932,-0.119659744203091,0.195861652493477,0.022507604211569,-0.175707563757896,-0.098557099699974,0.249579548835754,-0.013064658269286,-0.109376631677151,0.061586268246174,0.230244591832161,-0.209138587117195,0.023955343291163,-0.074048444628716,-0.208709061145782));
res += mul(Get(s0,dx,0), float4x4(0.070632994174957,0.222738429903984,0.059565596282482,0.010162704624236,0.029083596542478,-0.049199536442757,0.068526662886143,-0.000551627774257,0.097172051668167,-0.064269840717316,0.006987504661083,0.002114576520398,-0.174704477190971,0.300496369600296,0.204826503992081,-0.155717328190804));
res += mul(Get(s0,dx,dy), float4x4(-0.217648565769196,0.068171493709087,0.021920934319496,0.067135021090508,0.051653891801834,-0.044523242861032,0.027189370244741,-0.017441770061851,0.107747644186020,-0.195179328322411,-0.172926470637321,0.068668909370899,-0.180878683924675,-0.074815697968006,0.106044694781303,-0.062714971601963));
res += mul(Get(s1,-dx,-dy), float4x4(-0.044799018651247,0.117827184498310,-0.089545533061028,-0.017781440168619,-0.099656477570534,-0.000655951269437,-0.155048072338104,0.010704038664699,-0.154583692550659,0.012846084311604,-0.219222307205200,-0.009930094704032,-0.056991893798113,0.244838431477547,0.105290383100510,0.074769914150238));
res += mul(Get(s1,-dx,0), float4x4(-0.092073269188404,0.131851881742477,-0.105388469994068,-0.207004293799400,0.014599771238863,0.046145644038916,-0.092227004468441,-0.055753760039806,0.223589003086090,-0.043943472206593,0.125647515058517,-0.039802506566048,-0.210266888141632,-0.002662357874215,0.035803098231554,0.037228420376778));
res += mul(Get(s1,-dx,dy), float4x4(-0.062620624899864,-0.094292327761650,0.012984612956643,0.046683389693499,-0.120042569935322,0.057604972273111,0.087670236825943,-0.063838012516499,-0.072676271200180,-0.009268286637962,0.106162749230862,-0.029409702867270,-0.017394030466676,0.006166770122945,0.039008598774672,-0.053309943526983));
res += mul(Get(s1,0,-dy), float4x4(0.033503238111734,-0.099331393837929,0.049114942550659,-0.087593205273151,0.020615499466658,-0.134952530264854,-0.084849670529366,-0.065108381211758,0.062293443828821,0.131250247359276,0.030553074553609,0.108099155128002,0.009291531518102,-0.137395754456520,-0.014063316397369,0.109743818640709));
res += mul(Get(s1,0,0), float4x4(0.061607465147972,0.052609909325838,0.082080490887165,-0.155684143304825,-0.028345927596092,-0.076413907110691,0.066741786897182,-0.005128235556185,0.158677190542221,0.062321145087481,0.091656431555748,-0.057322904467583,0.118356809020042,0.127067029476166,-0.040855340659618,0.030666833743453));
res += mul(Get(s1,0,dy), float4x4(-0.033730912953615,0.104096546769142,0.197450876235962,-0.061975609511137,0.104224197566509,0.135133519768715,-0.061538111418486,0.102895915508270,0.010163622908294,0.076006613671780,-0.010359659790993,0.015129861421883,0.054013438522816,0.057322461158037,0.068343490362167,-0.045055203139782));
res += mul(Get(s1,dx,-dy), float4x4(0.011823645792902,-0.093405783176422,0.182745203375816,-0.128462478518486,0.105918131768703,0.027136912569404,-0.266470044851303,0.120156615972519,-0.014629762619734,0.088968567550182,-0.176611885428429,0.061119087040424,0.068685628473759,0.018326109275222,-0.016227940097451,-0.043481707572937));
res += mul(Get(s1,dx,0), float4x4(0.223076149821281,0.195292785763741,0.050879977643490,-0.076391801238060,0.059177737683058,0.051088191568851,-0.236332625150681,-0.064724504947662,0.065597914159298,0.087842665612698,-0.018505031242967,-0.104634635150433,-0.053054034709930,0.062369991093874,0.160828381776810,-0.049783669412136));
res += mul(Get(s1,dx,dy), float4x4(-0.221548974514008,0.065745539963245,0.095608524978161,0.009171443991363,-0.049016613513231,0.142433747649193,0.069485545158386,-0.011637900024652,-0.041672449558973,-0.072788432240486,-0.061874654144049,-0.147872775793076,0.127142399549484,0.083488427102566,-0.001639339956455,-0.112749077379704));
res += mul(Get(s2,-dx,-dy), float4x4(0.119073264300823,-0.026132540777326,-0.138425290584564,0.315040320158005,-0.075113192200661,-0.010589506477118,-0.162741646170616,0.027585148811340,-0.079197548329830,0.121670484542847,-0.191784873604774,-0.010517181828618,0.284786313772202,-0.184702649712563,-0.061699967831373,-0.090178743004799));
res += mul(Get(s2,-dx,0), float4x4(0.003553876653314,-0.258173137903214,0.018769713118672,-0.175356119871140,-0.184256866574287,-0.009047929197550,-0.035609789192677,0.078821308910847,-0.059173546731472,0.072775103151798,-0.115037515759468,-0.055533405393362,0.027564940974116,0.082171633839607,-0.090148508548737,-0.153613120317459));
res += mul(Get(s2,-dx,dy), float4x4(0.029722528532147,-0.056526180356741,0.092394188046455,0.052999906241894,-0.130248948931694,0.106513164937496,0.005698640365154,-0.006699333898723,0.057765159755945,-0.091401457786560,-0.025338424369693,-0.046705860644579,0.165883049368858,0.187881410121918,-0.052191477268934,-0.033432219177485));
res += mul(Get(s2,0,-dy), float4x4(-0.162720501422882,-0.079442098736763,-0.080941006541252,-0.034762185066938,0.067130431532860,-0.105274192988873,0.199632346630096,-0.105442792177200,0.008948143571615,0.052422676235437,-0.038064572960138,-0.119681790471077,0.236330419778824,0.021979758515954,0.020946308970451,0.054955013096333));
res += mul(Get(s2,0,0), float4x4(-0.097580455243587,0.006554528139532,0.095033653080463,-0.167470678687096,-0.106903180480003,0.127381771802902,0.103596583008766,-0.147035330533981,-0.094207406044006,-0.053096264600754,0.032773248851299,0.059442330151796,0.108338452875614,0.015690615400672,0.002231485443190,0.092142194509506));
res += mul(Get(s2,0,dy), float4x4(0.069416657090187,-0.084704622626305,-0.050292689353228,0.028127651661634,-0.145530164241791,-0.087101131677628,0.092000953853130,0.081923499703407,-0.026160204783082,-0.206968292593956,0.016959493979812,-0.036275636404753,-0.006634655874223,0.070272102952003,-0.024930784478784,0.096265874803066));
res += mul(Get(s2,dx,-dy), float4x4(-0.059889353811741,-0.058181051164865,-0.032959755510092,-0.036310028284788,-0.064593248069286,-0.063904218375683,0.022977359592915,-0.157447338104248,0.096452370285988,-0.052023563534021,-0.134719073772430,0.064637124538422,-0.228284865617752,-0.068790808320045,-0.022051772102714,-0.034424729645252));
res += mul(Get(s2,dx,0), float4x4(0.024412173777819,-0.061164189130068,-0.016762329265475,0.094235323369503,-0.202639728784561,-0.166530862450600,0.068369217216969,0.136818721890450,0.002434089547023,0.210274741053581,-0.003443756606430,-0.163442716002464,-0.171400010585785,0.041895754635334,0.133779853582382,-0.092975661158562));
res += mul(Get(s2,dx,dy), float4x4(0.182511776685715,-0.047898657619953,-0.072716370224953,0.088260568678379,-0.305950582027435,-0.063187487423420,-0.124522127211094,0.044276401400566,-0.123011097311974,0.012660128064454,0.171906188130379,0.032429050654173,-0.030693357810378,0.248358771204948,0.049436818808317,0.266684889793396));
res += mul(Get(s3,-dx,-dy), float4x4(0.036499727517366,-0.100839227437973,-0.050084196031094,-0.033302281051874,-0.018678070977330,-0.017421212047338,0.086212456226349,0.020794605836272,-0.086274318397045,0.035262610763311,-0.049897335469723,0.013169616460800,0.242098554968834,-0.056675169616938,0.289891839027405,0.007685923483223));
res += mul(Get(s3,-dx,0), float4x4(0.215683519840240,0.052778653800488,-0.027142215520144,-0.074939325451851,-0.018397206440568,0.170295596122742,0.052048139274120,-0.068157844245434,0.209948971867561,0.064259141683578,0.044504642486572,-0.162069588899612,0.148873925209045,-0.066177316009998,-0.027069633826613,0.004287577699870));
res += mul(Get(s3,-dx,dy), float4x4(0.215702816843987,0.017562156543136,-0.136188834905624,0.028032854199409,0.162582039833069,-0.126842051744461,-0.206625983119011,-0.067945174872875,0.034740671515465,0.065868988633156,-0.062824852764606,0.057527348399162,0.185219183564186,0.075430981814861,-0.102099888026714,-0.009631316177547));
res += mul(Get(s3,0,-dy), float4x4(0.053325928747654,-0.005761056672782,0.082917325198650,-0.085979208350182,0.089410856366158,0.041089292615652,-0.087365418672562,-0.030754428356886,-0.201576858758926,-0.021950909867883,0.149242550134659,0.101860195398331,0.095072440803051,0.146659418940544,0.383198499679565,0.056736782193184));
res += mul(Get(s3,0,0), float4x4(-0.102008953690529,0.118908375501633,0.005257332231849,-0.066427797079086,0.068310327827930,0.021374056115746,0.032353419810534,0.008496799506247,0.061879217624664,-0.075198754668236,-0.091775216162205,0.122447192668915,-0.006465181708336,0.115814805030823,0.160081207752228,0.078731410205364));
res += mul(Get(s3,0,dy), float4x4(0.017198270186782,-0.047622386366129,0.020809931680560,-0.157276973128319,0.364859312772751,-0.028478566557169,0.002933835843578,-0.082900434732437,0.056342411786318,-0.077702015638351,0.026939274743199,-0.004434361122549,0.173919171094894,0.082043662667274,0.043198741972446,0.100761666893959));
res += mul(Get(s3,dx,-dy), float4x4(0.194448500871658,-0.085286177694798,-0.042752306908369,-0.010770856402814,0.142094328999519,0.020591523498297,-0.028429770842195,0.057314224541187,0.030726416036487,-0.015357297845185,-0.066166512668133,0.119607850909233,-0.060411591082811,0.022443313151598,0.117701306939125,-0.112649299204350));
res += mul(Get(s3,dx,0), float4x4(0.011128312908113,0.045793697237968,-0.125340402126312,-0.120400175452232,0.264725923538208,-0.053682591766119,0.061992023140192,-0.086390674114227,-0.006865966599435,0.088222868740559,0.058317627757788,0.045099914073944,0.095855139195919,0.025470580905676,0.043387409299612,-0.143970608711243));
res += mul(Get(s3,dx,dy), float4x4(0.012040669098496,-0.207798585295677,-0.082119628787041,0.022415654733777,0.344809055328369,-0.014156341552734,-0.097912840545177,0.048479538410902,-0.109367884695530,-0.082285352051258,-0.079359412193298,0.153140455484390,0.009534715674818,0.052730269730091,-0.064230263233185,0.073702163994312));
return max(float4(0,0,0,0), res);
}
