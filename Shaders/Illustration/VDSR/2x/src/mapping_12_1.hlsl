sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.195176765322685,0.060547187924385,0.042876839637756,-0.045443132519722,-0.114570312201977,0.100864470005035,-0.036780573427677,0.036133602261543,0.118930198252201,0.089296907186508,0.019274326041341,-0.115323171019554,0.134606465697289,0.122420839965343,0.002167127793655,-0.095628485083580));
res += mul(Get(s0,-dx,0), float4x4(0.166667327284813,0.147604808211327,0.038072511553764,0.140665367245674,-0.102573029696941,0.147038310766220,-0.022806884720922,0.033144604414701,0.197958260774612,0.078807398676872,-0.008088674396276,0.140802770853043,0.056072127074003,0.209049910306931,-0.107808217406273,0.032993562519550));
res += mul(Get(s0,-dx,dy), float4x4(0.020726362243295,0.076057657599449,-0.097524031996727,0.002514457097277,-0.111556537449360,-0.064944870769978,-0.111388467252254,0.015932600945234,0.211383804678917,-0.082679301500320,-0.008890314958990,-0.017973264679313,0.030172849074006,0.020609570667148,0.117706038057804,0.034393720328808));
res += mul(Get(s0,0,-dy), float4x4(-0.009045332670212,0.017787445336580,0.044164124876261,-0.124450162053108,0.152567699551582,-0.052411921322346,0.122774198651314,-0.112641513347626,-0.010545586235821,0.331095665693283,-0.036559190601110,0.065777048468590,0.101616732776165,0.032220147550106,-0.077011384069920,0.023863568902016));
res += mul(Get(s0,0,0), float4x4(-0.023030349984765,-0.048833355307579,0.036311652511358,0.014481894671917,0.137338787317276,0.026366356760263,-0.037093095481396,0.024402927607298,0.057578798383474,-0.026829402893782,0.021957607939839,-0.072165399789810,0.013414490036666,0.014733324758708,-0.055931717157364,0.087415404617786));
res += mul(Get(s0,0,dy), float4x4(0.030120575800538,-0.032005332410336,-0.123612545430660,-0.039186529815197,0.083007760345936,-0.088118456304073,-0.151917994022369,0.022137299180031,0.000420128781116,-0.155723303556442,0.023970581591129,0.097807966172695,0.157006338238716,-0.065714560449123,0.304103732109070,0.063898958265781));
res += mul(Get(s0,dx,-dy), float4x4(-0.087430626153946,-0.015485820360482,0.166151970624924,-0.028323339298368,-0.124434649944305,0.104751802980900,0.081360869109631,-0.199390083551407,0.017742702737451,-0.020663063973188,-0.024676868692040,0.027613844722509,-0.107362017035484,-0.102102987468243,0.048785142600536,0.039021048694849));
res += mul(Get(s0,dx,0), float4x4(-0.018629232421517,0.064083382487297,-0.007900604978204,-0.041473299264908,-0.092158824205399,0.018846916034818,0.065612696111202,-0.052342373877764,0.013699461705983,-0.052058912813663,0.139879494905472,-0.000056471450080,0.051547091454268,-0.027403984218836,-0.048825256526470,0.037922814488411));
res += mul(Get(s0,dx,dy), float4x4(0.048038005828857,-0.106992907822132,-0.092493839561939,0.136454150080681,-0.046887211501598,-0.008961389772594,-0.004416637588292,0.050456658005714,0.002755216322839,-0.096671015024185,-0.016650045290589,0.094483248889446,-0.000702428224031,0.039965815842152,0.149734541773796,-0.056050166487694));
res += mul(Get(s1,-dx,-dy), float4x4(-0.045835558325052,0.236047282814980,0.018351243808866,-0.228263676166534,-0.021904777735472,-0.052441716194153,-0.020067723467946,-0.055168893188238,0.009182097390294,0.020033881068230,0.124996453523636,-0.055637832731009,-0.026832483708858,-0.104200996458530,-0.050203867256641,-0.129394859075546));
res += mul(Get(s1,-dx,0), float4x4(-0.055003825575113,0.204203203320503,-0.055464539676905,0.211888045072556,-0.082686766982079,0.182529017329216,-0.058438315987587,-0.017501708120108,-0.013119415380061,0.008332063443959,-0.032700140029192,-0.070351280272007,0.056276354938745,-0.058424662798643,-0.056354962289333,-0.021588053554296));
res += mul(Get(s1,-dx,dy), float4x4(0.046367768198252,0.018407804891467,-0.084195271134377,0.059012357145548,-0.073068782687187,-0.050832603126764,0.007497670594603,0.059510920196772,0.113991156220436,-0.129214495420456,0.024141773581505,0.120144709944725,-0.034400086849928,-0.012709979899228,-0.101610153913498,0.047528654336929));
res += mul(Get(s1,0,-dy), float4x4(0.157854050397873,-0.107512712478638,-0.040059946477413,-0.159374296665192,0.107087813317776,-0.100115545094013,-0.042882658541203,-0.053878169506788,0.049971558153629,-0.016222080215812,0.232355967164040,0.016407599672675,-0.009312668815255,-0.065351940691471,-0.004094862844795,-0.079231008887291));
res += mul(Get(s1,0,0), float4x4(0.266741871833801,-0.049525000154972,0.022899858653545,0.048754025250673,0.019451526924968,-0.084992289543152,-0.085493728518486,-0.016721257939935,-0.079119481146336,0.268735527992249,0.012512755580246,-0.035663999617100,0.067297704517841,-0.102615781128407,-0.143354132771492,0.074653841555119));
res += mul(Get(s1,0,dy), float4x4(0.124596543610096,0.062170922756195,-0.035746570676565,-0.035753458738327,0.011295266449451,-0.210271015763283,-0.110902950167656,-0.065839551389217,-0.220238462090492,0.024040451273322,-0.135962679982185,0.212487712502480,-0.056124031543732,0.064191766083241,0.146533980965614,-0.077617794275284));
res += mul(Get(s1,dx,-dy), float4x4(0.091009877622128,-0.080929510295391,-0.004972524475306,-0.318108618259430,-0.044155981391668,-0.037355389446020,0.021193889901042,-0.022183544933796,-0.044968824833632,-0.087705828249454,0.124840393662453,0.014684111811221,-0.041030462831259,-0.192835807800293,-0.006814330816269,-0.092048764228821));
res += mul(Get(s1,dx,0), float4x4(0.059391405433416,0.055064935237169,0.049235418438911,0.709671258926392,0.162095978856087,-0.042065493762493,-0.030177557840943,0.072192527353764,0.177637964487076,-0.057750083506107,0.125792711973190,-0.066458158195019,-0.006189471110702,-0.091441810131073,-0.092344976961613,0.158150061964989));
res += mul(Get(s1,dx,dy), float4x4(-0.072177380323410,-0.010524720884860,-0.049344971776009,-0.138475283980370,0.211849004030228,-0.184321552515030,-0.065225102007389,-0.040614835917950,0.003928471356630,-0.032411333173513,-0.065743692219257,-0.111561350524426,-0.137646228075027,0.079797625541687,0.120438791811466,0.069520756602287));
res += mul(Get(s2,-dx,-dy), float4x4(-0.079296991229057,0.131651118397713,0.000332294061081,0.085294574499130,-0.049271941184998,0.064116850495338,-0.015489090234041,-0.091022282838821,-0.123426951467991,0.133201435208321,0.031572885811329,-0.107388414442539,-0.029122026637197,-0.015000040642917,0.029244976118207,-0.011717493645847));
res += mul(Get(s2,-dx,0), float4x4(-0.103861756622791,0.155595391988754,-0.117900520563126,0.039733305573463,-0.041103053838015,-0.047016989439726,0.024990102276206,-0.132505625486374,-0.229213088750839,0.309371739625931,0.052932254970074,-0.046194370836020,-0.176931247115135,-0.103293381631374,0.028775006532669,0.062091205269098));
res += mul(Get(s2,-dx,dy), float4x4(-0.006051888223737,0.003095575841144,-0.058917045593262,0.081542842090130,0.060626763850451,-0.028839500620961,-0.051837846636772,-0.075085058808327,-0.138188347220421,0.165608674287796,0.207277238368988,-0.044114455580711,0.019719254225492,0.081354819238186,0.112085513770580,-0.044029455631971));
res += mul(Get(s2,0,-dy), float4x4(0.028121672570705,-0.065407373011112,0.082790240645409,-0.021363534033298,-0.053033605217934,-0.096821703016758,-0.064199194312096,-0.109985888004303,-0.085102528333664,0.084429003298283,0.031755276024342,0.051208969205618,-0.209091365337372,0.026893451809883,0.036899607628584,-0.057717695832253));
res += mul(Get(s2,0,0), float4x4(0.096227072179317,0.020270882174373,-0.054529998451471,-0.020773051306605,0.051947336643934,-0.127991572022438,-0.037613376975060,-0.074511744081974,-0.132524311542511,-0.104903861880302,-0.039300486445427,-0.033697333186865,-0.149664282798767,-0.095342904329300,-0.067825868725777,-0.091404497623444));
res += mul(Get(s2,0,dy), float4x4(0.057118255645037,-0.057870663702488,-0.024633591994643,0.014467000029981,-0.004177637863904,-0.085055567324162,0.032915696501732,-0.124921791255474,-0.079214543104172,0.040341127663851,-0.010770756751299,0.061457846313715,0.114153385162354,0.069992862641811,0.045596320182085,-0.105691321194172));
res += mul(Get(s2,dx,-dy), float4x4(-0.024362472817302,-0.040399588644505,-0.133105278015137,-0.146235212683678,-0.004067001864314,-0.084633320569992,0.018719898536801,-0.046634308993816,-0.161861822009087,0.093184113502502,0.089173570275307,-0.108613848686218,0.001533089787699,-0.123242229223251,0.032715328037739,-0.026006771251559));
res += mul(Get(s2,dx,0), float4x4(0.033837124705315,0.142347216606140,-0.041944783180952,-0.005484628956765,0.105300471186638,-0.103806234896183,-0.042973764240742,0.030771659687161,-0.232726410031319,0.080254554748535,0.109874583780766,-0.060133595019579,0.284553110599518,-0.114548675715923,-0.015651330351830,0.034077823162079));
res += mul(Get(s2,dx,dy), float4x4(-0.026959329843521,-0.017648642882705,0.138053625822067,-0.043394770473242,0.049622926861048,-0.118050880730152,0.149681404232979,0.049900360405445,-0.099080190062523,0.027316924184561,0.049066737294197,-0.010269696824253,-0.040910940617323,0.166286200284958,0.221272870898247,-0.096103154122829));
res += mul(Get(s3,-dx,-dy), float4x4(0.002338406164199,0.037568058818579,0.031485520303249,-0.105378478765488,-0.124749317765236,0.052951339632273,0.060714632272720,0.008680148981512,-0.055269703269005,0.068309701979160,-0.129606917500496,0.013286964036524,-0.051451262086630,0.074752971529961,-0.050745464861393,0.050822794437408));
res += mul(Get(s3,-dx,0), float4x4(-0.025440510362387,0.018537031486630,-0.003588504157960,-0.002781476126984,-0.088934063911438,0.130215913057327,-0.034249860793352,-0.014213039539754,-0.103828147053719,0.027686979621649,-0.063325583934784,0.071663483977318,-0.118551120162010,0.134759336709976,-0.075126200914383,0.001376563450322));
res += mul(Get(s3,-dx,dy), float4x4(-0.057901281863451,0.082097016274929,-0.017001740634441,0.028728272765875,-0.005977789871395,0.095087625086308,0.049841362982988,-0.080228619277477,-0.100317992269993,0.099946975708008,-0.014072331599891,0.086505189538002,-0.098127134144306,0.062391433864832,-0.033627051860094,0.123755894601345));
res += mul(Get(s3,0,-dy), float4x4(-0.040515635162592,0.164687931537628,0.010308928787708,-0.061042338609695,-0.018511343747377,0.000233508486417,0.030898252502084,-0.018762135878205,0.024821078404784,-0.035661384463310,0.012144676409662,-0.122238911688328,0.080079942941666,0.035483833402395,-0.044869460165501,-0.106065452098846));
res += mul(Get(s3,0,0), float4x4(0.196766659617424,0.024473723024130,0.029472919180989,0.030182978138328,0.216899812221527,0.069288298487663,-0.074572741985321,-0.064591646194458,-0.023559017106891,0.084631465375423,0.014617498032749,0.455329179763794,0.045599251985550,-0.047500379383564,-0.101385377347469,0.071385316550732));
res += mul(Get(s3,0,dy), float4x4(0.123386234045029,0.159423276782036,-0.035077393054962,0.029663328081369,0.055444195866585,-0.016491839662194,-0.010937889106572,-0.057976782321930,0.051460549235344,-0.125695392489433,-0.097869597375393,0.003400149988011,0.010741892270744,0.077661201357841,0.002460960065946,0.115488186478615));
res += mul(Get(s3,dx,-dy), float4x4(-0.090253382921219,0.015991175547242,-0.089741520583630,-0.015692038461566,0.093554191291332,-0.041733231395483,0.112303383648396,0.038121804594994,-0.010535871610045,0.114023618400097,0.094267018139362,-0.078895635902882,0.028234831988811,-0.027606060728431,0.263332426548004,0.079983510077000));
res += mul(Get(s3,dx,0), float4x4(0.042075831443071,0.033153783529997,-0.055882621556520,-0.030490761622787,0.031111191958189,-0.114992566406727,-0.025394886732101,-0.043500568717718,-0.046262625604868,0.040633060038090,-0.019234476611018,0.081720195710659,-0.046105712652206,-0.047588340938091,0.227985829114914,0.140046834945679));
res += mul(Get(s3,dx,dy), float4x4(0.101379401981831,0.090097844600677,0.184412643313408,0.076498627662659,-0.111833550035954,0.024684144183993,0.013873055577278,-0.029786918312311,0.015641508623958,-0.010568472556770,-0.104620382189751,-0.146515816450119,-0.038935609161854,-0.114158645272255,0.283131837844849,-0.004880578722805));
return max(float4(0,0,0,0), res);
}
