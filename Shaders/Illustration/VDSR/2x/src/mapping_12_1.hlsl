sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.073750451207161,0.053697209805250,0.008677624166012,0.261731863021851,-0.090695083141327,-0.093190014362335,0.085595607757568,-0.009748943150043,-0.112972661852837,-0.104906029999256,0.136007994413376,-0.077966779470444,0.144236341118813,0.016086980700493,0.088268518447876,-0.044424060732126));
res += mul(Get(s0,-dx,0), float4x4(-0.023116961121559,0.170110374689102,-0.006739839911461,0.106985233724117,0.027363244444132,-0.116713419556618,-0.102687478065491,-0.212129503488541,-0.011238443665206,-0.053975518792868,0.026417670771480,0.026259509846568,0.006452821660787,-0.097723796963692,0.077394075691700,-0.037633541971445));
res += mul(Get(s0,-dx,dy), float4x4(-0.079841427505016,0.078685797750950,-0.138102948665619,0.065558716654778,0.049635984003544,0.019294017925858,-0.034698128700256,-0.088549554347992,0.091664485633373,0.013212871737778,0.088735006749630,0.047812178730965,0.056865617632866,-0.124165453016758,-0.043621510267258,-0.073374651372433));
res += mul(Get(s0,0,-dy), float4x4(-0.007196476683021,-0.046330258250237,0.150840803980827,-0.038381781429052,0.090729609131813,0.055741365998983,-0.043648768216372,-0.052790753543377,-0.092802166938782,-0.047040749341249,0.184961378574371,-0.084149658679962,-0.034122284501791,-0.288727581501007,0.176485240459442,-0.068256244063377));
res += mul(Get(s0,0,0), float4x4(-0.019820427522063,-0.099444843828678,0.076206848025322,0.181804120540619,0.015312155708671,0.010611324571073,-0.125090345740318,0.044422525912523,0.076676227152348,-0.020388204604387,0.108994387090206,-0.173539265990257,0.151527687907219,0.025750845670700,0.111531220376492,0.004327402915806));
res += mul(Get(s0,0,dy), float4x4(-0.172604009509087,-0.098052188754082,0.066832073032856,0.080529011785984,0.066806636750698,0.083923012018204,0.038064703345299,-0.022641850635409,0.065835572779179,-0.057427611202002,0.233296006917953,0.156915947794914,-0.062720522284508,-0.077278465032578,-0.167041406035423,0.114518299698830));
res += mul(Get(s0,dx,-dy), float4x4(-0.117469079792500,-0.048577971756458,0.031779315322638,-0.128863602876663,0.110252007842064,0.040562540292740,0.241307154297829,-0.144807830452919,-0.059105560183525,0.058330591768026,0.141208261251450,-0.016876796260476,-0.105178683996201,-0.040872801095247,-0.107909075915813,0.028585158288479));
res += mul(Get(s0,dx,0), float4x4(0.025224918499589,-0.127616122364998,0.155603155493736,-0.135557174682617,-0.193469196557999,0.018758902326226,0.018567673861980,0.003318501170725,-0.057435698807240,-0.129431724548340,-0.042585432529449,0.131917193531990,0.135541602969170,0.121131084859371,0.152044147253036,-0.084231339395046));
res += mul(Get(s0,dx,dy), float4x4(-0.031301714479923,0.012414374388754,0.013274875469506,0.003236107761040,0.089688934385777,-0.096977509558201,-0.071932137012482,0.201689198613167,-0.099721595644951,0.265578120946884,-0.013835300691426,-0.105344563722610,-0.051043711602688,0.012068225070834,-0.117793977260590,0.046391796320677));
res += mul(Get(s1,-dx,-dy), float4x4(-0.098377920687199,0.212738811969757,-0.072264529764652,-0.200142130255699,-0.050814423710108,-0.114469230175018,0.002014984609559,-0.011747712269425,0.162274807691574,-0.221614286303520,-0.312939256429672,0.049672946333885,0.087725028395653,0.097992323338985,-0.030875846743584,0.034048013389111));
res += mul(Get(s1,-dx,0), float4x4(0.067602194845676,0.021272912621498,0.032417308539152,0.050282739102840,-0.146087527275085,-0.021906591951847,0.087082922458649,-0.081832483410835,0.065707616508007,0.024110753089190,-0.056770157068968,0.029463408514857,-0.153017163276672,0.091333799064159,0.018670042976737,0.068577013909817));
res += mul(Get(s1,-dx,dy), float4x4(0.143125504255295,0.032160185277462,0.020431200042367,-0.007355485111475,-0.008279881440103,-0.008043313398957,-0.112233936786652,-0.081989392638206,-0.010082414373755,-0.104831948876381,-0.049634974449873,0.172993838787079,0.048762645572424,-0.108654871582985,0.064509309828281,0.039104353636503));
res += mul(Get(s1,0,-dy), float4x4(-0.003808378241956,0.146820887923241,-0.065849892795086,-0.015398642979562,-0.066468760371208,-0.151262313127518,0.029011482372880,-0.033067200332880,0.074567466974258,-0.030883828178048,-0.009376643225551,0.184510648250580,0.100763767957687,-0.122034631669521,-0.124503716826439,-0.142700105905533));
res += mul(Get(s1,0,0), float4x4(-0.062608949840069,0.062552042305470,0.068038605153561,0.000870850519277,0.023373181000352,0.021120361983776,0.047575980424881,-0.073434449732304,-0.018679333850741,0.051145516335964,0.031145304441452,-0.007712617516518,-0.042339600622654,0.054380945861340,-0.021530317142606,-0.026476308703423));
res += mul(Get(s1,0,dy), float4x4(0.004996720701456,-0.044683653861284,-0.064178653061390,0.004154195077717,-0.209001436829567,0.008052001707256,0.034467156976461,-0.018619604408741,-0.084773957729340,-0.105848222970963,-0.053770430386066,0.062343865633011,-0.070751920342445,-0.086088582873344,-0.084814131259918,-0.125528872013092));
res += mul(Get(s1,dx,-dy), float4x4(-0.069662258028984,0.023349471390247,-0.199694871902466,0.075055316090584,-0.071333192288876,0.006878168322146,0.060984272509813,0.117251947522163,-0.019858611747622,-0.013721209950745,-0.040330093353987,0.078150339424610,0.037293951958418,0.037360295653343,0.003692397614941,-0.106284692883492));
res += mul(Get(s1,dx,0), float4x4(-0.011430832557380,-0.048562854528427,-0.009420301765203,-0.052358455955982,0.037424921989441,0.053385514765978,0.027417827397585,0.101880408823490,-0.033349767327309,0.125475332140923,0.053541865199804,0.060723867267370,-0.020159680396318,-0.017315279692411,0.019510902464390,0.073659755289555));
res += mul(Get(s1,dx,dy), float4x4(0.097084723412991,-0.045981977134943,-0.073612816631794,-0.145090609788895,-0.092369705438614,-0.135098502039909,0.027508042752743,0.137414500117302,0.110582254827023,-0.173268556594849,0.030814697965980,-0.045330289751291,-0.037111539393663,0.100020028650761,-0.026154873892665,-0.014377149753273));
res += mul(Get(s2,-dx,-dy), float4x4(-0.025993412360549,0.100534491240978,0.129832014441490,0.012900755740702,-0.096440665423870,0.018545256927609,-0.045529041439295,0.002989768283442,-0.142996579408646,0.072490036487579,0.043724652379751,-0.098273701965809,-0.121608860790730,-0.077424503862858,-0.007141517009586,-0.084492526948452));
res += mul(Get(s2,-dx,0), float4x4(-0.039300423115492,0.014804791659117,0.073017306625843,-0.050116404891014,0.045836701989174,-0.028294168412685,0.035845588892698,-0.031974073499441,-0.018182035535574,-0.098628513514996,0.143703550100327,-0.168999835848808,0.020975183695555,-0.013282979838550,-0.025579724460840,-0.048171069473028));
res += mul(Get(s2,-dx,dy), float4x4(-0.183962270617485,0.115536108613014,0.110403709113598,0.089259043335915,-0.026089973747730,-0.114623494446278,0.072356984019279,0.012174726463854,-0.015446653589606,-0.141063213348389,0.086034879088402,0.069865934550762,0.041020479053259,0.070218771696091,-0.094613708555698,-0.012095227837563));
res += mul(Get(s2,0,-dy), float4x4(-0.093912184238434,-0.054256200790405,0.084454953670502,-0.077760457992554,-0.022163676097989,-0.051782321184874,-0.066213823854923,-0.040436446666718,0.038984306156635,-0.009472166188061,-0.089934132993221,0.120670124888420,-0.090618610382080,-0.039158251136541,0.147493049502373,-0.236586108803749));
res += mul(Get(s2,0,0), float4x4(0.043481651693583,0.088954187929630,0.165400370955467,-0.155855730175972,0.117763288319111,-0.059184879064560,-0.170669823884964,0.103976473212242,-0.005184214562178,0.106149204075336,-0.103661634027958,-0.197893112897873,-0.016287008300424,-0.046448688954115,-0.010599115863442,0.046016678214073));
res += mul(Get(s2,0,dy), float4x4(0.009589427150786,-0.157749354839325,0.050774455070496,0.040171097964048,0.015606368891895,-0.048288870602846,0.050416965037584,-0.132271245121956,-0.063439168035984,-0.188526391983032,0.020471934229136,-0.154431641101837,-0.021956145763397,0.036203499883413,-0.084073327481747,-0.022603070363402));
res += mul(Get(s2,dx,-dy), float4x4(0.069158814847469,0.030805138871074,0.070764832198620,0.044668763875961,-0.011926112696528,-0.017364885658026,0.076599061489105,-0.099489845335484,-0.069534957408905,0.002504940610379,0.134375438094139,0.068835116922855,-0.094845421612263,0.019694086164236,-0.072856321930885,0.073561854660511));
res += mul(Get(s2,dx,0), float4x4(-0.197427779436111,-0.019469186663628,-0.026408588513732,-0.000739543058444,-0.203329131007195,-0.020268162712455,-0.048919323831797,-0.006686138454825,0.022331314161420,-0.090842664241791,-0.108879141509533,0.257129400968552,-0.073685169219971,0.049436576664448,-0.054068420082331,0.057404235005379));
res += mul(Get(s2,dx,dy), float4x4(0.152536168694496,0.038712218403816,-0.111307874321938,0.206195726990700,-0.022827072069049,-0.055504739284515,0.082920491695404,-0.053420566022396,-0.051098145544529,-0.160475760698318,0.084591947495937,-0.070428632199764,-0.138172015547752,-0.038934595882893,0.017844988033175,-0.154364228248596));
res += mul(Get(s3,-dx,-dy), float4x4(0.048306532204151,0.163436397910118,-0.034461297094822,0.089727431535721,-0.106039300560951,-0.006472774781287,0.032955326139927,0.002553001511842,0.065955162048340,0.052426829934120,-0.218197554349899,-0.049146994948387,0.096119157969952,-0.184497684240341,0.031254015862942,0.195486530661583));
res += mul(Get(s3,-dx,0), float4x4(0.243809491395950,0.153327271342278,0.131824120879173,-0.080941803753376,-0.005241309758276,0.050348278135061,-0.002833428326994,0.094203338027000,0.059806827455759,-0.071335643529892,0.140666618943214,0.100090369582176,0.016624622046947,0.092570103704929,0.030138118192554,-0.007232246920466));
res += mul(Get(s3,-dx,dy), float4x4(0.030138595029712,-0.066760368645191,0.023925120010972,-0.136049881577492,-0.179953902959824,-0.083374753594398,-0.035416394472122,0.041150663048029,-0.008413604460657,-0.043933503329754,-0.202384039759636,-0.032142709940672,0.009001798927784,-0.065673403441906,-0.087807871401310,0.096752695739269));
res += mul(Get(s3,0,-dy), float4x4(0.098862364888191,-0.016010468825698,-0.096667647361755,0.046579506248236,0.138402566313744,-0.058003652840853,-0.015773022547364,-0.104770585894585,-0.030453104525805,-0.064673811197281,-0.107422739267349,0.084704011678696,-0.042699895799160,0.171510681509972,-0.070662334561348,-0.025469088926911));
res += mul(Get(s3,0,0), float4x4(0.145996466279030,0.031717728823423,-0.114917568862438,-0.001189543283544,0.089560396969318,0.144648060202599,0.036455947905779,-0.000700324075297,-0.054813969880342,0.061959892511368,0.067450203001499,-0.049207963049412,-0.124122507870197,0.065834447741508,0.017363224178553,-0.068184085190296));
res += mul(Get(s3,0,dy), float4x4(-0.076490692794323,0.089600339531898,0.069398626685143,-0.166149973869324,-0.007476598955691,0.191306740045547,0.149010613560677,-0.074308648705482,-0.034381330013275,-0.011236173100770,0.017537076026201,-0.207521617412567,-0.037308499217033,-0.089233934879303,-0.218553602695465,0.090616337954998));
res += mul(Get(s3,dx,-dy), float4x4(-0.072237357497215,0.047534324228764,0.058671381324530,0.053279455751181,0.159894078969955,0.082645840942860,-0.014903621748090,-0.124955467879772,-0.053869210183620,-0.056829314678907,-0.028660966083407,-0.120526082813740,-0.079141363501549,-0.078217104077339,-0.111734591424465,-0.029902003705502));
res += mul(Get(s3,dx,0), float4x4(-0.198348194360733,0.182647302746773,-0.010116888210177,0.098290450870991,-0.164782613515854,0.081867210566998,-0.022271737456322,-0.034215182065964,-0.034977260977030,-0.056573465466499,-0.032143030315638,0.166925102472305,-0.136595726013184,0.080378524959087,0.101783499121666,-0.125317454338074));
res += mul(Get(s3,dx,dy), float4x4(0.081841357052326,-0.107980042695999,-0.000472232117318,-0.054279476404190,-0.124038137495518,0.053154472261667,0.082776337862015,-0.021591456606984,0.047398209571838,-0.007762103341520,-0.067826613783836,-0.062885418534279,0.096701338887215,-0.115405112504959,0.004604245070368,-0.129635959863663));
return max(float4(0,0,0,0), res);
}
