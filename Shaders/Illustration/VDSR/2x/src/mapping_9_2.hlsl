sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.015295291319489,-0.002236370230094,-0.033851616084576,0.061542954295874,0.038212023675442,0.082079239189625,-0.047699503600597,0.040362179279327,0.046622317284346,-0.051559362560511,-0.061706487089396,0.039008725434542,0.214228928089142,-0.018329355865717,-0.037765387445688,-0.004561791196465));
res += mul(Get(s0,-dx,0), float4x4(-0.063403576612473,0.044832885265350,0.019273331388831,0.069672398269176,0.029243607074022,-0.059514719992876,0.035279791802168,0.092550553381443,-0.000501944334246,0.042064014822245,0.021705863997340,-0.110513977706432,-0.020266562700272,0.056285161525011,-0.108572572469711,-0.022035731002688));
res += mul(Get(s0,-dx,dy), float4x4(0.056774113327265,-0.003144580638036,0.055996511131525,0.003520626574755,-0.074023380875587,0.019549563527107,0.052672065794468,0.118199191987514,0.114595964550972,0.036147572100163,0.053777243942022,0.082036867737770,0.039423804730177,-0.069390520453453,0.112631767988205,0.064059078693390));
res += mul(Get(s0,0,-dy), float4x4(-0.061843819916248,0.096421226859093,-0.166845411062241,-0.132387548685074,-0.140181437134743,-0.206815481185913,-0.095681637525558,0.164794653654099,-0.065747641026974,0.167274326086044,-0.157567143440247,0.095597021281719,0.194262400269508,-0.155558124184608,0.091294333338737,0.126644745469093));
res += mul(Get(s0,0,0), float4x4(-0.190914899110794,-0.013907575979829,0.079408138990402,-0.041076168417931,0.091568030416965,-0.024006286635995,-0.128105670213699,-0.055059958249331,0.088580533862114,0.070839717984200,-0.187515050172806,-0.082858540117741,0.041617598384619,0.010848319157958,-0.046150937676430,-0.118056580424309));
res += mul(Get(s0,0,dy), float4x4(-0.043828364461660,0.040921527892351,-0.158988684415817,0.047259978950024,0.057796381413937,0.076848581433296,0.105149678885937,-0.059443682432175,0.076283030211926,0.079595804214478,-0.015497134067118,0.051282532513142,0.011665601283312,-0.032157141715288,-0.055149879306555,0.021130356937647));
res += mul(Get(s0,dx,-dy), float4x4(0.063104182481766,-0.075627289712429,-0.010252614505589,-0.111015893518925,-0.072480946779251,-0.008880098350346,0.000352241593646,0.200705543160439,-0.135769695043564,0.058254104107618,-0.041432015597820,-0.167994588613510,0.117132030427456,0.104919254779816,0.051001481711864,0.097800195217133));
res += mul(Get(s0,dx,0), float4x4(-0.065720237791538,0.153465211391449,-0.022977590560913,-0.054127048701048,-0.001377129461616,0.114724114537239,-0.059872023761272,-0.090464316308498,0.087386257946491,-0.072581127285957,0.120587326586246,-0.000577044906095,-0.079358652234077,-0.132767826318741,-0.128594338893890,0.002471952466294));
res += mul(Get(s0,dx,dy), float4x4(-0.125440269708633,0.017572391778231,-0.183522462844849,0.009911881759763,0.040603671222925,0.137037232518196,-0.040681760758162,0.019755531102419,-0.082027472555637,0.067674331367016,-0.033426757901907,0.031973861157894,-0.005514406599104,0.103938549757004,-0.060237344354391,0.036877248436213));
res += mul(Get(s1,-dx,-dy), float4x4(-0.006867596413940,0.202788963913918,-0.052893880754709,0.037994958460331,-0.017971197143197,-0.204555779695511,-0.077105894684792,0.001504552667029,0.092411257326603,-0.111957170069218,0.050419084727764,0.006286083720624,-0.101250424981117,-0.008847355842590,-0.044067788869143,-0.072905175387859));
res += mul(Get(s1,-dx,0), float4x4(-0.131221011281013,0.001252566231415,-0.012758255004883,0.171623945236206,0.061546035110950,-0.157939821481705,-0.000825250230264,-0.059668242931366,-0.086853064596653,0.107708126306534,0.066115736961365,0.036891978234053,-0.085885666310787,-0.095544390380383,0.154548764228821,-0.029339896515012));
res += mul(Get(s1,-dx,dy), float4x4(0.056570131331682,0.073888406157494,0.228376224637032,0.276978701353073,-0.083421096205711,0.064106449484825,-0.059863362461329,0.126868516206741,0.017482690513134,-0.007696687709540,-0.113253973424435,-0.086594618856907,-0.173928782343864,0.114892266690731,-0.033562663942575,0.089912161231041));
res += mul(Get(s1,0,-dy), float4x4(0.039997592568398,0.086362518370152,-0.119528852403164,-0.086435548961163,-0.112363710999489,-0.005297131836414,0.124378390610218,0.143079102039337,-0.022628130391240,0.116753540933132,-0.038852512836456,0.148359134793282,-0.124976925551891,0.132036551833153,0.045032542198896,-0.219986036419868));
res += mul(Get(s1,0,0), float4x4(-0.019800154492259,0.027914686128497,-0.142927899956703,0.072480030357838,0.187170565128326,0.086388215422630,0.028677200898528,-0.049998551607132,-0.232147142291069,0.041565075516701,0.098024077713490,-0.005620445124805,-0.071468807756901,0.010499405674636,-0.115698918700218,0.027780860662460));
res += mul(Get(s1,0,dy), float4x4(-0.065990611910820,-0.108559936285019,0.145185410976410,0.142859324812889,-0.021469071507454,0.096453920006752,-0.062574796378613,0.017101893201470,0.178457722067833,0.008813626132905,-0.145903661847115,0.009642384015024,-0.136576458811760,-0.056496541947126,-0.048328075557947,-0.093220695853233));
res += mul(Get(s1,dx,-dy), float4x4(-0.039857249706984,-0.067629396915436,-0.006677342578769,0.020715322345495,0.063798189163208,0.053969498723745,-0.075159989297390,0.182564780116081,-0.044743165373802,-0.060887921601534,0.037986818701029,0.128341376781464,0.017196921631694,0.183161720633507,0.024071123450994,0.116480164229870));
res += mul(Get(s1,dx,0), float4x4(0.062366437166929,0.134908080101013,0.055590894073248,-0.167180076241493,-0.153838858008385,0.146255567669868,-0.051188554614782,-0.030262067914009,-0.094478689134121,0.016802916303277,-0.103986732661724,0.010377792641521,0.075972974300385,0.095154508948326,-0.245294153690338,-0.124131985008717));
res += mul(Get(s1,dx,dy), float4x4(0.020114146173000,0.104876726865768,-0.104362219572067,-0.021519079804420,-0.081334337592125,0.021130453795195,0.050729155540466,-0.001481314073317,0.061002645641565,-0.006595924496651,0.070595867931843,0.088831380009651,0.062765337526798,-0.119040407240391,-0.007302513346076,-0.048743359744549));
res += mul(Get(s2,-dx,-dy), float4x4(0.026324057951570,-0.138985961675644,-0.068773560225964,-0.107820056378841,0.056427244096994,0.039910286664963,0.056386411190033,-0.167367488145828,-0.135542184114456,-0.000623382686172,-0.142808899283409,0.015674151480198,0.162333846092224,0.105799444019794,-0.149192363023758,-0.137373909354210));
res += mul(Get(s2,-dx,0), float4x4(-0.024735748767853,0.036072261631489,-0.042723651975393,0.070414543151855,0.035532172769308,-0.068922273814678,-0.001743879634887,-0.034191519021988,-0.045893453061581,0.152541965246201,0.079477302730083,-0.169862955808640,-0.198533684015274,0.085354484617710,-0.108241043984890,0.038103796541691));
res += mul(Get(s2,-dx,dy), float4x4(-0.094164796173573,-0.047492016106844,0.018613025546074,-0.033519763499498,0.058638561517000,-0.033450797200203,-0.102145031094551,-0.103650063276291,-0.069751776754856,0.234049439430237,-0.049138456583023,-0.024994380772114,0.079066351056099,-0.051126249134541,-0.022650556638837,0.034955784678459));
res += mul(Get(s2,0,-dy), float4x4(-0.080549359321594,-0.082514017820358,0.169607907533646,0.022348871454597,0.008830047212541,0.050420697778463,-0.082653656601906,0.152341619133949,0.117235146462917,-0.035693574696779,0.055332839488983,-0.044282142072916,-0.033564228564501,0.012723568826914,0.070322923362255,-0.248953610658646));
res += mul(Get(s2,0,0), float4x4(0.041893966495991,0.008895982056856,-0.114826507866383,-0.042133085429668,-0.015156771056354,0.059507656842470,0.060824077576399,0.100475005805492,0.021266965195537,0.203023061156273,-0.058322403579950,-0.142402797937393,-0.006182876415551,0.145165950059891,-0.013290382921696,0.091569826006889));
res += mul(Get(s2,0,dy), float4x4(-0.052137695252895,-0.073136739432812,-0.031377676874399,0.074166744947433,-0.061811096966267,0.029873799532652,-0.025521507486701,0.028393622487783,0.035549998283386,0.104804731905460,0.029419548809528,0.041799183934927,0.016578417271376,0.030714042484760,0.000891875126399,0.098269619047642));
res += mul(Get(s2,dx,-dy), float4x4(0.039256885647774,0.022873442620039,-0.057159643620253,-0.065606035292149,-0.061819072812796,-0.077123917639256,0.016309248283505,0.035596180707216,-0.073180086910725,0.068056873977184,-0.120721466839314,0.123694367706776,0.077105171978474,0.058525782078505,-0.110013604164124,-0.264613002538681));
res += mul(Get(s2,dx,0), float4x4(0.056737132370472,-0.028847914189100,-0.045020744204521,-0.020731903612614,0.242457166314125,0.136714294552803,0.071380227804184,-0.088327385485172,0.093351073563099,-0.029113767668605,0.143943503499031,-0.053063925355673,0.073014155030251,-0.010938014835119,-0.053236763924360,0.062873862683773));
res += mul(Get(s2,dx,dy), float4x4(0.073240704834461,-0.066295541822910,0.030035356059670,0.089624471962452,-0.027661819010973,-0.165029749274254,0.046570237725973,0.177773848176003,-0.073702141642570,-0.013213382102549,-0.138027817010880,-0.113332107663155,0.200951024889946,0.107773430645466,0.026366205886006,0.110793143510818));
res += mul(Get(s3,-dx,-dy), float4x4(0.012110725045204,-0.016341572627425,0.210033208131790,0.059681635349989,-0.014891156926751,0.002914408687502,0.111876636743546,0.153912886977196,-0.145378127694130,0.021465279161930,0.102868579328060,0.085713431239128,0.137450277805328,0.078696593642235,0.091603733599186,0.147538319230080));
res += mul(Get(s3,-dx,0), float4x4(0.046295039355755,-0.039950069040060,-0.056224673986435,-0.020004156976938,0.036805257201195,0.091070100665092,0.064337737858295,-0.035698655992746,-0.190854266285896,-0.066815964877605,-0.041964028030634,0.115085661411285,-0.125484555959702,0.025051843374968,0.034659311175346,0.099780634045601));
res += mul(Get(s3,-dx,dy), float4x4(0.040271446108818,-0.104836687445641,-0.149125114083290,0.084607250988483,-0.054597895592451,0.064995467662811,0.033287275582552,0.077785700559616,-0.066527321934700,0.019861813634634,0.066533617675304,0.077247560024261,-0.017537772655487,-0.025971213355660,-0.050899356603622,0.046845667064190));
res += mul(Get(s3,0,-dy), float4x4(0.023022361099720,0.019420925527811,-0.106374904513359,-0.113219268620014,-0.063543774187565,0.007437259424478,0.089932508766651,-0.099141590297222,0.119300290942192,-0.065686896443367,-0.164684340357780,-0.014075398445129,0.036191612482071,-0.019580593332648,0.015452397055924,-0.078796908259392));
res += mul(Get(s3,0,0), float4x4(0.003685808740556,-0.039394609630108,0.044751219451427,-0.162120357155800,0.005580959841609,0.055228505283594,-0.089858070015907,-0.078635498881340,0.035994295030832,-0.022177424281836,0.076358221471310,-0.020482804626226,-0.102982409298420,0.137311175465584,-0.026169434189796,-0.181876376271248));
res += mul(Get(s3,0,dy), float4x4(0.054314404726028,0.015152382664382,0.097724571824074,0.090126231312752,-0.024789653718472,0.008166269399226,-0.075103148818016,-0.082253672182560,0.186595350503922,-0.118318662047386,-0.056052461266518,0.033327858895063,0.078921303153038,0.084815174341202,-0.007440537679940,-0.054753724485636));
res += mul(Get(s3,dx,-dy), float4x4(-0.097382560372353,-0.093132734298706,0.124897658824921,0.040074594318867,-0.130709931254387,-0.029682485386729,0.001516389660537,0.002871647011489,-0.088961072266102,-0.039362411946058,-0.211758136749268,0.065261207520962,-0.066034413874149,0.088333658874035,0.078288413584232,-0.136347904801369));
res += mul(Get(s3,dx,0), float4x4(-0.022508047521114,-0.047584023326635,0.102475963532925,0.067411571741104,-0.004276810213923,-0.089045003056526,-0.041297569870949,0.071484103798866,0.042329996824265,0.000812784652226,-0.059402890503407,-0.037337128072977,-0.096311584115028,0.111375652253628,0.064798943698406,0.115240797400475));
res += mul(Get(s3,dx,dy), float4x4(0.055577069520950,0.086916238069534,0.026957700029016,-0.062632344663143,-0.019295547157526,0.041702229529619,-0.066621512174606,0.111382000148296,-0.108214057981968,0.073002941906452,-0.029674157500267,0.155188441276550,0.007329472340643,0.014588679187000,-0.147287830710411,0.167666688561440));
return max(float4(0,0,0,0), res);
}
