sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.115685611963272,-0.140731960535049,0.067449137568474,-0.035385120660067,-0.016900612041354,0.026238681748509,-0.278163671493530,-0.023307178169489,0.023071430623531,0.169708311557770,-0.024162124842405,0.033130243420601,-0.051854375749826,-0.119888819754124,-0.003967290278524,-0.073440283536911));
res += mul(Get(s0,-dx,0), float4x4(0.118034474551678,-0.222724452614784,-0.101964443922043,-0.088892064988613,0.091157741844654,-0.008430961519480,-0.095807313919067,-0.091865390539169,0.156515046954155,-0.004799007438123,0.022502394393086,-0.104445166885853,-0.115940570831299,-0.123137049376965,-0.194725111126900,0.171887904405594));
res += mul(Get(s0,-dx,dy), float4x4(-0.044625554233789,0.081585772335529,-0.122492223978043,-0.169724345207214,0.101580664515495,0.026777036488056,-0.100061632692814,-0.031270593404770,0.196002051234245,-0.037559472024441,-0.069638490676880,-0.015751022845507,0.060260605067015,-0.017610076814890,0.002251617144793,0.235018104314804));
res += mul(Get(s0,0,-dy), float4x4(-0.066492632031441,-0.149687185883522,0.324073135852814,0.088137082755566,-0.109987981617451,0.228439360857010,-0.052311457693577,0.057000167667866,0.047644056379795,0.073720850050449,-0.096179910004139,0.179304704070091,0.109980426728725,-0.053795598447323,-0.050105120986700,-0.073515966534615));
res += mul(Get(s0,0,0), float4x4(0.072986677289009,0.048443771898746,-0.018635287880898,-0.102500922977924,-0.148319840431213,0.076937168836594,0.065907418727875,-0.026726813986897,-0.058481510728598,0.099334709346294,0.079251922667027,0.147711023688316,-0.011423115618527,-0.063986644148827,-0.123969241976738,-0.100147619843483));
res += mul(Get(s0,0,dy), float4x4(-0.024335509166121,-0.058170847594738,0.156806215643883,0.007452945690602,0.008780584670603,0.033206589519978,0.029948240146041,-0.116203106939793,-0.144246369600296,-0.070544049143791,0.098809756338596,-0.015840865671635,0.081878170371056,0.078423492610455,-0.120885834097862,0.077806837856770));
res += mul(Get(s0,dx,-dy), float4x4(-0.162208527326584,0.099456466734409,-0.049115501344204,-0.224451348185539,0.017213577404618,0.133717611432076,-0.009937338531017,0.019450588151813,-0.053121015429497,-0.020208407193422,-0.066420249640942,0.102985121309757,-0.117334425449371,-0.035612232983112,0.140634924173355,-0.009991390630603));
res += mul(Get(s0,dx,0), float4x4(-0.202179968357086,0.110775738954544,-0.149210125207901,0.080134414136410,-0.003780537284911,0.010041926056147,0.095952883362770,-0.014545315876603,0.102408520877361,0.127661973237991,0.049343433231115,-0.080390803515911,-0.020022913813591,-0.042079351842403,0.031590513885021,-0.006889987736940));
res += mul(Get(s0,dx,dy), float4x4(-0.194853931665421,-0.044306926429272,0.018183402717113,0.065746329724789,0.061181999742985,0.005431436002254,0.017948368564248,0.005048457998782,0.111427642405033,0.015222424641252,0.056369163095951,-0.165411040186882,0.122200042009354,-0.053414989262819,-0.051558271050453,0.101264230906963));
res += mul(Get(s1,-dx,-dy), float4x4(0.014240674674511,0.003138581290841,-0.082158565521240,-0.007356951478869,0.003790062153712,-0.096853598952293,0.054683830589056,0.060739960521460,0.082486331462860,0.009767457842827,-0.013005408458412,0.030906490981579,0.328955441713333,-0.031450185924768,0.249320194125175,0.007916716858745));
res += mul(Get(s1,-dx,0), float4x4(0.068783365190029,0.045514997094870,-0.031598865985870,0.048176810145378,-0.019493725150824,0.008767183870077,0.052890330553055,0.049535710364580,0.097656175494194,0.000652508984786,-0.076796010136604,0.043210700154305,0.031195029616356,-0.027355156838894,-0.045890323817730,-0.029163541272283));
res += mul(Get(s1,-dx,dy), float4x4(-0.027023170143366,-0.049983717501163,0.023358324542642,0.115499407052994,0.041588135063648,-0.018298175185919,-0.003641549963504,0.061582390218973,0.079111665487289,-0.008150969631970,-0.148019745945930,0.144072890281677,0.052908636629581,-0.107193045318127,-0.113278217613697,0.018997022882104));
res += mul(Get(s1,0,-dy), float4x4(-0.093238554894924,-0.078592546284199,0.113324306905270,-0.048846423625946,0.134094357490540,-0.045555472373962,0.024876810610294,-0.006085825618356,-0.019666552543640,-0.103178888559341,-0.031390056014061,-0.027153862640262,0.009041775017977,-0.092796549201012,0.105730310082436,-0.066579639911652));
res += mul(Get(s1,0,0), float4x4(-0.125147774815559,-0.021987959742546,-0.027055501937866,0.011983228847384,0.088046528398991,0.002804930787534,0.064531967043877,0.006425871513784,-0.027640601620078,0.167115285992622,0.002561641391367,-0.048908516764641,-0.064930327236652,0.171622663736343,-0.091938160359859,-0.158068269491196));
res += mul(Get(s1,0,dy), float4x4(-0.017637319862843,-0.023915706202388,-0.052974060177803,0.039903093129396,0.103760384023190,-0.024292891845107,-0.055625621229410,0.146216645836830,-0.033007148653269,-0.009914553724229,-0.033817622810602,0.073943302035332,-0.101654738187790,-0.050096802413464,-0.026680523529649,0.100638583302498));
res += mul(Get(s1,dx,-dy), float4x4(-0.116545587778091,0.072035811841488,0.061448663473129,0.025744386017323,0.070632331073284,-0.014223662205040,0.218878045678139,0.020096579566598,-0.053647454828024,-0.009989128448069,0.075721375644207,-0.060383208096027,-0.172989621758461,0.037409342825413,0.055694919079542,0.024492602795362));
res += mul(Get(s1,dx,0), float4x4(-0.144254043698311,-0.083548016846180,0.019195456057787,0.018774354830384,-0.051667787134647,-0.025177994742990,0.121407933533192,-0.114403925836086,-0.291547417640686,-0.024307915940881,0.174941211938858,0.058628670871258,-0.012178961187601,0.431937634944916,-0.031255908310413,-0.129355430603027));
res += mul(Get(s1,dx,dy), float4x4(-0.061041202396154,-0.018860114738345,0.021000072360039,-0.030200168490410,0.109418682754040,0.085025630891323,0.154504254460335,0.039768930524588,-0.278999984264374,-0.076643466949463,0.081474758684635,-0.079221725463867,-0.006509596481919,0.004958704579622,-0.082880720496178,0.073888212442398));
res += mul(Get(s2,-dx,-dy), float4x4(0.118794366717339,-0.069633997976780,0.365246981382370,-0.029785767197609,0.067260764539242,0.018975887447596,0.014897997491062,-0.094499140977859,0.044450435787439,-0.033097397536039,-0.012792530469596,0.196129187941551,-0.012040933594108,-0.075481206178665,-0.129593044519424,0.000658099306747));
res += mul(Get(s2,-dx,0), float4x4(0.108002521097660,0.026419844478369,0.060930915176868,0.004106510896236,-0.070125803351402,-0.034686058759689,-0.000983473728411,-0.031748842447996,0.073413394391537,0.102320328354836,-0.026213094592094,0.140436366200447,0.121889546513557,-0.070278041064739,-0.033159755170345,0.002464524935931));
res += mul(Get(s2,-dx,dy), float4x4(-0.007742838002741,0.091643109917641,0.149389728903770,-0.038095287978649,-0.078574612736702,-0.034477733075619,-0.112178198993206,-0.005812490824610,0.151509702205658,-0.017427416518331,0.016236564144492,-0.109364487230778,0.147665515542030,-0.124389454722404,0.040832683444023,-0.023014606907964));
res += mul(Get(s2,0,-dy), float4x4(0.094423592090607,-0.035279504954815,0.193486675620079,-0.081538349390030,0.034225035458803,-0.029493154957891,0.380705922842026,0.260280132293701,0.111761666834354,-0.034574732184410,-0.004148462321609,-0.164842307567596,-0.082618109881878,0.057645346969366,-0.127517282962799,-0.005024523939937));
res += mul(Get(s2,0,0), float4x4(0.033528737723827,-0.054193671792746,-0.028403555974364,0.049618624150753,-0.020437020808458,-0.102423496544361,0.051881495863199,0.122977174818516,-0.025530295446515,0.057124461978674,0.068643957376480,0.321163862943649,-0.061719894409180,0.039084542542696,0.222572922706604,0.228437528014183));
res += mul(Get(s2,0,dy), float4x4(0.012956610880792,0.028297670185566,0.038794178515673,0.055587936192751,0.040114048868418,-0.161485195159912,-0.080491214990616,0.055001135915518,0.048412993550301,0.014560511335731,0.045314148068428,0.118095278739929,-0.148502066731453,-0.014672066085041,0.089775346219540,0.116691380739212));
res += mul(Get(s2,dx,-dy), float4x4(0.025144632905722,-0.039817783981562,0.162901803851128,-0.203944101929665,0.162338167428970,0.200255572795868,0.271790474653244,0.028558988124132,0.092246912419796,-0.085283279418945,-0.024408549070358,-0.043123621493578,-0.031605239957571,0.045627936720848,-0.069868028163910,0.076234936714172));
res += mul(Get(s2,dx,0), float4x4(-0.127669632434845,-0.009290368296206,-0.037883542478085,0.089179165661335,0.077166281640530,0.159467965364456,0.005241043400019,-0.078636310994625,0.061924878507853,0.014140621758997,0.027465589344501,-0.033881902694702,-0.128684893250465,-0.023899510502815,0.290458887815475,0.091586187481880));
res += mul(Get(s2,dx,dy), float4x4(0.044308081269264,-0.089286938309669,-0.063185766339302,-0.002112300833687,0.187564238905907,0.139227166771889,-0.051288060843945,-0.058215986937284,0.076918214559555,-0.086940787732601,-0.004856721032411,-0.130815908312798,-0.091016575694084,0.088279582560062,-0.118525706231594,-0.069388508796692));
res += mul(Get(s3,-dx,-dy), float4x4(0.051399070769548,0.036797862499952,-0.012657514773309,0.130902618169785,0.095821708440781,0.027413534000516,-0.077745750546455,-0.066412761807442,-0.087409950792789,0.058184802532196,0.056623451411724,0.014902510680258,0.042606715112925,-0.130609244108200,0.108092024922371,0.089558050036430));
res += mul(Get(s3,-dx,0), float4x4(-0.059784948825836,0.033742491155863,-0.007042511366308,0.122497633099556,-0.071586593985558,0.041241206228733,-0.134968936443329,-0.100011974573135,0.114593975245953,0.026380339637399,0.028467047959566,0.086059570312500,-0.068057209253311,-0.013153881765902,0.076150156557560,0.059040319174528));
res += mul(Get(s3,-dx,dy), float4x4(-0.062781088054180,0.137967139482498,0.039472557604313,0.281200438737869,0.108653791248798,0.072732634842396,-0.106122113764286,-0.037426728755236,0.198343560099602,0.060973171144724,-0.100062243640423,-0.006508863065392,-0.081971570849419,-0.037979386746883,0.311257869005203,0.166319385170937));
res += mul(Get(s3,0,-dy), float4x4(0.073523841798306,-0.019879575818777,0.038570806384087,0.078936517238617,-0.041201304644346,-0.073508478701115,-0.024406960234046,-0.021168347448111,0.097620449960232,-0.086068458855152,0.032355803996325,-0.003310222178698,-0.034254878759384,0.037041552364826,-0.079015657305717,-0.063074395060539));
res += mul(Get(s3,0,0), float4x4(-0.000467387784738,0.114347696304321,0.074438296258450,-0.058719381690025,-0.028683440759778,-0.070869170129299,-0.097811959683895,-0.137032330036163,0.192308560013771,0.094160258769989,0.097304016351700,0.029784571379423,-0.085181102156639,-0.011984701268375,-0.058653905987740,-0.062019255012274));
res += mul(Get(s3,0,dy), float4x4(0.002667598892003,-0.055993892252445,0.032039117068052,0.183445900678635,0.062325131148100,-0.114933922886848,-0.085439197719097,0.038604527711868,0.087092511355877,-0.013540668413043,0.044695772230625,-0.005488447844982,-0.055043730884790,-0.007353349123150,0.057985626161098,-0.013724367134273));
res += mul(Get(s3,dx,-dy), float4x4(-0.068106904625893,-0.035857971757650,-0.008387401700020,0.070700302720070,0.121103219687939,0.124302729964256,-0.035633623600006,0.040024477988482,-0.128942087292671,0.005293254740536,0.142986476421356,0.064805030822754,-0.055976405739784,0.066128894686699,0.044488873332739,0.048063244670630));
res += mul(Get(s3,dx,0), float4x4(-0.130264177918434,0.037647094577551,-0.015440876595676,0.046696376055479,0.114133223891258,0.059315431863070,-0.019494205713272,-0.025462921708822,-0.124821670353413,0.171345517039299,0.152805835008621,0.084662161767483,0.058834038674831,0.104963324964046,0.043062243610620,0.103807479143143));
res += mul(Get(s3,dx,dy), float4x4(-0.160147279500961,0.009707148186862,0.019092082977295,0.176191687583923,0.446894824504852,-0.056923270225525,-0.074678227305412,0.100652024149895,-0.168918058276176,0.078127741813660,0.073204092681408,-0.146334469318390,0.131580099463463,0.182596892118454,-0.047327633947134,-0.004954111296684));
return max(float4(0,0,0,0), res);
}
