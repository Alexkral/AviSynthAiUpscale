sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.042439408600330,0.001121006440371,-0.049957681447268,0.049026641994715,0.008783867582679,-0.092968121170998,0.001371990656480,0.047391448169947,0.138796776533127,-0.069280907511711,0.025643581524491,-0.029540438205004,-0.076518371701241,0.077478744089603,-0.033606603741646,0.072034299373627));
res += mul(Get(s0,-dx,0), float4x4(-0.091804526746273,0.044171292334795,-0.051726978272200,0.021905016154051,-0.029598943889141,0.001207141438499,-0.150172770023346,0.118209347128868,0.250446021556854,-0.174980357289314,-0.053272008895874,-0.098896905779839,-0.026337603107095,-0.102311551570892,-0.018224548548460,0.014550365507603));
res += mul(Get(s0,-dx,dy), float4x4(-0.034420367330313,-0.088706649839878,-0.136892050504684,0.004232737235725,-0.173965066671371,0.005652240477502,-0.098732352256775,0.116887845098972,-0.005416208412498,-0.070445857942104,-0.030797878280282,0.169608816504478,0.108612827956676,0.093122348189354,-0.000326826906530,-0.041491568088531));
res += mul(Get(s0,0,-dy), float4x4(0.014793426729739,0.118906520307064,0.052059315145016,-0.055983051657677,0.084664195775986,-0.116660907864571,-0.018102794885635,0.063507206737995,0.031722925603390,0.005333108361810,0.117512084543705,-0.030219111591578,-0.035210549831390,0.095195382833481,-0.028463510796428,0.035523232072592));
res += mul(Get(s0,0,0), float4x4(-0.026345046237111,-0.065323166549206,-0.030897771939635,-0.103291764855385,-0.101566314697266,-0.019467446953058,-0.112224914133549,-0.054836284369230,-0.162804514169693,-0.016048634424806,0.040652114897966,0.053577404469252,0.077977709472179,0.033030446618795,0.109540067613125,0.060701813548803));
res += mul(Get(s0,0,dy), float4x4(0.106091007590294,-0.045499313622713,-0.133030816912651,0.081998176872730,-0.115621820092201,-0.066870622336864,-0.019837811589241,-0.024742534384131,-0.100862339138985,0.025714097544551,-0.083242006599903,0.020400086417794,0.036061160266399,0.222107186913490,0.131623521447182,-0.025516761466861));
res += mul(Get(s0,dx,-dy), float4x4(-0.150654792785645,0.017563126981258,0.090114481747150,-0.140968978404999,0.078739866614342,0.045493312180042,-0.035163171589375,0.218745112419128,0.130752146244049,0.069317951798439,-0.006105106789619,0.344934493303299,-0.140893027186394,0.260508954524994,0.102075666189194,-0.055559236556292));
res += mul(Get(s0,dx,0), float4x4(-0.042174696922302,0.050240512937307,0.052453275769949,-0.025883452966809,-0.040779463946819,0.163737982511520,-0.102538742125034,0.051027208566666,0.151962593197823,0.103323869407177,-0.165292486548424,0.409922689199448,0.056417465209961,0.112675152719021,0.159834697842598,0.053960599005222));
res += mul(Get(s0,dx,dy), float4x4(-0.012705187313259,0.000529148674104,-0.087263889610767,0.031700391322374,0.050705414265394,-0.097613804042339,-0.032066166400909,0.077053807675838,0.029690364375710,-0.047673165798187,-0.141454577445984,0.079134762287140,0.078678719699383,0.279885381460190,0.116458490490913,-0.089730314910412));
res += mul(Get(s1,-dx,-dy), float4x4(0.008156350813806,-0.159077212214470,0.028701808303595,0.061300139874220,0.069615006446838,0.055207524448633,0.074009977281094,0.015220822766423,0.066793076694012,-0.000162778524100,0.027335474267602,-0.170940726995468,0.052499350160360,0.126486092805862,-0.067412242293358,0.085853844881058));
res += mul(Get(s1,-dx,0), float4x4(-0.076916269958019,0.039379060268402,0.128001764416695,0.166030958294868,0.166469797492027,-0.031587436795235,0.005736326798797,0.065288491547108,-0.018231404945254,-0.114583007991314,0.271331936120987,-0.028861859813333,-0.006217041984200,0.150891840457916,-0.089229360222816,0.082047037780285));
res += mul(Get(s1,-dx,dy), float4x4(-0.176135748624802,-0.077107720077038,-0.086052536964417,0.204608306288719,-0.023016268387437,-0.042585290968418,-0.072688363492489,0.011381567455828,-0.017445163801312,0.065852075815201,0.333980351686478,-0.104623876512051,-0.162990316748619,0.050289038568735,-0.032361771911383,0.035215552896261));
res += mul(Get(s1,0,-dy), float4x4(-0.014710681512952,0.010549841448665,-0.045748952776194,-0.031494081020355,0.056982606649399,-0.028928624466062,0.044950321316719,0.080220535397530,0.087492115795612,-0.042885098606348,0.027755387127399,-0.022221850231290,-0.042814403772354,0.004639012273401,0.004787369631231,0.110008284449577));
res += mul(Get(s1,0,0), float4x4(0.008332080207765,0.111045785248280,0.013657195493579,0.074902363121510,0.216148853302002,-0.078776754438877,0.101430810987949,0.067463994026184,-0.120661541819572,0.112267762422562,0.121893115341663,0.246768951416016,-0.044551093131304,0.029994698241353,-0.056203678250313,0.051367208361626));
res += mul(Get(s1,0,dy), float4x4(-0.097838513553143,0.076445080339909,-0.091466389596462,0.156987383961678,0.169314339756966,-0.089985057711601,0.136751234531403,-0.018005672842264,-0.051423765718937,-0.083829045295715,0.032460011541843,0.027318887412548,-0.033038180321455,-0.186934575438499,-0.097641550004482,0.039772488176823));
res += mul(Get(s1,dx,-dy), float4x4(0.103987611830235,-0.116910144686699,0.061801269650459,-0.051766287535429,0.036818411201239,-0.028009409084916,0.113253705203533,-0.010935924015939,0.048545885831118,0.060631759464741,0.017861079424620,-0.228069603443146,-0.040871340781450,0.105834625661373,-0.026107184588909,-0.069921948015690));
res += mul(Get(s1,dx,0), float4x4(0.168864935636520,0.147502899169922,0.048896212130785,0.048040706664324,0.014706198126078,-0.075101613998413,0.128542721271515,-0.128742769360542,-0.005122441332787,-0.016310978680849,0.002820906694978,-0.090693764388561,-0.107779487967491,0.297574102878571,-0.004359123762697,-0.056628551334143));
res += mul(Get(s1,dx,dy), float4x4(0.101868398487568,-0.045557092875242,-0.008620411157608,0.214912638068199,-0.027261257171631,-0.015027187764645,0.043027579784393,-0.067973688244820,0.082084871828556,-0.102264255285263,0.128870368003845,-0.016090949997306,-0.090426318347454,-0.069360964000225,0.005029664374888,-0.132008224725723));
res += mul(Get(s2,-dx,-dy), float4x4(-0.021845318377018,-0.016820061951876,0.078193388879299,0.122183002531528,-0.069403626024723,-0.034257117658854,-0.013854506425560,-0.099088385701180,-0.077992975711823,-0.142320916056633,0.055446092039347,-0.038138721138239,-0.051798202097416,-0.089160390198231,-0.059950713068247,-0.031284857541323));
res += mul(Get(s2,-dx,0), float4x4(-0.169695898890495,-0.134321019053459,-0.082943528890610,0.060252096503973,-0.051567301154137,0.064536646008492,0.055056206882000,-0.085003554821014,0.178809434175491,-0.153183504939079,0.022050021216273,0.071996107697487,-0.082681387662888,0.188901200890541,0.266343355178833,0.065230898559093));
res += mul(Get(s2,-dx,dy), float4x4(0.012709321454167,0.091272443532944,-0.056780029088259,0.071471869945526,0.026798939332366,0.038443680852652,-0.032820764929056,-0.055332496762276,0.046761233359575,-0.131156384944916,-0.103413417935371,-0.299726784229279,-0.032507248222828,0.054058503359556,-0.003704246133566,0.114107668399811));
res += mul(Get(s2,0,-dy), float4x4(-0.081060513854027,-0.026279028505087,-0.024675488471985,0.086233638226986,-0.151694029569626,0.022571031004190,-0.031200364232063,-0.097426310181618,0.026435030624270,-0.177382349967957,0.091420322656631,0.062318511307240,-0.083942882716656,-0.049604952335358,-0.198901906609535,-0.027304947376251));
res += mul(Get(s2,0,0), float4x4(0.107786439359188,-0.085157327353954,-0.064630791544914,-0.139038994908333,-0.054730996489525,0.074253097176552,0.021921707317233,-0.097238384187222,0.248281270265579,-0.115870133042336,-0.058829206973314,0.049675419926643,-0.093919187784195,0.031408905982971,-0.071603037416935,0.108053982257843));
res += mul(Get(s2,0,dy), float4x4(-0.040995068848133,0.110534921288490,0.045517012476921,-0.050865668803453,0.007392969448119,-0.084726229310036,-0.037187650799751,-0.048353988677263,0.137935742735863,-0.065317235887051,-0.094814725220203,-0.206272184848785,-0.004201835487038,-0.048525139689445,-0.063695430755615,0.108638249337673));
res += mul(Get(s2,dx,-dy), float4x4(0.054591573774815,0.009829795919359,0.020707307383418,0.167204484343529,-0.024900097399950,-0.032634757459164,-0.040065690875053,-0.140580952167511,-0.096353545784950,-0.099960200488567,0.028609648346901,0.000359072262654,0.100849792361259,-0.074204206466675,-0.117674753069878,0.288580745458603));
res += mul(Get(s2,dx,0), float4x4(0.389141589403152,-0.096717134118080,0.018880249932408,0.097366906702518,-0.040369145572186,0.050875708460808,-0.056276027113199,-0.106266804039478,-0.091069944202900,-0.113829098641872,-0.050717975944281,-0.118215478956699,-0.029039615765214,-0.023501275107265,0.111578643321991,0.097580887377262));
res += mul(Get(s2,dx,dy), float4x4(-0.017771570011973,0.108786985278130,0.004213332198560,0.130689039826393,0.003734003752470,-0.100674889981747,-0.112300500273705,-0.112406924366951,-0.022082364186645,0.044366918504238,-0.040259800851345,-0.205170601606369,0.020047174766660,-0.070114597678185,-0.041274294257164,0.176626414060593));
res += mul(Get(s3,-dx,-dy), float4x4(-0.050255544483662,0.033372413367033,0.008308584801853,-0.018221745267510,-0.121711678802967,0.024113500490785,0.066733635962009,0.011131692677736,0.034866657108068,0.006232938729227,0.096272744238377,0.018728367984295,-0.023855842649937,0.060601759701967,-0.078466497361660,0.090741708874702));
res += mul(Get(s3,-dx,0), float4x4(0.107271879911423,0.046882625669241,-0.039532423019409,-0.195822849869728,0.029278371483088,-0.058838158845901,-0.015002455562353,-0.120974943041801,-0.046032410115004,0.059012990444899,0.060986936092377,-0.049703810364008,-0.093732960522175,-0.093387395143509,-0.040267776697874,0.011788120493293));
res += mul(Get(s3,-dx,dy), float4x4(0.277098566293716,-0.034616436809301,-0.074976190924644,-0.100267745554447,-0.103562079370022,-0.066321380436420,0.072891436517239,-0.128596395254135,-0.043222904205322,-0.062638320028782,0.109663493931293,0.103014647960663,-0.019018316641450,0.015534843318164,-0.023278536275029,0.038148418068886));
res += mul(Get(s3,0,-dy), float4x4(-0.097418449819088,0.036550741642714,-0.064023159444332,0.004766198806465,0.301447451114655,-0.022617222741246,-0.015864938497543,-0.080631315708160,-0.122919388115406,0.056755278259516,0.101431682705879,-0.001495385309681,-0.078147396445274,0.008936171419919,-0.041367065161467,-0.004837266635150));
res += mul(Get(s3,0,0), float4x4(-0.075371697545052,0.094341129064560,-0.101459689438343,-0.010865595191717,0.190460309386253,-0.062416240572929,0.041770942509174,-0.028654450550675,-0.141841590404510,-0.017859017476439,0.097363993525505,0.105007372796535,0.127988293766975,0.000847840565257,-0.089412607252598,-0.071393162012100));
res += mul(Get(s3,0,dy), float4x4(-0.117710061371326,0.032698735594749,0.145378589630127,-0.028031963855028,0.033743482083082,-0.047406375408173,-0.033690832555294,0.012648151256144,0.013961047865450,-0.099614374339581,0.113753363490105,0.032699868083000,0.202817693352699,-0.088816538453102,-0.045980423688889,0.057427927851677));
res += mul(Get(s3,dx,-dy), float4x4(0.170403644442558,0.037163052707911,0.023559732362628,0.103880606591702,-0.049169961363077,0.030989088118076,0.116636507213116,0.129745036363602,0.019391138106585,0.067512810230255,0.198975592851639,0.001474725548178,-0.065885275602341,0.046168882399797,0.132304102182388,0.081635944545269));
res += mul(Get(s3,dx,0), float4x4(-0.090524308383465,0.187816247344017,-0.040281135588884,-0.091281943023205,0.051098007708788,0.017120679840446,0.086598217487335,-0.001037805457599,0.039902810007334,-0.020439874380827,0.000674754905049,-0.065675079822540,0.164782926440239,0.227491021156311,0.159025266766548,0.014215295203030));
res += mul(Get(s3,dx,dy), float4x4(0.057440213859081,-0.109709776937962,0.050122134387493,-0.115623131394386,0.054465375840664,0.011781676672399,0.040185000747442,0.016744587570429,-0.161916494369507,0.021206239238381,0.201419115066528,-0.213490426540375,0.001163968699984,0.027960289269686,0.079227000474930,-0.087813943624496));
return max(float4(0,0,0,0), res);
}
