sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.067333012819290,-0.026612590998411,-0.052284810692072,-0.002923463238403,0.156063660979271,-0.093958705663681,-0.160311594605446,0.070378497242928,-0.030912766233087,-0.017825106158853,0.155806615948677,-0.066623590886593,-0.086108431220055,-0.099243298172951,0.024091472849250,-0.129565089941025));
res += mul(Get(s0,-dx,0), float4x4(0.052602518349886,0.098607778549194,0.007805103436112,-0.251980453729630,-0.214328691363335,-0.062459498643875,-0.001443453133106,-0.144715502858162,0.076720431447029,0.011070424690843,-0.037690956145525,-0.011072508990765,-0.093451589345932,0.041919711977243,0.169892773032188,0.153201028704643));
res += mul(Get(s0,-dx,dy), float4x4(0.077850751578808,0.030987020581961,-0.186434522271156,-0.099183194339275,-0.085537783801556,-0.036315787583590,-0.145025566220284,-0.119675710797310,0.052770439535379,0.015292967669666,-0.028073675930500,0.031034523621202,-0.115821801126003,0.219499409198761,0.130683884024620,-0.102113939821720));
res += mul(Get(s0,0,-dy), float4x4(-0.144427940249443,0.068145394325256,-0.033248011022806,0.093618012964725,0.039463981986046,-0.062363229691982,-0.048810318112373,0.048087425529957,0.001621962059289,-0.214365303516388,0.051308892667294,0.017472961917520,0.061240822076797,-0.155239954590797,-0.127212256193161,-0.052244443446398));
res += mul(Get(s0,0,0), float4x4(0.162045165896416,-0.068004958331585,-0.097993083298206,-0.032743141055107,0.072049267590046,0.030296215787530,0.078848674893379,-0.028560675680637,0.076787590980530,0.099750235676765,-0.082924060523510,0.127824857831001,-0.123252511024475,-0.212355598807335,0.041673105210066,-0.001951939193532));
res += mul(Get(s0,0,dy), float4x4(-0.011912583373487,-0.026295330375433,-0.011760164983571,0.118681140244007,-0.166057437658310,0.148113459348679,0.151575297117233,-0.168937027454376,-0.059233192354441,0.110066682100296,0.110092081129551,-0.001252310350537,-0.014122429303825,0.043887343257666,-0.038096688687801,-0.084704548120499));
res += mul(Get(s0,dx,-dy), float4x4(-0.147235020995140,0.125580430030823,0.023112889379263,-0.058647878468037,0.134450241923332,-0.149924218654633,0.039380028843880,0.009971121326089,0.152954846620560,-0.028100054711103,0.101574577391148,-0.136170089244843,-0.017216220498085,-0.170958057045937,-0.051538668572903,0.124024242162704));
res += mul(Get(s0,dx,0), float4x4(-0.043905887752771,0.011938368901610,-0.092761069536209,0.067938350141048,-0.139084696769714,-0.045556485652924,-0.141833931207657,0.004260560497642,0.002912498777732,-0.062240488827229,0.012994443997741,-0.001774479867890,-0.082413405179977,-0.113251239061356,0.052973799407482,0.119766324758530));
res += mul(Get(s0,dx,dy), float4x4(-0.061885252594948,0.052657697349787,0.003663724288344,-0.024560617282987,-0.093786552548409,-0.065751977264881,0.077875293791294,-0.062729410827160,-0.183338969945908,0.000919689482544,0.179919749498367,0.063566349446774,-0.004471115302294,-0.091059356927872,-0.070891447365284,0.016041208058596));
res += mul(Get(s1,-dx,-dy), float4x4(-0.074746064841747,0.035606395453215,-0.054412864148617,-0.053335253149271,0.099135532975197,-0.034066468477249,0.072499111294746,-0.016402440145612,-0.097146600484848,0.202523529529572,0.162643685936928,0.099378794431686,0.052414987236261,0.048654437065125,0.092227742075920,0.057289157062769));
res += mul(Get(s1,-dx,0), float4x4(0.178090766072273,-0.052153207361698,0.089850716292858,-0.199710160493851,0.052877653390169,0.024555357173085,0.007434066385031,-0.015273274853826,0.045835122466087,0.044694311916828,0.003298395313323,-0.090861141681671,0.042522307485342,0.044478565454483,0.011128081008792,-0.007268280256540));
res += mul(Get(s1,-dx,dy), float4x4(-0.149783164262772,0.053674213588238,-0.024161390960217,-0.101653538644314,-0.087080575525761,-0.122471742331982,-0.008286258205771,-0.003391695208848,0.079984687268734,-0.075022682547569,-0.031394463032484,0.056292682886124,0.063797950744629,-0.024998679757118,0.027066800743341,0.130075573921204));
res += mul(Get(s1,0,-dy), float4x4(0.024698199704289,0.034623336046934,0.033356584608555,-0.020392127335072,-0.121114142239094,0.133694604039192,0.021447243168950,0.217056438326836,0.138294741511345,0.110183298587799,0.092536099255085,0.100215852260590,-0.044366277754307,0.098072007298470,-0.136617496609688,0.071704030036926));
res += mul(Get(s1,0,0), float4x4(-0.049747452139854,0.079412214457989,0.188419654965401,-0.211213558912277,-0.052579756826162,-0.053825225681067,0.059917300939560,0.048842098563910,0.042018998414278,0.032504681497812,-0.145083665847778,0.033700741827488,0.105180069804192,-0.033258285373449,0.034077730029821,0.023707037791610));
res += mul(Get(s1,0,dy), float4x4(-0.020876042544842,0.148603200912476,-0.056728422641754,-0.149238377809525,0.047470085322857,-0.006037675775588,-0.038138363510370,-0.136877894401550,0.036175396293402,-0.044164523482323,0.178489312529564,-0.018674446269870,0.093051776289940,0.057477891445160,0.004568686708808,0.126797080039978));
res += mul(Get(s1,dx,-dy), float4x4(-0.169747158885002,-0.134813860058784,-0.055238705128431,0.017727565020323,-0.107197292149067,-0.007124206516892,-0.049659490585327,-0.004544968251139,-0.095063745975494,-0.019346242770553,0.168306291103363,0.008600669912994,-0.028433281928301,-0.114120393991470,0.062299512326717,0.089925140142441));
res += mul(Get(s1,dx,0), float4x4(0.081013806164265,-0.302606761455536,0.066273093223572,-0.113531902432442,-0.024066982790828,0.196093738079071,0.116699151694775,0.095055885612965,-0.194252863526344,-0.184250682592392,-0.143184378743172,-0.001314274151810,-0.062355209141970,-0.019291670992970,-0.121208295226097,0.040569111704826));
res += mul(Get(s1,dx,dy), float4x4(0.020858220756054,0.015387678518891,-0.104703642427921,-0.087011553347111,-0.214772373437881,-0.069118253886700,-0.056848503649235,0.116077244281769,0.094562888145447,0.001418696832843,-0.074484132230282,-0.068208083510399,-0.005351196043193,0.028097352012992,0.116938240826130,-0.091525577008724));
res += mul(Get(s2,-dx,-dy), float4x4(0.066640324890614,0.039513643831015,-0.051238257437944,0.116366259753704,-0.005709637422115,0.003448198316619,-0.105749301612377,-0.026736684143543,-0.040019966661930,0.140773311257362,-0.054339263588190,0.044378161430359,0.063371531665325,-0.033092610538006,-0.083679549396038,-0.058530222624540));
res += mul(Get(s2,-dx,0), float4x4(0.111057214438915,-0.050163675099611,0.005891806446016,-0.044538587331772,-0.012132204137743,0.140971615910530,0.032720834016800,-0.122525304555893,0.047983340919018,0.026426147669554,-0.108155876398087,-0.097700215876102,0.084359265863895,0.004297949373722,-0.101910673081875,0.026712922379375));
res += mul(Get(s2,-dx,dy), float4x4(0.096828624606133,0.024917492642999,0.059898335486650,-0.023732556030154,0.101712919771671,0.086153283715248,0.270921230316162,0.034488588571548,0.000049696038332,0.006656563375145,-0.070833168923855,0.034686051309109,0.068719714879990,0.027156433090568,-0.042138125747442,0.127387523651123));
res += mul(Get(s2,0,-dy), float4x4(-0.182129457592964,0.170652315020561,0.240982681512833,0.027767397463322,0.011453741230071,-0.064941085875034,0.108831763267517,-0.034027058631182,-0.050207465887070,-0.090034097433090,0.041824501007795,-0.078966192901134,-0.100694559514523,0.049202892929316,0.032494485378265,0.070906512439251));
res += mul(Get(s2,0,0), float4x4(0.029141718521714,0.155972987413406,0.100175529718399,0.055082526057959,0.086061917245388,0.004809163045138,0.125064730644226,-0.086620800197124,0.047037400305271,-0.194930300116539,0.224249601364136,0.128295600414276,-0.013515943661332,-0.034310996532440,0.101986020803452,-0.054958209395409));
res += mul(Get(s2,0,dy), float4x4(-0.299248516559601,-0.069563128054142,0.052935674786568,0.021304678171873,-0.007470886223018,-0.110884934663773,0.051214259117842,-0.057220950722694,-0.080964207649231,0.040485505014658,-0.054536994546652,0.108427330851555,0.038598265498877,0.003507859306410,0.022748457267880,-0.209676861763000));
res += mul(Get(s2,dx,-dy), float4x4(-0.156436398625374,-0.046781130135059,0.016335543245077,-0.051121301949024,-0.090198576450348,-0.023820748552680,-0.094738446176052,0.124348111450672,0.091388799250126,-0.134550541639328,-0.065666764974594,0.008875276893377,-0.111677877604961,-0.006079315673560,0.125373855233192,-0.092138834297657));
res += mul(Get(s2,dx,0), float4x4(-0.083883322775364,0.186901360750198,0.080121397972107,-0.050129722803831,-0.118364453315735,0.092630855739117,-0.189753964543343,-0.117176339030266,0.127172857522964,-0.192523688077927,0.202558755874634,-0.065347380936146,-0.021493181586266,0.011215548962355,-0.122028328478336,0.011764468625188));
res += mul(Get(s2,dx,dy), float4x4(0.005363937001675,-0.000390372297261,0.084798760712147,-0.042762745171785,0.117221027612686,-0.124777287244797,-0.002655472839251,0.046735826879740,0.178230911493301,-0.001914761960506,-0.076938115060329,-0.000065543106757,-0.138745591044426,-0.034456338733435,-0.091345101594925,-0.110719367861748));
res += mul(Get(s3,-dx,-dy), float4x4(-0.024854078888893,-0.118399217724800,-0.134724646806717,0.004802757874131,0.008415536023676,0.002925695385784,-0.028018189594150,0.022423634305596,-0.013259298168123,-0.177269160747528,-0.108360767364502,0.082280777394772,0.041645385324955,0.060422860085964,-0.070334672927856,0.004281620495021));
res += mul(Get(s3,-dx,0), float4x4(0.023097228258848,-0.093556888401508,-0.175497442483902,0.132792010903358,0.086374826729298,0.056795414537191,-0.067579835653305,0.082051470875740,0.011285142041743,-0.041128695011139,0.103168293833733,-0.065672673285007,-0.008122921921313,-0.056461833417416,0.208697527647018,-0.094323597848415));
res += mul(Get(s3,-dx,dy), float4x4(0.032649084925652,0.061365991830826,0.136877894401550,0.158020868897438,-0.007910502143204,0.145904853940010,0.054727941751480,0.149330005049706,0.015687543898821,0.068169809877872,0.065942533314228,0.084962420165539,-0.056646838784218,0.070011474192142,-0.073954358696938,0.024799859151244));
res += mul(Get(s3,0,-dy), float4x4(0.069336153566837,0.006660743150860,0.078744173049927,0.040970299392939,-0.071344815194607,0.001386031275615,0.012826226651669,-0.241449907422066,-0.022087620571256,0.081209629774094,-0.086870819330215,-0.200151041150093,-0.071127243340015,0.025599963963032,0.134729698300362,-0.078764304518700));
res += mul(Get(s3,0,0), float4x4(0.096065275371075,0.098532050848007,-0.009696018882096,0.181880846619606,-0.050896082073450,-0.065278202295303,0.055885653942823,-0.059113916009665,-0.150005400180817,0.059144865721464,-0.016062695533037,0.061225052922964,-0.135512590408325,-0.022515749558806,0.264967232942581,-0.049636837095022));
res += mul(Get(s3,0,dy), float4x4(-0.020445739850402,0.134452670812607,-0.038075529038906,0.063453696668148,-0.062852375209332,0.049316029995680,-0.079119928181171,0.169393092393875,-0.056390736252069,0.170945599675179,-0.015221089124680,0.066449992358685,-0.078193530440331,-0.020630031824112,0.057273615151644,-0.037811689078808));
res += mul(Get(s3,dx,-dy), float4x4(0.094981327652931,-0.074276059865952,0.047878101468086,0.087425500154495,-0.104843005537987,-0.086507491767406,0.156479150056839,0.067730389535427,-0.102849595248699,-0.109648272395134,-0.072517678141594,0.106478698551655,-0.061588458716869,0.016122955828905,-0.000188284888281,-0.116098240017891));
res += mul(Get(s3,dx,0), float4x4(0.102369070053101,-0.097810074687004,0.162377908825874,0.051374919712543,0.121141813695431,-0.037119857966900,-0.013660886324942,0.021984951570630,0.065521940588951,0.064086847007275,0.041139341890812,-0.025872858241200,-0.013252073898911,0.038629367947578,-0.086892373859882,-0.119815386831760));
res += mul(Get(s3,dx,dy), float4x4(-0.016172591596842,-0.164565205574036,0.147724241018295,-0.047074701637030,-0.203280523419380,0.002031756797805,-0.058938182890415,0.045162890106440,-0.041490476578474,-0.017467841506004,0.251712977886200,0.079025670886040,0.037295762449503,0.177189096808434,-0.062427379190922,-0.046164683997631));
return max(float4(0,0,0,0), res);
}
