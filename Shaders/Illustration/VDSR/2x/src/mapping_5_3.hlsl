sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.036751918494701,-0.063165836036205,-0.183121755719185,0.063290022313595,-0.008352663367987,-0.001067196717486,-0.090854570269585,0.093740344047546,-0.003111063735560,0.103718571364880,0.082800470292568,-0.090610139071941,-0.098943680524826,-0.130706071853638,-0.102844603359699,0.047975223511457));
res += mul(Get(s0,-dx,0), float4x4(0.015680832788348,0.046566747128963,0.010335872881114,-0.043341763317585,0.038592629134655,0.024882884696126,-0.030894072726369,-0.002193272812292,0.063745394349098,0.057094689458609,0.051608543843031,0.031167030334473,-0.114673905074596,-0.084768630564213,-0.151984632015228,0.057936161756516));
res += mul(Get(s0,-dx,dy), float4x4(0.035439372062683,-0.090586386620998,0.057727299630642,-0.049726936966181,0.024723347276449,0.016249468550086,-0.085172526538372,-0.044005084782839,-0.060809902846813,-0.007209646515548,0.009332858957350,-0.120157450437546,-0.164769783616066,-0.036988507956266,0.011105274781585,-0.023815793916583));
res += mul(Get(s0,0,-dy), float4x4(-0.111050978302956,-0.021486002951860,-0.130352601408958,0.034260407090187,-0.075116172432899,-0.026961369439960,-0.080314740538597,0.137584045529366,0.009583648294210,0.016398424282670,0.003439444815740,0.137488633394241,0.055164255201817,-0.149925142526627,0.178585425019264,0.039474975317717));
res += mul(Get(s0,0,0), float4x4(0.053412843495607,-0.031109306961298,0.045258447527885,0.236699149012566,-0.027017433196306,0.224964499473572,-0.007895092479885,-0.111888848245144,-0.074173256754875,0.074033543467522,0.113929525017738,0.109927073121071,-0.007643544580787,-0.128083810210228,0.049279280006886,-0.083486676216125));
res += mul(Get(s0,0,dy), float4x4(-0.004469566047192,-0.170955821871758,-0.022172011435032,-0.189660012722015,-0.115407630801201,-0.002799280220643,-0.043023455888033,-0.161301627755165,-0.089328035712242,-0.093087352812290,0.062595255672932,0.081436939537525,-0.114042483270168,-0.057168439030647,-0.138403430581093,0.002820407738909));
res += mul(Get(s0,dx,-dy), float4x4(0.052015665918589,-0.093447454273701,-0.011800443753600,0.071626484394073,-0.075900465250015,0.002282009692863,0.013539766892791,0.043855402618647,0.062903679907322,0.053011823445559,-0.051977761089802,-0.182036265730858,0.069966442883015,-0.188757032155991,0.033189758658409,-0.009365321137011));
res += mul(Get(s0,dx,0), float4x4(0.054567586630583,-0.137459203600883,-0.033328637480736,0.040812265127897,-0.011101310141385,-0.065460100769997,0.020175840705633,-0.028750367462635,-0.089044682681561,-0.012046342715621,-0.014990909956396,-0.059206299483776,0.125858202576637,-0.111271977424622,0.175161138176918,-0.037230111658573));
res += mul(Get(s0,dx,dy), float4x4(0.141455039381981,-0.072050757706165,-0.219364702701569,-0.076372735202312,-0.102441087365150,0.141508772969246,0.027803618460894,0.125521570444107,-0.144729316234589,-0.016699351370335,-0.058992348611355,-0.176869034767151,0.050440561026335,-0.049801062792540,0.018827667459846,0.035878967493773));
res += mul(Get(s1,-dx,-dy), float4x4(-0.079149559140205,0.018642881885171,0.077211111783981,-0.097507260739803,0.093081995844841,-0.137302771210670,-0.111328199505806,-0.019405247643590,0.016228020191193,0.081563644111156,-0.058368973433971,0.049442339688540,-0.004543892107904,-0.021471470594406,-0.036813739687204,-0.020274922251701));
res += mul(Get(s1,-dx,0), float4x4(-0.025453688576818,0.071315146982670,-0.021140823140740,0.105434261262417,0.048066891729832,-0.067843675613403,0.051104478538036,-0.105648495256901,0.032293561846018,0.026578839868307,0.117369718849659,0.027551023289561,-0.013647872954607,-0.022499529644847,0.014028158038855,-0.105675406754017));
res += mul(Get(s1,-dx,dy), float4x4(-0.029998663812876,-0.036305334419012,0.078322619199753,-0.017427757382393,0.145018294453621,-0.083419799804688,-0.016964582726359,0.029776018112898,0.049450416117907,0.115326039493084,0.065926447510719,0.056109100580215,0.022357635200024,-0.097486041486263,-0.137928113341331,0.006228336598724));
res += mul(Get(s1,0,-dy), float4x4(-0.105857655405998,-0.029861716553569,0.239289700984955,-0.127935811877251,0.018233338370919,-0.161035686731339,0.004066685214639,-0.037741288542747,-0.001449033967219,-0.020454742014408,0.064347647130489,0.003170414827764,-0.136205404996872,-0.050838615745306,-0.023585261777043,-0.006081365980208));
res += mul(Get(s1,0,0), float4x4(0.120019212365150,-0.092231057584286,0.152784764766693,0.148743793368340,-0.075822457671165,-0.064828954637051,-0.053817678242922,-0.062049411237240,0.000903554726392,0.108059324324131,0.024193730205297,-0.080416947603226,0.060303665697575,0.029566299170256,0.036865595728159,-0.060777924954891));
res += mul(Get(s1,0,dy), float4x4(0.019796676933765,-0.030890680849552,0.002273130929098,-0.121341764926910,-0.038330879062414,-0.109416976571083,-0.019737223163247,-0.018348397687078,-0.041332893073559,0.040332004427910,-0.010371403768659,0.041695896536112,-0.026779955253005,-0.096832394599915,-0.172843560576439,-0.029893437400460));
res += mul(Get(s1,dx,-dy), float4x4(-0.085549719631672,-0.106266878545284,-0.043138835579157,0.034601077437401,0.005710608791560,-0.094333320856094,-0.035830929875374,-0.045899290591478,0.033420741558075,0.088133774697781,0.091788001358509,0.062772504985332,-0.168956980109215,0.067079879343510,-0.081418029963970,0.038458947092295));
res += mul(Get(s1,dx,0), float4x4(-0.038034480065107,-0.159087166190147,-0.047897443175316,0.044234357774258,-0.071422949433327,-0.089603379368782,-0.191389665007591,-0.017757551744580,0.019738897681236,0.059301976114511,-0.024639245122671,-0.107729874551296,-0.082540124654770,-0.041731957346201,-0.113468237221241,-0.047928441315889));
res += mul(Get(s1,dx,dy), float4x4(0.009754919447005,-0.100774928927422,0.003033283399418,-0.063816614449024,0.009540997445583,-0.145055904984474,-0.029520470649004,0.079737760126591,-0.015805648639798,0.023476470261812,0.066580884158611,0.049284320324659,0.017626240849495,-0.056440193206072,-0.094231747090816,-0.022879905998707));
res += mul(Get(s2,-dx,-dy), float4x4(-0.029211705550551,-0.018575724214315,0.123260855674744,0.017420787364244,0.076125510036945,0.006666211877018,0.021662157028913,0.023507934063673,-0.151300176978111,-0.036100056022406,0.122771903872490,0.039494112133980,-0.099708154797554,0.032349579036236,0.092446461319923,-0.146583274006844));
res += mul(Get(s2,-dx,0), float4x4(-0.039598163217306,0.097632110118866,0.064335815608501,-0.020342431962490,0.192468732595444,-0.002103459322825,0.228851765394211,-0.078487478196621,0.029609058052301,-0.036963772028685,0.004401828628033,0.027899639680982,-0.015290614217520,-0.075186252593994,-0.025192568078637,-0.015457250177860));
res += mul(Get(s2,-dx,dy), float4x4(-0.027852321043611,0.012536376714706,-0.038460243493319,-0.025289541110396,-0.113460496068001,0.045299299061298,0.045196671038866,0.032502304762602,0.044565364718437,-0.034664627164602,0.080134928226471,0.118700377643108,-0.036838527768850,0.061350848525763,0.079698041081429,-0.063523948192596));
res += mul(Get(s2,0,-dy), float4x4(-0.047620024532080,-0.017469819635153,0.119767569005489,0.007739056367427,0.023126821964979,-0.029547166079283,-0.131585672497749,-0.044515103101730,-0.061206649988890,-0.157327100634575,0.302994191646576,0.036015905439854,-0.053620010614395,0.050990641117096,0.128816217184067,-0.153833523392677));
res += mul(Get(s2,0,0), float4x4(0.038714457303286,-0.033948522061110,0.049674488604069,-0.054913572967052,0.057840917259455,-0.008544738404453,-0.068950600922108,0.026992615312338,-0.019658539444208,-0.189949542284012,-0.037096679210663,-0.025343185290694,0.018860403448343,-0.046633087098598,0.004818791523576,-0.058323580771685));
res += mul(Get(s2,0,dy), float4x4(0.036656282842159,0.042567893862724,-0.044486716389656,-0.075090020895004,0.003168602706864,-0.029478898271918,-0.096275649964809,0.003600875148550,-0.082164354622364,-0.069395072758198,-0.002778890309855,-0.040038768202066,-0.118835546076298,0.006526493933052,-0.034777648746967,0.035280223935843));
res += mul(Get(s2,dx,-dy), float4x4(0.135647103190422,0.111706309020519,-0.095353916287422,0.032561991363764,-0.193222060799599,-0.089841738343239,0.005776021163911,-0.011518293060362,0.021578997373581,-0.129296183586121,0.082955837249756,-0.007626172620803,0.049155220389366,-0.052806872874498,-0.017731048166752,-0.108219958841801));
res += mul(Get(s2,dx,0), float4x4(0.089561931788921,-0.052295286208391,-0.071909584105015,-0.034227486699820,-0.032259214669466,-0.077663734555244,-0.054197251796722,0.006823047529906,0.178531974554062,-0.144832938909531,-0.005726361181587,0.039722695946693,0.106357902288437,-0.129805713891983,-0.068842574954033,-0.035825606435537));
res += mul(Get(s2,dx,dy), float4x4(-0.007598794996738,0.001343987067230,-0.055632390081882,0.006394784897566,0.080994792282581,-0.032100018113852,-0.078188568353653,0.016140678897500,0.063485004007816,-0.122191064059734,-0.006663229782134,0.039080183953047,0.118340127170086,0.125392243266106,0.051407705992460,-0.063111104071140));
res += mul(Get(s3,-dx,-dy), float4x4(-0.006373406853527,-0.009100521914661,0.100114747881889,-0.061897616833448,-0.072325594723225,-0.057858422398567,-0.120616383850574,0.140153482556343,0.060604680329561,-0.040691737085581,-0.027926629409194,-0.042530123144388,-0.085004769265652,0.004686101339757,-0.005251315888017,-0.004023730754852));
res += mul(Get(s3,-dx,0), float4x4(-0.075511328876019,-0.041325177997351,0.003880548290908,-0.162456542253494,-0.072504952549934,-0.045112807303667,-0.075413748621941,0.063773393630981,0.051946185529232,-0.066525921225548,0.128769636154175,0.245089575648308,0.123402327299118,0.008225874044001,0.040869206190109,-0.096540369093418));
res += mul(Get(s3,-dx,dy), float4x4(-0.017352186143398,0.005669486243278,-0.046580713242292,-0.017547870054841,-0.034378036856651,-0.081673942506313,-0.138486191630363,0.152947336435318,-0.034043416380882,0.048194579780102,0.116816572844982,0.052606254816055,0.070609159767628,0.111967898905277,0.016754787415266,0.015292505733669));
res += mul(Get(s3,0,-dy), float4x4(0.022674877196550,-0.066442146897316,-0.103615477681160,0.022274699062109,-0.066765300929546,-0.023743249475956,-0.003284945385531,-0.020928567275405,-0.075637497007847,0.067123115062714,-0.126964092254639,-0.091814644634724,0.113907061517239,0.038910128176212,-0.085752323269844,0.005713644437492));
res += mul(Get(s3,0,0), float4x4(-0.119939647614956,-0.073958598077297,-0.081580296158791,0.100287660956383,-0.019866587594151,-0.035885781049728,0.175356775522232,-0.033796723932028,-0.042128432542086,0.119348458945751,-0.076519183814526,-0.115315206348896,0.107790209352970,0.015463816002011,0.031160378828645,0.102581232786179));
res += mul(Get(s3,0,dy), float4x4(-0.091693155467510,0.085904024541378,-0.041210085153580,0.185438960790634,-0.042993467301130,-0.054897576570511,0.120893970131874,-0.037538938224316,-0.078869193792343,0.064843222498894,-0.016226513311267,0.020813148468733,0.013007279485464,0.028388975188136,0.014737543649971,-0.008804231882095));
res += mul(Get(s3,dx,-dy), float4x4(-0.112285479903221,0.036062974482775,-0.122619681060314,0.034664072096348,-0.004984905011952,-0.087495647370815,0.037375852465630,-0.006212160456926,0.079585507512093,0.173667430877686,0.033339124172926,0.051395844668150,0.008892384357750,-0.048217691481113,0.092594631016254,0.057953082025051));
res += mul(Get(s3,dx,0), float4x4(-0.098440393805504,0.031433213502169,0.017051393166184,-0.010770137421787,0.131798416376114,-0.157861769199371,0.036793023347855,-0.027753660455346,-0.003927337005734,0.037700325250626,-0.012583887204528,-0.041971553117037,0.011757706291974,0.071317650377750,0.063041947782040,0.146725863218307));
res += mul(Get(s3,dx,dy), float4x4(0.019008554518223,-0.097450099885464,-0.005805995780975,-0.028641095384955,0.092881970107555,-0.137091442942619,0.003023857949302,0.031970165669918,-0.045224025845528,0.129716470837593,0.006448105908930,-0.011589986272156,0.094938479363918,0.109910890460014,-0.031903855502605,0.005196360871196));
return max(float4(0,0,0,0), res);
}
