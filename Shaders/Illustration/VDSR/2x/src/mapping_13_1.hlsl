sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.063420847058296,0.045525681227446,-0.133606836199760,-0.016825133934617,0.050560072064400,0.143471390008926,-0.025571083649993,0.026456402614713,0.128069758415222,-0.171609178185463,0.025565588846803,-0.009700383059680,0.033691592514515,-0.063532948493958,0.096253015100956,0.013060102239251));
res += mul(Get(s0,-dx,0), float4x4(-0.064844533801079,-0.038884937763214,-0.056942772120237,0.203456953167915,0.028181971982121,-0.000494392472319,0.107698231935501,-0.051937822252512,0.006719509139657,-0.147649273276329,-0.068485602736473,-0.033913400024176,0.224903881549835,-0.000694668036886,0.114172868430614,0.179369702935219));
res += mul(Get(s0,-dx,dy), float4x4(-0.013953540474176,-0.002378208097070,-0.021053511649370,-0.088534049689770,0.290471613407135,0.162098020315170,0.031335167586803,-0.054932966828346,-0.069046236574650,-0.179530367255211,0.028515243902802,-0.198457226157188,-0.055560991168022,-0.038319978863001,0.085713922977448,-0.015538166277111));
res += mul(Get(s0,0,-dy), float4x4(0.021332038566470,0.106312878429890,-0.085452884435654,-0.027015579864383,0.013270981609821,0.000759343325626,-0.068398773670197,0.073715224862099,-0.028475642204285,-0.041248217225075,-0.012993111275136,-0.160135030746460,0.024446267634630,-0.034567166119814,0.135034844279289,0.028956538066268));
res += mul(Get(s0,0,0), float4x4(0.014806332066655,-0.178232789039612,0.101628638803959,0.005257374141365,-0.128718852996826,-0.049541544169188,-0.078243330121040,0.127227395772934,-0.025981981307268,-0.081289790570736,-0.075986929237843,-0.029741194099188,0.401121616363525,0.070345744490623,-0.062548451125622,0.053829643875360));
res += mul(Get(s0,0,dy), float4x4(-0.017521904781461,-0.000262871559244,0.088616311550140,-0.031612142920494,-0.152009397745132,0.056588552892208,-0.096856817603111,-0.091027297079563,-0.026637690141797,-0.077521845698357,-0.018416754901409,-0.115324310958385,-0.046456493437290,-0.076942227780819,0.123590454459190,0.037244323641062));
res += mul(Get(s0,dx,-dy), float4x4(0.231456577777863,-0.001505825086497,-0.074849545955658,-0.087607927620411,-0.061411436647177,-0.038437690585852,-0.025260280817747,-0.065118417143822,-0.024663852527738,-0.099106371402740,-0.027224799618125,0.304822087287903,-0.015290784649551,0.100900948047638,0.104894243180752,-0.020211951807141));
res += mul(Get(s0,dx,0), float4x4(-0.130384027957916,-0.087967760860920,-0.079062618315220,0.057551968842745,-0.139947116374969,-0.160755559802055,-0.014500305056572,0.013883568346500,-0.042994812130928,-0.088550083339214,-0.055867522954941,0.075421832501888,0.039463028311729,-0.040941745042801,-0.000927121145651,0.068263806402683));
res += mul(Get(s0,dx,dy), float4x4(0.087529540061951,-0.075632661581039,-0.006583987269551,-0.082300320267677,-0.051793105900288,-0.096095971763134,-0.059298694133759,-0.117853090167046,0.012795923277736,-0.010063960216939,0.076242856681347,-0.121963657438755,-0.094170533120632,-0.076674178242683,0.088162161409855,-0.040397893637419));
res += mul(Get(s1,-dx,-dy), float4x4(0.011185034178197,0.039113275706768,-0.002874555066228,0.033089082688093,-0.069563359022141,-0.065257184207439,-0.162924438714981,0.019771508872509,0.159562334418297,0.045950040221214,0.008084581233561,0.031352315098047,0.044433187693357,0.021478783339262,0.079351238906384,-0.035580281168222));
res += mul(Get(s1,-dx,0), float4x4(-0.130985587835312,-0.108923800289631,0.129682123661041,0.108326889574528,-0.135466307401657,-0.115747980773449,0.032457295805216,0.002690261928365,0.124915942549706,0.179065316915512,0.020062208175659,0.005118675064296,-0.026604864746332,-0.094318553805351,0.046699117869139,0.153626561164856));
res += mul(Get(s1,-dx,dy), float4x4(-0.017383771017194,0.003497810102999,0.109787426888943,-0.030616976320744,-0.018632458522916,0.006121814250946,0.159896507859230,0.049242921173573,0.070867829024792,-0.006616963539273,-0.084427885711193,0.041570294648409,-0.073051095008850,0.011500724591315,0.015890615060925,0.060447297990322));
res += mul(Get(s1,0,-dy), float4x4(-0.012033703736961,-0.058821137994528,-0.220758676528931,-0.019791804254055,-0.138127490878105,0.025570407509804,-0.121577620506287,-0.043673448264599,-0.063396014273167,0.031487911939621,0.043717734515667,0.099942155182362,-0.001598756993189,0.254597067832947,0.049218233674765,-0.009661593474448));
res += mul(Get(s1,0,0), float4x4(-0.047811493277550,-0.056953426450491,-0.031176272779703,0.083353273570538,0.058868788182735,-0.044277865439653,-0.004033609293401,0.018949486315250,-0.158164694905281,0.108041398227215,-0.001344864140265,0.134055659174919,0.040431629866362,0.063662968575954,-0.022463442757726,0.020854970440269));
res += mul(Get(s1,0,dy), float4x4(0.111984178423882,0.121752604842186,0.090459562838078,-0.064712174236774,0.074878163635731,0.194041177630424,0.074142850935459,-0.075978480279446,0.095709629356861,0.020077783614397,-0.082795724272728,-0.031082622706890,0.040993526577950,0.020511331036687,0.097332820296288,-0.054819438606501));
res += mul(Get(s1,dx,-dy), float4x4(-0.103985689580441,0.078026898205280,-0.108939886093140,0.036682721227407,-0.155494987964630,-0.112803637981415,-0.039794165641069,-0.016639696434140,-0.055866058915854,-0.103750243782997,0.030282942578197,-0.047786980867386,0.061549168080091,0.129809111356735,0.048545729368925,0.058675762265921));
res += mul(Get(s1,dx,0), float4x4(-0.094449646770954,-0.024624818935990,-0.099828250706196,0.101563923060894,0.010091689415276,-0.116193197667599,-0.001770277624018,0.018701782450080,-0.036827620118856,-0.208549693226814,0.150916561484337,0.006550247780979,0.021280936896801,-0.062350556254387,0.008996560238302,0.011158217675984));
res += mul(Get(s1,dx,dy), float4x4(0.041868045926094,0.041967064142227,0.008436965756118,-0.072219170629978,0.190294235944748,0.093010604381561,-0.007474358193576,0.064671285450459,0.028999783098698,-0.112962476909161,-0.015426119789481,-0.060887511819601,-0.048424094915390,0.002922276267782,-0.026656331494451,0.014215401373804));
res += mul(Get(s2,-dx,-dy), float4x4(-0.077542774379253,-0.073335424065590,0.086689710617065,-0.003477972699329,0.055295057594776,-0.006224303040653,0.089254043996334,0.016656916588545,-0.005060231778771,0.051976460963488,-0.174956917762756,0.001945338444784,0.008179258555174,-0.094169765710831,-0.025632703676820,0.148791342973709));
res += mul(Get(s2,-dx,0), float4x4(-0.067950807511806,0.032457299530506,0.070965990424156,0.104512080550194,0.072994664311409,0.041417423635721,-0.139507696032524,-0.097138293087482,-0.015657920390368,-0.055879570543766,-0.058088898658752,0.158982798457146,-0.048442214727402,-0.049038663506508,-0.121683053672314,0.077879436314106));
res += mul(Get(s2,-dx,dy), float4x4(-0.064676694571972,0.098409309983253,0.132628664374352,-0.105846904218197,0.011252246797085,-0.119978003203869,-0.037060771137476,-0.083539947867393,0.119364112615585,-0.010135055519640,0.045154310762882,-0.042749755084515,-0.051337502896786,-0.092070162296295,-0.054816238582134,0.045577831566334));
res += mul(Get(s2,0,-dy), float4x4(-0.025094728916883,-0.018562059849501,0.135919183492661,0.037496689707041,0.028937099501491,-0.030392758548260,0.262531757354736,0.121314160525799,0.045671429485083,0.036517426371574,-0.087238013744354,-0.040194079279900,-0.011404401622713,-0.004454731475562,-0.112008690834045,-0.060308884829283));
res += mul(Get(s2,0,0), float4x4(0.024094156920910,0.217398896813393,-0.090764671564102,0.119923852384090,-0.081368915736675,0.082476764917374,0.048972062766552,-0.026936830952764,-0.048942808061838,-0.040943823754787,-0.028371082618833,0.178857833147049,-0.041574671864510,-0.122652657330036,0.096165120601654,-0.011992889456451));
res += mul(Get(s2,0,dy), float4x4(-0.024260833859444,0.049423921853304,0.048055827617645,-0.161348998546600,-0.013392067514360,-0.058505769819021,0.034220710396767,-0.008604749105871,-0.089302703738213,0.116016186773777,-0.023517269641161,-0.102536618709564,-0.045393027365208,0.217800974845886,0.027221668511629,-0.095418252050877));
res += mul(Get(s2,dx,-dy), float4x4(-0.145232200622559,-0.085340112447739,0.125639468431473,-0.071668609976768,-0.111000835895538,-0.046137414872646,-0.038065657019615,-0.120074771344662,0.014990257099271,-0.020771339535713,-0.039617177098989,-0.015288511291146,-0.018847614526749,-0.122129045426846,-0.058855950832367,-0.047938670963049));
res += mul(Get(s2,dx,0), float4x4(-0.089423134922981,-0.175048708915710,-0.101578682661057,0.078178308904171,0.074558794498444,0.107551522552967,-0.036227025091648,-0.026888635009527,0.029094051569700,-0.125699877738953,0.066116072237492,-0.009217213839293,0.210894659161568,-0.106648236513138,-0.105416648089886,-0.050974790006876));
res += mul(Get(s2,dx,dy), float4x4(0.044493097811937,-0.222176998853683,0.031128846108913,-0.289799720048904,0.121468663215637,0.003502387553453,0.073788903653622,0.122601173818111,0.057227499783039,0.097218148410320,0.138596743345261,-0.066777490079403,0.157891482114792,-0.053110741078854,0.113106258213520,-0.135783001780510));
res += mul(Get(s3,-dx,-dy), float4x4(-0.021958140656352,0.002006597816944,0.013595843687654,-0.068322680890560,-0.099256806075573,-0.089164540171623,-0.017485434189439,0.020612062886357,-0.002744352445006,-0.031084287911654,-0.102492228150368,-0.020472353324294,0.008977881632745,-0.065195582807064,0.147576510906219,-0.031183121725917));
res += mul(Get(s3,-dx,0), float4x4(-0.030336769297719,-0.086671933531761,-0.056049074977636,-0.081863604485989,0.019873403012753,-0.126337498426437,0.076180107891560,0.060878466814756,0.017219323664904,-0.053290478885174,-0.087787948548794,-0.099060513079166,0.002593139884993,0.060595024377108,0.023268315941095,0.302661418914795));
res += mul(Get(s3,-dx,dy), float4x4(0.084723904728889,-0.004315860103816,-0.005838757380843,-0.102055534720421,-0.017273876816034,-0.227412223815918,-0.002868124283850,-0.210376918315887,0.085095457732677,-0.030697653070092,0.070230841636658,-0.133400663733482,-0.018446886911988,0.010225068777800,0.068894296884537,-0.084837667644024));
res += mul(Get(s3,0,-dy), float4x4(0.056623440235853,0.059396352618933,0.002382024424151,-0.027552099898458,-0.142037704586983,-0.018337415531278,0.036004237830639,0.183950439095497,-0.025534432381392,-0.001954445848241,-0.176187142729759,-0.074203118681908,-0.088400289416313,0.268095135688782,-0.023999264463782,-0.069542735815048));
res += mul(Get(s3,0,0), float4x4(0.076965473592281,-0.046596813946962,0.233228817582130,-0.093440130352974,0.022863976657391,0.427765190601349,0.064681045711040,0.154405727982521,-0.046062920242548,-0.009436748921871,-0.171468481421471,-0.029026947915554,-0.033733658492565,0.214875206351280,-0.026952100917697,0.207230627536774));
res += mul(Get(s3,0,dy), float4x4(0.172382950782776,-0.002755565103143,0.007016070187092,-0.060794502496719,0.101956546306610,0.553549826145172,-0.025451762601733,-0.116292968392372,0.127285271883011,0.143001079559326,0.071386717259884,-0.158239394426346,-0.016526889055967,0.275870829820633,0.008218331262469,-0.057983577251434));
res += mul(Get(s3,dx,-dy), float4x4(-0.035063527524471,0.057464618235826,-0.109296999871731,0.043802887201309,-0.020381040871143,-0.100341908633709,0.090354815125465,0.081989504396915,-0.048866566270590,-0.091628558933735,0.084803573787212,-0.001633547130041,-0.073758341372013,-0.027322292327881,0.007680435199291,0.019647775217891));
res += mul(Get(s3,dx,0), float4x4(0.018617359921336,-0.009884774684906,-0.029065674170852,0.204075992107391,0.145139813423157,0.200979948043823,0.092003293335438,0.065963640809059,-0.081094995141029,-0.136267066001892,0.032989941537380,-0.069861255586147,-0.050235491245985,0.013778197579086,0.076833032071590,0.396526932716370));
res += mul(Get(s3,dx,dy), float4x4(0.045987296849489,-0.012993274256587,0.145508989691734,-0.067475609481335,0.035813592374325,0.151670381426811,0.024853277951479,0.043220907449722,0.045932002365589,0.016999742016196,0.236411780118942,0.037266399711370,0.033772490918636,-0.007605812046677,0.057955149561167,-0.039386346936226));
return max(float4(0,0,0,0), res);
}
