sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.041823580861092,-0.167642518877983,-0.055810526013374,0.084618702530861,0.000655656855088,0.008952295407653,-0.080057524144650,-0.106240302324295,0.048014059662819,0.051106821745634,-0.104094982147217,0.054970014840364,0.024720916524529,0.045723460614681,0.048297453671694,-0.050321336835623));
res += mul(Get(s0,-dx,0), float4x4(-0.012086997739971,0.008328543044627,-0.089347310364246,0.056568413972855,0.054823033511639,0.002682905178517,-0.162762001156807,-0.067901819944382,0.042082678526640,-0.015951568260789,0.087035134434700,0.071686729788780,0.045447070151567,-0.029876630753279,-0.015133062377572,-0.013789921998978));
res += mul(Get(s0,-dx,dy), float4x4(-0.056290015578270,-0.085401371121407,-0.045375190675259,0.119801953434944,0.054093960672617,-0.043069820851088,-0.222506448626518,-0.153475150465965,0.145144686102867,-0.026206998154521,-0.095098301768303,-0.006270643789321,-0.120312638580799,-0.023304300382733,-0.131029427051544,-0.032207801938057));
res += mul(Get(s0,0,-dy), float4x4(-0.030063010752201,-0.148675858974457,0.099377624690533,-0.037588022649288,-0.071393340826035,0.091080166399479,-0.122233279049397,-0.109273761510849,0.079905770719051,0.071691974997520,0.089485824108124,0.069639548659325,-0.054281823337078,0.113299049437046,0.102515108883381,-0.073915563523769));
res += mul(Get(s0,0,0), float4x4(-0.086199827492237,-0.007222682237625,-0.197876811027527,0.013811902143061,-0.072104267776012,-0.049181923270226,-0.128527879714966,-0.035076346248388,-0.003743816399947,0.043503828346729,-0.014044147916138,0.114385269582272,0.010070450603962,-0.085593149065971,0.020546497777104,0.101987875998020));
res += mul(Get(s0,0,dy), float4x4(-0.094117574393749,-0.020883742719889,-0.109990552067757,0.028133224695921,-0.135239675641060,-0.133583098649979,-0.138442650437355,0.048981420695782,0.181144654750824,0.019720463082194,0.078059189021587,0.019232183694839,-0.010076359845698,0.012587045319378,0.002222089329734,-0.036853123456240));
res += mul(Get(s0,dx,-dy), float4x4(-0.080929800868034,-0.060158763080835,-0.013002200983465,-0.068998470902443,0.057543970644474,-0.017691800370812,-0.101120442152023,0.017226960510015,-0.031929373741150,0.034524507820606,0.012570455670357,0.039726667106152,-0.053256068378687,0.088460035622120,-0.089269675314426,0.064536079764366));
res += mul(Get(s0,dx,0), float4x4(-0.040293063968420,0.089872904121876,-0.122097231447697,-0.104646660387516,-0.045315891504288,-0.031265974044800,-0.034889604896307,0.126770347356796,0.085960015654564,0.077607311308384,0.103829592466354,0.025027696043253,0.139330476522446,-0.140512451529503,0.002146203536540,0.058702368289232));
res += mul(Get(s0,dx,dy), float4x4(-0.041270084679127,-0.055078439414501,-0.005092306062579,0.052776515483856,-0.044329587370157,-0.131334841251373,-0.121869161725044,-0.073277100920677,0.051836457103491,0.069907911121845,0.007449778262526,-0.008613506332040,0.126002654433250,-0.076430931687355,-0.008651241660118,-0.052881184965372));
res += mul(Get(s1,-dx,-dy), float4x4(-0.121292680501938,0.030419433489442,0.081782698631287,0.024153465405107,0.119547531008720,0.159793809056282,0.139432385563850,0.047552689909935,-0.006838171742857,-0.125144824385643,-0.041847188025713,0.167769044637680,-0.023558121174574,0.024024056270719,-0.046537999063730,0.210198760032654));
res += mul(Get(s1,-dx,0), float4x4(0.038011092692614,0.006183029152453,0.001630279934034,-0.037730474025011,0.133009538054466,0.124256663024426,0.030816687270999,-0.016829727217555,-0.052232496440411,-0.017140835523605,0.102928094565868,0.022782783955336,-0.086179427802563,-0.026215000078082,0.086736015975475,-0.021358961239457));
res += mul(Get(s1,-dx,dy), float4x4(-0.026241416111588,0.279036372900009,-0.003958514425904,0.005663112737238,-0.033583480864763,0.018494889140129,0.035276096314192,0.004854208324105,-0.080688610672951,0.007166636642069,0.025645451620221,0.146614551544189,-0.032251529395580,0.013495538383722,0.113469623029232,0.045265432447195));
res += mul(Get(s1,0,-dy), float4x4(-0.032494079321623,0.017047049477696,0.073721326887608,0.055990003049374,0.093019254505634,0.101131938397884,0.076614014804363,0.073164395987988,0.058346815407276,-0.085134148597717,0.079780861735344,0.316372931003571,0.200981795787811,0.224232032895088,-0.012614260427654,0.074266456067562));
res += mul(Get(s1,0,0), float4x4(0.050825864076614,0.086327545344830,-0.101983703672886,0.085452169179916,0.023335969075561,0.034751478582621,0.010761664249003,-0.002120139310136,0.119035698473454,0.053912322968245,0.080862820148468,-0.127036616206169,0.004390303976834,0.082077153027058,-0.011412911117077,-0.077780753374100));
res += mul(Get(s1,0,dy), float4x4(0.246312752366066,0.043158374726772,-0.049269173294306,-0.050413288176060,-0.045941993594170,-0.022856714203954,0.064790301024914,0.026278736069798,0.010903461836278,-0.086926415562630,0.015391235239804,-0.030428968369961,0.104651562869549,-0.010045194998384,-0.005947919096798,0.075800664722919));
res += mul(Get(s1,dx,-dy), float4x4(-0.089048512279987,0.059440143406391,-0.012459688819945,0.040053144097328,-0.025925586000085,0.073583684861660,0.031913749873638,0.022373961284757,-0.030990632250905,-0.090703897178173,0.112760841846466,0.012730448506773,0.120716497302055,-0.061169091612101,0.064082413911819,0.092029765248299));
res += mul(Get(s1,dx,0), float4x4(0.065673664212227,0.074797794222832,-0.020456630736589,0.009609427303076,-0.105165995657444,0.028616996482015,-0.040919616818428,-0.012745310552418,-0.028321826830506,-0.017428888007998,-0.086134478449821,0.011457195505500,0.023436402902007,-0.067093402147293,0.038098227232695,0.017355902120471));
res += mul(Get(s1,dx,dy), float4x4(-0.034934725612402,0.032115090638399,-0.062208455055952,0.058418210595846,0.020623797550797,0.036779798567295,0.175211101770401,-0.025443861261010,0.041180960834026,0.019224781543016,-0.076393440365791,0.015408667735755,0.035482507199049,-0.011931031942368,-0.015023339539766,0.119466595351696));
res += mul(Get(s2,-dx,-dy), float4x4(0.060219001024961,-0.038377150893211,-0.056388553231955,-0.112198293209076,0.149198368191719,0.000413944944739,0.073392122983932,-0.005182415712625,0.095581352710724,0.130971685051918,0.121309816837311,-0.076791577041149,-0.040760681033134,0.125134930014610,0.033816754817963,-0.008625144138932));
res += mul(Get(s2,-dx,0), float4x4(0.049302086234093,-0.017113149166107,-0.070263102650642,-0.001945085241459,-0.056932277977467,-0.000205201926292,0.056427363306284,-0.144642606377602,-0.033368114382029,0.147500470280647,-0.016130022704601,-0.076208837330341,0.095154188573360,0.008771885186434,0.028877036646008,-0.019737191498280));
res += mul(Get(s2,-dx,dy), float4x4(0.014709564857185,-0.013180953450501,-0.110439963638783,0.071241728961468,-0.134347110986710,0.003565985243767,0.082849644124508,-0.037118870764971,0.061860442161560,0.021818663924932,-0.018058603629470,-0.071363143622875,-0.077518001198769,0.024835387244821,-0.006197441834956,0.032333817332983));
res += mul(Get(s2,0,-dy), float4x4(-0.119232386350632,-0.031284756958485,0.048681885004044,-0.038989607244730,0.061616480350494,0.030228357762098,0.032313473522663,0.014690032228827,0.118801884353161,0.175489395856857,-0.036208655685186,-0.095871426165104,-0.036812119185925,0.075732313096523,-0.022055959329009,-0.143071383237839));
res += mul(Get(s2,0,0), float4x4(-0.161942377686501,-0.105000294744968,-0.056184142827988,0.020216282457113,0.012305703014135,-0.004075525794178,0.034932170063257,-0.210783049464226,-0.053625609725714,0.193264827132225,-0.154730558395386,-0.127017825841904,0.122207455337048,0.068440027534962,-0.060921750962734,-0.112869612872601));
res += mul(Get(s2,0,dy), float4x4(-0.108211129903793,0.020013129338622,-0.112154297530651,-0.027122387662530,-0.121166475117207,-0.079319134354591,-0.022674119099975,0.012738553807139,0.030827293172479,-0.075004346668720,-0.088215604424477,-0.127407670021057,0.094538912177086,0.088345713913441,0.007509114686400,0.159981086850166));
res += mul(Get(s2,dx,-dy), float4x4(-0.035580504685640,-0.082953318953514,0.060465455055237,0.016061209142208,0.026888739317656,-0.067520529031754,0.025746688246727,-0.072521686553955,-0.224948525428772,0.065410360693932,-0.021443959325552,0.118659563362598,-0.021645424887538,-0.025228057056665,-0.013332945294678,0.023909736424685));
res += mul(Get(s2,dx,0), float4x4(-0.083713151514530,-0.033330261707306,-0.073833681643009,0.003659732406959,-0.090863578021526,-0.090502254664898,0.254522085189819,-0.207809194922447,-0.120265692472458,0.098636679351330,0.014717627316713,0.028287371620536,0.033593378961086,-0.017440941184759,0.126216337084770,0.014567355625331));
res += mul(Get(s2,dx,dy), float4x4(-0.059895098209381,0.084588669240475,-0.014238771982491,0.199123665690422,-0.105712287127972,-0.172992736101151,-0.129186123609543,0.023817148059607,-0.035638079047203,-0.112581841647625,0.038147944957018,-0.027156017720699,-0.004222848918289,-0.011887532658875,-0.063087351620197,-0.027177613228559));
res += mul(Get(s3,-dx,-dy), float4x4(0.011384031735361,-0.051480833441019,0.270084947347641,0.085641704499722,0.009344496764243,-0.033629745244980,0.078066609799862,-0.016892131417990,-0.036793336272240,-0.056248966604471,0.123407915234566,0.019989635795355,0.166458681225777,0.095855407416821,0.045774202793837,-0.114651404321194));
res += mul(Get(s3,-dx,0), float4x4(0.068353675305843,0.043825242668390,0.011707833036780,-0.105643257498741,0.066974192857742,0.001481027691625,0.031336992979050,0.454605638980865,-0.001718229381368,-0.069216795265675,0.025592288002372,-0.058430381119251,0.079457111656666,-0.034675799310207,-0.055359419435263,0.044465735554695));
res += mul(Get(s3,-dx,dy), float4x4(0.020411277189851,-0.037013813853264,0.035315793007612,0.008789788931608,-0.019545802846551,-0.123904362320900,-0.052158333361149,-0.154352664947510,0.017020521685481,-0.070774257183075,-0.048418812453747,-0.081881061196327,0.206597089767456,0.046571157872677,0.031735397875309,0.078331492841244));
res += mul(Get(s3,0,-dy), float4x4(0.018192140385509,-0.018738571554422,0.046289317309856,0.011236513964832,-0.072480529546738,-0.110482238233089,0.034348823130131,-0.009541141800582,-0.025932811200619,0.036058180034161,-0.041602652519941,0.031489863991737,0.097437918186188,-0.045842930674553,0.123450428247452,-0.066207252442837));
res += mul(Get(s3,0,0), float4x4(0.017643358558416,0.000166092460859,0.085253685712814,-0.097492590546608,-0.137137979269028,-0.106996864080429,0.066144965589046,0.042462069541216,0.002727406797931,0.024663995951414,-0.045055154711008,-0.002669165376574,0.022030469030142,-0.071891911327839,-0.032606922090054,-0.070404082536697));
res += mul(Get(s3,0,dy), float4x4(-0.099060423672199,-0.120397366583347,0.193221405148506,0.155565798282623,-0.138222754001617,-0.180581048130989,-0.048076249659061,-0.109299741685390,-0.047926753759384,-0.050555501133204,-0.087682560086250,-0.017859971150756,0.000152821638039,0.022168114781380,0.173078536987305,-0.117422938346863));
res += mul(Get(s3,dx,-dy), float4x4(-0.117578797042370,-0.073219873011112,0.113075889647007,-0.027554867789149,0.036205813288689,-0.077746435999870,0.169399395585060,-0.066775932908058,-0.025946857407689,0.037712570279837,-0.024250360205770,0.064330451190472,-0.000893393356819,-0.023770721629262,0.034126922488213,0.110372982919216));
res += mul(Get(s3,dx,0), float4x4(0.066850788891315,-0.000964433420449,0.093436516821384,-0.119432806968689,-0.018969688564539,0.011377119459212,0.041104070842266,-0.066058799624443,0.004788541700691,-0.005948107689619,0.029107348993421,0.083846189081669,-0.042192310094833,0.010426508262753,-0.010828107595444,-0.007647446822375));
res += mul(Get(s3,dx,dy), float4x4(-0.014756727963686,-0.027291534468532,0.017778355628252,-0.021713931113482,0.042429156601429,0.052123274654150,-0.002933642361313,-0.146597549319267,-0.039270106703043,0.031311027705669,-0.029398748651147,0.074748158454895,-0.015339485369623,0.082145355641842,-0.109443865716457,-0.108967624604702));
return max(float4(0,0,0,0), res);
}
