sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.059327069669962,-0.112698689103127,-0.052300572395325,0.024322820827365,0.112210161983967,-0.144144415855408,-0.133256673812866,-0.101319231092930,-0.138802990317345,0.081269629299641,0.045285366475582,-0.038289099931717,-0.141254901885986,0.128205299377441,-0.169229224324226,-0.050863951444626));
res += mul(Get(s0,-dx,0), float4x4(-0.003937716595829,-0.082774519920349,-0.055498845875263,0.027326062321663,0.270235061645508,-0.106816716492176,-0.165642827749252,0.101065784692764,-0.273449122905731,0.133620917797089,-0.001634751912206,-0.041101127862930,-0.115392453968525,-0.010651812888682,-0.011620182543993,0.003112612292171));
res += mul(Get(s0,-dx,dy), float4x4(-0.010962331667542,-0.060408256947994,0.091110423207283,0.074556060135365,-0.212585002183914,-0.117709740996361,-0.077516406774521,0.301331639289856,0.054590050131083,-0.002431936794892,0.060092352330685,-0.120064646005630,0.165050268173218,-0.043788276612759,0.032988257706165,-0.077366083860397));
res += mul(Get(s0,0,-dy), float4x4(0.011209055781364,0.022341623902321,-0.095713220536709,0.021768489852548,-0.148456037044525,-0.109480328857899,-0.007674912456423,-0.000964201462921,-0.007489790674299,0.070040956139565,-0.118903741240501,0.034701850265265,-0.107369743287563,0.093586117029190,-0.167335867881775,-0.105677172541618));
res += mul(Get(s0,0,0), float4x4(-0.040757626295090,0.143291786313057,0.028364658355713,-0.015296503901482,0.132644906640053,-0.165425881743431,0.204578667879105,-0.068875253200531,-0.063301600515842,-0.013730477541685,0.059972729533911,0.055839776992798,-0.037382274866104,-0.044916875660419,-0.085710383951664,-0.016859553754330));
res += mul(Get(s0,0,dy), float4x4(0.002168118022382,-0.033581186085939,0.150276586413383,0.027303958311677,-0.073875449597836,-0.209374070167542,-0.018311766907573,-0.035231269896030,-0.026765299960971,-0.010951061733067,0.080843903124332,0.080897986888885,0.113134875893593,-0.070766925811768,0.313381075859070,-0.036570690572262));
res += mul(Get(s0,dx,-dy), float4x4(0.034230802208185,-0.071251615881920,0.028127126395702,0.023819530382752,-0.040145125240088,-0.078129544854164,-0.023093935102224,-0.037233237177134,0.011332710273564,0.041204545646906,0.069186441600323,-0.076514251530170,-0.022882897406816,-0.079992756247520,0.066560529172421,0.113688036799431));
res += mul(Get(s0,dx,0), float4x4(-0.020596897229552,0.020702168345451,0.050293661653996,-0.009974193759263,0.009446277283132,0.011424671858549,-0.080386459827423,-0.025771403685212,0.080633759498596,-0.142797648906708,0.137223333120346,-0.006698006298393,-0.077650867402554,-0.135898694396019,0.015541841275990,0.034078523516655));
res += mul(Get(s0,dx,dy), float4x4(-0.066394999623299,-0.004352140706033,-0.011450721882284,0.010580684989691,-0.032907515764236,0.147604584693909,-0.076309509575367,-0.052418507635593,-0.104325249791145,0.044394679367542,-0.097290337085724,0.036152325570583,-0.098161168396473,-0.022462729364634,0.183175921440125,-0.069426946341991));
res += mul(Get(s1,-dx,-dy), float4x4(-0.060415640473366,-0.094972312450409,0.029361581429839,-0.017676552757621,-0.222818896174431,-0.001501814578660,0.068076848983765,-0.035315752029419,0.284807294607162,-0.116138406097889,-0.102877043187618,-0.111613407731056,-0.056402638554573,0.090736210346222,-0.025918705388904,-0.014334222301841));
res += mul(Get(s1,-dx,0), float4x4(0.209648251533508,0.055835779756308,-0.038637250661850,-0.105683825910091,-0.082031898200512,0.012166289612651,0.000664953899104,-0.095560170710087,0.373821437358856,-0.132892891764641,-0.105272427201271,-0.060835078358650,0.188629403710365,-0.020291406661272,-0.029490884393454,-0.004798849113286));
res += mul(Get(s1,-dx,dy), float4x4(-0.169694960117340,-0.138799026608467,-0.079876556992531,-0.065701298415661,0.088694535195827,-0.020482650026679,-0.026828153058887,-0.131029918789864,-0.144598022103310,-0.032149519771338,-0.050860531628132,0.004977322649211,-0.113361060619354,0.009317859075963,0.105831705033779,-0.013044713996351));
res += mul(Get(s1,0,-dy), float4x4(-0.036796540021896,-0.149970129132271,0.051894966512918,0.160610049962997,-0.038116399198771,0.174959108233452,-0.079663619399071,0.165981024503708,-0.058725044131279,-0.085105448961258,0.135939940810204,-0.039672583341599,-0.008106251247227,0.130013152956963,0.049964997917414,-0.055259339511395));
res += mul(Get(s1,0,0), float4x4(0.155508920550346,-0.118707738816738,0.055980194360018,-0.092732377350330,-0.000371295114746,0.102868147194386,-0.056823182851076,-0.035054590553045,0.018520619720221,0.004352391697466,-0.027914742007852,-0.034712057560682,0.002236845670268,0.000572295917664,0.111033037304878,-0.006075696554035));
res += mul(Get(s1,0,dy), float4x4(0.106651104986668,-0.028344871476293,-0.079072058200836,-0.041196942329407,-0.025647910311818,-0.075353391468525,-0.030316557735205,-0.143094703555107,0.053173176944256,0.033714022487402,-0.035820055752993,-0.021838720887899,-0.027853451669216,-0.001771995332092,0.071219131350517,-0.011404138989747));
res += mul(Get(s1,dx,-dy), float4x4(-0.021733475849032,-0.021139699965715,-0.003875698661432,0.025987351313233,-0.037584699690342,0.045415539294481,-0.126202136278152,0.248086676001549,-0.049814257770777,-0.058713383972645,0.074436940252781,-0.053756918758154,-0.043641727417707,0.005193300545216,0.124859765172005,-0.060900341719389));
res += mul(Get(s1,dx,0), float4x4(-0.000734159490094,-0.006551269907504,-0.125456705689430,0.025054471567273,0.004537271801382,0.011503181420267,-0.124844081699848,0.223576426506042,-0.105884224176407,-0.021450014784932,-0.034867405891418,-0.065119974315166,-0.145481303334236,-0.054363664239645,0.070523396134377,-0.027187444269657));
res += mul(Get(s1,dx,dy), float4x4(0.022373849526048,0.147865980863571,-0.040412522852421,0.027060668915510,-0.001715698512271,-0.019897488877177,-0.062472615391016,-0.110867895185947,0.055776789784431,0.089348718523979,-0.021080279722810,-0.056474283337593,-0.005810256116092,-0.041711863130331,-0.166839301586151,-0.031880527734756));
res += mul(Get(s2,-dx,-dy), float4x4(-0.028995899483562,0.081746064126492,0.291604995727539,-0.045477136969566,-0.034375865012407,0.034464187920094,0.185647815465927,0.076854638755322,-0.202925458550453,-0.060260720551014,0.132571667432785,-0.046807251870632,-0.054612550884485,0.152492523193359,-0.072153836488724,0.067567616701126));
res += mul(Get(s2,-dx,0), float4x4(-0.015627108514309,-0.001293970155530,0.086643360555172,-0.023423032835126,-0.052359752357006,-0.107435218989849,-0.006491380278021,0.061699584126472,-0.063265517354012,0.068814851343632,0.061975475400686,-0.004104024730623,-0.058055318892002,0.024582765996456,-0.136340782046318,0.053423915058374));
res += mul(Get(s2,-dx,dy), float4x4(-0.006755967158824,-0.088150262832642,-0.158546015620232,-0.029479587450624,-0.028129963204265,-0.015690689906478,-0.041461136192083,-0.049105323851109,-0.059027399867773,0.005057469941676,0.056797076016665,0.064383856952190,-0.079231537878513,0.043881751596928,-0.024427749216557,0.056666254997253));
res += mul(Get(s2,0,-dy), float4x4(0.011416875757277,0.138228029012680,-0.059292566031218,-0.097434841096401,-0.065624304115772,0.039077527821064,0.064958348870277,0.031614981591702,-0.142034485936165,0.181261420249939,-0.030361304059625,-0.020086375996470,-0.008283437229693,0.092276006937027,-0.080135822296143,0.067156955599785));
res += mul(Get(s2,0,0), float4x4(-0.168401107192039,0.213486567139626,0.027736848220229,-0.070181727409363,-0.114975348114967,0.211998805403709,-0.171509668231010,0.028612406924367,-0.043720062822104,0.172303080558777,0.032937720417976,-0.021450355648994,-0.013495824299753,-0.021581714972854,-0.058504026383162,0.088786087930202));
res += mul(Get(s2,0,dy), float4x4(0.025617605075240,-0.069736197590828,-0.000154437773745,-0.021277759224176,0.001591860433109,0.061102706938982,-0.063616216182709,0.060166433453560,-0.007883758284152,-0.057309310883284,-0.020061675459146,-0.040879469364882,-0.008353263139725,0.043835576623678,-0.014648520387709,0.049622815102339));
res += mul(Get(s2,dx,-dy), float4x4(-0.037571132183075,0.020183678716421,-0.040262944996357,-0.088202811777592,-0.011018627323210,0.058777451515198,-0.100976303219795,-0.011309694498777,-0.000234355597058,0.086073458194733,0.034863375127316,-0.128353253006935,-0.049661107361317,-0.005160143133253,-0.031683284789324,0.019173441454768));
res += mul(Get(s2,dx,0), float4x4(-0.102441079914570,0.071955226361752,-0.099767774343491,-0.009808637201786,0.020702576264739,-0.128189504146576,-0.073605738580227,0.059258859604597,0.084809087216854,-0.128762051463127,-0.072587326169014,0.037362903356552,-0.003904240438715,0.024287471547723,-0.008839322254062,0.048559356480837));
res += mul(Get(s2,dx,dy), float4x4(0.086249187588692,-0.105960480868816,-0.153298750519753,-0.065241806209087,-0.046580024063587,0.010606592521071,0.082705125212669,0.010042128153145,-0.075854450464249,-0.014587665908039,-0.073988482356071,0.067358650267124,0.065434835851192,-0.039932634681463,0.023447467014194,0.059051651507616));
res += mul(Get(s3,-dx,-dy), float4x4(-0.059589873999357,0.072800077497959,-0.019355922937393,-0.043924674391747,0.126538082957268,0.038397569209337,-0.026763858273625,0.088085688650608,0.107772074639797,-0.041557021439075,0.114408895373344,0.009408668614924,0.119916290044785,-0.064959123730659,-0.022667093202472,-0.086773648858070));
res += mul(Get(s3,-dx,0), float4x4(0.157585054636002,-0.048283845186234,0.037403501570225,-0.045906629413366,-0.082938484847546,0.069900073111057,0.131637439131737,-0.103299088776112,-0.035241208970547,0.126114189624786,-0.044329226016998,-0.023622764274478,-0.034876525402069,0.001916969777085,0.017147427424788,0.014553104527295));
res += mul(Get(s3,-dx,dy), float4x4(0.009849057532847,-0.064858071506023,0.011260409839451,-0.042266361415386,-0.063884250819683,0.203069865703583,0.035407140851021,0.341500461101532,0.029830878600478,-0.016005469486117,0.033955380320549,-0.002805591560900,0.019724421203136,0.069587968289852,-0.019928243011236,0.192453071475029));
res += mul(Get(s3,0,-dy), float4x4(-0.082872577011585,0.010293070226908,0.029307590797544,0.005275682080537,0.088444665074348,-0.088299423456192,0.143560677766800,-0.083089031279087,0.148884758353233,0.004476087167859,0.099374637007713,0.023735135793686,-0.009081362746656,-0.058827742934227,0.300958693027496,-0.048636063933372));
res += mul(Get(s3,0,0), float4x4(0.050812553614378,-0.041465442627668,0.050290573388338,-0.013500257395208,0.027061933651567,-0.066127039492130,-0.005849038250744,-0.117002077400684,-0.135140612721443,0.215714439749718,-0.115323528647423,0.014392598532140,-0.047147732228041,0.054194588214159,-0.012606304138899,-0.103295765817165));
res += mul(Get(s3,0,dy), float4x4(-0.027947727590799,0.039639860391617,0.006826472934335,0.098864071071148,-0.132059708237648,0.233822464942932,-0.207092076539993,-0.040830310434103,0.071593813598156,-0.082802467048168,-0.007683502975851,-0.048736203461885,0.027456069365144,0.088175036013126,-0.017610976472497,-0.014327649958432));
res += mul(Get(s3,dx,-dy), float4x4(-0.062402945011854,-0.010186150670052,-0.034203279763460,-0.095324963331223,-0.002976101823151,-0.022257847711444,-0.104869037866592,-0.148057445883751,0.094675399363041,0.042391743510962,-0.042132508009672,0.044968243688345,0.070223622024059,0.097066864371300,0.005554524250329,-0.012072686105967));
res += mul(Get(s3,dx,0), float4x4(0.028355568647385,0.101869419217110,-0.099628202617168,-0.090003691613674,-0.021225687116385,0.041410163044930,-0.111101642251015,-0.117994233965874,-0.007368388585746,0.058067977428436,-0.139327287673950,-0.005840594880283,0.047436844557524,0.094378560781479,-0.066818341612816,-0.038358841091394));
res += mul(Get(s3,dx,dy), float4x4(0.053747873753309,0.038127213716507,-0.195107236504555,0.036590635776520,-0.009538190439343,-0.192926704883575,-0.137144729495049,-0.015243029221892,-0.046050660312176,0.058791879564524,0.071840390563011,-0.077034220099449,0.009331622160971,-0.085517540574074,0.035217773169279,0.020212488248944));
return max(float4(0,0,0,0), res);
}
