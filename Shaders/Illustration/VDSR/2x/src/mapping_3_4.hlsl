sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.023670064285398,0.164337158203125,-0.143778562545776,0.047268979251385,-0.100094877183437,-0.022976394742727,0.015477979555726,-0.029828837141395,-0.096165448427200,0.085499905049801,0.116792730987072,0.030143495649099,-0.079313352704048,0.034732084721327,0.008775121532381,-0.131370618939400));
res += mul(Get(s0,-dx,0), float4x4(-0.115796931087971,-0.048143230378628,0.172504305839539,-0.178394556045532,0.017200201749802,0.139361470937729,0.054664585739374,0.167968153953552,0.087525576353073,-0.014464267529547,-0.058332581073046,-0.060951750725508,0.015958601608872,-0.309282600879669,0.042244538664818,0.043307088315487));
res += mul(Get(s0,-dx,dy), float4x4(0.066511645913124,-0.231635510921478,0.135797917842865,-0.112034521996975,0.078418970108032,0.078835405409336,-0.167124807834625,-0.051659274846315,-0.024227513000369,-0.157712504267693,-0.061753477901220,0.063144974410534,-0.101015307009220,-0.107910387217999,0.117007441818714,0.063588425517082));
res += mul(Get(s0,0,-dy), float4x4(0.141873762011528,-0.028754832223058,0.007607627194375,-0.030648013576865,-0.118900731205940,0.101672485470772,0.162260964512825,0.039017759263515,-0.006563624367118,-0.003820613725111,0.008840422146022,-0.063587494194508,-0.021279240027070,-0.106982514262199,0.069383926689625,-0.090582974255085));
res += mul(Get(s0,0,0), float4x4(-0.156782612204552,0.264304041862488,0.109105981886387,-0.223261579871178,0.002696997951716,0.199158564209938,0.059181176126003,-0.133163973689079,-0.016755254939198,0.267883598804474,-0.004598854109645,0.035731185227633,0.102832920849323,-0.010231396183372,-0.214508295059204,-0.036142595112324));
res += mul(Get(s0,0,dy), float4x4(-0.092659711837769,-0.018130928277969,0.290255635976791,-0.099043056368828,-0.110403612256050,0.025915008038282,0.059657949954271,-0.089457169175148,0.088673904538155,0.047195926308632,-0.091503694653511,0.037698987871408,-0.010097323916852,0.120489709079266,-0.041960991919041,0.072164468467236));
res += mul(Get(s0,dx,-dy), float4x4(0.022553103044629,0.102149851620197,-0.013747664168477,0.187077134847641,0.054042767733335,0.074522465467453,0.182645082473755,0.019284453243017,0.171696648001671,0.062832914292812,0.058517463505268,0.182811588048935,0.124608591198921,0.038887869566679,-0.082214608788490,0.149276003241539));
res += mul(Get(s0,dx,0), float4x4(-0.048347219824791,0.045435663312674,-0.128467336297035,-0.047888837754726,-0.059149820357561,-0.045194849371910,0.036476742476225,0.055580399930477,0.087885893881321,-0.078768551349640,-0.022105004638433,-0.070342607796192,-0.047560960054398,-0.057805020362139,-0.027759002521634,-0.015299803577363));
res += mul(Get(s0,dx,dy), float4x4(-0.016222136095166,-0.021610068157315,-0.186608895659447,0.016103403642774,0.065575048327446,-0.001989908516407,-0.018766902387142,-0.013562290929258,0.001566320541315,-0.191915720701218,0.033495154231787,0.038664419203997,0.014290781691670,-0.147871211171150,-0.079705975949764,0.123766332864761));
res += mul(Get(s1,-dx,-dy), float4x4(0.072629906237125,-0.069624252617359,-0.011314821429551,-0.003410003846511,0.037405643612146,-0.048156779259443,-0.050807610154152,0.056431289762259,0.144898161292076,-0.002589475130662,-0.211788088083267,0.044482335448265,-0.025489469990134,0.092369809746742,0.157717376947403,0.105693213641644));
res += mul(Get(s1,-dx,0), float4x4(-0.132283315062523,-0.043342005461454,0.075185015797615,-0.065804749727249,-0.015102585777640,0.062842540442944,0.173274531960487,0.044856395572424,-0.135386183857918,-0.105968147516251,-0.140255942940712,-0.016284625977278,-0.074166230857372,-0.205492585897446,0.174067303538322,-0.211782827973366));
res += mul(Get(s1,-dx,dy), float4x4(-0.042599845677614,0.185018777847290,0.263454258441925,0.029462961480021,0.048842769116163,0.050860654562712,-0.151938140392303,-0.029871629551053,0.010226652957499,0.009488766081631,-0.112109698355198,0.104657515883446,-0.087803140282631,-0.126527488231659,-0.054953631013632,0.018482558429241));
res += mul(Get(s1,0,-dy), float4x4(0.161196500062943,-0.166679292917252,0.091724261641502,-0.152022734284401,-0.100623227655888,0.039302721619606,-0.036248341202736,-0.082822732627392,-0.162059351801872,-0.165510147809982,0.096857704222202,-0.003731023753062,-0.110955849289894,-0.003665831638500,-0.072099409997463,0.022941045463085));
res += mul(Get(s1,0,0), float4x4(-0.090675890445709,0.215601220726967,-0.131463691592216,-0.071218542754650,-0.023131633177400,-0.028068998828530,-0.123397789895535,0.017434213310480,0.016380326822400,0.135965600609779,0.087653875350952,0.081200152635574,0.086264021694660,0.016686683520675,-0.084820091724396,0.049614824354649));
res += mul(Get(s1,0,dy), float4x4(0.014339373447001,0.133858621120453,0.224093362689018,-0.062462098896503,0.115702643990517,0.002768898382783,0.044959187507629,-0.041649129241705,-0.003582425415516,0.092614687979221,-0.175984025001526,0.110136128962040,0.078938193619251,-0.116046816110611,0.064771197736263,-0.028900634497404));
res += mul(Get(s1,dx,-dy), float4x4(-0.089775718748569,-0.186552092432976,0.120688043534756,0.149919256567955,-0.159798458218575,-0.004264580551535,0.066781178116798,-0.158101201057434,-0.108816020190716,-0.129644602537155,-0.160144880414009,0.007455631159246,-0.070917040109634,0.088655151426792,0.076049387454987,0.026585854589939));
res += mul(Get(s1,dx,0), float4x4(-0.103838749229908,0.071102589368820,0.027170911431313,0.055195610970259,-0.081087306141853,-0.004308825824410,-0.058931939303875,0.053779292851686,0.012404862791300,0.186298847198486,-0.027033858001232,-0.091846995055676,0.104308463633060,-0.041137054562569,-0.142560780048370,-0.062629863619804));
res += mul(Get(s1,dx,dy), float4x4(-0.074659541249275,0.155722945928574,0.173623904585838,0.247636869549751,0.117558285593987,-0.153012424707413,-0.123227044939995,0.008610436692834,0.075524024665356,0.078632920980453,0.103373244404793,0.058956094086170,-0.090820766985416,-0.035439141094685,-0.014173822477460,0.030615787953138));
res += mul(Get(s2,-dx,-dy), float4x4(0.156067624688148,-0.091129422187805,-0.163861319422722,0.063591189682484,0.072645753622055,0.048146102577448,0.014682483859360,0.146742865443230,0.069791100919247,0.095445513725281,0.070390641689301,-0.107568889856339,-0.010638298466802,0.166449815034866,-0.033068172633648,0.075788185000420));
res += mul(Get(s2,-dx,0), float4x4(-0.209863275289536,0.055115427821875,0.115971826016903,-0.027873307466507,0.116735771298409,-0.144370809197426,-0.125376358628273,0.004057437181473,0.066487506031990,0.114369451999664,0.315099388360977,0.055125117301941,0.052008636295795,0.118310511112213,-0.109873354434967,-0.100842036306858));
res += mul(Get(s2,-dx,dy), float4x4(-0.022341758012772,0.080809377133846,0.123425483703613,-0.114319339394569,-0.049319636076689,0.103167675435543,-0.023845162242651,0.019026413559914,-0.138568356633186,0.010805089026690,0.142241477966309,0.250871211290359,0.062769703567028,0.054333858191967,0.230000138282776,-0.091332420706749));
res += mul(Get(s2,0,-dy), float4x4(0.147699713706970,-0.194464564323425,0.089816734194756,-0.079791970551014,0.163292780518532,-0.048250772058964,0.178401052951813,0.181827098131180,-0.157226353883743,0.169495731592178,-0.198420777916908,0.005447624251246,0.046214487403631,-0.105297118425369,0.031266860663891,0.048473659902811));
res += mul(Get(s2,0,0), float4x4(0.057793468236923,-0.127441748976707,0.074840925633907,-0.020098904147744,0.031225061044097,0.045681044459343,0.003183516906574,-0.025817768648267,0.121590644121170,0.067445501685143,-0.036468558013439,-0.038293123245239,0.027858179062605,-0.042325444519520,0.295291155576706,-0.027972921729088));
res += mul(Get(s2,0,dy), float4x4(0.050528965890408,-0.152200952172279,-0.053109336644411,-0.077809512615204,-0.152535215020180,0.046154230833054,0.010059880092740,-0.033191330730915,0.079401530325413,-0.025912668555975,0.041712049394846,0.188414022326469,0.023609030991793,0.047079816460609,-0.047898847609758,-0.181111499667168));
res += mul(Get(s2,dx,-dy), float4x4(-0.005254498682916,0.055182460695505,-0.071552753448486,0.173059880733490,-0.032416634261608,-0.182868748903275,-0.009727565571666,0.133907854557037,0.046052645891905,0.013335993513465,0.077278546988964,-0.057655625045300,0.122586704790592,0.036108274012804,-0.029521174728870,-0.146986052393913));
res += mul(Get(s2,dx,0), float4x4(0.245614439249039,-0.145915329456329,-0.115945078432560,-0.015521546825767,-0.009160919114947,-0.129652038216591,0.036139626055956,-0.047614406794310,0.148551568388939,-0.011050282046199,0.023204512894154,-0.031248744577169,-0.293304949998856,0.145704656839371,-0.120706766843796,-0.150489792227745));
res += mul(Get(s2,dx,dy), float4x4(0.010687091387808,-0.131087958812714,0.162195459008217,-0.004757035523653,0.119365260004997,0.093049511313438,0.069066345691681,0.004643466323614,0.191846668720245,0.103244967758656,0.052158478647470,0.023222720250487,-0.013449274934828,0.043800722807646,-0.092682868242264,0.030754240229726));
res += mul(Get(s3,-dx,-dy), float4x4(-0.042016830295324,-0.240561410784721,0.174314126372337,0.090688325464725,0.002547939307988,0.092341668903828,0.010178825818002,0.183648094534874,0.024022541940212,-0.196757212281227,0.031292803585529,-0.162381529808044,-0.074660472571850,-0.070125401020050,-0.070565290749073,-0.146972164511681));
res += mul(Get(s3,-dx,0), float4x4(-0.054390408098698,-0.058005213737488,0.079000614583492,0.114319846034050,-0.140132024884224,0.025885183364153,-0.215464651584625,-0.007654371205717,-0.011618702672422,0.139077752828598,0.013483759947121,-0.166776776313782,-0.069495610892773,-0.074080541729927,-0.110886730253696,0.082661509513855));
res += mul(Get(s3,-dx,dy), float4x4(-0.011655704118311,0.048379722982645,-0.115126661956310,-0.109041042625904,-0.134978532791138,-0.049211479723454,-0.112978011369705,0.049484428018332,0.064633220434189,-0.057579781860113,0.068238332867622,-0.020813593640924,0.181530922651291,0.026344576850533,0.058682806789875,-0.026110185310245));
res += mul(Get(s3,0,-dy), float4x4(0.006671824958175,0.157143890857697,0.026331607252359,-0.177998319268227,0.138261646032333,0.054804552346468,-0.101398281753063,-0.260199129581451,0.089096307754517,0.055819123983383,0.124181732535362,-0.077812999486923,0.034828953444958,-0.083309501409531,0.182530164718628,-0.098292902112007));
res += mul(Get(s3,0,0), float4x4(-0.058061197400093,-0.051378395408392,0.004813298583031,0.115392193198204,0.040579169988632,0.014135170727968,0.176276236772537,-0.163385123014450,-0.014727841131389,-0.028326833620667,-0.043381385505199,-0.098390139639378,0.018881907686591,-0.082178980112076,-0.081149525940418,-0.021595513448119));
res += mul(Get(s3,0,dy), float4x4(-0.029700206592679,0.005734622012824,-0.008456398732960,0.029225286096334,0.198022991418839,0.179592519998550,-0.003424337366596,-0.084970720112324,0.016514651477337,0.057624537497759,-0.091317899525166,0.106114730238914,0.045532904565334,0.015672234818339,0.058609750121832,0.064854621887207));
res += mul(Get(s3,dx,-dy), float4x4(-0.182013466954231,-0.113606639206409,-0.188634604215622,-0.010250113904476,0.141885831952095,0.140268236398697,-0.014337903819978,0.010051670484245,-0.077105104923248,0.014375767670572,0.032163485884666,-0.043959964066744,-0.015352360904217,0.029970474541187,0.045954897999763,0.141069129109383));
res += mul(Get(s3,dx,0), float4x4(-0.103583969175816,0.024160455912352,0.085349656641483,-0.069489061832428,-0.096071638166904,0.024391276761889,-0.133512780070305,0.021024083718657,0.121655561029911,0.005457308143377,0.019728861749172,0.047313429415226,-0.030050368979573,-0.200758099555969,0.098232790827751,0.060105565935373));
res += mul(Get(s3,dx,dy), float4x4(-0.011754448525608,-0.131468132138252,-0.268144756555557,-0.075838565826416,-0.171780511736870,0.014289068989456,-0.097033746540546,0.226782336831093,-0.002316400175914,-0.107555538415909,0.010605099610984,0.027027089148760,-0.012190581299365,-0.116941593587399,0.187378361821175,-0.114209033548832));
return max(float4(0,0,0,0), res);
}
