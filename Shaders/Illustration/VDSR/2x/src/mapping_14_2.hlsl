sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.001821210840717,0.043161667883396,-0.095976963639259,-0.039372526109219,0.059211190789938,0.057600997388363,0.151977971196175,-0.049757871776819,0.031424697488546,-0.052392691373825,0.120771922171116,-0.033942002803087,0.005753739271313,0.063302688300610,0.053194262087345,0.080395385622978));
res += mul(Get(s0,-dx,0), float4x4(-0.028488349169493,0.014821266755462,0.089383855462074,0.061976972967386,-0.056795343756676,0.019892465323210,0.097759872674942,0.068424686789513,-0.069773085415363,-0.146787479519844,0.215602099895477,-0.031819976866245,0.117413438856602,0.162764847278595,0.203986167907715,0.019072080031037));
res += mul(Get(s0,-dx,dy), float4x4(0.039816822856665,0.053692407906055,0.063209138810635,0.025938335806131,0.003897698130459,0.040369387716055,-0.036384027451277,0.012301506474614,-0.081037722527981,-0.059953395277262,0.174120008945465,0.125039905309677,0.123662777245045,0.033721923828125,0.078476443886757,0.044479388743639));
res += mul(Get(s0,0,-dy), float4x4(0.104945078492165,0.078235186636448,0.129308506846428,-0.039037849754095,0.337498456239700,0.139375716447830,0.516965806484222,0.028829013928771,-0.026965973898768,-0.004786685574800,-0.017891624942422,-0.059717960655689,-0.047122705727816,-0.000380207173293,0.010094220750034,0.140976488590240));
res += mul(Get(s0,0,0), float4x4(0.000692137575243,0.063685663044453,0.028718383982778,0.095868125557899,0.130410224199295,0.061137422919273,0.420989394187927,0.309379369020462,0.130629554390907,-0.042330522090197,0.055121440440416,-0.053789831697941,0.150273397564888,0.025745758786798,0.337451249361038,0.019961049780250));
res += mul(Get(s0,0,dy), float4x4(-0.036202672868967,-0.032294813543558,0.102443531155586,0.065884262323380,0.072690732777119,0.006606973707676,0.054541841149330,0.105152182281017,-0.131278365850449,-0.034551285207272,0.151950120925903,0.094956032931805,0.090318530797958,-0.058766767382622,0.151001766324043,0.006150112021714));
res += mul(Get(s0,dx,-dy), float4x4(0.054106343537569,-0.015880800783634,0.042908787727356,0.006539870984852,0.143602281808853,-0.082045055925846,0.143407613039017,-0.125163927674294,-0.071282193064690,0.213139459490776,-0.089004285633564,-0.018006220459938,-0.029060807079077,0.078726612031460,0.042436040937901,0.081517510116100));
res += mul(Get(s0,dx,0), float4x4(-0.047210704535246,0.080918371677399,0.182822331786156,0.080668792128563,-0.071526974439621,-0.027268661186099,0.089698269963264,0.024348028004169,-0.041675612330437,0.035626325756311,-0.036112882196903,-0.071579799056053,0.074112631380558,0.092527814209461,0.169636890292168,0.016658533364534));
res += mul(Get(s0,dx,dy), float4x4(-0.033203206956387,0.019572844728827,0.029616484418511,0.078024357557297,0.004763109609485,-0.045348677784204,0.053893893957138,-0.065775983035564,-0.114229895174503,-0.039585482329130,0.133569464087486,0.100414745509624,0.107082538306713,0.046517539769411,0.027058245614171,0.000975688104518));
res += mul(Get(s1,-dx,-dy), float4x4(0.069405831396580,-0.146378651261330,-0.199726194143295,-0.007063380442560,-0.090987838804722,-0.030736749991775,0.069364279508591,0.188005149364471,0.008299512788653,0.184581324458122,0.032133795320988,-0.031137946993113,-0.016858162358403,-0.080027446150780,-0.007184701971710,0.076637357473373));
res += mul(Get(s1,-dx,0), float4x4(0.069331534206867,-0.112897120416164,-0.117076858878136,0.047663293778896,-0.021309649571776,0.027833502739668,-0.003710539080203,0.159195765852928,-0.116924703121185,-0.043618287891150,-0.034699413925409,0.074808530509472,-0.066064514219761,-0.126824632287025,-0.006978418212384,0.065231911838055));
res += mul(Get(s1,-dx,dy), float4x4(-0.104156121611595,-0.105166308581829,-0.010096283629537,-0.004898970481008,0.061710070818663,0.138492569327354,0.152958616614342,-0.023177936673164,-0.103774346411228,-0.040292918682098,-0.117582306265831,0.005970427766442,-0.144592702388763,0.020414706319571,-0.046024609357119,-0.050736729055643));
res += mul(Get(s1,0,-dy), float4x4(0.107142247259617,-0.117442309856415,-0.160743281245232,-0.083217874169350,0.047851879149675,-0.017166469246149,-0.086182519793510,0.009232372976840,-0.018243005499244,0.031346663832664,0.068539217114449,-0.176507800817490,0.111709244549274,0.226778015494347,-0.049413744360209,-0.015290820971131));
res += mul(Get(s1,0,0), float4x4(-0.011594918556511,-0.137086242437363,-0.204083636403084,0.076543875038624,0.066160976886749,-0.053134743124247,0.102929703891277,0.168097883462906,-0.204440385103226,-0.176357939839363,-0.081383332610130,0.146025985479355,-0.031740415841341,0.252080619335175,0.173633456230164,0.029513373970985));
res += mul(Get(s1,0,dy), float4x4(-0.206500917673111,-0.133409857749939,-0.119301810860634,-0.020379496738315,-0.028463371098042,0.003718204563484,0.006822541821748,0.128406137228012,-0.128565326333046,-0.188629329204559,-0.285682916641235,-0.043058276176453,-0.176986873149872,0.061404306441545,-0.115318112075329,0.072083614766598));
res += mul(Get(s1,dx,-dy), float4x4(0.087209813296795,-0.072802931070328,-0.164150357246399,-0.084846466779709,0.010821081697941,0.035818081349134,0.025470474734902,0.101239435374737,-0.010392421856523,-0.012459866702557,-0.074684277176857,-0.120998762547970,0.163103058934212,0.008013754151762,0.226870998740196,0.014572844840586));
res += mul(Get(s1,dx,0), float4x4(-0.016572855412960,-0.004599219653755,-0.169527500867844,0.083708494901657,0.085929013788700,-0.059003144502640,-0.005832823459059,0.096460081636906,-0.167327702045441,0.064930416643620,-0.098121166229248,-0.110432513058186,0.004765983670950,-0.127244114875793,0.234717816114426,0.252308666706085));
res += mul(Get(s1,dx,dy), float4x4(-0.142290815711021,-0.048727914690971,-0.147241070866585,-0.095060385763645,-0.037729531526566,-0.047538015991449,-0.019920192658901,0.095715135335922,-0.140302136540413,0.136423602700233,-0.216835185885429,-0.060381744056940,-0.122743211686611,-0.143877714872360,-0.057755023241043,0.062851004302502));
res += mul(Get(s2,-dx,-dy), float4x4(0.141261532902718,0.066832251846790,-0.192146539688110,-0.127856329083443,0.087827466428280,0.026992708444595,0.141933083534241,-0.089151032269001,-0.042986463755369,-0.171547800302505,-0.173001989722252,0.125591963529587,-0.020830612629652,0.199759751558304,0.081840865314007,0.039985429495573));
res += mul(Get(s2,-dx,0), float4x4(-0.160976335406303,0.113163255155087,-0.144386023283005,-0.091562248766422,0.108906857669353,0.264771163463593,-0.005759478546679,0.017302688211203,0.244394153356552,-0.157621726393700,-0.124778918921947,0.008959047496319,0.064759165048599,-0.067748732864857,0.043041501194239,0.014470434747636));
res += mul(Get(s2,-dx,dy), float4x4(0.066141068935394,0.014132645912468,-0.038624215871096,-0.057404097169638,-0.082846358418465,0.130929619073868,0.092114686965942,0.017503019422293,0.088419415056705,-0.142321079969406,-0.020919796079397,0.004370387177914,0.197650074958801,-0.013731245882809,0.048080738633871,-0.058658923953772));
res += mul(Get(s2,0,-dy), float4x4(0.166211560368538,0.068535238504410,-0.061798606067896,-0.100944302976131,0.108354024589062,0.071523956954479,0.197476282715797,-0.175521433353424,-0.138659328222275,-0.029218729585409,-0.201843693852425,0.178009197115898,-0.107912883162498,-0.016832705587149,-0.147755175828934,0.243353739380836));
res += mul(Get(s2,0,0), float4x4(-0.205096438527107,0.124822251498699,0.078420840203762,0.021662676706910,0.032819774001837,0.214009329676628,0.303412824869156,-0.136537417769432,0.152742266654968,-0.183699250221252,-0.110832735896111,0.031241945922375,-0.047558937221766,0.010825002565980,-0.471238434314728,0.055350378155708));
res += mul(Get(s2,0,dy), float4x4(-0.082319036126137,0.195051729679108,0.042810693383217,-0.035293683409691,-0.092795550823212,0.008552430197597,-0.027564389631152,0.322545558214188,0.066925480961800,-0.097435787320137,0.028198886662722,-0.067520812153816,0.296991497278214,-0.023432547226548,0.080030381679535,-0.125283658504486));
res += mul(Get(s2,dx,-dy), float4x4(0.039976626634598,-0.114795848727226,-0.003977593034506,-0.017666263505816,0.062988750636578,0.132556930184364,0.043763954192400,-0.211583837866783,0.016680402681231,0.172137454152107,-0.167183294892311,0.227484911680222,-0.048704762011766,-0.093681477010250,0.185730814933777,0.116204224526882));
res += mul(Get(s2,dx,0), float4x4(-0.048158284276724,-0.026113392785192,0.140481755137444,-0.054902449250221,0.066053166985512,0.012566115707159,0.008804987184703,-0.121547922492027,0.092239327728748,0.219407275319099,-0.296765118837357,0.102590270340443,0.083775132894516,-0.010269322432578,-0.019961411133409,0.042703468352556));
res += mul(Get(s2,dx,dy), float4x4(-0.034318298101425,0.010692868381739,0.101088628172874,-0.034750461578369,-0.094075717031956,-0.087496720254421,-0.023305859416723,0.029802687466145,0.211744338274002,0.233418762683868,-0.023738628253341,-0.005099715199322,0.105541691184044,0.177420020103455,0.033704165369272,-0.100306980311871));
res += mul(Get(s3,-dx,-dy), float4x4(0.086881317198277,0.047990627586842,0.058011200278997,0.146388009190559,-0.071168988943100,0.037672169506550,0.063790827989578,0.010845669545233,-0.033630289137363,-0.062685966491699,-0.002184411976486,-0.004970922134817,-0.119317293167114,-0.135645821690559,-0.198037952184677,0.089420512318611));
res += mul(Get(s3,-dx,0), float4x4(0.055615294724703,0.077175647020340,0.123428143560886,0.157492026686668,0.067627064883709,0.096123121678829,0.151539787650108,0.035101678222418,0.075506217777729,-0.117780864238739,0.055128820240498,-0.033352009952068,0.066213428974152,-0.120590180158615,-0.007378137670457,-0.045115765184164));
res += mul(Get(s3,-dx,dy), float4x4(0.133318006992340,0.023318311199546,0.039321191608906,0.096721291542053,-0.046486184000969,-0.016808297485113,0.067244939506054,0.026618799194694,-0.053846444934607,-0.032568551599979,0.012418936938047,-0.004939068574458,-0.021242922171950,-0.155594259500504,0.074313782155514,0.028339149430394));
res += mul(Get(s3,0,-dy), float4x4(0.005703815259039,0.083577178418636,0.158248767256737,0.136131241917610,-0.074350506067276,0.093644283711910,0.045821666717529,0.074919611215591,-0.042795334011316,-0.073296897113323,-0.245347067713737,0.177794456481934,-0.124627225100994,-0.154695719480515,-0.135067954659462,-0.056025110185146));
res += mul(Get(s3,0,0), float4x4(0.028268618509173,0.048308499157429,0.126218959689140,0.005968399811536,0.037853322923183,0.056967776268721,0.245910599827766,0.068168334662914,-0.000648042070679,-0.053233873099089,-0.358612656593323,-0.122691377997398,0.195855841040611,-0.099993132054806,0.122041441500187,-0.126063644886017));
res += mul(Get(s3,0,dy), float4x4(0.111413657665253,0.042287964373827,0.087656214833260,0.105184242129326,0.054434109479189,0.123050309717655,0.089089632034302,-0.028329232707620,0.129226803779602,0.170386418700218,0.237356871366501,-0.107636578381062,-0.137408494949341,-0.105750933289528,-0.068634591996670,0.126767009496689));
res += mul(Get(s3,dx,-dy), float4x4(-0.028153296560049,-0.025859000161290,0.180394291877747,0.157043755054474,0.001819122931920,0.080440238118172,0.104216985404491,0.067538157105446,-0.011579935438931,0.012388194911182,0.121867194771767,0.019698733463883,-0.070030957460403,0.000110781526018,-0.101778842508793,-0.012006334960461));
res += mul(Get(s3,dx,0), float4x4(-0.037994448095560,-0.096899040043354,0.072230435907841,-0.001253287889995,0.060082983225584,-0.000546770053916,0.154868617653847,0.057776350528002,0.055706627666950,0.104936994612217,0.145165309309959,-0.034278623759747,0.261328846216202,-0.023210497573018,0.241130113601685,-0.091418437659740));
res += mul(Get(s3,dx,dy), float4x4(0.001620245515369,-0.026022924110293,0.170118138194084,-0.019712358713150,0.019301429390907,0.004670053720474,0.131804138422012,0.000385551451473,-0.007776550482959,-0.003773442003876,0.030007777735591,-0.025999894365668,-0.087882965803146,-0.063423961400986,0.043520785868168,0.153304249048233));
return max(float4(0,0,0,0), res);
}
