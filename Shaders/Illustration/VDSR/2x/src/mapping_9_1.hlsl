sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.139984413981438,0.040433555841446,-0.001074335537851,-0.149465635418892,-0.066421955823898,-0.039758272469044,0.040867853909731,-0.019783044233918,-0.067578874528408,-0.095613382756710,-0.040176525712013,-0.054650876671076,0.077033668756485,0.018841877579689,0.074459008872509,0.394028782844543));
res += mul(Get(s0,-dx,0), float4x4(0.163055568933487,-0.143868029117584,0.026593456044793,-0.085163295269012,-0.044991195201874,0.042667180299759,-0.166297182440758,-0.090304486453533,-0.099079407751560,0.006258018780500,0.059450607746840,0.035755433142185,0.340270489454269,-0.036668956279755,0.048302859067917,0.078455463051796));
res += mul(Get(s0,-dx,dy), float4x4(-0.059983517974615,-0.124292388558388,-0.146870911121368,-0.132208943367004,-0.153858140110970,-0.007178628351539,-0.048033241182566,0.149544030427933,0.017290208488703,-0.105427607893944,0.055707100778818,-0.067888349294662,-0.009831009432673,-0.028295870870352,-0.063357569277287,0.074767537415028));
res += mul(Get(s0,0,-dy), float4x4(0.043172627687454,-0.033609755337238,0.151936933398247,-0.017886696383357,-0.066422216594219,0.042224138975143,0.030464207753539,-0.021948602050543,-0.051962371915579,-0.161000400781631,-0.101650729775429,0.045127347111702,-0.122679099440575,-0.024748710915446,0.156553223729134,0.007063192781061));
res += mul(Get(s0,0,0), float4x4(-0.036303404718637,0.194018930196762,0.006175062619150,0.041833136230707,-0.012474226765335,0.282615035772324,-0.021396290510893,-0.098912432789803,-0.034963499754667,-0.136659890413284,-0.017020853236318,-0.005209806375206,0.148203447461128,-0.043033726513386,0.062748923897743,0.161679118871689));
res += mul(Get(s0,0,dy), float4x4(-0.101762689650059,0.072548620402813,0.032120924443007,0.055118374526501,-0.086628064513206,0.026639297604561,-0.013433007523417,-0.012771265581250,0.147769302129745,0.120725102722645,-0.076311372220516,0.088521912693977,-0.083835475146770,0.000739439332392,0.016543997451663,0.110316239297390));
res += mul(Get(s0,dx,-dy), float4x4(-0.051746334880590,-0.047579053789377,-0.017679780721664,-0.097879916429520,-0.083798751235008,0.110849507153034,0.019791014492512,0.062726549804211,-0.161009430885315,-0.035994324833155,0.019429475069046,0.060217503458261,-0.034660737961531,0.036390963941813,-0.042914163321257,0.008325855247676));
res += mul(Get(s0,dx,0), float4x4(0.067604467272758,0.124838821589947,0.031239315867424,0.043012231588364,-0.012205093167722,0.095778651535511,0.075221642851830,0.071610569953918,-0.117216765880585,-0.068947941064835,0.085132487118244,-0.002016172977164,0.152086213231087,0.072515666484833,-0.015602204948664,-0.017305649816990));
res += mul(Get(s0,dx,dy), float4x4(0.023076329380274,0.041167814284563,-0.028798118233681,-0.121781907975674,-0.083463877439499,0.053253855556250,0.005658557172865,0.116061650216579,-0.019447635859251,0.133002907037735,-0.104567788541317,0.134430050849915,-0.117557793855667,0.073929637670517,0.064755581319332,0.103741236031055));
res += mul(Get(s1,-dx,-dy), float4x4(0.052272636443377,-0.036410830914974,0.816116094589233,0.039656288921833,0.037653345614672,-0.028641993179917,0.020914083346725,0.086042210459709,0.120188944041729,-0.083850488066673,0.061669439077377,0.107602916657925,0.221911087632179,-0.041024178266525,-0.070532374083996,-0.062230885028839));
res += mul(Get(s1,-dx,0), float4x4(-0.016657700762153,-0.058219365775585,0.036217961460352,-0.039641160517931,0.096815653145313,0.019508229568601,-0.032694365829229,0.025367621332407,-0.053461309522390,-0.108762145042419,-0.008414017967880,-0.025616550818086,0.216461181640625,0.071553923189640,-0.014232332818210,-0.060292761772871));
res += mul(Get(s1,-dx,dy), float4x4(0.136383548378944,-0.025375338271260,-0.023575514554977,-0.019424563273787,0.012569699436426,0.019868956878781,0.003014145419002,-0.005477819126099,-0.003470230149105,-0.087356872856617,0.034889530390501,0.020950809121132,-0.039607353508472,0.089989274740219,0.080563791096210,0.033475190401077));
res += mul(Get(s1,0,-dy), float4x4(0.096085451543331,-0.071495018899441,0.129538059234619,0.145403340458870,0.010370666161180,0.015822961926460,-0.048043224960566,-0.029188014566898,0.007841174490750,-0.086485490202904,-0.002171758096665,-0.004020245745778,0.186491101980209,-0.100189290940762,-0.113805808126926,-0.104327686131001));
res += mul(Get(s1,0,0), float4x4(0.007434129249305,0.026419203728437,0.004520951304585,0.058871529996395,0.057847741991282,0.093692027032375,0.003916215617210,0.008575933054090,-0.030963696539402,0.107410989701748,-0.083797901868820,-0.071829490363598,-0.162865489721298,0.180034741759300,0.018500288948417,-0.163445994257927));
res += mul(Get(s1,0,dy), float4x4(-0.103183127939701,0.081077113747597,-0.078778870403767,0.022434227168560,-0.034499801695347,0.020597951486707,0.031575608998537,-0.015047217719257,0.085433453321457,0.109165944159031,0.053288884460926,-0.081576846539974,-0.058721706271172,0.118349991738796,-0.027096627280116,-0.077131755650043));
res += mul(Get(s1,dx,-dy), float4x4(0.030411727726460,0.014170428737998,-0.023155545815825,-0.059472005814314,0.163464531302452,-0.120260387659073,0.055734086781740,-0.023509370163083,-0.051899686455727,-0.056304287165403,-0.000482524686959,0.153611719608307,0.080710187554359,-0.228576257824898,-0.020675593987107,0.069484487175941));
res += mul(Get(s1,dx,0), float4x4(-0.147033900022507,0.044184081256390,-0.028611227869987,0.010027009062469,0.123470395803452,0.114053063094616,0.121259681880474,-0.009259373880923,0.028556844219565,0.276674866676331,0.008710168302059,0.120188362896442,-0.096090160310268,0.284472793340683,-0.024841329082847,0.014702050946653));
res += mul(Get(s1,dx,dy), float4x4(0.030117258429527,0.112490259110928,0.040517706423998,0.030141932889819,-0.035661831498146,0.129150345921516,0.157808110117912,0.035043861716986,0.160318568348885,-0.039068292826414,0.115228012204170,0.017753347754478,0.028460621833801,-0.180138200521469,-0.062426909804344,-0.016988908872008));
res += mul(Get(s2,-dx,-dy), float4x4(-0.162051171064377,-0.192762643098831,0.046181403100491,0.048735335469246,0.037432454526424,0.013526472263038,0.122961267828941,-0.055428177118301,-0.063590630888939,-0.218489423394203,-0.113937787711620,-0.147234529256821,0.102982342243195,-0.177213847637177,0.172713294625282,0.038983549922705));
res += mul(Get(s2,-dx,0), float4x4(0.139082387089729,0.060444850474596,-0.028990034013987,-0.078756704926491,0.116517134010792,0.095509991049767,0.115941226482391,-0.072137005627155,-0.058093797415495,0.019551362842321,0.050842821598053,-0.138534814119339,-0.104245364665985,-0.029780190438032,0.014963517896831,-0.106387220323086));
res += mul(Get(s2,-dx,dy), float4x4(-0.086647510528564,-0.059341102838516,-0.036342170089483,-0.076295286417007,0.216302707791328,0.147847488522530,0.196175619959831,-0.049623530358076,-0.103358574211597,-0.131596103310585,-0.069164782762527,-0.077295750379562,0.074937619268894,0.055482570081949,0.008964056149125,-0.016391171142459));
res += mul(Get(s2,0,-dy), float4x4(-0.043547168374062,-0.065376169979572,0.002252267906442,0.024566249921918,0.015983119606972,-0.033629916608334,-0.055531218647957,0.182381168007851,0.014781774021685,-0.177838549017906,-0.094605110585690,0.221597999334335,0.120087981224060,-0.101752795279026,0.095316670835018,-0.029514687135816));
res += mul(Get(s2,0,0), float4x4(0.023610917851329,0.144761919975281,-0.055857818573713,-0.035779453814030,0.094843886792660,-0.119572907686234,-0.069534286856651,0.008434534072876,-0.068202085793018,-0.050177380442619,0.020501838997006,-0.073167793452740,-0.116066008806229,0.202252820134163,-0.012139325961471,0.091828525066376));
res += mul(Get(s2,0,dy), float4x4(-0.073437996208668,-0.007812881842256,0.039922252297401,-0.026753634214401,-0.074477940797806,-0.058635570108891,-0.012248631566763,0.012817389331758,0.197890415787697,0.069780036807060,-0.011942704208195,-0.088663712143898,0.418061017990112,0.007025973871350,-0.047497447580099,-0.074132569134235));
res += mul(Get(s2,dx,-dy), float4x4(0.020146675407887,-0.021619679406285,-0.052801188081503,0.227331027388573,0.058670360594988,0.031714353710413,0.018174968659878,0.009023349732161,-0.032054997980595,-0.140937313437462,-0.151063486933708,0.007205232046545,0.122096553444862,0.024784050881863,0.010598325170577,0.194604754447937));
res += mul(Get(s2,dx,0), float4x4(0.074572116136551,0.007179926615208,-0.029179057106376,0.077089741826057,0.052817411720753,0.043973457068205,-0.073001496493816,-0.054632809013128,-0.157558068633080,-0.051621817052364,0.002523898612708,0.028728669509292,-0.011963194236159,-0.090770900249481,-0.037607852369547,0.110237181186676));
res += mul(Get(s2,dx,dy), float4x4(-0.101422213017941,0.014127143658698,0.079210229218006,0.054166801273823,-0.004920578561723,0.037784289568663,-0.104326002299786,-0.116273403167725,0.014497903175652,0.117981232702732,-0.017871223390102,0.035896413028240,-0.007512852549553,-0.034866049885750,-0.001496778917499,0.002157543087378));
res += mul(Get(s3,-dx,-dy), float4x4(0.111061058938503,0.038892097771168,0.283071368932724,0.423361212015152,-0.068206146359444,0.164166122674942,0.067673362791538,0.020477531477809,-0.048465568572283,0.040244128555059,-0.035402927547693,0.004598783329129,0.087647832930088,0.026333890855312,-0.057468786835670,-0.141710549592972));
res += mul(Get(s3,-dx,0), float4x4(-0.047158714383841,-0.041096109896898,0.077364258468151,0.025455670431256,0.012280203402042,0.091254524886608,0.014785205945373,0.056565105915070,0.009521238505840,0.017070345580578,0.040059812366962,-0.017397452145815,-0.104811087250710,0.033741291612387,0.005767537746578,-0.236430481076241));
res += mul(Get(s3,-dx,dy), float4x4(0.001254240516573,-0.076691657304764,0.095383234322071,0.084776878356934,-0.175198897719383,0.025324175134301,0.045663394033909,-0.048000935465097,-0.031050395220518,-0.030211243778467,-0.094655856490135,-0.050961494445801,-0.128180488944054,0.078061319887638,0.032307215034962,-0.101155430078506));
res += mul(Get(s3,0,-dy), float4x4(0.073422148823738,0.078481286764145,0.044056534767151,-0.158390954136848,-0.024881370365620,-0.057627297937870,0.032373726367950,0.081429637968540,-0.053219508379698,-0.085993453860283,-0.057305928319693,-0.000010577347894,-0.044313490390778,0.008263171650469,-0.066470198333263,-0.018909404054284));
res += mul(Get(s3,0,0), float4x4(-0.032038543373346,0.097640544176102,-0.149940878152847,-0.041016645729542,0.018339360132813,-0.089159235358238,-0.066448226571083,-0.016724545508623,-0.021816184744239,0.043844431638718,-0.087265089154243,0.108350388705730,0.013208708725870,0.025583447888494,-0.120281249284744,0.039911370724440));
res += mul(Get(s3,0,dy), float4x4(-0.059761326760054,-0.013604541309178,-0.020287811756134,0.050649262964725,-0.128969699144363,-0.084579840302467,-0.096380986273289,-0.020128071308136,-0.086050786077976,-0.028059434145689,0.193907693028450,0.045061703771353,0.012051155790687,0.008032352663577,-0.038419846445322,0.116604626178741));
res += mul(Get(s3,dx,-dy), float4x4(0.192042201757431,-0.042755942791700,0.160317972302437,0.062074735760689,0.120034068822861,0.019160619005561,-0.006981981918216,0.000317379599437,0.064632594585419,-0.035397935658693,-0.006635758560151,-0.031887710094452,0.027783323079348,-0.026252806186676,0.051468014717102,0.068465702235699));
res += mul(Get(s3,dx,0), float4x4(0.010605074465275,0.139728739857674,-0.049423776566982,-0.046751160174608,0.035871203988791,0.063541352748871,-0.091975443065166,-0.091742746531963,0.070179007947445,-0.019379222765565,-0.005861472804099,-0.034534491598606,-0.042441923171282,-0.010573057457805,-0.039027642458677,0.185759171843529));
res += mul(Get(s3,dx,dy), float4x4(0.157075822353363,-0.012315534986556,0.119998507201672,0.057100363075733,-0.050164885818958,-0.002855627797544,0.090801171958447,-0.089034542441368,0.073408171534538,0.029554950073361,0.087466187775135,-0.027179250493646,-0.118015229701996,-0.075257107615471,0.038481876254082,0.112357340753078));
return max(float4(0,0,0,0), res);
}
