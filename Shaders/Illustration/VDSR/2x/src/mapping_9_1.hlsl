sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.114836014807224,-0.122456945478916,-0.042168281972408,0.007855168543756,-0.002591434633359,0.159195750951767,0.047347143292427,0.095522902905941,-0.001423632726073,-0.138815611600876,0.155910834670067,0.084967233240604,0.094598717987537,-0.002444466110319,-0.013292335905135,-0.019351046532393));
res += mul(Get(s0,-dx,0), float4x4(0.072308026254177,0.013309946283698,-0.083056487143040,0.095836721360683,0.017543008551002,-0.066972725093365,-0.074491143226624,-0.113496311008930,-0.102695912122726,-0.151560634374619,-0.032499197870493,0.136113062500954,-0.068965062499046,-0.080468684434891,0.059930581599474,-0.034904278814793));
res += mul(Get(s0,-dx,dy), float4x4(0.041397411376238,-0.082940630614758,0.123417727649212,0.005497909616679,0.029475798830390,0.002701031975448,0.089872263371944,0.014063096605241,-0.079384408891201,0.024035595357418,-0.086224414408207,-0.017964823171496,0.048297632485628,0.025798430666327,-0.168157041072845,-0.053025461733341));
res += mul(Get(s0,0,-dy), float4x4(0.024414632469416,-0.142143443226814,-0.021525561809540,-0.129671096801758,0.012577808462083,-0.206088900566101,0.069756895303726,0.010786728002131,0.103646263480186,-0.073144219815731,0.027592614293098,-0.075332671403885,0.090839222073555,-0.026159822940826,-0.089194938540459,0.048225983977318));
res += mul(Get(s0,0,0), float4x4(0.203975647687912,-0.019895840436220,0.044051494449377,-0.041382919996977,-0.168821036815643,0.051283709704876,-0.122653201222420,0.033571798354387,-0.076471477746964,-0.089308537542820,0.078434407711029,0.040594708174467,0.119194604456425,0.081405349075794,-0.093576744198799,0.204758122563362));
res += mul(Get(s0,0,dy), float4x4(-0.130565613508224,0.099372185766697,-0.048648439347744,-0.067222982645035,0.030170571058989,0.008038081228733,0.059790030121803,-0.057638812810183,0.019339703023434,-0.199362754821777,-0.014865914359689,-0.066975310444832,0.029601840302348,-0.092230036854744,-0.133569508790970,0.302692174911499));
res += mul(Get(s0,dx,-dy), float4x4(0.142272993922234,-0.050700649619102,0.017144931480289,0.198706090450287,0.012447656132281,0.041872657835484,0.003707161406055,-0.144940465688705,-0.095076426863670,-0.086336776614189,-0.053201984614134,0.117347091436386,0.157962068915367,0.016813993453979,-0.031650464981794,0.031124977394938));
res += mul(Get(s0,dx,0), float4x4(-0.073273330926895,-0.030947318300605,-0.230268150568008,0.240261077880859,0.024915581569076,0.131959557533264,-0.048543371260166,-0.005204972345382,0.143951803445816,0.080298565328121,0.088800609111786,-0.078987888991833,-0.086313091218472,-0.013993453234434,-0.123745739459991,-0.075941771268845));
res += mul(Get(s0,dx,dy), float4x4(-0.076975502073765,0.206514254212379,0.119784139096737,-0.028696704655886,-0.032791767269373,0.060580924153328,-0.011204222217202,0.036632187664509,0.003650884144008,-0.060712464153767,0.158496752381325,-0.049992494285107,0.048151150345802,-0.158493667840958,-0.096600271761417,-0.044014144688845));
res += mul(Get(s1,-dx,-dy), float4x4(-0.031579922884703,0.023366851732135,0.109940290451050,0.123690865933895,-0.085502237081528,0.022631386294961,-0.117330670356750,-0.131053045392036,0.068681985139847,0.008667567744851,0.068318225443363,-0.126984670758247,-0.160898417234421,0.180406242609024,0.044956944882870,-0.078880436718464));
res += mul(Get(s1,-dx,0), float4x4(-0.054255470633507,-0.098445191979408,0.015757070854306,0.135324046015739,-0.160607963800430,0.069804765284061,0.086285509169102,0.160514727234840,-0.073446951806545,0.086903847754002,-0.018218409270048,-0.021102398633957,0.097617551684380,0.000290069787297,0.220018729567528,-0.035206582397223));
res += mul(Get(s1,-dx,dy), float4x4(-0.150381952524185,-0.124601453542709,0.108985155820847,-0.014538860879838,-0.079898290336132,-0.068677790462971,0.074505791068077,-0.162349700927734,-0.038659028708935,-0.102962926030159,0.000410375971114,-0.046422407031059,0.088252462446690,-0.157643765211105,-0.034139718860388,0.046488806605339));
res += mul(Get(s1,0,-dy), float4x4(0.050826653838158,-0.012224074453115,0.035214476287365,-0.110409356653690,-0.032526437193155,-0.049527548253536,-0.093390151858330,0.024098331108689,-0.049234151840210,-0.052678834646940,0.004121312871575,-0.000219842622755,0.094250917434692,0.105118088424206,0.061338767409325,0.058031696826220));
res += mul(Get(s1,0,0), float4x4(0.017370291054249,0.111024916172028,0.172073572874069,-0.001773232128471,0.056779526174068,-0.011456036008894,-0.020844761282206,0.105939537286758,-0.032828327268362,-0.207586765289307,-0.001253819558769,-0.040042165666819,-0.057374566793442,0.023182105273008,0.022985609248281,-0.019871219992638));
res += mul(Get(s1,0,dy), float4x4(0.064036145806313,0.048950165510178,0.060162842273712,0.099665656685829,0.003310281317681,0.000428701168858,-0.001661377609707,-0.024288155138493,0.033476602286100,0.123945809900761,-0.047653127461672,-0.014682604931295,0.024687293916941,0.097893960773945,0.021624373272061,0.169947817921638));
res += mul(Get(s1,dx,-dy), float4x4(0.104860059916973,0.138900667428970,0.066288702189922,0.064346730709076,-0.079956494271755,0.022903257980943,0.046113871037960,0.110237672924995,-0.027553994208574,0.102239787578583,-0.120291635394096,-0.091506794095039,-0.094350561499596,0.097846701741219,0.041832718998194,-0.155432090163231));
res += mul(Get(s1,dx,0), float4x4(0.011154973879457,-0.039235986769199,0.083974070847034,0.088866427540779,-0.017409086227417,0.040657278150320,0.030821213498712,0.189916804432869,-0.137591347098351,-0.046887811273336,-0.029780119657516,0.085790865123272,0.017196048051119,-0.232374593615532,0.023136094212532,-0.040100328624249));
res += mul(Get(s1,dx,dy), float4x4(0.111215770244598,0.001220949692652,-0.078538335859776,0.068677879869938,-0.143270239233971,-0.026371264830232,-0.124973967671394,0.010577190667391,-0.096825443208218,-0.039072483778000,-0.064930967986584,-0.074992135167122,0.066789776086807,-0.031564299017191,0.012923553586006,0.148726642131805));
res += mul(Get(s2,-dx,-dy), float4x4(0.009887759573758,0.228729173541069,-0.122978836297989,-0.121131084859371,0.005267888307571,-0.060176782310009,-0.068590179085732,-0.078537635505199,0.032969869673252,-0.008880827575922,-0.098619863390923,0.063630685210228,-0.081255689263344,-0.065900310873985,0.033787667751312,-0.086041219532490));
res += mul(Get(s2,-dx,0), float4x4(0.154441967606544,0.009403670206666,-0.079803369939327,-0.122717387974262,-0.215591311454773,-0.054245222359896,-0.023923180997372,0.011023897677660,-0.074004121124744,-0.086232148110867,-0.127669438719749,-0.010287746787071,-0.044785600155592,-0.033733114600182,-0.319171071052551,0.187889352440834));
res += mul(Get(s2,-dx,dy), float4x4(-0.121176205575466,-0.041930861771107,0.123781785368919,-0.187127292156219,-0.200073257088661,0.018608022481203,-0.140829697251320,-0.069305703043938,-0.001031193649396,0.052721314132214,0.057128559798002,0.023379214107990,-0.020040461793542,-0.002137252595276,0.006138763856143,0.047778777778149));
res += mul(Get(s2,0,-dy), float4x4(-0.086942791938782,0.016934342682362,0.059435114264488,-0.044092420488596,-0.058509800583124,0.187928572297096,-0.050189789384604,0.195117175579071,0.136574715375900,-0.134393170475960,0.076240718364716,0.082746908068657,-0.023499792441726,-0.066372051835060,-0.086478963494301,-0.065733186900616));
res += mul(Get(s2,0,0), float4x4(-0.050699159502983,0.121642500162125,0.020985376089811,0.033084452152252,-0.012998585589230,-0.130140334367752,0.103259943425655,-0.075482226908207,0.108712904155254,-0.024285215884447,-0.050850857049227,0.077660158276558,-0.061866246163845,0.009872199036181,-0.084647007286549,-0.016496757045388));
res += mul(Get(s2,0,dy), float4x4(-0.005825030617416,-0.006739364936948,0.099875822663307,-0.078441411256790,-0.066751264035702,-0.178029119968414,-0.029155272990465,0.079954884946346,-0.163007870316505,0.025350481271744,-0.084672987461090,-0.113757438957691,0.022041767835617,0.093006670475006,0.014692547731102,0.143194347620010));
res += mul(Get(s2,dx,-dy), float4x4(0.057306028902531,0.146910220384598,0.031531356275082,-0.039443016052246,-0.127941295504570,-0.079175613820553,-0.030974898487329,0.198745667934418,0.029831444844604,-0.019845571368933,-0.016522757709026,-0.082098849117756,0.082414336502552,-0.211036235094070,-0.056300804018974,-0.101390935480595));
res += mul(Get(s2,dx,0), float4x4(0.131835982203484,-0.077708877623081,-0.014429347589612,-0.117388151586056,0.028780505061150,-0.160450994968414,-0.022599000483751,-0.018815070390701,0.087840624153614,0.008175674825907,-0.067067638039589,0.157769322395325,0.049136690795422,-0.033622913062572,-0.137455821037292,-0.039627593010664));
res += mul(Get(s2,dx,dy), float4x4(-0.075190901756287,-0.117435507476330,-0.041286192834377,-0.185055404901505,0.111317165195942,0.013575397431850,0.178916275501251,-0.123260594904423,-0.007376368157566,-0.040349137037992,0.047083970159292,-0.000724475015886,0.067484624683857,0.020017107948661,-0.017031898722053,-0.129152327775955));
res += mul(Get(s3,-dx,-dy), float4x4(-0.037275619804859,-0.007788707502186,-0.071833021938801,0.007681578863412,0.027451714500785,-0.202086180448532,-0.009909379296005,-0.128675267100334,-0.010786355473101,0.025642074644566,0.136145055294037,-0.072706542909145,-0.007265993393958,0.092298977077007,0.207403659820557,0.151496827602386));
res += mul(Get(s3,-dx,0), float4x4(-0.079779617488384,0.174257457256317,-0.044703248888254,-0.018467273563147,-0.123200580477715,0.069674052298069,0.102034054696560,-0.078867986798286,0.036013934761286,-0.101604014635086,-0.018376244232059,0.007971763610840,-0.013551011681557,0.089643143117428,-0.041694018989801,-0.004311517812312));
res += mul(Get(s3,-dx,dy), float4x4(0.068636499345303,0.084636293351650,-0.159103929996490,-0.010924726724625,0.031705465167761,-0.060623396188021,0.053144939243793,-0.167236909270287,0.023113407194614,0.090570501983166,0.067493326961994,0.261486381292343,-0.028314532712102,0.006545478943735,0.036224249750376,0.026626724749804));
res += mul(Get(s3,0,-dy), float4x4(0.059670478105545,0.050651405006647,0.083126626908779,-0.112325236201286,0.106828004121780,-0.002293323399499,0.017336977645755,-0.156945928931236,0.040143854916096,-0.008751922287047,0.048969659954309,0.182486817240715,0.181469678878784,0.043426513671875,-0.133192658424377,-0.029798803851008));
res += mul(Get(s3,0,0), float4x4(-0.072482265532017,0.068708978593349,-0.023378981277347,-0.069172531366348,-0.065502032637596,-0.031886268407106,-0.000695255934261,0.022663375362754,-0.062727101147175,-0.031050579622388,0.106182776391506,0.049309018999338,0.112918913364410,-0.042150359600782,-0.022050706669688,-0.078678280115128));
res += mul(Get(s3,0,dy), float4x4(0.041264981031418,-0.095177546143532,0.009704302996397,-0.113898575305939,-0.022920610383153,-0.098655827343464,-0.027169734239578,-0.084928102791309,0.003185648936778,-0.085651181638241,-0.087032973766327,0.024318153038621,0.174357995390892,-0.050103232264519,-0.093844309449196,0.097358644008636));
res += mul(Get(s3,dx,-dy), float4x4(0.056566808372736,0.057881854474545,-0.114416263997555,-0.013292978517711,0.110525123775005,-0.051451493054628,0.087770938873291,-0.040018867701292,0.041950400918722,-0.107929930090904,-0.018668461591005,0.392104387283325,0.024324759840965,0.116955906152725,0.042284697294235,0.008382209576666));
res += mul(Get(s3,dx,0), float4x4(-0.045252695679665,-0.028828253969550,-0.015780348330736,0.005214703734964,0.064450040459633,0.037485867738724,0.046549722552299,-0.117820926010609,0.126076385378838,0.086485370993614,-0.034319195896387,0.127921342849731,0.089859686791897,-0.248890623450279,0.177466198801994,-0.162242144346237));
res += mul(Get(s3,dx,dy), float4x4(0.126428514719009,-0.182741329073906,0.121479310095310,-0.079182282090187,-0.006996470969170,-0.210037425160408,-0.128527492284775,0.035568021237850,0.114193461835384,-0.094051532447338,0.138735935091972,0.176240637898445,-0.145401313900948,-0.038264233618975,-0.011661985889077,0.052711188793182));
return max(float4(0,0,0,0), res);
}
