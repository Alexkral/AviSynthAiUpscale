sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.080321550369263,-0.140635132789612,0.054026722908020,-0.002867958508432,-0.036507233977318,-0.033694680780172,-0.021414157003164,0.002916326280683,0.068751610815525,0.325467854738235,-0.037932887673378,-0.183944672346115,0.048649560660124,-0.079080939292908,0.017777083441615,0.073932968080044));
res += mul(Get(s0,-dx,0), float4x4(-0.183148518204689,-0.150492519140244,0.177680477499962,0.008601259440184,-0.042022258043289,-0.079103872179985,-0.032016173005104,0.012227416038513,0.047145295888186,0.221112176775932,-0.045928716659546,0.124705225229263,-0.058276765048504,0.081787072122097,-0.011965095065534,0.057707350701094));
res += mul(Get(s0,-dx,dy), float4x4(0.002148112980649,-0.163527995347977,0.091877765953541,-0.002528598764911,-0.024818358942866,-0.010270482860506,0.009300014935434,-0.042092751711607,-0.000389488763176,0.093966372311115,0.029433881863952,-0.031059917062521,0.047863714396954,0.125070452690125,0.025884009897709,-0.046303641051054));
res += mul(Get(s0,0,-dy), float4x4(0.004915590398014,0.007733061444014,0.073101304471493,0.046508561819792,-0.111706472933292,-0.009196888655424,-0.021885890513659,-0.079791240394115,0.044212128967047,-0.051254402846098,-0.108608543872833,-0.223702967166901,-0.059881404042244,-0.044684525579214,-0.069786086678505,0.007151535246521));
res += mul(Get(s0,0,0), float4x4(-0.048215337097645,-0.012342513538897,-0.154191792011261,-0.154728516936302,-0.239056721329689,-0.030527299270034,-0.106116078794003,-0.054650213569403,-0.177671894431114,-0.053336929529905,0.069134257733822,0.497470885515213,-0.122760832309723,-0.040433656424284,-0.008415870368481,-0.002118920208886));
res += mul(Get(s0,0,dy), float4x4(0.063860364258289,0.055790308862925,-0.062187533825636,-0.151221290230751,-0.122367635369301,-0.056929618120193,-0.006412029732019,-0.008530385792255,0.006287746131420,-0.104728206992149,-0.050637807697058,0.215216442942619,-0.035537019371986,-0.053981967270374,0.055278707295656,-0.089151248335838));
res += mul(Get(s0,dx,-dy), float4x4(0.058932758867741,0.047138419002295,0.008423482067883,0.053966194391251,-0.079573199152946,-0.019997488707304,0.032677344977856,-0.106758400797844,0.097891122102737,0.018308768048882,-0.121087595820427,-0.197358652949333,-0.021569028496742,-0.086275875568390,0.002910307142884,0.136228427290916));
res += mul(Get(s0,dx,0), float4x4(0.114153474569321,-0.020955286920071,0.097660511732101,-0.090253986418247,-0.098778247833252,-0.003746476955712,-0.043077006936073,0.018153885379434,-0.191963881254196,0.031255450099707,-0.086675941944122,0.037151087075472,-0.026081478223205,-0.085732638835907,-0.022538093850017,0.082309722900391));
res += mul(Get(s0,dx,dy), float4x4(0.038424521684647,0.073744237422943,-0.007749292068183,-0.111086197197437,-0.008644859306514,0.051698908209801,-0.135754704475403,0.069092579185963,-0.213767901062965,-0.009629037231207,-0.166966021060944,-0.265684694051743,0.081364743411541,-0.092026144266129,0.029307965189219,-0.060774073004723));
res += mul(Get(s1,-dx,-dy), float4x4(-0.082186549901962,0.090343885123730,0.064626276493073,-0.127403765916824,0.040292732417583,0.095971524715424,0.134515091776848,0.086228959262371,-0.061007056385279,-0.098290413618088,0.072251506149769,-0.063208326697350,0.122091129422188,0.007399452850223,-0.047070000320673,0.053875129669905));
res += mul(Get(s1,-dx,0), float4x4(-0.052713550627232,0.035787474364042,-0.100675627589226,0.017343055456877,0.093260169029236,0.025434104725718,0.139026179909706,0.083862870931625,0.003858478041366,0.046653650701046,0.087620787322521,0.173290714621544,0.121153607964516,-0.060672853142023,0.266289561986923,0.025857867673039));
res += mul(Get(s1,-dx,dy), float4x4(-0.091008603572845,0.085731066763401,0.093282788991928,0.025834169238806,0.085353039205074,0.006579540204257,0.069454573094845,0.101906448602676,-0.053909152746201,-0.126802727580070,0.061021439731121,0.109290011227131,0.173063084483147,0.198252066969872,0.068869538605213,-0.019652402028441));
res += mul(Get(s1,0,-dy), float4x4(0.005981668364257,0.104347810149193,0.196101143956184,-0.058072172105312,-0.111552752554417,0.048528157174587,-0.000894190277904,0.143584653735161,0.031444080173969,0.065522618591785,0.087533086538315,-0.219034507870674,-0.092176914215088,-0.083182133734226,0.017274752259254,-0.002303089480847));
res += mul(Get(s1,0,0), float4x4(0.023018825799227,0.010395690798759,0.016070690006018,0.053774148225784,0.052390020340681,-0.022786453366280,0.071769759058952,0.030627438798547,0.031005460768938,0.060354869812727,0.041395619511604,-0.036031320691109,-0.064040459692478,-0.223337769508362,-0.045615863054991,-0.033062927424908));
res += mul(Get(s1,0,dy), float4x4(-0.062126111239195,0.101695150136948,0.038257360458374,-0.056538205593824,0.011328119784594,-0.092466063797474,-0.019915636628866,0.046526353806257,0.023314638063312,-0.075870566070080,0.199065178632736,-0.002727557206526,-0.062925331294537,0.027816602960229,0.134899094700813,0.189426481723785));
res += mul(Get(s1,dx,-dy), float4x4(-0.121126130223274,0.039279013872147,0.074913695454597,-0.092801466584206,-0.069809615612030,-0.011514125391841,0.032973051071167,0.196759343147278,0.110715478658676,0.010624310001731,-0.051953300833702,-0.189536586403847,0.081752069294453,0.024199074134231,-0.099758565425873,0.136578083038330));
res += mul(Get(s1,dx,0), float4x4(-0.093476660549641,-0.031705480068922,0.060671884566545,0.181487858295441,0.092662744224072,0.178421169519424,0.103498212993145,0.001607670797966,0.403919875621796,0.026081643998623,-0.107331648468971,-0.003412813879550,0.020515004172921,-0.065429471433163,-0.063932947814465,0.014885261654854));
res += mul(Get(s1,dx,dy), float4x4(-0.035103973001242,0.001961053814739,0.147397920489311,-0.058089274913073,0.117801852524281,0.156216010451317,0.048419363796711,-0.036871906369925,-0.066183939576149,-0.056633312255144,-0.008551158942282,-0.062437519431114,0.190474554896355,0.001033951994032,0.007795938290656,0.140035644173622));
res += mul(Get(s2,-dx,-dy), float4x4(-0.071648471057415,-0.063299253582954,0.169431194663048,0.364665180444717,0.036617822945118,0.043067399412394,-0.001255376730114,-0.009313732385635,-0.061423264443874,0.074053198099136,-0.033859901130199,-0.107301227748394,-0.112427942454815,-0.044564574956894,0.028476856648922,0.061213184148073));
res += mul(Get(s2,-dx,0), float4x4(-0.043742761015892,-0.074410431087017,0.036866307258606,-0.082854799926281,0.107605479657650,0.077428109943867,0.029561243951321,0.008795580826700,0.063832320272923,0.118614308536053,0.041626185178757,0.080098658800125,0.077684581279755,-0.013899354264140,-0.026643974706531,-0.042733360081911));
res += mul(Get(s2,-dx,dy), float4x4(0.049389488995075,-0.035688657313585,0.023583790287375,0.092635445296764,0.097289711236954,0.082219585776329,0.054741736501455,-0.014324466697872,-0.031404335051775,0.049858000129461,0.015450007282197,0.071873895823956,0.021368216723204,0.066193364560604,-0.037352692335844,0.006578952539712));
res += mul(Get(s2,0,-dy), float4x4(0.104327760636806,0.127184510231018,0.022414514794946,0.169846728444099,-0.008827540092170,-0.078198023140430,0.043452348560095,0.063318781554699,-0.009548735804856,-0.020884837955236,-0.239040061831474,-0.082324929535389,-0.156561866402626,0.094259768724442,-0.019940998405218,-0.074301563203335));
res += mul(Get(s2,0,0), float4x4(0.115578442811966,0.164575532078743,-0.022234136238694,-0.173815503716469,-0.030081914737821,-0.070041462779045,0.128993749618530,0.097855649888515,0.108905114233494,0.012774300761521,-0.021986143663526,0.075277090072632,0.127772301435471,0.208743318915367,0.131552100181580,0.062020916491747));
res += mul(Get(s2,0,dy), float4x4(-0.058998674154282,0.156440064311028,0.048345662653446,-0.033675760030746,-0.036848362535238,-0.009918623603880,0.048177514225245,0.000900163548067,-0.020165080204606,0.052854795008898,0.035540331155062,0.075384989380836,0.131147816777229,0.102255098521709,0.072318039834499,0.083966061472893));
res += mul(Get(s2,dx,-dy), float4x4(0.011658958159387,-0.084224544465542,-0.012380305677652,0.200793474912643,-0.096709497272968,-0.107860721647739,-0.335446208715439,-0.080020159482956,-0.013758870773017,0.080092094838619,-0.326845556497574,-0.113343663513660,0.126566737890244,-0.046570051461458,-0.021175701171160,-0.040281143039465));
res += mul(Get(s2,dx,0), float4x4(0.040057960897684,-0.006018535699695,0.013269363902509,-0.018878875300288,-0.173025175929070,-0.176641568541527,-0.206501737236977,-0.067021347582340,-0.039941508322954,0.227942124009132,-0.220726490020752,-0.193538308143616,0.000999741372652,0.019627217203379,-0.126508995890617,-0.121276624500751));
res += mul(Get(s2,dx,dy), float4x4(-0.050067748874426,0.009966415353119,0.013022152706981,0.091938681900501,0.056308764964342,-0.151833683252335,-0.051284465938807,-0.135061129927635,-0.131528332829475,-0.049051165580750,-0.098851755261421,0.027024619281292,0.059196829795837,0.007517366670072,-0.202322781085968,0.082228563725948));
res += mul(Get(s3,-dx,-dy), float4x4(0.017180336639285,-0.047572836279869,0.026433462277055,-0.117239318788052,0.006435823161155,-0.006659208331257,0.101378589868546,0.009581479243934,0.094775192439556,0.108237445354462,0.058243256062269,0.137418642640114,-0.068264916539192,-0.039867885410786,0.099937044084072,-0.080984853208065));
res += mul(Get(s3,-dx,0), float4x4(-0.032358475029469,-0.054950479418039,-0.035869244486094,-0.017134493216872,-0.035021677613258,-0.019243342801929,0.137137040495872,-0.107681050896645,-0.063062444329262,0.180663213133812,0.103867128491402,0.016626883298159,-0.046154651790857,-0.088977277278900,0.200945466756821,-0.011854347772896));
res += mul(Get(s3,-dx,dy), float4x4(0.003633483313024,-0.062332645058632,0.015557879582047,0.035579901188612,0.023518418893218,0.117610961198807,-0.017017628997564,-0.087222583591938,0.036053329706192,-0.060987047851086,0.009453213773668,0.142885029315948,-0.010293694213033,-0.083185657858849,0.194473907351494,0.129156842827797));
res += mul(Get(s3,0,-dy), float4x4(0.099114961922169,-0.024134071543813,0.084722295403481,-0.005516214761883,-0.081758335232735,-0.090234301984310,-0.096144258975983,0.095826245844364,-0.058278352022171,-0.026350909844041,-0.095710709691048,0.174087226390839,0.022910024970770,-0.088342592120171,0.040782481431961,-0.171846494078636));
res += mul(Get(s3,0,0), float4x4(0.054147806018591,0.000347611960024,0.009460885077715,-0.094030544161797,-0.119127951562405,-0.112230636179447,-0.088056415319443,0.021917087957263,-0.104998752474785,0.173012495040894,0.161118566989899,0.134000316262245,0.040864694863558,-0.151383608579636,-0.120045170187950,-0.066523544490337));
res += mul(Get(s3,0,dy), float4x4(0.222873002290726,0.051858309656382,0.123239584267139,-0.010429536923766,0.066880159080029,-0.008231325075030,0.035008735954762,0.063581854104996,0.000563876237720,-0.130452603101730,0.067741490900517,0.145361483097076,0.030653806403279,-0.088286824524403,-0.063366770744324,0.334136188030243));
res += mul(Get(s3,dx,-dy), float4x4(0.032564349472523,0.000163400327438,0.188538283109665,-0.091503292322159,0.073685392737389,0.082149945199490,-0.097522117197514,-0.015339081175625,0.208019837737083,-0.097055561840534,-0.017268575727940,0.058733690530062,0.006057904567569,0.076438143849373,-0.029375145211816,-0.079516537487507));
res += mul(Get(s3,dx,0), float4x4(0.190368786454201,0.004914721474051,-0.111171275377274,-0.161270037293434,0.035039886832237,0.002690575085580,-0.127044260501862,-0.085724055767059,0.001785939210095,0.118456766009331,0.288780570030212,-0.197150215506554,0.058106675744057,-0.007262524683028,-0.087424032390118,-0.045338749885559));
res += mul(Get(s3,dx,dy), float4x4(0.254404515028000,0.064086593687534,0.089795887470245,-0.146502405405045,0.494276672601700,-0.004609741736203,0.039558649063110,-0.037577487528324,0.111375354230404,0.071733571588993,0.142126038670540,0.006762423086911,-0.125658184289932,-0.015915246680379,0.003191502299160,0.004819055553526));
return max(float4(0,0,0,0), res);
}
