sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.077818609774113,0.141030654311180,-0.033958178013563,0.102728024125099,0.090736038982868,0.030110672116280,-0.056789021939039,-0.083356276154518,0.208317622542381,0.008505096659064,0.078252598643303,0.020843369886279,0.049007169902325,-0.031164500862360,0.042716026306152,0.196375817060471));
res += mul(Get(s0,-dx,0), float4x4(0.013030152767897,-0.140121221542358,0.025164322927594,0.047872737050056,-0.105988770723343,0.198950141668320,-0.037202462553978,0.009490552358329,0.089632757008076,0.030310021713376,0.191295206546783,-0.036697119474411,0.104820810258389,0.067657008767128,0.096912339329720,0.044323202222586));
res += mul(Get(s0,-dx,dy), float4x4(-0.179538130760193,-0.091256797313690,-0.006899155210704,0.105556979775429,0.090770415961742,0.111570633947849,-0.002651197602972,0.072764649987221,-0.047940433025360,0.004179626237601,-0.158478513360023,0.131318837404251,-0.019155975431204,-0.038331665098667,0.015883965417743,-0.079848632216454));
res += mul(Get(s0,0,-dy), float4x4(-0.039031643420458,0.186014771461487,-0.124638676643372,-0.168103188276291,0.026617428287864,-0.087244041264057,-0.096228040754795,0.066861569881439,-0.087844997644424,-0.043756559491158,0.135935038328171,-0.125909566879272,0.016683388501406,-0.095372207462788,0.037942044436932,-0.064008869230747));
res += mul(Get(s0,0,0), float4x4(0.004769874736667,0.180875524878502,0.139984697103500,0.020219705998898,0.163506954908371,0.061184950172901,-0.002864999463782,-0.017461799085140,-0.113652132451534,0.285452127456665,0.261806100606918,0.109677821397781,-0.100597262382507,0.090338677167892,-0.078383326530457,0.005526363383979));
res += mul(Get(s0,0,dy), float4x4(0.021061193197966,0.085157617926598,-0.050723921507597,-0.077496826648712,0.337756395339966,0.157882183790207,0.277612388134003,0.038010764867067,-0.111084103584290,-0.180306822061539,-0.093138225376606,-0.069660492241383,0.057080708444118,-0.015716658905149,-0.104296393692493,0.017522731795907));
res += mul(Get(s0,dx,-dy), float4x4(0.142696678638458,0.050302561372519,-0.012441941536963,0.001747441827320,-0.054219260811806,0.140572339296341,0.039043135941029,0.134636536240578,0.061375323683023,0.047761850059032,-0.037071250379086,-0.108383364975452,-0.111686155200005,0.129526764154434,-0.034428533166647,-0.042226959019899));
res += mul(Get(s0,dx,0), float4x4(0.303746640682220,-0.018092922866344,-0.080512940883636,-0.005905112251639,-0.000633458606899,-0.093457043170929,0.036671463400126,0.027162807062268,0.025303268805146,-0.012909683398902,0.089748717844486,-0.037541780620813,-0.031253460794687,0.156956389546394,-0.180829763412476,-0.234812587499619));
res += mul(Get(s0,dx,dy), float4x4(0.006278341636062,0.076864339411259,-0.011010932736099,-0.020248299464583,0.191374257206917,-0.016846511512995,-0.040800780057907,0.149923130869865,0.119658507406712,-0.090442486107349,-0.203023746609688,-0.176827102899551,0.065467044711113,-0.147645160555840,-0.238688960671425,0.081586360931396));
res += mul(Get(s1,-dx,-dy), float4x4(0.066087119281292,0.115720875561237,0.121167726814747,-0.123727560043335,-0.017153447493911,0.105943880975246,-0.012669552117586,-0.078667715191841,0.170915305614471,0.009083904325962,0.023122340440750,0.131026819348335,0.029582632705569,-0.067821942269802,-0.064437359571457,0.078611075878143));
res += mul(Get(s1,-dx,0), float4x4(0.051198232918978,-0.088098160922527,-0.169369339942932,-0.092806108295918,0.042746521532536,-0.105817340314388,-0.192932710051537,0.010790000669658,0.214733481407166,0.147046014666557,-0.056638974696398,0.057986248284578,-0.029538331553340,-0.195877060294151,-0.157100543379784,0.008431252092123));
res += mul(Get(s1,-dx,dy), float4x4(-0.048905957490206,-0.066938146948814,-0.052700892090797,-0.060365736484528,-0.100814789533615,0.096397645771503,-0.003878245595843,0.026266718283296,0.127421736717224,-0.024214321747422,-0.104422241449356,0.020210646092892,0.150025814771652,0.206649780273438,-0.074897453188896,0.135666459798813));
res += mul(Get(s1,0,-dy), float4x4(-0.221480995416641,-0.082174107432365,0.134094253182411,0.237200930714607,0.010321425274014,-0.043107949197292,-0.084394678473473,-0.016387842595577,0.124064423143864,0.068861603736877,0.036602046340704,-0.105490282177925,-0.222788289189339,-0.029256105422974,0.030623158439994,-0.120736449956894));
res += mul(Get(s1,0,0), float4x4(-0.021820867434144,0.006681693252176,-0.209164664149284,-0.077565252780914,0.103366874158382,0.001167188282125,-0.094686426222324,-0.226590424776077,-0.056397318840027,-0.093413650989532,0.115833394229412,-0.001990703167394,-0.207067534327507,-0.141904413700104,-0.050077896565199,-0.052050672471523));
res += mul(Get(s1,0,dy), float4x4(0.039118759334087,-0.010133695788682,0.017307830974460,0.068839095532894,-0.194285973906517,-0.084749154746532,0.024959698319435,-0.123414762318134,0.003783965716138,-0.044736929237843,-0.058273512870073,-0.201395601034164,0.009763497859240,-0.209514603018761,0.009657927788794,0.123069636523724));
res += mul(Get(s1,dx,-dy), float4x4(-0.117258310317993,0.024135826155543,0.094003491103649,-0.161663904786110,-0.085724592208862,0.040362816303968,-0.038361392915249,0.030666423961520,-0.126018956303596,-0.041252762079239,-0.026185460388660,0.122123003005981,0.126486197113991,-0.071671254932880,0.116070076823235,-0.203151643276215));
res += mul(Get(s1,dx,0), float4x4(-0.062568955123425,-0.089549340307713,0.161356031894684,-0.051547493785620,-0.039899479597807,0.076971843838692,-0.076442785561085,-0.117481686174870,0.193098515272141,0.036631084978580,-0.081210039556026,0.084912903606892,0.078374743461609,-0.057672925293446,-0.079693578183651,-0.149920538067818));
res += mul(Get(s1,dx,dy), float4x4(0.153782129287720,0.153629705309868,-0.023147849366069,0.137547731399536,0.017868900671601,0.251641064882278,-0.076445631682873,-0.060248639434576,-0.133778855204582,-0.098411470651627,0.006891079246998,0.043920584022999,0.062239699065685,-0.085489965975285,0.047122236341238,-0.014992116019130));
res += mul(Get(s2,-dx,-dy), float4x4(-0.058512441813946,0.141327232122421,-0.093206301331520,0.064104616641998,-0.042957060039043,-0.025067079812288,-0.008314178325236,0.042088251560926,0.111084036529064,-0.074290007352829,0.033396046608686,-0.026001213118434,-0.130012989044189,-0.132201865315437,0.000444967939984,0.106663987040520));
res += mul(Get(s2,-dx,0), float4x4(0.025695219635963,0.205555170774460,-0.005839827004820,0.023858942091465,-0.117758885025978,0.001547160092741,0.027172187343240,0.122629255056381,-0.041324123740196,-0.051198773086071,0.084693811833858,-0.067025989294052,0.119968645274639,-0.127223834395409,0.250264942646027,0.009270000271499));
res += mul(Get(s2,-dx,dy), float4x4(-0.042979519814253,0.026985434815288,0.013950844295323,0.046233896166086,0.119329728186131,-0.039575275033712,-0.126447498798370,-0.004174832720309,0.053719975054264,0.044825065881014,0.179342254996300,0.225374743342400,-0.070844270288944,0.129648014903069,0.033642195165157,0.037246380001307));
res += mul(Get(s2,0,-dy), float4x4(-0.029563106596470,0.118666410446167,0.052437376230955,-0.010906069539487,0.082675173878670,-0.108758941292763,0.087399020791054,0.017941331490874,-0.035846345126629,0.039906106889248,0.002250926103443,-0.050160471349955,-0.002031267620623,-0.168731465935707,0.052429568022490,-0.064706586301327));
res += mul(Get(s2,0,0), float4x4(-0.055571012198925,0.117232836782932,-0.032223377376795,-0.266590625047684,-0.058920424431562,-0.036972805857658,0.120062343776226,0.135684028267860,0.003507635556161,0.045742798596621,-0.073629394173622,0.294634938240051,-0.155544847249985,-0.054592080414295,0.026285484433174,0.102720357477665));
res += mul(Get(s2,0,dy), float4x4(-0.000891885138117,0.170296072959900,-0.119408391416073,-0.147221013903618,0.132687419652939,-0.130135044455528,-0.002473406726494,0.126351013779640,-0.186436071991920,-0.073303610086441,-0.012325288727880,0.029151691123843,-0.240481466054916,0.057655513286591,-0.026793943718076,0.136156290769577));
res += mul(Get(s2,dx,-dy), float4x4(0.067919060587883,0.090489737689495,-0.042140666395426,-0.027680719271302,0.138143315911293,0.040817901492119,0.017284268513322,-0.039654299616814,-0.097958080470562,-0.029918046668172,-0.165274634957314,-0.062099259346724,0.055609323084354,0.051603801548481,-0.029546085745096,-0.031198423355818));
res += mul(Get(s2,dx,0), float4x4(0.174004569649696,0.002115533687174,0.047237217426300,-0.031199267134070,-0.026095435023308,0.027334108948708,-0.140004038810730,0.056665331125259,-0.005741955246776,-0.098567493259907,-0.100603811442852,-0.057710591703653,-0.061051249504089,0.060808751732111,-0.082663446664810,-0.096064984798431));
res += mul(Get(s2,dx,dy), float4x4(-0.001994931139052,0.196145519614220,0.104659728705883,0.093112513422966,-0.052984125912189,-0.108877785503864,0.117080420255661,0.123196005821228,-0.071915931999683,-0.034005243331194,0.005364237353206,-0.091986760497093,0.014254420064390,0.076306283473969,-0.152920290827751,-0.018299423158169));
res += mul(Get(s3,-dx,-dy), float4x4(-0.019047152251005,0.284471571445465,0.066815309226513,-0.100758187472820,-0.051477897912264,0.068118065595627,0.148101031780243,-0.049156371504068,0.209984302520752,-0.090936526656151,-0.093638107180595,0.071235902607441,0.066237159073353,0.125778988003731,0.216684758663177,0.051485735923052));
res += mul(Get(s3,-dx,0), float4x4(-0.019378703087568,-0.062890872359276,0.015480525791645,-0.068543575704098,0.155963540077209,0.056863576173782,-0.208004966378212,-0.020153541117907,0.007293288130313,0.010893228463829,0.009279734455049,-0.040894731879234,0.057574678212404,-0.021470047533512,0.103101134300232,0.001351793063805));
res += mul(Get(s3,-dx,dy), float4x4(0.124000392854214,0.050375986844301,-0.118171691894531,-0.140513658523560,-0.012408199720085,0.157294556498528,-0.057694919407368,-0.053813222795725,-0.021644519641995,0.094480827450752,-0.121919721364975,0.066385187208652,0.059119068086147,-0.025657188147306,-0.154481709003448,-0.107418604195118));
res += mul(Get(s3,0,-dy), float4x4(0.118490815162659,-0.072717532515526,-0.069630168378353,-0.073566392064095,0.073468998074532,0.069997042417526,0.032033123075962,0.031667150557041,-0.002330814022571,0.157278567552567,-0.152072757482529,-0.002010946394876,0.083511717617512,0.009420776739717,0.100918978452682,-0.035488441586494));
res += mul(Get(s3,0,0), float4x4(-0.073807530105114,0.081020317971706,-0.032642912119627,0.024467116221786,0.019349638372660,0.241068631410599,0.105421565473080,0.048096071928740,0.148516982793808,-0.041205510497093,0.010855712927878,0.077300354838371,-0.045185577124357,-0.016952738165855,-0.124761708080769,-0.072820737957954));
res += mul(Get(s3,0,dy), float4x4(0.017598537728190,0.076414987444878,-0.092020571231842,0.048687096685171,0.054692629724741,0.125608518719673,-0.138982936739922,-0.039731156080961,-0.112662449479103,0.114253543317318,-0.177410095930099,0.208835661411285,0.027135889977217,0.027911055833101,-0.094079919159412,-0.035653457045555));
res += mul(Get(s3,dx,-dy), float4x4(-0.021855695173144,0.105828940868378,0.026701211929321,-0.018037037923932,0.001283899415284,-0.134498327970505,-0.052414603531361,0.269045770168304,0.033795271068811,0.056300666183233,-0.067278698086739,-0.046536915004253,-0.129281476140022,0.028359740972519,0.162710353732109,0.157831132411957));
res += mul(Get(s3,dx,0), float4x4(-0.032573048025370,-0.064219355583191,0.011053672060370,0.046496469527483,-0.045296858996153,-0.150722548365593,0.160466492176056,0.214165493845940,-0.018095286563039,-0.027289414778352,0.057736925780773,0.113099813461304,-0.199684366583824,0.115666083991528,0.080799274146557,-0.135876476764679));
res += mul(Get(s3,dx,dy), float4x4(-0.085548304021358,-0.041895717382431,-0.101718753576279,-0.073840454220772,-0.015093792229891,-0.064064681529999,0.011697607114911,0.217632502317429,-0.108053468167782,0.067161694169044,-0.108908258378506,0.105616159737110,-0.010632530786097,-0.011776742525399,0.184751510620117,-0.070878066122532));
return max(float4(0,0,0,0), res);
}
