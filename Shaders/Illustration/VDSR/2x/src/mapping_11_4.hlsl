sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.029701231047511,0.131656169891357,-0.029269389808178,-0.140298679471016,-0.096576549112797,-0.065425686538219,-0.109570540487766,-0.142899349331856,-0.178632050752640,0.108508542180061,0.128928169608116,0.049092948436737,0.009918219409883,-0.045869890600443,0.168954059481621,0.077736094594002));
res += mul(Get(s0,-dx,0), float4x4(-0.056195463985205,0.041117832064629,-0.040190510451794,-0.041842892765999,-0.006176632363349,-0.145768865942955,-0.222629219293594,-0.049033213406801,-0.031018313020468,0.118783108890057,0.068019181489944,0.084592774510384,-0.171842902898788,-0.061923880130053,0.097568184137344,-0.064606413245201));
res += mul(Get(s0,-dx,dy), float4x4(-0.102963998913765,0.000492183782626,0.171196103096008,-0.016265377402306,-0.116377994418144,-0.170067310333252,-0.244183927774429,-0.183685943484306,0.052645310759544,-0.170272588729858,-0.028732668608427,-0.001598417060450,0.075736552476883,0.021824011579156,0.081913530826569,0.118207588791847));
res += mul(Get(s0,0,-dy), float4x4(0.110216334462166,0.068932950496674,0.138823479413986,0.003393654711545,0.070339046418667,0.039885614067316,0.170679882168770,-0.044487129896879,-0.128039762377739,-0.142245158553123,-0.040946036577225,-0.052132979035378,-0.147306576371193,-0.043110862374306,0.032434549182653,-0.034147035330534));
res += mul(Get(s0,0,0), float4x4(-0.012568257749081,-0.027277151122689,-0.048495367169380,0.168638914823532,0.130792275071144,0.015121921896935,-0.152084589004517,0.033710721880198,-0.095533527433872,0.090665750205517,0.176963314414024,0.071420788764954,0.133981198072433,-0.073684148490429,0.018547918647528,0.002747727558017));
res += mul(Get(s0,0,dy), float4x4(-0.002827790798619,0.050996322184801,0.029637312516570,-0.059811256825924,-0.033155109733343,0.097262211143970,0.051005758345127,0.074952453374863,-0.069846600294113,-0.142252326011658,-0.010276903398335,0.076970316469669,0.042334605008364,0.086316369473934,0.210449412465096,0.123089000582695));
res += mul(Get(s0,dx,-dy), float4x4(-0.099894255399704,-0.073850467801094,-0.090293876826763,-0.026223849505186,-0.051725711673498,0.009018352255225,-0.047078248113394,-0.253715008497238,0.050665728747845,0.034608524292707,-0.125370949506760,-0.128320276737213,-0.068586468696594,-0.051292624324560,0.042962476611137,0.043576374650002));
res += mul(Get(s0,dx,0), float4x4(-0.085644803941250,-0.081124871969223,0.053920514881611,0.004786792211235,-0.087915740907192,0.022451940923929,-0.006480842828751,-0.007017197087407,-0.031375613063574,-0.086536474525928,-0.096473425626755,0.080341801047325,0.090949185192585,0.105006307363510,-0.190659195184708,-0.184292599558830));
res += mul(Get(s0,dx,dy), float4x4(0.173216953873634,-0.034639645367861,-0.060322128236294,0.039788790047169,-0.064143545925617,-0.009801089763641,0.122967742383480,0.141322329640388,-0.049600712954998,0.011713383719325,0.043487802147865,0.088520467281342,0.051705945283175,0.016170926392078,-0.138694673776627,-0.018371833488345));
res += mul(Get(s1,-dx,-dy), float4x4(-0.024829069152474,0.039629809558392,0.129727020859718,0.027649944648147,-0.157328635454178,0.112592957913876,0.042236760258675,-0.044785659760237,0.175341337919235,0.031940743327141,0.062153488397598,-0.110352613031864,-0.109664954245090,-0.081421516835690,0.008622603490949,0.090629488229752));
res += mul(Get(s1,-dx,0), float4x4(0.054072499275208,0.057956185191870,0.014894467778504,-0.081846304237843,-0.156592667102814,0.057141404598951,0.114916749298573,-0.012529937550426,0.114454388618469,0.040816146880388,-0.039747659116983,0.033390931785107,0.173166871070862,0.182062461972237,0.012052571401000,-0.001175432000309));
res += mul(Get(s1,-dx,dy), float4x4(0.088348403573036,-0.019742118194699,0.067656956613064,-0.136641144752502,-0.120467998087406,0.047834172844887,-0.113425336778164,-0.053861677646637,-0.018354311585426,0.002099121455103,-0.096139490604401,-0.114796265959740,0.034938700497150,0.124907888472080,0.182480514049530,0.113522008061409));
res += mul(Get(s1,0,-dy), float4x4(0.081049673259258,0.080828838050365,0.019521823152900,0.043904833495617,-0.107407167553902,0.140510052442551,-0.126676350831985,-0.200526028871536,0.154565989971161,-0.038854837417603,0.102093368768692,-0.076012350618839,0.129846960306168,-0.063788793981075,-0.039166584610939,-0.208555996417999));
res += mul(Get(s1,0,0), float4x4(0.105346657335758,0.034410443156958,-0.109529986977577,-0.083129405975342,-0.082346878945827,-0.012094311416149,0.085668668150902,-0.065096557140350,0.133673787117004,0.158879294991493,0.034075755625963,0.009141041897237,0.317464262247086,0.316439926624298,-0.046749155968428,0.055528178811073));
res += mul(Get(s1,0,dy), float4x4(-0.043102912604809,0.059821229428053,0.158955231308937,-0.008857396431267,0.002571795368567,0.053941119462252,0.004886738024652,-0.002608698094264,-0.044038195163012,0.073065333068371,0.047477196902037,-0.114044867455959,-0.146286994218826,-0.051515743136406,0.048539206385612,-0.003128977725282));
res += mul(Get(s1,dx,-dy), float4x4(-0.090255334973335,-0.138335913419724,0.188352897763252,0.063123524188995,-0.083419740200043,-0.153961375355721,0.017321269959211,0.011350478045642,-0.047329436987638,0.074509650468826,0.058838851749897,-0.030326047912240,-0.017937874421477,-0.042580474168062,-0.039605442434549,-0.070443995296955));
res += mul(Get(s1,dx,0), float4x4(-0.077726796269417,-0.079223349690437,-0.017099510878325,-0.113405115902424,-0.076712772250175,0.002374927513301,-0.034897934645414,0.067097879946232,0.042786289006472,0.149931922554970,0.113457739353180,0.008517063222826,-0.081589236855507,0.003541180398315,-0.016863854601979,0.055196471512318));
res += mul(Get(s1,dx,dy), float4x4(0.081625238060951,-0.076105847954750,0.071679092943668,-0.076926194131374,-0.011647498235106,-0.025556692853570,0.086344726383686,0.258995026350021,0.106604136526585,-0.002892375923693,-0.012335381470621,0.072462961077690,-0.186406493186951,-0.157060235738754,-0.006306177470833,0.018861414864659));
res += mul(Get(s2,-dx,-dy), float4x4(0.003392835846171,-0.074318781495094,0.025470267981291,0.021268565207720,-0.006175545509905,-0.106144160032272,-0.017448611557484,-0.077308647334576,0.101170167326927,-0.124166436493397,-0.042987555265427,0.040879108011723,-0.032571960240602,-0.020691696554422,-0.031710945069790,0.111235730350018));
res += mul(Get(s2,-dx,0), float4x4(0.126115143299103,0.149960979819298,0.025674313306808,-0.021894859150052,-0.012221811339259,-0.064756400883198,0.064926683902740,-0.093063928186893,-0.174367278814316,0.049698196351528,0.060112420469522,0.176467508077621,-0.095567651093006,0.008256171829998,0.098502539098263,0.067453026771545));
res += mul(Get(s2,-dx,dy), float4x4(0.001542937359773,0.110467046499252,0.034606110304594,0.085873313248158,0.100101053714752,0.134523376822472,-0.064883746206760,-0.039058711379766,-0.059784822165966,0.248135775327682,0.054891157895327,-0.169051378965378,0.042326148599386,0.114614054560661,0.144286885857582,-0.048654291778803));
res += mul(Get(s2,0,-dy), float4x4(0.133039101958275,0.068951524794102,0.026311095803976,0.066679552197456,-0.054981060326099,0.000378480384825,-0.139922752976418,0.050850123167038,-0.049749173223972,-0.035831615328789,0.031398795545101,-0.028871705755591,-0.044069495052099,-0.066095083951950,-0.097251385450363,-0.004397312179208));
res += mul(Get(s2,0,0), float4x4(-0.008232951164246,0.097225330770016,-0.121295422315598,-0.021451795473695,0.058063503354788,-0.023505005985498,0.020068548619747,0.088792309165001,-0.108587071299553,-0.009247919544578,0.003523458028212,0.149708837270737,0.063375763595104,0.048622366040945,-0.089828938245773,-0.000629358284641));
res += mul(Get(s2,0,dy), float4x4(0.114166215062141,0.047472804784775,0.136214226484299,-0.117789298295975,-0.100309930741787,-0.196195259690285,-0.032660864293575,-0.017631433904171,0.112390503287315,0.034477125853300,-0.071927830576897,0.018122643232346,-0.032554384320974,0.039725616574287,-0.049916896969080,0.154494106769562));
res += mul(Get(s2,dx,-dy), float4x4(-0.093758307397366,-0.132250264286995,0.006440952420235,0.054608952254057,-0.090977154672146,0.005677772220224,0.073004670441151,0.069568596780300,0.007672497536987,-0.056491699069738,0.066852517426014,0.083953268826008,-0.131514981389046,-0.142751425504684,-0.025308696553111,-0.115914635360241));
res += mul(Get(s2,dx,0), float4x4(-0.070292785763741,0.176929593086243,-0.023115869611502,0.147035107016563,0.019925434142351,-0.038609609007835,-0.121929265558720,0.181718364357948,-0.138274177908897,0.050402432680130,0.033003326505423,-0.101127579808235,-0.029079511761665,0.054543416947126,-0.040803566575050,-0.012236263602972));
res += mul(Get(s2,dx,dy), float4x4(-0.016669159755111,0.124440260231495,0.089922420680523,0.055835355073214,0.175078257918358,-0.032669059932232,0.083810605108738,0.007864051498473,0.027464766055346,0.002695675240830,0.126058623194695,0.141751214861870,0.016660736873746,-0.130719467997551,0.048054762184620,-0.132493272423744));
res += mul(Get(s3,-dx,-dy), float4x4(0.013012007810175,0.062222167849541,-0.006000862922519,-0.042992748320103,-0.030220668762922,0.063971087336540,-0.095249995589256,0.003359396476299,0.136833146214485,-0.040104083716869,0.011843068525195,0.037721302360296,-0.002543404232711,0.012887611053884,-0.047124255448580,-0.003442192450166));
res += mul(Get(s3,-dx,0), float4x4(0.079438470304012,-0.110679611563683,-0.036074593663216,-0.048355516046286,0.120417706668377,0.010372100397944,0.161349311470985,-0.027489665895700,0.015339010395110,0.111563585698605,-0.119726397097111,-0.023474384099245,0.025838872417808,-0.027288597077131,-0.046928495168686,-0.030279170721769));
res += mul(Get(s3,-dx,dy), float4x4(-0.044887527823448,-0.027456933632493,0.011913288384676,-0.086694799363613,-0.035480361431837,-0.009453426115215,-0.052568737417459,0.022906910628080,-0.010312196798623,-0.008324513211846,0.030844498425722,-0.225203603506088,-0.018991138786077,-0.083034589886665,0.223659619688988,0.078431718051434));
res += mul(Get(s3,0,-dy), float4x4(0.022383948788047,0.142552405595779,0.205568179488182,-0.017243232578039,0.084670960903168,0.332250416278839,-0.120684981346130,0.009366227313876,0.071927197277546,0.122508823871613,0.176840692758560,-0.036251991987228,0.060758825391531,-0.024668080732226,0.187107130885124,-0.161711335182190));
res += mul(Get(s3,0,0), float4x4(-0.017900444567204,0.053035870194435,0.060566827654839,0.125031441450119,-0.117852985858917,-0.029524689540267,0.040154572576284,0.025211395695806,-0.194810971617699,0.006690236739814,-0.074060820043087,0.065465264022350,-0.030480297282338,0.050994310528040,-0.091046743094921,0.034359272569418));
res += mul(Get(s3,0,dy), float4x4(-0.024328310042620,-0.123615637421608,0.081360988318920,0.034293457865715,-0.017396066337824,-0.126918584108353,-0.044492520391941,0.003522580489516,-0.161670863628387,0.016022292897105,0.005839508492500,0.167731449007988,-0.107848480343819,0.003026485210285,0.000022324857127,0.031520679593086));
res += mul(Get(s3,dx,-dy), float4x4(-0.142016857862473,-0.079676158726215,0.110506117343903,-0.082881584763527,-0.009381941519678,-0.059964291751385,-0.018323097378016,0.014241365715861,0.102116689085960,-0.000369885907276,0.194515481591225,-0.136781275272369,0.042012576013803,0.064042881131172,-0.071003817021847,0.129238635301590));
res += mul(Get(s3,dx,0), float4x4(0.018345480784774,-0.116450175642967,0.013025969266891,-0.015047822147608,-0.042074475437403,-0.152692392468452,-0.002548529300839,0.059079084545374,-0.045579928904772,-0.123751804232597,0.017665235325694,-0.069959446787834,0.123153187334538,0.054743215441704,0.187376379966736,0.019999152049422));
res += mul(Get(s3,dx,dy), float4x4(-0.059232618659735,-0.152829438447952,0.163697779178619,-0.068652905523777,0.129791170358658,-0.072325371205807,0.065943494439125,-0.012604507617652,0.072872012853622,-0.160018831491470,0.120884686708450,-0.159294232726097,-0.038462921977043,0.070738337934017,0.192843124270439,0.023006904870272));
return max(float4(0,0,0,0), res);
}
