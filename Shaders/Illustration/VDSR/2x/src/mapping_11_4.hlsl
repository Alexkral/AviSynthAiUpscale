sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.042371384799480,0.045337978750467,0.082834951579571,0.174951434135437,-0.067735485732555,-0.032550279051065,-0.019399093464017,-0.181275725364685,0.037771843373775,-0.058104053139687,0.000672085501719,-0.106531783938408,0.054241031408310,0.162416711449623,0.077653020620346,-0.107499100267887));
res += mul(Get(s0,-dx,0), float4x4(-0.112114556133747,0.165165483951569,0.028428131714463,-0.029058745130897,-0.037830676883459,-0.042812544852495,0.243459016084671,-0.228947624564171,0.029278846457601,0.058941084891558,0.139346241950989,-0.108939118683338,-0.007176643703133,0.139367774128914,0.111115671694279,-0.032378114759922));
res += mul(Get(s0,-dx,dy), float4x4(-0.120255842804909,0.140477821230888,0.092479944229126,-0.041899953037500,-0.043230157345533,-0.157486230134964,0.103125490248203,-0.186591863632202,0.065523728728294,-0.050364527851343,0.076061397790909,-0.040657743811607,-0.043079033493996,0.030832169577479,0.104979179799557,0.042360801249743));
res += mul(Get(s0,0,-dy), float4x4(0.213969945907593,-0.003964205738157,-0.046250119805336,0.154336333274841,-0.052482612431049,0.149528175592422,-0.127048805356026,-0.019204206764698,0.026591569185257,0.112830355763435,-0.087402179837227,0.306283414363861,-0.081757299602032,0.250153452157974,0.144136473536491,0.001636738423258));
res += mul(Get(s0,0,0), float4x4(0.010754358023405,-0.009640803560615,-0.051477920264006,-0.116804569959641,0.212214633822441,0.197924301028252,0.184883609414101,-0.052788648754358,0.022423570975661,0.055722497403622,0.025157647207379,0.318977892398834,-0.002181699965149,0.024415900930762,0.012906856834888,0.038817171007395));
res += mul(Get(s0,0,dy), float4x4(0.023178076371551,0.085182562470436,0.148312732577324,-0.094112947583199,-0.088354334235191,-0.077508591115475,-0.072418406605721,0.099715307354927,0.079274326562881,-0.000743207347114,-0.050675325095654,0.113452762365341,0.050481662154198,-0.039999794214964,0.107261367142200,0.122010275721550));
res += mul(Get(s0,dx,-dy), float4x4(0.020638203248382,-0.153309822082520,-0.040121108293533,0.001441783155315,0.027410767972469,0.101129926741123,-0.229514300823212,0.185827314853668,-0.006759640295058,0.028578050434589,-0.113293878734112,0.059814743697643,0.038970410823822,0.075946576893330,-0.159081757068634,0.133614420890808));
res += mul(Get(s0,dx,0), float4x4(0.010757688432932,-0.142660826444626,0.048084069043398,-0.076738052070141,-0.065320380032063,-0.056598119437695,-0.193288996815681,-0.046433813869953,0.004574870690703,0.028190296143293,0.215829864144325,0.051776617765427,-0.052621457725763,-0.040636643767357,-0.137395009398460,0.092561349272728));
res += mul(Get(s0,dx,dy), float4x4(0.068035833537579,-0.134817659854889,-0.171850010752678,-0.081807605922222,-0.170259892940521,-0.088033013045788,-0.012974495068192,0.046747419983149,0.057965613901615,-0.037129141390324,-0.106869228184223,0.096700236201286,0.130093604326248,-0.024285839870572,-0.043020792305470,0.024344038218260));
res += mul(Get(s1,-dx,-dy), float4x4(0.064365558326244,-0.166907653212547,0.090873144567013,-0.205694600939751,0.231552824378014,-0.010357038117945,-0.098573625087738,0.016258940100670,0.050657823681831,0.073560945689678,0.026953382417560,-0.051585134118795,0.066346228122711,0.067858532071114,-0.019960921257734,0.031396850943565));
res += mul(Get(s1,-dx,0), float4x4(0.062474835664034,-0.083516567945480,-0.034283462911844,-0.245458751916885,0.217888042330742,0.042252745479345,-0.004323832690716,-0.124266214668751,0.110973685979843,0.182421296834946,-0.030561346560717,0.067334584891796,0.041807509958744,0.076601900160313,0.054365642368793,-0.071944467723370));
res += mul(Get(s1,-dx,dy), float4x4(-0.092636771500111,-0.130976587533951,0.097088515758514,0.026725875213742,-0.149621322751045,-0.078089296817780,0.113450296223164,-0.193648695945740,0.125153496861458,0.090869672596455,0.004204305354506,-0.054939609020948,0.033767130225897,0.015946164727211,0.002161537064239,-0.126254782080650));
res += mul(Get(s1,0,-dy), float4x4(0.156329080462456,0.007132081314921,-0.017253004014492,0.026486404240131,0.008581549860537,0.120539002120495,-0.004621981177479,0.022262109443545,0.287363052368164,0.078697279095650,0.085431136190891,0.001931350212544,-0.017893128097057,0.080822229385376,-0.023393278941512,0.190033286809921));
res += mul(Get(s1,0,0), float4x4(-0.104300297796726,-0.089467488229275,-0.041054829955101,0.064451403915882,-0.069001525640488,0.030157839879394,-0.093721732497215,0.113306798040867,-0.023759992793202,0.040817547589540,-0.105046786367893,-0.000838250853121,-0.100631363689899,-0.148512437939644,-0.043839577585459,0.087011434137821));
res += mul(Get(s1,0,dy), float4x4(0.066748172044754,-0.082993954420090,0.010583136230707,0.020068891346455,-0.101373203098774,-0.021442735567689,-0.105540744960308,0.099042192101479,-0.011777623556554,-0.063209287822247,0.079058609902859,-0.095062844455242,-0.054396197199821,-0.041541364043951,0.000914867792744,0.094688825309277));
res += mul(Get(s1,dx,-dy), float4x4(0.131664216518402,-0.127788737416267,0.016452407464385,0.012012044899166,0.047044858336449,0.000578114122618,-0.008116564713418,0.000361041194992,0.070723995566368,0.112697899341583,-0.028532793745399,-0.050867527723312,0.010019604116678,0.037624195218086,-0.075273796916008,0.036474425345659));
res += mul(Get(s1,dx,0), float4x4(0.130503088235855,-0.047493301331997,0.027680007740855,0.158560767769814,0.018042802810669,-0.046557396650314,-0.076141431927681,0.022189578041434,0.048250909894705,0.033578906208277,0.095296934247017,0.087873511016369,-0.038005448877811,-0.020074630156159,-0.105256810784340,0.061615474522114));
res += mul(Get(s1,dx,dy), float4x4(0.121937148272991,-0.006350051146001,-0.088390670716763,0.002042805077508,0.040374364703894,-0.057215642184019,0.006749497726560,-0.015619242563844,-0.017544729635119,0.084389649331570,0.057086691260338,-0.018849175423384,0.000163587828865,0.003306853352115,-0.120612204074860,0.129951223731041));
res += mul(Get(s2,-dx,-dy), float4x4(0.046165157109499,-0.028153989464045,0.159381300210953,-0.078122869133949,0.017907330766320,0.086517743766308,0.064591586589813,-0.026458304375410,-0.097719766199589,0.052195150405169,0.042105779051781,-0.072519540786743,0.001657507731579,0.003322506789118,-0.025810517370701,-0.058723598718643));
res += mul(Get(s2,-dx,0), float4x4(-0.031135043129325,-0.052739240229130,0.089711531996727,-0.076415486633778,-0.029280617833138,-0.037810120731592,0.027720393612981,-0.031172953546047,-0.194938123226166,0.133005335927010,0.114705964922905,-0.268293350934982,-0.098412193357944,0.081399723887444,-0.007012318819761,-0.028690868988633));
res += mul(Get(s2,-dx,dy), float4x4(-0.063772886991501,-0.045966174453497,0.038514673709869,-0.102467954158783,0.044856820255518,-0.149446114897728,0.015372090972960,-0.074238441884518,-0.046057801693678,0.098418921232224,0.102772586047649,-0.177033811807632,-0.003626357764006,0.176275208592415,-0.040916401892900,0.012924608774483));
res += mul(Get(s2,0,-dy), float4x4(0.042230740189552,0.170508831739426,-0.028624976053834,-0.038921698927879,0.062427502125502,0.095610916614532,0.111151978373528,-0.050072599202394,-0.007514833472669,-0.111822426319122,-0.149740144610405,0.101918391883373,-0.016718754544854,-0.011452580802143,-0.099817708134651,-0.076936207711697));
res += mul(Get(s2,0,0), float4x4(0.060138568282127,0.108472965657711,0.125585988163948,0.053168006241322,0.051284693181515,0.008883138187230,0.144903704524040,-0.044791769236326,-0.054468203336000,-0.030901355668902,0.177666530013084,0.024839049205184,-0.059953715652227,-0.042816296219826,0.290325909852982,-0.015418653376400));
res += mul(Get(s2,0,dy), float4x4(-0.171913936734200,-0.043447487056255,0.030383348464966,0.103954315185547,0.136898398399353,0.001085024327040,-0.152539446949959,-0.089798189699650,0.098593764007092,-0.106763549149036,0.069443032145500,0.058618538081646,0.017208777368069,-0.014545760117471,0.098588421940804,-0.002325870562345));
res += mul(Get(s2,dx,-dy), float4x4(-0.042339410632849,-0.002261571586132,-0.167629197239876,0.079709090292454,-0.021990371868014,-0.023558391258121,0.040363680571318,0.032365106046200,0.061499185860157,-0.024451505392790,-0.117205880582333,0.227857828140259,-0.025191294029355,-0.017622459679842,-0.056013070046902,-0.039539422839880));
res += mul(Get(s2,dx,0), float4x4(-0.069244042038918,0.005857601296157,-0.162460386753082,0.073023222386837,-0.127863094210625,-0.029791463166475,-0.099394872784615,-0.008269705809653,-0.068914681673050,-0.005469348747283,-0.010566805489361,-0.014132863841951,0.055383063852787,-0.038144182413816,-0.040687032043934,0.049396540969610));
res += mul(Get(s2,dx,dy), float4x4(-0.111063897609711,0.036636535078287,-0.103336520493031,-0.032510399818420,-0.186185091733932,-0.105843856930733,-0.026357637718320,0.309962481260300,-0.080573759973049,-0.209608271718025,-0.093789823353291,0.029632290825248,0.010941796936095,-0.052684228867292,-0.025328839197755,0.025006914511323));
res += mul(Get(s3,-dx,-dy), float4x4(-0.000055083477491,0.235211685299873,0.002261243527755,-0.162404239177704,0.087899759411812,0.029744544997811,0.239715099334717,-0.183209359645844,0.141693592071533,0.234530821442604,0.029360711574554,-0.019554095342755,-0.129399254918098,-0.072573199868202,0.074833728373051,-0.125785708427429));
res += mul(Get(s3,-dx,0), float4x4(-0.066627763211727,-0.118989616632462,-0.011707653291523,-0.243913814425468,-0.008130131289363,-0.092887587845325,-0.044188003987074,-0.188712522387505,-0.022760728374124,0.123500078916550,0.122615262866020,-0.110310085117817,-0.110186211764812,-0.072171151638031,0.082653820514679,-0.100845754146576));
res += mul(Get(s3,-dx,dy), float4x4(0.100900992751122,-0.036904707551003,0.092539027333260,-0.151137709617615,0.167550891637802,-0.113978259265423,-0.029280576854944,-0.034486036747694,-0.105964347720146,0.070030838251114,0.213084161281586,-0.036668390035629,-0.072637893259525,-0.064255259931087,0.173026874661446,-0.017462478950620));
res += mul(Get(s3,0,-dy), float4x4(0.027309928089380,0.061642926186323,-0.119132727384567,0.315080106258392,0.056914187967777,-0.026785893365741,-0.001381115638651,-0.028105106204748,0.102004654705524,0.175689026713371,-0.116655945777893,-0.003211772302166,-0.008526310324669,-0.061945881694555,0.012826903723180,-0.078673630952835));
res += mul(Get(s3,0,0), float4x4(-0.023514101281762,-0.063664421439171,0.072404153645039,-0.084591254591942,-0.031985457986593,0.070269346237183,-0.008630825206637,0.056149717420340,-0.061408907175064,0.014110576361418,0.302207767963409,0.000669551023748,0.088909640908241,-0.026984313502908,0.046168409287930,-0.069998495280743));
res += mul(Get(s3,0,dy), float4x4(0.107072740793228,0.078738972544670,-0.068522199988365,0.003275952767581,0.028781523928046,0.036928273737431,-0.089070238173008,0.100093334913254,-0.154538273811340,0.015659105032682,0.244694158434868,-0.049993660300970,0.132090151309967,0.056527927517891,-0.016338409855962,0.009615629911423));
res += mul(Get(s3,dx,-dy), float4x4(-0.014021949842572,0.010043299756944,-0.069766126573086,0.059927117079496,0.070366792380810,-0.032403778284788,0.022061752155423,-0.064111851155758,-0.003534722141922,0.126707032322884,-0.190338864922523,0.016106037423015,-0.058455653488636,0.016236759722233,0.101499818265438,-0.005378575995564));
res += mul(Get(s3,dx,0), float4x4(0.054073031991720,0.056420210748911,-0.063418962061405,0.078841350972652,-0.008527863770723,0.158378377556801,-0.064614728093147,0.044941052794456,-0.106928125023842,0.154391750693321,-0.179186552762985,0.107812203466892,-0.009808650240302,0.042913433164358,0.004591140896082,-0.053375191986561));
res += mul(Get(s3,dx,dy), float4x4(0.004884330555797,0.036984801292419,0.011622888967395,-0.042548693716526,-0.016532747074962,0.046084374189377,-0.184955716133118,0.076559603214264,-0.265493869781494,0.063087895512581,-0.036235574632883,0.129405200481415,0.069629803299904,0.016514793038368,-0.003106980118901,0.072534061968327));
return max(float4(0,0,0,0), res);
}
