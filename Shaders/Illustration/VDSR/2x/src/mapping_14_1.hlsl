sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.087360732257366,0.064234599471092,-0.078314661979675,0.070695474743843,-0.002227952703834,0.110636197030544,0.066363222897053,-0.067746110260487,0.029645500704646,0.076145999133587,0.044982962310314,0.013184294104576,0.001420983346179,0.015405036509037,0.022230593487620,-0.037668101489544));
res += mul(Get(s0,-dx,0), float4x4(0.209562718868256,0.116805627942085,0.234605029225349,0.204601138830185,-0.022209929302335,-0.076066255569458,0.161033555865288,0.023331495001912,-0.052085727453232,0.112881436944008,0.085453353822231,0.012832035310566,0.068718150258064,-0.064746230840683,0.024597117677331,-0.018455293029547));
res += mul(Get(s0,-dx,dy), float4x4(0.135827809572220,-0.005991238169372,-0.051468282938004,0.058633003383875,0.014720448292792,-0.036382459104061,0.011696695350111,0.017165789380670,0.029336856678128,-0.009916000999510,0.102407358586788,0.034363951534033,0.025215184316039,-0.075208254158497,-0.064977593719959,-0.012123612686992));
res += mul(Get(s0,0,-dy), float4x4(0.008662787266076,0.111132360994816,-0.032947782427073,-0.010968376882374,0.057662028819323,0.173682540655136,0.076287999749184,0.024428492411971,-0.008167715743184,0.054675649851561,0.061669968068600,0.056399464607239,0.067556068301201,-0.007648290600628,0.049139153212309,-0.008189616724849));
res += mul(Get(s0,0,0), float4x4(0.016115939244628,-0.008416867814958,0.043021794408560,-0.097488902509212,0.052769031375647,-0.014996746554971,0.054614339023829,0.041386768221855,-0.043562345206738,0.102052383124828,0.149045258760452,-0.012134339660406,0.143757984042168,0.039870820939541,0.155727863311768,0.042939402163029));
res += mul(Get(s0,0,dy), float4x4(0.058432944118977,-0.005224541295320,0.065918281674385,0.067735880613327,0.125065043568611,-0.056283265352249,0.021390156820416,0.082112014293671,0.020231464877725,0.070718988776207,0.049949951469898,0.018110485747457,0.059525534510612,0.007490294985473,0.041721612215042,0.021194303408265));
res += mul(Get(s0,dx,-dy), float4x4(0.047049723565578,0.147349998354912,0.002968386281282,0.018344815820456,0.187124788761139,0.108312390744686,0.055819198489189,0.175006970763206,-0.043103303760290,0.140249624848366,-0.084328725934029,-0.071649380028248,-0.007269619032741,-0.000547709933016,-0.026034936308861,0.037031605839729));
res += mul(Get(s0,dx,0), float4x4(-0.051912251859903,0.081478811800480,0.055641632527113,-0.038321714848280,0.162051603198051,-0.019387874752283,-0.027867661789060,0.143020153045654,0.071989014744759,0.002076342236251,-0.107797764241695,-0.070403791964054,0.124330066144466,-0.030150530859828,0.041836854070425,0.125011995434761));
res += mul(Get(s0,dx,dy), float4x4(0.126118659973145,0.000459624512587,-0.001400082372129,0.042821016162634,0.154224514961243,-0.015112264081836,-0.046940047293901,0.071658991277218,0.061534799635410,0.109244599938393,-0.004316891077906,-0.058547481894493,0.099389381706715,-0.012552303262055,-0.051480878144503,0.053870655596256));
res += mul(Get(s1,-dx,-dy), float4x4(-0.087126411497593,-0.176864832639694,-0.057293292135000,0.327933788299561,-0.055687110871077,0.070464156568050,-0.105145148932934,-0.148066103458405,0.007755073253065,-0.049848813563585,0.113647289574146,0.064386069774628,-0.047230511903763,-0.057979613542557,0.072877094149590,-0.062084544450045));
res += mul(Get(s1,-dx,0), float4x4(0.127095937728882,-0.097109325230122,-0.133569449186325,0.257416725158691,0.031525176018476,-0.060004815459251,-0.105276972055435,-0.066290952265263,0.194604828953743,-0.047417588531971,0.128915518522263,0.145658671855927,-0.077903382480145,-0.051777899265289,-0.062630429863930,-0.050898168236017));
res += mul(Get(s1,-dx,dy), float4x4(0.130462214350700,0.298004686832428,-0.060157157480717,0.385319888591766,0.233595982193947,0.228844195604324,-0.009138977155089,0.054299719631672,0.134287640452385,0.170793890953064,0.213851481676102,0.149516537785530,0.043884579092264,0.042757689952850,-0.100570395588875,-0.051168031990528));
res += mul(Get(s1,0,-dy), float4x4(-0.152860090136528,-0.185782358050346,-0.023408025503159,-0.029720321297646,-0.009935693815351,0.159583047032356,-0.096540644764900,0.075495466589928,-0.042776972055435,-0.022255275398493,-0.039361651986837,0.033578060567379,-0.030742764472961,0.045829914510250,-0.129390969872475,-0.061071701347828));
res += mul(Get(s1,0,0), float4x4(-0.082738347351551,-0.186302900314331,-0.031890813261271,-0.208928689360619,0.173542276024818,0.062644690275192,-0.019748972728848,0.072227306663990,-0.042501013725996,-0.072076261043549,-0.058086428791285,-0.065079398453236,-0.040087632834911,-0.042900182306767,-0.139525681734085,-0.074839718639851));
res += mul(Get(s1,0,dy), float4x4(0.157750681042671,0.259938418865204,0.072888597846031,-0.057363871484995,0.172204658389091,0.009468429721892,0.070679858326912,0.053212109953165,0.116704814136028,0.070953153073788,-0.067573949694633,-0.119672901928425,0.011351897381246,-0.064732760190964,-0.004111182875931,-0.143127456307411));
res += mul(Get(s1,dx,-dy), float4x4(-0.075766287744045,-0.238240435719490,-0.005870793014765,-0.114844895899296,0.039671920239925,0.072081804275513,0.018106153234839,-0.093592636287212,-0.037046894431114,0.002503022085875,0.079558447003365,0.030747383832932,0.049820233136415,0.071214705705643,0.157985508441925,0.040532954037189));
res += mul(Get(s1,dx,0), float4x4(0.062476471066475,-0.160369008779526,0.081261835992336,-0.110162220895290,0.157944500446320,0.063794448971748,0.114857912063599,0.169951274991035,-0.095290161669254,-0.047639943659306,-0.073302038013935,-0.066688336431980,0.102920867502689,-0.039006549865007,0.309203356504440,0.017316704615951));
res += mul(Get(s1,dx,dy), float4x4(0.167555227875710,0.135387346148491,-0.053787603974342,-0.186385065317154,0.092106916010380,0.002143451478332,-0.024627622216940,0.099255248904228,-0.079663127660751,0.011967815458775,-0.012945255264640,-0.097054213285446,-0.060806628316641,0.035581856966019,0.043278452008963,-0.023720482364297));
res += mul(Get(s2,-dx,-dy), float4x4(-0.117410905659199,-0.202323839068413,-0.039019897580147,-0.048789042979479,-0.150727957487106,0.039172295480967,-0.067117400467396,-0.046778749674559,0.006735585164279,-0.100251048803329,0.033479478210211,0.031626019626856,0.074954397976398,0.017834886908531,-0.022239902988076,-0.049564737826586));
res += mul(Get(s2,-dx,0), float4x4(0.015562690794468,-0.059186600148678,-0.062152463942766,-0.003277577925473,-0.151562750339508,-0.023716026917100,-0.067709796130657,-0.089689388871193,-0.019820170477033,-0.085689269006252,0.018610384315252,-0.027054246515036,0.061378218233585,-0.115281037986279,0.152281552553177,0.010036868974566));
res += mul(Get(s2,-dx,dy), float4x4(0.084387324750423,0.029621366411448,-0.009329559281468,0.017491141334176,0.030141858384013,-0.117642030119896,-0.022257043048739,-0.066851265728474,0.008122036233544,0.027828905731440,0.031802613288164,-0.017736822366714,-0.052433110773563,-0.012019895948470,0.057936962693930,0.121956974267960));
res += mul(Get(s2,0,-dy), float4x4(-0.195796459913254,-0.092499606311321,0.116915896534920,-0.050954073667526,-0.032274696975946,0.372240513563156,0.038457177579403,0.005591163877398,0.106072783470154,-0.073614537715912,-0.060983754694462,-0.039435386657715,0.087004981935024,-0.016744265332818,0.000553728255909,0.176963835954666));
res += mul(Get(s2,0,0), float4x4(-0.189916133880615,-0.093561194837093,-0.027865784242749,-0.060618918389082,-0.122992977499962,-0.024931041523814,0.138834118843079,-0.013870102353394,0.048117771744728,-0.223030045628548,-0.101444162428379,-0.168506726622581,0.160663843154907,-0.156929224729538,-0.093657270073891,0.012549602426589));
res += mul(Get(s2,0,dy), float4x4(-0.033250275999308,-0.026133302599192,-0.056521024554968,0.004951530601829,0.039449457079172,-0.063472293317318,0.145081758499146,-0.006311412435025,0.062875218689442,0.144898056983948,-0.106378115713596,-0.136127620935440,-0.011163231916726,0.053812034428120,-0.119412750005722,-0.018777035176754));
res += mul(Get(s2,dx,-dy), float4x4(0.059258278459311,-0.109013482928276,0.053096476942301,0.085219189524651,-0.094441190361977,0.029726490378380,0.069450877606869,-0.114898644387722,0.014077926985919,-0.039315704256296,-0.075634300708771,-0.091598019003868,0.029458766803145,0.088328413665295,0.145709857344627,0.050598990172148));
res += mul(Get(s2,dx,0), float4x4(0.048516146838665,-0.020947415381670,0.293350607156754,0.273076504468918,0.075682923197746,0.016746556386352,0.276920229196548,0.208315521478653,0.135108008980751,-0.174273476004601,-0.188264816999435,-0.143091365695000,-0.115584395825863,-0.064202688634396,0.020192665979266,-0.199851751327515));
res += mul(Get(s2,dx,dy), float4x4(0.115840338170528,0.067852877080441,0.223534390330315,0.152500033378601,-0.047081034630537,-0.149525701999664,0.050722222775221,0.003568102838472,-0.018581720069051,0.068350136280060,-0.137267902493477,-0.143170550465584,0.051063083112240,-0.070796541869640,0.074564449489117,-0.130356803536415));
res += mul(Get(s3,-dx,-dy), float4x4(0.034862045198679,0.214199796319008,0.055664490908384,0.006632293574512,0.055432025343180,0.052702855318785,0.137635350227356,0.009583046659827,0.099056735634804,-0.165271416306496,-0.027206657454371,0.096890807151794,-0.089167945086956,0.049334801733494,-0.047385033220053,0.281033068895340));
res += mul(Get(s3,-dx,0), float4x4(0.005022531840950,0.024096639826894,0.098358020186424,0.027780804783106,-0.091175429522991,0.026635434478521,0.061799947172403,-0.115946389734745,0.106051303446293,-0.019998637959361,0.112902902066708,0.213828921318054,-0.166550874710083,0.141629487276077,-0.099058084189892,0.092145517468452));
res += mul(Get(s3,-dx,dy), float4x4(0.055789887905121,0.065885528922081,0.060687396675348,0.026881622150540,-0.050807524472475,-0.039979003369808,-0.007757245097309,-0.078380011022091,0.047741420567036,-0.103884443640709,-0.059786599129438,0.065936118364334,0.044488199055195,0.032234646379948,0.062724418938160,0.062219422310591));
res += mul(Get(s3,0,-dy), float4x4(0.093669585883617,0.113354817032814,-0.096633948385715,-0.021849667653441,0.182060882449150,0.036100380122662,0.028476210311055,0.020916396752000,0.010174915194511,-0.188524857163429,0.014467564411461,-0.080078795552254,-0.042125638574362,0.075227037072182,-0.163492545485497,-0.031367797404528));
res += mul(Get(s3,0,0), float4x4(-0.013418083079159,0.005011041183025,-0.014385304413736,-0.066653460264206,0.110509574413300,0.127427026629448,0.164183393120766,0.053783871233463,0.034530032426119,-0.031278930604458,-0.116806291043758,-0.050191942602396,-0.210652843117714,0.231406718492508,-0.210498049855232,-0.046334870159626));
res += mul(Get(s3,0,dy), float4x4(-0.009226112626493,-0.014538366347551,-0.020571187138557,-0.044509455561638,-0.034928776323795,-0.003637108951807,-0.020530821755528,0.061133768409491,-0.050455357879400,-0.016575982794166,0.000900055340026,-0.018363431096077,-0.015526487492025,-0.068354345858097,-0.039532907307148,-0.100436918437481));
res += mul(Get(s3,dx,-dy), float4x4(0.061298847198486,0.043304294347763,0.061264973133802,-0.016832593828440,0.175987899303436,0.060373555868864,0.048423953354359,0.012579962611198,-0.014969257637858,-0.028519934043288,-0.016967322677374,0.039539732038975,0.014957788400352,0.095093101263046,0.101320691406727,-0.186819329857826));
res += mul(Get(s3,dx,0), float4x4(-0.008058325387537,0.006062509957701,0.129113823175430,-0.048988047987223,0.256077378988266,0.073330730199814,0.130456209182739,0.125073596835136,-0.101083897054195,0.058373592793941,-0.029299458488822,-0.062116194516420,-0.046341415494680,0.228890255093575,0.151125445961952,-0.124763391911983));
res += mul(Get(s3,dx,dy), float4x4(0.006537775509059,-0.008834067732096,0.200304344296455,0.033178571611643,0.038520731031895,0.087330073118210,-0.006542313378304,0.013144782744348,0.069415569305420,-0.070379354059696,-0.021248519420624,-0.089391812682152,-0.095697492361069,-0.128222033381462,0.129394695162773,-0.108955614268780));
return max(float4(0,0,0,0), res);
}
