sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.048534899950027,0.141124814748764,0.010402886196971,0.072716429829597,-0.020545760169625,-0.086047135293484,0.044659711420536,-0.001666245516390,-0.019505942240357,-0.104164533317089,0.006981706712395,0.144094511866570,-0.073734879493713,-0.040418062359095,0.056192163378000,0.030049655586481));
res += mul(Get(s0,-dx,0), float4x4(-0.001864635851234,-0.013727363198996,0.097597733139992,-0.038175243884325,0.035413861274719,0.073948800563812,-0.003898762632161,0.145984575152397,0.138288110494614,-0.109773188829422,-0.039253123104572,-0.076099008321762,-0.046756263822317,0.020848786458373,-0.033704418689013,-0.101227350533009));
res += mul(Get(s0,-dx,dy), float4x4(-0.007395173422992,0.021358687430620,-0.013684058561921,-0.007452961988747,0.005811667535454,-0.039631694555283,-0.052097495645285,0.018067046999931,0.071596458554268,0.072770930826664,-0.005575357470661,-0.126291379332542,0.069137446582317,-0.105181686580181,-0.070918880403042,-0.097949989140034));
res += mul(Get(s0,0,-dy), float4x4(-0.159012556076050,0.047236051410437,-0.044280260801315,0.031200215220451,-0.031767606735229,0.042624264955521,-0.061060309410095,-0.007343628909439,-0.003607426071540,0.052041355520487,-0.085162997245789,-0.024227220565081,-0.047289643436670,-0.098147749900818,-0.109983190894127,0.058139983564615));
res += mul(Get(s0,0,0), float4x4(-0.124064669013023,0.029217107221484,-0.086458258330822,-0.008207083679736,0.035031896084547,-0.007549522444606,-0.194888725876808,0.186434462666512,0.077777758240700,-0.056704372167587,-0.054230604320765,0.080474056303501,-0.095090992748737,0.030369557440281,-0.086852729320526,0.018723098561168));
res += mul(Get(s0,0,dy), float4x4(0.039169620722532,0.037301216274500,-0.003885858459398,-0.068025022745132,0.088501580059528,-0.120934672653675,-0.030138416215777,-0.060549676418304,-0.178521186113358,0.005992001388222,-0.039744723588228,0.080490879714489,0.136734172701836,-0.079152643680573,-0.008904354646802,0.120375253260136));
res += mul(Get(s0,dx,-dy), float4x4(-0.024923911318183,0.095111712813377,0.162162452936172,-0.114038996398449,0.067891716957092,0.007756360340863,-0.066309072077274,0.052682198584080,0.042532660067081,-0.045942462980747,-0.058933235704899,0.064439192414284,-0.022835932672024,-0.062402948737144,-0.015377325937152,-0.017726294696331));
res += mul(Get(s0,dx,0), float4x4(-0.121543169021606,0.039159815758467,-0.008481189608574,-0.173689872026443,0.012479991652071,0.086551435291767,0.101797722280025,-0.026444457471371,-0.001715226215310,-0.084156207740307,-0.089095167815685,0.057298522442579,-0.114173620939255,0.219922244548798,-0.012879238463938,0.096110932528973));
res += mul(Get(s0,dx,dy), float4x4(0.067551337182522,0.075909294188023,0.057536695152521,0.069003976881504,0.082770153880119,-0.009606291539967,-0.073240540921688,0.069874413311481,-0.178893670439720,0.105604983866215,-0.020448625087738,-0.036081623286009,-0.094305969774723,0.078901872038841,-0.023574238643050,0.012257272377610));
res += mul(Get(s1,-dx,-dy), float4x4(0.071688719093800,-0.236908510327339,-0.007425013463944,-0.008666451089084,0.055375963449478,0.028799774125218,-0.123377352952957,-0.113331861793995,0.036283694207668,0.012232776731253,-0.070648901164532,-0.055858731269836,0.158275365829468,-0.035383462905884,-0.025863811373711,0.030220828950405));
res += mul(Get(s1,-dx,0), float4x4(0.118202313780785,-0.059186816215515,0.063809685409069,-0.008073096163571,-0.124300733208656,0.071678169071674,-0.015191173180938,-0.059883788228035,0.009067202918231,-0.105752140283585,-0.109490305185318,0.134737387299538,-0.049420822411776,0.130995884537697,-0.099543161690235,-0.103453457355499));
res += mul(Get(s1,-dx,dy), float4x4(-0.105942524969578,0.120470091700554,0.022863145917654,0.081620372831821,-0.070333719253540,0.008193079382181,-0.003186549525708,0.097928337752819,-0.072851568460464,-0.127506241202354,-0.038004126399755,0.063146404922009,0.106102623045444,0.025402611121535,0.029137194156647,0.068386994302273));
res += mul(Get(s1,0,-dy), float4x4(-0.053756691515446,-0.093673594295979,-0.004784322343767,0.017527692019939,-0.066212996840477,-0.046364475041628,-0.102656953036785,0.044044408947229,0.131858706474304,-0.082613170146942,-0.008500398136675,-0.000760147871915,-0.103104412555695,-0.051926668733358,0.001364561030641,0.047122258692980));
res += mul(Get(s1,0,0), float4x4(0.026416046544909,-0.031945619732141,-0.036393564194441,0.055354107171297,-0.002211509039626,-0.028441004455090,-0.183112412691116,-0.031961720436811,0.121566854417324,0.071465224027634,-0.030671846121550,0.150567635893822,-0.108034461736679,0.034033741801977,0.115385822951794,-0.007901868782938));
res += mul(Get(s1,0,dy), float4x4(0.104138150811195,0.092330224812031,0.017463708296418,-0.061643172055483,0.086194373667240,-0.003690142417327,0.040963441133499,0.046771928668022,-0.042113948613405,-0.028831040486693,0.032170012593269,0.091121636331081,-0.069501332938671,0.029747782275081,-0.021062003448606,-0.137396559119225));
res += mul(Get(s1,dx,-dy), float4x4(-0.056350186467171,0.036762896925211,-0.014307575300336,-0.012099431827664,-0.025633586570621,-0.012649945914745,0.004923230037093,-0.063508063554764,0.041317645460367,-0.110535927116871,0.047812424600124,-0.053312715142965,-0.050650976598263,0.001762359403074,0.038435451686382,-0.104558520019054));
res += mul(Get(s1,dx,0), float4x4(0.031218742951751,0.068460099399090,-0.092803843319416,-0.175588682293892,0.199049338698387,0.025667484849691,-0.034810163080692,-0.080588445067406,0.071354813873768,0.076539836823940,0.024336928501725,-0.066919997334480,0.055952146649361,-0.038829524070024,-0.020704763010144,0.108044236898422));
res += mul(Get(s1,dx,dy), float4x4(0.046355079859495,0.026058206334710,-0.016347303986549,0.128608450293541,0.000231978454394,-0.011689871549606,0.063055790960789,0.065235719084740,-0.051510334014893,0.076907344162464,0.056431155651808,-0.052327714860439,-0.004189835861325,-0.053656734526157,-0.096355400979519,-0.002845215145499));
res += mul(Get(s2,-dx,-dy), float4x4(0.175989136099815,-0.141924068331718,0.124628633260727,-0.023433903232217,-0.031580366194248,-0.027169285342097,0.110422082245350,-0.045087099075317,-0.041633244603872,0.006481011863798,0.016869325190783,0.032851304858923,-0.027490386739373,-0.061795946210623,-0.020550519227982,-0.009021333418787));
res += mul(Get(s2,-dx,0), float4x4(0.159782826900482,-0.097352981567383,-0.055698711425066,-0.032396640628576,-0.012215710245073,-0.035731077194214,0.115156114101410,0.009719667024910,0.003129985416308,0.055218383669853,0.098624750971794,-0.073711656033993,0.037672221660614,-0.120570041239262,-0.066080518066883,-0.055093955248594));
res += mul(Get(s2,-dx,dy), float4x4(0.244172468781471,-0.014066051691771,0.099334612488747,-0.090552471578121,-0.134137585759163,-0.084011137485504,0.153851971030235,-0.052316874265671,0.112355172634125,0.154870286583900,-0.010729239322245,-0.074295654892921,-0.064646653831005,0.000569263705984,-0.117292337119579,-0.244711101055145));
res += mul(Get(s2,0,-dy), float4x4(0.033510494977236,-0.035897281020880,-0.074851036071777,0.182086050510406,0.004246207885444,0.044346414506435,-0.035466052591801,0.056564271450043,0.089364826679230,0.101770937442780,0.032204661518335,0.174367547035217,0.004042686428875,-0.085203066468239,-0.083400085568428,0.127711370587349));
res += mul(Get(s2,0,0), float4x4(-0.053450349718332,-0.137402862310410,-0.170527741312981,0.372249275445938,0.112285025417805,0.098234064877033,-0.015833633020520,0.060147125273943,-0.040502667427063,-0.115587338805199,0.066765196621418,0.113255113363266,-0.018577722832561,-0.195236891508102,-0.004634190816432,-0.122351013123989));
res += mul(Get(s2,0,dy), float4x4(0.132868275046349,0.047118738293648,-0.039802633225918,0.073936924338341,0.077117711305618,-0.083245053887367,0.039225891232491,-0.107577301561832,0.050285276025534,0.051117781549692,0.017911525443196,0.069698259234428,-0.056185308843851,0.032414060086012,-0.024672431871295,-0.114149831235409));
res += mul(Get(s2,dx,-dy), float4x4(-0.001725144684315,0.129293516278267,0.144104987382889,0.074529297649860,0.025393394753337,-0.082341805100441,-0.059983067214489,-0.084113910794258,0.035870328545570,-0.023649785667658,-0.120166093111038,0.009460735134780,-0.006246800534427,0.051140423864126,0.023746578022838,0.069275364279747));
res += mul(Get(s2,dx,0), float4x4(0.095186099410057,-0.103215202689171,0.034531436860561,0.189344078302383,0.210008114576340,0.037171691656113,-0.078378193080425,0.000955625378992,-0.183951407670975,-0.049480386078358,0.103161707520485,-0.018905268982053,-0.129818364977837,0.085673734545708,0.045018222182989,-0.075448773801327));
res += mul(Get(s2,dx,dy), float4x4(0.077619425952435,-0.066442146897316,0.105815194547176,0.084286577999592,-0.078020587563515,-0.084764331579208,-0.014428501017392,-0.054818913340569,-0.049631960690022,0.118536129593849,-0.006255073938519,-0.016950838267803,-0.075944632291794,0.117234468460083,-0.066966347396374,0.000474138243590));
res += mul(Get(s3,-dx,-dy), float4x4(0.068336784839630,0.020530669018626,0.012036926113069,0.185125619173050,0.078515626490116,0.019457258284092,-0.108013376593590,0.069615937769413,-0.066518239676952,0.046074919402599,0.010893877595663,-0.056630205363035,-0.014119943603873,0.049186050891876,0.018605079501867,-0.065403170883656));
res += mul(Get(s3,-dx,0), float4x4(0.065538242459297,-0.139736548066139,-0.034659158438444,0.135323375463486,-0.029914749786258,0.080890789628029,-0.028095405548811,0.179370075464249,0.122699894011021,0.083889245986938,0.056998036801815,-0.080601297318935,0.009632686153054,-0.058473989367485,-0.002799997804686,-0.038290433585644));
res += mul(Get(s3,-dx,dy), float4x4(0.101119786500931,0.005451120436192,-0.120302289724350,-0.020030362531543,-0.064962729811668,-0.115435183048248,-0.062390949577093,-0.003306852653623,-0.105976819992065,0.233704656362534,-0.024764280766249,0.080424100160599,0.057264424860477,-0.034843858331442,-0.069169111549854,-0.029847446829081));
res += mul(Get(s3,0,-dy), float4x4(-0.070629455149174,-0.038672197610140,0.084513768553734,0.069198288023472,0.135236531496048,-0.079497821629047,-0.106709800660610,0.126754492521286,-0.127512097358704,0.139776065945625,0.063891768455505,0.042123693972826,0.078322656452656,0.171445816755295,-0.096681997179985,-0.045259252190590));
res += mul(Get(s3,0,0), float4x4(-0.225611463189125,0.018210629001260,0.042746152728796,0.096167922019958,-0.188104555010796,0.033901866525412,0.122701205313206,0.083599090576172,0.098822936415672,0.094678990542889,-0.064982391893864,-0.157477229833603,0.104986295104027,0.100981377065182,-0.057787604629993,0.061818085610867));
res += mul(Get(s3,0,dy), float4x4(0.105672307312489,0.020487992092967,0.007236352190375,0.023778388276696,-0.045699167996645,0.131402865052223,-0.038331296294928,-0.034487329423428,-0.053876675665379,0.182685971260071,-0.019758971408010,0.113623090088367,0.010566607117653,0.166898742318153,-0.213802233338356,0.024574702605605));
res += mul(Get(s3,dx,-dy), float4x4(-0.015912422910333,-0.038661196827888,0.055582188069820,-0.047018852084875,0.080656252801418,-0.200869366526604,0.020788120105863,-0.056317370384932,-0.068359129130840,0.023588778451085,0.042677152901888,-0.132249087095261,0.001089153345674,-0.031856533139944,0.023857284337282,0.014703869819641));
res += mul(Get(s3,dx,0), float4x4(0.022602489218116,0.101578116416931,0.198311284184456,0.077179022133350,0.077909432351589,0.125734835863113,0.212967693805695,-0.112998232245445,0.049454350024462,0.038084316998720,0.020786488428712,0.000503361225128,-0.006284543313086,0.100606717169285,0.009611403569579,-0.044608570635319));
res += mul(Get(s3,dx,dy), float4x4(0.038767065852880,-0.044423647224903,-0.048885494470596,-0.165373578667641,0.092586919665337,-0.018091227859259,-0.053762696683407,-0.096544355154037,0.028202071785927,-0.014140053652227,0.060405012220144,0.081510327756405,-0.174750164151192,-0.026045508682728,0.112840101122856,0.017272550612688));
return max(float4(0,0,0,0), res);
}
