sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.045648731291294,-0.105100266635418,-0.045951262116432,-0.067303568124771,0.049371339380741,-0.068072997033596,-0.027629442512989,-0.108987644314766,0.078991346061230,0.050270147621632,-0.056655041873455,0.139827221632004,0.020458074286580,-0.128990262746811,0.013190368190408,0.126712381839752));
res += mul(Get(s0,-dx,0), float4x4(0.115061961114407,-0.113852865993977,-0.068259961903095,0.073957920074463,-0.128650948405266,0.022988865152001,0.045146178454161,-0.112965174019337,0.149139001965523,0.173812240362167,0.148029983043671,0.045954089611769,0.259332120418549,-0.168495789170265,-0.032917007803917,0.032435018569231));
res += mul(Get(s0,-dx,dy), float4x4(0.080020420253277,0.063035629689693,0.059654399752617,-0.035526245832443,-0.009679852053523,-0.146855503320694,-0.114994280040264,0.116692408919334,0.188344702124596,0.084869228303432,-0.025414366275072,-0.059901360422373,0.180540084838867,-0.035364687442780,0.079183377325535,-0.066752210259438));
res += mul(Get(s0,0,-dy), float4x4(0.087567523121834,-0.027740016579628,0.069381117820740,0.028397107496858,-0.002418279647827,0.166537821292877,-0.064573213458061,-0.021714551374316,0.061873439699411,0.073709771037102,0.205608412623405,0.074861101806164,-0.061387103050947,0.083989396691322,-0.002460653893650,0.045902937650681));
res += mul(Get(s0,0,0), float4x4(-0.038038987666368,-0.023571472615004,-0.098262064158916,0.076135158538818,0.061879344284534,-0.065228551626205,0.029757317155600,0.013709792867303,0.160924762487411,0.062967486679554,-0.023877972736955,-0.142218679189682,0.042710613459349,-0.040545970201492,-0.011579732410610,0.099981367588043));
res += mul(Get(s0,0,dy), float4x4(0.135846272110939,-0.034411035478115,0.001866996171884,0.000779595167842,-0.050571396946907,0.150060936808586,0.039855726063251,0.015509378165007,-0.066295415163040,-0.053505785763264,-0.031122317537665,-0.093956038355827,0.059090733528137,0.069250218570232,-0.029643746092916,-0.116716787219048));
res += mul(Get(s0,dx,-dy), float4x4(-0.088703475892544,0.107441000640392,0.049687515944242,0.003180994186550,-0.027127007022500,-0.046072091907263,0.026884678751230,-0.022299557924271,0.044847723096609,-0.002484538825229,0.071255676448345,-0.101643361151218,-0.104323334991932,-0.021598044782877,-0.004210658371449,-0.067875407636166));
res += mul(Get(s0,dx,0), float4x4(-0.081360831856728,-0.163519874215126,-0.002945608226582,0.078768119215965,-0.050332754850388,-0.095662273466587,0.180628255009651,0.012659749947488,0.025489518418908,0.027636686339974,-0.086866892874241,-0.050919592380524,-0.028330573812127,0.031255364418030,-0.008901863358915,-0.006506652571261));
res += mul(Get(s0,dx,dy), float4x4(-0.074931308627129,-0.011117080226541,0.144735381007195,0.077587917447090,-0.106601521372795,0.002659519435838,-0.058053333312273,-0.038098618388176,-0.213846221566200,0.031434644013643,0.054489914327860,0.019434992223978,0.007658934220672,-0.043471783399582,-0.082799099385738,-0.079743206501007));
res += mul(Get(s1,-dx,-dy), float4x4(-0.067160978913307,0.036646962165833,0.011082997545600,-0.005664415657520,-0.058453902602196,0.019637441262603,0.044573485851288,-0.143428325653076,0.036712773144245,0.005758394487202,-0.045938901603222,0.036815740168095,-0.029499106109142,0.232046931982040,0.033329408615828,0.021195016801357));
res += mul(Get(s1,-dx,0), float4x4(0.073023580014706,-0.178649574518204,0.032726746052504,0.026353903114796,-0.077287353575230,0.066591881215572,-0.091998383402824,-0.133734270930290,-0.057726107537746,0.012101751752198,-0.130707263946533,-0.097869992256165,0.056107733398676,0.102812640368938,-0.000435489142546,0.116999357938766));
res += mul(Get(s1,-dx,dy), float4x4(-0.018000824376941,0.000966057355981,-0.057991318404675,0.154639586806297,0.153582289814949,0.136253505945206,0.031388211995363,0.135760605335236,-0.057305149734020,-0.074129305779934,0.042442765086889,-0.099635645747185,-0.064144648611546,0.155460506677628,0.167644828557968,-0.023094246163964));
res += mul(Get(s1,0,-dy), float4x4(-0.016460098326206,0.202155232429504,-0.110630586743355,-0.153936788439751,0.065919496119022,0.070537939667702,-0.046288751065731,0.068672202527523,0.055535301566124,0.127496361732483,-0.051950134336948,0.025492615997791,-0.200647115707397,0.023979848250747,0.114121489226818,0.127256646752357));
res += mul(Get(s1,0,0), float4x4(-0.029679657891393,0.114414677023888,-0.032507777214050,0.045602418482304,-0.028502319008112,0.223592713475227,-0.083805061876774,-0.047414965927601,-0.184232264757156,0.056864485144615,-0.059358309954405,0.098419345915318,0.040332205593586,-0.107060045003891,0.117761343717575,0.068574771285057));
res += mul(Get(s1,0,dy), float4x4(0.076699621975422,-0.046516146510839,-0.053379580378532,0.130643054842949,-0.005168917123228,-0.116297259926796,-0.130459859967232,0.021258821710944,-0.059287693351507,-0.077051743865013,0.052412059158087,-0.057067301124334,-0.038383033126593,-0.058672733604908,-0.183826714754105,-0.120715036988258));
res += mul(Get(s1,dx,-dy), float4x4(-0.082724213600159,0.182324990630150,0.090460352599621,-0.048743080347776,0.014249459840357,-0.107224114239216,-0.090536005795002,0.170471057295799,0.071984320878983,0.061217214912176,0.078557357192039,0.051116157323122,-0.028936218470335,0.140625134110451,-0.031362552195787,-0.075612112879753));
res += mul(Get(s1,dx,0), float4x4(0.173797264695168,0.125115051865578,-0.105429999530315,0.009717721492052,-0.037883341312408,0.112773738801479,0.142545714974403,-0.073865309357643,0.175925195217133,0.111572466790676,-0.090669624507427,-0.061953548341990,-0.020248791202903,-0.092386722564697,-0.020955258980393,-0.003800453385338));
res += mul(Get(s1,dx,dy), float4x4(-0.099339611828327,0.042820557951927,0.008560970425606,-0.206212848424911,-0.049997281283140,-0.034851711243391,-0.144127964973450,0.041578184813261,0.099756769835949,0.119021214544773,-0.025764331221581,-0.186882197856903,0.014298936352134,0.077663101255894,-0.097257785499096,0.106332994997501));
res += mul(Get(s2,-dx,-dy), float4x4(0.025909613817930,0.054056566208601,-0.072262905538082,0.046279344707727,-0.079043038189411,0.100157022476196,-0.035976331681013,-0.180780678987503,-0.028342103585601,0.031661495566368,0.063247390091419,-0.088388904929161,0.021921027451754,0.185767859220505,-0.003638738533482,-0.032177887856960));
res += mul(Get(s2,-dx,0), float4x4(-0.080905720591545,-0.087218776345253,0.064693130552769,-0.120753020048141,-0.002687026979402,0.093533039093018,0.079047754406929,0.003896642709151,0.027784518897533,0.138995900750160,-0.043973769992590,-0.106732033193111,-0.015405535697937,0.188243627548218,0.051283583045006,0.115533515810966));
res += mul(Get(s2,-dx,dy), float4x4(-0.011223852634430,0.084355607628822,-0.123098231852055,0.124118939042091,-0.038290176540613,0.042005926370621,-0.058638136833906,-0.052603524178267,0.088190041482449,0.171513810753822,-0.025196138769388,0.121993117034435,-0.015325319953263,0.025295216590166,0.090536437928677,-0.095221169292927));
res += mul(Get(s2,0,-dy), float4x4(-0.033871930092573,-0.111278370022774,0.107436299324036,0.015456125140190,0.066289633512497,-0.025323126465082,-0.015849087387323,-0.039867427200079,0.081531472504139,-0.185226410627365,-0.014525848440826,0.023124238476157,-0.005700871814042,0.145971879363060,0.007268283981830,-0.091096743941307));
res += mul(Get(s2,0,0), float4x4(0.056281663477421,0.005667382385582,0.151469588279724,0.075627230107784,0.071286857128143,-0.168959558010101,0.110166832804680,-0.048805233091116,-0.189421862363815,-0.009928166866302,-0.071584172546864,-0.133881434798241,-0.079838216304779,0.010125845670700,-0.023420860990882,-0.170816272497177));
res += mul(Get(s2,0,dy), float4x4(-0.092129610478878,-0.083676382899284,0.003909000661224,-0.051596719771624,0.116186998784542,-0.069408714771271,-0.090327605605125,-0.024719692766666,-0.086427070200443,-0.169967994093895,-0.060333326458931,-0.055685110390186,0.128804773092270,-0.192952215671539,0.033051542937756,-0.019710680469871));
res += mul(Get(s2,dx,-dy), float4x4(-0.093304321169853,0.023676086217165,0.157821431756020,-0.089981310069561,-0.145815998315811,0.026655921712518,-0.062822967767715,0.021870998665690,-0.039259091019630,0.149564221501350,-0.063897922635078,0.044199336320162,-0.055732678622007,0.028880372643471,-0.025815105065703,-0.039735302329063));
res += mul(Get(s2,dx,0), float4x4(-0.017519846558571,-0.018076965585351,0.143106848001480,-0.089369520545006,-0.120518006384373,0.010604170151055,0.081176102161407,-0.064413934946060,0.177714169025421,0.070852145552635,-0.105975866317749,-0.071908012032509,-0.188691481947899,0.155614852905273,0.041077226400375,0.037676870822906));
res += mul(Get(s2,dx,dy), float4x4(0.004229466896504,-0.138954386115074,0.005714442115277,0.095888234674931,0.176110744476318,-0.000972002395429,-0.164644166827202,-0.084170527756214,0.035907842218876,0.092200271785259,0.044738937169313,-0.050220560282469,-0.076609306037426,0.008000889793038,-0.112146884202957,-0.058672044426203));
res += mul(Get(s3,-dx,-dy), float4x4(0.075840368866920,-0.256494343280792,0.018423708155751,-0.075333446264267,-0.102967388927937,0.197390973567963,-0.058995053172112,0.091203838586807,-0.021508879959583,-0.125873789191246,-0.026846252381802,-0.008701767772436,0.269670844078064,0.041065957397223,-0.078947015106678,-0.137856096029282));
res += mul(Get(s3,-dx,0), float4x4(0.024625374004245,0.101987659931183,0.032779078930616,-0.182632684707642,0.124285645782948,-0.071414887905121,-0.039112843573093,0.040732793509960,-0.001193780917674,0.024375662207603,-0.069643832743168,-0.061649791896343,-0.052169412374496,-0.030990725383162,0.119001582264900,0.036410901695490));
res += mul(Get(s3,-dx,dy), float4x4(0.096838004887104,0.160414129495621,0.117883183062077,0.209211274981499,0.002343625528738,-0.073616236448288,0.027309786528349,0.039448622614145,0.080866739153862,-0.072400800883770,-0.100264422595501,-0.127034559845924,-0.002376941964030,0.051218289881945,0.017271161079407,-0.061664115637541));
res += mul(Get(s3,0,-dy), float4x4(-0.025785578414798,-0.224120870232582,0.179285913705826,0.043882146477699,0.023690780624747,0.003340296447277,0.133334890007973,0.088349983096123,0.062769733369350,-0.170597255229950,0.047931589186192,0.006263209041208,-0.053013090044260,0.041454687714577,-0.000453682761872,-0.045881833881140));
res += mul(Get(s3,0,0), float4x4(-0.007075879722834,0.116238467395306,-0.024088677018881,0.178000420331955,0.164611071348190,0.067120186984539,0.069397673010826,0.049373134970665,-0.046165291219950,0.015955131500959,0.160531833767891,0.078895553946495,-0.103434428572655,-0.053591649979353,-0.018313871696591,-0.025786085054278));
res += mul(Get(s3,0,dy), float4x4(-0.307623177766800,-0.023226499557495,-0.077099494636059,0.035294543951750,-0.010506255552173,0.004302431363612,-0.055552806705236,0.230400308966637,-0.126196622848511,-0.053591057658195,-0.001326830592006,0.090266525745392,0.021039402112365,-0.109450288116932,-0.172798380255699,-0.020748838782310));
res += mul(Get(s3,dx,-dy), float4x4(0.087226420640945,-0.144876137375832,-0.105773575603962,-0.122585020959377,-0.020232139155269,-0.110415376722813,-0.203068986535072,-0.006674728356302,0.009987798519433,-0.266645580530167,-0.198476389050484,-0.052394825965166,0.204542011022568,-0.070875950157642,-0.027913199737668,0.032585822045803));
res += mul(Get(s3,dx,0), float4x4(-0.051288656890392,-0.080467164516449,-0.050136663019657,0.088589280843735,-0.085453040897846,-0.023114221170545,-0.021200994029641,-0.121093407273293,0.131069898605347,0.025493780151010,-0.100461483001709,-0.121807686984539,-0.002395621500909,-0.166317924857140,-0.062482420355082,-0.001024063443765));
res += mul(Get(s3,dx,dy), float4x4(0.003869510022923,-0.209353849291801,0.009424234740436,-0.051515817642212,-0.084786400198936,-0.020441219210625,0.036058381199837,-0.115386240184307,0.060555085539818,-0.094381473958492,-0.112133294343948,-0.126392662525177,0.055493336170912,-0.006035697646439,-0.015277097932994,0.106595963239670));
return max(float4(0,0,0,0), res);
}
