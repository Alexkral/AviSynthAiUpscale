sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.063857235014439,0.069505304098129,-0.033577475696802,0.001436866121367,0.075901888310909,-0.009441529400647,-0.048407040536404,-0.070670947432518,-0.160159096121788,0.098314918577671,0.038929097354412,-0.081244200468063,-0.105952329933643,-0.121900230646133,0.149697288870811,0.057931788265705));
res += mul(Get(s0,-dx,0), float4x4(0.000430256448453,0.093812383711338,-0.080113895237446,0.060553912073374,0.113142095506191,-0.025911318138242,-0.094174973666668,-0.030757101252675,-0.093582153320313,0.090231582522392,0.015892632305622,0.000498124689329,0.022736145183444,0.090655021369457,0.028390100225806,-0.039935629814863));
res += mul(Get(s0,-dx,dy), float4x4(-0.058863069862127,0.108406931161880,-0.020890228450298,-0.102985084056854,0.017894547432661,-0.008971599861979,-0.072641521692276,-0.097759105265141,0.276838600635529,-0.052895367145538,-0.092190146446228,-0.180432170629501,-0.008985252119601,0.037010360509157,0.099142014980316,0.137597694993019));
res += mul(Get(s0,0,-dy), float4x4(-0.068143106997013,-0.050587166100740,-0.067968316376209,0.030101938173175,0.285725086927414,-0.092866182327271,-0.151560097932816,0.121389828622341,-0.034673877060413,0.130320072174072,-0.034945819526911,-0.043350290507078,-0.125879406929016,0.174156561493874,-0.006506478879601,0.066141799092293));
res += mul(Get(s0,0,0), float4x4(0.057828873395920,-0.009145883843303,-0.072267033159733,0.131793692708015,0.000712928944267,0.111882865428925,0.024714104831219,0.087946496903896,0.069882154464722,0.000370948866475,0.022259695455432,0.167646065354347,-0.048073258250952,-0.056882407516241,-0.001079950481653,0.024408416822553));
res += mul(Get(s0,0,dy), float4x4(-0.096331007778645,0.041019883006811,-0.022619672119617,-0.104359015822411,0.002386619802564,0.004156079143286,-0.135142937302589,-0.211185127496719,0.276583015918732,-0.066300287842751,0.045862697064877,-0.138814345002174,0.016920812427998,-0.025982817634940,-0.019218968227506,-0.030491299927235));
res += mul(Get(s0,dx,-dy), float4x4(-0.045560568571091,-0.094817578792572,-0.003787592751905,-0.099001161754131,0.001488312846050,-0.113220222294331,0.109340958297253,0.065143764019012,0.205908194184303,-0.004756354726851,-0.094759695231915,0.126685246825218,-0.098348952829838,0.105144292116165,-0.014702025800943,0.033984612673521));
res += mul(Get(s0,dx,0), float4x4(-0.026254978030920,-0.024203203618526,0.029026972129941,0.037281554192305,0.070703245699406,0.025132095441222,-0.027131220325828,0.083265334367752,0.129559755325317,-0.099960781633854,0.076846115291119,0.228207975625992,-0.013015416450799,-0.058002155274153,0.035738546401262,0.183877453207970));
res += mul(Get(s0,dx,dy), float4x4(-0.069734722375870,0.008069553412497,0.113971225917339,-0.066322930157185,-0.031630843877792,-0.019827155396342,-0.070293538272381,-0.047289237380028,0.033275786787271,-0.122180990874767,0.162483647465706,-0.062600493431091,0.038937665522099,-0.097146086394787,-0.082642860710621,-0.023395894095302));
res += mul(Get(s1,-dx,-dy), float4x4(0.017395274713635,0.115901291370392,0.102014787495136,-0.163917422294617,0.062741950154305,-0.058537248522043,0.089129224419594,-0.107768334448338,0.031394764780998,0.129395529627800,0.185109391808510,-0.058870919048786,0.118905581533909,0.012970777228475,-0.147994384169579,-0.021894460543990));
res += mul(Get(s1,-dx,0), float4x4(-0.006545289885253,0.049519609659910,-0.022751836106181,0.055663287639618,-0.002100323792547,0.091922625899315,0.038206923753023,0.114610649645329,-0.163521721959114,0.109450273215771,0.073758207261562,0.195124834775925,0.010569864884019,0.039655376225710,-0.069943860173225,-0.013821886852384));
res += mul(Get(s1,-dx,dy), float4x4(0.085873268544674,0.002269506454468,-0.070878304541111,-0.040748335421085,-0.057619493454695,0.029611228033900,0.130131155252457,-0.087340995669365,-0.054588425904512,-0.062688030302525,-0.144563779234886,-0.134789869189262,-0.014207737520337,-0.095358736813068,-0.041205875575542,0.200707152485847));
res += mul(Get(s1,0,-dy), float4x4(-0.070608079433441,0.136741697788239,-0.058680739253759,0.053223308175802,-0.080002948641777,0.108373716473579,0.149189710617065,0.135751008987427,0.002711758716032,-0.050606872886419,0.079689830541611,0.079409830272198,0.005752868950367,0.055561043322086,-0.191818267107010,0.143373325467110));
res += mul(Get(s1,0,0), float4x4(0.099150851368904,-0.011008678004146,-0.064988508820534,0.107133835554123,-0.023179978132248,0.168873503804207,0.033574663102627,0.132546260952950,-0.138046070933342,0.067833945155144,0.050434436649084,0.098108194768429,-0.099295184016228,-0.162030443549156,-0.151671931147575,0.060760460793972));
res += mul(Get(s1,0,dy), float4x4(-0.101561136543751,0.069393403828144,-0.023143980652094,-0.002770527265966,-0.021654414013028,-0.102310933172703,-0.000331271323375,-0.115530237555504,-0.194043859839439,-0.065791092813015,0.051618538796902,-0.107912331819534,-0.102653115987778,0.000220449481276,-0.067361131310463,-0.162432327866554));
res += mul(Get(s1,dx,-dy), float4x4(-0.032825451344252,-0.028118090704083,-0.034817911684513,0.004100359510630,-0.128382056951523,0.034051075577736,0.009184416383505,0.104775860905647,0.005557017400861,-0.081444956362247,0.148967862129211,-0.023210765793920,-0.017487799748778,-0.122380971908569,-0.038647234439850,-0.051198955625296));
res += mul(Get(s1,dx,0), float4x4(-0.008788811042905,-0.123209938406944,0.029169771820307,-0.021659368649125,-0.015820641070604,-0.024421993643045,-0.065938271582127,0.132528632879257,-0.051652044057846,0.130358129739761,-0.168324336409569,0.078080467879772,0.041309054940939,-0.041703350841999,-0.013679991476238,-0.081764861941338));
res += mul(Get(s1,dx,dy), float4x4(-0.041679300367832,-0.094641231000423,-0.125468283891678,-0.102109067142010,-0.086833760142326,-0.027739172801375,-0.138683468103409,-0.136490613222122,-0.018193723633885,-0.218213200569153,0.072532884776592,-0.132305741310120,-0.005513665266335,-0.023574994876981,-0.006573286373168,-0.052486665546894));
res += mul(Get(s2,-dx,-dy), float4x4(-0.048004750162363,0.009701785631478,0.033144343644381,-0.071633391082287,-0.134750738739967,-0.093470826745033,-0.138777822256088,-0.119710713624954,-0.159744247794151,-0.062011968344450,-0.087145701050758,0.045285109430552,0.005066070705652,-0.108797140419483,-0.057867366820574,-0.021865418180823));
res += mul(Get(s2,-dx,0), float4x4(0.053599860519171,0.104839757084846,-0.033983413130045,-0.074289381504059,-0.120050556957722,0.016629425808787,-0.087127588689327,-0.105867564678192,-0.114895708858967,-0.044541448354721,-0.049503106623888,0.075911581516266,-0.099507652223110,-0.101721964776516,-0.117912419140339,0.055594436824322));
res += mul(Get(s2,-dx,dy), float4x4(0.095045588910580,-0.057952709496021,-0.004813098348677,-0.040664162486792,-0.074301145970821,-0.085048630833626,0.015178169123828,-0.148719042539597,0.079243130981922,-0.113967292010784,-0.091066993772984,-0.125336855649948,-0.085532918572426,-0.014854975044727,0.029503297060728,-0.215250924229622));
res += mul(Get(s2,0,-dy), float4x4(-0.067272067070007,0.107782185077667,-0.076421380043030,0.030382655560970,0.049778349697590,0.034941293299198,-0.135031193494797,-0.001448242575862,-0.090438306331635,-0.119672439992428,-0.071180284023285,-0.043415516614914,-0.072020538151264,0.209018573164940,-0.118327900767326,0.089192226529121));
res += mul(Get(s2,0,0), float4x4(-0.010444533079863,0.079316869378090,-0.114778019487858,-0.004356855992228,0.009601372294128,-0.070832669734955,-0.041759803891182,0.082122638821602,-0.038950044661760,0.002431348664686,-0.006488677579910,-0.053210590034723,-0.016041042283177,0.034111157059669,-0.050357483327389,0.125989988446236));
res += mul(Get(s2,0,dy), float4x4(0.073183275759220,-0.077460758388042,0.100405856966972,-0.090381912887096,0.183731883764267,0.025233227759600,0.087765313684940,-0.110812216997147,0.004927207250148,-0.024148834869266,-0.038577530533075,-0.151724219322205,0.040011871606112,0.004040253814310,-0.067146375775337,-0.024012444540858));
res += mul(Get(s2,dx,-dy), float4x4(-0.083523780107498,0.035308048129082,-0.062468614429235,0.132281273603439,-0.081837438046932,-0.016319317743182,-0.075690113008022,-0.059020701795816,0.080456726253033,-0.085963554680347,-0.017787644639611,0.045315697789192,-0.015551148913801,0.512335538864136,-0.160491496324539,-0.031699985265732));
res += mul(Get(s2,dx,0), float4x4(0.273837506771088,0.041128586977720,-0.162310510873795,-0.085725978016853,-0.084907189011574,-0.084270536899567,0.040277861058712,0.084445141255856,0.053787719458342,-0.038262002170086,0.028214558959007,0.084510199725628,0.117690011858940,-0.036088552325964,-0.107569411396980,0.093649283051491));
res += mul(Get(s2,dx,dy), float4x4(0.186849936842918,-0.157018855214119,0.082933947443962,0.138598099350929,0.036560960114002,-0.046722035855055,0.085703447461128,0.070378914475441,0.084675550460815,-0.023799514397979,0.161819949746132,0.000414383743191,0.015429383143783,0.044791296124458,-0.130140572786331,-0.032334432005882));
res += mul(Get(s3,-dx,-dy), float4x4(-0.078760854899883,-0.009945719502866,-0.019007051363587,-0.039525110274553,0.056131407618523,-0.043779369443655,0.073481023311615,0.137940272688866,0.111736416816711,-0.066707499325275,0.007426522672176,0.044724095612764,-0.014164264313877,0.019978774711490,0.073187202215195,0.030269613489509));
res += mul(Get(s3,-dx,0), float4x4(-0.086170345544815,0.058474320918322,0.119852818548679,-0.014271423220634,-0.092393063008785,0.056167479604483,0.148518383502960,0.026447160169482,0.179098069667816,-0.140048712491989,0.124322406947613,-0.057908907532692,0.097156673669815,-0.010574272833765,-0.060435943305492,-0.044125087559223));
res += mul(Get(s3,-dx,dy), float4x4(0.075733862817287,-0.077598072588444,-0.052611265331507,-0.171221017837524,-0.067472077906132,-0.022351523861289,0.193344384431839,-0.187684312462807,-0.018288157880306,0.001433722325601,0.100501917302608,-0.096776932477951,-0.004707852844149,0.040481775999069,-0.017974486574531,-0.150452747941017));
res += mul(Get(s3,0,-dy), float4x4(-0.183788940310478,-0.001331317238510,0.021384235471487,0.095535181462765,-0.121868297457695,0.089122660458088,0.076958224177361,-0.041806716471910,0.016242552548647,0.517683207988739,0.154306828975677,0.055550351738930,0.037076629698277,0.031747609376907,0.130957916378975,0.272508323192596));
res += mul(Get(s3,0,0), float4x4(-0.075255960226059,0.007589279208332,-0.040895365178585,0.130938783288002,0.101530365645885,-0.019908111542463,-0.076888255774975,0.175770565867424,-0.013018534518778,0.422505259513855,0.059155251830816,-0.010956484824419,0.056808117777109,0.046822827309370,0.002111160662025,0.447959750890732));
res += mul(Get(s3,0,dy), float4x4(0.095988154411316,0.068326167762280,0.003229809226468,-0.078622318804264,-0.079898118972778,-0.120901942253113,0.093178495764732,-0.206343889236450,-0.014397658407688,0.009053257293999,0.069318495690823,-0.073039136826992,0.004058921709657,-0.040518544614315,0.055979602038860,0.345438271760941));
res += mul(Get(s3,dx,-dy), float4x4(-0.150643080472946,0.287096053361893,0.038048673421144,-0.073353372514248,-0.016691362485290,-0.095830865204334,0.174264445900917,0.070645973086357,-0.117088206112385,-0.443765699863434,0.008714022114873,0.005317076575011,-0.048267543315887,0.029842264950275,0.134316623210907,0.026970813050866));
res += mul(Get(s3,dx,0), float4x4(0.131269186735153,-0.011025189422071,0.016482384875417,0.113838046789169,-0.126833036541939,-0.045482795685530,0.085520945489407,0.149682477116585,-0.003345033386722,-0.332908987998962,0.016126669943333,0.006449541077018,0.093599066138268,-0.048819165676832,0.059057395905256,0.076586835086346));
res += mul(Get(s3,dx,dy), float4x4(0.096026793122292,-0.054439634084702,0.068616367876530,0.089177943766117,-0.078701972961426,-0.144079193472862,-0.010806146077812,-0.243466734886169,0.090098619461060,0.019535958766937,0.050046049058437,-0.077440865337849,0.062205482274294,0.142108231782913,0.038812905550003,-0.055466111749411));
return max(float4(0,0,0,0), res);
}
