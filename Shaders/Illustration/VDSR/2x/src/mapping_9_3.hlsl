sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.034493267536163,-0.034981004893780,-0.069877363741398,0.124178096652031,-0.012609936296940,-0.116169609129429,-0.040099982172251,-0.053006608039141,0.133155211806297,0.071683727204800,0.136382997035980,0.124493755400181,0.007136330008507,-0.231819614768028,-0.016214178875089,0.059700228273869));
res += mul(Get(s0,-dx,0), float4x4(-0.019799860194325,0.060504734516144,-0.044615734368563,-0.013696884736419,-0.108126521110535,-0.194003239274025,0.120484463870525,0.014702521264553,0.223601743578911,0.046043150126934,0.118803068995476,-0.141264736652374,0.080910637974739,0.016255715861917,-0.003007010556757,0.227835252881050));
res += mul(Get(s0,-dx,dy), float4x4(-0.094556652009487,-0.101054854691029,-0.013464287854731,-0.027216443791986,0.049160782247782,-0.175480559468269,0.050723977386951,-0.051144056022167,0.011820603162050,0.041078642010689,-0.088215671479702,-0.086582310497761,-0.162821993231773,-0.160707414150238,-0.043395239859819,0.079907931387424));
res += mul(Get(s0,0,-dy), float4x4(-0.048774030059576,0.115205280482769,-0.112640455365181,-0.163117602467537,-0.002057208446786,-0.142133921384811,-0.030937677249312,0.068399280309677,0.123924218118191,-0.079491555690765,0.144429087638855,0.151414349675179,0.123908273875713,0.252159625291824,0.230688393115997,0.135863199830055));
res += mul(Get(s0,0,0), float4x4(0.090310171246529,0.076409086585045,-0.091010086238384,-0.077147297561169,0.127553582191467,-0.058877333998680,0.075833506882191,-0.074484273791313,0.036622960120440,-0.027293594554067,-0.037052575498819,-0.024288348853588,0.096170373260975,0.099649213254452,0.062657780945301,0.057071302086115));
res += mul(Get(s0,0,dy), float4x4(-0.000722470926121,0.109552226960659,-0.027441039681435,0.023813331499696,-0.174442842602730,-0.107015751302242,-0.117597781121731,-0.126936241984367,-0.137043431401253,-0.042258415371180,-0.018456498160958,0.111790142953396,-0.031035458669066,-0.116553664207458,0.122495114803314,0.288842469453812));
res += mul(Get(s0,dx,-dy), float4x4(0.157637089490891,0.042858503758907,-0.048633821308613,0.069540292024612,0.024909766390920,-0.024780228734016,-0.066060610115528,-0.010835320688784,0.053467396646738,0.063328608870506,-0.009229185059667,0.049498040229082,0.060268290340900,0.116270385682583,-0.006716418545693,0.047313261777163));
res += mul(Get(s0,dx,0), float4x4(-0.066404737532139,-0.069346778094769,0.147153541445732,0.131771326065063,0.049906317144632,-0.066891677677631,-0.100021302700043,-0.148238539695740,-0.024155488237739,0.050381563603878,-0.137589588761330,-0.021433189511299,-0.056108657270670,-0.022917825728655,-0.066794686019421,-0.183623030781746));
res += mul(Get(s0,dx,dy), float4x4(-0.256563961505890,-0.114959411323071,0.075817599892616,0.175862848758698,-0.129753753542900,0.002288204152137,0.042474221438169,0.029615825042129,-0.029498884454370,-0.060464140027761,0.025762634351850,-0.005118836648762,-0.001908632344566,-0.136247575283051,-0.006221276707947,-0.117891564965248));
res += mul(Get(s1,-dx,-dy), float4x4(0.086917378008366,0.085974887013435,-0.113434724509716,0.074683770537376,0.015930486842990,0.063680619001389,-0.025691218674183,0.069124355912209,-0.161594718694687,0.030077725648880,-0.113844282925129,0.003032980952412,0.035211838781834,0.162104725837708,-0.264544636011124,-0.037482541054487));
res += mul(Get(s1,-dx,0), float4x4(-0.018702114000916,0.056812018156052,-0.110527455806732,0.194188684225082,0.105157315731049,0.128367826342583,-0.031542871147394,-0.051224898546934,-0.067654952406883,0.177338823676109,-0.101841092109680,-0.012423251755536,-0.023128179833293,0.044201876968145,0.051168452948332,0.044083304703236));
res += mul(Get(s1,-dx,dy), float4x4(-0.023352958261967,0.096894152462482,0.146712675690651,0.040021035820246,-0.190271675586700,0.279576808214188,0.045405231416225,-0.209517911076546,0.155114576220512,0.070586346089840,0.074890717864037,-0.131627410650253,-0.025061232969165,-0.013750955462456,0.074758253991604,0.005711379460990));
res += mul(Get(s1,0,-dy), float4x4(-0.075177073478699,0.220545530319214,0.041361164301634,0.083453699946404,-0.118379391729832,0.036855131387711,-0.051797159016132,-0.186324432492256,-0.061215810477734,0.028012674301863,0.006806392688304,-0.176909089088440,0.185891360044479,0.026008473709226,-0.168310657143593,-0.001713679404929));
res += mul(Get(s1,0,0), float4x4(0.034931257367134,0.203995466232300,-0.034961670637131,0.219812422990799,-0.028110237792134,-0.006839946843684,0.050017416477203,-0.118552543222904,-0.269599020481110,0.193190693855286,-0.099514678120613,0.074211008846760,-0.121241897344589,-0.067816182971001,0.249146178364754,0.023272933438420));
res += mul(Get(s1,0,dy), float4x4(-0.038644470274448,0.044072888791561,0.337472081184387,0.107068724930286,-0.107320860028267,0.201110169291496,-0.085511684417725,0.007662185002118,-0.214945763349533,0.080919951200485,0.081709198653698,0.194019198417664,-0.120420552790165,0.051389731466770,0.221969977021217,0.007531262002885));
res += mul(Get(s1,dx,-dy), float4x4(-0.011811994947493,0.137374535202980,0.158609464764595,-0.006331893615425,-0.060649596154690,-0.014171729795635,-0.052040748298168,-0.066961027681828,-0.107124887406826,-0.113918408751488,-0.218223020434380,0.009058562107384,0.014026822522283,-0.097152285277843,0.104393191635609,0.063858419656754));
res += mul(Get(s1,dx,0), float4x4(0.170135214924812,0.035931244492531,0.038727205246687,-0.075903631746769,0.093773782253265,0.047715991735458,-0.003481952473521,-0.029572602361441,0.075920321047306,-0.008985248394310,0.056246578693390,0.072795212268829,0.099899478256702,-0.051872007548809,0.086968317627907,0.034474514424801));
res += mul(Get(s1,dx,dy), float4x4(0.040725253522396,0.011914590373635,0.050260979682207,0.045691780745983,0.019313307479024,-0.036026403307915,-0.127557381987572,0.002604162553325,-0.065598189830780,0.125696718692780,0.121633872389793,0.023602984845638,0.101459823548794,0.005606703925878,0.069726265966892,-0.035995535552502));
res += mul(Get(s2,-dx,-dy), float4x4(-0.187990933656693,0.138570010662079,0.053266081959009,0.015812525525689,0.074495464563370,0.099450968205929,-0.274580836296082,0.058768540620804,-0.100674405694008,-0.089025810360909,0.030110646039248,0.099717684090137,0.062368080019951,-0.031560931354761,0.015342331491411,0.072816565632820));
res += mul(Get(s2,-dx,0), float4x4(0.038889680057764,-0.178602755069733,-0.248009294271469,-0.007960875518620,0.017774187028408,-0.008786020800471,0.194224253296852,0.044123120605946,0.002720536664128,-0.182342007756233,0.053282171487808,0.028256911784410,-0.119861133396626,0.010628702118993,-0.068451821804047,0.109200745820999));
res += mul(Get(s2,-dx,dy), float4x4(-0.094461128115654,-0.069798544049263,-0.057154390960932,0.056880112737417,-0.149191528558731,0.048840127885342,-0.160949379205704,0.160682901740074,-0.165346279740334,-0.001464903005399,-0.076276257634163,0.213886767625809,-0.195822685956955,-0.004838448017836,-0.169025897979736,-0.026114538311958));
res += mul(Get(s2,0,-dy), float4x4(-0.027967557311058,-0.148325309157372,-0.128912687301636,-0.041258078068495,-0.125161617994308,-0.073827542364597,0.036658596247435,0.049363214522600,0.005966766271740,-0.228065460920334,0.038361199200153,0.018951069563627,0.014339674264193,-0.011905835010111,0.048177585005760,0.099925935268402));
res += mul(Get(s2,0,0), float4x4(-0.187810450792313,-0.032001964747906,-0.056215863674879,0.058899004012346,-0.000873228069395,0.016542199999094,0.041804973036051,-0.081428967416286,-0.012645904906094,-0.232466012239456,0.058247581124306,-0.137641608715057,-0.100826680660248,0.030950322747231,-0.184193447232246,-0.094744868576527));
res += mul(Get(s2,0,dy), float4x4(-0.055017046630383,-0.135776966810226,0.122360371053219,-0.011985125951469,-0.210501879453659,-0.173864200711250,0.019891317933798,0.075973242521286,-0.160706162452698,0.035651654005051,0.013855926692486,-0.058319021016359,-0.073914743959904,0.103436134755611,-0.223384410142899,-0.142002746462822));
res += mul(Get(s2,dx,-dy), float4x4(-0.087960638105869,0.025709379464388,-0.137579143047333,-0.079013399779797,0.004344891756773,0.064499065279961,0.078348122537136,0.024678533896804,-0.020233437418938,0.030270034447312,0.038585446774960,0.065405793488026,-0.071477755904198,0.179397135972977,-0.135301142930984,-0.258834958076477));
res += mul(Get(s2,dx,0), float4x4(-0.075599312782288,-0.042694397270679,-0.022694958373904,-0.061730477958918,-0.076491922140121,0.004500307142735,-0.187532633543015,0.024417245760560,0.011509978212416,-0.077348574995995,-0.114517308771610,0.162544757127762,0.069599188864231,-0.033257517963648,-0.077747143805027,-0.061256486922503));
res += mul(Get(s2,dx,dy), float4x4(0.118390679359436,-0.053109321743250,0.107152059674263,0.119306400418282,0.016903672367334,0.087191015481949,0.043578807264566,0.060463003814220,-0.080096960067749,-0.090094834566116,-0.197545066475868,0.019365867599845,-0.131153613328934,0.064498133957386,-0.022349474951625,-0.012413164600730));
res += mul(Get(s3,-dx,-dy), float4x4(-0.023663770407438,0.064055375754833,-0.025648353621364,-0.105888195335865,-0.014720967970788,-0.019553916528821,0.041457306593657,-0.100982517004013,-0.050735030323267,0.145424261689186,-0.040681038051844,0.016095565631986,0.076464951038361,0.044778715819120,-0.031915858387947,-0.130351006984711));
res += mul(Get(s3,-dx,0), float4x4(-0.025133337825537,-0.176243290305138,0.103651441633701,-0.144073873758316,0.169451490044594,-0.026949277147651,0.030941478908062,-0.025778943672776,-0.028652193024755,0.108587220311165,-0.087149776518345,0.116547375917435,-0.043415129184723,-0.033959895372391,0.055722568184137,0.038153339177370));
res += mul(Get(s3,-dx,dy), float4x4(0.052311558276415,-0.215029820799828,-0.023261189460754,-0.218702167272568,0.008203373290598,-0.129757836461067,0.006897378247231,0.027967810630798,0.031884256750345,-0.111325599253178,0.038580428808928,0.182795852422714,0.103122591972351,0.169062748551369,0.028279293328524,0.172324076294899));
res += mul(Get(s3,0,-dy), float4x4(-0.099415384232998,0.109700076282024,0.061193600296974,-0.076451189815998,-0.195448294281960,-0.278921455144882,-0.072191156446934,0.028398402035236,-0.083316370844841,-0.027420077472925,-0.129484832286835,0.016668276861310,-0.152781277894974,-0.050007712095976,-0.023569203913212,0.119001552462578));
res += mul(Get(s3,0,0), float4x4(0.035723928362131,-0.010289050638676,-0.020011773332953,-0.070067904889584,0.059625655412674,-0.120154879987240,-0.000293169781798,0.061779443174601,0.052848957479000,0.162667095661163,-0.035428848117590,-0.110543161630630,0.088550381362438,-0.071182362735271,-0.097136765718460,0.018391322344542));
res += mul(Get(s3,0,dy), float4x4(0.091347515583038,-0.142044275999069,-0.122188150882721,0.076083876192570,0.060537870973349,0.046587970107794,-0.073651328682899,0.103482879698277,0.006457867100835,0.051819119602442,-0.094283208250999,-0.165776520967484,0.042643666267395,-0.010287595912814,0.182367295026779,0.074516654014587));
res += mul(Get(s3,dx,-dy), float4x4(-0.022952830418944,0.047794882208109,0.064790047705173,0.016692936420441,-0.099785760045052,-0.144429385662079,0.005111825186759,0.062488742172718,0.178781688213348,0.104617632925510,-0.071938373148441,-0.093937292695045,0.054120223969221,0.083321139216423,0.003372897626832,-0.040820993483067));
res += mul(Get(s3,dx,0), float4x4(-0.043642938137054,0.052865255624056,-0.057399913668633,0.220619261264801,-0.061617597937584,-0.013386840932071,-0.037072058767080,-0.019527493044734,0.076041787862778,0.008112826384604,0.090021088719368,-0.080731511116028,-0.048233110457659,-0.102768696844578,0.150708243250847,-0.088230833411217));
res += mul(Get(s3,dx,dy), float4x4(0.047257274389267,0.125603646039963,-0.149656131863594,-0.034346677362919,0.078175462782383,-0.147388488054276,0.067372269928455,-0.110975205898285,-0.047786388546228,-0.080259270966053,0.045423209667206,0.005202013999224,0.075053840875626,-0.123252592980862,0.028879957273602,-0.067079894244671));
return max(float4(0,0,0,0), res);
}
