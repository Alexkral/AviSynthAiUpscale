sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.050762761384249,0.104119226336479,0.192170187830925,-0.110865607857704,-0.063297763466835,0.063304021954536,-0.011766483075917,-0.162119492888451,0.249693021178246,-0.037877175956964,0.012808795087039,0.220381319522858,-0.035522162914276,0.023413915187120,0.087469428777695,0.049396738409996));
res += mul(Get(s0,-dx,0), float4x4(-0.066564060747623,-0.029015798121691,-0.041932750493288,-0.170485377311707,0.065658070147038,0.111803650856018,-0.081320025026798,-0.127493485808372,-0.051945045590401,0.173131003975868,0.207083240151405,0.123979166150093,0.041646171361208,0.044681116938591,0.107665382325649,0.200136944651604));
res += mul(Get(s0,-dx,dy), float4x4(-0.104052901268005,0.128548815846443,-0.055680733174086,-0.155768722295761,-0.097128152847290,0.192334860563278,-0.148069694638252,-0.080541789531708,0.024263534694910,-0.062554851174355,-0.038482185453176,0.049328621476889,0.009492134675384,0.058151982724667,0.092668771743774,-0.045078385621309));
res += mul(Get(s0,0,-dy), float4x4(-0.030409295111895,0.048924520611763,0.122038975358009,-0.100521586835384,0.023421538993716,0.069048538804054,-0.031385377049446,-0.036337725818157,0.283201485872269,-0.076480679214001,-0.035655505955219,-0.030683763325214,-0.005898648872972,0.002926246263087,-0.062589518725872,-0.048768032342196));
res += mul(Get(s0,0,0), float4x4(-0.042090009897947,0.276499420404434,-0.027240904048085,-0.119854643940926,0.217686042189598,-0.110309362411499,-0.032924950122833,-0.078747197985649,-0.009221302345395,-0.025283027440310,0.018734032288194,0.187736555933952,0.016907282173634,0.040356919169426,-0.044381774961948,-0.018222553655505));
res += mul(Get(s0,0,dy), float4x4(-0.170613870024681,0.271909922361374,0.058107700198889,-0.083751566708088,0.160294726490974,0.019315132871270,-0.107609570026398,-0.081104159355164,0.157281324267387,0.032861508429050,0.195835530757904,-0.081614866852760,-0.055560242384672,-0.029112217947841,0.101290978491306,-0.033034946769476));
res += mul(Get(s0,dx,-dy), float4x4(-0.060692369937897,0.085995756089687,0.109555877745152,0.107823275029659,0.095033161342144,0.068251326680183,-0.056102350354195,-0.054520066827536,0.186724364757538,0.068820104002953,-0.071671001613140,-0.094254292547703,0.027323972433805,0.074350707232952,-0.084681905806065,0.073344238102436));
res += mul(Get(s0,dx,0), float4x4(-0.110349625349045,0.064487315714359,0.036570783704519,0.041943684220314,0.040125779807568,-0.066583350300789,0.059180516749620,-0.048350375145674,-0.037677500396967,0.003001841716468,0.135963767766953,0.023885881528258,0.053623396903276,0.147974520921707,-0.069134749472141,0.121403798460960));
res += mul(Get(s0,dx,dy), float4x4(-0.131195649504662,-0.045209109783173,0.078237481415272,0.010382039472461,0.030076716095209,0.062376800924540,-0.043887350708246,-0.128971055150032,0.053357038646936,-0.158178597688675,0.075652509927750,0.252203255891800,-0.094203926622868,0.149368762969971,-0.048987764865160,-0.148038685321808));
res += mul(Get(s1,-dx,-dy), float4x4(-0.124793812632561,-0.014377622865140,0.043500237166882,-0.080579295754433,-0.034969016909599,0.059749439358711,0.123319976031780,0.013375476934016,0.103177227079868,-0.032877594232559,-0.062217365950346,-0.147024437785149,-0.079176150262356,-0.095552705228329,-0.237992003560066,-0.016811154782772));
res += mul(Get(s1,-dx,0), float4x4(-0.159408345818520,-0.170427739620209,-0.164400532841682,-0.014880592003465,-0.036685317754745,0.073710247874260,0.058374408632517,0.052847381681204,-0.065931171178818,-0.144204050302505,-0.031304612755775,-0.078236445784569,-0.046993661671877,-0.236608922481537,-0.191662341356277,0.056717704981565));
res += mul(Get(s1,-dx,dy), float4x4(-0.017936874181032,-0.166111752390862,0.082965254783630,-0.080938622355461,0.017087049782276,0.063536584377289,-0.009750119410455,-0.030247833579779,0.105199694633484,-0.094983153045177,0.137171491980553,0.052048712968826,-0.113017000257969,-0.096426367759705,-0.045508082956076,0.075492799282074));
res += mul(Get(s1,0,-dy), float4x4(-0.065081037580967,0.203641831874847,0.042937383055687,0.101013481616974,-0.009773739613593,-0.006470565218478,-0.047906395047903,-0.029736924916506,-0.034443352371454,-0.130127653479576,-0.048217937350273,-0.055991567671299,0.049451712518930,-0.148834124207497,-0.130684658885002,0.040097668766975));
res += mul(Get(s1,0,0), float4x4(-0.115056641399860,0.151131972670555,-0.035678438842297,0.037549752742052,-0.004936227109283,-0.037599287927151,0.131600320339203,0.117935605347157,-0.041481114923954,-0.187177538871765,-0.092215985059738,-0.117420375347137,0.149986684322357,-0.131633937358856,-0.155617475509644,-0.120798207819462));
res += mul(Get(s1,0,dy), float4x4(0.048499710857868,-0.009973461739719,0.082306638360023,0.002289052121341,0.042506631463766,0.044219724833965,0.043348077684641,0.025353567674756,0.094662286341190,-0.128281891345978,0.229747235774994,0.016618190333247,-0.015591938979924,-0.208879277110100,-0.085566878318787,-0.183935880661011));
res += mul(Get(s1,dx,-dy), float4x4(0.018780982121825,-0.047442428767681,0.036836355924606,0.010774311609566,-0.027254845947027,0.066247373819351,0.147834464907646,-0.058257635682821,0.111023932695389,-0.188140854239464,0.119806565344334,-0.012060812674463,-0.143176540732384,-0.150493785738945,-0.139830514788628,0.096044220030308));
res += mul(Get(s1,dx,0), float4x4(-0.103860355913639,-0.126789420843124,0.056070342659950,0.130330651998520,-0.115161053836346,0.320104032754898,0.322759598493576,0.003822021884844,0.158126533031464,-0.283573001623154,0.106295861303806,-0.036417692899704,0.100531987845898,-0.102936573326588,-0.152269750833511,-0.005517386831343));
res += mul(Get(s1,dx,dy), float4x4(0.009785448201001,0.006404160521924,0.122557044029236,0.123859226703644,-0.061490703374147,0.284405052661896,0.081322528421879,-0.093359522521496,0.143094599246979,-0.142161816358566,0.398863077163696,0.002256582491100,-0.012674196623266,-0.227849379181862,-0.078389234840870,-0.109319493174553));
res += mul(Get(s2,-dx,-dy), float4x4(0.182395800948143,0.088870145380497,-0.043277036398649,0.097203373908997,-0.010413728654385,0.056310910731554,-0.093867927789688,-0.014395824633539,0.039250582456589,0.081040374934673,0.005228664260358,0.045917738229036,-0.056688509881496,0.039806399494410,-0.012060041539371,-0.069367878139019));
res += mul(Get(s2,-dx,0), float4x4(0.015453773550689,-0.067176945507526,-0.115717940032482,0.003965409006923,0.044718001037836,-0.000090321875177,0.039972517639399,0.044270422309637,0.008977768011391,-0.033938750624657,-0.219180777668953,0.233413860201836,-0.033413041383028,0.169601202011108,0.057717751711607,-0.108937963843346));
res += mul(Get(s2,-dx,dy), float4x4(-0.176034003496170,-0.110394082963467,-0.124849855899811,-0.054892383515835,-0.034561634063721,0.117363244295120,0.145980343222618,-0.104097709059715,0.010623083449900,-0.146893426775932,-0.017553964629769,0.059267409145832,0.078461132943630,0.243858158588409,0.075628146529198,-0.049927942454815));
res += mul(Get(s2,0,-dy), float4x4(-0.011842929758132,0.086584970355034,-0.141894891858101,-0.004329700488597,0.080527372658253,-0.025329021736979,-0.036132302135229,-0.048282943665981,0.059213161468506,0.131968379020691,0.214898288249969,-0.018322307616472,-0.045442622154951,0.225729107856750,-0.078656576573849,-0.108138360083103));
res += mul(Get(s2,0,0), float4x4(0.006838628090918,-0.069542936980724,-0.129055380821228,0.099313005805016,0.351027280092239,-0.066332444548607,-0.062602579593658,0.062046445906162,-0.051937699317932,-0.134539380669594,0.119601160287857,0.489303499460220,-0.023257814347744,0.366203576326370,0.068425148725510,0.025446189567447));
res += mul(Get(s2,0,dy), float4x4(-0.128231227397919,-0.178948551416397,-0.049960840493441,-0.074616774916649,0.094821467995644,0.045972663909197,0.070899672806263,0.048266641795635,0.077820524573326,-0.130564808845520,-0.000588841328863,0.077709369361401,0.258557409048080,0.167936205863953,0.073357366025448,0.051470275968313));
res += mul(Get(s2,dx,-dy), float4x4(0.102251358330250,0.066919878125191,-0.077425070106983,0.029778370633721,-0.089462742209435,-0.016089791432023,-0.094319537281990,-0.153554663062096,-0.044645924121141,0.235323309898376,0.061320830136538,0.121464006602764,0.118567645549774,0.083051346242428,-0.069292984902859,-0.125694900751114));
res += mul(Get(s2,dx,0), float4x4(0.111905187368393,-0.152867808938026,0.117095716297626,0.231327369809151,-0.189925402402878,-0.002436005277559,-0.089343696832657,0.012297577224672,-0.071756176650524,-0.006908443756402,-0.103022649884224,0.068397842347622,0.177701517939568,-0.102957472205162,0.021197106689215,0.009552672505379));
res += mul(Get(s2,dx,dy), float4x4(-0.001178044127300,-0.166809245944023,0.038120783865452,-0.049037840217352,-0.084034472703934,0.060734752565622,-0.065936490893364,-0.152779057621956,0.058407619595528,-0.144297868013382,-0.012231593951583,0.288925349712372,0.081079483032227,-0.066718898713589,0.014289678074419,0.166545465588570));
res += mul(Get(s3,-dx,-dy), float4x4(-0.023557242006063,0.055399887263775,0.094625458121300,0.025829328224063,-0.148014172911644,0.000536051520612,0.000098182899819,0.162104919552803,0.115224152803421,0.067404918372631,-0.019432855769992,0.101549163460732,-0.017874544486403,0.221509873867035,0.127827480435371,-0.207409396767616));
res += mul(Get(s3,-dx,0), float4x4(0.034222908318043,-0.020718468353152,0.050001770257950,0.056264474987984,0.017676461488008,-0.033594913780689,-0.060767292976379,0.128981143236160,0.123193778097630,0.030380550771952,0.141444429755211,0.096873529255390,-0.006588732823730,0.167928054928780,-0.056298334151506,-0.108870796859264));
res += mul(Get(s3,-dx,dy), float4x4(0.010465360246599,0.067293033003807,-0.001136328559369,0.038777969777584,-0.105893708765507,0.133274734020233,0.124264068901539,0.082828931510448,0.021071990951896,0.002618813188747,-0.058425277471542,-0.078902281820774,0.084216147661209,0.049172718077898,-0.015738345682621,0.074640266597271));
res += mul(Get(s3,0,-dy), float4x4(-0.032394342124462,0.049718126654625,0.049425575882196,-0.029151380062103,0.014804735779762,-0.041732650250196,-0.086466692388058,-0.120503984391689,0.164641082286835,-0.007482628803700,-0.000538672902621,0.058207876980305,0.000684565515257,0.203378453850746,0.159179091453552,-0.010319092310965));
res += mul(Get(s3,0,0), float4x4(0.013249000534415,0.204440191388130,-0.055746451020241,-0.087833806872368,0.572512149810791,-0.046897172927856,-0.092979460954666,-0.036829702556133,0.033936552703381,0.027363430708647,0.137408182024956,0.102465972304344,0.045143079012632,0.008462851867080,-0.044145226478577,-0.003498877165839));
res += mul(Get(s3,0,dy), float4x4(-0.060459058731794,-0.058967199176550,-0.010045809671283,0.021564058959484,-0.309980183839798,0.044371113181114,-0.063164271414280,-0.091170124709606,0.012820212170482,0.206564158201218,0.103790953755379,-0.009348103776574,0.066459663212299,-0.107316091656685,0.334221392869949,0.185840457677841));
res += mul(Get(s3,dx,-dy), float4x4(-0.013366385363042,0.040094595402479,0.130373671650887,0.117319166660309,-0.073343276977539,-0.033867605030537,0.012211576104164,-0.064147152006626,0.115703292191029,0.040019903331995,-0.036479040980339,0.003775027114898,-0.053808595985174,0.005607023369521,0.072658233344555,0.043482154607773));
res += mul(Get(s3,dx,0), float4x4(-0.020507466048002,0.061458759009838,-0.003076177090406,0.024841908365488,-0.048589151352644,-0.221494317054749,0.000546861323528,-0.001945506199263,-0.031637210398912,0.042599957436323,-0.092064447700977,0.016251036897302,-0.055831473320723,0.036594245582819,-0.069102920591831,0.011852123774588));
res += mul(Get(s3,dx,dy), float4x4(-0.037566885352135,-0.011825494468212,-0.022560991346836,0.019875444471836,-0.156474888324738,0.307208538055420,0.115692481398582,-0.078476019203663,-0.097246229648590,0.210043266415596,0.040173370391130,0.172645390033722,-0.074942924082279,0.085924215614796,-0.022775111719966,-0.006298120599240));
return max(float4(0,0,0,0), res);
}
