sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.127255320549011,0.094915181398392,0.098001122474670,-0.104108870029449,-0.075957067310810,-0.012285461649299,0.060745045542717,0.019546899944544,-0.119771525263786,0.065713912248611,-0.006804658100009,0.010235415771604,-0.206268802285194,-0.061872556805611,-0.035548757761717,-0.082087486982346));
res += mul(Get(s0,-dx,0), float4x4(-0.103191405534744,0.215503484010696,0.083364933729172,-0.217048108577728,0.085425317287445,0.084873370826244,-0.068031854927540,-0.134248822927475,0.077854923903942,0.117441944777966,-0.106410667300224,-0.234215170145035,0.163349375128746,0.084641128778458,-0.010064858011901,-0.078807368874550));
res += mul(Get(s0,-dx,dy), float4x4(0.175749212503433,-0.030386999249458,0.219645142555237,-0.139873638749123,-0.139556139707565,0.060803875327110,0.075046740472317,-0.077437147498131,0.065137259662151,0.267830491065979,-0.014687317423522,-0.097749195992947,-0.008032573387027,0.076265148818493,0.023866832256317,-0.065054655075073));
res += mul(Get(s0,0,-dy), float4x4(-0.059822037816048,-0.080331034958363,0.045168701559305,-0.177489370107651,0.019996581599116,-0.369876414537430,-0.192328587174416,0.115498669445515,-0.054749507457018,-0.079335041344166,-0.148289948701859,-0.059743959456682,0.060867439955473,0.125619590282440,-0.221279919147491,0.168591767549515));
res += mul(Get(s0,0,0), float4x4(-0.165586739778519,-0.093317486345768,-0.351127296686172,0.150580629706383,0.098962649703026,-0.081349544227123,-0.038631353527308,-0.145589262247086,-0.137686029076576,0.228851020336151,-0.079426862299442,-0.171591416001320,-0.096174173057079,0.030545935034752,-0.094903506338596,0.002295403275639));
res += mul(Get(s0,0,dy), float4x4(0.217092603445053,0.086766861379147,-0.017733179032803,-0.163246273994446,-0.097608275711536,0.133776828646660,0.012656799517572,-0.178813889622688,0.131480425596237,0.060389019548893,-0.022301442921162,0.124990187585354,0.069139264523983,0.017382528632879,-0.052706442773342,-0.055088430643082));
res += mul(Get(s0,dx,-dy), float4x4(-0.043771754950285,-0.006352454889566,0.039801578968763,-0.075126767158508,0.002761961426586,0.021597664803267,0.024775929749012,-0.059906337410212,0.005598010029644,0.003283680183813,-0.044277761131525,0.124253474175930,0.043004706501961,0.009441099129617,-0.049530949443579,0.064108490943909));
res += mul(Get(s0,dx,0), float4x4(-0.111325025558472,-0.322277992963791,-0.183296650648117,0.225386455655098,-0.172849401831627,-0.144164264202118,-0.226476684212685,0.106213882565498,0.181439638137817,-0.032641787081957,0.069953441619873,-0.168871790170670,0.056494731456041,-0.002126097446308,-0.146097376942635,0.080979064106941));
res += mul(Get(s0,dx,dy), float4x4(0.011677519418299,0.232310503721237,-0.304784446954727,0.173282817006111,0.067372396588326,0.095168486237526,-0.052492704242468,0.031774163246155,-0.020089725032449,0.087462373077869,-0.027413990348577,0.034987319260836,0.034792225807905,0.151535063982010,-0.027573835104704,0.053906206041574));
res += mul(Get(s1,-dx,-dy), float4x4(-0.001017434755340,0.004982541780919,-0.077163822948933,0.275727659463882,0.003225362394005,0.111672319471836,0.129265412688255,0.150550737977028,-0.006167611107230,0.044118292629719,-0.058990698307753,-0.042539786547422,0.034123010933399,0.059221137315035,-0.101900331676006,0.015178024768829));
res += mul(Get(s1,-dx,0), float4x4(0.003983746748418,-0.036598637700081,0.142382502555847,0.070566944777966,0.163982078433037,-0.090971246361732,-0.042826108634472,0.136139675974846,0.098949111998081,0.106546781957150,0.113656766712666,0.221252322196960,0.127644419670105,0.141274586319923,0.051900196820498,0.093867100775242));
res += mul(Get(s1,-dx,dy), float4x4(0.070093348622322,-0.135092914104462,0.073840208351612,-0.062744654715061,0.120894283056259,0.010914650745690,-0.049838393926620,0.111274592578411,-0.091927982866764,0.059619128704071,0.011387155391276,-0.064074181020260,-0.222820371389389,0.107930682599545,-0.105797260999680,0.058140050619841));
res += mul(Get(s1,0,-dy), float4x4(-0.073668770492077,0.016408212482929,0.126642629504204,0.136493965983391,0.166384994983673,-0.107338503003120,0.100511938333511,0.105951629579067,-0.038083840161562,0.048651274293661,0.152574524283409,-0.097314290702343,-0.112013578414917,0.001908081001602,0.074269540607929,0.159376457333565));
res += mul(Get(s1,0,0), float4x4(0.049556888639927,0.021033000200987,0.017046758905053,-0.009667981415987,0.017440591007471,-0.105191655457020,-0.033079702407122,-0.120940051972866,-0.056404110044241,0.119709037244320,0.120323352515697,0.224954068660736,0.017240254208446,0.075949989259243,0.253457307815552,0.091494411230087));
res += mul(Get(s1,0,dy), float4x4(-0.041305720806122,-0.097563527524471,-0.175193488597870,0.013833853416145,0.083812706172466,-0.146554216742516,-0.125462695956230,-0.143679395318031,-0.068234480917454,0.202361866831779,-0.025402674451470,-0.036285933107138,0.036570884287357,0.056001864373684,0.112942233681679,-0.098152995109558));
res += mul(Get(s1,dx,-dy), float4x4(-0.179607585072517,0.234242305159569,-0.085389204323292,-0.078852429986000,-0.063688844442368,-0.069079689681530,-0.022071119397879,0.063958190381527,0.079690322279930,0.124552585184574,-0.176960825920105,0.127784281969070,0.117987297475338,0.028630891814828,-0.050781939178705,0.031264953315258));
res += mul(Get(s1,dx,0), float4x4(0.022262560203671,-0.102485448122025,-0.018623510375619,0.124536328017712,-0.025942714884877,0.015742270275950,-0.048978835344315,0.153582349419594,0.007474604528397,-0.122084826231003,0.076037280261517,0.002562044188380,-0.038679167628288,0.172399595379829,0.148074701428413,-0.081785164773464));
res += mul(Get(s1,dx,dy), float4x4(0.070947788655758,-0.110284648835659,0.004256365820765,0.111271061003208,-0.179082944989204,-0.043252512812614,0.069739513099194,0.108476258814335,0.059734009206295,-0.063869401812553,-0.057088136672974,-0.164013966917992,-0.055416282266378,-0.204017460346222,0.047616124153137,0.044774420559406));
res += mul(Get(s2,-dx,-dy), float4x4(-0.067610837519169,0.071527883410454,-0.166230455040932,0.080822609364986,0.134774595499039,0.033991966396570,-0.048036362975836,-0.050124634057283,0.099369771778584,-0.020530443638563,-0.013930070213974,-0.077163502573967,-0.092370964586735,0.047437805682421,-0.108477741479874,-0.132806926965714));
res += mul(Get(s2,-dx,0), float4x4(0.094457030296326,0.079155698418617,0.030569624155760,-0.043502777814865,-0.125993892550468,-0.175427302718163,-0.064954683184624,-0.043166793882847,0.057996321469545,-0.051447629928589,-0.248967036604881,-0.067345269024372,-0.044252261519432,0.129344567656517,-0.006721345707774,0.083239793777466));
res += mul(Get(s2,-dx,dy), float4x4(0.051652602851391,-0.037046637386084,0.092278286814690,-0.105726636946201,-0.081484757363796,-0.030668860301375,-0.062729716300964,0.101735554635525,0.022553874179721,-0.111951567232609,0.010796681046486,0.115190356969833,0.021587252616882,0.245935976505280,-0.113866455852985,0.138807177543640));
res += mul(Get(s2,0,-dy), float4x4(0.062561109662056,0.030236214399338,0.063431195914745,0.142601311206818,-0.126971155405045,-0.122768618166447,0.006066919304430,-0.123321846127510,0.096636213362217,-0.014115836471319,0.026125622913241,0.042644403874874,0.155194684863091,-0.048930037766695,0.108262307941914,0.029822837561369));
res += mul(Get(s2,0,0), float4x4(-0.055789053440094,-0.054817747324705,-0.094416506588459,0.112768679857254,0.102913886308670,-0.185784518718719,0.036835797131062,0.217692747712135,0.005989527795464,0.144814088940620,0.031172266229987,0.243022114038467,0.036175690591335,0.093402668833733,0.084854252636433,0.014452401548624));
res += mul(Get(s2,0,dy), float4x4(0.038322824984789,-0.085992202162743,0.107680328190327,-0.068402193486691,-0.056570760905743,-0.034621622413397,0.130671054124832,0.047580301761627,0.018803715705872,-0.000681784935296,-0.045503191649914,-0.015806581825018,0.051826070994139,-0.070420019328594,0.007504846900702,0.033150285482407));
res += mul(Get(s2,dx,-dy), float4x4(0.016435228288174,0.001561820507050,-0.179411217570305,-0.169057965278625,0.061328593641520,0.018992844969034,0.098546959459782,-0.136622980237007,-0.088335551321507,0.075039751827717,-0.122683480381966,0.076120004057884,0.053194306790829,-0.092603050172329,0.067198529839516,-0.228717401623726));
res += mul(Get(s2,dx,0), float4x4(-0.119934089481831,0.032621387392282,0.195101767778397,0.154916778206825,-0.164119988679886,-0.010372792370617,0.289704680442810,-0.031422540545464,0.001657761749811,0.180559232831001,-0.038664285093546,0.005100265145302,0.124019473791122,-0.047054372727871,0.238076284527779,0.114325083792210));
res += mul(Get(s2,dx,dy), float4x4(0.044038541615009,-0.140637293457985,0.142996773123741,0.046428613364697,-0.176641613245010,-0.142742201685905,-0.044361028820276,0.063703566789627,-0.099736608564854,0.044896151870489,0.226471975445747,0.044407926499844,0.067775815725327,0.013986724428833,0.101071730256081,-0.013266710564494));
res += mul(Get(s3,-dx,-dy), float4x4(-0.006688898894936,-0.111993357539177,-0.001768250716850,-0.083231128752232,0.045851688832045,0.106445699930191,-0.192573502659798,-0.187905177474022,-0.114469483494759,0.045151673257351,-0.122961640357971,-0.050927154719830,-0.083124935626984,0.118331946432590,-0.052034500986338,-0.021357448771596));
res += mul(Get(s3,-dx,0), float4x4(-0.049352455884218,-0.165599599480629,0.047225061804056,0.014065193012357,-0.060500316321850,-0.083595432341099,-0.125612989068031,0.108543261885643,-0.001226795138791,0.070214778184891,0.188464641571045,-0.060514878481627,0.000106628780486,-0.102289505302906,0.040247388184071,0.054517250508070));
res += mul(Get(s3,-dx,dy), float4x4(0.026664115488529,-0.036597684025764,0.059854947030544,0.069266468286514,0.186176076531410,0.140877529978752,0.083217374980450,0.121989555656910,0.024896150454879,-0.061770711094141,-0.020776849240065,0.208249241113663,-0.097950205206871,0.029371086508036,-0.123114593327045,0.076351426541805));
res += mul(Get(s3,0,-dy), float4x4(-0.166775688529015,0.009770588018000,0.032177045941353,0.082745745778084,0.028342543169856,-0.105884380638599,-0.163848310709000,-0.161290898919106,-0.041711945086718,0.034890819340944,0.051534827798605,-0.015525526367128,0.016337746754289,0.109870553016663,0.047647166997194,0.153580173850060));
res += mul(Get(s3,0,0), float4x4(0.026316631585360,0.077026568353176,0.135156929492950,-0.137141555547714,0.008264040574431,-0.083821304142475,-0.029689392074943,0.102115601301193,0.186510682106018,-0.077719539403915,0.162660464644432,0.047960553318262,0.090914241969585,-0.023238273337483,0.331589877605438,-0.029803786426783));
res += mul(Get(s3,0,dy), float4x4(0.065942175686359,-0.015269202180207,0.176141262054443,0.084900438785553,-0.090328380465508,-0.056556362658739,-0.067802749574184,-0.049433778971434,0.139846906065941,-0.051725197583437,-0.065785408020020,0.022812502458692,-0.119630225002766,-0.237964078783989,-0.072388790547848,0.040487561374903));
res += mul(Get(s3,dx,-dy), float4x4(-0.055204410105944,-0.088869318366051,-0.113336816430092,0.139109522104263,-0.031480286270380,-0.017351966351271,-0.026890063658357,-0.035226006060839,0.142623499035835,-0.083200484514236,0.111745893955231,0.027725281193852,-0.034890148788691,0.077238067984581,0.063876703381538,-0.023913960903883));
res += mul(Get(s3,dx,0), float4x4(0.055286176502705,0.129621595144272,-0.106597684323788,0.010350497439504,-0.137409791350365,-0.259958237409592,0.008714543655515,0.172959282994270,0.079622693359852,-0.014730828814209,0.094834856688976,-0.136718258261681,-0.129292652010918,0.011988471262157,0.098313413560390,0.036908894777298));
res += mul(Get(s3,dx,dy), float4x4(0.019995568320155,0.353862494230270,0.103096634149551,0.148874774575233,0.013686313293874,0.010397725738585,-0.062904283404350,0.179880812764168,0.067636311054230,0.023860810324550,0.062116835266352,0.011444601230323,0.083846107125282,0.152292668819427,0.151138097047806,0.208166554570198));
return max(float4(0,0,0,0), res);
}
