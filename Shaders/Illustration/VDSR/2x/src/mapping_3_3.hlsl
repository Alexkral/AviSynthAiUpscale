sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.129054963588715,0.027202835306525,0.040739376097918,0.044506657868624,-0.188137367367744,0.054685961455107,0.191273942589760,-0.061957448720932,-0.012424655258656,-0.011000451631844,-0.048632811754942,0.040271416306496,0.085541620850563,0.033375225961208,-0.101100824773312,0.098759993910789));
res += mul(Get(s0,-dx,0), float4x4(-0.008355080150068,0.028747797012329,-0.004590164870024,-0.051641874015331,0.169763162732124,0.018807565793395,0.049439541995525,-0.034784853458405,0.107408210635185,-0.092940114438534,0.088541835546494,0.004849677439779,-0.033118557184935,-0.033525872975588,-0.041556306183338,-0.033371355384588));
res += mul(Get(s0,-dx,dy), float4x4(-0.064026445150375,0.163814216852188,-0.055692825466394,-0.154046297073364,-0.008935849182308,-0.258132219314575,-0.076116055250168,0.006618811748922,0.059830654412508,-0.060770187526941,0.042903110384941,-0.066380567848682,-0.007979542016983,-0.111834637820721,0.004871699959040,-0.031766667962074));
res += mul(Get(s0,0,-dy), float4x4(0.073948591947556,0.027586130425334,-0.016371380537748,0.006524368189275,-0.093059800565243,0.004142153542489,0.087140977382660,0.100911706686020,0.049890417605639,-0.015423058532178,0.090505428612232,0.102141179144382,0.151853516697884,-0.051591686904430,-0.088331684470177,-0.064188331365585));
res += mul(Get(s0,0,0), float4x4(0.012007508426905,-0.020957697182894,-0.056781053543091,-0.017653586342931,0.190812647342682,0.328924477100372,-0.001060201553628,0.300671726465225,0.202844321727753,0.033335626125336,0.078388020396233,0.022442150861025,0.047995101660490,-0.168156996369362,-0.097612634301186,0.049254998564720));
res += mul(Get(s0,0,dy), float4x4(0.014276970177889,0.022039080038667,-0.053626559674740,-0.086324512958527,-0.058729827404022,0.188390627503395,-0.077577017247677,-0.078485071659088,-0.014560884796083,-0.040077112615108,-0.022248411551118,0.013049004599452,0.037452884018421,-0.195784583687782,-0.174925521016121,0.277859896421432));
res += mul(Get(s0,dx,-dy), float4x4(0.063238508999348,-0.039278667420149,0.027789119631052,0.027318218722939,0.066718704998493,0.042875282466412,-0.000129630396259,-0.102116174995899,0.035683188587427,-0.007037796545774,-0.096846587955952,0.116327978670597,0.014528416097164,0.006619003601372,-0.149846717715263,-0.029008591547608));
res += mul(Get(s0,dx,0), float4x4(-0.049838136881590,-0.034852042794228,-0.004775873385370,0.087499760091305,-0.046115893870592,-0.020304502919316,0.090845704078674,0.072575055062771,-0.030084040015936,0.032432876527309,0.092246212065220,0.044670268893242,-0.081732809543610,-0.039390124380589,0.006919271778315,-0.026995306834579));
res += mul(Get(s0,dx,dy), float4x4(0.003649899968877,-0.084717720746994,0.021437354385853,-0.122278533875942,0.008786329999566,-0.076365821063519,0.037505153566599,0.042614828795195,-0.028581496328115,-0.055394973605871,0.159876003861427,0.013936143368483,-0.140389859676361,-0.097261734306812,-0.044586606323719,0.082110702991486));
res += mul(Get(s1,-dx,-dy), float4x4(-0.223685517907143,-0.046475216746330,0.164376467466354,-0.067971713840961,0.039168678224087,-0.034592911601067,-0.031564835458994,0.233468741178513,-0.123259045183659,-0.001104823779315,0.117958322167397,0.050181359052658,-0.137050777673721,-0.024002876132727,0.035748776048422,-0.058344118297100));
res += mul(Get(s1,-dx,0), float4x4(0.046256758272648,-0.104979559779167,0.041210275143385,0.047331269830465,-0.044911362230778,-0.021372517570853,-0.041936825960875,0.011144728399813,0.021754929795861,-0.046834368258715,0.010559204965830,-0.066106088459492,0.012944911606610,0.028024980798364,0.038940154016018,-0.017699474468827));
res += mul(Get(s1,-dx,dy), float4x4(-0.099755644798279,-0.075999476015568,0.090276509523392,-0.100314758718014,0.037941217422485,-0.065768107771873,-0.052948378026485,0.003694105427712,-0.021163051947951,-0.000980751006864,-0.091718636453152,-0.107427239418030,-0.089245922863483,0.015742575749755,-0.003355442313477,-0.008039977401495));
res += mul(Get(s1,0,-dy), float4x4(0.326004296541214,0.011028146371245,0.019612031057477,-0.048960976302624,-0.053192406892776,-0.086774222552776,0.178298830986023,-0.132865116000175,0.057793565094471,0.020913263782859,0.103004731237888,0.097023800015450,0.098994843661785,0.015716401860118,0.024622889235616,0.006869848817587));
res += mul(Get(s1,0,0), float4x4(0.116763353347778,-0.063423365354538,-0.110055714845657,0.050692301243544,-0.146290868520737,-0.097554042935371,0.194317027926445,0.023839829489589,-0.008996676653624,-0.058647606521845,-0.069443665444851,0.102801881730556,0.001549043576233,-0.026619847863913,-0.007886072620749,-0.004161198157817));
res += mul(Get(s1,0,dy), float4x4(-0.056543745100498,-0.100278764963150,-0.051456902176142,-0.095167703926563,0.026144009083509,-0.139980942010880,-0.038768347352743,0.013320146128535,-0.051181253045797,-0.088079467415810,-0.042482316493988,0.035633996129036,-0.047419656068087,0.177080661058426,0.067686371505260,-0.030508670955896));
res += mul(Get(s1,dx,-dy), float4x4(-0.074529759585857,-0.083461783826351,0.024927835911512,-0.022633906453848,0.051928818225861,0.046635460108519,-0.051460448652506,-0.190033882856369,0.042644247412682,-0.065227352082729,-0.086612209677696,-0.173388555645943,0.068037323653698,-0.008168154396117,-0.059241328388453,-0.001250014989637));
res += mul(Get(s1,dx,0), float4x4(0.013213406316936,-0.102574773132801,-0.185288801789284,-0.063652843236923,-0.143631845712662,-0.022924296557903,-0.095840536057949,-0.063899517059326,-0.029106764122844,-0.044932663440704,-0.088808141648769,-0.118074059486389,-0.142408862709999,-0.056114215403795,-0.079304963350296,-0.092458203434944));
res += mul(Get(s1,dx,dy), float4x4(-0.013105459511280,-0.095719560980797,-0.009408751502633,-0.020859219133854,-0.000829488679301,-0.103067487478256,-0.176079809665680,0.156535848975182,-0.032276622951031,-0.062060050666332,-0.023944184184074,0.043935202062130,-0.133356094360352,-0.057075660675764,0.067247577011585,-0.077752985060215));
res += mul(Get(s2,-dx,-dy), float4x4(0.063613727688789,-0.012730921618640,-0.159781381487846,0.034438572824001,0.096172936260700,-0.001731066382490,0.006425432860851,0.040296185761690,-0.097155138850212,-0.063937745988369,-0.201648712158203,0.094556592404842,0.026007294654846,-0.018886944279075,0.062664911150932,-0.019502045586705));
res += mul(Get(s2,-dx,0), float4x4(0.030517339706421,-0.058204568922520,-0.053633920848370,0.055681880563498,0.054641474038363,0.014211820438504,-0.032229676842690,0.107415400445461,-0.042194038629532,-0.166693910956383,-0.086220316588879,-0.027071682736278,0.048126380890608,-0.037137035280466,0.018100094050169,0.077847965061665));
res += mul(Get(s2,-dx,dy), float4x4(-0.118478879332542,-0.110089726746082,0.275878190994263,-0.071616068482399,0.021042071282864,0.049930665642023,0.056646198034286,0.122601129114628,-0.004183962475508,-0.131112128496170,0.017687002196908,0.056875102221966,0.068714477121830,-0.052775375545025,-0.017004804685712,0.073451548814774));
res += mul(Get(s2,0,-dy), float4x4(-0.057611525058746,-0.053289297968149,-0.066314689815044,-0.061333816498518,0.004644354805350,0.142263740301132,0.028260398656130,-0.035044673830271,-0.082435436546803,-0.023954879492521,-0.240899875760078,0.092330321669579,0.064056247472763,-0.001218259218149,0.033001568168402,0.058555819094181));
res += mul(Get(s2,0,0), float4x4(-0.037663836032152,-0.103626735508442,0.079247407615185,-0.012560511007905,0.046310815960169,0.107896812260151,0.052607614547014,-0.124452777206898,-0.182329937815666,0.092849351465702,-0.080173872411251,-0.156048119068146,0.067668780684471,-0.043188661336899,-0.030775893479586,0.052691038697958));
res += mul(Get(s2,0,dy), float4x4(0.037685878574848,-0.166103750467300,0.084419071674347,-0.050169520080090,0.090551652014256,0.074932552874088,-0.009064856916666,-0.016385577619076,0.030695823952556,0.030130475759506,0.071208916604519,0.033878039568663,0.096129119396210,-0.087538115680218,-0.014778621494770,0.070775099098682));
res += mul(Get(s2,dx,-dy), float4x4(-0.195665270090103,-0.079040199518204,-0.041587948799133,0.066267468035221,0.036735374480486,0.020104926079512,0.040506333112717,0.041213888674974,0.006035783793777,0.151089966297150,-0.184204518795013,0.105298727750778,0.151105418801308,-0.040800489485264,-0.002918753074482,0.064515285193920));
res += mul(Get(s2,dx,0), float4x4(0.148107737302780,-0.016535690054297,-0.066844597458839,0.018402054905891,0.005199539475143,0.080961331725121,0.043794333934784,0.082402154803276,0.158241391181946,0.182099089026451,-0.220127314329147,0.033256031572819,0.001509857014753,-0.099295400083065,0.006981404032558,0.031926400959492));
res += mul(Get(s2,dx,dy), float4x4(0.110085360705853,-0.100204415619373,-0.168911233544350,-0.015085075981915,0.066196724772453,-0.036586381494999,0.068761326372623,0.061407070606947,0.250746339559555,0.065194278955460,-0.009249642491341,0.086023069918156,0.138955846428871,-0.024736970663071,0.023911410942674,0.098295971751213));
res += mul(Get(s3,-dx,-dy), float4x4(-0.006519813090563,0.079965978860855,0.025651138275862,0.086913518607616,0.008854002691805,-0.099134743213654,0.057147663086653,0.119692556560040,0.158839553594589,-0.017900172621012,-0.014487473294139,0.006855618208647,-0.002695420989767,0.014494460076094,-0.018682686612010,0.078408583998680));
res += mul(Get(s3,-dx,0), float4x4(-0.008615831844509,0.163010030984879,0.100739948451519,-0.114064440131187,0.015951305627823,0.039309523999691,-0.172481343150139,-0.066974148154259,-0.026516731828451,-0.088919878005981,-0.025334848091006,0.019441269338131,-0.015191061422229,0.035005919635296,-0.120047025382519,-0.124195143580437));
res += mul(Get(s3,-dx,dy), float4x4(0.015546642243862,0.071297913789749,-0.093875020742416,-0.065238654613495,-0.080864891409874,-0.156111255288124,0.030649412423372,0.009331865236163,0.079013511538506,-0.056665994226933,0.217103093862534,0.014335615560412,0.033265177160501,0.077431239187717,-0.049014054238796,-0.054921954870224));
res += mul(Get(s3,0,-dy), float4x4(0.103540703654289,-0.079016089439392,-0.020304476842284,0.093613497912884,0.009027541615069,0.047901794314384,0.085543431341648,0.459780007600784,0.021255426108837,0.083979651331902,0.036350943148136,-0.074222110211849,-0.016018366441131,0.012583449482918,-0.043846718966961,0.142615586519241));
res += mul(Get(s3,0,0), float4x4(0.008141188882291,-0.111142300069332,-0.059550657868385,0.075242578983307,-0.147759646177292,0.149498105049133,0.006481997668743,-0.225402295589447,0.084656991064548,0.040667172521353,0.014391642995179,-0.050426602363586,-0.036734614521265,0.015984959900379,0.078465670347214,0.026391146704555));
res += mul(Get(s3,0,dy), float4x4(0.042279701679945,0.024961898103356,0.076972007751465,-0.078402303159237,0.051485817879438,0.055882345885038,0.209002584218979,-0.212250530719757,0.152862027287483,-0.070972763001919,-0.073057554662228,0.019132046028972,0.055531185120344,0.144083961844444,0.206663832068443,0.001727400929667));
res += mul(Get(s3,dx,-dy), float4x4(-0.022438533604145,0.075335912406445,0.060910996049643,0.008652156218886,0.012168666347861,0.039157386869192,-0.019649229943752,-0.028225157409906,-0.022999491542578,0.024815950542688,0.014940599910915,-0.079155631363392,-0.030875107273459,0.042704727500677,-0.010208267718554,-0.139664888381958));
res += mul(Get(s3,dx,0), float4x4(-0.012052699923515,0.016794348135591,-0.037502154707909,-0.034800752997398,-0.147114574909210,-0.164456620812416,-0.124792516231537,-0.082113258540630,0.213817983865738,0.079219110310078,0.087452746927738,0.006153200753033,0.032499905675650,-0.034144315868616,-0.058778133243322,0.020932113751769));
res += mul(Get(s3,dx,dy), float4x4(-0.011328462511301,0.163083657622337,0.049251601099968,0.009963928721845,0.153129592537880,0.365206569433212,0.167674556374550,0.098056554794312,0.088538549840450,-0.117289714515209,-0.087644048035145,0.010853081941605,0.125892877578735,0.023619832471013,-0.056645233184099,0.051628716289997));
return max(float4(0,0,0,0), res);
}
