sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.077388525009155,-0.007856733165681,-0.001758078928106,-0.019722638651729,-0.061753526329994,0.130052685737610,0.058274958282709,0.025249915197492,0.137447372078896,0.041625738143921,0.108848705887794,0.075988806784153,0.052318509668112,0.076100431382656,0.062892831861973,-0.078215464949608));
res += mul(Get(s0,-dx,0), float4x4(-0.089388400316238,0.063185751438141,0.024475704878569,0.157098710536957,0.099241986870766,-0.120964013040066,0.012341653928161,0.218061402440071,0.112623184919357,-0.123957023024559,0.066657118499279,0.033115971833467,-0.140264317393303,0.066525295376778,-0.068762108683586,0.118726842105389));
res += mul(Get(s0,-dx,dy), float4x4(-0.011604194529355,-0.034690640866756,-0.147246107459068,0.046006023883820,0.006571485195309,-0.169242724776268,0.051598627120256,0.131127312779427,0.061423581093550,-0.091401487588882,0.132145449519157,-0.087891705334187,-0.053658805787563,-0.008217980153859,-0.057343814522028,-0.073346085846424));
res += mul(Get(s0,0,-dy), float4x4(0.136668905615807,0.049886915832758,0.134899362921715,-0.134315550327301,0.092551991343498,0.166162490844727,0.057076197117567,0.107664175331593,-0.060593735426664,0.045132905244827,-0.062168918550014,0.047028526663780,-0.198818027973175,-0.001607842743397,0.017263755202293,-0.206300631165504));
res += mul(Get(s0,0,0), float4x4(-0.138354152441025,0.023539980873466,0.079495213925838,0.007121728733182,0.101153872907162,0.018064135685563,-0.076874881982803,0.172967329621315,-0.126833528280258,0.140512213110924,0.094590641558170,-0.109518468379974,0.112815022468567,-0.023884387686849,-0.101496748626232,0.087532892823219));
res += mul(Get(s0,0,dy), float4x4(0.030275765806437,0.064570739865303,-0.112335361540318,0.039742011576891,-0.007586743216962,-0.144907340407372,0.087430059909821,0.188843935728073,0.110785417258739,0.123998776078224,-0.030405702069402,-0.073513828217983,0.026949277147651,-0.123868055641651,0.106270693242550,0.263119429349899));
res += mul(Get(s0,dx,-dy), float4x4(-0.168805971741676,0.053148742765188,-0.047860853374004,0.091658592224121,0.051663115620613,0.034400921314955,-0.066767849028111,-0.116825498640537,0.177542760968208,-0.033511500805616,-0.036928128451109,0.136124283075333,0.004151734057814,0.017047515138984,0.092388704419136,-0.131877869367599));
res += mul(Get(s0,dx,0), float4x4(-0.014051320031285,0.056320197880268,-0.041582886129618,0.041694205254316,0.036672059446573,0.247568458318710,0.077247962355614,0.062779963016510,-0.004044007509947,-0.144671455025673,-0.009319654665887,0.053997624665499,-0.036740951240063,0.005157052073628,0.029781538993120,-0.016311781480908));
res += mul(Get(s0,dx,dy), float4x4(0.014406820759177,-0.074588611721992,0.006271782331169,0.045551445335150,0.110655196011066,0.144256576895714,-0.066921308636665,0.020101165398955,-0.028638031333685,-0.045571427792311,0.098591849207878,0.155336141586304,-0.196266278624535,0.018131278455257,-0.095961868762970,-0.067280426621437));
res += mul(Get(s1,-dx,-dy), float4x4(0.030783794820309,0.021807525306940,-0.131707817316055,-0.015467611141503,0.073268167674541,0.062461830675602,-0.194841966032982,0.137221232056618,0.119999408721924,0.017035396769643,0.045515436679125,-0.000704736565240,0.027915485203266,-0.028060995042324,-0.036093596369028,0.116609968245029));
res += mul(Get(s1,-dx,0), float4x4(-0.101885572075844,0.009587782435119,-0.131410449743271,0.160313561558723,-0.128262236714363,-0.018343493342400,0.117822311818600,0.082629680633545,0.060416739434004,-0.060522429645061,0.003977499436587,0.040595587342978,0.092691242694855,0.183920502662659,0.008294991217554,-0.033910367637873));
res += mul(Get(s1,-dx,dy), float4x4(-0.003423352725804,-0.099353246390820,0.035746604204178,0.034908343106508,-0.100378096103668,0.042891766875982,-0.008107051253319,-0.065834373235703,-0.012697054073215,-0.112508967518806,-0.026180241256952,0.147246390581131,0.164161264896393,-0.001290539512411,-0.142023086547852,-0.055622886866331));
res += mul(Get(s1,0,-dy), float4x4(0.038031581789255,0.255681604146957,-0.058604408055544,-0.002384205581620,0.021706104278564,0.046346746385098,-0.003216237062588,0.015681637451053,-0.034148987382650,-0.100016482174397,0.052584756165743,-0.037175368517637,-0.182756930589676,-0.109244041144848,-0.120841033756733,-0.054104488343000));
res += mul(Get(s1,0,0), float4x4(0.024472836405039,0.104983605444431,-0.010970734991133,0.201544448733330,-0.004224923439324,0.005975410807878,0.193526312708855,0.097347073256969,-0.106345176696777,0.174349844455719,-0.090975187718868,-0.077320598065853,-0.036639772355556,-0.054712433367968,0.052721712738276,-0.037915267050266));
res += mul(Get(s1,0,dy), float4x4(-0.114337615668774,0.118179872632027,-0.069094277918339,-0.067562319338322,0.032527957111597,-0.059533156454563,-0.005103000439703,-0.027924647554755,0.085614457726479,0.008958502672613,-0.088405758142471,0.017365317791700,-0.006310269236565,-0.092246636748314,-0.100172519683838,0.146486997604370));
res += mul(Get(s1,dx,-dy), float4x4(-0.068761833012104,-0.172342091798782,0.020614996552467,-0.058274608105421,-0.103809863328934,-0.084735721349716,0.084034509956837,-0.037555471062660,0.083307288587093,-0.099319390952587,0.089047983288765,-0.219635605812073,-0.116384029388428,0.134232908487320,0.016014352440834,-0.045471567660570));
res += mul(Get(s1,dx,0), float4x4(-0.062734276056290,0.097027793526649,-0.047414161264896,0.055135414004326,-0.140294879674911,0.036125712096691,0.015687981620431,-0.014487165026367,-0.015544291585684,-0.103871479630470,0.061694487929344,-0.088737510144711,-0.011532543227077,0.216702148318291,-0.145229130983353,-0.127702325582504));
res += mul(Get(s1,dx,dy), float4x4(0.067667558789253,0.042316712439060,0.067951492965221,-0.198916569352150,-0.006093809381127,0.075297385454178,0.090024642646313,0.171520799398422,0.037210460752249,-0.069521896541119,0.052676953375340,-0.097704172134399,0.092182189226151,0.146803706884384,-0.042178899049759,0.009520740248263));
res += mul(Get(s2,-dx,-dy), float4x4(-0.053494993597269,0.030183501541615,-0.045923143625259,-0.052972648292780,0.067519754171371,0.000775930879172,0.025860965251923,0.063293024897575,0.065517731010914,0.065923273563385,0.049801614135504,-0.045183569192886,-0.024252494797111,0.083132758736610,-0.123643450438976,-0.011628348380327));
res += mul(Get(s2,-dx,0), float4x4(-0.171860769391060,0.120652325451374,0.061477128416300,0.017407923936844,-0.163368448615074,-0.168458506464958,-0.070885255932808,-0.088583171367645,0.202400058507919,0.160187467932701,0.022475313395262,-0.151437550783157,0.063149861991405,-0.043349213898182,0.085167631506920,-0.073749043047428));
res += mul(Get(s2,-dx,dy), float4x4(-0.075648747384548,0.042369086295366,-0.038215227425098,-0.014555517584085,0.160051494836807,0.086677134037018,-0.154877901077271,0.131342589855194,0.117214553058147,0.049675945192575,-0.095403589308262,-0.083601534366608,0.033813402056694,-0.072943210601807,0.093072839081287,-0.160146236419678));
res += mul(Get(s2,0,-dy), float4x4(0.044123813509941,-0.091570876538754,0.053446739912033,-0.143116295337677,-0.062986962497234,-0.142570331692696,0.031542032957077,-0.250410795211792,0.003653769847006,-0.141419515013695,0.011839566752315,-0.090168684720993,-0.014728704467416,-0.096352890133858,0.088531523942947,0.137417614459991));
res += mul(Get(s2,0,0), float4x4(-0.047263123095036,-0.157785758376122,-0.099788315594196,-0.054438311606646,-0.034563731402159,-0.002690991619602,-0.001652307575569,0.127470031380653,0.053778339177370,-0.015668200328946,-0.014540941454470,0.098113842308521,-0.212224692106247,0.037906978279352,-0.158581480383873,0.263579249382019));
res += mul(Get(s2,0,dy), float4x4(0.123189724981785,-0.019546719267964,-0.159965962171555,-0.057019699364901,-0.142075434327126,-0.027404543012381,-0.176952868700027,0.014625973999500,0.020761756226420,0.109174206852913,0.017461944371462,0.008800766430795,-0.129201233386993,0.044212751090527,0.039802279323339,0.079388231039047));
res += mul(Get(s2,dx,-dy), float4x4(-0.046110317111015,-0.172443777322769,-0.106536909937859,-0.006011256482452,-0.094188243150711,-0.105533950030804,0.173197343945503,0.029628921300173,0.047455526888371,0.030301233753562,-0.038453646004200,0.164086222648621,0.149625897407532,-0.039826616644859,-0.093071557581425,0.175923749804497));
res += mul(Get(s2,dx,0), float4x4(0.070536226034164,-0.088697962462902,0.109449282288551,-0.040291897952557,-0.045553561300039,-0.143051847815514,-0.194061845541000,0.328405678272247,-0.200633406639099,-0.051744729280472,0.057466134428978,-0.082709468901157,0.030481228604913,-0.140940457582474,0.079229749739170,-0.007208580151200));
res += mul(Get(s2,dx,dy), float4x4(0.021135935559869,-0.056037947535515,0.008974746800959,0.124868333339691,-0.126860439777374,0.008406168781221,-0.026056686416268,-0.001008984632790,-0.090061955153942,0.025787234306335,-0.051910679787397,0.029853338375688,0.009772067889571,-0.003859712742269,0.086951047182083,0.073366455733776));
res += mul(Get(s3,-dx,-dy), float4x4(-0.028243534266949,-0.068808801472187,0.066357381641865,0.215200334787369,0.042160674929619,-0.163933813571930,0.016274679452181,-0.099211640655994,-0.113262630999088,-0.026056127622724,0.123017564415932,0.263624399900436,-0.096052691340446,-0.063308522105217,-0.016640711575747,-0.335658907890320));
res += mul(Get(s3,-dx,0), float4x4(0.277839034795761,-0.009687457233667,0.164874374866486,0.039644382894039,-0.110491156578064,-0.008754709735513,0.141025036573410,0.174836426973343,-0.199111580848694,-0.189705401659012,0.010498615913093,0.200695589184761,0.095875881612301,0.086456343531609,-0.140253037214279,-0.064162306487560));
res += mul(Get(s3,-dx,dy), float4x4(-0.067817457020283,0.092196255922318,-0.146230533719063,-0.105003364384174,0.115291848778725,-0.011588988825679,-0.134295493364334,0.041206847876310,0.161816716194153,-0.195496574044228,0.027943778783083,0.063681632280350,0.168125584721565,0.021162852644920,-0.081577554345131,-0.120564311742783));
res += mul(Get(s3,0,-dy), float4x4(-0.009409056976438,0.025804178789258,0.021642252802849,-0.034462917596102,0.059239234775305,0.140607014298439,-0.085330970585346,0.068166412413120,0.014975141733885,0.057495940476656,-0.086372897028923,-0.119000658392906,-0.018823456019163,-0.010234404355288,-0.115622147917747,-0.109389550983906));
res += mul(Get(s3,0,0), float4x4(0.046384096145630,-0.083164677023888,0.145336925983429,-0.032715499401093,0.143406838178635,0.071141868829727,0.030542254447937,-0.187327295541763,0.058708280324936,0.078037180006504,-0.158497706055641,-0.299224615097046,-0.069425858557224,-0.101192295551300,-0.233407989144325,0.075748242437840));
res += mul(Get(s3,0,dy), float4x4(0.143319398164749,0.150670602917671,-0.001031909836456,-0.168534338474274,-0.053155269473791,0.024017963558435,-0.026193480938673,-0.071111664175987,0.028891902416945,-0.002938265213743,-0.236397385597229,0.049507137387991,0.020809615030885,0.015664946287870,0.085417658090591,0.101485177874565));
res += mul(Get(s3,dx,-dy), float4x4(-0.013082879595459,-0.091259695589542,-0.010752978734672,-0.139843672513962,0.002919656224549,-0.105136349797249,-0.089507199823856,-0.081800065934658,0.101088665425777,0.083649501204491,0.189862832427025,-0.040290549397469,-0.078308798372746,0.023270014673471,-0.096811033785343,-0.021549256518483));
res += mul(Get(s3,dx,0), float4x4(0.088265724480152,-0.037993580102921,-0.076219558715820,-0.207816988229752,-0.075497284531593,0.008500722236931,0.075015567243099,0.093997471034527,0.142253518104553,0.032594475895166,0.054824184626341,-0.040109843015671,-0.072919018566608,-0.167448371648788,0.022610336542130,-0.044466968625784));
res += mul(Get(s3,dx,dy), float4x4(0.107851572334766,-0.002799321664497,0.104399077594280,-0.047169074416161,-0.183943420648575,-0.066044934093952,-0.062326289713383,0.104638926684856,-0.044318731874228,-0.173217847943306,0.121958576142788,0.081157036125660,0.077783480286598,0.053328838199377,0.034689668565989,0.078519500792027));
return max(float4(0,0,0,0), res);
}
