sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.060435153543949,0.111099660396576,0.016289548948407,-0.001332924235612,0.033717881888151,-0.184546917676926,-0.040415778756142,0.156544595956802,0.125442147254944,-0.094530254602432,-0.094579100608826,-0.063025049865246,-0.042908035218716,-0.040683008730412,-0.191746219992638,-0.148883610963821));
res += mul(Get(s0,-dx,0), float4x4(0.030940322205424,-0.075516670942307,-0.038163870573044,-0.027300370857120,0.045537807047367,0.106127850711346,0.010081247426569,0.268505811691284,0.101693883538246,-0.067540824413300,-0.028593048453331,-0.098995044827461,-0.009539395570755,0.090265847742558,-0.035771604627371,-0.108815193176270));
res += mul(Get(s0,-dx,dy), float4x4(0.006863358896226,-0.061044711619616,0.078890904784203,-0.000823846145067,0.054989699274302,-0.006383648607880,0.005824209656566,0.001151639618911,0.053763721138239,0.022951584309340,0.047786585986614,0.053663589060307,0.133777633309364,0.050246018916368,0.025017721578479,-0.002952676964924));
res += mul(Get(s0,0,-dy), float4x4(-0.015713205561042,0.032369744032621,-0.102077215909958,-0.071398168802261,-0.068501457571983,0.084551692008972,-0.102360598742962,-0.159049019217491,0.012822399847209,-0.087755873799324,-0.088550589978695,-0.063973575830460,-0.046183567494154,-0.074748165905476,-0.150545284152031,-0.011130979284644));
res += mul(Get(s0,0,0), float4x4(0.253743946552277,-0.068999618291855,-0.015001913532615,0.013928123749793,-0.022946726530790,0.437803834676743,-0.086649984121323,-0.000844521622639,0.019647900015116,-0.116107113659382,0.370145291090012,-0.126290291547775,0.115434788167477,0.061606518924236,0.054823234677315,-0.077278137207031));
res += mul(Get(s0,0,dy), float4x4(0.045563358813524,0.050663523375988,0.035010721534491,0.060138948261738,-0.073961086571217,0.090418003499508,-0.056420348584652,0.056640546768904,-0.040428489446640,0.111327454447746,-0.108411923050880,-0.072442889213562,0.078587733209133,-0.038969490677118,0.053438916802406,0.076416537165642));
res += mul(Get(s0,dx,-dy), float4x4(0.110602155327797,0.104974351823330,-0.102211922407150,0.038006853312254,-0.048501137644053,0.008489205501974,-0.022966155782342,0.005206333938986,-0.115894496440887,-0.079491041600704,0.040164366364479,-0.104078620672226,0.044251404702663,-0.086420401930809,-0.075219027698040,-0.020724225789309));
res += mul(Get(s0,dx,0), float4x4(0.147818520665169,-0.115042582154274,-0.124737165868282,0.075861044228077,-0.126315280795097,0.019198998808861,0.006182419136167,-0.130555003881454,-0.157282680273056,-0.059973690658808,0.051590345799923,-0.151165366172791,0.151039153337479,0.051808863878250,-0.023925576359034,-0.050629366189241));
res += mul(Get(s0,dx,dy), float4x4(-0.086848884820938,-0.111645027995110,0.019576976075768,0.137116149067879,-0.179004654288292,-0.139556184411049,0.021913113072515,0.069725438952446,-0.148888140916824,0.143398314714432,0.023439010605216,-0.072016641497612,0.068460635840893,-0.072057045996189,0.044662944972515,0.064138807356358));
res += mul(Get(s1,-dx,-dy), float4x4(-0.056190907955170,-0.005099106114358,0.006900692358613,-0.007417701650411,0.032771639525890,0.001908686244860,0.010851006954908,0.095264807343483,0.010156055912375,-0.077907465398312,0.030956041067839,-0.134074315428734,0.049231402575970,-0.088915333151817,-0.072732448577881,0.017973437905312));
res += mul(Get(s1,-dx,0), float4x4(-0.029974130913615,0.074543580412865,-0.019954692572355,0.034325983375311,0.022110244259238,-0.003752422286198,-0.067914023995399,0.064773045480251,0.016638096421957,-0.097759142518044,0.546550929546356,-0.240006402134895,0.002725450554863,0.002809074940160,-0.005751299206167,0.029839444905519));
res += mul(Get(s1,-dx,dy), float4x4(-0.148992210626602,-0.111968748271465,0.115994669497013,0.077236272394657,-0.069799348711967,-0.018102204427123,0.066417105495930,-0.088972605764866,0.086533471941948,0.049583084881306,0.057622540742159,-0.066605582833290,0.025033917278051,0.037521779537201,-0.109481528401375,0.111011005938053));
res += mul(Get(s1,0,-dy), float4x4(0.024837579578161,0.017355708405375,0.023047339171171,-0.014713339507580,0.021107263863087,0.119587153196335,-0.085879109799862,0.328548491001129,-0.035836182534695,-0.080083094537258,0.035910949110985,0.062217064201832,-0.002324470551684,0.022400788962841,0.012215699069202,0.039600454270840));
res += mul(Get(s1,0,0), float4x4(-0.072789832949638,-0.072713315486908,0.041993711143732,-0.078119896352291,0.047521203756332,0.018160324543715,-0.107096143066883,0.318869113922119,-0.109617359936237,-0.064717933535576,0.114119119942188,-0.158550158143044,-0.017685573548079,-0.085188835859299,0.025213437154889,-0.004151099827141));
res += mul(Get(s1,0,dy), float4x4(-0.005138473119587,-0.014792772009969,0.184866428375244,-0.062465135008097,-0.000153964952915,-0.033073399215937,-0.083490684628487,0.047831188887358,-0.007910800166428,-0.044763654470444,0.114679962396622,-0.113036878407001,-0.101139262318611,0.133062615990639,0.062986135482788,-0.088082820177078));
res += mul(Get(s1,dx,-dy), float4x4(-0.008903854526579,0.033929262310266,0.013418897986412,0.103304639458656,-0.023258386179805,0.046769503504038,-0.006086641922593,0.164726674556732,0.019062753766775,0.084448128938675,-0.026945620775223,-0.048371389508247,0.025023173540831,0.086176656186581,-0.026671672239900,0.216387182474136));
res += mul(Get(s1,dx,0), float4x4(0.051718931645155,-0.022402949631214,0.011474844999611,-0.006562823429704,0.147062152624130,0.027301115915179,-0.038755495101213,0.182353481650352,-0.119102299213409,0.035395171493292,0.020761409774423,0.043429236859083,-0.017708841711283,-0.083450838923454,0.061043165624142,-0.081671357154846));
res += mul(Get(s1,dx,dy), float4x4(-0.053476754575968,0.026027755811810,0.128647372126579,0.024261003360152,0.102220632135868,0.050639659166336,-0.087352655827999,0.065028935670853,0.091798573732376,0.110164083540440,0.065614826977253,-0.008489619940519,-0.114486634731293,0.080202192068100,0.048298034816980,-0.121280282735825));
res += mul(Get(s2,-dx,-dy), float4x4(0.092031084001064,-0.093932025134563,-0.116336733102798,0.085498861968517,-0.022762807086110,0.193359389901161,0.087417326867580,0.007581850513816,-0.023332247510552,-0.058392822742462,0.022980937734246,-0.041704498231411,0.138412848114967,-0.016273297369480,0.308507740497589,-0.029894446954131));
res += mul(Get(s2,-dx,0), float4x4(0.056297078728676,0.120596863329411,-0.126296371221542,0.240798264741898,-0.008663424290717,0.105051398277283,-0.131809771060944,0.066725917160511,-0.013656532391906,-0.162971600890160,0.045710451900959,-0.142903149127960,0.008459319360554,0.001833871938288,0.005913066677749,0.166037037968636));
res += mul(Get(s2,-dx,dy), float4x4(0.097055286169052,0.012196042574942,-0.038125429302454,0.138918772339821,0.021357242017984,0.032774072140455,-0.048266809433699,0.013645884580910,0.073996737599373,0.097679346799850,0.042864877730608,-0.229118257761002,0.022608542814851,0.076672792434692,0.001759052043781,-0.029991537332535));
res += mul(Get(s2,0,-dy), float4x4(-0.010122689418495,-0.110752783715725,-0.092074409127235,-0.090834774076939,0.046298548579216,-0.101712979376316,0.090413816273212,-0.055866070091724,0.029817493632436,-0.054201547056437,-0.024369854480028,0.083316743373871,-0.083342604339123,0.003411906771362,0.250995635986328,-0.111205123364925));
res += mul(Get(s2,0,0), float4x4(0.046588644385338,0.069928392767906,-0.128769695758820,-0.003716806415468,0.043964006006718,-0.060846235603094,-0.129532828927040,-0.003324077697471,-0.057937156409025,-0.083091795444489,-0.089274212718010,-0.022023655474186,-0.067028991878033,0.124261654913425,0.039170335978270,0.111743941903114));
res += mul(Get(s2,0,dy), float4x4(-0.006875447463244,0.049557205289602,-0.005458274390548,-0.066398553550243,0.173683613538742,-0.044653650373220,-0.020385537296534,-0.017532674595714,-0.044720388948917,0.038062095642090,-0.046687554568052,-0.025735875591636,0.014358492568135,-0.003524226136506,0.002376059535891,-0.043890453875065));
res += mul(Get(s2,dx,-dy), float4x4(0.084205262362957,-0.129177868366241,0.038507271558046,-0.160879179835320,0.059856012463570,-0.043671771883965,0.141055822372437,-0.174108847975731,0.040353484451771,-0.018351772800088,-0.117806077003479,0.049144156277180,-0.038770951330662,-0.008725953288376,0.006617059931159,-0.020132211968303));
res += mul(Get(s2,dx,0), float4x4(0.061549987643957,0.051900804042816,0.104947447776794,-0.244684845209122,0.004595355130732,-0.101354427635670,0.124036923050880,-0.093155734241009,0.065071113407612,0.105220437049866,-0.099953345954418,0.246796607971191,-0.057255491614342,0.050282694399357,-0.058524891734123,0.007511052768677));
res += mul(Get(s2,dx,dy), float4x4(0.010436268523335,0.083590321242809,0.077729456126690,-0.117006503045559,-0.087748989462852,0.008712785318494,0.164356738328934,-0.071011610329151,0.067629769444466,0.138557478785515,-0.083555854856968,-0.020044865086675,0.237568065524101,-0.024263842031360,-0.022210147231817,-0.048298135399818));
res += mul(Get(s3,-dx,-dy), float4x4(-0.036686629056931,-0.110640488564968,0.047559268772602,-0.059960868209600,-0.025928620249033,-0.134667694568634,0.039333049207926,0.082321740686893,-0.062090937048197,-0.046757671982050,-0.006331853102893,0.078150175511837,-0.010439990088344,0.032763790339231,-0.050883442163467,-0.001062279916368));
res += mul(Get(s3,-dx,0), float4x4(0.173326805233955,-0.020695570856333,-0.050049602985382,-0.167036667466164,0.064326725900173,0.016096241772175,-0.081572838127613,0.068761870265007,0.042351685464382,0.043277338147163,-0.070819787681103,0.055806640535593,-0.036998327821493,0.152956098318100,-0.074641600251198,0.246255993843079));
res += mul(Get(s3,-dx,dy), float4x4(0.355368107557297,-0.048260353505611,0.035355683416128,-0.176271811127663,0.004702577367425,-0.004215243272483,-0.030060749500990,0.175726607441902,0.001983107067645,0.000400362594519,-0.055804815143347,-0.028594836592674,0.022843826562166,0.092573933303356,-0.039018664509058,-0.142613396048546));
res += mul(Get(s3,0,-dy), float4x4(-0.098620586097240,-0.074633158743382,0.154306083917618,-0.068733878433704,0.115661323070526,-0.104673102498055,-0.017697792500257,0.005074505694211,0.010694966651499,-0.029367575421929,0.119905419647694,0.043750274926424,-0.077129192650318,-0.061458908021450,-0.051700156182051,-0.042034141719341));
res += mul(Get(s3,0,0), float4x4(0.001375520601869,-0.108378469944000,0.188653722405434,-0.140215381979942,-0.065217308700085,-0.065130762755871,0.123658828437328,0.069758415222168,0.053462680429220,0.025128347799182,0.051710173487663,-0.052653428167105,0.005840578582138,0.115704961121082,-0.110360182821751,0.141304373741150));
res += mul(Get(s3,0,dy), float4x4(-0.000988168176264,0.037283871322870,-0.103697009384632,-0.113999292254448,-0.026161383837461,0.026721127331257,0.068597160279751,0.255428344011307,0.004888985306025,0.011716306209564,0.026711383834481,-0.008861166425049,-0.064692564308643,-0.119473502039909,0.022794464603066,0.157030954957008));
res += mul(Get(s3,dx,-dy), float4x4(-0.105794623494148,-0.128600224852562,0.008448138833046,-0.177569821476936,0.016158664599061,-0.098276369273663,-0.229517146945000,0.146468326449394,-0.084612473845482,-0.021105656400323,0.015560502186418,0.099591508507729,-0.016555273905396,0.082490429282188,0.002386519685388,0.048229739069939));
res += mul(Get(s3,dx,0), float4x4(-0.044778674840927,-0.060107689350843,0.073075331747532,-0.071984849870205,0.035954322665930,-0.127146124839783,-0.078886106610298,0.072421230375767,0.160015895962715,0.005781887564808,-0.067685700953007,0.094041511416435,-0.075823999941349,0.022836690768600,-0.012333464808762,0.002473820000887));
res += mul(Get(s3,dx,dy), float4x4(-0.063844449818134,-0.044944647699594,-0.073769830167294,-0.009664475917816,0.066343545913696,0.034105252474546,-0.099896021187305,0.135453835129738,0.204476967453957,0.016895476728678,-0.003793554147705,0.075096771121025,0.048135329037905,-0.010138281621039,-0.024467794224620,0.018959641456604));
return max(float4(0,0,0,0), res);
}
