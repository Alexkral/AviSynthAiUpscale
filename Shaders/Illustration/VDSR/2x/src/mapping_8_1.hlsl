sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.239374503493309,-0.078196138143539,0.010562487877905,-0.079010978341103,-0.037062708288431,0.128062516450882,-0.051722120493650,-0.003765069181100,-0.016455648466945,-0.095821075141430,-0.079950526356697,-0.128066509962082,-0.129362359642982,-0.067759402096272,0.019679604098201,0.080379724502563));
res += mul(Get(s0,-dx,0), float4x4(0.373438805341721,0.030681738629937,0.005797904450446,-0.069484733045101,-0.079076781868935,0.149596333503723,-0.027009662240744,-0.136833965778351,-0.045552950352430,-0.063672170042992,0.031370781362057,-0.135667786002159,-0.093660317361355,-0.050357609987259,-0.088963039219379,-0.074182018637657));
res += mul(Get(s0,-dx,dy), float4x4(0.221110716462135,-0.041368920356035,-0.115835815668106,-0.084793485701084,0.033527195453644,0.125697657465935,-0.124507755041122,0.166098445653915,0.124857023358345,-0.168772757053375,-0.122324615716934,-0.057401973754168,-0.107093364000320,0.054749812930822,0.207756087183952,-0.030533228069544));
res += mul(Get(s0,0,-dy), float4x4(-0.014196315780282,-0.134409263730049,-0.057211976498365,-0.028980044648051,0.029610583558679,-0.028525361791253,-0.039864294230938,0.086866863071918,-0.051024414598942,-0.081843964755535,-0.024099424481392,0.079908974468708,0.020967224612832,0.025840081274509,-0.157771944999695,0.206229597330093));
res += mul(Get(s0,0,0), float4x4(-0.156395807862282,-0.088042080402374,0.193589687347412,-0.091411337256432,0.056169562041759,0.002424032194540,-0.029738636687398,0.098293162882328,-0.043628472834826,-0.059082131832838,0.179669931530952,0.042598214000463,0.027416775003076,0.000829623488244,-0.188879698514938,0.012517930008471));
res += mul(Get(s0,0,dy), float4x4(-0.016591433435678,-0.059589393436909,0.181915134191513,-0.161419510841370,0.067143164575100,-0.014998953789473,-0.109490267932415,0.125615060329437,0.179393678903580,-0.111459657549858,-0.013873157091439,0.035456396639347,-0.055110488086939,-0.036837667226791,0.116849854588509,0.020769478753209));
res += mul(Get(s0,dx,-dy), float4x4(0.085375182330608,0.024495141580701,-0.026998583227396,-0.012664770707488,0.236996442079544,0.112796932458878,-0.029855798929930,0.242495223879814,0.033189069479704,-0.004396818578243,-0.068019673228264,0.044242698699236,-0.033837608993053,0.057301312685013,-0.063384808599949,-0.029687339439988));
res += mul(Get(s0,dx,0), float4x4(0.090203985571861,0.038524005562067,0.089398987591267,0.021730830892920,-0.077723488211632,0.179653123021126,0.034191619604826,0.052437685430050,-0.063481099903584,0.027632899582386,0.010139460675418,0.063820987939835,-0.019575374200940,0.053723935037851,0.070007570087910,-0.180795714259148));
res += mul(Get(s0,dx,dy), float4x4(0.297162979841232,0.061263531446457,-0.047808595001698,-0.089228063821793,-0.000643135514110,0.002657536882907,-0.116663336753845,0.171528577804565,0.092239677906036,-0.021391727030277,-0.159498706459999,0.011246548965573,-0.013022881001234,-0.082286231219769,0.340406894683838,-0.100673958659172));
res += mul(Get(s1,-dx,-dy), float4x4(0.040382716804743,-0.008367391303182,-0.021996093913913,-0.035498805344105,-0.006278063170612,0.150344669818878,-0.093170620501041,0.140689522027969,-0.037013303488493,-0.062870226800442,0.020362215116620,-0.058736518025398,0.064097136259079,-0.074789114296436,-0.026701943948865,0.037510421127081));
res += mul(Get(s1,-dx,0), float4x4(-0.062725082039833,-0.112351082265377,0.139460995793343,-0.010468282736838,-0.005073521751910,0.160021677613258,-0.029943989589810,0.012732783332467,-0.068197235465050,-0.080590605735779,-0.024901475757360,-0.083521433174610,-0.040365107357502,-0.053882945328951,0.095512397587299,-0.050776764750481));
res += mul(Get(s1,-dx,dy), float4x4(-0.024968981742859,-0.067902207374573,0.241728618741035,0.227688342332840,-0.228213638067245,-0.061991896480322,-0.105976045131683,0.066382057964802,-0.147419989109039,-0.049319669604301,-0.103108964860439,-0.078170113265514,-0.043195113539696,-0.142026662826538,-0.022173803299665,-0.060629501938820));
res += mul(Get(s1,0,-dy), float4x4(0.071296542882919,0.068404696881771,-0.015116543509066,0.077070124447346,0.030984524637461,0.053131032735109,-0.182247057557106,-0.038842048496008,-0.044798742979765,-0.096828423440456,-0.089743115007877,0.018024208024144,0.092181384563446,-0.040507636964321,0.029608029872179,0.066132873296738));
res += mul(Get(s1,0,0), float4x4(0.057962406426668,0.231309682130814,0.041317798197269,0.088835820555687,0.065115422010422,0.085340619087219,-0.080351516604424,-0.116250872612000,0.033882711082697,-0.100748106837273,0.079127706587315,-0.022166507318616,0.008602470159531,0.049273509532213,-0.027964858338237,0.085003867745399));
res += mul(Get(s1,0,dy), float4x4(0.066729232668877,0.112576402723789,-0.083178751170635,-0.000023614709789,-0.044911123812199,-0.184764355421066,-0.146083131432533,0.092701129615307,-0.087582960724831,-0.003724921261892,0.248637169599533,-0.061286322772503,-0.080029852688313,-0.019871275871992,0.082074835896492,-0.039179585874081));
res += mul(Get(s1,dx,-dy), float4x4(-0.063607439398766,-0.114496573805809,-0.038795664906502,0.024800229817629,-0.186230391263962,0.061295833438635,-0.134187832474709,0.006450445856899,0.096695244312286,-0.183453470468521,-0.134188681840897,-0.022958979010582,0.216101080179214,-0.057826168835163,0.007133587263525,0.009993854910135));
res += mul(Get(s1,dx,0), float4x4(-0.080309711396694,0.275686800479889,0.025911858305335,0.016808176413178,-0.014349218457937,0.044251117855310,-0.031679365783930,-0.058635737746954,0.027357958257198,-0.173016503453255,-0.127185821533203,-0.090474873781204,0.018854340538383,0.029592020437121,0.129190489649773,-0.063397727906704));
res += mul(Get(s1,dx,dy), float4x4(-0.067937172949314,0.161581754684448,-0.067305497825146,-0.105020277202129,0.021757954731584,-0.017758324742317,-0.128899469971657,0.032441016286612,-0.008629942312837,-0.075673215091228,-0.040351029485464,-0.013981409370899,0.124227046966553,-0.060761593282223,0.043825335800648,0.045554947108030));
res += mul(Get(s2,-dx,-dy), float4x4(0.140018701553345,0.135297626256943,-0.004670471418649,-0.071607552468777,-0.026544479653239,-0.086428783833981,-0.073838971555233,0.190939128398895,-0.096882052719593,-0.025801593437791,0.188845142722130,-0.022359976544976,0.090281404554844,-0.084928520023823,0.079540908336639,-0.097270324826241));
res += mul(Get(s2,-dx,0), float4x4(0.064347490668297,0.107185013592243,0.014716309495270,-0.053061116486788,0.030416620895267,-0.126740694046021,-0.166403785347939,-0.018544128164649,-0.094065211713314,-0.053254660218954,-0.066836602985859,-0.097248010337353,-0.161341160535812,-0.071112811565399,0.206708982586861,-0.062884755432606));
res += mul(Get(s2,-dx,dy), float4x4(0.030895231291652,0.041795823723078,-0.185667112469673,0.140512466430664,-0.019446119666100,0.004962306469679,0.053834881633520,-0.068999394774437,-0.093898259103298,-0.072760745882988,0.077271178364754,-0.175059437751770,-0.273905038833618,-0.029090359807014,0.116690278053284,-0.187884554266930));
res += mul(Get(s2,0,-dy), float4x4(-0.163825705647469,0.116400405764580,-0.027195498347282,-0.023524103686213,0.033571545034647,-0.002292723162100,-0.081121101975441,0.008057201281190,0.061111077666283,-0.074063859879971,0.304068624973297,0.108415171504021,-0.033714368939400,0.077266797423363,0.103993810713291,0.013290973380208));
res += mul(Get(s2,0,0), float4x4(0.060823220759630,0.043908357620239,0.095370322465897,0.039865542203188,0.265428662300110,-0.004670496098697,-0.098721735179424,-0.057503353804350,0.037777367979288,-0.157724857330322,-0.163622304797173,-0.055155731737614,-0.102497927844524,0.029961723834276,-0.038623966276646,0.084827236831188));
res += mul(Get(s2,0,dy), float4x4(0.026497317478061,-0.029476368799806,0.126618847250938,0.050452739000320,-0.044642347842455,0.040392227470875,0.008131101727486,-0.025853147730231,-0.093073233962059,-0.039160434156656,-0.040534127503633,0.007830349728465,-0.134124413132668,-0.006969746667892,0.187617376446724,0.074083708226681));
res += mul(Get(s2,dx,-dy), float4x4(-0.027394412085414,0.163650512695313,0.043852321803570,-0.044942278414965,-0.064849853515625,-0.000800766050816,-0.105566598474979,-0.082602895796299,-0.135909989476204,0.020799502730370,0.070317551493645,-0.092492125928402,-0.054534997791052,0.136287689208984,0.155976101756096,0.039667736738920));
res += mul(Get(s2,dx,0), float4x4(0.048842124640942,0.042132213711739,-0.005594243295491,-0.131303131580353,0.087524086236954,-0.063984416425228,-0.008363837376237,-0.175498634576797,0.077689014375210,-0.072400167584419,-0.036081049591303,-0.046473011374474,0.073892071843147,0.180355697870255,-0.049223519861698,-0.100869059562683));
res += mul(Get(s2,dx,dy), float4x4(0.045605964958668,0.100342199206352,-0.087787739932537,0.087549835443497,0.033590875566006,-0.043598797172308,-0.096021428704262,-0.031325805932283,-0.097776576876640,0.024284338578582,0.020636094734073,-0.048007931560278,0.022780893370509,0.037155717611313,-0.070392981171608,-0.077062249183655));
res += mul(Get(s3,-dx,-dy), float4x4(0.125071451067924,-0.093193180859089,-0.123677201569080,0.089571319520473,-0.071547038853168,0.042576052248478,0.183117121458054,0.074478000402451,-0.154004022479057,0.009378754533827,0.170069321990013,0.031736284494400,-0.001435105223209,0.083845868706703,0.027306335046887,-0.050216663628817));
res += mul(Get(s3,-dx,0), float4x4(0.017391890287399,0.003937382716686,-0.090038605034351,-0.159779980778694,0.082909762859344,0.029185768216848,0.021668218076229,0.114889189600945,-0.121246933937073,0.043371360749006,-0.031891640275717,0.027985421940684,0.035912841558456,0.000179595532245,-0.086901500821114,-0.009613927453756));
res += mul(Get(s3,-dx,dy), float4x4(0.022524161264300,0.003371852217242,-0.100761592388153,0.185767769813538,-0.013372018933296,0.072734937071800,-0.101583674550056,0.247867301106453,-0.054515346884727,-0.008203487843275,-0.109469912946224,0.116102002561092,0.045509185642004,0.074118696153164,-0.100587069988251,-0.044892843812704));
res += mul(Get(s3,0,-dy), float4x4(0.013969181105494,-0.093546964228153,-0.195670187473297,0.025181965902448,-0.068895407021046,0.094766765832901,0.229105189442635,0.006394336465746,0.092327065765858,-0.033387623727322,0.219955384731293,0.082803562283516,-0.031090766191483,-0.119055435061455,0.146289989352226,-0.099875807762146));
res += mul(Get(s3,0,0), float4x4(-0.121022216975689,0.135625213384628,-0.024220680817962,0.001045612152666,0.189601182937622,0.108351744711399,0.031029274687171,0.004972375929356,0.073678188025951,-0.027863543480635,0.012203358113766,0.089045949280262,-0.073150925338268,-0.042769391089678,0.060911145061255,0.007243590895087));
res += mul(Get(s3,0,dy), float4x4(0.082820139825344,0.039942000061274,-0.090826727449894,0.100546561181545,0.032152228057384,0.086988531053066,-0.023224784061313,0.046409539878368,0.162205725908279,-0.067151121795177,-0.054116226732731,0.045972838997841,0.119398675858974,0.084687441587448,-0.056074559688568,0.013222509995103));
res += mul(Get(s3,dx,-dy), float4x4(-0.036524627357721,-0.035792760550976,-0.135495707392693,-0.113391593098640,-0.105631336569786,0.024945490062237,0.236707374453545,-0.062439486384392,-0.037035852670670,0.130851969122887,-0.001988485921174,0.016673214733601,0.013162896037102,-0.067975647747517,-0.060839902609587,0.034753348678350));
res += mul(Get(s3,dx,0), float4x4(-0.094574935734272,-0.020557653158903,-0.038479272276163,-0.046817421913147,0.035214129835367,0.144997686147690,0.177189618349075,-0.106003083288670,-0.039208509027958,0.061973601579666,-0.065034642815590,0.066211074590683,-0.007256757002324,-0.046677883714437,0.044592190533876,0.264111459255219));
res += mul(Get(s3,dx,dy), float4x4(-0.063791900873184,0.105477474629879,-0.019315959885716,-0.008220762014389,-0.048634178936481,0.129252418875694,0.044258169829845,0.054846622049809,0.002709807129577,0.115487523376942,-0.113069444894791,-0.060439117252827,0.002580210566521,0.093325048685074,0.077344998717308,0.158497065305710));
return max(float4(0,0,0,0), res);
}
