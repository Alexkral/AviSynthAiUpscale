sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.149806022644043,0.204855725169182,0.100827999413013,0.101262286305428,0.024985965341330,0.023347666487098,-0.117836944758892,-0.043304372578859,-0.005619070958346,0.149711281061172,-0.015593420714140,0.012951684184372,0.074921831488609,-0.033235136419535,0.098786205053329,0.105373285710812));
res += mul(Get(s0,-dx,0), float4x4(-0.012251791544259,0.122563086450100,-0.058265265077353,0.107661254703999,-0.012114346027374,-0.122594766318798,0.012836337089539,-0.074765048921108,-0.007144061848521,0.124778904020786,-0.068472474813461,0.048714704811573,0.141950964927673,-0.020958216860890,-0.044784396886826,0.116858050227165));
res += mul(Get(s0,-dx,dy), float4x4(0.061871219426394,-0.081530667841434,0.140058606863022,-0.078466728329659,0.058322433382273,-0.052643425762653,0.178031355142593,0.149842277169228,0.093874990940094,-0.077728219330311,-0.008185568265617,0.063498452305794,0.157008722424507,-0.016093542799354,-0.030261173844337,0.033853553235531));
res += mul(Get(s0,0,-dy), float4x4(-0.103790566325188,0.052216559648514,0.106647826731205,0.077249303460121,0.089297994971275,0.032967042177916,0.133304372429848,0.075484529137611,-0.048091728240252,0.064691141247749,0.030838539823890,-0.025817338377237,-0.031242318451405,-0.152970582246780,0.032840915024281,0.154361724853516));
res += mul(Get(s0,0,0), float4x4(0.028968863189220,0.109908506274223,0.021026508882642,-0.068605452775955,0.098109312355518,-0.028176205232739,0.028040550649166,0.185382634401321,-0.082618229091167,0.135696619749069,0.042814478278160,0.017649210989475,-0.301628500223160,-0.022874373942614,0.024383954703808,0.037085782736540));
res += mul(Get(s0,0,dy), float4x4(0.091785676777363,0.101667843759060,-0.048143185675144,-0.140810877084732,-0.013655233196914,0.159411951899529,0.026728201657534,0.109190210700035,0.011917676776648,0.019761441275477,-0.141354620456696,-0.042178235948086,0.086967565119267,-0.008287144824862,0.128572762012482,0.187699526548386));
res += mul(Get(s0,dx,-dy), float4x4(0.037395000457764,-0.027691397815943,0.042121097445488,0.158502042293549,0.058357905596495,-0.061626795679331,0.044528633356094,0.099231749773026,0.055849019438028,-0.114885002374649,-0.076199688017368,0.108447901904583,-0.020113443955779,-0.098820716142654,0.016902407631278,0.061498004943132));
res += mul(Get(s0,dx,0), float4x4(-0.037595652043819,0.260414659976959,-0.004460325464606,-0.001164843211882,-0.056639548391104,-0.075787670910358,-0.116087250411510,-0.029926521703601,-0.017482947558165,0.019595472142100,-0.037741422653198,-0.037291295826435,0.144196197390556,-0.137063309550285,-0.027480905875564,0.299877583980560));
res += mul(Get(s0,dx,dy), float4x4(0.038788877427578,-0.042997770011425,0.102010563015938,0.087356112897396,-0.101630605757236,-0.070837460458279,-0.147489860653877,0.077052548527718,0.144537106156349,0.044279828667641,0.127267867326736,0.025302741676569,0.017644712701440,-0.011026873253286,0.080841705203056,-0.054231334477663));
res += mul(Get(s1,-dx,-dy), float4x4(-0.062624827027321,0.284803390502930,0.022703628987074,0.036383952945471,-0.190540179610252,0.039957117289305,0.068561024963856,-0.102329514920712,0.130908399820328,0.099797174334526,-0.008253131061792,-0.105749659240246,0.044635526835918,-0.090869493782520,-0.027832293882966,0.088281385600567));
res += mul(Get(s1,-dx,0), float4x4(-0.158362969756126,0.050635658204556,-0.179227784276009,0.001978421583772,0.053958080708981,-0.045915469527245,0.025988325476646,0.038430724292994,0.035189252346754,0.027244281023741,0.039839465171099,-0.047492109239101,-0.089143961668015,-0.012110481970012,0.016364732757211,-0.011506841517985));
res += mul(Get(s1,-dx,dy), float4x4(-0.125253304839134,-0.088068269193172,0.050655592232943,-0.245136186480522,0.092445470392704,0.028856784105301,-0.022648788988590,-0.003048418322578,0.080682739615440,0.181045502424240,-0.051426649093628,-0.022711604833603,0.126904025673866,-0.059873141348362,-0.064387887716293,0.016442783176899));
res += mul(Get(s1,0,-dy), float4x4(0.027960171923041,-0.017174910753965,0.103820011019707,0.003279792843387,0.098877415060997,-0.032878462225199,-0.017363140359521,0.052222739905119,-0.027811689302325,0.090982496738434,0.171540290117264,0.029958335682750,-0.018532061949372,-0.019949048757553,0.018808182328939,-0.076358906924725));
res += mul(Get(s1,0,0), float4x4(0.067463986575603,0.041582047939301,-0.001563336234540,-0.051100470125675,-0.022539792582393,-0.039518013596535,0.004576856736094,0.151183381676674,-0.053887639194727,-0.138310864567757,0.095521405339241,0.164950981736183,-0.057624440640211,-0.010391076095402,0.185425609350204,0.047452617436647));
res += mul(Get(s1,0,dy), float4x4(-0.059789091348648,0.011518326587975,-0.001118202460930,-0.245385766029358,-0.051356196403503,-0.002538526197895,-0.019821278750896,-0.013286541216075,-0.002373083494604,0.054459966719151,0.001073229010217,0.170903667807579,0.091511696577072,0.174906358122826,-0.233306810259819,0.138538911938667));
res += mul(Get(s1,dx,-dy), float4x4(0.214307755231857,0.107215158641338,-0.106733091175556,-0.001083498471417,0.086621120572090,-0.223656207323074,0.045124620199203,0.030564328655601,-0.050170917063951,0.053075406700373,0.223270848393440,0.031090745702386,0.004406622610986,0.029618022963405,0.098933599889278,-0.037900492548943));
res += mul(Get(s1,dx,0), float4x4(0.166957527399063,0.179100513458252,0.031575649976730,-0.139663472771645,0.088586732745171,-0.031052626669407,0.084058240056038,0.185845449566841,-0.047357633709908,-0.048788171261549,0.024180263280869,0.098489314317703,0.008211381733418,-0.072998926043510,0.061177913099527,0.061342842876911));
res += mul(Get(s1,dx,dy), float4x4(0.026978230103850,-0.078923426568508,0.030047824606299,0.107452325522900,-0.029877692461014,-0.061208091676235,-0.070883654057980,0.103799328207970,-0.071532100439072,0.088571511209011,-0.057988110929728,-0.108989112079144,-0.168241217732430,0.127542078495026,0.090107522904873,-0.053707253187895));
res += mul(Get(s2,-dx,-dy), float4x4(-0.133957073092461,0.067985884845257,0.008352554403245,-0.022431038320065,0.094837658107281,-0.010526741854846,-0.108223170042038,-0.137025773525238,-0.024292310699821,0.084557428956032,-0.026329766958952,-0.177920609712601,-0.047050833702087,-0.073252171278000,0.016362397000194,-0.067043900489807));
res += mul(Get(s2,-dx,0), float4x4(0.058094963431358,-0.068264394998550,0.013164950534701,0.056071229279041,-0.118620775640011,-0.181557029485703,0.020180443301797,0.038491606712341,0.088348157703876,0.109602838754654,-0.182561889290810,-0.050658095628023,-0.049987960606813,0.037417247891426,0.010531232692301,0.237700760364532));
res += mul(Get(s2,-dx,dy), float4x4(-0.051558524370193,0.117207549512386,0.070490039885044,0.046454630792141,0.063141725957394,-0.022245930507779,0.044374469667673,-0.019490474835038,-0.044437240809202,0.027839757502079,0.207767009735107,-0.047752492129803,-0.068709678947926,0.138027086853981,0.116887442767620,-0.099444292485714));
res += mul(Get(s2,0,-dy), float4x4(0.019043838605285,-0.165993064641953,-0.074938468635082,0.130667805671692,-0.026956724002957,-0.158143267035484,0.072039924561977,-0.012691123411059,-0.082691408693790,0.185993090271950,0.081334024667740,0.005338316783309,0.053140323609114,-0.039445262402296,-0.029861833900213,-0.023538045585155));
res += mul(Get(s2,0,0), float4x4(0.023780481889844,0.035211920738220,-0.285390794277191,0.134477511048317,-0.189770802855492,-0.021182520315051,0.067210532724857,-0.015284596942365,0.112228274345398,-0.095726199448109,0.023416040465236,-0.045203395187855,-0.052607841789722,-0.219116523861885,0.093790337443352,0.183298543095589));
res += mul(Get(s2,0,dy), float4x4(-0.198369532823563,0.168550506234169,0.013100561685860,0.075501084327698,-0.129728659987450,0.009639310650527,0.110907301306725,-0.034957442432642,-0.052009362727404,0.164093807339668,0.002841882640496,-0.157633751630783,-0.103333830833435,0.101078145205975,-0.188628301024437,-0.046560581773520));
res += mul(Get(s2,dx,-dy), float4x4(0.059852592647076,-0.119016736745834,-0.053054109215736,-0.029185663908720,-0.099064327776432,0.036587603390217,-0.049870580434799,0.083544284105301,0.067359656095505,0.035802066326141,0.017369160428643,-0.047682993113995,0.140571147203445,-0.088340461254120,0.078268460929394,0.136491879820824));
res += mul(Get(s2,dx,0), float4x4(0.043970074504614,-0.053982786834240,0.111987441778183,-0.059025213122368,-0.038433685898781,0.032432220876217,-0.068956390023232,0.063624449074268,0.078823052346706,-0.117645546793938,0.087537534534931,-0.183185741305351,0.280694216489792,-0.099537551403046,0.113104708492756,-0.060177598148584));
res += mul(Get(s2,dx,dy), float4x4(-0.052876949310303,-0.111659318208694,-0.153138577938080,0.107627950608730,-0.235233873128891,-0.088003367185593,0.049246892333031,0.025740325450897,0.045611083507538,-0.004751292522997,0.146598204970360,0.032173145562410,0.023387353867292,0.027612097561359,-0.170422434806824,-0.165622979402542));
res += mul(Get(s3,-dx,-dy), float4x4(-0.140873640775681,-0.010555927641690,-0.174998506903648,-0.224127918481827,-0.046390846371651,-0.065744586288929,-0.114395767450333,0.017126210033894,-0.095906838774681,-0.127967610955238,0.127765744924545,-0.036943439394236,-0.026301898062229,0.061407357454300,0.140563666820526,0.170835375785828));
res += mul(Get(s3,-dx,0), float4x4(-0.009283765219152,-0.022975506260991,0.148065239191055,0.003880557371303,-0.039789993315935,0.006173191592097,-0.024417227134109,0.235953375697136,0.085269004106522,-0.002217617118731,-0.104844950139523,0.092513464391232,0.005186441820115,0.155836492776871,-0.192035079002380,-0.046891607344151));
res += mul(Get(s3,-dx,dy), float4x4(-0.063047349452972,0.065873347222805,-0.037596158683300,0.002011645119637,-0.107658393681049,-0.049434181302786,-0.175036370754242,-0.199436247348785,-0.033242829144001,-0.011446966789663,0.010793352499604,0.018736427649856,0.032550077885389,-0.022088194265962,0.116364918649197,-0.016621598973870));
res += mul(Get(s3,0,-dy), float4x4(-0.009623358026147,0.015615112148225,0.182153463363647,0.139702349901199,0.081186898052692,0.013333065435290,0.085732355713844,0.079912804067135,-0.019428575411439,0.050094712525606,0.038783021271229,-0.101839743554592,0.022620432078838,0.212840199470520,0.072578974068165,-0.082015588879585));
res += mul(Get(s3,0,0), float4x4(-0.145935937762260,-0.074058830738068,-0.046748634427786,-0.112055264413357,-0.095751158893108,-0.147327169775963,-0.012554108165205,-0.004788149613887,-0.000426541257184,0.117104224860668,0.083994045853615,0.099562086164951,-0.069307379424572,-0.033104363828897,0.144424542784691,-0.052950397133827));
res += mul(Get(s3,0,dy), float4x4(0.010682653635740,-0.006949526723474,0.066167898476124,-0.047114308923483,-0.115071639418602,0.004528989549726,0.187084019184113,-0.095897592604160,-0.070096291601658,0.114495947957039,0.000741394760553,-0.136058479547501,0.074167922139168,-0.056554827839136,0.123440317809582,-0.010683787986636));
res += mul(Get(s3,dx,-dy), float4x4(0.123023293912411,0.081451997160912,-0.077381908893585,0.060707502067089,-0.117712341248989,-0.080205127596855,-0.073866382241249,-0.103427216410637,0.008145099505782,0.006783008575439,-0.090867437422276,-0.007048046216369,0.028591306880116,-0.094049334526062,0.036078453063965,0.056082844734192));
res += mul(Get(s3,dx,0), float4x4(0.169805556535721,0.087240949273109,0.068393506109715,0.134333148598671,0.154169574379921,-0.007997272536159,-0.237039312720299,0.125530824065208,0.073191463947296,0.022998860105872,-0.070987127721310,0.179894044995308,0.025312518700957,0.059670895338058,-0.156763643026352,-0.177817210555077));
res += mul(Get(s3,dx,dy), float4x4(-0.038518428802490,-0.075171679258347,-0.124728530645370,0.103774413466454,0.107538454234600,-0.072342619299889,-0.065268926322460,-0.039539422839880,0.029820756986737,0.018892973661423,0.084918461740017,-0.036448784172535,0.261693269014359,-0.072045147418976,-0.024364534765482,0.072245173156261));
return max(float4(0,0,0,0), res);
}
