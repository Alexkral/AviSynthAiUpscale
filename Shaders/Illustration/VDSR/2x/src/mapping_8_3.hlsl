sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.021679239347577,-0.005157728679478,-0.069282002747059,0.050320673733950,-0.040136080235243,0.018230110406876,-0.141278296709061,-0.102426007390022,0.069356717169285,-0.022587385028601,0.066229447722435,0.051384866237640,-0.046149730682373,-0.071345865726471,0.058773525059223,0.036797475069761));
res += mul(Get(s0,-dx,0), float4x4(0.099703885614872,0.104917436838150,0.028859175741673,0.176856517791748,-0.092882752418518,-0.036056585609913,0.046105641871691,-0.138330742716789,0.027091044932604,-0.015711756423116,-0.051182657480240,0.018933141604066,-0.142811611294746,-0.047453116625547,0.103997007012367,-0.076435938477516));
res += mul(Get(s0,-dx,dy), float4x4(-0.011228806339204,0.089200638234615,-0.050796121358871,0.027157332748175,0.002762945601717,-0.094333834946156,-0.134551942348480,-0.095697082579136,-0.039156656712294,0.045786574482918,-0.050486832857132,0.064855553209782,-0.122560121119022,0.004948010668159,-0.035065546631813,0.047918513417244));
res += mul(Get(s0,0,-dy), float4x4(0.040536161512136,0.000325656059431,-0.038753096014261,0.008213485591114,0.164497241377831,-0.000181065523066,-0.076686508953571,-0.042174890637398,-0.010663268156350,0.162957876920700,0.018272953107953,-0.011208041571081,0.004832240752876,-0.076302163302898,-0.066460996866226,-0.048552934080362));
res += mul(Get(s0,0,0), float4x4(0.159969374537468,-0.005019327159971,0.155480921268463,0.233996614813805,0.002191994572058,-0.059624496847391,-0.005236880853772,-0.061200439929962,0.043481290340424,0.058163769543171,-0.041351199150085,0.002366736298427,-0.098143361508846,-0.021145615726709,-0.012591214850545,0.095854923129082));
res += mul(Get(s0,0,dy), float4x4(-0.075951807200909,-0.091656155884266,-0.032444991171360,-0.098507672548294,0.085383847355843,-0.008634367957711,-0.060363791882992,-0.074604742228985,0.064512379467487,0.006180653348565,-0.012561910785735,0.101046137511730,-0.152807444334030,0.074729599058628,0.190293744206429,-0.192586898803711));
res += mul(Get(s0,dx,-dy), float4x4(-0.096499957144260,0.215809151530266,-0.091025568544865,-0.026736894622445,0.327537655830383,-0.030912725254893,-0.018784789368510,0.017347654327750,-0.013267393223941,-0.018865406513214,-0.089968040585518,0.008898389525712,-0.067307680845261,0.126665860414505,-0.079804532229900,0.042966675013304));
res += mul(Get(s0,dx,0), float4x4(-0.050759885460138,0.199359729886055,-0.050557795912027,-0.032924994826317,-0.055542714893818,-0.125543564558029,0.173931002616882,-0.067955762147903,0.015809889882803,-0.024616135284305,-0.081218414008617,0.088263697922230,-0.084352739155293,0.276991426944733,-0.009517694823444,-0.030955689027905));
res += mul(Get(s0,dx,dy), float4x4(-0.050179444253445,-0.073555417358875,-0.129571244120598,-0.087636157870293,0.109734930098057,-0.071981824934483,-0.054722271859646,-0.103060446679592,0.056605529040098,-0.045792378485203,0.035813432186842,0.004316645674407,-0.054443296045065,0.271552503108978,0.127047345042229,-0.160132452845573));
res += mul(Get(s1,-dx,-dy), float4x4(0.036979265511036,-0.062818378210068,-0.069263473153114,-0.048327285796404,-0.050043858587742,-0.077300317585468,-0.078941181302071,-0.070675268769264,0.037753935903311,0.084993965923786,-0.002537959953770,0.105198390781879,-0.075291447341442,0.199424549937248,0.012164910323918,0.132220655679703));
res += mul(Get(s1,-dx,0), float4x4(-0.014365991577506,-0.035357903689146,-0.032761983573437,0.020266382023692,-0.018517918884754,-0.150545239448547,-0.049839146435261,-0.064846292138100,0.122476354241371,-0.030089797452092,0.005236070603132,-0.010809008963406,-0.024025751277804,0.193663477897644,0.048775546252728,0.117626294493675));
res += mul(Get(s1,-dx,dy), float4x4(0.053655732423067,-0.005767162423581,-0.015735089778900,-0.060957077890635,-0.043810784816742,0.023586183786392,0.055699139833450,0.206509724259377,0.063817426562309,-0.038604523986578,0.008933752775192,0.061159122735262,-0.028323598206043,0.038012642413378,0.059737648814917,0.202633485198021));
res += mul(Get(s1,0,-dy), float4x4(0.009870986454189,0.016608452424407,-0.057463396340609,0.041265819221735,-0.025314161553979,-0.149206221103668,-0.146330773830414,0.124258548021317,-0.010837608017027,-0.009054184891284,-0.058471031486988,-0.102365180850029,0.102440141141415,0.055688045918941,0.012697558850050,0.015639558434486));
res += mul(Get(s1,0,0), float4x4(-0.026389872655272,-0.043432999402285,-0.042365938425064,-0.034773800522089,-0.003196400823072,-0.120200328528881,-0.044262737035751,0.174531713128090,0.117958009243011,-0.048969868570566,-0.045409690588713,0.040607504546642,0.034807343035936,-0.031185651198030,0.066133804619312,-0.110978104174137));
res += mul(Get(s1,0,dy), float4x4(0.141933932900429,-0.173754140734673,-0.131087228655815,-0.131369248032570,0.016089467331767,0.115940891206264,-0.002229386940598,0.212740376591682,-0.070436447858810,0.023190516978502,0.094672910869122,0.114102497696877,0.042133167386055,-0.013561073690653,0.061339035630226,-0.072107717394829));
res += mul(Get(s1,dx,-dy), float4x4(-0.088454484939575,0.111289478838444,-0.096754699945450,-0.081566557288170,0.019034862518311,-0.092330008745193,-0.064797304570675,0.175101622939110,-0.138770759105682,-0.023226590827107,0.053984425961971,-0.066643372178078,0.164872124791145,0.055296890437603,0.000423100573244,-0.024884762242436));
res += mul(Get(s1,dx,0), float4x4(-0.216507911682129,0.051941119134426,-0.126943051815033,-0.108443714678288,-0.072154194116592,-0.100609198212624,-0.035078313201666,-0.131440058350563,0.067254014313221,-0.029545830562711,0.004673952236772,-0.100363276898861,0.006328570190817,-0.176806926727295,-0.028418552130461,0.019423449411988));
res += mul(Get(s1,dx,dy), float4x4(-0.021706100553274,-0.025508312508464,-0.105880558490753,-0.026276584714651,0.010460532270372,-0.100059486925602,-0.029107786715031,-0.047564048320055,-0.065150976181030,0.050407100468874,-0.051136717200279,-0.157189995050430,-0.020308911800385,-0.065786495804787,-0.132192149758339,-0.074855305254459));
res += mul(Get(s2,-dx,-dy), float4x4(-0.064177341759205,-0.049242306500673,0.044996660202742,-0.011964878067374,0.154605761170387,-0.051492240279913,0.063324458897114,0.057136178016663,0.233383417129517,-0.056920193135738,0.093944862484932,0.081761732697487,0.170313000679016,-0.015943869948387,-0.042639125138521,0.115284122526646));
res += mul(Get(s2,-dx,0), float4x4(-0.088507749140263,-0.013341524638236,0.081481330096722,-0.053286511451006,-0.075443223118782,0.192110911011696,0.030760254710913,0.025613548234105,0.130530446767807,0.010193098336458,0.169975832104683,0.000673529983032,0.006558714434505,-0.048254292458296,0.010682570748031,0.135598435997963));
res += mul(Get(s2,-dx,dy), float4x4(0.139544397592545,0.066378362476826,-0.097776100039482,-0.045707926154137,0.034321404993534,0.091203197836876,-0.002571300603449,-0.013012099079788,-0.113519988954067,-0.019311476498842,-0.033739715814590,-0.119728468358517,0.030403167009354,-0.046072479337454,0.103605076670647,0.136375546455383));
res += mul(Get(s2,0,-dy), float4x4(-0.073951892554760,-0.051557581871748,-0.046687185764313,-0.041613463312387,-0.013058177195489,0.012009156867862,0.152106225490570,0.019246585667133,-0.101908050477505,-0.042883459478617,-0.022728763520718,0.074650347232819,0.154771327972412,0.090625256299973,-0.072141639888287,-0.037331253290176));
res += mul(Get(s2,0,0), float4x4(-0.100389227271080,-0.018357746303082,0.027383910492063,0.019925268366933,-0.075057409703732,0.115523278713226,-0.186409547924995,0.002945396816358,-0.205245584249496,-0.112694278359413,0.143293544650078,0.046372998505831,-0.047165829688311,0.003651342121884,-0.045517791062593,-0.161291778087616));
res += mul(Get(s2,0,dy), float4x4(0.080031841993332,-0.065949752926826,0.135574117302895,0.064601004123688,-0.115588687360287,-0.189424678683281,-0.098928496241570,0.006148331798613,-0.101409718394279,-0.081738613545895,0.050247937440872,0.053735837340355,-0.093156293034554,0.002628094051033,0.035818982869387,-0.230887338519096));
res += mul(Get(s2,dx,-dy), float4x4(-0.159417003393173,-0.009923113510013,0.091640025377274,-0.050626575946808,0.211835294961929,-0.082669749855995,0.061704587191343,0.016244139522314,-0.044797763228416,-0.073798850178719,-0.136836841702461,0.049857079982758,0.124695844948292,-0.162461355328560,0.139432221651077,-0.054932154715061));
res += mul(Get(s2,dx,0), float4x4(-0.034611351788044,0.039049733430147,0.064528688788414,-0.062773853540421,0.056594390422106,0.020803460851312,0.022010620683432,-0.095169030129910,-0.101745024323463,-0.064667269587517,-0.078127376735210,0.072701789438725,0.191527247428894,-0.228317454457283,0.007583131082356,-0.025101153180003));
res += mul(Get(s2,dx,dy), float4x4(0.134587317705154,0.180971473455429,-0.028794817626476,-0.069167755544186,-0.084793180227280,-0.076002821326256,-0.131786763668060,-0.039860423654318,-0.136047452688217,-0.054137077182531,0.045899044722319,-0.043099235743284,0.094491593539715,-0.231507331132889,-0.011093894951046,-0.072511643171310));
res += mul(Get(s3,-dx,-dy), float4x4(0.102939583361149,0.101120628416538,0.068735808134079,-0.133547425270081,-0.058036521077156,-0.099691018462181,-0.081011354923248,-0.105967305600643,0.062072519212961,-0.126588955521584,0.133744046092033,0.098073184490204,-0.022335186600685,-0.061577692627907,-0.016976760700345,0.028631502762437));
res += mul(Get(s3,-dx,0), float4x4(-0.036109492182732,-0.023351849988103,0.032801996916533,0.229222446680069,-0.039737835526466,-0.137735709547997,-0.021421222016215,-0.138294860720634,0.122991286218166,0.028336904942989,0.043217498809099,0.013279561884701,0.005719749722630,0.065976686775684,0.040539573878050,0.015248424373567));
res += mul(Get(s3,-dx,dy), float4x4(0.200597077608109,0.022928731516004,-0.183173745870590,0.076261579990387,0.075702048838139,-0.138895407319069,0.073430500924587,-0.028094165027142,0.005996391177177,-0.008091873489320,-0.047953858971596,0.086090624332428,0.089883334934711,-0.155256569385529,-0.092267952859402,-0.100356929004192));
res += mul(Get(s3,0,-dy), float4x4(0.033230219036341,0.082713097333908,0.079972460865974,0.024705817922950,-0.128739312291145,-0.031159710139036,-0.209047049283981,-0.021044539287686,-0.037164438515902,0.047631110996008,0.177852183580399,0.178683131933212,0.096838138997555,-0.031642667949200,0.384824663400650,0.162916421890259));
res += mul(Get(s3,0,0), float4x4(-0.022437233477831,0.146963506937027,0.048325877636671,0.286631345748901,-0.085607849061489,-0.152409195899963,-0.194297179579735,-0.143549039959908,-0.029688227921724,0.083671882748604,-0.015996046364307,0.018575605005026,0.220352545380592,0.180031597614288,0.122734211385250,0.027851680293679));
res += mul(Get(s3,0,dy), float4x4(0.108536273241043,0.471047431230545,-0.153695225715637,-0.041813503950834,-0.039641086012125,-0.165087729692459,-0.002123123500496,-0.036471262574196,-0.070313125848770,0.000546300783753,-0.045908361673355,0.010798522271216,0.180647015571594,-0.000078596509411,-0.017993036657572,-0.104912750422955));
res += mul(Get(s3,dx,-dy), float4x4(0.079930864274502,-0.071962602436543,0.032692700624466,-0.126191332936287,-0.149704977869987,0.080541737377644,-0.167880073189735,0.007552632596344,0.096874058246613,-0.149190619587898,-0.024015065282583,-0.008057024329901,0.031149998307228,-0.036132521927357,0.070295788347721,-0.031575705856085));
res += mul(Get(s3,dx,0), float4x4(-0.147471576929092,-0.055813573300838,-0.025257693603635,-0.101987645030022,-0.100778818130493,-0.041171252727509,-0.212882250547409,0.011338466778398,0.168374702334404,-0.172741219401360,0.189316853880882,-0.001686271629296,0.080617256462574,0.048641763627529,0.312546670436859,-0.053065668791533));
res += mul(Get(s3,dx,dy), float4x4(0.029513478279114,-0.003151241922751,-0.073540419340134,-0.043886542320251,-0.015753913670778,0.042183421552181,-0.151963621377945,0.111996322870255,-0.031651824712753,-0.104646474123001,-0.017447769641876,-0.012787461280823,-0.002304943278432,-0.103887580335140,-0.024797702208161,-0.096212580800056));
return max(float4(0,0,0,0), res);
}
