sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.136837601661682,0.053909115493298,0.039629973471165,0.069389544427395,0.026192830875516,-0.239000633358955,0.121605873107910,0.098024033010006,-0.081728078424931,-0.016446396708488,0.064652375876904,0.119585350155830,-0.202817469835281,-0.099180817604065,-0.087780676782131,0.032780587673187));
res += mul(Get(s0,-dx,0), float4x4(-0.125934571027756,-0.004054999910295,-0.104533135890961,0.081660643219948,-0.026809046044946,0.104878574609756,0.030193595215678,-0.040682688355446,-0.086371533572674,-0.109387375414371,-0.107943005859852,-0.117603965103626,-0.077216207981110,0.030734203755856,-0.049747109413147,-0.009364470839500));
res += mul(Get(s0,-dx,dy), float4x4(0.037002440541983,-0.112267963588238,-0.015488985925913,-0.050070121884346,-0.127091020345688,0.064140312373638,0.075523853302002,0.110061571002007,-0.041148886084557,-0.202108919620514,0.198302954435349,0.057849742472172,-0.229206413030624,-0.035882625728846,0.107945382595062,0.009636631235480));
res += mul(Get(s0,0,-dy), float4x4(-0.101705141365528,0.032712101936340,-0.028912110254169,-0.017831373959780,-0.046933416277170,0.048169422894716,0.058067731559277,0.052926465868950,-0.060878038406372,-0.105251014232635,-0.008278433233500,-0.110335215926170,-0.011590216308832,0.089395903050900,-0.070789285004139,0.078937917947769));
res += mul(Get(s0,0,0), float4x4(0.119518943130970,-0.009917230345309,-0.013671141117811,0.040191311389208,0.062562085688114,0.240809649229050,-0.007908649742603,0.256376385688782,0.055062375962734,-0.065011054277420,0.107246607542038,0.010916669853032,0.059148039668798,-0.054462313652039,-0.003799642901868,-0.057820495218039));
res += mul(Get(s0,0,dy), float4x4(0.061740089207888,0.092535391449928,-0.063747979700565,-0.102727003395557,0.022387331351638,0.019363222643733,-0.025522220879793,0.064947344362736,-0.073988229036331,0.054028727114201,0.285147041082382,-0.148216977715492,0.126275554299355,-0.057043008506298,-0.031688269227743,0.105476766824722));
res += mul(Get(s0,dx,-dy), float4x4(0.005174187943339,-0.151343852281570,-0.066325947642326,0.009035246446729,0.051909223198891,-0.287663012742996,0.037006683647633,-0.046406373381615,0.151486858725548,0.092885561287403,-0.069331161677837,-0.048274602741003,-0.175954580307007,-0.037206348031759,0.024625245481730,-0.025191174820065));
res += mul(Get(s0,dx,0), float4x4(-0.105846121907234,0.028443114832044,0.013105438090861,-0.052955728024244,-0.107162326574326,-0.145977616310120,-0.246290296316147,0.027635961771011,-0.019229920580983,0.167777493596077,0.018559694290161,0.071213260293007,-0.231256440281868,0.036718554794788,0.224702000617981,0.035868830978870));
res += mul(Get(s0,dx,dy), float4x4(0.023909451439977,0.058524884283543,0.032753109931946,-0.033841181546450,-0.206217035651207,0.032457277178764,0.079690016806126,0.054085679352283,-0.002920791273937,0.116877205669880,-0.283264875411987,-0.019764089956880,-0.004616072867066,0.101912148296833,-0.032075539231300,0.088198371231556));
res += mul(Get(s1,-dx,-dy), float4x4(0.075380340218544,0.070463016629219,-0.114002503454685,-0.022115886211395,0.131283372640610,-0.123295046389103,0.075468137860298,0.079002775251865,-0.210127577185631,0.082930818200111,-0.150061249732971,-0.060915321111679,-0.049063716083765,-0.127732381224632,-0.087354809045792,0.042084798216820));
res += mul(Get(s1,-dx,0), float4x4(-0.050298701971769,-0.080418646335602,-0.083418369293213,-0.005923375952989,-0.043827798217535,0.133427709341049,0.009824398905039,-0.167921304702759,-0.024187002331018,0.152480080723763,-0.108606621623039,0.215971440076828,-0.041228096932173,0.102751448750496,0.021476674824953,0.001725113950670));
res += mul(Get(s1,-dx,dy), float4x4(0.148424968123436,-0.037874724715948,-0.059852749109268,0.142770245671272,-0.058880016207695,-0.091920688748360,0.085056915879250,-0.099955134093761,-0.017816323786974,0.047669880092144,-0.086898557841778,0.009506951086223,-0.155315145850182,-0.077622137963772,0.034856446087360,0.102014131844044));
res += mul(Get(s1,0,-dy), float4x4(0.051995445042849,0.021775245666504,-0.084819391369820,0.064120166003704,0.026911631226540,0.041739471256733,0.012871671468019,0.057740133255720,-0.139951184391975,0.041140589863062,-0.045127518475056,-0.074778467416763,0.070021629333496,-0.147372618317604,0.037353623658419,0.175631761550903));
res += mul(Get(s1,0,0), float4x4(0.049056917428970,-0.000277086597634,0.165059328079224,-0.093169130384922,-0.046604409813881,0.062654979526997,-0.062292139977217,0.024441691115499,-0.062880128622055,0.101841256022453,0.012000353075564,0.030834792181849,0.067244924604893,0.017267117276788,0.137130349874496,-0.015881925821304));
res += mul(Get(s1,0,dy), float4x4(-0.002172460546717,0.039839521050453,-0.011268090456724,0.126933142542839,0.027276422828436,-0.013493498787284,0.139468967914581,-0.039973605424166,-0.026554707437754,-0.012694664299488,0.084713496267796,0.059025503695011,0.135944247245789,-0.035126037895679,-0.098542213439941,-0.148905515670776));
res += mul(Get(s1,dx,-dy), float4x4(-0.058139469474554,0.082713857293129,0.048720154911280,-0.030260790139437,-0.057819619774818,0.072747640311718,-0.007981347851455,-0.006901688408107,0.061353579163551,0.078834481537342,0.117671459913254,-0.070146173238754,0.252041459083557,-0.109232746064663,0.046229474246502,-0.002583719557151));
res += mul(Get(s1,dx,0), float4x4(0.120780758559704,-0.007724307477474,-0.054083436727524,0.045144643634558,-0.001218916149810,0.051344554871321,0.237280935049057,-0.148015305399895,-0.016415664926171,0.007714172825217,-0.027659915387630,0.110391609370708,0.124500103294849,-0.046933390200138,-0.133931517601013,-0.151906520128250));
res += mul(Get(s1,dx,dy), float4x4(0.136554375290871,0.002330008428544,-0.030221067368984,-0.013154990039766,-0.152219921350479,0.246562540531158,0.105064272880554,0.006704474333674,0.182649403810501,0.022512659430504,-0.018987113609910,0.068064533174038,0.003727908013389,0.041942618787289,0.124704487621784,-0.135954380035400));
res += mul(Get(s2,-dx,-dy), float4x4(0.108535446226597,-0.020368780940771,0.249853074550629,0.046542491763830,0.002232048660517,0.050862643867731,0.058892700821161,0.060694873332977,0.097595468163490,-0.140577062964439,-0.105055175721645,-0.027258969843388,-0.130599915981293,-0.036973346024752,-0.205451473593712,-0.064082622528076));
res += mul(Get(s2,-dx,0), float4x4(0.016179719939828,-0.160520061850548,0.091258943080902,-0.095241650938988,0.007184209767729,0.160201609134674,-0.003487174632028,-0.028126230463386,0.080079600214958,0.023837953805923,-0.102177008986473,-0.057356230914593,0.028198810294271,-0.079835958778858,-0.077380709350109,0.130240410566330));
res += mul(Get(s2,-dx,dy), float4x4(-0.007936104200780,0.116034306585789,-0.122618436813354,0.095667600631714,0.043924394994974,-0.012601011432707,-0.251771181821823,0.146751239895821,0.087635748088360,0.026735410094261,0.050872121006250,0.002672420581803,-0.095878168940544,-0.266627699136734,-0.147288814187050,0.118564069271088));
res += mul(Get(s2,0,-dy), float4x4(-0.037131682038307,0.027665678411722,0.008741539902985,0.080390967428684,-0.015369066968560,-0.113272197544575,0.036048594862223,0.051708303391933,-0.030909743160009,0.098751366138458,0.004416832234710,-0.092045359313488,-0.089163593947887,0.212425962090492,0.179946646094322,0.038441233336926));
res += mul(Get(s2,0,0), float4x4(0.074596822261810,0.071398839354515,-0.042453616857529,-0.088042467832565,-0.056363675743341,-0.133562102913857,0.007531850598752,-0.054570503532887,0.003159960499033,-0.055500429123640,-0.064939528703690,-0.034897424280643,-0.047088794410229,0.054368574172258,0.166009023785591,0.079288236796856));
res += mul(Get(s2,0,dy), float4x4(0.047079920768738,-0.109795629978180,-0.131079480051994,-0.027063341811299,0.130648702383041,-0.025290159508586,-0.161401435732841,-0.065142795443535,0.207333043217659,0.168687716126442,-0.110573671758175,-0.008739663287997,0.036205310374498,0.037020381540060,-0.004520557820797,-0.116184771060944));
res += mul(Get(s2,dx,-dy), float4x4(-0.075098790228367,-0.012486032210290,-0.081951767206192,0.120138429105282,0.142065301537514,0.154194235801697,-0.021305553615093,-0.020873209461570,0.043942846357822,0.011116824112833,-0.030614236369729,-0.019717963412404,-0.163622200489044,-0.010810046456754,-0.104431189596653,0.077051393687725));
res += mul(Get(s2,dx,0), float4x4(0.070046395063400,0.116973355412483,-0.183595210313797,0.022903606295586,0.123329691588879,-0.033861692994833,0.040901921689510,0.140912517905235,-0.158536940813065,-0.153438553214073,-0.093768730759621,-0.013924790546298,-0.060161434113979,-0.072141908109188,-0.047602597624063,0.052600212395191));
res += mul(Get(s2,dx,dy), float4x4(0.112376533448696,-0.092119313776493,-0.056416358798742,-0.045236214995384,-0.070322349667549,-0.041401825845242,-0.121997848153114,0.148307740688324,-0.007238197606057,0.010071228258312,0.133154153823853,0.128429651260376,-0.067151159048080,-0.029404072090983,-0.083648197352886,-0.017319874837995));
res += mul(Get(s3,-dx,-dy), float4x4(-0.031523581594229,-0.087017767131329,-0.320640534162521,-0.049397297203541,0.152229353785515,0.173560008406639,0.027481863275170,0.016367519274354,-0.046364597976208,0.155409529805183,-0.120710238814354,0.025253843516111,0.062768407166004,-0.055675998330116,0.049855194985867,0.234728753566742));
res += mul(Get(s3,-dx,0), float4x4(0.169334039092064,0.092060126364231,-0.218735590577126,0.022663438692689,0.000150340594701,0.124415583908558,-0.043552715331316,-0.139082163572311,-0.123792439699173,0.091144569218159,0.123770594596863,0.157057315111160,0.065476208925247,0.030784387141466,0.010941282846034,-0.035715252161026));
res += mul(Get(s3,-dx,dy), float4x4(0.025529440492392,-0.017935691401362,-0.071692101657391,0.107232965528965,0.073160752654076,-0.029934290796518,-0.037989780306816,-0.120458818972111,-0.080341175198555,0.129385665059090,-0.092868603765965,0.059688542038202,-0.065307065844536,0.035999096930027,-0.016439504921436,-0.020024547353387));
res += mul(Get(s3,0,-dy), float4x4(-0.105402342975140,0.069135226309299,0.143064707517624,0.057270895689726,0.025393683463335,0.107257366180420,-0.081364102661610,-0.128594487905502,-0.033447038382292,0.124893359839916,0.036490656435490,0.104110695421696,0.053960964083672,-0.030721161514521,0.111771062016487,0.022027019411325));
res += mul(Get(s3,0,0), float4x4(0.156562656164169,0.126216471195221,0.066712021827698,-0.079523898661137,-0.058304589241743,0.087304621934891,0.030274342745543,0.048821900039911,0.033813253045082,0.138806715607643,-0.107371374964714,0.060535799711943,-0.050129946321249,-0.080284804105759,0.097347021102905,0.211608678102493));
res += mul(Get(s3,0,dy), float4x4(0.036674283444881,0.099960528314114,-0.066841572523117,-0.065926901996136,-0.016505088657141,-0.123943611979485,-0.030300397425890,0.007091475185007,-0.017974261194468,-0.055848587304354,0.160477340221405,0.105849467217922,-0.005722926929593,-0.043066661804914,0.027384834364057,0.096085183322430));
res += mul(Get(s3,dx,-dy), float4x4(0.204533427953720,0.018928991630673,0.014158281497657,-0.146725505590439,-0.052667021751404,-0.047046836465597,-0.046258188784122,0.047364994883537,0.092742748558521,-0.018382728099823,0.151761174201965,0.090418800711632,-0.037520226091146,-0.050540927797556,0.037566304206848,0.021893516182899));
res += mul(Get(s3,dx,0), float4x4(0.089456617832184,-0.149015322327614,-0.082511365413666,-0.107715144753456,-0.004972178023309,-0.037639878690243,0.102765835821629,0.023416772484779,-0.081763930618763,-0.242597177624702,-0.059214409440756,-0.177927717566490,0.116215802729130,-0.052048329263926,-0.035870939493179,-0.016926072537899));
res += mul(Get(s3,dx,dy), float4x4(0.083354212343693,0.019574537873268,-0.119691111147404,0.025012606754899,0.083784803748131,-0.053546633571386,-0.024269685149193,-0.095202833414078,0.040000393986702,0.128732129931450,-0.119452171027660,-0.020828709006310,-0.159447297453880,0.003094690386206,0.033031571656466,0.044606890529394));
return max(float4(0,0,0,0), res);
}
