sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.076457224786282,0.180276244878769,0.071905151009560,0.085352800786495,-0.029534675180912,-0.039263293147087,-0.052659351378679,-0.032482728362083,0.042028918862343,-0.041029728949070,-0.050019517540932,-0.000963585218415,-0.124716356396675,-0.109630353748798,0.051748089492321,-0.157261669635773));
res += mul(Get(s0,-dx,0), float4x4(-0.083770856261253,0.047113358974457,-0.018563162535429,-0.142978116869926,0.022784957662225,0.022107973694801,0.077068731188774,0.224134907126427,0.174097776412964,-0.063409507274628,0.115744985640049,-0.125242784619331,0.167881771922112,0.196429342031479,-0.007115587592125,-0.037488546222448));
res += mul(Get(s0,-dx,dy), float4x4(0.099525406956673,0.058620203286409,0.135927394032478,-0.021939376369119,-0.094167657196522,-0.071171149611473,-0.171730458736420,-0.049637582153082,0.203589186072350,0.033671613782644,-0.138021543622017,0.071689859032631,0.055915892124176,-0.094867303967476,0.031724356114864,-0.016597313806415));
res += mul(Get(s0,0,-dy), float4x4(0.106471300125122,0.254598915576935,-0.003756043966860,0.007449291646481,0.050379253923893,-0.051406845450401,0.084650680422783,0.079179950058460,0.014399473555386,-0.002253958024085,-0.052129503339529,0.094142504036427,-0.044953793287277,-0.003681937698275,-0.023127188906074,0.071822002530098));
res += mul(Get(s0,0,0), float4x4(-0.018041195347905,0.093233674764633,-0.118502661585808,-0.004138292279094,-0.080481030046940,0.022915828973055,0.035737406462431,0.030764034017920,0.095042139291763,-0.109900116920471,-0.203467011451721,-0.090128935873508,0.007645574398339,0.000575429934543,0.099250867962837,0.048281811177731));
res += mul(Get(s0,0,dy), float4x4(0.100228667259216,0.187197819352150,0.098919242620468,0.086090296506882,-0.033813565969467,0.087525270879269,0.008731918409467,-0.067074373364449,-0.046512000262737,0.032733585685492,-0.042585846036673,0.201197013258934,0.307893872261047,-0.135983094573021,-0.007119475863874,0.003145875409245));
res += mul(Get(s0,dx,-dy), float4x4(0.041334178298712,0.081668220460415,0.013929551467299,-0.077700145542622,-0.079400666058064,0.121270932257175,0.064700037240982,-0.077947787940502,-0.046806897968054,-0.088173232972622,-0.031586624681950,0.010086075402796,-0.173292085528374,-0.110852822661400,-0.177906453609467,-0.040443129837513));
res += mul(Get(s0,dx,0), float4x4(-0.055686708539724,-0.063600800931454,-0.010921393521130,-0.023613113909960,-0.021424710750580,-0.047663751989603,-0.172926664352417,0.116859197616577,0.100095666944981,0.069705329835415,0.031953681260347,-0.027487322688103,-0.012409145012498,0.222864091396332,-0.269541651010513,-0.060030817985535));
res += mul(Get(s0,dx,dy), float4x4(-0.032493654638529,-0.033323168754578,0.008848186582327,0.160570636391640,0.053447548300028,-0.012787408195436,0.054179649800062,-0.054854456335306,-0.143965855240822,0.051803544163704,-0.092872425913811,0.035197198390961,0.023093631491065,-0.052183184772730,-0.034898605197668,-0.225941389799118));
res += mul(Get(s1,-dx,-dy), float4x4(-0.164405778050423,-0.140642136335373,-0.066032163798809,0.026299813762307,-0.127841338515282,0.109983138740063,0.018449613824487,0.136723205447197,0.085160844027996,-0.116182707250118,0.125208348035812,-0.153768360614777,0.101541906595230,-0.061773441731930,-0.046645566821098,0.076206788420677));
res += mul(Get(s1,-dx,0), float4x4(-0.163980111479759,0.161225318908691,0.030969500541687,0.084175400435925,-0.009495174512267,-0.004659276921302,0.143726974725723,-0.037642545998096,-0.058241907507181,0.078528553247452,0.138386428356171,-0.027781175449491,0.014230405911803,-0.023355977609754,0.008113482967019,0.086514972150326));
res += mul(Get(s1,-dx,dy), float4x4(-0.001932180020958,-0.018719937652349,0.028510218486190,0.141473188996315,-0.045353826135397,0.133640736341476,0.057642251253128,0.043027300387621,0.036461345851421,0.071924656629562,0.138196572661400,0.162810757756233,-0.056820195168257,-0.131040394306183,0.006523156072944,0.034816343337297));
res += mul(Get(s1,0,-dy), float4x4(-0.068142488598824,0.100326791405678,0.041010458022356,0.065118432044983,-0.062919445335865,0.004527575802058,0.028285598382354,0.001361493719742,0.139255583286285,-0.167621538043022,-0.093034282326698,0.005856154020876,-0.071451731026173,0.011218216270208,-0.166775628924370,-0.049997076392174));
res += mul(Get(s1,0,0), float4x4(-0.062845274806023,0.117187075316906,0.004398695658892,-0.032165780663490,0.023365117609501,-0.103467278182507,-0.071157194674015,-0.056380365043879,-0.207522407174110,0.103795126080513,-0.078465253114700,-0.128891795873642,-0.053202912211418,0.005102739669383,-0.006410874892026,-0.092513501644135));
res += mul(Get(s1,0,dy), float4x4(0.128457263112068,-0.242050498723984,0.022833608090878,0.087582372128963,0.019396329298615,0.066289439797401,0.124164685606956,-0.026554042473435,-0.032472778111696,0.016051849350333,0.010656120255589,0.029468517750502,-0.115132801234722,0.112129412591457,-0.059240762144327,-0.005308116320521));
res += mul(Get(s1,dx,-dy), float4x4(-0.023275541141629,0.108270399272442,-0.070641279220581,0.096827201545238,-0.016973394900560,0.024586440995336,-0.024579584598541,-0.067008532583714,-0.090792641043663,-0.171493262052536,-0.090298630297184,0.064315438270569,-0.028907870873809,0.169107466936111,0.009225660003722,0.044844985008240));
res += mul(Get(s1,dx,0), float4x4(0.057845830917358,0.236411526799202,-0.031576085835695,-0.067350670695305,0.035954028367996,-0.049989089369774,-0.076768517494202,-0.132040500640869,0.072437882423401,0.056904587894678,-0.088649012148380,-0.209005996584892,-0.053803481161594,0.091085053980350,0.077153049409389,-0.032315339893103));
res += mul(Get(s1,dx,dy), float4x4(0.048266075551510,-0.090788826346397,-0.076073132455349,0.145459637045860,0.044248383492231,-0.011838698759675,-0.045095402747393,-0.071902438998222,0.090791307389736,-0.086796768009663,-0.060212090611458,-0.116821512579918,0.145663112401962,-0.002344030886889,0.032109510153532,0.093857415020466));
res += mul(Get(s2,-dx,-dy), float4x4(0.090634554624557,0.031726859509945,-0.126043066382408,0.075131736695766,0.076294839382172,0.034165117889643,-0.034924317151308,-0.026651563122869,-0.024774346500635,-0.000192755440366,0.081179745495319,0.028410747647285,0.076978296041489,-0.051896937191486,-0.058575592935085,-0.045669753104448));
res += mul(Get(s2,-dx,0), float4x4(0.000189257974853,0.074700914323330,-0.056324500590563,-0.007265527732670,0.103734903037548,0.028836650773883,-0.050565842539072,-0.099190756678581,0.014077500440180,-0.117025054991245,-0.078601501882076,-0.069918267428875,0.096765354275703,-0.043113101273775,-0.079369813203812,-0.074841879308224));
res += mul(Get(s2,-dx,dy), float4x4(0.030863661319017,0.017778858542442,-0.142430141568184,0.044567707926035,-0.066844657063484,0.058345533907413,0.109929203987122,0.055835574865341,0.150973886251450,0.116765700280666,0.136337682604790,0.111026234924793,0.163769945502281,-0.036798454821110,0.001940060523339,0.072630435228348));
res += mul(Get(s2,0,-dy), float4x4(0.047075044363737,0.043869055807590,-0.007482808548957,0.031548839062452,0.024587925523520,0.017680160701275,0.061352550983429,-0.021749125793576,0.007704164832830,0.113013386726379,-0.024364305660129,0.064452007412910,-0.044877219945192,0.033337280154228,0.123427517712116,-0.044796358793974));
res += mul(Get(s2,0,0), float4x4(0.108582876622677,-0.025532145053148,-0.101303622126579,-0.087577611207962,-0.010562994517386,-0.096924439072609,0.106840550899506,-0.083982579410076,-0.085140071809292,-0.040919981896877,0.056869223713875,0.176683619618416,0.242563128471375,-0.117788396775723,-0.070025503635406,0.107244282960892));
res += mul(Get(s2,0,dy), float4x4(0.090270511806011,-0.022015301510692,0.007619461510330,-0.089270427823067,0.029928857460618,-0.149495378136635,0.071288347244263,0.177768990397453,-0.098543390631676,0.124811448156834,0.161760792136192,-0.002790398662910,0.152810454368591,-0.090568825602531,-0.025621058419347,0.086140744388103));
res += mul(Get(s2,dx,-dy), float4x4(-0.246422320604324,0.109150059521198,-0.059889443218708,0.121760688722134,0.104351565241814,0.106414377689362,0.113600619137287,0.027329502627254,0.054308101534843,0.198368921875954,-0.033552214503288,-0.035064876079559,-0.188199967145920,0.160898119211197,-0.068498186767101,-0.132511451840401));
res += mul(Get(s2,dx,0), float4x4(-0.106439590454102,0.032096751034260,-0.032344490289688,0.025563601404428,-0.024105796590447,0.007314954418689,-0.031294759362936,0.030818304046988,-0.059143643826246,0.139973416924477,-0.104374594986439,0.094146989285946,-0.015719648450613,-0.118061654269695,-0.128322094678879,0.002520938869566));
res += mul(Get(s2,dx,dy), float4x4(-0.044467087835073,-0.059027928858995,-0.118429258465767,0.019477711990476,0.178242102265358,-0.127168729901314,-0.085502833127975,-0.069538094103336,-0.072813868522644,0.070977300405502,0.053687676787376,0.017287204042077,0.053161170333624,0.010931403376162,0.004525637719780,-0.002749791368842));
res += mul(Get(s3,-dx,-dy), float4x4(0.133670672774315,-0.037676695734262,-0.100252576172352,0.086334675550461,0.022987982258201,0.070231877267361,0.110317274928093,0.060382772237062,-0.087975919246674,-0.061361014842987,-0.126048713922501,-0.090337432920933,-0.022279029712081,-0.011523532681167,0.037171352654696,0.038250338286161));
res += mul(Get(s3,-dx,0), float4x4(0.115003362298012,0.039415486156940,0.079074464738369,0.055286310613155,-0.089760079979897,0.015877997502685,-0.079466640949249,-0.173554778099060,-0.125545606017113,-0.027502153068781,0.073892399668694,-0.034979518502951,-0.078231714665890,-0.135908484458923,0.121447123587132,-0.007778380531818));
res += mul(Get(s3,-dx,dy), float4x4(0.040229041129351,0.007572035305202,-0.047422137111425,-0.069005288183689,0.044383313506842,-0.025126781314611,0.335921823978424,0.036116547882557,-0.169123500585556,-0.200436353683472,-0.064171575009823,0.061126720160246,-0.063319005072117,-0.028220923617482,-0.019605971872807,0.005343693774194));
res += mul(Get(s3,0,-dy), float4x4(0.078376308083534,0.191440746188164,-0.068793997168541,0.037080924957991,0.082119137048721,-0.047558847814798,0.170697897672653,0.219879314303398,0.131401389837265,-0.017303388565779,0.060306072235107,-0.026428952813148,0.003320822725073,0.016026869416237,0.130226567387581,0.045165773481131));
res += mul(Get(s3,0,0), float4x4(0.025203984230757,0.103596545755863,-0.097196057438850,0.201391279697418,-0.029718380421400,0.016081867739558,-0.091343477368355,0.062930062413216,0.068697825074196,0.149455815553665,0.096038989722729,0.087274156510830,-0.032938335090876,0.129007115960121,0.093946479260921,-0.049514997750521));
res += mul(Get(s3,0,dy), float4x4(-0.111775316298008,0.145867004990578,0.017681896686554,0.067405417561531,0.124910391867161,0.041136562824249,0.012001554481685,0.157919734716415,-0.090906716883183,-0.022667935118079,-0.021494330838323,0.032709747552872,-0.179103136062622,-0.169901087880135,-0.157381892204285,0.025641037151217));
res += mul(Get(s3,dx,-dy), float4x4(0.205949321389198,-0.057293999940157,0.021790340542793,-0.011030034162104,-0.081093244254589,0.131212458014488,-0.001787434914149,-0.064001321792603,0.015435800887644,-0.091185472905636,0.189037710428238,-0.001301067997701,-0.060187980532646,0.223596379160881,-0.087158747017384,-0.047663751989603));
res += mul(Get(s3,dx,0), float4x4(-0.023372538387775,0.064895465970039,0.072134763002396,0.076451003551483,-0.097398854792118,-0.014145507477224,-0.033904533833265,-0.079002752900124,0.222754016518593,0.151640102267265,0.059866219758987,-0.064630642533302,-0.027411608025432,0.120857886970043,-0.109531283378601,-0.048032037913799));
res += mul(Get(s3,dx,dy), float4x4(-0.124146677553654,-0.056155320256948,-0.024248505011201,0.089549146592617,-0.089105635881424,0.141666144132614,-0.057294845581055,-0.099582716822624,-0.048037279397249,0.085702367126942,0.082792803645134,-0.129335477948189,0.073874324560165,0.215147569775581,0.092922732234001,0.084350265562534));
return max(float4(0,0,0,0), res);
}
