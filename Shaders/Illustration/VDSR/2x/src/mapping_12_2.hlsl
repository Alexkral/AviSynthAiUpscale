sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.087607137858868,-0.084547810256481,-0.071306474506855,-0.056377898901701,-0.093453340232372,-0.205209344625473,-0.026399165391922,-0.003045610850677,0.036438930779696,-0.076625064015388,0.000552142504603,-0.033915285021067,-0.029453625902534,-0.133224263787270,-0.067966565489769,0.141215458512306));
res += mul(Get(s0,-dx,0), float4x4(0.016584774479270,0.012214847840369,-0.092348180711269,-0.036941763013601,0.056115001440048,-0.133088782429695,-0.090353332459927,-0.063098028302193,-0.143539309501648,0.011642793193460,-0.031898550689220,0.012965516187251,0.051018662750721,-0.025089692324400,0.064053080976009,0.092907130718231));
res += mul(Get(s0,-dx,dy), float4x4(0.084857046604156,0.165865063667297,-0.005207931157202,-0.027180263772607,-0.034511260688305,0.058002322912216,0.072757691144943,-0.026783969253302,-0.177364423871040,0.106252081692219,-0.061099588871002,0.001853966619819,-0.006068689282984,0.010741079226136,0.061192259192467,0.138957262039185));
res += mul(Get(s0,0,-dy), float4x4(-0.048119891434908,0.006988440174609,-0.109273165464401,0.009494751691818,-0.120471253991127,-0.013478644192219,0.008466511964798,-0.025333538651466,-0.094645887613297,-0.105353482067585,0.067338787019253,-0.046282876282930,-0.081857390701771,-0.004897047765553,-0.011503026820719,-0.168456196784973));
res += mul(Get(s0,0,0), float4x4(0.121150419116020,0.006367046386003,-0.109853491187096,-0.049858152866364,0.185465931892395,0.063042365014553,-0.061742808669806,-0.124287098646164,-0.089126229286194,-0.033210959285498,-0.154479384422302,-0.077964842319489,-0.085956104099751,0.042669635266066,0.095577329397202,0.058303873986006));
res += mul(Get(s0,0,dy), float4x4(0.114959865808487,0.174641966819763,0.093880362808704,-0.061612084507942,-0.001960818888620,0.171682357788086,-0.046177148818970,-0.129646286368370,-0.129657000303268,0.060388602316380,-0.072171799838543,-0.142964214086533,-0.051366161555052,0.072388380765915,0.006252163555473,-0.087980046868324));
res += mul(Get(s0,dx,-dy), float4x4(0.160635516047478,0.068251788616180,-0.050843447446823,0.126990780234337,0.181304797530174,-0.069377392530441,0.023390108719468,-0.010983852669597,-0.011531013995409,-0.030676247552037,-0.020162444561720,-0.026615394279361,-0.029740931466222,-0.092339411377907,0.060490932315588,-0.075112156569958));
res += mul(Get(s0,dx,0), float4x4(0.148318052291870,-0.037524696439505,-0.028311938047409,0.172684088349342,0.148433163762093,-0.098236136138439,0.008890838362277,0.009666929952800,0.031764615327120,-0.006812579464167,-0.169488891959190,-0.034183535724878,-0.034436263144016,0.007711893413216,0.111350879073143,0.046848151832819));
res += mul(Get(s0,dx,dy), float4x4(0.121776990592480,-0.092293292284012,0.050367943942547,0.132786288857460,0.008198540657759,0.098458513617516,-0.066810250282288,0.008560938760638,0.236779332160950,-0.007256423123181,-0.141603484749794,-0.094816677272320,-0.003621922107413,0.024815825745463,0.026647767052054,-0.038995090872049));
res += mul(Get(s1,-dx,-dy), float4x4(0.064375489950180,-0.079821676015854,0.039606645703316,-0.025789240375161,0.001221626996994,-0.102492272853851,-0.166296675801277,0.245582863688469,-0.090655140578747,0.002111238427460,-0.088550545275211,-0.021247239783406,-0.249706238508224,-0.106785707175732,0.126997426152229,0.100582338869572));
res += mul(Get(s1,-dx,0), float4x4(-0.095957696437836,-0.101019941270351,0.301380485296249,-0.002783031668514,0.100111581385136,0.003867029678077,-0.164506912231445,0.119569361209869,0.026854652911425,-0.009788132272661,0.047198224812746,0.126838594675064,-0.194376856088638,-0.056445438414812,-0.078699409961700,0.019095035269856));
res += mul(Get(s1,-dx,dy), float4x4(0.001610826351680,0.204172611236572,0.105660401284695,0.066219404339790,-0.095439828932285,0.170344337821007,-0.076659902930260,0.167394503951073,-0.053049620240927,0.263278454542160,-0.087451800704002,0.096948578953743,-0.037968009710312,0.031672190874815,-0.159439802169800,-0.077322609722614));
res += mul(Get(s1,0,-dy), float4x4(0.005834105890244,-0.000616497593001,0.090817041695118,-0.077980071306229,-0.019263010472059,0.025973785668612,-0.040288344025612,0.019903909415007,-0.148359805345535,0.124312669038773,-0.114849053323269,-0.042188283056021,0.051155179738998,-0.028394820168614,0.141629233956337,0.211821943521500));
res += mul(Get(s1,0,0), float4x4(-0.070407018065453,-0.073207952082157,0.015511271543801,-0.082807652652264,0.074839495122433,0.072612985968590,-0.038866054266691,0.063177123665810,-0.010376777499914,0.019630149006844,0.059668511152267,-0.078951083123684,0.082738123834133,0.051915999501944,-0.173634782433510,0.364880681037903));
res += mul(Get(s1,0,dy), float4x4(-0.030568102374673,0.168514624238014,-0.086437404155731,-0.069840237498283,0.068451784551144,0.070147275924683,-0.107725992798805,0.071497634053230,-0.097496308386326,0.044595096260309,0.150616854429245,0.008786461316049,0.117032557725906,0.120502077043056,-0.231328621506691,-0.076444365084171));
res += mul(Get(s1,dx,-dy), float4x4(0.027259679511189,0.040101524442434,-0.052910391241312,-0.027250094339252,-0.034654729068279,-0.094791814684868,0.002688950393349,0.045457642525434,-0.079781122505665,-0.042067550122738,-0.030820420011878,0.060657136142254,-0.032493170350790,-0.018612740561366,-0.088016837835312,0.024159492924809));
res += mul(Get(s1,dx,0), float4x4(0.054438941180706,0.034773483872414,-0.024284921586514,0.108270213007927,0.095194578170776,0.012444508261979,-0.031526882201433,0.088871732354164,-0.014710361137986,0.230529397726059,0.021718630567193,0.020178090780973,0.013406694866717,-0.044615857303143,0.137682914733887,0.105759344995022));
res += mul(Get(s1,dx,dy), float4x4(0.079169638454914,0.247093558311462,0.045144509524107,-0.021210528910160,0.063721328973770,0.057444844394922,-0.023886743932962,0.089282184839249,-0.091906383633614,0.081485614180565,0.090886898338795,-0.055541358888149,-0.068636097013950,0.146164715290070,-0.069596260786057,0.208316698670387));
res += mul(Get(s2,-dx,-dy), float4x4(-0.072533935308456,-0.125267922878265,0.063577659428120,-0.003267911495641,-0.074928708374500,0.108419105410576,0.153780326247215,0.034169264137745,-0.041079729795456,-0.054512649774551,-0.023539995774627,-0.061969526112080,0.099829815328121,-0.121192000806332,-0.050459746271372,-0.162385433912277));
res += mul(Get(s2,-dx,0), float4x4(-0.097308583557606,0.051946152001619,0.095125183463097,0.096787668764591,-0.102415546774864,0.133224770426750,-0.032183557748795,-0.133691191673279,-0.039474956691265,-0.072400093078613,-0.079222217202187,-0.087240062654018,0.099961660802364,-0.062761068344116,0.052091989666224,0.043457724153996));
res += mul(Get(s2,-dx,dy), float4x4(-0.041255872696638,0.111919589340687,-0.011503355577588,0.029578056186438,-0.103059060871601,0.195934101939201,-0.048442386090755,-0.065698601305485,-0.067706458270550,-0.013796648941934,-0.098478816449642,-0.023116756230593,0.076198585331440,0.061832483857870,-0.097324997186661,-0.066430874168873));
res += mul(Get(s2,0,-dy), float4x4(-0.094804815948009,-0.080232657492161,0.161528319120407,-0.078016400337219,-0.092367514967918,0.061359398066998,0.215899437665939,0.068295210599899,-0.128953158855438,-0.067132674157619,-0.105320289731026,-0.109064437448978,-0.093540102243423,-0.129933804273605,0.064398482441902,-0.146589994430542));
res += mul(Get(s2,0,0), float4x4(-0.087972074747086,-0.025027306750417,-0.059446603059769,-0.107884295284748,-0.082320019602776,0.047814268618822,-0.109526008367538,-0.102266252040863,0.020561886951327,-0.054445534944534,-0.115472629666328,-0.066728167235851,-0.060095552355051,-0.163490295410156,0.305862426757813,0.041784111410379));
res += mul(Get(s2,0,dy), float4x4(-0.008357435464859,0.067545697093010,-0.083424754440784,-0.047588832676411,0.044667560607195,0.056778702884912,0.078219681978226,-0.075810983777046,-0.001245155115612,-0.029133694246411,-0.054867051541805,-0.034064579755068,0.023540621623397,0.053609125316143,-0.092660598456860,-0.057752985507250));
res += mul(Get(s2,dx,-dy), float4x4(-0.135548770427704,-0.101806521415710,0.123835444450378,-0.026707706972957,-0.054336536675692,-0.098386757075787,0.082703232765198,0.026685610413551,-0.130564093589783,0.013238989748061,-0.098271958529949,0.103905856609344,-0.093965001404285,0.065115965902805,0.111359693109989,-0.093856595456600));
res += mul(Get(s2,dx,0), float4x4(-0.087920144200325,-0.051998902112246,-0.036983571946621,-0.154514491558075,-0.005159012973309,0.001721051055938,-0.005470730364323,0.162591516971588,-0.037572201341391,0.088005892932415,-0.043582536280155,-0.011775987222791,-0.088284298777580,-0.170616403222084,0.087770693004131,-0.164260700345039));
res += mul(Get(s2,dx,dy), float4x4(-0.033613249659538,0.053035560995340,-0.085802830755711,-0.233824893832207,0.013832876458764,-0.008033161051571,-0.025847723707557,-0.058575641363859,0.049658544361591,0.137291774153709,-0.029229652136564,-0.019384879618883,0.166338890790939,0.106890834867954,-0.003791745519266,-0.047207519412041));
res += mul(Get(s3,-dx,-dy), float4x4(0.137612462043762,-0.109784387052059,-0.090548940002918,-0.090404875576496,0.179902389645576,-0.045692037791014,-0.152881324291229,0.149284720420837,-0.024281069636345,0.128447249531746,-0.086186818778515,-0.080748938024044,0.100302807986736,-0.094642646610737,0.057115647941828,0.099484644830227));
res += mul(Get(s3,-dx,0), float4x4(0.197595819830894,-0.095755241811275,0.049416396766901,-0.025412563234568,0.182827189564705,-0.035592649132013,0.279126971960068,0.262629777193069,0.130035325884819,0.089349210262299,0.191852673888206,-0.012511095032096,0.080511599779129,-0.011605319567025,-0.135919734835625,0.084484353661537));
res += mul(Get(s3,-dx,dy), float4x4(-0.042555652558804,0.002762086689472,-0.063027255237103,-0.076448209583759,-0.050232570618391,0.052236329764128,0.074070744216442,0.178203687071800,0.100984588265419,0.118443831801414,0.121878176927567,-0.032516971230507,0.097533345222473,0.076753854751587,-0.103269226849079,0.155946880578995));
res += mul(Get(s3,0,-dy), float4x4(0.198996499180794,-0.092540189623833,-0.015126520767808,0.009011429734528,0.012426301836967,-0.108995296061039,-0.034621782600880,-0.066835030913353,0.129757881164551,0.003501664614305,-0.117896400392056,-0.055380687117577,-0.004435485228896,-0.046971157193184,0.231794536113739,0.090572357177734));
res += mul(Get(s3,0,0), float4x4(-0.029234578832984,0.053789969533682,0.174930021166801,0.032445464283228,-0.175914570689201,-0.044082816690207,0.016053386032581,-0.062964394688606,0.151349827647209,-0.056354705244303,0.071042507886887,0.081966191530228,0.003219360020012,0.070935629308224,0.101648263633251,0.212894380092621));
res += mul(Get(s3,0,dy), float4x4(-0.131112694740295,0.038345292210579,0.006405378691852,-0.074152521789074,-0.154802784323692,0.173857331275940,-0.008615217171609,0.019107805565000,-0.053942151367664,0.133469954133034,0.063526771962643,0.095827080309391,0.100363977253437,0.245662569999695,0.003710231045261,0.107630379498005));
res += mul(Get(s3,dx,-dy), float4x4(0.037145193666220,-0.070561230182648,0.098523966968060,-0.062768012285233,0.129716277122498,-0.112314119935036,-0.041705738753080,-0.119545988738537,-0.037771940231323,-0.129383862018585,-0.045454476028681,-0.057120960205793,-0.118998147547245,-0.057848926633596,-0.061162646859884,-0.110340528190136));
res += mul(Get(s3,dx,0), float4x4(-0.091245770454407,-0.048611119389534,-0.063756518065929,-0.032964035868645,0.036565091460943,-0.036854442209005,0.026678742840886,-0.058047935366631,0.018759818747640,-0.065123856067657,0.078221283853054,0.021954281255603,-0.023961195722222,-0.036857724189758,-0.089757576584816,0.046085216104984));
res += mul(Get(s3,dx,dy), float4x4(-0.075614146888256,-0.038453325629234,-0.110491394996643,-0.084655202925205,0.082687810063362,0.031057434156537,0.040283277630806,-0.076129920780659,-0.031157447025180,0.060377940535545,-0.018072344362736,-0.004085017833859,-0.048881042748690,0.170274004340172,-0.080895982682705,-0.000700884847902));
return max(float4(0,0,0,0), res);
}
