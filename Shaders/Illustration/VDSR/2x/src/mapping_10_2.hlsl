sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.084851510822773,-0.040697611868382,-0.108189083635807,-0.107190273702145,-0.094822794198990,-0.081386707723141,-0.073622383177280,-0.048001237213612,-0.021443316712976,-0.014591133221984,-0.012715527787805,-0.113460399210453,-0.086867935955524,-0.146789819002151,-0.066855423152447,-0.004291731864214));
res += mul(Get(s0,-dx,0), float4x4(-0.018207106739283,0.003211661009118,-0.041988685727119,-0.131079375743866,-0.055336635559797,-0.048936843872070,-0.166193306446075,-0.081940926611423,-0.029696002602577,-0.029854882508516,-0.030014364048839,0.061472296714783,-0.100240945816040,-0.254624694585800,0.125080138444901,-0.002629705704749));
res += mul(Get(s0,-dx,dy), float4x4(-0.020701678469777,-0.018637863919139,-0.003761905478314,-0.064821533858776,-0.030650835484266,-0.082871280610561,0.188525468111038,0.036080922931433,-0.016276178881526,-0.078306056559086,0.045195586979389,0.134839460253716,-0.057186976075172,-0.150837019085884,0.133564069867134,0.010229446925223));
res += mul(Get(s0,0,-dy), float4x4(-0.184658095240593,0.100096628069878,0.100080303847790,0.038260877132416,-0.071625120937824,-0.085385248064995,-0.055010825395584,0.042714748531580,0.021679060533643,0.196340426802635,0.522781372070313,0.041401214897633,-0.047100644558668,0.209906280040741,0.028296506032348,0.002774677705020));
res += mul(Get(s0,0,0), float4x4(0.036471318453550,0.100680261850357,0.020175969228148,0.053057923913002,-0.086417824029922,-0.059276107698679,0.101614624261856,0.012749239802361,0.002958821598440,-0.000693426409271,-0.134736448526382,-0.118082568049431,0.002929650479928,0.430041551589966,0.078431680798531,0.038792036473751));
res += mul(Get(s0,0,dy), float4x4(-0.040362581610680,-0.072518788278103,0.147253647446632,0.071841061115265,-0.045091204345226,-0.038235045969486,0.094895906746387,0.106157720088959,0.143069595098495,-0.016092617064714,-0.035131838172674,-0.284467697143555,-0.027689523994923,0.086636036634445,0.081943407654762,-0.035040177404881));
res += mul(Get(s0,dx,-dy), float4x4(0.310160815715790,0.093646906316280,0.099491149187088,0.064570806920528,0.088527977466583,0.151917010545731,0.170425474643707,0.021542685106397,0.077300086617470,-0.068428240716457,0.113458067178726,0.185569763183594,0.008663332089782,-0.040193226188421,-0.013395180925727,0.024411983788013));
res += mul(Get(s0,dx,0), float4x4(-0.113565944135189,-0.013505794107914,-0.066183313727379,-0.076936803758144,-0.021632986143231,-0.013338059186935,0.228521838784218,0.009204001165926,0.287221848964691,-0.093084670603275,0.054533418267965,-0.000008904406968,-0.000400705233915,-0.065063506364822,-0.028409088030457,-0.013551834039390));
res += mul(Get(s0,dx,dy), float4x4(0.048120088875294,-0.095514930784702,0.099492415785789,0.118445806205273,-0.016089212149382,-0.069295547902584,0.113466590642929,-0.001293804030865,0.070918351411819,-0.001750775147229,-0.073449388146400,0.011605192907155,-0.094303868710995,0.009487123228610,-0.023175615817308,-0.056520313024521));
res += mul(Get(s1,-dx,-dy), float4x4(-0.059912037104368,0.141304969787598,-0.028010822832584,-0.034296102821827,0.073413833975792,0.019807521253824,-0.033575601875782,-0.100690104067326,0.104357793927193,-0.047093980014324,-0.082924716174603,-0.038984622806311,0.016533812507987,-0.135544016957283,-0.132976725697517,-0.023974867537618));
res += mul(Get(s1,-dx,0), float4x4(0.117637641727924,0.191243559122086,0.062705412507057,0.022530857473612,-0.076091215014458,-0.086439155042171,-0.152834191918373,-0.054361693561077,0.074311919510365,-0.023988947272301,-0.006378450896591,-0.092467233538628,0.039073463529348,-0.058253943920135,0.096762336790562,-0.010605663992465));
res += mul(Get(s1,-dx,dy), float4x4(0.106453932821751,0.069989658892155,0.056615166366100,0.024750789627433,-0.032276988029480,0.020071774721146,0.041949655860662,-0.067392975091934,0.061976201832294,0.071633316576481,-0.037800788879395,-0.099889397621155,0.104132987558842,0.071641266345978,0.004355664830655,0.068707458674908));
res += mul(Get(s1,0,-dy), float4x4(-0.110536448657513,0.014732758514583,-0.104886710643768,0.059929970651865,0.021452974528074,-0.030724892392755,-0.062191393226385,-0.039232600480318,-0.018507925793529,0.057256497442722,-0.064065106213093,0.070226319134235,-0.039264027029276,0.004031056072563,-0.175745263695717,-0.042678754776716));
res += mul(Get(s1,0,0), float4x4(-0.011431938037276,-0.043499555438757,-0.009402382187545,-0.003230281639844,0.010775277391076,-0.068237528204918,0.020124759525061,-0.017578057944775,0.253697425127029,0.087611041963100,0.062923453748226,-0.000247469230089,0.020380392670631,-0.038657698780298,0.067084357142448,-0.057516898959875));
res += mul(Get(s1,0,dy), float4x4(0.038676857948303,0.059765055775642,0.070288404822350,0.020314402878284,-0.010612113401294,-0.071684665977955,0.085496731102467,0.033790845423937,-0.006869355682284,-0.011885735206306,-0.015539884567261,-0.084364369511604,0.220963582396507,0.054526343941689,0.025444520637393,-0.051875893026590));
res += mul(Get(s1,dx,-dy), float4x4(-0.087334431707859,-0.125393062829971,0.060522973537445,0.144662901759148,0.062328189611435,0.073092855513096,0.042435381561518,0.055646445602179,0.041180398315191,0.038981124758720,0.158459052443504,0.052254341542721,-0.040673669427633,-0.026424322277308,0.044944748282433,-0.055022437125444));
res += mul(Get(s1,dx,0), float4x4(-0.054145406931639,-0.001607167068869,-0.050194766372442,0.107286304235458,0.013785681687295,0.188724845647812,0.054269496351480,0.009084109216928,0.344461709260941,-0.121468313038349,0.097035095095634,0.089585207402706,0.121638871729374,0.117146968841553,-0.024804878979921,-0.003447192721069));
res += mul(Get(s1,dx,dy), float4x4(-0.020914677530527,-0.000192181483726,-0.060348819941282,0.033999871462584,-0.031504169106483,0.110855244100094,-0.006010529585183,-0.004549325443804,-0.005732527468354,-0.044713877141476,0.046163003891706,0.101884372532368,0.025652788579464,0.104423604905605,0.014435897581279,0.144562095403671));
res += mul(Get(s2,-dx,-dy), float4x4(0.002110757399350,-0.143239960074425,-0.153413295745850,-0.056216608732939,0.093046255409718,0.176727995276451,0.162412747740746,0.154344514012337,-0.039703473448753,-0.078409694135189,-0.066242687404156,0.012051025405526,-0.004270820878446,-0.200435161590576,-0.119219578802586,-0.070095993578434));
res += mul(Get(s2,-dx,0), float4x4(-0.115105040371418,-0.068701207637787,0.060095593333244,0.042336706072092,0.033926028758287,0.044362112879753,0.038721878081560,0.014424608089030,0.061271294951439,-0.095861114561558,-0.034248489886522,0.136366695165634,-0.007741946261376,-0.089552909135818,-0.048772539943457,-0.057982463389635));
res += mul(Get(s2,-dx,dy), float4x4(-0.032245002686977,0.038122240453959,-0.117164462804794,0.087895512580872,0.124984927475452,0.110601313412189,0.020095480605960,-0.014913519844413,0.071851514279842,-0.013710639439523,-0.066255316138268,0.046299815177917,-0.117962427437305,0.053220354020596,-0.019656196236610,0.134622573852539));
res += mul(Get(s2,0,-dy), float4x4(-0.068649068474770,0.118459828197956,-0.123563043773174,-0.120391339063644,-0.071750909090042,-0.055663622915745,0.090163730084896,0.178146690130234,-0.145266875624657,0.159785032272339,0.084404766559601,0.071653522551060,0.131913006305695,0.125169098377228,-0.164537668228149,-0.001587313949130));
res += mul(Get(s2,0,0), float4x4(0.023504424840212,0.077339932322502,0.082917362451553,-0.026510175317526,-0.093166828155518,-0.113602191209793,-0.024699952453375,0.076303139328957,-0.119271434843540,0.100331462919712,-0.088204741477966,0.629300892353058,-0.015195965766907,0.061984460800886,-0.035228364169598,0.059285245835781));
res += mul(Get(s2,0,dy), float4x4(-0.013252120465040,0.093116030097008,0.045907631516457,-0.052873823791742,0.059498980641365,0.063766576349735,-0.030896663665771,-0.175171360373497,0.014318115077913,0.106850840151310,-0.078131757676601,-0.053747903555632,-0.047716800123453,0.030284529551864,-0.055896732956171,0.108888238668442));
res += mul(Get(s2,dx,-dy), float4x4(-0.040653679519892,0.011694936081767,0.038412719964981,-0.111644707620144,0.029669476673007,-0.125259205698967,-0.095852702856064,0.064453162252903,-0.073337256908417,0.050585739314556,-0.015870999544859,0.105078563094139,0.006959361489862,0.066899351775646,-0.235398411750793,-0.093290925025940));
res += mul(Get(s2,dx,0), float4x4(-0.139833852648735,-0.049179259687662,0.014163190498948,-0.031067192554474,0.039129890501499,-0.107742525637150,0.040250677615404,0.208011090755463,0.002873234450817,-0.075985372066498,0.091974832117558,0.192050457000732,0.084913998842239,0.048159260302782,-0.135451868176460,-0.156460866332054));
res += mul(Get(s2,dx,dy), float4x4(-0.029226815328002,-0.093735128641129,-0.008892622776330,0.040464062243700,0.174980252981186,0.015782920643687,-0.068124987185001,0.017754917964339,0.143164157867432,0.029200712218881,0.007598975673318,-0.005011952482164,-0.099341563880444,-0.031768027693033,-0.060493409633636,-0.072353526949883));
res += mul(Get(s3,-dx,-dy), float4x4(0.034732472151518,-0.129599809646606,-0.040967456996441,-0.103682070970535,-0.133557394146919,-0.077057175338268,-0.119894586503506,-0.077518768608570,0.035171691328287,0.099985904991627,0.197358101606369,-0.023230167105794,0.024408705532551,-0.004459299147129,-0.011396067216992,-0.029551021754742));
res += mul(Get(s3,-dx,0), float4x4(-0.063180312514305,-0.166503787040710,-0.130757823586464,-0.153151780366898,-0.036223024129868,0.123092912137508,-0.028242165222764,0.113642469048500,0.023416029289365,0.036755081266165,0.064402423799038,-0.007744918111712,0.007283914368600,-0.032228957861662,0.012918146327138,0.050681356340647));
res += mul(Get(s3,-dx,dy), float4x4(-0.013084361329675,-0.097724907100201,-0.006787947379053,-0.168967798352242,-0.072440370917320,0.098829537630081,0.061912219971418,0.088805064558983,0.036157391965389,0.065738596022129,0.047109305858612,-0.061610493808985,-0.096115000545979,-0.074933603405952,-0.059403441846371,-0.028626386076212));
res += mul(Get(s3,0,-dy), float4x4(-0.019687967374921,-0.034395955502987,-0.177011474967003,-0.032527696341276,-0.081185869872570,-0.022967046126723,-0.084168292582035,0.047258626669645,0.089882872998714,-0.101077899336815,0.193931087851524,0.069551981985569,0.078476347029209,0.032666869461536,0.009046496823430,-0.030377443879843));
res += mul(Get(s3,0,0), float4x4(-0.033389534801245,-0.025306100025773,-0.082591205835342,-0.033270638436079,-0.000234059698414,0.099730134010315,-0.006814586929977,0.052044644951820,0.051815815269947,-0.129485458135605,0.169752508401871,0.070632576942444,-0.085131987929344,-0.130279213190079,0.324938267469406,0.083248794078827));
res += mul(Get(s3,0,dy), float4x4(0.065179340541363,-0.035143464803696,-0.080277182161808,0.053589370101690,-0.042242221534252,0.030828747898340,-0.019374076277018,-0.093269720673561,0.065222650766373,-0.039976343512535,-0.015781693160534,0.053597487509251,-0.000730784377083,-0.076058000326157,0.005314175970852,0.096262738108635));
res += mul(Get(s3,dx,-dy), float4x4(0.005940961185843,0.206557556986809,-0.042344227433205,0.098920360207558,-0.091932117938995,0.223748728632927,-0.157007187604904,0.043389163911343,0.088373959064484,0.083884723484516,0.076672136783600,-0.067137427628040,-0.066355109214783,-0.048964489251375,0.012424854561687,-0.120687991380692));
res += mul(Get(s3,dx,0), float4x4(0.118223063647747,0.044633414596319,-0.078360036015511,0.071469157934189,0.073331475257874,0.178688108921051,-0.060501646250486,0.007356211543083,0.038036659359932,-0.006330381147563,0.055378861725330,0.001092889579013,-0.013861915096641,-0.095944330096245,0.001408603508025,0.081239379942417));
res += mul(Get(s3,dx,dy), float4x4(0.051856447011232,-0.052633985877037,0.034155271947384,-0.051023412495852,0.062124580144882,-0.008722330443561,-0.067519143223763,0.092845633625984,-0.040412664413452,-0.073237970471382,0.180111601948738,0.070710130035877,-0.119529686868191,0.024777665734291,-0.009953625500202,-0.093325749039650));
return max(float4(0,0,0,0), res);
}
