sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.105805605649948,0.118022464215755,0.021890908479691,0.283592760562897,-0.070615641772747,-0.099199011921883,-0.113554418087006,0.048524763435125,0.011458530090749,-0.031431209295988,0.002621176419780,0.075204364955425,0.186031505465508,0.119885161519051,-0.190009295940399,-0.145853191614151));
res += mul(Get(s0,-dx,0), float4x4(-0.025539077818394,-0.023826535791159,0.085309527814388,0.034627959132195,0.007708822842687,-0.073851212859154,0.004198273643851,0.102371752262115,0.106981769204140,0.022075541317463,0.016401724889874,-0.005582527257502,0.016143526881933,0.063795708119869,-0.111810214817524,-0.038053762167692));
res += mul(Get(s0,-dx,dy), float4x4(0.053729973733425,0.012943838723004,-0.002252870472148,-0.008244683034718,0.008666263893247,0.060158077627420,-0.155306592583656,-0.026817848905921,-0.150519341230392,-0.007690623868257,-0.052902270108461,-0.026591816917062,-0.012741424143314,-0.001743189175613,0.026705177500844,0.016937635838985));
res += mul(Get(s0,0,-dy), float4x4(0.034555211663246,-0.006805680692196,-0.032148361206055,-0.079380951821804,-0.069572709500790,-0.104877613484859,0.124830864369869,0.100762479007244,0.169813513755798,0.157504931092262,-0.046714156866074,0.091779425740242,0.020365491509438,0.017101584002376,0.028981706127524,-0.004440300632268));
res += mul(Get(s0,0,0), float4x4(-0.023392265662551,-0.005547847598791,0.049797929823399,0.010847818106413,-0.014643362723291,0.093347795307636,0.094872392714024,0.020521560683846,-0.270718663930893,-0.053970772773027,0.068269602954388,-0.026053791865706,0.024307545274496,0.162441939115524,-0.159174472093582,0.130156397819519));
res += mul(Get(s0,0,dy), float4x4(0.052960168570280,0.135629728436470,0.002289916854352,-0.022546086460352,-0.020231839269400,0.012176361866295,-0.012846102006733,-0.016542129218578,-0.072397820651531,0.107244648039341,0.016027512028813,-0.064287707209587,-0.089077100157738,-0.177630692720413,0.027152413502336,0.048675429075956));
res += mul(Get(s0,dx,-dy), float4x4(-0.042176194489002,-0.062328573316336,0.203771352767944,0.098067477345467,-0.125251114368439,-0.066657237708569,-0.094936139881611,-0.041899967938662,-0.005368045531213,0.040196549147367,0.104848749935627,-0.094834782183170,-0.071135565638542,-0.044098615646362,-0.040058203041553,-0.003791911061853));
res += mul(Get(s0,dx,0), float4x4(0.070984743535519,0.073196195065975,0.021429704502225,-0.022721728309989,0.200699761509895,0.100223183631897,0.110677123069763,0.091356739401817,-0.171362653374672,0.042537853121758,0.022178079932928,0.109700575470924,0.034206755459309,0.171879306435585,0.009459470398724,-0.018791940063238));
res += mul(Get(s0,dx,dy), float4x4(0.098476111888885,-0.114856697618961,0.002605692483485,0.013387678191066,0.019891398027539,-0.051698066294193,-0.074152007699013,0.101961679756641,-0.082972906529903,-0.035710953176022,-0.168094649910927,0.110653869807720,-0.143313184380531,0.167518302798271,0.127325803041458,0.215176090598106));
res += mul(Get(s1,-dx,-dy), float4x4(-0.079494751989841,-0.118066839873791,-0.081283107399940,0.121508628129959,-0.076463803648949,-0.197920024394989,-0.026838969439268,0.078182674944401,-0.020676527172327,0.057502955198288,0.037810333073139,-0.005818017292768,-0.018628995865583,-0.006202587857842,-0.017115537077188,-0.013868696056306));
res += mul(Get(s1,-dx,0), float4x4(-0.124700523912907,-0.127748906612396,-0.124699927866459,-0.119569577276707,0.033270049840212,-0.152859479188919,-0.104349955916405,0.106117233633995,0.036294769495726,0.049465373158455,-0.073842488229275,-0.019758054986596,0.023140907287598,0.041645750403404,0.051492359489202,-0.014282317832112));
res += mul(Get(s1,-dx,dy), float4x4(-0.031215531751513,-0.148302033543587,-0.190914645791054,0.007450497709215,0.198414385318756,-0.064395926892757,0.086161300539970,-0.099432460963726,-0.041415363550186,0.020070629194379,-0.069061137735844,-0.019262785091996,0.063835911452770,-0.018773620948195,0.058159507811069,0.073990024626255));
res += mul(Get(s1,0,-dy), float4x4(0.206569775938988,0.285709887742996,0.191756471991539,-0.025507213547826,-0.100142002105713,0.105434052646160,0.109207399189472,0.024769570678473,-0.045636631548405,0.211399048566818,-0.040136206895113,-0.058325141668320,0.098872452974319,-0.016271200031042,-0.029705116525292,-0.017228560522199));
res += mul(Get(s1,0,0), float4x4(0.037603091448545,-0.061376001685858,-0.033907897770405,-0.088951803743839,-0.087280459702015,0.009783195331693,-0.145497664809227,0.236919030547142,0.023118875920773,0.051081094890833,-0.173515602946281,0.005324744153768,-0.027738619595766,0.064532302320004,-0.004654580261558,-0.021095108240843));
res += mul(Get(s1,0,dy), float4x4(-0.084193579852581,-0.032411877065897,0.075779870152473,-0.026154069229960,-0.067305698990822,0.067288547754288,-0.082576684653759,0.196498394012451,-0.166512638330460,-0.024101547896862,-0.010909583419561,-0.107543140649796,0.050367619842291,0.003543542232364,0.163619071245193,0.081579819321632));
res += mul(Get(s1,dx,-dy), float4x4(0.050325542688370,-0.033185824751854,0.100232809782028,-0.080493040382862,-0.067218944430351,0.087628386914730,0.132597655057907,0.043145000934601,0.135432183742523,-0.031058721244335,-0.095849044620991,-0.093701094388962,0.019359681755304,-0.025109283626080,0.101934991776943,0.111006386578083));
res += mul(Get(s1,dx,0), float4x4(0.008365527726710,0.034396398812532,0.125517055392265,-0.023695440962911,0.058419477194548,0.132378458976746,-0.027191923931241,-0.076495707035065,0.061363883316517,0.120929993689060,0.044534370303154,-0.061915181577206,-0.051750652492046,-0.063980065286160,0.133835822343826,-0.094829507172108));
res += mul(Get(s1,dx,dy), float4x4(-0.015929719433188,-0.037196669727564,0.168659478425980,0.078891970217228,0.091596290469170,0.078409053385258,-0.022310333326459,0.078393630683422,-0.031638409942389,0.071567602455616,0.019908070564270,0.068538650870323,-0.008237598463893,-0.003380015725270,0.054535664618015,0.004348399117589));
res += mul(Get(s2,-dx,-dy), float4x4(-0.047627199441195,-0.019870821386576,-0.086690723896027,0.022516671568155,-0.120712719857693,0.092040590941906,0.069721162319183,0.061491381376982,0.041485328227282,-0.212472230195999,-0.199909090995789,-0.025011176243424,0.019974187016487,-0.058483283966780,0.056314688175917,-0.014842425473034));
res += mul(Get(s2,-dx,0), float4x4(0.005156692583114,-0.112543493509293,-0.048631891608238,0.161538645625114,-0.190086260437965,0.102764338254929,0.035632349550724,0.085119605064392,-0.065027698874474,-0.016796240583062,0.163087546825409,-0.022724762558937,0.119395717978477,-0.015852421522141,0.191595152020454,-0.160115346312523));
res += mul(Get(s2,-dx,dy), float4x4(-0.030373755842447,0.083624199032784,0.013078262098134,0.077390506863594,0.014413020573556,0.174828231334686,0.011307851411402,0.028694007545710,-0.021218884736300,-0.127355799078941,0.049800448119640,0.230356350541115,-0.043754216283560,-0.087001740932465,-0.161388874053955,-0.056516621261835));
res += mul(Get(s2,0,-dy), float4x4(-0.106377728283405,0.070282258093357,0.012075117789209,0.035994131118059,0.109552487730980,-0.097397170960903,-0.173033609986305,0.078242138028145,0.154605925083160,-0.201724410057068,-0.181622505187988,-0.077559180557728,-0.015884734690189,0.074156232178211,0.002136775525287,0.024197032675147));
res += mul(Get(s2,0,0), float4x4(0.081941619515419,-0.111384250223637,0.027897361665964,0.047749932855368,0.076374389231205,-0.203359991312027,-0.045068848878145,0.262459665536880,-0.029641771689057,-0.057894427329302,0.029128799214959,0.193703085184097,0.146281555294991,-0.040726795792580,-0.267928570508957,-0.078651838004589));
res += mul(Get(s2,0,dy), float4x4(0.060714911669493,-0.067611508071423,-0.049879740923643,-0.199183389544487,0.043848156929016,-0.102783203125000,-0.026808841153979,-0.100478664040565,0.004322824068367,-0.091202288866043,0.075736835598946,0.056434102356434,-0.069454677402973,0.087345831096172,0.038008779287338,0.081518352031708));
res += mul(Get(s2,dx,-dy), float4x4(-0.044679850339890,-0.068642981350422,0.017596540972590,-0.106168314814568,-0.073934830725193,0.039223782718182,0.005064284894615,0.012045389041305,0.135316655039787,-0.059673085808754,0.030671011656523,-0.108779788017273,-0.072633750736713,-0.171418339014053,0.019849244505167,-0.157203242182732));
res += mul(Get(s2,dx,0), float4x4(0.094891659915447,-0.238337591290474,-0.050832297652960,0.238633394241333,-0.325740694999695,0.023338446393609,0.066499121487141,-0.020443186163902,-0.143937274813652,-0.123458452522755,0.000941954203881,0.064652450382710,0.039123911410570,0.067337162792683,-0.067820616066456,0.001674749422818));
res += mul(Get(s2,dx,dy), float4x4(0.250301420688629,0.027984503656626,0.000027697606129,0.020519841462374,0.141417413949966,0.004312798846513,0.107022017240524,-0.141829535365105,-0.026235295459628,-0.050879478454590,0.033779781311750,0.074537120759487,0.001782394596376,-0.042834211140871,0.098232313990593,0.119370773434639));
res += mul(Get(s3,-dx,-dy), float4x4(-0.043396655470133,0.034457501024008,-0.040273517370224,0.042841590940952,0.035677026957273,0.146903827786446,0.076887674629688,0.009334877133369,-0.045405548065901,-0.046638857573271,-0.124475888907909,-0.082227982580662,0.273298233747482,0.056329376995564,0.111187964677811,-0.075279943645000));
res += mul(Get(s3,-dx,0), float4x4(0.036106478422880,-0.073516793549061,0.142704993486404,-0.025047533214092,-0.120024092495441,0.074014253914356,-0.012154432013631,0.079617090523243,0.161875948309898,-0.123619675636292,-0.132183954119682,-0.032837171107531,-0.032959286123514,-0.172166258096695,0.029688538983464,-0.101340360939503));
res += mul(Get(s3,-dx,dy), float4x4(-0.130541518330574,0.019301028922200,-0.039987493306398,0.059829283505678,-0.031462822109461,0.046090871095657,-0.137571364641190,0.048843964934349,0.035899750888348,-0.146589115262032,-0.038068037480116,-0.048824723809958,0.021749956533313,-0.071137182414532,0.075177095830441,-0.041239358484745));
res += mul(Get(s3,0,-dy), float4x4(-0.126013189554214,0.135350406169891,0.011609856039286,-0.235223948955536,0.025157498195767,-0.080902248620987,0.058076724410057,0.063416048884392,-0.155506715178490,-0.106274992227554,-0.122227035462856,-0.105450771749020,0.043319813907146,0.184128120541573,-0.040885925292969,0.054161157459021));
res += mul(Get(s3,0,0), float4x4(0.006872989237309,0.044035881757736,-0.159255057573318,-0.105786107480526,0.030084500089288,-0.051462154835463,-0.028552014380693,0.035580351948738,0.063970819115639,-0.019049266353250,0.137822151184082,0.008244644850492,0.019438564777374,0.280070424079895,-0.018913218751550,-0.030848601832986));
res += mul(Get(s3,0,dy), float4x4(-0.022388102486730,-0.095039077103138,-0.086046464741230,0.025352906435728,0.033773943781853,0.073485217988491,-0.037439044564962,-0.027833713218570,-0.226800844073296,-0.094594247639179,0.065982729196548,0.177256599068642,-0.033932156860828,0.166156202554703,-0.060860101133585,0.084872104227543));
res += mul(Get(s3,dx,-dy), float4x4(-0.084992974996567,-0.021098360419273,0.003420485183597,-0.154042884707451,-0.063699498772621,-0.114401295781136,-0.058366373181343,0.138999849557877,0.062889538705349,-0.002851282246411,-0.026238542050123,0.061786536127329,0.157952800393105,0.010386176407337,-0.237363308668137,-0.038728818297386));
res += mul(Get(s3,dx,0), float4x4(-0.052683416754007,-0.069215476512909,-0.165332853794098,0.035367075353861,-0.098420947790146,-0.044745918363333,0.070061840116978,-0.036705140024424,0.013771951198578,0.072966396808624,-0.098602473735809,0.101049348711967,0.018764326348901,-0.073258377611637,-0.005986202508211,0.031397812068462));
res += mul(Get(s3,dx,dy), float4x4(-0.061497703194618,-0.075773514807224,-0.023491444066167,0.082080915570259,0.086120024323463,0.017769889906049,0.022091954946518,-0.178460538387299,0.021156821399927,0.025536127388477,0.001583365607075,-0.160700112581253,-0.007449570111930,0.085794262588024,-0.167268708348274,0.030565220862627));
return max(float4(0,0,0,0), res);
}
