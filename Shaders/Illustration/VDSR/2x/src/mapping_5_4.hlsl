sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.106395892798901,0.113663583993912,0.099197424948215,-0.050958469510078,-0.088023081421852,-0.024931898340583,0.064856566488743,-0.045858327299356,0.000399155949708,0.250465124845505,-0.065300188958645,-0.049245648086071,-0.010669155977666,0.226367473602295,0.122543096542358,-0.131598338484764));
res += mul(Get(s0,-dx,0), float4x4(0.055434267967939,-0.026946321129799,-0.188728824257851,0.136424869298935,-0.040264103561640,0.086327172815800,-0.066136419773102,0.028049541637301,-0.127538770437241,0.093733601272106,-0.011793481186032,0.212157294154167,0.000623252708465,0.274856656789780,-0.002032448537648,0.124384835362434));
res += mul(Get(s0,-dx,dy), float4x4(0.042818821966648,-0.154123529791832,0.013919100165367,0.094142839312553,0.234956532716751,0.067279279232025,-0.108201161026955,0.002452896209434,0.094218842685223,0.109800957143307,-0.000216393382289,0.088752523064613,-0.155130147933960,-0.030600771307945,0.106907866895199,0.072935655713081));
res += mul(Get(s0,0,-dy), float4x4(-0.156999722123146,0.131049066781998,-0.039286382496357,-0.021718099713326,-0.110323831439018,-0.020730413496494,0.105429798364639,-0.071933247148991,0.009396130219102,-0.027384681627154,0.060520216822624,-0.006873165257275,0.174508765339851,0.155755490064621,0.017545796930790,-0.033870033919811));
res += mul(Get(s0,0,0), float4x4(0.095873311161995,-0.099486447870731,-0.078180268406868,0.031413812190294,0.045767579227686,-0.028279906138778,0.132733315229416,0.152865990996361,0.224158823490143,-0.032957527786493,0.084395848214626,-0.087524995207787,0.161634206771851,0.050160598009825,-0.004365952219814,-0.102338649332523));
res += mul(Get(s0,0,dy), float4x4(0.112141668796539,-0.246177360415459,-0.116728015244007,-0.035569913685322,0.016958054155111,-0.169707462191582,0.085491187870502,-0.184317484498024,-0.002701904391870,0.099127329885960,-0.219752892851830,-0.037583451718092,-0.144657045602798,-0.004650811664760,-0.025231666862965,-0.014531144872308));
res += mul(Get(s0,dx,-dy), float4x4(0.033194564282894,0.064770340919495,-0.057406425476074,-0.086074158549309,0.088360302150249,-0.128282904624939,-0.054278817027807,-0.070874303579330,-0.046523947268724,0.131826296448708,-0.027402106672525,-0.019767226651311,-0.122281625866890,-0.086161702871323,0.048836413770914,-0.089685440063477));
res += mul(Get(s0,dx,0), float4x4(-0.019504476338625,0.061225045472383,-0.060178399085999,0.016581507399678,-0.141284957528114,-0.086426682770252,0.121229857206345,-0.056792639195919,-0.020271986722946,0.078410081565380,-0.137106254696846,-0.063968785107136,0.031120359897614,-0.013696573674679,-0.031365286558867,-0.173699349164963));
res += mul(Get(s0,dx,dy), float4x4(0.011569257825613,-0.021292041987181,-0.083636522293091,-0.032734245061874,0.056827057152987,-0.096008852124214,-0.025081243366003,0.252585858106613,0.058097284287214,-0.066537916660309,0.093114770948887,0.224349260330200,0.178726702928543,0.078174255788326,-0.219549179077148,0.132567733526230));
res += mul(Get(s1,-dx,-dy), float4x4(0.027175381779671,-0.155783653259277,0.007911541499197,-0.096776813268661,0.033447399735451,-0.016771821305156,-0.134442985057831,0.092129185795784,-0.017169848084450,0.061076086014509,0.019769303500652,0.032280936837196,0.070524789392948,-0.068442910909653,-0.001968081109226,0.032385397702456));
res += mul(Get(s1,-dx,0), float4x4(-0.110272236168385,-0.026983918622136,-0.134060442447662,-0.127281934022903,-0.154036104679108,-0.072924435138702,-0.049233887344599,-0.108660556375980,-0.076254315674305,0.007275043986738,0.049835160374641,-0.073078855872154,-0.023297714069486,0.027790604159236,-0.046023961156607,-0.028609450906515));
res += mul(Get(s1,-dx,dy), float4x4(0.069537408649921,-0.142838299274445,-0.078388780355453,-0.014408965595067,-0.138167634606361,-0.172095909714699,-0.069193169474602,0.036178953945637,-0.087282888591290,-0.229053944349289,-0.053002808243036,-0.043132230639458,-0.032736781984568,-0.125331252813339,0.068106710910797,-0.065343730151653));
res += mul(Get(s1,0,-dy), float4x4(0.007384594064206,0.020449493080378,0.020442910492420,-0.043697394430637,0.157340750098228,-0.095522001385689,-0.033648956567049,-0.023913998156786,0.017145128920674,-0.134916737675667,-0.157748326659203,-0.126189306378365,0.101598337292671,-0.072229661047459,-0.140315920114517,0.095531813800335));
res += mul(Get(s1,0,0), float4x4(-0.056169714778662,-0.084362335503101,0.235397741198540,-0.140794575214386,0.018432289361954,0.090795360505581,0.021671412512660,-0.246071562170982,-0.131314054131508,0.161047831177711,-0.120790354907513,-0.072721868753433,0.189825296401978,-0.061531767249107,-0.128088876605034,0.214859127998352));
res += mul(Get(s1,0,dy), float4x4(0.010928022675216,0.134707346558571,0.196101665496826,-0.065290585160255,0.031294088810682,0.080702431499958,-0.061892144382000,0.019219266250730,0.136430993676186,-0.032138731330633,0.045338936150074,0.164526820182800,0.074499122798443,0.017766378819942,-0.028464090079069,0.039754409343004));
res += mul(Get(s1,dx,-dy), float4x4(-0.167647972702980,-0.082887716591358,0.073436342179775,-0.003485003951937,0.205081000924110,-0.124849297106266,-0.138809293508530,-0.117386631667614,0.083391197025776,-0.054282918572426,0.092220261693001,0.188549295067787,0.024126220494509,0.207134693861008,-0.228697031736374,0.092036262154579));
res += mul(Get(s1,dx,0), float4x4(0.092735394835472,-0.007600613869727,0.071209348738194,0.121161699295044,0.146943122148514,0.091385312378407,-0.136688321828842,-0.141033217310905,-0.077982187271118,0.044128131121397,-0.144582390785217,0.064245335757732,0.059780512005091,0.065738618373871,-0.077368482947350,-0.046770762652159));
res += mul(Get(s1,dx,dy), float4x4(0.056547805666924,0.127349957823753,-0.160867989063263,-0.032522819936275,-0.069733612239361,-0.016918001696467,-0.153303474187851,0.105695001780987,0.012039138004184,0.051272895187140,0.032172873616219,-0.082261621952057,0.027687506750226,-0.080603770911694,-0.132672369480133,-0.029779003933072));
res += mul(Get(s2,-dx,-dy), float4x4(-0.107418209314346,-0.171816751360893,-0.167476296424866,-0.051559228450060,-0.090384170413017,-0.003095149993896,-0.083423525094986,-0.055474121123552,-0.065068252384663,0.123993180692196,-0.062876462936401,0.042158335447311,-0.181856170296669,0.010011460632086,0.125069558620453,-0.157541573047638));
res += mul(Get(s2,-dx,0), float4x4(-0.128040373325348,-0.057680230587721,-0.004322860855609,0.131850793957710,0.007218898739666,-0.068499363958836,-0.010199211537838,0.085134193301201,0.143022328615189,-0.165437728166580,0.071634702384472,0.074929215013981,-0.013055572286248,0.059717398136854,-0.151910990476608,0.028447819873691));
res += mul(Get(s2,-dx,dy), float4x4(0.012919500470161,0.155342265963554,0.018973108381033,-0.037373665720224,0.098728105425835,-0.071950696408749,-0.126978948712349,-0.011706208810210,0.041844390332699,0.076747514307499,0.201306492090225,-0.030713098123670,0.136944487690926,0.033263340592384,0.109677433967590,0.143008142709732));
res += mul(Get(s2,0,-dy), float4x4(-0.058116085827351,0.041262801736593,0.045023083686829,-0.023574784398079,-0.168660327792168,-0.069387309253216,-0.025538990274072,0.083013705909252,-0.043306976556778,-0.027193663641810,-0.047793112695217,0.020773606374860,-0.148743286728859,0.122862063348293,0.010252419859171,0.020357297733426));
res += mul(Get(s2,0,0), float4x4(-0.026732167229056,-0.055691406130791,0.309386163949966,0.069541580975056,-0.074808903038502,0.198225736618042,-0.035056449472904,-0.131552711129189,0.083799660205841,-0.143219381570816,0.042014300823212,0.076579757034779,0.153391182422638,0.126975446939468,-0.094128176569939,0.216805115342140));
res += mul(Get(s2,0,dy), float4x4(-0.076022192835808,0.106831215322018,-0.050651121884584,-0.059700429439545,-0.062739498913288,-0.197427555918694,0.197623893618584,-0.010773466899991,0.033733751624823,0.014611311256886,-0.067595787346363,0.075957313179970,0.081827886402607,-0.023335490375757,-0.100177779793739,-0.037444576621056));
res += mul(Get(s2,dx,-dy), float4x4(0.003474243218079,-0.096571758389473,-0.103178128600121,-0.120958626270294,-0.051744498312473,0.103548452258110,0.069800779223442,-0.118327073752880,-0.114235438406467,-0.060339521616697,0.158572435379028,-0.004580627195537,-0.033274978399277,-0.051824040710926,0.091845445334911,0.051681827753782));
res += mul(Get(s2,dx,0), float4x4(-0.227802991867065,0.058343566954136,0.043455079197884,-0.006524216849357,-0.008314810693264,-0.046274010092020,-0.120621502399445,-0.001236491720192,0.108058676123619,-0.014381083659828,0.096185721457005,-0.174571052193642,0.021135037764907,0.081434950232506,0.191988423466682,-0.001749727991410));
res += mul(Get(s2,dx,dy), float4x4(-0.003977607004344,-0.077455006539822,0.055746547877789,-0.098790228366852,-0.088698029518127,0.052494347095490,-0.142719581723213,-0.116090238094330,0.177646324038506,0.094550557434559,0.103851042687893,-0.047407906502485,-0.048416469246149,0.148405745625496,0.129856526851654,-0.099572457373142));
res += mul(Get(s3,-dx,-dy), float4x4(-0.031633883714676,0.146883130073547,0.189033746719360,-0.006740233395249,0.089465789496899,-0.022197533398867,-0.063967287540436,0.008024664595723,-0.172026455402374,0.030213959515095,0.131804108619690,-0.011139613576233,-0.180391564965248,0.044626962393522,-0.097261622548103,0.111894562840462));
res += mul(Get(s3,-dx,0), float4x4(0.079530686140060,0.017376184463501,-0.046544846147299,-0.033776510506868,-0.096956528723240,0.020008001476526,-0.014141099527478,0.114575289189816,0.002762986114249,0.088940873742104,0.135446429252625,-0.189167797565460,0.123416855931282,0.038642048835754,0.092203445732594,-0.112829215824604));
res += mul(Get(s3,-dx,dy), float4x4(-0.039560422301292,0.004471954423934,-0.120165079832077,-0.075886599719524,0.093329057097435,0.014376887120306,-0.081432752311230,-0.124197870492935,0.239542782306671,0.129091665148735,0.009670647792518,-0.005285368766636,0.106044486165047,0.037081174552441,0.022291811183095,0.013432526960969));
res += mul(Get(s3,0,-dy), float4x4(0.007897121831775,0.136833339929581,-0.065479062497616,-0.052926212549210,0.140007555484772,-0.026397451758385,-0.085910484194756,-0.239639237523079,-0.015945889055729,0.015108028426766,0.048659544438124,0.016276689246297,-0.047364685684443,0.032935366034508,0.140309482812881,0.055660102516413));
res += mul(Get(s3,0,0), float4x4(0.099447712302208,-0.130815431475639,-0.107051424682140,-0.014591375365853,0.026581797748804,-0.085969306528568,0.001138848369010,-0.019704418256879,0.211777910590172,-0.048331402242184,-0.156103551387787,0.067201688885689,-0.019663937389851,-0.089102953672409,0.010819718241692,0.155810266733170));
res += mul(Get(s3,0,dy), float4x4(0.086523093283176,-0.047528292983770,-0.089551135897636,0.297553360462189,0.016828039661050,-0.035523828119040,0.004950921051204,0.082392714917660,0.060748033225536,-0.075616724789143,0.043029103428125,0.053412374109030,0.176678836345673,0.077191829681396,0.013674387708306,-0.114738799631596));
res += mul(Get(s3,dx,-dy), float4x4(0.041297134011984,-0.078978054225445,-0.044097498059273,-0.054301291704178,-0.070535056293011,-0.071204744279385,0.086085252463818,-0.243128105998039,-0.177791416645050,-0.005270683206618,-0.141444861888885,-0.007678320631385,0.011984537355602,-0.146771401166916,-0.104845516383648,0.005750336684287));
res += mul(Get(s3,dx,0), float4x4(-0.103950820863247,0.148189648985863,-0.144445136189461,-0.071518637239933,-0.116904661059380,-0.128837391734123,-0.011771094053984,0.076181396842003,0.091950081288815,0.038128130137920,-0.188944771885872,0.072016142308712,0.110586322844028,0.000048384681577,0.046732485294342,0.126034632325172));
res += mul(Get(s3,dx,dy), float4x4(0.034067742526531,-0.121695324778557,-0.076863482594490,-0.068301439285278,-0.085426427423954,-0.100173130631447,0.070630215108395,0.119400434195995,-0.149854302406311,0.105528481304646,-0.053061693906784,-0.158038914203644,0.095728799700737,-0.023760695010424,-0.005486666690558,0.005867797881365));
return max(float4(0,0,0,0), res);
}
