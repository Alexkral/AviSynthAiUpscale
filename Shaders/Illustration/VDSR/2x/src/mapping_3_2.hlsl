sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.023973280563951,0.055213388055563,0.025428928434849,0.029931297525764,0.532346129417419,-0.101584546267986,-0.072679482400417,0.011413368396461,-0.117995321750641,0.008297038264573,0.140730679035187,-0.016383251175284,0.015570273622870,0.026503955945373,0.081375777721405,-0.123279467225075));
res += mul(Get(s0,-dx,0), float4x4(0.010647552087903,0.167047098278999,-0.009220718406141,0.006703205406666,0.031430631875992,-0.085299387574196,-0.252837121486664,0.066218368709087,0.132562294602394,-0.087175302207470,0.073483273386955,0.051710221916437,0.078730426728725,-0.099542237818241,0.071297526359558,-0.145250186324120));
res += mul(Get(s0,-dx,dy), float4x4(-0.014849056489766,0.066706143319607,-0.048396036028862,0.062820561230183,-0.145971804857254,0.118367619812489,-0.238613203167915,-0.069353759288788,0.029900886118412,-0.037205137312412,0.125027537345886,0.007159649394453,-0.094231694936752,-0.025354731827974,-0.017134206369519,-0.060085706412792));
res += mul(Get(s0,0,-dy), float4x4(-0.057081438601017,-0.032327979803085,-0.053153846412897,-0.015343085862696,0.022354727610946,-0.072886429727077,-0.029807319864631,0.032762147486210,-0.036898728460073,-0.043240766972303,-0.047446146607399,-0.018400130793452,0.265014439821243,0.054657362401485,0.039993807673454,0.078228712081909));
res += mul(Get(s0,0,0), float4x4(-0.009839088656008,0.101295374333858,0.049693882465363,-0.073345415294170,-0.057692304253578,-0.025124330073595,0.066795766353607,-0.045379221439362,0.164660379290581,-0.039946105331182,-0.017543746158481,0.150244116783142,-0.031439304351807,-0.075007513165474,0.025694869458675,-0.060774009674788));
res += mul(Get(s0,0,dy), float4x4(-0.014686533249915,-0.096464417874813,0.017300503328443,0.088934212923050,-0.028582127764821,0.119643144309521,0.025083962827921,-0.019968019798398,-0.013685051351786,-0.075599960982800,0.018367854878306,0.015910053625703,-0.171856060624123,0.037749163806438,0.048891540616751,-0.023093404248357));
res += mul(Get(s0,dx,-dy), float4x4(-0.070141665637493,-0.029394276440144,0.082613199949265,0.014824972487986,-0.008370152674615,0.007112229242921,-0.027221392840147,-0.009172409772873,-0.042991034686565,-0.061520535498857,-0.067110620439053,-0.061535779386759,0.034858774393797,0.176236867904663,-0.007799074519426,-0.129798457026482));
res += mul(Get(s0,dx,0), float4x4(-0.022075453773141,0.001640678849071,0.001533877453767,-0.051551580429077,-0.095971561968327,0.122168026864529,0.031176522374153,-0.138498604297638,0.167632371187210,-0.051915816962719,-0.043745193630457,0.000628145935480,-0.072873204946518,0.071397244930267,-0.014610411599278,-0.109915331006050));
res += mul(Get(s0,dx,dy), float4x4(-0.074848406016827,-0.077191099524498,0.041110027581453,0.039930179715157,-0.093230172991753,0.089833118021488,-0.046521559357643,-0.059553794562817,0.013645673170686,-0.070235803723335,-0.039827510714531,-0.032863039523363,-0.029219940304756,0.053962256759405,0.045432761311531,-0.052919596433640));
res += mul(Get(s1,-dx,-dy), float4x4(0.034902799874544,0.003847812535241,-0.036309603601694,-0.057207744568586,-0.104097381234169,-0.046328604221344,-0.063544690608978,-0.001231862814166,0.139130920171738,-0.118189781904221,-0.041051175445318,0.007787942886353,0.031694203615189,-0.040986716747284,0.050458144396544,-0.016692351549864));
res += mul(Get(s1,-dx,0), float4x4(-0.006759441457689,-0.047057531774044,0.019682819023728,-0.067901462316513,0.100750729441643,-0.096472591161728,0.079750247299671,-0.069206148386002,0.021857563406229,0.059342682361603,-0.054840937256813,-0.105278514325619,-0.046839240938425,-0.051302082836628,-0.041309230029583,0.026716062799096));
res += mul(Get(s1,-dx,dy), float4x4(0.084708511829376,-0.131904616951942,0.156268775463104,-0.020654089748859,-0.063910320401192,-0.004180249292403,0.114639647305012,0.012608010321856,-0.017207259312272,0.072609230875969,-0.076812565326691,-0.008867729455233,-0.043678887188435,0.037103291600943,-0.106307692825794,0.082062937319279));
res += mul(Get(s1,0,-dy), float4x4(0.009449634701014,0.177080884575844,-0.140518888831139,-0.051732271909714,-0.113325528800488,-0.043088499456644,0.027858560904860,0.069193333387375,0.011931268498302,-0.096198424696922,-0.095226697623730,0.008739721029997,-0.040145941078663,-0.014836775138974,-0.062933631241322,0.002026386559010));
res += mul(Get(s1,0,0), float4x4(-0.032805673778057,0.079182781279087,-0.035371091216803,-0.088335476815701,0.037293121218681,-0.069017447531223,-0.067453086376190,-0.120047375559807,-0.002109142486006,0.069244273006916,0.007690031547099,-0.093422181904316,-0.029798839241266,0.201710060238838,0.029899267479777,-0.026928380131721));
res += mul(Get(s1,0,dy), float4x4(-0.041159223765135,0.228406578302383,0.043025378137827,-0.062366567552090,0.059139132499695,-0.018884286284447,0.182307749986649,0.031581901013851,0.018594576045871,0.087484948337078,0.337691426277161,-0.045557878911495,0.008485751226544,0.205385074019432,0.367448270320892,0.024027213454247));
res += mul(Get(s1,dx,-dy), float4x4(-0.096478283405304,0.081564180552959,-0.080357767641544,0.005315849091858,0.177497521042824,-0.046560138463974,-0.115136958658695,0.390284210443497,-0.049047905951738,0.015957424417138,-0.081690900027752,0.005981405265629,-0.073833711445332,0.012459386140108,-0.018776478245854,0.011987227015197));
res += mul(Get(s1,dx,0), float4x4(-0.080436356365681,0.191299334168434,-0.066399492323399,-0.020710831508040,-0.073734678328037,0.024903947487473,-0.104347065091133,-0.040660478174686,0.019360940903425,-0.029187271371484,-0.018278235569596,-0.101253293454647,-0.045986760407686,0.086308181285858,-0.017332069575787,-0.041687473654747));
res += mul(Get(s1,dx,dy), float4x4(-0.028880547732115,0.124471455812454,0.082142464816570,0.028363218531013,0.022115318104625,0.205912590026855,-0.034228317439556,-0.021691512316465,-0.019705684855580,-0.030943922698498,0.026751089841127,-0.025571845471859,-0.032990686595440,-0.032148003578186,0.108541488647461,-0.112866982817650));
res += mul(Get(s2,-dx,-dy), float4x4(0.022390665486455,-0.169330358505249,-0.000883227854501,0.106208547949791,0.065039865672588,-0.025954293087125,0.003799255238846,0.137174770236015,-0.023630701005459,-0.152555838227272,0.073763154447079,0.004005948081613,-0.023247459903359,-0.035455491393805,-0.033332087099552,0.006351651158184));
res += mul(Get(s2,-dx,0), float4x4(-0.007420585490763,-0.251978963613510,-0.090216033160686,0.013131981715560,0.028534661978483,-0.092059671878815,-0.006272011436522,0.009675926528871,-0.057787001132965,-0.176500603556633,0.001600211369805,0.026364617049694,-0.021643701940775,-0.005269588902593,-0.061688590794802,0.032020557671785));
res += mul(Get(s2,-dx,dy), float4x4(-0.116010315716267,-0.238818362355232,0.289928704500198,-0.045929200947285,0.074665345251560,-0.110485300421715,-0.046110175549984,-0.068729571998119,-0.056184444576502,-0.120830796658993,-0.173029571771622,0.009400260634720,0.042710725218058,-0.006559300236404,-0.050969298928976,0.038701042532921));
res += mul(Get(s2,0,-dy), float4x4(-0.023194061592221,-0.054296031594276,0.010134885087609,-0.011865909211338,0.003519022371620,0.021257139742374,0.005103740841150,0.181365698575974,-0.097706049680710,-0.079771421849728,-0.001240180572495,-0.057389345020056,-0.054418284446001,-0.086934439837933,-0.003486415604129,0.093881942331791));
res += mul(Get(s2,0,0), float4x4(-0.076473578810692,-0.120572224259377,-0.125742748379707,-0.076797917485237,0.004313853103667,-0.028550943359733,-0.073638848960400,0.036676611751318,-0.049215599894524,-0.131644010543823,-0.017049312591553,-0.012712780386209,0.026254806667566,-0.048661269247532,-0.008924347348511,0.160192206501961));
res += mul(Get(s2,0,dy), float4x4(-0.093958362936974,-0.153927072882652,-0.054394096136093,-0.132971450686455,-0.005429459735751,-0.113373436033726,-0.035085525363684,0.055419273674488,-0.068111337721348,-0.107291109859943,-0.062295079231262,0.131730899214745,0.005348207894713,-0.044942419975996,-0.038536272943020,0.055202305316925));
res += mul(Get(s2,dx,-dy), float4x4(-0.039717081934214,0.018597431480885,0.038381058722734,0.304537147283554,0.167821049690247,-0.044646903872490,-0.045408383011818,0.055424932390451,-0.009871756657958,-0.071970634162426,0.070583075284958,-0.030106265097857,-0.033935911953449,-0.056042041629553,0.061530221253633,-0.071328602731228));
res += mul(Get(s2,dx,0), float4x4(-0.098865687847137,-0.032820254564285,-0.036197155714035,0.068247482180595,-0.038959819823503,-0.039753757417202,-0.015214435756207,-0.030755871906877,0.129989847540855,-0.136008128523827,-0.000688783009537,0.056315213441849,0.094770200550556,0.011091552674770,0.013043017126620,0.039799258112907));
res += mul(Get(s2,dx,dy), float4x4(-0.034714013338089,-0.039536006748676,0.032112170010805,-0.005495759658515,-0.007475099060684,-0.137174934148788,0.030233887955546,0.028764490038157,0.035944432020187,-0.141169086098671,0.066911280155182,0.047189142554998,-0.002444940619171,-0.022561926394701,-0.004943473730236,0.007525890134275));
res += mul(Get(s3,-dx,-dy), float4x4(-0.121549099683762,-0.000491679529659,-0.017129117622972,-0.000405682483688,-0.108144283294678,0.013960229232907,-0.095684781670570,0.063428781926632,0.023373175412416,0.020561473444104,0.015021620318294,0.020893780514598,-0.008424472063780,-0.015221588313580,-0.038734409958124,-0.085270926356316));
res += mul(Get(s3,-dx,0), float4x4(-0.158337697386742,0.012398707680404,0.222690433263779,0.011390334926546,-0.026315813884139,-0.075997896492481,-0.087395176291466,0.079735815525055,0.023615809157491,-0.084260873496532,-0.094295263290405,-0.073186494410038,0.076666839420795,-0.007673971354961,0.164287999272346,-0.087953932583332));
res += mul(Get(s3,-dx,dy), float4x4(-0.060899231582880,0.010325959883630,0.214584529399872,0.021499883383512,-0.091159746050835,-0.103191934525967,-0.093603134155273,-0.132971093058586,-0.010937611572444,-0.010148433968425,-0.005490968469530,0.019685946404934,-0.058756280690432,0.072505630552769,-0.163443788886070,0.006799081340432));
res += mul(Get(s3,0,-dy), float4x4(-0.047573398798704,-0.017210336402059,-0.119260415434837,0.042523965239525,-0.161068364977837,-0.039188895374537,0.001187139539979,0.028334107249975,0.000032593947253,0.032607782632113,0.077511504292488,0.053698956966400,-0.044431179761887,-0.076412767171860,-0.058049254119396,-0.131480753421783));
res += mul(Get(s3,0,0), float4x4(-0.096944548189640,0.121358066797256,-0.037031799554825,-0.097325615584850,-0.061530381441116,-0.133736640214920,0.003131921635941,0.001714711776003,0.089670829474926,0.006584362592548,-0.059795938432217,0.040165144950151,0.037306569516659,-0.028387550264597,0.014153754338622,-0.139805093407631));
res += mul(Get(s3,0,dy), float4x4(-0.035599678754807,0.081732384860516,-0.144963294267654,-0.132313117384911,0.146608456969261,-0.024344675242901,-0.097313128411770,0.108697138726711,0.010765498504043,0.062534041702747,0.044316511601210,0.099393457174301,-0.051999319344759,0.070563316345215,-0.032159257680178,-0.002664947649464));
res += mul(Get(s3,dx,-dy), float4x4(-0.069353148341179,-0.058380275964737,0.156703218817711,0.196282505989075,-0.085158944129944,-0.007835873402655,-0.060854807496071,0.020888255909085,-0.014000663533807,-0.007304625585675,0.019703965634108,-0.022796764969826,-0.030052745714784,0.154140517115593,-0.017421381548047,0.016802428290248));
res += mul(Get(s3,dx,0), float4x4(0.000149983199663,-0.070281378924847,-0.006278085988015,0.133388146758080,0.065488837659359,-0.044489014893770,0.151016116142273,-0.189162075519562,0.016807489097118,-0.022319255396724,-0.030754022300243,-0.008290830068290,0.062778718769550,0.059020172804594,-0.062672995030880,0.072452187538147));
res += mul(Get(s3,dx,dy), float4x4(0.001159320003353,0.057310517877340,-0.180146425962448,0.044873550534248,-0.014485531486571,-0.049033522605896,0.064667299389839,-0.149597615003586,0.102808393537998,-0.023943394422531,0.057153280824423,0.040662702172995,0.046484585851431,0.097876802086830,-0.054346766322851,0.087952099740505));
return max(float4(0,0,0,0), res);
}
