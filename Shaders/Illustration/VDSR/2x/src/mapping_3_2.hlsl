sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.137370228767395,0.026095049455762,0.117586441338062,0.037793066352606,0.016182938590646,-0.003999574109912,0.186311632394791,0.082335695624352,0.096402756869793,0.209728837013245,0.006037561688572,0.204606488347054,0.065303929150105,0.054120182991028,0.119830287992954,-0.117237150669098));
res += mul(Get(s0,-dx,0), float4x4(0.095119737088680,-0.118266984820366,0.010459585115314,0.135423436760902,0.120998732745647,0.060741800814867,0.046690564602613,-0.169672861695290,0.162473097443581,-0.064192295074463,-0.135300815105438,0.032721508294344,0.023579794913530,0.244070008397102,0.075722575187683,-0.207391783595085));
res += mul(Get(s0,-dx,dy), float4x4(-0.085872836410999,0.039060037583113,0.095923826098442,-0.080942191183567,0.036855682730675,0.077193826436996,0.125356450676918,-0.032738976180553,-0.023031530901790,0.070565402507782,-0.018623026087880,0.165659755468369,0.128746882081032,0.099342972040176,-0.247532323002815,-0.107077874243259));
res += mul(Get(s0,0,-dy), float4x4(0.046776354312897,-0.117248915135860,-0.093242153525352,0.268246442079544,-0.022779138758779,0.042563378810883,0.022149469703436,0.248504489660263,-0.051935117691755,0.201313331723213,-0.162849709391594,-0.046348609030247,0.080130465328693,0.038059312850237,-0.175024256110191,-0.045083254575729));
res += mul(Get(s0,0,0), float4x4(0.034363195300102,-0.123439192771912,0.030538531020284,-0.158931359648705,0.132358238101006,0.146189510822296,-0.114772342145443,-0.106887072324753,0.121094927191734,-0.054259665310383,-0.072668798267841,0.040267478674650,0.007108934223652,-0.189705535769463,-0.077157683670521,-0.146661952137947));
res += mul(Get(s0,0,dy), float4x4(-0.111857123672962,0.009917979128659,-0.067033834755421,-0.013438815250993,-0.008359075523913,0.059757690876722,-0.097117818892002,-0.058041680604219,-0.047059405595064,0.060349531471729,0.074517920613289,0.015462078154087,-0.171388402581215,0.030824003741145,-0.080998703837395,0.049455251544714));
res += mul(Get(s0,dx,-dy), float4x4(0.067652694880962,-0.232835471630096,-0.070626258850098,-0.079230941832066,-0.148737564682961,0.155786529183388,-0.058581892400980,0.037378408014774,-0.002221638103947,0.014338736422360,0.178692340850830,0.053267810493708,-0.087713971734047,0.026072349399328,-0.159243345260620,-0.024703478440642));
res += mul(Get(s0,dx,0), float4x4(-0.191837772727013,0.116214513778687,-0.257509648799896,-0.059916872531176,-0.003875213209540,0.064026713371277,0.122938022017479,-0.079279147088528,-0.103177279233932,-0.050480898469687,0.053851433098316,-0.139108180999756,-0.005974653642625,-0.078641131520271,-0.066670395433903,-0.105627998709679));
res += mul(Get(s0,dx,dy), float4x4(0.065711796283722,0.075834639370441,0.077294401824474,0.007202319800854,-0.137102469801903,0.063861161470413,-0.051648870110512,0.040084205567837,-0.106748834252357,0.000743675744161,0.009272160939872,-0.122095912694931,0.021014647558331,0.101763010025024,-0.093059584498405,-0.103248409926891));
res += mul(Get(s1,-dx,-dy), float4x4(-0.005242651328444,0.032066285610199,0.094367131590843,-0.090044446289539,-0.135079696774483,-0.177612081170082,-0.036255817860365,-0.124188818037510,-0.101815618574619,-0.093488276004791,0.004707920365036,0.046485602855682,-0.071584247052670,-0.096368424594402,0.111706025898457,0.015749968588352));
res += mul(Get(s1,-dx,0), float4x4(-0.207453042268753,0.079166606068611,-0.077568955719471,0.163915768265724,0.079270981252193,0.004341061227024,-0.058927208185196,0.045695245265961,0.133860349655151,-0.037404548376799,-0.154503971338272,-0.103477977216244,-0.207280695438385,0.070829652249813,0.112321875989437,0.421961963176727));
res += mul(Get(s1,-dx,dy), float4x4(-0.026404045522213,-0.043471951037645,-0.138249069452286,-0.040980521589518,-0.110105037689209,0.029591318219900,-0.087746210396290,-0.083367183804512,0.217886969447136,-0.049046810716391,0.094955042004585,-0.058781929314137,0.027514727786183,0.032998960465193,0.018656307831407,0.059761300683022));
res += mul(Get(s1,0,-dy), float4x4(-0.057204063981771,-0.107891619205475,-0.053292535245419,0.065043851733208,-0.078979924321175,-0.090210489928722,0.075254902243614,-0.073742605745792,-0.085996896028519,-0.036100823432207,0.015313941985369,-0.137241110205650,-0.097472958266735,-0.110327996313572,-0.168357267975807,0.111481167376041));
res += mul(Get(s1,0,0), float4x4(-0.089295104146004,-0.077979989349842,-0.076298423111439,0.083948105573654,0.155091613531113,0.059016197919846,-0.012070664204657,-0.013637149706483,0.112671054899693,0.235883370041847,0.008433854207397,0.089081563055515,0.009597769007087,0.124548144638538,0.112091392278671,0.089968420565128));
res += mul(Get(s1,0,dy), float4x4(-0.094641231000423,-0.106795959174633,0.020993432030082,-0.150540158152580,0.086237899959087,0.116980552673340,-0.161941081285477,-0.010541951283813,0.180486351251602,-0.038099691271782,0.123191922903061,-0.025311518460512,0.252555876970291,-0.012304736301303,-0.004582039546221,-0.091484338045120));
res += mul(Get(s1,dx,-dy), float4x4(0.065718814730644,-0.053401850163937,-0.020182052627206,0.184516310691833,-0.072469890117645,0.073501884937286,0.211362302303314,0.013883449137211,0.054733499884605,0.027452819049358,0.018759531900287,-0.063988722860813,0.004251911770552,0.020754266530275,0.019378481432796,0.120116569101810));
res += mul(Get(s1,dx,0), float4x4(-0.121161207556725,0.053475309163332,-0.139221489429474,-0.026370709761977,0.076683796942234,-0.158187329769135,-0.036515966057777,-0.100838258862495,0.050831303000450,0.026202883571386,-0.164253562688828,0.204044193029404,0.168664768338203,0.008272408507764,0.128527119755745,-0.102269835770130));
res += mul(Get(s1,dx,dy), float4x4(-0.097692340612411,-0.183394312858582,0.074090123176575,-0.183460786938667,-0.055735502392054,-0.078139901161194,0.027242925018072,0.002350901486352,0.037640605121851,-0.203728616237640,-0.000287367292913,-0.027519095689058,-0.093868330121040,-0.059976525604725,0.040445677936077,0.001818769029342));
res += mul(Get(s2,-dx,-dy), float4x4(0.139331117272377,-0.149835318326950,-0.378481864929199,0.244761392474174,-0.073475152254105,-0.003223660169169,-0.045881796628237,-0.007906360551715,-0.110405877232552,-0.026137443259358,0.037277162075043,-0.182743594050407,-0.012864369899035,0.020832885056734,-0.131190001964569,0.031256590038538));
res += mul(Get(s2,-dx,0), float4x4(-0.136383920907974,-0.003394616302103,-0.184335067868233,0.089783892035484,-0.129797756671906,0.013806772418320,-0.075324751436710,-0.029869711026549,-0.149770677089691,-0.058427914977074,-0.048425652086735,-0.072798006236553,-0.047722961753607,-0.042392026633024,-0.039776585996151,0.043514564633369));
res += mul(Get(s2,-dx,dy), float4x4(0.025362303480506,-0.141091287136078,-0.094671219587326,0.106399320065975,-0.122969284653664,0.134315356612206,-0.097903966903687,0.078611306846142,-0.180634573101997,-0.054005179554224,0.041466984897852,-0.090626746416092,0.134777218103409,0.019092494621873,0.103611230850220,-0.078841410577297));
res += mul(Get(s2,0,-dy), float4x4(0.067652136087418,-0.050485569983721,-0.132076725363731,-0.114008329808712,0.101079508662224,-0.234589740633965,-0.025112856179476,-0.008523013442755,0.077687121927738,0.060058362782001,0.015259705483913,-0.353924751281738,-0.130210742354393,0.081918254494667,0.040096573531628,0.204972073435783));
res += mul(Get(s2,0,0), float4x4(0.034183058887720,-0.028497297316790,0.010641816072166,-0.057450015097857,-0.005167552735656,0.028418682515621,-0.156277224421501,-0.043076056987047,-0.127722173929214,0.070711210370064,-0.033119831234217,0.181115046143532,-0.061904963105917,-0.057966139167547,0.045845013111830,0.174440681934357));
res += mul(Get(s2,0,dy), float4x4(-0.012222678400576,0.022099502384663,0.010742918588221,0.231940448284149,0.097234688699245,-0.036544904112816,-0.047731388360262,0.135223254561424,-0.004819115623832,0.120551794767380,0.001853008172475,-0.068914026021957,0.059979949146509,-0.049551215022802,-0.039840478450060,-0.009878563694656));
res += mul(Get(s2,dx,-dy), float4x4(-0.026513202115893,-0.159722879528999,-0.067008592188358,-0.092429377138615,-0.078448958694935,0.008300369605422,0.082705520093441,-0.080864936113358,0.037397895008326,0.050398077815771,0.061976179480553,0.047747254371643,0.090096116065979,-0.005503630265594,-0.061595704406500,0.040943641215563));
res += mul(Get(s2,dx,0), float4x4(-0.098549105226994,0.037528052926064,0.108022429049015,-0.036948919296265,0.086456626653671,-0.072072513401508,0.089830458164215,0.051891036331654,-0.004878385458142,0.009294065646827,0.074327707290649,-0.038528457283974,-0.050887957215309,0.029100522398949,0.224684983491898,-0.155058696866035));
res += mul(Get(s2,dx,dy), float4x4(0.049674842506647,-0.084398888051510,-0.091325946152210,-0.066938526928425,0.117693789303303,0.007443297188729,-0.184432208538055,-0.063125289976597,-0.074319049715996,-0.082991965115070,-0.070855952799320,-0.113570697605610,0.098279409110546,0.233980730175972,0.001177597325295,-0.022237345576286));
res += mul(Get(s3,-dx,-dy), float4x4(-0.242533117532730,-0.139911428093910,-0.010023383423686,-0.119779027998447,-0.054408129304647,0.167310118675232,0.001181062660180,-0.034334033727646,-0.016938447952271,-0.069562256336212,-0.188973620533943,-0.194011673331261,0.110719032585621,0.100775554776192,-0.019788144156337,-0.099105261266232));
res += mul(Get(s3,-dx,0), float4x4(-0.051777102053165,0.048058532178402,-0.031229194253683,0.161937281489372,0.127632975578308,-0.013971261680126,0.082123659551144,0.020540356636047,0.027045002207160,-0.107006989419460,-0.129097208380699,-0.042942490428686,0.012443688698113,0.075634241104126,-0.085458576679230,0.215138465166092));
res += mul(Get(s3,-dx,dy), float4x4(0.148041456937790,-0.074146233499050,0.016393197700381,-0.072409413754940,-0.030763370916247,-0.073761470615864,0.154786258935928,0.244794189929962,0.123690709471703,-0.180798083543777,-0.063959687948227,-0.075378574430943,0.116958416998386,-0.010289477184415,0.069026097655296,0.002951350295916));
res += mul(Get(s3,0,-dy), float4x4(0.053668718785048,0.156233951449394,-0.031679429113865,0.098014786839485,-0.021047912538052,0.025639487430453,-0.135979175567627,0.039534006267786,0.008452304638922,-0.026060575619340,-0.028051927685738,-0.033508751541376,-0.122245602309704,0.151520401239395,0.134551241993904,-0.038324952125549));
res += mul(Get(s3,0,0), float4x4(0.037540487945080,0.036110404878855,-0.110677376389503,-0.064510427415371,0.057273995131254,0.027654618024826,0.005224788561463,0.007540181279182,0.073269210755825,0.033678881824017,0.110190697014332,-0.075195282697678,-0.108866393566132,-0.205966576933861,0.030128315091133,0.110044553875923));
res += mul(Get(s3,0,dy), float4x4(0.081076532602310,-0.041658569127321,0.038915373384953,0.048200462013483,-0.082964874804020,-0.255896061658859,-0.048488505184650,0.070907548069954,-0.002717835595831,-0.089647397398949,-0.062418226152658,-0.035262845456600,0.000241888730670,-0.053111121058464,0.022836374118924,0.027025377377868));
res += mul(Get(s3,dx,-dy), float4x4(0.040348432958126,0.030327504500747,0.163153097033501,0.146020337939262,0.049451634287834,-0.079129479825497,0.066255025565624,0.162569612264633,0.038230799138546,0.036104481667280,0.038831349462271,-0.032017227262259,0.071857139468193,-0.126599088311195,0.008086854591966,-0.197738498449326));
res += mul(Get(s3,dx,0), float4x4(0.030996726825833,0.157652124762535,0.028125867247581,0.171816214919090,-0.187074065208435,0.132606804370880,0.017611881718040,0.002567111980170,-0.116089947521687,0.078938260674477,0.081881716847420,0.090889357030392,0.219818547368050,-0.080476485192776,0.088664248585701,0.089135713875294));
res += mul(Get(s3,dx,dy), float4x4(0.217299506068230,0.124982796609402,-0.069403097033501,0.022528497502208,-0.202296212315559,-0.011100973933935,-0.054231435060501,0.048848487436771,-0.029344294220209,-0.064648240804672,0.023803671821952,0.149928525090218,0.257143676280975,0.014011899940670,-0.048844646662474,0.296658873558044));
return max(float4(0,0,0,0), res);
}
