sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.042289491742849,-0.177565023303032,-0.002847789786756,0.144518822431564,0.000728320970666,-0.091116942465305,-0.074461758136749,0.072319164872169,-0.023300552740693,-0.073889099061489,0.085513159632683,-0.098377093672752,0.061393834650517,0.077545277774334,0.008029968477786,-0.071835651993752));
res += mul(Get(s0,-dx,0), float4x4(0.008091200143099,-0.000783988041803,0.221580728888512,0.007886379957199,0.009147014468908,-0.062646567821503,-0.110965527594090,-0.027247767895460,-0.047434821724892,-0.004750777967274,0.036029409617186,-0.023576777428389,0.102528482675552,-0.150724649429321,-0.134705901145935,-0.070149786770344));
res += mul(Get(s0,-dx,dy), float4x4(-0.087291412055492,0.090377151966095,-0.101763352751732,-0.005204711575061,-0.005950277671218,-0.058456048369408,0.008052521385252,0.056068982928991,-0.043694023042917,0.045991171151400,0.046316042542458,-0.134424492716789,0.161602050065994,0.094722367823124,-0.030629724264145,0.030058188363910));
res += mul(Get(s0,0,-dy), float4x4(0.092271134257317,-0.014181004837155,0.109074480831623,0.088535450398922,0.052418049424887,0.041479185223579,-0.082779712975025,0.086631044745445,-0.027552427724004,0.096111521124840,-0.069462686777115,-0.070353634655476,-0.103511206805706,-0.018834622576833,-0.089445799589157,0.002418798394501));
res += mul(Get(s0,0,0), float4x4(-0.057763166725636,0.146721079945564,-0.014225663617253,-0.080012202262878,0.017770225182176,-0.098865039646626,-0.112569406628609,-0.046997167170048,-0.113507211208344,0.050015307962894,-0.057060442864895,-0.012677631340921,-0.159305125474930,-0.099080160260201,-0.104708090424538,-0.031974297016859));
res += mul(Get(s0,0,dy), float4x4(0.087760798633099,0.049958169460297,-0.046940244734287,-0.052035704255104,0.080867603421211,-0.015202136710286,-0.038900695741177,-0.009698458947241,0.012493488378823,0.046657580882311,-0.021626038476825,-0.093637056648731,0.178227096796036,0.040577523410320,-0.117757841944695,0.020038409158587));
res += mul(Get(s0,dx,-dy), float4x4(0.075211487710476,-0.087740242481232,0.020659178495407,0.030879808589816,0.054516438394785,0.003912046551704,0.062316514551640,0.064110577106476,-0.019614821299911,0.001461179344915,-0.041970495134592,-0.065796881914139,0.043480534106493,-0.033081043511629,-0.048816308379173,-0.019633386284113));
res += mul(Get(s0,dx,0), float4x4(0.005110667087138,0.029375664889812,-0.011796606704593,0.028119536116719,0.078734599053860,-0.083492748439312,-0.000728608341888,-0.062820114195347,0.109158292412758,0.048469398170710,-0.051774293184280,-0.028898624703288,-0.140186622738838,0.084091886878014,-0.207816079258919,0.134896546602249));
res += mul(Get(s0,dx,dy), float4x4(0.042476519942284,0.020134845748544,0.000795988307800,0.147535771131516,-0.058747179806232,-0.016883192583919,0.108687072992325,0.098429851233959,0.179150149226189,0.032119091600180,0.022606700658798,-0.044902622699738,0.147159561514854,0.081581890583038,-0.196437165141106,0.113443709909916));
res += mul(Get(s1,-dx,-dy), float4x4(0.030797129496932,-0.150251746177673,-0.180075436830521,-0.034445714205503,-0.104644820094109,0.196434006094933,-0.063219569623470,0.006773121189326,-0.068443924188614,-0.021298021078110,0.024511871859431,-0.024452826008201,0.059185631573200,0.199587300419807,-0.056422274559736,-0.067690879106522));
res += mul(Get(s1,-dx,0), float4x4(-0.094990387558937,-0.085876263678074,-0.114585362374783,-0.076189696788788,-0.074482627213001,-0.037851724773645,0.042254649102688,0.223186671733856,-0.138310849666595,0.026403095573187,0.138673409819603,-0.029864488169551,0.053056355565786,-0.007398121524602,0.101162731647491,0.051149930804968));
res += mul(Get(s1,-dx,dy), float4x4(-0.037271197885275,-0.063418045639992,-0.003679408458993,0.052985686808825,-0.007111274637282,0.040337219834328,-0.034156218171120,-0.131172314286232,-0.024726795032620,0.150737762451172,0.033811178058386,-0.073474913835526,-0.005184475798160,0.087420642375946,0.018870472908020,-0.031444672495127));
res += mul(Get(s1,0,-dy), float4x4(0.078813940286636,-0.074854567646980,0.034854706376791,0.154744058847427,0.165007352828979,-0.037031237035990,-0.002677608048543,0.048053346574306,-0.035952884703875,-0.090546622872353,0.151142567396164,0.178634017705917,0.034760769456625,0.018409779295325,-0.092691220343113,-0.006109190173447));
res += mul(Get(s1,0,0), float4x4(0.010581783950329,0.013489968143404,0.008090543560684,0.200989529490471,-0.148458242416382,0.030156392604113,0.049615357071161,-0.047269463539124,-0.088081948459148,-0.069528080523014,0.373163253068924,0.015525216236711,0.177769750356674,0.010082473978400,0.082792714238167,0.177293866872787));
res += mul(Get(s1,0,dy), float4x4(0.018698114901781,0.056567724794149,-0.120022140443325,0.346195220947266,0.031375661492348,0.102517396211624,-0.039778877049685,-0.107756339013577,-0.059748534113169,0.001986681250855,0.139713123440742,0.168027788400650,0.064141944050789,0.054770737886429,-0.008894332684577,-0.012218532152474));
res += mul(Get(s1,dx,-dy), float4x4(0.070859350264072,-0.087756089866161,0.041055489331484,0.034589447081089,0.138902589678764,0.017404034733772,0.039163667708635,-0.022748883813620,-0.044936049729586,-0.094154283404350,0.055597182363272,-0.070369839668274,0.005368973128498,-0.019285745918751,0.100116640329361,0.163181111216545));
res += mul(Get(s1,dx,0), float4x4(-0.094423644244671,-0.086075358092785,0.034678038209677,-0.064056359231472,-0.107947371900082,-0.006816330831498,-0.065841838717461,0.011015794239938,-0.154071077704430,0.028395820409060,0.014222400262952,0.021433833986521,-0.111334621906281,0.025384202599525,0.172284409403801,0.008538852445781));
res += mul(Get(s1,dx,dy), float4x4(-0.054280828684568,-0.039500370621681,-0.088897027075291,0.141085445880890,-0.059056751430035,0.046375934034586,0.035018354654312,0.079933270812035,-0.058619387447834,0.011611397378147,0.135170251131058,-0.018285349011421,0.021992160007358,0.149766027927399,0.051670372486115,-0.057601083070040));
res += mul(Get(s2,-dx,-dy), float4x4(0.170679822564125,-0.098687328398228,-0.016542125493288,0.190508991479874,-0.114763066172600,-0.062877483665943,-0.011749643832445,-0.086952731013298,0.015994502231479,0.034958817064762,0.243905976414680,-0.103013485670090,0.027986193075776,-0.047909427434206,-0.259035944938660,-0.109162583947182));
res += mul(Get(s2,-dx,0), float4x4(-0.007362368516624,-0.077086269855499,0.045559749007225,0.211987793445587,-0.006305738817900,0.116628818213940,0.040062919259071,0.061901308596134,0.071787036955357,0.315494388341904,0.030490878969431,-0.073688991367817,-0.008337572216988,-0.126832947134972,0.016143202781677,-0.028759697452188));
res += mul(Get(s2,-dx,dy), float4x4(-0.016001101583242,-0.003028350649402,0.155635878443718,0.052139908075333,0.029292210936546,-0.059580899775028,-0.095045328140259,-0.016824364662170,-0.001681466354057,0.029841825366020,0.059594891965389,-0.093950673937798,0.018109768629074,0.038151718676090,-0.041013646870852,0.005731696262956));
res += mul(Get(s2,0,-dy), float4x4(0.153406694531441,-0.019157163798809,0.017615457996726,0.096507228910923,-0.017204998061061,-0.141149699687958,-0.006833229679614,-0.062385797500610,-0.030358925461769,-0.187743529677391,0.110674209892750,-0.144659399986267,-0.038998942822218,0.061880972236395,-0.104915529489517,-0.101322531700134));
res += mul(Get(s2,0,0), float4x4(-0.055868193507195,0.000313152151648,0.053542897105217,0.072737932205200,0.071257300674915,0.027047514915466,0.011315361596644,0.251862525939941,0.096502415835857,-0.003541413228959,-0.114597447216511,-0.123113311827183,-0.013708226382732,0.084869362413883,0.095158137381077,0.226282849907875));
res += mul(Get(s2,0,dy), float4x4(-0.008344553411007,0.078811660408974,0.044219616800547,0.114342726767063,-0.070772156119347,-0.038679651916027,-0.253261655569077,0.288222610950470,0.165705829858780,-0.079007454216480,-0.110480651259422,-0.056019406765699,0.046212580054998,0.109130427241325,0.113036222755909,-0.081691652536392));
res += mul(Get(s2,dx,-dy), float4x4(-0.002601850545034,0.025617588311434,0.025296337902546,-0.080863341689110,-0.000300843326841,-0.071954488754272,-0.016624867916107,-0.057411480695009,-0.060905322432518,-0.109108604490757,0.141493454575539,-0.058660771697760,0.024301437661052,-0.093858726322651,-0.032038938254118,-0.059244073927402));
res += mul(Get(s2,dx,0), float4x4(-0.036647856235504,0.032820280641317,-0.019392291083932,-0.061507977545261,0.111985437572002,0.050621356815100,0.073542252182961,-0.038032539188862,-0.068466126918793,-0.060221113264561,-0.066300846636295,-0.064372994005680,0.062388733029366,-0.051064606755972,0.141129389405251,-0.099062919616699));
res += mul(Get(s2,dx,dy), float4x4(-0.071878179907799,0.122323296964169,0.070999741554260,0.028216239064932,0.007761002052575,0.042978335171938,0.116271175444126,0.147731944918633,0.522778749465942,-0.037570849061012,-0.058393914252520,0.010294183157384,0.040398869663477,-0.009024237282574,0.111413426697254,-0.150632262229919));
res += mul(Get(s3,-dx,-dy), float4x4(-0.010977705940604,-0.122707486152649,-0.007590708788484,-0.005957461427897,0.082913808524609,-0.164401501417160,-0.052512224763632,-0.067768387496471,-0.076353155076504,0.133095785975456,0.092458680272102,-0.119409672915936,-0.073754101991653,-0.146718069911003,0.081237040460110,-0.010470557026565));
res += mul(Get(s3,-dx,0), float4x4(-0.012225083075464,-0.045011501759291,-0.053586311638355,-0.032649401575327,-0.040681988000870,-0.125512629747391,0.007489258889109,-0.090908907353878,-0.092166356742382,0.140454947948456,0.069897107779980,0.014795499853790,-0.050178244709969,-0.058359146118164,0.151956722140312,0.092992059886456));
res += mul(Get(s3,-dx,dy), float4x4(-0.019424106925726,-0.151089340448380,-0.143514886498451,0.043427251279354,0.150877296924591,-0.208793327212334,-0.061445266008377,-0.107207819819450,-0.066266737878323,0.025741279125214,-0.062905102968216,-0.012178428471088,0.006153160240501,-0.105815745890141,0.046207394450903,0.008504929952323));
res += mul(Get(s3,0,-dy), float4x4(-0.015701046213508,-0.062998920679092,-0.050766848027706,-0.031550720334053,0.098521895706654,-0.197657346725464,-0.045477386564016,-0.026621267199516,-0.163863256573677,-0.042625904083252,0.110496997833252,-0.010003741830587,-0.102017916738987,-0.154607445001602,-0.006041473709047,0.006086216773838));
res += mul(Get(s3,0,0), float4x4(-0.066713936626911,-0.011954437009990,-0.050096124410629,-0.004571261815727,0.090907372534275,0.168176338076591,-0.042549882084131,-0.091322310268879,0.015559952706099,0.031951904296875,0.076067097485065,-0.155303820967674,0.040790133178234,0.023853778839111,-0.024442752823234,-0.034045726060867));
res += mul(Get(s3,0,dy), float4x4(0.081920310854912,-0.069370143115520,-0.115996554493904,0.046457421034575,0.016568755730987,0.057894967496395,-0.098943628370762,-0.119109645485878,0.150439560413361,0.052542228251696,-0.034457009285688,0.018862744793296,0.028685303404927,-0.026008747518063,0.052412685006857,0.140328690409660));
res += mul(Get(s3,dx,-dy), float4x4(0.014251069165766,0.106578879058361,-0.032026249915361,-0.067992918193340,-0.004405740182847,-0.154465124011040,0.012360674329102,-0.020430412143469,-0.134556189179420,-0.017538769170642,0.044410742819309,-0.107037514448166,-0.023078376427293,0.008567010983825,-0.000447935977718,0.010217146947980));
res += mul(Get(s3,dx,0), float4x4(0.086116649210453,0.237666293978691,0.002926497953013,-0.032340936362743,0.015395445749164,0.101407222449780,-0.095306009054184,-0.046813577413559,-0.034563284367323,-0.016533160582185,0.025955148041248,0.007124884985387,0.054628796875477,0.082895152270794,-0.158193886280060,0.073742598295212));
res += mul(Get(s3,dx,dy), float4x4(0.022532355040312,0.110696129500866,0.065516546368599,0.094855077564716,-0.006544935517013,0.142739236354828,-0.006454549729824,-0.047223802655935,-0.063851311802864,-0.065432488918304,0.111171551048756,-0.067021295428276,0.142125293612480,-0.050742428749800,-0.061245348304510,0.106594942510128));
return max(float4(0,0,0,0), res);
}
