sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.116868287324905,-0.023255461826921,-0.027283055707812,0.059986446052790,0.031494215130806,-0.054228384047747,0.117123924195766,-0.052974116057158,-0.071356527507305,-0.019803544506431,0.174528971314430,0.107729196548462,-0.091947644948959,-0.146252602338791,0.073839075863361,-0.036366064101458));
res += mul(Get(s0,-dx,0), float4x4(-0.014621908776462,-0.059440243989229,-0.183352768421173,-0.084859788417816,-0.029255965724587,-0.065076634287834,-0.107981562614441,0.211545273661613,0.044824935495853,-0.066242478787899,0.039033565670252,-0.003748055547476,-0.059497337788343,-0.008029439486563,-0.048073276877403,0.067685052752495));
res += mul(Get(s0,-dx,dy), float4x4(-0.019832810387015,0.165665015578270,-0.089440211653709,-0.010948762297630,0.222816020250320,-0.045652382075787,-0.143692582845688,0.094800032675266,0.084157913923264,0.123833306133747,0.078590147197247,-0.121600426733494,-0.024961007758975,-0.115289919078350,0.157298505306244,0.284218162298203));
res += mul(Get(s0,0,-dy), float4x4(0.122459948062897,-0.131137087941170,-0.035183362662792,0.177193343639374,-0.172156423330307,-0.131825983524323,0.122653000056744,-0.074896275997162,0.006269746925682,-0.031817920506001,-0.064327791333199,0.096217177808285,0.111445911228657,0.047760825604200,0.057470045983791,0.149799376726151));
res += mul(Get(s0,0,0), float4x4(-0.096405968070030,0.082492813467979,-0.129650369286537,0.034604437649250,-0.008966176770627,-0.081195607781410,0.051344629377127,0.097493290901184,0.015553347766399,0.036096569150686,-0.070926897227764,-0.082710787653923,0.148254767060280,0.059834282845259,0.002487423131242,0.247186675667763));
res += mul(Get(s0,0,dy), float4x4(-0.034099861979485,0.116388291120529,-0.024312889203429,-0.023916840553284,0.070981174707413,0.156152009963989,-0.201592281460762,-0.060439188033342,0.014373670332134,-0.074130788445473,-0.135955706238747,0.004176070913672,0.088946305215359,0.152411788702011,-0.055409647524357,-0.016069458797574));
res += mul(Get(s0,dx,-dy), float4x4(0.110530532896519,-0.003785756416619,0.059873200953007,0.182857781648636,-0.014218807220459,0.052124314010143,0.069116659462452,0.098718687891960,0.163667976856232,-0.096664145588875,0.080644175410271,0.028575595468283,-0.017914047464728,0.129514396190643,-0.082478985190392,0.114721208810806));
res += mul(Get(s0,dx,0), float4x4(-0.102913729846478,0.018231239169836,0.070915102958679,-0.047656286507845,0.024343326687813,0.018654895946383,-0.221963390707970,-0.144908189773560,-0.086696490645409,-0.054551530629396,-0.020015584304929,0.059760201722383,0.137564212083817,0.177224844694138,0.076413154602051,0.048272717744112));
res += mul(Get(s0,dx,dy), float4x4(-0.180437594652176,0.065326303243637,-0.002954748459160,-0.013381554745138,-0.057252120226622,-0.011185864917934,0.003956684377044,0.001818938646466,-0.048794813454151,-0.053946871310472,0.088080562651157,-0.049430698156357,-0.049080777913332,0.024321042001247,0.084698684513569,0.110219873487949));
res += mul(Get(s1,-dx,-dy), float4x4(-0.046049308031797,0.028447460383177,0.172477632761002,0.021576311439276,0.096561953425407,0.210578769445419,-0.072825662791729,0.040196519345045,0.022260446101427,0.057280149310827,0.060129422694445,0.058142088353634,0.060958661139011,0.001437914790586,-0.094965554773808,0.018527086824179));
res += mul(Get(s1,-dx,0), float4x4(-0.232357263565063,0.162479400634766,0.127053558826447,0.151446908712387,0.088663578033447,-0.047292709350586,-0.049824558198452,0.143489763140678,-0.016447117552161,-0.153238624334335,-0.017661880701780,-0.075176730751991,-0.135517209768295,0.000022161268134,0.046102486550808,-0.034147914499044));
res += mul(Get(s1,-dx,dy), float4x4(-0.106127902865410,0.131055191159248,0.153017789125443,-0.043458092957735,-0.029648358002305,0.010270735248923,-0.069267585873604,-0.108924761414528,-0.055765762925148,0.102729231119156,0.000979347270913,0.043470267206430,-0.137671053409576,0.043987456709146,-0.022652661427855,0.087110579013824));
res += mul(Get(s1,0,-dy), float4x4(-0.209878876805305,-0.009938045404851,-0.201212182641029,-0.025508157908916,-0.010632940568030,0.036880668252707,0.115391753613949,0.077818684279919,0.008788251318038,-0.064837194979191,0.001812136149965,-0.139730259776115,-0.076309069991112,-0.029638750478625,0.172111824154854,0.007007613778114));
res += mul(Get(s1,0,0), float4x4(-0.058230154216290,-0.069074310362339,-0.072056502103806,0.036720614880323,-0.016007559373975,0.039353545755148,0.143682166934013,-0.047277498990297,-0.005291901994497,0.033479604870081,0.065498791635036,-0.022520624101162,0.182585790753365,-0.011059544980526,0.051650546491146,0.032624289393425));
res += mul(Get(s1,0,dy), float4x4(-0.095453821122646,-0.107891865074635,0.326277285814285,-0.124546781182289,0.037580095231533,0.202229633927345,0.117484323680401,-0.064350306987762,0.088538408279419,-0.174748659133911,0.131970033049583,0.036698583513498,0.168233513832092,-0.108731903135777,0.096531160175800,0.112591899931431));
res += mul(Get(s1,dx,-dy), float4x4(-0.085976026952267,-0.137922987341881,0.068516284227371,0.002747633960098,0.005458870436996,0.017868092283607,-0.104690484702587,-0.084680967032909,-0.040030065923929,0.328610509634018,-0.060571599751711,-0.208238318562508,0.046775285154581,-0.096761122345924,-0.096835814416409,-0.054533306509256));
res += mul(Get(s1,dx,0), float4x4(0.001941468566656,0.022212499752641,0.096406273543835,0.143245175480843,-0.082649521529675,0.211109071969986,0.060522217303514,0.072639338672161,0.055775962769985,0.092259727418423,0.146605789661407,-0.045886266976595,-0.050420120358467,0.012214640155435,-0.083024211227894,0.060529228299856));
res += mul(Get(s1,dx,dy), float4x4(-0.126184090971947,0.065103009343147,0.270276635885239,-0.147713392972946,-0.122929282486439,0.043142799288034,-0.063973911106586,0.274387866258621,-0.095943585038185,0.079899191856384,-0.081416167318821,0.104036048054695,-0.011511266231537,-0.031850650906563,0.216095507144928,-0.043452769517899));
res += mul(Get(s2,-dx,-dy), float4x4(-0.041819937527180,-0.088527090847492,0.040760159492493,-0.124399721622467,0.025763526558876,0.181870535016060,0.041473478078842,0.090804003179073,-0.125907003879547,-0.025438429787755,0.110228672623634,-0.081699363887310,-0.159065142273903,-0.202037602663040,0.062402032315731,-0.061118863523006));
res += mul(Get(s2,-dx,0), float4x4(0.011945428326726,0.011136857792735,-0.147289738059044,-0.008326439186931,-0.144260227680206,0.005138127133250,0.214039921760559,0.090910024940968,-0.151913449168205,0.085174098610878,0.066119171679020,-0.085944257676601,0.094206005334854,-0.054693866521120,-0.182407468557358,-0.091852761805058));
res += mul(Get(s2,-dx,dy), float4x4(0.138028725981712,0.019200490787625,-0.141956269741058,-0.393308877944946,0.051765903830528,0.184207230806351,-0.135053738951683,0.211745083332062,0.127322882413864,0.009840876795352,0.134912982583046,0.098930232226849,0.211883336305618,-0.093374133110046,0.045740753412247,-0.071318157017231));
res += mul(Get(s2,0,-dy), float4x4(0.071409046649933,-0.012035173363984,-0.166658833622932,-0.069013699889183,-0.037168841809034,-0.091261833906174,-0.034093368798494,0.020644238218665,-0.027386913076043,0.033766888082027,-0.038772672414780,0.024142982438207,0.029277700930834,-0.074907101690769,-0.134538188576698,0.103783152997494));
res += mul(Get(s2,0,0), float4x4(0.135328352451324,-0.049250539392233,-0.006920835934579,-0.068009741604328,0.037824187427759,0.143005728721619,-0.085875935852528,-0.033526260405779,0.001805151812732,0.153490915894508,0.101516842842102,0.232381105422974,0.084527760744095,-0.025176754221320,0.091485887765884,0.065905474126339));
res += mul(Get(s2,0,dy), float4x4(-0.113279595971107,0.117903329432011,0.257516413927078,0.069832742214203,-0.011475733481348,0.125726670026779,-0.045645613223314,0.188267529010773,-0.067554481327534,-0.039863113313913,-0.146936058998108,-0.066205628216267,-0.088109552860260,0.094256892800331,-0.017750289291143,-0.023547189310193));
res += mul(Get(s2,dx,-dy), float4x4(-0.214285388588905,-0.011811430566013,-0.178990244865417,0.028476212173700,0.117684952914715,0.025009378790855,0.081578306853771,-0.102428242564201,0.028880609199405,-0.049148663878441,0.072131797671318,0.007254369556904,0.027048951014876,0.057290166616440,-0.184298336505890,-0.008871990256011));
res += mul(Get(s2,dx,0), float4x4(-0.039559070020914,-0.045886714011431,0.029478901997209,0.083653643727303,-0.071700736880302,-0.150335639715195,-0.087522312998772,-0.043062150478363,-0.016220310702920,0.000922170467675,0.058172751218081,0.003856598865241,-0.191188052296638,0.094812117516994,0.094337023794651,0.355245828628540));
res += mul(Get(s2,dx,dy), float4x4(-0.118548713624477,0.151628628373146,0.182498231530190,-0.064549058675766,-0.007213415112346,-0.007420256268233,0.030455427244306,-0.102200895547867,0.007761391811073,-0.144941315054893,-0.045830685645342,0.113927245140076,0.025905972346663,-0.028712872415781,-0.150367245078087,0.151105731725693));
res += mul(Get(s3,-dx,-dy), float4x4(-0.145137429237366,-0.049630336463451,0.035634819418192,0.030628221109509,-0.061367448419333,-0.083202272653580,-0.031491070985794,0.074292555451393,-0.156781166791916,0.024536436423659,0.030177431181073,0.019740253686905,-0.035599559545517,0.064156226813793,0.016446519643068,-0.085928119719028));
res += mul(Get(s3,-dx,0), float4x4(0.036856479942799,-0.032465122640133,-0.025655852630734,-0.082913763821125,0.002650231355801,0.067528851330280,-0.088325381278992,0.085811682045460,0.012198738753796,0.020375715568662,0.077918648719788,0.161214798688889,-0.105043679475784,0.059490643441677,0.167052611708641,0.020347362384200));
res += mul(Get(s3,-dx,dy), float4x4(0.322500526905060,-0.147722005844116,0.004460507072508,0.018065055832267,-0.100052662193775,0.127612337470055,-0.114507414400578,-0.067074060440063,-0.010652336291969,0.128218829631805,-0.015684241428971,-0.029837550595403,0.100908048450947,0.066203370690346,0.047080550342798,0.132827445864677));
res += mul(Get(s3,0,-dy), float4x4(-0.072016842663288,0.058695808053017,-0.059125758707523,0.005976876709610,-0.063914008438587,-0.146091237664223,0.006096040364355,0.190761938691139,-0.043001882731915,0.035757098346949,-0.124642677605152,-0.120194710791111,-0.116318903863430,0.016087170690298,-0.051702611148357,-0.056456074118614));
res += mul(Get(s3,0,0), float4x4(0.094988770782948,0.072175949811935,0.153897702693939,0.018413454294205,-0.006685976870358,-0.178154036402702,0.131395116448402,-0.043176550418139,-0.027067510411143,-0.079059712588787,0.079024091362953,-0.152653619647026,-0.098440915346146,0.070722237229347,0.130256265401840,-0.186901107430458));
res += mul(Get(s3,0,dy), float4x4(0.102511286735535,-0.042890794575214,-0.035710792988539,-0.061993785202503,-0.030775617808104,0.149189814925194,0.017790980637074,-0.137248188257217,-0.145137146115303,0.097973033785820,-0.100957065820694,0.069121681153774,0.127972617745399,-0.115216203033924,-0.010918545536697,-0.084782510995865));
res += mul(Get(s3,dx,-dy), float4x4(-0.085006177425385,-0.137585282325745,0.003344462020323,-0.114599831402302,-0.143007740378380,-0.094203643500805,-0.017772899940610,0.152553170919418,-0.058119639754295,0.019200187176466,-0.011867718771100,0.074203670024872,0.032166652381420,0.028073433786631,0.076178364455700,0.061068780720234));
res += mul(Get(s3,dx,0), float4x4(0.015745742246509,0.124454669654369,0.152790307998657,-0.021525718271732,-0.174925863742828,-0.014823308214545,-0.026159379631281,0.015796611085534,-0.242770925164223,0.204737812280655,0.083953164517879,0.114342689514160,-0.169272601604462,0.045383326709270,0.177713051438332,0.018841609358788));
res += mul(Get(s3,dx,dy), float4x4(0.021503074094653,-0.014017653651536,-0.188358515501022,-0.111764699220657,0.033486634492874,0.024549193680286,0.004388846457005,0.033678699284792,-0.121878467500210,0.099569171667099,-0.013843865133822,-0.062876790761948,0.019025750458241,0.032587923109531,0.050887793302536,0.140520766377449));
return max(float4(0,0,0,0), res);
}
