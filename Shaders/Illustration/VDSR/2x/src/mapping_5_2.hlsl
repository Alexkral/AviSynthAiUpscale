sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.066436566412449,0.030186867341399,0.102096907794476,-0.066859349608421,0.036584582179785,0.043513365089893,0.003475102130324,-0.094658918678761,-0.140119865536690,-0.029783030971885,0.005984598770738,-0.020281905308366,-0.000356736534741,-0.015023893676698,-0.028490204364061,-0.070111133158207));
res += mul(Get(s0,-dx,0), float4x4(-0.100126020610332,0.004483471158892,-0.097706787288189,-0.143596768379211,-0.059116024523973,-0.043432768434286,0.080205485224724,0.009629586711526,0.040972162038088,0.080966919660568,0.099039718508720,-0.050530258566141,-0.040181983262300,-0.010848347097635,-0.037931073457003,-0.065258041024208));
res += mul(Get(s0,-dx,dy), float4x4(0.019926743581891,-0.120665244758129,-0.158956333994865,-0.024922605603933,0.052529774606228,0.044728953391314,0.160678878426552,0.017075654119253,-0.058090306818485,0.042796224355698,0.121190920472145,-0.016065428033471,-0.112596102058887,0.048917770385742,0.008599303662777,-0.154534816741943));
res += mul(Get(s0,0,-dy), float4x4(0.077286414802074,-0.143343284726143,-0.023777887225151,-0.095239564776421,-0.076296187937260,0.031689971685410,-0.031206352636218,-0.093767262995243,-0.036017872393131,-0.005724466405809,0.204835429787636,0.011194332502782,-0.016059173271060,0.017516564577818,-0.138091176748276,0.095101088285446));
res += mul(Get(s0,0,0), float4x4(-0.118538267910480,-0.046011917293072,-0.072336889803410,-0.153048917651176,0.071438364684582,0.162920847535133,-0.074056476354599,-0.038898341357708,0.108281262218952,0.176984369754791,-0.041319541633129,-0.028120467439294,-0.020682165399194,0.005850052926689,-0.149313479661942,0.186590403318405));
res += mul(Get(s0,0,dy), float4x4(-0.168824300169945,-0.022283822298050,-0.129321083426476,-0.063213758170605,-0.022833682596684,0.136555850505829,-0.023365024477243,0.387973666191101,0.100172862410545,0.121498003602028,0.055963147431612,0.001052923267707,-0.075295858085155,0.031615979969501,-0.017813069745898,0.029873250052333));
res += mul(Get(s0,dx,-dy), float4x4(0.105178318917751,-0.112757511436939,0.008774159476161,0.020924201235175,0.085066661238670,0.042681716382504,-0.036735393106937,-0.077560558915138,-0.054156199097633,-0.131597980856895,0.046479638665915,0.052891254425049,0.027366191148758,0.083955056965351,-0.156148582696915,-0.110723696649075));
res += mul(Get(s0,dx,0), float4x4(0.196968793869019,0.146714374423027,-0.193219691514969,-0.122624821960926,-0.073077604174614,-0.007575395517051,0.066780023276806,-0.055970553308725,-0.056550964713097,0.001990850782022,-0.012539824470878,0.023076541721821,0.095586985349655,0.127137243747711,0.056555584073067,0.022327557206154));
res += mul(Get(s0,dx,dy), float4x4(0.034547869116068,0.061064839363098,-0.238765969872475,0.040232688188553,-0.200777798891068,0.066414006054401,-0.084540784358978,-0.048892267048359,0.072570256888866,-0.080434598028660,0.107862062752247,0.129186898469925,0.015441435389221,-0.073900766670704,0.033771280199289,-0.104971975088120));
res += mul(Get(s1,-dx,-dy), float4x4(0.045051977038383,-0.052304640412331,0.039345201104879,0.062914364039898,-0.036727990955114,0.036955852061510,0.107012294232845,0.008336015976965,-0.020330913364887,0.009387530386448,-0.043106779456139,-0.079394750297070,0.047801643610001,-0.021278610453010,-0.022231411188841,-0.053119115531445));
res += mul(Get(s1,-dx,0), float4x4(0.009670124389231,-0.017003571614623,0.002310134470463,-0.009660121984780,-0.040937967598438,-0.154861330986023,-0.002821011235937,0.044413901865482,0.029386982321739,0.044032298028469,-0.024789761751890,0.027009805664420,0.001552938716486,0.095922604203224,-0.082466132938862,-0.053667712956667));
res += mul(Get(s1,-dx,dy), float4x4(0.023651579394937,-0.113279677927494,0.005726075265557,0.023618193343282,-0.009282167069614,-0.112493582069874,0.264372169971466,-0.092376716434956,0.059901762753725,0.000831876124721,0.085358142852783,0.000291957636364,-0.121949374675751,0.002183285309002,0.030681949108839,0.014685180038214));
res += mul(Get(s1,0,-dy), float4x4(-0.107844486832619,0.040431305766106,-0.083377465605736,0.100811645388603,0.063725389540195,-0.135260581970215,0.014595258049667,0.140622392296791,0.054439123719931,0.034421980381012,-0.100109972059727,-0.090886667370796,-0.003177774837241,-0.054168239235878,-0.007520693354309,0.008278567343950));
res += mul(Get(s1,0,0), float4x4(-0.010175402276218,0.032341651618481,0.062018942087889,-0.071851857006550,0.067405827343464,-0.083188578486443,-0.128825113177299,0.237289741635323,0.067267291247845,0.078815773129463,-0.076082073152065,0.127745956182480,-0.024393226951361,0.034364704042673,0.029160279780626,0.046019341796637));
res += mul(Get(s1,0,dy), float4x4(-0.000639126286842,0.013518613763154,-0.019639885053039,0.055324967950583,-0.025595836341381,-0.024021383374929,-0.027850512415171,-0.045001678168774,-0.038563534617424,-0.047560036182404,0.153374075889587,-0.030130315572023,-0.158819019794464,-0.063299067318439,-0.036229472607374,-0.076542563736439));
res += mul(Get(s1,dx,-dy), float4x4(-0.016624115407467,-0.081832885742188,-0.051009885966778,0.040587861090899,0.067786216735840,-0.070339769124985,0.138769015669823,0.038951024413109,0.027387198060751,0.008247751742601,0.061868194490671,-0.083867944777012,0.066426001489162,0.037667181342840,-0.007252921815962,-0.021054519340396));
res += mul(Get(s1,dx,0), float4x4(-0.072357431054115,-0.056263975799084,0.118837915360928,0.119836479425430,0.159219637513161,0.140980958938599,-0.008527413010597,0.050805073231459,0.014309774152935,0.042330078780651,0.030350217595696,0.124128252267838,-0.010790335945785,-0.087676808238029,0.057026445865631,-0.009093275293708));
res += mul(Get(s1,dx,dy), float4x4(-0.032664906233549,-0.073830135166645,0.115108929574490,0.104990132153034,-0.041829053312540,0.094472929835320,0.011858896352351,-0.169241219758987,0.018890028819442,0.043820030987263,0.001562413061038,0.048877671360970,-0.063676245510578,-0.026606122031808,-0.166353747248650,-0.025889383628964));
res += mul(Get(s2,-dx,-dy), float4x4(0.164526715874672,-0.037938434630632,0.222075074911118,0.069934248924255,0.030653173103929,-0.008168326690793,-0.024678863584995,-0.018157761543989,-0.018732329830527,-0.151261180639267,0.018637953326106,0.026651727035642,-0.112141527235508,0.013499213382602,0.061346538364887,0.025765975937247));
res += mul(Get(s2,-dx,0), float4x4(0.059584986418486,-0.071601063013077,0.090544804930687,0.064165212213993,0.141038537025452,0.107837088406086,-0.064270742237568,0.012491420842707,-0.129555389285088,-0.050898183137178,-0.058584261685610,0.013407178223133,-0.094176374375820,-0.079136863350868,0.049603734165430,0.032203454524279));
res += mul(Get(s2,-dx,dy), float4x4(0.207233414053917,-0.044650737196207,-0.083319894969463,0.092789046466351,-0.037100203335285,-0.055217023938894,0.021850472316146,-0.011898785829544,-0.129170015454292,-0.030009221285582,0.071034446358681,0.030915129929781,-0.058809634298086,-0.119583532214165,-0.071034491062164,-0.010553180240095));
res += mul(Get(s2,0,-dy), float4x4(-0.075159884989262,-0.014068849384785,0.089496016502380,-0.056954361498356,0.048466652631760,0.076978325843811,0.102133065462112,-0.019585307687521,-0.093362703919411,-0.127224907279015,0.168183758854866,0.059584908187389,0.094728067517281,-0.069530338048935,0.069920659065247,0.058424275368452));
res += mul(Get(s2,0,0), float4x4(-0.137498736381531,-0.008624357171357,0.033913426101208,0.003380379872397,0.043888807296753,0.119118288159370,-0.012874150648713,0.027299743145704,0.039149936288595,0.158983960747719,0.014142916537821,-0.011896234937012,0.068761751055717,-0.120221644639969,-0.094119615852833,0.017529673874378));
res += mul(Get(s2,0,dy), float4x4(0.096881195902824,-0.060856401920319,0.070641711354256,0.107161365449429,-0.027019970118999,-0.000291454140097,0.087886936962605,0.077205702662468,0.010130692273378,0.030049046501517,-0.031882166862488,0.053749658167362,-0.020386857911944,-0.088216163218021,-0.051273990422487,-0.012676729820669));
res += mul(Get(s2,dx,-dy), float4x4(0.052195500582457,0.042592473328114,-0.012349669821560,0.025028480216861,0.041205503046513,-0.129285007715225,0.084047459065914,-0.023974530398846,0.030173828825355,-0.057669904083014,-0.016896693035960,0.126637339591980,-0.108413599431515,-0.008423659019172,-0.052725307643414,0.162571460008621));
res += mul(Get(s2,dx,0), float4x4(-0.157265260815620,0.095187552273273,-0.021152120083570,0.092187643051147,-0.133944734930992,-0.162594571709633,-0.097264468669891,-0.121927097439766,0.010083616711199,-0.018660059198737,0.083990573883057,0.031861387193203,0.065154023468494,-0.130821347236633,0.017980804666877,-0.032753046602011));
res += mul(Get(s2,dx,dy), float4x4(0.075591802597046,0.005818808916956,-0.016835229471326,0.139665499329567,0.062904372811317,-0.098829112946987,0.031866170465946,0.000167337275343,-0.022239873185754,-0.047100424766541,0.008792582899332,0.112188488245010,-0.052595902234316,-0.070213891565800,-0.078990258276463,-0.023040769621730));
res += mul(Get(s3,-dx,-dy), float4x4(0.029558992013335,0.001649294979870,-0.020863857120275,0.115568622946739,-0.073481567203999,0.086004845798016,0.036401990801096,-0.033021908253431,0.005451027303934,-0.025224255397916,-0.013200477696955,0.109410412609577,0.013696413487196,0.037652313709259,-0.066960155963898,-0.055570617318153));
res += mul(Get(s3,-dx,0), float4x4(0.188866645097733,-0.037609238177538,-0.035616163164377,-0.026775913313031,-0.073420181870461,-0.085750281810760,-0.058315496891737,-0.031973674893379,-0.061205416917801,0.021331386640668,-0.045366585254669,-0.053933050483465,0.033875230699778,0.063180051743984,-0.043511219322681,0.051559828221798));
res += mul(Get(s3,-dx,dy), float4x4(-0.071302630007267,-0.086625784635544,0.025559188798070,-0.051901530474424,-0.104057796299458,-0.144743308424950,0.038998551666737,-0.008709828369319,-0.068196147680283,-0.036031492054462,-0.004768150858581,0.022914249449968,-0.012119341641665,-0.000919783546124,0.034572452306747,-0.008481684140861));
res += mul(Get(s3,0,-dy), float4x4(0.034477513283491,-0.039132792502642,-0.012699465267360,0.045743480324745,0.118648946285248,0.127353593707085,0.057552020996809,-0.088856197893620,-0.133872643113136,0.040999207645655,-0.037656191736460,-0.051631752401590,-0.099522188305855,0.112147837877274,0.128717795014381,-0.028616888448596));
res += mul(Get(s3,0,0), float4x4(0.076687596738338,-0.207953229546547,0.015181195922196,0.054522063583136,0.146035820245743,-0.147238731384277,0.163933798670769,0.070260949432850,0.001205931184813,-0.025079321116209,-0.068054653704166,0.041643489152193,-0.087617121636868,0.224140629172325,-0.060434307903051,-0.003945587202907));
res += mul(Get(s3,0,dy), float4x4(-0.130590662360191,-0.041124597191811,0.079361215233803,-0.046039775013924,0.037247773259878,-0.023682709783316,0.003729190444574,-0.023498404771090,-0.144071489572525,-0.149420782923698,0.211888164281845,-0.042768087238073,0.014636367559433,0.160111889243126,-0.037407059222460,-0.107080489397049));
res += mul(Get(s3,dx,-dy), float4x4(0.060816746205091,0.017770053818822,0.046179059892893,0.025297043845057,-0.039637427777052,0.045834023505449,0.081016071140766,0.061653040349483,0.097896695137024,-0.003925131633878,0.072302177548409,-0.039153028279543,0.006645987741649,-0.014148855581880,0.023941317573190,-0.077472716569901));
res += mul(Get(s3,dx,0), float4x4(0.075005903840065,-0.175273194909096,-0.050030432641506,0.006258617620915,-0.050072502344847,-0.050160575658083,0.020578229799867,0.066562674939632,0.205400422215462,-0.005661368835717,0.084985837340355,0.114467993378639,0.029598236083984,0.042295735329390,-0.091817677021027,-0.018431898206472));
res += mul(Get(s3,dx,dy), float4x4(0.124937944114208,0.059855457395315,-0.087871126830578,-0.033646646887064,-0.024221656844020,0.008146803826094,0.005858681164682,0.205132931470871,-0.028288548812270,-0.105376861989498,0.047900542616844,0.072484083473682,0.046947807073593,-0.069152586162090,-0.092034615576267,-0.048120390623808));
return max(float4(0,0,0,0), res);
}
