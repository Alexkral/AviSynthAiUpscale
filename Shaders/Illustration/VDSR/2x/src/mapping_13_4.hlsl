sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.036222442984581,-0.038534302264452,0.126481309533119,-0.157334089279175,0.305186808109283,-0.010313227772713,0.040035482496023,-0.111314393579960,-0.104744002223015,-0.113900668919086,0.045119348913431,-0.021037567406893,0.184868231415749,0.001098078675568,0.051221378147602,0.178110808134079));
res += mul(Get(s0,-dx,0), float4x4(0.055243007838726,0.125868603587151,-0.070739947259426,-0.057366359978914,0.016600934788585,-0.058840587735176,0.187316730618477,0.067169755697250,0.024656280875206,-0.176855325698853,0.014930995181203,0.012967942282557,0.129823043942451,0.050861332565546,0.061706185340881,0.002943210769445));
res += mul(Get(s0,-dx,dy), float4x4(-0.002752423286438,0.032080002129078,0.050547007471323,-0.036828953772783,0.084097035229206,-0.001061120186932,-0.065089702606201,0.040221251547337,-0.076776452362537,-0.079963438212872,-0.091317020356655,0.170800775289536,0.032372687011957,-0.066033750772476,-0.021698918193579,0.071804687380791));
res += mul(Get(s0,0,-dy), float4x4(0.055161926895380,0.005656493362039,0.250105410814285,-0.103012047708035,-0.172744542360306,-0.077649854123592,-0.015650222077966,-0.092151626944542,0.188232481479645,-0.003846349660307,0.007809584960341,-0.065342299640179,0.205822542309761,0.032648839056492,0.041413027793169,0.110698536038399));
res += mul(Get(s0,0,0), float4x4(-0.105098202824593,0.032842092216015,0.102157339453697,-0.169492810964584,0.046440668404102,-0.091246545314789,-0.140526697039604,0.270590633153915,-0.002502613468096,-0.109049469232559,-0.067087903618813,0.059578441083431,-0.012595877982676,0.009293813258410,0.131133750081062,0.022550642490387));
res += mul(Get(s0,0,dy), float4x4(0.041844967752695,0.021208696067333,0.082799822092056,0.009192973375320,-0.016037607565522,0.037978861480951,-0.064489841461182,-0.054008647799492,-0.032275378704071,0.058627054095268,-0.049099396914244,0.145993933081627,-0.037582349032164,-0.053695719689131,0.022235998883843,0.017181172966957));
res += mul(Get(s0,dx,-dy), float4x4(0.056219004094601,-0.039077267050743,0.092093512415886,0.091227218508720,-0.129020124673843,-0.067033573985100,-0.107199415564537,-0.050328850746155,-0.003602988785133,-0.045327052474022,0.023517280817032,0.085132136940956,0.172004804015160,0.023810982704163,0.008775842376053,0.041840307414532));
res += mul(Get(s0,dx,0), float4x4(-0.053490269929171,-0.082068689167500,0.112438499927521,0.079004622995853,-0.101719900965691,-0.062458001077175,-0.250126898288727,-0.108227439224720,0.099122717976570,0.133457630872726,0.034023512154818,0.026989923790097,0.037868760526180,0.441898941993713,0.014063746668398,0.115672208368778));
res += mul(Get(s0,dx,dy), float4x4(0.069417938590050,-0.023108810186386,-0.052612617611885,0.011695825494826,-0.037921391427517,-0.028120329603553,-0.159039959311485,-0.041821148246527,0.024721492081881,0.001490328577347,-0.008429507724941,0.115962468087673,-0.005513661075383,0.007796762511134,0.039370901882648,0.108578458428383));
res += mul(Get(s1,-dx,-dy), float4x4(0.036659285426140,0.025847561657429,-0.035905316472054,-0.079164415597916,-0.117755919694901,-0.236919373273849,-0.078270144760609,-0.052421294152737,0.234481215476990,0.014885102398694,0.050916045904160,0.057371910661459,0.049947127699852,0.088647253811359,0.242343336343765,-0.179896727204323));
res += mul(Get(s1,-dx,0), float4x4(-0.007653546053916,0.150585398077965,-0.023517735302448,0.017501110211015,-0.020319657400250,-0.026623100042343,-0.002167883096263,0.068573847413063,0.163905963301659,0.009885399602354,0.095053985714912,0.025464564561844,-0.040952611714602,0.047650776803493,0.209616526961327,-0.154640465974808));
res += mul(Get(s1,-dx,dy), float4x4(0.057766918092966,-0.013657162897289,-0.034280665218830,-0.137085855007172,-0.013837926089764,-0.014006047509611,-0.085081659257412,0.058473862707615,0.113944053649902,0.140097767114639,0.049166876822710,0.018670132383704,0.067066632211208,0.018019160255790,0.031161993741989,-0.048288557678461));
res += mul(Get(s1,0,-dy), float4x4(0.054133642464876,0.020912060514092,0.160596162080765,-0.160016402602196,-0.121667809784412,-0.121685571968555,0.001110733603127,-0.029185833409429,0.093082547187805,-0.105162881314754,-0.080566056072712,0.181323558092117,0.040081638842821,-0.079794920980930,-0.058208160102367,-0.155706092715263));
res += mul(Get(s1,0,0), float4x4(0.093715131282806,-0.000846540788189,0.250648707151413,0.127230331301689,-0.040306530892849,-0.033176776021719,0.171522766351700,0.036115214228630,-0.066502489149570,0.099939495325089,-0.091010220348835,0.033913690596819,-0.114266678690910,0.063950560986996,0.120257489383221,-0.116790443658829));
res += mul(Get(s1,0,dy), float4x4(0.004356819204986,0.024717031046748,0.036827571690083,-0.143850386142731,0.108590453863144,-0.032081138342619,0.117934621870518,0.138079002499580,0.001914792228490,0.051172357052565,0.110182762145996,-0.008600050583482,0.119763895869255,-0.054152362048626,0.003813890507445,-0.105825573205948));
res += mul(Get(s1,dx,-dy), float4x4(-0.032827805727720,-0.015225125476718,0.005484046880156,-0.115658216178417,-0.045100264251232,-0.088610060513020,-0.160668924450874,-0.038990199565887,-0.055352732539177,-0.089746102690697,-0.157244995236397,0.089196741580963,0.163072749972343,0.054880823940039,-0.059324614703655,-0.032673005014658));
res += mul(Get(s1,dx,0), float4x4(-0.116968803107738,0.159899562597275,-0.049831572920084,-0.017434185370803,0.000387276260881,0.045470852404833,-0.032435119152069,0.042187329381704,-0.109440058469772,0.001058091758750,-0.105077013373375,0.004555163905025,-0.024433650076389,0.038182605057955,-0.067682206630707,-0.100805349647999));
res += mul(Get(s1,dx,dy), float4x4(0.126048237085342,0.069136440753937,-0.026424352079630,-0.037719555199146,0.113116107881069,0.123658522963524,0.025076057761908,0.067633740603924,0.021212249994278,0.021201470866799,-0.110114775598049,0.010015918873250,0.048452883958817,-0.021194405853748,-0.084296070039272,-0.112762972712517));
res += mul(Get(s2,-dx,-dy), float4x4(0.125290170311928,0.060392498970032,-0.035609550774097,0.058409657329321,0.098718628287315,-0.079975493252277,-0.104489415884018,0.147699683904648,0.029184877872467,0.105494990944862,0.014850602485240,-0.106774665415287,-0.055804993957281,-0.032217290252447,-0.054581601172686,-0.127596333622932));
res += mul(Get(s2,-dx,0), float4x4(-0.004696439485997,0.010057224892080,0.122825823724270,0.082639403641224,0.069157227873802,-0.183155402541161,-0.074197977781296,0.058718819171190,0.202224656939507,-0.014704446308315,0.003187917871401,0.170724049210548,0.016221707686782,0.116065211594105,0.095756255090237,0.078091479837894));
res += mul(Get(s2,-dx,dy), float4x4(0.106484375894070,0.018753882497549,-0.024507451802492,0.016609400510788,0.024347685277462,0.052061509341002,-0.009137231856585,0.107436358928680,-0.017733171582222,0.100643813610077,-0.070888884365559,0.012707435525954,-0.113267332315445,-0.094847820699215,0.082687996327877,-0.044544439762831));
res += mul(Get(s2,0,-dy), float4x4(-0.092208065092564,0.003089521778747,0.088357433676720,0.135333225131035,-0.075356043875217,-0.000627391098533,-0.046498820185661,0.117857560515404,-0.065737202763557,0.058085445314646,0.020294997841120,-0.156824305653572,-0.126707404851913,0.087245747447014,0.040396187454462,-0.080613374710083));
res += mul(Get(s2,0,0), float4x4(-0.114568896591663,-0.014213328249753,-0.060762375593185,0.047289412468672,0.006173152476549,-0.064920075237751,-0.078400515019894,-0.083039075136185,0.026555556803942,0.025866355746984,0.041036676615477,0.121402516961098,-0.021210752427578,0.150128304958344,0.022500507533550,-0.004160584416240));
res += mul(Get(s2,0,dy), float4x4(-0.117870397865772,-0.091279417276382,0.014558020979166,0.004045463632792,-0.086343228816986,0.098930642008781,-0.081845991313457,-0.002763476688415,0.053072270005941,-0.082928806543350,-0.040194284170866,0.078908033668995,-0.026067944243550,-0.035992577672005,-0.039275027811527,0.191918119788170));
res += mul(Get(s2,dx,-dy), float4x4(-0.093405246734619,0.392339378595352,0.077782846987247,0.320507347583771,-0.022125273942947,0.113778650760651,-0.015621908009052,0.090124264359474,0.020459245890379,-0.031344018876553,-0.099773392081261,-0.056961357593536,-0.025135593488812,-0.064468547701836,0.063252322375774,0.032501976937056));
res += mul(Get(s2,dx,0), float4x4(-0.106349222362041,-0.137627214193344,-0.047099135816097,0.086878761649132,-0.010050774551928,-0.068458959460258,-0.062057804316282,-0.066385254263878,-0.002538408618420,0.005983260925859,0.160029083490372,0.044886808842421,0.005082065705210,-0.024534352123737,0.288855910301208,-0.113477513194084));
res += mul(Get(s2,dx,dy), float4x4(-0.067182987928391,-0.079348966479301,-0.106586128473282,0.165352359414101,-0.068584851920605,-0.050037465989590,0.005381281021982,-0.023301774635911,-0.037026535719633,0.095902800559998,-0.109577283263206,-0.010576535947621,0.091235913336277,0.086152799427509,0.061603829264641,0.032434679567814));
res += mul(Get(s3,-dx,-dy), float4x4(0.074944652616978,-0.028854949399829,-0.073102414608002,-0.031492073088884,-0.056356094777584,-0.007112844381481,0.101557977497578,-0.015647361055017,0.002340211765841,0.006829246412963,-0.141534373164177,-0.058096598833799,0.088281311094761,-0.046729888767004,0.079679943621159,-0.027689367532730));
res += mul(Get(s3,-dx,0), float4x4(0.090856857597828,0.026785209774971,0.029198378324509,0.039582885801792,0.132289767265320,-0.022497132420540,0.063971549272537,-0.075918860733509,0.048733774572611,-0.028287891298532,-0.061366047710180,-0.096364609897137,0.083511561155319,0.027870446443558,0.088199168443680,-0.020420474931598));
res += mul(Get(s3,-dx,dy), float4x4(0.145750537514687,-0.004217564594001,-0.061755895614624,0.079599492251873,0.077674567699432,0.085056915879250,0.000983604695648,-0.108320489525795,-0.017009837552905,0.006185811944306,0.069468252360821,-0.110610671341419,0.115414448082447,0.049712616950274,0.042838156223297,0.048291340470314));
res += mul(Get(s3,0,-dy), float4x4(-0.030804982408881,-0.042870406061411,-0.174762785434723,-0.097072429955006,0.133703380823135,-0.043753176927567,0.294182181358337,0.044589441269636,-0.090755149722099,-0.062315233051777,-0.073005452752113,-0.191541031002998,-0.015229834243655,0.050276011228561,0.095736585557461,0.050749644637108));
res += mul(Get(s3,0,0), float4x4(-0.118578635156155,-0.053535893559456,-0.077945180237293,-0.163926362991333,0.007581452839077,-0.110234037041664,-0.106618940830231,0.019656484946609,-0.034451074898243,-0.069204524159431,-0.111019723117352,0.042451333254576,0.021732939407229,0.182181119918823,0.280189365148544,0.026312682777643));
res += mul(Get(s3,0,dy), float4x4(-0.081931769847870,-0.044873517006636,0.041055958718061,0.107803374528885,0.019923808053136,-0.038853157311678,-0.048432461917400,-0.051842581480742,-0.016174744814634,0.013649100437760,-0.084352977573872,-0.059452127665281,0.123141579329967,0.199890822172165,0.028594875708222,0.117895595729351));
res += mul(Get(s3,dx,-dy), float4x4(-0.067779101431370,-0.024080269038677,-0.109808169305325,-0.124160401523113,0.029048243537545,0.221946984529495,0.029554907232523,0.067816674709320,-0.083282709121704,-0.047446895390749,0.067491240799427,-0.127681374549866,-0.031497158110142,0.032534696161747,-0.034923516213894,0.135894030332565));
res += mul(Get(s3,dx,0), float4x4(0.001275845104828,-0.011173394508660,0.099886432290077,-0.143457919359207,0.063624888658524,0.051709454506636,0.101175695657730,0.086935915052891,-0.112413927912712,-0.028859265148640,-0.096599698066711,0.052975136786699,-0.048144731670618,-0.017641851678491,0.101684309542179,0.164097428321838));
res += mul(Get(s3,dx,dy), float4x4(-0.118322387337685,0.062287241220474,0.067097306251526,0.096211202442646,0.044353138655424,0.105077147483826,0.060769647359848,0.016629545018077,-0.040278177708387,0.236615240573883,-0.084018200635910,0.017307020723820,-0.003880689386278,0.000090044406534,-0.062961138784885,-0.022413359954953));
return max(float4(0,0,0,0), res);
}
