sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.003143069334328,-0.142013296484947,0.028309542685747,-0.075600132346153,-0.034943185746670,0.052479248493910,-0.034584343433380,-0.139061272144318,-0.153490096330643,-0.119186550378799,-0.044761221855879,-0.018806548789144,0.209963753819466,-0.105562664568424,-0.105506137013435,0.009692199528217));
res += mul(Get(s0,-dx,0), float4x4(-0.098602488636971,-0.152708008885384,-0.045257989317179,0.130848184227943,-0.076686449348927,-0.040223933756351,-0.135053768754005,0.050562933087349,0.018864508718252,-0.073020599782467,0.162645906209946,0.048992514610291,-0.061244249343872,-0.040803253650665,-0.193848788738251,0.035496011376381));
res += mul(Get(s0,-dx,dy), float4x4(-0.044118817895651,-0.002877905266359,0.107756793498993,-0.183305189013481,0.092661403119564,-0.013713218271732,0.053732965141535,0.071873851120472,-0.092136241495609,-0.107526846230030,-0.031878184527159,0.018369846045971,-0.008923573419452,0.189831227064133,0.012726847082376,-0.187878608703613));
res += mul(Get(s0,0,-dy), float4x4(-0.022724367678165,0.050505977123976,-0.021197922527790,0.074926279485226,0.100868970155716,0.073126025497913,-0.150914132595062,-0.039367161691189,0.010516600683331,0.037285652011633,0.106296546757221,0.019679861143231,0.010269651189446,0.205113336443901,-0.070493400096893,0.101925529539585));
res += mul(Get(s0,0,0), float4x4(0.038096629083157,0.279487937688828,0.045544512569904,0.058041188865900,0.029263215139508,0.026549734175205,-0.029903590679169,0.160166501998901,-0.148205682635307,0.015268553048372,0.113501794636250,-0.082802504301071,-0.026937827467918,0.118438564240932,-0.056254141032696,0.047719594091177));
res += mul(Get(s0,0,dy), float4x4(-0.031825996935368,0.052102722227573,0.100819081068039,0.013388727791607,-0.095099292695522,-0.011766709387302,-0.140514835715294,-0.121143460273743,-0.192921683192253,0.028361188247800,-0.051277227699757,0.026008717715740,0.162898927927017,-0.021666286513209,0.031535480171442,-0.085436873137951));
res += mul(Get(s0,dx,-dy), float4x4(-0.012805134057999,-0.156361222267151,-0.040210764855146,-0.104555897414684,-0.156717926263809,-0.106552474200726,0.130951121449471,0.002947998233140,-0.080484062433243,0.032251358032227,0.009106042794883,0.196928456425667,-0.036429382860661,0.160506173968315,-0.105943188071251,-0.037032220512629));
res += mul(Get(s0,dx,0), float4x4(0.017548445612192,-0.019569003954530,-0.007114739622921,-0.020030174404383,0.047001130878925,-0.051673840731382,0.006774777546525,-0.022303434088826,-0.134634241461754,-0.084281869232655,-0.031408473849297,-0.087242230772972,0.113753139972687,0.078029423952103,0.139928951859474,-0.026047363877296));
res += mul(Get(s0,dx,dy), float4x4(-0.028616379946470,0.055910754948854,-0.010554234497249,-0.067154504358768,0.012766574509442,0.052752487361431,0.048938598483801,-0.006317497696728,0.148933842778206,-0.046190399676561,0.190525874495506,0.104139119386673,0.097659379243851,0.094196118414402,0.070504188537598,0.170693665742874));
res += mul(Get(s1,-dx,-dy), float4x4(0.206653431057930,0.034262970089912,0.148524269461632,-0.027154175564647,-0.074294283986092,-0.067050077021122,-0.119914591312408,0.100006401538849,-0.107250481843948,0.053404651582241,0.047930754721165,-0.042699057608843,0.133931845426559,0.078922726213932,-0.043779369443655,0.083180584013462));
res += mul(Get(s1,-dx,0), float4x4(-0.093450896441936,-0.138242527842522,-0.024813629686832,-0.008131146430969,-0.107070565223694,0.040629036724567,-0.142831996083260,-0.065534636378288,0.045913539826870,0.042890787124634,0.071488454937935,0.071282491087914,0.019631262868643,0.082855306565762,0.046887408941984,0.019946506246924));
res += mul(Get(s1,-dx,dy), float4x4(0.037128865718842,-0.007198609411716,0.079739347100258,0.091573327779770,0.325710177421570,-0.052779536694288,0.075295753777027,0.049202010035515,0.071364372968674,-0.039739862084389,-0.072349391877651,-0.020749913528562,-0.015278331935406,0.203969031572342,0.040450245141983,-0.215498268604279));
res += mul(Get(s1,0,-dy), float4x4(0.200687661767006,-0.075048767030239,-0.103252552449703,0.186837404966354,-0.024678101763129,-0.106233045458794,-0.007914645597339,0.119176954030991,-0.029533589258790,0.045539747923613,-0.027737466618419,0.022042814642191,0.003849839558825,-0.064072065055370,-0.058169189840555,0.175923019647598));
res += mul(Get(s1,0,0), float4x4(-0.073896735906601,-0.121688619256020,0.002730274340138,0.040963586419821,-0.183484464883804,-0.069351471960545,-0.110030673444271,-0.033123660832644,-0.044687360525131,-0.111998461186886,-0.095888607203960,-0.018844950944185,-0.141189932823181,0.046198401600122,0.057045135647058,-0.045365769416094));
res += mul(Get(s1,0,dy), float4x4(-0.133404433727264,-0.155683383345604,0.061094932258129,0.066417746245861,0.005977076943964,-0.110564775764942,-0.077328547835350,-0.285642564296722,0.073116675019264,-0.186155483126640,0.112674437463284,-0.037492055445910,-0.020588735118508,-0.000342955230735,-0.145352646708488,0.251806557178497));
res += mul(Get(s1,dx,-dy), float4x4(-0.078602254390717,0.079436548054218,-0.058778889477253,0.021049933508039,0.220466271042824,0.140272349119186,0.022324848920107,-0.014178317040205,0.271967500448227,-0.081460803747177,-0.134314715862274,-0.154266059398651,0.087932743132114,0.076086126267910,0.153409227728844,-0.077156707644463));
res += mul(Get(s1,dx,0), float4x4(-0.004512846469879,0.087792955338955,-0.013606606982648,0.091619342565536,-0.017714411020279,0.248169347643852,-0.008203059434891,0.031858369708061,0.049495514482260,0.042707312852144,0.122510477900505,0.039950579404831,0.039457987993956,0.060247007757425,0.124085515737534,-0.034028727561235));
res += mul(Get(s1,dx,dy), float4x4(-0.117489114403725,-0.146995559334755,0.118389829993248,0.130979940295219,0.010845460928977,-0.176312804222107,-0.072768688201904,-0.070015452802181,0.152077347040176,-0.063954040408134,-0.112642109394073,0.049715891480446,0.129600346088409,-0.081577308475971,0.012892592698336,-0.188307002186775));
res += mul(Get(s2,-dx,-dy), float4x4(-0.077947854995728,0.027035914361477,0.040214244276285,-0.035204045474529,-0.074663892388344,0.106769032776356,-0.059834364801645,0.063688345253468,0.200411021709442,0.093459650874138,0.021236917003989,-0.069676615297794,-0.050834815949202,0.103344298899174,0.097066633403301,0.094760298728943));
res += mul(Get(s2,-dx,0), float4x4(0.010835413821042,-0.194863229990005,0.097912184894085,0.154426008462906,-0.103782616555691,-0.032134696841240,-0.095811374485493,-0.016232402995229,0.002891377545893,-0.012918012216687,0.069791562855244,-0.075084701180458,0.058937620371580,0.126436561346054,0.080198451876640,-0.053904879838228));
res += mul(Get(s2,-dx,dy), float4x4(-0.007349130697548,-0.097083523869514,-0.032670758664608,-0.042967408895493,0.051837876439095,0.039809081703424,-0.003251835703850,0.117933057248592,-0.126938626170158,-0.030222363770008,-0.104123227298260,0.023865450173616,0.126356601715088,-0.086016274988651,0.163213655352592,0.200815975666046));
res += mul(Get(s2,0,-dy), float4x4(0.138938561081886,0.100166469812393,0.054923411458731,-0.039295054972172,0.092891484498978,0.005740083754063,0.027650313451886,-0.031415369361639,-0.102945744991302,0.002021067077294,0.147119775414467,-0.030545171350241,0.082879759371281,0.130048319697380,0.031993165612221,0.124157868325710));
res += mul(Get(s2,0,0), float4x4(0.007482546847314,-0.172954589128494,0.068465448915958,-0.136020272970200,-0.056261681020260,-0.016338258981705,0.080239862203598,-0.114340350031853,0.053864777088165,0.068204045295715,-0.075751103460789,0.032892920076847,0.038732860237360,0.017721787095070,0.091385059058666,0.168438017368317));
res += mul(Get(s2,0,dy), float4x4(0.074850685894489,0.147286087274551,0.037521652877331,-0.134794801473618,0.026025028899312,-0.053397107869387,0.003910135943443,-0.001778540550731,-0.007180763874203,-0.032031513750553,-0.082004182040691,0.056921530514956,0.102456338703632,-0.016571164131165,-0.103135287761688,-0.044942300766706));
res += mul(Get(s2,dx,-dy), float4x4(-0.055224105715752,-0.038322649896145,-0.143422067165375,-0.045049376785755,-0.052281968295574,0.268012821674347,-0.015592787414789,0.074371837079525,0.121471196413040,0.034543033689260,0.063618510961533,-0.068769678473473,0.184119120240211,-0.145114690065384,0.189192667603493,-0.148956149816513));
res += mul(Get(s2,dx,0), float4x4(-0.090489953756332,0.061543479561806,-0.034525357186794,0.046325366944075,-0.255782753229141,0.097587592899799,0.068078294396400,0.136042296886444,0.009393251501024,0.028206959366798,-0.000597438251134,0.007795556914061,0.141868308186531,-0.032992020249367,0.241971537470818,0.077840626239777));
res += mul(Get(s2,dx,dy), float4x4(0.015609033405781,-0.100618228316307,-0.199207529425621,-0.208262398838997,-0.143421173095703,-0.118062190711498,0.122752077877522,-0.211510181427002,-0.175916016101837,-0.063172899186611,-0.157947227358818,0.094084925949574,0.035625725984573,-0.005608248058707,-0.033698093146086,0.066057011485100));
res += mul(Get(s3,-dx,-dy), float4x4(-0.065371625125408,0.031232269480824,-0.112008303403854,-0.111401081085205,-0.075654029846191,0.056672975420952,-0.195581540465355,0.020048217847943,0.148567423224449,-0.139571860432625,-0.094012491405010,-0.083420813083649,-0.046192720532417,0.073812283575535,0.008545489981771,0.333247482776642));
res += mul(Get(s3,-dx,0), float4x4(0.021043403074145,-0.112386323511600,0.059121523052454,-0.186441048979759,0.110163696110249,-0.002395350718871,0.004906479734927,-0.076976507902145,0.135326206684113,0.093248993158340,-0.013565368019044,-0.076052933931351,-0.045104172080755,0.122440680861473,-0.140127614140511,0.181443586945534));
res += mul(Get(s3,-dx,dy), float4x4(-0.000684281578287,0.055533666163683,-0.131362944841385,0.002742662793025,-0.029206115752459,0.025780986994505,0.068857774138451,0.130142644047737,0.193431094288826,-0.035562995821238,0.043217949569225,0.252017289400101,0.062860958278179,-0.047203827649355,-0.152554467320442,-0.062774308025837));
res += mul(Get(s3,0,-dy), float4x4(0.087869189679623,0.158563688397408,0.013381962664425,0.092720642685890,0.213224574923515,0.120647437870502,-0.129512295126915,-0.156864047050476,0.054559983313084,0.104994244873524,0.025473374873400,-0.126831978559494,0.084859408438206,-0.024073036387563,0.043698951601982,0.145390197634697));
res += mul(Get(s3,0,0), float4x4(-0.009178097359836,0.017235675826669,-0.046990245580673,0.113908909261227,0.031873673200607,-0.053471237421036,-0.027437245473266,-0.040038987994194,-0.129693701863289,0.056717641651630,0.056201290339231,0.009759025648236,-0.016086855903268,0.022655263543129,0.017821658402681,0.147238999605179));
res += mul(Get(s3,0,dy), float4x4(0.125483959913254,-0.095722697675228,0.053062096238136,-0.034374289214611,0.196224763989449,-0.086510606110096,-0.009121457114816,-0.004849073477089,-0.096522070467472,-0.134420603513718,0.076042361557484,0.275456875562668,-0.114751294255257,0.019504128023982,0.056474450975657,-0.126205831766129));
res += mul(Get(s3,dx,-dy), float4x4(-0.054267883300781,-0.019124444574118,-0.197527751326561,-0.030726404860616,-0.275951176881790,0.101119227707386,-0.054736740887165,0.048590924590826,0.077934652566910,0.180521905422211,0.084732927381992,0.123417109251022,-0.121980033814907,0.134840279817581,0.058082118630409,0.114625416696072));
res += mul(Get(s3,dx,0), float4x4(0.002072556177154,0.033622901886702,-0.008468293584883,-0.029621005058289,0.012265870347619,0.149206146597862,0.139910206198692,-0.037221968173981,-0.095639929175377,0.196930095553398,-0.138997584581375,-0.045921981334686,0.019098918884993,0.204639524221420,-0.082329213619232,0.051795948296785));
res += mul(Get(s3,dx,dy), float4x4(-0.053468320518732,0.039923734962940,0.008523660711944,0.015888277441263,-0.048761028796434,0.050639573484659,0.011985249817371,-0.166740491986275,0.020567569881678,-0.217841729521751,-0.055632270872593,-0.091954372823238,-0.237330675125122,0.032291684299707,-0.031123949214816,0.098187237977982));
return max(float4(0,0,0,0), res);
}
