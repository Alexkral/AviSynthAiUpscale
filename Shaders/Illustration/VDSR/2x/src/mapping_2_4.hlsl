sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.058660458773375,-0.008976996876299,0.040051769465208,-0.059874478727579,-0.127721726894379,-0.106008045375347,-0.053687680512667,0.098970092833042,-0.040121335536242,-0.042435351759195,-0.029641374945641,-0.014655725099146,-0.071825832128525,0.001816433621570,0.009619508869946,0.040209967643023));
res += mul(Get(s0,-dx,0), float4x4(0.029715616255999,-0.041951257735491,-0.038444809615612,-0.068999923765659,-0.108036242425442,0.034395664930344,-0.089531444013119,-0.130277633666992,-0.050083994865417,0.115158990025520,-0.057623039931059,-0.063240535557270,0.007340561132878,-0.126812890172005,-0.025903670117259,-0.014209697954357));
res += mul(Get(s0,-dx,dy), float4x4(0.098388537764549,0.014611142687500,0.025972342118621,-0.105937451124191,-0.087778694927692,-0.067522451281548,0.147732809185982,-0.026867069303989,-0.060754504054785,-0.038070380687714,0.065378993749619,-0.019801400601864,-0.056633833795786,0.048465564846992,-0.040456853806973,0.052746843546629));
res += mul(Get(s0,0,-dy), float4x4(0.010020799934864,-0.023194424808025,0.067584849894047,-0.032932121306658,0.057624422013760,-0.040897455066442,-0.050317134708166,-0.128832504153252,0.068542435765266,-0.017468763515353,0.103575311601162,-0.011364500038326,-0.141229942440987,0.086372524499893,0.011801065877080,0.035349704325199));
res += mul(Get(s0,0,0), float4x4(0.069079868495464,-0.056932039558887,-0.101519301533699,-0.028493231162429,0.405762493610382,0.004435737617314,-0.063220933079720,0.095199264585972,0.204107061028481,0.049096643924713,-0.088931471109390,0.080225482583046,-0.088102824985981,-0.037490855902433,0.067186236381531,-0.129648819565773));
res += mul(Get(s0,0,dy), float4x4(0.015980331227183,0.003615276655182,-0.009261718951166,0.074240557849407,0.084642544388771,-0.117990002036095,0.029084451496601,0.136520966887474,-0.075364932417870,0.016678053885698,-0.038393046706915,0.124133497476578,0.022040698677301,0.007145368028432,-0.035571616142988,-0.005227721761912));
res += mul(Get(s0,dx,-dy), float4x4(-0.109245128929615,-0.142015039920807,-0.042589124292135,-0.062078669667244,-0.170156016945839,0.040001709014177,-0.008295528590679,-0.024046720936894,-0.072473682463169,-0.007271164562553,0.069660581648350,-0.028850711882114,0.139150366187096,-0.061947491019964,0.015770858153701,0.025508601218462));
res += mul(Get(s0,dx,0), float4x4(-0.107592806220055,-0.044136852025986,-0.031396426260471,-0.001003597746603,-0.039935298264027,-0.039438463747501,0.179988369345665,-0.077654868364334,0.029650669544935,-0.080195546150208,0.067786879837513,-0.101472288370132,0.071514882147312,0.009312051348388,0.042181927710772,0.090389475226402));
res += mul(Get(s0,dx,dy), float4x4(-0.073587693274021,-0.031292989850044,0.001570867840201,0.275148093700409,0.000384052778827,-0.018140710890293,0.000671267393045,-0.035831559449434,0.078373759984970,-0.042712315917015,-0.034490250051022,0.003754192497581,-0.049080684781075,0.022374168038368,-0.056554786860943,0.140773624181747));
res += mul(Get(s1,-dx,-dy), float4x4(-0.240329355001450,0.025837829336524,0.004613405559212,-0.080319777131081,-0.000001818294322,-0.000001217211320,-0.000000107069965,-0.000002057825668,0.051473610103130,-0.027896488085389,0.069759361445904,0.030772665515542,0.151637777686119,0.180459618568420,-0.273818045854568,-0.208963617682457));
res += mul(Get(s1,-dx,0), float4x4(-0.252868384122849,0.074242249131203,0.000781992333941,0.043951716274023,0.000001726277219,-0.000002001763733,-0.000001505762611,-0.000002704737653,-0.011208693496883,-0.026355393230915,0.011206485331059,0.051499530673027,-0.046631507575512,-0.226490423083305,0.098237365484238,0.173623755574226));
res += mul(Get(s1,-dx,dy), float4x4(-0.284173399209976,0.030166955664754,0.063417062163353,0.108505152165890,0.000000842641157,-0.000000459487694,0.000001292724164,-0.000001313959160,0.068572185933590,0.038421511650085,-0.000288885174086,0.050818599760532,-0.102339610457420,-0.054218407720327,-0.192872121930122,-0.050812978297472));
res += mul(Get(s1,0,-dy), float4x4(0.090942561626434,0.357478260993958,0.012829459272325,0.108581617474556,0.000000470890456,0.000002729726702,-0.000001845479119,-0.000000490944103,-0.018611256033182,0.056524455547333,0.042823143303394,0.038671813905239,-0.093911536037922,0.604043662548065,-0.150180503726006,0.094992414116859));
res += mul(Get(s1,0,0), float4x4(0.075083568692207,0.019412109628320,0.032662305980921,0.060095503926277,0.000000742040243,-0.000000420882401,-0.000002509275419,0.000000132963294,-0.086394526064396,-0.080238692462444,0.063272647559643,-0.027815271168947,-0.218428924679756,-0.399138569831848,0.080915682017803,-0.086781859397888));
res += mul(Get(s1,0,dy), float4x4(0.071811437606812,-0.279266625642776,0.124427296221256,0.031171126291156,0.000000227514164,0.000000217739085,-0.000001712372409,-0.000001237391871,0.011299955658615,-0.052378375083208,-0.004281541332603,-0.138156592845917,-0.059595733880997,-0.263566195964813,-0.073525674641132,-0.104576073586941));
res += mul(Get(s1,dx,-dy), float4x4(0.093664385378361,-0.018456296995282,0.012270687147975,-0.063794851303101,0.000000200277000,-0.000000662129878,0.000002497205287,-0.000000759097077,0.027902932837605,-0.007718400098383,0.023131927475333,0.043509330600500,0.272230029106140,-0.205876186490059,0.049841087311506,-0.138363212347031));
res += mul(Get(s1,dx,0), float4x4(0.082330524921417,-0.019432770088315,-0.024468345567584,0.042997498065233,0.000000023218224,-0.000002979930741,-0.000001691176067,0.000000608176720,-0.051675211638212,-0.031053442507982,-0.035394664853811,-0.004278681240976,0.063716612756252,0.190108627080917,-0.226413533091545,-0.065746851265430));
res += mul(Get(s1,dx,dy), float4x4(-0.002717018127441,-0.014546570368111,0.063661143183708,0.096586100757122,-0.000000325519807,0.000000102605568,-0.000002987915423,0.000001152213144,-0.004732691217214,0.088742420077324,0.085897251963615,-0.009514053352177,-0.034904923290014,0.103849649429321,0.174454674124718,0.272514015436172));
res += mul(Get(s2,-dx,-dy), float4x4(-0.009241160005331,-0.002819176530465,0.054182957857847,0.032903514802456,0.005135543644428,0.202952697873116,-0.033096868544817,0.019127195701003,-0.033818922936916,0.055720597505569,0.009114014916122,0.013116639107466,0.056719571352005,-0.084760136902332,-0.008789041079581,0.001573415705934));
res += mul(Get(s2,-dx,0), float4x4(-0.032711122184992,0.019919738173485,0.042869053781033,0.052871815860271,-0.151786565780640,0.037133403122425,0.074104912579060,-0.051855687052011,-0.123066127300262,0.111075162887573,0.005515976808965,-0.106493063271046,0.047565650194883,0.139358788728714,-0.022688612341881,0.004701233934611));
res += mul(Get(s2,-dx,dy), float4x4(0.000774949498009,0.025779560208321,0.028166206553578,-0.028184410184622,-0.032910250127316,0.048675511032343,0.041426043957472,0.027224166318774,-0.186533197760582,-0.028057985007763,0.016510145738721,-0.105474889278412,-0.047425851225853,0.083980619907379,0.067366302013397,0.057341970503330));
res += mul(Get(s2,0,-dy), float4x4(0.064620964229107,-0.065328054130077,0.016931228339672,-0.000641386897769,0.048957951366901,-0.165866360068321,-0.071708887815475,-0.036323640495539,0.087243959307671,-0.069853760302067,-0.019947772845626,0.067195154726505,-0.023496866226196,-0.018437812104821,0.021506633609533,-0.072764404118061));
res += mul(Get(s2,0,0), float4x4(-0.036116205155849,0.037321217358112,0.027407571673393,0.063366807997227,-0.024753183126450,0.291567295789719,0.016373883932829,0.138681456446648,0.064946413040161,0.003009619424120,-0.043924339115620,0.127197533845901,0.095514118671417,0.028102057054639,-0.022272715345025,-0.044559776782990));
res += mul(Get(s2,0,dy), float4x4(0.046867888420820,0.117707163095474,0.057682435959578,0.048563532531261,-0.066154323518276,-0.144336029887199,0.080095760524273,0.024301122874022,0.004768718034029,0.069701887667179,-0.035994004458189,0.123825438320637,-0.043247107416391,0.021661579608917,0.070256918668747,0.010140983387828));
res += mul(Get(s2,dx,-dy), float4x4(0.174407780170441,-0.056347310543060,0.089606374502182,0.029412876814604,0.029119979590178,-0.095422044396400,-0.056001566350460,-0.088450752198696,-0.046985007822514,0.011015428230166,0.039296813309193,-0.038950145244598,-0.063838489353657,0.014685872942209,-0.019784957170486,-0.084486640989780));
res += mul(Get(s2,dx,0), float4x4(0.128025665879250,0.031290441751480,-0.041956365108490,0.087138660252094,0.091952517628670,0.083984106779099,-0.003973555285484,0.264287710189819,0.057598892599344,0.006366724148393,0.027080068364739,0.050262667238712,0.055013850331306,0.032285422086716,-0.037496436387300,0.009016858413815));
res += mul(Get(s2,dx,dy), float4x4(0.088668324053288,-0.056949593126774,0.108734756708145,0.140127420425415,-0.060054361820221,-0.068418547511101,0.005493426695466,-0.085245706140995,0.038644336163998,-0.042346298694611,-0.000453908200143,0.039395358413458,-0.029583694413304,0.054244417697191,0.032297011464834,0.100699968636036));
res += mul(Get(s3,-dx,-dy), float4x4(0.027985917404294,-0.034758821129799,0.045700300484896,-0.074024185538292,-0.000000921403739,0.000000440068561,-0.000000132623853,-0.000003209698889,-0.067578494548798,-0.231136605143547,0.078245475888252,-0.026898926123977,0.033323880285025,0.050813786685467,-0.024852542206645,0.015600239858031));
res += mul(Get(s3,-dx,0), float4x4(-0.019589861854911,-0.087946616113186,0.011184509843588,-0.094652570784092,-0.000001398683480,-0.000001960625923,-0.000001883952336,-0.000000073776484,0.046188592910767,-0.090134143829346,0.119735114276409,0.136336401104927,-0.069737322628498,0.023304801434278,0.098318815231323,-0.013220240361989));
res += mul(Get(s3,-dx,dy), float4x4(-0.009528606198728,0.040532253682613,0.036053381860256,-0.040986109524965,0.000001391511205,-0.000001011095492,0.000000975110538,0.000000073235640,0.060649920254946,0.002446812577546,0.190583109855652,-0.072694078087807,-0.050753355026245,0.088178098201752,0.020943736657500,0.020538648590446));
res += mul(Get(s3,0,-dy), float4x4(0.044937252998352,-0.028663778677583,-0.039668209850788,-0.023799629881978,0.000001881988510,0.000000596771088,-0.000002295526656,-0.000001608084176,-0.014464824460447,-0.254622429609299,0.119589857757092,-0.027433045208454,-0.001871195156127,0.108190149068832,-0.056715533137321,-0.015999348834157));
res += mul(Get(s3,0,0), float4x4(0.030105719342828,-0.050023056566715,-0.029177170246840,0.112242989242077,0.000000234478250,-0.000000905206946,-0.000000562810101,0.000001567251957,0.027326177805662,-0.075972884893417,0.105925902724266,0.069283314049244,-0.115377381443977,0.151934623718262,0.037779159843922,-0.060376167297363));
res += mul(Get(s3,0,dy), float4x4(0.040523767471313,-0.005286672152579,0.023748302832246,0.075985819101334,-0.000001630726615,-0.000000729754561,-0.000002230224936,-0.000002966716238,0.063311792910099,0.195273235440254,0.146192133426666,-0.004986891988665,-0.012579769827425,-0.019264884293079,-0.044831812381744,-0.078010022640228));
res += mul(Get(s3,dx,-dy), float4x4(-0.040566790848970,0.036226887255907,0.028759753331542,0.025258693844080,-0.000002024412197,-0.000001677580713,0.000002529881613,-0.000001323579681,-0.008099627681077,-0.129229307174683,0.152669206261635,-0.038420110940933,0.119779527187347,-0.043670430779457,0.012865149416029,-0.054624844342470));
res += mul(Get(s3,dx,0), float4x4(-0.079479031264782,0.014563994482160,-0.021548248827457,-0.029516266658902,0.000000369050440,-0.000001834624300,0.000000596895404,-0.000001250070568,-0.046357706189156,-0.006837972905487,0.160187348723412,-0.046787645667791,0.005796699784696,-0.000238354390603,0.051016762852669,-0.014211839064956));
res += mul(Get(s3,dx,dy), float4x4(-0.130507841706276,-0.040378361940384,0.066146962344646,-0.034011758863926,-0.000000746330727,0.000000913173380,0.000001261859097,-0.000001584943902,0.011032097972929,0.084343887865543,0.125626131892204,0.034799423068762,0.081550814211369,0.010108949616551,-0.043001633137465,0.005062455311418));
return max(float4(0,0,0,0), res);
}
