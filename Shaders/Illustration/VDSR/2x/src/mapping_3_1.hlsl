sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.050318479537964,-0.057862237095833,-0.000788249017205,0.078978650271893,0.090183317661285,-0.078479759395123,-0.173997297883034,0.084378913044930,-0.033648665994406,0.028880048543215,-0.019243933260441,-0.222060635685921,-0.154444709420204,-0.036124616861343,-0.103830330073833,-0.089310631155968));
res += mul(Get(s0,-dx,0), float4x4(-0.186738222837448,0.079679273068905,-0.224305108189583,0.056375253945589,0.008764620870352,0.021564725786448,0.011285633780062,0.063129059970379,0.007710296660662,-0.053871683776379,-0.117267988622189,-0.155969783663750,-0.067818343639374,0.316915124654770,-0.190348356962204,-0.079908743500710));
res += mul(Get(s0,-dx,dy), float4x4(-0.036455642431974,-0.136280462145805,-0.091159060597420,0.053732145577669,-0.069679394364357,0.168167591094971,0.135228842496872,0.069573871791363,0.139187559485435,-0.102954246103764,-0.013040674850345,-0.104261010885239,0.176244065165520,-0.017860721796751,-0.140709877014160,-0.042783189564943));
res += mul(Get(s0,0,-dy), float4x4(0.321717232465744,0.200535804033279,0.041903153061867,-0.225562259554863,0.072219774127007,-0.040251262485981,-0.170443370938301,-0.025991121307015,-0.040653150528669,0.114461354911327,-0.057110600173473,0.046806938946247,-0.153929710388184,-0.027016492560506,0.025499273091555,0.065392866730690));
res += mul(Get(s0,0,0), float4x4(-0.008421962149441,0.024668356403708,-0.014934637583792,-0.042827855795622,-0.087597005069256,0.090269953012466,0.025677390396595,-0.038035746663809,-0.108885556459427,0.014025784097612,-0.068902648985386,-0.068269655108452,-0.061074137687683,0.073307611048222,-0.026999339461327,-0.041524924337864));
res += mul(Get(s0,0,dy), float4x4(-0.119195818901062,-0.157157599925995,-0.181670367717743,-0.218047067523003,0.153534710407257,-0.009471664205194,0.120358407497406,0.078915119171143,0.129226818680763,0.099319756031036,0.143833011388779,0.007035514339805,-0.037598881870508,0.118157118558884,0.083311721682549,0.083627574145794));
res += mul(Get(s0,dx,-dy), float4x4(0.190150648355484,-0.106125049293041,-0.074459575116634,-0.058994956314564,-0.165155902504921,0.289892971515656,0.025941414758563,0.073296241462231,-0.081492938101292,-0.044860217720270,-0.015508423559368,0.034667685627937,0.071381002664566,0.007072457578033,-0.044516354799271,0.000780730275437));
res += mul(Get(s0,dx,0), float4x4(0.126187667250633,0.109501346945763,-0.049451030790806,0.017272114753723,-0.141227468848228,0.112204998731613,0.042632408440113,-0.084739990532398,0.017475860193372,-0.109494633972645,0.057436510920525,-0.143403291702271,0.010441566817462,0.032691895961761,-0.134334981441498,0.013804019428790));
res += mul(Get(s0,dx,dy), float4x4(-0.078953802585602,0.208752304315567,-0.018869474530220,0.083837956190109,0.015745645388961,0.016349235549569,-0.055841121822596,-0.205996528267860,-0.102160632610321,-0.055944133549929,0.032825000584126,-0.083497069776058,-0.086642712354660,0.058385614305735,0.010255367495120,0.100426949560642));
res += mul(Get(s1,-dx,-dy), float4x4(-0.051515333354473,-0.111719712615013,0.103282243013382,0.174368560314178,-0.096622228622437,-0.118004836142063,0.034185964614153,0.149685069918633,-0.013675285503268,-0.047820817679167,0.080443412065506,-0.111292429268360,-0.005434166174382,0.061016701161861,-0.051291581243277,-0.087277345359325));
res += mul(Get(s1,-dx,0), float4x4(0.061201967298985,-0.043043967336416,0.017780175432563,0.134499788284302,0.015644218772650,0.038386706262827,-0.108714886009693,-0.060416232794523,-0.043933462351561,0.079850688576698,-0.095280259847641,-0.088900938630104,0.053413894027472,0.205922663211823,0.040130402892828,0.022248741239309));
res += mul(Get(s1,-dx,dy), float4x4(-0.221198022365570,0.046308744698763,-0.026494668796659,-0.144852638244629,0.180588677525520,-0.047739267349243,-0.038937550038099,0.269050180912018,-0.070816814899445,0.083864577114582,0.097018301486969,-0.073117367923260,0.103970073163509,-0.291425377130508,0.083024807274342,-0.026676211506128));
res += mul(Get(s1,0,-dy), float4x4(-0.067417263984680,0.012870376929641,-0.053836602717638,0.043523602187634,-0.060069318860769,0.023252375423908,-0.011322504840791,0.053446650505066,-0.127908721566200,0.040502041578293,-0.028575401753187,0.097310081124306,0.026120929047465,0.014939746819437,0.003714157734066,0.018078424036503));
res += mul(Get(s1,0,0), float4x4(0.127812266349792,0.125034034252167,0.112289935350418,-0.135258793830872,-0.101623088121414,-0.124416969716549,-0.067433647811413,0.080122523009777,-0.113734886050224,-0.083766579627991,-0.035012550652027,0.193850159645081,0.080569952726364,-0.015625044703484,-0.051196418702602,0.081490211188793));
res += mul(Get(s1,0,dy), float4x4(0.021249320358038,0.060442935675383,0.076316438615322,-0.197571292519569,0.060038734227419,-0.029076343402267,-0.064616449177265,-0.021132003515959,-0.022293725982308,-0.006330347619951,0.118828609585762,0.272539377212524,-0.036443691700697,-0.097247906029224,0.030486019328237,-0.086708799004555));
res += mul(Get(s1,dx,-dy), float4x4(-0.191082283854485,-0.029164804145694,-0.044618315994740,-0.140752136707306,-0.066829852759838,0.105221524834633,-0.021252939477563,-0.026620171964169,0.259807527065277,0.034968014806509,0.026233980432153,-0.139796152710915,0.119444020092487,-0.085203357040882,0.066436052322388,-0.023120155557990));
res += mul(Get(s1,dx,0), float4x4(0.042392749339342,-0.031447499990463,-0.140050530433655,-0.235518515110016,0.009603975340724,0.137951299548149,-0.055129628628492,-0.104557335376740,0.063315860927105,-0.022921968251467,-0.049319732934237,0.011095067486167,-0.024515245109797,0.103557124733925,-0.045959271490574,-0.172298088669777));
res += mul(Get(s1,dx,dy), float4x4(0.058926984667778,-0.062910817563534,-0.100807443261147,-0.123265616595745,0.079101726412773,-0.098868705332279,-0.135515481233597,0.004718571435660,-0.016426622867584,0.118894748389721,-0.095209635794163,-0.081241190433502,-0.152949050068855,0.010442387312651,0.140733435750008,-0.044667914509773));
res += mul(Get(s2,-dx,-dy), float4x4(-0.115078277885914,0.132765397429466,-0.048698056489229,0.172968655824661,-0.116624653339386,0.013402488082647,0.034231800585985,-0.080999277532101,0.125954002141953,0.201518505811691,-0.131908014416695,0.087024390697479,0.060007963329554,-0.023647908121347,0.072901017963886,-0.101139321923256));
res += mul(Get(s2,-dx,0), float4x4(0.095190823078156,0.119362704455853,0.077274478971958,-0.084160692989826,-0.093025065958500,-0.100633107125759,-0.095620654523373,-0.046936184167862,-0.016385586932302,0.039940975606441,-0.015276029706001,-0.037457183003426,0.286780744791031,0.064769804477692,-0.014821579679847,0.045497700572014));
res += mul(Get(s2,-dx,dy), float4x4(0.020554872229695,-0.111129783093929,0.079151630401611,0.115800581872463,0.070583723485470,-0.001844862126745,-0.147449120879173,-0.046468656510115,0.006275311578065,0.053884234279394,0.010136947967112,0.097891189157963,-0.054543934762478,-0.052193351089954,-0.189167857170105,0.046557221561670));
res += mul(Get(s2,0,-dy), float4x4(0.187598362565041,-0.013719088397920,-0.000088205095381,-0.145895674824715,0.119645603001118,0.024523830041289,-0.265459507703781,-0.066072471439838,-0.147886171936989,-0.008051494136453,0.067349530756474,0.014026888646185,0.101837165653706,-0.120315797626972,0.033238697797060,-0.034125749021769));
res += mul(Get(s2,0,0), float4x4(0.161838024854660,-0.153998285531998,-0.022190535441041,0.017025861889124,-0.019536195322871,0.015483444556594,0.046702928841114,0.138565897941589,0.041806455701590,-0.021876299753785,0.011093223467469,-0.054837428033352,-0.026129521429539,-0.156424358487129,-0.102282457053661,0.085991717875004));
res += mul(Get(s2,0,dy), float4x4(0.043963823467493,0.049436293542385,0.063640110194683,-0.056788172572851,0.161910474300385,0.073200508952141,0.098558269441128,0.000717163668014,-0.008480140008032,0.046531680971384,-0.078604221343994,-0.074730530381203,-0.061251875013113,-0.035944409668446,0.127194032073021,-0.031930454075336));
res += mul(Get(s2,dx,-dy), float4x4(0.127101838588715,-0.070999458432198,-0.187060832977295,-0.054243888705969,-0.101493090391159,-0.018001733347774,-0.042353093624115,-0.067217133939266,0.074709780514240,-0.031617209315300,-0.153299331665039,0.011376784183085,-0.091130807995796,0.164381399750710,0.003699811873958,-0.009037587791681));
res += mul(Get(s2,dx,0), float4x4(0.042082045227289,0.007582999765873,-0.007716032676399,-0.192763060331345,0.056053366512060,-0.019671862944961,0.236697152256966,-0.086372859776020,0.057716440409422,-0.141901075839996,-0.059633795171976,-0.013703083619475,0.082537047564983,0.013117696158588,0.016766976565123,0.124684400856495));
res += mul(Get(s2,dx,dy), float4x4(0.089946113526821,0.075575001537800,-0.013354082591832,-0.132861241698265,0.014391165226698,0.027710041031241,-0.079282723367214,-0.007743855472654,-0.085159376263618,0.040260061621666,-0.137936457991600,-0.089943677186966,0.039458923041821,-0.023272300139070,-0.085419155657291,-0.054527338594198));
res += mul(Get(s3,-dx,-dy), float4x4(0.110899768769741,-0.061601772904396,0.043695706874132,-0.237827435135841,-0.077673077583313,0.098439320921898,0.053492225706577,0.088386654853821,-0.113780379295349,0.079684399068356,0.029672695323825,-0.007413613609970,-0.033738743513823,0.177440822124481,0.020348412916064,0.179630786180496));
res += mul(Get(s3,-dx,0), float4x4(0.000997307244688,-0.014382572844625,-0.000776542234235,-0.154194697737694,-0.073598727583885,-0.102328799664974,-0.062810868024826,0.104977689683437,0.026270611211658,-0.049882534891367,0.140101462602615,-0.055198319256306,0.065158665180206,-0.071898974478245,-0.045617684721947,0.100939519703388));
res += mul(Get(s3,-dx,dy), float4x4(-0.129352480173111,0.368888020515442,0.006072519812733,0.003867906285450,-0.000737074762583,-0.005239394493401,0.010215182788670,0.177168741822243,0.229745775461197,-0.001637058914639,-0.244221001863480,0.010123555548489,0.027701316401362,0.107490077614784,-0.052185218781233,0.129200637340546));
res += mul(Get(s3,0,-dy), float4x4(-0.090162575244904,-0.127621755003929,-0.040166635066271,-0.040642809122801,0.031352479010820,0.044798903167248,-0.070376850664616,0.076209627091885,0.078279644250870,-0.065828427672386,-0.169700682163239,0.057054553180933,-0.022856116294861,-0.007666601799428,-0.021478105336428,0.026867566630244));
res += mul(Get(s3,0,0), float4x4(-0.078166827559471,-0.127582103013992,0.062937982380390,0.288950771093369,0.065888211131096,0.125115916132927,0.106255039572716,-0.334927976131439,0.005539639852941,0.025821205228567,0.122805871069431,0.108271673321724,0.188048854470253,-0.160900309681892,0.086885653436184,-0.087560690939426));
res += mul(Get(s3,0,dy), float4x4(0.040157239884138,-0.006701269652694,-0.254504054784775,-0.116030015051365,0.143694967031479,0.009622100740671,0.037303216755390,-0.087283939123154,-0.104307979345322,0.038929644972086,0.185316145420074,-0.086416184902191,0.056409589946270,0.362510889768600,-0.020257078111172,0.093523278832436));
res += mul(Get(s3,dx,-dy), float4x4(-0.125993162393570,0.197490394115448,-0.003529025474563,-0.032870117574930,0.213597312569618,0.032071091234684,0.127915635704994,0.012758792378008,-0.119847834110260,0.183482542634010,-0.024669582024217,-0.052366293966770,-0.115190722048283,0.079856552183628,0.208393305540085,0.158912688493729));
res += mul(Get(s3,dx,0), float4x4(-0.198854684829712,0.020845223218203,0.095100164413452,0.031146472319961,0.080350466072559,-0.174226611852646,-0.015085746534169,-0.082940682768822,-0.066759184002876,0.179104030132294,0.128621980547905,-0.077932253479958,0.031696591526270,-0.104272454977036,-0.024864161387086,0.020110527053475));
res += mul(Get(s3,dx,dy), float4x4(0.093555904924870,-0.036871306598186,-0.031023088842630,-0.131460234522820,-0.012483025901020,-0.236710995435715,-0.017854036763310,0.017796453088522,-0.383187204599380,0.094845220446587,0.214029699563980,0.084905840456486,0.034549687057734,0.012619922868907,-0.076723814010620,0.078060552477837));
return max(float4(0,0,0,0), res);
}
