sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.051034830510616,0.074530579149723,-0.072938442230225,-0.007583088707179,0.074012257158756,-0.162192299962044,-0.030468445271254,-0.102669708430767,0.124849714338779,-0.085511200129986,-0.019732555374503,-0.146411210298538,0.200760781764984,-0.085134401917458,-0.107184983789921,0.075936883687973));
res += mul(Get(s0,-dx,0), float4x4(0.001682384405285,0.030515197664499,-0.085281997919083,-0.008929370902479,-0.023520283401012,-0.124091528356075,0.064587041735649,-0.103874988853931,0.029265563935041,-0.067628219723701,0.054571878165007,0.081149682402611,0.025884790346026,-0.032634142786264,-0.005254804156721,0.041861306875944));
res += mul(Get(s0,-dx,dy), float4x4(0.053882896900177,-0.034179456532001,-0.088267423212528,-0.074896343052387,-0.136552304029465,-0.060804277658463,0.130492597818375,-0.102447122335434,0.040658351033926,-0.018732994794846,0.057749189436436,0.114386320114136,0.055341698229313,0.126240581274033,-0.079981483519077,-0.008762788027525));
res += mul(Get(s0,0,-dy), float4x4(0.043483551591635,0.087464332580566,-0.115842513740063,-0.012557568959892,-0.038929581642151,-0.120139472186565,-0.141522750258446,-0.100440092384815,0.064335703849792,-0.011126790195704,0.013786342926323,-0.157863989472389,0.161771491169930,0.032087203115225,-0.007744404487312,0.008152995258570));
res += mul(Get(s0,0,0), float4x4(-0.176105245947838,-0.061739303171635,-0.070516943931580,-0.130795016884804,-0.013512132689357,-0.140079379081726,0.114076115190983,-0.035281509160995,0.026554787531495,0.125771746039391,0.047756958752871,0.020064769312739,0.002826603129506,0.030164008960128,0.021546600386500,0.015616991557181));
res += mul(Get(s0,0,dy), float4x4(-0.171782284975052,-0.079902090132236,-0.023617826402187,-0.122095309197903,-0.056749321520329,-0.064244955778122,0.229152321815491,0.007803230546415,0.095104560256004,0.055127903819084,-0.011930847540498,0.175506681203842,-0.068817168474197,0.133037239313126,-0.020507754758000,0.113432131707668));
res += mul(Get(s0,dx,-dy), float4x4(0.023660963401198,-0.047304186969995,-0.102109000086784,0.064020529389381,-0.096766583621502,-0.091175615787506,0.052233684808016,-0.082471713423729,0.040134225040674,-0.105599291622639,-0.136997416615486,0.056673076003790,-0.014034743420780,-0.050766263157129,0.029226912185550,-0.137466728687286));
res += mul(Get(s0,dx,0), float4x4(-0.044967364519835,-0.093417987227440,-0.025697337463498,0.080190636217594,-0.035949386656284,0.014826350845397,-0.068892404437065,-0.091775692999363,-0.053358595818281,-0.023847158998251,0.063947618007660,-0.005861474201083,-0.072237759828568,-0.020125474780798,0.115020610392094,-0.010346663184464));
res += mul(Get(s0,dx,dy), float4x4(-0.095167338848114,-0.033152490854263,-0.087687775492668,0.025912946090102,-0.069393925368786,-0.037503108382225,-0.045484114438295,0.058795206248760,0.001162142725661,-0.095708072185516,-0.137346923351288,-0.032299436628819,-0.024147113785148,0.093041419982910,0.074356757104397,0.180035308003426));
res += mul(Get(s1,-dx,-dy), float4x4(-0.000992407789454,0.017495535314083,0.063387684524059,-0.077928371727467,-0.032430712133646,0.011083329096437,-0.071210622787476,0.005662593990564,-0.004344113636762,-0.066518805921078,0.087439909577370,0.025942141190171,-0.144425272941589,0.199138507246971,-0.005602982360870,-0.017302403226495));
res += mul(Get(s1,-dx,0), float4x4(0.157393336296082,0.019800286740065,0.106536805629730,-0.070406064391136,-0.042239647358656,0.117082931101322,-0.025137495249510,-0.058156840503216,0.034793049097061,0.068269327282906,-0.021289588883519,-0.088184364140034,0.188849732279778,0.045784462243319,-0.137735217809677,-0.028232241049409));
res += mul(Get(s1,-dx,dy), float4x4(0.147200226783752,-0.054598141461611,-0.006726679857820,0.019414819777012,-0.005279744043946,-0.062617793679237,0.039651416242123,0.125079810619354,-0.019422750920057,-0.091662831604481,0.035072326660156,-0.067854598164558,0.265804857015610,0.082811273634434,-0.106353245675564,0.005098320543766));
res += mul(Get(s1,0,-dy), float4x4(0.028082029893994,0.054979048669338,-0.090573385357857,-0.027794022113085,-0.089107796549797,-0.039580520242453,-0.029475700110197,-0.146897718310356,0.083283953368664,0.031945064663887,0.031568467617035,-0.011327520012856,-0.029861740767956,0.000480789429275,-0.108880892395973,-0.067824624478817));
res += mul(Get(s1,0,0), float4x4(-0.061375342309475,0.034677959978580,0.036296855658293,-0.008441473357379,-0.103818632662296,0.263420015573502,0.006966640707105,-0.183210670948029,0.011015163734555,0.019625566899776,0.000263940368313,-0.078664056956768,0.161786705255508,-0.008251370862126,-0.074514269828796,0.177460089325905));
res += mul(Get(s1,0,dy), float4x4(0.012497333809733,0.014575324021280,-0.023330530151725,0.111376009881496,-0.074984624981880,0.119209714233875,-0.045085314661264,0.045569710433483,-0.025941396132112,-0.020525572821498,0.283167034387589,-0.009917131625116,0.085601121187210,-0.011721588671207,-0.107012547552586,0.138638585805893));
res += mul(Get(s1,dx,-dy), float4x4(0.088955789804459,0.086772337555885,-0.063439868390560,0.168498888611794,-0.113293774425983,-0.050547122955322,0.020344102755189,-0.035313330590725,0.144606664776802,-0.032468672841787,0.066740810871124,-0.038523524999619,-0.015674760565162,-0.009183288551867,-0.013216017745435,-0.025757502764463));
res += mul(Get(s1,dx,0), float4x4(-0.018773548305035,0.066448971629143,0.064618214964867,0.113160468637943,-0.057451747357845,0.125104308128357,0.116484262049198,0.121164985001087,-0.049682546406984,-0.057730149477720,0.059366568922997,-0.113992981612682,-0.029022721573710,0.077258497476578,0.045261524617672,0.089063562452793));
res += mul(Get(s1,dx,dy), float4x4(0.061437018215656,-0.029469210654497,0.001309844199568,0.052812054753304,-0.060241296887398,0.002853334182873,-0.038323998451233,0.176519021391869,0.041439797729254,-0.099570684134960,-0.024339213967323,0.099330902099609,-0.040728453546762,0.113362476229668,0.012092152610421,-0.030283652245998));
res += mul(Get(s2,-dx,-dy), float4x4(-0.003617540467530,-0.003907097037882,-0.034450806677341,0.017045801505446,0.144942283630371,-0.185688957571983,0.196112409234047,0.083881556987762,0.006454540882260,0.223438024520874,-0.017145972698927,-0.116839699447155,-0.011039999313653,0.039106387645006,0.038466051220894,-0.103486515581608));
res += mul(Get(s2,-dx,0), float4x4(0.061719752848148,0.024957610294223,0.025113135576248,0.065565422177315,0.114777803421021,-0.137882888317108,0.047309461981058,-0.019854024052620,-0.048314150422812,0.052616778761148,0.034988205879927,0.047887872904539,-0.097222015261650,-0.070090696215630,0.224329382181168,-0.039015401154757));
res += mul(Get(s2,-dx,dy), float4x4(0.087325662374496,0.026745453476906,-0.069423913955688,0.119694530963898,0.057506527751684,-0.003482118016109,0.190666675567627,0.097744874656200,-0.001869447762147,0.117665998637676,-0.033106658607721,-0.036032922565937,-0.116575114428997,0.205530241131783,0.002012092154473,-0.051367562264204));
res += mul(Get(s2,0,-dy), float4x4(0.013057375326753,-0.024427564814687,-0.069070883095264,0.165066048502922,0.008040531538427,-0.119064442813396,0.263645082712173,-0.070661298930645,0.087682656943798,0.001591049134731,0.025235407054424,-0.117793299257755,0.084681048989296,0.024045336991549,0.025368213653564,0.115295298397541));
res += mul(Get(s2,0,0), float4x4(0.026987200602889,-0.038081325590611,-0.016194041818380,0.099434114992619,0.115576468408108,-0.094632029533386,0.056962393224239,-0.077863670885563,-0.068457275629044,-0.115903653204441,-0.024014605209231,-0.002392638707533,-0.069079555571079,-0.066848233342171,-0.004525361582637,0.053821049630642));
res += mul(Get(s2,0,dy), float4x4(-0.005654549691826,0.067985065281391,-0.114080242812634,0.162271544337273,-0.048250481486320,-0.036843534559011,0.100788243114948,0.063090652227402,-0.072180353105068,-0.118665248155594,-0.152249649167061,-0.045061066746712,-0.092521920800209,0.039479669183493,-0.008910188451409,0.098770976066589));
res += mul(Get(s2,dx,-dy), float4x4(0.065402932465076,-0.003005934879184,0.020327907055616,0.203603953123093,0.021638747304678,-0.135890305042267,0.061322316527367,0.110757336020470,0.009618367999792,0.223290354013443,-0.073808565735817,-0.022867811843753,-0.043323069810867,0.224193438887596,0.012904352508485,-0.003671693382785));
res += mul(Get(s2,dx,0), float4x4(-0.005931495223194,0.147226437926292,-0.044064790010452,-0.046733263880014,0.067121811211109,-0.148000553250313,-0.073890723288059,0.102146804332733,0.037568572908640,-0.117323465645313,0.077209100127220,-0.018267827108502,-0.135440796613693,0.110287927091122,0.039472494274378,-0.001118817366660));
res += mul(Get(s2,dx,dy), float4x4(-0.087646603584290,0.056733973324299,-0.026122577488422,0.165431737899780,0.072061039507389,-0.137314096093178,0.077330335974693,0.162723034620285,0.161144182085991,-0.095717318356037,-0.111394450068474,-0.027196027338505,-0.270773589611053,0.055112320929766,-0.060355547815561,0.143545359373093));
res += mul(Get(s3,-dx,-dy), float4x4(-0.062929868698120,0.052304845303297,0.031888395547867,-0.134978309273720,-0.071699865162373,0.113041326403618,-0.040821421891451,-0.120052970945835,0.076133951544762,-0.143654271960258,-0.120673090219498,-0.034473154693842,0.005714401137084,-0.018338853493333,0.241831257939339,-0.001884421566501));
res += mul(Get(s3,-dx,0), float4x4(0.072003968060017,-0.104723766446114,-0.010040390305221,0.030407141894102,-0.101374372839928,-0.023800279945135,-0.087438315153122,-0.047640588134527,0.056670211255550,-0.032814703881741,0.004238284192979,-0.052630484104156,0.060356847941875,0.003494264325127,0.092946574091911,-0.068745411932468));
res += mul(Get(s3,-dx,dy), float4x4(-0.108475044369698,0.019142650067806,0.016334829851985,0.045592989772558,-0.091651707887650,0.089461535215378,-0.068087801337242,-0.052790638059378,-0.021343810483813,-0.130355983972549,-0.010320528410375,0.126935034990311,-0.039846766740084,-0.114079415798187,0.226928040385246,0.012567563913763));
res += mul(Get(s3,0,-dy), float4x4(0.018971920013428,0.210327729582787,-0.075638748705387,-0.111252374947071,0.001116683939472,0.122575514018536,-0.029035665094852,-0.105824097990990,0.000167613994563,-0.130541101098061,-0.034848053008318,-0.075936377048492,0.026240797713399,0.090927824378014,0.039322517812252,-0.108591727912426));
res += mul(Get(s3,0,0), float4x4(-0.006697773002088,-0.039925783872604,-0.056453909724951,0.008623109199107,0.109984301030636,-0.062892511487007,-0.096043348312378,-0.077689006924629,0.137189507484436,0.099568553268909,-0.080338679254055,-0.089236445724964,0.080374725162983,0.077001623809338,-0.044465698301792,-0.099226176738739));
res += mul(Get(s3,0,dy), float4x4(-0.151176571846008,0.050660308450460,-0.107595995068550,0.034064020961523,0.058324940502644,-0.131049826741219,-0.065157927572727,-0.053900942206383,0.067904300987720,-0.075296856462955,-0.066226482391357,0.097937852144241,-0.014272294938564,0.001334926695563,0.079360499978065,-0.022242171689868));
res += mul(Get(s3,dx,-dy), float4x4(0.118922635912895,0.171957537531853,-0.045307420194149,-0.114864513278008,-0.088716246187687,0.017279818654060,-0.042549237608910,-0.037120439112186,-0.003403343493119,-0.060453381389380,-0.056891787797213,-0.017504710704088,-0.009757923893631,-0.048843316733837,0.178831323981285,-0.013639988377690));
res += mul(Get(s3,dx,0), float4x4(0.115581534802914,-0.098793327808380,-0.081050790846348,0.098990343511105,0.166277050971985,-0.046889610588551,-0.109584413468838,0.060364045202732,0.145705133676529,0.008064708672464,-0.014895857311785,-0.058841329067945,0.014789592474699,-0.101077429950237,0.205153271555901,0.017713857814670));
res += mul(Get(s3,dx,dy), float4x4(-0.112550720572472,-0.047003462910652,0.060400705784559,0.241288304328918,0.085763774812222,-0.086534984409809,-0.065211169421673,0.132483348250389,-0.105549097061157,-0.080622516572475,-0.067002192139626,-0.004041150677949,-0.097126312553883,-0.092210434377193,0.265829205513000,0.153922140598297));
return max(float4(0,0,0,0), res);
}
