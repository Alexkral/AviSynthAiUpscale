sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.056034330278635,-0.030366994440556,-0.034314382821321,0.069766394793987,0.026856284588575,-0.008073376491666,-0.020147632807493,-0.115195885300636,-0.010620491579175,-0.039203997701406,0.035983696579933,0.076397918164730,-0.005924682598561,0.226411342620850,0.065153159201145,-0.078876532614231));
res += mul(Get(s0,-dx,0), float4x4(-0.004730201791972,-0.028822544962168,0.040091574192047,-0.057789582759142,0.045595131814480,-0.015611670911312,0.057903520762920,-0.087787613272667,0.051968000829220,0.047064434736967,0.106399454176426,0.091889582574368,0.059348396956921,0.071198262274265,0.059625446796417,-0.084197297692299));
res += mul(Get(s0,-dx,dy), float4x4(-0.094752401113510,0.049912486225367,-0.042143005877733,-0.028539367020130,-0.032979443669319,-0.084503874182701,0.060187648981810,0.001823514350690,0.054904874414206,0.043106466531754,0.030111813917756,0.075719602406025,0.033990949392319,0.108225502073765,0.031557817012072,-0.095665752887726));
res += mul(Get(s0,0,-dy), float4x4(-0.004027912858874,-0.131165668368340,-0.055399611592293,-0.115681640803814,-0.000430211570347,-0.079774960875511,0.024800386279821,0.038384653627872,-0.041997388005257,-0.095498777925968,-0.021126670762897,-0.080075100064278,0.020842321217060,-0.046548061072826,-0.026628194376826,-0.122104912996292));
res += mul(Get(s0,0,0), float4x4(0.027905972674489,-0.136454001069069,0.007708590943366,-0.112195901572704,-0.036345262080431,-0.040511224418879,0.090928874909878,0.086421310901642,-0.057728566229343,-0.045453242957592,0.029484778642654,0.040536750108004,0.038382988423109,-0.037472687661648,0.112635485827923,-0.045921240001917));
res += mul(Get(s0,0,dy), float4x4(0.033863347023726,0.019325915724039,0.092159233987331,-0.003506383858621,0.001585415331647,-0.044934734702110,-0.069757774472237,-0.005498024169356,-0.076456755399704,-0.026908895000815,0.074617512524128,0.060576561838388,0.012409626506269,0.023626400157809,0.055565841495991,-0.053340647369623));
res += mul(Get(s0,dx,-dy), float4x4(-0.083162367343903,0.045801751315594,0.000095631578006,0.016053792089224,-0.069028221070766,-0.146144121885300,0.108270213007927,-0.135417193174362,-0.142684951424599,-0.024204069748521,-0.130866110324860,0.084965199232101,-0.002163554308936,-0.064808480441570,0.065295778214931,-0.141545563936234));
res += mul(Get(s0,dx,0), float4x4(0.138144344091415,-0.025257777422667,-0.188391506671906,-0.070382572710514,-0.113379620015621,-0.137310683727264,0.065771594643593,-0.050510954111814,-0.066194497048855,0.042817700654268,-0.086484655737877,-0.044080007821321,0.099255323410034,0.013681464828551,0.205436140298843,-0.026312749832869));
res += mul(Get(s0,dx,dy), float4x4(0.147295981645584,-0.024904537945986,-0.083061799407005,0.027824886143208,-0.103676714003086,-0.037853758782148,-0.102000355720520,0.043361987918615,0.010417162440717,0.034115061163902,0.017956776544452,-0.001491893664934,0.064573168754578,0.039255172014236,0.142744392156601,-0.013811565935612));
res += mul(Get(s1,-dx,-dy), float4x4(0.078734986484051,0.046150021255016,0.020629722625017,-0.096248701214790,-0.132103055715561,0.003927815705538,0.092562191188335,-0.041406426578760,-0.011008962988853,0.058635745197535,0.013008219189942,-0.073640257120132,-0.081540435552597,0.037423547357321,-0.026991169899702,0.085324935615063));
res += mul(Get(s1,-dx,0), float4x4(-0.017131665721536,0.068813771009445,-0.056874290108681,-0.028755027800798,-0.024037167429924,0.055054776370525,-0.056983530521393,-0.041250325739384,0.036984037607908,0.069986045360565,0.017039000988007,-0.097024150192738,-0.136084616184235,-0.027404999360442,-0.042317405343056,0.046204473823309));
res += mul(Get(s1,-dx,dy), float4x4(-0.034748081117868,0.035665914416313,-0.025326330214739,-0.070882700383663,-0.061821211129427,0.103264182806015,0.034848637878895,-0.030423603951931,-0.163172721862793,-0.019561020657420,0.048355668783188,-0.024264961481094,-0.100327320396900,0.008000263012946,-0.074468113481998,0.010294935666025));
res += mul(Get(s1,0,-dy), float4x4(0.098316170275211,0.010176393203437,0.132820397615433,-0.008577985689044,0.067245863378048,0.028502121567726,0.071195162832737,-0.137020319700241,-0.077321805059910,-0.021264858543873,0.157505080103874,-0.131464257836342,-0.029935743659735,-0.063237331807613,-0.045662052929401,-0.028720948845148));
res += mul(Get(s1,0,0), float4x4(-0.109233379364014,-0.029007494449615,0.072091914713383,-0.056283883750439,0.033081423491240,0.065609373152256,-0.098622947931290,-0.160976856946945,-0.124441333115101,-0.033896356821060,-0.095976501703262,0.087673522531986,-0.054717008024454,-0.068461544811726,-0.124472312629223,-0.020555056631565));
res += mul(Get(s1,0,dy), float4x4(0.211554899811745,-0.062204703688622,0.068139806389809,-0.078871175646782,0.022856943309307,0.044859007000923,0.040444448590279,-0.082307495176792,-0.032419942319393,-0.049343489110470,0.074789233505726,0.005205689463764,-0.140957906842232,-0.002316900761798,-0.002412923844531,0.148962870240211));
res += mul(Get(s1,dx,-dy), float4x4(0.099254406988621,-0.032375168055296,0.023474870249629,-0.065826945006847,0.132377326488495,-0.014511380344629,-0.013506695628166,-0.062302410602570,0.032628156244755,0.512685418128967,-0.029785241931677,0.015113255009055,0.018391635268927,-0.071023866534233,0.089619047939777,-0.057943485677242));
res += mul(Get(s1,dx,0), float4x4(0.058366283774376,-0.073863692581654,0.046841762959957,-0.190735325217247,0.042697172611952,0.092116765677929,-0.144174054265022,0.066483616828918,-0.093969985842705,-0.105734206736088,-0.186576023697853,0.192767918109894,-0.016819797456264,-0.062560692429543,-0.011278745718300,-0.039755344390869));
res += mul(Get(s1,dx,dy), float4x4(0.198528096079826,-0.087826341390610,-0.056486565619707,-0.109096437692642,0.014458444900811,0.020530322566628,-0.024832000955939,0.079387195408344,-0.013464020565152,-0.011809045448899,-0.048990592360497,-0.028644384816289,-0.081258550286293,-0.016456471756101,0.031030714511871,-0.081648170948029));
res += mul(Get(s2,-dx,-dy), float4x4(-0.017528265714645,-0.023830158635974,-0.054194100201130,-0.104071892797947,0.002412974368781,-0.070677660405636,0.032467346638441,-0.002385506639257,-0.020896578207612,0.016573904082179,0.049782540649176,-0.014351321384311,0.034172069281340,-0.067536927759647,0.070034369826317,0.006029455922544));
res += mul(Get(s2,-dx,0), float4x4(0.006777600850910,-0.060816466808319,0.099700093269348,-0.015421724878252,0.057531502097845,-0.084903679788113,-0.072932384908199,-0.172008812427521,0.022824432700872,0.055133100599051,0.141247689723969,0.021074829623103,0.088451810181141,-0.007593154907227,0.030111415311694,-0.038006909191608));
res += mul(Get(s2,-dx,dy), float4x4(0.022318720817566,0.044506829231977,-0.019766973331571,0.004946850705892,0.134468168020248,-0.007691870443523,-0.168221563100815,-0.116079978644848,0.022249307483435,0.049436111003160,0.019406218081713,0.001195702236146,-0.014018896967173,0.016465716063976,-0.063958160579205,-0.027163427323103));
res += mul(Get(s2,0,-dy), float4x4(-0.116816602647305,-0.019707856699824,0.049303032457829,0.063092559576035,-0.081272281706333,-0.080719046294689,-0.122884243726730,0.026794824749231,-0.009280181489885,0.004510847385973,-0.029127476736903,-0.027274081483483,0.012863055802882,0.014018311165273,0.022014748305082,-0.090272925794125));
res += mul(Get(s2,0,0), float4x4(0.166398867964745,0.009338180534542,-0.050774276256561,-0.048718202859163,0.066506408154964,-0.017724348232150,-0.139536201953888,-0.002132729161531,0.035893820226192,-0.048674695193768,0.051164496690035,-0.044663894921541,0.217223197221756,0.045815311372280,-0.000527481664903,-0.100239969789982));
res += mul(Get(s2,0,dy), float4x4(-0.013195266015828,0.190835461020470,-0.020524237304926,0.042967405170202,0.122351296246052,0.035131242126226,-0.072829224169254,0.007262193597853,0.000667721731588,0.085563801229000,0.021865287795663,-0.028787642717361,-0.129452601075172,-0.068589195609093,-0.071024909615517,0.082136124372482));
res += mul(Get(s2,dx,-dy), float4x4(-0.013396148569882,-0.033687978982925,0.030089830979705,0.098635219037533,-0.139081150293350,-0.046168178319931,-0.144477277994156,0.097322918474674,0.009643058292568,0.041883137077093,-0.120704874396324,-0.068052060902119,-0.047296926379204,-0.045882344245911,0.006685823202133,0.000057534158259));
res += mul(Get(s2,dx,0), float4x4(-0.084574781358242,0.081763073801994,0.037105932831764,0.034938432276249,-0.021850274875760,0.044313587248325,-0.199627101421356,0.017391348257661,0.016628615558147,-0.049173913896084,0.032172370702028,-0.035734858363867,-0.064931675791740,0.089426949620247,0.060227379202843,0.067165769636631));
res += mul(Get(s2,dx,dy), float4x4(0.076632842421532,-0.057891659438610,0.027775926515460,-0.029159916564822,-0.056438490748405,0.054446671158075,-0.088794000446796,-0.003722254652530,-0.114118754863739,-0.010866631753743,-0.101934716105461,0.052690021693707,-0.003462057560682,-0.045554868876934,-0.048586249351501,0.049370881170034));
res += mul(Get(s3,-dx,-dy), float4x4(-0.020621674135327,0.052863199263811,0.191983163356781,-0.098294600844383,-0.052976816892624,0.025368280708790,-0.021307343617082,0.190558359026909,-0.016841506585479,0.049783740192652,0.107440710067749,-0.064836539328098,-0.040479123592377,0.118800371885300,0.112839594483376,-0.004673543851823));
res += mul(Get(s3,-dx,0), float4x4(0.012867829762399,0.024983137845993,-0.121616981923580,-0.106220073997974,-0.094226785004139,-0.027274612337351,0.137101769447327,0.395076066255569,0.104960329830647,-0.090586759150028,0.124314665794373,-0.037051081657410,0.027500411495566,0.118242859840393,0.076209075748920,-0.011897548101842));
res += mul(Get(s3,-dx,dy), float4x4(-0.052345257252455,-0.012499064207077,-0.032357491552830,-0.051594503223896,-0.056302495300770,0.008091378957033,0.064650274813175,-0.111671119928360,-0.093071609735489,-0.002203151583672,-0.038361273705959,0.029884982854128,0.039470851421356,0.020763088017702,-0.031357191503048,-0.086171478033066));
res += mul(Get(s3,0,-dy), float4x4(0.010634250938892,0.048842217773199,0.260363191366196,-0.089787587523460,-0.091753132641315,0.089268684387207,-0.123003751039505,0.034281343221664,-0.050345115363598,0.038414761424065,0.053517986088991,0.076748169958591,-0.072734102606773,-0.107974536716938,0.029560655355453,-0.058577354997396));
res += mul(Get(s3,0,0), float4x4(0.110939495265484,-0.009794878773391,-0.085071586072445,-0.063553310930729,-0.129656359553337,-0.013474947772920,-0.090239830315113,0.018697051331401,-0.033664345741272,0.153269425034523,-0.033447969704866,0.001502905855887,0.020360190421343,-0.044315196573734,-0.110702469944954,-0.097239010035992));
res += mul(Get(s3,0,dy), float4x4(0.086095593869686,-0.073445796966553,-0.002522388705984,-0.039365101605654,-0.218907907605171,0.015981143340468,0.058964364230633,-0.010936806909740,-0.098912313580513,0.099377706646919,-0.140559375286102,0.065091900527477,0.075760573148727,0.097759567201138,-0.112305559217930,-0.044749416410923));
res += mul(Get(s3,dx,-dy), float4x4(0.207645580172539,-0.073545925319195,0.010838883928955,-0.090031296014786,0.007659966591746,-0.029107110574841,-0.193705633282661,0.013644404709339,-0.009677123278379,0.067546129226685,-0.023775452747941,0.013663484714925,-0.011078997515142,-0.188705235719681,0.049239303916693,0.016714509576559));
res += mul(Get(s3,dx,0), float4x4(-0.038116324692965,0.057135462760925,-0.120241232216358,0.015327829867601,-0.074074707925320,-0.108353041112423,-0.087021350860596,-0.001947807148099,0.032904513180256,0.104110866785049,-0.094556927680969,0.028274467214942,-0.012541914358735,-0.106098905205727,-0.061427373439074,-0.008286424912512));
res += mul(Get(s3,dx,dy), float4x4(-0.067588731646538,0.017439914867282,-0.129503726959229,-0.038107745349407,-0.040257036685944,0.089789941906929,-0.007541850674897,0.083409406244755,-0.100490599870682,-0.032417751848698,-0.102088816463947,-0.046310305595398,0.112755842506886,0.096644528210163,-0.083339370787144,0.001948626129888));
return max(float4(0,0,0,0), res);
}
