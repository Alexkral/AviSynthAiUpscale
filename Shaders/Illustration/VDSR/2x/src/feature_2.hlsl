sampler s0 : register(s0);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(x, y)   tex2D(s0, tex + float2(x, y))[0]

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += float4(-0.095597513020039,-0.089381583034992,-0.137931793928146,-0.267385214567184) * Get(-dx,-dy);
res += float4(-0.112558521330357,0.102976106107235,0.227860003709793,-0.166845187544823) * Get(-dx,0);
res += float4(-0.130545869469643,-0.029375361278653,0.048851508647203,0.034556604921818) * Get(-dx,dy);
res += float4(-0.060904901474714,-0.028187934309244,0.102721095085144,0.052998587489128) * Get(0,-dy);
res += float4(-0.230691283941269,0.166750222444534,-0.115244723856449,0.042705472558737) * Get(0,0);
res += float4(0.113724470138550,-0.022334491834044,-0.088003881275654,-0.028765233233571) * Get(0,dy);
res += float4(0.056522399187088,-0.118794940412045,-0.053400263190269,-0.002132699824870) * Get(dx,-dy);
res += float4(-0.005938732530922,-0.073609121143818,0.050255961716175,-0.090057939291000) * Get(dx,0);
res += float4(-0.003672349266708,-0.089435227215290,0.004654554650187,0.060731187462807) * Get(dx,dy);
return max(float4(0,0,0,0), res);
}
