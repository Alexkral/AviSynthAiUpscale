sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.066533349454403,0.129459381103516,-0.012990212999284,0.056208532303572,0.080231279134750,-0.014402445405722,-0.080541536211967,-0.000845180125907,-0.024681268259883,0.188934862613678,-0.107038706541061,0.171393945813179,0.078992933034897,0.033445276319981,-0.108381606638432,-0.093631342053413));
res += mul(Get(s0,-dx,0), float4x4(-0.057984065264463,-0.252411693334579,-0.130242601037025,-0.057362128049135,-0.256855756044388,0.082985810935497,-0.049682375043631,-0.043806321918964,-0.173719242215157,0.127204924821854,0.108978264033794,-0.027960052713752,0.133077979087830,-0.071332804858685,0.054660264402628,-0.003343539545313));
res += mul(Get(s0,-dx,dy), float4x4(0.161371409893036,-0.098177596926689,-0.059886291623116,-0.048855695873499,-0.050583705306053,-0.030656797811389,0.073981679975986,-0.042402923107147,0.081199079751968,0.040115203708410,-0.057329211384058,0.033405367285013,0.222399026155472,0.012390723451972,-0.117810912430286,-0.046288818120956));
res += mul(Get(s0,0,-dy), float4x4(0.074281804263592,-0.160935372114182,-0.053582377731800,-0.012537742964923,-0.005608622916043,-0.019375026226044,0.021140811964869,-0.007226236164570,-0.003959292545915,0.134667038917542,0.097489289939404,0.029382335022092,0.204245612025261,-0.035645984113216,0.067782513797283,0.193463489413261));
res += mul(Get(s0,0,0), float4x4(0.183409273624420,0.156027957797050,0.033735107630491,-0.107011489570141,0.005237347912043,-0.116748996078968,-0.104491814970970,0.014864841476083,0.020233720541000,-0.177881807088852,0.108637802302837,0.053758468478918,-0.061171587556601,-0.102367676794529,-0.046258121728897,0.211706906557083));
res += mul(Get(s0,0,dy), float4x4(0.185691684484482,-0.058570157736540,-0.056232828646898,-0.007898539304733,0.123874865472317,0.074142828583717,-0.038671571761370,-0.021395951509476,-0.009705098345876,0.012987690977752,-0.022799350321293,0.023204607889056,0.041921917349100,-0.086781859397888,-0.141143649816513,0.054459456354380));
res += mul(Get(s0,dx,-dy), float4x4(-0.012274589389563,0.025845337659121,-0.021022439002991,0.062748223543167,-0.044484503567219,0.231713041663170,0.032848846167326,-0.000562797591556,-0.057753056287766,0.146089807152748,-0.017790788784623,0.037402085959911,0.039218813180923,0.179413735866547,-0.183900073170662,-0.054277047514915));
res += mul(Get(s0,dx,0), float4x4(-0.220918089151382,-0.042838271707296,0.048117280006409,0.000479540030938,-0.039026804268360,-0.063983798027039,0.027726931497455,-0.011273750104010,0.033244315534830,-0.080767229199409,0.022587487474084,0.026306359097362,-0.111902035772800,-0.026641435921192,0.168157488107681,0.071737296879292));
res += mul(Get(s0,dx,dy), float4x4(-0.087142005562782,-0.009363657794893,0.058580692857504,-0.021832399070263,-0.036606781184673,0.047557741403580,0.231308534741402,-0.112362027168274,0.144910335540771,-0.100745558738708,0.157355487346649,-0.002013603691012,-0.182461500167847,-0.008285438641906,-0.150836110115051,0.034200377762318));
res += mul(Get(s1,-dx,-dy), float4x4(-0.031722798943520,0.085428737103939,0.068817250430584,0.041199989616871,0.041496273130178,-0.023792596533895,-0.134491056203842,-0.025600410997868,-0.066989429295063,-0.057222440838814,-0.055686485022306,-0.083123795688152,-0.064919993281364,0.180231288075447,0.075519673526287,-0.015912134200335));
res += mul(Get(s1,-dx,0), float4x4(-0.037020307034254,-0.028005763888359,0.000068228953751,-0.249383628368378,0.051036193966866,0.030226316303015,-0.132615342736244,-0.028771456331015,0.040725219994783,0.169222772121429,0.027197685092688,-0.129238009452820,0.033109121024609,0.025854213163257,0.080999888479710,-0.014833764173090));
res += mul(Get(s1,-dx,dy), float4x4(0.193456456065178,0.141368582844734,0.064691893756390,-0.013384705409408,0.016769742593169,0.084359206259251,-0.181468382477760,0.020567890256643,-0.089496321976185,-0.025686239823699,-0.022488638758659,-0.059940706938505,-0.247896268963814,0.003601445583627,0.137397289276123,0.023228341713548));
res += mul(Get(s1,0,-dy), float4x4(-0.157297179102898,0.008649540133774,0.084605634212494,0.196493372321129,-0.044722035527229,-0.055989228188992,-0.073368333280087,-0.224347740411758,-0.152633666992188,0.050139274448156,0.063643060624599,0.099685788154602,0.063542142510414,0.072786547243595,0.049644950777292,-0.014643971808255));
res += mul(Get(s1,0,0), float4x4(0.029987005516887,0.141085624694824,-0.039899941533804,-0.018986014649272,-0.044474132359028,-0.150782495737076,0.120316125452518,0.080330766737461,0.095603689551353,0.158220484852791,0.072809539735317,0.018809402361512,0.234764635562897,-0.042980432510376,-0.071723952889442,0.036599021404982));
res += mul(Get(s1,0,dy), float4x4(-0.111196190118790,0.181822761893272,-0.048563644289970,0.083719395101070,0.147251322865486,0.057522680610418,0.068960271775723,0.160182923078537,0.044785950332880,-0.003263089805841,-0.029503373429179,-0.038434065878391,-0.135854110121727,-0.101535327732563,0.022198839113116,0.080456294119358));
res += mul(Get(s1,dx,-dy), float4x4(-0.058947633951902,0.140375614166260,-0.114252977073193,0.226509258151054,0.040499765425920,0.037645611912012,0.011248813942075,0.128531277179718,0.004518812987953,-0.208082556724548,-0.057523351162672,0.096900932490826,-0.070967569947243,0.073746494948864,0.043898310512304,0.101109154522419));
res += mul(Get(s1,dx,0), float4x4(0.063240803778172,0.054030012339354,-0.041978728026152,-0.086908556520939,-0.111017763614655,-0.140632361173630,0.139075845479965,-0.047569964081049,0.084674119949341,-0.002963339677081,-0.104872822761536,-0.063639625906944,0.015618639998138,-0.122461527585983,0.084210477769375,-0.149286076426506));
res += mul(Get(s1,dx,dy), float4x4(-0.025727834552526,0.097857393324375,-0.000126636936329,0.186179354786873,0.049097895622253,0.186322987079620,-0.088528260588646,0.036058876663446,-0.010491208173335,0.011997838504612,0.037164013832808,0.082231543958187,0.066894344985485,-0.061038240790367,-0.030045481398702,0.001269935979508));
res += mul(Get(s2,-dx,-dy), float4x4(-0.004421244841069,0.065967425704002,0.075662277638912,0.109562180936337,0.039419207721949,-0.007988056167960,0.077237054705620,0.016271499916911,0.083963751792908,-0.114944502711296,-0.033859916031361,0.070609517395496,0.015587376430631,-0.021874649450183,0.187420383095741,0.029416283592582));
res += mul(Get(s2,-dx,0), float4x4(0.051306277513504,-0.075790852308273,0.049437239766121,0.030314052477479,0.134703338146210,-0.000286668539047,0.385289996862411,0.084829926490784,0.222360923886299,-0.116262152791023,-0.014495702460408,-0.080544486641884,0.163760781288147,-0.140852779150009,-0.076166503131390,-0.086241319775581));
res += mul(Get(s2,-dx,dy), float4x4(-0.064612112939358,0.114320278167725,-0.030169416218996,-0.085346527397633,-0.110834166407585,0.018968751654029,-0.113600395619869,-0.045440103858709,0.022257804870605,-0.113022908568382,-0.097389981150627,-0.044925652444363,0.101962901651859,-0.126475557684898,-0.005347808357328,0.027338653802872));
res += mul(Get(s2,0,-dy), float4x4(0.005441475193948,0.119116373360157,0.096679620444775,-0.018346993252635,-0.071285530924797,-0.033543448895216,-0.098065629601479,-0.093718506395817,0.197314262390137,-0.051713831722736,0.004390785470605,-0.129361033439636,0.225896254181862,0.015227400697768,-0.023477008566260,-0.003559050150216));
res += mul(Get(s2,0,0), float4x4(0.209806144237518,-0.205498531460762,-0.077750645577908,-0.055531412363052,0.052788741886616,0.161424502730370,0.324270308017731,-0.024278432130814,-0.148323550820351,-0.058380711823702,-0.013524388894439,0.147464275360107,0.149948358535767,-0.038261603564024,0.018521202728152,0.135163232684135));
res += mul(Get(s2,0,dy), float4x4(0.102074645459652,0.091588206589222,-0.114497311413288,0.081840775907040,0.179890483617783,0.013077128678560,-0.021370666101575,0.049711845815182,-0.019395601004362,-0.147307798266411,0.073921903967857,-0.102939553558826,-0.081948265433311,0.076793953776360,-0.187950238585472,-0.011518226936460));
res += mul(Get(s2,dx,-dy), float4x4(0.195766881108284,0.125735878944397,0.023110335692763,-0.017865512520075,0.025935834273696,0.115247793495655,-0.031140975654125,-0.050251331180334,-0.023940620943904,-0.177635297179222,0.003020869567990,-0.003966813907027,0.049051571637392,0.103359743952751,-0.024100711569190,0.134628012776375));
res += mul(Get(s2,dx,0), float4x4(0.007479415740818,0.039896991103888,-0.014508677646518,-0.107325263321400,0.007611043751240,-0.038126699626446,0.044403612613678,-0.027263266965747,-0.113275073468685,0.103993907570839,0.043079871684313,0.073948465287685,0.012261261232197,-0.231485024094582,0.029731709510088,0.020454877987504));
res += mul(Get(s2,dx,dy), float4x4(0.021325495094061,0.087007477879524,0.032136738300323,0.001582082477398,0.094237379729748,0.096324011683464,0.135786905884743,0.013978198170662,-0.039919856935740,0.043538421392441,0.079841196537018,-0.103185549378395,-0.078721046447754,0.098506331443787,0.016245666891336,0.004365666769445));
res += mul(Get(s3,-dx,-dy), float4x4(0.065915204584599,-0.015103133395314,-0.064182072877884,-0.099827915430069,-0.127439543604851,0.188042506575584,-0.004086484666914,-0.046167343854904,-0.102852225303650,-0.099530652165413,0.017559854313731,-0.018857976421714,0.050637062638998,0.061516411602497,-0.144467353820801,0.106388829648495));
res += mul(Get(s3,-dx,0), float4x4(0.029848415404558,-0.105464912950993,0.028146887198091,0.097685977816582,-0.083494596183300,0.104627422988415,-0.041709981858730,0.103958673775196,0.038935005664825,-0.186373785138130,-0.153562039136887,-0.074361264705658,-0.168367922306061,-0.058475058525801,0.043183159083128,0.085833124816418));
res += mul(Get(s3,-dx,dy), float4x4(-0.100921958684921,0.137951835989952,0.157605454325676,-0.055344585329294,-0.072232484817505,0.040817443281412,-0.048168215900660,-0.129098623991013,0.017515012994409,0.057459112256765,0.077479973435402,-0.042505525052547,-0.026435734704137,-0.083809092640877,-0.011745977215469,0.003999192733318));
res += mul(Get(s3,0,-dy), float4x4(0.040355842560530,-0.118971027433872,0.252269864082336,0.080130785703659,-0.069303452968597,0.108229935169220,0.026980808004737,-0.061542797833681,-0.122819155454636,-0.084201447665691,0.005335369147360,-0.000464150361950,0.071715719997883,0.065615735948086,-0.101739466190338,0.102691538631916));
res += mul(Get(s3,0,0), float4x4(0.024089582264423,-0.027346586808562,0.137301951646805,-0.085405580699444,0.007472213357687,-0.035010695457458,-0.025445835664868,-0.038245260715485,0.010918423533440,-0.117536403238773,0.034474387764931,0.076746836304665,-0.144720494747162,0.109188348054886,-0.112436309456825,-0.062871776521206));
res += mul(Get(s3,0,dy), float4x4(0.037054765969515,0.095800243318081,0.189398810267448,0.047558993101120,0.058411847800016,0.033172812312841,-0.093988910317421,-0.003566428087652,-0.027439506724477,0.072053797543049,0.002950850874186,0.116750858724117,-0.045584555715322,0.035473003983498,-0.066550947725773,0.083416193723679));
res += mul(Get(s3,dx,-dy), float4x4(-0.023287858814001,0.177784070372581,-0.077945344150066,-0.109276637434959,-0.042648997157812,0.210796520113945,0.045054171234369,-0.051769379526377,-0.091283522546291,0.045654054731131,0.128229424357414,-0.010759661905468,0.105642803013325,-0.102484211325645,-0.103021018207073,0.056521009653807));
res += mul(Get(s3,dx,0), float4x4(-0.099108979105949,0.039904478937387,-0.067952968180180,0.097378574311733,-0.036280065774918,0.085878111422062,0.003207342466339,-0.009684873744845,-0.094188198447227,-0.011505641043186,0.147145926952362,0.029698461294174,0.055044390261173,-0.066659867763519,-0.040211942046881,-0.128107458353043));
res += mul(Get(s3,dx,dy), float4x4(0.023931581526995,-0.023812759667635,-0.072355583310127,0.044696718454361,-0.098350822925568,-0.068891614675522,-0.006935182027519,-0.139186516404152,0.015231928788126,0.085362382233143,0.136145293712616,-0.129824206233025,0.040198799222708,-0.144284531474113,-0.049887649714947,0.068925708532333));
return max(float4(0,0,0,0), res);
}
