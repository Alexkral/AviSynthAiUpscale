sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.022360723465681,0.085250869393349,-0.172324761748314,0.018369834870100,-0.079390443861485,-0.041103933006525,-0.204720377922058,-0.032314591109753,0.139938220381737,-0.004966550506651,-0.291628092527390,0.083823569118977,0.113191306591034,-0.026899354532361,-0.154573217034340,0.071276716887951));
res += mul(Get(s0,-dx,0), float4x4(0.044318839907646,-0.059914164245129,-0.126925572752953,-0.026300400495529,-0.152376398444176,0.310281008481979,-0.082759082317352,0.082107059657574,0.162145853042603,-0.071757160127163,-0.162620842456818,0.065508775413036,-0.006392393726856,-0.120498977601528,-0.107919663190842,0.040864083915949));
res += mul(Get(s0,-dx,dy), float4x4(-0.007139806170017,0.113052539527416,0.017048247158527,0.079995460808277,0.000976174545940,0.061145581305027,-0.041002813726664,-0.029956089332700,0.202404573559761,-0.076703667640686,-0.088409729301929,0.090991444885731,0.277828216552734,-0.128181889653206,0.004121552221477,-0.054753679782152));
res += mul(Get(s0,0,-dy), float4x4(-0.107183568179607,0.001032112166286,-0.121525794267654,-0.009511343203485,0.010261676274240,-0.056726112961769,0.012859816662967,0.060419198125601,-0.007461751345545,-0.151945278048515,-0.195453971624374,-0.093686491250992,-0.044053945690393,-0.056523341685534,-0.058096308261156,0.082266137003899));
res += mul(Get(s0,0,0), float4x4(0.037846677005291,-0.069125644862652,-0.062339834868908,0.081879548728466,0.131129458546638,0.081004783511162,0.134729146957397,0.054101813584566,0.125734612345695,-0.097866572439671,-0.146637499332428,0.038384839892387,-0.040749445557594,-0.044651217758656,-0.076824240386486,-0.050537355244160));
res += mul(Get(s0,0,dy), float4x4(-0.034356325864792,0.190571337938309,-0.117381364107132,-0.096119232475758,0.128226503729820,0.070204779505730,0.036816515028477,0.125387668609619,-0.017906030640006,-0.078543230891228,0.017685689032078,0.002048822818324,-0.007701217196882,-0.048790194094181,0.175707027316093,0.124467670917511));
res += mul(Get(s0,dx,-dy), float4x4(-0.068027570843697,-0.123437307775021,-0.102321326732635,0.000812782964204,0.074578218162060,-0.009209942072630,-0.111070208251476,-0.056346688419580,0.093055143952370,-0.088444493710995,-0.215413555502892,0.023607861250639,0.144034624099731,0.096271879971027,0.006960421334952,-0.036954861134291));
res += mul(Get(s0,dx,0), float4x4(-0.105601936578751,-0.013156327418983,-0.061846274882555,-0.082079321146011,0.056057315319777,0.040660791099072,0.273818045854568,0.188788458704948,0.083963058888912,-0.084082126617432,0.030049134045839,-0.001584739191458,0.021726140752435,0.012911104597151,0.058553982526064,-0.035759862512350));
res += mul(Get(s0,dx,dy), float4x4(0.036294963210821,0.057617470622063,0.052263446152210,-0.217542648315430,-0.017999544739723,0.147107914090157,-0.043240915983915,0.122799269855022,-0.002412586705759,-0.018414726480842,-0.008565769530833,-0.041181594133377,0.103646814823151,0.062016230076551,-0.090409882366657,-0.064189076423645));
res += mul(Get(s1,-dx,-dy), float4x4(0.004210692830384,0.039145573973656,-0.126428380608559,0.109959609806538,0.092082910239697,-0.016207437962294,-0.085325539112091,0.131901964545250,-0.132492706179619,0.166387319564819,-0.037323407828808,-0.002597464481369,-0.049098026007414,0.146650016307831,-0.092294618487358,0.062446329742670));
res += mul(Get(s1,-dx,0), float4x4(-0.035614758729935,0.050984002649784,-0.001457793288864,0.029534887522459,-0.002022761618719,0.379095464944839,-0.108528658747673,0.048754539340734,-0.117815539240837,-0.012811894528568,-0.156837612390518,-0.003628724254668,-0.044614382088184,-0.045430891215801,-0.015870891511440,0.034690774977207));
res += mul(Get(s1,-dx,dy), float4x4(0.109780445694923,-0.159312114119530,0.053374223411083,0.130654022097588,-0.045123890042305,0.103211149573326,-0.111124433577061,-0.039670910686255,0.065335847437382,0.001214218907990,-0.022844029590487,-0.024715546518564,0.115529619157314,0.118369199335575,0.038395889103413,0.144171565771103));
res += mul(Get(s1,0,-dy), float4x4(-0.079093731939793,-0.109322205185890,-0.111900493502617,0.102793201804161,-0.020703891292214,0.074690885841846,0.062766715884209,0.094318814575672,-0.121902719140053,-0.076778598129749,0.064023323357105,0.013796534389257,-0.123723164200783,0.125475600361824,-0.091044992208481,0.161410436034203));
res += mul(Get(s1,0,0), float4x4(-0.171223878860474,0.037589032202959,-0.167519956827164,0.010612794198096,0.046546027064323,0.107030645012856,0.094950281083584,0.076819695532322,0.069150306284428,-0.014155530370772,0.093427255749702,0.061034400016069,0.049618359655142,-0.165764510631561,0.153321176767349,-0.046590097248554));
res += mul(Get(s1,0,dy), float4x4(0.046995099633932,-0.156292095780373,0.180970981717110,0.113888673484325,0.116815783083439,-0.155191600322723,0.067625664174557,-0.045786600559950,-0.039746765047312,-0.137164682149887,-0.015923805534840,-0.082540847361088,0.151663124561310,-0.095308259129524,0.091440938413143,-0.165645971894264));
res += mul(Get(s1,dx,-dy), float4x4(0.002276266226545,-0.129177600145340,0.070264860987663,-0.023862162604928,-0.067270338535309,-0.041857589036226,-0.011720766313374,-0.034924123436213,-0.045234143733978,0.032521154731512,0.096568860113621,-0.002089432440698,-0.102538198232651,0.119461171329021,-0.090227350592613,0.113257184624672));
res += mul(Get(s1,dx,0), float4x4(0.058336399495602,-0.022165181115270,0.027148313820362,-0.104236535727978,-0.009726647287607,-0.056500788778067,0.119603902101517,-0.089123912155628,-0.012989377602935,0.023495068773627,0.125128343701363,-0.059075571596622,-0.020623443648219,0.057679291814566,-0.065551459789276,-0.015182415023446));
res += mul(Get(s1,dx,dy), float4x4(-0.018137071281672,0.052887566387653,0.203602701425552,-0.000708493927959,-0.050165232270956,-0.097987323999405,0.062623061239719,-0.079354941844940,-0.049430105835199,0.088080167770386,0.070936270058155,-0.129446282982826,0.023598214611411,0.118830688297749,0.107740260660648,-0.062554404139519));
res += mul(Get(s2,-dx,-dy), float4x4(-0.104664511978626,0.078223243355751,0.014556343667209,0.142654523253441,0.142387777566910,-0.145068615674973,-0.034734133630991,-0.002842554356903,-0.068559750914574,-0.051792170852423,-0.139982119202614,0.033833239227533,-0.024988032877445,0.040085937827826,-0.189383879303932,0.007789943832904));
res += mul(Get(s2,-dx,0), float4x4(0.003471286036074,0.160725921392441,-0.010087269358337,-0.000814983155578,0.029766200110316,-0.157608389854431,-0.172981336712837,0.053773619234562,-0.055703528225422,-0.051203347742558,-0.087763644754887,-0.133506909012794,0.432665497064590,0.000119383897982,-0.126153662800789,-0.039306234568357));
res += mul(Get(s2,-dx,dy), float4x4(0.128163695335388,-0.019537661224604,-0.072444520890713,-0.016186857596040,0.039574995636940,-0.140100225806236,-0.008503284305334,0.067732885479927,-0.103479236364365,-0.057987142354250,0.001946441247128,-0.135860592126846,-0.197545856237411,0.217476457357407,-0.018296053633094,0.004862251225859));
res += mul(Get(s2,0,-dy), float4x4(0.018265185877681,0.090359017252922,0.079682283103466,0.184062302112579,0.014463871717453,-0.056675918400288,0.084417119622231,-0.011949197389185,-0.067830279469490,-0.061020445078611,0.012816547416151,0.053129769861698,-0.105557218194008,-0.011420651338995,-0.118836015462875,0.013082171790302));
res += mul(Get(s2,0,0), float4x4(-0.032042995095253,0.146380245685577,-0.032245326787233,0.064908720552921,-0.044496525079012,-0.153753682971001,-0.144203349947929,-0.057850096374750,-0.056965515017509,-0.169077485799789,0.080526784062386,0.021586127579212,-0.022527700290084,-0.141497567296028,0.232513323426247,0.051465619355440));
res += mul(Get(s2,0,dy), float4x4(-0.001839382690378,0.136796414852142,0.030048932880163,-0.071142002940178,-0.022608481347561,-0.087199181318283,0.359009623527527,0.079282306134701,-0.008043124340475,-0.079135537147522,0.039478871971369,0.083412885665894,-0.098623849451542,0.099718824028969,0.044159952551126,-0.110114835202694));
res += mul(Get(s2,dx,-dy), float4x4(-0.014503736048937,-0.022972401231527,0.162009641528130,0.145537391304970,0.104361213743687,-0.028249008581042,-0.043459352105856,-0.051647383719683,-0.042677413672209,0.000677120289765,-0.146127864718437,-0.043290279805660,-0.059089697897434,0.142807722091675,0.015451794490218,-0.155417993664742));
res += mul(Get(s2,dx,0), float4x4(-0.006208547856659,0.126633003354073,-0.034459587186575,0.114636927843094,0.134942308068275,-0.071390233933926,0.316973865032196,-0.112550124526024,-0.014945665374398,-0.123826034367085,0.001764013781212,-0.114001467823982,-0.012087499722838,-0.012808951549232,0.125902637839317,-0.037816975265741));
res += mul(Get(s2,dx,dy), float4x4(0.073976963758469,0.079173341393471,-0.026784718036652,-0.190815582871437,-0.044674720615149,-0.095811039209366,0.212229445576668,-0.025067022070289,-0.081310212612152,-0.029360812157393,-0.069172009825706,-0.109359316527843,-0.078423455357552,0.194325372576714,0.080204218626022,-0.008280746638775));
res += mul(Get(s3,-dx,-dy), float4x4(-0.003138704691082,0.243036657571793,-0.036339752376080,-0.000227241820539,-0.103921458125114,0.031609009951353,-0.037590079009533,-0.000015838260879,0.043877221643925,-0.063026376068592,-0.013107611797750,0.165006786584854,0.102557629346848,0.068676836788654,-0.147841781377792,0.094516225159168));
res += mul(Get(s3,-dx,0), float4x4(-0.063051253557205,-0.080913573503494,0.145066544413567,0.038795270025730,-0.110355906188488,-0.091907434165478,-0.110662646591663,0.136714830994606,-0.062785908579826,0.000818891392555,0.094356447458267,0.178430661559105,0.135447189211845,-0.032348945736885,0.014678522944450,0.038744971156120));
res += mul(Get(s3,-dx,dy), float4x4(-0.023479886353016,-0.078236490488052,-0.050072591751814,-0.132448732852936,0.017409656196833,0.022830298170447,-0.126626238226891,0.100546613335609,-0.062608800828457,0.070481650531292,0.013090507127345,0.099116407334805,0.032258570194244,0.019804881885648,0.113904722034931,0.040595501661301));
res += mul(Get(s3,0,-dy), float4x4(-0.104263693094254,0.032714579254389,0.033323202282190,-0.068073339760303,-0.103456005454063,-0.091786302626133,-0.026540027931333,0.017742933705449,0.038136892020702,-0.064105667173862,-0.139062151312828,0.030066790059209,-0.013768620789051,0.019356925040483,-0.069930620491505,0.369220495223999));
res += mul(Get(s3,0,0), float4x4(-0.126154705882072,-0.018599037081003,0.371656894683838,-0.117938525974751,-0.042023878544569,-0.128097876906395,0.035529326647520,0.032522317022085,0.100172832608223,-0.116665393114090,0.126570999622345,-0.102123752236366,0.172643110156059,-0.047384355217218,0.144917279481888,-0.088032409548759));
res += mul(Get(s3,0,dy), float4x4(0.048231501132250,-0.032618753612041,0.255612283945084,-0.148082748055458,-0.024517305195332,-0.060462538152933,0.092697426676750,-0.070133902132511,0.065775968134403,0.032592270523310,0.074240028858185,-0.023726051673293,-0.010623609647155,-0.007386716548353,-0.012498806230724,-0.033773373812437));
res += mul(Get(s3,dx,-dy), float4x4(-0.139864161610603,0.217480883002281,-0.086537584662437,0.083747446537018,-0.120813518762589,0.184626787900925,-0.125179111957550,0.066070362925529,0.092570036649704,0.053023833781481,-0.018189875409007,0.187523305416107,-0.005404516123235,0.051529888063669,-0.034558273851871,-0.085827894508839));
res += mul(Get(s3,dx,0), float4x4(-0.052885066717863,0.140463903546333,0.062811695039272,0.117396734654903,-0.064847014844418,-0.110241360962391,0.172783136367798,-0.025736354291439,0.098091311752796,0.186398521065712,0.140918120741844,0.131734579801559,0.015353024937212,0.068840004503727,0.160694748163223,-0.069797538220882));
res += mul(Get(s3,dx,dy), float4x4(-0.053547840565443,0.043888702988625,0.052359025925398,-0.178669363260269,-0.036796655505896,-0.065127991139889,0.131440415978432,-0.020865818485618,0.063956439495087,0.033158596605062,0.138166993856430,0.015759339556098,-0.067157492041588,0.067684441804886,0.161683931946754,0.001580062904395));
return max(float4(0,0,0,0), res);
}
