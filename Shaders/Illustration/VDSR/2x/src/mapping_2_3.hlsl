sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.004279503598809,0.123701751232147,0.046002503484488,-0.022045316174626,0.053436815738678,-0.104789257049561,0.008795975707471,0.047397565096617,0.011916369199753,0.016838334500790,-0.118286103010178,-0.058241479098797,-0.103471502661705,0.049992524087429,0.063204810023308,0.098382882773876));
res += mul(Get(s0,-dx,0), float4x4(0.143825054168701,0.208090320229530,-0.197828248143196,-0.089914910495281,0.103125348687172,0.006384841166437,0.227629289031029,0.061502709984779,0.128695368766785,-0.017989382147789,-0.051767665892839,0.105442695319653,0.108083747327328,-0.040488995611668,0.012622630223632,-0.197762504220009));
res += mul(Get(s0,-dx,dy), float4x4(-0.068247601389885,0.029034731909633,-0.179396152496338,0.066856972873211,0.104964040219784,0.009130051359534,-0.085336484014988,0.019231930375099,0.060495529323816,-0.023577922955155,-0.052678622305393,-0.022982686758041,-0.017744597047567,-0.114035628736019,-0.034335777163506,-0.126906335353851));
res += mul(Get(s0,0,-dy), float4x4(0.042030718177557,0.096728071570396,-0.160514935851097,0.067855618894100,-0.157314524054527,-0.054099995642900,0.184789106249809,0.188983082771301,0.025706823915243,-0.187350630760193,-0.024465452879667,-0.125624030828476,0.095570489764214,0.118961602449417,-0.063020788133144,0.033236522227526));
res += mul(Get(s0,0,0), float4x4(0.138989701867104,-0.078805387020111,0.185237362980843,0.108996286988258,-0.256638616323471,0.106759399175644,-0.029816266149282,-0.113065712153912,-0.218678593635559,-0.126740068197250,-0.067377440631390,0.148103639483452,-0.079525642096996,-0.144880220293999,-0.117958679795265,-0.035468433052301));
res += mul(Get(s0,0,dy), float4x4(0.040769133716822,0.124775528907776,0.130842611193657,0.006766172125936,-0.063792653381824,0.022042091935873,-0.057092793285847,-0.053219292312860,0.006949452217668,0.070851758122444,0.055115554481745,0.060092993080616,0.055455163121223,0.055990822613239,-0.033742349594831,-0.028746483847499));
res += mul(Get(s0,dx,-dy), float4x4(-0.038207821547985,0.183235406875610,-0.172520041465759,0.130692601203918,0.187343895435333,0.172170266509056,0.072405047714710,-0.008021177724004,0.059081267565489,0.081128776073456,0.098808579146862,0.105022460222244,0.154753804206848,0.059720508754253,0.048676416277885,0.144640743732452));
res += mul(Get(s0,dx,0), float4x4(0.043046437203884,0.144463196396828,0.002896516583860,0.189366996288300,0.008294299244881,0.008785486221313,0.102703005075455,-0.014849824830890,-0.039261706173420,-0.143661215901375,-0.040583107620478,-0.022861385717988,-0.037283144891262,-0.154002502560616,0.019921423867345,0.213060945272446));
res += mul(Get(s0,dx,dy), float4x4(-0.045788958668709,0.045640584081411,-0.077456198632717,-0.052754968404770,-0.005549395456910,-0.003479735460132,0.042672250419855,-0.020528089255095,0.004100249614567,0.000913898518775,0.042992584407330,0.177263155579567,0.141115620732307,0.027972742915154,0.074687473475933,0.075819186866283));
res += mul(Get(s1,-dx,-dy), float4x4(0.019535562023520,-0.027846757322550,0.042622964829206,-0.026426166296005,-0.147799313068390,-0.103492662310600,0.029322778806090,-0.166647613048553,0.009630731306970,0.086069479584694,-0.057137630879879,0.056168470531702,0.119408458471298,-0.080044895410538,-0.114615559577942,-0.122818648815155));
res += mul(Get(s1,-dx,0), float4x4(0.264525204896927,0.159813895821571,0.085036002099514,0.218134164810181,0.065067179501057,-0.119544073939323,-0.000655796262436,0.009680074639618,0.020699828863144,0.197989091277122,0.082763530313969,0.169320881366730,0.059588022530079,0.157214581966400,0.067714966833591,-0.002694310387596));
res += mul(Get(s1,-dx,dy), float4x4(-0.034028772264719,0.029208632186055,-0.060635581612587,0.028904093429446,-0.071913339197636,0.040059663355350,-0.070340245962143,0.097824677824974,0.071993693709373,-0.090113192796707,0.054557513445616,0.085202537477016,-0.030515367165208,0.007661883719265,-0.042156182229519,-0.019755197688937));
res += mul(Get(s1,0,-dy), float4x4(0.028810584917665,-0.104605868458748,-0.014120708219707,-0.094694204628468,0.066862672567368,0.003727192059159,-0.056133653968573,0.107814989984035,0.186333656311035,0.146557688713074,0.055627845227718,-0.144597515463829,0.049344841390848,-0.173384204506874,0.121869698166847,-0.010932792909443));
res += mul(Get(s1,0,0), float4x4(-0.040983945131302,0.190057650208473,0.023725256323814,-0.120960570871830,-0.047372493892908,0.223333373665810,-0.150869905948639,0.277486801147461,-0.101800993084908,0.072478279471397,0.126419588923454,0.128011897206306,0.142766922712326,-0.067467913031578,-0.076968409121037,0.067885011434555));
res += mul(Get(s1,0,dy), float4x4(-0.110553212463856,0.090694442391396,-0.046710874885321,-0.080364413559437,-0.038752749562263,-0.016465464606881,0.099436528980732,-0.051669828593731,0.052388969808817,-0.160502344369888,0.185699254274368,0.076957523822784,0.132301434874535,0.148125201463699,-0.077760592103004,0.012076516635716));
res += mul(Get(s1,dx,-dy), float4x4(-0.062629245221615,-0.003299366217107,0.052324354648590,-0.076832361519337,-0.036012314260006,0.004897274542600,0.087014324963093,0.073958501219749,-0.060258597135544,0.012589823454618,-0.187772631645203,-0.094936214387417,-0.121391534805298,0.122273109853268,0.084973700344563,-0.094168871641159));
res += mul(Get(s1,dx,0), float4x4(0.035212200134993,0.130086809396744,-0.171639129519463,-0.137271627783775,0.017502559348941,0.004820140544325,-0.093124546110630,0.041034620255232,0.030287906527519,0.061483707278967,0.063367784023285,-0.172440141439438,0.012888190336525,-0.128105252981186,-0.019558882340789,0.009555699303746));
res += mul(Get(s1,dx,dy), float4x4(-0.085012532770634,-0.081382028758526,0.048114378005266,-0.201105147600174,0.286732733249664,0.038203969597816,-0.167196810245514,-0.038572460412979,0.106916166841984,0.136606022715569,-0.017440460622311,-0.159986540675163,-0.186357721686363,0.066795736551285,0.047045722603798,-0.003455094294623));
res += mul(Get(s2,-dx,-dy), float4x4(0.115973956882954,-0.067269690334797,-0.040797725319862,-0.173412188887596,-0.024132827296853,0.008612601086497,-0.008155197836459,-0.103272736072540,-0.110880807042122,-0.034968439489603,-0.007457260042429,-0.042404517531395,0.077259369194508,0.050902888178825,-0.024419277906418,0.076961845159531));
res += mul(Get(s2,-dx,0), float4x4(-0.211919859051704,0.186748012900352,0.114904016256332,0.095545731484890,0.108288772404194,0.032535448670387,0.184853330254555,0.107593566179276,0.192388251423836,0.066714122891426,-0.142199188470840,0.027965834364295,-0.079219698905945,0.035982143133879,-0.126299843192101,0.127311065793037));
res += mul(Get(s2,-dx,dy), float4x4(-0.053485713899136,-0.090369954705238,0.051414750516415,-0.218760728836060,0.021850869059563,-0.050971124321222,-0.176594719290733,0.120492793619633,-0.030408380553126,-0.159856557846069,0.044153910130262,0.059535887092352,-0.110819607973099,0.087104372680187,0.030844159424305,0.010856868699193));
res += mul(Get(s2,0,-dy), float4x4(0.024058856070042,0.143649473786354,-0.040917769074440,0.044940687716007,0.049968454986811,-0.099610105156898,0.105156309902668,0.037564612925053,0.194726169109344,0.056518938392401,0.041702467948198,-0.069322980940342,0.164809882640839,0.022012786939740,0.042699959129095,0.045836992561817));
res += mul(Get(s2,0,0), float4x4(-0.003107936587185,-0.064404636621475,-0.062289975583553,-0.022976567968726,-0.032280955463648,0.023963799700141,-0.054016314446926,0.018628673627973,-0.042059160768986,0.065405890345573,0.035443428903818,-0.001873135101050,-0.059214521199465,0.099242769181728,0.149085313081741,-0.020661380141973));
res += mul(Get(s2,0,dy), float4x4(0.169067695736885,0.064335286617279,-0.036222677677870,-0.041838061064482,-0.090890236198902,-0.141132220625877,-0.049602564424276,0.066162735223770,0.028418472036719,-0.003292317735031,-0.063811890780926,-0.029050085693598,-0.133459299802780,0.032339822500944,-0.152716204524040,0.073257230222225));
res += mul(Get(s2,dx,-dy), float4x4(0.039421882480383,-0.114906795322895,0.241111472249031,0.070327185094357,-0.116248235106468,0.023177200928330,0.050283364951611,0.034966483712196,0.099726945161819,-0.030057189986110,-0.008182175457478,0.100709974765778,0.052854396402836,-0.184855356812477,-0.036949262022972,0.302499473094940));
res += mul(Get(s2,dx,0), float4x4(-0.027380052953959,0.167277529835701,-0.004983394872397,-0.023491129279137,-0.017089750617743,-0.289499491453171,-0.075810186564922,0.007101838476956,0.155834272503853,0.212812006473541,0.046797242015600,0.040182564407587,0.203769341111183,-0.023607822135091,0.046201262623072,-0.000357488781447));
res += mul(Get(s2,dx,dy), float4x4(0.082286469638348,-0.214927315711975,-0.018067676573992,-0.020497985184193,0.164188519120216,-0.204805150628090,0.025713706389070,0.048040505498648,0.024337345734239,-0.079916425049305,0.048026591539383,0.115377202630043,0.159713283181190,0.030515473335981,-0.005921034142375,-0.015183513052762));
res += mul(Get(s3,-dx,-dy), float4x4(-0.218875810503960,-0.003246852662414,0.261908829212189,0.071253865957260,-0.089794866740704,0.128273904323578,0.206994235515594,0.108883239328861,-0.100245594978333,0.090246990323067,0.066663421690464,0.081245750188828,0.005517593119293,0.083695709705353,0.025336196646094,-0.108241125941277));
res += mul(Get(s3,-dx,0), float4x4(-0.085754841566086,-0.060719657689333,-0.040888313204050,-0.179136261343956,0.127263262867928,-0.071264848113060,0.056875366717577,0.053452048450708,-0.125842630863190,0.115509033203125,-0.196382716298103,-0.081260912120342,-0.086240962147713,-0.088582895696163,-0.028743837028742,-0.195957586169243));
res += mul(Get(s3,-dx,dy), float4x4(0.052525036036968,0.175466999411583,-0.234636604785919,0.082153163850307,0.208056151866913,-0.193244993686676,-0.033120855689049,0.107448525726795,-0.002269878052175,-0.031769748777151,-0.004602639004588,0.012719182297587,-0.159589767456055,0.071437537670135,-0.011209261603653,-0.121709562838078));
res += mul(Get(s3,0,-dy), float4x4(0.014061103574932,-0.209576606750488,0.130813464522362,-0.030072130262852,-0.254264473915100,0.079489067196846,-0.053781393915415,-0.119856365025043,0.063218869268894,0.028050739318132,-0.017919745296240,-0.080419450998306,-0.057968895882368,0.030642529949546,-0.099587865173817,-0.282328009605408));
res += mul(Get(s3,0,0), float4x4(0.143063277006149,0.031517527997494,-0.148637205362320,0.021703410893679,0.040811471641064,-0.085114873945713,0.024585515260696,-0.058726172894239,-0.042116537690163,0.017930559813976,-0.082774437963963,-0.073990784585476,0.129444614052773,0.291924983263016,-0.051235996186733,0.050537496805191));
res += mul(Get(s3,0,dy), float4x4(0.086639650166035,0.022282483056188,0.140104681253433,-0.041081424802542,-0.123623415827751,0.141919806599617,0.155826792120934,-0.200603619217873,-0.072389565408230,0.001966816140339,-0.039269834756851,-0.083889394998550,0.028120677918196,-0.022216426208615,-0.051459986716509,0.021082350984216));
res += mul(Get(s3,dx,-dy), float4x4(0.021743763238192,-0.052523821592331,0.112579017877579,-0.020522758364677,-0.037023749202490,-0.159253269433975,0.218382239341736,-0.010949068702757,0.032719664275646,0.121578410267830,-0.260954827070236,-0.190586641430855,0.041585706174374,0.089680999517441,-0.015508411452174,-0.111684493720531));
res += mul(Get(s3,dx,0), float4x4(-0.175920888781548,-0.044799860566854,-0.014778344891965,-0.184398934245110,-0.102510817348957,-0.054864302277565,0.019288040697575,-0.023200705647469,0.234936401247978,0.032583087682724,-0.049822818487883,0.162033289670944,-0.003261653706431,0.013464544899762,0.077701181173325,-0.130569100379944));
res += mul(Get(s3,dx,dy), float4x4(-0.032794341444969,-0.091098956763744,-0.077928803861141,-0.079493492841721,0.098996013402939,-0.241183593869209,0.036118354648352,-0.156856566667557,0.102680131793022,-0.121205151081085,0.132160291075706,-0.262748748064041,-0.092710226774216,-0.020297382026911,0.011376288719475,-0.102089412510395));
return max(float4(0,0,0,0), res);
}
