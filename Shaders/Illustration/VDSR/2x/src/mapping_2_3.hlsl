sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.241401940584183,-0.043714847415686,0.034619878977537,-0.030569169670343,0.014565559104085,0.017359748482704,-0.140441432595253,-0.045716702938080,0.099363394081593,-0.046035122126341,-0.033252820372581,-0.004063305910677,-0.100514918565750,0.161294907331467,-0.099321864545345,0.083736285567284));
res += mul(Get(s0,-dx,0), float4x4(0.039498392492533,0.028869595378637,-0.090037569403648,0.049774751067162,-0.104880101978779,-0.077808417379856,-0.054312746971846,-0.050393089652061,-0.025217790156603,-0.105133734643459,-0.075034782290459,-0.042381715029478,-0.027673440054059,0.100071288645267,0.037033952772617,-0.061708483844995));
res += mul(Get(s0,-dx,dy), float4x4(0.091090381145477,-0.034914106130600,0.043721653521061,0.040142685174942,0.054411932826042,0.011554280295968,-0.006033326964825,0.011520707979798,0.020455721765757,0.128767654299736,-0.056544072926044,-0.034742902964354,-0.059241507202387,-0.087002418935299,-0.041826568543911,0.060496449470520));
res += mul(Get(s0,0,-dy), float4x4(-0.014893648214638,0.036085084080696,-0.019550826400518,-0.157801553606987,0.112640164792538,0.021258227527142,0.022707182914019,-0.013378828763962,0.112958595156670,-0.117104873061180,-0.067684970796108,-0.036064609885216,-0.115309298038483,0.077605582773685,-0.008247770369053,-0.001976395491511));
res += mul(Get(s0,0,0), float4x4(-0.138601079583168,0.009908840060234,-0.109630994498730,-0.025337813422084,0.060575462877750,-0.071226939558983,-0.192025780677795,-0.084878519177437,0.099058896303177,-0.066511653363705,-0.028534328565001,-0.022501925006509,-0.083920158445835,-0.010811626911163,0.022605882957578,-0.102364704012871));
res += mul(Get(s0,0,dy), float4x4(-0.015985060483217,-0.170358821749687,-0.026809280738235,-0.075566627085209,0.049867160618305,0.159330889582634,0.237740918993950,0.034720908850431,0.019170634448528,0.051311403512955,0.014539275318384,-0.020715801045299,-0.118934422731400,-0.058618225157261,-0.056914519518614,0.044840108603239));
res += mul(Get(s0,dx,-dy), float4x4(-0.171568781137466,0.012072635814548,-0.044680502265692,0.071718305349350,0.087379962205887,0.266261011362076,0.106752462685108,0.153165683150291,-0.012081510387361,-0.047773301601410,-0.069455765187740,0.031631633639336,0.013026334345341,0.060686185956001,-0.104529984295368,-0.094882354140282));
res += mul(Get(s0,dx,0), float4x4(0.064833708107471,-0.043325141072273,-0.040819514542818,0.117327578365803,0.103694163262844,0.048523128032684,0.111500121653080,-0.010080702602863,0.096381060779095,-0.029019922018051,0.020751547068357,-0.032323986291885,-0.134166166186333,-0.078114919364452,-0.055153567343950,-0.069098129868507));
res += mul(Get(s0,dx,dy), float4x4(0.007909297011793,-0.083680287003517,-0.020036857575178,0.004110172390938,0.055744022130966,-0.227478623390198,0.082845307886600,0.049165803939104,-0.043713487684727,0.007583766710013,-0.046554867178202,-0.027903452515602,-0.075976967811584,-0.046078760176897,-0.074745379388332,-0.059442427009344));
res += mul(Get(s1,-dx,-dy), float4x4(-0.050759937614202,-0.032063379883766,-0.017825754359365,-0.042001586407423,0.000000323227908,-0.000001940131142,-0.000000287840834,-0.000000130764221,0.039796136319637,-0.000869021750987,-0.007320457138121,0.077555090188980,-0.006918572355062,-0.154456749558449,0.093607977032661,-0.012055499479175));
res += mul(Get(s1,-dx,0), float4x4(-0.096408531069756,0.003261999692768,-0.025135237723589,-0.046488054096699,0.000000517040121,0.000001148570163,0.000000216837705,0.000002367105481,0.035840753465891,0.032254561781883,-0.017182780429721,0.125036954879761,0.507582664489746,-0.001397473271936,0.140241190791130,-0.115210674703121));
res += mul(Get(s1,-dx,dy), float4x4(-0.054159346967936,0.008537267334759,0.010657050646842,-0.045516587793827,-0.000001027817575,0.000001326281904,-0.000001496216555,-0.000002831429811,0.019074719399214,0.046255540102720,0.019219389185309,0.114177592098713,0.120099365711212,0.067508459091187,-0.056678947061300,-0.113986492156982));
res += mul(Get(s1,0,-dy), float4x4(0.032795902341604,0.088281720876694,0.033621363341808,-0.019789166748524,0.000000848146215,-0.000000750533957,-0.000002330817097,0.000001946049451,-0.065059430897236,0.063431344926357,-0.010348769836128,-0.094757027924061,-0.123734407126904,0.192218035459518,0.318547487258911,0.013494119979441));
res += mul(Get(s1,0,0), float4x4(-0.032669410109520,0.087027795612812,-0.020282128825784,-0.024169107899070,-0.000001689637884,-0.000000682337316,0.000000590318621,-0.000001343336180,-0.083398856222630,0.123604029417038,0.021108973771334,-0.029050145298243,-0.157516255974770,0.078768774867058,0.032832611352205,0.021574847400188));
res += mul(Get(s1,0,dy), float4x4(0.045388478785753,-0.040422942489386,-0.107779651880264,-0.019708300009370,-0.000001001826263,-0.000000933292540,-0.000001582174718,-0.000000797900157,-0.083502292633057,0.076563566923141,0.004296502564102,-0.041415076702833,-0.087514385581017,-0.090745918452740,-0.227172836661339,0.040867719799280));
res += mul(Get(s1,dx,-dy), float4x4(0.098714888095856,0.053505748510361,0.099139243364334,0.174685031175613,0.000000447196157,-0.000002420377314,-0.000000661529043,0.000001176824412,0.060570538043976,-0.040495231747627,0.031959757208824,-0.082415178418159,-0.052325803786516,-0.165844470262527,0.069965496659279,0.032953303307295));
res += mul(Get(s1,dx,0), float4x4(0.062242530286312,0.086929954588413,0.023278638720512,0.161947920918465,-0.000000830763099,-0.000000025669395,-0.000004962953881,-0.000001911552545,-0.018570285290480,-0.067303903400898,-0.030008442699909,-0.005746628157794,-0.300824284553528,-0.148277342319489,-0.221417859196663,-0.007302942685783));
res += mul(Get(s1,dx,dy), float4x4(0.036928642541170,0.110944606363773,-0.016496570780873,0.143919825553894,0.000000614116686,0.000002408399496,-0.000003420861049,0.000000046257366,0.038545250892639,-0.046802531927824,-0.032189678400755,-0.014279132708907,-0.008827809244394,0.001879077288322,-0.202072173357010,-0.039391320198774));
res += mul(Get(s2,-dx,-dy), float4x4(-0.041856441646814,-0.005964861717075,-0.028919028118253,0.062834441661835,-0.012957420200109,0.067799367010593,0.007352126296610,-0.027665192261338,-0.100861750543118,0.063318036496639,0.008050844073296,0.027848107740283,0.025697300210595,0.013455083593726,0.047804199159145,0.000594705867115));
res += mul(Get(s2,-dx,0), float4x4(-0.092779219150543,-0.047820042818785,-0.082623399794102,-0.015184006653726,0.053462009876966,-0.062806777656078,-0.115589030086994,-0.030443305149674,-0.037814356386662,-0.007895500399172,-0.033591061830521,0.013442496769130,-0.032603804022074,-0.006756050977856,0.078191474080086,-0.001893784850836));
res += mul(Get(s2,-dx,dy), float4x4(-0.016909353435040,-0.003998256288469,0.025418315082788,-0.021144272759557,0.073092162609100,0.027833094820380,-0.048617679625750,0.119768619537354,-0.048748396337032,0.043386314064264,-0.049273878335953,0.012622391805053,-0.024201005697250,0.022227166220546,0.055043321102858,-0.017890511080623));
res += mul(Get(s2,0,-dy), float4x4(-0.030606992542744,-0.021520419046283,-0.056507512927055,-0.006191037129611,-0.045925352722406,0.004603431560099,-0.021761331707239,-0.034249577671289,-0.067021556198597,0.030426297336817,-0.010675546713173,-0.009514687582850,-0.036567587405443,0.101573303341866,-0.003522487590089,0.016161456704140));
res += mul(Get(s2,0,0), float4x4(-0.095341138541698,-0.029375225305557,-0.038832403719425,0.008235821500421,-0.106208175420761,-0.132506906986237,-0.094398438930511,-0.082057826220989,-0.091774612665176,-0.043215762823820,-0.049027319997549,-0.029437152668834,-0.085079997777939,-0.027140557765961,-0.057272221893072,0.015991270542145));
res += mul(Get(s2,0,dy), float4x4(-0.056099228560925,0.047164831310511,0.000520360597875,0.008518524467945,0.062533691525459,0.116320818662643,0.093269370496273,-0.024480508640409,-0.105714090168476,-0.011289995163679,-0.123327702283859,-0.006314520724118,-0.060314770787954,-0.019903143867850,-0.042262837290764,-0.014466198161244));
res += mul(Get(s2,dx,-dy), float4x4(0.029134752228856,-0.023895828053355,-0.065810576081276,-0.046193666756153,0.041169092059135,0.095132924616337,-0.009654941968620,-0.025220090523362,0.021744364872575,0.019280152395368,0.018476808443666,0.007706426549703,0.035222850739956,-0.003574116621166,-0.003574264002964,0.030326725915074));
res += mul(Get(s2,dx,0), float4x4(-0.133963719010353,-0.029585512354970,-0.016203479841352,-0.008631141856313,-0.114428043365479,-0.001296112313867,0.130895271897316,-0.053314559161663,-0.044878758490086,0.011075580492616,-0.004029160831124,0.003124476177618,-0.037456039339304,-0.038149025291204,-0.034859508275986,0.000009953415429));
res += mul(Get(s2,dx,dy), float4x4(-0.060466855764389,0.026619197800756,0.014827170409262,-0.011835435405374,0.008797866292298,0.083581261336803,0.124675385653973,0.004839153494686,0.015366036444902,0.089212760329247,0.052528839558363,-0.009440366178751,0.002546839183196,0.042378161102533,0.017779467627406,-0.030378920957446));
res += mul(Get(s3,-dx,-dy), float4x4(0.036607697606087,0.026340005919337,0.026767320930958,-0.019017789512873,0.000000320397305,-0.000001684467748,0.000000559879595,0.000000668739915,0.063383102416992,-0.003851773217320,-0.024493595585227,0.052052132785320,0.043744817376137,0.088411606848240,-0.005393818486482,-0.135004401206970));
res += mul(Get(s3,-dx,0), float4x4(0.018572021275759,0.013770592398942,0.005568880587816,-0.012758816592395,0.000001355714858,0.000000019365544,0.000003631154414,0.000000788289924,0.173212915658951,0.014825744554400,-0.012366733513772,-0.051960553973913,0.000282697059447,-0.018576905131340,-0.046714819967747,-0.050843782722950));
res += mul(Get(s3,-dx,dy), float4x4(0.045056078583002,-0.018554037436843,0.020316386595368,-0.016406230628490,0.000001353881316,-0.000000412869298,-0.000000946045759,-0.000000308376940,0.073385342955589,-0.033827554434538,0.047015648335218,-0.038889735937119,-0.000348821631633,-0.018890779465437,0.044571209698915,0.105199128389359));
res += mul(Get(s3,0,-dy), float4x4(-0.002182573080063,0.031072529032826,-0.029196396470070,-0.036023169755936,-0.000002368384685,-0.000000409890674,0.000003083024694,0.000002551305442,0.094142742455006,0.006588859017938,-0.059465922415257,0.109722740948200,-0.058270081877708,0.070569165050983,0.061077520251274,-0.038488119840622));
res += mul(Get(s3,0,0), float4x4(-0.132360503077507,-0.040477879345417,-0.051431544125080,-0.029263334348798,-0.000003523735359,0.000001623481012,-0.000000604865534,-0.000001986493317,0.108382545411587,-0.016304969787598,-0.058107860386372,-0.030222397297621,-0.031885765492916,0.006766797509044,0.083729758858681,-0.030252380296588));
res += mul(Get(s3,0,dy), float4x4(-0.057555817067623,-0.036306273192167,-0.028547504916787,-0.037175949662924,-0.000000482820269,0.000000068527115,-0.000000559808484,-0.000001135187745,-0.030897768214345,-0.031865090131760,0.021120108664036,-0.035741031169891,0.042945347726345,-0.010478025302291,0.022427914664149,0.206984132528305));
res += mul(Get(s3,dx,-dy), float4x4(0.105142846703529,-0.042954280972481,0.042023994028568,0.007138418033719,0.000003125300736,0.000002420618557,0.000000743127771,-0.000000438690563,0.083547011017799,0.020648883655667,-0.110454335808754,0.116244308650494,0.002815318992361,-0.138207554817200,-0.051603376865387,-0.062145955860615));
res += mul(Get(s3,dx,0), float4x4(-0.000635368633084,-0.038047339767218,-0.015271548181772,0.004889362957329,0.000000979773631,-0.000000403534926,0.000001081317919,-0.000000371167175,-0.074081182479858,-0.012467342428863,-0.057731729000807,-0.014956459403038,-0.010607003234327,-0.049973305314779,0.108396932482719,-0.073070399463177));
res += mul(Get(s3,dx,dy), float4x4(-0.030951611697674,-0.010410197079182,-0.005932495463639,0.002673676004633,0.000000565942400,-0.000000417760845,0.000000801681551,-0.000000619369359,-0.058182295411825,-0.030312821269035,0.004604919347912,-0.046124905347824,0.005924248136580,0.037342146039009,0.047670230269432,-0.083947010338306));
return max(float4(0,0,0,0), res);
}
