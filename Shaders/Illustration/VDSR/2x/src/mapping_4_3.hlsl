sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.079241447150707,0.047041315585375,0.118335500359535,-0.038222655653954,-0.022209668532014,0.009282383136451,-0.131080687046051,-0.029945956543088,-0.080407224595547,0.020517112687230,-0.092765040695667,-0.028666801750660,0.112703159451485,-0.007005857303739,0.010891223326325,0.112122565507889));
res += mul(Get(s0,-dx,0), float4x4(0.045863084495068,-0.128155753016472,0.171821892261505,-0.062077194452286,-0.148665368556976,0.278151571750641,-0.089612185955048,0.005695916712284,-0.143474847078323,-0.129207119345665,0.127791821956635,0.149421021342278,0.019609816372395,-0.058871909976006,0.026316707953811,0.034667309373617));
res += mul(Get(s0,-dx,dy), float4x4(-0.095316365361214,-0.017562950029969,0.001133625628427,-0.097205124795437,-0.036919057369232,0.063452959060669,-0.223660975694656,-0.090546436607838,-0.174712523818016,0.007264706771821,-0.134892836213112,0.149541556835175,0.119374059140682,-0.006768814753741,0.090336099267006,0.043542645871639));
res += mul(Get(s0,0,-dy), float4x4(0.025253271684051,0.017124408856034,-0.025515589863062,-0.087141864001751,-0.004432707559317,-0.005197445861995,0.015599369071424,0.053065232932568,0.093510136008263,0.029572587460279,-0.088161237537861,-0.210154443979263,-0.019516495987773,-0.003738324623555,-0.066988281905651,0.080327950417995));
res += mul(Get(s0,0,0), float4x4(0.128603830933571,0.010196954943240,-0.156435102224350,-0.092016793787479,-0.018525654450059,0.044050041586161,0.081785760819912,0.037026863545179,-0.108535058796406,-0.015327424742281,0.014270650222898,0.183590084314346,0.034714873880148,0.036121081560850,-0.101075686514378,-0.072085775434971));
res += mul(Get(s0,0,dy), float4x4(0.024928076192737,0.019077243283391,0.182678237557411,-0.078817740082741,-0.099704705178738,-0.048132929950953,-0.234584048390388,0.068325825035572,-0.021146165207028,0.015911202877760,-0.063308179378510,-0.007315822876990,0.216663017868996,0.078859835863113,-0.052378583699465,-0.056544046849012));
res += mul(Get(s0,dx,-dy), float4x4(0.087292753160000,-0.024644151329994,-0.036050189286470,0.007990907877684,0.128644213080406,-0.065634660422802,-0.124218188226223,0.027895789593458,0.103505514562130,-0.032288983464241,-0.088378988206387,-0.114879198372364,-0.003421805799007,-0.033745173364878,-0.135490059852600,0.023187652230263));
res += mul(Get(s0,dx,0), float4x4(-0.012716699391603,-0.020479774102569,0.079103298485279,-0.046853855252266,0.084559068083763,0.018352467566729,0.129816800355911,0.071801915764809,0.051029089838266,-0.065997622907162,-0.000685850041918,-0.022359620779753,-0.033438038080931,0.043795004487038,-0.020071810111403,0.035654846578836));
res += mul(Get(s0,dx,dy), float4x4(0.154547393321991,-0.168315351009369,0.204186394810677,-0.133293211460114,-0.207003265619278,0.000997960101813,-0.154941394925117,0.079494945704937,0.074008122086525,-0.073425799608231,-0.048969283699989,-0.079461403191090,0.091596469283104,0.071998298168182,0.088638886809349,0.053237810730934));
res += mul(Get(s1,-dx,-dy), float4x4(0.040742203593254,-0.046440534293652,-0.191910594701767,0.038903452455997,-0.050371788442135,0.092819377779961,-0.120235212147236,-0.053351871669292,-0.011941716074944,-0.020925380289555,0.040724057704210,-0.012934662401676,0.182218030095100,-0.053998317569494,0.111415788531303,0.107743099331856));
res += mul(Get(s1,-dx,0), float4x4(-0.044154867529869,-0.047961432486773,-0.170033678412437,0.141775354743004,-0.041338384151459,0.147803112864494,-0.096902683377266,-0.131659582257271,0.245762676000595,0.005744412075728,0.096241153776646,0.066729664802551,0.123714007437229,-0.072146892547607,0.014931683428586,-0.051119290292263));
res += mul(Get(s1,-dx,dy), float4x4(-0.054662942886353,-0.069217920303345,-0.076768904924393,-0.040751256048679,-0.254188656806946,0.101593524217606,0.020013721659780,0.038521282374859,-0.061090011149645,-0.016108090057969,0.093124642968178,-0.117264464497566,0.052538502961397,-0.063439749181271,0.093356795608997,0.025700781494379));
res += mul(Get(s1,0,-dy), float4x4(-0.006327947136015,0.072482615709305,-0.149278596043587,-0.091046482324600,-0.032052014023066,0.027741059660912,0.040071140974760,0.056064434349537,0.105873756110668,-0.049569774419069,0.121121987700462,-0.127348124980927,0.019853172823787,0.025064736604691,0.042022880166769,0.100840866565704));
res += mul(Get(s1,0,0), float4x4(-0.041512876749039,-0.016519902274013,-0.131285920739174,-0.006844741292298,-0.027191013097763,-0.022999165579677,-0.030380040407181,-0.135470420122147,0.004188127350062,-0.112984232604504,0.067337237298489,0.094576455652714,-0.150622904300690,0.085116907954216,-0.041540477424860,-0.047525294125080));
res += mul(Get(s1,0,dy), float4x4(0.015278959646821,-0.171181574463844,-0.003548620268703,-0.130220755934715,-0.108093775808811,0.051408007740974,0.099390447139740,0.121089279651642,-0.081784568727016,-0.012778541073203,0.095345944166183,0.148425132036209,0.018923310562968,-0.120970584452152,-0.041048213839531,-0.050905402749777));
res += mul(Get(s1,dx,-dy), float4x4(0.063958965241909,0.039670825004578,-0.046936158090830,-0.104968503117561,-0.015770573168993,-0.023599410429597,-0.150977790355682,0.025976365432143,-0.111858882009983,-0.034260444343090,-0.016996394842863,-0.137578815221786,0.109328761696815,-0.039160922169685,-0.014379868283868,0.110718332231045));
res += mul(Get(s1,dx,0), float4x4(0.004049495328218,-0.019789967685938,-0.101431928575039,-0.011774227954447,0.110412605106831,-0.000563822395634,-0.068586453795433,-0.138245210051537,-0.099908880889416,-0.052650332450867,-0.029358712956309,-0.018194530159235,-0.202361747622490,-0.027080280706286,-0.018095796927810,0.160594925284386));
res += mul(Get(s1,dx,dy), float4x4(-0.064818464219570,-0.163722038269043,0.002789980964735,-0.136035054922104,0.036270435899496,0.007725383155048,-0.104611597955227,0.058481290936470,-0.132563501596451,-0.071433730423450,-0.018029179424047,-0.129704728722572,-0.008207145147026,-0.077322125434875,0.022278737276793,0.025065464898944));
res += mul(Get(s2,-dx,-dy), float4x4(0.006437719333917,-0.079103380441666,-0.033761639147997,0.030311370268464,-0.066623397171497,0.011740522459149,-0.047319535166025,-0.106959037482738,0.160993292927742,0.095452919602394,-0.063469842076302,0.104957453906536,-0.007699880283326,-0.022196689620614,-0.109607703983784,0.001246169675142));
res += mul(Get(s2,-dx,0), float4x4(-0.038360126316547,0.013607062399387,0.097430229187012,-0.087526448071003,-0.173799410462379,0.082491412758827,-0.057110838592052,-0.241203680634499,0.063523232936859,0.000021667865440,-0.030453326180577,0.038376756012440,0.058533553034067,-0.014110326766968,-0.158545807003975,0.049907166510820));
res += mul(Get(s2,-dx,dy), float4x4(0.054238975048065,-0.008646560832858,-0.001629418926314,0.127912759780884,-0.146979406476021,-0.036870695650578,-0.000737123249564,-0.087200477719307,0.059920139610767,-0.026992585510015,0.043171912431717,0.115162253379822,0.063919425010681,0.193370088934898,-0.133889138698578,-0.054951090365648));
res += mul(Get(s2,0,-dy), float4x4(0.080233298242092,-0.111493632197380,-0.049610264599323,0.029832506552339,-0.061100896447897,-0.062351815402508,0.178034812211990,0.033640235662460,0.006134244613349,-0.021485103294253,0.082716435194016,0.022187873721123,0.138282731175423,0.091408595442772,0.080870315432549,0.088334746658802));
res += mul(Get(s2,0,0), float4x4(0.024814734235406,0.090605586767197,-0.013260991312563,-0.108208321034908,-0.157528162002563,0.045790962874889,-0.126474127173424,0.104215912520885,-0.011015032418072,-0.074754245579243,-0.047019220888615,-0.025864576920867,0.135924950242043,0.118773266673088,0.113815173506737,-0.059595581144094));
res += mul(Get(s2,0,dy), float4x4(0.088203988969326,-0.055823791772127,0.147804588079453,-0.005828711204231,-0.123845629394054,-0.123028084635735,-0.079782009124756,0.048286799341440,-0.146073877811432,-0.079247698187828,0.003703499678522,0.047581341117620,-0.059829793870449,-0.033937510102987,-0.074384570121765,-0.008075558580458));
res += mul(Get(s2,dx,-dy), float4x4(-0.047634784132242,-0.066028781235218,-0.075648151338100,0.088695026934147,0.024347767233849,-0.037784341722727,0.094299271702766,-0.022854981943965,-0.038632780313492,-0.087671808898449,0.331213682889938,0.027248656377196,0.055424302816391,0.042814161628485,0.067185014486313,0.016546500846744));
res += mul(Get(s2,dx,0), float4x4(-0.023310866206884,0.049539275467396,-0.096067868173122,-0.002865883288905,-0.155675783753395,0.097055010497570,0.034947901964188,0.154660567641258,-0.058705344796181,-0.000650495523587,0.130300596356392,-0.061323959380388,0.082120098173618,-0.073139637708664,0.158856198191643,-0.091594606637955));
res += mul(Get(s2,dx,dy), float4x4(0.135135829448700,0.031136609613895,-0.057560458779335,0.103488177061081,-0.052674144506454,-0.092667363584042,-0.027754371985793,-0.000517986307386,-0.141944751143456,-0.013451683335006,0.006043996196240,-0.004119285847992,-0.060100637376308,0.057624123990536,-0.126314848661423,-0.019496610388160));
res += mul(Get(s3,-dx,-dy), float4x4(-0.129477187991142,0.152041539549828,0.035724539309740,-0.255034148693085,0.047661993652582,0.220349445939064,-0.130372688174248,-0.001855207141489,0.005263954401016,-0.051840312778950,-0.051169790327549,0.039402682334185,-0.085698373615742,0.063610740005970,0.051310393959284,0.176143810153008));
res += mul(Get(s3,-dx,0), float4x4(-0.167366206645966,0.077190607786179,0.026710443198681,-0.165212318301201,-0.061725698411465,0.015509089455009,0.357433050870895,0.083491645753384,0.053942352533340,0.153190180659294,-0.060773171484470,0.110419914126396,-0.072744309902191,-0.070648401975632,-0.018399279564619,0.038346845656633));
res += mul(Get(s3,-dx,dy), float4x4(-0.182672888040543,0.232383087277412,0.036238037049770,-0.021022208034992,0.121154218912125,0.023450469598174,0.100241929292679,0.091101765632629,0.016819085925817,0.065566524863243,-0.055815938860178,0.036918416619301,-0.077501572668552,-0.039281178265810,0.043440885841846,0.050037328153849));
res += mul(Get(s3,0,-dy), float4x4(-0.070570446550846,0.053356621414423,0.169779703021049,-0.134886369109154,0.148429319262505,0.004718542564660,-0.078178122639656,-0.018859967589378,0.061209801584482,-0.043988056480885,0.158932015299797,0.054101910442114,-0.105550669133663,0.053913131356239,0.051386985927820,-0.001760874409229));
res += mul(Get(s3,0,0), float4x4(-0.140760734677315,0.079941459000111,0.022317964583635,-0.109516568481922,-0.040901545435190,-0.034563366323709,0.041277255862951,0.005363843403757,-0.004714443814009,0.003428089665249,0.051365178078413,-0.043317411094904,-0.033116262406111,-0.033325020223856,-0.088985346257687,-0.095977574586868));
res += mul(Get(s3,0,dy), float4x4(-0.120183005928993,0.165476873517036,-0.010645573958755,0.011287475936115,-0.047572679817677,-0.000296789919958,-0.024241477251053,-0.109944693744183,-0.075943343341351,-0.148703992366791,-0.179380401968956,0.023700522258878,-0.038078956305981,-0.002260528970510,0.001696568913758,-0.038909114897251));
res += mul(Get(s3,dx,-dy), float4x4(-0.085126526653767,0.011752458289266,-0.033103335648775,-0.177103593945503,0.049015130847692,0.065342187881470,-0.058514982461929,-0.042215984314680,0.092029117047787,-0.019261682406068,-0.062667258083820,0.016949707642198,-0.116624705493450,-0.024493871256709,-0.043376758694649,0.093038715422153));
res += mul(Get(s3,dx,0), float4x4(-0.206018596887589,-0.084561504423618,-0.087525725364685,-0.069551393389702,0.023429881781340,0.008984149433672,-0.146393865346909,-0.041682168841362,-0.112509675323963,-0.073898278176785,0.065003268420696,-0.002090126276016,-0.040461387485266,-0.056394178420305,-0.098553188145161,0.128189817070961));
res += mul(Get(s3,dx,dy), float4x4(-0.067742042243481,-0.061329305171967,0.019105052575469,0.044070508331060,-0.101100355386734,0.026733167469501,-0.054793220013380,0.022725721821189,-0.087847590446472,-0.051397074013948,0.018964992836118,-0.004687679931521,-0.020025460049510,-0.104998484253883,-0.083428226411343,0.187375307083130));
return max(float4(0,0,0,0), res);
}
