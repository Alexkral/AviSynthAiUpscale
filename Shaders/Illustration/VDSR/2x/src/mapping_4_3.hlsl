sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.206481769680977,0.039948623627424,0.267231732606888,-0.062255669385195,0.030023403465748,-0.123975694179535,0.026350283995271,-0.120288051664829,0.062461610883474,0.012035178951919,-0.145720869302750,0.158190190792084,0.076326213777065,-0.177243366837502,-0.068771742284298,-0.106925554573536));
res += mul(Get(s0,-dx,0), float4x4(-0.075588479638100,-0.084900878369808,0.176553770899773,-0.007348366081715,-0.210544303059578,0.156611591577530,0.082294955849648,-0.172890588641167,0.277405023574829,0.051339484751225,0.105960145592690,-0.101146377623081,0.038502193987370,0.050441060215235,-0.101404391229153,-0.065723948180676));
res += mul(Get(s0,-dx,dy), float4x4(-0.085675276815891,0.032523028552532,0.045652598142624,0.239361286163330,0.216848507523537,-0.173889502882957,0.069449685513973,-0.031855251640081,-0.200818553566933,-0.186436995863914,-0.045130379498005,0.084067441523075,0.056627914309502,0.046756662428379,0.104929313063622,0.024945845827460));
res += mul(Get(s0,0,-dy), float4x4(0.063762709498405,-0.024042109027505,0.094061747193336,0.098765783011913,0.042449943721294,-0.187797188758850,-0.114157684147358,-0.073867782950401,-0.097772389650345,-0.177700787782669,-0.154908910393715,-0.136757418513298,-0.083519496023655,0.113914571702480,-0.034633204340935,0.031891174614429));
res += mul(Get(s0,0,0), float4x4(0.116292513906956,-0.131594076752663,-0.180810064077377,0.105705700814724,0.193377807736397,0.062222313135862,0.049812521785498,0.086013108491898,-0.058426950126886,0.022667702287436,-0.094972826540470,0.067836605012417,-0.018968114629388,-0.037754137068987,0.118401154875755,-0.013669595122337));
res += mul(Get(s0,0,dy), float4x4(-0.101120404899120,-0.001288612722419,0.034376293420792,0.206696644425392,-0.028856748715043,-0.102095656096935,0.200888603925705,-0.069080881774426,0.024474281817675,-0.187978908419609,0.098958708345890,0.173341304063797,0.044939745217562,-0.136981114745140,0.176910057663918,0.041986051946878));
res += mul(Get(s0,dx,-dy), float4x4(0.022711288183928,-0.011646527796984,0.072220236063004,-0.085932701826096,-0.058665413409472,-0.086700029671192,-0.225603878498077,-0.013786382041872,-0.038744404911995,0.189220577478409,0.078861735761166,0.017252765595913,-0.041313055902719,-0.071054846048355,0.136904567480087,0.060097537934780));
res += mul(Get(s0,dx,0), float4x4(-0.098922669887543,-0.057579215615988,0.114804327487946,-0.049442660063505,-0.038768954575062,-0.092653885483742,-0.146876767277718,-0.082411989569664,0.057814899832010,0.032965529710054,0.015006726607680,-0.107976227998734,0.136928975582123,-0.055289674550295,0.068367704749107,0.036640945822001));
res += mul(Get(s0,dx,dy), float4x4(0.013865115121007,-0.002416975097731,0.180346414446831,-0.071399658918381,0.062273547053337,0.066450461745262,-0.152700260281563,0.049030974507332,-0.138923525810242,0.130605846643448,-0.157473504543304,0.178724095225334,-0.023545878008008,-0.032468229532242,-0.113237507641315,0.092978678643703));
res += mul(Get(s1,-dx,-dy), float4x4(-0.003825602121651,-0.044987697154284,0.181362256407738,-0.072350591421127,-0.032958906143904,0.047457922250032,0.071051381528378,0.003203486325219,-0.031220080330968,-0.015400379896164,0.031901612877846,0.017036445438862,-0.048573039472103,-0.093746371567249,-0.011404877528548,-0.232677102088928));
res += mul(Get(s1,-dx,0), float4x4(0.127914145588875,-0.004541105590761,-0.112524777650833,-0.048308096826077,0.005219202023000,-0.070600531995296,0.045457929372787,-0.065394438803196,-0.103976577520370,-0.105975791811943,0.120034858584404,-0.044876426458359,0.051305338740349,0.072251006960869,0.015381383709610,-0.234402343630791));
res += mul(Get(s1,-dx,dy), float4x4(-0.021311616525054,0.174221888184547,-0.046507671475410,-0.006986611522734,0.247774958610535,-0.009054129011929,0.003285290207714,-0.164229124784470,0.090753160417080,0.281946212053299,-0.025416912510991,0.104224584996700,-0.186519458889961,0.024193605408072,-0.027746565639973,-0.196325868368149));
res += mul(Get(s1,0,-dy), float4x4(0.123390927910805,-0.098629027605057,-0.026548454537988,-0.099416360259056,0.173115655779839,-0.010839257389307,0.050399988889694,-0.054405264556408,-0.004134186543524,0.003885699901730,-0.056098636239767,-0.060373917222023,0.111125923693180,-0.040159497410059,0.065616071224213,-0.083831727504730));
res += mul(Get(s1,0,0), float4x4(-0.114775568246841,-0.091213673353195,0.068881370127201,-0.088693849742413,-0.019973305985332,0.031668808311224,0.071375235915184,-0.048337046056986,0.116413734853268,-0.009876369498670,0.153756737709045,-0.075848713517189,-0.124305613338947,0.098607085645199,-0.112708568572998,0.174755886197090));
res += mul(Get(s1,0,dy), float4x4(-0.043749224394560,0.145114094018936,0.026323439553380,0.018243167549372,0.042681973427534,-0.130570486187935,-0.027273586019874,0.126694053411484,-0.092443868517876,-0.023897873237729,0.064670480787754,0.065509103238583,-0.239067822694778,-0.037984799593687,0.063675686717033,-0.118423067033291));
res += mul(Get(s1,dx,-dy), float4x4(0.068740144371986,0.230997964739799,-0.153137862682343,-0.005619747564197,0.132818028330803,0.022343670949340,-0.064125619828701,0.107842400670052,0.122643411159515,-0.014125860296190,-0.058616146445274,-0.048158496618271,0.123457603156567,0.067655995488167,-0.247384279966354,0.102650955319405));
res += mul(Get(s1,dx,0), float4x4(-0.091846913099289,-0.092431478202343,-0.147635310888290,0.101139038801193,0.006870835553855,-0.042439125478268,-0.048772249370813,0.065058685839176,-0.121422596275806,0.119288325309753,0.140037208795547,-0.098607815802097,0.069085478782654,-0.043135732412338,0.007507554721087,0.313840419054031));
res += mul(Get(s1,dx,dy), float4x4(-0.043631635606289,-0.197600111365318,-0.173897832632065,0.033810928463936,-0.225320264697075,-0.148268491029739,0.131887242197990,0.079184159636497,0.146863490343094,-0.138497233390808,-0.015704602003098,-0.074933618307114,0.046058949083090,0.141553148627281,-0.116109982132912,-0.027365453541279));
res += mul(Get(s2,-dx,-dy), float4x4(0.016460498794913,0.083212934434414,0.051260467618704,-0.035252440720797,-0.000002248773853,-0.177733704447746,0.154612645506859,-0.070138633251190,0.022197499871254,-0.058203902095556,0.017197638750076,-0.101521208882332,0.056111279875040,-0.099735520780087,-0.097034215927124,0.158310770988464));
res += mul(Get(s2,-dx,0), float4x4(-0.000199505200726,0.073248982429504,-0.079107321798801,0.016933867707849,0.125829368829727,-0.115695521235466,-0.054239012300968,-0.105641037225723,0.187957301735878,-0.161857649683952,-0.041105765849352,-0.141911819577217,0.191078737378120,-0.070162191987038,-0.025320312008262,0.119027182459831));
res += mul(Get(s2,-dx,dy), float4x4(-0.125240266323090,-0.084706939756870,0.096109293401241,0.040506258606911,0.135930642485619,0.124844983220100,-0.058558735996485,-0.019606146961451,-0.041327986866236,-0.088913336396217,-0.034258991479874,-0.060001064091921,0.039711266756058,-0.148042649030685,0.095384217798710,-0.118167482316494));
res += mul(Get(s2,0,-dy), float4x4(-0.192578300833702,-0.043685626238585,-0.060603458434343,-0.074975162744522,0.045499842613935,-0.057342097163200,0.021038439124823,-0.038664311170578,-0.006947284098715,-0.193449556827545,0.174796387553215,0.023401232436299,0.020452611148357,-0.205026358366013,0.058911062777042,0.149889931082726));
res += mul(Get(s2,0,0), float4x4(-0.114227242767811,0.043374113738537,-0.066966935992241,-0.003122838679701,-0.067773602902889,-0.112610489130020,-0.020204806700349,-0.070918202400208,0.174035087227821,0.067277126014233,-0.030419064685702,0.041851513087749,0.237173482775688,-0.114944651722908,-0.008887969888747,0.136956319212914));
res += mul(Get(s2,0,dy), float4x4(-0.025432696565986,0.028948975726962,0.031887974590063,-0.046605441719294,0.019656723365188,-0.035620894283056,-0.152992963790894,-0.035127762705088,0.160995751619339,0.071764588356018,-0.081082493066788,0.034896101802588,-0.076143287122250,-0.162878304719925,0.090314328670502,-0.011617787182331));
res += mul(Get(s2,dx,-dy), float4x4(0.106615073978901,-0.141714781522751,-0.038724612444639,-0.057136673480272,0.006224721204489,0.111905574798584,0.041966192424297,0.167176857590675,0.024194622412324,0.077140137553215,0.060734402388334,0.108527578413486,-0.110299609601498,-0.000801288522780,-0.048457026481628,-0.159604445099831));
res += mul(Get(s2,dx,0), float4x4(0.031587481498718,0.030595516785979,-0.034349579364061,0.028969908133149,-0.208857655525208,0.032948069274426,-0.014078473672271,0.144956544041634,0.034476093947887,0.101753517985344,-0.024065328761935,-0.004999350756407,-0.035359103232622,-0.051032189279795,-0.060263350605965,0.279490172863007));
res += mul(Get(s2,dx,dy), float4x4(0.028574045747519,0.035813033580780,-0.058607723563910,0.107930436730385,-0.035138517618179,-0.220124036073685,0.019948458299041,0.169202670454979,0.137929052114487,0.102979645133018,-0.073371604084969,0.069575794041157,0.087452083826065,0.006770774722099,-0.007169202435762,0.050107523798943));
res += mul(Get(s3,-dx,-dy), float4x4(0.319457113742828,-0.093188203871250,0.078508742153645,0.058199465274811,0.087026827037334,-0.115912228822708,-0.081425450742245,-0.094659551978111,-0.069704309105873,-0.131176516413689,0.042092025279999,0.099476926028728,0.122005194425583,0.177197381854057,0.145386964082718,-0.034926626831293));
res += mul(Get(s3,-dx,0), float4x4(0.122088700532913,0.032600060105324,0.090796045958996,0.028259420767426,-0.273012578487396,-0.055898208171129,-0.151682376861572,0.016265207901597,-0.037484686821699,0.040703147649765,-0.121457472443581,0.005714666098356,0.148061111569405,0.030306907370687,0.065687224268913,0.131026297807693));
res += mul(Get(s3,-dx,dy), float4x4(-0.042382288724184,0.020161956548691,-0.028366854414344,0.058080367743969,0.051194474101067,-0.226322561502457,0.055961091071367,0.035275451838970,0.086063489317894,-0.123099185526371,-0.014990394935012,0.042107090353966,-0.010584085248411,0.069818295538425,0.078620970249176,0.063862234354019));
res += mul(Get(s3,0,-dy), float4x4(-0.009011588990688,-0.163394823670387,-0.177074089646339,0.300344467163086,0.047410327941179,0.159685775637627,-0.026913434267044,-0.039587829262018,-0.013327426277101,0.041542384773493,0.150726765394211,-0.086291134357452,0.098577760159969,-0.019090533256531,0.021598845720291,-0.116314090788364));
res += mul(Get(s3,0,0), float4x4(-0.036566741764545,-0.195952728390694,0.003693543141708,0.147882655262947,-0.198688849806786,-0.094130210578442,-0.092115454375744,0.094420045614243,-0.210501983761787,0.038894116878510,-0.022472213953733,0.009032567031682,0.035987619310617,0.087313033640385,-0.035003438591957,-0.200707495212555));
res += mul(Get(s3,0,dy), float4x4(0.024708420038223,-0.233147189021111,0.136255875229836,0.015286175534129,-0.100940451025963,0.036178432404995,0.159087881445885,-0.133427709341049,0.199358269572258,-0.013641894795001,0.178506180644035,-0.072831593453884,0.023819854483008,-0.180240899324417,-0.010740077123046,-0.137757867574692));
res += mul(Get(s3,dx,-dy), float4x4(-0.030266430228949,-0.064917922019958,0.118730939924717,0.179874658584595,-0.022516682744026,-0.171362906694412,0.126561060547829,0.046845875680447,-0.080273039638996,0.145488008856773,0.163687705993652,0.061917845159769,0.147662490606308,-0.112744376063347,0.041393138468266,-0.091973483562469));
res += mul(Get(s3,dx,0), float4x4(-0.099976323544979,0.007467703893781,0.060167659074068,-0.066801495850086,-0.061464339494705,-0.060983423143625,-0.051669411361217,-0.053008873015642,-0.179970964789391,-0.178055033087730,0.118259616196156,-0.125097721815109,0.051922716200352,-0.108720839023590,-0.082581147551537,-0.006225340068340));
res += mul(Get(s3,dx,dy), float4x4(-0.142757371068001,0.050591979175806,0.117134131491184,-0.120799265801907,0.118580706417561,0.090131103992462,0.030517311766744,0.066796697676182,0.050566539168358,0.050202894955873,0.015606361441314,-0.058484189212322,0.101657852530479,-0.114721290767193,0.010179854929447,0.052942279726267));
return max(float4(0,0,0,0), res);
}
