sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.039166782051325,0.102573573589325,0.006930470466614,0.022789195179939,-0.062027081847191,-0.153267100453377,0.011400897055864,0.140911266207695,0.008955112658441,-0.110206238925457,0.017196115106344,0.084695026278496,-0.003881111973897,-0.020649377256632,0.034625235944986,0.046831365674734));
res += mul(Get(s0,-dx,0), float4x4(0.025152981281281,0.002614063676447,0.059660688042641,-0.075494460761547,0.070382565259933,0.034331128001213,-0.006670200731605,0.224982023239136,0.081240639090538,-0.125633940100670,-0.017066167667508,0.030467249453068,-0.027747970074415,-0.004821278154850,-0.018334388732910,-0.048735596239567));
res += mul(Get(s0,-dx,dy), float4x4(-0.000960553705227,0.010533365420997,0.001147051807493,-0.035822052508593,0.051593199372292,0.006341908127069,-0.028472000733018,0.021624438464642,0.075061760842800,0.055261157453060,0.013264117762446,-0.001310072257183,0.058576084673405,-0.048299640417099,-0.042875275015831,0.004817507229745));
res += mul(Get(s0,0,-dy), float4x4(-0.093915775418282,0.024145251139998,-0.001774090225808,0.033199638128281,-0.108160182833672,-0.000279315951047,-0.023554947227240,-0.020926039665937,0.045634292066097,0.084514349699020,-0.050373412668705,-0.027755374088883,-0.022523427382112,-0.043933149427176,-0.060709573328495,0.008926723152399));
res += mul(Get(s0,0,0), float4x4(-0.062898412346840,0.009830548427999,-0.021117296069860,0.023705674335361,-0.121440164744854,0.065059028565884,-0.107705801725388,-0.001792828552425,0.040948357433081,-0.002981339115649,-0.034139856696129,-0.020098323002458,-0.078588739037514,0.003314163070172,-0.045083232223988,-0.018871184438467));
res += mul(Get(s0,0,dy), float4x4(0.022013211622834,0.022526314482093,0.018913572654128,-0.060097929090261,-0.012265723198652,-0.079263709485531,-0.021176377311349,0.138874828815460,-0.148247197270393,-0.036573585122824,-0.014357469975948,0.044236533343792,0.076424024999142,-0.051750954240561,0.001543116988614,0.103320047259331));
res += mul(Get(s0,dx,-dy), float4x4(-0.026985442265868,0.091842010617256,0.095821015536785,-0.058359738439322,0.054351139813662,0.069510489702225,-0.041498105973005,-0.062246296554804,-0.027097135782242,-0.053836349397898,-0.037832800298929,0.037745200097561,-0.014693662524223,-0.033334765583277,-0.000833261408843,-0.002154652029276));
res += mul(Get(s0,dx,0), float4x4(-0.093834586441517,0.037521980702877,-0.012224437668920,-0.099131889641285,0.219930291175842,0.234150201082230,0.065183952450752,-0.210384786128998,0.026634186506271,-0.003965011332184,-0.057665660977364,-0.037754651159048,-0.061372853815556,0.112528719007969,0.003149069380015,0.052259322255850));
res += mul(Get(s0,dx,dy), float4x4(0.040243044495583,0.065127737820148,0.038941830396652,0.059476327151060,0.195700541138649,0.173247084021568,-0.037613369524479,-0.080133244395256,-0.009742401540279,0.143357560038567,-0.008564930409193,-0.041741751134396,-0.066364452242851,0.046944629400969,-0.002556568710133,-0.001469721551985));
res += mul(Get(s1,-dx,-dy), float4x4(0.006513919681311,-0.104650057852268,-0.014228039421141,0.011144903488457,0.096454821527004,0.028198074549437,-0.053718306124210,-0.041454143822193,0.003535464638844,-0.021683717146516,-0.028411371633410,0.029381893575191,0.045104298740625,-0.033822756260633,-0.037395559251308,0.047426339238882));
res += mul(Get(s1,-dx,0), float4x4(0.034913469105959,-0.050879564136267,0.030357439070940,-0.031593654304743,-0.026524428278208,0.007561178412288,-0.004833399318159,-0.068226516246796,0.059857234358788,-0.135916054248810,-0.043494556099176,0.156938970088959,-0.075522176921368,0.034986902028322,-0.070919990539551,-0.014101438224316));
res += mul(Get(s1,-dx,dy), float4x4(-0.017344316467643,0.121891513466835,-0.006993401329964,-0.033885352313519,-0.026496993377805,0.014712569303811,0.005912684369832,0.033282235264778,0.043240092694759,-0.033257111907005,0.011232676915824,0.096581444144249,-0.012730855494738,-0.087349355220795,0.010049805045128,0.195408254861832));
res += mul(Get(s1,0,-dy), float4x4(-0.022264575585723,-0.059395641088486,0.005811728537083,0.063352346420288,0.010172395966947,0.030164064839482,0.006455133203417,-0.009834815748036,0.047508839517832,-0.071544706821442,0.021155405789614,0.062056858092546,-0.072576023638248,-0.075063280761242,-0.010247035883367,0.044531900435686));
res += mul(Get(s1,0,0), float4x4(-0.012869224883616,-0.096261449158192,-0.015776665881276,0.120868511497974,0.009948743507266,-0.030726645141840,-0.064458087086678,0.014440892264247,-0.002972282934934,0.069011040031910,0.002851092023775,-0.008639638312161,-0.002727204700932,0.108454652130604,0.048923049122095,-0.099462725222111));
res += mul(Get(s1,0,dy), float4x4(0.135120213031769,0.129070594906807,-0.004361859988421,-0.085753157734871,0.049049280583858,-0.013984407298267,0.064925380051136,-0.056522399187088,-0.049007106572390,-0.008125207386911,0.030066331848502,0.056456774473190,-0.002809701487422,0.142900928854942,-0.032248582690954,-0.200061380863190));
res += mul(Get(s1,dx,-dy), float4x4(-0.012314058840275,0.083721391856670,-0.012295168824494,0.002792604500428,0.012044301256537,0.014953684061766,0.034984719008207,-0.056689940392971,0.076867744326591,0.002401729812846,0.018588939681649,-0.100511774420738,-0.024284377694130,0.081167533993721,0.001646937103942,-0.019458167254925));
res += mul(Get(s1,dx,0), float4x4(-0.043188653886318,-0.012398843653500,-0.061698485165834,-0.127873957157135,0.045514732599258,-0.017220808193088,0.006832939106971,-0.016056122258306,0.075998649001122,0.065862841904163,0.011087439022958,-0.095084033906460,0.045866303145885,-0.030443510040641,-0.037377156317234,0.059946920722723));
res += mul(Get(s1,dx,dy), float4x4(0.033073354512453,0.068736575543880,-0.035194076597691,0.031596228480339,-0.001456985832192,-0.047022704035044,0.062058035284281,-0.023253249004483,-0.060480777174234,-0.043119367212057,0.000197934074095,0.050972897559404,0.077021308243275,0.064498759806156,-0.089692682027817,-0.016407907009125));
res += mul(Get(s2,-dx,-dy), float4x4(0.033657781779766,-0.144419476389885,0.030846858397126,0.200007349252701,0.050637733191252,0.082602083683014,0.034851446747780,-0.084428869187832,0.024536738172174,0.068670436739922,0.005623778793961,0.014526330865920,0.008357146754861,-0.001263660145923,-0.009664962999523,0.031906321644783));
res += mul(Get(s2,-dx,0), float4x4(0.037607703357935,-0.060227315872908,-0.059485342353582,-0.006179701536894,0.049526367336512,0.018035763874650,0.033155046403408,0.028466926887631,0.020038537681103,0.095594242215157,0.057956594973803,-0.045324444770813,-0.009234245866537,-0.058638930320740,-0.064949586987495,-0.003172512864694));
res += mul(Get(s2,-dx,dy), float4x4(0.124148279428482,0.017822539433837,0.024718904867768,-0.034525156021118,-0.068355143070221,-0.069769859313965,0.072064183652401,0.033231016248465,0.038550827652216,0.141685023903847,-0.009150777943432,-0.137904450297356,-0.054943874478340,0.022032679989934,-0.067697875201702,-0.084863640367985));
res += mul(Get(s2,0,-dy), float4x4(-0.007820772938430,-0.020976232364774,-0.049344431608915,0.191263571381569,-0.048614576458931,0.003550152992830,-0.019813833758235,0.086254045367241,0.061420306563377,0.060649860650301,0.012938956730068,0.093477487564087,0.008785695768893,-0.054766181856394,-0.034923870116472,0.072431929409504));
res += mul(Get(s2,0,0), float4x4(-0.117800101637840,-0.176111951470375,-0.102514714002609,0.297561764717102,0.015232780948281,0.052353497594595,-0.023101132363081,0.061270002275705,-0.042436391115189,-0.178708940744400,0.036625284701586,0.225747257471085,-0.006910713855177,-0.076702632009983,0.009041815996170,-0.084128946065903));
res += mul(Get(s2,0,dy), float4x4(0.101620271801949,0.158944875001907,-0.021766327321529,-0.071229517459869,-0.024499775841832,-0.035202164202929,0.035168517380953,0.068282417953014,0.067390054464340,0.137690812349319,0.003939277492464,0.021906191483140,-0.078826554119587,-0.043979723006487,0.010433234274387,-0.023573549464345));
res += mul(Get(s2,dx,-dy), float4x4(0.036057017743587,0.159334838390350,0.087164111435413,0.081463441252708,0.000670606270432,0.022496599704027,-0.015955392271280,-0.221443444490433,0.028501989319921,0.020867794752121,-0.077136196196079,-0.018205055966973,-0.002096841577441,-0.006552832666785,-0.027689270675182,0.029135687276721));
res += mul(Get(s2,dx,0), float4x4(-0.001395629951730,-0.081372611224651,-0.014342128299177,0.328292667865753,0.148841351270676,0.085525833070278,-0.020097590982914,-0.045579079538584,-0.111983396112919,-0.052117239683867,0.049580544233322,-0.002441289834678,0.001135225524195,0.062984727323055,0.018572464585304,-0.060327425599098));
res += mul(Get(s2,dx,dy), float4x4(-0.037253949791193,-0.023085663095117,0.062250133603811,0.145650804042816,-0.113273084163666,-0.066222362220287,0.018846375867724,0.068018347024918,0.002214448293671,0.170638352632523,-0.008710440248251,-0.058073636144400,0.026209207251668,0.099946603178978,-0.037254948168993,-0.082879453897476));
res += mul(Get(s3,-dx,-dy), float4x4(0.026978304609656,0.000748711638153,0.012545684352517,0.082970626652241,-0.004143310245126,0.010059857740998,-0.066989876329899,0.091587573289871,-0.030390001833439,0.041942257434130,0.001938654109836,-0.005863931961358,-0.031610090285540,0.059299256652594,0.024205783382058,-0.078979231417179));
res += mul(Get(s3,-dx,0), float4x4(0.014424689114094,-0.078763470053673,-0.003050496103242,0.048195727169514,0.000112648216600,0.057235520333052,-0.029249055311084,0.016053738072515,0.073347307741642,0.073561728000641,0.028364220634103,-0.119462423026562,-0.015812141820788,-0.092337414622307,0.012975819408894,0.073819965124130));
res += mul(Get(s3,-dx,dy), float4x4(0.005450853146613,0.019804764539003,-0.044942207634449,0.039583753794432,-0.011899237520993,-0.055903472006321,-0.051414359360933,-0.004935602657497,0.025035917758942,0.018382644280791,-0.000866859743837,0.160804241895676,0.006995608098805,-0.000464801356429,-0.019417753443122,-0.034532945603132));
res += mul(Get(s3,0,-dy), float4x4(-0.001139224623330,-0.020517675206065,0.052921600639820,0.029109962284565,0.079134196043015,-0.060865469276905,-0.041595242917538,0.156405806541443,0.013121730647981,0.172286331653595,0.008369088172913,0.030909350141883,0.031555131077766,0.096384592354298,-0.050442211329937,-0.069791957736015));
res += mul(Get(s3,0,0), float4x4(-0.089615918695927,0.025209996849298,0.007331527769566,0.016658697277308,-0.091363370418549,0.027130175381899,0.077144503593445,-0.013803332112730,0.261697083711624,0.462282240390778,-0.069582410156727,-0.439825475215912,-0.011879615485668,0.028600735589862,-0.027728099375963,0.016378406435251));
res += mul(Get(s3,0,dy), float4x4(0.068910777568817,0.038383487612009,0.007630881853402,0.067544475197792,0.027325538918376,0.079803325235844,-0.024804327636957,0.011023068800569,0.012982069514692,0.010949780233204,-0.031828723847866,0.094446532428265,-0.035430029034615,0.070478983223438,-0.104875080287457,-0.052357580512762));
res += mul(Get(s3,dx,-dy), float4x4(-0.017793115228415,-0.013920381665230,0.020790526643395,-0.070031464099884,0.054389458149672,-0.147065028548241,-0.012384787201881,0.050646137446165,-0.016310552135110,-0.053861357271671,0.000508711033035,0.046701066195965,0.004126884043217,-0.033826801925898,0.003874316345900,0.066215477883816));
res += mul(Get(s3,dx,0), float4x4(0.031988542526960,0.080742262303829,0.093038342893124,0.026338137686253,0.038348060101271,0.108265005052090,0.092788249254227,-0.051351658999920,0.029592750594020,0.058924250304699,-0.011283105239272,0.095972098410130,0.025467718020082,0.144032001495361,-0.019614139571786,-0.118914157152176));
res += mul(Get(s3,dx,dy), float4x4(0.035588417202234,0.007141360547394,-0.029565915465355,-0.069571927189827,0.075564637780190,-0.035856809467077,-0.020789841189981,0.018167586997151,-0.100015863776207,-0.200693249702454,0.022745346650481,0.201139196753502,-0.045423250645399,0.013998049311340,0.075870759785175,0.001610957784578));
return max(float4(0,0,0,0), res);
}
