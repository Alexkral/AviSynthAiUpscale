sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.058340556919575,0.051504250615835,-0.021488919854164,-0.017217816784978,0.137264162302017,0.015973111614585,-0.038595598191023,-0.065861441195011,-0.067148476839066,-0.011962595395744,-0.017735803499818,0.062175277620554,-0.012810520827770,-0.027518868446350,-0.013656399212778,-0.034104015678167));
res += mul(Get(s0,-dx,0), float4x4(0.063811972737312,0.008744842372835,-0.014665967784822,0.050639186054468,-0.035741940140724,-0.009486617520452,-0.025290910154581,-0.078224621713161,0.031765174120665,0.086634032428265,-0.039516590535641,-0.018066111952066,0.007712930440903,-0.050747428089380,-0.036654636263847,0.014709344133735));
res += mul(Get(s0,-dx,dy), float4x4(-0.056713517755270,0.002489343052730,-0.006217592395842,0.031414225697517,0.181783840060234,0.019890196621418,-0.044057022780180,0.011567685753107,0.021764691919088,0.020290685817599,-0.017561998218298,-0.009722515940666,0.020081754773855,-0.023800322785974,-0.003278835676610,-0.137570276856422));
res += mul(Get(s0,0,-dy), float4x4(-0.043152429163456,-0.034553717821836,0.065791398286819,0.106191053986549,0.010798878036439,0.014608125202358,-0.048191189765930,-0.034455664455891,-0.007870750501752,0.002550111385062,-0.010548018850386,0.062424257397652,-0.027637990191579,0.044698838144541,0.049184918403625,-0.070133432745934));
res += mul(Get(s0,0,0), float4x4(-0.004195235203952,0.106734663248062,0.010038611479104,-0.049074396491051,0.096634171903133,-0.009878222830594,-0.008891667239368,-0.037498630583286,-0.023651503026485,0.082984857261181,0.034586880356073,-0.018827836960554,-0.023248752579093,-0.005320340394974,0.056276492774487,-0.045158587396145));
res += mul(Get(s0,0,dy), float4x4(-0.100335426628590,-0.087273962795734,0.034737780690193,0.058381434530020,0.025006892159581,0.159699529409409,-0.013752165250480,-0.018059812486172,-0.026329265907407,0.023631818592548,0.023853000253439,-0.028451701626182,-0.026225605979562,0.095197983086109,0.067878931760788,-0.032745130360126));
res += mul(Get(s0,dx,-dy), float4x4(-0.043048992753029,-0.028510229662061,0.021153910085559,0.038792092353106,0.065472729504108,-0.029650853946805,-0.008172511123121,-0.027890807017684,-0.022758895531297,0.014164551161230,0.071690313518047,0.086534030735493,-0.038194082677364,0.045305714011192,-0.008101243525743,-0.016043212264776));
res += mul(Get(s0,dx,0), float4x4(-0.050255563110113,0.069300398230553,0.030062537640333,-0.076579928398132,0.068841755390167,0.075688242912292,-0.019127123057842,-0.059647709131241,0.018493030220270,-0.078774958848953,0.041335660964251,-0.084060266613960,0.040192343294621,-0.108678594231606,-0.051196496933699,-0.016361366957426));
res += mul(Get(s0,dx,dy), float4x4(0.044152565300465,-0.071624666452408,0.016887322068214,0.018571276217699,0.004733128473163,0.041618239134550,-0.002350995782763,-0.012752752751112,0.088251315057278,-0.018911642953753,0.022320672869682,-0.039876963943243,0.017811188474298,-0.059078592807055,-0.059176348149776,0.016513597220182));
res += mul(Get(s1,-dx,-dy), float4x4(-0.016940256580710,-0.046680413186550,-0.013671965338290,-0.038357216864824,-0.089086093008518,-0.000700017146301,-0.129769787192345,-0.030049990862608,-0.049377810209990,0.003741609631106,0.099647417664528,-0.012587506324053,-0.019684506580234,0.073885954916477,-0.068237431347370,0.050550315529108));
res += mul(Get(s1,-dx,0), float4x4(0.012374807149172,-0.087808012962341,-0.048503380268812,0.020413644611835,-0.096486955881119,0.071680046617985,-0.052918691188097,0.045270327478647,0.081129230558872,-0.095584817230701,0.040950570255518,0.058677535504103,-0.015381198376417,0.064942210912704,-0.069903731346130,-0.076375998556614));
res += mul(Get(s1,-dx,dy), float4x4(0.065806299448013,-0.002558283042163,-0.024453287944198,-0.027504721656442,0.035045430064201,0.022641675546765,-0.034848753362894,-0.049800775945187,0.026766728609800,-0.084804356098175,0.025535834953189,0.006736018229276,0.034677758812904,-0.000629250600468,-0.024913072586060,0.014669431373477));
res += mul(Get(s1,0,-dy), float4x4(0.009499562904239,0.113911189138889,0.026796603575349,-0.053438864648342,-0.205259621143341,0.036298140883446,-0.017026081681252,-0.015720343217254,-0.003077361267060,0.052816640585661,-0.028928257524967,-0.008882417343557,-0.030753482133150,0.039611615240574,0.041669633239508,0.046212613582611));
res += mul(Get(s1,0,0), float4x4(-0.031110314652324,0.011253198608756,0.097516082227230,0.080339863896370,0.049810957163572,-0.117063492536545,-0.034601323306561,-0.101040914654732,-0.062478303909302,0.183511525392532,0.019706105813384,0.047513872385025,0.000759655376896,-0.005936629604548,0.032392345368862,-0.106976941227913));
res += mul(Get(s1,0,dy), float4x4(0.065002702176571,0.003375854576007,0.038223631680012,0.023533074185252,0.095155894756317,0.017401186749339,-0.061854857951403,-0.075137481093407,-0.065099023282528,0.077622368931770,0.011779588647187,0.042254406958818,0.018591264262795,0.118284352123737,0.012061876244843,-0.031405478715897));
res += mul(Get(s1,dx,-dy), float4x4(-0.034269720315933,0.050585921853781,0.000864394532982,-0.074923820793629,-0.061249800026417,0.025047574192286,0.052461277693510,0.036908816546202,0.010018540546298,-0.054208811372519,-0.004596269223839,-0.022058792412281,-0.043355926871300,0.002864141250029,-0.023619202896953,0.036223378032446));
res += mul(Get(s1,dx,0), float4x4(0.049245230853558,-0.031178535893559,0.011449862271547,0.019303694367409,-0.036174889653921,0.189497679471970,-0.019821299239993,-0.073149979114532,0.025246312841773,-0.083406940102577,0.001924287877046,-0.019038358703256,-0.016441386193037,-0.032416056841612,-0.019619196653366,-0.046486996114254));
res += mul(Get(s1,dx,dy), float4x4(0.017562422901392,0.003377643413842,-0.036173176020384,-0.021813934668899,0.001963104354218,0.027608318254352,0.052354309707880,-0.073442213237286,0.018967583775520,-0.054274518042803,-0.004114945884794,0.054079443216324,0.023260388523340,0.009416018612683,-0.017866410315037,-0.034446496516466));
res += mul(Get(s2,-dx,-dy), float4x4(-0.084297612309456,0.053706541657448,0.022649819031358,0.039449878036976,0.022977232933044,0.007470548618585,-0.010019025765359,-0.037018395960331,0.013102442957461,-0.031880822032690,-0.033261056989431,-0.082768596708775,-0.028255909681320,0.023620009422302,-0.016244428232312,0.113444678485394));
res += mul(Get(s2,-dx,0), float4x4(0.037201698869467,-0.017915284261107,-0.038683544844389,-0.058019835501909,0.000412950234022,-0.056813437491655,-0.071197241544724,-0.051360245794058,0.012930337339640,0.039379198104143,0.010747448541224,0.014650195837021,-0.003171871649101,0.012707929126918,0.003614687360823,-0.005119117442518));
res += mul(Get(s2,-dx,dy), float4x4(0.007228228729218,0.042410925030708,-0.038507316261530,0.004001182038337,0.036167513579130,-0.048361942172050,-0.061620991677046,-0.007756057661027,-0.022617623209953,0.032913986593485,-0.021773668006063,0.008515910245478,-0.041549582034349,-0.015011817216873,0.000237388667301,0.014522613026202));
res += mul(Get(s2,0,-dy), float4x4(-0.050247121602297,0.011109096929431,0.037137925624847,0.065963521599770,0.009863452985883,0.010863144882023,-0.049375254660845,-0.005961840506643,-0.034728415310383,0.033207006752491,0.003451893804595,-0.005002396646887,-0.053791265934706,0.001756081241183,0.032874386757612,0.171930357813835));
res += mul(Get(s2,0,0), float4x4(-0.009598087519407,0.089392364025116,-0.038980763405561,-0.047125887125731,-0.038493331521749,0.084122225642204,-0.001890274579637,-0.005118680652231,-0.015193430706859,0.072715148329735,0.025238523259759,0.025626244023442,-0.027126086875796,0.032868351787329,0.032677266746759,-0.076779887080193));
res += mul(Get(s2,0,dy), float4x4(-0.026774903759360,0.092601604759693,0.024199964478612,0.037904523313046,0.036516744643450,0.049141786992550,0.009790771640837,-0.044930491596460,-0.057607587426901,0.000585409579799,-0.007345352321863,0.055830430239439,-0.063368901610374,0.043778628110886,0.066253237426281,0.007299467921257));
res += mul(Get(s2,dx,-dy), float4x4(-0.033315069973469,0.022766489535570,-0.009707710705698,-0.001375313266180,0.012736895121634,0.069523394107819,0.019283752888441,-0.016517749056220,-0.003824833547696,0.015100962482393,0.025471618399024,0.017369924113154,-0.028268584981561,-0.001137247774750,0.040639195591211,0.225411385297775));
res += mul(Get(s2,dx,0), float4x4(0.015259862877429,0.054283954203129,-0.016965355724096,-0.008417817763984,0.021677350625396,-0.020646132528782,-0.005176080856472,-0.019082948565483,0.020803114399314,0.026873409748077,0.005725939758122,-0.026043849065900,-0.007023748941720,0.004827770870179,-0.040218729525805,-0.047646649181843));
res += mul(Get(s2,dx,dy), float4x4(0.086316756904125,-0.020114319398999,-0.030845824629068,0.010608463548124,0.013532717712224,-0.034216206520796,-0.005541494116187,-0.054357569664717,-0.034764699637890,0.032889775931835,0.006917736493051,0.009726371616125,0.007367804646492,-0.033191002905369,-0.013207901269197,-0.008017475716770));
res += mul(Get(s3,-dx,-dy), float4x4(-0.036143951117992,-0.059570416808128,-0.016012948006392,-0.043757513165474,-0.008740325458348,-0.027846504002810,0.016226343810558,-0.019131017848849,0.032957103103399,0.043172672390938,0.017175879329443,0.015920760110021,-0.074858829379082,-0.028527727350593,0.069960534572601,-0.028740294277668));
res += mul(Get(s3,-dx,0), float4x4(-0.027191847562790,0.008109517395496,-0.031207405030727,-0.069228425621986,0.048482503741980,0.101558879017830,0.011690474115312,0.134222865104675,0.040610443800688,0.057924695312977,0.005370098166168,0.019867599010468,-0.003715122817084,0.030145863071084,0.041390791535378,-0.022419340908527));
res += mul(Get(s3,-dx,dy), float4x4(0.056074678897858,0.049417752772570,0.007432451006025,-0.009409339167178,0.001168435788713,0.072913460433483,-0.009576168842614,0.046389151364565,-0.021463548764586,0.030889576300979,0.000019637614969,0.013489136472344,-0.109738849103451,0.142764821648598,0.127613812685013,-0.066191129386425));
res += mul(Get(s3,0,-dy), float4x4(-0.000091468849860,0.093619324266911,0.035395894199610,-0.111717827618122,-0.072734542191029,0.064021214842796,-0.008715946227312,-0.065619006752968,0.032507371157408,-0.043790396302938,0.005672697443515,0.093306370079517,-0.061345536261797,-0.002530158031732,0.040377829223871,-0.049763564020395));
res += mul(Get(s3,0,0), float4x4(-0.049584105610847,-0.052037227898836,0.064581573009491,-0.048171199858189,0.081496678292751,-0.099317595362663,0.023583726957440,0.158589929342270,0.010652911849320,0.075110159814358,0.010101372376084,0.083323910832405,-0.025511706247926,-0.006917680613697,-0.036716081202030,-0.042250417172909));
res += mul(Get(s3,0,dy), float4x4(0.070346213877201,0.094038248062134,-0.007598705124110,0.003200681181625,0.020192530006170,0.006326756440103,-0.028032742440701,0.016850862652063,-0.003683093935251,-0.088716469705105,-0.004234529100358,0.074635244905949,0.032184243202209,-0.060753762722015,0.052350129932165,-0.041602287441492));
res += mul(Get(s3,dx,-dy), float4x4(-0.054846305400133,0.049410428851843,0.033507969230413,-0.100093632936478,-0.016203191131353,0.100115962326527,-0.085191287100315,-0.056925226002932,0.041527844965458,0.023909371346235,0.019415961578488,-0.007317261770368,-0.035431977361441,0.001225056708790,0.036044232547283,-0.011564132757485));
res += mul(Get(s3,dx,0), float4x4(-0.004461997188628,-0.060996454209089,0.005935493391007,-0.045503877103329,0.006711946334690,0.035442873835564,0.001412002602592,0.119822397828102,-0.024602796882391,0.111728563904762,-0.017712421715260,0.001760706538334,-0.077407293021679,-0.052660532295704,-0.012876823544502,0.023598743602633));
res += mul(Get(s3,dx,dy), float4x4(0.067683570086956,0.006723589729518,-0.027228660881519,-0.018057862296700,0.001036760280840,0.001261256053112,-0.089496932923794,-0.020663172006607,0.017794793471694,0.031054865568876,-0.005799786653370,0.016719447448850,0.025200258940458,0.060103494673967,-0.006306834518909,-0.070886105298996));
return max(float4(0,0,0,0), res);
}
