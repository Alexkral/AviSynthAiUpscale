sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.009630855172873,-0.004716588184237,0.000832325662486,0.013291154988110,-0.038737080991268,-0.034854009747505,-0.001588912215084,-0.027687663212419,-0.011136509478092,-0.010129307396710,0.014432321302593,0.029793439432979,-0.004089178517461,-0.005785861052573,-0.004878036212176,0.024062532931566));
res += mul(Get(s0,-dx,0), float4x4(-0.046564739197493,0.048451010137796,-0.061473160982132,0.038090426474810,-0.067994795739651,-0.022440312430263,0.011914965696633,0.030203621834517,-0.013923481106758,-0.020356487482786,0.010870050638914,0.050594769418240,-0.028884707018733,-0.015928398817778,0.005959971342236,0.037429608404636));
res += mul(Get(s0,-dx,dy), float4x4(-0.007925827056170,0.062127970159054,-0.027619814500213,0.151333540678024,-0.025518335402012,-0.002805762458593,-0.002722530625761,0.072501286864281,-0.009507215581834,-0.011865113861859,0.005757863167673,0.058433279395103,-0.027917435392737,-0.003428765106946,0.003983294591308,0.046789888292551));
res += mul(Get(s0,0,-dy), float4x4(-0.019065171480179,0.049897041171789,0.011639119125903,0.008637447841465,-0.027511555701494,0.044444844126701,-0.012062204070389,-0.022923447191715,-0.027764124795794,-0.005762109998614,-0.002067896537483,0.000149359315401,-0.015870891511440,-0.001962583046407,-0.015940871089697,0.011241137981415));
res += mul(Get(s0,0,0), float4x4(-0.052007816731930,-0.064714349806309,0.018890911713243,-0.018985947594047,-0.006201825104654,-0.027277698740363,0.031305465847254,-0.028646640479565,-0.018644502386451,0.005007848143578,0.001718598767184,0.018325982615352,-0.030258957296610,-0.005645072553307,-0.009188764728606,0.008776316419244));
res += mul(Get(s0,0,dy), float4x4(-0.058173123747110,0.037463385611773,-0.010243360884488,0.089726582169533,0.045193810015917,0.033970139920712,0.040937308222055,-0.019087053835392,-0.000037321289710,0.007758668158203,0.012517160736024,0.032873135060072,-0.042015269398689,-0.008186244405806,0.001760421553627,0.020714698359370));
res += mul(Get(s0,dx,-dy), float4x4(0.003381740534678,0.073916323482990,0.000936177209951,0.023929510265589,-0.091960214078426,-0.013340059667826,0.057375833392143,0.009635088033974,-0.010105554014444,-0.002618053695187,-0.009150031954050,0.002816197928041,0.028203213587403,0.026552097871900,-0.017959378659725,0.014963312074542));
res += mul(Get(s0,dx,0), float4x4(0.016911773011088,0.063954390585423,0.018117073923349,0.003085655160248,-0.080973260104656,0.015751328319311,-0.055010046809912,0.007008451037109,-0.004581715911627,0.001660477370024,0.012663782574236,-0.005379776470363,0.003253619652241,0.012856432236731,0.003174898913130,-0.003066060831770));
res += mul(Get(s0,dx,dy), float4x4(-0.048502225428820,0.015983888879418,0.027864273637533,0.037813317030668,-0.021487973630428,-0.004122087266296,0.002617956837639,0.011012517847121,0.036925707012415,0.016064068302512,0.020370084792376,-0.007155621424317,-0.004902429413050,0.018446162343025,0.008143732324243,-0.000157865855726));
res += mul(Get(s1,-dx,-dy), float4x4(-0.043016228824854,-0.001372248516418,-0.186431735754013,-0.035171173512936,0.023372216150165,0.036916572600603,-0.073051542043686,-0.020367715507746,0.025100301951170,0.027839537709951,-0.133844733238220,-0.001590188476257,0.006010452285409,-0.016092590987682,-0.000996299320832,0.018558319658041));
res += mul(Get(s1,-dx,0), float4x4(-0.131889656186104,0.060681518167257,-0.123357363045216,0.116682514548302,0.139444261789322,-0.013013851828873,-0.051592450588942,-0.087498545646667,-0.082896776497364,-0.041992582380772,-0.064322486519814,-0.047107301652431,-0.010964453220367,-0.018008584156632,0.005175301339477,0.028674250468612));
res += mul(Get(s1,-dx,dy), float4x4(-0.114342659711838,0.035965416580439,-0.090966567397118,0.151501372456551,-0.166785433888435,-0.005644295830280,0.133369386196136,-0.021177893504500,-0.001087245647795,-0.047177109867334,-0.030886968597770,-0.015389864332974,-0.007534289266914,-0.008714305236936,0.001239195116796,0.044185832142830));
res += mul(Get(s1,0,-dy), float4x4(0.031830772757530,-0.091537125408649,-0.064079783856869,0.021691996604204,0.160750910639763,0.068638123571873,0.004815533291548,-0.051158420741558,0.127226456999779,0.037131197750568,-0.007988228462636,-0.064626425504684,-0.018770517781377,0.000251436576946,0.002491727005690,-0.023024542257190));
res += mul(Get(s1,0,0), float4x4(-0.014727046713233,-0.093509510159492,-0.059377551078796,0.006115634925663,0.200509250164032,0.219088882207870,0.074951767921448,0.028312742710114,-0.004219977650791,-0.019276309758425,0.017683897167444,-0.051540728658438,-0.035169962793589,0.002956361044198,-0.000692078203429,0.002427535131574));
res += mul(Get(s1,0,dy), float4x4(0.013371595181525,-0.054512426257133,-0.018569381907582,-0.023129185661674,-0.163727283477783,-0.192989110946655,0.128133624792099,-0.024645209312439,0.085961930453777,0.094461947679520,0.015708154067397,0.068421393632889,-0.040054935961962,0.002150391461328,0.003108848817647,0.005543184466660));
res += mul(Get(s1,dx,-dy), float4x4(0.008868735283613,0.105347320437431,-0.143762663006783,-0.074433647096157,-0.075111977756023,-0.187330305576324,-0.145708352327347,-0.036167457699776,0.061043314635754,0.047610744833946,0.096604734659195,0.040614932775497,-0.021454270929098,-0.011575631797314,-0.006649219896644,0.000416852417402));
res += mul(Get(s1,dx,0), float4x4(0.009580923244357,0.113215327262878,-0.031677976250648,-0.063559465110302,0.044573307037354,0.004794018808752,0.150787040591240,0.106031700968742,-0.104034051299095,-0.151991665363312,0.015779107809067,0.019472490996122,-0.008680154569447,-0.016337465494871,-0.001590237836353,-0.010095263831317));
res += mul(Get(s1,dx,dy), float4x4(0.075912930071354,0.060382217168808,-0.027729939669371,-0.041090633720160,-0.122221514582634,-0.016080373898149,-0.118626534938812,-0.048540890216827,0.016872664913535,-0.158593550324440,0.059215284883976,0.050757676362991,0.018148988485336,0.002146054292098,0.003891539061442,-0.009117160923779));
res += mul(Get(s2,-dx,-dy), float4x4(-0.069913856685162,0.039872217923403,0.015861721709371,0.011044672690332,0.041311942040920,-0.038425575941801,-0.038436926901340,0.043270971626043,-0.037155754864216,0.005520947277546,0.002261263085529,0.009925331920385,-0.158077910542488,0.040896557271481,-0.073054648935795,-0.030770907178521));
res += mul(Get(s2,-dx,0), float4x4(-0.058866709470749,0.011914561502635,0.019675925374031,0.007424616720527,-0.039082996547222,-0.037690140306950,-0.056348256766796,0.009696841239929,-0.032812383025885,0.006850432604551,0.009411190636456,0.016720516607165,0.004973646719009,-0.011980595067143,-0.104455485939980,-0.023747913539410));
res += mul(Get(s2,-dx,dy), float4x4(-0.138965159654617,0.037326429039240,0.040498156100512,-0.018568132072687,-0.030326548963785,-0.020312905311584,-0.044921971857548,-0.025605663657188,-0.033668354153633,0.010028743185103,-0.002116360701621,0.012113584205508,-0.083824947476387,-0.102378308773041,0.015795456245542,-0.020459380000830));
res += mul(Get(s2,0,-dy), float4x4(-0.025393735617399,0.057773556560278,0.018192751333117,-0.001577614457346,-0.019405886530876,-0.022553453221917,0.011948108673096,-0.013219646178186,-0.006086622364819,0.047621786594391,-0.022902855649590,-0.019025510177016,0.260494858026505,0.253273814916611,0.030451411381364,-0.069637149572372));
res += mul(Get(s2,0,0), float4x4(-0.061779227107763,-0.002525674877688,-0.043910857290030,0.024500703439116,0.055866535753012,0.087984822690487,-0.004645390901715,0.003576235845685,0.034430451691151,0.061689116060734,-0.027577104046941,-0.023935178294778,-0.017634721472859,0.177797779440880,0.091968730092049,-0.053401570767164));
res += mul(Get(s2,0,dy), float4x4(-0.128128528594971,-0.003495531156659,0.046594005078077,0.002380655612797,-0.032163832336664,0.010153998620808,-0.005950368475169,0.023587368428707,0.017127215862274,0.029674520716071,-0.019705679267645,-0.019949976354837,-0.188167110085487,-0.080946244299412,-0.040425986051559,-0.040226716548204));
res += mul(Get(s2,dx,-dy), float4x4(-0.082520760595798,0.005343951284885,-0.017161153256893,0.015644408762455,0.053592044860125,-0.055691618472338,-0.059625342488289,-0.022501315921545,-0.004432535264641,0.032028511166573,-0.022668756544590,0.008601977489889,0.077244989573956,-0.148758038878441,0.055289018899202,0.018537040799856));
res += mul(Get(s2,dx,0), float4x4(-0.004565019626170,0.011653529480100,-0.130367487668991,0.044037725776434,-0.037601653486490,-0.033031821250916,0.009902472607791,-0.000462644151412,0.006193127483130,0.017565291374922,-0.013398150913417,0.025714363902807,-0.002955741481856,-0.061715248972178,0.348946362733841,0.090825483202934));
res += mul(Get(s2,dx,dy), float4x4(-0.053942892700434,0.002681924030185,0.023257544264197,0.000627293426078,-0.063362263143063,-0.029308874160051,0.018109496682882,-0.050276108086109,-0.020197104662657,0.001875894260593,-0.017081333324313,0.009020583704114,-0.079675257205963,0.030531881377101,0.050983220338821,-0.060096323490143));
res += mul(Get(s3,-dx,-dy), float4x4(0.071006529033184,-0.011777299456298,-0.094929054379463,-0.048336319625378,0.084668524563313,-0.036365918815136,-0.040867429226637,0.002940986771137,0.035988144576550,-0.016042301431298,-0.006516283843666,0.027266804128885,-0.004508006852120,0.014427194371819,0.005093056242913,0.003305868478492));
res += mul(Get(s3,-dx,0), float4x4(0.050332240760326,0.046437818557024,-0.039582859724760,-0.050856366753578,0.016692329198122,0.007966492325068,-0.054450612515211,0.077239111065865,-0.012479213066399,0.033733494579792,-0.016895916312933,0.083030961453915,-0.014281094074249,0.065556101500988,-0.012955791316926,0.000161394244060));
res += mul(Get(s3,-dx,dy), float4x4(0.011435544118285,0.006859130226076,-0.082380764186382,0.064445413649082,0.008544859476388,-0.019211476668715,-0.019722552970052,0.063105203211308,-0.048854138702154,-0.012087300419807,0.005005468148738,0.016318913549185,-0.034457515925169,0.005574224516749,-0.006012257188559,-0.010042801499367));
res += mul(Get(s3,0,-dy), float4x4(0.194431141018867,0.036340501159430,-0.032735727727413,-0.057496592402458,0.073145560920238,-0.012675238773227,-0.042108204215765,0.012768667191267,-0.005456711631268,-0.016974914819002,-0.005699863657355,0.015109547413886,0.082848086953163,0.063538521528244,0.007210882380605,-0.009750106371939));
res += mul(Get(s3,0,0), float4x4(-0.026521274819970,-0.041004486382008,-0.024141354486346,0.072675056755543,-0.018472408875823,-0.032907355576754,-0.019453516229987,0.017725136131048,0.008103772997856,0.039069555699825,0.008991165086627,0.047446634620428,0.080776281654835,0.169794201850891,0.025270368903875,0.040801554918289));
res += mul(Get(s3,0,dy), float4x4(0.190830349922180,-0.057089418172836,0.059208374470472,0.105821587145329,0.038274470716715,0.046272564679384,0.010092413052917,-0.008058508858085,-0.015668144449592,0.018351679667830,-0.041866719722748,-0.007918371818960,-0.032759968191385,0.022588966414332,-0.044147323817015,-0.005178881343454));
res += mul(Get(s3,dx,-dy), float4x4(-0.054509066045284,-0.022304262965918,0.017943479120731,-0.040327183902264,0.048413883894682,-0.024180620908737,-0.030114537104964,0.025695184245706,0.028933977708220,0.012450552545488,-0.017500486224890,0.027651039883494,0.060088165104389,0.020767886191607,0.014784709550440,0.033396158367395));
res += mul(Get(s3,dx,0), float4x4(-0.045235957950354,-0.086512900888920,-0.085163414478302,-0.055238258093596,0.011289533227682,-0.022206529974937,-0.017290398478508,-0.002221162663773,0.062131825834513,0.041231144219637,0.040016792714596,0.060100961476564,-0.017021000385284,0.011410958133638,0.111837729811668,0.066099226474762));
res += mul(Get(s3,dx,dy), float4x4(0.143739446997643,-0.061792202293873,-0.063076898455620,0.013237223960459,-0.001023871358484,-0.026936670765281,-0.021552972495556,0.033282674849033,0.014512172900140,0.028442734852433,-0.023906871676445,0.001723262364976,-0.079065851867199,0.031005609780550,-0.032155379652977,0.001671441830695));
return max(float4(0,0,0,0), res);
}
