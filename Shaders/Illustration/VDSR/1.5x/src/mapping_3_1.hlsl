sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.024598406627774,-0.095728680491447,-0.039132937788963,0.020560296252370,0.046256449073553,-0.006880288943648,-0.140163019299507,0.055184789001942,-0.031242286786437,-0.066289521753788,-0.002378317061812,-0.163665220141411,-0.113588355481625,-0.072563707828522,-0.074146196246147,-0.054855514317751));
res += mul(Get(s0,-dx,0), float4x4(-0.103741101920605,0.010746310465038,-0.100180484354496,0.016317466273904,0.053635075688362,0.009686716832221,0.028837254270911,0.044850576668978,-0.010017119348049,-0.112118758261204,-0.045641370117664,-0.109608389437199,-0.068479396402836,0.198673322796822,-0.138473466038704,-0.058648347854614));
res += mul(Get(s0,-dx,dy), float4x4(-0.067817047238350,0.018548572435975,-0.045359540730715,0.041713442653418,-0.082707285881042,0.085076339542866,0.099749810993671,0.065752528607845,0.111020691692829,-0.200259506702423,0.033591121435165,-0.062404748052359,0.097012408077717,0.027664108201861,-0.104755491018295,-0.032254014164209));
res += mul(Get(s0,0,-dy), float4x4(0.167494416236877,0.152652770280838,0.004592881072313,-0.145775228738785,0.054100189357996,-0.046807996928692,-0.111234627664089,-0.001494230702519,0.006564743816853,-0.010800659656525,-0.025623174384236,0.036101415753365,-0.028452545404434,-0.047753430902958,0.020187141373754,0.057606596499681));
res += mul(Get(s0,0,0), float4x4(-0.060484483838081,0.142411917448044,0.033709958195686,0.005676288157701,0.036814920604229,0.047698050737381,0.074214652180672,0.007314664311707,-0.063252106308937,-0.040386870503426,-0.033464770764112,-0.049514479935169,-0.010370704345405,0.032119244337082,-0.022547030821443,-0.037052817642689));
res += mul(Get(s0,0,dy), float4x4(-0.115838199853897,-0.028179554268718,-0.153192639350891,-0.123596817255020,0.056276891380548,0.049016803503036,0.119986303150654,0.086606003344059,0.080995388329029,0.091510608792305,0.110876455903053,0.002689854474738,0.023679956793785,0.091606907546520,0.055418573319912,0.050702746957541));
res += mul(Get(s0,dx,-dy), float4x4(0.057276204228401,-0.079496562480927,-0.080076530575752,0.015289455652237,-0.183270350098610,0.095027908682823,0.020153988152742,0.069083645939827,-0.063356243073940,0.059690497815609,-0.006296447478235,0.027820603922009,0.087182305753231,0.051021806895733,-0.027399213984609,0.024920808151364));
res += mul(Get(s0,dx,0), float4x4(0.070303417742252,-0.041098404675722,-0.015178319066763,0.065856143832207,-0.083565726876259,0.040311969816685,0.039714388549328,-0.037967007607222,0.059175953269005,-0.157964542508125,0.035484571009874,-0.098264813423157,0.012288320809603,0.068276561796665,-0.096437446773052,0.014001724310219));
res += mul(Get(s0,dx,dy), float4x4(-0.085328929126263,0.121061883866787,-0.046205099672079,0.096529692411423,-0.010794184170663,-0.049169175326824,-0.060489285737276,-0.131957069039345,-0.092965535819530,-0.054072171449661,0.039682611823082,-0.059286076575518,-0.017080821096897,0.036805871874094,0.007907003164291,0.071244813501835));
res += mul(Get(s1,-dx,-dy), float4x4(-0.085756875574589,-0.092322014272213,0.077368266880512,0.145924299955368,-0.085515037178993,-0.096888639032841,0.027240896597505,0.097306005656719,-0.035175129771233,0.075985498726368,0.032934628427029,-0.106649138033390,-0.003638964844868,0.108433619141579,-0.025023439899087,-0.079318165779114));
res += mul(Get(s1,-dx,0), float4x4(0.073164142668247,-0.075675562024117,0.014857877045870,0.107560478150845,-0.007756049279124,0.039446450769901,-0.080552726984024,-0.036653555929661,-0.029224094003439,0.145962268114090,-0.073101945221424,-0.062017090618610,0.040826603770256,0.206236541271210,0.034097775816917,0.005964196752757));
res += mul(Get(s1,-dx,dy), float4x4(-0.159882783889771,0.172550544142723,0.003221017075703,-0.107979699969292,0.120681136846542,-0.051741383969784,-0.029070293530822,0.194601029157639,-0.058234669268131,0.041587207466364,0.074243120849133,-0.078512318432331,0.071260273456573,-0.170877426862717,0.060459714382887,-0.037589658051729));
res += mul(Get(s1,0,-dy), float4x4(-0.094674997031689,-0.006559199187905,-0.030767763033509,0.026846390217543,-0.032585952430964,-0.020762396976352,-0.005641543772072,0.029184415936470,-0.041766963899136,0.045909214764833,-0.049916710704565,0.008745797909796,0.043373662978411,0.046330139040947,0.015341685153544,0.004736325703561));
res += mul(Get(s1,0,0), float4x4(0.100658923387527,-0.002647821791470,0.098556034266949,-0.094698451459408,-0.087560698390007,-0.105436637997627,-0.048261426389217,0.073919057846069,-0.062448631972075,-0.061839267611504,-0.036694701761007,0.111644603312016,0.090029306709766,0.045999664813280,-0.026095066219568,0.056599579751492));
res += mul(Get(s1,0,dy), float4x4(0.038745820522308,0.124782152473927,0.071718767285347,-0.140703380107880,0.034643694758415,-0.060029301792383,-0.049002133309841,-0.010500736534595,-0.011108037084341,0.003560143057257,0.084114462137222,0.161186054348946,-0.015390112064779,-0.111437141895294,0.028568012639880,-0.068114675581455));
res += mul(Get(s1,dx,-dy), float4x4(-0.102235794067383,-0.058537524193525,-0.041542772203684,-0.097785569727421,-0.038513936102390,0.049441397190094,-0.013412722386420,-0.020937222987413,0.140538707375526,0.009755020029843,-0.036464862525463,-0.139455690979958,0.045244865119457,-0.037211328744888,0.047961834818125,-0.011689488776028));
res += mul(Get(s1,dx,0), float4x4(0.032273378223181,0.011322059668601,-0.114310272037983,-0.165598750114441,-0.008989386260509,0.108392350375652,-0.038370259106159,-0.056043997406960,0.006626256275922,-0.015529950149357,-0.046876747161150,0.020688852295280,-0.044485360383987,0.098996147513390,-0.019421461969614,-0.124816827476025));
res += mul(Get(s1,dx,dy), float4x4(0.051567561924458,-0.037238210439682,-0.074513927102089,-0.083948090672493,0.047094624489546,-0.083256117999554,-0.098668478429317,0.014381692744792,-0.033005546778440,0.049327105283737,-0.050319116562605,-0.045568697154522,-0.133149117231369,-0.058704275637865,0.115090727806091,-0.029107101261616));
res += mul(Get(s2,-dx,-dy), float4x4(-0.098262935876846,0.139802545309067,-0.028594370931387,0.074789278209209,-0.072899676859379,-0.021737331524491,0.016617882996798,-0.014674126170576,0.080785691738129,0.174005344510078,-0.094179607927799,0.065639026463032,0.049437496811152,-0.065508715808392,0.052848562598228,-0.059398829936981));
res += mul(Get(s2,-dx,0), float4x4(0.056141115725040,0.124644637107849,0.068585962057114,-0.123675659298897,-0.060301087796688,-0.002735329559073,-0.076034262776375,0.002180419629440,-0.030126400291920,0.060471143573523,-0.010311624966562,-0.033396691083908,0.199860408902168,0.016355028375983,-0.008097327314317,0.037938449531794));
res += mul(Get(s2,-dx,dy), float4x4(-0.028004104271531,-0.004598790314049,0.067548878490925,0.029610591009259,0.032110162079334,-0.040693454444408,-0.088664971292019,-0.019708249717951,-0.017153499647975,0.035057004541159,0.008096620440483,0.061447314918041,-0.044577434659004,-0.047542415559292,-0.132063001394272,0.036532457917929));
res += mul(Get(s2,0,-dy), float4x4(0.128295645117760,-0.112943917512894,-0.000365735118976,-0.096468381583691,0.052787307649851,0.087454937398434,-0.193105772137642,-0.041983306407928,-0.109378434717655,0.022572107613087,0.052739396691322,0.015776062384248,0.069938197731972,-0.092637695372105,0.026724735274911,-0.024334518238902));
res += mul(Get(s2,0,0), float4x4(0.071092769503593,-0.082091741263866,-0.006266178563237,0.022543478757143,-0.020383642986417,-0.035977814346552,0.016672288998961,0.098428770899773,0.014997409656644,0.032414291054010,0.011928755789995,-0.041706278920174,-0.035158738493919,-0.088741831481457,-0.067448362708092,0.058563381433487));
res += mul(Get(s2,0,dy), float4x4(-0.024390475824475,0.069922648370266,0.045121479779482,-0.023089187219739,0.102168820798397,0.001724007888697,0.058195196092129,-0.018150331452489,0.010603078640997,0.036635942757130,-0.056140344589949,-0.060016423463821,-0.067891381680965,0.025134203955531,0.096321843564510,-0.027384605258703));
res += mul(Get(s2,dx,-dy), float4x4(0.134040623903275,0.017986055463552,-0.173467531800270,-0.030379848554730,0.019857672974467,0.006651532836258,-0.032864283770323,-0.059417467564344,0.038706198334694,0.012537006288767,-0.110482387244701,0.012367063201964,-0.081757120788097,0.148782491683960,0.005174961406738,-0.008047717623413));
res += mul(Get(s2,dx,0), float4x4(0.048780381679535,-0.022116946056485,-0.035577438771725,-0.126259624958038,0.108848497271538,-0.092767186462879,0.156441360712051,-0.059604335576296,0.013819297775626,-0.053810793906450,-0.041458033025265,-0.008529022336006,0.046755541115999,0.026068851351738,0.017243526875973,0.090885519981384));
res += mul(Get(s2,dx,dy), float4x4(-0.028049308806658,0.021507347002625,-0.027766145765781,-0.074923306703568,-0.003446248592809,0.081338860094547,-0.048570077866316,-0.012075667269528,-0.053273353725672,0.012069502845407,-0.099149473011494,-0.067557461559772,0.000637176912278,0.036603130400181,-0.060186482965946,-0.038784764707088));
res += mul(Get(s3,-dx,-dy), float4x4(0.059305701404810,0.053906705230474,0.029691768810153,-0.151306644082069,-0.075478605926037,0.083353541791439,0.033091582357883,0.079788401722908,-0.153260722756386,0.141646236181259,0.061483811587095,-0.003350884653628,-0.017384143546224,0.055553819984198,-0.034361530095339,0.113396413624287));
res += mul(Get(s3,-dx,0), float4x4(0.032027017325163,-0.051212340593338,0.012667036615312,-0.095608703792095,-0.044416762888432,-0.007949179969728,-0.050693426281214,0.063494026660919,0.030748710036278,-0.037658877670765,0.082390077412128,-0.041480328887701,0.066307812929153,-0.002137091942132,-0.062053177505732,0.090898387134075));
res += mul(Get(s3,-dx,dy), float4x4(-0.107856221497059,0.129588589072227,0.041262634098530,0.026120824739337,0.033984147012234,0.142407447099686,-0.031909469515085,0.119754843413830,0.208914652466774,-0.067863486707211,-0.202455088496208,0.002158439252526,-0.051766633987427,0.078393884003162,0.003253674600273,0.125628978013992));
res += mul(Get(s3,0,-dy), float4x4(-0.013537281192839,0.023753723129630,-0.009414613246918,-0.012603092007339,0.031336918473244,0.006994270719588,-0.055480487644672,0.047046363353729,0.153656631708145,-0.159511774778366,-0.126518458127975,0.039002567529678,-0.058567471802235,-0.088582947850227,-0.019492274150252,0.000639633450191));
res += mul(Get(s3,0,0), float4x4(0.023761736229062,0.003339688293636,0.041177306324244,0.198234528303146,0.062093123793602,0.093506343662739,0.114166386425495,-0.255052596330643,0.120854884386063,-0.143759593367577,0.065597996115685,0.086319833993912,0.149836778640747,-0.160701498389244,0.066048614680767,-0.061593301594257));
res += mul(Get(s3,0,dy), float4x4(0.078876346349716,-0.098194420337677,-0.194858029484749,-0.106437228620052,0.018499489873648,0.048454064875841,0.057837858796120,-0.064066119492054,-0.033581178635359,-0.002053621225059,0.152042374014854,-0.058500099927187,-0.080476611852646,0.137338623404503,0.039497468620539,0.069350905716419));
res += mul(Get(s3,dx,-dy), float4x4(-0.104857735335827,-0.012019470334053,-0.004282589070499,-0.021693283692002,-0.011418103240430,0.040013696998358,0.104189500212669,0.016464043408632,-0.109858825802803,0.175925239920616,-0.018849635496736,-0.047931190580130,-0.172964707016945,0.058296907693148,0.141173422336578,0.102615371346474));
res += mul(Get(s3,dx,0), float4x4(-0.133923843502998,0.020257424563169,0.033924933522940,-0.005862910766155,-0.051301956176758,-0.033669147640467,0.019738435745239,-0.062279190868139,-0.070685565471649,0.228794768452644,0.087609246373177,-0.056362472474575,0.074979655444622,-0.061917606741190,-0.075829803943634,0.019174240529537));
res += mul(Get(s3,dx,dy), float4x4(0.081558510661125,-0.083510912954807,-0.061012838035822,-0.106065295636654,-0.074652999639511,-0.074792742729187,-0.015278331004083,0.017598889768124,-0.271590232849121,0.055232901126146,0.163605600595474,0.061634812504053,-0.012180303223431,0.005253512412310,-0.077588543295860,0.065470270812511));
return max(float4(0,0,0,0), res);
}
