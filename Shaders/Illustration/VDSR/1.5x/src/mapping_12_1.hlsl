sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.045393969863653,-0.052369244396687,0.185758695006371,-0.096272811293602,0.085164219141006,-0.095299690961838,0.033309780061245,-0.018321270123124,-0.021891301497817,0.004733872134238,-0.026388851925731,-0.097943909466267,-0.066579133272171,-0.074335850775242,0.040530588477850,-0.052856095135212));
res += mul(Get(s0,-dx,0), float4x4(0.068011455237865,-0.026224326342344,0.219057843089104,-0.095852404832840,-0.015518057160079,0.091587945818901,-0.093893259763718,-0.139625832438469,0.089702241122723,0.031562700867653,0.087773427367210,-0.059756059199572,0.029108690097928,-0.083296775817871,-0.035255987197161,-0.028270242735744));
res += mul(Get(s0,-dx,dy), float4x4(-0.006899841595441,0.005388922989368,-0.047433581203222,-0.180023282766342,-0.026491900905967,-0.091527283191681,0.059960078448057,-0.126216486096382,-0.097575135529041,-0.014734829775989,-0.006239814218134,-0.046665456146002,0.071169376373291,0.113894388079643,-0.071902520954609,0.088999949395657));
res += mul(Get(s0,0,-dy), float4x4(-0.028391936793923,-0.069788739085197,-0.124749869108200,-0.035267293453217,0.028770718723536,-0.053418327122927,-0.060417924076319,0.000178593050805,-0.014759008772671,0.067144446074963,0.000055509044614,0.053140930831432,0.030726240947843,-0.031615443527699,0.026222554966807,0.101273953914642));
res += mul(Get(s0,0,0), float4x4(-0.040679566562176,-0.085013523697853,0.068407185375690,-0.037060339003801,0.131677716970444,0.129298999905586,0.013368270359933,0.010154133662581,-0.050757698714733,0.029354512691498,0.028418792411685,-0.012875104323030,-0.017770141363144,-0.129399508237839,-0.006088796537369,-0.027968112379313));
res += mul(Get(s0,0,dy), float4x4(0.032094374299049,-0.063244268298149,-0.058237034827471,-0.041526701301336,0.078317612409592,-0.122292079031467,-0.032822903245687,0.071502476930618,0.029248977079988,0.125607207417488,-0.038095310330391,-0.004974151961505,0.039480708539486,0.117638595402241,-0.016505246981978,0.036045432090759));
res += mul(Get(s0,dx,-dy), float4x4(-0.116811081767082,-0.061868149787188,0.009662522934377,0.002380911260843,0.018711965531111,-0.027960436418653,0.013214552775025,-0.032071597874165,0.025447344407439,0.097233816981316,0.036801941692829,-0.006137740332633,0.037463527172804,-0.014263996854424,0.018977802246809,0.042437080293894));
res += mul(Get(s0,dx,0), float4x4(-0.040883846580982,0.091938942670822,0.107138052582741,0.001354795764200,0.014254219830036,-0.004850094206631,0.060252964496613,-0.062147032469511,-0.049450483173132,0.061126727610826,0.110661171376705,0.012081682682037,-0.011841933242977,-0.103071853518486,-0.004969418514520,-0.053029198199511));
res += mul(Get(s0,dx,dy), float4x4(-0.028355836868286,0.039090063422918,0.061879623681307,-0.025582954287529,0.048536870628595,0.049273248761892,-0.020302096381783,0.035591065883636,-0.027705959975719,0.030126798897982,-0.036047108471394,-0.020096104592085,0.007282555103302,0.099268220365047,0.095313668251038,0.008456067182124));
res += mul(Get(s1,-dx,-dy), float4x4(-0.065622165799141,-0.007916496135294,-0.017432536929846,-0.041318316012621,-0.033692583441734,0.000581478176173,0.047544389963150,-0.011357373557985,0.071671418845654,-0.044738173484802,0.020858777686954,0.003928044345230,-0.058477833867073,-0.041613541543484,-0.053984947502613,-0.109879225492477));
res += mul(Get(s1,-dx,0), float4x4(-0.077000759541988,-0.037151869386435,0.007160455454141,-0.055420648306608,-0.106704778969288,0.079627305269241,-0.031977042555809,-0.067233949899673,0.064177133142948,-0.032648015767336,-0.054054912179708,-0.025977117940784,-0.068844780325890,-0.018016986548901,-0.139170289039612,-0.078053958714008));
res += mul(Get(s1,-dx,dy), float4x4(-0.069605335593224,0.014706538058817,-0.016965046525002,0.074505120515823,-0.050974231213331,0.024865273386240,-0.012015804648399,-0.002688695676625,0.023707721382380,-0.033090978860855,0.023728443309665,-0.099160164594650,-0.065088935196400,0.031339321285486,0.025326235219836,0.054821535944939));
res += mul(Get(s1,0,-dy), float4x4(-0.002402394078672,0.023523813113570,0.090845629572868,0.017817482352257,0.050693776458502,0.036140311509371,0.059940796345472,0.099972985684872,0.050166901201010,0.078004829585552,-0.023403009399772,-0.077148191630840,-0.090755023062229,-0.090100072324276,0.116700597107410,0.030701415613294));
res += mul(Get(s1,0,0), float4x4(0.002821901813149,0.003197107231244,0.011741256341338,-0.019769435748458,-0.001683734706603,0.138429611921310,-0.034249372780323,0.079385697841644,0.061972256749868,-0.020225534215569,-0.038667671382427,0.089497640728951,-0.151276558637619,-0.047707404941320,0.019157629460096,-0.056577995419502));
res += mul(Get(s1,0,dy), float4x4(-0.070647753775120,0.054589826613665,-0.084404803812504,0.004823015071452,-0.080233648419380,0.006814929656684,-0.037560477852821,0.103234015405178,0.151314362883568,-0.022819872945547,-0.023192545399070,0.067976757884026,-0.115078233182430,0.052485711872578,0.067450709640980,0.023471817374229));
res += mul(Get(s1,dx,-dy), float4x4(0.051855668425560,0.018835583701730,0.020417202264071,-0.006639640312642,-0.083516776561737,-0.049136634916067,0.065728910267353,0.081566743552685,-0.030178992077708,0.010815743356943,-0.017261790111661,0.059725657105446,0.024492044001818,-0.008982039988041,0.019675709307194,0.115553677082062));
res += mul(Get(s1,dx,0), float4x4(0.036240015178919,-0.079322591423988,0.057508111000061,-0.005202199798077,-0.092500261962414,0.153519719839096,0.037683580070734,0.180155828595161,-0.087298393249512,-0.041514918208122,-0.046609200537205,0.057779584079981,-0.022301567718387,-0.003627096768469,-0.016709081828594,0.041693594306707));
res += mul(Get(s1,dx,dy), float4x4(-0.092359386384487,0.006843733135611,-0.012335711158812,-0.008329005911946,-0.010794694535434,-0.044443085789680,-0.037402678281069,0.132417380809784,-0.060430385172367,-0.042048197239637,-0.013067593798041,0.087733581662178,-0.012037838809192,0.022558318451047,-0.002489130245522,0.007990264333785));
res += mul(Get(s2,-dx,-dy), float4x4(0.052227362990379,0.162073120474815,-0.026735534891486,0.020687332376838,-0.002131547778845,-0.084809117019176,0.030320456251502,-0.082067020237446,0.006842601113021,0.009676121175289,-0.027515614405274,0.023536492139101,-0.048669930547476,-0.083459235727787,0.049378607422113,-0.061334777623415));
res += mul(Get(s2,-dx,0), float4x4(-0.076645448803902,-0.099071525037289,0.051252666860819,-0.024768361821771,-0.006603067740798,-0.015130842104554,-0.018147880211473,-0.040436901152134,0.031055934727192,0.023178679868579,0.086024977266788,0.103338144719601,0.019692203029990,-0.028186805546284,0.067787244915962,-0.053538370877504));
res += mul(Get(s2,-dx,dy), float4x4(-0.048549417406321,-0.024599725380540,0.152591228485107,-0.033240176737309,-0.004523811861873,-0.115647107362747,-0.080349244177341,-0.011842384003103,-0.006729833781719,0.026286156848073,0.090261809527874,0.080749548971653,-0.034302096813917,-0.051931753754616,0.043280184268951,-0.066255152225494));
res += mul(Get(s2,0,-dy), float4x4(-0.055782247334719,0.133369386196136,-0.035069212317467,-0.024456825107336,0.107541598379612,-0.025386257097125,0.037176113575697,0.094402045011520,0.143095016479492,0.108771964907646,-0.007687780074775,0.018660590052605,0.028282875195146,0.005811687558889,0.012331955134869,-0.034410052001476));
res += mul(Get(s2,0,0), float4x4(-0.058352947235107,-0.157905265688896,0.019980451092124,-0.027338160201907,0.003825713880360,0.134438678622246,-0.034287184476852,0.006644633132964,0.075731992721558,0.111702278256416,-0.001003191573545,0.043747711926699,-0.040847495198250,-0.038668900728226,-0.011175516992807,-0.025396889075637));
res += mul(Get(s2,0,dy), float4x4(-0.099711701273918,-0.022815618664026,0.035847842693329,-0.074802018702030,0.031091958284378,-0.098379053175449,-0.042827662080526,0.022119982168078,0.090077228844166,-0.001605849945918,0.064457058906555,0.032287053763866,-0.122883990406990,-0.070624560117722,-0.068723805248737,-0.004326874390244));
res += mul(Get(s2,dx,-dy), float4x4(-0.051601611077785,0.058977112174034,0.073417983949184,-0.034437522292137,0.067353360354900,-0.013364261016250,0.086736828088760,-0.017566632479429,-0.035661417990923,0.018843162804842,-0.018101481720805,0.012347199954093,0.008308013901114,-0.003704883856699,0.061621703207493,-0.036339003592730));
res += mul(Get(s2,dx,0), float4x4(-0.070825561881065,-0.001403199741617,-0.005640273913741,-0.064746066927910,-0.000087672975496,0.085988573729992,0.071419693529606,0.091794922947884,-0.029072174802423,0.096344687044621,-0.006750377360731,0.024515701457858,0.037554997950792,-0.101328618824482,0.078335769474506,-0.033497177064419));
res += mul(Get(s2,dx,dy), float4x4(-0.033168714493513,-0.051393672823906,0.091116257011890,-0.045010663568974,0.025462023913860,-0.048216767609119,-0.002052935073152,0.040585204958916,-0.037542108446360,-0.017159355804324,0.024032620713115,0.043137855827808,-0.019945956766605,-0.077448934316635,-0.048696998506784,-0.027869952842593));
res += mul(Get(s3,-dx,-dy), float4x4(0.027018122375011,0.012318412773311,-0.031607970595360,0.131577849388123,0.109222404658794,-0.180303096771240,0.090754166245461,-0.016741478815675,0.062014054507017,0.021098626777530,0.082708567380905,0.104750350117683,0.258036375045776,-0.100898750126362,0.113075740635395,-0.097884222865105));
res += mul(Get(s3,-dx,0), float4x4(-0.000783776631579,0.087485700845718,-0.075949870049953,-0.006353717297316,0.040563482791185,0.113422028720379,-0.110209949314594,0.012746663764119,-0.008691179566085,0.046404801309109,0.008833474479616,-0.069126561284065,0.161069363355637,-0.061034779995680,0.138424202799797,-0.027725804597139));
res += mul(Get(s3,-dx,dy), float4x4(0.012907133437693,0.098107494413853,-0.153273314237595,-0.067160360515118,-0.007045840844512,-0.132228732109070,-0.018044723197818,-0.117771521210670,0.005233853589743,0.083757750689983,0.005407421849668,0.011309986002743,0.038510113954544,0.083538830280304,-0.002203533425927,0.045175913721323));
res += mul(Get(s3,0,-dy), float4x4(-0.070493087172508,-0.039618697017431,0.008602093905210,0.138143911957741,-0.084681607782841,-0.114054732024670,-0.005282899830490,-0.102618791162968,0.040966980159283,0.031062481924891,0.039800882339478,-0.004343162290752,-0.026756072416902,0.011681867763400,0.056315146386623,0.004011247772723));
res += mul(Get(s3,0,0), float4x4(0.015946144238114,-0.013788537122309,0.006455373018980,0.034876432269812,0.081233084201813,0.159437373280525,0.048487473279238,0.014900496229529,-0.021748030558228,-0.081236511468887,0.003051381558180,-0.004233291372657,-0.123447492718697,-0.042425826191902,-0.053816102445126,0.015765463933349));
res += mul(Get(s3,0,dy), float4x4(-0.088345319032669,0.182753235101700,-0.094221003353596,0.009529539383948,-0.008165507577360,-0.128856837749481,0.001149266492575,0.048279672861099,-0.000589170667809,0.103030450642109,-0.120135769248009,-0.004558995831758,0.042881641536951,-0.013205547817051,-0.016261203214526,0.063631497323513));
res += mul(Get(s3,dx,-dy), float4x4(-0.118126519024372,-0.048004414886236,0.033816430717707,0.146465361118317,-0.022615794092417,-0.052480179816484,0.042772255837917,0.088915653526783,0.004869605880231,0.009977999143302,-0.078727543354034,-0.077888399362564,0.058581270277500,0.046233735978603,0.010786212980747,-0.013266382738948));
res += mul(Get(s3,dx,0), float4x4(-0.146942824125290,-0.035524167120457,-0.051631722599268,-0.007376584690064,-0.066966295242310,0.080994270741940,-0.017940450459719,0.023553267121315,-0.044242423027754,-0.061335083097219,-0.077131807804108,-0.040207698941231,0.087201990187168,0.004716741386801,0.006213314831257,0.124335967004299));
res += mul(Get(s3,dx,dy), float4x4(0.007378720678389,0.024391908198595,-0.112155370414257,-0.010383448563516,0.087076172232628,0.013256086036563,-0.031647175550461,0.027150116860867,0.036012001335621,0.026655983179808,-0.046728804707527,-0.041332911700010,0.051599927246571,-0.076910145580769,0.067947782576084,0.093791455030441));
return max(float4(0,0,0,0), res);
}
