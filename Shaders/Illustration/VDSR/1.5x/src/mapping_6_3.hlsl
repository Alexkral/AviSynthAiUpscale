sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.003145247930661,-0.032858401536942,0.027117477729917,0.025542719289660,0.000437452254118,-0.000449464801932,0.003785705426708,-0.010025696828961,-0.000570323260035,-0.000146532402141,0.006471088621765,0.001568946288899,-0.000076203752542,0.024577684700489,0.081090003252029,0.027666984125972));
res += mul(Get(s0,-dx,0), float4x4(-0.006851675454527,-0.030751857906580,0.024571266025305,0.030847117304802,0.002735391026363,0.002667594933882,-0.007576679345220,0.000558330328204,-0.000053370164096,0.055437274277210,0.033217124640942,-0.011277819983661,-0.003283398458734,-0.017709186300635,-0.215345785021782,-0.009211268275976));
res += mul(Get(s0,-dx,dy), float4x4(0.003576367860660,-0.032075345516205,-0.034490726888180,0.043571297079325,-0.001057960558683,0.003030488034710,-0.002746230456978,-0.000840121589135,-0.002582743996754,0.071014724671841,-0.130565598607063,0.018294921144843,-0.001291655935347,0.039893869310617,0.037830423563719,-0.015298809856176));
res += mul(Get(s0,0,-dy), float4x4(0.003472907235846,-0.023277504369617,0.036274116486311,0.013414999470115,-0.002412077039480,0.019026834517717,0.012747244909406,-0.000634266005363,0.001783570274711,0.002284714486450,0.135225147008896,0.034676056355238,-0.005167898256332,-0.063550658524036,-0.031935147941113,-0.017523642629385));
res += mul(Get(s0,0,0), float4x4(-0.001457665930502,-0.007270542439073,0.034194931387901,0.012152860872447,-0.000519726367202,-0.004057486075908,0.027573037892580,0.012783513404429,-0.000008747751963,0.010650114156306,0.122041985392570,0.059380747377872,0.001522121718153,0.172449320554733,0.093811377882957,0.017050642520189));
res += mul(Get(s0,0,dy), float4x4(-0.009055271744728,-0.020778916776180,-0.000054204156186,0.013345972634852,-0.005540464073420,-0.002500846283510,0.013272275216877,0.002970714587718,-0.002869414631277,0.032572634518147,-0.064587220549583,0.031273204833269,-0.003153620986268,0.162293002009392,0.194861277937889,-0.022446341812611));
res += mul(Get(s0,dx,-dy), float4x4(-0.004069369751960,-0.005029838532209,-0.023514857515693,0.000601049512625,0.002230238867924,0.016143884509802,0.028394833207130,-0.003590200329199,-0.006341076456010,-0.014260048978031,-0.097883813083172,-0.009822796098888,0.000796425039880,0.049256473779678,-0.003486282425001,-0.056817099452019));
res += mul(Get(s0,dx,0), float4x4(0.001609480590560,-0.013208373449743,-0.073613062500954,0.001022316166200,0.000365171057638,0.000188547986909,-0.004130747634917,0.004450850654393,-0.000003454955049,0.060964252799749,-0.038922436535358,-0.049931257963181,0.003749219002202,0.245827347040176,-0.032250232994556,0.101222999393940));
res += mul(Get(s0,dx,dy), float4x4(0.002658088691533,-0.021116673946381,-0.147064760327339,-0.004293752368540,0.007368220947683,0.005865704268217,-0.009912781417370,-0.000939883873798,0.000204388270504,-0.008711736649275,-0.009660486131907,-0.022772366181016,0.003427591407672,-0.011394338682294,0.029117321595550,0.004539790563285));
res += mul(Get(s1,-dx,-dy), float4x4(0.006867987103760,0.019037485122681,-0.045458033680916,0.113919742405415,-0.001748097944073,0.161189883947372,0.010067409835756,0.007432713638991,-0.004100582096726,-0.025856226682663,0.022908376529813,0.028923157602549,-0.002248969860375,0.020054658874869,0.039370473474264,0.012124950066209));
res += mul(Get(s1,-dx,0), float4x4(0.001622378709726,-0.125502869486809,0.087510511279106,0.129298552870750,-0.001875623711385,0.252384006977081,-0.044501949101686,0.058468595147133,0.000263812631601,0.010853728279471,-0.049220051616430,0.010955881327391,0.002846678718925,0.180833414196968,-0.026765936985612,0.036228399723768));
res += mul(Get(s1,-dx,dy), float4x4(0.004644376225770,-0.113728374242783,-0.012661090120673,0.053230114281178,-0.001670299097896,-0.001680537126958,0.200282812118530,0.012196410447359,0.004637462552637,-0.038330100476742,0.115090072154999,-0.025928745046258,-0.005888910032809,0.010443295352161,0.045882642269135,0.078695252537727));
res += mul(Get(s1,0,-dy), float4x4(-0.000169549326529,-0.018308468163013,-0.003014883492142,0.012886382639408,-0.004152415320277,0.097126059234142,-0.067767538130283,-0.020279837772250,0.000366267020581,-0.011934329755604,-0.015114411711693,0.011011813767254,0.000064265172114,0.190636634826660,-0.102141246199608,0.002819669665769));
res += mul(Get(s1,0,0), float4x4(-0.003218584461138,-0.109219901263714,-0.041821643710136,-0.048418335616589,-0.006565645802766,0.009655437432230,-0.105060011148453,-0.012753326445818,-0.000167144462466,-0.042267266660929,-0.073403306305408,-0.022477509453893,0.003582212375477,0.061755049973726,-0.063093952834606,-0.001295621390454));
res += mul(Get(s1,0,dy), float4x4(0.002211032435298,-0.095042988657951,0.023144228383899,0.024653457105160,-0.006181663833559,-0.141801953315735,-0.095805279910564,-0.022995807230473,-0.003104719799012,-0.048402227461338,0.095422357320786,-0.041252337396145,0.002122550271451,-0.071270979940891,-0.045325241982937,0.043587081134319));
res += mul(Get(s1,dx,-dy), float4x4(-0.000513048667926,-0.032292563468218,0.047187305986881,0.168208956718445,0.001287330756895,-0.065945595502853,-0.019272549077868,-0.076580777764320,-0.003714921651408,-0.052426453679800,0.014783394522965,0.041733175516129,-0.005807765293866,0.088528245687485,-0.105792894959450,0.009999139234424));
res += mul(Get(s1,dx,0), float4x4(-0.001396562671289,-0.050415296107531,0.018867697566748,0.136042758822441,-0.002895221114159,-0.084607869386673,-0.007547024171799,-0.051716081798077,-0.000125129372464,-0.030051833018661,-0.001286835875362,-0.011618372984231,0.001189019647427,-0.060138385742903,-0.085583485662937,-0.041474394500256));
res += mul(Get(s1,dx,dy), float4x4(0.001323446515016,0.003031080588698,-0.021472377702594,0.157957568764687,-0.000936393160373,-0.137658149003983,0.065461695194244,-0.040232025086880,0.000319084472721,-0.038152188062668,0.021430356428027,-0.018223095685244,-0.003962829709053,-0.070791035890579,-0.023364633321762,0.101260885596275));
res += mul(Get(s2,-dx,-dy), float4x4(0.001272268942557,-0.039972066879272,-0.075852312147617,-0.012185159139335,0.001638776506297,0.117700204253197,-0.030983842909336,-0.011832199059427,0.002281250664964,-0.020350178703666,-0.141308456659317,0.009802076034248,-0.003756351768970,0.002825814066455,-0.003419079352170,-0.001241932157427));
res += mul(Get(s2,-dx,0), float4x4(0.001534674898721,0.079326197504997,0.262782394886017,-0.060238935053349,-0.005805888213217,0.110003583133221,0.166205897927284,0.053114652633667,0.001698297448456,0.007052196655422,0.180106505751610,0.028388015925884,0.006091401446611,0.007234453689307,0.004419875796884,0.007679493632168));
res += mul(Get(s2,-dx,dy), float4x4(-0.005302313715219,0.043142501264811,0.161431357264519,-0.029992766678333,-0.002385018160567,0.035922214388847,0.027057433500886,-0.012347793206573,-0.003520845435560,-0.069995567202568,-0.047484263777733,0.104920327663422,-0.004791924729943,-0.001873693661764,0.017632747069001,0.001519388053566));
res += mul(Get(s2,0,-dy), float4x4(-0.002436760114506,-0.123998738825321,0.012900082394481,0.082991190254688,0.001808706321754,0.115669570863247,0.141830950975418,-0.014484966173768,-0.009595380164683,0.019396107643843,0.031175019219518,0.098324552178383,0.001782548148185,0.012019354850054,0.003586442675442,0.002614856231958));
res += mul(Get(s2,0,0), float4x4(-0.004188082180917,-0.032730195671320,0.284142792224884,0.079826183617115,0.002614685101435,0.000909117516130,-0.139678582549095,-0.034526739269495,-0.001469899551012,-0.066501080989838,0.207011416554451,0.065984569489956,0.004934348631650,0.000434152578237,0.008930222131312,-0.004961969330907));
res += mul(Get(s2,0,dy), float4x4(0.001724352478050,-0.058878418058157,0.093751057982445,0.070471458137035,-0.002963925246149,-0.119299247860909,0.110946655273438,0.032417096197605,-0.000291692820610,0.079389914870262,-0.342110782861710,0.110793560743332,-0.002764268312603,0.006567507982254,-0.002323179040104,0.004872411489487));
res += mul(Get(s2,dx,-dy), float4x4(0.003176452126354,-0.117603763937950,0.016266409307718,-0.085109852254391,-0.002145469421521,-0.003619047114626,0.013298386707902,-0.013891259208322,0.001853997120634,-0.038028925657272,-0.046578761190176,-0.085147328674793,0.006177721079439,-0.002754068933427,-0.008010349236429,0.003180089406669));
res += mul(Get(s2,dx,0), float4x4(-0.000115936338261,0.158041387796402,-0.078486971557140,-0.106795489788055,0.001269373693503,-0.139638572931290,0.156156003475189,-0.133170723915100,-0.007005820982158,0.070336364209652,0.147942364215851,-0.017986122518778,0.000370194116840,0.001145638991147,-0.003619886934757,-0.004526797216386));
res += mul(Get(s2,dx,dy), float4x4(0.001228936831467,-0.033011641353369,0.007805606350303,-0.028233222663403,-0.005725047085434,-0.283928066492081,-0.202691346406937,-0.052826255559921,-0.000050286598707,0.103404201567173,0.200989320874214,0.134430676698685,0.003265148028731,0.007041241507977,0.001635528169572,0.007167176343501));
res += mul(Get(s3,-dx,-dy), float4x4(0.000227065815125,-0.019547617062926,0.001847308711149,-0.011333925649524,-0.007781863678247,-0.144902139902115,-0.068933211266994,0.005830232053995,-0.002872226759791,-0.056991983205080,0.360830157995224,-0.035898469388485,0.000279433967080,0.037876639515162,0.013195236213505,0.077505141496658));
res += mul(Get(s3,-dx,0), float4x4(0.005649244412780,-0.005902579985559,-0.006265481002629,0.000629900372587,-0.001502380589955,-0.122039355337620,0.170072957873344,-0.077249072492123,0.001230736030266,0.010504974983633,-0.091451510787010,-0.015211333520710,0.002618944039568,-0.084471739828587,-0.027470827102661,0.042849708348513));
res += mul(Get(s3,-dx,dy), float4x4(-0.001322339521721,-0.009891830384731,-0.006158329080790,-0.010240733623505,-0.000295645819278,-0.044496934860945,-0.165553420782089,-0.056655280292034,-0.003568177809939,0.029966684058309,0.212610945105553,0.058322466909885,-0.003256831318140,-0.020116381347179,0.025825008749962,0.003481468418613));
res += mul(Get(s3,0,-dy), float4x4(0.004209107253700,-0.004180802032351,0.009269854985178,-0.002373503055423,-0.000715773669071,-0.153919994831085,0.070911303162575,-0.162659451365471,-0.003092222381383,-0.044039018452168,-0.117539174854755,-0.041005652397871,-0.002223317744210,-0.010269119404256,0.024143729358912,0.067764781415462));
res += mul(Get(s3,0,0), float4x4(0.000580111576710,-0.002328518079594,0.013875823467970,-0.000370182562619,-0.003314695321023,-0.133139625191689,-0.050275519490242,-0.080120608210564,-0.001945481286384,0.054448910057545,-0.052563920617104,0.003467711387202,-0.001295261667110,-0.093943290412426,-0.086312428116798,-0.024103915318847));
res += mul(Get(s3,0,dy), float4x4(0.003651477862149,-0.006528271362185,-0.009098195470870,-0.002570287790149,0.000528015720192,-0.016456993296742,0.091267824172974,-0.005679428111762,-0.004259669687599,-0.082397647202015,-0.159754991531372,0.003624402452260,0.001034824876115,-0.036666341125965,0.061724271625280,0.000407742831158));
res += mul(Get(s3,dx,-dy), float4x4(0.005597199779004,0.000460071198177,0.021974166855216,0.003741546534002,0.000075924814155,-0.115807026624680,0.033513169735670,-0.038456488400698,-0.008007611148059,-0.031224271282554,0.011758312582970,-0.069515325129032,-0.005978844128549,-0.057268340140581,-0.045954622328281,-0.000845099857543));
res += mul(Get(s3,dx,0), float4x4(0.000412943249103,-0.003867235500365,0.031840804964304,0.005753456614912,-0.002419098047540,0.094949156045914,0.153621584177017,-0.007045160047710,-0.003006860148162,0.020439181476831,0.048569649457932,-0.026756880804896,0.003427866147831,-0.033308889716864,0.076422281563282,0.009152597747743));
res += mul(Get(s3,dx,dy), float4x4(-0.002923148218542,0.000752221443690,0.005250186659396,-0.002653826493770,-0.003703199792653,0.152187049388885,-0.047249980270863,0.049513325095177,-0.002082642167807,-0.003965461160988,0.034121681004763,-0.069461800158024,0.006634368561208,-0.085526302456856,-0.008814631029963,-0.014724125154316));
return max(float4(0,0,0,0), res);
}
