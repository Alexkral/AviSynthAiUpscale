sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.081252165138721,-0.104666091501713,-0.030706493183970,-0.040239755064249,-0.085044540464878,0.030881360173225,0.075975008308887,0.025415634736419,-0.012812729924917,0.049510423094034,-0.004283866845071,-0.124043516814709,0.007976281456649,0.021893160417676,0.021728504449129,-0.040648553520441));
res += mul(Get(s0,-dx,0), float4x4(-0.061866514384747,-0.027663001790643,-0.018411612138152,-0.025129925459623,0.063661299645901,0.066990815103054,0.050587855279446,0.041069284081459,0.115435689687729,0.006054077763110,-0.131424129009247,0.024994233623147,-0.023961720988154,-0.001756627811119,0.063410580158234,-0.011920131742954));
res += mul(Get(s0,-dx,dy), float4x4(-0.094688035547733,0.040609836578369,0.090672351419926,-0.002210948150605,-0.047441389411688,0.069622047245502,-0.110225126147270,-0.006018110085279,0.061160396784544,0.013631388545036,-0.090322375297546,0.037520535290241,0.004563459195197,-0.073089703917503,0.102728299796581,0.002934212563559));
res += mul(Get(s0,0,-dy), float4x4(-0.082517154514790,-0.020835826173425,0.039944726973772,-0.012672020122409,-0.084865257143974,0.052957575768232,-0.045913577079773,0.051282305270433,0.066722087562084,0.073070570826530,0.014608526602387,-0.007272581569850,0.022547369822860,-0.017870258539915,0.071040175855160,0.001596409128979));
res += mul(Get(s0,0,0), float4x4(-0.010357191786170,-0.102042809128761,0.024385267868638,-0.065845265984535,0.036260955035686,0.079542368650436,-0.007193539757282,0.102907873690128,-0.072013773024082,0.093520872294903,-0.075803793966770,-0.036836218088865,0.073497757315636,-0.067855775356293,0.013704726472497,-0.060158088803291));
res += mul(Get(s0,0,dy), float4x4(-0.115224741399288,0.014752494171262,0.032083172351122,0.063505038619041,0.003653597086668,-0.008201589807868,-0.088490270078182,-0.116215609014034,0.029601208865643,0.066102989017963,0.120899140834808,-0.033470652997494,-0.029272759333253,0.017352536320686,-0.017589561641216,-0.068310379981995));
res += mul(Get(s0,dx,-dy), float4x4(-0.052620586007833,0.039943508803844,-0.036053195595741,0.001123080844991,0.035311624407768,-0.160742387175560,-0.056127570569515,-0.039246261119843,0.123125597834587,-0.091018006205559,-0.111415401101112,-0.013328289613128,-0.060131117701530,-0.063472509384155,0.016341911628842,-0.000165389821632));
res += mul(Get(s0,dx,0), float4x4(-0.071155183017254,0.059640597552061,0.046559996902943,0.101725600659847,-0.079799689352512,0.011482181958854,0.000554466911126,0.008386316709220,-0.014015367254615,-0.064229562878609,0.002679594093934,0.038046564906836,-0.021570259705186,-0.038081966340542,0.143924549221992,0.013547256588936));
res += mul(Get(s0,dx,dy), float4x4(-0.155243486166000,0.179155409336090,0.082444064319134,0.045315843075514,0.014491889625788,-0.086931310594082,-0.081562139093876,-0.116970509290695,0.083861768245697,0.118574485182762,0.036944925785065,-0.047051377594471,-0.058363035321236,0.109324835240841,0.058481760323048,0.011347726918757));
res += mul(Get(s1,-dx,-dy), float4x4(0.070511922240257,0.076601624488831,-0.083086781203747,-0.054541487246752,0.040009234100580,0.132684707641602,0.159180253744125,-0.066304914653301,0.104083500802517,-0.072566866874695,-0.037202212959528,-0.045755103230476,-0.042858257889748,-0.158678457140923,-0.062186390161514,0.037732474505901));
res += mul(Get(s1,-dx,0), float4x4(0.045986596494913,-0.035904724150896,0.006511321291327,-0.092101432383060,0.045577142387629,-0.031068405136466,-0.023278694599867,-0.049565818160772,-0.012741493061185,0.058017600327730,-0.160474523901939,-0.040426295250654,-0.000016732776203,-0.102755963802338,0.052174728363752,-0.009814948774874));
res += mul(Get(s1,-dx,dy), float4x4(0.015847286209464,-0.020768655464053,-0.041917111724615,-0.007870698347688,0.035268593579531,0.020111078396440,0.024104440584779,-0.111645609140396,0.077257983386517,0.006270397454500,0.148240238428116,-0.066550083458424,-0.034021999686956,0.031951051205397,0.039441067725420,0.006827258039266));
res += mul(Get(s1,0,-dy), float4x4(0.083955153822899,0.078156903386116,-0.093300282955170,0.092425175011158,0.019637402147055,0.000162506970810,0.030727915465832,-0.020986393094063,-0.015207408927381,0.199043050408363,-0.041286978870630,0.054863017052412,0.030925547704101,-0.034748278558254,-0.059439312666655,-0.048173893243074));
res += mul(Get(s1,0,0), float4x4(0.005412641447037,-0.066665641963482,0.066452346742153,0.174687266349792,-0.008682700805366,0.031574558466673,-0.002474615350366,0.010010982863605,0.132130518555641,0.156218767166138,-0.090476602315903,0.049892757087946,0.026052303612232,0.111803025007248,-0.071049563586712,0.043811075389385));
res += mul(Get(s1,0,dy), float4x4(-0.044013090431690,-0.178219035267830,0.063064053654671,0.042013995349407,0.126373082399368,0.140661075711250,0.060760922729969,0.048601884394884,-0.017101239413023,0.094396717846394,-0.041330851614475,-0.044239625334740,0.010639284737408,0.113707654178143,0.078996941447258,0.096865601837635));
res += mul(Get(s1,dx,-dy), float4x4(-0.159955069422722,-0.050288259983063,0.108759395778179,0.007361072115600,0.114257760345936,0.026353394612670,-0.102428443729877,-0.046376172453165,0.097380481660366,0.064389720559120,-0.025925273075700,-0.023193653672934,0.051265023648739,0.060913372784853,0.032312057912350,-0.000943291874137));
res += mul(Get(s1,dx,0), float4x4(0.038313489407301,-0.146876230835915,0.019409429281950,-0.031018426641822,-0.027311738580465,0.031896777451038,0.068060047924519,-0.097337268292904,0.082261316478252,0.114748552441597,-0.056014392524958,0.059294119477272,0.003998195752501,-0.008365142159164,-0.059497442096472,0.011926752515137));
res += mul(Get(s1,dx,dy), float4x4(-0.093281127512455,-0.064875021576881,0.044686026871204,-0.041512183845043,0.184697985649109,0.076481342315674,0.133426025509834,-0.028004173189402,-0.020671002566814,0.062173556536436,0.186541751027107,0.044813573360443,0.045481368899345,-0.012879904359579,-0.017613176256418,0.008421410806477));
res += mul(Get(s2,-dx,-dy), float4x4(-0.044618926942348,-0.047320690006018,-0.004713263828307,0.025513475760818,-0.069574691355228,0.006506333593279,0.013879323378205,0.057713706046343,0.020085483789444,0.049541626125574,0.040881600230932,-0.014984161593020,-0.101864039897919,-0.076822675764561,0.146830826997757,-0.039084851741791));
res += mul(Get(s2,-dx,0), float4x4(-0.021586457267404,0.123765237629414,0.049025624990463,-0.039582185447216,-0.121055468916893,0.093568913638592,0.087322250008583,-0.068059138953686,0.120857410132885,0.091030836105347,0.020522017031908,-0.005104966927320,0.094773270189762,-0.003473300253972,-0.098165661096573,0.064648263156414));
res += mul(Get(s2,-dx,dy), float4x4(-0.003837633179501,-0.134139344096184,0.067763060331345,0.031507689505816,-0.064417086541653,0.002475599991158,-0.009786916896701,-0.047779381275177,0.053237169981003,-0.035685777664185,-0.070421382784843,0.027134513482451,-0.029953278601170,0.013059530407190,-0.010283741168678,0.021629601716995));
res += mul(Get(s2,0,-dy), float4x4(-0.007266546133906,0.013967622071505,0.063313290476799,0.031812060624361,0.066935762763023,0.042218226939440,-0.088750064373016,0.100285649299622,0.062690481543541,0.048845380544662,-0.009843099862337,0.027430739253759,0.101663514971733,0.107327848672867,0.020625649020076,-0.033398531377316));
res += mul(Get(s2,0,0), float4x4(0.014814872294664,-0.026233529672027,0.072584323585033,0.084691889584064,0.030761273577809,-0.066254384815693,0.002021053573117,0.094542890787125,-0.093471258878708,-0.047869943082333,0.060178894549608,-0.006264083553106,-0.055927652865648,0.020807597786188,-0.011374268680811,-0.063298717141151));
res += mul(Get(s2,0,dy), float4x4(-0.024332815781236,-0.013180397450924,0.020817710086703,-0.107410557568073,-0.042438235133886,-0.085944190621376,0.005243562627584,0.050647713243961,-0.120285332202911,-0.066662490367889,0.111554428935051,0.016118159517646,0.076548948884010,0.094940774142742,-0.035752132534981,-0.148384094238281));
res += mul(Get(s2,dx,-dy), float4x4(0.171673759818077,-0.121569685637951,0.114975161850452,-0.099758908152580,-0.093146964907646,0.059203103184700,-0.016349466517568,-0.071963727474213,-0.091665141284466,-0.062287949025631,-0.126962676644325,-0.015845151618123,0.068724758923054,-0.082503512501717,-0.019191896542907,0.074593275785446));
res += mul(Get(s2,dx,0), float4x4(0.027058767154813,-0.108768723905087,-0.049357648938894,0.041631016880274,-0.104301609098911,-0.068071447312832,-0.037478331476450,0.043498255312443,-0.019858978688717,-0.078180626034737,-0.103697322309017,-0.155669629573822,0.196502074599266,-0.006296730134636,-0.064393177628517,0.103663034737110));
res += mul(Get(s2,dx,dy), float4x4(0.131489470601082,0.100898139178753,0.138818651437759,0.078653171658516,-0.008040122687817,0.045086812227964,0.005220128223300,-0.108931183815002,-0.129489362239838,-0.016114385798573,-0.067476972937584,-0.049325570464134,0.102718301117420,-0.015558988787234,-0.012817909009755,0.025343293324113));
res += mul(Get(s3,-dx,-dy), float4x4(-0.039549466222525,0.104743137955666,0.014087652787566,-0.017155349254608,-0.053849332034588,-0.035468306392431,0.038152787834406,0.069553524255753,-0.045312996953726,-0.063508272171021,0.139682054519653,-0.023842865601182,0.068458460271358,-0.126438111066818,-0.102722413837910,-0.004611221142113));
res += mul(Get(s3,-dx,0), float4x4(0.057653158903122,-0.059063233435154,0.084917485713959,0.030160097405314,0.070993773639202,-0.002544527174905,0.017073160037398,-0.035746518522501,-0.007677881047130,0.089898757636547,-0.039116907864809,0.023964695632458,0.012748019769788,-0.023615127429366,0.083026096224785,0.090929992496967));
res += mul(Get(s3,-dx,dy), float4x4(-0.104861468076706,-0.098064459860325,-0.137311190366745,-0.004875637590885,0.066277414560318,0.032213687896729,0.066705249249935,-0.117553733289242,-0.011619606986642,0.000560979940929,0.013292579911649,-0.018908629193902,0.087935499846935,-0.098570600152016,-0.029379593208432,0.017908595502377));
res += mul(Get(s3,0,-dy), float4x4(0.056983701884747,-0.111554846167564,0.033679593354464,0.003292622044683,-0.005386405158788,-0.103896468877792,-0.006166194099933,0.040377296507359,-0.086379155516624,-0.146546557545662,0.030716639012098,0.004311463329941,-0.046351991593838,0.035267613828182,0.013285313732922,0.068173505365849));
res += mul(Get(s3,0,0), float4x4(-0.005496233236045,0.045040424913168,0.131447330117226,0.152571067214012,0.088361218571663,-0.055236876010895,0.038772482424974,0.039813358336687,0.002015468897298,-0.038282752037048,-0.009907227940857,-0.027041727676988,-0.008151100948453,-0.032809797674417,0.085892230272293,-0.054765630513430));
res += mul(Get(s3,0,dy), float4x4(0.128110542893410,0.032820459455252,0.033094093203545,0.016174446791410,0.014237655326724,-0.033709924668074,0.002774352906272,0.037862975150347,-0.109697550535202,-0.191360861063004,0.063232302665710,0.128881990909576,-0.021768551319838,-0.062107294797897,-0.120657756924629,-0.085000723600388));
res += mul(Get(s3,dx,-dy), float4x4(0.024184400215745,0.003013584762812,-0.117960415780544,-0.031645342707634,-0.090836696326733,0.016639064997435,0.116139799356461,0.054951317608356,-0.030161123722792,-0.001274913549423,0.010464477352798,-0.022573960945010,-0.009076981805265,0.095123983919621,-0.054968263953924,0.024988928809762));
res += mul(Get(s3,dx,0), float4x4(0.005832884926349,-0.105979949235916,-0.078800275921822,-0.148536518216133,-0.055133424699306,-0.007784809451550,-0.048188403248787,-0.046238612383604,-0.106576599180698,-0.149528831243515,0.082274757325649,0.040682472288609,0.038621589541435,-0.065680935978889,0.031802255660295,0.033326480537653));
res += mul(Get(s3,dx,dy), float4x4(-0.013876113109291,0.041599851101637,-0.002495915396139,0.003500109771267,-0.037276040762663,-0.015218117274344,0.052774686366320,0.027247205376625,-0.029194397851825,0.014186318963766,-0.014804352074862,0.060697276145220,0.023754997178912,0.046781264245510,-0.147501230239868,0.031423717737198));
return max(float4(0,0,0,0), res);
}
