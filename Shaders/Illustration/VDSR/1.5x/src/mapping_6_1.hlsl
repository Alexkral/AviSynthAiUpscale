sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.009548552334309,0.008796122856438,0.021687332540751,0.023515388369560,-0.011531106196344,-0.009008509106934,0.000342314859154,0.004366039764136,0.015123957768083,-0.059529710561037,0.006149334833026,-0.022446384653449,-0.044661108404398,0.058530639857054,-0.007823546417058,0.017402619123459));
res += mul(Get(s0,-dx,0), float4x4(0.030032100155950,0.009577683173120,-0.019720338284969,0.016572929918766,0.005464754998684,-0.005185982212424,0.008457439951599,-0.000432573084254,0.011478540487587,-0.077293470501900,0.148537442088127,0.057317320257425,0.161743357777596,0.036180455237627,-0.115253143012524,-0.068664737045765));
res += mul(Get(s0,-dx,dy), float4x4(0.025956517085433,-0.014430970884860,-0.029247626662254,-0.042575158178806,0.003773345146328,-0.016502160578966,0.001705222064629,0.007563336286694,0.054705593734980,-0.022087214514613,-0.004311162047088,-0.013369988650084,0.106376282870770,0.099821202456951,-0.079609304666519,-0.050618622452021));
res += mul(Get(s0,0,-dy), float4x4(0.015241627581418,0.029901253059506,0.024597285315394,0.069870464503765,0.004695182200521,-0.008814541622996,0.006907218135893,-0.002339290454984,0.045425713062286,0.029488254338503,0.002556057646871,0.001397263724357,-0.071123041212559,-0.047614764422178,-0.036842167377472,0.025847783312201));
res += mul(Get(s0,0,0), float4x4(0.000772593077272,0.050535432994366,0.063558295369148,0.032805193215609,-0.004918849095702,-0.003296415554360,0.006267764139920,-0.002167303580791,-0.019687103107572,-0.055693350732327,0.127556502819061,0.057476155459881,-0.080393306910992,-0.092444270849228,0.319142311811447,-0.175907909870148));
res += mul(Get(s0,0,dy), float4x4(0.014884922653437,0.066921211779118,0.051656194031239,0.026554292067885,-0.005967279430479,-0.009442528709769,-0.002310815267265,0.016412349417806,0.054557610303164,-0.008073819801211,0.013121368363500,0.034501682966948,-0.021187344565988,0.288862258195877,0.080786965787411,-0.088989064097404));
res += mul(Get(s0,dx,-dy), float4x4(0.032003104686737,0.022380027920008,0.012413008138537,-0.033076237887144,-0.007737859152257,-0.007747469469905,-0.002736994298175,-0.003200085833669,0.080572441220284,0.031655721366405,-0.000550975615624,-0.048022750765085,-0.052274063229561,0.014741209335625,-0.068295903503895,-0.104055635631084));
res += mul(Get(s0,dx,0), float4x4(0.020078189671040,-0.000394045317080,0.007662893738598,-0.015439081937075,-0.003090360201895,-0.003007543273270,0.000195462518604,0.002932866103947,0.040869124233723,-0.060629356652498,0.097618281841278,0.016758002340794,0.015600653365254,-0.107920937240124,-0.040586501359940,-0.236875101923943));
res += mul(Get(s0,dx,dy), float4x4(0.040078066289425,0.033368941396475,0.004418048541993,-0.009023292921484,-0.011510675773025,-0.011499100364745,0.003382461844012,0.001105912728235,0.079890862107277,0.064963743090630,0.012351812794805,-0.005620475858450,-0.091525606811047,0.016264919191599,-0.105272457003593,-0.083422221243382));
res += mul(Get(s1,-dx,-dy), float4x4(-0.044096790254116,-0.068489082157612,0.009447840042412,-0.237349689006805,0.054822850972414,0.016249934211373,-0.017581460997462,0.028595734387636,0.100361078977585,0.059461347758770,0.035559307783842,-0.020966010168195,0.106927402317524,-0.045941282063723,-0.057490713894367,-0.030607566237450));
res += mul(Get(s1,-dx,0), float4x4(-0.082907631993294,0.002652778290212,0.024617189541459,0.054633036255836,0.060373656451702,-0.039042603224516,0.054326388984919,0.063081912696362,0.060902196913958,0.013583774678409,0.013856709934771,0.000919732323382,0.061480455100536,0.135987877845764,0.053552858531475,-0.020206902176142));
res += mul(Get(s1,-dx,dy), float4x4(0.009858664125204,-0.094732351601124,0.011753017082810,-0.019746808335185,-0.109928913414478,0.040382392704487,0.084180250763893,0.145483955740929,0.018634306266904,-0.002602125285193,0.010083432309330,0.016516227275133,-0.065507374703884,-0.007826924324036,-0.035775780677795,-0.078979797661304));
res += mul(Get(s1,0,-dy), float4x4(-0.020348381251097,0.044940359890461,-0.068119212985039,0.030789481475949,0.000039432245103,-0.092116855084896,0.047238457947969,-0.144993662834167,0.013553167693317,-0.036644615232944,0.050408475100994,0.001471514347941,0.118926495313644,0.032961387187243,0.140048950910568,-0.002274245489389));
res += mul(Get(s1,0,0), float4x4(0.079744435846806,-0.100617326796055,-0.050790488719940,0.134020060300827,0.114326395094395,-0.073089294135571,-0.080969922244549,-0.042006567120552,0.060913383960724,0.010917723178864,-0.010195531882346,0.083756044507027,0.062639959156513,0.198764994740486,0.007785058114678,0.063027732074261));
res += mul(Get(s1,0,dy), float4x4(0.033004447817802,-0.000943944032770,0.077387340366840,0.054802156984806,-0.014378141611814,-0.107185505330563,0.008777114562690,0.092428661882877,-0.006072359159589,0.025481501594186,0.060933753848076,0.076208338141441,-0.039470534771681,0.013055196963251,-0.022759776562452,-0.031992390751839));
res += mul(Get(s1,dx,-dy), float4x4(-0.025417413562536,0.117941781878471,0.046243391931057,0.132037937641144,-0.018621999770403,0.082014754414558,0.040327560156584,-0.099465653300285,0.039850302040577,-0.024085244163871,0.002062178216875,-0.003267501713708,0.044797517359257,-0.005191570147872,0.017464211210608,-0.014585446566343));
res += mul(Get(s1,dx,0), float4x4(0.038452647626400,0.307268649339676,0.117927975952625,0.033538244664669,0.005973922554404,0.038529317826033,0.017362277954817,0.001513457274996,0.094606399536133,0.021674823015928,-0.015090731903911,0.031953502446413,0.054980989545584,0.066503331065178,-0.004817988257855,0.083671160042286));
res += mul(Get(s1,dx,dy), float4x4(0.072436161339283,0.137445151805878,-0.043398745357990,-0.014221447519958,-0.032396465539932,0.072742514312267,0.021065028384328,0.042543616145849,-0.028484657406807,0.007683530915529,0.053465519100428,0.047821439802647,-0.021632220596075,0.083285376429558,0.010393863543868,-0.124691858887672));
res += mul(Get(s2,-dx,-dy), float4x4(0.060586892068386,-0.012942448258400,0.074636578559875,0.140569671988487,0.014510057866573,-0.047897685319185,-0.021113958209753,-0.169918745756149,0.035709958523512,-0.059168517589569,-0.089092500507832,-0.013530265539885,0.008149544708431,-0.001332384417765,-0.000783160387073,0.000446783029474));
res += mul(Get(s2,-dx,0), float4x4(-0.086904279887676,-0.061814103275537,0.093820989131927,-0.056373242288828,-0.043729480355978,0.015074792318046,0.073323197662830,0.018363948911428,-0.140282958745956,0.047610614448786,-0.002231136662886,0.087574958801270,-0.012205582112074,-0.007674380671233,-0.000927307992242,-0.002399925608188));
res += mul(Get(s2,-dx,dy), float4x4(-0.180975437164307,-0.087489612400532,0.078957572579384,0.108651489019394,-0.053676266223192,-0.039182621985674,0.078744135797024,-0.083805575966835,0.059476859867573,-0.046128995716572,-0.197459697723389,-0.054239012300968,-0.002283268375322,0.000999128213152,-0.006712576374412,0.002513382118195));
res += mul(Get(s2,0,-dy), float4x4(0.024054434150457,0.005627541337162,-0.101771041750908,0.281331121921539,-0.010065049864352,-0.008515695109963,-0.050796233117580,-0.187999799847603,0.040062129497528,-0.107560738921165,-0.058124393224716,0.167027920484543,0.000861155218445,0.034543972462416,0.012060264125466,0.001046427176334));
res += mul(Get(s2,0,0), float4x4(-0.037290673702955,-0.068585984408855,-0.040303308516741,-0.003118514548987,0.218644887208939,-0.028075231239200,-0.130240097641945,0.076010897755623,-0.033173065632582,-0.190223231911659,-0.005421259906143,0.077162452042103,0.004375760443509,-0.002343988977373,-0.000926354667172,-0.000092424059403));
res += mul(Get(s2,0,dy), float4x4(-0.107778050005436,-0.052607476711273,0.034976534545422,0.098265878856182,-0.123643539845943,0.001418033847585,0.068550363183022,0.014031453989446,0.284813731908798,0.307808279991150,-0.011514615267515,-0.145547270774841,-0.000300377461826,-0.008243491873145,0.001822825288400,-0.003719880012795));
res += mul(Get(s2,dx,-dy), float4x4(-0.021065860986710,0.007368393242359,-0.151912719011307,0.091737665235996,-0.112900950014591,-0.143143892288208,0.070434994995594,-0.049174737185240,-0.049466803669930,-0.028466161340475,-0.057047426700592,0.197272017598152,0.002644975669682,0.001707491814159,-0.001293958048336,-0.000199319969397));
res += mul(Get(s2,dx,0), float4x4(0.017390055581927,-0.104766599833965,-0.062241081148386,-0.114752314984798,0.019806763157248,0.207326814532280,0.081153616309166,-0.015211565420032,-0.049948371946812,0.085417248308659,0.159544110298157,-0.069170542061329,0.000135080830660,0.004730165936053,-0.000162595533766,-0.006375725381076));
res += mul(Get(s2,dx,dy), float4x4(-0.053938124328852,-0.090176030993462,-0.011704973876476,0.015244733542204,0.061609558761120,0.015473492443562,-0.041417084634304,0.130269497632980,-0.124440558254719,0.002460513729602,0.072684921324253,-0.040586914867163,-0.008291374891996,0.007798234466463,-0.000010510300854,-0.006056763697416));
res += mul(Get(s3,-dx,-dy), float4x4(-0.005714173894376,-0.001102669397369,-0.003989662975073,-0.003289194311947,0.002905037486926,-0.072601556777954,-0.089144974946976,0.319381684064865,-0.096914388239384,-0.063983261585236,-0.077859558165073,0.062952727079391,0.045259468257427,0.020438341423869,0.054609164595604,-0.018215725198388));
res += mul(Get(s3,-dx,0), float4x4(0.002678663469851,-0.009477939456701,0.013059380464256,0.002671786583960,-0.081930093467236,0.004558622837067,0.026993187144399,0.022562799975276,-0.023265765979886,-0.024717342108488,0.065291933715343,-0.106492802500725,0.084783732891083,0.023203801363707,0.018726898357272,0.200704067945480));
res += mul(Get(s3,-dx,dy), float4x4(0.000772491854150,-0.009672212414443,-0.003217682475224,-0.004957478493452,0.247686520218849,0.455910652875900,0.036030329763889,-0.171325057744980,-0.176813885569572,0.051929783076048,0.074601255357265,-0.042779125273228,0.059108600020409,0.022774936631322,0.004957405850291,-0.006227337289602));
res += mul(Get(s3,0,-dy), float4x4(0.008457979187369,-0.002460061572492,-0.000031589937862,-0.015964331105351,0.067055411636829,-0.093403026461601,-0.139554783701897,0.179779082536697,0.006159384734929,-0.104786589741707,-0.062825858592987,0.050011891871691,0.015030687674880,0.067472711205482,0.001985772512853,0.200721517205238));
res += mul(Get(s3,0,0), float4x4(0.007828962057829,-0.006045373622328,0.004878786392510,0.002261456567794,-0.046986892819405,-0.036505371332169,0.051311913877726,-0.100923553109169,0.055432628840208,0.010925075970590,0.028431653976440,-0.112849153578281,0.072804465889931,-0.079069875180721,0.091398701071739,0.134623110294342));
res += mul(Get(s3,0,dy), float4x4(0.005440992303193,-0.019358847290277,-0.004003916867077,-0.006018389947712,-0.065944828093052,-0.007659250404686,0.039343692362309,-0.101604558527470,0.024468673393130,0.001842962927185,-0.072709403932095,0.062423400580883,0.076505117118359,0.066766768693924,0.040684513747692,0.014473292976618));
res += mul(Get(s3,dx,-dy), float4x4(-0.000014630377336,-0.007820444181561,0.002247464610264,-0.019623596221209,-0.072359129786491,-0.006017269100994,-0.055823296308517,0.020252380520105,-0.005690814461559,0.039316076785326,0.033333614468575,0.028252897784114,0.041392151266336,0.012008839286864,-0.003175279591233,0.057656414806843));
res += mul(Get(s3,dx,0), float4x4(-0.002382924081758,-0.008631595410407,0.003761583473533,0.004818884655833,-0.041062943637371,0.085521042346954,-0.000285255577182,-0.007014894858003,-0.012033218517900,0.026467854157090,0.093587450683117,-0.069432884454727,-0.047528281807899,0.046566937118769,0.210761517286301,0.034828018397093));
res += mul(Get(s3,dx,dy), float4x4(0.009793007746339,-0.013869333080947,-0.000369943416445,-0.004189611412585,0.062280312180519,-0.079893879592419,-0.017966145649552,-0.048203144222498,-0.047888204455376,0.112450107932091,0.065090529620647,-0.033256724476814,0.040288344025612,-0.026948407292366,-0.081030860543251,0.004026174545288));
return max(float4(0,0,0,0), res);
}
