sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.050273306667805,-0.043898548930883,-0.002450516214594,0.131495177745819,-0.113037176430225,0.007641014177352,-0.052530344575644,-0.012005185708404,0.017805051058531,0.028179921209812,-0.012735731899738,-0.081231780350208,0.078943148255348,0.005578491371125,-0.018055388703942,0.043948452919722));
res += mul(Get(s0,-dx,0), float4x4(0.007563156541437,0.203162863850594,0.032843664288521,-0.142131462693214,0.037896320223808,-0.022613426670432,-0.014804447069764,0.107022479176521,0.040091246366501,-0.036397088319063,-0.026126945391297,0.055263236165047,-0.054720301181078,0.092552818357944,0.082269094884396,-0.167903974652290));
res += mul(Get(s0,-dx,dy), float4x4(-0.000560679996852,-0.040527641773224,-0.029982289299369,0.064340822398663,0.026846680790186,0.103413529694080,0.085608772933483,-0.042205866426229,-0.070774845778942,-0.020366918295622,-0.046266023069620,-0.038598120212555,-0.062759101390839,-0.008705371059477,0.012253079563379,0.109869740903378));
res += mul(Get(s0,0,-dy), float4x4(0.109861530363560,-0.065500728785992,-0.016205230727792,0.033556643873453,0.119532123208046,-0.044138759374619,-0.117021344602108,0.032889675348997,-0.037760414183140,-0.041337259113789,0.036182641983032,-0.147664919495583,0.119489610195160,-0.079115413129330,-0.158440247178078,0.055874764919281));
res += mul(Get(s0,0,0), float4x4(0.061886522918940,-0.030538240447640,-0.054867628961802,0.045012254267931,0.158368498086929,-0.098732985556126,0.063349589705467,0.021112473681569,-0.044222708791494,-0.028509268537164,-0.157416492700577,0.090984396636486,0.066064834594727,0.026969250291586,-0.014696601778269,0.066364146769047));
res += mul(Get(s0,0,dy), float4x4(0.115914300084114,0.081934832036495,-0.043784540146589,0.051199544221163,0.051304753869772,0.130476430058479,0.084102436900139,-0.073654219508171,-0.152777045965195,-0.105421192944050,-0.075802162289619,-0.033601175993681,0.012003387324512,0.059388823807240,0.064844697713852,0.085477977991104));
res += mul(Get(s0,dx,-dy), float4x4(-0.004979129880667,-0.014498287811875,-0.070538133382797,-0.015418296679854,-0.033024463802576,-0.049030095338821,0.083258077502251,0.157738566398621,0.012176753021777,0.040430560708046,-0.036630321294069,-0.033012792468071,0.042411170899868,-0.045891053974628,0.080754972994328,0.080082021653652));
res += mul(Get(s0,dx,0), float4x4(0.061994131654501,-0.062827609479427,0.007271254435182,-0.221605569124222,-0.073073148727417,-0.069002479314804,-0.059405624866486,-0.111689738929272,-0.099721238017082,-0.038693059235811,-0.037056472152472,-0.038798037916422,-0.064866818487644,-0.070097677409649,0.137664526700974,0.027267025783658));
res += mul(Get(s0,dx,dy), float4x4(0.127620592713356,0.110745638608932,-0.013645228929818,0.039389707148075,-0.090466640889645,0.043252576142550,0.160863816738129,0.045515514910221,-0.089901760220528,-0.031349223107100,0.035479396581650,0.033957794308662,-0.053793545812368,-0.094995610415936,-0.040773827582598,0.107055351138115));
res += mul(Get(s1,-dx,-dy), float4x4(-0.032536130398512,-0.070822693407536,0.134066298604012,-0.085581354796886,-0.010796474292874,-0.064012750983238,-0.108704097568989,0.162718698382378,-0.078688457608223,0.068059474229813,0.052446864545345,-0.114574618637562,-0.049690388143063,-0.059848789125681,0.079447634518147,-0.022025631740689));
res += mul(Get(s1,-dx,0), float4x4(0.060293789952993,0.125946745276451,0.001154614263214,0.028091648593545,-0.002564307069406,-0.015258723869920,-0.037225086241961,0.028371522203088,0.018666256219149,-0.050474938005209,0.009057354182005,0.023850560188293,-0.123774126172066,0.089438140392303,0.123338907957077,0.044454973191023));
res += mul(Get(s1,-dx,dy), float4x4(-0.027396200224757,0.085900425910950,0.021896505728364,-0.087898172438145,-0.114459246397018,0.059005301445723,-0.180966317653656,0.002285107970238,-0.005551446229219,-0.029647320508957,-0.032219037413597,0.075429499149323,-0.040372449904680,-0.009648290462792,0.021969931200147,-0.046655301004648));
res += mul(Get(s1,0,-dy), float4x4(0.059827324002981,-0.097234122455120,0.036434199661016,0.003990944474936,-0.131215214729309,-0.038666665554047,0.015818906947970,-0.039507273584604,0.050354439765215,0.004137440584600,-0.059805598109961,-0.054247606545687,-0.073033615946770,0.039903379976749,0.013246737420559,-0.011023034341633));
res += mul(Get(s1,0,0), float4x4(-0.032037593424320,-0.060038968920708,0.131398528814316,-0.096782572567463,0.051589094102383,0.002185372170061,0.016494298353791,0.096023477613926,0.150841608643532,-0.002596159698442,0.089849144220352,0.196290835738182,0.124928072094917,0.002606179332361,0.021279379725456,0.097882300615311));
res += mul(Get(s1,0,dy), float4x4(-0.107070371508598,-0.009475247003138,0.007822393439710,0.028873441740870,-0.033835463225842,0.000454349472420,-0.127223894000053,0.111670382320881,0.070226356387138,-0.028638606891036,0.098133370280266,0.079875610768795,0.057172972708941,-0.155235543847084,0.031194593757391,-0.023707328364253));
res += mul(Get(s1,dx,-dy), float4x4(-0.068630576133728,0.014118753373623,-0.045705851167440,0.023122850805521,0.009878660552204,-0.067366734147072,-0.028337599709630,0.082984626293182,0.113103851675987,0.017813071608543,-0.000869469775353,-0.070743709802628,-0.057226687669754,0.001086171017960,-0.118016712367535,-0.055854570120573));
res += mul(Get(s1,dx,0), float4x4(-0.168834269046783,0.090232215821743,-0.126084744930267,0.077479921281338,-0.085562504827976,-0.034542627632618,0.002001488581300,0.063624620437622,0.003844020189717,-0.028395937755704,0.004752438981086,0.070856653153896,0.180299103260040,-0.071352303028107,0.074077427387238,0.037765063345432));
res += mul(Get(s1,dx,dy), float4x4(-0.029327809810638,-0.035634353756905,-0.062426477670670,-0.003666210453957,0.022849805653095,0.018015161156654,-0.061939954757690,0.029126256704330,-0.079587280750275,0.054295431822538,0.021526869386435,0.034643393009901,-0.000673146161716,0.163179859519005,-0.136184737086296,0.141005069017410));
res += mul(Get(s2,-dx,-dy), float4x4(-0.006080728955567,0.068810246884823,-0.007279414683580,0.080621808767319,0.055576246231794,0.035154122859240,-0.100912563502789,0.094709090888500,0.036907605826855,0.039266292005777,-0.040642689913511,0.003678729059175,0.011136250570416,-0.094427280128002,-0.011696391738951,-0.010019700974226));
res += mul(Get(s2,-dx,0), float4x4(0.128086075186729,-0.008178258314729,0.134873583912849,-0.093074664473534,0.014127692207694,-0.018237473443151,-0.114342510700226,-0.033223781734705,0.081830136477947,0.032526995986700,-0.048380129039288,-0.031122373417020,-0.050607170909643,-0.072870612144470,0.046372421085835,0.117755852639675));
res += mul(Get(s2,-dx,dy), float4x4(0.003787192981690,-0.036685921251774,-0.006995207630098,0.083904214203358,0.134990006685257,-0.047413174062967,-0.058637216687202,0.012516890652478,0.041960228234529,-0.055223345756531,0.084925524890423,0.002254810649902,-0.066196039319038,0.102829582989216,0.061082981526852,0.072130471467972));
res += mul(Get(s2,0,-dy), float4x4(-0.018727403134108,-0.014224938116968,0.027034971863031,-0.092102378606796,0.077444925904274,0.046724099665880,-0.045236200094223,-0.062446437776089,0.007771898061037,-0.053407050669193,0.008935209363699,0.027320615947247,0.008206200785935,0.010968041606247,-0.135374203324318,0.137824863195419));
res += mul(Get(s2,0,0), float4x4(-0.094381920993328,0.020962461829185,-0.161232739686966,0.096206612884998,0.129796698689461,0.038132514804602,0.034593813121319,0.042141031473875,0.045391261577606,-0.125401020050049,0.013578754849732,-0.090366072952747,-0.087287329137325,0.070388481020927,-0.007006908301264,0.053272403776646));
res += mul(Get(s2,0,dy), float4x4(-0.001920414972119,0.075244054198265,0.056115828454494,0.010575964115560,0.078444018959999,-0.020068559795618,0.076645977795124,0.081120789051056,-0.132491454482079,0.051144141703844,0.045099999755621,-0.014506045728922,-0.128941476345062,-0.099912598729134,-0.074549868702888,0.073399774730206));
res += mul(Get(s2,dx,-dy), float4x4(0.031391423195601,-0.007510907016695,0.113121226429939,-0.078709751367569,0.049214355647564,-0.057987269014120,-0.084746189415455,-0.026602383702993,0.011762056499720,0.024987503886223,-0.045637588948011,0.144081369042397,-0.061931785196066,0.045747343450785,-0.014235923066735,0.042553838342428));
res += mul(Get(s2,dx,0), float4x4(0.131677865982056,0.056850194931030,-0.069766394793987,-0.063930749893188,0.230062648653984,0.065983198583126,0.008219229057431,0.061004966497421,-0.063766784965992,0.127564221620560,0.020266799256206,0.181502223014832,-0.119950070977211,0.034005414694548,-0.004449188243598,0.031078344210982));
res += mul(Get(s2,dx,dy), float4x4(-0.054846875369549,-0.010661840438843,-0.009627805091441,0.023523313924670,0.048674497753382,-0.016431607306004,0.075243957340717,0.016749784350395,-0.126732170581818,0.097119584679604,0.003124832874164,0.036023598164320,0.017223672941327,0.004529946018010,-0.106313787400723,0.067767083644867));
res += mul(Get(s3,-dx,-dy), float4x4(-0.068915635347366,0.179969847202301,0.108115941286087,-0.025431960821152,0.070249773561954,0.024519974365830,-0.074248164892197,-0.031271718442440,0.079856164753437,-0.058899085968733,0.077369652688503,-0.045179270207882,0.027435893192887,-0.075683176517487,-0.047573372721672,-0.096695512533188));
res += mul(Get(s3,-dx,0), float4x4(-0.071178890764713,0.003873764071614,0.028954239562154,0.320111542940140,-0.038341324776411,-0.052924815565348,0.037313364446163,-0.115251459181309,0.138887077569962,0.074204653501511,0.006636125501245,-0.072149209678173,-0.039211448282003,-0.011244331486523,-0.035977970808744,0.038342520594597));
res += mul(Get(s3,-dx,dy), float4x4(0.114494733512402,0.074840605258942,0.028457643464208,0.021648654714227,0.027349045500159,0.029690746217966,-0.057989068329334,0.007939442060888,0.019475456327200,0.074139744043350,-0.037004217505455,-0.022112710401416,0.087708719074726,-0.038332544267178,0.053169880062342,0.055767428129911));
res += mul(Get(s3,0,-dy), float4x4(-0.014573970809579,-0.100230470299721,0.055797100067139,-0.214557334780693,-0.005861272104084,-0.057425502687693,-0.042987219989300,-0.063392519950867,-0.119413830339909,0.115970239043236,-0.106226675212383,0.027791569009423,-0.001568411593325,-0.036572508513927,-0.151601180434227,0.016367826610804));
res += mul(Get(s3,0,0), float4x4(0.030322205275297,-0.133675515651703,0.077283777296543,-0.089206621050835,0.027883663773537,0.025961365550756,-0.037399224936962,0.030391549691558,-0.023664493113756,-0.001711412565783,-0.082962758839130,-0.049296062439680,0.008362222462893,0.030157674103975,-0.004793863743544,0.251381844282150));
res += mul(Get(s3,0,dy), float4x4(-0.022993195801973,0.122390538454056,0.007115267217159,-0.025892660021782,-0.060851015150547,0.180539250373840,0.077761977910995,-0.161155194044113,-0.041604187339544,0.022224266082048,-0.046206705272198,-0.085394293069839,-0.052472103387117,0.011516094207764,-0.025039963424206,0.082690007984638));
res += mul(Get(s3,dx,-dy), float4x4(-0.031196124851704,0.026856878772378,-0.011703473515809,0.029040716588497,0.057599186897278,0.055639389902353,0.009751320816576,0.007128102704883,0.012523895129561,0.047013025730848,-0.084446005523205,-0.029987700283527,0.048055261373520,0.040002528578043,0.012016147375107,0.053268007934093));
res += mul(Get(s3,dx,0), float4x4(0.072519592940807,0.007695763837546,0.121766433119774,-0.002703297417611,-0.163757905364037,-0.028439039364457,-0.065385363996029,-0.007230779156089,0.096397891640663,0.007605759426951,-0.024905756115913,-0.085869021713734,-0.084604866802692,0.038378763943911,0.041603695601225,0.014664133079350));
res += mul(Get(s3,dx,dy), float4x4(0.002551433164626,-0.051824260503054,0.004153138492256,-0.102044567465782,-0.050386842340231,-0.016953745856881,-0.025912495329976,0.030890727415681,-0.033550009131432,-0.073194555938244,-0.018366796895862,-0.122238047420979,0.046236988157034,0.074147477746010,0.064862340688705,-0.061943881213665));
return max(float4(0,0,0,0), res);
}
