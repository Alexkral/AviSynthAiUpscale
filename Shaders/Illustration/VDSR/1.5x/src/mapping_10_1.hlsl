sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.058820676058531,0.068036980926991,-0.036408327519894,0.053771853446960,0.059399843215942,0.019217675551772,-0.023651000112295,0.069326393306255,-0.025638086721301,0.155898228287697,-0.028738776221871,0.090391598641872,0.012196065858006,0.095149539411068,-0.039048098027706,0.018185855820775));
res += mul(Get(s0,-dx,0), float4x4(-0.088824041187763,-0.177648410201073,-0.122517429292202,-0.002604441251606,-0.143464490771294,-0.027962056919932,-0.009737032465637,-0.043071594089270,-0.119756281375885,0.139661461114883,0.070554241538048,-0.032924462109804,0.000670251727570,-0.029566070064902,0.075408719480038,-0.025011375546455));
res += mul(Get(s0,-dx,dy), float4x4(0.057406388223171,-0.059269085526466,-0.046226937323809,0.033875975757837,-0.064017787575722,-0.080951124429703,0.059419974684715,-0.018944881856441,0.038735084235668,0.020502783358097,0.006353934761137,0.069030016660690,0.018891643732786,0.029027162119746,-0.010749230161309,0.027473149821162));
res += mul(Get(s0,0,-dy), float4x4(0.046967703849077,-0.049037203192711,-0.004978983197361,0.026329221203923,-0.031085815280676,-0.039965674281120,-0.024279536679387,0.002958907047287,-0.069268919527531,0.057235397398472,0.064013682305813,0.050767581909895,0.004804017487913,-0.071095511317253,-0.014225896447897,0.098721250891685));
res += mul(Get(s0,0,0), float4x4(0.067796766757965,0.117795355618000,-0.027602953836322,-0.071151651442051,-0.001598241273314,-0.063676476478577,-0.091074019670486,0.008714149706066,-0.027702996507287,-0.103480301797390,0.154830962419510,0.052440579980612,0.000113930422231,0.040856551378965,-0.031932681798935,0.089098535478115));
res += mul(Get(s0,0,dy), float4x4(0.114741347730160,-0.018184620887041,-0.087928339838982,-0.018241852521896,0.059502635151148,0.083120256662369,-0.031659964472055,0.030358182266355,0.013676460832357,0.013362686149776,0.052307676523924,0.048032272607088,-0.040035426616669,-0.001584448036738,-0.044588118791580,0.112176060676575));
res += mul(Get(s0,dx,-dy), float4x4(0.070829227566719,0.002475246554241,0.032078128308058,0.016215667128563,-0.038292139768600,0.173982337117195,0.062939502298832,0.047548841685057,-0.070423014461994,0.059683918952942,-0.076434098184109,0.001579931704327,-0.073188751935959,0.014493126422167,-0.097698763012886,-0.009573455899954));
res += mul(Get(s0,dx,0), float4x4(-0.100055165588856,-0.047426685690880,0.028891168534756,-0.043182309716940,0.007377734407783,-0.046325042843819,0.034019898623228,0.041694726794958,-0.012522040866315,-0.065353795886040,-0.016879109665751,0.046905633062124,0.031764890998602,-0.004334712866694,0.123896509408951,0.016071947291493));
res += mul(Get(s0,dx,dy), float4x4(-0.016788626089692,-0.023346927016973,0.001839467091486,0.018426774069667,-0.010929930023849,-0.029621595516801,0.174777641892433,-0.070025131106377,0.046167261898518,-0.094486944377422,0.030873922631145,0.036935865879059,-0.093586839735508,0.051905527710915,-0.023745201528072,0.023344550281763));
res += mul(Get(s1,-dx,-dy), float4x4(-0.047956075519323,0.034913532435894,0.096181474626064,0.116869516670704,0.100469410419464,-0.043853171169758,-0.020049333572388,0.001177642843686,-0.006461375392973,-0.026074403896928,0.008828987367451,-0.083343349397182,-0.125586420297623,0.060107983648777,0.014718635007739,-0.087183877825737));
res += mul(Get(s1,-dx,0), float4x4(-0.093930490314960,-0.111361384391785,-0.027713244780898,-0.172780454158783,-0.016555633395910,0.052271142601967,-0.103435680270195,-0.016733616590500,0.049711436033249,0.039395838975906,0.044145766645670,-0.113586589694023,0.050387255847454,-0.020559061318636,-0.024701137095690,0.044685728847980));
res += mul(Get(s1,-dx,dy), float4x4(0.140183955430984,0.081300355494022,0.011671454645693,-0.058996502310038,-0.016641441732645,0.079742789268494,-0.125034332275391,0.015381671488285,-0.034824267029762,-0.003066009609029,0.038893342018127,-0.010814033448696,-0.175040036439896,0.063242048025131,0.092592932283878,0.056459438055754));
res += mul(Get(s1,0,-dy), float4x4(-0.155323728919029,-0.003002845915034,0.016731733456254,0.037948083132505,-0.079434178769588,-0.047646634280682,0.035410031676292,-0.226073175668716,-0.021764663979411,0.025275198742747,0.085666283965111,0.016278395429254,-0.017641084268689,-0.008619405329227,0.041543815284967,-0.089931659400463));
res += mul(Get(s1,0,0), float4x4(-0.053885210305452,0.042432911694050,0.006759978365153,-0.106491312384605,0.021895062178373,0.030131390318274,0.132528081536293,0.066073060035706,0.134898737072945,0.125895038247108,0.025020796805620,-0.005367081612349,0.159956917166710,0.038942214101553,-0.032713592052460,0.195925325155258));
res += mul(Get(s1,0,dy), float4x4(-0.009762748144567,0.086994536221027,0.009848649613559,0.041144706308842,0.056426424533129,0.233216941356659,0.045682109892368,0.033182300627232,0.135338157415390,-0.003022554330528,0.023669660091400,0.038099698722363,-0.042015224695206,-0.043460465967655,-0.063959382474422,0.080554634332657));
res += mul(Get(s1,dx,-dy), float4x4(-0.028815964236856,0.137337416410446,-0.096634194254875,0.153585702180862,0.055614694952965,0.023573726415634,-0.088789433240891,0.031389422714710,0.041543710976839,-0.049356002360582,-0.023142775520682,0.030448021367192,0.058039281517267,0.042841259390116,0.027301868423820,0.042480994015932));
res += mul(Get(s1,dx,0), float4x4(0.102922096848488,0.031509611755610,-0.078191421926022,-0.119199730455875,0.113391585648060,-0.227697208523750,0.004623757209629,-0.026857692748308,0.078980401158333,0.056513044983149,-0.041459467262030,-0.083785310387611,0.050226885825396,-0.060398299247026,0.037793885916471,0.016008600592613));
res += mul(Get(s1,dx,dy), float4x4(0.132224872708321,0.005735366139561,0.008481832221150,0.013957464136183,-0.006669623777270,0.208163768053055,-0.028187692165375,-0.007307799533010,0.066566877067089,0.038530822843313,0.065160945057869,0.111151218414307,0.089855588972569,-0.080006994307041,-0.063962750136852,-0.010072446428239));
res += mul(Get(s2,-dx,-dy), float4x4(0.016486342996359,0.019581554457545,0.049597319215536,0.110933318734169,-0.025739600881934,0.043634284287691,-0.032970838248730,0.049368485808372,0.098747201263905,0.064785122871399,-0.030455715954304,0.085334382951260,0.041186772286892,-0.017049580812454,-0.019073469564319,0.004958668258041));
res += mul(Get(s2,-dx,0), float4x4(0.060050167143345,-0.000539618951734,0.017740080133080,-0.011431025341153,-0.013893427327275,-0.042173679918051,0.075855985283852,0.026875350624323,0.063908919692039,-0.068464674055576,-0.020064452663064,-0.075355261564255,0.086115613579750,-0.073627226054668,-0.078079111874104,0.010017202235758));
res += mul(Get(s2,-dx,dy), float4x4(0.021706437692046,0.008480479009449,-0.026882583275437,-0.074373558163643,-0.084304131567478,0.112184278666973,-0.094301097095013,0.014915149658918,-0.042511906474829,0.016106730327010,-0.115650787949562,0.019734321162105,0.014515354298055,-0.028535468503833,-0.006957489531487,-0.005077615845948));
res += mul(Get(s2,0,-dy), float4x4(-0.007093698251992,0.064147166907787,0.056956913322210,0.010992437601089,-0.073223754763603,-0.016227604821324,-0.073375210165977,-0.086826898157597,0.012959844432771,-0.022055529057980,-0.012245604768395,-0.052692130208015,0.052359174937010,0.039924554526806,-0.060008462518454,-0.019362583756447));
res += mul(Get(s2,0,0), float4x4(0.140437483787537,-0.108545221388340,-0.065422296524048,-0.088777072727680,0.041080906987190,0.076836571097374,0.030441557988524,0.033379416912794,-0.166455790400505,0.140090733766556,-0.087847985327244,0.101839832961559,-0.017596481367946,-0.034007754176855,0.043778914958239,0.127091273665428));
res += mul(Get(s2,0,dy), float4x4(0.068226210772991,0.097343400120735,-0.102356590330601,0.064554862678051,0.070901907980442,-0.080665633082390,-0.085666269063950,0.061245996505022,0.056249815970659,-0.101428948342800,-0.028015794232488,-0.008843150921166,-0.099084362387657,0.097431831061840,-0.067112617194653,-0.083376176655293));
res += mul(Get(s2,dx,-dy), float4x4(0.100236460566521,0.099777907133102,0.020840216428041,0.020113866776228,-0.013221396133304,0.150313690304756,-0.043294683098793,-0.030059477314353,-0.059799555689096,-0.077630154788494,-0.000337133446010,0.017107367515564,0.019746180623770,0.083703339099884,-0.030668234452605,0.077060371637344));
res += mul(Get(s2,dx,0), float4x4(0.057722780853510,0.068573199212551,0.019500708207488,-0.107979945838451,0.022081654518843,0.021377187222242,0.023361049592495,0.023677913472056,-0.081379570066929,0.154986917972565,0.044224303215742,-0.011438918299973,-0.047317273914814,-0.106949605047703,-0.044294252991676,0.058267172425985));
res += mul(Get(s2,dx,dy), float4x4(0.031030470505357,0.097006365656853,0.002228991594166,-0.007633992470801,0.057646766304970,0.161675274372101,-0.015261184424162,0.065529085695744,-0.058748979121447,-0.090141884982586,0.073544546961784,-0.063992403447628,-0.057980433106422,0.032865431159735,0.012506918981671,0.112875953316689));
res += mul(Get(s3,-dx,-dy), float4x4(-0.002161586424336,-0.029664786532521,-0.027151668444276,0.010479211807251,-0.153092861175537,0.052182324230671,0.040671776980162,0.010467800311744,-0.039341423660517,-0.029809920117259,0.002933997660875,0.079681865870953,0.011032058857381,0.013529835268855,-0.117974177002907,-0.004264583345503));
res += mul(Get(s3,-dx,0), float4x4(-0.062295380979776,-0.074373811483383,0.014321901835501,0.008154738694429,-0.044050361961126,0.046090047806501,0.104644827544689,0.097940310835838,0.036916807293892,-0.119560457766056,-0.094613082706928,-0.076877996325493,-0.094215624034405,-0.103766247630119,-0.037784960120916,-0.039641603827477));
res += mul(Get(s3,-dx,dy), float4x4(-0.136260032653809,0.005387481767684,0.119228512048721,0.013371941633523,-0.089689634740353,0.052449017763138,0.068374864757061,-0.060909621417522,-0.006641780957580,0.032311655580997,0.043433990329504,-0.027830826118588,-0.015608609654009,-0.079619973897934,-0.048061989247799,-0.023351322859526));
res += mul(Get(s3,0,-dy), float4x4(0.078919216990471,-0.023292379453778,0.040935106575489,0.022637195885181,-0.117872737348080,-0.016892012208700,0.045700944960117,0.044609889388084,-0.082734391093254,-0.056515812873840,-0.003381383139640,0.109284624457359,-0.009081932716072,-0.028097173199058,-0.018273320049047,0.041588008403778));
res += mul(Get(s3,0,0), float4x4(-0.034200523048639,0.055808000266552,0.018716804683208,-0.104355521500111,0.057175528258085,-0.082429207861423,0.051097765564919,0.042948924005032,0.038937885314226,0.030268015339971,-0.001090815640055,0.078763693571091,-0.129847928881645,0.077303260564804,-0.017199171707034,-0.031552664935589));
res += mul(Get(s3,0,dy), float4x4(0.088504768908024,0.020121915265918,0.073018103837967,0.054266355931759,-0.008224189281464,0.153952911496162,-0.020107962191105,0.040875773876905,-0.031269494444132,0.082379125058651,0.048065189272165,0.043706607073545,-0.008778525516391,0.005791296251118,0.051283717155457,0.058955032378435));
res += mul(Get(s3,dx,-dy), float4x4(0.031667426228523,0.055185768753290,-0.076067857444286,-0.054556366056204,-0.028175517916679,0.169356286525726,0.041058313101530,0.039286091923714,-0.052688755095005,-0.092614248394966,0.108358114957809,0.007745872717351,0.175771266222000,0.005192982498556,0.002504997421056,-0.004367972258478));
res += mul(Get(s3,dx,0), float4x4(0.043369937688112,0.030049776658416,-0.102024987339973,0.006084683816880,0.008368745446205,0.084717020392418,0.045023035258055,-0.060727391391993,-0.013281436637044,-0.022760499268770,0.055844753980637,0.043077595531940,0.077630564570427,-0.003633363638073,-0.003060083370656,-0.101493924856186));
res += mul(Get(s3,dx,dy), float4x4(0.087574742734432,-0.071976087987423,-0.093289174139500,0.003790271468461,-0.056949924677610,0.057496238499880,0.070990197360516,-0.075290910899639,-0.069014064967632,0.059791233390570,0.055686134845018,-0.108116917312145,0.092772357165813,-0.157400429248810,0.033711619675159,0.031355600804090));
return max(float4(0,0,0,0), res);
}
