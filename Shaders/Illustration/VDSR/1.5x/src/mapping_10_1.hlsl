sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.058502387255430,-0.003158761421219,-0.008132914081216,0.067840240895748,-0.001166251720861,0.026733931154013,-0.004383386578411,0.105427697300911,-0.090460970997810,-0.074374966323376,-0.018436167389154,0.123142711818218,-0.023313451558352,-0.055693715810776,-0.091092035174370,-0.006829073186964));
res += mul(Get(s0,-dx,0), float4x4(0.003901591990143,-0.001088058575988,-0.021111350506544,-0.039565138518810,-0.014381151646376,0.023516928777099,0.080636098980904,0.040926150977612,-0.057365249842405,-0.045428533107042,-0.114676460623741,0.006490081548691,-0.033114336431026,-0.102250829339027,-0.091126643121243,-0.093325674533844));
res += mul(Get(s0,-dx,dy), float4x4(-0.013509387150407,-0.007918669842184,-0.042024381458759,-0.028462048619986,0.007014626637101,0.045835461467505,-0.025238664820790,-0.033854555338621,-0.005980824120343,-0.090847469866276,-0.038398005068302,0.029218003153801,-0.065173394978046,0.011299299076200,-0.027717951685190,-0.039942704141140));
res += mul(Get(s0,0,-dy), float4x4(0.035681821405888,0.033804640173912,-0.033906526863575,0.029479032382369,0.065245456993580,-0.000102847574453,0.017294293269515,0.075718909502029,-0.029879964888096,-0.127160429954529,-0.113329403102398,-0.066466815769672,0.220184847712517,-0.037808001041412,-0.227107852697372,-0.000855031772517));
res += mul(Get(s0,0,0), float4x4(-0.186999335885048,0.069773524999619,0.183711647987366,-0.036483332514763,-0.020947419106960,0.092694960534573,-0.021264083683491,-0.051554918289185,-0.009035703726113,-0.106293715536594,-0.039071228355169,-0.044294837862253,0.169219121336937,0.014088159427047,-0.141426354646683,0.034229569137096));
res += mul(Get(s0,0,dy), float4x4(-0.098560035228729,0.117190524935722,0.031993262469769,-0.022047866135836,-0.025519963353872,0.057815641164780,-0.005819523707032,0.009400550276041,0.045686971396208,-0.148772537708282,-0.055339757353067,0.009685602970421,-0.044854845851660,-0.014356332831085,-0.004959924612194,0.109784267842770));
res += mul(Get(s0,dx,-dy), float4x4(-0.028885351493955,-0.043209828436375,-0.053211826831102,0.129851400852203,-0.113146476447582,-0.037091799080372,-0.073694251477718,0.002910818206146,-0.035677149891853,-0.092131055891514,-0.092698112130165,0.085220858454704,-0.050103142857552,0.012401786632836,0.029889481142163,0.027089910581708));
res += mul(Get(s0,dx,0), float4x4(-0.073272138834000,-0.063255228102207,0.036408964544535,0.016680352389812,-0.145312368869781,-0.085484430193901,-0.146741792559624,-0.002612986369058,0.009156827814877,0.077217355370522,-0.017135022208095,-0.045416496694088,0.004214734770358,0.123915597796440,0.005497296340764,0.010903135873377));
res += mul(Get(s0,dx,dy), float4x4(-0.108757339417934,-0.083555005490780,0.155153572559357,-0.031680401414633,-0.045395132154226,-0.164658442139626,-0.061568260192871,-0.073789633810520,0.076667845249176,0.069041311740875,-0.066722489893436,-0.069912523031235,0.011306514032185,0.151342779397964,-0.018079413101077,0.011407834477723));
res += mul(Get(s1,-dx,-dy), float4x4(0.113680750131607,-0.024168141186237,-0.088050737977028,0.174047440290451,0.026294009760022,0.004116810858250,-0.058965884149075,0.080557115375996,0.056025270372629,-0.002581852022558,-0.074162662029266,0.008764984086156,0.168264061212540,-0.026847755536437,0.022270709276199,0.007986404001713));
res += mul(Get(s1,-dx,0), float4x4(0.112457305192947,0.014506838284433,0.113767333328724,-0.032947596162558,-0.015785448253155,0.084779880940914,0.069853074848652,0.018992640078068,-0.058129157871008,-0.006958105601370,-0.040116406977177,-0.005499050486833,0.054542496800423,0.009947192855179,0.070368804037571,0.037552576512098));
res += mul(Get(s1,-dx,dy), float4x4(0.132542595267296,0.100868679583073,0.037838269025087,-0.030530743300915,-0.098605059087276,0.071160741150379,-0.087314248085022,0.020773220807314,0.052146963775158,-0.048347182571888,-0.098000206053257,-0.056355811655521,0.029781749472022,-0.022757891565561,0.013645824976265,-0.048989873379469));
res += mul(Get(s1,0,-dy), float4x4(0.023632252588868,0.012469066306949,0.086415834724903,0.087371967732906,0.065956309437752,0.025266980752349,-0.057170592248440,0.051963008940220,0.027322793379426,0.042603638023138,0.030552355572581,0.098473154008389,0.078413479030132,0.031510550528765,0.128740966320038,0.027259182184935));
res += mul(Get(s1,0,0), float4x4(0.126654461026192,-0.068389326334000,0.030864834785461,0.038635704666376,0.016157245263457,-0.010664585046470,0.014058228582144,0.042518220841885,-0.087907366454601,0.064605474472046,0.100412331521511,0.038860697299242,0.003169257892296,0.093155965209007,0.075208060443401,-0.097201466560364));
res += mul(Get(s1,0,dy), float4x4(0.015674175694585,-0.050101067870855,-0.077029377222061,0.043556265532970,-0.053564399480820,0.034293957054615,-0.046922836452723,-0.018010528758168,0.081208989024162,0.082767359912395,-0.034544985741377,0.038257975131273,-0.100385956466198,0.056124702095985,-0.042971871793270,-0.104608319699764));
res += mul(Get(s1,dx,-dy), float4x4(0.001148270443082,0.024845289066434,0.008520597591996,0.091094829142094,0.026056738570333,0.025160197168589,0.030790952965617,-0.073531962931156,0.184751495718956,-0.034737568348646,-0.019540989771485,0.020706301555037,0.056228816509247,-0.089921958744526,0.033276770263910,0.138564944267273));
res += mul(Get(s1,dx,0), float4x4(0.172337651252747,0.022476498037577,0.044537171721458,-0.024207724258304,-0.005150072742254,-0.020308198407292,-0.007142647635192,-0.001702471170574,-0.028333172202110,-0.030821029096842,0.168149113655090,0.070004373788834,-0.183541893959045,-0.124328061938286,0.093280456960201,0.141318678855896));
res += mul(Get(s1,dx,dy), float4x4(-0.018435563892126,0.010859218426049,-0.029331987723708,-0.002519717905670,-0.080762282013893,-0.027808487415314,0.015744769945741,-0.044542070478201,0.094238407909870,-0.034779150038958,-0.075268499553204,-0.007350810803473,-0.060940373688936,-0.117321096360683,-0.014068325981498,0.083269394934177));
res += mul(Get(s2,-dx,-dy), float4x4(0.001203252933919,-0.025484353303909,-0.071701638400555,-0.026529097929597,0.112791031599045,-0.021076599135995,-0.006479086354375,-0.083172321319580,0.002341367769986,-0.018370985984802,-0.034497980028391,-0.008879070170224,0.107888750731945,-0.014297245070338,-0.021409584209323,0.040750563144684));
res += mul(Get(s2,-dx,0), float4x4(0.022366339340806,-0.023295173421502,0.018922049552202,-0.043087802827358,0.024839498102665,0.012617942877114,0.057579062879086,-0.076908811926842,-0.003154831239954,-0.006067399866879,0.017822664231062,0.006371862720698,0.057568117976189,0.036977577954531,-0.084105834364891,0.001376823289320));
res += mul(Get(s2,-dx,dy), float4x4(0.059398651123047,-0.082795687019825,0.019570194184780,0.022965863347054,0.018416754901409,0.071489907801151,0.098129913210869,-0.067745156586170,-0.060083955526352,0.059071052819490,0.031875260174274,-0.049899034202099,0.029914159327745,0.048832021653652,-0.021786052733660,-0.019446004182100));
res += mul(Get(s2,0,-dy), float4x4(-0.008398124948144,0.092341631650925,-0.092070117592812,-0.081335894763470,0.067415244877338,0.054998155683279,0.012417386285961,0.090275146067142,-0.012270624749362,0.014859640039504,0.052808761596680,0.047434091567993,-0.008533637970686,-0.018670201301575,-0.052473608404398,0.027751803398132));
res += mul(Get(s2,0,0), float4x4(-0.106133975088596,0.124787598848343,0.001622820622288,0.020291583612561,-0.097400382161140,0.066337242722511,-0.001998985884711,0.108405038714409,-0.034172855317593,-0.008855963125825,-0.074816353619099,-0.069092795252800,-0.091085039079189,0.015523106791079,-0.033831227570772,0.027200378477573));
res += mul(Get(s2,0,dy), float4x4(-0.068402662873268,0.063524477183819,0.114433176815510,0.012444308027625,0.063688479363918,0.119554765522480,0.141721621155739,-0.050839152187109,-0.115267135202885,0.024560695514083,-0.045106653124094,-0.053518682718277,0.065867692232132,0.011780400760472,0.043828509747982,-0.055539131164551));
res += mul(Get(s2,dx,-dy), float4x4(-0.026099087670445,-0.015107372775674,0.025430455803871,0.022858407348394,0.074429482221603,0.091598421335220,0.027539480477571,-0.030639806762338,0.024959718808532,-0.051281366497278,0.035474807024002,0.105522640049458,0.039896495640278,-0.027013316750526,0.135314211249352,-0.083814382553101));
res += mul(Get(s2,dx,0), float4x4(-0.011269452050328,0.035828381776810,0.096090197563171,0.039198361337185,0.071651764214039,0.025065883994102,0.023914912715554,-0.024635825306177,-0.163960456848145,-0.157394289970398,0.013168449513614,-0.040096726268530,0.170084536075592,-0.032108206301928,0.013060308061540,-0.002389451954514));
res += mul(Get(s2,dx,dy), float4x4(0.051003091037273,0.166317105293274,0.107486769556999,-0.091937392950058,-0.030320981517434,0.033911161124706,0.042363964021206,-0.039948105812073,-0.079671554267406,-0.153955966234207,-0.013339938595891,0.046375527977943,-0.057590290904045,-0.044677536934614,-0.071288794279099,0.003505099564791));
res += mul(Get(s3,-dx,-dy), float4x4(-0.064891010522842,0.010696883313358,-0.135602355003357,0.011656912975013,0.137215510010719,0.106402367353439,0.024040076881647,-0.004250476136804,0.099496953189373,-0.002980701625347,0.096809931099415,-0.160017788410187,0.022332690656185,0.043462220579386,-0.064326122403145,-0.072308406233788));
res += mul(Get(s3,-dx,0), float4x4(-0.100510753691196,-0.009849524125457,0.081675417721272,-0.075825132429600,-0.047403208911419,0.029904194176197,0.026525178924203,0.015510922297835,0.092227675020695,0.082093112170696,0.174977019429207,0.000014708700292,0.045969501137733,-0.008808955550194,-0.096609301865101,0.022193485870957));
res += mul(Get(s3,-dx,dy), float4x4(-0.015940601006150,0.043341837823391,0.017241397872567,-0.037483166903257,-0.011631738394499,0.021356763318181,-0.022780299186707,0.094695426523685,0.064772307872772,-0.006274914834648,0.148056343197823,0.000184513453860,0.101388931274414,-0.005068017635494,-0.125498041510582,-0.050600703805685));
res += mul(Get(s3,0,-dy), float4x4(-0.033380709588528,0.080568626523018,-0.041662853211164,-0.076382651925087,0.082320004701614,0.046261798590422,-0.009661419317126,-0.017219085246325,-0.033822339028120,-0.006544494070113,-0.034043855965137,0.032686054706573,-0.019620735198259,-0.035087600350380,-0.018014254048467,-0.027684742584825));
res += mul(Get(s3,0,0), float4x4(-0.090362921357155,0.029560085386038,0.069660633802414,0.008939994499087,-0.101030610501766,0.106438651680946,0.131573393940926,-0.023957863450050,-0.101219847798347,0.054707329720259,-0.032172214239836,0.105025075376034,0.035912610590458,-0.051306489855051,-0.044418841600418,-0.049909446388483));
res += mul(Get(s3,0,dy), float4x4(-0.020342944189906,0.025948230177164,0.011987461708486,0.098332747817039,-0.067993283271790,0.009769395925105,-0.046810794621706,0.061859574168921,0.013556784018874,0.082017816603184,0.053940236568451,-0.112146727740765,-0.089083150029182,0.071672603487968,-0.028551515191793,-0.094480544328690));
res += mul(Get(s3,dx,-dy), float4x4(-0.002207116223872,0.002892326563597,-0.017912754788995,0.018350057303905,0.051274601370096,-0.146105051040649,-0.034829240292311,0.116454176604748,0.056600928306580,-0.132245644927025,-0.140330627560616,-0.030592741444707,0.148439332842827,-0.040268342941999,-0.092905484139919,0.121972255408764));
res += mul(Get(s3,dx,0), float4x4(-0.054802805185318,0.024086358025670,0.179757967591286,0.100206613540649,-0.010882548987865,-0.018021272495389,-0.043782748281956,-0.073796205222607,0.027849245816469,-0.150199264287949,-0.164593920111656,-0.053637340664864,0.072969481348991,-0.046941313892603,-0.045459657907486,0.055885136127472));
res += mul(Get(s3,dx,dy), float4x4(-0.026202458888292,-0.041882179677486,0.061065144836903,0.038405563682318,-0.001361479284242,-0.004340179730207,-0.095073200762272,-0.017155872657895,-0.056787747889757,-0.093040414154530,-0.021960677579045,-0.043026976287365,0.067893251776695,0.093828603625298,-0.017663270235062,-0.015869930386543));
return max(float4(0,0,0,0), res);
}
