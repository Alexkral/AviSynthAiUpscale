sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.039571821689606,0.074635937809944,0.059013001620770,0.004407641943544,-0.067500837147236,0.149691089987755,0.094878621399403,0.044607736170292,-0.036256205290556,-0.038561206310987,-0.023360434919596,0.005108016543090,-0.041998021304607,-0.002575422171503,-0.075223252177238,0.021265652030706));
res += mul(Get(s0,-dx,0), float4x4(-0.095523044466972,-0.035580072551966,-0.054462287575006,-0.008370876312256,-0.015335778705776,0.024243161082268,0.089208237826824,0.090589597821236,-0.134210392832756,-0.023443544283509,0.057488128542900,-0.097175151109695,0.012952275574207,-0.090350143611431,0.107687287032604,0.026708619669080));
res += mul(Get(s0,-dx,dy), float4x4(0.064639054238796,-0.051252380013466,-0.124834269285202,0.011819561012089,0.021385397762060,-0.111991159617901,0.012940702959895,0.044479433447123,-0.031437925994396,-0.117318049073219,0.003026705933735,-0.030646754428744,-0.062165681272745,-0.028900934383273,-0.024345979094505,-0.065695568919182));
res += mul(Get(s0,0,-dy), float4x4(-0.028477633371949,0.049476847052574,0.199869617819786,0.026505708694458,0.099764920771122,-0.028781168162823,-0.109421424567699,0.133853599429131,0.028196586295962,-0.015827957540751,-0.026944147422910,-0.116985797882080,-0.130854114890099,0.026047600433230,0.001657999586314,0.090838968753815));
res += mul(Get(s0,0,0), float4x4(0.023121068254113,-0.021429896354675,0.143887639045715,0.167056381702423,0.102996431291103,-0.101732626557350,-0.036924753338099,-0.043482605367899,-0.149632096290588,0.112422876060009,-0.101443953812122,0.192040249705315,-0.028231166303158,-0.038549788296223,0.133184790611267,0.028485186398029));
res += mul(Get(s0,0,dy), float4x4(0.072062857449055,0.078573487699032,0.147171363234520,0.068948626518250,-0.090480223298073,-0.111322984099388,-0.046593211591244,-0.046749949455261,0.124557688832283,-0.080229781568050,-0.066607348620892,-0.142620414495468,0.026401871815324,-0.080862358212471,0.082513496279716,0.082093916833401));
res += mul(Get(s0,dx,-dy), float4x4(-0.059008236974478,0.164292961359024,0.069713562726974,0.034619245678186,-0.004616406746209,-0.065701298415661,0.023358695209026,0.004478670656681,0.115938097238541,-0.096275746822357,0.077770851552486,0.152367696166039,0.015337035059929,0.044349689036608,-0.071510329842567,-0.016979331150651));
res += mul(Get(s0,dx,0), float4x4(0.003296297974885,-0.039988789707422,-0.077882774174213,-0.033491853624582,0.081239975988865,-0.023328788578510,-0.069021202623844,0.120667546987534,0.147753000259399,0.062169168144464,-0.088154986500740,0.016811013221741,-0.044645544141531,-0.036075934767723,-0.015256163664162,0.073713429272175));
res += mul(Get(s0,dx,dy), float4x4(-0.046660736203194,-0.031056512147188,0.003385926596820,-0.050365339964628,-0.101944401860237,0.084972582757473,-0.003413984086365,0.025071052834392,0.001083571929485,-0.040236435830593,-0.105108633637428,-0.165440604090691,-0.041878089308739,0.034766647964716,0.034365158528090,0.107412643730640));
res += mul(Get(s1,-dx,-dy), float4x4(-0.223937153816223,0.127631306648254,0.067480415105820,-0.001065291347913,-0.035077530890703,0.071015074849129,0.053810682147741,-0.013549552299082,-0.051720060408115,0.102323263883591,-0.020327888429165,-0.059214014559984,-0.013149168342352,-0.014815973117948,-0.042729299515486,0.029603051021695));
res += mul(Get(s1,-dx,0), float4x4(0.025180149823427,-0.148332133889198,-0.033272784203291,-0.058759786188602,0.167793601751328,-0.043450418859720,0.055850654840469,0.012351335957646,0.107476875185966,0.021751372143626,0.024297380819917,-0.062942773103714,-0.092679806053638,-0.130178689956665,0.078208863735199,0.117285601794720));
res += mul(Get(s1,-dx,dy), float4x4(-0.091899812221527,-0.037116598337889,0.088299885392189,-0.011653196997941,-0.006381331942976,0.008749254047871,-0.043584987521172,0.008219058625400,0.111161492764950,-0.047650463879108,0.040742356330156,-0.127898424863815,-0.050913613289595,0.005975329317153,0.020632058382034,0.090582810342312));
res += mul(Get(s1,0,-dy), float4x4(-0.055690936744213,0.113704420626163,0.092952109873295,0.002342952648178,-0.018430789932609,-0.012325849384069,-0.009417430497706,-0.000108111227746,-0.020533403381705,-0.070428773760796,-0.041925668716431,0.035097252577543,0.024441245943308,0.059486318379641,0.047540865838528,0.009788902476430));
res += mul(Get(s1,0,0), float4x4(-0.001591666019522,0.076374113559723,0.012179274111986,0.165396064519882,-0.126512140035629,0.071907781064510,0.220014423131943,0.234988972544670,0.030637437477708,0.041753832250834,-0.051632490009069,-0.010251772589982,0.102672904729843,0.023547155782580,0.060129910707474,-0.089986510574818));
res += mul(Get(s1,0,dy), float4x4(-0.007224408444017,0.054821934551001,-0.036905620247126,-0.046428434550762,0.042579028755426,-0.020353201776743,0.184968292713165,0.023862352594733,0.105128392577171,0.036750614643097,-0.060391291975975,-0.021190669387579,0.058730002492666,-0.130942389369011,0.133760929107666,0.019406815990806));
res += mul(Get(s1,dx,-dy), float4x4(-0.144994005560875,0.018451217561960,-0.030251275748014,-0.011280785314739,0.050282042473555,-0.007237360812724,0.108923822641373,-0.003403994254768,-0.103901393711567,-0.040634080767632,-0.172506481409073,0.060825023800135,-0.067774511873722,-0.136507064104080,0.000480056769447,0.074972957372665));
res += mul(Get(s1,dx,0), float4x4(-0.085307233035564,-0.097095817327499,-0.116543374955654,-0.105738289654255,-0.027011211961508,-0.042462382465601,-0.121882691979408,-0.107736714184284,0.063874073326588,0.136050015687943,-0.086314387619495,-0.079221226274967,0.019296707585454,0.106691315770149,0.188236132264137,0.027898097410798));
res += mul(Get(s1,dx,dy), float4x4(-0.078210152685642,0.027680622413754,-0.040849380195141,0.075383901596069,-0.135802194476128,0.034010775387287,-0.088933512568474,0.029921522364020,-0.010967747308314,-0.092292062938213,-0.015195119194686,-0.031210888177156,0.081774026155472,-0.109491303563118,0.125614196062088,0.041720591485500));
res += mul(Get(s2,-dx,-dy), float4x4(-0.000729581690393,0.029372129589319,0.067490175366402,-0.068908326327801,-0.013883183710277,0.026570478454232,-0.103462599217892,-0.052595444023609,0.029399719089270,-0.042695786803961,0.047840002924204,-0.041917815804482,0.000743195181713,0.010248773731291,-0.081527486443520,0.044186979532242));
res += mul(Get(s2,-dx,0), float4x4(-0.001619867631234,0.015634216368198,-0.108582861721516,-0.037756510078907,-0.078194111585617,0.080422334372997,-0.041464183479548,0.012245577760041,0.138532966375351,0.082571573555470,0.009688122197986,-0.097004517912865,0.132140964269638,0.124894432723522,-0.021386820822954,-0.060958009213209));
res += mul(Get(s2,-dx,dy), float4x4(0.009618476964533,-0.012991983443499,-0.002478837966919,0.012202567420900,0.063227199018002,0.053499743342400,0.005613910034299,-0.015900889411569,0.043593037873507,-0.064224131405354,0.151603579521179,0.013559326529503,0.063209123909473,0.089823454618454,0.001595008303411,0.097875267267227));
res += mul(Get(s2,0,-dy), float4x4(-0.055055521428585,-0.071710616350174,-0.078440181910992,0.035398118197918,-0.026361346244812,-0.165125519037247,0.057686682790518,-0.077820129692554,0.117419488728046,-0.101449176669121,-0.050644956529140,0.031061340123415,0.015213230624795,-0.008469290100038,0.106759719550610,0.033061616122723));
res += mul(Get(s2,0,0), float4x4(-0.070000268518925,0.086053639650345,0.040954556316137,0.038970842957497,-0.116976410150528,-0.029033642262220,0.002670776331797,0.067701362073421,0.038937520235777,0.054441984742880,0.060767225921154,0.110358588397503,0.063112750649452,0.086220517754555,-0.080331295728683,-0.242245510220528));
res += mul(Get(s2,0,dy), float4x4(-0.033667895942926,-0.014001406729221,-0.049375575035810,0.037950079888105,-0.084732241928577,0.039334475994110,-0.011186459101737,0.032449353486300,0.134149342775345,0.104369036853313,-0.099725797772408,-0.035541210323572,-0.022627774626017,0.074127301573753,0.069672442972660,0.143594115972519));
res += mul(Get(s2,dx,-dy), float4x4(-0.068135090172291,-0.079199112951756,-0.009353589266539,0.091089285910130,0.060542277991772,0.036504380404949,0.025755763053894,0.158782690763474,-0.071116425096989,0.026236882433295,0.016076967120171,0.020416427403688,-0.078946501016617,0.089900434017181,0.002917517442256,0.017586480826139));
res += mul(Get(s2,dx,0), float4x4(-0.007577644195408,0.011612334288657,0.134525850415230,-0.021626090630889,0.154754146933556,0.050426885485649,-0.057379439473152,0.084551565349102,-0.163998723030090,0.045074686408043,0.000290330703137,-0.077218167483807,-0.044225599616766,0.010254649445415,-0.052472166717052,0.027547726407647));
res += mul(Get(s2,dx,dy), float4x4(-0.065219156444073,0.001997567014769,-0.077286966145039,-0.003603522898629,-0.032455112785101,0.089847892522812,0.024027170613408,0.026409504935145,-0.023267455399036,0.075722195208073,-0.067864201962948,-0.003325146390125,-0.064998552203178,0.074446707963943,-0.020152969285846,-0.018729545176029));
res += mul(Get(s3,-dx,-dy), float4x4(0.048409733921289,0.074339263141155,0.157509654760361,0.019375560805202,-0.071366585791111,0.018126450479031,-0.044800188392401,0.166540876030922,-0.106320358812809,-0.012454320676625,-0.027209298685193,0.104136601090431,0.052544623613358,0.053102944046259,-0.003477371297777,-0.060712967067957));
res += mul(Get(s3,-dx,0), float4x4(-0.009228874929249,0.056999322026968,-0.023344490677118,-0.010640340857208,-0.050050370395184,0.038484729826450,0.174894377589226,0.034093078225851,-0.001838639145717,-0.123635627329350,-0.089329123497009,0.094608537852764,0.082445591688156,0.041084252297878,0.194184407591820,-0.013971514999866));
res += mul(Get(s3,-dx,dy), float4x4(-0.083221606910229,0.104207888245583,0.114455200731754,-0.013789341785014,0.015198463574052,-0.018088515847921,0.012971931137145,-0.046388261020184,0.084994643926620,0.014961230568588,-0.073756940662861,-0.023525541648269,0.067500062286854,-0.025747332721949,0.062446083873510,-0.049677010625601));
res += mul(Get(s3,0,-dy), float4x4(-0.033076025545597,0.005336362868547,-0.026112409308553,-0.045174364000559,-0.051314748823643,-0.098147802054882,0.020845636725426,-0.021534670144320,-0.002596741076559,0.087164781987667,0.022452222183347,0.053017355501652,-0.091796018183231,0.027735682204366,0.072647370398045,0.043701257556677));
res += mul(Get(s3,0,0), float4x4(-0.053811058402061,0.039994280785322,-0.045487288385630,-0.075456313788891,0.045661401003599,0.121884338557720,-0.025307038798928,-0.059110615402460,0.052334237843752,-0.059181150048971,0.132346764206886,-0.080271437764168,-0.027195381000638,0.075202673673630,0.118997558951378,0.150136351585388));
res += mul(Get(s3,0,dy), float4x4(-0.013534339144826,0.095460109412670,0.041941221803427,-0.044055674225092,-0.090262390673161,0.105888575315475,-0.137943729758263,-0.006995242554694,0.003761308034882,-0.121904999017715,-0.053427863866091,0.019177347421646,-0.054357867687941,-0.003309853607789,0.228870034217834,0.031093528494239));
res += mul(Get(s3,dx,-dy), float4x4(0.134835496544838,-0.033483009785414,0.023047151044011,0.039432659745216,0.158670663833618,-0.046047225594521,0.062769591808319,0.092208333313465,0.018936347216368,0.079239390790462,-0.005292407236993,-0.004873890895396,0.074437655508518,0.069337815046310,0.012385760433972,0.060319602489471));
res += mul(Get(s3,dx,0), float4x4(0.117051094770432,-0.079129517078400,0.002548782620579,0.035059522837400,-0.020952505990863,0.014795961789787,0.039239659905434,0.104518212378025,0.161030739545822,0.087084978818893,-0.043888133019209,-0.018247772008181,0.127045422792435,0.000622642925009,0.058973871171474,0.076724976301193));
res += mul(Get(s3,dx,dy), float4x4(-0.051818177103996,0.083434887230396,0.047516249120235,0.105526663362980,0.066584832966328,0.031569380313158,-0.086251519620419,-0.000701697543263,0.029513357207179,0.003501153551042,-0.032066099345684,0.066692486405373,0.063928417861462,0.037925619632006,-0.023036358878016,-0.120568662881851));
return max(float4(0,0,0,0), res);
}
