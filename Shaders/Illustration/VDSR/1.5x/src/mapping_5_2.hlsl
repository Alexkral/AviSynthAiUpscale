sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.031825903803110,0.079794004559517,0.002695319941267,0.063753977417946,0.031429968774319,0.034353666007519,-0.021633494645357,0.034730706363916,-0.023651896044612,0.077306956052780,-0.014520994387567,-0.000823666690849,0.017064316198230,0.022687157616019,-0.024256594479084,0.039574645459652));
res += mul(Get(s0,-dx,0), float4x4(0.013595681637526,0.038178443908691,0.010838208720088,0.049276392906904,0.018675982952118,0.062221791595221,-0.016675135120749,0.080855108797550,0.006336708087474,0.038837954401970,-0.011910712346435,0.020515136420727,0.063149996101856,0.114344403147697,0.034755166620016,0.101955048739910));
res += mul(Get(s0,-dx,dy), float4x4(-0.032225329428911,0.022054377943277,-0.002471667481586,0.027582321316004,-0.018869234248996,0.015197560191154,-0.054003950208426,0.021039228886366,-0.012793113477528,0.020712478086352,0.002338931197301,0.013037787750363,0.039876285940409,0.060100406408310,0.004043343942612,0.073361806571484));
res += mul(Get(s0,0,-dy), float4x4(0.005404688883573,0.032118190079927,-0.000521922018379,0.027774328365922,0.008394375443459,-0.008897248655558,-0.032841231673956,0.023869514465332,0.011658601462841,0.058448426425457,0.038180023431778,0.006888491101563,0.106866508722305,-0.014953876845539,-0.005688461475074,0.079762808978558));
res += mul(Get(s0,0,0), float4x4(-0.046322256326675,0.048340350389481,0.002832595724612,0.103114448487759,-0.030362552031875,0.052200112491846,-0.017616620287299,0.115721769630909,-0.009423947893083,-0.024170603603125,0.024212686344981,0.023621086031199,-0.067105285823345,0.069154933094978,0.044810056686401,0.223976984620094));
res += mul(Get(s0,0,dy), float4x4(-0.014130812138319,0.010166338644922,0.010479619726539,0.079510368406773,-0.016967521980405,0.016791369765997,-0.024439785629511,0.038268193602562,-0.036300111562014,0.010528529994190,0.023974958807230,0.048500012606382,-0.020968733355403,0.105281144380569,0.038915425539017,0.086867779493332));
res += mul(Get(s0,dx,-dy), float4x4(-0.001589673571289,0.023795632645488,0.022277690470219,0.000320931256283,0.001976183149964,-0.007231188938022,-0.034119911491871,-0.018688945099711,-0.005894945934415,0.087986402213573,0.023597950115800,-0.026210678741336,0.039495162665844,0.014269186183810,-0.009142298251390,0.029452670365572));
res += mul(Get(s0,dx,0), float4x4(0.014670808799565,0.036149345338345,0.038487788289785,0.066822856664658,-0.006135888863355,0.113307215273380,0.007941517047584,0.125582158565521,-0.005869428161532,0.064311623573303,0.034818116575480,0.014913427643478,0.020469116047025,0.157386869192123,0.057783905416727,0.145690232515335));
res += mul(Get(s0,dx,dy), float4x4(0.039206188172102,0.037897799164057,0.049053017050028,0.032786764204502,0.051971878856421,0.011163640767336,-0.017850467935205,-0.011518277227879,-0.008189034648240,0.012937265448272,0.022579384967685,0.003699758555740,0.046528510749340,0.048486586660147,0.028559641912580,-0.049240455031395));
res += mul(Get(s1,-dx,-dy), float4x4(0.024826427921653,-0.007061658892781,0.025959571823478,-0.042158015072346,-0.008096103556454,-0.022001694887877,-0.000472003186587,-0.034557290375233,-0.009313464164734,-0.017908683046699,-0.027957230806351,0.069589801132679,0.093262039124966,-0.109663754701614,-0.062872782349586,-0.034876838326454));
res += mul(Get(s1,-dx,0), float4x4(0.018992433324456,-0.011768290773034,-0.003447806928307,-0.108068637549877,-0.013773890212178,0.064427115023136,-0.009142318740487,0.021578732877970,0.394559085369110,-0.068327255547047,-0.022740457206964,0.104193285107613,0.149124696850777,-0.083220705389977,-0.057856552302837,-0.052033461630344));
res += mul(Get(s1,-dx,dy), float4x4(-0.021089088171721,0.005777897313237,0.026378408074379,-0.111235938966274,0.044541146606207,0.023994978517294,-0.073228679597378,0.029502041637897,0.174681693315506,-0.082272961735725,0.042962022125721,0.036452442407608,0.111309669911861,-0.052028298377991,0.016445860266685,-0.014733603224158));
res += mul(Get(s1,0,-dy), float4x4(0.020572464913130,0.032159488648176,-0.036273229867220,-0.014192308299243,-0.009813250973821,0.012165932916105,-0.050220679491758,-0.075020290911198,0.041409615427256,-0.058128073811531,0.029933804646134,-0.054976552724838,0.077043399214745,-0.088522188365459,0.035230714827776,-0.055545702576637));
res += mul(Get(s1,0,0), float4x4(-0.006435333285481,-0.052667226642370,-0.061622329056263,-0.049481738358736,0.039314992725849,-0.127950981259346,0.017110254615545,0.187086835503578,-0.082395158708096,-0.055570457130671,-0.017570480704308,-0.038123093545437,-0.094945438206196,-0.010715590789914,-0.028426839038730,-0.105274379253387));
res += mul(Get(s1,0,dy), float4x4(0.028182236477733,0.088579788804054,-0.005977411288768,0.017856810241938,0.057067908346653,-0.109307520091534,-0.084957383573055,0.003817180404440,-0.053735468536615,-0.021722679957747,0.054674416780472,0.192097291350365,-0.032779809087515,-0.032617226243019,0.010647277347744,-0.062649987637997));
res += mul(Get(s1,dx,-dy), float4x4(-0.079475224018097,0.055062942206860,-0.027020432054996,-0.077122315764427,-0.099560536444187,-0.004267165437341,-0.065002836287022,-0.100647732615471,-0.082784876227379,-0.184552758932114,0.015143781900406,-0.021152488887310,0.065482139587402,-0.064091950654984,0.007731343153864,-0.053310990333557));
res += mul(Get(s1,dx,0), float4x4(-0.079614967107773,0.022241197526455,-0.053992778062820,0.010236281901598,0.009087595157325,0.135804444551468,0.047880090773106,0.250566869974136,-0.027787175029516,-0.049845244735479,0.023720113560557,0.034530967473984,0.044457357376814,-0.118575841188431,0.011309151537716,-0.025947859510779));
res += mul(Get(s1,dx,dy), float4x4(-0.011402718722820,0.023679962381721,-0.070664167404175,-0.031238412484527,0.049314752221107,-0.017362110316753,-0.093082852661610,-0.009849226102233,0.021694637835026,-0.023256838321686,0.061600558459759,0.034071236848831,0.021615209057927,-0.037512980401516,0.019959898665547,-0.027671447023749));
res += mul(Get(s2,-dx,-dy), float4x4(0.015861105173826,-0.079338163137436,-0.120845824480057,-0.047401756048203,0.053512413054705,0.028030129149556,-0.003532312344760,0.018389159813523,-0.063706427812576,0.063146606087685,0.069579102098942,-0.011041823774576,-0.016849722713232,0.033659216016531,-0.041930042207241,0.025856189429760));
res += mul(Get(s2,-dx,0), float4x4(-0.016366075724363,-0.014208113774657,-0.058745186775923,-0.062705382704735,0.060084514319897,-0.005965019110590,0.004803759977221,0.019355740398169,-0.081839732825756,0.004094180185348,0.029335798695683,-0.030200544744730,-0.017984688282013,0.049123059958220,-0.040862493216991,-0.083923637866974));
res += mul(Get(s2,-dx,dy), float4x4(-0.040030833333731,0.011651298031211,-0.037643570452929,-0.083827562630177,0.010371611453593,-0.001114985207096,0.008961004205048,0.017803654074669,-0.045328330248594,-0.010375157929957,-0.007604879327118,0.034860637038946,-0.015458726324141,0.016362188383937,-0.014441001228988,-0.070645309984684));
res += mul(Get(s2,0,-dy), float4x4(0.053245719522238,-0.087828569114208,0.062154881656170,-0.042772997170687,0.036890659481287,0.000415186746977,0.010818807408214,-0.004527953919023,0.022292327135801,0.214549034833908,0.045513391494751,0.089339755475521,0.051434554159641,-0.052848063409328,0.010634280741215,0.024540707468987));
res += mul(Get(s2,0,0), float4x4(-0.033213511109352,0.024803986772895,0.015885904431343,-0.013889186084270,-0.010495889000595,-0.001391804427840,0.006970607675612,-0.001187484012917,0.171382516622543,0.034964758902788,0.094405859708786,0.032859034836292,0.014791621826589,-0.001138417050242,0.036404032260180,-0.026153413578868));
res += mul(Get(s2,0,dy), float4x4(-0.013824519701302,0.027033917605877,0.059165436774492,-0.006656418554485,-0.018975690007210,0.025197017937899,0.018710417672992,0.040563177317381,-0.041744228452444,-0.032271340489388,0.015795962885022,0.000852782977745,0.042645946145058,0.028528951108456,0.032073479145765,0.015947546809912));
res += mul(Get(s2,dx,-dy), float4x4(-0.136167526245117,0.182786002755165,0.027996325865388,-0.042791508138180,-0.005059474613518,0.047071810811758,0.026860788464546,-0.000701096374542,-0.024842688813806,0.002150798914954,0.006876114755869,0.039290327578783,0.136109426617622,0.077286988496780,0.018519138917327,0.013732443563640));
res += mul(Get(s2,dx,0), float4x4(-0.142807647585869,0.149027869105339,-0.058842286467552,-0.052751436829567,-0.012592972256243,0.038301758468151,0.024088002741337,0.006728536449373,0.063779316842556,0.053528890013695,0.064201667904854,0.018052199855447,0.211991399526596,0.151224091649055,0.046900324523449,0.005508397705853));
res += mul(Get(s2,dx,dy), float4x4(-0.142862200737000,0.025581592693925,-0.032898761332035,-0.091813534498215,-0.016853090375662,0.029884662479162,0.034889064729214,-0.001412500161678,-0.028099944815040,-0.032475620508194,-0.032998699694872,-0.010635329410434,0.223350569605827,0.056797008961439,0.051557134836912,-0.024810617789626));
res += mul(Get(s3,-dx,-dy), float4x4(0.022041242569685,0.003797499230132,0.040915261954069,0.025383660569787,0.056702706962824,0.065043963491917,0.041933014988899,0.014955244958401,-0.006405969150364,0.016994167119265,-0.030897900462151,-0.104413792490959,-0.009207011200488,-0.005162070505321,-0.010622707195580,0.074610203504562));
res += mul(Get(s3,-dx,0), float4x4(0.025723913684487,0.028772363439202,0.016694473102689,0.123762272298336,0.067120514810085,0.020903266966343,-0.001908950391226,0.055625904351473,-0.014751097187400,0.023005090653896,-0.085378892719746,0.101228468120098,-0.022881133481860,0.063255190849304,0.117051832377911,-0.005777704063803));
res += mul(Get(s3,-dx,dy), float4x4(0.079762309789658,0.039239276200533,0.100971117615700,0.089372262358665,0.046007838100195,-0.031731415539980,-0.025893032550812,0.059120524674654,-0.029332397505641,0.037285562604666,-0.026428602635860,-0.017740394920111,0.017973512411118,0.003216482000425,0.046901993453503,-0.001940211397596));
res += mul(Get(s3,0,-dy), float4x4(0.026400346308947,0.025723898783326,0.092965453863144,0.039461929351091,0.035839509218931,0.045839242637157,0.054333422333002,0.048113904893398,-0.055106773972511,-0.044619787484407,0.107935816049576,-0.019096098840237,0.065787136554718,0.122336320579052,0.007631191518158,0.074512697756290));
res += mul(Get(s3,0,0), float4x4(-0.016538474708796,-0.017675250768661,0.012687191367149,-0.038441590964794,0.016507124528289,0.005243379622698,-0.000416165858041,0.020278083160520,-0.010317860171199,-0.065294176340103,-0.074272520840168,0.074430465698242,0.145298823714256,0.254194259643555,0.142404243350029,-0.014092042110860));
res += mul(Get(s3,0,dy), float4x4(-0.023941323161125,0.103500366210938,0.051833827048540,0.104524262249470,-0.015790745615959,-0.027000637724996,-0.029320541769266,0.087262414395809,-0.084706388413906,-0.008673978038132,-0.044642429798841,0.001431666896679,0.171517372131348,0.007089782040566,0.047649815678596,-0.042541328817606));
res += mul(Get(s3,dx,-dy), float4x4(-0.041827280074358,0.037168361246586,0.033782798796892,0.013707346282899,-0.000175119246705,0.043117303401232,0.052085321396589,0.031412780284882,0.001217843149789,0.288758248090744,0.144135609269142,0.038687013089657,0.076526813209057,-0.003354043699801,-0.025182140991092,0.001068828976713));
res += mul(Get(s3,dx,0), float4x4(-0.051683910191059,0.120143756270409,0.017021883279085,-0.000765959906857,-0.003500764491037,0.026507759466767,0.007317904848605,0.002449466846883,0.165482729673386,0.058997675776482,-0.035557799041271,-0.030736427754164,0.077618755400181,0.052489370107651,0.033124964684248,0.009137804619968));
res += mul(Get(s3,dx,dy), float4x4(-0.008977406658232,0.064321093261242,0.031788915395737,-0.007728051859885,0.000493956322316,-0.010244967415929,-0.031805120408535,0.030703162774444,-0.088861569762230,-0.001296229078434,-0.024372594431043,0.008739579468966,0.127750143408775,0.008475591428578,0.041521724313498,-0.037865459918976));
return max(float4(0,0,0,0), res);
}
