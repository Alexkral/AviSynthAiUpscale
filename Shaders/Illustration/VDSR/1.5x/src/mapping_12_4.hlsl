sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.024560578167439,-0.112421445548534,-0.021268358454108,-0.041022371500731,0.014709533192217,-0.038437735289335,-0.014903990551829,-0.065113805234432,0.022255634889007,0.034133452922106,-0.037325657904148,0.050426270812750,-0.067412547767162,-0.171750709414482,0.034447684884071,0.045186892151833));
res += mul(Get(s0,-dx,0), float4x4(0.030542511492968,-0.095345586538315,-0.037478774785995,0.033985055983067,-0.062768362462521,0.017976623028517,0.029074721038342,-0.065493933856487,0.073414534330368,0.106850765645504,0.042152557522058,0.025861434638500,0.077844440937042,-0.114061117172241,-0.061863373965025,-0.031113538891077));
res += mul(Get(s0,-dx,dy), float4x4(0.021205091848969,-0.040992379188538,0.030013468116522,-0.017077118158340,-0.000476068031276,-0.072307467460632,-0.063529901206493,0.069965243339539,0.030921110883355,0.130084559321404,-0.046973444521427,-0.040293347090483,0.034141160547733,0.006391379982233,0.040781978517771,-0.042902320623398));
res += mul(Get(s0,0,-dy), float4x4(-0.015675893053412,-0.079078666865826,0.047164399176836,0.012802906334400,0.013510857708752,0.082955174148083,-0.036810364574194,-0.014285433106124,-0.023057807236910,0.053966064006090,0.108173467218876,0.032228246331215,-0.039511732757092,-0.037547793239355,0.010458100587130,0.005443592090160));
res += mul(Get(s0,0,0), float4x4(-0.094320319592953,-0.011652771383524,-0.060370784252882,0.029752550646663,0.055570010095835,-0.035389035940170,0.021449008956552,0.008646175265312,0.151646792888641,0.098738662898540,-0.031587846577168,-0.068872481584549,-0.032175399363041,-0.165358752012253,-0.034651912748814,0.031401526182890));
res += mul(Get(s0,0,dy), float4x4(0.027344588190317,0.018671289086342,-0.001527920947410,0.001615094020963,-0.029510809108615,0.107612684369087,0.033247809857130,0.011836807243526,-0.084716342389584,0.019886422902346,-0.018314832821488,-0.060620713979006,-0.008722927421331,0.037341754883528,-0.033063389360905,-0.059981435537338));
res += mul(Get(s0,dx,-dy), float4x4(-0.075343944132328,0.096815168857574,0.027464065700769,0.001471568248235,0.007834568619728,0.008179247379303,0.013531560078263,-0.012504457496107,0.073848426342010,-0.082869924604893,0.052199166268110,-0.063139028847218,-0.021916449069977,-0.070324800908566,-0.004682322032750,-0.021534994244576));
res += mul(Get(s0,dx,0), float4x4(-0.024779286235571,-0.042207609862089,-0.003855064278468,0.047030512243509,-0.031851388514042,-0.036073803901672,0.110859848558903,0.006773374974728,0.125738292932510,-0.120344854891300,-0.043403036892414,-0.011537807062268,-0.070220835506916,0.002098423196003,0.009331332519650,0.004138111136854));
res += mul(Get(s0,dx,dy), float4x4(-0.051688719540834,0.059702660888433,0.095652543008327,0.047798931598663,-0.062596805393696,0.015733214095235,-0.026272570714355,-0.020204018801451,-0.146714523434639,0.120167665183544,0.042822431772947,0.025550672784448,0.042441237717867,0.036539085209370,-0.042135689407587,-0.023014022037387));
res += mul(Get(s1,-dx,-dy), float4x4(-0.011095831170678,-0.025913242250681,0.016005888581276,-0.012163013219833,-0.003335279179737,0.022069161757827,0.026472862809896,-0.084003672003746,0.050851121544838,0.107081152498722,-0.035376492887735,0.031341802328825,-0.008214345201850,0.134228512644768,0.019505050033331,0.011634841561317));
res += mul(Get(s1,-dx,0), float4x4(0.115386813879013,-0.125763639807701,-0.007642481941730,-0.026921547949314,-0.031345091760159,0.066295690834522,-0.049858622252941,-0.076293796300888,-0.059767324477434,0.205241635441780,-0.061292700469494,-0.070444829761982,0.035474263131618,0.045892421156168,-0.000606688961852,0.066618621349335));
res += mul(Get(s1,-dx,dy), float4x4(0.029523976147175,0.019509261474013,-0.044096749275923,0.084161154925823,0.121710196137428,0.045023012906313,0.019121186807752,0.079706251621246,0.000296864018310,0.000394804374082,0.029203632846475,-0.067357003688812,-0.042702939361334,0.086421675980091,0.096080139279366,-0.013651761226356));
res += mul(Get(s1,0,-dy), float4x4(0.021614264696836,0.105939432978630,-0.053256686776876,-0.093681544065475,0.052037660032511,0.047215566039085,-0.025363884866238,0.038961742073298,0.069699093699455,0.045086987316608,-0.047731906175613,0.010826154612005,-0.121637955307961,0.020423157140613,0.066620633006096,0.072330050170422));
res += mul(Get(s1,0,0), float4x4(-0.011267489753664,0.022601706907153,-0.030592432245612,0.005296303424984,0.042583975940943,0.183196455240250,-0.045410610735416,-0.027000593021512,-0.100944742560387,0.083986967802048,-0.027164746075869,0.024576300755143,0.020299306139350,-0.060318369418383,0.068595737218857,0.038480430841446));
res += mul(Get(s1,0,dy), float4x4(-0.001442820183001,-0.010490015149117,-0.041779085993767,0.091531842947006,0.022156769409776,-0.097519658505917,-0.075272157788277,0.012704366818070,0.023430539295077,-0.063740059733391,0.027143493294716,-0.076965168118477,-0.026444867253304,-0.017804967239499,-0.105834856629372,-0.069951668381691));
res += mul(Get(s1,dx,-dy), float4x4(-0.047836121171713,0.080503009259701,0.054127212613821,-0.018065826967359,0.024662852287292,-0.095361717045307,-0.049318790435791,0.097940795123577,0.050485897809267,-0.044328581541777,0.042888563126326,0.054508510977030,-0.017266416922212,0.084500320255756,-0.018192062154412,-0.043606352061033));
res += mul(Get(s1,dx,0), float4x4(0.064111709594727,0.005466678645462,-0.059250771999359,0.010520192794502,0.035246785730124,0.055404499173164,0.088255174458027,-0.044529289007187,-0.013898368924856,0.028327060863376,-0.062653712928295,-0.023824658244848,-0.009446865878999,-0.065847866237164,-0.012358610518277,-0.002373313065618));
res += mul(Get(s1,dx,dy), float4x4(-0.054304715245962,0.088591195642948,0.006770045030862,-0.104139536619186,-0.041242863982916,-0.077906921505928,-0.080977737903595,0.024594012647867,-0.048476181924343,0.087512023746967,-0.018423674628139,-0.094778232276440,0.004016882274300,0.038305401802063,-0.056029390543699,0.061537247151136));
res += mul(Get(s2,-dx,-dy), float4x4(0.024859659373760,0.029645984992385,-0.040752205997705,0.026303051039577,-0.048147048801184,0.054422978311777,-0.020624464377761,-0.104500636458397,-0.018892820924520,-0.036014810204506,0.038189794868231,-0.078197285532951,-0.040937479585409,0.053952578455210,-0.012320136651397,-0.030506718903780));
res += mul(Get(s2,-dx,0), float4x4(-0.053317025303841,-0.052676185965538,0.037267003208399,-0.071996293962002,-0.008847096934915,0.055835757404566,0.043854594230652,0.001108686905354,-0.032820735126734,0.165633231401443,-0.019149821251631,-0.058140609413385,-0.103440403938293,0.035138677805662,0.008660465478897,0.061110205948353));
res += mul(Get(s2,-dx,dy), float4x4(-0.017262268811464,0.047404196113348,-0.071973301470280,0.071046479046345,-0.024498146027327,0.021482497453690,-0.034265160560608,-0.029913201928139,-0.033902160823345,0.095549628138542,-0.019514339044690,0.062142729759216,-0.028657509014010,-0.075100906193256,0.020078377798200,-0.040498588234186));
res += mul(Get(s2,0,-dy), float4x4(-0.046443473547697,-0.061430510133505,0.059925083070993,0.009926013648510,0.039092950522900,-0.016303822398186,-0.009092167019844,-0.023224292322993,-0.007585731334984,-0.049568668007851,-0.019553480669856,-0.026564391329885,0.009316169656813,0.102393224835396,-0.019021173939109,-0.049897197633982));
res += mul(Get(s2,0,0), float4x4(0.003655452746898,0.009967092424631,0.085173055529594,0.044627744704485,0.034003440290689,-0.095824271440506,0.061802398413420,-0.029928805306554,-0.100277513265610,-0.127146795392036,-0.029055636376143,-0.082251809537411,-0.099669948220253,0.081531010568142,-0.028627827763557,-0.102097220718861));
res += mul(Get(s2,0,dy), float4x4(-0.055161017924547,-0.044210072606802,0.000420237571234,-0.030162548646331,0.064035221934319,-0.044559188187122,-0.052037362009287,-0.014422925189137,0.011016074568033,-0.058984521776438,-0.010199259966612,-0.046690184623003,0.017785897478461,-0.148503333330154,0.014176989905536,-0.011972147971392));
res += mul(Get(s2,dx,-dy), float4x4(-0.057728726416826,0.014135912060738,0.092349067330360,-0.052147962152958,-0.082158751785755,0.015719018876553,-0.035891935229301,0.012508868239820,-0.013589650392532,0.217062771320343,-0.030408695340157,0.011550262570381,0.024376602843404,-0.083263404667377,-0.022492684423923,-0.020851669833064));
res += mul(Get(s2,dx,0), float4x4(-0.023690927773714,-0.005001804791391,0.082509323954582,-0.050172176212072,-0.073624521493912,0.007277520373464,0.045226603746414,-0.037070836871862,0.036259103566408,0.318504273891449,-0.044605866074562,-0.006738239433616,-0.090996891260147,0.159519612789154,0.020749554038048,0.024446189403534));
res += mul(Get(s2,dx,dy), float4x4(0.001154261408374,-0.074852161109447,0.003897273913026,0.055987503379583,0.101290993392467,-0.001304970472120,-0.094677232205868,-0.048421170562506,0.096986673772335,0.007994277402759,0.047000404447317,0.002923925872892,-0.044826410710812,0.128850370645523,-0.061823073774576,-0.029212661087513));
res += mul(Get(s3,-dx,-dy), float4x4(0.056368533521891,-0.131366640329361,0.001177606172860,-0.059836111962795,0.033460125327110,0.162671610713005,-0.067270360887051,0.055868424475193,0.048775613307953,-0.008046697825193,0.002562808571383,0.006476291455328,0.091026216745377,0.026780381798744,-0.046641532331705,-0.076376564800739));
res += mul(Get(s3,-dx,0), float4x4(-0.008203403092921,0.041696865111589,0.005836033727974,-0.101779855787754,0.084905080497265,-0.124674141407013,-0.029052890837193,0.044955398887396,0.008659142069519,0.010721519589424,-0.032163240015507,-0.042675834149122,-0.047865208238363,-0.023470841348171,0.071427144110203,0.011321348138154));
res += mul(Get(s3,-dx,dy), float4x4(0.075508557260036,0.101828679442406,0.070649050176144,0.146793946623802,-0.073160938918591,-0.066590122878551,0.023452080786228,0.028703723102808,-0.019273703917861,-0.043310742825270,-0.029413294047117,-0.083109222352505,-0.013236473314464,0.016882356256247,0.018595591187477,-0.039746820926666));
res += mul(Get(s3,0,-dy), float4x4(-0.024794073775411,-0.098155945539474,0.088579468429089,0.019735025241971,0.009074841625988,-0.046367738395929,0.068781882524490,0.012751101516187,0.105298921465874,-0.108898125588894,0.020429851487279,-0.017380194738507,-0.031011419370770,0.037582904100418,0.000713105255272,-0.032875645905733));
res += mul(Get(s3,0,0), float4x4(-0.004314729943871,0.083309106528759,-0.012765925377607,0.105235159397125,0.141847074031830,0.056834023445845,0.043752592056990,-0.017259685322642,-0.036127347499132,-0.000155089219334,0.069599539041519,0.032694075256586,-0.041819386184216,0.001655503525399,-0.006678825244308,-0.024509793147445));
res += mul(Get(s3,0,dy), float4x4(-0.104041963815689,0.055871523916721,-0.035593707114458,0.021203795447946,-0.058655001223087,0.044169384986162,-0.040296476334333,0.087944053113461,-0.039568945765495,-0.048454403877258,0.031120862811804,0.049416791647673,-0.020666018128395,-0.064726389944553,-0.098007783293724,-0.014184265397489));
res += mul(Get(s3,dx,-dy), float4x4(0.015289346687496,-0.030352402478456,-0.053893547505140,-0.075404450297356,-0.020971065387130,-0.026217687875032,-0.104060322046280,-0.007437904831022,0.057080466300249,-0.071005798876286,-0.113631583750248,-0.003994712606072,0.099991314113140,-0.013405489735305,-0.015322173945606,0.019138241186738));
res += mul(Get(s3,dx,0), float4x4(-0.097854487597942,-0.021321311593056,-0.029807124286890,0.051136031746864,0.071110785007477,-0.025080734863877,-0.023339791223407,-0.063564270734787,0.009340260177851,0.070047438144684,-0.043390039354563,-0.037679743021727,-0.038170795887709,-0.050397217273712,-0.031535621732473,-0.002675267634913));
res += mul(Get(s3,dx,dy), float4x4(-0.052547160536051,-0.116670705378056,0.000243144488195,-0.021619172766805,-0.099686257541180,0.053910274058580,0.014365592040122,-0.065872184932232,0.005640497896820,-0.018271448090672,-0.055509053170681,-0.025604762136936,0.019398551434278,0.026177164167166,-0.008044141344726,0.062767401337624));
return max(float4(0,0,0,0), res);
}
