sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.004279712215066,-0.058288905769587,-0.025630973279476,-0.053884837776423,0.053457912057638,-0.108420029282570,-0.054332271218300,-0.078277617692947,-0.133391350507736,-0.036739502102137,0.009808640927076,0.018837625160813,-0.080463938415051,-0.027972245588899,-0.105916716158390,0.027722109109163));
res += mul(Get(s0,-dx,0), float4x4(0.038807481527328,-0.076601743698120,0.040839083492756,-0.086140125989914,0.118339225649834,0.119005613029003,-0.068391442298889,0.069635152816772,-0.015373107977211,-0.020275380462408,-0.054316479712725,-0.064467176795006,-0.175363391637802,0.035294312983751,-0.021703541278839,-0.022030824795365));
res += mul(Get(s0,-dx,dy), float4x4(0.056798573583364,0.007384654600173,0.065552480518818,-0.036478132009506,-0.052715968340635,-0.049028337001801,-0.051144275814295,-0.028333600610495,0.047179318964481,0.017158061265945,0.030778339132667,0.012416875921190,-0.028986690565944,-0.102072402834892,-0.099841207265854,0.013873695395887));
res += mul(Get(s0,0,-dy), float4x4(0.050099957734346,0.006389504298568,0.032311338931322,-0.103868171572685,-0.041716162115335,-0.017158620059490,-0.056451324373484,-0.036207228899002,-0.075918145477772,-0.057434450834990,0.030820125713944,0.131937608122826,0.017329353839159,-0.016270320862532,-0.054759487509727,0.178712204098701));
res += mul(Get(s0,0,0), float4x4(-0.089965604245663,0.057763855904341,0.034851759672165,-0.121760383248329,-0.024710930883884,-0.006206025369465,-0.073141723871231,-0.086538493633270,-0.069250255823135,-0.070824973285198,0.073962546885014,0.049460086971521,0.046446796506643,-0.018260350450873,-0.066459015011787,0.265263229608536));
res += mul(Get(s0,0,dy), float4x4(-0.001261284691282,-0.027129312977195,-0.091480977833271,-0.115068763494492,0.003896445967257,-0.013332185335457,0.107413433492184,0.046139191836119,0.047122355550528,-0.029987165704370,0.039941214025021,-0.047002241015434,-0.000436248083133,-0.033298604190350,0.048168469220400,-0.013540660962462));
res += mul(Get(s0,dx,-dy), float4x4(0.018357118591666,0.030431540682912,0.150428682565689,0.069339863955975,-0.033785756677389,-0.047210469841957,0.034521363675594,-0.054619446396828,-0.060463145375252,-0.098264493048191,-0.006681906059384,0.013194299302995,0.007831228896976,0.002684158738703,-0.049753479659557,-0.012271479703486));
res += mul(Get(s0,dx,0), float4x4(0.010058496147394,0.064590647816658,-0.045317921787500,-0.080735653638840,0.003618074348196,-0.028722966089845,-0.020177694037557,-0.037611890584230,0.005354131571949,-0.100373186171055,0.017116498202085,0.108871139585972,-0.039187375456095,0.025598915293813,0.063443064689636,0.009116400033236));
res += mul(Get(s0,dx,dy), float4x4(0.021029759198427,0.076375268399715,-0.011574824340641,-0.017244178801775,0.102443151175976,-0.034314278513193,0.019553475081921,0.009843043051660,0.069985091686249,-0.070620879530907,0.146246403455734,0.031842168420553,-0.026942294090986,-0.034288689494133,0.003954759333283,0.018682574853301));
res += mul(Get(s1,-dx,-dy), float4x4(-0.069670990109444,0.090106412768364,-0.020857762545347,0.037950143218040,-0.080794952809811,0.006795418914407,-0.062432706356049,-0.074770301580429,-0.076302625238895,-0.042440600693226,-0.042839650064707,-0.054207753390074,0.159993872046471,0.015303118154407,0.015288104303181,0.006338675506413));
res += mul(Get(s1,-dx,0), float4x4(-0.014280356466770,0.029848219826818,0.026521908119321,0.002586999209598,0.049337692558765,0.015980254858732,-0.065947495400906,-0.018778711557388,-0.031621232628822,-0.092899329960346,-0.012865037657320,0.033577825874090,0.253832429647446,0.069510102272034,-0.071078136563301,0.007384723518044));
res += mul(Get(s1,-dx,dy), float4x4(-0.053688500076532,0.019814854487777,0.038112163543701,-0.038695756345987,0.069696813821793,0.120103143155575,0.008035071194172,-0.056584324687719,0.019082738086581,-0.071233637630939,0.125128924846649,-0.072058871388435,0.131293043494225,-0.074686594307423,0.080397203564644,0.012538904324174));
res += mul(Get(s1,0,-dy), float4x4(-0.046914231032133,-0.046271726489067,-0.085100434720516,0.067373655736446,-0.010276992805302,0.035536196082830,-0.008383098058403,0.036016475409269,-0.121908202767372,-0.033547975122929,0.000342058774550,-0.032591663300991,0.058833766728640,0.048759572207928,-0.067688331007957,-0.062327947467566));
res += mul(Get(s1,0,0), float4x4(-0.070294022560120,0.026994882151484,0.049977406859398,0.185326337814331,0.040156807750463,-0.038026798516512,-0.050666913390160,-0.001202902290970,-0.032180134207010,-0.083945587277412,0.005602039396763,0.062407135963440,-0.127167746424675,0.112409748136997,0.046507101505995,0.039869286119938));
res += mul(Get(s1,0,dy), float4x4(-0.076626770198345,0.103847570717335,0.047643758356571,0.073074236512184,0.033794317394495,0.097952067852020,-0.001857894589193,-0.011611447669566,0.093805789947510,-0.053728379309177,0.043128978461027,-0.093146309256554,0.021929612383246,0.184486269950867,0.139990285038948,0.098681405186653));
res += mul(Get(s1,dx,-dy), float4x4(0.029780903831124,-0.062753722071648,0.038895267993212,-0.010811870917678,-0.096240356564522,-0.023723363876343,-0.084202431142330,0.045439597219229,0.075732655823231,-0.030372748151422,-0.050897303968668,-0.120183810591698,0.094636909663677,0.022806761786342,-0.013864288106561,-0.229080364108086));
res += mul(Get(s1,dx,0), float4x4(0.034995872527361,-0.015665588900447,-0.087154448032379,0.053971134126186,-0.002850593067706,-0.070247933268547,-0.077734366059303,0.041782278567553,0.095607623457909,0.002587021328509,-0.007065673358738,0.027502430602908,0.044446960091591,-0.025459555909038,-0.026786398142576,-0.051606886088848));
res += mul(Get(s1,dx,dy), float4x4(0.026421707123518,0.003646641271189,0.128781571984291,0.163695856928825,-0.016037371009588,0.027130724862218,0.047250572592020,0.042843915522099,0.082727089524269,0.028546165674925,-0.000574818172026,-0.102521255612373,0.021137237548828,0.033377766609192,0.035548985004425,0.008654637262225));
res += mul(Get(s2,-dx,-dy), float4x4(-0.018159797415137,0.115837559103966,-0.017143830657005,0.033225189894438,0.109235763549805,-0.101372539997101,0.034796852618456,-0.016281295567751,-0.046105511486530,0.081961534917355,0.036430388689041,0.043976437300444,-0.015898030251265,0.003944332711399,-0.065728247165680,-0.001732488512062));
res += mul(Get(s2,-dx,0), float4x4(-0.047167755663395,0.012583718635142,0.037985451519489,-0.019486170262098,0.059457715600729,-0.049849376082420,0.009900925680995,0.007012408692390,0.065004952251911,0.056507673114538,-0.065918073058128,0.063813015818596,-0.071377232670784,0.070729941129684,-0.016944061964750,-0.024835981428623));
res += mul(Get(s2,-dx,dy), float4x4(-0.138590797781944,0.050515711307526,0.077829271554947,0.045221582055092,-0.002303790999576,0.050268545746803,0.009983110241592,-0.031403090804815,-0.003609427483752,-0.001960438443348,0.057230815291405,-0.010363884270191,-0.120074465870857,0.130973711609840,-0.003412890248001,-0.000708034029230));
res += mul(Get(s2,0,-dy), float4x4(-0.097116999328136,0.067008100450039,-0.023219501599669,0.106081195175648,-0.073879778385162,-0.015331112779677,0.069248087704182,0.000205176489544,0.068603992462158,-0.008584117516875,-0.002582591958344,-0.024347970262170,-0.036217581480742,0.085927501320839,0.019467297941446,-0.018512584269047));
res += mul(Get(s2,0,0), float4x4(0.027486389502883,0.028976300731301,-0.023041075095534,-0.002178602851927,-0.008856192231178,-0.039302911609411,0.067954041063786,0.035576049238443,0.074774898588657,0.041065730154514,-0.033849563449621,0.021640608087182,-0.098649151623249,0.072232432663441,-0.011006564833224,-0.002518486464396));
res += mul(Get(s2,0,dy), float4x4(-0.094890549778938,0.053595069795847,0.003734652185813,-0.012828247621655,0.155951693654060,0.057695366442204,0.020629733800888,0.024568971246481,0.045249026268721,-0.035191215574741,0.014421967789531,-0.069912374019623,-0.014146652072668,-0.021316042169929,-0.066573791205883,0.010851700790226));
res += mul(Get(s2,dx,-dy), float4x4(-0.021069483831525,0.036124013364315,-0.086190089583397,0.027373850345612,-0.000728829181753,-0.052192125469446,0.063358686864376,-0.056247569620609,-0.031814642250538,0.057124190032482,0.022595714777708,-0.070083260536194,0.136792153120041,0.000451743893791,-0.014840889722109,-0.065095424652100));
res += mul(Get(s2,dx,0), float4x4(-0.002631557639688,-0.023869462311268,-0.011032450944185,0.027200743556023,-0.087899841368198,0.023017499595881,-0.015835581347346,0.014570548199117,0.036003809422255,0.045731462538242,0.007858491502702,-0.065581500530243,0.197225600481033,-0.023490343242884,-0.067897938191891,-0.000405203696573));
res += mul(Get(s2,dx,dy), float4x4(-0.056680373847485,0.000766716315411,0.032720692455769,0.058326683938503,-0.000603580730967,0.106949903070927,0.130288854241371,-0.016460079699755,0.045291788876057,0.022772725671530,0.041411552578211,-0.062569335103035,-0.006919967476279,0.004586729221046,0.024828584864736,0.041367713361979));
res += mul(Get(s3,-dx,-dy), float4x4(-0.026009900495410,0.047931913286448,0.021707171574235,-0.049117732793093,-0.002332437084988,0.036903448402882,0.001962855691090,-0.012821990996599,0.018470535054803,-0.058362726122141,-0.100707396864891,-0.036630272865295,-0.012347356416285,-0.100835017859936,-0.008533131331205,0.046538721770048));
res += mul(Get(s3,-dx,0), float4x4(0.073415353894234,-0.019716689363122,-0.070218026638031,0.018245274201035,-0.004944299347699,-0.076940290629864,-0.079661533236504,0.041723046451807,-0.087809890508652,0.018159355968237,0.041825965046883,0.049552224576473,-0.002113637747243,-0.062527641654015,-0.015007851645350,-0.027634412050247));
res += mul(Get(s3,-dx,dy), float4x4(0.097734883427620,-0.047608334571123,0.048104520887136,0.082763202488422,0.007397342473269,-0.023867638781667,-0.010420524515212,-0.047800876200199,0.010009893216193,0.058370344340801,0.041912235319614,-0.015787353739142,0.047120399773121,-0.059108287096024,0.013432816602290,0.005974899977446));
res += mul(Get(s3,0,-dy), float4x4(-0.046708393841982,-0.011186468414962,0.069593347609043,-0.008313621394336,-0.054277993738651,0.008114756084979,0.005136097781360,-0.069616109132767,-0.008425866253674,0.037622168660164,0.023383392021060,-0.028085403144360,-0.002612778451294,-0.087858378887177,-0.058272473514080,0.050138443708420));
res += mul(Get(s3,0,0), float4x4(-0.044155973941088,-0.036504425108433,-0.012306835502386,-0.098888896405697,-0.052462592720985,-0.006656815297902,-0.077892042696476,0.016922544687986,-0.053473167121410,0.034684702754021,0.089650474488735,-0.016230231150985,-0.128713890910149,-0.067351378500462,-0.029103578999639,0.102460838854313));
res += mul(Get(s3,0,dy), float4x4(-0.085325218737125,0.008580626919866,-0.002200989052653,0.027897221967578,0.046153631061316,-0.050060208886862,0.044093780219555,-0.004304537083954,0.052882093936205,-0.021083215251565,0.010078810155392,0.038635313510895,-0.031209835782647,-0.030235141515732,-0.026845796033740,0.062034185975790));
res += mul(Get(s3,dx,-dy), float4x4(0.003384751733392,-0.070152454078197,-0.073710076510906,-0.052152059972286,0.016348406672478,-0.092153623700142,-0.031197717413306,0.072402149438858,0.048633810132742,-0.023438308387995,0.236254513263702,-0.036770273000002,0.007039114367217,-0.080298602581024,-0.036735352128744,0.023268183693290));
res += mul(Get(s3,dx,0), float4x4(0.025187384337187,-0.070494413375854,0.001700755092315,-0.000235556464759,-0.030457310378551,-0.064749062061310,-0.010682345367968,0.089696362614632,0.010816227644682,0.052257146686316,0.094108588993549,0.039353214204311,0.088681571185589,-0.064817458391190,-0.033946052193642,-0.016616487875581));
res += mul(Get(s3,dx,dy), float4x4(-0.010273489169776,0.040078740566969,0.020147625356913,-0.005919286981225,-0.017456660047174,-0.005164504516870,0.019122824072838,-0.058652322739363,0.071384966373444,0.011366035789251,0.084139667451382,0.038321048021317,0.060894839465618,-0.055713199079037,-0.022461090236902,0.010182724334300));
return max(float4(0,0,0,0), res);
}
