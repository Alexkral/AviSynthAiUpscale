sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.016912091523409,-0.014193981885910,-0.002212358871475,0.010861665010452,0.025596687570214,-0.086377970874310,0.004972735419869,-0.023709189146757,0.010386317968369,0.081225067377090,0.002006732625887,-0.005124472547323,-0.007655533030629,0.026503503322601,-0.017116002738476,0.040247343480587));
res += mul(Get(s0,-dx,0), float4x4(0.011080286465585,0.020994855090976,0.040510907769203,0.012268511578441,-0.247491180896759,0.023518206551671,-0.071888983249664,-0.072947084903717,0.026470845565200,0.097668163478374,0.001947644981556,0.015025721862912,-0.106554664671421,0.045581325888634,0.093779638409615,0.031362116336823));
res += mul(Get(s0,-dx,dy), float4x4(0.005939038936049,0.019095391035080,0.015138807706535,-0.007897133007646,0.047891605645418,0.142527237534523,-0.068416677415371,-0.005999896675348,0.021757619455457,0.067274682223797,0.032384660094976,0.019902637228370,-0.043937217444181,0.016021324321628,0.024706648662686,-0.014340911060572));
res += mul(Get(s0,0,-dy), float4x4(-0.006374104879797,-0.026722680777311,0.012416619807482,0.060291543602943,0.407333791255951,0.127019777894020,0.011641610413790,-0.006602762732655,0.011349872685969,-0.002619443926960,-0.016571048647165,0.001832904526964,0.055015504360199,-0.002462679054588,0.043927948921919,0.058403722941875));
res += mul(Get(s0,0,0), float4x4(0.055886145681143,0.007528491318226,0.037182994186878,0.062305890023708,-0.189447894692421,-0.151928380131721,-0.070294678211212,-0.062018699944019,0.012799658812582,0.031393613666296,-0.019541887566447,0.011060331948102,0.101537078619003,0.248164549469948,0.075711570680141,0.026894621551037));
res += mul(Get(s0,0,dy), float4x4(0.072505831718445,0.016919657588005,0.024633329361677,0.043463133275509,-0.191086530685425,-0.146298974752426,-0.054360244423151,-0.019338976591825,0.003187784459442,0.054895896464586,0.016058294102550,0.038629014045000,0.043141540139914,0.024370145052671,-0.017511952668428,-0.005063440650702));
res += mul(Get(s0,dx,-dy), float4x4(-0.013808942399919,-0.025666104629636,0.022284846752882,0.043804537504911,0.068653732538223,0.014992865733802,0.028075767681003,0.012972297146916,0.013432601466775,-0.045045793056488,0.004711519461125,-0.000690105021931,0.084030106663704,-0.021911585703492,0.014164417982101,0.031630635261536));
res += mul(Get(s0,dx,0), float4x4(-0.031934995204210,-0.024002129212022,0.062541864812374,0.053327534347773,0.102015353739262,0.012075539678335,-0.010248910635710,-0.004374150652438,0.007210953626782,-0.050679203122854,-0.007730835583061,0.011479512788355,-0.048627875745296,-0.012805918231606,-0.027168523520231,-0.008319988846779));
res += mul(Get(s0,dx,dy), float4x4(0.027216445654631,-0.005941045004874,0.040308810770512,0.021830704063177,-0.002947203116491,-0.039201620966196,0.010153301060200,0.007405082695186,0.008899691514671,-0.011362802237272,0.021448984742165,0.025842269882560,-0.072597116231918,-0.112722046673298,-0.040595162659883,-0.011318651027977));
res += mul(Get(s1,-dx,-dy), float4x4(-0.011120663955808,0.010495418682694,-0.004218594636768,0.012743474915624,0.009831503033638,-0.021717600524426,0.018279680982232,0.024588765576482,-0.021026084199548,-0.015435064211488,-0.019913380965590,-0.081179380416870,0.006945044267923,-0.006148942280561,0.006222892552614,-0.009826521389186));
res += mul(Get(s1,-dx,0), float4x4(-0.017925161868334,0.009367077611387,0.038249529898167,0.039126604795456,0.001400333945639,-0.054323583841324,0.023367496207356,0.064093627035618,-0.141770854592323,0.058928165584803,-0.087794162333012,-0.089113473892212,-0.014643997885287,-0.022055037319660,-0.000776945205871,-0.004182026721537));
res += mul(Get(s1,-dx,dy), float4x4(-0.024389002472162,0.028503188863397,0.059938378632069,0.009449575096369,0.035863127559423,-0.011659105308354,0.099478580057621,0.048029944300652,0.110184147953987,0.132444739341736,-0.028577825054526,0.045660331845284,-0.029559567570686,-0.017386581748724,0.006842474918813,-0.000825212686323));
res += mul(Get(s1,0,-dy), float4x4(-0.001841770252213,-0.000768338795751,-0.007451840210706,0.004728550557047,0.025810953229666,0.009182326495647,0.020064808428288,0.021452328190207,0.134540274739265,-0.015531329438090,-0.028841497376561,-0.078686021268368,0.010196375660598,-0.001679777749814,-0.002400631317869,-0.000056826269429));
res += mul(Get(s1,0,0), float4x4(0.053743995726109,0.066470541059971,0.025883235037327,0.047373592853546,-0.001954803941771,-0.018233304843307,0.035706248134375,0.093057729303837,-0.303160071372986,-0.155085176229477,-0.103159360587597,-0.086189299821854,0.027968535199761,0.000732495216653,-0.001187570742331,0.001138842781074));
res += mul(Get(s1,0,dy), float4x4(0.000661438272800,0.066680580377579,0.056722026318312,0.019645405933261,-0.018700290471315,0.024287147447467,0.116656482219696,0.070951581001282,-0.089324489235878,0.072310209274292,-0.043911390006542,0.029298311099410,-0.018104750663042,-0.016463315114379,0.010954463854432,0.002111873822287));
res += mul(Get(s1,dx,-dy), float4x4(0.001859425799921,-0.022133409976959,-0.001845471328124,-0.006214301101863,0.012851094827056,0.025447025895119,0.004076853394508,0.010282967239618,0.161164864897728,0.030291525647044,0.037266716361046,0.007675359491259,-0.005372080020607,-0.007419512141496,0.004833347164094,0.000786599761341));
res += mul(Get(s1,dx,0), float4x4(0.019370395690203,0.022935103625059,0.015257876366377,0.033246625214815,0.024840906262398,0.064199559390545,0.009374678134918,0.052457761019468,0.124155461788177,-0.112852558493614,0.006252778694034,0.008592589758337,0.028894642367959,-0.014731625095010,-0.001542309997603,0.023605864495039));
res += mul(Get(s1,dx,dy), float4x4(-0.001199081656523,0.042935460805893,0.036144264042377,0.005679048597813,0.004688945598900,0.116629883646965,0.067975886166096,0.027638597413898,-0.092871166765690,-0.121910557150841,0.045385669916868,0.031561557203531,0.043479137122631,-0.000165560530149,0.019452009350061,0.013754459097981));
res += mul(Get(s2,-dx,-dy), float4x4(0.047341175377369,-0.067155249416828,-0.001797540695406,-0.000633539340924,-0.001361393951811,0.006371670402586,0.002306998008862,0.003627297468483,-0.003440699074417,0.025485489517450,0.024796636775136,0.002928533125669,0.009104929864407,-0.017260732129216,-0.004407294560224,0.019877796992660));
res += mul(Get(s2,-dx,0), float4x4(0.008464694023132,-0.047308955341578,0.013631934300065,-0.012337616644800,0.009032265283167,0.033658698201180,0.010059128515422,0.007587707135826,-0.014763128943741,0.014091028831899,0.027444988489151,0.007341865915805,0.041910294443369,0.004000565968454,0.054320655763149,0.044544380158186));
res += mul(Get(s2,-dx,dy), float4x4(-0.000819124281406,-0.015341002494097,-0.005731456913054,-0.016719581559300,0.018283355981112,0.005603709723800,0.003161031985655,-0.001012348569930,-0.003206076100469,0.005759219639003,0.014951769262552,-0.000782488903496,0.080381393432617,0.032199159264565,0.060516282916069,0.011588701047003));
res += mul(Get(s2,0,-dy), float4x4(0.087097398936749,-0.009629885666072,0.008678493089974,0.042488690465689,0.022170851007104,-0.008951831609011,0.011755753308535,0.004142384976149,0.030924623832107,0.068252563476563,0.001464341999963,0.007731492631137,0.010257542133331,-0.016232647001743,-0.000918620848097,0.035256147384644));
res += mul(Get(s2,0,0), float4x4(0.098356753587723,0.027418823912740,0.042092300951481,0.048530720174313,0.021335978060961,0.027403334155679,-0.007970327511430,-0.005877690389752,0.013343352824450,0.052912347018719,0.000526121584699,-0.000395116658183,0.006525172386318,0.017696021124721,0.087038025259972,0.063589267432690));
res += mul(Get(s2,0,dy), float4x4(0.026904547587037,0.005700504407287,0.011064651422203,0.008162461221218,0.017969889566302,0.005379002075642,-0.012086707167327,-0.007436189334840,0.004944157786667,0.033511757850647,0.000908538349904,0.009312317706645,0.096474520862103,0.058297317475080,0.074129112064838,0.023515168577433));
res += mul(Get(s2,dx,-dy), float4x4(0.019412510097027,-0.022725477814674,0.017222749069333,0.026144878938794,0.062594704329967,0.020688967779279,0.015927713364363,0.007107588462532,-0.000266376388026,-0.009533537551761,-0.003781429259107,-0.000897662830539,0.006803938653320,0.023245384916663,-0.009649251587689,0.022363720461726));
res += mul(Get(s2,dx,0), float4x4(0.034955587238073,0.013456956483424,0.051832403987646,0.025201516225934,0.043678112328053,-0.012122943066061,-0.009635019116104,0.000054021551477,0.005777033511549,0.012425549328327,-0.001699961605482,0.001480075414293,0.038378175348043,0.142038524150848,0.055374875664711,0.044339064508677));
res += mul(Get(s2,dx,dy), float4x4(0.007331652101129,0.003369710408151,0.020785948261619,0.000620047096163,-0.001196636934765,-0.035772785544395,-0.010520234704018,-0.010369062423706,0.017535908147693,0.010843476280570,0.003243447979912,0.006342780310661,0.060944899916649,0.111770443618298,0.031869348138571,0.006730864755809));
res += mul(Get(s3,-dx,-dy), float4x4(-0.000630081980489,0.010523561388254,-0.002756917150691,-0.000943387043662,0.020650392398238,0.005774684250355,0.014594361186028,0.005873969290406,0.002316613448784,-0.003943471703678,0.001916363020428,0.005542011931539,0.016969818621874,0.005758770275861,0.024040902033448,0.000974037742708));
res += mul(Get(s3,-dx,0), float4x4(0.013520005159080,0.010253248736262,-0.000567001232412,0.004313719924539,-0.002586981281638,-0.001090636476874,0.002071761293337,-0.001541648176499,0.001446290523745,0.001737481798045,0.001351857557893,0.005880078766495,0.036414619535208,-0.002258966444060,0.008894320577383,-0.004555599763989));
res += mul(Get(s3,-dx,dy), float4x4(0.001999255036935,0.009718816727400,0.010939184576273,0.008286266587675,0.000111909248517,-0.003580921096727,-0.006167750339955,-0.001229694229551,-0.000090500041551,-0.008565533906221,-0.001906963880174,0.006964239291847,-0.003234871895984,-0.007766575552523,-0.001945773838088,-0.001675012987107));
res += mul(Get(s3,0,-dy), float4x4(0.011442040093243,0.009542885236442,-0.001880090683699,0.004366346634924,0.011853689327836,0.010667955502868,0.006992186419666,-0.000484225369291,-0.001722459448501,0.000002723483931,-0.004401169251651,-0.003983697853982,0.024625476449728,0.022643294185400,0.017678350210190,0.013308887369931));
res += mul(Get(s3,0,0), float4x4(-0.003116829087958,0.001257320749573,-0.004190429579467,0.005719831679016,0.032247856259346,0.009845376946032,0.002317042555660,0.004386677872390,-0.003998375032097,-0.001227445434779,0.006295680999756,-0.001023572636768,0.065875455737114,0.020015407353640,0.000412797206081,0.009540580213070));
res += mul(Get(s3,0,dy), float4x4(0.003521293634549,0.005508310627192,0.009586289525032,0.013344169594347,0.016350874677300,0.010538290254772,0.003329460741952,-0.004127711523324,-0.002152542117983,0.005160710308701,0.003131051314995,0.001395849161781,0.005416071042418,-0.001798005192541,0.001031106919982,-0.001226115389727));
res += mul(Get(s3,dx,-dy), float4x4(0.012698579579592,-0.004741035867482,0.008458694443107,-0.004177267663181,-0.002268067793921,-0.000323057378409,0.006628323346376,0.005089858081192,-0.001168085844256,0.001813129754737,-0.006717995274812,-0.001331956591457,-0.002698110416532,0.010980421677232,0.019510244950652,0.007761543616652));
res += mul(Get(s3,dx,0), float4x4(0.012152104638517,-0.002196713350713,0.003152343211696,0.012446159496903,0.023091871291399,-0.008561912924051,-0.008061006665230,0.005002870224416,-0.003437639214098,0.004976030904800,-0.004674808587879,0.000512412749231,0.029288774356246,-0.004904302768409,0.006808722391725,0.017930012196302));
res += mul(Get(s3,dx,dy), float4x4(0.001477241865359,-0.004799824673682,0.008478849194944,0.007302959915251,0.024456620216370,0.004625570029020,0.004410846624523,0.007394731044769,0.009906110353768,0.002484136028215,-0.003964417614043,0.002249940531328,0.034110426902771,-0.005513896699995,0.006139614619315,0.001878634211607));
return max(float4(0,0,0,0), res);
}
