sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.079339347779751,0.008761037141085,0.088316090404987,-0.047778960317373,0.180884882807732,-0.004240633919835,-0.089889407157898,-0.028541309759021,0.071076430380344,-0.108433946967125,-0.055186003446579,-0.025448981672525,0.055917229503393,-0.046217411756516,0.081753395497799,-0.023710448294878));
res += mul(Get(s0,-dx,0), float4x4(0.081005431711674,0.042803164571524,-0.039391428232193,0.064937308430672,0.080999560654163,-0.027196936309338,0.009814316406846,-0.043239634484053,0.023839794099331,-0.013705941848457,-0.049666117876768,0.036359824240208,-0.044552121311426,-0.027901472523808,-0.009253488853574,-0.068403676152229));
res += mul(Get(s0,-dx,dy), float4x4(0.045988138765097,-0.078977853059769,-0.047132458537817,0.053648564964533,0.024282362312078,0.090552248060703,-0.001047963276505,-0.070253908634186,0.002282066736370,0.073961094021797,-0.033791899681091,0.060632575303316,0.084010452032089,0.029842082411051,0.072107285261154,0.044251296669245));
res += mul(Get(s0,0,-dy), float4x4(0.218702077865601,-0.041035186499357,0.008248508907855,0.013583168387413,0.027035808190703,-0.015130376443267,-0.056583903729916,-0.125712200999260,0.104066081345081,0.040462121367455,0.046753317117691,0.071503952145576,0.077309504151344,0.111439876258373,-0.008334724232554,0.019800849258900));
res += mul(Get(s0,0,0), float4x4(0.030223159119487,-0.094963692128658,0.049428276717663,0.004848648328334,-0.033775810152292,-0.040141381323338,-0.034221854060888,0.008298321627080,-0.096839740872383,0.006885265000165,0.076482124626637,-0.113756425678730,-0.025705922394991,0.022832881659269,0.092268548905849,-0.011088464409113));
res += mul(Get(s0,0,dy), float4x4(0.003883152734488,0.002592806238681,0.020281858742237,-0.044571083039045,-0.084464967250824,-0.039770957082510,-0.077140219509602,0.061856307089329,0.015120223164558,0.116423070430756,0.041723582893610,0.010749090462923,-0.023306086659431,-0.088606506586075,-0.051013592630625,0.053735319525003));
res += mul(Get(s0,dx,-dy), float4x4(0.036120597273111,0.000913726398721,0.043529469519854,-0.048017706722021,-0.116767160594463,-0.037597451359034,0.022139096632600,0.120714329183102,-0.059319175779819,-0.042176179587841,0.073385886847973,-0.066445685923100,-0.048595912754536,-0.024934710934758,-0.041132278740406,0.029163196682930));
res += mul(Get(s0,dx,0), float4x4(0.108128421008587,0.040210902690887,0.056089155375957,-0.029303370043635,-0.044790796935558,0.104833588004112,0.010330144315958,0.135159581899643,-0.029213320463896,0.014519404619932,0.053448036313057,-0.018768746405840,0.038236167281866,-0.053911980241537,-0.038850553333759,-0.015759570524096));
res += mul(Get(s0,dx,dy), float4x4(-0.024016473442316,-0.073591448366642,0.025325825437903,0.072632379829884,-0.031619958579540,-0.037351716309786,-0.028552867472172,-0.089635148644447,-0.000602322339546,-0.059851653873920,0.044401183724403,0.119690395891666,0.024899134412408,-0.033996246755123,-0.093063808977604,-0.052535943686962));
res += mul(Get(s1,-dx,-dy), float4x4(0.010158849880099,0.064717791974545,-0.031979385763407,0.034949924796820,-0.051227975636721,0.054784622043371,0.057183269411325,-0.032933447510004,0.141820907592773,0.111290879547596,0.119251914322376,0.130428776144981,0.098497129976749,-0.005462117027491,-0.040449939668179,0.054004579782486));
res += mul(Get(s1,-dx,0), float4x4(0.063568428158760,0.026647275313735,0.026333639398217,-0.014345373958349,-0.097238712012768,-0.108087629079819,-0.084775075316429,-0.052318591624498,-0.069832019507885,-0.015533272176981,-0.107038505375385,0.009719615802169,-0.041160613298416,-0.151078745722771,0.003491984913126,-0.045880950987339));
res += mul(Get(s1,-dx,dy), float4x4(0.056814555078745,0.063887186348438,-0.064229182898998,0.022517029196024,0.011839687824249,-0.021242609247565,0.017476735636592,0.018952675163746,-0.053560137748718,0.003969104960561,-0.080228649079800,0.030627509579062,0.109919264912605,-0.135714754462242,0.009887988679111,-0.057701259851456));
res += mul(Get(s1,0,-dy), float4x4(0.037958610802889,0.025993550196290,0.050495266914368,0.041765730828047,0.231127664446831,-0.042988829314709,0.025479186326265,-0.067232891917229,-0.020892702043056,-0.063837334513664,0.097046703100204,-0.008369263261557,0.069873489439487,0.049255821853876,0.067853830754757,-0.121703296899796));
res += mul(Get(s1,0,0), float4x4(-0.027494046837091,-0.057773597538471,0.042428784072399,0.020793819800019,0.016211407259107,-0.039559494704008,-0.118143029510975,-0.023494029417634,0.087338380515575,0.000019947123292,0.016726862639189,0.068836286664009,0.151705324649811,-0.035231549292803,0.043154224753380,0.145763799548149));
res += mul(Get(s1,0,dy), float4x4(0.054622806608677,0.057107154279947,0.097778752446175,-0.047157045453787,-0.051709584891796,0.034771792590618,0.000772496568970,0.095259115099907,-0.019294856116176,0.034262418746948,0.035247355699539,0.033654093742371,0.066707588732243,-0.159491121768951,0.116117984056473,-0.054945673793554));
res += mul(Get(s1,dx,-dy), float4x4(0.004398572258651,-0.101781129837036,-0.019415780901909,0.005571325775236,0.026474440470338,0.021044360473752,0.174271076917648,0.034844592213631,0.073665946722031,-0.101232841610909,0.072993636131287,0.021785344928503,0.128135770559311,-0.135922685265541,-0.016198903322220,0.092686057090759));
res += mul(Get(s1,dx,0), float4x4(0.003931299317628,0.049816712737083,0.032052051275969,-0.070449545979500,0.052409131079912,0.017559755593538,-0.041853297501802,-0.036559518426657,-0.158164560794830,0.015536253340542,0.192890480160713,0.015753857791424,0.025802804157138,-0.018363738432527,0.035355344414711,0.045371759682894));
res += mul(Get(s1,dx,dy), float4x4(-0.004979473073035,0.034685943275690,0.187465175986290,0.071825519204140,-0.056739915162325,0.000520391389728,0.088106967508793,0.027322035282850,-0.053780276328325,-0.055104453116655,-0.017317118123174,0.204717561602592,0.008320121094584,0.008179666474462,0.102207854390144,-0.097597576677799));
res += mul(Get(s2,-dx,-dy), float4x4(-0.027471296489239,0.026558334007859,0.032037701457739,0.150379166007042,0.075924366712570,-0.033414140343666,0.010065419599414,0.001383060240187,0.132477417588234,-0.028478462249041,-0.084634862840176,-0.033765159547329,0.033067055046558,-0.009009283967316,-0.116782754659653,-0.026961326599121));
res += mul(Get(s2,-dx,0), float4x4(-0.066813029348850,0.080978840589523,-0.022638624534011,0.046467494219542,0.060338307172060,-0.098932676017284,-0.094383902847767,0.010216936469078,-0.134567826986313,0.041670527309179,0.045898627489805,-0.078096225857735,0.005291143897921,0.146621555089951,-0.043639346957207,0.010547074489295));
res += mul(Get(s2,-dx,dy), float4x4(0.113111644983292,0.021300977095962,0.006394421681762,0.122698016464710,0.073542460799217,-0.007599488366395,-0.103930570185184,-0.049798566848040,-0.003574472852051,0.070154808461666,-0.013295951299369,0.062559187412262,0.087226621806622,0.053017713129520,0.036661613732576,0.096270829439163));
res += mul(Get(s2,0,-dy), float4x4(0.016734834760427,-0.001500300364569,-0.017473017796874,0.037241030484438,0.101972773671150,0.012153458781540,0.024268528446555,0.027745258063078,-0.031100507825613,-0.025705106556416,0.066616557538509,0.030605951324105,0.085475407540798,0.017611125484109,-0.021515687927604,-0.085271969437599));
res += mul(Get(s2,0,0), float4x4(0.054235734045506,0.080229096114635,-0.000802549766377,0.022284794598818,0.025159180164337,0.006260750815272,-0.070585474371910,-0.079768516123295,-0.096686728298664,-0.132764637470245,0.017855936661363,0.024843918159604,-0.016977025195956,-0.057287849485874,0.019979108124971,-0.054440263658762));
res += mul(Get(s2,0,dy), float4x4(0.121455453336239,0.136029839515686,0.096232846379280,-0.069347657263279,0.084677040576935,-0.079652629792690,-0.014790087938309,-0.037766665220261,-0.033316239714622,0.033210065215826,0.015692777931690,0.042808312922716,0.025619857013226,-0.018629103899002,0.016593378037214,0.066992819309235));
res += mul(Get(s2,dx,-dy), float4x4(-0.041213117539883,0.006761500146240,-0.018714554607868,0.023186463862658,0.000052877538110,-0.040874820202589,0.055359162390232,0.007513048127294,0.033751022070646,0.044369690120220,0.100939750671387,0.083223290741444,0.128080919384956,-0.087881177663803,-0.051075432449579,0.039820451289415));
res += mul(Get(s2,dx,0), float4x4(-0.052930898964405,-0.002238718559965,0.003298579249531,0.032059505581856,0.056812305003405,-0.045912463217974,0.064374953508377,-0.039301391690969,0.126519203186035,-0.049163490533829,-0.037632577121258,0.059104260057211,-0.037073317915201,0.062483455985785,0.028585752472281,-0.021519234403968));
res += mul(Get(s2,dx,dy), float4x4(0.077617608010769,0.069012433290482,-0.042243111878633,-0.101166538894176,-0.093127518892288,0.063406758010387,0.101198121905327,0.028293721377850,-0.058704566210508,0.015675812959671,-0.054696008563042,0.010393274016678,0.077672071754932,0.061099391430616,0.039197739213705,0.031799543648958));
res += mul(Get(s3,-dx,-dy), float4x4(-0.039715383201838,-0.077952593564987,0.046440046280622,-0.021310463547707,0.113768093287945,-0.071125216782093,0.031804095953703,-0.061226543039083,0.018979132175446,-0.022631386294961,-0.085696808993816,0.005530195310712,0.002092363778502,0.072269856929779,-0.006416642572731,-0.035932958126068));
res += mul(Get(s3,-dx,0), float4x4(-0.091006793081760,0.189376369118690,-0.103786617517471,-0.013473054394126,0.085343673825264,0.040884114801884,0.001222501625307,-0.037982966750860,-0.024230025708675,-0.113336481153965,-0.006873454432935,-0.030621720477939,-0.065138027071953,0.075300514698029,0.205090776085854,-0.104134745895863));
res += mul(Get(s3,-dx,dy), float4x4(0.045634761452675,0.049490284174681,-0.051752068102360,-0.176389545202255,-0.158664435148239,-0.150100961327553,-0.070867910981178,-0.127663612365723,-0.044954352080822,-0.000232178426813,0.026127602905035,0.026797143742442,0.018717471510172,0.008255106396973,-0.044107053428888,-0.029687553644180));
res += mul(Get(s3,0,-dy), float4x4(0.063594646751881,-0.002525697695091,0.089613273739815,-0.055289678275585,0.035144437104464,0.001470374991186,-0.107081644237041,0.003901014570147,0.054508075118065,-0.060857895761728,-0.101702049374580,0.081840403378010,0.194966211915016,-0.027373693883419,-0.099396958947182,-0.082698725163937));
res += mul(Get(s3,0,0), float4x4(0.025653081014752,0.101459406316280,-0.077160939574242,-0.019458880648017,-0.086025349795818,0.030521092936397,-0.058700062334538,-0.015021049417555,-0.046597488224506,-0.077198788523674,0.080565609037876,0.014103579334915,-0.116211310029030,0.077856317162514,0.167797952890396,-0.003477437421679));
res += mul(Get(s3,0,dy), float4x4(-0.046264186501503,-0.177818492054939,0.076117239892483,0.160460650920868,-0.040462467819452,-0.006484198849648,-0.043546117842197,0.042734447866678,-0.030486574396491,0.062348168343306,0.036286339163780,0.012852843850851,-0.010692193172872,0.106183759868145,0.113951310515404,0.011927384883165));
res += mul(Get(s3,dx,-dy), float4x4(-0.014720338396728,-0.024775721132755,-0.041287112981081,-0.093906313180923,-0.033112194389105,0.022974770516157,0.025616100057960,0.010456672869623,0.078024737536907,-0.018587758764625,-0.016634896397591,-0.126279965043068,0.039556100964546,0.048734508454800,0.044315181672573,0.098555959761143));
res += mul(Get(s3,dx,0), float4x4(-0.011859116144478,-0.024282896891236,0.058119922876358,-0.005789107643068,0.071741573512554,-0.046219170093536,0.071397252380848,0.088447101414204,-0.073724642395973,-0.010340461507440,0.055679485201836,0.053345091640949,0.005202488042414,-0.043285951018333,0.050656232982874,0.004932066425681));
res += mul(Get(s3,dx,dy), float4x4(0.003460772801191,-0.025102443993092,0.053489465266466,-0.045468412339687,0.064736962318420,0.034657359123230,-0.028648832812905,0.115650139749050,-0.026044420897961,-0.004178869538009,0.111120328307152,-0.007896318100393,-0.053759653121233,-0.043773002922535,0.099780678749084,-0.023972848430276));
return max(float4(0,0,0,0), res);
}
