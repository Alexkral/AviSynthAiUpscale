sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.028411522507668,0.022874405607581,-0.075466252863407,0.056083258241415,-0.015662003308535,-0.043057095259428,-0.083377026021481,0.066301696002483,-0.016791593283415,0.017665896564722,-0.003142820904031,-0.036228824406862,0.041753545403481,-0.035946074873209,-0.078777141869068,-0.000528690055944));
res += mul(Get(s0,-dx,0), float4x4(-0.029804492369294,0.026342092081904,0.036183264106512,-0.044223036617041,0.077514633536339,-0.015616009943187,0.014746431261301,-0.035298444330692,0.032665193080902,0.009081732481718,-0.012646799907088,-0.073266655206680,-0.071231082081795,-0.031046163290739,-0.019207864999771,0.036080390214920));
res += mul(Get(s0,-dx,dy), float4x4(-0.032280709594488,-0.011267263442278,0.040558479726315,0.028374541550875,-0.000017288295567,0.090369716286659,-0.108901709318161,-0.013023233972490,0.024667371064425,-0.093864612281322,-0.047533169388771,-0.041626736521721,0.024813864380121,0.053383313119411,0.076813265681267,0.086366772651672));
res += mul(Get(s0,0,-dy), float4x4(-0.101606890559196,0.020340075716376,0.077495113015175,0.085104376077652,-0.124398723244667,0.018590368330479,0.023688958957791,-0.064201995730400,0.076078191399574,-0.036879640072584,0.026922371238470,0.013672796078026,-0.037523094564676,0.001803378574550,-0.009633793495595,-0.071595788002014));
res += mul(Get(s0,0,0), float4x4(-0.047532539814711,0.011670237407088,0.025644712150097,0.051331073045731,-0.006784129887819,-0.081339195370674,-0.026001999154687,0.154620453715324,-0.115648970007896,-0.124147929251194,-0.083304725587368,0.150070980191231,0.052739869803190,0.022278552874923,-0.045874234288931,0.191250205039978));
res += mul(Get(s0,0,dy), float4x4(0.015093181282282,0.053038872778416,0.076314926147461,0.034892484545708,-0.065709397196770,0.044003833085299,0.039603255689144,-0.028643487021327,-0.054803837090731,-0.048333842307329,0.104245349764824,-0.039928659796715,0.138860166072845,0.013795953243971,0.064716987311840,-0.003461817512289));
res += mul(Get(s0,dx,-dy), float4x4(-0.008872728794813,0.044857367873192,-0.028912665322423,0.184168368577957,-0.045864801853895,-0.018186395987868,0.054339952766895,-0.020994618535042,-0.105488687753677,0.064882636070251,-0.020321957767010,-0.009263764135540,-0.009211847558618,-0.020808298140764,-0.033342152833939,-0.078961275517941));
res += mul(Get(s0,dx,0), float4x4(-0.104106426239014,0.076544336974621,0.055640280246735,0.063572786748409,-0.080143958330154,0.131028920412064,-0.026300268247724,0.115671597421169,0.007638463284820,0.020013978704810,-0.007284677121788,0.079792961478233,0.093872323632240,-0.097341418266296,0.058073673397303,-0.071939200162888));
res += mul(Get(s0,dx,dy), float4x4(-0.005456548184156,0.063730016350746,0.072985127568245,0.025110671296716,0.010986494831741,0.145075470209122,0.035315852612257,0.021451881155372,-0.139059439301491,0.033871177583933,-0.065705843269825,0.005562943406403,-0.057030107825994,0.081434413790703,-0.028950393199921,-0.010288395918906));
res += mul(Get(s1,-dx,-dy), float4x4(-0.009670684114099,-0.081207990646362,-0.010610198602080,0.099727258086205,-0.071742676198483,0.062355726957321,0.077898286283016,0.008916415274143,-0.060026664286852,0.097641393542290,0.101587794721127,0.084353134036064,0.063247025012970,0.040180180221796,0.067887574434280,0.007793480064720));
res += mul(Get(s1,-dx,0), float4x4(0.103797182440758,-0.201175719499588,-0.127419114112854,-0.025566030293703,-0.025294899940491,-0.041987996548414,0.099517457187176,-0.105117276310921,-0.014516951516271,-0.003905064426363,-0.090014383196831,0.053247604519129,-0.043299324810505,0.137661263346672,-0.115175619721413,-0.069778874516487));
res += mul(Get(s1,-dx,dy), float4x4(0.096040517091751,-0.061390738934278,-0.009159508161247,0.022912401705980,0.077025830745697,-0.040362272411585,0.097517818212509,-0.079023919999599,0.089162014424801,0.094217926263809,0.025563707575202,0.015256162732840,-0.043814808130264,-0.094886943697929,-0.138646215200424,-0.068147934973240));
res += mul(Get(s1,0,-dy), float4x4(0.116710253059864,0.000493031577207,-0.029136616736650,0.026854313910007,0.053863640874624,0.058442786335945,0.080784045159817,0.013502929359674,-0.014825702644885,0.160998389124870,-0.014182521030307,-0.000622251012828,-0.076150886714458,0.118418432772160,0.087058894336224,0.075493901968002));
res += mul(Get(s1,0,0), float4x4(-0.107607319951057,-0.037380155175924,0.018087375909090,-0.013704104349017,0.007955325767398,-0.044499590992928,-0.015789043158293,0.108627319335938,0.076300732791424,0.044237915426493,-0.014838146977127,-0.095462158322334,-0.061531726270914,-0.085882306098938,0.082991115748882,0.004151809494942));
res += mul(Get(s1,0,dy), float4x4(0.090501241385937,0.006282622925937,0.023119846358895,0.211382895708084,0.075097627937794,-0.040377136319876,-0.047221712768078,-0.046353284269571,-0.043535549193621,-0.033756550401449,-0.068687170743942,-0.056539535522461,0.140287682414055,-0.133221626281738,0.120826765894890,0.216321140527725));
res += mul(Get(s1,dx,-dy), float4x4(0.063684567809105,-0.027927538380027,0.029828507453203,0.017603971064091,0.027884105220437,-0.064829804003239,-0.043339740484953,-0.001834320020862,-0.017973236739635,-0.089917860925198,-0.058000151067972,0.069971017539501,0.186110138893127,-0.050981126725674,0.106281802058220,-0.008060154505074));
res += mul(Get(s1,dx,0), float4x4(0.057147759944201,0.039250757545233,0.037332084029913,0.001249909750186,0.000910066592041,-0.071233764290810,-0.042262751609087,-0.073583565652370,-0.020785350352526,-0.022265451028943,0.058062855154276,0.064234778285027,0.009915152564645,-0.108511969447136,0.012626987881958,0.025512810796499));
res += mul(Get(s1,dx,dy), float4x4(-0.021838186308742,0.064086005091667,0.040481001138687,-0.069519609212875,-0.042529236525297,-0.022660039365292,-0.036352947354317,-0.118757024407387,0.014133078046143,-0.059180989861488,0.029798481613398,0.053246915340424,0.064756117761135,-0.011032229289412,0.138784766197205,0.066948242485523));
res += mul(Get(s2,-dx,-dy), float4x4(0.036913108080626,-0.065941542387009,0.098277300596237,-0.044904075562954,0.022234307602048,-0.002062017563730,0.122326716780663,-0.052778191864491,0.023519426584244,0.108098275959492,0.022381119430065,-0.063388369977474,-0.014851883053780,-0.028729058802128,-0.158217266201973,-0.052822675555944));
res += mul(Get(s2,-dx,0), float4x4(-0.107329972088337,0.040059309452772,-0.027587115764618,-0.040249191224575,0.064273945987225,0.071442171931267,0.102651275694370,-0.041711833328009,-0.029820984229445,-0.037311766296625,-0.059835471212864,0.115695461630821,-0.034998141229153,0.019348552450538,0.038022782653570,0.049145888537169));
res += mul(Get(s2,-dx,dy), float4x4(0.075935482978821,-0.049873050302267,0.021340610459447,-0.047999192029238,0.117526374757290,0.031752090901136,0.036279324442148,0.051424350589514,0.128207489848137,-0.096578896045685,-0.031150976195931,-0.019218826666474,0.037616193294525,-0.115654423832893,-0.000569657015149,-0.080447144806385));
res += mul(Get(s2,0,-dy), float4x4(0.020566744729877,-0.038985867053270,-0.045473709702492,0.065773501992226,-0.125288501381874,0.064017646014690,0.150129586458206,0.021692300215364,0.054299529641867,-0.100570462644100,-0.056914862245321,-0.051418945193291,0.070224985480309,-0.119259610772133,0.029293049126863,-0.006314107216895));
res += mul(Get(s2,0,0), float4x4(-0.049647707492113,0.008324729278684,-0.012722497805953,-0.020446944981813,0.112748071551323,-0.040385033935308,0.035197805613279,-0.031788516789675,-0.150210097432137,0.099078610539436,0.045996073633432,0.058067694306374,0.088079482316971,-0.229057401418686,-0.006736792623997,-0.003224494168535));
res += mul(Get(s2,0,dy), float4x4(0.011630026623607,-0.089889563620090,0.074260808527470,-0.057174123823643,-0.051761705428362,0.113788746297359,0.042669143527746,0.177365377545357,0.094537839293480,-0.001136303064413,-0.081534154713154,0.112055368721485,0.079221695661545,-0.041338257491589,-0.013909342698753,-0.027294281870127));
res += mul(Get(s2,dx,-dy), float4x4(0.008394569158554,0.056214582175016,0.035918097943068,-0.008922194130719,-0.003290821099654,-0.017006812617183,0.070809461176395,0.069961488246918,0.053026024252176,-0.034348201006651,0.054499514400959,-0.067917190492153,0.010993784293532,0.042934402823448,0.050374999642372,0.030318271368742));
res += mul(Get(s2,dx,0), float4x4(0.011729838326573,-0.171734482049942,-0.074203647673130,-0.023675136268139,0.150074109435081,-0.020934415981174,-0.007480641826987,-0.040542300790548,-0.064915828406811,0.133316010236740,0.115040726959705,-0.106221601366997,0.098827101290226,-0.006107432302088,0.090270414948463,0.063713893294334));
res += mul(Get(s2,dx,dy), float4x4(0.080651454627514,-0.017941618338227,0.102552913129330,-0.004603747278452,-0.043702419847250,-0.046927534043789,-0.111439429223537,-0.038927424699068,-0.006049714516848,0.062185633927584,0.030229426920414,-0.258133500814438,0.061250980943441,-0.045941788703203,0.009035949595273,-0.056872792541981));
res += mul(Get(s3,-dx,-dy), float4x4(0.031473722308874,0.035322695970535,0.041449390351772,0.078144870698452,-0.058667678385973,-0.013223319314420,0.030472546815872,-0.062181562185287,0.022198431193829,-0.100583814084530,0.030116878449917,0.005912506487221,-0.064360998570919,-0.002579981228337,-0.032343089580536,0.084167949855328));
res += mul(Get(s3,-dx,0), float4x4(0.136177614331245,-0.059391155838966,-0.012285060249269,-0.034276898950338,0.013363980688155,-0.063790850341320,0.031523879617453,-0.072721481323242,-0.027232414111495,0.023728599771857,0.045117620378733,0.003156249877065,0.029608378186822,-0.017787616699934,0.102514423429966,-0.017395403236151));
res += mul(Get(s3,-dx,dy), float4x4(-0.092136844992638,-0.090941503643990,-0.028389574959874,0.004515352658927,0.032719176262617,0.028110349550843,-0.053079139441252,-0.015893375501037,-0.188256114721298,-0.037035327404737,-0.076208002865314,-0.007380425930023,-0.078100033104420,-0.198956966400146,0.081043593585491,-0.021635616198182));
res += mul(Get(s3,0,-dy), float4x4(0.097145400941372,-0.007053130771965,-0.010262197814882,-0.057519193738699,0.001909078913741,0.029209293425083,0.050321206450462,0.019323231652379,0.010900528170168,-0.067694351077080,0.074901007115841,-0.128021180629730,0.004840383771807,-0.044720854610205,-0.038315922021866,-0.002827964723110));
res += mul(Get(s3,0,0), float4x4(-0.031902965158224,0.034951046109200,0.086586095392704,0.105811581015587,-0.025281030684710,0.057711660861969,0.014425792731345,0.005041288677603,0.031188631430268,-0.049436155706644,-0.094307273626328,0.032054908573627,0.081374607980251,0.006539363414049,-0.044662900269032,-0.087656095623970));
res += mul(Get(s3,0,dy), float4x4(0.021557962521911,0.075030349195004,-0.140548452734947,0.125542536377907,0.061415165662766,0.093915000557899,-0.006606049370021,-0.015852082520723,0.021178230643272,-0.052862327545881,-0.079171068966389,-0.004229598678648,0.021786632016301,0.015489761717618,0.006894323043525,0.037551943212748));
res += mul(Get(s3,dx,-dy), float4x4(0.146120309829712,-0.128144353628159,0.012047858908772,0.008719952777028,0.108188368380070,0.099438279867172,0.059264536947012,0.015506573021412,-0.103964023292065,-0.026577452197671,0.029708314687014,-0.103873930871487,-0.016369258984923,0.037375278770924,0.077180296182632,0.008715769276023));
res += mul(Get(s3,dx,0), float4x4(-0.033510170876980,-0.036364246159792,0.026327203959227,0.000530341407284,0.040106944739819,-0.131365463137627,-0.010184257291257,-0.062592998147011,-0.016455847769976,0.083538845181465,-0.132910832762718,0.036825019866228,0.012124698609114,-0.073257133364677,0.170927003026009,-0.047267265617847));
res += mul(Get(s3,dx,dy), float4x4(0.041524682193995,-0.113780155777931,-0.022717526182532,0.152300611138344,-0.072794824838638,0.004396520555019,-0.074314124882221,-0.071318916976452,0.019248798489571,0.069023206830025,-0.066331982612610,-0.048755511641502,-0.063121199607849,-0.002273814985529,0.029830686748028,-0.037692170590162));
return max(float4(0,0,0,0), res);
}
