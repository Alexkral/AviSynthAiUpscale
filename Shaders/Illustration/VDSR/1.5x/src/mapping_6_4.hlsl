sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.006554663646966,-0.034759379923344,-0.007705013267696,-0.003581715980545,-0.012786481529474,0.011901743710041,0.008298043161631,-0.000051464390708,0.005960698705167,-0.004336228594184,0.009860942140222,-0.009088555350900,-0.029869489371777,0.096537679433823,0.034776926040649,-0.002006846247241));
res += mul(Get(s0,-dx,0), float4x4(-0.013422423973680,-0.020827947184443,-0.006575307808816,-0.007316196803004,0.002145023550838,0.007279643323272,0.009690982289612,-0.001445395289920,-0.036748774349689,0.037725739181042,0.036574751138687,-0.004555865656585,-0.059879712760448,0.135961487889290,0.013886853121221,0.004069891292602));
res += mul(Get(s0,-dx,dy), float4x4(-0.003203643253073,-0.021613491699100,-0.012585312128067,-0.001872180146165,0.004681991878897,0.014356704428792,0.004432788584381,-0.002034415025264,-0.021804278716445,0.018240805715322,-0.017032481729984,-0.003935402724892,-0.022023662924767,-0.062258508056402,-0.018722593784332,0.002046650275588));
res += mul(Get(s0,0,-dy), float4x4(0.012477220967412,-0.006050477735698,-0.009904510341585,0.000649029447231,-0.005172057542950,0.006970852147788,0.006429051049054,0.004102040082216,-0.014919645152986,0.002794594038278,-0.005633838474751,0.003925062716007,0.173759400844574,-0.073591336607933,0.019415492191911,-0.003067593323067));
res += mul(Get(s0,0,0), float4x4(0.030685504898429,0.007254451047629,-0.006726576481014,0.000873045413755,0.003167530056089,0.005860603880137,0.000002105342901,0.004194418434054,-0.003593340981752,0.026482898741961,-0.010290392674506,0.009828678332269,0.157535105943680,0.000740431132726,0.007457208819687,-0.001437506289221));
res += mul(Get(s0,0,dy), float4x4(0.026696268469095,0.002613958902657,-0.004780210554600,0.004505685530603,-0.002367968438193,0.003818247700110,0.000238740743953,0.002326235640794,0.023843405768275,0.002284436952323,-0.021939963102341,0.000433288601926,-0.054709702730179,-0.105370588600636,-0.043407227844000,0.000461401737994));
res += mul(Get(s0,dx,-dy), float4x4(0.004937475081533,0.019252890720963,-0.003550143912435,0.001567334169522,-0.004874626174569,-0.007550032343715,0.004538778681308,0.007412348408252,-0.017590340226889,0.064491704106331,0.005843093153089,-0.004456677008420,-0.070127293467522,0.027783717960119,0.018312685191631,0.003262588521466));
res += mul(Get(s0,dx,0), float4x4(0.004393153358251,0.011383487842977,-0.001322138938121,0.006357158068568,-0.012321370653808,-0.004673175048083,0.004586680326611,0.000598971324507,-0.018505945801735,0.037372630089521,-0.016963370144367,0.002398377750069,-0.055006720125675,-0.006188458763063,-0.044645518064499,0.000976916518994));
res += mul(Get(s0,dx,dy), float4x4(0.006493606604636,0.004691487178206,-0.003272588364780,-0.004524337127805,-0.004012777470052,-0.005877303890884,-0.003982472233474,-0.000046192297305,-0.008498239330947,0.012951588258147,-0.018176859244704,-0.002811114070937,-0.004887386225164,-0.062241636216640,-0.032573286443949,0.001154409372248));
res += mul(Get(s1,-dx,-dy), float4x4(-0.022341359406710,-0.003826513187960,0.032419465482235,0.000538882042747,-0.023539656773210,0.117299586534500,0.004357551224530,-0.002305462490767,-0.020942011848092,0.074623718857765,0.014990970492363,-0.004096825607121,0.007901943288743,0.023183949291706,0.010446691885591,-0.004657269921154));
res += mul(Get(s1,-dx,0), float4x4(-0.056966587901115,-0.029639221727848,-0.030804641544819,-0.007282975595444,0.033494949340820,0.064330182969570,-0.001182938693091,-0.009426518343389,0.003477081423625,0.021980660036206,-0.001674558501691,-0.000228990364121,0.001148648909293,-0.023784445598722,0.014243565499783,-0.001412660465576));
res += mul(Get(s1,-dx,dy), float4x4(-0.002076019067317,0.025061737746000,0.058266811072826,-0.000309993542032,0.027193168178201,0.031799852848053,-0.010282673873007,0.008678175508976,0.020108055323362,0.013146205805242,-0.008394711650908,-0.003500863211229,0.001911138417199,0.052569620311260,0.011001400649548,-0.005816699471325));
res += mul(Get(s1,0,-dy), float4x4(-0.036133047193289,-0.002736901165918,0.020699210464954,0.000793352723122,0.018634594976902,0.182072058320045,0.036391086876392,-0.005373497027904,0.006304616108537,0.121316425502300,0.029481688514352,0.008618548512459,0.065860532224178,0.080567918717861,0.034277964383364,-0.002259996952489));
res += mul(Get(s1,0,0), float4x4(0.010485043749213,-0.048823367804289,0.006127914413810,0.001616560854018,0.005993275903165,0.077380798757076,0.011634933762252,0.001455521793105,0.034123431891203,0.021281557157636,-0.001573672052473,0.001092720776796,0.098889738321304,0.012857826426625,0.007554316893220,-0.000540624954738));
res += mul(Get(s1,0,dy), float4x4(0.013927505351603,-0.027346307411790,0.053502164781094,0.000525926589034,-0.015968533232808,-0.024673258885741,-0.001995254075155,-0.000021921656298,0.050767876207829,0.008839829824865,0.004686786327511,0.004933030810207,0.089477367699146,0.077746152877808,0.028675673529506,-0.006586378440261));
res += mul(Get(s1,dx,-dy), float4x4(0.006110465154052,-0.123198270797729,-0.011618962511420,0.001620831782930,0.038414902985096,0.078712940216064,0.044714864343405,-0.006180020980537,-0.001403598580509,0.058495286852121,0.032288514077663,-0.003451436990872,0.053545113652945,-0.019544435665011,0.009975957684219,0.002188051119447));
res += mul(Get(s1,dx,0), float4x4(-0.051824748516083,-0.053029567003250,0.018010139465332,-0.004328057169914,0.000384963263059,0.119488708674908,0.046613059937954,-0.000823379436042,-0.002791774459183,-0.004631177522242,0.000665233412292,0.002702643396333,0.032396476715803,-0.018135169520974,0.048262584954500,-0.007384602911770));
res += mul(Get(s1,dx,dy), float4x4(-0.054258935153484,-0.012468075379729,0.021165810525417,0.002984201069921,-0.031197588890791,0.065705619752407,0.017335463315248,-0.004280271474272,-0.018629513680935,-0.052967641502619,-0.004421382211149,0.004004430025816,-0.028461555019021,0.014288087375462,0.055265717208385,-0.002879929030314));
res += mul(Get(s2,-dx,-dy), float4x4(0.078528404235840,0.002608906012028,-0.046647597104311,-0.005027852021158,0.107269659638405,0.048961214721203,0.008004360832274,-0.007057351060212,0.033475905656815,-0.000530778197572,-0.058109104633331,-0.009156536310911,-0.000408671709010,0.000041202187276,0.005273509770632,-0.000292980024824));
res += mul(Get(s2,-dx,0), float4x4(0.144200667738914,-0.019897921010852,-0.024264432489872,0.001940498361364,0.115443512797356,0.043332692235708,-0.030031232163310,-0.004375357646495,-0.015417375601828,-0.023798959329724,-0.023123208433390,-0.004517380148172,-0.001825733110309,0.004959327634424,-0.003174723125994,0.004309919662774));
res += mul(Get(s2,-dx,dy), float4x4(0.070792339742184,-0.067344747483730,0.073343157768250,-0.002296450547874,0.003031251719221,0.103481970727444,0.017000908032060,-0.008619238622487,0.022070350125432,0.009081169962883,0.025463374331594,0.004291578195989,-0.007783333770931,-0.003349059494212,-0.003648460144177,-0.002652187366039));
res += mul(Get(s2,0,-dy), float4x4(-0.055269129574299,0.023083936423063,-0.041043639183044,0.002636827994138,-0.056040722876787,0.167290508747101,0.016239754855633,-0.004106949549168,0.002243312541395,-0.037958513945341,-0.059099700301886,-0.000126395214465,0.005117719061673,0.003017479320988,-0.003259858582169,0.003174320794642));
res += mul(Get(s2,0,0), float4x4(-0.060119349509478,0.025727774947882,-0.030690854415298,-0.006331786978990,-0.028989069163799,-0.036340296268463,-0.008304455317557,0.000879450468346,0.052502419799566,0.009478869847953,0.019851619377732,0.004762031603605,0.007782129570842,-0.001464133616537,-0.003321933792904,-0.001232482958585));
res += mul(Get(s2,0,dy), float4x4(-0.020895494148135,-0.072360880672932,0.055629335343838,0.003806360764429,0.063089847564697,-0.035731069743633,0.023158801719546,-0.005040686111897,-0.073444381356239,0.061237923800945,0.072435557842255,-0.000428797240602,0.011998359113932,0.001741403364576,-0.000142733624671,-0.006292441859841));
res += mul(Get(s2,dx,-dy), float4x4(-0.094905838370323,0.089335404336452,-0.034550148993731,-0.004632913507521,0.006455848924816,0.100470498204231,-0.000678575015627,0.003631093539298,-0.148560449481010,0.020599003881216,-0.071091599762440,0.003177922917530,0.004810292739421,0.008088664151728,0.007879656739533,-0.000905600143597));
res += mul(Get(s2,dx,0), float4x4(-0.082819536328316,0.065351203083992,-0.044641286134720,-0.007389942184091,-0.092970363795757,0.104826405644417,0.010166742838919,-0.004391940310597,-0.130195423960686,-0.044781595468521,-0.042189251631498,0.004389712586999,-0.001091863960028,-0.003561027348042,0.002846039133146,0.002452478976920));
res += mul(Get(s2,dx,dy), float4x4(-0.084132052958012,-0.045040041208267,0.014805954881012,0.002244012197480,-0.116213068366051,-0.022390009835362,0.004339077509940,0.002880122279748,-0.047619976103306,0.022494118660688,0.037386044859886,-0.008909205906093,0.003999898210168,-0.000152800363139,0.002561382716522,-0.008074759505689));
res += mul(Get(s3,-dx,-dy), float4x4(0.001816420583054,0.005904454737902,0.007738027721643,-0.006296705454588,0.127013340592384,-0.081218108534813,-0.065039545297623,0.005272225942463,0.128942087292671,-0.013321477919817,-0.008880304172635,-0.001587813836522,0.022301068529487,0.043288648128510,-0.002376557793468,0.003050180850551));
res += mul(Get(s3,-dx,0), float4x4(0.002183391712606,0.021571865305305,0.010600754059851,-0.003334608394653,0.170073479413986,0.054036192595959,0.086434856057167,-0.002852655714378,0.086683385074139,-0.043483514338732,0.036294002085924,-0.000833840516862,0.027821270748973,0.031051561236382,-0.024579072371125,0.004929814022034));
res += mul(Get(s3,-dx,dy), float4x4(-0.001195745542645,0.005213898606598,-0.002042982261628,0.001546600484289,-0.062641255557537,0.070153914391994,0.067484319210052,-0.004273839760572,0.048966813832521,-0.106151945888996,-0.014073254540563,0.001403638394549,0.045222960412502,0.033275563269854,0.001826985622756,0.000405630649766));
res += mul(Get(s3,0,-dy), float4x4(-0.000780869100709,0.013536053709686,-0.001650682883337,-0.000756965717301,-0.057461999356747,-0.033789262175560,-0.089380428195000,-0.006618536077440,-0.057832919061184,-0.002938433550298,-0.013645037077367,-0.001196491997689,0.071251519024372,-0.006402773316950,-0.006522454787046,-0.007128493860364));
res += mul(Get(s3,0,0), float4x4(0.004257002845407,0.013729946687818,0.007444267626852,-0.001536060241051,0.044346343725920,-0.099015973508358,0.033233899623156,-0.004476877395064,-0.051312945783138,-0.027220945805311,0.015484548173845,-0.000761603238061,0.076758593320847,0.049433063715696,0.065689399838448,-0.004016696475446));
res += mul(Get(s3,0,dy), float4x4(0.000220552115934,0.005868846084923,-0.000819302862510,-0.002230749465525,0.024877892807126,-0.035454668104649,-0.002912888303399,0.003360783914104,-0.029817679896951,-0.108676575124264,-0.032674994319677,0.000848073628731,0.011682298965752,0.005437257699668,0.011557193472981,-0.004761192016304));
res += mul(Get(s3,dx,-dy), float4x4(-0.002809179946780,-0.000828609336168,0.009869359433651,-0.002104944782332,-0.062957055866718,0.103484652936459,-0.042873550206423,-0.004036620259285,-0.108558088541031,0.028625510632992,-0.010372823104262,0.000406454113545,-0.021017938852310,0.000670307024848,-0.009028105996549,-0.004308989271522));
res += mul(Get(s3,dx,0), float4x4(-0.007452530320734,0.008231458254158,0.000314516393701,-0.005156259518117,-0.088201776146889,0.017683699727058,0.014673477970064,-0.007481551729143,-0.087911687791348,0.042493898421526,0.015666091814637,-0.000574797624722,-0.019810207188129,0.027710055932403,0.040043316781521,0.003716066945344));
res += mul(Get(s3,dx,dy), float4x4(0.003625860903412,0.004515509121120,0.003383465576917,0.001422245870344,-0.082879506051540,0.047070078551769,-0.000084508516011,-0.010426634922624,-0.149924650788307,-0.033543691039085,-0.039753939956427,-0.002711999695748,0.003729035845026,-0.004941518884152,-0.013786394149065,0.003832744434476));
return max(float4(0,0,0,0), res);
}
