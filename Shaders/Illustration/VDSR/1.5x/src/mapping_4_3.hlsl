sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.084238372743130,0.030963646247983,0.206468299031258,-0.064790114760399,-0.041563883423805,-0.057454425841570,0.054137263447046,-0.034688808023930,0.041437119245529,0.010712406598032,-0.049281284213066,0.077811494469643,0.076598875224590,-0.124858722090721,-0.018318595364690,-0.071926489472389));
res += mul(Get(s0,-dx,0), float4x4(-0.080833129584789,-0.059587348252535,0.166134849190712,-0.087948657572269,-0.069265656173229,0.136401176452637,0.028022136539221,-0.014686476439238,0.244667470455170,0.030764404684305,0.123772196471691,-0.062452033162117,0.013213092461228,0.037906277924776,-0.053676065057516,-0.046180345118046));
res += mul(Get(s0,-dx,dy), float4x4(-0.008282467722893,0.021652901545167,-0.015554050914943,0.118423841893673,0.052232269197702,-0.109199360013008,0.119972802698612,0.002976591698825,-0.113814145326614,-0.132106155157089,-0.009493589401245,0.075240962207317,0.017616031691432,0.033905003219843,0.103037066757679,0.031741648912430));
res += mul(Get(s0,0,-dy), float4x4(0.008501485921443,0.004210634157062,0.059915985912085,0.053871724754572,-0.071575686335564,-0.123504139482975,-0.058212026953697,-0.050516650080681,-0.050834089517593,-0.126801341772079,-0.128827169537544,-0.119783349335194,-0.087583824992180,0.081115014851093,-0.043652199208736,0.029845153912902));
res += mul(Get(s0,0,0), float4x4(0.073463007807732,-0.086675681173801,-0.090888500213623,0.016841612756252,0.152698650956154,0.074525557458401,0.120246537029743,0.062995754182339,0.001703019021079,0.014302865602076,-0.069645658135414,0.035668585449457,-0.043596226722002,-0.023071834817529,0.061289321631193,-0.004727667663246));
res += mul(Get(s0,0,dy), float4x4(-0.053247347474098,0.018156515434384,-0.065696731209755,0.058317497372627,0.004322486929595,-0.040141656994820,0.325746953487396,-0.007222203072160,0.058687046170235,-0.129660874605179,0.080513447523117,0.131070569157600,0.011328141205013,-0.095269776880741,0.124710813164711,0.018450614064932));
res += mul(Get(s0,dx,-dy), float4x4(-0.056580938398838,-0.002878836821765,0.006258128676564,0.004545308649540,-0.103523656725883,-0.044783264398575,-0.128609240055084,-0.021560335531831,-0.019292853772640,0.117481388151646,0.056289039552212,-0.002733106026426,-0.056128222495317,-0.050648998469114,0.095529220998287,0.036612521857023));
res += mul(Get(s0,dx,0), float4x4(-0.060195472091436,-0.039220944046974,0.059549804776907,0.051642447710037,-0.006090335547924,-0.031921241432428,-0.124230019748211,-0.118060804903507,0.060634281486273,0.007501200307161,0.014511527493596,-0.086994506418705,0.055646527558565,-0.036665588617325,0.045233126729727,-0.011509178206325));
res += mul(Get(s0,dx,dy), float4x4(-0.028831623494625,0.009003458544612,0.128030464053154,0.020371874794364,0.055970765650272,0.075023427605629,-0.158719047904015,-0.046841766685247,-0.064051069319248,0.080677680671215,-0.085934370756149,0.143156543374062,-0.044940315186977,-0.022665774449706,-0.089621260762215,0.017468113452196));
res += mul(Get(s1,-dx,-dy), float4x4(0.025614032521844,0.009220233187079,0.261863529682159,-0.056640971451998,0.006023788359016,0.043957848101854,-0.001408338313922,-0.002426170976833,-0.032514750957489,-0.005260695237666,-0.000676985713653,0.003446877002716,0.017504176124930,-0.055361680686474,0.004919385537505,0.002759058261290));
res += mul(Get(s1,-dx,0), float4x4(0.125677272677422,0.016418719664216,-0.019850270822644,-0.001865528058261,0.015289770439267,-0.043461244553328,0.007156879175454,-0.039456691592932,-0.077339269220829,-0.065353699028492,0.079559229314327,-0.023593254387379,0.022809140384197,0.056144148111343,0.038806911557913,-0.078202985227108));
res += mul(Get(s1,-dx,dy), float4x4(-0.045292288064957,0.119408525526524,-0.047374632209539,0.009726347401738,0.200822412967682,-0.002324370434508,-0.005791946314275,-0.099531576037407,0.006800461560488,0.208284109830856,-0.037720225751400,0.083790630102158,-0.112461842596531,0.019188998267055,-0.023798281326890,-0.070272788405418));
res += mul(Get(s1,0,-dy), float4x4(0.147549316287041,-0.082676105201244,0.027516968548298,0.017559889703989,0.080298997461796,-0.003638313151896,-0.019109457731247,-0.048102360218763,-0.012454109266400,0.003495290875435,-0.050576712936163,-0.044773675501347,0.112660214304924,-0.023549256846309,0.079197525978088,0.048489164561033));
res += mul(Get(s1,0,0), float4x4(-0.124408632516861,-0.059413462877274,0.101849459111691,-0.030878372490406,-0.042277935892344,0.028830088675022,0.059104051440954,-0.054561998695135,0.084147870540619,-0.000282967434032,0.115994177758694,-0.059242792427540,-0.065833322703838,0.056340757757425,-0.005384205374867,0.173401162028313));
res += mul(Get(s1,0,dy), float4x4(-0.046005330979824,0.150829181075096,0.184151396155357,-0.055394798517227,0.050543047487736,-0.090983889997005,-0.020419400185347,0.114833772182465,-0.092097193002701,-0.015148005448282,0.047723412513733,0.028677707538009,-0.100917860865593,-0.066983856260777,0.059903144836426,-0.077355377376080));
res += mul(Get(s1,dx,-dy), float4x4(0.159461468458176,0.114096187055111,-0.095123514533043,-0.017498159781098,0.084208019077778,0.023504484444857,-0.010796385817230,0.070244207978249,0.080306142568588,-0.006749538239092,-0.001077756518498,-0.045202918350697,0.129472553730011,0.053534455597401,-0.135563999414444,-0.000185310796951));
res += mul(Get(s1,dx,0), float4x4(-0.119578130543232,-0.080569744110107,-0.128351435065269,0.039920344948769,0.000581641565077,-0.018747588619590,0.066115625202656,0.026239063590765,-0.063691347837448,0.083673678338528,0.154497399926186,-0.082324281334877,0.001526404987089,-0.016869813203812,0.039446201175451,0.138791218400002));
res += mul(Get(s1,dx,dy), float4x4(0.002766933292150,-0.144307389855385,-0.144502162933350,-0.075913920998573,-0.160006716847420,-0.107655152678490,0.141243219375610,0.124227054417133,0.106736183166504,-0.107818841934204,0.012093639001250,-0.056290458887815,0.003405672730878,0.110031977295876,-0.060400862246752,-0.003587736282498));
res += mul(Get(s2,-dx,-dy), float4x4(-0.000099279655842,0.055420178920031,0.079259805381298,-0.047065511345863,-0.029261011630297,-0.126552239060402,0.068091586232185,0.042898207902908,0.069242775440216,-0.038250718265772,0.034737344831228,-0.099678434431553,0.032460574060678,-0.048183683305979,0.055096130818129,0.054518453776836));
res += mul(Get(s2,-dx,0), float4x4(0.033766184002161,0.022243959829211,-0.109354332089424,0.030867122113705,0.035818312317133,-0.086874753236771,-0.024783076718450,0.002716222079471,0.041426148265600,-0.111929528415203,0.037112127989531,-0.101604454219341,0.186950460076332,-0.031663935631514,0.028681820258498,0.067578852176666));
res += mul(Get(s2,-dx,dy), float4x4(0.010886027477682,-0.069881483912468,0.087941333651543,0.020611369982362,0.059769470244646,0.094345152378082,0.004485975950956,0.048544686287642,0.010089682415128,-0.042608279734850,0.009423540905118,-0.070035696029663,0.090888589620590,-0.105379447340965,0.086142301559448,-0.036439038813114));
res += mul(Get(s2,0,-dy), float4x4(-0.195575714111328,-0.024940446019173,0.011428973637521,-0.086140021681786,-0.060971498489380,-0.041759155690670,-0.062928900122643,0.098177127540112,0.021183967590332,-0.138128206133842,0.111015357077122,0.009832835756242,-0.002844082890078,-0.144469767808914,0.058417931199074,0.130332604050636));
res += mul(Get(s2,0,0), float4x4(-0.018662434071302,0.025550015270710,-0.108061142265797,0.013488395139575,-0.076474428176880,-0.077279925346375,-0.034913308918476,0.007100025657564,-0.014618625864387,0.041611503809690,-0.003281378187239,-0.001477860496379,0.173619970679283,-0.069851405918598,-0.004578355234116,0.072124421596527));
res += mul(Get(s2,0,dy), float4x4(0.062471501529217,0.001276575145312,0.037198673933744,0.012209923006594,0.052609510719776,-0.024389415979385,-0.048454821109772,-0.019599381834269,0.126022145152092,0.067913323640823,-0.025743141770363,-0.023571807891130,-0.003910999745131,-0.099480889737606,0.036084972321987,0.024284018203616));
res += mul(Get(s2,dx,-dy), float4x4(-0.009103588759899,-0.091413892805576,0.021566478535533,-0.103270143270493,-0.057788919657469,0.079326361417770,0.010823639109731,0.038493487983942,0.018807621672750,0.047962211072445,0.043800856918097,0.068237274885178,-0.038478031754494,-0.003963622730225,-0.087236955761909,-0.073800794780254));
res += mul(Get(s2,dx,0), float4x4(0.060888551175594,0.019516060128808,-0.063748724758625,-0.049226026982069,-0.146991938352585,0.022316910326481,-0.003199647180736,-0.021745411679149,-0.041340809315443,0.061755575239658,-0.006159844342619,-0.000415487826103,0.023868240416050,-0.030650783330202,0.006388938520104,0.132869526743889));
res += mul(Get(s2,dx,dy), float4x4(0.076296672224998,0.019160747528076,-0.034550089389086,0.156260117888451,0.026639584451914,-0.162949159741402,0.073205202817917,0.100310042500496,0.089475214481354,0.085578516125679,-0.080315530300140,0.033825580030680,0.113009482622147,0.018274953588843,0.011494857259095,-0.000794369028881));
res += mul(Get(s3,-dx,-dy), float4x4(0.167607873678207,-0.065165340900421,0.051631882786751,-0.007802496664226,0.090009346604347,-0.106192439794540,-0.031034786254168,-0.035453960299492,-0.026107843965292,-0.104460634291172,-0.084658659994602,0.127872243523598,0.074786961078644,0.125507444143295,0.097905747592449,-0.063748672604561));
res += mul(Get(s3,-dx,0), float4x4(0.072787664830685,0.024113986641169,0.058980453759432,0.000200012393179,-0.135161310434341,-0.052930485457182,-0.125617459416389,-0.038078680634499,-0.062279302626848,0.008713135495782,-0.105762809514999,0.006973700597882,0.083101317286491,0.021481422707438,0.030865078791976,0.057363342493773));
res += mul(Get(s3,-dx,dy), float4x4(-0.040446791797876,0.015438292175531,-0.035912994295359,0.016880245879292,0.000644670508336,-0.199732422828674,-0.066470801830292,-0.025359611958265,0.012938240543008,-0.094171538949013,-0.066636726260185,0.067766666412354,-0.029770534485579,0.049436934292316,0.030986363068223,0.017157506197691));
res += mul(Get(s3,0,-dy), float4x4(-0.081325590610504,-0.115953586995602,-0.133472338318825,0.155909299850464,0.069170281291008,0.094285190105438,0.003497426398098,0.011876541189849,0.053747747093439,0.021142406389117,0.053719721734524,-0.056951440870762,0.044177405536175,-0.013608134351671,-0.008373747579753,-0.091356523334980));
res += mul(Get(s3,0,0), float4x4(-0.065500617027283,-0.139676436781883,0.009017438627779,0.092033408582211,-0.113152734935284,-0.051634632050991,-0.076591759920120,0.063358463346958,-0.134048610925674,0.008793917484581,-0.061665683984756,-0.014114767313004,-0.012422365136445,0.061393547803164,-0.058685079216957,-0.138574689626694));
res += mul(Get(s3,0,dy), float4x4(0.003318571951240,-0.163691446185112,0.092333309352398,-0.005356539040804,-0.106406882405281,0.043122824281454,0.093712992966175,-0.068357512354851,0.086790673434734,-0.026104073971510,-0.001349877333269,-0.036890316754580,-0.015367086976767,-0.127046748995781,-0.030499549582601,-0.106974802911282));
res += mul(Get(s3,dx,-dy), float4x4(-0.085042290389538,-0.045607317239046,0.085108347237110,0.113328084349632,-0.019414545968175,-0.131219983100891,0.090088002383709,0.056627899408340,-0.100140295922756,0.133550986647606,0.087364666163921,-0.021703893318772,0.077514052391052,-0.079908743500710,0.031150184571743,-0.066578410565853));
res += mul(Get(s3,dx,0), float4x4(-0.110585309565067,0.005013668909669,0.052132446318865,-0.024307100102305,-0.102593168616295,-0.033614683896303,0.023552265018225,-0.057802874594927,-0.148597151041031,-0.092995606362820,0.035600494593382,-0.054129935801029,0.013574776239693,-0.076925501227379,-0.066250123083591,-0.000354412477463));
res += mul(Get(s3,dx,dy), float4x4(-0.106849268078804,0.037401031702757,0.067041642963886,-0.073982678353786,0.040570683777332,0.074372589588165,0.095349974930286,-0.018852544948459,0.024086594581604,0.043085820972919,0.035015136003494,0.019657718017697,0.065924510359764,-0.080031365156174,-0.001507738255896,0.026967089623213));
return max(float4(0,0,0,0), res);
}
