sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.005520536564291,0.007099846377969,0.051700714975595,-0.006223258562386,-0.041708517819643,0.002947963075712,0.016070280224085,0.024642994627357,-0.019983313977718,0.032049953937531,-0.054160919040442,-0.053423281759024,-0.013835297897458,0.026478575542569,0.039608187973499,-0.043297387659550));
res += mul(Get(s0,-dx,0), float4x4(-0.045278877019882,-0.015721028670669,0.063068121671677,-0.081265643239021,0.011157988570631,-0.009996556676924,-0.013290153816342,-0.034345008432865,0.080422446131706,0.015057768672705,-0.044489365071058,-0.012369566597044,-0.005369432736188,0.027268821373582,-0.019784217700362,-0.000183398602530));
res += mul(Get(s0,-dx,dy), float4x4(-0.091126151382923,-0.012759055010974,0.041986931115389,-0.035014804452658,-0.053648754954338,0.000278571795207,0.073435321450233,-0.023202611133456,-0.021430458873510,0.020920170471072,-0.019634557887912,-0.046351753175259,-0.015323520638049,0.016093105077744,0.011334881186485,0.024456335231662));
res += mul(Get(s0,0,-dy), float4x4(0.059255182743073,0.024167273193598,0.254580289125443,-0.017525555565953,-0.071313574910164,0.049748286604881,0.081106543540955,-0.005914586596191,0.040797576308250,-0.030194388702512,-0.057412184774876,-0.040176812559366,-0.008538514375687,-0.000829220574815,0.016938691958785,0.067062206566334));
res += mul(Get(s0,0,0), float4x4(0.118729233741760,0.047201722860336,-0.006057778839022,-0.046853795647621,0.008986184373498,0.085277929902077,0.004444704856724,0.012122792191803,0.023876836523414,-0.034192990511656,-0.011889031156898,0.024172149598598,0.135668292641640,0.005221553146839,-0.022552741691470,0.076065368950367));
res += mul(Get(s0,0,dy), float4x4(0.137302264571190,0.057809982448816,-0.045690406113863,0.039016775786877,-0.029803745448589,0.041476644575596,0.001446943380870,0.026419632136822,-0.028861150145531,0.004123431630433,-0.037687029689550,-0.021779488772154,-0.047321163117886,0.000141420270666,-0.009606259875000,-0.013737414032221));
res += mul(Get(s0,dx,-dy), float4x4(0.027667336165905,-0.049570739269257,0.048346269875765,0.024675512686372,-0.019239926710725,-0.018477134406567,-0.009411909617484,-0.021996013820171,-0.008343465626240,-0.018766699358821,-0.064171947538853,0.031884759664536,0.011496678926051,-0.012943930923939,0.026477020233870,0.038319904357195));
res += mul(Get(s0,dx,0), float4x4(0.093300141394138,-0.034586239606142,-0.097228929400444,0.082581050693989,0.030851241201162,-0.016084048897028,0.012544659897685,-0.032807525247335,0.021828982979059,-0.029584025964141,-0.013599052093923,0.021731847897172,0.013143924996257,-0.013172531500459,0.107692502439022,0.027807213366032));
res += mul(Get(s0,dx,dy), float4x4(0.059000939130783,-0.051154393702745,-0.121718414127827,0.034378033131361,0.004369939677417,-0.030141215771437,0.016139296814799,-0.033659439533949,0.029577948153019,-0.013232530094683,-0.042185064405203,-0.022644482553005,-0.035432092845440,-0.009118929505348,0.010915524326265,0.006725068669766));
res += mul(Get(s1,-dx,-dy), float4x4(-0.046777389943600,0.019349046051502,-0.056493010371923,0.078378468751907,-0.148764565587044,-0.027310706675053,-0.095153428614140,0.244314268231392,-0.128541529178619,-0.018058290705085,0.022154305130243,-0.070425502955914,0.044104147702456,0.035391438752413,0.005417996551841,-0.030563777312636));
res += mul(Get(s1,-dx,0), float4x4(0.031708937138319,0.020539844408631,-0.013984868302941,0.019664172083139,0.050376512110233,-0.015435975976288,0.042895201593637,0.234046310186386,-0.010191061533988,0.037187255918980,0.129052922129631,-0.010148074477911,0.035738315433264,0.028773954138160,-0.069876186549664,-0.017719235271215));
res += mul(Get(s1,-dx,dy), float4x4(-0.012078410014510,0.008221239782870,0.038078710436821,0.081744067370892,-0.043174028396606,-0.007292285095900,-0.072788402438164,0.030235964804888,0.115576736629009,0.032349307090044,0.000308142800350,-0.021320940926671,-0.021309871226549,0.010669084265828,0.016084417700768,-0.015312861651182));
res += mul(Get(s1,0,-dy), float4x4(0.021676188334823,-0.008114601485431,0.105092905461788,0.034315120428801,0.077111750841141,-0.036452110856771,-0.081237912178040,-0.004705619066954,-0.069107390940189,0.028105674311519,-0.012967611663043,0.048756193369627,0.022742098197341,0.007695557549596,0.009419336915016,0.047529090195894));
res += mul(Get(s1,0,0), float4x4(0.128019705414772,0.054492436349392,0.082556188106537,0.043879944831133,-0.203300565481186,-0.032069515436888,0.243622109293938,-0.072665296494961,-0.006010942626745,0.006171440239996,0.060972567647696,0.023043770343065,0.044247455894947,0.006575915496796,-0.057508785277605,0.028789512813091));
res += mul(Get(s1,0,dy), float4x4(0.081538155674934,0.022302551195025,0.085804775357246,0.095939405262470,-0.081711836159229,0.015497122891247,0.026868708431721,0.000833792728372,-0.028382778167725,0.009034800343215,0.103553570806980,-0.002922724932432,-0.038928151130676,0.013276479206979,-0.037496898323298,-0.048823036253452));
res += mul(Get(s1,dx,-dy), float4x4(0.070141762495041,0.002528791781515,-0.027808930724859,0.065308943390846,-0.118970833718777,-0.028377471491694,-0.031091844663024,-0.110688969492912,-0.066397942602634,-0.002803688636050,-0.017287332564592,-0.013776415959001,0.020701469853520,-0.024022096768022,0.045064084231853,0.001441983040422));
res += mul(Get(s1,dx,0), float4x4(0.032208405435085,0.004622953478247,0.018683806061745,0.034701332449913,0.005195437464863,-0.004962954204530,-0.082105711102486,-0.023543383926153,-0.008277022279799,-0.017343258485198,0.014697611331940,0.003973248880357,-0.024138525128365,-0.020241873338819,0.139931827783585,0.029892476275563));
res += mul(Get(s1,dx,dy), float4x4(-0.000992623041384,-0.004872030578554,0.053377762436867,0.040681377053261,0.052065037190914,-0.053227238357067,-0.092969737946987,-0.041480578482151,-0.007580558769405,-0.012650416232646,0.078270494937897,0.114884026348591,0.035539135336876,-0.000513686216436,-0.000759913935326,-0.013079328462481));
res += mul(Get(s2,-dx,-dy), float4x4(-0.068338200449944,0.012557825073600,-0.038142889738083,0.050187237560749,-0.034163028001785,0.000036457749957,0.034845065325499,-0.017883818596601,-0.002689939457923,-0.004999232478440,-0.004659922793508,-0.009338418953121,-0.080150216817856,0.009971276856959,0.106246732175350,0.001991203986108));
res += mul(Get(s2,-dx,0), float4x4(-0.074420720338821,-0.024457214400172,-0.073629178106785,0.027294972911477,-0.107202470302582,-0.043756231665611,-0.044095464050770,-0.073907673358917,0.004544255323708,-0.002193749183789,-0.001356300665066,-0.001836049254052,0.170118480920792,0.014731178991497,-0.037935629487038,0.023348115384579));
res += mul(Get(s2,-dx,dy), float4x4(-0.054374519735575,-0.019863305613399,0.015386789105833,0.012613197788596,-0.110024683177471,-0.039362866431475,0.032266959547997,-0.089674592018127,-0.000927723944187,-0.002994557842612,0.000608696194831,0.001315954024903,0.042218282818794,0.000949390640017,0.000222881135414,0.003308544401079));
res += mul(Get(s2,0,-dy), float4x4(0.051111850887537,0.000384985847631,0.146610096096992,0.154772818088531,0.046600144356489,0.032820537686348,0.152020603418350,-0.112943962216377,0.001193789998069,-0.002204723423347,-0.009263982996345,0.006770788226277,-0.007387896068394,-0.023255323991179,0.079462565481663,-0.013179598376155));
res += mul(Get(s2,0,0), float4x4(0.262638211250305,0.005108473822474,-0.054632827639580,0.001340390299447,0.268647819757462,0.105945952236652,-0.107835851609707,-0.068417489528656,-0.005774599034339,-0.000014850123989,-0.002422758843750,-0.001553258625790,0.033385988324881,-0.018897242844105,-0.021130729466677,-0.003257614094764));
res += mul(Get(s2,0,dy), float4x4(-0.167118847370148,0.000660357007291,-0.052107106894255,-0.036520041525364,0.102129027247429,0.068959921598434,-0.079426504671574,-0.037763692438602,0.001943602925166,-0.004175862763077,-0.000639033969492,-0.006244224496186,-0.027002478018403,-0.007931280881166,-0.077515684068203,-0.015074274502695));
res += mul(Get(s2,dx,-dy), float4x4(0.000047442699724,-0.045083161443472,0.075632132589817,-0.048738349229097,0.054477490484715,-0.067343361675739,-0.056610558182001,-0.008232233114541,-0.004317571409047,0.001532421563752,0.000014424447727,-0.001861026161350,0.077104859054089,0.005725538823754,0.003961199428886,-0.011405207216740));
res += mul(Get(s2,dx,0), float4x4(-0.122731097042561,-0.023259110748768,0.070821873843670,-0.083581261336803,-0.079866155982018,-0.079174891114235,-0.006567873526365,0.036752745509148,-0.005757408216596,0.001972092781216,-0.010091614909470,-0.002728617517278,0.074937961995602,0.014354859478772,-0.034308928996325,-0.000313857715810));
res += mul(Get(s2,dx,dy), float4x4(0.185634404420853,-0.026115473359823,-0.156685218214989,-0.055822838097811,0.027050005272031,-0.053840734064579,-0.044528875499964,0.006590222474188,-0.000823969312478,0.005128184333444,0.000308834016323,-0.003037994261831,0.061643879860640,0.012614579871297,-0.097499988973141,0.010270393453538));
res += mul(Get(s3,-dx,-dy), float4x4(0.047146279364824,0.038050349801779,-0.126603797078133,-0.036552254110575,0.057411693036556,-0.004918830469251,-0.110831215977669,0.015700256451964,-0.014125647954643,-0.016874341294169,0.001070846803486,-0.065248310565948,-0.017754698172212,-0.010625015944242,0.017862658947706,0.063798435032368));
res += mul(Get(s3,-dx,0), float4x4(-0.047800604254007,-0.002571044489741,0.038181774318218,-0.020707642659545,0.159866943955421,0.005082675721496,-0.091657884418964,0.120538018643856,-0.019745780155063,-0.019091464579105,-0.012777036055923,-0.067386314272881,0.016580684110522,0.008564646355808,0.006635301280767,-0.005065626464784));
res += mul(Get(s3,-dx,dy), float4x4(0.007140020374209,0.016100849956274,0.057039607316256,-0.049634125083685,0.074436537921429,-0.007687918376178,-0.096175737679005,0.026433506980538,0.007797565311193,-0.019709097221494,-0.035999398678541,-0.052736319601536,0.108517833054066,0.036768395453691,-0.001624685130082,0.011984765529633));
res += mul(Get(s3,0,-dy), float4x4(0.010654299519956,0.028919894248247,-0.073629312217236,0.067526444792747,-0.009279619902372,-0.022050330415368,-0.005483717191964,0.042354542762041,0.037109356373549,0.044621959328651,0.003403784008697,-0.038626398891211,-0.001858892617747,-0.017284845933318,0.040844470262527,-0.006350223906338));
res += mul(Get(s3,0,0), float4x4(0.055045597255230,0.012478618882596,-0.102923244237900,0.107378885149956,-0.016348000615835,-0.026609798893332,0.089936830103397,-0.014835062436759,0.108485840260983,0.027135148644447,-0.060401406139135,0.007672841660678,0.042301911860704,0.012916413135827,-0.001720183179714,0.031555905938148));
res += mul(Get(s3,0,dy), float4x4(-0.008339024148881,0.004870900884271,0.068838685750961,-0.026234952732921,-0.124620154500008,-0.015797145664692,0.121183611452579,-0.039307467639446,-0.012460151687264,0.017853356897831,-0.087082304060459,0.000110037421109,0.149698078632355,0.026977131143212,-0.002302219858393,0.065627634525299));
res += mul(Get(s3,dx,-dy), float4x4(0.068555280566216,-0.004250070080161,-0.107395634055138,0.018893266096711,0.040145561099052,0.018517874181271,0.085961841046810,-0.092451870441437,0.021014185622334,-0.022269995883107,0.035195223987103,0.058175828307867,0.024566695094109,-0.005151502788067,-0.026423396542668,0.017551029101014));
res += mul(Get(s3,dx,0), float4x4(0.000931998831220,-0.014782585203648,-0.039349988102913,-0.016950227320194,0.023621659725904,-0.004981934558600,-0.001582655240782,-0.077433004975319,0.090774364769459,-0.017920993268490,-0.085884451866150,0.029190368950367,0.032853968441486,-0.008596366271377,-0.017654491588473,0.044589906930923));
res += mul(Get(s3,dx,dy), float4x4(-0.019810952246189,-0.015162595547736,0.080902524292469,-0.062321182340384,0.037145718932152,0.001008649822325,-0.069766253232956,-0.124113485217094,0.019357496872544,-0.006116272881627,-0.092956706881523,-0.001123758847825,-0.047456078231335,-0.010353348217905,0.052114389836788,-0.002144248690456));
return max(float4(0,0,0,0), res);
}
