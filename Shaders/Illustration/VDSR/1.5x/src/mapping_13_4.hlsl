sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.002039642771706,0.039361853152514,0.035642601549625,0.055859707295895,-0.036324802786112,0.074359260499477,-0.041093174368143,0.044028799980879,-0.060573086142540,-0.165798783302307,-0.015418279916048,0.070251196622849,0.028345288708806,-0.101909436285496,-0.026633730158210,0.020314248278737));
res += mul(Get(s0,-dx,0), float4x4(0.125056847929955,0.047684747725725,0.102018982172012,0.012230852618814,0.041219942271709,-0.033707704395056,-0.023785749450326,-0.080499693751335,0.028373667970300,0.039150997996330,0.014034306630492,-0.035047184675932,0.014055707491934,-0.000158073889907,0.079070426523685,-0.012957208789885));
res += mul(Get(s0,-dx,dy), float4x4(0.035071566700935,-0.002388861263171,-0.050609681755304,-0.023437000811100,-0.027442745864391,0.065001338720322,0.006176687311381,-0.048191223293543,0.036229178309441,0.003268787870184,0.068986013531685,0.073682054877281,-0.102844923734665,0.015431982465088,0.050694279372692,0.089044049382210));
res += mul(Get(s0,0,-dy), float4x4(-0.040696416050196,0.003514380427077,0.012391299940646,-0.002130483742803,0.002452598186210,0.062431309372187,0.022878069430590,-0.096154943108559,0.015073465183377,-0.167632207274437,0.139051839709282,0.070380754768848,0.009041931480169,-0.010576057247818,0.059818342328072,0.017934398725629));
res += mul(Get(s0,0,0), float4x4(-0.081966198980808,-0.025108411908150,0.121577046811581,0.037790186703205,-0.031447298824787,0.041007645428181,-0.042711865156889,0.003514292649925,-0.024730732664466,0.109591864049435,-0.107044629752636,-0.062463387846947,0.068366944789886,-0.016249395906925,0.009783615358174,0.027686571702361));
res += mul(Get(s0,0,dy), float4x4(0.051815830171108,0.003986004740000,-0.012145950458944,0.030743496492505,0.073624618351460,0.060625292360783,-0.001836436567828,-0.065483927726746,0.100350297987461,-0.014843681827188,0.157985687255859,-0.033207904547453,0.064588218927383,0.081813156604767,-0.073386102914810,-0.075377851724625));
res += mul(Get(s0,dx,-dy), float4x4(0.011510830372572,0.024342808872461,0.033684726804495,0.026850664988160,0.005944649688900,0.012451931834221,0.039010494947433,-0.023506971076131,0.007713243365288,-0.140881434082985,0.011171308346093,-0.034079652279615,0.105110354721546,-0.020905651152134,0.174130529165268,0.051276389509439));
res += mul(Get(s0,dx,0), float4x4(0.047520209103823,0.089804485440254,0.049596536904573,-0.047689631581306,-0.035666979849339,-0.076376117765903,0.002975478535518,0.128556475043297,-0.048427209258080,0.102014034986496,-0.101263448596001,0.096457473933697,0.045916799455881,0.004112622234970,-0.107062689960003,-0.034767828881741));
res += mul(Get(s0,dx,dy), float4x4(-0.033783886581659,0.048393964767456,-0.012739260680974,0.115760356187820,0.006067798007280,0.034464046359062,-0.071896061301231,0.008900516666472,-0.058864850550890,-0.048410080373287,0.000852974131703,-0.066855542361736,0.008900224231184,0.008236829191446,0.112272560596466,0.001929515274242));
res += mul(Get(s1,-dx,-dy), float4x4(0.018762115389109,-0.053492113947868,0.296740382909775,-0.100099019706249,-0.041115935891867,-0.017885103821754,-0.111396797001362,-0.055995970964432,0.027243135496974,0.068778946995735,0.119025424122810,0.000240060311626,-0.028548531234264,0.045477386564016,-0.094659969210625,0.083604082465172));
res += mul(Get(s1,-dx,0), float4x4(0.098538331687450,0.037070453166962,0.021776188164949,0.040992666035891,0.031839620321989,-0.013508204370737,-0.082027666270733,-0.028674699366093,0.028950186446309,-0.056417215615511,0.192526102066040,-0.092112362384796,-0.064800567924976,0.011705150827765,0.070350274443626,-0.065280258655548));
res += mul(Get(s1,-dx,dy), float4x4(0.038970675319433,-0.013301563449204,0.055707212537527,-0.057080700993538,0.052934512495995,0.006957509554923,-0.123396389186382,-0.006407790817320,0.015283291228116,-0.032146219164133,-0.039909742772579,-0.026475727558136,-0.025225419551134,0.069932654500008,0.058508872985840,-0.003406788455322));
res += mul(Get(s1,0,-dy), float4x4(-0.036880373954773,0.010869689285755,0.050273708999157,-0.056210342794657,0.049875833094120,0.019317217171192,0.009645434096456,-0.028043113648891,0.050964493304491,0.071144960820675,-0.037558332085609,0.117115713655949,-0.020817095413804,-0.031397808343172,0.291270762681961,-0.032878845930099));
res += mul(Get(s1,0,0), float4x4(-0.096517667174339,0.038047704845667,0.145311936736107,0.010701717808843,0.018611615523696,0.002312481170520,0.167303636670113,0.177906706929207,-0.016024393960834,0.053332481533289,0.041979413479567,0.020919445902109,-0.005784882698208,-0.103512689471245,0.033340621739626,-0.037722818553448));
res += mul(Get(s1,0,dy), float4x4(-0.029763549566269,-0.051203634589911,0.082221128046513,-0.009319445118308,-0.077085964381695,-0.049095790833235,-0.046496596187353,-0.008742738515139,0.038565035909414,0.029447734355927,0.010137688368559,0.069345168769360,0.006628131493926,0.030512521043420,0.194317698478699,0.028964204713702));
res += mul(Get(s1,dx,-dy), float4x4(0.044607087969780,0.104258544743061,0.155131474137306,0.084118992090225,0.088303312659264,0.005263091996312,-0.040609758347273,0.014565984718502,0.080903142690659,0.013481646776199,0.096408657729626,0.013750781305134,0.119527645409107,-0.055022668093443,-0.054275590926409,0.051356859505177));
res += mul(Get(s1,dx,0), float4x4(-0.116590335965157,-0.061449550092220,0.194917872548103,-0.063087448477745,0.049995370209217,-0.015583482570946,-0.038394544273615,-0.033933483064175,-0.073565065860748,0.050960171967745,0.128879159688950,-0.050227846950293,0.056039448827505,-0.012362124398351,-0.058831993490458,0.061977654695511));
res += mul(Get(s1,dx,dy), float4x4(-0.088341534137726,0.030561747029424,0.103582918643951,-0.041617225855589,0.047239962965250,-0.048923853784800,-0.149529337882996,0.024538999423385,-0.025420939549804,0.050970446318388,-0.072688825428486,0.052768778055906,-0.012632151134312,-0.006474377587438,0.181077018380165,-0.099413014948368));
res += mul(Get(s2,-dx,-dy), float4x4(-0.022652002051473,-0.037917837500572,-0.077576108276844,0.013234836049378,-0.039226919412613,0.056490607559681,-0.000827346695587,-0.003447001799941,-0.012300265952945,-0.010162124410272,-0.024324554949999,0.071026697754860,-0.088655516505241,0.068769231438637,0.062701284885406,0.019042694941163));
res += mul(Get(s2,-dx,0), float4x4(0.037130616605282,-0.092748381197453,0.124427236616611,-0.162041440606117,-0.058425132185221,0.062343526631594,0.000736298447009,0.008162332698703,-0.025525551289320,-0.053518887609243,0.016713302582502,0.063049361109734,0.078123278915882,-0.036476451903582,-0.058797255158424,-0.022305335849524));
res += mul(Get(s2,-dx,dy), float4x4(-0.081125281751156,0.035520941019058,-0.019868537783623,0.109302058815956,-0.065715901553631,-0.023146381601691,-0.060885954648256,-0.090454757213593,-0.010175339877605,-0.013877864927053,-0.036528047174215,-0.042955160140991,0.022676780819893,0.040367893874645,-0.069903634488583,0.000695787195582));
res += mul(Get(s2,0,-dy), float4x4(-0.061506208032370,-0.176688268780708,0.106718868017197,-0.030687818303704,0.059731811285019,0.033302098512650,-0.013917990960181,0.077333100140095,-0.067203603684902,0.034182827919722,0.012897944077849,-0.047199927270412,-0.035034697502851,-0.114017270505428,0.033507347106934,-0.005708576645702));
res += mul(Get(s2,0,0), float4x4(-0.041647795587778,-0.006574087776244,-0.161946386098862,0.017608342692256,0.068113438785076,-0.004731896333396,0.040780559182167,-0.034362204372883,-0.018491737544537,-0.024947185069323,-0.030163550749421,0.130105972290039,0.000809404358733,-0.085140436887741,-0.030284626409411,0.049848590046167));
res += mul(Get(s2,0,dy), float4x4(0.014168863184750,0.059530049562454,-0.071740530431271,0.019630987197161,0.052673161029816,0.028752947226167,0.175226539373398,0.034048411995173,-0.003201360115781,0.007739673834294,-0.063301466405392,-0.030457360669971,0.010536165907979,0.064767099916935,-0.038883123546839,0.088101670145988));
res += mul(Get(s2,dx,-dy), float4x4(0.000812352809589,-0.044970307499170,-0.000945351377595,0.034979596734047,-0.034359540790319,0.039406895637512,0.007477928884327,0.048634231090546,-0.041813671588898,-0.127498760819435,-0.015899743884802,-0.053347703069448,0.019412437453866,0.022613314911723,0.028873514384031,-0.052500877529383));
res += mul(Get(s2,dx,0), float4x4(-0.000897915277164,0.073835417628288,-0.226344868540764,0.073485292494297,0.020173482596874,0.104356683790684,0.016457512974739,0.006609301548451,0.072902463376522,-0.083552762866020,0.119105920195580,-0.025795577093959,0.012473678216338,0.096785351634026,0.067409828305244,0.015147298574448));
res += mul(Get(s2,dx,dy), float4x4(-0.034456692636013,0.082452274858952,0.101019352674484,-0.111378796398640,-0.049131743609905,0.000558101164643,0.020731296390295,0.012081426568329,-0.080112956464291,0.020392123609781,0.088854081928730,-0.004176045767963,0.002122076926753,0.106210321187973,-0.002590978285298,0.035971693694592));
res += mul(Get(s3,-dx,-dy), float4x4(0.016571599990129,-0.060060672461987,0.082277730107307,0.022364066913724,0.031173093244433,0.048323616385460,0.066288210451603,0.031914219260216,0.040395401418209,0.009230046533048,-0.038523782044649,-0.015917772427201,-0.105551920831203,-0.092389948666096,-0.059986621141434,-0.044162996113300));
res += mul(Get(s3,-dx,0), float4x4(-0.053236186504364,-0.051943395286798,0.012521127238870,0.028724335134029,-0.069223351776600,-0.007869926281273,-0.001919650123455,-0.005168324802071,0.046958241611719,0.036384094506502,0.056126356124878,0.028016295284033,0.030547166243196,-0.122418656945229,-0.031947992742062,0.097802184522152));
res += mul(Get(s3,-dx,dy), float4x4(-0.042300850152969,0.042856428772211,-0.092059731483459,0.033550273627043,0.052785430103540,-0.002323949476704,0.213382557034492,-0.078966498374939,0.067901797592640,0.020739892497659,0.021344443783164,-0.037979464977980,0.056042589247227,0.078150786459446,0.011186109855771,-0.010461477562785));
res += mul(Get(s3,0,-dy), float4x4(0.011758442036808,0.001890108920634,0.037288818508387,0.029222531244159,-0.046479526907206,0.032811559736729,0.256628870964050,0.015718797221780,0.056318540126085,-0.031810000538826,0.025760462507606,-0.004995721857995,0.033796388655901,-0.016334600746632,-0.013099729083478,-0.022346030920744));
res += mul(Get(s3,0,0), float4x4(0.010483181104064,0.005291811190546,0.032000217586756,-0.047534540295601,0.002526629948989,0.077625259757042,0.102110236883163,0.020465673878789,-0.018217394128442,0.069327667355537,0.044162612408400,0.049211885780096,-0.002217648318037,-0.044255819171667,0.012599032372236,0.034895647317171));
res += mul(Get(s3,0,dy), float4x4(-0.003038056194782,0.038567673414946,-0.124882034957409,-0.080222204327583,-0.012484141625464,0.051399871706963,-0.066241972148418,-0.023660141974688,-0.027179965749383,-0.069466009736061,-0.003849520115182,0.056054566055536,-0.034187152981758,0.081322818994522,0.007022394798696,-0.007399285212159));
res += mul(Get(s3,dx,-dy), float4x4(0.083191998302937,0.006969827227294,0.000525626819581,-0.004429676569998,-0.080835305154324,-0.025395669043064,0.017489401623607,-0.044488988816738,0.118079751729965,-0.048817675560713,-0.110779047012329,0.025600967928767,-0.006296605803072,0.094336904585361,0.004173016175628,0.036451064050198));
res += mul(Get(s3,dx,0), float4x4(0.047019518911839,0.010520027019083,0.094542250037193,0.083752453327179,-0.065850839018822,0.067030303180218,0.056642942130566,0.079981550574303,-0.011254481971264,-0.006814214400947,0.103060461580753,-0.011856914497912,0.050352528691292,0.040567815303802,0.055700033903122,-0.027151430025697));
res += mul(Get(s3,dx,dy), float4x4(0.039966102689505,0.042461808770895,-0.155985802412033,-0.021100722253323,0.009552949108183,-0.036039974540472,0.053165443241596,-0.058069460093975,-0.060574464499950,0.031031718477607,-0.026321215555072,0.007861793041229,0.074737280607224,0.041315272450447,0.004031140822917,0.063931845128536));
return max(float4(0,0,0,0), res);
}
