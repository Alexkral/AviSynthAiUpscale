sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.020803904160857,0.025207743048668,0.051779139786959,-0.016799077391624,0.055301170796156,-0.096385136246681,-0.011538486927748,-0.018783967941999,-0.009605397470295,-0.065790221095085,0.070155560970306,-0.012503666803241,0.020592268556356,0.083053790032864,-0.044918894767761,-0.042228557169437));
res += mul(Get(s0,-dx,0), float4x4(-0.019432233646512,0.130921855568886,0.044467564672232,-0.065247334539890,0.015983385965228,0.126219034194946,-0.049196876585484,-0.016137294471264,0.024646842852235,0.008939295075834,0.084690943360329,0.025120945647359,-0.023223843425512,0.040239628404379,0.051020257174969,-0.023680672049522));
res += mul(Get(s0,-dx,dy), float4x4(-0.044393483549356,-0.009121801704168,-0.002374845091254,-0.047874968498945,-0.042148366570473,0.013130642473698,0.010428475216031,-0.034873265773058,0.027787372469902,-0.010617298074067,0.045655995607376,0.020904095843434,-0.033647395670414,0.057139094918966,0.066795460879803,-0.046125333756208));
res += mul(Get(s0,0,-dy), float4x4(-0.059876557439566,-0.012413401156664,0.119539491832256,0.037703197449446,-0.088796660304070,-0.024375939741731,-0.008561979979277,0.022389253601432,0.075591199100018,-0.001268425956368,0.028601188212633,0.014428088441491,0.050840653479099,0.087899811565876,0.006017335690558,-0.054970860481262));
res += mul(Get(s0,0,0), float4x4(0.006390523165464,-0.049098819494247,0.088355764746666,-0.058354884386063,0.132301270961761,0.124091625213623,-0.010087160393596,-0.061654537916183,0.011076916940510,-0.019342228770256,0.116227075457573,-0.032743513584137,-0.017828119918704,0.033526964485645,0.022941378876567,0.003594281617552));
res += mul(Get(s0,0,dy), float4x4(0.003354421583936,0.033061701804399,-0.011995335109532,-0.044509254395962,-0.054237250238657,0.051688823848963,0.067860186100006,0.060584045946598,0.065525650978088,-0.091251410543919,0.001918950700201,-0.021590229123831,-0.023159332573414,0.072736918926239,0.028662288561463,0.004988530185074));
res += mul(Get(s0,dx,-dy), float4x4(-0.102399058640003,-0.052285876125097,-0.013882107101381,0.010777617804706,0.022836131975055,0.052327498793602,-0.085402943193913,-0.130928725004196,0.022535083815455,0.002371273702011,-0.087545797228813,-0.029798172414303,0.088615298271179,0.051543917506933,-0.028129709884524,0.011395176872611));
res += mul(Get(s0,dx,0), float4x4(-0.042591795325279,0.027392324060202,-0.056545298546553,0.101202875375748,0.074086122214794,0.009068851359189,-0.024648223072290,-0.046218853443861,-0.101168096065521,0.134893476963043,-0.049361612647772,0.006421666592360,-0.005649423692375,0.091454766690731,0.036453314125538,0.010468545369804));
res += mul(Get(s0,dx,dy), float4x4(-0.073256276547909,0.022861333563924,-0.040352813899517,0.015201581642032,-0.017674291506410,0.022644490003586,0.025655979290605,0.099549628794193,0.082110911607742,-0.084579035639763,-0.142428249120712,-0.023813484236598,-0.049404207617044,0.039929527789354,-0.014422553591430,-0.000816751911771));
res += mul(Get(s1,-dx,-dy), float4x4(0.031705625355244,-0.010234245099127,0.005746811628342,-0.009914701804519,0.077683299779892,-0.149378553032875,-0.030411062762141,0.038872081786394,0.081539638340473,-0.020415822044015,0.058838214725256,0.078102178871632,0.166043817996979,-0.121756725013256,0.016748374328017,-0.059488363564014));
res += mul(Get(s1,-dx,0), float4x4(0.056888572871685,0.019740873947740,0.021548645570874,-0.053813103586435,0.068207651376724,-0.162017688155174,0.039031326770782,0.014280095696449,0.079699710011482,0.061356794089079,-0.064832672476768,-0.023229962214828,-0.034909214824438,-0.031433593481779,-0.010300768539310,-0.062650650739670));
res += mul(Get(s1,-dx,dy), float4x4(-0.026110589504242,-0.000772077299189,-0.020648146048188,-0.060741897672415,0.161331370472908,-0.018347069621086,0.038794338703156,-0.044700585305691,0.025749204680324,-0.046220526099205,0.137909784913063,0.096090190112591,0.027210276573896,0.105202831327915,-0.009069159626961,-0.019926931709051));
res += mul(Get(s1,0,-dy), float4x4(0.005577312316746,0.022514494135976,0.013619076460600,-0.033910993486643,-0.031791508197784,-0.088125437498093,0.004280765075237,0.181370168924332,0.036900438368320,-0.088682629168034,-0.032376002520323,-0.040668379515409,0.038586184382439,-0.117315433919430,-0.014018234796822,0.004695564974099));
res += mul(Get(s1,0,0), float4x4(0.018078569322824,0.015538199804723,0.080698177218437,-0.008418159559369,0.030522478744388,0.127336457371712,-0.051434706896544,-0.018182424828410,-0.009985909797251,-0.028200643137097,-0.011288728564978,-0.096688851714134,-0.048743113875389,-0.091485865414143,0.022205311805010,0.097506098449230));
res += mul(Get(s1,0,dy), float4x4(0.045793786644936,0.040510382503271,0.006956332828850,0.060405280441046,-0.130319043993950,0.016909178346395,-0.028396075591445,0.000706020917278,-0.076172903180122,-0.108323961496353,0.229920253157616,0.100735262036324,0.078551620244980,0.024994280189276,-0.024056667461991,-0.011718523688614));
res += mul(Get(s1,dx,-dy), float4x4(0.050410918891430,-0.042274661362171,-0.030485421419144,0.079028561711311,-0.007171762641519,-0.063106693327427,-0.086281217634678,-0.025709550827742,0.051658198237419,-0.038300614804029,-0.095950141549110,0.052743952721357,-0.023623624816537,-0.016424788162112,-0.063629992306232,0.024412441998720));
res += mul(Get(s1,dx,0), float4x4(0.042200833559036,0.020251480862498,-0.045439794659615,-0.012580860406160,-0.019327366724610,-0.061085417866707,-0.028350023552775,-0.044723425060511,0.106821641325951,0.001676940824836,-0.131406664848328,0.116230867803097,-0.022451112046838,0.003204487031326,0.020182082429528,0.039906539022923));
res += mul(Get(s1,dx,dy), float4x4(-0.020144630223513,0.001249103690498,-0.050287205725908,-0.022607194259763,0.026090165600181,-0.097278632223606,0.109428592026234,0.051891874521971,0.076313793659210,-0.049832642078400,0.011904298327863,0.018550332635641,0.012556590139866,0.033417101949453,-0.004380955360830,-0.067311733961105));
res += mul(Get(s2,-dx,-dy), float4x4(-0.026964126154780,0.077514685690403,0.119176320731640,0.018250238150358,0.013573715463281,0.053557183593512,0.008738408796489,0.020546682178974,-0.007884673774242,-0.063054740428925,-0.022723874077201,-0.057395286858082,-0.046194557100534,-0.025024915114045,-0.085089296102524,0.018808972090483));
res += mul(Get(s2,-dx,0), float4x4(0.072359286248684,0.057214844971895,0.149178892374039,0.009843475185335,-0.063243478536606,0.082606494426727,0.064486414194107,0.021191319450736,0.030256083235145,0.112943083047867,0.018724840134382,-0.077556192874908,-0.008065081201494,0.033722657710314,-0.009306509979069,-0.053271729499102));
res += mul(Get(s2,-dx,dy), float4x4(-0.056619767099619,0.047320075333118,0.018455510959029,-0.073775678873062,-0.028572956100106,0.063443087041378,-0.001523594837636,0.039127815514803,0.039408992975950,0.053416907787323,0.012462107464671,-0.026967594400048,-0.038846217095852,0.072590760886669,0.005058734212071,-0.030798196792603));
res += mul(Get(s2,0,-dy), float4x4(0.065721847116947,-0.059994604438543,-0.107326447963715,-0.089236050844193,-0.034044962376356,0.019588701426983,0.020654413849115,-0.069117158651352,0.016077073290944,-0.050922002643347,0.137376636266708,0.113125890493393,0.051309976726770,0.004346348345280,-0.014468445442617,-0.002817973960191));
res += mul(Get(s2,0,0), float4x4(-0.042854599654675,0.003100867150351,-0.047763638198376,-0.071502536535263,-0.041763503104448,0.025194948539138,0.032611809670925,0.010767656378448,0.057977177202702,0.124890595674515,0.114011950790882,0.026238143444061,0.000585789792240,-0.021067401394248,0.051339000463486,-0.023398553952575));
res += mul(Get(s2,0,dy), float4x4(0.009091925807297,0.080708310008049,-0.089349962770939,-0.042459700256586,-0.022059775888920,0.052277948707342,0.012767583131790,-0.006273120641708,-0.083028182387352,-0.000958610035013,0.225194215774536,0.061008077114820,0.070233762264252,-0.024440597742796,0.016207238659263,0.002528982935473));
res += mul(Get(s2,dx,-dy), float4x4(0.010412208735943,-0.003275785595179,-0.076048538088799,-0.048408709466457,0.063430748879910,-0.037487335503101,-0.037780661135912,-0.004436564166099,-0.005253074225038,0.049901224672794,-0.157149001955986,-0.036657780408859,0.021367117762566,-0.015202982351184,-0.188684329390526,0.033918350934982));
res += mul(Get(s2,dx,0), float4x4(-0.050166700035334,-0.028044035658240,0.021415634080768,-0.008894609287381,-0.026674905791879,0.032235190272331,-0.015131826512516,-0.005799361504614,0.088778994977474,0.071497216820717,-0.083363041281700,-0.007998728193343,0.027134433388710,-0.075452111661434,-0.142364844679832,-0.031468600034714));
res += mul(Get(s2,dx,dy), float4x4(0.021560646593571,-0.017898842692375,-0.032015856355429,0.022476878017187,-0.107149899005890,0.054324451833963,0.019945206120610,0.032209411263466,-0.000863757624757,0.001096792286262,-0.039895981550217,0.024577967822552,0.070173494517803,0.010846784338355,-0.141282111406326,-0.003518313169479));
res += mul(Get(s3,-dx,-dy), float4x4(0.084079489111900,0.184787184000015,0.028772896155715,0.065116696059704,-0.016830725595355,0.064708277583122,-0.056784633547068,0.017751740291715,0.056226700544357,-0.126178845763206,-0.078187733888626,0.010901268571615,0.056576404720545,0.029031941667199,-0.029824204742908,0.037366535514593));
res += mul(Get(s3,-dx,0), float4x4(-0.033012352883816,0.162412896752357,0.038535263389349,0.112237609922886,0.009488773532212,-0.005487043410540,-0.032656639814377,0.020595824345946,-0.046816628426313,0.025600522756577,0.048271983861923,0.043761398643255,-0.004270275589079,-0.006450788583606,0.016242431476712,0.143999576568604));
res += mul(Get(s3,-dx,dy), float4x4(-0.073825776576996,0.144502207636833,0.032379422336817,-0.018142608925700,0.080787114799023,-0.026086457073689,0.082849778234959,0.012561636976898,-0.040424808859825,-0.061267901211977,0.040763780474663,0.097042642533779,0.002010285854340,-0.113300971686840,-0.049509380012751,0.080253414809704));
res += mul(Get(s3,0,-dy), float4x4(-0.040864735841751,0.066101387143135,-0.064184464514256,0.024819903075695,-0.052082274109125,-0.011229493655264,-0.019559182226658,-0.006142866797745,-0.000607459747698,-0.038242030888796,-0.110996671020985,0.112359821796417,0.082612998783588,-0.096483364701271,0.067949250340462,-0.077932491898537));
res += mul(Get(s3,0,0), float4x4(-0.105789788067341,-0.028966926038265,0.002350855851546,0.044001154601574,0.055423211306334,-0.131069645285606,-0.089696168899536,0.022513419389725,-0.046078458428383,0.063096717000008,0.011820841580629,0.024467069655657,-0.085513830184937,0.057394232600927,0.039992157369852,-0.169949039816856));
res += mul(Get(s3,0,dy), float4x4(-0.034816369414330,0.042094230651855,-0.036416206508875,0.032479058951139,0.024810029193759,-0.019554153084755,0.100215785205364,0.010085152462125,-0.017282769083977,0.009188916534185,0.018942695111036,0.075058594346046,-0.063875600695610,-0.022846642881632,0.074817128479481,0.004575544968247));
res += mul(Get(s3,dx,-dy), float4x4(-0.030925970524549,0.103218033909798,-0.157484620809555,-0.031163917854428,0.039444759488106,0.017967700958252,-0.040013942867517,-0.081073850393295,0.039823815226555,-0.002380515448749,-0.154610708355904,0.172445312142372,-0.017115995287895,-0.016278866678476,-0.049909677356482,-0.066014610230923));
res += mul(Get(s3,dx,0), float4x4(-0.016909128054976,0.071131505072117,-0.014554948545992,0.032413627952337,0.020622935146093,-0.146333888173103,-0.091048151254654,0.030272997915745,-0.075072452425957,-0.003142264438793,-0.084585815668106,-0.002893103752285,-0.020871281623840,-0.015315285883844,-0.050296664237976,0.001251682755537));
res += mul(Get(s3,dx,dy), float4x4(-0.024954145774245,-0.002130189910531,0.030328435823321,-0.079709634184837,-0.021998055279255,-0.030773656442761,0.000043630065193,-0.070997968316078,-0.064884714782238,0.024015972390771,-0.098458185791969,0.114017613232136,0.001312520122156,-0.023997867479920,-0.121841497719288,0.037294745445251));
return max(float4(0,0,0,0), res);
}
