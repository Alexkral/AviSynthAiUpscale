sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.055251289159060,-0.000581300177146,0.044645253568888,-0.022158624604344,-0.012113224714994,0.088806383311749,0.015966702252626,0.039320632815361,0.083680644631386,0.004011746030301,0.038889430463314,-0.062963627278805,0.085604466497898,0.050437588244677,0.076524049043655,0.008310886099935));
res += mul(Get(s0,-dx,0), float4x4(-0.050669919699430,0.025885792449117,-0.001924921991304,0.097559884190559,0.053186058998108,-0.067623548209667,0.005328659899533,0.137210771441460,0.025010006502271,-0.073657080531120,-0.035495322197676,-0.079189009964466,-0.070809386670589,0.087186746299267,-0.070442639291286,0.167353346943855));
res += mul(Get(s0,-dx,dy), float4x4(-0.005581526551396,-0.045600987970829,-0.090938426554203,0.050433926284313,0.014457088895142,-0.094772532582283,0.077521137893200,0.078419312834740,-0.018568012863398,-0.081701852381229,0.109603501856327,-0.094433218240738,-0.042701106518507,0.069341458380222,-0.078585006296635,0.027906831353903));
res += mul(Get(s0,0,-dy), float4x4(0.114617750048637,-0.012621132656932,0.054104115813971,-0.113180674612522,0.053883206099272,0.028664095327258,-0.004949438385665,0.172961547970772,-0.062624067068100,0.062284633517265,-0.025506591424346,-0.002663428662345,-0.094358190894127,0.040086545050144,0.007774296682328,-0.000404101127060));
res += mul(Get(s0,0,0), float4x4(-0.087725207209587,0.011501301079988,0.015550111420453,0.019503390416503,0.041351411491632,-0.065502509474754,-0.061108127236366,0.010636607185006,-0.095188468694687,0.124383255839348,0.059798020869493,-0.098355643451214,0.023284649476409,0.062831632792950,-0.089375130832195,0.111701890826225));
res += mul(Get(s0,0,dy), float4x4(0.025594128295779,0.029842130839825,-0.046606097370386,-0.000889065267984,-0.004079639445990,-0.134016498923302,0.068947233259678,0.095832154154778,0.025314992293715,0.057571936398745,0.033239908516407,-0.035668306052685,-0.010410686023533,-0.038933262228966,0.041795901954174,0.191725775599480));
res += mul(Get(s0,dx,-dy), float4x4(-0.066093035042286,-0.005904201883823,-0.006430437788367,0.010925013571978,-0.025983698666096,0.013303183019161,-0.036334313452244,-0.087067037820816,0.120921865105629,-0.047222238034010,-0.020592184737325,0.014711554162204,0.033524863421917,0.087036117911339,0.102582134306431,-0.101929470896721));
res += mul(Get(s0,dx,0), float4x4(-0.011762989684939,0.071668624877930,-0.036945901811123,0.100848898291588,-0.010983772575855,0.160870552062988,0.080277979373932,-0.036625239998102,0.000008838423128,-0.095261335372925,-0.016996696591377,-0.068992152810097,-0.073131084442139,0.007438280619681,0.027482256293297,0.033404450863600));
res += mul(Get(s0,dx,dy), float4x4(0.022157048806548,-0.088426306843758,0.026231605559587,0.045724321156740,0.075523279607296,0.095566935837269,-0.033301874995232,0.044414106756449,-0.023202493786812,-0.079061359167099,0.072779275476933,0.038245305418968,-0.138779684901237,0.048670403659344,-0.027264172211289,-0.057014532387257));
res += mul(Get(s1,-dx,-dy), float4x4(-0.002041870262474,0.007750433403999,-0.133535400032997,-0.034872211515903,0.075229421257973,0.009318175725639,-0.091434329748154,0.070644550025463,0.082706324756145,0.023447532206774,0.013274255208671,0.031309247016907,0.009940157644451,-0.014419629238546,-0.027230229228735,0.084325969219208));
res += mul(Get(s1,-dx,0), float4x4(-0.068608015775681,0.050389997661114,-0.023647738620639,0.045071501284838,-0.058395810425282,-0.034591935575008,0.119399510324001,-0.036242924630642,0.044613815844059,-0.019074473530054,-0.012469146400690,0.061840310692787,0.055175073444843,0.156756445765495,-0.018186364322901,-0.038504216820002));
res += mul(Get(s1,-dx,dy), float4x4(-0.010546674951911,-0.003490147646517,0.049724787473679,-0.001919365837239,-0.037495929747820,0.136044695973396,-0.009637787006795,-0.104344032704830,-0.005925736390054,-0.053608793765306,-0.028067894279957,0.110105738043785,0.109701454639435,0.042474783957005,-0.087685234844685,-0.048759613186121));
res += mul(Get(s1,0,-dy), float4x4(0.094103984534740,0.092903792858124,-0.128237679600716,-0.009370503947139,-0.017534265294671,-0.015049661509693,-0.021392052993178,0.105621151626110,-0.020823992788792,-0.006533651612699,0.026503235101700,0.024544125422835,-0.114973090589046,-0.093172632157803,-0.084921814501286,0.006520052440464));
res += mul(Get(s1,0,0), float4x4(0.033083703368902,0.014017947949469,0.029903950169683,0.041523776948452,0.057403068989515,-0.063175685703754,0.153935641050339,0.098811760544777,-0.057168956845999,0.173586845397949,-0.064385108649731,-0.008925247006118,-0.019795494154096,-0.052902307361364,0.023524530231953,-0.003036860842258));
res += mul(Get(s1,0,dy), float4x4(-0.012127606198192,0.047926973551512,-0.000055920139857,-0.036109238862991,0.006261199247092,-0.126665607094765,-0.013380004093051,-0.043444089591503,0.067740865051746,0.065777078270912,-0.062325235456228,0.071719400584698,-0.007025820668787,-0.058814324438572,-0.076815158128738,0.070870742201805));
res += mul(Get(s1,dx,-dy), float4x4(0.001884696423076,-0.168616086244583,-0.124434486031532,-0.038266781717539,-0.092136979103088,-0.056095540523529,0.048550020903349,-0.030513858422637,0.046806756407022,-0.052457991987467,0.058864362537861,-0.119668193161488,-0.086736828088760,0.094835422933102,0.033195789903402,0.006254160776734));
res += mul(Get(s1,dx,0), float4x4(-0.009501310065389,0.059575155377388,-0.071451820433140,0.083811998367310,-0.061307027935982,0.080217704176903,0.049973659217358,-0.027222190052271,-0.015510944649577,-0.056891430169344,0.033873040229082,-0.047031760215759,-0.021738613024354,0.125218093395233,-0.103247694671154,-0.046847533434629));
res += mul(Get(s1,dx,dy), float4x4(0.111691713333130,-0.018357494845986,0.007941043004394,-0.072297073900700,0.012894230894744,0.067299082875252,0.070283778011799,0.053800757974386,0.022090300917625,-0.027629751712084,0.042899366468191,-0.068497911095619,0.056106340140104,0.109646469354630,-0.029863536357880,0.034658856689930));
res += mul(Get(s2,-dx,-dy), float4x4(-0.063179202377796,0.028689833357930,-0.014656982384622,0.030615013092756,0.056215237826109,-0.011397854425013,0.039326373487711,0.050610076636076,0.030023675411940,0.100276380777359,0.038819003850222,-0.020089093595743,-0.022627264261246,0.067197866737843,-0.057874478399754,0.005881077609956));
res += mul(Get(s2,-dx,0), float4x4(-0.106808453798294,0.064550414681435,0.024679508060217,-0.000954522227403,-0.075371950864792,-0.081952303647995,-0.097301155328751,0.018118804320693,0.156530737876892,0.129459276795387,-0.005759579129517,-0.074377201497555,0.028892971575260,-0.025412788614631,0.048645220696926,-0.037302333861589));
res += mul(Get(s2,-dx,dy), float4x4(-0.052890971302986,-0.022639315575361,0.012890147976577,-0.130900233983994,0.131515190005302,-0.006397887598723,-0.154386252164841,-0.043086539953947,0.063244104385376,0.059847462922335,-0.055854182690382,-0.036463435739279,0.015508429147303,-0.041633196175098,0.053761646151543,-0.075029335916042));
res += mul(Get(s2,0,-dy), float4x4(-0.033730924129486,0.030117811635137,0.092525750398636,-0.154556408524513,-0.040621034801006,-0.038208048790693,0.046273708343506,-0.119662813842297,-0.005424079950899,-0.066158257424831,0.021038327366114,-0.062398955225945,-0.022204119712114,-0.068151801824570,0.035587314516306,0.065235435962677));
res += mul(Get(s2,0,0), float4x4(-0.021659353747964,0.008832021616399,-0.034915242344141,-0.002172316424549,-0.030899925157428,0.052604384720325,-0.031632151454687,0.037431199103594,0.035511441528797,0.003953228704631,-0.049151029437780,0.050376836210489,-0.136700123548508,0.015182435512543,-0.109182678163052,0.136987358331680));
res += mul(Get(s2,0,dy), float4x4(0.060621533542871,0.039061360061169,-0.073571145534515,-0.085525900125504,-0.064685761928558,0.006964861415327,-0.135564789175987,0.011096073314548,0.033893439918756,0.078160323202610,-0.010517227463424,0.009885189123452,-0.091381542384624,0.016684021800756,0.022117894142866,0.023351324722171));
res += mul(Get(s2,dx,-dy), float4x4(-0.038840737193823,-0.033443193882704,-0.079960510134697,-0.003563521662727,-0.007600720506161,-0.036816153675318,0.095892697572708,0.056330211460590,0.007599244359881,0.028786489740014,0.012404541485012,0.123517073690891,0.080284804105759,-0.050344157963991,-0.049310587346554,0.108062945306301));
res += mul(Get(s2,dx,0), float4x4(0.024299124255776,-0.011274471879005,0.109713025391102,0.005457192193717,0.005901358090341,-0.128535449504852,-0.097944624722004,0.210521295666695,-0.135225564241409,-0.040837436914444,0.025081997737288,-0.019275674596429,-0.009627520106733,-0.123349435627460,0.092788420617580,-0.011405726894736));
res += mul(Get(s2,dx,dy), float4x4(-0.029228119179606,-0.049307923763990,0.037127785384655,-0.042049728333950,-0.063801556825638,-0.061560090631247,-0.029064422473311,0.009427696466446,-0.048738270998001,0.010721824131906,-0.024470690637827,0.069854326546192,-0.007484864909202,0.005646165460348,0.074100494384766,0.032079841941595));
res += mul(Get(s3,-dx,-dy), float4x4(-0.053085457533598,-0.007772868499160,0.091460876166821,0.157040297985077,0.012917848303914,-0.113527745008469,0.037822518497705,-0.073150850832462,-0.064632982015610,-0.036427512764931,0.152612566947937,0.173579454421997,-0.111672908067703,-0.004732866771519,-0.044751089066267,-0.278736799955368));
res += mul(Get(s3,-dx,0), float4x4(0.180000022053719,-0.001270148786716,0.095475085079670,0.037386167794466,-0.091070555150509,-0.019710797816515,0.068447820842266,0.091664634644985,-0.099826008081436,-0.099391989409924,-0.049312662333250,0.129292532801628,0.018317282199860,0.118697546422482,-0.000356439879397,-0.091668330132961));
res += mul(Get(s3,-dx,dy), float4x4(-0.075290255248547,0.099009618163109,-0.067230105400085,0.050952542573214,0.029458027333021,-0.009776500985026,-0.071072973310947,-0.030529426410794,0.069166958332062,-0.120329104363918,0.029083946719766,0.056958328932524,0.155168652534485,0.001846507191658,-0.025301951915026,-0.146344676613808));
res += mul(Get(s3,0,-dy), float4x4(-0.055161044001579,-0.014603155665100,0.008380977436900,-0.093775786459446,-0.008778884075582,0.130796238780022,-0.018802139908075,0.106001503765583,-0.007113202940673,0.017737032845616,-0.004930272698402,0.041444219648838,-0.008764682337642,0.004863001406193,-0.097704984247684,-0.206845775246620));
res += mul(Get(s3,0,0), float4x4(0.030086046084762,-0.053886782377958,0.073414184153080,0.034803543239832,0.075115278363228,0.071829967200756,0.012784660793841,-0.125424683094025,0.090287677943707,0.049793910235167,-0.144811078906059,-0.080047890543938,-0.085475474596024,-0.027533791959286,-0.126767605543137,0.023017244413495));
res += mul(Get(s3,0,dy), float4x4(0.054181654006243,0.044492680579424,0.043460886925459,-0.045640055090189,-0.063279502093792,-0.006938794162124,0.014434725046158,-0.037760753184557,-0.023285934701562,-0.039027847349644,-0.115258358418941,0.029390566051006,0.059413649141788,0.036259952932596,0.051030158996582,-0.042883992195129));
res += mul(Get(s3,dx,-dy), float4x4(-0.001055578934029,-0.019884049892426,-0.000774630869273,-0.131786420941353,-0.032142560929060,-0.091545894742012,-0.044302828609943,-0.053815759718418,0.018357722088695,0.006353097967803,0.167160376906395,0.063835285604000,-0.065375424921513,-0.086772404611111,-0.062169227749109,0.073336273431778));
res += mul(Get(s3,dx,0), float4x4(0.048644479364157,0.017731722444296,-0.038907583802938,-0.129501581192017,-0.050574984401464,0.004231397528201,0.043805465102196,0.057359386235476,0.095588400959969,0.037091553211212,0.039982311427593,-0.065521582961082,-0.087362617254257,-0.160033047199249,0.039466731250286,0.040505003184080));
res += mul(Get(s3,dx,dy), float4x4(0.042095545679331,0.068719729781151,0.073472045361996,-0.001361072645523,-0.114960856735706,-0.028663972392678,-0.005373878404498,0.050878945738077,-0.076565355062485,-0.043279219418764,0.116172805428505,0.048644315451384,0.033936802297831,0.025972213596106,0.042014233767986,0.078658089041710));
return max(float4(0,0,0,0), res);
}
