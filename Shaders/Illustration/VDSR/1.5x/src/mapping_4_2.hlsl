sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.144355267286301,0.096897646784782,0.022142393514514,0.013756349682808,-0.039160154759884,-0.050331048667431,0.005275384988636,0.020656706765294,-0.073275491595268,-0.013372923247516,0.136525720357895,0.102463893592358,0.016338884830475,-0.052399683743715,-0.123213388025761,0.002176228910685));
res += mul(Get(s0,-dx,0), float4x4(-0.001407027826644,-0.027920769527555,0.040638048201799,-0.049544364213943,0.000924936670344,-0.040968265384436,-0.035827007144690,-0.010500226169825,-0.024048909544945,-0.040480144321918,0.230124339461327,0.091506026685238,0.010516689158976,0.011785484850407,0.029814198613167,0.004723403137177));
res += mul(Get(s0,-dx,dy), float4x4(-0.059869900345802,0.046645324677229,0.031811244785786,0.055470749735832,-0.011582664214075,0.044329259544611,0.040253922343254,0.070275306701660,-0.041158709675074,-0.040535736829042,0.028666568920016,-0.044888485223055,-0.004611963406205,0.076411098241806,-0.037591837346554,0.001209750655107));
res += mul(Get(s0,0,-dy), float4x4(-0.157934024930000,0.122606515884399,-0.055092498660088,-0.027711361646652,0.012213281355798,0.052401077002287,-0.005988005083054,0.006603325717151,0.110817685723305,-0.059867683798075,0.010812441818416,0.014715626835823,-0.007696036249399,-0.050452973693609,-0.042420409619808,-0.017862210050225));
res += mul(Get(s0,0,0), float4x4(-0.025006618350744,-0.094823904335499,-0.011920010671020,0.153360337018967,-0.025841210037470,0.065996021032333,0.136027261614799,0.082649774849415,0.102500118315220,0.058053489774466,-0.064448624849319,0.012441379949450,0.021857744082808,-0.010731802321970,0.033721487969160,0.035693697631359));
res += mul(Get(s0,0,dy), float4x4(0.097313210368156,0.031195327639580,0.011749502271414,0.127399340271950,-0.076735869050026,0.056993320584297,0.093006253242493,0.073143176734447,-0.077841170132160,-0.133448079228401,0.009174144826829,-0.042765803635120,0.010653970763087,0.012359776534140,0.003412137040868,0.024626618251204));
res += mul(Get(s0,dx,-dy), float4x4(-0.168819457292557,-0.005460474174470,-0.003270139917731,0.055553890764713,0.047450564801693,0.007677020970732,-0.015306747518480,0.052956409752369,0.072815798223019,0.078284926712513,0.047326788306236,-0.019386645406485,0.004126267507672,-0.078611828386784,-0.059426229447126,-0.046992015093565));
res += mul(Get(s0,dx,0), float4x4(0.087593711912632,0.012648664414883,-0.100128002464771,-0.004642505198717,0.079856649041176,0.010832165367901,0.024088254198432,0.064529336988926,0.074040114879608,0.124256417155266,-0.063436225056648,-0.071440152823925,-0.021428726613522,-0.005285901483148,-0.072475418448448,-0.035327728837729));
res += mul(Get(s0,dx,dy), float4x4(0.125321716070175,0.077144145965576,-0.153380095958710,-0.059997066855431,0.019951898604631,-0.049374036490917,0.010412344709039,-0.056410785764456,0.007781429216266,-0.019922129809856,-0.047768302261829,-0.064743757247925,0.050274074077606,0.019535815343261,0.007402697578073,-0.032771497964859));
res += mul(Get(s1,-dx,-dy), float4x4(-0.034409429877996,0.117360956966877,0.078744113445282,0.084569089114666,-0.079426221549511,-0.012819224968553,0.221930906176567,0.023602018132806,-0.187367737293243,-0.048494171351194,0.014274137094617,-0.006221479736269,0.020580928772688,0.024510124698281,-0.069278940558434,-0.031752444803715));
res += mul(Get(s1,-dx,0), float4x4(-0.033289365470409,0.004287797491997,0.007431125268340,0.073777809739113,-0.134758144617081,0.012661654502153,0.022567884996533,0.136183768510818,-0.008243761025369,0.112801983952522,0.042645480483770,-0.025498921051621,0.002759143710136,0.025519246235490,-0.034267209470272,-0.003291695611551));
res += mul(Get(s1,-dx,dy), float4x4(-0.079964436590672,0.043554294854403,0.002816072199494,0.004078404977918,-0.022606220096350,-0.027388086542487,-0.122761145234108,0.153239816427231,0.010646507143974,-0.011013650335371,0.048473808914423,-0.047870457172394,0.006509265862405,0.082063771784306,-0.029908981174231,0.000893114425708));
res += mul(Get(s1,0,-dy), float4x4(0.010376715101302,0.059510026127100,-0.055369336158037,-0.036760967224836,0.064756080508232,-0.038042668253183,0.040268797427416,0.051333796232939,-0.048098683357239,-0.048206970095634,0.137087255716324,-0.099868178367615,-0.013397777453065,0.035435751080513,-0.035065174102783,-0.035868592560291));
res += mul(Get(s1,0,0), float4x4(0.074710987508297,0.034258414059877,0.077061541378498,0.042320445179939,-0.041341871023178,-0.114679902791977,-0.090455792844296,-0.118321999907494,-0.082700669765472,0.102238722145557,-0.066661253571510,-0.009781199507415,-0.031251214444637,0.014480457641184,0.000328598223859,0.007921800017357));
res += mul(Get(s1,0,dy), float4x4(-0.038249541074038,0.039169043302536,0.025893798097968,0.000645470980089,0.059808302670717,0.130936875939369,0.143544673919678,0.048860535025597,0.025785133242607,-0.041715908795595,-0.051742680370808,-0.079466402530670,0.018442766740918,0.054198272526264,-0.036175519227982,0.024348365142941));
res += mul(Get(s1,dx,-dy), float4x4(-0.001803862280212,-0.020829424262047,0.021443149074912,-0.016155434772372,-0.063017852604389,0.030871102586389,0.007889724336565,0.056026715785265,-0.164006859064102,0.003630381776020,0.102694302797318,-0.059804931282997,0.031725946813822,-0.058902662247419,-0.098772495985031,-0.015141388401389));
res += mul(Get(s1,dx,0), float4x4(0.023033736273646,-0.015763310715556,0.048754688352346,-0.073749355971813,0.057057101279497,-0.001871540443972,0.387566924095154,0.095679968595505,-0.029406022280455,0.119102559983730,0.061723113059998,-0.031109528616071,0.003740374697372,-0.017615208402276,-0.042210571467876,0.035497747361660));
res += mul(Get(s1,dx,dy), float4x4(-0.034896396100521,-0.019918296486139,0.092515081167221,-0.048502709716558,0.011101960204542,0.034318007528782,-0.092330724000931,-0.000425926147727,-0.049740616232157,0.004017015919089,0.161972984671593,-0.121810548007488,0.066051565110683,-0.014865051023662,-0.045440025627613,0.027017470449209));
res += mul(Get(s2,-dx,-dy), float4x4(-0.060772228986025,-0.155512660741806,0.021226080134511,0.061167016625404,0.009751949459314,0.197343409061432,0.013514126650989,0.072277642786503,0.003743717912585,0.003865522099659,0.000692001660354,0.002385755535215,-0.156798794865608,0.081187084317207,-0.013165977783501,0.002704222220927));
res += mul(Get(s2,-dx,0), float4x4(0.066424652934074,-0.065069049596786,0.154377833008766,-0.073933787643909,0.026449274271727,0.019763927906752,0.039302479475737,0.008504570461810,0.003821756923571,-0.000854934100062,0.001247592503205,-0.001533450442366,-0.015350500121713,-0.154270172119141,0.169279456138611,0.167376786470413));
res += mul(Get(s2,-dx,dy), float4x4(-0.092818900942802,0.059493009001017,-0.000049946647778,0.004841383080930,0.044505380094051,-0.045401677489281,0.030725751072168,-0.008383577689528,-0.004649541806430,0.009058211930096,-0.001250343979336,-0.000041333594709,0.011998203583062,0.056341212242842,-0.042492333799601,-0.036768518388271));
res += mul(Get(s2,0,-dy), float4x4(-0.065969094634056,0.216369003057480,-0.094140231609344,0.033386252820492,-0.003699771594256,0.163613930344582,-0.035250566899776,-0.020903352648020,-0.011896815150976,0.001975190825760,-0.003861966775730,-0.000293944496661,-0.045041400939226,0.064541921019554,0.059790540486574,0.035558659583330));
res += mul(Get(s2,0,0), float4x4(0.021196221932769,-0.183548122644424,-0.051519844681025,0.063140250742435,-0.024655083194375,-0.079525157809258,0.130754470825195,0.282911270856857,0.003585171652958,-0.006998508702964,-0.001075298641808,-0.002736512804404,0.181032642722130,-0.018131015822291,-0.060945481061935,0.129097118973732));
res += mul(Get(s2,0,dy), float4x4(-0.014284718781710,0.154086083173752,0.087569758296013,0.088381640613079,0.059931181371212,-0.063749052584171,0.264940142631531,-0.002177951857448,0.003892911830917,0.001210484537296,0.001180145191029,-0.002489023143426,0.000908130488824,-0.053916919976473,-0.026964709162712,-0.113485001027584));
res += mul(Get(s2,dx,-dy), float4x4(0.013059117831290,-0.054721139371395,0.048951942473650,0.008839845657349,0.117268599569798,0.044827807694674,-0.035409338772297,-0.022072408348322,0.003920394927263,0.001189269125462,0.001222143997438,-0.000111560977530,-0.128813937306404,-0.003927760291845,-0.028439242392778,-0.064635679125786));
res += mul(Get(s2,dx,0), float4x4(0.031555268913507,0.083880022168159,0.056711860001087,0.092335790395737,0.049140606075525,0.054047912359238,-0.116264164447784,-0.054160758852959,0.006215310655534,-0.000407280051149,0.002955986186862,0.001137303886935,0.202649578452110,-0.051604632288218,0.005106776952744,0.033533126115799));
res += mul(Get(s2,dx,dy), float4x4(0.063806623220444,0.078974761068821,-0.133891031146049,-0.008927742019296,-0.014035482890904,0.080878205597401,-0.054015852510929,-0.090909473598003,0.001296088914387,0.001502321218140,-0.000889315968379,-0.003133134683594,0.099918201565742,0.047559469938278,0.052848432213068,-0.105149231851101));
res += mul(Get(s3,-dx,-dy), float4x4(0.018711946904659,-0.157671481370926,-0.107602640986443,-0.042658772319555,-0.041963528841734,-0.018908485770226,-0.054203588515520,-0.115654960274696,0.126679405570030,-0.032262720167637,0.015601619146764,0.057054754346609,-0.003860838711262,0.089944168925285,-0.048677317798138,-0.020508857443929));
res += mul(Get(s3,-dx,0), float4x4(-0.025166666135192,0.037101857364178,-0.039077699184418,-0.002079391386360,-0.014465599320829,0.034150779247284,0.058313600718975,-0.092854090034962,0.107401318848133,0.016623532399535,-0.007343150675297,0.030342582613230,0.028296867385507,0.009088932536542,-0.063000299036503,0.033919490873814));
res += mul(Get(s3,-dx,dy), float4x4(-0.017981972545385,-0.002470013219863,-0.050136331468821,-0.027765868231654,0.021538237109780,-0.148577213287354,0.078475698828697,0.041605457663536,0.031277131289244,0.020985225215554,-0.066150695085526,-0.008781464770436,0.025897493585944,0.071564361453056,-0.036594107747078,0.045460212975740));
res += mul(Get(s3,0,-dy), float4x4(-0.059970259666443,0.028521848842502,-0.064604394137859,-0.062929809093475,0.074837110936642,0.122961036860943,-0.059751976281404,-0.038258045911789,0.068763546645641,0.001148858224042,0.065857857465744,-0.010559150017798,0.002933439798653,0.007087473291904,0.004827845375985,-0.045201614499092));
res += mul(Get(s3,0,0), float4x4(-0.015649231150746,0.049314796924591,0.080071263015270,0.045985236763954,-0.017168665304780,-0.055709794163704,-0.023232018575072,-0.097500428557396,0.090321056544781,0.045600496232510,0.147220522165298,-0.050771154463291,0.088501557707787,-0.036541569977999,0.048250339925289,-0.009154343977571));
res += mul(Get(s3,0,dy), float4x4(-0.013424765318632,-0.015314763411880,-0.027231158688664,0.057008367031813,-0.037563771009445,-0.021588712930679,-0.044398389756680,-0.065838150680065,-0.004736964590847,0.008797582238913,0.060263980180025,-0.069435581564903,0.024583594873548,-0.012704527936876,-0.043661404401064,-0.055331431329250));
res += mul(Get(s3,dx,-dy), float4x4(-0.036754082888365,-0.014338753186166,-0.015032662078738,0.023346476256847,0.020614529028535,0.158501312136650,0.009915499947965,-0.028649458661675,0.054144568741322,-0.002835418097675,-0.064410828053951,-0.170160368084908,0.021895045414567,0.033226873725653,-0.031362127512693,0.008861100301147));
res += mul(Get(s3,dx,0), float4x4(0.006513469386846,0.051727242767811,0.002792759332806,-0.014288787730038,-0.014327645301819,-0.101213455200195,-0.029652418568730,-0.042316850274801,0.002856216160581,-0.043661326169968,-0.020878465846181,0.001978881657124,0.041509598493576,-0.043028108775616,-0.057394161820412,-0.086041949689388));
res += mul(Get(s3,dx,dy), float4x4(0.007990647107363,0.095407783985138,-0.027557434514165,-0.071535877883434,0.120576575398445,-0.044690880924463,-0.068317666649818,0.028112262487411,-0.069165319204330,-0.127128675580025,0.021602559834719,-0.089091718196869,-0.059355184435844,-0.017506215721369,0.008187618106604,-0.078303307294846));
return max(float4(0,0,0,0), res);
}
