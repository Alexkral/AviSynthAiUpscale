sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.050172924995422,0.132800877094269,-0.066736131906509,-0.022120095789433,0.012017296627164,-0.056572902947664,0.027851110324264,0.092732422053814,0.020767502486706,-0.065155304968357,-0.086100295186043,-0.016267403960228,-0.038141939789057,-0.065252237021923,-0.181633487343788,-0.073919840157032));
res += mul(Get(s0,-dx,0), float4x4(0.003239257493988,-0.059857811778784,0.048992212861776,0.057349599897861,-0.125810876488686,-0.171000793576241,-0.151762962341309,-0.031384740024805,0.098104812204838,0.066096574068069,-0.003042137715966,-0.013383219949901,0.013917102478445,-0.058628130704165,-0.120609119534492,0.059854991734028));
res += mul(Get(s0,-dx,dy), float4x4(0.002702118130401,-0.179595813155174,-0.021782873198390,-0.021492796018720,-0.074127674102783,0.130482807755470,0.098481945693493,0.038524270057678,-0.032232712954283,0.048041537404060,-0.052056085318327,-0.033738914877176,0.087294615805149,0.033421706408262,0.061360996216536,0.023390632122755));
res += mul(Get(s0,0,-dy), float4x4(-0.107271380722523,0.119832493364811,0.105559244751930,0.013441978022456,0.047302663326263,0.010595767758787,0.076343476772308,-0.003782882820815,-0.032574977725744,0.099312059581280,0.038541860878468,-0.147083654999733,0.040936395525932,0.024296686053276,0.116342842578888,0.013792514801025));
res += mul(Get(s0,0,0), float4x4(-0.171715363860130,0.062322080135345,0.072134301066399,-0.146579489111900,0.111493118107319,0.038800872862339,-0.049711938947439,-0.161904022097588,-0.100055791437626,0.138391494750977,0.057587664574385,-0.085456460714340,-0.004094807896763,0.037919782102108,-0.044559001922607,0.058516684919596));
res += mul(Get(s0,0,dy), float4x4(-0.014665320515633,0.104683883488178,-0.057320117950439,-0.058640129864216,-0.003117247251794,0.104043424129486,-0.133821368217468,-0.071201354265213,0.003378614317626,-0.030760373920202,-0.124878741800785,-0.020488863810897,-0.056427650153637,0.043864440172911,-0.033471435308456,0.064521834254265));
res += mul(Get(s0,dx,-dy), float4x4(0.011892161332071,0.098493218421936,-0.084760330617428,0.033879030495882,0.006083883345127,0.094613455235958,0.021317349746823,-0.109787814319134,0.088545456528664,-0.030440134927630,-0.052315525710583,0.030968258157372,0.005384616088122,0.083410613238811,0.015561594627798,-0.041621953248978));
res += mul(Get(s0,dx,0), float4x4(0.079940892755985,0.094778157770634,0.029089646413922,0.015619999729097,-0.039793711155653,0.020603226497769,-0.030913574621081,0.018957586959004,-0.075772158801556,0.044373478740454,-0.032556403428316,-0.041171543300152,0.037777230143547,-0.118848346173763,0.062560662627220,-0.120008140802383));
res += mul(Get(s0,dx,dy), float4x4(-0.074257202446461,0.070011459290981,-0.045300144702196,-0.081343367695808,-0.165208771824837,-0.058568019419909,-0.033161982893944,0.038458656519651,-0.099896967411041,0.082721710205078,-0.140858575701714,-0.077756665647030,-0.047533895820379,0.006379326805472,0.068394251167774,-0.100476235151291));
res += mul(Get(s1,-dx,-dy), float4x4(0.051041264086962,0.054417565464973,0.128725454211235,0.121909797191620,-0.003853365546092,-0.019198980182409,0.010768432170153,-0.005545408930629,0.049575261771679,0.038413289934397,-0.119868256151676,-0.015939652919769,-0.072841286659241,0.012619142420590,0.116285748779774,0.022679453715682));
res += mul(Get(s1,-dx,0), float4x4(0.070351310074329,-0.207036420702934,0.007617833558470,0.099316239356995,0.004713464528322,0.168353259563446,-0.083863101899624,-0.050492923706770,-0.036441531032324,0.024219838902354,-0.020302893593907,-0.023030001670122,0.000779740570579,-0.023104896768928,0.036764066666365,0.045467704534531));
res += mul(Get(s1,-dx,dy), float4x4(0.047720171511173,0.122166119515896,-0.149718344211578,-0.129145368933678,-0.011350292712450,0.068339325487614,-0.087988436222076,-0.097573094069958,-0.108298033475876,-0.053451221436262,0.014389304444194,0.037390977144241,0.035708405077457,-0.172274455428123,-0.036857582628727,-0.035189080983400));
res += mul(Get(s1,0,-dy), float4x4(0.113859668374062,0.123479470610619,0.244600430130959,-0.043576497584581,-0.091669097542763,0.138064041733742,-0.117866761982441,-0.056878998875618,-0.101365327835083,0.045732565224171,0.044053398072720,0.022449782118201,0.094654224812984,0.163978174328804,-0.012420481070876,-0.196690082550049));
res += mul(Get(s1,0,0), float4x4(-0.133780822157860,-0.203215301036835,0.004742302466184,-0.073888204991817,-0.033406715840101,0.193794205784798,0.059957731515169,0.211961641907692,0.068689636886120,0.166703745722771,-0.036074254661798,0.037703629583120,0.006641916930676,0.173611596226692,0.120733588933945,-0.117757230997086));
res += mul(Get(s1,0,dy), float4x4(0.074387580156326,0.013453066349030,-0.102202996611595,0.026727283373475,-0.106489151716232,0.107378527522087,-0.049961309880018,0.014503043144941,0.003688654629514,0.007020826451480,-0.018143152818084,-0.041987184435129,-0.023304803296924,0.176176398992538,-0.005748303141445,0.004640967119485));
res += mul(Get(s1,dx,-dy), float4x4(-0.048154421150684,0.014849986881018,0.067121848464012,-0.020476192235947,0.106558337807655,-0.014910016208887,-0.130273714661598,0.124738991260529,0.115357041358948,0.091608755290508,-0.052883658558130,0.030828474089503,0.112494401633739,0.054512277245522,0.051205787807703,-0.190102845430374));
res += mul(Get(s1,dx,0), float4x4(-0.102598980069160,0.184117540717125,0.049275379627943,-0.054810971021652,-0.048730850219727,-0.064636230468750,0.060412820428610,-0.019201993942261,0.040445048362017,0.073983490467072,-0.021360510960221,-0.055959828197956,-0.034520376473665,-0.054039459675550,-0.018932117149234,-0.009939587675035));
res += mul(Get(s1,dx,dy), float4x4(-0.129527494311333,-0.149527430534363,-0.014024427160621,0.177958220243454,0.072574436664581,-0.060928110033274,-0.014910735189915,0.118160918354988,-0.152945339679718,-0.012755344621837,0.010875611566007,0.070965237915516,-0.122752897441387,-0.017002128064632,-0.058010283857584,0.153751224279404));
res += mul(Get(s2,-dx,-dy), float4x4(0.051438290625811,0.095645070075989,0.142908886075020,-0.036535937339067,0.176166370511055,0.194300860166550,-0.033718414604664,0.121402643620968,0.055693045258522,0.096841461956501,0.003802164224908,-0.056034777313471,0.046229917556047,0.006398700177670,-0.045923378318548,-0.082608401775360));
res += mul(Get(s2,-dx,0), float4x4(-0.025994274765253,0.072675965726376,0.027441402897239,-0.053784716874361,0.017538348212838,-0.063261002302170,0.090347766876221,-0.145378723740578,0.138540938496590,-0.029043810442090,-0.029267054051161,0.093694977462292,-0.116520926356316,0.086834304034710,-0.065641701221466,-0.130488291382790));
res += mul(Get(s2,-dx,dy), float4x4(-0.032168377190828,0.072947077453136,0.077647708356380,-0.097170643508434,0.062021445482969,-0.044348981231451,0.022969812154770,0.031117100268602,0.063935771584511,0.115332327783108,-0.035060759633780,-0.123996004462242,-0.095128819346428,0.043339781463146,-0.007178538478911,0.088191770017147));
res += mul(Get(s2,0,-dy), float4x4(-0.079261474311352,-0.035593606531620,0.027705445885658,-0.050085093826056,-0.075175002217293,-0.009731144644320,0.114178106188774,0.062159419059753,-0.038608349859715,0.005250740330666,-0.069961167871952,-0.012523717246950,-0.109455578029156,0.087001174688339,-0.085872508585453,-0.106957808136940));
res += mul(Get(s2,0,0), float4x4(-0.073182933032513,0.221835106611252,-0.065609194338322,-0.126571401953697,-0.137740805745125,-0.019286211580038,-0.040955770760775,0.013111574575305,0.010275751352310,-0.011813420802355,0.040045842528343,0.104982651770115,0.016063280403614,-0.016258958727121,-0.061843991279602,0.038865525275469));
res += mul(Get(s2,0,dy), float4x4(0.062856115400791,-0.003148000687361,0.142492130398750,0.049798641353846,-0.091585122048855,0.011106449179351,0.030078442767262,0.110230848193169,0.067326456308365,0.043115194886923,-0.084888510406017,0.040556389838457,-0.016020782291889,0.100850194692612,-0.003758891019970,-0.102474287152290));
res += mul(Get(s2,dx,-dy), float4x4(-0.011663216166198,0.033603314310312,0.084001936018467,-0.031373232603073,0.041449636220932,0.059104513376951,-0.020052438601851,-0.063299894332886,0.015790695324540,-0.045462612062693,0.043661907315254,0.000943035294767,0.094054192304611,0.041517395526171,-0.102468900382519,0.043990675359964));
res += mul(Get(s2,dx,0), float4x4(-0.058920480310917,-0.023041294887662,-0.141845092177391,-0.053583376109600,0.025251310318708,0.196712583303452,-0.125991955399513,-0.010127327404916,0.104204185307026,-0.162716165184975,-0.002575434977189,0.023567570373416,-0.036066241562366,0.059682201594114,-0.123707957565784,0.029278460890055));
res += mul(Get(s2,dx,dy), float4x4(0.037827886641026,-0.004008379764855,-0.050192717462778,-0.036025054752827,0.034956108778715,0.159215033054352,0.025220567360520,0.075461201369762,0.086818657815456,-0.047602765262127,-0.016129333525896,-0.060787335038185,0.014322197996080,-0.104671567678452,-0.189300000667572,0.033071864396334));
res += mul(Get(s3,-dx,-dy), float4x4(-0.015087352134287,0.006007335148752,0.039138711988926,-0.022982696071267,0.158014073967934,-0.022301431745291,-0.026759941130877,0.051986753940582,0.038301393389702,-0.206896454095840,0.010200584307313,-0.087468452751637,-0.022810921072960,0.064262330532074,0.099587708711624,-0.020754594355822));
res += mul(Get(s3,-dx,0), float4x4(0.083436116576195,-0.006633739452809,-0.066953040659428,0.096976205706596,0.083341211080551,0.142673254013062,-0.067562885582447,0.048459306359291,-0.056618366390467,0.054362762719393,-0.024530250579119,-0.107511363923550,0.002422045916319,-0.060632094740868,-0.126196160912514,0.026273790746927));
res += mul(Get(s3,-dx,dy), float4x4(0.077261619269848,-0.046006966382265,0.016464959830046,0.062895871698856,-0.107681162655354,0.113677360117435,-0.091257140040398,0.039156597107649,-0.007959641516209,0.236629530787468,0.032031293958426,0.092423588037491,0.070091858506203,0.007489669602364,0.022451676428318,-0.011487766169012));
res += mul(Get(s3,0,-dy), float4x4(0.010677866637707,-0.014650196768343,-0.026986252516508,-0.083674326539040,0.163971304893494,0.144220888614655,-0.081164024770260,-0.001848467742093,0.195203155279160,0.006109846290201,-0.066248267889023,-0.084860920906067,-0.006195688154548,-0.020515900105238,0.109731584787369,-0.039862029254436));
res += mul(Get(s3,0,0), float4x4(-0.038904588669538,-0.024826120585203,0.059520505368710,-0.031879179179668,0.008099962957203,-0.100884228944778,0.140295058488846,-0.091112971305847,0.167112976312637,0.139726623892784,-0.014336480759084,0.076772004365921,0.038103960454464,-0.052293684333563,0.001368639408611,0.124159812927246));
res += mul(Get(s3,0,dy), float4x4(-0.021496620029211,-0.019395036622882,0.030155114829540,0.032234627753496,-0.024862864986062,0.151612281799316,-0.117023997008801,0.126162409782410,0.071239024400711,0.062153089791536,0.104967273771763,0.174805685877800,-0.006007992662489,0.007561679929495,0.013171056285501,0.004786545876414));
res += mul(Get(s3,dx,-dy), float4x4(-0.024828782305121,-0.055202376097441,0.103254765272141,-0.026436025276780,0.028324065729976,-0.057564519345760,0.048865042626858,0.023152491077781,0.036482907831669,-0.121480405330658,-0.017716664820910,-0.053943432867527,0.015197438187897,-0.103928871452808,0.068892590701580,0.001928188023157));
res += mul(Get(s3,dx,0), float4x4(0.045610230416059,-0.083629436790943,0.014052505604923,0.081380777060986,-0.049916986376047,-0.169930085539818,0.043003797531128,-0.065821081399918,0.025044066831470,0.027469722554088,-0.045711979269981,0.130795970559120,-0.140393331646919,-0.114925794303417,0.161683022975922,-0.026590965688229));
res += mul(Get(s3,dx,dy), float4x4(0.073128029704094,-0.052584495395422,0.036054447293282,-0.084544315934181,-0.017109965905547,-0.001725733513013,0.016732335090637,-0.060525000095367,-0.052646663039923,-0.042681749910116,0.001671617617831,0.024704603478312,0.098349615931511,-0.100816510617733,0.066957987844944,-0.103968709707260));
return max(float4(0,0,0,0), res);
}
