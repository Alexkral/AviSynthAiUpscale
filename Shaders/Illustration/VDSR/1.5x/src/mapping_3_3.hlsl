sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.130980119109154,0.041778262704611,0.072057873010635,-0.015059916302562,-0.058977797627449,0.002161094220355,0.076446816325188,0.002086387248710,-0.087633773684502,0.011376762762666,-0.036258086562157,0.061857927590609,-0.130232363939285,0.010104862973094,-0.018119961023331,-0.071084320545197));
res += mul(Get(s0,-dx,0), float4x4(-0.166386589407921,0.085617452859879,-0.054332565516233,-0.090252250432968,0.015565757639706,0.103123523294926,-0.061151072382927,-0.030625227838755,0.083666503429413,0.034021556377411,-0.084186375141144,-0.123742461204529,0.123587317764759,0.030792014673352,0.038436885923147,-0.010828322730958));
res += mul(Get(s0,-dx,dy), float4x4(0.124758385121822,-0.062169667333364,-0.017428141087294,-0.103128567337990,-0.062066256999969,0.053182628005743,0.060585089027882,-0.011550581082702,0.094661928713322,0.095713168382645,-0.053810510784388,-0.066448368132114,-0.020670222118497,0.061476364731789,0.015254842117429,0.004270611796528));
res += mul(Get(s0,0,-dy), float4x4(-0.017997283488512,-0.060076378285885,0.060074865818024,-0.176693707704544,0.016516918316483,-0.209706872701645,-0.036881718784571,0.047788146883249,0.012036371976137,-0.110099151730537,-0.100023038685322,-0.030465018004179,0.068167336285114,0.026448806747794,-0.175468012690544,0.124463155865669));
res += mul(Get(s0,0,0), float4x4(-0.135709688067436,0.017809690907598,-0.185838609933853,0.037063986063004,0.063608199357986,-0.022738642990589,0.075549632310867,-0.050242595374584,-0.138428702950478,0.118936374783516,-0.011548481881618,-0.094326347112656,-0.052197709679604,-0.074105322360992,-0.056498713791370,0.029011188074946));
res += mul(Get(s0,0,dy), float4x4(0.117450788617134,-0.072601512074471,-0.062885403633118,-0.114816457033157,-0.095881514251232,0.041407778859138,0.040110960602760,-0.074506431818008,0.133229896426201,0.008623921312392,-0.025433443486691,0.090696416795254,0.045466817915440,-0.049642059952021,-0.030141189694405,-0.046529386192560));
res += mul(Get(s0,dx,-dy), float4x4(0.020902538672090,-0.047401934862137,-0.020188501104712,-0.042032945901155,-0.022392531856894,0.111578904092312,0.036359261721373,-0.075123146176338,0.027798391878605,-0.078145056962967,-0.035777427256107,0.107845552265644,0.062010794878006,-0.055155139416456,-0.040666725486517,0.059936471283436));
res += mul(Get(s0,dx,0), float4x4(-0.075590252876282,-0.225586891174316,-0.087385587394238,0.054751727730036,-0.097503006458282,0.005292436573654,-0.097274541854858,0.043833713978529,0.131902128458023,-0.078782819211483,0.057181179523468,-0.131896197795868,0.075220800936222,-0.042851589620113,-0.098932348191738,0.065285593271255));
res += mul(Get(s0,dx,dy), float4x4(-0.142527922987938,-0.033959139138460,-0.160440281033516,0.094185590744019,0.026895806193352,0.042172078043222,-0.035299394279718,0.046775016933680,-0.028477042913437,-0.008054038509727,-0.071069464087486,0.093020655214787,0.036658350378275,0.026540573686361,-0.003891374915838,0.011589428409934));
res += mul(Get(s1,-dx,-dy), float4x4(0.001850299420767,-0.010892279446125,0.010446591302752,0.172305524349213,0.021837571635842,0.081493571400642,0.034756239503622,0.047594483941793,0.002553022932261,0.042289115488529,0.015660351142287,0.060673084110022,0.032303169369698,0.073043853044510,-0.102860130369663,-0.017553141340613));
res += mul(Get(s1,-dx,0), float4x4(-0.037959605455399,-0.029561404138803,0.113047823309898,-0.016613688319921,0.132575839757919,-0.064137913286686,-0.062108896672726,0.064915306866169,0.056619647890329,0.095985442399979,0.033275000751019,0.128298670053482,0.096372112631798,0.088207319378853,-0.039134562015533,0.075482241809368));
res += mul(Get(s1,-dx,dy), float4x4(-0.020143836736679,-0.074941702187061,0.003695748513564,-0.015543996356428,0.091636218130589,-0.004446299746633,-0.046406455338001,0.073465690016747,-0.107854753732681,0.062879517674446,-0.040535766631365,0.008683317340910,-0.147024348378181,0.071254894137383,-0.121074192225933,0.076225072145462));
res += mul(Get(s1,0,-dy), float4x4(-0.104395173490047,-0.037307247519493,0.057055693119764,0.051470533013344,0.135480985045433,-0.086984232068062,0.011930404230952,0.013537932187319,-0.007457493804395,0.034234423190355,0.153179228305817,-0.034121021628380,-0.057299233973026,-0.036905411630869,0.050688032060862,0.089136861264706));
res += mul(Get(s1,0,0), float4x4(0.052206967025995,0.058263272047043,0.006405213382095,-0.142345383763313,0.021287346258759,-0.066145621240139,-0.041216325014830,-0.103147670626640,-0.080257587134838,0.049282070249319,-0.000316559424391,0.092217616736889,0.004103861749172,0.005689049605280,0.139458864927292,0.055351644754410));
res += mul(Get(s1,0,dy), float4x4(-0.128770813345909,0.012144859880209,-0.144036605954170,-0.016467848792672,0.064172722399235,-0.102163165807724,-0.089454524219036,-0.114412672817707,-0.083395458757877,0.176706984639168,-0.077901206910610,-0.032684881240129,0.038735490292311,0.034768294543028,0.059667482972145,-0.040116701275110));
res += mul(Get(s1,dx,-dy), float4x4(-0.185954630374908,0.087274864315987,-0.123435795307159,-0.022745911031961,-0.032731521874666,-0.072852753102779,-0.043654780834913,0.014984928071499,0.047950219362974,0.044016692787409,-0.108691550791264,0.150729462504387,0.095469847321510,0.020134493708611,-0.021998483687639,0.000044406049710));
res += mul(Get(s1,dx,0), float4x4(0.040079526603222,-0.054167453199625,-0.057917527854443,0.034763321280479,-0.021242773160338,0.024514509364963,-0.046740900725126,0.128718182444572,-0.027053248137236,-0.097497731447220,-0.015091973356903,0.044133961200714,-0.036368437111378,0.155695706605911,0.099507659673691,-0.099237591028214));
res += mul(Get(s1,dx,dy), float4x4(0.014371916651726,0.022774308919907,-0.054165747016668,0.028894599527121,-0.126826196908951,-0.018917601555586,0.055079191923141,0.060134731233120,0.043923672288656,0.020925424993038,-0.047318849712610,-0.069319963455200,-0.045420419424772,-0.110262319445610,0.030833879485726,0.056064371019602));
res += mul(Get(s2,-dx,-dy), float4x4(-0.061283405870199,0.096981361508369,-0.167524248361588,0.038367219269276,0.158967256546021,0.029571598395705,-0.036125037819147,-0.053216867148876,0.075305677950382,-0.036352671682835,-0.015353059396148,-0.047496888786554,-0.071821860969067,0.008089470677078,-0.068672135472298,-0.113028436899185));
res += mul(Get(s2,-dx,0), float4x4(0.149896517395973,0.081665210425854,-0.038613010197878,0.043438207358122,-0.008650803007185,-0.137509271502495,-0.004529308527708,-0.015574893914163,0.044583294540644,-0.048428531736135,-0.197930410504341,-0.081434138119221,-0.036600943654776,0.080502696335316,-0.000553463934921,0.021745868027210));
res += mul(Get(s2,-dx,dy), float4x4(0.047991685569286,-0.042903821915388,-0.026967421174049,-0.088354937732220,0.013015992939472,-0.118911035358906,-0.080675147473812,0.014425790868700,0.031965453177691,-0.062120459973812,-0.021590093150735,0.076362453401089,0.020173776894808,0.159292265772820,-0.085064977407455,0.055104296654463));
res += mul(Get(s2,0,-dy), float4x4(0.095813475549221,0.013864898122847,0.052939627319574,0.106550946831703,-0.050705075263977,-0.078305944800377,-0.076480112969875,-0.082084506750107,0.068777911365032,-0.003968671429902,0.007597634568810,0.023035556077957,0.115733809769154,-0.040310189127922,0.088368654251099,0.002533582504839));
res += mul(Get(s2,0,0), float4x4(-0.088929936289787,-0.060034643858671,-0.024967122823000,0.145054057240486,0.129936218261719,-0.095374874770641,-0.007923739962280,0.129999354481697,0.017439436167479,0.127126574516296,0.001308144652285,0.160114631056786,0.020765049383044,0.074225723743439,0.059779770672321,-0.024584395810962));
res += mul(Get(s2,0,dy), float4x4(0.138162881135941,-0.107373066246510,0.063982546329498,-0.082874320447445,0.020715929567814,-0.030766202136874,0.058061826974154,0.034128930419683,0.033107407391071,-0.000289094081381,-0.050339262932539,-0.024466708302498,0.052226699888706,-0.053542673587799,0.013819200918078,-0.004354409407824));
res += mul(Get(s2,dx,-dy), float4x4(0.103528492152691,0.039764199405909,-0.094357363879681,-0.113965943455696,0.031370505690575,-0.075678654015064,0.063847653567791,-0.056394156068563,-0.065677076578140,0.038734085857868,-0.094092279672623,0.044392626732588,0.039161469787359,-0.091718986630440,-0.003901591291651,-0.150170981884003));
res += mul(Get(s2,dx,0), float4x4(-0.158549129962921,0.128812551498413,0.151992201805115,0.078539930284023,-0.122165665030479,-0.036928195506334,0.144316062331200,-0.001326144440100,-0.000619470025413,0.121379368007183,-0.029837995767593,-0.000796038832050,0.089814744889736,-0.050369970500469,0.107303522527218,0.089854665100574));
res += mul(Get(s2,dx,dy), float4x4(0.070673801004887,-0.038945987820625,0.054253414273262,0.038763508200645,-0.117960982024670,-0.105023302137852,-0.040625587105751,0.143674388527870,-0.075444519519806,0.050203509628773,0.161100894212723,0.034781783819199,0.052536029368639,-0.009204071946442,0.040917128324509,0.023274008184671));
res += mul(Get(s3,-dx,-dy), float4x4(0.076052680611610,-0.196480780839920,-0.032971318811178,-0.003853929461911,0.007383269257843,0.115500286221504,-0.111819677054882,-0.134328216314316,-0.041707307100296,0.052726428955793,-0.145102575421333,0.027890035882592,0.011831590905786,0.065488725900650,-0.026611290872097,-0.097456753253937));
res += mul(Get(s3,-dx,0), float4x4(-0.009447429329157,-0.163345620036125,-0.028019350022078,0.002225091680884,-0.120093643665314,0.031515240669250,-0.071393512189388,0.020036008208990,0.058095198124647,0.100229173898697,0.067446596920490,0.004108329303563,-0.089775793254375,-0.040429882705212,0.091692298650742,-0.012060612440109));
res += mul(Get(s3,-dx,dy), float4x4(-0.035216506570578,-0.015051283873618,0.073526673018932,-0.050043210387230,0.164722710847855,0.114194482564926,0.055590547621250,0.065839074552059,0.002419291529804,-0.035081621259451,-0.059130843728781,0.189258024096489,-0.102951906621456,0.063423126935959,0.016394957900047,0.018958905711770));
res += mul(Get(s3,0,-dy), float4x4(-0.101525507867336,0.056792616844177,0.017804244533181,0.087959803640842,0.015231274999678,-0.073506690561771,-0.053055055439472,-0.152564376592636,-0.048498168587685,-0.076424464583397,0.024863591417670,0.018983451649547,0.172354549169540,0.028959665447474,0.033208124339581,0.142806783318520));
res += mul(Get(s3,0,0), float4x4(0.093666769564152,0.056955676525831,-0.003808899084106,-0.112271279096603,0.024843841791153,0.015306367538869,-0.002185796387494,-0.016476558521390,0.165295228362083,-0.147558078169823,0.060124680399895,0.050930455327034,0.061740536242723,0.026405658572912,0.203135281801224,-0.037240520119667));
res += mul(Get(s3,0,dy), float4x4(0.038486942648888,0.030530877411366,0.005801090970635,-0.058286190032959,-0.084128722548485,-0.006904003210366,-0.037498578429222,-0.042580727487803,0.092762127518654,-0.082497142255306,-0.105797871947289,0.015559174120426,-0.183388456702232,-0.102181576192379,0.028531273826957,0.018668809905648));
res += mul(Get(s3,dx,-dy), float4x4(0.017323955893517,-0.030921198427677,-0.038922891020775,0.082638807594776,-0.059795469045639,0.094327308237553,0.020597876980901,-0.108849354088306,0.063402473926544,-0.070995599031448,0.096509188413620,-0.019977454096079,0.085581772029400,0.037290103733540,0.050432890653610,-0.023101408034563));
res += mul(Get(s3,dx,0), float4x4(0.073893710970879,0.017860690131783,-0.108788602054119,0.010753532871604,-0.075862124562263,-0.058298643678427,0.011366800405085,0.010302779264748,0.072632022202015,-0.023161491379142,0.031924180686474,-0.166390612721443,-0.030164219439030,0.001497102552094,-0.026255482807755,-0.040532507002354));
res += mul(Get(s3,dx,dy), float4x4(0.062916971743107,0.163144826889038,-0.019088311120868,0.034487027674913,0.003750153817236,0.040489081293344,-0.054418887943029,0.099811919033527,0.062820151448250,-0.002327733207494,-0.039859328418970,-0.026653172448277,0.004231167957187,0.131767034530640,0.098269931972027,0.167961567640305));
return max(float4(0,0,0,0), res);
}
