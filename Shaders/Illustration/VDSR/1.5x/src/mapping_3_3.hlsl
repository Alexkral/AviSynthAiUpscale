sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.102758258581161,0.008748104795814,-0.011512708850205,0.014935525134206,0.009475910104811,-0.006519944872707,-0.000927594490349,0.013836001046002,-0.020900374278426,-0.027998318895698,-0.004061887972057,-0.008685186505318,-0.002212911378592,-0.006972772534937,0.002069989219308,-0.002261738525704));
res += mul(Get(s0,-dx,0), float4x4(0.034250125288963,-0.062828071415424,-0.003849302884191,-0.057086747139692,-0.014494020491838,0.003540608799085,-0.009339952841401,0.043066009879112,-0.059543628245592,0.007705542724580,0.005168731790036,-0.029323875904083,-0.030069187283516,-0.027938820421696,-0.001368233351968,-0.010509124957025));
res += mul(Get(s0,-dx,dy), float4x4(0.283841341733932,-0.047330968081951,0.001671871403232,-0.079757452011108,0.089912280440331,-0.037372961640358,-0.000154729423230,-0.038157131522894,-0.003680108813569,-0.026074105873704,-0.003014475805685,0.006789645645767,-0.061522591859102,-0.004103007726371,-0.010093247517943,0.002155634574592));
res += mul(Get(s0,0,-dy), float4x4(0.049637798219919,0.072637952864170,-0.004943053703755,0.024279175326228,0.049299351871014,0.014467248693109,0.001055811299011,0.019593855366111,-0.012063424102962,-0.045238625258207,0.003407327458262,0.016835262998939,0.027197249233723,-0.044261761009693,0.003535767085850,-0.008142595179379));
res += mul(Get(s0,0,0), float4x4(0.023481415584683,-0.050067648291588,-0.002829430857673,0.028180953115225,-0.048320714384317,0.017554892227054,-0.000243507063715,0.001345532597043,-0.051548507064581,0.005957948975265,-0.002182359341532,-0.011459984816611,-0.019353024661541,-0.024686379358172,0.000704691454303,0.001996970735490));
res += mul(Get(s0,0,dy), float4x4(0.144397541880608,-0.038104005157948,0.000901994586457,0.039525594562292,0.093856565654278,0.034630075097084,-0.000049817550462,0.031444869935513,0.066048309206963,-0.031772166490555,0.002142791403458,0.015109493397176,-0.034175522625446,-0.021993109956384,0.000656160176732,-0.006048921030015));
res += mul(Get(s0,dx,-dy), float4x4(0.031333297491074,0.115248277783394,-0.001674080383964,0.096689991652966,-0.014433257281780,-0.015019120648503,-0.003963451832533,0.071810014545918,0.014962926506996,-0.030259588733315,-0.004531966987997,-0.007222664542496,0.054644599556923,0.009565236046910,-0.002535966457799,-0.009601528756320));
res += mul(Get(s0,dx,0), float4x4(0.115647658705711,0.030462866649032,0.002091711852700,-0.051103785634041,0.022094160318375,-0.018356695771217,0.000368647626601,-0.059146262705326,-0.052943173795938,0.010857132263482,-0.003577567404136,-0.009032341651618,-0.035830799490213,0.007979973219335,0.003281961195171,0.000703370315023));
res += mul(Get(s0,dx,dy), float4x4(0.025852337479591,0.022607568651438,0.000332540745148,-0.027153059840202,-0.023133516311646,-0.011617106385529,0.001008577062748,-0.011898484081030,0.054885789752007,-0.004869604017586,-0.003923715092242,0.025795651599765,-0.001572176930495,0.023017074912786,0.001992440549657,0.006310414057225));
res += mul(Get(s1,-dx,-dy), float4x4(-0.043651703745127,-0.080058977007866,-0.003420024644583,-0.013786403462291,0.143346577882767,-0.005831774789840,-0.010414114221931,-0.035456977784634,0.068587742745876,-0.029948960989714,-0.000949585810304,0.019726334139705,-0.001747253932990,0.007192524615675,-0.007746137678623,0.002014170866460));
res += mul(Get(s1,-dx,0), float4x4(0.005111268721521,0.076168715953827,0.003355527529493,-0.053158901631832,-0.146419271826744,-0.142331883311272,-0.004722745157778,0.032852191478014,0.044939290732145,-0.078510478138924,0.002663290128112,-0.121857792139053,-0.027968371286988,0.008619984611869,-0.006903675384820,-0.006140832323581));
res += mul(Get(s1,-dx,dy), float4x4(0.089751295745373,0.002476976718754,-0.010070635937154,-0.021146647632122,-0.037071064114571,0.170039698481560,0.006584106013179,0.066266499459743,0.041541308164597,-0.042128805071115,-0.000961897545494,0.059819620102644,0.002282801084220,-0.007023523561656,0.004282419104129,-0.009432304650545));
res += mul(Get(s1,0,-dy), float4x4(0.086824923753738,-0.026593945920467,-0.002507003257051,-0.007447883486748,-0.129889890551567,0.178785279393196,-0.000063035717176,0.036936257034540,0.127237841486931,0.013638920150697,-0.000195396394702,0.098008051514626,-0.027796845883131,-0.031878303736448,-0.000936987518799,0.009559808298945));
res += mul(Get(s1,0,0), float4x4(-0.085399948060513,0.031662732362747,-0.006900020409375,0.022685885429382,0.219324365258217,0.311241388320923,0.003669340163469,0.074840649962425,-0.112119905650616,0.004289153032005,-0.003235382726416,-0.126928597688675,-0.020290555432439,-0.023999234661460,0.000766724755522,-0.005241842474788));
res += mul(Get(s1,0,dy), float4x4(-0.042250584810972,0.019231582060456,0.005942007061094,0.039603475481272,-0.142187401652336,-0.154751837253571,-0.005074850283563,-0.023006733506918,0.260129332542419,0.270004123449326,-0.001436490449123,0.054844133555889,0.034636057913303,-0.046300392597914,-0.009131120517850,-0.020796077325940));
res += mul(Get(s1,dx,-dy), float4x4(0.068554013967514,0.043093137443066,-0.003439767053351,-0.043775532394648,-0.074301235377789,-0.161286413669586,0.005505617707968,-0.089705362915993,0.049553245306015,0.039202746003866,0.000583033543080,0.202025115489960,0.000051490540500,-0.022418787702918,0.006325906608254,-0.012126696296036));
res += mul(Get(s1,dx,0), float4x4(-0.030104441568255,-0.018998814746737,-0.000956243835390,-0.063844896852970,-0.103658385574818,0.047903820872307,-0.007803968619555,0.347508251667023,0.018443236127496,-0.040800556540489,-0.007358004804701,-0.104572542011738,-0.012079006992280,-0.037048883736134,-0.004533381201327,-0.029472671449184));
res += mul(Get(s1,dx,dy), float4x4(0.002497576642781,-0.074327304959297,-0.003675824264064,0.005706243682653,0.142249047756195,-0.052797894924879,0.000730940198991,-0.193545490503311,-0.112703531980515,-0.040280599147081,-0.003009160514921,0.115967221558094,-0.008630441501737,-0.050433855503798,-0.000148932886077,-0.025590546429157));
res += mul(Get(s2,-dx,-dy), float4x4(-0.009462211281061,0.051952164620161,-0.003287361469120,-0.027383228763938,-0.064628832042217,-0.018557518720627,-0.000343316176441,-0.036230310797691,0.004984900355339,-0.046134214848280,-0.001608444377780,-0.004827680531889,-0.054161440581083,-0.110235154628754,0.000777033332270,0.072868950664997));
res += mul(Get(s2,-dx,0), float4x4(0.020242195576429,0.017480192705989,-0.004309139680117,-0.016620151698589,0.043254889547825,0.035520851612091,-0.003062248229980,-0.071424022316933,0.036366082727909,-0.032899245619774,0.000302327855024,0.028912821784616,0.099827863276005,-0.047284245491028,0.001049816492014,0.056305348873138));
res += mul(Get(s2,-dx,dy), float4x4(0.068166375160217,0.038470692932606,-0.003818466793746,0.005809675902128,0.018778868019581,0.011305128224194,0.007802181411535,-0.013834571465850,0.045584958046675,-0.037200648337603,0.004447225015610,-0.002196162473410,0.069595769047737,0.018665539100766,-0.003361110575497,0.020649498328567));
res += mul(Get(s2,0,-dy), float4x4(0.083652973175049,0.143475562334061,0.006077824160457,0.024803193286061,0.053972527384758,-0.041515916585922,0.006049840711057,0.046778585761786,0.005833545699716,0.018798762932420,-0.000647616863716,-0.023432336747646,-0.018079599365592,0.365338385105133,0.002992833033204,0.065003357827663));
res += mul(Get(s2,0,0), float4x4(0.010965919122100,-0.045854270458221,-0.008026440627873,-0.058114368468523,-0.004584402311593,0.044160574674606,-0.011001635342836,0.014140984974802,0.035541560500860,0.032005187124014,0.000455979723483,-0.000179445807589,-0.119233407080173,0.160691767930984,-0.004257821943611,-0.018364422023296));
res += mul(Get(s2,0,dy), float4x4(-0.022325685247779,0.008775322698057,0.000760696944781,0.117362089455128,-0.001823477912694,-0.010586323216558,-0.002847340889275,0.004702353850007,-0.021710241213441,-0.002589078620076,0.005837552249432,-0.004608601797372,-0.076167292892933,-0.009191664867103,-0.011268011294305,0.035801906138659));
res += mul(Get(s2,dx,-dy), float4x4(-0.040760047733784,0.017195802181959,-0.000947807857301,0.013067571446300,0.004856018815190,-0.017283886671066,-0.000596954603679,-0.070571884512901,-0.022055352106690,0.023688308894634,0.006717005744576,0.002601154148579,-0.047418642789125,0.037902306765318,-0.003030634252355,0.065307579934597));
res += mul(Get(s2,dx,0), float4x4(0.039478965103626,-0.018966315314174,-0.001030620420352,-0.098035402595997,-0.017148859798908,0.068212151527405,-0.001333565334789,0.043454673141241,-0.010271221399307,0.019209368154407,0.007757890969515,0.011415514163673,0.090523637831211,-0.041134722530842,-0.000291722157272,0.080724537372589));
res += mul(Get(s2,dx,dy), float4x4(-0.027881836518645,-0.014426919631660,0.000312921300065,0.014166645705700,0.102660752832890,0.001431665965356,-0.002279840176925,-0.038122251629829,-0.010331189259887,0.001125096576288,0.000153106768266,0.001225948333740,0.080967955291271,0.054273538291454,0.000079351084423,-0.084877721965313));
res += mul(Get(s3,-dx,-dy), float4x4(0.148339152336121,-0.009816206060350,-0.000032758907764,0.019663255661726,-0.001908696023747,0.030047990381718,-0.002706778002903,-0.008382081054151,0.002589222742245,-0.066705770790577,0.003931933082640,-0.035141285508871,0.067929722368717,-0.082244604825974,0.003161407308653,-0.031417056918144));
res += mul(Get(s3,-dx,0), float4x4(-0.249266758561134,-0.037294756621122,-0.004018546547741,-0.117449760437012,0.003147372510284,-0.011529272422194,-0.012394446879625,-0.029382277280092,0.035595990717411,-0.000465987570351,0.002109469147399,-0.053491223603487,0.028979398310184,-0.023034242913127,0.004666114225984,-0.082754522562027));
res += mul(Get(s3,-dx,dy), float4x4(0.076224721968174,-0.016481893137097,-0.002489925827831,0.003084892639890,0.126122683286667,-0.045319948345423,0.001650531776249,-0.051488287746906,-0.019506955519319,-0.010474654845893,-0.002567430958152,0.001768601592630,-0.021450661122799,-0.051428981125355,0.004447235260159,-0.018994636833668));
res += mul(Get(s3,0,-dy), float4x4(-0.012945428490639,0.074028939008713,-0.006857966072857,-0.061723697930574,-0.006615425925702,-0.039149433374405,-0.002970278263092,-0.007027719169855,0.064871579408646,-0.095778644084930,-0.003517220029607,-0.019970931112766,0.097630470991135,0.007505039218813,0.001002150704153,-0.034376807510853));
res += mul(Get(s3,0,0), float4x4(-0.046399008482695,0.076462626457214,0.006382814608514,-0.054328888654709,-0.024172611534595,-0.089698761701584,0.005349241662771,-0.022685853764415,0.014353271573782,0.019246764481068,-0.003422442125157,-0.032956838607788,-0.002264105249196,0.156415566802025,0.000313215627102,-0.035152073949575));
res += mul(Get(s3,0,dy), float4x4(0.357256412506104,0.082413047552109,-0.007247969042510,0.066919393837452,0.114052250981331,-0.005043657496572,-0.006345945410430,-0.049784239381552,-0.016801465302706,-0.010015194304287,-0.002281433204189,-0.017570625990629,-0.017995547503233,-0.043543506413698,0.002954222494736,-0.054712630808353));
res += mul(Get(s3,dx,-dy), float4x4(-0.048511806875467,-0.057425327599049,0.001273510511965,0.068676464259624,0.003528573084623,-0.064051203429699,-0.006030187476426,-0.021677268669009,0.021804552525282,-0.085586719214916,0.000939164718147,-0.030767064541578,0.049311351031065,-0.070224724709988,0.003015989437699,-0.018820395693183));
res += mul(Get(s3,dx,0), float4x4(0.027172727510333,-0.047460228204727,0.000645828142297,-0.043898493051529,-0.037358731031418,-0.086233034729958,0.003578165080398,-0.010140247642994,-0.051097802817822,0.111818447709084,-0.000324565975461,-0.040529299527407,-0.068929843604565,0.001703976187855,0.003240379737690,0.062865331768990));
res += mul(Get(s3,dx,dy), float4x4(-0.007316820789129,-0.087036333978176,-0.005601950455457,0.047196216881275,-0.032599464058876,-0.022122871130705,-0.010371123440564,0.009570006281137,-0.016546815633774,0.046504557132721,0.006186515092850,-0.011781150475144,0.048284426331520,-0.026001119986176,0.000160313589731,-0.026457019150257));
return max(float4(0,0,0,0), res);
}
