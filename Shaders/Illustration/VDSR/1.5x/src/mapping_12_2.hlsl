sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.036162156611681,-0.048546515405178,-0.024192582815886,-0.011753805913031,-0.090407304465771,0.025583110749722,0.051615808159113,0.131770506501198,0.149004563689232,-0.067109227180481,0.066661685705185,-0.092173919081688,0.063675083220005,0.062848441302776,0.003403105074540,-0.019315078854561));
res += mul(Get(s0,-dx,0), float4x4(0.023977862671018,-0.084746502339840,0.039887201040983,-0.098691575229168,-0.119574658572674,-0.053429204970598,0.025544663891196,-0.010414375923574,0.096439674496651,-0.127564430236816,-0.038591232150793,-0.139359667897224,-0.054592669010162,0.133006691932678,-0.027033550664783,-0.030426243320107));
res += mul(Get(s0,-dx,dy), float4x4(0.052702274173498,-0.068704292178154,-0.005346746649593,-0.137063950300217,0.019508952274919,-0.105957709252834,0.061723768711090,-0.066994786262512,0.033690344542265,-0.090224497020245,0.000770069018472,0.077148780226707,-0.067564338445663,0.086503431200981,-0.109396703541279,-0.062910147011280));
res += mul(Get(s0,0,-dy), float4x4(-0.028754636645317,-0.091201670467854,0.113348975777626,0.035346448421478,0.021496383473277,-0.040851663798094,0.042658533900976,0.040562920272350,0.044052951037884,-0.008680414408445,0.073471561074257,-0.015909105539322,-0.007312612142414,0.127435103058815,0.063079044222832,-0.003859253367409));
res += mul(Get(s0,0,0), float4x4(0.008933064527810,-0.083332568407059,0.000561297056265,-0.053625758737326,-0.046341907233000,-0.119405247271061,0.190296098589897,-0.077900387346745,-0.035344030708075,0.105041168630123,-0.083889111876488,-0.034988239407539,0.018441639840603,0.038058955222368,0.096723541617393,0.061518583446741));
res += mul(Get(s0,0,dy), float4x4(-0.044550217688084,-0.020855842158198,-0.002857318380848,-0.053847432136536,-0.015049865469337,-0.086635187268257,-0.050647702068090,-0.047752987593412,0.004369840025902,0.002584133064374,-0.038749031722546,0.153174966573715,0.033326223492622,0.063897624611855,0.046075556427240,0.042718719691038));
res += mul(Get(s0,dx,-dy), float4x4(-0.030005058273673,0.079953148961067,0.018934244289994,0.068764351308346,0.084897458553314,-0.033787406980991,-0.038125898689032,0.010032919235528,0.127748787403107,-0.088207595050335,0.024709871038795,0.040778033435345,0.026850275695324,-0.032624389976263,-0.006941405590624,0.047369051724672));
res += mul(Get(s0,dx,0), float4x4(-0.037747178226709,0.098507091403008,-0.015649056062102,-0.014964099973440,0.047679517418146,-0.030933484435081,0.006378315389156,-0.086184181272984,-0.035283327102661,-0.103409327566624,-0.109671369194984,-0.090508736670017,0.129628330469131,-0.032982517033815,-0.099519811570644,0.041507672518492));
res += mul(Get(s0,dx,dy), float4x4(0.033513035625219,0.082599885761738,-0.039570592343807,0.007751071825624,-0.000258734478848,0.100079029798508,-0.129363209009171,0.081793636083603,-0.032285526394844,0.033454891294241,-0.033962406218052,-0.059983272105455,0.028384461998940,-0.018003378063440,-0.027713336050510,-0.000705709680915));
res += mul(Get(s1,-dx,-dy), float4x4(0.016872640699148,0.019944570958614,-0.034101899713278,-0.047341071069241,0.030732758343220,-0.020463768392801,-0.000237979169469,0.026617852970958,0.034338209778070,0.084688507020473,-0.052052412182093,-0.020614475011826,-0.021147869527340,0.039490222930908,-0.116096653044224,-0.152093842625618));
res += mul(Get(s1,-dx,0), float4x4(0.029671622440219,0.031056383624673,0.052519977092743,0.086834102869034,0.130864605307579,0.011781092733145,0.017163235694170,-0.070085905492306,0.202395349740982,0.000421846751124,0.077618099749088,-0.078513063490391,0.076693259179592,-0.026806946843863,-0.004215011838824,0.022462453693151));
res += mul(Get(s1,-dx,dy), float4x4(-0.066983170807362,0.030460972338915,0.017579667270184,-0.015569968149066,0.123106978833675,-0.025163110345602,-0.040452137589455,0.122893534600735,0.096569932997227,0.089082933962345,-0.051298171281815,-0.050240591168404,0.028666686266661,0.002827934222296,-0.033008769154549,-0.020882938057184));
res += mul(Get(s1,0,-dy), float4x4(0.047338329255581,-0.019223274663091,-0.026783768087626,-0.017774436622858,0.015010215342045,-0.015705823898315,0.039942961186171,0.110609836876392,0.045655354857445,-0.032150357961655,-0.007455409038812,0.009224665351212,-0.131547361612320,-0.121396772563457,-0.092614918947220,-0.052605621516705));
res += mul(Get(s1,0,0), float4x4(0.094109430909157,0.014677067287266,-0.037716366350651,0.004801372066140,0.045508515089750,0.015025650151074,0.017832504585385,0.033836334943771,0.072034507989883,0.089179784059525,0.031106600537896,-0.069585926830769,-0.058162074536085,-0.141582518815994,-0.044216755777597,0.108211733400822));
res += mul(Get(s1,0,dy), float4x4(-0.027963861823082,0.053567741066217,-0.003341569099575,0.015472120605409,0.029074212536216,-0.002371781039983,0.010632724501193,0.078787595033646,0.018088921904564,0.059598468244076,-0.066878288984299,0.021460590884089,-0.013834754005075,-0.031501255929470,0.012183967046440,0.076339036226273));
res += mul(Get(s1,dx,-dy), float4x4(0.071517392992973,0.089135311543941,-0.043263114988804,0.013811422511935,-0.126715198159218,0.048176422715187,0.065169729292393,0.061037961393595,-0.045329447835684,0.057687450200319,-0.002106253057718,-0.008811589330435,0.078439250588417,-0.099501103162766,-0.059268102049828,0.036654662340879));
res += mul(Get(s1,dx,0), float4x4(0.016578681766987,0.128096476197243,-0.066607296466827,-0.068239875137806,-0.110288269817829,0.024562414735556,0.093366071581841,0.052356965839863,-0.081539615988731,0.122377648949623,-0.004145673941821,-0.001440691645257,0.023054592311382,-0.095059871673584,0.032806500792503,0.034585952758789));
res += mul(Get(s1,dx,dy), float4x4(-0.030264820903540,0.068568669259548,0.001975897932425,0.027715571224689,0.011058756150305,0.039741277694702,0.028663644567132,0.083633869886398,-0.093089781701565,0.067689679563046,0.004974900744855,0.010146294720471,0.008110012859106,-0.033389575779438,0.047938991338015,0.049979355186224));
res += mul(Get(s2,-dx,-dy), float4x4(-0.021938825026155,0.024188481271267,-0.004030594602227,0.023220114409924,-0.040541827678680,-0.082284599542618,0.047699525952339,-0.001365019823425,0.015162975527346,0.026741933077574,0.025707034394145,0.027121862396598,0.031417474150658,0.016001960262656,0.006873094942421,-0.006416754331440));
res += mul(Get(s2,-dx,0), float4x4(-0.013607678934932,0.008398740552366,0.051378481090069,-0.038483172655106,0.020455012097955,-0.028623154386878,-0.054235745221376,-0.019695850089192,0.007611981593072,0.082893580198288,-0.017687283456326,0.012161035090685,0.123918905854225,0.069716408848763,-0.037460841238499,-0.008566238917410));
res += mul(Get(s2,-dx,dy), float4x4(-0.033389650285244,-0.039652273058891,0.097622662782669,-0.011317313648760,0.022245733067393,0.041049517691135,-0.030163053423166,0.044155698269606,0.057446338236332,0.081613801419735,-0.046985287219286,0.017449757084250,0.046873234212399,0.019014775753021,0.002967410488054,-0.046024676412344));
res += mul(Get(s2,0,-dy), float4x4(0.062331642955542,0.139209732413292,0.033194020390511,-0.015406125225127,-0.111318066716194,-0.043926917016506,0.193708762526512,0.037490557879210,0.038107160478830,0.009597058407962,0.017810240387917,0.091693185269833,0.050334706902504,0.100172571837902,-0.027981357648969,0.051906533539295));
res += mul(Get(s2,0,0), float4x4(0.149090617895126,-0.016485353931785,0.040357045829296,-0.021365469321609,0.015405767597258,0.103793874382973,-0.003325464902446,-0.060179136693478,0.134498536586761,0.042860098183155,-0.011602037586272,0.051302652806044,-0.040152680128813,0.087033808231354,-0.057162795215845,0.004833538550884));
res += mul(Get(s2,0,dy), float4x4(-0.025637457147241,-0.002358722034842,0.096092566847801,-0.094102501869202,-0.004598631057888,-0.036141600459814,-0.011066125705838,0.031415011733770,0.059872079640627,0.037460092455149,-0.056050378829241,0.046946775168180,0.165828064084053,0.034217461943626,0.004236082080752,0.022097771987319));
res += mul(Get(s2,dx,-dy), float4x4(-0.086679898202419,0.011701323091984,-0.098760828375816,-0.040727499872446,-0.002281113294885,0.025104952976108,0.011165179312229,0.069998733699322,-0.175643190741539,-0.020557424053550,0.026377238333225,-0.001587105100043,0.049627322703600,-0.072125151753426,0.005167919676751,0.006232813000679));
res += mul(Get(s2,dx,0), float4x4(-0.025968866422772,-0.007511741481721,-0.058308891952038,0.090561047196388,0.027510959655046,-0.057381663471460,-0.044005185365677,-0.084036462008953,-0.103870578110218,0.060222100466490,-0.038629002869129,0.059805996716022,0.000741004652809,-0.040146183222532,0.064946420490742,-0.018605103716254));
res += mul(Get(s2,dx,dy), float4x4(0.002203581389040,-0.092431314289570,0.109842047095299,-0.056041814386845,0.045176606625319,0.004002443980426,-0.082224309444427,0.067775614559650,-0.081135384738445,-0.007158122491091,0.037288442254066,-0.003703950904310,-0.117814831435680,0.042283486574888,0.061412610113621,-0.037460375577211));
res += mul(Get(s3,-dx,-dy), float4x4(-0.007539706304669,-0.001385477487929,0.061538044363260,-0.099786601960659,-0.058533973991871,-0.119808971881866,0.040010854601860,0.007659856695682,0.029024118557572,-0.084980674088001,-0.032173287123442,0.206232801079750,-0.006355236750096,-0.105598665773869,-0.043401021510363,-0.109439857304096));
res += mul(Get(s3,-dx,0), float4x4(0.072666466236115,-0.083486393094063,-0.030754281207919,-0.000959976692684,-0.023045204579830,0.011243314482272,-0.036859165877104,-0.044259775429964,0.081981264054775,-0.059073444455862,-0.034200493246317,-0.006127667613328,-0.063979662954807,-0.009370750747621,-0.128099471330643,-0.031795050948858));
res += mul(Get(s3,-dx,dy), float4x4(0.052442222833633,-0.045726485550404,0.006303748581558,0.078857198357582,-0.090374521911144,-0.003522346029058,-0.001051231287420,-0.076889880001545,0.070152111351490,0.012766039930284,-0.041533533483744,0.068635135889053,-0.072008550167084,-0.043698742985725,-0.005687540397048,0.005747598595917));
res += mul(Get(s3,0,-dy), float4x4(-0.087857119739056,-0.014179155230522,0.225852459669113,-0.166151285171509,0.024011507630348,0.015430417843163,0.032902639359236,-0.024993978440762,-0.023977831006050,0.010125716216862,0.093932524323463,0.333522856235504,-0.043957676738501,0.060726784169674,-0.001241169287823,-0.010494307614863));
res += mul(Get(s3,0,0), float4x4(-0.000384607235901,-0.005391777958721,-0.087327085435390,0.069537371397018,0.110489629209042,0.050839681178331,-0.047455728054047,0.064950890839100,-0.021136244758964,-0.015284193679690,-0.037804141640663,-0.108706854283810,-0.076583489775658,0.045294404029846,-0.053632579743862,0.006337311584502));
res += mul(Get(s3,0,dy), float4x4(-0.096369832754135,0.061576273292303,0.037180893123150,0.018071638420224,-0.020766921341419,-0.103921294212341,0.061343871057034,-0.038072071969509,-0.043370593339205,0.029058530926704,-0.019943041726947,-0.006729504093528,-0.081427559256554,-0.029622357338667,-0.006222710479051,0.007248048204929));
res += mul(Get(s3,dx,-dy), float4x4(-0.080915547907352,-0.056432779878378,0.083779320120811,-0.112883873283863,-0.180060952901840,0.030771886929870,-0.043716389685869,-0.015786632895470,-0.094162151217461,-0.025745930150151,0.040111463516951,0.146291241049767,-0.055767152458429,-0.024935821071267,0.016712609678507,0.070432238280773));
res += mul(Get(s3,dx,0), float4x4(-0.100201837718487,0.006491351872683,-0.023949300870299,0.009708285331726,-0.052963458001614,0.028731038793921,-0.088675566017628,0.057981602847576,-0.017359387129545,-0.055329438298941,0.060736346989870,-0.064094573259354,0.034563157707453,-0.112235248088837,0.026502048596740,-0.042163167148829));
res += mul(Get(s3,dx,dy), float4x4(-0.003741179360077,-0.040651146322489,0.103021278977394,-0.025417163968086,0.060465827584267,-0.034162618219852,0.019141811877489,0.083993114531040,-0.023920198902488,-0.018676236271858,-0.019321752712131,-0.023550368845463,-0.031074464321136,-0.137620165944099,-0.035839129239321,-0.041564669460058));
return max(float4(0,0,0,0), res);
}
