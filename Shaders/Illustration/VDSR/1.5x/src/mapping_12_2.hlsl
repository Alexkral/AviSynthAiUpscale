sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.030358856543899,0.053833208978176,0.011933091096580,0.018119784072042,-0.004873606376350,-0.002470090519637,-0.050413332879543,-0.009044139645994,0.008635843172669,-0.059666488319635,-0.029133938252926,-0.050796110183001,0.001553709036671,-0.021125640720129,0.049424219876528,-0.063869014382362));
res += mul(Get(s0,-dx,0), float4x4(-0.018385594710708,-0.035544171929359,-0.032795272767544,-0.148049786686897,0.039567723870277,0.046497691422701,0.062614932656288,0.131096437573433,0.135674551129341,-0.055252574384212,0.087929591536522,-0.111186653375626,0.051381416618824,0.049437738955021,0.004145228769630,0.110283523797989));
res += mul(Get(s0,-dx,dy), float4x4(0.022315967828035,-0.021387176588178,0.046522047370672,-0.002811232581735,-0.030715316534042,-0.022303365170956,-0.086611919105053,-0.017599035054445,0.059965711086988,-0.029777646064758,-0.134066507220268,0.067755877971649,0.069141723215580,-0.039927285164595,0.005588004831225,-0.023132251575589));
res += mul(Get(s0,0,-dy), float4x4(0.053361203521490,0.184369087219238,-0.004107187036425,0.007084440905601,0.023009644821286,-0.005148320924491,0.013883342035115,0.051960099488497,-0.024986391887069,-0.079848714172840,-0.002667286666110,0.144504919648170,-0.020687477663159,0.034639876335859,0.062883213162422,0.022644322365522));
res += mul(Get(s0,0,0), float4x4(-0.028643419966102,0.105982638895512,-0.055610559880733,0.038563873618841,-0.061297431588173,0.028865866363049,0.028591312468052,0.019052067771554,0.106557756662369,-0.066340439021587,-0.129765301942825,-0.097359366714954,0.114293277263641,-0.035827297717333,0.082040138542652,0.234760075807571));
res += mul(Get(s0,0,dy), float4x4(0.053092192858458,0.087267428636551,0.067378625273705,0.079411499202251,-0.063559018075466,0.085644289851189,0.007092318963259,-0.022137036547065,-0.054941441863775,-0.021019497886300,-0.082336798310280,0.165671959519386,0.151694059371948,-0.041114237159491,0.021632265299559,0.008738869801164));
res += mul(Get(s0,dx,-dy), float4x4(0.036830224096775,0.041727263480425,-0.018898999318480,-0.054492466151714,0.021027160808444,0.065643146634102,0.022691735997796,-0.057095050811768,-0.019978566095233,-0.137079939246178,0.038066707551479,-0.029644358903170,-0.113576576113701,-0.070472136139870,-0.021317580714822,0.027537789195776));
res += mul(Get(s0,dx,0), float4x4(-0.003543081926182,-0.058928947895765,-0.056118365377188,0.002751553431153,-0.048184603452682,-0.027078785002232,-0.090676449239254,0.051917884498835,-0.026961818337440,-0.007362601812929,0.025123653933406,0.027430573478341,0.108861073851585,-0.011331698857248,-0.103435024619102,0.121778905391693));
res += mul(Get(s0,dx,dy), float4x4(-0.001140251406468,-0.009312172420323,-0.037462525069714,0.073276966810226,0.029909532517195,-0.011202781461179,0.038824480026960,-0.081895984709263,-0.071305014193058,-0.088386103510857,-0.064701937139034,0.173389062285423,-0.067629307508469,-0.066175967454910,0.010728886350989,-0.022227231413126));
res += mul(Get(s1,-dx,-dy), float4x4(-0.047633010894060,-0.107048906385899,-0.011384857818484,0.017916530370712,-0.061527840793133,0.062992095947266,0.020836126059294,0.064058080315590,0.193955391645432,-0.024466492235661,0.114262878894806,-0.006968937348574,0.061990059912205,-0.039096042513847,-0.030895508825779,0.049693163484335));
res += mul(Get(s1,-dx,0), float4x4(-0.066655553877354,0.040559083223343,0.074345774948597,0.014363893307745,0.007114776410162,0.014641311019659,0.067614734172821,0.022162465378642,0.046196080744267,0.053115803748369,0.180448561906815,0.075039356946945,0.009614137001336,-0.014774908311665,0.005353042855859,0.054108563810587));
res += mul(Get(s1,-dx,dy), float4x4(-0.014428453519940,-0.019480066373944,0.006928593385965,0.040551688522100,-0.111287727952003,0.110594511032104,0.010069181211293,0.079343050718307,0.069693520665169,0.082556530833244,0.116710327565670,0.189593628048897,-0.030593249946833,-0.065705463290215,0.007704995106906,0.043887622654438));
res += mul(Get(s1,0,-dy), float4x4(-0.008697098121047,0.090818516910076,0.027511740103364,0.042476326227188,-0.020349290221930,-0.021242542192340,-0.002949164714664,0.021970342844725,0.131961256265640,-0.058222692459822,-0.080066300928593,-0.096409782767296,-0.033514056354761,-0.000709566695150,-0.102073334157467,-0.024628648534417));
res += mul(Get(s1,0,0), float4x4(-0.027809631079435,0.065883740782738,0.005103377625346,-0.036159899085760,0.056027133017778,-0.088078632950783,-0.016649298369884,-0.075914196670055,-0.253344893455505,0.046428252011538,-0.097061820328236,-0.000527284224518,-0.024268155917525,-0.000466714147478,0.004118366166949,-0.055966921150684));
res += mul(Get(s1,0,dy), float4x4(0.018443001434207,-0.096421599388123,0.012914806604385,0.023411350324750,-0.007722780574113,0.025457397103310,0.035102918744087,0.012029770761728,0.091124795377254,0.035263918340206,0.005255423020571,0.040157098323107,-0.042858034372330,0.068423695862293,-0.035281345248222,0.000342762126820));
res += mul(Get(s1,dx,-dy), float4x4(-0.027948984876275,0.039716724306345,-0.029503924772143,0.065118946135044,0.045018021017313,-0.005968127399683,-0.015215490013361,-0.094747006893158,-0.046297747641802,-0.144662722945213,-0.065412662923336,0.158470734953880,-0.009226279333234,0.093844860792160,0.006874939426780,0.026023574173450));
res += mul(Get(s1,dx,0), float4x4(-0.007413332350552,0.069108329713345,0.023946609348059,-0.046533655375242,0.015748003497720,-0.039306607097387,-0.035103019326925,-0.018059829249978,0.194074064493179,-0.004344278946519,-0.034426864236593,-0.180319502949715,-0.026467364281416,0.061207380145788,0.056026138365269,-0.010763187892735));
res += mul(Get(s1,dx,dy), float4x4(0.044097278267145,-0.065374709665775,-0.021026616916060,0.048254586756229,0.129029572010040,-0.027941433712840,-0.037999011576176,0.003162774024531,-0.146629169583321,-0.060702823102474,0.009600001387298,0.092551626265049,0.091029144823551,0.006676898337901,0.027132753282785,0.074264720082283));
res += mul(Get(s2,-dx,-dy), float4x4(0.061258573085070,0.008221705444157,-0.073175452649593,0.040668986737728,0.045556545257568,0.019371123984456,-0.019838582724333,-0.016880957409739,-0.048048861324787,-0.026663005352020,0.110718578100204,0.019018052145839,0.092844903469086,0.043779760599136,-0.062404546886683,-0.054546356201172));
res += mul(Get(s2,-dx,0), float4x4(-0.000078951627074,0.034628957509995,-0.030098225921392,-0.005747773684561,0.053903747349977,0.016973411664367,-0.030824227258563,-0.056808352470398,-0.112900942564011,-0.126084819436073,-0.025523962453008,0.061906937509775,0.080554164946079,0.018392387777567,-0.038542028516531,-0.057524796575308));
res += mul(Get(s2,-dx,dy), float4x4(0.011372825130820,0.005883282050490,-0.087828636169434,0.025095216929913,-0.038187801837921,0.032393150031567,0.059541873633862,0.026734011247754,-0.028227763250470,0.012380436994135,0.012917253188789,0.119896106421947,0.263078063726425,-0.019632104784250,-0.037170000374317,-0.123448625206947));
res += mul(Get(s2,0,-dy), float4x4(0.021995717659593,0.017335541546345,-0.001579335308634,0.019206998869777,0.016280103474855,0.008561339229345,0.035329338163137,-0.014430889859796,-0.083271630108356,0.120873130857944,-0.039031691849232,0.096260480582714,-0.017567498609424,0.013037561438978,0.049404509365559,-0.057540666311979));
res += mul(Get(s2,0,0), float4x4(0.054549362510443,-0.034521523863077,-0.053569182753563,-0.047070700675249,-0.014809500426054,-0.052929840981960,0.060398172587156,-0.048666357994080,-0.028690254315734,-0.039589866995811,0.063272885978222,0.066520325839520,0.043134361505508,0.024604097008705,-0.116586834192276,0.267864078283310));
res += mul(Get(s2,0,dy), float4x4(0.042835783213377,-0.021512879058719,0.006728274282068,-0.054852101951838,0.018952887505293,-0.083799265325069,0.039125274866819,0.096214696764946,-0.017720352858305,-0.038582943379879,0.044955816119909,-0.139161601662636,0.088070832192898,0.054688341915607,-0.036298710852861,0.091660104691982));
res += mul(Get(s2,dx,-dy), float4x4(-0.137908488512039,0.060265123844147,-0.033851392567158,0.072677925229073,0.062624074518681,0.059455357491970,0.064172372221947,0.013528953306377,0.214754045009613,0.155806869268417,0.005731964483857,-0.093551300466061,-0.130574256181717,-0.013912727124989,0.038581702858210,-0.119163550436497));
res += mul(Get(s2,dx,0), float4x4(-0.066282734274864,0.014446140266955,-0.014969448558986,0.017236789688468,-0.022564344108105,0.004779268987477,-0.019057672470808,0.018060727044940,0.156701833009720,0.120556056499481,-0.013659563846886,0.020152328535914,0.077806532382965,-0.112833984196186,-0.087386019527912,-0.025896433740854));
res += mul(Get(s2,dx,dy), float4x4(-0.027158094570041,-0.034173533320427,-0.066437825560570,0.003219989594072,0.104703404009342,-0.072399087250233,-0.051234968006611,-0.044353537261486,-0.024558665230870,0.082633353769779,0.083396889269352,0.012821650132537,-0.060883682221174,-0.021870194002986,0.064108699560165,0.099011264741421));
res += mul(Get(s3,-dx,-dy), float4x4(0.075855657458305,-0.047168571501970,-0.074658669531345,0.056000530719757,0.027072947472334,-0.024198506027460,0.080568239092827,0.091100424528122,0.011584624648094,-0.033100094646215,-0.066624581813812,-0.064847409725189,-0.038358837366104,0.004075605887920,0.029880456626415,0.046552751213312));
res += mul(Get(s3,-dx,0), float4x4(0.007787556387484,0.012201752513647,0.035137891769409,0.013668794184923,-0.028365228325129,0.007040348835289,0.024111280217767,0.050186160951853,-0.039898730814457,0.055309165269136,0.022348506376147,-0.001527669606730,-0.035828318446875,-0.062395300716162,0.091611400246620,0.009665309451520));
res += mul(Get(s3,-dx,dy), float4x4(0.003355132183060,-0.010504652746022,-0.028792478144169,-0.063683681190014,0.068287849426270,-0.058606702834368,0.275742024183273,0.040631383657455,-0.027897899970412,-0.034092504531145,-0.020568940788507,0.065764047205448,-0.034961614757776,-0.020083222538233,-0.004993781913072,0.003773141885176));
res += mul(Get(s3,0,-dy), float4x4(-0.047819819301367,0.059987880289555,-0.047971013933420,-0.000590075273067,0.049317494034767,-0.039316762238741,0.034732025116682,0.180041223764420,0.040263012051582,-0.004710159264505,0.073287241160870,-0.041401442140341,-0.008157501928508,0.011961804702878,0.048037588596344,0.011953323148191));
res += mul(Get(s3,0,0), float4x4(0.004145542159677,-0.007227222900838,-0.054157529026270,0.082303464412689,-0.093366406857967,0.042884331196547,-0.051050607115030,0.159627720713615,-0.005189892370254,0.034570198506117,0.064694650471210,0.082943841814995,-0.008082937449217,0.081914812326431,0.025102356448770,-0.048479676246643));
res += mul(Get(s3,0,dy), float4x4(0.041684750467539,0.038641009479761,0.028512902557850,-0.006179361138493,-0.033557228744030,0.011715609580278,-0.084480062127113,0.248392850160599,0.081021167337894,-0.009406245313585,-0.044443722814322,0.052768345922232,-0.111161246895790,-0.110439397394657,-0.115705758333206,0.001963420538232));
res += mul(Get(s3,dx,-dy), float4x4(0.104489915072918,-0.062612205743790,-0.008314901962876,-0.040571887046099,0.084331117570400,0.030181912705302,-0.046093225479126,0.006831438280642,-0.048506464809179,-0.041470315307379,0.046374689787626,0.044214341789484,-0.021417289972305,0.058416824787855,-0.059937100857496,-0.036627978086472));
res += mul(Get(s3,dx,0), float4x4(-0.043526276946068,-0.016659321263433,0.041770182549953,0.020053273066878,-0.051405984908342,-0.063211739063263,-0.032614737749100,-0.019353067502379,0.103869348764420,0.050860475748777,0.016710931435227,-0.068597726523876,-0.016436059027910,0.030700892210007,-0.051729794591665,-0.038233544677496));
res += mul(Get(s3,dx,dy), float4x4(-0.035477392375469,-0.035660497844219,-0.018722584471107,0.095385216176510,0.025184892117977,0.060664098709822,-0.143443778157234,-0.066043116152287,-0.059944726526737,0.037294484674931,0.050581615418196,0.015408053994179,0.092694640159607,0.088995106518269,0.057586655020714,0.037161614745855));
return max(float4(0,0,0,0), res);
}
