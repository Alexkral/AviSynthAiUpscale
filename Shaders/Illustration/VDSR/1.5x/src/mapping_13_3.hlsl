sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.125074401497841,0.101240113377571,0.020748576149344,0.045896898955107,-0.017496855929494,-0.004356354940683,-0.050208184868097,-0.031343493610620,-0.039552047848701,0.060326907783747,0.035034276545048,-0.103981427848339,-0.078255116939545,0.034231647849083,-0.011800943873823,-0.016318211331964));
res += mul(Get(s0,-dx,0), float4x4(-0.099264681339264,0.030578367412090,-0.023387040942907,0.000295887526590,-0.032656580209732,-0.014755133539438,0.103609405457973,-0.116071797907352,0.065892606973648,0.060452897101641,0.016763400286436,0.032996099442244,-0.008742547594011,0.131628572940826,0.047427833080292,-0.020600324496627));
res += mul(Get(s0,-dx,dy), float4x4(0.050378613173962,0.014342044480145,0.048848580569029,0.045568872243166,-0.064281322062016,-0.030507313087583,-0.066301584243774,-0.000278709165286,-0.065018430352211,0.132724702358246,-0.157508939504623,-0.061861488968134,0.033300723880529,-0.062353532761335,0.003077612724155,-0.037172108888626));
res += mul(Get(s0,0,-dy), float4x4(0.021064892411232,0.037940345704556,-0.026907615363598,-0.056694526225328,0.038759008049965,0.005626379977912,-0.059995029121637,-0.046129073947668,0.005685178097337,0.096046932041645,-0.008429565466940,-0.137044772505760,-0.091061674058437,0.045636974275112,-0.087071835994720,0.028867090120912));
res += mul(Get(s0,0,0), float4x4(-0.084590859711170,-0.129506960511208,-0.092654369771481,0.092717587947845,-0.017303530126810,-0.000852902885526,0.069829344749451,0.080303676426411,0.233396559953690,0.008069855161011,0.071554698050022,-0.036661792546511,-0.097543105483055,0.025977985933423,0.114887490868568,0.081125028431416));
res += mul(Get(s0,0,dy), float4x4(0.025299364700913,-0.011093665845692,0.054878704249859,0.014692703261971,-0.093225002288818,0.032283458858728,-0.028474366292357,0.095264032483101,-0.068463429808617,-0.012182300910354,0.060669288039207,-0.013323638588190,0.118410222232342,0.059936609119177,0.113805569708347,-0.080292388796806));
res += mul(Get(s0,dx,-dy), float4x4(-0.012187429703772,-0.098284192383289,-0.025907455012202,-0.004069327842444,0.021907601505518,0.004287333227694,0.097738556563854,-0.027076950296760,-0.107938475906849,0.018964791670442,0.047542739659548,-0.023733925074339,0.046421397477388,0.065419323742390,0.053075183182955,0.011817197315395));
res += mul(Get(s0,dx,0), float4x4(-0.049836739897728,-0.148033916950226,0.031182099133730,-0.073398575186729,0.055624809116125,-0.011149208992720,0.094700857996941,0.019051339477301,0.156921282410622,0.034489624202251,0.031214427202940,-0.098024733364582,0.094674475491047,-0.013716796413064,-0.099058941006660,-0.033690460026264));
res += mul(Get(s0,dx,dy), float4x4(-0.070540301501751,0.025218129158020,0.021244283765554,-0.062678739428520,0.030989192426205,0.058224748820066,-0.015569537878036,-0.019328577443957,0.169494256377220,0.115220576524734,-0.011997169815004,-0.023778494447470,-0.030158817768097,0.030901541933417,-0.069546483457088,-0.020843705162406));
res += mul(Get(s1,-dx,-dy), float4x4(0.152335032820702,0.142585173249245,0.036405917257071,0.018482679501176,0.012469545006752,0.056695111095905,-0.064062826335430,0.051948253065348,-0.091679483652115,0.111093550920486,0.031738094985485,-0.053740043193102,0.040372896939516,0.046288542449474,-0.002892364980653,0.032320581376553));
res += mul(Get(s1,-dx,0), float4x4(0.019683714956045,-0.069556832313538,-0.140314966440201,0.037967797368765,-0.047228071838617,0.049145217984915,0.010031088255346,0.063961766660213,-0.020326728001237,0.064957395195961,0.021884554997087,0.003530719550326,0.011398353613913,0.040809020400047,0.166334822773933,-0.015504120849073));
res += mul(Get(s1,-dx,dy), float4x4(-0.124596476554871,0.015150708146393,-0.092648841440678,-0.032058976590633,-0.006433624308556,0.078139826655388,0.090864159166813,-0.023466745391488,0.005982005037367,-0.104924567043781,-0.002979834098369,-0.017029851675034,-0.037804506719112,0.113683387637138,-0.164293959736824,-0.004224469885230));
res += mul(Get(s1,0,-dy), float4x4(-0.144673466682434,-0.011693659238517,-0.035642914474010,0.094550937414169,0.070185303688049,-0.023692876100540,-0.041358117014170,-0.066485159099102,0.074797302484512,0.056683171540499,0.005699349101633,-0.047282826155424,0.171617507934570,0.103754647076130,-0.044927988201380,0.002289483789355));
res += mul(Get(s1,0,0), float4x4(0.016266295686364,-0.027625035494566,-0.007245605345815,-0.012477585114539,-0.009776381775737,0.090554863214493,-0.000867779308464,0.053019478917122,0.060687266290188,0.121384680271149,0.056493531912565,0.053970072418451,0.039816644042730,-0.046159096062183,0.017410315573215,0.068689167499542));
res += mul(Get(s1,0,dy), float4x4(-0.138443008065224,-0.036090295761824,0.021364679560065,-0.010828034952283,0.068003475666046,-0.044364195317030,-0.072475969791412,0.027083573862910,-0.057888314127922,-0.008593907579780,0.108589790761471,0.037661064416170,0.079900734126568,-0.014401899650693,-0.088880136609077,0.112244114279747));
res += mul(Get(s1,dx,-dy), float4x4(-0.007081423420459,-0.025495428591967,-0.023459199815989,0.097507007420063,-0.055761307477951,0.006268459837884,0.076447315514088,0.024535305798054,0.113736949861050,-0.047998905181885,-0.076687484979630,0.051432345062494,0.121068894863129,0.043031692504883,0.028354816138744,-0.072004251182079));
res += mul(Get(s1,dx,0), float4x4(-0.037785753607750,-0.036214951425791,-0.000438252289314,-0.062265779823065,0.050364796072245,0.088802300393581,0.041955150663853,-0.026618005707860,0.018817717209458,0.047683678567410,-0.059107966721058,0.016314897686243,-0.036711812019348,0.044032171368599,-0.017883647233248,-0.087259940803051));
res += mul(Get(s1,dx,dy), float4x4(-0.040540754795074,-0.055009812116623,-0.077636100351810,-0.008387410081923,0.049547325819731,-0.097348511219025,0.073560602962971,0.047583371400833,0.128922015428543,-0.051752429455519,-0.018267692998052,0.046630900353193,-0.061755344271660,0.134273707866669,-0.023769911378622,0.102082617580891));
res += mul(Get(s2,-dx,-dy), float4x4(-0.024075862020254,-0.107642196118832,0.004336087498814,-0.022776734083891,-0.016547961160541,0.075989246368408,0.058784771710634,-0.041244789958000,0.008904549293220,-0.066561304032803,0.001523378770798,0.023402584716678,-0.032801657915115,-0.003118091961369,0.021518161520362,-0.004873184487224));
res += mul(Get(s2,-dx,0), float4x4(-0.057843074202538,0.158751398324966,-0.015598467551172,-0.030887372791767,0.047340527176857,-0.037202984094620,0.010128621011972,-0.085350938141346,-0.020789807662368,-0.124699369072914,0.002262608148158,0.035702299326658,0.069241464138031,0.050022419542074,-0.000926671084017,-0.025103362277150));
res += mul(Get(s2,-dx,dy), float4x4(0.110054768621922,-0.085453443229198,0.025375507771969,0.011686532758176,0.000754660635721,-0.115886978805065,-0.014171045273542,0.064192138612270,-0.115979708731174,0.011972607113421,0.021712902933359,0.065394967794418,0.012018821202219,-0.068502143025398,0.048271227627993,-0.078635483980179));
res += mul(Get(s2,0,-dy), float4x4(-0.077108189463615,-0.000340455007972,0.134303227066994,0.031528055667877,-0.003898303257301,0.021961336955428,-0.022274825721979,0.016651684418321,0.093366034328938,-0.024639965966344,-0.028135182335973,0.048488147556782,0.010178944095969,0.038380485028028,-0.009352673776448,0.035122524946928));
res += mul(Get(s2,0,0), float4x4(0.163577407598495,-0.027339570224285,0.225957125425339,0.052320551127195,0.050196882337332,0.029066288843751,0.000817171356175,-0.045118689537048,0.083023771643639,0.006402124185115,0.006168040912598,0.007487293332815,0.019469121471047,-0.011691021732986,0.026352629065514,-0.013519052416086));
res += mul(Get(s2,0,dy), float4x4(0.298093140125275,-0.147404044866562,0.210171774029732,0.020541988313198,-0.007876718416810,-0.027359906584024,0.036231409758329,-0.008880055509508,0.043017074465752,-0.007717786822468,-0.025549143552780,0.022239217534661,0.121807567775249,0.089292116463184,0.036159165203571,0.083283007144928));
res += mul(Get(s2,dx,-dy), float4x4(-0.127902850508690,0.049306623637676,0.051727358251810,0.011037695221603,-0.039724092930555,-0.049913536757231,0.092163003981113,0.090438082814217,0.052475266158581,0.006107415538281,-0.030552426353097,-0.104025013744831,0.034897442907095,-0.046801112592220,-0.023837296292186,0.003047070233151));
res += mul(Get(s2,dx,0), float4x4(0.135303989052773,0.053602617233992,0.036568213254213,-0.017651995643973,0.022662708535790,0.073170676827431,0.066984154284000,0.007870969362557,-0.039518821984529,-0.042961392551661,-0.028829276561737,0.005322710610926,0.047460377216339,-0.066412709653378,-0.033024244010448,-0.006765114143491));
res += mul(Get(s2,dx,dy), float4x4(0.000549415650312,0.006801825948060,-0.053550533950329,-0.003102751215920,0.072412855923176,-0.095223322510719,0.009652076289058,0.161288157105446,0.003095884807408,0.062134664505720,0.041286345571280,0.041630398482084,0.086486592888832,-0.041703250259161,0.055010993033648,-0.100521482527256));
res += mul(Get(s3,-dx,-dy), float4x4(0.009699197486043,-0.045659400522709,0.000151449654368,-0.010722076520324,0.116916202008724,-0.023889265954494,-0.077842198312283,0.014001974835992,-0.039881002157927,0.076388768851757,0.050155762583017,0.038523368537426,0.017808308824897,-0.034874118864536,0.023618631064892,0.054822571575642));
res += mul(Get(s3,-dx,0), float4x4(0.017766410484910,0.049547854810953,0.012421052902937,0.014755816198885,0.029663939028978,-0.081201702356339,-0.018819823861122,0.012384115718305,0.070838578045368,-0.025042107328773,-0.116416916251183,-0.027664152905345,0.114472277462482,0.022851830348372,-0.024958672001958,0.009970609098673));
res += mul(Get(s3,-dx,dy), float4x4(0.106150731444359,0.004677951801568,0.074162743985653,-0.046900201588869,-0.017016740515828,-0.093823976814747,-0.142631739377975,0.074681192636490,0.010423371568322,0.017078833654523,-0.044880058616400,-0.049063116312027,0.021291259676218,0.018566975370049,0.002406975021586,0.013357730582356));
res += mul(Get(s3,0,-dy), float4x4(0.041446898132563,0.020804665982723,-0.007874420844018,0.036954503506422,0.086788766086102,0.019762223586440,-0.046248067170382,-0.049683630466461,0.036413770169020,0.177352964878082,-0.033677201718092,0.033984862267971,0.001637348555960,-0.047923222184181,-0.004214216955006,-0.011598661541939));
res += mul(Get(s3,0,0), float4x4(-0.017756251618266,-0.013159783557057,-0.030820265412331,0.027305725961924,0.047484185546637,-0.105915211141109,-0.017703419551253,-0.029334753751755,-0.018514139577746,-0.063465349376202,0.003700860543177,-0.090492956340313,-0.027854671701789,0.084530673921108,-0.017343483865261,0.078751094639301));
res += mul(Get(s3,0,dy), float4x4(0.015172771178186,-0.034442901611328,0.036117982119322,-0.032162357121706,0.043629415333271,-0.112773202359676,0.002014184370637,0.032613668590784,-0.015106422826648,0.027359046041965,-0.027068670839071,-0.031883642077446,0.034327715635300,-0.079411081969738,0.113691903650761,0.071642108261585));
res += mul(Get(s3,dx,-dy), float4x4(0.020062861964107,0.019376099109650,-0.002431407338008,0.024787008762360,0.125046744942665,-0.018248287960887,0.024062503129244,0.014686689712107,-0.077655702829361,0.033367380499840,0.040978349745274,0.033842831850052,-0.007730884477496,0.005934456828982,-0.043748810887337,-0.061937443912029));
res += mul(Get(s3,dx,0), float4x4(-0.065259210765362,0.042012333869934,-0.083563834428787,0.073623083531857,0.134811431169510,0.005249388981611,-0.079147063195705,-0.077690713107586,-0.006443696562201,-0.047139283269644,0.000567934708670,-0.018992612138391,-0.062757797539234,-0.038632351905107,-0.004737654700875,-0.032588228583336));
res += mul(Get(s3,dx,dy), float4x4(0.094578102231026,-0.032744001597166,0.063804842531681,0.019699441269040,0.078298240900040,-0.043275512754917,-0.102171376347542,-0.004080984741449,0.109343759715557,0.018088908866048,-0.040143709629774,0.011370492167771,0.021380046382546,0.053515531122684,0.003895431756973,0.009759437292814));
return max(float4(0,0,0,0), res);
}
