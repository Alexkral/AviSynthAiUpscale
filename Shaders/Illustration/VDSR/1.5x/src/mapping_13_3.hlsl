sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.044073466211557,0.094280369579792,-0.019584357738495,0.012744588777423,0.045916717499495,-0.083022326231003,0.010083263739944,-0.020815426483750,-0.040392406284809,0.061267100274563,-0.041136827319860,0.001040591625497,-0.022542962804437,0.086937792599201,-0.057035576552153,0.083291940391064));
res += mul(Get(s0,-dx,0), float4x4(-0.064640991389751,-0.042368374764919,0.072937652468681,-0.013499471358955,-0.005504783708602,0.010799066163599,-0.036133963614702,-0.061826083809137,-0.025834714993834,0.005584232509136,-0.032304733991623,0.031973462551832,-0.024359848350286,-0.015109094791114,0.114380300045013,0.138493090867996));
res += mul(Get(s0,-dx,dy), float4x4(-0.002177413320169,-0.020558839663863,0.035198450088501,0.063341997563839,-0.039027478545904,-0.036607336252928,0.008718826808035,0.022041087970138,0.046557761728764,-0.030449010431767,-0.072569660842419,0.009645206853747,-0.006487014237791,-0.043068360537291,0.022680258378386,0.076435744762421));
res += mul(Get(s0,0,-dy), float4x4(0.056214533746243,-0.135326817631721,-0.035215370357037,-0.019172482192516,0.156251117587090,-0.069287516176701,-0.068189471960068,0.080592915415764,0.073463119566441,-0.073752492666245,0.041546519845724,0.047726143151522,-0.043581496924162,0.007912039756775,0.081753320991993,0.088150359690189));
res += mul(Get(s0,0,0), float4x4(0.004632782656699,0.001642396440729,-0.020796231925488,-0.015490361489356,-0.041559569537640,0.004775250330567,0.000537276035175,-0.011228271760046,0.099336490035057,0.053891863673925,-0.007851810194552,-0.021968834102154,-0.051068972796202,0.034963943064213,0.117393486201763,0.030807830393314));
res += mul(Get(s0,0,dy), float4x4(0.016032416373491,-0.059061281383038,-0.059755537658930,-0.081006705760956,-0.064396753907204,-0.050910428166389,0.077197387814522,0.072219528257847,0.078967593610287,0.100808806717396,-0.106266558170319,-0.041714590042830,0.006450315937400,-0.054652709513903,0.012552298605442,0.145478934049606));
res += mul(Get(s0,dx,-dy), float4x4(0.035593986511230,0.002572690136731,0.045244663953781,-0.006626449059695,0.061386477202177,-0.053362738341093,-0.038989149034023,-0.003899853210896,-0.003544877516106,-0.028973193839192,0.044462874531746,-0.080374121665955,0.072082810103893,0.018049275502563,-0.093301296234131,-0.050736285746098));
res += mul(Get(s0,dx,0), float4x4(0.079922981560230,-0.023304536938667,0.007238271646202,0.158549055457115,-0.005234551150352,0.070698641240597,0.008273443207145,-0.093595147132874,-0.072037950158119,-0.019598284736276,-0.073278933763504,-0.076286144554615,0.016688762232661,-0.015336442738771,0.080185040831566,0.019225202500820));
res += mul(Get(s0,dx,dy), float4x4(0.007791752927005,0.048749331384897,-0.010471040382981,0.033804405480623,-0.049380809068680,0.016305193305016,0.013673253357410,-0.027517028152943,-0.102839916944504,0.079792141914368,0.021825579926372,-0.155377030372620,0.068071857094765,0.020097939297557,0.036563966423273,0.051603119820356));
res += mul(Get(s1,-dx,-dy), float4x4(0.004610285162926,0.037788536399603,-0.020944137126207,0.072808206081390,-0.025888351723552,-0.061917893588543,0.052805829793215,-0.052406605333090,-0.011735585518181,-0.054695963859558,-0.094035483896732,-0.056076038628817,-0.037504490464926,-0.016237804666162,0.052516799420118,0.171488359570503));
res += mul(Get(s1,-dx,0), float4x4(-0.058114185929298,0.036910299211740,0.112159289419651,0.004991352558136,0.084100984036922,-0.003381841816008,0.052699297666550,-0.021204458549619,-0.006691901944578,-0.006214649416506,-0.010202565230429,-0.055215023458004,-0.006480658426881,-0.021731717512012,-0.033956069499254,0.050637103617191));
res += mul(Get(s1,-dx,dy), float4x4(0.049862857908010,0.072269268333912,-0.008216973394156,0.048021025955677,0.032755225896835,-0.049354113638401,0.038650244474411,-0.016481563448906,-0.056992925703526,0.080241456627846,0.012704823166132,-0.059061307460070,0.010024916380644,0.010594557970762,-0.026740210130811,0.050139416009188));
res += mul(Get(s1,0,-dy), float4x4(0.051822643727064,-0.035501860082150,-0.017962915822864,0.116249024868011,0.007390514481813,0.029173854738474,-0.095019400119781,0.015990773215890,0.014482688158751,0.018220974132419,0.005222637671977,-0.027299735695124,0.001852152287029,-0.050091460347176,0.077639423310757,0.195570617914200));
res += mul(Get(s1,0,0), float4x4(0.024292962625623,-0.036090228706598,0.113082982599735,-0.040254022926092,-0.007871602661908,0.008124429732561,-0.022541599348187,0.032860260456800,-0.029574580490589,0.108851499855518,0.010568997822702,-0.092339910566807,0.058139141649008,-0.011705417186022,-0.024743124842644,0.071372769773006));
res += mul(Get(s1,0,dy), float4x4(-0.018170304596424,-0.039443593472242,-0.024488883092999,-0.011335339397192,-0.001393567887135,0.010163175873458,0.045322533696890,0.067575275897980,-0.024451848119497,0.150800511240959,0.040836721658707,0.008868232369423,-0.007530823349953,0.060076642781496,0.066446810960770,0.048330798745155));
res += mul(Get(s1,dx,-dy), float4x4(0.024966932833195,0.058741703629494,-0.054074417799711,0.055011510848999,0.091328807175159,-0.000404965074267,0.040798332542181,-0.033164203166962,-0.019870964810252,-0.009689022786915,0.045499570667744,-0.075912803411484,0.109736055135727,0.031065961346030,0.001031883759424,-0.010348114185035));
res += mul(Get(s1,dx,0), float4x4(0.024552764371037,-0.001583134173416,0.022936303168535,0.057116411626339,0.100343614816666,0.027493085712194,0.038711823523045,-0.124821715056896,-0.013674621470273,-0.003970824182034,-0.032824598252773,-0.024730008095503,0.071031168103218,-0.006017310079187,0.043262429535389,-0.039722450077534));
res += mul(Get(s1,dx,dy), float4x4(0.020986983552575,-0.000491421960760,-0.064217992126942,0.066441141068935,0.203447982668877,-0.039494447410107,-0.007656919769943,-0.076768279075623,-0.024280678480864,0.024386577308178,0.036219581961632,0.008260681293905,0.021730372682214,0.032343566417694,0.029371941462159,-0.043662041425705));
res += mul(Get(s2,-dx,-dy), float4x4(0.023543784394860,-0.009560623206198,0.003916330635548,0.029814746230841,-0.001007723622024,0.013794500380754,0.016830412670970,0.032146017998457,0.028627650812268,0.048718959093094,-0.085825905203819,-0.060472488403320,0.030575864017010,-0.005639986600727,-0.076636746525764,0.089622035622597));
res += mul(Get(s2,-dx,0), float4x4(-0.055468648672104,-0.061220996081829,-0.016770906746387,-0.002544318791479,0.016081986948848,0.029933772981167,0.038659427314997,0.099971853196621,-0.013762203045189,-0.018934253603220,-0.098197869956493,0.066414557397366,-0.046863816678524,0.021774889901280,-0.042390797287226,0.065847486257553));
res += mul(Get(s2,-dx,dy), float4x4(0.005953787360340,0.044117242097855,-0.086671926081181,0.014769940637052,0.018641846254468,-0.040748268365860,0.018214177340269,0.064828306436539,-0.047346547245979,0.010599074885249,-0.034095242619514,0.033244822174311,-0.019162433221936,-0.018555440008640,0.014550782740116,0.053043112158775));
res += mul(Get(s2,0,-dy), float4x4(-0.049248345196247,-0.030842179432511,-0.093208476901054,-0.089768253266811,0.011338562704623,0.055268429219723,0.102232597768307,-0.015015086159110,-0.028224311769009,0.064524121582508,-0.022784298285842,-0.017123227939010,0.082939602434635,0.014990820549428,-0.065464377403259,0.049779929220676));
res += mul(Get(s2,0,0), float4x4(-0.026385271921754,-0.133138224482536,-0.065665654838085,0.030824631452560,-0.016346573829651,0.037436053156853,0.104608714580536,0.059016559273005,-0.052528891712427,-0.010062910616398,-0.063449889421463,-0.124946348369122,-0.081107176840305,0.032787628471851,0.077780865132809,0.009702933952212));
res += mul(Get(s2,0,dy), float4x4(0.025422999635339,-0.030994690954685,0.009054195135832,-0.100434884428978,0.038228411227465,-0.005051276646554,0.050546798855066,0.067352287471294,-0.033691983669996,-0.011169736273587,0.010148186236620,0.040652591735125,-0.050500582903624,-0.057902958244085,0.037800766527653,0.109001785516739));
res += mul(Get(s2,dx,-dy), float4x4(0.020944954827428,0.070884339511395,0.119358815252781,-0.080805517733097,0.031605549156666,0.025212636217475,-0.007186669856310,0.041638839989901,-0.105550408363342,-0.016558881849051,0.110433854162693,-0.147041246294975,-0.008082294836640,0.012909614481032,0.007961840368807,0.168413594365120));
res += mul(Get(s2,dx,0), float4x4(-0.001149285119027,0.060857310891151,0.076277032494545,-0.181531369686127,0.033765196800232,0.002189862541854,0.030231997370720,0.105731666088104,-0.005069420672953,0.051731131970882,0.108602814376354,-0.124528817832470,-0.129255831241608,0.032228812575340,0.042645771056414,0.128323525190353));
res += mul(Get(s2,dx,dy), float4x4(-0.000462440977572,-0.025732960551977,0.126713216304779,-0.097874201834202,0.097461506724358,0.021187039092183,-0.026677183806896,0.022192846983671,0.078788526356220,0.014506326988339,0.052999604493380,0.014619798399508,-0.047549467533827,-0.074137292802334,0.035669390112162,0.163637146353722));
res += mul(Get(s3,-dx,-dy), float4x4(0.012206997722387,0.042799971997738,-0.147816494107246,-0.139085158705711,-0.088618710637093,-0.032733604311943,-0.004893789067864,-0.015414105728269,-0.041170537471771,-0.038588423281908,0.028731154277921,-0.048368386924267,0.016544390469790,-0.012329493649304,-0.073880843818188,0.048965577036142));
res += mul(Get(s3,-dx,0), float4x4(-0.032541330903769,-0.052381366491318,-0.104516953229904,-0.087429247796535,-0.009877928532660,-0.037243291735649,-0.041357170790434,-0.004422497004271,-0.040252786129713,0.058429371565580,0.022618530318141,0.000671595451422,0.011323342099786,-0.027009509503841,0.141932874917984,0.053661763668060));
res += mul(Get(s3,-dx,dy), float4x4(-0.003369543235749,-0.079093515872955,-0.040171217173338,-0.080916240811348,-0.013693976216018,-0.001040596049279,0.039234776049852,-0.027510466054082,-0.055402468889952,0.162865087389946,0.062296375632286,0.036494657397270,0.027110353112221,0.022828685119748,-0.025092380121350,-0.104977771639824));
res += mul(Get(s3,0,-dy), float4x4(0.031688179820776,0.012675217352808,-0.060553714632988,-0.032288577407598,0.045891191810369,-0.017876690253615,-0.041019961237907,0.038153998553753,0.068169191479683,-0.010566687211394,0.017250765115023,-0.053774178028107,-0.109050869941711,0.001892762258649,-0.040763191878796,0.000604497443419));
res += mul(Get(s3,0,0), float4x4(0.027122722938657,-0.040371779352427,-0.101858206093311,0.022860415279865,0.014069874770939,-0.033887658268213,-0.095793426036835,-0.001612914144062,-0.023744087666273,0.009094032458961,0.000515981286298,0.067402578890324,-0.135193765163422,-0.001399909844622,0.044165655970573,-0.037438366562128));
res += mul(Get(s3,0,dy), float4x4(0.024507431313396,-0.038390748202801,0.004462916869670,-0.003203153144568,0.024253835901618,-0.039262376725674,0.028854841366410,-0.010304367169738,0.012526143342257,-0.001537719741464,0.051429003477097,0.099083803594112,-0.106313154101372,0.009842634201050,0.010518806055188,0.033128589391708));
res += mul(Get(s3,dx,-dy), float4x4(0.144513934850693,0.013897499069571,-0.107377238571644,0.071586944162846,-0.103768259286880,0.004541824106127,-0.053770896047354,-0.038864519447088,-0.036208227276802,-0.031154487282038,-0.015778932720423,-0.045653812587261,0.032455231994390,0.052207268774509,-0.001545839477330,0.082470551133156));
res += mul(Get(s3,dx,0), float4x4(0.108049713075161,-0.051439117640257,-0.060264065861702,0.132797002792358,0.025001034140587,-0.042922310531139,-0.121051073074341,0.072821877896786,-0.040375433862209,-0.037725180387497,0.092285640537739,0.002514038700610,0.052476331591606,-0.014888913370669,0.016144767403603,0.021649917587638));
res += mul(Get(s3,dx,dy), float4x4(0.041753068566322,0.011669029481709,0.026023356243968,-0.065397240221500,-0.038238890469074,-0.040748439729214,-0.014836149290204,0.007319378666580,0.087122566998005,-0.031413517892361,-0.020211512222886,-0.018666008487344,0.079830780625343,0.016119426116347,-0.011165669187903,0.029371986165643));
return max(float4(0,0,0,0), res);
}
