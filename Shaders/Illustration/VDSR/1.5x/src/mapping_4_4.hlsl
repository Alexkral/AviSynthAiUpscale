sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.051527954638004,-0.041489191353321,-0.088722929358482,-0.043589856475592,0.086558267474174,0.025448454543948,-0.028093153610826,-0.012025801464915,0.064852513372898,0.055641535669565,0.038617081940174,-0.061251763254404,-0.024488544091582,0.031272944062948,0.005438884254545,-0.016090197488666));
res += mul(Get(s0,-dx,0), float4x4(0.084791257977486,0.093442745506763,0.171853080391884,-0.016319321468472,-0.005984007380903,0.016249546781182,0.032469961792231,0.018912689760327,0.228205144405365,0.033608678728342,0.018053160980344,-0.033807881176472,0.040189713239670,0.023690646514297,-0.001404467155226,-0.006396525073797));
res += mul(Get(s0,-dx,dy), float4x4(0.071566060185432,-0.104391098022461,0.083307042717934,-0.014053172431886,0.049938924610615,0.003280606353655,0.005273098126054,0.076515860855579,-0.059398028999567,0.000941553735174,-0.145084545016289,-0.046748746186495,-0.017331909388304,-0.002511200727895,0.031195983290672,0.024246443063021));
res += mul(Get(s0,0,-dy), float4x4(-0.205041125416756,-0.057031773030758,-0.000516180298291,-0.017354106530547,0.069292359054089,0.055677581578493,-0.039868015795946,0.036832872778177,-0.039490159600973,0.014427691698074,-0.062121339142323,-0.005901020485908,-0.018338708207011,0.004463180899620,-0.017154933884740,0.032592371106148));
res += mul(Get(s0,0,0), float4x4(-0.054916899651289,0.156913414597511,-0.025608504191041,-0.097949244081974,0.275724560022354,0.109576426446438,0.101315610110760,0.009922296740115,0.130292192101479,-0.016772201284766,-0.027875993400812,0.018163282424212,0.056552253663540,0.013826464302838,0.087596118450165,-0.015666438266635));
res += mul(Get(s0,0,dy), float4x4(-0.020400129258633,-0.111981727182865,-0.000855801510625,-0.031260628253222,0.035065673291683,0.011868910863996,0.121313132345676,0.054636050015688,0.062468715012074,-0.007183638866991,-0.032548632472754,-0.047368083149195,-0.005068077705801,-0.008643739856780,0.026172874495387,0.001475916127674));
res += mul(Get(s0,dx,-dy), float4x4(-0.230179905891418,-0.097270980477333,0.032857507467270,0.016538513824344,0.007326214108616,0.012883416377008,0.010940091684461,0.009398197755218,-0.029517138376832,0.031751770526171,0.069717250764370,-0.032408311963081,-0.019477872177958,-0.001375089283101,-0.005723387934268,0.108061648905277));
res += mul(Get(s0,dx,0), float4x4(-0.144224479794502,0.025922240689397,0.013768688775599,-0.071281097829342,-0.004871009849012,0.032971620559692,-0.047960620373487,0.008581022731960,-0.038983099162579,-0.021988736465573,0.062426358461380,0.035808883607388,0.018097847700119,0.005784318782389,0.033160608261824,0.093400560319424));
res += mul(Get(s0,dx,dy), float4x4(-0.045071281492710,-0.139924660325050,0.113582007586956,-0.058588713407516,0.043165169656277,-0.007460594177246,-0.030583679676056,-0.020097879692912,0.073925070464611,0.004967487882823,-0.005948189180344,-0.017319524660707,0.012857460416853,-0.002304644323885,0.004324772860855,-0.000832185673062));
res += mul(Get(s1,-dx,-dy), float4x4(-0.017817545682192,0.034594532102346,-0.014116293750703,0.008646206930280,0.007742372341454,0.000058047633502,-0.088711425662041,0.061035454273224,0.004920049104840,0.058627236634493,0.020090321078897,-0.040004450827837,0.017342399805784,0.021692160516977,-0.055615723133087,-0.002476682187989));
res += mul(Get(s1,-dx,0), float4x4(-0.027892082929611,0.031277846544981,-0.019131803885102,0.047416511923075,-0.003353358479217,-0.044687431305647,0.251726865768433,0.028434351086617,-0.103500545024872,0.033242665231228,0.041272554546595,-0.029705207794905,0.031353767961264,0.003577816765755,0.064029775559902,0.002875801641494));
res += mul(Get(s1,-dx,dy), float4x4(0.027881799265742,0.030627518892288,0.029692675918341,0.024311272427440,-0.015184477902949,-0.014201803132892,-0.007183391600847,-0.083659052848816,-0.069328173995018,0.051973570138216,0.050630636513233,-0.067367121577263,-0.040355056524277,-0.011694923974574,0.083613485097885,0.033352889120579));
res += mul(Get(s1,0,-dy), float4x4(-0.051405332982540,0.037461601197720,0.052033051848412,0.017547456547618,-0.053458210080862,-0.047461811453104,0.013414209708571,0.161068245768547,0.030710227787495,0.035896774381399,0.001194976503029,-0.097229689359665,0.030017761513591,-0.001151701668277,0.006769842002541,0.098283715546131));
res += mul(Get(s1,0,0), float4x4(0.117244862020016,0.046445190906525,-0.059063695371151,0.035305727273226,-0.116865620017052,-0.007632077205926,-0.017629077658057,0.208499193191528,-0.125288292765617,-0.015127989463508,0.135897934436798,-0.018441582098603,0.056836601346731,0.007881875149906,0.174658074975014,-0.032937213778496));
res += mul(Get(s1,0,dy), float4x4(0.052543576806784,0.008229415863752,-0.015526739880443,0.032860897481441,-0.011034327559173,-0.039544571191072,-0.129178971052170,0.012811203487217,-0.023079134523869,0.074882373213768,0.071839213371277,0.054732490330935,0.002128123538569,-0.019708888605237,0.046414926648140,-0.032314836978912));
res += mul(Get(s1,dx,-dy), float4x4(-0.042224381119013,0.024230891838670,0.069452486932278,0.031885761767626,0.091455481946468,0.041095059365034,0.070310711860657,-0.125384002923965,0.067410513758659,0.009292392060161,-0.013367609120905,-0.117055512964725,-0.003541628597304,-0.010445141233504,0.014007931575179,0.211076736450195));
res += mul(Get(s1,dx,0), float4x4(0.045940775424242,-0.011765702627599,-0.088144473731518,0.103559121489525,-0.001015721121803,0.042104840278625,-0.058346588164568,-0.088362067937851,-0.043771117925644,-0.002341358223930,0.016983978450298,0.059195652604103,0.052286230027676,0.000402594130719,0.001949984580278,0.049498409032822));
res += mul(Get(s1,dx,dy), float4x4(0.039358180016279,0.000823724607471,-0.039333321154118,0.045578815042973,-0.074958108365536,-0.022609051316977,0.127557367086411,0.059002716094255,-0.015575182624161,0.072515316307545,-0.086337395012379,0.038837801665068,0.051558714359999,-0.020055895671248,0.009990564547479,-0.060251448303461));
res += mul(Get(s2,-dx,-dy), float4x4(0.070941813290119,0.014916510321200,-0.075495757162571,-0.025760211050510,0.052947744727135,0.006912157405168,0.022246932610869,-0.108337365090847,-0.002838085172698,-0.000026460154913,-0.004285242874175,-0.002262175548822,0.024177983403206,0.000274780410109,0.031491652131081,-0.070980459451675));
res += mul(Get(s2,-dx,0), float4x4(-0.090043298900127,-0.006542087532580,-0.035871963948011,0.018447587266564,0.087189316749573,0.108027189970016,-0.012741063721478,-0.023630106821656,0.001203245017678,0.001756657264195,-0.000739874085411,-0.001342950155959,0.184767141938210,0.069752134382725,0.011644576676190,-0.036071233451366));
res += mul(Get(s2,-dx,dy), float4x4(-0.021611975505948,-0.052923314273357,0.096078276634216,0.017614882439375,-0.059627037495375,-0.023904414847493,0.034783758223057,0.009101185947657,-0.008658066391945,0.000790513702668,-0.007130986079574,0.003825190942734,-0.081243515014648,-0.066849596798420,-0.063266865909100,-0.005358700640500));
res += mul(Get(s2,0,-dy), float4x4(-0.000433159410022,-0.023249611258507,-0.035135302692652,0.038465261459351,-0.086452297866344,-0.001349592115730,-0.084816657006741,-0.061133604496717,0.000215946347453,-0.003593967761844,0.003148408839479,0.008090995252132,-0.107869312167168,-0.050471931695938,-0.117091223597527,0.048704225569963));
res += mul(Get(s2,0,0), float4x4(0.126422435045242,0.036439545452595,0.433756649494171,-0.136518150568008,0.370942652225494,0.148286983370781,0.020903976634145,-0.050538707524538,-0.000441232521553,0.005621650721878,0.004877762403339,-0.000130113083287,0.051703192293644,0.041821319609880,-0.002533397404477,0.045508842915297));
res += mul(Get(s2,0,dy), float4x4(-0.099608354270458,-0.067488163709641,-0.157444715499878,0.071361936628819,0.066096670925617,-0.053780268877745,-0.022883644327521,-0.073734685778618,-0.000884246954229,-0.001433850964531,-0.002327676396817,0.002856505103409,-0.013258153572679,-0.045921910554171,0.020398529246449,0.004447355866432));
res += mul(Get(s2,dx,-dy), float4x4(-0.126476630568504,-0.050902400165796,-0.069890059530735,0.197043225169182,-0.098071202635765,-0.049854587763548,0.037862699478865,0.020357687026262,-0.005824244115502,-0.008341783657670,-0.001962977228686,-0.000659039418679,-0.010708242654800,0.001140846288763,0.022066131234169,-0.047077078372240));
res += mul(Get(s2,dx,0), float4x4(0.090995833277702,0.001613033702597,-0.032127093523741,-0.076332218945026,-0.102278575301170,0.014742731116712,-0.053474754095078,-0.001793035771698,-0.008241331204772,0.004552721977234,-0.010258873924613,-0.010580851696432,-0.053393710404634,0.016441466286778,-0.036320041865110,0.017623452469707));
res += mul(Get(s2,dx,dy), float4x4(-0.068161129951477,-0.104455381631851,-0.003837192198262,-0.038927625864744,0.066434577107430,-0.097368285059929,0.051885508000851,-0.145990356802940,0.000536802283023,-0.006703800056130,-0.003551578382030,-0.005344395525753,0.088148176670074,-0.041194215416908,-0.008297495543957,0.008908711373806));
res += mul(Get(s3,-dx,-dy), float4x4(-0.065749756991863,-0.025223884731531,-0.051653329282999,0.038327347487211,-0.088850677013397,-0.012112086638808,-0.008569449186325,-0.026484670117497,-0.021163478493690,-0.020741811022162,0.059968017041683,-0.012172601185739,-0.058553174138069,-0.016240660101175,0.027770599350333,0.010753475129604));
res += mul(Get(s3,-dx,0), float4x4(-0.047529969364405,-0.017305362969637,-0.030840534716845,0.137854069471359,0.014719994738698,-0.055566988885403,0.116395972669125,-0.034164514392614,-0.005769269075245,-0.013843948952854,0.031898800283670,-0.005006121937186,-0.038070671260357,0.028804833069444,0.061003405600786,-0.014705047942698));
res += mul(Get(s3,-dx,dy), float4x4(-0.002118548611179,0.030321199446917,0.167633309960365,-0.063987255096436,0.107361398637295,-0.072146929800510,0.157651022076607,-0.042849089950323,-0.049002319574356,-0.012631690129638,-0.057760648429394,-0.039089359343052,0.010956001468003,-0.003611162072048,0.030135367065668,-0.041227705776691));
res += mul(Get(s3,0,-dy), float4x4(0.071410886943340,0.004549157340080,0.029473494738340,0.002492604078725,-0.119754008948803,-0.038138158619404,-0.021148210391402,0.157608419656754,0.032656431198120,0.025061530992389,0.002393167233095,-0.037210382521152,-0.040811985731125,0.001689383294433,0.032630372792482,0.025224933400750));
res += mul(Get(s3,0,0), float4x4(-0.035244062542915,-0.008254834450781,0.097427897155285,0.127049937844276,-0.076390400528908,-0.031035412102938,0.048857867717743,0.186946853995323,0.113745480775833,0.016978595405817,-0.002381134079769,-0.019581111148000,-0.022538946941495,0.045037467032671,-0.030494159087539,-0.007886276580393));
res += mul(Get(s3,0,dy), float4x4(-0.030816100537777,0.019423915073276,0.113295540213585,-0.042431447654963,0.068208381533623,-0.057117544114590,-0.021911248564720,0.018153989687562,0.052777305245399,0.004436802119017,0.033771526068449,-0.000452223874163,0.003132984973490,-0.013879171572626,0.047532800585032,0.010053517296910));
res += mul(Get(s3,dx,-dy), float4x4(0.000015997953597,-0.022643825039268,-0.050305899232626,0.058748871088028,-0.074005886912346,0.019637810066342,0.015730015933514,-0.026405049487948,-0.078090287744999,-0.018541302531958,0.015218383632600,-0.088996358215809,0.025724543258548,0.012036352418363,0.063818894326687,-0.018366819247603));
res += mul(Get(s3,dx,0), float4x4(-0.029133854433894,-0.038691163063049,0.001230121939443,0.099848806858063,-0.069948665797710,0.080302417278290,-0.038380257785320,-0.015579676255584,0.062252160161734,-0.023333884775639,0.092811830341816,-0.057338256388903,-0.048229411244392,-0.001459429971874,0.064411483705044,0.014822377823293));
res += mul(Get(s3,dx,dy), float4x4(0.000935907242820,0.009262558072805,-0.026751030236483,-0.087810076773167,-0.081131309270859,-0.013062944635749,-0.095930993556976,0.016616579145193,0.038983903825283,-0.022401876747608,-0.041875187307596,-0.051850814372301,0.000342069339240,-0.015214331448078,-0.010366025380790,0.070625253021717));
return max(float4(0,0,0,0), res);
}
