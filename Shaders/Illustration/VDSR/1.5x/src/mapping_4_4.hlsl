sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.067769840359688,0.072824947535992,-0.064720094203949,-0.006732906214893,-0.105560533702374,-0.070090256631374,-0.039420012384653,0.009296885691583,-0.039494905620813,-0.077320039272308,-0.105608165264130,-0.007133097853512,0.119393974542618,0.042988114058971,-0.051339946687222,0.055912204086781));
res += mul(Get(s0,-dx,0), float4x4(-0.117372140288353,0.006598845589906,0.040544446557760,0.060793872922659,0.163448110222816,0.003184486180544,0.243460431694984,-0.111191637814045,-0.042679846286774,0.025570690631866,-0.009298778139055,-0.063974440097809,-0.030867399647832,0.018382007256150,0.139714762568474,-0.092954874038696));
res += mul(Get(s0,-dx,dy), float4x4(-0.005448847543448,0.060523811727762,-0.125707104802132,0.043539460748434,0.036237746477127,-0.133224606513977,0.051394578069448,0.038804408162832,0.123820893466473,-0.013872624374926,-0.044381063431501,-0.029411341995001,-0.050355833023787,-0.045429740101099,0.022098034620285,0.045152101665735));
res += mul(Get(s0,0,-dy), float4x4(-0.113290876150131,0.080297864973545,0.003606058890000,-0.115789964795113,-0.037573710083961,0.004531513433903,0.052257437258959,-0.018217423930764,0.052691526710987,0.013431246392429,-0.092797756195068,0.015411926433444,0.021742492914200,-0.007145217619836,-0.037867505103350,0.010047493502498));
res += mul(Get(s0,0,0), float4x4(-0.017884116619825,-0.003766998648643,0.090732790529728,0.016269503161311,-0.072992421686649,-0.021674448624253,-0.052543383091688,-0.016315018758178,0.089752212166786,-0.174353882670403,-0.014101888053119,0.024267259985209,-0.089601851999760,-0.074799433350563,0.056119807064533,0.093077614903450));
res += mul(Get(s0,0,dy), float4x4(-0.082186892628670,-0.055306028574705,-0.031999811530113,-0.054321028292179,0.029341135174036,-0.012697293423116,-0.006596989464015,0.087774902582169,-0.188153356313705,0.058686695992947,-0.035185653716326,-0.100239083170891,0.113043099641800,-0.052172284573317,0.035078316926956,0.015625229105353));
res += mul(Get(s0,dx,-dy), float4x4(0.068525917828083,0.011461216956377,-0.051609385758638,-0.101467274129391,-0.090493530035019,0.014952137134969,0.053625624626875,0.008702215738595,-0.008580089546740,0.039260230958462,-0.020176699385047,0.050092466175556,0.072683788836002,0.105625018477440,-0.031699474900961,-0.053295861929655));
res += mul(Get(s0,dx,0), float4x4(-0.033277016133070,0.084547474980354,0.044122435152531,-0.017310449853539,-0.083782330155373,-0.063444890081882,0.092450208961964,-0.124391041696072,-0.004991080146283,0.015087438747287,0.077470719814301,0.001574452384375,0.163359001278877,-0.130481526255608,0.015444012358785,-0.142977938055992));
res += mul(Get(s0,dx,dy), float4x4(0.010623324662447,0.036947552114725,0.079563073813915,0.137115389108658,-0.056814700365067,-0.111167594790459,-0.029805745929480,-0.121790558099747,-0.019025433808565,0.008144581690431,0.154910013079643,0.051151528954506,0.037826165556908,-0.078772105276585,-0.090519495308399,-0.069742634892464));
res += mul(Get(s1,-dx,-dy), float4x4(-0.009213887155056,0.218476951122284,-0.196879103779793,-0.065465956926346,-0.036312792450190,0.013005012646317,0.133630380034447,-0.059179957956076,-0.023477204144001,-0.046643797308207,-0.023504458367825,-0.046266820281744,0.096258655190468,-0.047486357390881,0.025434779003263,-0.003577236086130));
res += mul(Get(s1,-dx,0), float4x4(0.146351248025894,0.030437627807260,0.091879732906818,0.010080737993121,-0.015383212827146,-0.087793067097664,0.073691390454769,0.077806599438190,0.058142878115177,0.073040604591370,-0.126306340098381,-0.177054867148399,-0.000476980669191,0.072505086660385,-0.017150081694126,0.025467488914728));
res += mul(Get(s1,-dx,dy), float4x4(0.053444601595402,0.036488264799118,0.067087188363075,-0.094485417008400,-0.068174041807652,-0.022776708006859,0.011487767100334,0.008549216203392,0.090313613414764,0.038533657789230,-0.082036547362804,-0.079556010663509,-0.031104290857911,0.141267076134682,-0.023306554183364,0.053124241530895));
res += mul(Get(s1,0,-dy), float4x4(-0.051652234047651,0.185603529214859,-0.032691001892090,-0.135571673512459,-0.077712439000607,-0.022676367312670,0.130279377102852,0.004114638082683,0.002400781959295,0.034293510019779,0.032795015722513,0.095775790512562,0.067529857158661,-0.011722937226295,0.031279928982258,0.021500548347831));
res += mul(Get(s1,0,0), float4x4(-0.083099864423275,-0.303712278604507,-0.020755661651492,0.033981148153543,0.071184977889061,-0.023154523223639,-0.053162448108196,0.099582858383656,0.036331407725811,-0.032970100641251,0.015731299296021,0.066856451332569,-0.079357512295246,-0.060469985008240,-0.020038528367877,0.141939148306847));
res += mul(Get(s1,0,dy), float4x4(-0.038879934698343,0.071835622191429,-0.056545048952103,0.197539970278740,-0.022186173126101,0.015481754206121,0.221202284097672,0.124768167734146,-0.189757227897644,0.004449830390513,0.030910395085812,0.023563601076603,-0.050482913851738,0.047754801809788,0.020601596683264,0.011671308428049));
res += mul(Get(s1,dx,-dy), float4x4(-0.037877894937992,0.230952039361000,-0.071205407381058,-0.047561537474394,0.103967070579529,0.045815851539373,-0.042092561721802,-0.135928869247437,-0.004843019880354,-0.080517426133156,-0.015165057033300,0.102539665997028,0.053390391170979,0.023669250309467,0.045728057622910,0.089682340621948));
res += mul(Get(s1,dx,0), float4x4(0.006366514600813,-0.182160302996635,0.177732065320015,-0.096288718283176,0.021832827478647,0.030316043645144,0.116125814616680,-0.003975328058004,0.035625688731670,0.072853051126003,-0.024847963824868,-0.059577342122793,-0.017038304358721,0.117173641920090,-0.017898570746183,0.082284428179264));
res += mul(Get(s1,dx,dy), float4x4(0.009962010197341,-0.005220320075750,0.063941188156605,-0.201495572924614,0.070289149880409,0.168040648102760,0.079271391034126,-0.037319377064705,0.006710319779813,0.022812590003014,0.132517695426941,0.008541909977794,-0.158559143543243,0.140204831957817,-0.052434153854847,-0.042161863297224));
res += mul(Get(s2,-dx,-dy), float4x4(0.096292681992054,0.045765876770020,-0.161464035511017,0.094265386462212,0.046836744993925,-0.003374865977094,0.056113015860319,-0.025970200076699,-0.002697191433981,0.017799153923988,-0.052662879228592,0.072917416691780,0.043648604303598,-0.024985814467072,0.020071214064956,0.042957872152328));
res += mul(Get(s2,-dx,0), float4x4(-0.100986279547215,0.053565695881844,0.059574984014034,-0.105085916817188,0.007946540601552,0.010618432424963,0.018524285405874,0.023746347054839,0.004081538878381,-0.005929696373641,-0.030118208378553,0.053623016923666,-0.093361303210258,0.017972117289901,-0.034710336476564,-0.089977964758873));
res += mul(Get(s2,-dx,dy), float4x4(-0.102254182100296,0.142084673047066,0.013730214908719,0.016674075275660,-0.081947125494480,-0.119639188051224,-0.009414168074727,0.142748460173607,0.020521482452750,0.094136737287045,-0.014147677458823,-0.036912214010954,-0.047195732593536,-0.079436890780926,0.022670285776258,0.096635453402996));
res += mul(Get(s2,0,-dy), float4x4(0.071849547326565,-0.010710886679590,-0.074995428323746,0.081874780356884,0.004126731306314,0.000479412323330,0.057314790785313,0.109522141516209,0.076872341334820,0.057085201144218,0.044707089662552,-0.092051841318607,-0.040309146046638,-0.122959621250629,-0.078924633562565,0.005954503081739));
res += mul(Get(s2,0,0), float4x4(0.002108888234943,0.028190646320581,0.007573162671179,-0.079771153628826,0.223040580749512,-0.090970523655415,-0.083242557942867,0.128468081355095,0.026073323562741,-0.015121433883905,0.015580489300191,-0.099601149559021,0.125178545713425,-0.080228567123413,0.048473741859198,0.090747334063053));
res += mul(Get(s2,0,dy), float4x4(-0.064254112541676,-0.040914811193943,0.109474338591099,-0.020814454182982,0.037380941212177,0.066593810915947,-0.094243295490742,0.040632802993059,0.085933364927769,0.047687951475382,0.026598187163472,-0.035774331539869,-0.062635086476803,-0.004222223535180,-0.058386683464050,0.037578303366899));
res += mul(Get(s2,dx,-dy), float4x4(-0.083289079368114,0.019786646589637,-0.027946604415774,-0.038177579641342,0.020914718508720,0.054630640894175,-0.014413047581911,-0.039264477789402,0.003526212647557,0.049599148333073,-0.012506634928286,0.036892853677273,-0.050706110894680,-0.035682801157236,-0.054912224411964,-0.044881109148264));
res += mul(Get(s2,dx,0), float4x4(-0.024734824895859,-0.012491531670094,-0.069032147526741,0.059761863201857,0.092106327414513,-0.053656574338675,0.030461098998785,0.037597354501486,0.061967093497515,0.102405086159706,0.053946182131767,0.106602303683758,0.037077382206917,0.053729806095362,-0.029763381928205,-0.062169868499041));
res += mul(Get(s2,dx,dy), float4x4(-0.168359428644180,0.029622178524733,0.020833302289248,0.082793079316616,0.014014245010912,0.049403432756662,0.018784534186125,0.059533793479204,-0.037826132029295,-0.080224543809891,0.091297544538975,-0.000225761992624,-0.073502011597157,0.000945021281950,-0.010235985741019,-0.169255957007408));
res += mul(Get(s3,-dx,-dy), float4x4(-0.072506144642830,-0.021655151620507,-0.004365937318653,-0.008171364665031,-0.147189065814018,0.049667935818434,-0.092203393578529,0.002123840851709,-0.023311540484428,0.083299249410629,-0.021534612402320,-0.142048165202141,-0.059369195252657,0.082720279693604,0.051767587661743,-0.004069227725267));
res += mul(Get(s3,-dx,0), float4x4(0.034671232104301,0.051475264132023,0.077669881284237,-0.011912995949388,0.005860866513103,-0.098321989178658,0.027488352730870,-0.048515319824219,-0.026435149833560,0.047488801181316,-0.146290510892868,0.005726767238230,0.005547174252570,0.002902677515522,-0.006192852277309,0.014479371719062));
res += mul(Get(s3,-dx,dy), float4x4(0.019019838422537,0.071330346167088,-0.021069120615721,-0.025857849046588,-0.017055699601769,-0.035224277526140,-0.000069142311986,-0.147223085165024,0.026608994230628,-0.051338493824005,0.173925057053566,0.077614888548851,-0.048510264605284,0.048904921859503,0.003560016863048,0.008956509642303));
res += mul(Get(s3,0,-dy), float4x4(0.096240229904652,0.083930559456348,0.001654230640270,0.064537346363068,0.044154547154903,0.044531002640724,-0.055372789502144,0.030965186655521,0.054959431290627,-0.052753090858459,-0.032478075474501,0.290639549493790,0.091631442308426,0.004940703511238,-0.003147141309455,0.118692457675934));
res += mul(Get(s3,0,0), float4x4(0.025449408218265,-0.134605064988136,-0.006975597236305,-0.001834936439991,-0.002174762543291,0.047998454421759,0.084132842719555,0.152489587664604,0.051910240203142,0.037169273942709,0.058130972087383,0.252069473266602,-0.017960544675589,0.045726053416729,-0.031728118658066,0.008429442532361));
res += mul(Get(s3,0,dy), float4x4(0.099924273788929,-0.079569466412067,0.088926799595356,0.052620038390160,0.072924621403217,-0.091336101293564,0.018812566995621,-0.024555254727602,-0.064944989979267,0.004389646463096,0.086339168250561,0.041962895542383,-0.076926462352276,0.015228009782732,-0.082920402288437,0.113732002675533));
res += mul(Get(s3,dx,-dy), float4x4(0.057911656796932,0.021296745166183,-0.138564914464951,0.055371429771185,-0.011046564206481,0.195347562432289,0.079734452068806,-0.080258689820766,0.009721077978611,0.015824504196644,0.024597285315394,0.021303704008460,0.008503467775881,0.040106575936079,-0.025890046730638,0.054963886737823));
res += mul(Get(s3,dx,0), float4x4(0.115062825381756,0.070586368441582,0.042281799018383,0.020458145067096,0.098825722932816,-0.131102815270424,0.287768125534058,0.033431690186262,0.114233322441578,0.118131101131439,0.051147364079952,-0.056172803044319,-0.056579425930977,-0.026362750679255,0.087947964668274,0.057148259133101));
res += mul(Get(s3,dx,dy), float4x4(0.008661080151796,-0.054266899824142,0.016787063330412,-0.059668604284525,-0.089370496571064,0.015007800422609,0.065603069961071,-0.161770954728127,-0.039504189044237,-0.043364014476538,-0.046919994056225,-0.133514598011971,-0.104067027568817,0.082516767084599,0.139529839158058,-0.098494298756123));
return max(float4(0,0,0,0), res);
}
