sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.047759830951691,-0.004046334419399,0.009331740438938,-0.044479817152023,-0.009158230386674,-0.086459048092365,-0.127263322472572,0.028795208781958,0.001100818626583,-0.022778408601880,0.074035488069057,0.066326521337032,-0.051591183990240,0.001154494355433,0.047101520001888,0.032078482210636));
res += mul(Get(s0,-dx,0), float4x4(-0.030829716473818,0.193679705262184,-0.020131412893534,0.014073644764721,0.156233578920364,-0.022655714303255,-0.033711381256580,0.040230121463537,-0.023730795830488,0.108553439378738,-0.053480099886656,-0.034462958574295,-0.139730051159859,0.040029078722000,0.046596623957157,-0.058019526302814));
res += mul(Get(s0,-dx,dy), float4x4(0.171220347285271,0.013316844590008,-0.004990935791284,0.021268637850881,-0.077917516231537,-0.227232500910759,0.067928783595562,0.015575278550386,0.004056358709931,0.098472520709038,0.004160258919001,0.141193091869354,-0.108210340142250,-0.053352605551481,0.039630644023418,0.030562112107873));
res += mul(Get(s0,0,-dy), float4x4(0.077039927244186,0.069914646446705,0.012096623890102,-0.060110379010439,0.037213753908873,0.023896567523479,-0.047662105411291,0.135935112833977,0.132977157831192,-0.063141226768494,0.007164485752583,-0.004057868383825,-0.001308195409365,-0.077806383371353,0.056245353072882,-0.070141531527042));
res += mul(Get(s0,0,0), float4x4(0.065514460206032,0.016034103929996,-0.028615122660995,-0.037838127464056,0.268356055021286,-0.060798786580563,0.070433124899864,-0.086226500570774,0.195964679121971,-0.130480602383614,0.003094834974036,0.035095561295748,-0.044228952378035,-0.025249898433685,-0.020699797198176,0.018746761605144));
res += mul(Get(s0,0,dy), float4x4(0.104158312082291,-0.110709577798843,-0.039613015949726,0.085858479142189,-0.085388459265232,0.098535269498825,0.199592769145966,-0.085762985050678,0.027376353740692,0.025395287200809,-0.017879048362374,0.074164882302284,0.095456749200821,-0.131854951381683,0.017717113718390,-0.038733176887035));
res += mul(Get(s0,dx,-dy), float4x4(-0.008622511290014,-0.000810766825452,-0.033484496176243,-0.001947790733539,-0.041396073997021,-0.028164673596621,-0.061921175569296,0.106914378702641,-0.047672420740128,0.016126696020365,-0.113823503255844,-0.067170418798923,-0.130859449505806,0.034787122160196,-0.005133240483701,0.018100060522556));
res += mul(Get(s0,dx,0), float4x4(-0.012338829226792,-0.024924235418439,-0.034563738852739,0.065049722790718,0.096281431615353,0.164209231734276,-0.068138912320137,0.043417058885098,0.016097068786621,0.140629619359970,-0.059128198772669,0.059375319629908,-0.063387237489223,-0.073950484395027,0.031603392213583,-0.053597893565893));
res += mul(Get(s0,dx,dy), float4x4(-0.040618836879730,0.035272352397442,0.058396853506565,0.058383744210005,-0.036590557545424,-0.096155755221844,-0.063618473708630,-0.103739537298679,-0.021961856633425,0.009846380911767,-0.011641222052276,0.052891101688147,0.036861728876829,-0.109422594308853,-0.018551563844085,0.037555411458015));
res += mul(Get(s1,-dx,-dy), float4x4(0.049243595451117,0.118292950093746,0.265884131193161,-0.085437782108784,0.058253895491362,0.102803222835064,0.031433466821909,0.002260409528390,-0.003901951946318,-0.020676279440522,-0.002942949067801,-0.089034162461758,-0.028955914080143,0.041690446436405,0.057469371706247,0.089006260037422));
res += mul(Get(s1,-dx,0), float4x4(-0.119060173630714,0.098762385547161,-0.039448738098145,0.007298213429749,0.014802968129516,-0.080916896462440,-0.078658252954483,-0.020642785355449,-0.039796847850084,0.112250700592995,0.018811056390405,0.024557452648878,0.016048775985837,-0.079495452344418,-0.068853884935379,-0.008796261623502));
res += mul(Get(s1,-dx,dy), float4x4(-0.055239990353584,0.022142985835671,0.295293569564819,-0.097488559782505,-0.007637938018888,-0.065928906202316,-0.000994965434074,0.014278481714427,-0.043730299919844,-0.050767149776220,0.005527918692678,-0.087315283715725,0.005011897068471,-0.155623853206635,-0.000896519457456,0.083982072770596));
res += mul(Get(s1,0,-dy), float4x4(-0.193283870816231,0.099663004279137,0.043763015419245,0.015410025604069,0.011905224993825,-0.029092304408550,-0.023493962362409,-0.052808642387390,-0.112458109855652,0.129066526889801,0.048529740422964,0.123995319008827,0.069975674152374,-0.171541944146156,-0.086810119450092,-0.033669143915176));
res += mul(Get(s1,0,0), float4x4(-0.070393167436123,0.073515936732292,-0.148915797472000,0.215704470872879,0.034981280565262,-0.075002543628216,0.020610870793462,-0.013474214822054,0.105157807469368,-0.005331862717867,-0.113135516643524,0.016523445025086,0.043534070253372,-0.106952577829361,0.044049963355064,-0.121391609311104));
res += mul(Get(s1,0,dy), float4x4(0.175999298691750,-0.051656208932400,0.000404390535550,-0.137927502393723,0.035202890634537,-0.046689670532942,0.119485378265381,-0.011162595823407,0.021064890548587,-0.025345718488097,-0.057037159800529,0.072568021714687,0.059813294559717,0.007620648946613,-0.035283658653498,0.129454523324966));
res += mul(Get(s1,dx,-dy), float4x4(-0.084743835031986,-0.065092138946056,-0.008827502839267,0.063595890998840,-0.042862661182880,-0.069891557097435,0.067226640880108,0.000552102865186,0.069674119353294,0.117816247045994,0.100900374352932,0.137630566954613,-0.037995401769876,0.046305093914270,-0.040109198540449,0.005872336681932));
res += mul(Get(s1,dx,0), float4x4(-0.133056417107582,0.057589355856180,0.166013449430466,0.084969744086266,0.115475222468376,0.125895529985428,0.136489123106003,-0.045150581747293,0.064789794385433,-0.005320186726749,-0.009557681158185,-0.028449621051550,-0.093450978398323,-0.024181589484215,0.006728891283274,0.021935272961855));
res += mul(Get(s1,dx,dy), float4x4(0.136413723230362,-0.056393295526505,-0.093490943312645,-0.067434869706631,-0.131929293274879,0.057151529937983,0.021581096574664,-0.090473361313343,-0.047597419470549,0.063173681497574,0.021988747641444,-0.030971992760897,-0.007432647515088,0.069529108703136,0.006219885312021,-0.013865986838937));
res += mul(Get(s2,-dx,-dy), float4x4(-0.076624706387520,0.050829239189625,-0.028434028849006,0.086498335003853,-0.014581476338208,0.008240594528615,-0.025186466053128,0.043899685144424,-0.007560080382973,0.037838973104954,0.068587370216846,-0.092034213244915,-0.031535770744085,-0.029615676030517,0.059519939124584,-0.025309527292848));
res += mul(Get(s2,-dx,0), float4x4(0.100062564015388,0.173182308673859,-0.035886961966753,0.084424972534180,-0.014333311468363,-0.071421518921852,0.062318731099367,0.014808006584644,-0.123703889548779,-0.063301175832748,-0.054722644388676,-0.019404437392950,0.034277301281691,0.145577043294907,0.015264132060111,0.013511903584003));
res += mul(Get(s2,-dx,dy), float4x4(0.003224852262065,0.167869687080383,-0.086507149040699,-0.206573337316513,0.058972101658583,-0.018165277317166,0.010079242289066,0.052382886409760,0.000271392578725,0.008859309367836,-0.130666315555573,-0.073101900517941,-0.034187961369753,-0.019788431003690,0.035527229309082,-0.108809113502502));
res += mul(Get(s2,0,-dy), float4x4(0.008119362406433,-0.005050236824900,-0.063560180366039,0.007482937071472,-0.042062845081091,-0.044829238206148,-0.022885939106345,0.068430311977863,0.071938246488571,0.179938241839409,-0.048380549997091,0.016684466972947,-0.036151111125946,0.125262990593910,-0.078799977898598,0.186939924955368));
res += mul(Get(s2,0,0), float4x4(0.144172668457031,0.056506749242544,0.088185213506222,0.172737032175064,-0.040282212197781,0.049504484981298,0.041547738015652,0.038335107266903,0.055613290518522,-0.023057226091623,0.022829823195934,-0.158443555235863,0.111815802752972,0.171235010027885,-0.033100008964539,0.061593916267157));
res += mul(Get(s2,0,dy), float4x4(-0.039439901709557,0.164605855941772,-0.030353505164385,0.029507724568248,0.229814931750298,0.008858336135745,0.012143844738603,0.076591201126575,0.119250036776066,0.007331448141485,-0.095779754221439,-0.013807854615152,-0.008049579337239,-0.037936184555292,0.065540328621864,0.071320302784443));
res += mul(Get(s2,dx,-dy), float4x4(0.019917279481888,0.096432648599148,0.089340157806873,-0.022470282390714,0.148452252149582,0.038789130747318,-0.024256927892566,-0.030135815963149,0.103410407900810,0.085485525429249,0.102742910385132,0.088846080005169,-0.092127807438374,0.032525133341551,0.138233050704002,0.067148961126804));
res += mul(Get(s2,dx,0), float4x4(0.037561312317848,-0.002706293715164,-0.065395787358284,0.111984953284264,0.138658419251442,-0.011829873546958,-0.009709795936942,0.064021840691566,0.034424629062414,-0.056572292000055,0.115845650434494,0.030339958146214,-0.126400321722031,0.057207774370909,-0.003765565576032,0.002359222387895));
res += mul(Get(s2,dx,dy), float4x4(0.035763833671808,0.074070595204830,-0.014708476141095,0.159439340233803,0.106028437614441,-0.089414395391941,0.100998945534229,0.064840756356716,-0.031988777220249,0.088035382330418,0.000692364119459,0.106875836849213,0.038378905504942,0.047862157225609,0.143891975283623,-0.004357581026852));
res += mul(Get(s3,-dx,-dy), float4x4(-0.033323980867863,0.010682559572160,-0.132467001676559,-0.177269086241722,0.014536456204951,-0.063750982284546,-0.038371711969376,0.052288562059402,-0.018840262666345,-0.138806819915771,-0.095236755907536,0.218105912208557,0.071560233831406,0.155701994895935,0.005034381058067,0.011921735480428));
res += mul(Get(s3,-dx,0), float4x4(-0.031713075935841,0.003961111884564,-0.057704236358404,-0.074672691524029,0.057149801403284,-0.066101245582104,0.045973405241966,0.078733921051025,-0.016973258927464,-0.120409183204174,0.042980831116438,-0.038080405443907,0.031523041427135,0.087233804166317,-0.003396054729819,0.023185599595308));
res += mul(Get(s3,-dx,dy), float4x4(-0.008423458784819,0.146311908960342,0.043209414929152,-0.017551047727466,0.073707610368729,-0.096298597753048,0.114681810140610,-0.007811406161636,-0.096716858446598,0.015207986347377,0.094368070363998,0.016068467870355,-0.091355912387371,0.041952535510063,-0.009266320616007,-0.020438982173800));
res += mul(Get(s3,0,-dy), float4x4(0.005470111966133,-0.108884677290916,0.074153237044811,-0.045735333114862,0.127767845988274,0.129346206784248,0.021682955324650,0.048504039645195,-0.035339470952749,-0.150471806526184,0.115489371120930,0.161160141229630,0.004772911313921,0.059895008802414,-0.015889948233962,-0.005069381557405));
res += mul(Get(s3,0,0), float4x4(-0.072797350585461,-0.106142848730087,-0.048839874565601,0.047505326569080,0.033516686409712,0.026437234133482,0.008933266624808,-0.019084872677922,0.133929744362831,0.052598841488361,0.015411340631545,0.170988991856575,0.046796802431345,0.094231598079205,0.105078041553497,-0.009427462704480));
res += mul(Get(s3,0,dy), float4x4(0.001830164226703,0.062087908387184,-0.011588905937970,0.042492952197790,-0.118637688457966,0.157990619540215,0.104119405150414,-0.096629694104195,-0.094015628099442,0.100031457841396,-0.076219767332077,-0.068697698414326,-0.048836875706911,0.018347924575210,0.085182853043079,-0.016899894922972));
res += mul(Get(s3,dx,-dy), float4x4(-0.153316080570221,-0.150458157062531,-0.057658683508635,-0.038942668586969,0.011221164837480,-0.034253850579262,0.011877147480845,-0.044278822839260,-0.109459891915321,0.073377341032028,-0.044884413480759,-0.027755970135331,-0.049517534673214,-0.008121719583869,-0.028256677091122,-0.059936050325632));
res += mul(Get(s3,dx,0), float4x4(-0.067989714443684,0.063208214938641,-0.108102321624756,-0.087280325591564,0.083970949053764,0.110718637704849,0.012411942705512,-0.141877532005310,0.097723342478275,0.020531298592687,0.008840801194310,-0.092180036008358,0.022524669766426,-0.019927663728595,0.050509549677372,-0.052865386009216));
res += mul(Get(s3,dx,dy), float4x4(-0.026292579248548,0.096961461007595,0.072680599987507,0.063930526375771,0.013990170322359,-0.015137542039156,0.028510672971606,-0.049639940261841,-0.085628286004066,-0.022335829213262,0.098220780491829,-0.149400800466537,-0.073409929871559,0.014615827240050,-0.040350630879402,-0.061250329017639));
return max(float4(0,0,0,0), res);
}
