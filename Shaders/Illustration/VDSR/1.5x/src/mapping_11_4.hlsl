sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.000160188021255,0.068039238452911,-0.003082776442170,-0.006351673509926,-0.006380527280271,-0.032912921160460,0.044586066156626,-0.071083836257458,-0.064172282814980,0.044380366802216,-0.002222575712949,0.002294856589288,0.059666499495506,-0.148709565401077,-0.069805249571800,0.021159492433071));
res += mul(Get(s0,-dx,0), float4x4(-0.008554068394005,0.125306576490402,0.008718861266971,-0.052038162946701,-0.043228324502707,0.042985890060663,-0.189870566129684,-0.055594261735678,0.002150937682018,0.081924870610237,0.028186531737447,-0.013325295411050,-0.085456520318985,0.015431554988027,0.110185325145721,-0.054991647601128));
res += mul(Get(s0,-dx,dy), float4x4(-0.010304398834705,0.013335557654500,0.102146349847317,-0.016208875924349,-0.053466256707907,0.052479099482298,-0.128021165728569,-0.093737818300724,0.049252759665251,-0.099736385047436,-0.007332808803767,-0.009633639827371,0.076396964490414,0.069325357675552,0.004785243421793,0.060526397079229));
res += mul(Get(s0,0,-dy), float4x4(0.025094809010625,0.081812515854836,0.074034862220287,0.059800423681736,0.017207525670528,0.039659727364779,0.052901685237885,0.004193735774606,-0.031454496085644,-0.156590208411217,-0.011375847272575,-0.009943419136107,-0.083642967045307,-0.028625259175897,-0.106645479798317,-0.023140935227275));
res += mul(Get(s0,0,0), float4x4(0.032745722681284,-0.016219904646277,0.014380125328898,0.017581233754754,-0.014436470344663,-0.008511723950505,-0.130978390574455,0.018434824422002,-0.049361016601324,-0.008504247292876,0.082855209708214,0.004604104440659,0.053618967533112,-0.122132979333401,0.073901198804379,0.018800688907504));
res += mul(Get(s0,0,dy), float4x4(0.045147918164730,0.046308189630508,-0.000203800707823,-0.077929452061653,-0.026270411908627,-0.009684333577752,0.054698757827282,0.033068057149649,-0.056574810296297,-0.078970372676849,0.027477342635393,0.005716360639781,0.019989684224129,0.022881573066115,0.105900503695011,0.075497023761272));
res += mul(Get(s0,dx,-dy), float4x4(0.005504686385393,0.027291323989630,-0.056109562516212,0.004977005999535,0.011811858974397,-0.042586360126734,0.007862306199968,-0.145592242479324,0.024346942082047,-0.019445190206170,-0.053636301308870,-0.055022820830345,-0.031714454293251,-0.035400722175837,-0.002519442467019,0.041926190257072));
res += mul(Get(s0,dx,0), float4x4(-0.026690384373069,0.057072572410107,0.051394052803516,0.017984172329307,-0.070582933723927,-0.024093607440591,-0.003762375796214,-0.019934417679906,0.010150169022381,-0.042695574462414,-0.064735680818558,0.026656933128834,0.041058696806431,0.007890228182077,-0.088234737515450,-0.097151882946491));
res += mul(Get(s0,dx,dy), float4x4(0.096805825829506,0.050769515335560,0.009237975813448,0.050658270716667,-0.033443264663219,-0.057556275278330,0.012886897660792,0.062206525355577,0.005797269754112,0.042686324566603,-0.012874811887741,0.008306608535349,0.056560236960649,0.050843615084887,-0.092595972120762,0.002078847261146));
res += mul(Get(s1,-dx,-dy), float4x4(-0.023250581696630,0.100282028317451,0.053525671362877,0.004085042048246,-0.045192785561085,0.079572550952435,-0.019265891984105,-0.037371382117271,0.078417301177979,-0.000013355042938,0.025758268311620,-0.076859548687935,-0.040939014405012,0.065499268472195,-0.097710281610489,0.053557887673378));
res += mul(Get(s1,-dx,0), float4x4(0.032674286514521,0.079916417598724,-0.018089780583978,-0.007997046224773,-0.041685950011015,0.062219232320786,0.013091244734824,0.004116476513445,0.063983440399170,0.092985123395920,-0.028054140508175,0.012719109654427,0.057082701474428,0.312825977802277,0.058826252818108,-0.042290978133678));
res += mul(Get(s1,-dx,dy), float4x4(0.071989446878433,0.079435646533966,0.017676077783108,-0.058869365602732,-0.054703414440155,-0.028487544506788,-0.089424774050713,-0.022795246914029,-0.002741874428466,-0.010047015734017,-0.035661704838276,-0.071062028408051,-0.022430913522840,-0.079575747251511,0.066210560500622,0.018212510272861));
res += mul(Get(s1,0,-dy), float4x4(0.064191713929176,0.112695969641209,0.032566066831350,0.017431590706110,-0.017816001549363,-0.034770749509335,-0.013384100981057,-0.125771686434746,0.078416951000690,-0.059511374682188,0.016924358904362,-0.056728143244982,0.091896906495094,-0.168404877185822,-0.093390926718712,-0.092374719679356));
res += mul(Get(s1,0,0), float4x4(0.075121708214283,0.071563623845577,-0.123300142586231,-0.024030314758420,-0.033194497227669,0.068483725190163,-0.041170254349709,-0.050014235079288,0.054883450269699,0.159238874912262,0.067359410226345,-0.002886997535825,0.073637224733829,0.167213499546051,0.091728597879410,0.015283372253180));
res += mul(Get(s1,0,dy), float4x4(-0.049166485667229,0.011926147155464,0.062702804803848,-0.008807438425720,0.011762253940105,0.112661428749561,-0.027426149696112,0.018294308334589,-0.031007476150990,0.033731680363417,0.030371019616723,-0.063068583607674,-0.113312087953091,-0.008712146431208,0.013994769193232,-0.032966598868370));
res += mul(Get(s1,dx,-dy), float4x4(-0.056351955980062,-0.123329304158688,0.104320801794529,0.048902925103903,-0.055817447602749,-0.129234850406647,0.001281738164835,-0.013765469193459,-0.028668940067291,0.017656296491623,-0.032064676284790,-0.003658646484837,0.050405606627464,-0.009094154462218,-0.066001288592815,-0.029971098527312));
res += mul(Get(s1,dx,0), float4x4(-0.094443768262863,-0.072367943823338,-0.029726527631283,-0.023062709718943,-0.027035504579544,-0.060769002884626,-0.092511504888535,-0.009526374749839,-0.020658496767282,0.130822524428368,0.117912217974663,0.022987179458141,-0.026671921834350,0.108236394822598,0.028299134224653,-0.047194566577673));
res += mul(Get(s1,dx,dy), float4x4(0.050163883715868,-0.071611076593399,0.035471569746733,-0.023298360407352,0.013010401278734,-0.033802367746830,0.111971244215965,0.110823690891266,0.080942377448082,0.033449988812208,0.022991817444563,0.031623616814613,-0.089386962354183,0.069564968347549,-0.003479332197458,-0.039468973875046));
res += mul(Get(s2,-dx,-dy), float4x4(-0.035778257995844,-0.023288160562515,-0.041757870465517,0.043449409306049,-0.015180410817266,-0.037082228809595,-0.031893007457256,-0.046916488558054,0.050280120223761,-0.048004969954491,-0.044489946216345,0.024776807054877,-0.017417592927814,-0.052399922162294,-0.076811201870441,0.048448450863361));
res += mul(Get(s2,-dx,0), float4x4(0.049315601587296,0.027617925778031,-0.008663300424814,-0.041808746755123,-0.009484448470175,0.011078099720180,0.025519397109747,-0.052859090268612,-0.112707838416100,0.063653185963631,0.020703207701445,0.104589849710464,-0.063292436301708,0.028639206662774,-0.000481354043586,0.035856060683727));
res += mul(Get(s2,-dx,dy), float4x4(-0.019112862646580,0.222528815269470,0.023116437718272,0.028140829876065,0.059185635298491,0.076907999813557,-0.041874099522829,-0.024150071665645,-0.035811509937048,0.138305112719536,0.069861933588982,-0.103795558214188,0.027357045561075,-0.017045792192221,0.139126956462860,-0.026151997968554));
res += mul(Get(s2,0,-dy), float4x4(0.072972431778908,0.103556051850319,0.057513300329447,0.025067247450352,-0.042087949812412,-0.001459383405745,-0.089251749217510,0.037193424999714,-0.043094340711832,-0.013567895628512,-0.010766302235425,-0.017973233014345,-0.054320417344570,0.004955017939210,-0.060860682278872,-0.000524398346897));
res += mul(Get(s2,0,0), float4x4(0.007136515341699,0.013587198220193,-0.063517794013023,-0.016425047069788,0.034600868821144,0.010398478247225,0.022405985742807,0.053514812141657,-0.065448276698589,0.018422063440084,0.040133867412806,0.083051279187202,-0.011535949073732,0.090423189103603,-0.076313368976116,-0.012750384397805));
res += mul(Get(s2,0,dy), float4x4(0.041343636810780,0.139974072575569,0.134889498353004,-0.083109490573406,-0.059259466826916,-0.120083481073380,-0.028228199109435,-0.011370480991900,0.070880644023418,-0.000328526686644,-0.020549995824695,0.007871920242906,-0.038607627153397,0.078791178762913,0.075719192624092,0.072166308760643));
res += mul(Get(s2,dx,-dy), float4x4(-0.069897919893265,-0.019618999212980,0.013943531550467,0.012850714847445,-0.059585090726614,0.011929471045732,0.036347147077322,0.044871624559164,-0.001452601631172,-0.001396764651872,0.026897013187408,0.048540826886892,-0.098891265690327,-0.058263897895813,0.019352257251740,-0.063257150352001));
res += mul(Get(s2,dx,0), float4x4(-0.051116704940796,0.016097906976938,0.009720933623612,0.095505028963089,0.011013089679182,-0.030883163213730,-0.079767398536205,0.100441068410873,-0.083346001803875,0.070965141057968,0.082041792571545,-0.066000677645206,-0.040256064385176,0.017013672739267,-0.044862780719995,-0.004964313004166));
res += mul(Get(s2,dx,dy), float4x4(-0.002856274368241,0.087691903114319,0.092125356197357,0.018973834812641,0.103084169328213,-0.041929032653570,0.040178425610065,0.004258314147592,0.017766196280718,0.035590540617704,0.074832767248154,0.085203289985657,-0.000422769342549,-0.077521517872810,0.118687666952610,-0.089317061007023));
res += mul(Get(s3,-dx,-dy), float4x4(0.020513463765383,0.068766504526138,0.023221684619784,0.014823657460511,-0.006231809966266,0.010935313999653,-0.044362712651491,0.026928452774882,0.067336142063141,-0.083531513810158,0.041312620043755,0.066170118749142,0.001323618926108,0.024307077750564,-0.016423972323537,-0.001850108033977));
res += mul(Get(s3,-dx,0), float4x4(0.027998466044664,-0.068914324045181,0.016175730153918,0.029591202735901,0.041286960244179,0.129070669412613,0.116832450032234,-0.008687284775078,0.021146003156900,0.040444783866405,0.020783044397831,-0.002415853086859,0.014627958647907,-0.004318623803556,-0.004350600298494,-0.018700283020735));
res += mul(Get(s3,-dx,dy), float4x4(-0.028170598670840,-0.025442689657211,-0.022261202335358,-0.033373933285475,-0.059664517641068,-0.025491015985608,0.041755959391594,0.055442031472921,0.006458332296461,-0.024956742301583,-0.026129007339478,-0.112380467355251,-0.008662675507367,-0.010305433534086,0.169712170958519,0.045897532254457));
res += mul(Get(s3,0,-dy), float4x4(0.009930105879903,0.062534607946873,0.173292323946953,-0.019856432452798,0.043069213628769,0.181096836924553,-0.080207951366901,-0.010836286470294,0.004404727835208,-0.023463750258088,0.138326540589333,-0.061819318681955,0.038326226174831,-0.022455755621195,0.133621320128441,-0.099266745150089));
res += mul(Get(s3,0,0), float4x4(-0.027463380247355,-0.034009881317616,0.033620744943619,0.066265128552914,-0.055629145354033,0.022473543882370,0.087827496230602,-0.007589932531118,-0.105592854321003,-0.113389372825623,0.004279886838049,-0.001765889581293,-0.020485920831561,0.067006625235081,-0.025887830182910,0.019539237022400));
res += mul(Get(s3,0,dy), float4x4(0.005693070124835,-0.096529610455036,0.039804477244616,-0.013405191712081,0.020486675202847,-0.095324240624905,-0.027959341183305,0.029559602960944,-0.067159421741962,-0.015628380700946,-0.064457073807716,0.067531205713749,-0.066439397633076,-0.000483856769279,0.042881097644567,0.015560032799840));
res += mul(Get(s3,dx,-dy), float4x4(-0.074496179819107,-0.039108324795961,0.048304345458746,-0.059751641005278,-0.012700449675322,-0.014534158632159,0.035509653389454,-0.015364625491202,0.062974557280540,0.020453220233321,0.112700410187244,-0.120515152812004,0.035424038767815,0.030607083812356,-0.020824061706662,0.078493200242519));
res += mul(Get(s3,dx,0), float4x4(0.026617098599672,-0.093884915113449,-0.050762828439474,-0.030698005110025,-0.024055918678641,0.010743506252766,0.046359367668629,-0.019191771745682,-0.012702562846243,-0.108347520232201,-0.101407699286938,-0.057807087898254,0.085444524884224,0.056775901466608,0.161637350916862,0.012911684811115));
res += mul(Get(s3,dx,dy), float4x4(-0.003285680664703,-0.039686948060989,0.040469516068697,-0.034734532237053,0.042693790048361,-0.015928646549582,0.037095766514540,-0.003468170296401,-0.014816679991782,-0.130931049585342,-0.069200322031975,-0.099020212888718,-0.027096610516310,0.025113126263022,0.132675781846046,0.013521347194910));
return max(float4(0,0,0,0), res);
}
