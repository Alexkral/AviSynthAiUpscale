sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.025288576260209,0.036175146698952,0.061494361609221,0.072231791913509,-0.046810273081064,-0.126391783356667,-0.061151761561632,-0.000752194842789,0.006243020296097,0.042074151337147,0.106341160833836,0.097710929811001,0.029703304171562,-0.038660306483507,0.008507757447660,0.096176758408546));
res += mul(Get(s0,-dx,0), float4x4(-0.022977845743299,-0.058465275913477,-0.014758726581931,0.090302243828773,0.012032535858452,-0.054978664964437,-0.002590418793261,0.027370270341635,0.012696087360382,0.075984276831150,0.034588593989611,-0.053360637277365,-0.001278920681216,0.047169886529446,0.040681868791580,0.017104957252741));
res += mul(Get(s0,-dx,dy), float4x4(-0.024105172604322,-0.073107264935970,-0.024231007322669,0.076174125075340,0.061738155782223,-0.044897507876158,-0.004270484670997,0.009650026448071,-0.008324306458235,-0.031760092824697,-0.009373366832733,-0.101931728422642,-0.115992821753025,0.010427259840071,-0.048345182090998,0.043105106800795));
res += mul(Get(s0,0,-dy), float4x4(-0.031508438289165,-0.005251375492662,-0.026104282587767,-0.102105200290680,0.082300938665867,0.060784853994846,-0.029511867091060,0.057102169841528,-0.097477436065674,0.049070566892624,0.096498325467110,0.103952169418335,0.070935189723969,-0.049201127141714,0.016192996874452,0.013092763721943));
res += mul(Get(s0,0,0), float4x4(0.005988297052681,-0.092820294201374,-0.058166366070509,-0.057652883231640,0.049860786646605,0.071237355470657,-0.029803311452270,0.105934128165245,-0.088317640125751,-0.014197233133018,-0.008235683664680,0.153421238064766,0.130789682269096,0.024282146245241,0.026296960189939,-0.003682340960950));
res += mul(Get(s0,0,dy), float4x4(-0.049554999917746,-0.125308558344841,-0.081143185496330,-0.076514214277267,0.052906602621078,0.046689361333847,0.051080923527479,0.083416566252708,0.105643153190613,-0.058870196342468,0.070423044264317,0.045071035623550,0.037268575280905,-0.050703365355730,-0.030542660504580,-0.002189156599343));
res += mul(Get(s0,dx,-dy), float4x4(-0.005490978248417,0.032955709844828,0.005407495889813,-0.031445823609829,0.067987896502018,-0.027533739805222,-0.002257403451949,0.062900789082050,-0.064372211694717,0.028199335560203,0.016059853136539,-0.029916010797024,0.045371245592833,0.016655301675200,-0.040246836841106,0.014996259473264));
res += mul(Get(s0,dx,0), float4x4(0.026586020365357,-0.031835857778788,-0.026460226625204,-0.085570298135281,0.054795105010271,0.027310593053699,-0.023050222545862,0.089414551854134,-0.099314846098423,-0.064556397497654,-0.025027967989445,-0.023282207548618,0.055528249591589,0.036417882889509,-0.025305632501841,-0.024372100830078));
res += mul(Get(s0,dx,dy), float4x4(-0.037976752966642,0.070500575006008,0.007779913954437,-0.103999271988869,0.009976079687476,-0.049021676182747,-0.011970488354564,0.110217757523060,-0.006002665031701,-0.020154528319836,0.041184484958649,0.039290361106396,-0.016332753002644,-0.001071108272299,0.031363930553198,-0.032647002488375));
res += mul(Get(s1,-dx,-dy), float4x4(-0.058689285069704,-0.031607471406460,-0.075994826853275,0.000372717186110,0.005947752855718,0.044804137200117,-0.030977081507444,0.033232808113098,-0.135294303297997,-0.051638741046190,-0.137908712029457,0.000165809702594,-0.017974175512791,0.029107861220837,-0.031861029565334,-0.038930907845497));
res += mul(Get(s1,-dx,0), float4x4(-0.041976969689131,0.086062937974930,-0.083179093897343,-0.011793001554906,0.027513025328517,0.054705373942852,-0.028495972976089,-0.001634903368540,0.071038119494915,0.020163783803582,-0.044503770768642,-0.050832092761993,-0.027975829318166,-0.002330319257453,0.026085071265697,0.044574405997992));
res += mul(Get(s1,-dx,dy), float4x4(-0.004997186362743,0.062023956328630,0.051155995577574,-0.103354573249817,0.117168962955475,0.042966756969690,0.008796515874565,0.003494641510770,-0.060996409505606,-0.094735607504845,0.032356780022383,0.072836741805077,-0.008165716193616,0.055381737649441,0.030742965638638,0.030980780720711));
res += mul(Get(s1,0,-dy), float4x4(-0.164834514260292,-0.064021356403828,-0.014971141703427,-0.107881009578705,0.009525166824460,-0.078506037592888,0.052860096096992,-0.003361260984093,0.099846735596657,-0.017120426520705,-0.083059743046761,0.052912585437298,-0.095416136085987,-0.058105591684580,0.087096229195595,-0.054830010980368));
res += mul(Get(s1,0,0), float4x4(-0.040639348328114,-0.038536384701729,-0.102290473878384,0.007359362673014,0.049751862883568,0.021311361342669,-0.029682878404856,0.062229547649622,0.065923236310482,0.145331397652626,0.088698178529739,-0.042262908071280,-0.071327120065689,0.031126029789448,-0.151529684662819,-0.004989897366613));
res += mul(Get(s1,0,dy), float4x4(0.078637577593327,-0.010184115730226,0.052910752594471,0.084881812334061,0.038040004670620,0.117903731763363,0.044005054980516,0.003208502428606,-0.004763073753566,-0.014670428819954,-0.047508023679256,-0.042998261749744,0.032382778823376,-0.041287966072559,0.232398286461830,-0.085502214729786));
res += mul(Get(s1,dx,-dy), float4x4(-0.136322632431984,0.007349611259997,-0.048888079822063,-0.066116705536842,0.012761906720698,-0.059568990021944,-0.040287833660841,0.168843120336533,0.045239839702845,0.046389065682888,-0.083135567605495,-0.094471223652363,-0.085227929055691,-0.001929893041961,-0.024364655837417,-0.015793334692717));
res += mul(Get(s1,dx,0), float4x4(-0.015048250555992,-0.074236921966076,-0.019314905628562,-0.063189685344696,0.134020730853081,0.119056582450867,-0.044099323451519,0.021346885710955,0.014425603672862,0.089085824787617,-0.002945041051134,-0.055017750710249,-0.038663603365421,-0.102908097207546,-0.009786704555154,-0.001173069234937));
res += mul(Get(s1,dx,dy), float4x4(-0.024395031854510,0.002121155848727,0.075203619897366,-0.030660148710012,0.050574585795403,0.042290374636650,-0.029383029788733,-0.016465079039335,0.026665622368455,-0.083691425621510,-0.053877830505371,-0.105314075946808,-0.016426187008619,-0.073103971779346,0.090242043137550,-0.037328593432903));
res += mul(Get(s2,-dx,-dy), float4x4(0.043555993586779,0.000213668274228,0.015553009696305,-0.074304386973381,-0.056106567382813,-0.072880074381828,0.062924556434155,0.112639635801315,0.038977716118097,0.013715514913201,-0.026593022048473,0.124121382832527,-0.030529553070664,-0.076771534979343,-0.023434275761247,-0.013978566043079));
res += mul(Get(s2,-dx,0), float4x4(0.056460946798325,-0.007949313148856,-0.020990770310163,0.036941185593605,0.049684308469296,0.156434550881386,-0.109543509781361,-0.049601700156927,0.110608413815498,0.025311037898064,0.002844732720405,0.032583586871624,-0.079663194715977,-0.078058578073978,-0.037300191819668,-0.055888079106808));
res += mul(Get(s2,-dx,dy), float4x4(-0.015309388749301,0.052266769111156,0.036424580961466,-0.070500053465366,-0.062995083630085,-0.031530037522316,-0.029585804790258,0.005058376118541,0.093299895524979,0.005210128612816,-0.043021615594625,-0.012625090777874,-0.100985504686832,-0.032305587083101,0.033340521156788,-0.029927184805274));
res += mul(Get(s2,0,-dy), float4x4(-0.084130279719830,0.032399620860815,-0.029192369431257,-0.149189978837967,-0.023881932720542,-0.041295003145933,0.075166635215282,-0.116266690194607,-0.043910056352615,0.009796161204576,0.052918389439583,-0.024943388998508,0.070108078420162,0.019675359129906,-0.022493086755276,-0.042175836861134));
res += mul(Get(s2,0,0), float4x4(-0.055688284337521,-0.116720102727413,0.082719974219799,-0.112377360463142,-0.015027163550258,0.063714079558849,-0.102343961596489,0.085931420326233,0.021705051884055,0.003114527324215,-0.027867691591382,-0.026424471288919,0.057011026889086,0.130931392312050,0.000311875512125,-0.075853198766708));
res += mul(Get(s2,0,dy), float4x4(0.005497195757926,0.000819215318188,-0.038091961294413,-0.072681635618210,-0.085072040557861,0.194838240742683,0.053044080734253,0.068006664514542,0.167364299297333,0.071524612605572,-0.006972947157919,-0.085604272782803,-0.042757365852594,0.010904885828495,0.007312546018511,-0.047951523214579));
res += mul(Get(s2,dx,-dy), float4x4(-0.117089562118053,0.047855522483587,-0.095197990536690,-0.090392909944057,0.044431019574404,0.025934020057321,-0.039248827844858,-0.019873615354300,0.014206795953214,-0.020606083795428,-0.077409863471985,-0.095356598496437,0.121237911283970,-0.066472679376602,0.010512848384678,-0.023957524448633));
res += mul(Get(s2,dx,0), float4x4(0.022956347092986,-0.073440462350845,0.280983299016953,-0.130195260047913,-0.033794865012169,-0.106286235153675,0.007012486923486,0.116320408880711,0.130693510174751,-0.013334278017282,0.005120493005961,-0.105348713696003,0.038632128387690,0.079416662454605,0.073987521231174,0.051633127033710));
res += mul(Get(s2,dx,dy), float4x4(0.057729296386242,0.019035277888179,-0.112049996852875,-0.038645204156637,-0.001158624188974,-0.028157899156213,-0.041986618191004,0.020962376147509,0.075147666037083,0.005972495302558,0.049563921988010,-0.127291962504387,-0.008062019944191,0.024066919460893,0.069639503955841,0.044746220111847));
res += mul(Get(s3,-dx,-dy), float4x4(-0.082073301076889,-0.037376664578915,0.053933989256620,0.066517442464828,-0.026417396962643,-0.007764599286020,-0.029697243124247,-0.035530030727386,0.079401597380638,0.073178306221962,0.140340045094490,0.058574374765158,0.040931046009064,0.018536994233727,-0.000045284927182,0.081307411193848));
res += mul(Get(s3,-dx,0), float4x4(0.096668750047684,0.010412837378681,0.003613729029894,-0.071413129568100,-0.000784912670497,-0.029096107929945,0.027894498780370,-0.014337858185172,0.103720918297768,0.013047998771071,-0.011628561653197,-0.008272098377347,-0.002412419533357,0.066986508667469,0.099234372377396,-0.027910707518458));
res += mul(Get(s3,-dx,dy), float4x4(-0.003504233667627,-0.004715077579021,-0.008505668491125,-0.110499672591686,0.076014928519726,-0.007363689597696,0.042497549206018,-0.004442441277206,-0.022350590676069,-0.022233674302697,-0.076942548155785,-0.008195433765650,0.012570550665259,-0.082263037562370,0.044565029442310,0.016299003735185));
res += mul(Get(s3,0,-dy), float4x4(-0.078153528273106,-0.034290239214897,-0.023184128105640,0.235416531562805,0.014046572148800,-0.034826681017876,0.015967011451721,-0.021862912923098,0.081399880349636,-0.009347653016448,0.017002180218697,-0.028192996978760,-0.037894014269114,0.048208236694336,0.033439729362726,0.065851867198944));
res += mul(Get(s3,0,0), float4x4(0.060384955257177,0.076290801167488,-0.078425772488117,0.065073676407337,-0.003105215495452,-0.005020017269999,-0.051761217415333,0.017352154478431,0.137943834066391,0.060845337808132,0.080534078180790,-0.108685590326786,-0.135698243975639,-0.017582662403584,0.044193137437105,0.031471390277147));
res += mul(Get(s3,0,dy), float4x4(-0.011232881806791,0.061414867639542,0.097030788660049,0.065353192389011,0.060561589896679,0.010349623858929,0.047312345355749,-0.037430692464113,-0.038624107837677,0.003127969801426,-0.096684306859970,-0.041634738445282,-0.040440279990435,0.023793034255505,-0.068779185414314,-0.003598581068218));
res += mul(Get(s3,dx,-dy), float4x4(-0.037666033953428,-0.014615410007536,-0.033787522464991,0.045917410403490,-0.050191465765238,-0.062139488756657,0.021790368482471,-0.015462904237211,-0.079253062605858,-0.068529345095158,0.001690928242169,-0.102914154529572,-0.136685267090797,0.192387804389000,0.120129622519016,0.079992018640041));
res += mul(Get(s3,dx,0), float4x4(0.038156274706125,0.014724046923220,-0.043941557407379,0.020043142139912,0.026023117825389,-0.027765452861786,-0.056605800986290,0.020293552428484,-0.069974400103092,-0.021518293768167,-0.005602577701211,-0.073813371360302,-0.118384450674057,0.073210164904594,0.072322100400925,0.026236098259687));
res += mul(Get(s3,dx,dy), float4x4(-0.103206820785999,-0.017352197319269,0.165981799364090,0.102679766714573,-0.048270463943481,-0.094101607799530,0.045715793967247,0.026125470176339,-0.095564581453800,0.005674262531102,0.013005078770220,-0.012132246978581,-0.028017397969961,0.018127927556634,-0.063426554203033,-0.011607556603849));
return max(float4(0,0,0,0), res);
}
