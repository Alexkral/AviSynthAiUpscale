sampler s0 : register(s0);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(x, y)   tex2D(s0, tex + float2(x, y))[0]

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += float4(-0.077057063579559,-0.078722447156906,-0.149682447314262,-0.232094377279282) * Get(-dx,-dy);
res += float4(-0.093581520020962,0.097668461501598,0.187041759490967,-0.145461931824684) * Get(-dx,0);
res += float4(-0.108716122806072,-0.025451755151153,0.104105822741985,0.028769763186574) * Get(-dx,dy);
res += float4(-0.056499570608139,-0.023768762126565,-0.013471730053425,0.018743496388197) * Get(0,-dy);
res += float4(-0.209867328405380,0.266552418470383,-0.181215897202492,0.017466273158789) * Get(0,0);
res += float4(0.074075646698475,-0.012800682336092,-0.130070820450783,-0.044847197830677) * Get(0,dy);
res += float4(0.071284897625446,-0.030747845768929,-0.029561268165708,0.001198906684294) * Get(dx,-dy);
res += float4(0.010053626261652,-0.126125827431679,0.046577125787735,-0.064228035509586) * Get(dx,0);
res += float4(-0.002361941849813,-0.135065719485283,-0.152751207351685,0.071306183934212) * Get(dx,dy);
return max(float4(0,0,0,0), res);
}
