sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.129989445209503,0.071848228573799,0.025999624282122,-0.012461288832128,0.019322924315929,-0.030348867177963,0.023491680622101,-0.038181014358997,0.085420869290829,0.049621015787125,0.014051865786314,-0.082310348749161,0.032362099736929,-0.091668963432312,-0.017503095790744,0.006173187401146));
res += mul(Get(s0,-dx,0), float4x4(0.104612708091736,-0.038794774562120,-0.007140143774450,-0.054271690547466,0.096800528466702,0.021911673247814,0.047328095883131,-0.029193254187703,-0.095352470874786,-0.050321012735367,0.045882597565651,-0.019797246903181,0.073607094585896,0.010408417321742,0.063474170863628,-0.072066143155098));
res += mul(Get(s0,-dx,dy), float4x4(0.076019801199436,-0.064448401331902,-0.053560197353363,-0.006489290390164,-0.049385804682970,0.022941581904888,-0.018831690773368,0.116559632122517,0.020965179428458,-0.034796331077814,-0.019493572413921,0.040048636496067,0.112834967672825,-0.009805593639612,0.002638249192387,-0.005082471296191));
res += mul(Get(s0,0,-dy), float4x4(-0.054593853652477,-0.047618072479963,0.022269207984209,0.047532055526972,0.064215108752251,-0.022271772846580,0.030935421586037,0.063545107841492,0.173867836594582,0.032266572117805,-0.036717969924212,-0.005803412757814,0.126874938607216,-0.033242773264647,0.014127088710666,-0.000151424610522));
res += mul(Get(s0,0,0), float4x4(-0.035153780132532,0.028713811188936,-0.074423953890800,0.050106447190046,-0.043027829378843,-0.060900826007128,0.015093458816409,0.031721848994493,0.115253731608391,-0.080476529896259,0.091748192906380,-0.031593825668097,-0.178453296422958,0.021675005555153,0.056430932134390,0.013889925554395));
res += mul(Get(s0,0,dy), float4x4(-0.083762109279633,-0.032938346266747,-0.098938651382923,0.010007950477302,-0.022223263978958,-0.043290209025145,0.114439077675343,0.068885967135429,-0.047666240483522,-0.056458469480276,-0.007396498229355,0.048145689070225,0.047917194664478,0.007396809291095,-0.041634581983089,-0.022456742823124));
res += mul(Get(s0,dx,-dy), float4x4(-0.043488759547472,0.074353426694870,0.038725186139345,-0.051933422684669,0.008434276096523,0.060721382498741,0.046152990311384,0.011023235507309,-0.002338144229725,-0.004669072106481,-0.089922279119492,0.002687819302082,0.158927634358406,0.052517063915730,0.005877727642655,0.035686951130629));
res += mul(Get(s0,dx,0), float4x4(0.017150562256575,-0.033021025359631,-0.051788419485092,0.020438924431801,0.012817163020372,0.017266925424337,-0.026975682005286,-0.062136698514223,0.025628104805946,0.026121895760298,-0.108176007866859,-0.061855744570494,-0.136387601494789,-0.011052399873734,0.024372488260269,-0.071089163422585));
res += mul(Get(s0,dx,dy), float4x4(-0.011329689063132,0.034072108566761,0.027461722493172,-0.013056705705822,-0.087995275855064,-0.043373674154282,-0.032918121665716,-0.040234040468931,-0.000234351900872,-0.056168418377638,0.011174499057233,-0.030197726562619,0.293112337589264,-0.103507168591022,0.034161951392889,0.033540651202202));
res += mul(Get(s1,-dx,-dy), float4x4(0.046054080128670,0.086566053330898,0.097614310681820,0.020010128617287,0.004850951954722,-0.078425347805023,0.021082974970341,0.045535828918219,-0.136928796768188,-0.082071647047997,-0.067776598036289,0.053301308304071,0.051370806992054,-0.024642974138260,0.055587843060493,-0.010146646760404));
res += mul(Get(s1,-dx,0), float4x4(0.005226402077824,-0.083150908350945,0.024139661341906,-0.084216333925724,-0.012154747731984,-0.046691358089447,0.071622230112553,-0.069575130939484,-0.200828775763512,0.084351159632206,0.006320637650788,-0.038797084242105,-0.144123971462250,0.059781726449728,-0.000201536444365,0.016385901719332));
res += mul(Get(s1,-dx,dy), float4x4(0.043457135558128,-0.001559319556691,-0.033637531101704,0.059119779616594,0.042800232768059,-0.003499400801957,-0.002570399548858,-0.019490178674459,0.117130123078823,0.028362950310111,0.022566670551896,0.064855612814426,0.079743973910809,0.015507002361119,0.020417647436261,-0.047705937176943));
res += mul(Get(s1,0,-dy), float4x4(0.007422206457704,-0.014368817210197,-0.013063281774521,-0.006305608898401,-0.053490530699492,0.067232407629490,-0.006238860543817,0.084400035440922,0.097692586481571,0.002396998461336,0.018999453634024,-0.001869871513918,0.018087517470121,-0.086043290793896,0.001837942400016,-0.030567314475775));
res += mul(Get(s1,0,0), float4x4(0.030816668644547,0.024649439379573,-0.037922367453575,-0.052491173148155,-0.080947808921337,0.048774242401123,0.024064777418971,-0.015113746747375,0.341965377330780,-0.030334625393152,0.056060992181301,-0.043316956609488,0.027772292494774,0.084653198719025,0.102056801319122,0.035284828394651));
res += mul(Get(s1,0,dy), float4x4(0.048737119883299,-0.024658648297191,0.041398279368877,0.034968290477991,0.102106854319572,-0.057025693356991,0.048922855407000,0.070302709937096,0.073133401572704,-0.035389464348555,-0.021712172776461,0.036969728767872,0.042885720729828,-0.057806961238384,0.038996484130621,0.031407345086336));
res += mul(Get(s1,dx,-dy), float4x4(-0.065785922110081,-0.027068166062236,0.003251258051023,0.023480821400881,-0.188089862465858,0.029644574970007,-0.027763405814767,0.004432173445821,0.201313138008118,0.017653707414865,-0.008685060776770,0.101024612784386,-0.034047957509756,-0.050554923713207,-0.000555674254429,0.013894888572395));
res += mul(Get(s1,dx,0), float4x4(0.029613995924592,0.014067740179598,-0.090582504868507,0.016613209620118,0.061566408723593,0.030797375366092,-0.086883448064327,-0.009260466322303,0.059741891920567,-0.057787682861090,-0.011811912059784,0.057345584034920,-0.125836551189423,-0.012013011611998,0.094074316322803,-0.075926102697849));
res += mul(Get(s1,dx,dy), float4x4(-0.062827907502651,0.094457335770130,0.027419850230217,-0.024609241634607,-0.141133680939674,-0.030841536819935,0.043913606554270,-0.019137946888804,-0.119776077568531,0.038118377327919,-0.047897018492222,-0.128608599305153,0.052926804870367,-0.054081402719021,-0.001169549883343,0.031766857951880));
res += mul(Get(s2,-dx,-dy), float4x4(-0.080950357019901,0.015689263120294,0.019429428502917,0.012214906513691,0.052868608385324,-0.076145112514496,0.027878649532795,-0.021683864295483,-0.023206999525428,-0.020823772996664,-0.070680916309357,0.022268095985055,-0.009981140494347,-0.079843789339066,-0.033951271325350,0.052173741161823));
res += mul(Get(s2,-dx,0), float4x4(-0.033776227384806,-0.073121100664139,-0.014211127534509,0.086270764470100,0.005247592460364,0.048963986337185,-0.033036559820175,-0.041471019387245,0.142643585801125,-0.043534804135561,-0.085202291607857,-0.004494589753449,0.065971568226814,-0.078664749860764,-0.066200017929077,-0.083718679845333));
res += mul(Get(s2,-dx,dy), float4x4(0.010047981515527,0.041831210255623,0.009474984370172,0.035993654280901,-0.062484342604876,0.094915904104710,-0.044436566531658,-0.089347526431084,0.155733644962311,0.062650799751282,-0.044192481786013,-0.057712968438864,0.001332976855338,0.097277186810970,0.055205624550581,0.019001755863428));
res += mul(Get(s2,0,-dy), float4x4(-0.006590395700186,0.030670195817947,-0.049191705882549,-0.067240945994854,-0.019039299339056,0.098861977458000,-0.115463674068451,0.037793830037117,0.098914943635464,-0.043769132345915,0.000454928958789,-0.110689118504524,0.060965310782194,0.010684513486922,-0.051410820335150,0.016609927639365));
res += mul(Get(s2,0,0), float4x4(-0.006621724460274,-0.036244139075279,0.071104399859905,0.032731279730797,0.017025506123900,0.029133692383766,0.030839219689369,-0.101339660584927,0.043352585285902,-0.066488347947598,-0.064320191740990,-0.023252787068486,-0.031405720859766,-0.058130711317062,-0.021715708076954,-0.088629178702831));
res += mul(Get(s2,0,dy), float4x4(0.090892396867275,0.045682217925787,0.047536376863718,-0.004612288903445,-0.009268043562770,-0.024621425196528,-0.009034265764058,0.089785017073154,0.164276525378227,-0.030475674197078,-0.111780375242233,-0.050331309437752,-0.101389259099960,0.041590254753828,-0.128608196973801,-0.020497862249613));
res += mul(Get(s2,dx,-dy), float4x4(-0.020126225426793,0.078107982873917,0.042285196483135,-0.003013644134626,-0.018772812560201,-0.139787301421165,-0.023902524262667,-0.032567813992500,0.102828636765480,0.072280205786228,-0.065845824778080,0.059781108051538,0.065625689923763,0.029068361967802,0.024574926123023,0.010608366690576));
res += mul(Get(s2,dx,0), float4x4(0.050128791481256,-0.044572819024324,0.035339929163456,0.002027876675129,-0.153629854321480,-0.013141961768270,0.029845941811800,-0.011904275044799,-0.272644698619843,0.053316142410040,0.067278489470482,-0.032231789082289,-0.061445001512766,-0.059121217578650,-0.024415072053671,0.059572678059340));
res += mul(Get(s2,dx,dy), float4x4(0.020361211150885,0.001354011823423,0.032596532255411,-0.013117442838848,0.039073098450899,0.038658715784550,0.171215772628784,-0.022605495527387,0.079751223325729,-0.047913521528244,-0.070232912898064,-0.007769158575684,0.074486732482910,0.000686509069055,-0.011332126334310,-0.025011146441102));
res += mul(Get(s3,-dx,-dy), float4x4(0.065376259386539,-0.026876021176577,0.146433874964714,0.034614428877831,0.065028429031372,-0.010988282039762,0.053515143692493,-0.085698515176773,-0.117808595299721,0.012184969149530,0.035797882825136,-0.041234374046326,0.063300073146820,0.023567745462060,-0.026987856253982,0.039193771779537));
res += mul(Get(s3,-dx,0), float4x4(0.013085063546896,0.024442078545690,-0.048788640648127,0.064698465168476,0.080554813146591,-0.094794549047947,-0.021588096395135,0.112944543361664,0.134885683655739,-0.020405711606145,-0.068527892231941,0.077960491180420,-0.006356390658766,0.046251099556684,0.004291226621717,-0.047011673450470));
res += mul(Get(s3,-dx,dy), float4x4(-0.052016768604517,0.144941121339798,0.085442252457142,0.072698190808296,-0.079414509236813,0.022515673190355,0.024083152413368,-0.059079118072987,-0.033662628382444,-0.119341589510441,-0.029911056160927,-0.020574869588017,-0.096054516732693,-0.016255857422948,0.088885083794594,-0.045547593384981));
res += mul(Get(s3,0,-dy), float4x4(0.124223664402962,0.042214240878820,-0.006715762428939,-0.075598843395710,-0.114441037178040,0.039921600371599,0.123842038214207,0.032999441027641,-0.052839066833258,-0.094236522912979,0.008197610266507,-0.024146996438503,0.007036030758172,0.011832993477583,-0.111558549106121,-0.164127752184868));
res += mul(Get(s3,0,0), float4x4(-0.018210347741842,0.045221928507090,0.087030835449696,-0.030234493315220,0.048647768795490,-0.036657124757767,0.005449539050460,0.025028686970472,0.099759593605995,-0.094021305441856,-0.059202201664448,0.011681063100696,-0.019735200330615,0.001411240198649,-0.092354938387871,0.010239890776575));
res += mul(Get(s3,0,dy), float4x4(0.002103738486767,0.003151309909299,-0.038588952273130,-0.086927846074104,0.044239241629839,-0.018450953066349,0.056227467954159,0.016188492998481,-0.179812744259834,0.005125540308654,0.057949524372816,-0.012255910784006,0.011519118212163,-0.051458943635225,-0.008681675419211,0.044288054108620));
res += mul(Get(s3,dx,-dy), float4x4(0.016917288303375,-0.030361322686076,0.122032016515732,-0.004562861751765,-0.045567024499178,0.004652258940041,0.052762590348721,-0.011614347808063,0.072618134319782,0.057918235659599,0.021809006109834,0.011337371543050,0.087036713957787,-0.011464878916740,0.032401327043772,0.003454106627032));
res += mul(Get(s3,dx,0), float4x4(0.086364552378654,-0.048270627856255,-0.077885009348392,0.047622576355934,0.176363766193390,0.049735125154257,-0.059569176286459,0.214538156986237,0.012289006263018,-0.052000764757395,-0.028863463550806,0.060119520872831,0.182033985853195,-0.002837135689333,-0.007278813049197,0.005114522296935));
res += mul(Get(s3,dx,dy), float4x4(-0.041615337133408,-0.095503054559231,0.057535909116268,0.014098765328526,-0.048667561262846,-0.050457715988159,-0.057496719062328,-0.055687185376883,0.100696809589863,-0.051657624542713,0.001943392679095,-0.059895612299442,0.105335965752602,0.064678944647312,0.027849229052663,-0.002792706247419));
return max(float4(0,0,0,0), res);
}
