sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.035214036703110,-0.020171269774437,0.018704211339355,-0.057367298752069,-0.014968818984926,0.080939225852489,0.085333913564682,0.084914766252041,0.024741148576140,-0.012087098322809,0.004719847347587,-0.047208905220032,-0.034093141555786,0.001691607758403,-0.063693538308144,0.031004633754492));
res += mul(Get(s0,-dx,0), float4x4(0.067638702690601,-0.021126354113221,-0.010441472753882,0.047976683825254,-0.005909848492593,0.034031160175800,0.099231056869030,-0.056558929383755,0.043461266905069,0.106352441012859,0.014191275462508,-0.031076414510608,0.033176839351654,-0.054282676428556,0.018178701400757,-0.050127517431974));
res += mul(Get(s0,-dx,dy), float4x4(-0.000855810649227,-0.127776861190796,-0.000129355539684,0.031313028186560,0.153971508145332,-0.136237859725952,-0.076848275959492,0.112412035465240,-0.005788875743747,0.003799716476351,-0.002934321528301,0.095861949026585,-0.055483851581812,-0.054340127855539,0.018985101953149,0.061088934540749));
res += mul(Get(s0,0,-dy), float4x4(-0.020365137606859,0.031414773315191,-0.021982755511999,-0.057820264250040,0.017666913568974,0.056717742234468,-0.085949212312698,-0.016786452382803,-0.095783449709415,-0.016498280689120,0.082743830978870,-0.080890789628029,-0.073269367218018,0.082362741231918,0.200217828154564,-0.096249155700207));
res += mul(Get(s0,0,0), float4x4(-0.039109848439693,0.090649053454399,-0.085206136107445,0.102922648191452,-0.094424687325954,0.054661341011524,-0.021148741245270,-0.085616819560528,0.108024701476097,0.086399935185909,0.077287442982197,-0.031130209565163,0.063153579831123,-0.048933781683445,-0.055638838559389,-0.109401375055313));
res += mul(Get(s0,0,dy), float4x4(-0.014336395077407,-0.039308790117502,0.070684686303139,0.021753756329417,0.088531121611595,-0.149830475449562,-0.041898928582668,0.073294080793858,-0.001091524609365,-0.019056096673012,0.007630353793502,0.065926171839237,-0.081863261759281,-0.056944154202938,-0.054701566696167,-0.130687132477760));
res += mul(Get(s0,dx,-dy), float4x4(-0.042802486568689,0.055718440562487,-0.020696271210909,-0.012127299793065,0.011163917370141,0.105599403381348,-0.034508541226387,-0.021422237157822,0.019326772540808,-0.031799454241991,-0.106442674994469,-0.029134944081306,0.060655124485493,0.070942923426628,-0.045422103255987,-0.088460929691792));
res += mul(Get(s0,dx,0), float4x4(-0.014985231682658,0.009359547868371,-0.059840489178896,-0.054135892540216,0.086175620555878,0.099460087716579,-0.010025645606220,-0.046004064381123,0.119709596037865,0.061900258064270,-0.035596821457148,-0.039136737585068,-0.002620616229251,-0.012310542166233,-0.050728950649500,-0.142047867178917));
res += mul(Get(s0,dx,dy), float4x4(0.017172312363982,-0.170144140720367,0.031254131346941,0.019138710573316,0.059366825968027,-0.106675148010254,-0.061802722513676,-0.036079492419958,0.014944464899600,-0.083208009600639,-0.066850297152996,0.145607113838196,-0.107764571905136,-0.037106901407242,-0.005136707331985,-0.027410313487053));
res += mul(Get(s1,-dx,-dy), float4x4(0.011248584836721,0.013631694950163,0.055480353534222,0.002236501546577,0.053885176777840,0.038005620241165,0.040776804089546,-0.013801609165967,-0.022939465939999,0.064476378262043,0.021744122728705,0.023225173354149,0.069591023027897,0.068780846893787,0.131512045860291,-0.023252846673131));
res += mul(Get(s1,-dx,0), float4x4(-0.063042886555195,0.010304726660252,0.062764689326286,0.067734636366367,0.067676477134228,0.086694635450840,-0.020687837153673,0.078936815261841,0.125068455934525,0.079871140420437,0.015852993354201,-0.014174351468682,0.110952787101269,-0.031470593065023,-0.116108261048794,-0.019139921292663));
res += mul(Get(s1,-dx,dy), float4x4(-0.045582462102175,-0.029104471206665,0.089294776320457,0.010468548163772,-0.005254012066871,0.038853235542774,0.036457564681768,0.116281069815159,0.007840855047107,-0.119997881352901,-0.000082355480117,0.042875319719315,0.039407629519701,-0.075014963746071,-0.110020622611046,0.028859222307801));
res += mul(Get(s1,0,-dy), float4x4(0.025265360251069,-0.025082169100642,0.026462776586413,0.076918147504330,0.007029713131487,0.113713219761848,0.004387173801661,0.069317698478699,-0.075938984751701,0.020646136254072,0.071782678365707,-0.049872767180204,0.025006799027324,-0.007182053290308,0.191270351409912,0.000712365668733));
res += mul(Get(s1,0,0), float4x4(-0.080456316471100,-0.013932943344116,0.100745230913162,-0.031119743362069,-0.007779478095472,0.104862056672573,-0.026211468502879,0.077455639839172,0.037091273814440,0.043866600841284,0.041754413396120,-0.066048331558704,0.044382303953171,-0.086015261709690,-0.111464470624924,-0.014059024862945));
res += mul(Get(s1,0,dy), float4x4(-0.041113942861557,-0.116231158375740,0.144569307565689,-0.034766420722008,-0.025129787623882,0.015427992679179,-0.039423327893019,0.080596484243870,-0.090534776449203,-0.110247060656548,0.025768335908651,-0.006067240145057,0.056972850114107,-0.036454465240240,-0.123075895011425,0.088267333805561));
res += mul(Get(s1,dx,-dy), float4x4(0.027975181117654,0.040021099150181,0.006798014510423,-0.057477694004774,0.061952851712704,-0.013536988757551,-0.018451802432537,-0.055863589048386,-0.010853728279471,0.084149390459061,-0.047470834106207,-0.052899565547705,0.093166485428810,-0.045504279434681,0.070694774389267,-0.063361942768097));
res += mul(Get(s1,dx,0), float4x4(-0.016542021185160,0.057555790990591,0.053074084222317,-0.096782900393009,0.084637552499771,0.009912679903209,-0.027184035629034,0.100300095975399,0.053446669131517,0.120517879724503,-0.066851824522018,-0.060046788305044,-0.071281768381596,-0.100738987326622,0.012301021255553,0.000474890926853));
res += mul(Get(s1,dx,dy), float4x4(0.084992676973343,-0.005336607340723,-0.027115792036057,-0.036233961582184,0.066260799765587,0.103076279163361,-0.085306875407696,0.171853482723236,-0.046303726732731,-0.042914558202028,0.003793874755502,-0.026489226147532,-0.006285341922194,-0.054304774850607,-0.105591699481010,0.014959475956857));
res += mul(Get(s2,-dx,-dy), float4x4(0.028261428698897,0.005355494096875,0.005554979667068,0.032971106469631,0.072765022516251,0.020781649276614,-0.008937916718423,-0.022069359198213,0.053293626755476,0.053576111793518,0.059091005474329,-0.002210026141256,-0.026760375127196,0.015975659713149,-0.003988568205386,0.060614421963692));
res += mul(Get(s2,-dx,0), float4x4(0.034453041851521,0.012800198979676,-0.007441793102771,0.104995153844357,-0.063689127564430,-0.099453531205654,-0.050383646041155,0.069185674190521,0.066292122006416,0.020054042339325,0.045982539653778,0.046770639717579,-0.067306347191334,-0.019176142290235,0.012813967652619,-0.062135122716427));
res += mul(Get(s2,-dx,dy), float4x4(-0.068587481975555,-0.074553027749062,0.019447887316346,0.029705900698900,-0.023825211450458,-0.040611129254103,0.021912716329098,0.015680715441704,0.108121022582054,0.054259080439806,0.018411288037896,0.032774902880192,-0.073168501257896,-0.107198812067509,0.004697816912085,0.033905237913132));
res += mul(Get(s2,0,-dy), float4x4(0.005671192891896,0.018360259011388,-0.028179792687297,0.055247470736504,-0.104718208312988,0.075325869023800,0.044972609728575,0.008707962930202,0.061976492404938,0.055694401264191,-0.001429591560736,-0.067790351808071,0.010934349149466,0.048461120575666,0.018301710486412,0.000373686663806));
res += mul(Get(s2,0,0), float4x4(-0.011911671608686,0.002536598360166,-0.004795176908374,0.014234562404454,0.006573974154890,-0.027349578216672,0.190738931298256,0.009332413785160,0.001436962047592,0.044218834489584,0.069632470607758,0.006943922955543,0.033328540623188,-0.009595862589777,0.037720248103142,-0.005495157092810));
res += mul(Get(s2,0,dy), float4x4(-0.045885562896729,-0.048962175846100,0.014597412198782,-0.016729380935431,-0.065102636814117,-0.124336667358875,0.024455549195409,0.080266490578651,-0.006141797173768,0.032507579773664,0.012345165014267,-0.074597604572773,0.009008090011775,-0.098621264100075,-0.020395139232278,0.034967735409737));
res += mul(Get(s2,dx,-dy), float4x4(0.045202482491732,-0.064051173627377,-0.089202642440796,0.127773880958557,-0.039798386394978,0.071002617478371,0.012576486915350,-0.081276506185532,0.030393818393350,0.000111823239422,0.017852786928415,-0.006326759234071,-0.083075717091560,0.129203751683235,-0.008794511668384,0.040856018662453));
res += mul(Get(s2,dx,0), float4x4(0.099892504513264,-0.075001105666161,-0.110119022428989,-0.024961160495877,0.029328769072890,-0.022408856078982,0.135755181312561,-0.089104130864143,-0.052696645259857,0.089982278645039,-0.017694408074021,-0.073180302977562,-0.102767750620842,0.091775506734848,0.019812900573015,0.118629887700081));
res += mul(Get(s2,dx,dy), float4x4(0.075557313859463,-0.148719772696495,-0.023914720863104,0.031268343329430,-0.007120136171579,-0.043575674295425,0.018653634935617,-0.013903814367950,0.026983518153429,-0.036796834319830,-0.024081468582153,-0.052004124969244,-0.073650076985359,-0.035357464104891,-0.011062271893024,0.107378557324409));
res += mul(Get(s3,-dx,-dy), float4x4(-0.050608303397894,-0.002140168100595,0.004399027209729,-0.019434915855527,-0.023380726575851,0.004628870636225,-0.046033341437578,0.053128302097321,0.010456863790751,0.025243751704693,-0.025657478719950,0.078042104840279,-0.016345063224435,0.018455725163221,0.041005827486515,-0.048123765736818));
res += mul(Get(s3,-dx,0), float4x4(0.068149007856846,-0.039222020655870,0.003837306518108,-0.015532577410340,-0.079755075275898,0.093468070030212,0.069284088909626,0.168206557631493,0.005729497410357,0.007272825576365,0.003248300636187,-0.006118590477854,-0.030250718817115,-0.028427569195628,-0.081115305423737,-0.054541129618883));
res += mul(Get(s3,-dx,dy), float4x4(-0.082073464989662,-0.051355317234993,0.010946096852422,0.016860943287611,0.027904158458114,-0.034303482621908,0.014756333082914,0.089535139501095,-0.048985749483109,0.001306151738390,-0.061394371092319,0.005392295774072,0.024870676919818,-0.120441734790802,-0.060195639729500,-0.053404726088047));
res += mul(Get(s3,0,-dy), float4x4(0.007593526504934,-0.018420062959194,0.086152851581573,0.010253937914968,0.033590488135815,0.043451987206936,-0.068759284913540,0.020320013165474,0.002417530864477,0.080293022096157,-0.077482566237450,0.048430792987347,-0.028867755085230,0.042879316955805,0.072983220219612,-0.044296257197857));
res += mul(Get(s3,0,0), float4x4(0.045892160385847,-0.012401951476932,0.051941070705652,-0.087344340980053,-0.133236914873123,0.053581405431032,-0.040741764008999,-0.113565571606159,-0.083184622228146,0.101668715476990,0.007691354956478,0.031264398247004,0.036227937787771,-0.025852983817458,0.017561765387654,0.028935218229890));
res += mul(Get(s3,0,dy), float4x4(-0.042177461087704,0.028637109324336,0.181435585021973,-0.026872463524342,-0.060584101825953,-0.051023002713919,0.120491415262222,0.071110226213932,-0.045797735452652,0.062048174440861,-0.048528309911489,-0.013534914702177,-0.077382802963257,-0.092913955450058,-0.039093904197216,0.019964415580034));
res += mul(Get(s3,dx,-dy), float4x4(0.056572750210762,-0.004915852565318,0.052147135138512,-0.103714361786842,0.132442638278008,0.004510861355811,0.015932342037559,-0.074189260601997,-0.043616883456707,0.168460413813591,-0.052733737975359,0.064101658761501,-0.004238538444042,-0.007602185942233,0.006193404085934,-0.027354361489415));
res += mul(Get(s3,dx,0), float4x4(0.018755454570055,-0.004914591554552,0.033077239990234,-0.073592886328697,0.097017474472523,0.009523047134280,-0.006079107522964,-0.043428029865026,-0.043318800628185,-0.046088717877865,-0.023382877930999,-0.031262885779142,-0.107354477047920,0.064819306135178,-0.038598522543907,-0.005984643939883));
res += mul(Get(s3,dx,dy), float4x4(-0.048532567918301,0.125616654753685,-0.025792673230171,0.036587890237570,0.008187297731638,-0.027472699061036,0.076771207153797,-0.018206447362900,-0.076489068567753,-0.018079958856106,-0.025524098426104,-0.033181700855494,-0.013448338024318,0.035790983587503,-0.040261048823595,0.061644576489925));
return max(float4(0,0,0,0), res);
}
