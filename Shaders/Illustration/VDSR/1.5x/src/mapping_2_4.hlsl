sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.053115200251341,0.013920944184065,0.006893463898450,0.015606933273375,0.271577715873718,0.113982379436493,-0.095480158925056,-0.029853777959943,-0.109438627958298,0.040084328502417,0.016251081600785,0.001472363597713,0.054674636572599,-0.090711884200573,-0.026807053014636,0.034059945493937));
res += mul(Get(s0,-dx,0), float4x4(0.023752251639962,0.006717164069414,-0.001658123801462,-0.000285715970676,0.015663176774979,0.082461893558502,0.082613922655582,-0.035079706460238,0.022203210741282,0.020782643929124,0.014767447486520,0.037200734019279,0.150989383459091,0.049522697925568,-0.045477822422981,-0.049001622945070));
res += mul(Get(s0,-dx,dy), float4x4(-0.021267333999276,0.003654845524579,0.014516230672598,0.011671879328787,-0.216754972934723,-0.124510176479816,0.018699519336224,0.025733660906553,0.026590792462230,-0.003130653640255,-0.008579995483160,-0.001157065853477,-0.031579583883286,0.067164570093155,0.023478752002120,0.004594571888447));
res += mul(Get(s0,0,-dy), float4x4(0.023175831884146,-0.014451020397246,0.020339615643024,0.013683278113604,0.206073909997940,0.181906491518021,-0.032457020133734,-0.158377617597580,-0.106382928788662,0.006262008566409,-0.003569255350158,0.054272316396236,0.005244961939752,0.010060010477901,-0.009251819923520,0.052859503775835));
res += mul(Get(s0,0,0), float4x4(0.012536136433482,0.000325133383740,0.035302605479956,-0.022897224873304,-0.257062584161758,-0.160587877035141,0.063523419201374,0.116903096437454,-0.032637555152178,0.001668364740908,0.009200407192111,0.086662948131561,-0.038786388933659,0.258539706468582,0.057829014956951,-0.036369565874338));
res += mul(Get(s0,0,dy), float4x4(-0.024585764855146,-0.001028373371810,0.050283331423998,-0.018173158168793,0.234158009290695,-0.134446561336517,-0.073774307966232,0.115877173841000,0.009101822972298,-0.014555148780346,0.003866852261126,0.022792514413595,-0.079983331263065,0.097151644527912,0.095461703836918,0.088560819625854));
res += mul(Get(s0,dx,-dy), float4x4(-0.027556465938687,0.003762178588659,0.021008884534240,0.033669661730528,0.013144383206964,-0.090587824583054,-0.077176481485367,-0.091920383274555,-0.104167349636555,0.006548216566443,-0.012614276260138,0.012645069509745,0.042863361537457,-0.062604188919067,0.044057924300432,0.052198082208633));
res += mul(Get(s0,dx,0), float4x4(-0.031998243182898,-0.019117683172226,0.014207262545824,0.041913263499737,0.090304322540760,-0.064945816993713,0.030039446428418,0.004778782371432,-0.068247251212597,-0.005876061972231,-0.003515533870086,0.060155902057886,0.045527264475822,-0.047722518444061,-0.001248999964446,-0.000111891444249));
res += mul(Get(s0,dx,dy), float4x4(0.027228593826294,-0.004336703568697,0.003544962732121,0.041802745312452,-0.064024358987808,0.100788310170174,0.076960600912571,-0.051875777542591,0.021047679707408,-0.021685574203730,-0.014867777936161,0.009128643199801,0.124495632946491,-0.115366943180561,0.007120959926397,0.089344754815102));
res += mul(Get(s1,-dx,-dy), float4x4(-0.010127069428563,-0.006077237427235,-0.001248445478268,-0.000446165533504,0.044212259352207,-0.022842003032565,0.001772892079316,0.001728095463477,0.246086195111275,0.204929247498512,-0.057728096842766,-0.150169312953949,-0.016225695610046,0.019069327041507,-0.010164063423872,-0.005645045544952));
res += mul(Get(s1,-dx,0), float4x4(0.070365563035011,0.025330344215035,-0.009003005921841,0.004263235721737,0.068509422242641,0.018475536257029,0.023786824196577,-0.001920234062709,-0.325711280107498,-0.155367583036423,0.122528411448002,0.067718222737312,0.025431139394641,-0.000941968697589,-0.000423897174187,0.010301778092980));
res += mul(Get(s1,-dx,dy), float4x4(0.041971001774073,0.000175774301169,-0.005478797014803,-0.008670660667121,0.033285249024630,-0.020281720906496,0.028246110305190,-0.004781679250300,-0.056859798729420,-0.088864088058472,-0.091092847287655,-0.000520793662872,0.005810603033751,-0.010274109430611,-0.012629720382392,0.003747998736799));
res += mul(Get(s1,0,-dy), float4x4(-0.027719279751182,-0.017954519018531,0.002282429020852,0.021036053076386,0.013514648191631,0.022667286917567,0.004441057797521,0.008868649601936,0.201866731047630,-0.077118933200836,-0.133189529180527,-0.163449004292488,-0.001633048872463,-0.011447857134044,-0.001082038157620,-0.006736326497048));
res += mul(Get(s1,0,0), float4x4(0.030325936153531,0.053348958492279,0.000666398555040,-0.003671575803310,0.028273163363338,0.048238523304462,0.031428087502718,0.003557628719136,0.063081376254559,-0.246683448553085,0.063132949173450,0.324304640293121,-0.010429891757667,-0.009061734192073,-0.002561315428466,-0.006317106075585));
res += mul(Get(s1,0,dy), float4x4(-0.019874092191458,-0.016859855502844,0.004393300972879,-0.005101318005472,0.047825887799263,0.011427594348788,0.008079247549176,-0.000394835515181,0.259748578071594,0.088307298719883,-0.076643235981464,-0.146219387650490,-0.014340002089739,0.002971828682348,0.008565247990191,-0.002405666513368));
res += mul(Get(s1,dx,-dy), float4x4(-0.006705465726554,-0.002398592652753,0.003721014130861,0.001784005318768,0.004162391647696,0.001391774625517,0.018080705776811,0.044763427227736,0.007067385129631,-0.100478425621986,-0.111888319253922,-0.161236867308617,0.047351170331240,-0.028289176523685,0.000505902222358,0.004093764349818));
res += mul(Get(s1,dx,0), float4x4(-0.050229441374540,0.010167497210205,-0.011581841856241,0.003597315400839,-0.027910990640521,0.008877241984010,0.022952677682042,0.043924443423748,0.040625900030136,0.148103624582291,0.147037625312805,-0.020631866529584,0.008109404705465,-0.010731738992035,0.005505568813533,-0.001983366208151));
res += mul(Get(s1,dx,dy), float4x4(0.001313954824582,-0.046605918556452,-0.011243476532400,0.017301924526691,-0.017341231927276,0.009859716519713,0.028094992041588,0.013751422055066,-0.160630449652672,0.100752592086792,0.044853545725346,-0.107658922672272,0.024200573563576,-0.001232644892298,0.026926180347800,0.002294673118740));
res += mul(Get(s2,-dx,-dy), float4x4(0.074366286396980,-0.006813380401582,-0.000540007487871,0.019678635522723,-0.060834422707558,-0.001737851765938,-0.001216322300024,-0.002155210357159,0.040330272167921,0.016600873321295,-0.000067291985033,-0.008495539426804,0.015160670503974,-0.013717193156481,0.000981034594588,0.009443109855056));
res += mul(Get(s2,-dx,0), float4x4(0.154908031225204,0.040310166776180,-0.008185985498130,-0.003893190994859,-0.044407144188881,0.014308171346784,-0.004874567035586,-0.009365141391754,0.042656142264605,0.021111335605383,-0.007240962237120,-0.010697035118937,0.036549098789692,0.017245110124350,-0.000187221681699,-0.005571373272687));
res += mul(Get(s2,-dx,dy), float4x4(0.004467330873013,0.021178280934691,0.009124071337283,-0.027915082871914,-0.025911001488566,-0.001090876408853,0.000272260454949,0.000898701371625,0.028172135353088,0.018568469211459,-0.005642030388117,-0.004633559379727,0.030042143538594,-0.010769796557724,0.000510456389748,-0.001770558417775));
res += mul(Get(s2,0,-dy), float4x4(0.003382927505299,-0.015228883363307,0.021851614117622,0.013083226047456,0.002420691773295,0.008508387021720,-0.005632739979774,0.037110172212124,-0.028842719271779,0.023785198107362,0.018710650503635,0.008096518926322,0.023030390962958,0.019622853025794,-0.001692723250017,-0.004988668952137));
res += mul(Get(s2,0,0), float4x4(-0.031411867588758,0.039905909448862,0.032764829695225,0.002287050709128,0.019109124317765,0.039393845945597,0.006657959427685,0.047535605728626,-0.034311641007662,0.024954631924629,0.021064549684525,-0.007900998927653,0.023360161110759,0.012306298129261,0.015928789973259,0.005214758682996));
res += mul(Get(s2,0,dy), float4x4(-0.090678311884403,-0.009282840415835,0.045023385435343,-0.000668444030453,-0.040577873587608,-0.003217278048396,0.026572018861771,0.076291792094707,-0.015112349763513,0.018447320908308,0.009368497878313,-0.001255830400623,0.121664538979530,0.027948366478086,-0.000578548759222,-0.013365012593567));
res += mul(Get(s2,dx,-dy), float4x4(0.056805044412613,-0.027710923925042,0.007004731334746,0.049650594592094,0.006651677191257,0.010004472918808,0.008774627000093,0.000344436382875,-0.041781034320593,-0.003103358671069,-0.005121592897922,0.003905049292371,-0.012311855331063,-0.002538022818044,0.017982505261898,0.012146797962487));
res += mul(Get(s2,dx,0), float4x4(-0.037788402289152,-0.017043489962816,0.006162601523101,0.062197964638472,0.020010037347674,0.008595878258348,0.010126700624824,0.003150441450998,-0.020997306331992,0.002009826013818,-0.004977564793080,0.023592351004481,-0.006402020342648,0.033707212656736,0.026033615693450,0.013109182007611));
res += mul(Get(s2,dx,dy), float4x4(-0.091689087450504,-0.029725056141615,0.023362537845969,0.075081191956997,0.040855851024389,-0.008806688711047,0.011778512038291,0.026587447151542,-0.006585001479834,0.004414908122271,0.003598664654419,0.006574776954949,-0.035334434360266,0.031159488484263,0.013709792867303,0.003752307733521));
res += mul(Get(s3,-dx,-dy), float4x4(-0.038975935429335,0.021652013063431,0.011161354370415,0.014725281856954,0.010226888582110,0.021764082834125,0.003195258788764,0.003295989008620,-0.000720895885024,0.007832647301257,-0.006110606715083,-0.005215852521360,0.053209029138088,0.042281925678253,0.007688278798014,0.017943255603313));
res += mul(Get(s3,-dx,0), float4x4(-0.007816460914910,0.008015512488782,0.014333063736558,0.035285320132971,0.018912833184004,0.005287809297442,-0.001690124627203,-0.003461336717010,-0.007495949976146,0.000436410162365,0.000790971913375,0.000810526136775,0.120492264628410,0.038545653223991,-0.000484537158627,0.006220063194633));
res += mul(Get(s3,-dx,dy), float4x4(0.014051556587219,0.008016542531550,0.001750772935338,-0.005224063526839,0.023003423586488,-0.000083381404693,0.008121362887323,0.008941394276917,-0.004218715243042,-0.002263240050524,0.001334783621132,-0.001229408080690,0.066057562828064,0.008068663999438,0.019823634997010,0.009532250463963));
res += mul(Get(s3,0,-dy), float4x4(-0.010322760790586,0.017122816294432,0.002425509272143,0.016206879168749,0.001808466971852,0.006577404215932,0.007232615724206,-0.001762973028235,0.003301173914224,-0.001427564537153,0.003096924396232,0.002202276373282,-0.024951713159680,0.010472635738552,0.009225473739207,0.018970310688019));
res += mul(Get(s3,0,0), float4x4(-0.024697097018361,-0.001746062189341,0.020402397960424,0.044227812439203,0.024668376892805,0.003716127248481,-0.008356081321836,-0.011503123678267,0.005653884727508,-0.001551073044538,0.009129950776696,-0.009666016325355,0.029737707227468,0.024408733472228,0.005355717148632,0.007004084531218));
res += mul(Get(s3,0,dy), float4x4(0.013768517412245,0.006053385790437,0.003527695778757,0.006554757710546,0.003088810015470,-0.007697929162532,0.015601715072989,0.009244619868696,-0.000989076099358,0.005266058258712,-0.006228899117559,0.005465223453939,-0.037369608879089,-0.007629244588315,0.025114571675658,0.016290603205562));
res += mul(Get(s3,dx,-dy), float4x4(-0.019238481298089,0.015867933630943,0.012372514232993,0.007477315142751,-0.007679496426135,0.000428251223639,0.009075568988919,-0.003178367624059,-0.007775225210935,-0.001541754114442,-0.004261505324394,0.006404489744455,-0.001436237245798,0.005806095898151,0.002067208057269,0.004529519937932));
res += mul(Get(s3,dx,0), float4x4(-0.026167346164584,0.017211120575666,0.029140053316951,0.002878596074879,0.006312320474535,0.002742727287114,-0.013753508217633,-0.009877907112241,-0.001714745070785,0.003890006104484,-0.002445540158078,-0.005810161586851,-0.004027276299894,0.013582353480160,-0.002097176155075,-0.011720918118954));
res += mul(Get(s3,dx,dy), float4x4(-0.016726573929191,0.006100712344050,0.007683760486543,-0.000290803465759,0.008545112796128,0.004709445871413,0.021206038072705,0.006400393787771,-0.003437673905864,-0.000788587145507,0.001150530879386,-0.003861067350954,0.004763856995851,0.004341213032603,0.024945113807917,0.008911195211112));
return max(float4(0,0,0,0), res);
}
