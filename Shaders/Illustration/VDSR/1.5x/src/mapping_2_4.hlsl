sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.022272886708379,-0.072927281260490,-0.003184709930792,-0.053595479577780,0.006249352823943,0.074531130492687,0.115629829466343,-0.105186462402344,-0.081393867731094,-0.052497532218695,-0.046817310154438,-0.039896782487631,0.143230766057968,-0.025934707373381,-0.113088808953762,0.016811704263091));
res += mul(Get(s0,-dx,0), float4x4(-0.120494417846203,-0.107535503804684,-0.018558984622359,0.079880878329277,-0.099806137382984,0.099417932331562,-0.035404298454523,0.110452853143215,-0.003374171210453,-0.030900189653039,0.073777526617050,-0.025664027780294,-0.016325764358044,-0.002837578533217,-0.161209553480148,0.045927766710520));
res += mul(Get(s0,-dx,dy), float4x4(0.034585557878017,0.014027000404894,0.105234131217003,-0.074967004358768,0.035177480429411,-0.019031420350075,0.009933291934431,0.204143419861794,-0.067924641072750,-0.108589209616184,-0.061605650931597,-0.048144750297070,-0.050130777060986,0.210336074233055,0.042075160890818,-0.124870717525482));
res += mul(Get(s0,0,-dy), float4x4(0.004676865879446,0.058608554303646,-0.031234914436936,0.050303705036640,0.160647690296173,0.075790032744408,-0.160421282052994,-0.108141317963600,0.024399856105447,0.050011664628983,0.092171102762222,0.044956058263779,0.051338281482458,0.182632043957710,0.013910989277065,0.099225670099258));
res += mul(Get(s0,0,0), float4x4(-0.014106677845120,0.215891554951668,0.032625325024128,0.022272726520896,0.069549582898617,-0.074083365499973,-0.163119837641716,0.120994187891483,-0.108466796576977,-0.008841465227306,0.098018452525139,-0.036184988915920,-0.005684391595423,0.157890424132347,0.080444425344467,0.080344520509243));
res += mul(Get(s0,0,dy), float4x4(0.045548293739557,0.046225279569626,0.063880667090416,0.064654789865017,0.004084472544491,0.039986044168472,-0.147759437561035,-0.014056245796382,-0.139499142765999,0.026205355301499,-0.027183113619685,-0.000088968743512,0.118266023695469,0.143869802355766,0.101453773677349,-0.029536761343479));
res += mul(Get(s0,dx,-dy), float4x4(0.005179564468563,-0.058675982058048,-0.000958997232374,0.000667129817884,-0.206664562225342,0.039232261478901,0.209538787603378,-0.049388319253922,-0.002109063323587,0.019024156033993,0.022012805566192,0.162192463874817,-0.008898505009711,0.127555787563324,-0.153179377317429,0.034794606268406));
res += mul(Get(s0,dx,0), float4x4(-0.034684136509895,-0.040485642850399,-0.004797744099051,0.031292941421270,-0.017696706578135,-0.005178096704185,0.114705726504326,-0.079294547438622,-0.054535962641239,-0.057154316455126,0.012074237689376,-0.002516857581213,0.080143466591835,0.070706441998482,-0.005076254252344,0.099076978862286));
res += mul(Get(s0,dx,dy), float4x4(-0.002194550121203,0.003283620579168,0.020521065220237,0.041728656738997,-0.025334183126688,0.132737338542938,0.014562667347491,-0.018470972776413,0.113323301076889,-0.003640976967290,0.118418902158737,0.097501218318939,0.042586222290993,0.065335430204868,-0.037138249725103,0.212024450302124));
res += mul(Get(s1,-dx,-dy), float4x4(0.197176352143288,0.083521984517574,0.079624734818935,-0.039174672216177,-0.079550482332706,0.017534947022796,0.046667717397213,0.068282008171082,-0.016102949157357,0.094467207789421,-0.011604748666286,0.001694204402156,0.100072585046291,0.194780632853508,0.019264936447144,0.146982759237289));
res += mul(Get(s1,-dx,0), float4x4(-0.010862124152482,-0.068346254527569,-0.061518859118223,0.020370550453663,-0.136929765343666,-0.032562300562859,0.026437647640705,-0.023994419723749,0.085944533348083,-0.021739143878222,0.049079030752182,0.056803751736879,-0.024325614795089,0.107100509107113,0.035778347402811,0.090582944452763));
res += mul(Get(s1,-dx,dy), float4x4(-0.018215872347355,-0.024295570328832,0.029168410226703,0.038839034736156,0.086711995303631,0.057019293308258,0.215182870626450,0.040311481803656,0.005689794663340,-0.046323753893375,-0.057133015245199,-0.003513260046020,-0.074801228940487,0.073419973254204,-0.007676579523832,-0.057673841714859));
res += mul(Get(s1,0,-dy), float4x4(0.118391409516335,0.013833949342370,-0.051514845341444,0.144773095846176,0.007506222464144,-0.072822123765945,0.045091975480318,0.128159135580063,-0.083749935030937,0.069317795336246,-0.000987023231573,0.081209205091000,-0.007031951099634,-0.128192901611328,-0.055011507123709,0.177763402462006));
res += mul(Get(s1,0,0), float4x4(-0.032740045338869,-0.015168916434050,0.025562593713403,0.067178055644035,0.001480815815739,0.023074509575963,-0.044229596853256,0.000938241078984,0.020773988217115,-0.081444047391415,-0.043381869792938,-0.038217891007662,0.009987399913371,-0.045068409293890,0.073360629379749,-0.018037939444184));
res += mul(Get(s1,0,dy), float4x4(-0.101515009999275,-0.052062794566154,0.065777257084846,0.096229806542397,0.062362067401409,-0.137205868959427,-0.102031849324703,-0.159702375531197,0.016514742746949,-0.095331236720085,0.048834238201380,-0.024304963648319,0.034181784838438,-0.012399418279529,-0.104943871498108,0.172432363033295));
res += mul(Get(s1,dx,-dy), float4x4(0.027003139257431,0.108380861580372,-0.076150879263878,0.043148111552000,0.160319685935974,-0.020637078210711,0.062188945710659,0.001135886064731,0.149795785546303,0.009085849858820,-0.093451656401157,0.068378739058971,0.021648248657584,0.091473154723644,0.142067879438400,0.040189985185862));
res += mul(Get(s1,dx,0), float4x4(0.046787641942501,0.122073419392109,-0.034477781504393,0.126994863152504,-0.100053273141384,0.290046334266663,0.091287866234779,0.033067524433136,0.002909534610808,0.098231554031372,0.110158741474152,0.035813484340906,-0.034855972975492,0.174270153045654,0.116133689880371,-0.043189417570829));
res += mul(Get(s1,dx,dy), float4x4(-0.039381761103868,-0.013263048604131,0.090797469019890,0.153434455394745,-0.135724619030952,-0.069484360516071,0.105702660977840,-0.009016660973430,-0.005822463892400,0.086753457784653,-0.070355989038944,0.065072216093540,0.001313219545409,-0.084927260875702,-0.047309946268797,-0.159508243203163));
res += mul(Get(s2,-dx,-dy), float4x4(-0.050863306969404,0.035314537584782,0.031263995915651,0.004248425364494,-0.045478034764528,0.059421263635159,-0.013678808696568,0.045993987470865,0.149859413504601,0.066421419382095,0.052558146417141,-0.007898288778961,0.002206965815276,-0.006158682517707,0.033286824822426,0.069593831896782));
res += mul(Get(s2,-dx,0), float4x4(0.019483394920826,-0.123561501502991,0.055441752076149,0.117905974388123,-0.082749083638191,0.009101777337492,-0.047877456992865,-0.023857157677412,-0.004886033944786,0.055041085928679,0.049846660345793,-0.061169475317001,0.022436369210482,0.075475558638573,0.046711124479771,-0.012760843150318));
res += mul(Get(s2,-dx,dy), float4x4(-0.007348987739533,-0.081319011747837,-0.047122810035944,-0.018699334934354,-0.014127853326499,0.089914254844189,-0.009049971587956,0.066585294902325,-0.031255532056093,0.002661741571501,-0.036666501313448,-0.027128420770168,0.055127896368504,-0.114743642508984,0.097159057855606,0.093206688761711));
res += mul(Get(s2,0,-dy), float4x4(0.125280663371086,0.080089978873730,0.032893944531679,-0.009646094404161,0.108944378793240,-0.026562776416540,0.032558575272560,0.010101011022925,-0.005412609782070,0.024415154010057,0.071683093905449,0.024906760081649,0.110404677689075,0.116142354905605,0.039628051221371,0.134363025426865));
res += mul(Get(s2,0,0), float4x4(0.039393320679665,-0.115259625017643,0.026494458317757,-0.073698535561562,-0.024370852857828,-0.046835877001286,0.061622101813555,-0.014324998483062,0.056894697248936,0.052864748984575,-0.106714256107807,0.059167910367250,0.057396195828915,0.061845734715462,0.057580236345530,0.205356121063232));
res += mul(Get(s2,0,dy), float4x4(0.049222994595766,0.082353189587593,0.007132614497095,-0.060026179999113,0.023325135931373,-0.051690455526114,-0.001614346285351,0.046966645866632,0.042631007730961,-0.035283368080854,-0.025864200666547,-0.040887635201216,0.111077651381493,-0.023051971569657,-0.056176979094744,0.003660077694803));
res += mul(Get(s2,dx,-dy), float4x4(-0.021679341793060,-0.012921621091664,-0.092647269368172,-0.023441610857844,-0.044034238904715,0.148920699954033,-0.004627570975572,0.041014723479748,0.031557966023684,-0.037696547806263,0.086394421756268,-0.001589350053109,0.177635654807091,-0.123667478561401,0.106668584048748,-0.055956900119781));
res += mul(Get(s2,dx,0), float4x4(-0.027356354519725,0.032049115747213,-0.025696763768792,0.047168672084808,-0.141109004616737,0.000411793822423,0.061070170253515,0.141992583870888,0.024954354390502,-0.040872253477573,0.050630304962397,-0.017130820080638,0.080080620944500,0.032484926283360,0.160687789320946,0.104528665542603));
res += mul(Get(s2,dx,dy), float4x4(0.027921678498387,-0.075214102864265,-0.140937894582748,-0.104404591023922,-0.002894057193771,-0.081665903329849,0.072177626192570,-0.077479496598244,-0.098577409982681,-0.094149261713028,-0.069324292242527,-0.007545247673988,0.009457807987928,0.029743513092399,0.015252102166414,0.030586797744036));
res += mul(Get(s3,-dx,-dy), float4x4(-0.012782618403435,-0.020849084481597,-0.130282357335091,-0.132162287831306,-0.022472092881799,0.015020726248622,-0.112245813012123,-0.071368411183357,0.122233122587204,-0.108588330447674,-0.144565567374229,-0.014147029258311,-0.036853443831205,0.033213671296835,0.082865729928017,0.141530007123947));
res += mul(Get(s3,-dx,0), float4x4(0.092443794012070,-0.137110322713852,0.030234307050705,-0.254155099391937,0.066485546529293,-0.049663286656141,-0.028645999729633,-0.097334556281567,0.144918322563171,0.056606236845255,0.023311875760555,-0.061664264649153,0.013720747083426,0.080903194844723,-0.039454661309719,0.094361886382103));
res += mul(Get(s3,-dx,dy), float4x4(0.104163803160191,-0.006469216197729,-0.059016119688749,-0.033250439912081,-0.004756105132401,-0.017894988879561,0.016159271821380,0.062109149992466,0.166269063949585,-0.016397211700678,0.046832453459501,0.189461946487427,0.027233697474003,-0.063377767801285,-0.059977144002914,-0.035425759851933));
res += mul(Get(s3,0,-dy), float4x4(0.136979073286057,0.178848147392273,0.078897237777710,0.174154713749886,0.121472477912903,0.112723052501678,-0.073978230357170,-0.109919093549252,0.042463291436434,0.065820060670376,0.099223934113979,-0.097190879285336,0.118935577571392,0.008047072216868,-0.006705859210342,-0.009321303106844));
res += mul(Get(s3,0,0), float4x4(-0.091569744050503,0.111165590584278,0.024911776185036,0.119115099310875,0.012433175928891,-0.063031226396561,-0.011782892048359,-0.075524792075157,-0.022773267701268,0.035543255507946,0.160605370998383,0.007719305343926,0.034982405602932,0.008841020986438,-0.031054111197591,0.137479737401009));
res += mul(Get(s3,0,dy), float4x4(0.044065780937672,-0.078782618045807,0.064853101968765,-0.123251087963581,0.118989050388336,-0.049031231552362,0.011225732043386,-0.014319706708193,0.018726497888565,-0.073807492852211,0.044420074671507,0.263470202684402,0.009353008121252,-0.041346013545990,0.054229889065027,-0.104737237095833));
res += mul(Get(s3,dx,-dy), float4x4(-0.024806220084429,-0.107604026794434,-0.197896078228951,0.053309593349695,-0.161884844303131,0.111732281744480,-0.026024257764220,0.083191350102425,0.070590309798717,0.027340061962605,-0.025326086208224,0.047189231961966,-0.092379681766033,0.007857614196837,0.142833992838860,0.015003574080765));
res += mul(Get(s3,dx,0), float4x4(-0.002236740663648,-0.063429236412048,0.012396089732647,0.085670068860054,-0.001347478129901,0.068007320165634,0.154733046889305,-0.032509766519070,0.032371200621128,0.102010890841484,-0.076617695391178,-0.029600063338876,0.058204334229231,0.096564829349518,0.056966148316860,0.086515553295612));
res += mul(Get(s3,dx,dy), float4x4(-0.078054703772068,-0.008799578063190,0.145455181598663,-0.033962443470955,-0.013112533837557,-0.038931038230658,0.076758980751038,-0.105970628559589,0.003874465590343,-0.187549412250519,0.087330244481564,0.022687349468470,-0.084251821041107,-0.040797594934702,0.023272516205907,0.019395172595978));
return max(float4(0,0,0,0), res);
}
