sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.167487934231758,0.004630025010556,0.146225839853287,-0.105925776064396,-0.193066045641899,-0.144063070416451,0.011402167379856,-0.037787787616253,0.005147457588464,-0.065540030598640,-0.070406392216682,0.009394526481628,-0.064347706735134,0.036694239825010,0.015545303002000,-0.057770818471909));
res += mul(Get(s0,-dx,0), float4x4(0.023462601006031,0.072849459946156,-0.092142954468727,0.071112595498562,-0.066268458962440,-0.109627962112427,-0.147818863391876,0.012182582169771,-0.020239105448127,0.084619492292404,0.016506226733327,0.059975884854794,-0.123579502105713,0.047465052455664,-0.055688094347715,-0.011579719372094));
res += mul(Get(s0,-dx,dy), float4x4(0.004407724831253,0.038740966469049,0.007045722100884,0.011877926997840,0.035447001457214,-0.037020146846771,0.110697239637375,0.184966310858727,0.017131548374891,0.123826265335083,0.117758609354496,0.101387664675713,0.001146305934526,0.047392278909683,0.000679603836033,0.018411055207253));
res += mul(Get(s0,0,-dy), float4x4(-0.059588909149170,-0.001262158155441,-0.016314232721925,-0.114797458052635,-0.013393082655966,0.040329407900572,0.002714287256822,-0.149634391069412,-0.137538701295853,-0.019973548129201,-0.082238860428333,-0.042605984956026,0.019302960485220,0.047158960253000,0.013285676017404,0.222703456878662));
res += mul(Get(s0,0,0), float4x4(0.028293315321207,0.021413363516331,-0.061323657631874,0.099972665309906,-0.036711487919092,-0.020820880308747,-0.152232646942139,0.028289131820202,0.109548412263393,0.091297857463360,-0.028363594785333,0.084425061941147,0.072906374931335,-0.021384406834841,0.064150556921959,0.082199804484844));
res += mul(Get(s0,0,dy), float4x4(-0.042720723897219,0.024613028392196,-0.070215158164501,-0.004682436119765,0.032789506018162,0.026706179603934,0.130885139107704,0.023251643404365,0.040286488831043,0.074769049882889,0.050564214587212,0.032245874404907,-0.066699326038361,0.028229221701622,0.047076649963856,0.160100832581520));
res += mul(Get(s0,dx,-dy), float4x4(0.062440600246191,-0.125488355755806,0.083137869834900,-0.083993159234524,-0.104142047464848,-0.083656348288059,-0.119705550372601,-0.076457977294922,0.140655949711800,-0.098534122109413,-0.139817923307419,0.094834133982658,0.056935995817184,-0.157816559076309,-0.017455823719501,0.028874665498734));
res += mul(Get(s0,dx,0), float4x4(0.019911076873541,-0.009811723604798,0.139888912439346,-0.115243025124073,0.090017370879650,-0.179530590772629,0.049114253371954,-0.179042086005211,0.099194794893265,-0.000606880057603,0.036378666758537,0.098037973046303,0.005165246780962,-0.081744410097599,0.110835015773773,0.014041192829609));
res += mul(Get(s0,dx,dy), float4x4(-0.099805384874344,-0.041727237403393,-0.140870794653893,-0.044147044420242,-0.058003768324852,-0.029776791110635,0.031700111925602,0.108403407037258,-0.000560983433388,0.019927261397243,0.048321735113859,0.079422309994698,-0.054091885685921,0.084459036588669,-0.006010526325554,0.042816638946533));
res += mul(Get(s1,-dx,-dy), float4x4(0.054484888911247,-0.046328663825989,-0.055711042135954,-0.035947956144810,0.033198937773705,-0.097060695290565,0.001305585145019,-0.037775963544846,-0.023017618805170,0.050002668052912,-0.117063246667385,0.043560810387135,-0.075442299246788,0.076746352016926,-0.010493366979063,-0.047773789614439));
res += mul(Get(s1,-dx,0), float4x4(0.018574282526970,0.022919612005353,-0.033799331635237,0.086680591106415,-0.050308026373386,-0.017874624580145,-0.005098705179989,0.084333688020706,0.031575109809637,-0.057376284152269,-0.001960417255759,-0.041224732995033,-0.049455974251032,0.022572211921215,0.079474464058876,0.098526611924171));
res += mul(Get(s1,-dx,dy), float4x4(-0.016479177400470,0.105660125613213,0.059662364423275,-0.011542370542884,-0.056243661791086,-0.003796847769991,0.108659707009792,-0.028062568977475,-0.005816987250000,-0.001988810021430,-0.061192058026791,0.030854115262628,-0.021293351426721,0.001119962777011,-0.014242806471884,0.094162963330746));
res += mul(Get(s1,0,-dy), float4x4(0.131847187876701,-0.062078773975372,0.014932489953935,-0.095902316272259,0.008481390774250,-0.008273291401565,-0.009823193773627,-0.087782941758633,-0.040928620845079,0.021356074139476,-0.042587388306856,0.054472122341394,-0.083152420818806,-0.081688471138477,-0.014922229573131,0.006866537965834));
res += mul(Get(s1,0,0), float4x4(0.043136429041624,-0.067184805870056,0.061219830065966,0.061044596135616,0.119634024798870,0.002699542557821,-0.040930062532425,-0.006139884702861,-0.031743790954351,-0.042091928422451,-0.006735353264958,0.124261222779751,-0.000678081589285,0.034743580967188,-0.074473783373833,-0.030507259070873));
res += mul(Get(s1,0,dy), float4x4(-0.007545660715550,-0.034379273653030,0.005701353773475,-0.109916664659977,-0.008053602650762,-0.045831874012947,0.007904698140919,-0.075639434158802,-0.090022072196007,-0.001561299897730,-0.082594268023968,0.077194854617119,0.024038631469011,-0.084957294166088,0.111216947436333,0.035795748233795));
res += mul(Get(s1,dx,-dy), float4x4(0.019421577453613,0.031436644494534,0.174392268061638,-0.128077775239944,-0.072492644190788,0.040342506021261,0.022965481504798,0.006458323914558,-0.060021653771400,0.029017647728324,-0.060172621160746,-0.043264653533697,-0.067190445959568,0.111528135836124,-0.016739390790462,-0.045988708734512));
res += mul(Get(s1,dx,0), float4x4(0.006096669007093,-0.013630545698106,-0.116796396672726,0.021182116121054,-0.020229483023286,-0.150059729814529,-0.031063767150044,-0.061189811676741,-0.098739393055439,-0.067233070731163,-0.071233421564102,-0.045783720910549,0.077747970819473,0.037083316594362,0.089808188378811,-0.009629175998271));
res += mul(Get(s1,dx,dy), float4x4(0.012161026708782,-0.067837111651897,-0.029006348922849,-0.065868049860001,-0.022540556266904,0.014728557318449,0.010241124778986,0.106627702713013,-0.035985473543406,0.055711984634399,-0.152669206261635,0.020346481353045,-0.111225187778473,0.018795797601342,0.025388645008206,-0.037457160651684));
res += mul(Get(s2,-dx,-dy), float4x4(-0.029569702222943,-0.021099565550685,-0.098950840532780,-0.051354929804802,0.132336780428886,0.064005918800831,0.024935064837337,0.062520086765289,-0.076083034276962,0.018973881378770,-0.035846792161465,0.029407009482384,0.005836313590407,-0.029782572761178,-0.119868837296963,0.028037443757057));
res += mul(Get(s2,-dx,0), float4x4(-0.133929014205933,-0.152593299746513,-0.015351356938481,0.128243193030357,0.144448250532150,-0.021992200985551,0.036157578229904,0.040479574352503,-0.155261665582657,0.066100046038628,-0.082840770483017,0.003040606621653,0.010988404974341,0.005509345792234,-0.033054176717997,0.061326172202826));
res += mul(Get(s2,-dx,dy), float4x4(-0.038574565201998,-0.072573177516460,0.047218263149261,0.179147079586983,-0.044847875833511,0.128073453903198,-0.026049483567476,0.057321336120367,0.154272705316544,0.086826413869858,0.021154731512070,-0.051441151648760,-0.036863818764687,0.126415848731995,0.079065091907978,0.080140121281147));
res += mul(Get(s2,0,-dy), float4x4(-0.099193476140499,0.028256472200155,-0.062883563339710,-0.012064229696989,-0.011450831778347,-0.103234104812145,0.047363471239805,-0.032686505466700,-0.018030442297459,0.065794914960861,-0.055450685322285,0.037125181406736,0.050313815474510,0.059269443154335,-0.010571342892945,-0.109451465308666));
res += mul(Get(s2,0,0), float4x4(-0.059700880199671,0.164505884051323,0.036902055144310,-0.112061358988285,-0.039152354001999,-0.046576876193285,0.057846050709486,-0.044200237840414,-0.004059947561473,-0.029999133199453,0.128783181309700,0.143568754196167,-0.059749078005552,-0.030245196074247,-0.016407037153840,0.034599039703608));
res += mul(Get(s2,0,dy), float4x4(-0.051109984517097,0.046216715127230,0.170492440462112,0.121340401470661,-0.009898907504976,-0.019645823165774,0.022271245718002,-0.129151389002800,0.062462862581015,0.001949078869075,0.089313760399818,0.204976618289948,-0.052669301629066,-0.037447556853294,-0.053356647491455,-0.044265005737543));
res += mul(Get(s2,dx,-dy), float4x4(-0.074973419308662,0.002198069822043,-0.041028421372175,-0.171724528074265,-0.067749507725239,-0.145624443888664,-0.007721522357315,-0.017801117151976,-0.121062420308590,0.033657982945442,-0.030131315812469,-0.005066949408501,0.050823617726564,0.107467487454414,-0.036176178604364,-0.024781709536910));
res += mul(Get(s2,dx,0), float4x4(-0.153307437896729,-0.060696918517351,-0.104137659072876,-0.058179583400488,-0.138529703021049,0.030194032937288,-0.099462732672691,-0.089763477444649,-0.001513517228886,-0.077923081815243,-0.041723445057869,-0.015927836298943,0.118340812623501,0.191527187824249,-0.087658807635307,0.044444896280766));
res += mul(Get(s2,dx,dy), float4x4(0.052348740398884,-0.012360474094748,0.144478648900986,0.073919638991356,-0.009278752841055,-0.003699064254761,-0.081447996199131,0.089352011680603,0.013534579426050,-0.061730381101370,0.025619389489293,0.006332559045404,-0.026582393795252,0.011812938377261,0.042905122041702,0.031116185709834));
res += mul(Get(s3,-dx,-dy), float4x4(-0.009094758890569,-0.031328875571489,-0.020144596695900,0.017400611191988,-0.098678201436996,-0.038602337241173,-0.023928884416819,-0.146076500415802,-0.071491636335850,0.022501988336444,0.002189943799749,0.000443198397988,0.055406864732504,-0.010091365315020,0.030822260305285,-0.031518571078777));
res += mul(Get(s3,-dx,0), float4x4(0.034444451332092,-0.080893829464912,0.098590895533562,0.091503314673901,0.009841791354120,-0.006110789719969,-0.012200306169689,0.016469148918986,0.022165009751916,-0.111795194447041,0.003313978668302,-0.102132864296436,-0.090785607695580,-0.027045069262385,-0.090442948043346,-0.054088577628136));
res += mul(Get(s3,-dx,dy), float4x4(0.064569629728794,0.087527729570866,0.054004263132811,0.173875331878662,0.090370252728462,-0.024369915947318,0.043176624923944,-0.054547462612391,0.009044686332345,-0.133262112736702,-0.005931904539466,0.084588989615440,-0.039821475744247,0.092234805226326,-0.018445832654834,0.058915033936501));
res += mul(Get(s3,0,-dy), float4x4(0.096968278288841,0.012567037716508,0.127119094133377,-0.037150025367737,-0.033989660441875,0.068320639431477,0.066368840634823,0.078194476664066,-0.035597998648882,-0.002219190821052,0.078231245279312,0.044120695441961,-0.047957003116608,-0.048003286123276,0.055273681879044,0.066575348377228));
res += mul(Get(s3,0,0), float4x4(0.038020186126232,0.076320134103298,0.128501281142235,-0.078720688819885,-0.040286269038916,0.031544137746096,-0.100228033959866,-0.058951951563358,-0.046548862010241,0.050284057855606,0.029636919498444,0.069438301026821,0.037074528634548,0.019200962036848,-0.004165070597082,0.081369526684284));
res += mul(Get(s3,0,dy), float4x4(-0.050769314169884,-0.070589594542980,-0.194539651274681,-0.022259969264269,-0.064832970499992,-0.068671934306622,0.014227060601115,-0.000103487611341,0.032543879002333,0.014022963121533,0.022109117358923,-0.003852575318888,0.037000950425863,0.039053838700056,-0.028484560549259,0.043161086738110));
res += mul(Get(s3,dx,-dy), float4x4(0.067761950194836,-0.005466920789331,-0.124229401350021,-0.093030631542206,-0.020193228498101,-0.044490072876215,0.018213102594018,-0.061580162495375,0.236927747726440,-0.107681885361671,-0.076637342572212,0.066017553210258,0.007337452843785,0.057398568838835,-0.058703962713480,0.041454222053289));
res += mul(Get(s3,dx,0), float4x4(-0.004871909040958,-0.065444208681583,0.050785768777132,-0.048864699900150,-0.013455219566822,-0.073435135185719,-0.004158983472735,-0.050186071544886,0.248759135603905,-0.109193257987499,-0.070189826190472,-0.178501933813095,-0.023596625775099,-0.059872884303331,-0.017017569392920,-0.047706753015518));
res += mul(Get(s3,dx,dy), float4x4(0.086273305118084,0.070866942405701,0.096058830618858,0.041600171476603,0.010959993116558,0.035284940153360,0.055584132671356,-0.016646590083838,0.137684315443039,0.062643550336361,-0.228550717234612,0.054672431200743,-0.065012209117413,0.025141257792711,0.043165195733309,-0.076754882931709));
return max(float4(0,0,0,0), res);
}
