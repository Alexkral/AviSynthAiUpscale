sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.086067341268063,0.002953771036118,-0.045453853905201,0.111052565276623,0.048592485487461,0.074394986033440,0.021791901439428,0.087692536413670,0.031541958451271,0.001401469577104,0.025319917127490,0.047493848949671,-0.153889328241348,-0.077767588198185,0.031106436625123,0.011785104870796));
res += mul(Get(s0,-dx,0), float4x4(0.039846614003181,0.164381086826324,0.053970158100128,0.041059203445911,-0.116593703627586,-0.053971674293280,0.032307092100382,-0.043151665478945,-0.039531160145998,-0.061816908419132,0.031309280544519,0.130876407027245,-0.041621126234531,0.045280091464520,-0.009435506537557,-0.044326119124889));
res += mul(Get(s0,-dx,dy), float4x4(0.088996402919292,-0.021890392526984,0.006045962218195,0.074160188436508,-0.181204512715340,-0.072607085108757,-0.100433364510536,-0.113316044211388,-0.039781108498573,0.041316252201796,-0.089194580912590,0.028927896171808,0.014989714138210,-0.047183215618134,-0.002149229636416,0.113643698394299));
res += mul(Get(s0,0,-dy), float4x4(0.014547214843333,0.079238854348660,0.010113203898072,-0.052308529615402,0.173218160867691,0.397878229618073,0.146052956581116,-0.026718713343143,0.036929532885551,-0.068501479923725,0.040767200291157,-0.001860324176960,0.069983534514904,-0.027076551690698,0.031617321074009,-0.002883999841288));
res += mul(Get(s0,0,0), float4x4(-0.026129173114896,-0.037295345216990,0.081120513379574,0.045108124613762,-0.009988800622523,0.184783935546875,0.067193470895290,0.003154025180265,-0.086283154785633,0.080244883894920,0.154258593916893,-0.005011199507862,0.009420151822269,-0.046262312680483,0.096716813743114,-0.030779447406530));
res += mul(Get(s0,0,dy), float4x4(0.057324454188347,0.058464776724577,-0.145042672753334,0.070757061243057,0.025449143722653,0.122984595596790,0.040219746530056,0.074773401021957,-0.025821011513472,0.090040616691113,0.047795999795198,0.085752904415131,-0.076491124927998,0.031446743756533,0.028675036504865,0.154479160904884));
res += mul(Get(s0,dx,-dy), float4x4(0.076836831867695,0.180106088519096,-0.124152727425098,0.249619707465172,-0.034348282963037,0.052434086799622,0.028995413333178,0.039728928357363,0.089694499969482,-0.019222883507609,-0.018556969240308,0.099418245255947,0.021318994462490,-0.057460945099592,0.115857042372227,0.061673671007156));
res += mul(Get(s0,dx,0), float4x4(0.031270835548639,0.017766982316971,0.158732846379280,0.109137192368507,-0.097225263714790,-0.161386743187904,0.062274273484945,0.092284046113491,0.064188502728939,-0.041836574673653,0.026634743437171,0.160972356796265,-0.081531815230846,-0.064960964024067,-0.142509877681732,0.049671560525894));
res += mul(Get(s0,dx,dy), float4x4(-0.119225233793259,-0.042353335767984,0.146030962467194,-0.036837317049503,-0.307157337665558,-0.189992263913155,-0.045936375856400,-0.195985853672028,-0.073280252516270,0.045853678137064,-0.023431174457073,-0.009765051305294,-0.066924981772900,0.030829209834337,-0.031417235732079,-0.070584729313850));
res += mul(Get(s1,-dx,-dy), float4x4(-0.045676775276661,-0.030612209811807,0.016961665824056,0.031531605869532,0.069858267903328,-0.029562724754214,-0.004112576134503,0.083656445145607,-0.103403620421886,0.159694224596024,-0.008336140774190,0.112154081463814,0.134135290980339,0.016405092552304,-0.079732276499271,-0.054281361401081));
res += mul(Get(s1,-dx,0), float4x4(-0.086015835404396,0.023354191333055,-0.057943206280470,0.033920761197805,0.068220824003220,0.014384305104613,-0.002578027313575,0.057026777416468,0.015997679904103,-0.076139181852341,-0.050387796014547,0.075971871614456,-0.027425589039922,0.080492943525314,0.039958216249943,-0.024757705628872));
res += mul(Get(s1,-dx,dy), float4x4(-0.018739201128483,-0.029118187725544,-0.089943729341030,-0.077307395637035,-0.048937227576971,-0.023106193169951,0.085731312632561,0.072663195431232,0.091806143522263,0.033643670380116,0.017603496089578,-0.083404131233692,0.029550872743130,0.011220650747418,-0.074311420321465,0.008544007316232));
res += mul(Get(s1,0,-dy), float4x4(-0.062463775277138,0.020429523661733,0.041115116328001,-0.015169842168689,-0.101431094110012,-0.027026381343603,0.233360394835472,0.041079457849264,-0.103879950940609,-0.109021298587322,0.038401193916798,0.042576935142279,-0.079496897757053,0.158005669713020,0.071583703160286,0.013165587559342));
res += mul(Get(s1,0,0), float4x4(-0.020103899762034,-0.179536953568459,0.040464989840984,-0.026870748028159,-0.152150750160217,-0.132519245147705,-0.036405667662621,0.059979580342770,-0.022993970662355,0.059914741665125,0.027079911902547,-0.015490041114390,-0.043172664940357,0.193197250366211,0.022554175928235,-0.013534924015403));
res += mul(Get(s1,0,dy), float4x4(-0.032491732388735,0.032224066555500,0.017900979146361,0.039938479661942,0.202925488352776,-0.066408269107342,0.047535568475723,-0.007907350547612,0.005710467230529,0.074468031525612,0.230053246021271,-0.025405384600163,-0.080679535865784,0.007131649181247,0.044517602771521,-0.009684599936008));
res += mul(Get(s1,dx,-dy), float4x4(-0.028572320938110,0.133409440517426,0.028656834736466,-0.070045135915279,0.067932911217213,0.032928112894297,-0.072312965989113,0.019098483026028,-0.131093859672546,-0.107043281197548,-0.039882734417915,-0.014188154600561,0.027392983436584,-0.133091136813164,-0.019592864438891,0.002571209333837));
res += mul(Get(s1,dx,0), float4x4(-0.035227835178375,0.075451120734215,-0.059870984405279,0.078041747212410,-0.010930614545941,0.024667181074619,0.113982096314430,0.007791629526764,0.063100144267082,0.084676258265972,-0.008220260031521,-0.043966874480247,0.090541325509548,-0.023924605920911,0.017112415283918,0.032589647918940));
res += mul(Get(s1,dx,dy), float4x4(0.087067790329456,0.066615968942642,-0.033544018864632,0.129074901342392,-0.078562691807747,-0.038501430302858,-0.049216080456972,-0.050202850252390,-0.024405138567090,-0.116341553628445,0.184215024113655,-0.018265118822455,-0.041896127164364,-0.060129474848509,0.103011138737202,0.090662904083729));
res += mul(Get(s2,-dx,-dy), float4x4(-0.020199792459607,-0.030192812904716,-0.112894430756569,0.050508767366409,-0.068257547914982,0.097695469856262,-0.014034318737686,-0.056897487491369,-0.005868569947779,-0.003123874543235,0.001575744594447,-0.031671568751335,-0.101829558610916,-0.036410715430975,0.069315150380135,0.081479027867317));
res += mul(Get(s2,-dx,0), float4x4(-0.038279004395008,-0.140800580382347,-0.108380950987339,-0.012782041914761,0.003509733360261,0.070252932608128,0.032132267951965,-0.000259593041847,0.100857898592949,0.046080507338047,0.038114123046398,-0.013208565302193,0.043509989976883,0.128170073032379,0.055749002844095,0.058248043060303));
res += mul(Get(s2,-dx,dy), float4x4(0.023367444053292,0.008577262982726,0.075239732861519,0.069244362413883,0.082243181765079,-0.022442927584052,-0.018749453127384,-0.015482827089727,0.076712079346180,0.017405971884727,0.009348651394248,-0.007092745508999,-0.001053749001585,0.023551123216748,0.162108421325684,-0.154355779290199));
res += mul(Get(s2,0,-dy), float4x4(0.043090786784887,0.249865874648094,0.073956258594990,-0.001573306042701,-0.023309523239732,0.040443491190672,0.091539308428764,-0.058016899973154,-0.034984804689884,0.114809177815914,0.016185067594051,-0.127852663397789,-0.048177305608988,0.008886571973562,0.019829200580716,-0.031919386237860));
res += mul(Get(s2,0,0), float4x4(-0.017672574147582,-0.137846410274506,0.008545203134418,0.000169434541021,-0.017957800999284,-0.069071531295776,-0.067982047796249,0.012418741360307,0.003048937767744,-0.035082340240479,-0.003379011759534,0.009714093059301,-0.045358508825302,-0.099761769175529,-0.147760450839996,0.082987889647484));
res += mul(Get(s2,0,dy), float4x4(-0.039966706186533,0.029889039695263,-0.113138094544411,-0.190940707921982,-0.157700553536415,-0.034659624099731,0.102774351835251,0.012026921845973,0.079552553594112,0.052797112613916,-0.098660431802273,0.029453720897436,0.102726705372334,-0.002014090074226,0.118375115096569,0.037026420235634));
res += mul(Get(s2,dx,-dy), float4x4(-0.065115645527840,0.113362103700638,-0.026075046509504,-0.043703734874725,-0.063534349203110,0.041736487299204,-0.043339543044567,0.174531802535057,0.005935638211668,0.028210207819939,-0.034120641648769,-0.040601052343845,-0.051546551287174,-0.069675043225288,0.094015941023827,0.000150261592353));
res += mul(Get(s2,dx,0), float4x4(-0.055775921791792,0.024167098104954,0.034667301923037,0.034647516906261,-0.101434268057346,-0.015364158898592,-0.116327583789825,0.067595213651657,0.047478914260864,0.057752240449190,-0.152259379625320,0.111094720661640,-0.085320450365543,0.011328773573041,-0.037536274641752,0.049556121230125));
res += mul(Get(s2,dx,dy), float4x4(-0.065530180931091,-0.002705951686949,-0.041636247187853,-0.047626249492168,-0.022237034514546,-0.000976842246018,-0.050673428922892,0.065715372562408,0.069821335375309,0.096855103969574,-0.026024492457509,0.067336827516556,0.015475802123547,0.080668643116951,0.014443365857005,0.074823208153248));
res += mul(Get(s3,-dx,-dy), float4x4(0.133154720067978,0.108539327979088,0.019223306328058,-0.034019734710455,0.027259770780802,0.055825863033533,0.048229500651360,0.004205775912851,0.027282042428851,-0.133311882615089,-0.117553487420082,-0.052427612245083,-0.044855006039143,0.036059655249119,0.114167429506779,-0.082210585474968));
res += mul(Get(s3,-dx,0), float4x4(-0.033608514815569,0.204498231410980,0.025853881612420,-0.085125476121902,-0.080988906323910,-0.007999631576240,-0.059794772416353,0.015311118215322,0.135081708431244,-0.136083915829659,0.000014258938791,0.090274028480053,-0.027731113135815,-0.054677806794643,0.064979761838913,-0.056081827729940));
res += mul(Get(s3,-dx,dy), float4x4(-0.073765046894550,-0.025583172217011,0.079928353428841,0.053296927362680,0.002785808173940,0.038886826485395,-0.075265280902386,-0.097944214940071,-0.079680457711220,0.005551608279347,-0.025801939889789,0.016391657292843,0.064790345728397,0.025284385308623,0.003237591823563,0.001051033264957));
res += mul(Get(s3,0,-dy), float4x4(-0.105229288339615,-0.390224456787109,-0.060208115726709,0.128693893551826,-0.031764481216669,-0.079209066927433,-0.008283053524792,0.016000803560019,0.138713404536247,-0.118803732097149,0.065428234636784,0.063321076333523,0.051805503666401,-0.106248535215855,0.066587954759598,0.005076838191599));
res += mul(Get(s3,0,0), float4x4(0.190931916236877,0.368092417716980,-0.082268491387367,0.241636514663696,0.013739833608270,-0.109776355326176,-0.015106940641999,0.069794312119484,0.117414809763432,0.094282679259777,0.095849804580212,0.058054253458977,0.076184131205082,-0.073182016611099,0.011846882291138,-0.094380743801594));
res += mul(Get(s3,0,dy), float4x4(-0.003907075151801,-0.147828385233879,-0.032429125159979,-0.016002152115107,-0.010534069500864,0.054455470293760,0.085383594036102,-0.006644586566836,0.010687123052776,-0.111230455338955,-0.043123237788677,0.023375064134598,0.060425471514463,0.017052680253983,-0.031118026003242,-0.088711269199848));
res += mul(Get(s3,dx,-dy), float4x4(0.010941729880869,0.234178587794304,-0.072405792772770,0.052996430546045,-0.013146257027984,0.068149767816067,0.044293813407421,0.116046495735645,-0.049884151667356,-0.142927691340446,0.048454582691193,0.152723953127861,-0.028183536604047,0.014294499531388,0.020480310544372,0.080374494194984));
res += mul(Get(s3,dx,0), float4x4(-0.048370976001024,0.137154310941696,0.078064493834972,-0.021979089826345,-0.072142355144024,0.113540157675743,0.038878399878740,0.041079405695200,-0.041884806007147,-0.012431247159839,0.108461491763592,0.112388864159584,-0.035403590649366,-0.140490457415581,-0.000062334554968,-0.036052156239748));
res += mul(Get(s3,dx,dy), float4x4(0.071025863289833,-0.082958526909351,-0.136429250240326,0.055966261774302,-0.022857893258333,-0.104604087769985,-0.100989192724228,-0.031688284128904,0.068617500364780,0.050352208316326,0.019412374123931,0.055825054645538,0.053945038467646,-0.039227243512869,-0.029592916369438,0.140216141939163));
return max(float4(0,0,0,0), res);
}
