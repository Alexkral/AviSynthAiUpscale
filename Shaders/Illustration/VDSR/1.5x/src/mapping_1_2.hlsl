sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.008652932010591,0.000098783311842,-0.015181486494839,0.003444622503594,0.004034240264446,-0.004133978392929,0.030244141817093,0.027116673067212,-0.005000305827707,0.002404808998108,-0.006647951435298,-0.004902586340904,-0.006320084445179,0.007085463497788,-0.006209217011929,-0.001136692357250));
res += mul(Get(s0,-dx,0), float4x4(0.000169424281921,0.001270230393857,-0.007618183735758,0.001771696610376,0.007048408500850,-0.002602402586490,0.002330707153305,0.035332888364792,0.011473734863102,0.009210595861077,0.008338539861143,-0.001793235307559,-0.000488766352646,-0.005728534888476,0.031975548714399,0.010713869705796));
res += mul(Get(s0,-dx,dy), float4x4(0.001528196968138,-0.001403516042046,0.003212708514184,-0.008518951013684,0.002046785084531,-0.002874150872231,0.002944720210508,0.017623843625188,0.005441466346383,0.006330026313663,-0.005236186552793,-0.000087784312200,0.000111830515380,-0.008330998010933,0.034973625093699,-0.002561915665865));
res += mul(Get(s0,0,-dy), float4x4(0.006633817683905,0.003218653146178,-0.014867282472551,0.000078698365542,0.005231884773821,0.025906689465046,-0.020548790693283,-0.004703352693468,0.009832285344601,0.000732757092919,-0.008913064375520,-0.003948084544390,0.002185000106692,0.006663059815764,-0.042459297925234,-0.003206150606275));
res += mul(Get(s0,0,0), float4x4(0.003161969128996,-0.000892086070962,-0.016864262521267,0.000012938558939,-0.006258483510464,0.029071578755975,-0.091214507818222,-0.008525427430868,0.008376161567867,0.021192312240601,-0.018618617206812,-0.002995072398335,-0.000101783836726,0.007948677986860,-0.067881852388382,0.000552381563466));
res += mul(Get(s0,0,dy), float4x4(-0.001228911918588,-0.001969152828678,0.009875623509288,0.004732641391456,-0.000607117544860,0.017326267436147,-0.078921571373940,-0.010228113271296,0.015096548013389,0.011056798510253,-0.006646810565144,0.000412599998526,-0.000918883422855,0.004485785495490,-0.053486194461584,-0.003819591831416));
res += mul(Get(s0,dx,-dy), float4x4(0.010332467965782,-0.004699108656496,0.021545218303800,0.003311989596114,-0.008867096155882,0.055920172482729,0.003391073085368,-0.009566633030772,-0.003051266074181,0.001585720456205,-0.008243110030890,-0.001500271027908,-0.004466199316084,0.027601914480329,0.012088603340089,-0.000333437434165));
res += mul(Get(s0,dx,0), float4x4(0.000762992014643,-0.003092399798334,0.010753460228443,-0.002030967734754,-0.016928488388658,0.055596534162760,0.059225808829069,-0.012859382666647,0.008711313828826,0.027730816975236,-0.010846350342035,0.001276360242628,-0.000295747508062,0.020870022475719,0.022167306393385,-0.005077083129436));
res += mul(Get(s0,dx,dy), float4x4(0.001916621346027,-0.005793237593025,-0.005918373353779,0.006924074143171,-0.010189446620643,0.027208555489779,0.055099736899137,-0.015035052783787,0.000577556143980,0.007359980139881,0.009686083532870,-0.003560768673196,-0.001550820306875,0.014964661560953,-0.001100801397115,-0.002362214960158));
res += mul(Get(s1,-dx,-dy), float4x4(-0.000881584768649,0.034079428762197,0.010060335509479,-0.004849706776440,-0.032998397946358,-0.000918437086511,0.001004860154353,-0.000020124534785,-0.101968742907047,-0.029604014009237,0.270345538854599,0.039560016244650,-0.046062104403973,0.093192756175995,-0.037066709250212,-0.049963887780905));
res += mul(Get(s1,-dx,0), float4x4(-0.008353025652468,0.020308628678322,0.034425564110279,0.001349460100755,0.009844517335296,0.103211730718613,-0.030012369155884,0.004593072459102,0.032556451857090,-0.032258719205856,0.081515915691853,0.053245089948177,-0.129336014389992,0.062074393033981,0.242663979530334,-0.059036776423454));
res += mul(Get(s1,-dx,dy), float4x4(0.001149406889454,0.014493454247713,0.030047846958041,0.002407519845292,0.027995599433780,0.086809054017067,-0.015247156843543,0.002723983023316,-0.034591950476170,-0.031082248315215,0.150303781032562,0.021040467545390,-0.056734371930361,0.042198684066534,0.036067493259907,-0.029456688091159));
res += mul(Get(s1,0,-dy), float4x4(0.019718639552593,0.004160264041275,0.005187072325498,0.000962976482697,-0.038925480097532,-0.006160914897919,0.023695683106780,-0.017049374058843,-0.033867549151182,0.081635192036629,0.052748776972294,0.002455966081470,0.053233653306961,0.016430500894785,-0.220507219433784,-0.052576538175344));
res += mul(Get(s1,0,0), float4x4(0.010811132378876,0.010108505375683,-0.012849735096097,-0.000466825324111,0.026504164561629,0.126431897282600,-0.123588927090168,0.008009684272110,0.038525201380253,0.063250638544559,-0.430144101381302,0.011698881164193,-0.001943143899553,-0.004973060451448,-0.233220010995865,-0.024835499003530));
res += mul(Get(s1,0,dy), float4x4(0.013155739754438,0.011405752971768,-0.007031058892608,-0.001891358057037,0.016799623146653,0.093235619366169,0.100295469164848,-0.007624348625541,-0.005056298803538,0.033765755593777,0.007506907917559,0.003759104060009,0.016574863344431,0.037684850394726,-0.025422539561987,-0.010135750286281));
res += mul(Get(s1,dx,-dy), float4x4(0.002851086668670,0.000446042598924,-0.010739735327661,0.003045930527151,-0.021506888791919,-0.004548561293632,0.003033851273358,-0.003135145641863,-0.033332094550133,0.044357664883137,-0.074883759021759,0.048321112990379,-0.040177240967751,-0.101203262805939,0.186700254678726,-0.028958424925804));
res += mul(Get(s1,dx,0), float4x4(-0.004459346644580,0.010391143150628,-0.013419123366475,-0.006779993884265,0.013963828794658,0.094245366752148,-0.036113318055868,0.005685257259756,-0.053703088313341,0.042711403220892,0.293545991182327,0.013754150830209,-0.080436050891876,-0.091184511780739,0.325929760932922,-0.014234491623938));
res += mul(Get(s1,dx,dy), float4x4(0.000046551202104,0.012361509725451,-0.006518994923681,-0.000612130213995,0.044205624610186,0.070301532745361,0.063469797372818,-0.005115262698382,0.052970968186855,0.049883030354977,-0.071166843175888,0.024003028869629,-0.039487600326538,-0.016434054821730,0.169209808111191,-0.021047106012702));
res += mul(Get(s2,-dx,-dy), float4x4(0.023837702348828,0.000032792111597,0.072764545679092,-0.005463124718517,0.000614749442320,0.004575447179377,-0.016022013500333,-0.001171544776298,0.092433050274849,-0.090623371303082,0.124550707638264,-0.099016018211842,0.013658051379025,0.003002672921866,-0.029866496101022,-0.009624868631363));
res += mul(Get(s2,-dx,0), float4x4(0.026344817131758,0.007083255331963,0.047151301056147,0.002237831940874,-0.002054231474176,0.005057274363935,-0.018560120835900,-0.007282380945981,-0.031019007787108,-0.023438146337867,-0.344752639532089,-0.079816445708275,-0.000455667730421,0.052578955888748,-0.110559619963169,0.003126257797703));
res += mul(Get(s2,-dx,dy), float4x4(0.063253380358219,0.016557840630412,-0.081750884652138,0.004667935892940,0.003704686881974,0.004340320359915,-0.016263078898191,-0.001200338359922,0.094447031617165,0.067602783441544,-0.050735570490360,-0.033796116709709,0.028961928561330,0.065876528620720,-0.025103056803346,0.002565959701315));
res += mul(Get(s2,0,-dy), float4x4(0.024309841915965,-0.004419940989465,-0.009072240442038,-0.003811349859461,-0.011219370178878,-0.006879277992994,0.006951075047255,0.003193384967744,0.061350051313639,-0.238459914922714,-0.297800779342651,0.049321275204420,0.009232372045517,-0.006959288381040,0.063521414995193,-0.011002899147570));
res += mul(Get(s2,0,0), float4x4(-0.004354096017778,0.009563159197569,0.047372847795486,-0.010283923707902,0.001602630713023,-0.005845611914992,-0.031707782298326,0.002570830751210,-0.212922006845474,-0.161093130707741,1.259410619735718,0.004678897093982,0.016909029334784,0.070503219962120,-0.123788028955460,0.006379524711519));
res += mul(Get(s2,0,dy), float4x4(0.020732488483191,0.004169499967247,-0.057460788637400,0.005907685961574,0.005954818334430,-0.003405565861613,-0.060721632093191,-0.007154851686209,0.156148895621300,0.060090620070696,-0.016148263588548,0.054791320115328,0.041105456650257,0.056950930505991,-0.043929051607847,-0.004656955134124));
res += mul(Get(s2,dx,-dy), float4x4(0.005929795559496,0.002152981935069,0.023224836215377,-0.003294071182609,-0.007850560359657,-0.003650362836197,0.033407550305128,0.001320506329648,-0.002453644527122,-0.088867768645287,-0.082230351865292,0.057527542114258,0.006858766078949,0.002831879071891,0.125467568635941,-0.001618823152967));
res += mul(Get(s2,dx,0), float4x4(0.003865942358971,-0.002709101187065,-0.001837966614403,-0.000151602813276,0.001432756194845,-0.004385488107800,-0.021995967254043,0.000057488687162,-0.160540893673897,-0.065523430705070,0.259000688791275,0.055691942572594,0.001330787315965,0.066194020211697,-0.095565117895603,0.016058703884482));
res += mul(Get(s2,dx,dy), float4x4(-0.004478858318180,0.003704612841830,0.118633784353733,-0.002696610754356,-0.001671722624451,-0.002314259530976,0.067665264010429,-0.006162475328892,0.019245700910687,0.066237598657608,-0.022001311182976,-0.001497798250057,0.031515639275312,0.057124115526676,0.011278797872365,-0.000372839887859));
res += mul(Get(s3,-dx,-dy), float4x4(0.006027786992490,0.072973839938641,0.009375553578138,-0.005808046553284,-0.024794021621346,0.015944058075547,-0.005117504857481,0.007201255299151,0.001399030676112,-0.003704268718138,0.068748652935028,0.004843522328883,-0.010826032608747,0.001861492288299,-0.012907788157463,0.000496117165312));
res += mul(Get(s3,-dx,0), float4x4(-0.007882535457611,0.058006659150124,0.080266661942005,-0.003845983650535,-0.004382533486933,0.009312424808741,-0.082611210644245,0.005654969718307,0.011827893555164,0.017806913703680,0.051495172083378,0.012054428458214,0.005056777969003,0.003142232540995,-0.047745797783136,0.009210374206305));
res += mul(Get(s3,-dx,dy), float4x4(-0.008454007096589,0.043840866535902,0.050635986030102,-0.002260394627228,-0.007449850440025,-0.000874910969287,-0.036414928734303,-0.005005722865462,0.016132071614265,0.011551443487406,-0.021367967128754,0.002357705729082,-0.009992416016757,-0.000219668567297,0.024675972759724,-0.001177361235023));
res += mul(Get(s3,0,-dy), float4x4(0.028790004551411,0.012532661668956,0.048819959163666,-0.001270139357075,-0.031828835606575,0.015216049738228,0.088565729558468,-0.012318712659180,0.016297800466418,0.013787393458188,-0.027062827721238,0.002039475832134,-0.015560652129352,0.000109253640403,-0.015301229432225,-0.004914747551084));
res += mul(Get(s3,0,0), float4x4(0.033575069159269,0.019758760929108,0.010187648236752,0.008126897737384,0.001020725816488,0.001241936115548,-0.022210786119103,0.007821733132005,0.010145174339414,0.012175604701042,-0.079865567386150,-0.012573028914630,0.007067359518260,0.006279614288360,-0.093384720385075,0.037703014910221));
res += mul(Get(s3,0,dy), float4x4(0.026609463617206,0.020189709961414,0.005090809427202,-0.002203244250268,-0.007719340268523,-0.000845007773023,0.032570034265518,-0.012728086672723,0.008289009332657,0.012268903665245,-0.058768715709448,-0.025878883898258,-0.009165593422949,0.000777054636274,-0.013161567971110,0.020289154723287));
res += mul(Get(s3,dx,-dy), float4x4(0.000598616141360,-0.002946911612526,-0.017669891938567,-0.000172897227458,-0.016707750037313,0.002332816366106,0.106913916766644,-0.001137109939009,-0.002442110795528,0.051254477351904,-0.004734958987683,-0.014069087803364,-0.009469479322433,-0.004073130898178,0.002705518621951,-0.009676742367446));
res += mul(Get(s3,dx,0), float4x4(-0.011727363802493,-0.000699085590895,-0.040550529956818,-0.000367714616004,0.000604469620157,0.002317868871614,-0.015943873673677,0.008230538107455,-0.014370447024703,0.046338848769665,0.039802785962820,-0.012064086273313,0.008903045207262,0.007995339110494,-0.116930745542049,0.037869539111853));
res += mul(Get(s3,dx,dy), float4x4(0.008504707366228,0.005514058284461,-0.043043427169323,0.002204288030043,-0.018531309440732,0.001508932211436,0.019502012059093,-0.003744843183085,-0.003848690073937,0.029514884576201,0.032723303884268,-0.008182217366993,-0.025440201163292,-0.004407899919897,0.021741019561887,0.024598082527518));
return max(float4(0,0,0,0), res);
}
