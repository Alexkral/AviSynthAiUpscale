sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.022744346410036,0.035013843327761,0.004994836170226,0.056205123662949,0.016858864575624,-0.076381266117096,-0.156704381108284,-0.075424537062645,-0.001743992441334,-0.091392122209072,-0.080080047249794,-0.035927247256041,-0.018530866131186,-0.049376022070646,-0.027571244165301,-0.044458642601967));
res += mul(Get(s0,-dx,0), float4x4(0.000460255454527,0.130961090326309,-0.017439110204577,0.072732962667942,0.070002019405365,0.190625727176666,-0.084585875272751,-0.113170176744461,0.104927852749825,0.032006621360779,0.055816821753979,-0.101672492921352,0.034325376152992,-0.150494381785393,0.001453171367757,-0.035486467182636));
res += mul(Get(s0,-dx,dy), float4x4(0.019801124930382,-0.007231319323182,-0.006166609469801,0.055683944374323,-0.138382226228714,-0.035153884440660,-0.005019163712859,-0.092258401215076,0.010969458147883,0.155743107199669,-0.029830195009708,-0.034977395087481,-0.046360403299332,-0.117377385497093,0.090879082679749,-0.027146598324180));
res += mul(Get(s0,0,-dy), float4x4(0.004656343720853,-0.009059190750122,-0.029157353565097,-0.032638158649206,-0.041892562061548,-0.106916353106499,0.222719788551331,-0.061631105840206,-0.005898703821003,0.034451443701982,0.085966326296329,-0.021306443959475,0.000517127511557,-0.091232925653458,-0.048779316246510,-0.027198467403650));
res += mul(Get(s0,0,0), float4x4(0.082745455205441,0.049628987908363,0.044618718326092,-0.041073787957430,0.017958218231797,-0.026067366823554,0.206810727715492,-0.030849685892463,0.017494017258286,0.046582140028477,0.085010372102261,0.023232534527779,-0.042386613786221,0.024691136553884,0.066236995160580,-0.064745053648949));
res += mul(Get(s0,0,dy), float4x4(-0.018653614446521,0.118781827390194,-0.023855414241552,0.037928514182568,-0.141340553760529,-0.040179632604122,0.006012775469571,0.056407399475574,-0.021434832364321,0.030472332611680,-0.036287110298872,0.109348520636559,-0.015553927980363,-0.146112889051437,0.251369118690491,-0.072152130305767));
res += mul(Get(s0,dx,-dy), float4x4(-0.005363283213228,0.023169323801994,-0.007725642062724,-0.058025658130646,0.091625936329365,-0.144856661558151,-0.097624532878399,0.001852066605352,0.042937811464071,0.096878446638584,-0.022684792056680,0.074857369065285,-0.031520202755928,-0.026702975854278,0.062111377716064,-0.079282060265541));
res += mul(Get(s0,dx,0), float4x4(-0.039473399519920,-0.023552849888802,0.018277723342180,-0.031957656145096,-0.015208071097732,-0.112327240407467,-0.147543042898178,0.037825804203749,0.006964140105993,0.137485235929489,-0.061019033193588,0.175272941589355,0.033246941864491,0.094184614717960,0.015924639999866,-0.036681480705738));
res += mul(Get(s0,dx,dy), float4x4(-0.032732646912336,0.115727744996548,0.001591558451764,0.001384200062603,0.007778527680784,0.001312979729846,0.046887122094631,-0.025961948558688,0.004953756928444,-0.071568116545677,-0.004243382718414,0.042462337762117,-0.061238877475262,0.072785705327988,-0.087756961584091,0.099806129932404));
res += mul(Get(s1,-dx,-dy), float4x4(0.021984765306115,-0.021616326645017,-0.033318400382996,-0.000393704714952,0.003515381831676,-0.001158877275884,0.003652146551758,-0.002681109122932,-0.027226993814111,-0.010823858901858,-0.031969964504242,0.125060170888901,0.005483217537403,0.035410381853580,0.026771968230605,0.049533236771822));
res += mul(Get(s1,-dx,0), float4x4(0.003489767899737,-0.022003693506122,-0.039257586002350,-0.030013879761100,0.001434778561816,0.007758080493659,0.008552846498787,-0.014582376927137,-0.029104961082339,-0.039313461631536,-0.052103854715824,0.028523726388812,0.017773514613509,0.018413128331304,-0.027125982567668,0.116197310388088));
res += mul(Get(s1,-dx,dy), float4x4(0.012016802094877,0.001440229825675,-0.036701433360577,-0.042901162058115,0.010259020142257,0.004661757033318,0.000289235817036,-0.008285302668810,0.032701250165701,0.022237958386540,0.002766956575215,-0.028345234692097,-0.035347815603018,0.009277233853936,-0.015836741775274,0.000762050098274));
res += mul(Get(s1,0,-dy), float4x4(-0.007221672218293,-0.032656032592058,-0.007320544682443,-0.019404225051403,-0.004295158199966,-0.005180194508284,0.003409924451262,-0.000660562363919,-0.002418793039396,-0.063751116394997,-0.074937015771866,-0.010715910233557,-0.000002453224852,-0.025477143004537,0.049172200262547,0.077439911663532));
res += mul(Get(s1,0,0), float4x4(-0.005213040392846,-0.050402835011482,-0.004820496775210,-0.054215684533119,-0.004289187490940,0.001171430922113,0.005290475208312,0.002003567758948,0.078059390187263,-0.043892439454794,0.038178458809853,-0.084733374416828,-0.009333951398730,0.003768575843424,0.017576571553946,0.021357255056500));
res += mul(Get(s1,0,dy), float4x4(0.012836320325732,-0.029049070551991,-0.003618482267484,-0.047436848282814,0.005644123069942,0.018274419009686,-0.004579650703818,-0.001395388972014,0.034329093992710,0.061129897832870,0.096568569540977,-0.029702480882406,-0.008739147335291,0.013508047908545,0.004050234798342,-0.067432999610901));
res += mul(Get(s1,dx,-dy), float4x4(0.000231380719924,-0.018284887075424,0.005294347181916,-0.017494423314929,0.007112107239664,-0.003981352783740,0.004020956344903,-0.002950562397018,-0.002340584294870,-0.130734905600548,0.085110306739807,-0.061531461775303,-0.020524568855762,-0.104813903570175,0.024055724963546,-0.000405867147492));
res += mul(Get(s1,dx,0), float4x4(-0.005097680725157,-0.024682765826583,0.016049811616540,-0.004406129475683,-0.004245910793543,-0.004611094016582,-0.000700911157764,-0.002225818345323,0.003707251744345,-0.038587320595980,0.033937219530344,-0.022387690842152,0.008095066063106,-0.097333081066608,-0.003317444352433,-0.078609123826027));
res += mul(Get(s1,dx,dy), float4x4(0.001657241140492,-0.015115798451006,-0.003165139816701,0.005533680319786,-0.002071945928037,0.009875111281872,-0.000305386667605,0.002743380842730,-0.033419866114855,-0.007546916604042,0.020485999062657,-0.021143436431885,-0.016944587230682,-0.097273193299770,-0.066172145307064,0.001611015759408));
res += mul(Get(s2,-dx,-dy), float4x4(0.002017097081989,-0.003914265893400,-0.002380826277658,-0.000838839798234,-0.032748539000750,-0.128111556172371,-0.039306420832872,-0.031281232833862,-0.079812780022621,-0.127834066748619,0.147061049938202,-0.161953181028366,0.000320597755490,-0.052070192992687,-0.017700234428048,-0.019968889653683));
res += mul(Get(s2,-dx,0), float4x4(-0.003181887557730,-0.001800911617465,0.000334712560289,0.002791582141072,-0.036110550165176,-0.163488790392876,-0.032103478908539,-0.102492317557335,0.429720073938370,-0.195188134908676,0.101838946342468,-0.139853715896606,0.045408155769110,-0.049691785126925,0.028564171865582,-0.054200123995543));
res += mul(Get(s2,-dx,dy), float4x4(0.007823565974832,0.000290803844109,0.003289198968560,-0.003680798690766,0.048079248517752,0.034463860094547,-0.069200284779072,0.031809795647860,-0.321024119853973,0.006155707407743,-0.045305162668228,-0.033160910010338,0.019512062892318,0.045914985239506,-0.077007353305817,0.003236038144678));
res += mul(Get(s2,0,-dy), float4x4(0.000067774155468,0.006465626414865,0.005621764808893,0.002467059530318,-0.004522847011685,-0.115218222141266,0.028908606618643,-0.022361377254128,0.003598146140575,0.166707143187523,-0.034051578491926,-0.040995113551617,0.002332398667932,-0.052454877644777,0.024735929444432,0.017912000417709));
res += mul(Get(s2,0,0), float4x4(0.001620597788133,-0.004701571073383,0.000029850720239,-0.002808867953718,0.080456048250198,-0.167670413851738,0.025064112618566,0.001024361583404,0.011033103801310,-0.107014402747154,-0.095645412802696,-0.035386830568314,-0.018830094486475,-0.038256980478764,0.037419162690639,0.061747327446938));
res += mul(Get(s2,0,dy), float4x4(-0.002589686540887,-0.002077841898426,-0.003776135854423,-0.001565296319313,-0.012244194746017,-0.070780061185360,0.002848662203178,0.124299138784409,-0.075982064008713,-0.149136185646057,-0.079720973968506,0.057729102671146,-0.007319679949433,-0.056180562824011,0.069442488253117,0.003072804305702));
res += mul(Get(s2,dx,-dy), float4x4(0.002855007071048,0.001319298404269,-0.003156137187034,0.004063471686095,0.022743871435523,-0.057962059974670,-0.020848110318184,0.114732399582863,-0.038144309073687,0.221378087997437,-0.133834242820740,0.139091983437538,0.019545480608940,-0.024854522198439,0.025644466280937,0.053622689098120));
res += mul(Get(s2,dx,0), float4x4(-0.000651004898828,0.000922934617847,0.003093747189268,-0.003182492218912,-0.005227229092270,-0.104456022381783,-0.025774581357837,0.147775769233704,-0.036330725997686,0.224791228771210,-0.209206640720367,-0.019995292648673,0.043670963495970,-0.001444563968107,0.058444205671549,0.005421226378530));
res += mul(Get(s2,dx,dy), float4x4(0.001092754187994,0.000464197772089,0.002514972118661,-0.007225561887026,0.023845870047808,-0.094409994781017,-0.007154098711908,0.061314135789871,-0.063401237130165,-0.227009579539299,-0.085355564951897,-0.003409498371184,0.009886786341667,-0.025939229875803,0.022865869104862,-0.014215698465705));
res += mul(Get(s3,-dx,-dy), float4x4(0.019712381064892,0.005496949423105,0.059415210038424,-0.003949041478336,0.026299675926566,0.118443213403225,0.012606617994606,0.047407880425453,0.042153693735600,-0.036829661577940,-0.000855592021253,-0.014231243170798,-0.004280996974558,-0.000290346244583,0.002038127975538,0.002350303111598));
res += mul(Get(s3,-dx,0), float4x4(0.000179396040039,0.006875638384372,0.086896076798439,0.012083018198609,0.015935147181153,0.146730020642281,-0.002991547575220,0.115009680390358,0.011760557070374,-0.014636959880590,0.019407393410802,0.002376782707870,-0.001211509341374,-0.005408556666225,-0.000623850966804,-0.001202657818794));
res += mul(Get(s3,-dx,dy), float4x4(0.013258907943964,0.064092569053173,0.037609927356243,0.014210600405931,-0.012651928700507,0.184741631150246,-0.031737893819809,0.105617485940456,0.016149045899510,-0.001452208845876,-0.017111219465733,0.010085385292768,-0.000263525842456,-0.000900125072803,-0.002345012966543,-0.008505594916642));
res += mul(Get(s3,0,-dy), float4x4(0.041632417589426,0.179492041468620,-0.035345312207937,0.072880700230598,-0.040398448705673,0.037359986454248,-0.040321283042431,0.074284628033638,0.016565794125199,-0.010956706479192,-0.011220530606806,-0.019781796261668,-0.003207230009139,-0.004352163057774,0.006161915138364,-0.003791982075199));
res += mul(Get(s3,0,0), float4x4(0.016758598387241,0.085307851433754,0.019131388515234,0.101247832179070,-0.005595718510449,-0.037192951887846,0.056863974779844,0.021769976243377,0.028917603194714,-0.017094776034355,0.037677977234125,-0.031912840902805,-0.001997372834012,0.006292209494859,-0.003144574817270,-0.002626768080518));
res += mul(Get(s3,0,dy), float4x4(-0.024972165003419,0.030450465157628,0.053493935614824,0.100887931883335,-0.015386904589832,0.072798356413841,-0.026607846841216,0.021220576018095,0.016912147402763,-0.040679264813662,-0.000885699642822,-0.017040260136127,0.002746383193880,-0.001519076060504,0.000502429727931,0.001323032192886));
res += mul(Get(s3,dx,-dy), float4x4(0.015291746705770,0.040016263723373,0.027431441470981,-0.044289764016867,-0.014297066256404,0.049820132553577,-0.050937619060278,-0.011319090612233,0.026046464219689,-0.001380478264764,-0.035372231155634,-0.027250032871962,0.008759750984609,-0.003264341736212,0.006412524264306,-0.000842687499244));
res += mul(Get(s3,dx,0), float4x4(0.052743397653103,0.057566773146391,0.080021567642689,-0.006229979451746,-0.020562550053000,-0.016930321231484,-0.008910714648664,-0.016635628417134,-0.006419772747904,0.004610853735358,-0.047478679567575,-0.001856690505520,0.001389595214278,0.004542318638414,-0.003041876712814,-0.001414788770489));
res += mul(Get(s3,dx,dy), float4x4(-0.023189663887024,-0.014491735026240,0.013284337706864,-0.003179219784215,-0.046168673783541,-0.022604594007134,0.041992057114840,-0.030293205752969,0.007383510470390,-0.042513236403465,-0.028034405782819,-0.012998337857425,-0.005600424483418,0.008991595357656,-0.003354048822075,-0.000160426468938));
return max(float4(0,0,0,0), res);
}
