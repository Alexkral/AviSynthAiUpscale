sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.005439348053187,-0.038943093270063,-0.011347515508533,0.088488847017288,0.002256730804220,0.014265161938965,0.032717075198889,-0.052318722009659,0.053670480847359,0.012110542505980,-0.030756842344999,-0.043880309909582,-0.048878647387028,0.058891829103231,0.051966652274132,-0.081765875220299));
res += mul(Get(s0,-dx,0), float4x4(0.006770635489374,-0.109418973326683,-0.066752262413502,-0.038490466773510,0.076933212578297,0.062830813229084,0.028643060475588,0.003610382089391,-0.067962393164635,-0.004908645059913,-0.033766597509384,-0.074204795062542,-0.041495498269796,0.044427156448364,-0.029621599242091,-0.054265338927507));
res += mul(Get(s0,-dx,dy), float4x4(0.002745588542894,0.000641409191303,0.024451846256852,0.104050248861313,0.011138627305627,0.004083173815161,0.007963693700731,-0.085570156574249,0.045350152999163,0.041536897420883,0.013371298089623,0.004814800340682,-0.067553728818893,0.018183518201113,-0.007801266387105,0.017482630908489));
res += mul(Get(s0,0,-dy), float4x4(-0.004548087716103,-0.010156024247408,0.002517417073250,-0.037152867764235,-0.012736214324832,0.122553080320358,0.008638465777040,-0.000717749004252,0.035506006330252,-0.036902990192175,0.050051413476467,-0.005931112449616,-0.059081956744194,0.091057136654854,-0.076157867908478,-0.000790158985183));
res += mul(Get(s0,0,0), float4x4(0.020585937425494,-0.018345123156905,0.034179601818323,0.071023866534233,0.016736863180995,-0.007759211584926,0.057870011776686,-0.042041026055813,0.066707313060760,0.038236930966377,0.062917187809944,-0.012449078261852,0.055172551423311,-0.017641238868237,-0.033467378467321,0.007345586083829));
res += mul(Get(s0,0,dy), float4x4(0.059375170618296,-0.091315932571888,-0.052527587860823,0.077415034174919,0.004098255652934,0.191433727741241,0.160770624876022,-0.081380434334278,0.108112908899784,0.005956377834082,0.045069444924593,-0.072214163839817,-0.049746315926313,-0.026431674137712,-0.068890213966370,-0.083901591598988));
res += mul(Get(s0,dx,-dy), float4x4(0.011849590577185,-0.028918666765094,0.002719694981351,0.019280103966594,0.000169040809851,-0.036843791604042,-0.035084348171949,0.001361027825624,0.066055536270142,0.000154633293278,-0.058320302516222,-0.013017015531659,-0.046043075621128,0.055003724992275,0.021630788221955,0.011979083530605));
res += mul(Get(s0,dx,0), float4x4(-0.041846103966236,0.038403064012527,-0.013733465224504,0.065184548497200,0.016306031495333,0.032990012317896,0.037567999213934,-0.033313192427158,-0.104070544242859,0.104086652398109,-0.131407618522644,0.061965376138687,-0.052648831158876,0.087334126234055,-0.030474394559860,-0.028829619288445));
res += mul(Get(s0,dx,dy), float4x4(-0.014630393125117,-0.006696721073240,-0.083171896636486,-0.070248648524284,0.029459245502949,0.096745997667313,0.066129490733147,-0.008020796813071,0.008473456837237,-0.023808175697923,-0.101707763969898,-0.073331981897354,-0.049692943692207,-0.008054824545979,-0.083692774176598,-0.058959655463696));
res += mul(Get(s1,-dx,-dy), float4x4(-0.007657768670470,-0.056114990264177,0.081664510071278,0.003809077432379,-0.029508110135794,-0.088487118482590,-0.175868153572083,0.078000649809837,-0.039629805833101,-0.042354755103588,0.010726264677942,0.000465078861453,0.072662428021431,-0.024100672453642,0.090938933193684,0.013143092393875));
res += mul(Get(s1,-dx,0), float4x4(-0.089189402759075,-0.026729760691524,0.162625774741173,-0.026302536949515,0.044620793312788,-0.048506204038858,-0.170454427599907,0.029682207852602,-0.058257997035980,-0.000418154580984,0.043059762567282,0.015760550275445,0.023091217502952,0.015949435532093,-0.018777711316943,0.008103177882731));
res += mul(Get(s1,-dx,dy), float4x4(-0.049446616321802,-0.075139433145523,0.095341280102730,0.037463508546352,-0.079635605216026,-0.002734023379162,-0.145829141139984,-0.119084186851978,-0.059889663010836,0.024578951299191,0.023656925186515,0.038091976195574,-0.001595796202309,0.003682502079755,0.004444294609129,0.037031996995211));
res += mul(Get(s1,0,-dy), float4x4(0.045793347060680,-0.011449372395873,-0.002735503250733,0.021817730739713,-0.036123357713223,0.086755387485027,-0.154023453593254,-0.002486756304279,-0.006758925970644,-0.041770890355110,0.040892641991377,-0.015689564868808,0.036260444670916,-0.028866613283753,-0.057068638503551,0.051236778497696));
res += mul(Get(s1,0,0), float4x4(0.057363655418158,-0.054835945367813,0.063475824892521,0.040183369070292,-0.119625568389893,-0.022176275029778,-0.076086066663265,-0.025422831997275,0.069768719375134,-0.025340333580971,0.101416930556297,0.027704332023859,-0.035051412880421,-0.025393465533853,-0.065174922347069,-0.026773206889629));
res += mul(Get(s1,0,dy), float4x4(-0.040208391845226,-0.034119922667742,0.022201674059033,-0.086585864424706,-0.079056829214096,-0.020507931709290,0.049864254891872,-0.063070647418499,0.008110111579299,0.011822938919067,0.026822254061699,0.029188513755798,-0.038553014397621,0.085999324917793,-0.037608202546835,0.022213649004698));
res += mul(Get(s1,dx,-dy), float4x4(-0.056187957525253,0.025784432888031,-0.087350741028786,0.078304499387741,-0.047088321298361,-0.090207010507584,0.123644858598709,-0.022194234654307,0.016897656023502,0.036200586706400,-0.024040097370744,0.046281326562166,0.021366836503148,0.016964036971331,0.083695463836193,-0.014864334836602));
res += mul(Get(s1,dx,0), float4x4(0.011871310882270,-0.011897832155228,-0.055327229201794,-0.055429119616747,0.094378851354122,0.032587591558695,0.162382990121841,-0.034766931086779,-0.020377419888973,0.046327661722898,-0.007071285974234,0.069178327918053,-0.020019927993417,0.012351753190160,0.084295861423016,-0.036780998110771));
res += mul(Get(s1,dx,dy), float4x4(-0.078659072518349,0.002278662752360,0.047321774065495,-0.031742785125971,0.024865550920367,0.048162121325731,0.028603525832295,0.022966174408793,-0.008339887484908,0.024951457977295,-0.000972035049926,-0.041812416166067,-0.026065519079566,0.106536641716957,0.006979796569794,0.033143404871225));
res += mul(Get(s2,-dx,-dy), float4x4(-0.115539215505123,-0.067978881299496,-0.024065215140581,-0.053331244736910,0.028066750615835,0.041181717067957,0.041065823286772,-0.003175061428919,0.046154059469700,0.037640627473593,-0.027367345988750,0.001344547257759,0.105688251554966,-0.051717631518841,0.022533377632499,-0.007797384634614));
res += mul(Get(s2,-dx,0), float4x4(-0.035761278122663,-0.010934337042272,-0.021684050559998,0.008165477775037,-0.010352487675846,-0.000642415601760,0.056956961750984,0.003398953471333,0.070957519114017,0.012247147038579,0.000454740773421,-0.028503712266684,0.153320685029030,-0.030567469075322,0.101042218506336,0.026860682293773));
res += mul(Get(s2,-dx,dy), float4x4(-0.061535801738501,0.010582082904875,-0.058457240462303,0.002634412841871,-0.024942496791482,-0.053613342344761,0.020480757579207,-0.017571423202753,0.031788535416126,-0.015956206247211,-0.021290244534612,0.005487054120749,0.024512572214007,0.056269567459822,0.085904069244862,0.034558501094580));
res += mul(Get(s2,0,-dy), float4x4(-0.067295730113983,-0.039036925882101,0.056481432169676,-0.035575948655605,0.024900052696466,0.068514861166477,0.013858394697309,0.027405057102442,0.045706607401371,0.079523056745529,0.094695776700974,0.042990334331989,-0.006023121532053,0.028791893273592,-0.034678842872381,-0.038534499704838));
res += mul(Get(s2,0,0), float4x4(0.009801764972508,0.029565457254648,0.095614172518253,0.002177481306717,0.118090316653252,-0.039055641740561,0.034290567040443,0.003978924360126,0.039368476718664,-0.004599648527801,0.162413924932480,0.010081890039146,-0.002558057894930,0.008741973899305,-0.111730940639973,0.049051888287067));
res += mul(Get(s2,0,dy), float4x4(-0.038263868540525,0.006519590504467,-0.050719391554594,-0.027600888162851,-0.003874545451254,-0.004867495968938,-0.001504398183897,-0.032134246081114,0.029786027967930,0.027398506179452,0.136084899306297,0.019972572103143,-0.019579932093620,0.004906164016575,-0.062276218086481,-0.018970154225826));
res += mul(Get(s2,dx,-dy), float4x4(-0.116876132786274,-0.051212068647146,-0.007280034013093,-0.015394069254398,-0.043427541851997,0.065313242375851,-0.042757563292980,0.071412988007069,0.016901310533285,0.002386693377048,0.006108566187322,-0.002063280902803,0.121775798499584,-0.060863256454468,0.115814283490181,-0.073034271597862));
res += mul(Get(s2,dx,0), float4x4(-0.112751707434654,0.038625434041023,0.000003262334985,0.013853151351213,-0.025668486952782,0.019378887489438,-0.046229284256697,-0.003084672847763,-0.040779016911983,0.021937154233456,0.018168237060308,0.015388738363981,0.157556056976318,-0.028034389019012,0.101189523935318,-0.017929712310433));
res += mul(Get(s2,dx,dy), float4x4(-0.088644325733185,-0.026878407225013,0.000761041766964,-0.053799487650394,-0.008821754716337,-0.004228502977639,-0.004270721692592,0.002952002454549,0.030712647363544,-0.039479251950979,-0.035069946199656,0.006525376345962,0.068225704133511,-0.020850639790297,0.049249120056629,-0.025582000613213));
res += mul(Get(s3,-dx,-dy), float4x4(-0.037864658981562,-0.034520044922829,-0.056147947907448,-0.038123659789562,0.043985947966576,0.047351252287626,-0.073444753885269,0.113405160605907,0.049940932542086,0.032494001090527,0.025399237871170,-0.009360791184008,0.007251766044647,-0.075436018407345,0.009525608271360,0.002138829324394));
res += mul(Get(s3,-dx,0), float4x4(0.023745162412524,0.022594880312681,-0.076114796102047,-0.011429071426392,0.080126963555813,-0.013356961309910,-0.050059441477060,0.041346848011017,0.001290928921662,0.049200054258108,0.047486707568169,-0.015028041787446,-0.032593294978142,-0.045603942126036,-0.023027056828141,-0.041137579828501));
res += mul(Get(s3,-dx,dy), float4x4(0.020070124417543,-0.034624803811312,-0.078793138265610,-0.030422270298004,0.036234956234694,0.030287204310298,-0.030815480276942,-0.049076464027166,0.083403579890728,0.059193145483732,0.020518546923995,-0.003213596530259,-0.033738713711500,-0.044955767691135,-0.097306095063686,-0.018034834414721));
res += mul(Get(s3,0,-dy), float4x4(0.009198178537190,-0.005795812234282,-0.037856459617615,0.045951288193464,-0.059350240975618,-0.009292363189161,-0.075282968580723,0.003985762596130,-0.060814332216978,-0.038522105664015,-0.023992665112019,0.058978188782930,-0.055741839110851,-0.040306299924850,-0.112601757049561,0.012485652230680));
res += mul(Get(s3,0,0), float4x4(-0.004012143705040,0.022763073444366,-0.077100083231926,-0.015419931150973,-0.084496527910233,0.034353312104940,-0.091397844254971,-0.040090139955282,-0.059336133301258,0.011051689274609,0.081526800990105,0.135873183608055,-0.022417554631829,0.021869340911508,-0.137562528252602,0.025097481906414));
res += mul(Get(s3,0,dy), float4x4(0.013770096935332,0.043147236108780,0.034128341823816,-0.084580183029175,0.041687577962875,-0.022933978587389,-0.057570002973080,-0.031428728252649,-0.033754147589207,0.027993865311146,-0.006032343488187,0.122209459543228,-0.036179974675179,-0.057191312313080,-0.086069062352180,-0.020153215155005));
res += mul(Get(s3,dx,-dy), float4x4(0.095578670501709,-0.000213393243030,0.057542651891708,0.016388898715377,0.007169911172241,-0.059230323880911,0.025399353355169,0.009256646037102,-0.036167528480291,-0.017860390245914,0.007623505312949,0.003111310303211,-0.086561933159828,-0.094511561095715,-0.009677692316473,0.003898229915649));
res += mul(Get(s3,dx,0), float4x4(0.052049778401852,-0.033909421414137,0.056702520698309,-0.064794726669788,-0.020714804530144,-0.026322739198804,0.011370343156159,-0.063675843179226,-0.020518971607089,0.020430505275726,0.027840368449688,0.017252177000046,0.003439415013418,-0.050998996943235,0.015193294733763,0.060172040015459));
res += mul(Get(s3,dx,dy), float4x4(0.128639459609985,0.080331571400166,0.036240804940462,0.073553085327148,-0.031287081539631,0.079947412014008,-0.059261083602905,-0.062066942453384,0.018646463751793,-0.012607233598828,0.008006928488612,-0.024588778614998,0.012288375757635,-0.100277714431286,0.058363400399685,0.010773557238281));
return max(float4(0,0,0,0), res);
}
