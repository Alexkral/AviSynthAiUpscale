sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.003972169011831,0.013151681981981,-0.032259963452816,-0.089674018323421,-0.063468873500824,-0.086788527667522,-0.225954040884972,0.061616405844688,-0.020747652277350,-0.024435257539153,-0.035384789109230,-0.014322368428111,-0.051456827670336,0.014334628358483,0.045486100018024,0.006035848055035));
res += mul(Get(s0,-dx,0), float4x4(-0.002741939388216,0.025053072720766,-0.033228460699320,-0.010441963560879,0.049129322171211,0.042889244854450,-0.159543469548225,-0.040363345295191,0.029313107952476,0.023300481960177,-0.066595308482647,0.083107270300388,0.085894018411636,0.041174609214067,-0.040454559028149,-0.089728884398937));
res += mul(Get(s0,-dx,dy), float4x4(-0.010240843519568,0.041571233421564,0.004820997361094,0.064862616360188,0.083422794938087,0.026678398251534,-0.004040924366564,0.064733825623989,-0.095605365931988,-0.064304210245609,0.015179789625108,0.024411311373115,0.018435645848513,0.019926657900214,-0.017266301438212,0.019979285076261));
res += mul(Get(s0,0,-dy), float4x4(-0.070325359702110,-0.009190551936626,-0.021782036870718,-0.001286601182073,0.001961692934856,-0.009707475081086,0.130584210157394,-0.115882523357868,-0.094516016542912,0.001857219496742,0.053923457860947,0.060351692140102,-0.056156363338232,0.026746651157737,-0.006974454037845,-0.027911590412259));
res += mul(Get(s0,0,0), float4x4(-0.033380754292011,0.061599154025316,-0.062616169452667,-0.062816746532917,0.143078640103340,-0.044536832720041,0.114193059504032,0.004055691417307,-0.012576116248965,-0.069142162799835,0.031850725412369,0.020731726661325,0.058409385383129,-0.040370371192694,0.092082947492599,-0.034235242754221));
res += mul(Get(s0,0,dy), float4x4(-0.010578458197415,0.058191955089569,-0.007120835594833,0.008894593454897,0.086328148841858,-0.038918759673834,0.042133428156376,0.005632149521261,-0.032511822879314,0.003143633017316,-0.077714465558529,-0.076734304428101,0.006539365276694,0.010209194384515,0.014203392900527,0.003707004478201));
res += mul(Get(s0,dx,-dy), float4x4(0.002089932793751,0.044548626989126,-0.010339724831283,0.080702871084213,0.126538351178169,-0.067672558128834,-0.004684349987656,-0.024039603769779,-0.041191775351763,0.016129361465573,-0.011936433613300,0.003831156063825,-0.029858335852623,-0.000820799556095,0.035045370459557,0.008498377166688));
res += mul(Get(s0,dx,0), float4x4(0.078075364232063,-0.029206702485681,-0.003975015133619,-0.056933537125587,-0.090939536690712,-0.043856434524059,0.071211874485016,0.042507354170084,-0.022730311378837,0.032240379601717,0.035421203821898,-0.001738006947562,-0.027524696663022,-0.056967046111822,0.028718801215291,0.009929444640875));
res += mul(Get(s0,dx,dy), float4x4(-0.038783662021160,0.020542530342937,0.027766194194555,0.010437280870974,-0.071082077920437,-0.037680599838495,-0.000747966871131,-0.011894554831088,0.032119255512953,-0.003405154682696,0.072813399136066,0.082235366106033,-0.031470268964767,0.068591803312302,-0.052566677331924,0.006673342548311));
res += mul(Get(s1,-dx,-dy), float4x4(0.019625842571259,-0.044205427169800,-0.056115463376045,-0.066579587757587,-0.020241629332304,0.043395817279816,0.025622779503465,-0.008111439645290,-0.030550397932529,-0.008781204931438,-0.045706372708082,-0.054860699921846,-0.032540231943130,0.017917558550835,-0.014896312728524,0.009531333111227));
res += mul(Get(s1,-dx,0), float4x4(0.013192000798881,-0.002905539236963,-0.035056687891483,-0.007379095535725,0.023161899298429,0.066062554717064,-0.072840310633183,-0.010334670543671,-0.087996490299702,0.027582643553615,-0.046486683189869,-0.091341719031334,-0.047805931419134,-0.079892642796040,-0.030907673761249,-0.062489144504070));
res += mul(Get(s1,-dx,dy), float4x4(-0.009336258284748,0.068931370973587,0.001132990350015,-0.041781675070524,0.012722716666758,0.052571889013052,0.019208535552025,-0.000242795926169,-0.116806112229824,0.015812190249562,-0.104943789541721,-0.094514757394791,0.047793332487345,0.033453620970249,-0.135557413101196,-0.025980222970247));
res += mul(Get(s1,0,-dy), float4x4(-0.018506107851863,0.019368223845959,-0.049670875072479,0.038764294236898,-0.016968093812466,0.012970819137990,0.057324901223183,-0.018132666125894,-0.041980318725109,0.066625811159611,0.053868997842073,-0.076194167137146,0.017976066097617,0.028614833950996,0.050264280289412,-0.050479639321566));
res += mul(Get(s1,0,0), float4x4(0.033481869846582,-0.005458863917738,0.021511625498533,0.026135914027691,-0.069981329143047,-0.053571470081806,-0.047625683248043,0.009354161098599,-0.028547003865242,-0.070944093167782,0.152467608451843,0.008376654237509,0.045646373182535,-0.061163179576397,0.142445132136345,0.084165088832378));
res += mul(Get(s1,0,dy), float4x4(0.066026583313942,0.038877218961716,0.026646150276065,-0.003378674620762,-0.039541225880384,0.043327894061804,0.009056380949914,0.048555895686150,-0.095123745501041,0.024489894509315,-0.033116530627012,0.009814564138651,-0.045777719467878,-0.017582064494491,-0.053171724081039,0.109915822744370));
res += mul(Get(s1,dx,-dy), float4x4(-0.014454113319516,0.073185548186302,0.019586082547903,0.016642969101667,0.046889532357454,0.026733707636595,-0.003288486273959,0.018298959359527,-0.050561614334583,0.020693194121122,0.170353889465332,-0.122787684202194,0.009714936837554,0.028176903724670,0.042012412101030,-0.029314737766981));
res += mul(Get(s1,dx,0), float4x4(-0.044070985168219,-0.008707383647561,0.057422783225775,0.006413901224732,-0.036535475403070,-0.032249912619591,-0.026975313201547,-0.022903300821781,-0.001675717299804,-0.012663155794144,0.005368572194129,0.024614892899990,0.034216292202473,-0.001188054797240,0.081052035093307,0.056086450815201));
res += mul(Get(s1,dx,dy), float4x4(0.013843259774148,0.068386830389500,0.001387161551975,-0.050949189811945,-0.005724394228309,0.020942633971572,0.019303889945149,0.043138843029737,-0.051685273647308,-0.049882750958204,0.016754062846303,0.071462638676167,-0.049911562353373,-0.046680375933647,-0.061311744153500,-0.067881330847740));
res += mul(Get(s2,-dx,-dy), float4x4(-0.051948145031929,0.087931402027607,-0.170505002140999,0.035099610686302,-0.076280854642391,0.005581850185990,0.020302474498749,-0.074171349406242,-0.039452262222767,0.013700066134334,-0.089760281145573,-0.012832569889724,-0.004730659537017,0.077377721667290,0.057370442897081,0.023557338863611));
res += mul(Get(s2,-dx,0), float4x4(-0.075649611651897,0.141191780567169,0.113076701760292,-0.002799184992909,0.070728689432144,0.071348689496517,-0.089214816689491,0.027160031720996,0.055917490273714,0.082708910107613,0.169908881187439,-0.029041321948171,0.042838212102652,-0.017254726961255,0.012103930115700,-0.010169046930969));
res += mul(Get(s2,-dx,dy), float4x4(-0.086840040981770,0.023608889430761,0.031855139881372,-0.046887725591660,0.020883649587631,0.063256539404392,0.009796069934964,0.053370900452137,-0.023158969357610,-0.002413350623101,-0.066178418695927,-0.000477567809867,0.005650009959936,-0.059269424527884,0.037148334085941,-0.099244080483913));
res += mul(Get(s2,0,-dy), float4x4(-0.046861764043570,0.024167865514755,0.020999649539590,-0.062764160335064,0.044457685202360,0.037193622440100,0.074515022337437,0.011312535032630,0.095567069947720,0.103489615023136,-0.016042442992330,0.053501419723034,0.012867321260273,0.037159863859415,0.052653435617685,-0.059964954853058));
res += mul(Get(s2,0,0), float4x4(0.036511003971100,0.074477277696133,-0.020603459328413,0.020190238952637,0.040630713105202,0.012806131504476,-0.019425617530942,0.088303796947002,0.044374771416187,-0.044786684215069,-0.026543341577053,0.080711767077446,0.028909614309669,-0.031537402421236,0.047683030366898,-0.032386645674706));
res += mul(Get(s2,0,dy), float4x4(0.001515324111097,0.134216874837875,0.072755903005600,0.014503092505038,-0.080908253788948,0.076129510998726,0.021507279947400,-0.026403514668345,0.008460522629321,0.019183265045285,-0.039862066507339,-0.099041476845741,-0.048629555851221,0.017962943762541,-0.033638261258602,-0.031544227153063));
res += mul(Get(s2,dx,-dy), float4x4(-0.032542359083891,0.018520019948483,-0.104900822043419,0.009464805014431,-0.018442640081048,-0.089396782219410,-0.015184527263045,0.036095522344112,0.050302218645811,0.021085327491164,0.008556261658669,0.022664770483971,0.010921893641353,0.022651797160506,0.029608577489853,-0.012171181850135));
res += mul(Get(s2,dx,0), float4x4(0.032807897776365,-0.021560624241829,0.013605953194201,-0.042667325586081,-0.039374113082886,-0.037691708654165,-0.111687377095222,-0.070279575884342,-0.048488736152649,0.011997017078102,0.065152928233147,0.054142594337463,-0.037033163011074,0.059895437210798,-0.025885703042150,-0.118445858359337));
res += mul(Get(s2,dx,dy), float4x4(0.036679200828075,-0.017020853236318,0.027651712298393,0.011809356510639,0.107490874826908,0.016311092302203,0.036533631384373,0.090759344398975,0.011323346756399,0.015551830641925,0.023729255422950,-0.006539218127728,0.013759423047304,0.013667168095708,-0.003921585157514,-0.016408178955317));
res += mul(Get(s3,-dx,-dy), float4x4(0.046759601682425,0.054365009069443,0.074094913899899,-0.082814209163189,0.020875100046396,-0.035998020321131,0.059736341238022,0.031867362558842,-0.057076565921307,-0.080620288848877,0.015936398878694,-0.175411298871040,0.033892087638378,0.045714341104031,-0.054915871471167,-0.003609300358221));
res += mul(Get(s3,-dx,0), float4x4(0.026456138119102,0.034643631428480,-0.018077291548252,0.089331038296223,-0.012205051258206,-0.006191547028720,0.047219935804605,-0.096656225621700,0.060272227972746,-0.006165223196149,0.076933741569519,0.121298372745514,-0.057086225599051,0.094678848981857,-0.075802929699421,0.047578401863575));
res += mul(Get(s3,-dx,dy), float4x4(-0.005597700830549,-0.041973330080509,-0.050051897764206,0.030249405652285,0.010711506009102,-0.014176951721311,-0.022562231868505,0.063698276877403,-0.018937475979328,-0.049694251269102,-0.080037251114845,-0.003310540225357,-0.005163506604731,-0.021587714552879,0.020671013742685,0.049693841487169));
res += mul(Get(s3,0,-dy), float4x4(-0.037140429019928,0.061463635414839,-0.019223205745220,-0.004439209587872,-0.020317461341619,0.025615856051445,-0.088521249592304,0.040904603898525,0.030135808512568,0.035530824214220,0.163624018430710,0.037085454910994,-0.029854238033295,0.061184011399746,0.073996990919113,0.037356838583946));
res += mul(Get(s3,0,0), float4x4(-0.058932285755873,-0.033041529357433,-0.021203257143497,0.074189737439156,0.066086977720261,0.117767728865147,0.029958687722683,-0.004443691112101,-0.039596922695637,-0.051953993737698,0.150706246495247,0.053337141871452,0.059006996452808,0.032430611550808,0.037182949483395,-0.029152499511838));
res += mul(Get(s3,0,dy), float4x4(0.007323089055717,0.041259445250034,-0.063143678009510,-0.018657447770238,-0.022146336734295,-0.053581088781357,0.028496012091637,-0.023223377764225,-0.139868512749672,-0.017133984714746,0.133862450718880,-0.047933280467987,0.046633064746857,-0.072179503738880,-0.032182276248932,-0.007697101682425));
res += mul(Get(s3,dx,-dy), float4x4(0.076946444809437,0.017782321199775,-0.071963950991631,0.027015257626772,-0.028859969228506,0.087933704257011,-0.084372185170650,0.020852638408542,0.002608321374282,-0.076454959809780,0.002536411164328,0.090311065316200,0.027894858270884,0.002186064608395,-0.022142309695482,0.001343321986496));
res += mul(Get(s3,dx,0), float4x4(0.011289360933006,-0.012616494670510,0.061920180916786,-0.018129665404558,0.109847120940685,0.076012454926968,0.002056011231616,0.071680396795273,0.012557889334857,-0.042153656482697,-0.027147565037012,-0.114642716944218,0.022988947108388,-0.015590429306030,0.021676853299141,0.032222568988800));
res += mul(Get(s3,dx,dy), float4x4(0.001600817195140,-0.013654164969921,-0.014171045273542,-0.045474193990231,-0.031610254198313,0.012856693938375,0.074842713773251,-0.008434915915132,0.072382271289825,0.001873785280623,-0.132167413830757,0.041475672274828,-0.040453694760799,-0.080485574901104,0.006141257006675,-0.004271377343684));
return max(float4(0,0,0,0), res);
}
