sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.040564473718405,-0.026607863605022,0.130185961723328,-0.003339212154970,0.084299564361572,-0.021232604980469,0.177182763814926,0.064192838966846,-0.116645187139511,0.014722751453519,0.008842180483043,-0.057986315339804,0.209034293889999,0.034787893295288,0.122362934052944,0.005943092983216));
res += mul(Get(s0,-dx,0), float4x4(-0.004680658690631,0.047169379889965,-0.005427695810795,0.041240137070417,0.069440707564354,-0.001779146608897,-0.015254850499332,-0.068697191774845,-0.057395625859499,-0.010009979829192,-0.064817547798157,-0.018642431125045,-0.129766404628754,0.032295096665621,-0.075672313570976,-0.082510538399220));
res += mul(Get(s0,-dx,dy), float4x4(0.010454664006829,0.109293229877949,-0.025587506592274,-0.009259685873985,0.164375260472298,0.171183317899704,0.026875918731093,0.021422691643238,0.023252168670297,-0.067233048379421,0.047010701149702,-0.000592529482674,-0.148645043373108,-0.050019312649965,-0.114159524440765,-0.072282686829567));
res += mul(Get(s0,0,-dy), float4x4(-0.022929714992642,-0.073847427964211,-0.058683406561613,0.008521055802703,0.005046329926699,0.034368690103292,0.134286761283875,-0.023307669907808,-0.005999017041177,-0.030314655974507,-0.141491129994392,-0.042780570685863,0.126479208469391,0.031280133873224,0.036591157317162,-0.032100316137075));
res += mul(Get(s0,0,0), float4x4(-0.036010894924402,-0.019769940525293,-0.035456996411085,-0.088430806994438,0.066546939313412,0.178152233362198,0.013202734291553,-0.089270614087582,0.113457173109055,0.139086931943893,0.124681025743484,0.122853480279446,-0.040700640529394,-0.032928954809904,-0.027278959751129,-0.024725127965212));
res += mul(Get(s0,0,dy), float4x4(0.062108844518661,0.157161891460419,0.016761327162385,0.105248250067234,-0.057539641857147,0.018673023208976,-0.052136041224003,0.021983994171023,-0.007690775673836,0.006713644135743,0.169823810458183,-0.105328463017941,0.036012247204781,-0.013206407427788,-0.163282170891762,-0.023874266073108));
res += mul(Get(s0,dx,-dy), float4x4(0.003656862536445,0.000538250198588,0.050328526645899,-0.076775580644608,0.071714743971825,-0.107945553958416,0.086889140307903,0.023741699755192,0.047896564006805,-0.042567521333694,-0.014375121332705,-0.101692393422127,0.035231668502092,-0.033910922706127,0.077062711119652,0.072012983262539));
res += mul(Get(s0,dx,0), float4x4(0.034224480390549,0.005507077090442,-0.079423621296883,-0.018527014181018,-0.052760753780603,0.145039290189743,-0.136690929532051,0.010734403505921,0.017746536061168,0.019118756055832,-0.009568291716278,0.156179711222649,-0.065904319286346,-0.004269133321941,0.041880093514919,-0.054582402110100));
res += mul(Get(s0,dx,dy), float4x4(0.017537146806717,0.024013979360461,-0.062812075018883,0.034876678138971,0.014885009266436,0.037939544767141,0.066860161721706,-0.036387689411640,0.025620793923736,0.121555224061012,-0.006658329162747,-0.076622448861599,-0.013363610021770,-0.115202464163303,-0.021117636933923,0.085874937474728));
res += mul(Get(s1,-dx,-dy), float4x4(0.009656541980803,-0.067472591996193,0.099015615880489,-0.068785712122917,0.044214773923159,0.037488251924515,-0.008666345849633,0.069261215627193,-0.034818861633539,-0.002777515910566,0.022116314619780,-0.007755038328469,0.085128419101238,-0.018213331699371,0.000751937215682,0.038993969559669));
res += mul(Get(s1,-dx,0), float4x4(0.043828591704369,-0.027894925326109,-0.052325781434774,-0.100989595055580,-0.058148611336946,-0.108310014009476,-0.062685377895832,-0.090712860226631,-0.070231996476650,0.019281415268779,0.046373888850212,0.013473979197443,0.070899344980717,-0.033650372177362,-0.000255860562902,0.010949866846204));
res += mul(Get(s1,-dx,dy), float4x4(0.043433632701635,0.024052254855633,-0.074699610471725,0.005172572098672,0.069569669663906,-0.074510939419270,-0.004954563453794,-0.011082905344665,-0.012334145605564,-0.093175113201141,0.048729080706835,-0.038060985505581,-0.004201360512525,0.042437862604856,-0.050482034683228,0.048601936548948));
res += mul(Get(s1,0,-dy), float4x4(0.041979361325502,-0.059942975640297,0.052552968263626,0.084305591881275,-0.142895400524139,0.026313798502088,-0.002773772226647,-0.089142784476280,-0.008402697741985,0.057879414409399,0.041485849767923,-0.025832219049335,0.059997715055943,0.107158988714218,-0.031342178583145,0.008074135519564));
res += mul(Get(s1,0,0), float4x4(-0.076897390186787,-0.001740759820677,-0.032939124852419,-0.000973083544523,0.048662506043911,0.214724406599998,0.067499093711376,-0.037786297500134,0.055947721004486,-0.045870609581470,0.049988012760878,-0.075404852628708,0.080416038632393,0.071830570697784,-0.083809934556484,0.012983314692974));
res += mul(Get(s1,0,dy), float4x4(-0.003049581777304,-0.070018075406551,0.058530058711767,0.062409665435553,0.055075407028198,0.104364417493343,-0.037577051669359,-0.023391144350171,-0.130671530961990,-0.042908910661936,0.104565449059010,0.013844527304173,0.007436807267368,-0.057530548423529,-0.036385294049978,0.101348340511322));
res += mul(Get(s1,dx,-dy), float4x4(-0.004899370484054,0.056509412825108,0.041699305176735,-0.009335358627141,0.083069995045662,0.073199629783630,-0.085750415921211,0.017741529271007,-0.099321484565735,0.025441257283092,0.000119176213047,0.113244019448757,0.024271570146084,0.080288365483284,-0.108747467398643,0.028974177315831));
res += mul(Get(s1,dx,0), float4x4(-0.152111962437630,0.024134950712323,0.016860185191035,-0.016786780208349,-0.056706458330154,0.038367565721273,-0.014572070911527,0.063927672803402,-0.045284204185009,-0.013477538712323,-0.016436425969005,0.044399943202734,0.065096162259579,0.010008084587753,-0.046753477305174,0.056182090193033));
res += mul(Get(s1,dx,dy), float4x4(-0.090322427451611,0.003873970126733,0.003672146238387,-0.087037689983845,-0.116127565503120,0.121323965489864,0.046607151627541,-0.093174912035465,0.001592303626239,0.026564178988338,0.125122249126434,-0.013233110308647,0.116646096110344,-0.151741445064545,-0.050071865320206,0.033192411065102));
res += mul(Get(s2,-dx,-dy), float4x4(0.045452471822500,-0.082416310906410,0.055058941245079,0.070155300199986,0.035365205258131,-0.035115562379360,0.054762251675129,0.135297447443008,0.006860456895083,0.123758815228939,-0.025888323783875,-0.016018884256482,-0.052308682352304,0.083167992532253,0.132558405399323,0.008545248769224));
res += mul(Get(s2,-dx,0), float4x4(0.107255041599274,0.127059280872345,0.004227934870869,-0.025975504890084,-0.138885810971260,0.001853045425378,-0.023129211738706,-0.054619837552309,0.000225534793572,-0.026283686980605,0.059496276080608,-0.003219311591238,-0.002241150010377,0.038526553660631,-0.143838822841644,-0.132909476757050));
res += mul(Get(s2,-dx,dy), float4x4(0.076692529022694,0.077736288309097,-0.141629517078400,0.052026364952326,-0.074699923396111,-0.054692044854164,-0.001860428019427,-0.022020850330591,0.102653913199902,0.082696199417114,0.180150479078293,-0.069589726626873,0.020697526633739,-0.044268272817135,0.015426551923156,-0.002968676155433));
res += mul(Get(s2,0,-dy), float4x4(0.015030381269753,-0.006214579101652,0.048342548310757,-0.005255995318294,-0.114428468048573,-0.026867980137467,-0.005095283500850,0.033259175717831,0.045919295400381,0.000450850842753,0.142284125089645,-0.011058888398111,-0.089954935014248,-0.034530457109213,-0.027694894000888,-0.050756905227900));
res += mul(Get(s2,0,0), float4x4(0.065514512360096,0.071030259132385,-0.058841522783041,-0.030874721705914,0.046983033418655,-0.068583950400352,0.007609613705426,0.032273665070534,0.155499786138535,0.171930909156799,-0.070390395820141,-0.028442850336432,-0.011934400536120,0.049681145697832,0.067229226231575,0.166218027472496));
res += mul(Get(s2,0,dy), float4x4(0.083976157009602,-0.142481178045273,-0.138589754700661,-0.011135774664581,-0.036234829574823,0.048143498599529,0.085219375789165,0.102507062256336,0.077938929200172,-0.062132179737091,0.049075178802013,0.028935631737113,-0.015422732569277,-0.036431990563869,0.172454923391342,0.010786080732942));
res += mul(Get(s2,dx,-dy), float4x4(0.116261996328831,-0.151897609233856,0.011447308585048,0.020423687994480,0.220018193125725,-0.016320681199431,-0.040247004479170,0.000611756346188,0.035395797342062,0.094923362135887,0.016263008117676,0.027852078899741,0.017866773530841,-0.141475528478622,0.065483666956425,0.036971405148506));
res += mul(Get(s2,dx,0), float4x4(-0.069191440939903,0.108282580971718,0.064742803573608,-0.063845992088318,0.062783561646938,0.040159657597542,-0.013207156211138,0.123583987355232,-0.013387226499617,0.039223227649927,-0.033322058618069,0.154733404517174,-0.008382749743760,0.018807204440236,0.122528843581676,0.025557182729244));
res += mul(Get(s2,dx,dy), float4x4(-0.002291967161000,0.000718039285857,-0.035684015601873,0.096020475029945,0.054817561060190,-0.016504196450114,0.001419149222784,-0.047330718487501,-0.101164691150188,0.012023185379803,0.005385878961533,0.058803521096706,-0.006966895423830,0.038858875632286,0.123833850026131,-0.007895194925368));
res += mul(Get(s3,-dx,-dy), float4x4(-0.071980372071266,-0.041984293609858,0.050915401428938,-0.127686768770218,0.001827310305089,-0.168712005019188,-0.030928188934922,-0.132139489054680,-0.042739722877741,0.040994651615620,-0.097734227776527,-0.045436840504408,0.011531244032085,0.070108115673065,0.026076700538397,0.036510001868010));
res += mul(Get(s3,-dx,0), float4x4(-0.068145029246807,-0.047435939311981,-0.061523579061031,0.141656816005707,0.053734600543976,0.145446524024010,0.072855286300182,-0.019466284662485,-0.243489801883698,-0.044880211353302,-0.197068750858307,-0.101712003350258,0.117294095456600,0.035744335502386,0.073614329099655,-0.091118082404137));
res += mul(Get(s3,-dx,dy), float4x4(-0.087315656244755,-0.026888655498624,0.073512300848961,0.025630932301283,-0.068984493613243,-0.025548841804266,-0.043912168592215,-0.041395638138056,-0.127155095338821,0.033439833670855,-0.018372714519501,-0.050752285867929,0.030637064948678,-0.080988340079784,0.013832822442055,-0.102984197437763));
res += mul(Get(s3,0,-dy), float4x4(0.021914476528764,-0.017811551690102,0.030271679162979,-0.055303722620010,-0.010583953931928,-0.026350352913141,-0.092498019337654,-0.019929129630327,-0.011962979100645,-0.147927090525627,0.089731477200985,0.064215503633022,-0.024537144228816,-0.102480195462704,-0.010983121581376,0.080989912152290));
res += mul(Get(s3,0,0), float4x4(0.025914201512933,-0.022683538496494,-0.097316734492779,-0.023580240085721,-0.099534258246422,0.069837696850300,0.081966243684292,0.060382433235645,0.017257550731301,0.018749333918095,0.019839666783810,0.016757078468800,0.091934628784657,-0.081660993397236,-0.042088486254215,-0.004672999493778));
res += mul(Get(s3,0,dy), float4x4(-0.134422451257706,-0.064406260848045,-0.003927961457521,0.108689047396183,0.025685248896480,-0.039440684020519,-0.011232423596084,-0.010395193472505,0.095564417541027,-0.156169474124908,-0.033965796232224,0.063216850161552,0.099162623286247,-0.011508582159877,0.040475431829691,-0.014438140206039));
res += mul(Get(s3,dx,-dy), float4x4(-0.079560756683350,0.041738182306290,0.103476315736771,0.013844967819750,0.002664757892489,0.030506953597069,0.093107946217060,0.036389037966728,-0.084715522825718,-0.080792084336281,-0.010909120552242,-0.042901113629341,0.033638376742601,-0.090316198766232,-0.027447791770101,0.029118996113539));
res += mul(Get(s3,dx,0), float4x4(-0.001529144472443,-0.042379166930914,-0.075867369771004,0.018280068412423,0.080713972449303,-0.058980330824852,0.055153172463179,0.032849408686161,0.056869767606258,0.015715271234512,0.083505757153034,-0.044914472848177,0.055894333869219,-0.026806395500898,0.003397894557565,-0.002146852202713));
res += mul(Get(s3,dx,dy), float4x4(0.054072625935078,0.021847695112228,0.064387865364552,-0.017314283177257,-0.096226029098034,-0.001090538338758,0.019109150394797,0.015248613432050,0.157464563846588,-0.019136110320687,-0.049730591475964,0.061503227800131,0.072878524661064,0.016187665984035,-0.013382846489549,0.028741538524628));
return max(float4(0,0,0,0), res);
}
