sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.002335848985240,-0.003583964193240,0.016865957528353,-0.018393743783236,-0.024613566696644,0.001719577703625,0.005633004009724,-0.006089550442994,0.005268540233374,0.003205940593034,0.019188139587641,-0.024068241938949,0.002076917095110,0.003408142365515,0.016595467925072,0.042525745928288));
res += mul(Get(s0,-dx,0), float4x4(-0.002725763013586,-0.003029824467376,0.006469938904047,-0.004965388216078,-0.026973363012075,-0.005233483389020,0.015231083147228,0.055180005729198,0.001659624511376,-0.005376143381000,0.031046377494931,-0.028952935710549,-0.010350695811212,-0.000238277614699,0.026825867593288,0.069452330470085));
res += mul(Get(s0,-dx,dy), float4x4(0.002591214142740,0.005791880190372,0.023523049429059,-0.004524843767285,-0.024690186604857,-0.000367524917237,-0.008080781437457,0.022027842700481,-0.005665401462466,-0.001870224135928,-0.000367997068679,-0.003382074879482,-0.001675308914855,-0.002736612455919,0.012203665450215,-0.014122650027275));
res += mul(Get(s0,0,-dy), float4x4(-0.001621383358724,-0.001953635597602,-0.008619706146419,0.119881413877010,-0.011256113648415,0.003936637192965,0.014454142190516,0.114413313567638,0.023541342467070,0.002072595059872,-0.013008018955588,0.010786465369165,0.019663451239467,0.002174487104639,-0.005002737510949,0.140766873955727));
res += mul(Get(s0,0,0), float4x4(-0.003736383514479,0.003470946103334,0.004733665380627,-0.033843282610178,-0.015059816651046,0.010030572302639,0.004807826131582,0.031881831586361,0.045691907405853,0.003808591514826,0.035467926412821,0.012437421828508,0.038958001881838,0.005391783546656,-0.003182594431564,0.024027312174439));
res += mul(Get(s0,0,dy), float4x4(-0.009787358343601,0.008227820508182,0.011901016347110,-0.016485018655658,-0.027758417651057,-0.001120958477259,-0.007879235781729,0.028587702661753,0.024111051112413,0.003688788739964,0.011173537932336,0.010976465418935,0.027366045862436,0.004833285696805,-0.006233496125787,0.002515231724828));
res += mul(Get(s0,dx,-dy), float4x4(-0.002934264019132,0.006408895365894,-0.004992820788175,0.012665292248130,-0.012948316521943,0.004132925067097,0.033791206777096,0.089895516633987,0.005583357531577,0.002318531507626,0.018863683566451,0.011440407484770,-0.019590958952904,0.002268029842526,0.002073433483019,0.009458411484957));
res += mul(Get(s0,dx,0), float4x4(0.032395899295807,0.002199804876000,0.004625638481230,0.009439090266824,-0.008975867182016,0.007796779274940,0.003081823000684,-0.011564459651709,-0.002136605558917,0.002204892691225,0.046479348093271,-0.031147602945566,-0.017808431759477,0.005771145690233,0.001925240154378,-0.020658429712057));
res += mul(Get(s0,dx,dy), float4x4(0.024839375168085,0.000168035447132,-0.014659647829831,-0.033447358757257,-0.026596695184708,-0.006895749364048,0.001452756230719,0.056589115411043,0.006898509338498,0.001004284247756,-0.006131587550044,0.006300213281065,0.016333354637027,0.001925421995111,-0.034851688891649,0.031466502696276));
res += mul(Get(s1,-dx,-dy), float4x4(-0.045608717948198,-0.011071329005063,-0.056636489927769,-0.039721440523863,-0.023920407518744,0.001805610023439,-0.043409615755081,0.013203633017838,-0.060149107128382,0.005736325401813,-0.021602053195238,-0.073686659336090,-0.072205491364002,0.013550799340010,-0.070473670959473,-0.086345113813877));
res += mul(Get(s1,-dx,0), float4x4(0.008415658026934,-0.004635048564523,0.064821541309357,0.113556519150734,-0.061728592962027,0.017740141600370,-0.029504640027881,0.015735900029540,-0.029178597033024,0.000776105443947,-0.070630595088005,-0.084797084331512,-0.013649812899530,0.006650574039668,-0.039452835917473,-0.124478705227375));
res += mul(Get(s1,-dx,dy), float4x4(-0.032030127942562,-0.012102573178709,-0.064186178147793,0.193501159548759,-0.055342920124531,-0.001841023564339,-0.038240615278482,-0.126352891325951,-0.007872810587287,-0.011888493783772,-0.034849587827921,0.043260920792818,-0.038220636546612,-0.010153535753489,-0.069124884903431,-0.048394929617643));
res += mul(Get(s1,0,-dy), float4x4(-0.020271871238947,-0.010781156830490,-0.029851444065571,0.048529256135225,0.005483150016516,0.004276012536138,-0.038049168884754,0.007337587419897,-0.003203820204362,-0.006567937787622,-0.038058243691921,0.148561701178551,-0.000349215813912,0.009563294239342,-0.079556345939636,0.040433228015900));
res += mul(Get(s1,0,0), float4x4(-0.009402098134160,-0.000482725532493,0.133544430136681,-0.022001646459103,-0.009004597552121,0.006533923093230,-0.032299976795912,-0.075884014368057,0.024560341611505,-0.011027764528990,-0.055563218891621,0.214890345931053,0.023021399974823,-0.001775590586476,0.030543405562639,0.083650015294552));
res += mul(Get(s1,0,dy), float4x4(-0.023779807612300,0.004913629498333,-0.031219266355038,0.017716472968459,0.010708497837186,0.002795599400997,0.033863309770823,-0.076884225010872,-0.013775748200715,-0.008869358338416,-0.028577940538526,-0.052966378629208,-0.025923358276486,-0.022764999419451,-0.050591006875038,0.041816648095846));
res += mul(Get(s1,dx,-dy), float4x4(-0.000460093957372,-0.005048986524343,-0.058202039450407,0.044554587453604,0.075396157801151,0.010162832215428,0.019690375775099,0.098581694066525,-0.025694113224745,0.005410321522504,0.014924167655408,-0.004307438619435,-0.010323888622224,-0.007946260273457,-0.088312819600105,0.000134038913529));
res += mul(Get(s1,dx,0), float4x4(0.021439995616674,0.013577918522060,0.114814333617687,0.045721717178822,-0.011118346825242,0.003596813883632,-0.031896233558655,-0.021779850125313,0.033618945628405,0.001693927566521,0.141195535659790,0.021108651533723,0.011246485635638,-0.005663613323122,0.066818937659264,-0.085951864719391));
res += mul(Get(s1,dx,dy), float4x4(-0.001747129135765,-0.005265257786959,-0.048608463257551,0.093239270150661,0.006998603697866,-0.005264678969979,0.056892514228821,-0.059752114117146,0.051838349550962,-0.011236887425184,-0.077648811042309,0.030329998582602,0.028104210272431,-0.005950641352683,-0.006213880144060,0.119214847683907));
res += mul(Get(s2,-dx,-dy), float4x4(-0.030485281720757,0.006208573002368,-0.084896974265575,-0.076129779219627,0.005973649676889,-0.006514707114547,0.009787355549634,0.004965072963387,-0.016618661582470,0.004685435444117,-0.011273800395429,-0.078957475721836,-0.011854837648571,0.010317417792976,0.000524716626387,-0.092298261821270));
res += mul(Get(s2,-dx,0), float4x4(-0.028323741629720,0.003615509485826,-0.065182887017727,-0.002022229135036,0.000747700745706,-0.004611481446773,0.004476296715438,0.011737884022295,-0.010215263813734,0.019519854336977,0.062941305339336,-0.052676040679216,-0.018564531579614,0.008763439022005,-0.010597712360322,-0.071352057158947));
res += mul(Get(s2,-dx,dy), float4x4(-0.038283184170723,0.004716687370092,-0.039592389017344,0.066247701644897,-0.004647551570088,0.006443643476814,0.003675770014524,0.015403673052788,-0.016428975388408,0.001006516860798,0.017671611160040,-0.038682390004396,-0.018939260393381,0.014097400009632,0.002355941105634,-0.089009903371334));
res += mul(Get(s2,0,-dy), float4x4(0.105350852012634,-0.002272832673043,-0.104935944080353,0.082081317901611,0.005197215825319,0.006952288094908,-0.010331694968045,0.075402349233627,-0.013088916428387,0.009066067636013,0.013793971389532,-0.106002219021320,0.008857232518494,0.014899988658726,0.018944688141346,-0.036508370190859));
res += mul(Get(s2,0,0), float4x4(0.104172594845295,0.012863421812654,0.113774076104164,0.240138962864876,0.019309254363179,-0.000034421183955,0.000998535891995,0.072794578969479,-0.008935171179473,0.006200429052114,0.003047878388315,-0.084336236119270,0.030315378680825,0.021210242062807,0.043559215962887,-0.024812266230583));
res += mul(Get(s2,0,dy), float4x4(0.039841577410698,0.000993957626633,-0.014195888303220,-0.020493505522609,0.015193033032119,-0.001444532419555,0.006003583781421,0.006680715363473,0.018467368558049,-0.008777491748333,-0.019281383603811,0.003010823624209,0.010519062168896,0.012624762952328,0.089725963771343,-0.029711980372667));
res += mul(Get(s2,dx,-dy), float4x4(-0.053092461079359,0.002915318123996,-0.053287938237190,0.062741272151470,-0.016887707635760,-0.008897515013814,-0.001509550376795,0.009573135524988,0.006292424630374,0.008680120110512,0.014440573751926,-0.097547546029091,-0.020561996847391,0.010007396340370,0.008416528813541,0.021510638296604));
res += mul(Get(s2,dx,0), float4x4(-0.028470300137997,0.006001750938594,0.101302281022072,0.013098465278745,-0.011158539913595,0.010352114215493,0.026800621300936,0.001533708535135,0.015496302396059,-0.009539615362883,-0.008599544875324,-0.056159593164921,-0.022091597318649,0.005535092670470,-0.014188839122653,-0.020614486187696));
res += mul(Get(s2,dx,dy), float4x4(0.043574262410402,-0.007792855612934,-0.052214756608009,0.080477736890316,0.007532823365182,-0.000436674134107,0.012883448041975,0.035980589687824,0.005074003711343,-0.016389425843954,0.020616088062525,-0.054711945354939,-0.004046668298542,0.004204709548503,-0.024114577099681,-0.045173186808825));
res += mul(Get(s3,-dx,-dy), float4x4(-0.009513543918729,-0.014014445245266,0.010522123426199,-0.025554183870554,-0.002648341469467,0.009675087407231,0.024033684283495,-0.004694208037108,-0.045026235282421,0.008593992330134,-0.102314047515392,0.127897307276726,0.005688386969268,0.011711194179952,0.021702151745558,-0.058921549469233));
res += mul(Get(s3,-dx,0), float4x4(0.028754832223058,-0.004844198934734,0.016367968171835,0.070794172585011,0.003989785909653,-0.001247934880666,0.023119257763028,0.058927461504936,-0.042816039174795,0.005756368394941,-0.004009706899524,-0.029200211167336,0.034278433769941,0.010488094761968,0.039538916200399,0.034742306917906));
res += mul(Get(s3,-dx,dy), float4x4(-0.003630580380559,-0.006312799640000,0.000915046839509,-0.008068444207311,-0.004220937378705,-0.001296602655202,-0.001481142709963,0.000823140493594,-0.048312418162823,0.001887466292828,-0.076471783220768,0.027908934280276,0.019442282617092,0.010033396072686,0.096385009586811,-0.050715725868940));
res += mul(Get(s3,0,-dy), float4x4(0.010844242759049,-0.009037095122039,0.000166074460139,-0.010112836025655,0.006228238344193,0.001326943631284,-0.003771968651563,0.013191842474043,-0.030776524916291,0.026121359318495,-0.049396838992834,0.058358918875456,-0.022608527913690,0.017767125740647,0.038820248097181,-0.118524268269539));
res += mul(Get(s3,0,0), float4x4(0.081521943211555,-0.006309240590781,0.101438298821449,0.333604365587234,-0.001081839436665,-0.008028256706893,0.023753833025694,0.115169413387775,0.010769654996693,0.018978469073772,0.205530434846878,-0.054571412503719,-0.015038409270346,0.004107471089810,-0.019882608205080,-0.001940257032402));
res += mul(Get(s3,0,dy), float4x4(0.022034252062440,-0.007275623269379,-0.015461412258446,-0.097255356609821,0.003329266794026,0.002506808610633,-0.006125419400632,0.032226275652647,-0.003989442251623,-0.009482308290899,0.049890123307705,-0.002965982770547,0.004261790309101,-0.003848747815937,-0.010601679794490,-0.039075914770365));
res += mul(Get(s3,dx,-dy), float4x4(-0.042655114084482,-0.005495915189385,-0.015702087432146,0.064746610820293,0.003115287981927,-0.003444393631071,0.004240845795721,0.016542438417673,-0.061356544494629,-0.002957137301564,-0.052973400801420,0.049810077995062,-0.012633587233722,0.004720814991742,-0.041111558675766,-0.057924613356590));
res += mul(Get(s3,dx,0), float4x4(0.001354459673166,-0.004650500603020,0.124905019998550,0.035827178508043,-0.004072818439454,0.009929376654327,0.023682871833444,0.053758893162012,-0.014582993462682,-0.014997152611613,0.049991548061371,-0.059825301170349,-0.004920325707644,0.007394718471915,-0.047184526920319,-0.010294453240931));
res += mul(Get(s3,dx,dy), float4x4(0.067171677947044,-0.006393224000931,-0.049499075859785,0.035754971206188,0.006810665596277,0.001083382172510,0.016540927812457,0.021402265876532,0.015430038794875,-0.009218213148415,-0.023050120100379,0.077980495989323,0.010793632827699,0.003034718567505,-0.011727593839169,-0.027626201510429));
return max(float4(0,0,0,0), res);
}
