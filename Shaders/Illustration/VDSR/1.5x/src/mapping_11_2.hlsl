sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.031551368534565,0.002002163091674,-0.038244176656008,-0.039429124444723,0.021661389619112,-0.014858452603221,0.201523900032043,0.041719201952219,0.129493430256844,0.011141563765705,-0.084990963339806,0.001208015251905,0.031217405572534,-0.066189199686050,0.111505597829819,0.055202353745699));
res += mul(Get(s0,-dx,0), float4x4(0.044516831636429,-0.101784139871597,0.034116771072149,0.052061367779970,-0.073553979396820,-0.008427226915956,-0.201282918453217,-0.001330538769253,0.003818059572950,-0.077083013951778,-0.039129361510277,0.008049541153014,-0.030283482745290,0.057474687695503,-0.025622071698308,0.037211809307337));
res += mul(Get(s0,-dx,dy), float4x4(-0.022397426888347,-0.024028826504946,0.056530378758907,-0.010555438697338,-0.011574192903936,0.101063556969166,0.084481395781040,0.016264704987407,0.048404321074486,-0.025072382763028,0.038597382605076,0.036544259637594,-0.023973371833563,0.039363205432892,-0.021533520892262,-0.052947290241718));
res += mul(Get(s0,0,-dy), float4x4(0.065654374659061,-0.080355338752270,-0.054115172475576,-0.013415199704468,-0.048272266983986,-0.094787269830704,0.130092024803162,-0.003097685752437,0.092778511345387,-0.109513372182846,-0.075610317289829,-0.052428502589464,0.035630777478218,-0.021477747708559,-0.047360349446535,0.017965519800782));
res += mul(Get(s0,0,0), float4x4(0.030991926789284,-0.047884102910757,0.061218995600939,0.042856484651566,0.046376928687096,0.062817707657814,0.218914628028870,0.043573338538408,-0.029991021379828,0.094647355377674,-0.080961614847183,-0.067504778504372,0.052242159843445,0.084751777350903,0.070364683866501,0.022239120677114));
res += mul(Get(s0,0,dy), float4x4(-0.062394820153713,-0.064717113971710,0.022113541141152,-0.073098219931126,0.020670196041465,0.071509361267090,0.070014581084251,-0.051199249923229,-0.006900046020746,-0.016875728964806,-0.075861908495426,0.068226732313633,-0.028999270871282,-0.131872951984406,-0.040108069777489,-0.056861978024244));
res += mul(Get(s0,dx,-dy), float4x4(0.057085864245892,-0.076455973088741,-0.105865471065044,0.026573682203889,-0.060178998857737,-0.010434388183057,0.049994479864836,0.009563410654664,-0.027839083224535,-0.067647688090801,-0.048205383121967,0.159114003181458,-0.034570693969727,0.030910219997168,0.065961912274361,0.089959561824799));
res += mul(Get(s0,dx,0), float4x4(-0.000842630572151,-0.005495878867805,-0.043948065489531,0.005609187297523,-0.066010169684887,-0.052173286676407,0.159760668873787,-0.100824832916260,0.034423343837261,0.089467510581017,0.002735999878496,-0.021951356902719,-0.026980413123965,-0.020831918343902,-0.016022132709622,0.065249159932137));
res += mul(Get(s0,dx,dy), float4x4(-0.046134743839502,-0.076855413615704,-0.025792906060815,-0.027155039831996,0.046499740332365,0.101985670626163,-0.128806218504906,0.000507809803821,0.097428075969219,-0.090421862900257,-0.017863495275378,0.010933493264019,0.004651918075979,-0.148523882031441,0.000854326528497,0.063239119946957));
res += mul(Get(s1,-dx,-dy), float4x4(0.039423394948244,-0.043234471231699,0.063225165009499,-0.064726807177067,-0.081413239240646,-0.073377132415771,0.031593941152096,0.007581759244204,-0.034674964845181,0.085446037352085,0.138543114066124,-0.030797323212028,0.014067871496081,0.082974076271057,0.050081871449947,-0.039881844073534));
res += mul(Get(s1,-dx,0), float4x4(0.085062004625797,0.003996788989753,0.051859591156244,0.066828131675720,0.024856574833393,-0.035411529242992,0.027265207841992,-0.007436837535352,0.034430291503668,0.081815160810947,0.023419421166182,-0.034857112914324,-0.106432430446148,0.018919052556157,0.154816880822182,-0.026890927925706));
res += mul(Get(s1,-dx,dy), float4x4(-0.010117096826434,-0.026024695485830,0.017261197790504,-0.048010800033808,-0.091406814754009,0.077870406210423,-0.219230771064758,-0.013333979994059,-0.061854306608438,0.055650699883699,0.074209205806255,0.022462973371148,-0.005417063366622,-0.091508008539677,0.111335329711437,-0.051713027060032));
res += mul(Get(s1,0,-dy), float4x4(-0.002248262055218,-0.034182745963335,0.064929179847240,-0.066763184964657,-0.024156104773283,-0.092113666236401,0.149554505944252,0.039048776030540,-0.016145130619407,0.012670086696744,-0.020477611571550,-0.171045571565628,0.005631005391479,-0.030386941507459,0.010614362545311,-0.006285319570452));
res += mul(Get(s1,0,0), float4x4(0.094163455069065,-0.045180682092905,-0.178411602973938,0.023968853056431,-0.056723590940237,-0.104538314044476,-0.063829019665718,0.010442988015711,0.097245782613754,0.059811703860760,0.002798654371873,-0.044898349791765,-0.058662727475166,0.179777979850769,0.139740645885468,-0.016608912497759));
res += mul(Get(s1,0,dy), float4x4(-0.067097932100296,0.043908327817917,0.028057316318154,-0.022375866770744,-0.062730297446251,-0.168812647461891,0.162710338830948,-0.026103854179382,-0.040494836866856,0.020446350798011,0.028801059350371,0.080100692808628,0.000878814840689,0.086212284862995,0.045801106840372,-0.072469167411327));
res += mul(Get(s1,dx,-dy), float4x4(-0.004469641484320,-0.027150688692927,0.049608062952757,-0.048127975314856,0.087463192641735,-0.054373927414417,-0.020486589521170,0.087281480431557,0.055135305970907,0.048118524253368,-0.043172743171453,0.023280341178179,0.079569675028324,0.101210556924343,-0.068696841597557,-0.102242656052113));
res += mul(Get(s1,dx,0), float4x4(-0.079081289470196,0.043650001287460,0.087131403386593,0.015009675174952,-0.053012263029814,-0.123143337666988,-0.011073383502662,-0.053086783736944,0.007046148180962,0.043907932937145,-0.004489611834288,0.027509350329638,-0.040734317153692,-0.061147924512625,-0.028976462781429,-0.059241674840450));
res += mul(Get(s1,dx,dy), float4x4(-0.027891129255295,-0.096073217689991,0.057175565510988,-0.046191886067390,-0.014925657771528,-0.030103845521808,0.048116035759449,0.037178382277489,0.020691700279713,0.104760982096195,-0.043075293302536,-0.068741858005524,0.042647887021303,-0.069231167435646,0.037156023085117,-0.072110228240490));
res += mul(Get(s2,-dx,-dy), float4x4(-0.037593360990286,0.008493673056364,0.011979412287474,-0.028591856360435,-0.048864845186472,-0.037672556936741,0.009454441256821,-0.001898308517411,-0.036344386637211,0.014640667475760,0.030082438141108,0.054934211075306,-0.036262411624193,0.025594729930162,-0.020677793771029,0.055383656173944));
res += mul(Get(s2,-dx,0), float4x4(-0.062582813203335,0.049334846436977,0.017849281430244,-0.074746690690517,-0.008418194018304,0.013781956396997,-0.071374565362930,0.118218995630741,0.007673671003431,-0.088491119444370,0.004379158373922,-0.075038410723209,0.006590555887669,0.127647072076797,-0.043240714818239,0.124953269958496));
res += mul(Get(s2,-dx,dy), float4x4(0.039424378424883,-0.014500105753541,-0.069896191358566,-0.013915460556746,-0.020065847784281,0.064722210168839,-0.199887365102768,0.028937416151166,0.003863989841193,0.051225498318672,0.006843511015177,-0.036845512688160,0.010433761402965,0.091162987053394,0.021774306893349,0.053013455122709));
res += mul(Get(s2,0,-dy), float4x4(0.026821414008737,0.073753133416176,-0.018800986930728,-0.013183532282710,-0.000106953106297,-0.007195503450930,0.026721650734544,0.036505740135908,0.059071585536003,0.000754200271331,-0.047447152435780,0.056277077645063,0.022069236263633,-0.013973017223179,-0.039982244372368,0.034309737384319));
res += mul(Get(s2,0,0), float4x4(0.077068455517292,-0.022987380623817,0.047933962196112,-0.022537434473634,-0.061735872179270,0.011045945808291,0.167139768600464,-0.071996860206127,0.022670038044453,0.026968784630299,0.068675063550472,0.027987349778414,-0.031387846916914,-0.021852977573872,0.063902914524078,-0.012604832649231));
res += mul(Get(s2,0,dy), float4x4(-0.003336595604196,-0.074620604515076,0.078939862549305,0.022033832967281,-0.002108828630298,-0.060723293572664,0.161089777946472,0.016338793560863,0.022466711699963,0.009672619402409,-0.084971129894257,-0.064556904137135,-0.040288060903549,-0.037899989634752,0.113120488822460,-0.156145513057709));
res += mul(Get(s2,dx,-dy), float4x4(-0.019292548298836,0.014372103847563,-0.031897608190775,-0.007631998974830,0.066194660961628,-0.000594121054746,0.037179943174124,-0.037770740687847,0.056193772703409,-0.103369623422623,-0.038704358041286,0.068524256348610,-0.032211974263191,0.092173337936401,-0.119652077555656,0.083484120666981));
res += mul(Get(s2,dx,0), float4x4(0.076715305447578,-0.057167116552591,-0.099527992308140,-0.011611876077950,-0.048805035650730,0.015789991244674,-0.015026374720037,0.026798207312822,-0.000708168488927,-0.011911510489881,-0.060068398714066,-0.050156831741333,0.031738791614771,-0.002799781272188,-0.066302731633186,-0.085150249302387));
res += mul(Get(s2,dx,dy), float4x4(-0.060221903026104,-0.023640682920814,-0.038858465850353,-0.105163060128689,-0.082993030548096,0.035680588334799,-0.117616295814514,-0.079811871051788,-0.048285562545061,0.072316534817219,0.078733317553997,0.026333633810282,0.024301521480083,-0.026170091703534,0.046598080545664,-0.028636017814279));
res += mul(Get(s3,-dx,-dy), float4x4(0.036105375736952,0.037556279450655,-0.096610255539417,0.059212572872639,-0.001357658184133,0.028619939461350,-0.003199724247679,-0.021229226142168,0.002447565086186,-0.096294708549976,0.026053488254547,0.027863159775734,0.021072538569570,0.045582439750433,-0.008302031084895,0.019779689610004));
res += mul(Get(s3,-dx,0), float4x4(-0.031739555299282,0.014317336492240,0.116621151566505,0.024249257519841,-0.029544865712523,-0.027189087122679,-0.009976283647120,-0.044845115393400,-0.007664084900171,-0.038486797362566,0.128461793065071,0.046726178377867,0.007447416428477,0.039314866065979,0.020310394465923,-0.042855359613895));
res += mul(Get(s3,-dx,dy), float4x4(-0.078379392623901,0.044408340007067,-0.021064164116979,0.007366681005806,0.008590118028224,-0.011217950843275,0.009777086786926,-0.056596975773573,0.003442429006100,-0.063404060900211,0.029461568221450,-0.054373282939196,0.016690760850906,0.009211363270879,-0.019109938293695,-0.082062475383282));
res += mul(Get(s3,0,-dy), float4x4(0.000397391209844,0.037872672080994,-0.040896046906710,-0.018226496875286,-0.001635922468267,0.007096481975168,-0.089369110763073,0.007368475198746,0.098807267844677,-0.110255710780621,-0.002377786906436,0.022598946467042,0.044998936355114,-0.043079730123281,-0.043954461812973,-0.016756342723966));
res += mul(Get(s3,0,0), float4x4(-0.052138198167086,-0.008976543322206,0.089753866195679,-0.035835079848766,-0.018082292750478,-0.109833568334579,0.084327571094036,0.040874667465687,-0.036844171583652,-0.022797541692853,0.084206566214561,-0.011595316231251,0.084616087377071,-0.068353570997715,0.015494155697525,-0.045222837477922));
res += mul(Get(s3,0,dy), float4x4(0.015822079032660,0.016573227941990,0.015586533583701,-0.016449643298984,0.042047318071127,0.071523055434227,0.011482250876725,-0.088262341916561,0.077073551714420,0.104598231613636,-0.031267937272787,0.012209442444146,-0.055068850517273,0.084881283342838,0.002914761425927,0.015804599970579));
res += mul(Get(s3,dx,-dy), float4x4(0.020872022956610,0.038322314620018,-0.070777423679829,0.060714822262526,-0.030144434422255,-0.019177723675966,0.004088202025741,-0.035115677863359,-0.048769433051348,-0.061019558459520,-0.019849892705679,-0.047751575708389,0.095927059650421,-0.089496187865734,-0.103136777877808,-0.026687612757087));
res += mul(Get(s3,dx,0), float4x4(-0.042856119573116,-0.018888406455517,0.039890181273222,-0.034128926694393,0.035964980721474,0.021760592237115,-0.062012579292059,0.040312554687262,-0.081204690039158,-0.026068758219481,-0.025034256279469,0.027770858258009,-0.043778549879789,-0.072992101311684,0.001976097933948,0.047762971371412));
res += mul(Get(s3,dx,dy), float4x4(-0.011115299537778,-0.038487423211336,-0.010947227478027,0.005006180144846,-0.007127844262868,-0.021384578198195,-0.024541500955820,-0.039003424346447,-0.004745547659695,-0.006854377221316,-0.139148294925690,-0.027872379869223,-0.027050876989961,-0.043005201965570,0.023280853405595,0.007877455092967));
return max(float4(0,0,0,0), res);
}
