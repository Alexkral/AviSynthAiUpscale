sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.005608155857772,-0.084756009280682,-0.005272285547107,-0.051451928913593,-0.056111641228199,0.016641665250063,0.048770498484373,-0.042399473488331,0.040396053344011,0.031574644148350,-0.002969597000629,-0.055534716695547,0.101399131119251,-0.067601926624775,0.025863690301776,0.031474079936743));
res += mul(Get(s0,-dx,0), float4x4(-0.061369765549898,-0.008168124593794,0.061544455587864,0.068470537662506,-0.053977452218533,-0.020110551267862,0.038255855441093,0.000030766361306,-0.016696570441127,-0.020037475973368,0.088659882545471,-0.039394143968821,0.113106958568096,0.083051674067974,-0.046172894537449,-0.094036638736725));
res += mul(Get(s0,-dx,dy), float4x4(0.035066585987806,-0.022522754967213,0.020944748073816,0.135166779160500,-0.057501591742039,0.001198986545205,0.049091883003712,-0.034994713962078,0.020701836794615,-0.010050510987639,0.005229356233031,-0.002902981126681,-0.038663417100906,-0.104792863130569,-0.064443476498127,-0.080083757638931));
res += mul(Get(s0,0,-dy), float4x4(-0.012199348770082,0.013639582321048,-0.053089030086994,-0.030215069651604,0.063528686761856,-0.023297861218452,0.010543007403612,-0.049276653677225,0.041482489556074,-0.034346707165241,-0.100541412830353,0.040766492486000,0.003352632047608,-0.001889421953820,0.077353172004223,0.012398415245116));
res += mul(Get(s0,0,0), float4x4(-0.056510869413614,-0.119062125682831,0.016903812065721,0.080414675176144,0.018431803211570,0.034054446965456,0.063888721168041,0.028719618916512,0.035596594214439,-0.109968133270741,0.146037817001343,-0.000397994881496,0.000496688240673,0.128255337476730,0.053637683391571,0.005811207462102));
res += mul(Get(s0,0,dy), float4x4(0.076181359589100,0.087675489485264,-0.090281635522842,0.080411210656166,0.038055498152971,0.018481325358152,0.064812779426575,0.026343317702413,-0.068479053676128,-0.119760349392891,-0.072667524218559,-0.008898205123842,-0.067131213843822,-0.062496852129698,0.106594592332840,-0.010786350816488));
res += mul(Get(s0,dx,-dy), float4x4(0.084604591131210,0.103693373501301,-0.015269471332431,-0.021970154717565,0.001996438717470,-0.033382836729288,-0.020981943234801,-0.055047560483217,-0.004744417499751,-0.051459461450577,-0.018872845917940,-0.046076226979494,-0.054435309022665,0.136610418558121,-0.085425451397896,0.027304781600833));
res += mul(Get(s0,dx,0), float4x4(0.015302980318666,0.258650213479996,0.012676326557994,0.004941003397107,0.028513684868813,0.024068685248494,0.064268112182617,-0.000342063925928,0.009377219714224,0.007256887853146,0.062501005828381,0.102474950253963,-0.021885743364692,0.044714733958244,-0.021217294037342,0.020603265613317));
res += mul(Get(s0,dx,dy), float4x4(-0.003170990617946,0.090848244726658,-0.080266743898392,-0.002518783090636,0.002833420876414,-0.062504082918167,-0.003158602863550,0.020186932757497,-0.012757405638695,-0.053867079317570,-0.098312661051750,-0.026210822165012,0.001025269739330,-0.092766687273979,-0.041230518370867,-0.023152692243457));
res += mul(Get(s1,-dx,-dy), float4x4(0.275046199560165,-0.057692248374224,-0.067435689270496,0.110245861113071,0.020820830017328,0.018860053271055,0.069943375885487,-0.005754114128649,0.013460787944496,0.025478480383754,-0.048703774809837,-0.042332220822573,0.046155907213688,-0.119910001754761,0.006417910102755,0.027986083179712));
res += mul(Get(s1,-dx,0), float4x4(0.041020914912224,-0.050089955329895,-0.054680448025465,-0.108394607901573,-0.117233172059059,0.118793420493603,0.073265127837658,0.050436090677977,0.006722192279994,-0.027481550350785,-0.095385171473026,-0.081072069704533,0.014145527034998,-0.018531670793891,0.094049759209156,-0.024760408326983));
res += mul(Get(s1,-dx,dy), float4x4(-0.050437834113836,0.077008232474327,-0.055102836340666,-0.051028296351433,-0.094715915620327,0.056884285062551,-0.014931849204004,0.032335083931684,-0.017955062910914,-0.023752423003316,-0.022851776331663,0.002088326727971,-0.004514371510595,0.090231686830521,0.044678088277578,0.023416813462973));
res += mul(Get(s1,0,-dy), float4x4(-0.066918663680553,-0.052239358425140,0.073061764240265,-0.009623131714761,0.024572525173426,0.070283636450768,0.014143393374979,-0.121799118816853,-0.069585293531418,-0.037110257893801,0.036985058337450,0.094553478062153,0.114168189466000,-0.076206393539906,0.027413761243224,-0.027510223910213));
res += mul(Get(s1,0,0), float4x4(-0.058452021330595,-0.022036455571651,-0.002021644962952,0.243786826729774,0.038792204111814,0.105271324515343,-0.005056161899120,0.018896549940109,0.055377997457981,-0.128362551331520,-0.015683129429817,0.119074285030365,-0.093343161046505,0.024910960346460,0.055154711008072,-0.012196620926261));
res += mul(Get(s1,0,dy), float4x4(0.020740574225783,-0.036474253982306,0.011117509566247,-0.080052942037582,-0.030161999166012,0.065810300409794,-0.042441386729479,0.004012443125248,-0.040420632809401,0.071796506643295,0.035334508866072,0.056930381804705,0.001534434384666,0.022038159891963,0.043297924101353,0.047607213258743));
res += mul(Get(s1,dx,-dy), float4x4(-0.030986275523901,0.056639283895493,0.034950282424688,0.055743679404259,0.006542397197336,-0.043280545622110,0.073524549603462,-0.077404528856277,-0.047146156430244,-0.041395083069801,0.002296512713656,0.008623884059489,0.047203697264194,0.016068918630481,-0.020753536373377,0.024735646322370));
res += mul(Get(s1,dx,0), float4x4(-0.037672732025385,-0.011748911812901,0.128856346011162,0.176681637763977,-0.029700225219131,0.027589105069637,0.167168334126472,-0.043457139283419,-0.063211381435394,0.085556738078594,0.035903699696064,0.007137328386307,-0.006827108096331,-0.002870586467907,-0.043840855360031,0.086877264082432));
res += mul(Get(s1,dx,dy), float4x4(0.019488045945764,0.019090374931693,0.036758091300726,-0.025257717818022,-0.064484111964703,0.050805743783712,0.114421494305134,-0.047807734459639,-0.012562327086926,0.195503979921341,0.080329254269600,0.100791640579700,-0.061241593211889,0.015444716438651,-0.049523625522852,0.052344463765621));
res += mul(Get(s2,-dx,-dy), float4x4(0.082639709115028,0.062379565089941,-0.065124377608299,-0.031008584424853,0.078338615596294,-0.016965361312032,-0.012427887879312,-0.014973012730479,-0.029273435473442,-0.008262191899121,0.028656171634793,0.015440339222550,0.046916816383600,0.102836266160011,0.016384331509471,0.093013122677803));
res += mul(Get(s2,-dx,0), float4x4(-0.062891982495785,0.042431019246578,-0.058468390256166,0.043355986475945,0.100943610072136,-0.165861457586288,0.102344073355198,-0.049213744699955,0.014055130071938,-0.067342966794968,0.061523601412773,0.030728923156857,-0.002078589051962,0.149850085377693,-0.010920468717813,-0.036868728697300));
res += mul(Get(s2,-dx,dy), float4x4(-0.038935985416174,0.004772941116244,-0.075766675174236,-0.007304443977773,0.062996923923492,0.123456999659538,0.045157019048929,0.086870536208153,-0.000153287241119,-0.047783434391022,0.005449331365526,0.022993346676230,-0.039111711084843,0.042485330253839,-0.017475983127952,0.059247564524412));
res += mul(Get(s2,0,-dy), float4x4(-0.004686821252108,0.088600374758244,-0.090233020484447,0.009276644326746,0.069221161305904,0.044007956981659,0.032064560800791,-0.082026444375515,0.000789194600657,0.005479223560542,-0.002687141299248,-0.084354571998119,-0.097441576421261,0.065368957817554,0.041754450649023,0.051062796264887));
res += mul(Get(s2,0,0), float4x4(0.012619114480913,0.083440221846104,0.057391986250877,0.065723568201065,0.048725713044405,0.080310374498367,-0.093441098928452,0.037434443831444,0.043309759348631,-0.028989512473345,0.086265809834003,-0.144393309950829,-0.009681791067123,0.100957900285721,0.097177080810070,0.017996327951550));
res += mul(Get(s2,0,dy), float4x4(0.048890553414822,-0.004978531505913,-0.013269838877022,-0.013922978192568,-0.062038905918598,0.139666453003883,-0.058587294071913,0.001376359374262,0.133404210209846,0.078263059258461,-0.084445253014565,-0.049503348767757,0.020112156867981,0.086664080619812,0.026869354769588,0.056281652301550));
res += mul(Get(s2,dx,-dy), float4x4(-0.020919920876622,-0.221751198172569,-0.032444935292006,-0.095611274242401,-0.065279804170132,-0.075298607349396,-0.138798534870148,-0.068926610052586,-0.019443709403276,-0.045371908694506,-0.119573511183262,-0.097063161432743,-0.019246052950621,0.009846515022218,0.036130595952272,0.059706486761570));
res += mul(Get(s2,dx,0), float4x4(-0.006654048338532,-0.108063913881779,0.066527366638184,-0.106086060404778,-0.019829923287034,-0.085243828594685,-0.184600591659546,0.065949805080891,0.022482948377728,0.010386331006885,-0.020527947694063,-0.014082999899983,-0.047276601195335,0.052157532423735,0.062750712037086,0.050017815083265));
res += mul(Get(s2,dx,dy), float4x4(-0.025266699492931,0.004161564167589,0.035765122622252,0.055122721940279,0.040814168751240,-0.002694164635614,-0.044650018215179,0.068164177238941,-0.094843216240406,0.065709903836250,-0.021389067173004,-0.086623758077621,-0.012817863374949,0.044953092932701,0.042580675333738,0.092954330146313));
res += mul(Get(s3,-dx,-dy), float4x4(0.009407996200025,-0.045205082744360,0.003286455292255,-0.088828876614571,0.000845831236802,-0.070424199104309,-0.016428735107183,0.094743251800537,-0.092687338590622,0.024307725951076,0.061492267996073,-0.132893681526184,-0.016051204875112,0.163861170411110,-0.022816570475698,0.063961252570152));
res += mul(Get(s3,-dx,0), float4x4(-0.003175576915964,0.035618599504232,0.109945952892303,0.026822650805116,0.032653566449881,-0.128589004278183,0.008714087307453,0.120679885149002,0.088507376611233,-0.004142424557358,0.016418084502220,-0.108685724437237,-0.030521165579557,-0.047180347144604,0.042319104075432,-0.023756874725223));
res += mul(Get(s3,-dx,dy), float4x4(-0.010146241635084,0.043707199394703,-0.022971875965595,-0.035411637276411,0.093394450843334,-0.064865022897720,0.024889079853892,0.076808407902718,0.050037529319525,-0.070816248655319,-0.000338112644386,0.029259266331792,0.015764117240906,0.010713314637542,0.052663318812847,0.057999204844236));
res += mul(Get(s3,0,-dy), float4x4(0.015923513099551,-0.074093475937843,-0.030587445944548,-0.009491932578385,0.148420810699463,0.002000835025683,0.045261625200510,0.049521796405315,-0.002268442418426,-0.089801937341690,-0.031770791858435,-0.020021544769406,0.032371211796999,-0.012908843345940,-0.143073290586472,0.056134097278118));
res += mul(Get(s3,0,0), float4x4(-0.087173104286194,0.001672412152402,0.096124827861786,0.042720802128315,-0.043302241712809,-0.054649364203215,0.064733751118183,-0.038040816783905,0.096547916531563,0.072771728038788,0.104216299951077,-0.099890559911728,0.006324617192149,-0.136245876550674,-0.096665985882282,0.040062371641397));
res += mul(Get(s3,0,dy), float4x4(0.035916026681662,-0.066980294883251,0.044996127486229,-0.078704223036766,-0.047246426343918,-0.078215040266514,0.014630330726504,0.018827058374882,0.011762726120651,0.015408031642437,0.057018607854843,-0.032587472349405,-0.061937224119902,-0.046983256936073,-0.099413678050041,0.092918746173382));
res += mul(Get(s3,dx,-dy), float4x4(-0.025035925209522,-0.058762792497873,-0.082082167267799,0.120698854327202,-0.016810903325677,-0.119402363896370,0.043034471571445,0.111807771027088,-0.048100322484970,-0.031041936948895,-0.138514816761017,-0.083221197128296,-0.018648661673069,0.026874244213104,0.028082292526960,-0.032739043235779));
res += mul(Get(s3,dx,0), float4x4(0.013801444321871,-0.039857149124146,-0.041721690446138,0.039147011935711,0.011531624011695,-0.134790122509003,-0.025072291493416,0.064250521361828,-0.100709356367588,-0.056010406464338,-0.069950737059116,-0.142403289675713,-0.092651210725307,0.142154902219772,-0.043006636202335,-0.037212077528238));
res += mul(Get(s3,dx,dy), float4x4(0.000062095241447,-0.113369211554527,-0.037306901067495,-0.021293358877301,-0.005824492312968,-0.044112853705883,0.007824899628758,0.028631206601858,0.029579013586044,-0.108969792723656,0.038580659776926,0.009414764121175,-0.048512153327465,0.056854631751776,-0.036685474216938,0.035419873893261));
return max(float4(0,0,0,0), res);
}
