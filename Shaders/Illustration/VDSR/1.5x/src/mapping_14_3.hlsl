sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.004815949592739,-0.055722601711750,0.018060756847262,-0.029377879574895,-0.010613976977766,0.027162769809365,0.022583274170756,-0.003920033574104,0.003009248059243,0.021205173805356,-0.030611917376518,0.022611152380705,-0.022683359682560,-0.016603916883469,-0.045427232980728,0.037623476237059));
res += mul(Get(s0,-dx,0), float4x4(0.005311517976224,0.020635418593884,-0.059536676853895,0.046680554747581,0.136371970176697,0.002013970166445,0.122814372181892,-0.017451189458370,-0.056323479861021,0.044923763722181,-0.014278650283813,0.034396447241306,0.005995621439070,-0.070629082620144,-0.069841019809246,-0.069977976381779));
res += mul(Get(s0,-dx,dy), float4x4(-0.031772870570421,-0.059936273843050,-0.032795064151287,-0.030866807326674,-0.019625879824162,0.039957296103239,-0.046182248741388,-0.014698158949614,0.056327156722546,0.010214393958449,0.033954694867134,-0.092062987387180,0.000353569455910,0.012586030177772,0.032610911875963,0.039967007935047));
res += mul(Get(s0,0,-dy), float4x4(-0.017689844593406,-0.076039150357246,-0.057857502251863,-0.061428923159838,0.011270404793322,0.000011501682820,0.004127820953727,-0.030996760353446,0.010548508726060,-0.001480530714616,-0.084241509437561,-0.033325660973787,-0.112774208188057,0.045192848891020,0.009530815295875,-0.033731926232576));
res += mul(Get(s0,0,0), float4x4(-0.061873450875282,0.100202657282352,0.026230160146952,0.163079008460045,0.160201922059059,-0.042666297405958,0.132881373167038,-0.015087828040123,-0.123117409646511,-0.001807894906960,-0.127661436796188,0.019419945776463,0.118860192596912,-0.089457988739014,0.096463516354561,0.154375508427620));
res += mul(Get(s0,0,dy), float4x4(0.211960449814796,-0.076378971338272,0.054963845759630,-0.005276974290609,-0.068927899003029,0.026674544438720,0.065551534295082,-0.018509110435843,0.088615283370018,-0.124670147895813,0.010707122273743,-0.067996233701706,-0.038649875670671,-0.041131775826216,-0.020679876208305,-0.083853900432587));
res += mul(Get(s0,dx,-dy), float4x4(0.001795948250219,-0.017313236370683,0.016383467242122,0.070962145924568,0.019664373248816,0.030970014631748,0.005987692624331,-0.022116139531136,0.042882625013590,-0.024011351168156,-0.069684430956841,0.042826388031244,-0.045414522290230,-0.042010210454464,-0.061313726007938,-0.008157276548445));
res += mul(Get(s0,dx,0), float4x4(0.010378403589129,0.024394422769547,0.030865659937263,0.037083346396685,0.091508261859417,0.033015776425600,0.010891525074840,-0.075225733220577,-0.018303837627172,0.163493439555168,0.028600027784705,-0.027088832110167,0.093690112233162,0.045807331800461,-0.091875143349171,0.001377753447741));
res += mul(Get(s0,dx,dy), float4x4(0.056689597666264,-0.063252016901970,-0.045626837760210,0.060616947710514,0.039843309670687,0.013919338583946,0.099152229726315,-0.062508411705494,0.098236948251724,0.169895172119141,0.047578923404217,-0.021686287596822,-0.061475858092308,0.076283194124699,-0.069496817886829,-0.032827906310558));
res += mul(Get(s1,-dx,-dy), float4x4(-0.016741340979934,0.083603739738464,-0.011414373293519,0.010799590498209,-0.059555124491453,0.068511076271534,0.094263784587383,0.052817467600107,0.007801838684827,0.042742207646370,0.000507815449964,-0.051716912537813,-0.135233566164970,-0.010204136371613,0.005350711289793,0.136487081646919));
res += mul(Get(s1,-dx,0), float4x4(0.020124740898609,0.033879030495882,-0.055984657257795,-0.109565444290638,0.107391618192196,-0.057219740003347,0.101029813289642,-0.024848747998476,0.009067212231457,0.054647784680128,-0.068690754473209,-0.035110533237457,-0.001646505086683,-0.042001668363810,-0.032973751425743,-0.069348417222500));
res += mul(Get(s1,-dx,dy), float4x4(-0.001091639278457,0.010100125335157,-0.050374042242765,-0.078384824097157,-0.032244127243757,0.052713289856911,-0.064311936497688,-0.095650359988213,0.002444865414873,0.014688745141029,-0.050724335014820,0.048183869570494,0.027718190103769,-0.005964559037238,0.009606172330678,0.030445393174887));
res += mul(Get(s1,0,-dy), float4x4(0.029637431725860,0.042841345071793,0.047129333019257,0.100936368107796,-0.099878937005997,0.070219956338406,-0.022795768454671,-0.010612141340971,-0.014046765863895,0.040045481175184,-0.033337827771902,-0.021305555477738,-0.169230386614799,0.062895715236664,-0.072766631841660,0.088601015508175));
res += mul(Get(s1,0,0), float4x4(0.094527021050453,-0.107625141739845,0.089677572250366,-0.097770333290100,0.063540481030941,0.148737981915474,-0.010398178361356,0.007691781036556,0.033706676214933,-0.107759490609169,0.086676545441151,0.086680039763451,-0.006912927143276,-0.023953570052981,-0.035564381629229,-0.033805947750807));
res += mul(Get(s1,0,dy), float4x4(-0.115228913724422,0.083816461265087,-0.054855428636074,-0.101933434605598,-0.065598912537098,0.031841427087784,0.061614923179150,-0.125525355339050,-0.020808890461922,-0.017956770956516,0.014385677874088,-0.043675944209099,-0.026090422645211,0.037590928375721,-0.055333245545626,0.011618095450103));
res += mul(Get(s1,dx,-dy), float4x4(-0.050496302545071,0.105381108820438,-0.107638955116272,0.003805835731328,-0.026617044582963,0.024556335061789,-0.062202930450439,0.056173227727413,-0.050456352531910,-0.054217189550400,0.014071336947381,-0.006708172615618,-0.104209758341312,0.025201315060258,0.040677804499865,0.032801609486341));
res += mul(Get(s1,dx,0), float4x4(0.001329638063908,0.031990434974432,0.012141495011747,0.009409167803824,0.032373167574406,-0.066887341439724,-0.046407576650381,-0.072500340640545,0.020560977980494,0.096685506403446,0.121800623834133,0.061540119349957,-0.035988483577967,-0.036007113754749,0.059686008840799,-0.065534718334675));
res += mul(Get(s1,dx,dy), float4x4(-0.000059422189224,0.008584139868617,0.017874922603369,-0.092459201812744,-0.005615551955998,-0.051202092319727,-0.077510841190815,-0.020690828561783,0.012661924585700,0.078015074133873,0.045575484633446,0.004418025258929,-0.004217236768454,0.061512075364590,0.086794793605804,-0.011159421876073));
res += mul(Get(s2,-dx,-dy), float4x4(0.020852459594607,-0.078676976263523,-0.149370193481445,-0.129030913114548,0.012572178617120,0.017941223457456,-0.024290332570672,0.028231007978320,-0.021942544728518,0.023262105882168,-0.054042648524046,-0.026103045791388,-0.081869661808014,0.079600356519222,-0.068008646368980,-0.003698805114254));
res += mul(Get(s2,-dx,0), float4x4(-0.025556595996022,0.044574417173862,0.000800237059593,0.116009131073952,0.001978350337595,0.031708676367998,-0.046173673123121,-0.014590905979276,0.026405084878206,-0.008298567496240,-0.055344536900520,-0.037890292704105,-0.027954693883657,-0.020475421100855,-0.000045774388127,0.081384971737862));
res += mul(Get(s2,-dx,dy), float4x4(-0.009322150610387,-0.072237998247147,-0.063535250723362,-0.079863488674164,-0.018184680491686,0.049266129732132,-0.104950375854969,-0.037134274840355,-0.042138032615185,0.023011010140181,0.010007799603045,0.023353248834610,-0.039543323218822,0.032936953008175,-0.043365098536015,-0.015895292162895));
res += mul(Get(s2,0,-dy), float4x4(-0.014546219259501,0.004821476060897,0.137036755681038,-0.042388692498207,0.009465455077589,0.063764676451683,0.128558695316315,0.033848442137241,-0.004260566551238,-0.082819163799286,-0.065296649932861,0.025976432487369,-0.089029237627983,0.007110021542758,0.062603376805782,-0.055591613054276));
res += mul(Get(s2,0,0), float4x4(0.015074010007083,-0.021067665889859,0.091806232929230,0.081894926726818,-0.033687073737383,-0.078405126929283,0.089157417416573,0.011438502930105,0.057888597249985,-0.010845889337361,0.018762474879622,0.009976099245250,-0.064490772783756,0.100679270923138,0.124111086130142,0.118332892656326));
res += mul(Get(s2,0,dy), float4x4(-0.007910190150142,0.018762040883303,0.092036537826061,-0.093637540936470,0.011227961629629,-0.034046515822411,0.028864551335573,0.014262365177274,0.033591125160456,-0.021586613729596,-0.004504058044404,0.078423976898193,-0.041449181735516,0.063668027520180,0.076986759901047,-0.041343670338392));
res += mul(Get(s2,dx,-dy), float4x4(0.064641371369362,0.022209938615561,-0.069974787533283,-0.014645013026893,0.003335940884426,0.040357269346714,0.025379162281752,0.037151228636503,-0.045687641948462,0.029892101883888,0.065508589148521,0.007380334660411,-0.029739165678620,0.070232458412647,-0.080393068492413,0.063952118158340));
res += mul(Get(s2,dx,0), float4x4(0.053547229617834,0.012241913937032,-0.042278084903955,0.042818810790777,-0.015035260468721,-0.010512994602323,0.065455563366413,0.023592170327902,0.036404781043530,0.097653433680534,0.137032389640808,-0.026624394580722,-0.065465912222862,-0.001185618108138,-0.153092950582504,-0.000671815942042));
res += mul(Get(s2,dx,dy), float4x4(0.003453571116552,0.060569997876883,0.028797918930650,-0.009811633266509,0.022719709202647,0.031880799680948,0.015818882733583,-0.007469195406884,0.103149317204952,0.044317618012428,0.061892807483673,0.049920309334993,-0.017924750223756,0.041180796921253,-0.106671690940857,0.083750315010548));
res += mul(Get(s3,-dx,-dy), float4x4(0.099934555590153,0.017191726714373,-0.053405702114105,-0.000183313706657,0.000376885902369,0.026144852861762,0.192834958434105,0.089544743299484,0.002789382124320,0.031395483762026,0.009342893958092,-0.010228979401290,-0.026251353323460,-0.017993722110987,-0.039170466363430,-0.057344224303961));
res += mul(Get(s3,-dx,0), float4x4(0.021544834598899,-0.052527830004692,-0.086053758859634,-0.063841126859188,0.023515606299043,-0.036440994590521,0.133069857954979,0.087864011526108,0.002757534384727,0.022856151685119,-0.005555554758757,-0.048136200755835,-0.131374955177307,-0.000037855861592,0.083336018025875,0.093040265142918));
res += mul(Get(s3,-dx,dy), float4x4(0.041536308825016,0.078875787556171,-0.080918863415718,-0.140897676348686,-0.011029618792236,-0.045987598598003,0.067248187959194,-0.020544238388538,0.134378373622894,-0.024565652012825,0.010687055066228,-0.023098144680262,0.007800775580108,-0.019951285794377,0.148784413933754,-0.074264258146286));
res += mul(Get(s3,0,-dy), float4x4(0.038462452590466,-0.088506415486336,0.020147116854787,0.024706674739718,0.067814961075783,0.075945213437080,-0.065269567072392,0.076867781579494,0.067874632775784,-0.049795731902122,0.083759114146233,0.008633684366941,-0.162662699818611,0.049372985959053,-0.055816147476435,-0.001924112439156));
res += mul(Get(s3,0,0), float4x4(0.055195435881615,-0.096738897264004,-0.016319466754794,-0.047616302967072,0.029084298759699,0.001175458310172,-0.144699931144714,-0.091505818068981,0.063741303980350,-0.001957359490916,0.151996314525604,0.035794060677290,-0.063427232205868,0.056528713554144,-0.063710860908031,0.027927974238992));
res += mul(Get(s3,0,dy), float4x4(-0.050624690949917,0.100823722779751,-0.043946195393801,-0.078547596931458,-0.020975237712264,0.114015780389309,0.031551808118820,0.014081958681345,0.230004563927650,0.022014388814569,0.108720287680626,0.088087834417820,0.053172815591097,0.004248174373060,-0.027889883145690,-0.037970758974552));
res += mul(Get(s3,dx,-dy), float4x4(0.038701012730598,0.056099776178598,-0.098988078534603,-0.048041488975286,0.069303356111050,0.048413172364235,-0.045252922922373,-0.005440300796181,-0.013050715439022,-0.021399946883321,0.156353890895844,0.002889871131629,-0.109585464000702,-0.007378687616438,-0.104234993457794,0.028624666854739));
res += mul(Get(s3,dx,0), float4x4(0.013661311008036,0.114886693656445,-0.049050092697144,-0.024695368483663,-0.056344885379076,-0.062498636543751,0.044385120272636,-0.023362088948488,-0.008534033782780,0.046892434358597,0.136746555566788,0.017652178183198,-0.007110243197531,0.061210744082928,-0.068480774760246,-0.040072012692690));
res += mul(Get(s3,dx,dy), float4x4(0.000486416975036,0.034435279667377,-0.079415991902351,-0.051886416971684,0.019728025421500,0.067714199423790,-0.053810797631741,0.034344647079706,0.090197063982487,-0.032068155705929,0.108277022838593,-0.008138854056597,-0.009176189079881,0.037161689251661,-0.053107384592295,0.041765064001083));
return max(float4(0,0,0,0), res);
}
