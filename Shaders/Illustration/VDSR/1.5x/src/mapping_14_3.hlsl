sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.047509219497442,0.032730679959059,-0.094041749835014,0.013647398911417,-0.034115716814995,0.059057023376226,0.017395470291376,0.043158333748579,0.022214390337467,-0.036760620772839,0.007151350844651,-0.052684906870127,0.034573551267385,-0.000724685494788,0.025321418419480,0.002439352218062));
res += mul(Get(s0,-dx,0), float4x4(-0.021103611215949,0.069042667746544,-0.052355110645294,-0.073104076087475,0.000291357544484,-0.126252412796021,0.107025817036629,0.061967529356480,0.000486660253955,0.041031766682863,0.091427072882652,0.055424701422453,0.031506624072790,0.050074562430382,0.039319187402725,-0.067576467990875));
res += mul(Get(s0,-dx,dy), float4x4(-0.081642583012581,-0.005001069977880,-0.014514316804707,0.012359082698822,-0.026552263647318,0.075641825795174,0.075379066169262,-0.034660149365664,0.087214909493923,-0.012003062292933,0.057806398719549,0.055196799337864,-0.020106917247176,-0.008874170482159,-0.023965686559677,-0.076651386916637));
res += mul(Get(s0,0,-dy), float4x4(-0.050139438360929,-0.025124125182629,0.069705642759800,0.005980713758618,0.001431458513252,0.110564641654491,0.003266451414675,-0.002658978337422,-0.113002978265285,0.101383201777935,0.069711297750473,-0.020097635686398,0.031352471560240,0.019328767433763,-0.021418394520879,-0.040782839059830));
res += mul(Get(s0,0,0), float4x4(0.053043782711029,0.047472793608904,0.008563719689846,-0.016776412725449,0.043447900563478,-0.155113786458969,-0.065085075795650,-0.103850081562996,-0.014593341387808,0.068799577653408,0.070424862205982,0.096734866499901,-0.014984996989369,0.025080503895879,-0.059026643633842,0.044270437210798));
res += mul(Get(s0,0,dy), float4x4(0.063429392874241,-0.055565010756254,-0.012526156380773,0.016163513064384,-0.003545345738530,0.071329750120640,-0.100761525332928,0.006797297857702,-0.050027664750814,0.017252590507269,-0.054410722106695,0.012143251486123,-0.054714772850275,0.000923341431189,0.017918126657605,0.018486615270376));
res += mul(Get(s0,dx,-dy), float4x4(0.027746619656682,-0.027928199619055,-0.002418991178274,-0.008660820312798,0.048799462616444,-0.138294830918312,-0.127384617924690,-0.079469397664070,0.062983535230160,0.011521280743182,-0.041527234017849,-0.013316670432687,0.086182259023190,-0.009198962710798,-0.038214702159166,0.034702572971582));
res += mul(Get(s0,dx,0), float4x4(0.037566900253296,0.098139695823193,-0.024865848943591,0.005003276281059,0.142120197415352,-0.015523174777627,-0.024518527090549,-0.051418203860521,-0.010216890834272,-0.051153425127268,0.053355991840363,0.007230300456285,-0.008723805658519,0.032695211470127,0.042734339833260,0.023776611313224));
res += mul(Get(s0,dx,dy), float4x4(-0.056207582354546,-0.059363398700953,-0.060239359736443,-0.005389659199864,-0.100501619279385,-0.008955387398601,-0.002318157581612,-0.115484476089478,0.051629610359669,-0.004209273029119,-0.098907195031643,0.027641637250781,0.017128001898527,-0.012736064381897,-0.036553427577019,0.044748038053513));
res += mul(Get(s1,-dx,-dy), float4x4(0.042579896748066,-0.031126545742154,-0.003329825354740,0.016315966844559,-0.019500097259879,-0.056945946067572,0.026417102664709,0.003254982409999,-0.066192224621773,0.025085853412747,-0.014878677204251,0.122183755040169,-0.126205652952194,-0.028248917311430,-0.026062559336424,-0.021080520004034));
res += mul(Get(s1,-dx,0), float4x4(0.045376710593700,0.023921007290483,0.069126173853874,-0.067847780883312,0.094837129116058,-0.022284664213657,0.022416021674871,0.000104365884908,-0.055139083415270,-0.011552525684237,0.064513944089413,0.032441206276417,0.008322560228407,0.023681601509452,0.061948925256729,0.066482000052929));
res += mul(Get(s1,-dx,dy), float4x4(-0.015642819926143,-0.052874952554703,-0.001850422588177,-0.037623055279255,-0.021909201517701,-0.002911148127168,0.102989375591278,0.035584270954132,-0.008055780082941,0.055967487394810,0.061018750071526,-0.013321117497981,-0.019912958145142,-0.017219105735421,0.076364584267139,0.037976965308189));
res += mul(Get(s1,0,-dy), float4x4(-0.008711779490113,-0.002483778633177,0.013033404015005,0.006439416669309,-0.047882974147797,0.035819660872221,0.067184917628765,-0.008047581650317,-0.131629899144173,0.088973730802536,0.085784815251827,0.150556504726410,-0.016498928889632,0.020705981180072,0.020080631598830,0.038052942603827));
res += mul(Get(s1,0,0), float4x4(-0.037713941186666,-0.042646780610085,0.044170621782541,-0.001386467949487,0.064023554325104,-0.008480336517096,-0.039115045219660,0.034034758806229,0.015373598784208,0.046472687274218,0.027597298845649,0.029918937012553,-0.000700679491274,-0.013205279596150,0.094170719385147,-0.077569060027599));
res += mul(Get(s1,0,dy), float4x4(-0.021232651546597,0.011149829253554,-0.056534375995398,0.123475767672062,-0.105297386646271,-0.020549939945340,0.040722902864218,-0.005354103632271,0.094432108104229,-0.089233838021755,-0.008665151894093,0.004565958399326,-0.128664970397949,-0.035222861915827,-0.060012303292751,-0.039542473852634));
res += mul(Get(s1,dx,-dy), float4x4(-0.008652469143271,0.025615939870477,0.055509291589260,-0.124707616865635,0.048270229250193,0.033296585083008,0.046337235718966,-0.089695788919926,0.018471965566278,0.057904765009880,-0.086114406585693,0.005985402502120,0.040227249264717,-0.047522969543934,0.017747359350324,-0.022921938449144));
res += mul(Get(s1,dx,0), float4x4(0.016234245151281,0.042122278362513,0.080755628645420,0.031984124332666,0.085735380649567,-0.025248086079955,-0.004581423942000,-0.006737177260220,-0.017854055389762,0.065801799297333,0.018808851018548,0.020679533481598,0.061028558760881,0.125017866492271,-0.013574145734310,-0.069043181836605));
res += mul(Get(s1,dx,dy), float4x4(0.032174732536077,0.021867588162422,0.050845354795456,-0.004586818162352,-0.043650545179844,-0.051532138139009,0.096772730350494,0.006077968049794,0.028345637023449,0.034773834049702,-0.080218330025673,0.009513791650534,-0.029374396428466,0.077363394200802,-0.014053784310818,0.016966337338090));
res += mul(Get(s2,-dx,-dy), float4x4(0.030574444681406,0.150277704000473,-0.080440677702427,0.101215615868568,0.006413826253265,-0.061382871121168,-0.092497050762177,0.020148569718003,0.132685810327530,0.028924165293574,0.035959929227829,-0.051594484597445,0.014741964638233,0.056435752660036,-0.023267261683941,0.038486558943987));
res += mul(Get(s2,-dx,0), float4x4(-0.013382301665843,0.007349950727075,0.115817703306675,-0.026396183297038,0.008388223126531,0.021508485078812,-0.034849606454372,0.056371975690126,0.011451785452664,-0.053459186106920,0.019285049289465,0.014218662865460,0.025845210999250,-0.047661557793617,-0.015695229172707,-0.041545547544956));
res += mul(Get(s2,-dx,dy), float4x4(0.112877234816551,-0.057646941393614,0.006645417306572,0.008897869847715,-0.052853859961033,-0.004739864263684,0.008889519609511,-0.026108030229807,-0.058795753866434,0.026672031730413,-0.081595070660114,-0.030423222109675,0.008275188505650,0.020016517490149,-0.109806969761848,0.014248185791075));
res += mul(Get(s2,0,-dy), float4x4(-0.044895060360432,0.186049953103065,-0.040909234434366,0.112442724406719,0.017200628295541,0.071855768561363,-0.048598453402519,-0.116463385522366,0.073077179491520,0.047609485685825,0.003713748650625,0.008632543496788,0.072663411498070,-0.069628141820431,0.036268889904022,-0.006813313346356));
res += mul(Get(s2,0,0), float4x4(-0.009364960715175,-0.128639295697212,0.053052742034197,0.079180069267750,-0.028368989005685,-0.042045544832945,-0.069759272038937,0.027017923071980,-0.012512358836830,0.020181931555271,-0.013605239801109,0.113455608487129,0.072341181337833,-0.018854524940252,0.014171819202602,0.063536852598190));
res += mul(Get(s2,0,dy), float4x4(0.005158824380487,0.023708181455731,0.054275117814541,-0.132357135415077,0.038907162845135,-0.111965201795101,0.019044706597924,-0.044186510145664,-0.033605102449656,0.068094298243523,0.078269742429256,-0.087531909346581,0.069362595677376,0.001675248495303,0.069210425019264,0.020869055762887));
res += mul(Get(s2,dx,-dy), float4x4(-0.065886594355106,0.131892263889313,-0.060032334178686,0.021214185282588,-0.032665412873030,-0.060742598026991,-0.018655043095350,-0.099522292613983,-0.084576360881329,-0.046647693961859,-0.021725004538894,-0.031917404383421,-0.071733832359314,0.081620879471302,0.007850423455238,-0.050824180245399));
res += mul(Get(s2,dx,0), float4x4(0.123981699347496,0.014361212961376,-0.001228279550560,0.044981222599745,0.027206670492887,0.064690068364143,0.039164852350950,0.037974692881107,-0.104786291718483,-0.011859784834087,-0.060135398060083,-0.058410573750734,0.104324698448181,-0.064732491970062,-0.014377272687852,0.035986598581076));
res += mul(Get(s2,dx,dy), float4x4(-0.006094408687204,0.144706234335899,-0.033436045050621,-0.188008323311806,0.079308770596981,-0.144183725118637,0.017817398533225,-0.054860796779394,0.007502953987569,-0.045045580714941,-0.036480955779552,-0.038756903260946,-0.035664912313223,0.054062806069851,-0.071104094386101,0.035448290407658));
res += mul(Get(s3,-dx,-dy), float4x4(-0.046495862305164,0.053640983998775,0.086157150566578,-0.032772827893496,0.019370051100850,0.057513240724802,0.075507536530495,0.100392296910286,0.026323525235057,0.015934318304062,-0.035813376307487,0.015544132329524,-0.028238831087947,-0.044617101550102,-0.007539245299995,-0.046606048941612));
res += mul(Get(s3,-dx,0), float4x4(0.082836508750916,-0.027230987325311,0.052503466606140,0.020649710670114,-0.016802756115794,-0.036051329225302,0.091127611696720,0.101620376110077,0.015622987411916,0.030607558786869,-0.011193701066077,-0.063665002584457,0.023051654919982,-0.006043985020369,0.037186775356531,0.077560715377331));
res += mul(Get(s3,-dx,dy), float4x4(-0.007812192663550,0.055947858840227,-0.011163490824401,0.017969219014049,-0.069620475172997,-0.042762517929077,-0.057506825774908,0.003211349481717,0.062379736453295,-0.033977173268795,-0.030767831951380,-0.020489200949669,0.014938269741833,-0.016572412103415,-0.039446804672480,-0.094207540154457));
res += mul(Get(s3,0,-dy), float4x4(-0.081059508025646,0.083002127707005,-0.026140786707401,0.019017018377781,0.048866171389818,0.121775887906551,-0.043077994138002,0.029203046113253,0.123054556548595,0.004186552949250,-0.018132667988539,-0.023320455104113,-0.056290265172720,-0.156279504299164,-0.093219816684723,0.053696889430285));
res += mul(Get(s3,0,0), float4x4(0.076103217899799,-0.005257034674287,-0.029940925538540,0.013639248907566,-0.077245801687241,-0.084270760416985,-0.006865696050227,0.068141855299473,-0.080501094460487,0.028926014900208,-0.054952163249254,0.026790840551257,0.008437889628112,0.081238925457001,-0.038486722856760,0.041813071817160));
res += mul(Get(s3,0,dy), float4x4(-0.062295805662870,-0.008006981573999,-0.006534477695823,-0.096505023539066,0.047706469893456,0.053003106266260,0.043194260448217,0.013358522206545,0.001292330911383,0.023015692830086,0.018400317057967,0.073487199842930,0.003557612188160,-0.005065791308880,-0.050879202783108,-0.063105382025242));
res += mul(Get(s3,dx,-dy), float4x4(0.071182489395142,-0.090215109288692,-0.112794369459152,-0.007499646861106,0.021664287894964,0.131001710891724,0.009355742484331,-0.006952745374292,0.050606645643711,0.048956111073494,-0.124754719436169,-0.068061262369156,0.060201775282621,0.000953248061705,0.019165752455592,-0.027866804972291));
res += mul(Get(s3,dx,0), float4x4(0.071992464363575,-0.016776680946350,0.042458821088076,0.053747955709696,-0.004648181609809,-0.104786947369576,0.066668108105659,-0.002360226819292,-0.020444439724088,0.108156710863113,0.041180428117514,0.027331972494721,-0.048267509788275,-0.134841218590736,0.060543138533831,-0.061216324567795));
res += mul(Get(s3,dx,dy), float4x4(-0.015469425357878,-0.027544753625989,-0.057300675660372,0.025914821773767,-0.011926271952689,0.062959603965282,0.015610598027706,0.002760824281722,-0.054228503257036,-0.155483528971672,0.039199966937304,-0.048042275011539,-0.010152758099139,0.009273433126509,-0.057589765638113,-0.008668475784361));
return max(float4(0,0,0,0), res);
}
