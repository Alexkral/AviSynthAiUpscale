sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.001385028823279,-0.014714664779603,0.015193602070212,-0.026449497789145,-0.121021300554276,0.094665013253689,-0.065399661660194,-0.081045493483543,-0.102515466511250,-0.026794981211424,-0.007697850465775,0.011745573952794,-0.036350052803755,-0.050247661769390,-0.047398317605257,-0.027794072404504));
res += mul(Get(s0,-dx,0), float4x4(0.087845072150230,-0.038990281522274,-0.008990715257823,0.002799485810101,0.167260736227036,-0.044369872659445,0.011502185836434,-0.016366025432944,-0.042627118527889,0.032511290162802,-0.035372953861952,0.058225978165865,-0.017692115157843,-0.035245142877102,-0.050066109746695,-0.059530630707741));
res += mul(Get(s0,-dx,dy), float4x4(-0.005313451401889,-0.063566833734512,0.029129274189472,0.085635833442211,-0.002746629528701,-0.037455119192600,0.094788745045662,0.117420606315136,-0.041335444897413,-0.080271698534489,-0.021608613431454,-0.052404180169106,-0.050878472626209,-0.077368043363094,-0.060295760631561,-0.014049496501684));
res += mul(Get(s0,0,-dy), float4x4(0.042043298482895,0.025711551308632,0.019917963072658,0.027761500328779,-0.014968362636864,0.126810729503632,-0.036926820874214,-0.037490949034691,-0.133555471897125,-0.091370813548565,0.043802093714476,-0.020120227709413,0.035685595124960,-0.075656548142433,-0.015841932967305,-0.000895275385119));
res += mul(Get(s0,0,0), float4x4(0.048559494316578,0.009219327010214,0.034681145101786,0.003357936860994,-0.042478162795305,-0.101898640394211,0.041952066123486,0.043073583394289,-0.087041817605495,0.026644665747881,0.033615753054619,-0.046837504953146,-0.033952906727791,-0.011954108253121,-0.029234729707241,0.021773120388389));
res += mul(Get(s0,0,dy), float4x4(0.119691930711269,-0.086294725537300,-0.018140928819776,0.023394210264087,0.130671292543411,-0.083956182003021,-0.028646867722273,-0.078973881900311,-0.115575060248375,0.149519503116608,0.022862469777465,0.176761582493782,-0.030797060579062,-0.029092317447066,-0.011128193698823,-0.002845691284165));
res += mul(Get(s0,dx,-dy), float4x4(-0.016065809875727,-0.009844589047134,-0.008890038356185,0.010237923823297,0.001412639161572,0.154238015413284,-0.063581429421902,-0.151261925697327,-0.102052576839924,-0.058585990220308,0.101634971797466,-0.026326822116971,0.118867434561253,-0.030259549617767,-0.081432469189167,0.068122580647469));
res += mul(Get(s0,dx,0), float4x4(0.127687498927116,0.077199734747410,0.000597532314714,-0.019449217244983,-0.078376933932304,-0.056954864412546,-0.002900182968006,0.095669604837894,0.120038561522961,-0.056835856288671,0.063507936894894,-0.030178183689713,0.154469385743141,0.009720657020807,0.003651611041278,0.113489478826523));
res += mul(Get(s0,dx,dy), float4x4(0.055546898394823,-0.088503904640675,-0.063142202794552,0.106621451675892,0.115033216774464,-0.034400198608637,0.014362070709467,0.052904915064573,-0.021371291950345,0.004702847916633,0.048926260322332,0.018310250714421,0.095899589359760,-0.027479479089379,0.084230296313763,0.137108579277992));
res += mul(Get(s1,-dx,-dy), float4x4(0.035592425614595,0.050323121249676,-0.012268052436411,-0.010892200283706,-0.023347267881036,0.059888087213039,-0.024835089221597,-0.075798489153385,-0.004517382476479,-0.026944028213620,-0.006539495661855,0.000317795551382,-0.031637094914913,0.037229120731354,0.029394902288914,-0.098456211388111));
res += mul(Get(s1,-dx,0), float4x4(0.121459811925888,0.024479530751705,-0.068009473383427,0.034784212708473,-0.048313964158297,0.040078781545162,-0.049050636589527,0.066271953284740,0.037273664027452,-0.119392320513725,0.045734979212284,-0.056796222925186,0.014877371490002,-0.034352067857981,0.200395733118057,0.035470366477966));
res += mul(Get(s1,-dx,dy), float4x4(0.005897324997932,0.035400211811066,-0.029867747798562,0.086357675492764,-0.003961001057178,-0.029337868094444,-0.170273110270500,0.084030248224735,0.038552567362785,-0.111690752208233,-0.088386416435242,0.017097149044275,-0.084645308554173,-0.003562031779438,0.186434328556061,0.001435634447262));
res += mul(Get(s1,0,-dy), float4x4(-0.002644254127517,0.094944059848785,0.043400269001722,-0.004779099021107,0.072281941771507,0.123731948435307,0.005051543936133,-0.006411962211132,-0.005829422269017,0.167984291911125,-0.065348811447620,-0.034147076308727,0.108086861670017,0.044155452400446,-0.060119032859802,-0.034951943904161));
res += mul(Get(s1,0,0), float4x4(-0.086479410529137,-0.005430263001472,-0.019356464967132,-0.019351195544004,-0.071312651038170,-0.029135284945369,-0.037472382187843,0.114707559347153,-0.029663138091564,0.008466269820929,-0.067935571074486,0.139007091522217,-0.044179167598486,-0.143525376915932,-0.030534479767084,-0.114325203001499));
res += mul(Get(s1,0,dy), float4x4(-0.149074792861938,0.013538241386414,-0.021557170897722,0.109385065734386,0.054862666875124,-0.001946620759554,-0.140721485018730,-0.046650502830744,0.057364989072084,-0.103079542517662,-0.017469061538577,0.000839958607685,0.010488968342543,0.033246006816626,0.153641805052757,-0.042231362313032));
res += mul(Get(s1,dx,-dy), float4x4(0.063458926975727,0.101458497345448,0.103609889745712,-0.018814181908965,-0.050130967050791,-0.026576455682516,0.116712033748627,-0.026671577244997,0.009722652845085,0.041077222675085,-0.075351566076279,-0.052380386739969,0.051470454782248,-0.014101256616414,-0.083051905035973,-0.024604870006442));
res += mul(Get(s1,dx,0), float4x4(-0.038117837160826,0.047652654349804,-0.002360738581046,-0.037780310958624,-0.056886699050665,-0.064739592373371,-0.087502568960190,-0.016677878797054,-0.067382022738457,-0.049685169011354,-0.084811717271805,-0.016672478988767,-0.120111942291260,0.027785426005721,-0.007292856462300,-0.012514843605459));
res += mul(Get(s1,dx,dy), float4x4(-0.133287146687508,-0.017770497128367,0.066712863743305,0.036707747727633,0.008276467211545,0.023015310987830,-0.101697668433189,0.077773027122021,0.029488369822502,0.003743259701878,-0.000192414052435,-0.044371377676725,-0.057765807956457,0.089835457503796,0.043417297303677,0.037586532533169));
res += mul(Get(s2,-dx,-dy), float4x4(0.017614075914025,-0.073317229747772,-0.006478092633188,-0.023484213277698,0.022327914834023,-0.023907061666250,-0.078543886542320,0.039162691682577,0.034809798002243,0.038453724235296,-0.039922483265400,0.025863314047456,0.034967139363289,-0.030886335298419,-0.014524996280670,-0.035786580294371));
res += mul(Get(s2,-dx,0), float4x4(0.102005407214165,0.002134775044397,-0.131405889987946,-0.010744525119662,0.016478158533573,-0.007785643916577,-0.036395259201527,0.012827559374273,0.104815453290939,-0.063947021961212,-0.056536961346865,0.027406385168433,0.042852230370045,-0.017801703885198,0.046889204531908,-0.063214756548405));
res += mul(Get(s2,-dx,dy), float4x4(0.158044248819351,0.001004512771033,-0.187053516507149,0.040629953145981,-0.010614788159728,-0.011158049106598,0.073273077607155,0.066614180803299,0.049581229686737,-0.013538802042603,-0.041021607816219,0.037646144628525,0.001661951886490,-0.113932989537716,-0.093242965638638,-0.069350510835648));
res += mul(Get(s2,0,-dy), float4x4(-0.065094552934170,-0.002107343170792,-0.019017534330487,-0.051530700176954,-0.023770103231072,0.040580980479717,0.049629122018814,0.044808659702539,0.093902572989464,0.101460605859756,0.020019046962261,-0.039267700165510,0.022061724215746,0.027486925944686,0.007845613174140,-0.040972419083118));
res += mul(Get(s2,0,0), float4x4(-0.130424126982689,0.163649082183838,-0.038318287581205,0.244312405586243,0.016758751124144,0.036530707031488,0.109455540776253,-0.000478827336337,-0.033679496496916,-0.010749282315373,-0.007255762815475,0.161654785275459,0.148132070899010,-0.005234364885837,0.035311050713062,-0.039483282715082));
res += mul(Get(s2,0,dy), float4x4(0.011639281176031,0.004579192493111,-0.143738150596619,-0.006840718444437,0.076803907752037,-0.023010553792119,0.038698967546225,-0.050066851079464,0.069046854972839,-0.002479688264430,0.077229179441929,-0.043205924332142,-0.086724132299423,0.168573752045631,-0.048939116299152,0.332266718149185));
res += mul(Get(s2,dx,-dy), float4x4(-0.121061861515045,-0.030959431082010,-0.080773003399372,-0.077352792024612,-0.010881993919611,-0.038516256958246,0.023331135511398,-0.014897879213095,0.071499511599541,0.033043164759874,-0.049673154950142,-0.030333343893290,-0.062445461750031,0.112854875624180,-0.051634199917316,-0.011977287940681));
res += mul(Get(s2,dx,0), float4x4(-0.096691086888313,0.072053730487823,-0.045025225728750,0.146945223212242,-0.021860839799047,0.013610430993140,-0.008518012240529,0.023010950535536,0.016826504841447,-0.011378904804587,-0.095605701208115,-0.074579402804375,0.100450366735458,-0.073052130639553,0.055255066603422,-0.012546817772090));
res += mul(Get(s2,dx,dy), float4x4(-0.042341314256191,-0.095294989645481,-0.086974173784256,-0.130678489804268,0.035716015845537,0.005013515707105,-0.106517583131790,-0.060221701860428,0.036175504326820,-0.058103509247303,0.059289649128914,0.001734850695357,-0.008621037006378,-0.024515032768250,0.132891416549683,-0.083381429314613));
res += mul(Get(s3,-dx,-dy), float4x4(0.079458065330982,-0.078645817935467,0.019720595330000,0.045761473476887,0.014388880692422,0.022545808926225,0.099142670631409,0.021504253149033,-0.066270023584366,-0.007190573960543,-0.165214210748672,0.018761476501822,0.061685770750046,-0.012805853039026,-0.017696155235171,-0.042411770671606));
res += mul(Get(s3,-dx,0), float4x4(0.036723937839270,0.015266119502485,-0.002384199760854,-0.015662450343370,-0.017658077180386,0.036059781908989,0.213586047291756,0.080424629151821,0.060270622372627,-0.056354556232691,-0.029741553589702,0.029537038877606,0.077423378825188,0.029295373708010,0.028620004653931,-0.047246392816305));
res += mul(Get(s3,-dx,dy), float4x4(-0.010170798748732,-0.014465672895312,-0.071653440594673,0.029429728165269,0.041356123983860,-0.032626777887344,0.063308477401733,0.022608652710915,0.095680102705956,0.001716710510664,0.066828019917011,0.001516749034636,-0.028482681140304,-0.051667198538780,0.034368187189102,0.028580227866769));
res += mul(Get(s3,0,-dy), float4x4(0.041260987520218,-0.064164064824581,0.004524816293269,-0.010908749885857,-0.058759268373251,0.009058104828000,0.057763502001762,0.029858965426683,0.009922847151756,-0.083628945052624,0.027082359418273,-0.048223003745079,0.079919584095478,0.011739111505449,0.127019882202148,-0.072902821004391));
res += mul(Get(s3,0,0), float4x4(-0.014392005279660,0.030930535867810,0.048332329839468,0.032073091715574,-0.058333754539490,-0.037645902484655,-0.057180538773537,-0.048420745879412,-0.001314964261837,0.030174938961864,0.142953366041183,0.049856752157211,0.069583147764206,-0.019888868555427,0.014756634831429,-0.090925969183445));
res += mul(Get(s3,0,dy), float4x4(0.044524457305670,0.010291556827724,-0.063126228749752,-0.035476505756378,0.026551485061646,0.035607933998108,0.151421800255775,0.036166463047266,-0.009611307643354,-0.001016312278807,-0.061008028686047,0.173547074198723,0.098202615976334,-0.008980813436210,-0.049318019300699,-0.037712439894676));
res += mul(Get(s3,dx,-dy), float4x4(0.080021657049656,-0.057036135345697,-0.042252529412508,-0.030604740604758,-0.023126527667046,-0.021651564165950,0.075814299285412,-0.052582368254662,-0.044293060898781,-0.061673574149609,0.041669316589832,-0.066159524023533,-0.015077489428222,-0.013854416087270,-0.064529635012150,-0.041913568973541));
res += mul(Get(s3,dx,0), float4x4(-0.021781044080853,0.059740085154772,0.143706396222115,0.078578606247902,-0.103138886392117,-0.051757670938969,-0.062009301036596,-0.022115660831332,0.013379647396505,0.006668783724308,0.095738984644413,-0.113926693797112,-0.044505689293146,-0.031723447144032,-0.122357703745365,-0.046167105436325));
res += mul(Get(s3,dx,dy), float4x4(-0.003401729511097,0.011135818436742,-0.085564598441124,-0.076507486402988,-0.011049451306462,-0.011095954105258,0.145843490958214,0.028121165931225,0.010553759522736,0.003392155980691,0.021230487152934,-0.092122495174408,-0.017907900735736,0.010087260045111,-0.035677328705788,0.046871934086084));
return max(float4(0,0,0,0), res);
}
