sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.093392066657543,0.085446730256081,-0.031003719195724,-0.006842815317214,0.032789491117001,-0.059351123869419,0.048080988228321,-0.003962842747569,-0.035492070019245,-0.008619061671197,0.129868030548096,0.066479019820690,-0.080292113125324,-0.119221165776253,0.018258783966303,0.022363016381860));
res += mul(Get(s0,-dx,0), float4x4(-0.024424994364381,-0.083706155419350,-0.146659985184669,-0.055459238588810,-0.032882131636143,-0.066542744636536,-0.039153404533863,0.100102245807648,0.044849075376987,-0.050785403698683,0.027071032673120,0.010778125375509,-0.055916827172041,0.008690990507603,-0.034095935523510,-0.038682211190462));
res += mul(Get(s0,-dx,dy), float4x4(-0.001785913831554,0.087748803198338,-0.062373895198107,-0.069833956658840,0.105921640992165,-0.022392954677343,-0.056660577654839,0.049220919609070,0.069329597055912,0.090430773794651,0.057384103536606,-0.062663622200489,0.022332105785608,-0.148403093218803,0.032833315432072,0.143607228994370));
res += mul(Get(s0,0,-dy), float4x4(0.092386461794376,0.000682455371134,-0.039807606488466,0.067872740328312,-0.068774528801441,-0.138214215636253,0.047500494867563,-0.029123822227120,0.011005688458681,-0.016106233000755,-0.008664626628160,0.075719222426414,0.030065866187215,-0.085830897092819,0.073450021445751,0.121413387358189));
res += mul(Get(s0,0,0), float4x4(-0.072699241340160,0.083551399409771,-0.107561938464642,-0.022078195586801,-0.000231119862292,-0.023911559954286,0.064495094120502,0.050976369529963,0.027977993711829,0.038603819906712,-0.054934151470661,-0.028775351122022,0.032699588686228,0.115901552140713,0.016112415120006,0.114843070507050));
res += mul(Get(s0,0,dy), float4x4(-0.048250783234835,0.090865224599838,-0.034987151622772,-0.069828018546104,0.022227143868804,0.155356898903847,-0.120148025453091,-0.032557338476181,0.035583630204201,-0.024666545912623,-0.111403457820415,0.043927479535341,0.046635091304779,-0.047780469059944,0.011316225863993,0.001887016813271));
res += mul(Get(s0,dx,-dy), float4x4(0.082672066986561,0.093487575650215,0.083301275968552,0.098127156496048,-0.001211304566823,0.029400559142232,0.043260093778372,0.118195742368698,0.129918426275253,-0.047315318137407,0.085276834666729,-0.022033430635929,-0.065040938556194,-0.019432693719864,-0.033666156232357,0.087479814887047));
res += mul(Get(s0,dx,0), float4x4(-0.080143675208092,0.077197864651680,0.025347229093313,0.045956924557686,-0.011693763546646,0.017642624676228,-0.100376911461353,-0.146537020802498,-0.039981115609407,-0.040152765810490,-0.017671233043075,0.037691269069910,0.035424456000328,0.130067691206932,-0.012318216264248,0.007306232117116));
res += mul(Get(s0,dx,dy), float4x4(-0.138043746352196,0.020697344094515,-0.030431080609560,-0.025068694725633,-0.072140969336033,-0.017611177638173,0.024451032280922,0.024554863572121,-0.005426174495369,-0.021480452269316,0.045374933630228,-0.018354231491685,-0.024385398253798,-0.008942943066359,0.056126032024622,0.062135133892298));
res += mul(Get(s1,-dx,-dy), float4x4(0.015199701301754,-0.052283506840467,0.214722961187363,0.031171526759863,0.041904088109732,0.117882400751114,-0.012965046800673,0.029924225062132,-0.029042089357972,0.050013311207294,0.046267904341221,0.092590488493443,0.045625746250153,-0.004410731606185,-0.035187970846891,-0.003920590970665));
res += mul(Get(s1,-dx,0), float4x4(-0.142147138714790,0.015093645080924,0.018268022686243,0.087211705744267,0.066781900823116,-0.050301253795624,-0.009861029684544,0.072863735258579,-0.029578099027276,0.032117515802383,0.012898257933557,-0.016142757609487,-0.082851335406303,-0.028396788984537,0.057680543512106,-0.104372307658195));
res += mul(Get(s1,-dx,dy), float4x4(-0.057708244770765,0.107284300029278,0.022727062925696,-0.040440637618303,-0.011007147841156,-0.011607896536589,-0.002018462633714,-0.076107986271381,-0.005313391331583,0.115864820778370,0.027156546711922,0.056161601096392,-0.101824462413788,-0.044225443154573,-0.013136504217982,0.105311021208763));
res += mul(Get(s1,0,-dy), float4x4(-0.115189582109451,0.076383322477341,-0.017209973186255,0.052313975989819,-0.021407803520560,-0.026970323175192,0.078794158995152,0.113321341574192,-0.013066860847175,-0.042798560112715,-0.022191066294909,-0.014168199151754,-0.055241301655769,-0.047157093882561,0.094631463289261,0.009950819425285));
res += mul(Get(s1,0,0), float4x4(-0.002815149025992,0.002723382785916,-0.096465177834034,0.037703815847635,0.001215750235133,-0.044705569744110,0.129895865917206,0.019722906872630,-0.036034025251865,0.107847139239311,-0.065440870821476,-0.126127257943153,0.138742446899414,-0.051322810351849,0.068540282547474,-0.051774300634861));
res += mul(Get(s1,0,dy), float4x4(-0.055733893066645,0.009143749251962,0.090644396841526,-0.033412136137486,0.032415553927422,0.142698943614960,0.086126610636711,-0.019024662673473,0.067795269191265,-0.097428925335407,0.130315467715263,0.050393071025610,0.098495341837406,-0.085300795733929,0.078704036772251,0.109670490026474));
res += mul(Get(s1,dx,-dy), float4x4(-0.049873445183039,-0.034269992262125,0.062412708997726,0.006100847851485,0.001821178360842,-0.057459462434053,-0.064892314374447,-0.029497966170311,-0.046779446303844,0.146713793277740,-0.067737393081188,-0.077367529273033,0.053069334477186,-0.028442123904824,-0.030080709606409,-0.042626038193703));
res += mul(Get(s1,dx,0), float4x4(0.022171745076776,-0.068400949239731,0.079440586268902,0.123352661728859,-0.048370428383350,0.075478844344616,0.009926737286150,0.045224778354168,0.063763156533241,0.057644419372082,0.193532496690750,-0.084856808185577,-0.012780168093741,-0.005537634715438,-0.093925617635250,-0.033261448144913));
res += mul(Get(s1,dx,dy), float4x4(-0.086231708526611,-0.024405054748058,0.150129765272141,-0.074528448283672,-0.055809654295444,0.059952944517136,-0.073103517293930,0.122985914349556,-0.042989913374186,0.009124334901571,-0.159013345837593,-0.003742415923625,-0.042768802493811,0.009851332753897,0.093501806259155,-0.061478801071644));
res += mul(Get(s2,-dx,-dy), float4x4(-0.020763015374541,-0.014823741279542,0.011431922204792,-0.114001654088497,0.007729840930551,-0.026520587503910,0.058493800461292,-0.006501513533294,-0.076350487768650,-0.007446138653904,0.102248072624207,0.005595817696303,-0.064261190593243,-0.042543105781078,0.047709837555885,0.060142498463392));
res += mul(Get(s2,-dx,0), float4x4(0.015036402270198,0.051963347941637,-0.125545158982277,0.015294330194592,-0.095432147383690,-0.001459308434278,0.104554586112499,-0.020321268588305,-0.099318765103817,0.076708510518074,0.005116766318679,0.001051520463079,-0.002819169312716,-0.045986875891685,-0.087155796587467,0.048290207982063));
res += mul(Get(s2,-dx,dy), float4x4(0.097583979368210,0.054906491190195,-0.060701455920935,-0.243493154644966,0.027617778629065,0.043079413473606,-0.105395898222923,0.034499127417803,0.087067432701588,0.055622488260269,0.014013267122209,0.058142632246017,0.103588879108429,0.001287157298066,0.092288449406624,0.071908161044121));
res += mul(Get(s2,0,-dy), float4x4(0.041884686797857,-0.042369123548269,-0.066694676876068,-0.062674380838871,-0.032647032290697,-0.104027792811394,-0.093725770711899,-0.011296906508505,-0.012599035166204,0.031152848154306,-0.018792910501361,0.126528918743134,0.028488727286458,-0.039136681705713,-0.056462571024895,0.054264280945063));
res += mul(Get(s2,0,0), float4x4(0.088977262377739,-0.013115812093019,-0.081054508686066,-0.034296467900276,0.012868157587945,0.023308647796512,-0.104862347245216,-0.037088334560394,0.007030113600194,0.079800307750702,0.029118679463863,0.230523571372032,0.026876131072640,-0.092589184641838,0.053267937153578,0.050249811261892));
res += mul(Get(s2,0,dy), float4x4(-0.072777271270752,0.002607007976621,0.137345135211945,0.040358185768127,-0.011253304779530,0.052740328013897,-0.054534509778023,0.081697560846806,-0.033163454383612,-0.090275093913078,-0.134632468223572,-0.044512297958136,-0.055979695171118,0.094776384532452,0.064959995448589,0.027084711939096));
res += mul(Get(s2,dx,-dy), float4x4(-0.141663387417793,-0.055687353014946,-0.087890952825546,0.008105717599392,0.092485181987286,0.034298572689295,0.064739003777504,-0.139928489923477,0.028395475819707,-0.039189238101244,0.019761674106121,-0.008905388414860,0.019463848322630,0.069388225674629,-0.017393112182617,0.001626779674552));
res += mul(Get(s2,dx,0), float4x4(-0.024956960231066,-0.033385898917913,-0.031840898096561,0.040566153824329,-0.068338252604008,0.005312834866345,-0.013967220671475,-0.067711330950260,-0.008840504102409,-0.047094170004129,-0.022998511791229,-0.014073930680752,-0.139738589525223,0.021630162373185,0.012174192816019,0.169792652130127));
res += mul(Get(s2,dx,dy), float4x4(-0.075593881309032,0.047570340335369,0.135300710797310,-0.036778412759304,-0.030819810926914,0.054995842278004,0.027741473168135,-0.057584702968597,0.022882333025336,-0.051932685077190,-0.088398739695549,0.037499349564314,0.061618760228157,0.099610328674316,-0.059911344200373,0.101635590195656));
res += mul(Get(s3,-dx,-dy), float4x4(-0.011698622256517,-0.122418530285358,0.105074681341648,0.012826758436859,-0.021568519994617,-0.034560948610306,0.068008236587048,0.030073594301939,-0.071322686970234,0.037386100739241,0.020702943205833,0.003492635674775,0.001570916967466,0.100061453878880,0.037288043648005,-0.059758774936199));
res += mul(Get(s3,-dx,0), float4x4(-0.006744452286512,-0.096384331583977,0.004224592819810,-0.009072430431843,-0.018137380480766,0.071715191006660,0.020144492387772,0.029225910082459,0.030197598040104,0.052658412605524,0.017269469797611,0.137074887752533,-0.036837104707956,-0.064675271511078,0.129017561674118,0.108193971216679));
res += mul(Get(s3,-dx,dy), float4x4(0.124534755945206,-0.098464049398899,0.019310666248202,0.023204196244478,-0.125809431076050,0.008701175451279,-0.031271558254957,-0.068847894668579,-0.009803239256144,0.072780303657055,-0.034405898302794,-0.014746404252946,0.047131709754467,0.034033305943012,0.022666426375508,0.080443747341633));
res += mul(Get(s3,0,-dy), float4x4(0.026604939252138,0.060542363673449,0.009576583281159,-0.011388329789042,0.001039352035150,-0.069971688091755,-0.000214852247154,0.082067951560020,0.025593448430300,0.074306398630142,-0.081467881798744,-0.032822474837303,-0.082288041710854,0.047067329287529,-0.012703908607364,-0.098165817558765));
res += mul(Get(s3,0,0), float4x4(0.075309582054615,0.053189832717180,0.070473857223988,-0.025887556374073,-0.020922090858221,-0.074239768087864,0.150021925568581,-0.018736537545919,0.051463179290295,0.004708526656032,0.038985408842564,-0.072719775140285,-0.046064924448729,0.067603640258312,0.053024392575026,-0.080588176846504));
res += mul(Get(s3,0,dy), float4x4(0.067046329379082,-0.051135849207640,0.005593931302428,-0.035979889333248,-0.112949654459953,0.004823931958526,0.013220000080764,-0.050223413854837,-0.069618657231331,0.072861075401306,-0.058540899306536,0.065836079418659,0.092490158975124,-0.028487863019109,-0.100980646908283,0.009179126471281));
res += mul(Get(s3,dx,-dy), float4x4(-0.028465965762734,-0.085506945848465,0.020187128335238,-0.096250675618649,-0.039365053176880,-0.026078157126904,-0.060497071594000,0.068950660526752,-0.019045267254114,0.027169259265065,0.004580019507557,0.069125719368458,0.025461392477155,-0.000916884338949,0.035051699727774,0.014108414761722));
res += mul(Get(s3,dx,0), float4x4(-0.002173094544560,0.050502497702837,0.159243986010551,0.045965734869242,-0.082343138754368,0.030950890854001,0.000710867578164,0.026004930958152,-0.110770069062710,0.126639574766159,0.037176717072725,0.077440783381462,-0.126618087291718,0.064520582556725,0.189310610294342,0.025689294561744));
res += mul(Get(s3,dx,dy), float4x4(-0.013839488849044,0.013967946171761,-0.059729583561420,0.039377219974995,0.015704020857811,0.014415236189961,-0.049327697604895,0.004056955687702,-0.057949662208557,0.108589164912701,-0.031010093167424,0.002033312804997,-0.009522235952318,0.010859316214919,0.045281380414963,0.155527710914612));
return max(float4(0,0,0,0), res);
}
