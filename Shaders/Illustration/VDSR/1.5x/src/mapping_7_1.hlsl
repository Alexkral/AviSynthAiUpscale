sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.097327172756195,-0.083810374140739,-0.092624686658382,0.016890266910195,0.107040166854858,-0.015085335820913,0.055373888462782,0.062109578400850,-0.078612864017487,0.008208031766117,-0.066263951361179,-0.008554590865970,-0.000177594294655,-0.113269381225109,-0.043923150748014,0.006018443033099));
res += mul(Get(s0,-dx,0), float4x4(-0.072702400386333,0.065187290310860,-0.002051402581856,0.129611358046532,0.076820276677608,0.007436696905643,-0.120755001902580,0.036202415823936,-0.038523297756910,-0.028830209746957,0.106004148721695,0.031710848212242,0.122507065534592,0.022857794538140,0.056596223264933,0.057229682803154));
res += mul(Get(s0,-dx,dy), float4x4(0.095090866088867,-0.061318874359131,0.024361070245504,0.119637303054333,0.135940581560135,-0.029753819108009,0.056989043951035,0.098470605909824,-0.102351479232311,-0.010086320340633,0.067785263061523,-0.064722232520580,0.204861417412758,-0.060627382248640,-0.032696202397346,0.032611023634672));
res += mul(Get(s0,0,-dy), float4x4(-0.173733383417130,-0.005683777853847,0.025578120723367,0.010372917167842,0.030903307721019,0.072301283478737,0.009328485466540,0.032759562134743,0.008092137984931,-0.196598351001740,0.007745494134724,-0.066355906426907,0.026530450209975,-0.044094733893871,-0.129487067461014,-0.044021561741829));
res += mul(Get(s0,0,0), float4x4(-0.151890859007835,-0.057002451270819,0.008577294647694,0.116213478147984,-0.038539223372936,0.092336520552635,0.015572142787278,0.029642507433891,-0.052662700414658,-0.021431080996990,-0.007888244464993,0.123512893915176,0.042423948645592,0.032287124544382,-0.062135115265846,-0.023196687921882));
res += mul(Get(s0,0,dy), float4x4(0.092301599681377,-0.024019269272685,-0.018190188333392,0.097799278795719,0.025892151519656,0.000880152860191,-0.057310834527016,-0.043942671269178,-0.032568927854300,-0.036091770976782,-0.074488416314125,0.055313672870398,0.030646326020360,-0.025690147653222,0.078327141702175,-0.026415431872010));
res += mul(Get(s0,dx,-dy), float4x4(-0.096534788608551,0.057015854865313,-0.044594135135412,0.173861786723137,-0.143517509102821,-0.126241281628609,0.043937988579273,0.008778632618487,0.158180728554726,-0.028965106233954,0.077695958316326,-0.103918954730034,0.017723543569446,0.025134515017271,0.047059290111065,0.015578907914460));
res += mul(Get(s0,dx,0), float4x4(0.009353903122246,-0.066208638250828,-0.089364208281040,0.007541113067418,-0.015074795112014,0.000109762877400,-0.010550090111792,0.047674100846052,-0.050873748958111,-0.009672618471086,0.055058199912310,-0.007219160441309,0.155210539698601,-0.010524578392506,-0.032715704292059,-0.005638973321766));
res += mul(Get(s0,dx,dy), float4x4(0.038866966962814,0.018673308193684,-0.089195080101490,-0.005291891284287,0.096329428255558,0.086390174925327,0.024436382576823,-0.031562387943268,0.010316103696823,-0.094171844422817,0.058981530368328,-0.040058203041553,0.028727298602462,-0.030908299610019,-0.028683984652162,0.003890072694048));
res += mul(Get(s1,-dx,-dy), float4x4(-0.097585536539555,-0.021776512265205,0.025694813579321,-0.003195264842361,-0.073323361575603,0.067448154091835,0.078279234468937,0.082278706133366,-0.029771560803056,-0.071209408342838,-0.102630630135536,0.049176596105099,0.004719818010926,0.153996199369431,-0.012593229301274,-0.044285725802183));
res += mul(Get(s1,-dx,0), float4x4(-0.036619093269110,-0.078217536211014,0.005632257089019,0.036033585667610,-0.123691357672215,0.033261083066463,0.007865477353334,0.054940205067396,-0.033520847558975,-0.004759224597365,-0.091124854981899,-0.008826194331050,0.037438452243805,0.070520773530006,0.072992675006390,0.120056420564651));
res += mul(Get(s1,-dx,dy), float4x4(-0.164550423622131,0.020598903298378,0.067302763462067,-0.024083953350782,0.057809330523014,-0.033042024821043,0.083849072456360,0.007229148875922,-0.089231811463833,0.013465572148561,-0.009011110290885,0.094749197363853,-0.005987411830574,0.039914544671774,0.107899092137814,0.087317779660225));
res += mul(Get(s1,0,-dy), float4x4(-0.086709901690483,0.052080098539591,-0.039194956421852,-0.004384123720229,-0.014195621013641,-0.070976935327053,0.053843431174755,-0.031800653785467,0.067530840635300,-0.011442383751273,-0.072998173534870,0.044827554374933,-0.091511361300945,-0.001254843780771,-0.029038146138191,-0.088431239128113));
res += mul(Get(s1,0,0), float4x4(-0.054136130958796,0.022089658305049,-0.059376161545515,0.036757837980986,0.047874785959721,-0.070828847587109,-0.095685832202435,0.088832020759583,0.074240542948246,-0.118545681238174,-0.093623071908951,0.142367750406265,0.029491294175386,-0.010139529593289,0.128155425190926,0.087604634463787));
res += mul(Get(s1,0,dy), float4x4(-0.055443417280912,0.000525672105141,-0.050046082586050,-0.013112649321556,0.116983339190483,-0.060490686446428,0.037927038967609,0.136114776134491,0.047571260482073,-0.106022931635380,0.111677415668964,0.023873724043369,0.002064328175038,0.133392468094826,-0.106250397861004,0.059646371752024));
res += mul(Get(s1,dx,-dy), float4x4(0.117861188948154,-0.050349377095699,-0.027657564729452,-0.062988899648190,0.090488247573376,-0.025981457903981,-0.001982721965760,0.047862865030766,-0.075288631021976,0.026487082242966,0.055017925798893,-0.030076561495662,0.224472299218178,-0.060875292867422,-0.100418947637081,0.053616266697645));
res += mul(Get(s1,dx,0), float4x4(-0.009159329347312,-0.117060951888561,-0.034419160336256,-0.076283872127533,-0.098551377654076,-0.030126022174954,-0.025304755195975,0.043376285582781,-0.077614434063435,-0.023585837334394,0.070112973451614,0.100873269140720,-0.031239908188581,0.052722644060850,-0.030170334503055,0.065036840736866));
res += mul(Get(s1,dx,dy), float4x4(-0.026611661538482,-0.049015227705240,-0.139437958598137,-0.098205246031284,-0.089286893606186,-0.058275800198317,-0.057347226887941,0.027936145663261,0.152797490358353,-0.072240374982357,0.043245658278465,-0.114694193005562,-0.048095650970936,0.033798616379499,-0.036389585584402,0.055049158632755));
res += mul(Get(s2,-dx,-dy), float4x4(0.054084073752165,0.029479367658496,0.048950228840113,-0.046123735606670,-0.093106687068939,0.070187091827393,-0.040250424295664,0.094157882034779,-0.046749502420425,0.034760944545269,-0.099152430891991,-0.074262239038944,0.030025657266378,-0.022165445610881,0.013344163075089,-0.032713294029236));
res += mul(Get(s2,-dx,0), float4x4(0.102270297706127,-0.010459695942700,0.061943788081408,0.106425009667873,0.081393815577030,0.003866550512612,0.067458122968674,-0.013682918623090,0.091169774532318,0.019663574174047,0.111529499292374,-0.046821802854538,-0.025848058983684,-0.005756276194006,0.032904468476772,0.052969034761190));
res += mul(Get(s2,-dx,dy), float4x4(0.041319023817778,0.099949650466442,-0.045433145016432,0.023846236988902,-0.062206484377384,0.094232372939587,0.156048849225044,0.072584450244904,-0.010007219389081,0.042727857828140,0.029311649501324,-0.030507933348417,-0.011586142703891,-0.114584602415562,0.025027995929122,-0.044576842337847));
res += mul(Get(s2,0,-dy), float4x4(0.066912084817886,0.058655235916376,0.100576668977737,-0.024251282215118,-0.093478552997112,-0.070239864289761,0.021992925554514,0.114504508674145,-0.049607019871473,0.080812349915504,0.013571265153587,0.108545653522015,-0.001770118484274,-0.051368393003941,-0.018793150782585,0.025510840117931));
res += mul(Get(s2,0,0), float4x4(-0.002160597359762,-0.105157606303692,0.031898256391287,0.028551286086440,0.026151450350881,-0.043229121714830,0.005830137059093,-0.082493938505650,0.048621300607920,0.045918066054583,-0.002431687898934,-0.063211321830750,0.017420159652829,0.058095287531614,0.020086249336600,0.140670344233513));
res += mul(Get(s2,0,dy), float4x4(-0.124760836362839,0.003307366743684,-0.122126251459122,-0.075624883174896,0.008138660341501,-0.033165834844112,0.019928332418203,-0.051371511071920,-0.028265126049519,-0.109346188604832,-0.069596514105797,0.040906719863415,-0.050912417471409,-0.070793427526951,-0.073456034064293,0.018060659989715));
res += mul(Get(s2,dx,-dy), float4x4(0.011430951766670,0.023040799424052,0.102349966764450,-0.045567173510790,-0.040219955146313,0.004439066164196,-0.028914617374539,0.032521110028028,0.027416478842497,-0.059339031577110,0.030402991920710,-0.020765742287040,-0.058144368231297,0.108599573373795,0.024387702345848,-0.062839597463608));
res += mul(Get(s2,dx,0), float4x4(0.253850698471069,-0.021012960001826,0.110044941306114,-0.031877364963293,-0.014096990227699,-0.003121424932033,-0.028527900576591,-0.060381174087524,-0.026423672214150,-0.125794783234596,0.058244023472071,0.092969030141830,0.042343616485596,-0.099573321640491,0.010228020139039,-0.052078694105148));
res += mul(Get(s2,dx,dy), float4x4(-0.000996884191409,-0.005473247263581,-0.069960691034794,-0.000921840197407,-0.060919906944036,0.039258413016796,-0.051247775554657,-0.091544657945633,-0.010648549534380,0.116304419934750,-0.113161168992519,0.066729821264744,-0.057350356131792,-0.080774717032909,-0.015082499012351,0.103605270385742));
res += mul(Get(s3,-dx,-dy), float4x4(0.139811351895332,0.018641840666533,0.026820342987776,0.007259089034051,-0.056540727615356,0.002986638108268,0.146542862057686,0.075428493320942,0.096570901572704,-0.136951923370361,-0.023831674829125,0.027182623744011,-0.043128184974194,-0.022988820448518,-0.051778793334961,-0.012143057771027));
res += mul(Get(s3,-dx,0), float4x4(0.030915677547455,-0.101387172937393,-0.042548254132271,0.148043081164360,-0.048598606139421,0.009360839612782,0.026332957670093,-0.038329113274813,-0.060609444975853,-0.020476408302784,-0.088369414210320,-0.031780373305082,0.055602241307497,0.056601215153933,0.016849508509040,-0.065469965338707));
res += mul(Get(s3,-dx,dy), float4x4(0.004600697197020,-0.161988168954849,-0.067460007965565,-0.013138530775905,-0.167086392641068,-0.132526531815529,-0.077003233134747,0.107853896915913,0.004145975690335,-0.130828276276588,0.084502257406712,0.127061158418655,-0.005240129772574,0.038914434611797,-0.050537772476673,0.002508657518774));
res += mul(Get(s3,0,-dy), float4x4(0.153689861297607,0.021169167011976,0.001907974830829,-0.062203124165535,-0.029182387515903,-0.039671141654253,0.010508577339351,-0.038897346705198,-0.102398596704006,-0.046975728124380,-0.029376728460193,-0.005907481070608,0.169924274086952,-0.009305223822594,0.053960900753736,-0.201967969536781));
res += mul(Get(s3,0,0), float4x4(-0.017307007685304,-0.086784124374390,-0.047786865383387,-0.010393249802291,0.059715688228607,0.002293789992109,0.065117985010147,0.171681538224220,-0.032257188111544,-0.037878140807152,-0.014474372379482,-0.052562043070793,0.084172643721104,0.087193548679352,-0.022864293307066,-0.052719864994287));
res += mul(Get(s3,0,dy), float4x4(0.027837608009577,-0.036864563822746,-0.115223117172718,-0.031802579760551,0.005837276577950,-0.024093665182590,0.166837066411972,0.113414190709591,0.114093400537968,-0.038954965770245,-0.028094455599785,-0.059771928936243,-0.000810129218735,-0.029473371803761,-0.055273942649364,-0.074746750295162));
res += mul(Get(s3,dx,-dy), float4x4(-0.016886584460735,-0.042200926691294,-0.088861271739006,-0.050057560205460,-0.039686135947704,-0.044535513967276,0.163347497582436,-0.005011727567762,-0.047285627573729,0.005207972135395,0.079589545726776,-0.079832471907139,-0.045189466327429,0.019820652902126,-0.086125150322914,0.006162365432829));
res += mul(Get(s3,dx,0), float4x4(0.178670033812523,0.065394230186939,-0.025591203942895,0.020506486296654,-0.070345669984818,0.006249695084989,0.012508762069046,-0.013121445663273,-0.073701240122318,-0.003033210523427,-0.044957585632801,0.120154716074467,-0.063892878592014,-0.017689172178507,-0.035643007606268,0.006146579980850));
res += mul(Get(s3,dx,dy), float4x4(0.002255066530779,-0.000101696277852,0.095773443579674,-0.035659760236740,-0.064028702676296,-0.162726670503616,-0.058970678597689,-0.024815609678626,-0.058097973465919,0.035593073815107,0.020679451525211,-0.053939413279295,0.038076534867287,0.059934232383966,-0.053027167916298,0.052009597420692));
return max(float4(0,0,0,0), res);
}
