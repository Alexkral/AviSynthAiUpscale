sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.040192097425461,-0.029784411191940,0.051588162779808,0.094307608902454,-0.001239388948306,-0.017555626109242,-0.116310939192772,0.028155332431197,0.004019965417683,-0.045062389224768,-0.040760822594166,0.035217437893152,0.004665420856327,-0.088272012770176,-0.002529015298933,-0.002164522185922));
res += mul(Get(s0,-dx,0), float4x4(-0.001567061874084,0.008404508233070,0.030192146077752,0.072681739926338,-0.152030229568481,0.056561980396509,-0.114438027143478,-0.067565061151981,0.081042662262917,-0.132522568106651,-0.036702532321215,0.047969214618206,-0.231870263814926,-0.115053512156010,-0.034142110496759,-0.002952696755528));
res += mul(Get(s0,-dx,dy), float4x4(0.022337350994349,0.073680698871613,-0.033850558102131,0.043257426470518,-0.068018890917301,-0.014578974805772,0.039831176400185,-0.085451833903790,-0.009017905220389,0.018513755872846,-0.010670161806047,0.001348073594272,0.146337375044823,0.043610617518425,-0.151076540350914,-0.094370588660240));
res += mul(Get(s0,0,-dy), float4x4(0.092060923576355,-0.051267400383949,0.010932640172541,0.122798457741737,0.032902963459492,-0.127246871590614,0.074088007211685,0.000209424571949,-0.031884662806988,-0.056238923221827,0.031913202255964,-0.029910080134869,0.006093353498727,-0.080458290874958,-0.032261542975903,-0.025325249880552));
res += mul(Get(s0,0,0), float4x4(0.024270681664348,0.100305065512657,-0.032506130635738,0.027161879464984,-0.056121513247490,-0.001908155973069,-0.129758507013321,0.126791298389435,-0.036031637340784,-0.109054535627365,0.059128418564796,0.037911333143711,-0.140050262212753,0.053299318999052,-0.092435881495476,0.007232012692839));
res += mul(Get(s0,0,dy), float4x4(0.013439447619021,0.037931431084871,0.001445323228836,-0.021830908954144,0.086527906358242,0.016541486606002,-0.034029494971037,0.014309720136225,0.041678320616484,-0.001261853380129,-0.035431254655123,0.067820519208908,0.162331312894821,0.145852461457253,-0.136218279600143,-0.084206879138947));
res += mul(Get(s0,dx,-dy), float4x4(-0.091801017522812,-0.010137792676687,0.133453264832497,0.054409138858318,0.021402409300208,-0.005962919909507,-0.005051684100181,-0.121584087610245,0.048294078558683,-0.115380123257637,0.020648406818509,0.029535353183746,0.044030230492353,0.007481420878321,-0.089596137404442,-0.067294783890247));
res += mul(Get(s0,dx,0), float4x4(-0.019335784018040,-0.052388031035662,-0.023888615891337,0.047928538173437,-0.011659659445286,-0.002426042687148,-0.010429809801280,-0.084175482392311,0.036247488111258,-0.025390749797225,0.049323789775372,0.011279676109552,-0.110086686909199,-0.078943997621536,-0.138427674770355,0.000691204215400));
res += mul(Get(s0,dx,dy), float4x4(0.045398574322462,0.016816791146994,-0.011109254322946,0.055920489132404,0.044087145477533,0.018683986738324,-0.050705332309008,-0.101723939180374,0.006021225824952,-0.033772066235542,0.037235658615828,-0.067829512059689,0.126111969351768,0.044789716601372,-0.027477255091071,-0.071686781942844));
res += mul(Get(s1,-dx,-dy), float4x4(0.001772756571881,0.026053275913000,0.013139827176929,0.026281099766493,-0.004163409117609,-0.004168937448412,-0.003942414186895,0.005021810997277,-0.064607866108418,0.199721559882164,0.003007529769093,0.054497033357620,0.007430518046021,-0.021079706028104,0.041800551116467,-0.050641056150198));
res += mul(Get(s1,-dx,0), float4x4(0.012437869794667,0.029917320236564,0.014471495524049,0.053665015846491,0.001117093372159,-0.003030457766727,0.001749757793732,-0.002735885325819,0.073470897972584,0.071251936256886,0.057228609919548,0.092158049345016,-0.034263808280230,-0.019970869645476,-0.008663978427649,-0.064668022096157));
res += mul(Get(s1,-dx,dy), float4x4(0.017738616093993,0.012079581618309,-0.000029986333175,0.052871976047754,-0.000034780379792,-0.005868036299944,0.000321825005813,0.002957827877253,0.022510752081871,-0.037627167999744,-0.004978474695235,0.086568966507912,0.004122488200665,0.022227501496673,0.020689373835921,-0.053666595369577));
res += mul(Get(s1,0,-dy), float4x4(0.001970882527530,0.039500836282969,0.009285273030400,-0.005377790424973,-0.006847964599729,0.005303053651005,-0.001648334553465,-0.003322119126096,0.013989319093525,0.168693646788597,-0.022426579147577,0.052970133721828,0.057010479271412,0.129767432808876,-0.010550688952208,-0.029896354302764));
res += mul(Get(s1,0,0), float4x4(0.017656173557043,0.013970814645290,0.024925015866756,0.001129275420681,0.007425509393215,0.005304489284754,0.002208112506196,-0.004697011783719,0.087315902113914,0.004444058518857,-0.043963059782982,-0.021077068522573,0.071529053151608,0.153900146484375,-0.023481123149395,0.005196809303015));
res += mul(Get(s1,0,dy), float4x4(0.014001889154315,-0.014465784654021,0.016605611890554,0.001151323551312,0.000274947931757,-0.003937525674701,0.003477912629023,-0.003547637723386,-0.018391897901893,-0.014782056212425,-0.014743873849511,-0.018287932500243,0.037493180483580,0.094094924628735,0.026415176689625,-0.059876244515181));
res += mul(Get(s1,dx,-dy), float4x4(-0.007494959048927,-0.018609631806612,-0.005888426210731,-0.012703193351626,-0.008917996659875,0.004542002454400,-0.000511113845278,0.003137961961329,-0.043913986533880,0.041416220366955,-0.063207566738129,0.084214352071285,-0.003132817801088,0.116000950336456,-0.014680173248053,0.017088767141104));
res += mul(Get(s1,dx,0), float4x4(-0.010287381708622,-0.020346550270915,-0.001361272064969,-0.019272580742836,0.000280910520814,0.000722144439351,-0.003779870457947,-0.001041304320097,0.041744276881218,-0.034140434116125,-0.073848314583302,0.052013102918863,-0.027713470160961,0.054343830794096,-0.094103462994099,0.015497141517699));
res += mul(Get(s1,dx,dy), float4x4(0.002569577191025,-0.009101678617299,-0.005623457487673,-0.009120305068791,0.003880326636136,0.003351858584210,-0.002289535477757,-0.005087546072900,0.047379985451698,-0.023957718163729,-0.022346561774611,0.088107220828533,0.000000361418586,0.103150948882103,-0.080890387296677,-0.023427354171872));
res += mul(Get(s2,-dx,-dy), float4x4(-0.002186688361689,-0.005042722448707,-0.002733824076131,-0.002698146738112,-0.136305257678032,0.016026869416237,-0.013502276502550,0.058574002236128,0.041204843670130,0.011611575260758,0.009600275196135,0.033345390111208,-0.025705043226480,-0.034587796777487,-0.002740862313658,-0.029155842959881));
res += mul(Get(s2,-dx,0), float4x4(0.000065949636337,-0.004535241052508,-0.000618773046881,-0.006806126330048,0.016767285764217,-0.024214833974838,0.051452584564686,0.014670967124403,-0.045137386769056,0.138267546892166,-0.117955319583416,-0.173692390322685,-0.028171045705676,-0.067068897187710,-0.010046472772956,-0.057474732398987));
res += mul(Get(s2,-dx,dy), float4x4(-0.000010227192433,0.000701085897163,0.001944910618477,-0.001068562734872,0.010117528960109,-0.028107210993767,0.015036862343550,-0.106329776346684,-0.085596919059753,-0.000770441372879,0.058319121599197,-0.200721040368080,0.014593330211937,0.092160716652870,-0.072614945471287,-0.054267294704914));
res += mul(Get(s2,0,-dy), float4x4(-0.001331948791631,0.002390011213720,-0.000121115961520,0.002448295010254,-0.062974333763123,0.016653062775731,0.108221992850304,0.016385670751333,-0.258614063262939,0.110189244151115,-0.143824324011803,-0.001066824188456,-0.027493031695485,-0.024707861244678,0.063009314239025,0.073422580957413));
res += mul(Get(s2,0,0), float4x4(-0.001786406384781,-0.001936599030159,0.001430331729352,-0.008727197535336,-0.007095398381352,-0.083890557289124,0.012048581615090,-0.056431882083416,0.119503751397133,-0.123791471123695,0.225057512521744,0.222821071743965,-0.023114942014217,-0.037791877985001,0.034078370779753,0.061636030673981));
res += mul(Get(s2,0,dy), float4x4(0.006660947576165,0.008712162263691,-0.000722001888789,-0.005280036479235,-0.035372138023376,-0.041302036494017,0.032595109194517,-0.062013134360313,-0.031695943325758,0.031262233853340,0.091952301561832,0.348825156688690,0.064041346311569,0.029649943113327,-0.018314730376005,0.060441244393587));
res += mul(Get(s2,dx,-dy), float4x4(-0.001565330312587,0.000568724586628,-0.007140699774027,0.002619040431455,-0.028610633686185,-0.080707661807537,-0.009115392342210,0.000795761239715,0.089599289000034,0.367370754480362,-0.170822039246559,0.017135089263320,0.047372803092003,-0.000303023029119,0.016367310658097,0.029774026945233));
res += mul(Get(s2,dx,0), float4x4(0.007289757952094,0.002773228799924,-0.000690100132488,-0.001471228082664,0.041223254054785,0.023669997230172,-0.041975587606430,-0.055013198405504,0.189164772629738,-0.258247703313828,0.244123473763466,-0.122486859560013,0.026363406330347,0.088241934776306,-0.042165312916040,0.018066376447678));
res += mul(Get(s2,dx,dy), float4x4(-0.001284906524234,0.005801398772746,-0.000919452402741,-0.005032684653997,-0.040681000798941,0.034250941127539,-0.089001916348934,-0.132563829421997,-0.131552457809448,-0.014548569917679,0.023298790678382,-0.202500730752945,0.031422823667526,0.084336534142494,-0.020359031856060,-0.012340551242232));
res += mul(Get(s3,-dx,-dy), float4x4(0.033182840794325,0.002405841136351,-0.019024521112442,0.026938246563077,-0.079688325524330,-0.039571065455675,0.059930983930826,0.019531296566129,-0.047372736036777,-0.069841079413891,-0.011003582738340,-0.020719166845083,-0.002979215234518,-0.000518680142704,0.000971121829934,-0.000682795303874));
res += mul(Get(s3,-dx,0), float4x4(0.077535778284073,0.024243243038654,-0.041979815810919,0.017459673807025,-0.000267337309197,0.001514092087746,-0.035096026957035,0.004807836376131,-0.016495753079653,-0.027058295905590,-0.034288521856070,0.008017472922802,-0.003289953805506,-0.001807689550333,-0.003040957497433,0.000125784354168));
res += mul(Get(s3,-dx,dy), float4x4(0.034068908542395,0.106452547013760,-0.014955773949623,0.006925689987838,-0.014089646749198,-0.014687168411911,0.013769460842013,-0.021328242495656,0.011252200230956,-0.016223851591349,-0.047049380838871,0.011861469596624,-0.003748713526875,0.003028195351362,0.002750060288236,0.002557144267485));
res += mul(Get(s3,0,-dy), float4x4(0.016169929876924,0.086422391235828,-0.016376391053200,-0.045812211930752,-0.056045111268759,-0.061811931431293,0.035222016274929,0.055241998285055,-0.003990317229182,-0.055401254445314,-0.040054593235254,-0.014745830558240,-0.006842555012554,-0.001903955708258,-0.002876766258851,-0.008135427720845));
res += mul(Get(s3,0,0), float4x4(0.071971334517002,-0.016123309731483,0.051723815500736,-0.050144754350185,0.061046604067087,-0.002482380950823,-0.043780669569969,0.074401028454304,-0.000633761810604,-0.044683750718832,-0.007025727070868,-0.001913791173138,-0.004235348664224,-0.005086688790470,-0.003365348791704,0.008549213409424));
res += mul(Get(s3,0,dy), float4x4(0.045592594891787,0.021858593448997,0.100839100778103,0.063626512885094,0.038559224456549,0.121239475905895,-0.061191894114017,0.026421612128615,0.018385864794254,0.029916035011411,0.011187111958861,0.005386868026108,-0.005147387273610,-0.005206431262195,-0.003924463409930,-0.000444008095656));
res += mul(Get(s3,dx,-dy), float4x4(0.034123096615076,0.141125038266182,-0.007596855983138,0.062926173210144,-0.025963949039578,0.024910425767303,0.015204135328531,0.011900391429663,-0.011604941450059,-0.072367720305920,-0.043679017573595,0.005205371882766,0.004959478508681,0.001994850113988,-0.007007929962128,-0.002804080955684));
res += mul(Get(s3,dx,0), float4x4(0.034208502620459,0.021064430475235,-0.006521423812956,0.018214413896203,-0.006714132614434,0.010593967512250,0.011904262006283,-0.042347352951765,-0.028403237462044,-0.037066638469696,0.033876851201057,0.023377183824778,-0.007736213970929,0.000897068937775,0.004809577949345,-0.003622432937846));
res += mul(Get(s3,dx,dy), float4x4(-0.024388302117586,-0.061091773211956,0.053919047117233,-0.021082090213895,0.058640718460083,0.023775799199939,-0.005010472610593,-0.023433629423380,0.010887220501900,-0.003814742667601,0.026620170101523,0.019311239942908,-0.000788499368355,-0.000962489168160,-0.006175401154906,-0.002048441208899));
return max(float4(0,0,0,0), res);
}
