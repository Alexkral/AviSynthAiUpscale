sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.019924346357584,-0.055112782865763,0.019012745469809,-0.073591537773609,-0.033906936645508,0.083672188222408,-0.102428838610649,-0.015932612121105,0.004903838969767,0.030965682119131,0.030711174011230,-0.093628831207752,-0.005232353694737,0.106590770184994,0.043481379747391,0.097341492772102));
res += mul(Get(s0,-dx,0), float4x4(0.030864717438817,0.007157186046243,0.012652876786888,0.054097324609756,-0.002088757231832,0.010402829386294,-0.047303784638643,0.049067407846451,-0.021123262122273,0.045935332775116,0.189248532056808,-0.122445821762085,-0.026436965912580,0.032441169023514,0.053048387169838,-0.010377527214587));
res += mul(Get(s0,-dx,dy), float4x4(0.052164170891047,-0.008460775949061,-0.026744758710265,-0.077809512615204,-0.058399505913258,-0.032335963100195,0.062974505126476,0.051899939775467,0.047605484724045,0.061007447540760,0.070172891020775,-0.073911152780056,-0.033820219337940,0.034749757498503,-0.090130493044853,0.074323594570160));
res += mul(Get(s0,0,-dy), float4x4(0.020691324025393,0.060790885239840,-0.054819270968437,-0.013167523778975,-0.013636790215969,-0.006411747541279,0.035634625703096,0.063173614442348,-0.037787813693285,0.072269573807716,-0.138483881950378,-0.027146333828568,0.015812229365110,0.032707355916500,0.069558382034302,0.047752682119608));
res += mul(Get(s0,0,0), float4x4(0.088001154363155,-0.145188182592392,0.005686494987458,0.059491094201803,0.039045635610819,0.021720435470343,-0.009960181079805,0.146288692951202,-0.069342367351055,-0.050512440502644,0.029311709105968,0.175565391778946,0.004033952485770,0.054907720535994,0.045754399150610,-0.021490806713700));
res += mul(Get(s0,0,dy), float4x4(0.073447749018669,0.034453123807907,-0.029282385483384,-0.012737288139760,-0.052645903080702,-0.067285045981407,0.039606526494026,0.143813908100128,-0.048776742070913,-0.070367656648159,0.106736011803150,0.066026717424393,-0.059295214712620,0.064050294458866,-0.025206709280610,-0.026272196322680));
res += mul(Get(s0,dx,-dy), float4x4(0.110892623662949,0.063503697514534,-0.056397210806608,-0.007561880629510,0.029328057542443,-0.017906103283167,0.029606370255351,0.012979775667191,-0.003356624161825,0.093717150390148,-0.106606297194958,0.077491551637650,0.018052347004414,0.171334251761436,0.006956572178751,0.141101613640785));
res += mul(Get(s0,dx,0), float4x4(0.055026639252901,-0.060522507876158,-0.009290867485106,-0.067571744322777,0.027233613654971,0.094198413193226,-0.055398944765329,0.044759415090084,-0.022282805293798,0.017845327034593,-0.089825548231602,0.022813990712166,0.057238511741161,0.110975414514542,0.031214229762554,-0.000512789178174));
res += mul(Get(s0,dx,dy), float4x4(-0.000238121836446,0.035508643835783,-0.056052766740322,-0.027303487062454,0.021786335855722,0.023444995284081,-0.005181928165257,0.052780762314796,0.032888911664486,-0.128491401672363,0.046936430037022,0.128002420067787,0.028568316251040,0.032747335731983,-0.026429394260049,0.010655928403139));
res += mul(Get(s1,-dx,-dy), float4x4(-0.044499654322863,-0.030091585591435,-0.058989915996790,0.051308780908585,0.013943651691079,-0.005600363947451,0.006168166175485,-0.045460376888514,0.051047474145889,-0.015660908073187,-0.011408480815589,0.043413888663054,-0.067127361893654,-0.057124376296997,0.023693623021245,-0.112104572355747));
res += mul(Get(s1,-dx,0), float4x4(-0.144629046320915,-0.089481078088284,0.005725016351789,0.074652545154095,0.029328158125281,0.012597690336406,0.006553539074957,-0.014679119922221,-0.000893410819117,0.063041821122169,-0.016770891845226,0.091433323919773,0.057164527475834,-0.007552905473858,0.022364873439074,-0.001927989651449));
res += mul(Get(s1,-dx,dy), float4x4(-0.038795784115791,0.115418314933777,-0.073280379176140,-0.044042721390724,0.008832166902721,-0.002220612950623,0.093702636659145,-0.113511450588703,-0.084444783627987,0.019542751833797,-0.048837058246136,0.026024330407381,0.023537492379546,0.035200845450163,0.052166666835546,0.048685390502214));
res += mul(Get(s1,0,-dy), float4x4(-0.000826627423521,-0.038518682122231,-0.049193203449249,0.022086409851909,-0.107581943273544,-0.009971098974347,0.001135172089562,0.056432109326124,-0.001865447848104,-0.014138563536108,-0.019289162009954,-0.103258043527603,-0.054683249443769,-0.073384530842304,-0.011337259784341,0.022636225447059));
res += mul(Get(s1,0,0), float4x4(-0.076289258897305,-0.044311765581369,-0.035176601260900,0.041586063802242,-0.060348343104124,-0.028069309890270,0.072622410953045,0.168805018067360,0.133154764771461,-0.048313360661268,0.145897909998894,-0.152788713574409,-0.060393866151571,-0.055445458739996,0.084226384758949,0.096614338457584));
res += mul(Get(s1,0,dy), float4x4(-0.047536060214043,0.082005113363266,0.086373068392277,-0.069598443806171,-0.047358870506287,-0.027933605015278,0.090852245688438,0.008762697689235,-0.031239302828908,0.136950209736824,-0.109865158796310,-0.039037268608809,0.143871650099754,0.010137852281332,-0.024063628166914,0.005490354262292));
res += mul(Get(s1,dx,-dy), float4x4(0.002492391038686,-0.068342424929142,0.003305111778900,-0.095333702862263,0.012102168984711,0.004102323204279,0.019557660445571,0.033482905477285,0.000023717628210,0.021236903965473,-0.062342677265406,-0.003270415123552,-0.046370938420296,-0.078746117651463,-0.064234167337418,-0.102023713290691));
res += mul(Get(s1,dx,0), float4x4(-0.015893321484327,0.008858036249876,0.025253361091018,-0.034046139568090,-0.014130982570350,0.102706134319305,-0.003580467542633,0.035511117428541,0.042306385934353,0.003423515241593,0.107430554926395,0.057720415294170,0.114262521266937,-0.137003257870674,0.138269767165184,0.062069717794657));
res += mul(Get(s1,dx,dy), float4x4(-0.005003578495234,0.006739811040461,0.095259681344032,-0.055069822818041,-0.012070623226464,-0.019512554630637,-0.036878004670143,0.071914054453373,-0.036472868174314,0.133014172315598,-0.065312519669533,0.044993560761213,0.019548496231437,0.009872599504888,-0.010160299949348,0.040954560041428));
res += mul(Get(s2,-dx,-dy), float4x4(-0.009424675256014,-0.016879618167877,-0.048280030488968,-0.022201590240002,0.152034938335419,0.004305528011173,0.018273912370205,-0.089162617921829,0.058104731142521,0.022311847656965,0.012237970717251,-0.027226030826569,0.029677385464311,-0.002841523149982,0.017829414457083,0.076441705226898));
res += mul(Get(s2,-dx,0), float4x4(-0.005124183371663,0.052939295768738,0.024034032598138,0.141413852572441,0.199460521340370,-0.120268024504185,-0.044928487390280,0.049174699932337,0.035941541194916,-0.007490425836295,0.175259023904800,-0.055910903960466,-0.056170646101236,-0.038537234067917,0.065551578998566,0.006427579559386));
res += mul(Get(s2,-dx,dy), float4x4(-0.003942577634007,0.043621800839901,0.025164300575852,-0.022803101688623,0.017849907279015,-0.097581893205643,-0.008473595604300,-0.004555420484394,-0.065426379442215,-0.036943722516298,-0.021052349358797,0.086063183844090,0.006053298246115,-0.014633443206549,0.005118734203279,0.066156655550003));
res += mul(Get(s2,0,-dy), float4x4(-0.026065347716212,-0.011849049478769,-0.138655275106430,-0.137299969792366,0.038578692823648,0.043247859925032,0.034142684191465,0.020775001496077,0.053099278360605,0.016812846064568,0.001090851263143,-0.043622866272926,-0.022771168500185,0.041722048074007,0.040265463292599,0.056664425879717));
res += mul(Get(s2,0,0), float4x4(-0.136518374085426,-0.036362536251545,-0.073908716440201,0.050984263420105,-0.020942587405443,-0.096768692135811,0.090828262269497,0.091399170458317,0.040024831891060,-0.095111891627312,0.147197872400284,0.143407166004181,-0.065174706280231,-0.025619426742196,0.119114272296429,0.028240390121937));
res += mul(Get(s2,0,dy), float4x4(0.033065713942051,-0.027070485055447,0.081347025930882,0.019752485677600,0.005300132092088,0.024025857448578,-0.060038682073355,-0.026222569867969,0.063248977065086,-0.068822987377644,-0.047259990125895,0.063266456127167,-0.041828736662865,0.026155630126595,-0.018481282517314,0.060976527631283));
res += mul(Get(s2,dx,-dy), float4x4(-0.012354499660432,0.111294202506542,-0.127402439713478,-0.171138659119606,0.020034795626998,-0.003553107148036,0.056610368192196,-0.086219049990177,0.002301271306351,0.042757775634527,0.049175389111042,0.008461192250252,0.042443621903658,-0.019957495853305,0.010006586089730,0.004556430969387));
res += mul(Get(s2,dx,0), float4x4(0.088960006833076,0.071987301111221,-0.082250118255615,-0.041739471256733,0.028253247961402,0.078659422695637,0.016812497749925,0.086809344589710,0.083216831088066,-0.124182343482971,0.153366789221764,-0.086659006774426,0.002834560349584,0.008520098403096,0.108933083713055,0.078466586768627));
res += mul(Get(s2,dx,dy), float4x4(0.042169645428658,0.057752799242735,0.030331166461110,-0.036896929144859,-0.027561100199819,0.011791477911174,-0.018656430765986,-0.013820784166455,-0.008796278387308,-0.120807908475399,-0.071987971663475,-0.034521996974945,-0.010224176570773,0.048741381615400,-0.039925988763571,0.075130686163902));
res += mul(Get(s3,-dx,-dy), float4x4(0.063089758157730,0.041733339428902,0.109216399490833,0.071578152477741,0.013302937150002,0.008350820280612,-0.092507623136044,0.017517194151878,-0.028408393263817,0.046086255460978,-0.028370603919029,0.013180764392018,0.010072695091367,-0.062989808619022,0.061330731958151,0.003048905637115));
res += mul(Get(s3,-dx,0), float4x4(-0.108336418867111,0.037965327501297,0.017846155911684,-0.056024983525276,0.118466258049011,0.015629958361387,-0.066799364984035,-0.136418163776398,-0.081428453326225,0.051294289529324,-0.035679448395967,0.061891924589872,0.071202330291271,0.011496270075440,-0.004145353566855,-0.029905175790191));
res += mul(Get(s3,-dx,dy), float4x4(-0.026680331677198,0.004613255616277,-0.024666367098689,-0.010460826568305,0.099951535463333,-0.008750231005251,-0.030944932252169,-0.026454424485564,-0.057041157037020,-0.010178834199905,-0.018783807754517,0.018293531611562,0.018714472651482,0.054174583405256,-0.012544708326459,-0.021805938333273));
res += mul(Get(s3,0,-dy), float4x4(-0.004510239232332,0.022081252187490,0.006186522543430,0.032553460448980,0.056809701025486,-0.098146736621857,-0.015439577400684,0.042645465582609,0.109745927155018,0.043200876563787,-0.117848314344883,-0.080628179013729,-0.050441216677427,-0.006138457916677,-0.015666244551539,-0.068356260657310));
res += mul(Get(s3,0,0), float4x4(0.039542622864246,-0.026553688570857,-0.077027849853039,0.071668207645416,0.008957607671618,-0.036096680909395,-0.000875362195075,0.012366195209324,-0.044523529708385,0.014365884475410,-0.030972074717283,-0.144890993833542,0.022084776312113,-0.058199964463711,-0.049646645784378,0.081837862730026));
res += mul(Get(s3,0,dy), float4x4(0.057837493717670,0.016100930050015,-0.029126422479749,-0.057989012449980,0.075688488781452,-0.139143854379654,0.061897907406092,0.058370009064674,0.022409619763494,0.116212755441666,0.000278168008663,-0.007640174590051,-0.053667631000280,0.022084295749664,-0.063187234103680,-0.010649650357664));
res += mul(Get(s3,dx,-dy), float4x4(-0.040425453335047,0.161394774913788,-0.034535739570856,0.007027488667518,0.066109597682953,0.013940915465355,-0.010803340002894,0.067651852965355,0.039799850434065,-0.055717151612043,-0.132016554474831,-0.068549849092960,0.079191885888577,0.059524569660425,-0.090924642980099,-0.139755427837372));
res += mul(Get(s3,dx,0), float4x4(-0.013579407706857,0.008352254517376,0.048357948660851,-0.043547760695219,-0.033959925174713,0.097023837268353,-0.002947483910248,0.106285050511360,-0.067828603088856,-0.095075018703938,0.013139319606125,0.015968922525644,-0.026633800938725,0.029557796195149,-0.034130264073610,-0.101168580353260));
res += mul(Get(s3,dx,dy), float4x4(0.139509573578835,-0.021882826462388,-0.048543684184551,0.017695143818855,0.149215728044510,-0.031170988455415,0.068929754197598,-0.050923328846693,-0.040759563446045,0.102535888552666,-0.053303651511669,-0.001280872267671,0.089674837887287,0.046518635004759,-0.034324254840612,-0.130463659763336));
return max(float4(0,0,0,0), res);
}
