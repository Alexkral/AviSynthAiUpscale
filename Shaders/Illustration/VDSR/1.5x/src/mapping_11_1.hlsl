sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.006915108766407,0.028767978772521,0.028445690870285,0.051357127726078,-0.101524293422699,-0.039782870560884,0.047542542219162,0.050051003694534,-0.006410347763449,0.019285337999463,-0.051980372518301,0.001992566743866,0.072176843881607,-0.093288816511631,0.029571974650025,0.106472738087177));
res += mul(Get(s0,-dx,0), float4x4(-0.022499419748783,-0.047532536089420,-0.074618980288506,-0.003689049510285,-0.021615544334054,0.043421447277069,-0.031950838863850,0.054864071309566,-0.094098679721355,-0.013442656956613,0.067928597331047,0.050579883158207,0.036677565425634,0.023560451343656,-0.051757708191872,0.086176589131355));
res += mul(Get(s0,-dx,dy), float4x4(-0.118818022310734,-0.032915323972702,0.110854350030422,0.146632581949234,-0.088613845407963,-0.001803731545806,0.021784637123346,-0.168961733579636,-0.011603970080614,-0.013467391952872,-0.081514932215214,0.054499007761478,0.019053129479289,0.013862706720829,0.114232651889324,0.222958326339722));
res += mul(Get(s0,0,-dy), float4x4(-0.044839553534985,-0.055005561560392,-0.030842170119286,0.125660195946693,0.050865899771452,-0.128258913755417,0.173788741230965,-0.045440431684256,-0.041951760649681,0.007338994648308,0.073095954954624,-0.038209393620491,-0.001695010927506,-0.077950917184353,-0.004134378861636,-0.003001373261213));
res += mul(Get(s0,0,0), float4x4(-0.078242443501949,0.025526886805892,0.118368841707706,0.006107968743891,-0.002464641118422,0.012060276232660,-0.003924636635929,0.002832143334672,0.013279790058732,0.026226609945297,0.176627814769745,-0.002447384875268,0.056717395782471,0.001283332472667,0.078931055963039,0.088631220161915));
res += mul(Get(s0,0,dy), float4x4(-0.078511081635952,0.101919949054718,0.083673588931561,0.119192197918892,0.030271822586656,0.015287754125893,-0.037357456982136,0.022492054849863,0.044765967875719,-0.050501544028521,0.091633707284927,0.020634371787310,-0.043431382626295,-0.083499193191528,-0.152608111500740,0.124109350144863));
res += mul(Get(s0,dx,-dy), float4x4(0.079704836010933,0.109824180603027,-0.010211020708084,0.166011795401573,-0.033090520650148,0.043321192264557,-0.057523552328348,-0.116565145552158,0.044617429375648,-0.016281094402075,-0.104628786444664,-0.154050156474113,-0.059588514268398,-0.030162796378136,0.047901872545481,0.118471592664719));
res += mul(Get(s0,dx,0), float4x4(0.025285869836807,0.012978548184037,0.121923729777336,0.119227528572083,-0.018535481765866,0.012491776607931,-0.015663010999560,-0.083710655570030,-0.022732209414244,-0.013865412212908,-0.016743116080761,0.011271721683443,-0.056257966905832,0.047373726963997,0.077899686992168,0.129962697625160));
res += mul(Get(s0,dx,dy), float4x4(0.112517297267914,-0.011057545430958,-0.002659277059138,0.136141523718834,0.004694622475654,0.160980433225632,0.132019668817520,-0.010820467025042,-0.033045999705791,0.136374339461327,-0.036514952778816,0.083021946251392,-0.043825604021549,-0.047842890024185,-0.172100856900215,0.104936480522156));
res += mul(Get(s1,-dx,-dy), float4x4(-0.048937972635031,-0.001804591389373,-0.025825722143054,-0.046790800988674,-0.034770209342241,-0.007070628460497,0.054537538439035,-0.062887735664845,-0.069586351513863,0.019118085503578,0.038763225078583,0.080495089292526,-0.037520870566368,0.015188288874924,-0.086775109171867,0.038936059921980));
res += mul(Get(s1,-dx,0), float4x4(-0.052237343043089,0.078953780233860,-0.006600325461477,0.042693410068750,-0.107293307781219,-0.066685169935226,-0.130615100264549,0.119325511157513,-0.028818944469094,0.031866200268269,-0.047381639480591,0.002182807540521,-0.057957086712122,-0.084308899939060,0.030003348365426,-0.102666109800339));
res += mul(Get(s1,-dx,dy), float4x4(-0.052316267043352,0.003571283305064,-0.019430227577686,-0.061885602772236,-0.055765666067600,0.014955998398364,-0.039856851100922,0.096039466559887,-0.008941017091274,-0.014190973713994,-0.001788234454580,-0.046277429908514,0.038936983793974,-0.037630248814821,0.091033220291138,0.014364678412676));
res += mul(Get(s1,0,-dy), float4x4(0.040529128164053,0.034740366041660,-0.141961619257927,0.079719237983227,0.071499109268188,-0.121090777218342,0.013422292657197,0.002293760655448,0.030956298112869,-0.011687028221786,0.047797523438931,0.049571171402931,0.027482762932777,-0.000478257134091,0.023051211610436,0.066370271146297));
res += mul(Get(s1,0,0), float4x4(0.220556542277336,0.043740671128035,0.014527177438140,-0.010233290493488,0.032938323915005,0.033909168094397,0.137912854552269,0.009988864883780,0.023804225027561,0.010846561752260,0.052432592958212,-0.093909591436386,0.037038829177618,-0.005678362213075,0.083753816783428,-0.095401294529438));
res += mul(Get(s1,0,dy), float4x4(0.135241329669952,-0.007122223731130,0.020198227837682,-0.063350677490234,-0.092157110571861,-0.061281125992537,0.068210996687412,-0.025079209357500,-0.076205976307392,0.107265688478947,0.077922046184540,-0.016590835526586,-0.056056603789330,0.058400388807058,-0.089674502611160,0.046215616166592));
res += mul(Get(s1,dx,-dy), float4x4(-0.084822468459606,0.043284561485052,-0.036087106913328,-0.113630637526512,-0.016151020303369,-0.028093419969082,-0.035187169909477,-0.019514644518495,-0.074689798057079,0.112860508263111,0.095368288457394,0.176213249564171,0.116305299103260,-0.067991390824318,0.105116285383701,0.062195587903261));
res += mul(Get(s1,dx,0), float4x4(-0.110029868781567,0.035380281507969,0.043852560222149,0.009166557341814,0.054952438920736,-0.036869674921036,0.002847918542102,-0.027504475787282,0.030250465497375,0.005666188895702,-0.113962382078171,-0.049722757190466,0.141803696751595,-0.100048124790192,0.140416368842125,0.001889885170385));
res += mul(Get(s1,dx,dy), float4x4(-0.043596133589745,-0.045563958585262,-0.110994726419449,-0.030501181259751,-0.026708751916885,0.038049515336752,0.021685900166631,0.003863549791276,-0.023509003221989,0.026270866394043,0.058130778372288,-0.070140242576599,0.045049030333757,0.078607194125652,0.014240886084735,-0.042563647031784));
res += mul(Get(s2,-dx,-dy), float4x4(0.031469311565161,-0.036530517041683,0.005179456900805,-0.022540582343936,-0.088805988430977,0.042891290038824,-0.024019083008170,-0.015468173660338,-0.015419745817780,-0.047409586608410,-0.081185266375542,0.132155328989029,0.126278772950172,0.002948375185952,-0.035678248852491,0.072752907872200));
res += mul(Get(s2,-dx,0), float4x4(0.051463607698679,-0.003126550232992,0.015458922833204,0.070726886391640,0.042861949652433,0.055554792284966,-0.137717664241791,0.043414928019047,-0.004347245208919,-0.006156580522656,0.123619705438614,0.029375689104199,0.040538609027863,0.023672185838223,-0.094263330101967,0.010032855905592));
res += mul(Get(s2,-dx,dy), float4x4(0.077241778373718,-0.081430748105049,0.028416704386473,0.001241652877070,-0.019144922494888,0.109492689371109,0.046585086733103,0.057046905159950,0.057001844048500,0.024195550009608,-0.012024045921862,0.086581327021122,0.020880665630102,-0.045928761363029,-0.003544383915141,0.037205010652542));
res += mul(Get(s2,0,-dy), float4x4(-0.055882938206196,-0.012143385596573,0.051306173205376,0.034193545579910,0.015600852668285,0.095938205718994,-0.004786250181496,-0.058129914104939,-0.085672311484814,0.010755332186818,-0.028398882597685,0.062367524951696,-0.005029819440097,0.000457905640360,0.016669340431690,-0.025016937404871));
res += mul(Get(s2,0,0), float4x4(-0.052484061568975,-0.042928922921419,0.085916653275490,0.051192298531532,0.021158436313272,-0.076050482690334,0.003601677948609,-0.122821129858494,-0.120790652930737,0.024867199361324,-0.066327132284641,0.082377761602402,-0.045394256711006,-0.033912848681211,0.073799990117550,0.112939983606339));
res += mul(Get(s2,0,dy), float4x4(-0.005005822982639,0.101949542760849,0.055964425206184,-0.060549341142178,0.075079292058945,-0.036327864974737,-0.053439613431692,-0.028068473562598,0.011024599894881,-0.031441330909729,0.031004209071398,0.117560498416424,-0.023535022512078,-0.070135667920113,0.006658597849309,-0.104218132793903));
res += mul(Get(s2,dx,-dy), float4x4(-0.003856025869027,0.040777761489153,-0.083555914461613,0.032541953027248,-0.114093296229839,0.062958605587482,-0.024794103577733,0.034500323235989,-0.110516116023064,-0.085353001952171,-0.022230282425880,-0.045798901468515,-0.023924825713038,0.032565835863352,0.011326969601214,-0.020725360140204));
res += mul(Get(s2,dx,0), float4x4(0.008045033551753,-0.000278922088910,0.077852934598923,0.107770867645741,-0.012063626199961,0.007437616121024,0.010352623648942,-0.036752618849277,-0.038290202617645,-0.012709665112197,0.091993205249310,0.055767182260752,0.054253820329905,0.061861414462328,0.068308435380459,0.044681910425425));
res += mul(Get(s2,dx,dy), float4x4(-0.043841116130352,-0.075731523334980,0.038075927644968,-0.061971612274647,-0.005408252589405,0.109781399369240,-0.058056712150574,0.034376710653305,-0.060553122311831,0.080399028956890,-0.019087105989456,0.144806563854218,-0.029052529484034,-0.074706248939037,0.053421266376972,0.055642269551754));
res += mul(Get(s3,-dx,-dy), float4x4(-0.023271104320884,0.010178192518651,-0.065686710178852,0.001242300146259,-0.068997047841549,-0.123404912650585,0.045855689793825,0.118311464786530,-0.053783826529980,-0.064479723572731,0.059367489069700,-0.047604296356440,-0.027134310454130,-0.023942939937115,-0.056662451475859,-0.088926099240780));
res += mul(Get(s3,-dx,0), float4x4(-0.079872272908688,-0.098284155130386,-0.001143071800470,-0.010821778327227,-0.021905142813921,-0.038454551249743,0.026559488847852,0.074993632733822,-0.021567590534687,0.032463308423758,0.131902441382408,-0.069063685834408,-0.060099594295025,0.062205582857132,-0.022829513996840,0.047186780720949));
res += mul(Get(s3,-dx,dy), float4x4(0.060502108186483,0.035367954522371,-0.019481740891933,-0.031087914481759,-0.042645689100027,-0.027246830984950,0.033090926706791,0.045732136815786,0.015655675902963,0.035910069942474,0.049480307847261,-0.036996714770794,0.105147764086723,-0.049703035503626,-0.005344781093299,-0.047259893268347));
res += mul(Get(s3,0,-dy), float4x4(0.046948462724686,-0.001983784604818,-0.060465052723885,-0.016416458413005,0.060286384075880,-0.008791062980890,-0.048620596528053,-0.047773279249668,0.113915577530861,-0.021517781540751,-0.085329994559288,-0.058299910277128,0.144714549183846,0.027420787140727,0.007854945957661,0.041168164461851));
res += mul(Get(s3,0,0), float4x4(-0.085513979196548,0.005080542527139,0.011950023472309,0.053823851048946,-0.017376773059368,0.067242756485939,0.052252668887377,0.072300352156162,0.096783868968487,0.111909605562687,0.021311670541763,-0.108640156686306,0.040212314575911,-0.077072158455849,0.091944821178913,-0.092231504619122));
res += mul(Get(s3,0,dy), float4x4(-0.030364653095603,0.018882201984525,-0.069543831050396,0.064249768853188,-0.009575969539583,0.017409253865480,0.041153915226460,-0.008313423953950,0.009908511303365,-0.024959400296211,-0.022333322092891,-0.057067666202784,-0.070631131529808,-0.013198024593294,0.055617541074753,0.034176010638475));
res += mul(Get(s3,dx,-dy), float4x4(-0.028844812884927,0.019660748541355,-0.018595004454255,-0.009768879041076,-0.107636608183384,0.021243711933494,-0.059023637324572,0.105719409883022,0.006901561748236,-0.044225007295609,-0.128023818135262,-0.067075267434120,0.021434534341097,-0.031271088868380,-0.024873323738575,0.077175170183182));
res += mul(Get(s3,dx,0), float4x4(0.007363353855908,0.045422200113535,0.053989995270967,-0.012326935306191,0.068349540233612,-0.099713593721390,-0.086012803018093,0.093857802450657,-0.054435081779957,-0.030265631154180,0.067337065935135,-0.165133655071259,-0.054946795105934,0.017253730446100,-0.076293103396893,0.076810881495476));
res += mul(Get(s3,dx,dy), float4x4(-0.000208917248528,0.019805068150163,-0.051589693874121,0.059906627982855,0.034357838332653,0.047711953520775,-0.027573704719543,-0.022931456565857,-0.131234362721443,-0.106254860758781,-0.015241926535964,0.015032623894513,0.048031669110060,0.007549620233476,0.025349786505103,-0.053920965641737));
return max(float4(0,0,0,0), res);
}
