sampler s0 : register(s0);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(x, y)   tex2D(s0, tex + float2(x, y))[0]

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += float4(0.079262472689152,-0.116380840539932,0.160801827907562,0.000519792840350) * Get(-dx,-dy);
res += float4(0.041962530463934,-0.037306074053049,-0.022494204342365,-0.127952903509140) * Get(-dx,0);
res += float4(-0.193274304270744,0.049837123602629,0.064914025366306,0.093804597854614) * Get(-dx,dy);
res += float4(-0.110189668834209,0.142656609416008,-0.206701755523682,0.023617437109351) * Get(0,-dy);
res += float4(0.286419272422791,0.184134110808372,-0.063309855759144,-0.030757831409574) * Get(0,0);
res += float4(-0.087734580039978,-0.084777593612671,-0.115300662815571,-0.013298309408128) * Get(0,dy);
res += float4(0.015330654568970,-0.025565154850483,-0.127328008413315,-0.029558435082436) * Get(dx,-dy);
res += float4(-0.065194904804230,-0.046434741467237,0.094511687755585,-0.178801953792572) * Get(dx,0);
res += float4(0.044006664305925,0.025934478268027,0.035451766103506,-0.047944720834494) * Get(dx,dy);
return max(float4(0,0,0,0), res);
}
