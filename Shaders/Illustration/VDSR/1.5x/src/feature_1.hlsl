sampler s0 : register(s0);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(x, y)   tex2D(s0, tex + float2(x, y))[0]

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += float4(-0.025596989318728,-0.126466676592827,-0.030354566872120,-0.087922342121601) * Get(-dx,-dy);
res += float4(0.036879278719425,-0.186408802866936,-0.043914906680584,-0.121508747339249) * Get(-dx,0);
res += float4(0.013473181053996,-0.146666094660759,0.019404435530305,-0.110369093716145) * Get(-dx,dy);
res += float4(-0.029765540733933,-0.094226703047752,-0.023838646709919,0.044477540999651) * Get(0,-dy);
res += float4(0.000250970188063,-0.114562146365643,-0.026579678058624,-0.014883734285831) * Get(0,0);
res += float4(-0.014209970831871,-0.095240436494350,0.041221193969250,-0.079167388379574) * Get(0,dy);
res += float4(-0.006467765662819,0.090936295688152,-0.015000817365944,0.053719934076071) * Get(dx,-dy);
res += float4(-0.028847593814135,0.143938824534416,-0.032718345522881,0.053961928933859) * Get(dx,0);
res += float4(-0.019372107461095,0.091256961226463,0.013848601840436,-0.005471034906805) * Get(dx,dy);
return max(float4(0,0,0,0), res);
}
