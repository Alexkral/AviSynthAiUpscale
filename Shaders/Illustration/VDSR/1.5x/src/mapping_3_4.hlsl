sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.025438372045755,0.002433490706608,0.030014600604773,0.038017746061087,-0.015713892877102,0.020772805437446,-0.007718999404460,-0.028146570548415,-0.025728851556778,-0.006296776700765,0.010916522704065,0.044010363519192,0.002851008437574,0.014710903167725,0.012654029764235,0.049824979156256));
res += mul(Get(s0,-dx,0), float4x4(0.091229662299156,-0.045497160404921,-0.020260805264115,-0.000671844580211,0.107862837612629,0.082065157592297,-0.005725031252950,-0.026770515367389,0.019845543429255,0.051059689372778,-0.019972108304501,0.017717894166708,0.004561134148389,0.040133737027645,-0.011059362441301,0.040519643574953));
res += mul(Get(s0,-dx,dy), float4x4(0.060438662767410,-0.069018840789795,-0.016016054898500,-0.049154516309500,0.119082197546959,0.023596208542585,-0.029955660924315,-0.054233457893133,0.025421246886253,0.029729481786489,-0.015047097578645,0.005786982830614,0.006525670643896,0.054795883595943,-0.035643439739943,0.016775105148554));
res += mul(Get(s0,0,-dy), float4x4(0.050083737820387,-0.063310809433460,0.004483048338443,-0.015030386857688,-0.047873705625534,-0.028265234082937,0.030437149107456,-0.024934813380241,-0.014842354692519,0.007505272515118,-0.007062544580549,-0.012364974245429,-0.007178704719990,0.006585455499589,-0.011540690436959,0.000323239597492));
res += mul(Get(s0,0,0), float4x4(0.077788136899471,0.045261822640896,0.001673450693488,-0.001525753759779,0.026645509526134,0.072175428271294,-0.002888414077461,-0.019787451252341,0.046526893973351,0.039406437426805,-0.034493118524551,-0.013365643098950,-0.018595268949866,0.025784660130739,-0.035942696034908,-0.020777100697160));
res += mul(Get(s0,0,dy), float4x4(-0.077761292457581,-0.048465766012669,-0.006959357298911,0.011740928515792,-0.004783469717950,0.066066108644009,0.018110100179911,0.003026524093002,0.064641863107681,0.030911469832063,-0.016167456284165,-0.021734908223152,0.029917653650045,0.051119536161423,-0.042305141687393,-0.006786253303289));
res += mul(Get(s0,dx,-dy), float4x4(0.029273632913828,-0.051388204097748,0.015778437256813,0.022100571542978,-0.055982049554586,-0.050278384238482,0.008701294660568,-0.000800207548309,-0.033100046217442,0.000655037758406,0.003291317261755,0.005534049123526,-0.017779791727662,0.006727755069733,-0.001859034877270,0.001840318436734));
res += mul(Get(s0,dx,0), float4x4(0.101128682494164,-0.087232038378716,-0.027678776532412,-0.006165267433971,0.018692923709750,-0.096337199211121,-0.084827028214931,-0.003601321019232,-0.009735314175487,0.035453490912914,-0.021278386935592,-0.000957665790338,-0.016873767599463,-0.006055990234017,-0.011507296003401,0.002418085932732));
res += mul(Get(s0,dx,dy), float4x4(-0.021509109064937,-0.068533323705196,0.052092391997576,0.010245119221509,0.027009533718228,-0.077820159494877,-0.034938745200634,-0.006602426059544,0.005782447755337,0.017827186733484,-0.000730851606932,0.003248468972743,0.016760833561420,0.033514801412821,-0.016076959669590,-0.005376112181693));
res += mul(Get(s1,-dx,-dy), float4x4(-0.049090787768364,-0.018390323966742,0.012133328244090,0.211898416280746,0.032183852046728,0.058209028095007,-0.067918159067631,-0.100180305540562,0.030267085880041,-0.046983923763037,-0.056109644472599,-0.005146580282599,-0.013020700775087,-0.001615381799638,0.001450298470445,-0.003446410875767));
res += mul(Get(s1,-dx,0), float4x4(0.068984381854534,-0.105440750718117,0.019855210557580,0.093115426599979,-0.037514533847570,0.065238043665886,-0.024178598076105,0.030677974224091,0.089493043720722,-0.028505336493254,-0.068184837698936,-0.071256250143051,0.041344262659550,0.011661577038467,-0.014911393634975,-0.013553719036281));
res += mul(Get(s1,-dx,dy), float4x4(0.126916155219078,-0.044748943299055,0.016318161040545,-0.071504920721054,-0.038232430815697,-0.064743228256702,0.051642131060362,0.056689545512199,-0.088838696479797,0.102657549083233,0.114490009844303,-0.023575197905302,0.022074496373534,-0.010750371031463,0.001997492276132,-0.004933550488204));
res += mul(Get(s1,0,-dy), float4x4(-0.055630773305893,0.010105326771736,-0.024239597842097,0.061903584748507,-0.074398264288902,-0.095210745930672,-0.087617456912994,0.049968887120485,-0.007303759455681,0.022210212424397,0.002343401312828,0.027337001636624,-0.023816920816898,0.031513359397650,0.002968482207507,-0.001274372334592));
res += mul(Get(s1,0,0), float4x4(0.013325328007340,0.204172596335411,-0.026248266920447,-0.035945661365986,0.048987902700901,-0.078203007578850,0.166455507278442,0.116264872252941,0.120785713195801,-0.059130899608135,-0.070303037762642,0.013952141627669,0.046396799385548,0.066431932151318,-0.002464082324877,-0.005333449225873));
res += mul(Get(s1,0,dy), float4x4(-0.023419665172696,0.209587261080742,0.038724090903997,-0.042469497770071,-0.001363024697639,0.016912287101150,0.161582365632057,-0.055898088961840,-0.039345946162939,-0.012169102206826,0.042493749409914,0.031311005353928,0.048014771193266,0.061041980981827,-0.014186766929924,-0.006441078614444));
res += mul(Get(s1,dx,-dy), float4x4(-0.053428418934345,0.027219768613577,0.059369746595621,0.026786305010319,-0.016081705689430,0.128332659602165,-0.007163950707763,0.063498184084892,0.008822685107589,-0.079706773161888,0.041384793817997,-0.010128960013390,-0.022682821378112,-0.016736289486289,0.004345263820142,0.002687858883291));
res += mul(Get(s1,dx,0), float4x4(0.089621365070343,-0.018811549991369,0.124673500657082,-0.005128436721861,-0.099294856190681,0.126559212803841,0.010191875509918,0.004956907127053,0.153448551893234,0.143359512090683,0.008711000904441,-0.012684455141425,-0.002824640367180,-0.007730729412287,-0.015528723597527,-0.007480292115360));
res += mul(Get(s1,dx,dy), float4x4(0.118140555918217,-0.040452674031258,0.090391740202904,0.033401560038328,0.082280442118645,0.111467204988003,0.099054358899593,-0.059504866600037,-0.151289448142052,0.033531881868839,-0.035311151295900,-0.015594280324876,-0.000668934138957,0.004709247965366,-0.014788763597608,-0.000962598249316));
res += mul(Get(s2,-dx,-dy), float4x4(-0.024233451113105,0.056735754013062,-0.025228589773178,0.079632572829723,0.052391014993191,0.008117288351059,-0.037978988140821,0.032956324517727,-0.012764336541295,0.003563703969121,-0.016088893637061,-0.013311209157109,-0.095964327454567,-0.054786831140518,-0.065787248313427,-0.062475327402353));
res += mul(Get(s2,-dx,0), float4x4(-0.028959998860955,0.005861425306648,-0.106475718319416,0.074019879102707,-0.036755114793777,0.081884503364563,-0.028813559561968,-0.038897428661585,-0.006901621352881,0.005212912335992,-0.009434185922146,-0.025207580998540,-0.055265568196774,-0.145671516656876,-0.185615628957748,0.003661665599793));
res += mul(Get(s2,-dx,dy), float4x4(0.033868506550789,0.009952521882951,-0.012835987843573,0.011226096190512,-0.021438200026751,0.001613570260815,0.010588295757771,-0.005401893053204,0.007360986899585,-0.019098293036222,-0.010092857293785,-0.021570391952991,-0.001695326995105,-0.038509570062160,0.010845150798559,0.010231027379632));
res += mul(Get(s2,0,-dy), float4x4(-0.006995979696512,-0.056314516812563,-0.007146249525249,0.101905301213264,-0.012938093394041,0.004984670784324,-0.002596299862489,0.001243672217242,-0.008310535922647,0.023438073694706,-0.003353873500600,0.002948924899101,0.007129910867661,-0.012106478214264,-0.029211843386292,0.026912989094853));
res += mul(Get(s2,0,0), float4x4(-0.027456561103463,-0.038313679397106,-0.027822690084577,0.050500348210335,0.003908996004611,-0.075268186628819,-0.029572268947959,0.032720260322094,-0.014654953032732,0.011019756086171,0.006881452165544,0.003232567803934,0.105057105422020,-0.112503230571747,0.134607374668121,0.045535884797573));
res += mul(Get(s2,0,dy), float4x4(0.005290606990457,-0.040914490818977,0.004397464450449,-0.017975328490138,0.072291240096092,-0.049498494714499,-0.076575778424740,-0.039952237159014,-0.009440189227462,0.022887587547302,0.014070135541260,0.009337130002677,-0.058025989681482,-0.062490087002516,0.193576678633690,-0.068134456872940));
res += mul(Get(s2,dx,-dy), float4x4(0.002050685463473,-0.023231957107782,-0.042259458452463,0.101778909564018,0.003591721644625,0.080003924667835,-0.027295514941216,0.041652180254459,0.002586042974144,-0.050628267228603,0.021188564598560,0.004501075483859,-0.077021576464176,0.038025312125683,-0.024291489273310,0.084780752658844));
res += mul(Get(s2,dx,0), float4x4(-0.051632586866617,-0.015007266774774,-0.015164377167821,0.005704466253519,0.000496275024489,0.038205511868000,-0.080602087080479,-0.037429977208376,0.002569634933025,-0.066499799489975,0.026844538748264,0.001667858799919,-0.012830853462219,0.054960656911135,0.037019502371550,-0.116122633218765));
res += mul(Get(s2,dx,dy), float4x4(0.010364740155637,-0.073563978075981,0.033997032791376,0.006820568349212,-0.053336519747972,0.015194246545434,-0.094415485858917,-0.094394043087959,0.001948109478690,-0.072204411029816,0.015356726013124,0.006764976307750,-0.090064026415348,-0.035466719418764,0.006713918875903,-0.033410821110010));
res += mul(Get(s3,-dx,-dy), float4x4(0.073419690132141,0.100654117763042,-0.055093072354794,-0.024445252493024,-0.071934595704079,0.036087118089199,-0.018280567601323,0.091681964695454,0.011717552319169,-0.069661252200603,-0.006169850938022,0.064294122159481,-0.003731038421392,-0.008978029713035,-0.044387906789780,-0.006195299327374));
res += mul(Get(s3,-dx,0), float4x4(-0.002474908716977,-0.041064921766520,0.022030517458916,0.000874731282238,0.047236196696758,-0.007590407039970,-0.008026082068682,0.043284252285957,-0.011066383682191,-0.002270689932629,0.020249411463737,-0.006522533949465,-0.034577537328005,0.034956064075232,-0.052288033068180,-0.035838294774294));
res += mul(Get(s3,-dx,dy), float4x4(0.008871890604496,0.017507964745164,0.143301591277122,-0.055393118411303,-0.001604382414371,0.030223045498133,-0.047031756490469,-0.007401600480080,0.006900200620294,-0.013361499644816,-0.006256991531700,-0.002905567176640,0.006293359212577,0.017328262329102,-0.026770152151585,-0.015136408619583));
res += mul(Get(s3,0,-dy), float4x4(0.090172737836838,-0.191267132759094,-0.065631181001663,0.143557369709015,0.017971770837903,0.045893479138613,-0.031464271247387,0.058506228029728,0.019504778087139,-0.016401525586843,-0.009009469300508,0.054322429001331,-0.013830575160682,-0.073419228196144,-0.013877978548408,0.029875280335546));
res += mul(Get(s3,0,0), float4x4(0.147128075361252,-0.031565982848406,-0.039768930524588,-0.062684252858162,0.115920029580593,0.123326808214188,-0.022864641621709,-0.013391158543527,-0.046728052198887,0.039733555167913,-0.016331044957042,-0.007930470630527,0.014210903085768,-0.049256987869740,0.018761424347758,0.009598968550563));
res += mul(Get(s3,0,dy), float4x4(-0.068901926279068,-0.024148030206561,-0.007824739441276,-0.096393249928951,0.014453409239650,0.039430588483810,-0.029564289376140,0.041098114103079,0.005017321556807,-0.007415026426315,-0.024063304066658,0.000670687702950,0.059130154550076,0.007432500366122,-0.011512301862240,-0.010277305729687));
res += mul(Get(s3,dx,-dy), float4x4(0.140403628349304,0.033860620111227,-0.053175847977400,-0.083967849612236,-0.008066901937127,-0.007703389506787,0.014233073219657,0.005362852010876,0.010169573128223,-0.014831203967333,-0.025152852758765,0.067782156169415,0.003824481274933,-0.038122028112411,-0.027731429785490,0.112052448093891));
res += mul(Get(s3,dx,0), float4x4(0.021317074075341,0.214399904012680,-0.054920177906752,-0.096167720854282,0.060889597982168,0.006743158679456,0.034210346639156,0.038228765130043,-0.001238485681824,0.006127501372248,-0.016823450103402,0.010021631605923,-0.007399227935821,-0.015468965284526,-0.012769269756973,0.000627289467957));
res += mul(Get(s3,dx,dy), float4x4(-0.062229935079813,0.098853610455990,0.049494128674269,0.043046049773693,0.038670022040606,0.006991675589234,-0.035362403839827,0.092289678752422,0.017824325710535,0.009877355769277,0.007016317453235,0.012980488128960,-0.010199539363384,-0.022452153265476,-0.037709046155214,0.011002577841282));
return max(float4(0,0,0,0), res);
}
