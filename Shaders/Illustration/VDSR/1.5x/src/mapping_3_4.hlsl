sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.015391468070447,0.057687699794769,-0.059096992015839,0.021815307438374,-0.040811929851770,-0.149967849254608,0.018405344337225,0.016585294157267,-0.070917956531048,0.091966524720192,0.137637332081795,0.015036248601973,-0.054149098694324,0.010840369388461,-0.013705429621041,-0.126247227191925));
res += mul(Get(s0,-dx,0), float4x4(-0.072825282812119,0.146607175469398,-0.025442916899920,-0.114497467875481,0.021221216768026,0.120471447706223,0.080488950014114,0.137180536985397,0.062174107879400,0.080042622983456,-0.072789803147316,-0.051524274051189,0.006150778383017,-0.223283395171165,-0.029420658946037,0.009276024065912));
res += mul(Get(s0,-dx,dy), float4x4(0.065552927553654,-0.021615102887154,0.143036216497421,-0.058063618838787,0.030518801882863,0.019337035715580,-0.069707289338112,-0.017510727047920,-0.010271028615534,-0.072585396468639,-0.019003720954061,0.041997421532869,-0.072910934686661,-0.067294642329216,0.034642398357391,0.057146444916725));
res += mul(Get(s0,0,-dy), float4x4(0.054372139275074,-0.080830357968807,-0.008619262836874,-0.025401411578059,-0.067161515355110,-0.027069620788097,0.112948089838028,0.044833209365606,-0.001356454915367,-0.066439099609852,0.008862554095685,-0.056297078728676,-0.005780340172350,-0.105370372533798,0.022034810855985,-0.078057907521725));
res += mul(Get(s0,0,0), float4x4(-0.124134466052055,0.251754820346832,0.141812935471535,-0.108878202736378,0.020942825824022,0.097389623522758,-0.040916830301285,-0.085696026682854,-0.020866844803095,0.237935304641724,-0.062249496579170,0.014134441502392,0.068892031908035,-0.015674240887165,-0.141684666275978,-0.015000271610916));
res += mul(Get(s0,0,dy), float4x4(-0.045761670917273,0.039553981274366,0.336946368217468,-0.046226661652327,-0.080342970788479,-0.041781764477491,0.062671937048435,-0.062847696244717,0.046985119581223,0.079655148088932,-0.076605178415775,0.022903388366103,-0.006460822187364,0.079282805323601,-0.024480350315571,0.089653961360455));
res += mul(Get(s0,dx,-dy), float4x4(-0.040512047708035,0.049165062606335,-0.018488340079784,0.077197730541229,0.055971998721361,-0.053059153258801,0.094821408390999,0.017083127051592,0.133104100823402,0.062415394932032,0.058769393712282,0.099802933633327,0.087922774255276,0.039501108229160,-0.077805168926716,0.120711795985699));
res += mul(Get(s0,dx,0), float4x4(-0.020323915407062,0.030829625204206,0.036146592348814,-0.056669082492590,-0.007838474586606,-0.077898278832436,-0.001870902022347,0.041803359985352,0.067458778619766,0.010517525486648,-0.083630561828613,-0.083999745547771,-0.036234863102436,-0.033054221421480,0.010830205865204,-0.000153951521497));
res += mul(Get(s0,dx,dy), float4x4(-0.000970179506112,-0.042424958199263,-0.125244408845901,0.010345811024308,0.063856184482574,-0.086937837302685,-0.013234570622444,-0.031333174556494,-0.004197455476969,-0.071791909635067,0.071571893990040,0.012826045975089,0.032116759568453,-0.117246501147747,-0.051859382539988,0.108244568109512));
res += mul(Get(s1,-dx,-dy), float4x4(0.027004705742002,-0.025639658793807,-0.025913558900356,-0.011709284968674,0.058031067252159,-0.023026717826724,-0.035727377980947,0.032023746520281,0.113286152482033,-0.017986278980970,-0.118086069822311,0.019080488011241,-0.010498449206352,0.074847698211670,0.117629185318947,0.079023800790310));
res += mul(Get(s1,-dx,0), float4x4(-0.095163933932781,-0.062655940651894,0.094022467732430,-0.064137682318687,0.002121696947142,0.061534646898508,0.129744559526443,0.027475137263536,-0.059286214411259,-0.129711762070656,-0.058184884488583,-0.039097812026739,-0.063899382948875,-0.148629069328308,0.109175369143486,-0.159409418702126));
res += mul(Get(s1,-dx,dy), float4x4(-0.043376270681620,0.037047576159239,0.087652035057545,-0.006788125261664,0.029290638864040,0.043792963027954,-0.078934706747532,-0.015813130885363,0.038040015846491,0.005986210890114,-0.105279512703419,0.050845477730036,-0.079579196870327,-0.096806883811951,-0.040797524154186,0.007949990220368));
res += mul(Get(s1,0,-dy), float4x4(0.067104160785675,-0.021104265004396,0.011539009399712,-0.131619065999985,-0.043465543538332,0.037870001047850,-0.020312422886491,-0.065558947622776,-0.100389197468758,-0.151315599679947,0.043416623026133,-0.048052728176117,-0.092243909835815,-0.037273887544870,-0.011276586912572,0.008230597712100));
res += mul(Get(s1,0,0), float4x4(-0.077115833759308,0.093924574553967,-0.152197986841202,-0.062168288975954,-0.008812814950943,-0.014832788147032,-0.078630633652210,0.013477896340191,0.040564954280853,0.044833533465862,0.138700991868973,0.020616106688976,0.027810573577881,-0.035843547433615,-0.035551268607378,0.023150792345405));
res += mul(Get(s1,0,dy), float4x4(-0.011695356108248,-0.005429644137621,0.142832651734352,-0.045759614557028,0.067034058272839,0.001557180890813,0.039029676467180,-0.026749107986689,0.008156568743289,0.042718570679426,-0.174002915620804,0.047588426619768,0.023475645110011,-0.082132495939732,0.076736688613892,-0.030042907223105));
res += mul(Get(s1,dx,-dy), float4x4(-0.076233334839344,-0.122075557708740,0.045568924397230,0.090372525155544,-0.097812525928020,-0.004981222562492,0.025702182203531,-0.114731006324291,-0.076456286013126,-0.103447213768959,-0.093706443905830,-0.013706238009036,-0.056575983762741,0.057265777140856,0.056635968387127,0.026632767170668));
res += mul(Get(s1,dx,0), float4x4(-0.062021572142839,0.018171142786741,0.031606130301952,0.008461794815958,-0.058668706566095,0.001340754446574,-0.050224397331476,0.037831380963326,0.032353874295950,0.090584620833397,0.033005684614182,-0.069702014327049,0.056881543248892,-0.030808655545115,-0.101887233555317,-0.038663864135742));
res += mul(Get(s1,dx,dy), float4x4(-0.061852041631937,0.020201012492180,0.168759360909462,0.147820249199867,0.075274467468262,-0.099075749516487,-0.109053373336792,-0.011449593119323,0.091591969132423,0.052826803177595,0.087483666837215,0.020364983007312,-0.077847041189671,0.006497083697468,-0.004529668949544,0.020631462335587));
res += mul(Get(s2,-dx,-dy), float4x4(0.096791960299015,0.059066537767649,-0.062664844095707,0.083686634898186,0.043241579085588,0.102534256875515,-0.027901945635676,0.121628016233444,0.052166666835546,0.052027761936188,-0.021611694246531,-0.085120342671871,-0.056176386773586,0.107306696474552,-0.016643002629280,0.043319072574377));
res += mul(Get(s2,-dx,0), float4x4(-0.162572711706161,-0.002073331270367,-0.013816207647324,-0.008137456141412,0.082538895308971,-0.011707752011716,-0.080449707806110,0.025015965104103,0.050646942108870,0.065668441355228,0.166680276393890,0.037093702703714,0.002898458857089,0.072007320821285,-0.085881523787975,-0.079627513885498));
res += mul(Get(s2,-dx,dy), float4x4(-0.025827109813690,0.070734225213528,0.065259359776974,-0.078936479985714,-0.035717651247978,0.092671707272530,-0.042567934840918,0.043126579374075,-0.104616679251194,-0.021179638803005,0.080940231680870,0.162255927920341,0.031561531126499,0.012968828901649,0.175848424434662,-0.070526830852032));
res += mul(Get(s2,0,-dy), float4x4(0.061087217181921,-0.164494410157204,0.077484883368015,-0.007782056462020,0.107011198997498,0.028404112905264,0.074540860950947,0.093864277005196,-0.111398592591286,0.119546212255955,-0.176693603396416,-0.011999864131212,0.008739249780774,-0.094930402934551,-0.019262405112386,0.022614054381847));
res += mul(Get(s2,0,0), float4x4(-0.017829349264503,-0.069686487317085,0.018006153404713,0.031699743121862,0.030131718143821,-0.006188248749822,-0.019983557984233,-0.051841720938683,0.100395090878010,0.028239995241165,-0.023451695218682,-0.029554925858974,0.014659832231700,-0.031520217657089,0.170680165290833,-0.012928097508848));
res += mul(Get(s2,0,dy), float4x4(-0.011682896874845,-0.047193896025419,-0.101767383515835,-0.018723862245679,-0.115493364632130,-0.072408847510815,-0.071898452937603,-0.014877954497933,0.063584297895432,-0.031390685588121,0.025231955572963,0.120870590209961,0.014090590178967,0.028257856145501,-0.042496435344219,-0.122257463634014));
res += mul(Get(s2,dx,-dy), float4x4(-0.021775214001536,0.061684992164373,-0.131373286247253,0.123461514711380,-0.027998642995954,-0.118523851037025,-0.070995815098286,0.061890184879303,0.028928177431226,0.005813181400299,0.064803935587406,-0.068787395954132,0.078606702387333,-0.006285957992077,-0.015719579532743,-0.126363947987556));
res += mul(Get(s2,dx,0), float4x4(0.136972561478615,-0.088262595236301,-0.134390830993652,-0.027124015614390,-0.019850140437484,-0.196877583861351,-0.064546875655651,-0.058567695319653,0.114854119718075,-0.009947896003723,0.019332006573677,-0.027147417888045,-0.200255393981934,0.106023184955120,-0.083554722368717,-0.126576989889145));
res += mul(Get(s2,dx,dy), float4x4(-0.051845788955688,0.009127600118518,0.161607787013054,-0.027150480076671,0.029888929799199,-0.018178053200245,-0.007112052757293,0.020001387223601,0.138972535729408,0.064196743071079,-0.003949658479542,-0.002775480737910,-0.001078956178389,0.048670854419470,-0.047442413866520,0.001736294245347));
res += mul(Get(s3,-dx,-dy), float4x4(-0.024180596694350,-0.138137802481651,0.016961533576250,0.035329613834620,-0.008231892250478,-0.036821395158768,0.114190801978111,0.137338325381279,0.011070948094130,-0.071883104741573,-0.033019606024027,-0.130554497241974,-0.049615576863289,0.021910900250077,-0.036606557667255,-0.119297243654728));
res += mul(Get(s3,-dx,0), float4x4(-0.044245798140764,-0.015487202443182,0.050506968051195,0.050990115851164,-0.092009805142879,-0.066818274557590,-0.124101035296917,-0.009682381525636,-0.015039250254631,0.128216445446014,-0.024429088458419,-0.130080729722977,-0.036917626857758,-0.089607335627079,-0.047248527407646,0.053149800747633));
res += mul(Get(s3,-dx,dy), float4x4(0.006201395299286,-0.024104759097099,-0.074499316513538,-0.074069194495678,-0.092136375606060,-0.143129214644432,-0.071199022233486,0.036444302648306,0.042579229921103,-0.017459293827415,-0.034709945321083,-0.024193992838264,0.144661277532578,0.023768758401275,0.013792933896184,-0.018984926864505));
res += mul(Get(s3,0,-dy), float4x4(0.028348714113235,0.198992744088173,-0.011077634058893,-0.145592361688614,0.034736976027489,-0.038171499967575,-0.048015370965004,-0.160883456468582,0.061845928430557,-0.034948248416185,0.035076767206192,-0.067235521972179,0.020817074924707,-0.078973412513733,0.063207514584064,-0.046059139072895));
res += mul(Get(s3,0,0), float4x4(-0.028091875836253,-0.009510774165392,-0.070969298481941,0.043139930814505,-0.002463599201292,-0.087280169129372,0.155688658356667,-0.104978561401367,-0.027501404285431,-0.101739995181561,-0.132811576128006,-0.078354232013226,0.022949172183871,-0.029264645650983,0.024253288283944,-0.008900394663215));
res += mul(Get(s3,0,dy), float4x4(0.008226991631091,-0.046191390603781,0.124024316668510,-0.006195546127856,0.092114627361298,0.095752492547035,0.086512453854084,-0.054837565869093,-0.002279902808368,0.020207408815622,-0.158555880188942,0.067807734012604,0.031593777239323,0.057594213634729,0.065566770732403,0.034521833062172));
res += mul(Get(s3,dx,-dy), float4x4(-0.130539759993553,-0.122990086674690,-0.108002595603466,-0.004910048097372,0.041669636964798,0.166999042034149,0.089010350406170,0.010894286446273,-0.054713390767574,0.028114967048168,0.011951335705817,-0.029708543792367,0.027339160442352,0.028586853295565,0.089978262782097,0.074436388909817));
res += mul(Get(s3,dx,0), float4x4(-0.094608210027218,-0.036175809800625,0.102779254317284,-0.033165387809277,-0.076245248317719,0.133658513426781,-0.044296182692051,0.035326398909092,0.084078215062618,0.097043618559837,0.054046601057053,0.035937003791332,0.033186908811331,-0.116861186921597,0.048359807580709,0.002913554664701));
res += mul(Get(s3,dx,dy), float4x4(-0.028361769393086,-0.130444556474686,-0.126193597912788,-0.023103218525648,-0.155231818556786,0.065965570509434,-0.066317029297352,0.192547336220741,-0.003298774128780,0.009821054525673,0.063991695642471,0.015935197472572,0.021623885259032,-0.079114027321339,0.154595941305161,-0.121454358100891));
return max(float4(0,0,0,0), res);
}
