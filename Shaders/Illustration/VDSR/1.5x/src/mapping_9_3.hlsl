sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.024545634165406,-0.058360125869513,-0.064650908112526,0.093906499445438,0.023956624791026,-0.059525713324547,-0.035152632743120,-0.059445202350616,0.049364570528269,-0.026252508163452,0.098000757396221,0.043752521276474,0.019098799675703,-0.085636205971241,0.044901598244905,0.017121605575085));
res += mul(Get(s0,-dx,0), float4x4(-0.013639414682984,-0.003326833015308,-0.035098046064377,0.074030913412571,-0.057790115475655,-0.104894421994686,0.070213906466961,-0.022573184221983,0.159840330481529,0.070696257054806,0.096917770802975,-0.067940197885036,0.122966244816780,0.003159412648529,-0.063618697226048,0.077474266290665));
res += mul(Get(s0,-dx,dy), float4x4(-0.061456013470888,-0.062752589583397,0.001943648792803,0.028570227324963,-0.016122331842780,-0.122112177312374,0.074014425277710,-0.060466457158327,-0.007332278881222,0.073420964181423,-0.013150879181921,-0.048096477985382,-0.093774534761906,-0.018249962478876,0.009476326406002,0.095188573002815));
res += mul(Get(s0,0,-dy), float4x4(-0.043474201112986,0.077303960919380,-0.052171688526869,-0.058995187282562,0.000467631412903,0.037280719727278,0.070041567087173,0.095839582383633,-0.022346651181579,-0.082435086369514,0.074194073677063,-0.011944133788347,0.132524162530899,0.230091229081154,0.194196239113808,-0.048759523779154));
res += mul(Get(s0,0,0), float4x4(0.033062186092138,0.076794490218163,-0.063832774758339,-0.032130487263203,0.130159795284271,-0.020344488322735,-0.026982953771949,-0.036291010677814,0.076323658227921,-0.082759410142899,0.012121361680329,0.055317863821983,0.082265287637711,0.147785514593124,0.030292721465230,-0.024624267593026));
res += mul(Get(s0,0,dy), float4x4(0.000053619314713,0.085350371897221,-0.061522692441940,-0.003341213334352,-0.161952525377274,-0.045606490224600,-0.010620810091496,-0.066307179629803,-0.130550488829613,-0.042695939540863,0.032020688056946,0.076016716659069,-0.038793649524450,0.028315525501966,0.052137099206448,0.129901513457298));
res += mul(Get(s0,dx,-dy), float4x4(0.121403001248837,0.057404994964600,-0.001552501576953,0.070577077567577,-0.010237609967589,-0.002470742212608,0.070736974477768,0.013128372840583,-0.063347153365612,0.017958460375667,-0.008820923976600,-0.063979312777519,0.116834737360477,0.079735063016415,0.015351842157543,0.001063022878952));
res += mul(Get(s0,dx,0), float4x4(-0.034726195037365,-0.003510581562296,0.099201649427414,0.047798011451960,0.082214497029781,-0.057311464101076,-0.064623773097992,-0.068876020610332,0.053405251353979,0.049511797726154,-0.030030187219381,0.007043041754514,-0.031110236421227,-0.004762485623360,0.019982004538178,0.001656293752603));
res += mul(Get(s0,dx,dy), float4x4(-0.164309963583946,-0.040239505469799,0.047172848135233,-0.003592988708988,-0.147831678390503,0.015635535120964,0.115768775343895,0.075290359556675,-0.052015256136656,0.008525470271707,0.029965838417411,0.018056446686387,-0.021293243393302,0.020556529983878,0.018027009442449,-0.031597193330526));
res += mul(Get(s1,-dx,-dy), float4x4(0.059322640299797,0.068400055170059,-0.086366102099419,0.013032415881753,-0.038446608930826,-0.019622437655926,0.040645886212587,0.008260007947683,-0.010885116644204,-0.034050237387419,-0.017403000965714,0.053051017224789,0.021151725202799,0.040452904999256,-0.040517870336771,0.016403475776315));
res += mul(Get(s1,-dx,0), float4x4(-0.020407583564520,0.018331248313189,-0.039307903498411,0.104742847383022,0.076033473014832,-0.012987494468689,-0.036539252847433,-0.076853804290295,0.039257634431124,-0.000360000733053,-0.122568398714066,0.057544235140085,-0.044090654700994,0.019047114998102,0.049083475023508,0.122090801596642));
res += mul(Get(s1,-dx,dy), float4x4(-0.014450918883085,0.100425466895103,0.061391491442919,-0.015599008649588,-0.119179874658585,0.066225811839104,0.035419717431068,-0.089631013572216,0.081307150423527,0.030903650447726,0.010197100229561,-0.067175351083279,-0.044891044497490,-0.045753106474876,0.028170969337225,-0.043784379959106));
res += mul(Get(s1,0,-dy), float4x4(-0.054759271442890,0.082498356699944,0.045708172023296,0.016860065981746,-0.118506520986557,-0.035963427275419,0.004063249100000,-0.205222383141518,0.019736394286156,-0.008548781275749,0.054445777088404,-0.025067364796996,0.080710150301456,0.000836959690787,-0.028788758441806,0.030037786811590));
res += mul(Get(s1,0,0), float4x4(0.020895263180137,0.046943467110395,-0.027244506403804,0.120526306331158,0.005685664713383,0.000599935476203,0.108683846890926,-0.115250825881958,-0.167963862419128,0.114673651754856,-0.131597518920898,0.133481383323669,-0.116348385810852,-0.021551350131631,0.129900142550468,-0.090354643762112));
res += mul(Get(s1,0,dy), float4x4(-0.017858475446701,-0.014391228556633,0.204722389578819,0.051204208284616,-0.074081599712372,0.101731143891811,-0.016747504472733,0.103777386248112,-0.161985665559769,-0.068311385810375,-0.013480194844306,0.089993119239807,-0.073425963521004,0.077053308486938,0.163085192441940,0.007004739250988));
res += mul(Get(s1,dx,-dy), float4x4(-0.014135697856545,0.066251546144485,0.105419084429741,-0.020592780783772,-0.077501542866230,-0.151547580957413,-0.074251525104046,0.018462628126144,-0.037391416728497,0.006515637505800,-0.054478317499161,0.145583271980286,-0.014488507993519,0.035431001335382,0.046298820525408,0.121807292103767));
res += mul(Get(s1,dx,0), float4x4(0.107646815478802,-0.038526937365532,0.012609394267201,-0.064993746578693,0.066850870847702,0.037122864276171,0.107929453253746,-0.034624710679054,0.034930042922497,0.001472864532843,-0.088229604065418,-0.003638931084424,0.043471854180098,-0.094217605888844,-0.058098640292883,0.004273479804397));
res += mul(Get(s1,dx,dy), float4x4(0.033775605261326,0.027820013463497,-0.004736041184515,0.084802374243736,-0.041712094098330,-0.074102379381657,-0.052799236029387,-0.068226024508476,-0.055196415632963,0.088390715420246,-0.028428774327040,-0.031223846599460,0.073127910494804,-0.056835439056158,0.104060150682926,0.027443166822195));
res += mul(Get(s2,-dx,-dy), float4x4(-0.116031579673290,0.045291706919670,0.027105219662189,0.002724835881963,0.068942673504353,0.056163966655731,-0.191602125763893,0.053290724754333,-0.077420428395271,-0.046475101262331,-0.017093714326620,0.042790863662958,0.050666090101004,0.049316722899675,0.033771682530642,0.058402813971043));
res += mul(Get(s2,-dx,0), float4x4(0.032260220497847,-0.185969874262810,-0.171411171555519,-0.019779393449426,0.043868169188499,-0.039310485124588,0.096033886075020,0.090524837374687,-0.007206316106021,-0.108238652348518,0.003034304361790,-0.017793288454413,-0.047305785119534,0.053879700601101,-0.080213598906994,0.003194162854925));
res += mul(Get(s2,-dx,dy), float4x4(-0.050479814410210,-0.074075274169445,-0.078207589685917,0.035949554294348,-0.085121750831604,-0.003270666114986,-0.110985182225704,0.074478067457676,-0.106581203639507,0.037227939814329,-0.073888964951038,0.120270580053329,-0.124097689986229,0.033213268965483,-0.013304358348250,-0.019853981211782));
res += mul(Get(s2,0,-dy), float4x4(-0.013779304921627,-0.127640604972839,-0.050907138735056,-0.037221167236567,-0.120526589453220,-0.112146764993668,-0.023558583110571,-0.043876957148314,0.007774278521538,-0.155040547251701,0.002017246792093,0.000835913524497,-0.006037397775799,-0.003548388835043,0.025963641703129,0.044574681669474));
res += mul(Get(s2,0,0), float4x4(-0.123201362788677,-0.070840775966644,0.010489587672055,0.049233317375183,0.017442123964429,-0.004479154478759,-0.032536059617996,0.003628392005339,-0.015613156370819,-0.178590551018715,0.050224635750055,-0.079474501311779,-0.053922880440950,0.012760333716869,-0.090845778584480,-0.010716487653553));
res += mul(Get(s2,0,dy), float4x4(-0.023758178576827,-0.119010366499424,0.041034996509552,0.023081706836820,-0.165854319930077,0.002865742426366,-0.011848942376673,0.079525969922543,-0.109476692974567,-0.003169050905854,0.022826971486211,-0.028209444135427,-0.057963263243437,0.101272016763687,-0.009093143045902,-0.084259532392025));
res += mul(Get(s2,dx,-dy), float4x4(-0.057631317526102,0.007518814411014,-0.082056559622288,-0.062829546630383,-0.022341646254063,0.116958007216454,0.047060821205378,-0.017610354349017,-0.012675658799708,0.007522953208536,0.029695972800255,0.049886770546436,-0.057306256145239,0.141591086983681,-0.046664297580719,-0.194960504770279));
res += mul(Get(s2,dx,0), float4x4(-0.047918397933245,-0.041652351617813,-0.033038329333067,-0.012132002972066,-0.061482302844524,0.012533453293145,-0.065893001854420,0.041793387383223,0.006156262941658,-0.025825059041381,-0.074932903051376,0.087899558246136,0.069416798651218,0.055833261460066,-0.051693800836802,0.040914680808783));
res += mul(Get(s2,dx,dy), float4x4(0.087615758180618,0.021151760593057,-0.001137059764005,0.027840111404657,-0.025540482252836,0.081785820424557,0.026448538526893,-0.009866473264992,-0.056609477847815,-0.021761039271951,-0.138009473681450,-0.022589797154069,-0.094468362629414,0.097039707005024,0.066103331744671,0.043403740972281));
res += mul(Get(s3,-dx,-dy), float4x4(0.005328678060323,0.027089243754745,-0.032616723328829,-0.090109109878540,-0.007330026477575,-0.013519207946956,0.030027529224753,-0.070015467703342,-0.062180843204260,0.082624904811382,-0.012596859596670,0.010821955278516,0.054893262684345,0.035781346261501,-0.065401718020439,-0.104260727763176));
res += mul(Get(s3,-dx,0), float4x4(-0.015543623827398,-0.061565998941660,0.069171011447906,-0.056156598031521,0.118034601211548,-0.013673476874828,0.036456998437643,-0.016216102987528,-0.016739325597882,0.074602082371712,-0.033237930387259,0.085230842232704,-0.064763493835926,0.031657148152590,0.092509627342224,0.037686742842197));
res += mul(Get(s3,-dx,dy), float4x4(0.013429992832243,-0.119468405842781,-0.008048290386796,-0.082834966480732,0.007843145169318,-0.072140388190746,0.029449876397848,0.011251642368734,0.015284243039787,-0.058862403035164,0.024993501603603,0.147597208619118,0.035259384661913,0.097056433558464,-0.073482051491737,0.063184566795826));
res += mul(Get(s3,0,-dy), float4x4(-0.040178418159485,-0.012225506827235,0.089555919170380,-0.021833494305611,-0.129876583814621,-0.159563988447189,-0.047164551913738,0.009663645178080,-0.074973486363888,-0.063881061971188,-0.081704407930374,-0.011566164903343,-0.039151806384325,0.039820779114962,0.009542993269861,0.018928103148937));
res += mul(Get(s3,0,0), float4x4(0.037854619324207,0.021659299731255,0.022777857258916,-0.038450237363577,0.043394435197115,-0.042368348687887,0.000667063926812,0.009797707200050,0.022349186241627,0.084831789135933,-0.015547820366919,-0.086693927645683,0.055026460438967,-0.079048462212086,-0.048100493848324,-0.001725495327264));
res += mul(Get(s3,0,dy), float4x4(0.080378599464893,-0.106705352663994,-0.145168080925941,0.054796639829874,0.041810359805822,0.071931697428226,-0.046411368995905,0.026784826070070,-0.001620388356969,0.053489472717047,-0.066480390727520,-0.106249816715717,0.022377772256732,0.088613942265511,0.153158709406853,-0.044789750128984));
res += mul(Get(s3,dx,-dy), float4x4(-0.002385572530329,0.057651728391647,0.007779651787132,0.013382295146585,-0.068398974835873,-0.068427756428719,0.007257534191012,0.037753812968731,0.108184218406677,0.057043112814426,-0.033801246434450,-0.042722605168819,0.087870970368385,0.131745547056198,-0.020210459828377,-0.050361204892397));
res += mul(Get(s3,dx,0), float4x4(-0.007676737383008,0.060802355408669,-0.057412989437580,0.087013572454453,-0.041695367544889,0.014467596076429,-0.028426999226213,-0.019376531243324,0.044294502586126,0.016662925481796,0.069273993372917,-0.075870797038078,-0.041630648076534,-0.021587990224361,0.136424124240875,-0.047120258212090));
res += mul(Get(s3,dx,dy), float4x4(0.056318134069443,0.033238921314478,-0.046836216002703,-0.066421337425709,0.050494883209467,-0.092565946280956,0.047140594571829,-0.066360943019390,-0.038825552910566,0.040280535817146,0.047013338655233,-0.029038265347481,0.044857598841190,-0.010447373613715,0.036086864769459,-0.068331778049469));
return max(float4(0,0,0,0), res);
}
