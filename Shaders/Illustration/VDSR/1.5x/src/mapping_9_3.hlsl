sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.034892462193966,0.001284212921746,-0.003481988329440,0.044197849929333,-0.047137491405010,-0.122543372213840,0.044940292835236,0.024113293737173,0.029567178338766,0.130354598164558,-0.000985865714028,0.013873388059437,0.005973703227937,-0.081138782203197,-0.069986455142498,0.067215308547020));
res += mul(Get(s0,-dx,0), float4x4(0.000798461085651,0.004132293630391,0.036585573107004,0.019589824602008,-0.089462719857693,-0.043746411800385,0.075878761708736,-0.010359729640186,-0.054388359189034,-0.027570942416787,-0.032539803534746,0.032010693103075,-0.066668964922428,-0.062032319605350,-0.016080891713500,0.102195210754871));
res += mul(Get(s0,-dx,dy), float4x4(-0.019506184384227,-0.026354266330600,0.017030319198966,-0.050718355923891,-0.057940304279327,0.059190757572651,0.062987536191940,-0.056822575628757,0.026649104431272,0.038533207029104,0.018820429220796,-0.017405932769179,-0.048186864703894,-0.004083504900336,-0.013916569761932,0.055911172181368));
res += mul(Get(s0,0,-dy), float4x4(-0.084820218384266,0.110895670950413,0.081677600741386,0.044515546411276,0.009669607505202,0.103725060820580,0.011593285948038,-0.056548446416855,0.071751192212105,0.056796699762344,-0.066406652331352,0.017750004306436,-0.024295546114445,-0.032090850174427,-0.047023057937622,0.052902113646269));
res += mul(Get(s0,0,0), float4x4(0.078559674322605,0.086426593363285,-0.151523321866989,0.008334654383361,-0.049664571881294,0.054430957883596,-0.089998640120029,0.006290628109127,0.134584814310074,0.022719966247678,0.029626987874508,0.086113527417183,-0.106163062155247,-0.013128586113453,-0.048980969935656,-0.041018839925528));
res += mul(Get(s0,0,dy), float4x4(0.046287331730127,0.030156645923853,-0.094668693840504,0.228589951992035,-0.113702230155468,0.045490890741348,-0.006126265972853,0.008525045588613,0.102087944746017,0.057270493358374,-0.046277157962322,0.022151660174131,-0.004714989569038,0.007907530292869,-0.057660453021526,0.093572713434696));
res += mul(Get(s0,dx,-dy), float4x4(-0.056037217378616,-0.011623996309936,0.026387359946966,-0.009545209817588,0.032569348812103,-0.098906911909580,0.062365945428610,-0.054315913468599,-0.020450782030821,0.077106244862080,-0.023598616942763,-0.000488985155243,0.061700947582722,-0.073428697884083,-0.045921258628368,0.054189674556255));
res += mul(Get(s0,dx,0), float4x4(-0.077054068446159,0.027873998507857,-0.083357527852058,-0.019315246492624,0.118261076509953,-0.188446477055550,-0.071317121386528,-0.055588588118553,0.002742816228420,-0.025459153577685,0.021541127935052,0.012495713308454,-0.087919361889362,-0.017875786870718,0.014598735608160,0.104569166898727));
res += mul(Get(s0,dx,dy), float4x4(-0.035808917135000,0.010269013233483,-0.014495647512376,-0.052221771329641,-0.085068680346012,0.282906740903854,-0.065998598933220,-0.041926588863134,-0.044239215552807,0.050884082913399,-0.086538717150688,-0.040718052536249,-0.097841858863831,-0.033228307962418,-0.032229181379080,0.044573284685612));
res += mul(Get(s1,-dx,-dy), float4x4(0.047169156372547,0.036301348358393,-0.029825333505869,-0.052377179265022,-0.068477757275105,-0.100234493613243,0.037158727645874,-0.034042250365019,-0.080249056220055,-0.027516776695848,0.056272607296705,-0.068388566374779,0.002261874033138,-0.032197505235672,0.049798388034105,-0.018262101337314));
res += mul(Get(s1,-dx,0), float4x4(0.090219572186470,0.012732118368149,0.009512557648122,0.079211451113224,-0.090642116963863,0.030211422592402,-0.006407801527530,0.052156113088131,-0.011838288046420,-0.081827349960804,0.047870103269815,-0.076497822999954,0.052811555564404,-0.070161990821362,0.055214211344719,-0.003792559029534));
res += mul(Get(s1,-dx,dy), float4x4(0.077426448464394,-0.021263930946589,0.041998252272606,0.059647180140018,-0.083519101142883,0.030057553201914,0.172665894031525,-0.013500613160431,0.003259141230956,-0.066225670278072,0.064358785748482,-0.005067199934274,0.101503908634186,-0.015504446811974,-0.052544817328453,0.014935939572752));
res += mul(Get(s1,0,-dy), float4x4(0.196985751390457,-0.034618955105543,0.022549429908395,-0.101703725755215,-0.035625062882900,0.023445229977369,0.017282010987401,-0.048804312944412,-0.079190902411938,0.103857107460499,0.114784181118011,-0.049037024378777,0.006623791530728,0.270355433225632,0.031170884147286,0.051938232034445));
res += mul(Get(s1,0,0), float4x4(0.074350811541080,-0.045105755329132,0.015831544995308,0.026007527485490,-0.054385844618082,0.160338670015335,-0.058240558952093,0.134102985262871,-0.055462215095758,0.177458688616753,-0.083602115511894,-0.110581114888191,0.008530029095709,-0.027300056070089,-0.050052653998137,-0.054356753826141));
res += mul(Get(s1,0,dy), float4x4(0.042496014386415,0.080053009092808,0.001622209092602,0.066799513995647,-0.108793087303638,-0.049474216997623,0.116392232477665,-0.019467398524284,0.049481052905321,-0.176967874169350,-0.048137035220861,-0.104876518249512,0.079603940248489,-0.054631154984236,0.026833983138204,-0.026570457965136));
res += mul(Get(s1,dx,-dy), float4x4(-0.026377700269222,0.098188288509846,-0.038107238709927,0.086491219699383,-0.053565274924040,-0.091062493622303,0.031050130724907,-0.006657101213932,-0.048196222633123,0.033632948994637,0.131361618638039,-0.016279727220535,0.045200169086456,-0.017526982352138,0.046193521469831,-0.017894798889756));
res += mul(Get(s1,dx,0), float4x4(0.095620244741440,-0.075197443366051,0.060371804982424,0.046846281737089,-0.011870930902660,-0.053461890667677,0.034343026578426,-0.006485792808235,0.045479044318199,0.008551604114473,-0.020311245694757,0.018170539289713,0.028098307549953,-0.013930855318904,0.029665935784578,0.010299155488610));
res += mul(Get(s1,dx,dy), float4x4(0.098657593131065,-0.038191664963961,0.007638954091817,0.166753113269806,-0.077367477118969,-0.013113881461322,-0.002281055785716,-0.054472193121910,-0.004008782561868,-0.054149046540260,-0.059194821864367,-0.009877817705274,-0.015564804896712,-0.022922778502107,0.057331971824169,0.043654404580593));
res += mul(Get(s2,-dx,-dy), float4x4(-0.003652425482869,0.071086697280407,0.028634272515774,0.033780459314585,-0.015645220875740,0.019819144159555,0.057537451386452,-0.014729836955667,0.079396203160286,-0.082088924944401,-0.009368591010571,0.030927890911698,-0.039865419268608,-0.008121740072966,-0.018827581778169,-0.105468675494194));
res += mul(Get(s2,-dx,0), float4x4(-0.015908306464553,-0.018867338076234,-0.004969916306436,0.005532808601856,0.012338753789663,-0.038243345916271,0.054099254310131,-0.014336543157697,0.024813799187541,-0.023485936224461,0.171418100595474,0.022062102332711,-0.004088763147593,-0.027982816100121,0.076442077755928,-0.089420154690742));
res += mul(Get(s2,-dx,dy), float4x4(-0.066281534731388,-0.010941072367132,-0.031673815101385,0.056261550635099,0.006577096413821,-0.044817522168159,-0.010034629143775,0.123228646814823,0.041578389704227,0.022819535806775,-0.011959655210376,-0.063742093741894,0.022909002378583,0.016549004241824,0.006905262824148,-0.044767644256353));
res += mul(Get(s2,0,-dy), float4x4(0.069016009569168,0.102605938911438,-0.001489438815042,0.051605653017759,-0.055464386940002,0.047509875148535,-0.055879816412926,0.023525886237621,0.069666795432568,0.081876419484615,-0.069730527698994,0.026132065802813,-0.067975811660290,0.030379798263311,-0.011005044914782,-0.176852270960808));
res += mul(Get(s2,0,0), float4x4(0.099327728152275,0.021382525563240,0.045090980827808,0.019987354055047,-0.100055776536465,-0.170804396271706,0.041387014091015,-0.138477966189384,-0.011374947614968,0.025872854515910,-0.016992982476950,0.095525227487087,-0.022354077547789,-0.049247093498707,-0.036051154136658,-0.139545172452927));
res += mul(Get(s2,0,dy), float4x4(0.082721240818501,0.004269071854651,0.027479026466608,0.023600390180945,-0.016553942114115,0.060884006321430,0.023897381499410,0.029577579349279,0.076417289674282,0.030972586944699,-0.115483812987804,0.032532084733248,0.050707023590803,-0.061199214309454,0.079686775803566,-0.063147492706776));
res += mul(Get(s2,dx,-dy), float4x4(0.032594971358776,0.004266900941730,-0.038868777453899,-0.009874493815005,0.033750932663679,-0.021133163943887,-0.072020292282104,0.098878234624863,0.035449672490358,-0.142256468534470,-0.041042152792215,-0.022816907614470,-0.002871824661270,0.010268782265484,0.047622870653868,-0.044096179306507));
res += mul(Get(s2,dx,0), float4x4(-0.022643132135272,0.133390754461288,-0.049333218485117,0.039939757436514,-0.067077308893204,-0.081088006496429,-0.024906607344747,0.060472011566162,-0.013054821640253,-0.000906795146875,0.000181587340194,0.035666551440954,0.083609327673912,-0.081729374825954,0.039886374026537,-0.174924001097679));
res += mul(Get(s2,dx,dy), float4x4(0.055804539471865,-0.001499731326476,-0.020359255373478,0.046199057251215,-0.052780073136091,0.080873690545559,-0.056344982236624,0.148352012038231,0.030883252620697,0.189404293894768,-0.042496833950281,0.038301695138216,0.014839868061244,0.071706838905811,-0.035760015249252,-0.106072515249252));
res += mul(Get(s3,-dx,-dy), float4x4(-0.051548391580582,-0.039896287024021,0.143152475357056,-0.052091650664806,0.017821470275521,0.013314464129508,0.082491293549538,-0.042231988161802,0.065713278949261,0.009911876171827,0.005723425652832,-0.031161917373538,0.013304212130606,0.010096543468535,-0.021080844104290,-0.015736477449536));
res += mul(Get(s3,-dx,0), float4x4(-0.016030574217439,-0.034546397626400,0.205059647560120,-0.011077925562859,-0.006159986369312,-0.034906536340714,0.001799101475626,-0.089798703789711,-0.074447028338909,-0.018825469538569,0.023024512454867,-0.059865873306990,0.011879482306540,0.001031072111800,-0.009637644514441,-0.022205978631973));
res += mul(Get(s3,-dx,dy), float4x4(-0.014498769305646,0.074556753039360,0.025264421477914,0.009968217462301,-0.046963665634394,-0.005708249285817,0.022111486643553,0.025288324803114,0.059080492705107,0.012263905256987,-0.004221705254167,-0.026979623362422,0.132452920079231,-0.048411831259727,0.025312345474958,0.029890142381191));
res += mul(Get(s3,0,-dy), float4x4(0.029047129675746,0.092671483755112,0.041885484009981,0.058567393571138,-0.027741985395551,0.056917656213045,0.028656084090471,0.033895321190357,0.102719217538834,0.030258249491453,-0.013689203187823,-0.094934739172459,-0.057093270123005,0.080403491854668,-0.027891134843230,0.118054255843163));
res += mul(Get(s3,0,0), float4x4(0.077555738389492,0.059551212936640,-0.145777404308319,0.015801006928086,0.045543257147074,-0.096638992428780,0.055708974599838,-0.016346132382751,0.038962889462709,-0.164457380771637,0.052225768566132,0.010748188942671,-0.062004346400499,0.028880380094051,0.072756871581078,0.006387737579644));
res += mul(Get(s3,0,dy), float4x4(0.053554277867079,-0.031647212803364,-0.028756886720657,-0.009071923792362,0.070739679038525,-0.024042872712016,-0.021190624684095,-0.006112606264651,0.088816590607166,-0.048762109130621,0.049764260649681,0.089774779975414,0.038088466972113,-0.005165308248252,-0.009927460923791,0.001675389707088));
res += mul(Get(s3,dx,-dy), float4x4(-0.013438144698739,0.030955221503973,-0.051168169826269,-0.026257896795869,0.043486230075359,-0.018801052123308,0.013641302473843,0.041008334606886,-0.085191391408443,0.101579561829567,-0.023160006850958,0.067456364631653,-0.060308832675219,0.044363841414452,0.001564164296724,0.058055017143488));
res += mul(Get(s3,dx,0), float4x4(-0.011462402530015,-0.021418962627649,-0.124773226678371,-0.125587746500969,0.043610349297523,0.001500680460595,-0.054251521825790,0.011532115750015,-0.099068842828274,-0.063477113842964,-0.034133080393076,0.046768344938755,-0.075955979526043,0.018756438046694,0.009062487632036,0.077595911920071));
res += mul(Get(s3,dx,dy), float4x4(0.001861450145952,0.002049335977063,-0.031736209988594,-0.031518377363682,0.011704330332577,-0.024618947878480,-0.004727208055556,0.057522591203451,0.004032690543681,-0.029819071292877,-0.015085415914655,0.009368679486215,-0.022603489458561,-0.033540956676006,-0.002352822571993,0.034380637109280));
return max(float4(0,0,0,0), res);
}
