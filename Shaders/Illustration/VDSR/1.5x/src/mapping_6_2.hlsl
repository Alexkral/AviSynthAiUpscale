sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.095735691487789,0.084443032741547,-0.011524646542966,-0.041835062205791,-0.133964508771896,0.008032150566578,0.109405778348446,-0.179493144154549,-0.029445134103298,0.032604087144136,0.031601823866367,-0.052727941423655,-0.049012787640095,0.043184690177441,-0.014265405945480,0.043439079076052));
res += mul(Get(s0,-dx,0), float4x4(0.176164552569389,0.020700011402369,0.058766927570105,-0.060620233416557,-0.021331714466214,-0.130375325679779,0.036772131919861,-0.076026998460293,0.007358771748841,0.016116252169013,-0.104807123541832,0.012560290284455,-0.017237506806850,0.032651904970407,0.011163548566401,-0.066595450043678));
res += mul(Get(s0,-dx,dy), float4x4(0.079057760536671,-0.027707180008292,-0.056960374116898,0.014909800142050,0.014388613402843,-0.051326412707567,-0.120017230510712,-0.024592760950327,-0.006343503948301,-0.004741107113659,0.046131454408169,-0.023065455257893,-0.027761761099100,-0.023058008402586,0.103936247527599,-0.035539913922548));
res += mul(Get(s0,0,-dy), float4x4(-0.109055593609810,-0.015466978773475,-0.066033169627190,-0.026460798457265,0.134660616517067,0.067829810082912,0.117987498641014,0.076321355998516,0.033019229769707,-0.136138141155243,-0.177508518099785,0.016216147691011,-0.066451385617256,0.095604032278061,-0.031804692000151,-0.003806807566434));
res += mul(Get(s0,0,0), float4x4(0.074254058301449,-0.065218150615692,0.113981962203979,0.015333162620664,0.127830862998962,0.012146396562457,0.027988610789180,-0.028916854411364,0.043219450861216,-0.033748652786016,0.002541775582358,0.064289793372154,0.025678675621748,-0.056394793093204,-0.035805329680443,-0.047220397740602));
res += mul(Get(s0,0,dy), float4x4(0.002700767712668,0.013214258477092,0.056206259876490,-0.035053946077824,-0.114968791604042,0.170727670192719,0.108819477260113,-0.046747580170631,-0.178388059139252,-0.124600514769554,0.005127686541528,-0.034268695861101,0.011287720873952,-0.063123524188995,-0.098654091358185,0.039751373231411));
res += mul(Get(s0,dx,-dy), float4x4(0.148246601223946,0.068487301468849,0.018013749271631,0.015667729079723,-0.008517487905920,0.004500644747168,-0.134718999266624,0.030332840979099,0.055098131299019,-0.041602194309235,-0.010916914790869,0.118034698069096,0.110110603272915,-0.032396677881479,0.103578865528107,0.077352620661259));
res += mul(Get(s0,dx,0), float4x4(-0.001150277676061,0.023262573406100,-0.159855529665947,0.078091852366924,-0.027329586446285,-0.142408251762390,0.037639860063791,0.055080045014620,-0.020898364484310,0.010471139103174,0.021933140233159,-0.001580066862516,0.046872444450855,-0.089420631527901,0.061452157795429,-0.038114968687296));
res += mul(Get(s0,dx,dy), float4x4(-0.054823499172926,0.044214334338903,-0.043123044073582,-0.053121972829103,-0.192733049392700,0.035230230540037,-0.004693842958659,0.038298375904560,-0.187680408358574,-0.012208530679345,-0.023886745795608,-0.024915724992752,-0.029156260192394,-0.100459642708302,0.022885870188475,0.049417518079281));
res += mul(Get(s1,-dx,-dy), float4x4(0.000087915839686,0.096276201307774,0.055876914411783,-0.076527699828148,-0.020410565659404,-0.093102760612965,0.065915554761887,-0.121173851191998,0.123668164014816,0.141759559512138,-0.014788843691349,-0.104669295251369,0.094548925757408,0.190856516361237,0.017644766718149,-0.057508882135153));
res += mul(Get(s1,-dx,0), float4x4(0.026234708726406,0.026354204863310,0.001104860799387,0.025321573019028,0.063780106604099,-0.106454215943813,0.002415583236143,-0.019752243533731,0.060187827795744,0.010906987823546,0.057982355356216,0.038982104510069,-0.041181527078152,-0.138214677572250,-0.125306323170662,-0.022985653951764));
res += mul(Get(s1,-dx,dy), float4x4(0.059089630842209,0.078707568347454,-0.038920719176531,-0.044062744826078,-0.041283044964075,0.042756989598274,-0.061215072870255,-0.097897663712502,0.199774578213692,0.075729586184025,0.068900406360626,0.015020043589175,-0.054583791643381,-0.102318629622459,-0.079955227673054,0.007781486492604));
res += mul(Get(s1,0,-dy), float4x4(0.087520606815815,0.019217627122998,-0.075587257742882,-0.066857010126114,0.090249069035053,-0.022765552625060,-0.035837471485138,0.006266275886446,-0.083949200809002,0.066827014088631,-0.026827983558178,-0.051466673612595,-0.002975720679387,-0.015805996954441,0.107595473527908,-0.067389503121376));
res += mul(Get(s1,0,0), float4x4(-0.033455647528172,0.122233472764492,0.001464986475185,0.087452180683613,-0.019219728186727,-0.081664346158504,-0.024981675669551,-0.155636012554169,-0.105459459125996,0.109858691692352,-0.013170503079891,0.239178434014320,0.013805510476232,-0.053670324385166,0.162747323513031,0.021563958376646));
res += mul(Get(s1,0,dy), float4x4(0.016665400937200,-0.082856141030788,0.114122360944748,0.000266750517767,-0.056568130850792,0.044702287763357,-0.053706731647253,-0.050733584910631,-0.045876599848270,0.030032489448786,0.105702362954617,0.091516874730587,-0.032652080059052,0.111793354153633,0.132451713085175,0.036250013858080));
res += mul(Get(s1,dx,-dy), float4x4(0.066829584538937,-0.013356344774365,0.067104347050190,-0.090651378035545,0.065952897071838,0.047904022037983,-0.027133528143167,-0.029700221493840,-0.075388699769974,0.051649168133736,-0.097396306693554,0.066192597150803,-0.053502473980188,0.123379535973072,-0.083336226642132,-0.041077196598053));
res += mul(Get(s1,dx,0), float4x4(-0.055154759436846,0.130687817931175,0.016398914158344,0.013626657426357,0.006119474768639,0.041056126356125,0.025951487943530,-0.013009062968194,0.033485379070044,-0.051376163959503,-0.000838649983052,0.008893967606127,0.134128317236900,0.084335476160049,-0.046206768602133,-0.088529661297798));
res += mul(Get(s1,dx,dy), float4x4(0.086752466857433,0.015887625515461,0.047381557524204,-0.029646974056959,0.116584733128548,0.049746878445148,-0.056972939521074,0.019405951723456,-0.024575851857662,-0.042343027889729,-0.110236451029778,-0.118972629308701,-0.252926528453827,-0.012352808378637,-0.020212981849909,-0.024511916562915));
res += mul(Get(s2,-dx,-dy), float4x4(0.129612475633621,-0.004171362146735,0.002546624047682,0.028014956042171,-0.046192612498999,0.034564811736345,0.031132483854890,-0.036466933786869,-0.073261842131615,-0.002984070451930,-0.118344806134701,-0.052850130945444,0.041412327438593,-0.063205704092979,0.023272708058357,-0.037655390799046));
res += mul(Get(s2,-dx,0), float4x4(-0.066403433680534,-0.121687859296799,-0.011244363151491,-0.093151859939098,-0.079063713550568,-0.020650042220950,0.103768564760685,0.063039936125278,0.202966123819351,-0.134341135621071,-0.063395656645298,0.005096829961985,0.101096205413342,-0.045967217534781,-0.079485706984997,0.063096068799496));
res += mul(Get(s2,-dx,dy), float4x4(0.060440830886364,-0.040167450904846,0.052983496338129,0.082370601594448,-0.071403905749321,0.145923808217049,0.046815678477287,-0.098446868360043,-0.037198390811682,-0.000015871935830,-0.017236135900021,-0.002073657931760,-0.040371723473072,-0.088341660797596,0.079228803515434,0.140763148665428));
res += mul(Get(s2,0,-dy), float4x4(-0.116380050778389,0.076567903161049,0.002651103772223,0.001273603877053,-0.016604108735919,-0.054997842758894,-0.118770450353622,0.019603349268436,0.106076180934906,-0.028790034353733,0.013464964926243,0.027528401464224,0.088384315371513,0.063423730432987,-0.032170757651329,-0.039305064827204));
res += mul(Get(s2,0,0), float4x4(0.059172235429287,-0.083112142980099,0.069828219711781,-0.045257009565830,-0.028662946075201,0.056819394230843,0.129194721579552,0.253434419631958,0.024373881518841,0.052195113152266,-0.045055251568556,0.084581844508648,0.059224523603916,0.029315249994397,0.026284739375114,-0.004855337087065));
res += mul(Get(s2,0,dy), float4x4(-0.080839827656746,-0.054846439510584,0.026552712544799,-0.030030535534024,-0.130019128322601,-0.014933423139155,-0.054816305637360,-0.009583367966115,0.005597575567663,0.008602692745626,0.080310955643654,0.034722220152617,0.025984661653638,0.012662759050727,0.009617680683732,0.027433931827545));
res += mul(Get(s2,dx,-dy), float4x4(0.157271817326546,0.033213868737221,0.018704483285546,0.065014034509659,-0.064280599355698,-0.021897191181779,0.035474732518196,-0.047970101237297,0.013614908792078,0.045624904334545,-0.116216152906418,-0.046102497726679,-0.003617948852479,-0.056923821568489,0.068134576082230,0.076477833092213));
res += mul(Get(s2,dx,0), float4x4(0.020094010978937,0.013817891478539,-0.027114253491163,-0.000523508177139,0.025800717994571,-0.100653320550919,-0.175065174698830,0.081625252962112,0.077898927032948,0.058959256857634,0.054858222603798,-0.001902419724502,-0.022902689874172,0.101824797689915,0.005182394757867,0.012492726556957));
res += mul(Get(s2,dx,dy), float4x4(0.009718671441078,0.042645025998354,0.031920485198498,-0.007329111918807,0.002788563957438,0.045875955373049,0.114720441401005,-0.051780197769403,-0.079890765249729,0.001952491933480,0.051282752305269,0.008616529405117,0.043807692825794,-0.113981358706951,-0.011082147248089,0.000472246349091));
res += mul(Get(s3,-dx,-dy), float4x4(-0.028928741812706,0.121754609048367,-0.033511247485876,0.019540820270777,0.032859928905964,-0.108237110078335,0.036414161324501,0.045269791036844,-0.026283165439963,-0.030918603762984,-0.068753682076931,-0.008137021213770,0.095577307045460,-0.003535634605214,-0.093948453664780,0.018931448459625));
res += mul(Get(s3,-dx,0), float4x4(-0.053207140415907,0.032418482005596,-0.016389910131693,-0.112626388669014,0.066798754036427,-0.054608132690191,0.097376309335232,0.014612928032875,0.002621075836942,0.109042637050152,-0.012431978248060,0.000933506817091,-0.010527944192290,-0.081864677369595,-0.043532017618418,-0.021375464275479));
res += mul(Get(s3,-dx,dy), float4x4(0.163456931710243,0.044989906251431,0.004554720595479,-0.056409340351820,-0.112181231379509,0.019401591271162,0.074385173618793,-0.081945002079010,-0.063278324902058,0.038791216909885,0.045310303568840,0.097963184118271,0.014300945214927,0.051658242940903,-0.070559769868851,-0.042610671371222));
res += mul(Get(s3,0,-dy), float4x4(0.065198563039303,0.149835675954819,-0.089392706751823,-0.005999111104757,0.129107341170311,0.001112490775995,-0.085329778492451,-0.092398628592491,0.002832369878888,-0.002512515988201,-0.012737248092890,0.094349831342697,0.081774584949017,0.088230103254318,-0.157867953181267,0.021644448861480));
res += mul(Get(s3,0,0), float4x4(0.006934439297765,-0.175454780459404,-0.027738103643060,-0.086922071874142,-0.013134859502316,0.050071734935045,0.009838230907917,0.059235464781523,-0.048720043152571,0.062225684523582,0.052913591265678,-0.046754948794842,-0.082721635699272,0.003666643518955,0.007034845650196,0.037962898612022));
res += mul(Get(s3,0,dy), float4x4(0.121274009346962,0.060171984136105,-0.059972967952490,-0.071640282869339,-0.148183166980743,0.051855318248272,0.027392726391554,0.043750103563070,0.007680525537580,0.051326315850019,0.024354644119740,0.050656784325838,0.001246303902008,0.016487680375576,0.014596363529563,0.046746369451284));
res += mul(Get(s3,dx,-dy), float4x4(-0.028251355513930,0.082652427256107,-0.046669300645590,-0.024575045332313,-0.109859116375446,-0.074539378285408,-0.057653058320284,-0.053690418601036,0.091710098087788,-0.055323597043753,-0.052609886974096,0.051458623260260,0.080046467483044,-0.001614742330275,0.042636942118406,-0.106609173119068));
res += mul(Get(s3,dx,0), float4x4(0.100924447178841,0.015386824496090,-0.070328749716282,0.067956209182739,0.077896982431412,-0.005961828865111,-0.009861957281828,-0.064816512167454,0.021909642964602,-0.124308973550797,0.072604842483997,0.059658918529749,0.055620692670345,-0.031426358968019,0.054929398000240,-0.022093476727605));
res += mul(Get(s3,dx,dy), float4x4(0.009919784963131,-0.012494730763137,-0.123260416090488,-0.050811193883419,0.014934946782887,0.037912722676992,0.044676043093204,-0.018776820972562,0.087917238473892,-0.005144664086401,0.000325959525071,0.045227836817503,-0.010870635509491,-0.126831129193306,0.039265129715204,0.044169764965773));
return max(float4(0,0,0,0), res);
}
