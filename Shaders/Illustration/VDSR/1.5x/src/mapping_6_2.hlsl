sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.006096446886659,0.005713823251426,-0.029156683012843,-0.024126118049026,-0.003787380177528,-0.004610275849700,0.012106875889003,-0.001638890476897,0.005369855556637,0.001053467276506,-0.019812725484371,-0.014152393676341,-0.013571299612522,-0.007026980165392,-0.036555342376232,-0.079334706068039));
res += mul(Get(s0,-dx,0), float4x4(0.013157422654331,0.002842758782208,-0.040692169219255,-0.009550799615681,0.001612515421584,0.001893228385597,0.004958028439432,0.004316244274378,-0.002714635571465,0.011152323335409,-0.023144612088799,-0.025352733209729,-0.013385520316660,0.011769695207477,0.040938459336758,-0.037667836993933));
res += mul(Get(s0,-dx,dy), float4x4(0.008626885712147,0.008577077649534,-0.035472858697176,-0.031046895310283,0.003095512976870,-0.000740416871849,0.011017668992281,0.003099987516180,-0.005867737811059,0.004947894252837,-0.002818944165483,-0.016451222822070,-0.012539451941848,-0.012507378123701,0.058378722518682,-0.085030265152454));
res += mul(Get(s0,0,-dy), float4x4(-0.003413249272853,-0.002134275622666,0.004221767652780,-0.001396005391143,-0.000268307223450,0.009013084694743,0.001581475022249,-0.001951883547008,0.002633187919855,0.005525651853532,-0.061299782246351,-0.002956540789455,-0.010448113083839,0.000708206440322,-0.007176749408245,-0.001567727769725));
res += mul(Get(s0,0,0), float4x4(-0.006725503131747,-0.005588552448899,0.005678071640432,0.008380717597902,0.003372071078047,-0.003251925809309,0.007402204442769,0.009378193877637,0.003029473125935,-0.002602925524116,-0.025698192417622,0.026700295507908,-0.013830333016813,-0.000005167527434,-0.016620321199298,0.022664841264486));
res += mul(Get(s0,0,dy), float4x4(-0.008983531035483,0.006639329716563,-0.004353907424957,0.027715310454369,0.001210422953591,-0.001096554216929,0.016545439139009,0.011388162150979,-0.002622324274853,0.004747082944959,0.000018541621102,0.035553153604269,-0.017997452989221,-0.003454624442384,-0.107569083571434,0.092613741755486));
res += mul(Get(s0,dx,-dy), float4x4(-0.010913526639342,0.000962482590694,-0.003259204560891,0.006853972095996,0.005198028404266,0.004755857866257,0.006759227719158,0.001894246670417,0.005323946941644,0.003264799481258,-0.029305927455425,0.014167739078403,-0.047777682542801,0.002827388234437,-0.083636231720448,-0.049065120518208));
res += mul(Get(s0,dx,0), float4x4(-0.005124933551997,-0.001187759917229,0.005286775529385,0.003624529810622,0.006051172502339,-0.002382545731962,0.024712502956390,0.015932114794850,0.001988767879084,-0.000758335809223,0.017134428024292,0.045246694236994,-0.049648258835077,0.000863541034050,-0.040634810924530,0.038606159389019));
res += mul(Get(s0,dx,dy), float4x4(-0.004867095500231,-0.001340849674307,0.014131021685898,-0.007486219983548,0.005843935534358,0.000631068425719,0.020683700218797,-0.006270542740822,-0.004142731893808,0.000297890859656,0.018702430650592,0.021246174350381,-0.026757314801216,-0.009327339939773,-0.084800027310848,0.153322979807854));
res += mul(Get(s1,-dx,-dy), float4x4(0.048043299466372,0.010633026249707,-0.061112973839045,-0.102348469197750,-0.020200202241540,0.001100764377043,0.037345681339502,-0.138092577457428,0.002047424670309,0.003096479456872,-0.027363421395421,-0.031668383628130,-0.003770621726289,0.017107551917434,-0.063684113323689,-0.061241079121828));
res += mul(Get(s1,-dx,0), float4x4(0.081653721630573,0.008776920847595,-0.023709047585726,-0.040375877171755,-0.023151362314820,-0.007087581790984,0.044283695518970,-0.070879846811295,0.015656938776374,0.000306296744384,0.043421339243650,-0.005430731456727,0.004593000281602,-0.009848378598690,-0.083388522267342,-0.023888429626822));
res += mul(Get(s1,-dx,dy), float4x4(0.068464614450932,-0.002272174460813,-0.066870033740997,-0.085153840482235,-0.021864410489798,-0.004186557605863,-0.060769356787205,0.077509164810181,0.014779441989958,-0.002270492259413,0.018525609746575,0.020768696442246,0.019630812108517,0.010514084249735,-0.015983112156391,0.104039087891579));
res += mul(Get(s1,0,-dy), float4x4(0.055278070271015,0.004212613683194,0.051901344209909,-0.101374179124832,-0.000438219605712,-0.007483588065952,0.024838630110025,0.059983149170876,0.011882274411619,0.003296780399978,0.003419303335249,0.029927911236882,-0.014444006606936,0.001138793886639,-0.028211234137416,-0.007734151557088));
res += mul(Get(s1,0,0), float4x4(0.084165424108505,0.010096422396600,0.301755964756012,-0.118300721049309,0.038946129381657,-0.004005413036793,0.124503888189793,0.134975895285606,0.027826577425003,-0.001444189227186,0.070262722671032,0.068652153015137,-0.004135194700211,-0.007294554263353,-0.089427202939987,0.081253781914711));
res += mul(Get(s1,0,dy), float4x4(0.036055877804756,0.006764842197299,0.062764294445515,-0.070506535470486,0.049835432320833,-0.004776283632964,0.090207740664482,0.113135419785976,0.030351165682077,-0.004399236757308,0.091582380235195,0.058777466416359,0.035329531878233,-0.005882845260203,0.087130658328533,0.121590487658978));
res += mul(Get(s1,dx,-dy), float4x4(0.010518835857511,0.001136732520536,0.113996773958206,0.015819536522031,-0.006308619864285,0.002148924162611,0.010531199164689,0.056729793548584,0.006931622046977,0.004877147730440,0.011471883393824,0.003860631026328,-0.006247721146792,-0.001133984536864,-0.015928288921714,-0.018413627520204));
res += mul(Get(s1,dx,0), float4x4(0.002251299563795,-0.000464486773126,0.102530077099800,-0.035952206701040,0.025396829470992,-0.002711639506742,0.158860877156258,0.025024695321918,0.010938532650471,-0.002991345711052,0.064384147524834,-0.019634185358882,0.011118737049401,-0.000337943842169,-0.065674379467964,0.105252854526043));
res += mul(Get(s1,dx,dy), float4x4(0.003823845414445,0.000014401882254,0.000923002080526,0.006790126208216,0.017110198736191,-0.001191782183014,0.088669925928116,0.024016669020057,0.018274402245879,-0.006198218557984,0.078732788562775,-0.013090865686536,0.036271121352911,-0.004132974427193,0.080157026648521,0.008816172368824));
res += mul(Get(s2,-dx,-dy), float4x4(-0.007564100436866,-0.008163604885340,0.076654121279716,-0.063762471079826,-0.003170753130689,0.003278500633314,-0.018815411254764,-0.080498337745667,-0.045957345515490,-0.005448387470096,-0.028862947598100,-0.055048312991858,-0.003152379067615,0.010232750326395,-0.001328405109234,-0.003747440176085));
res += mul(Get(s2,-dx,0), float4x4(-0.023976137861609,0.002389262197539,-0.025714127346873,-0.053155478090048,-0.013603282161057,-0.000604278815445,-0.049808803945780,-0.038118485361338,-0.034898996353149,0.002833664882928,-0.093726582825184,-0.035966698080301,0.002997189760208,-0.000453253567684,-0.008787644095719,-0.000766825804021));
res += mul(Get(s2,-dx,dy), float4x4(-0.014925783500075,-0.001916628563777,-0.038431968539953,-0.089487232267857,0.012376840226352,-0.000879487022758,-0.001401402638294,-0.014411640353501,-0.020034490153193,0.002640231745318,-0.102735385298729,-0.084632419049740,0.000139196912642,0.005221337080002,-0.003996661864221,0.004405193496495));
res += mul(Get(s2,0,-dy), float4x4(0.022237775847316,-0.002688153646886,0.040475022047758,0.017578510567546,-0.002194607164711,0.000143163459143,0.071571916341782,0.041571274399757,-0.022542623803020,-0.001283009769395,-0.097363397479057,0.015496959909797,0.006143372505903,0.004063477274030,-0.008257837966084,-0.004036379046738));
res += mul(Get(s2,0,0), float4x4(-0.011594614014030,-0.001112116966397,-0.025866441428661,0.060011312365532,-0.001590782543644,-0.001271273940802,0.071977660059929,0.018507124856114,-0.001907079946250,0.007631324697286,0.087759807705879,0.097013764083385,0.001510846079327,0.006397760938853,0.003488478250802,0.003616408910602));
res += mul(Get(s2,0,dy), float4x4(-0.023781513795257,-0.000970530090854,-0.001553942682222,0.010061585344374,0.014493878930807,-0.006206403486431,0.034618880599737,-0.048831529915333,-0.007581140380353,-0.006350010633469,-0.078541800379753,0.022972270846367,0.005547623615712,0.001162712578662,0.013818324543536,0.000368242064724));
res += mul(Get(s2,dx,-dy), float4x4(0.049168232828379,-0.000984970596619,-0.009450163692236,-0.036218240857124,0.009356635622680,-0.011207764968276,0.088419213891029,0.047208748757839,-0.004472078289837,-0.015427246689796,-0.072432816028595,0.088350169360638,0.001652375794947,-0.001870966516435,0.011411848478019,-0.004933291114867));
res += mul(Get(s2,dx,0), float4x4(0.020607257261872,0.000215728709009,0.058185629546642,-0.018009221181273,0.020803179591894,-0.011673253960907,0.004804392810911,0.073269210755825,-0.005639313254505,0.002768046455458,0.025466432794929,0.082394808530807,-0.003639700589702,0.003284512320533,0.015336247161031,-0.003362493589520));
res += mul(Get(s2,dx,dy), float4x4(-0.008375374600291,-0.007868802174926,-0.046550918370485,0.050713654607534,0.017779065296054,-0.010740878060460,-0.084064550697803,0.083522178232670,-0.007998145185411,-0.004033945966512,-0.098958544433117,0.094108797609806,0.000897796533536,0.001085480675101,0.005826397798955,0.002181011019275));
res += mul(Get(s3,-dx,-dy), float4x4(0.002769723767415,-0.004188301041722,0.001993974903598,-0.002508696634322,-0.046237148344517,-0.003396692685783,0.039283484220505,-0.073850847780704,-0.012478478252888,-0.001502474537119,0.072351694107056,-0.036521214991808,0.000730056897737,0.003803752595559,0.022557782009244,-0.024157458916306));
res += mul(Get(s3,-dx,0), float4x4(0.000808199110907,-0.006079199258238,0.000652771966998,0.006829493679106,-0.024461338296533,0.005384543444961,0.104741908609867,-0.122994698584080,-0.017505021765828,0.011544751934707,-0.020751724019647,-0.085936576128006,0.008102792315185,0.003456713631749,-0.000074023068009,0.064455322921276));
res += mul(Get(s3,-dx,dy), float4x4(-0.004302795976400,0.002293848199770,0.007820053957403,-0.003816392272711,-0.041031945496798,-0.000993673224002,0.057749211788177,-0.168062329292297,-0.002056771656498,-0.008928926661611,-0.020276520401239,-0.081394322216511,0.013736167922616,0.000760910450481,0.052911695092916,-0.010705178603530));
res += mul(Get(s3,0,-dy), float4x4(0.004754646681249,-0.005823313258588,0.012752333655953,-0.000866809801664,0.006285259034485,-0.000309725583065,0.054639603942633,-0.010047154501081,0.030974758788943,-0.004478862043470,0.128523528575897,-0.045967005193233,0.013339556753635,0.007178480736911,0.078944273293018,-0.004801981151104));
res += mul(Get(s3,0,0), float4x4(0.005273147486150,0.001636345405132,0.000122434779769,0.000631086470094,-0.014171862974763,0.009788700379431,-0.052717734128237,-0.015971461310983,-0.007278797682375,0.000465094664833,-0.021700559183955,-0.064868375658989,0.008015135303140,0.010720680467784,0.088356249034405,0.012731653638184));
res += mul(Get(s3,0,dy), float4x4(0.009046980179846,0.003864129772410,0.015599493868649,0.004784291144460,-0.023298012092710,0.001698589301668,-0.066301837563515,-0.040432501584291,0.002719158073887,0.005452525336295,-0.020513612776995,0.010078309103847,-0.001570975524373,0.007777723483741,0.049293879419565,-0.019185461103916));
res += mul(Get(s3,dx,-dy), float4x4(0.014203976839781,-0.001958593958989,0.014929391443729,0.004751474130899,-0.016743404790759,0.004062770865858,-0.059000387787819,-0.054163772612810,-0.015619453974068,-0.007820891216397,0.002890753094107,0.019445009529591,0.011676101945341,-0.002380647230893,0.073006667196751,0.020023036748171));
res += mul(Get(s3,dx,0), float4x4(0.013129126280546,0.001139858970419,0.004630066454411,0.008219767361879,-0.020653260871768,0.005699405912310,-0.109786279499531,0.017334062606096,-0.027207298204303,-0.005164584144950,-0.112055674195290,0.088048085570335,0.001672699349001,0.003959956578910,-0.017347743734717,0.026878388598561));
res += mul(Get(s3,dx,dy), float4x4(0.007130695041269,0.001554948277771,0.018516086041927,-0.001153541728854,-0.035377889871597,-0.000602140498813,-0.009413477964699,0.032076366245747,-0.016867000609636,-0.008994433097541,-0.057492747902870,0.054181002080441,0.003162437351421,-0.005296480841935,0.030871847644448,0.038787804543972));
return max(float4(0,0,0,0), res);
}
