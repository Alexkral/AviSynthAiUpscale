sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.017116766422987,-0.002030460396782,-0.018207859247923,0.026081439107656,0.030501769855618,0.043202996253967,0.013814511708915,0.021657692268491,-0.029285194352269,0.088864028453827,0.007561028003693,-0.030514175072312,0.040466312319040,-0.031646184623241,0.025899449363351,0.019538683816791));
res += mul(Get(s0,-dx,0), float4x4(-0.009584051556885,-0.012135659344494,0.019298294559121,0.026064509525895,-0.025970758870244,-0.063766032457352,-0.196998789906502,-0.027929525822401,0.018475757911801,-0.019990485161543,-0.028902716934681,0.058543290942907,0.034962948411703,-0.041428614407778,-0.061844047158957,0.058534603565931));
res += mul(Get(s0,-dx,dy), float4x4(0.077135220170021,-0.028633186593652,-0.004483321681619,0.064416103065014,-0.049615051597357,-0.010920217260718,-0.094741836190224,-0.049031581729650,-0.006216366775334,-0.042694143950939,0.165028303861618,-0.014055432751775,0.057013027369976,0.010951802134514,-0.007073805667460,0.043721999973059));
res += mul(Get(s0,0,-dy), float4x4(-0.009715522639453,0.121590629220009,-0.066500492393970,-0.008233434520662,0.043984506279230,-0.068463884294033,-0.011491136625409,-0.025290617719293,-0.036550931632519,-0.063484497368336,-0.050782203674316,-0.047528371214867,-0.051447786390781,0.044063076376915,0.043198112398386,-0.000789059384260));
res += mul(Get(s0,0,0), float4x4(0.017506442964077,-0.010508372448385,0.029832113534212,-0.050081424415112,0.038510967046022,0.213408410549164,-0.127636089920998,-0.023582877591252,0.046502381563187,-0.044945448637009,-0.002362321130931,-0.011416685767472,0.002614233642817,0.022665001451969,0.055241238325834,-0.025190437212586));
res += mul(Get(s0,0,dy), float4x4(0.071772582828999,-0.013488350436091,0.027420805767179,0.069707453250885,-0.018753103911877,0.057236377149820,-0.093093916773796,-0.048019662499428,0.004659480880946,-0.084548786282539,0.098410651087761,-0.078873306512833,-0.058060437440872,-0.012900786474347,0.051551215350628,-0.026083737611771));
res += mul(Get(s0,dx,-dy), float4x4(-0.044910665601492,0.143016576766968,-0.029773436486721,-0.024486880749464,-0.007520925719291,-0.071035467088223,0.009802516549826,0.024326488375664,-0.072183981537819,0.041279081255198,0.010007493197918,-0.083511501550674,-0.026308767497540,0.011367602273822,0.108252294361591,0.076629154384136));
res += mul(Get(s0,dx,0), float4x4(-0.068163335323334,-0.011546096764505,0.013726944103837,-0.015685372054577,-0.008257933892310,0.041149422526360,-0.032795555889606,0.058021899312735,-0.072061121463776,0.066313199698925,0.052932560443878,-0.075893454253674,-0.012419422157109,-0.040610555559397,0.003212444949895,0.052041135728359));
res += mul(Get(s0,dx,dy), float4x4(0.013622766360641,0.014148745685816,0.026676172390580,0.021975001320243,-0.069154277443886,-0.057609084993601,-0.009349009953439,0.035839729011059,-0.092389695346355,0.026493480429053,0.019799876958132,-0.110601469874382,-0.012438205070794,0.008639487437904,-0.031385298818350,0.056952357292175));
res += mul(Get(s1,-dx,-dy), float4x4(-0.023647848516703,-0.008700660429895,0.150173559784889,0.024889506399632,-0.042141519486904,-0.056892532855272,-0.018998619168997,-0.005971284583211,-0.098452843725681,-0.021084196865559,0.055946514010429,0.179377183318138,0.029139593243599,-0.044821768999100,-0.128980115056038,-0.013632633723319));
res += mul(Get(s1,-dx,0), float4x4(-0.047697432339191,0.102631151676178,-0.021031856536865,0.007092809770256,0.030257381498814,-0.058036576956511,0.038087010383606,0.074357122182846,-0.034975945949554,-0.016773438081145,0.100547350943089,-0.002893442288041,-0.052189260721207,-0.082101196050644,-0.147038578987122,0.042732134461403));
res += mul(Get(s1,-dx,dy), float4x4(0.095570430159569,0.018010115250945,-0.023998733609915,-0.008553527295589,-0.031114028766751,0.021333243697882,0.017092270776629,0.020327793434262,-0.012376850470901,0.030677869915962,-0.026419103145599,-0.012622253037989,-0.040341246873140,-0.025920432060957,-0.036180023103952,0.001753459568135));
res += mul(Get(s1,0,-dy), float4x4(0.161541417241096,-0.004844549577683,-0.001074923202395,-0.155382186174393,-0.017178354784846,-0.027749413624406,0.033500995486975,-0.043126139789820,0.114290662109852,-0.010354570113122,0.003163908841088,0.164746999740601,-0.067745208740234,0.068814620375633,-0.031542722135782,0.104078300297260));
res += mul(Get(s1,0,0), float4x4(0.141846418380737,0.064132548868656,0.082223974168301,-0.115636385977268,0.035452850162983,0.107970952987671,0.178999245166779,0.058289159089327,0.073438867926598,-0.068257085978985,0.106380894780159,0.078085236251354,-0.069791615009308,0.222313806414604,-0.044912334531546,-0.009720307774842));
res += mul(Get(s1,0,dy), float4x4(0.058076623827219,0.030164999887347,-0.014403589069843,0.035807102918625,-0.029427273198962,0.157897651195526,0.093272015452385,-0.000883722386789,-0.072548769414425,0.032835841178894,0.025897577404976,0.034756157547235,-0.019217662513256,-0.086974970996380,-0.036948233842850,0.010622347705066));
res += mul(Get(s1,dx,-dy), float4x4(0.065599270164967,-0.023427227512002,0.066317468881607,-0.104550950229168,-0.010197894647717,0.011973528191447,-0.131700962781906,-0.037643086165190,-0.033027466386557,0.006292643491179,-0.006857317406684,-0.008724869228899,-0.002881043124944,0.109608337283134,-0.018066266551614,0.003740324173123));
res += mul(Get(s1,dx,0), float4x4(0.014429461210966,-0.040582314133644,-0.081085838377476,-0.102544113993645,0.013550223782659,-0.029170980677009,0.035510808229446,0.043896317481995,0.042054809629917,-0.053935069590807,-0.062499918043613,0.004213054664433,0.040011834353209,0.080095082521439,-0.037750441581011,0.004154518712312));
res += mul(Get(s1,dx,dy), float4x4(0.052264820784330,-0.033594660460949,-0.035240497440100,0.034773144870996,0.074324533343315,-0.079376384615898,0.061265204101801,-0.005906389094889,-0.055257309228182,0.021069491282105,-0.008396386168897,0.049758363515139,-0.050901439040899,-0.047763742506504,0.045196563005447,-0.000540972047020));
res += mul(Get(s2,-dx,-dy), float4x4(0.122194305062294,0.033190365880728,0.038957666605711,-0.003365082200617,0.008309893310070,0.016845468431711,0.083433635532856,0.118897527456284,-0.011307004839182,0.046827606856823,0.024282405152917,0.007866324856877,-0.022365361452103,-0.005512940697372,-0.004548949655145,0.063155382871628));
res += mul(Get(s2,-dx,0), float4x4(0.065757878124714,-0.006009093485773,-0.058769177645445,0.024668673053384,-0.032916441559792,-0.022263204678893,0.022981109097600,-0.038487013429403,-0.051067017018795,0.039466101676226,0.062606088817120,0.035953957587481,0.060413852334023,0.015213236212730,0.008560022339225,-0.019242990761995));
res += mul(Get(s2,-dx,dy), float4x4(0.051940891891718,0.008442082442343,0.099394194781780,-0.039927721023560,-0.044674385339022,-0.075886324048042,-0.051041569560766,0.005638447124511,0.014207101427019,-0.020544406026602,0.016298474743962,-0.010849442332983,0.089796721935272,0.040977906435728,0.016316294670105,-0.015649037435651));
res += mul(Get(s2,0,-dy), float4x4(-0.077891431748867,-0.015384930185974,-0.083231829106808,0.067175768315792,0.045690741389990,0.005739884916693,0.012227348983288,0.016228176653385,0.027669234201312,-0.014980460517108,-0.043648362159729,-0.038858953863382,0.019631991162896,0.013413827866316,-0.114282026886940,-0.009450729005039));
res += mul(Get(s2,0,0), float4x4(0.118026629090309,-0.091947168111801,-0.061327069997787,0.124431505799294,-0.018366325646639,-0.030786823481321,0.079922035336494,-0.099214322865009,0.064449585974216,0.073660850524902,0.048795375972986,-0.014187563210726,0.101187974214554,-0.047213274985552,-0.083640426397324,-0.038470823317766));
res += mul(Get(s2,0,dy), float4x4(-0.167710438370705,0.017673823982477,0.166626513004303,0.023163340985775,-0.003411860438064,-0.034839939326048,-0.020586570724845,-0.032961018383503,0.066787727177143,-0.007498317863792,0.079283945262432,-0.028127854689956,0.105122536420822,-0.031009625643492,-0.062309563159943,0.056547649204731));
res += mul(Get(s2,dx,-dy), float4x4(0.182263299822807,-0.062539488077164,-0.005481285508722,-0.090202152729034,-0.032669562846422,0.014420673251152,-0.002109134104103,0.006946578621864,-0.018660578876734,-0.029909957200289,0.029264438897371,-0.033095542341471,-0.085135541856289,-0.023592745885253,0.065169483423233,-0.004538572859019));
res += mul(Get(s2,dx,0), float4x4(0.115741789340973,-0.098232485353947,-0.007933233864605,-0.006481839343905,-0.057458855211735,-0.015902394428849,0.024220203980803,-0.055871035903692,0.026010043919086,0.058977499604225,0.038671493530273,-0.006149409804493,-0.154648199677467,0.001165856723674,0.051273245364428,-0.034185286611319));
res += mul(Get(s2,dx,dy), float4x4(-0.007626330479980,-0.001870005740784,0.104842491447926,-0.072303928434849,-0.038833294063807,0.145039528608322,-0.006867803633213,-0.011274175718427,0.040327984839678,0.027411656454206,0.054426401853561,0.014957867562771,-0.197609364986420,-0.045060712844133,-0.045774582773447,-0.006605224683881));
res += mul(Get(s3,-dx,-dy), float4x4(0.000483380019432,-0.023904914036393,-0.042285531759262,0.116053320467472,0.018447684124112,0.013152162544429,0.067253813147545,-0.003490072675049,0.051393456757069,0.064261958003044,0.191680178046227,0.045284740626812,0.026270104572177,-0.000317879806971,-0.031746719032526,-0.004586420953274));
res += mul(Get(s3,-dx,0), float4x4(0.010156074538827,0.007205932866782,-0.022163564339280,0.042911607772112,0.014690452255309,-0.036621797829866,-0.019539436325431,0.008031450212002,-0.019845593720675,0.038433413952589,0.093762621283531,0.014323458075523,0.013626994565129,-0.028654102236032,-0.020611122250557,0.070114247500896));
res += mul(Get(s3,-dx,dy), float4x4(-0.018695088103414,0.000531984667759,0.065505243837833,0.071435630321503,0.040451738983393,-0.013360921293497,0.016329117119312,-0.038786627352238,-0.000388056185329,-0.006886994931847,-0.080460503697395,-0.040223106741905,0.003913073800504,-0.020419670268893,-0.038576997816563,0.081549853086472));
res += mul(Get(s3,0,-dy), float4x4(-0.001423221430741,0.020968576893210,-0.043056264519691,0.012517029419541,0.013509034179151,-0.025372106581926,0.116896659135818,-0.093483172357082,0.021940849721432,0.077174410223961,-0.059475142508745,0.045216683298349,-0.036283046007156,-0.080211035907269,0.133867993950844,-0.025614805519581));
res += mul(Get(s3,0,0), float4x4(-0.010383337736130,-0.002652314724401,-0.004533666651696,0.060762405395508,-0.104228951036930,0.009161998517811,-0.023453218862414,-0.043313350528479,0.105907395482063,-0.054588958621025,0.000119767486467,0.095457881689072,-0.047302097082138,-0.066134929656982,0.041035272181034,-0.011334351263940));
res += mul(Get(s3,0,dy), float4x4(-0.028288723900914,0.000250288081588,-0.012977892532945,0.065988719463348,-0.065001122653484,-0.027539398521185,0.004547595046461,-0.052275221794844,-0.048853717744350,0.009334342554212,0.012290542945266,0.148809880018234,0.012561834417284,-0.078647121787071,0.013596542179585,-0.054917346686125));
res += mul(Get(s3,dx,-dy), float4x4(-0.047311004251242,-0.014029357582331,-0.005001013632864,-0.048347178846598,0.029994437471032,-0.054209809750319,-0.028086438775063,-0.105135194957256,0.048970546573400,0.053210448473692,0.001111088902690,-0.068955019116402,-0.067224271595478,-0.047197498381138,0.060733757913113,-0.072873301804066));
res += mul(Get(s3,dx,0), float4x4(0.005632058717310,-0.045948278158903,-0.042998999357224,0.008420310914516,0.077952057123184,0.021394293755293,-0.068850241601467,-0.035620279610157,0.024687809869647,-0.019407292827964,0.018545364961028,-0.022691590711474,-0.014760303311050,0.087754450738430,-0.009628453291953,-0.008868775330484));
res += mul(Get(s3,dx,dy), float4x4(-0.019613344222307,-0.008610915392637,0.013635902665555,0.028757717460394,-0.006497478112578,0.000350776215782,0.021637624129653,-0.043404381722212,0.006444228347391,-0.030137471854687,0.003346656216308,0.024879727512598,-0.028501925989985,0.154763966798782,-0.067428238689899,-0.001872022403404));
return max(float4(0,0,0,0), res);
}
