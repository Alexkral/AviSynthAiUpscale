sampler s0 : register(s0);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(x, y)   tex2D(s0, tex + float2(x, y))[0]

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += float4(0.037910122424364,-0.073040783405304,0.020660515874624,-0.067898817360401) * Get(-dx,-dy);
res += float4(0.001290721935220,-0.124954655766487,0.188553273677826,0.034844979643822) * Get(-dx,0);
res += float4(-0.052157972007990,-0.037893705070019,0.010940017178655,-0.021952567622066) * Get(-dx,dy);
res += float4(-0.083675213158131,-0.060228355228901,-0.166013047099113,-0.058333389461040) * Get(0,-dy);
res += float4(0.160009413957596,-0.037854053080082,0.072647370398045,0.176601991057396) * Get(0,0);
res += float4(0.021098963916302,-0.034986633807421,-0.088104359805584,-0.101599834859371) * Get(0,dy);
res += float4(-0.019250277429819,0.005854264833033,0.019010137766600,-0.048339586704969) * Get(dx,-dy);
res += float4(0.011722444556653,0.163599997758865,-0.040221344679594,-0.061312690377235) * Get(dx,0);
res += float4(-0.019255261868238,-0.033788386732340,-0.000047139736125,-0.115350954234600) * Get(dx,dy);
return max(float4(0,0,0,0), res);
}
