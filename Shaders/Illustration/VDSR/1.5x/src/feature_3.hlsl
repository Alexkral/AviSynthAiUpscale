sampler s0 : register(s0);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(x, y)   tex2D(s0, tex + float2(x, y))[0]

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += float4(0.018353633582592,0.047166846692562,-0.013728322461247,-0.283289045095444) * Get(-dx,-dy);
res += float4(-0.047741118818521,0.002773697488010,0.117537520825863,0.041979499161243) * Get(-dx,0);
res += float4(-0.221183583140373,-0.121006727218628,-0.044955540448427,0.010616002604365) * Get(-dx,dy);
res += float4(0.021681828424335,0.086062625050545,-0.127910554409027,-0.304259777069092) * Get(0,-dy);
res += float4(0.215914547443390,0.017002902925014,1.856923103332520,0.106791481375694) * Get(0,0);
res += float4(-0.040178216993809,-0.121576793491840,-0.112525641918182,0.160532623529434) * Get(0,dy);
res += float4(-0.153313100337982,-0.047942440956831,0.039326705038548,-0.277161866426468) * Get(dx,-dy);
res += float4(0.006887357216328,-0.091904930770397,-0.232901290059090,0.006093428470194) * Get(dx,0);
res += float4(-0.010645668953657,-0.018761817365885,0.088893190026283,-0.035992763936520) * Get(dx,dy);
return max(float4(0,0,0,0), res);
}
