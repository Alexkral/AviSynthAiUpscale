sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.054854568094015,-0.101012349128723,0.010058761574328,-0.079723834991455,-0.143485635519028,-0.025328457355499,-0.069292359054089,-0.028168575838208,0.027816221117973,-0.003156400751323,0.018231760710478,0.083220638334751,-0.004136293195188,-0.007468065246940,0.049376260489225,0.004122444894165));
res += mul(Get(s0,-dx,0), float4x4(-0.015308219008148,0.016856933012605,-0.019642854109406,-0.004817246459424,-0.093886688351631,0.051435720175505,-0.057134576141834,-0.104356303811073,0.084469497203827,0.041133340448141,0.074806466698647,-0.021172787994146,0.061687592417002,0.044035483151674,0.098881937563419,-0.029073091223836));
res += mul(Get(s0,-dx,dy), float4x4(-0.102760963141918,0.041667520999908,0.027279907837510,-0.018434887751937,-0.114160187542439,0.035886563360691,-0.051180355250835,-0.108568228781223,0.074135750532150,-0.007143990602344,-0.032998543232679,-0.041460368782282,0.044481433928013,0.009461767971516,-0.112391069531441,-0.024969384074211));
res += mul(Get(s0,0,-dy), float4x4(0.057741679251194,-0.012670099735260,-0.001901019713841,0.011107700876892,0.008017034269869,0.091952234506607,0.108320370316505,-0.013810935430229,-0.045128464698792,-0.057307951152325,-0.012976353988051,0.061139706522226,0.024276921525598,0.128531634807587,0.071932502090931,-0.095344685018063));
res += mul(Get(s0,0,0), float4x4(0.127636253833771,0.074975050985813,0.084819637238979,-0.028438402339816,-0.146479234099388,0.181693762540817,0.024178367108107,-0.172585040330887,0.014180388301611,-0.067378051578999,0.155260652303696,0.023102464154363,0.084809981286526,0.017207752913237,0.101800605654716,0.054291937500238));
res += mul(Get(s0,0,dy), float4x4(-0.213404417037964,0.055281355977058,0.001977281412110,0.085160218179226,-0.015132496133447,0.223478704690933,0.058587785810232,-0.117501728236675,-0.071800686419010,-0.144929140806198,0.077749691903591,-0.091124184429646,0.066764689981937,0.128979071974754,0.003447630908340,0.031262908130884));
res += mul(Get(s0,dx,-dy), float4x4(0.188622176647186,-0.063452988862991,0.002480146475136,0.053270060569048,-0.056326050311327,-0.107878856360912,-0.046187579631805,-0.015127324499190,-0.091572977602482,0.000593812786974,-0.033913929015398,-0.103656075894833,0.016612203791738,-0.053821153938770,0.122526176273823,-0.005825554486364));
res += mul(Get(s0,dx,0), float4x4(0.028920646756887,-0.031479872763157,-0.039229612797499,0.127371966838837,0.085329420864582,-0.036943979561329,0.088015429675579,0.368089020252228,0.066737636923790,0.002768562408164,0.037994068115950,-0.077253408730030,-0.049414236098528,0.030548986047506,0.010904646478593,0.070592351257801));
res += mul(Get(s0,dx,dy), float4x4(0.012394022196531,0.043424338102341,-0.107664234936237,-0.036904558539391,0.086989216506481,-0.293069154024124,-0.074934095144272,0.239538297057152,0.000134572430397,0.028017876669765,-0.026219984516501,-0.099176943302155,-0.041475422680378,-0.017319587990642,-0.085946694016457,-0.062006037682295));
res += mul(Get(s1,-dx,-dy), float4x4(0.083410345017910,0.039633035659790,-0.152520388364792,0.036550734192133,0.018964082002640,0.100592069327831,-0.036258839070797,0.008288854733109,0.028316091746092,0.011796787381172,0.025779170915484,-0.036292277276516,-0.035429392009974,0.065236672759056,-0.003208572510630,0.024874256923795));
res += mul(Get(s1,-dx,0), float4x4(-0.112917162477970,0.038000475615263,-0.021503668278456,0.033576931804419,-0.155545651912689,-0.080428861081600,0.082890771329403,0.041194386780262,0.004712407477200,-0.154026657342911,0.059508405625820,0.112654119729996,-0.089677020907402,-0.049542888998985,0.119732171297073,-0.051317527890205));
res += mul(Get(s1,-dx,dy), float4x4(-0.000969832413830,-0.151566967368126,0.051848884671926,0.032529573887587,-0.162376746535301,0.055806703865528,0.019103577360511,-0.059440433979034,0.057687394320965,-0.062700673937798,0.005130121018738,-0.061571143567562,-0.026380555704236,0.124703653156757,-0.035315047949553,-0.114874571561813));
res += mul(Get(s1,0,-dy), float4x4(-0.135991320014000,-0.094195127487183,0.021354509517550,-0.047933071851730,-0.001468168222345,-0.068687692284584,-0.083202637732029,-0.043548826128244,0.035551577806473,0.002927838591859,0.042978342622519,-0.015766020864248,0.045343961566687,-0.076204046607018,0.000203136572964,0.102231234312057));
res += mul(Get(s1,0,0), float4x4(0.070340424776077,-0.100376144051552,0.028146589174867,0.024667801335454,-0.067172758281231,0.203253582119942,-0.027906980365515,-0.237467586994171,0.059829168021679,-0.062527090311050,0.063871473073959,-0.111062236130238,0.057009905576706,0.010853991843760,0.066641524434090,0.142767533659935));
res += mul(Get(s1,0,dy), float4x4(0.059406165033579,0.028688363730907,-0.041741672903299,-0.033749829977751,0.023820864036679,-0.051476266235113,-0.048059955239296,-0.070606857538223,-0.012443539686501,-0.111453801393509,0.087443068623543,-0.034370649605989,-0.070354282855988,-0.107254624366760,0.012527300044894,0.008229493163526));
res += mul(Get(s1,dx,-dy), float4x4(-0.000497536326293,0.103549197316170,0.010763860307634,-0.063828192651272,0.069213561713696,0.094198606908321,0.004029947333038,-0.095576420426369,-0.010245474986732,-0.037246540188789,0.027612186968327,-0.093065224587917,-0.033193733543158,-0.050177924335003,0.098063580691814,-0.069746151566505));
res += mul(Get(s1,dx,0), float4x4(-0.005825840402395,-0.020174078643322,-0.114445582032204,-0.085938133299351,0.081632293760777,0.003882576245815,0.096126534044743,-0.032048840075731,0.069821223616600,0.098092749714851,0.089222021400928,0.002427136292681,0.008625376969576,-0.041918531060219,0.072304829955101,0.083491876721382));
res += mul(Get(s1,dx,dy), float4x4(-0.174464270472527,0.059589389711618,-0.052982404828072,0.071305803954601,-0.047555554658175,0.034925736486912,0.008307697251439,-0.023194795474410,-0.150284036993980,-0.057849731296301,-0.000965520041063,0.059916164726019,-0.020284201949835,0.029811870306730,0.020339688286185,-0.042163826525211));
res += mul(Get(s2,-dx,-dy), float4x4(-0.034328956156969,0.008545294404030,-0.043910212814808,-0.057391319423914,-0.108318954706192,0.030883284285665,-0.039113026112318,0.098456107079983,-0.036108385771513,0.048372764140368,0.044489875435829,-0.024109845981002,0.025129314512014,-0.041622072458267,-0.082374185323715,-0.088654324412346));
res += mul(Get(s2,-dx,0), float4x4(-0.007118510548025,0.164846315979958,0.039040930569172,0.012321870774031,-0.011446679010987,-0.048459872603416,-0.024160128086805,0.000292601820547,0.038935851305723,0.047099698334932,0.075998961925507,-0.080478243529797,-0.054844874888659,-0.052204679697752,-0.066909231245518,0.035239189863205));
res += mul(Get(s2,-dx,dy), float4x4(-0.122744895517826,-0.022367361932993,-0.132462307810783,-0.143987312912941,-0.043138757348061,-0.096309080719948,-0.016126561909914,0.112020410597324,-0.051902163773775,0.034433096647263,-0.095064908266068,-0.043600577861071,-0.126542910933495,-0.155709117650986,-0.082141660153866,0.196671396493912));
res += mul(Get(s2,0,-dy), float4x4(-0.026501812040806,0.048920940607786,0.019675975665450,-0.184472948312759,0.176203817129135,-0.015050933696330,-0.092539444565773,0.132475435733795,0.074131824076176,-0.020115826278925,0.063405394554138,-0.024278955534101,0.131707176566124,0.043228119611740,-0.120195284485817,0.051269974559546));
res += mul(Get(s2,0,0), float4x4(-0.140487223863602,0.225933223962784,0.032847285270691,0.001373454811983,0.114515110850334,-0.003501563100144,-0.026145150884986,0.124439932405949,-0.061326254159212,0.032141912728548,0.000304994522594,0.095719017088413,-0.042221546173096,0.076915651559830,0.028180342167616,-0.054099213331938));
res += mul(Get(s2,0,dy), float4x4(0.041970446705818,-0.033853456377983,-0.064367912709713,0.009654248133302,-0.159594088792801,-0.057408694177866,0.089300252497196,0.065215773880482,-0.040884695947170,0.014451741240919,-0.042571708559990,0.059785209596157,0.007102232892066,-0.017506891861558,-0.110277846455574,0.062657125294209));
res += mul(Get(s2,dx,-dy), float4x4(-0.025312762707472,-0.002849553246051,0.028215782716870,0.161246329545975,0.064700216054916,0.000661311089061,-0.004898739978671,0.077391497790813,0.029495399445295,0.169121578335762,0.022884650155902,0.022545585408807,0.042816907167435,0.033821079879999,0.015595569275320,-0.064959459006786));
res += mul(Get(s2,dx,0), float4x4(-0.036604136228561,-0.066326387226582,0.111420869827271,0.137108996510506,-0.062393423169851,0.088189184665680,0.026279814541340,0.000724739162251,0.004985089413822,0.152259811758995,-0.130140513181686,-0.103777967393398,0.011228424496949,0.028318332508206,0.064345099031925,-0.087704479694366));
res += mul(Get(s2,dx,dy), float4x4(-0.021522045135498,-0.091240793466568,-0.025935526937246,0.118796564638615,-0.001546221785247,0.013863958418369,-0.088734775781631,-0.000689995009452,0.008588134311140,0.166084706783295,-0.158354997634888,-0.119808509945869,-0.062781527638435,0.022949174046516,0.000858325045556,0.064230695366859));
res += mul(Get(s3,-dx,-dy), float4x4(0.020460460335016,0.087005466222763,-0.055370181798935,-0.131310001015663,-0.006085904315114,-0.011996245943010,0.026383331045508,-0.108036100864410,-0.130758419632912,0.145144835114479,0.005828191526234,0.002631920157000,0.055774424225092,0.074298270046711,0.058614358305931,0.009242448024452));
res += mul(Get(s3,-dx,0), float4x4(-0.005134605802596,0.007279742974788,-0.048502884805202,-0.086781620979309,-0.102977439761162,-0.015297123230994,-0.015897262841463,-0.014290398918092,0.071822181344032,-0.075500428676605,-0.046382911503315,-0.099557496607304,-0.061232041567564,-0.003504539141431,0.070344775915146,0.006647389382124));
res += mul(Get(s3,-dx,dy), float4x4(0.106780186295509,0.089362934231758,-0.081070274114609,-0.028578009456396,0.013444980606437,0.037971664220095,-0.080484442412853,-0.035059053450823,0.119704835116863,0.006526192650199,0.054308332502842,0.017676468938589,0.021031167358160,-0.075822137296200,0.000358770514140,-0.015013896860182));
res += mul(Get(s3,0,-dy), float4x4(0.003300192533061,0.559235751628876,-0.066579692065716,-0.069230496883392,-0.057682923972607,0.038765527307987,0.142266258597374,0.026849059388041,0.071481272578239,0.079642631113529,0.045627359300852,0.015345803461969,-0.037714231759310,-0.040803048759699,-0.050247121602297,-0.001927548553795));
res += mul(Get(s3,0,0), float4x4(0.085087567567825,-0.149922028183937,0.028352268040180,0.146257236599922,-0.007003114093095,0.045146174728870,-0.164927825331688,0.028887460008264,-0.021338498219848,0.118480980396271,0.084797658026218,-0.000836192979477,-0.019135722890496,-0.103654384613037,-0.001105868490413,-0.144400998950005));
res += mul(Get(s3,0,dy), float4x4(0.052228726446629,-0.162337854504585,0.151723504066467,-0.151174411177635,0.021898211911321,0.115340016782284,-0.034921936690807,0.028393631801009,-0.033566273748875,0.019396860152483,-0.030648358166218,0.013934065587819,-0.037810269743204,-0.119321115314960,-0.055123105645180,-0.027285903692245));
res += mul(Get(s3,dx,-dy), float4x4(0.076369576156139,-0.046198479831219,-0.036272872239351,0.096189126372337,-0.063696593046188,0.081529557704926,-0.092326164245605,-0.020116269588470,-0.063376329839230,0.005282607860863,0.059759069234133,0.042634673416615,-0.068451084196568,0.092500083148479,-0.036763414740562,-0.032372266054153));
res += mul(Get(s3,dx,0), float4x4(-0.077997982501984,-0.169528186321259,-0.128217577934265,0.131197705864906,-0.019916264340281,-0.090152300894260,-0.041476968675852,-0.039054930210114,0.126834332942963,-0.035688553005457,0.078909531235695,-0.040553264319897,-0.058154020458460,-0.036185387521982,0.034090057015419,-0.057577881962061));
res += mul(Get(s3,dx,dy), float4x4(0.021163636818528,0.216167271137238,0.008432410657406,-0.029584400355816,0.025108836591244,-0.167576447129250,0.020569890737534,-0.043113891035318,0.018751982599497,0.055607765913010,0.170751422643661,-0.005699921399355,-0.012413606978953,-0.014355833642185,-0.037930157035589,0.053517214953899));
return max(float4(0,0,0,0), res);
}
