sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.095890015363693,0.058167010545731,0.085635647177696,0.026423906907439,0.024780603125691,-0.108520530164242,-0.059923581779003,0.002466691425070,-0.060605410486460,-0.082165099680424,0.071607224643230,0.020959304645658,-0.011032272130251,-0.055455930531025,-0.037942502647638,0.146746262907982));
res += mul(Get(s0,-dx,0), float4x4(-0.034502357244492,-0.010309541597962,-0.069961473345757,0.197965711355209,0.010343411937356,-0.077655404806137,-0.046131044626236,0.070891730487347,-0.057566661387682,-0.024235611781478,-0.007242740597576,0.080704972147942,-0.032235033810139,0.011638137511909,0.038877207785845,0.042308639734983));
res += mul(Get(s0,-dx,dy), float4x4(0.178365632891655,0.008708915673196,0.073544785380363,0.083789967000484,-0.024504030123353,-0.071005940437317,0.040995299816132,0.016949359327555,-0.023194598034024,-0.012659854255617,-0.070461131632328,0.061144020408392,0.042518995702267,-0.014696023426950,-0.044646304100752,-0.027215944603086));
res += mul(Get(s0,0,-dy), float4x4(0.065789498388767,0.029348321259022,-0.038880355656147,0.030877923592925,-0.007214190904051,-0.025133999064565,0.106032840907574,-0.092228628695011,-0.004820162896067,0.021481417119503,-0.004647484049201,0.040560323745012,0.087128750979900,-0.012887913733721,0.053265973925591,0.083052329719067));
res += mul(Get(s0,0,0), float4x4(0.101076103746891,-0.031546499580145,0.018223937600851,-0.051645707339048,-0.048065461218357,0.078565426170826,0.110854387283325,0.009726318530738,0.036244153976440,-0.054512646049261,0.018302949145436,0.073212578892708,-0.015204759314656,-0.054862219840288,-0.029176155105233,0.045862618833780));
res += mul(Get(s0,0,dy), float4x4(0.089896865189075,-0.011564228683710,-0.150795266032219,0.115345761179924,-0.063735932111740,-0.010573203675449,0.072821386158466,-0.006453381385654,0.020182274281979,-0.082752317190170,0.038604844361544,0.066255725920200,-0.014319242909551,-0.021945880725980,0.123000711202621,0.059298086911440));
res += mul(Get(s0,dx,-dy), float4x4(0.028517816215754,-0.032819755375385,-0.014669801108539,-0.000966423889622,-0.014927481301129,-0.045298427343369,-0.002184277633205,0.012004890479147,0.025347614660859,0.043692767620087,0.067366734147072,-0.085422798991203,-0.028125839307904,0.012792448513210,-0.001014686888084,-0.011617413721979));
res += mul(Get(s0,dx,0), float4x4(0.033827800303698,-0.018412256613374,0.030505374073982,-0.078759461641312,0.000604231725447,0.018340921029449,0.053415171802044,0.002048068912700,-0.004864100366831,0.012840046547353,0.080021582543850,-0.105482332408428,-0.076745934784412,0.026008015498519,-0.001795933581889,-0.057287726551294));
res += mul(Get(s0,dx,dy), float4x4(0.039441850036383,-0.075373090803623,-0.013819166459143,-0.050837721675634,-0.056384682655334,0.081644728779793,0.089895524084568,0.025272553786635,-0.052759889513254,-0.006316140759736,0.024536209180951,-0.070611201226711,-0.027750141918659,0.072101071476936,-0.108903385698795,-0.050889719277620));
res += mul(Get(s1,-dx,-dy), float4x4(0.150618731975555,0.060806695371866,-0.043703347444534,-0.028292432427406,0.020236065611243,-0.011124610900879,0.007419686298817,-0.045656908303499,0.077281489968300,0.076022103428841,0.050557259470224,-0.077881760895252,0.029919967055321,0.025890834629536,0.040102325379848,0.056738499552011));
res += mul(Get(s1,-dx,0), float4x4(0.116794370114803,-0.039400696754456,-0.028667204082012,-0.097905725240707,-0.004246518481523,0.019725432619452,-0.108010202646255,0.007874047383666,0.075246758759022,-0.103632509708405,0.137625157833099,-0.165334671735764,0.005325272679329,-0.034519385546446,0.068170815706253,0.082079745829105));
res += mul(Get(s1,-dx,dy), float4x4(0.087068580091000,-0.122577637434006,-0.034706708043814,-0.116155773401260,0.042783051729202,-0.000624782522209,-0.130411565303802,0.037415992468596,-0.062384173274040,0.029419390484691,0.220841661095619,-0.124762207269669,-0.062668010592461,-0.021720414981246,-0.018356828019023,0.024200959131122));
res += mul(Get(s1,0,-dy), float4x4(0.097584180533886,-0.005826250184327,-0.088523745536804,-0.036407247185707,-0.023678431287408,-0.053356662392616,0.049857951700687,0.136698603630066,0.127884149551392,0.014388634823263,0.040673296898603,-0.001124927191995,0.097857743501663,0.132126897573471,0.018125101923943,-0.024123767390847));
res += mul(Get(s1,0,0), float4x4(-0.026739841327071,-0.076856352388859,0.025449965149164,-0.055564142763615,-0.070536836981773,-0.059818971902132,-0.007129329256713,0.029516993090510,-0.036254912614822,0.156453102827072,0.091589272022247,-0.052978813648224,0.031799674034119,0.010145499370992,0.013788833282888,-0.034371208399534));
res += mul(Get(s1,0,dy), float4x4(0.075445689260960,-0.077071391046047,0.190798565745354,0.011308042332530,-0.062557309865952,-0.011539518833160,-0.048535164445639,0.039141219109297,-0.118253484368324,0.009904247708619,-0.116849921643734,-0.014172684401274,-0.021885203197598,-0.074842654168606,0.047231342643499,-0.097584299743176));
res += mul(Get(s1,dx,-dy), float4x4(0.081504099071026,-0.058325629681349,-0.051240347325802,0.005812022835016,-0.004632776603103,-0.070542447268963,0.057548869401217,0.010831490159035,0.156751781702042,-0.004480108153075,0.017412940040231,-0.082612700760365,0.153218090534210,0.040918271988630,-0.139688476920128,-0.020026868209243));
res += mul(Get(s1,dx,0), float4x4(-0.018793048337102,-0.007231054361910,-0.037074647843838,-0.023247366771102,-0.045896779745817,0.021933127194643,-0.014962666667998,-0.020264541730285,-0.067473873496056,0.095302268862724,-0.095829620957375,-0.008653066121042,-0.023498676717281,0.058518618345261,-0.024311060085893,-0.004763268399984));
res += mul(Get(s1,dx,dy), float4x4(0.107394613325596,0.127806663513184,-0.060065466910601,-0.041082262992859,-0.053478226065636,0.137893855571747,-0.039453126490116,0.006100737024099,-0.080736428499222,-0.022295892238617,-0.128001317381859,-0.073950655758381,-0.051498651504517,0.075505487620831,-0.009533120319247,-0.025446634739637));
res += mul(Get(s2,-dx,-dy), float4x4(0.054922644048929,0.002610150491819,0.034802582114935,0.016181239858270,0.010584549978375,-0.048563756048679,0.043584328144789,0.091531373560429,-0.029272546991706,-0.011369897052646,-0.020099882036448,-0.102310024201870,0.127015575766563,-0.054415605962276,-0.012739303521812,-0.037431519478559));
res += mul(Get(s2,-dx,0), float4x4(0.124752871692181,-0.086594872176647,-0.066346704959869,0.009254391305149,0.049379613250494,-0.004714378155768,0.002146838000044,0.020773677155375,-0.032535184174776,0.078974619507790,0.030027965083718,-0.022923374548554,-0.056299868971109,0.091333158314228,0.038171947002411,-0.097955122590065));
res += mul(Get(s2,-dx,dy), float4x4(0.015961119905114,0.066394597291946,0.032041862607002,0.009398183785379,-0.017807934433222,0.023154811933637,0.006581027060747,0.037147324532270,0.023633133620024,-0.010893284343183,0.031172795221210,0.017431974411011,-0.018545281141996,-0.001200939761475,0.013287670910358,-0.084947831928730));
res += mul(Get(s2,0,-dy), float4x4(-0.036950115114450,-0.017284825444221,0.009877461940050,0.140992999076843,-0.023828849196434,-0.004995287396014,0.013682737946510,-0.076117813587189,0.026111859828234,0.039968293160200,0.015807082876563,0.106911376118660,0.063296079635620,-0.058748330920935,-0.057318661361933,0.046788446605206));
res += mul(Get(s2,0,0), float4x4(-0.137082859873772,-0.100030191242695,-0.008280102163553,0.111956499516964,-0.031065361574292,0.052519675344229,-0.018270207569003,-0.077831067144871,0.047158576548100,0.036429535597563,0.047105830162764,-0.016313929110765,-0.117252796888351,-0.006180261261761,0.042035672813654,0.030419969931245));
res += mul(Get(s2,0,dy), float4x4(-0.091398261487484,0.049624860286713,0.030298886820674,-0.039246957749128,-0.011462811380625,0.042638678103685,0.066406019032001,-0.084510058164597,-0.027713460847735,-0.070389546453953,0.057026442140341,-0.135203436017036,-0.001139670959674,-0.003339896211401,0.086701735854149,0.040518954396248));
res += mul(Get(s2,dx,-dy), float4x4(-0.006441827863455,0.028917312622070,0.031547673046589,-0.075961768627167,0.003893366549164,0.001481524319388,-0.164850458502769,0.034541115164757,0.029080104082823,-0.032532595098019,0.006700627040118,-0.047520373016596,0.077343262732029,-0.019690351560712,0.043805535882711,0.027582488954067));
res += mul(Get(s2,dx,0), float4x4(-0.007831602357328,0.126298621296883,-0.013520165346563,-0.010518849827349,-0.063816018402576,0.037008196115494,-0.177185967564583,0.129521355032921,0.012025002390146,0.085025079548359,-0.003375579137355,-0.056129746139050,-0.193056851625443,0.069411106407642,-0.031942933797836,0.072156161069870));
res += mul(Get(s2,dx,dy), float4x4(-0.047409571707249,0.200182884931564,-0.096379987895489,0.038194153457880,-0.070827886462212,0.125023454427719,-0.111865803599358,0.077569998800755,-0.024102747440338,-0.002194471424446,-0.096623972058296,-0.041754063218832,-0.036970615386963,0.010970876552165,-0.018208384513855,0.119340389966965));
res += mul(Get(s3,-dx,-dy), float4x4(0.019680656492710,0.090036481618881,0.030039038509130,-0.054737731814384,0.005841017700732,0.020851299166679,-0.055256143212318,0.047558359801769,-0.009974814951420,0.007344390731305,0.040431641042233,0.026090439409018,0.046639591455460,-0.073868982493877,-0.043023258447647,0.048022314906120));
res += mul(Get(s3,-dx,0), float4x4(-0.001181152183563,-0.006574383005500,0.037458464503288,-0.045252211391926,0.015027963556349,-0.006586306728423,0.032137040048838,-0.100511699914932,-0.025744857266545,0.114346943795681,0.064901404082775,0.064485795795918,0.002535458886996,-0.002289784606546,-0.037281323224306,0.035908989608288));
res += mul(Get(s3,-dx,dy), float4x4(0.039329852908850,-0.001981817651540,0.039639897644520,-0.076003670692444,-0.009730253368616,0.044826958328485,-0.016448406502604,-0.060488969087601,-0.103447467088699,0.050115413963795,0.133280217647552,-0.009274265728891,0.006379960570484,-0.014605090022087,-0.006523344665766,-0.032914873212576));
res += mul(Get(s3,0,-dy), float4x4(0.034491725265980,0.023324077948928,-0.041598234325647,0.034666065126657,-0.046270076185465,-0.030708104372025,0.019974725320935,-0.008026316761971,0.047045737504959,-0.049224089831114,-0.043716233223677,-0.098544210195541,0.041296076029539,-0.031065011397004,0.113794371485710,0.007299715187401));
res += mul(Get(s3,0,0), float4x4(0.021484080702066,-0.091205850243568,-0.017062701284885,0.010694010183215,0.023160833865404,-0.025384752079844,-0.028287079185247,0.042120236903429,-0.076045379042625,0.049018912017345,-0.089859046041965,-0.002336601493880,0.001751062343828,-0.016234349459410,0.068384774029255,0.017485393211246));
res += mul(Get(s3,0,dy), float4x4(-0.031967740505934,-0.068330071866512,-0.104299858212471,-0.062739469110966,-0.006025753449649,-0.016723157837987,-0.032943554222584,0.056491252034903,0.011256877332926,0.032065220177174,-0.022670712321997,0.058794435113668,-0.048289693892002,-0.102741703391075,-0.070113971829414,0.020278150215745));
res += mul(Get(s3,dx,-dy), float4x4(0.009332916699350,-0.005116774234921,-0.020145732909441,-0.069850683212280,-0.021792925894260,-0.024818008765578,-0.045055042952299,0.028825599700212,-0.028086390346289,-0.000327747431584,-0.094056539237499,-0.027210121974349,0.053547278046608,0.060151342302561,0.114400893449783,-0.031084341928363));
res += mul(Get(s3,dx,0), float4x4(0.014697381295264,-0.044862054288387,0.057460334151983,-0.019948249682784,-0.011650585569441,-0.025371383875608,-0.005592264700681,-0.043447677046061,-0.083816081285477,0.018862696364522,0.022363599389791,0.146342232823372,0.094278171658516,-0.082159563899040,-0.033384710550308,-0.057349503040314));
res += mul(Get(s3,dx,dy), float4x4(-0.068535305559635,-0.035604424774647,0.006354206241667,0.079933054745197,-0.020881913602352,0.054620813578367,0.027418406680226,-0.034805085510015,-0.023705940693617,-0.055706840008497,0.123466566205025,0.045619715005159,-0.027852924540639,-0.076410435140133,-0.070461101830006,-0.012526399455965));
return max(float4(0,0,0,0), res);
}
