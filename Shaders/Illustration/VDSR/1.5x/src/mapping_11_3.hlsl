sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.025396523997188,0.004870119970292,0.150292128324509,-0.012791952118278,-0.046703472733498,-0.017074542120099,0.191728591918945,0.085248544812202,-0.083288766443729,0.055330321192741,-0.113287925720215,0.006098719779402,0.048286728560925,-0.028037158772349,0.088034667074680,0.007187539245933));
res += mul(Get(s0,-dx,0), float4x4(0.006568890996277,0.012182894162834,-0.055733855813742,0.044639986008406,-0.023224543780088,0.046929117292166,0.183737292885780,-0.014693457633257,0.006289487704635,-0.084932439029217,-0.167992085218430,0.023204220458865,0.071071766316891,0.056187283247709,-0.004745971411467,-0.034058429300785));
res += mul(Get(s0,-dx,dy), float4x4(0.008160040713847,0.027143970131874,0.066835343837738,0.017003241926432,-0.026193937286735,0.018178874626756,-0.211013600230217,-0.027193214744329,-0.038838006556034,0.011085866950452,-0.097144544124603,0.088605217635632,0.029951473698020,0.040343198925257,-0.064428716897964,-0.005963528994471));
res += mul(Get(s0,0,-dy), float4x4(0.038236007094383,-0.052826806902885,0.099319353699684,-0.038644913583994,0.009289287030697,0.057633027434349,-0.093967743217945,0.016201063990593,0.095248624682426,-0.013326673768461,0.138934388756752,0.027049666270614,0.039871368557215,-0.049036599695683,-0.022790819406509,0.041714139282703));
res += mul(Get(s0,0,0), float4x4(-0.001952385180630,-0.034306332468987,0.116411581635475,-0.028295928612351,-0.028924928978086,-0.023285569623113,-0.015704708173871,0.039427991956472,0.059161979705095,-0.143056601285934,-0.036914505064487,-0.007427096832544,0.086990207433701,0.041508290916681,0.035266585648060,0.047023605555296));
res += mul(Get(s0,0,dy), float4x4(-0.163135096430779,-0.036836098879576,0.081820614635944,-0.014437873847783,-0.059855654835701,-0.127661809325218,-0.018384637311101,-0.003380278823897,0.025477843359113,0.102693773806095,0.020249314606190,0.139437481760979,0.007957762107253,-0.012026111595333,0.086168177425861,0.026348955929279));
res += mul(Get(s0,dx,-dy), float4x4(0.027711456641555,0.073514461517334,-0.025430776178837,-0.025202838703990,-0.018841709941626,-0.048890616744757,0.185811668634415,-0.091428697109222,-0.044615633785725,-0.055442042648792,0.037558190524578,0.187230303883553,-0.058383606374264,-0.098516002297401,0.114048168063164,-0.046316538006067));
res += mul(Get(s0,dx,0), float4x4(0.028702994808555,-0.006031674332917,0.000713596527930,0.113468684256077,-0.050006650388241,0.001195698627271,0.068519763648510,0.131546914577484,-0.017786752432585,0.017860272899270,-0.050936564803123,0.043737657368183,-0.021584693342447,0.030657801777124,-0.000990158994682,0.018937103450298));
res += mul(Get(s0,dx,dy), float4x4(0.005400498397648,-0.055559646338224,-0.001119069638662,0.041082844138145,-0.022600566968322,-0.029182804748416,-0.066660344600677,0.094892755150795,-0.028987323865294,0.041130714118481,0.038003277033567,0.015576169826090,0.006855605170131,0.101446360349655,-0.101955644786358,-0.090535476803780));
res += mul(Get(s1,-dx,-dy), float4x4(-0.103273771703243,0.027184713631868,0.086079843342304,0.004171168431640,-0.057386036962271,0.016335709020495,-0.116771802306175,-0.051592975854874,-0.023946661502123,0.134210288524628,0.038917202502489,0.001634810818359,-0.095489323139191,0.025983555242419,0.065085247159004,0.011037482880056));
res += mul(Get(s1,-dx,0), float4x4(-0.012326500378549,-0.024672018364072,0.124599888920784,0.000172837622813,0.126058787107468,0.011400537565351,0.010993937030435,0.060910545289516,0.015519555658102,-0.050329957157373,-0.013936614617705,-0.060239084064960,-0.108749911189079,-0.048828501254320,-0.009136657230556,0.022759232670069));
res += mul(Get(s1,-dx,dy), float4x4(0.028668276965618,-0.061536490917206,0.028255553916097,0.000484445132315,-0.052446603775024,0.012046152725816,0.015709927305579,-0.125230327248573,0.061237704008818,0.015009651891887,0.015432626940310,-0.013346558436751,-0.105715446174145,0.064136318862438,0.120706371963024,0.056412119418383));
res += mul(Get(s1,0,-dy), float4x4(-0.007671144325286,0.002661073580384,-0.005818428006023,0.100507378578186,0.012315011583269,-0.053196448832750,0.209998115897179,0.084846436977386,0.051685433834791,-0.080328360199928,-0.024477398023009,0.083959475159645,-0.081941343843937,0.006669604685158,0.018500395119190,-0.019122008234262));
res += mul(Get(s1,0,0), float4x4(-0.018898058682680,-0.041800223290920,0.108216270804405,0.102914780378342,-0.000217908978811,-0.064121752977371,-0.030819637700915,-0.082178875803947,-0.032639339566231,-0.023761678487062,0.034961521625519,-0.097297228872776,-0.032829053699970,-0.040330342948437,0.163249596953392,-0.138346448540688));
res += mul(Get(s1,0,dy), float4x4(-0.018188323825598,-0.052999366074800,0.086032643914223,0.040188115090132,-0.023970605805516,-0.071291737258434,-0.071148969233036,0.145904287695885,0.056219924241304,0.025612790137529,-0.152188003063202,0.071267783641815,0.084852717816830,-0.079302474856377,-0.007563896942884,0.070660747587681));
res += mul(Get(s1,dx,-dy), float4x4(0.053135737776756,-0.032634578645229,0.057081531733274,0.062755517661572,0.017760761082172,-0.016017410904169,-0.003347473684698,0.247314259409904,-0.077328063547611,-0.112250201404095,-0.101294741034508,0.054851990193129,-0.006530720740557,-0.016022387892008,-0.032675299793482,-0.014189601875842));
res += mul(Get(s1,dx,0), float4x4(0.020165843889117,-0.091484457254410,-0.045903775840998,0.147286400198936,-0.086420938372612,-0.037962835282087,0.158734112977982,0.044849168509245,-0.021600695326924,0.056488048285246,0.040957007557154,-0.023477120324969,-0.056495837867260,0.009905735030770,0.046160597354174,0.023177679628134));
res += mul(Get(s1,dx,dy), float4x4(-0.015119306743145,-0.010488688945770,-0.068454727530479,0.007862720638514,-0.009907212108374,0.004865172784775,0.246331065893173,-0.122288487851620,0.016332946717739,0.061660807579756,-0.004137404263020,0.010083597153425,0.022236872464418,0.048133950680494,0.067582644522190,-0.059661794453859));
res += mul(Get(s2,-dx,-dy), float4x4(0.014546414837241,-0.033751633018255,0.122651644051075,0.063943885266781,0.063491456210613,-0.031974207609892,0.019251819700003,0.048812299966812,-0.006028799805790,-0.037257239222527,0.046129859983921,0.054591987282038,-0.011085251346231,-0.126601055264473,-0.019308129325509,0.109099708497524));
res += mul(Get(s2,-dx,0), float4x4(0.057587038725615,0.022873461246490,0.111444018781185,-0.203270927071571,0.050498668104410,-0.071359686553478,-0.006573992781341,0.103654198348522,0.035976298153400,-0.029578018933535,-0.068359211087227,0.064555384218693,-0.072715751826763,-0.090970665216446,0.219671204686165,-0.001391824567690));
res += mul(Get(s2,-dx,dy), float4x4(-0.044231422245502,-0.056582126766443,-0.026281945407391,-0.048631079494953,-0.055384464561939,-0.034851793199778,0.001709110336378,-0.091875761747360,-0.041679672896862,0.093985222280025,0.000234582024859,0.041991606354713,-0.010836784727871,-0.097696125507355,0.073202572762966,0.004167884588242));
res += mul(Get(s2,0,-dy), float4x4(-0.060545872896910,-0.063591882586479,-0.127467378973961,-0.000942727434449,-0.082967050373554,0.041025623679161,0.006979000754654,-0.120780982077122,0.006737469229847,0.009023079648614,0.084196820855141,-0.136947602033615,-0.012316136620939,-0.054807443171740,-0.103895850479603,0.151839032769203));
res += mul(Get(s2,0,0), float4x4(0.038205076009035,0.060463547706604,-0.084588915109634,-0.043751206248999,-0.085791662335396,0.044002719223499,-0.040920030325651,-0.034043692052364,-0.005541978869587,-0.028085822239518,0.010220223106444,0.186529740691185,0.064335957169533,0.010198554955423,-0.010194977745414,0.114082016050816));
res += mul(Get(s2,0,dy), float4x4(-0.143345385789871,-0.077230282127857,-0.063384838402271,0.052408710122108,0.029436016455293,-0.007797374855727,-0.108142279088497,0.083861455321312,0.091291628777981,0.105031788349152,0.104025118052959,-0.043874751776457,-0.070795208215714,0.014283389784396,-0.000057734367147,0.007344522047788));
res += mul(Get(s2,dx,-dy), float4x4(0.007402237970382,0.047754693776369,-0.024570655077696,0.091224648058414,-0.099140748381615,-0.076411314308643,-0.014540589414537,0.053408294916153,-0.023899208754301,0.011530793271959,-0.064596779644489,0.000413500529248,-0.068794116377831,0.055982612073421,0.043605610728264,0.085175871849060));
res += mul(Get(s2,dx,0), float4x4(-0.075288727879524,0.065343812108040,0.075568035244942,-0.040718607604504,-0.076086886227131,-0.023038541898131,0.148018747568130,0.087261751294136,-0.046126890927553,0.109494931995869,-0.083820186555386,0.002241777488962,-0.110917478799820,-0.038174316287041,0.000735331093892,0.036852531135082));
res += mul(Get(s2,dx,dy), float4x4(-0.084757134318352,-0.024505186825991,0.049352593719959,0.038410849869251,0.018459837883711,-0.025909570977092,0.014008857309818,-0.086910024285316,0.008184466511011,0.064874514937401,-0.020269600674510,0.025616521015763,0.048124063760042,0.057710234075785,0.080793999135494,-0.067272625863552));
res += mul(Get(s3,-dx,-dy), float4x4(0.034912288188934,0.008787488564849,-0.002871457254514,-0.000020256446078,-0.063852980732918,-0.057883992791176,0.080729678273201,0.043133039027452,-0.045276921242476,-0.028471032157540,-0.094874538481236,-0.060276396572590,0.031154455617070,0.002464286750183,-0.002309344243258,-0.004354762844741));
res += mul(Get(s3,-dx,0), float4x4(-0.078829050064087,-0.004649689886719,0.034410174936056,0.067505575716496,0.025391852483153,0.020480474457145,-0.048878937959671,0.082681685686111,-0.034126684069633,0.009229774586856,-0.032312665134668,0.024514041841030,-0.078418560326099,0.000227949887631,0.044333565980196,0.078688569366932));
res += mul(Get(s3,-dx,dy), float4x4(-0.053175881505013,0.013101965188980,0.026720779016614,0.067729517817497,0.098868913948536,-0.049987208098173,0.069244123995304,0.034069031476974,-0.098366267979145,-0.110390789806843,-0.067176744341850,-0.065595149993896,0.007437084335834,-0.043575391173363,0.024954687803984,0.007098034489900));
res += mul(Get(s3,0,-dy), float4x4(-0.032546166330576,0.058989822864532,-0.076771192252636,0.061803728342056,0.022445438429713,0.083370245993137,-0.010972329415381,-0.051000982522964,0.024336121976376,-0.042424201965332,-0.064540952444077,0.051652368158102,0.033902533352375,-0.003756716614589,-0.012966304086149,0.049066647887230));
res += mul(Get(s3,0,0), float4x4(-0.037974715232849,-0.018381791189313,0.035462949424982,-0.072660692036152,0.045255891978741,-0.107832886278629,-0.038743752986193,0.020983496680856,0.004630077164620,0.001650550286286,0.050539631396532,0.025858286768198,0.092685543000698,0.054161012172699,-0.114468023180962,0.004474181216210));
res += mul(Get(s3,0,dy), float4x4(0.022887451574206,-0.043583191931248,0.107097938656807,-0.048345167189837,0.057003695517778,-0.086536966264248,-0.004840022418648,-0.060427244752645,0.166269451379776,-0.080666035413742,0.010436088778079,0.189793676137924,0.013117552734911,0.047838475555182,0.043611899018288,-0.012597766704857));
res += mul(Get(s3,dx,-dy), float4x4(0.005461035296321,-0.020313404500484,0.077089130878448,-0.012941789813340,0.071172535419464,0.044248558580875,0.021484153345227,0.013254636898637,0.030885335057974,-0.009682267904282,0.038196809589863,0.017198732122779,-0.081575453281403,-0.064094565808773,-0.095577538013458,-0.020389137789607));
res += mul(Get(s3,dx,0), float4x4(0.003867933293805,0.076423794031143,0.001297975890338,-0.088192306458950,-0.066254436969757,-0.029215782880783,0.057274889200926,0.105603590607643,-0.001364058232866,-0.013999946415424,-0.076428011059761,0.008197075687349,-0.033530589193106,0.073219157755375,0.096840292215347,0.053652126342058));
res += mul(Get(s3,dx,dy), float4x4(0.052011918276548,0.037871390581131,-0.012486708350480,-0.013887941837311,-0.009085088036954,0.020862018689513,0.052489954978228,-0.128523126244545,-0.120811574161053,-0.032666940242052,0.029947742819786,0.045785080641508,0.069841966032982,0.026903446763754,0.057403739541769,0.010028634220362));
return max(float4(0,0,0,0), res);
}
