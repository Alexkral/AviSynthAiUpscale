sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.023994350805879,0.056235756725073,0.009090287610888,-0.006961607839912,-0.078351482748985,-0.044322524219751,-0.224326595664024,-0.067718937993050,-0.036901280283928,0.130184903740883,0.072073452174664,0.006633780431002,0.083638541400433,-0.024183949455619,0.127915248274803,-0.032429549843073));
res += mul(Get(s0,-dx,0), float4x4(-0.065952278673649,-0.066254042088985,-0.080986276268959,0.018940139561892,0.080288887023926,0.036289796233177,-0.135909780859947,-0.000828348449431,-0.181711539626122,0.033833373337984,0.046185206621885,0.016194976866245,0.039819214493036,0.005846761167049,0.070828109979630,-0.003607247723266));
res += mul(Get(s0,-dx,dy), float4x4(0.027611961588264,0.008998533710837,-0.007643452379853,0.048424065113068,0.168836086988449,0.139394074678421,0.077831611037254,-0.011157126165926,-0.122938208281994,-0.103526987135410,-0.124786689877510,-0.107908695936203,0.009644635953009,-0.037734013050795,0.086263053119183,0.021316226571798));
res += mul(Get(s0,0,-dy), float4x4(0.033041439950466,0.020491676405072,0.023978095501661,0.062937229871750,-0.081726938486099,-0.023593425750732,0.028459917753935,0.030689939856529,-0.101821765303612,0.059754386544228,-0.065326631069183,-0.102603249251842,0.005013204179704,0.076988190412521,0.118167027831078,0.040893509984016));
res += mul(Get(s0,0,0), float4x4(0.047938138246536,-0.077191665768623,0.007266244851053,-0.004649254493415,-0.007198894396424,-0.018004482612014,0.012588307261467,-0.034251071512699,-0.018499700352550,0.037893269211054,0.188672661781311,-0.036888405680656,-0.019094740971923,-0.002604810521007,0.008362253196537,0.053389921784401));
res += mul(Get(s0,0,dy), float4x4(0.005646698176861,-0.009222934022546,0.002688665408641,0.021307380869985,-0.147383823990822,-0.003239228622988,0.220800891518593,-0.108039312064648,0.063258595764637,-0.082642190158367,-0.172405764460564,-0.054846312850714,0.026758788153529,0.019034156575799,0.066738560795784,0.021877901628613));
res += mul(Get(s0,dx,-dy), float4x4(-0.001677828957327,0.015600831247866,-0.030317284166813,0.008293563500047,-0.010368927381933,0.069479748606682,-0.036838009953499,0.077822759747505,-0.020764451473951,-0.089874207973480,0.043305959552526,-0.048774071037769,0.023353841155767,0.029371364042163,0.135270729660988,-0.097352974116802));
res += mul(Get(s0,dx,0), float4x4(-0.072561115026474,-0.043255332857370,-0.040730740875006,0.014989704824984,-0.046822730451822,0.066933065652847,-0.032533876597881,-0.022558784112334,0.148445174098015,-0.012748666107655,0.000442352204118,-0.001201029517688,-0.054032225161791,-0.002751083346084,0.045862581580877,-0.074627153575420));
res += mul(Get(s0,dx,dy), float4x4(-0.013083830475807,-0.034528471529484,-0.015352096408606,0.128781244158745,0.018951721489429,0.000761446892284,0.010275132022798,0.064750537276268,0.038876511156559,0.022556286305189,-0.040494136512280,0.072888277471066,-0.027229508385062,-0.007260176818818,0.056243330240250,-0.011297525838017));
res += mul(Get(s1,-dx,-dy), float4x4(0.017861235886812,-0.050579596310854,-0.072598546743393,-0.046397466212511,-0.106395490467548,-0.040680285543203,0.069605655968189,-0.036783087998629,0.065142862498760,-0.097004927694798,-0.043315406888723,0.018998604267836,-0.063920550048351,-0.024887012317777,-0.022260274738073,-0.015499219298363));
res += mul(Get(s1,-dx,0), float4x4(0.011796097271144,-0.024116476997733,0.003401965834200,-0.103827938437462,-0.023865519091487,0.003409395925701,-0.091603234410286,-0.081564001739025,0.028480162844062,-0.025425935164094,-0.044576562941074,-0.063527047634125,-0.017462296411395,0.296684592962265,-0.019021380692720,0.048678521066904));
res += mul(Get(s1,-dx,dy), float4x4(0.045116633176804,0.016580628231168,-0.017540525645018,-0.077733077108860,-0.080118596553802,-0.006596975959837,-0.095789410173893,0.016250558197498,-0.012948618270457,-0.052606098353863,-0.037343584001064,0.042065579444170,0.112351343035698,0.030383154749870,-0.003149993950501,-0.004963221028447));
res += mul(Get(s1,0,-dy), float4x4(0.066541224718094,-0.044934742152691,0.014171890914440,0.014171461574733,0.009808803908527,0.044196706265211,0.033400628715754,0.066093534231186,-0.022008985280991,-0.057641431689262,0.076185472309589,-0.009446720592678,-0.161376416683197,-0.003548430511728,-0.030983377248049,-0.090226009488106));
res += mul(Get(s1,0,0), float4x4(-0.046039339154959,-0.015988420695066,0.045498356223106,-0.031996991485357,0.013932103291154,0.039737395942211,-0.047864343971014,0.089936472475529,0.025008434429765,-0.041480612009764,-0.099392488598824,0.043162591755390,0.079494208097458,-0.047281667590141,0.065868854522705,0.010407567024231));
res += mul(Get(s1,0,dy), float4x4(-0.081530958414078,0.006771925371140,0.123294465243816,-0.060397315770388,-0.032060362398624,0.011826739646494,-0.030244469642639,-0.031057521700859,0.111282624304295,-0.029585393145680,0.040750380605459,0.085112944245338,0.048814445734024,-0.108414277434349,-0.085811942815781,-0.102486446499825));
res += mul(Get(s1,dx,-dy), float4x4(-0.043398436158895,0.019636301323771,0.004569426178932,-0.018898161128163,0.039228379726410,-0.048396140336990,-0.095046281814575,0.091976754367352,-0.008380599319935,-0.012496895156801,0.009937887080014,-0.042324252426624,0.170086577534676,0.018866743892431,0.003012702334672,0.064704835414886));
res += mul(Get(s1,dx,0), float4x4(-0.007218692917377,-0.028783757239580,-0.017501173540950,0.047807380557060,0.013050750829279,0.041096031665802,0.053422499448061,-0.063178211450577,0.000228861710639,0.023256760090590,0.024046747013927,0.083649784326553,0.035950057208538,-0.033781059086323,0.040109414607286,-0.068235129117966));
res += mul(Get(s1,dx,dy), float4x4(-0.018682884052396,-0.029416600242257,0.000696091447026,-0.070044010877609,0.111593887209892,0.016079714521766,-0.129686266183853,-0.012417562305927,-0.001798410085030,-0.010738920420408,0.010443426668644,-0.067926667630672,-0.080498211085796,0.005212676245719,-0.120772942900658,-0.055569101125002));
res += mul(Get(s2,-dx,-dy), float4x4(0.076654657721519,0.007905990816653,-0.042830877006054,-0.057873845100403,0.000469606078696,-0.016511829569936,-0.023330451920629,0.005511390045285,0.041377652436495,0.008163998834789,0.028368255123496,0.044665828347206,0.106130629777908,-0.007123075425625,-0.081654101610184,0.006546179763973));
res += mul(Get(s2,-dx,0), float4x4(-0.040972236543894,-0.019833857193589,0.014001794159412,-0.065903961658478,-0.023714272305369,-0.019913954660296,0.021820278838277,-0.065533868968487,-0.002112690359354,-0.015473345294595,-0.020043374970555,0.075518347322941,0.071579217910767,0.077778138220310,0.054432347416878,0.051326781511307));
res += mul(Get(s2,-dx,dy), float4x4(-0.055608164519072,-0.011618223972619,-0.098256237804890,0.050135120749474,-0.038388557732105,0.132983863353729,-0.078395888209343,0.094058163464069,0.016922149807215,-0.022020125761628,-0.095377273857594,0.029550367966294,0.026655258610845,-0.071325197815895,-0.031063586473465,0.020708473399282));
res += mul(Get(s2,0,-dy), float4x4(-0.140544772148132,0.001419684849679,0.088279321789742,-0.003546210238710,0.099847257137299,-0.052359070628881,0.113535970449448,0.002278903266415,0.019857469946146,-0.038839016109705,0.212421074509621,0.011452837847173,0.060292266309261,-0.131970718502998,-0.140157833695412,-0.049595423042774));
res += mul(Get(s2,0,0), float4x4(-0.137037113308907,-0.085640117526054,-0.117673128843307,0.019001228734851,0.069260381162167,-0.039852336049080,0.047899253666401,-0.014881042763591,0.030808664858341,-0.042268160730600,0.023706486448646,0.133488476276398,-0.053022775799036,0.200618192553520,-0.016191231086850,-0.031483456492424));
res += mul(Get(s2,0,dy), float4x4(-0.140545338392258,0.058865867555141,-0.010033251717687,0.119047246873379,0.039125259965658,0.025370530784130,0.041980028152466,0.045106932520866,0.065012544393539,-0.006303594913334,-0.011691078543663,-0.020395720377564,-0.060203667730093,0.178498789668083,0.009830644354224,-0.023166295140982));
res += mul(Get(s2,dx,-dy), float4x4(-0.107170857489109,0.085774697363377,-0.069103464484215,0.049132503569126,-0.103053368628025,-0.037944909185171,0.111179642379284,0.051672928035259,-0.029379051178694,-0.054346658289433,0.001643102848902,0.079354837536812,-0.084913805127144,-0.043256711214781,0.010336051695049,-0.025745304301381));
res += mul(Get(s2,dx,0), float4x4(-0.114232800900936,0.091686457395554,-0.074400052428246,0.012593730352819,-0.035322409123182,-0.066555619239807,-0.003357427194715,0.159875467419624,-0.012052592821419,-0.033210586756468,0.065231248736382,0.064416386187077,-0.030940720811486,-0.007954199798405,-0.054181691259146,0.072518385946751));
res += mul(Get(s2,dx,dy), float4x4(-0.009173470549285,0.053161062300205,0.032278459519148,-0.007328599691391,-0.026662671938539,-0.010022734291852,-0.000592125637922,-0.038606077432632,-0.049898043274879,-0.066754750907421,-0.094799622893333,0.007288432214409,0.019491231068969,0.000615595839918,0.070431269705296,-0.064180500805378));
res += mul(Get(s3,-dx,-dy), float4x4(-0.050167590379715,0.067221850156784,-0.033678907901049,0.035736542195082,-0.086165741086006,0.004876120947301,-0.054365951567888,-0.110774718225002,0.113907910883427,-0.164889723062515,-0.020731154829264,-0.034535419195890,0.017710808664560,-0.008424113504589,0.076471902430058,-0.040856570005417));
res += mul(Get(s3,-dx,0), float4x4(0.057403698563576,0.001178227830678,0.098770581185818,0.068343259394169,-0.069320596754551,0.014899012632668,-0.013288747519255,-0.108406379818916,0.140441194176674,-0.070167571306229,0.017317328602076,-0.026319742202759,-0.008517712354660,0.055373560637236,0.018884846940637,-0.092547930777073));
res += mul(Get(s3,-dx,dy), float4x4(0.005520802456886,0.032090142369270,0.012078564614058,0.045994363725185,-0.049178369343281,-0.066496856510639,-0.159943476319313,-0.132013574242592,0.000270207965514,-0.018010199069977,0.022189386188984,-0.005346014164388,-0.018490204587579,-0.008813079446554,0.028887879103422,-0.087892040610313));
res += mul(Get(s3,0,-dy), float4x4(-0.040820956230164,-0.020932693034410,0.074244298040867,0.020023453980684,-0.027723632752895,0.010729886591434,0.049222890287638,-0.080469146370888,0.163771867752075,-0.031921915709972,0.045158050954342,-0.091918110847473,-0.048791464418173,-0.025380659848452,0.022543458268046,0.011376534588635));
res += mul(Get(s3,0,0), float4x4(0.028418688103557,-0.011540650390089,0.027579998597503,0.023027129471302,-0.029468880966306,-0.013855763711035,0.077996775507927,-0.040108837187290,0.049093216657639,-0.057956811040640,0.003474503057078,-0.088813655078411,0.163814440369606,-0.042160470038652,0.010193694382906,0.057784661650658));
res += mul(Get(s3,0,dy), float4x4(-0.008946747519076,0.084292113780975,0.018856469541788,0.046104494482279,-0.072537094354630,-0.046229165047407,-0.052787691354752,-0.052501898258924,-0.035227023065090,-0.031375966966152,-0.020467683672905,0.019485361874104,0.178740561008453,-0.055589541792870,0.074763581156731,-0.053901344537735));
res += mul(Get(s3,dx,-dy), float4x4(-0.013949868269265,-0.012419113889337,-0.028011297807097,0.038393013179302,0.027902264147997,-0.002035131445155,-0.013074530288577,-0.048007428646088,0.059271395206451,-0.061209354549646,0.054944742470980,0.047299951314926,0.145560324192047,0.049034215509892,-0.014238383620977,0.086436599493027));
res += mul(Get(s3,dx,0), float4x4(-0.000938004988711,0.168723478913307,0.065519265830517,0.067124597728252,0.000424053287134,-0.041650120168924,-0.039244521409273,-0.092634834349155,-0.001730746473186,0.001014568959363,-0.032967101782560,0.146982535719872,0.102580063045025,0.051617488265038,0.020542461425066,-0.032057162374258));
res += mul(Get(s3,dx,dy), float4x4(-0.049169491976500,0.030978661030531,-0.045616641640663,0.038867417722940,-0.048585779964924,0.047126788645983,0.055774308741093,-0.080909714102745,0.012195548973978,0.004458486102521,0.029772326350212,0.133328780531883,-0.063810914754868,0.084420479834080,-0.007366110570729,-0.054557144641876));
return max(float4(0,0,0,0), res);
}
