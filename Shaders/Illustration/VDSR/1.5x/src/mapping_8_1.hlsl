sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.015455752611160,0.179581612348557,0.022185167297721,0.025548320263624,-0.048935502767563,-0.020168542861938,-0.082458481192589,-0.118878290057182,0.008058223873377,0.101409606635571,-0.004856818821281,-0.001449005911127,0.065453723073006,-0.013501301407814,0.043631047010422,-0.049133278429508));
res += mul(Get(s0,-dx,0), float4x4(-0.003243659855798,0.089108698070049,0.010998717509210,0.093192785978317,-0.069457568228245,-0.078427739441395,-0.009285581298172,0.012916397303343,0.002570059616119,0.085078693926334,-0.060025263577700,0.016004817560315,0.171805366873741,0.076188735663891,0.031580727547407,0.046737637370825));
res += mul(Get(s0,-dx,dy), float4x4(0.022732043638825,-0.084247127175331,0.065212890505791,-0.059442657977343,0.023223487660289,-0.047249637544155,0.081742800772190,0.135657966136932,0.067874416708946,-0.030424412339926,-0.014157722704113,0.030782138928771,0.136390686035156,-0.027197446674109,-0.055154632776976,0.015106647275388));
res += mul(Get(s0,0,-dy), float4x4(-0.147366359829903,0.070216454565525,0.091184109449387,0.067367337644100,0.046660475432873,-0.025153541937470,0.131618082523346,0.016146052628756,-0.035185117274523,0.020277192816138,0.045716486871243,-0.036036908626556,-0.047655038535595,-0.115233287215233,-0.087861754000187,0.006326577626169));
res += mul(Get(s0,0,0), float4x4(-0.036901392042637,0.040307067334652,0.065927602350712,-0.023800440132618,0.027466159313917,-0.029670266434550,0.007064626086503,0.092397749423981,-0.048507824540138,0.019841205328703,0.039998438209295,-0.041112601757050,-0.191691666841507,0.013113393448293,-0.010468017309904,0.028187733143568));
res += mul(Get(s0,0,dy), float4x4(-0.032013170421124,0.012409777380526,-0.023073768243194,-0.113477930426598,-0.063615113496780,0.061145123094320,0.021177837625146,-0.041614901274443,0.004735603928566,-0.012297905050218,-0.079838477075100,-0.075846269726753,0.059044539928436,0.005791128613055,-0.019805302843451,0.159852311015129));
res += mul(Get(s0,dx,-dy), float4x4(0.053907442837954,-0.026886405423284,0.009736782871187,0.084003947675228,0.036887798458338,-0.010265154764056,0.021705424413085,0.059026904404163,0.039405658841133,-0.041163761168718,-0.026569010689855,0.092555090785027,-0.063055984675884,-0.033388204872608,-0.064463354647160,-0.034339599311352));
res += mul(Get(s0,dx,0), float4x4(-0.010023470968008,0.078334078192711,-0.037307120859623,-0.015523066744208,0.009101325646043,0.000176739049493,-0.076284654438496,-0.017151299864054,0.003121567657217,-0.008286489173770,-0.064889840781689,-0.019165460020304,0.113917708396912,-0.052717778831720,-0.024364683777094,0.148935332894325));
res += mul(Get(s0,dx,dy), float4x4(0.028564332053065,0.001555610448122,0.055088128894567,0.123963609337807,0.001997220329940,0.002060804050416,-0.051629208028316,0.042280845344067,0.103083752095699,0.018392901867628,0.097639247775078,0.032606940716505,0.000224939780310,0.049163777381182,0.022510975599289,-0.077024266123772));
res += mul(Get(s1,-dx,-dy), float4x4(-0.102198578417301,0.218505069613457,0.040539175271988,-0.030212979763746,-0.111276768147945,-0.060577530413866,0.081590756773949,-0.129303708672523,0.057795014232397,0.011042341589928,-0.084771335124969,0.050810638815165,-0.028646113350987,-0.071248896420002,-0.053257178515196,-0.015383716672659));
res += mul(Get(s1,-dx,0), float4x4(-0.116544626653194,-0.038866940885782,-0.091934040188789,0.057611446827650,0.004228343721479,-0.074943505227566,0.003442861372605,0.053966332226992,-0.002796081127599,-0.035237070173025,-0.060808729380369,0.042616467922926,-0.091474607586861,0.003771593794227,-0.048566579818726,-0.106932446360588));
res += mul(Get(s1,-dx,dy), float4x4(-0.071627587080002,-0.032495826482773,-0.004278834443539,-0.051718171685934,0.010084481909871,-0.001293136388995,0.041829746216536,-0.051487859338522,-0.093274846673012,0.086511492729187,-0.105741344392300,-0.034841250628233,0.080653332173824,0.035672064870596,-0.092722438275814,-0.052543636411428));
res += mul(Get(s1,0,-dy), float4x4(-0.119215488433838,0.018561631441116,0.142827987670898,0.020836491137743,0.003442418295890,-0.048206936568022,-0.038012403994799,-0.054642874747515,-0.026601942256093,0.106075949966908,0.161178782582283,0.021121229976416,0.051669783890247,-0.038488607853651,-0.016152964904904,-0.005232199095190));
res += mul(Get(s1,0,0), float4x4(-0.076079867780209,0.050130318850279,0.105180382728577,0.001059637637809,-0.015193711966276,-0.040443874895573,-0.024649662896991,0.206930145621300,-0.032502826303244,-0.025179736316204,0.056613571941853,0.151988938450813,0.020896501839161,-0.058063946664333,0.043085809797049,0.025254787877202));
res += mul(Get(s1,0,dy), float4x4(-0.102127030491829,0.044500749558210,-0.019479680806398,-0.080272510647774,-0.027262989431620,-0.012550217099488,0.065077088773251,-0.116938114166260,-0.040951978415251,0.048654314130545,-0.055676016956568,0.031981922686100,0.090185672044754,0.106724582612514,-0.154219657182693,0.119310274720192));
res += mul(Get(s1,dx,-dy), float4x4(0.047089815139771,0.030289201065898,-0.025441832840443,-0.025158196687698,0.054145868867636,-0.099351614713669,0.051577128469944,-0.056147105991840,-0.019422123208642,0.024711988866329,0.109309025108814,-0.030486563220620,-0.000019149376385,0.036599695682526,0.072243101894855,0.003322039498016));
res += mul(Get(s1,dx,0), float4x4(0.052688870579004,0.097109794616699,0.094917707145214,-0.057338587939739,0.074923858046532,-0.103445179760456,0.069618359208107,0.184034645557404,0.045258712023497,0.079982563853264,-0.046246264129877,0.142005831003189,0.014499885961413,-0.086775928735733,0.059438273310661,-0.023843981325626));
res += mul(Get(s1,dx,dy), float4x4(0.002464703051373,-0.080106131732464,-0.043992791324854,0.019974578171968,-0.024883314967155,-0.045231640338898,0.046508394181728,-0.079194754362106,-0.047644220292568,0.025508781895041,0.010053341276944,-0.085026204586029,-0.085607230663300,0.028379619121552,0.065188094973564,-0.009910446591675));
res += mul(Get(s2,-dx,-dy), float4x4(-0.098695814609528,0.021555813029408,-0.007605298887938,-0.011437861248851,0.008207014761865,0.057348452508450,-0.054462183266878,-0.099318407475948,0.019584851339459,0.023095022886992,-0.058939427137375,-0.092906132340431,-0.027392784133554,0.018680304288864,0.011538488790393,0.008037313818932));
res += mul(Get(s2,-dx,0), float4x4(0.031702727079391,-0.039425469934940,0.032309360802174,0.016802908852696,-0.133367747068405,-0.063182838261127,0.051388818770647,-0.030111813917756,0.059270020574331,0.108915954828262,-0.147273376584053,-0.051288139075041,0.029131723567843,0.061318598687649,-0.089172005653381,0.155606165528297));
res += mul(Get(s2,-dx,dy), float4x4(-0.043344948440790,0.047002088278532,-0.003246528096497,0.019554836675525,0.036127742379904,-0.014279133640230,0.030210169032216,-0.049029454588890,-0.045473713427782,-0.009273584000766,0.077201880514622,-0.115297153592110,0.048182822763920,0.051265232264996,0.008085376583040,-0.015255071222782));
res += mul(Get(s2,0,-dy), float4x4(0.011611612513661,-0.128610640764236,-0.100479416549206,0.087009370326996,-0.008505717851222,-0.063262306153774,0.080327965319157,0.113237254321575,-0.059560678899288,0.105789087712765,-0.000301885302179,0.018448840826750,0.066287539899349,-0.007344805169851,-0.002379318699241,0.000830219534691));
res += mul(Get(s2,0,0), float4x4(0.024049747735262,0.043947361409664,-0.163685292005539,0.078747369349003,-0.124526724219322,0.025418929755688,0.070193603634834,0.073291733860970,0.080896250903606,-0.019236488267779,-0.011185926385224,-0.050838418304920,0.015375042334199,-0.125411912798882,-0.124439910054207,0.090837515890598));
res += mul(Get(s2,0,dy), float4x4(-0.120573200285435,0.095514364540577,-0.016971699893475,0.058977454900742,-0.099424041807652,0.035522766411304,0.049946207553148,0.028966262936592,-0.011236703954637,0.151284039020538,-0.011390636675060,-0.167218342423439,-0.008609786629677,0.013967385515571,-0.093067653477192,-0.002334153978154));
res += mul(Get(s2,dx,-dy), float4x4(0.044289045035839,-0.051462508738041,-0.010088244453073,-0.046842854470015,-0.043928813189268,0.049418680369854,0.032471679151058,0.070906504988670,0.011414205655456,0.014594268985093,0.013979472219944,-0.056321356445551,0.029914999380708,-0.048159126192331,0.036346092820168,0.070554956793785));
res += mul(Get(s2,dx,0), float4x4(0.031295299530029,-0.061651453375816,0.082077726721764,-0.019706478342414,0.017368033528328,0.006535796914250,0.015588351525366,0.043849024921656,0.016292016953230,0.007628443185240,0.018450336530805,-0.082785017788410,0.013443482108414,-0.002550606848672,0.022005297243595,-0.029721707105637));
res += mul(Get(s2,dx,dy), float4x4(-0.020416596904397,-0.076493799686432,-0.109064765274525,0.109574578702450,-0.098724514245987,-0.085602879524231,0.039018440991640,0.019420381635427,0.019077291712165,0.051860939711332,0.055376101285219,-0.092718049883842,-0.090529836714268,0.019101988524199,-0.093461304903030,-0.039558023214340));
res += mul(Get(s3,-dx,-dy), float4x4(-0.090052001178265,0.049465436488390,-0.164634093642235,-0.063225768506527,-0.029523160308599,-0.015641417354345,-0.087373040616512,0.035187765955925,-0.042115937918425,-0.107529230415821,0.133537665009499,0.000582227716222,-0.041319489479065,-0.050785131752491,0.204922020435333,0.054727476090193));
res += mul(Get(s3,-dx,0), float4x4(0.073748260736465,0.101792529225349,0.129218518733978,0.072899341583252,-0.068673402070999,-0.035010226070881,0.061617467552423,0.128008857369423,0.056709423661232,0.026915630325675,-0.037081528455019,0.029350535944104,0.012469655834138,0.075131401419640,-0.091064885258675,-0.005563618149608));
res += mul(Get(s3,-dx,dy), float4x4(0.056281834840775,-0.061549950391054,0.033809624612331,0.003220944898203,-0.107163704931736,-0.085380554199219,0.027210429310799,-0.015776332467794,-0.027207113802433,-0.027647953480482,0.022016186267138,-0.008836597204208,0.038542542606592,0.066620111465454,0.051874101161957,0.012991657480597));
res += mul(Get(s3,0,-dy), float4x4(-0.005859231576324,-0.002818063367158,0.096093669533730,0.085337743163109,0.095016054809093,0.002803367096931,0.046774439513683,0.071280330419540,-0.046725187450647,0.013337123207748,0.022873384878039,-0.021975411102176,0.000219532230403,0.073497585952282,0.123893901705742,-0.028710164129734));
res += mul(Get(s3,0,0), float4x4(-0.201148658990860,-0.013585318811238,0.051109440624714,-0.030290631577373,-0.011478938162327,-0.067335456609726,0.114466816186905,0.015506098978221,-0.042529977858067,0.076435968279839,0.112235218286514,0.122484378516674,-0.058041185140610,-0.005944628734142,0.119753129780293,0.006645877379924));
res += mul(Get(s3,0,dy), float4x4(-0.043519452214241,-0.040077805519104,0.100944027304649,-0.092101939022541,0.014928530901670,-0.059425644576550,0.161470606923103,-0.012847410514951,-0.088522128760815,0.082345567643642,-0.037917550653219,-0.079618446528912,0.066263243556023,0.009537152014673,0.047697126865387,-0.018588721752167));
res += mul(Get(s3,dx,-dy), float4x4(0.035384166985750,0.093045413494110,-0.045305207371712,0.040211696177721,-0.097972579300404,-0.092853903770447,-0.008665015920997,-0.122846551239491,0.001871273503639,-0.045686852186918,-0.024492453783751,-0.049972143024206,0.051416851580143,-0.083921574056149,0.044473532587290,-0.000842550129164));
res += mul(Get(s3,dx,0), float4x4(0.139158040285110,0.069397658109665,0.010064416565001,0.103516742587090,0.047321863472462,-0.007574530784041,-0.047631725668907,0.057394836097956,0.032068118453026,-0.033112715929747,0.046032536774874,0.109979480504990,0.030334347859025,0.078083612024784,-0.067575514316559,-0.013134486973286));
res += mul(Get(s3,dx,dy), float4x4(0.080218516290188,-0.002975386800244,0.006745844148099,0.103536188602448,0.044809337705374,-0.032073091715574,-0.053606595844030,0.022127756848931,0.006091430783272,-0.018975362181664,-0.008045109920204,-0.042622994631529,0.115310907363892,0.034162774682045,-0.003237914061174,0.057996805757284));
return max(float4(0,0,0,0), res);
}
