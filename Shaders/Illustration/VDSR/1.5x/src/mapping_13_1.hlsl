sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.008099885657430,-0.076751030981541,-0.054201640188694,0.026850543916225,-0.025710340589285,-0.061361908912659,0.017915520817041,0.071191117167473,-0.035744871944189,-0.096880756318569,0.042391527444124,0.018725484609604,-0.018070219084620,0.068331114947796,0.022330055013299,-0.053614556789398));
res += mul(Get(s0,-dx,0), float4x4(-0.087126687169075,-0.014616644941270,-0.072980642318726,-0.064093410968781,0.031914237886667,-0.088151022791862,0.075667940080166,-0.001749074785039,-0.094738774001598,-0.037114106118679,-0.073903024196625,-0.035357356071472,0.045235566794872,0.006939187645912,0.029245313256979,-0.031867653131485));
res += mul(Get(s0,-dx,dy), float4x4(0.015580498613417,0.057562287896872,-0.029564201831818,0.073804818093777,0.035335980355740,-0.096468910574913,-0.049152996391058,0.003316009417176,0.011474495753646,0.099925950169563,-0.003282175632194,0.014377127401531,-0.028349185362458,0.044778853654861,0.035986095666885,0.024857463315129));
res += mul(Get(s0,0,-dy), float4x4(0.088201574981213,-0.043500892817974,-0.062771245837212,0.069770991802216,0.141114935278893,-0.046359483152628,0.020360725000501,-0.002987153362483,0.053603406995535,-0.048420600593090,0.034304860979319,0.102342873811722,0.003762413049117,0.101724423468113,0.027657268568873,0.081230372190475));
res += mul(Get(s0,0,0), float4x4(0.048100993037224,0.010821045376360,-0.036542840301991,0.198225185275078,-0.059761255979538,0.065444402396679,-0.047994133085012,0.043566912412643,0.059467624872923,-0.048059836030006,0.009141176939011,0.177370280027390,0.027353063225746,0.032510720193386,0.091387927532196,-0.007677538320422));
res += mul(Get(s0,0,dy), float4x4(-0.019452182576060,-0.011134259402752,-0.051206748932600,0.120703049004078,0.123149655759335,-0.113350637257099,0.035598322749138,0.002551305806264,-0.023424725979567,0.089687272906303,-0.079276829957962,0.030941013246775,0.050647664815187,0.110125854611397,-0.002030949341133,0.022557150572538));
res += mul(Get(s0,dx,-dy), float4x4(-0.034994903951883,-0.016567286103964,-0.033855602145195,0.064964994788170,-0.034569088369608,0.052115146070719,0.007565200794488,-0.094443373382092,-0.047823637723923,-0.047847744077444,-0.002523293718696,-0.013350863009691,0.000593964825384,0.050638027489185,-0.061969716101885,-0.020666325464845));
res += mul(Get(s0,dx,0), float4x4(-0.031790196895599,0.045689050108194,-0.094926372170448,0.027730040252209,0.078960321843624,0.037054348737001,-0.010265346616507,0.008061693049967,0.037793446332216,-0.134060934185982,0.144538640975952,-0.074125424027443,0.076593816280365,0.010970689356327,0.012819191440940,0.037651780992746));
res += mul(Get(s0,dx,dy), float4x4(-0.071648068726063,0.126841351389885,-0.098898299038410,0.003576940624043,0.030793482437730,-0.109202481806278,-0.025127073749900,-0.060979019850492,0.009628487750888,0.202701583504677,0.085322737693787,0.096975408494473,-0.013064894825220,0.097617007791996,-0.032909672707319,0.058392208069563));
res += mul(Get(s1,-dx,-dy), float4x4(-0.037791419774294,0.017719872295856,0.035096786916256,-0.020295526832342,-0.036685038357973,-0.001814598916098,-0.007996675558388,-0.035631287842989,-0.047741938382387,0.025239994749427,-0.002972146496177,-0.045119084417820,0.079026430845261,-0.001217180746607,0.117036178708076,0.020346544682980));
res += mul(Get(s1,-dx,0), float4x4(-0.040606316179037,0.081069044768810,-0.020811887457967,0.019309800118208,0.028962772339582,-0.004336887970567,0.027898091822863,0.027199538424611,-0.058946847915649,0.025551270693541,-0.011819236911833,-0.123576566576958,-0.000816072104499,-0.064469940960407,-0.027397833764553,0.062296789139509));
res += mul(Get(s1,-dx,dy), float4x4(0.033886101096869,-0.013597576878965,0.007583833299577,-0.058827269822359,-0.102982871234417,-0.020667163655162,-0.060129970312119,-0.083330571651459,0.058034084737301,0.083304278552532,0.001029330189340,-0.028029318898916,0.007185571826994,-0.053190082311630,0.054954405874014,-0.026476839557290));
res += mul(Get(s1,0,-dy), float4x4(0.053358022123575,0.081774853169918,0.026469878852367,-0.004616396035999,0.027633119374514,-0.073900870978832,-0.048640333116055,-0.088076345622540,-0.052928805351257,0.040753882378340,-0.021225942298770,0.021612834185362,0.159692972898483,0.050189673900604,-0.023442396894097,-0.112002551555634));
res += mul(Get(s1,0,0), float4x4(-0.031167548149824,-0.013499486260116,0.084016688168049,0.020176177844405,-0.113742209970951,0.141758471727371,-0.133485138416290,-0.040565986186266,0.017840422689915,0.038682747632265,0.033353745937347,-0.107519172132015,-0.021113252267241,-0.026551401242614,-0.052126634865999,0.075846739113331));
res += mul(Get(s1,0,dy), float4x4(-0.023288348689675,-0.045665934681892,-0.018519204109907,0.013345080427825,0.003198345890269,0.063171222805977,-0.071464791893959,-0.055807583034039,0.076539508998394,-0.057559110224247,0.144154846668243,-0.046559367328882,-0.086541190743446,0.023828748613596,-0.067562982439995,-0.008182031102479));
res += mul(Get(s1,dx,-dy), float4x4(0.037268832325935,0.065502427518368,0.026017429307103,-0.136774033308029,-0.001360931782983,-0.004016758874059,-0.067638650536537,0.041750285774469,-0.055058397352695,-0.028552489355206,-0.047540988773108,0.030716065317392,0.116276405751705,0.029041331261396,0.030770642682910,-0.071802452206612));
res += mul(Get(s1,dx,0), float4x4(-0.026420671492815,0.041900150477886,-0.059665758162737,-0.058846954256296,-0.090534977614880,0.012210952118039,-0.059708934277296,0.006834662519395,0.003809861838818,-0.069425702095032,0.024079974740744,-0.040790367871523,-0.029622381553054,-0.023715933784842,-0.017208093777299,-0.053423851728439));
res += mul(Get(s1,dx,dy), float4x4(-0.006038376595825,0.089426249265671,0.009501879103482,-0.057515922933817,-0.055651787668467,-0.038653828203678,-0.064771175384521,-0.081103645265102,-0.027972977608442,0.045313391834497,0.090131096541882,-0.063659660518169,-0.052320834249258,0.028681356459856,-0.037559207528830,-0.082151398062706));
res += mul(Get(s2,-dx,-dy), float4x4(0.030572349205613,0.030433364212513,0.060021385550499,-0.055674292147160,-0.014011272229254,0.026411937549710,0.007622117176652,0.053819179534912,-0.028408966958523,0.017695097252727,0.012394388206303,-0.030443400144577,0.016269015148282,-0.097331151366234,0.024337843060493,0.043459691107273));
res += mul(Get(s2,-dx,0), float4x4(0.022318631410599,0.092412084341049,0.113879606127739,-0.015901604667306,0.026535337790847,-0.052865654230118,0.024017913267016,0.015262217260897,0.007966445758939,0.007509339135140,0.015128609724343,-0.029815519228578,-0.044399753212929,0.022626316174865,-0.016310503706336,0.062753587961197));
res += mul(Get(s2,-dx,dy), float4x4(-0.069501414895058,0.017052045091987,-0.036287765949965,-0.036359384655952,0.050352595746517,-0.097802400588989,0.032384622842073,0.015463770367205,-0.004909297451377,0.021431107074022,0.044143497943878,0.018790042027831,-0.039002493023872,0.045962136238813,0.004560529254377,-0.042619090527296));
res += mul(Get(s2,0,-dy), float4x4(0.056517940014601,0.102270767092705,-0.005512504838407,0.025284126400948,0.057105224579573,0.064989104866982,0.039274144917727,0.009717505425215,-0.029831947758794,-0.092908456921577,0.093360543251038,0.095310732722282,-0.021354172378778,-0.095808431506157,0.004103851504624,-0.004375737160444));
res += mul(Get(s2,0,0), float4x4(0.124868683516979,0.009606270119548,-0.009655773639679,-0.001816903240979,0.046132326126099,-0.043561317026615,-0.020896445959806,0.077609516680241,-0.018021818250418,0.015999903902411,-0.053893197327852,-0.026955416426063,-0.000479183858261,-0.038213931024075,0.119344808161259,-0.000615325465333));
res += mul(Get(s2,0,dy), float4x4(-0.118421345949173,0.101805813610554,0.024817179888487,0.021944051608443,0.080367766320705,-0.079789087176323,0.008378058671951,-0.011562947183847,0.216965034604073,-0.023816680535674,0.002742321463302,0.014372305013239,-0.079044662415981,0.049063190817833,0.029386186972260,0.051106203347445));
res += mul(Get(s2,dx,-dy), float4x4(-0.056795258074999,0.107128135859966,-0.013018111698329,-0.000046049248340,-0.011993963271379,0.049202036112547,-0.019386105239391,0.056390177458525,-0.021546900272369,-0.050019100308418,-0.029754864051938,-0.085003279149532,0.020082870498300,-0.033448118716478,0.147533699870110,0.064151950180531));
res += mul(Get(s2,dx,0), float4x4(0.028958301991224,0.025930887088180,0.087310776114464,-0.033883970230818,0.021407602354884,-0.014652946032584,-0.078935623168945,0.094967313110828,0.160506159067154,0.089913584291935,-0.040351036936045,0.086913764476776,0.057049386203289,-0.018148699775338,0.102107368409634,0.102064706385136));
res += mul(Get(s2,dx,dy), float4x4(-0.031347058713436,0.115883223712444,-0.058637719601393,-0.050966974347830,0.030042886734009,-0.076467685401440,-0.017507981508970,-0.015173091553152,-0.000206636832445,-0.032186150550842,0.036841932684183,0.007117413450032,-0.067952789366245,0.092428311705589,0.061103213578463,0.108192734420300));
res += mul(Get(s3,-dx,-dy), float4x4(0.018226344138384,-0.228164017200470,-0.015352332964540,0.002336086472496,0.021990623325109,-0.115436963737011,0.062088072299957,-0.017324179410934,0.122871823608875,0.004812548868358,-0.027352878823876,-0.094565115869045,-0.060186721384525,-0.048140965402126,0.037387162446976,-0.032794088125229));
res += mul(Get(s3,-dx,0), float4x4(0.034888684749603,-0.054581180214882,-0.035057906061411,-0.035158649086952,0.004310752730817,0.017708927392960,0.048270877450705,-0.071532502770424,0.091271631419659,-0.029722420498729,-0.024356359615922,-0.003394630039111,0.063539683818817,0.036828536540270,0.037543099373579,0.001487490721047));
res += mul(Get(s3,-dx,dy), float4x4(-0.036262433975935,0.024608887732029,-0.004655227996409,0.043643273413181,-0.036904416978359,0.015373982489109,0.052029207348824,-0.004782172385603,-0.043379299342632,-0.056229345500469,-0.023435249924660,0.045444454997778,-0.086948744952679,0.002546475036070,0.044800966978073,0.047389376908541));
res += mul(Get(s3,0,-dy), float4x4(0.018519924953580,-0.128407254815102,-0.068682953715324,-0.054445259273052,0.047076065093279,-0.105927415192127,0.032642275094986,-0.058865189552307,0.159636512398720,0.062395583838224,-0.099849998950958,0.023601453751326,-0.068213790655136,0.128814473748207,0.011182292364538,0.034250654280186));
res += mul(Get(s3,0,0), float4x4(0.014825249090791,-0.022691916674376,0.022038627415895,-0.037693392485380,-0.081077523529530,-0.025033554062247,-0.056933674961329,-0.068742200732231,-0.000377375079552,-0.084011644124985,-0.073623247444630,-0.007629126776010,-0.005634531844407,-0.034807354211807,-0.020288111642003,-0.046204291284084));
res += mul(Get(s3,0,dy), float4x4(-0.024184074252844,0.046402234584093,-0.044003799557686,-0.048678021878004,0.074681356549263,-0.047874253243208,0.114259414374828,-0.062598921358585,0.019153729081154,0.027956182137132,0.037212423980236,0.071852244436741,0.042249318212271,0.028629759326577,-0.047461122274399,0.008898729458451));
res += mul(Get(s3,dx,-dy), float4x4(0.053967680782080,-0.094178661704063,0.070456460118294,0.044326063245535,-0.061817087233067,-0.170267254114151,0.022374184802175,-0.119137696921825,0.044245745986700,-0.015463229268789,0.103880919516087,0.031758170574903,-0.014487706124783,0.074242994189262,0.105623088777065,-0.035910576581955));
res += mul(Get(s3,dx,0), float4x4(-0.034034531563520,0.011698403395712,0.080932021141052,0.074926868081093,-0.042701836675406,0.028345467522740,-0.041378472000360,-0.050837270915508,0.029139585793018,-0.042794942855835,0.005547044798732,-0.062632285058498,0.047681141644716,-0.006075036711991,0.055740404874086,0.000455230328953));
res += mul(Get(s3,dx,dy), float4x4(-0.036667034029961,0.066180847585201,0.000438253511675,-0.029569795355201,0.014933601021767,-0.050511006265879,0.087341330945492,-0.076075926423073,-0.024507177993655,-0.038668207824230,-0.009083018638194,-0.031135685741901,0.022210314869881,-0.037702437490225,0.001627750694752,0.000988000421785));
return max(float4(0,0,0,0), res);
}
