sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.019330257549882,0.069260187447071,-0.034884072840214,0.002275656443089,0.013843691907823,0.015725692734122,-0.034695893526077,0.029923912137747,-0.005653892643750,0.055088173598051,-0.021286820992827,-0.041842471808195,0.049739461392164,0.016009051352739,-0.015730163082480,0.002041157102212));
res += mul(Get(s0,-dx,0), float4x4(0.028030049055815,-0.008882957510650,0.030168902128935,0.003463459666818,-0.050294563174248,-0.104749076068401,-0.007199884857982,-0.026948148384690,0.087355248630047,0.079639665782452,0.104369923472404,-0.019454769790173,0.089548207819462,-0.015993112698197,-0.022254457697272,-0.034585118293762));
res += mul(Get(s0,-dx,dy), float4x4(-0.055615689605474,0.054267399013042,-0.023392748087645,-0.014131363481283,0.082447484135628,0.040265910327435,-0.012349912896752,-0.059816077351570,0.003678170498461,0.161896273493767,0.120289526879787,0.049075726419687,-0.020266110077500,-0.058186102658510,0.033905155956745,-0.010753914713860));
res += mul(Get(s0,0,-dy), float4x4(-0.060013905167580,-0.073149941861629,0.036906782537699,-0.010015219449997,0.046799741685390,-0.039402700960636,0.075570605695248,-0.018388757482171,-0.039205674082041,0.029539760202169,-0.150638252496719,-0.020749306306243,-0.000995488255285,0.103728018701077,-0.013807835057378,0.042977932840586));
res += mul(Get(s0,0,0), float4x4(-0.095554545521736,0.002471853978932,0.046638756990433,0.041976734995842,0.027801934629679,0.076094642281532,0.044350285083055,0.055547103285789,-0.063326321542263,-0.075317934155464,-0.062182474881411,-0.008311337791383,-0.040120083838701,-0.010200854390860,-0.033170659095049,-0.011049320921302));
res += mul(Get(s0,0,dy), float4x4(-0.026718974113464,0.004583169240505,0.091830432415009,0.015982288867235,-0.023943951353431,0.033743463456631,-0.124107010662556,-0.067192956805229,-0.054591994732618,-0.051817286759615,-0.029873866587877,-0.063898578286171,0.066973872482777,0.173893019556999,-0.006426741369069,0.074297860264778));
res += mul(Get(s0,dx,-dy), float4x4(-0.002816472435370,-0.080842971801758,-0.043862979859114,0.060850843787193,0.071015030145645,0.016343392431736,0.070795021951199,0.031067283824086,-0.055085550993681,-0.067871294915676,0.066192813217640,-0.050371654331684,-0.064619190990925,-0.044916547834873,-0.029204336926341,-0.045110825449228));
res += mul(Get(s0,dx,0), float4x4(-0.012781584635377,-0.007903598248959,-0.034756924957037,0.006809101440012,0.033849447965622,0.084406159818172,-0.073144443333149,-0.019365116953850,-0.007180571556091,0.233230397105217,0.019735660403967,-0.015379510819912,0.064688123762608,-0.017422895878553,-0.016747675836086,-0.072960898280144));
res += mul(Get(s0,dx,dy), float4x4(0.017894307151437,-0.027580341324210,0.094287328422070,-0.069556117057800,0.058174975216389,0.066308416426182,0.012653181329370,-0.018376633524895,-0.030622772872448,0.110072799026966,-0.095705553889275,0.021350115537643,0.028825474902987,-0.175191670656204,0.040558494627476,0.013647999614477));
res += mul(Get(s1,-dx,-dy), float4x4(-0.098210357129574,-0.135986551642418,-0.030866330489516,-0.017132690176368,0.054805189371109,0.080804198980331,-0.052794098854065,0.060044866055250,0.007325052749366,-0.001864765654318,0.005593579262495,-0.012080079875886,0.047843821346760,0.127648711204529,-0.097609244287014,0.006714856717736));
res += mul(Get(s1,-dx,0), float4x4(-0.036319367587566,-0.026548018679023,-0.011816316284239,-0.006472015753388,-0.035851553082466,0.014186054468155,0.002046770183370,-0.048753913491964,-0.041074573993683,-0.039569340646267,-0.125015884637833,-0.014763523824513,0.122841507196426,0.093061409890652,-0.065695226192474,0.066289268434048));
res += mul(Get(s1,-dx,dy), float4x4(-0.031171236187220,0.199239984154701,0.057549223303795,0.001207556226291,0.029870478436351,0.016441622748971,-0.067484982311726,0.018723700195551,0.032681554555893,-0.011676958762109,-0.015028972178698,-0.021015992388129,0.030740588903427,-0.120886661112309,-0.112576715648174,-0.066735006868839));
res += mul(Get(s1,0,-dy), float4x4(0.029354875907302,0.099763639271259,-0.036441713571548,0.081584289669991,0.017053656280041,0.014137087389827,-0.055702235549688,-0.021409362554550,0.028631996363401,0.015631968155503,-0.024556148797274,-0.064529389142990,-0.016933554783463,-0.011288736015558,-0.020611997693777,-0.075239136815071));
res += mul(Get(s1,0,0), float4x4(0.059459745883942,0.232695132493973,-0.024970753118396,-0.053201686590910,-0.081028439104557,0.096767641603947,0.011698630638421,0.016521815210581,0.010843163356185,0.166277036070824,0.010792552493513,0.000256496219663,-0.041702445596457,0.008146961219609,-0.059648070484400,0.006584462709725));
res += mul(Get(s1,0,dy), float4x4(-0.003268268657848,-0.102465845644474,0.035636149346828,0.009808358736336,-0.015064549632370,0.099760085344315,0.046339839696884,0.036624353379011,-0.056526046246290,-0.055878769606352,0.027313465252519,0.025237623602152,-0.046615697443485,0.243097126483917,0.026007119566202,-0.032320506870747));
res += mul(Get(s1,dx,-dy), float4x4(-0.013342297635972,0.032467931509018,0.040192298591137,0.054780177772045,0.040956631302834,0.079094745218754,0.115173682570457,0.100622966885567,0.015560976229608,0.017225811257958,0.000939635327086,-0.008016961626709,0.009214881807566,-0.062471657991409,0.098236292600632,-0.038712218403816));
res += mul(Get(s1,dx,0), float4x4(-0.120116114616394,-0.030947070568800,-0.101637586951256,-0.036816943436861,0.022246103733778,0.003171390155330,0.009327917359769,-0.077295094728470,-0.037194121629000,0.024900741875172,-0.102394871413708,0.128551393747330,0.092899717390537,0.010444729588926,0.083242028951645,-0.067786164581776));
res += mul(Get(s1,dx,dy), float4x4(-0.029401348903775,0.023288056254387,-0.107781134545803,-0.005537041928619,0.028519989922643,-0.079712055623531,-0.017789298668504,0.011692073196173,0.088554404675961,0.001711146789603,-0.073095947504044,-0.080960303544998,-0.040062837302685,0.031769350171089,0.010917360894382,0.021451581269503));
res += mul(Get(s2,-dx,-dy), float4x4(0.053919427096844,0.111658990383148,0.007636037189513,-0.071657299995422,0.018185110762715,0.033429298549891,0.076685950160027,0.037833351641893,0.006080836523324,-0.027380343526602,-0.080327942967415,-0.049473822116852,0.019126338884234,0.044064529240131,0.007165291812271,0.032911706715822));
res += mul(Get(s2,-dx,0), float4x4(0.000994477770291,-0.231675595045090,-0.094180949032307,-0.010066922754049,0.000796726730186,-0.059666819870472,0.024495590478182,0.087020419538021,0.060466535389423,0.041962977498770,-0.062064684927464,-0.011769550852478,-0.006500307470560,-0.059740677475929,0.045697402209044,0.015548845753074));
res += mul(Get(s2,-dx,dy), float4x4(0.065482065081596,-0.033134028315544,0.009101906791329,-0.080490313470364,0.016174135729671,0.000008794348105,-0.065899834036827,-0.098702281713486,0.057655289769173,-0.053811911493540,-0.014348821714520,-0.026625758036971,-0.021101508289576,-0.032189894467592,0.001084029092453,-0.000480043730931));
res += mul(Get(s2,0,-dy), float4x4(-0.066750258207321,-0.055232308804989,0.103727862238884,-0.003506822278723,-0.072553664445877,-0.051494676619768,0.052069049328566,-0.016658844426274,-0.070557266473770,0.052808135747910,0.024960486218333,-0.119339168071747,0.081752307713032,0.034246604889631,-0.058504242449999,0.021230531856418));
res += mul(Get(s2,0,0), float4x4(0.001125016715378,-0.112890981137753,0.060816932469606,-0.051276277750731,-0.017624195665121,0.016998086124659,0.033989500254393,0.002515548141673,-0.057972341775894,0.056488588452339,-0.101541161537170,-0.039698760956526,-0.014639274217188,-0.001985672628507,0.027332780882716,0.029011275619268));
res += mul(Get(s2,0,dy), float4x4(-0.067462377250195,0.146621644496918,-0.099222436547279,0.050053011626005,-0.026086920872331,-0.003476621583104,-0.031926494091749,-0.053851746022701,-0.040810268372297,-0.037402197718620,0.000196765366127,-0.020587101578712,0.034539192914963,0.029760094359517,0.073387481272221,-0.021577904000878));
res += mul(Get(s2,dx,-dy), float4x4(0.011538507416844,0.132542818784714,-0.065664313733578,-0.000370609923266,-0.001702985726297,0.027527039870620,-0.034313380718231,0.104338675737381,0.008718280121684,0.000456234323792,-0.062918573617935,0.004558440297842,-0.027037944644690,0.080654934048653,-0.031196385622025,0.011039303615689));
res += mul(Get(s2,dx,0), float4x4(0.039271648973227,0.250114023685455,-0.059074580669403,0.042402882128954,-0.003275026567280,0.039022956043482,0.042625810950994,-0.007870892994106,-0.060272019356489,0.099137380719185,0.028045754879713,-0.077176339924335,0.060427132993937,-0.067940555512905,-0.085190959274769,0.058525253087282));
res += mul(Get(s2,dx,dy), float4x4(0.020450411364436,0.062225077301264,0.094680398702621,-0.044840734452009,0.040419593453407,0.081079550087452,-0.064040578901768,0.092088118195534,0.011702048592269,-0.074949465692043,0.010843693278730,0.004969593603164,-0.095144942402840,-0.019946310669184,-0.022589998319745,-0.068042926490307));
res += mul(Get(s3,-dx,-dy), float4x4(-0.025077214464545,-0.058098051697016,0.108852662146091,0.047422468662262,-0.026404337957501,-0.005740684457123,-0.073618374764919,-0.017808884382248,0.002479874528944,0.082371070981026,0.073620401322842,-0.018861075863242,-0.008991510607302,-0.071158975362778,0.042785938829184,0.049244411289692));
res += mul(Get(s3,-dx,0), float4x4(-0.000462001102278,0.007598550524563,-0.008030255325139,0.016717247664928,0.022185806185007,0.082703165709972,0.162194028496742,-0.002181555842981,0.007660141680390,0.031932137906551,-0.030713632702827,0.040759626775980,0.012771202251315,0.033124160021544,0.060289170593023,-0.041537828743458));
res += mul(Get(s3,-dx,dy), float4x4(-0.098963290452957,0.076388411223888,-0.052384257316589,0.092779926955700,-0.093403421342373,0.193704321980476,0.149173438549042,-0.058803208172321,0.089096322655678,0.006738004274666,0.075524255633354,0.001170026022010,0.016632897779346,-0.029197182506323,-0.002678068587556,-0.050525762140751));
res += mul(Get(s3,0,-dy), float4x4(0.154689535498619,0.035328492522240,-0.043553326278925,0.026585601270199,-0.022709267213941,0.010170793160796,-0.061848357319832,0.006398209836334,0.022588543593884,0.010248696431518,0.026619227603078,-0.066238790750504,-0.043451528996229,0.062128402292728,-0.028401270508766,-0.027432166039944));
res += mul(Get(s3,0,0), float4x4(-0.010752381756902,-0.030769035220146,-0.042711332440376,0.017690002918243,0.032651577144861,-0.078571878373623,-0.119457639753819,-0.024049691855907,0.001855918555520,-0.047888994216919,0.001046307967044,-0.024613587185740,-0.050643652677536,0.023103911429644,0.024469504132867,0.005147845484316));
res += mul(Get(s3,0,dy), float4x4(0.110315226018429,0.016794502735138,-0.046144809573889,-0.030387450009584,0.047608770430088,0.002783734584227,-0.051158007234335,0.084477841854095,0.005313532426953,-0.030501168221235,-0.018125128000975,-0.001317687216215,-0.027260312810540,-0.038384862244129,0.045221332460642,0.015513307414949));
res += mul(Get(s3,dx,-dy), float4x4(0.032927874475718,-0.062674336135387,0.004575275816023,0.092286795377731,0.030436987057328,-0.005655821878463,0.037611078470945,-0.018660770729184,-0.012592026963830,0.006693236529827,-0.030663631856441,0.021786134690046,-0.108455017209053,-0.005480199120939,-0.068527244031429,-0.057787194848061));
res += mul(Get(s3,dx,0), float4x4(-0.005304880905896,-0.068629443645477,0.026249088346958,-0.032663486897945,-0.023881863802671,-0.099982641637325,0.116817034780979,-0.025305883958936,-0.031316913664341,-0.045440264046192,-0.095158956944942,0.093930847942829,0.029480064287782,0.004669994581491,0.042672771960497,-0.026003049686551));
res += mul(Get(s3,dx,dy), float4x4(-0.074162557721138,0.026832101866603,-0.064083077013493,-0.031428869813681,-0.037351321429014,-0.035625725984573,-0.055555190891027,0.045397102832794,0.046912234276533,0.054284609854221,-0.059349019080400,0.014142942614853,0.039536703377962,0.039972852915525,0.006434597074986,0.109925359487534));
return max(float4(0,0,0,0), res);
}
