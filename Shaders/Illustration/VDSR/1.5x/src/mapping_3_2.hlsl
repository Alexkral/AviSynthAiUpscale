sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.002787812147290,-0.056332904845476,0.001474579097703,0.022194344550371,0.005745623260736,0.027563104405999,0.067261397838593,-0.042438287287951,0.048589531332254,-0.061015415936708,0.106562167406082,0.001954850275069,0.035243596881628,-0.026067093014717,0.068532697856426,0.016146227717400));
res += mul(Get(s0,-dx,0), float4x4(0.003706068731844,-0.112651988863945,0.027949510142207,0.088654153048992,0.020657043904066,0.009132235310972,-0.084760993719101,0.040473852306604,0.026372535154223,-0.060418501496315,0.012753603979945,0.049145594239235,0.041251741349697,-0.058751076459885,0.090060152113438,0.024735216051340));
res += mul(Get(s0,-dx,dy), float4x4(-0.017921939492226,-0.079668030142784,-0.032544847577810,0.243001013994217,0.037650946527719,-0.006253631785512,-0.071354374289513,0.083234824240208,0.019755506888032,-0.036513965576887,0.001170033472590,0.083477213978767,0.023554760962725,-0.051305595785379,0.022584829479456,0.078935489058495));
res += mul(Get(s0,0,-dy), float4x4(0.027219017967582,-0.055180694907904,-0.055885810405016,0.006689098197967,0.032592039555311,-0.008511011488736,0.079842746257782,-0.012337548658252,0.031529277563095,-0.007674186956137,0.115074791014194,-0.025241216644645,0.015891045331955,0.000852836819831,0.088057763874531,-0.015505221672356));
res += mul(Get(s0,0,0), float4x4(-0.029587591066957,0.100177295506001,0.010713746771216,0.010901587083936,0.015397854149342,0.136723458766937,-0.003426102688536,-0.014482047408819,0.031732149422169,-0.047361377626657,-0.019318947568536,0.014341155067086,0.022631494328380,0.000660046003759,0.070096336305141,-0.021078284829855));
res += mul(Get(s0,0,dy), float4x4(0.033154506236315,0.051462393254042,-0.043003480881453,0.088447898626328,0.052221491932869,0.247989207506180,-0.048687960952520,-0.008148143067956,0.029404668137431,-0.014407333917916,0.007549965288490,0.036719094961882,0.018618592992425,-0.028955988585949,-0.000953889626544,0.019560994580388));
res += mul(Get(s0,dx,-dy), float4x4(0.054815404117107,-0.019315425306559,-0.074312262237072,0.004453228320926,0.068712972104549,-0.016392035409808,-0.010628330521286,0.000894466182217,0.024930719286203,0.033937457948923,0.079867966473103,-0.011231589131057,0.007095512934029,0.012716627679765,0.059360090643167,0.010311388410628));
res += mul(Get(s0,dx,0), float4x4(-0.025788215920329,-0.035923883318901,-0.026370827108622,0.035384558141232,0.025628153234720,0.015817252919078,-0.026949761435390,0.019273420795798,0.027043543756008,0.048311188817024,-0.009234882891178,-0.012087407521904,0.012072673998773,0.032362177968025,0.046125054359436,-0.025586670264602));
res += mul(Get(s0,dx,dy), float4x4(0.018681919202209,-0.055933598428965,-0.079017661511898,-0.002783040981740,0.005593136418611,0.031375918537378,-0.019208855926991,-0.006091738585383,0.038681272417307,0.125900268554688,0.000434717687313,-0.013746886514127,0.014240229502320,0.054016090929508,0.011551831848919,-0.004654371179640));
res += mul(Get(s1,-dx,-dy), float4x4(0.024181129410863,0.042531199753284,0.026967823505402,0.001489614485763,-0.131746023893356,-0.060155283659697,-0.008101984858513,0.027419796213508,0.009080548770726,-0.010376915335655,-0.049453582614660,-0.061684314161539,0.024439256638288,-0.028779597952962,0.043561216443777,-0.002347895177081));
res += mul(Get(s1,-dx,0), float4x4(0.071152798831463,0.021487755700946,0.038476549088955,0.096985712647438,-0.133344694972038,0.268042087554932,-0.125194281339645,-0.092548944056034,-0.100940339267254,-0.042024370282888,0.128776803612709,-0.041443139314651,0.012876116670668,-0.055633630603552,-0.012831752188504,0.012801075354218));
res += mul(Get(s1,-dx,dy), float4x4(-0.014007772319019,0.026706658303738,0.080026574432850,0.250145345926285,0.022136863321066,-0.067582368850708,-0.012366869486868,-0.074077181518078,-0.136067613959312,0.135308116674423,-0.025765415281057,0.042027987539768,0.005937224719673,-0.034142669290304,-0.020343150943518,0.047080848366022));
res += mul(Get(s1,0,-dy), float4x4(-0.040200881659985,0.015372889116406,0.131126523017883,-0.013750895857811,0.032716963440180,0.041827641427517,-0.098215185105801,-0.013186648488045,0.111637942492962,0.048183348029852,-0.117491617798805,-0.069503761827946,0.018792569637299,0.031180651858449,0.038038592785597,-0.021487731486559));
res += mul(Get(s1,0,0), float4x4(-0.078046396374702,0.018232060596347,0.144403681159019,0.057523634284735,0.246281608939171,-0.113809883594513,-0.188694640994072,0.027379646897316,0.003807194298133,0.054115783423185,0.093960396945477,-0.068358831107616,0.027472127228975,0.010128713212907,-0.007055240217596,0.000857615028508));
res += mul(Get(s1,0,dy), float4x4(-0.020386043936014,0.054965328425169,-0.130222842097282,0.105953380465508,-0.001529451808892,0.125236526131630,0.295259773731232,-0.063603408634663,0.053172647953033,-0.113284043967724,-0.082988493144512,0.145913287997246,0.022813221439719,0.062721639871597,0.012519859708846,0.017868245020509));
res += mul(Get(s1,dx,-dy), float4x4(-0.065209269523621,-0.020586337894201,0.013115772977471,-0.002848785370588,-0.114967755973339,0.022335154935718,-0.117804110050201,-0.083896532654762,0.037626653909683,-0.098339460790157,-0.039019249379635,0.027809798717499,0.024479001760483,-0.010416228324175,0.021663494408131,-0.002479076152667));
res += mul(Get(s1,dx,0), float4x4(-0.062590613961220,-0.052224706858397,-0.045700192451477,-0.033568423241377,0.050770960748196,-0.071014717221260,0.050957288593054,0.009467807598412,-0.110162414610386,0.003407964250073,0.064322128891945,0.019926317036152,0.018365627154708,0.039643473923206,-0.005840034224093,0.000374680268578));
res += mul(Get(s1,dx,dy), float4x4(-0.006534971762449,-0.098793037235737,-0.022870583459735,-0.038624752312899,-0.098746433854103,-0.117619492113590,0.161977469921112,-0.014870132319629,-0.098154887557030,0.082990720868111,0.001973132370040,0.047358319163322,0.012008629739285,0.120407275855541,0.003317300695926,-0.003564088139683));
res += mul(Get(s2,-dx,-dy), float4x4(-0.065150968730450,-0.004883713554591,-0.014123984612525,0.054769184440374,0.031424589455128,-0.020803183317184,0.110410526394844,0.010568974539638,0.005417495034635,0.011127187870443,-0.000413170171669,-0.010110054165125,-0.093079939484596,-0.094029664993286,-0.020933201536536,-0.096592552959919));
res += mul(Get(s2,-dx,0), float4x4(0.018427418544888,0.019768025726080,-0.066153176128864,-0.015396998263896,-0.000582970329560,0.151167154312134,-0.040360879153013,0.040732674300671,-0.000016499418052,0.044235009700060,-0.011830749921501,-0.014660768210888,-0.035880181938410,0.321531057357788,-0.108665816485882,-0.036020811647177));
res += mul(Get(s2,-dx,dy), float4x4(-0.031451113522053,0.030571335926652,0.128158897161484,0.003266667714342,0.030488502234221,0.134367212653160,-0.016434909775853,-0.034689344465733,0.008741444908082,0.017019169405103,-0.005856308620423,-0.010646714828908,-0.098531760275364,-0.081470176577568,0.145133271813393,0.027535691857338));
res += mul(Get(s2,0,-dy), float4x4(0.051114864647388,0.051640376448631,-0.024290936067700,0.011012588627636,0.001443727756850,0.013553996570408,-0.015735698863864,0.000519574736245,0.025284357368946,0.010659673251212,0.017783740535378,0.000260530126980,0.095482125878334,-0.010435247793794,-0.123965129256248,-0.095355719327927));
res += mul(Get(s2,0,0), float4x4(0.069223225116730,0.008899128064513,0.001397508895025,-0.026889279484749,0.069466702640057,0.056419037282467,-0.081048347055912,-0.037632279098034,0.056858200579882,0.098312243819237,0.014660265296698,-0.011763180606067,0.221231788396835,-0.127697736024857,-0.182520553469658,-0.043728217482567));
res += mul(Get(s2,0,dy), float4x4(-0.031747516244650,-0.014765134081244,0.100341618061066,0.001695836428553,-0.006935854442418,-0.068734817206860,0.023181807249784,-0.019828798249364,0.038287766277790,0.048466458916664,0.009910015389323,-0.006432916037738,-0.081408008933067,-0.058839093893766,0.233652725815773,-0.035059984773397));
res += mul(Get(s2,dx,-dy), float4x4(0.038906261324883,-0.005112231709063,0.052202060818672,0.001455600606278,0.099619992077351,0.075346201658249,-0.077266685664654,-0.023275621235371,0.007744840811938,-0.022670654579997,-0.018169032409787,0.014401034452021,0.025929594412446,-0.013547027483582,-0.055890258401632,-0.080507844686508));
res += mul(Get(s2,dx,0), float4x4(-0.015339838340878,0.062405146658421,0.035738401114941,-0.003451694734395,0.060154329985380,-0.006912846118212,-0.035350441932678,-0.050643857568502,0.011145614087582,-0.076579317450523,-0.006883610039949,0.027473220601678,0.023441608995199,0.137905314564705,0.121893130242825,-0.021358601748943));
res += mul(Get(s2,dx,dy), float4x4(-0.025541754439473,0.030427714809775,-0.006148728542030,-0.020497731864452,0.031708676367998,0.307586848735809,-0.028657866641879,-0.008509112522006,0.009947762824595,-0.100067742168903,0.008277779445052,0.015660040080547,-0.034398011863232,-0.009893223643303,-0.001344216871075,-0.032955653965473));
res += mul(Get(s3,-dx,-dy), float4x4(-0.049185786396265,0.150586649775505,-0.045002467930317,-0.041523881256580,0.090028621256351,0.115239158272743,-0.033545818179846,-0.027197290211916,0.017581531777978,0.022760670632124,0.017880024388433,0.018998440355062,0.008645203895867,0.015373490750790,0.066710136830807,0.008601455949247));
res += mul(Get(s3,-dx,0), float4x4(-0.058947809040546,0.087674625217915,-0.016065590083599,-0.075611822307110,0.029333753511310,0.028949756175280,-0.009791465476155,0.030046854168177,0.019696228206158,-0.029271693900228,0.000930418260396,0.040514122694731,0.026154046878219,0.132737681269646,-0.037696212530136,-0.008920729160309));
res += mul(Get(s3,-dx,dy), float4x4(-0.115262538194656,0.020018812268972,0.050706405192614,0.025267658755183,-0.009693310596049,0.060139119625092,0.061351109296083,0.067680723965168,0.001011137966998,0.008129535242915,0.050744697451591,0.003058331087232,0.013696498237550,0.012034632265568,0.073944561183453,-0.020361453294754));
res += mul(Get(s3,0,-dy), float4x4(0.243883863091469,0.074037000536919,-0.155268609523773,-0.100049868226051,0.086204059422016,0.102397426962852,-0.002235735533759,-0.028108650818467,0.007336847484112,-0.008922344073653,0.047622095793486,0.016618171706796,0.030604550614953,0.078900299966335,0.015287770889699,0.021238962188363));
res += mul(Get(s3,0,0), float4x4(-0.024085771292448,-0.300591588020325,0.154363825917244,0.044703613966703,0.009318971075118,0.019163805991411,0.086238302290440,0.059117801487446,0.027729190886021,0.015744201838970,0.008114575408399,0.022910322993994,0.101555757224560,-0.019195979461074,-0.021696135401726,0.010411135852337));
res += mul(Get(s3,0,dy), float4x4(-0.020591970533133,0.077261947095394,-0.055719394236803,0.158993601799011,0.057920742779970,0.114381045103073,-0.005362702999264,0.061354510486126,0.000029001068469,0.044053547084332,0.015177166089416,-0.014826624654233,0.012196534313262,0.013095255009830,0.105349354445934,0.001258261851035));
res += mul(Get(s3,dx,-dy), float4x4(-0.019001610577106,-0.096078567206860,0.006193385459483,-0.046208009123802,-0.002611311851069,0.085827082395554,0.030097695067525,0.007022822275758,0.006905846763402,0.048542641103268,0.020908700302243,0.016202559694648,0.051505148410797,0.037639584392309,-0.030417386442423,0.029164576902986));
res += mul(Get(s3,dx,0), float4x4(-0.170877262949944,0.263262659311295,0.000206372133107,0.020780252292752,0.012551482766867,0.123633898794651,0.017860928550363,-0.012279934249818,0.002439716598019,-0.093750320374966,0.015086560510099,0.024126142263412,0.014650149270892,-0.047783244401217,0.058287676423788,0.018410613760352));
res += mul(Get(s3,dx,dy), float4x4(0.011978110298514,-0.034081101417542,-0.105962313711643,-0.007209303788841,0.065498635172844,-0.036179676651955,0.006220861803740,-0.006990315392613,0.027361165732145,-0.043584793806076,-0.008918417617679,0.006013037636876,0.041392680257559,0.072194747626781,-0.006936075165868,0.018283175304532));
return max(float4(0,0,0,0), res);
}
