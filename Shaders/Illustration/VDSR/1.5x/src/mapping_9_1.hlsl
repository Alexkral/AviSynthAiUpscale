sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.005165665410459,-0.097105026245117,-0.013580800034106,0.050451353192329,0.003608480328694,0.050507817417383,0.069958098232746,0.007193183992058,-0.095807611942291,-0.005205092020333,-0.014486886560917,0.028135856613517,0.153645724058151,0.013515215367079,0.060989320278168,-0.030880412086844));
res += mul(Get(s0,-dx,0), float4x4(-0.090660698711872,-0.011770867742598,-0.119585558772087,0.008640296757221,0.061144005507231,-0.023026773706079,-0.003255586838350,-0.116702042520046,0.038538809865713,0.074894033372402,-0.020104547962546,0.049813173711300,0.030575944110751,0.005363859701902,-0.026477888226509,-0.041518550366163));
res += mul(Get(s0,-dx,dy), float4x4(-0.088237144052982,-0.006110117770731,-0.026244945824146,0.073050387203693,-0.018071195110679,0.029015434905887,-0.015773458406329,0.016756804659963,0.048368752002716,0.014281447976828,0.071117058396339,-0.010733081959188,0.034414581954479,0.038247223943472,0.102990001440048,-0.032043606042862));
res += mul(Get(s0,0,-dy), float4x4(0.015837337821722,-0.147108182311058,-0.074176505208015,0.019986016675830,-0.095389485359192,-0.077160499989986,0.012042255140841,0.056337043642998,0.024961283430457,-0.023239864036441,-0.057052113115788,0.043451622128487,-0.027622247114778,-0.017206124961376,-0.038175199180841,0.007417906541377));
res += mul(Get(s0,0,0), float4x4(0.086676917970181,-0.050575274974108,-0.031494393944740,-0.108741052448750,-0.025009378790855,0.096422754228115,-0.129824504256248,-0.110806547105312,0.089736074209213,0.058279570192099,-0.083041951060295,0.068599455058575,0.063635937869549,0.060428604483604,-0.098047912120819,-0.058920901268721));
res += mul(Get(s0,0,dy), float4x4(-0.004441173747182,-0.070659480988979,-0.037745941430330,0.058562587946653,0.080491252243519,0.084873914718628,-0.161263421177864,-0.023545986041427,0.085266023874283,-0.000403537269449,-0.057851448655128,-0.056270726025105,0.026363611221313,-0.003960474394262,0.087152555584908,0.025335242971778));
res += mul(Get(s0,dx,-dy), float4x4(-0.097231648862362,-0.033387999981642,-0.005018493626267,0.042836345732212,-0.129095226526260,-0.049542710185051,0.022059300914407,-0.000386936910218,-0.039705198258162,0.010191366076469,-0.061102386564016,0.063510760664940,-0.003098981222138,0.006549397483468,0.047297216951847,0.015329480171204));
res += mul(Get(s0,dx,0), float4x4(-0.026991926133633,-0.095867305994034,0.004406735766679,-0.084915317595005,-0.106260620057583,0.068101592361927,0.295504897832870,0.055990409106016,-0.021398918703198,0.045414056628942,-0.085983440279961,0.052950210869312,0.062481403350830,-0.006911457516253,0.050778072327375,-0.034881114959717));
res += mul(Get(s0,dx,dy), float4x4(0.004266461357474,-0.007927527651191,-0.011499891057611,0.030902169644833,0.078066132962704,-0.001580093405209,0.111322201788425,0.076508231461048,0.013405251316726,-0.022442301735282,-0.007503628265113,0.005372936371714,0.026632938534021,-0.048630248755217,0.034032978117466,-0.025986846536398));
res += mul(Get(s1,-dx,-dy), float4x4(-0.002558855107054,-0.021640056744218,0.068047761917114,-0.013499897904694,0.118215255439281,-0.021721329540014,0.017571564763784,0.010285888798535,-0.016201239079237,-0.024132518097758,-0.062323190271854,-0.002393095055595,-0.051193002611399,-0.048035882413387,-0.011998260393739,0.007978942245245));
res += mul(Get(s1,-dx,0), float4x4(-0.014919445849955,0.045659828931093,-0.083278104662895,-0.000924423220567,-0.022263891994953,-0.031228590756655,0.049943573772907,-0.016256859526038,0.047361068427563,-0.036501605063677,0.064631029963493,-0.096133828163147,0.006269959267229,-0.001895097782835,0.116902396082878,0.186001077294350));
res += mul(Get(s1,-dx,dy), float4x4(-0.031135074794292,-0.005494148936123,0.019834857434034,0.004468802828342,-0.010870590806007,-0.059111066162586,-0.008676955476403,0.061741545796394,-0.005425884854048,0.055815137922764,-0.006114609073848,-0.027018193155527,-0.023901652544737,0.036607734858990,0.012694931589067,-0.025457078590989));
res += mul(Get(s1,0,-dy), float4x4(-0.000409776432207,-0.072273083031178,0.093063287436962,0.057091891765594,0.030990872532129,-0.009852406568825,-0.032313875854015,0.003761886851862,-0.015100090764463,0.075789541006088,-0.183972567319870,-0.051626075059175,0.038229186087847,-0.012133251875639,0.097934074699879,0.026938026770949));
res += mul(Get(s1,0,0), float4x4(-0.037847284227610,0.032160554081202,-0.020845150575042,0.093258157372475,0.082993663847446,-0.034453485161066,-0.078439347445965,-0.080932267010212,0.038264755159616,0.297116726636887,0.096430286765099,-0.169306069612503,0.025218989700079,-0.017599349841475,0.012421002611518,0.095374099910259));
res += mul(Get(s1,0,dy), float4x4(-0.072127118706703,0.080117791891098,0.017093049362302,0.042133472859859,-0.091282375156879,-0.039850167930126,-0.089189983904362,-0.158693760633469,-0.055981911718845,0.050201419740915,-0.058927729725838,-0.021518796682358,-0.026712832972407,-0.054841917008162,0.119901359081268,0.009141486138105));
res += mul(Get(s1,dx,-dy), float4x4(0.021174129098654,-0.058993563055992,0.108577348291874,0.072901122272015,-0.014910655096173,-0.000840393244289,0.029657306149602,0.076938599348068,0.019983444362879,-0.070805311203003,-0.124233312904835,-0.037836708128452,-0.036279287189245,-0.025657579302788,0.049011792987585,-0.014260719530284));
res += mul(Get(s1,dx,0), float4x4(0.036094274371862,-0.034052494913340,-0.078645914793015,0.050108753144741,-0.006511002313346,0.016109691932797,0.027860984206200,-0.092739313840866,0.032938566058874,-0.116881527006626,0.115931451320648,-0.120914913713932,-0.002942560240626,0.093294538557529,0.139060065150261,0.105904683470726));
res += mul(Get(s1,dx,dy), float4x4(-0.022620365023613,-0.057666759938002,-0.027765152975917,0.024572469294071,-0.032683297991753,-0.063660733401775,0.031961303204298,-0.051797319203615,-0.010548961348832,-0.091083556413651,0.076139703392982,0.041177608072758,-0.064675621688366,-0.012841912917793,0.046788234263659,-0.092090897262096));
res += mul(Get(s2,-dx,-dy), float4x4(-0.021066769957542,0.064888060092926,0.067691542208195,0.027526969090104,-0.100950427353382,0.044640351086855,0.046664088964462,-0.044692918658257,-0.041747175157070,0.090467110276222,0.015695812180638,-0.064764223992825,0.076310172677040,0.033310543745756,0.044408824294806,0.058926351368427));
res += mul(Get(s2,-dx,0), float4x4(0.113071784377098,0.032077215611935,0.014839346520603,0.008414135314524,0.036761589348316,-0.023806419223547,0.104047745466232,-0.063611805438995,0.028365805745125,0.033465739339590,-0.120567530393600,0.000357089826139,-0.009661653079093,0.009853012859821,-0.037677295506001,0.155713468790054));
res += mul(Get(s2,-dx,dy), float4x4(0.051568232476711,0.121442079544067,0.046358253806829,-0.008925902657211,0.070767387747765,0.077026136219501,0.064671583473682,0.002660251222551,-0.007958559319377,0.084259241819382,-0.068575680255890,-0.045791450887918,-0.031738791614771,-0.000562583853025,-0.056964822113514,0.039372641593218));
res += mul(Get(s2,0,-dy), float4x4(0.016139972954988,-0.020627565681934,0.057040840387344,-0.034573193639517,-0.258808732032776,-0.023050980642438,-0.065072327852249,-0.018525948747993,0.087550558149815,0.088611677289009,0.010207418352365,-0.029787486419082,-0.041130483150482,-0.022093562409282,0.013855617493391,-0.004532822407782));
res += mul(Get(s2,0,0), float4x4(0.025019619613886,0.020022809505463,0.000584508932661,-0.062151722609997,-0.090217180550098,-0.049627345055342,0.053888175636530,-0.034406501799822,-0.016948012635112,-0.093780666589737,-0.134533077478409,-0.017925571650267,0.026859259232879,0.045718714594841,0.032478600740433,0.152116522192955));
res += mul(Get(s2,0,dy), float4x4(0.015212527476251,0.006137872580439,0.056882329285145,0.087212748825550,0.083810761570930,0.047050453722477,0.014558835886419,0.100790001451969,0.000340937491274,-0.011206793598831,-0.015817323699594,-0.053789105266333,0.001812765141949,0.022888589650393,-0.049226865172386,0.018804049119353));
res += mul(Get(s2,dx,-dy), float4x4(-0.032755311578512,0.019448278471828,0.063334822654724,0.029022265225649,-0.188371658325195,0.054587729275227,0.052825633436441,0.048618637025356,0.054364241659641,0.014325229451060,0.044176220893860,-0.065191999077797,-0.109944649040699,-0.000941713922657,0.051026951521635,0.016970736905932));
res += mul(Get(s2,dx,0), float4x4(0.034455001354218,0.037659510970116,-0.051828522235155,0.082793056964874,0.065517745912075,-0.024531403556466,0.021906545385718,0.049761891365051,0.043807897716761,-0.022761970758438,0.009108973667026,-0.026122236624360,-0.060172166675329,0.077349230647087,0.084494516253471,0.126623138785362));
res += mul(Get(s2,dx,dy), float4x4(0.023138262331486,0.024566370993853,-0.025547554716468,0.064315490424633,-0.014563704840839,-0.057536207139492,0.023338016122580,0.088997125625610,0.050258610397577,-0.039225060492754,-0.020278910174966,-0.028723258525133,-0.015031099319458,0.089440129697323,-0.021060951054096,0.084540955722332));
res += mul(Get(s3,-dx,-dy), float4x4(-0.025060718879104,0.110981665551662,-0.009410364553332,-0.083416789770126,-0.044986415654421,0.028796821832657,-0.003778138896450,-0.082174219191074,0.014233998022974,0.022229632362723,-0.044924616813660,-0.022308710962534,-0.052278976887465,-0.033979430794716,-0.063425086438656,0.002919153543189));
res += mul(Get(s3,-dx,0), float4x4(-0.002191994339228,0.134128719568253,-0.046023573726416,-0.036358434706926,-0.053297948092222,0.000679185381159,0.049406662583351,-0.052097246050835,0.100343883037567,0.051878400146961,0.029254812747240,-0.036947708576918,0.049707524478436,-0.040151588618755,0.040710873901844,0.001713783130981));
res += mul(Get(s3,-dx,dy), float4x4(0.018759822472930,0.039226416498423,0.020608868449926,0.019398763775826,-0.002330508083105,0.107703201472759,-0.067143380641937,-0.027967911213636,-0.100850149989128,0.019693780690432,-0.013387176208198,-0.008096716366708,-0.038644373416901,-0.057047821581364,-0.028460778295994,0.052671518176794));
res += mul(Get(s3,0,-dy), float4x4(0.074677243828773,0.139797002077103,-0.088751159608364,-0.095633104443550,0.028917472809553,-0.007089295890182,0.010937483981252,0.005295331589878,0.230826869606972,0.026651997119188,-0.013587110675871,-0.046759434044361,-0.061429511755705,0.042300291359425,0.027712346985936,0.061647146940231));
res += mul(Get(s3,0,0), float4x4(0.088738426566124,-0.133998423814774,-0.048314001411200,-0.130671590566635,0.075409665703773,0.024611709639430,0.048380449414253,0.254045605659485,0.024271357804537,-0.059630457311869,-0.043487071990967,-0.120727933943272,0.039330881088972,0.044541306793690,0.093328736722469,0.036281377077103));
res += mul(Get(s3,0,dy), float4x4(0.025263477116823,-0.075964547693729,-0.012919031083584,-0.062465429306030,0.069346517324448,-0.078871808946133,0.046868290752172,0.136620536446571,-0.014247644692659,0.030815517529845,0.022424552589655,-0.030838709324598,0.030663475394249,0.024511940777302,0.108338400721550,0.024444183334708));
res += mul(Get(s3,dx,-dy), float4x4(0.068438120186329,0.011023815721273,-0.060410551726818,-0.041665986180305,-0.063572093844414,-0.064683690667152,-0.042193714529276,0.036991048604250,-0.020639792084694,0.020274657756090,0.018326453864574,-0.005517687182873,-0.107829108834267,-0.004688384477049,-0.051648337393999,0.071151837706566));
res += mul(Get(s3,dx,0), float4x4(-0.019087940454483,-0.042150847613811,-0.021191004663706,-0.101563803851604,-0.071727879345417,-0.077743321657181,-0.109392456710339,0.014489339664578,0.008555026724935,-0.023986816406250,-0.102896995842457,-0.139783874154091,0.093403309583664,-0.050068046897650,-0.050836604088545,-0.001211386523210));
res += mul(Get(s3,dx,dy), float4x4(0.048751983791590,-0.057336665689945,-0.019437467679381,-0.089995257556438,-0.015399871394038,-0.042566310614347,-0.093803018331528,0.025329837575555,-0.071466773748398,0.017795749008656,0.100694663822651,-0.175849497318268,-0.065652973949909,-0.055836435407400,0.050760120153427,-0.059233497828245));
return max(float4(0,0,0,0), res);
}
