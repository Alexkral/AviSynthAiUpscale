sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.052257563918829,-0.053224220871925,-0.015159251168370,0.016242569312453,-0.029672173783183,0.086074538528919,0.011483057402074,0.040780283510685,0.039885740727186,-0.095211870968342,0.076625175774097,0.026132846251130,0.111273266375065,0.054125107824802,-0.037422988563776,-0.030838932842016));
res += mul(Get(s0,-dx,0), float4x4(0.064208053052425,0.025156170129776,-0.036604817956686,0.071589395403862,-0.024365341290832,-0.005150169599801,-0.048688437789679,-0.068964794278145,-0.082240097224712,-0.047371271997690,-0.043776847422123,0.047924187034369,0.021814486011863,0.003023653989658,0.048723980784416,0.031447548419237));
res += mul(Get(s0,-dx,dy), float4x4(0.074001193046570,-0.049325872212648,0.063448928296566,-0.052473947405815,-0.013271448202431,0.048463881015778,0.105944022536278,0.047205209732056,-0.042661841958761,0.000435238209320,-0.001867642044090,-0.049152899533510,0.142201185226440,0.059578929096460,-0.165993884205818,-0.070533230900764));
res += mul(Get(s0,0,-dy), float4x4(-0.018713215366006,-0.101067624986172,-0.050467330962420,-0.087631292641163,0.050715692341328,-0.157355591654778,0.047484576702118,0.027023602277040,0.007702159695327,-0.003497386584058,0.005171358119696,-0.011659215204418,0.085834018886089,0.005002270452678,-0.080910123884678,0.026001118123531));
res += mul(Get(s0,0,0), float4x4(0.100125804543495,-0.007262307219207,0.023649852722883,-0.001478806720115,-0.119923084974289,0.016341926530004,-0.029119342565536,-0.036650102585554,-0.132732972502708,-0.022550275549293,0.189288303256035,-0.047571025788784,0.067195951938629,0.100331671535969,-0.084631249308586,0.073726885020733));
res += mul(Get(s0,0,dy), float4x4(-0.094660572707653,0.091004237532616,-0.018313987180591,-0.055629178881645,-0.057438366115093,-0.037171766161919,0.066506408154964,-0.065256223082542,-0.097113236784935,-0.137063965201378,0.086066134274006,-0.039991777390242,0.065937817096710,-0.035392880439758,-0.107498258352280,0.095572084188461));
res += mul(Get(s0,dx,-dy), float4x4(0.082777552306652,0.016936428844929,0.029078727588058,0.099335797131062,0.063626989722252,-0.022744866088033,-0.001259471755475,0.001307295518927,-0.010023742914200,-0.103064671158791,-0.005044947378337,0.046262986958027,0.068419218063354,0.044269599020481,0.058339007198811,0.031243570148945));
res += mul(Get(s0,dx,0), float4x4(-0.037705734372139,-0.000639958831016,-0.133704766631126,0.095593385398388,0.058138318359852,0.125736936926842,0.019291089847684,-0.020745946094394,0.075706996023655,0.023588614538312,0.110139146447182,-0.176650121808052,-0.085226677358150,0.016076127067208,-0.007769752759486,0.009608216583729));
res += mul(Get(s0,dx,dy), float4x4(-0.031889352947474,0.164012864232063,0.099592648446560,-0.039298973977566,-0.048292335122824,0.035873055458069,0.001237120013684,0.075999885797501,-0.009095526300371,-0.062485937029123,0.085865750908852,-0.125639438629150,0.108424544334412,-0.089828424155712,-0.029250090941787,0.000823870766908));
res += mul(Get(s1,-dx,-dy), float4x4(-0.035408914089203,0.028160201385617,0.068732395768166,0.029547724872828,-0.022591991350055,-0.016397230327129,-0.038633670657873,-0.137558683753014,0.036299161612988,0.074513867497444,0.033171541988850,-0.072121396660805,-0.095422491431236,0.088005028665066,0.077423729002476,-0.046070881187916));
res += mul(Get(s1,-dx,0), float4x4(-0.031369999051094,-0.065249033272266,0.002286456990987,0.083251141011715,-0.129919096827507,0.040990252047777,0.123207129538059,0.017241176217794,-0.055056706070900,0.068564154207706,0.066470377147198,0.077358849346638,0.092781290411949,-0.015086037106812,0.106891050934792,0.001270858105272));
res += mul(Get(s1,-dx,dy), float4x4(-0.102463155984879,-0.083711519837379,0.065007790923119,-0.012663535773754,-0.024366224184632,-0.038471288979053,0.097118705511093,-0.064858771860600,0.040746506303549,-0.100523844361305,0.021017348393798,-0.033389277756214,0.016798062250018,-0.120929680764675,-0.060014687478542,0.053893726319075));
res += mul(Get(s1,0,-dy), float4x4(0.008526361547410,-0.004792058374733,0.019179994240403,-0.095403350889683,-0.009715802967548,0.004766073543578,-0.108082555234432,-0.024723313748837,-0.018895138055086,-0.084699034690857,0.064549207687378,0.004685547668487,0.023506533354521,0.067208588123322,0.084512047469616,0.034721817821264));
res += mul(Get(s1,0,0), float4x4(0.018104944378138,0.074625626206398,0.107562556862831,-0.063465826213360,-0.032718766480684,0.070868007838726,-0.056652721017599,0.007401919458061,-0.011704993434250,-0.151481002569199,0.056420680135489,-0.008668205700815,-0.006462222896516,0.060036420822144,0.042960640043020,0.033091600984335));
res += mul(Get(s1,0,dy), float4x4(0.015164364129305,0.034496579319239,0.035313315689564,0.037523824721575,0.059556264430285,0.059808019548655,-0.055078249424696,0.028118541464210,0.052738316357136,0.067917168140411,0.027254028245807,0.004909938201308,0.048383340239525,0.108425930142403,0.009470612742007,0.148775175213814));
res += mul(Get(s1,dx,-dy), float4x4(0.033808626234531,0.092922888696194,0.036378577351570,0.002669663866982,-0.008158721029758,-0.020858947187662,0.009993717074394,0.149288520216942,-0.095607243478298,0.007199338171631,-0.090408824384212,-0.068113572895527,-0.065538063645363,0.029181085526943,0.055828683078289,0.001635313383304));
res += mul(Get(s1,dx,0), float4x4(-0.018464421853423,-0.023889210075140,0.059416458010674,0.061971683055162,0.002906046807766,-0.030630391091108,-0.035508580505848,0.047938048839569,-0.116664804518223,-0.001167046255432,-0.055726449936628,0.158034056425095,0.065852850675583,-0.180601552128792,0.107085458934307,0.008991378359497));
res += mul(Get(s1,dx,dy), float4x4(0.067002013325691,0.000179799957550,-0.048897959291935,0.037053961306810,-0.080156594514847,-0.072340287268162,-0.105045542120934,-0.084698751568794,-0.024082930758595,-0.010790851898491,-0.020142368972301,0.016812836751342,0.028569323942065,-0.082034692168236,-0.041761729866266,0.071295261383057));
res += mul(Get(s2,-dx,-dy), float4x4(-0.063001960515976,0.120632477104664,-0.039181377738714,0.005498869810253,0.063678279519081,-0.038767047226429,-0.023620318621397,-0.070768542587757,0.031728506088257,-0.020865775644779,-0.065264686942101,0.003411905607209,-0.071401499211788,-0.019692186266184,0.014935397543013,-0.021428454667330));
res += mul(Get(s2,-dx,0), float4x4(0.052720531821251,-0.029109571129084,0.025947287678719,-0.003178152255714,-0.070566758513451,-0.029594350606203,-0.021088134497404,0.003594521433115,-0.045416675508022,-0.064627945423126,-0.081879436969757,-0.029265344142914,0.038992114365101,-0.006887241266668,-0.143874078989029,0.131690129637718));
res += mul(Get(s2,-dx,dy), float4x4(-0.104110226035118,-0.059328459203243,0.165192335844040,-0.075940325856209,-0.090527258813381,-0.010847706347704,-0.120883457362652,-0.002291360870004,0.005491307470948,0.037542011588812,0.045310694724321,-0.010935335420072,0.059405252337456,-0.000142654171214,-0.005702088121325,0.006737365387380));
res += mul(Get(s2,0,-dy), float4x4(-0.021650262176991,0.006391461007297,0.076501317322254,-0.033758193254471,0.031441379338503,0.114260777831078,-0.027029056102037,0.106765173375607,0.068139761686325,-0.086736232042313,0.044643066823483,0.051804572343826,-0.023328775539994,-0.001355723361485,-0.031689334660769,0.060840476304293));
res += mul(Get(s2,0,0), float4x4(-0.002066287444904,0.070244304835796,0.073409579694271,0.031839478760958,0.080969601869583,-0.072244144976139,0.041824106127024,0.019675066694617,0.048343908041716,-0.015477932989597,-0.046000152826309,0.064206101000309,-0.023330057039857,0.003665191121399,0.017387878149748,-0.007499244529754));
res += mul(Get(s2,0,dy), float4x4(0.023499108850956,0.004126016981900,0.118435427546501,-0.023441262543201,-0.019374003633857,-0.129270821809769,-0.045741133391857,0.051785316318274,-0.141243755817413,0.016844416037202,-0.067917339503765,-0.071086071431637,0.050131525844336,0.058756537735462,-0.008708726614714,0.068841628730297));
res += mul(Get(s2,dx,-dy), float4x4(-0.000157360249432,0.106502272188663,0.045564584434032,-0.013933835551143,-0.065079733729362,-0.065938241779804,0.001370695768856,0.057201758027077,0.014509303495288,-0.013479488901794,-0.011249969713390,-0.069629445672035,0.064918421208858,-0.131517589092255,-0.032787468284369,-0.033022049814463));
res += mul(Get(s2,dx,0), float4x4(0.079040177166462,-0.029734205454588,0.041459724307060,-0.067137412726879,0.007367811165750,-0.139846593141556,-0.022704537957907,-0.073928639292717,0.047741364687681,0.005405988544226,-0.045529711991549,0.079079240560532,0.025764415040612,-0.024425657466054,-0.041488241404295,0.039457272738218));
res += mul(Get(s2,dx,dy), float4x4(-0.011870476417243,-0.041197415441275,-0.001515875686891,-0.096113905310631,0.027789456769824,0.015962317585945,0.072923533618450,-0.091125369071960,-0.009927414357662,-0.026171367615461,0.030637485906482,-0.030769221484661,0.101515337824821,0.014640920795500,-0.016012962907553,-0.050332743674517));
res += mul(Get(s3,-dx,-dy), float4x4(-0.067764863371849,0.007342005148530,-0.084060601890087,0.031558163464069,0.008960942737758,-0.135158464312553,-0.005294273607433,-0.100798502564430,-0.026390841230750,0.019527049735188,0.086480177938938,-0.146044343709946,-0.007822620682418,0.028176950290799,0.127631127834320,0.065905027091503));
res += mul(Get(s3,-dx,0), float4x4(-0.116057604551315,0.132009610533714,0.016702987253666,0.027278127148747,-0.087544642388821,0.046683978289366,0.070716783404350,-0.055917210876942,0.026965409517288,-0.054068610072136,0.001911450759508,0.006570678669959,0.029378255829215,0.047682527452707,-0.061009611934423,-0.042322129011154));
res += mul(Get(s3,-dx,dy), float4x4(0.088295325636864,0.102075092494488,-0.141643807291985,0.034269195050001,0.019177135080099,-0.040786627680063,0.035546761006117,-0.130711451172829,0.041893195360899,0.057398542761803,0.042950928211212,0.093976981937885,-0.063112795352936,0.014574139378965,0.114549197256565,-0.044028483331203));
res += mul(Get(s3,0,-dy), float4x4(0.042001552879810,0.054357051849365,-0.003839594777673,-0.086055696010590,0.071246117353439,-0.002024768386036,0.009494762867689,-0.102412983775139,0.021365189924836,-0.004576554056257,0.030553359538317,0.057173050940037,0.129708230495453,0.053370784968138,-0.067326873540878,-0.035013146698475));
res += mul(Get(s3,0,0), float4x4(-0.091099537909031,0.072636090219021,0.045179851353168,-0.070363841950893,-0.045967247337103,-0.021026875823736,-0.000013921620848,0.026547957211733,-0.034043643623590,-0.003626354504377,0.070720799267292,0.045181233435869,0.087927363812923,-0.012813994660974,-0.038932330906391,-0.057861167937517));
res += mul(Get(s3,0,dy), float4x4(0.061020877212286,-0.041173815727234,0.044966477900743,-0.079946167767048,-0.016933707520366,-0.064905129373074,-0.019490806385875,-0.072473183274269,0.012520915828645,-0.057053580880165,-0.057667739689350,-0.034694131463766,0.169593170285225,0.003210799768567,-0.032990921288729,0.057114038616419));
res += mul(Get(s3,dx,-dy), float4x4(0.052013859152794,0.026370262727141,-0.057745788246393,-0.049207579344511,0.084002070128918,-0.033290501683950,0.061128288507462,-0.008148934692144,0.032094679772854,-0.070747315883636,-0.010372012853622,0.215184360742569,0.005062411539257,0.084055431187153,0.066446326673031,0.027990372851491));
res += mul(Get(s3,dx,0), float4x4(-0.044682711362839,-0.034256391227245,0.044947840273380,-0.024979107081890,0.048986777663231,0.027425546199083,0.034095406532288,-0.043907392770052,0.096007123589516,0.068447150290012,-0.032906524837017,0.003091388847679,0.048710145056248,-0.160988584160805,0.116028591990471,-0.041466087102890));
res += mul(Get(s3,dx,dy), float4x4(0.103150710463524,-0.117536008358002,0.069504305720329,-0.049937926232815,-0.015728848055005,-0.140575319528580,-0.083767741918564,0.052914284169674,0.096865147352219,-0.065376535058022,0.085239946842194,0.057299524545670,-0.083185449242592,-0.013078031130135,0.050286743789911,0.039370216429234));
return max(float4(0,0,0,0), res);
}
