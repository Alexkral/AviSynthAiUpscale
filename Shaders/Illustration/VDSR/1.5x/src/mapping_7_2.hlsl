sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.016147585585713,-0.068075589835644,-0.065398037433624,-0.014237820170820,-0.001406558440067,0.043904773890972,0.037844628095627,0.006023762747645,-0.002868369920179,-0.122361674904823,0.050437703728676,0.031088186427951,-0.019162679091096,0.083669170737267,-0.040017243474722,0.013401753269136));
res += mul(Get(s0,-dx,0), float4x4(-0.175791949033737,0.036984976381063,0.165214672684669,0.029128070920706,-0.102068118751049,-0.108299478888512,-0.006891875993460,0.108047261834145,-0.015609947964549,0.051233634352684,0.120016150176525,-0.075766667723656,0.028407299891114,0.068430788815022,0.019514327868819,-0.009371984750032));
res += mul(Get(s0,-dx,dy), float4x4(-0.022423567250371,0.007908390834928,-0.101210966706276,0.039881389588118,0.054945018142462,-0.052818879485130,0.022784559056163,-0.057752266526222,-0.010188475251198,0.095265723764896,-0.079400055110455,-0.055394940078259,0.018406601622701,-0.035685677081347,0.054639067500830,0.036387827247381));
res += mul(Get(s0,0,-dy), float4x4(0.153237104415894,-0.082589402794838,0.031055532395840,0.105794191360474,0.016665391623974,-0.128765121102333,-0.029860837385058,-0.006868079304695,-0.045803193002939,-0.132331013679504,-0.042841903865337,0.009821239858866,-0.057297788560390,-0.010072044096887,0.034920126199722,0.090836845338345));
res += mul(Get(s0,0,0), float4x4(0.077684730291367,-0.045231617987156,0.132907509803772,0.061440262943506,0.081509076058865,-0.128803431987762,-0.118948146700859,-0.069259464740753,-0.014495230279863,-0.051790114492178,-0.070279315114021,0.028868509456515,-0.114327393472195,0.053489636629820,0.122673623263836,-0.096648611128330));
res += mul(Get(s0,0,dy), float4x4(0.031361993402243,-0.198779553174973,-0.099137224256992,0.124961368739605,0.076809674501419,-0.082194045186043,-0.008469746448100,-0.060708545148373,-0.111561700701714,-0.014804481528699,0.137469619512558,-0.018059991300106,0.024543300271034,0.019653119146824,0.091268040239811,0.084125630557537));
res += mul(Get(s0,dx,-dy), float4x4(0.008415227755904,-0.080202743411064,-0.077745892107487,0.174752950668335,0.054892208427191,-0.137707099318504,-0.095673978328705,0.083362348377705,0.101224347949028,-0.130453258752823,0.111892834305763,0.047627311199903,-0.132426381111145,-0.026102043688297,-0.002054819604382,-0.085568800568581));
res += mul(Get(s0,dx,0), float4x4(0.016537930816412,0.111866772174835,-0.060344900935888,0.053503736853600,0.047208577394485,-0.113823153078556,0.052090514451265,0.035192444920540,0.052025452256203,-0.105661615729332,0.065145298838615,0.063246175646782,-0.076456688344479,0.154763385653496,0.088452681899071,-0.058321841061115));
res += mul(Get(s0,dx,dy), float4x4(-0.060097202658653,-0.040212664753199,-0.074360057711601,0.038515560328960,-0.018343411386013,-0.053040575236082,-0.017813412472606,0.018133837729692,0.045480567961931,-0.089088618755341,-0.118055768311024,0.083404630422592,-0.084844231605530,0.018040498718619,0.139024958014488,-0.000765090109780));
res += mul(Get(s1,-dx,-dy), float4x4(0.138641208410263,0.047433245927095,0.001483905361965,-0.027569193392992,-0.077159829437733,0.042774081230164,-0.066970035433769,-0.007707234472036,-0.138536840677261,0.053424030542374,-0.107896402478218,-0.007749988231808,-0.039218779653311,0.147088348865509,0.082220762968063,0.048598270863295));
res += mul(Get(s1,-dx,0), float4x4(0.033938821405172,-0.015712799504399,0.106740444898605,-0.140011340379715,0.036783855408430,-0.039972402155399,-0.004982861224562,-0.105991080403328,0.119151532649994,0.033855631947517,0.076994836330414,-0.014346263371408,-0.141278713941574,-0.021245118230581,0.037212803959846,0.032775890082121));
res += mul(Get(s1,-dx,dy), float4x4(-0.009081149473786,0.021065210923553,0.114153727889061,0.000634338357486,0.042250514030457,-0.006588851101696,0.055495116859674,0.043928727507591,-0.079916730523109,0.022129841148853,0.037954874336720,-0.007371262181550,0.001528899767436,-0.004483613185585,0.062270179390907,-0.024186434224248));
res += mul(Get(s1,0,-dy), float4x4(0.095115087926388,0.002674380782992,-0.101160772144794,-0.000973354093730,-0.051653929054737,-0.074205785989761,0.051576696336269,0.010529605671763,-0.008398030884564,0.089138336479664,0.018059451133013,0.094081841409206,-0.030461622402072,-0.012372130528092,-0.022173063829541,0.052473355084658));
res += mul(Get(s1,0,0), float4x4(0.030260490253568,-0.006721553858370,0.135447219014168,-0.053421244025230,-0.111658737063408,-0.089901767671108,0.088468015193939,0.076420731842518,0.064970374107361,0.089613273739815,0.123807020485401,-0.005739419721067,0.093624092638493,0.038690827786922,-0.053349267691374,0.005592471919954));
res += mul(Get(s1,0,dy), float4x4(-0.019404632970691,0.216423511505127,0.011794085614383,-0.056759461760521,0.098896138370037,0.063904754817486,-0.095241598784924,0.115960516035557,-0.023651747033000,0.052290655672550,0.020217858254910,0.027638303115964,0.068406313657761,0.038504268974066,0.045440595597029,-0.014806381426752));
res += mul(Get(s1,dx,-dy), float4x4(0.055107705295086,-0.035478480160236,0.081856042146683,-0.099014095962048,0.033624913543463,-0.032782204449177,-0.100920245051384,0.059688150882721,-0.045253280550241,0.054699603468180,-0.079469308257103,0.043624132871628,0.044083554297686,0.093426026403904,-0.004969759378582,-0.014114541932940));
res += mul(Get(s1,dx,0), float4x4(0.222255274653435,0.060697257518768,0.010497454553843,-0.112983368337154,0.003644266631454,0.016216330230236,-0.181707277894020,-0.027068233117461,0.033112317323685,0.083289429545403,0.043833076953888,-0.062186721712351,0.002713271183893,0.033012051135302,0.041688960045576,-0.043019544333220));
res += mul(Get(s1,dx,dy), float4x4(-0.025476798415184,0.067730017006397,0.027747839689255,-0.059870395809412,0.167800247669220,0.033855300396681,-0.037557613104582,-0.045190036296844,-0.015764228999615,-0.068876057863235,-0.041300475597382,-0.089997716248035,0.084678508341312,0.062140043824911,0.016809292137623,-0.061699025332928));
res += mul(Get(s2,-dx,-dy), float4x4(-0.016803616657853,0.046062003821135,-0.000636780867353,0.134123444557190,-0.002208384219557,0.044905282557011,0.080383814871311,0.039185963571072,-0.058889590203762,0.040407486259937,-0.074639298021793,-0.035024192184210,0.141490846872330,-0.138455331325531,-0.065040037035942,-0.051012516021729));
res += mul(Get(s2,-dx,0), float4x4(-0.017305843532085,-0.207774221897125,-0.078733287751675,-0.227960363030434,-0.015218717977405,-0.021789934486151,-0.112759739160538,0.110427699983120,-0.012521267868578,0.081825144588947,0.005506721325219,-0.038482692092657,0.042384393513203,0.043719124048948,-0.029872721061110,-0.102263249456882));
res += mul(Get(s2,-dx,dy), float4x4(0.024706013500690,0.034034125506878,0.142779856920242,-0.059480328112841,-0.030138524249196,0.049812611192465,0.016794297844172,-0.050041727721691,0.025364341214299,-0.059321984648705,0.028209151700139,-0.007328617386520,0.096856400370598,0.129491895437241,0.030612107366323,0.000713574874680));
res += mul(Get(s2,0,-dy), float4x4(-0.066906459629536,0.040033105760813,0.080363877117634,0.045508682727814,-0.071653686463833,0.025938315317035,0.165737211704254,0.052443046122789,-0.042681626975536,0.038376744836569,0.013933390378952,-0.094808377325535,0.181562647223473,-0.036330189555883,0.053761932998896,0.026131819933653));
res += mul(Get(s2,0,0), float4x4(-0.020133072510362,-0.012069677934051,-0.090659759938717,-0.048970472067595,-0.005026733037084,0.155250504612923,0.158341348171234,-0.029802937060595,-0.078821934759617,0.033347349613905,0.019225202500820,0.006153444759548,0.101882480084896,0.011677503585815,-0.048826869577169,0.087872698903084));
res += mul(Get(s2,0,dy), float4x4(0.011820708401501,-0.002083614701405,-0.049546036869287,0.025718567892909,-0.025880612432957,-0.034658264368773,0.087082073092461,0.042638380080462,-0.004563082475215,-0.155654281377792,0.005533189047128,-0.042715646326542,0.009390315040946,0.044949594885111,-0.009440355002880,0.076845735311508));
res += mul(Get(s2,dx,-dy), float4x4(-0.021612377837300,0.056842781603336,0.067678876221180,0.073958031833172,-0.140451401472092,-0.020651722326875,0.108012422919273,0.061201907694340,-0.019409304484725,-0.001802668790333,-0.033758390694857,0.074846357107162,-0.104488097131252,-0.040995147079229,0.007604838348925,-0.006573619320989));
res += mul(Get(s2,dx,0), float4x4(0.032857060432434,0.010071968659759,0.030991362407804,0.088072121143341,-0.047927696257830,-0.102644786238670,-0.053280033171177,0.124820716679096,-0.049008741974831,0.174135938286781,0.008261579088867,-0.067392736673355,-0.088644102215767,0.031741596758366,0.043446276336908,-0.021825673058629));
res += mul(Get(s2,dx,dy), float4x4(0.076190635561943,-0.073994494974613,-0.005730313248932,0.062147870659828,-0.142980337142944,-0.009579086676240,-0.037195391952991,-0.018820393830538,-0.052145812660456,-0.011690887622535,0.104027897119522,0.047923222184181,-0.029979540035129,0.135344743728638,0.092361748218536,0.209580093622208));
res += mul(Get(s3,-dx,-dy), float4x4(-0.041962120682001,0.015784146264195,-0.034957174211740,-0.016604570671916,-0.087679333984852,-0.011796808801591,0.012193821370602,-0.006875832099468,-0.006202610209584,0.052474737167358,0.015250509604812,-0.006319385021925,0.111332170665264,-0.128252699971199,0.165021046996117,-0.019861064851284));
res += mul(Get(s3,-dx,0), float4x4(0.102887555956841,-0.043629020452499,-0.019816892221570,0.024389650672674,0.025068568065763,0.143571004271507,-0.049378845840693,-0.100324377417564,0.098323106765747,0.019925354048610,0.076958395540714,-0.166837543249130,0.052089039236307,0.008352382108569,0.069870300590992,0.061238918453455));
res += mul(Get(s3,-dx,dy), float4x4(0.101591601967812,0.003751330077648,-0.031010201200843,0.037444092333317,-0.026884600520134,-0.023654060438275,-0.046917121857405,-0.059431415051222,-0.121196947991848,0.016886718571186,0.049243696033955,0.037858746945858,0.093117527663708,0.140157133340836,-0.084753938019276,0.070921763777733));
res += mul(Get(s3,0,-dy), float4x4(0.066471166908741,0.044032867997885,0.087745979428291,-0.103702172636986,-0.000879144936334,-0.011497798375785,-0.042717568576336,-0.009632400237024,0.022546457126737,0.054932393133640,0.231466516852379,0.075321219861507,0.114085152745247,-0.016407687216997,0.100536361336708,0.022012157365680));
res += mul(Get(s3,0,0), float4x4(-0.078229390084743,0.025560390204191,0.046380247920752,-0.027714364230633,0.064961872994900,0.014694761484861,-0.014142658561468,0.031787768006325,0.107587642967701,-0.042715080082417,-0.088498748838902,0.113002315163612,0.008262867107987,0.083778828382492,0.068939059972763,0.000663646962494));
res += mul(Get(s3,0,dy), float4x4(-0.102271169424057,-0.018428048118949,-0.061363901942968,-0.086253345012665,0.092219963669777,0.045482233166695,0.100871995091438,-0.062139887362719,0.055035468190908,-0.110493741929531,0.067865870893002,-0.025123273953795,0.057248223572969,0.106241606175900,-0.044344969093800,0.034580696374178));
res += mul(Get(s3,dx,-dy), float4x4(0.122186623513699,-0.045140918344259,-0.025057988241315,-0.036678928881884,0.010115247219801,-0.066876567900181,-0.004700677935034,0.022997748106718,0.037760786712170,0.079178519546986,0.013111836276948,0.043708477169275,-0.096261270344257,0.040709443390369,0.069884032011032,0.057340107858181));
res += mul(Get(s3,dx,0), float4x4(0.006469616200775,-0.043278943747282,-0.035112448036671,-0.076681375503540,0.172543928027153,-0.076570801436901,0.037940617650747,-0.004918919876218,-0.043602135032415,0.100002683699131,0.089867159724236,0.084184706211090,0.000746617035475,0.052191484719515,-0.115015499293804,-0.089753367006779));
res += mul(Get(s3,dx,dy), float4x4(-0.004699954297394,-0.168198153376579,-0.102578461170197,0.009965164586902,0.123352907598019,0.021442998200655,-0.063485406339169,0.075345583260059,-0.045323785394430,-0.052267462015152,0.018386229872704,0.031877111643553,-0.044798459857702,0.022895244881511,-0.014982344582677,0.114257164299488));
return max(float4(0,0,0,0), res);
}
