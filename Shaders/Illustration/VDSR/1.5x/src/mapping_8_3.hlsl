sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.011397102847695,-0.016697579994798,-0.037862692028284,0.052273079752922,0.164429545402527,-0.006542532239109,0.038116287440062,-0.153571173548698,0.028042465448380,0.056692913174629,0.098372481763363,-0.053058914840221,0.032385207712650,-0.023050108924508,-0.016313949599862,0.049430057406425));
res += mul(Get(s0,-dx,0), float4x4(0.010682927444577,-0.090563178062439,-0.009357268922031,0.050707049667835,-0.181704863905907,0.031555276364088,-0.180980563163757,-0.012627186253667,0.009340303018689,0.025368163362145,0.188855305314064,0.046696979552507,0.043039210140705,-0.004190850537270,-0.013790667057037,-0.009158842265606));
res += mul(Get(s0,-dx,dy), float4x4(0.041464723646641,-0.024053165689111,-0.003787300782278,-0.018130421638489,0.040426526218653,-0.019264452159405,-0.088390551507473,-0.051474105566740,-0.004685956053436,-0.043180625885725,-0.009719122201204,-0.006132676731795,0.052425116300583,-0.019542599096894,-0.022040994837880,0.043334133923054));
res += mul(Get(s0,0,-dy), float4x4(0.017976563423872,0.087958328425884,0.048676442354918,0.092428602278233,-0.154188349843025,-0.081218838691711,0.164155960083008,0.046174269169569,0.096060588955879,0.214897274971008,-0.023618794977665,-0.012170685455203,0.012232348322868,0.127181783318520,0.049080010503531,0.036046683788300));
res += mul(Get(s0,0,0), float4x4(0.010130599141121,0.016754487529397,0.003111629514024,0.099543549120426,0.116910606622696,0.110206335783005,-0.051364008337259,0.067476138472557,-0.125046700239182,-0.064575992524624,0.020771143957973,-0.074521608650684,0.072255797684193,0.079756960272789,0.014421010389924,0.027831768617034));
res += mul(Get(s0,0,dy), float4x4(0.038304638117552,0.104678221046925,0.054249942302704,0.000268604257144,-0.115789599716663,0.068368628621101,-0.102361410856247,0.107166066765785,-0.038915503770113,-0.005817017052323,-0.135718256235123,-0.008207630366087,0.046261414885521,0.116086192429066,0.044863097369671,0.054666876792908));
res += mul(Get(s0,dx,-dy), float4x4(0.128861248493195,0.071860142052174,0.028477404266596,-0.002380169229582,-0.136429980397224,-0.045878719538450,-0.034912072122097,0.076997719705105,0.244058564305305,0.018089465796947,-0.076704107224941,0.105086378753185,0.068860158324242,0.054163739085197,0.002052998170257,0.005511315539479));
res += mul(Get(s0,dx,0), float4x4(-0.035133671015501,0.014909683726728,0.041877392679453,0.034108866006136,0.063130863010883,0.012568382546306,-0.016377247869968,0.103047534823418,-0.016622139140964,-0.043940879404545,-0.052604362368584,-0.031430836766958,0.034497115761042,0.026644563302398,0.012701285071671,0.036084316670895));
res += mul(Get(s0,dx,dy), float4x4(0.111113049089909,0.106387421488762,0.115523070096970,0.011572081595659,-0.056578285992146,0.049161419272423,-0.051065452396870,0.036296665668488,0.021437395364046,-0.009803046472371,-0.181309238076210,-0.040134288370609,0.038352943956852,0.002791686216369,0.032331753522158,0.021040212363005));
res += mul(Get(s1,-dx,-dy), float4x4(-0.041325230151415,-0.071865983307362,0.018464865162969,-0.020966406911612,0.028684409335256,-0.056512277573347,0.001566710066982,-0.011138771660626,0.127999082207680,0.009276748634875,0.044997569173574,0.017324427142739,-0.057858355343342,-0.077406786382198,0.008943485096097,-0.000852231110912));
res += mul(Get(s1,-dx,0), float4x4(0.017825076356530,-0.009982857853174,0.037126705050468,-0.069522120058537,-0.089127421379089,0.093115828931332,-0.083932772278786,0.048926085233688,0.002208950230852,-0.011357754468918,-0.001890724408440,-0.049523010849953,0.024994740262628,-0.024837128818035,0.040278479456902,-0.110173501074314));
res += mul(Get(s1,-dx,dy), float4x4(0.031537760049105,-0.016129883006215,-0.046531233936548,0.037497863173485,-0.009289271198213,0.036557778716087,-0.016956383362412,0.128124833106995,-0.041122309863567,-0.042545147240162,0.036447729915380,-0.000978688243777,0.106437824666500,-0.013550980016589,0.031973410397768,-0.031503856182098));
res += mul(Get(s1,0,-dy), float4x4(-0.138953641057014,-0.161114379763603,-0.156980052590370,0.206718936562538,-0.114232391119003,-0.090103372931480,0.140458077192307,-0.050295356661081,0.008165698498487,-0.093947581946850,0.087651036679745,0.002636506687850,-0.037710499018431,-0.122962690889835,0.031791232526302,0.117581635713577));
res += mul(Get(s1,0,0), float4x4(0.027617804706097,-0.035107444971800,0.067611098289490,-0.118270948529243,0.190717861056328,0.179732233285904,0.015559473074973,0.010237183421850,0.042475637048483,0.006357467267662,0.015506971627474,-0.078732542693615,0.185515865683556,-0.031749449670315,-0.065658301115036,-0.078165099024773));
res += mul(Get(s1,0,dy), float4x4(-0.079206988215446,-0.018832363188267,-0.053771529346704,-0.049269445240498,-0.086115173995495,0.073128409683704,0.046765662729740,-0.018482862040401,-0.052035987377167,0.039669867604971,0.036631844937801,0.027263808995485,-0.051237057894468,0.023093095049262,0.051713641732931,0.001728513394482));
res += mul(Get(s1,dx,-dy), float4x4(-0.075158633291721,-0.072263963520527,-0.008151621557772,0.081743843853474,-0.028991341590881,-0.022443410009146,-0.028105625882745,0.001888937084004,-0.016293751075864,-0.119720637798309,-0.027298852801323,0.049083929508924,-0.030275043100119,-0.042057849466801,-0.118196263909340,0.072740733623505));
res += mul(Get(s1,dx,0), float4x4(-0.031228741630912,-0.028485907241702,0.115516208112240,0.036183938384056,-0.049892358481884,0.058347068727016,0.000445715268143,-0.005219051614404,0.052441217005253,-0.121020711958408,-0.069804914295673,0.010483134537935,0.002049243776128,0.060152206569910,-0.072684496641159,-0.086562886834145));
res += mul(Get(s1,dx,dy), float4x4(-0.071829706430435,-0.000485703261802,0.004884413443506,0.072485662996769,-0.032002314925194,0.102467522025108,0.080661356449127,-0.077131025493145,-0.086449541151524,0.013609077781439,0.049367267638445,0.070155516266823,-0.045460850000381,0.120903991162777,0.087211526930332,-0.139569997787476));
res += mul(Get(s2,-dx,-dy), float4x4(-0.062817484140396,0.088685192167759,-0.096798442304134,0.074072584509850,0.073153011500835,0.031630031764507,-0.056114442646503,-0.041860964149237,0.057789035141468,-0.043284252285957,-0.112826883792877,0.025142559781671,-0.003388779936358,0.065614469349384,-0.022570410743356,-0.102445311844349));
res += mul(Get(s2,-dx,0), float4x4(-0.066298097372055,0.106198243796825,-0.190257459878922,-0.006596421357244,0.008227746933699,-0.049602027982473,-0.019744275137782,-0.080214045941830,0.019002294167876,-0.042270611971617,-0.057769205421209,-0.059282399713993,0.119481317698956,0.059772081673145,-0.032859992235899,-0.101590253412724));
res += mul(Get(s2,-dx,dy), float4x4(-0.030807329341769,0.034237962216139,-0.175658330321312,0.014391370117664,-0.053012762218714,0.014085856266320,-0.024447957053781,-0.023788740858436,-0.014614376239479,-0.061345916241407,-0.031589128077030,0.037408579140902,0.084371186792850,-0.002602739259601,-0.061303198337555,-0.024751156568527));
res += mul(Get(s2,0,-dy), float4x4(0.040021132677794,-0.018769154325128,0.113295808434486,-0.091603904962540,0.023714173585176,-0.037961769849062,-0.018095448613167,0.003778391983360,-0.056126277893782,-0.084603503346443,0.017684008926153,-0.022027675062418,0.115584298968315,-0.033950138837099,-0.000315529498039,-0.033595070242882));
res += mul(Get(s2,0,0), float4x4(0.082965500652790,0.023708835244179,0.119846247136593,0.062970682978630,0.071672745049000,-0.107430063188076,0.102296777069569,-0.099253684282303,0.075739897787571,-0.040016163140535,0.112962700426579,0.041319020092487,-0.187749579548836,-0.112876981496811,-0.037483152002096,-0.094521231949329));
res += mul(Get(s2,0,dy), float4x4(0.018442833796144,0.073591947555542,-0.027945427224040,0.094209156930447,-0.067037932574749,-0.008080765604973,0.029284933581948,-0.031620796769857,-0.015768684446812,-0.076219879090786,0.011206397786736,-0.047560792416334,0.102886162698269,0.000562690431252,0.104980520904064,-0.082436859607697));
res += mul(Get(s2,dx,-dy), float4x4(-0.097461178898811,-0.077375426888466,0.117501415312290,-0.069998219609261,-0.008944569155574,-0.007672613952309,-0.098173230886459,-0.034906055778265,0.047160692512989,-0.069154947996140,-0.020402437075973,-0.018253734335303,-0.224367156624794,-0.056296251714230,-0.001276029739529,0.025341533124447));
res += mul(Get(s2,dx,0), float4x4(0.056031107902527,-0.025780364871025,0.031137876212597,-0.001778935082257,0.111170135438442,-0.031894750893116,0.049675565212965,0.016492411494255,-0.004172655753791,-0.001264660735615,-0.017110172659159,-0.007452800869942,0.036151573061943,0.041030004620552,-0.061739422380924,-0.065024085342884));
res += mul(Get(s2,dx,dy), float4x4(-0.031726837158203,0.076601043343544,-0.037173423916101,-0.027243915945292,-0.025056164711714,-0.007503471337259,-0.031541798263788,-0.038700636476278,-0.004908664152026,-0.004808873403817,0.031714044511318,-0.012222941033542,-0.164846122264862,-0.047178599983454,-0.078200265765190,-0.065770022571087));
res += mul(Get(s3,-dx,-dy), float4x4(0.035077136009932,0.032281924039125,0.064476110041142,0.045114260166883,0.012421968393028,-0.050862438976765,0.145197719335556,0.089939236640930,-0.085409656167030,-0.049740541726351,0.059594463557005,-0.033499095588923,-0.062645383179188,0.012710464186966,0.056599449366331,-0.069097377359867));
res += mul(Get(s3,-dx,0), float4x4(0.106562793254852,0.023166598752141,-0.010638576000929,0.031142633408308,-0.016431128606200,0.093653231859207,0.019571619108319,0.153822809457779,-0.063332065939903,-0.020241223275661,0.028335334733129,-0.102148525416851,-0.053769532591105,0.004370949696749,0.028760667890310,-0.031001152470708));
res += mul(Get(s3,-dx,dy), float4x4(-0.000956126081292,-0.006343000102788,0.072212539613247,0.087493501603603,0.011451040394604,0.024215118959546,0.012267913669348,0.120116733014584,-0.074278771877289,0.024313196539879,-0.017162933945656,-0.042330026626587,-0.030767446383834,0.047238167375326,0.056824374943972,-0.009433906525373));
res += mul(Get(s3,0,-dy), float4x4(0.028587739914656,-0.009572312235832,0.058875788003206,-0.006328847724944,0.063750691711903,-0.039586331695318,0.104475498199463,0.121089145541191,-0.105875328183174,0.004900956060737,0.001850598142482,-0.045881845057011,-0.025915199890733,0.053279042243958,0.089048549532890,-0.019213575869799));
res += mul(Get(s3,0,0), float4x4(0.064604014158249,0.035604655742645,0.011285705491900,0.022661156952381,0.012476298026741,0.014065896160901,-0.001590159488842,0.078250773251057,-0.087335444986820,-0.043052751570940,-0.005037490278482,0.046346422284842,0.063264518976212,0.055558674037457,0.033725753426552,-0.065013349056244));
res += mul(Get(s3,0,dy), float4x4(0.003955428488553,-0.017676502466202,0.057840183377266,0.058361519128084,0.020299982279539,-0.021973265334964,0.056510604918003,0.079850204288960,-0.026477033272386,0.113446846604347,0.095418959856033,-0.020090591162443,-0.007194207049906,0.035293616354465,0.014221430756152,-0.031544443219900));
res += mul(Get(s3,dx,-dy), float4x4(-0.014023737050593,-0.089445158839226,0.041152447462082,0.021067706868052,-0.096003927290440,-0.057988706976175,-0.072879530489445,0.178749039769173,0.057666562497616,0.128645509481430,-0.023752717301250,0.020048804581165,-0.074520945549011,-0.090813688933849,0.015999553725123,0.022134387865663));
res += mul(Get(s3,dx,0), float4x4(0.089025564491749,0.024964729323983,-0.034437242895365,-0.024912280961871,0.027096856385469,-0.066010639071465,0.085881896317005,0.173198372125626,0.067762866616249,0.012194948270917,-0.012653757818043,-0.026894956827164,-0.024315625429153,-0.064971476793289,0.004443534649909,-0.039640128612518));
res += mul(Get(s3,dx,dy), float4x4(0.021901376545429,-0.017792277038097,0.078011102974415,-0.001611231244169,-0.072212338447571,-0.138891711831093,-0.012090403586626,0.109983853995800,0.040578607469797,0.020828504115343,0.030890235677361,-0.026613960042596,-0.057106435298920,0.018000757321715,-0.051600668579340,-0.030353808775544));
return max(float4(0,0,0,0), res);
}
