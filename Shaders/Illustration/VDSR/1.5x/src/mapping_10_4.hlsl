sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.030889766290784,-0.110035605728626,-0.008024314418435,-0.145473405718803,0.031895231455564,-0.027878660708666,-0.006078596692532,0.071022763848305,0.049853317439556,-0.057936929166317,-0.061700131744146,-0.150622427463531,0.072216182947159,0.021463530138135,-0.031697724014521,-0.026089321821928));
res += mul(Get(s0,-dx,0), float4x4(-0.034672543406487,-0.045465260744095,0.052887849509716,-0.062637925148010,-0.019682936370373,-0.017799058929086,0.041255757212639,0.178073436021805,-0.060332641005516,-0.073037818074226,-0.084524400532246,0.038139682263136,0.046093489974737,-0.070660643279552,-0.006845733616501,0.018112897872925));
res += mul(Get(s0,-dx,dy), float4x4(-0.001804639119655,0.001177878817543,-0.054773963987827,-0.016461940482259,-0.044104233384132,-0.007300074677914,-0.042880412191153,0.022129938006401,0.018281120806932,0.036085557192564,-0.050732970237732,0.051133610308170,0.053137477487326,0.046209100633860,0.025272136554122,-0.016869863495231));
res += mul(Get(s0,0,-dy), float4x4(0.037048734724522,-0.075550854206085,-0.014416060410440,-0.142421066761017,0.045377813279629,-0.104644581675529,-0.014801838435233,-0.028710804879665,0.092259027063847,0.136971235275269,-0.075016446411610,-0.094046071171761,0.077141374349594,0.002922574523836,-0.013704798184335,0.086604066193104));
res += mul(Get(s0,0,0), float4x4(0.026040326803923,0.043625362217426,-0.008104602806270,0.007689096964896,-0.110915854573250,-0.071800760924816,-0.053724061697721,0.200173884630203,-0.051800508052111,0.090662978589535,-0.033762939274311,0.045532062649727,0.151290565729141,0.001404553884640,0.089288532733917,0.123351275920868));
res += mul(Get(s0,0,dy), float4x4(0.191644057631493,0.061989642679691,-0.009269822388887,-0.024225629866123,-0.070444695651531,0.026584252715111,-0.069802515208721,0.073086157441139,-0.039744138717651,0.065094515681267,-0.033197827637196,-0.010570309124887,0.077625460922718,-0.003390486352146,0.154072180390358,-0.040977783501148));
res += mul(Get(s0,dx,-dy), float4x4(0.036438908427954,0.019664162769914,0.027720268815756,-0.032035339623690,0.088345512747765,-0.019276978448033,-0.063304245471954,0.156562447547913,0.012131884694099,0.112657010555267,-0.026153115555644,0.010058241896331,-0.079748637974262,0.023498397320509,0.019141297787428,-0.030283031985164));
res += mul(Get(s0,dx,0), float4x4(-0.009016664698720,-0.033970441669226,-0.120770432054996,-0.051220279186964,-0.027636567130685,-0.084207177162170,0.143649041652679,-0.113640896975994,-0.011048295535147,0.056038077920675,0.031721688807011,0.042113754898310,0.002367071108893,-0.000594996672589,-0.027625456452370,-0.009847561828792));
res += mul(Get(s0,dx,dy), float4x4(-0.059192705899477,-0.039107389748096,-0.084436781704426,-0.063432358205318,0.022380001842976,-0.032290898263454,-0.067150689661503,-0.062028788030148,0.116682402789593,0.006849630270153,-0.008297055959702,-0.044391479343176,-0.018970396369696,-0.021193226799369,0.103969246149063,-0.045925587415695));
res += mul(Get(s1,-dx,-dy), float4x4(-0.022465715184808,-0.006036251317710,-0.006842340808362,0.050495993345976,-0.072468444705009,-0.046394951641560,-0.062557592988014,-0.045751426368952,-0.059070289134979,0.044337701052427,-0.002693963469937,0.037101134657860,-0.032955866307020,-0.024135487154126,0.006769575178623,0.078790836036205));
res += mul(Get(s1,-dx,0), float4x4(-0.026298148557544,0.032572269439697,-0.062558948993683,0.033208396285772,0.003149936674163,0.014272004365921,-0.036355387419462,0.083758212625980,-0.021277971565723,0.074281141161919,0.047127485275269,-0.016212778165936,0.007874314673245,0.092079050838947,-0.011594202369452,0.026147527620196));
res += mul(Get(s1,-dx,dy), float4x4(0.070775337517262,-0.026690023019910,-0.041959166526794,-0.012773910537362,-0.040157854557037,-0.084931068122387,-0.014705874957144,0.041543658822775,-0.060715593397617,0.000370390160242,0.108360521495342,0.034011751413345,-0.046522293239832,-0.003546784864739,-0.046730488538742,0.065016657114029));
res += mul(Get(s1,0,-dy), float4x4(0.027672670781612,0.086214587092400,0.043214455246925,-0.000570923846681,-0.064917244017124,-0.049352634698153,-0.030627880245447,0.045491416007280,-0.004320999141783,-0.043036669492722,0.029111981391907,-0.047437693923712,-0.058574747294188,-0.081879593431950,0.002597546437755,-0.168185919523239));
res += mul(Get(s1,0,0), float4x4(0.052964296191931,-0.000479293928947,-0.009362782351673,0.014968829229474,0.054612629115582,-0.030383763834834,-0.003784810425714,0.000995872891508,0.001406692899764,0.039900936186314,0.112192563712597,-0.042263638228178,-0.055692933499813,-0.103046730160713,-0.125874325633049,-0.136449128389359));
res += mul(Get(s1,0,dy), float4x4(-0.022812500596046,0.033025898039341,0.051858760416508,0.056001547724009,-0.043559316545725,-0.114622995257378,0.001053442596458,0.118310578167439,0.055816963315010,-0.001464546308853,0.034069847315550,-0.003808504436165,-0.094102427363396,-0.082872226834297,-0.000515781226568,-0.061311490833759));
res += mul(Get(s1,dx,-dy), float4x4(0.014245784841478,0.130206018686295,-0.043519802391529,0.081088878214359,-0.010065473616123,-0.018035547807813,-0.015269785188138,0.087817788124084,-0.020047418773174,-0.055202223360538,-0.023616921156645,-0.029355078935623,-0.020998571068048,0.026267334818840,0.024743227288127,-0.148715883493423));
res += mul(Get(s1,dx,0), float4x4(0.024052200838923,0.168838635087013,-0.057983126491308,0.091447912156582,0.054368171840906,-0.001785529660992,0.052627697587013,-0.091559380292892,-0.088754877448082,-0.047528836876154,-0.008908241055906,0.006384646985680,-0.024798907339573,0.088277705013752,0.035602241754532,-0.067756377160549));
res += mul(Get(s1,dx,dy), float4x4(-0.033638644963503,0.123729035258293,-0.033353332430124,0.028186658397317,-0.047943431884050,-0.098364949226379,-0.014976030215621,0.006272688508034,-0.020170532166958,-0.101880170404911,-0.038955494761467,0.081839032471180,-0.023275407031178,0.017785118892789,0.027675960212946,-0.022703573107719));
res += mul(Get(s2,-dx,-dy), float4x4(0.008636700920761,-0.012044508941472,-0.002779438858852,0.087962135672569,0.010023014619946,-0.070196829736233,0.025209750980139,0.111729107797146,0.052426386624575,-0.052321732044220,-0.017887284979224,0.081658735871315,-0.059139322489500,-0.017683919519186,-0.018539076671004,-0.026823539286852));
res += mul(Get(s2,-dx,0), float4x4(-0.031843770295382,-0.102686814963818,-0.004574215970933,0.139769464731216,0.030089613050222,0.021592127159238,0.004822594113648,0.023493347689509,0.031041761860251,-0.085170611739159,0.008863618597388,0.027664093300700,-0.039513561874628,0.045448809862137,-0.027855444699526,-0.031173702329397));
res += mul(Get(s2,-dx,dy), float4x4(0.055675540119410,-0.094858705997467,0.099758684635162,0.140715375542641,0.068532489240170,0.044180888682604,0.008833241648972,-0.013436503708363,-0.014864385128021,-0.000844949856400,0.023403936997056,0.044087413698435,-0.037731494754553,0.071375980973244,0.023416884243488,-0.016116641461849));
res += mul(Get(s2,0,-dy), float4x4(0.070185080170631,-0.094083689153194,-0.006010065786541,-0.059438250958920,0.016621023416519,0.080022640526295,0.096409976482391,0.060033887624741,0.029095416888595,0.002105803228915,0.020198956131935,0.019096042960882,0.009258580394089,0.008111942559481,0.124583460390568,0.043055836111307));
res += mul(Get(s2,0,0), float4x4(0.025307081639767,-0.011900805868208,0.071962170302868,-0.015389088541269,-0.006237348541617,0.083941228687763,-0.038036502897739,-0.007869103923440,0.179938465356827,-0.041673686355352,-0.033948469907045,-0.018149675801396,0.095246292650700,0.129156365990639,0.011840319260955,-0.016524096950889));
res += mul(Get(s2,0,dy), float4x4(0.002576890401542,-0.011594265699387,0.065069861710072,-0.014334968291223,0.047873437404633,0.128212675452232,-0.003616910194978,0.054678134620190,-0.131254270672798,-0.044367406517267,0.050209015607834,0.023032549768686,0.009652890264988,0.011969922110438,-0.029607418924570,-0.047268800437450));
res += mul(Get(s2,dx,-dy), float4x4(-0.031417969614267,0.071592904627323,-0.015625476837158,0.017792956903577,0.068602845072746,0.036043763160706,0.038964606821537,0.026839096099138,-0.065566897392273,0.011865844950080,0.002257106592879,-0.034237425774336,-0.070629581809044,-0.008435451425612,-0.086193613708019,0.061353560537100));
res += mul(Get(s2,dx,0), float4x4(-0.069632537662983,0.059848286211491,-0.125412225723267,0.012856611050665,0.083667963743210,0.046946842223406,-0.013933180831373,-0.078798942267895,-0.060540068894625,-0.002629704773426,-0.025965556502342,-0.008499868214130,0.093026965856552,0.013135328888893,-0.026382738724351,0.015206263400614));
res += mul(Get(s2,dx,dy), float4x4(-0.040777925401926,-0.023465368896723,-0.102504141628742,0.044400248676538,0.038184028118849,0.086591780185699,0.045625630766153,-0.013664260506630,-0.092202901840210,-0.036187976598740,0.117402128875256,-0.044173829257488,-0.055324979126453,-0.018790759146214,0.008907642215490,-0.010909027419984));
res += mul(Get(s3,-dx,-dy), float4x4(0.026518927887082,0.017241379246116,0.053746420890093,-0.024780498817563,0.006315921433270,0.038284141570330,-0.051965545862913,-0.089580789208412,-0.077386558055878,-0.047936443239450,0.143341451883316,0.068944409489632,0.095704481005669,0.002058735350147,0.000769970647525,-0.077061027288437));
res += mul(Get(s3,-dx,0), float4x4(-0.041285768151283,-0.000526773568708,0.016268108040094,0.004144188947976,0.069206394255161,0.032327249646187,-0.084410309791565,0.002806557575241,-0.130630284547806,0.085545264184475,-0.035072300583124,0.004810483660549,0.050513099879026,-0.001419341657311,0.077413707971573,-0.005209920462221));
res += mul(Get(s3,-dx,dy), float4x4(0.014337860047817,-0.024772675707936,0.069472230970860,0.075147822499275,-0.018671380355954,-0.039641778916121,0.028946958482265,0.032908484339714,0.093648456037045,-0.020739233121276,0.051666852086782,0.041395276784897,-0.027568243443966,-0.065534070134163,0.213441416621208,0.003713609650731));
res += mul(Get(s3,0,-dy), float4x4(0.029103390872478,-0.053483355790377,-0.027700845152140,-0.001892731874250,0.012556202709675,-0.024390699341893,0.012183555401862,-0.058582652360201,0.031756326556206,-0.079381659626961,0.016670076176524,0.071593254804611,-0.047625318169594,0.045326001942158,-0.016740402206779,-0.033661294728518));
res += mul(Get(s3,0,0), float4x4(0.005982514005154,-0.053411632776260,0.063467986881733,-0.028586156666279,0.125442951917648,0.055757701396942,-0.028703603893518,-0.067340806126595,-0.020895386114717,-0.036925863474607,-0.192292347550392,-0.039847441017628,0.100323706865311,0.004609308205545,0.070731520652771,-0.070939488708973));
res += mul(Get(s3,0,dy), float4x4(-0.012645700946450,-0.068091817200184,0.115049540996552,0.025608854368329,-0.025536160916090,-0.114788040518761,0.028394106775522,-0.091544106602669,-0.007331962231547,0.020445717498660,-0.089052304625511,0.071135729551315,0.059920266270638,0.042638886719942,0.159498393535614,-0.008837050758302));
res += mul(Get(s3,dx,-dy), float4x4(-0.058037515729666,-0.006566748023033,0.065314359962940,0.037731088697910,0.000016171341485,0.059807900339365,-0.006627617403865,-0.071017071604729,0.052974820137024,-0.013440716080368,-0.100902192294598,0.050005163997412,-0.089999817311764,0.064197368919849,-0.036743778735399,0.031221246346831));
res += mul(Get(s3,dx,0), float4x4(0.023541079834104,-0.012415420264006,-0.053783722221851,-0.075507216155529,0.001559091964737,0.046890076249838,-0.044075321406126,0.000825709663332,-0.010187979787588,0.041223071515560,-0.093754872679710,0.011794905178249,-0.030814340338111,0.031396917998791,0.127197936177254,-0.026881169527769));
res += mul(Get(s3,dx,dy), float4x4(0.104220144450665,-0.011129655875266,-0.058483131229877,-0.040241345763206,-0.025063594803214,0.004065314307809,0.022772535681725,-0.070888116955757,-0.049885217100382,0.089350461959839,-0.022414304316044,0.054702766239643,-0.060009218752384,0.033417470753193,-0.012407491914928,0.060704872012138));
return max(float4(0,0,0,0), res);
}
