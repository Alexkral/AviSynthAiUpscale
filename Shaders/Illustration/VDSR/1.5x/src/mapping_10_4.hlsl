sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.050569608807564,-0.041098140180111,-0.042137879878283,0.021652931347489,-0.117916107177734,0.108880944550037,0.075989812612534,0.029789529740810,-0.098629452288151,-0.016008030623198,-0.046538479626179,-0.121082924306393,-0.097248956561089,0.034549620002508,-0.011762790381908,-0.122589021921158));
res += mul(Get(s0,-dx,0), float4x4(-0.049706611782312,0.043526899069548,-0.051468186080456,0.094654716551304,0.045887835323811,0.031834863126278,-0.066031411290169,0.036649364978075,0.004471814259887,-0.101298369467258,-0.028092071413994,0.021884258836508,-0.034121178090572,-0.051815636456013,0.015737006440759,0.048536568880081));
res += mul(Get(s0,-dx,dy), float4x4(-0.033843893557787,0.051209211349487,-0.048591997474432,0.033291257917881,0.010260256938636,-0.083772890269756,0.148768633604050,0.025746610015631,-0.082478828728199,0.024201996624470,0.054229255765676,0.077134929597378,-0.004747166298330,-0.002678074641153,0.016591299325228,-0.006990625057369));
res += mul(Get(s0,0,-dy), float4x4(-0.054085168987513,0.005698930937797,-0.133663699030876,0.020902123302221,0.012488854117692,0.050142481923103,-0.012964335270226,-0.114556334912777,0.015044069848955,-0.094570331275463,0.142726048827171,-0.025076692923903,-0.074780724942684,-0.162759304046631,-0.036312177777290,-0.094249561429024));
res += mul(Get(s0,0,0), float4x4(0.038409892469645,0.108834519982338,-0.066911734640598,-0.074797317385674,0.113806836307049,0.029657797887921,0.035593740642071,0.039259582757950,-0.021344307810068,0.044402543455362,0.071757540106773,-0.000167095116922,0.075119413435459,0.139732137322426,-0.086135201156139,0.052737168967724));
res += mul(Get(s0,0,dy), float4x4(-0.025484448298812,0.034315563738346,-0.052971821278334,0.003472756594419,-0.075425237417221,0.049528226256371,0.006877047475427,0.048878192901611,-0.064055718481541,-0.031246168538928,0.049342203885317,0.030637593939900,-0.018040919676423,0.076808921992779,0.021785844117403,0.001203058403917));
res += mul(Get(s0,dx,-dy), float4x4(0.042812418192625,0.059939336031675,0.057739630341530,0.073678471148014,0.075048923492432,0.040844939649105,0.115471400320530,-0.050892174243927,0.026364179328084,-0.140012279152870,-0.018227297812700,0.095114909112453,-0.024220181629062,0.130333125591278,-0.055993281304836,-0.070557780563831));
res += mul(Get(s0,dx,0), float4x4(0.033896505832672,0.005281445104629,-0.165827512741089,0.035396195948124,-0.066401965916157,0.044872816652060,0.010276078246534,-0.036834098398685,0.036166567355394,-0.027879593893886,0.027318110689521,0.082610040903091,0.026820901781321,-0.037519462406635,-0.028171002864838,0.067234493792057));
res += mul(Get(s0,dx,dy), float4x4(-0.027884276583791,-0.006509597878903,-0.061804700642824,-0.086944125592709,-0.074957087635994,-0.075180418789387,0.001633807900362,-0.040150005370378,0.062556311488152,0.044757563620806,0.061773832887411,-0.078590855002403,-0.030331166461110,0.019796138629317,0.026824230328202,0.042604368180037));
res += mul(Get(s1,-dx,-dy), float4x4(0.074730619788170,0.046472124755383,-0.014977823011577,-0.037336647510529,0.023758409544826,0.042628645896912,-0.016796708106995,0.025740584358573,0.056975778192282,0.036245025694370,0.092406198382378,-0.069665841758251,0.075608491897583,-0.045896586030722,-0.006091338582337,-0.003528903471306));
res += mul(Get(s1,-dx,0), float4x4(-0.076664134860039,-0.095762528479099,-0.050870336592197,0.146491929888725,-0.079462796449661,-0.020894946530461,-0.021281052380800,0.005827568937093,-0.019615817815065,0.127214118838310,-0.026145717129111,0.050007857382298,-0.051442950963974,0.012836587615311,0.108726963400841,0.013544276356697));
res += mul(Get(s1,-dx,dy), float4x4(-0.052148830145597,-0.131726369261742,0.093647040426731,-0.106014087796211,0.026376005262136,0.057425159960985,-0.091030418872833,0.029455050826073,0.013654814101756,-0.113199286162853,-0.081837892532349,0.055480681359768,0.007486030925065,0.045624129474163,-0.002171248197556,-0.071167901158333));
res += mul(Get(s1,0,-dy), float4x4(0.066855221986771,-0.144453600049019,-0.010967781767249,-0.000461264600744,0.042652063071728,0.047873154282570,-0.026475528255105,0.168775528669357,-0.008555130101740,-0.082564070820808,-0.024815704673529,-0.105616368353367,-0.016961792483926,-0.079225681722164,-0.092441901564598,0.007226307876408));
res += mul(Get(s1,0,0), float4x4(-0.071895875036716,0.023212952539325,-0.061556596308947,0.062553197145462,-0.060134984552860,0.058370310813189,0.104518637061119,-0.038146704435349,-0.114501588046551,0.080313123762608,-0.087457180023193,0.000324293534504,-0.075432538986206,-0.024793876335025,-0.037852536886930,0.061589427292347));
res += mul(Get(s1,0,dy), float4x4(-0.063840329647064,-0.095801368355751,0.135822817683220,-0.012198496609926,0.010051630437374,0.037153396755457,-0.091026358306408,-0.013144437223673,-0.018514202907681,-0.057260204106569,0.013500963337719,-0.006850956473500,0.006204916629940,0.072018943727016,-0.212959557771683,-0.008668571710587));
res += mul(Get(s1,dx,-dy), float4x4(0.019816339015961,0.049048654735088,0.035122893750668,-0.096607834100723,0.004494921304286,-0.012408720329404,0.098237656056881,0.064400173723698,0.044379476457834,-0.032284967601299,0.019482960924506,0.035330154001713,0.049534711986780,0.101178027689457,-0.041857425123453,-0.079322360455990));
res += mul(Get(s1,dx,0), float4x4(-0.037903003394604,0.008862349204719,0.142394840717316,-0.120213463902473,0.022942518815398,0.048449069261551,-0.023031646385789,-0.032891701906919,-0.126548200845718,0.032156698405743,-0.177007168531418,-0.039683807641268,-0.004740600474179,0.092038996517658,0.011199389584363,0.001624847296625));
res += mul(Get(s1,dx,dy), float4x4(-0.014722871594131,-0.060455653816462,0.042535983026028,-0.090882986783981,-0.058062400668859,0.020973559468985,-0.012395215220749,-0.056792546063662,0.002899755258113,-0.020964149385691,-0.083179622888565,0.109456919133663,0.069733284413815,-0.037861403077841,0.050313711166382,0.092343263328075));
res += mul(Get(s2,-dx,-dy), float4x4(-0.057815134525299,0.016724346205592,-0.059869304299355,-0.117537073791027,-0.077930368483067,0.016571989282966,-0.012766961939633,-0.064217425882816,0.086250893771648,0.035221070051193,0.096197873353958,0.037250783294439,0.047663193196058,-0.075180701911449,0.039165813475847,-0.001974993152544));
res += mul(Get(s2,-dx,0), float4x4(-0.049892805516720,0.041548248380423,-0.008496805094182,0.004704745020717,-0.098601184785366,-0.006786211393774,-0.199012339115143,0.043710820376873,-0.012655868194997,-0.060669898986816,0.047967217862606,0.020652901381254,0.003970809280872,-0.082776308059692,0.043592695146799,0.062650449573994));
res += mul(Get(s2,-dx,dy), float4x4(-0.022874386981130,-0.063814304769039,0.083456680178642,0.015932491049170,0.072831653058529,0.023536093533039,-0.043775402009487,0.025499479845166,-0.067617170512676,-0.108368538320065,0.085771083831787,0.038518317043781,0.115389831364155,0.110447168350220,0.033612754195929,0.034143190830946));
res += mul(Get(s2,0,-dy), float4x4(0.044088140130043,-0.000571097480133,0.028009839355946,-0.035836011171341,-0.024176090955734,-0.018165692687035,0.018750516697764,-0.067665174603462,0.011107118800282,0.074980780482292,-0.001280405325815,-0.056907881051302,0.014756399206817,-0.028921300545335,-0.086896702647209,-0.001987539464608));
res += mul(Get(s2,0,0), float4x4(0.076525144279003,-0.023273328319192,0.043800543993711,0.081897653639317,-0.080642506480217,-0.033569134771824,-0.080783255398273,-0.083328001201153,-0.007658544927835,-0.093575745820999,-0.091073013842106,0.016384607180953,-0.035816211253405,0.021243041381240,0.098252773284912,0.029675796627998));
res += mul(Get(s2,0,dy), float4x4(-0.086465016007423,0.023995714262128,0.091700151562691,-0.008977105841041,0.000664954714011,0.080126546323299,-0.009836254641414,-0.096017412841320,-0.069767192006111,-0.028828699141741,-0.075552292168140,-0.048063367605209,0.036304824054241,-0.026512507349253,-0.042766939848661,0.000824394403026));
res += mul(Get(s2,dx,-dy), float4x4(-0.064143925905228,0.024502051994205,0.018550505861640,0.091896109282970,0.050622306764126,-0.073483012616634,-0.087292894721031,0.220613956451416,0.090672418475151,0.045365300029516,0.032494295388460,0.028724661096931,-0.048954974859953,0.065241709351540,-0.089996822178364,-0.008146598935127));
res += mul(Get(s2,dx,0), float4x4(0.067636922001839,0.082394249737263,0.048076052218676,0.029971038922668,0.065681681036949,-0.035693313926458,-0.040440160781145,-0.020224981009960,-0.008682921528816,-0.062754400074482,-0.028902655467391,-0.047422394156456,0.005423496942967,0.049609430134296,-0.063556976616383,-0.035470612347126));
res += mul(Get(s2,dx,dy), float4x4(0.050389051437378,-0.016380954533815,0.098530009388924,0.070480227470398,-0.135731056332588,-0.068433254957199,-0.052931513637304,-0.033767167478800,0.030589051544666,-0.053445886820555,0.027004431933165,-0.062300078570843,-0.040799044072628,0.065718688070774,0.034242317080498,-0.013019959442317));
res += mul(Get(s3,-dx,-dy), float4x4(-0.024451661854982,0.053771559149027,-0.017800571396947,-0.088194675743580,-0.009269940666854,0.028641175478697,0.034794930368662,0.074577316641808,0.034148223698139,-0.000591762247495,0.029908740893006,0.035449605435133,-0.006084279157221,-0.032622836530209,-0.015553263947368,-0.158454120159149));
res += mul(Get(s3,-dx,0), float4x4(0.052127886563540,0.028341699391603,0.037191092967987,-0.044021680951118,-0.005785431712866,-0.031491767615080,0.033586252480745,0.073165759444237,0.036585588008165,0.037918470799923,-0.082502953708172,-0.007297904696316,-0.030290620401502,0.005916241556406,0.011516841128469,-0.015818260610104));
res += mul(Get(s3,-dx,dy), float4x4(0.052500791847706,-0.043245702981949,-0.053416848182678,-0.060790669173002,0.040027458220720,-0.086468324065208,0.075512394309044,0.084613882005215,-0.081272892653942,0.102377593517303,0.032137595117092,0.056561134755611,0.056965526193380,-0.011027289554477,0.006884078495204,-0.038727015256882));
res += mul(Get(s3,0,-dy), float4x4(0.056100606918335,-0.047757487744093,0.036698948591948,-0.101800143718719,0.119538284838200,-0.038485798984766,-0.028763802722096,-0.052328474819660,-0.070922695100307,0.071900531649590,0.006401103921235,-0.000601613603067,-0.031317178159952,-0.018208630383015,0.033047389239073,-0.001966309500858));
res += mul(Get(s3,0,0), float4x4(0.016251141205430,0.002973475027829,0.035591583698988,0.048698559403419,0.028541848063469,0.153671294450760,0.011635682545602,0.026255529373884,0.068269111216068,0.042771384119987,0.030501369386911,0.005506469402462,-0.067363068461418,0.099437162280083,0.089779451489449,0.014923222362995));
res += mul(Get(s3,0,dy), float4x4(-0.056086156517267,-0.049336858093739,0.049102824181318,-0.030398186296225,-0.080674074590206,-0.048396375030279,0.159309670329094,-0.051311336457729,-0.017835995182395,0.003350550774485,0.019451770931482,-0.064608819782734,0.005217560566962,0.078420616686344,-0.077245034277439,0.012028341181576));
res += mul(Get(s3,dx,-dy), float4x4(-0.021335853263736,0.101311601698399,-0.032770011574030,-0.110436260700226,-0.012847968377173,-0.048273678869009,0.062544897198677,0.059911996126175,0.011792010627687,-0.029670597985387,-0.065109603106976,-0.093550480902195,0.163929745554924,0.029906410723925,0.044219773262739,-0.119348265230656));
res += mul(Get(s3,dx,0), float4x4(-0.017386015504599,0.073476538062096,-0.062392897903919,-0.038176156580448,0.000703484809492,0.065792150795460,-0.048852141946554,-0.022122405469418,-0.073171108961105,0.041112247854471,-0.070928171277046,0.068016983568668,-0.003207051893696,-0.036010563373566,-0.065225943922997,0.135750010609627));
res += mul(Get(s3,dx,dy), float4x4(0.012901499867439,-0.051647424697876,-0.027147227898240,-0.073128744959831,0.005646241828799,-0.020614420995116,-0.091498322784901,0.047434642910957,0.028064349666238,0.073252089321613,0.004359899554402,-0.030245935544372,-0.046341776847839,0.019091634079814,-0.013260618783534,-0.102758221328259));
return max(float4(0,0,0,0), res);
}
