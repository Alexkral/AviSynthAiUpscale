sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.018723342567682,0.055561523884535,-0.076734766364098,-0.002935188822448,0.076573558151722,-0.038222230970860,0.000543890288100,0.004911265801638,0.064258083701134,0.056094296276569,-0.015923529863358,0.003250053850934,0.015353695489466,-0.072319723665714,-0.011296268552542,0.004446880891919));
res += mul(Get(s0,-dx,0), float4x4(0.001439325045794,0.045468039810658,-0.047364041209221,0.003971745260060,0.046281926333904,-0.016992272809148,0.004471525084227,0.008548614569008,0.004503933712840,0.076005682349205,0.139554023742676,-0.006963599473238,0.006126782391220,-0.005504504777491,0.009885325096548,0.004397281445563));
res += mul(Get(s0,-dx,dy), float4x4(-0.011177935637534,-0.074210941791534,-0.031343426555395,-0.004829212091863,0.073586240410805,-0.046689942479134,0.045671090483665,0.003992883954197,0.016198536381125,0.045294996351004,-0.001111303572543,0.002960664452985,0.057195529341698,0.018650032579899,0.059383776038885,0.005264649633318));
res += mul(Get(s0,0,-dy), float4x4(-0.023367375135422,0.002276267856359,0.070582538843155,0.000310586299747,0.004384108353406,-0.040918450802565,0.134055569767952,-0.002009356860071,0.035871602594852,0.042169656604528,0.014232780784369,0.005786069668829,0.013928334228694,0.002108015352860,0.166662603616714,-0.004046767484397));
res += mul(Get(s0,0,0), float4x4(-0.032832913100719,-0.014289557933807,-0.050431191921234,-0.003056552028283,-0.054898265749216,0.017000343650579,-0.033340699970722,-0.004304950591177,-0.027273222804070,0.018749499693513,0.015335343778133,0.003612695960328,-0.045062642544508,-0.085893020033836,-0.046926289796829,0.008356238715351));
res += mul(Get(s0,0,dy), float4x4(-0.049112424254417,0.021814873442054,-0.025619052350521,0.014309194870293,0.013715760782361,-0.018074983730912,0.052305903285742,0.005605858284980,0.000856620725244,-0.045846205204725,-0.047803860157728,0.001225458690897,-0.044793777167797,-0.017808785662055,0.020709387958050,0.022096656262875));
res += mul(Get(s0,dx,-dy), float4x4(-0.008563442155719,0.056791868060827,-0.014659591019154,-0.001172851538286,0.037424780428410,-0.012526094913483,0.112631283700466,-0.003624098841101,0.047801062464714,0.023836189880967,-0.043936815112829,-0.003916818182915,-0.037287928164005,0.031648069620132,-0.000127228951897,-0.010810049250722));
res += mul(Get(s0,dx,0), float4x4(-0.051409613341093,0.015783999115229,-0.030910965055227,-0.000288626586553,0.006631404627115,-0.015933446586132,-0.009718440473080,0.002333662938327,0.033784415572882,0.068645872175694,-0.010237306356430,0.001280375174247,0.023534864187241,0.016032945364714,0.038667242974043,0.000912003859412));
res += mul(Get(s0,dx,dy), float4x4(-0.072536759078503,0.036639966070652,-0.072894975543022,0.002072821604088,0.031140489503741,0.034110412001610,0.075059622526169,0.011358307674527,0.088911198079586,0.042005613446236,0.009586402215064,0.005306615028530,0.029685560613871,0.022316692396998,0.012914109043777,-0.009427793323994));
res += mul(Get(s1,-dx,-dy), float4x4(0.191272646188736,-0.011116400361061,0.020965820178390,0.013404051773250,0.030482575297356,0.035675451159477,-0.075793594121933,0.000359070370905,-0.153339624404907,-0.074545130133629,-0.042112201452255,0.001360995462164,-0.003487771842629,0.058653987944126,0.112546622753143,0.004786465782672));
res += mul(Get(s1,-dx,0), float4x4(-0.091259829699993,-0.018387062475085,-0.073055684566498,-0.010459219105542,-0.015410088934004,-0.065787501633167,-0.093254432082176,-0.002266543684527,-0.020816627889872,0.058355666697025,0.141411736607552,0.010454853996634,-0.066728964447975,0.113872572779655,0.147053003311157,0.001501636346802));
res += mul(Get(s1,-dx,dy), float4x4(-0.073001623153687,-0.091522820293903,-0.174972891807556,-0.007761341985315,0.020664280280471,0.052035901695490,0.043979786336422,-0.005628758110106,-0.143633693456650,-0.070587597787380,-0.038534972816706,0.000513285398483,-0.103949598968029,-0.043960068374872,-0.076675400137901,-0.007392490282655));
res += mul(Get(s1,0,-dy), float4x4(0.173213079571724,-0.111478179693222,0.123807087540627,0.006494073197246,0.102719835937023,0.064779154956341,-0.005003950558603,-0.004016675055027,-0.147040382027626,0.007516080047935,0.234603568911552,0.009379222989082,0.107007794082165,0.016485482454300,-0.038097027689219,0.008402244187891));
res += mul(Get(s1,0,0), float4x4(-0.120293252170086,0.014034619554877,0.073407463729382,-0.002504512201995,0.056250762194395,0.118136391043663,-0.079571433365345,0.002440880984068,-0.160576537251472,-0.102562271058559,0.020014686509967,-0.005176389124244,-0.025100156664848,-0.144660130143166,0.129660770297050,0.001865704194643));
res += mul(Get(s1,0,dy), float4x4(-0.004297914914787,0.050744816660881,-0.016339415684342,-0.002837855136022,0.121191598474979,-0.173561275005341,0.266772478818893,-0.007230810355395,-0.029941443353891,-0.025538016110659,-0.094421863555908,0.005716997198761,-0.031784430146217,-0.147885009646416,0.013720381073654,-0.004488244187087));
res += mul(Get(s1,dx,-dy), float4x4(0.068997412919998,0.053624160587788,0.057959906756878,0.000479861337226,0.025724621489644,-0.064683966338634,-0.032451450824738,-0.009075139649212,0.216362521052361,0.042297251522541,-0.111512012779713,-0.007293424569070,0.073425978422165,-0.083658233284950,-0.004483358934522,-0.011267397552729));
res += mul(Get(s1,dx,0), float4x4(-0.065495960414410,0.009416615590453,0.090573802590370,-0.004769934341311,0.047461755573750,0.027876414358616,0.066732272505760,0.002497195266187,0.094215512275696,-0.025645919144154,0.126949697732925,-0.005004495847970,0.052346352487803,-0.031274318695068,0.000642188300844,-0.014517853967845));
res += mul(Get(s1,dx,dy), float4x4(-0.024120099842548,-0.002129894914106,0.008269917219877,0.000119799049571,0.119464777410030,-0.016189763322473,0.159464836120605,0.002027424750850,-0.087891727685928,0.052922699600458,0.040431354194880,-0.000360436562914,0.028528910130262,-0.120981961488724,-0.016253802925348,0.001654180232435));
res += mul(Get(s2,-dx,-dy), float4x4(0.039192546159029,-0.085870988667011,0.185519158840179,0.003143380396068,-0.021650103852153,0.029296465218067,-0.011977740563452,-0.000499798508827,0.039893656969070,0.105444453656673,-0.012937715277076,0.001197894220240,0.062708683311939,-0.049243997782469,0.036618448793888,0.002585331443697));
res += mul(Get(s2,-dx,0), float4x4(-0.097372256219387,0.136016637086868,0.101390458643436,-0.000048865742428,-0.021889947354794,0.012511304579675,0.012614992447197,-0.001791481743567,0.106268897652626,-0.024027667939663,0.007178287487477,-0.001783579471521,0.106440275907516,0.030055796727538,0.068466857075691,-0.001403742702678));
res += mul(Get(s2,-dx,dy), float4x4(-0.015909390524030,-0.027359534054995,-0.002763677854091,-0.001954236067832,-0.018882922828197,-0.008228374645114,-0.029493695124984,-0.001663714996539,0.120207414031029,0.075442343950272,-0.130092576146126,-0.001494168536738,-0.007505580782890,0.074663400650024,0.069621972739697,-0.002738174051046));
res += mul(Get(s2,0,-dy), float4x4(0.141835257411003,0.068309009075165,-0.123470671474934,0.007238929625601,-0.032029144465923,0.036542057991028,0.037760857492685,0.005452302750200,0.056327521800995,0.023347206413746,-0.091024361550808,0.008102593943477,0.003754137316719,-0.033446427434683,0.057094935327768,0.003249177476391));
res += mul(Get(s2,0,0), float4x4(0.003010208252817,-0.076559610664845,0.019799074158072,0.013093839399517,-0.027194570749998,-0.024252658709884,0.037498265504837,0.002840324537829,-0.096446372568607,0.086147412657738,0.087155945599079,0.013973559252918,0.062982454895973,-0.054074484854937,0.012415173463523,-0.002403461840004));
res += mul(Get(s2,0,dy), float4x4(-0.038201153278351,0.107376039028168,0.073507167398930,0.008485201746225,-0.015967132523656,-0.010676163248718,0.046791683882475,0.012686082161963,0.076987519860268,-0.059113871306181,-0.003133386140689,-0.002889954717830,0.051274873316288,-0.011523754335940,-0.009035947732627,0.003808028763160));
res += mul(Get(s2,dx,-dy), float4x4(-0.000017175470930,0.097137279808521,-0.027077781036496,-0.017914257943630,0.027942059561610,0.002807911951095,0.013417353853583,-0.002738518407568,-0.028995648026466,-0.029468063265085,-0.072077304124832,0.000927232496906,0.001666847383603,-0.026717726141214,-0.016008667647839,-0.001872924156487));
res += mul(Get(s2,dx,0), float4x4(0.245846077799797,0.179527580738068,0.020092645660043,0.005944335833192,0.063205942511559,0.025509322062135,0.039522081613541,-0.003270256565884,-0.092016950249672,-0.021911762654781,-0.105683833360672,-0.005666523240507,-0.001177371246740,0.044336110353470,-0.021583829075098,0.015272446908057));
res += mul(Get(s2,dx,dy), float4x4(-0.011827782727778,0.073341630399227,-0.053008157759905,-0.003583070822060,0.044560551643372,0.030159702524543,-0.007891598157585,0.003895386354998,0.130239292979240,-0.073455154895782,-0.046794857829809,-0.007190119940788,0.022031383588910,0.070122011005878,-0.067795924842358,-0.005078405607492));
res += mul(Get(s3,-dx,-dy), float4x4(-0.149507448077202,0.067329280078411,-0.066981576383114,0.004555393941700,-0.030230801552534,0.074797987937927,-0.063801012933254,-0.005067487247288,0.036125544458628,-0.089844375848770,0.074218012392521,-0.005642060190439,-0.060128625482321,0.066251210868359,-0.067273564636707,-0.005363746080548));
res += mul(Get(s3,-dx,0), float4x4(-0.026108099147677,0.043225117027760,-0.146512970328331,0.009231059812009,-0.005549368448555,0.001674159662798,0.030106719583273,0.007587470579892,-0.086773455142975,0.107836857438087,-0.076485604047775,0.001828216132708,0.051514454185963,0.008779302239418,-0.088971689343452,-0.000023036527637));
res += mul(Get(s3,-dx,dy), float4x4(-0.137365162372589,0.222984448075294,0.076127976179123,0.000178531990969,-0.039095979183912,-0.062658250331879,0.036363113671541,0.004553984384984,0.035702023655176,0.056806344538927,0.004212296567857,0.003229025751352,0.087862022221088,0.106638811528683,-0.019474480301142,-0.002857115818188));
res += mul(Get(s3,0,-dy), float4x4(-0.074239909648895,0.069523967802525,-0.136407628655434,0.012839037925005,-0.030744409188628,0.068553090095520,-0.009438152424991,-0.006039569154382,0.036467768251896,0.176955759525299,-0.107286594808102,0.003611227730289,-0.071481049060822,0.031969822943211,-0.066146858036518,0.005971505772322));
res += mul(Get(s3,0,0), float4x4(-0.047275334596634,0.021482480689883,0.101192951202393,-0.000722495256923,0.013317360542715,-0.070561215281487,0.095587491989136,-0.002806493313983,0.143583029508591,-0.091398574411869,0.164496272802353,0.002485495759174,-0.027745280414820,0.101485267281532,-0.107335381209850,0.011136800982058));
res += mul(Get(s3,0,dy), float4x4(-0.058188084512949,0.139106035232544,0.021439615637064,0.002222316339612,-0.036083228886127,-0.024142334237695,0.061944175511599,0.005999519489706,0.037852182984352,0.070582322776318,-0.098175242543221,-0.003631479339674,0.058882310986519,0.053303368389606,0.008965436369181,0.003108908887953));
res += mul(Get(s3,dx,-dy), float4x4(-0.064750455319881,-0.001107309362851,-0.090350151062012,-0.000172881918843,-0.029839580878615,0.019658051431179,-0.007146784104407,-0.006888305302709,0.139116615056992,-0.114814288914204,0.151262298226357,0.006630022544414,-0.042591173201799,0.091848149895668,0.025611946359277,-0.002283365931362));
res += mul(Get(s3,dx,0), float4x4(-0.095537982881069,0.043540667742491,0.006456092000008,0.001868359511718,0.088941678404808,-0.032880272716284,0.092379145324230,-0.001201334525831,0.018378760665655,0.172110140323639,0.093735724687576,0.001737510901876,-0.105906330049038,-0.097528785467148,-0.011162166483700,0.004586156923324));
res += mul(Get(s3,dx,dy), float4x4(-0.174051478505135,0.238828465342522,-0.052997779101133,-0.011524918489158,0.013752444647253,0.056911963969469,0.011134153231978,0.005789034534246,-0.066097110509872,-0.046207517385483,-0.079541943967342,-0.004878997337073,-0.055091716349125,0.014560880139470,-0.039945490658283,-0.007312247063965));
return max(float4(0,0,0,0), res);
}
