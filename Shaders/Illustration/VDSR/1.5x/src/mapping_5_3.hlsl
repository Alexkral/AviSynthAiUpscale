sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.050139117985964,0.006799348630011,0.068623915314674,0.021175770089030,0.125244081020355,-0.034338016062975,-0.101970806717873,0.016807988286018,-0.028601976111531,-0.061150472611189,0.022073123604059,-0.061088997870684,-0.034563239663839,-0.133155331015587,-0.008037346415222,-0.104652851819992));
res += mul(Get(s0,-dx,0), float4x4(0.035656150430441,0.046931844204664,0.026415849104524,-0.128828600049019,-0.155872181057930,0.014192167669535,-0.002763660624623,-0.135123535990715,0.050009582191706,-0.049330681562424,-0.156799405813217,0.114705525338650,-0.081435002386570,-0.033297356218100,0.141882359981537,0.095505453646183));
res += mul(Get(s0,-dx,dy), float4x4(0.039075639098883,0.011925365775824,-0.071372807025909,-0.010325479321182,-0.049545716494322,-0.076568283140659,-0.058409269899130,-0.092957206070423,0.014526078477502,0.040209688246250,-0.088950201869011,0.050022132694721,-0.090593956410885,0.107042163610458,0.043214380741119,-0.036813799291849));
res += mul(Get(s0,0,-dy), float4x4(-0.099891975522041,0.051234345883131,0.023467095568776,0.073219962418079,0.039184298366308,0.031932961195707,0.016090825200081,0.087450966238976,-0.006244636140764,-0.185756638646126,0.019231496378779,-0.077644392848015,0.084335446357727,-0.200167089700699,-0.071870699524879,-0.004099877085537));
res += mul(Get(s0,0,0), float4x4(0.112464092671871,-0.002031582640484,0.021195920184255,0.008757782168686,0.039914708584547,0.034940358251333,0.077327795326710,-0.050576046109200,0.057077661156654,0.156862601637840,-0.105382256209850,0.098622068762779,-0.077412046492100,-0.117268837988377,0.025123514235020,0.014632944017649));
res += mul(Get(s0,0,dy), float4x4(-0.021549426019192,-0.024394566193223,-0.074332326650620,0.158765003085136,-0.111762180924416,0.013146980665624,0.090143613517284,-0.138965502381325,-0.061788525432348,0.048606652766466,0.146238610148430,-0.062091432511806,-0.007385223172605,0.116440236568451,0.077210582792759,-0.097751535475254));
res += mul(Get(s0,dx,-dy), float4x4(-0.103486217558384,0.096013978123665,0.036966379731894,0.003923843614757,0.103788591921329,-0.044346839189529,0.057787898927927,0.026454042643309,0.090943880379200,0.036509849131107,0.123234696686268,-0.105029478669167,0.032455544918776,-0.165197581052780,-0.016588551923633,-0.012032389640808));
res += mul(Get(s0,dx,0), float4x4(-0.034102778881788,0.041011802852154,0.011505221016705,0.043515291064978,-0.097643025219440,-0.033196803182364,-0.133634462952614,-0.014628909528255,0.010555207729340,-0.037305034697056,0.094333045184612,0.059152245521545,-0.049989975988865,0.061716735363007,0.131377980113029,0.056832592934370));
res += mul(Get(s0,dx,dy), float4x4(-0.060067221522331,0.008348607458174,-0.101738594472408,-0.006970806978643,-0.060202326625586,-0.066203586757183,0.039731621742249,-0.086100392043591,-0.134570807218552,-0.134860798716545,-0.028368268162012,0.070295289158821,0.003347716294229,0.024736667051911,0.078997462987900,-0.091914027929306));
res += mul(Get(s1,-dx,-dy), float4x4(-0.044626656919718,0.040373560041189,-0.043857559561729,0.027425330132246,0.062659397721291,-0.060749270021915,-0.032848268747330,0.041711166501045,-0.063707739114761,0.108714178204536,0.038929332047701,0.012790704146028,0.035504933446646,-0.006058456376195,0.027334183454514,0.080167330801487));
res += mul(Get(s1,-dx,0), float4x4(0.136817485094070,-0.053926460444927,-0.013981676660478,-0.121805459260941,0.034600071609020,0.061943650245667,0.004584148060530,0.017804905772209,0.043849360197783,0.030825676396489,0.054869014769793,-0.089782871305943,0.022604227066040,0.057696528732777,0.017539631575346,0.008373843505979));
res += mul(Get(s1,-dx,dy), float4x4(-0.107196502387524,0.065144121646881,-0.156304240226746,-0.029261091724038,-0.067754589021206,-0.090348318219185,-0.035783655941486,-0.084580995142460,0.058510765433311,-0.089260645210743,-0.025393616408110,0.111577466130257,0.035965625196695,-0.004922877531499,-0.024340126663446,0.085538379848003));
res += mul(Get(s1,0,-dy), float4x4(0.022951921448112,0.034446205943823,0.036596935242414,-0.073006719350815,-0.079188682138920,0.011502229608595,0.007125146687031,0.194099962711334,0.104733899235725,0.063798159360886,0.021282183006406,0.057451412081718,-0.034249726682901,0.066691473126411,-0.089317291975021,0.061482850462198));
res += mul(Get(s1,0,0), float4x4(-0.030959328636527,0.027517875656486,0.079115040600300,-0.175341680645943,-0.019050022587180,-0.023604881018400,-0.009943970479071,0.116407439112663,0.038359388709068,0.008062196895480,-0.045848384499550,0.024605832993984,0.073524907231331,-0.006675134878606,0.070366829633713,-0.001744189183228));
res += mul(Get(s1,0,dy), float4x4(-0.018631739541888,0.096099577844143,-0.057797253131866,-0.080977350473404,0.029914388433099,-0.046273421496153,0.004375739023089,-0.078819647431374,0.023277156054974,-0.049655705690384,0.111098341643810,0.055507835000753,0.062246240675449,0.053790953010321,-0.013963862322271,0.087341591715813));
res += mul(Get(s1,dx,-dy), float4x4(-0.114286303520203,0.025014299899340,0.000977362855338,0.050075080245733,-0.077791862189770,0.079555846750736,-0.011869216337800,0.004654951393604,-0.050475291907787,-0.065000168979168,0.089616663753986,0.030208574607968,-0.025794452056289,-0.058366242796183,0.075233213603497,0.015085319988430));
res += mul(Get(s1,dx,0), float4x4(0.059314042329788,-0.128275692462921,0.061483852565289,-0.054569531232119,0.022923955693841,0.150705531239510,0.142477199435234,0.106695987284184,-0.120948351919651,-0.167121604084969,-0.062223762273788,0.058828674256802,-0.045277491211891,0.015917008742690,-0.055037770420313,-0.011906226165593));
res += mul(Get(s1,dx,dy), float4x4(0.006560654845089,0.060798052698374,-0.089204855263233,-0.050243142992258,-0.136439159512520,-0.147801622748375,-0.060013767331839,0.053875699639320,0.069542080163956,0.002890060888603,-0.092073425650597,0.030230836942792,-0.007108175661415,0.039700388908386,0.084789276123047,-0.059491515159607));
res += mul(Get(s2,-dx,-dy), float4x4(0.044368155300617,0.073489345610142,-0.056181769818068,0.075237646698952,-0.004444381687790,0.012325693853199,-0.065196067094803,0.000311219628202,-0.036208588629961,0.047035880386829,0.013210276141763,0.050424870103598,0.064724378287792,-0.070931702852249,-0.010698718950152,-0.007687808014452));
res += mul(Get(s2,-dx,0), float4x4(0.102573707699776,0.025128385052085,0.054753489792347,-0.060423251241446,-0.005968621466309,0.092456601560116,0.005535654257983,-0.063070498406887,0.030282527208328,-0.037535838782787,-0.052530605345964,-0.039352875202894,0.062562428414822,-0.036257959902287,-0.031041713431478,0.038559641689062));
res += mul(Get(s2,-dx,dy), float4x4(0.068422079086304,0.021116456016898,0.077536351978779,-0.009122155606747,0.069106660783291,0.081108175218105,0.183742180466652,0.042950142174959,-0.005299700889736,-0.019390208646655,0.014207780361176,0.034420270472765,0.055587060749531,-0.001433599274606,0.045048110187054,0.106689639389515));
res += mul(Get(s2,0,-dy), float4x4(-0.133005440235138,0.118369281291962,0.099036730825901,0.021492693573236,0.008256306871772,-0.047074418514967,0.121368825435638,-0.022227887064219,-0.049345836043358,-0.060900542885065,0.026663750410080,-0.033614516258240,-0.058116026222706,-0.001549862325191,-0.013328478671610,0.091586448252201));
res += mul(Get(s2,0,0), float4x4(0.045651569962502,0.085256084799767,0.056843645870686,0.054938998073339,0.062970757484436,0.009973875246942,0.105727344751358,-0.037966012954712,0.029150813817978,-0.127233117818832,0.192682370543480,0.084169119596481,-0.003106078831479,-0.024371327832341,0.073299340903759,-0.015040951780975));
res += mul(Get(s2,0,dy), float4x4(-0.214721769094467,-0.000611539289821,0.024349523708224,0.014625848270953,-0.006650719791651,-0.060267332941294,0.025466660037637,-0.010653366334736,-0.065598286688328,0.029562829062343,0.042692773044109,0.051015377044678,0.029747096821666,-0.016721092164516,-0.004006994422525,-0.126259729266167));
res += mul(Get(s2,dx,-dy), float4x4(-0.110837742686272,0.037233296781778,-0.079366900026798,-0.075844228267670,-0.064763225615025,-0.034498225897551,-0.066557280719280,0.097042009234428,0.046664230525494,-0.017726628109813,0.038090411573648,0.025311846286058,-0.072267971932888,-0.040235202759504,0.061985008418560,-0.012169437482953));
res += mul(Get(s2,dx,0), float4x4(-0.039125997573137,0.100737214088440,0.074369557201862,-0.014136469922960,-0.086963474750519,0.077115595340729,-0.100702933967113,-0.070189975202084,0.088654339313507,-0.114182606339455,0.188612997531891,-0.079849801957607,-0.009623190388083,-0.011887187138200,-0.120075643062592,0.041763111948967));
res += mul(Get(s2,dx,dy), float4x4(0.005015424918383,0.115658067166805,0.027852110564709,-0.066623300313950,0.082011274993420,-0.086554527282715,-0.002839031163603,0.068809837102890,0.124698251485825,-0.011852845549583,-0.048179104924202,0.007225302513689,-0.098985388875008,-0.050117794424295,-0.050753958523273,-0.079522818326950));
res += mul(Get(s3,-dx,-dy), float4x4(-0.017944723367691,-0.088399142026901,-0.098446846008301,0.026930425316095,0.008742330595851,-0.021868674084544,-0.122197613120079,0.040510617196560,0.012910548597574,-0.119167663156986,-0.059671558439732,-0.005154822953045,0.024994902312756,0.003790645860136,-0.021156502887607,0.067374370992184));
res += mul(Get(s3,-dx,0), float4x4(0.017900174483657,-0.075907371938229,-0.111322812736034,0.112419933080673,0.099436081945896,0.006933262106031,-0.150947526097298,0.004907834809273,-0.018747348338366,0.005324965342879,0.079258225858212,-0.111269451677799,-0.007099864538759,-0.063844978809357,0.050466645509005,-0.079256400465965));
res += mul(Get(s3,-dx,dy), float4x4(0.029960084706545,0.024831520393491,0.084670208394527,0.129859104752541,-0.010905425064266,0.042132742702961,0.064553596079350,0.116380751132965,0.008934654295444,0.003064646618441,0.061696544289589,0.019626602530479,-0.047211300581694,0.038515217602253,-0.010134277865291,-0.010182589292526));
res += mul(Get(s3,0,-dy), float4x4(0.046512130647898,0.002696101320907,0.074345998466015,0.000051711733249,-0.050922736525536,0.060066942125559,-0.017508031800389,-0.164581641554832,0.013752182014287,0.188826128840446,-0.013862654566765,-0.129581332206726,-0.054308019578457,-0.023945217952132,0.055737603455782,0.003826550208032));
res += mul(Get(s3,0,0), float4x4(0.066562704741955,0.075199723243713,-0.013202653266490,0.113820329308510,-0.000218693239731,-0.049205195158720,0.097292013466358,-0.074344538152218,-0.128181740641594,0.102296985685825,-0.056631848216057,0.010138925164938,-0.099316775798798,0.004221901763231,0.051826514303684,0.015361825935543));
res += mul(Get(s3,0,dy), float4x4(-0.008436201140285,0.079243920743465,-0.064812377095222,0.028318623080850,-0.052727054804564,-0.014609366655350,-0.049735087901354,0.117197714745998,-0.040485460311174,0.108096100389957,-0.051754646003246,-0.014659372158349,-0.061428308486938,0.009449231438339,0.060451354831457,0.014301314018667));
res += mul(Get(s3,dx,-dy), float4x4(0.066331140697002,-0.041094396263361,0.065730966627598,0.038339525461197,-0.072068043053150,0.023057546466589,0.002401900477707,0.071028515696526,-0.056645665317774,-0.007608695887029,-0.010427204892039,0.018126698210835,-0.042390402406454,0.044403903186321,0.070095449686050,-0.031370397657156));
res += mul(Get(s3,dx,0), float4x4(0.068562649190426,-0.055154215544462,0.124201841652393,0.029951000586152,0.116451211273670,-0.013662399724126,-0.046463321894407,0.036706063896418,0.028102222830057,-0.005553816445172,0.012924156151712,-0.033329892903566,-0.011666884645820,0.019102683290839,-0.072601959109306,-0.076634868979454));
res += mul(Get(s3,dx,dy), float4x4(-0.005188053473830,-0.120799854397774,0.051571864634752,-0.019235925748944,-0.155811309814453,0.075230367481709,-0.059173192828894,0.092235945165157,-0.034271296113729,-0.083266615867615,0.161395370960236,-0.010782075114548,0.019358787685633,0.078190565109253,-0.033310264348984,0.003399634733796));
return max(float4(0,0,0,0), res);
}
