sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.029805900529027,0.109072409570217,0.047169320285320,-0.006792300846428,0.015949221327901,-0.191778451204300,0.041861895471811,0.032402053475380,0.020983403548598,0.067816786468029,-0.096003204584122,-0.029022434726357,-0.067084327340126,-0.010640949942172,0.056609071791172,0.062421977519989));
res += mul(Get(s0,-dx,0), float4x4(0.157062858343124,0.164984077215195,-0.144772857427597,-0.053860776126385,-0.019283205270767,-0.119280494749546,0.186718448996544,0.047527085989714,0.065245263278484,0.052435137331486,-0.037853524088860,0.054043434560299,0.054540794342756,-0.096888788044453,0.020509410649538,-0.120596490800381));
res += mul(Get(s0,-dx,dy), float4x4(-0.021085798740387,0.009509409777820,-0.119198635220528,0.066357918083668,0.119062244892120,-0.088757939636707,-0.073711514472961,0.006115357391536,0.052404638379812,0.014839963987470,-0.055112607777119,-0.004647019784898,-0.054813817143440,-0.144483551383018,-0.017608616501093,-0.082020081579685));
res += mul(Get(s0,0,-dy), float4x4(0.074358314275742,0.069219283759594,-0.097983002662659,0.017531882971525,-0.130535915493965,-0.036429997533560,0.182280376553535,0.119870617985725,0.036636419594288,-0.117969170212746,-0.038257036358118,-0.052116122096777,0.096054121851921,0.067536085844040,-0.036203112453222,0.049371547996998));
res += mul(Get(s0,0,0), float4x4(0.138156473636627,-0.028560411185026,0.089246176183224,0.045709494501352,-0.170686513185501,0.158479392528534,-0.023425772786140,-0.073637999594212,-0.128750428557396,-0.064906194806099,-0.055308964103460,0.108105301856995,0.081004202365875,-0.113960310816765,-0.081412173807621,0.014957088045776));
res += mul(Get(s0,0,dy), float4x4(0.029472287744284,0.065091185271740,0.066883012652397,0.023104451596737,0.018898773938417,0.062720939517021,-0.095602832734585,-0.031939264386892,-0.007847219705582,0.056755390018225,0.030512541532516,0.055856574326754,0.102930746972561,0.014860500581563,-0.019117847084999,0.017040617763996));
res += mul(Get(s0,dx,-dy), float4x4(-0.059260152280331,0.106548421084881,-0.092440508306026,0.057956483215094,0.097408473491669,0.050192713737488,0.022298393771052,-0.025492465123534,0.002664760919288,0.044492401182652,0.069811664521694,0.104209601879120,0.099849924445152,0.043821956962347,0.017197793349624,0.098902896046638));
res += mul(Get(s0,dx,0), float4x4(0.050704199820757,0.097398430109024,0.000556706974749,0.110455043613911,0.014973286539316,0.081004723906517,0.025491144508123,-0.038515605032444,-0.046791922301054,-0.075088888406754,-0.019572095945477,-0.000245719042141,-0.010452063754201,-0.107629172503948,0.005289783235639,0.148085325956345));
res += mul(Get(s0,dx,dy), float4x4(-0.027439435943961,-0.047113962471485,-0.040383476763964,-0.021743910387158,-0.070437461137772,0.046334162354469,-0.011004454456270,-0.016386806964874,0.018497170880437,0.013536999002099,0.040154583752155,0.131982997059822,0.101690128445625,-0.025550872087479,0.033951494842768,0.053177155554295));
res += mul(Get(s1,-dx,-dy), float4x4(-0.090965583920479,-0.079684212803841,0.004715784452856,0.002358184661716,-0.108042031526566,-0.082480199635029,0.061733130365610,-0.120567195117474,-0.081205338239670,-0.006129821762443,0.006122584454715,-0.029270894825459,0.003918047528714,-0.054139580577612,-0.069991432130337,-0.073391348123550));
res += mul(Get(s1,-dx,0), float4x4(0.132204994559288,0.001966023584828,0.058228995651007,0.150883510708809,0.204913750290871,-0.097556889057159,-0.000267334427917,0.009470368735492,0.064746901392937,0.080585025250912,0.080038264393806,0.058535531163216,0.117923334240913,0.097495526075363,0.068127669394016,-0.002243354218081));
res += mul(Get(s1,-dx,dy), float4x4(-0.089424259960651,-0.035012666136026,-0.027505559846759,-0.005566982552409,-0.102817848324776,-0.080420732498169,-0.015803864225745,0.053515922278166,0.032064493745565,-0.061535604298115,0.063482575118542,0.046547677367926,0.071963764727116,0.004203050397336,-0.005980482324958,-0.026551386341453));
res += mul(Get(s1,0,-dy), float4x4(-0.002729621948674,-0.126324668526649,-0.014707232825458,-0.024620842188597,-0.000785125885159,-0.072057023644447,-0.062463533133268,0.050733271986246,0.127621918916702,0.085137970745564,0.039442028850317,-0.128189980983734,0.088761188089848,-0.077205508947372,0.086438320577145,-0.006504693534225));
res += mul(Get(s1,0,0), float4x4(-0.001643395749852,0.000291962642223,0.009834784083068,-0.043519929051399,-0.022824203595519,0.123484201729298,-0.146442353725433,0.130499094724655,-0.123598143458366,0.009568952955306,0.088193185627460,0.062483061105013,0.105656601488590,-0.048625737428665,-0.056013677269220,0.020063519477844));
res += mul(Get(s1,0,dy), float4x4(-0.052920434623957,0.000405354221584,-0.016560157760978,-0.056186690926552,-0.031250108033419,-0.016424484550953,0.074857495725155,-0.099832050502300,-0.041899669915438,-0.091510847210884,0.137907698750496,0.058575805276632,0.019444160163403,0.040928829461336,-0.066482700407505,-0.007779774256051));
res += mul(Get(s1,dx,-dy), float4x4(-0.063825555145741,-0.033400978893042,0.034182481467724,0.005990586243570,0.065473869442940,-0.006872023455799,0.002380545949563,0.090691588819027,-0.062936618924141,0.049889534711838,-0.107130430638790,-0.008429920300841,-0.060441911220551,0.113172523677349,0.035836063325405,-0.104002296924591));
res += mul(Get(s1,dx,0), float4x4(0.030392568558455,-0.025157539173961,-0.112887486815453,-0.053650170564651,-0.064282312989235,0.038904882967472,-0.094098314642906,-0.006148655433208,-0.024286579340696,0.081920012831688,0.043349664658308,-0.059704236686230,0.018988776952028,-0.012033076956868,-0.055639110505581,-0.034617766737938));
res += mul(Get(s1,dx,dy), float4x4(-0.059593442827463,-0.142297431826591,0.024096138775349,-0.122485399246216,0.294161915779114,-0.011389491148293,-0.129137933254242,-0.065723329782486,-0.002159057185054,0.101723179221153,0.001102013862692,-0.041607014834881,-0.114009529352188,0.059605550020933,-0.005028683692217,-0.029678149148822));
res += mul(Get(s2,-dx,-dy), float4x4(0.075709007680416,-0.030045427381992,-0.024883296340704,-0.114956885576248,-0.078537285327911,0.033392973244190,-0.012504982762039,-0.060873515903950,-0.057712983340025,0.027804786339402,-0.001421458087862,-0.048906784504652,0.099257983267307,0.048861194401979,-0.019431423395872,0.018528051674366));
res += mul(Get(s2,-dx,0), float4x4(-0.138646259903908,0.116572380065918,0.070862784981728,0.059980597347021,0.032047029584646,0.036427859216928,0.102949991822243,0.072477750480175,0.117251634597778,0.071941018104553,-0.095313765108585,-0.004129960667342,-0.037884615361691,-0.025204172357917,-0.066782847046852,0.051604267209768));
res += mul(Get(s2,-dx,dy), float4x4(-0.028768571093678,-0.054587054997683,0.028878211975098,-0.144149944186211,0.016174852848053,-0.051798496395350,-0.115115046501160,0.064408160746098,-0.030193340033293,-0.113789170980453,0.008371680043638,0.031658161431551,-0.058031458407640,0.038035988807678,0.026884254068136,-0.014706366695464));
res += mul(Get(s2,0,-dy), float4x4(0.005454527214170,0.106375060975552,-0.021568534895778,0.026890253648162,-0.022132914513350,-0.075655870139599,0.075978182256222,0.046404093503952,0.145611420273781,0.089527621865273,0.048498172312975,-0.040898963809013,0.069213859736919,0.055779591202736,0.038749046623707,0.008129840716720));
res += mul(Get(s2,0,0), float4x4(-0.007931350730360,-0.051894772797823,-0.043023422360420,-0.018943732604384,-0.031788591295481,0.028832139447331,-0.047119807451963,0.036448080092669,-0.007067892234772,0.029466215521097,0.031385611742735,-0.000847017858177,-0.104336872696877,-0.010567873716354,0.114208199083805,-0.037762675434351));
res += mul(Get(s2,0,dy), float4x4(0.146470353007317,0.058417033404112,-0.026755979284644,-0.024081436917186,-0.068603776395321,-0.080930069088936,-0.017169702798128,0.048139821738005,0.049546629190445,-0.044180110096931,-0.044332385063171,-0.017095493152738,-0.159391880035400,-0.032989148050547,-0.098691128194332,0.034682855010033));
res += mul(Get(s2,dx,-dy), float4x4(-0.007678514346480,-0.064428620040417,0.165854334831238,0.043315369635820,-0.124076433479786,-0.007068905048072,0.046279620379210,0.045534513890743,0.165983900427818,0.027235772460699,0.003706880612299,0.078098781406879,0.005879970733076,-0.037166669964790,-0.015781193971634,0.190687522292137));
res += mul(Get(s2,dx,0), float4x4(-0.042517229914665,0.086512275040150,-0.004407629836351,-0.019450688734651,-0.026046497747302,-0.193120434880257,-0.060673370957375,0.024925326928496,0.112752944231033,0.161029368638992,0.038283381611109,0.039849814027548,0.107728302478790,-0.034338086843491,0.026743823662400,-0.000463312695501));
res += mul(Get(s2,dx,dy), float4x4(0.040274694561958,-0.148944154381752,-0.013448730111122,-0.014947819523513,0.055095992982388,-0.139681994915009,0.029951896518469,0.041982423514128,-0.018778994679451,-0.053019158542156,0.030570335686207,0.081252470612526,0.044797223061323,-0.017224485054612,-0.008839697577059,0.000807024713140));
res += mul(Get(s3,-dx,-dy), float4x4(-0.063170909881592,0.048092819750309,0.104801803827286,0.028560690581799,-0.096461065113544,0.057811807841063,0.123945213854313,0.077501818537712,0.093075819313526,0.078393943607807,0.023559931665659,0.091634221374989,-0.016081428155303,0.068235330283642,-0.005412358790636,-0.087413385510445));
res += mul(Get(s3,-dx,0), float4x4(0.004893406294286,0.093117870390415,0.017336286604404,-0.141902908682823,0.070349328219891,0.044866524636745,0.040489796549082,0.041856918483973,0.008302367292345,0.131883785128593,-0.099344111979008,-0.043196253478527,-0.079502843320370,-0.009514028206468,-0.025076499208808,-0.138346925377846));
res += mul(Get(s3,-dx,dy), float4x4(-0.015620227903128,0.179384067654610,-0.161528795957565,0.047591984272003,0.123739935457706,-0.097769297659397,-0.028928902000189,0.094021476805210,0.080484136939049,-0.061188511550426,0.011796108447015,0.037720322608948,-0.109182201325893,0.078693374991417,-0.027323409914970,-0.100280746817589));
res += mul(Get(s3,0,-dy), float4x4(0.015953429043293,-0.169960483908653,0.016235344111919,-0.053377378731966,-0.109221950173378,0.043687898665667,-0.045056935399771,-0.091587595641613,0.046828839927912,0.012753742747009,-0.047624498605728,-0.025351626798511,-0.048220075666904,0.068854615092278,-0.076978497207165,-0.189957767724991));
res += mul(Get(s3,0,0), float4x4(0.144780322909355,-0.010954060591757,-0.107113301753998,0.004977973178029,0.090990982949734,0.035608064383268,0.000740073330235,-0.014821028336883,0.014054395258427,0.028022978454828,-0.001030045677908,-0.045013651251793,0.140280619263649,0.224369049072266,-0.070824556052685,0.045542515814304));
res += mul(Get(s3,0,dy), float4x4(0.203431293368340,0.069942221045494,0.060960832983255,-0.002355535747483,-0.028487646952271,0.144016280770302,0.085121095180511,-0.089664332568645,-0.079606950283051,-0.041068557649851,-0.005104082636535,-0.032976768910885,-0.024012876674533,-0.065933458507061,-0.048963148146868,0.004585168790072));
res += mul(Get(s3,dx,-dy), float4x4(0.102464839816093,0.088685296475887,0.022753426805139,0.005273445509374,-0.033445119857788,-0.080990813672543,0.128377422690392,0.007084361277521,0.006731127388775,0.159189149737358,-0.175709471106529,-0.094361603260040,0.069653198122978,0.073211535811424,-0.020342176780105,-0.069620437920094));
res += mul(Get(s3,dx,0), float4x4(-0.173724025487900,-0.010470232926309,-0.037982340902090,-0.070484668016434,-0.056995172053576,-0.036724224686623,-0.008103161118925,0.022916527464986,0.184068948030472,0.038731269538403,-0.016865257173777,0.102436549961567,0.087872542440891,0.036375626921654,0.042258609086275,-0.073478668928146));
res += mul(Get(s3,dx,dy), float4x4(0.015409186482430,-0.046881169080734,-0.048218298703432,0.022428406402469,0.095943771302700,-0.110148496925831,0.031418327242136,-0.048343464732170,0.083127662539482,-0.008642520755529,0.061489164829254,-0.156890466809273,-0.146940365433693,-0.089821092784405,0.012257498688996,-0.070144847035408));
return max(float4(0,0,0,0), res);
}
