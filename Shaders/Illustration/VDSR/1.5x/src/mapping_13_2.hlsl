sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.028030382469296,-0.006635158788413,-0.020951811224222,-0.022517289966345,0.029939036816359,0.042903229594231,0.000820773188025,0.082763507962227,0.002638241276145,-0.001612480380572,-0.040902834385633,0.040287438780069,-0.135222569108009,-0.002634423086420,-0.020180942490697,0.026086384430528));
res += mul(Get(s0,-dx,0), float4x4(0.053212124854326,0.071095921099186,0.041847351938486,-0.088342964649200,-0.040114149451256,0.045763045549393,-0.023863242939115,-0.033332258462906,-0.002218612236902,-0.024555405601859,0.055841386318207,0.093709729611874,0.014267395250499,0.016268411651254,-0.041011456400156,-0.077859014272690));
res += mul(Get(s0,-dx,dy), float4x4(-0.065977171063423,-0.050559077411890,0.012301144190133,0.073256939649582,-0.082142084836960,0.009417415596545,-0.028998341411352,-0.007439336739480,-0.071643635630608,0.001515496987849,-0.016600839793682,-0.034729633480310,-0.009138971567154,-0.025640618056059,-0.053004499524832,-0.107098318636417));
res += mul(Get(s0,0,-dy), float4x4(-0.002720367163420,0.039344981312752,-0.029651174321771,-0.027989704161882,0.065265871584415,0.090151436626911,0.017951169982553,0.031323067843914,-0.065973035991192,-0.054561447352171,-0.137258186936378,0.021619990468025,0.010387592948973,0.009105825796723,0.023362157866359,0.053977411240339));
res += mul(Get(s0,0,0), float4x4(-0.088944420218468,-0.004933110903949,-0.003958346787840,0.010133491829038,0.040614809840918,-0.029574777930975,0.037985395640135,-0.043487567454576,0.107708342373371,0.063270300626755,-0.092365279793739,-0.036090645939112,-0.058801393955946,-0.030419848859310,-0.089692264795303,-0.001507561304606));
res += mul(Get(s0,0,dy), float4x4(-0.007543761748821,0.090432241559029,0.032244410365820,0.075613431632519,0.048431433737278,0.098508410155773,0.150557264685631,0.018964497372508,0.018086502328515,-0.047275498509407,-0.081735342741013,0.102787710726261,-0.028330150991678,0.119609408080578,0.034181240946054,0.088209331035614));
res += mul(Get(s0,dx,-dy), float4x4(0.010555349290371,0.024822777137160,-0.018523745238781,0.016920216381550,0.031194088980556,-0.043821107596159,0.048532895743847,-0.038335911929607,-0.022432943806052,-0.074658632278442,-0.018967775627971,0.092572651803493,-0.069545641541481,-0.012387868948281,0.032968096435070,0.107718892395496));
res += mul(Get(s0,dx,0), float4x4(0.065453492105007,-0.014687656424940,-0.074819907546043,0.007809753995389,-0.051809608936310,-0.022019380703568,0.142681911587715,0.049959249794483,-0.054502736777067,-0.002852008678019,0.118339233100414,0.007786690723151,-0.058839641511440,-0.037879925221205,-0.067970730364323,0.068273700773716));
res += mul(Get(s0,dx,dy), float4x4(-0.018544387072325,-0.009560454636812,0.001944716088474,-0.036070253700018,0.034556642174721,0.076114751398563,0.044154182076454,0.019272578880191,-0.043018002063036,0.016730455681682,0.032306507229805,-0.020926153287292,-0.023162215948105,0.014214774593711,0.013882842846215,-0.013863684609532));
res += mul(Get(s1,-dx,-dy), float4x4(0.050213757902384,0.022823978215456,0.061676155775785,-0.063869982957840,0.070388972759247,-0.023848881945014,-0.056878253817558,-0.079370267689228,0.078224666416645,0.063007347285748,-0.022342270240188,-0.068521939218044,-0.001331668579951,0.050825878977776,-0.010383181273937,-0.004481446463615));
res += mul(Get(s1,-dx,0), float4x4(0.010965982452035,0.064212247729301,0.087775975465775,0.116972543299198,0.025152426213026,0.001621893141419,-0.033559698611498,-0.056401666253805,-0.069298379123211,0.021502392366529,-0.065335102379322,-0.146100506186485,0.057682901620865,-0.123879693448544,-0.032316457480192,-0.020048694685102));
res += mul(Get(s1,-dx,dy), float4x4(0.073658615350723,0.031008748337626,-0.028426352888346,0.010786482132971,0.035941842943430,0.045816663652658,-0.039970185607672,-0.021872576326132,0.004556884057820,-0.092616483569145,-0.089976422488689,-0.017577966675162,-0.025056013837457,0.022063631564379,0.024658419191837,-0.076627977192402));
res += mul(Get(s1,0,-dy), float4x4(0.090408280491829,0.095948256552219,0.083268664777279,-0.045185059309006,-0.011328800581396,0.008474633097649,0.051065832376480,-0.010709694586694,-0.011790900491178,0.033036004751921,-0.093874394893646,-0.032012078911066,-0.043416030704975,0.020512826740742,-0.112634405493736,0.078001737594604));
res += mul(Get(s1,0,0), float4x4(-0.009828352369368,-0.015037884935737,0.006345912348479,0.013850054703653,-0.110196590423584,0.023425579071045,0.069473735988140,0.082175731658936,-0.087392590939999,-0.031851466745138,0.024394683539867,-0.056190215051174,0.112628288567066,-0.067839339375496,-0.054577618837357,0.183334186673164));
res += mul(Get(s1,0,dy), float4x4(-0.010325475595891,0.096535980701447,-0.137134030461311,-0.084252312779427,0.000088001732365,-0.019141083583236,-0.010169645771384,-0.002586544491351,-0.007010475732386,-0.007084297481924,0.018796980381012,0.060758974403143,-0.029508065432310,0.093143232166767,0.111879281699657,-0.033690493553877));
res += mul(Get(s1,dx,-dy), float4x4(0.024968989193439,0.047641504555941,-0.074101455509663,0.078168816864491,-0.097206890583038,0.011673789471388,-0.020711909979582,-0.028812650591135,-0.007294898852706,0.067152254283428,-0.161700129508972,0.052023191004992,0.002071717754006,0.011761683970690,-0.039695218205452,-0.043343193829060));
res += mul(Get(s1,dx,0), float4x4(0.058166522532701,0.037004169076681,0.004221107345074,0.116428382694721,-0.022776126861572,-0.044810667634010,0.019206875935197,-0.001889401348308,-0.066823184490204,0.057421650737524,-0.139168322086334,-0.073176473379135,0.015927700325847,-0.072700709104538,0.004417247604579,-0.032612908631563));
res += mul(Get(s1,dx,dy), float4x4(0.000132717017550,-0.051134020090103,0.069076500833035,-0.142069756984711,0.103628523647785,-0.018066186457872,0.068478107452393,-0.040886733680964,-0.018321933224797,-0.055874802172184,-0.013361514545977,0.048894166946411,-0.001794488984160,-0.075544536113739,-0.048363931477070,-0.034540064632893));
res += mul(Get(s2,-dx,-dy), float4x4(0.052168883383274,-0.021366508677602,-0.047607276588678,0.059936325997114,0.048258315771818,-0.045287892222404,0.047927960753441,-0.051250822842121,0.000195014261408,0.113367713987827,0.116930663585663,0.026310464367270,0.001509755151346,0.080202192068100,-0.030212471261621,-0.032816018909216));
res += mul(Get(s2,-dx,0), float4x4(-0.068586304783821,0.084624603390694,-0.092269502580166,-0.139813691377640,-0.077109672129154,-0.026840191334486,-0.044938411563635,-0.078109666705132,0.024381235241890,0.039968099445105,0.007343666628003,0.001738031394780,-0.058196473866701,0.000393472611904,0.000281870510662,-0.077783823013306));
res += mul(Get(s2,-dx,dy), float4x4(0.092432364821434,-0.006229171529412,0.065585665404797,0.070007264614105,-0.006294326391071,0.020663022994995,0.010099272243679,-0.022701861336827,0.029054127633572,0.037092994898558,0.068115182220936,-0.056924838572741,-0.035382121801376,-0.019256589934230,0.085163973271847,0.016916761174798));
res += mul(Get(s2,0,-dy), float4x4(0.043551899492741,-0.049205414950848,0.037935309112072,0.082734957337379,-0.068086586892605,-0.007393532898277,-0.000125944163301,0.041540689766407,-0.020200850442052,0.052443437278271,-0.026308625936508,-0.115051835775375,-0.003519218415022,0.001647919067182,-0.012075758539140,-0.003055321983993));
res += mul(Get(s2,0,0), float4x4(0.002703940961510,-0.053030602633953,0.017044736072421,-0.146254003047943,-0.116469733417034,-0.065955720841885,0.084833987057209,-0.056804925203323,-0.086412429809570,-0.070528537034988,0.001761260326020,0.002213883213699,0.008780844509602,0.053715970367193,0.067929469048977,0.014946029521525));
res += mul(Get(s2,0,dy), float4x4(0.048890747129917,-0.044516623020172,0.028345504775643,0.039234109222889,0.065764725208282,-0.013657839037478,-0.054945074021816,0.023160047829151,0.031019078567624,0.044184911996126,-0.059749171137810,-0.057737912982702,-0.032463010400534,0.039539471268654,-0.004772949498147,-0.003346556797624));
res += mul(Get(s2,dx,-dy), float4x4(-0.077946610748768,-0.045123755931854,-0.094574317336082,-0.060284636914730,0.047720536589622,-0.010463563725352,-0.028438456356525,0.038259297609329,-0.004239494912326,-0.012858876958489,-0.112065687775612,0.019936216995120,-0.015707904472947,0.058033153414726,-0.048205304890871,0.039382126182318));
res += mul(Get(s2,dx,0), float4x4(-0.038389150053263,0.026482256129384,0.016047999262810,0.029010122641921,-0.005887371022254,-0.000537014449947,-0.094041340053082,0.016936395317316,-0.065924353897572,0.008094219490886,0.099271230399609,0.067886956036091,0.030510531738400,0.056915041059256,0.072631977498531,0.011870297603309));
res += mul(Get(s2,dx,dy), float4x4(0.031073424965143,0.016279613599181,-0.021919969469309,0.045357841998339,0.088572278618813,0.055496018379927,-0.087330430746078,0.053284503519535,-0.032326348125935,-0.077402725815773,0.004540408495814,-0.008697365410626,-0.066596902906895,0.011066107079387,-0.064926303923130,0.083775088191032));
res += mul(Get(s3,-dx,-dy), float4x4(0.016085876151919,-0.010942838154733,0.032467953860760,0.046324141323566,-0.013102267868817,0.003648659680039,0.164043664932251,0.042013660073280,0.075019724667072,-0.036445487290621,0.029046339914203,0.018874647095799,0.062652491033077,-0.036135144531727,0.076609276235104,-0.024246394634247));
res += mul(Get(s3,-dx,0), float4x4(0.005524115636945,0.043074913322926,0.065904662013054,-0.062703512609005,0.015038395300508,0.041911799460649,0.185045123100281,0.140602037310600,0.032456442713737,0.011107509955764,-0.005362608004361,0.006637777201831,0.018802370876074,-0.065820179879665,-0.018513346090913,0.002299478044733));
res += mul(Get(s3,-dx,dy), float4x4(-0.024014839902520,-0.017254482954741,0.007906628772616,0.048963785171509,-0.135639622807503,-0.148930698633194,0.255929052829742,0.132355868816376,0.044523131102324,-0.026181435212493,0.031028470024467,0.063446581363678,-0.058714181184769,0.005026950500906,0.047232486307621,0.055343151092529));
res += mul(Get(s3,0,-dy), float4x4(-0.019933162257075,-0.022583741694689,0.036166477948427,-0.056499753147364,-0.010376856662333,-0.080740362405777,0.075925022363663,0.070244178175926,0.179985731840134,0.018126744776964,-0.020444095134735,0.013601403683424,-0.039794579148293,0.023473035544157,-0.011674938723445,-0.034317452460527));
res += mul(Get(s3,0,0), float4x4(-0.020149298012257,0.033957187086344,0.073898561298847,-0.053177613765001,-0.011279142461717,0.059909641742706,-0.072492405772209,-0.222987547516823,-0.074997983872890,0.022414317354560,0.038213364779949,-0.009252835996449,0.018985932692885,-0.008665303699672,-0.018708812072873,-0.070505313575268));
res += mul(Get(s3,0,dy), float4x4(-0.013754915446043,0.029972817748785,0.006814368534833,0.010692836716771,-0.032040763646364,-0.031529467552900,-0.047251250594854,0.042716436088085,0.031668119132519,-0.027203604578972,-0.078244388103485,-0.048006288707256,0.050804555416107,-0.001820021076128,-0.016267281025648,-0.004035946447402));
res += mul(Get(s3,dx,-dy), float4x4(-0.030501492321491,0.011876350268722,0.002276151208207,-0.011548231355846,0.045574449002743,-0.042754601687193,0.107176780700684,-0.012444644235075,0.001584740588441,-0.105303697288036,0.008304741233587,-0.086868718266487,0.089345984160900,0.036687795072794,0.013056207448244,-0.041042417287827));
res += mul(Get(s3,dx,0), float4x4(0.021317686885595,-0.018106214702129,-0.014700481668115,0.000173703592736,-0.108688831329346,0.044332735240459,0.068823881447315,0.079668067395687,0.063929110765457,-0.029120203107595,0.009052855893970,-0.026644282042980,-0.105072386562824,-0.030971663072705,-0.076879687607288,0.083147332072258));
res += mul(Get(s3,dx,dy), float4x4(0.030022324994206,-0.039792913943529,-0.008768018335104,-0.043112501502037,-0.156516581773758,-0.086539052426815,0.045691702514887,0.152161285281181,0.068745300173759,-0.087474323809147,0.033262062817812,-0.027449790388346,-0.057190746068954,0.056736946105957,-0.021264623850584,0.053859718143940));
return max(float4(0,0,0,0), res);
}
