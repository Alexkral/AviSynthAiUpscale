sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.047823898494244,-0.027623677626252,-0.095959343016148,-0.058265462517738,-0.085501499474049,-0.025872085243464,-0.028743244707584,-0.110128030180931,0.028524445369840,-0.003245929721743,-0.034202095121145,-0.007104009855539,0.037602581083775,-0.022901305928826,-0.048810560256243,0.003527810331434));
res += mul(Get(s0,-dx,0), float4x4(-0.052734937518835,0.033424917608500,-0.095262087881565,-0.017799194902182,0.080982409417629,0.010416365228593,-0.005871986038983,0.003060170682147,0.011370217427611,0.029796546325088,0.010665244422853,-0.015399161726236,0.012234382331371,0.055284608155489,-0.010781739838421,-0.000724821293261));
res += mul(Get(s0,-dx,dy), float4x4(-0.034258488565683,0.175157278776169,-0.105563662946224,-0.009368291124701,-0.066617563366890,0.070208892226219,-0.015015692450106,0.004175863694400,-0.020356826484203,0.034168485552073,-0.050196606665850,0.057309739291668,0.025808941572905,0.026777584105730,-0.074795037508011,0.011077748611569));
res += mul(Get(s0,0,-dy), float4x4(0.000327125831973,-0.022404236719012,-0.043999541550875,0.086600527167320,-0.053579110652208,-0.037239566445351,-0.021083638072014,-0.110072173178196,-0.004092612769455,0.102775067090988,-0.007835570722818,-0.001122690970078,0.010589913465083,0.004366607405245,-0.052866354584694,-0.020568123087287));
res += mul(Get(s0,0,0), float4x4(0.153128758072853,-0.084217898547649,0.118977084755898,0.084161221981049,0.258493840694427,-0.004073308315128,-0.068092010915279,0.001250414061360,-0.067840792238712,0.050729129463434,0.030783675611019,-0.065040595829487,0.100780673325062,0.007739103399217,-0.057822715491056,-0.057575140148401));
res += mul(Get(s0,0,dy), float4x4(-0.003462673863396,-0.117466554045677,0.073942542076111,-0.020562086254358,-0.050677161663771,0.005854447372258,-0.054657667875290,-0.046567618846893,0.003441774751991,-0.047365877777338,0.014929567463696,0.128691688179970,0.010389109142125,0.018709959462285,0.000790265621617,-0.017789022997022));
res += mul(Get(s0,dx,-dy), float4x4(-0.015591121278703,-0.071403361856937,-0.077754527330399,-0.018712945282459,-0.059843890368938,-0.056644409894943,-0.037968046963215,-0.036400310695171,0.026644373312593,0.019070610404015,-0.028382439166307,0.004048034548759,-0.012829181738198,-0.067461207509041,0.034588962793350,0.027897991240025));
res += mul(Get(s0,dx,0), float4x4(-0.023181213065982,0.053093429654837,-0.038897644728422,-0.042991884052753,0.055390425026417,0.025247300043702,-0.039088480174541,-0.028722997754812,0.017388172447681,-0.004576126113534,0.097853228449821,-0.014940909110010,0.009710856713355,0.060570620000362,0.048921246081591,-0.033895686268806));
res += mul(Get(s0,dx,dy), float4x4(0.042522843927145,-0.062416855245829,-0.123137801885605,-0.038576763123274,0.012123051099479,0.010476137511432,-0.022460114210844,0.042070813477039,-0.029052486643195,0.123854249715805,-0.003829228226095,0.174282029271126,-0.012696803547442,-0.058895763009787,0.041767649352551,0.019813401624560));
res += mul(Get(s1,-dx,-dy), float4x4(-0.061078187078238,-0.079985067248344,-0.155820012092590,0.002112628426403,-0.003879317315295,-0.040136739611626,0.020522180944681,0.082727432250977,0.037902511656284,0.060814805328846,-0.001673131249845,0.023329621180892,-0.001327831065282,0.028044333681464,0.005832395050675,0.097007073462009));
res += mul(Get(s1,-dx,0), float4x4(-0.026335446164012,0.082052312791348,-0.179178714752197,0.001318374183029,0.070607304573059,-0.069559410214424,0.166010990738869,0.045730277895927,-0.062451332807541,0.029413241893053,0.006418740376830,-0.063472829759121,-0.074881985783577,-0.006847712676972,-0.000083997183538,0.002715831855312));
res += mul(Get(s1,-dx,dy), float4x4(-0.030789574608207,-0.012934964150190,-0.173062250018120,-0.095284342765808,0.042429532855749,-0.125639930367470,0.102238602936268,0.022763337939978,-0.043312769383192,0.083631373941898,0.036756567656994,-0.007819268852472,-0.037081345915794,-0.001277109724469,-0.005668770056218,-0.068780593574047));
res += mul(Get(s1,0,-dy), float4x4(0.023371566087008,0.034759271889925,0.131814628839493,-0.007741150446236,-0.060847666114569,-0.085003361105919,-0.037337560206652,-0.053848113864660,0.083404637873173,-0.020793577656150,-0.029572760686278,0.024585388600826,-0.142218291759491,0.114697836339474,0.001509412424639,0.124649688601494));
res += mul(Get(s1,0,0), float4x4(0.067614480853081,-0.014951545745134,0.240370854735374,-0.007715353276581,0.067175574600697,0.028513396158814,-0.019389022141695,-0.046891503036022,0.048432495445013,-0.071913368999958,-0.046783462166786,-0.082905262708664,0.052393540740013,0.094977006316185,-0.024025112390518,0.088792189955711));
res += mul(Get(s1,0,dy), float4x4(0.069916196167469,0.017186276614666,0.111022330820560,-0.037566997110844,0.021297672763467,0.066528856754303,-0.021340807899833,-0.071764543652534,0.073475748300552,-0.067647613584995,-0.107174590229988,-0.070275254547596,-0.017561104148626,-0.016471402719617,-0.046358067542315,-0.009329774416983));
res += mul(Get(s1,dx,-dy), float4x4(0.010789390653372,-0.024334076792002,-0.092352934181690,0.091267786920071,0.012416790239513,-0.059841316193342,-0.011992224492133,-0.012670914642513,0.017942817881703,0.027335103601217,-0.004058506339788,-0.036619640886784,-0.003530851332471,-0.006926656700671,-0.012435621581972,0.154239207506180));
res += mul(Get(s1,dx,0), float4x4(-0.037427488714457,0.094084843993187,-0.073872737586498,0.053536251187325,-0.020057210698724,0.007411858532578,0.085237830877304,-0.028963128104806,-0.062641330063343,-0.045071974396706,-0.017962461337447,-0.085913434624672,-0.000964232720435,0.037979718297720,0.061823084950447,0.118743091821671));
res += mul(Get(s1,dx,dy), float4x4(-0.094106920063496,0.058380737900734,-0.005829693283886,0.008212692104280,-0.037214435636997,-0.067459516227245,0.079305641353130,-0.025901334360242,0.016668369993567,0.062783904373646,0.003141649998724,-0.020681258291006,0.008366099558771,-0.037843786180019,-0.003868118859828,-0.043385051190853));
res += mul(Get(s2,-dx,-dy), float4x4(-0.052832249552011,0.094037070870399,-0.075970873236656,-0.008189380168915,0.043819732964039,0.098235480487347,-0.017918061465025,0.060537669807673,0.107126146554947,-0.025998953729868,0.089731059968472,-0.008154860697687,0.004769910126925,0.038060825318098,-0.033930338919163,-0.045467592775822));
res += mul(Get(s2,-dx,0), float4x4(-0.121008083224297,0.023299509659410,-0.041633181273937,0.072972781956196,0.041884638369083,0.009703684598207,0.164904788136482,-0.029568905010819,0.052016433328390,0.004800886847079,0.041424710303545,-0.035872869193554,0.008199282921851,0.058856159448624,-0.023278513923287,0.034967057406902));
res += mul(Get(s2,-dx,dy), float4x4(0.006849853321910,-0.010003612376750,-0.008124570362270,0.004068864043802,-0.005011979956180,-0.013413595966995,-0.032258942723274,-0.015849640592933,0.064843274652958,-0.002044426975772,0.009438285604119,-0.031858764588833,-0.018209856003523,-0.013119561597705,0.064090788364410,-0.064511604607105));
res += mul(Get(s2,0,-dy), float4x4(-0.129886358976364,0.105767294764519,0.039942182600498,-0.053637281060219,-0.049790102988482,0.061412718147039,0.008616480045021,0.040785484015942,0.089045956730843,-0.029479287564754,-0.036670379340649,0.032299246639013,0.004919235128909,-0.050813931971788,-0.051206592470407,-0.057000126689672));
res += mul(Get(s2,0,0), float4x4(-0.073205985128880,0.032969262450933,0.052947234362364,-0.030199820175767,0.080921165645123,-0.076582774519920,0.164210230112076,-0.032218355685472,0.059000864624977,-0.136910542845726,-0.033095538616180,0.009299118071795,-0.010869220830500,-0.059916011989117,-0.056731794029474,0.014195664785802));
res += mul(Get(s2,0,dy), float4x4(-0.091422431170940,0.085856720805168,-0.005795477423817,-0.107286311686039,0.065688125789165,-0.092444658279419,-0.022046312689781,-0.015230230987072,0.064519375562668,0.024141434580088,-0.028835352510214,-0.006345249712467,-0.004094049800187,0.015007259324193,-0.038667600601912,-0.042517546564341));
res += mul(Get(s2,dx,-dy), float4x4(-0.060617238283157,0.064724743366241,-0.016138894483447,0.013808215036988,0.020901001989841,0.027943136170506,0.050847090780735,-0.016785807907581,0.048448164016008,0.021339405328035,-0.050365202128887,-0.051417194306850,0.055236987769604,-0.041122369468212,0.045336339622736,-0.114890970289707));
res += mul(Get(s2,dx,0), float4x4(-0.027093153446913,-0.029617974534631,0.019120957702398,0.097491703927517,-0.008295646868646,0.038803387433290,0.179961115121841,-0.039968300610781,0.017962304875255,-0.029611039906740,-0.003937984816730,-0.086872518062592,0.063783943653107,-0.073625229299068,0.052143480628729,-0.051657937467098));
res += mul(Get(s2,dx,dy), float4x4(0.027718793600798,0.030918566510081,-0.004268229007721,-0.025730699300766,-0.003206119174138,-0.001923886477016,-0.000378164404538,-0.019847843796015,0.088926315307617,0.022919462993741,0.036517545580864,-0.034783352166414,-0.062052521854639,0.157164469361305,0.001272960333154,-0.057130251079798));
res += mul(Get(s3,-dx,-dy), float4x4(0.113266244530678,0.048444837331772,-0.026782514527440,-0.018431575968862,-0.001410232973285,0.052079081535339,0.001225704560056,0.023112196475267,-0.074905708432198,0.162578642368317,-0.023681845515966,0.081237398087978,0.020662730559707,0.019714884459972,-0.027878634631634,0.011361376382411));
res += mul(Get(s3,-dx,0), float4x4(-0.037721458822489,0.060350276529789,-0.187796801328659,0.132049053907394,-0.097677066922188,-0.014504370279610,0.029494496062398,0.012330628000200,-0.014187873341143,-0.018326383084059,-0.016204386949539,-0.055613964796066,-0.032506734132767,0.056256815791130,-0.053410109132528,-0.005546932108700));
res += mul(Get(s3,-dx,dy), float4x4(-0.034438345581293,0.036627471446991,0.051942169666290,0.131140395998955,0.003872861154377,-0.056125137954950,0.055014617741108,0.038152471184731,0.111652217805386,-0.034571010619402,-0.000986484694295,0.019914038479328,-0.134173929691315,-0.017887322232127,0.022003991529346,0.053247682750225));
res += mul(Get(s3,0,-dy), float4x4(0.027179231867194,0.011108336038888,0.050052203238010,-0.018358543515205,0.037791732698679,-0.020080802962184,-0.008385270833969,0.020458512008190,-0.010855330154300,-0.026433633640409,-0.020700011402369,0.049880299717188,0.016549261286855,-0.012041891925037,-0.040882695466280,-0.005313755013049));
res += mul(Get(s3,0,0), float4x4(-0.003794003510848,-0.051492821425200,0.158080741763115,0.089541956782341,-0.118232473731041,0.011747791431844,-0.030821964144707,0.032652717083693,0.087102092802525,0.042128551751375,-0.063694417476654,-0.071665726602077,-0.034812171012163,-0.027654353529215,-0.039433617144823,-0.073943734169006));
res += mul(Get(s3,0,dy), float4x4(-0.049764513969421,0.025887131690979,-0.002323048422113,-0.001032948959619,-0.086524635553360,0.121157512068748,-0.099884420633316,-0.015502111986279,0.041202083230019,0.042551636695862,-0.060039982199669,-0.031217882409692,-0.065620355308056,0.156206473708153,0.012347162701190,0.007821325212717));
res += mul(Get(s3,dx,-dy), float4x4(0.062551662325859,-0.037572428584099,-0.029294840991497,-0.024457778781652,-0.022536767646670,0.110678531229496,-0.141412109136581,-0.043296698480844,0.027987316250801,0.007807845715433,0.000723738863599,0.044019117951393,-0.025620581582189,0.083170838654041,-0.024621669203043,0.013546911068261));
res += mul(Get(s3,dx,0), float4x4(0.007158652413636,0.058600127696991,-0.005812044255435,0.078233003616333,-0.114406026899815,0.167358890175819,-0.018866464495659,-0.004925332032144,0.075293742120266,0.080191791057587,0.018774710595608,-0.027270857244730,0.010239977389574,-0.015192604623735,0.178621634840965,0.138422891497612));
res += mul(Get(s3,dx,dy), float4x4(-0.010760440491140,-0.040793959051371,-0.042021710425615,-0.047598272562027,-0.035473648458719,-0.052460789680481,0.066800810396671,-0.053983621299267,0.079824224114418,0.014146726578474,0.092290461063385,0.000418207026087,-0.026974588632584,-0.022249452769756,0.058686267584562,0.094770528376102));
return max(float4(0,0,0,0), res);
}
