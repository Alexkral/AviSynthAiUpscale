sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.145404100418091,0.086469404399395,0.037701837718487,-0.041254591196775,0.017910316586494,-0.001763548119925,0.040911301970482,-0.033119995146990,-0.022962808609009,0.136488363146782,0.004685909487307,-0.063123553991318,-0.007068613078445,0.102687805891037,0.129876136779785,-0.104465618729591));
res += mul(Get(s0,-dx,0), float4x4(0.043181642889977,0.010008969344199,-0.117518059909344,0.113944739103317,-0.102840676903725,0.096063844859600,-0.055423140525818,0.039408124983311,-0.129842281341553,0.022120201960206,-0.046487245708704,0.082681193947792,0.037394203245640,0.118937321007252,-0.034217096865177,0.114116206765175));
res += mul(Get(s0,-dx,dy), float4x4(0.092888385057449,-0.100099079310894,0.055097550153732,0.064485177397728,0.123564437031746,0.014215636067092,-0.101673983037472,-0.025876820087433,0.065610729157925,0.049996394664049,-0.001231631613337,-0.016093738377094,0.029546167701483,-0.079892501235008,0.023730346933007,0.116391070187092));
res += mul(Get(s0,0,-dy), float4x4(-0.071565374732018,0.091930530965328,-0.072144687175751,-0.005028566345572,-0.103608034551144,-0.031679976731539,0.088238373398781,-0.039052240550518,0.070197172462940,-0.016666404902935,0.040290992707014,0.025318888947368,0.056030627340078,0.064193822443485,0.054852258414030,-0.074917264282703));
res += mul(Get(s0,0,0), float4x4(0.000961119949352,-0.075941205024719,-0.068005502223969,0.037213638424873,-0.009642409160733,-0.001293193083256,0.070565581321716,0.114800639450550,0.148519858717918,-0.062554776668549,0.083875179290771,-0.065884105861187,0.033932495862246,-0.035015158355236,0.010462314821780,-0.107230052351952));
res += mul(Get(s0,0,dy), float4x4(0.097568377852440,-0.176186501979828,-0.093998692929745,-0.029834933578968,-0.058838121592999,-0.117920830845833,0.044614098966122,-0.143250778317451,0.021417364478111,0.035339843481779,-0.087977848947048,-0.047929551452398,-0.081790126860142,-0.053594689816236,0.023462215438485,-0.055368386209011));
res += mul(Get(s0,dx,-dy), float4x4(0.039786294102669,0.029802825301886,-0.071593821048737,-0.033391520380974,0.045463018119335,-0.119756072759628,-0.053961429744959,-0.065055444836617,-0.078456521034241,0.027518531307578,-0.074355863034725,-0.013988127931952,-0.081303857266903,-0.077930413186550,0.051396060734987,-0.033473186194897));
res += mul(Get(s0,dx,0), float4x4(-0.036443151533604,0.004710027948022,-0.091371595859528,0.017705699428916,-0.036878738552332,-0.081430785357952,0.023417450487614,-0.068995110690594,0.008003788068891,-0.027837630361319,-0.097688190639019,-0.027359124273062,0.047445733100176,-0.023728018626571,0.000527545111254,-0.098633505403996));
res += mul(Get(s0,dx,dy), float4x4(0.030699828639627,-0.043012399226427,-0.054203514009714,-0.007258053403348,0.102075353264809,-0.079800784587860,-0.067613460123539,0.164506778120995,0.053638856858015,-0.123971551656723,0.083704113960266,0.146364495158195,0.038590230047703,0.007697482593358,-0.054523929953575,0.065273515880108));
res += mul(Get(s1,-dx,-dy), float4x4(0.064102984964848,-0.110811673104763,0.115312807261944,-0.097686387598515,0.036546777933836,-0.059739563614130,0.022175686433911,0.043235223740339,-0.010106516070664,0.046375937759876,-0.024013670161366,0.036210715770721,0.135094985365868,-0.054037004709244,-0.064205229282379,0.034230846911669));
res += mul(Get(s1,-dx,0), float4x4(-0.038089402019978,-0.009589468128979,-0.036345522850752,-0.081929266452789,-0.070555813610554,-0.067983604967594,-0.062286674976349,-0.056822258979082,-0.051416479051113,0.009354304522276,0.012457869946957,-0.031048672273755,0.037634413689375,0.019205510616302,-0.065187230706215,-0.030144445598125));
res += mul(Get(s1,-dx,dy), float4x4(0.000582447682973,-0.117904469370842,0.008974085561931,0.000823595095426,-0.038793176412582,-0.134284824132919,-0.024762559682131,0.044270690530539,-0.060570888221264,-0.165927857160568,-0.046554386615753,-0.023416852578521,0.017794650048018,-0.090996474027634,0.030324772000313,-0.050504922866821));
res += mul(Get(s1,0,-dy), float4x4(0.049398977309465,-0.013323991559446,-0.027830170467496,-0.020392617210746,0.050786375999451,-0.043363314121962,-0.063873775303364,-0.045574195683002,-0.002090298337862,-0.086653895676136,-0.115244954824448,-0.105680443346500,0.088570773601532,-0.051466714590788,-0.097599305212498,0.070283375680447));
res += mul(Get(s1,0,0), float4x4(0.072254665195942,-0.070716604590416,0.104454331099987,-0.102221608161926,-0.129533618688583,0.048456199467182,-0.061483167111874,-0.195322260260582,-0.092874072492123,0.101008147001266,-0.081319205462933,-0.064223408699036,0.165728867053986,-0.046541702002287,-0.091525137424469,0.127884224057198));
res += mul(Get(s1,0,dy), float4x4(-0.000551181670744,0.074982888996601,0.105517312884331,-0.051728941500187,-0.045900750905275,0.002056586788967,-0.081480942666531,0.016083415597677,0.133595317602158,-0.016027063131332,0.009210286661983,0.098565936088562,0.083784818649292,0.012184389866889,-0.011463411152363,0.000789473648183));
res += mul(Get(s1,dx,-dy), float4x4(-0.097790017724037,-0.045356821268797,0.078098647296429,0.009418940171599,0.066311195492744,-0.080660097301006,-0.124424517154694,-0.092937506735325,0.037518586963415,-0.044429115951061,0.056207191199064,0.117581322789192,0.110345356166363,0.131397917866707,-0.165007725358009,0.064320050179958));
res += mul(Get(s1,dx,0), float4x4(0.002980146789923,-0.015518675558269,0.121614165604115,0.078547343611717,0.063528254628181,0.065191350877285,-0.075837783515453,-0.129992499947548,-0.056220013648272,0.014545125886798,-0.091332010924816,0.067040525376797,0.078838944435120,0.039292629808187,-0.066153377294540,-0.058336272835732));
res += mul(Get(s1,dx,dy), float4x4(-0.004536362364888,0.030845202505589,-0.094121471047401,-0.031513109803200,0.009186150506139,-0.012030987069011,-0.044309277087450,0.045946057885885,-0.040343947708607,0.038821477442980,0.020358338952065,-0.049962721765041,0.097988478839397,-0.063833594322205,-0.089696697890759,-0.004458359442651));
res += mul(Get(s2,-dx,-dy), float4x4(-0.035010017454624,-0.116833813488483,-0.117482252418995,-0.026591895148158,-0.017985831946135,-0.001334261614829,-0.071860045194626,-0.039055790752172,0.027557695284486,0.072786152362823,-0.056351847946644,0.026996022090316,0.012178449891508,-0.023499833419919,0.048240598291159,-0.141208320856094));
res += mul(Get(s2,-dx,0), float4x4(-0.095168396830559,-0.055527616292238,-0.044709350913763,0.095200501382351,0.050406336784363,-0.049463827162981,-0.016579523682594,0.058814350515604,0.108697816729546,-0.111923061311245,0.020060511305928,0.030040534213185,-0.042371936142445,0.051424905657768,-0.154482200741768,-0.013987354934216));
res += mul(Get(s2,-dx,dy), float4x4(-0.043856810778379,0.104979090392590,0.019802292808890,-0.032583139836788,0.069216705858707,-0.053303781896830,-0.087560266256332,-0.003559274831787,0.017277589067817,0.029923699796200,0.154398992657661,-0.060569729655981,0.115780606865883,0.021863901987672,0.063555717468262,0.070254802703857));
res += mul(Get(s2,0,-dy), float4x4(-0.069121584296227,0.035721011459827,-0.020384235307574,-0.003120548324659,-0.090898916125298,-0.052294161170721,-0.029579406604171,0.057759560644627,-0.061913777142763,-0.020861743018031,-0.045877896249294,0.060703806579113,-0.061864312738180,0.088894024491310,-0.007840539328754,0.029504325240850));
res += mul(Get(s2,0,0), float4x4(-0.027643444016576,-0.077024258673191,0.157310321927071,0.049997687339783,-0.002735144225881,0.141253009438515,-0.019487960264087,-0.092865288257599,-0.028395516797900,-0.077085398137569,0.023700334131718,0.087531402707100,0.045670311897993,0.098156198859215,-0.051925666630268,0.181739926338196));
res += mul(Get(s2,0,dy), float4x4(-0.102679342031479,0.094322346150875,-0.008636847138405,-0.016418294981122,-0.043386183679104,-0.141904696822166,0.147107809782028,-0.002896048827097,0.092741534113884,-0.006865598261356,-0.050450690090656,0.053531698882580,-0.004234426189214,-0.035757686942816,-0.036732044070959,-0.004525437485427));
res += mul(Get(s2,dx,-dy), float4x4(-0.013512301258743,-0.055725872516632,-0.062511503696442,-0.071749217808247,-0.008492700755596,0.071837320923805,0.035642549395561,-0.075633205473423,-0.085563316941261,-0.018330702558160,0.070906095206738,-0.012619556859136,0.033377993851900,-0.017955044284463,0.065455950796604,0.049473010003567));
res += mul(Get(s2,dx,0), float4x4(-0.122426927089691,-0.002159586409107,0.059901110827923,-0.009507260285318,-0.028943331912160,-0.033019822090864,-0.088828273117542,0.004623742308468,0.006980733945966,0.010759483091533,0.033779654651880,-0.104259945452213,0.039718285202980,0.075489044189453,0.124744817614555,0.021391533315182));
res += mul(Get(s2,dx,dy), float4x4(0.004191439598799,-0.047197051346302,0.054474219679832,-0.036081627011299,-0.063989013433456,0.038567975163460,-0.106036745011806,-0.074007131159306,0.097700655460358,0.028304595500231,0.049888446927071,-0.000891121046152,-0.013494424521923,0.140169113874435,0.071017131209373,-0.053463574498892));
res += mul(Get(s3,-dx,-dy), float4x4(-0.053270313888788,0.089014902710915,0.126826971769333,0.002755389083177,0.168700799345970,-0.045403935015202,-0.032874152064323,-0.027719357982278,-0.084565140306950,-0.001993007492274,0.109291285276413,0.026187196373940,-0.022429382428527,0.014100895263255,-0.114690594375134,0.072026789188385));
res += mul(Get(s3,-dx,0), float4x4(0.039017971605062,-0.004678323864937,-0.042192339897156,-0.038324989378452,-0.025903254747391,-0.026186894625425,0.045316498726606,0.070319168269634,-0.105148479342461,0.033568345010281,0.100168034434319,-0.088474079966545,0.170025333762169,0.011730890721083,0.025317033752799,-0.117808774113655));
res += mul(Get(s3,-dx,dy), float4x4(-0.009205723181367,0.011893304064870,-0.105301216244698,-0.058362234383821,-0.072678796947002,0.005259878467768,-0.050161931663752,-0.109559029340744,0.223985806107521,0.022801233455539,-0.036554936319590,0.007654021494091,0.072310432791710,0.055704478174448,0.002666339045390,0.015129230916500));
res += mul(Get(s3,0,-dy), float4x4(0.027891721576452,0.114453315734863,-0.018774526193738,-0.046226665377617,0.120956398546696,-0.024696331471205,0.001728893839754,-0.200577169656754,-0.036671228706837,-0.000909744005185,0.058646764606237,0.006180324591696,0.060678277164698,0.017379892989993,0.039537414908409,0.021772934123874));
res += mul(Get(s3,0,0), float4x4(0.077441833913326,-0.080318689346313,-0.056039329618216,-0.020003402605653,0.004609290044755,-0.092943243682384,0.086105860769749,-0.025630846619606,0.152998790144920,-0.057589806616306,-0.100347161293030,0.060253519564867,0.028496498242021,-0.103715620934963,0.010721107013524,0.075043283402920));
res += mul(Get(s3,0,dy), float4x4(0.052344456315041,-0.021881842985749,-0.056267820298672,0.180617466568947,-0.020424384623766,-0.030970852822065,-0.020437231287360,0.033333968371153,-0.034555304795504,-0.126486256718636,-0.013081518933177,0.001218786812387,0.106384441256523,0.045420318841934,0.069764621555805,-0.067710250616074));
res += mul(Get(s3,dx,-dy), float4x4(0.034520905464888,-0.054884403944016,-0.029658101499081,-0.033396903425455,0.078524760901928,-0.019463537260890,0.051612500101328,-0.208515688776970,-0.122253894805908,-0.064686127007008,-0.093856796622276,0.050922341644764,0.102127358317375,-0.076759248971939,-0.080761760473251,-0.001476302160881));
res += mul(Get(s3,dx,0), float4x4(-0.052928693592548,0.098049439489841,-0.107708573341370,-0.057309001684189,-0.082386054098606,-0.095456570386887,-0.027171757072210,0.023819748312235,0.186530634760857,-0.043444052338600,-0.138831630349159,0.145656779408455,0.084380254149437,-0.034889042377472,0.053884726017714,0.074997238814831));
res += mul(Get(s3,dx,dy), float4x4(0.023429520428181,-0.087361477315426,-0.058889087289572,-0.061897620558739,-0.109965331852436,-0.091845586895943,0.019994856789708,0.092696137726307,-0.019268618896604,-0.027855530381203,-0.066914856433868,-0.079512692987919,0.090450063347816,-0.053459245711565,0.001123054069467,0.011222794651985));
return max(float4(0,0,0,0), res);
}
