sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.083548866212368,-0.015539991669357,-0.043351422995329,0.007607273291796,-0.137536332011223,-0.036462761461735,0.005452436860651,-0.142357304692268,-0.058786783367395,-0.022118207067251,-0.015680734068155,0.032436389476061,-0.037763699889183,0.050796907395124,0.033212181180716,-0.010536077432334));
res += mul(Get(s0,-dx,0), float4x4(0.039587918668985,0.023571716621518,-0.036917250603437,-0.015968386083841,-0.117744438350201,0.009956330060959,-0.039059072732925,0.020793277770281,-0.120534844696522,0.031561363488436,0.065835595130920,0.013932714238763,-0.006464653648436,-0.006305456627160,-0.008468979038298,0.020221829414368));
res += mul(Get(s0,-dx,dy), float4x4(0.057697981595993,-0.055575408041477,-0.040745366364717,0.021886160597205,0.032621741294861,-0.078557990491390,0.022306283935905,0.121500708162785,-0.036647249013186,0.006335185840726,-0.059144217520952,-0.065699987113476,-0.022753877565265,0.027199029922485,0.037046507000923,0.105670630931854));
res += mul(Get(s0,0,-dy), float4x4(0.063560672104359,-0.031667102128267,0.002996028866619,0.038001637905836,0.107727997004986,0.079329997301102,-0.002447725273669,0.028513371944427,0.126560434699059,0.068999975919724,0.031091457232833,0.039677441120148,-0.011223825626075,-0.029165487736464,0.049443259835243,-0.019147612154484));
res += mul(Get(s0,0,0), float4x4(-0.000015711202650,0.124839775264263,0.052420116961002,-0.016110135242343,0.169818878173828,-0.006700680125505,0.027493409812450,-0.085529595613480,0.118928097188473,-0.029084285721183,-0.041268005967140,-0.042526409029961,0.041367601603270,0.049141481518745,-0.024593386799097,-0.044369563460350));
res += mul(Get(s0,0,dy), float4x4(0.008454111404717,0.058982130140066,0.076024793088436,-0.062348727136850,0.005124239251018,-0.016046851873398,0.003411373822019,0.048223745077848,-0.021116193383932,0.073695354163647,-0.055150013417006,0.065940231084824,-0.061464034020901,0.012318138964474,0.044287383556366,0.055520620197058));
res += mul(Get(s0,dx,-dy), float4x4(0.001179081853479,-0.009342138655484,0.026160405948758,0.011092489585280,0.119065620005131,0.031179094687104,0.052911382168531,0.107412166893482,-0.077716991305351,-0.027304783463478,-0.027398144826293,-0.002012578304857,-0.059667706489563,0.030346080660820,-0.061198331415653,-0.054258119314909));
res += mul(Get(s0,dx,0), float4x4(0.135025292634964,-0.027996376156807,-0.083710953593254,0.078807756304741,0.157921284437180,-0.102934487164021,-0.051329310983419,0.130560830235481,-0.033046267926693,0.031293965876102,-0.029862189665437,0.015656741335988,0.091922476887703,-0.056064248085022,-0.055238083004951,-0.084045410156250));
res += mul(Get(s0,dx,dy), float4x4(0.034658119082451,-0.012931996025145,-0.055993668735027,-0.016184179112315,-0.073444277048111,-0.057545423507690,0.052819374948740,-0.027964500710368,0.080971777439117,-0.027569388970733,-0.017331419512630,0.017477085813880,0.042268704622984,-0.011578770354390,-0.116076059639454,0.037896055728197));
res += mul(Get(s1,-dx,-dy), float4x4(0.065142877399921,0.004962594248354,-0.012336776591837,0.003407630603760,0.027503112331033,0.012809810228646,-0.047715350985527,0.005129578523338,-0.064619794487953,0.003330875653774,-0.036801952868700,-0.116511411964893,-0.034265130758286,0.005423312541097,0.042245876044035,-0.052171844989061));
res += mul(Get(s1,-dx,0), float4x4(-0.027578260749578,0.000066096370574,0.058654893189669,-0.019176319241524,0.030001372098923,0.013461160473526,0.054767820984125,-0.014512070454657,-0.083233967423439,-0.020721985027194,-0.035718102008104,0.059825465083122,0.009707831777632,-0.089146524667740,0.064351320266724,-0.010879171080887));
res += mul(Get(s1,-dx,dy), float4x4(-0.043321330100298,0.097720541059971,0.030922582373023,0.044192086905241,0.016056491062045,0.021591976284981,-0.026011401787400,-0.062110934406519,-0.052951719611883,-0.078453838825226,0.017942517995834,-0.047664333134890,-0.160399302840233,-0.059496816247702,-0.052821516990662,-0.021347828209400));
res += mul(Get(s1,0,-dy), float4x4(0.015411251224577,0.007564932107925,-0.002982358913869,-0.043555382639170,-0.024690350517631,0.101025514304638,-0.073108285665512,-0.021451383829117,-0.081781618297100,0.171422913670540,-0.023464621976018,0.046541884541512,0.039897248148918,0.086512245237827,0.021887211129069,0.037668786942959));
res += mul(Get(s1,0,0), float4x4(-0.002696989336982,-0.002960791578516,-0.020854983478785,-0.159635066986084,0.071285352110863,0.039731342345476,0.063627012073994,-0.050359912216663,0.085652567446232,0.142068386077881,-0.051579769700766,-0.070360973477364,0.178358495235443,0.099220134317875,-0.009175429120660,-0.056531563401222));
res += mul(Get(s1,0,dy), float4x4(0.003250203561038,-0.046556320041418,0.033574532717466,0.072515644133091,0.055090814828873,0.017491212114692,0.063053995370865,-0.075632922351360,0.119837932288647,0.060195446014404,0.007945830002427,0.089675836265087,-0.018782176077366,0.110076777637005,-0.019520057365298,0.008834103122354));
res += mul(Get(s1,dx,-dy), float4x4(0.092047877609730,-0.008748441934586,-0.027510503306985,0.024196043610573,0.034776270389557,0.017469448968768,-0.127043649554253,0.023038404062390,0.115210503339767,-0.089654020965099,0.007491090334952,0.039408750832081,-0.036977861076593,-0.027717737480998,0.028582762926817,0.048594810068607));
res += mul(Get(s1,dx,0), float4x4(0.038179185241461,0.066243276000023,-0.026156224310398,0.017666865140200,-0.037264242768288,0.013544130139053,0.072212487459183,0.077710449695587,0.063913203775883,-0.011796677485108,-0.043148722499609,0.081150248646736,0.179636761546135,-0.071519762277603,-0.001525746542029,0.012306816875935));
res += mul(Get(s1,dx,dy), float4x4(0.084212154150009,0.011891831643879,0.079589486122131,0.104471698403358,-0.067831620573997,0.029000278562307,-0.056612990796566,0.054799370467663,0.003262771526352,-0.006784141529351,0.008258034475148,-0.063455492258072,-0.105112373828888,-0.051572714000940,-0.036349054425955,0.183006286621094));
res += mul(Get(s2,-dx,-dy), float4x4(-0.183594882488251,-0.034751731902361,-0.041791357100010,-0.103197567164898,0.069809697568417,0.019250757992268,-0.035314027220011,0.039135713130236,-0.023537203669548,-0.031224269419909,-0.094240233302116,0.030977493152022,-0.027164885774255,0.037415560334921,-0.052848916500807,-0.009296455420554));
res += mul(Get(s2,-dx,0), float4x4(0.094625204801559,0.027882408350706,-0.062507450580597,-0.027638986706734,0.091073729097843,-0.048766206949949,-0.014801674522460,0.063835717737675,-0.004668091423810,-0.007395478431135,-0.089932791888714,0.053857479244471,-0.053630519658327,-0.029092028737068,-0.074605859816074,-0.082247510552406));
res += mul(Get(s2,-dx,dy), float4x4(0.013440892100334,-0.078986667096615,-0.051527224481106,0.024614060297608,0.045013949275017,-0.066413417458534,0.088779836893082,0.040833868086338,0.026364162564278,0.048385426402092,-0.050852548331022,-0.014651106670499,0.019436644390225,0.014485712163150,-0.029409818351269,0.028998192399740));
res += mul(Get(s2,0,-dy), float4x4(-0.131124496459961,0.100488826632500,-0.023785477504134,0.092073418200016,-0.020330891013145,-0.004036207683384,-0.071832284331322,-0.015499945729971,0.076340340077877,-0.102538838982582,-0.109582342207432,-0.004954498726875,-0.014122107066214,-0.081346526741982,0.010532480664551,-0.017881125211716));
res += mul(Get(s2,0,0), float4x4(0.018069727346301,-0.008048404939473,0.071625627577305,-0.015140714123845,-0.107034899294376,0.000382595841074,0.046174466609955,-0.037460654973984,-0.026297209784389,-0.072825372219086,-0.107020191848278,-0.018044006079435,0.072762005031109,-0.035533133894205,-0.027633143588901,0.023832922801375));
res += mul(Get(s2,0,dy), float4x4(0.093775883316994,-0.008507989346981,-0.018339166417718,-0.063587345182896,0.074348278343678,-0.042373869568110,-0.004593224264681,0.056629221886396,-0.043895218521357,-0.088541306555271,0.028293408453465,0.026324274018407,0.056365910917521,-0.000512414204422,0.045290466398001,0.076335936784744));
res += mul(Get(s2,dx,-dy), float4x4(-0.021545857191086,0.058251872658730,-0.014905106276274,0.070488311350346,0.151818737387657,-0.075072355568409,-0.039961364120245,-0.014921289868653,0.008322039619088,-0.015139680355787,0.033060111105442,-0.023799650371075,0.064234264194965,-0.021485749632120,-0.002604002831504,-0.012085480615497));
res += mul(Get(s2,dx,0), float4x4(0.011478918604553,0.022065555676818,0.002405640203506,0.068781897425652,-0.006409893278033,0.065214730799198,-0.036246672272682,0.110289424657822,0.022774869576097,0.092223040759563,0.007019189186394,-0.009488795883954,0.001958553912118,0.066860429942608,-0.020514173433185,-0.009162320755422));
res += mul(Get(s2,dx,dy), float4x4(-0.000627508386970,0.012965627945960,-0.075416468083858,0.059762082993984,0.074573151767254,-0.059286184608936,0.014136737212539,-0.049658436328173,-0.029184779152274,-0.103033974766731,-0.031636506319046,0.113786309957504,-0.031130841001868,-0.117055021226406,-0.019225977361202,0.114575207233429));
res += mul(Get(s3,-dx,-dy), float4x4(0.043394956737757,0.018341204151511,0.013531867414713,-0.027007373049855,-0.107170894742012,0.097954660654068,0.053225137293339,-0.012942639179528,0.041248321533203,0.096295706927776,0.046604901552200,0.145235240459442,0.067239172756672,0.015713982284069,0.008760936558247,-0.034658066928387));
res += mul(Get(s3,-dx,0), float4x4(0.022363761439919,-0.022901982069016,0.070842824876308,-0.021048063412309,0.103728234767914,0.016155956313014,-0.063615158200264,-0.037818200886250,0.187853246927261,-0.056274186819792,0.040263995528221,0.002787673845887,-0.050344459712505,0.040181126445532,-0.043847247958183,0.020365189760923));
res += mul(Get(s3,-dx,dy), float4x4(0.006172448396683,0.025984765961766,0.023224558681250,0.045506108552217,-0.043167579919100,0.022570295259356,0.068195752799511,-0.027799358591437,0.026645543053746,-0.038102887570858,-0.021120587363839,-0.092915795743465,0.069488912820816,-0.009436859749258,-0.070901028811932,-0.026049604639411));
res += mul(Get(s3,0,-dy), float4x4(0.049475092440844,0.033421523869038,0.036912444978952,0.030242204666138,-0.054743766784668,0.012801693752408,-0.027384402230382,0.102090403437614,0.251264959573746,0.029564285650849,-0.042882524430752,-0.051341980695724,0.027264911681414,-0.034347981214523,-0.047567907720804,0.045765385031700));
res += mul(Get(s3,0,0), float4x4(0.015677129849792,-0.061855774372816,-0.097628057003021,0.035486064851284,0.011787145398557,-0.011758184991777,0.030201626941562,-0.018035149201751,0.192633062601089,-0.089922077953815,-0.022988097742200,0.055234599858522,-0.040528740733862,0.006078943144530,0.007694303523749,0.005614342167974));
res += mul(Get(s3,0,dy), float4x4(0.051895484328270,-0.020565284416080,0.070726685225964,0.012375091202557,-0.014532424509525,-0.020768010988832,-0.051513373851776,0.091722063720226,0.025883767753839,-0.067778602242470,-0.010074962861836,-0.109052807092667,-0.030739927664399,-0.003915280569345,-0.019715085625648,-0.077144436538219));
res += mul(Get(s3,dx,-dy), float4x4(0.037972807884216,-0.017635529860854,0.019195932894945,0.111280582845211,-0.037881970405579,-0.017539847642183,0.007776240818202,-0.030172051861882,0.045317746698856,-0.024314710870385,-0.012965092435479,-0.003607937600464,0.066767171025276,-0.011757069267333,-0.049936331808567,0.028805471956730));
res += mul(Get(s3,dx,0), float4x4(-0.035205844789743,0.024937827140093,0.036787856370211,-0.030627995729446,-0.002088434994221,-0.024594563990831,-0.038319230079651,0.071903087198734,-0.071566797792912,0.008708143606782,-0.097372837364674,0.170776560902596,0.032508004456758,-0.029708640649915,0.074664928019047,0.090317271649837));
res += mul(Get(s3,dx,dy), float4x4(-0.058040071278811,-0.046000309288502,-0.079993955790997,0.041725169867277,-0.032817836850882,0.016475355252624,-0.059531129896641,-0.000083321872808,-0.102147035300732,-0.063400156795979,-0.035064186900854,-0.031141597777605,-0.029205884784460,-0.008630298078060,0.061043437570333,-0.040282100439072));
return max(float4(0,0,0,0), res);
}
