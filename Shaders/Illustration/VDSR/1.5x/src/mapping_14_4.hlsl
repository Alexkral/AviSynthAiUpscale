sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.059850644320250,-0.052090425044298,0.053790520876646,0.031651355326176,0.002631749026477,-0.041514057666063,0.030765147879720,0.009145134128630,0.024842109531164,0.037851013243198,-0.047537069767714,-0.065934948623180,-0.039147332310677,-0.049744937568903,-0.051884375512600,-0.011663969606161));
res += mul(Get(s0,-dx,0), float4x4(0.051888298243284,0.034435816109180,-0.093307584524155,0.131523430347443,0.019599920138717,0.043779134750366,0.014397305436432,-0.079971455037594,-0.046756684780121,0.032060168683529,-0.022804101929069,-0.023128803819418,-0.022928763180971,0.065845161676407,0.034859720617533,0.073083437979221));
res += mul(Get(s0,-dx,dy), float4x4(0.008790514431894,-0.038568262010813,-0.076444260776043,-0.026789441704750,-0.075186014175415,0.010885803960264,0.063582696020603,0.034069590270519,-0.047532115131617,-0.007627569604665,-0.023801647126675,0.060699570924044,-0.030744694173336,-0.083533950150013,-0.003502039471641,0.041551601141691));
res += mul(Get(s0,0,-dy), float4x4(0.050445433706045,0.182487338781357,-0.111195221543312,0.124063715338707,-0.039417486637831,-0.033787138760090,0.078462146222591,0.002669267356396,0.005518419668078,-0.017564272508025,-0.062791392207146,0.011599577032030,-0.023252967745066,-0.048028003424406,0.114674374461174,-0.068805001676083));
res += mul(Get(s0,0,0), float4x4(0.004152376204729,-0.115845009684563,-0.004763652570546,-0.009082517586648,-0.011750164441764,0.092726059257984,0.033797506242990,-0.030278252437711,-0.058751262724400,-0.066352702677250,-0.104082338511944,0.060890596359968,-0.033060736954212,0.087875053286552,-0.011651308275759,-0.123568557202816));
res += mul(Get(s0,0,dy), float4x4(0.003864609403536,0.020912790670991,-0.077134266495705,-0.072798617184162,0.008604096248746,-0.019668662920594,0.103277504444122,0.105954438447952,-0.017228176817298,0.167974025011063,-0.039479851722717,0.005154264625162,0.007641443051398,-0.011814467608929,-0.012616179883480,0.049664631485939));
res += mul(Get(s0,dx,-dy), float4x4(0.017224796116352,0.015581466257572,-0.034266427159309,-0.050755579024553,0.005514263641089,-0.008615839295089,-0.014040797948837,0.011373301036656,0.033080764114857,0.000150575142470,0.047597888857126,-0.008617701008916,0.020898558199406,0.015161317773163,0.065464422106743,0.005079229827970));
res += mul(Get(s0,dx,0), float4x4(0.122820682823658,-0.050035357475281,-0.006103899329901,0.075471989810467,-0.018896799534559,0.033513475209475,-0.022387381643057,0.075614839792252,0.035521958023310,0.017499843612313,0.137986227869987,0.022806286811829,0.051522765308619,-0.001630224171095,0.174630492925644,-0.032848462462425));
res += mul(Get(s0,dx,dy), float4x4(-0.002741883276030,-0.071404412388802,-0.001458726939745,0.007049598731101,0.004384466912597,0.006744590122253,0.000279475614661,0.104169182479382,-0.035941265523434,0.024453204125166,0.051758002489805,-0.016958253458142,0.082905292510986,0.003431788878515,0.077877320349216,-0.085992835462093));
res += mul(Get(s1,-dx,-dy), float4x4(0.006256582681090,0.015931008383632,-0.052650030702353,-0.048334777355194,-0.027203945443034,-0.042607430368662,-0.007550889626145,-0.033986959606409,0.015424662269652,-0.048502810299397,-0.011701039038599,0.070830255746841,-0.018364017829299,-0.010207055136561,-0.079383797943592,-0.051184240728617));
res += mul(Get(s1,-dx,0), float4x4(0.013933256268501,-0.001887950464152,-0.080242469906807,-0.013834864832461,0.027243800461292,0.065174356102943,-0.026681737974286,-0.089774467051029,0.071980141103268,0.011800575070083,-0.084690973162651,0.286946207284927,0.025089839473367,0.053654100745916,-0.064893923699856,0.074142448604107));
res += mul(Get(s1,-dx,dy), float4x4(0.021656671538949,0.004470751620829,-0.028859764337540,-0.009909690357745,-0.072465278208256,-0.006915694568306,-0.022833401337266,0.077040039002895,0.043893489986658,0.101084642112255,-0.027671335265040,0.107653558254242,0.010670723393559,0.004987975116819,-0.023600116372108,0.081618160009384));
res += mul(Get(s1,0,-dy), float4x4(-0.073016330599785,-0.102293848991394,-0.066890366375446,-0.079661928117275,-0.008598500862718,0.132536888122559,-0.129001840949059,0.079329870641232,-0.017698304727674,0.028643146157265,0.011665273457766,-0.028280543163419,-0.023999374359846,0.035675086081028,0.138261660933495,-0.122043356299400));
res += mul(Get(s1,0,0), float4x4(-0.023410668596625,0.196371763944626,-0.029957324266434,-0.177247196435928,-0.042035065591335,-0.096414186060429,-0.026043921709061,0.045799277722836,-0.007608749903738,0.039520997554064,-0.008465697988868,-0.061198364943266,0.022307155653834,0.090026140213013,0.002152255736291,0.042262349277735));
res += mul(Get(s1,0,dy), float4x4(-0.007533026859164,-0.136138722300529,0.038530368357897,0.058899875730276,-0.080251730978489,0.084910847246647,-0.009241193532944,0.031505879014730,0.086363874375820,0.048586070537567,0.045964036136866,-0.057935521006584,-0.024216989055276,-0.116206668317318,0.030225079506636,0.000700868433341));
res += mul(Get(s1,dx,-dy), float4x4(-0.026117743924260,-0.051425952464342,0.044791027903557,0.000553760211915,-0.002527921926230,0.162787675857544,-0.111148715019226,0.027699841186404,0.002320270519704,-0.007138543762267,0.017884444445372,-0.060390867292881,0.028851768001914,-0.016026441007853,-0.032430332154036,0.050115216523409));
res += mul(Get(s1,dx,0), float4x4(0.017690559849143,0.100396551191807,-0.006843992974609,0.001409395830706,-0.042270313948393,-0.002745232777670,-0.050137262791395,0.018262069672346,0.068008601665497,-0.007368273567408,0.086235769093037,-0.075225636363029,0.020594511181116,0.061913419514894,-0.006230841390789,0.083069197833538));
res += mul(Get(s1,dx,dy), float4x4(0.051137086004019,-0.027862913906574,0.007655328139663,0.008849386125803,-0.071838743984699,0.085950084030628,0.005392959341407,0.032773327082396,0.024926019832492,0.034909468144178,-0.004602772649378,-0.032989650964737,-0.039927139878273,-0.030237078666687,0.035392269492149,0.039139475673437));
res += mul(Get(s2,-dx,-dy), float4x4(0.046165324747562,0.002399425487965,-0.025418475270271,0.172642812132835,0.021271530538797,0.048790108412504,0.001513013616204,0.065073445439339,0.024232374504209,0.034917116165161,0.035497810691595,-0.049460262060165,0.005956938490272,0.043909877538681,-0.019546983763576,-0.019597033038735));
res += mul(Get(s2,-dx,0), float4x4(-0.021507192403078,0.006461835000664,-0.094925560057163,0.137000188231468,-0.013880911283195,-0.000532317149919,-0.004535745829344,0.044673316180706,0.048770863562822,0.008962992578745,0.067644730210304,0.012198947370052,-0.019324874505401,0.012105372734368,-0.055716227740049,-0.061538547277451));
res += mul(Get(s2,-dx,dy), float4x4(0.007707063108683,0.101689755916595,-0.016448555514216,0.063499294221401,0.046611659228802,-0.031942076981068,0.011693175882101,0.025305408984423,0.020979700610042,-0.010821569710970,0.046571303158998,-0.093250490725040,0.048539374023676,0.000833005469758,-0.029320746660233,-0.044567339122295));
res += mul(Get(s2,0,-dy), float4x4(-0.002836363390088,0.038169912993908,-0.012576828710735,0.067693769931793,-0.021992251276970,-0.027071613818407,-0.031769104301929,0.041329566389322,-0.006428252439946,0.119302183389664,0.004474968183786,0.028170729056001,0.018283065408468,0.092561200261116,-0.011645366437733,0.051880445331335));
res += mul(Get(s2,0,0), float4x4(-0.040404502302408,-0.027940809726715,0.046982448548079,-0.070835091173649,-0.044328153133392,0.031617783010006,-0.056804172694683,-0.062643542885780,-0.018949083983898,0.045598816126585,0.006308361887932,0.115792460739613,-0.032039906829596,-0.014798530377448,0.013938506133854,-0.128784537315369));
res += mul(Get(s2,0,dy), float4x4(0.008010381832719,0.030369535088539,0.004898284096271,-0.043636139482260,-0.008064308203757,0.082069940865040,-0.013856880366802,0.038041006773710,0.021153789013624,-0.000860627798829,0.005970588419586,0.017944067716599,-0.026615584269166,0.050353728234768,0.051842380315065,-0.035520263016224));
res += mul(Get(s2,dx,-dy), float4x4(0.027739485725760,0.010214068926871,0.015752419829369,0.016375117003918,0.006971277762204,-0.053450509905815,0.007284646388143,0.050671547651291,0.022977035492659,0.122443079948425,0.105022631585598,0.016923632472754,0.086627148091793,0.099553339183331,0.069124519824982,0.029624028131366));
res += mul(Get(s2,dx,0), float4x4(0.036795578896999,0.041675463318825,0.051393058151007,0.065430611371994,-0.030147943645716,0.036497145891190,-0.003323531942442,0.030582133680582,0.061665467917919,-0.056877989321947,0.076690264046192,0.077072344720364,0.117502279579639,0.025641871616244,0.027391877025366,0.026159537956119));
res += mul(Get(s2,dx,dy), float4x4(0.025127770379186,0.040802426636219,-0.009618748910725,0.012891063466668,0.024431463330984,0.078526452183723,-0.087355993688107,0.058798108249903,0.025885472074151,-0.044461436569691,0.019835896790028,-0.090469419956207,0.027226826176047,-0.006924553308636,0.016517611220479,-0.039499022066593));
res += mul(Get(s3,-dx,-dy), float4x4(-0.009701744653285,-0.021603502333164,0.004007146693766,0.013872165232897,-0.073399424552917,0.014754920266569,0.078546151518822,-0.041312217712402,0.012376186437905,0.033935695886612,0.001631068647839,-0.005960661452264,0.027350658550858,0.087479352951050,0.082878448069096,0.083666689693928));
res += mul(Get(s3,-dx,0), float4x4(-0.001436777063645,0.032982382923365,-0.053625140339136,0.004930666647851,0.016364421695471,0.089734755456448,0.076295524835587,-0.051889136433601,0.047671612352133,0.045886237174273,0.030957752838731,0.042194139212370,-0.084337010979652,-0.011571748182178,0.006920564454049,-0.081095762550831));
res += mul(Get(s3,-dx,dy), float4x4(-0.080724641680717,-0.017329843714833,-0.034111130982637,0.015620584599674,-0.093995146453381,-0.010527746751904,0.078783482313156,0.039766054600477,0.040600944310427,-0.003929154947400,0.038908287882805,-0.038730632513762,-0.028915733098984,0.070302568376064,-0.067028544843197,-0.004153092391789));
res += mul(Get(s3,0,-dy), float4x4(-0.083895102143288,-0.062407810240984,0.042676158249378,-0.037609413266182,0.060205098241568,-0.037858508527279,-0.011311093345284,-0.012950752861798,0.011242538690567,0.041281573474407,0.086199223995209,0.133538886904716,0.034533087164164,0.027894526720047,0.059347763657570,0.061126846820116));
res += mul(Get(s3,0,0), float4x4(-0.012791161425412,0.149703204631805,0.040106724947691,-0.072398468852043,0.101011417806149,0.099702477455139,-0.017620025202632,0.178040564060211,0.041642162948847,0.009427378885448,0.141001075506210,0.161148563027382,0.028457839041948,-0.019381295889616,0.170767024159431,-0.115097910165787));
res += mul(Get(s3,0,dy), float4x4(-0.077790915966034,-0.051350306719542,0.066424258053303,0.009566565975547,0.003720477689058,-0.053474865853786,-0.004582382738590,-0.005746443755925,0.004292297177017,0.076135650277138,0.067028217017651,0.076985195279121,0.005207609850913,0.115710005164146,0.022423898801208,0.052325662225485));
res += mul(Get(s3,dx,-dy), float4x4(0.045684698969126,0.035619109869003,0.114795789122581,-0.008697638288140,-0.082696534693241,-0.007758277934045,-0.061372354626656,-0.096098624169827,-0.027396047487855,-0.036837145686150,-0.033016908913851,0.025056920945644,0.024956734851003,0.039678793400526,-0.036949589848518,0.001295464928262));
res += mul(Get(s3,dx,0), float4x4(0.087634876370430,-0.004180584102869,0.037897039204836,0.081667400896549,0.034735742956400,0.071829140186310,-0.123899698257446,0.072908729314804,0.011033234186471,0.000832762278151,0.001038576359861,0.085761092603207,-0.005905852653086,0.040774244815111,-0.024367803707719,-0.008438672870398));
res += mul(Get(s3,dx,dy), float4x4(0.079578667879105,-0.039256379008293,0.063847944140434,-0.039740476757288,-0.038844384253025,-0.043004475533962,-0.076216645538807,-0.039841406047344,-0.027419121935964,0.025170100852847,-0.020350787788630,0.080428741872311,-0.044503469020128,0.018198290839791,0.012472298927605,0.045299388468266));
return max(float4(0,0,0,0), res);
}
