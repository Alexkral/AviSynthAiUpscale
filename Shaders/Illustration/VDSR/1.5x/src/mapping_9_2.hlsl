sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.079090788960457,0.052436351776123,-0.035011660307646,0.128153830766678,0.039591968059540,0.054943285882473,-0.093769386410713,0.059921134263277,-0.036637600511312,0.026805439963937,0.034243021160364,0.011485982686281,-0.020555382594466,0.088917002081871,-0.070362843573093,-0.028626536950469));
res += mul(Get(s0,-dx,0), float4x4(0.058114614337683,0.124919466674328,0.023562297224998,0.122318960726261,0.103574603796005,0.003774531185627,0.011871539987624,0.089200317859650,0.033869735896587,0.041990626603365,0.089154325425625,-0.110661007463932,0.048016276210546,0.104136668145657,-0.033321402966976,0.037932075560093));
res += mul(Get(s0,-dx,dy), float4x4(0.063813298940659,0.034426350146532,0.049828633666039,0.046683311462402,-0.001338657108136,0.034525040537119,0.005119832698256,0.059159785509109,0.159955263137817,-0.001013321802020,0.066449508070946,-0.016232177615166,-0.047170907258987,0.046236272901297,0.018461680039763,-0.070485040545464));
res += mul(Get(s0,0,-dy), float4x4(-0.085845373570919,0.018513958901167,-0.077322408556938,-0.068941198289394,-0.136645838618279,-0.151268988847733,-0.100439213216305,0.148293316364288,-0.030105384066701,0.136122956871986,-0.139394506812096,0.086179204285145,0.043256651610136,-0.069397695362568,0.125001013278961,0.047817822545767));
res += mul(Get(s0,0,0), float4x4(-0.160699546337128,-0.001586667262018,0.089308850467205,-0.031933810561895,0.082456819713116,-0.157754033803940,-0.090175203979015,-0.127964437007904,0.186634808778763,0.090377286076546,-0.111523710191250,-0.054525963962078,-0.022238139063120,0.138058140873909,0.038739256560802,0.010962840169668));
res += mul(Get(s0,0,dy), float4x4(-0.023975715041161,0.047678720206022,-0.106172844767570,-0.009946542792022,0.027809284627438,0.142209261655807,0.070803873240948,-0.031721625477076,0.125544175505638,0.087369553744793,-0.004686807282269,0.050097130239010,-0.034923881292343,0.030882142484188,-0.095218889415264,-0.075465217232704));
res += mul(Get(s0,dx,-dy), float4x4(0.024271111935377,-0.115224346518517,-0.001949214260094,-0.092204868793488,-0.014605060219765,0.053351368755102,-0.056341428309679,0.162384659051895,0.015287809073925,0.028248194605112,-0.031194500625134,-0.104114003479481,0.075471304357052,0.040282294154167,-0.000499203801155,-0.026802681386471));
res += mul(Get(s0,dx,0), float4x4(-0.033279586583376,0.057508338242769,-0.007278603967279,-0.030131841078401,0.058280091732740,-0.024118289351463,-0.094110429286957,-0.087978079915047,0.042011704295874,0.013827968388796,0.141409933567047,-0.030473750084639,0.062968492507935,-0.019487351179123,-0.029585052281618,0.060038883239031));
res += mul(Get(s0,dx,dy), float4x4(-0.093678534030914,-0.002321990905330,-0.121515303850174,-0.022181315347552,0.061709687113762,0.006768989376724,0.007440140005201,0.036332428455353,0.016827922314405,0.052290480583906,0.032698079943657,0.028275452554226,-0.015702484175563,0.009523432701826,-0.048117533326149,0.019959041848779));
res += mul(Get(s1,-dx,-dy), float4x4(0.003403624519706,0.098361901938915,-0.029825331643224,-0.000480580580188,-0.048006042838097,-0.089365527033806,-0.030694568529725,-0.060065202414989,0.062113702297211,-0.163734853267670,0.068015664815903,-0.001687155687250,0.014290439896286,-0.038876060396433,-0.028087448328733,0.052478775382042));
res += mul(Get(s1,-dx,0), float4x4(-0.097262203693390,-0.050064571201801,-0.005594491958618,0.094535045325756,0.069109022617340,-0.066284447908401,0.046416349709034,-0.015105606988072,0.062977179884911,0.066045641899109,0.024874480441213,0.089911945164204,-0.084072522819042,0.029586203396320,0.098821900784969,0.003698751330376));
res += mul(Get(s1,-dx,dy), float4x4(0.018578929826617,0.032498002052307,0.152669697999954,0.126530036330223,0.008885391056538,0.096746817231178,-0.045031469315290,0.069425471127033,-0.027616906911135,0.067861072719097,-0.068861134350300,-0.066966198384762,-0.007382128387690,0.066537052392960,0.024584067985415,0.032585185021162));
res += mul(Get(s1,0,-dy), float4x4(0.074806608259678,0.063050016760826,-0.069637089967728,-0.069183245301247,-0.061703104525805,-0.077223628759384,0.062002584338188,0.121324062347412,0.069887794554234,0.088310256600380,0.001479178550653,0.028847385197878,-0.089086554944515,0.051703505218029,0.030731376260519,-0.083252362906933));
res += mul(Get(s1,0,0), float4x4(-0.033087529242039,0.013521634042263,-0.091988578438759,0.006484933197498,0.137126475572586,0.021325206384063,0.021250493824482,0.107401661574841,-0.079535312950611,0.033594127744436,0.139850407838821,-0.052781879901886,-0.018114689737558,-0.000029364433431,-0.058147914707661,-0.053813371807337));
res += mul(Get(s1,0,dy), float4x4(-0.034199811518192,-0.067877314984798,0.094550900161266,0.081409662961960,-0.050109528005123,-0.005663002375513,-0.076967485249043,0.131847530603409,0.011537964455783,0.009206578135490,-0.062847800552845,-0.127051904797554,-0.023367542773485,-0.054417580366135,-0.023648271337152,-0.154054090380669));
res += mul(Get(s1,dx,-dy), float4x4(-0.029818275943398,-0.078578174114227,0.002427160739899,0.019681517034769,0.091036930680275,-0.010901585221291,-0.013773923739791,0.054039366543293,-0.007930254563689,0.001041174284182,0.032039869576693,0.083404742181301,-0.016370238736272,0.062329597771168,0.070496156811714,0.048412535339594));
res += mul(Get(s1,dx,0), float4x4(0.032192066311836,0.070166535675526,0.035952214151621,-0.166224256157875,-0.031489554792643,0.046994958072901,0.003644934622571,-0.022246703505516,-0.000996847054921,0.004590065218508,-0.016116300597787,-0.059896327555180,0.024750420823693,-0.037437435239553,-0.115730263292789,-0.101365759968758));
res += mul(Get(s1,dx,dy), float4x4(0.034568779170513,0.042343717068434,-0.068303801119328,-0.033117715269327,0.039891310036182,-0.033199928700924,-0.019198460504413,0.054858572781086,-0.040043182671070,-0.006491663400084,0.095415808260441,-0.066336892545223,0.036642692983150,-0.062884271144867,-0.021594544872642,-0.010642846114933));
res += mul(Get(s2,-dx,-dy), float4x4(0.016464704647660,-0.053159736096859,-0.082596108317375,-0.062579177320004,-0.005426173098385,0.018918272107840,0.063996896147728,-0.146333351731300,-0.098485730588436,-0.047714274376631,-0.085624113678932,-0.021243743598461,0.053167507052422,0.051446281373501,-0.082837946712971,-0.047357775270939));
res += mul(Get(s2,-dx,0), float4x4(-0.009686820209026,-0.023069370537996,-0.022439010441303,0.059462826699018,0.017795257270336,-0.036164052784443,0.011209625750780,-0.017691401764750,-0.017983345314860,0.023219635710120,0.057646796107292,-0.133788183331490,-0.111621171236038,0.048872154206038,-0.016060937196016,0.010407209396362));
res += mul(Get(s2,-dx,dy), float4x4(-0.050898153334856,-0.096424035727978,0.042201567441225,-0.031718548387289,0.061368685215712,0.116184204816818,-0.074910894036293,0.043632220476866,-0.018859120085835,0.112585090100765,-0.034398369491100,-0.046469900757074,0.091112166643143,0.019245218485594,-0.023760527372360,0.043526131659746));
res += mul(Get(s2,0,-dy), float4x4(-0.062062781304121,-0.050008315593004,0.078752063214779,-0.037366665899754,-0.024584662169218,-0.040402095764875,0.041147377341986,0.171761661767960,0.102213241159916,-0.039701920002699,0.027715282514691,-0.025328479707241,-0.011599870398641,-0.004451810382307,0.031803991645575,-0.154348134994507));
res += mul(Get(s2,0,0), float4x4(0.029628839343786,-0.054792903363705,-0.080006696283817,-0.045255910605192,0.014697501435876,0.072549797594547,0.059922151267529,0.079731933772564,0.040097776800394,0.130352139472961,-0.042932514101267,-0.088156953454018,0.008877021260560,0.129697978496552,0.019677503034472,0.029428137466311));
res += mul(Get(s2,0,dy), float4x4(0.006288968026638,0.020384674891829,-0.000982721336186,0.085474729537964,-0.038366671651602,0.009980936534703,-0.004637866746634,-0.032785397022963,0.027869218960404,0.096037827432156,0.020066004246473,0.028202094137669,-0.012339880689979,0.044557470828295,0.005013891030103,0.025654783472419));
res += mul(Get(s2,dx,-dy), float4x4(0.023922570049763,0.019752427935600,-0.076910570263863,-0.036535050719976,-0.041658576577902,-0.049389738589525,0.143877968192101,0.039043869823217,-0.041753157973289,0.060953661799431,-0.081492848694324,0.087681241333485,0.027336865663528,-0.026654675602913,-0.045149903744459,-0.133083835244179));
res += mul(Get(s2,dx,0), float4x4(0.036346204578876,0.003979844506830,-0.045370817184448,0.018687564879656,0.025082148611546,0.115812920033932,0.072677940130234,-0.027184741571546,0.058986272662878,-0.012961254455149,0.096479766070843,-0.033022519201040,0.009807213209569,-0.083050377666950,-0.015834754332900,-0.007742936257273));
res += mul(Get(s2,dx,dy), float4x4(0.027472101151943,0.012440948747098,0.035235468298197,0.042058695107698,-0.036946289241314,-0.106986068189144,0.096307121217251,0.125995069742203,-0.047970913350582,0.001614547334611,-0.093139655888081,-0.081651479005814,0.048232655972242,0.014068834483624,0.005224860273302,0.053321838378906));
res += mul(Get(s3,-dx,-dy), float4x4(-0.022875841706991,-0.000711023807526,0.184111431241035,0.058500263839960,0.002011060016230,0.018182169646025,0.076872475445271,0.101373627781868,-0.089389614760876,0.048436060547829,0.070996522903442,0.064242266118526,0.096469849348068,0.041146747767925,0.071382798254490,0.106541052460670));
res += mul(Get(s3,-dx,0), float4x4(-0.020425332710147,-0.021120885387063,-0.029209120199084,0.001540186582133,0.039649520069361,0.091627724468708,0.045310977846384,-0.036972001194954,-0.102187260985374,0.000424211204518,-0.031057462096214,0.056592240929604,-0.148137480020523,0.005784158594906,0.064807474613190,0.089472293853760));
res += mul(Get(s3,-dx,dy), float4x4(0.025596985593438,0.013065792620182,-0.081407099962234,0.112240865826607,-0.032227430492640,0.065478093922138,0.024953689426184,0.041935291141272,-0.035585686564445,0.011353343725204,0.039165485650301,0.060569811612368,0.094957999885082,-0.013612914830446,-0.041102852672338,0.077024854719639));
res += mul(Get(s3,0,-dy), float4x4(0.020365891978145,0.053561061620712,-0.057638183236122,-0.068878158926964,-0.054391935467720,-0.002280595945194,0.060106273740530,-0.071291200816631,0.098680481314659,0.007580055389553,-0.107976920902729,-0.016032466664910,0.079577885568142,-0.012420665472746,0.089674472808838,-0.005785901565105));
res += mul(Get(s3,0,0), float4x4(0.010501841083169,0.066713578999043,0.004957688506693,-0.078020110726357,0.000093626636954,0.030282953754067,-0.059704691171646,-0.063287846744061,0.022052222862840,0.063203960657120,0.060711499303579,-0.020957086235285,0.019551225006580,0.023778928443789,-0.003176052123308,-0.096531495451927));
res += mul(Get(s3,0,dy), float4x4(-0.020668905228376,0.043823521584272,0.041137792170048,0.005355538800359,-0.012938059866428,-0.007212925236672,-0.049637455493212,-0.056516956537962,0.114287398755550,-0.080451183021069,-0.042648389935493,0.004001356195658,0.132216870784760,-0.034023374319077,0.050834678113461,-0.080370992422104));
res += mul(Get(s3,dx,-dy), float4x4(-0.021049153059721,-0.047125402837992,0.159490019083023,-0.012348029762506,-0.089642837643623,-0.016754843294621,0.000161319883773,-0.017084496095777,-0.057012841105461,-0.009633247740567,-0.141676977276802,0.031340960413218,-0.027879888191819,0.082802534103394,0.027146149426699,-0.042068175971508));
res += mul(Get(s3,dx,0), float4x4(-0.028049862012267,-0.103196986019611,0.093672230839729,0.013332852162421,0.001038652146235,-0.058613035827875,-0.027655921876431,0.029421970248222,0.003212751122192,0.025570616126060,-0.037951584905386,-0.036659497767687,-0.026965856552124,0.058294896036386,-0.020716147497296,0.098819874227047));
res += mul(Get(s3,dx,dy), float4x4(0.040065716952085,-0.031351190060377,-0.035087309777737,-0.000709190499038,-0.003834744915366,0.038956884294748,-0.044865190982819,0.065742753446102,-0.078196428716183,0.015971820801497,-0.025612762197852,0.094493143260479,0.048900958150625,-0.012671179138124,-0.033887308090925,0.121244661509991));
return max(float4(0,0,0,0), res);
}
