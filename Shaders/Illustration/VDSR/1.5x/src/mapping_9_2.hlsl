sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.149263620376587,-0.036336220800877,0.100707463920116,0.041649747639894,-0.011456616222858,-0.118955701589584,-0.054154906421900,-0.013144707307220,0.104216650128365,0.063051588833332,0.044925056397915,0.013934784568846,-0.092739693820477,-0.047096509486437,0.099342949688435,-0.088034376502037));
res += mul(Get(s0,-dx,0), float4x4(-0.145874738693237,0.041863624006510,0.014465150423348,0.160926282405853,-0.106826134026051,0.032008435577154,-0.103031821548939,0.045242570340633,0.005542931612581,0.086781539022923,0.109996311366558,0.060757718980312,-0.079723313450813,0.033592727035284,-0.054311588406563,-0.064595319330692));
res += mul(Get(s0,-dx,dy), float4x4(-0.108874201774597,0.009774724952877,-0.001640057889745,0.090817578136921,-0.038032356649637,-0.010569415986538,-0.164811193943024,-0.011772339232266,-0.041112426668406,0.036425307393074,0.041232597082853,-0.012404748238623,-0.074671208858490,-0.096302919089794,0.085013940930367,-0.016461513936520));
res += mul(Get(s0,0,-dy), float4x4(-0.021981872618198,-0.049181070178747,-0.068097338080406,0.163875222206116,0.136537134647369,-0.137679204344749,-0.005336352158338,-0.050145134329796,0.148204445838928,-0.013942682184279,-0.022376704961061,0.034547373652458,0.172625988721848,0.059400089085102,-0.002660804428160,-0.095216169953346));
res += mul(Get(s0,0,0), float4x4(-0.060891889035702,-0.017913486808538,0.023445626720786,0.059173841029406,0.050748664885759,-0.043150100857019,0.118823193013668,0.134651795029640,-0.016411973163486,0.071571297943592,0.020807981491089,-0.006277172360569,0.059535320848227,0.097063332796097,0.020211951807141,0.070839405059814));
res += mul(Get(s0,0,dy), float4x4(-0.057303939014673,-0.091245301067829,-0.007263161242008,0.104798316955566,-0.011170441284776,-0.063126616179943,-0.052821721881628,0.063855126500130,0.024663727730513,0.072589851915836,-0.070690281689167,0.099568210542202,0.068706892430782,-0.033018924295902,-0.005099190399051,-0.031555585563183));
res += mul(Get(s0,dx,-dy), float4x4(0.018294529989362,-0.083304360508919,0.060317911207676,-0.004733587615192,0.017927294597030,-0.058512225747108,-0.109146863222122,0.092727504670620,0.081595428287983,0.030619269236922,-0.035201963037252,-0.061174049973488,0.005760735366493,0.021542182192206,0.050129499286413,0.011736722663045));
res += mul(Get(s0,dx,0), float4x4(0.051062341779470,-0.026567632332444,0.013176208361983,0.022177739068866,-0.121831893920898,0.027804855257273,-0.049022071063519,-0.081558018922806,0.050884544849396,-0.054269570857286,0.000888808630407,0.065961197018623,0.092758126556873,0.030190439894795,0.051155865192413,0.108733974397182));
res += mul(Get(s0,dx,dy), float4x4(-0.010121977888048,-0.030211267992854,-0.022005133330822,0.014042600989342,-0.005407661665231,0.030842021107674,-0.083221755921841,-0.111744828522205,0.159785509109497,0.179011017084122,-0.080983325839043,0.062251899391413,0.162469148635864,0.030773816630244,-0.049414537847042,0.083930239081383));
res += mul(Get(s1,-dx,-dy), float4x4(-0.003461356740445,-0.020362576469779,-0.011822904460132,-0.064080573618412,-0.033790688961744,0.009418594650924,0.038730524480343,-0.000759272428695,-0.211901888251305,-0.003972890786827,0.067734301090240,-0.026952831074595,-0.032113093882799,0.039515178650618,0.018104784190655,-0.013603111729026));
res += mul(Get(s1,-dx,0), float4x4(-0.076920010149479,0.049323257058859,0.083756595849991,0.026221552863717,-0.026158580556512,-0.034952830523252,-0.020325168967247,-0.022139795124531,-0.075671046972275,-0.005635231733322,0.072870850563049,-0.121952898800373,-0.012179445475340,0.009456832893193,-0.061721552163363,-0.009290099143982));
res += mul(Get(s1,-dx,dy), float4x4(-0.057565819472075,-0.010576992295682,0.027138317003846,0.064904771745205,0.031440325081348,-0.021947190165520,-0.070457406342030,-0.021066892892122,0.081172905862331,0.080638282001019,0.043353192508221,-0.036067761480808,0.038960203528404,0.059274677187204,0.137373030185699,0.047243215143681));
res += mul(Get(s1,0,-dy), float4x4(-0.005114071536809,0.018662074580789,0.017047751694918,-0.030994053930044,-0.003560788929462,-0.081172674894333,0.101315118372440,-0.047041907906532,-0.161693349480629,-0.010901300236583,0.058462224900723,0.123878486454487,0.008185380138457,0.057055078446865,-0.018118208274245,-0.052993025630713));
res += mul(Get(s1,0,0), float4x4(-0.035389266908169,0.109070770442486,-0.052671507000923,-0.078942626714706,-0.006193029694259,0.149203687906265,-0.019585479050875,-0.032483484596014,-0.108150973916054,0.083343841135502,0.005052906461060,0.066889554262161,-0.111854426562786,0.032558117061853,0.077112726867199,0.031474620103836));
res += mul(Get(s1,0,dy), float4x4(-0.095748774707317,-0.071602821350098,0.076258443295956,0.125951692461967,-0.007254160940647,-0.046679846942425,-0.074892729520798,0.040091115981340,-0.127424091100693,-0.058262076228857,-0.038145884871483,0.082984656095505,-0.015181567519903,0.003047732869163,0.088625751435757,-0.050546389073133));
res += mul(Get(s1,dx,-dy), float4x4(0.004284348804504,0.024882750585675,-0.051488503813744,-0.004223984200507,-0.039549682289362,0.004707267507911,0.139166891574860,0.012534967623651,-0.005901921540499,-0.041258752346039,0.029685987159610,0.037933226674795,-0.015150381252170,-0.020994380116463,-0.033650655299425,0.073670089244843));
res += mul(Get(s1,dx,0), float4x4(-0.026600742712617,0.089353904128075,-0.082384094595909,-0.077485680580139,0.016576319932938,0.190679416060448,-0.061537861824036,0.040235243737698,0.099654428660870,0.054624963551760,-0.024094501510262,-0.103199265897274,0.010242702439427,0.147650703787804,-0.056409109383821,0.005507198162377));
res += mul(Get(s1,dx,dy), float4x4(-0.044572617858648,-0.017823109403253,-0.066960297524929,0.037956822663546,0.040976922959089,-0.033989515155554,-0.113511085510254,0.000757992325816,-0.098735712468624,0.026156181469560,0.083287946879864,0.037676505744457,0.053863562643528,-0.053196188062429,0.064969055354595,0.049658790230751));
res += mul(Get(s2,-dx,-dy), float4x4(0.054218545556068,0.187099248170853,0.082601562142372,-0.090686000883579,0.005112715065479,-0.033846102654934,0.153297528624535,0.007450691889971,0.013735329732299,0.067193202674389,0.140377178788185,0.096605539321899,-0.078241817653179,-0.005776042584330,-0.026103086769581,-0.117056280374527));
res += mul(Get(s2,-dx,0), float4x4(0.081026978790760,0.073675207793713,0.018637066707015,0.009894892573357,0.156088039278984,-0.087926968932152,0.003838454140350,-0.037069529294968,-0.074696280062199,0.125916913151741,-0.022787293419242,-0.007403687573969,-0.005545668303967,-0.023106228560209,-0.002931515919045,-0.018248070031404));
res += mul(Get(s2,-dx,dy), float4x4(0.090668208897114,0.031705111265182,0.065008483827114,0.020786209031940,-0.029403056949377,-0.008227871730924,0.095066562294960,0.005786792840809,-0.087212570011616,0.072389148175716,-0.033751469105482,-0.028291942551732,-0.083281740546227,0.050845120102167,-0.069375000894070,-0.067865863442421));
res += mul(Get(s2,0,-dy), float4x4(0.122538283467293,0.163702085614204,0.092571191489697,-0.062656648457050,-0.058222923427820,-0.109323911368847,0.048064943403006,0.112820670008659,0.072620391845703,0.071913912892342,0.010123157873750,-0.058121878653765,-0.066423624753952,-0.045980699360371,-0.111046016216278,0.003560828976333));
res += mul(Get(s2,0,0), float4x4(0.037252295762300,0.004539486020803,0.041466433554888,0.034251954406500,-0.019209362566471,-0.030663387849927,0.017337063327432,-0.023218147456646,-0.026742896065116,-0.043010279536247,-0.022251175716519,0.123669162392616,0.002476661000401,0.017603334039450,-0.021134436130524,-0.119496934115887));
res += mul(Get(s2,0,dy), float4x4(0.127816066145897,0.016805279999971,0.006513049826026,0.016261039301753,-0.083599358797073,-0.027734104543924,-0.006707938387990,0.036894202232361,-0.065024681389332,0.040572229772806,-0.046831879764795,0.075145505368710,-0.099252983927727,-0.041026219725609,-0.033775538206100,-0.087304376065731));
res += mul(Get(s2,dx,-dy), float4x4(0.035241018980742,0.070217557251453,0.104734346270561,-0.107583627104759,0.107542440295219,-0.162333220243454,0.054781164973974,0.048126362264156,0.134023159742355,-0.037125453352928,0.011936477385461,-0.008409511297941,-0.013961170800030,-0.057263858616352,-0.024718016386032,0.045070264488459));
res += mul(Get(s2,dx,0), float4x4(0.089891366660595,0.008429034613073,0.070153258740902,-0.081618666648865,-0.042904581874609,-0.068785510957241,0.083314470946789,-0.159921452403069,0.081381067633629,-0.025866575539112,0.025476220995188,-0.058519959449768,0.070017948746681,0.086036220192909,-0.061055548489094,-0.064869828522205));
res += mul(Get(s2,dx,dy), float4x4(0.081285521388054,0.015752801671624,0.120596475899220,-0.012249891646206,-0.031118249520659,0.003450624411926,0.047694392502308,-0.037448812276125,0.003729971824214,0.016446005553007,-0.050606742501259,-0.013726796954870,-0.025443263351917,-0.035142850130796,-0.055534027516842,-0.018550554290414));
res += mul(Get(s3,-dx,-dy), float4x4(-0.057963598519564,-0.063966870307922,-0.047255609184504,-0.048986528068781,0.001942976610735,-0.085572667419910,-0.041505418717861,0.028368456289172,0.069534346461296,0.013427264057100,0.039872702211142,-0.030913006514311,0.036057591438293,0.067481577396393,0.004962601233274,0.053107395768166));
res += mul(Get(s3,-dx,0), float4x4(-0.081055700778961,-0.037273656576872,-0.027327325195074,0.072723343968391,-0.057024065405130,-0.041540060192347,-0.039583511650562,-0.003986349795014,0.041661959141493,-0.013390358537436,0.042723733931780,0.020155141130090,-0.017272621393204,-0.021214937791228,0.008622372522950,-0.075196757912636));
res += mul(Get(s3,-dx,dy), float4x4(-0.010550601407886,-0.009066198952496,0.022560460492969,-0.008980138227344,-0.026487270370126,-0.035819578915834,0.014573480933905,-0.093096412718296,-0.137442544102669,-0.060884982347488,-0.056726090610027,0.057901512831450,-0.007257395423949,0.013829231262207,0.076235905289650,-0.097238451242447));
res += mul(Get(s3,0,-dy), float4x4(0.031929619610310,-0.052723620086908,-0.090445272624493,-0.036301981657743,0.018498068675399,-0.002361046615988,-0.087621405720711,0.169348567724228,-0.053431116044521,0.038242194801569,-0.002148597268388,0.106319874525070,0.021633217111230,-0.013214246369898,-0.083352647721767,-0.049905356019735));
res += mul(Get(s3,0,0), float4x4(-0.076312936842442,-0.083873637020588,-0.062808565795422,0.035664528608322,-0.074354670941830,-0.027174724265933,0.014436887577176,-0.088047750294209,0.006286944262683,0.012660115025938,0.073994338512421,0.104511693120003,-0.052468772977591,0.010291817598045,-0.035060487687588,0.018980061635375));
res += mul(Get(s3,0,dy), float4x4(0.015073859132826,0.004420701880008,0.037125185132027,-0.018316812813282,0.010961405932903,-0.026753282174468,0.003252412658185,-0.126492932438850,-0.093308106064796,0.004997600335628,0.006159165408462,0.015889635309577,0.003766542067751,-0.005286683328450,-0.017924757674336,-0.005705233663321));
res += mul(Get(s3,dx,-dy), float4x4(0.118678115308285,-0.031357664614916,-0.119179941713810,-0.057433683425188,0.101002179086208,0.061426855623722,-0.031394578516483,0.135329440236092,0.011291145347059,-0.046313114464283,-0.021917486563325,-0.064820386469364,0.020790744572878,-0.020198909565806,-0.088382147252560,-0.011558586731553));
res += mul(Get(s3,dx,0), float4x4(0.057127293199301,0.038576509803534,-0.058898709714413,0.053417775779963,0.016994880512357,0.064264804124832,-0.014074731618166,-0.041566163301468,0.014944415539503,-0.048069704324007,0.030855474993587,0.011204470880330,-0.055804356932640,0.026534195989370,0.003597194096074,0.020196666941047));
res += mul(Get(s3,dx,dy), float4x4(-0.056731719523668,-0.056074582040310,-0.052283961325884,0.017695091664791,0.118277341127396,-0.014172093942761,-0.015094756148756,0.011323587037623,-0.140245020389557,-0.101545199751854,-0.032470587641001,-0.065781950950623,0.040175735950470,0.023786699399352,-0.001769693335518,0.006231952458620));
return max(float4(0,0,0,0), res);
}
