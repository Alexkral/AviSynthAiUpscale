sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.003875601571053,-0.003442627144977,0.002159180818126,-0.004278365522623,0.004698314704001,-0.000375978881493,-0.005301547236741,0.013042736798525,0.000799107190687,-0.002946119522676,0.001720527303405,-0.000105874889414,0.006731661036611,0.005666019860655,0.001104752300307,0.005776036530733));
res += mul(Get(s0,-dx,0), float4x4(-0.003595660207793,-0.006206577643752,0.001888283994049,-0.000211303384276,0.000092237300123,0.001108403666876,0.000223883616854,0.025226879864931,-0.000176172281499,0.003157423576340,-0.003428377676755,0.001374528743327,0.002469275146723,0.005456286482513,-0.003577259834856,0.000187570869457));
res += mul(Get(s0,-dx,dy), float4x4(-0.001195819000714,-0.004086480941623,0.003055538982153,-0.003140114946291,0.006442355923355,0.002609304618090,-0.006508606951684,0.023484135046601,-0.003744044806808,0.005249480251223,0.002982769161463,0.000879931496456,0.006405985448509,-0.006082951556891,0.003259279066697,0.006318768486381));
res += mul(Get(s0,0,-dy), float4x4(0.000547283969354,-0.003224419895560,0.002233384875581,0.001028365339153,-0.002131733577698,0.001665147603489,0.001837017247453,0.012130131945014,0.000876370409969,0.003188154194504,-0.004604646470398,0.007537246216089,-0.007206707261503,0.010845921933651,0.002391870599240,0.015137499198318));
res += mul(Get(s0,0,0), float4x4(0.004082740750164,0.001730756252073,-0.005417509004474,0.001875863294117,-0.004643800202757,0.000835049257148,-0.000181693030754,0.004982629325241,0.006332349032164,0.006107461173087,0.000515701598488,-0.002846322953701,-0.003446711460128,0.002077846555039,0.003411899786443,0.028384003788233));
res += mul(Get(s0,0,dy), float4x4(0.001564033213072,-0.005355810280889,-0.001061333343387,-0.003815945470706,0.002000752137974,0.008126013912261,0.003785746637732,0.005322348792106,-0.003425397910178,0.007245095446706,0.000684470112901,0.002537143649533,-0.009975606575608,-0.001662130816840,-0.001262898673303,0.001671531470492));
res += mul(Get(s0,dx,-dy), float4x4(0.001326555036940,0.001576337032020,0.001333252876066,-0.001232871203683,0.000988555490039,-0.004711369983852,0.000346860004356,-0.000279836065602,0.003496069228277,0.009048279374838,0.000941472244449,-0.003554568858817,-0.004332217387855,0.002760634757578,0.006894014310092,0.004529001656920));
res += mul(Get(s0,dx,0), float4x4(-0.001061531365849,0.001447362708859,0.005201437510550,-0.000699087453540,0.002056083874777,-0.002275747247040,-0.007598239928484,-0.001032600295730,0.003908110316843,-0.007443537935615,0.001896578818560,0.002660675672814,-0.002234840765595,-0.004901875276119,-0.003626704914495,0.001000386197120));
res += mul(Get(s0,dx,dy), float4x4(-0.009985687211156,-0.001707454095595,-0.000672320078593,0.004281814210117,0.005731445737183,0.000497982371598,0.006777681410313,-0.001895248075016,-0.004977152682841,0.004111502319574,-0.000322428153595,-0.004343871492893,0.001476245350204,-0.000463946140371,0.004449784755707,0.000778932531830));
res += mul(Get(s1,-dx,-dy), float4x4(-0.000250754470471,0.004316985141486,0.003151277313009,0.002899801591411,-0.006965411826968,-0.004448384046555,0.002338816877455,0.003808667417616,-0.015345006249845,0.006029232405126,-0.001714662881568,-0.037917263805866,-0.019209710881114,-0.012312083505094,0.000025792194720,-0.017113909125328));
res += mul(Get(s1,-dx,0), float4x4(0.000912995776162,-0.006123889703304,-0.009016301482916,0.002652373164892,0.027865523472428,0.006718165706843,-0.010533677414060,-0.007500038482249,-0.002855736995116,-0.009922378696501,-0.001236454467289,-0.045268919318914,0.000491582846735,-0.020718034356833,-0.001025045756251,-0.035632841289043));
res += mul(Get(s1,-dx,dy), float4x4(0.007226416841149,0.003071812912822,0.000324911263306,-0.001150497468188,0.021656379103661,-0.003688770113513,-0.003817628836259,0.003115585306659,0.019046537578106,-0.023393191397190,-0.003210640978068,-0.041369788348675,-0.001275955582969,-0.019888101145625,0.000717735849321,-0.043416984379292));
res += mul(Get(s1,0,-dy), float4x4(-0.002744452096522,-0.000015100868950,0.001584694255143,-0.004444722086191,-0.002867794129997,-0.008008029311895,0.004516140092164,0.003735368605703,-0.041632402688265,0.016100415959954,-0.002480322960764,0.011287391185760,-0.020810334011912,-0.016791416332126,-0.000041891340516,-0.037322066724300));
res += mul(Get(s1,0,0), float4x4(0.005833433009684,0.004383048508316,-0.001143730129115,-0.006251105573028,0.023567233234644,-0.005426187533885,0.003780329134315,-0.000865004141815,-0.036000862717628,-0.022200705483556,-0.000540527049452,-0.025510253384709,-0.016796451061964,0.003379676258191,-0.000580593361519,-0.038192193955183));
res += mul(Get(s1,0,dy), float4x4(-0.002411845838651,0.003303574398160,0.003711236407980,-0.003115854226053,0.010526578873396,-0.006438176147640,-0.001087065553293,-0.004120122175664,0.010022844187915,-0.030417349189520,-0.002560139168054,-0.027231158688664,-0.022046994417906,-0.017820479348302,-0.002818425418809,-0.051550149917603));
res += mul(Get(s1,dx,-dy), float4x4(-0.000955387018621,-0.005365905817598,0.003411181271076,0.004423416685313,-0.002760281786323,-0.012304035015404,0.004763074219227,0.019620737060905,-0.053546495735645,0.009146292693913,-0.002136189257726,0.033752918243408,-0.022808047011495,-0.012121044099331,-0.003079446731135,0.082491569221020));
res += mul(Get(s1,dx,0), float4x4(0.005115407053381,-0.011934246867895,-0.001316288718954,-0.000636215030681,0.040460154414177,0.011325107887387,-0.003618732327595,0.002061742357910,-0.026242485269904,-0.025558793917298,-0.000608467147686,-0.025272417813540,-0.001974570564926,0.031498741358519,0.002984833903611,0.078234761953354));
res += mul(Get(s1,dx,dy), float4x4(0.011558860540390,0.002494702814147,-0.003525563282892,-0.002102412283421,0.016405209898949,0.004857395775616,0.000711324159056,-0.001626049634069,-0.008757975883782,-0.030012207105756,-0.006579414010048,-0.027922647073865,-0.015520256012678,-0.027176240459085,-0.001456552068703,0.006834369152784));
res += mul(Get(s2,-dx,-dy), float4x4(-0.004289439413697,-0.004746648948640,0.004747816827148,0.006952323019505,0.001655089552514,0.003181559732184,-0.002603663131595,0.009132059291005,-0.033110946416855,-0.032188754528761,-0.008373318240047,-0.098827801644802,0.005683355499059,0.001033194712363,0.008315382525325,-0.007572208065540));
res += mul(Get(s2,-dx,0), float4x4(0.009574152529240,-0.004431320820004,0.001256392104551,-0.006818548310548,-0.008318436332047,0.006491397041827,-0.000510689802468,0.001603962853551,-0.014390794560313,-0.030123829841614,0.001698759733699,-0.126979812979698,0.013262130320072,-0.002520761918277,-0.000557801045943,-0.002334392163903));
res += mul(Get(s2,-dx,dy), float4x4(0.001695698010735,0.009815989993513,-0.003113026963547,-0.000984528101981,0.001946497359313,0.007543196901679,0.002271485049278,0.002690324326977,-0.024583997204900,-0.028979415073991,0.000348705856595,-0.067066021263599,0.013971162959933,-0.000943058985285,0.006092671304941,0.000366774620488));
res += mul(Get(s2,0,-dy), float4x4(0.010765701532364,-0.003848571330309,-0.001643439754844,0.011990082450211,0.002057871315628,-0.005428832489997,0.001432418939658,0.001987224444747,-0.043154347687960,0.005193871911615,-0.006074192468077,0.117092728614807,0.004084536805749,-0.004486382938921,-0.001405616640113,0.015350051224232));
res += mul(Get(s2,0,0), float4x4(0.023145724087954,-0.001800032448955,0.002541624009609,-0.018574550747871,-0.003514911048114,-0.002287830226123,-0.004400755744427,0.011082524433732,0.095558293163776,0.015480391681194,-0.001229898189195,0.025140490382910,0.023774897679687,0.002439971081913,-0.005960998591036,0.001407398143783));
res += mul(Get(s2,0,dy), float4x4(0.004818465560675,0.005599827971309,-0.000626753026154,-0.011985102668405,0.000416854192736,-0.000829178607091,-0.000800207490101,-0.000449871120509,0.047404404729605,-0.029668610543013,-0.001747078145854,0.007801719009876,0.008512638509274,0.000058132252889,-0.007153541315347,-0.000348922447301));
res += mul(Get(s2,dx,-dy), float4x4(0.001020773663186,0.009017803706229,-0.001956367632374,-0.004092337563634,0.002539418870583,0.002628605347127,0.002647445304319,-0.000542681664228,-0.071444086730480,0.046963267028332,-0.006792452186346,0.055243395268917,-0.001478426391259,-0.001886131940410,0.003515172982588,0.014751661568880));
res += mul(Get(s2,dx,0), float4x4(0.003197514684871,0.005432924721390,-0.001496400218457,0.006142695900053,0.005591747816652,0.000852741475683,0.006539756897837,0.020282233133912,0.044425453990698,0.072973541915417,-0.004401612561196,0.024434976279736,0.031810116022825,0.005022596567869,0.005918715614825,-0.001898261136375));
res += mul(Get(s2,dx,dy), float4x4(-0.003928046207875,-0.000194006919628,0.000106424318801,0.006999031640589,0.002244181465358,0.000265667564236,-0.003143640235066,0.001649143290706,-0.018678409978747,-0.061296399682760,0.001944680465385,-0.069184936583042,0.011949161998928,-0.000068390094384,-0.000503518094774,0.000488513731398));
res += mul(Get(s3,-dx,-dy), float4x4(0.002089857822284,-0.005306554026902,0.000640564132482,0.003349976381287,-0.001806531217881,-0.004009883385152,-0.008847449906170,0.019332103431225,0.007409042678773,0.002654808806255,-0.004593625199050,0.009142053313553,-0.001923667034134,0.010478645563126,0.003652667161077,0.019938126206398));
res += mul(Get(s3,-dx,0), float4x4(-0.002388394670561,0.003501079976559,-0.002234650310129,-0.003306815633550,0.001253756927326,0.000516669824719,-0.005876959301531,0.023862048983574,0.012863812036812,-0.002130732405931,-0.000036982328311,0.011921791359782,-0.001560940756463,0.009472686797380,0.003416463034227,0.014363504946232));
res += mul(Get(s3,-dx,dy), float4x4(0.009712062776089,-0.002650804352015,-0.002601680345833,-0.001350836246274,-0.000561124645174,-0.003429842879996,-0.001945825875737,0.006157980766147,0.007668118458241,-0.000447681173682,-0.004813328851014,0.007049196865410,-0.000427728809882,-0.005811010953039,-0.000928792171180,-0.005599210038781));
res += mul(Get(s3,0,-dy), float4x4(0.000507957534865,-0.003288526786491,0.003665807889774,0.006651987787336,0.005074167624116,-0.007583889644593,0.000637568009552,0.026622874662280,-0.000344563799445,-0.000068753855885,0.003485355759040,0.024266574531794,0.003021117066965,0.002485428238288,-0.002587058115751,0.022451944649220));
res += mul(Get(s3,0,0), float4x4(0.001028191647492,-0.005775465164334,0.009133528918028,-0.003089416772127,-0.003117316635326,0.012224148958921,0.006278058513999,0.023536097258329,-0.002773798303679,0.009358499199152,0.010238621383905,0.008273319341242,0.002925161737949,0.037091922014952,-0.004368403926492,0.073176287114620));
res += mul(Get(s3,0,dy), float4x4(0.000587463902775,-0.005019183736295,-0.004930472467095,-0.001105188624933,-0.004698845557868,-0.001774248667061,0.003917247988284,0.003599309828132,0.004113436676562,-0.002691313857213,0.004698913544416,0.006915272679180,-0.001701981993392,0.002255289582536,0.003085630014539,0.006969891022891));
res += mul(Get(s3,dx,-dy), float4x4(0.015941964462399,0.000358044228051,0.004378037992865,-0.001607315381989,0.005674769170582,0.004980640951544,-0.002705181017518,0.024326719343662,-0.001922970986925,0.003270934801549,-0.003073683939874,0.002388879889622,-0.008395450189710,0.008807020261884,-0.000825232302304,0.015410169959068));
res += mul(Get(s3,dx,0), float4x4(0.005744123831391,-0.014172357507050,0.000054545613239,-0.007558803074062,-0.004324634559453,0.023356540128589,0.000543715374079,0.046768099069595,-0.002027499023825,-0.005584968719631,-0.000277805083897,0.001307500642724,-0.001376442727633,0.040514644235373,-0.006104263942689,0.085228338837624));
res += mul(Get(s3,dx,dy), float4x4(0.002665839623660,0.003643200267106,0.001721223932691,-0.003349036909640,-0.005828630644828,0.007356775924563,-0.002686594845727,0.001927830162458,0.000150731051690,0.001959104556590,0.001807740656659,0.002523440169170,0.000559117062949,0.001446445821784,0.001637564389966,0.008186710067093));
return max(float4(0,0,0,0), res);
}
