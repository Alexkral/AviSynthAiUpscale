sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.028605101630092,-0.080637753009796,-0.015474421903491,0.019152803346515,-0.016704147681594,-0.062326047569513,-0.053204756230116,0.052815105766058,0.021591957658529,0.090980380773544,0.063127316534519,-0.018517186865211,0.076342687010765,-0.076968222856522,-0.055027868598700,0.009170558303595));
res += mul(Get(s0,-dx,0), float4x4(-0.026823859661818,0.048677939921618,0.058832947164774,0.044182587414980,-0.065931379795074,-0.062924832105637,0.117592610418797,-0.192463397979736,0.033024698495865,0.028027163818479,-0.014413019642234,0.041567638516426,-0.049466803669930,0.015301905572414,-0.014628810808063,-0.047653887420893));
res += mul(Get(s0,-dx,dy), float4x4(0.032464858144522,0.003068377263844,-0.066437207162380,0.044061895459890,0.106612570583820,0.050785280764103,0.117403671145439,-0.062254391610622,0.017024472355843,0.069044254720211,-0.060770038515329,0.061778493225574,0.031934402883053,0.055826593190432,-0.025725767016411,0.034564148634672));
res += mul(Get(s0,0,-dy), float4x4(0.100765444338322,0.008318296633661,-0.107476167380810,0.049020271748304,0.104332685470581,-0.072840429842472,0.001279468298890,0.065477237105370,0.061242673546076,-0.074568845331669,0.044307999312878,0.031788989901543,0.023733161389828,0.031796287745237,-0.062729276716709,-0.021254960447550));
res += mul(Get(s0,0,0), float4x4(-0.058226190507412,0.079213961958885,0.179954320192337,0.039590772241354,0.198384031653404,0.065000906586647,-0.071346931159496,-0.035860750824213,0.070304118096828,-0.004440332297236,0.082768566906452,-0.002882419386879,0.094992764294147,-0.043630238622427,0.093432486057281,0.009793381206691));
res += mul(Get(s0,0,dy), float4x4(0.139608576893806,0.072327725589275,-0.022855628281832,-0.124947287142277,-0.266984641551971,-0.005939126946032,0.025404375046492,0.167392894625664,-0.044817127287388,0.054407857358456,0.031358309090137,-0.022889094427228,-0.096282437443733,0.157420247793198,-0.111951857805252,0.051595285534859));
res += mul(Get(s0,dx,-dy), float4x4(-0.025702696293592,-0.081559926271439,0.010697080753744,0.086200080811977,0.067093916237354,-0.010541681200266,-0.208068415522575,0.078968666493893,-0.047004867345095,0.069438017904758,0.104511640965939,0.035031102597713,-0.010432539507747,0.004419371951371,-0.036929812282324,0.071444094181061));
res += mul(Get(s0,dx,0), float4x4(0.170239239931107,0.162972360849380,-0.115103453397751,0.051945399492979,0.259176492691040,0.053459964692593,0.038773164153099,0.211010158061981,0.029603058472276,-0.006739576812834,-0.062630623579025,0.140097811818123,0.007421699352562,0.060600250959396,-0.067485161125660,0.036549031734467));
res += mul(Get(s0,dx,dy), float4x4(0.008461649529636,-0.095880143344402,0.009818043559790,-0.043330766260624,0.103522650897503,-0.086169123649597,0.263206034898758,-0.072646610438824,0.010092278942466,-0.129038974642754,-0.141243919730186,0.046462781727314,-0.164752900600433,-0.029198020696640,-0.031815327703953,0.090397112071514));
res += mul(Get(s1,-dx,-dy), float4x4(0.079579174518585,-0.078373804688454,-0.043881438672543,0.129943653941154,-0.051391225308180,-0.066869571805000,0.132322356104851,-0.057228941470385,-0.027952691540122,-0.004339961800724,-0.037422217428684,0.056801714003086,0.133535042405128,0.014060536399484,-0.057219002395868,0.001103703049012));
res += mul(Get(s1,-dx,0), float4x4(0.193096637725830,0.047638200223446,0.036257315427065,-0.139271363615990,-0.036175377666950,-0.114401087164879,0.109797485172749,-0.083785660564899,0.099447466433048,0.000165218545590,-0.020801529288292,0.004440963268280,0.049932774156332,-0.070523202419281,-0.131497159600258,-0.033060442656279));
res += mul(Get(s1,-dx,dy), float4x4(-0.017180655151606,0.072698958218098,-0.070699900388718,-0.127285957336426,-0.010618994943798,0.046889100223780,0.159266501665115,0.016394812613726,0.101773366332054,0.003407774725929,0.160115614533424,0.016764074563980,-0.004796552006155,-0.042859237641096,0.006506624165922,0.043610174208879));
res += mul(Get(s1,0,-dy), float4x4(0.019431345164776,0.127383306622505,-0.062640190124512,-0.065146125853062,0.001880817115307,0.022912168875337,-0.116743832826614,-0.017045190557837,0.046337611973286,-0.070907473564148,0.031763430684805,0.032495193183422,0.022396728396416,-0.046287130564451,-0.033165335655212,-0.004217302892357));
res += mul(Get(s1,0,0), float4x4(-0.032092992216349,-0.037035632878542,0.002318318001926,-0.140886574983597,0.081960961222649,0.020243681967258,-0.018483990803361,-0.065854981541634,0.061165742576122,0.044443089514971,0.105657316744328,-0.037324886769056,0.078829653561115,-0.058271989226341,0.017934646457434,0.055529110133648));
res += mul(Get(s1,0,dy), float4x4(0.026277543976903,-0.113890163600445,0.070920251309872,-0.024770120158792,0.058714658021927,-0.013370380736887,0.031917728483677,0.127163454890251,-0.019811451435089,0.091983400285244,-0.003091559512541,-0.078283295035362,-0.026139050722122,0.026497228071094,0.006373381707817,-0.007087053265423));
res += mul(Get(s1,dx,-dy), float4x4(-0.030145695433021,0.113282322883606,-0.129723504185677,-0.023647313937545,-0.046286188066006,-0.081681750714779,-0.041671916842461,-0.041298557072878,0.002788226818666,0.174302443861961,-0.039469774812460,-0.024376362562180,-0.008309208787978,-0.078072667121887,0.049974303692579,0.001579381991178));
res += mul(Get(s1,dx,0), float4x4(-0.012492409907281,0.018529128283262,0.126316547393799,0.017393276095390,0.015681069344282,0.102176077663898,0.024920346215367,-0.044727467000484,0.086081184446812,0.031990766525269,-0.022047476842999,0.013066502287984,0.165891274809837,0.046884227544069,0.061872486025095,-0.008008922450244));
res += mul(Get(s1,dx,dy), float4x4(0.104797221720219,-0.079001635313034,-0.061097268015146,0.020669180899858,-0.060696680098772,0.009617922827601,0.004104609135538,0.086060315370560,0.021961832419038,-0.058988805860281,0.042902417480946,0.027436967939138,-0.034306038171053,0.056017033755779,-0.093174852430820,-0.064355321228504));
res += mul(Get(s2,-dx,-dy), float4x4(0.067271746695042,0.069491960108280,-0.091680780053139,-0.155970901250839,0.061617031693459,0.167627885937691,0.101267248392105,-0.007421634625643,0.004294043872505,0.062882602214813,-0.020572660490870,0.050362583249807,-0.017582360655069,-0.037572618573904,-0.011349249631166,-0.086684457957745));
res += mul(Get(s2,-dx,0), float4x4(0.196102842688560,-0.009121482260525,0.083252131938934,-0.118073076009750,0.018546270206571,-0.039002232253551,0.019090490415692,0.066605158150196,0.102303460240364,0.008355457335711,0.065603248775005,-0.003275153692812,-0.096952721476555,0.012949473224580,-0.053446389734745,-0.102648019790649));
res += mul(Get(s2,-dx,dy), float4x4(-0.036126889288425,0.029534924775362,0.004578199237585,0.092714108526707,-0.103569120168686,-0.046722449362278,-0.049046542495489,0.028073491528630,-0.072641022503376,0.044674884527922,-0.066217109560966,-0.000116984716442,0.127630695700645,0.073627933859825,-0.051995910704136,0.066959366202354));
res += mul(Get(s2,0,-dy), float4x4(0.078818023204803,0.142129838466644,-0.151406615972519,-0.058321431279182,-0.086902610957623,-0.101452782750130,0.041187636554241,0.161529868841171,-0.050287179648876,-0.100869119167328,0.061926942318678,0.000860932690557,0.001439312123694,-0.137091025710106,-0.036710411310196,-0.090380974113941));
res += mul(Get(s2,0,0), float4x4(-0.203598350286484,0.012083318084478,0.176000982522964,0.065596394240856,0.175831556320190,0.036230295896530,-0.056653451174498,-0.001693689497188,-0.031639505177736,-0.010509797371924,0.069547325372696,-0.024943936616182,0.071597374975681,-0.140839770436287,0.131318837404251,-0.116006590425968));
res += mul(Get(s2,0,dy), float4x4(-0.094414599239826,-0.031199969351292,0.030769456177950,0.108557872474194,0.056232511997223,-0.154844298958778,0.101557560265064,-0.097090005874634,0.045885518193245,-0.132025212049484,0.021112304180861,0.014861301518977,0.043515551835299,-0.129090547561646,-0.037531964480877,0.088013924658298));
res += mul(Get(s2,dx,-dy), float4x4(0.079272411763668,0.125264465808868,-0.007677628193051,0.106798350811005,-0.076140753924847,-0.068981967866421,-0.035262055695057,-0.007841039448977,0.008865599520504,0.070956759154797,-0.109836749732494,-0.254704296588898,0.039340507239103,0.059043888002634,-0.053541541099548,-0.050501499325037));
res += mul(Get(s2,dx,0), float4x4(0.111829578876495,-0.135366886854172,0.110458172857761,0.038723342120647,0.037943419069052,0.020252460613847,0.063708253204823,-0.055208358913660,0.083090685307980,0.020744748413563,0.167860791087151,-0.009675383567810,-0.086643159389496,0.021767983213067,0.005232002120465,0.087393239140511));
res += mul(Get(s2,dx,dy), float4x4(0.167558372020721,-0.020811002701521,0.064513616263866,-0.073678180575371,0.011362711898983,-0.011321235448122,-0.116556026041508,0.036294132471085,-0.052619066089392,0.045276395976543,0.020752251148224,0.028087601065636,0.071101121604443,-0.049150101840496,0.056962490081787,-0.076914176344872));
res += mul(Get(s3,-dx,-dy), float4x4(0.206497848033905,0.096622265875340,-0.058886270970106,-0.050663374364376,-0.008441671729088,-0.058613132685423,0.011513778008521,0.029553670436144,0.012521501630545,-0.075910098850727,0.028527041897178,0.309798210859299,-0.076599225401878,0.024106733500957,-0.109182901680470,0.028806885704398));
res += mul(Get(s3,-dx,0), float4x4(-0.061011947691441,0.025220615789294,-0.078150190412998,0.062309339642525,-0.090691342949867,0.059776552021503,0.081244923174381,0.076187774538994,0.037425287067890,-0.074232116341591,-0.042508408427238,0.109055943787098,0.071488387882710,-0.011522344313562,-0.113708876073360,0.184212550520897));
res += mul(Get(s3,-dx,dy), float4x4(-0.076914027333260,-0.103698089718819,-0.011809642426670,-0.079136066138744,0.003868880914524,0.033446118235588,0.009050209075212,-0.157629340887070,-0.064839787781239,0.057326052337885,0.018054842948914,-0.087654620409012,-0.057795442640781,-0.039659343659878,-0.005332918837667,0.032513327896595));
res += mul(Get(s3,0,-dy), float4x4(-0.240753978490829,-0.053050506860018,-0.047862399369478,0.090361356735229,-0.030152268707752,0.020468873903155,0.075971655547619,0.140017822384834,-0.111132472753525,0.046566292643547,0.087253086268902,0.098089240491390,0.023960761725903,0.045536130666733,0.018742075189948,-0.016125479713082));
res += mul(Get(s3,0,0), float4x4(0.018042961135507,-0.135577797889709,-0.216525584459305,0.093466803431511,-0.082923784852028,0.027627369388938,-0.006759823765606,-0.036980830132961,-0.033527027815580,-0.124594889581203,-0.030178982764482,0.180572420358658,0.073710799217224,0.050492126494646,0.076786622405052,-0.100536093115807));
res += mul(Get(s3,0,dy), float4x4(0.023256959393620,0.064735926687717,0.215306103229523,-0.022100098431110,-0.009443872608244,0.000883524364326,-0.045215934514999,0.086394086480141,0.096322380006313,-0.012348424643278,-0.029061660170555,-0.014342485927045,-0.064079880714417,0.024680944159627,-0.064883619546890,-0.093460567295551));
res += mul(Get(s3,dx,-dy), float4x4(0.048076592385769,-0.007566627580673,0.199087262153625,0.043369572609663,-0.043830424547195,-0.065655954182148,-0.001564974430948,0.111834436655045,0.007629796862602,-0.008083080872893,0.060450457036495,-0.027356473729014,0.038042679429054,-0.016591444611549,0.086243338882923,0.048710495233536));
res += mul(Get(s3,dx,0), float4x4(-0.022664025425911,-0.101838320493698,-0.076760672032833,-0.024954738095403,0.012036101892591,0.038116149604321,-0.007614137604833,-0.099836036562920,-0.037222664803267,-0.044535472989082,-0.017321558669209,0.046394202858210,-0.015000070445240,0.056544959545135,0.034762460738420,-0.019478999078274));
res += mul(Get(s3,dx,dy), float4x4(0.191071346402168,-0.036612778902054,0.024217268452048,0.129985764622688,0.081958845257759,-0.057481542229652,0.061419256031513,0.007690154016018,-0.022801894694567,0.055323500186205,0.009267940185964,-0.028577346354723,0.116627685725689,-0.063240125775337,-0.111599981784821,0.040911242365837));
return max(float4(0,0,0,0), res);
}
