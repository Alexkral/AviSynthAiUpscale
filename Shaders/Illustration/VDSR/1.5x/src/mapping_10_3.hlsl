sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.000925994943827,-0.025743171572685,-0.047535009682178,0.154537096619606,0.051501963287592,0.035213455557823,0.072185553610325,-0.111309893429279,0.062750518321991,-0.040065158158541,0.013128474354744,0.018459409475327,0.037741951644421,0.035360258072615,0.021018158644438,-0.037814084440470));
res += mul(Get(s0,-dx,0), float4x4(0.020454701036215,-0.035404097288847,-0.133976474404335,0.086815387010574,-0.034266967326403,-0.025792092084885,-0.068606212735176,-0.013577395118773,-0.055820431560278,0.036799881607294,-0.116471230983734,0.050695072859526,-0.069924637675285,-0.084793746471405,-0.032738856971264,0.043314207345247));
res += mul(Get(s0,-dx,dy), float4x4(0.090537101030350,-0.011007233522832,0.013855271972716,0.003990065772086,-0.033638313412666,0.066325522959232,0.025936745107174,0.013359660282731,-0.152233421802521,-0.094009906053543,0.038622982800007,-0.004127466585487,-0.008553577587008,0.016729684546590,-0.045822355896235,-0.062915690243244));
res += mul(Get(s0,0,-dy), float4x4(-0.040880449116230,-0.082184031605721,0.125210568308830,0.113476298749447,0.045436281710863,-0.142968818545341,0.047579601407051,0.078991703689098,0.021623061969876,-0.020908949896693,-0.092833131551743,0.007971077226102,0.122877374291420,-0.112009733915329,0.023574156686664,0.103815011680126));
res += mul(Get(s0,0,0), float4x4(-0.025403454899788,-0.000843142799567,0.017716756090522,0.132739976048470,0.084021463990211,-0.064208999276161,0.003574382048100,0.096813231706619,-0.154271215200424,0.005579756572843,0.001284730038606,-0.003219920909032,-0.018090972676873,-0.152985736727715,-0.057541634887457,0.083357296884060));
res += mul(Get(s0,0,dy), float4x4(0.031804066151381,0.000809761055280,-0.002535038162023,-0.029505798593163,-0.089967571198940,-0.001446582842618,0.041419997811317,0.013541488908231,0.025886964052916,0.052561115473509,0.036289289593697,0.006412683986127,0.029021985828876,0.023896988481283,-0.038706403225660,0.106260776519775));
res += mul(Get(s0,dx,-dy), float4x4(0.095200993120670,-0.013745614327490,0.053758330643177,-0.015395103022456,0.081694766879082,-0.064598485827446,0.043022327125072,0.047109112143517,-0.063793227076530,-0.066721096634865,-0.056373588740826,-0.048697084188461,0.052531238645315,0.032866712659597,0.007970129139721,-0.098361551761627));
res += mul(Get(s0,dx,0), float4x4(0.021245792508125,0.028239116072655,0.018340466544032,0.070272214710712,-0.036517646163702,0.055903404951096,0.076098471879959,-0.050644900649786,-0.050205558538437,0.098083473742008,0.014240994118154,0.058635327965021,0.095821708440781,0.095560602843761,-0.067883752286434,0.027717262506485));
res += mul(Get(s0,dx,dy), float4x4(0.190040558576584,-0.060122858732939,0.035922192037106,-0.068012021481991,0.049269024282694,-0.138427704572678,0.008808147162199,0.118872478604317,-0.103135794401169,-0.026981903240085,0.055310450494289,0.025161964818835,-0.005815810058266,0.024248892441392,0.013511192984879,0.041547864675522));
res += mul(Get(s1,-dx,-dy), float4x4(0.012432461604476,-0.069247849285603,-0.099324941635132,0.102101325988770,0.129267871379852,-0.082087486982346,-0.107728593051434,-0.018666248768568,-0.035284645855427,-0.021421169862151,-0.050652749836445,-0.069391220808029,-0.055867355316877,-0.147988200187683,-0.033740475773811,0.056033316999674));
res += mul(Get(s1,-dx,0), float4x4(0.029086081311107,0.028205562382936,0.080694951117039,-0.005621217191219,-0.049275059252977,-0.094514340162277,0.032070625573397,0.044164229184389,-0.084317244589329,-0.013394217006862,-0.061513245105743,-0.000300244661048,-0.029181184247136,-0.023498265072703,0.120624139904976,-0.024044943973422));
res += mul(Get(s1,-dx,dy), float4x4(-0.039376925677061,-0.060262415558100,-0.018515769392252,-0.079079054296017,-0.059894047677517,-0.023462714627385,0.013761039823294,-0.021985936909914,-0.001128343748860,0.020234886556864,0.129948392510414,-0.085377618670464,-0.031088337302208,0.019074399024248,0.051950551569462,-0.053174465894699));
res += mul(Get(s1,0,-dy), float4x4(0.022407231852412,0.071413703262806,-0.044362306594849,0.122829027473927,0.030953917652369,0.037414349615574,0.077239401638508,-0.046052969992161,0.000172479340108,-0.110801525413990,-0.000303272041492,-0.048575717955828,0.019666822627187,0.052002761512995,-0.080747179687023,-0.009957150556147));
res += mul(Get(s1,0,0), float4x4(-0.126577854156494,0.047261953353882,-0.000883227854501,0.048279602080584,-0.008621104992926,0.117415994405746,-0.037213642150164,-0.004500407725573,-0.012084440328181,-0.073666006326675,0.031522732228041,0.066123813390732,0.174665614962578,0.046504795551300,0.021743487566710,0.114408589899540));
res += mul(Get(s1,0,dy), float4x4(0.033286228775978,-0.007566453423351,0.117039464414120,0.077607564628124,0.029915817081928,0.039243154227734,0.051918238401413,0.097224041819572,0.029857700690627,-0.061465978622437,-0.027859337627888,-0.123660773038864,-0.092529326677322,-0.041588984429836,-0.015707148239017,0.045327100902796));
res += mul(Get(s1,dx,-dy), float4x4(0.143734976649284,0.038732104003429,-0.063823118805885,-0.005430243909359,0.036199226975441,0.043119240552187,-0.006868486758322,-0.035216912627220,0.080051325261593,0.032836612313986,0.115617379546165,-0.035777989774942,-0.175472587347031,-0.107684940099716,-0.076999828219414,0.002064930507913));
res += mul(Get(s1,dx,0), float4x4(-0.030214069411159,0.059500418603420,0.106931693851948,0.045459181070328,-0.048701748251915,0.072300016880035,-0.041153922677040,-0.054807789623737,-0.048661325126886,0.032358940690756,0.180831357836723,0.114898823201656,-0.023645907640457,-0.062070302665234,-0.019366329535842,-0.017850128933787));
res += mul(Get(s1,dx,dy), float4x4(0.014410530216992,0.071192778646946,0.032448727637529,-0.186806648969650,-0.104809589684010,0.064495772123337,0.007722997572273,-0.006710598710924,0.069537922739983,-0.050773840397596,-0.097954049706459,0.003102532355115,-0.078481078147888,-0.088586069643497,0.027758698910475,0.023914068937302));
res += mul(Get(s2,-dx,-dy), float4x4(-0.054771516472101,-0.026546489447355,-0.058571223169565,0.022508405148983,0.034791219979525,0.039838895201683,-0.094839751720428,0.034615878015757,-0.144964620471001,-0.088345997035503,0.057048033922911,-0.090552940964699,-0.032826013863087,0.115059055387974,0.011035915464163,0.049390271306038));
res += mul(Get(s2,-dx,0), float4x4(-0.047360118478537,-0.028816454112530,-0.093713983893394,-0.062491305172443,-0.016137357801199,0.112862415611744,-0.042727574706078,0.104409210383892,0.069362282752991,-0.000874563411344,-0.061129879206419,0.001840816694312,0.008022725582123,0.009444618597627,0.002053415868431,-0.051390901207924));
res += mul(Get(s2,-dx,dy), float4x4(-0.034298263490200,-0.038930680602789,-0.099044755101204,-0.031288683414459,-0.045115478336811,0.102495349943638,0.014170506969094,0.106512077152729,0.010462203063071,-0.026719652116299,-0.071216173470020,0.015217526815832,0.105729006230831,0.011188346892595,0.003853875212371,-0.063170835375786));
res += mul(Get(s2,0,-dy), float4x4(0.110266759991646,-0.078765302896500,0.077134169638157,0.003432015655562,-0.036332827061415,-0.047173306345940,-0.045283634215593,-0.004811881575733,-0.001632730010897,0.047315523028374,-0.043222144246101,-0.007316101808101,-0.011539848521352,-0.008769310079515,0.022381659597158,0.024421755224466));
res += mul(Get(s2,0,0), float4x4(0.026378700509667,0.000814493570942,0.055937316268682,-0.039194971323013,-0.051972556859255,-0.021169940009713,0.055596426129341,0.104898102581501,0.101697996258736,0.046355750411749,-0.141587644815445,0.165363863110542,0.115870304405689,-0.005470682866871,0.085554249584675,-0.001679476699792));
res += mul(Get(s2,0,dy), float4x4(-0.049602568149567,0.003429568372667,0.075729653239250,-0.000855258258525,-0.137568011879921,0.062799513339996,-0.017961809411645,-0.071034841239452,-0.087021619081497,-0.003879783442244,-0.076957896351814,-0.029290491715074,0.022291660308838,-0.022793069481850,-0.028981979936361,0.070787146687508));
res += mul(Get(s2,dx,-dy), float4x4(0.066978320479393,0.087910622358322,-0.062484215945005,-0.037099413573742,0.055944960564375,-0.004863135050982,0.057315316051245,-0.000078863697127,-0.000634656986222,0.008907104842365,-0.132023751735687,0.008555456995964,-0.018962545320392,-0.049450613558292,0.019816519692540,-0.025531342253089));
res += mul(Get(s2,dx,0), float4x4(0.061002284288406,-0.014168611727655,0.059757571667433,-0.017363252118230,0.028523033484817,-0.024286480620503,0.140644133090973,0.054248869419098,0.099107317626476,0.090692386031151,0.039734736084938,0.006655418779701,-0.009124394506216,-0.058667741715908,-0.010201713070273,-0.016299325972795));
res += mul(Get(s2,dx,dy), float4x4(0.045265812426805,-0.017083749175072,-0.071409791707993,0.074624747037888,0.073869414627552,-0.014097844250500,-0.129235163331032,0.097788833081722,0.025160178542137,-0.023464731872082,-0.028283797204494,-0.059318169951439,-0.060956522822380,-0.040248859673738,-0.001762637053616,-0.047229956835508));
res += mul(Get(s3,-dx,-dy), float4x4(-0.020408162847161,0.033236239105463,-0.171465247869492,0.033625196665525,-0.098338998854160,0.022978510707617,0.015401187352836,0.058530744165182,0.057975545525551,-0.016416208818555,-0.023811025545001,0.076176151633263,0.020349284633994,-0.068906471133232,-0.072895459830761,-0.046102169901133));
res += mul(Get(s3,-dx,0), float4x4(-0.048498637974262,-0.040308766067028,-0.121300227940083,0.002679970115423,0.011572861112654,-0.117592938244343,-0.022036280483007,0.071580022573471,-0.032681349664927,-0.000574112753384,-0.045166220515966,0.036995578557253,-0.075554795563221,0.020792953670025,-0.120851114392281,-0.006635023280978));
res += mul(Get(s3,-dx,dy), float4x4(-0.125097766518593,-0.057752273976803,0.020581150427461,-0.099516443908215,-0.125330671668053,-0.057815775275230,-0.044111642986536,-0.069516427814960,-0.046872749924660,-0.041297137737274,0.058262076228857,0.012227641418576,0.026993026956916,-0.025412250310183,0.077665083110332,0.000346759246895));
res += mul(Get(s3,0,-dy), float4x4(-0.102462626993656,-0.049137774854898,0.032108351588249,-0.000444976525614,0.137798979878426,-0.051790632307529,-0.060009866952896,0.067534506320953,0.053130127489567,0.026525098830462,-0.003320651128888,-0.020976526662707,0.065963320434093,-0.153666153550148,0.091815955936909,-0.041321501135826));
res += mul(Get(s3,0,0), float4x4(-0.017920294776559,-0.107068285346031,-0.080856002867222,-0.114727728068829,-0.072091877460480,-0.044736195355654,0.024108465760946,0.005023493431509,-0.001809370238334,0.156317859888077,0.015262356027961,-0.043586805462837,-0.064977586269379,0.099089704453945,0.021188687533140,0.056750364601612));
res += mul(Get(s3,0,dy), float4x4(-0.077105648815632,-0.134417071938515,0.034435514360666,-0.001026972546242,-0.011341972276568,-0.097517393529415,0.006523319054395,0.142418935894966,0.014983702450991,0.076967269182205,0.105678640305996,0.042674332857132,-0.012896503321826,0.055193666368723,0.167114883661270,-0.043267097324133));
res += mul(Get(s3,dx,-dy), float4x4(0.025484196841717,-0.047770909965038,-0.117636255919933,0.000358101184247,0.029944170266390,-0.054637361317873,-0.090220235288143,-0.037986282259226,0.082343295216560,-0.034402694553137,-0.018618652597070,0.030837645754218,0.075942277908325,0.025993391871452,-0.090699948370457,-0.011596945114434));
res += mul(Get(s3,dx,0), float4x4(-0.021658761426806,0.037854883819818,-0.124737173318863,-0.158302083611488,0.011654230765998,0.117494352161884,0.123187609016895,-0.056879937648773,-0.039321117103100,-0.058890383690596,-0.033608693629503,0.103403992950916,-0.013272936455905,-0.037113063037395,-0.072996869683266,0.025543790310621));
res += mul(Get(s3,dx,dy), float4x4(-0.076226480305195,-0.005056284833699,0.006349013186991,-0.087559707462788,0.097220361232758,-0.084731146693230,-0.022167503833771,0.015635432675481,0.045403357595205,-0.054787639528513,-0.038227882236242,0.081423573195934,-0.002758329268545,-0.052859965711832,0.029486229643226,-0.056917943060398));
return max(float4(0,0,0,0), res);
}
