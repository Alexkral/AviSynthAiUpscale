sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.054054994136095,0.019615240395069,-0.015450433827937,0.045586273074150,0.056772928684950,0.045672815293074,0.012160887941718,-0.017215408384800,-0.085062071681023,-0.086726538836956,0.075888946652412,0.043828040361404,-0.042321477085352,-0.144392266869545,-0.046826001256704,0.058947999030352));
res += mul(Get(s0,-dx,0), float4x4(-0.018990268930793,0.036848116666079,0.008020405657589,0.061153307557106,0.101128526031971,0.082812324166298,-0.052158605307341,-0.079130545258522,0.150246769189835,-0.006861763074994,-0.093923106789589,0.053233228623867,0.028936982154846,-0.041346676647663,0.043420273810625,-0.133634328842163));
res += mul(Get(s0,-dx,dy), float4x4(0.049339532852173,-0.018222030252218,-0.024733511731029,-0.032830774784088,0.047473344951868,0.022567225620151,-0.014642274007201,0.005465821363032,0.022368615493178,0.005567626561970,0.042004853487015,-0.047361467033625,-0.026418764144182,-0.062249682843685,-0.048984993249178,-0.206195905804634));
res += mul(Get(s0,0,-dy), float4x4(-0.110641524195671,-0.025242084637284,-0.147812128067017,0.011448489502072,0.018529474735260,-0.053691484034061,-0.075494147837162,0.062472980469465,-0.060035772621632,0.014781151898205,-0.022048115730286,-0.089846350252628,-0.034838397055864,-0.023752875626087,-0.039656318724155,0.075138248503208));
res += mul(Get(s0,0,0), float4x4(0.018069231882691,-0.007248436100781,-0.085678197443485,0.017277074977756,-0.057571440935135,-0.069417655467987,-0.089316517114639,-0.052567794919014,-0.016649318858981,-0.112593315541744,-0.060633424669504,-0.107029438018799,-0.005885759834200,0.079678654670715,0.208687111735344,-0.138411954045296));
res += mul(Get(s0,0,dy), float4x4(0.052701462060213,-0.062670595943928,0.126899555325508,-0.071865268051624,0.008216992951930,0.048186428844929,-0.031264964491129,-0.106616526842117,0.069565601646900,-0.000935481104534,0.044915638864040,-0.106849364936352,0.008932130411267,0.079590588808060,-0.028158219531178,-0.125765517354012));
res += mul(Get(s0,dx,-dy), float4x4(-0.054246924817562,0.054439496248960,-0.030910182744265,-0.022055827081203,0.016046550124884,-0.017311964184046,-0.005180002190173,0.142109930515289,-0.073634527623653,0.177962303161621,-0.049313884228468,0.018714806064963,0.020470822229981,0.070118062198162,-0.041288327425718,0.157398611307144));
res += mul(Get(s0,dx,0), float4x4(0.012667286209762,0.009001693688333,0.064376987516880,-0.002841196488589,-0.104166395962238,0.102726399898529,-0.108010537922382,0.023824710398912,0.035673655569553,0.124114915728569,-0.110994093120098,-0.043295618146658,-0.020501039922237,0.134592682123184,0.062103979289532,-0.013479507528245));
res += mul(Get(s0,dx,dy), float4x4(0.015741184353828,-0.113756775856018,0.006472870241851,0.119731463491917,0.053227983415127,0.051905054599047,0.033699389547110,-0.048593576997519,0.015811685472727,0.064799971878529,0.063047692179680,-0.076466962695122,0.005417967215180,0.039090011268854,-0.060627825558186,-0.041641365736723));
res += mul(Get(s1,-dx,-dy), float4x4(-0.054939180612564,-0.004390628077090,-0.106556601822376,0.074418433010578,-0.071001932024956,0.004252709913999,-0.023341851308942,-0.023024333640933,0.011496487073600,0.012276899069548,0.081755481660366,-0.002367003588006,0.028017479926348,0.007010181434453,-0.009008568711579,-0.047903344035149));
res += mul(Get(s1,-dx,0), float4x4(-0.017517607659101,0.093285940587521,0.033734362572432,0.075694680213928,0.034769520163536,0.087265156209469,0.077829167246819,0.073166362941265,0.086661547422409,-0.057808429002762,-0.030048504471779,0.032285392284393,0.027604166418314,0.036527656018734,0.023434014990926,-0.044488210231066));
res += mul(Get(s1,-dx,dy), float4x4(-0.040841680020094,0.123174265027046,0.045631796121597,-0.010064506903291,-0.016996577382088,-0.046744182705879,0.017132634297013,0.011771108023822,0.087396979331970,0.034750927239656,-0.064436301589012,0.091407559812069,0.048193383961916,0.005409071221948,0.057180430740118,-0.011199102737010));
res += mul(Get(s1,0,-dy), float4x4(-0.055886551737785,-0.028787441551685,-0.018392387777567,0.047323286533356,-0.029450977221131,0.005583382211626,-0.023445049300790,-0.018826158717275,0.060701619833708,-0.026202671229839,0.070686809718609,-0.002449532039464,0.126749336719513,0.030854322016239,0.243172064423561,0.004981906618923));
res += mul(Get(s1,0,0), float4x4(0.011072057299316,-0.042791020125151,0.035594344139099,-0.024202128872275,0.084661692380905,-0.123500034213066,0.081396870315075,0.022922702133656,0.062724255025387,0.016466788947582,-0.045259140431881,0.049944981932640,0.023919364437461,-0.022715251892805,0.032878518104553,0.117212392389774));
res += mul(Get(s1,0,dy), float4x4(-0.020434454083443,0.052796106785536,0.015802457928658,0.075395517051220,-0.152301788330078,0.149871975183487,0.087949566543102,0.017454802989960,0.105482101440430,-0.005883346777409,-0.050168439745903,0.066028758883476,-0.008609053678811,-0.029131928458810,-0.017869206145406,-0.068647377192974));
res += mul(Get(s1,dx,-dy), float4x4(-0.012082180939615,-0.073890410363674,0.059956181794405,0.075791753828526,0.015654984861612,0.055790737271309,0.038564346730709,-0.022012181580067,-0.062508463859558,-0.033660538494587,0.055302880704403,0.007045197300613,-0.108160682022572,-0.017709251493216,0.066310219466686,0.086808711290359));
res += mul(Get(s1,dx,0), float4x4(-0.024333966895938,0.028839005157351,-0.015616138465703,-0.021400222554803,-0.089327797293663,0.001198583398946,0.003673705970868,0.034660287201405,-0.050830878317356,-0.025656396523118,0.009188466705382,0.039165847003460,-0.018377440050244,0.008846917189658,-0.096485488116741,0.067896112799644));
res += mul(Get(s1,dx,dy), float4x4(-0.007197306491435,0.049933452159166,-0.011462932452559,0.016543990001082,-0.110470175743103,0.050685055553913,0.116283141076565,0.022151764482260,0.041767023503780,0.017060102894902,0.020407833158970,0.043971803039312,0.019010394811630,0.076060175895691,0.047590363770723,0.015349864959717));
res += mul(Get(s2,-dx,-dy), float4x4(-0.033663127571344,0.001187252462842,0.023719722405076,0.051660008728504,0.003402868052945,-0.031661819666624,-0.059207569807768,0.040697026997805,-0.038677770644426,0.053210906684399,0.059237089008093,0.005514875520021,0.060080025345087,0.023965882137418,0.069777697324753,0.016051003709435));
res += mul(Get(s2,-dx,0), float4x4(0.061449583619833,0.018105257302523,0.060143731534481,0.030459463596344,-0.059487886726856,0.032965902239084,-0.025090465322137,-0.013412142172456,-0.028619114309549,-0.004737560171634,-0.053184207528830,0.102342382073402,-0.068426921963692,-0.044422645121813,0.016507416963577,-0.042664587497711));
res += mul(Get(s2,-dx,dy), float4x4(-0.024771643802524,0.014637105166912,0.033761721104383,-0.069889299571514,0.010210848413408,-0.059638176113367,0.078947164118290,-0.122197166085243,0.001195711782202,0.025803862139583,-0.007401606068015,-0.004974672570825,0.096636950969696,-0.041290570050478,0.040844757109880,-0.161796241998672));
res += mul(Get(s2,0,-dy), float4x4(-0.047442153096199,-0.049079854041338,-0.070979319512844,0.091304786503315,0.024089414626360,-0.085607454180717,0.029158025979996,0.040461935102940,0.051101114600897,0.032757382839918,0.097894661128521,0.006126367021352,0.081248238682747,-0.010863649658859,-0.123183988034725,0.119592159986496));
res += mul(Get(s2,0,0), float4x4(-0.015597234480083,-0.102473504841328,0.008744839578867,0.040270131081343,0.024086693301797,0.092970326542854,-0.036483328789473,0.014951119199395,-0.098417982459068,-0.013214590959251,0.102835655212402,0.005859735421836,-0.035029947757721,0.040816895663738,0.062341094017029,-0.018316239118576));
res += mul(Get(s2,0,dy), float4x4(0.006037560291588,0.011041617952287,-0.012080953456461,-0.104087315499783,0.046567283570766,-0.007501016836613,0.163290664553642,-0.137938559055328,-0.022963209077716,0.033524986356497,-0.043199062347412,-0.054121047258377,0.034733504056931,-0.062849134206772,-0.022866226732731,-0.018583597615361));
res += mul(Get(s2,dx,-dy), float4x4(-0.034398704767227,-0.023529825732112,-0.054457753896713,0.068006366491318,-0.003134625498205,0.078919962048531,-0.054134842008352,0.058308381587267,0.005464384797961,0.061840921640396,-0.051204714924097,0.062938980758190,0.055248018354177,-0.175233095884323,-0.146226450800896,0.154336139559746));
res += mul(Get(s2,dx,0), float4x4(-0.070970587432384,0.140045568346977,0.059606757014990,0.106030330061913,-0.001102597452700,-0.017863688990474,-0.063506670296192,-0.019649399444461,0.027185821905732,0.257655024528503,0.008189878426492,-0.085074409842491,0.087539158761501,-0.079432025551796,0.118133217096329,0.092933662235737));
res += mul(Get(s2,dx,dy), float4x4(-0.021834451705217,0.019066786393523,-0.006812453735620,-0.063353762030602,-0.052665039896965,-0.021385082975030,0.018421556800604,-0.069977074861526,0.075803369283676,0.086167022585869,-0.021250098943710,-0.156128078699112,0.057727497071028,-0.105606935918331,0.000762008712627,0.118328861892223));
res += mul(Get(s3,-dx,-dy), float4x4(0.003385328920558,-0.060044657438993,-0.140711575746536,0.048903610557318,-0.005429239943624,0.035673025995493,0.116436630487442,-0.008579539135098,0.074629962444305,-0.010765319690108,-0.180530905723572,0.025573840364814,-0.040003392845392,0.018358364701271,-0.115772955119610,0.040138252079487));
res += mul(Get(s3,-dx,0), float4x4(-0.066072314977646,-0.036969095468521,0.099445231258869,0.082638271152973,0.040525190532207,-0.013780279085040,0.142942175269127,0.081022687256336,-0.133560940623283,-0.006639369297773,-0.057293307036161,-0.118092760443687,0.055752914398909,0.009105796925724,0.012106616981328,0.008269373327494));
res += mul(Get(s3,-dx,dy), float4x4(-0.017128927633166,-0.004453372210264,0.031488191336393,0.040569845587015,-0.001810424844734,-0.009352428838611,0.050903230905533,-0.098619893193245,-0.041713450103998,-0.030610017478466,0.044673819094896,-0.091716282069683,-0.072943702340126,0.003887223545462,-0.007401666138321,-0.149430558085442));
res += mul(Get(s3,0,-dy), float4x4(0.057833228260279,-0.117454662919044,-0.101849362254143,0.089410081505775,0.009335646405816,0.014095011167228,0.050804790109396,0.007748878095299,0.053864665329456,0.041145890951157,-0.261433273553848,0.050977941602468,-0.047975573688745,-0.115506865084171,0.009294631890953,-0.003822115715593));
res += mul(Get(s3,0,0), float4x4(-0.087213158607483,0.040927834808826,0.107395343482494,0.072012245655060,0.128075912594795,0.087423451244831,0.041332937777042,-0.005610703490674,0.088000655174255,0.129269912838936,-0.056405089795589,0.015869600698352,0.032279331237078,0.042261544615030,-0.064252287149429,0.104556813836098));
res += mul(Get(s3,0,dy), float4x4(-0.019905410706997,-0.005137110594660,-0.081452347338200,-0.057185076177120,0.255784124135971,-0.001365610514767,0.041263166815042,-0.118770048022270,0.064208522439003,-0.047368247061968,0.031121337786317,0.083456471562386,0.010563583113253,0.056209594011307,-0.004999509081244,-0.062053538858891));
res += mul(Get(s3,dx,-dy), float4x4(0.017745321616530,-0.000247495336225,-0.087001644074917,0.026811877265573,0.006516068708152,-0.131226003170013,-0.047637332230806,0.022035881876945,0.074903815984726,0.072049498558044,-0.117017202079296,0.044322244822979,0.006467854604125,-0.034908901900053,0.057737823575735,0.007374226115644));
res += mul(Get(s3,dx,0), float4x4(-0.094018302857876,0.000551829696633,0.007309431210160,0.081961512565613,0.148094549775124,-0.057485237717628,0.045589338988066,-0.011415341868997,0.086113803088665,-0.096749737858772,0.009768937714398,-0.072812028229237,-0.009252272546291,0.085428409278393,0.015648970380425,0.120064787566662));
res += mul(Get(s3,dx,dy), float4x4(-0.014487880282104,-0.067891813814640,-0.111386053264141,-0.068795323371887,-0.013490030542016,-0.123120203614235,0.000561371212825,-0.106970608234406,0.047137513756752,0.001423812471330,-0.001310702995397,-0.113136231899261,-0.024883965030313,0.052870601415634,0.131180778145790,-0.046650562435389));
return max(float4(0,0,0,0), res);
}
