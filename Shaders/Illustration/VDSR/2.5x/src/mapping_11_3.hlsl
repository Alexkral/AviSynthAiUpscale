sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.025984330102801,-0.092575520277023,-0.106360413134098,0.152609020471573,-0.027929686009884,0.178714439272881,0.140960350632668,0.119854614138603,0.035908717662096,-0.066970869898796,-0.012907766737044,0.247946694493294,-0.031897496432066,-0.003262861398980,0.226555243134499,0.026955123990774));
res += mul(Get(s0,-dx,0), float4x4(-0.106297113001347,-0.047430094331503,-0.135386019945145,-0.118983618915081,-0.206315487623215,-0.161933898925781,0.005215005483478,-0.088311880826950,-0.105028890073299,-0.152224749326706,-0.108491905033588,-0.056458391249180,0.036984555423260,-0.119811281561852,0.182445600628853,0.051426805555820));
res += mul(Get(s0,-dx,dy), float4x4(0.232321038842201,-0.012867233715951,-0.024392746388912,-0.111700169742107,0.064381554722786,-0.099612109363079,-0.034937590360641,-0.190259128808975,-0.067936748266220,-0.002980652032420,-0.031908348202705,0.015059072524309,0.036344580352306,-0.007590278051794,-0.005684352014214,-0.029363248497248));
res += mul(Get(s0,0,-dy), float4x4(-0.120309486985207,-0.060419075191021,0.007355737034231,0.098388344049454,-0.064734287559986,0.016476226970553,0.221308693289757,0.281611084938049,0.279665797948837,-0.045617606490850,0.029232552275062,0.280739605426788,-0.125016272068024,0.117500565946102,0.025829678401351,-0.087902940809727));
res += mul(Get(s0,0,0), float4x4(-0.044572670012712,-0.022112209349871,-0.047410536557436,-0.062841087579727,0.058532051742077,-0.032905627042055,-0.034577060490847,0.308370769023895,-0.003233383642510,-0.155356124043465,-0.093598343431950,0.160104289650917,-0.020458815619349,-0.057261951267719,0.143223658204079,-0.073084697127342));
res += mul(Get(s0,0,dy), float4x4(0.146602690219879,0.014469753950834,0.236246317625046,-0.175306871533394,0.186951071023941,-0.064211696386337,0.004794765729457,0.043053101748228,0.070732422173023,-0.022529019042850,-0.052511591464281,0.136115640401840,0.032768536359072,-0.040347915142775,-0.030180027708411,0.018208958208561));
res += mul(Get(s0,dx,-dy), float4x4(-0.117748491466045,-0.118988670408726,-0.074464358389378,-0.049417808651924,-0.084738150238991,0.100446991622448,-0.090800017118454,-0.141866520047188,-0.118770495057106,0.180762022733688,-0.069813430309296,0.040242508053780,-0.121086418628693,0.304513752460480,0.020331898704171,0.029057996347547));
res += mul(Get(s0,dx,0), float4x4(-0.096121013164520,-0.076656483113766,-0.042600817978382,-0.054507482796907,-0.029802080243826,-0.059720925986767,-0.011866065673530,-0.126544415950775,-0.034787856042385,-0.011418347246945,-0.117920450866222,0.050755001604557,0.194141834974289,0.189268782734871,0.013076563365757,0.201576858758926));
res += mul(Get(s0,dx,dy), float4x4(-0.169724360108376,-0.020739169791341,0.026795353740454,-0.004270965233445,0.067807294428349,-0.041013069450855,0.183115631341934,-0.120108231902122,0.018050182610750,-0.062604464590549,-0.086826011538506,-0.044330034404993,0.162333443760872,0.007977256551385,-0.108765549957752,-0.076027065515518));
res += mul(Get(s1,-dx,-dy), float4x4(0.166295185685158,0.185977876186371,-0.117186963558197,-0.005303173325956,0.096458353102207,-0.145939871668816,-0.151540666818619,0.132081314921379,0.199480280280113,0.005335699766874,0.142670318484306,0.084835000336170,-0.053803611546755,0.030362412333488,0.006553058978170,-0.047163546085358));
res += mul(Get(s1,-dx,0), float4x4(-0.088905550539494,0.029949851334095,-0.030024318024516,-0.004193452652544,-0.219108805060387,-0.069788739085197,-0.098449960350990,0.063413687050343,0.029783699661493,0.060235239565372,0.096807755529881,-0.060146853327751,-0.096147887408733,-0.151354059576988,-0.087869301438332,-0.028333976864815));
res += mul(Get(s1,-dx,dy), float4x4(-0.041585996747017,-0.079619854688644,-0.123175919055939,0.039170660078526,0.068147562444210,-0.037368152290583,0.128707423806190,0.044937428086996,-0.089907482266426,-0.019740767776966,0.028450887650251,-0.012083952315152,0.017560094594955,-0.098311208188534,0.120948046445847,0.012084561400115));
res += mul(Get(s1,0,-dy), float4x4(-0.118198379874229,0.268501937389374,-0.176626473665237,0.053885117173195,-0.098845496773720,-0.107765428721905,-0.164171442389488,0.051518019288778,-0.017788719385862,-0.097533822059631,0.096629649400711,0.344489663839340,0.058855842798948,0.095340870320797,0.036945167928934,0.186903625726700));
res += mul(Get(s1,0,0), float4x4(-0.227141812443733,-0.102144755423069,-0.110910512506962,-0.163942709565163,-0.076222643256187,-0.038597509264946,-0.062671698629856,-0.136391401290894,-0.015279312618077,0.049628820270300,0.036063406616449,0.102353371679783,0.028586570173502,0.029129998758435,0.016052529215813,0.212438583374023));
res += mul(Get(s1,0,dy), float4x4(-0.031757995486259,-0.130431696772575,-0.104637846350670,-0.282492101192474,0.122931770980358,-0.050797451287508,0.211706072092056,0.000541784742381,0.009456859901547,-0.093789398670197,-0.099874399602413,0.212217688560486,0.044483941048384,-0.100947923958302,0.046039592474699,0.026042871177197));
res += mul(Get(s1,dx,-dy), float4x4(-0.152510970830917,0.082247667014599,-0.188202112913132,-0.112867973744869,-0.045384820550680,-0.058567814528942,-0.156798705458641,0.006140539888293,-0.101801708340645,-0.049609739333391,-0.064252920448780,-0.143357917666435,0.026854660362005,0.076882362365723,-0.145060598850250,0.044037774205208));
res += mul(Get(s1,dx,0), float4x4(-0.030442954972386,-0.011106552556157,-0.134430155158043,-0.063871115446091,0.089406646788120,-0.155151486396790,-0.051041878759861,-0.113703839480877,0.055685915052891,0.056825030595064,0.041495759040117,-0.219617486000061,-0.005340110044926,0.051200665533543,-0.127244949340820,0.042478021234274));
res += mul(Get(s1,dx,dy), float4x4(0.263249933719635,-0.039438504725695,-0.150370731949806,-0.385468959808350,-0.060639198869467,-0.095863297581673,0.266823619604111,-0.152194127440453,-0.051651332527399,0.013684385456145,-0.077672757208347,-0.073895141482353,-0.002713575959206,-0.093003369867802,-0.038115203380585,-0.331942230463028));
res += mul(Get(s2,-dx,-dy), float4x4(-0.090787537395954,-0.093689262866974,0.107319489121437,0.043121766299009,-0.026223372668028,-0.027869034558535,0.010208123363554,-0.120345242321491,-0.199822127819061,-0.067331388592720,-0.096112325787544,-0.213115513324738,0.014367302879691,0.248843058943748,0.010155912488699,0.099717646837234));
res += mul(Get(s2,-dx,0), float4x4(-0.191662967205048,-0.153967037796974,0.152295306324959,-0.118127264082432,-0.023487079888582,0.118551798164845,0.144271507859230,-0.089173927903175,0.015841212123632,0.045782972127199,-0.093424886465073,-0.247899755835533,-0.131242483854294,-0.099827907979488,-0.050569541752338,0.081349171698093));
res += mul(Get(s2,-dx,dy), float4x4(0.358209520578384,-0.071356199681759,0.174590542912483,-0.063831709325314,0.027634106576443,-0.021453345194459,0.143165081739426,0.065555244684219,0.399208188056946,0.060620583593845,-0.117089040577412,-0.166825190186501,0.114777132868767,-0.001600790652446,-0.117491394281387,-0.078031584620476));
res += mul(Get(s2,0,-dy), float4x4(-0.112805463373661,-0.132013037800789,0.138899490237236,0.048139151185751,-0.002086293185130,-0.044183291494846,0.045883927494287,0.193195775151253,-0.129137396812439,-0.142545372247696,0.134618759155273,-0.118439599871635,-0.157930135726929,0.206198200583458,0.089155398309231,-0.014512400142848));
res += mul(Get(s2,0,0), float4x4(-0.064573891460896,-0.127513140439987,0.026163492351770,-0.048095826059580,-0.035624977201223,-0.030214983969927,0.153498530387878,-0.086707018315792,-0.165888145565987,-0.015892302617431,0.036475315690041,-0.151006966829300,-0.052771337330341,0.026352817192674,-0.001697218976915,-0.122665405273438));
res += mul(Get(s2,0,dy), float4x4(0.063569664955139,-0.247849211096764,-0.009029814973474,-0.111528262495995,0.103114709258080,0.135500296950340,0.338475346565247,-0.044917903840542,-0.173290535807610,0.078817151486874,-0.114502109587193,-0.121170282363892,0.111341021955013,0.104982942342758,0.031866412609816,-0.006562220863998));
res += mul(Get(s2,dx,-dy), float4x4(-0.090542048215866,-0.044026266783476,-0.036262899637222,-0.058331374078989,0.055316600948572,-0.088687464594841,-0.095987379550934,0.069235309958458,0.222178772091866,-0.121502824127674,0.183423236012459,-0.061967816203833,-0.108866952359676,0.038669027388096,0.160371914505959,0.010077421553433));
res += mul(Get(s2,dx,0), float4x4(-0.106148712337017,0.047760520130396,0.057231787592173,0.129334270954132,0.025447947904468,-0.180895820260048,-0.078833408653736,-0.053073566406965,-0.073923207819462,0.059706952422857,-0.098358131945133,-0.118575736880302,-0.044841680675745,0.015872867777944,0.261464595794678,-0.077752389013767));
res += mul(Get(s2,dx,dy), float4x4(0.042817641049623,-0.070075429975986,-0.110524840652943,-0.241137474775314,-0.166771873831749,0.025618083775043,-0.088643647730350,-0.044053956866264,-0.079986467957497,-0.070029467344284,-0.141675636172295,-0.233653932809830,-0.162101507186890,0.198085799813271,0.044279444962740,-0.067174069583416));
res += mul(Get(s3,-dx,-dy), float4x4(-0.087527789175510,-0.088130332529545,0.080698452889919,0.080977164208889,-0.032742280513048,-0.156598940491676,-0.010795731097460,-0.096593178808689,0.109640397131443,-0.097021281719208,0.133186161518097,-0.028511675074697,0.105351813137531,0.195129543542862,0.098751284182072,-0.026005700230598));
res += mul(Get(s3,-dx,0), float4x4(0.001430894364603,-0.067134551703930,0.001266259350814,0.094216048717499,0.100928723812103,0.185831084847450,-0.047192331403494,-0.154395267367363,0.167057529091835,0.380643844604492,-0.028402531519532,0.222446665167809,0.139502272009850,0.171561598777771,0.030424600467086,0.471980124711990));
res += mul(Get(s3,-dx,dy), float4x4(0.217813178896904,-0.047017648816109,0.086587101221085,0.017625972628593,0.028603948652744,0.083040289580822,-0.022044768556952,-0.169527754187584,-0.256605237722397,0.093211069703102,0.092894047498703,0.026990175247192,0.037530627101660,0.045744437724352,-0.137047991156578,-0.096087850630283));
res += mul(Get(s3,0,-dy), float4x4(-0.217377647757530,-0.000538230466191,0.085992947220802,-0.138511180877686,-0.019775360822678,-0.102026201784611,0.183029130101204,-0.106939807534218,-0.096885673701763,-0.163615137338638,0.106956094503403,0.015758475288749,-0.079615235328674,0.136430159211159,0.241947710514069,0.065773531794548));
res += mul(Get(s3,0,0), float4x4(0.227261707186699,0.017782432958484,0.046029284596443,-0.053209640085697,0.062097042798996,0.082655154168606,-0.038279507309198,0.052589152008295,0.005464822519571,0.167509153485298,0.132965162396431,0.119731038808823,0.000117227886221,0.102622933685780,0.075015850365162,0.373622357845306));
res += mul(Get(s3,0,dy), float4x4(-0.084365524351597,-0.137909933924675,-0.030050300061703,-0.144856616854668,-0.012018408626318,0.071752637624741,-0.060013905167580,-0.009808022528887,0.200372874736786,0.002828480675817,0.233910605311394,0.009606448933482,0.102360069751740,0.019549729302526,0.155760303139687,-0.201470166444778));
res += mul(Get(s3,dx,-dy), float4x4(-0.001548254047520,-0.247818931937218,0.152088135480881,-0.086735837161541,0.132329329848289,-0.157003119587898,0.129624754190445,0.028002286329865,-0.053684547543526,-0.146372601389885,-0.022558843716979,-0.071451716125011,-0.099472962319851,0.046063024550676,0.095622874796391,0.042153112590313));
res += mul(Get(s3,dx,0), float4x4(0.008570902049541,-0.090971030294895,0.108172588050365,-0.062066141515970,-0.021421415731311,0.198335051536560,-0.120467603206635,0.021328030154109,-0.110336624085903,-0.090874344110489,-0.222532659769058,-0.121824383735657,-0.064346969127655,0.002203973243013,-0.096356831490993,0.216561198234558));
res += mul(Get(s3,dx,dy), float4x4(0.079388968646526,0.123721800744534,-0.068075835704803,-0.274142891168594,-0.089201174676418,0.085830561816692,0.006637416314334,-0.116505496203899,-0.089052528142929,0.247542470693588,-0.023101050406694,0.070218414068222,0.048069730401039,-0.015969535335898,0.048508964478970,-0.052735172212124));
return max(float4(0,0,0,0), res);
}
