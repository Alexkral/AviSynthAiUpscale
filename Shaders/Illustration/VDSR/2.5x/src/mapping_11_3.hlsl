sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.158724069595337,0.315154939889908,0.177938297390938,-0.227622792124748,0.013898289762437,0.120872430503368,-0.030967673286796,0.187916800379753,-0.113651677966118,0.161679685115814,-0.075114712119102,0.048312745988369,0.021794645115733,0.031168175861239,0.072864681482315,-0.133805334568024));
res += mul(Get(s0,-dx,0), float4x4(-0.098168656229973,-0.057539671659470,-0.050735548138618,0.133988171815872,0.035421237349510,0.175279945135117,0.070354916155338,-0.059586662799120,0.073951192200184,0.007187376264483,0.034909013658762,0.102533407509327,0.031844448298216,0.164281338453293,0.018580812960863,-0.123716197907925));
res += mul(Get(s0,-dx,dy), float4x4(-0.002251234371215,-0.077048800885677,0.031614124774933,0.040048878639936,0.090738102793694,-0.065618246793747,0.271466672420502,-0.045652288943529,-0.160278066992760,-0.176190510392189,0.145789876580238,-0.053820915520191,0.053959853947163,-0.064934350550175,-0.178801745176315,-0.044630598276854));
res += mul(Get(s0,0,-dy), float4x4(0.105035133659840,0.224040448665619,0.033470269292593,0.066473938524723,0.080565191805363,-0.070716403424740,0.171444714069366,0.078891426324844,0.066694624722004,-0.063139677047729,-0.062259752303362,0.080424651503563,0.047393061220646,0.072988517582417,-0.013999489136040,0.050501827150583));
res += mul(Get(s0,0,0), float4x4(0.023640098050237,0.046494692564011,0.064495503902435,0.142249435186386,0.053834676742554,0.101883143186569,-0.142930001020432,0.028733296319842,0.115466542541981,0.019433423876762,-0.091131120920181,0.154368355870247,-0.082609854638577,-0.075723640620708,0.055187404155731,-0.039507731795311));
res += mul(Get(s0,0,dy), float4x4(-0.097397997975349,0.066756941378117,-0.137084990739822,0.070728354156017,0.174442842602730,0.046691261231899,-0.121567167341709,0.007792286574841,-0.087490454316139,0.230585590004921,0.037363789975643,0.071443699300289,0.042191311717033,0.141977965831757,-0.091907575726509,0.012171701528132));
res += mul(Get(s0,dx,-dy), float4x4(-0.112150594592094,-0.222015514969826,-0.042954642325640,-0.010568073019385,0.217112913727760,-0.047181591391563,-0.158460587263107,0.038103345781565,0.013536645099521,0.209576725959778,-0.129430666565895,-0.043562524020672,-0.079224869608879,-0.011070397682488,0.079747304320335,-0.191426053643227));
res += mul(Get(s0,dx,0), float4x4(-0.127130299806595,-0.125426173210144,0.070523455739021,0.157154440879822,0.163591176271439,-0.007041660137475,0.048551905900240,0.043547637760639,0.091985948383808,0.162045389413834,-0.101408846676350,-0.018144290894270,-0.110822379589081,-0.081244878470898,0.323907703161240,0.133673563599586));
res += mul(Get(s0,dx,dy), float4x4(-0.088620357215405,0.036041628569365,0.163471072912216,-0.025290245190263,0.115348301827908,0.127026364207268,-0.022887449711561,0.108649224042892,0.123929373919964,-0.062904015183449,0.015197993256152,-0.122831419110298,0.105376563966274,0.068583711981773,-0.167033091187477,-0.226101547479630));
res += mul(Get(s1,-dx,-dy), float4x4(-0.099872007966042,-0.001975753577426,-0.254394978284836,-0.161878332495689,0.136844694614410,-0.037394944578409,-0.150684356689453,0.098698131740093,0.009468086995184,-0.020369259640574,0.131927028298378,0.013586815446615,0.156384989619255,-0.208947747945786,0.126848563551903,0.001175678800792));
res += mul(Get(s1,-dx,0), float4x4(-0.033179752528667,0.000157399714226,0.003164812922478,-0.003155331593007,0.223447546362877,-0.155376508831978,-0.024538841098547,-0.049931831657887,-0.097478806972504,0.026657884940505,-0.124510720372200,-0.112959004938602,-0.033125434070826,-0.094993904232979,-0.079517222940922,-0.031559474766254));
res += mul(Get(s1,-dx,dy), float4x4(0.144209086894989,-0.011568055488169,-0.000456295732874,-0.039380196481943,0.026491645723581,0.259508818387985,-0.101312123239040,0.163120597600937,-0.046088065952063,0.015138935297728,-0.055650785565376,-0.068998977541924,0.190380036830902,0.092102944850922,-0.186297938227654,-0.143896460533142));
res += mul(Get(s1,0,-dy), float4x4(-0.102825991809368,-0.062032300978899,-0.061657741665840,-0.043374054133892,-0.061414681375027,0.070773288607597,-0.081327252089977,0.220155879855156,0.017064535990357,0.104190349578857,0.021614763885736,-0.016073348000646,-0.064284719526768,0.152881503105164,0.093615822494030,0.093436971306801));
res += mul(Get(s1,0,0), float4x4(0.122495181858540,-0.057985194027424,-0.070488475263119,0.037017133086920,0.026792841032147,-0.077089138329029,0.131197184324265,0.107080876827240,0.193121269345284,0.030594525858760,0.062241293489933,-0.106987074017525,0.213036000728607,-0.124794863164425,0.086140915751457,-0.012667635455728));
res += mul(Get(s1,0,dy), float4x4(0.004390545655042,0.105739727616310,0.093033276498318,-0.019630247727036,-0.036933723837137,0.057493925094604,0.233195438981056,-0.002539866371080,0.049604006111622,0.025248853489757,0.114642396569252,0.107959941029549,0.075590990483761,0.060606569051743,0.086520709097385,-0.009218439459801));
res += mul(Get(s1,dx,-dy), float4x4(0.165946215391159,-0.121997155249119,-0.054768703877926,0.020720981061459,0.072765164077282,-0.054902695119381,-0.045213017612696,-0.069909006357193,0.073773078620434,-0.110945336520672,0.017787568271160,-0.010031890124083,-0.082743920385838,0.086567834019661,-0.056721132248640,-0.072891682386398));
res += mul(Get(s1,dx,0), float4x4(0.167016789317131,-0.048629276454449,0.061518203467131,0.011581061407924,0.016323104500771,-0.076703377068043,-0.059355203062296,0.032018642872572,0.063059307634830,0.003207379952073,0.204000815749168,0.027136528864503,-0.150989800691605,0.003211802104488,-0.012485220097005,-0.145890325307846));
res += mul(Get(s1,dx,dy), float4x4(0.111089579761028,-0.061509303748608,-0.022529216483235,0.080503664910793,-0.074364744126797,0.002106268890202,0.079073585569859,0.119327723979950,-0.044834431260824,0.003999656531960,0.064408011734486,0.143499076366425,0.064171053469181,0.080086968839169,0.178533092141151,-0.014138775877655));
res += mul(Get(s2,-dx,-dy), float4x4(-0.013704965822399,0.046542089432478,-0.007895749993622,-0.176144152879715,0.018198573961854,-0.116783738136292,-0.024437410756946,0.016280552372336,-0.108198396861553,0.119214348495007,0.116039149463177,0.129486605525017,-0.073427803814411,-0.095384478569031,-0.066277816891670,0.032293073832989));
res += mul(Get(s2,-dx,0), float4x4(0.206489846110344,0.053156424313784,0.140117704868317,-0.138521254062653,0.010793291032314,-0.053435575217009,-0.001824529725127,0.079911947250366,-0.357485920190811,-0.007161969318986,0.100623555481434,0.098724685609341,-0.181209176778793,-0.133377388119698,-0.004793228581548,-0.034419704228640));
res += mul(Get(s2,-dx,dy), float4x4(-0.055446203798056,-0.143330529332161,-0.075851552188396,0.086164899170399,-0.049331001937389,-0.091642461717129,-0.084625877439976,0.070226423442364,-0.174229085445404,-0.050504952669144,0.119415558874607,0.231684342026711,-0.019633956253529,-0.026745500043035,-0.006314371246845,-0.012338771484792));
res += mul(Get(s2,0,-dy), float4x4(-0.232807040214539,-0.143449515104294,-0.111182361841202,-0.196240752935410,-0.015021473169327,0.190586015582085,0.091384314000607,0.129924952983856,0.157647460699081,-0.112240612506866,-0.058062784373760,0.110124759376049,-0.102518327534199,0.062630720436573,0.162513226270676,-0.077478356659412));
res += mul(Get(s2,0,0), float4x4(0.112713649868965,0.131889134645462,0.029436249285936,0.029225455597043,-0.151676282286644,-0.055008891969919,-0.102580562233925,0.122719205915928,0.149169564247131,0.087619610130787,0.128027871251106,-0.134918928146362,0.062459666281939,-0.036479230970144,-0.014270702376962,-0.027897026389837));
res += mul(Get(s2,0,dy), float4x4(0.026751382276416,-0.069117434322834,-0.023870140314102,0.003628680715337,-0.004887490998954,0.125784143805504,-0.009544769302011,0.132044345140457,0.222447469830513,0.065598800778389,0.225990876555443,0.061740338802338,0.181071236729622,-0.088686831295490,-0.108667448163033,-0.063369020819664));
res += mul(Get(s2,dx,-dy), float4x4(-0.107348695397377,-0.038509678095579,0.061478860676289,-0.044553272426128,0.038974259048700,0.100920252501965,0.331499248743057,0.016764856874943,-0.181878954172134,-0.016103446483612,0.117527984082699,-0.112408906221390,0.047077078372240,-0.293106973171234,-0.121004566550255,-0.019607454538345));
res += mul(Get(s2,dx,0), float4x4(-0.009597999043763,-0.037758827209473,0.036006700247526,-0.072663731873035,0.225156649947166,-0.121080838143826,-0.169380217790604,0.079583458602428,0.162332013249397,-0.002850706921890,0.102966099977493,-0.005237857811153,0.100078567862511,-0.261200368404388,-0.041121263056993,0.014546150341630));
res += mul(Get(s2,dx,dy), float4x4(0.020612902939320,0.105599842965603,-0.108662053942680,0.040833447128534,0.297691017389297,-0.186447292566299,0.058857608586550,0.050045315176249,0.098898105323315,-0.176628187298775,0.041978467255831,0.073000319302082,0.029375320300460,-0.000313443975756,-0.143127083778381,0.020780600607395));
res += mul(Get(s3,-dx,-dy), float4x4(0.107302702963352,0.093117937445641,-0.191638439893723,0.057450402528048,0.083452060818672,0.163066402077675,-0.056405253708363,-0.069265976548195,0.219025015830994,-0.001266447943635,0.036516051739454,-0.057892221957445,0.092563211917877,0.155164718627930,0.071434870362282,-0.170936822891235));
res += mul(Get(s3,-dx,0), float4x4(-0.192110568284988,-0.071877285838127,0.017928581684828,0.022706540301442,0.170867040753365,0.010403471998870,0.162194192409515,-0.058960352092981,0.057619895786047,0.052797451615334,0.322552770376205,0.102954529225826,0.248434424400330,0.043073788285255,0.073147855699062,0.044127412140369));
res += mul(Get(s3,-dx,dy), float4x4(0.054357435554266,0.011481489986181,0.093171596527100,0.199230074882507,0.057150233536959,0.081130363047123,-0.011354459449649,0.014385946094990,-0.099159501492977,0.081595733761787,0.025893310084939,-0.055157631635666,-0.122684136033058,0.030467454344034,0.124695323407650,-0.010584928095341));
res += mul(Get(s3,0,-dy), float4x4(0.107980079948902,-0.094003506004810,-0.016606697812676,-0.124956771731377,0.076058641076088,0.154856190085411,-0.000216962303966,0.063045687973499,0.091527216136456,0.099802918732166,0.096876330673695,-0.102316841483116,-0.036083374172449,-0.132894098758698,0.034868706017733,0.154585182666779));
res += mul(Get(s3,0,0), float4x4(0.016280179843307,-0.033673573285341,0.090384207665920,0.048891156911850,0.078907117247581,0.166176423430443,0.049696385860443,0.131986677646637,-0.066099077463150,0.089475557208061,0.093835934996605,-0.015962861478329,0.059897661209106,-0.041667189449072,-0.063369274139404,0.226077497005463));
res += mul(Get(s3,0,dy), float4x4(-0.155763551592827,-0.199002057313919,-0.244446486234665,0.130749240517616,-0.029755096882582,0.130724474787712,-0.164709165692329,-0.008365176618099,-0.045581288635731,-0.049051221460104,-0.081532962620258,-0.098217166960239,-0.021913707256317,-0.089400812983513,-0.029295459389687,0.091889537870884));
res += mul(Get(s3,dx,-dy), float4x4(-0.018536774441600,-0.191017091274261,-0.032421104609966,-0.133068218827248,-0.030369082465768,-0.100387364625931,-0.006580714136362,0.054448157548904,0.159042909741402,0.120430260896683,-0.017448160797358,-0.084184788167477,-0.290049731731415,-0.121062673628330,-0.075966931879520,-0.005596104077995));
res += mul(Get(s3,dx,0), float4x4(-0.074081704020500,0.015886917710304,-0.013674648478627,0.131480365991592,-0.021692959591746,0.071198537945747,0.217473044991493,0.047223225235939,0.018549239262938,0.131225109100342,-0.023876462131739,0.150614157319069,0.039657544344664,-0.093120813369751,-0.049068693071604,-0.050815273076296));
res += mul(Get(s3,dx,dy), float4x4(0.122277863323689,-0.051472026854753,-0.133226439356804,-0.069787375628948,0.109865076839924,-0.231913760304451,-0.012561872601509,-0.060926929116249,-0.088082462549210,-0.044683299958706,-0.092361666262150,0.025565652176738,-0.124665513634682,0.053610984236002,0.055345576256514,0.064845956861973));
return max(float4(0,0,0,0), res);
}
