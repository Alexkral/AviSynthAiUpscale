sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.035261139273643,-0.050839953124523,-0.045427531003952,-0.250616967678070,0.089957192540169,-0.090033411979675,0.120372682809830,-0.006233285181224,0.098479025065899,0.263229578733444,0.127318024635315,-0.213720798492432,-0.191000431776047,-0.059845004230738,-0.010316072963178,-0.014491578564048));
res += mul(Get(s0,-dx,0), float4x4(0.077813051640987,0.036617185920477,-0.131346538662910,0.008428458124399,0.052464399486780,-0.073316052556038,-0.094263382256031,-0.034395992755890,-0.030262000858784,-0.137805253267288,0.081470429897308,0.010768865235150,0.119053065776825,0.075996845960617,0.213085144758224,0.138513252139091));
res += mul(Get(s0,-dx,dy), float4x4(0.004960923921317,0.050601020455360,-0.055170033127069,0.120948843657970,-0.074568025767803,0.015003532171249,-0.021776434034109,-0.141710534691811,0.005246986169368,-0.030779911205173,-0.108623571693897,0.034960012882948,-0.147993177175522,0.023772032931447,0.134249806404114,0.158479288220406));
res += mul(Get(s0,0,-dy), float4x4(0.118957363069057,0.024448288604617,0.024649485945702,0.005865265615284,-0.119177803397179,-0.175781130790710,-0.130826726555824,-0.055460177361965,0.136826157569885,-0.140079453587532,0.057165414094925,-0.168223932385445,-0.144819065928459,0.115873165428638,0.014058439992368,-0.215830460190773));
res += mul(Get(s0,0,0), float4x4(0.080831222236156,0.063090316951275,-0.000939434510656,0.072269611060619,0.218930006027222,-0.311177551746368,0.033270262181759,0.074181392788887,0.214770838618279,0.101247951388359,-0.002674749586731,0.064684949815273,-0.058656763285398,0.248084604740143,-0.084808744490147,0.082179114222527));
res += mul(Get(s0,0,dy), float4x4(-0.013652073219419,-0.054697360843420,-0.045284040272236,0.035523176193237,0.069153293967247,0.099306412041187,-0.225991591811180,-0.027686318382621,-0.008440566249192,-0.147143930196762,-0.080307066440582,-0.053827077150345,-0.092770263552666,0.035754330456257,-0.075438633561134,0.006337056867778));
res += mul(Get(s0,dx,-dy), float4x4(0.015105058439076,-0.040094524621964,0.162969172000885,-0.108175590634346,-0.025408498942852,0.096809513866901,0.114614836871624,-0.168683379888535,-0.017971295863390,0.008950679562986,-0.047788929194212,0.127119943499565,0.032612156122923,0.045101296156645,0.159493923187256,-0.098093472421169));
res += mul(Get(s0,dx,0), float4x4(0.133004188537598,-0.034289121627808,-0.092004992067814,-0.156850278377533,0.011981291696429,-0.150969773530960,0.102546185255051,0.033335503190756,0.023746546357870,0.110572725534439,-0.043038226664066,0.217452928423882,-0.037500329315662,0.227620318531990,-0.120842710137367,0.015478950925171));
res += mul(Get(s0,dx,dy), float4x4(0.159830898046494,-0.089148797094822,0.145289838314056,0.172095254063606,0.048312969505787,0.030677054077387,0.068248897790909,-0.117724038660526,0.120976768434048,-0.062046330422163,-0.211509972810745,-0.191235810518265,-0.190984219312668,0.002826962387189,0.005082134623080,-0.076804704964161));
res += mul(Get(s1,-dx,-dy), float4x4(-0.112624190747738,-0.064210318028927,0.078627444803715,-0.033924326300621,0.111060880124569,0.015989914536476,0.089561745524406,0.120941683650017,-0.152300685644150,-0.027914077043533,0.085109628736973,-0.225528597831726,-0.006958178244531,0.031710021197796,-0.024227894842625,0.040598988533020));
res += mul(Get(s1,-dx,0), float4x4(-0.133850678801537,0.062864825129509,0.048908635973930,-0.047524169087410,-0.035977706313133,0.089894495904446,-0.041599065065384,0.117330901324749,-0.058701511472464,-0.013305117376149,-0.032308816909790,0.049139872193336,0.008375115692616,-0.139891669154167,-0.074970558285713,-0.199690043926239));
res += mul(Get(s1,-dx,dy), float4x4(0.093656964600086,0.040180422365665,0.060103077441454,0.086254954338074,0.066838346421719,0.006819765083492,-0.102413982152939,0.089798711240292,-0.266688585281372,-0.004117506556213,-0.049195457249880,0.001904270029627,0.163887813687325,0.046111214905977,-0.029498184099793,0.017126221209764));
res += mul(Get(s1,0,-dy), float4x4(-0.143199697136879,0.059878803789616,0.045475155115128,-0.041966263204813,-0.048837300390005,0.069450698792934,-0.027285506948829,-0.036251574754715,0.117732487618923,0.093464821577072,0.119097851216793,-0.041533242911100,0.123772367835045,-0.238922357559204,0.004451747518033,-0.155110210180283));
res += mul(Get(s1,0,0), float4x4(-0.103880919516087,0.057678941637278,0.197763472795486,-0.045171801000834,0.000896517420188,-0.069670014083385,0.082365170121193,-0.144976615905762,-0.074293613433838,0.248899340629578,-0.004668260458857,-0.067659892141819,0.060921154916286,-0.004276011139154,-0.014491110108793,0.103255808353424));
res += mul(Get(s1,0,dy), float4x4(0.055804800242186,-0.030557496473193,0.105104602873325,-0.126555562019348,-0.088576488196850,0.192089736461639,-0.061177741736174,0.019801344722509,-0.063162378966808,0.060689602047205,0.054007951170206,-0.077202849090099,0.188390806317329,-0.049254696816206,0.040986016392708,-0.037231892347336));
res += mul(Get(s1,dx,-dy), float4x4(-0.101717792451382,0.130326032638550,-0.008819966576993,0.045979689806700,0.191280826926231,0.112967789173126,0.045316275209188,0.167943671345711,0.052621886134148,-0.000912820571102,0.136404618620872,0.128657773137093,-0.084157027304173,0.041013229638338,0.099602907896042,0.043504696339369));
res += mul(Get(s1,dx,0), float4x4(-0.184501573443413,0.141637578606606,-0.318502992391586,-0.078562811017036,0.105923056602478,-0.133725732564926,0.101354971528053,-0.231980919837952,-0.134368568658829,0.187417581677437,-0.062942706048489,0.251002550125122,-0.012882033362985,0.043929763138294,0.084002718329430,0.209316864609718));
res += mul(Get(s1,dx,dy), float4x4(0.111129447817802,0.026912791654468,0.148555010557175,-0.168395787477493,0.046391688287258,0.022555010393262,0.060443159192801,-0.001354043488391,-0.137924656271935,-0.000936392927542,-0.016988374292850,-0.019884407520294,0.048182453960180,-0.019425252452493,0.016789719462395,0.103370778262615));
res += mul(Get(s2,-dx,-dy), float4x4(-0.032522268593311,-0.017534894868731,0.051910243928432,0.040894944220781,0.131525203585625,0.058769278228283,0.018998233601451,-0.070032328367233,0.062055502086878,-0.103659115731716,0.020979536697268,-0.069560617208481,0.010168602690101,-0.007237511221319,0.107879564166069,-0.213090270757675));
res += mul(Get(s2,-dx,0), float4x4(-0.179013565182686,-0.053697597235441,0.011966447345912,-0.046931516379118,-0.018194282427430,-0.015825467184186,0.046966418623924,-0.063941702246666,0.014215799979866,0.093366123735905,0.056030161678791,-0.101974897086620,0.084287017583847,-0.188763231039047,0.229225903749466,-0.017152309417725));
res += mul(Get(s2,-dx,dy), float4x4(-0.070900857448578,-0.130995497107506,0.007834805175662,-0.048350751399994,0.028807144612074,0.194008454680443,0.061813645064831,0.052004691213369,-0.042324025183916,0.023209849372506,0.121975600719452,0.177681893110275,-0.018718127161264,0.170769810676575,0.010640656575561,-0.038201060146093));
res += mul(Get(s2,0,-dy), float4x4(-0.085009232163429,0.027114745229483,-0.028114203363657,-0.125220477581024,0.027518343180418,-0.049241404980421,0.074712239205837,-0.032450743019581,0.039026226848364,-0.052785426378250,-0.162210881710052,0.053384654223919,0.061592049896717,-0.007548222783953,-0.128024905920029,0.093254357576370));
res += mul(Get(s2,0,0), float4x4(0.139214321970940,0.122253932058811,0.159314423799515,-0.067536897957325,0.009949024766684,0.152864828705788,-0.173691228032112,-0.028399450704455,-0.210340782999992,0.068536214530468,0.025214694440365,0.122396297752857,-0.172197654843330,-0.132555127143860,0.000365032436093,0.031013417989016));
res += mul(Get(s2,0,dy), float4x4(-0.000914116157219,-0.044002935290337,-0.050567045807838,0.072348833084106,0.180520385503769,-0.071212016046047,-0.017631450667977,-0.024476481601596,-0.082383565604687,0.035075426101685,-0.104667186737061,-0.086333625018597,-0.137512728571892,0.038980420678854,0.051126401871443,-0.228161737322807));
res += mul(Get(s2,dx,-dy), float4x4(0.148035869002342,-0.276267051696777,0.120178371667862,0.154746755957603,-0.062824986875057,-0.218999043107033,0.190415352582932,-0.099462665617466,-0.147460848093033,-0.033700969070196,-0.068851806223392,-0.155515328049660,-0.013819454237819,-0.058453466743231,0.143553525209427,-0.149400651454926));
res += mul(Get(s2,dx,0), float4x4(0.046841938048601,-0.021081572398543,-0.329666346311569,-0.133907899260521,-0.049884520471096,-0.269072324037552,-0.100090920925140,0.047362245619297,-0.082532472908497,-0.007566925603896,0.066908776760101,0.095322929322720,0.023512687534094,-0.016560990363359,0.043874356895685,0.016339756548405));
res += mul(Get(s2,dx,dy), float4x4(-0.046335089951754,0.036688532680273,0.056596819311380,-0.095449343323708,0.014017189852893,-0.038049764931202,0.148111686110497,-0.288625568151474,0.027557928115129,0.184374913573265,-0.024147083982825,-0.112856321036816,0.099668577313423,0.152165085077286,0.031108399853110,0.151659563183784));
res += mul(Get(s3,-dx,-dy), float4x4(0.030162855982780,0.043538115918636,0.039084993302822,-0.063103444874287,-0.061127569526434,-0.035684946924448,-0.081259250640869,0.069280363619328,0.157760426402092,0.001552224741317,-0.053830582648516,-0.018598947674036,-0.027362696826458,-0.184365004301071,-0.049259178340435,0.129205107688904));
res += mul(Get(s3,-dx,0), float4x4(0.017592100426555,-0.058426700532436,0.006985169369727,-0.077894136309624,0.184043303132057,-0.071419000625610,-0.278057038784027,0.013850433751941,0.111082680523396,-0.047337170690298,0.112365402281284,-0.214479118585587,0.026402212679386,-0.167913243174553,0.057160694152117,0.145321190357208));
res += mul(Get(s3,-dx,dy), float4x4(-0.031203642487526,0.153371065855026,-0.314836055040359,0.060675289481878,-0.076754778623581,0.108805842697620,-0.034066043794155,0.052168410271406,-0.062243647873402,0.015855912119150,-0.006211011204869,0.112474910914898,-0.160842671990395,0.185148209333420,-0.062479361891747,-0.210983246564865));
res += mul(Get(s3,0,-dy), float4x4(0.039873939007521,-0.158045843243599,-0.143040671944618,-0.008952994830906,0.028010243549943,0.099891215562820,-0.012628524564207,0.075395651161671,-0.129556611180305,0.120431251823902,-0.059964627027512,-0.024450473487377,0.036775570362806,-0.214449882507324,0.101535357534885,-0.015421423129737));
res += mul(Get(s3,0,0), float4x4(-0.073788680136204,0.117398902773857,-0.092625819146633,-0.011765281669796,0.071266748011112,0.143060550093651,0.089745715260506,0.052269872277975,0.018010517582297,0.137307509779930,0.210399702191353,0.048140473663807,-0.139366984367371,-0.092886276543140,0.059353452175856,0.028644487261772));
res += mul(Get(s3,0,dy), float4x4(0.086141288280487,0.165040880441666,0.115275934338570,0.082229830324650,0.190958335995674,-0.012264743447304,-0.094175823032856,-0.095137804746628,0.025427918881178,-0.021948788315058,0.020396247506142,0.024369159713387,-0.052844963967800,0.002000042935833,-0.021172519773245,0.114562436938286));
res += mul(Get(s3,dx,-dy), float4x4(-0.225673347711563,-0.051777556538582,-0.192696645855904,-0.011565312743187,0.168509170413017,0.023482387885451,0.035622008144855,-0.088689230382442,0.040107123553753,-0.050329551100731,-0.154520943760872,0.042566921561956,-0.082720093429089,0.013976725749671,-0.057126190513372,0.071182154119015));
res += mul(Get(s3,dx,0), float4x4(-0.041184928268194,0.036781266331673,-0.205266505479813,0.002161990618333,-0.020034452900290,-0.153136789798737,-0.100647129118443,-0.094570584595203,0.012232954613864,-0.246565684676170,0.211771488189697,-0.036964282393456,0.078559912741184,-0.054711006581783,-0.148127928376198,0.090901076793671));
res += mul(Get(s3,dx,dy), float4x4(0.007643881719559,-0.011996403336525,0.076743133366108,0.131367206573486,0.365483015775681,0.086641035974026,0.137544974684715,-0.049134723842144,-0.099536046385765,-0.089492030441761,0.253407746553421,0.069073818624020,-0.044535279273987,0.065052710473537,-0.140119865536690,-0.100187219679356));
return max(float4(0,0,0,0), res);
}
