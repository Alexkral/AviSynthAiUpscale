sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.080232374370098,-0.018661741167307,0.324657231569290,0.245524749159813,0.020539661869407,-0.055543664842844,0.019519513472915,-0.164622336626053,0.043645124882460,0.130686610937119,-0.065151549875736,-0.107682541012764,-0.356911629438400,0.078946873545647,-0.093198873102665,-0.125377923250198));
res += mul(Get(s0,-dx,0), float4x4(0.030337188392878,-0.005808165762573,0.053789950907230,0.116702571511269,-0.088715396821499,0.133573979139328,-0.079306848347187,0.006568696815521,0.023865515366197,-0.015516697429121,0.134189888834953,-0.215868592262268,0.021938079968095,-0.034251578152180,-0.007166628260165,-0.052605859935284));
res += mul(Get(s0,-dx,dy), float4x4(-0.166084498167038,0.028731247410178,0.169764146208763,-0.093241371214390,-0.012848590500653,-0.021422389894724,-0.014985153451562,-0.072197310626507,-0.079475678503513,-0.150346577167511,-0.084316104650497,0.026139330118895,0.185663849115372,-0.121007747948170,-0.127649232745171,-0.139696180820465));
res += mul(Get(s0,0,-dy), float4x4(-0.097556434571743,-0.250659108161926,0.096455484628677,-0.087657593190670,-0.049902293831110,0.007551532704383,-0.026286922395229,0.095600493252277,-0.188468128442764,0.231972634792328,-0.008863653056324,0.062257803976536,-0.000705142389052,0.198414042592049,0.082253172993660,-0.093076713383198));
res += mul(Get(s0,0,0), float4x4(-0.034871660172939,-0.074897140264511,0.108442150056362,-0.072054199874401,0.074957653880119,-0.107375763356686,-0.042026445269585,-0.001975134247914,0.084056742489338,-0.112091436982155,0.002419963944703,0.211270630359650,-0.048766013234854,0.024069223552942,-0.072295621037483,-0.013932455331087));
res += mul(Get(s0,0,dy), float4x4(-0.019903196021914,-0.183275386691093,-0.249711081385612,0.274605244398117,0.048062164336443,-0.184855386614799,0.025396862998605,-0.072405599057674,0.039948727935553,-0.023945756256580,-0.005844369065017,0.126727178692818,-0.013157797046006,0.118605114519596,-0.109160810709000,0.242432355880737));
res += mul(Get(s0,dx,-dy), float4x4(0.207920387387276,0.028905633836985,0.163254275918007,-0.088116161525249,-0.010902931913733,0.040819428861141,0.155417308211327,0.047978386282921,-0.001285360660404,-0.159716039896011,-0.148819595575333,0.029159702360630,-0.068960487842560,-0.035661380738020,0.183987006545067,-0.069683343172073));
res += mul(Get(s0,dx,0), float4x4(-0.130564644932747,0.218523353338242,0.132277086377144,0.158880397677422,-0.089005932211876,0.192223429679871,0.106619931757450,-0.027905035763979,-0.085180759429932,0.039363488554955,-0.108719311654568,0.190839201211929,-0.152797952294350,0.075872570276260,0.191882535815239,0.020442336797714));
res += mul(Get(s0,dx,dy), float4x4(0.035688798874617,-0.044376309961081,-0.004904802888632,0.014656261540949,0.141204610466957,0.017473418265581,0.086528040468693,-0.058690458536148,0.078264199197292,0.178567588329315,0.140384972095490,-0.098400890827179,-0.124004743993282,-0.030650107190013,-0.101003423333168,-0.012306950986385));
res += mul(Get(s1,-dx,-dy), float4x4(0.014200537465513,-0.039065662771463,-0.041504476219416,-0.023506855592132,0.031173160299659,-0.061584178358316,-0.064711280167103,-0.043217971920967,0.043319590389729,-0.169897019863129,0.167522504925728,-0.035634253174067,0.115842625498772,-0.098872520029545,0.144104242324829,0.060874532908201));
res += mul(Get(s1,-dx,0), float4x4(0.040000606328249,0.084106281399727,-0.110847346484661,-0.136461824178696,0.130821764469147,0.039223358035088,0.039630729705095,-0.111740909516811,-0.001463021384552,-0.091204255819321,0.054624892771244,-0.033779390156269,-0.057344056665897,-0.024652207270265,-0.008908917196095,0.138794615864754));
res += mul(Get(s1,-dx,dy), float4x4(-0.088563852012157,0.098321758210659,-0.310091614723206,-0.081586182117462,-0.218079969286919,0.099801041185856,-0.049209162592888,-0.015417034737766,-0.085859231650829,-0.110980041325092,-0.093334607779980,-0.067303113639355,-0.091882981359959,-0.195536136627197,-0.019002046436071,0.045404583215714));
res += mul(Get(s1,0,-dy), float4x4(0.059107042849064,0.070551082491875,-0.160456910729408,0.076726786792278,-0.133789941668510,-0.199856162071228,0.196339547634125,-0.036931965500116,-0.082061797380447,0.129017814993858,0.019283257424831,0.040030457079411,0.110845528542995,0.040960475802422,0.024051228538156,0.073111519217491));
res += mul(Get(s1,0,0), float4x4(0.121118821203709,0.072211012244225,-0.035928394645452,0.064639709889889,0.173839271068573,0.051884099841118,-0.036926392465830,0.029606509953737,0.029098240658641,-0.031817011535168,-0.058315422385931,0.005522231571376,0.080748833715916,0.048017907887697,0.037833243608475,-0.166679799556732));
res += mul(Get(s1,0,dy), float4x4(-0.054068066179752,0.022012501955032,0.052781708538532,-0.039676401764154,0.047514520585537,0.003761436557397,0.063666038215160,-0.033139418810606,-0.017263855785131,-0.100008718669415,0.022220129147172,0.041101820766926,-0.148257911205292,0.105153806507587,-0.062057904899120,-0.048408448696136));
res += mul(Get(s1,dx,-dy), float4x4(-0.007852821610868,0.022865099832416,-0.028039991855621,0.143536493182182,-0.025836674496531,0.060746520757675,-0.104064531624317,0.263235867023468,0.041535869240761,0.169702127575874,0.137259438633919,0.104832507669926,0.032175086438656,-0.073582381010056,-0.060629986226559,-0.006425310857594));
res += mul(Get(s1,dx,0), float4x4(0.065379507839680,0.005044374614954,0.129888698458672,-0.111274786293507,0.141201078891754,-0.177108809351921,0.111861556768417,-0.011193970218301,-0.185083255171776,0.132425412535667,0.036889940500259,0.082329437136650,0.099655933678150,0.098851352930069,0.090428858995438,-0.040181405842304));
res += mul(Get(s1,dx,dy), float4x4(-0.000959350902122,0.152185633778572,-0.052667211741209,0.057468757033348,-0.044903244823217,0.116303324699402,-0.014052884653211,0.133116781711578,-0.275785595178604,0.054139643907547,-0.090364351868629,0.060739986598492,-0.004339695442468,-0.015598650090396,-0.013745744712651,0.189311638474464));
res += mul(Get(s2,-dx,-dy), float4x4(-0.173511475324631,0.063677988946438,-0.249795809388161,-0.085140600800514,-0.122269809246063,0.018988970667124,0.237580776214600,0.066111266613007,-0.019285742193460,0.013455267995596,0.005927149206400,0.106755822896957,0.064246520400047,-0.082058757543564,-0.183136388659477,0.281961709260941));
res += mul(Get(s2,-dx,0), float4x4(0.221557706594467,0.028735432773829,-0.095071971416473,0.052197705954313,0.010146639309824,0.112011335790157,-0.013418018817902,-0.087966278195381,0.215358644723892,-0.075792193412781,0.120992548763752,0.161718249320984,-0.021459689363837,0.145546048879623,-0.174009501934052,0.171603217720985));
res += mul(Get(s2,-dx,dy), float4x4(0.108719334006310,-0.078173637390137,-0.198883354663849,-0.057723604142666,0.076890662312508,0.131431341171265,-0.101021654903889,0.044977724552155,-0.123610615730286,-0.247279360890388,-0.053409252315760,0.096196882426739,-0.030259408056736,-0.210823833942413,-0.002368877641857,0.016186848282814));
res += mul(Get(s2,0,-dy), float4x4(-0.151935636997223,-0.025832297280431,0.006462205201387,-0.049704510718584,0.114609457552433,0.231679722666740,-0.044156320393085,-0.046134382486343,0.013622517697513,-0.115199811756611,0.149928465485573,-0.103770725429058,0.064147852361202,-0.006132496520877,-0.064487852156162,0.180833473801613));
res += mul(Get(s2,0,0), float4x4(0.103290207684040,-0.113656863570213,-0.135498434305191,-0.019620642066002,-0.078545711934566,-0.007358039263636,-0.002378738950938,0.171105667948723,0.023562559857965,-0.046089194715023,0.199173584580421,0.037331230938435,0.030288908630610,-0.089460216462612,-0.105229765176773,0.126541256904602));
res += mul(Get(s2,0,dy), float4x4(0.035457197576761,-0.128272488713264,-0.091256387531757,0.137140303850174,0.072331108152866,0.149959266185760,-0.008907408453524,0.145418003201485,-0.038705218583345,0.104223385453224,-0.036211654543877,0.056230504065752,-0.012185755185783,0.000957604788709,0.086535975337029,0.061084445565939));
res += mul(Get(s2,dx,-dy), float4x4(0.019039468839765,0.079817697405815,-0.005233922973275,0.037792235612869,-0.151875093579292,0.120323084294796,-0.033422861248255,-0.109298326075077,-0.101153329014778,0.339340955018997,-0.164576202630997,0.078058257699013,-0.270927220582962,-0.071140162646770,-0.054335620254278,-0.033209778368473));
res += mul(Get(s2,dx,0), float4x4(-0.028127921745181,-0.450987547636032,-0.075983069837093,-0.088159106671810,-0.019676281139255,0.239896565675735,0.160873472690582,-0.129567310214043,0.179032355546951,-0.031424835324287,-0.113572232425213,-0.128471687436104,-0.028455335646868,0.124439641833305,0.072554007172585,-0.184382110834122));
res += mul(Get(s2,dx,dy), float4x4(0.183489754796028,-0.112113907933235,0.121032647788525,0.111639134585857,0.072401024401188,0.204038217663765,-0.131414607167244,-0.016183372586966,0.146743416786194,-0.059370569884777,-0.038719344884157,0.020759996026754,0.147947236895561,-0.043454438447952,0.024579158052802,0.018629388883710));
res += mul(Get(s3,-dx,-dy), float4x4(0.051257323473692,-0.166619077324867,-0.045577861368656,-0.046145554631948,0.152518779039383,0.025425277650356,0.271844357252121,0.167071774601936,-0.071174450218678,-0.064253449440002,0.035708118230104,-0.037483580410480,0.046836044639349,-0.039163395762444,-0.004622316453606,-0.174319580197334));
res += mul(Get(s3,-dx,0), float4x4(-0.186558976769447,-0.091935478150845,-0.122456610202789,0.055929619818926,-0.102189585566521,0.031873248517513,0.134064063429832,-0.022733554244041,-0.085104450583458,0.093743376433849,-0.006597097497433,-0.260444670915604,-0.070317134261131,-0.015882622450590,-0.031682308763266,0.089925058186054));
res += mul(Get(s3,-dx,dy), float4x4(-0.106623165309429,0.004631154704839,0.013917553238571,0.046405892819166,0.136462211608887,0.057166248559952,0.089433424174786,0.045026384294033,0.044232577085495,0.202895015478134,0.095619961619377,-0.083701133728027,0.047834374010563,0.084784336388111,-0.042156778275967,0.089441604912281));
res += mul(Get(s3,0,-dy), float4x4(-0.061091363430023,0.010679663158953,0.014773655682802,0.081439882516861,-0.036878619343042,0.039676159620285,0.187978848814964,-0.175747573375702,0.111871547996998,-0.058292578905821,0.070526041090488,-0.140394836664200,-0.018025955185294,-0.017735013738275,0.020894216373563,-0.132806196808815));
res += mul(Get(s3,0,0), float4x4(-0.143556043505669,-0.049784276634455,-0.064115501940250,-0.130045801401138,0.047323755919933,-0.265126764774323,-0.113590076565742,-0.038824282586575,-0.082555629312992,0.128714144229889,0.074722051620483,-0.012887225486338,0.044069793075323,-0.024102415889502,-0.152844339609146,0.110802151262760));
res += mul(Get(s3,0,dy), float4x4(-0.091397143900394,-0.148920521140099,-0.099849186837673,-0.039364356547594,0.122287645936012,0.064365476369858,-0.119608849287033,0.013453908264637,0.169352516531944,0.219542756676674,0.166914001107216,-0.061200786381960,0.018769782036543,0.143331840634346,0.067829504609108,-0.046035088598728));
res += mul(Get(s3,dx,-dy), float4x4(0.134076431393623,0.065801374614239,-0.120410591363907,0.244724303483963,-0.227486640214920,0.000158685768838,0.009860302321613,0.031596373766661,0.039793312549591,-0.055203679949045,-0.038422100245953,-0.098296031355858,-0.103944599628448,-0.022770557552576,0.023861035704613,0.012557899579406));
res += mul(Get(s3,dx,0), float4x4(0.029721608385444,-0.082572869956493,-0.051884621381760,0.389097899198532,-0.112397685647011,0.118057154119015,-0.079904146492481,0.195776194334030,0.114487454295158,0.056419968605042,0.061766020953655,-0.189586073160172,0.100848898291588,0.126928493380547,-0.023366410285234,-0.001599475508556));
res += mul(Get(s3,dx,dy), float4x4(-0.287423551082611,0.025352964177728,-0.045680966228247,0.041849948465824,0.086310841143131,-0.074919313192368,0.001518276985735,-0.057143606245518,0.172581002116203,0.135170698165894,-0.034675277769566,-0.029291378334165,0.054691310971975,0.271674633026123,-0.111874848604202,0.088655821979046));
return max(float4(0,0,0,0), res);
}
