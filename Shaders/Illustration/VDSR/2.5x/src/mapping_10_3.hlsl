sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.046490099281073,0.080667838454247,0.066374249756336,-0.012656373903155,0.207514002919197,-0.003495434997603,0.094548098742962,-0.062477979809046,-0.009542902000248,0.386904776096344,-0.169053956866264,0.318945705890656,0.121955968439579,-0.009246903471649,0.159637212753296,-0.038884393870831));
res += mul(Get(s0,-dx,0), float4x4(-0.080664113163948,0.185582533478737,0.062023870646954,-0.078867755830288,0.002715534763411,-0.016382876783609,-0.138132050633430,-0.089810341596603,-0.276811778545380,0.027244314551353,-0.050073508173227,-0.053287584334612,-0.140564218163490,-0.045722693204880,-0.164283245801926,-0.158181890845299));
res += mul(Get(s0,-dx,dy), float4x4(-0.005655202083290,0.192521512508392,-0.075479656457901,-0.099245443940163,0.020514285191894,0.100423172116280,0.030333898961544,0.006036495324224,-0.228125303983688,0.029293958097696,0.045154523104429,-0.041540682315826,-0.022103689610958,-0.069087386131287,-0.156334042549133,0.083787500858307));
res += mul(Get(s0,0,-dy), float4x4(-0.152157694101334,-0.059443872421980,-0.221031248569489,-0.062699139118195,0.050494745373726,-0.024913847446442,0.163068428635597,-0.277325809001923,-0.109225206077099,0.013929369859397,0.156788483262062,0.015489501878619,0.163608998060226,-0.069094412028790,0.118499413132668,-0.057306084781885));
res += mul(Get(s0,0,0), float4x4(-0.075004294514656,0.119317553937435,-0.215638905763626,0.038862656801939,-0.031565699726343,-0.020520076155663,-0.005245688371360,-0.074120998382568,-0.161826327443123,-0.069555953145027,-0.189446419477463,-0.084735967218876,-0.155887901782990,-0.152431741356850,0.015848195180297,-0.013689091429114));
res += mul(Get(s0,0,dy), float4x4(0.005605653394014,0.388967931270599,-0.046604398638010,0.247904837131500,0.039956960827112,0.143125012516975,0.225858658552170,0.121646106243134,-0.109668113291264,-0.005341301672161,-0.334617078304291,0.007764296606183,-0.057471126317978,-0.091346211731434,0.061373192816973,0.221447020769119));
res += mul(Get(s0,dx,-dy), float4x4(-0.180317983031273,-0.071227423846722,-0.267349690198898,0.116838410496712,-0.104345351457596,-0.066584713757038,-0.021118685603142,-0.144075140357018,-0.224073410034180,-0.134770199656487,0.084992833435535,0.141124010086060,0.127570286393166,-0.107383191585541,0.086851716041565,0.028725724667311));
res += mul(Get(s0,dx,0), float4x4(0.206090509891510,-0.120093360543251,-0.289791077375412,0.631073296070099,0.116332702338696,0.043234832584858,0.103081569075584,-0.085551224648952,-0.054355453699827,-0.100014604628086,-0.116876460611820,0.024351876229048,0.109973080456257,-0.108556240797043,-0.052294459193945,0.078826121985912));
res += mul(Get(s0,dx,dy), float4x4(-0.064646095037460,-0.127521395683289,0.099127374589443,0.129796683788300,0.092791706323624,0.225028991699219,0.225799664855003,0.019162658601999,-0.000595951627474,-0.104936711490154,-0.238457292318344,0.045307680964470,0.053378775715828,-0.084461390972137,0.040321022272110,0.137767925858498));
res += mul(Get(s1,-dx,-dy), float4x4(0.030946316197515,0.015605418942869,-0.049394108355045,0.004933321848512,0.144855961203575,0.078538320958614,0.194053575396538,0.082207687199116,-0.082054130733013,0.000267292896751,0.143369704484940,-0.115610957145691,-0.059569656848907,-0.044541697949171,0.060742381960154,-0.096472121775150));
res += mul(Get(s1,-dx,0), float4x4(-0.022089863196015,0.019560785964131,0.104080408811569,0.060325261205435,0.123483709990978,-0.007102184928954,0.035217139869928,0.061698358505964,-0.126726895570755,-0.055350314825773,-0.025489913299680,0.085737891495228,-0.174148306250572,-0.092641226947308,-0.114100016653538,-0.038067005574703));
res += mul(Get(s1,-dx,dy), float4x4(-0.124394848942757,0.069267667829990,0.022405063733459,-0.011561807245016,0.149137079715729,0.158061519265175,-0.020962810143828,-0.270225495100021,-0.065091282129288,-0.062122490257025,0.010445210151374,0.211269721388817,-0.057850372046232,0.053829837590456,-0.020484393462539,-0.069113455712795));
res += mul(Get(s1,0,-dy), float4x4(-0.096309512853622,0.037482365965843,0.009586280211806,-0.047926742583513,-0.035092663019896,0.056364160031080,0.052164390683174,0.058711010962725,-0.043464928865433,0.114358507096767,0.107112251222134,-0.081351637840271,-0.041333075612783,0.149570360779762,-0.048916574567556,-0.111460767686367));
res += mul(Get(s1,0,0), float4x4(-0.022163100540638,0.185957968235016,-0.028266478329897,0.008896776475012,-0.145989000797272,0.093874238431454,0.007915208116174,-0.001937995431945,-0.030347526073456,-0.011101817712188,-0.138476774096489,0.046180050820112,-0.057707119733095,0.077317066490650,-0.008884359151125,0.164029300212860));
res += mul(Get(s1,0,dy), float4x4(-0.051700647920370,0.014482596889138,0.032459616661072,-0.001933744060807,0.196045666933060,0.297080039978027,-0.033777605742216,-0.099526926875114,-0.133643940091133,-0.037093248218298,-0.009553652256727,0.018723232671618,-0.173122957348824,0.174718990921974,-0.021861152723432,0.012858689762652));
res += mul(Get(s1,dx,-dy), float4x4(-0.054873812943697,-0.114529952406883,0.050575021654367,-0.001683160895482,-0.006445303093642,0.079761512577534,-0.110321611166000,-0.174134388566017,0.209719240665436,-0.023753505200148,0.280338943004608,-0.078873910009861,0.314400970935822,-0.196451142430305,-0.135996162891388,0.024347640573978));
res += mul(Get(s1,dx,0), float4x4(-0.007408409379423,0.060283485800028,-0.017502410337329,0.077562943100929,-0.009350971318781,-0.004218674730510,-0.110617540776730,0.150784954428673,0.173975542187691,-0.014475358650088,0.009135213680565,-0.094661884009838,0.324386090040207,-0.192012473940849,0.027402024716139,0.120085388422012));
res += mul(Get(s1,dx,dy), float4x4(0.078277423977852,-0.011581690981984,0.044993445277214,0.127018257975578,0.104640349745750,0.103259280323982,0.065797999501228,-0.047252889722586,0.078112937510014,-0.033308815211058,0.068291015923023,0.022984355688095,0.075595349073410,-0.038227967917919,0.031431213021278,-0.114980138838291));
res += mul(Get(s2,-dx,-dy), float4x4(-0.024369308724999,-0.092811703681946,0.123322039842606,-0.077396616339684,-0.108993448317051,0.429719418287277,0.202704921364784,-0.004802093375474,0.221188500523567,-0.033369269222021,-0.050066407769918,-0.115275837481022,0.032430924475193,-0.056358166038990,0.115422323346138,-0.016497984528542));
res += mul(Get(s2,-dx,0), float4x4(0.111390724778175,0.031064741313457,0.093923747539520,-0.054082714021206,-0.079272754490376,-0.159555956721306,-0.047146357595921,-0.177903950214386,0.151917502284050,-0.049262054264545,-0.066638588905334,-0.075044669210911,0.090807884931564,-0.048605058342218,0.043451137840748,-0.014879547990859));
res += mul(Get(s2,-dx,dy), float4x4(0.031236557289958,0.188329160213470,-0.046066604554653,0.052233427762985,-0.006758770905435,0.043125003576279,0.045955900102854,0.025971010327339,0.053488858044147,0.521063506603241,0.078690394759178,-0.172763973474503,0.058626268059015,0.129090890288353,0.135931313037872,0.043303102254868));
res += mul(Get(s2,0,-dy), float4x4(-0.067689515650272,-0.096328251063824,-0.089911028742790,-0.068516284227371,0.093800090253353,-0.073136866092682,0.053926791995764,0.011365839280188,-0.042007774114609,-0.036906976252794,-0.128323942422867,-0.166963860392570,0.023313743993640,-0.056293927133083,-0.011270604096353,-0.103069439530373));
res += mul(Get(s2,0,0), float4x4(-0.090187095105648,0.005841679871082,-0.137076556682587,-0.044062629342079,-0.070341140031815,0.031006453558803,0.107879430055618,-0.065131142735481,-0.175170019268990,-0.120269432663918,-0.069483198225498,-0.169690087437630,0.008966652676463,-0.104687087237835,-0.064530692994595,-0.125426769256592));
res += mul(Get(s2,0,dy), float4x4(-0.054260063916445,0.086473166942596,0.051623161882162,0.031551323831081,0.071772418916225,0.129614546895027,0.100098267197609,0.312088251113892,-0.116516925394535,-0.032989505678415,-0.092922918498516,-0.021067306399345,-0.070680342614651,0.039897348731756,0.218019634485245,-0.069826439023018));
res += mul(Get(s2,dx,-dy), float4x4(0.032751478254795,-0.017519028857350,-0.109828621149063,-0.047730028629303,-0.006984134204686,-0.071275554597378,0.055886410176754,0.145469650626183,0.116365134716034,0.067586936056614,0.277581095695496,-0.091999165713787,-0.044274501502514,-0.160200893878937,0.053995490074158,-0.209843814373016));
res += mul(Get(s2,dx,0), float4x4(0.034810569137335,-0.111063160002232,-0.100349120795727,-0.054230321198702,-0.075307890772820,-0.063908457756042,0.104050993919373,-0.130178228020668,-0.195593863725662,-0.049394398927689,-0.005058370530605,-0.015002177096903,-0.125172600150108,-0.068373106420040,-0.065177470445633,-0.039969556033611));
res += mul(Get(s2,dx,dy), float4x4(0.059050071984529,-0.044921379536390,-0.141941413283348,-0.062519595026970,-0.024094218388200,-0.006443937309086,0.039900477975607,0.184017762541771,-0.107318103313446,0.127935349941254,-0.064458072185516,-0.018415024504066,-0.220906645059586,-0.164944812655449,-0.099864192306995,0.032930236309767));
res += mul(Get(s3,-dx,-dy), float4x4(0.201409921050072,-0.079630941152573,-0.119453258812428,0.338307082653046,-0.015732031315565,0.042940091341734,0.038023166358471,0.378208369016647,0.021521443501115,0.028532708063722,-0.047068469226360,-0.143099874258041,-0.133439391851425,-0.020732449367642,-0.083280034363270,0.084111221134663));
res += mul(Get(s3,-dx,0), float4x4(0.065283246338367,0.072483077645302,-0.154982566833496,0.209840774536133,0.155458986759186,-0.030523957684636,0.022670550271869,-0.002586285118014,0.037132985889912,0.107573613524437,-0.003787639318034,0.176300257444382,0.022556561976671,-0.036766927689314,0.011507153511047,0.035840544849634));
res += mul(Get(s3,-dx,dy), float4x4(-0.017088174819946,0.071452572941780,0.063543416559696,-0.021764611825347,0.211066409945488,-0.021019771695137,0.195843666791916,-0.014834428206086,-0.102075755596161,0.168512687087059,0.023512812331319,0.115386031568050,0.052498679608107,0.068003594875336,0.135577008128166,0.068227998912334));
res += mul(Get(s3,0,-dy), float4x4(0.168749868869781,-0.263691663742065,0.076043687760830,0.004448576364666,0.191373825073242,0.026574276387691,0.293831110000610,0.019077915698290,0.155191063880920,0.048805598169565,-0.068827040493488,0.074395313858986,-0.045845959335566,-0.035201326012611,-0.082962192595005,0.151941850781441));
res += mul(Get(s3,0,0), float4x4(-0.074132062494755,-0.145954698324203,-0.036537088453770,-0.088732749223709,0.063106290996075,0.111341707408428,0.297093272209167,-0.133567079901695,0.164974480867386,0.034548863768578,0.011388771235943,0.149296611547470,0.140855520963669,-0.060536544770002,-0.001553527428769,-0.073251925408840));
res += mul(Get(s3,0,dy), float4x4(-0.206190183758736,-0.202801913022995,-0.205279931426048,-0.011579304933548,-0.036792319267988,0.027552509680390,0.192442491650581,0.088737420737743,-0.084229983389378,-0.069051735103130,-0.004875142127275,0.052393868565559,0.040706049650908,0.044383563101292,0.062232885509729,-0.065562665462494));
res += mul(Get(s3,dx,-dy), float4x4(-0.072197712957859,-0.080976516008377,-0.088440977036953,-0.203359052538872,0.235029146075249,-0.053589444607496,0.307817369699478,-0.021370945498347,-0.143261760473251,-0.047038510441780,-0.046060618013144,0.053373046219349,0.103440321981907,0.017796821892262,0.104337401688099,0.145656138658524));
res += mul(Get(s3,dx,0), float4x4(0.007293304428458,-0.091269522905350,-0.245894983410835,-0.095794983208179,-0.063145183026791,0.034434542059898,0.138605788350105,-0.035000715404749,0.042639553546906,-0.071585573256016,0.153732553124428,0.117067247629166,0.042346756905317,0.042512044310570,0.156860604882240,0.012222344055772));
res += mul(Get(s3,dx,dy), float4x4(0.002527288394049,-0.083071641623974,-0.129780471324921,0.097883567214012,-0.021087527275085,-0.025401661172509,0.059528864920139,0.088187180459499,-0.043631456792355,-0.124500155448914,0.012933815829456,0.046255048364401,0.071657724678516,0.147112727165222,0.113805636763573,0.174602642655373));
return max(float4(0,0,0,0), res);
}
