sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.058629460632801,0.096405699849129,-0.237683132290840,0.066263779997826,0.050360135734081,-0.039267122745514,0.063408143818378,0.033446535468102,-0.120301522314548,-0.071759186685085,-0.058700889348984,-0.117297537624836,-0.053518544882536,-0.028096828609705,0.049160901457071,0.067933306097984));
res += mul(Get(s0,-dx,0), float4x4(0.048086807131767,0.028246494010091,-0.068485081195831,0.082628265023232,-0.075521238148212,-0.020170930773020,-0.128958582878113,0.071967199444771,-0.105275079607964,0.084431983530521,-0.056587908416986,-0.064744986593723,0.026575490832329,0.010155606083572,-0.152964696288109,-0.087795339524746));
res += mul(Get(s0,-dx,dy), float4x4(-0.057705704122782,-0.006185332313180,-0.025614207610488,-0.120222635567188,-0.085898876190186,0.033689964562654,-0.203429743647575,-0.160960182547569,0.071431025862694,0.147845819592476,0.007024977821857,-0.054931439459324,0.005699023138732,-0.025849018245935,0.023866003379226,-0.035213965922594));
res += mul(Get(s0,0,-dy), float4x4(0.127030059695244,-0.051621537655592,0.027178211137652,0.219605892896652,0.163665771484375,0.066171191632748,-0.117771707475185,-0.135535940527916,-0.202387869358063,-0.202965557575226,-0.030227540060878,-0.037682231515646,-0.077738009393215,0.152400538325310,-0.136933103203773,0.013577079400420));
res += mul(Get(s0,0,0), float4x4(-0.061506502330303,-0.197321176528931,0.094883851706982,0.162435114383698,-0.027239125221968,0.099535033106804,0.073063649237156,-0.163014784455299,0.044921029359102,-0.039064072072506,0.107212781906128,-0.086755700409412,-0.082928061485291,0.094008833169937,0.051220115274191,-0.055304836481810));
res += mul(Get(s0,0,dy), float4x4(-0.042525090277195,-0.152365326881409,0.085923746228218,0.271122932434082,0.027778444811702,-0.002152219414711,-0.198417365550995,-0.071342855691910,-0.014992997050285,0.008907945826650,-0.020058307796717,-0.154549002647400,-0.016951929777861,0.010440296493471,0.003468306735158,-0.031803272664547));
res += mul(Get(s0,dx,-dy), float4x4(-0.105713829398155,0.163121253252029,-0.307603776454926,-0.009637814015150,0.048116449266672,0.245924204587936,0.095312006771564,0.034694597125053,0.040663905441761,-0.127557158470154,-0.149467483162880,0.082970410585403,-0.019818792119622,0.069607570767403,-0.010174922645092,-0.116570457816124));
res += mul(Get(s0,dx,0), float4x4(-0.037163373082876,-0.123730361461639,-0.274195015430450,-0.033074494451284,0.055520839989185,0.136127173900604,-0.044179134070873,-0.064585916697979,-0.304761320352554,-0.269548684358597,-0.154550179839134,-0.036186516284943,0.154826566576958,-0.132664501667023,0.237293735146523,-0.061991199851036));
res += mul(Get(s0,dx,dy), float4x4(-0.020528003573418,0.063694842159748,0.117200829088688,0.105225712060928,-0.164791628718376,0.262270539999008,0.112145788967609,-0.262356817722321,-0.170046448707581,-0.030602756887674,0.102302305400372,-0.014008970931172,0.103638350963593,-0.213566228747368,-0.097394511103630,-0.029626119881868));
res += mul(Get(s1,-dx,-dy), float4x4(0.077824644744396,0.176704138517380,0.013673062436283,0.052332144230604,-0.095009118318558,-0.007139697670937,0.029096001759171,-0.078135058283806,-0.134418845176697,0.231875345110893,-0.101853676140308,-0.091824330389500,0.040139868855476,-0.143719330430031,-0.027383066713810,0.026384726166725));
res += mul(Get(s1,-dx,0), float4x4(0.085336104035378,-0.093988664448261,-0.119122080504894,-0.092267729341984,0.034753132611513,0.143899187445641,0.017834967002273,0.016140092164278,-0.142335757613182,-0.155938684940338,-0.180687636137009,0.241262197494507,-0.114152468740940,-0.121961973607540,-0.003020566655323,0.034697350114584));
res += mul(Get(s1,-dx,dy), float4x4(-0.025659890845418,0.000113937145215,0.187958911061287,-0.134394928812981,0.016237862408161,-0.043727882206440,-0.239282786846161,-0.049827244132757,-0.031457010656595,-0.019387964159250,0.184040635824203,0.094594858586788,0.115712985396385,-0.238164797425270,-0.091955043375492,-0.097551859915257));
res += mul(Get(s1,0,-dy), float4x4(-0.041852362453938,0.056865923106670,-0.151995211839676,0.112704910337925,0.028572741895914,-0.135994166135788,0.060630679130554,0.067927710711956,-0.045547313988209,0.120295070111752,-0.049211863428354,0.007885898463428,0.075585700571537,0.075669392943382,-0.058210890740156,-0.036185890436172));
res += mul(Get(s1,0,0), float4x4(-0.068815492093563,0.172584414482117,-0.246911779046059,0.006517103873193,0.079050175845623,0.127578943967819,-0.044898562133312,0.202421382069588,-0.159593015909195,-0.126615360379219,0.095387868583202,-0.014771738089621,-0.048777408897877,-0.105932570993900,-0.073715955018997,-0.083504319190979));
res += mul(Get(s1,0,dy), float4x4(-0.044152013957500,0.065427504479885,0.057817041873932,0.012260604649782,-0.123976007103920,-0.160807088017464,0.035578414797783,-0.041493117809296,-0.005952052772045,0.195803731679916,0.178143620491028,-0.001847474835813,-0.029309468343854,0.156124919652939,0.071748010814190,0.136972650885582));
res += mul(Get(s1,dx,-dy), float4x4(0.105061396956444,0.017291825264692,0.030035320669413,0.018290309235454,0.012328117154539,0.123258382081985,-0.134181261062622,-0.142284795641899,0.060269437730312,-0.213998094201088,-0.069463394582272,0.084032416343689,-0.093387275934219,-0.026599701493979,0.013750489801168,0.045017909258604));
res += mul(Get(s1,dx,0), float4x4(0.111225187778473,0.003010502085090,-0.006556206848472,0.075354129076004,0.022071253508329,-0.194685146212578,-0.028121981769800,0.021991703659296,0.071816325187683,0.063609905540943,0.095543190836906,0.060409147292376,0.170943841338158,-0.050746329128742,-0.016480727121234,0.025861667469144));
res += mul(Get(s1,dx,dy), float4x4(-0.035347234457731,0.176068007946014,0.000055972832342,0.080216310918331,-0.101763665676117,-0.065938882529736,0.073879025876522,-0.130780041217804,0.161255910992622,0.029066605493426,0.059128187596798,-0.086115546524525,0.001695200684480,0.036329533904791,-0.276884466409683,0.002959531964734));
res += mul(Get(s2,-dx,-dy), float4x4(-0.042634133249521,0.015004949644208,-0.186498418450356,-0.109630189836025,-0.071052402257919,0.107719063758850,-0.050324827432632,-0.081660740077496,-0.183151230216026,-0.123643361032009,0.107669062912464,-0.061358846724033,0.084895499050617,-0.167889460921288,-0.168635383248329,-0.039951592683792));
res += mul(Get(s2,-dx,0), float4x4(0.096463203430176,0.011009422130883,0.015463537536561,0.026656001806259,0.008798962458968,-0.090426072478294,0.031863808631897,-0.256046295166016,-0.069866113364697,-0.220372170209885,0.044990040361881,0.192873120307922,-0.012587492354214,0.087356850504875,-0.020933035761118,0.044788163155317));
res += mul(Get(s2,-dx,dy), float4x4(0.056027438491583,0.075167723000050,0.186081171035767,-0.210598528385162,-0.129523873329163,0.069775588810444,-0.014650385826826,-0.024533921852708,-0.072173051536083,0.015004197135568,-0.088706426322460,-0.055238019675016,0.054222140461206,-0.196236222982407,-0.087537497282028,0.072460412979126));
res += mul(Get(s2,0,-dy), float4x4(-0.138300061225891,-0.066439390182495,-0.287243723869324,0.057643812149763,0.182399317622185,0.065174385905266,0.097272194921970,-0.168396607041359,0.022090645506978,-0.000455751607660,-0.085573665797710,0.106686338782310,0.137877300381660,-0.097991652786732,-0.086280599236488,0.008905525319278));
res += mul(Get(s2,0,0), float4x4(0.147592529654503,-0.151543587446213,-0.042058471590281,-0.059408765286207,-0.031111108139157,-0.196688562631607,-0.119618646800518,0.021862424910069,0.081662669777870,0.178192093968391,-0.047528646886349,-0.173800960183144,0.123937979340553,-0.072894915938377,0.022439327090979,0.067146547138691));
res += mul(Get(s2,0,dy), float4x4(0.122861117124557,0.106009304523468,-0.006075102835894,-0.074029535055161,0.005244523286819,0.078302875161171,-0.152846440672874,0.111115545034409,0.121264606714249,0.079269364476204,0.161972656846046,0.051377512514591,-0.018515259027481,0.053518306463957,-0.048468414694071,0.225181475281715));
res += mul(Get(s2,dx,-dy), float4x4(0.019561704248190,-0.248430103063583,-0.303315162658691,0.078542537987232,-0.076313138008118,0.166725307703018,0.014600086957216,-0.157797932624817,-0.043933056294918,0.033745467662811,0.009967033751309,0.168430209159851,0.044424455612898,-0.004461871460080,-0.098278947174549,-0.104989409446716));
res += mul(Get(s2,dx,0), float4x4(-0.119060754776001,-0.007963203825057,0.020644737407565,-0.122197419404984,0.077784292399883,0.003440632252023,0.110564455389977,-0.130368113517761,-0.010488527826965,-0.075238332152367,0.044885106384754,-0.051883943378925,-0.244750544428825,-0.003414559643716,0.050283193588257,0.037739202380180));
res += mul(Get(s2,dx,dy), float4x4(-0.179216504096985,0.088420286774635,0.100266985595226,-0.194312512874603,-0.021265413612127,0.103976130485535,0.135820031166077,-0.099549487233162,-0.117405451834202,-0.255831539630890,-0.126181304454803,0.027818687260151,-0.051616445183754,0.063142329454422,0.074089780449867,-0.083980977535248));
res += mul(Get(s3,-dx,-dy), float4x4(-0.069241262972355,-0.072371676564217,0.223543301224709,0.015543792396784,-0.009556718170643,0.112539611756802,-0.024707222357392,-0.254696011543274,-0.231635794043541,-0.124013446271420,0.152915075421333,0.020878946408629,0.123271234333515,0.132456734776497,-0.040062248706818,0.105310752987862));
res += mul(Get(s3,-dx,0), float4x4(-0.093532584607601,-0.020971300080419,-0.049154266715050,-0.053121570497751,0.184220716357231,0.134228006005287,0.073736101388931,-0.011016847565770,0.028129793703556,0.078325159847736,0.236298292875290,0.042734920978546,-0.049471493810415,-0.037680804729462,0.242585793137550,-0.197636291384697));
res += mul(Get(s3,-dx,dy), float4x4(-0.106137230992317,-0.046911992132664,0.024978682398796,0.070436887443066,-0.077243268489838,-0.080494195222855,-0.060072008520365,0.003849973203614,-0.161829963326454,-0.024761062115431,0.043244026601315,0.006508420687169,-0.069604203104973,-0.097566716372967,-0.007587799802423,-0.123779617249966));
res += mul(Get(s3,0,-dy), float4x4(-0.214842781424522,0.098970539867878,-0.131624281406403,-0.249568030238152,0.159120947122574,-0.111252047121525,-0.011861039325595,-0.035375371575356,-0.059148471802473,-0.049187004566193,0.037988379597664,0.377386391162872,0.053512718528509,-0.060528427362442,-0.029139040037990,-0.195491388440132));
res += mul(Get(s3,0,0), float4x4(-0.176872044801712,-0.200392276048660,-0.095357827842236,-0.128053918480873,-0.054735668003559,-0.149164780974388,0.143799558281898,0.166982904076576,-0.047332081943750,-0.209209516644478,0.076581344008446,-0.051175571978092,-0.185674011707306,-0.018117157742381,-0.240951299667358,-0.071349844336510));
res += mul(Get(s3,0,dy), float4x4(0.050470106303692,-0.005295300856233,0.020198168233037,-0.011072060093284,0.004931638482958,-0.005482347682118,0.007582250516862,-0.172586947679520,0.083898372948170,-0.020437037572265,-0.075345627963543,-0.094927050173283,0.037997998297215,-0.062060669064522,-0.040849126875401,0.052955199033022));
res += mul(Get(s3,dx,-dy), float4x4(0.070672944188118,0.007941454648972,-0.102290123701096,0.001087132492103,-0.088113412261009,-0.031950954347849,-0.036961972713470,-0.090963795781136,0.167336538434029,0.157177627086639,0.085967853665352,0.121178157627583,-0.012791949324310,0.202621579170227,-0.152835845947266,0.073575995862484));
res += mul(Get(s3,dx,0), float4x4(0.120333895087242,0.019630212336779,-0.051576122641563,-0.113653942942619,-0.141306206583977,0.060479544103146,-0.080432564020157,0.063810907304287,0.006664940621704,-0.142257958650589,-0.111501686275005,-0.028208561241627,0.124851115047932,0.128919795155525,0.035515598952770,0.049774199724197));
res += mul(Get(s3,dx,dy), float4x4(-0.084664367139339,-0.224483832716942,0.110147245228291,0.157423689961433,-0.040987212210894,0.105148203670979,0.032482106238604,0.000988253741525,0.026301942765713,-0.135670065879822,0.004712848924100,0.232938468456268,0.041019905358553,0.076938465237617,-0.028486171737313,-0.121812790632248));
return max(float4(0,0,0,0), res);
}
