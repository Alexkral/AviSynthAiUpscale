sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.026437561959028,-0.035152204334736,0.009515822865069,-0.060170106589794,0.259459763765335,0.144743815064430,-0.148477345705032,-0.252776861190796,0.103756345808506,0.049739360809326,0.212164059281349,-0.155925408005714,0.094537198543549,-0.175023451447487,-0.148123785853386,-0.217859089374542));
res += mul(Get(s0,-dx,0), float4x4(-0.102049216628075,0.140958428382874,0.171787366271019,-0.008647884242237,0.093853630125523,0.069398358464241,-0.204928338527679,-0.150079980492592,0.056595057249069,-0.003687753574923,-0.095097549259663,-0.288811594247818,-0.095804221928120,-0.028385249897838,-0.079287551343441,-0.114048317074776));
res += mul(Get(s0,-dx,dy), float4x4(-0.045053243637085,-0.012476500123739,0.219762742519379,-0.122025407850742,-0.037054207175970,-0.005496701691300,0.102985851466656,-0.056257374584675,-0.199151396751404,-0.242134883999825,-0.180919498205185,-0.270950198173523,-0.137117192149162,-0.223123252391815,-0.150338605046272,-0.402919083833694));
res += mul(Get(s0,0,-dy), float4x4(-0.051157157868147,0.022081952542067,0.022402809932828,0.062610156834126,0.030825302004814,0.324031323194504,-0.009287635795772,0.184950590133667,-0.030372874811292,-0.046927232295275,0.167703360319138,0.087637856602669,0.092021167278290,0.100496090948582,-0.065015017986298,0.058101672679186));
res += mul(Get(s0,0,0), float4x4(-0.149781048297882,-0.042323190718889,0.019860949367285,0.062517061829567,-0.016779914498329,0.153810054063797,-0.143396347761154,0.011029466986656,-0.118151262402534,-0.049374420195818,0.235584720969200,0.028195759281516,0.019160548225045,0.237103536725044,-0.129147082567215,-0.037283252924681));
res += mul(Get(s0,0,dy), float4x4(-0.081376254558563,-0.032671477645636,0.232435256242752,0.034312333911657,0.059604834765196,0.097382485866547,0.028942352160811,0.194268345832825,-0.024617254734039,-0.124770089983940,0.084243416786194,-0.023319723084569,-0.129793301224709,0.068635888397694,-0.193134829401970,-0.325474023818970));
res += mul(Get(s0,dx,-dy), float4x4(0.045433007180691,-0.037573561072350,0.051634497940540,0.186569124460220,-0.126788735389709,0.134111791849136,0.109988957643509,0.069502726197243,0.085339806973934,0.082148320972919,0.116720788180828,-0.006977971177548,0.142756775021553,-0.123858496546745,0.027307298034430,0.159555941820145));
res += mul(Get(s0,dx,0), float4x4(-0.135575398802757,-0.029630701988935,-0.160307750105858,0.224179118871689,-0.143544286489487,0.258766263723373,0.030667578801513,-0.055070724338293,-0.144239827990532,0.359260529279709,0.069273337721825,-0.065385848283768,0.066514827311039,0.136945486068726,-0.078409947454929,0.025778044015169));
res += mul(Get(s0,dx,dy), float4x4(0.098393991589546,-0.016475586220622,0.006996509153396,0.039465643465519,0.110145054757595,0.124861188232899,0.140219718217850,-0.055096846073866,-0.067361809313297,0.235816553235054,0.290613949298859,0.046671967953444,0.180220648646355,0.003827044740319,-0.173938974738121,-0.089710794389248));
res += mul(Get(s1,-dx,-dy), float4x4(-0.055901978164911,0.183873981237411,0.153504505753517,0.058761741966009,-0.005322779994458,-0.044813454151154,-0.105316258966923,-0.098792843520641,0.054758381098509,0.208295032382011,0.471643805503845,0.161621004343033,-0.183638781309128,-0.131770953536034,0.092395983636379,0.229659736156464));
res += mul(Get(s1,-dx,0), float4x4(0.001737691229209,0.015475368127227,0.228363320231438,0.126683190464973,0.086748771369457,0.051913619041443,0.023079873993993,-0.293992221355438,-0.164913430809975,0.036069102585316,0.027880769222975,-0.039035379886627,-0.064241528511047,-0.178744301199913,-0.039614502340555,0.178808629512787));
res += mul(Get(s1,-dx,dy), float4x4(-0.066504962742329,0.000643251580186,0.131060749292374,-0.081241406500340,-0.066815964877605,-0.113476052880287,0.246925279498100,-0.018076062202454,-0.195890948176384,0.001100306748413,-0.038888368755579,-0.011823865585029,-0.070258446037769,-0.112899005413055,-0.123676292598248,-0.300459891557693));
res += mul(Get(s1,0,-dy), float4x4(-0.005563865881413,0.060468170791864,-0.069312207400799,0.243881344795227,-0.104260943830013,0.079816371202469,-0.071511685848236,-0.029513821005821,0.015289396047592,0.180900678038597,0.252698004245758,-0.070006281137466,0.035727977752686,-0.076170913875103,-0.020516028627753,-0.014236005023122));
res += mul(Get(s1,0,0), float4x4(0.077464573085308,0.006485269404948,0.047099068760872,0.140035986900330,-0.044410329312086,0.014741715043783,-0.071502991020679,-0.010059728287160,-0.045340497046709,-0.060101572424173,0.046881224960089,0.006736982148141,0.003531407797709,-0.057597406208515,0.194648772478104,0.207302749156952));
res += mul(Get(s1,0,dy), float4x4(0.068757548928261,0.054983288049698,0.097446314990520,0.028424069285393,-0.052793271839619,-0.075451850891113,0.085259139537811,0.091022267937660,0.007096582092345,-0.014580137096345,-0.162654936313629,-0.070558100938797,0.283926695585251,-0.064995408058167,0.000996907823719,-0.122850969433784));
res += mul(Get(s1,dx,-dy), float4x4(-0.017871191725135,-0.126780882477760,-0.011819026432931,0.224784687161446,0.017134645953774,-0.041593860834837,-0.042539082467556,0.155268549919128,-0.004542752169073,0.183483868837357,-0.014307387173176,-0.019525272771716,-0.012096048332751,-0.122792005538940,-0.082807287573814,-0.117638960480690));
res += mul(Get(s1,dx,0), float4x4(0.027625843882561,0.061172872781754,0.151432365179062,0.031987033784389,-0.064781457185745,-0.171323806047440,-0.091414175927639,0.076831862330437,-0.066070854663849,-0.068416140973568,0.062285743653774,0.021677145734429,0.073609478771687,-0.032048016786575,-0.125911891460419,0.105579040944576));
res += mul(Get(s1,dx,dy), float4x4(0.075391113758087,0.017368419095874,0.102076105773449,0.043050784617662,-0.082275271415710,-0.215107634663582,-0.087342374026775,0.031797546893358,-0.129159256815910,-0.134592920541763,0.201575860381126,0.099391996860504,-0.124994896352291,-0.093921303749084,0.000808692828286,-0.069442309439182));
res += mul(Get(s2,-dx,-dy), float4x4(0.041654333472252,-0.170556530356407,0.063790343701839,0.002704134909436,0.089686572551727,0.151605665683746,0.008776160888374,-0.231176733970642,0.045704428106546,0.020411971956491,-0.034017097204924,-0.105134300887585,0.055523805320263,0.073178887367249,0.058670938014984,0.070872910320759));
res += mul(Get(s2,-dx,0), float4x4(-0.079579614102840,-0.076621368527412,-0.065251171588898,-0.087047651410103,0.035925608128309,-0.111489854753017,0.064692378044128,-0.151655182242393,-0.072326041758060,0.015940042212605,-0.062497273087502,-0.103138171136379,0.028199762105942,0.006737502291799,-0.140378355979919,0.180276587605476));
res += mul(Get(s2,-dx,dy), float4x4(0.130309164524078,-0.002552806166932,-0.057100221514702,-0.186410188674927,0.037590365856886,-0.030259376391768,-0.071277521550655,-0.231299564242363,-0.103906899690628,-0.007643900811672,0.009218542836607,0.056439884006977,-0.003752627642825,0.083134628832340,-0.010404028929770,0.012145527638495));
res += mul(Get(s2,0,-dy), float4x4(0.276145011186600,-0.032490666955709,0.085676908493042,0.217498704791069,0.002190658124164,0.262288898229599,0.041366215795279,0.150296896696091,0.274159491062164,0.086844608187675,0.001185996807180,0.116696335375309,0.012766675092280,0.083987042307854,0.173852309584618,0.188492909073830));
res += mul(Get(s2,0,0), float4x4(-0.020183401182294,-0.040562581270933,-0.142599940299988,-0.016336921602488,-0.174145326018333,-0.177871853113174,0.050661321729422,0.189846366643906,-0.023907525464892,0.078299097716808,-0.098257370293140,0.182416513562202,-0.034945111721754,-0.042512565851212,-0.073146902024746,0.125505015254021));
res += mul(Get(s2,0,dy), float4x4(0.179110258817673,0.159629449248314,-0.064679801464081,-0.117804184556007,-0.113808825612068,-0.053767368197441,0.087938554584980,0.160483881831169,-0.097062051296234,-0.055635556578636,-0.062581583857536,0.013999212533236,-0.079020552337170,0.055520202964544,-0.037596046924591,-0.134750768542290));
res += mul(Get(s2,dx,-dy), float4x4(0.140756770968437,-0.013041452504694,0.402928799390793,0.396579265594482,-0.025949144735932,0.048513188958168,0.042425438761711,0.046660121530294,0.052932024002075,0.158625304698944,0.262626677751541,-0.166667416691780,-0.038033045828342,0.173657044768333,0.139860391616821,0.209035769104958));
res += mul(Get(s2,dx,0), float4x4(0.426427483558655,-0.073780775070190,0.208654627203941,0.069884881377220,-0.044891353696585,-0.031335171312094,0.012648728676140,-0.074563756585121,0.146022036671638,-0.226370736956596,0.247663810849190,0.128583014011383,-0.005254534538835,-0.049554456025362,-0.049994833767414,0.488176316022873));
res += mul(Get(s2,dx,dy), float4x4(0.393509954214096,-0.121210195124149,0.086282558739185,-0.094995573163033,-0.048444245010614,0.238759770989418,0.081245683133602,-0.051437985152006,0.185916438698769,-0.227536380290985,0.182225152850151,-0.025831304490566,0.014451636001468,0.081107027828693,-0.136886566877365,-0.091976895928383));
res += mul(Get(s3,-dx,-dy), float4x4(0.270467996597290,-0.052367370575666,-0.030305175110698,-0.207706004381180,0.040625073015690,-0.031684853136539,-0.025590766221285,0.068659514188766,-0.092820487916470,-0.061624046415091,-0.017349883913994,0.119982808828354,0.018730690702796,-0.031269848346710,-0.101532101631165,0.155658975243568));
res += mul(Get(s3,-dx,0), float4x4(0.038299035280943,-0.157168284058571,-0.182766497135162,-0.072914130985737,-0.002136778086424,0.064751744270325,-0.173378810286522,-0.127119854092598,0.128102496266365,0.034807231277227,-0.054836671799421,0.239826306700706,-0.029399212449789,0.031693082302809,-0.052914891391993,-0.026378313079476));
res += mul(Get(s3,-dx,dy), float4x4(0.229846104979515,-0.179611042141914,-0.059487834572792,-0.135587632656097,-0.042918629944324,-0.066993921995163,-0.064197815954685,-0.116533719003201,0.187080979347229,0.129663378000259,-0.057862970978022,-0.173748150467873,0.123821325600147,0.069946877658367,0.065938256680965,-0.000341937120538));
res += mul(Get(s3,0,-dy), float4x4(0.142104163765907,0.136826381087303,0.081048160791397,0.213320180773735,0.012752482667565,0.101566776633263,0.016395114362240,0.059861566871405,-0.036434322595596,-0.046457827091217,0.261185109615326,0.198628842830658,-0.041752852499485,-0.021260647103190,-0.096165865659714,0.054919879883528));
res += mul(Get(s3,0,0), float4x4(-0.130379781126976,-0.042407043278217,-0.113002553582191,0.379199594259262,-0.066002450883389,0.116654917597771,-0.043968167155981,0.023605177178979,0.102887585759163,0.027311092242599,0.103507101535797,0.137179046869278,-0.087774880230427,0.096867084503174,-0.091691881418228,-0.034906603395939));
res += mul(Get(s3,0,dy), float4x4(-0.103232719004154,-0.239476203918457,-0.205708116292953,0.006244312040508,-0.041620999574661,-0.031864125281572,-0.027911860495806,0.035960700362921,0.094838678836823,0.091038279235363,-0.000984453945421,-0.065660439431667,-0.045445363968611,0.121005728840828,0.025197748094797,-0.103407278656960));
res += mul(Get(s3,dx,-dy), float4x4(0.045847073197365,0.369777351617813,0.083410494029522,0.190089151263237,0.005211513489485,-0.054491542279720,0.031640809029341,0.000182244417374,-0.087201960384846,0.186819761991501,0.011582072824240,0.234215766191483,0.074381828308105,0.035641830414534,-0.056702990084887,0.110716670751572));
res += mul(Get(s3,dx,0), float4x4(-0.116629160940647,0.255213052034378,-0.035914223641157,-0.010784958489239,0.023165589198470,0.090225674211979,0.033367294818163,0.018822269514203,0.212976932525635,0.132067173719406,-0.045218862593174,0.356192678213120,-0.073074087500572,-0.085044816136360,-0.121256537735462,0.102219030261040));
res += mul(Get(s3,dx,dy), float4x4(-0.106276161968708,-0.219361782073975,-0.190080061554909,-0.149835228919983,-0.019897190853953,-0.040967218577862,-0.103588998317719,-0.046345978975296,0.011882934719324,0.175131529569626,0.033399984240532,0.074282631278038,-0.069006882607937,-0.066187679767609,-0.005675940774381,0.042461704462767));
return max(float4(0,0,0,0), res);
}
