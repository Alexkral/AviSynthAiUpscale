sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.190937608480453,0.143864616751671,-0.076037332415581,-0.139083355665207,0.113208249211311,-0.033325459808111,-0.178223088383675,0.154875293374062,-0.143737971782684,0.048159640282393,0.013278596103191,-0.129842683672905,0.013797264546156,-0.091877117753029,0.094218127429485,-0.004881828557700));
res += mul(Get(s0,-dx,0), float4x4(-0.166203469038010,0.077075690031052,-0.255693584680557,0.125115349888802,-0.146586641669273,0.082385115325451,-0.068552859127522,-0.011460053734481,-0.027476781979203,0.091008871793747,-0.244171664118767,-0.044202435761690,0.105909533798695,0.150491163134575,-0.061993297189474,0.148109078407288));
res += mul(Get(s0,-dx,dy), float4x4(0.076484546065331,-0.019828014075756,-0.066568322479725,0.218280524015427,-0.261802196502686,-0.036523699760437,-0.125292479991913,-0.063634969294071,-0.024488531053066,0.022072246298194,0.016121022403240,0.247806563973427,0.041830796748400,0.136096656322479,-0.212151288986206,0.024805225431919));
res += mul(Get(s0,0,-dy), float4x4(-0.049633674323559,0.083809278905392,0.044196326285601,0.043004091829062,0.211682721972466,-0.184931993484497,-0.069478794932365,0.106072239577770,-0.084868878126144,0.005560677498579,0.072914853692055,-0.083000160753727,-0.065582685172558,-0.020101716741920,0.045776531100273,0.152888700366020));
res += mul(Get(s0,0,0), float4x4(-0.055294778198004,0.209352925419807,-0.109333500266075,0.047959432005882,0.073522008955479,-0.039005443453789,0.009040184319019,0.004604825284332,0.070960782468319,0.096467331051826,0.023611241951585,0.104990288615227,0.057251501828432,0.061718210577965,-0.157003581523895,-0.043185278773308));
res += mul(Get(s0,0,dy), float4x4(-0.187016800045967,0.069830484688282,0.039877429604530,0.102614998817444,0.050507482141256,0.073944687843323,-0.057798020541668,0.111623406410217,0.039855360984802,-0.001914992113598,0.067824132740498,0.082793414592743,-0.187333926558495,0.131272628903389,-0.271627187728882,0.035902783274651));
res += mul(Get(s0,dx,-dy), float4x4(-0.024456247687340,-0.145707100629807,0.091197885572910,-0.236812070012093,-0.031542811542749,0.112959839403629,-0.076087713241577,-0.321941345930099,0.025184769183397,-0.027040727436543,0.196483314037323,-0.123971372842789,-0.112439975142479,-0.069072753190994,0.106089718639851,-0.054111123085022));
res += mul(Get(s0,dx,0), float4x4(0.061705257743597,-0.044320389628410,0.184847459197044,0.078098863363266,0.056993842124939,-0.001317097223364,0.274932324886322,0.087165646255016,0.069459021091461,0.016053238883615,0.047110747545958,0.046428568661213,0.101878263056278,-0.171602442860603,-0.172482192516327,-0.278160363435745));
res += mul(Get(s0,dx,dy), float4x4(-0.039277188479900,-0.192928433418274,-0.159336000680923,-0.171213164925575,-0.147367969155312,0.129413932561874,-0.039870332926512,0.124666094779968,-0.046482056379318,-0.029131868854165,-0.011253752745688,0.209850817918777,-0.046341761946678,0.034522231668234,-0.098321028053761,-0.336753755807877));
res += mul(Get(s1,-dx,-dy), float4x4(-0.107315517961979,-0.009950351901352,0.054712839424610,-0.019190661609173,-0.164865449070930,0.036336008459330,0.028875533491373,0.093247279524803,0.254100829362869,-0.015177449211478,0.049473095685244,-0.085654392838478,0.157293051481247,0.027503373101354,-0.173458889126778,-0.125751331448555));
res += mul(Get(s1,-dx,0), float4x4(0.124782331287861,-0.139379650354385,-0.053489532321692,0.002867433009669,0.043523821979761,0.219959706068039,-0.038112688809633,-0.225360423326492,-0.088773243129253,0.196361154317856,-0.039183184504509,0.155062243342400,0.152611747384071,-0.062490057200193,-0.192140534520149,-0.032285507768393));
res += mul(Get(s1,-dx,dy), float4x4(-0.110374443233013,-0.033489666879177,0.106417313218117,0.107630841434002,-0.164395958185196,0.008445331826806,-0.042784262448549,-0.199320271611214,0.067789465188980,-0.088765434920788,-0.071177110075951,-0.007614378817379,-0.044904004782438,0.012006069533527,-0.027766069397330,-0.036620900034904));
res += mul(Get(s1,0,-dy), float4x4(-0.045545041561127,-0.135687232017517,-0.034872040152550,-0.008523010648787,0.063612408936024,-0.107166074216366,0.163359031081200,0.045378733426332,-0.102844372391701,0.219265565276146,-0.007357449736446,-0.208521127700806,-0.200378298759460,0.055195949971676,-0.280928581953049,0.056029021739960));
res += mul(Get(s1,0,0), float4x4(0.160636380314827,-0.065041989088058,0.027015430852771,-0.035493545234203,-0.019349265843630,0.011058605276048,0.110879063606262,-0.242731094360352,-0.121466509997845,0.168445110321045,0.205749481916428,-0.010602704249322,0.186879798769951,0.019769260659814,-0.154051810503006,0.030257701873779));
res += mul(Get(s1,0,dy), float4x4(0.319771528244019,-0.040969617664814,0.049012552946806,0.042404163628817,0.082278355956078,-0.166678488254547,0.044659856706858,0.014312546700239,0.080163158476353,-0.255932450294495,-0.028116917237639,0.060518182814121,0.000203619390959,-0.085940390825272,0.093514874577522,-0.039303250610828));
res += mul(Get(s1,dx,-dy), float4x4(0.099697194993496,0.017305251210928,-0.085195660591125,0.059556260704994,-0.196978121995926,-0.190379127860069,-0.064753189682961,0.111759960651398,0.031468842178583,0.072773389518261,0.010391359217465,0.098582506179810,0.018856737762690,-0.159215793013573,-0.070507116615772,0.060062896460295));
res += mul(Get(s1,dx,0), float4x4(0.085091188549995,0.055174577981234,0.199252843856812,-0.020422950387001,-0.048288602381945,0.083239562809467,0.112031161785126,-0.101808138191700,0.087303340435028,0.136598467826843,0.187197491526604,-0.134800866246223,0.019429340958595,-0.170056641101837,-0.017725501209497,0.089469224214554));
res += mul(Get(s1,dx,dy), float4x4(-0.006504588294774,0.070366173982620,0.111898131668568,0.142689689993858,-0.090021349489689,0.022548584267497,0.323868155479431,0.021163206547499,0.178063556551933,0.079046845436096,0.010565679520369,0.077510759234428,0.100864909589291,0.063537113368511,-0.007770377211273,-0.085711210966110));
res += mul(Get(s2,-dx,-dy), float4x4(0.119101017713547,-0.005208790767938,-0.116174176335335,-0.082756333053112,0.023058475926518,0.047815736383200,-0.053674712777138,-0.050261281430721,0.013072479516268,0.078007489442825,-0.082777187228203,-0.089031442999840,0.092556513845921,0.039782177656889,0.028950599953532,-0.142707198858261));
res += mul(Get(s2,-dx,0), float4x4(0.017108669504523,0.073063775897026,0.063292860984802,0.009888646192849,-0.096469886600971,-0.075332619249821,0.034410275518894,0.086261436343193,-0.031069600954652,-0.164976626634598,0.296680986881256,0.008726025000215,0.070438295602798,0.188774943351746,0.152583092451096,-0.075918078422546));
res += mul(Get(s2,-dx,dy), float4x4(0.003664242802188,0.046678125858307,-0.137579977512360,-0.083948858082294,-0.101833760738373,0.013991495594382,0.068961061537266,-0.160440474748611,0.078854642808437,-0.077478103339672,-0.016053110361099,0.060662664473057,-0.065724730491638,0.118079930543900,-0.079133480787277,0.156215250492096));
res += mul(Get(s2,0,-dy), float4x4(-0.068739883601665,-0.145603686571121,0.039389859884977,-0.087145328521729,0.017246309667826,-0.023070102557540,-0.021461885422468,-0.073124788701534,-0.000579357671086,-0.085424609482288,-0.089147202670574,0.059909373521805,-0.184327811002731,0.180624872446060,-0.004679700825363,0.057950533926487));
res += mul(Get(s2,0,0), float4x4(-0.139952093362808,-0.128394991159439,-0.146703317761421,0.043261930346489,0.049268126487732,-0.096619352698326,-0.006704293191433,-0.061734948307276,-0.069131411612034,-0.023950129747391,0.041241697967052,0.028525719419122,0.111596629023552,0.261217147111893,0.201715111732483,-0.069762967526913));
res += mul(Get(s2,0,dy), float4x4(-0.040301710367203,0.028228593990207,-0.103032551705837,0.083505816757679,-0.108918085694313,-0.004574602469802,-0.028160188347101,0.241857036948204,0.157858580350876,-0.106121920049191,-0.135709300637245,0.050703406333923,0.106931909918785,0.074431866407394,0.056297734379768,0.017214125022292));
res += mul(Get(s2,dx,-dy), float4x4(0.033952806144953,-0.021049996837974,-0.045400571078062,-0.055785063654184,-0.043770521879196,-0.023502781987190,-0.058978486806154,0.078816771507263,-0.062744021415710,0.023796929046512,0.069525621831417,-0.285474449396133,-0.035920515656471,-0.114429242908955,0.164785981178284,0.208199828863144));
res += mul(Get(s2,dx,0), float4x4(-0.198360860347748,-0.061897817999125,-0.051495794206858,-0.061363525688648,0.151073679327965,-0.114322364330292,-0.094747900962830,-0.043142408132553,0.216394618153572,0.141022220253944,0.037564966827631,0.159681305289268,-0.072034768760204,0.012343034148216,0.150964483618736,0.141076445579529));
res += mul(Get(s2,dx,dy), float4x4(-0.087456032633781,-0.037963777780533,-0.164344742894173,0.115036644041538,0.036350827664137,0.112328238785267,0.025870526209474,-0.106807217001915,0.225377008318901,0.071614474058151,0.122159577906132,0.019626868888736,-0.100717440247536,0.137959972023964,0.024694351479411,0.053066834807396));
res += mul(Get(s3,-dx,-dy), float4x4(0.085010364651680,-0.213148996233940,0.133048534393311,-0.119167707860470,0.089053906500340,-0.114461146295071,-0.024102469906211,0.056912474334240,0.105065122246742,0.088450752198696,0.052288558334112,-0.041648186743259,-0.116116121411324,-0.173902571201324,-0.051363803446293,0.024453122168779));
res += mul(Get(s3,-dx,0), float4x4(-0.041385442018509,0.156930401921272,0.012357932515442,-0.074834935367107,0.053046014159918,0.021248005330563,0.106804654002190,-0.069688387215137,-0.030299123376608,0.145455300807953,0.237333223223686,-0.108537785708904,0.012148874811828,0.073744900524616,-0.037433579564095,-0.088867932558060));
res += mul(Get(s3,-dx,dy), float4x4(-0.041754927486181,-0.132430732250214,-0.279541134834290,-0.011378177441657,-0.019390236586332,0.002645224565640,0.100144572556019,-0.129257529973984,0.118474908173084,0.028768572956324,-0.091481871902943,-0.009207911789417,-0.163036271929741,-0.054035149514675,-0.072006389498711,-0.027349872514606));
res += mul(Get(s3,0,-dy), float4x4(-0.155506625771523,0.164058104157448,0.116160631179810,-0.000315411569318,0.045935995876789,-0.001242989557795,0.130500003695488,0.017271008342505,0.045613672584295,-0.027580698952079,0.040081448853016,-0.147856280207634,0.132412821054459,-0.135727122426033,0.004055830650032,-0.022009331732988));
res += mul(Get(s3,0,0), float4x4(0.079112276434898,0.032232735306025,0.144258111715317,0.004313226323575,0.087787903845310,0.076047219336033,0.035154741257429,0.019185544922948,0.000268213858362,0.053296878933907,0.196890532970428,-0.066472902894020,0.003394478466362,-0.050062205642462,0.058506362140179,0.097272135317326));
res += mul(Get(s3,0,dy), float4x4(-0.120903581380844,-0.086283512413502,-0.004188620951027,-0.092645749449730,-0.065579466521740,0.056944783776999,-0.074667610228062,0.185242474079132,-0.048640478402376,0.094920910894871,-0.172372579574585,-0.059207204729319,-0.072412520647049,-0.017533514648676,-0.115455955266953,-0.077564299106598));
res += mul(Get(s3,dx,-dy), float4x4(-0.154626592993736,0.055629506707191,-0.087641566991806,-0.025074554607272,0.073275774717331,-0.133263796567917,0.064379975199699,-0.033868767321110,-0.144741967320442,0.093749180436134,0.152456402778625,0.013203642331064,-0.056308280676603,0.061241880059242,-0.189142614603043,-0.124845489859581));
res += mul(Get(s3,dx,0), float4x4(0.089267462491989,0.122785553336143,-0.033140245825052,-0.021029954776168,-0.049049146473408,0.122507855296135,0.094602696597576,0.002220570808277,0.142968118190765,0.008691056631505,-0.009428499266505,0.066409803926945,0.042677164077759,-0.062745280563831,0.080638378858566,0.114459104835987));
res += mul(Get(s3,dx,dy), float4x4(-0.075716346502304,-0.223472833633423,-0.149357259273529,0.122005447745323,0.001317596295848,0.169900491833687,0.096789300441742,-0.156745687127113,-0.087843365967274,0.025578269734979,0.060437012463808,0.102281838655472,-0.058378770947456,-0.070884987711906,-0.151219084858894,-0.019764443859458));
return max(float4(0,0,0,0), res);
}
