sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.062829010188580,0.066951043903828,-0.018376398831606,0.061906393617392,-0.284408420324326,0.000085515479441,-0.106230184435844,0.184766963124275,-0.029561609029770,0.101191520690918,-0.091730907559395,0.026195427402854,0.041847348213196,0.090770035982132,-0.070496663451195,-0.102473869919777));
res += mul(Get(s0,-dx,0), float4x4(0.048939086496830,-0.051176767796278,-0.138219222426414,-0.077506594359875,0.048175495117903,-0.117169842123985,-0.176175415515900,-0.124561831355095,-0.061593033373356,-0.055427301675081,0.145876720547676,0.031972374767065,-0.041416514664888,-0.118919558823109,-0.177395910024643,0.024163618683815));
res += mul(Get(s0,-dx,dy), float4x4(0.024430798366666,-0.041609644889832,0.218316152691841,-0.086897410452366,-0.080611012876034,0.089067019522190,0.129972532391548,0.089293189346790,0.182068020105362,0.006681342609227,-0.099110022187233,0.001910252729431,0.087970644235611,-0.058913331478834,-0.069379568099976,-0.244494616985321));
res += mul(Get(s0,0,-dy), float4x4(-0.044130466878414,0.070410154759884,-0.100394122302532,0.071069262921810,-0.034098599106073,0.065151110291481,0.002258135471493,0.093078359961510,0.081848800182343,0.172028586268425,0.009126888588071,0.043691363185644,-0.237314984202385,-0.066994272172451,-0.106092318892479,0.122391164302826));
res += mul(Get(s0,0,0), float4x4(0.001831719186157,0.086772345006466,0.027940597385168,-0.005158054642379,-0.090806491672993,-0.049092434346676,-0.136084601283073,-0.007832510396838,0.079392313957214,-0.033672701567411,-0.034187786281109,-0.121278651058674,0.021551353856921,-0.012971485964954,0.060641035437584,-0.095122531056404));
res += mul(Get(s0,0,dy), float4x4(-0.028877751901746,0.093458242714405,-0.046675354242325,-0.036811493337154,0.000053828680393,-0.029424550011754,-0.164907008409500,0.028313299641013,-0.110693283379078,-0.151009589433670,0.147179409861565,-0.207885935902596,-0.126534596085548,0.031789898872375,0.029955029487610,-0.245444640517235));
res += mul(Get(s0,dx,-dy), float4x4(0.093465760350227,0.069871284067631,-0.090717926621437,0.031059036031365,-0.038955420255661,0.346513003110886,-0.045251645147800,0.108089819550514,0.008801316842437,0.048555318266153,0.021904621273279,-0.203768506646156,0.114024117588997,0.019021248444915,0.001479680882767,-0.047502256929874));
res += mul(Get(s0,dx,0), float4x4(-0.040736105293036,0.000718997616787,-0.100341469049454,0.122327104210854,0.066539973020554,0.036909081041813,-0.152853354811668,0.001671212841757,0.005851412657648,-0.023716297000647,0.085992611944675,0.060181945562363,-0.074140273034573,0.046583253890276,-0.126151576638222,0.185094624757767));
res += mul(Get(s0,dx,dy), float4x4(0.152798205614090,0.060596860945225,0.072356976568699,0.005973005201668,0.075576730072498,-0.019194025546312,0.004994393792003,0.025537069886923,0.105660594999790,-0.073048636317253,-0.178311064839363,-0.076385974884033,-0.132383137941360,0.147276371717453,0.014146114699543,-0.287061542272568));
res += mul(Get(s1,-dx,-dy), float4x4(0.116229303181171,0.186691775918007,0.117371454834938,-0.003088316414505,-0.035560619086027,0.001375088351779,0.015492570586503,0.044838957488537,-0.078473933041096,-0.018237935379148,0.237560600042343,0.051407977938652,-0.098646402359009,0.000972909096163,-0.092082656919956,0.179218038916588));
res += mul(Get(s1,-dx,0), float4x4(-0.124073781073093,0.045851707458496,-0.117941983044147,-0.232140272855759,0.089051075279713,0.039876308292150,0.033431425690651,0.013674881309271,-0.061596758663654,-0.120541274547577,-0.091676630079746,-0.006448448635638,-0.041631937026978,-0.062893100082874,0.061400096863508,0.232670277357101));
res += mul(Get(s1,-dx,dy), float4x4(0.037545304745436,0.093111053109169,-0.078409433364868,-0.020945653319359,0.166219383478165,0.114653579890728,-0.010247243568301,-0.095794051885605,-0.026681020855904,0.081356376409531,-0.055701427161694,0.124621339142323,-0.012396520003676,-0.145727708935738,-0.018375393003225,-0.048329830169678));
res += mul(Get(s1,0,-dy), float4x4(-0.097117103636265,0.058156862854958,-0.149449035525322,0.016960639506578,0.002968288492411,0.089124798774719,0.134094759821892,0.011736867018044,-0.147627651691437,-0.081161916255951,0.024557840079069,-0.059090912342072,-0.070054158568382,0.114509612321854,0.166947752237320,0.062130138278008));
res += mul(Get(s1,0,0), float4x4(0.136443391442299,-0.047751288861036,0.200637787580490,-0.119734294712543,-0.074030697345734,-0.000102364152553,-0.102525487542152,-0.239522323012352,0.002149618230760,-0.019828788936138,-0.148155212402344,0.029703270643950,-0.102875150740147,0.026563065126538,-0.020130435004830,0.035898871719837));
res += mul(Get(s1,0,dy), float4x4(0.225042507052422,0.180532738566399,0.029173489660025,-0.143989607691765,-0.018923137336969,0.045697756111622,-0.155937865376472,-0.136799052357674,-0.007597946096212,-0.049778066575527,-0.023666989058256,-0.047101870179176,-0.241541504859924,0.190329119563103,0.020210629329085,-0.047215584665537));
res += mul(Get(s1,dx,-dy), float4x4(0.043891910463572,-0.095620706677437,-0.123378410935402,-0.047139178961515,-0.028569867834449,0.019582161679864,0.141565993428230,-0.139497816562653,-0.019866431131959,0.151174470782280,-0.182415410876274,0.149701148271561,-0.013946798630059,0.179128035902977,0.148634850978851,0.125933051109314));
res += mul(Get(s1,dx,0), float4x4(0.013031858950853,0.111256144940853,-0.127155482769012,-0.099812567234039,-0.168074712157249,-0.073283262550831,0.074043475091457,0.007457628380507,0.271100908517838,0.078111276030540,0.044239398092031,0.014469611458480,-0.042857933789492,0.067841000854969,-0.010380037128925,-0.070528052747250));
res += mul(Get(s1,dx,dy), float4x4(-0.030407581478357,0.085998512804508,-0.040971253067255,-0.152817428112030,0.210066020488739,-0.181828856468201,0.118845157325268,0.112672969698906,-0.049247171729803,-0.122291915118694,0.071708291769028,0.018656769767404,0.029706260189414,0.012927787378430,-0.049276314675808,0.017644340172410));
res += mul(Get(s2,-dx,-dy), float4x4(0.127864927053452,-0.162354052066803,-0.120178997516632,0.187327489256859,-0.066861450672150,-0.144239887595177,-0.093310035765171,-0.172460868954659,0.056360866874456,-0.046920917928219,0.120680138468742,0.098114170134068,-0.017636807635427,-0.030523132532835,0.034431230276823,-0.002185724209994));
res += mul(Get(s2,-dx,0), float4x4(0.006446950137615,-0.185343161225319,-0.073541581630707,0.177021637558937,-0.028723601251841,-0.108291245996952,-0.000715365982614,-0.103836588561535,0.018341835588217,0.092439763247967,0.128358110785484,0.020879801362753,0.018839918076992,0.189294263720512,-0.105341024696827,0.110402911901474));
res += mul(Get(s2,-dx,dy), float4x4(-0.074972368776798,-0.007647054269910,-0.004997782874852,-0.180764138698578,-0.211782231926918,-0.123217031359673,-0.131940141320229,-0.054325275123119,0.083689771592617,0.185042381286621,-0.140614017844200,-0.147590279579163,-0.065904609858990,0.166640087962151,0.056033778935671,-0.110715113580227));
res += mul(Get(s2,0,-dy), float4x4(0.060848008841276,-0.200282111763954,-0.040249418467283,0.127270847558975,-0.092025756835938,-0.146795496344566,-0.054648838937283,-0.093820519745350,0.224761143326759,0.133245989680290,0.153480768203735,0.045330066233873,-0.073823817074299,0.169256806373596,-0.093443810939789,-0.165960058569908));
res += mul(Get(s2,0,0), float4x4(-0.025156019255519,-0.018003167584538,-0.148459702730179,-0.017896361649036,0.057079792022705,-0.104884579777718,-0.135468274354935,0.076101556420326,-0.120736040174961,-0.058606997132301,0.217870593070984,0.071109943091869,0.019704548642039,0.221900522708893,-0.011264106258750,-0.155685901641846));
res += mul(Get(s2,0,dy), float4x4(0.070922516286373,-0.083025746047497,-0.125976115465164,-0.046192605048418,0.049064222723246,-0.252472102642059,-0.049776587635279,0.344561010599136,0.207992076873779,-0.137284085154533,-0.070675373077393,0.012073929421604,-0.005492007825524,0.027731450274587,-0.119564361870289,-0.056062154471874));
res += mul(Get(s2,dx,-dy), float4x4(-0.072957791388035,-0.195264741778374,-0.031447485089302,0.092737510800362,0.016788342967629,0.038489550352097,-0.029616689309478,-0.100196495652199,0.023582683876157,-0.033462963998318,0.117332480847836,-0.021104369312525,0.151078507304192,0.238185584545135,-0.067626699805260,0.123666837811470));
res += mul(Get(s2,dx,0), float4x4(0.043998144567013,-0.080707542598248,0.082708612084389,0.025319799780846,0.018660336732864,-0.036806922405958,0.040842063724995,-0.064863249659538,-0.095699377357960,-0.096666678786278,-0.031208852306008,0.105322852730751,-0.096478834748268,0.095445990562439,0.127997621893883,-0.117990799248219));
res += mul(Get(s2,dx,dy), float4x4(-0.086282417178154,0.165728107094765,0.004043109249324,-0.014557358808815,-0.014743379317224,-0.009573148563504,-0.018801063299179,-0.099752813577652,0.035533651709557,-0.107878334820271,0.040037304162979,0.225851774215698,-0.115015558898449,-0.050955995917320,0.126256003975868,0.105156905949116));
res += mul(Get(s3,-dx,-dy), float4x4(0.030092081055045,-0.225359261035919,0.108173489570618,-0.158923804759979,0.013214413076639,-0.035490345209837,-0.011427002027631,-0.146617457270622,0.099811360239983,-0.115570485591888,-0.099428184330463,0.015932383015752,0.102572716772556,-0.100214213132858,0.029869366437197,-0.075047232210636));
res += mul(Get(s3,-dx,0), float4x4(0.034579560160637,0.080649219453335,-0.018523955717683,0.111466534435749,0.034297138452530,-0.085112713277340,0.030790969729424,0.000525809882674,-0.131836250424385,-0.076746277511120,0.038632418960333,0.197206735610962,-0.060045056045055,-0.043986294418573,0.329167068004608,-0.049006350338459));
res += mul(Get(s3,-dx,dy), float4x4(-0.020717613399029,-0.099685683846474,-0.060224287211895,-0.059386473149061,0.019025843590498,-0.080647818744183,-0.089169047772884,0.161497280001640,0.105531036853790,-0.041700761765242,0.105645194649696,0.054517738521099,-0.018426809459925,-0.061135843396187,0.089680798351765,-0.100186288356781));
res += mul(Get(s3,0,-dy), float4x4(-0.135937497019768,0.107973098754883,0.083898968994617,0.221329078078270,-0.136724591255188,0.161736816167831,0.050782576203346,0.135407418012619,0.018721764907241,0.152966588735580,-0.054431371390820,0.055780481547117,-0.125784650444984,-0.102435290813446,0.040980819612741,-0.049474030733109));
res += mul(Get(s3,0,0), float4x4(0.104996778070927,0.006318882573396,0.008189828135073,-0.182668983936310,0.098106823861599,-0.141564086079597,-0.045012529939413,0.061605364084244,0.075062260031700,-0.163789957761765,0.099480159580708,0.007180478889495,0.165031418204308,0.038210280239582,0.035368714481592,0.045153301209211));
res += mul(Get(s3,0,dy), float4x4(-0.019630087539554,-0.043120075017214,0.024812387302518,-0.120103582739830,-0.051403824239969,-0.030592355877161,0.020048417150974,-0.102293692529202,0.127138271927834,0.246835902333260,-0.130085036158562,0.154583662748337,0.097960203886032,0.025080617517233,-0.092979036271572,0.052508305758238));
res += mul(Get(s3,dx,-dy), float4x4(-0.063359297811985,-0.050511147826910,0.065134838223457,0.187973439693451,-0.087812878191471,0.022071804851294,-0.010664830915630,0.236437618732452,0.156330212950706,0.136321693658829,-0.070944413542747,-0.134266883134842,-0.083041645586491,0.062550760805607,0.042739953845739,-0.012194092385471));
res += mul(Get(s3,dx,0), float4x4(0.131161510944366,0.087411999702454,-0.045267593115568,-0.199626430869102,0.025814047083259,0.174112156033516,-0.013595963828266,0.188108250498772,0.038273043930531,-0.068793646991253,0.021288143470883,0.065680712461472,0.098427347838879,-0.007144111674279,0.001100826892070,-0.132848888635635));
res += mul(Get(s3,dx,dy), float4x4(-0.103439874947071,0.057523485273123,-0.106290787458420,-0.039600640535355,0.091684207320213,-0.026179386302829,-0.073938801884651,0.052444905042648,-0.073646157979965,0.041288178414106,0.047266680747271,-0.050115175545216,0.094396948814392,0.062782227993011,-0.127655252814293,-0.106025025248528));
return max(float4(0,0,0,0), res);
}
