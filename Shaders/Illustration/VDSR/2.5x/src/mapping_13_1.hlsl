sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.119928099215031,0.088882923126221,-0.045312806963921,0.048714041709900,-0.135879650712013,-0.133467093110085,0.122163183987141,0.078907780349255,0.014792381785810,0.058339577168226,0.051687337458134,0.366237968206406,-0.354207456111908,-0.101250343024731,0.038761883974075,0.018597085028887));
res += mul(Get(s0,-dx,0), float4x4(0.192842140793800,-0.035148803144693,-0.120069652795792,0.167154908180237,-0.037912856787443,-0.192564144730568,0.054627478122711,0.052732434123755,-0.005126178730279,-0.062768802046776,0.112020522356033,0.042231369763613,0.074884533882141,-0.079546585679054,0.046870812773705,-0.010719470679760));
res += mul(Get(s0,-dx,dy), float4x4(-0.021745560690761,0.085021272301674,0.003902742639184,0.064895637333393,-0.185668066143990,0.033284340053797,0.017659965902567,-0.079155594110489,0.112000204622746,0.123130343854427,0.103906333446503,0.260507613420486,0.162220746278763,0.013938966207206,0.065727949142456,0.022944137454033));
res += mul(Get(s0,0,-dy), float4x4(-0.087172292172909,-0.033357944339514,-0.049059949815273,-0.034372255206108,-0.133521184325218,-0.056260962039232,0.029680676758289,-0.051664575934410,-0.018710678443313,-0.054440543055534,0.312168449163437,-0.010247394442558,-0.165650308132172,0.247708663344383,0.107407875359058,-0.070694968104362));
res += mul(Get(s0,0,0), float4x4(-0.140396222472191,-0.201207101345062,0.146027415990829,-0.087396040558815,0.037919472903013,-0.091658212244511,0.061592523008585,-0.097790136933327,0.091031610965729,-0.017521215602756,0.147809311747551,-0.058301519602537,0.075857654213905,0.091153740882874,0.141410350799561,0.105620205402374));
res += mul(Get(s0,0,dy), float4x4(-0.034417752176523,-0.104978077113628,0.041238747537136,-0.033913645893335,-0.006522224750370,0.153102949261665,-0.049877922981977,-0.046581778675318,-0.039577499032021,0.094664447009563,0.157656207680702,-0.126944005489349,0.138695687055588,0.083798028528690,0.219846233725548,-0.040059890598059));
res += mul(Get(s0,dx,-dy), float4x4(-0.126362368464470,-0.067150093615055,0.012837393209338,-0.046396240592003,0.044411562383175,-0.096161387860775,-0.018167415633798,-0.146727666258812,-0.053925711661577,0.069329425692558,-0.057143285870552,0.048718109726906,0.066026978194714,0.101967111229897,0.063994310796261,-0.025993036106229));
res += mul(Get(s0,dx,0), float4x4(-0.090049371123314,-0.083074212074280,-0.129159659147263,0.053964402526617,0.050754677504301,-0.172699406743050,-0.021569138392806,-0.005390542093664,0.020921505987644,0.079421922564507,0.091844312846661,-0.071322456002235,0.122191175818443,0.015343843027949,0.042362455278635,0.045345876365900));
res += mul(Get(s0,dx,dy), float4x4(-0.010984900407493,0.081112682819366,-0.039254967123270,0.037068083882332,0.036321368068457,0.064341098070145,0.031788013875484,-0.000886123219971,-0.022932603955269,0.162201911211014,0.014936524443328,-0.093297779560089,0.071970008313656,0.135260537266731,0.052974343299866,-0.005057282280177));
res += mul(Get(s1,-dx,-dy), float4x4(-0.020717961713672,0.090179711580276,-0.025569193065166,0.157756835222244,0.080060273408890,0.001573105109856,0.011445571668446,-0.051640167832375,-0.100315764546394,0.031868103891611,0.042295239865780,-0.008378629572690,-0.012731163762510,0.096965059638023,-0.127612888813019,0.192601427435875));
res += mul(Get(s1,-dx,0), float4x4(-0.013246380724013,0.274716854095459,-0.132977515459061,0.151442542672157,-0.118666559457779,-0.020796287804842,0.213671311736107,-0.103281028568745,0.056440904736519,0.134673938155174,-0.096266277134418,-0.008298533968627,-0.084670908749104,0.124119885265827,-0.091533206403255,0.098034277558327));
res += mul(Get(s1,-dx,dy), float4x4(0.057639732956886,0.149646639823914,-0.001621278701350,0.051159802824259,0.094738557934761,-0.045583005994558,0.308789759874344,0.022108154371381,0.075858071446419,0.060099352151155,-0.140669852495193,0.032335940748453,-0.100442834198475,-0.124281473457813,0.153857529163361,-0.039736658334732));
res += mul(Get(s1,0,-dy), float4x4(0.032176535576582,-0.056775927543640,0.199226409196854,0.098484747111797,0.002229835605249,0.145604014396667,0.055858220905066,-0.011589006520808,-0.184937670826912,0.006192076951265,-0.078964650630951,0.145955756306648,-0.049652289599180,-0.061000544577837,0.215278759598732,-0.042484533041716));
res += mul(Get(s1,0,0), float4x4(-0.004494367633015,-0.092913933098316,0.320710986852646,-0.140292987227440,-0.122145749628544,0.104741849005222,-0.084533654153347,0.030828312039375,0.098982751369476,0.043650023639202,0.002295685699210,0.198186084628105,-0.085379801690578,0.095316439867020,-0.061991468071938,0.125860929489136));
res += mul(Get(s1,0,dy), float4x4(0.189824968576431,-0.014124643988907,0.242427274584770,-0.286008328199387,-0.047019563615322,-0.113304682075977,-0.000442106829723,0.119032837450504,0.064850263297558,-0.051664952188730,0.051936261355877,0.004047973081470,-0.023576183244586,0.112514756619930,-0.060306739062071,-0.008331582881510));
res += mul(Get(s1,dx,-dy), float4x4(-0.032541114836931,0.050168078392744,-0.185212209820747,0.172344624996185,0.324319154024124,0.169915378093719,-0.122205629944801,0.053531173616648,-0.316106975078583,0.061529289931059,-0.182088136672974,0.094935402274132,-0.005716639105231,-0.128191500902176,0.018377332016826,0.112425215542316));
res += mul(Get(s1,dx,0), float4x4(-0.025894679129124,-0.007690522354096,-0.006624084897339,-0.129945874214172,-0.007378310430795,0.022296976298094,-0.338501334190369,0.045375503599644,-0.085691906511784,-0.069141276180744,0.111789800226688,-0.060638237744570,-0.017274806275964,-0.034293130040169,0.264131903648376,-0.098350770771503));
res += mul(Get(s1,dx,dy), float4x4(-0.030176453292370,0.058790482580662,0.011775345541537,-0.117868714034557,-0.284737259149551,0.031809505075216,-0.137296497821808,0.157197147607803,-0.042756598442793,-0.086447007954121,0.111912705004215,-0.124957531690598,-0.034599807113409,0.057036180049181,-0.029828609898686,-0.018562421202660));
res += mul(Get(s2,-dx,-dy), float4x4(-0.117668002843857,-0.067868612706661,-0.075851008296013,-0.001719194697216,0.132607340812683,-0.079527080059052,-0.179034382104874,0.089539371430874,-0.215442880988121,0.051781527698040,-0.058236151933670,-0.140678673982620,0.010479350574315,0.187464118003845,0.002154213609174,0.138434961438179));
res += mul(Get(s2,-dx,0), float4x4(0.144513517618179,0.173488736152649,-0.085977748036385,0.052562329918146,0.432283252477646,-0.015532146207988,-0.111730515956879,-0.099986404180527,0.375581949949265,0.143697127699852,-0.076297879219055,0.164198771119118,0.056815743446350,-0.048825539648533,0.010637469589710,0.079885296523571));
res += mul(Get(s2,-dx,dy), float4x4(-0.128041654825211,-0.022164830937982,-0.050348639488220,0.141359537839890,0.059979327023029,0.291055351495743,-0.176456153392792,-0.063173510134220,-0.005189700052142,0.045710299164057,-0.094073586165905,-0.100721918046474,-0.072045117616653,-0.043450340628624,0.052968606352806,0.173046976327896));
res += mul(Get(s2,0,-dy), float4x4(-0.033345360308886,-0.098373517394066,-0.083284772932529,0.124170348048210,-0.034765783697367,-0.044913813471794,0.053532306104898,0.043106839060783,-0.194178715348244,-0.048954829573631,-0.025157377123833,-0.002667559543625,-0.046770986169577,0.262459039688110,-0.095869466662407,-0.086748458445072));
res += mul(Get(s2,0,0), float4x4(-0.045803103595972,-0.095910325646400,-0.045490890741348,-0.118793755769730,0.067780889570713,-0.075132548809052,0.121357895433903,-0.089351877570152,0.317449301481247,0.081222489476204,0.115950159728527,0.038887236267328,0.059273716062307,-0.089435957372189,-0.046884618699551,-0.078038364648819));
res += mul(Get(s2,0,dy), float4x4(0.115419939160347,-0.026593146845698,0.002934725955129,-0.195190489292145,-0.121505729854107,0.026857303455472,-0.118411570787430,-0.052727140486240,0.024084607139230,0.029062908142805,0.468333452939987,-0.058268703520298,-0.147280052304268,-0.113067016005516,-0.019766062498093,-0.077798910439014));
res += mul(Get(s2,dx,-dy), float4x4(-0.151210516691208,-0.178786396980286,0.189308881759644,0.019821045920253,-0.004392532166094,-0.015105332247913,0.025460314005613,-0.024619428440928,-0.318825930356979,0.041907135397196,0.115896709263325,0.088748782873154,-0.095209017395973,-0.213677644729614,0.238914579153061,-0.059788879007101));
res += mul(Get(s2,dx,0), float4x4(0.050768524408340,-0.033366777002811,0.134053513407707,-0.109024390578270,0.010062269866467,-0.175482645630836,0.011957662180066,-0.068215176463127,0.115136697888374,-0.074802927672863,0.087916269898415,0.057763140648603,0.077181756496429,-0.133463114500046,0.074968636035919,-0.120880402624607));
res += mul(Get(s2,dx,dy), float4x4(-0.095425210893154,-0.053067460656166,-0.199820384383202,-0.080061890184879,-0.203576922416687,0.029841192066669,-0.042211089283228,-0.092506468296051,-0.117032840847969,0.057151138782501,0.219964981079102,0.051674328744411,-0.039311159402132,-0.085977561771870,0.006500099785626,-0.097022399306297));
res += mul(Get(s3,-dx,-dy), float4x4(0.072034567594528,-0.005142621695995,0.163735643029213,0.019497720524669,0.308045417070389,-0.155175730586052,0.068716138601303,-0.099453717470169,0.122883766889572,0.055337592959404,0.069848380982876,0.180097803473473,-0.084968268871307,0.255047440528870,-0.215919226408005,0.069806121289730));
res += mul(Get(s3,-dx,0), float4x4(-0.021534822881222,0.028658550232649,0.051492892205715,0.001711750868708,0.059672173112631,-0.072343625128269,-0.157428234815598,-0.074556887149811,0.088466249406338,0.012145008891821,0.132652401924133,0.021714884787798,0.271061450242996,0.197840154170990,-0.256291210651398,0.200244843959808));
res += mul(Get(s3,-dx,dy), float4x4(-0.035788599401712,0.138855889439583,-0.095109276473522,0.021921994164586,0.103036202490330,-0.008193403482437,-0.022081566974521,-0.130599871277809,0.083234280347824,0.095032252371311,0.128228992223740,0.119488567113876,0.030729660764337,0.202429503202438,-0.113582201302052,0.069526202976704));
res += mul(Get(s3,0,-dy), float4x4(-0.042010746896267,0.137443646788597,0.041175711899996,-0.017616329714656,0.073969565331936,-0.200889781117439,0.260755896568298,-0.034555021673441,0.053563345223665,-0.006969541311264,-0.017759088426828,0.019841799512506,-0.169704601168633,-0.077191457152367,0.509460091590881,0.052848696708679));
res += mul(Get(s3,0,0), float4x4(-0.103107124567032,-0.098788775503635,0.288202762603760,-0.098132669925690,0.005074942484498,-0.132273942232132,0.298416405916214,-0.155785918235779,-0.059519000351429,0.083499714732170,0.054817255586386,0.006114461459219,-0.057750985026360,-0.101312212646008,0.187790408730507,-0.044892869889736));
res += mul(Get(s3,0,dy), float4x4(-0.019748335704207,-0.007124371360987,-0.106689117848873,-0.022015335038304,0.130074754357338,0.057764820754528,-0.051222421228886,-0.124615512788296,0.040211349725723,-0.014424801804125,0.148212403059006,0.065214306116104,0.024275911971927,0.152750179171562,0.016929451376200,0.091145895421505));
res += mul(Get(s3,dx,-dy), float4x4(0.010583395138383,0.255434185266495,-0.090427733957767,0.013154661282897,0.004546546842903,0.151559263467789,-0.059784881770611,0.155824363231659,-0.038580633699894,-0.052212681621313,-0.125580981373787,-0.115122027695179,-0.108106747269630,-0.074017599225044,0.182887986302376,-0.016695486381650));
res += mul(Get(s3,dx,0), float4x4(0.135479703545570,0.141358390450478,0.056953579187393,0.001179666607641,0.104414567351341,0.048524901270866,0.000711119559128,0.149651736021042,-0.009600370191038,-0.035085715353489,-0.074903637170792,0.061317723244429,0.165042161941528,-0.032957170158625,0.050785351544619,-0.023074477910995));
res += mul(Get(s3,dx,dy), float4x4(0.245145931839943,0.037366341799498,-0.026767700910568,-0.040289096534252,0.342604488134384,0.133837386965752,-0.031170636415482,0.340053975582123,-0.056211087852716,0.024810032919049,0.151387751102448,0.149275988340378,0.113037087023258,0.106583505868912,0.136135131120682,0.210964798927307));
return max(float4(0,0,0,0), res);
}
