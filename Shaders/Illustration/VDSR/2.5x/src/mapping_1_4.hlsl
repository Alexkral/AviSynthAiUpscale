sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.002700264099985,-0.001201361534186,-0.000474592583487,0.001522299484350,-0.000582699896768,-0.000329567381414,-0.000222745569772,-0.000509116973262,0.001550786197186,-0.001134400139563,-0.002244995208457,-0.001166497590020,0.865291416645050,0.001965657342225,0.033031862229109,-0.286480873823166));
res += mul(Get(s0,-dx,0), float4x4(-0.000864448258653,-0.000306010246277,-0.002278913976625,-0.002295768819749,-0.000602298940066,0.000914275879040,-0.002574613550678,-0.001404877169989,-0.002070311456919,0.001160778338090,0.000643852516077,-0.000722399156075,1.179363965988159,-0.001531783957034,-0.068388931453228,-0.420029401779175));
res += mul(Get(s0,-dx,dy), float4x4(0.000979156233370,-0.001084221177734,0.003494890639558,0.001421716413461,0.001105277682655,0.001405928051099,-0.002513762097806,0.000431076186942,-0.001190573093481,0.001853069290519,-0.002310575451702,-0.000185209792107,-0.394901454448700,-0.000705874292180,0.435728549957275,-0.308027625083923));
res += mul(Get(s0,0,-dy), float4x4(-0.001031914842315,-0.000435162364738,0.000174665707164,0.001187259447761,-0.001529413508251,-0.001866148551926,0.001997030805796,0.000189582046005,0.000553543679416,-0.002332094591111,0.000119428506878,-0.001116491272114,-0.269835442304611,-0.003605423262343,-0.333424836397171,-0.534268796443939));
res += mul(Get(s0,0,0), float4x4(-0.001109497039579,-0.000662555568852,-0.001924434443936,-0.000254183774814,0.001050288788974,0.000813702121377,-0.000704782782122,-0.000815044681076,-0.003196654841304,0.000451714149676,0.000156088659423,0.000179161594133,0.122858442366123,-0.000730497587938,-0.237871006131172,0.109734021127224));
res += mul(Get(s0,0,dy), float4x4(0.001137581188232,-0.000045403354306,0.000749739294406,-0.001983800437301,0.001541055506095,-0.000421988574089,0.002073370618746,0.000126858314616,-0.001950033940375,0.001489270944148,-0.000768274301663,0.003413800382987,-0.095051370561123,-0.002265176502988,0.379111170768738,1.479008316993713));
res += mul(Get(s0,dx,-dy), float4x4(0.003146438626572,0.000445948768174,0.000067713663157,-0.001705047208816,-0.000432238623034,0.003812668146566,0.002401954261586,-0.001120018772781,-0.001392397796735,0.000214191793930,-0.000518176238984,-0.001471147872508,-0.684213817119598,-0.002085639862344,-0.094991736114025,-0.452777326107025));
res += mul(Get(s0,dx,0), float4x4(0.001002695411444,-0.000152966735186,-0.000149888364831,-0.002238880144432,0.001848374260589,-0.000918976671528,0.001629113801755,-0.000192555758986,-0.000329010712449,-0.005795070901513,0.002098349621519,-0.002068746136501,-0.609721660614014,-0.002640031278133,-0.015518525615335,-0.041382391005754));
res += mul(Get(s0,dx,dy), float4x4(-0.001821852289140,-0.000895563862287,0.001863667042926,-0.001418278552592,-0.002252705860883,-0.001105712028220,-0.001125323586166,0.000219348745304,-0.002552592661232,-0.000057588022173,-0.000542844820302,-0.002297302242368,-0.135865852236748,-0.002391689689830,-0.094412505626678,0.381584435701370));
res += mul(Get(s1,-dx,-dy), float4x4(0.000763598247431,0.001216397271492,0.001272919354960,0.000165568082593,-0.038280863314867,-0.000690666434821,-0.137028798460960,-0.093551054596901,0.010242391377687,-0.000521914742421,-0.126217469573021,0.033594630658627,0.000552111247089,-0.001799416844733,-0.002744460711256,0.000656269199681));
res += mul(Get(s1,-dx,0), float4x4(-0.000422556273406,0.001949143595994,-0.001087297685444,0.000661700614728,0.004116178490222,-0.003589191241190,0.031073044985533,0.185898423194885,-0.192911967635155,0.001283217687160,-0.024295523762703,-0.132797092199326,-0.001537780975923,-0.000735697685741,-0.000377104617655,-0.002312791766599));
res += mul(Get(s1,-dx,dy), float4x4(-0.000934719806537,-0.001751377712935,-0.003008985193446,-0.000691978668328,0.003680102759972,-0.000514505605679,-0.154202625155449,0.073758661746979,0.146531462669373,-0.002152212895453,-0.057897996157408,-0.188588485121727,0.001446843612939,0.002287771087140,0.001462333137169,0.000531509867869));
res += mul(Get(s1,0,-dy), float4x4(-0.001435935962945,-0.002288194373250,-0.001140032312833,-0.000653227034491,-0.028597475960851,0.002192531712353,-0.081514641642570,0.256905317306519,0.069250673055649,-0.001167860231362,-0.091293059289455,-0.009499259293079,-0.002325715729967,-0.001608435995877,-0.001543202437460,0.001688328105956));
res += mul(Get(s1,0,0), float4x4(0.000275286409305,-0.001500559737906,0.001203075633384,0.000884020468220,-0.117101386189461,-0.000777485722210,0.138767108321190,-0.079798474907875,-0.118035174906254,0.001550847431645,-0.013151788152754,-0.061720240861177,0.000380399753340,-0.002399102319032,0.002293520607054,-0.000388159067370));
res += mul(Get(s1,0,dy), float4x4(-0.002178389811888,0.001801501726732,-0.001697277533822,0.003670290810987,-0.002204831922427,-0.001319012837484,0.290538787841797,-0.278614848852158,-0.002004284877330,-0.001109584234655,-0.006209782324731,-0.127605631947517,-0.000197266650503,-0.001327064936049,0.003878984134644,-0.000410758977523));
res += mul(Get(s1,dx,-dy), float4x4(0.000751601008233,-0.001298888004385,0.001653450890444,-0.000804936862551,0.004900773521513,-0.001870890264399,0.034729946404696,-0.037411201745272,-0.057902652770281,0.000691700959578,-0.095783799886703,-0.027190238237381,0.000844246824272,0.000057327437389,-0.000056925138779,0.000316760299029));
res += mul(Get(s1,dx,0), float4x4(-0.000485342810862,-0.001510368543677,-0.001976987812668,-0.002493690233678,0.058360438793898,-0.001930115511641,-0.204591527581215,-0.060443744063377,0.151474744081497,0.002342938445508,-0.045336380600929,0.083133265376091,0.001657888176851,0.001546464278363,0.001321399933659,-0.000841023924295));
res += mul(Get(s1,dx,dy), float4x4(0.000002278240800,-0.001042250078171,-0.000912443792913,-0.000815765000880,0.002484992379323,0.001375259598717,-0.014133485965431,0.007383561693132,0.090836308896542,-0.000138691364555,-0.071759544312954,-0.079153724014759,0.001547670573927,0.002885499736294,0.001927004312165,0.001459312858060));
res += mul(Get(s2,-dx,-dy), float4x4(-0.088580854237080,-0.000446774502052,-0.144737645983696,0.083768323063850,-0.035187330096960,0.000734818226192,0.169411614537239,-0.100171662867069,0.193509742617607,-0.002381391590461,0.040764030069113,-0.155973166227341,-0.114900514483452,0.000122097684653,-0.031677022576332,-0.140207082033157));
res += mul(Get(s2,-dx,0), float4x4(-0.208698630332947,-0.001571591827087,0.108377009630203,-0.264077395200729,-0.133901178836823,-0.000901452149265,0.221033275127411,-0.004562230315059,0.496897727251053,-0.001933718216605,0.097773030400276,0.226996019482613,-0.195257335901260,0.001502442522906,0.056430894881487,0.017414934933186));
res += mul(Get(s2,-dx,dy), float4x4(0.150374978780746,-0.000983365345746,0.060190428048372,0.043115392327309,0.143230199813843,0.001222511986271,0.208940371870995,-0.167729496955872,-0.311246901750565,-0.003197243204340,0.381728529930115,-0.104643777012825,-0.085875213146210,0.001143148983829,-0.212389752268791,-0.178111210465431));
res += mul(Get(s2,0,-dy), float4x4(0.129585489630699,-0.000190723978449,-0.181072175502777,0.086918562650681,-0.019562872126698,-0.000237154628849,-0.109976574778557,-0.121443167328835,-0.179282963275909,-0.000979373464361,0.098854549229145,-0.138389915227890,-0.167153686285019,-0.001236436073668,-0.025029258802533,-0.218054339289665));
res += mul(Get(s2,0,0), float4x4(-0.148832961916924,-0.003555782604963,0.289898067712784,-0.086455225944519,-0.030103381723166,-0.002380185993388,-0.057937007397413,0.067613005638123,0.072906397283077,-0.000211232312722,-0.216310784220695,0.037930533289909,-0.219889119267464,0.000015111916582,0.007862519472837,-0.021651688963175));
res += mul(Get(s2,0,dy), float4x4(-0.180735722184181,-0.000230304824072,0.258965879678726,-0.084092825651169,-0.094270743429661,-0.002043331740424,-0.132248267531395,-0.079315654933453,0.075040303170681,-0.000481799215777,0.218335255980492,0.244826048612595,-0.189754202961922,-0.000734360131901,0.004062368534505,-0.010838293470442));
res += mul(Get(s2,dx,-dy), float4x4(-0.048255447298288,0.000843684072606,-0.081847131252289,-0.259789109230042,-0.038533266633749,-0.000794613442849,-0.057216621935368,-0.007261016406119,0.069592773914337,-0.000179650160135,0.050535053014755,0.137360677123070,-0.140801131725311,-0.002732387976721,0.027437150478363,-0.080089472234249));
res += mul(Get(s2,dx,0), float4x4(-0.055152062326670,-0.001878182752989,-0.049467138946056,-0.157261490821838,0.010548640042543,0.000511527468916,-0.017702719196677,0.063792042434216,-0.132233411073685,-0.001579428906552,-0.274431794881821,-0.017438413575292,0.132550194859505,0.000643354083877,-0.014472619630396,0.070119522511959));
res += mul(Get(s2,dx,dy), float4x4(-0.267181456089020,-0.000973268994130,-0.122178152203560,-0.008953611366451,-0.055200077593327,-0.002390433102846,-0.193289384245872,0.003275913419202,-0.024181384593248,0.001964734401554,0.034838557243347,-0.034288842231035,-0.058415133506060,0.002424603095278,0.080295525491238,-0.037152271717787));
res += mul(Get(s3,-dx,-dy), float4x4(-0.015006328001618,0.002404588507488,0.093779787421227,0.047100082039833,-0.074177339673042,-0.000622918829322,-0.008322188630700,0.014115674421191,0.003441339591518,0.002495229942724,-0.000124675963889,0.000695833819918,-0.085098750889301,-0.000955764728133,0.233567044138908,0.003441020380706));
res += mul(Get(s3,-dx,0), float4x4(-0.021999122574925,0.003404264338315,0.122291572391987,-0.058751732110977,-0.234997138381004,0.000204082592973,-0.041481249034405,-0.108551561832428,0.001132641686127,-0.000718925206456,0.000637926743366,-0.003226830624044,0.408187150955200,-0.002762792166322,-0.006784002762288,-0.250789672136307));
res += mul(Get(s3,-dx,dy), float4x4(0.013683522120118,0.002959141042084,0.002736434573308,-0.086689636111259,-0.160626307129860,-0.001219378085807,0.141000270843506,0.407270878553391,-0.000871431315318,-0.001439460087568,-0.003173781791702,-0.000912458868697,0.316567182540894,-0.000725883874111,-0.102751038968563,0.184025317430496));
res += mul(Get(s3,0,-dy), float4x4(0.024567075073719,-0.001658662920818,-0.046389099210501,0.014989770017564,0.109977252781391,-0.000925033062231,-0.141149014234543,0.155210062861443,-0.000097443335108,0.001794318784960,-0.001219468773343,0.001256224582903,0.071942269802094,0.000737166672479,-0.155256137251854,-0.121984280645847));
res += mul(Get(s3,0,0), float4x4(-0.016915360465646,0.000843926682137,-0.015732513740659,-0.106432661414146,-0.099656127393246,0.000444931181846,0.279103726148605,0.056285221129656,0.001077131135389,0.001351869315840,0.000516256783158,0.003883715486154,-0.076410450041294,-0.002151960274205,0.059796445071697,-0.160058334469795));
res += mul(Get(s3,0,dy), float4x4(-0.041591580957174,-0.000177625086508,-0.050246380269527,0.024565465748310,-0.105115152895451,0.000988383078948,0.118610151112080,-0.485431551933289,0.001744389184751,-0.001021072850563,0.000537060899660,-0.000105758081190,-0.200829610228539,-0.002352295909077,0.045266434550285,0.690579652786255));
res += mul(Get(s3,dx,-dy), float4x4(-0.019349243491888,-0.000134814807097,0.050055380910635,-0.045759823173285,0.030855692923069,-0.001278313691728,-0.013308596797287,-0.124140061438084,-0.000557340623345,0.002093219431117,-0.003584655001760,-0.001580317039043,-0.117246441543102,-0.001372513710521,-0.200158625841141,-0.058900918811560));
res += mul(Get(s3,dx,0), float4x4(0.010496496222913,-0.000366404303350,-0.083392187952995,0.051624204963446,-0.122506082057953,-0.002484651282430,-0.221143513917923,0.025055244565010,-0.000143073266372,-0.002372154267505,-0.000310985429678,0.001208126661368,-0.064752623438835,-0.001418990665115,0.062612488865852,-0.045832257717848));
res += mul(Get(s3,dx,dy), float4x4(0.033703368157148,0.000732176937163,-0.049730267375708,0.068629920482635,-0.027018738910556,0.000894835160580,-0.451546072959900,0.137663692235947,0.000192578765564,-0.000189248516108,-0.001371831633151,0.000970619556028,-0.164531230926514,-0.000837582803797,0.133659228682518,-0.228932991623878));
return max(float4(0,0,0,0), res);
}
