sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.036533948034048,0.097766868770123,0.038731191307306,0.056846648454666,0.109181448817253,-0.113134630024433,0.196499660611153,0.093595169484615,0.021225012838840,0.015279659070075,-0.170392274856567,-0.108016915619373,0.033727087080479,0.024448646232486,0.002259752014652,-0.176858186721802));
res += mul(Get(s0,-dx,0), float4x4(0.041201561689377,-0.138754293322563,-0.084598861634731,0.082409627735615,-0.133442789316177,0.043532814830542,-0.122412428259850,-0.059991646558046,-0.079846695065498,0.057249400764704,-0.062635175883770,-0.211349532008171,0.112274691462517,0.062072474509478,0.075176171958447,0.016287898644805));
res += mul(Get(s0,-dx,dy), float4x4(-0.184528186917305,-0.107424885034561,0.086277306079865,0.019586341455579,-0.134084790945053,-0.035192534327507,0.078993543982506,0.040818598121405,0.069316610693932,-0.077152594923973,-0.034593779593706,-0.081822700798512,-0.105341717600822,0.263567388057709,-0.011070108972490,-0.014190724119544));
res += mul(Get(s0,0,-dy), float4x4(0.047109492123127,-0.016592036932707,-0.040319278836250,0.013199367560446,0.188528165221214,0.098669029772282,-0.039213251322508,-0.044737629592419,-0.067491665482521,0.030319057404995,-0.040305335074663,-0.074403651058674,0.034548956900835,0.292415261268616,0.138843894004822,0.075987733900547));
res += mul(Get(s0,0,0), float4x4(0.178433015942574,0.100539863109589,-0.032165654003620,0.056914899498224,0.016189517453313,0.056612160056829,-0.047826439142227,-0.030932830646634,0.072015970945358,0.000159956180141,-0.172241970896721,0.266886740922928,0.132972687482834,-0.218403860926628,0.010544645600021,-0.002602025400847));
res += mul(Get(s0,0,dy), float4x4(-0.111499927937984,-0.013892912305892,-0.061942692846060,0.123630635440350,-0.182103022933006,-0.036247130483389,-0.018818980082870,-0.065602980554104,-0.024102481082082,-0.092236526310444,0.148989155888557,-0.076120540499687,-0.057062130421400,-0.095010869204998,0.119917444884777,0.187717914581299));
res += mul(Get(s0,dx,-dy), float4x4(0.166073933243752,-0.024373522028327,0.024582222104073,0.004215540364385,-0.003199314465746,0.010223702527583,0.041608467698097,-0.032020665705204,-0.077825494110584,-0.071760706603527,-0.049837391823530,0.105240099132061,0.124874658882618,0.106281608343124,-0.068910762667656,-0.185131460428238));
res += mul(Get(s0,dx,0), float4x4(-0.067386142909527,0.063206799328327,0.022129472345114,-0.122951380908489,0.101736530661583,0.003425026312470,-0.262456297874451,-0.156104579567909,0.056509051471949,0.201486572623253,0.030013058334589,-0.001741776359268,-0.215419992804527,-0.092148661613464,0.088554479181767,0.202974125742912));
res += mul(Get(s0,dx,dy), float4x4(0.188311740756035,-0.017068110406399,0.057853538542986,-0.011394554749131,-0.035846598446369,0.008443053811789,-0.071366973221302,-0.006045414600521,0.021973401308060,0.046909060329199,-0.056027475744486,0.026944598183036,0.026257121935487,-0.147093012928963,0.131256178021431,0.107970759272575));
res += mul(Get(s1,-dx,-dy), float4x4(0.009976522065699,0.067033529281616,0.097706973552704,0.192734286189079,-0.067018583416939,0.098621807992458,0.189112126827240,-0.057897567749023,-0.050742369145155,0.082116693258286,0.161546006798744,0.058346118777990,-0.215573951601982,-0.000814508181065,-0.211967647075653,0.285908639431000));
res += mul(Get(s1,-dx,0), float4x4(0.196529090404510,-0.206655785441399,-0.154186189174652,0.059581648558378,0.076598629355431,-0.113677524030209,-0.202038183808327,-0.245871067047119,-0.048837285488844,0.027538474649191,-0.029922490939498,0.035589445382357,0.115372277796268,-0.113213121891022,0.100512050092220,0.088005356490612));
res += mul(Get(s1,-dx,dy), float4x4(-0.010093365795910,0.219674870371819,0.125643387436867,-0.143366292119026,0.012309350073338,0.024538502097130,-0.106562994420528,0.001157329767011,-0.121861964464188,-0.150534451007843,0.047394588589668,0.065950602293015,0.000925013737287,-0.011867653578520,0.054093681275845,0.075139172375202));
res += mul(Get(s1,0,-dy), float4x4(-0.066212914884090,-0.081423081457615,-0.064916469156742,-0.078309766948223,0.086368449032307,-0.198623210191727,-0.011170624755323,0.149632662534714,0.035587139427662,0.082222029566765,-0.068319067358971,-0.116328828036785,0.033906880766153,-0.173501208424568,-0.068301431834698,0.183718293905258));
res += mul(Get(s1,0,0), float4x4(-0.055020507425070,-0.043332081288099,-0.022399343550205,0.068026922643185,-0.247043192386627,-0.049821637570858,-0.174082130193710,-0.005612176377326,0.197457388043404,0.030170131474733,0.017666172236204,0.058770094066858,-0.006208715960383,0.123099647462368,-0.065076179802418,0.062946096062660));
res += mul(Get(s1,0,dy), float4x4(-0.056938275694847,-0.125371441245079,-0.140351295471191,0.135246008634567,-0.130873680114746,0.047526951879263,0.032086782157421,0.147609308362007,0.091203428804874,0.190065294504166,-0.039076354354620,0.007859985344112,-0.025849282741547,0.000258066342212,0.045481771230698,-0.115386143326759));
res += mul(Get(s1,dx,-dy), float4x4(-0.013450619764626,-0.108778290450573,-0.084459990262985,0.100057125091553,-0.027957480400801,-0.156013354659081,-0.107074789702892,-0.139350205659866,-0.135838285088539,-0.010485257953405,0.003863030811772,0.053533926606178,-0.047919161617756,0.183123409748077,0.207310914993286,-0.150035470724106));
res += mul(Get(s1,dx,0), float4x4(-0.026485159993172,0.029895992949605,0.022465858608484,0.070020981132984,0.143922939896584,0.027607515454292,-0.015088954940438,-0.004680805839598,0.069033257663250,-0.024843810126185,-0.206255704164505,-0.176448717713356,-0.030720809474587,-0.006716464646161,-0.209443271160126,0.118333555757999));
res += mul(Get(s1,dx,dy), float4x4(0.090561784803867,-0.006704361177981,0.100581251084805,-0.232469737529755,0.016093490645289,0.019511448219419,-0.002139789750800,0.075382634997368,-0.195386797189713,-0.040106274187565,0.011086802929640,-0.202128037810326,-0.088747441768646,-0.070884779095650,-0.162580013275146,-0.202087417244911));
res += mul(Get(s2,-dx,-dy), float4x4(0.073624707758427,-0.081318683922291,0.134721994400024,0.098420262336731,-0.017925694584846,-0.057281780987978,-0.039744541049004,-0.174818977713585,0.093901321291924,0.103516407310963,-0.275132834911346,0.052715212106705,0.092497229576111,0.079715855419636,-0.019302954897285,-0.158035323023796));
res += mul(Get(s2,-dx,0), float4x4(0.040070135146379,-0.162799909710884,0.082613147795200,0.051667574793100,0.024700308218598,0.183352455496788,-0.091158136725426,0.081767067313194,0.154896289110184,0.091131515800953,-0.157483175396919,-0.107855394482613,0.223305433988571,0.135727331042290,-0.079546697437763,0.015853689983487));
res += mul(Get(s2,-dx,dy), float4x4(0.070502236485481,0.180996090173721,-0.130189895629883,0.061699319630861,0.077166981995106,0.165355727076530,-0.022884787991643,-0.042764160782099,0.058752782642841,-0.303296446800232,0.192786037921906,-0.090977020561695,0.017185624688864,0.173513248562813,0.081251062452793,-0.042737174779177));
res += mul(Get(s2,0,-dy), float4x4(-0.007856202311814,0.015185677446425,-0.082971356809139,-0.008916842751205,0.023258183151484,-0.102074064314365,0.049534540623426,0.088246963918209,-0.101242244243622,0.077660501003265,0.198202162981033,0.035029806196690,0.141510874032974,0.161015793681145,0.257751643657684,-0.082201987504959));
res += mul(Get(s2,0,0), float4x4(-0.023121587932110,0.071653887629509,0.018503848463297,0.048057459294796,0.035250872373581,0.007720337715000,-0.108120448887348,0.109868645668030,0.159227341413498,0.044663380831480,-0.220452293753624,0.138362959027290,-0.052186876535416,0.001555265975185,-0.031152784824371,0.052005160599947));
res += mul(Get(s2,0,dy), float4x4(-0.176984816789627,-0.063364453613758,0.109622932970524,-0.105384789407253,0.021166475489736,-0.000839656218886,0.188101470470428,-0.125913158059120,0.042301744222641,-0.037502251565456,-0.038696069270372,-0.209353044629097,-0.032498758286238,0.110197819769382,-0.014455869793892,0.105680681765079));
res += mul(Get(s2,dx,-dy), float4x4(0.052579049021006,-0.187836214900017,-0.287661105394363,0.005883657839149,-0.076444983482361,0.046843327581882,-0.161448508501053,0.082383826375008,0.037574592977762,0.144892752170563,0.061246253550053,-0.220441907644272,-0.042332343757153,-0.057735756039619,-0.083292372524738,-0.042858649045229));
res += mul(Get(s2,dx,0), float4x4(-0.055539794266224,-0.059176634997129,0.090849742293358,-0.049755945801735,0.030556330457330,0.072870187461376,0.078407429158688,-0.019387606531382,0.018348386511207,0.020908972248435,0.170181870460510,0.060139894485474,-0.007370871491730,-0.075162731111050,0.003908572718501,-0.152291715145111));
res += mul(Get(s2,dx,dy), float4x4(-0.112571105360985,0.009297274984419,-0.102608382701874,0.025753956288099,0.017671803012490,-0.059695854783058,0.063847459852695,-0.077087029814720,-0.129643216729164,-0.099030956625938,0.000361288664863,0.062612630426884,0.004236826207489,-0.074201695621014,-0.251058191061020,-0.091610066592693));
res += mul(Get(s3,-dx,-dy), float4x4(0.109863072633743,0.081772781908512,0.023704642429948,-0.157356828451157,0.077687874436378,0.087448440492153,-0.000926658860408,-0.059333186596632,0.291005939245224,-0.051012665033340,0.197926044464111,-0.120076104998589,0.103018760681152,0.038325995206833,-0.078341305255890,0.016742028295994));
res += mul(Get(s3,-dx,0), float4x4(0.076867319643497,-0.078811310231686,0.151924505829811,0.056574646383524,-0.009142923168838,0.189970150589943,0.216259539127350,-0.022909196093678,-0.116233393549919,-0.037190582603216,0.060919828712940,-0.176069989800453,-0.043749991804361,-0.106746412813663,0.136661067605019,0.151708722114563));
res += mul(Get(s3,-dx,dy), float4x4(0.002851778874174,0.143333241343498,-0.178423598408699,-0.046842601150274,-0.012599644251168,-0.003305334132165,0.111346937716007,0.048292137682438,-0.176549300551414,0.057723846286535,0.030898818746209,0.014920950867236,-0.073912605643272,-0.083863690495491,0.016357552260160,-0.017651557922363));
res += mul(Get(s3,0,-dy), float4x4(0.033724982291460,-0.028577195480466,-0.145134910941124,-0.066357173025608,0.080624289810658,-0.087458044290543,-0.043649602681398,0.008978636935353,0.185258731245995,-0.124592222273350,0.030673330649734,-0.040599707514048,0.001963551854715,-0.015946304425597,-0.088718034327030,0.101907975971699));
res += mul(Get(s3,0,0), float4x4(0.026617154479027,-0.076879404485226,0.083981812000275,-0.141117557883263,0.126051381230354,0.065912149846554,-0.016333620995283,-0.223320230841637,-0.137352898716927,-0.185182914137840,-0.201033547520638,0.136282414197922,0.068919688463211,0.114396214485168,-0.029350787401199,0.041665583848953));
res += mul(Get(s3,0,dy), float4x4(-0.243823647499084,0.183099523186684,0.325409412384033,-0.095217570662498,0.091962635517120,-0.006873783189803,-0.031536981463432,-0.139622569084167,-0.105285331606865,-0.028442468494177,-0.032985098659992,0.049154166132212,0.000975009636022,-0.245398089289665,-0.139193952083588,-0.141728490591049));
res += mul(Get(s3,dx,-dy), float4x4(0.057471644133329,0.019336372613907,0.026058014482260,-0.105532303452492,0.097746722400188,-0.015051777474582,-0.148870766162872,0.108234673738480,0.014492278918624,-0.106795668601990,0.028117876499891,-0.062200006097555,0.123415216803551,-0.028737470507622,-0.031762871891260,-0.011929898522794));
res += mul(Get(s3,dx,0), float4x4(-0.010567927733064,0.059331364929676,0.103033602237701,-0.179264441132545,0.040094103664160,-0.006134455092251,0.041621528565884,-0.123539485037327,0.000964966311585,-0.033782310783863,-0.001847833977081,0.067626588046551,-0.058813434094191,0.048842158168554,0.029858637601137,-0.048134412616491));
res += mul(Get(s3,dx,dy), float4x4(0.053671441972256,-0.030746793374419,0.082950606942177,0.078030683100224,-0.070863693952560,0.139778733253479,0.063913449645042,0.045735307037830,-0.104814946651459,-0.001281519304030,-0.067725613713264,-0.087421670556068,-0.078209526836872,-0.074747838079929,-0.027722192928195,0.164106220006943));
return max(float4(0,0,0,0), res);
}
