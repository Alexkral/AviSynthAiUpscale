sampler s0 : register(s0);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(x, y)   tex2D(s0, tex + float2(x, y))[0]

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += float4(-0.001365347532555,-0.001549554988742,0.002203134587035,0.019693244248629) * Get(-dx,-dy);
res += float4(-0.001397887710482,0.002397346775979,-0.005156114697456,0.074162513017654) * Get(-dx,0);
res += float4(-0.002297031460330,-0.002801373600960,-0.004324936307967,-0.112379029393196) * Get(-dx,dy);
res += float4(-0.003839879995212,-0.001299605937675,0.003359179478139,0.017551530152559) * Get(0,-dy);
res += float4(-0.002174053806812,-0.001251870184205,0.001716116443276,-0.107928775250912) * Get(0,0);
res += float4(0.004640300758183,-0.001942810951732,-0.002968658693135,0.126063227653503) * Get(0,dy);
res += float4(-0.004633127711713,0.001260884455405,0.001968333730474,0.001962735084817) * Get(dx,-dy);
res += float4(-0.001903272350319,-0.004721027798951,0.001439724001102,0.060146022588015) * Get(dx,0);
res += float4(-0.002791318111122,0.001742188469507,0.004972295369953,-0.027064329013228) * Get(dx,dy);
return max(float4(0,0,0,0), res);
}
