sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.238830819725990,-0.003799940459430,-0.205584347248077,0.060840174555779,-0.057881165295839,-0.003157786326483,-0.046803910285234,0.073405057191849,-0.202952280640602,-0.125809550285339,-0.081362254917622,-0.069810554385185,-0.055589992552996,-0.161069214344025,-0.078126288950443,-0.119336865842342));
res += mul(Get(s0,-dx,0), float4x4(0.178591787815094,-0.086661018431187,-0.130040466785431,-0.005935811437666,0.081455439329147,0.022970275953412,-0.097094714641571,0.273851096630096,0.006289619486779,-0.071056574583054,-0.056967999786139,-0.063787810504436,0.052631486207247,-0.149471968412399,0.005794711410999,0.188229948282242));
res += mul(Get(s0,-dx,dy), float4x4(-0.104120142757893,-0.078712277114391,-0.227972984313965,-0.068995185196400,0.047583930194378,-0.031668953597546,0.156247735023499,0.260181188583374,0.009518488310277,0.010383248329163,0.046528790146112,0.086151778697968,0.101364262402058,0.007831620052457,0.118479289114475,-0.044183425605297));
res += mul(Get(s0,0,-dy), float4x4(-0.239037424325943,0.125215739011765,0.076715871691704,0.081554867327213,0.026658276095986,-0.166300147771835,-0.044942159205675,-0.006747997831553,-0.186752110719681,-0.069446042180061,-0.010049888864160,-0.025688901543617,-0.098279327154160,0.090110495686531,-0.115600131452084,0.147668451070786));
res += mul(Get(s0,0,0), float4x4(-0.045401830226183,-0.109828129410744,0.089145831763744,0.010009852237999,0.088756762444973,0.231765985488892,0.031309761106968,0.018076054751873,-0.086782440543175,-0.048047963529825,0.174298241734505,-0.041688736528158,-0.158930048346519,0.139011606574059,0.094325229525566,0.024662513285875));
res += mul(Get(s0,0,dy), float4x4(0.031708098948002,0.120235346257687,-0.076516710221767,0.082532413303852,-0.148584753274918,-0.243181794881821,-0.057193785905838,-0.117192663252354,0.087419353425503,0.053223621100187,-0.027984311804175,-0.259737700223923,0.096700355410576,0.071599625051022,-0.031351078301668,-0.111746810376644));
res += mul(Get(s0,dx,-dy), float4x4(-0.043002601712942,-0.033628314733505,-0.081702433526516,0.031265772879124,0.023593593388796,0.158332020044327,-0.045272875577211,-0.138286620378494,0.073162607848644,-0.003521254519001,-0.035697143524885,-0.093292593955994,-0.233862757682800,0.011144729331136,-0.084677778184414,0.044532150030136));
res += mul(Get(s0,dx,0), float4x4(-0.009824809618294,-0.139728561043739,-0.060307025909424,0.017870670184493,0.097358301281929,-0.012716323137283,-0.144084960222244,0.152379512786865,0.151879891753197,0.053268890827894,-0.023805262520909,0.115629516541958,-0.121131792664528,0.069017395377159,0.104321233928204,-0.106113381683826));
res += mul(Get(s0,dx,dy), float4x4(0.187876805663109,-0.041811075061560,0.025996673852205,-0.178531527519226,0.190913468599319,-0.246218785643578,-0.077854044735432,-0.022781377658248,-0.090336553752422,0.052767962217331,0.063011914491653,-0.012276612222195,0.130397826433182,-0.062089346349239,0.067018471658230,0.139569491147995));
res += mul(Get(s1,-dx,-dy), float4x4(-0.104430556297302,0.108314909040928,-0.195588201284409,-0.107090286910534,0.028880439698696,-0.022305930033326,0.065216012299061,0.054784692823887,-0.117237903177738,-0.039416048675776,-0.018309840932488,0.019316831603646,0.092660345137119,0.033665709197521,-0.031635697931051,0.050920300185680));
res += mul(Get(s1,-dx,0), float4x4(0.000331099028699,0.256194323301315,0.098413862287998,-0.175596043467522,0.085389025509357,-0.063270345330238,-0.078669242560863,0.118013180792332,0.042414154857397,0.142592564225197,-0.222762703895569,0.066236749291420,0.145991250872612,0.184398725628853,0.046137832105160,-0.036815647035837));
res += mul(Get(s1,-dx,dy), float4x4(-0.071067094802856,0.139987379312515,-0.142952904105186,-0.182044208049774,-0.091139957308769,0.060182422399521,0.149229407310486,0.084964342415333,0.038722127676010,0.021901052445173,-0.026909723877907,0.229565516114235,-0.127609327435493,0.076289683580399,0.100073464214802,-0.026844101026654));
res += mul(Get(s1,0,-dy), float4x4(0.156007319688797,-0.028498740866780,-0.084626317024231,-0.156839862465858,0.072447620332241,-0.047654461115599,-0.053982999175787,0.004058394115418,0.026811910793185,0.285852670669556,0.288047879934311,0.025629861280322,0.063683107495308,-0.066743470728397,-0.089820206165314,0.163710936903954));
res += mul(Get(s1,0,0), float4x4(0.201233372092247,0.005425521638244,0.086205206811428,-0.173344105482101,-0.069916583597660,0.080360315740108,0.109122872352600,-0.048358984291553,0.097505837678909,0.062261629849672,0.047254350036383,0.112351067364216,-0.055749420076609,-0.241388559341431,0.042980834841728,-0.162378579378128));
res += mul(Get(s1,0,dy), float4x4(0.053272090852261,-0.188372164964676,-0.032648392021656,-0.106752321124077,-0.114787228405476,-0.029458621516824,-0.072902843356133,-0.165267512202263,0.157119467854500,0.110860675573349,-0.083990678191185,-0.039326533675194,-0.043587908148766,-0.036999683827162,0.042946506291628,-0.050877045840025));
res += mul(Get(s1,dx,-dy), float4x4(-0.119965180754662,0.066534422338009,0.172874972224236,-0.016394257545471,-0.062428180128336,-0.066491313278675,-0.084002234041691,-0.033642962574959,-0.078420318663120,0.076637558639050,-0.038449749350548,-0.014347812160850,0.030769078060985,-0.116753809154034,0.077908962965012,-0.111738145351410));
res += mul(Get(s1,dx,0), float4x4(-0.068362444639206,0.018904376775026,0.084859177470207,-0.218219101428986,-0.060648623853922,0.067159913480282,-0.178581550717354,0.063369229435921,0.067212499678135,0.056166719645262,-0.114467971026897,-0.083682455122471,-0.147766396403313,-0.006700100842863,-0.028436025604606,-0.087529510259628));
res += mul(Get(s1,dx,dy), float4x4(0.071486867964268,-0.056673973798752,0.099033415317535,-0.102837927639484,0.179247274994850,0.103133305907249,0.150329738855362,-0.124545730650425,-0.147019267082214,-0.094014331698418,0.160526797175407,0.146054506301880,-0.085786476731300,0.127913281321526,0.069078892469406,0.007737998850644));
res += mul(Get(s2,-dx,-dy), float4x4(-0.194152086973190,0.175235152244568,0.018696691840887,0.036305341869593,0.009789816103876,-0.219509139657021,-0.125487640500069,-0.052805677056313,-0.142566919326782,0.051707848906517,0.149129837751389,-0.012742298655212,-0.071916610002518,0.023160535842180,0.074007637798786,0.127156153321266));
res += mul(Get(s2,-dx,0), float4x4(0.171535313129425,0.033445712178946,-0.001486727502197,-0.016049765050411,-0.193753555417061,0.010046374052763,-0.085954152047634,0.091368712484837,-0.018044419586658,0.083626292645931,0.093329668045044,0.258238166570663,0.063000857830048,-0.012986419722438,0.128703653812408,0.136844456195831));
res += mul(Get(s2,-dx,dy), float4x4(-0.182192653417587,0.078742787241936,0.169979736208916,0.052782788872719,-0.177498847246170,-0.117774002254009,-0.042221002280712,-0.016816038638353,-0.083458654582500,-0.123202949762344,-0.019374612718821,0.108812294900417,-0.053132005035877,-0.041152957826853,-0.048933617770672,-0.081887468695641));
res += mul(Get(s2,0,-dy), float4x4(0.045930113643408,-0.039023850113153,0.042205043137074,-0.066972181200981,0.130982697010040,-0.018620576709509,0.017798852175474,-0.002731760730967,-0.121214173734188,0.029491681605577,0.006724244449288,0.004384894855320,0.121070854365826,-0.071813680231571,-0.052752103656530,-0.023982685059309));
res += mul(Get(s2,0,0), float4x4(-0.001464866450988,0.045662976801395,0.065167188644409,-0.047961182892323,0.096870295703411,0.113290004432201,-0.232148081064224,0.168249726295471,0.027170697227120,0.217107340693474,0.081068739295006,0.041131544858217,-0.192971915006638,0.109527863562107,-0.128323003649712,0.117667272686958));
res += mul(Get(s2,0,dy), float4x4(-0.019683351740241,0.174616709351540,0.050866000354290,0.115298360586166,-0.071036189794540,0.028396895155311,-0.040767718106508,0.084428586065769,0.035779599100351,0.231981903314590,-0.117767766118050,0.124660544097424,-0.069543220102787,0.271509230136871,0.134018436074257,0.064165428280830));
res += mul(Get(s2,dx,-dy), float4x4(-0.054235611110926,0.009606425650418,-0.021274041384459,0.205323889851570,0.212666228413582,-0.045826211571693,-0.020961752161384,0.101042255759239,-0.023663643747568,-0.085322216153145,-0.119304813444614,-0.064657278358936,-0.177788168191910,-0.092875719070435,0.021143089979887,-0.060235425829887));
res += mul(Get(s2,dx,0), float4x4(-0.027598043903708,-0.064903527498245,0.129343494772911,-0.036010511219501,-0.051150366663933,0.024593235924840,0.172815978527069,-0.063792884349823,0.174297481775284,-0.099495366215706,-0.023847814649343,-0.038995649665594,0.045832455158234,-0.076538726687431,0.119679845869541,-0.124217443168163));
res += mul(Get(s2,dx,dy), float4x4(-0.002324563916773,0.071361720561981,-0.057549569755793,0.189923122525215,-0.000415322167100,0.104687981307507,0.095117524266243,-0.027566768229008,-0.052925944328308,-0.132042214274406,-0.247533023357391,-0.040659260004759,0.185790657997131,-0.020834211260080,-0.011871238239110,0.060281872749329));
res += mul(Get(s3,-dx,-dy), float4x4(-0.070591047406197,0.058784205466509,0.064090780913830,-0.277543336153030,-0.034383576363325,0.117758259177208,0.118656210601330,0.118509650230408,-0.007328434847295,-0.032342147082090,-0.032633274793625,0.057105388492346,-0.000974704453256,-0.123185984790325,0.207537531852722,-0.087177030742168));
res += mul(Get(s3,-dx,0), float4x4(-0.008938379585743,-0.329910218715668,-0.131464108824730,0.016737200319767,-0.154305994510651,0.042772643268108,0.139167100191116,0.017141081392765,0.085348270833492,0.108520843088627,-0.064181685447693,-0.130054250359535,0.160320788621902,0.000626509368885,-0.132631376385689,0.079778209328651));
res += mul(Get(s3,-dx,dy), float4x4(0.018915386870503,0.164765834808350,0.210259050130844,-0.006871652323753,-0.098165713250637,-0.090038612484932,0.040525898337364,0.287393271923065,-0.106237813830376,-0.189011827111244,-0.001318022958003,-0.144668608903885,0.176458090543747,-0.031496196985245,-0.080170497298241,-0.113007515668869));
res += mul(Get(s3,0,-dy), float4x4(-0.072749689221382,-0.035349588841200,-0.002060584956780,-0.263862490653992,0.062653064727783,-0.077248834073544,-0.103381782770157,0.067429475486279,0.064257025718689,0.117619797587395,0.040068194270134,0.040159303694963,0.060398317873478,0.014885719865561,0.242409601807594,-0.103013969957829));
res += mul(Get(s3,0,0), float4x4(0.119691245257854,0.077011749148369,-0.174160584807396,-0.045848727226257,0.232207208871841,0.017649948596954,-0.106947608292103,-0.259836435317993,0.105783194303513,-0.098499678075314,-0.046215388923883,-0.006238400470465,0.090276129543781,0.195752590894699,0.141969799995422,-0.165822893381119));
res += mul(Get(s3,0,dy), float4x4(-0.002113083377481,-0.091592885553837,-0.005488777998835,0.130970045924187,0.170706123113632,-0.184643879532814,0.013041318394244,-0.139898449182510,0.037219546735287,0.026843218132854,-0.086846172809601,0.033938169479370,0.081523098051548,-0.108218342065811,0.194340750575066,-0.148789048194885));
res += mul(Get(s3,dx,-dy), float4x4(0.115561455488205,-0.163789108395576,0.090420991182327,-0.044482246041298,-0.024172352626920,0.078120082616806,-0.050561871379614,0.047599144279957,-0.139489606022835,-0.102043762803078,-0.053702596575022,0.067240834236145,-0.016969222575426,0.052333809435368,0.037791017442942,-0.158134460449219));
res += mul(Get(s3,dx,0), float4x4(0.190114021301270,-0.043314203619957,-0.085830502212048,0.116830401122570,0.036264806985855,-0.028072103857994,0.082475580275059,-0.010849124751985,0.155712172389030,-0.184933796525002,0.088074900209904,-0.190846100449562,0.096352666616440,0.210815846920013,-0.124444521963596,0.006225513760000));
res += mul(Get(s3,dx,dy), float4x4(0.132337242364883,0.139753207564354,-0.081634484231472,-0.265262097120285,-0.251893073320389,-0.096861697733402,0.029139822348952,0.037577457726002,-0.021695690229535,-0.010804227553308,0.112288139760494,0.030081577599049,-0.116573825478554,0.166464254260063,-0.003962250426412,-0.209295928478241));
return max(float4(0,0,0,0), res);
}
