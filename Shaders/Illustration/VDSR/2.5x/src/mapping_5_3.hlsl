sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.073625810444355,-0.072841189801693,0.241999447345734,0.162761345505714,-0.048895925283432,-0.205325633287430,0.205948799848557,0.025841215625405,0.000907421228476,-0.080690138041973,0.146199509501457,-0.169368952512741,-0.152431637048721,-0.160389780998230,-0.095319107174873,-0.137917488813400));
res += mul(Get(s0,-dx,0), float4x4(0.025554588064551,-0.068639889359474,-0.057344365864992,0.113244749605656,0.020099205896258,-0.286950558423996,-0.028091695159674,-0.024130309000611,-0.197488993406296,-0.027645692229271,0.102673597633839,-0.165685355663300,-0.196187719702721,-0.084783285856247,0.034454174339771,-0.149149343371391));
res += mul(Get(s0,-dx,dy), float4x4(-0.026282148435712,-0.096788749098778,-0.106974191963673,0.280443876981735,0.041551578789949,-0.225505888462067,0.084403529763222,-0.004756707698107,-0.268591165542603,0.045153088867664,0.069156140089035,0.018272776156664,-0.124780327081680,-0.143072694540024,0.185975193977356,-0.082410737872124));
res += mul(Get(s0,0,-dy), float4x4(0.137489333748817,0.016904769465327,-0.056745380163193,0.095837995409966,-0.039105929434299,-0.037577692419291,0.137667596340179,-0.244319021701813,-0.073043875396252,-0.031446058303118,0.032155074179173,-0.035705395042896,0.018153762444854,0.007850898429751,-0.087889008224010,-0.011972753331065));
res += mul(Get(s0,0,0), float4x4(-0.089561268687248,0.166512683033943,-0.191135928034782,-0.118882335722446,-0.077539853751659,0.155062302947044,0.035960700362921,-0.056712724268436,-0.149158418178558,0.257993191480637,-0.088374026119709,0.070066362619400,-0.175739184021950,0.004756143316627,-0.087340183556080,-0.077163264155388));
res += mul(Get(s0,0,dy), float4x4(-0.159334838390350,0.036831777542830,-0.083273597061634,0.165843814611435,-0.017809024080634,0.088751517236233,0.055208396166563,0.068234838545322,-0.202023878693581,0.088563255965710,-0.028033781796694,0.117273226380348,0.040389075875282,0.059093005955219,-0.074442788958549,-0.187582209706306));
res += mul(Get(s0,dx,-dy), float4x4(0.161573573946953,0.108980789780617,-0.044106636196375,-0.028203425928950,0.117217160761356,-0.114390954375267,0.108201190829277,-0.021758854389191,-0.049670808017254,0.047831956297159,0.428159326314926,-0.182614907622337,0.119035676121712,-0.252963662147522,-0.179311171174049,0.129202365875244));
res += mul(Get(s0,dx,0), float4x4(0.049649935215712,0.033861525356770,-0.040261201560497,-0.131382495164871,-0.115004956722260,0.139664784073830,-0.146482482552528,-0.001162310945801,-0.053939402103424,0.028504766523838,0.083658874034882,-0.189234450459480,0.186367839574814,-0.117768295109272,-0.195225998759270,0.207719698548317));
res += mul(Get(s0,dx,dy), float4x4(-0.103297270834446,-0.084437072277069,-0.045336995273829,0.146309673786163,0.072775602340698,0.068327814340591,0.022624639794230,0.291285753250122,-0.127277478575706,-0.142321124672890,0.181569561362267,0.173592686653137,0.058358687907457,0.146057426929474,-0.112171255052090,0.019131759181619));
res += mul(Get(s1,-dx,-dy), float4x4(-0.168788328766823,-0.037274036556482,0.112541101872921,-0.048894979059696,0.205187156796455,0.001625435659662,-0.075230732560158,-0.070187292993069,-0.040272030979395,-0.093043766915798,0.090819358825684,-0.009425058960915,0.146779790520668,-0.172964394092560,0.121205523610115,-0.041907221078873));
res += mul(Get(s1,-dx,0), float4x4(-0.199131369590759,0.075316466391087,0.054840929806232,-0.022316975519061,-0.025797843933105,-0.109257936477661,0.176819354295731,-0.111467823386192,-0.140619903802872,-0.060062848031521,-0.008832185529172,-0.124036952853203,0.121926434338093,-0.186977148056030,-0.074145853519440,0.160411000251770));
res += mul(Get(s1,-dx,dy), float4x4(-0.115955054759979,0.127170875668526,0.092854574322701,-0.020058615133166,-0.050774700939655,-0.048970323055983,0.102104820311069,-0.079158410429955,-0.164485543966293,0.283645182847977,0.147071912884712,-0.018565157428384,0.098198898136616,-0.280199199914932,0.038128796964884,0.086495772004128));
res += mul(Get(s1,0,-dy), float4x4(0.045857567340136,-0.024416873231530,0.135045602917671,0.178553298115730,-0.099011071026325,0.069232501089573,-0.049253083765507,-0.007527310401201,-0.155744761228561,-0.052951645106077,-0.041595239192247,-0.180026575922966,-0.137281402945518,-0.031446509063244,-0.050168599933386,0.142799064517021));
res += mul(Get(s1,0,0), float4x4(-0.152807205915451,-0.091815508902073,0.008926632814109,0.039185099303722,-0.133699178695679,-0.109754487872124,0.099107220768929,-0.025268973782659,-0.116081878542900,-0.098033256828785,-0.092206627130508,-0.040980990976095,-0.082367576658726,-0.089263997972012,-0.075451277196407,0.060882374644279));
res += mul(Get(s1,0,dy), float4x4(-0.240133702754974,0.204654768109322,0.109084576368332,-0.050237521529198,-0.012382600456476,-0.001702733337879,-0.043248325586319,-0.030193692073226,-0.138627365231514,0.055300328880548,-0.101500011980534,-0.146653816103935,0.015030045993626,-0.049457129091024,-0.101778015494347,-0.079816147685051));
res += mul(Get(s1,dx,-dy), float4x4(-0.013829401694238,-0.088288992643356,-0.070788748562336,0.114522345364094,0.135069325566292,-0.064166702330112,0.048347730189562,0.004691542126238,-0.058677278459072,-0.035660661756992,0.059607848525047,-0.028157923370600,0.076151408255100,0.062548309564590,-0.041412938386202,0.100255392491817));
res += mul(Get(s1,dx,0), float4x4(-0.197443574666977,0.143101677298546,-0.004179223440588,0.109141416847706,0.013802697882056,-0.209051147103310,0.029578769579530,0.030859498307109,-0.021671853959560,0.084338456392288,-0.116289980709553,-0.088415957987309,0.077477939426899,0.022244092077017,-0.043117001652718,0.002207586308941));
res += mul(Get(s1,dx,dy), float4x4(-0.125853374600410,0.158435255289078,0.089011423289776,-0.164221480488777,0.024688482284546,-0.156853780150414,-0.037755150347948,-0.099058724939823,-0.098807141184807,0.578287899494171,-0.105398006737232,0.091079339385033,0.170727267861366,0.072912096977234,0.004497182555497,0.001225802348927));
res += mul(Get(s2,-dx,-dy), float4x4(0.217706307768822,0.123186007142067,-0.211938261985779,0.160006463527679,0.107206031680107,-0.113678127527237,-0.033330783247948,-0.055830664932728,-0.045975491404533,-0.025211354717612,0.058833073824644,0.092808090150356,-0.089228861033916,-0.246491566300392,-0.000818569678813,-0.036456916481256));
res += mul(Get(s2,-dx,0), float4x4(-0.076489903032780,-0.116367153823376,-0.002402623882517,-0.032611139118671,0.308569878339767,-0.115960076451302,0.167371779680252,-0.096383839845657,0.009331863373518,0.076798669993877,0.018677599728107,-0.055730026215315,0.049518264830112,-0.146386861801147,-0.061453040689230,0.048904594033957));
res += mul(Get(s2,-dx,dy), float4x4(-0.110802493989468,-0.052949845790863,-0.155539155006409,0.238143220543861,-0.088025033473969,-0.148029223084450,0.188825339078903,-0.159315213561058,0.266992509365082,0.001141803106293,-0.067598871886730,0.005458230152726,0.031681399792433,-0.069044321775436,0.020758526399732,0.058276899158955));
res += mul(Get(s2,0,-dy), float4x4(0.036470983177423,-0.053101804107428,0.225839450955391,-0.001743108499795,0.160868927836418,-0.095078647136688,0.000729397172108,-0.025157919153571,-0.019012466073036,0.067393198609352,0.125214323401451,0.058717362582684,-0.076658613979816,-0.281436592340469,0.010443139821291,-0.124992914497852));
res += mul(Get(s2,0,0), float4x4(-0.020636146888137,-0.116470724344254,0.026079852133989,-0.150758296251297,0.337607026100159,0.058085147291422,0.009825447574258,-0.011055375449359,0.167758539319038,-0.020751066505909,-0.048570532351732,-0.048903658986092,0.123104959726334,-0.105892650783062,0.095773160457611,-0.036751110106707));
res += mul(Get(s2,0,dy), float4x4(-0.084819823503494,-0.201989859342575,-0.179865911602974,0.086875155568123,-0.040244329720736,0.107752941548824,-0.156996294856071,-0.009293797425926,0.074154637753963,-0.049664113670588,-0.023581782355905,0.012094494886696,-0.036869108676910,-0.067280597984791,-0.008352733217180,-0.001854780246504));
res += mul(Get(s2,dx,-dy), float4x4(0.136909514665604,0.132315009832382,0.121934354305267,0.146590441465378,0.008784042671323,0.018062258139253,0.161346420645714,0.031327206641436,0.222543761134148,0.016139313578606,-0.048353198915720,-0.104025229811668,0.153688088059425,-0.218799442052841,0.078021146357059,-0.144088998436928));
res += mul(Get(s2,dx,0), float4x4(0.066397868096828,0.095255315303802,-0.065617077052593,0.012799737043679,0.077176474034786,0.102014131844044,-0.021430103108287,0.012536552734673,0.087556324899197,-0.066499635577202,-0.125619605183601,-0.130917087197304,-0.061209980398417,-0.146830230951309,-0.048324100673199,-0.030815601348877));
res += mul(Get(s2,dx,dy), float4x4(-0.015325686894357,0.081975400447845,-0.174819961190224,0.389835536479950,0.194685354828835,0.074302531778812,-0.109382823109627,0.066444024443626,-0.058668434619904,-0.023624544963241,-0.068513102829456,-0.078213453292847,-0.014414205215871,-0.041957210749388,-0.071813069283962,0.026947800070047));
res += mul(Get(s3,-dx,-dy), float4x4(-0.051716722548008,0.145314410328865,-0.030170185491443,-0.040534220635891,-0.079945489764214,-0.050602503120899,0.076191380620003,-0.039027519524097,-0.086367882788181,0.073208808898926,0.022957826033235,-0.011601435020566,-0.188492149114609,0.046927470713854,-0.021450569853187,-0.094711557030678));
res += mul(Get(s3,-dx,0), float4x4(-0.167572021484375,-0.035642974078655,-0.099779114127159,-0.028995156288147,-0.020656906068325,-0.085223406553268,-0.025317242369056,0.033806879073381,-0.068509176373482,-0.029953863471746,-0.001541453530081,0.067984387278557,-0.186016917228699,0.118164353072643,-0.033728603273630,0.061907451599836));
res += mul(Get(s3,-dx,dy), float4x4(-0.224074974656105,-0.129328370094299,0.077691607177258,-0.042920216917992,0.116660684347153,0.036803685128689,-0.072777472436428,0.041820298880339,-0.054533828049898,0.016097247600555,0.115304999053478,0.010619103908539,0.064313612878323,-0.065539546310902,-0.003832570742816,-0.045749530196190));
res += mul(Get(s3,0,-dy), float4x4(-0.076270595192909,0.194768875837326,-0.016516236588359,0.161116868257523,0.038204621523619,-0.022656027227640,0.012512034736574,-0.050869248807430,0.047721762210131,-0.060852300375700,-0.083139449357986,-0.133488923311234,-0.097293123602867,0.067978575825691,-0.072403669357300,-0.066651508212090));
res += mul(Get(s3,0,0), float4x4(-0.131936714053154,0.199205026030540,-0.137037992477417,0.123392306268215,-0.061387922614813,-0.021623414009809,-0.084669485688210,0.122475452721119,-0.070176899433136,0.048485368490219,-0.051875926554203,-0.179861068725586,-0.119610734283924,-0.015078920871019,-0.026639897376299,0.049425251781940));
res += mul(Get(s3,0,dy), float4x4(-0.129496499896049,0.339480102062225,0.008462241850793,0.003240493824705,0.023161001503468,0.028578162193298,-0.104074299335480,0.209627091884613,-0.086580358445644,-0.098540708422661,0.009955585934222,-0.008371665142477,-0.010463646613061,-0.089381411671638,0.003542194841430,-0.007093815132976));
res += mul(Get(s3,dx,-dy), float4x4(-0.047162577509880,-0.082733839750290,-0.028963856399059,0.334792256355286,0.010709700174630,0.003698319662362,-0.099039532244205,-0.037719912827015,0.138815358281136,-0.037466045469046,0.044356286525726,0.267616271972656,-0.104136087000370,0.175323605537415,-0.093107730150223,-0.116869553923607));
res += mul(Get(s3,dx,0), float4x4(-0.160423964262009,-0.061384562402964,-0.067044183611870,0.228742569684982,0.053430881351233,-0.058901578187943,-0.119611203670502,-0.011115066707134,-0.005227038171142,0.242696061730385,0.135846078395844,0.112114965915680,0.017692487686872,0.109901495277882,0.031038928776979,0.060527812689543));
res += mul(Get(s3,dx,dy), float4x4(-0.062126047909260,0.090266905725002,-0.026788970455527,-0.063556008040905,0.065375372767448,0.140074446797371,-0.059163346886635,0.087892256677151,-0.032348770648241,-0.094290815293789,0.030592946335673,-0.085870459675789,0.102261789143085,0.208119630813599,0.005092221312225,-0.099860735237598));
return max(float4(0,0,0,0), res);
}
