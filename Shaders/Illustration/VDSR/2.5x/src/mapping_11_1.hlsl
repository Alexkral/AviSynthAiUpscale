sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.117190703749657,-0.169468998908997,-0.136256471276283,-0.095903925597668,-0.041585635393858,-0.006359539460391,0.177160888910294,-0.007155450060964,0.183436885476112,-0.029930984601378,0.257614135742188,-0.124550022184849,-0.000671490153763,-0.079092010855675,0.044243212789297,0.080726452171803));
res += mul(Get(s0,-dx,0), float4x4(0.119459263980389,-0.011977406218648,-0.145521953701973,-0.178335055708885,0.119933649897575,-0.011084299534559,-0.105261512100697,0.172573596239090,-0.269859105348587,0.032052341848612,0.022336179390550,-0.003730240510777,-0.002029762603343,0.029212502762675,0.003657437860966,0.123815216124058));
res += mul(Get(s0,-dx,dy), float4x4(-0.031214689835906,0.046109206974506,-0.114924386143684,-0.334960788488388,0.038717284798622,0.015078983269632,-0.046170514076948,-0.091035351157188,0.185092359781265,-0.262271255254745,-0.206468582153320,-0.030385987833142,-0.006209873594344,-0.061930693686008,-0.040896635502577,0.050699051469564));
res += mul(Get(s0,0,-dy), float4x4(-0.014605381526053,0.118598923087120,0.034792412072420,0.244420036673546,-0.025557236745954,-0.042594492435455,0.014200419187546,-0.082144804298878,-0.230753377079964,0.007027669344097,0.030056171119213,-0.066322140395641,-0.105481639504433,0.133863136172295,-0.202049151062965,0.077917568385601));
res += mul(Get(s0,0,0), float4x4(0.069329179823399,-0.122515536844730,0.017980551347136,-0.153943583369255,0.060984499752522,0.013614664785564,-0.059754524379969,-0.096819914877415,-0.015726005658507,0.169019028544426,-0.060520149767399,0.074030831456184,0.072663649916649,-0.193563744425774,-0.011439576745033,0.082474082708359));
res += mul(Get(s0,0,dy), float4x4(-0.022229962050915,-0.153216570615768,-0.069055162370205,-0.187926918268204,-0.123754791915417,0.007460771594197,-0.056707873940468,-0.110669247806072,-0.091497287154198,0.041164852678776,0.194535061717033,0.051337141543627,0.157606467604637,-0.027897140011191,-0.124577544629574,0.112487986683846));
res += mul(Get(s0,dx,-dy), float4x4(0.059002470225096,-0.042635381221771,-0.000920729478821,0.186067238450050,0.020083200186491,0.029972450807691,0.148476257920265,0.050844769924879,0.031991399824619,0.026504226028919,0.159521147608757,0.043650571256876,-0.145376220345497,0.044375084340572,0.020929815247655,-0.187496766448021));
res += mul(Get(s0,dx,0), float4x4(-0.091174669563770,-0.167501017451286,-0.032509312033653,0.261956423521042,-0.009316129609942,-0.031378928571939,-0.011311593465507,-0.029993554577231,-0.078721776604652,-0.001284370315261,-0.057036366313696,-0.015728900209069,-0.063803732395172,0.047601312398911,-0.045922223478556,-0.103654056787491));
res += mul(Get(s0,dx,dy), float4x4(-0.190805688500404,-0.253084510564804,-0.144041731953621,0.094770155847073,0.059311583638191,-0.080947555601597,0.028606558218598,0.115503117442131,0.118923440575600,-0.014576772227883,0.009152557700872,0.072749942541122,-0.068867489695549,0.033717375248671,-0.294605940580368,0.186744853854179));
res += mul(Get(s1,-dx,-dy), float4x4(-0.002871661446989,-0.058522496372461,0.173766478896141,0.062224783003330,0.141344755887985,-0.059876162558794,0.073568798601627,0.088988535106182,-0.072837106883526,0.090214140713215,0.151115164160728,0.093474484980106,-0.058307938277721,-0.005748948547989,-0.152161523699760,-0.040262904018164));
res += mul(Get(s1,-dx,0), float4x4(0.071795150637627,-0.008494378067553,0.054927289485931,-0.096587508916855,0.169019997119904,0.312983274459839,-0.025442659854889,0.025929907336831,-0.031116439029574,-0.116588234901428,-0.086339227855206,0.029533108696342,-0.035529531538486,0.021892094984651,0.075176790356636,0.045286297798157));
res += mul(Get(s1,-dx,dy), float4x4(-0.078260540962219,-0.156961709260941,-0.068439319729805,0.001321323565207,-0.047875821590424,0.037809018045664,0.329656332731247,-0.090665861964226,0.060050249099731,0.185269579291344,-0.134614840149879,0.084094963967800,0.093882404267788,0.002481496427208,-0.050558794289827,0.099737763404846));
res += mul(Get(s1,0,-dy), float4x4(-0.157066538929939,0.054256215691566,0.031742166727781,0.037247143685818,0.097050935029984,0.040496811270714,-0.074131771922112,0.051599621772766,0.043596912175417,0.135730579495430,-0.099955946207047,0.137134268879890,-0.121543481945992,-0.097112290561199,-0.040226392447948,0.045159161090851));
res += mul(Get(s1,0,0), float4x4(-0.012597777880728,-0.026284046471119,-0.183580130338669,-0.073950223624706,0.308018267154694,-0.208182722330093,0.009285981766880,-0.090694591403008,0.006224486976862,-0.025602994486690,-0.036215063184500,-0.009325229562819,0.102608539164066,0.004508484620601,-0.066763415932655,-0.083253912627697));
res += mul(Get(s1,0,dy), float4x4(-0.042616974562407,-0.207173615694046,0.081858590245247,0.082262612879276,-0.103411361575127,0.072618365287781,0.091013967990875,-0.081181377172470,-0.101472750306129,0.059198398143053,-0.126324862241745,0.025993349030614,-0.090223327279091,0.179032713174820,-0.027327010408044,-0.061101969331503));
res += mul(Get(s1,dx,-dy), float4x4(0.018941044807434,0.120070777833462,0.114434882998466,-0.006119877099991,-0.013164102099836,0.014545298181474,0.070951201021671,-0.167277693748474,-0.047930993139744,-0.022208968177438,-0.036067023873329,-0.061061777174473,-0.156378597021103,0.088982440531254,-0.023599069565535,0.008879854343832));
res += mul(Get(s1,dx,0), float4x4(-0.047057382762432,-0.039464380592108,0.091033786535263,-0.267694950103760,0.095676042139530,-0.133915454149246,0.004643060732633,-0.013712345622480,-0.019549552351236,0.091045171022415,-0.076630458235741,0.114026017487049,-0.020801404491067,-0.058960061520338,-0.131896018981934,-0.018835933879018));
res += mul(Get(s1,dx,dy), float4x4(-0.028550047427416,-0.022556077688932,-0.155476391315460,0.011807106435299,-0.007280887104571,0.075973920524120,-0.026057599112391,0.056376762688160,-0.040475994348526,0.043057110160589,-0.063261277973652,0.012278687208891,0.024224389344454,-0.040957547724247,0.001228368259035,-0.054484885185957));
res += mul(Get(s2,-dx,-dy), float4x4(-0.010167564265430,0.049097027629614,0.071856237947941,0.037599880248308,0.126868873834610,-0.050502844154835,-0.039749044924974,0.018047332763672,-0.039644420146942,-0.313094288110733,-0.047473907470703,0.056510806083679,0.047587312757969,-0.045976120978594,0.116515256464481,0.186956524848938));
res += mul(Get(s2,-dx,0), float4x4(-0.028053790330887,0.218602299690247,0.155820906162262,-0.146623894572258,0.063299119472504,-0.055860336869955,0.028003720566630,-0.115452609956264,-0.225827693939209,-0.161620274186134,0.063894368708134,-0.121436521410942,-0.052482143044472,0.029488855972886,-0.001477581798099,0.116100862622261));
res += mul(Get(s2,-dx,dy), float4x4(-0.112502291798592,0.042111136019230,0.100407309830189,-0.159584000706673,0.132260963320732,0.090061843395233,-0.101670235395432,0.119776085019112,0.116983175277710,-0.003628708655015,-0.170952573418617,-0.116441428661346,0.017365645617247,-0.150574445724487,-0.056111771613359,0.132935717701912));
res += mul(Get(s2,0,-dy), float4x4(-0.055533539503813,-0.001728387200274,-0.049808595329523,-0.051193568855524,0.040488343685865,-0.014253323897719,-0.042738076299429,-0.099673300981522,0.108176611363888,0.106651581823826,0.113338917493820,-0.052715755999088,0.037917155772448,0.061338391155005,0.021646287292242,0.054598927497864));
res += mul(Get(s2,0,0), float4x4(-0.018974231556058,0.002569023985416,0.086023375391960,-0.141514226794243,-0.005913950968534,0.062577255070210,-0.077773630619049,-0.168067023158073,-0.048482764512300,-0.211659148335457,-0.030487149953842,-0.071612514555454,-0.143040075898170,0.032440677285194,-0.070766508579254,-0.053539957851171));
res += mul(Get(s2,0,dy), float4x4(-0.077029131352901,0.047295700758696,0.061217948794365,-0.117835618555546,-0.114025495946407,-0.063770942389965,0.098873510956764,-0.095076143741608,0.047295123338699,0.011499190703034,-0.070277854800224,-0.035902146250010,0.040589332580566,-0.049596343189478,-0.024628652259707,-0.202671423554420));
res += mul(Get(s2,dx,-dy), float4x4(-0.075579330325127,-0.016076579689980,-0.188117295503616,0.034364644438028,0.112337410449982,-0.106653280556202,-0.146932482719421,-0.091955237090588,-0.061823073774576,-0.123006992042065,-0.175140216946602,0.056532230228186,0.050042405724525,-0.207117810845375,-0.038148730993271,0.104985982179642));
res += mul(Get(s2,dx,0), float4x4(0.053138650953770,0.040583234280348,-0.029150888323784,-0.014906098134816,0.024449896067381,0.109030321240425,0.025180730968714,-0.062334544956684,0.099781140685081,0.104342207312584,0.139079689979553,0.063725493848324,0.199737653136253,-0.241335451602936,0.007452358957380,0.078210145235062));
res += mul(Get(s2,dx,dy), float4x4(-0.020710742101073,0.065382979810238,0.035785026848316,-0.129640772938728,-0.229002296924591,-0.046043917536736,-0.138929262757301,-0.006468764971942,0.148777753114700,0.122705675661564,0.063463561236858,-0.009249411523342,-0.011403839103878,0.057746656239033,-0.020267486572266,-0.006135217379779));
res += mul(Get(s3,-dx,-dy), float4x4(-0.209965631365776,0.069142535328865,0.016781723126769,0.032141279429197,-0.160858646035194,-0.136267527937889,-0.064596116542816,-0.041677642613649,0.052422847598791,0.000576368649490,0.067259311676025,-0.166359364986420,0.013360801152885,0.019915368407965,-0.055415019392967,0.165976136922836));
res += mul(Get(s3,-dx,0), float4x4(0.054567303508520,0.204292014241219,-0.030265826731920,-0.011911872774363,0.018344936892390,0.140523791313171,-0.157580897212029,0.051133912056684,-0.039870623499155,0.017963936552405,0.060662180185318,0.004805058706552,0.074373319745064,-0.187281697988510,0.001782060600817,0.145833015441895));
res += mul(Get(s3,-dx,dy), float4x4(-0.126941889524460,0.001421704539098,-0.062278233468533,-0.146690845489502,-0.093421123921871,-0.120284244418144,0.073316462337971,-0.037850532680750,-0.172777488827705,-0.082302004098892,0.188527911901474,-0.176790207624435,-0.070984832942486,0.036071006208658,0.073768012225628,0.091400027275085));
res += mul(Get(s3,0,-dy), float4x4(-0.047717079520226,-0.081989198923111,0.139818534255028,-0.057736858725548,-0.090203106403351,-0.011339594610035,0.147499114274979,0.247748464345932,-0.151707738637924,0.019181298092008,0.047162882983685,-0.114942371845245,0.010051134973764,-0.134220629930496,0.110635414719582,0.009808543138206));
res += mul(Get(s3,0,0), float4x4(0.060638699680567,0.027356920763850,-0.154827132821083,0.012340879999101,-0.091986194252968,0.063718788325787,-0.058338578790426,-0.108266867697239,-0.065646924078465,-0.072303846478462,0.060078207403421,-0.036514587700367,0.178414002060890,-0.069208465516567,0.007019298616797,-0.132492363452911));
res += mul(Get(s3,0,dy), float4x4(0.135568559169769,0.047781668603420,0.134100615978241,-0.118286259472370,-0.098246790468693,-0.033233076334000,0.011528970673680,0.215467855334282,-0.301649123430252,-0.089491315186024,-0.150128692388535,-0.021591736003757,-0.132415190339088,-0.053961794823408,-0.103118658065796,-0.034001961350441));
res += mul(Get(s3,dx,-dy), float4x4(-0.016511334106326,-0.071768313646317,0.070260383188725,0.053295675665140,0.006562743801624,-0.131971985101700,0.024323921650648,0.091341979801655,0.043050512671471,0.126814693212509,0.075889728963375,0.110943652689457,0.149983152747154,-0.051472723484039,-0.212584882974625,0.111481875181198));
res += mul(Get(s3,dx,0), float4x4(-0.077087633311749,-0.002863263478503,0.002785675926134,-0.051915980875492,0.033158637583256,0.007032694295049,-0.074122607707977,-0.026181934401393,-0.212376132607460,-0.166358560323715,-0.095632418990135,-0.063094265758991,0.244026005268097,-0.091909706592560,-0.043505609035492,0.030229413881898));
res += mul(Get(s3,dx,dy), float4x4(-0.118394672870636,-0.025335218757391,-0.026129044592381,0.008248801343143,0.001875067362562,0.230355292558670,0.055338680744171,0.154932886362076,0.022713381797075,-0.056111034005880,0.004241487476975,-0.135508596897125,0.012233645655215,0.084909059107304,-0.153995499014854,-0.012005769647658));
return max(float4(0,0,0,0), res);
}
