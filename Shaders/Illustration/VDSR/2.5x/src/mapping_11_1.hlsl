sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.125247746706009,-0.086981430649757,0.043884254992008,-0.059560891240835,-0.157874390482903,0.151384770870209,-0.091999195516109,-0.083535335958004,-0.098458394408226,0.138767182826996,-0.081694990396500,0.000317498401273,0.176408857107162,0.011101693846285,0.187993586063385,-0.068760417401791));
res += mul(Get(s0,-dx,0), float4x4(-0.193758964538574,-0.096824333071709,0.013346699997783,-0.062093034386635,-0.004877454135567,0.153620630502701,0.014212547801435,0.136595502495766,0.009956012479961,0.002603674307466,-0.031766943633556,0.048077479004860,0.050274208188057,0.154879570007324,0.047651629894972,-0.015724137425423));
res += mul(Get(s0,-dx,dy), float4x4(-0.027242286130786,0.048613879829645,-0.221696063876152,0.195169791579247,-0.124490253627300,0.005821141414344,-0.092760890722275,-0.047022260725498,0.123524032533169,0.139603793621063,0.050816684961319,-0.010031292214990,0.009563324972987,0.074624076485634,-0.016105558723211,-0.063833191990852));
res += mul(Get(s0,0,-dy), float4x4(-0.057295691221952,-0.073695525527000,-0.035602182149887,-0.029107956215739,0.162599712610245,-0.115062490105629,0.046544805169106,-0.142350688576698,0.018945738673210,0.220989122986794,0.002800612710416,-0.074618771672249,0.123902998864651,-0.031289838254452,0.004256749060005,-0.028388217091560));
res += mul(Get(s0,0,0), float4x4(-0.109448753297329,-0.127640783786774,-0.064290247857571,-0.102226227521896,0.065130189061165,0.029002994298935,0.183241143822670,-0.012139107100666,0.102439858019352,0.125738784670830,0.022196236997843,0.016178110614419,-0.157900810241699,-0.022889688611031,-0.026735845953226,0.052279364317656));
res += mul(Get(s0,0,dy), float4x4(-0.164545208215714,-0.023875461891294,-0.210636541247368,-0.023097679018974,-0.182160213589668,-0.058864228427410,-0.157928124070168,-0.085136875510216,0.112349711358547,0.083751790225506,0.210516139864922,0.113091483712196,-0.084695987403393,-0.001618136651814,-0.077079348266125,0.040746241807938));
res += mul(Get(s0,dx,-dy), float4x4(-0.123950384557247,0.121522419154644,-0.019910786300898,0.028936969116330,-0.044546596705914,-0.022369595244527,0.024701684713364,-0.101440608501434,0.066360555589199,-0.093289665877819,0.012841128744185,-0.114233478903770,0.154705137014389,-0.024250149726868,-0.064963422715664,0.026589676737785));
res += mul(Get(s0,dx,0), float4x4(0.003081272123381,0.259445667266846,0.050995282828808,-0.140383586287498,-0.020940274000168,0.024455182254314,0.038288157433271,0.019794320687652,0.241777837276459,0.094493493437767,0.141788497567177,0.174077093601227,0.073032632470131,-0.182676032185555,0.096157371997833,-0.042233511805534));
res += mul(Get(s0,dx,dy), float4x4(-0.056682232767344,0.160665467381477,-0.033709313720465,-0.055508039891720,-0.042873103171587,0.091151110827923,0.028284190222621,0.058616138994694,0.104562558233738,-0.028800424188375,0.031433302909136,-0.017076566815376,-0.133665174245834,-0.049319066107273,0.055606786161661,0.081226997077465));
res += mul(Get(s1,-dx,-dy), float4x4(-0.043454390019178,-0.008010829798877,-0.157082796096802,-0.138522669672966,-0.106614291667938,-0.103791490197182,-0.045357637107372,-0.057229951024055,-0.102869354188442,0.013580363243818,-0.031613357365131,0.105847373604774,-0.117525026202202,-0.028968689963222,-0.040533099323511,-0.147288322448730));
res += mul(Get(s1,-dx,0), float4x4(-0.079942934215069,0.058168161660433,-0.244421571493149,-0.029855379834771,-0.018491040915251,0.065445564687252,0.179004400968552,-0.321797668933868,0.038228541612625,0.020837532356381,0.000427922408562,0.012248993851244,-0.314137876033783,0.062283385545015,-0.136879906058311,0.030867073684931));
res += mul(Get(s1,-dx,dy), float4x4(-0.105412289500237,-0.075614653527737,-0.027065970003605,0.168826326727867,0.053879681974649,0.193442553281784,0.005795969162136,-0.137478053569794,0.025619499385357,0.034153465181589,0.198404222726822,0.120330139994621,-0.085691601037979,0.172037914395332,0.078963138163090,0.061569701880217));
res += mul(Get(s1,0,-dy), float4x4(-0.074946247041225,-0.214197650551796,0.025265952572227,-0.190514385700226,-0.010510609485209,-0.074329443275928,0.133651763200760,0.150858953595161,0.041615989059210,-0.024223752319813,-0.079631894826889,0.118205077946186,0.056631576269865,-0.034284975379705,0.013563824817538,0.032438453286886));
res += mul(Get(s1,0,0), float4x4(-0.159477025270462,-0.205543056130409,-0.088668562471867,-0.039177868515253,0.088835425674915,0.010738666169345,0.032118096947670,-0.119134597480297,0.175155550241470,0.214084267616272,-0.098964169621468,-0.001044568489306,0.120153978466988,0.081535793840885,0.139525696635246,0.011032649315894));
res += mul(Get(s1,0,dy), float4x4(-0.096404716372490,0.148118287324905,0.025671690702438,0.068583056330681,0.085481777787209,0.028756251558661,-0.019172888249159,-0.203590616583824,0.130021899938583,-0.048338998109102,0.146782666444778,-0.128921031951904,0.052377812564373,0.071385726332664,-0.020312728360295,0.141130641102791));
res += mul(Get(s1,dx,-dy), float4x4(0.054273884743452,-0.329077988862991,0.171331733465195,-0.027114965021610,-0.012633879669011,-0.118734978139400,0.125257834792137,0.298054784536362,-0.148014694452286,-0.057105883955956,0.050668004900217,0.094492331147194,-0.073639564216137,-0.054652713239193,0.021498115733266,0.139059916138649));
res += mul(Get(s1,dx,0), float4x4(0.189413771033287,-0.233734473586082,0.045387025922537,0.110983692109585,0.051199890673161,-0.011645153164864,0.054592151194811,0.120711147785187,0.149785444140434,0.094191111624241,0.023049550130963,0.051192548125982,0.034332118928432,-0.016463210806251,0.026334390044212,0.023311497643590));
res += mul(Get(s1,dx,dy), float4x4(0.084752418100834,-0.009424249641597,0.134795248508453,0.294473856687546,0.077822305262089,-0.144932821393013,0.007310227025300,0.099668115377426,0.029547600075603,-0.125423446297646,0.065718822181225,0.149779170751572,-0.067835979163647,0.006991595495492,-0.159282147884369,0.350948423147202));
res += mul(Get(s2,-dx,-dy), float4x4(0.205107256770134,0.049727711826563,-0.031512420624495,-0.163298144936562,-0.101315930485725,-0.116331212222576,-0.044845666736364,0.175335913896561,-0.298718512058258,0.047986242920160,-0.240210011601448,-0.058368518948555,-0.066873751580715,0.015568247064948,-0.141741782426834,0.004649281967431));
res += mul(Get(s2,-dx,0), float4x4(0.008161686360836,-0.051824986934662,0.060693357139826,-0.118850693106651,0.036293305456638,0.002693312475458,0.026259722188115,0.026963667944074,-0.176694810390472,0.014054014347494,-0.203295335173607,-0.063214242458344,0.073427617549896,-0.006864546798170,0.244022145867348,-0.034469425678253));
res += mul(Get(s2,-dx,dy), float4x4(0.064842149615288,0.052240177989006,-0.035105295479298,0.052992522716522,0.069346748292446,-0.008541772142053,-0.130236491560936,-0.082774437963963,-0.063506208360195,0.083655826747417,-0.093055807054043,-0.083349280059338,-0.116266682744026,0.034633580595255,0.268200069665909,-0.034711465239525));
res += mul(Get(s2,0,-dy), float4x4(-0.124848082661629,-0.031345054507256,0.137223362922668,0.049447845667601,-0.053457945585251,-0.115617997944355,0.144950941205025,-0.038526650518179,-0.146242156624794,-0.194238424301147,-0.254714071750641,-0.071453988552094,0.225185513496399,-0.065634258091450,0.120182000100613,0.471448361873627));
res += mul(Get(s2,0,0), float4x4(-0.112328656017780,-0.083344608545303,-0.015075647272170,-0.109659604728222,-0.021974014118314,-0.111639387905598,-0.024618251249194,0.027001358568668,-0.111323885619640,-0.103728041052818,-0.076089963316917,-0.081175372004509,-0.064623981714249,-0.135319903492928,-0.037215694785118,-0.000431191030657));
res += mul(Get(s2,0,dy), float4x4(-0.160482451319695,-0.137811899185181,-0.073628671467304,-0.129649028182030,0.170221403241158,-0.112917274236679,-0.188422843813896,0.084147967398167,0.048039589077234,-0.081434249877930,-0.048610880970955,0.029213201254606,-0.114585220813751,-0.029343087226152,0.077245362102985,-0.088696092367172));
res += mul(Get(s2,dx,-dy), float4x4(-0.223996967077255,-0.044219620525837,-0.087853968143463,-0.286403924226761,-0.220318153500557,0.141953110694885,-0.177542611956596,-0.019347162917256,-0.097796611487865,-0.076246432960033,-0.150383815169334,-0.142921626567841,-0.078641921281815,0.018259691074491,-0.010440414771438,0.164308875799179));
res += mul(Get(s2,dx,0), float4x4(-0.102291874587536,0.027446700260043,-0.115788087248802,-0.186420634388924,-0.198646441102028,-0.189814999699593,-0.298670232295990,-0.160782501101494,-0.230015203356743,-0.188719004392624,-0.039320521056652,-0.139277398586273,-0.294279724359512,-0.089716956019402,-0.209684148430824,-0.019652696326375));
res += mul(Get(s2,dx,dy), float4x4(-0.139643892645836,-0.092881172895432,0.022789670154452,-0.082104682922363,-0.172332420945168,-0.157884195446968,-0.160465210676193,-0.035168707370758,-0.077128067612648,-0.071245141327381,0.235452920198441,0.036946583539248,-0.138722956180573,-0.023715889081359,-0.028315819799900,-0.071974605321884));
res += mul(Get(s3,-dx,-dy), float4x4(-0.033860001713037,0.169913843274117,0.017227541655302,0.019235281273723,-0.201721429824829,-0.038225091993809,-0.005242506042123,-0.016973093152046,0.078974276781082,-0.022953651845455,0.062131252139807,0.063788317143917,0.100802585482597,0.016971515491605,-0.053102608770132,-0.015525471419096));
res += mul(Get(s3,-dx,0), float4x4(-0.055161062628031,0.009614713490009,0.134394869208336,-0.016906619071960,-0.096045240759850,0.203568190336227,-0.120871871709824,-0.067575454711914,-0.003256964497268,-0.035579502582550,0.141980424523354,-0.137865677475929,0.246689766645432,0.088904581964016,0.174481332302094,0.005749883130193));
res += mul(Get(s3,-dx,dy), float4x4(0.064129322767258,0.238627716898918,0.047117415815592,0.059075009077787,-0.055019572377205,0.247635036706924,0.028039263561368,0.149249643087387,-0.289995580911636,0.223221808671951,-0.029773700982332,0.023238640278578,0.089251302182674,-0.047912828624249,-0.010706236585975,0.048486657440662));
res += mul(Get(s3,0,-dy), float4x4(0.000747651210986,-0.151324108242989,0.005260749720037,-0.045385692268610,-0.068776831030846,0.041666328907013,-0.109015330672264,-0.049839094281197,-0.089150935411453,-0.037781633436680,0.033442024141550,-0.044253673404455,0.188510566949844,0.010697333142161,-0.029360922053456,0.064466781914234));
res += mul(Get(s3,0,0), float4x4(0.158317267894745,-0.104069016873837,-0.134282216429710,-0.082241855561733,-0.091389611363411,0.117774367332458,-0.065244838595390,-0.091247566044331,0.228146508336067,0.040252670645714,0.045380085706711,-0.030524918809533,0.260973691940308,0.049345254898071,0.080651752650738,-0.010504425503314));
res += mul(Get(s3,0,dy), float4x4(0.261276155710220,0.158218592405319,-0.078266240656376,0.000205342497793,0.021235866472125,-0.000255207734881,0.037559781223536,0.121212549507618,0.221079006791115,0.147720694541931,-0.145189374685287,-0.073595762252808,0.134087964892387,-0.007114056497812,-0.203645393252373,-0.056111078709364));
res += mul(Get(s3,dx,-dy), float4x4(-0.145767763257027,-0.098243854939938,-0.096337333321571,-0.071583531796932,0.083012513816357,-0.064105078577995,0.136923074722290,-0.001059198053554,-0.091499812901020,-0.046681113541126,-0.113126121461391,0.056155618280172,0.137095108628273,0.006268917117268,0.175605893135071,-0.025532953441143));
res += mul(Get(s3,dx,0), float4x4(0.006363000720739,-0.162651419639587,-0.081740476191044,-0.071118496358395,0.093548640608788,-0.064251489937305,0.178901642560959,-0.123305797576904,-0.118513189256191,0.018870573490858,-0.210983902215958,0.011960764415562,0.104953892529011,0.005785141140223,0.237620413303375,-0.005047818180174));
res += mul(Get(s3,dx,dy), float4x4(0.333499073982239,0.110094726085663,-0.068606406450272,0.113511897623539,0.234004378318787,-0.025180242955685,-0.019539734348655,-0.025092864409089,0.086569093167782,-0.005784060806036,-0.176575824618340,0.223781779408455,0.086692966520786,-0.010486022569239,-0.003105266718194,-0.073823228478432));
return max(float4(0,0,0,0), res);
}
