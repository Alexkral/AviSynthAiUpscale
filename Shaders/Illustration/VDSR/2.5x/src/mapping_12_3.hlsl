sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.073704399168491,-0.013701915740967,-0.184762641787529,0.237427696585655,-0.129529461264610,0.111822545528412,-0.106241963803768,-0.036169458180666,-0.004511432256550,0.043027941137552,-0.119577355682850,-0.016838815063238,0.102745421230793,0.105448991060257,-0.133502066135406,-0.076054468750954));
res += mul(Get(s0,-dx,0), float4x4(-0.083150431513786,-0.114954814314842,-0.176294490695000,0.344629794359207,-0.008642196655273,-0.077972233295441,0.010186706669629,0.109572984278202,0.004289870616049,0.014828007668257,0.024434413760900,0.112902216613293,0.081957161426544,0.076790235936642,-0.262698322534561,0.097035959362984));
res += mul(Get(s0,-dx,dy), float4x4(-0.174011662602425,-0.077336899936199,-0.254279136657715,0.099946863949299,-0.157263562083244,-0.031708184629679,0.068584598600864,0.026696551591158,0.011929226107895,0.077504768967628,-0.043325304985046,0.011117508634925,0.019318699836731,0.007409859448671,-0.026289155706763,0.051103789359331));
res += mul(Get(s0,0,-dy), float4x4(-0.098078869283199,0.078477904200554,-0.130582362413406,0.036040939390659,0.034857492893934,0.110098794102669,-0.086225666105747,-0.274479508399963,0.197593405842781,0.014780218712986,-0.165898442268372,0.126051634550095,0.134790450334549,0.061166413128376,-0.125071525573730,-0.090353809297085));
res += mul(Get(s0,0,0), float4x4(0.370022684335709,-0.136409148573875,0.163535073399544,0.158718973398209,0.072314813733101,-0.064852543175220,0.172099485993385,0.058654800057411,0.148152768611908,-0.087590634822845,-0.005132451653481,0.120544798672199,0.247964620590210,-0.010180685669184,0.331728249788284,0.176742807030678));
res += mul(Get(s0,0,dy), float4x4(-0.128593534231186,-0.089466474950314,0.249233081936836,0.209480166435242,-0.122946746647358,-0.085089869797230,0.166403442621231,-0.002775020198897,0.047235749661922,0.162525281310081,0.164858072996140,-0.099220164120197,-0.078405492007732,-0.103245757520199,0.307017683982849,-0.088745474815369));
res += mul(Get(s0,dx,-dy), float4x4(-0.151765212416649,-0.178503349423409,-0.128736719489098,-0.079848341643810,-0.150066047906876,0.094481244683266,-0.116642855107784,-0.117779187858105,0.246098086237907,0.009399668313563,-0.024713456630707,-0.096816547214985,0.084407560527325,0.085996307432652,-0.063606478273869,-0.021159967407584));
res += mul(Get(s0,dx,0), float4x4(-0.063252128660679,-0.153869360685349,0.225867763161659,-0.167921647429466,0.075340509414673,-0.101070836186409,-0.026768118143082,-0.092748008668423,-0.132788613438606,-0.205323249101639,0.152660325169563,-0.120656475424767,0.021576028317213,-0.037541627883911,0.047876000404358,0.077691845595837));
res += mul(Get(s0,dx,dy), float4x4(-0.148115798830986,-0.146981060504913,0.066784404218197,-0.123408503830433,-0.275841742753983,-0.044302482157946,0.097355797886848,-0.012453031726182,-0.092007115483284,0.033026490360498,0.033750452101231,-0.090331859886646,-0.104074425995350,-0.032508749514818,0.220301181077957,-0.051514856517315));
res += mul(Get(s1,-dx,-dy), float4x4(-0.004833497572690,-0.173986926674843,-0.123251006007195,-0.075977951288223,-0.187270835042000,0.022572940215468,-0.146078377962112,-0.190364584326744,0.033885668963194,0.073141150176525,-0.081491537392139,0.071404814720154,0.020420053973794,0.121093973517418,0.122997246682644,0.046103250235319));
res += mul(Get(s1,-dx,0), float4x4(-0.063868187367916,-0.144060447812080,0.059216871857643,-0.123778767883778,-0.137376740574837,-0.134376943111420,-0.034152366220951,-0.274647235870361,0.012328317388892,-0.056917384266853,0.189456120133400,0.171831816434860,-0.029032276943326,0.255286335945129,0.018757447600365,-0.031952958554029));
res += mul(Get(s1,-dx,dy), float4x4(0.052455317229033,-0.113389357924461,0.116692207753658,-0.125980973243713,-0.071185067296028,0.160434544086456,-0.102103844285011,-0.177161380648613,-0.130478665232658,0.078692600131035,0.134130924940109,0.045174226164818,-0.037895128130913,0.014759260229766,-0.012157583609223,-0.012300473637879));
res += mul(Get(s1,0,-dy), float4x4(0.014776615425944,0.045013658702374,-0.150189042091370,-0.091526903212070,0.152955517172813,0.038375947624445,-0.163759186863899,0.065995931625366,0.017479935660958,0.126397371292114,-0.014644380658865,-0.033732358366251,0.038923244923353,0.126612633466721,0.012188292108476,0.208128094673157));
res += mul(Get(s1,0,0), float4x4(0.075258724391460,-0.196279332041740,-0.018036764115095,0.057793404906988,0.108964897692204,-0.143715471029282,0.235709235072136,0.249879524111748,-0.020929288119078,-0.011799574829638,0.344206005334854,0.019459282979369,0.008983817882836,0.130104839801788,0.072560697793961,-0.019127553328872));
res += mul(Get(s1,0,dy), float4x4(0.052124127745628,-0.096594512462616,0.050633776932955,-0.012316091917455,-0.049492377787828,0.062444679439068,-0.009041302837431,0.054761186242104,-0.133219510316849,0.000067061693699,0.182930111885071,-0.144212365150452,0.053632903844118,0.091074176132679,-0.000637192046270,0.009525054134429));
res += mul(Get(s1,dx,-dy), float4x4(0.120559804141521,0.144094422459602,-0.005339995026588,0.015062812715769,0.203584313392639,0.082851886749268,0.059755943715572,-0.158049091696739,0.012485964223742,0.099251538515091,-0.122597984969616,-0.091914802789688,0.050886653363705,0.269686877727509,-0.060950327664614,0.123714514076710));
res += mul(Get(s1,dx,0), float4x4(0.227266848087311,-0.076065078377724,0.178141832351685,0.209560871124268,0.176784455776215,-0.115821227431297,0.382553488016129,0.096109859645367,0.031937330961227,0.028022820129991,0.241360366344452,-0.018168531358242,-0.099995248019695,0.118433490395546,0.133612900972366,0.008354716002941));
res += mul(Get(s1,dx,dy), float4x4(-0.179132774472237,-0.061772506684065,-0.107164137065411,-0.166950687766075,-0.160664305090904,0.048402961343527,-0.114220753312111,-0.121213741600513,-0.084740102291107,-0.038028292357922,-0.016424603760242,-0.041506763547659,0.033527713268995,-0.007987199351192,-0.007377950008959,-0.097302705049515));
res += mul(Get(s2,-dx,-dy), float4x4(0.196628287434578,-0.194020554423332,-0.019499661400914,0.119148693978786,-0.223082974553108,0.293653249740601,-0.179651796817780,-0.128187015652657,0.131282851099968,0.129985466599464,0.044038165360689,0.151348546147346,-0.026254819706082,0.070968069136143,-0.182791694998741,-0.050458211451769));
res += mul(Get(s2,-dx,0), float4x4(0.079601801931858,-0.098786383867264,0.123302116990089,0.187875926494598,-0.052675995975733,0.069577351212502,-0.222160905599594,0.020220445469022,-0.076749734580517,0.202319949865341,-0.019531792029738,0.056994549930096,-0.172405421733856,-0.076664008200169,0.053517363965511,-0.026320122182369));
res += mul(Get(s2,-dx,dy), float4x4(0.162476643919945,0.153390854597092,0.046613585203886,-0.081739626824856,-0.249093517661095,0.179974675178528,0.015093753114343,0.068375915288925,-0.062272433191538,-0.038556393235922,-0.019972193986177,-0.016051463782787,-0.073441535234451,0.180857464671135,-0.014231029897928,-0.016689317300916));
res += mul(Get(s2,0,-dy), float4x4(-0.006425553001463,-0.034724928438663,-0.051697336137295,-0.018702041357756,-0.138595998287201,0.070815265178680,-0.039394814521074,-0.053064927458763,-0.141058981418610,0.044441565871239,-0.024807330220938,-0.011231927201152,0.068120710551739,0.082078412175179,-0.030960312113166,-0.094590954482555));
res += mul(Get(s2,0,0), float4x4(-0.035928755998611,0.021501060575247,0.120171472430229,-0.023460784927011,0.201166361570358,-0.015333277173340,0.005333351437002,0.010097570717335,-0.117593832314014,0.280146569013596,0.003841020399705,-0.242288231849670,0.156754389405251,-0.210053756833076,0.083074398338795,-0.044288665056229));
res += mul(Get(s2,0,dy), float4x4(0.197609156370163,-0.017744235694408,0.041400521993637,0.074351347982883,0.133664801716805,0.012971895746887,-0.034712817519903,0.332172036170959,-0.009129878133535,-0.179102823138237,0.013188781216741,-0.145396813750267,0.052313968539238,0.100244991481304,0.112327687442303,0.063094139099121));
res += mul(Get(s2,dx,-dy), float4x4(0.024248240515590,-0.023165417835116,-0.032608576118946,0.000173774111317,-0.036459278315306,0.286461681127548,0.111657492816448,0.047074329108000,-0.005221480969340,-0.070653483271599,-0.104005925357342,-0.041207250207663,0.024621661752462,-0.057570628821850,0.006924496497959,-0.216929584741592));
res += mul(Get(s2,dx,0), float4x4(-0.047020431607962,-0.019492331892252,0.102945975959301,0.031630378216505,0.136312395334244,0.115982361137867,0.242989078164101,-0.077503211796284,0.047923035919666,0.208625227212906,0.148178592324257,-0.154915541410446,-0.093661479651928,-0.128650814294815,0.327399879693985,-0.215648815035820));
res += mul(Get(s2,dx,dy), float4x4(0.243190005421638,-0.114227533340454,0.065976306796074,0.118019022047520,0.190737590193748,-0.123956307768822,0.042993344366550,0.102177515625954,0.146863132715225,-0.095800817012787,0.097185574471951,0.002308085327968,-0.158208459615707,0.051299594342709,0.163395196199417,-0.145497635006905));
res += mul(Get(s3,-dx,-dy), float4x4(0.095516875386238,0.004812914412469,-0.051964629441500,0.263086289167404,0.100059531629086,0.057066537439823,-0.003793440526351,0.024526447057724,0.014006335288286,0.025333298370242,-0.031869243830442,-0.016726752743125,0.079976953566074,-0.017070738598704,-0.024248786270618,-0.027467668056488));
res += mul(Get(s3,-dx,0), float4x4(0.073866069316864,-0.006937797646970,0.000155520727276,0.211250111460686,-0.070859335362911,0.265940845012665,0.384596586227417,0.051171127706766,-0.070518136024475,-0.083354607224464,-0.047725915908813,-0.011614324524999,-0.058485768735409,0.070304416120052,-0.076367966830730,-0.078228689730167));
res += mul(Get(s3,-dx,dy), float4x4(0.161038234829903,-0.181773230433464,0.056056451052427,0.176725149154663,0.101118564605713,0.002875758800656,0.037037309259176,0.120153531432152,-0.131290093064308,-0.031230591237545,-0.008240731433034,-0.058207165449858,0.079519048333168,-0.131089419126511,-0.018872782588005,-0.065782241523266));
res += mul(Get(s3,0,-dy), float4x4(0.080764956772327,0.045132301747799,-0.109820097684860,-0.042129606008530,0.021478729322553,0.165164440870285,0.040613330900669,0.081003114581108,0.129527926445007,-0.117585942149162,-0.028276028111577,-0.074783280491829,-0.082127161324024,-0.030077969655395,-0.016344359144568,-0.062292512506247));
res += mul(Get(s3,0,0), float4x4(-0.020909376442432,-0.111207067966461,0.137965962290764,-0.096088357269764,-0.002478869399056,0.347714900970459,-0.001981866313145,0.082520984113216,-0.055001918226480,0.035648908466101,0.088984362781048,0.244492515921593,-0.131032049655914,0.035673666745424,0.008747385814786,0.067151315510273));
res += mul(Get(s3,0,dy), float4x4(-0.028817480430007,-0.175882145762444,0.133147791028023,0.005979743786156,0.069100894033909,-0.025657316669822,0.171629220247269,-0.003572030225769,-0.143615275621414,-0.087540745735168,0.014383306726813,0.053949680179358,0.234287098050117,-0.221607580780983,0.010925514623523,0.068139918148518));
res += mul(Get(s3,dx,-dy), float4x4(-0.000406165636377,-0.013417538255453,-0.083238363265991,0.050717961043119,0.030363397672772,0.159483477473259,-0.078698590397835,-0.128274723887444,0.129678949713707,-0.161455318331718,0.032145570963621,-0.022307310253382,-0.049600109457970,0.020887879654765,0.020447209477425,0.108467340469360));
res += mul(Get(s3,dx,0), float4x4(0.008249048143625,-0.071001440286636,-0.001285170670599,-0.052685946226120,0.093172207474709,0.222749546170235,0.289972066879272,0.015596054494381,0.150773897767067,0.060075901448727,-0.109244607388973,0.107563786208630,0.074421316385269,0.128259629011154,0.162058532238007,0.051263850182295));
res += mul(Get(s3,dx,dy), float4x4(0.068578079342842,-0.101850159466267,0.011967490427196,0.065524205565453,-0.040080912411213,0.167325288057327,0.210816338658333,-0.126584619283676,0.051543515175581,-0.008339595049620,-0.053348749876022,0.024688288569450,0.114437110722065,-0.147845163941383,-0.023463454097509,0.218081161379814));
return max(float4(0,0,0,0), res);
}
