sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.143130198121071,-0.273675918579102,-0.255663305521011,0.031651504337788,-0.222242161631584,-0.050953548401594,0.086823917925358,0.109723947942257,0.057034339755774,0.260745525360107,0.057434197515249,0.032850176095963,0.096764966845512,-0.035831209272146,0.001709542702883,0.058086760342121));
res += mul(Get(s0,-dx,0), float4x4(0.177921921014786,0.071810290217400,-0.016535084694624,0.068047240376472,-0.211344122886658,-0.035124570131302,-0.070911563932896,-0.000267914874712,-0.091198898851871,0.234275251626968,0.243717387318611,0.155558526515961,-0.004747090395540,-0.101649329066277,0.062727093696594,-0.152223765850067));
res += mul(Get(s0,-dx,dy), float4x4(-0.129767835140228,0.036321673542261,0.018602132797241,-0.150921583175659,-0.115380384027958,0.148568719625473,-0.229145511984825,0.049161292612553,-0.197919949889183,-0.054873265326023,-0.051862079650164,0.089929707348347,0.109997309744358,-0.149905607104301,0.096336089074612,-0.085507862269878));
res += mul(Get(s0,0,-dy), float4x4(0.062769435346127,-0.026254436001182,-0.200403466820717,-0.047856498509645,-0.004565827548504,0.063670888543129,-0.010177662596107,0.024224657565355,-0.144019082188606,0.169076710939407,-0.142143115401268,-0.119008809328079,0.084721140563488,0.049191191792488,0.043044172227383,-0.136846572160721));
res += mul(Get(s0,0,0), float4x4(0.045011542737484,0.134030625224113,-0.130059480667114,0.009318419732153,0.034155681729317,-0.089899599552155,-0.092423237860203,-0.013477894477546,0.080429792404175,0.079026497900486,0.289637625217438,-0.075926944613457,0.026608575135469,0.085640735924244,0.003036165377125,-0.016369517892599));
res += mul(Get(s0,0,dy), float4x4(0.049414865672588,-0.061876166611910,0.020988691598177,-0.099049620330334,-0.116668090224266,-0.094647042453289,0.068532459437847,0.167910873889923,0.031313508749008,-0.129875421524048,0.004091473761946,-0.227985650300980,0.181865289807320,0.039762623608112,0.008654994890094,-0.042019009590149));
res += mul(Get(s0,dx,-dy), float4x4(-0.117023520171642,-0.018288586288691,-0.046570785343647,-0.049058087170124,-0.063884221017361,0.118144303560257,0.003134141908959,-0.082643076777458,-0.025513269007206,-0.178037032485008,-0.005621253978461,-0.095376402139664,-0.014538259245455,0.044070057570934,-0.103940851986408,-0.055755514651537));
res += mul(Get(s0,dx,0), float4x4(0.094774223864079,-0.041647415608168,0.071084275841713,0.069799236953259,-0.078080348670483,-0.195457980036736,-0.001017070491798,0.099703483283520,0.052976287901402,0.049381934106350,-0.245378434658051,-0.083241641521454,0.182831153273582,0.142108723521233,0.098160684108734,-0.063972197473049));
res += mul(Get(s0,dx,dy), float4x4(-0.057659454643726,0.078176908195019,-0.070067338645458,-0.001403175876476,0.091945789754391,-0.100648462772369,-0.003674057545140,-0.146599784493446,0.233412861824036,-0.072483375668526,-0.049659725278616,-0.045635055750608,-0.097504444420338,-0.102528087794781,0.080340988934040,-0.046534944325686));
res += mul(Get(s1,-dx,-dy), float4x4(0.024927353486419,0.149646118283272,-0.089889205992222,-0.173271402716637,-0.031740818172693,0.023188732564449,-0.132146224379539,0.001208715722896,0.091583348810673,0.153596058487892,0.034385487437248,0.162917971611023,0.155166476964951,0.026381636038423,0.043586827814579,-0.037780746817589));
res += mul(Get(s1,-dx,0), float4x4(0.180047675967216,-0.056048657745123,-0.069175407290459,-0.167039409279823,-0.010659841820598,0.039797686040401,0.089262112975121,-0.015905363485217,0.121340118348598,-0.122248351573944,-0.041124016046524,-0.013955673202872,0.032282918691635,-0.083887673914433,0.166860952973366,0.113951519131660));
res += mul(Get(s1,-dx,dy), float4x4(0.016419118270278,-0.030728733167052,-0.057110872119665,-0.006416713818908,0.004739697091281,0.034979686141014,-0.135335192084312,0.171556606888771,0.110466308891773,-0.037481486797333,0.014324532821774,0.048871047794819,0.168277919292450,0.164156392216682,0.062970697879791,0.167566582560539));
res += mul(Get(s1,0,-dy), float4x4(0.104339331388474,-0.040136314928532,-0.063156403601170,0.002107694977894,0.081231787800789,0.121703639626503,-0.140258550643921,-0.002817032858729,-0.031298320740461,0.149567663669586,0.011102663353086,-0.038401372730732,0.059429526329041,0.019033042714000,-0.051704723387957,-0.002088348614052));
res += mul(Get(s1,0,0), float4x4(0.032921176403761,-0.071706451475620,-0.095840401947498,-0.024299802258611,0.015149504877627,-0.084949359297752,-0.042652368545532,0.015797290951014,0.194060772657394,0.071685194969177,-0.011874955147505,-0.015982903540134,-0.138575240969658,-0.072962500154972,0.158589318394661,-0.194547623395920));
res += mul(Get(s1,0,dy), float4x4(-0.007555957883596,0.016380827873945,-0.078621149063110,-0.113832615315914,0.054218478500843,0.120100729167461,0.001223675673828,0.018960168585181,0.048948518931866,0.045130923390388,-0.102494783699512,0.077567830681801,0.072162419557571,0.092229887843132,-0.008224003948271,-0.018686935305595));
res += mul(Get(s1,dx,-dy), float4x4(0.101798959076405,-0.160161450505257,-0.099653013050556,-0.110223479568958,-0.130005761981010,0.018060117959976,-0.283471465110779,-0.012088338844478,0.017837718129158,0.002903106622398,-0.055440831929445,-0.055659264326096,0.046467259526253,-0.023323465138674,0.174572914838791,-0.167721167206764));
res += mul(Get(s1,dx,0), float4x4(-0.135963946580887,0.018848001956940,-0.119310557842255,-0.012519245035946,0.102654136717319,0.017928492277861,0.024326378479600,-0.052787818014622,0.071471288800240,0.091997392475605,-0.133282497525215,0.017190383747220,0.130077391862869,-0.203624159097672,0.253705650568008,0.024762636050582));
res += mul(Get(s1,dx,dy), float4x4(0.074798107147217,-0.020742112770677,-0.038967736065388,0.164629176259041,0.071045517921448,-0.052068289369345,-0.047477014362812,-0.103850632905960,0.056345447897911,-0.008588987402618,0.001800153637305,-0.009557166136801,0.197652772068977,-0.060124658048153,-0.010889637283981,0.081400699913502));
res += mul(Get(s2,-dx,-dy), float4x4(-0.135273590683937,0.068739444017410,-0.206167250871658,0.197445333003998,-0.064254768192768,-0.142727613449097,-0.124385185539722,0.092229604721069,-0.251918435096741,-0.063927650451660,-0.033955778926611,-0.040376294404268,-0.048734355717897,0.069801650941372,-0.020371044054627,-0.028843579813838));
res += mul(Get(s2,-dx,0), float4x4(-0.014648237265646,-0.050662092864513,-0.044193752110004,0.199163511395454,0.139153987169266,-0.072399184107780,0.150197446346283,0.183950543403625,-0.022896956652403,0.031846530735493,0.109063953161240,0.091605275869370,-0.039927426725626,-0.040799438953400,-0.082984231412411,0.022967394441366));
res += mul(Get(s2,-dx,dy), float4x4(0.051296122372150,0.044000037014484,-0.042329594492912,-0.075493179261684,0.103577338159084,-0.029129981994629,-0.084296949207783,-0.209554716944695,0.020494269207120,-0.011318327859044,-0.151506602764130,0.103718742728233,-0.117039345204830,-0.173040196299553,-0.184649959206581,0.049112342298031));
res += mul(Get(s2,0,-dy), float4x4(0.117455162107944,0.076379142701626,0.079838193953037,-0.017933189868927,-0.059835497289896,-0.157570660114288,-0.058941047638655,-0.128597751259804,-0.093757383525372,0.016104700043797,-0.012163396924734,-0.128279030323029,0.004599145613611,0.100962646305561,-0.039942439645529,0.061023242771626));
res += mul(Get(s2,0,0), float4x4(0.063838616013527,-0.008039252832532,0.029387399554253,-0.001201106351800,0.045059844851494,0.030687926337123,-0.156676784157753,0.116918772459030,0.061914566904306,-0.031980961561203,-0.018446974456310,0.066626839339733,0.013870754279196,-0.052460391074419,-0.112336248159409,-0.025729896500707));
res += mul(Get(s2,0,dy), float4x4(-0.147222727537155,-0.030894933268428,0.250219285488129,-0.067343041300774,-0.146293222904205,-0.127748042345047,-0.028085073456168,0.008385034278035,0.189657866954803,-0.046016730368137,0.249197587370872,-0.129793390631676,-0.016342854127288,-0.072967782616615,-0.058719247579575,-0.022092361003160));
res += mul(Get(s2,dx,-dy), float4x4(-0.066732496023178,-0.117037355899811,0.076657481491566,0.070712395012379,0.033003050833941,0.034002039581537,0.018358681350946,-0.131403490900993,-0.050163749605417,0.028612062335014,0.195818796753883,0.025363804772496,-0.016928263008595,0.001580395270139,-0.115883186459541,0.093829132616520));
res += mul(Get(s2,dx,0), float4x4(0.137534275650978,0.027674490585923,0.251009821891785,-0.029907584190369,0.095777593553066,0.024573363363743,0.056012589484453,0.060608260333538,0.180406406521797,-0.042401146143675,0.031899549067020,-0.044170670211315,-0.078673116862774,0.077152468264103,-0.022632161155343,-0.058756675571203));
res += mul(Get(s2,dx,dy), float4x4(0.056481696665287,-0.058968309313059,-0.106927566230297,-0.087977729737759,0.065946884453297,-0.160949438810349,-0.020709464326501,0.099236197769642,-0.122396990656853,-0.114130713045597,-0.023458847776055,0.145864397287369,-0.025820164009929,-0.095421798527241,-0.112464189529419,-0.017011756077409));
res += mul(Get(s3,-dx,-dy), float4x4(-0.136837556958199,-0.050317596644163,-0.150113672018051,0.130799144506454,-0.168385609984398,0.049169752746820,0.139072343707085,-0.142953708767891,0.076209828257561,0.133266881108284,0.240188881754875,-0.038093678653240,-0.095358096063137,0.028617819771171,0.191432476043701,0.005388729274273));
res += mul(Get(s3,-dx,0), float4x4(-0.146037310361862,0.039741508662701,0.076669223606586,-0.018513606861234,0.009177419357002,0.197804063558578,0.165930569171906,-0.002555699553341,0.016314536333084,0.340798825025558,-0.024297468364239,-0.186015933752060,-0.235314100980759,-0.152766391634941,0.089840345084667,0.080897420644760));
res += mul(Get(s3,-dx,dy), float4x4(-0.097423098981380,0.093225441873074,0.044599805027246,-0.125162258744240,-0.005404454190284,0.136567145586014,0.095542103052139,-0.009480867534876,0.102550916373730,-0.027861682698131,-0.004577303770930,-0.170300006866455,-0.261534422636032,-0.039711728692055,-0.135335221886635,0.047611624002457));
res += mul(Get(s3,0,-dy), float4x4(0.097345903515816,-0.019269993528724,0.086544133722782,0.056461453437805,0.090269900858402,0.039678953588009,0.042774673551321,0.053628653287888,0.027554990723729,0.024119066074491,0.257247179746628,-0.132988363504410,0.035745579749346,0.011797888204455,0.009865858592093,-0.066606581211090));
res += mul(Get(s3,0,0), float4x4(-0.012234508991241,-0.046065948903561,0.038787886500359,0.118096485733986,0.184763118624687,0.096288658678532,-0.055495969951153,0.083384737372398,-0.055156491696835,0.041867431253195,0.062924228608608,0.060669932514429,0.181576773524284,-0.075977817177773,-0.014565519988537,0.059358436614275));
res += mul(Get(s3,0,dy), float4x4(-0.011068640276790,-0.001600194256753,-0.125237286090851,0.212677091360092,0.209304735064507,0.058854613453150,-0.047089416533709,-0.044646199792624,0.013775316998363,-0.133005321025848,0.107737593352795,0.121430695056915,-0.149372503161430,-0.032331831753254,0.133152022957802,-0.183157369494438));
res += mul(Get(s3,dx,-dy), float4x4(0.106958687305450,-0.130138754844666,0.031653862446547,-0.107609130442142,-0.004904191941023,0.049314428120852,0.043812040239573,-0.099146842956543,-0.029070945456624,-0.020200710743666,0.084661707282066,-0.135797441005707,-0.116357371211052,0.168759450316429,0.205245420336723,0.063349209725857));
res += mul(Get(s3,dx,0), float4x4(0.089254319667816,-0.162619173526764,0.031143730506301,-0.085441336035728,-0.038119610399008,-0.115362897515297,0.191489145159721,-0.067512959241867,-0.098920226097107,0.042822226881981,-0.006506314035505,0.142842024564743,0.040891252458096,-0.215944781899452,0.159355074167252,0.023643892258406));
res += mul(Get(s3,dx,dy), float4x4(0.289045244455338,0.024983394891024,-0.003294135443866,0.099215999245644,0.073667511343956,0.028471497818828,-0.020284993574023,-0.134834095835686,0.009832898154855,-0.004655574914068,-0.100246369838715,-0.036154240369797,-0.106152594089508,-0.142551764845848,-0.024195810779929,0.121781535446644));
return max(float4(0,0,0,0), res);
}
