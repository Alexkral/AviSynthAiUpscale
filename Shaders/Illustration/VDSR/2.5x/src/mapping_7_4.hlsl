sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.044884119182825,-0.088196329772472,0.074836850166321,-0.056894790381193,-0.119522869586945,0.117402091622353,-0.056353058665991,0.191585540771484,-0.037634029984474,0.074367262423038,-0.083118133246899,-0.006084433291107,0.079034067690372,0.049438141286373,-0.106502637267113,0.014079237356782));
res += mul(Get(s0,-dx,0), float4x4(0.025514785200357,-0.078109472990036,-0.179919734597206,-0.050876602530479,0.000120863864140,0.355667918920517,-0.077179029583931,0.063366413116455,0.022924222052097,0.130902051925659,-0.039355918765068,-0.145361065864563,0.063979856669903,0.203150853514671,-0.059755675494671,0.064980633556843));
res += mul(Get(s0,-dx,dy), float4x4(-0.110197402536869,-0.092101916670799,-0.021676572039723,-0.004286452196538,-0.058422196656466,-0.058962065726519,-0.014493874274194,0.005793855991215,0.339633285999298,-0.032794933766127,-0.125938355922699,0.016283575445414,-0.038743842393160,0.102086059749126,-0.015887707471848,-0.034691818058491));
res += mul(Get(s0,0,-dy), float4x4(0.003805256914347,-0.022959709167480,0.061621364206076,-0.043288446962833,0.082702249288559,0.090728625655174,0.140001043677330,-0.092950075864792,-0.034525606781244,0.110996209084988,-0.013040580786765,-0.006155776325613,0.190560951828957,-0.148006677627563,-0.037563826888800,-0.129191741347313));
res += mul(Get(s0,0,0), float4x4(0.229232445359230,-0.109878145158291,-0.068914219737053,-0.045339550822973,0.145622670650482,0.031467989087105,-0.061828780919313,-0.048149745911360,0.055466789752245,0.064752489328384,0.080637075006962,-0.016967764124274,0.047012075781822,0.085184574127197,0.026433516293764,-0.161643505096436));
res += mul(Get(s0,0,dy), float4x4(0.104202128946781,-0.150434494018555,-0.156801059842110,-0.051945924758911,0.065224945545197,0.009289875626564,-0.250244766473770,0.132357239723206,-0.041016045957804,-0.088916189968586,0.153032705187798,-0.057483907788992,0.022511867806315,-0.052265409380198,0.017207928001881,0.031604908406734));
res += mul(Get(s0,dx,-dy), float4x4(-0.062585264444351,0.124236635863781,-0.046898137778044,0.188891723752022,-0.083053462207317,0.125240251421928,-0.062493134289980,-0.179028123617172,0.208447620272636,-0.075002074241638,-0.191155523061752,-0.093378603458405,0.140471562743187,-0.102065838873386,0.034880816936493,-0.137465223670006));
res += mul(Get(s0,dx,0), float4x4(-0.085633158683777,-0.073610596358776,0.112663440406322,0.199865996837616,0.101002857089043,0.026472562924027,-0.039755355566740,-0.151570886373520,0.187756046652794,0.030585519969463,0.043584942817688,0.123158477246761,0.014951786957681,-0.124482013285160,-0.034753683954477,-0.070702850818634));
res += mul(Get(s0,dx,dy), float4x4(-0.141390025615692,-0.055550917983055,0.209572181105614,-0.031371247023344,-0.050519790500402,-0.087157897651196,-0.067232102155685,0.175192907452583,0.224100127816200,-0.048799786716700,0.141981333494186,0.092304803431034,-0.108488030731678,-0.209497228264809,0.020274881273508,0.059536747634411));
res += mul(Get(s1,-dx,-dy), float4x4(0.076849661767483,-0.044751103967428,-0.306950658559799,-0.010297953151166,-0.062584355473518,0.174224540591240,-0.142926216125488,0.062984228134155,-0.013199036009610,0.175309747457504,0.024730866774917,0.153214454650879,-0.063598237931728,-0.025815410539508,0.082906126976013,0.009252068586648));
res += mul(Get(s1,-dx,0), float4x4(-0.073880925774574,0.275166243314743,-0.406858593225479,0.080819703638554,0.022348711267114,-0.035905152559280,-0.069035388529301,0.035356324166059,-0.033359546214342,0.153521075844765,-0.151063427329063,0.059490554034710,0.062183238565922,0.274018615484238,-0.035875547677279,-0.004024961031973));
res += mul(Get(s1,-dx,dy), float4x4(-0.067720524966717,-0.029691642150283,-0.097251631319523,-0.000765654491261,-0.074040487408638,-0.019743369892240,-0.261316150426865,-0.037480961531401,-0.031948409974575,-0.007312466856092,0.093386597931385,0.008474565111101,-0.172588750720024,-0.040788728743792,0.052869554609060,-0.098506271839142));
res += mul(Get(s1,0,-dy), float4x4(-0.042670574039221,-0.066022261977196,0.262942314147949,-0.005381447728723,0.140144512057304,0.023740286007524,0.067777901887894,0.162046402692795,-0.173462256789207,-0.228418529033661,-0.041725400835276,0.491949796676636,-0.010914036072791,-0.039485856890678,0.194793030619621,-0.088223852217197));
res += mul(Get(s1,0,0), float4x4(-0.028311904519796,0.034397613257170,0.033716522157192,-0.135589689016342,0.039485350251198,-0.053581189364195,0.062956154346466,-0.238274186849594,-0.105755299329758,-0.011151962913573,-0.044737249612808,0.078411601483822,-0.045114390552044,0.075630851089954,-0.085167638957500,-0.069419540464878));
res += mul(Get(s1,0,dy), float4x4(0.230362638831139,-0.085033342242241,-0.114862993359566,-0.009569806046784,0.014331998303533,-0.027886886149645,-0.176217779517174,-0.150123998522758,-0.038705945014954,-0.147028341889381,-0.010796138085425,-0.065655156970024,-0.119481988251209,-0.041823282837868,-0.011492146179080,0.019677303731441));
res += mul(Get(s1,dx,-dy), float4x4(-0.051176037639380,0.137952014803886,0.050109017640352,0.057078182697296,0.256522864103317,0.031448453664780,0.048607278615236,0.104470379650593,-0.163551405072212,0.465915918350220,-0.066780723631382,0.406606942415237,0.016320092603564,-0.117275297641754,0.268285036087036,-0.106106780469418));
res += mul(Get(s1,dx,0), float4x4(-0.216547906398773,0.127165049314499,-0.187693893909454,0.117463320493698,0.147235646843910,-0.007174951490015,0.064553000032902,-0.223509117960930,-0.137108713388443,0.193180218338966,-0.043179646134377,0.036835305392742,-0.081300169229507,-0.032328542321920,0.074782557785511,-0.080105900764465));
res += mul(Get(s1,dx,dy), float4x4(-0.030960137024522,0.042016725987196,-0.233523651957512,0.114715613424778,-0.002439302159473,-0.032941244542599,-0.092503167688847,-0.153664901852608,-0.036825325340033,0.148332998156548,-0.162056639790535,0.169694989919662,0.004582555033267,-0.002129096072167,0.111307293176651,0.043858513236046));
res += mul(Get(s2,-dx,-dy), float4x4(0.007268831133842,-0.140233129262924,-0.001987485913560,0.278357028961182,-0.038390614092350,-0.022183066233993,0.086532585322857,-0.014932274818420,-0.033205129206181,-0.196268215775490,0.075736910104752,0.101497285068035,0.025621883571148,-0.057027112692595,0.188891604542732,-0.047605294734240));
res += mul(Get(s2,-dx,0), float4x4(-0.190236344933510,0.039262235164642,0.030727539211512,0.053093984723091,-0.036994066089392,0.037402763962746,0.141362592577934,-0.147704362869263,0.088755674660206,-0.015711093321443,0.348654627799988,-0.118974171578884,0.087772198021412,-0.078719094395638,0.098103098571301,0.156743600964546));
res += mul(Get(s2,-dx,dy), float4x4(0.009056452661753,-0.037175752222538,-0.009540840052068,-0.085328117012978,-0.051889020949602,0.261130899190903,-0.011455280706286,0.029940469190478,-0.012687577866018,-0.039642158895731,0.199465319514275,-0.174068793654442,0.017622632905841,-0.041609611362219,0.010794405825436,-0.046831533312798));
res += mul(Get(s2,0,-dy), float4x4(0.062165066599846,-0.196997925639153,0.076891884207726,-0.085354752838612,-0.063877075910568,-0.093916676938534,0.058705132454634,0.190979540348053,0.075021356344223,-0.041239086538553,0.225050330162048,-0.006543345283717,-0.219970867037773,-0.005429870449007,-0.002417201409116,0.096884675323963));
res += mul(Get(s2,0,0), float4x4(-0.072764061391354,-0.063337884843349,-0.017759297043085,-0.048653602600098,-0.072088129818439,0.021791066974401,0.138986140489578,-0.011224349029362,-0.061599709093571,-0.077640801668167,-0.017224935814738,-0.079926066100597,-0.106278643012047,-0.070770069956779,0.083510957658291,0.110308781266212));
res += mul(Get(s2,0,dy), float4x4(0.083876520395279,-0.118035607039928,0.094438068568707,-0.115923963487148,-0.034093663096428,0.239736154675484,-0.068506322801113,0.060699481517076,-0.035618606954813,0.197508096694946,-0.009611959569156,-0.097800195217133,0.009978407993913,-0.099424555897713,0.648042798042297,-0.069089293479919));
res += mul(Get(s2,dx,-dy), float4x4(-0.019221313297749,-0.172283276915550,0.043066103011370,-0.172871530056000,-0.132935419678688,-0.043328423053026,-0.118436627089977,0.280674815177917,0.133116945624352,0.055460367351770,0.111322097480297,-0.063164494931698,-0.164818108081818,0.065470777451992,-0.111415252089500,-0.119002215564251));
res += mul(Get(s2,dx,0), float4x4(-0.020261447876692,-0.088270559906960,-0.057753279805183,-0.102903082966805,-0.108707286417484,-0.087285369634628,-0.051730055361986,-0.096582457423210,0.011207658797503,-0.037397723644972,0.037572816014290,-0.121717281639576,-0.098147794604301,-0.054207511246204,-0.129954859614372,0.066148400306702));
res += mul(Get(s2,dx,dy), float4x4(-0.200595811009407,-0.170304358005524,0.141416490077972,0.242727980017662,-0.040329452604055,0.060633022338152,-0.173123344779015,-0.100580453872681,0.066283866763115,0.040836587548256,-0.067664198577404,-0.208446249365807,0.021661432459950,-0.107182979583740,0.293783813714981,-0.018171101808548));
res += mul(Get(s3,-dx,-dy), float4x4(-0.110920712351799,0.117893353104591,-0.105244137346745,0.021474948152900,-0.103374265134335,0.216638818383217,0.045396976172924,0.069873072206974,0.148364812135696,0.015160606242716,0.040952406823635,0.020978871732950,-0.161480620503426,0.180276885628700,-0.081177249550819,0.000964587088674));
res += mul(Get(s3,-dx,0), float4x4(-0.084115475416183,0.257846921682358,-0.088544256985188,-0.091517165303230,-0.158921718597412,0.191542670130730,-0.075323939323425,0.130664587020874,0.023290539160371,0.225350081920624,-0.091938830912113,0.137547120451927,-0.052401229739189,0.027544166892767,-0.125940784811974,-0.097034893929958));
res += mul(Get(s3,-dx,dy), float4x4(0.114327773451805,0.132318943738937,-0.107418358325958,-0.044875912368298,-0.086175203323364,0.267508953809738,-0.172718539834023,-0.077808260917664,0.106470227241516,-0.034942004829645,-0.016902474686503,0.046436861157417,-0.097151495516300,0.132934287190437,-0.158002912998199,0.038467302918434));
res += mul(Get(s3,0,-dy), float4x4(-0.260418623685837,-0.008995571173728,-0.068014644086361,0.077386103570461,-0.033094260841608,-0.004226981662214,0.041707482188940,-0.067986279726028,-0.000126990315039,0.148069009184837,0.175354436039925,-0.030477032065392,0.042365636676550,0.019206192344427,-0.010043676942587,-0.004120927769691));
res += mul(Get(s3,0,0), float4x4(-0.103077881038189,-0.049695268273354,-0.065878562629223,0.052424587309361,-0.144805207848549,0.090229377150536,0.032740827649832,-0.016436414793134,-0.048431292176247,-0.041519332677126,-0.053417015820742,0.058794148266315,0.118736490607262,-0.047607094049454,-0.051494717597961,0.070926062762737));
res += mul(Get(s3,0,dy), float4x4(-0.022167678922415,-0.038342393934727,-0.051950313150883,0.180458277463913,-0.256400167942047,0.196644008159637,-0.065946295857430,0.056618157774210,0.087677910923958,-0.011552376672626,0.076035149395466,-0.003068718127906,0.094282388687134,0.037392511963844,-0.095629237592220,0.173980399966240));
res += mul(Get(s3,dx,-dy), float4x4(-0.049435932189226,-0.080811813473701,0.125344112515450,0.024514762684703,0.131075918674469,-0.229618668556213,-0.146656736731529,-0.127166405320168,0.426744967699051,-0.015175840817392,0.152583837509155,-0.189465582370758,-0.071505963802338,0.015494380146265,0.184118062257767,0.064203090965748));
res += mul(Get(s3,dx,0), float4x4(-0.070726715028286,-0.002198713598773,0.172027200460434,0.047412473708391,0.177508369088173,-0.145999386906624,-0.028075391426682,-0.161367893218994,0.332219362258911,-0.131588265299797,-0.140303120017052,0.040128614753485,-0.011116144247353,-0.007563782390207,0.139804571866989,0.083383388817310));
res += mul(Get(s3,dx,dy), float4x4(0.002506949706003,0.036785528063774,-0.052764665335417,-0.037189435213804,0.118534505367279,-0.056066066026688,-0.094969011843204,0.004663731902838,0.245717033743858,-0.099110707640648,0.077527254819870,-0.072001449763775,-0.091883189976215,0.108426980674267,-0.056133139878511,-0.009867363609374));
return max(float4(0,0,0,0), res);
}
