sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.001280559459701,0.000550403317902,0.000845723203383,-0.001110015786253,-0.024942507967353,-0.232111439108849,-0.109549380838871,0.151120468974113,-0.052600663155317,0.062615506350994,0.013388509862125,-0.128343701362610,-0.049008451402187,0.321912288665771,-0.175786614418030,-0.055941231548786));
res += mul(Get(s0,-dx,0), float4x4(-0.001358161563985,0.001546579878777,0.001408036332577,0.002869835123420,0.195834308862686,-0.056286625564098,-0.082894928753376,0.145441323518753,-0.159859284758568,0.162757486104965,-0.052816987037659,-0.003255521180108,0.176322475075722,0.191783249378204,0.137814402580261,-0.045743335038424));
res += mul(Get(s0,-dx,dy), float4x4(-0.000692408357281,-0.001003220095299,0.000751516665332,-0.002009580843151,0.365867853164673,-0.141573324799538,-0.103412240743637,-0.259873121976852,-0.047382414340973,-0.180468335747719,0.086797833442688,0.021674342453480,0.417327523231506,-0.465153425931931,-0.011347781866789,-0.146340131759644));
res += mul(Get(s0,0,-dy), float4x4(0.000145349593367,-0.000704697100446,-0.000131738721393,-0.000058947473008,-0.075797066092491,0.041226077824831,-0.154714614152908,0.040905348956585,-0.030590353533626,0.116320729255676,0.155208274722099,-0.091672882437706,-0.221438229084015,-0.146634191274643,-0.229067742824554,-0.134236499667168));
res += mul(Get(s0,0,0), float4x4(0.000041068611608,-0.000993434805423,-0.000119772994367,-0.002302611945197,-0.153634756803513,0.261053532361984,-0.181899264454842,0.183397412300110,-0.000343234307365,-0.051701597869396,-0.012551672756672,-0.001931023783982,-0.351027786731720,0.067610397934914,0.046816095709801,-0.026623446494341));
res += mul(Get(s0,0,dy), float4x4(-0.001938027096912,0.001001800061204,0.000142462697113,-0.003305759280920,0.055235229432583,-0.045647941529751,-0.087462380528450,0.057384449988604,0.128521233797073,-0.119869403541088,0.029555343091488,-0.101703576743603,0.123930782079697,0.003626025747508,0.055307094007730,0.067207947373390));
res += mul(Get(s0,dx,-dy), float4x4(-0.002495453692973,0.002003157278523,0.000484666845296,-0.001277275383472,-0.068364068865776,0.007046506274492,0.077436320483685,-0.129853904247284,0.055223919451237,0.034832105040550,0.178449138998985,-0.127032384276390,0.045728750526905,-0.013063715770841,0.137749269604683,0.064545840024948));
res += mul(Get(s0,dx,0), float4x4(-0.000712239765562,0.000001549385843,-0.001085871714167,-0.001059272559360,-0.115124322474003,-0.011799477040768,0.048213146626949,-0.063426375389099,0.059585455805063,-0.025668498128653,0.166512221097946,-0.021032929420471,0.006161175668240,-0.156161785125732,0.031319078058004,-0.134156122803688));
res += mul(Get(s0,dx,dy), float4x4(0.000222281349124,0.001677794964053,-0.002331660594791,0.001312353182584,-0.040225263684988,-0.088348932564259,0.119789019227028,0.027567284181714,0.035328209400177,-0.185828521847725,0.017480066046119,-0.076623633503914,0.016677977517247,-0.024270024150610,-0.175821855664253,-0.111815631389618));
res += mul(Get(s1,-dx,-dy), float4x4(0.062148019671440,0.701098561286926,0.072657547891140,-0.199899196624756,-0.112509831786156,0.096348978579044,-0.041461817920208,-0.098612174391747,-0.011692519299686,-0.056023061275482,0.002248585922644,-0.040124278515577,-0.016902284696698,-0.189133197069168,0.025074031203985,-0.066910117864609));
res += mul(Get(s1,-dx,0), float4x4(-0.072164557874203,0.090060308575630,-0.069053173065186,0.238748103380203,0.053496442735195,0.005994888953865,-0.170587450265884,-0.136830091476440,-0.025723209604621,-0.066234923899174,-0.014723810367286,-0.010819382965565,-0.104691572487354,-0.086289368569851,-0.003081570146605,0.066182218492031));
res += mul(Get(s1,-dx,dy), float4x4(0.055371254682541,-0.073350973427296,-0.009962074458599,0.365714222192764,0.230131596326828,0.015315350145102,0.074715197086334,-0.096258476376534,-0.036625158041716,-0.040849912911654,-0.006938659586012,-0.015608172863722,-0.089003071188927,-0.080343075096607,-0.017161967232823,0.027906520292163));
res += mul(Get(s1,0,-dy), float4x4(-0.076455190777779,-0.243538409471512,0.077717348933220,-0.154825553297997,0.276393502950668,-0.114380314946175,0.131591543555260,-0.127170383930206,0.020875830203295,-0.028909182175994,-0.011609800159931,-0.006039259489626,0.077290259301662,-0.047340754419565,-0.023446988314390,-0.060437135398388));
res += mul(Get(s1,0,0), float4x4(0.186768576502800,-0.262961715459824,-0.198393553495407,-0.452084392309189,-0.159665003418922,-0.075834818184376,-0.020814495161176,0.024739298969507,0.004871306475252,-0.011400572955608,-0.024729086086154,-0.007372591644526,-0.149286627769470,0.141992598772049,0.053632091730833,0.001054578344338));
res += mul(Get(s1,0,dy), float4x4(0.090265944600105,-0.004864933900535,0.016985522583127,0.221107065677643,-0.125196948647499,0.279525905847549,0.051960822194815,0.110833257436752,-0.039975576102734,-0.000131395689095,-0.029833551496267,-0.014401885680854,-0.067477621138096,-0.092353917658329,0.009622335433960,0.016852198168635));
res += mul(Get(s1,dx,-dy), float4x4(-0.211688295006752,-0.164516538381577,-0.212422475218773,-0.125092998147011,0.010172893293202,0.022772109135985,-0.092157505452633,0.005792344920337,-0.017073862254620,0.037047937512398,0.004100873135030,0.009766116738319,0.166149601340294,-0.010108486749232,-0.108885399997234,0.015042163431644));
res += mul(Get(s1,dx,0), float4x4(-0.008055874146521,-0.092488020658493,-0.020473921671510,-0.227775514125824,-0.199097082018852,0.112924471497536,-0.201945811510086,0.050004377961159,-0.006890596821904,0.033819857984781,-0.000338836631272,0.009127295576036,-0.072581984102726,0.124128207564354,-0.040661066770554,0.002812580671161));
res += mul(Get(s1,dx,dy), float4x4(-0.099005348980427,0.129921823740005,0.189222991466522,0.243218854069710,0.139260575175285,-0.129287302494049,-0.078564554452896,-0.169684663414955,-0.008050892502069,0.024755205959082,-0.026043396443129,0.012918145395815,-0.009608236141503,-0.002945507876575,0.030862051993608,0.162348523736000));
res += mul(Get(s2,-dx,-dy), float4x4(0.019440617412329,0.010281868278980,0.024372391402721,-0.000974852591753,-0.004105226602405,0.028259024024010,-0.024617174640298,0.176855385303497,0.013947577215731,0.186912894248962,-0.046403978019953,0.043396443128586,-0.005622365977615,0.104923814535141,-0.078398145735264,-0.081364251673222));
res += mul(Get(s2,-dx,0), float4x4(0.056071706116199,0.016035575419664,-0.018688175827265,-0.023186407983303,0.011671349406242,0.141394570469856,0.030016856268048,0.144026964902878,-0.131779879331589,0.064055591821671,-0.038998976349831,-0.035829573869705,0.048418499529362,0.156544312834740,-0.003027869621292,0.005086950026453));
res += mul(Get(s2,-dx,dy), float4x4(-0.035466417670250,0.024885363876820,-0.037567924708128,-0.014350120909512,0.056240085512400,0.019204366952181,0.078038394451141,0.026272088289261,0.071226209402084,-0.060349032282829,-0.019386777654290,0.028530675917864,0.267976582050323,-0.088500581681728,0.032250765711069,-0.135220542550087));
res += mul(Get(s2,0,-dy), float4x4(0.030921021476388,-0.000162081487360,0.024861430749297,0.000663034152240,-0.063672907650471,0.133851215243340,-0.079535305500031,-0.044089816510677,0.103542737662792,-0.007396190892905,-0.010646188631654,0.041845045983791,-0.127514004707336,0.055499065667391,-0.060927569866180,-0.009030501358211));
res += mul(Get(s2,0,0), float4x4(0.054503154009581,0.009815447032452,-0.013040917925537,-0.020780628547072,-0.084812149405479,0.094002440571785,-0.036232173442841,0.032294277101755,0.084005668759346,-0.116130195558071,-0.034148767590523,0.050452150404453,-0.136774927377701,0.114217646420002,-0.055628620088100,0.083554446697235));
res += mul(Get(s2,0,dy), float4x4(-0.045716099441051,0.023835871368647,-0.029313493520021,-0.010425633750856,-0.085722781717777,0.011726433411241,0.104740664362907,0.002797626424581,0.018208691850305,0.011897631920874,-0.098990634083748,0.206259608268738,0.121650077402592,-0.070586867630482,0.002886322326958,0.009605309925973));
res += mul(Get(s2,dx,-dy), float4x4(0.033954340964556,0.005258112214506,0.017338097095490,0.003329969709739,-0.090923309326172,-0.008522736839950,0.058440327644348,-0.108697578310966,-0.007529529277235,-0.239133208990097,0.258292734622955,-0.207293853163719,-0.109915547072887,-0.139563843607903,0.103643722832203,-0.054994724690914));
res += mul(Get(s2,dx,0), float4x4(0.038230251520872,0.011472873389721,-0.019104089587927,-0.011706314049661,-0.055176429450512,-0.137152761220932,0.043106213212013,-0.053477741777897,0.000679542601574,-0.099912598729134,0.076758131384850,-0.147115394473076,-0.059915035963058,-0.147502705454826,-0.006414759438485,-0.048471841961145));
res += mul(Get(s2,dx,dy), float4x4(-0.040469393134117,0.024312721565366,-0.036671537905931,-0.004195943940431,-0.006558660417795,-0.069917730987072,0.097987920045853,-0.116316705942154,-0.058848433196545,-0.009090333245695,-0.079765282571316,-0.027732782065868,0.060355614870787,-0.098645143210888,-0.079174183309078,-0.066811807453632));
res += mul(Get(s3,-dx,-dy), float4x4(-0.273967117071152,0.410778701305389,-0.193309292197227,-0.015540478751063,0.000482158240629,-0.001577905612066,-0.001940252259374,-0.000230567369726,0.114372611045837,-0.026799362152815,0.105221308767796,0.005722433794290,-0.086237765848637,0.018702626228333,-0.030318051576614,-0.111022472381592));
res += mul(Get(s3,-dx,0), float4x4(-0.164650559425354,-0.215983688831329,-0.065623655915260,0.291894555091858,-0.000732526532374,0.000298129074508,-0.000275462254649,-0.001503543579020,-0.072610311210155,-0.000164645112818,0.064038120210171,0.121897824108601,-0.143125757575035,0.208050653338432,0.165829479694366,-0.026381071656942));
res += mul(Get(s3,-dx,dy), float4x4(0.189367145299911,0.046050399541855,0.013172642327845,0.288095891475677,0.000156742986292,-0.000986824510619,-0.001239798031747,0.002677962416783,-0.451598763465881,0.042285092175007,-0.150168448686600,-0.023096384480596,0.156069144606590,-0.205275580286980,0.101327136158943,-0.147964656352997));
res += mul(Get(s3,0,-dy), float4x4(-0.073798015713692,-0.093385554850101,0.187809675931931,-0.367988526821136,0.001278275041841,-0.001130966702476,-0.003027271013707,0.000623275875114,-0.022143399342895,0.035968665033579,0.037924114614725,0.033716656267643,-0.036791864782572,-0.263456076383591,0.007429997436702,0.032371580600739));
res += mul(Get(s3,0,0), float4x4(0.054639860987663,-0.063282735645771,-0.178460061550140,-0.077274665236473,0.001862414530478,-0.000469659076771,0.000595963094383,-0.001275424263440,0.264102131128311,0.067371636629105,-0.113374456763268,-0.048049610108137,-0.193509340286255,0.443198800086975,-0.220139801502228,-0.131965354084969));
res += mul(Get(s3,0,dy), float4x4(-0.011433709412813,-0.089039608836174,0.201612621545792,-0.029445154592395,0.001812950475141,-0.001589874853380,-0.001119526219554,-0.001785857952200,-0.177436769008636,-0.209142103791237,-0.056229740381241,-0.054116386920214,-0.124058656394482,-0.100911796092987,-0.081867612898350,-0.055544171482325));
res += mul(Get(s3,dx,-dy), float4x4(-0.111385993659496,-0.178705647587776,0.555221319198608,-0.105178989470005,0.001475596218370,0.000518532935530,0.000713818590157,0.000955872819759,-0.036165878176689,-0.056675750762224,0.042604129761457,0.033252164721489,0.045703902840614,0.379359006881714,-0.137662813067436,-0.118433117866516));
res += mul(Get(s3,dx,0), float4x4(-0.037133503705263,-0.220942005515099,0.144678577780724,0.230940386652946,0.002922474406660,0.001583519391716,0.001628547674045,-0.000206272859941,0.167383417487144,-0.044700916856527,-0.074585810303688,-0.043839849531651,-0.047771431505680,-0.211045399308205,-0.237120017409325,0.241776794195175));
res += mul(Get(s3,dx,dy), float4x4(-0.057406634092331,-0.089764229953289,0.242069363594055,-0.010332905687392,-0.000916729914024,-0.000648552901112,-0.001431043026969,-0.000459284521639,0.046221572905779,-0.041768599301577,0.029624195769429,0.050521440804005,0.032569997012615,0.023369148373604,0.157381162047386,-0.055410794913769));
return max(float4(0,0,0,0), res);
}
