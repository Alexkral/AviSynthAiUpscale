sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.123395167291164,0.053770709782839,-0.173830777406693,-0.169764131307602,0.165151819586754,-0.195182964205742,0.077054575085640,-0.063595823943615,0.064460001885891,-0.047085702419281,0.136823847889900,-0.017124041914940,-0.003231090027839,0.044959977269173,0.064320966601372,-0.180679440498352));
res += mul(Get(s0,-dx,0), float4x4(0.051934029906988,0.111024275422096,0.050859738141298,0.097394295036793,0.181515216827393,-0.048193398863077,-0.097352087497711,-0.064486064016819,0.071589924395084,0.093087971210480,-0.112778790295124,-0.007918262854218,-0.135641902685165,-0.076710850000381,-0.013771814294159,0.050959382206202));
res += mul(Get(s0,-dx,dy), float4x4(-0.022457983344793,-0.002817325992510,-0.100001923739910,0.147185787558556,0.170378476381302,0.102534063160419,-0.089639291167259,0.058195926249027,-0.089561633765697,-0.018978914245963,0.081060022115707,-0.147503256797791,-0.007094333879650,0.071229040622711,-0.019434284418821,-0.008408850990236));
res += mul(Get(s0,0,-dy), float4x4(-0.124496482312679,-0.165472716093063,0.147895380854607,0.034923221915960,-0.099394209682941,0.008639743551612,-0.068268410861492,0.102738767862320,0.168903216719627,-0.012142658233643,0.119731135666370,0.031094843521714,-0.176471576094627,0.004435099661350,0.049144495278597,0.020661119371653));
res += mul(Get(s0,0,0), float4x4(0.027548942714930,0.023519810289145,-0.071253992617130,0.200098589062691,0.032354295253754,-0.142834320664406,0.054517377167940,-0.030134320259094,-0.160726740956306,0.046858780086040,-0.187339037656784,0.029217300936580,0.054070539772511,-0.117821261286736,0.125993147492409,0.095838978886604));
res += mul(Get(s0,0,dy), float4x4(0.044122673571110,0.125484496355057,0.122627243399620,0.062362994998693,-0.037841830402613,0.052666191011667,0.178058549761772,-0.093591481447220,0.050232123583555,-0.066963732242584,-0.170258775353432,-0.040175758302212,0.008253423497081,0.147264406085014,0.290562450885773,-0.031294621527195));
res += mul(Get(s0,dx,-dy), float4x4(-0.162178754806519,0.081869296729565,0.057166431099176,-0.029254348948598,0.015525623224676,-0.115937992930412,-0.024748459458351,-0.119440287351608,0.119506008923054,0.013189450837672,0.170207798480988,0.090831711888313,0.022656632587314,-0.036116082221270,-0.051449600607157,0.189402788877487));
res += mul(Get(s0,dx,0), float4x4(-0.146976336836815,-0.221847280859947,0.034779839217663,-0.009105753153563,-0.042882926762104,-0.152885675430298,0.002394256647676,0.094748154282570,0.008849265053868,0.105183094739914,-0.055252663791180,-0.010370811447501,0.018321443349123,0.046659931540489,0.030957747250795,-0.048758652061224));
res += mul(Get(s0,dx,dy), float4x4(-0.097090214490891,-0.124847628176212,-0.137691721320152,0.008779034949839,-0.031701855361462,-0.023641178384423,0.143685013055801,0.051878385245800,-0.013601269572973,0.021520234644413,0.141182437539101,-0.104672998189926,0.023937284946442,-0.106512583792210,-0.126825362443924,0.114216722548008));
res += mul(Get(s1,-dx,-dy), float4x4(0.081188991665840,0.068127542734146,0.009478711523116,-0.207913428544998,-0.179915085434914,-0.125802367925644,0.073297902941704,0.012440146878362,0.105628587305546,-0.024409813806415,0.133193954825401,0.111916780471802,-0.015177697874606,-0.126323506236076,-0.236579760909081,-0.177381783723831));
res += mul(Get(s1,-dx,0), float4x4(-0.065592870116234,0.096052169799805,-0.150337994098663,-0.044075921177864,-0.056367885321379,0.055402029305696,-0.185905277729034,0.029334802180529,0.061304401606321,0.015729634091258,0.344899564981461,-0.130675941705704,-0.042061418294907,-0.019764276221395,0.112612262368202,-0.226014524698257));
res += mul(Get(s1,-dx,dy), float4x4(0.006586268078536,-0.075405582785606,-0.047245886176825,-0.021277669817209,-0.024029361084104,0.057701453566551,-0.020007224753499,-0.048208348453045,0.134152233600616,0.025056639686227,-0.165673539042473,0.101573646068573,0.041382402181625,0.062375634908676,-0.045192174613476,-0.020910946652293));
res += mul(Get(s1,0,-dy), float4x4(0.126613304018974,0.090311609208584,-0.021703012287617,-0.090315252542496,-0.019049309194088,0.037819374352694,-0.249709472060204,0.133693411946297,-0.035464987158775,-0.144774541258812,-0.123442955315113,-0.012897498905659,0.039174966514111,-0.090292274951935,-0.138043865561485,0.085544459521770));
res += mul(Get(s1,0,0), float4x4(-0.062555439770222,0.138257756829262,-0.000016368985598,0.081786572933197,-0.199216842651367,0.138863131403923,0.013304814696312,0.084404304623604,0.016990294679999,-0.160191550850868,-0.106935560703278,-0.055934250354767,-0.053831592202187,-0.045135483145714,0.025504967197776,-0.150703772902489));
res += mul(Get(s1,0,dy), float4x4(0.070760995149612,0.033114697784185,-0.073336362838745,0.002877070102841,0.027871321886778,0.222339391708374,0.061807297170162,-0.023433927446604,-0.109738133847713,-0.177850037813187,-0.033744048327208,-0.038047276437283,-0.135647594928741,0.116737790405750,0.040803663432598,0.099036663770676));
res += mul(Get(s1,dx,-dy), float4x4(0.001100563560612,0.000369618879631,-0.274376422166824,-0.004745772574097,-0.032981857657433,0.131743654608727,-0.063718922436237,0.171069160103798,-0.040974896401167,0.064403660595417,0.041424129158258,-0.010158715769649,-0.112564779818058,0.014280362054706,0.089980691671371,0.003636419773102));
res += mul(Get(s1,dx,0), float4x4(-0.159951195120811,0.166802465915680,-0.103262275457382,-0.051167037338018,-0.046149447560310,0.065483257174492,-0.018215771764517,0.187684625387192,0.140022441744804,-0.007519714999944,0.097966998815536,0.126489326357841,0.185107231140137,-0.018418248742819,-0.210683494806290,0.110336758196354));
res += mul(Get(s1,dx,dy), float4x4(-0.167556360363960,0.300191432237625,0.074134700000286,-0.128159403800964,0.104399524629116,-0.074085198342800,-0.047497741878033,-0.020357331261039,-0.050856284797192,-0.140573039650917,0.172496691346169,0.103128418326378,-0.060052696615458,-0.080784931778908,-0.147239848971367,-0.248507335782051));
res += mul(Get(s2,-dx,-dy), float4x4(0.170100197196007,0.130338057875633,0.032058283686638,-0.174502059817314,0.084122285246849,-0.046929199248552,-0.174347251653671,0.116032473742962,-0.085874035954475,-0.021000789478421,-0.158586934208870,-0.134296000003815,-0.036116655915976,-0.099963128566742,0.015277232974768,0.033414058387280));
res += mul(Get(s2,-dx,0), float4x4(-0.114029750227928,0.036514129489660,0.048073180019855,0.031090695410967,-0.082116618752480,0.253879487514496,0.060723155736923,0.017334377393126,0.138671472668648,0.210295885801315,-0.136793062090874,0.173096269369125,0.017987640574574,0.085783392190933,-0.053778208792210,0.043893266469240));
res += mul(Get(s2,-dx,dy), float4x4(0.026285149157047,0.090285100042820,0.044816628098488,0.022659577429295,-0.145680412650108,0.046823523938656,-0.024300124496222,-0.065251298248768,-0.046809643507004,0.093253389000893,-0.090271607041359,0.023047901690006,0.145170226693153,0.266096293926239,0.020690575242043,-0.101642943918705));
res += mul(Get(s2,0,-dy), float4x4(0.215568825602531,0.034568332135677,-0.034175708889961,-0.082512788474560,0.027100946754217,-0.256266653537750,0.012372161261737,0.060813579708338,0.101558938622475,-0.174906358122826,0.088640943169594,0.009397434070706,0.068275287747383,-0.092687316238880,-0.005605790764093,0.017288666218519));
res += mul(Get(s2,0,0), float4x4(-0.005172051023692,-0.026900894939899,0.005392209626734,0.138026818633080,0.192697629332542,-0.004043362569064,-0.073887921869755,-0.166849285364151,-0.006993013434112,0.104684598743916,-0.070030726492405,0.115656636655331,0.002835872815922,-0.039411082863808,-0.111848458647728,-0.076265163719654));
res += mul(Get(s2,0,dy), float4x4(0.018166575580835,0.172455042600632,0.080306634306908,0.128895699977875,-0.198445051908493,-0.142981201410294,-0.035329319536686,0.061570379883051,-0.091869756579399,0.127066358923912,0.142896249890327,0.064607225358486,-0.137993261218071,-0.031807757914066,-0.058709830045700,0.028717068955302));
res += mul(Get(s2,dx,-dy), float4x4(0.084706529974937,0.232644543051720,-0.280809253454208,0.161916613578796,0.078875780105591,-0.009547111578286,0.004037634469569,-0.120151020586491,-0.007619713433087,-0.039163772016764,0.233314841985703,-0.092717997729778,-0.042590375989676,-0.058283124119043,-0.015418995171785,-0.074217207729816));
res += mul(Get(s2,dx,0), float4x4(-0.121949538588524,0.158220559358597,0.035452824085951,0.149976611137390,0.016129966825247,-0.006359704304487,-0.030811725184321,-0.067730136215687,-0.107792168855667,-0.179853290319443,0.110836200416088,0.065358437597752,-0.179492324590683,0.176506936550140,0.062397275120020,0.113494701683521));
res += mul(Get(s2,dx,dy), float4x4(-0.053136661648750,0.076388038694859,-0.117809206247330,-0.116834491491318,0.175105914473534,0.098559483885765,0.125948488712311,-0.176326408982277,-0.194680780172348,-0.070207558572292,0.054224237799644,0.062313467264175,0.047432377934456,-0.042268235236406,0.146934702992439,-0.081339232623577));
res += mul(Get(s3,-dx,-dy), float4x4(0.190957099199295,0.083100996911526,0.049784407019615,-0.194203183054924,-0.182308062911034,0.001077118911780,0.088031396269798,-0.004205936565995,-0.193918958306313,-0.083215184509754,0.003202698891982,-0.176949843764305,-0.072561874985695,-0.068523965775967,0.059422940015793,0.149426966905594));
res += mul(Get(s3,-dx,0), float4x4(-0.166339233517647,-0.014185586012900,0.147501513361931,-0.267984271049500,0.077986545860767,-0.084093295037746,0.056711070239544,-0.183240100741386,0.089101076126099,0.101099669933319,-0.144193544983864,0.069350041449070,0.027055175974965,-0.086298935115337,-0.085810236632824,0.110015347599983));
res += mul(Get(s3,-dx,dy), float4x4(-0.123248390853405,-0.177872702479362,-0.051878396421671,-0.212238058447838,0.094414830207825,0.111463785171509,-0.048051297664642,0.072981297969818,-0.061184719204903,0.200034976005554,0.049820665270090,0.007836150936782,-0.107282854616642,-0.012808352708817,-0.095513284206390,-0.165849342942238));
res += mul(Get(s3,0,-dy), float4x4(0.200322315096855,0.234762698411942,0.141196325421333,-0.033025834709406,0.035543709993362,-0.086925424635410,0.143934503197670,-0.009001675993204,-0.150564700365067,-0.276434868574142,0.121821165084839,-0.114851005375385,-0.002383037703112,0.023312792181969,0.117270670831203,0.054374396800995));
res += mul(Get(s3,0,0), float4x4(-0.193173289299011,0.156382083892822,0.129120901226997,0.066670246422291,-0.072021946310997,0.042424295097589,0.121767684817314,-0.037058703601360,0.229133203625679,0.018269592896104,-0.000056317188864,-0.048350941389799,-0.027771197259426,0.128512874245644,0.169314533472061,0.093586258590221));
res += mul(Get(s3,0,dy), float4x4(-0.137955397367477,-0.007789660710841,0.008841737173498,-0.004681034479290,-0.139496743679047,0.135105028748512,0.064267404377460,-0.081596933305264,-0.002167829778045,0.142585530877113,-0.056827276945114,-0.054824542254210,-0.170848682522774,-0.153869569301605,0.058628398925066,0.022978726774454));
res += mul(Get(s3,dx,-dy), float4x4(0.013508745469153,0.047691658139229,-0.005778762046248,0.065236851572990,-0.110491827130318,0.076122723519802,-0.184034362435341,0.153563380241394,0.039716657251120,-0.081593357026577,0.098397672176361,-0.003956892527640,-0.172096610069275,0.043111748993397,-0.163223475217819,0.033247627317905));
res += mul(Get(s3,dx,0), float4x4(-0.117483474314213,0.009189710021019,-0.020658336579800,-0.035447012633085,-0.002307835733518,0.174924999475479,-0.007216554600745,0.028221497312188,0.145522385835648,-0.003795282915235,0.028538599610329,-0.135769024491310,-0.042703304439783,0.182055547833443,-0.053652077913284,0.112869739532471));
res += mul(Get(s3,dx,dy), float4x4(-0.133875384926796,0.040211383253336,-0.138666555285454,-0.042423490434885,-0.071749702095985,0.014264326542616,0.082293987274170,-0.017396667972207,-0.000410696084145,0.064574025571346,-0.072678916156292,-0.073666863143444,0.053456705063581,-0.018651349470019,0.041805099695921,-0.014515124261379));
return max(float4(0,0,0,0), res);
}
