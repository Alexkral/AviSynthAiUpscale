sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.080753020942211,0.052182324230671,0.018405437469482,0.087787896394730,0.184103459119797,0.057630904018879,0.028135534375906,0.046623472124338,-0.027243424206972,-0.121777616441250,-0.150177285075188,-0.056097291409969,-0.111026071012020,0.123800031840801,-0.128695189952850,-0.080888375639915));
res += mul(Get(s0,-dx,0), float4x4(0.015913141891360,0.019372550770640,-0.032311230897903,0.154065102338791,0.185980275273323,-0.017918400466442,0.247914627194405,0.021418452262878,0.207739949226379,-0.087437294423580,-0.166972041130066,-0.058205302804708,-0.080911517143250,-0.012529410421848,-0.024726284667850,-0.125201478600502));
res += mul(Get(s0,-dx,dy), float4x4(0.035723302513361,0.013882088474929,0.129586890339851,0.114903248846531,0.087711773812771,-0.058909036219120,0.090220868587494,-0.042110629379749,-0.086276419460773,-0.172436788678169,-0.196432501077652,-0.150034889578819,0.262519150972366,0.102582231163979,0.023771706968546,0.022053882479668));
res += mul(Get(s0,0,-dy), float4x4(-0.004782425705343,0.072634719312191,-0.043474365025759,0.050828393548727,0.029245203360915,0.111160919070244,-0.019010305404663,-0.009798614308238,0.054333601146936,0.018407331779599,0.056246832013130,0.193585604429245,-0.117806747555733,-0.141392871737480,-0.136983290314674,0.115765288472176));
res += mul(Get(s0,0,0), float4x4(-0.062953412532806,0.189376503229141,-0.042626988142729,0.034828394651413,0.134694591164589,-0.152489006519318,-0.057616252452135,-0.270860910415649,0.055134516209364,-0.089781716465950,0.188130453228951,0.171304419636726,0.043945111334324,-0.156459197402000,-0.114393763244152,-0.133912906050682));
res += mul(Get(s0,0,dy), float4x4(-0.076076611876488,0.176950976252556,0.014903857372701,-0.015592114068568,-0.072001866996288,-0.067563965916634,0.031735528260469,-0.153746813535690,-0.012913560494781,0.011666806414723,0.124696098268032,-0.064763471484184,0.022600008174777,0.158513471484184,-0.059147253632545,-0.069006308913231));
res += mul(Get(s0,dx,-dy), float4x4(0.383821845054626,0.111893199384212,-0.015421312302351,-0.047691084444523,0.061510182917118,-0.066951923072338,-0.082429088652134,0.135149300098419,-0.034160375595093,-0.068086288869381,-0.035396363586187,0.136545330286026,-0.005250737536699,-0.053434457629919,-0.159291788935661,-0.075964458286762));
res += mul(Get(s0,dx,0), float4x4(0.183169290423393,0.048361472785473,-0.037973951548338,-0.014805904589593,0.110398136079311,-0.036313243210316,0.029215285554528,-0.172228842973709,-0.010135791264474,-0.110629156231880,0.096040263772011,0.076468415558338,-0.122946202754974,-0.063383184373379,0.025305945426226,-0.280206620693207));
res += mul(Get(s0,dx,dy), float4x4(0.039061255753040,0.192974492907524,0.020462907850742,-0.135274887084961,-0.008384127169847,-0.161332279443741,0.065933004021645,-0.156846627593040,0.113711833953857,-0.114740319550037,0.090523652732372,0.055669151246548,0.095566600561142,0.219247728586197,-0.032833345234394,-0.155596300959587));
res += mul(Get(s1,-dx,-dy), float4x4(-0.136113956570625,-0.019648289307952,-0.159047409892082,0.143774271011353,-0.120252318680286,0.101181954145432,-0.037465173751116,-0.076512940227985,0.010718076489866,0.013898526318371,0.135546982288361,0.041942134499550,0.149357423186302,0.102973125874996,0.065918624401093,0.229600548744202));
res += mul(Get(s1,-dx,0), float4x4(0.063326746225357,-0.027372740209103,0.109707556664944,0.311487644910812,-0.097929336130619,0.172420248389244,-0.106287941336632,-0.195834040641785,0.039648365229368,0.025507062673569,-0.071109771728516,-0.040031757205725,0.063521884381771,-0.068687245249748,0.449491024017334,0.054558873176575));
res += mul(Get(s1,-dx,dy), float4x4(-0.201899275183678,-0.116653382778168,-0.039702381938696,0.226409852504730,-0.013760661706328,0.208546921610832,-0.033450491726398,-0.098110936582088,0.108647108078003,0.032042007893324,-0.033418890088797,-0.143063530325890,0.117678992450237,-0.004326972179115,0.183555260300636,0.077173605561256));
res += mul(Get(s1,0,-dy), float4x4(-0.269089221954346,-0.157967239618301,0.100743718445301,0.266712039709091,-0.177991673350334,0.004753654357046,-0.009279733523726,0.020515330135822,0.029716240242124,-0.030309131368995,0.178885310888290,0.108101256191730,0.214571699500084,-0.049965422600508,-0.051510285586119,0.060830052942038));
res += mul(Get(s1,0,0), float4x4(0.002934168325737,-0.141144677996635,-0.021483950316906,-0.065082959830761,-0.055689129978418,-0.067140825092793,0.092093400657177,-0.053834915161133,-0.114974111318588,0.009334890171885,0.018196096643806,0.094418197870255,-0.003821675665677,-0.106668166816235,-0.053863406181335,-0.070107400417328));
res += mul(Get(s1,0,dy), float4x4(-0.107686422765255,-0.190440654754639,-0.096718832850456,-0.020111991092563,0.030437467619777,0.319927185773849,-0.042413171380758,-0.011308061890304,0.070404008030891,-0.000740239629522,-0.041442275047302,-0.003207377856597,0.125502273440361,-0.053889580070972,-0.064165338873863,-0.106221973896027));
res += mul(Get(s1,dx,-dy), float4x4(-0.280939370393753,-0.186129331588745,-0.066836200654507,-0.143924653530121,0.009038847871125,0.126262173056602,0.107373505830765,-0.002950317924842,-0.021509418264031,-0.040522299706936,0.282079011201859,0.081720404326916,0.126935526728630,0.080203413963318,-0.149922966957092,0.132509484887123));
res += mul(Get(s1,dx,0), float4x4(0.005641381721944,-0.101126417517662,-0.118212088942528,0.001555292285047,0.262115001678467,0.245754688978195,0.004530106671154,0.028643120080233,-0.149421378970146,-0.120705753564835,0.095548808574677,0.191092938184738,-0.023041535168886,0.005709521006793,-0.074967950582504,0.058560054749250));
res += mul(Get(s1,dx,dy), float4x4(0.109198234975338,-0.167662724852562,-0.096354223787785,-0.148686945438385,0.145825505256653,0.318179130554199,0.045295219868422,0.087388753890991,-0.128720656037331,-0.160017594695091,0.116623669862747,0.046120021492243,0.113369040191174,0.083312131464481,-0.075440049171448,0.130959093570709));
res += mul(Get(s2,-dx,-dy), float4x4(0.240021035075188,0.092763848602772,-0.043358057737350,0.233457431197166,0.166774258017540,0.120235823094845,0.060343254357576,0.029132792726159,0.133141309022903,0.067294828593731,0.159524857997894,-0.060319367796183,0.006889611482620,0.021467719227076,-0.077210634946823,-0.055452782660723));
res += mul(Get(s2,-dx,0), float4x4(0.234577074646950,-0.005849326495081,-0.068290732800961,0.421807616949081,0.037300962954760,0.072856977581978,0.188170865178108,-0.107768706977367,-0.018704973161221,0.249333128333092,0.051578946411610,0.032329823821783,-0.031057721003890,-0.009565026499331,0.197949588298798,-0.079744927585125));
res += mul(Get(s2,-dx,dy), float4x4(-0.120156742632389,0.044312123209238,0.219570830464363,-0.089985631406307,0.059194244444370,0.006611248478293,-0.002826159587130,-0.097607992589474,-0.058078512549400,-0.027775626629591,0.229074493050575,-0.035466097295284,0.201024860143661,0.221099466085434,0.013506134040654,0.105470940470695));
res += mul(Get(s2,0,-dy), float4x4(-0.093868501484394,-0.057909052819014,-0.043698150664568,0.039604056626558,0.103819414973259,0.218581020832062,-0.138192266225815,-0.072135254740715,0.093695081770420,-0.082182653248310,0.010252365842462,-0.133244290947914,0.074782423675060,0.047158040106297,-0.046951569616795,-0.069686047732830));
res += mul(Get(s2,0,0), float4x4(0.062813766300678,-0.083225831389427,-0.040467754006386,-0.007534915581346,-0.052083153277636,0.032912883907557,-0.001065531047061,-0.001698352745734,-0.092784382402897,0.212112843990326,-0.061794996261597,0.009302049875259,0.104317881166935,0.026449983939528,0.039424169808626,-0.156250804662704));
res += mul(Get(s2,0,dy), float4x4(-0.111762635409832,-0.090516939759254,0.190153986215591,0.062256954610348,-0.041496932506561,-0.037160784006119,-0.196464449167252,-0.048150289803743,-0.012923490256071,-0.189018666744232,0.165079444646835,-0.065436229109764,0.094134137034416,0.118784256279469,-0.100225687026978,-0.033079270273447));
res += mul(Get(s2,dx,-dy), float4x4(-0.029601732268929,-0.043907806277275,0.077127091586590,-0.146876081824303,0.047555357217789,0.232395693659782,-0.059098258614540,-0.054596569389105,0.009952663443983,-0.010960046201944,0.280817389488220,-0.214363098144531,0.254815995693207,0.154081031680107,-0.032539237290621,-0.032290223985910));
res += mul(Get(s2,dx,0), float4x4(-0.082799851894379,0.035278432071209,0.067052215337753,-0.111392028629780,-0.077346317470074,0.169687345623970,0.179032087326050,0.050241239368916,-0.065249159932137,0.046560645103455,-0.067890800535679,-0.091591149568558,0.150813087821007,-0.096569739282131,-0.023712456226349,-0.266830146312714));
res += mul(Get(s2,dx,dy), float4x4(-0.131167858839035,0.077910535037518,0.209021121263504,-0.225352436304092,0.252819687128067,0.046295270323753,0.030172893777490,-0.008766232058406,0.062105588614941,-0.196662142872810,-0.041353765875101,0.098298147320747,0.069118455052376,0.025241982191801,-0.088193714618683,-0.094734638929367));
res += mul(Get(s3,-dx,-dy), float4x4(-0.025109594687819,0.144350737333298,-0.175490856170654,0.066905565559864,-0.156227678060532,-0.121009260416031,0.144257918000221,0.117518499493599,-0.090628765523434,0.142202094197273,-0.010367155075073,0.336850285530090,-0.068959064781666,0.151253670454025,-0.172370284795761,-0.129098519682884));
res += mul(Get(s3,-dx,0), float4x4(0.087068706750870,-0.216457068920135,0.052730269730091,-0.071021057665348,0.022595606744289,0.127555415034294,0.163698285818100,0.152492344379425,-0.046617809683084,0.103692471981049,0.018680995330215,0.237335234880447,-0.162878796458244,-0.139910757541656,0.212764412164688,0.058563426136971));
res += mul(Get(s3,-dx,dy), float4x4(-0.006036966107786,0.153140187263489,-0.100568518042564,0.048001803457737,0.100503139197826,0.317401379346848,0.089523673057556,0.336815655231476,0.024531768634915,0.006992631591856,-0.017218001186848,-0.033886268734932,-0.061539288610220,-0.083394140005112,-0.020025204867125,-0.078487090766430));
res += mul(Get(s3,0,-dy), float4x4(-0.067508324980736,0.176292866468430,-0.021968860179186,0.023927988484502,-0.019938489422202,-0.063655480742455,0.224887594580650,0.119094498455524,0.076787881553173,0.047226019203663,0.013357277959585,0.095644362270832,0.065120093524456,0.056333441287279,-0.183458805084229,0.000410654902225));
res += mul(Get(s3,0,0), float4x4(0.096481844782829,0.028954280540347,0.033537618815899,0.015571206808090,-0.029582677409053,0.108701698482037,0.048095706850290,0.047374941408634,0.075598187744617,0.027320226654410,-0.046871751546860,-0.040214288979769,-0.062059022486210,-0.007393341977149,0.010607132688165,0.180127218365669));
res += mul(Get(s3,0,dy), float4x4(-0.092341572046280,0.010874246247113,-0.044127304106951,0.030367793515325,-0.078730113804340,0.375128835439682,-0.005273296497762,0.079492531716824,-0.044572111219168,-0.034546691924334,-0.088923364877701,-0.168161481618881,0.080320350825787,-0.016571478918195,-0.005821765400469,-0.034603592008352));
res += mul(Get(s3,dx,-dy), float4x4(-0.140403032302856,-0.136720061302185,-0.155767425894737,-0.013244872912765,-0.203466519713402,-0.087740615010262,0.209069728851318,-0.164458304643631,-0.046602278947830,-0.062958747148514,0.021474886685610,-0.089628860354424,0.108385786414146,0.048971533775330,-0.131281897425652,-0.030909467488527));
res += mul(Get(s3,dx,0), float4x4(-0.100384078919888,-0.187951639294624,-0.075433462858200,-0.065411239862442,-0.210964635014534,0.158289730548859,0.054490603506565,0.115186080336571,-0.053106654435396,-0.120175734162331,0.024910252541304,-0.080260142683983,0.149166688323021,-0.031978182494640,-0.028552895411849,-0.028024243190885));
res += mul(Get(s3,dx,dy), float4x4(0.171998694539070,0.008980359882116,-0.104958929121494,0.004072388634086,-0.063072599470615,0.095082946121693,-0.086685806512833,0.105903528630733,-0.166341871023178,-0.237074002623558,0.033894974738359,-0.125211358070374,-0.061114605516195,-0.052932303398848,-0.086927264928818,0.050707820802927));
return max(float4(0,0,0,0), res);
}
