sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.021488556638360,0.147395074367523,-0.078406788408756,-0.085817970335484,0.272124558687210,-0.061873987317085,-0.175129160284996,0.005639005918056,-0.100475013256073,0.110415637493134,-0.269556641578674,0.051401693373919,-0.070629164576530,0.118039749562740,-0.004230177495629,0.185792252421379));
res += mul(Get(s0,-dx,0), float4x4(-0.127530962228775,0.310473680496216,-0.055765371769667,-0.084677651524544,0.231715738773346,-0.056819707155228,0.140914112329483,-0.018298823386431,-0.184948891401291,-0.103294119238853,-0.100636191666126,-0.061545334756374,-0.226346701383591,0.028983017429709,0.039629183709621,0.063669972121716));
res += mul(Get(s0,-dx,dy), float4x4(-0.011859755031765,0.215390458703041,-0.110764168202877,-0.024856310337782,-0.000071831491368,-0.137733131647110,-0.075636610388756,0.056046694517136,-0.215628936886787,-0.100581876933575,-0.023911228403449,0.087417103350163,-0.220946922898293,-0.029613312333822,-0.103160321712494,0.101580433547497));
res += mul(Get(s0,0,-dy), float4x4(0.009494647383690,-0.009985899552703,0.093490943312645,-0.012769042514265,0.171421915292740,0.108363986015320,-0.204861789941788,-0.019750256091356,-0.230887100100517,0.049707971513271,-0.211019814014435,-0.049929928034544,-0.039947561919689,0.050453316420317,0.058053575456142,-0.140055060386658));
res += mul(Get(s0,0,0), float4x4(0.151299744844437,-0.086878374218941,-0.019885547459126,-0.141383811831474,0.071711227297783,-0.089265815913677,0.158801183104515,-0.088885292410851,-0.096864804625511,0.069411531090736,0.073982484638691,-0.104169100522995,-0.120765209197998,-0.008196653798223,0.236599206924438,-0.147610932588577));
res += mul(Get(s0,0,dy), float4x4(0.061324946582317,0.076578587293625,-0.026783609762788,0.086806207895279,0.127539709210396,-0.013907201588154,0.039565563201904,-0.034936141222715,-0.172977447509766,-0.064118914306164,0.130756884813309,-0.028047688305378,-0.004360722843558,-0.107570350170135,-0.077672794461250,-0.024063125252724));
res += mul(Get(s0,dx,-dy), float4x4(-0.063023924827576,-0.011431760154665,-0.097409300506115,0.095323480665684,-0.224312618374825,-0.093956045806408,-0.092542782425880,-0.058796502649784,-0.244501501321793,-0.010645920410752,-0.214653521776199,-0.127894431352615,-0.079206697642803,0.271394312381744,0.085317961871624,0.028582815080881));
res += mul(Get(s0,dx,0), float4x4(-0.007351744920015,0.032741144299507,0.026734214276075,-0.016416154801846,-0.052779082208872,-0.111163876950741,0.030894583091140,0.029997101053596,0.149888351559639,0.456956952810287,0.061486162245274,-0.065962605178356,0.156098693609238,0.161901384592056,0.159134373068810,-0.082285031676292));
res += mul(Get(s0,dx,dy), float4x4(-0.017998399212956,0.072810687124729,0.138766735792160,-0.036407928913832,0.179017215967178,0.110045582056046,0.023348705843091,0.001054847147316,0.076870948076248,0.095863066613674,-0.044532705098391,0.003881412791088,0.210259929299355,-0.038699392229319,-0.181274592876434,0.121149018406868));
res += mul(Get(s1,-dx,-dy), float4x4(0.013734430074692,-0.085127621889114,0.070400327444077,-0.115208469331264,-0.004106492269784,0.009080730378628,0.132205933332443,0.138065487146378,-0.088251493871212,0.059715863317251,-0.248604312539101,0.343887358903885,-0.092919528484344,0.115008704364300,-0.031635187566280,-0.201981261372566));
res += mul(Get(s1,-dx,0), float4x4(-0.009260622784495,0.025465859100223,0.112702056765556,-0.119115404784679,-0.003612687578425,0.022375881671906,0.300439357757568,-0.072937756776810,-0.166234001517296,-0.046837486326694,0.331481277942657,0.029566574841738,-0.077878676354885,0.099793195724487,0.060420095920563,-0.031026998534799));
res += mul(Get(s1,-dx,dy), float4x4(-0.087828055024147,-0.015904922038317,-0.082265444099903,0.140234172344208,-0.011253321543336,0.021953614428639,0.000210707803490,-0.090014785528183,-0.045746207237244,0.116536170244217,0.118483752012253,-0.062601573765278,0.009303742088377,0.002748120343313,0.329930156469345,0.080822490155697));
res += mul(Get(s1,0,-dy), float4x4(-0.190124660730362,-0.123169668018818,-0.144157558679581,-0.133694708347321,-0.071317151188850,-0.043892096728086,-0.047529079020023,-0.076777651906013,-0.023068163543940,0.117984101176262,-0.240897923707962,-0.011864433065057,-0.187742084264755,0.110527075827122,-0.140268266201019,0.238392472267151));
res += mul(Get(s1,0,0), float4x4(-0.101292051374912,0.099597305059433,0.016617164015770,-0.012214759364724,0.056459642946720,0.020635066553950,0.205468505620956,-0.218163192272186,-0.121034748852253,0.077299520373344,0.014244238846004,-0.044343620538712,-0.197655454277992,-0.036849759519100,0.085843883454800,0.006040889304131));
res += mul(Get(s1,0,dy), float4x4(-0.025764949619770,0.072635397315025,-0.005238953512162,0.222405478358269,0.231657654047012,0.080203942954540,0.036057185381651,-0.174305394291878,-0.047184757888317,0.012122279964387,0.175213336944580,-0.043306838721037,-0.053830072283745,0.096512310206890,0.176756039261818,0.130788102746010));
res += mul(Get(s1,dx,-dy), float4x4(-0.218116775155067,-0.048024903982878,-0.102617487311363,0.122302941977978,-0.157932445406914,-0.126263484358788,0.059609074145555,-0.014414220117033,-0.080532819032669,0.160556331276894,-0.255107045173645,-0.064525939524174,0.043100118637085,0.050131309777498,-0.120940476655960,-0.129242897033691));
res += mul(Get(s1,dx,0), float4x4(0.046217553317547,0.052036829292774,0.008200414478779,0.016381492838264,-0.051243405789137,-0.160410091280937,0.002696395386010,-0.235832899808884,0.022845482453704,0.065669991075993,-0.075922660529613,-0.051572699099779,0.027261486276984,0.045878775417805,-0.005741239991039,0.206307813525200));
res += mul(Get(s1,dx,dy), float4x4(-0.002477614209056,0.149000570178032,0.091337502002716,0.186896368861198,0.064712733030319,-0.139352709054947,-0.179984524846077,-0.297627389431000,0.189793303608894,-0.062070969492197,-0.070476882159710,0.079731717705727,0.023490041494370,0.042662914842367,0.121319435536861,0.008805148303509));
res += mul(Get(s2,-dx,-dy), float4x4(0.207895219326019,-0.023748457431793,0.021109314635396,-0.113299101591110,0.124135643243790,-0.078615956008434,0.102248117327690,-0.131106495857239,0.119916148483753,0.036478471010923,0.206212401390076,0.088327184319496,0.071488894522190,-0.020161826163530,-0.157768979668617,0.191680535674095));
res += mul(Get(s2,-dx,0), float4x4(-0.030960645526648,-0.120139546692371,-0.026052150875330,0.004759441595525,0.092173941433430,-0.186594143509865,-0.041683916002512,0.056875396519899,-0.004205723758787,0.176562279462814,-0.149744316935539,0.159202426671982,0.090332776308060,-0.072508513927460,-0.025678392499685,-0.045760449022055));
res += mul(Get(s2,-dx,dy), float4x4(-0.088661044836044,-0.130235552787781,-0.070821836590767,-0.009772236458957,0.272566437721252,-0.007690932601690,-0.123220682144165,-0.156541854143143,-0.190028741955757,-0.121296748518944,-0.214490085840225,0.033727530390024,-0.023948997259140,0.033649072051048,0.082380741834641,-0.085375621914864));
res += mul(Get(s2,0,-dy), float4x4(0.073899015784264,-0.182212173938751,-0.180444106459618,-0.065129950642586,0.066564232110977,-0.015230092220008,0.140397369861603,-0.080613315105438,0.200731799006462,0.078379735350609,0.029191669076681,0.233370319008827,0.198559984564781,-0.198562115430832,-0.038009598851204,0.292159408330917));
res += mul(Get(s2,0,0), float4x4(-0.064503289759159,-0.139133736491203,-0.133479446172714,-0.030182018876076,0.082238920032978,-0.028039939701557,-0.017341513186693,0.121477939188480,0.163630679249763,0.081419818103313,-0.191161483526230,-0.061836704611778,-0.019993809983134,-0.085363782942295,0.095320217311382,-0.003938354086131));
res += mul(Get(s2,0,dy), float4x4(-0.123830899596214,-0.053741533309221,-0.155647054314613,-0.150681853294373,0.017641285434365,-0.081848964095116,0.246336907148361,-0.113958336412907,0.116424381732941,-0.008543037809432,-0.171403810381889,0.061080861836672,0.029861986637115,0.043962318450212,-0.053546052426100,0.054976951330900));
res += mul(Get(s2,dx,-dy), float4x4(0.089102663099766,-0.232160732150078,-0.092653512954712,-0.100788027048111,0.084601871669292,0.212666690349579,0.008059828542173,0.028258850798011,0.036336097866297,-0.116221360862255,0.030777184292674,-0.083964936435223,0.086826652288437,-0.148884788155556,-0.037650883197784,-0.004547303076833));
res += mul(Get(s2,dx,0), float4x4(0.007525265216827,-0.221730351448059,-0.165276497602463,-0.078380241990089,0.110449574887753,0.056864295154810,-0.050137929618359,-0.076060354709625,0.389859199523926,-0.078087463974953,-0.043120704591274,-0.088624157011509,-0.208403319120407,-0.090736769139767,0.053600594401360,-0.007835390977561));
res += mul(Get(s2,dx,dy), float4x4(0.072215475142002,-0.232890039682388,-0.230353444814682,-0.205319806933403,-0.019447291269898,-0.041879851371050,-0.109163247048855,-0.183530226349831,0.208571076393127,-0.072980172932148,-0.052885219454765,-0.001329833758064,0.030499109998345,-0.069505393505096,0.021623099222779,0.052278328686953));
res += mul(Get(s3,-dx,-dy), float4x4(0.001021730131470,-0.031527418643236,0.096002541482449,-0.027679705992341,0.089846886694431,0.045576624572277,0.085486233234406,-0.069405063986778,0.054506566375494,0.174609228968620,0.077337600290775,-0.095948770642281,-0.093273781239986,-0.072196543216705,-0.260757267475128,0.136553168296814));
res += mul(Get(s3,-dx,0), float4x4(-0.069265134632587,0.047079224139452,0.096116982400417,0.099199332296848,-0.053386028856039,-0.026473272591829,0.074756257236004,0.021088792011142,0.139242917299271,0.052633885294199,0.171199217438698,-0.152878046035767,0.057795777916908,-0.044876039028168,0.198014810681343,0.068617954850197));
res += mul(Get(s3,-dx,dy), float4x4(-0.136160224676132,-0.045844461768866,-0.051728092133999,0.435396045446396,-0.074531123042107,0.008020288310945,-0.040444895625114,0.008272567763925,0.180698305368423,0.183832377195358,-0.111259900033474,-0.113413430750370,0.076556019484997,0.032438836991787,0.269856601953506,0.007674425374717));
res += mul(Get(s3,0,-dy), float4x4(0.080179244279861,-0.053216390311718,0.103024341166019,-0.063965372741222,-0.022951966151595,0.025792742148042,0.052929028868675,-0.164248868823051,-0.077309273183346,0.019146978855133,-0.157110303640366,-0.129781439900398,0.136084377765656,-0.144750639796257,-0.200363412499428,-0.124655827879906));
res += mul(Get(s3,0,0), float4x4(-0.035126212984324,0.273567736148834,0.065465629100800,0.065087154507637,-0.075086697936058,0.065004967153072,0.049919404089451,-0.171017840504646,-0.048773236572742,0.038001529872417,0.010211178101599,0.042390804737806,-0.080277338624001,-0.059442438185215,-0.106904082000256,-0.099045969545841));
res += mul(Get(s3,0,dy), float4x4(-0.165254071354866,-0.041865177452564,-0.050850640982389,-0.135698109865189,0.004308188334107,-0.044048935174942,-0.132484793663025,-0.049420371651649,-0.023881247267127,0.044179841876030,-0.060528192669153,0.130413800477982,0.045145489275455,0.046111367642879,-0.096029601991177,-0.007660771720111));
res += mul(Get(s3,dx,-dy), float4x4(0.414843112230301,0.053719621151686,-0.043986335396767,-0.157051131129265,-0.132983058691025,0.056758873164654,-0.052901886403561,-0.103072986006737,-0.081717379391193,-0.068519145250320,-0.104488760232925,-0.157450467348099,0.146220743656158,-0.217404961585999,0.166597798466682,0.035631716251373));
res += mul(Get(s3,dx,0), float4x4(0.126017168164253,-0.171802878379822,-0.076762586832047,-0.064286082983017,-0.148032933473587,0.028448522090912,-0.134201124310493,-0.039979893714190,0.022501340135932,-0.165718317031860,0.085137419402599,-0.099021166563034,-0.040758285671473,-0.020679198205471,0.026921864598989,0.019382838159800));
res += mul(Get(s3,dx,dy), float4x4(-0.121574647724628,-0.041069954633713,0.137982606887817,-0.015255013480783,0.008904359303415,-0.033456850796938,-0.267220616340637,0.060661479830742,-0.021687719970942,-0.026307720690966,0.003448965027928,0.017150081694126,0.030680343508720,-0.008452262729406,-0.073950909078121,0.081160843372345));
return max(float4(0,0,0,0), res);
}
