sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.080094069242477,0.084421575069427,-0.207710087299347,0.082576297223568,0.068442940711975,-0.072942726314068,0.113721154630184,-0.146615087985992,-0.029356902465224,-0.077657423913479,-0.048049859702587,-0.001703218906187,-0.111556448042393,0.028344977647066,-0.236181810498238,0.085060305893421));
res += mul(Get(s0,-dx,0), float4x4(-0.011410112492740,0.089876517653465,0.018572432920337,0.118382997810841,0.075249731540680,0.120202377438545,-0.017515704035759,0.014299126341939,-0.040622361004353,0.137334629893303,0.188497573137283,-0.074776336550713,0.044605240225792,0.016752092167735,-0.185169935226440,-0.112512737512589));
res += mul(Get(s0,-dx,dy), float4x4(-0.154958352446556,-0.147727534174919,-0.051393371075392,-0.046229533851147,-0.062855772674084,-0.107263885438442,0.103770017623901,-0.122056290507317,0.040849942713976,0.079678021371365,-0.105342522263527,-0.034623250365257,-0.123397789895535,0.054767474532127,-0.176330447196960,-0.002413227222860));
res += mul(Get(s0,0,-dy), float4x4(-0.032978825271130,-0.019374925643206,-0.045602139085531,-0.080421216785908,0.239490464329720,0.004471236839890,0.033402234315872,-0.119861297309399,0.143122315406799,-0.105466246604919,0.101831100881100,0.101054593920708,0.006548552773893,0.110803425312042,0.197779223322868,-0.011933039873838));
res += mul(Get(s0,0,0), float4x4(0.254803925752640,-0.021911788731813,-0.068787954747677,0.020558591932058,-0.114175230264664,-0.053212132304907,-0.081914797425270,-0.002387353219092,-0.096386507153511,-0.073008909821510,-0.094408392906189,-0.014081073924899,0.027227163314819,-0.022909235209227,-0.092090778052807,0.084663920104504));
res += mul(Get(s0,0,dy), float4x4(0.320755064487457,0.207318469882011,-0.040563091635704,0.039838060736656,-0.015718778595328,-0.062125440686941,0.090035684406757,0.051412273198366,-0.101637415587902,-0.029480073601007,0.134231925010681,0.150947436690331,-0.073014430701733,0.160852298140526,0.143579110503197,0.187897965312004));
res += mul(Get(s0,dx,-dy), float4x4(-0.123204380273819,-0.073460362851620,0.129035875201225,-0.064499765634537,0.066096827387810,-0.166028171777725,0.005249618552625,-0.014561234973371,-0.120992131531239,-0.007648442406207,-0.048820573836565,-0.026948856189847,0.028586370870471,-0.056079629808664,-0.000458169437479,0.124114997684956));
res += mul(Get(s0,dx,0), float4x4(0.075832009315491,-0.087887689471245,-0.049714483320713,0.130557671189308,-0.092991709709167,0.136828795075417,-0.198823660612106,0.273490250110626,-0.066906645894051,-0.070667535066605,-0.006301787216216,0.071090199053288,0.019815545529127,0.056981824338436,0.164178863167763,-0.010069394484162));
res += mul(Get(s0,dx,dy), float4x4(-0.058900736272335,0.150320500135422,-0.022633466869593,-0.031680822372437,-0.048656754195690,-0.021004199981689,0.022196715697646,0.187021061778069,0.057705100625753,0.144636854529381,0.057247322052717,-0.071008428931236,-0.130235776305199,-0.016101242974401,-0.017344022169709,0.034797601401806));
res += mul(Get(s1,-dx,-dy), float4x4(0.018470058217645,-0.112493164837360,-0.035599369555712,0.012809908948839,0.063028126955032,-0.045414302498102,0.077247194945812,-0.027295105159283,-0.004961576312780,-0.012882376089692,-0.008756143972278,0.041126996278763,0.089488595724106,-0.084023945033550,-0.036495000123978,-0.108451932668686));
res += mul(Get(s1,-dx,0), float4x4(-0.111001379787922,0.180014118552208,0.146118894219398,0.161899060010910,-0.011953139677644,0.008995997719467,0.130855888128281,-0.030008066445589,0.087479718029499,-0.008575235493481,-0.003093469189480,0.024195292964578,0.140866532921791,0.068290732800961,0.210191324353218,0.021055471152067));
res += mul(Get(s1,-dx,dy), float4x4(0.018373325467110,-0.044791392982006,0.040252603590488,-0.233139649033546,0.129263579845428,0.111668415367603,-0.071186035871506,0.085684016346931,-0.080836012959480,-0.041556034237146,0.124363489449024,0.025179827585816,-0.035927806049585,0.109605886042118,-0.098064042627811,0.206865668296814));
res += mul(Get(s1,0,-dy), float4x4(0.109840765595436,-0.043923120945692,0.271516501903534,-0.010451227426529,0.042840026319027,-0.024843541905284,-0.092770174145699,-0.142370954155922,-0.044293157756329,0.059109833091497,-0.038893215358257,0.024894246831536,0.090074114501476,0.057875689119101,-0.169191151857376,0.000697464507539));
res += mul(Get(s1,0,0), float4x4(-0.034319106489420,0.046115547418594,0.012356710620224,0.025270381942391,0.252163976430893,0.128618091344833,-0.175053328275681,-0.029349444434047,0.224991649389267,0.150751024484634,0.043552130460739,0.120472781360149,-0.079528607428074,0.016184277832508,-0.078364893794060,0.059404481202364));
res += mul(Get(s1,0,dy), float4x4(-0.067106693983078,0.109580703079700,-0.074057035148144,-0.100220166146755,-0.032170429825783,-0.145401671528816,-0.000106265251816,0.029901539906859,0.057452358305454,-0.160232439637184,-0.095470272004604,0.103183172643185,-0.076297052204609,0.081782750785351,0.222221910953522,0.004528378602117));
res += mul(Get(s1,dx,-dy), float4x4(-0.030505279079080,0.104895770549774,0.173399642109871,0.072481706738472,0.025750134140253,-0.000895032251719,-0.109751403331757,0.116156019270420,0.049361847341061,0.015176859684289,0.086553685367107,0.302531212568283,0.052939333021641,0.042037464678288,0.007511928677559,-0.190073058009148));
res += mul(Get(s1,dx,0), float4x4(-0.055672615766525,-0.248703226447105,-0.059024594724178,0.129707589745522,-0.113954260945320,-0.034936245530844,-0.104371726512909,-0.059173561632633,-0.016182716935873,0.128642201423645,-0.297860294580460,0.002748362487182,0.067718632519245,0.115365564823151,-0.020510910078883,0.126635581254959));
res += mul(Get(s1,dx,dy), float4x4(-0.040812309831381,0.038636464625597,-0.074630133807659,-0.057331677526236,-0.168947219848633,0.105332277715206,-0.048120364546776,0.067698009312153,-0.005435542203486,-0.015278355218470,0.042025741189718,-0.005233476404101,-0.117509827017784,0.040413949638605,-0.115228138864040,0.179672479629517));
res += mul(Get(s2,-dx,-dy), float4x4(0.022877065464854,-0.088121294975281,0.131894960999489,0.135753840208054,-0.013237611390650,0.042514279484749,0.028244709596038,-0.091236472129822,0.012952438555658,-0.007064286153764,-0.157039001584053,-0.065443195402622,-0.149212643504143,-0.010641803964972,0.110296234488487,-0.044010963290930));
res += mul(Get(s2,-dx,0), float4x4(-0.003911342006177,-0.045065969228745,-0.103824265301228,-0.024610038846731,-0.044884309172630,-0.097081810235977,0.015173381194472,0.060887563973665,0.120169788599014,0.147714406251907,0.140819519758224,0.005225626286119,-0.072614371776581,0.241030812263489,-0.233763113617897,0.194904625415802));
res += mul(Get(s2,-dx,dy), float4x4(0.176589921116829,0.037175200879574,0.046097949147224,0.119434118270874,-0.150161758065224,0.122561164200306,0.191429704427719,-0.173434898257256,0.160092532634735,-0.048276077955961,0.091273874044418,0.166441202163696,0.122606098651886,-0.030765837058425,-0.209104970097542,0.054715279489756));
res += mul(Get(s2,0,-dy), float4x4(0.223854154348373,-0.043189205229282,-0.027231249958277,0.135218262672424,0.244167417287827,-0.207632318139076,-0.103096477687359,-0.132848739624023,-0.104989029467106,-0.176955223083496,-0.184862866997719,-0.077624253928661,0.020633243024349,0.044184133410454,-0.150123685598373,-0.111248292028904));
res += mul(Get(s2,0,0), float4x4(-0.133573308587074,0.011379559524357,0.016997043043375,-0.012485809624195,0.033635061234236,-0.095460630953312,0.159690067172050,-0.083842799067497,-0.138472855091095,-0.055413335561752,0.006201343610883,0.033333271741867,0.263915956020355,-0.042613752186298,-0.090660624206066,-0.080549120903015));
res += mul(Get(s2,0,dy), float4x4(0.024644248187542,0.034400820732117,-0.158538252115250,-0.061860896646976,-0.077640332281590,-0.062674552202225,0.047457244247198,-0.030456978827715,-0.090091362595558,-0.271626621484756,-0.008475684560835,0.050629612058401,0.068614847958088,-0.280065625905991,0.006020512897521,-0.143252730369568));
res += mul(Get(s2,dx,-dy), float4x4(0.121855564415455,0.192735224962234,-0.117296993732452,-0.022845992818475,0.016716832295060,0.014365776441991,0.102688997983932,0.165452256798744,-0.003059347625822,-0.090544715523720,-0.218063890933990,-0.013193777762353,0.198330074548721,-0.062398221343756,0.068085364997387,-0.049800358712673));
res += mul(Get(s2,dx,0), float4x4(0.028812455013394,0.030111588537693,-0.116216838359833,0.076020181179047,-0.112238317728043,-0.001857542549260,-0.024060634896159,0.119119226932526,-0.012175043113530,-0.075834304094315,0.025030123069882,0.228014215826988,0.147147700190544,-0.067967966198921,-0.077823661267757,-0.000518803950399));
res += mul(Get(s2,dx,dy), float4x4(0.051698379218578,0.001571438391693,-0.028781050816178,-0.210019677877426,0.134705200791359,0.055028624832630,0.082926616072655,0.024078628048301,0.029062798246741,-0.081952616572380,-0.044865690171719,0.107893206179142,-0.052609767764807,-0.042137280106544,-0.082198031246662,0.055016536265612));
res += mul(Get(s3,-dx,-dy), float4x4(-0.021746007725596,0.106164216995239,-0.203326880931854,0.077223867177963,-0.147157475352287,0.271354109048843,-0.009919485077262,0.231508031487465,-0.021647011861205,-0.083831034600735,0.009810457006097,0.006084519438446,0.150692358613014,0.185772597789764,0.136362850666046,0.129231333732605));
res += mul(Get(s3,-dx,0), float4x4(0.014688812196255,-0.062855951488018,-0.052748028188944,-0.010575468651950,-0.081287503242493,-0.044943045824766,0.034648526459932,0.255173474550247,0.050441022962332,0.001831808476709,-0.052766907960176,0.055449236184359,-0.096371360123158,0.100697308778763,0.004803487099707,-0.052596863359213));
res += mul(Get(s3,-dx,dy), float4x4(0.060076504945755,-0.127650350332260,0.061668023467064,0.183524146676064,-0.009599666111171,-0.189536184072495,0.084138788282871,0.141215592622757,0.003069494618103,-0.096467182040215,0.023903306573629,0.245357349514961,-0.069602765142918,0.158220306038857,-0.024473249912262,-0.060899157077074));
res += mul(Get(s3,0,-dy), float4x4(-0.136479079723358,0.115070454776287,-0.202533274888992,0.127589225769043,-0.127768084406853,-0.132640108466148,-0.020129270851612,-0.044953428208828,-0.028376016765833,-0.027263097465038,-0.031909868121147,-0.176728561520576,0.057702764868736,0.122523963451385,0.030322862789035,-0.111522451043129));
res += mul(Get(s3,0,0), float4x4(-0.015614477917552,0.041474521160126,0.128168091177940,0.060782477259636,-0.024680009111762,0.051798216998577,-0.170236602425575,-0.032441381365061,-0.011189150623977,-0.129953473806381,-0.072744853794575,0.254194200038910,-0.022721149027348,-0.081944100558758,-0.102721370756626,-0.002316320082173));
res += mul(Get(s3,0,dy), float4x4(0.090432219207287,0.107801191508770,0.017842959612608,0.154981032013893,0.039718143641949,-0.112692683935165,0.149949744343758,0.097651727497578,-0.106346040964127,0.022802505642176,-0.046709276735783,-0.131630107760429,-0.067487820982933,-0.059966590255499,-0.063376650214195,-0.026188263669610));
res += mul(Get(s3,dx,-dy), float4x4(0.068322114646435,-0.119687512516975,-0.211459234356880,0.064509347081184,-0.026821341365576,-0.035502653568983,-0.140528097748756,-0.084803290665150,-0.204624384641647,0.064832799136639,0.105249352753162,-0.057676628232002,-0.191415488719940,-0.077889949083328,-0.141237720847130,-0.182947441935539));
res += mul(Get(s3,dx,0), float4x4(-0.172442972660065,0.168286681175232,0.107965432107449,-0.201167434453964,-0.098900049924850,0.049952879548073,0.192961797118187,0.027261355891824,0.125732272863388,-0.057867910712957,0.029650310054421,-0.024627333506942,-0.091244399547577,-0.026668291538954,0.182955756783485,-0.134295910596848));
res += mul(Get(s3,dx,dy), float4x4(-0.086482919752598,-0.079939514398575,-0.052458185702562,-0.197826996445656,-0.135407611727715,0.083799004554749,0.204236283898354,0.071840502321720,-0.068435080349445,0.026054762303829,0.037827655673027,0.067735448479652,0.118898972868919,0.150663122534752,0.003507088404149,-0.195856899023056));
return max(float4(0,0,0,0), res);
}
