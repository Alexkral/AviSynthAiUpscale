sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.122278071939945,0.377121895551682,0.056832298636436,-0.006596306804568,-0.210523396730423,-0.230710819363594,0.287810772657394,-0.100718550384045,0.067632451653481,0.270195722579956,-0.109552331268787,-0.189469143748283,-0.099765561521053,0.013700825162232,0.003327484009787,0.069142505526543));
res += mul(Get(s0,-dx,0), float4x4(-0.260964900255203,-0.134708404541016,-0.120458707213402,-0.071378253400326,-0.077514745295048,0.055576611310244,-0.200872942805290,-0.016039088368416,0.039991877973080,0.181285992264748,-0.114552788436413,-0.152828335762024,-0.079958848655224,-0.011231269687414,-0.007117585279047,0.029970796778798));
res += mul(Get(s0,-dx,dy), float4x4(-0.126143261790276,0.058928329497576,-0.161317169666290,0.007191900163889,0.094542041420937,0.127728089690208,-0.184446081519127,-0.039940271526575,0.108086206018925,-0.054020818322897,0.162505358457565,0.012680497020483,0.018963258713484,-0.015488910488784,-0.027562089264393,0.023518597707152));
res += mul(Get(s0,0,-dy), float4x4(-0.245597228407860,0.046699017286301,0.183350428938866,-0.020407125353813,0.175324141979218,0.126462012529373,-0.038492940366268,-0.328653305768967,0.327922791242599,-0.167998611927032,-0.036277022212744,-0.218389362096786,-0.088323064148426,-0.043703719973564,0.028204817324877,0.091064818203449));
res += mul(Get(s0,0,0), float4x4(-0.102024249732494,-0.135830312967300,0.078644208610058,-0.001907076803036,0.098832137882710,0.004959168843925,0.164313107728958,-0.069738723337650,-0.125533908605576,-0.080052785575390,-0.039816010743380,-0.164083570241928,-0.093743272125721,-0.058659758418798,0.050423383712769,0.027801798656583));
res += mul(Get(s0,0,dy), float4x4(-0.151337727904320,0.014704861678183,-0.037494223564863,-0.005449732765555,-0.015733981505036,0.098705433309078,-0.149471446871758,0.136817783117294,0.016601728275418,0.064749024808407,0.063488647341728,-0.025555422529578,0.046489331871271,-0.020008701831102,-0.041102539747953,0.049665637314320));
res += mul(Get(s0,dx,-dy), float4x4(-0.196368306875229,0.037877131253481,0.184005722403526,-0.065423212945461,0.027577867731452,0.010502370074391,-0.079865768551826,-0.085077159106731,0.170959636569023,-0.025404350832105,0.158807009458542,-0.121210798621178,-0.116222411394119,-0.010300216265023,-0.054577570408583,0.086582861840725));
res += mul(Get(s0,dx,0), float4x4(-0.122290588915348,-0.096542820334435,0.229474291205406,-0.038815256208181,0.105102844536304,-0.014893392100930,0.074954718351364,0.138111576437950,0.385747641324997,-0.109274059534073,-0.101716347038746,-0.111600540578365,-0.133370429277420,-0.041270680725574,0.017483493313193,0.037760037928820));
res += mul(Get(s0,dx,dy), float4x4(-0.317084252834320,0.177812531590462,-0.093627631664276,-0.168038040399551,0.017248436808586,0.110384993255138,-0.100282423198223,0.056656155735254,0.241987869143486,-0.122251443564892,0.013275266624987,0.098140805959702,0.040195912122726,0.001280290074646,-0.059957090765238,0.059414759278297));
res += mul(Get(s1,-dx,-dy), float4x4(0.110254749655724,-0.054274309426546,-0.048096034675837,-0.076392494142056,-0.131968244910240,-0.052072953432798,-0.057718507945538,0.000482313917018,0.090078927576542,0.076098270714283,0.033663772046566,0.087877474725246,-0.104918472468853,-0.180362582206726,-0.011509908363223,-0.083776891231537));
res += mul(Get(s1,-dx,0), float4x4(0.008444164879620,-0.061261564493179,-0.052283424884081,-0.035150345414877,-0.033262368291616,-0.000926925044041,-0.002905365778133,-0.008722616359591,0.038049887865782,-0.179671674966812,0.128687575459480,0.377275019884109,-0.085090242326260,-0.143155053257942,0.041998844593763,-0.175765439867973));
res += mul(Get(s1,-dx,dy), float4x4(-0.128927737474442,-0.101684242486954,0.102978743612766,-0.011930032633245,0.087400563061237,-0.188504859805107,-0.008697918616235,0.391447752714157,0.022949438542128,-0.172631725668907,-0.031473036855459,0.062117058783770,-0.026556398719549,-0.220361813902855,-0.106969237327576,-0.158847615122795));
res += mul(Get(s1,0,-dy), float4x4(-0.173767134547234,-0.060460615903139,-0.099663868546486,-0.211118131875992,-0.007907779887319,0.073717564344406,0.008062961511314,-0.066600061953068,0.222734779119492,0.129139006137848,-0.132831186056137,-0.034987740218639,-0.032321427017450,-0.237036019563675,0.370876580476761,0.092540659010410));
res += mul(Get(s1,0,0), float4x4(0.199324980378151,-0.062492415308952,-0.109799616038799,-0.174937158823013,0.204501226544380,0.176403969526291,-0.014248496852815,-0.083447627723217,-0.188186645507813,-0.027845935896039,0.007924773730338,0.163092896342278,0.069278337061405,-0.103970810770988,0.007415278814733,-0.008117283694446));
res += mul(Get(s1,0,dy), float4x4(0.144572511315346,0.096632391214371,-0.005145477131009,-0.115978300571442,0.179898738861084,-0.017591292038560,-0.164903640747070,0.237162142992020,-0.038133580237627,-0.068600028753281,0.118424065411091,0.019345890730619,0.095884382724762,0.058460187166929,-0.245925888419151,-0.064010910689831));
res += mul(Get(s1,dx,-dy), float4x4(0.398335367441177,0.285820931196213,-0.155420452356339,-0.177612751722336,-0.064014375209808,-0.012077476829290,-0.085593879222870,0.104341596364975,0.021307272836566,0.039049718528986,-0.092819511890411,0.015562253072858,-0.148976713418961,-0.165902361273766,0.201391398906708,-0.065831370651722));
res += mul(Get(s1,dx,0), float4x4(0.210878759622574,0.093974031507969,-0.022332651540637,-0.072131536900997,-0.066267155110836,0.103383593261242,0.043888092041016,0.121513649821281,-0.260673820972443,-0.050540812313557,-0.028237354010344,-0.207212656736374,-0.069999679923058,-0.120957896113396,0.078123249113560,-0.033158045262098));
res += mul(Get(s1,dx,dy), float4x4(-0.047262020409107,0.103423759341240,0.018099341541529,0.033036679029465,0.067932002246380,0.061084743589163,0.104919776320457,0.168867185711861,-0.082496494054794,-0.127584263682365,-0.014619912952185,-0.110091477632523,0.079973772168159,0.088577196002007,-0.174823701381683,-0.077924989163876));
res += mul(Get(s2,-dx,-dy), float4x4(-0.161584451794624,-0.183315023779869,-0.213027417659760,0.002716187853366,0.135610073804855,-0.193212300539017,0.204469725489616,0.357923597097397,-0.209217324852943,0.033413104712963,0.028841622173786,-0.091604672372341,-0.113660894334316,-0.107685700058937,0.213619157671928,0.008604885078967));
res += mul(Get(s2,-dx,0), float4x4(-0.217467457056046,0.144671514630318,-0.309483170509338,-0.204043224453926,0.021040618419647,-0.172640666365623,0.115500271320343,0.242225334048271,-0.217008978128433,0.045312747359276,-0.033333145081997,0.161829054355621,-0.154986888170242,-0.080972783267498,-0.130318149924278,0.045466817915440));
res += mul(Get(s2,-dx,dy), float4x4(-0.124625638127327,-0.019707618281245,-0.110138423740864,-0.113264285027981,0.116866357624531,0.003420108463615,0.049665860831738,0.246855318546295,-0.129620984196663,0.287435889244080,-0.068589530885220,0.187103763222694,0.097159080207348,0.007390598766506,-0.044517800211906,0.202766582369804));
res += mul(Get(s2,0,-dy), float4x4(-0.231105789542198,-0.138992995023727,0.328167945146561,-0.035754758864641,-0.107308849692345,0.291244566440582,0.037362407892942,0.083823792636395,-0.147018641233444,-0.121100522577763,-0.074606962502003,-0.077274754643440,0.029948243871331,-0.015632167458534,0.081676535308361,-0.186815902590752));
res += mul(Get(s2,0,0), float4x4(-0.213454067707062,0.161223798990250,-0.096011929214001,-0.114364281296730,0.273856252431870,0.274546802043915,-0.094315439462662,-0.086975745856762,-0.036893699318171,-0.038724120706320,-0.043230183422565,0.070699997246265,-0.070883423089981,0.064706109464169,-0.091999068856239,-0.200461879372597));
res += mul(Get(s2,0,dy), float4x4(0.081105560064316,-0.012767536565661,-0.103411197662354,-0.116224676370621,0.089087933301926,0.046349577605724,0.054381348192692,-0.261232525110245,0.027883812785149,0.223339274525642,-0.120132282376289,0.053151771426201,-0.072202958166599,0.100266844034195,-0.031883746385574,-0.074680611491203));
res += mul(Get(s2,dx,-dy), float4x4(-0.133720725774765,0.126360356807709,0.220384195446968,-0.105241514742374,0.048038728535175,0.158787429332733,0.248662590980530,0.059617325663567,-0.084750324487686,-0.131833672523499,0.082107253372669,0.017898682504892,0.021178316324949,0.262512296438217,0.007815121673048,-0.205358535051346));
res += mul(Get(s2,dx,0), float4x4(-0.114585444331169,0.073717065155506,-0.114076018333435,-0.203400209546089,0.125196933746338,-0.126071482896805,-0.062417525798082,-0.075955957174301,-0.040227565914392,0.035896979272366,-0.123873509466648,-0.012392642907798,0.111780740320683,0.148032039403915,-0.209335267543793,-0.031055243685842));
res += mul(Get(s2,dx,dy), float4x4(0.115471683442593,0.105628043413162,-0.193999335169792,-0.106248728930950,-0.070210620760918,-0.315992236137390,-0.042837463319302,-0.048108980059624,0.037847094237804,0.118335530161858,0.018566278740764,-0.114194341003895,-0.063949115574360,-0.052442457526922,-0.184999808669090,0.139399603009224));
res += mul(Get(s3,-dx,-dy), float4x4(-0.092116542160511,-0.015901396051049,0.016649374738336,0.003977449145168,0.034124508500099,-0.067579664289951,0.000324013468344,-0.036497510969639,0.049206320196390,0.115606643259525,0.068982772529125,-0.078750453889370,-0.081493310630322,0.051310501992702,-0.060078985989094,0.022910583764315));
res += mul(Get(s3,-dx,0), float4x4(0.249777048826218,0.038075532764196,-0.108122713863850,0.024226073175669,-0.055997930467129,-0.021400261670351,0.032748583704233,-0.048079613596201,-0.013941547833383,0.066600538790226,0.060913018882275,0.183273524045944,-0.154215797781944,0.013220493681729,0.033093664795160,-0.060359071940184));
res += mul(Get(s3,-dx,dy), float4x4(0.004089367575943,-0.116358347237110,0.128909096121788,-0.108997814357281,-0.086468063294888,-0.068502195179462,0.078600406646729,-0.047736082226038,-0.066939599812031,-0.018443496897817,-0.010932323522866,0.125723719596863,-0.021652225404978,-0.030426869168878,0.058758992701769,-0.095555491745472));
res += mul(Get(s3,0,-dy), float4x4(-0.104282952845097,-0.117983490228653,0.223010629415512,0.027542771771550,0.090602196753025,-0.020032694563270,0.033664990216494,-0.078580595552921,-0.189067259430885,0.115844205021858,-0.111296638846397,-0.168349876999855,-0.043731853365898,-0.058494534343481,0.003417108440772,0.093416571617126));
res += mul(Get(s3,0,0), float4x4(0.090805955231190,0.115498527884483,-0.012823275290430,-0.107921108603477,-0.083417080342770,0.002357507357374,0.055722553282976,-0.055709496140480,-0.252395361661911,0.083721384406090,-0.013055203482509,-0.070631705224514,-0.006472630426288,-0.068811468780041,0.088779121637344,0.034446708858013));
res += mul(Get(s3,0,dy), float4x4(-0.096637509763241,-0.109907999634743,0.314220994710922,-0.311847746372223,-0.077487133443356,0.011546215973794,0.047957587987185,-0.048326313495636,-0.155328676104546,-0.065835267305374,0.027661412954330,0.212235480546951,0.059853699058294,-0.054745629429817,-0.030170630663633,-0.023579053580761));
res += mul(Get(s3,dx,-dy), float4x4(0.446941077709198,0.113539509475231,0.117314122617245,0.104703977704048,0.034833736717701,-0.043491214513779,0.023611692711711,-0.114937990903854,-0.064842864871025,-0.124882206320763,-0.028466204181314,-0.208794638514519,-0.231283470988274,0.084252856671810,0.192525014281273,0.201789081096649));
res += mul(Get(s3,dx,0), float4x4(0.185391426086426,0.301741868257523,-0.096033111214638,-0.085192307829857,-0.120149753987789,-0.007226419169456,0.118157975375652,-0.060969248414040,-0.207106500864029,-0.160772278904915,-0.038319237530231,-0.068636149168015,-0.162494584918022,0.070517629384995,0.140740990638733,0.159679532051086));
res += mul(Get(s3,dx,dy), float4x4(-0.201597362756729,-0.061627939343452,0.182734072208405,-0.035929508507252,-0.185471683740616,0.046087466180325,0.145194664597511,-0.015762856230140,-0.128528729081154,-0.034378867596388,0.033279731869698,0.067281857132912,-0.182364940643311,0.117145895957947,-0.021646643057466,0.043738592416048));
return max(float4(0,0,0,0), res);
}
