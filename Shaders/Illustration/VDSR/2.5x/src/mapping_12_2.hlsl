sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.133869916200638,-0.004947735462338,-0.216759979724884,-0.232810631394386,0.030951000750065,-0.055068418383598,-0.013079028576612,0.252529174089432,0.210350617766380,0.076391682028770,-0.091414727270603,-0.139919668436050,0.270926684141159,-0.082034222781658,-0.076463967561722,0.037245370447636));
res += mul(Get(s0,-dx,0), float4x4(-0.222651377320290,-0.047090157866478,-0.122710399329662,-0.225546494126320,-0.078842401504517,-0.077963918447495,-0.183796882629395,-0.006188509520143,-0.012835669331253,0.065317198634148,0.039352722465992,-0.183863624930382,0.096235014498234,0.127614349126816,-0.161953315138817,-0.085641950368881));
res += mul(Get(s0,-dx,dy), float4x4(-0.111360214650631,0.055633734911680,-0.070222742855549,0.057624410837889,0.021723978221416,-0.057509869337082,-0.051901463419199,-0.194082856178284,-0.203423067927361,-0.051797885447741,0.330946624279022,-0.019644178450108,-0.136072188615799,-0.060054067522287,0.271177202463150,-0.010305763222277));
res += mul(Get(s0,0,-dy), float4x4(0.006749548949301,-0.016654986888170,-0.178922057151794,0.326339960098267,0.261110126972198,-0.094718076288700,-0.005864261183888,0.223987206816673,0.093172311782837,0.101526185870171,-0.133630126714706,-0.103881813585758,0.102114766836166,0.052892625331879,0.006973305251449,0.032621912658215));
res += mul(Get(s0,0,0), float4x4(-0.144028067588806,0.072936631739140,-0.130239948630333,0.178261980414391,0.098922818899155,-0.026871928945184,-0.123695880174637,0.133969306945801,-0.139920830726624,-0.028986277058721,0.074773199856281,0.137128010392189,0.222499847412109,0.030893564224243,-0.046834453940392,0.185682758688927));
res += mul(Get(s0,0,dy), float4x4(-0.093851514160633,-0.044105432927608,0.089580334722996,-0.174170121550560,-0.054947961121798,-0.020308462902904,-0.028834670782089,-0.117928586900234,-0.177363231778145,-0.100473277270794,0.163525730371475,0.040867630392313,-0.063446164131165,-0.063839159905910,0.126496404409409,-0.057151820510626));
res += mul(Get(s0,dx,-dy), float4x4(-0.059211909770966,0.050599522888660,-0.163116946816444,-0.034376997500658,0.339251518249512,0.007342181168497,0.070291794836521,-0.209320068359375,-0.002949310699478,0.085568100214005,0.060341462492943,0.122131831943989,0.174413055181503,0.044443834573030,-0.027476763352752,-0.050533454865217));
res += mul(Get(s0,dx,0), float4x4(0.422957271337509,0.054543521255255,-0.240378469228745,-0.044143278151751,0.236223325133324,0.079091727733612,-0.133537128567696,0.141405820846558,-0.014725076034665,-0.000797392043751,0.056578703224659,0.251919627189636,0.156196326017380,0.150193989276886,-0.086945578455925,-0.012235573492944));
res += mul(Get(s0,dx,dy), float4x4(0.273540228605270,0.052977807819843,-0.168051868677139,-0.241417244076729,0.012798672541976,0.136717900633812,-0.061262581497431,-0.090007536113262,-0.096803404390812,-0.137121632695198,-0.111805588006973,0.040585994720459,-0.078620649874210,-0.019242521375418,0.199734851717949,-0.004744409583509));
res += mul(Get(s1,-dx,-dy), float4x4(-0.022701293230057,0.033404700458050,0.007316735107452,0.075461961328983,0.027211869135499,-0.033764511346817,-0.108119115233421,-0.117301285266876,0.225012570619583,0.060049861669540,-0.009019141085446,0.095043532550335,0.066313013434410,0.345988005399704,-0.036637295037508,-0.050492458045483));
res += mul(Get(s1,-dx,0), float4x4(-0.033507969230413,0.163394495844841,-0.197584062814713,-0.059150744229555,-0.186803877353668,0.101126059889793,0.048101194202900,-0.192294135689735,0.049957700073719,0.011252135969698,-0.021068509668112,-0.100913941860199,-0.042575221508741,0.144050493836403,-0.026478514075279,-0.189998045563698));
res += mul(Get(s1,-dx,dy), float4x4(0.003285751212388,0.130644083023071,0.211585253477097,0.054361231625080,-0.177712157368660,-0.070562042295933,0.150822937488556,-0.080743052065372,0.038416236639023,-0.040250509977341,0.084475487470627,-0.090101823210716,-0.092327505350113,0.083647981286049,0.103112846612930,-0.131352305412292));
res += mul(Get(s1,0,-dy), float4x4(0.070868819952011,-0.120117738842964,-0.012063621543348,-0.000288314739009,0.182354092597961,-0.085411101579666,-0.101732641458511,0.077758170664310,0.098181225359440,0.084741480648518,-0.111618332564831,0.112727954983711,0.285860478878021,-0.057204175740480,0.066228084266186,0.164451032876968));
res += mul(Get(s1,0,0), float4x4(-0.134719759225845,0.022247251123190,0.194088384509087,0.024967458099127,-0.160868957638741,0.018583167344332,0.154551342129707,0.018295496702194,0.130450010299683,0.062855921685696,-0.005607188679278,0.024630811065435,0.017044343054295,-0.020372636616230,-0.081178367137909,0.079991757869720));
res += mul(Get(s1,0,dy), float4x4(-0.050429794937372,-0.060473196208477,0.097714483737946,-0.148661419749260,-0.136441960930824,-0.060342703014612,0.061768971383572,-0.135770455002785,0.025046048685908,0.047087669372559,0.029605647549033,0.054695788770914,0.192099988460541,0.104316011071205,-0.032286468893290,0.003476937534288));
res += mul(Get(s1,dx,-dy), float4x4(0.106306158006191,-0.045070514082909,0.092128492891788,0.101980976760387,0.133520811796188,-0.075513601303101,-0.097260504961014,0.056956216692924,-0.039415691047907,0.126483663916588,-0.037139002233744,0.187601894140244,0.191063418984413,-0.139264881610870,-0.193633735179901,0.128799393773079));
res += mul(Get(s1,dx,0), float4x4(-0.052403595298529,-0.055156383663416,-0.077684022486210,0.000158911047038,-0.118087217211723,-0.101829014718533,0.062213718891144,-0.061454489827156,0.035864457488060,0.036306545138359,0.006011480465531,0.120897263288498,0.057162087410688,-0.079744398593903,-0.222420290112495,0.150076270103455));
res += mul(Get(s1,dx,dy), float4x4(-0.036595769226551,0.109455734491348,-0.113812685012817,-0.103695720434189,-0.049356769770384,0.110005281865597,0.098803237080574,-0.193285882472992,-0.046401578933001,0.083465874195099,0.091520667076111,-0.001882688375190,0.181102663278580,0.023133002221584,-0.064681760966778,-0.177427917718887));
res += mul(Get(s2,-dx,-dy), float4x4(0.044687066227198,0.063691690564156,0.047558858990669,0.202240288257599,0.074688419699669,-0.132116436958313,0.015327681787312,-0.118329651653767,0.035941474139690,0.044552080333233,0.235650479793549,0.225327193737030,-0.007011259440333,0.026091674342752,-0.140648826956749,0.000903063162696));
res += mul(Get(s2,-dx,0), float4x4(0.098275952041149,0.080480031669140,0.148392170667648,-0.115778952836990,-0.057521600276232,0.192649602890015,0.148051425814629,-0.102016076445580,-0.179689720273018,0.121693037450314,0.151487380266190,0.003827378153801,-0.059880420565605,0.132895320653915,-0.016036892309785,-0.138570323586464));
res += mul(Get(s2,-dx,dy), float4x4(0.067735761404037,0.161062553524971,0.007195359561592,-0.052484124898911,-0.159859806299210,0.002523627597839,0.158748596906662,-0.016272719949484,0.044368460774422,0.099759936332703,0.067977726459503,-0.032064326107502,-0.124225139617920,-0.024235662072897,0.060070373117924,-0.005012914072722));
res += mul(Get(s2,0,-dy), float4x4(0.180713430047035,-0.066063173115253,0.111876279115677,0.133903831243515,0.012611800804734,-0.148400351405144,-0.058710228651762,0.115459486842155,0.089794069528580,-0.085196599364281,0.002028109505773,0.081061914563179,0.168383479118347,0.016871394589543,-0.127856627106667,0.095523372292519));
res += mul(Get(s2,0,0), float4x4(0.059009205549955,-0.086225695908070,-0.023828862234950,0.113138638436794,-0.107480719685555,0.122182622551918,0.143498584628105,0.072549596428871,-0.040938999503851,-0.060339719057083,-0.197925731539726,0.056554991751909,-0.105245441198349,-0.079176373779774,0.133542776107788,0.028458103537560));
res += mul(Get(s2,0,dy), float4x4(-0.098736971616745,0.014562518335879,0.206513583660126,-0.073574505746365,-0.266077548265457,-0.006657567340881,0.067611806094646,-0.150301605463028,-0.121175400912762,-0.040077552199364,0.326080054044724,0.122304290533066,-0.145728111267090,-0.115198954939842,0.242695108056068,-0.116016894578934));
res += mul(Get(s2,dx,-dy), float4x4(-0.008229440078139,-0.024584962055087,0.010129801928997,-0.074794791638851,-0.059443887323141,-0.061561249196529,-0.129955977201462,0.110568270087242,-0.013544458895922,0.031562730669975,0.151232272386551,0.083597868680954,0.222983494400978,0.126459658145905,-0.136493816971779,-0.031372830271721));
res += mul(Get(s2,dx,0), float4x4(0.303865641355515,-0.142351746559143,0.000460023380583,0.070672169327736,0.089792080223560,0.139162614941597,-0.100471034646034,0.235908836126328,-0.046579398214817,0.054022841155529,0.188397884368896,0.141023188829422,0.157958447933197,-0.038790304213762,-0.165917366743088,0.288012415170670));
res += mul(Get(s2,dx,dy), float4x4(0.040825080126524,-0.016247099265456,0.156626030802727,0.178400635719299,-0.249145239591599,0.034550074487925,0.056595172733068,-0.088416561484337,0.088044464588165,-0.086090885102749,0.271558582782745,0.013127728365362,-0.129056021571159,0.019110070541501,-0.057040631771088,-0.114926911890507));
res += mul(Get(s3,-dx,-dy), float4x4(-0.153933286666870,0.234160423278809,0.068297244608402,0.169881448149681,0.014010665938258,-0.073706559836864,0.108397327363491,0.194456771016121,-0.040378876030445,0.323198884725571,-0.160293191671371,0.130216836929321,-0.029807992279530,0.248333469033241,0.075528137385845,-0.032053109258413));
res += mul(Get(s3,-dx,0), float4x4(-0.068823963403702,0.203673258423805,0.105528809130192,-0.107530608773232,0.187338396906853,-0.144709229469299,-0.065770328044891,-0.021175628527999,-0.045591056346893,0.286473810672760,0.007679332513362,0.000730690255295,0.066257692873478,0.011448314413428,-0.131744310259819,-0.045434787869453));
res += mul(Get(s3,-dx,dy), float4x4(-0.013190366327763,0.216367810964584,0.219583496451378,-0.041516426950693,0.028081113472581,0.067655161023140,0.130570754408836,-0.025596521794796,-0.009558081626892,-0.098617181181908,-0.137369841337204,-0.047180790454149,0.162726506590843,0.074414171278477,-0.202882573008537,-0.156928732991219));
res += mul(Get(s3,0,-dy), float4x4(0.045421395450830,0.087324246764183,-0.175830170512199,-0.034640688449144,0.014254882000387,-0.056909751147032,-0.128017455339432,0.021074930205941,0.105311922729015,0.132332518696785,0.019686151295900,0.434459686279297,-0.147131994366646,-0.073328234255314,0.077954955399036,0.077126443386078));
res += mul(Get(s3,0,0), float4x4(-0.006248233839869,0.036364909261465,-0.018368866294622,0.077841736376286,0.077959358692169,-0.096154920756817,-0.079001329839230,0.206570491194725,-0.002034792443737,-0.118981324136257,0.060164414346218,0.210526138544083,0.213142856955528,-0.061051923781633,-0.089879244565964,-0.053702518343925));
res += mul(Get(s3,0,dy), float4x4(0.106056742370129,0.053408924490213,0.158804208040237,-0.147959038615227,-0.005737199913710,0.084112085402012,0.216403037309647,0.363530188798904,-0.065236382186413,-0.297020703554153,-0.016017865389585,-0.078084424138069,0.176740199327469,-0.202968955039978,-0.093644924461842,0.211006343364716));
res += mul(Get(s3,dx,-dy), float4x4(-0.137547180056572,0.089095458388329,-0.138689711689949,-0.083476290106773,0.186728447675705,-0.068912886083126,0.067232295870781,0.312366694211960,-0.022660447284579,-0.004478175658733,-0.059349730610847,-0.148146137595177,0.057421758770943,-0.110076501965523,0.060736324638128,0.004455668851733));
res += mul(Get(s3,dx,0), float4x4(-0.180603787302971,0.012976319529116,0.144234508275986,0.043315421789885,0.049654372036457,-0.124675273895264,0.079380042850971,0.101327247917652,0.186734229326248,-0.119796678423882,-0.034251146018505,0.221397176384926,0.135164573788643,-0.033564582467079,-0.063567407429218,0.140704944729805));
res += mul(Get(s3,dx,dy), float4x4(0.017457572743297,0.051512092351913,0.054760232567787,-0.180423125624657,0.003400693414733,0.039929881691933,-0.011838587000966,-0.003970608580858,-0.128024548292160,-0.066406257450581,0.042440474033356,-0.060302328318357,0.226782068610191,-0.072286888957024,0.146594911813736,0.212846234440804));
return max(float4(0,0,0,0), res);
}
