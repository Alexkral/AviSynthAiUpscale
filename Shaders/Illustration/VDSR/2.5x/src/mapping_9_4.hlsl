sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.062885522842407,-0.076449051499367,0.002801063237712,0.038972992449999,-0.168376430869102,-0.033855903893709,-0.112587921321392,-0.005944151896983,0.120645970106125,0.022243902087212,0.012989745475352,0.031850501894951,-0.058581814169884,0.134664982557297,-0.060049775987864,0.060047645121813));
res += mul(Get(s0,-dx,0), float4x4(0.130671784281731,0.112239137291908,-0.011614199727774,0.001152312150225,0.149377122521400,-0.024742370471358,-0.103618845343590,-0.159609362483025,0.175096243619919,0.091122634708881,0.159237802028656,-0.028076732531190,-0.196745172142982,-0.021364953368902,-0.039422851055861,-0.028913026675582));
res += mul(Get(s0,-dx,dy), float4x4(-0.139366418123245,0.075154714286327,-0.035660535097122,0.054814964532852,0.040147297084332,-0.067885473370552,0.094691634178162,0.023729614913464,0.052570115774870,0.002122712787241,-0.058918964117765,-0.020880928263068,-0.085458606481552,0.085965417325497,0.093810066580772,0.034758694469929));
res += mul(Get(s0,0,-dy), float4x4(0.016602771356702,0.034619294106960,-0.070239029824734,-0.035928566008806,0.034676823765039,-0.142377406358719,0.161791607737541,-0.140296742320061,-0.007651689462364,-0.057830307632685,0.024168603122234,0.255268603563309,-0.078671604394913,-0.166688546538353,0.018856227397919,0.048937644809484));
res += mul(Get(s0,0,0), float4x4(0.015659356489778,-0.166248440742493,0.001460868516006,0.040320739150047,-0.067984491586685,-0.032866064459085,0.132547408342361,-0.188124120235443,0.022370858117938,-0.024108249694109,-0.045533310621977,0.129871204495430,-0.030841816216707,-0.127431482076645,0.070351429283619,-0.013536564074457));
res += mul(Get(s0,0,dy), float4x4(0.133285611867905,0.176466509699821,-0.052592962980270,-0.017354970797896,0.045066941529512,0.007461193017662,-0.010250985622406,0.081824526190758,0.087569572031498,0.013859139755368,-0.060765754431486,-0.143338620662689,0.083368577063084,0.216416925191879,0.232096537947655,-0.086699143052101));
res += mul(Get(s0,dx,-dy), float4x4(-0.069438524544239,0.023348882794380,-0.060724951326847,0.122939407825470,-0.240436926484108,-0.009051932953298,0.029688837006688,0.047733932733536,-0.062678426504135,-0.187677398324013,-0.148449361324310,0.227653846144676,0.097921274602413,-0.121028259396553,0.160817816853523,-0.077743336558342));
res += mul(Get(s0,dx,0), float4x4(-0.030475042760372,0.083524018526077,-0.126217424869537,0.090554900467396,-0.222106233239174,-0.283765494823456,-0.035310197621584,-0.024659689515829,0.086162880063057,0.032756924629211,0.181477591395378,-0.128453597426414,-0.061665311455727,0.129700616002083,-0.085066951811314,-0.119665272533894));
res += mul(Get(s0,dx,dy), float4x4(0.155003309249878,0.041858073323965,0.035266101360321,-0.041570391505957,-0.017193559557199,0.073876500129700,0.111645281314850,0.009562322869897,0.076090231537819,0.044479664415121,-0.093160092830658,-0.171194657683372,-0.161696642637253,0.176588833332062,-0.158907875418663,0.010503964498639));
res += mul(Get(s1,-dx,-dy), float4x4(-0.105959609150887,0.050981707870960,-0.204842686653137,0.026483446359634,0.061405427753925,-0.111441172659397,-0.071155525743961,-0.051134191453457,0.189773589372635,0.128107786178589,-0.089491546154022,-0.119996502995491,0.164149820804596,-0.002804792718962,-0.001615699497052,-0.130001977086067));
res += mul(Get(s1,-dx,0), float4x4(-0.112175017595291,-0.048946898430586,0.008312795311213,0.124968297779560,-0.002344606909901,-0.116644613444805,0.059965301305056,-0.094286836683750,0.189031466841698,-0.026808770373464,-0.035011004656553,0.049408588558435,-0.017481038346887,-0.055110096931458,0.099038854241371,-0.146666288375854));
res += mul(Get(s1,-dx,dy), float4x4(0.047338284552097,-0.093874156475067,0.059430584311485,0.031574547290802,-0.129739671945572,-0.283493667840958,0.125721916556358,0.000141916898428,0.031486466526985,0.052723750472069,-0.038056667894125,0.066929198801517,-0.068805679678917,-0.135480388998985,0.050261691212654,-0.008359043858945));
res += mul(Get(s1,0,-dy), float4x4(0.120836310088634,0.089901171624660,-0.031452164053917,-0.026547487825155,0.093636512756348,-0.163755670189857,-0.300319463014603,-0.086126707494259,-0.121436908841133,0.043807338923216,-0.127545610070229,-0.048260245472193,-0.121266447007656,-0.124064363539219,0.030665645375848,0.037164721637964));
res += mul(Get(s1,0,0), float4x4(0.076252810657024,-0.091939687728882,0.114353977143764,0.059561263769865,0.181922882795334,0.016533153131604,0.034889310598373,0.130915358662605,0.269789844751358,-0.001508072600700,-0.053456243127584,-0.208126068115234,0.005426984746009,0.008163392543793,-0.389912992715836,-0.035611368715763));
res += mul(Get(s1,0,dy), float4x4(0.057987973093987,0.036703646183014,0.090451128780842,0.064084269106388,0.058688607066870,0.005052005872130,-0.198684468865395,-0.132763415575027,-0.045510161668062,0.043793871998787,-0.223835930228233,-0.037417806684971,0.094444021582603,0.081726439297199,0.156992286443710,-0.008927027694881));
res += mul(Get(s1,dx,-dy), float4x4(-0.018076306208968,-0.072459094226360,-0.106296189129353,-0.092304058372974,-0.107160948216915,-0.059167902916670,-0.054270740598440,-0.014781850390136,-0.036535132676363,-0.142789870500565,0.068636372685432,-0.107987709343433,-0.053752269595861,0.020522929728031,-0.092160940170288,-0.057228799909353));
res += mul(Get(s1,dx,0), float4x4(0.176406130194664,-0.051285997033119,0.098683193325996,0.191477730870247,0.018633000552654,-0.138210684061050,0.047537922859192,-0.012456755153835,0.030880225822330,-0.060952987521887,0.051360316574574,0.038541972637177,0.125471562147141,0.110735967755318,-0.045520346611738,-0.134111836552620));
res += mul(Get(s1,dx,dy), float4x4(0.008021341636777,-0.076890021562576,0.086077101528645,-0.040108170360327,-0.089241497218609,-0.081770785152912,0.239432394504547,-0.105005234479904,-0.043793804943562,0.044651694595814,0.009162669070065,0.089461706578732,-0.130995705723763,-0.104735672473907,-0.075750969350338,-0.053703695535660));
res += mul(Get(s2,-dx,-dy), float4x4(-0.192077621817589,0.239434525370598,0.186391055583954,0.099886626005173,0.206526994705200,0.005773102864623,-0.128519237041473,0.010493355803192,-0.148665994405746,0.074225842952728,0.152937039732933,-0.142022863030434,0.015308119356632,0.058624498546124,-0.029437605291605,0.119093149900436));
res += mul(Get(s2,-dx,0), float4x4(-0.034480758011341,-0.055844750255346,-0.125573277473450,-0.060611870139837,0.123956881463528,-0.082056812942028,-0.246371477842331,0.258323132991791,0.075058817863464,-0.040165945887566,0.012355637736619,0.047750003635883,0.024295706301928,0.006871452089399,-0.179372832179070,0.110309548676014));
res += mul(Get(s2,-dx,dy), float4x4(-0.012625264003873,0.027905302122235,-0.004563715774566,0.225760474801064,-0.075549758970737,-0.113447025418282,0.045054696500301,0.044838421046734,0.026646602898836,-0.023160070180893,0.104623951017857,0.170956492424011,-0.135692715644836,-0.033449660986662,0.035573605448008,-0.046346213668585));
res += mul(Get(s2,0,-dy), float4x4(-0.093180008232594,-0.039403412491083,0.128035023808479,0.094853125512600,0.155512481927872,0.106476403772831,-0.157921612262726,0.136408224701881,-0.015621963888407,0.085668377578259,-0.128568634390831,0.102868609130383,-0.058853782713413,0.081891998648643,-0.013060775585473,-0.153965964913368));
res += mul(Get(s2,0,0), float4x4(-0.116327285766602,0.117172233760357,0.022694092243910,-0.007891303859651,-0.207187920808792,0.023622047156096,0.052293140441179,0.144235059618950,0.105842113494873,0.045410580933094,-0.033068656921387,0.094337135553360,-0.037212289869785,-0.059797804802656,-0.075824134051800,0.054124269634485));
res += mul(Get(s2,0,dy), float4x4(0.042691621929407,-0.050369989126921,-0.103114403784275,0.062093224376440,-0.084785781800747,-0.117848582565784,0.085111416876316,-0.082257069647312,0.089620500802994,-0.147977098822594,0.098572425544262,-0.109968535602093,0.111845336854458,0.189791470766068,-0.134435832500458,-0.044236522167921));
res += mul(Get(s2,dx,-dy), float4x4(-0.050712022930384,-0.014652787707746,0.199778631329536,0.054388575255871,-0.107720084488392,0.120906271040440,0.035194534808397,-0.126453056931496,-0.094919770956039,0.091141492128372,-0.058610286563635,0.017132695764303,0.063857264816761,-0.114044807851315,0.121505334973335,-0.147623121738434));
res += mul(Get(s2,dx,0), float4x4(-0.005112884566188,-0.033654469996691,-0.165208145976067,-0.017377752810717,-0.077542848885059,0.044280651956797,-0.088432967662811,0.291947007179260,0.154938593506813,-0.103874281048775,0.019742904230952,-0.136390596628189,0.028405476361513,-0.085960134863853,0.128514364361763,-0.083464272320271));
res += mul(Get(s2,dx,dy), float4x4(-0.007171848323196,0.029921311885118,0.266913771629333,-0.014407072216272,-0.192969471216202,0.036030236631632,-0.146405950188637,-0.157938569784164,-0.020019795745611,0.008141732774675,0.330036133527756,-0.014553904533386,-0.025399973616004,0.027836427092552,0.041519906371832,-0.015510872937739));
res += mul(Get(s3,-dx,-dy), float4x4(0.134682670235634,0.165870815515518,-0.008132313378155,0.056003335863352,0.068896584212780,0.104022659361362,0.084777414798737,-0.102895200252533,0.100409343838692,0.249939382076263,0.006417801138014,0.098585948348045,-0.207076281309128,-0.023066252470016,-0.075737357139587,0.104640461504459));
res += mul(Get(s3,-dx,0), float4x4(-0.025431115180254,0.123988248407841,-0.096953175961971,0.222468689084053,-0.109932079911232,-0.032398566603661,0.006312009878457,0.055846504867077,0.073145069181919,-0.033470060676336,-0.186236441135406,0.067434959113598,-0.074004344642162,-0.086840771138668,0.059725292026997,-0.081184215843678));
res += mul(Get(s3,-dx,dy), float4x4(0.012219554744661,0.087688177824020,-0.008073835633695,-0.064368978142738,0.167925357818604,-0.042090453207493,-0.008519336581230,-0.072143279016018,-0.003775736317039,-0.049747861921787,-0.017209248617291,-0.001757706631906,0.025895034894347,-0.104164898395538,0.168296292424202,-0.104954421520233));
res += mul(Get(s3,0,-dy), float4x4(0.053277838975191,0.091936282813549,0.166934400796890,-0.030361903831363,0.005074739456177,-0.156307578086853,0.028642389923334,-0.021948290988803,-0.043938200920820,0.117386944591999,0.149196043610573,-0.090626239776611,-0.043461680412292,-0.017571868374944,0.057194955646992,0.034187313169241));
res += mul(Get(s3,0,0), float4x4(0.277922987937927,0.022685237228870,-0.102897197008133,-0.033686779439449,0.038634732365608,0.103793360292912,0.177246779203415,0.054154738783836,-0.155036360025406,-0.064784198999405,-0.048636917024851,-0.220004528760910,-0.244527190923691,-0.096831135451794,0.167758345603943,0.059782996773720));
res += mul(Get(s3,0,dy), float4x4(-0.005364799872041,0.185054525732994,-0.062061041593552,-0.203496783971786,0.235323324799538,0.048952843993902,-0.012719385325909,-0.128480255603790,0.088381603360176,-0.016552653163671,0.175783425569534,-0.120877891778946,0.007156527135521,-0.121011808514595,0.026521541178226,-0.108213335275650));
res += mul(Get(s3,dx,-dy), float4x4(-0.014952655881643,-0.112452805042267,-0.183709576725960,-0.104441389441490,0.044346459209919,0.069821633398533,-0.110828615725040,0.047471817582846,-0.106678992509842,0.090272486209869,0.070636913180351,0.000811912177596,-0.049229703843594,0.037687700241804,-0.069674305617809,0.168053969740868));
res += mul(Get(s3,dx,0), float4x4(-0.048718966543674,0.044367413967848,-0.056777786463499,-0.081499539315701,-0.031871497631073,-0.066523179411888,-0.126657396554947,0.004699577577412,-0.008314525708556,0.115760512650013,-0.119120664894581,-0.060299623757601,-0.139967724680901,-0.031181657686830,0.149615421891212,0.066093005239964));
res += mul(Get(s3,dx,dy), float4x4(0.078250885009766,0.127531737089157,0.163868561387062,-0.042786981910467,0.074351504445076,0.023558292537928,0.008151927962899,-0.063280388712883,0.116824522614479,-0.034436065703630,0.162169888615608,0.059229098260403,0.046334382146597,-0.135396197438240,0.205024808645248,0.117334753274918));
return max(float4(0,0,0,0), res);
}
