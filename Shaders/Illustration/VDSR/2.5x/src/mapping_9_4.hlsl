sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.100658223032951,0.179967299103737,-0.048702813684940,0.000541686720680,0.039584197103977,-0.152820974588394,0.080788604915142,0.134734556078911,-0.051091227680445,-0.096082590520382,-0.026091465726495,0.052598148584366,-0.015445348806679,0.038958311080933,-0.146072119474411,0.021687738597393));
res += mul(Get(s0,-dx,0), float4x4(-0.056981220841408,0.026296399533749,0.054102506488562,0.037085425108671,-0.034810051321983,0.115229584276676,0.154234036803246,0.210326790809631,-0.019578572362661,-0.113496929407120,-0.082719646394253,0.060391865670681,-0.051602594554424,0.050727289170027,-0.157376900315285,0.133639901876450));
res += mul(Get(s0,-dx,dy), float4x4(0.184862345457077,0.265588462352753,0.000228554010391,-0.060957245528698,-0.064877733588219,0.166265845298767,0.095903314650059,0.115494064986706,0.104409098625183,-0.116370067000389,-0.135376587510109,0.125870212912560,-0.006311564240605,-0.060802206397057,-0.151288971304893,0.025552310049534));
res += mul(Get(s0,0,-dy), float4x4(0.236952185630798,0.025866847485304,0.202427625656128,0.040932331234217,-0.182319939136505,0.074112527072430,0.133442148566246,0.339910238981247,-0.046721510589123,0.001004953053780,0.232186704874039,0.105154089629650,-0.166939392685890,-0.093164347112179,0.604046344757080,0.119562625885010));
res += mul(Get(s0,0,0), float4x4(0.107905380427837,-0.125180140137672,0.223561853170395,-0.002584375906736,-0.106262855231762,0.145340755581856,0.127754628658295,-0.067047767341137,0.043503284454346,0.134404227137566,0.059777148067951,0.262719929218292,-0.044651366770267,-0.065538674592972,0.047769464552402,0.318009287118912));
res += mul(Get(s0,0,dy), float4x4(0.164830178022385,-0.155943036079407,-0.100462667644024,-0.102289855480194,0.019480904564261,0.108350232243538,0.228754848241806,0.079459913074970,0.091772459447384,0.078489072620869,-0.014078402891755,0.128695473074913,-0.148796260356903,0.015507532283664,-0.056490965187550,0.020607860758901));
res += mul(Get(s0,dx,-dy), float4x4(0.172000616788864,0.226425305008888,-0.192055612802505,0.111270673573017,-0.137011438608170,-0.019891932606697,0.001067250152119,0.252216458320618,-0.121764115989208,0.090194992721081,0.193581074476242,0.200906038284302,-0.056484341621399,-0.076139278709888,-0.051267866045237,-0.020759318023920));
res += mul(Get(s0,dx,0), float4x4(-0.056735303252935,0.091946370899677,-0.117636986076832,-0.003304282436147,-0.099727131426334,0.191021278500557,-0.005048981402069,0.035521663725376,0.130034759640694,0.310135036706924,-0.000219540248509,0.015822973102331,-0.036705262959003,0.096270270645618,-0.160789206624031,0.071691803634167));
res += mul(Get(s0,dx,dy), float4x4(-0.065598778426647,0.164304181933403,-0.116149671375751,-0.017215408384800,-0.117605783045292,0.184356823563576,0.049074016511440,0.046727359294891,0.202752888202667,0.040879029780626,-0.055927328765392,-0.058170314878225,-0.196621343493462,0.137842178344727,-0.274664878845215,-0.092855386435986));
res += mul(Get(s1,-dx,-dy), float4x4(-0.051118195056915,-0.175411432981491,0.034707497805357,-0.075103268027306,0.021700628101826,0.157037466764450,-0.069565147161484,-0.011827410198748,0.248058021068573,0.004245798569173,-0.080397367477417,-0.059248033910990,-0.092123113572598,-0.150913804769516,0.233287453651428,-0.087774991989136));
res += mul(Get(s1,-dx,0), float4x4(-0.132683858275414,-0.026159841567278,-0.095413811504841,-0.018456138670444,0.011350106447935,0.108621113002300,-0.085051529109478,-0.036579728126526,0.157621994614601,0.180796340107918,-0.014871648512781,-0.029482375830412,-0.128708899021149,0.025623580440879,0.111287407577038,0.088552333414555));
res += mul(Get(s1,-dx,dy), float4x4(-0.007291298359632,0.056629247963428,0.008201905526221,-0.034932855516672,-0.023336768150330,0.061128843575716,-0.216490730643272,-0.038753744214773,0.275579363107681,0.062515422701836,-0.144020631909370,-0.051032043993473,-0.118795752525330,0.011890850029886,0.034955151379108,0.012982570566237));
res += mul(Get(s1,0,-dy), float4x4(-0.088631145656109,-0.201282247900963,0.128165274858475,-0.042600668966770,-0.001720015541650,-0.039881654083729,0.018430445343256,0.103261820971966,0.340899109840393,-0.044921681284904,0.060431282967329,-0.040293812751770,-0.052778329700232,-0.070112675428391,-0.043445654213428,-0.092225044965744));
res += mul(Get(s1,0,0), float4x4(-0.087209701538086,0.055174697190523,-0.223055347800255,-0.112160034477711,-0.039345454424620,0.035093370825052,-0.021743504330516,-0.067471660673618,0.096891030669212,0.000877385842614,0.228622570633888,-0.038691479712725,0.046024434268475,0.017496172338724,0.032311115413904,-0.060728866606951));
res += mul(Get(s1,0,dy), float4x4(0.085363216698170,0.200664505362511,-0.078380174934864,-0.065483793616295,-0.114235267043114,0.100746229290962,-0.030053243041039,0.058657072484493,-0.091601416468620,0.004170117434114,0.133866950869560,0.002049489412457,-0.136576578021049,0.075874403119087,0.051045563071966,-0.013221223838627));
res += mul(Get(s1,dx,-dy), float4x4(0.276311039924622,0.133468866348267,0.411228060722351,-0.132336512207985,-0.081242576241493,0.003881802549586,-0.015467275865376,0.033879306167364,-0.025009430944920,0.085316687822342,0.107719667255878,-0.070749700069427,-0.106496013700962,0.078739456832409,-0.160785228013992,-0.012766364030540));
res += mul(Get(s1,dx,0), float4x4(0.155623525381088,-0.148677259683609,-0.101125553250313,-0.148083537817001,-0.004317582584918,0.104718677699566,-0.062025953084230,-0.261400520801544,0.016069715842605,0.031040258705616,0.081536158919334,-0.185094118118286,-0.096286326646805,0.032043233513832,-0.002652763621882,-0.103796109557152));
res += mul(Get(s1,dx,dy), float4x4(0.032517746090889,0.013776904903352,0.001296343165450,-0.088903434574604,-0.101526252925396,0.210604637861252,-0.123813681304455,-0.007948559708893,-0.121393829584122,0.246758282184601,0.046393737196922,-0.051914215087891,-0.234020143747330,0.193646818399429,-0.015860507264733,-0.050024323165417));
res += mul(Get(s2,-dx,-dy), float4x4(-0.185531854629517,-0.150123998522758,0.041814539581537,0.071214392781258,-0.044956699013710,0.072697862982750,0.019237564876676,-0.035847075283527,-0.033195037394762,-0.002727734623477,0.004994264338166,-0.213966578245163,-0.095562838017941,-0.049059860408306,0.240935444831848,-0.028981810435653));
res += mul(Get(s2,-dx,0), float4x4(-0.241381287574768,-0.245654836297035,0.028453385457397,-0.034337718039751,0.039063550531864,0.099804632365704,-0.220883503556252,0.163535952568054,-0.000811933248769,0.042060982435942,-0.042372129857540,-0.026925079524517,0.274052798748016,-0.083451516926289,0.092257000505924,-0.066554799675941));
res += mul(Get(s2,-dx,dy), float4x4(0.028898520395160,-0.092671647667885,0.169887393712997,-0.061326220631599,-0.031963944435120,0.015422175638378,-0.007231557276100,0.104370363056660,-0.177587285637856,-0.027323847636580,0.186469495296478,0.020694375038147,-0.029053585603833,-0.056942727416754,-0.002609920455143,0.012380773201585));
res += mul(Get(s2,0,-dy), float4x4(-0.190743371844292,-0.128718703985214,-0.006759926211089,0.003058613045141,-0.071351431310177,0.223452687263489,0.119800135493279,-0.050109043717384,0.116130970418453,-0.048509780317545,0.227583080530167,-0.103478372097015,0.080507867038250,-0.056822642683983,0.132025256752968,-0.006584061309695));
res += mul(Get(s2,0,0), float4x4(-0.157298251986504,-0.081371255218983,0.029242785647511,-0.022863911464810,0.001269896281883,0.127181127667427,-0.101790457963943,-0.016417475417256,-0.093662440776825,-0.047970436513424,-0.000493049621582,0.161208108067513,0.117560468614101,-0.085118457674980,0.097014941275120,-0.113273687660694));
res += mul(Get(s2,0,dy), float4x4(0.054496888071299,0.000963336438872,-0.077808618545532,-0.065224975347519,-0.076839879155159,-0.093376234173775,0.299219071865082,0.067088380455971,-0.181877359747887,-0.059302464127541,-0.009279613383114,0.080792583525181,0.017500745132565,-0.010340727865696,0.098801925778389,0.017349462956190));
res += mul(Get(s2,dx,-dy), float4x4(-0.065474689006805,-0.106863200664520,0.080866895616055,0.022348174825311,-0.038136437535286,0.301979959011078,0.026190601289272,-0.094597041606903,0.109204009175301,0.001288306550123,-0.161261424422264,-0.106135174632072,-0.208027064800262,-0.129423171281815,-0.123925000429153,-0.193499773740768));
res += mul(Get(s2,dx,0), float4x4(-0.012431297451258,-0.015131384134293,-0.031345587223768,-0.052703574299812,0.216588675975800,0.206246510148048,-0.179661139845848,-0.028922868892550,-0.171569496393204,-0.020539784803987,-0.077177613973618,0.245705932378769,-0.103483155369759,0.060546409338713,0.024281950667500,-0.136648327112198));
res += mul(Get(s2,dx,dy), float4x4(0.069448024034500,0.012363749556243,-0.084479652345181,-0.039491880685091,-0.033919658511877,0.124692305922508,-0.040724437683821,0.107843250036240,-0.151554897427559,-0.128396302461624,-0.023369977250695,-0.095475457608700,-0.110451117157936,0.042489178478718,0.184175267815590,-0.029346702620387));
res += mul(Get(s3,-dx,-dy), float4x4(-0.096110224723816,-0.098491273820400,0.093354210257530,0.241886347532272,-0.145182698965073,0.210966810584068,-0.002850741846487,0.231334403157234,0.080931887030602,-0.264316856861115,-0.004080648534000,-0.120991230010986,-0.139055982232094,-0.146628722548485,0.058271788060665,-0.186570033431053));
res += mul(Get(s3,-dx,0), float4x4(0.212091982364655,-0.116560533642769,0.004949955269694,0.148717910051346,0.128256663680077,-0.098443910479546,-0.053266860544682,0.160750657320023,0.079985588788986,-0.121400013566017,-0.013839986175299,-0.026090927422047,-0.144079253077507,-0.122716188430786,0.153864681720734,-0.081370934844017));
res += mul(Get(s3,-dx,dy), float4x4(0.002723729470745,0.182368636131287,0.016508160158992,0.158591106534004,-0.112523145973682,0.053228877484798,-0.115628570318222,0.221148461103439,-0.063888333737850,-0.098227545619011,0.044907033443451,-0.065951362252235,0.042824104428291,0.018528170883656,0.099764741957188,-0.112408436834812));
res += mul(Get(s3,0,-dy), float4x4(-0.071643821895123,0.096768453717232,0.048830337822437,0.171314999461174,0.078961886465549,0.187391370534897,-0.201806768774986,0.106916263699532,0.128688916563988,-0.262493848800659,-0.056618183851242,-0.082663424313068,-0.026650780811906,-0.273510336875916,0.052396323531866,-0.078071966767311));
res += mul(Get(s3,0,0), float4x4(0.097201250493526,-0.101440787315369,-0.112413331866264,0.099624760448933,0.161296740174294,-0.085448011755943,-0.168328836560249,-0.010811462067068,0.134917333722115,0.013741546310484,-0.032238628715277,0.010385825298727,0.101507425308228,-0.123800382018089,0.085151001811028,-0.083501331508160));
res += mul(Get(s3,0,dy), float4x4(-0.014382369816303,0.189628913998604,-0.087011180818081,0.068689160048962,0.130262106657028,0.190386191010475,-0.090243242681026,0.118036560714245,0.224418923258781,0.026442121714354,0.031824298202991,-0.054589085280895,0.144306033849716,-0.108577057719231,-0.075501225888729,0.012324880808592));
res += mul(Get(s3,dx,-dy), float4x4(0.073779247701168,-0.047941353172064,0.288446635007858,0.086620435118675,0.305937409400940,0.041681487113237,0.064522661268711,-0.064078174531460,0.004527695942670,-0.356714636087418,-0.115697897970676,-0.196498602628708,0.173645213246346,-0.002046590670943,-0.112304247915745,-0.080471396446228));
res += mul(Get(s3,dx,0), float4x4(0.030119931325316,0.005623670760542,0.172449871897697,0.354547768831253,-0.059998478740454,0.031194658949971,0.092388227581978,-0.014923785813153,-0.114412002265453,0.101506374776363,-0.112805902957916,-0.108113408088684,0.084733001887798,-0.168471619486809,-0.032811690121889,-0.169951617717743));
res += mul(Get(s3,dx,dy), float4x4(0.188813403248787,0.155958667397499,0.078625611960888,-0.214810639619827,-0.002005521906540,0.194069027900696,-0.067317016422749,-0.000706648395862,-0.053239312022924,-0.020663132891059,-0.017679529264569,-0.113928623497486,0.100683599710464,-0.101439371705055,-0.206436127424240,-0.021226717159152));
return max(float4(0,0,0,0), res);
}
