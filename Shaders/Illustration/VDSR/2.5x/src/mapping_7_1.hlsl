sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.048088848590851,-0.002587397349998,0.188383862376213,-0.077811822295189,-0.073001593351364,-0.188331559300423,-0.084994599223137,0.244948580861092,0.100863896310329,0.009634054265916,0.211391597986221,-0.037173546850681,-0.004057854413986,0.139658406376839,-0.067590296268463,0.064672350883484));
res += mul(Get(s0,-dx,0), float4x4(0.014284905977547,0.138869836926460,-0.047151815146208,-0.069830000400543,-0.011363229714334,0.074213534593582,-0.080740250647068,0.135845154523849,-0.039822600781918,0.126869812607765,-0.118576422333717,0.153632342815399,-0.073708064854145,0.015092649497092,0.085471697151661,0.155239239335060));
res += mul(Get(s0,-dx,dy), float4x4(-0.056828323751688,0.114496044814587,-0.122581228613853,0.153289094567299,-0.124480284750462,-0.006541667971760,-0.068510890007019,0.227961823344231,0.106459356844425,0.100666858255863,0.084678083658218,-0.065985359251499,-0.012200503610075,0.055759273469448,-0.141534045338631,-0.201446831226349));
res += mul(Get(s0,0,-dy), float4x4(-0.041666232049465,0.204032436013222,-0.118163220584393,-0.180989846587181,-0.284249335527420,-0.055308643728495,0.099262483417988,0.030068099498749,0.122609399259090,0.206479921936989,-0.033766295760870,0.266186743974686,0.070736944675446,0.036337420344353,-0.221793815493584,0.034391526132822));
res += mul(Get(s0,0,0), float4x4(0.177659586071968,-0.015850437805057,-0.119618572294712,-0.048078119754791,-0.035227961838245,-0.273559540510178,0.184575945138931,-0.148207992315292,0.071238100528717,0.037526305764914,-0.064935982227325,0.008956921286881,0.251294314861298,0.043390031903982,-0.127215325832367,-0.017683878540993));
res += mul(Get(s0,0,dy), float4x4(0.051353190094233,-0.032747421413660,0.042271822690964,0.078735217452049,0.011120014823973,-0.098626047372818,0.069067768752575,0.047144230455160,-0.256362646818161,0.158653616905212,-0.136649385094643,0.060793627053499,0.156178146600723,0.067063383758068,-0.026554252952337,-0.026840426027775));
res += mul(Get(s0,dx,-dy), float4x4(0.158480450510979,0.192268863320351,0.174104481935501,-0.040734741836786,0.124918833374977,-0.200846448540688,0.137070119380951,-0.109491974115372,0.002283727517352,-0.152709022164345,0.026529774069786,0.039801631122828,-0.012319894507527,-0.001883635181002,0.060391359031200,-0.118817076086998));
res += mul(Get(s0,dx,0), float4x4(0.146556541323662,-0.057476289570332,0.027111861854792,0.188106685876846,0.080835692584515,0.078921131789684,-0.149569824337959,-0.070220068097115,-0.098427511751652,0.028260881081223,-0.007279960904270,-0.109340958297253,0.058449409902096,0.062049984931946,-0.010774677619338,-0.014615289866924));
res += mul(Get(s0,dx,dy), float4x4(0.034137301146984,0.046338211745024,0.128118246793747,-0.047758322209120,0.064438141882420,-0.006562822498381,-0.006624544505030,0.184591606259346,-0.174040079116821,0.187949687242508,-0.214808508753777,-0.164201080799103,0.116015046834946,-0.010476865805686,0.010010574944317,-0.117937430739403));
res += mul(Get(s1,-dx,-dy), float4x4(-0.088872045278549,-0.160158619284630,-0.120353229343891,0.024771206080914,0.065060518682003,-0.005266373511404,-0.016864042729139,0.104735076427460,-0.097721636295319,0.065536759793758,0.070954203605652,0.215382635593414,0.100787512958050,-0.091237217187881,0.097498670220375,0.160517096519470));
res += mul(Get(s1,-dx,0), float4x4(-0.077959127724171,-0.088803246617317,0.147137612104416,-0.047455191612244,-0.102274015545845,-0.006994010880589,-0.034569893032312,0.088719934225082,-0.148906156420708,0.070805221796036,-0.191542744636536,0.035631433129311,-0.060838706791401,0.088096939027309,-0.012922879308462,0.006570859346539));
res += mul(Get(s1,-dx,dy), float4x4(0.066902190446854,-0.007327146362513,-0.027344716712832,-0.135050475597382,-0.009802983142436,0.037419375032187,0.027800584211946,-0.035476826131344,-0.053139895200729,0.081169724464417,0.009681166149676,-0.131537124514580,-0.086048409342766,-0.096393868327141,0.146916463971138,-0.222302064299583));
res += mul(Get(s1,0,-dy), float4x4(0.176761761307716,0.027204912155867,0.062087681144476,-0.007572762668133,-0.002665351144969,-0.010577079840004,0.051374156028032,0.146065413951874,-0.088840760290623,-0.142795562744141,0.088579244911671,0.093674339354038,0.096035689115524,-0.027927957475185,0.286858379840851,0.057367138564587));
res += mul(Get(s1,0,0), float4x4(0.018049431964755,-0.095912583172321,-0.046528037637472,-0.113225474953651,0.074143484234810,0.033466484397650,0.012404117733240,0.050550177693367,0.017623497173190,-0.020906394347548,0.058369264006615,-0.059686228632927,0.019254151731730,-0.085923768579960,-0.038203887641430,0.055560406297445));
res += mul(Get(s1,0,dy), float4x4(0.144777387380600,-0.003051467007026,0.007647085469216,-0.205821186304092,0.015339293517172,-0.116960063576698,0.019221045076847,-0.128810018301010,-0.008691086433828,0.005522189196199,-0.030561506748199,-0.077011682093143,-0.003775481367484,0.045498725026846,-0.113416038453579,-0.127449318766594));
res += mul(Get(s1,dx,-dy), float4x4(-0.098095349967480,-0.106005430221558,0.140461981296539,-0.027080599218607,0.012087164446712,-0.174916490912437,0.148476541042328,-0.103440560400486,0.027689095586538,0.041814267635345,0.028296994045377,-0.091288067400455,0.030409645289183,-0.066418640315533,-0.019037595018744,-0.084215126931667));
res += mul(Get(s1,dx,0), float4x4(-0.052384257316589,-0.115056931972504,-0.108627565205097,0.105076752603054,0.083218678832054,0.160602733492851,-0.063822723925114,0.073355622589588,0.093099527060986,-0.055863592773676,-0.161593049764633,-0.149325102567673,0.094530232250690,-0.062473226338625,-0.010289660654962,0.023778136819601));
res += mul(Get(s1,dx,dy), float4x4(-0.027477385476232,-0.042959824204445,-0.046029858291149,0.049240667372942,-0.201840922236443,-0.055483188480139,-0.016365069895983,0.020146753638983,-0.048514928668737,-0.001316084875725,0.190027460455894,-0.026716047897935,0.180866494774818,0.133584395051003,0.063769944012165,0.079416409134865));
res += mul(Get(s2,-dx,-dy), float4x4(0.160678461194038,-0.162043780088425,-0.079895138740540,-0.098989717662334,-0.086103111505508,0.048416942358017,-0.024346480146050,-0.080526769161224,-0.139352560043335,0.072802886366844,-0.098286740481853,0.229120865464211,0.064686216413975,-0.052044358104467,-0.172517329454422,0.056604236364365));
res += mul(Get(s2,-dx,0), float4x4(-0.081541024148464,-0.137421622872353,-0.130991965532303,0.064340688288212,-0.091513171792030,0.006441745907068,0.036772388964891,-0.147516787052155,0.022967038676143,-0.081288315355778,0.160056918859482,-0.125259846448898,-0.155626386404037,-0.103622168302536,0.106878355145454,-0.198150470852852));
res += mul(Get(s2,-dx,dy), float4x4(-0.003403943730518,0.222213730216026,-0.035137403756380,0.047065109014511,0.032859101891518,0.082248531281948,0.089313052594662,0.146297097206116,-0.001735836151056,0.094569668173790,0.074639454483986,-0.108172506093979,0.197158962488174,0.167566746473312,-0.171330034732819,-0.084276251494884));
res += mul(Get(s2,0,-dy), float4x4(-0.085512064397335,-0.262333333492279,-0.032580614089966,0.029795406386256,-0.163455292582512,-0.129779413342476,0.018691970035434,-0.054049231112003,-0.094768032431602,0.221336349844933,-0.178225427865982,-0.107886925339699,0.232416644692421,0.029525477439165,0.089262753725052,-0.087913990020752));
res += mul(Get(s2,0,0), float4x4(0.120616324245930,-0.058436892926693,0.019145639613271,0.193316325545311,-0.239796057343483,-0.162827447056770,-0.116778098046780,0.106372185051441,-0.109232187271118,0.093058750033379,-0.046067290008068,-0.008617009036243,0.031741846352816,-0.193211287260056,0.027715018019080,-0.043206471949816));
res += mul(Get(s2,0,dy), float4x4(0.177173629403114,-0.016224222257733,0.034906279295683,-0.046785257756710,0.044169448316097,-0.029190802946687,-0.085717320442200,0.093737617135048,0.051557023078203,0.013813339173794,0.033518925309181,-0.031511511653662,-0.016159052029252,0.000883202650584,0.017004694789648,0.093026526272297));
res += mul(Get(s2,dx,-dy), float4x4(0.025244515389204,-0.042868096381426,-0.039021428674459,-0.075222536921501,-0.131228148937225,-0.157765045762062,0.056857258081436,-0.023800291121006,-0.057817984372377,0.105779550969601,-0.116226561367512,-0.130466982722282,0.010246408171952,-0.006030217744410,0.175527095794678,0.045708816498518));
res += mul(Get(s2,dx,0), float4x4(0.107256211340427,-0.096377864480019,0.023653132840991,-0.111721396446228,0.026302490383387,0.229820862412453,-0.103331781923771,0.190159842371941,0.050324987620115,0.202148318290710,0.022592011839151,-0.131324410438538,-0.133529677987099,-0.036170799285173,-0.205026283860207,0.109791800379753));
res += mul(Get(s2,dx,dy), float4x4(0.100201994180679,-0.083933912217617,-0.018481938168406,-0.046546444296837,0.020173475146294,0.107441261410713,-0.127568870782852,0.003059427952394,-0.031388211995363,0.024391690269113,0.045610584318638,-0.211975008249283,0.044256407767534,0.000464059208753,-0.023777769878507,-0.140728756785393));
res += mul(Get(s3,-dx,-dy), float4x4(0.076929181814194,-0.049144178628922,0.023691218346357,0.070466861128807,-0.091793566942215,0.198413446545601,0.042153779417276,-0.059314999729395,-0.017179660499096,-0.149492293596268,-0.058192815631628,-0.023188635706902,0.103289000689983,-0.013024915941060,-0.147655814886093,0.019938480108976));
res += mul(Get(s3,-dx,0), float4x4(0.168108567595482,0.080458708107471,-0.142462417483330,-0.215343832969666,0.014479065313935,0.143007412552834,-0.121455237269402,0.232972666621208,0.093466371297836,-0.075710348784924,-0.134550824761391,0.025052668526769,-0.164161458611488,0.102797962725163,0.139951556921005,-0.023850187659264));
res += mul(Get(s3,-dx,dy), float4x4(-0.068178385496140,0.037456162273884,0.085324354469776,0.009096401743591,-0.177898138761520,-0.033094108104706,-0.058700188994408,0.015502340160310,0.110816352069378,0.017978841438890,0.167760521173477,-0.048156481236219,0.042831458151340,-0.173306167125702,-0.116199970245361,-0.010970902629197));
res += mul(Get(s3,0,-dy), float4x4(-0.088120713829994,0.159307986497879,0.008169478736818,-0.224317237734795,0.002280202927068,-0.318823248147964,-0.068128228187561,-0.082543149590492,-0.121624834835529,-0.024263674393296,0.099131904542446,0.020764453336596,-0.125559136271477,0.090892665088177,-0.201158374547958,0.051691181957722));
res += mul(Get(s3,0,0), float4x4(-0.102824307978153,0.043561916798353,0.028939753770828,-0.047594275325537,0.230172291398048,-0.167600199580193,-0.177070662379265,0.116007506847382,-0.027009258046746,-0.186060965061188,0.118640571832657,0.077010907232761,-0.062329832464457,0.071630664169788,0.167009845376015,-0.098288208246231));
res += mul(Get(s3,0,dy), float4x4(-0.048980999737978,-0.189678028225899,-0.133634746074677,-0.199939697980881,0.047783169895411,-0.177257910370827,-0.165907010436058,-0.192962244153023,0.102895729243755,-0.085147038102150,0.202061846852303,0.012476034462452,-0.026343248784542,0.166537746787071,0.022137414664030,-0.160070315003395));
res += mul(Get(s3,dx,-dy), float4x4(-0.020526338368654,0.070403896272182,0.059804126620293,0.136123567819595,-0.074180483818054,0.099788077175617,0.018637638539076,-0.190055623650551,0.087869018316269,-0.159861162304878,-0.011481815017760,-0.042870987206697,0.383145928382874,0.160480812191963,-0.030716938897967,-0.061975300312042));
res += mul(Get(s3,dx,0), float4x4(-0.139738470315933,-0.075928837060928,-0.076572746038437,-0.101560153067112,0.192554816603661,-0.012461812235415,0.037963889539242,-0.108360275626183,0.144118949770927,0.083675630390644,0.016040299087763,0.152735352516174,0.117909014225006,0.121860094368458,0.015578530728817,-0.015557541511953));
res += mul(Get(s3,dx,dy), float4x4(0.089049927890301,0.141429796814919,0.106418333947659,0.051542960107327,0.116461910307407,0.016719909384847,0.148862734436989,-0.028200151398778,-0.072248056530952,-0.032511018216610,-0.043759260326624,0.076352231204510,0.050870921462774,0.054382447153330,-0.214922279119492,0.011365047656000));
return max(float4(0,0,0,0), res);
}
