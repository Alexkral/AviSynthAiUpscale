sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.022546701133251,-0.073981054127216,-0.013171720318496,-0.092485576868057,0.206978306174278,0.076903499662876,0.129479110240936,-0.067615926265717,0.024240791797638,-0.013817100785673,0.022963315248489,-0.140783727169037,-0.030684249475598,0.006184718571603,0.143036842346191,-0.110043480992317));
res += mul(Get(s0,-dx,0), float4x4(0.001654910738580,0.028456261381507,-0.138483956456184,0.077261775732040,0.112334214150906,0.118800304830074,-0.028917534276843,0.038873825222254,-0.023675287142396,-0.029083171859384,-0.040569130331278,-0.119676679372787,-0.042206209152937,-0.073709174990654,-0.067932672798634,-0.158694788813591));
res += mul(Get(s0,-dx,dy), float4x4(0.063798114657402,-0.034246042370796,-0.055985480546951,0.042659036815166,0.126994282007217,-0.108883984386921,0.054619830101728,-0.118429683148861,-0.159868553280830,0.042473491281271,-0.005184740293771,0.131703540682793,-0.084103569388390,0.028984040021896,-0.140761971473694,-0.135657668113708));
res += mul(Get(s0,0,-dy), float4x4(0.037079077214003,-0.198597759008408,-0.004295985214412,-0.018722433596849,0.183463141322136,0.063058003783226,0.106711693108082,0.043126136064529,0.112035050988197,-0.049320641905069,0.067388914525509,-0.104285381734371,-0.108931839466095,0.010120191611350,0.106708683073521,0.136667162179947));
res += mul(Get(s0,0,0), float4x4(0.033046290278435,0.078555174171925,0.190743222832680,0.071751035749912,0.184309929609299,-0.083056434988976,-0.029278555884957,-0.043740402907133,-0.070964030921459,-0.017624506726861,-0.020065892487764,-0.057803809642792,-0.093262873589993,-0.027422394603491,-0.037774350494146,0.065385878086090));
res += mul(Get(s0,0,dy), float4x4(-0.024079885333776,-0.056134808808565,0.092697173357010,-0.162369176745415,0.007493180688471,0.079914093017578,-0.014156730845571,-0.072698391973972,0.171785727143288,-0.077535778284073,-0.005008970852941,0.245827198028564,-0.139989584684372,-0.037901613861322,-0.142250165343285,0.200153052806854));
res += mul(Get(s0,dx,-dy), float4x4(-0.124010413885117,0.066230066120625,0.101904064416885,-0.024651417508721,-0.110998399555683,0.045646298676729,0.220471903681755,-0.089248687028885,0.086122766137123,0.025243634358048,-0.087984748184681,0.019690558314323,-0.092166952788830,-0.062830597162247,0.005833456292748,-0.028225732967257));
res += mul(Get(s0,dx,0), float4x4(0.224409133195877,0.201223626732826,0.009893799200654,-0.041807532310486,0.264937162399292,0.015174376778305,-0.215712815523148,0.040094867348671,0.027049906551838,0.047362338751554,-0.016042003408074,0.060458585619926,-0.031541574746370,-0.013954599387944,-0.085098184645176,0.332596540451050));
res += mul(Get(s0,dx,dy), float4x4(-0.173973441123962,0.229940906167030,0.197573617100716,-0.106765069067478,0.135283425450325,-0.008916019462049,-0.126564547419548,-0.069802716374397,0.118807591497898,0.046959906816483,0.048979766666889,0.174467012286186,-0.118168696761131,0.037156336009502,-0.064052850008011,0.337077915668488));
res += mul(Get(s1,-dx,-dy), float4x4(-0.127429455518723,-0.136021465063095,0.051305372267962,-0.120166093111038,-0.041964191943407,-0.144581720232964,-0.001104481518269,-0.068873338401318,-0.009616312570870,-0.157107815146446,-0.089149609208107,-0.316108882427216,0.027244962751865,-0.120929993689060,-0.111526660621166,-0.089201353490353));
res += mul(Get(s1,-dx,0), float4x4(-0.083349652588367,-0.179963499307632,-0.031670335680246,-0.067659966647625,0.047408841550350,-0.001335487118922,0.044955361634493,-0.117405697703362,0.085476383566856,0.113564424216747,0.074131302535534,-0.151914194226265,0.004685608670115,-0.108612813055515,-0.185811772942543,-0.109257407486439));
res += mul(Get(s1,-dx,dy), float4x4(-0.040968474000692,0.065020255744457,0.045804180204868,0.252572625875473,-0.130840703845024,-0.121436618268490,0.029087098315358,-0.122905306518078,0.050114121288061,0.238250717520714,0.202019676566124,-0.134488806128502,-0.134930700063705,-0.104395039379597,-0.158220052719116,-0.150187358260155));
res += mul(Get(s1,0,-dy), float4x4(0.151392340660095,-0.148234337568283,-0.080034300684929,-0.041592996567488,-0.070945113897324,0.063631452620029,-0.054864715784788,0.038827896118164,0.236387073993683,-0.185092747211456,-0.234401613473892,-0.215442538261414,-0.024425964802504,-0.001448810333386,0.041527524590492,-0.115950480103493));
res += mul(Get(s1,0,0), float4x4(0.096827343106270,-0.117872409522533,-0.171236038208008,0.081139519810677,0.081799082458019,0.101728051900864,0.048421625047922,-0.006887296214700,0.034717876464128,0.296062380075455,0.066409848630428,-0.027916707098484,-0.056069400161505,-0.160590097308159,-0.135801091790199,-0.041906043887138));
res += mul(Get(s1,0,dy), float4x4(-0.090549141168594,-0.031052695587277,-0.109757088124752,0.398563772439957,0.004909536801279,0.016895638778806,0.041648421436548,-0.007009919267148,0.020234938710928,0.062364503741264,-0.072747610509396,0.010967733338475,-0.109002523124218,-0.058730140328407,-0.106039300560951,-0.017581721767783));
res += mul(Get(s1,dx,-dy), float4x4(-0.058611795306206,-0.164669305086136,-0.071388781070709,-0.023676399141550,-0.015267254784703,0.001618596957996,0.081910431385040,0.042398080229759,-0.051234576851130,0.016382109373808,0.054498832672834,-0.143289923667908,-0.008908598683774,0.098406821489334,0.111873522400856,-0.105613008141518));
res += mul(Get(s1,dx,0), float4x4(0.030410453677177,-0.157051309943199,-0.079704441130161,-0.048020128160715,0.090613782405853,0.209435865283012,-0.027243109419942,0.047618206590414,-0.020650783553720,-0.030040699988604,-0.008059602230787,-0.069956555962563,-0.135336890816689,0.130117997527122,0.168781906366348,0.029834104701877));
res += mul(Get(s1,dx,dy), float4x4(-0.075037747621536,-0.041882857680321,-0.159096717834473,0.143253028392792,0.047460120171309,0.163238838315010,0.112846925854683,0.037973068654537,-0.013370271772146,0.000679786957335,-0.087244398891926,-0.054525885730982,-0.195981264114380,0.151542171835899,-0.058080259710550,0.237381070852280));
res += mul(Get(s2,-dx,-dy), float4x4(-0.024308433756232,-0.034336782991886,0.061545934528112,-0.111178509891033,0.077973708510399,0.122243136167526,0.304311007261276,0.005673819221556,0.171146452426910,0.356845289468765,0.308481991291046,0.039961099624634,0.007653977256268,0.211434677243233,0.014212283305824,-0.076252609491348));
res += mul(Get(s2,-dx,0), float4x4(-0.123840659856796,-0.084947139024734,0.070515073835850,-0.153233900666237,-0.033127896487713,0.103335902094841,0.054217394441366,-0.030726959928870,0.170829519629478,-0.169492512941360,0.111274562776089,-0.066889211535454,-0.051207389682531,0.131809845566750,0.065474845468998,-0.039171580225229));
res += mul(Get(s2,-dx,dy), float4x4(-0.064331039786339,-0.028120754286647,0.084304839372635,0.120410308241844,-0.116622515022755,-0.135284543037415,0.043073076754808,-0.144942596554756,-0.008266829885542,0.045621488243341,-0.027569636702538,-0.181412607431412,0.055156551301479,0.418099999427795,-0.295683562755585,-0.110840298235416));
res += mul(Get(s2,0,-dy), float4x4(-0.076878108084202,-0.072679951786995,0.040104065090418,-0.158364444971085,0.151807650923729,0.121384404599667,0.045476775616407,-0.071054115891457,-0.194084182381630,0.005574569571763,0.011727721430361,-0.088561624288559,-0.109171561896801,0.159235551953316,0.203170344233513,-0.006194240879267));
res += mul(Get(s2,0,0), float4x4(-0.083147428929806,-0.098698869347572,-0.069567412137985,-0.188885644078255,-0.079130105674267,-0.002583055989817,0.015854148194194,0.000711541681085,-0.064107187092304,-0.193108543753624,-0.114179864525795,-0.073390603065491,0.071364887058735,-0.012252368032932,0.039475783705711,-0.064058445394039));
res += mul(Get(s2,0,dy), float4x4(0.073909975588322,0.005507058463991,-0.066695936024189,0.213519498705864,-0.303703546524048,-0.194851189851761,0.181716337800026,-0.116962045431137,0.052719790488482,0.024325164034963,-0.012447462417185,-0.089003935456276,0.243905633687973,-0.001788869732991,-0.172336265444756,-0.079977273941040));
res += mul(Get(s2,dx,-dy), float4x4(-0.142971321940422,-0.146532043814659,-0.075225450098515,-0.030947789549828,0.094978258013725,0.012723087333143,-0.157119512557983,-0.119472041726112,-0.075845398008823,0.096986532211304,-0.035964816808701,-0.088894523680210,0.056694816797972,0.105492830276489,0.170872405171394,-0.096913173794746));
res += mul(Get(s2,dx,0), float4x4(-0.084896855056286,-0.102347858250141,-0.084853731095791,0.060910597443581,-0.119695879518986,-0.032609850168228,0.146341517567635,-0.047078993171453,0.054565411061049,0.105338387191296,-0.082828782498837,-0.062580078840256,-0.033479075878859,0.042994190007448,0.081680931150913,-0.113065458834171));
res += mul(Get(s2,dx,dy), float4x4(0.043632641434669,-0.011609456501901,-0.124430395662785,0.067344672977924,-0.013634439557791,-0.120998054742813,-0.088049165904522,-0.080530874431133,0.130157440900803,0.139432862401009,-0.099504008889198,-0.048898205161095,0.126653000712395,0.130565375089645,-0.112404964864254,-0.057441588491201));
res += mul(Get(s3,-dx,-dy), float4x4(-0.050298757851124,-0.132797405123711,0.016519295051694,-0.020721094682813,0.019548019394279,-0.178128227591515,0.002121755853295,0.137038797140121,0.052758753299713,-0.074460566043854,0.179039239883423,-0.047813512384892,-0.036704618483782,-0.080454684793949,0.068969607353210,0.060935206711292));
res += mul(Get(s3,-dx,0), float4x4(-0.045212093740702,-0.077015660703182,0.024761611595750,-0.133640438318253,0.008210273459554,-0.089741215109825,0.027381343767047,0.070894412696362,-0.167327120900154,-0.171359866857529,0.220705300569534,-0.076268590986729,-0.117298789322376,-0.079405084252357,0.054439295083284,0.160674154758453));
res += mul(Get(s3,-dx,dy), float4x4(-0.089516289532185,-0.072008669376373,-0.099687151610851,0.020109299570322,-0.041887465864420,-0.002982112579048,-0.128371313214302,-0.015966786071658,-0.010234735906124,-0.209585011005402,0.135140225291252,0.118109673261642,-0.053751360625029,-0.028077781200409,-0.007285323925316,0.027782145887613));
res += mul(Get(s3,0,-dy), float4x4(-0.057256326079369,-0.159399211406708,-0.037120264023542,0.135890528559685,0.003368867095560,-0.017468146979809,-0.005988397635520,0.062642849981785,0.139555931091309,-0.073059439659119,-0.004513139370829,0.124226868152618,-0.003602983197197,-0.202235877513885,-0.077456906437874,0.081120751798153));
res += mul(Get(s3,0,0), float4x4(-0.033351365476847,-0.005130547564477,-0.041960120201111,0.070714466273785,0.065078094601631,0.181408345699310,0.055288244038820,0.036260325461626,0.159756541252136,-0.129363179206848,0.106279812753201,0.013442082330585,-0.105122610926628,-0.034506734460592,-0.121329993009567,0.195682615041733));
res += mul(Get(s3,0,dy), float4x4(-0.023960458114743,0.017829393967986,-0.052388366311789,0.033971324563026,0.077355764806271,-0.002897461643443,-0.119547106325626,0.011700227856636,0.244869276881218,-0.133952140808105,-0.094981722533703,0.090045683085918,-0.019197069108486,0.171350166201591,-0.023548483848572,0.114451102912426));
res += mul(Get(s3,dx,-dy), float4x4(-0.099736638367176,0.083818078041077,0.183665007352829,-0.240965366363525,0.222077265381813,0.140965521335602,-0.103861823678017,-0.097171120345592,-0.038837268948555,-0.058719117194414,0.121152423322201,-0.018999386578798,-0.090109169483185,-0.197523400187492,0.017541360110044,0.108596965670586));
res += mul(Get(s3,dx,0), float4x4(-0.122006759047508,0.268353641033173,0.130852043628693,-0.109952561557293,0.055043250322342,0.104746326804161,-0.039090197533369,0.005815517622977,0.052681766450405,-0.146572381258011,-0.089022576808929,0.069179147481918,0.019236503168941,0.002304633613676,-0.072049781680107,0.047202061861753));
res += mul(Get(s3,dx,dy), float4x4(-0.187571436166763,-0.063894785940647,0.162759035825729,-0.020526710897684,0.047343976795673,0.061817448586226,-0.235442519187927,-0.050548348575830,0.327952772378922,-0.257634460926056,-0.198943674564362,-0.036403730511665,-0.094941005110741,0.179013848304749,0.010040006600320,-0.109721750020981));
return max(float4(0,0,0,0), res);
}
