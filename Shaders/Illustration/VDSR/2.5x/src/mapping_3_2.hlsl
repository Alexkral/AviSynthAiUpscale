sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.013410336337984,-0.221707612276077,0.129266217350960,0.038348950445652,0.037416897714138,-0.029171491041780,0.141394034028053,0.047260891646147,-0.079736672341824,0.011703602038324,0.060936108231544,0.267079919576645,0.009711389429867,0.013380457647145,-0.150589168071747,0.087967596948147));
res += mul(Get(s0,-dx,0), float4x4(-0.004182512871921,-0.078788712620735,-0.027569040656090,0.094684146344662,0.007017656229436,0.225370466709137,0.147928446531296,-0.032375741750002,0.140290707349777,0.043309241533279,0.090753614902496,0.067053191363811,-0.111596316099167,-0.044018175452948,0.018341621384025,0.064912274479866));
res += mul(Get(s0,-dx,dy), float4x4(-0.003484574845061,-0.099823810160160,0.053429793566465,0.095584847033024,0.025132892653346,0.073870986700058,0.058149456977844,0.196053609251976,-0.014837916009128,-0.050572216510773,-0.050039604306221,0.115593180060387,0.046147942543030,-0.056110784411430,-0.094430461525917,-0.114177182316780));
res += mul(Get(s0,0,-dy), float4x4(-0.080599345266819,0.041843760758638,-0.166519030928612,0.004809783305973,-0.073979325592518,-0.153117820620537,0.055571701377630,-0.088274970650673,0.104956254363060,-0.059438414871693,-0.058388322591782,-0.071124166250229,0.169836252927780,0.044016771018505,-0.035985939204693,0.002359662204981));
res += mul(Get(s0,0,0), float4x4(0.127904102206230,0.036144535988569,-0.188063934445381,-0.173244133591652,-0.046854987740517,0.204565763473511,-0.067374236881733,0.118670493364334,-0.159176856279373,0.074642390012741,0.018729157745838,-0.020502328872681,0.088426284492016,0.207023248076439,-0.025808494538069,-0.037019997835159));
res += mul(Get(s0,0,dy), float4x4(-0.158782988786697,-0.127439215779305,0.100297868251801,-0.142166271805763,0.007939791306853,-0.005408590659499,-0.129566207528114,0.137407958507538,0.151214495301247,0.116174913942814,0.044734906405210,-0.120316490530968,0.067994393408298,0.170698821544647,-0.053850412368774,-0.165042817592621));
res += mul(Get(s0,dx,-dy), float4x4(0.114125408232212,-0.003713211975992,0.057089883834124,0.226452678442001,-0.188146829605103,0.029444731771946,0.058790534734726,0.068428292870522,0.092533603310585,0.031994592398405,0.061497963964939,0.100767895579338,0.136928126215935,-0.039581127464771,0.130288511514664,0.089759342372417));
res += mul(Get(s0,dx,0), float4x4(0.061527777463198,-0.010234744288027,0.003769624978304,0.000830799632240,0.108978413045406,-0.067972980439663,-0.044637843966484,-0.027668969705701,-0.107408031821251,0.059450685977936,-0.197811722755432,-0.111529253423214,-0.100936517119408,0.118694581091404,0.069954395294189,0.066443555057049));
res += mul(Get(s0,dx,dy), float4x4(0.100587777793407,0.034024305641651,-0.019804174080491,0.021541912108660,0.091533616185188,0.170295685529709,0.032070212066174,0.142932653427124,0.097993031144142,0.225750803947449,-0.067473098635674,0.086397737264633,0.079687640070915,-0.038595836609602,-0.082508385181427,0.203149974346161));
res += mul(Get(s1,-dx,-dy), float4x4(0.198157042264938,-0.062111403793097,-0.022876670584083,-0.058369290083647,-0.017285987734795,-0.020855713635683,0.000372981361579,0.081657811999321,0.058315239846706,0.083905600011349,-0.155359253287315,0.076855145394802,0.139621198177338,0.075468160212040,-0.326062440872192,-0.248346477746964));
res += mul(Get(s1,-dx,0), float4x4(-0.197075650095940,-0.150065988302231,0.040155671536922,-0.056764945387840,-0.013557994738221,0.025109507143497,0.029500756412745,0.129822716116905,0.179158657789230,0.106064483523369,0.117884270846844,-0.161447957158089,0.133884146809578,0.005612280219793,-0.176551714539528,-0.167268171906471));
res += mul(Get(s1,-dx,dy), float4x4(-0.179284587502480,-0.032387029379606,0.159547895193100,-0.002628912683576,0.096317112445831,-0.106881752610207,0.112330615520477,0.049922544509172,-0.090138807892799,-0.018398124724627,-0.017762990668416,-0.116991281509399,0.142604574561119,0.224079594016075,0.098170153796673,-0.069239787757397));
res += mul(Get(s1,0,-dy), float4x4(0.050816878676414,0.201502218842506,0.056485887616873,0.041063807904720,-0.110978193581104,-0.116353549063206,-0.024229083210230,0.048594150692225,0.124377049505711,-0.042643006891012,-0.036402143537998,-0.134009435772896,0.173547357320786,-0.259328871965408,0.214655190706253,-0.096134781837463));
res += mul(Get(s1,0,0), float4x4(0.249082326889038,-0.129972383379936,0.054097164422274,0.014441580511630,-0.125096961855888,-0.042420502752066,-0.068717733025551,-0.052238982170820,0.068889677524567,-0.086372844874859,0.101319357752800,0.121509961783886,0.005865270271897,0.003665554570034,-0.047816984355450,-0.020564319565892));
res += mul(Get(s1,0,dy), float4x4(0.061758883297443,-0.199824199080467,0.123324394226074,0.014315982349217,0.115738734602928,-0.201811566948891,0.139317408204079,-0.019852243363857,-0.084058701992035,-0.172182977199554,0.056241415441036,-0.094879418611526,0.060922488570213,-0.057351771742105,0.119002945721149,-0.035684905946255));
res += mul(Get(s1,dx,-dy), float4x4(0.116035662591457,-0.068792223930359,0.030721239745617,-0.127328678965569,-0.098070085048676,-0.196436479687691,0.000851460557897,-0.202331244945526,-0.058808255940676,0.157042682170868,0.001047862577252,-0.199509456753731,-0.240612089633942,-0.077075995504856,-0.110530324280262,-0.075272560119629));
res += mul(Get(s1,dx,0), float4x4(-0.124843925237656,-0.037321578711271,-0.058981694281101,-0.104504100978374,0.135198131203651,-0.063774406909943,0.122613564133644,0.106325797736645,0.058680932968855,-0.045391120016575,0.049974046647549,0.009468069300056,-0.063527174293995,-0.059639386832714,-0.086181499063969,-0.046978995203972));
res += mul(Get(s1,dx,dy), float4x4(0.149738088250160,-0.062653034925461,0.070722013711929,-0.022505758330226,0.148002058267593,-0.005279784090817,-0.037200998514891,-0.083281576633453,-0.152611479163170,0.153429523110390,0.072907023131847,-0.195329695940018,0.054984223097563,0.084134481847286,-0.089291602373123,-0.237674862146378));
res += mul(Get(s2,-dx,-dy), float4x4(0.028575964272022,0.023393696174026,0.047292783856392,-0.148130103945732,-0.061701811850071,-0.183653399348259,-0.004168788436800,0.147802501916885,0.101239532232285,-0.016863873228431,0.132068395614624,-0.157977059483528,0.020011134445667,0.110835373401642,0.113880790770054,-0.110778272151947));
res += mul(Get(s2,-dx,0), float4x4(0.160661950707436,-0.101516336202621,-0.050693858414888,-0.105615280568600,-0.201941579580307,0.068469747900963,-0.094105221331120,-0.121836379170418,-0.083863638341427,0.260156005620956,-0.165137752890587,0.076751857995987,-0.155536934733391,-0.020815044641495,-0.107914105057716,-0.050973314791918));
res += mul(Get(s2,-dx,dy), float4x4(0.206647485494614,-0.165806785225868,-0.114637978374958,0.086118906736374,-0.010513369925320,0.057304695248604,0.162753731012344,0.083879135549068,0.153413027524948,0.021194467321038,0.006923604756594,-0.046089909970760,0.077458478510380,0.257542431354523,0.072156660258770,-0.162745833396912));
res += mul(Get(s2,0,-dy), float4x4(-0.000740402669180,0.016393648460507,0.180359035730362,-0.124365709722042,0.066519252955914,-0.164113178849220,-0.051441214978695,-0.216939374804497,-0.073532596230507,0.049125500023365,-0.208721220493317,-0.003038306487724,0.014311231672764,-0.061498071998358,0.017658095806837,-0.075425878167152));
res += mul(Get(s2,0,0), float4x4(0.047442413866520,0.166264712810516,0.067349798977375,-0.096684820950031,0.062123842537403,0.176623433828354,0.014274494722486,-0.148008361458778,0.023791106417775,-0.052588433027267,-0.129279866814613,-0.083515197038651,0.158819302916527,0.100447632372379,-0.051969274878502,-0.078548982739449));
res += mul(Get(s2,0,dy), float4x4(0.031684160232544,-0.048894438892603,0.055492196232080,0.000356046977686,-0.081017695367336,0.039639867842197,0.184593930840492,-0.146517246961594,-0.314418882131577,0.056071210652590,0.102659821510315,-0.157634779810905,0.112332604825497,-0.175794973969460,-0.191687211394310,-0.057787191122770));
res += mul(Get(s2,dx,-dy), float4x4(-0.029227223247290,0.008999628014863,0.017047928646207,0.028548292815685,0.019250724464655,-0.263360857963562,0.220548227429390,-0.023109409958124,0.092860266566277,0.105390049517155,-0.013300339691341,-0.037845805287361,0.006502334494144,0.067278325557709,0.073664672672749,0.009899980388582));
res += mul(Get(s2,dx,0), float4x4(-0.047189164906740,0.210703909397125,-0.107617944478989,0.101514145731926,-0.054636310786009,0.026054548099637,-0.081574343144894,0.053398597985506,0.084633126854897,-0.073175273835659,0.064124122262001,0.106269545853138,0.057494051754475,-0.009993726387620,-0.047226212918758,-0.200197666883469));
res += mul(Get(s2,dx,dy), float4x4(-0.064601577818394,0.014992877840996,0.205652341246605,-0.085068024694920,-0.099566727876663,0.056867789477110,-0.183116033673286,0.031029475852847,-0.185514435172081,0.035196956247091,-0.092996418476105,-0.161138862371445,-0.071493551135063,-0.169162452220917,0.103268213570118,0.013896096497774));
res += mul(Get(s3,-dx,-dy), float4x4(0.210674732923508,-0.054245367646217,-0.253668725490570,0.032825823873281,0.053577072918415,-0.143062233924866,0.009827661328018,0.085010513663292,0.020616866648197,-0.046420220285654,-0.103519998490810,-0.071794256567955,0.217652171850204,-0.012179682962596,0.027547065168619,-0.160339072346687));
res += mul(Get(s3,-dx,0), float4x4(-0.156091645359993,-0.018880961462855,0.033317435532808,-0.087601378560066,-0.150250390172005,0.036499947309494,0.003442736109719,0.007774688769132,-0.060148611664772,0.184795513749123,0.099383436143398,0.072166249155998,0.087813951075077,0.026618340983987,-0.061033528298140,-0.169193506240845));
res += mul(Get(s3,-dx,dy), float4x4(0.092154368758202,-0.023808754980564,-0.093735098838806,0.018242975696921,-0.164924487471581,0.093545153737068,-0.220100134611130,0.021076386794448,0.006785322912037,-0.083892285823822,0.177036330103874,0.159665197134018,-0.040773756802082,-0.063983581960201,-0.176819130778313,-0.317142158746719));
res += mul(Get(s3,0,-dy), float4x4(0.002033560769632,0.161257311701775,0.050730265676975,0.284099638462067,-0.195454090833664,0.042021308094263,-0.039437845349312,0.118642352521420,0.030777305364609,-0.027034137398005,-0.048993170261383,-0.136830940842628,0.241394817829132,0.076575502753258,0.037581849843264,0.026337599381804));
res += mul(Get(s3,0,0), float4x4(0.056915398687124,-0.046058006584644,-0.023523135110736,0.158479541540146,-0.102101027965546,-0.140982523560524,0.144806712865829,0.180500313639641,0.045307599008083,-0.071675874292850,-0.109522111713886,0.124546378850937,-0.160484269261360,0.022659748792648,0.038668509572744,-0.177044481039047));
res += mul(Get(s3,0,dy), float4x4(0.063283182680607,-0.100302077829838,0.062935046851635,-0.159805580973625,-0.298167437314987,-0.110269866883755,-0.025815660133958,-0.111138984560966,-0.109052456915379,0.160724133253098,0.157028272747993,-0.046457163989544,0.120915763080120,-0.130368053913116,-0.056337855756283,-0.066301167011261));
res += mul(Get(s3,dx,-dy), float4x4(0.177340433001518,-0.079953774809837,-0.024135684594512,0.104118637740612,0.156718656420708,-0.150602012872696,-0.230463325977325,-0.180558159947395,-0.107328295707703,0.167366489768028,-0.054648879915476,0.211251899600029,-0.030811937525868,0.167656198143959,0.009624354541302,-0.073175467550755));
res += mul(Get(s3,dx,0), float4x4(-0.269760370254517,0.208861961960793,0.100886836647987,-0.022461613640189,0.094103641808033,-0.033871620893478,-0.079060576856136,-0.034399081021547,-0.104356348514557,-0.003204514505342,-0.049920078366995,-0.076998062431812,0.052331037819386,-0.035084847360849,0.153552561998367,-0.170131564140320));
res += mul(Get(s3,dx,dy), float4x4(0.001963339047506,0.058135479688644,0.045142352581024,-0.033035233616829,-0.015569093637168,0.052380889654160,-0.233421653509140,0.010910267941654,0.050330393016338,-0.071672745049000,0.004153565503657,0.012480418197811,-0.021959098055959,0.176564320921898,-0.061445061117411,0.187999576330185));
return max(float4(0,0,0,0), res);
}
