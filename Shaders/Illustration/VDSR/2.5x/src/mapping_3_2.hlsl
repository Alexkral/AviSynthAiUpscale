sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.104731820523739,-0.134605497121811,0.010586838237941,0.009161770343781,-0.039941720664501,-0.029264416545630,-0.042984332889318,0.174854800105095,-0.023634681478143,0.100777134299278,-0.041143041104078,-0.109733216464520,0.045600049197674,0.104669451713562,0.051267080008984,0.023297416046262));
res += mul(Get(s0,-dx,0), float4x4(-0.082646362483501,0.020687935873866,-0.221654847264290,-0.118940360844135,0.019997816532850,-0.090257570147514,-0.173879876732826,-0.117627605795860,0.222870022058487,0.042812600731850,-0.118898876011372,-0.273657858371735,0.148211717605591,0.033537533134222,0.003074350766838,0.012712381780148));
res += mul(Get(s0,-dx,dy), float4x4(-0.086780242621899,-0.052674777805805,-0.166592210531235,-0.173619866371155,0.039233475923538,-0.000153361106641,-0.213225096464157,-0.217985451221466,0.057668533176184,0.059813685715199,0.056462641805410,0.202332973480225,0.118785813450813,0.138466745615005,0.002411589026451,0.001413229969330));
res += mul(Get(s0,0,-dy), float4x4(0.139585793018341,-0.145985841751099,-0.009004148654640,-0.064814254641533,-0.111795552074909,-0.077523410320282,0.007861468940973,0.376425653696060,-0.019806068390608,-0.056817434728146,0.045284662395716,-0.067912444472313,0.055044155567884,0.093742243945599,0.029605636373162,0.075729541480541));
res += mul(Get(s0,0,0), float4x4(-0.144360363483429,-0.138692677021027,-0.034508753567934,-0.104043625295162,-0.027813913300633,-0.171637579798698,0.253493428230286,0.251820951700211,0.033353824168444,0.041471738368273,-0.069582574069500,-0.173818990588188,0.181630089879036,0.086986377835274,0.001293175620958,0.045241609215736));
res += mul(Get(s0,0,dy), float4x4(-0.133229330182076,-0.126413479447365,-0.085052669048309,-0.115831136703491,-0.037113908678293,0.077341765165329,-0.188333734869957,-0.050499249249697,-0.132006332278252,-0.096740975975990,0.019036086276174,0.259544849395752,0.041177004575729,0.144170150160789,0.020837711170316,0.012325931340456));
res += mul(Get(s0,dx,-dy), float4x4(-0.005800734274089,-0.124571479856968,-0.125054284930229,-0.156756713986397,-0.072958171367645,-0.135287880897522,0.048436734825373,-0.075046315789223,-0.077533103525639,-0.099275290966034,0.100192956626415,0.153787299990654,0.240583971142769,0.114937476813793,0.029005946591496,0.028326893225312));
res += mul(Get(s0,dx,0), float4x4(-0.274235308170319,-0.220143720507622,-0.033704631030560,-0.076784268021584,-0.104211106896400,-0.231952205300331,0.108038417994976,-0.094317726790905,-0.093823045492172,0.113712303340435,-0.035519365221262,-0.121776208281517,0.167601481080055,0.018367152661085,0.010542040690780,-0.032602239400148));
res += mul(Get(s0,dx,dy), float4x4(-0.030788093805313,-0.186936944723129,0.050562333315611,0.133796855807304,-0.275582522153854,-0.047399751842022,-0.152321010828018,0.109105184674263,-0.024046454578638,-0.135722577571869,-0.151663035154343,0.223955959081650,0.039521731436253,0.052526414394379,0.046891249716282,-0.030168220400810));
res += mul(Get(s1,-dx,-dy), float4x4(0.204534262418747,-0.039115827530622,0.000827593321446,-0.048840578645468,0.070876024663448,0.097287662327290,-0.019281161949039,0.016748763620853,0.106090709567070,0.126197412610054,-0.067689947783947,-0.077343009412289,-0.085103422403336,0.091387934982777,0.038902577012777,-0.260073661804199));
res += mul(Get(s1,-dx,0), float4x4(-0.022545443847775,-0.051377248018980,-0.023840699344873,-0.016768498346210,-0.070462256669998,0.027656532824039,0.125657483935356,0.069502800703049,-0.104501783847809,-0.191146627068520,0.465033680200577,0.128859370946884,-0.125591441988945,-0.035931915044785,-0.178217202425003,-0.355976194143295));
res += mul(Get(s1,-dx,dy), float4x4(0.147953733801842,0.001254985108972,0.147763893008232,0.036306098103523,0.083150967955589,0.236969038844109,-0.039699308574200,0.027990844100714,-0.151819437742233,-0.230216100811958,0.423358023166656,-0.121637664735317,-0.119983173906803,0.215967491269112,-0.272319108247757,0.091940775513649));
res += mul(Get(s1,0,-dy), float4x4(0.164696082472801,0.021646659821272,-0.034384701400995,-0.203548312187195,0.081450618803501,-0.167906641960144,0.142765119671822,0.191541686654091,-0.010007508099079,0.154693663120270,-0.109536908566952,-0.012658601626754,-0.088234081864357,0.020600914955139,-0.063433744013309,-0.211039096117020));
res += mul(Get(s1,0,0), float4x4(0.044011298567057,0.021983720362186,-0.244239062070847,-0.154722303152084,-0.035170663148165,-0.137459710240364,0.148033931851387,0.221189424395561,-0.102677434682846,-0.343757033348083,-0.189589947462082,0.226355209946632,-0.030966194346547,0.569161355495453,-0.012611682526767,-0.287536650896072));
res += mul(Get(s1,0,dy), float4x4(0.159891560673714,-0.039056427776814,0.007447378709912,0.029485901817679,-0.022794848307967,0.237868055701256,-0.069043703377247,0.022067574784160,-0.113111436367035,-0.268592715263367,-0.032150920480490,-0.099699921905994,-0.035524886101484,0.482447654008865,-0.119813382625580,0.223073706030846));
res += mul(Get(s1,dx,-dy), float4x4(-0.023720771074295,-0.091623239219189,-0.148161411285400,-0.140882670879364,0.076453268527985,0.116803608834743,0.018271053209901,0.029036171734333,-0.089735038578510,-0.144857183098793,-0.062307644635439,-0.013146840967238,0.272703975439072,0.129160284996033,-0.069439172744751,-0.027383614331484));
res += mul(Get(s1,dx,0), float4x4(0.004890437237918,-0.148896649479866,0.067329391837120,0.112991370260715,0.003664683550596,0.068188056349754,0.091559223830700,-0.006644273176789,-0.125623777508736,-0.190441936254501,-0.144181221723557,-0.062666624784470,0.049734733998775,0.058506000787020,0.132761940360069,0.089994288980961));
res += mul(Get(s1,dx,dy), float4x4(0.104877151548862,-0.006751892156899,0.094357177615166,-0.005246792454273,-0.218086317181587,0.078062266111374,0.099541679024696,0.047740083187819,-0.198970824480057,-0.070020526647568,-0.178323209285736,-0.187928363680840,0.151434347033501,0.103666432201862,-0.070541314780712,0.530780553817749));
res += mul(Get(s2,-dx,-dy), float4x4(0.122308045625687,0.007990160956979,0.127525195479393,0.024308281019330,0.541703879833221,0.061949100345373,-0.164735987782478,-0.037308935075998,-0.123303353786469,0.010118608362973,-0.089790180325508,0.043207213282585,0.118347823619843,-0.051243875175714,-0.277843624353409,-0.322563618421555));
res += mul(Get(s2,-dx,0), float4x4(0.070828348398209,-0.023419242352247,0.017008561640978,-0.086030729115009,0.025453316047788,0.239612206816673,-0.038937769830227,-0.164822489023209,-0.155613154172897,0.038722295314074,0.023542732000351,-0.100062087178230,0.098736502230167,0.120630852878094,-0.200292229652405,-0.082468688488007));
res += mul(Get(s2,-dx,dy), float4x4(-0.042096100747585,-0.187308609485626,-0.031155692413449,0.127081647515297,-0.012006561271846,0.001996247097850,-0.130686491727829,-0.049677379429340,-0.197745874524117,-0.059606175869703,0.210240662097931,-0.026645395904779,0.124535642564297,0.029496828094125,-0.100871175527573,0.168821617960930));
res += mul(Get(s2,0,-dy), float4x4(-0.022612629458308,-0.057442419230938,-0.014733114279807,-0.059730421751738,0.193489849567413,-0.026565369218588,0.125661626458168,0.052317123860121,-0.124048411846161,0.043202120810747,0.095516808331013,-0.067616239190102,0.003451877739280,0.048211853951216,0.050630614161491,-0.119325451552868));
res += mul(Get(s2,0,0), float4x4(0.058819860219955,-0.000157390197273,-0.165209531784058,-0.091008432209492,-0.075700044631958,-0.090383902192116,0.119708910584450,-0.017744228243828,-0.171546950936317,0.092484652996063,-0.035923950374126,-0.144288241863251,-0.029075119644403,-0.068806327879429,0.015540373511612,0.154234111309052));
res += mul(Get(s2,0,dy), float4x4(-0.145568877458572,-0.110817559063435,-0.072657443583012,0.015884539112449,-0.114135436713696,-0.304200708866119,0.059790920466185,0.052835062146187,-0.083254136145115,-0.029136685654521,0.092469200491905,-0.170375630259514,0.035019688308239,-0.066558867692947,0.147740676999092,0.118360757827759));
res += mul(Get(s2,dx,-dy), float4x4(-0.086029492318630,-0.049931231886148,-0.148056462407112,0.043394844979048,0.133163318037987,-0.027816466987133,0.028456991538405,-0.044135119765997,-0.303707957267761,0.094785325229168,-0.033099871128798,0.108772903680801,-0.006566522642970,0.081931605935097,0.153493881225586,-0.117157228291035));
res += mul(Get(s2,dx,0), float4x4(-0.011620171368122,-0.065492212772369,-0.178590387105942,0.098033882677555,-0.105739630758762,-0.030377730727196,-0.008851066231728,0.058178555220366,-0.218051925301552,-0.071521207690239,-0.052810169756413,0.202836722135544,-0.115583203732967,-0.266263991594315,0.072863355278969,0.068637073040009));
res += mul(Get(s2,dx,dy), float4x4(-0.137459948658943,-0.182266905903816,-0.190554022789001,0.036774817854166,-0.008406653068960,-0.167749390006065,-0.046286962926388,-0.065027549862862,0.001707555027679,0.142466753721237,0.012129583396018,0.264576017856598,0.128847777843475,-0.009456293657422,-0.150165602564812,0.019238857552409));
res += mul(Get(s3,-dx,-dy), float4x4(0.302369087934494,-0.051673438400030,-0.046667721122503,-0.139681607484818,-0.048472989350557,0.007589966524392,-0.096512742340565,-0.162665247917175,0.040003497153521,0.067575320601463,-0.005593639798462,0.055148668587208,-0.068430684506893,-0.029204627498984,0.079046614468098,0.017473591491580));
res += mul(Get(s3,-dx,0), float4x4(0.165029868483543,0.081366136670113,-0.141137525439262,-0.064097650349140,-0.063166745007038,-0.069990277290344,-0.069316677749157,0.028335863724351,0.013299647718668,0.245071694254875,0.114379703998566,0.068159274756908,-0.003999455366284,0.067350946366787,0.113923639059067,-0.034311804920435));
res += mul(Get(s3,-dx,dy), float4x4(0.073299929499626,-0.124093554913998,0.165252625942230,0.052966438233852,-0.068730033934116,-0.034960802644491,-0.084430679678917,0.042506884783506,-0.003116699634120,0.065297126770020,-0.017679449170828,-0.087409108877182,0.013420394621789,0.072146378457546,0.051511444151402,-0.049030140042305));
res += mul(Get(s3,0,-dy), float4x4(0.085674092173576,0.087948024272919,0.069704078137875,-0.181068629026413,-0.038096707314253,0.072578310966492,-0.091377601027489,-0.136088013648987,-0.036565404385328,-0.053152170032263,-0.139228612184525,0.083820737898350,-0.126489177346230,-0.110539048910141,0.181710481643677,0.026675892993808));
res += mul(Get(s3,0,0), float4x4(0.020223205909133,0.164132893085480,0.007164599839598,-0.048730321228504,-0.044055253267288,-0.020843481644988,-0.079683616757393,0.057239685207605,-0.070811182260513,-0.000195360335056,0.037536162883043,0.065314151346684,-0.087605364620686,-0.018532428890467,0.114368461072445,-0.097477965056896));
res += mul(Get(s3,0,dy), float4x4(0.032483074814081,-0.065295159816742,0.262114346027374,0.088853761553764,-0.005105749238282,0.050663731992245,-0.059067156165838,0.147199943661690,-0.110761620104313,-0.004153614398092,-0.002566093346104,-0.021403262391686,0.032115075737238,-0.053744662553072,0.013330620713532,0.047816056758165));
res += mul(Get(s3,dx,-dy), float4x4(-0.194396033883095,0.068428158760071,0.004751701839268,-0.276662468910217,-0.050057653337717,0.023672239854932,-0.015413064509630,-0.137052178382874,-0.065695822238922,0.011257868260145,-0.197257682681084,0.031835526227951,0.071958206593990,0.025974417105317,0.025450201705098,-0.232192546129227));
res += mul(Get(s3,dx,0), float4x4(-0.110644571483135,0.111605793237686,0.217472881078720,0.036282077431679,-0.003526594489813,-0.036745697259903,-0.029160762205720,0.024359751492739,-0.074969127774239,-0.033509906381369,0.013946105726063,0.068065963685513,0.053957302123308,0.281873047351837,0.120303414762020,-0.161832332611084));
res += mul(Get(s3,dx,dy), float4x4(0.056621368974447,-0.011644819751382,0.011156816035509,0.088152639567852,0.084361173212528,0.059321258217096,-0.002423873171210,0.118089810013771,-0.056413833051920,0.073871828615665,-0.073569111526012,-0.053542740643024,0.151254415512085,0.257167816162109,0.108359239995480,0.013853978365660));
return max(float4(0,0,0,0), res);
}
