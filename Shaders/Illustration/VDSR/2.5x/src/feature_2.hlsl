sampler s0 : register(s0);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(x, y)   tex2D(s0, tex + float2(x, y))[0]

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += float4(-0.003323368728161,0.125468403100967,-0.125135257840157,-0.003343634307384) * Get(-dx,-dy);
res += float4(-0.000379717268515,-0.162371739745140,0.093300670385361,-0.001106457086280) * Get(-dx,0);
res += float4(-0.000534458667971,-0.032558817416430,-0.171608120203018,-0.000962640217040) * Get(-dx,dy);
res += float4(-0.002706524217501,0.074434809386730,0.174415320158005,0.000110503489850) * Get(0,-dy);
res += float4(0.000556132465135,-0.020982913672924,0.275164395570755,-0.000400670862291) * Get(0,0);
res += float4(-0.000149872314068,0.014131695963442,-0.160916477441788,-0.001387351308949) * Get(0,dy);
res += float4(0.003054739441723,-0.247539371252060,0.020814072340727,-0.000922423438169) * Get(dx,-dy);
res += float4(-0.003043640404940,0.144005507230759,0.115977399051189,0.000640788930468) * Get(dx,0);
res += float4(-0.002165341982618,0.172341689467430,-0.222937896847725,-0.003078848356381) * Get(dx,dy);
return max(float4(0,0,0,0), res);
}
