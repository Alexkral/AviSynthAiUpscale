sampler s0 : register(s0);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(x, y)   tex2D(s0, tex + float2(x, y))[0]

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += float4(-0.041600126773119,-0.110832571983337,-0.091775327920914,-0.171615138649940) * Get(-dx,-dy);
res += float4(0.121945239603519,0.021137399598956,0.027768762782216,0.010817365720868) * Get(-dx,0);
res += float4(-0.071182020008564,-0.018060797825456,-0.049187619239092,0.043655313551426) * Get(-dx,dy);
res += float4(-0.072278052568436,-0.051983170211315,0.096989408135414,0.070296153426170) * Get(0,-dy);
res += float4(0.030351931229234,0.046369027346373,-0.074558921158314,0.051166251301765) * Get(0,0);
res += float4(0.128528580069542,-0.044512018561363,-0.061415910720825,0.125522315502167) * Get(0,dy);
res += float4(0.068574652075768,-0.062134843319654,-0.012148253619671,-0.057968813925982) * Get(dx,-dy);
res += float4(-0.099822603166103,-0.123487465083599,-0.146028921008110,-0.150241911411285) * Get(dx,0);
res += float4(-0.019355667755008,-0.068290449678898,-0.067364662885666,0.106290437281132) * Get(dx,dy);
return max(float4(0,0,0,0), res);
}
