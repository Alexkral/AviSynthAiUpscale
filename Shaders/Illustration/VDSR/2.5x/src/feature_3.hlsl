sampler s0 : register(s0);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(x, y)   tex2D(s0, tex + float2(x, y))[0]

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += float4(-0.064961872994900,-0.094979494810104,-0.281145513057709,-0.087913870811462) * Get(-dx,-dy);
res += float4(0.056750871241093,0.047848898917437,-0.003372134873644,-0.067443341016769) * Get(-dx,0);
res += float4(-0.116839908063412,-0.111392699182034,-0.114567741751671,-0.091298140585423) * Get(-dx,dy);
res += float4(0.014350625686347,-0.097509428858757,0.016539957374334,0.007038890384138) * Get(0,-dy);
res += float4(0.118873633444309,0.147325083613396,-0.101429879665375,-0.041622128337622) * Get(0,0);
res += float4(0.001822620630264,0.143232554197311,0.036762051284313,-0.028828769922256) * Get(0,dy);
res += float4(-0.073019638657570,0.024661136791110,-0.082257159054279,0.137073263525963) * Get(dx,-dy);
res += float4(-0.011879798956215,0.078812316060066,0.004558197688311,0.040364824235439) * Get(dx,0);
res += float4(-0.118421107530594,-0.093248903751373,0.213450804352760,-0.037315644323826) * Get(dx,dy);
return max(float4(0,0,0,0), res);
}
