sampler s0 : register(s0);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(x, y)   tex2D(s0, tex + float2(x, y))[0]

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += float4(-0.105432152748108,0.374720305204391,0.040435131639242,0.156568229198456) * Get(-dx,-dy);
res += float4(-0.080673851072788,0.413750648498535,0.027710048481822,-0.469300806522369) * Get(-dx,0);
res += float4(-0.309123456478119,0.378311216831207,0.051048394292593,-0.484390258789063) * Get(-dx,dy);
res += float4(-0.375643879175186,-0.225286245346069,-0.137215629220009,0.879495918750763) * Get(0,-dy);
res += float4(0.506324708461761,-0.582226693630219,-0.175998285412788,0.203319728374481) * Get(0,0);
res += float4(-0.554646253585815,-0.579637587070465,0.251516371965408,-0.187929943203926) * Get(0,dy);
res += float4(-0.684989035129547,-0.235204666852951,-0.051460623741150,-0.191802114248276) * Get(dx,-dy);
res += float4(0.884630441665649,-0.421400994062424,-0.230806633830070,-0.425352305173874) * Get(dx,0);
res += float4(-0.425686657428741,-0.266201555728912,0.245269581675529,-0.160115286707878) * Get(dx,dy);
return max(float4(0,0,0,0), res);
}
