sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.067206382751465,-0.073875136673450,-0.112282983958721,0.067634776234627,-0.032331652939320,-0.030561743304133,-0.116424411535263,0.084600888192654,0.086885303258896,-0.055389873683453,0.056090068072081,0.016376201063395,0.095088355243206,-0.151521310210228,0.271441280841827,0.222484841942787));
res += mul(Get(s0,-dx,0), float4x4(-0.164005383849144,0.164037764072418,0.029058774933219,-0.093410275876522,-0.062475085258484,-0.023221734911203,0.132206454873085,0.229576691985130,-0.026380069553852,-0.124641463160515,-0.069308787584305,-0.158770129084587,0.197725877165794,-0.117122799158096,-0.028616426512599,0.063355855643749));
res += mul(Get(s0,-dx,dy), float4x4(-0.109625108540058,0.219701915979385,-0.058142304420471,0.168484047055244,-0.086424328386784,0.046978533267975,-0.130753770470619,-0.003864381927997,-0.043825007975101,0.119416944682598,-0.099577523767948,0.089957803487778,-0.160269856452942,-0.081458181142807,0.049026075750589,-0.116323947906494));
res += mul(Get(s0,0,-dy), float4x4(0.142889574170113,0.057592369616032,0.026085328310728,0.179449737071991,0.020817898213863,-0.087247200310230,0.160180702805519,0.018569653853774,0.166727542877197,0.141505733132362,-0.006850997917354,0.037457503378391,-0.132098928093910,0.099452599883080,0.081218257546425,0.104286365211010));
res += mul(Get(s0,0,0), float4x4(0.094985708594322,0.067901574075222,-0.033056706190109,-0.180864498019218,0.018170161172748,0.002305377507582,0.022939242422581,0.014739588834345,-0.025075187906623,0.051180094480515,0.036327846348286,0.173663601279259,0.029389053583145,-0.017157506197691,0.178170755505562,-0.107572056353092));
res += mul(Get(s0,0,dy), float4x4(-0.174975767731667,0.046716947108507,0.055216763168573,-0.033048231154680,-0.102696791291237,-0.033047646284103,-0.035951077938080,0.211455985903740,-0.027801355347037,-0.044849921017885,-0.125663235783577,-0.169351756572723,0.063681356608868,-0.069865308701992,0.059592112898827,-0.043132781982422));
res += mul(Get(s0,dx,-dy), float4x4(0.027050560340285,-0.044871240854263,0.020426511764526,-0.196361541748047,-0.045597009360790,-0.110543377697468,-0.127138212323189,-0.133820801973343,-0.004785430151969,0.043932538479567,0.061552602797747,0.093189179897308,-0.112573288381100,-0.057510361075401,0.020773114636540,-0.053949672728777));
res += mul(Get(s0,dx,0), float4x4(0.094638273119926,-0.176249548792839,-0.122428968548775,0.084138453006744,-0.145508423447609,-0.119523845613003,-0.026612769812346,0.092275932431221,0.019304316490889,-0.069141417741776,0.115124531090260,0.306744217872620,-0.032656554132700,0.175788059830666,0.078526958823204,0.036422938108444));
res += mul(Get(s0,dx,dy), float4x4(0.154807880520821,-0.047913502901793,-0.034663867205381,0.045787561684847,0.029631432145834,-0.001008208375424,-0.029382273554802,-0.053114946931601,0.049545001238585,0.225363180041313,0.099908433854580,0.006124027073383,-0.099999636411667,0.186295628547668,-0.300323486328125,0.131466969847679));
res += mul(Get(s1,-dx,-dy), float4x4(0.104906216263771,0.293136715888977,0.048192333430052,-0.024356894195080,0.072810284793377,-0.049795676022768,-0.058754347264767,0.070427775382996,0.003577493596822,0.032656945288181,-0.068806022405624,0.024057891219854,0.111219368875027,-0.110334493219852,0.045582197606564,0.013760362751782));
res += mul(Get(s1,-dx,0), float4x4(-0.040476813912392,0.239555731415749,0.157129824161530,0.213987931609154,0.179874613881111,-0.007978929206729,0.010391334071755,-0.056231535971165,0.077693022787571,-0.053038734942675,-0.044362261891365,0.147478580474854,0.154760256409645,0.083151958882809,0.042404655367136,0.012174933217466));
res += mul(Get(s1,-dx,dy), float4x4(0.081099092960358,0.146476849913597,-0.118269428610802,0.251342773437500,-0.075796000659466,0.188305094838142,-0.095678806304932,-0.163424208760262,0.083185195922852,0.026002736762166,0.030173728242517,-0.013547608628869,0.060721337795258,0.219931051135063,0.038964498788118,-0.171800956130028));
res += mul(Get(s1,0,-dy), float4x4(0.180942207574844,-0.047318927943707,0.029353603720665,0.173217266798019,-0.013872416689992,0.100512512028217,0.367082208395004,0.081739909946918,-0.063792608678341,-0.070358157157898,-0.113669350743294,-0.096520185470581,-0.189293280243874,0.101207807660103,0.231919482350349,0.123767234385014));
res += mul(Get(s1,0,0), float4x4(0.126307800412178,-0.075427420437336,-0.311993271112442,0.043286465108395,-0.141553014516830,0.122725583612919,0.146734103560448,0.144068807363510,0.317088007926941,-0.040918007493019,0.104249075055122,0.148578286170959,-0.026727780699730,0.113734804093838,0.082154624164104,-0.037920866161585));
res += mul(Get(s1,0,dy), float4x4(0.202579244971275,0.016383044421673,-0.182174801826477,-0.009831111878157,-0.085878640413284,0.119595445692539,-0.096343532204628,0.210067689418793,-0.005962089169770,-0.107665166258812,0.221698969602585,0.131214961409569,0.020746005699039,-0.079879209399223,-0.040888443589211,-0.075601197779179));
res += mul(Get(s1,dx,-dy), float4x4(0.005702683702111,0.061014242470264,-0.308236926794052,0.011295216158032,0.013980641029775,-0.135521084070206,-0.068561866879463,0.162268683314323,-0.120668001472950,-0.039007328450680,0.125653803348541,0.112630181014538,-0.091392643749714,-0.098482489585876,-0.178360715508461,-0.006533787585795));
res += mul(Get(s1,dx,0), float4x4(0.260763913393021,-0.096217364072800,-0.321879744529724,0.009301546961069,0.153721988201141,0.075101703405380,-0.054404303431511,0.073509454727173,-0.027169764041901,0.113413661718369,0.040376190096140,0.025253318250179,0.122972510755062,0.182507544755936,-0.065689787268639,-0.209349244832993));
res += mul(Get(s1,dx,dy), float4x4(0.067635893821716,-0.044584482908249,0.008445099927485,-0.056201901286840,0.000708088628016,-0.058755852282047,-0.021073780953884,0.267200767993927,0.097172290086746,0.037690315395594,0.034825421869755,-0.087380766868591,-0.055738076567650,0.046681180596352,-0.037505898624659,-0.081384330987930));
res += mul(Get(s2,-dx,-dy), float4x4(-0.166102677583694,-0.186731874942780,0.146740630269051,0.033184859901667,-0.103840209543705,-0.070237956941128,0.029621651396155,0.025634275749326,-0.237034767866135,0.088064618408680,0.022536842152476,-0.030927283689380,-0.013259086757898,0.008015387691557,0.112969860434532,0.075764082372189));
res += mul(Get(s2,-dx,0), float4x4(-0.153587535023689,0.058591704815626,0.145751610398293,0.033375747501850,0.156459510326385,0.237671628594398,0.042758692055941,0.141252115368843,-0.237219974398613,0.179237559437752,0.056834850460291,-0.049149818718433,-0.012179454788566,-0.012042938731611,0.196534544229507,0.103041492402554));
res += mul(Get(s2,-dx,dy), float4x4(-0.082745172083378,-0.055692333728075,-0.071063406765461,0.026941668242216,0.041646625846624,0.032152641564608,0.068337745964527,-0.032349731773138,0.189957082271576,0.031775936484337,-0.050059407949448,0.004387942142785,0.105222977697849,-0.058678213506937,-0.028144646435976,-0.001232178416103));
res += mul(Get(s2,0,-dy), float4x4(-0.092533707618713,-0.036051943898201,0.036683484911919,-0.148508787155151,-0.046990830451250,-0.007751562632620,0.006747576873749,-0.201248779892921,0.174944564700127,0.013244700618088,-0.055720277130604,-0.031436577439308,0.133505940437317,-0.044931530952454,-0.041768889874220,0.061983365565538));
res += mul(Get(s2,0,0), float4x4(0.089895337820053,-0.164341345429420,-0.083415374159813,0.031805910170078,-0.044267203658819,0.087716951966286,0.141431480646133,0.103416971862316,0.126371666789055,-0.072184011340141,-0.018498625606298,0.029830200597644,0.198549389839172,0.014363332651556,-0.144146010279655,-0.154230013489723));
res += mul(Get(s2,0,dy), float4x4(-0.121317483484745,-0.221652209758759,-0.088351361453533,-0.106680594384670,0.020035507157445,0.193036198616028,0.079311013221741,0.088278070092201,0.048238586634398,-0.007884779945016,-0.047705773264170,0.087594851851463,0.088964797556400,-0.070296689867973,-0.293144881725311,-0.016515949741006));
res += mul(Get(s2,dx,-dy), float4x4(-0.086954988539219,0.070263050496578,-0.073904104530811,-0.084398008882999,0.122679896652699,-0.071958564221859,0.062617957592010,-0.005963352043182,0.176796376705170,0.014280194416642,0.099393375217915,-0.023204866796732,-0.051139120012522,-0.158214062452316,0.042427506297827,-0.004028806928545));
res += mul(Get(s2,dx,0), float4x4(0.066692352294922,0.029996450990438,-0.215123757719994,0.095804318785667,0.138895601034164,-0.033192504197359,0.026784369722009,-0.019067350775003,-0.019145419821143,0.005029683467001,-0.042618229985237,-0.110201507806778,0.017778623849154,-0.042482316493988,0.075266346335411,-0.151772290468216));
res += mul(Get(s2,dx,dy), float4x4(-0.075077340006828,-0.068637609481812,-0.115126609802246,0.054523255676031,-0.060502104461193,0.075027957558632,0.056996960192919,0.127358570694923,0.059745442122221,0.006597791798413,0.045619871467352,-0.037230666726828,0.009742223657668,-0.015359042212367,0.101661711931229,0.209719285368919));
res += mul(Get(s3,-dx,-dy), float4x4(0.061519660055637,0.206540957093239,0.068656452000141,0.087764583528042,-0.021835317835212,-0.199137747287750,0.029695998877287,-0.149394139647484,0.086458981037140,0.063937127590179,0.004522783681750,0.034677829593420,0.026353677734733,-0.030363926663995,-0.080350570380688,-0.131255879998207));
res += mul(Get(s3,-dx,0), float4x4(0.292239904403687,-0.095201089978218,0.122148290276527,-0.144380345940590,-0.030199222266674,0.139952600002289,0.124388307332993,0.018553232774138,-0.017694381996989,0.087389729917049,0.129171013832092,-0.078428976237774,0.145008713006973,0.147285431623459,0.035972129553556,-0.065560348331928));
res += mul(Get(s3,-dx,dy), float4x4(0.067748792469501,0.078213155269623,0.077047795057297,-0.094709269702435,-0.042680840939283,0.012416450306773,-0.093249686062336,0.080869138240814,0.001099384156987,0.071278072893620,-0.055179003626108,0.127368226647377,-0.043413739651442,0.009279536083341,-0.154292926192284,-0.164918124675751));
res += mul(Get(s3,0,-dy), float4x4(-0.138963162899017,-0.029440099373460,0.125990852713585,0.116559863090515,0.168147146701813,0.030841963365674,-0.183660089969635,-0.005585765000433,0.122661069035530,0.073323763906956,0.009066515602171,-0.016626924276352,0.054403096437454,0.086410544812679,0.042292889207602,-0.024872224777937));
res += mul(Get(s3,0,0), float4x4(-0.093192018568516,-0.210022553801537,-0.123779691755772,-0.019744120538235,0.116695307195187,0.015872249379754,0.086588688194752,0.176211968064308,0.041641071438789,-0.026038849726319,0.093510322272778,0.058443326503038,0.238037228584290,0.078204311430454,0.005127341952175,0.095875628292561));
res += mul(Get(s3,0,dy), float4x4(-0.122641794383526,-0.010964706540108,-0.142998829483986,-0.016043558716774,-0.057521112263203,0.030573422089219,0.121155500411987,-0.066068381071091,0.129860624670982,0.044673863798380,-0.127660274505615,-0.175010129809380,-0.102095603942871,-0.000454705208540,0.083884641528130,0.023768890649080));
res += mul(Get(s3,dx,-dy), float4x4(0.007608247455209,0.074712522327900,-0.034575477242470,-0.045927785336971,0.034469142556190,-0.075884073972702,0.066542841494083,-0.075201779603958,-0.147064223885536,0.030609946697950,0.042243752628565,0.152105927467346,-0.173717126250267,-0.103503733873367,-0.047086052596569,0.116401433944702));
res += mul(Get(s3,dx,0), float4x4(0.043612815439701,0.053475048393011,0.209238305687904,-0.071372702717781,0.012486869469285,0.059217166155577,-0.109489604830742,0.189825952053070,-0.034892790019512,0.157418668270111,0.160898298025131,0.059353061020374,-0.094393476843834,0.093660958111286,0.089809037744999,0.081425391137600));
res += mul(Get(s3,dx,dy), float4x4(-0.063061751425266,0.185595914721489,-0.055892188102007,-0.041483111679554,0.098974846303463,-0.140407979488373,0.030429387465119,0.004487643949687,-0.262045115232468,0.046747732907534,0.015586011111736,0.084547072649002,0.200731039047241,0.048370257019997,0.066417217254639,-0.011150767095387));
return max(float4(0,0,0,0), res);
}
