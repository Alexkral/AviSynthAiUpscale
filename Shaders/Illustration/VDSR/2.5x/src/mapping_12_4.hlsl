sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.092500738799572,0.089856140315533,-0.012288667261600,-0.172940611839294,-0.194571778178215,-0.039705067873001,0.044741809368134,-0.070942215621471,-0.047758962959051,0.044174060225487,-0.030499059706926,-0.109101936221123,-0.062843017280102,0.005549621302634,0.058719623833895,-0.068308584392071));
res += mul(Get(s0,-dx,0), float4x4(-0.005942747928202,-0.046579264104366,0.162509605288506,-0.126812502741814,-0.023261958733201,-0.148346200585365,-0.017756171524525,-0.034686248749495,-0.151275545358658,-0.070761084556580,0.063121996819973,-0.239174365997314,-0.029614960774779,-0.121811009943485,0.162091374397278,-0.159195274114609));
res += mul(Get(s0,-dx,dy), float4x4(0.168007299304008,0.002090292982757,0.078103706240654,-0.159614443778992,0.401075780391693,0.053982473909855,0.001815174589865,0.035897035151720,-0.073405362665653,0.130690902471542,-0.056459132581949,0.063289813697338,0.129614740610123,-0.129869326949120,0.158810034394264,-0.116637937724590));
res += mul(Get(s0,0,-dy), float4x4(0.144616648554802,0.062642134726048,0.030957441776991,0.146540999412537,-0.075626008212566,-0.036349765956402,-0.125151127576828,0.207771703600883,-0.162320807576180,-0.058209620416164,0.334586799144745,-0.120968490839005,0.007344038691372,0.036825329065323,0.060098595917225,-0.123620003461838));
res += mul(Get(s0,0,0), float4x4(-0.181850478053093,-0.157801881432533,0.122028969228268,0.187588170170784,-0.095929674804211,0.041550148278475,-0.026254998520017,0.167427271604538,-0.125440433621407,-0.046371344476938,-0.052970256656408,-0.057033699005842,-0.101481691002846,-0.108848862349987,-0.017199601978064,-0.138102948665619));
res += mul(Get(s0,0,dy), float4x4(0.002671950962394,-0.041191499680281,-0.142259389162064,-0.077327236533165,0.146381899714470,-0.021661736071110,-0.002858769847080,0.129096016287804,0.128402709960938,0.220036238431931,-0.130304500460625,0.273720175027847,0.078430540859699,-0.062928617000580,-0.081280030310154,0.026211982592940));
res += mul(Get(s0,dx,-dy), float4x4(0.077457353472710,0.035926382988691,0.148910358548164,0.137802287936211,0.184776246547699,-0.099236667156219,-0.050834067165852,-0.064518213272095,-0.084843799471855,0.090075679123402,0.174870237708092,0.278222262859344,-0.005647976882756,0.133983269333839,0.271533310413361,-0.171199947595596));
res += mul(Get(s0,dx,0), float4x4(0.236386492848396,0.398302227258682,-0.062871739268303,0.122299052774906,0.114835359156132,0.030958157032728,-0.122606560587883,0.137274131178856,-0.078080035746098,0.272315084934235,0.212583333253860,0.096036799252033,0.000664916762616,0.270287185907364,0.399382531642914,-0.092161767184734));
res += mul(Get(s0,dx,dy), float4x4(-0.006862261332572,0.131456881761551,-0.205616310238838,0.080483123660088,0.033628106117249,0.065698809921741,0.089035682380199,0.048586335033178,-0.266244530677795,0.299831241369247,0.003848388325423,0.260147809982300,-0.057882860302925,0.196003884077072,0.327422589063644,-0.072514303028584));
res += mul(Get(s1,-dx,-dy), float4x4(0.267757177352905,0.504873573780060,0.023022180423141,0.241790741682053,-0.147807523608208,0.096455916762352,-0.071146853268147,0.194794788956642,-0.196631640195847,-0.216992944478989,-0.034879840910435,0.324136525392532,-0.088888876140118,-0.047155950218439,-0.077530562877655,-0.008855848573148));
res += mul(Get(s1,-dx,0), float4x4(0.084166958928108,0.257001757621765,0.075527288019657,0.008953819051385,-0.067237809300423,-0.049641370773315,0.094952136278152,-0.058317363262177,-0.176573738455772,-0.199621334671974,0.097320698201656,0.140645369887352,0.133182570338249,0.029976619407535,0.264671981334686,-0.011935583315790));
res += mul(Get(s1,-dx,dy), float4x4(-0.009359863586724,0.175753533840179,-0.046798620373011,-0.031481176614761,0.019885610789061,-0.000750998326112,-0.118359237909317,-0.101651951670647,0.035361334681511,-0.070659026503563,-0.081390522420406,0.123287804424763,-0.048091854900122,-0.119944311678410,-0.161855697631836,-0.185047551989555));
res += mul(Get(s1,0,-dy), float4x4(-0.197064504027367,-0.051701612770557,0.103120498359203,0.169623330235481,-0.197507232427597,-0.076343715190887,0.236528739333153,-0.077002964913845,0.280723065137863,0.251986622810364,0.021200627088547,0.094601601362228,-0.073525182902813,-0.043192509561777,-0.011604348197579,0.107060670852661));
res += mul(Get(s1,0,0), float4x4(-0.288387089967728,-0.050505831837654,0.043107964098454,-0.145849302411079,-0.174653679132462,-0.103950753808022,0.131499066948891,-0.063816316425800,0.009659242816269,0.133973062038422,-0.065255329012871,0.093953944742680,0.435878843069077,-0.002033761003986,0.375470399856567,0.177376911044121));
res += mul(Get(s1,0,dy), float4x4(-0.213154509663582,0.046034049242735,-0.200988993048668,-0.043375529348850,0.068472757935524,-0.044412761926651,-0.114454053342342,0.049167208373547,0.015152872540057,0.214227929711342,-0.004381791222841,0.082538358867168,0.122694894671440,0.052731752395630,-0.109599620103836,0.108337223529816));
res += mul(Get(s1,dx,-dy), float4x4(-0.190190821886063,-0.013798161409795,0.068083532154560,0.252415627241135,-0.075130477547646,-0.079248182475567,0.098176568746567,0.063787139952183,0.076812818646431,0.050416696816683,0.219538643956184,-0.036015216261148,0.000709826941602,-0.025844505056739,-0.124100051820278,0.095956496894360));
res += mul(Get(s1,dx,0), float4x4(-0.260374307632446,-0.074264936149120,-0.192422881722450,0.353126794099808,-0.035291619598866,-0.122353762388229,-0.227609008550644,0.137832805514336,0.008133252151310,0.038143768906593,0.073021955788136,0.013708008453250,0.012919242493808,-0.103897109627724,0.154012158513069,-0.114087261259556));
res += mul(Get(s1,dx,dy), float4x4(-0.145129933953285,0.125482663512230,-0.089309133589268,0.217303037643433,0.081164725124836,-0.014874313026667,-0.100027881562710,0.004546860698611,0.012556321918964,0.085295647382736,0.029345624148846,-0.005156170111150,-0.130618602037430,-0.086339965462685,-0.142000392079353,0.082588844001293));
res += mul(Get(s2,-dx,-dy), float4x4(-0.068272516131401,0.004506643861532,0.093501389026642,-0.145470947027206,0.039494194090366,0.283027976751328,0.140038400888443,-0.005813360214233,-0.264158904552460,-0.190513730049133,0.003410002449527,-0.067605040967464,-0.033485561609268,0.094047367572784,-0.111313946545124,0.225585743784904));
res += mul(Get(s2,-dx,0), float4x4(0.019341422244906,0.054682135581970,-0.106440290808678,-0.012340317480266,0.068872116506100,-0.088668040931225,0.026365906000137,-0.147400081157684,-0.171666026115417,0.268777728080750,0.056475691497326,0.002313355449587,0.410769790410995,0.209673240780830,0.129289582371712,-0.113780863583088));
res += mul(Get(s2,-dx,dy), float4x4(0.327778846025467,0.166831776499748,0.137787207961082,0.046878628432751,0.189039051532745,-0.028978809714317,-0.061258759349585,-0.090659260749817,-0.080566503107548,-0.045925930142403,-0.140129745006561,-0.195398882031441,0.083304412662983,0.009347511455417,-0.073725059628487,-0.100691288709641));
res += mul(Get(s2,0,-dy), float4x4(0.226013287901878,0.007146514020860,-0.001789133064449,0.150981470942497,0.192988842725754,0.290955156087875,-0.016153890639544,-0.008967367932200,0.336332052946091,0.266337484121323,-0.099060170352459,0.129977539181709,-0.014733219519258,0.047408271580935,-0.025702631101012,-0.055051203817129));
res += mul(Get(s2,0,0), float4x4(0.110985778272152,0.117366865277290,0.068443857133389,0.182095438241959,-0.048494230955839,-0.282952517271042,0.058835897594690,-0.152443408966064,0.207386389374733,0.104552395641804,0.006056258454919,0.289504557847977,-0.039779808372259,-0.095995381474495,0.421637356281281,-0.097340591251850));
res += mul(Get(s2,0,dy), float4x4(0.017892431467772,-0.001661273534410,0.368944972753525,0.072960555553436,0.050893779844046,-0.076560571789742,-0.142128735780716,-0.100566156208515,0.120685711503029,-0.048617620021105,-0.070248968899250,-0.179037824273109,0.167008355259895,0.058591812849045,-0.214637964963913,0.247620642185211));
res += mul(Get(s2,dx,-dy), float4x4(0.082693256437778,0.184730589389801,0.087290018796921,-0.106584183871746,0.083255350589752,-0.021447742357850,0.254717856645584,-0.168980419635773,-0.222816303372383,-0.267593532800674,-0.043078601360321,-0.058408107608557,0.027888758108020,-0.010359041392803,0.021457593888044,0.214676573872566));
res += mul(Get(s2,dx,0), float4x4(0.103547319769859,0.101932227611542,-0.060040831565857,0.038965348154306,0.052011739462614,0.022222366183996,0.043508563190699,-0.152226090431213,-0.062107160687447,-0.029567496851087,-0.033509947359562,0.000586086651310,0.027684789150953,0.195391908288002,0.161863118410110,0.306506782770157));
res += mul(Get(s2,dx,dy), float4x4(-0.024715445935726,-0.078129120171070,-0.004801609553397,0.039043501019478,0.055717334151268,0.031474310904741,-0.201703488826752,-0.038234725594521,-0.073796063661575,-0.058178339153528,-0.266382813453674,-0.050656836479902,-0.075593121349812,0.082865856587887,-0.165062963962555,0.376113831996918));
res += mul(Get(s3,-dx,-dy), float4x4(0.049464516341686,0.126384720206261,0.040723208338022,-0.034549973905087,-0.130169987678528,0.089116111397743,0.167473092675209,-0.149030849337578,-0.000399974407628,-0.070516176521778,-0.004216272849590,-0.069362238049507,-0.068542145192623,0.058690864592791,0.055628515779972,-0.080698840320110));
res += mul(Get(s3,-dx,0), float4x4(-0.112778671085835,-0.073125220835209,-0.079394809901714,0.030068803578615,0.075029574334621,0.172634780406952,0.131738618016243,-0.080180741846561,0.157512590289116,-0.005215599201620,-0.015140032395720,-0.041538991034031,0.071834161877632,0.121744811534882,-0.045529790222645,-0.050908803939819));
res += mul(Get(s3,-dx,dy), float4x4(-0.147856801748276,-0.011117228306830,-0.063662432134151,-0.016763519495726,-0.083969555795193,0.026706892997026,0.131417155265808,0.053952921181917,0.108114168047905,0.081959240138531,-0.156189098954201,-0.063358075916767,-0.010687950067222,0.100289501249790,0.162625730037689,-0.139742553234100));
res += mul(Get(s3,0,-dy), float4x4(0.381282627582550,0.286247283220291,-0.041266825050116,0.206385388970375,0.167752951383591,0.149195149540901,0.150603741407394,-0.023979004472494,-0.071208581328392,-0.174766063690186,0.045442480593920,-0.073847167193890,0.031776651740074,-0.063397668302059,-0.133107379078865,0.010249534621835));
res += mul(Get(s3,0,0), float4x4(0.154174491763115,-0.006316387560219,-0.056894198060036,0.067644745111465,0.412025541067123,0.089125178754330,0.049769930541515,-0.052854966372252,-0.081451043486595,-0.092792555689812,-0.016291745007038,-0.057213697582483,-0.018423458561301,0.034164808690548,0.111387655138969,-0.105961851775646));
res += mul(Get(s3,0,dy), float4x4(0.055564530193806,-0.090140059590340,-0.057828873395920,-0.014150396920741,0.119384519755840,0.150909915566444,0.066017635166645,-0.020634248852730,0.046027533710003,0.102601908147335,0.140427097678185,0.056810237467289,0.018553081899881,-0.247095316648483,-0.258234024047852,-0.132535621523857));
res += mul(Get(s3,dx,-dy), float4x4(0.147934883832932,0.307008504867554,0.319726049900055,0.066798932850361,-0.055813167244196,-0.104100890457630,-0.009453118778765,0.014605523087084,0.033344995230436,-0.016664216294885,0.040448538959026,-0.028528934344649,0.107014276087284,0.005399968009442,0.196962714195251,-0.040696937590837));
res += mul(Get(s3,dx,0), float4x4(0.029043525457382,0.018065109848976,0.114908814430237,-0.173698842525482,0.040443170815706,-0.015076149255037,0.023880453780293,0.020781289786100,-0.067228510975838,-0.170693442225456,-0.111980885267258,0.028294488787651,0.033641219139099,0.029678357765079,0.122330933809280,-0.107903383672237));
res += mul(Get(s3,dx,dy), float4x4(-0.146181419491768,0.034029375761747,-0.047783285379410,-0.079124115407467,0.014713399112225,0.103055618703365,0.070728816092014,0.108047120273113,0.123135223984718,0.084160983562469,0.025401068851352,0.000513042672537,-0.143285289406776,-0.162941664457321,-0.175191089510918,-0.024553263559937));
return max(float4(0,0,0,0), res);
}
