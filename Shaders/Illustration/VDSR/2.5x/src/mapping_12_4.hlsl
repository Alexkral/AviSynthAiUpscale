sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.059272538870573,-0.191232204437256,0.109450399875641,-0.066125407814980,-0.043884225189686,-0.112839378416538,0.050107523798943,-0.138057544827461,0.056598350405693,0.226659789681435,0.048778552561998,-0.081469260156155,-0.076067641377449,0.004282992798835,-0.172777429223061,-0.003596445778385));
res += mul(Get(s0,-dx,0), float4x4(-0.007395592518151,0.013486837036908,-0.033862493932247,-0.081449523568153,-0.261176645755768,0.096176818013191,-0.131739437580109,0.006689900998026,-0.112506382167339,0.078599885106087,0.050294276326895,0.011871333234012,0.247330412268639,0.103100895881653,-0.142331823706627,-0.214903995394707));
res += mul(Get(s0,-dx,dy), float4x4(-0.063194692134857,0.090568110346794,-0.086467452347279,0.125856414437294,0.144126221537590,-0.066871300339699,0.033958882093430,0.072512052953243,-0.110435001552105,0.036819361150265,0.038652081042528,0.082401834428310,0.082509316504002,0.066505864262581,-0.160563632845879,-0.071676060557365));
res += mul(Get(s0,0,-dy), float4x4(-0.118460379540920,-0.116580404341221,0.033177439123392,0.095193028450012,-0.001768530230038,0.037560630589724,0.071818374097347,0.010250582359731,0.032190728932619,-0.057941988110542,0.006264232564718,-0.154293358325958,-0.050169188529253,-0.054856415838003,-0.111061386764050,0.056662458926439));
res += mul(Get(s0,0,0), float4x4(0.124976135790348,0.043933954089880,-0.177754595875740,-0.100619964301586,-0.084678582847118,0.020772323012352,-0.096494734287262,0.177327796816826,-0.129394769668579,0.022491075098515,-0.122797675430775,0.085662476718426,0.050851233303547,0.026457617059350,0.126586675643921,-0.004445643629879));
res += mul(Get(s0,0,dy), float4x4(0.135779634118080,-0.065584734082222,-0.059249781072140,0.051137324422598,-0.045931551605463,0.107227496802807,-0.184508264064789,0.148567348718643,0.077871859073639,0.092526137828827,0.044183701276779,0.081253722310066,0.343652844429016,0.145159378647804,-0.004777787718922,0.043332118541002));
res += mul(Get(s0,dx,-dy), float4x4(0.022664619609714,0.091857366263866,0.100585773587227,0.001639864523895,0.123609200119972,0.084177277982235,0.007736972067505,0.019741425290704,-0.003517636563629,0.094852156937122,-0.049795895814896,0.012742238119245,0.069791667163372,0.003195775905624,0.054021101444960,-0.009853497147560));
res += mul(Get(s0,dx,0), float4x4(-0.083438821136951,-0.065745070576668,0.025648841634393,0.182737052440643,-0.014828122220933,-0.210706353187561,0.067420013248920,-0.099434517323971,-0.011377044953406,0.009549747221172,0.008437552489340,-0.029265338554978,-0.134512096643448,0.004206244833767,-0.052891854196787,-0.116508252918720));
res += mul(Get(s0,dx,dy), float4x4(-0.084518693387508,0.067823737859726,-0.057590410113335,-0.011037208139896,0.029910659417510,-0.011915250681341,-0.011359590105712,0.224508360028267,-0.192972674965858,0.027103248983622,0.055302452296019,0.014783595688641,0.069152630865574,-0.045706145465374,-0.013928261585534,0.056239400058985));
res += mul(Get(s1,-dx,-dy), float4x4(0.167637050151825,0.034979250282049,-0.101793110370636,0.105184815824032,0.058803945779800,0.099451832473278,0.196691557765007,-0.139535844326019,-0.078057393431664,0.170044571161270,0.150802791118622,0.039524536579847,0.077833831310272,-0.067012302577496,-0.161703467369080,-0.091469712555408));
res += mul(Get(s1,-dx,0), float4x4(0.280497014522552,-0.009620139375329,-0.017629563808441,-0.059943962842226,0.057704612612724,0.085077740252018,0.028849985450506,0.126434996724129,0.003254218725488,0.158566743135452,0.068005912005901,0.074026390910149,-0.003178705926985,-0.043186612427235,0.121942840516567,-0.072003595530987));
res += mul(Get(s1,-dx,dy), float4x4(0.049454513937235,-0.018069291487336,-0.190295189619064,-0.137206643819809,0.138704970479012,0.008855173364282,-0.113997191190720,-0.088398851454258,0.030092921108007,-0.047179095447063,-0.041449084877968,0.079191014170647,0.117065705358982,0.227745294570923,0.206973731517792,-0.007552170194685));
res += mul(Get(s1,0,-dy), float4x4(0.039771936833858,0.070695646107197,0.030466683208942,0.003142312867567,0.027572691440582,0.090640045702457,0.025813160464168,0.017067397013307,-0.040884632617235,0.053829036653042,0.047959104180336,0.028537735342979,-0.090718224644661,0.009126692079008,-0.106156907975674,0.051733635365963));
res += mul(Get(s1,0,0), float4x4(0.085871055722237,-0.004146470222622,0.131840333342552,0.057176589965820,-0.012562993913889,-0.014001162722707,0.232276991009712,0.006901651155204,-0.169938802719116,0.077547900378704,-0.056431539356709,-0.088929645717144,-0.012544541619718,0.115816839039326,-0.057918313890696,-0.024147231131792));
res += mul(Get(s1,0,dy), float4x4(0.191365703940392,0.017828600481153,-0.021558912470937,-0.008547938428819,-0.021825132891536,-0.051779199391603,-0.099438153207302,-0.113041810691357,0.042420893907547,0.179162427783012,0.121080182492733,-0.103635594248772,-0.027167163789272,0.034169435501099,-0.201365813612938,0.053631678223610));
res += mul(Get(s1,dx,-dy), float4x4(0.079218782484531,0.053425583988428,0.057511761784554,0.061386272311211,0.194509640336037,0.149219453334808,-0.022237932309508,-0.167100116610527,0.036904767155647,-0.099089741706848,-0.013517793267965,0.149773389101028,-0.113871157169342,0.071035861968994,0.041652668267488,-0.048713181167841));
res += mul(Get(s1,dx,0), float4x4(-0.005048966035247,-0.146757468581200,0.229275077581406,-0.060860171914101,0.237142875790596,-0.057858813554049,0.054231069982052,-0.118392102420330,-0.118728414177895,-0.256535142660141,-0.081693492829800,-0.023897515609860,-0.117232792079449,0.000976373732556,0.005194489378482,0.167062118649483));
res += mul(Get(s1,dx,dy), float4x4(-0.127079725265503,-0.028509363532066,-0.020550003275275,0.068839773535728,0.049578245729208,0.028502726927400,-0.106239661574364,0.114426456391811,0.159348756074905,-0.028214471414685,0.156959697604179,0.069343581795692,0.077536448836327,0.011056139133871,-0.080684244632721,0.139234438538551));
res += mul(Get(s2,-dx,-dy), float4x4(-0.308440566062927,-0.009392796084285,-0.168139398097992,-0.209943503141403,-0.020767187699676,0.117430381476879,-0.008665280416608,0.114259928464890,0.002868506824598,0.020306617021561,-0.016991404816508,0.022636912763119,0.035816770046949,0.081866189837456,-0.132433891296387,0.079447656869888));
res += mul(Get(s2,-dx,0), float4x4(-0.190043881535530,-0.117040358483791,-0.144218146800995,0.033255010843277,-0.064355395734310,0.024141820147634,-0.026881368830800,0.146067619323730,-0.110132388770580,0.118553876876831,0.138606622815132,0.039004012942314,0.003367203753442,-0.202234685420990,-0.109030835330486,0.212006047368050));
res += mul(Get(s2,-dx,dy), float4x4(-0.185802012681961,0.041593544185162,-0.137167513370514,0.228009581565857,-0.113552354276180,0.035585694015026,0.147254258394241,-0.107332244515419,-0.059253893792629,-0.111766010522842,0.070973448455334,-0.038985084742308,0.103021994233131,-0.212798684835434,-0.059491656720638,0.199944555759430));
res += mul(Get(s2,0,-dy), float4x4(-0.179024666547775,-0.114354722201824,0.230689823627472,0.194720178842545,-0.038909818977118,0.012886641547084,-0.100296661257744,-0.095159552991390,-0.096961393952370,0.127894505858421,-0.210671603679657,0.000087366155640,0.048022393137217,-0.214730516076088,0.006867358461022,-0.154738917946815));
res += mul(Get(s2,0,0), float4x4(0.308766901493073,0.011552711017430,0.068031676113605,-0.028975639492273,0.030897475779057,0.000941922655329,-0.055210672318935,0.227270454168320,-0.070016890764236,0.082122549414635,-0.137205496430397,0.077080637216568,-0.171602144837379,0.102543041110039,-0.004873577039689,-0.192145228385925));
res += mul(Get(s2,0,dy), float4x4(0.163592234253883,0.048842065036297,0.212597683072090,0.148906171321869,-0.013277282007039,-0.059631150215864,0.078511066734791,0.010114057920873,-0.023604722693563,0.067589223384857,0.097381360828876,-0.124613411724567,-0.003996429964900,-0.169818937778473,0.124449409544468,-0.042373910546303));
res += mul(Get(s2,dx,-dy), float4x4(0.092776119709015,-0.035547956824303,0.034519016742706,-0.180516451597214,-0.210420385003090,0.034078054130077,0.065603427588940,-0.008100599050522,-0.031987793743610,-0.058150708675385,-0.122832976281643,0.152442693710327,-0.035870734602213,-0.203769341111183,0.027819320559502,-0.144096985459328));
res += mul(Get(s2,dx,0), float4x4(0.012330142781138,-0.061316799372435,0.043174225836992,-0.055616911500692,0.052714895457029,0.285756528377533,0.074052810668945,-0.082606449723244,-0.064097024500370,-0.029996581375599,0.140941604971886,-0.105952933430672,0.098050840198994,0.134561985731125,-0.038348399102688,-0.040479291230440));
res += mul(Get(s2,dx,dy), float4x4(0.245821267366409,-0.013054299168289,-0.101736523211002,-0.217420116066933,-0.051545098423958,-0.101099915802479,0.019012579694390,-0.126051351428032,-0.100093640387058,0.157043188810349,-0.008799531497061,0.054030962288380,-0.033474147319794,-0.067997075617313,-0.080927081406116,-0.156374052166939));
res += mul(Get(s3,-dx,-dy), float4x4(0.214671164751053,0.003253978444263,-0.215843349695206,0.043532393872738,0.026678329333663,-0.145795032382011,0.008832153864205,-0.167842477560043,0.000301278807456,0.086960941553116,-0.048930436372757,-0.005408708006144,0.197505190968513,-0.087759532034397,-0.024791350588202,-0.036115720868111));
res += mul(Get(s3,-dx,0), float4x4(-0.199868679046631,-0.242384046316147,-0.239487841725349,0.137695670127869,-0.012985023669899,0.047273531556129,0.079282440245152,0.063200719654560,0.077014856040478,0.061973560601473,-0.081355251371861,-0.037645123898983,-0.035584185272455,-0.117369070649147,0.000153485423652,-0.073476418852806));
res += mul(Get(s3,-dx,dy), float4x4(-0.061967197805643,-0.026891959831119,0.080307550728321,0.018260139971972,0.079924941062927,-0.007255028001964,-0.224294841289520,-0.041938565671444,0.194164872169495,0.117051549255848,0.015062448568642,0.043984279036522,0.120091363787651,0.057355545461178,0.038258489221334,-0.025389989838004));
res += mul(Get(s3,0,-dy), float4x4(-0.008445988409221,-0.010771835222840,-0.016887957230210,0.158938154578209,0.032221134752035,0.105005159974098,0.213840022683144,-0.005236162804067,-0.057452611625195,-0.093553714454174,0.269419312477112,-0.079147897660732,0.000005490069270,0.026039117947221,0.025736074894667,0.031882513314486));
res += mul(Get(s3,0,0), float4x4(0.129157021641731,0.057451255619526,-0.030244659632444,-0.154999464750290,-0.179695203900337,0.068972826004028,0.050944034010172,-0.019352989271283,-0.235502555966377,-0.071848183870316,0.096565306186676,-0.104042544960976,0.003007593099028,0.004998853895813,-0.088981211185455,0.147240474820137));
res += mul(Get(s3,0,dy), float4x4(0.024865953251719,0.071445204317570,0.119465723633766,0.151225283741951,-0.095789827406406,0.069176293909550,-0.076905511319637,0.049767807126045,0.340512961149216,0.034674964845181,-0.025536682456732,0.090728722512722,-0.054968383163214,-0.014792644418776,-0.111459903419018,-0.199562102556229));
res += mul(Get(s3,dx,-dy), float4x4(0.071344099938869,-0.003068195888773,0.138768538832664,0.010493870824575,0.232103362679482,0.023322500288486,-0.036063466221094,-0.156531170010567,0.139528349041939,-0.118599995970726,-0.096051543951035,-0.413521945476532,-0.073737777769566,-0.037368953227997,0.113641984760761,-0.178953707218170));
res += mul(Get(s3,dx,0), float4x4(0.004946875385940,0.122743487358093,0.046401321887970,-0.072667174041271,0.001759059377946,0.010248935781419,0.081748597323895,-0.004405200015754,0.105617053806782,0.009559447877109,0.024434385821223,-0.108822204172611,0.057281561195850,-0.126215711236000,0.127797901630402,-0.052097853273153));
res += mul(Get(s3,dx,dy), float4x4(0.141244888305664,0.152479067444801,0.032103899866343,-0.095936276018620,-0.008038104511797,0.015588745474815,0.112320750951767,-0.057893902063370,-0.114299893379211,0.094253204762936,-0.094757355749607,0.043109986931086,-0.150763034820557,-0.145735874772072,-0.043200701475143,0.126868233084679));
return max(float4(0,0,0,0), res);
}
