sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.067716278135777,0.189537748694420,-0.051634315401316,-0.168207123875618,-0.045005481690168,-0.068240970373154,0.076260194182396,-0.204760208725929,0.021287921816111,-0.097675547003746,-0.053267881274223,-0.052709899842739,0.023189757019281,-0.052325565367937,0.169459834694862,0.079238153994083));
res += mul(Get(s0,-dx,0), float4x4(-0.133234739303589,-0.202067449688911,0.075375512242317,-0.220457807183266,0.164629682898521,-0.079653494060040,-0.065314039587975,0.088154889643192,-0.003654347034171,0.049616418778896,0.162735193967819,-0.148200735449791,0.046859558671713,-0.063325710594654,0.093832999467850,-0.075767919421196));
res += mul(Get(s0,-dx,dy), float4x4(-0.146207138895988,-0.302809834480286,-0.063091181218624,-0.203317165374756,0.258013397455215,-0.188419654965401,0.086859874427319,0.039985518902540,-0.029704380780458,-0.047103945165873,0.048196166753769,0.016056325286627,0.115946762263775,-0.119953468441963,-0.057054914534092,-0.304701924324036));
res += mul(Get(s0,0,-dy), float4x4(-0.113381832838058,0.189364880323410,-0.118550524115562,-0.000328208057908,0.071367442607880,-0.102044671773911,-0.060841877013445,-0.024456817656755,-0.011781110428274,0.057404920458794,-0.212086081504822,0.005178886465728,-0.110252052545547,-0.147776141762733,0.064116254448891,-0.114404968917370));
res += mul(Get(s0,0,0), float4x4(0.003633791347966,0.117866203188896,0.040870379656553,-0.064705036580563,-0.020071465522051,-0.032463945448399,-0.189825937151909,0.219535797834396,-0.076332055032253,0.021943245083094,-0.190215662121773,-0.273977696895599,-0.107808992266655,0.195711582899094,-0.086053811013699,0.029778571799397));
res += mul(Get(s0,0,dy), float4x4(0.046427950263023,-0.029420489445329,0.069363780319691,0.081728354096413,0.086311683058739,-0.037112027406693,0.032054364681244,-0.061302032321692,-0.096655339002609,-0.078454770147800,-0.160754635930061,-0.154073044657707,0.083638839423656,-0.037407342344522,0.040849298238754,-0.115264557301998));
res += mul(Get(s0,dx,-dy), float4x4(-0.061445143073797,-0.031909219920635,-0.058191899210215,0.167380303144455,0.228203892707825,-0.078503161668777,0.105980359017849,0.058494806289673,-0.111887492239475,-0.037387553602457,-0.098525330424309,0.186279788613319,-0.017090441659093,-0.105517417192459,0.233424857258797,-0.164383903145790));
res += mul(Get(s0,dx,0), float4x4(-0.036222197115421,0.248123705387115,-0.020980859175324,0.000409425818361,0.001958524342626,-0.062901347875595,-0.059299953281879,0.009670428000391,-0.070767767727375,-0.106307037174702,-0.119910173118114,-0.231011107563972,-0.025640739127994,0.242652311921120,0.117370255291462,-0.075332932174206));
res += mul(Get(s0,dx,dy), float4x4(-0.059157982468605,-0.135479271411896,-0.129658743739128,-0.024057604372501,-0.031688947230577,0.058716870844364,-0.094302602112293,-0.168245688080788,-0.059251286089420,-0.136642038822174,-0.215725183486938,-0.062368098646402,0.008376933634281,0.203728169202805,0.172369614243507,-0.129101708531380));
res += mul(Get(s1,-dx,-dy), float4x4(0.226590335369110,-0.032494720071554,0.112375013530254,-0.121055491268635,-0.170641258358955,-0.199756190180779,0.008837881498039,-0.067913264036179,-0.040794882923365,0.066855125129223,0.299580782651901,-0.209526598453522,-0.035560410469770,-0.003550962544978,-0.113475069403648,0.259107410907745));
res += mul(Get(s1,-dx,0), float4x4(0.196192011237144,-0.040568336844444,0.085986986756325,0.174853995442390,-0.144901126623154,-0.224786892533302,-0.065125226974487,0.091252610087395,0.139238208532333,-0.161768987774849,0.218991741538048,-0.105078458786011,-0.051060304045677,0.172915250062943,0.404097974300385,0.040556024760008));
res += mul(Get(s1,-dx,dy), float4x4(0.183171346783638,0.159968435764313,0.034490019083023,-0.064497359097004,-0.049161788076162,-0.159028112888336,0.060515061020851,-0.229250788688660,-0.011867768131196,0.075572147965431,-0.067351944744587,0.045457720756531,-0.139988213777542,0.121073670685291,0.068259514868259,0.239068761467934));
res += mul(Get(s1,0,-dy), float4x4(0.010825523175299,-0.075350858271122,-0.049754641950130,-0.008502671495080,-0.099092125892639,-0.086386576294899,-0.016575632616878,-0.026219528168440,-0.157575279474258,-0.007045304868370,0.276314586400986,0.013362966477871,0.168140247464180,-0.156049132347107,-0.255050331354141,-0.160540595650673));
res += mul(Get(s1,0,0), float4x4(0.344249635934830,0.096614859998226,-0.006799715571105,0.186261773109436,0.087193898856640,-0.104153357446194,0.064558647572994,0.229981765151024,-0.063487589359283,-0.068270169198513,0.136609345674515,0.075382210314274,0.065535262227058,0.067106150090694,0.053796164691448,-0.360498070716858));
res += mul(Get(s1,0,dy), float4x4(0.071586340665817,0.205152899026871,-0.139189869165421,0.051410995423794,-0.129797086119652,-0.037413194775581,0.048450499773026,-0.027393238618970,0.032588385045528,0.057639162987471,-0.188168674707413,0.065533645451069,-0.056221701204777,0.160537973046303,-0.051472824066877,-0.079404592514038));
res += mul(Get(s1,dx,-dy), float4x4(-0.032768320292234,-0.013810847885907,-0.110286645591259,-0.177556887269020,-0.128247842192650,-0.015118182636797,-0.245860412716866,-0.073130682110786,-0.141855150461197,0.042880471795797,-0.094873003661633,0.115124844014645,0.028271293267608,-0.159756824374199,-0.190602913498878,0.286647379398346));
res += mul(Get(s1,dx,0), float4x4(0.069050729274750,-0.064361453056335,-0.059748429805040,0.061006501317024,0.000973880407400,-0.118446677923203,-0.121413305401802,0.217852011322975,-0.165099591016769,-0.002362944884226,-0.044132608920336,0.099058024585247,-0.096823938190937,-0.174298927187920,-0.119069814682007,0.074963159859180));
res += mul(Get(s1,dx,dy), float4x4(0.032929494976997,0.141539618372917,-0.029359040781856,0.268009036779404,0.067027121782303,-0.063868291676044,-0.130192965269089,-0.151799291372299,-0.136415392160416,-0.072047360241413,-0.130580946803093,0.022708512842655,-0.129164859652519,-0.049521807581186,-0.163465529680252,0.013215421698987));
res += mul(Get(s2,-dx,-dy), float4x4(0.147598102688789,0.169392168521881,0.155743211507797,0.011110060848296,0.025266023352742,-0.021587254479527,-0.128764674067497,-0.132130905985832,-0.076653271913528,-0.002783818868920,0.202915742993355,-0.006911287549883,-0.205306038260460,0.139492616057396,-0.141292095184326,-0.166797503829002));
res += mul(Get(s2,-dx,0), float4x4(-0.117712922394276,0.061265509575605,-0.101555950939655,-0.137105256319046,-0.073553726077080,-0.001798892975785,0.168579459190369,-0.144066765904427,0.025053529068828,0.223044484853745,0.093114860355854,0.151599586009979,-0.087807521224022,-0.030932115390897,-0.331443428993225,-0.010340208187699));
res += mul(Get(s2,-dx,dy), float4x4(0.084438174962997,0.243136793375015,0.005353429820389,-0.193771138787270,-0.206529796123505,0.064518421888351,0.115303002297878,0.078146748244762,0.123718947172165,-0.022344343364239,-0.060457557439804,0.031588543206453,-0.179324686527252,-0.071217037737370,0.100292794406414,-0.326434820890427));
res += mul(Get(s2,0,-dy), float4x4(-0.008653236553073,0.117620013654232,0.182837262749672,-0.088991731405258,-0.098065853118896,-0.114086180925369,-0.038847636431456,0.280722379684448,-0.037050198763609,-0.048860467970371,0.106506817042828,0.021614357829094,-0.109470508992672,0.237800866365433,0.475142568349838,-0.053842481225729));
res += mul(Get(s2,0,0), float4x4(-0.052841320633888,0.260274857282639,-0.007601322606206,-0.096252769231796,0.027637692168355,-0.043100945651531,0.125800058245659,0.294698506593704,-0.033201247453690,0.057064075022936,-0.104627653956413,0.060894008725882,0.018881127238274,0.176007419824600,-0.098541684448719,0.225287109613419));
res += mul(Get(s2,0,dy), float4x4(-0.043310109525919,0.257973164319992,0.008488149382174,-0.196591079235077,-0.028419950976968,0.050193518400192,-0.273514539003372,0.274353146553040,0.205328837037086,-0.050920244306326,0.007125857286155,0.011224432848394,-0.024438371881843,0.051132973283529,0.218553215265274,-0.098750039935112));
res += mul(Get(s2,dx,-dy), float4x4(-0.013959662057459,0.048753608018160,-0.096777856349945,-0.163540050387383,-0.059625562280416,0.032360546290874,-0.029141826555133,-0.292498648166656,-0.026796929538250,-0.018904635682702,-0.005069293081760,-0.061238322407007,-0.119189947843552,0.071631185710430,-0.146313086152077,-0.013990604318678));
res += mul(Get(s2,dx,0), float4x4(-0.104304112493992,0.016269978135824,-0.046266160905361,-0.181888744235039,0.124657131731510,0.068036131560802,0.172785103321075,-0.130286335945129,-0.192334949970245,0.162062540650368,-0.194810405373573,0.000129604261019,0.014699524268508,0.174992933869362,-0.000429326319136,0.184580996632576));
res += mul(Get(s2,dx,dy), float4x4(-0.204524904489517,0.027855845168233,-0.018762031570077,-0.021309148520231,0.098564803600311,-0.065344706177711,-0.278611153364182,-0.280053913593292,0.000915998651180,-0.050072934478521,-0.049417801201344,0.109312452375889,-0.051220703870058,-0.031897675246000,0.101285688579082,0.048650600016117));
res += mul(Get(s3,-dx,-dy), float4x4(0.196554660797119,0.194278910756111,-0.218380257487297,-0.202618926763535,0.085852317512035,0.009248244576156,-0.054815586656332,-0.172833919525146,-0.103909179568291,-0.004187355749309,0.026828777045012,0.034668367356062,-0.128272831439972,-0.057085428386927,-0.035095889121294,-0.039251469075680));
res += mul(Get(s3,-dx,0), float4x4(0.146000415086746,0.182672306895256,0.016017034649849,0.042505439370871,0.041598320007324,-0.194018632173538,-0.036910753697157,0.003269335022196,-0.027760654687881,-0.100619480013847,0.186476036906242,-0.106964059174061,0.040007572621107,-0.088693827390671,0.305111348628998,-0.041760049760342));
res += mul(Get(s3,-dx,dy), float4x4(0.009634348563850,0.186141729354858,-0.142483204603195,-0.044817779213190,-0.101397350430489,0.055197447538376,0.361459136009216,-0.096464440226555,0.447421044111252,0.234718054533005,0.088999852538109,-0.052101995795965,0.025513378903270,-0.106841295957565,0.041015263646841,0.258269399404526));
res += mul(Get(s3,0,-dy), float4x4(0.068831630051136,0.009074000641704,-0.092547148466110,-0.018643906340003,-0.044923275709152,0.162241801619530,0.005091309081763,-0.088869303464890,0.131448686122894,0.069144129753113,0.117747895419598,0.091649457812309,-0.137273013591766,-0.003891146741807,0.091660261154175,0.020443219691515));
res += mul(Get(s3,0,0), float4x4(-0.078424438834190,0.122294776141644,-0.142756015062332,0.056861799210310,-0.098012007772923,-0.073023445904255,0.084306731820107,-0.001693125581369,0.145120412111282,-0.080834530293941,-0.075560376048088,0.009286988526583,0.084362171590328,-0.078216888010502,0.120345093309879,0.149059429764748));
res += mul(Get(s3,0,dy), float4x4(-0.053738284856081,0.019387153908610,0.112269014120102,-0.000777413777541,-0.171872973442078,-0.032023232430220,0.023112058639526,-0.043439097702503,0.027651993557811,0.144784092903137,-0.033028300851583,0.100250042974949,0.107955045998096,-0.029195502400398,-0.155540302395821,0.285273700952530));
res += mul(Get(s3,dx,-dy), float4x4(0.009776674211025,-0.024969471618533,-0.115751363337040,-0.004138338845223,-0.084912620484829,0.184366241097450,0.363459289073944,0.195316448807716,-0.150550156831741,-0.046081278473139,-0.087935768067837,0.054954644292593,0.031037645414472,0.001044992241077,-0.037043783813715,0.250883489847183));
res += mul(Get(s3,dx,0), float4x4(-0.195908248424530,0.052945256233215,-0.173078104853630,-0.024447679519653,-0.000103566133475,0.085665948688984,0.169156938791275,0.108703687787056,-0.199913546442986,0.000486460688990,-0.126293137669563,0.114889346063137,0.067873649299145,-0.137499317526817,0.187713190913200,0.297748357057571));
res += mul(Get(s3,dx,dy), float4x4(-0.126858368515968,0.041086148470640,0.096538148820400,-0.002897569211200,0.118529669940472,0.166987910866737,0.014553919434547,-0.006195593625307,-0.150933876633644,0.013383327983320,0.008548689074814,0.119660921394825,-0.058496087789536,0.011563818901777,-0.046554729342461,0.135396957397461));
return max(float4(0,0,0,0), res);
}
