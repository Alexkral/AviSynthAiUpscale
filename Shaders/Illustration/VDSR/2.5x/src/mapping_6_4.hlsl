sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.019400056451559,0.084913223981857,0.041804600507021,0.065175227820873,0.172761127352715,0.000614981865510,0.057614840567112,-0.023908525705338,0.000152146807523,0.052222430706024,-0.099392592906952,-0.138512358069420,0.182145640254021,-0.004853523336351,-0.156866371631622,0.118153087794781));
res += mul(Get(s0,-dx,0), float4x4(-0.242322742938995,0.264859586954117,0.121840827167034,-0.075302280485630,-0.044758684933186,-0.063579782843590,0.274493277072906,-0.048009030520916,-0.166216537356377,-0.031913489103317,-0.065099321305752,0.079507835209370,0.057081077247858,-0.030114443972707,0.142575740814209,0.155370682477951));
res += mul(Get(s0,-dx,dy), float4x4(-0.007665431592613,0.159908175468445,-0.067384995520115,0.107336066663265,0.115608476102352,-0.001514850184321,0.240803852677345,0.017863588407636,0.050033289939165,0.063262656331062,0.077875658869743,0.219941690564156,0.045710399746895,0.062067683786154,-0.217348784208298,-0.175514131784439));
res += mul(Get(s0,0,-dy), float4x4(0.084983676671982,0.099024116992950,0.081385321915150,-0.030114982277155,-0.179905831813812,0.054928828030825,0.067864410579205,-0.055692695081234,-0.065398976206779,-0.162361085414886,0.122625984251499,-0.033998090773821,0.012409295886755,0.060473445802927,-0.006358615122736,-0.130224645137787));
res += mul(Get(s0,0,0), float4x4(0.065787494182587,0.080079242587090,0.073357664048672,0.119975298643112,0.026130717247725,0.098505683243275,-0.062121707946062,-0.013693423941731,0.021236091852188,0.096999026834965,-0.081233970820904,0.041853263974190,0.061588682234287,0.109685413539410,0.127995237708092,-0.041593357920647));
res += mul(Get(s0,0,dy), float4x4(0.005437873769552,0.191308468580246,-0.190054789185524,-0.031858079135418,-0.010004084557295,-0.012506211176515,-0.148408114910126,0.066156916320324,-0.025733442977071,0.125187471508980,0.062650747597218,-0.136429563164711,0.029833462089300,0.086516104638577,-0.061323154717684,-0.042035266757011));
res += mul(Get(s0,dx,-dy), float4x4(0.031516000628471,-0.016987638548017,0.035640768706799,0.006369762122631,0.047320622950792,-0.089102506637573,0.022332571446896,0.132722005248070,-0.106407687067986,0.047139935195446,0.047815553843975,0.092280700802803,-0.015427338890731,0.062043663114309,0.038678392767906,-0.004738696850836));
res += mul(Get(s0,dx,0), float4x4(0.090326465666294,-0.112019486725330,0.077809639275074,-0.021961659193039,0.060408711433411,0.031916283071041,0.004675010684878,-0.004540053196251,-0.012854211963713,0.016317784786224,-0.142035782337189,0.180583953857422,-0.176969915628433,0.074309065937996,0.009787248447537,0.082034997642040));
res += mul(Get(s0,dx,dy), float4x4(-0.072369031608105,-0.088102661073208,-0.021515199914575,-0.088930115103722,0.095976978540421,-0.001749177463353,-0.124567165970802,0.075512684881687,0.045235011726618,0.051453288644552,0.143400147557259,0.138351991772652,0.007190323434770,0.001321020303294,-0.116430237889290,-0.035613007843494));
res += mul(Get(s1,-dx,-dy), float4x4(0.066197097301483,0.158912301063538,-0.161074399948120,0.033488117158413,-0.122960627079010,0.017265908420086,-0.017303597182035,-0.171916246414185,0.013961052522063,-0.127260863780975,-0.004661749582738,0.067150078713894,-0.093028172850609,-0.016692224889994,-0.263604909181595,-0.164963185787201));
res += mul(Get(s1,-dx,0), float4x4(-0.024946700781584,0.217031762003899,0.033509578555822,-0.091476663947105,0.002243174938485,-0.047795481979847,0.160459458827972,-0.074309185147285,-0.060369219630957,-0.092342481017113,0.017922528088093,-0.163180440664291,0.157015949487686,0.166819736361504,0.038268283009529,-0.166406527161598));
res += mul(Get(s1,-dx,dy), float4x4(0.101551480591297,-0.020305510610342,0.011866519227624,-0.008895893581212,-0.014817339368165,-0.013080356642604,-0.059979803860188,-0.004548635333776,-0.115650057792664,0.077327564358711,-0.024487718939781,-0.024681666865945,-0.160006135702133,-0.113721705973148,-0.004835427738726,-0.085838638246059));
res += mul(Get(s1,0,-dy), float4x4(-0.050705011934042,0.095204368233681,0.044311363250017,-0.041212841868401,-0.000104637445475,0.055029489099979,-0.012646527960896,-0.037876930087805,-0.090729124844074,0.050722658634186,0.029597364366055,0.093299821019173,-0.118663884699345,0.092389777302742,0.070216745138168,0.015812614932656));
res += mul(Get(s1,0,0), float4x4(0.052647169679403,0.052545379847288,-0.115728393197060,0.069865778088570,0.047115884721279,-0.013326263986528,-0.004649823531508,0.090428598225117,-0.070438638329506,-0.138892218470573,-0.006468621082604,-0.017354175448418,0.111290782690048,0.055973514914513,0.028703249990940,-0.134738072752953));
res += mul(Get(s1,0,dy), float4x4(-0.046674851328135,0.001873751520179,-0.092356048524380,0.195698529481888,-0.055038854479790,-0.190212190151215,-0.053372424095869,0.129545047879219,0.124063432216644,0.087799020111561,0.078847825527191,0.060801405459642,-0.008215184323490,0.212886333465576,-0.113403066992760,-0.136365666985512));
res += mul(Get(s1,dx,-dy), float4x4(-0.113665290176868,-0.003334847977385,0.135490059852600,-0.032411936670542,-0.064392365515232,0.203357905149460,0.040325839072466,-0.159448117017746,-0.059177968651056,-0.148979067802429,-0.007039041724056,0.090338371694088,0.093863315880299,0.098433151841164,-0.038119181990623,-0.103936254978180));
res += mul(Get(s1,dx,0), float4x4(-0.160046383738518,-0.113087184727192,0.189712256193161,0.146804362535477,-0.277973860502243,0.133486106991768,-0.056121706962585,-0.011938291601837,-0.215133979916573,0.079896725714207,-0.129010558128357,0.029357323423028,-0.127971395850182,0.116945363581181,0.005933339707553,0.106848239898682));
res += mul(Get(s1,dx,dy), float4x4(0.038776416331530,-0.024958329275250,0.083222173154354,0.105611905455589,0.079164259135723,-0.066808618605137,0.130793765187263,0.049674786627293,-0.159186944365501,0.045279353857040,-0.127955958247185,-0.080138124525547,-0.004957966040820,-0.067417167127132,-0.003095445455983,-0.092751987278461));
res += mul(Get(s2,-dx,-dy), float4x4(0.085027851164341,-0.030730523169041,0.023785997182131,0.054517995566130,0.141604512929916,0.095742948353291,0.135375723242760,-0.081311099231243,-0.014347398653626,0.026389261707664,-0.132434174418449,0.063608184456825,0.016513075679541,-0.081232525408268,-0.099832653999329,0.106621548533440));
res += mul(Get(s2,-dx,0), float4x4(0.058411877602339,0.134481266140938,-0.218737185001373,-0.042517539113760,0.072887353599072,-0.005488506983966,0.058768495917320,0.046481799334288,-0.032111376523972,0.002316013677046,0.059929329901934,-0.052032563835382,0.110256694257259,-0.193759009242058,-0.070365555584431,-0.015162861905992));
res += mul(Get(s2,-dx,dy), float4x4(0.087685592472553,0.117898516356945,-0.101098515093327,0.070590302348137,0.063513010740280,0.105799645185471,-0.125257313251495,-0.178005769848824,-0.138178661465645,-0.119058340787888,-0.013736517168581,-0.044406075030565,-0.003830993548036,-0.162167087197304,-0.160251244902611,-0.194514483213425));
res += mul(Get(s2,0,-dy), float4x4(-0.229332849383354,0.055522244423628,0.083580374717712,0.006335570476949,0.045332446694374,0.139900937676430,-0.162940457463264,0.073560208082199,0.036109335720539,-0.166604444384575,0.083700478076935,-0.036673661321402,-0.109001785516739,0.020377384498715,-0.135400623083115,0.085086122155190));
res += mul(Get(s2,0,0), float4x4(-0.060945518314838,-0.217149421572685,-0.001890573767014,0.279226362705231,0.004666686523706,0.125295519828796,0.030141137540340,0.078448846936226,-0.037719752639532,-0.221365556120872,0.086917124688625,0.002815032377839,-0.133438497781754,-0.056582622230053,-0.076187990605831,0.203575953841209));
res += mul(Get(s2,0,dy), float4x4(0.081559002399445,-0.033895820379257,-0.091622643172741,-0.110625706613064,-0.127780660986900,-0.010359285399318,-0.019163472577929,0.008051215671003,-0.115394793450832,-0.040048792958260,0.242312103509903,0.111080117523670,-0.163545280694962,0.033443789929152,0.017433630302548,-0.017282476648688));
res += mul(Get(s2,dx,-dy), float4x4(0.063591197133064,-0.109676063060760,0.145172819495201,-0.130224153399467,0.007558095268905,-0.081049926578999,-0.102123223245144,-0.068062432110310,-0.044291801750660,-0.193263858556747,0.169087797403336,-0.117165409028530,-0.083463080227375,-0.026107700541615,0.113388985395432,-0.053569484502077));
res += mul(Get(s2,dx,0), float4x4(-0.016663074493408,-0.103111773729324,0.215121313929558,0.042939331382513,-0.066188775002956,-0.040483511984348,0.106499522924423,0.093461945652962,0.063538201153278,-0.043215531855822,-0.031860537827015,0.173681542277336,-0.077891074120998,-0.339171648025513,-0.052161261439323,0.107210509479046));
res += mul(Get(s2,dx,dy), float4x4(-0.211054474115372,-0.203861743211746,-0.117075741291046,0.048111461102962,-0.110070854425430,-0.161148309707642,-0.095323339104652,-0.203423082828522,-0.093246296048164,-0.260697454214096,0.033264175057411,0.058681864291430,-0.124331548810005,-0.105974838137627,-0.045563329011202,0.011719841510057));
res += mul(Get(s3,-dx,-dy), float4x4(0.145558089017868,-0.052933845669031,0.163795366883278,-0.110992200672626,-0.029024351388216,0.120040886104107,-0.068612858653069,-0.035627216100693,0.124412171542645,0.047168619930744,0.081370979547501,-0.073110349476337,0.101586453616619,-0.074003204703331,0.204776018857956,0.139393791556358));
res += mul(Get(s3,-dx,0), float4x4(-0.104367181658745,0.106378316879272,0.115339897572994,0.080499686300755,-0.113859832286835,-0.083011902868748,-0.172283798456192,0.137916192412376,-0.128849387168884,-0.015869962051511,0.064408950507641,0.116635352373123,-0.033077098429203,-0.055786844342947,0.172918900847435,0.056015543639660));
res += mul(Get(s3,-dx,dy), float4x4(0.021993525326252,0.006482713855803,0.055703379213810,-0.226728558540344,-0.067843198776245,0.080512590706348,-0.131498202681541,-0.074602544307709,-0.135379776358604,-0.002491616643965,-0.171096608042717,0.136996909976006,-0.065296113491058,0.001524761668406,-0.023218331858516,-0.106797054409981));
res += mul(Get(s3,0,-dy), float4x4(-0.111587278544903,0.059921924024820,-0.217755928635597,-0.129486858844757,-0.054468009620905,-0.191380456089973,0.165734127163887,-0.045187782496214,-0.178251639008522,-0.014811491593719,-0.002552201505750,-0.014075857587159,0.045544955879450,-0.008670427836478,-0.040964301675558,0.088956408202648));
res += mul(Get(s3,0,0), float4x4(0.002537500578910,0.109443999826908,0.070424497127533,-0.066210210323334,0.166489437222481,0.093218110501766,0.131007626652718,0.025281123816967,-0.267953991889954,-0.014800024218857,0.038019854575396,-0.060482587665319,0.160568460822105,-0.059320133179426,0.105778165161610,-0.040101759135723));
res += mul(Get(s3,0,dy), float4x4(-0.172436758875847,-0.017928402870893,-0.078979410231113,-0.040079202502966,-0.104577414691448,0.031421724706888,-0.116101600229740,-0.096560500562191,-0.163501515984535,-0.049913264811039,-0.000818413682282,0.115978874266148,-0.156426057219505,-0.135553568601608,0.103103920817375,-0.207378268241882));
res += mul(Get(s3,dx,-dy), float4x4(0.042349670082331,0.075530678033829,0.079320065677166,0.098364755511284,0.057452015578747,0.125915169715881,-0.082913577556610,0.065108589828014,0.000575796118937,-0.093524634838104,0.068052448332310,-0.138096109032631,0.076781690120697,0.199275285005569,0.025586392730474,-0.096786022186279));
res += mul(Get(s3,dx,0), float4x4(-0.081610456109047,-0.109396904706955,0.183512181043625,-0.050714183598757,0.018921991810203,-0.108322106301785,-0.059728458523750,0.213486373424530,-0.046056736260653,0.041486617177725,0.059358198195696,-0.134383231401443,0.170134603977203,-0.003793643554673,0.161565497517586,-0.128109663724899));
res += mul(Get(s3,dx,dy), float4x4(0.046411417424679,-0.008677154779434,-0.161963671445847,0.147307887673378,-0.147604957222939,-0.046679902821779,-0.022214686498046,0.150784865021706,0.018959224224091,-0.017327541485429,-0.059542238712311,-0.022178171202540,-0.073724359273911,0.170411720871925,0.044280271977186,0.130320191383362));
return max(float4(0,0,0,0), res);
}
