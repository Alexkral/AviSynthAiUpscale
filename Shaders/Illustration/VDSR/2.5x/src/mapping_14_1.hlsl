sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.075267940759659,-0.115467518568039,-0.046427417546511,0.088770605623722,0.056055936962366,0.070455692708492,-0.111747965216637,0.103091396391392,0.154726892709732,-0.118376143276691,0.178580805659294,0.019938098266721,-0.065277338027954,-0.053813580423594,0.141754239797592,0.070330284535885));
res += mul(Get(s0,-dx,0), float4x4(-0.057241238653660,-0.162568703293800,-0.022812725976110,0.022087059915066,-0.143166497349739,-0.081478849053383,0.024418666958809,-0.061276853084564,-0.137230589985847,0.045153833925724,-0.005638130009174,-0.000255433726124,-0.065073087811470,-0.001463469816372,0.230373084545135,0.093387506902218));
res += mul(Get(s0,-dx,dy), float4x4(0.028273701667786,0.095321886241436,0.068698294460773,0.072388194501400,0.026076873764396,0.112599410116673,-0.112440280616283,-0.051754724234343,-0.043387345969677,-0.023610278964043,-0.081483244895935,-0.003595876507461,-0.041293904185295,0.205088257789612,0.036240942776203,-0.110798373818398));
res += mul(Get(s0,0,-dy), float4x4(0.091641858220100,-0.050109427422285,0.118649110198021,0.121797911822796,0.174138292670250,-0.152063637971878,-0.122273601591587,0.216404393315315,-0.124992176890373,-0.073947191238403,0.062817111611366,0.073365285992622,0.104119844734669,-0.083596885204315,0.017228776589036,0.133667930960655));
res += mul(Get(s0,0,0), float4x4(0.134954243898392,0.062380790710449,-0.144165754318237,0.223214894533157,0.337090671062469,-0.012221566401422,-0.029366249218583,0.210293084383011,-0.019128404557705,-0.005751896183938,-0.066671259701252,0.089789263904095,0.087210044264793,-0.042903855443001,-0.019163956865668,0.087777756154537));
res += mul(Get(s0,0,dy), float4x4(-0.072733968496323,0.097168907523155,-0.028929663822055,0.010203290730715,-0.020297458395362,-0.022108322009444,0.009994325228035,0.113178141415119,0.022311339154840,-0.116136744618416,0.004052538890392,-0.025081468746066,-0.004456430673599,0.045948378741741,-0.099118374288082,-0.016754684969783));
res += mul(Get(s0,dx,-dy), float4x4(-0.136735349893570,-0.083092272281647,0.119606941938400,-0.004583363886923,0.264465868473053,0.120676048099995,-0.021189693361521,0.004883456043899,0.042622700333595,0.092175893485546,0.125130414962769,-0.109865464270115,0.038302306085825,0.010075227357447,-0.041723828762770,0.146395295858383));
res += mul(Get(s0,dx,0), float4x4(0.087239772081375,-0.028066322207451,-0.029172254726291,-0.024661635980010,-0.213004574179649,0.086032517254353,-0.104819223284721,0.006998801138252,-0.184331133961678,0.050183005630970,0.080757133662701,-0.008256062865257,0.058528073132038,0.034768294543028,-0.132354110479355,0.073571301996708));
res += mul(Get(s0,dx,dy), float4x4(-0.076086103916168,0.059666704386473,0.082954093813896,0.167345702648163,-0.089535526931286,-0.179455712437630,-0.110620342195034,-0.176894113421440,0.032858941704035,-0.024565055966377,-0.077625133097172,-0.041429121047258,-0.062388453632593,-0.019339544698596,-0.108346968889236,0.142252340912819));
res += mul(Get(s1,-dx,-dy), float4x4(-0.055062763392925,0.130524620413780,-0.109551884233952,0.056592237204313,-0.107264459133148,0.128087788820267,-0.096594125032425,-0.085528604686260,0.031244335696101,-0.014689477160573,0.088635340332985,-0.261645823717117,0.090537197887897,-0.032586619257927,-0.058115158230066,-0.007909433916211));
res += mul(Get(s1,-dx,0), float4x4(-0.310831308364868,-0.010265446268022,-0.245713472366333,0.042411979287863,0.014817144721746,-0.105448268353939,0.024443581700325,0.031632397323847,0.034403800964355,-0.012338819913566,0.017110461369157,-0.035689536482096,0.046262048184872,-0.031699102371931,0.014074687846005,-0.035026036202908));
res += mul(Get(s1,-dx,dy), float4x4(-0.067996494472027,0.029235472902656,-0.075230516493320,0.220421671867371,0.033825479447842,0.019510205835104,-0.164651781320572,0.063939988613129,-0.097086958587170,-0.009586193598807,0.031038111075759,-0.038188181817532,-0.010850499384105,0.144066140055656,-0.153099641203880,-0.056582685559988));
res += mul(Get(s1,0,-dy), float4x4(0.002579521154985,-0.043162636458874,-0.206607595086098,-0.183833107352257,0.023873813450336,-0.069126524031162,-0.047448821365833,-0.054627463221550,-0.004583770409226,-0.067253932356834,-0.020763937383890,-0.071450702846050,0.034902691841125,-0.008010657504201,0.001655025873333,0.221334621310234));
res += mul(Get(s1,0,0), float4x4(-0.068257652223110,-0.029641535133123,0.059775933623314,-0.210308372974396,-0.013734039850533,-0.039876129478216,0.034350793808699,0.149943232536316,-0.063010476529598,-0.149499058723450,-0.056123778223991,0.057819843292236,-0.005614460445940,-0.016515346243978,0.155273631215096,0.012465197592974));
res += mul(Get(s1,0,dy), float4x4(0.286746352910995,-0.049179334193468,-0.066176526248455,0.084400951862335,-0.349543094635010,-0.104815743863583,-0.052707780152559,0.033381454646587,-0.169302329421043,0.152518540620804,0.041907608509064,0.041043251752853,-0.150372743606567,0.018548915162683,-0.097052566707134,0.022545050829649));
res += mul(Get(s1,dx,-dy), float4x4(-0.274102181196213,-0.068576142191887,-0.059785068035126,-0.055116962641478,-0.030598683282733,-0.025020690634847,0.102615617215633,-0.184927195310593,-0.046785008162260,-0.003806378459558,-0.117271080613136,-0.068936765193939,-0.012197833508253,-0.144855424761772,-0.177345827221870,-0.193017140030861));
res += mul(Get(s1,dx,0), float4x4(-0.079346254467964,-0.031322758644819,-0.146863460540771,-0.135223641991615,0.015897274017334,-0.097206920385361,0.060544565320015,0.059697300195694,-0.201173692941666,-0.190718397498131,-0.004315308760852,-0.044111404567957,-0.001766697154380,0.045913979411125,-0.054190207272768,-0.015261367894709));
res += mul(Get(s1,dx,dy), float4x4(0.228261813521385,-0.218754410743713,-0.014464298263192,-0.046039421111345,0.133295029401779,0.037384986877441,-0.085952647030354,-0.057638030499220,-0.105814017355442,-0.031817525625229,0.076335765421391,-0.077255994081497,-0.250419139862061,-0.101478718221188,-0.045090958476067,0.067521043121815));
res += mul(Get(s2,-dx,-dy), float4x4(0.170829549431801,0.086251690983772,-0.016965204849839,0.149543598294258,0.101020395755768,-0.070822604000568,0.118323437869549,0.074770711362362,0.067336894571781,0.089667066931725,-0.151384413242340,-0.130401685833931,0.088994771242142,0.128533989191055,-0.081571720540524,-0.040529370307922));
res += mul(Get(s2,-dx,0), float4x4(-0.057912345975637,0.037194464355707,-0.087789401412010,0.293935090303421,0.031101388856769,-0.040238413959742,0.109043575823307,0.033279288560152,-0.053958043456078,-0.240494266152382,0.027292387560010,-0.033191975206137,0.145142778754234,-0.143753796815872,0.005147317424417,-0.155526399612427));
res += mul(Get(s2,-dx,dy), float4x4(-0.116319984197617,0.168218761682510,-0.091879822313786,0.103819377720356,0.183505192399025,-0.106477104127407,0.067511394619942,-0.049486257135868,-0.182260498404503,-0.100411988794804,-0.162213549017906,-0.201677545905113,0.044508337974548,-0.012326740659773,-0.029000522568822,-0.016998752951622));
res += mul(Get(s2,0,-dy), float4x4(0.038614146411419,0.039041291922331,-0.159527942538261,-0.085772745311260,0.061919998377562,-0.027652403339744,0.035540301352739,0.206190884113312,0.042163316160440,0.112984851002693,0.069503001868725,0.018081935122609,0.110193170607090,0.028162846341729,0.114758826792240,0.019418157637119));
res += mul(Get(s2,0,0), float4x4(0.023196350783110,-0.230639487504959,0.058978881686926,-0.026949869468808,0.088661804795265,-0.056872319430113,0.029495552182198,0.059262081980705,0.115914896130562,-0.029816627502441,-0.100018270313740,0.173994407057762,0.249412402510643,-0.061300937086344,-0.071239747107029,-0.210043758153915));
res += mul(Get(s2,0,dy), float4x4(0.012437568046153,0.015352307818830,-0.009796694852412,-0.103967010974884,0.064181536436081,0.140243858098984,0.094396263360977,0.277779042720795,0.014130060561001,-0.033413827419281,0.116218708455563,-0.064041480422020,0.109034843742847,0.035176735371351,0.020279290154576,0.130002334713936));
res += mul(Get(s2,dx,-dy), float4x4(-0.017692221328616,-0.116476029157639,0.057966515421867,-0.244814842939377,-0.106222845613956,-0.043428137898445,-0.028726724907756,-0.025921095162630,0.178789213299751,0.078639470040798,-0.152002900838852,0.084246695041656,0.105947092175484,0.125544145703316,-0.007061822805554,-0.049524836242199));
res += mul(Get(s2,dx,0), float4x4(0.091774038970470,0.040839664638042,-0.125150159001350,-0.000930141250137,0.024695880711079,-0.112157002091408,0.177288204431534,0.053460687398911,-0.141353383660316,0.106526918709278,0.008347674272954,-0.001746061840095,-0.193973526358604,0.046906135976315,-0.096436277031898,-0.080785028636456));
res += mul(Get(s2,dx,dy), float4x4(0.084218233823776,0.041966598480940,-0.014490981586277,-0.156387761235237,0.060916882008314,0.000636344135273,-0.099374562501907,0.067582219839096,0.135304346680641,-0.054854866117239,-0.194394439458847,0.156010210514069,0.196207866072655,-0.062181040644646,0.174753606319427,0.016311589628458));
res += mul(Get(s3,-dx,-dy), float4x4(0.184264436364174,0.016250770539045,0.011224687099457,-0.101942494511604,0.046716660261154,-0.005505302920938,0.096886113286018,0.018424948677421,0.097105935215950,0.175130158662796,-0.023297788575292,-0.142616853117943,0.035009209066629,0.066056504845619,0.023250764235854,-0.011006826534867));
res += mul(Get(s3,-dx,0), float4x4(0.243105039000511,0.068204849958420,-0.104481570422649,0.042059689760208,-0.029255937784910,-0.162890478968620,0.052208282053471,0.021922582760453,0.211058601737022,0.082669712603092,0.066227376461029,0.215497583150864,-0.082306399941444,-0.163493096828461,0.134754866361618,0.277650684118271));
res += mul(Get(s3,-dx,dy), float4x4(0.003213572315872,-0.083210490643978,-0.132972270250320,-0.034184746444225,0.096188664436340,0.048435378819704,-0.089805640280247,0.133716300129890,0.006770282052457,-0.079695023596287,-0.034762360155582,0.020115913823247,0.120639830827713,0.051010284572840,0.055395819246769,0.071173705160618));
res += mul(Get(s3,0,-dy), float4x4(0.098868831992149,-0.031098676845431,0.042410437017679,0.061286218464375,-0.093392238020897,-0.168868869543076,-0.013915677554905,-0.108352094888687,-0.089610800147057,0.070479899644852,-0.065417848527431,0.040112257003784,-0.145776703953743,-0.071323484182358,0.121930152177811,0.043037503957748));
res += mul(Get(s3,0,0), float4x4(-0.038555692881346,0.049783959984779,-0.047550946474075,-0.040261588990688,0.229848131537437,0.082579627633095,0.012667786329985,0.062076594680548,-0.019657356664538,-0.070637889206409,-0.108502790331841,0.152596563100815,-0.089146107435226,0.210283264517784,0.012756897136569,0.159503862261772));
res += mul(Get(s3,0,dy), float4x4(-0.164531484246254,0.045367833226919,-0.130952790379524,0.036899469792843,0.063880018889904,-0.087567105889320,-0.010739355348051,-0.147858127951622,0.008464968763292,-0.120422013103962,-0.114322990179062,-0.131446972489357,-0.072556108236313,0.178978770971298,-0.082773521542549,-0.115311928093433));
res += mul(Get(s3,dx,-dy), float4x4(0.008695273660123,-0.096923515200615,-0.152088016271591,0.073484756052494,0.037804178893566,-0.110979139804840,-0.035693693906069,0.209444209933281,-0.182859122753143,0.017604533582926,0.004625354427844,-0.022978777065873,-0.002082511549816,-0.041663952171803,-0.010805347934365,0.113350182771683));
res += mul(Get(s3,dx,0), float4x4(0.047583267092705,-0.003639869624749,-0.046985104680061,0.052951019257307,0.178887590765953,-0.052793990820646,0.144255086779594,0.028604017570615,0.188264399766922,-0.096075683832169,-0.037431038916111,0.061827119439840,-0.034107904881239,-0.006797458045185,0.232813298702240,0.289533972740173));
res += mul(Get(s3,dx,dy), float4x4(-0.095448628067970,0.024287875741720,-0.009842249564826,0.072282150387764,-0.105347335338593,0.040489066392183,-0.032187234610319,-0.007519568316638,-0.124744877219200,-0.059370525181293,0.027625054121017,0.090640865266323,-0.006200261879712,0.146882861852646,0.005825703032315,-0.026588346809149));
return max(float4(0,0,0,0), res);
}
