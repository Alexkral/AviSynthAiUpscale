sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.027058558538556,0.211741536855698,0.151968225836754,0.070860594511032,0.102889791131020,-0.071166746318340,0.055241391062737,0.167739301919937,0.025206653401256,0.040396623313427,0.091893628239632,0.163836121559143,-0.050247941166162,-0.024548955261707,0.070101603865623,0.213951870799065));
res += mul(Get(s0,-dx,0), float4x4(0.025905704125762,0.142400056123734,0.097305424511433,0.281744748353958,0.038063190877438,0.224623337388039,0.118330880999565,0.209659188985825,-0.012525574304163,0.024580625817180,0.038794022053480,-0.054419223219156,-0.055709857493639,0.271414279937744,0.118666246533394,0.398686677217484));
res += mul(Get(s0,-dx,dy), float4x4(-0.005269708111882,0.072416454553604,0.064195729792118,0.102134384214878,0.010231756605208,0.131178036332130,0.058732226490974,0.129871189594269,0.036640979349613,-0.054625615477562,0.022598149254918,-0.033362947404385,-0.119239367544651,0.248554512858391,0.043625365942717,0.268198907375336));
res += mul(Get(s0,0,-dy), float4x4(0.007393443491310,0.190487295389175,0.271468758583069,0.152939900755882,0.076842784881592,-0.065897814929485,0.039279591292143,0.295484215021133,-0.035108536481857,0.106663905084133,-0.072365641593933,0.166977778077126,0.091324567794800,0.005694680847228,0.137333407998085,0.158898904919624));
res += mul(Get(s0,0,0), float4x4(-0.027323799207807,0.119614221155643,0.147473081946373,0.250022858381271,0.071803294122219,0.071265123784542,0.152293950319290,0.037705942988396,-0.180365353822708,-0.014745787717402,-0.057890411466360,-0.147245496511459,0.037542704492807,0.290933519601822,0.257822722196579,0.081180207431316));
res += mul(Get(s0,0,dy), float4x4(0.028214283287525,0.073933199048042,-0.000005761546618,0.000174268279807,0.075198471546173,0.059467878192663,0.215298458933830,0.170894190669060,0.057456146925688,-0.177168592810631,-0.051436752080917,0.004124604165554,-0.009824818931520,0.082367427647114,0.075272783637047,-0.115195684134960));
res += mul(Get(s0,dx,-dy), float4x4(0.048617653548717,0.097510017454624,0.247971221804619,-0.114399723708630,0.036901772022247,-0.092669859528542,-0.030874641612172,0.004704596474767,0.054339461028576,0.020852563902736,0.162622004747391,0.216013833880424,-0.047743335366249,-0.120212130248547,-0.014164502732456,0.091272056102753));
res += mul(Get(s0,dx,0), float4x4(-0.047228906303644,0.084555894136429,0.071452207863331,0.033132404088974,0.055471874773502,-0.159755259752274,-0.093916229903698,-0.257749557495117,-0.031479544937611,0.270970553159714,0.280671834945679,0.369840711355209,-0.089424878358841,0.007998161949217,-0.027312481775880,-0.169759422540665));
res += mul(Get(s0,dx,dy), float4x4(-0.076694227755070,0.019496783614159,-0.038181014358997,-0.043932303786278,0.188255146145821,-0.192074149847031,0.069935478270054,-0.106926411390305,0.067701540887356,0.181829616427422,0.135322123765945,0.394441574811935,-0.041190080344677,-0.158024534583092,0.002453987486660,-0.144500717520714));
res += mul(Get(s1,-dx,-dy), float4x4(-0.117830514907837,0.102010890841484,-0.049388885498047,-0.101723141968250,-0.041395455598831,0.110624104738235,0.153161913156509,-0.066293865442276,0.058985117822886,-0.098238825798035,0.020325677469373,0.093360342085361,-0.044781506061554,0.054618541151285,0.051513768732548,0.029110502451658));
res += mul(Get(s1,-dx,0), float4x4(-0.100532911717892,-0.017195004969835,-0.103272825479507,-0.129437074065208,-0.037084996700287,0.049296624958515,-0.072800032794476,-0.001979247899726,0.023846056312323,-0.006844134069979,-0.056494701653719,0.274316310882568,-0.107902772724628,-0.132473826408386,-0.117554180324078,-0.270523160696030));
res += mul(Get(s1,-dx,dy), float4x4(-0.033922061324120,-0.060195688158274,-0.077829167246819,-0.109046749770641,0.026921901851892,0.043893814086914,0.065311849117279,0.065274551510811,0.016264833509922,0.175883442163467,0.083409801125526,0.225857719779015,-0.028092335909605,-0.148259207606316,-0.206084996461868,0.141998663544655));
res += mul(Get(s1,0,-dy), float4x4(-0.131958246231079,0.155330106616020,0.038618415594101,-0.050128284841776,0.098181180655956,0.323994696140289,0.296400189399719,-0.061884604394436,-0.035232216119766,-0.321172565221786,-0.095986478030682,-0.088437944650650,0.012923186644912,0.150113970041275,0.208200007677078,0.039132796227932));
res += mul(Get(s1,0,0), float4x4(0.247201874852180,0.257533937692642,0.068492077291012,0.233257755637169,-0.049474179744720,-0.019820079207420,-0.096747763454914,-0.120252609252930,0.109699986875057,-0.100834429264069,-0.041785992681980,0.211261436343193,-0.105992287397385,-0.275321304798126,-0.220229864120483,0.002244311850518));
res += mul(Get(s1,0,dy), float4x4(0.087151341140270,0.263736993074417,0.216449931263924,0.212491482496262,0.056380227208138,0.041592143476009,0.019421020522714,0.079753153026104,0.027634277939796,0.243716686964035,0.253323048353195,0.138477653264999,0.085823833942413,-0.034842230379581,-0.231822356581688,0.413184165954590));
res += mul(Get(s1,dx,-dy), float4x4(-0.037063222378492,0.154722556471825,-0.027784109115601,-0.045494742691517,-0.051545366644859,0.111552588641644,0.191586166620255,0.030522488057613,-0.147730544209480,-0.322492718696594,-0.016812950372696,-0.151887074112892,-0.033267192542553,-0.028278565034270,0.142214745283127,0.111328080296516));
res += mul(Get(s1,dx,0), float4x4(0.232778772711754,0.059599101543427,-0.084373511373997,-0.114225685596466,-0.037555627524853,0.066217735409737,-0.041761763393879,0.146171376109123,0.041882093995810,-0.240390330553055,-0.010847962461412,0.083230488002300,0.048974413424730,0.112958267331123,-0.078522138297558,0.555390298366547));
res += mul(Get(s1,dx,dy), float4x4(0.155287340283394,0.038849722594023,0.211282014846802,-0.170497059822083,-0.063678517937660,0.048835992813110,-0.031641401350498,0.142603710293770,0.102006725966930,0.117179416120052,0.238064825534821,-0.079920008778572,0.029517631977797,0.062287710607052,-0.240534514188766,0.030151925981045));
res += mul(Get(s2,-dx,-dy), float4x4(0.044859416782856,-0.033172696828842,-0.150893032550812,0.035831660032272,0.044453162699938,0.131515771150589,0.078792266547680,0.011678822338581,0.204107061028481,-0.006372279487550,0.019844364374876,-0.107327193021774,0.133527889847755,-0.000056819852034,0.083157785236835,-0.099794842302799));
res += mul(Get(s2,-dx,0), float4x4(-0.025544872507453,0.010829111561179,-0.029689395800233,0.215246319770813,-0.072167828679085,0.146096497774124,0.053371552377939,0.315674155950546,0.166242837905884,-0.215801149606705,-0.053011108189821,-0.171358093619347,0.185707077383995,0.114407584071159,0.252012968063354,0.082741752266884));
res += mul(Get(s2,-dx,dy), float4x4(-0.008499922230840,0.003385233692825,-0.096859574317932,0.165122225880623,-0.098721675574780,0.044907573610544,-0.013068137690425,0.126772731542587,0.155585587024689,-0.125037997961044,-0.126725494861603,-0.044626731425524,0.108020737767220,-0.043032336980104,-0.076646082103252,-0.194863632321358));
res += mul(Get(s2,0,-dy), float4x4(0.095785364508629,-0.011781990528107,-0.394227534532547,0.311771333217621,0.009524524211884,0.128654301166534,-0.036886978894472,0.032235547900200,0.079380296170712,0.053763974457979,0.095446802675724,-0.030249236151576,0.189513951539993,-0.224608927965164,-0.005789526272565,-0.106590397655964));
res += mul(Get(s2,0,0), float4x4(0.069890886545181,0.197010621428490,0.076923973858356,0.091610535979271,0.196589529514313,0.193485334515572,-0.009403287433088,0.467223852872849,-0.066911920905113,-0.054127141833305,-0.070188492536545,-0.133530974388123,0.310006380081177,0.263870894908905,0.496978461742401,0.128671810030937));
res += mul(Get(s2,0,dy), float4x4(-0.110801205039024,-0.097411409020424,-0.022577524185181,-0.035402052104473,0.064941078424454,0.300009250640869,0.033170025795698,0.137247428297997,0.091127417981625,-0.074922218918800,-0.170153379440308,-0.056334201246500,-0.234853148460388,-0.074814304709435,0.019040988758206,-0.149404823780060));
res += mul(Get(s2,dx,-dy), float4x4(0.063744418323040,-0.032410733401775,-0.257883131504059,-0.011165062896907,-0.095564231276512,0.068057492375374,0.033819500356913,0.084299296140671,0.058472383767366,-0.039275925606489,0.012421724386513,-0.022272432222962,0.089756265282631,-0.205284625291824,-0.194547668099403,0.013820021413267));
res += mul(Get(s2,dx,0), float4x4(0.030562238767743,-0.113629862666130,-0.193836137652397,-0.293640017509460,-0.027295079082251,-0.068852238357067,-0.043153882026672,-0.092029884457588,-0.035475812852383,-0.058704894036055,-0.041205246001482,0.226846545934677,0.301598548889160,0.167114183306694,0.236699551343918,-0.019578376784921));
res += mul(Get(s2,dx,dy), float4x4(-0.040557216852903,-0.039149433374405,-0.176861733198166,0.002821784932166,0.056909110397100,-0.095123559236526,-0.097748212516308,-0.001526877051219,0.065799094736576,-0.039087165147066,-0.135597139596939,0.144997090101242,-0.127134382724762,0.192212209105492,0.190734520554543,-0.169188499450684));
res += mul(Get(s3,-dx,-dy), float4x4(0.023384174332023,-0.035608120262623,-0.169867753982544,-0.046464323997498,0.020147548988461,0.177619084715843,0.096831247210503,-0.020064145326614,-0.081389233469963,0.082858942449093,0.150191694498062,-0.243389368057251,-0.003225872991607,-0.007063031662256,-0.024777470156550,-0.367381483316422));
res += mul(Get(s3,-dx,0), float4x4(0.095487937331200,-0.200717464089394,-0.167003005743027,-0.245096847414970,-0.049987260252237,0.018602035939693,-0.057915184646845,-0.198718726634979,0.036520540714264,0.080963104963303,0.046006049960852,-0.132659181952477,0.050316784530878,-0.187945559620857,-0.103675521910191,-0.391564279794693));
res += mul(Get(s3,-dx,dy), float4x4(-0.014217070303857,-0.091779015958309,-0.083090767264366,-0.383529186248779,0.042793635278940,-0.019305936992168,-0.020999541506171,0.024743789806962,0.063961297273636,0.060176499187946,0.061693578958511,0.152901187539101,0.035244505852461,-0.058343004435301,0.080803655087948,-0.126063123345375));
res += mul(Get(s3,0,-dy), float4x4(-0.021486772224307,0.144274234771729,-0.044144902378321,0.050516635179520,0.102396987378597,0.152532279491425,0.115903139114380,-0.044006343930960,0.067096188664436,-0.175077140331268,0.041530247777700,-0.078095890581608,0.070756740868092,-0.012392905540764,-0.060803048312664,-0.105783194303513));
res += mul(Get(s3,0,0), float4x4(-0.231977298855782,-0.019659806042910,-0.121924720704556,-0.042969502508640,-0.128185644745827,0.008567322976887,0.030154688283801,-0.058801762759686,0.164344534277916,0.129984125494957,0.140682801604271,0.517215132713318,0.089047990739346,-0.116716019809246,-0.025509251281619,-0.144696578383446));
res += mul(Get(s3,0,dy), float4x4(-0.069318570196629,-0.135765746235847,-0.111654877662659,-0.058747541159391,0.064511947333813,-0.051408819854259,-0.072609394788742,0.045331500470638,-0.008667205460370,0.395539700984955,0.229295298457146,0.153088480234146,0.058248974382877,-0.032052390277386,0.036729007959366,-0.016048209741712));
res += mul(Get(s3,dx,-dy), float4x4(0.045433312654495,-0.023852622136474,0.049611661583185,-0.090044870972633,0.058596428483725,0.067301511764526,0.096122875809669,-0.030795073136687,-0.029655518010259,-0.018410867080092,-0.092157170176506,0.231357917189598,-0.030363759025931,-0.133725166320801,0.055673085153103,-0.116266839206219));
res += mul(Get(s3,dx,0), float4x4(-0.004788454156369,0.235753387212753,0.117936782538891,0.263047516345978,-0.015046728774905,0.111180059611797,0.100374065339565,0.167658507823944,0.150247171521187,-0.085910037159920,0.102413825690746,0.099058657884598,-0.024737402796745,0.011672410182655,-0.032428767532110,-0.164055496454239));
res += mul(Get(s3,dx,dy), float4x4(-0.150322809815407,0.049810811877251,-0.082292765378952,0.280071794986725,0.041035499423742,0.042848974466324,0.039200544357300,0.328578293323517,0.063676714897156,0.062166545540094,0.123592503368855,-0.176343709230423,-0.005477335769683,0.031023664399981,0.169805720448494,-0.009419456124306));
return max(float4(0,0,0,0), res);
}
