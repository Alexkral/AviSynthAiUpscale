sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.187427788972855,-0.072418138384819,0.060491017997265,-0.098562687635422,-0.019848536700010,0.044013585895300,-0.061099316924810,-0.091691918671131,-0.007599000819027,-0.013171903789043,-0.001339803799056,0.016966771334410,-0.029835622757673,0.044589463621378,-0.112708322703838,-0.177387356758118));
res += mul(Get(s0,-dx,0), float4x4(0.079281538724899,-0.023523114621639,-0.065043650567532,0.093312807381153,-0.011619780212641,-0.072068445384502,-0.017781486734748,-0.036134447902441,-0.133508026599884,-0.053703848272562,-0.191791713237762,0.199546337127686,0.015730651095510,0.098558299243450,-0.110373817384243,0.018717763945460));
res += mul(Get(s0,-dx,dy), float4x4(0.075196906924248,-0.028593858703971,-0.135290428996086,0.115249946713448,0.038051918148994,-0.079972743988037,-0.152712389826775,0.095893479883671,0.084131546318531,0.065587237477303,-0.045089695602655,-0.126209035515785,0.010944000445306,0.091228343546391,-0.015851175412536,0.282515376806259));
res += mul(Get(s0,0,-dy), float4x4(0.062209844589233,0.046547010540962,-0.101601928472519,0.012302492745221,-0.163304939866066,0.103675112128258,0.188216358423233,0.115471348166466,0.085854649543762,-0.264635175466537,-0.132379829883575,0.088016189634800,-0.041294500231743,-0.007394876331091,0.062752217054367,0.018782338127494));
res += mul(Get(s0,0,0), float4x4(0.135065615177155,0.000459129340015,-0.150573983788490,-0.036443550139666,-0.167647272348404,0.033734638243914,0.195443034172058,0.225501522421837,-0.028395595028996,-0.042254608124495,-0.035091683268547,0.089408814907074,-0.011722665280104,-0.121401920914650,0.066439583897591,0.027848381549120));
res += mul(Get(s0,0,dy), float4x4(-0.054681953042746,-0.001577395130880,-0.002259628148749,0.055620923638344,-0.085048384964466,0.005230084992945,0.116993218660355,0.126170754432678,0.027993008494377,0.216267138719559,-0.148506671190262,0.073099367320538,-0.029393440112472,0.073393292725086,-0.059624869376421,0.199118986725807));
res += mul(Get(s0,dx,-dy), float4x4(-0.037265710532665,0.049605317413807,-0.192711263895035,0.014730582945049,-0.167308315634727,-0.020660737529397,-0.115531399846077,0.010818232782185,-0.196927636861801,0.107439376413822,0.089190810918808,0.185666307806969,0.058371912688017,-0.040087740868330,-0.048532485961914,0.112698048353195));
res += mul(Get(s0,dx,0), float4x4(-0.032432030886412,0.073828332126141,0.203873887658119,-0.121312193572521,0.010324560105801,0.049109607934952,-0.090694777667522,0.068379215896130,-0.153869152069092,0.030305601656437,-0.002539488021284,0.146728068590164,-0.127125069499016,-0.037879627197981,0.016240408644080,0.017135879024863));
res += mul(Get(s0,dx,dy), float4x4(-0.106118418276310,-0.146084383130074,-0.027329342439771,-0.088677033782005,-0.171170920133591,0.020191187039018,-0.019579418003559,0.132791996002197,-0.036408156156540,-0.035518214106560,0.051505241543055,0.033235657960176,0.051046296954155,0.087783485651016,-0.018629645928741,0.093133136630058));
res += mul(Get(s1,-dx,-dy), float4x4(-0.115868344902992,-0.029383650049567,-0.039461597800255,0.068313360214233,0.095776446163654,-0.026361126452684,0.035693779587746,-0.068203441798687,-0.058707419782877,0.113259501755238,-0.109144069254398,0.096227578818798,0.099504977464676,0.076511971652508,0.051785528659821,0.011092475615442));
res += mul(Get(s1,-dx,0), float4x4(-0.030581576749682,-0.050878018140793,0.056113686412573,-0.069846235215664,-0.060064692050219,-0.025478938594460,0.103017881512642,0.002627452602610,0.182487532496452,-0.033552188426256,0.068805232644081,-0.114033989608288,0.056404281407595,-0.004931516014040,0.063095852732658,-0.015147899277508));
res += mul(Get(s1,-dx,dy), float4x4(-0.000832212448586,0.094936937093735,-0.089346297085285,-0.135282412171364,-0.036830343306065,0.052101109176874,0.121685713529587,0.137016251683235,-0.071483537554741,0.062318250536919,0.071207471191883,0.124192923307419,0.127976670861244,0.247796058654785,0.022700903937221,-0.009152719751000));
res += mul(Get(s1,0,-dy), float4x4(0.023731570690870,0.195669561624527,0.010643308050931,-0.040655821561813,0.185665622353554,0.014202053658664,0.069170318543911,-0.085630007088184,0.046407151967287,0.181802377104759,0.127411887049675,-0.019127024337649,0.007245273794979,0.098702728748322,0.051777265965939,-0.052717469632626));
res += mul(Get(s1,0,0), float4x4(0.091683544218540,0.110578633844852,0.045862767845392,0.063723430037498,0.061574604362249,0.074385382235050,-0.034121897071600,0.142817243933678,-0.107778988778591,0.234048396348953,0.043785989284515,0.082356452941895,-0.073884651064873,0.076183974742889,0.064406722784042,-0.171475052833557));
res += mul(Get(s1,0,dy), float4x4(0.085136398673058,0.156843170523643,0.050834540277719,-0.236346095800400,0.137837231159210,0.101732365787029,-0.023202946409583,0.127166107296944,0.111489750444889,0.057082861661911,-0.006254756823182,-0.021518064662814,0.099689595401287,0.148346483707428,-0.140408366918564,0.083133079111576));
res += mul(Get(s1,dx,-dy), float4x4(-0.018998986110091,0.116571731865406,0.052276212722063,0.169186964631081,0.041344683617353,0.010959329083562,0.123208113014698,0.106815867125988,0.069211922585964,-0.041112873703241,-0.053857311606407,-0.215502351522446,-0.026873869821429,-0.030500104650855,-0.117817193269730,0.174670755863190));
res += mul(Get(s1,dx,0), float4x4(-0.121365614235401,0.035511095076799,0.031942069530487,-0.073240056633949,-0.035129789263010,-0.049486577510834,-0.078151598572731,0.006932899821550,-0.069597348570824,-0.064403079450130,-0.032266214489937,0.021816814318299,0.005510023795068,-0.011834541335702,-0.135011315345764,-0.020653907209635));
res += mul(Get(s1,dx,dy), float4x4(-0.059605345129967,-0.065298900008202,-0.058098390698433,-0.149704262614250,-0.115522734820843,0.012097310274839,0.297954767942429,0.104181386530399,0.159688666462898,0.006240664515644,-0.037147201597691,0.134215846657753,0.052497208118439,0.021874552592635,0.207455903291702,0.041575696319342));
res += mul(Get(s2,-dx,-dy), float4x4(0.126059159636497,0.134555846452713,-0.064846754074097,-0.165687337517738,0.076034218072891,0.104066073894501,0.070868283510208,-0.133107334375381,0.162403807044029,-0.161268144845963,0.054556541144848,-0.035002719610929,0.024158852174878,0.091067604720592,0.115775942802429,0.109075635671616));
res += mul(Get(s2,-dx,0), float4x4(0.245146960020065,-0.071379221975803,-0.140206098556519,0.278457701206207,-0.070372074842453,0.099835582077503,-0.101994343101978,-0.129503160715103,0.024935502558947,0.003088038880378,-0.118431448936462,0.055487200617790,0.008586451411247,0.025980129837990,0.059581391513348,-0.098014287650585));
res += mul(Get(s2,-dx,dy), float4x4(-0.021160012111068,0.007170732133090,-0.174217790365219,0.064385376870632,0.144920840859413,0.054203044623137,0.072273619472980,0.015603551641107,0.100701965391636,-0.129788786172867,-0.056952945888042,-0.135240048170090,0.060447655618191,-0.178648814558983,0.027656253427267,-0.092992126941681));
res += mul(Get(s2,0,-dy), float4x4(-0.022856416180730,0.074843712151051,-0.198349803686142,-0.134544968605042,0.084270805120468,0.083241976797581,0.033608969300985,0.076821684837341,0.101715795695782,0.183894366025925,0.006473912391812,0.103772178292274,0.173290476202965,0.039246998727322,-0.049810860306025,-0.048272423446178));
res += mul(Get(s2,0,0), float4x4(-0.044325660914183,-0.044316925108433,-0.099806517362595,0.134357228875160,0.035799562931061,0.243232458829880,0.056814212352037,0.028304582461715,0.061239801347256,-0.071676805615425,-0.055191077291965,0.100161954760551,-0.053763393312693,-0.049259699881077,0.012800217606127,-0.004988837055862));
res += mul(Get(s2,0,dy), float4x4(-0.247723728418350,-0.004689935594797,-0.072011716663837,0.027008295059204,0.063651658594608,-0.017957536503673,-0.072986707091331,0.111048854887486,-0.008771487511694,0.070110492408276,-0.106319680809975,-0.089001983404160,0.061442539095879,-0.152085974812508,-0.080238260328770,-0.098150186240673));
res += mul(Get(s2,dx,-dy), float4x4(0.107085235416889,-0.183797001838684,-0.055366132408381,-0.097412422299385,0.062080562114716,0.096736684441566,-0.039332199841738,-0.032893013209105,-0.072959095239639,0.080650649964809,0.064290851354599,0.018881561234593,-0.177942007780075,-0.101080134510994,-0.044226612895727,-0.040943998843431));
res += mul(Get(s2,dx,0), float4x4(-0.046143177896738,-0.022360522300005,-0.028491662815213,-0.019825974479318,0.113464191555977,-0.043443296104670,0.033828262239695,0.052781555801630,-0.020627224817872,-0.002882204484195,-0.107149235904217,0.095285296440125,0.001692566787824,-0.043572425842285,-0.058536197990179,-0.037226811051369));
res += mul(Get(s2,dx,dy), float4x4(-0.090087093412876,0.029654294252396,0.071361362934113,0.008675048127770,-0.189429819583893,0.095192015171051,-0.036059893667698,0.184696272015572,-0.035480123013258,-0.058740586042404,-0.004996258299798,-0.004298574291170,-0.064170092344284,-0.094192005693913,-0.083929255604744,0.161395937204361));
res += mul(Get(s3,-dx,-dy), float4x4(-0.007864078506827,-0.099131792783737,-0.003689907258376,0.142396122217178,0.147801578044891,-0.000042823117838,0.130226582288742,-0.045572962611914,-0.047850541770458,-0.139554634690285,-0.168143436312675,-0.008510959334671,-0.121643543243408,-0.081808783113956,0.075919672846794,0.012528310529888));
res += mul(Get(s3,-dx,0), float4x4(0.225869119167328,0.040106326341629,-0.036521386355162,0.121437907218933,0.026873972266912,-0.006804099772125,-0.247490271925926,0.043142840266228,-0.034932203590870,-0.054757371544838,0.007888694293797,-0.028622820973396,0.066468961536884,-0.115446373820305,0.014137292280793,-0.071415193378925));
res += mul(Get(s3,-dx,dy), float4x4(-0.142112299799919,-0.080283723771572,-0.078463755548000,0.142525672912598,0.031810238957405,0.180313840508461,0.027829734608531,-0.086597144603729,0.177126526832581,-0.080296240746975,0.051885031163692,-0.208985418081284,0.175719588994980,-0.088837325572968,-0.152549967169762,-0.205540433526039));
res += mul(Get(s3,0,-dy), float4x4(0.182666167616844,-0.070089213550091,0.066678509116173,-0.161287456750870,0.073241107165813,0.112444311380386,0.041592601686716,0.159151628613472,-0.036456219851971,-0.027806770056486,0.066116452217102,0.118438109755516,0.107505105435848,0.028946949169040,0.055003911256790,-0.065358780324459));
res += mul(Get(s3,0,0), float4x4(0.068186841905117,-0.051491964608431,-0.191582500934601,-0.137880280613899,-0.113559544086456,0.093618266284466,0.026021910831332,-0.036605920642614,-0.066368989646435,0.043187327682972,-0.043438900262117,-0.116579391062260,0.082196556031704,-0.024794325232506,-0.245273053646088,0.146538421511650));
res += mul(Get(s3,0,dy), float4x4(-0.077411308884621,-0.001421412103809,-0.022757273167372,0.128713145852089,0.084315173327923,-0.090988516807556,-0.154825165867805,0.061019830405712,0.069952175021172,-0.177886635065079,-0.161470398306847,-0.032140590250492,0.171717301011086,0.073283948004246,0.006437078583986,0.113175928592682));
res += mul(Get(s3,dx,-dy), float4x4(0.059662315994501,-0.028482079505920,-0.072311066091061,0.149181559681892,0.024632370099425,-0.030939521268010,-0.049155566841364,0.141798108816147,-0.060869753360748,-0.001353602972813,0.065445914864540,0.143634691834450,-0.189693644642830,-0.048365980386734,-0.196800440549850,0.156642809510231));
res += mul(Get(s3,dx,0), float4x4(0.029061553999782,0.026437483727932,-0.141204342246056,0.054994530975819,0.036939591169357,0.033259943127632,-0.183266207575798,-0.166872084140778,0.034860961139202,0.018778927624226,0.030574476346374,0.014385474845767,-0.120939284563065,0.037828560918570,-0.033607136458158,0.005282906349748));
res += mul(Get(s3,dx,dy), float4x4(0.202515214681625,0.035772845149040,-0.093031324446201,0.044434282928705,-0.215477824211121,-0.135980471968651,0.209759309887886,0.120471484959126,-0.024346001446247,-0.185309365391731,0.068955868482590,-0.250367015600204,0.070613130927086,-0.017395155504346,-0.102880507707596,0.110138133168221));
return max(float4(0,0,0,0), res);
}
