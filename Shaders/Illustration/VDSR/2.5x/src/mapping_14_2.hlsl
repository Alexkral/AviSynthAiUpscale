sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.109961256384850,0.037231169641018,0.130765140056610,0.088125936686993,0.050229504704475,0.002067016903311,0.029980007559061,-0.044833660125732,0.020391428843141,-0.025702055543661,-0.132577359676361,-0.004202181939036,0.012152045965195,0.021391650661826,0.128212168812752,0.098200894892216));
res += mul(Get(s0,-dx,0), float4x4(0.151835680007935,0.127958655357361,0.103796496987343,0.131977334618568,0.096219718456268,-0.044802390038967,0.043374549597502,0.069859616458416,0.019654778763652,-0.005027118604630,0.027213916182518,0.049222130328417,-0.021840021014214,0.037825506180525,0.027880027890205,0.006828553508967));
res += mul(Get(s0,-dx,dy), float4x4(-0.004054014571011,-0.031136760488153,0.075467817485332,0.017991207540035,0.166555702686310,0.116861529648304,0.142893314361572,0.028941143304110,-0.018771141767502,0.045338649302721,0.013162768445909,-0.060859549790621,0.158451274037361,-0.046957921236753,-0.000111540546641,0.008520335890353));
res += mul(Get(s0,0,-dy), float4x4(0.009190977551043,-0.048479363322258,-0.026240583509207,0.114186905324459,0.052080415189266,0.089272134006023,-0.025261916220188,0.126809015870094,0.055663503706455,-0.017031997442245,-0.010755226947367,-0.022232582792640,0.058362182229757,-0.030882595106959,0.019396988674998,-0.039402175694704));
res += mul(Get(s0,0,0), float4x4(0.119434304535389,0.030790764838457,0.001171692274511,0.093297347426414,-0.073767878115177,-0.017082806676626,-0.074788942933083,-0.036042153835297,0.184466317296028,0.036485500633717,0.185455068945885,0.111983329057693,-0.114451289176941,-0.072500452399254,-0.092703923583031,-0.050026126205921));
res += mul(Get(s0,0,dy), float4x4(0.092388458549976,0.081477224826813,-0.076383627951145,-0.015220835804939,-0.067435204982758,-0.110033899545670,0.137660637497902,0.004032838623971,0.176221251487732,0.179665386676788,0.029235813766718,-0.129183590412140,0.012823491357267,-0.013193315826356,0.206130281090736,-0.024203879758716));
res += mul(Get(s0,dx,-dy), float4x4(-0.082241483032703,-0.034124735742807,0.065715812146664,0.072448983788490,-0.023534113541245,0.021625567227602,0.070608831942081,0.046724483370781,0.078136593103409,-0.068527415394783,-0.107530958950520,-0.005904311779886,-0.162431135773659,0.060454171150923,-0.033150769770145,-0.053827304393053));
res += mul(Get(s0,dx,0), float4x4(0.067263409495354,-0.016769943758845,0.082202151417732,0.188177540898323,-0.038825478404760,0.022245701402426,-0.028420509770513,-0.092486433684826,0.071569301187992,-0.094496257603168,-0.034644547849894,0.119937501847744,-0.066286608576775,0.106841579079628,0.104261897504330,-0.104476094245911));
res += mul(Get(s0,dx,dy), float4x4(0.044016286730766,0.059738837182522,-0.018307581543922,0.008312682621181,-0.066310010850430,-0.019406467676163,-0.079842656850815,0.018718572333455,0.182378441095352,0.050046365708113,-0.001776530873030,0.014493678696454,0.084405370056629,-0.036182891577482,-0.082614012062550,0.044491510838270));
res += mul(Get(s1,-dx,-dy), float4x4(0.139842927455902,0.007825811393559,0.132000401616096,0.056485824286938,0.063959583640099,-0.163172170519829,-0.067181952297688,0.026585575193167,0.008397167548537,-0.058243148028851,-0.043550517410040,0.082460477948189,0.001357329310849,-0.075691834092140,0.114691831171513,-0.070332191884518));
res += mul(Get(s1,-dx,0), float4x4(-0.039993274956942,0.141844943165779,0.032282195985317,0.014700593426824,-0.061013694852591,-0.089151903986931,0.068194501101971,0.032269701361656,-0.024712394922972,-0.119825594127178,-0.101424418389797,-0.103771016001701,0.166867911815643,0.149258092045784,0.110142484307289,0.137496739625931));
res += mul(Get(s1,-dx,dy), float4x4(0.012913924641907,0.048282943665981,-0.015386167913675,0.112330295145512,-0.058877371251583,-0.020378671586514,0.025390090420842,-0.081398352980614,0.028053537011147,-0.047922704368830,-0.019814232364297,-0.002209142083302,-0.090360991656780,0.116812609136105,0.064113497734070,-0.166383519768715));
res += mul(Get(s1,0,-dy), float4x4(0.205854192376137,0.084854327142239,0.014376664534211,0.231859013438225,0.087901413440704,-0.066365092992783,-0.023339930921793,0.008367014117539,-0.189006969332695,-0.098018549382687,0.023089587688446,0.076780252158642,0.064981922507286,-0.170889899134636,0.136118188500404,-0.036740306764841));
res += mul(Get(s1,0,0), float4x4(-0.104084894061089,0.141124114394188,-0.108482025563717,0.079396478831768,0.110324382781982,0.007488301489502,-0.031561631709337,0.142741754651070,-0.211656644940376,-0.086696378886700,-0.150752767920494,-0.240145027637482,0.296356290578842,0.097761049866676,0.160561546683311,0.387639939785004));
res += mul(Get(s1,0,dy), float4x4(-0.125611454248428,-0.245455548167229,0.002844930160791,0.099664792418480,-0.007434986066073,0.011803384870291,-0.000978362164460,-0.007081385236233,0.150527924299240,-0.010358633473516,-0.073321074247360,-0.055014774203300,-0.114645279943943,0.154092416167259,-0.094837099313736,-0.175992459058762));
res += mul(Get(s1,dx,-dy), float4x4(0.277274221181870,0.098958387970924,0.129538238048553,0.215004622936249,0.073010161519051,-0.094376124441624,-0.099420420825481,0.048574190586805,-0.121137656271458,0.006707710679621,-0.023955356329679,0.096532545983791,-0.169565215706825,-0.140079662203789,0.000880318228155,-0.015235837548971));
res += mul(Get(s1,dx,0), float4x4(0.146327108144760,0.231787353754044,-0.183243885636330,0.064696080982685,0.073232740163803,-0.026066834107041,0.030266568064690,0.198446273803711,-0.113576613366604,-0.000353726034518,-0.182776510715485,-0.091063782572746,-0.099140606820583,-0.125400468707085,0.098118692636490,0.167275756597519));
res += mul(Get(s1,dx,dy), float4x4(-0.086977049708366,-0.011419088579714,-0.047624427825212,0.075886555016041,-0.031731665134430,-0.043295837938786,-0.001926606171764,-0.026697067543864,-0.023392040282488,0.111131355166435,-0.077662192285061,0.086269177496433,-0.150932759046555,-0.044690668582916,0.135786056518555,-0.053764604032040));
res += mul(Get(s2,-dx,-dy), float4x4(-0.133592128753662,0.107896417379379,0.044575475156307,-0.032387021929026,0.061089575290680,0.069377675652504,0.004347211215645,0.008678827434778,-0.017938351258636,0.059873495250940,0.051171865314245,0.033888358622789,-0.011916307732463,0.109610587358475,-0.057785082608461,0.013366735540330));
res += mul(Get(s2,-dx,0), float4x4(-0.050284530967474,-0.317411929368973,-0.000973615504336,-0.033512543886900,0.083677485585213,0.073021568357944,0.066223420202732,0.017196249216795,0.035889629274607,0.017529036849737,-0.038103189319372,0.052342202514410,0.091640681028366,-0.173941463232040,-0.127051189541817,-0.021188147366047));
res += mul(Get(s2,-dx,dy), float4x4(-0.052227534353733,0.002108380431309,0.038345724344254,-0.077717192471027,0.024914022535086,0.069910421967506,0.071245409548283,-0.004196956288069,0.019727611914277,0.155354857444763,-0.025816768407822,-0.212617322802544,0.036377884447575,-0.119273386895657,0.023177213966846,0.210305988788605));
res += mul(Get(s2,0,-dy), float4x4(0.037907779216766,0.121307574212551,-0.127707660198212,-0.189882531762123,0.259937137365341,-0.021809725090861,0.088055141270161,0.098464645445347,0.008081467822194,0.053538512438536,0.208456456661224,-0.033712804317474,-0.122964009642601,0.041529152542353,-0.077227279543877,-0.070900283753872));
res += mul(Get(s2,0,0), float4x4(0.130357116460800,0.148328691720963,0.008987034671009,-0.075739935040474,0.070399403572083,0.188239678740501,0.057710766792297,-0.108612254261971,0.177807524800301,0.083190344274044,0.096989780664444,0.138193979859352,0.108569331467152,-0.131972119212151,-0.154118806123734,-0.118393898010254));
res += mul(Get(s2,0,dy), float4x4(0.167542085051537,0.205390900373459,0.064589045941830,0.000874279474374,0.033184781670570,0.097963534295559,0.302649676799774,-0.093104116618633,0.078842841088772,0.221972301602364,0.015786292031407,0.008114365860820,0.324985563755035,-0.136062800884247,0.123757489025593,0.155920624732971));
res += mul(Get(s2,dx,-dy), float4x4(0.063296720385551,0.180783197283745,0.244593575596809,-0.121547102928162,-0.087881952524185,-0.057683758437634,0.088449180126190,0.092151515185833,0.010847606696188,0.114081569015980,0.087619014084339,0.112117856740952,0.040603451430798,0.052581761032343,-0.165635421872139,0.179151818156242));
res += mul(Get(s2,dx,0), float4x4(0.077471718192101,0.180026739835739,0.114928640425205,-0.092010959982872,0.029983442276716,0.091063648462296,0.065836831927299,0.103523217141628,0.040074206888676,-0.040170855820179,-0.002053013304248,0.163573786616325,-0.051847822964191,0.103019021451473,-0.126906886696815,-0.143634721636772));
res += mul(Get(s2,dx,dy), float4x4(-0.038946308195591,0.152994453907013,0.002412270288914,-0.021585853770375,-0.030510794371367,0.027666177600622,0.002893281402066,-0.054117046296597,0.102365322411060,0.101058095693588,0.085638940334320,-0.018909893929958,0.185337573289871,0.037829015403986,0.091535195708275,0.316315859556198));
res += mul(Get(s3,-dx,-dy), float4x4(0.026185935363173,0.125987142324448,-0.033762820065022,-0.109938196837902,0.122387729585171,-0.031442571431398,-0.153562083840370,-0.088668696582317,0.159980580210686,0.082791417837143,0.048624392598867,0.144149452447891,0.013023447245359,-0.006055164616555,0.038310427218676,0.032250262796879));
res += mul(Get(s3,-dx,0), float4x4(0.083185590803623,0.199918091297150,-0.055200271308422,-0.156847327947617,0.320015758275986,0.145356997847557,0.012963789515197,0.201193839311600,0.023407079279423,0.146945565938950,-0.104789361357689,0.012004687450826,0.028938114643097,-0.106035605072975,0.040556352585554,0.009722502902150));
res += mul(Get(s3,-dx,dy), float4x4(0.019613236188889,0.179879024624825,0.004850468132645,-0.089047484099865,0.162334054708481,0.276206195354462,-0.165769293904305,-0.039839252829552,-0.030125873163342,-0.016648223623633,-0.085536375641823,-0.041369479149580,0.087982974946499,-0.094689346849918,-0.117306672036648,0.044171333312988));
res += mul(Get(s3,0,-dy), float4x4(-0.052588216960430,-0.101168923079967,0.112670153379440,-0.093818403780460,-0.099367529153824,-0.062414273619652,-0.095444686710835,-0.117525786161423,0.035213079303503,-0.028551716357470,-0.011770787648857,0.246166557073593,0.123325467109680,0.030630756169558,0.073800936341286,0.036733876913786));
res += mul(Get(s3,0,0), float4x4(-0.018567759543657,-0.085913226008415,-0.014494940638542,-0.067259982228279,0.018999146297574,-0.200190722942352,0.165106549859047,0.261385530233383,-0.125004619359970,-0.013360876590014,-0.158221289515495,-0.047866445034742,0.082214765250683,-0.036647073924541,-0.182805985212326,0.003926476929337));
res += mul(Get(s3,0,dy), float4x4(0.149142622947693,0.057847276329994,-0.054025907069445,-0.096879333257675,0.016453757882118,0.170379653573036,-0.097421169281006,0.021070400252938,0.022523421794176,0.047203227877617,0.151810616254807,-0.109243586659431,0.058227386325598,-0.048856418579817,-0.270288974046707,0.023043617606163));
res += mul(Get(s3,dx,-dy), float4x4(-0.170640066266060,0.026644064113498,-0.043823398649693,-0.119305469095707,0.003476493991911,-0.081461101770401,-0.124936968088150,-0.153618469834328,-0.001818834221922,-0.042076554149389,0.006793756037951,0.134582713246346,0.086137570440769,0.083240598440170,0.005432394333184,0.040076903998852));
res += mul(Get(s3,dx,0), float4x4(-0.157695025205612,-0.152217715978622,-0.078347206115723,-0.092776045203209,0.008461678400636,-0.001980862347409,-0.017248576506972,0.207882210612297,-0.065597616136074,0.049686033278704,-0.044069331139326,-0.079535953700542,0.057302042841911,0.085705980658531,-0.089143693447113,-0.001664166920818));
res += mul(Get(s3,dx,dy), float4x4(0.038181401789188,-0.024604944512248,-0.024322828277946,-0.042816326022148,-0.044215649366379,0.026859059929848,0.017639920115471,-0.039925049990416,0.001799784367904,0.118461668491364,0.042551990598440,-0.078882254660130,0.071723639965057,0.052634790539742,-0.110946454107761,-0.063564568758011));
return max(float4(0,0,0,0), res);
}
