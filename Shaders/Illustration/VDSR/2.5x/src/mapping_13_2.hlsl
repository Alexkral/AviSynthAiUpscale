sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.021140342578292,0.042926535010338,0.153688043355942,0.185114592313766,0.100906185805798,-0.050077736377716,-0.064885959029198,-0.025637820363045,0.146106407046318,0.051305599510670,0.182665273547173,-0.077225901186466,-0.093464851379395,0.078935518860817,-0.023922696709633,0.005600449629128));
res += mul(Get(s0,-dx,0), float4x4(-0.172485768795013,-0.086829051375389,-0.182366207242012,-0.034735016524792,-0.004093924537301,-0.038907945156097,-0.056452304124832,-0.142928853631020,-0.046264875680208,-0.183282479643822,0.147370040416718,0.024136092513800,-0.046002447605133,-0.033103581517935,-0.159844070672989,-0.014668554998934));
res += mul(Get(s0,-dx,dy), float4x4(-0.084537453949451,-0.065118841826916,0.093533530831337,0.071605153381824,-0.015713080763817,0.181786924600601,0.210189759731293,0.087384119629860,0.213562205433846,-0.152716934680939,-0.065236136317253,-0.042263187468052,0.228852182626724,-0.098550103604794,-0.176483750343323,0.077141426503658));
res += mul(Get(s0,0,-dy), float4x4(-0.181837543845177,0.110031925141811,0.081482551991940,0.200446471571922,0.009808154776692,0.131437048316002,0.120069220662117,0.076169103384018,-0.063186824321747,-0.003825460094959,-0.055577877908945,-0.024644564837217,-0.080981530249119,-0.078022979199886,-0.097102425992489,-0.028204889968038));
res += mul(Get(s0,0,0), float4x4(-0.022164283320308,0.008678668178618,0.195048838853836,0.011219411157072,0.098956301808357,0.046249579638243,-0.132874861359596,-0.063085317611694,-0.197028622031212,0.105912007391453,0.060155235230923,-0.024780614301562,0.287161290645599,-0.128616869449615,0.031586706638336,-0.100644245743752));
res += mul(Get(s0,0,dy), float4x4(-0.086398176848888,-0.060479123145342,0.089842237532139,0.057732440531254,0.014161217026412,-0.157290548086166,-0.065763056278229,-0.126890271902084,0.042107157409191,-0.047233972698450,-0.227318510413170,-0.074386723339558,0.257102489471436,-0.132312133908272,0.170698195695877,0.111565828323364));
res += mul(Get(s0,dx,-dy), float4x4(0.106530867516994,-0.080936022102833,0.134857475757599,0.002853827318177,-0.022449687123299,0.116704508662224,0.085823990404606,-0.134503722190857,-0.060619719326496,0.004412063863128,0.143651112914085,-0.036860462278128,0.053496088832617,-0.039907757192850,0.184150397777557,-0.118484534323215));
res += mul(Get(s0,dx,0), float4x4(-0.182935088872910,0.026032304391265,-0.225101277232170,0.042071685194969,-0.067438669502735,-0.210683673620224,-0.128738313913345,-0.140636190772057,0.166751354932785,0.039100427180529,0.109633743762970,0.126303419470787,-0.178306236863136,0.006435533054173,0.057082165032625,0.070913732051849));
res += mul(Get(s0,dx,dy), float4x4(0.049687020480633,0.104551158845425,-0.015558630228043,-0.124080725014210,-0.076905563473701,0.105724260210991,0.083359785377979,-0.018051842227578,0.229098320007324,0.139238446950912,-0.142608001828194,-0.243069007992744,-0.127700731158257,-0.072408400475979,0.134435117244720,0.044871713966131));
res += mul(Get(s1,-dx,-dy), float4x4(0.024709105491638,-0.003081399947405,0.152134612202644,0.095596663653851,-0.060825299471617,-0.130326628684998,-0.121066503226757,0.071501530706882,0.191153571009636,-0.020674094557762,-0.049348384141922,0.006892705801874,0.147693321108818,0.122438617050648,0.037119150161743,-0.267309635877609));
res += mul(Get(s1,-dx,0), float4x4(0.338375598192215,-0.072754867374897,0.072248570621014,-0.081942088901997,-0.039966914802790,-0.161745131015778,0.130778253078461,0.034180529415607,0.002439741976559,0.080975182354450,-0.097149722278118,-0.098292797803879,-0.189513564109802,-0.140348985791206,0.052245881408453,0.008960935287178));
res += mul(Get(s1,-dx,dy), float4x4(0.229869902133942,0.222167491912842,-0.000861102773342,-0.196395859122276,-0.028782121837139,0.005573379807174,0.155170500278473,0.013419301249087,-0.002225411124527,-0.098256021738052,-0.065388090908527,0.012162882834673,-0.171921044588089,-0.170919835567474,0.077317260205746,0.044869292527437));
res += mul(Get(s1,0,-dy), float4x4(-0.135553866624832,-0.045735873281956,0.052052929997444,-0.036343526095152,0.077151201665401,-0.090184316039085,0.034832965582609,0.054632555693388,0.038633313030005,-0.102249518036842,-0.071984134614468,-0.089755736291409,-0.003007074585184,-0.096388757228851,0.066827118396759,-0.050117321312428));
res += mul(Get(s1,0,0), float4x4(0.187707662582397,0.049323841929436,-0.164603412151337,0.241644799709320,0.079006873071194,0.059750709682703,-0.033014521002769,0.005763063207269,-0.208807095885277,-0.127539470791817,0.062210042029619,0.020055158063769,-0.198520466685295,0.044908080250025,-0.090666405856609,0.155826076865196));
res += mul(Get(s1,0,dy), float4x4(-0.023680195212364,-0.050345383584499,-0.204406201839447,-0.037431873381138,0.124876677989960,0.064276576042175,-0.035304024815559,0.032129045575857,0.040749631822109,0.091259047389030,-0.097361564636230,0.154944196343422,0.037369918078184,0.006316085811704,0.139711558818817,-0.012829458341002));
res += mul(Get(s1,dx,-dy), float4x4(-0.005226834211498,-0.037688799202442,-0.092881999909878,-0.108691334724426,-0.030662596225739,0.006711447145790,-0.188026934862137,-0.052261166274548,0.122825749218464,0.097622469067574,-0.043282598257065,-0.188689351081848,0.043087217956781,-0.020419700071216,0.078929923474789,0.053695347160101));
res += mul(Get(s1,dx,0), float4x4(-0.068356260657310,-0.216703161597252,0.183253958821297,-0.038349989801645,-0.008928121998906,-0.004066710360348,0.026654535904527,0.049343254417181,0.173433989286423,-0.193876907229424,0.071016035974026,0.143084928393364,0.041903901845217,0.084485121071339,-0.040987167507410,0.013460726477206));
res += mul(Get(s1,dx,dy), float4x4(-0.053420152515173,0.003800872713327,-0.019139850512147,0.152875736355782,-0.002285250462592,-0.180799975991249,-0.041020955890417,-0.137589126825333,-0.068650931119919,0.092635564506054,-0.006681368686259,-0.018455911427736,-0.012665974907577,0.132980749011040,0.009624074213207,-0.068746387958527));
res += mul(Get(s2,-dx,-dy), float4x4(0.170718133449554,0.099434189498425,0.067471228539944,0.109614104032516,0.147234454751015,-0.006774668116122,-0.029956879094243,-0.129563063383102,-0.038947064429522,0.012321814894676,0.081265814602375,0.005513361189514,0.005644747987390,0.218034103512764,-0.079312026500702,-0.037537548691034));
res += mul(Get(s2,-dx,0), float4x4(0.106996260583401,-0.177358686923981,-0.021191658452153,-0.168813645839691,-0.085851192474365,-0.050146546214819,-0.162846595048904,-0.109655968844891,0.000996616203338,-0.050481747835875,0.058375995606184,-0.158274680376053,0.081851370632648,0.020395714789629,0.178090184926987,-0.019592551514506));
res += mul(Get(s2,-dx,dy), float4x4(0.093583174049854,-0.063447356224060,-0.101902365684509,-0.000204407057026,0.040744133293629,-0.313245981931686,-0.272549599409103,-0.024820702150464,0.010112847201526,-0.037659034132957,-0.098109431564808,0.083733648061752,-0.067366905510426,0.130336031317711,0.043181847780943,0.090952090919018));
res += mul(Get(s2,0,-dy), float4x4(0.124077893793583,-0.344869732856750,0.058634683489799,-0.003121859394014,-0.126198902726173,-0.074640035629272,-0.212236151099205,0.019815148785710,-0.012482562102377,0.108559474349022,0.222789153456688,0.094375818967819,0.163355931639671,-0.003801488783211,0.057129729539156,-0.035391233861446));
res += mul(Get(s2,0,0), float4x4(0.081218339502811,-0.046560090035200,0.006364740896970,0.007185323629528,-0.054707705974579,-0.104209646582603,-0.024395165964961,0.055918913334608,-0.095870517194271,-0.028676923364401,0.003044595941901,-0.053985476493835,-0.183112740516663,0.049264956265688,-0.015523730777204,0.019695486873388));
res += mul(Get(s2,0,dy), float4x4(0.021342469379306,-0.005716553423554,0.056436549872160,-0.067814916372299,-0.034580603241920,-0.047673210501671,-0.163629665970802,-0.160911023616791,0.059222295880318,-0.008186016231775,0.075256660580635,0.050629429519176,-0.141762495040894,0.059617210179567,-0.017476551234722,-0.008354797959328));
res += mul(Get(s2,dx,-dy), float4x4(-0.050484854727983,0.120420560240746,-0.045974466949701,0.080063961446285,0.095653980970383,0.227747604250908,0.241665512323380,-0.029918069019914,-0.032099921256304,-0.129914686083794,-0.024001279845834,0.095788910984993,0.077074527740479,-0.104765318334103,0.048990599811077,0.014905891381204));
res += mul(Get(s2,dx,0), float4x4(-0.158775404095650,-0.024538284167647,-0.057528223842382,-0.065788529813290,0.184440955519676,0.188135966658592,-0.186167731881142,-0.072199635207653,-0.163406252861023,-0.050540450960398,0.043032266199589,0.111389562487602,-0.144848048686981,-0.026184074580669,-0.027688495814800,-0.063532151281834));
res += mul(Get(s2,dx,dy), float4x4(0.038554709404707,0.039738204330206,-0.015091137029231,-0.093250140547752,-0.005262611433864,0.067411594092846,-0.207579329609871,-0.067850627005100,-0.139299571514130,-0.159855633974075,-0.001019921153784,0.020383471623063,-0.000526908261236,-0.037532858550549,-0.104367576539516,-0.163134425878525));
res += mul(Get(s3,-dx,-dy), float4x4(0.405887484550476,0.066683731973171,-0.033794932067394,0.056882120668888,-0.062618181109428,-0.104374006390572,-0.034010726958513,0.067294865846634,0.018220461905003,0.133209228515625,0.081475503742695,0.071589052677155,0.004630669951439,0.122119031846523,0.114503666758537,0.019012769684196));
res += mul(Get(s3,-dx,0), float4x4(0.158385053277016,0.150239661335945,-0.048288516700268,0.012894408777356,0.011103844270110,-0.109914436936378,-0.124993219971657,0.043690398335457,-0.118869215250015,0.056031759828329,0.036383457481861,-0.015559999272227,-0.097095631062984,-0.086132407188416,-0.001310668769293,0.068508148193359));
res += mul(Get(s3,-dx,dy), float4x4(0.017808802425861,0.027429223060608,0.159013062715530,-0.042098645120859,-0.093197442591190,-0.139233857393265,0.135834142565727,0.026326991617680,0.027827933430672,0.109902299940586,-0.004612029995769,-0.159648969769478,-0.021599361672997,-0.012064321897924,-0.044578135013580,0.180408775806427));
res += mul(Get(s3,0,-dy), float4x4(0.118294700980186,0.179093196988106,0.140276148915291,0.071136720478535,0.032878123223782,0.045068368315697,0.074951775372028,0.007925043813884,0.056138522922993,0.247379407286644,-0.007428879849613,0.025199292227626,0.030815767124295,0.063690938055515,0.061302199959755,-0.202723860740662));
res += mul(Get(s3,0,0), float4x4(0.071434363722801,0.008293380960822,-0.071758136153221,-0.026899209246039,0.045511484146118,0.109411455690861,-0.075652822852135,0.033314943313599,-0.059838842600584,0.065723545849323,0.091432735323906,0.050650533288717,0.296883076429367,-0.035523813217878,0.063480570912361,0.058735817670822));
res += mul(Get(s3,0,dy), float4x4(0.218520939350128,0.050182867795229,0.086601272225380,-0.260095447301865,0.021921241655946,-0.150620132684708,0.079724438488483,-0.042212810367346,-0.116836979985237,0.084121093153954,0.171706452965736,-0.189303115010262,0.131992995738983,-0.013519278727472,-0.215422466397285,-0.101388886570930));
res += mul(Get(s3,dx,-dy), float4x4(-0.130354538559914,-0.041144262999296,0.085920125246048,-0.028213802725077,-0.075873970985413,-0.036069359630346,-0.032205320894718,0.011585195548832,0.263756632804871,0.112974502146244,0.105155631899834,0.139076218008995,0.196871042251587,-0.054755553603172,0.054849617183208,0.161153912544250));
res += mul(Get(s3,dx,0), float4x4(0.083443813025951,-0.014112881384790,0.032341465353966,0.020383106544614,0.125641584396362,-0.047352764755487,-0.003858007490635,0.046628419309855,0.032949689775705,0.012743477709591,-0.025621078908443,0.067310072481632,0.130792751908302,0.042888604104519,0.062942795455456,-0.082433126866817));
res += mul(Get(s3,dx,dy), float4x4(0.120926693081856,-0.023256232962012,0.084655404090881,0.004746726248413,-0.089476607739925,0.124774865806103,0.108106143772602,-0.070255845785141,-0.051849339157343,-0.066702365875244,0.062432467937469,-0.016435373574495,0.029345652088523,-0.017881337553263,0.035748165100813,0.068842016160488));
return max(float4(0,0,0,0), res);
}
