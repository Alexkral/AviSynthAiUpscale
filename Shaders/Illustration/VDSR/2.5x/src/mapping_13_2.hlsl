sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.241259306669235,-0.147129863500595,-0.085099667310715,0.047659665346146,-0.036220759153366,-0.073870278894901,0.003801155835390,-0.032283015549183,0.002814906183630,-0.076245442032814,0.137300774455070,-0.077141024172306,-0.058543574064970,0.010016864165664,0.078134804964066,-0.003274043789133));
res += mul(Get(s0,-dx,0), float4x4(-0.117761582136154,-0.086351163685322,0.073510728776455,-0.115524686872959,-0.143962681293488,-0.100117914378643,0.041235301643610,-0.021034058183432,-0.171573504805565,-0.038121972233057,0.082695417106152,-0.048550661653280,0.000355954747647,-0.007947879843414,-0.051728971302509,0.199901685118675));
res += mul(Get(s0,-dx,dy), float4x4(0.051239278167486,-0.059001822024584,0.130673646926880,0.154916673898697,0.101089634001255,0.118305489420891,0.041050340980291,-0.003818445140496,0.018958736211061,0.022885465994477,0.089529514312744,0.144400700926781,-0.120442748069763,-0.100472733378410,0.173185870051384,0.023886002600193));
res += mul(Get(s0,0,-dy), float4x4(0.260662883520126,-0.196909233927727,-0.186356171965599,-0.116028018295765,0.041210860013962,-0.071771755814552,-0.199977189302444,-0.031258895993233,0.028988111764193,-0.058221727609634,-0.092020533978939,-0.014470900408924,0.225746333599091,-0.025571713224053,0.108876764774323,-0.108517117798328));
res += mul(Get(s0,0,0), float4x4(-0.234658658504486,0.010375875048339,-0.201780050992966,0.052426859736443,0.070538900792599,-0.050807170569897,-0.168843507766724,0.218624338507652,-0.061538752168417,-0.064585626125336,-0.088330388069153,0.145340353250504,0.190053820610046,-0.026338424533606,0.076660692691803,0.083410315215588));
res += mul(Get(s0,0,dy), float4x4(-0.066452436149120,0.095820903778076,0.212891101837158,0.160318657755852,0.222820520401001,0.097987949848175,-0.029223285615444,-0.183588877320290,0.001153627177700,-0.126598119735718,0.049467138946056,0.063384041190147,0.057492960244417,0.072011969983578,0.168022304773331,-0.033984549343586));
res += mul(Get(s0,dx,-dy), float4x4(0.217042773962021,-0.127087906002998,-0.002279126318172,-0.180131852626801,0.111677356064320,-0.158089920878410,0.068327508866787,-0.088261142373085,0.020147046074271,-0.033994745463133,0.104041330516338,0.064480163156986,0.081894308328629,0.102461338043213,-0.010765497572720,0.039285901933908));
res += mul(Get(s0,dx,0), float4x4(0.165438532829285,0.000514386338182,0.016531836241484,0.034893468022346,0.038195129483938,-0.155704841017723,0.056366585195065,-0.018421119078994,-0.028670361265540,0.002904803957790,-0.006093418691307,-0.002450725063682,0.052459269762039,0.085556410253048,0.091590441763401,0.052205394953489));
res += mul(Get(s0,dx,dy), float4x4(-0.019487533718348,0.029880218207836,0.075409576296806,0.122320659458637,0.085454039275646,-0.028484711423516,0.053128037601709,-0.182985305786133,0.055039033293724,0.017105733975768,-0.036022011190653,-0.132362410426140,0.120812326669693,0.038168381899595,0.145181328058243,0.101818934082985));
res += mul(Get(s1,-dx,-dy), float4x4(-0.053499113768339,0.124678626656532,0.029500840231776,-0.057258199900389,0.101329170167446,0.109548978507519,-0.041183359920979,0.193864479660988,-0.013429407030344,0.007503473665565,-0.050132494419813,0.179609611630440,-0.088575318455696,0.090444721281528,-0.032784894108772,-0.108571544289589));
res += mul(Get(s1,-dx,0), float4x4(0.206654995679855,0.158814489841461,0.075173430144787,-0.130078986287117,-0.073487214744091,0.058332059532404,0.069985963404179,0.149763301014900,0.048734668642282,-0.062488280236721,0.118210099637508,0.052371729165316,0.276557207107544,-0.071132056415081,0.123950704932213,-0.125183731317520));
res += mul(Get(s1,-dx,dy), float4x4(0.075664386153221,-0.056329011917114,0.459616631269455,-0.206653639674187,-0.028038078919053,0.058617692440748,0.027125371620059,0.046026866883039,0.043839950114489,0.026772690936923,0.025506872683764,0.070453658699989,0.059147655963898,0.022639462724328,0.004654855001718,-0.093136556446552));
res += mul(Get(s1,0,-dy), float4x4(-0.103992119431496,-0.008933783508837,-0.147631481289864,-0.113113269209862,0.209966689348221,-0.003571917768568,-0.011090628802776,0.003219581907615,0.289544880390167,-0.149902850389481,0.116239883005619,-0.126048281788826,-0.165187656879425,0.126660525798798,0.063718236982822,0.063222616910934));
res += mul(Get(s1,0,0), float4x4(-0.154428869485855,0.214539632201195,-0.123405419290066,-0.035116747021675,0.022773122414947,-0.024368574842811,0.081789739429951,0.007482540328056,-0.065476670861244,0.045970905572176,-0.136286258697510,-0.050545006990433,-0.029872003942728,0.049368061125278,0.066716887056828,0.032384369522333));
res += mul(Get(s1,0,dy), float4x4(-0.034872703254223,-0.065849393606186,0.189676597714424,-0.245705679059029,-0.004625407513231,-0.050406448543072,-0.007167855277658,-0.252732545137405,-0.027033591642976,0.168990671634674,-0.023937309160829,0.249844521284103,0.035894602537155,0.039516504853964,0.185173869132996,-0.102383844554424));
res += mul(Get(s1,dx,-dy), float4x4(0.095055654644966,-0.002003829460591,-0.081591241061687,-0.295068860054016,0.209950417280197,-0.193191185593605,-0.046594027429819,-0.145715162158012,-0.127185523509979,-0.250157773494720,0.076089829206467,-0.118422627449036,0.144961953163147,0.048336084932089,0.034325409680605,-0.115846469998360));
res += mul(Get(s1,dx,0), float4x4(0.142358154058456,0.232205599546432,0.055197656154633,0.118272073566914,-0.131806761026382,-0.093699939548969,-0.039232876151800,-0.000301457097521,-0.056573882699013,-0.159571751952171,-0.125144526362419,0.014178737998009,0.032971836626530,0.034860212355852,-0.082061998546124,0.085062623023987));
res += mul(Get(s1,dx,dy), float4x4(0.054333750158548,-0.111210286617279,0.022684087976813,-0.040914833545685,-0.050076331943274,-0.100600138306618,-0.072922967374325,-0.148642972111702,0.146249398589134,-0.003955638967454,0.072869651019573,0.387379735708237,0.071137055754662,0.150192394852638,0.027659822255373,0.051126245409250));
res += mul(Get(s2,-dx,-dy), float4x4(0.245657697319984,0.096299640834332,-0.074112944304943,0.016630131751299,-0.097810395061970,0.049768257886171,0.014563697390258,0.095449440181255,0.256918400526047,0.076051309704781,0.051600743085146,0.045508034527302,0.029332440346479,-0.035848561674356,-0.119957283139229,-0.059785962104797));
res += mul(Get(s2,-dx,0), float4x4(0.083140827715397,-0.024801488965750,-0.104181781411171,-0.003299826290458,0.047413028776646,0.172138094902039,-0.017356736585498,0.058662466704845,0.031331226229668,-0.090179495513439,0.221732571721077,-0.020866852253675,-0.028470659628510,-0.101476959884167,0.154163330793381,0.027997130528092));
res += mul(Get(s2,-dx,dy), float4x4(-0.121705293655396,-0.059880889952183,0.158245816826820,-0.110694482922554,0.142163038253784,0.158713087439537,0.080582067370415,-0.080441780388355,-0.093314021825790,0.068025402724743,-0.063398070633411,0.144677251577377,-0.007216467522085,-0.070412956178188,0.151250988245010,-0.180895790457726));
res += mul(Get(s2,0,-dy), float4x4(0.291545063257217,0.093764267861843,0.050217416137457,-0.059059660881758,-0.126531541347504,0.014562529511750,-0.060234136879444,0.006743943784386,0.098232179880142,0.036638323217630,0.082231208682060,-0.034762963652611,0.081127375364304,-0.032785501331091,0.045129846781492,-0.046389520168304));
res += mul(Get(s2,0,0), float4x4(0.059566140174866,-0.060197327286005,0.106134630739689,-0.134205460548401,-0.106567688286304,0.122967645525932,-0.113383792340755,0.215953767299652,-0.072897046804428,0.064286440610886,0.055347856134176,0.130005255341530,-0.014201965183020,-0.144413739442825,0.175346136093140,-0.123392224311829));
res += mul(Get(s2,0,dy), float4x4(-0.237633496522903,-0.016180902719498,0.026750270277262,-0.108888685703278,0.226283967494965,-0.021335577592254,0.053241744637489,-0.143394857645035,-0.078216031193733,0.102518551051617,-0.061629585921764,0.230380237102509,0.063869632780552,-0.178313329815865,0.050958216190338,0.020937100052834));
res += mul(Get(s2,dx,-dy), float4x4(0.003033649874851,0.089005380868912,-0.104524157941341,-0.142120331525803,0.004359873011708,0.031413380056620,-0.092629574239254,0.083458051085472,0.238239228725433,-0.098859548568726,0.068390123546124,-0.080537624657154,-0.092042900621891,-0.078340098261833,0.052740797400475,-0.121110916137695));
res += mul(Get(s2,dx,0), float4x4(0.066334910690784,-0.013363227248192,0.016530157998204,0.000799276109319,0.000334971322445,0.199025243520737,-0.154793605208397,0.054035127162933,0.077774927020073,0.095567151904106,-0.017643155530095,0.480197966098785,0.210901588201523,-0.142246097326279,0.164746746420860,-0.287725538015366));
res += mul(Get(s2,dx,dy), float4x4(0.157770738005638,-0.054072644561529,0.121738016605377,0.093946501612663,0.258673757314682,0.177994325757027,0.012901848182082,-0.278277844190598,0.060372244566679,0.095611549913883,0.085128992795944,-0.098019063472748,0.023238068446517,-0.140924483537674,-0.130271717905998,-0.202477797865868));
res += mul(Get(s3,-dx,-dy), float4x4(-0.012343871407211,-0.058934718370438,0.003220745129511,0.224481359124184,-0.155493199825287,0.050544053316116,0.077547118067741,0.165636926889420,-0.029990782961249,-0.057355422526598,0.043658401817083,-0.015911415219307,0.107514798641205,-0.138190567493439,0.108447715640068,-0.101126663386822));
res += mul(Get(s3,-dx,0), float4x4(-0.046423420310020,-0.006552026141435,-0.051797252148390,0.115871623158455,-0.004974466282874,0.316949963569641,-0.091568730771542,-0.090550459921360,-0.060857538133860,0.117756895720959,0.015326895751059,0.183744952082634,-0.061060134321451,-0.035849243402481,0.158809289336205,-0.004392181523144));
res += mul(Get(s3,-dx,dy), float4x4(0.228102967143059,-0.116324096918106,0.031753316521645,-0.070899620652199,0.256703108549118,0.280679613351822,-0.178743451833725,0.235498696565628,0.058796063065529,0.209276586771011,0.006989931222051,-0.035375922918320,0.174702152609825,0.088072322309017,0.107978723943233,-0.038027077913284));
res += mul(Get(s3,0,-dy), float4x4(0.088957287371159,-0.003120669163764,-0.054809950292110,0.208386123180389,-0.282484084367752,-0.127480253577232,0.005274752154946,0.116784617304802,-0.036633897572756,-0.017733437940478,0.015254970639944,0.107525900006294,-0.095865108072758,-0.023016288876534,0.043952982872725,-0.115890286862850));
res += mul(Get(s3,0,0), float4x4(-0.099284850060940,0.119484633207321,-0.184551581740379,0.582045257091522,-0.180731162428856,0.055248875170946,-0.180351778864861,0.127473756670952,0.019474003463984,0.140094920992851,0.067472249269485,0.126017823815346,-0.232686266303062,0.069364286959171,0.052212636917830,0.303273439407349));
res += mul(Get(s3,0,dy), float4x4(0.223677650094032,0.053673941642046,-0.046377301216125,0.026023887097836,0.192569687962532,-0.061212852597237,-0.100686646997929,0.175167769193649,0.005565001163632,0.045478254556656,0.147585064172745,0.228115588426590,0.017231130972505,0.170125946402550,-0.002465658588335,0.057244129478931));
res += mul(Get(s3,dx,-dy), float4x4(0.191831126809120,0.003660934744403,0.019423509016633,0.016824193298817,0.054049476981163,-0.263521254062653,-0.041037462651730,0.142563223838806,0.187734127044678,-0.101597167551517,0.065948478877544,0.087838232517242,0.206498861312866,0.096921667456627,-0.142285659909248,0.256928533315659));
res += mul(Get(s3,dx,0), float4x4(0.046615671366453,0.034642629325390,-0.053989816457033,0.099473662674427,0.168765932321548,0.049839109182358,-0.114898316562176,0.205141589045525,0.097226731479168,0.129929199814796,0.140222325921059,0.046159520745277,0.187570214271545,-0.085747390985489,-0.074120819568634,0.167000934481621));
res += mul(Get(s3,dx,dy), float4x4(0.025723498314619,0.033729985356331,-0.104971460998058,0.034128632396460,0.105233229696751,-0.091418072581291,-0.020111951977015,-0.010049521923065,0.192371100187302,0.029904073104262,0.055851269513369,0.105943694710732,-0.030373914167285,0.101967036724091,-0.044632773846388,-0.039494428783655));
return max(float4(0,0,0,0), res);
}
