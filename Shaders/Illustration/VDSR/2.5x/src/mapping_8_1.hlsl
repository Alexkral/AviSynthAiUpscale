sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.098715886473656,-0.116980865597725,0.004185755737126,0.055436789989471,-0.182406187057495,0.024622714146972,0.076508641242981,0.038951519876719,0.011334619484842,-0.013540492393076,-0.036454204469919,-0.002590415999293,0.036959998309612,0.153245210647583,-0.023795437067747,-0.095852434635162));
res += mul(Get(s0,-dx,0), float4x4(-0.032285142689943,-0.053763173520565,-0.003974444698542,0.050646603107452,-0.018756452947855,0.139116138219833,-0.239443495869637,-0.060903694480658,0.053157627582550,-0.090904690325260,-0.057880457490683,0.032284032553434,-0.001844817539677,0.054460935294628,0.016128653660417,-0.018966535106301));
res += mul(Get(s0,-dx,dy), float4x4(-0.211531609296799,-0.046555846929550,0.112548910081387,-0.020219007506967,-0.077671982347965,0.096270404756069,-0.005284707061946,-0.077363252639771,0.087005950510502,-0.065268851816654,0.085780739784241,-0.026218598708510,-0.009476930834353,0.112234629690647,0.071367308497429,0.048066463321447));
res += mul(Get(s0,0,-dy), float4x4(-0.107963629066944,-0.037376120686531,-0.097787693142891,-0.078560173511505,0.006233989726752,0.029352983459830,-0.231536045670509,-0.107511028647423,-0.235133513808250,-0.193350449204445,0.123103998601437,0.015609458088875,0.117498621344566,-0.066204972565174,-0.128021836280823,0.128517314791679));
res += mul(Get(s0,0,0), float4x4(0.099817179143429,-0.095234036445618,0.141581177711487,-0.016304520890117,-0.019982498139143,0.311020046472549,-0.085257291793823,-0.077096782624722,-0.104747287929058,-0.001979742897674,0.072020329535007,0.224445119500160,-0.041815672069788,-0.060380708426237,0.138477534055710,-0.115821108222008));
res += mul(Get(s0,0,dy), float4x4(0.299626797437668,-0.008780284784734,0.078481502830982,-0.002371188485995,-0.118709310889244,-0.032834436744452,-0.148595109581947,0.029905190691352,-0.091563269495964,-0.015102837234735,0.168730482459068,0.210797235369682,0.101392097771168,0.042645558714867,-0.025647472590208,-0.138520583510399));
res += mul(Get(s0,dx,-dy), float4x4(-0.143882453441620,-0.188136786222458,0.146157816052437,0.013862217776477,0.081317089498043,-0.130151063203812,0.074619583785534,-0.130527868866920,-0.045341007411480,-0.001614855485968,-0.105214267969131,0.032013367861509,0.038760378956795,-0.129855528473854,0.193203926086426,0.172948673367500));
res += mul(Get(s0,dx,0), float4x4(0.127711832523346,-0.178242862224579,0.002445735502988,-0.116023145616055,-0.118809796869755,0.014992083422840,0.160155490040779,0.050216186791658,-0.074783831834793,-0.236738368868828,-0.038839370012283,0.039276886731386,0.008149272762239,0.028002161532640,0.136912569403648,0.030790913850069));
res += mul(Get(s0,dx,dy), float4x4(-0.137366622686386,0.079411245882511,0.122606344521046,-0.054295439273119,-0.098670385777950,0.044978573918343,0.157927140593529,0.050710845738649,0.037897463887930,0.016076749190688,-0.107941687107086,0.100401453673840,-0.135389372706413,-0.203718990087509,-0.021779723465443,0.015607844106853));
res += mul(Get(s1,-dx,-dy), float4x4(-0.172506913542747,-0.137792930006981,0.162686645984650,-0.104596681892872,0.060700636357069,-0.040904428809881,-0.109603509306908,-0.016496146097779,-0.038493953645229,0.029866227880120,-0.078762926161289,-0.132470324635506,-0.077790662646294,-0.206916168332100,-0.094507426023483,0.083053402602673));
res += mul(Get(s1,-dx,0), float4x4(-0.166034519672394,-0.061747543513775,0.101613968610764,0.041050471365452,0.027633970603347,-0.267091125249863,-0.107704572379589,0.022532304748893,-0.123286142945290,0.047339566051960,-0.154515966773033,-0.074992865324020,0.281011074781418,0.150213792920113,-0.095204405486584,-0.021486505866051));
res += mul(Get(s1,-dx,dy), float4x4(-0.167653620243073,0.280683338642120,0.105885334312916,0.092573955655098,0.047000475227833,-0.067019551992416,0.081326328217983,0.060626111924648,-0.195216208696365,-0.007822289131582,-0.091945089399815,-0.226326346397400,-0.042655505239964,-0.244620174169540,0.010168493725359,-0.118046402931213));
res += mul(Get(s1,0,-dy), float4x4(-0.002494080225006,-0.142034485936165,0.021457508206367,0.238178223371506,0.114586278796196,-0.180261462926865,-0.044554054737091,-0.033180478960276,-0.094010658562183,0.072807215154171,-0.057467762380838,-0.008988886140287,0.031928237527609,0.211607992649078,-0.142053678631783,0.160464704036713));
res += mul(Get(s1,0,0), float4x4(0.036571357399225,0.213930726051331,0.076739549636841,-0.046747855842113,-0.061073347926140,-0.203699037432671,0.034460958093405,0.005493605509400,-0.089043639600277,-0.143726915121078,0.083764150738716,-0.042135749012232,0.027346439659595,-0.104519248008728,0.056707840412855,0.035598747432232));
res += mul(Get(s1,0,dy), float4x4(0.034999087452888,-0.088078700006008,-0.224876627326012,0.006992215290666,0.199084296822548,0.062549278140068,-0.069197826087475,-0.000817360240035,-0.044958084821701,-0.158685296773911,0.076994687318802,-0.026132760569453,0.182604253292084,-0.000457985501271,-0.255939632654190,-0.102763071656227));
res += mul(Get(s1,dx,-dy), float4x4(0.036710012704134,-0.036068327724934,0.033198527991772,0.157634168863297,0.084689185023308,-0.061570823192596,-0.229014635086060,-0.143355950713158,-0.009814814664423,0.023866755887866,-0.076819390058517,0.096879541873932,0.097813338041306,0.055554077029228,0.003695453051478,-0.025043675675988));
res += mul(Get(s1,dx,0), float4x4(-0.054293397814035,0.076182670891285,-0.069978103041649,-0.249829143285751,-0.172084659337997,-0.123469457030296,-0.080850370228291,-0.023448415100574,0.015954120084643,0.330708235502243,-0.036958537995815,-0.170180067420006,-0.069208815693855,-0.009558241814375,0.078944049775600,0.061647433787584));
res += mul(Get(s1,dx,dy), float4x4(0.094588920474052,0.152437925338745,0.066725000739098,-0.060663703829050,0.000163099772180,-0.049954805523157,-0.078031085431576,-0.100485123693943,-0.017486440017819,-0.040358331054449,-0.114671088755131,-0.018001845106483,-0.097699902951717,0.122065834701061,-0.011825823225081,0.021571638062596));
res += mul(Get(s2,-dx,-dy), float4x4(0.091671392321587,-0.260181933641434,-0.052032697945833,-0.024299120530486,-0.098651029169559,0.113048613071442,0.032511416822672,-0.049615703523159,0.189387425780296,0.152348652482033,0.074856340885162,-0.150586664676666,-0.043701767921448,-0.133005037903786,-0.073420777916908,-0.136880576610565));
res += mul(Get(s2,-dx,0), float4x4(0.006205594167113,-0.015738610178232,-0.212647885084152,-0.067510232329369,0.011572832241654,0.199215501546860,-0.005708530079573,-0.015473725274205,0.112219825387001,-0.127329424023628,-0.228225439786911,-0.003664599731565,-0.028025347739458,-0.061948414891958,-0.175929039716721,-0.068678602576256));
res += mul(Get(s2,-dx,dy), float4x4(-0.077200323343277,0.062923103570938,-0.071584209799767,0.072828449308872,0.050415080040693,-0.135958731174469,-0.028867002576590,-0.061970327049494,-0.107475347816944,-0.043807033449411,0.053353879600763,0.084129102528095,0.174340620636940,0.013237544335425,-0.023073827847838,0.044527370482683));
res += mul(Get(s2,0,-dy), float4x4(-0.105041041970253,0.073426418006420,-0.099566690623760,-0.001842013094574,-0.094589345157146,-0.100631631910801,0.088057570159435,-0.156449049711227,0.015419985167682,0.048426005989313,-0.085903577506542,0.086569204926491,0.016307691112161,0.266155928373337,-0.031946230679750,-0.223473966121674));
res += mul(Get(s2,0,0), float4x4(-0.052414294332266,-0.205012172460556,0.038451403379440,-0.052722826600075,-0.023427892476320,0.011816459707916,-0.040907658636570,-0.007386734243482,0.036937210708857,-0.059179741889238,0.034231945872307,0.025201916694641,-0.147567778825760,-0.031026056036353,0.021594529971480,0.036545254290104));
res += mul(Get(s2,0,dy), float4x4(-0.041944075375795,-0.014859138987958,0.133230313658714,-0.128381356596947,-0.091360069811344,0.012111476622522,-0.146719813346863,0.030662072822452,0.084175638854504,0.106015667319298,-0.060801193118095,0.082308769226074,0.046396415680647,0.092669077217579,0.062487430870533,0.029273523017764));
res += mul(Get(s2,dx,-dy), float4x4(-0.106094561517239,0.034415796399117,0.070575393736362,-0.012548246420920,0.011988704092801,0.049584716558456,-0.064792498946190,0.070602685213089,0.113626539707184,0.043000001460314,0.024657452479005,-0.091723777353764,0.079385615885258,0.178178697824478,-0.059783838689327,0.003427821444348));
res += mul(Get(s2,dx,0), float4x4(0.020079925656319,0.040415007621050,-0.083868786692619,-0.001955302199349,0.153250232338905,-0.157201334834099,-0.106583632528782,-0.040070846676826,-0.103531129658222,-0.051179587841034,0.069649919867516,0.040744837373495,0.033304933458567,-0.166253894567490,-0.006692491937429,-0.058845177292824));
res += mul(Get(s2,dx,dy), float4x4(-0.056700378656387,0.007710609585047,-0.292014300823212,-0.105072498321533,-0.124887868762016,-0.076819799840450,-0.027022762224078,-0.049077030271292,0.035480018705130,0.088117487728596,0.113353073596954,0.149259269237518,0.157706603407860,-0.059399303048849,0.118830576539040,-0.060662340372801));
res += mul(Get(s3,-dx,-dy), float4x4(-0.023934183642268,0.068488895893097,0.047012425959110,-0.033208228647709,-0.049097474664450,-0.162621945142746,-0.165878772735596,0.044548545032740,-0.007382065989077,0.124770753085613,-0.177265703678131,0.041265264153481,0.182116016745567,-0.071155287325382,-0.128411903977394,-0.068005405366421));
res += mul(Get(s3,-dx,0), float4x4(0.074399568140507,-0.202920079231262,-0.125014588236809,-0.036577664315701,-0.005335186608136,0.214836969971657,0.075858764350414,0.003914231434464,0.001169324386865,0.073924779891968,-0.012312698177993,-0.062342338263988,0.088778160512447,-0.074339166283607,0.111658364534378,-0.146933257579803));
res += mul(Get(s3,-dx,dy), float4x4(0.018959792330861,-0.141505435109138,0.091431491076946,0.042202651500702,-0.052056070417166,0.090617574751377,0.136375382542610,-0.029531827196479,0.042979307472706,-0.089169524610043,-0.108584061264992,0.010990021750331,-0.010161907412112,-0.093358628451824,-0.050914701074362,0.032741211354733));
res += mul(Get(s3,0,-dy), float4x4(0.015085726976395,-0.206889152526855,0.005123718641698,0.060653958469629,-0.073201149702072,0.140857383608818,0.105026379227638,0.038608994334936,0.020936707034707,-0.101650163531303,0.024490721523762,-0.027593228965998,0.065636865794659,0.103038467466831,0.246148079633713,0.059572923928499));
res += mul(Get(s3,0,0), float4x4(0.006129475310445,-0.081074684858322,-0.038305353373289,-0.094114281237125,-0.123997651040554,-0.132178694009781,0.241198092699051,-0.301510751247406,0.143386021256447,-0.167059004306793,0.057388365268707,0.047801587730646,0.044078968465328,0.171357423067093,0.059461347758770,0.221388444304466));
res += mul(Get(s3,0,dy), float4x4(-0.011026407591999,0.254062950611115,-0.036979053169489,-0.146612972021103,-0.018613997846842,-0.094565637409687,0.115516290068626,-0.190679088234901,0.041277434676886,-0.143636748194695,0.203279778361320,-0.029430205002427,-0.087051130831242,0.146302193403244,-0.134218379855156,0.054511271417141));
res += mul(Get(s3,dx,-dy), float4x4(0.003357835579664,-0.062369361519814,0.005065438803285,-0.006902890279889,0.077114723622799,0.075765624642372,0.100564435124397,-0.021700140088797,-0.187934443354607,-0.063793838024139,0.151524335145950,0.065420746803284,0.022625871002674,-0.194589644670486,-0.013607125729322,0.126082196831703));
res += mul(Get(s3,dx,0), float4x4(-0.131993919610977,0.080939680337906,-0.166276633739471,-0.039491008967161,-0.050044730305672,-0.101127564907074,-0.077120229601860,-0.170469522476196,0.121874354779720,-0.032237291336060,-0.058582101017237,0.026432981714606,-0.137975722551346,-0.040615022182465,0.089370705187321,0.072755686938763));
res += mul(Get(s3,dx,dy), float4x4(-0.076369076967239,-0.169001385569572,-0.184454396367073,-0.091786712408066,-0.237266182899475,-0.131809696555138,0.266767144203186,0.023698480799794,-0.009334451518953,0.122566975653172,0.097906611859798,-0.081220112740993,-0.058695938438177,-0.005424356553704,-0.016167649999261,0.082577496767044));
return max(float4(0,0,0,0), res);
}
