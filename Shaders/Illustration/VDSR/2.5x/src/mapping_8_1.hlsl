sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.026631193235517,-0.150485754013062,-0.094024807214737,-0.158790245652199,0.224177002906799,-0.143203809857368,-0.129943296313286,-0.020878691226244,0.074468232691288,-0.003765062429011,0.096711002290249,0.037798840552568,0.020220687612891,-0.158049300312996,0.007559128105640,-0.061386913061142));
res += mul(Get(s0,-dx,0), float4x4(-0.075561933219433,0.129019334912300,0.091907225549221,-0.117363981902599,-0.015865659341216,-0.220958933234215,0.021251061931252,0.090522289276123,-0.036172796040773,-0.168034076690674,0.025030689314008,0.121408991515636,-0.088361561298370,-0.280295044183731,0.286536723375320,-0.071653693914413));
res += mul(Get(s0,-dx,dy), float4x4(-0.125402167439461,-0.187543481588364,-0.026482604444027,0.501166999340057,-0.116210706532001,-0.128504782915115,0.260136365890503,0.120321996510029,0.140438511967659,-0.125101476907730,0.242702618241310,0.065452568233013,0.010392482392490,-0.133431911468506,-0.086419053375721,-0.006138261407614));
res += mul(Get(s0,0,-dy), float4x4(-0.012709578499198,-0.059958975762129,-0.008421961218119,-0.113119930028915,-0.055258605629206,-0.024962935596704,-0.172000706195831,-0.153085947036743,0.058360844850540,0.137351766228676,0.009042615070939,0.167963877320290,0.082157075405121,0.202241271734238,-0.027133043855429,-0.074891552329063));
res += mul(Get(s0,0,0), float4x4(0.063432782888412,0.175158292055130,0.211497157812119,-0.098844155669212,-0.039611484855413,-0.025423044338822,0.430356234312057,0.006231203675270,-0.053647529333830,-0.090963810682297,0.087494201958179,-0.003897282993421,0.243748039007187,-0.108709990978241,0.156623661518097,-0.045984975993633));
res += mul(Get(s0,0,dy), float4x4(-0.049465686082840,-0.033268328756094,0.088050782680511,0.128562152385712,-0.055387787520885,0.082787498831749,-0.015047922730446,-0.010454942472279,0.038485489785671,0.170834273099899,0.154220029711723,0.057330492883921,-0.006288813427091,-0.170391485095024,-0.091805011034012,-0.203406482934952));
res += mul(Get(s0,dx,-dy), float4x4(0.248312756419182,-0.023576507344842,-0.137301430106163,0.057181157171726,-0.047572072595358,-0.062195770442486,0.057915233075619,-0.093431733548641,0.031895529478788,-0.022460645064712,0.113529309630394,0.012208132073283,0.070145405828953,0.262809127569199,-0.131335601210594,-0.007232407107949));
res += mul(Get(s0,dx,0), float4x4(0.217681869864464,-0.089013174176216,-0.079215683043003,0.056075289845467,-0.019412837922573,-0.006026510149240,-0.077766351401806,-0.086773000657558,-0.020403526723385,0.005024384707212,0.022334281355143,-0.060330126434565,0.017751237377524,-0.003427651245147,-0.067974619567394,0.066785611212254));
res += mul(Get(s0,dx,dy), float4x4(0.014223834499717,-0.071079947054386,-0.320595145225525,0.099552072584629,-0.043435484170914,0.138108476996422,-0.031143750995398,-0.008290846832097,0.025896484032273,0.235217839479446,0.160065427422523,-0.096348308026791,-0.200014472007751,0.174437731504440,0.134936973452568,-0.063426800072193));
res += mul(Get(s1,-dx,-dy), float4x4(0.128306359052658,-0.008207845501602,-0.106359168887138,-0.115834362804890,-0.035917352885008,0.159957334399223,-0.011579926125705,-0.018784353509545,0.202804669737816,0.132037192583084,-0.037870977073908,0.055543884634972,-0.015312355943024,0.006424323190004,-0.088194370269775,-0.031910754740238));
res += mul(Get(s1,-dx,0), float4x4(-0.076137311756611,0.172620773315430,-0.144101485610008,-0.149748787283897,-0.049825645983219,-0.015960285440087,-0.076925814151764,-0.030205434188247,0.157429695129395,-0.108606696128845,0.092939876019955,0.026776425540447,0.126606464385986,0.133287370204926,0.027985744178295,0.032854203134775));
res += mul(Get(s1,-dx,dy), float4x4(-0.025495182722807,0.004690489731729,0.021071517840028,-0.049050908535719,-0.016689995303750,-0.071826875209808,-0.088449366390705,0.047387097030878,-0.159712687134743,-0.346238344907761,0.014785368926823,0.252002596855164,-0.005380714312196,0.026454925537109,0.042698506265879,-0.070411525666714));
res += mul(Get(s1,0,-dy), float4x4(0.006918082945049,-0.168435558676720,-0.107709884643555,0.010712917894125,-0.072100922465324,0.225994259119034,0.161805793642998,-0.101702898740768,-0.128300294280052,-0.021768229082227,-0.016274712979794,-0.161185264587402,0.109625458717346,0.111500732600689,-0.082007318735123,-0.110666722059250));
res += mul(Get(s1,0,0), float4x4(-0.102544181048870,-0.043244041502476,-0.106519088149071,-0.110026285052299,-0.097288429737091,-0.107526622712612,0.058433379977942,-0.017602024599910,-0.109432332217693,-0.227315798401833,0.216252714395523,-0.076167337596416,0.294368445873260,-0.035263512283564,-0.118328168988228,0.010213411413133));
res += mul(Get(s1,0,dy), float4x4(-0.014642942696810,-0.033394094556570,-0.082678385078907,-0.087408117949963,-0.137078195810318,-0.052519604563713,-0.059326495975256,-0.070541456341743,-0.137542486190796,-0.279735803604126,-0.063350997865200,-0.022082431241870,0.223183408379555,0.064946733415127,-0.093245625495911,0.055654335767031));
res += mul(Get(s1,dx,-dy), float4x4(0.023312686011195,-0.223564073443413,-0.090946003794670,-0.058601249009371,-0.163309738039970,0.107005976140499,-0.042048536241055,-0.121777601540089,-0.008490988984704,-0.145769879221916,-0.072505638003349,-0.033587206155062,-0.198066011071205,0.054138753563166,-0.145963490009308,-0.144546270370483));
res += mul(Get(s1,dx,0), float4x4(-0.106162711977959,0.062899716198444,0.068391330540180,0.168015345931053,-0.117190554738045,-0.024167852476239,0.021611636504531,-0.038366291671991,-0.121257729828358,-0.099087283015251,0.059542298316956,-0.073290504515171,-0.070001445710659,0.082764215767384,0.125073432922363,-0.075857155025005));
res += mul(Get(s1,dx,dy), float4x4(0.049575828015804,-0.061309508979321,0.134188339114189,0.008956929668784,-0.038851220160723,0.122046209871769,-0.057955853641033,-0.005070819519460,-0.125284031033516,-0.069185987114906,-0.207951724529266,-0.013036574237049,-0.140015289187431,0.130762934684753,0.147104084491730,-0.108422815799713));
res += mul(Get(s2,-dx,-dy), float4x4(-0.085657835006714,0.066093504428864,-0.131120592355728,0.162106573581696,0.008928363211453,0.245387300848961,0.080628164112568,-0.036300580948591,0.081469066441059,0.094667091965675,0.011989775113761,0.113182485103607,0.001292524975725,-0.123486913740635,0.035339761525393,0.046737577766180));
res += mul(Get(s2,-dx,0), float4x4(0.000289231509669,0.014890342019498,0.025854106992483,0.263060361146927,0.067085191607475,0.151854589581490,-0.209974274039268,0.089016184210777,0.110578365623951,0.200632587075233,0.085940539836884,-0.071019306778908,0.091952525079250,-0.076574467122555,-0.061260402202606,-0.068974517285824));
res += mul(Get(s2,-dx,dy), float4x4(-0.090699128806591,-0.152603045105934,0.082716666162014,-0.097850099205971,0.033175524324179,0.035437289625406,-0.114951394498348,-0.010867581702769,0.117998138070107,0.274809002876282,-0.036900732666254,0.035362888127565,0.241960927844048,-0.086785249412060,-0.074741087853909,-0.100504264235497));
res += mul(Get(s2,0,-dy), float4x4(-0.142829075455666,0.206626623868942,0.006344264838845,-0.044993262737989,0.184563323855400,0.012498197145760,-0.152680918574333,0.305273979902267,-0.005708802491426,0.257358074188232,0.002322803717107,0.115659356117249,0.028229059651494,-0.098249673843384,0.103576809167862,0.051612671464682));
res += mul(Get(s2,0,0), float4x4(0.017063779756427,-0.165455892682076,0.028304465115070,0.165067270398140,0.020763849839568,-0.253153234720230,0.050086945295334,-0.041535839438438,0.088922888040543,0.127783551812172,-0.088999137282372,-0.049170814454556,0.044399641454220,-0.050604339689016,0.091163605451584,0.003904710989445));
res += mul(Get(s2,0,dy), float4x4(-0.055399846285582,-0.100059941411018,0.008906187489629,0.276505202054977,-0.078820481896400,-0.067211732268333,0.119477838277817,-0.225874349474907,0.055530257523060,0.022263562306762,-0.168564230203629,-0.027056576684117,-0.097072951495647,-0.090942077338696,0.117421761155128,-0.129674762487411));
res += mul(Get(s2,dx,-dy), float4x4(-0.048896111547947,0.186475202441216,-0.075032941997051,0.060779243707657,0.024457644671202,-0.275714337825775,-0.058155160397291,-0.024452252313495,0.244367554783821,0.127469614148140,0.000950556306634,0.090676434338093,0.105011180043221,-0.029219467192888,0.099307172000408,0.063687279820442));
res += mul(Get(s2,dx,0), float4x4(0.075666226446629,-0.087058894336224,-0.124785669147968,0.064454399049282,-0.031103797256947,0.141807034611702,0.133287906646729,0.051759023219347,0.141967639327049,0.040768381208181,-0.006735082250088,0.176998078823090,-0.216206222772598,0.074983105063438,0.284370869398117,0.032888621091843));
res += mul(Get(s2,dx,dy), float4x4(-0.049374766647816,-0.159780889749527,-0.023870093747973,0.096755355596542,-0.060673628002405,0.364743769168854,-0.062535613775253,-0.155125617980957,0.057052899152040,-0.016163036227226,-0.042824905365705,0.148632973432541,-0.198975637555122,0.040552195161581,0.075754053890705,-0.094226650893688));
res += mul(Get(s3,-dx,-dy), float4x4(0.063523888587952,-0.086679965257645,0.002706462051719,-0.026139171794057,0.225844681262970,-0.042941264808178,-0.155087783932686,0.044797118753195,-0.140280872583389,-0.074365109205246,0.037996843457222,0.071660697460175,0.196878433227539,-0.009913398884237,0.263935923576355,-0.152423828840256));
res += mul(Get(s3,-dx,0), float4x4(0.020560970529914,0.058482848107815,0.065842188894749,-0.053498290479183,0.194674253463745,0.100755743682384,-0.122152842581272,-0.057268898934126,0.053315266966820,-0.010932515375316,0.416393280029297,0.275632143020630,0.440103203058243,0.134008675813675,0.010250149294734,-0.147672563791275));
res += mul(Get(s3,-dx,dy), float4x4(-0.038861252367496,0.011892054229975,-0.009581077843904,0.082962319254875,0.056459352374077,0.017893133684993,-0.189081996679306,-0.033726677298546,-0.168792560696602,-0.059522535651922,0.174623519182205,0.470204740762711,0.002994101960212,0.298281997442245,0.034764077514410,0.232993707060814));
res += mul(Get(s3,0,-dy), float4x4(0.045753877609968,-0.136857733130455,-0.110911980271339,0.091803379356861,0.116685569286346,0.021309837698936,0.072789795696735,0.268737882375717,-0.078112587332726,0.073564596474171,-0.027198031544685,-0.151351511478424,-0.245238393545151,0.076618231832981,-0.030430652201176,0.019993644207716));
res += mul(Get(s3,0,0), float4x4(0.188303068280220,0.039701826870441,0.011820004321635,-0.014262907207012,-0.003918719012290,-0.016121581196785,0.017359610646963,0.038975283503532,-0.023257968947291,0.144266724586487,-0.060624048113823,-0.210735991597176,-0.111339688301086,-0.043782591819763,-0.137738466262817,0.076807536184788));
res += mul(Get(s3,0,dy), float4x4(0.150570213794708,-0.044544972479343,-0.139539569616318,0.182054340839386,0.128905370831490,0.045063197612762,-0.012759895063937,0.006367946974933,-0.149219796061516,0.151211068034172,-0.126295581459999,-0.058747321367264,-0.120942667126656,0.030857671052217,0.032648291438818,-0.079239204525948));
res += mul(Get(s3,dx,-dy), float4x4(0.300247371196747,-0.104733221232891,-0.106275714933872,-0.051176551729441,-0.058758005499840,-0.022624827921391,0.063558533787727,-0.092824503779411,-0.062838464975357,0.032698392868042,0.029967773705721,0.145487099885941,-0.051402606070042,-0.019128551706672,0.208805128931999,0.077217780053616));
res += mul(Get(s3,dx,0), float4x4(0.268208146095276,0.145361155271530,-0.123982824385166,0.095793798565865,-0.163949891924858,0.098300397396088,0.068830922245979,-0.121682770550251,0.061929106712341,0.000273299490800,0.037671882659197,0.035154365003109,-0.000458869297290,-0.108579501509666,0.297335177659988,0.007416292093694));
res += mul(Get(s3,dx,dy), float4x4(0.036564409732819,0.197788223624229,-0.010085937567055,0.157316312193871,-0.103020407259464,-0.131468191742897,0.039937213063240,-0.024019559845328,-0.031513638794422,0.072726175189018,-0.033597689121962,0.237157598137856,-0.068637430667877,0.073471136391163,0.320236772298813,-0.036807402968407));
return max(float4(0,0,0,0), res);
}
