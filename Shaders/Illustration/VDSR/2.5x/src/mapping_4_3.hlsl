sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.075642593204975,-0.171440377831459,-0.131207704544067,0.136550962924957,0.012810899876058,0.161616936326027,-0.104160703718662,0.030124085023999,-0.005613233428448,-0.019924798980355,-0.000490562757477,0.083018980920315,0.002137596253306,0.131064832210541,0.072462461888790,-0.121593803167343));
res += mul(Get(s0,-dx,0), float4x4(-0.005712221376598,0.076814293861389,-0.014846728183329,0.068598955869675,0.138585835695267,-0.046123284846544,0.130436271429062,-0.031878728419542,-0.078680157661438,0.099464826285839,-0.067465245723724,0.093400113284588,0.071019604802132,-0.119077689945698,0.073697432875633,0.013153811916709));
res += mul(Get(s0,-dx,dy), float4x4(-0.049943584948778,0.156606569886208,0.017701661214232,0.020159253850579,-0.252837866544724,-0.002846231218427,0.121165998280048,-0.054137196391821,-0.140829607844353,-0.174146801233292,-0.022509759292006,0.044354729354382,-0.115548588335514,-0.204538002610207,0.051803994923830,0.074328243732452));
res += mul(Get(s0,0,-dy), float4x4(-0.008958098478615,-0.105799064040184,0.105951718986034,0.015763500705361,0.029127907007933,0.223466232419014,-0.076644085347652,0.012701419182122,-0.053892455995083,0.042621400207281,0.096813730895519,0.197128772735596,-0.011294545605779,-0.091493487358093,0.038778882473707,0.015517163090408));
res += mul(Get(s0,0,0), float4x4(-0.078799255192280,0.006296026054770,0.119105540215969,-0.016479248180985,-0.053844437003136,-0.137689560651779,0.140417084097862,0.041245263069868,-0.047844495624304,0.063026718795300,-0.118059985339642,0.161564260721207,0.023136995732784,0.053883038461208,0.017193201929331,-0.276696294546127));
res += mul(Get(s0,0,dy), float4x4(-0.006185947451741,0.018670659512281,0.060642641037703,0.068385884165764,-0.243845164775848,0.024838728830218,0.074518412351608,-0.081057466566563,0.125617727637291,-0.237508103251457,0.079915091395378,-0.024920498952270,0.065656989812851,0.209935083985329,-0.078181631863117,0.193918272852898));
res += mul(Get(s0,dx,-dy), float4x4(0.005995245650411,-0.210610315203667,-0.049970783293247,0.085492491722107,0.028250521048903,-0.012993548996747,-0.154289066791534,-0.006509002763778,0.053171344101429,-0.260794401168823,-0.226215064525604,0.044622443616390,-0.015822904184461,0.071662746369839,-0.021997772157192,-0.024532468989491));
res += mul(Get(s0,dx,0), float4x4(-0.192390426993370,0.054190337657928,-0.088030852377415,-0.066380634903908,-0.119929917156696,-0.049553416669369,0.176975071430206,0.075177125632763,-0.124170541763306,-0.071169301867485,-0.116116054356098,-0.103907935321331,-0.000836384831928,-0.194660946726799,0.002522341907024,-0.064794518053532));
res += mul(Get(s0,dx,dy), float4x4(0.056206040084362,-0.002234235173091,0.162219718098640,-0.006802216172218,0.107012145221233,-0.055403258651495,0.003047088626772,-0.066080860793591,-0.241893261671066,0.057850871235132,0.178777068853378,-0.068895153701305,0.029624834656715,-0.119584947824478,0.133424893021584,-0.077388115227222));
res += mul(Get(s1,-dx,-dy), float4x4(-0.251660317182541,-0.062753193080425,-0.013098614290357,0.058843825012445,0.225411310791969,0.195920437574387,0.251225650310516,-0.026301961392164,-0.003707919735461,-0.025923360139132,0.244637578725815,-0.120627239346504,0.049838747829199,-0.221849933266640,0.145063027739525,0.121512122452259));
res += mul(Get(s1,-dx,0), float4x4(0.057994551956654,-0.041469093412161,0.142865553498268,-0.053485441952944,-0.016168182715774,-0.176635295152664,-0.054338764399290,0.040875501930714,-0.084131315350533,-0.086170673370361,-0.072100803256035,0.029479620978236,-0.102539546787739,-0.133539974689484,0.058373242616653,-0.207428768277168));
res += mul(Get(s1,-dx,dy), float4x4(-0.065314121544361,-0.019651729613543,0.084483027458191,-0.084226571023464,-0.006740935146809,0.022235412150621,0.016739388927817,0.005008517298847,-0.208036661148071,0.119514212012291,-0.088629342615604,-0.050404679030180,-0.044509556144476,-0.018198763951659,-0.123639389872551,-0.001759071368724));
res += mul(Get(s1,0,-dy), float4x4(-0.314982801675797,-0.212463021278381,0.190123558044434,-0.141926527023315,-0.060478348284960,-0.095264419913292,0.056187357753515,-0.062866881489754,-0.174241572618484,0.232028752565384,0.239879071712494,0.009274234995246,-0.083719924092293,-0.000331982038915,-0.078576155006886,0.010241602547467));
res += mul(Get(s1,0,0), float4x4(-0.020500399172306,-0.032487839460373,-0.086600415408611,-0.079498730599880,0.028545968234539,0.093886755406857,0.204608157277107,0.050034429877996,0.142432346940041,0.114318028092384,0.126228392124176,-0.046247225254774,0.139841347932816,-0.122101947665215,0.070514731109142,0.048182085156441));
res += mul(Get(s1,0,dy), float4x4(-0.132126942276955,-0.247985661029816,-0.194341152906418,-0.013664422556758,-0.161811664700508,0.123116344213486,0.009124758653343,0.039135079830885,0.208185523748398,0.151425510644913,0.030521051958203,0.051986943930387,0.111268073320389,0.130927503108978,0.150004699826241,-0.076563976705074));
res += mul(Get(s1,dx,-dy), float4x4(-0.007592397276312,0.028045052662492,-0.010977074503899,0.262019217014313,-0.100038453936577,-0.203566730022430,-0.134406328201294,0.041159529238939,0.008568765595555,0.014093376696110,0.078114464879036,0.091213524341583,0.054972905665636,-0.261811643838882,-0.115670308470726,-0.034509330987930));
res += mul(Get(s1,dx,0), float4x4(-0.122679091989994,-0.016833862289786,0.005724823568016,-0.018343910574913,-0.035610571503639,0.009322840720415,-0.104755155742168,-0.090386524796486,-0.178509861230850,-0.003364419331774,0.154340699315071,-0.058680798858404,-0.089205317199230,-0.065170623362064,-0.353306114673615,-0.094249218702316));
res += mul(Get(s1,dx,dy), float4x4(-0.005689440295100,-0.029150724411011,0.003498099045828,0.260240644216537,0.029373329132795,0.047847464680672,0.178713560104370,0.123488739132881,0.022035865113139,0.124040745198727,-0.096496142446995,-0.178248107433319,0.287076562643051,0.019202401861548,-0.060479663312435,0.235812962055206));
res += mul(Get(s2,-dx,-dy), float4x4(0.055509708821774,-0.149676740169525,-0.229261025786400,0.084918148815632,-0.202196642756462,0.000773884588853,-0.028883166611195,-0.063815496861935,0.080773085355759,0.000080387770140,0.002484839176759,-0.043386079370975,0.208933964371681,0.032717544585466,0.017915582284331,0.007127750664949));
res += mul(Get(s2,-dx,0), float4x4(0.148737236857414,0.032961580902338,-0.069966524839401,0.085463054478168,-0.030321419239044,0.180823877453804,-0.001067694392987,0.058991871774197,0.237536758184433,0.092776060104370,-0.013880063779652,0.010427679866552,0.053315818309784,0.091631881892681,-0.021619141101837,-0.198508426547050));
res += mul(Get(s2,-dx,dy), float4x4(-0.161660805344582,0.060305241495371,0.105092242360115,-0.014193832874298,0.122298717498779,-0.028302421793342,0.034074105322361,0.069817647337914,0.231707751750946,0.001874926267192,0.010606532916427,0.075135044753551,-0.025840820744634,-0.057689964771271,0.030494097620249,-0.142075613141060));
res += mul(Get(s2,0,-dy), float4x4(0.015174262225628,-0.184722691774368,0.010721494443715,-0.165366858243942,0.036057576537132,0.066246293485165,0.064927652478218,0.114136263728142,0.020378468558192,-0.277089953422546,-0.037599015980959,0.166664540767670,0.030251331627369,0.227752387523651,-0.310105621814728,-0.000007909519809));
res += mul(Get(s2,0,0), float4x4(0.038488905876875,0.036527894437313,0.133890628814697,0.058549478650093,0.111754491925240,0.012625534087420,-0.021512567996979,0.226283729076385,0.048937153071165,-0.138515129685402,-0.095706433057785,0.080803588032722,-0.126963272690773,0.050900049507618,0.106144353747368,0.101751700043678));
res += mul(Get(s2,0,dy), float4x4(-0.160649269819260,-0.104672685265541,0.058168191462755,0.111343421041965,0.000508874771185,0.069856613874435,0.191978275775909,-0.088790297508240,0.156576007604599,0.132879719138145,0.055755469948053,0.128381729125977,0.169018551707268,-0.046413931995630,0.057674139738083,-0.061554782092571));
res += mul(Get(s2,dx,-dy), float4x4(0.070418298244476,-0.055514015257359,-0.064951337873936,0.055776473134756,-0.015786286443472,-0.010997196659446,0.136379152536392,-0.047335673123598,0.083206422626972,0.077926076948643,-0.021281916648149,0.052097134292126,-0.030880158767104,0.043293040245771,0.234707325696945,-0.115474969148636));
res += mul(Get(s2,dx,0), float4x4(-0.078641563653946,-0.023010868579149,0.022223275154829,-0.136752009391785,0.102493219077587,0.024876492097974,-0.048058919608593,-0.022827496752143,0.079652138054371,0.016290230676532,0.055481884628534,0.014827334322035,-0.004371323157102,-0.110461793839931,0.145870432257652,-0.015973974019289));
res += mul(Get(s2,dx,dy), float4x4(-0.013270352967083,-0.147920727729797,-0.152608811855316,0.044221594929695,-0.056670278310776,0.097547888755798,0.110852688550949,0.013777531683445,-0.122731000185013,0.103340454399586,-0.077833302319050,0.261408239603043,0.124268472194672,0.162175402045250,-0.007461476139724,0.153800785541534));
res += mul(Get(s3,-dx,-dy), float4x4(-0.132201969623566,-0.064632430672646,-0.007502180989832,-0.025203220546246,-0.041039034724236,0.162591829895973,0.077380515635014,0.012876019813120,0.003121884539723,0.122948482632637,-0.074899949133396,-0.078856483101845,-0.057244554162025,-0.057184834033251,0.072543278336525,-0.093527965247631));
res += mul(Get(s3,-dx,0), float4x4(-0.127615809440613,0.188230201601982,-0.199524804949760,0.025956355035305,0.138240382075310,0.095531187951565,0.120418451726437,-0.216126650571823,0.042314715683460,0.116709843277931,0.064383894205093,0.005715677980334,0.169697061181068,0.037746548652649,0.042449794709682,0.055993437767029));
res += mul(Get(s3,-dx,dy), float4x4(-0.022238539531827,0.001552989939228,-0.165670305490494,0.114847622811794,0.052620571106672,0.202634111046791,0.039105486124754,0.017536355182528,-0.128267049789429,-0.080129846930504,-0.037670724093914,-0.076143421232700,0.077401384711266,0.018535930663347,0.061890874058008,0.113853104412556));
res += mul(Get(s3,0,-dy), float4x4(0.005515877157450,0.117611065506935,0.229605346918106,-0.174365639686584,0.137485593557358,-0.057149790227413,-0.104241244494915,-0.082729160785675,0.058449618518353,-0.091955654323101,0.071949400007725,0.102176815271378,0.132313430309296,-0.120752848684788,-0.117870531976223,0.046244196593761));
res += mul(Get(s3,0,0), float4x4(-0.094266757369041,-0.115657337009907,0.075939990580082,-0.236716911196709,-0.017800785601139,-0.135908812284470,0.092300474643707,0.087651915848255,0.119420647621155,-0.182705372571945,0.166883394122124,0.114605329930782,0.189984485507011,-0.122027032077312,-0.111553117632866,-0.057311095297337));
res += mul(Get(s3,0,dy), float4x4(-0.174613013863564,0.037094119936228,-0.026460979133844,-0.052122183144093,-0.174195066094398,-0.140482291579247,0.121825180947781,-0.104309216141701,-0.055932246148586,0.004981589037925,0.138198807835579,-0.045611619949341,-0.128435313701630,-0.101493664085865,-0.053486067801714,-0.061777014285326));
res += mul(Get(s3,dx,-dy), float4x4(-0.056044664233923,0.155852541327477,0.042872842401266,0.136040747165680,-0.046352390199900,-0.085149377584457,0.132633507251740,0.082324691116810,0.030678531154990,-0.153761893510818,-0.174581021070480,-0.020255614072084,-0.100196264684200,0.059859748929739,-0.010477917268872,-0.176776170730591));
res += mul(Get(s3,dx,0), float4x4(0.043109502643347,-0.013005726970732,-0.034583572298288,0.153689995408058,0.051153786480427,-0.106923393905163,0.014435607939959,0.105715692043304,0.005880231969059,-0.083255872130394,-0.172342896461487,-0.037935193628073,-0.068033136427402,-0.041224706918001,0.083203069865704,-0.063868723809719));
res += mul(Get(s3,dx,dy), float4x4(-0.257215142250061,-0.129117295145988,-0.080226801335812,-0.036008190363646,-0.234129413962364,0.001078803907149,0.138173162937164,0.176093727350235,0.071414262056351,-0.099527910351753,0.177649825811386,-0.026350861415267,-0.414392828941345,0.087753385305405,-0.153507009148598,-0.000204013485927));
return max(float4(0,0,0,0), res);
}
