sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.134177297353745,0.084017612040043,0.071849964559078,-0.108653210103512,0.116231709718704,0.160268962383270,-0.035715684294701,0.042639240622520,0.139143273234367,0.053637232631445,-0.098010390996933,-0.079066410660744,0.066228166222572,-0.124597601592541,-0.077435173094273,-0.020561238750815));
res += mul(Get(s0,-dx,0), float4x4(0.398932307958603,0.013455348089337,-0.021969530731440,-0.122838914394379,0.125364571809769,0.057058643549681,0.324806332588196,0.000377902266337,-0.079475335776806,-0.007712529972196,-0.185350239276886,0.030010610818863,0.013049591332674,-0.059707269072533,-0.102736532688141,0.175661236047745));
res += mul(Get(s0,-dx,dy), float4x4(0.216492384672165,-0.076960071921349,-0.036017678678036,-0.058410812169313,-0.092460438609123,0.040868926793337,0.126575648784637,0.110662095248699,-0.180004045367241,-0.097629465162754,-0.037180073559284,-0.068776085972786,0.080990552902222,-0.032010141760111,-0.040772676467896,-0.027195479720831));
res += mul(Get(s0,0,-dy), float4x4(0.284625560045242,0.306572675704956,0.003229701658711,-0.180448994040489,0.113791108131409,0.076922401785851,-0.204991996288300,-0.044144969433546,-0.229688704013824,0.029328074306250,0.227264821529388,-0.192991346120834,0.041752651333809,-0.053413193672895,0.061463881283998,-0.071980208158493));
res += mul(Get(s0,0,0), float4x4(-0.025305692106485,-0.177564620971680,-0.094535030424595,-0.136768788099289,-0.012222347781062,0.087554395198822,0.135392248630524,-0.028521485626698,-0.154911532998085,0.101589299738407,0.133092671632767,0.040416203439236,0.043067220598459,0.009777032770216,-0.015107951126993,0.211936295032501));
res += mul(Get(s0,0,dy), float4x4(-0.023911274969578,-0.189609676599503,-0.004266730044037,-0.066205918788910,-0.022432398051023,0.146865665912628,0.052189752459526,-0.011462820693851,-0.153527051210403,0.171589881181717,-0.054534282535315,-0.102213412523270,-0.161036267876625,-0.016005745157599,-0.036966465413570,-0.042318392544985));
res += mul(Get(s0,dx,-dy), float4x4(0.121478751301765,-0.033955980092287,-0.070369273424149,-0.233866587281227,-0.023980250582099,-0.017131833359599,-0.007047122344375,-0.086973555386066,-0.074775554239750,-0.003550892695785,-0.004925093613565,-0.077035650610924,0.113582044839859,-0.073023520410061,0.125464946031570,-0.033028706908226));
res += mul(Get(s0,dx,0), float4x4(-0.117628447711468,0.028608595952392,-0.125457793474197,-0.107489347457886,-0.107120893895626,-0.027149165049195,0.166443794965744,-0.053377367556095,0.017900101840496,-0.050525166094303,-0.134788602590561,-0.048477832227945,0.459532707929611,-0.015307109802961,0.064506888389587,0.288775891065598));
res += mul(Get(s0,dx,dy), float4x4(-0.142648398876190,0.082985609769821,-0.144166067242622,-0.064901649951935,-0.008542895317078,0.017076484858990,0.042726758867502,0.047281485050917,0.083600997924805,-0.210310429334641,-0.020125646144152,-0.022970315068960,0.063012026250362,-0.071342267096043,0.075346082448959,0.021083587780595));
res += mul(Get(s1,-dx,-dy), float4x4(0.012826282531023,0.055832225829363,-0.033704247325659,0.220861703157425,-0.161847069859505,-0.079761639237404,-0.021415090188384,0.139104768633842,-0.055950727313757,-0.016768962144852,-0.090824410319328,-0.130580544471741,0.098988808691502,0.250782281160355,-0.104545474052429,0.148030132055283));
res += mul(Get(s1,-dx,0), float4x4(0.151079490780830,-0.073561191558838,-0.058450743556023,0.062132909893990,-0.161295428872108,0.021699201315641,-0.026662915945053,0.118878811597824,0.077435351908207,0.015748010948300,-0.010498184710741,-0.149694547057152,-0.044355090707541,0.041758470237255,-0.172649696469307,-0.012628294527531));
res += mul(Get(s1,-dx,dy), float4x4(0.120169550180435,0.032290972769260,0.019083691760898,-0.016079818829894,0.161933302879333,0.220642775297165,0.203684359788895,0.134088575839996,-0.061987716704607,-0.057605475187302,-0.106156922876835,-0.060923922806978,-0.100121110677719,-0.070334151387215,-0.094937793910503,0.030089391395450));
res += mul(Get(s1,0,-dy), float4x4(0.099991150200367,-0.007926906459033,-0.153134018182755,0.039371274411678,-0.182050496339798,-0.059121649712324,-0.251639008522034,-0.023823520168662,-0.023750619962811,0.115978769958019,-0.043868094682693,-0.160641983151436,0.255727320909500,0.192280724644661,-0.135376691818237,-0.090326890349388));
res += mul(Get(s1,0,0), float4x4(-0.147350057959557,-0.027331845834851,0.007528863381594,0.070014230906963,-0.088794939219952,-0.159117415547371,-0.058498289436102,0.080784328281879,-0.018317628651857,0.150748088955879,-0.026858603581786,-0.209555372595787,-0.042524546384811,0.011897056363523,-0.078396722674370,-0.098012678325176));
res += mul(Get(s1,0,dy), float4x4(0.200541421771049,0.077867664396763,-0.014822679571807,-0.027222981676459,0.344918489456177,-0.079620093107224,0.119854897260666,-0.068865939974785,-0.207817286252975,0.060374494642019,-0.214432299137115,-0.067218445241451,-0.108049802482128,-0.184110298752785,-0.072540521621704,-0.108063511550426));
res += mul(Get(s1,dx,-dy), float4x4(0.181949555873871,-0.005168369971216,-0.014984790235758,0.083943270146847,0.005199743900448,-0.167775288224220,-0.102432385087013,0.164498537778854,0.037233244627714,-0.069024950265884,0.007807945366949,-0.086162596940994,-0.077777765691280,-0.028552556410432,-0.051232881844044,0.020275229588151));
res += mul(Get(s1,dx,0), float4x4(0.258644491434097,-0.039785027503967,0.016544157639146,0.081143468618393,0.115712709724903,-0.276280879974365,-0.011167502962053,-0.005739598069340,-0.135528400540352,-0.022237040102482,-0.073597677052021,-0.091871358454227,-0.214230805635452,-0.034767445176840,-0.082341693341732,-0.018355054780841));
res += mul(Get(s1,dx,dy), float4x4(0.357978284358978,-0.062276344746351,0.060204755514860,-0.007911124266684,0.131476417183876,-0.109014309942722,0.123033516108990,-0.058267071843147,-0.077744424343109,-0.056352604180574,-0.118225902318954,0.048775624483824,0.183475106954575,0.015287993475795,-0.057932853698730,0.053892496973276));
res += mul(Get(s2,-dx,-dy), float4x4(0.000203213596251,0.002898632548749,0.019804315641522,-0.016121245920658,0.003081607399508,0.122804187238216,-0.153096273541451,0.105401858687401,0.101294711232185,-0.005608279258013,-0.015333578921854,0.049211569130421,0.152424335479736,0.247386872768402,-0.002872464014217,-0.150388300418854));
res += mul(Get(s2,-dx,0), float4x4(-0.090560682117939,0.084352776408195,0.068579591810703,-0.029940806329250,-0.057610332965851,-0.133601665496826,-0.033569023013115,-0.080082409083843,-0.119136177003384,-0.226414889097214,-0.104096747934818,0.119240462779999,0.028717130422592,0.037368275225163,-0.040916632860899,0.059460390359163));
res += mul(Get(s2,-dx,dy), float4x4(-0.110184080898762,0.144229769706726,-0.019534055143595,0.119841426610947,0.156191334128380,0.009901364333928,0.070514872670174,-0.064218223094940,-0.087716087698936,-0.001718664658256,0.078757248818874,0.012392005883157,-0.219742268323898,0.163269683718681,0.217074617743492,0.112657003104687));
res += mul(Get(s2,0,-dy), float4x4(0.021239278838038,-0.045842435210943,0.202961608767509,0.003732046578079,0.049747847020626,0.098731383681297,-0.252359569072723,-0.160833552479744,0.042696788907051,0.083954721689224,-0.227909788489342,-0.073770999908447,-0.075414903461933,-0.016709985211492,-0.065736480057240,-0.141945824027061));
res += mul(Get(s2,0,0), float4x4(-0.062703184783459,-0.144816398620605,0.043898969888687,-0.034622248262167,-0.056577980518341,-0.225801140069962,0.047462336719036,-0.155991777777672,-0.100157462060452,-0.012096262536943,-0.164020508527756,-0.006870034616441,0.059548798948526,-0.042679551988840,-0.013258712366223,0.056887097656727));
res += mul(Get(s2,0,dy), float4x4(-0.162633195519447,-0.120330967009068,-0.046496760100126,0.175269603729248,0.092298485338688,-0.056359786540270,-0.012132731266320,0.049554485827684,-0.176586285233498,-0.064731441438198,0.078718200325966,0.013052880764008,-0.058016307651997,0.075624383985996,0.232596486806870,0.137278258800507));
res += mul(Get(s2,dx,-dy), float4x4(-0.011748571880162,-0.207210183143616,0.129137009382248,-0.177430838346481,0.071276597678661,0.507173180580139,-0.022941926494241,0.016315121203661,-0.047310683876276,0.075497508049011,-0.166852220892906,-0.166782572865486,-0.015329258516431,-0.141218110918999,-0.066362589597702,-0.111370652914047));
res += mul(Get(s2,dx,0), float4x4(-0.024784086272120,-0.191428318619728,-0.180374041199684,-0.131434395909309,0.190158650279045,0.060146354138851,0.097837880253792,-0.089819036424160,-0.100739829242229,-0.012701377272606,0.108778223395348,-0.015193777158856,0.167194947600365,-0.005960198119283,0.283301472663879,-0.018076952546835));
res += mul(Get(s2,dx,dy), float4x4(-0.084962971508503,-0.443314194679260,0.040621541440487,0.061340816318989,0.066116474568844,-0.019179085269570,0.091109618544579,0.142980992794037,-0.096684880554676,-0.177503749728203,0.032191954553127,-0.069767817854881,0.137283116579056,-0.016126291826367,0.164750158786774,0.184113129973412));
res += mul(Get(s3,-dx,-dy), float4x4(0.022260069847107,-0.155204728245735,0.106368340551853,-0.148492485284805,0.048516817390919,0.094186291098595,-0.129997521638870,0.030623173341155,0.067868225276470,-0.023182164877653,0.194046139717102,-0.090259671211243,-0.085903100669384,0.020743563771248,0.088816449046135,0.025810530409217));
res += mul(Get(s3,-dx,0), float4x4(-0.115272305905819,-0.140666127204895,-0.113477468490601,-0.150734722614288,-0.217532560229301,0.234731540083885,0.113484837114811,-0.019867070019245,0.003851126180962,0.106366701424122,0.006952575873584,-0.044793229550123,0.066880196332932,0.138219490647316,-0.019049292430282,0.126644238829613));
res += mul(Get(s3,-dx,dy), float4x4(-0.169533148407936,-0.121141299605370,-0.142902240157127,-0.217129662632942,0.064058944582939,-0.027372734621167,0.146001994609833,0.003394047496840,-0.048417136073112,-0.000845105154440,0.262660384178162,-0.008944150991738,0.019592640921474,0.071563787758350,-0.015322671271861,0.066017359495163));
res += mul(Get(s3,0,-dy), float4x4(-0.034390252083540,-0.079823620617390,0.144859358668327,-0.175783619284630,-0.111495360732079,-0.225956410169601,-0.122446000576019,0.242593497037888,-0.071828790009022,-0.018691057339311,0.090541154146194,-0.064903117716312,0.034454599022865,0.052089452743530,0.006529585458338,-0.033410113304853));
res += mul(Get(s3,0,0), float4x4(-0.114508315920830,-0.212104752659798,-0.054512623697519,-0.143581539392471,0.052945930510759,-0.037826064974070,-0.021090708673000,-0.193489283323288,-0.100803457200527,0.175384849309921,-0.338853687047958,-0.005279146134853,0.167123019695282,-0.060414399951696,-0.031347040086985,0.046564348042011));
res += mul(Get(s3,0,dy), float4x4(-0.105133861303329,-0.141424164175987,-0.077976882457733,-0.105547532439232,-0.005677387584001,0.006160720251501,-0.021838687360287,-0.046299029141665,-0.049867544323206,-0.016957815736532,0.127725273370743,0.235758081078529,0.005993382539600,0.001940280199051,-0.048827745020390,-0.117614991962910));
res += mul(Get(s3,dx,-dy), float4x4(-0.180595919489861,0.152107506990433,0.059831768274307,-0.179938256740570,-0.220474839210510,0.300768166780472,-0.137975290417671,-0.097836032509804,-0.144906654953957,-0.165222510695457,0.083003006875515,-0.002413564128801,-0.223454251885414,-0.161424234509468,-0.097457990050316,-0.094795286655426));
res += mul(Get(s3,dx,0), float4x4(-0.198482066392899,-0.083812788128853,0.136706933379173,-0.041477430611849,-0.016426017507911,0.172069683670998,0.058977469801903,-0.278398096561432,-0.182313710451126,0.228026390075684,0.043865937739611,-0.058776892721653,-0.065414257347584,-0.202948614954948,-0.120012551546097,0.102504268288612));
res += mul(Get(s3,dx,dy), float4x4(-0.208351552486420,0.092432275414467,0.285949051380157,0.153861939907074,-0.074732586741447,0.083885014057159,-0.041160289198160,-0.112809419631958,-0.327535986900330,0.092528715729713,0.132523715496063,0.537956714630127,-0.194260895252228,-0.189694002270699,-0.122387394309044,0.146168678998947));
return max(float4(0,0,0,0), res);
}
