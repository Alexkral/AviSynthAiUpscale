sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.103918671607971,0.292035937309265,-0.018743786960840,-0.031228678300977,-0.241190195083618,0.123301088809967,0.110927499830723,-0.220287248492241,-0.063038729131222,-0.151667132973671,0.058785371482372,-0.105499662458897,-0.202958405017853,-0.004270415287465,0.091619968414307,0.143593892455101));
res += mul(Get(s0,-dx,0), float4x4(-0.096470125019550,-0.034888017922640,0.066641204059124,-0.079412646591663,-0.133554399013519,-0.103082224726677,0.178989529609680,-0.027946883812547,-0.045566502958536,-0.082126356661320,-0.036001928150654,0.009249182417989,-0.027638463303447,0.225230112671852,-0.000620934180915,-0.128816708922386));
res += mul(Get(s0,-dx,dy), float4x4(-0.100831225514412,0.033591341227293,-0.163710579276085,-0.047915220260620,-0.047246284782887,-0.073622994124889,0.008333432488143,-0.043886829167604,-0.110652424395084,-0.170828536152840,-0.105743333697319,-0.014554135501385,-0.255896627902985,0.024386862292886,-0.039831690490246,0.194162279367447));
res += mul(Get(s0,0,-dy), float4x4(-0.107081241905689,-0.128294453024864,0.187798514962196,-0.085941337049007,-0.077101550996304,0.175928309559822,0.105519019067287,-0.167116001248360,0.078830026090145,0.146611616015434,0.237626045942307,-0.132657736539841,-0.062917932868004,0.000511479505803,0.074506707489491,0.073492772877216));
res += mul(Get(s0,0,0), float4x4(-0.034215670078993,-0.206692203879356,-0.052589233964682,-0.044382877647877,0.015183714218438,-0.211531296372414,0.052021380513906,-0.088897846639156,-0.072254240512848,0.153192266821861,0.106777384877205,0.098676554858685,0.077139869332314,-0.030087273567915,-0.053696211427450,0.009107888676226));
res += mul(Get(s0,0,dy), float4x4(-0.023106811568141,-0.224344044923782,-0.080312050879002,0.049558952450752,-0.010613563470542,-0.052048295736313,-0.095292605459690,0.019734874367714,-0.166944667696953,-0.177897453308105,-0.066001944243908,-0.047389216721058,-0.043736997991800,-0.117782659828663,-0.165965974330902,0.300666868686676));
res += mul(Get(s0,dx,-dy), float4x4(0.009639303199947,0.152772322297096,0.101141214370728,-0.024230431765318,0.022295553237200,0.093893632292747,0.142697080969810,-0.116630651056767,0.061258032917976,-0.003140660934150,0.318134576082230,-0.032846283167601,-0.157839938998222,-0.121526397764683,-0.098237350583076,-0.137322351336479));
res += mul(Get(s0,dx,0), float4x4(-0.050781674683094,-0.086541175842285,0.196251466870308,0.075567841529846,-0.001101068453863,-0.018822571262717,-0.079538799822330,-0.107384756207466,0.000148031525896,0.082287378609180,0.086976855993271,-0.113300524652004,0.067377164959908,-0.098908036947250,-0.110609278082848,-0.108217023313046));
res += mul(Get(s0,dx,dy), float4x4(-0.096743918955326,0.131166562438011,-0.161012187600136,0.330773979425430,-0.043516188859940,0.089310809969902,0.024652589112520,0.043508477509022,-0.178911104798317,-0.143106907606125,-0.031293015927076,-0.070506192743778,-0.103580214083195,-0.078945994377136,-0.198035180568695,0.033630065619946));
res += mul(Get(s1,-dx,-dy), float4x4(0.131327629089355,-0.103066004812717,0.017199913039804,0.006966971792281,-0.061076045036316,0.190998256206512,-0.023684728890657,0.028202751651406,0.003072270657867,-0.001195454620756,-0.040063366293907,-0.016285723075271,-0.059282395988703,-0.061532318592072,0.116209626197815,0.096974909305573));
res += mul(Get(s1,-dx,0), float4x4(0.182738229632378,0.161705836653709,0.006646722089499,0.085219852626324,-0.089178934693336,0.103154502809048,0.193027362227440,0.160992741584778,-0.069591790437698,-0.075358428061008,0.255850076675415,-0.029338294640183,0.053141124546528,-0.038164179772139,0.080897495150566,0.023709861561656));
res += mul(Get(s1,-dx,dy), float4x4(0.053541164845228,0.074559591710567,-0.107061930000782,-0.078203208744526,-0.084132052958012,0.316785067319870,0.272628903388977,-0.015240565873682,0.078611008822918,-0.082027919590473,0.477966368198395,-0.072895005345345,-0.014450327493250,0.201844319701195,-0.059240981936455,-0.265750527381897));
res += mul(Get(s1,0,-dy), float4x4(-0.127146348357201,-0.082106284797192,0.093505613505840,-0.047255899757147,0.065585061907768,0.265389531850815,-0.167720496654510,-0.051100838929415,0.143404245376587,-0.098093852400780,-0.024173034355044,-0.022132555022836,-0.022510431706905,-0.070887930691242,-0.090374231338501,-0.068705655634403));
res += mul(Get(s1,0,0), float4x4(-0.257139533758163,0.097973488271236,0.034408364444971,0.066211082041264,-0.065268315374851,0.016334028914571,0.221703305840492,0.115055873990059,-0.185629546642303,-0.151448458433151,-0.054124031215906,-0.044004917144775,-0.132370010018349,-0.175235614180565,0.046675603836775,0.110864244401455));
res += mul(Get(s1,0,dy), float4x4(-0.077682048082352,-0.079733647406101,-0.032520383596420,-0.066110722720623,-0.051267541944981,0.128440916538239,0.156202897429466,-0.070477589964867,-0.203026711940765,-0.120217055082321,0.054273962974548,-0.024532794952393,0.060965217649937,0.047793686389923,0.072424121201038,-0.214348047971725));
res += mul(Get(s1,dx,-dy), float4x4(-0.055439505726099,-0.115043982863426,0.031260065734386,-0.011657392606139,-0.042020410299301,0.175908908247948,-0.091457955539227,-0.036789316684008,0.434563726186752,-0.181618675589561,-0.079953476786613,-0.104669548571110,-0.004742306191474,-0.082322023808956,-0.102300673723221,0.046911388635635));
res += mul(Get(s1,dx,0), float4x4(-0.081739537417889,0.058717541396618,0.001674214145169,0.011784355156124,0.030586918815970,0.124969072639942,0.027709975838661,-0.028170717880130,0.071154952049255,0.001742547960021,-0.034901175647974,-0.054896209388971,0.048272367566824,-0.121458269655704,-0.062364526093006,0.145768851041794));
res += mul(Get(s1,dx,dy), float4x4(0.235471427440643,-0.088539198040962,-0.086397431790829,-0.076877556741238,0.046537417918444,0.058926738798618,0.125782951712608,-0.091611556708813,-0.081712797284126,-0.053193192929029,0.086883649230003,-0.070320852100849,0.242862403392792,0.030994014814496,-0.028727525845170,-0.065015599131584));
res += mul(Get(s2,-dx,-dy), float4x4(0.119427174329758,-0.091743640601635,0.010077055543661,-0.117307461798191,-0.077322810888290,-0.008425704203546,0.082678176462650,-0.042180094867945,0.442701160907745,-0.038562171161175,-0.012071754783392,0.134267494082451,0.230403393507004,-0.038526196032763,0.068380177021027,0.225089624524117));
res += mul(Get(s2,-dx,0), float4x4(0.072678320109844,-0.048673480749130,-0.008621205575764,-0.061575107276440,0.012986665591598,-0.006734514143318,0.100956797599792,0.091063521802425,0.219732418656349,0.162843331694603,-0.053575787693262,0.156770467758179,0.004185873083770,-0.067892670631409,-0.057392254471779,-0.077901996672153));
res += mul(Get(s2,-dx,dy), float4x4(-0.042507935315371,-0.171382144093513,0.145680829882622,-0.033428724855185,0.177359357476234,0.021542785689235,0.063174404203892,-0.152693644165993,0.089047528803349,0.173035874962807,0.106788709759712,0.105914019048214,0.033457186073065,-0.014983854256570,0.123467430472374,0.257233858108521));
res += mul(Get(s2,0,-dy), float4x4(0.194851636886597,0.192835509777069,-0.008982826955616,-0.069641701877117,-0.148280054330826,-0.154991030693054,-0.021571699529886,0.046131417155266,0.185369744896889,0.007658516056836,-0.122073866426945,0.209405630826950,0.229555666446686,0.014032466337085,0.001928627258167,0.196747466921806));
res += mul(Get(s2,0,0), float4x4(-0.071926228702068,0.240982413291931,-0.128625795245171,-0.079531125724316,-0.041141711175442,-0.140675172209740,0.009841703809798,0.453031033277512,0.157836973667145,0.098840117454529,-0.100988246500492,0.257774293422699,0.090042971074581,-0.035146858543158,-0.104533195495605,-0.087508089840412));
res += mul(Get(s2,0,dy), float4x4(0.049184378236532,-0.030805483460426,-0.017146926373243,0.065981499850750,0.183966636657715,0.020118637010455,-0.010267372243106,-0.024135475978255,0.165898472070694,-0.026331661269069,0.009375402703881,0.157197967171669,0.039315827190876,-0.035499092191458,-0.017525013536215,0.117154724895954));
res += mul(Get(s2,dx,-dy), float4x4(0.182512879371643,0.070450656116009,0.081216402351856,-0.178107410669327,-0.063691869378090,-0.185557141900063,-0.124132387340069,-0.109681941568851,0.113050006330013,-0.007598736323416,-0.059411644935608,0.094167307019234,0.029403334483504,-0.122108809649944,-0.030775258317590,0.122288897633553));
res += mul(Get(s2,dx,0), float4x4(0.098418109118938,0.254395931959152,-0.035976056009531,-0.084760501980782,-0.237123176455498,-0.162889227271080,-0.212740600109100,0.191306993365288,0.069513186812401,0.108860597014427,-0.057453010231256,0.037172593176365,0.065086886286736,-0.044660482555628,-0.107544913887978,-0.009557569399476));
res += mul(Get(s2,dx,dy), float4x4(0.223934233188629,-0.027507726103067,-0.055999215692282,-0.047336392104626,-0.082652136683464,-0.091656401753426,-0.042875163257122,-0.124015100300312,-0.081468850374222,0.198897629976273,-0.050358243286610,0.017853019759059,0.187317311763763,-0.028141919523478,-0.058516681194305,0.184376627206802));
res += mul(Get(s3,-dx,-dy), float4x4(-0.081899747252464,-0.000064612213464,-0.124136798083782,-0.060062471777201,0.036383442580700,0.137868508696556,-0.030979000031948,0.059784326702356,-0.075307592749596,0.027906954288483,-0.044274084270000,-0.139067336916924,-0.202330440282822,0.510060966014862,-0.069826968014240,-0.091074213385582));
res += mul(Get(s3,-dx,0), float4x4(-0.029112108051777,0.004824537318200,-0.103180266916752,-0.034705787897110,0.106296248733997,-0.035168688744307,0.133143708109856,0.105144858360291,-0.032768134027719,-0.071124270558357,0.012784812599421,-0.169973343610764,-0.093862459063530,0.042835600674152,-0.021171059459448,-0.047790300101042));
res += mul(Get(s3,-dx,dy), float4x4(0.011577919125557,-0.067125625908375,-0.074350334703922,-0.023000515997410,0.088577277958393,0.153560116887093,0.117499619722366,0.015719434246421,-0.089979074895382,-0.062939397990704,-0.184586793184280,0.377275943756104,-0.015540057793260,-0.091156564652920,0.080152235925198,0.014681234024465));
res += mul(Get(s3,0,-dy), float4x4(-0.067193791270256,0.077695593237877,-0.007660467643291,-0.149581864476204,-0.049312219023705,0.047710731625557,-0.111605368554592,0.015008265152574,0.120272964239120,0.047021273523569,-0.059864401817322,-0.101277895271778,-0.046034902334213,0.089186064898968,0.065777420997620,-0.213948562741280));
res += mul(Get(s3,0,0), float4x4(0.039835408329964,0.043919637799263,-0.054073505103588,-0.050097074359655,-0.140715375542641,0.046356834471226,0.102816216647625,0.152447193861008,0.137037187814713,0.114927411079407,-0.121230065822601,-0.132491379976273,-0.036501761525869,-0.116088882088661,-0.165769115090370,-0.025347350165248));
res += mul(Get(s3,0,dy), float4x4(0.177555486559868,0.016249835491180,-0.198057577013969,-0.016004163771868,-0.025968341156840,0.230247110128403,0.063299961388111,-0.060003563761711,-0.035506553947926,0.073155023157597,-0.098050042986870,0.258414089679718,-0.067197017371655,-0.041995767503977,-0.059801910072565,0.023569628596306));
res += mul(Get(s3,dx,-dy), float4x4(-0.090688705444336,0.175649583339691,-0.036457952111959,0.146212503314018,0.010723935440183,-0.092016704380512,-0.090561173856258,-0.038610871881247,0.176461383700371,0.187646761536598,-0.068986900150776,0.020504850894213,-0.020720507949591,0.168343201279640,-0.187259793281555,-0.193678885698318));
res += mul(Get(s3,dx,0), float4x4(0.039353776723146,-0.065139353275299,0.015439831651747,0.191091075539589,0.019887505099177,-0.104874916374683,-0.030960129573941,-0.005008428357542,0.128444314002991,0.167376622557640,0.029504226520658,0.076344847679138,0.155619487166405,0.004887184128165,-0.058156099170446,-0.141227036714554));
res += mul(Get(s3,dx,dy), float4x4(0.049832351505756,-0.044302713125944,-0.080717049539089,0.148038566112518,0.067930042743683,0.004348757211119,-0.026235762983561,-0.100750714540482,-0.078061252832413,0.087279945611954,-0.063144847750664,0.269151151180267,0.050539594143629,0.189122557640076,0.027852734550834,-0.076349049806595));
return max(float4(0,0,0,0), res);
}
