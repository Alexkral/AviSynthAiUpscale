sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.005104506388307,-0.030037926509976,0.128202810883522,0.008960700593889,0.064957708120346,-0.067753456532955,0.088705562055111,-0.143915176391602,-0.147356331348419,-0.011212074197829,0.146709874272346,-0.051313530653715,0.143519148230553,0.031258985400200,0.031489092856646,0.138011947274208));
res += mul(Get(s0,-dx,0), float4x4(-0.074352264404297,-0.037913132458925,-0.151191890239716,0.058314047753811,-0.072936668992043,-0.142061486840248,-0.086977154016495,-0.021107479929924,-0.042553082108498,-0.012152782641351,0.042586956173182,-0.022343870252371,-0.195832520723343,0.088879168033600,-0.078926816582680,0.038705192506313));
res += mul(Get(s0,-dx,dy), float4x4(0.052181538194418,-0.038356833159924,-0.026278395205736,-0.046865563839674,0.102391615509987,-0.005761724896729,-0.115160688757896,0.115441679954529,-0.088546730577946,-0.151188284158707,-0.248999893665314,0.138325244188309,0.121222473680973,-0.083025187253952,-0.126434609293938,-0.141870573163033));
res += mul(Get(s0,0,-dy), float4x4(0.184211283922195,-0.173843726515770,0.045971747487783,0.138582199811935,0.242588534951210,-0.101483210921288,0.063356541097164,0.005387241486460,-0.092638790607452,-0.111497491598129,-0.117285899817944,-0.014611615799367,-0.062186449766159,-0.123276062309742,0.010706008411944,0.097730532288551));
res += mul(Get(s0,0,0), float4x4(0.007822679355741,-0.071425475180149,-0.116617068648338,-0.202722772955894,0.182607784867287,-0.172275215387344,-0.029969843104482,-0.093593627214432,-0.022546630352736,0.083178892731667,-0.104037776589394,0.007747129537165,0.085697062313557,-0.061259791254997,-0.000159992530826,-0.090961582958698));
res += mul(Get(s0,0,dy), float4x4(0.113069325685501,-0.148755937814713,-0.036932274699211,-0.003005915787071,-0.084320470690727,-0.021358124911785,-0.085725121200085,-0.191929593682289,0.088633954524994,-0.109554752707481,0.154633834958076,0.083657056093216,0.118344046175480,-0.055014979094267,-0.147986844182014,-0.074734874069691));
res += mul(Get(s0,dx,-dy), float4x4(0.040114618837833,0.059549238532782,-0.012690700590611,0.047935973852873,0.223092153668404,-0.006092476192862,-0.159167423844337,0.027535889297724,0.162424296140671,-0.150630459189415,0.134641587734222,-0.041756592690945,-0.009745732881129,0.116431869566441,0.126140087842941,0.165388301014900));
res += mul(Get(s0,dx,0), float4x4(0.017950065433979,-0.116895973682404,0.119813621044159,-0.080355443060398,-0.132313773036003,0.141687512397766,0.025511668995023,-0.046723216772079,-0.009174937382340,0.138835415244102,0.068939670920372,-0.070590518414974,-0.142867997288704,0.187605246901512,0.029827669262886,0.020125897601247));
res += mul(Get(s0,dx,dy), float4x4(0.098559148609638,0.099413082003593,-0.056163385510445,0.075341276824474,-0.261045694351196,-0.149125605821609,0.024092722684145,0.038981750607491,0.249067068099976,0.000168567930814,0.106327228248119,0.001915719360113,0.094753265380859,0.054188631474972,0.053465802222490,-0.080830290913582));
res += mul(Get(s1,-dx,-dy), float4x4(-0.229777336120605,0.231214627623558,-0.001599090173841,-0.004690821282566,0.146338403224945,0.057760279625654,-0.063184879720211,-0.175172418355942,-0.268328130245209,-0.163525834679604,-0.037214279174805,0.040517188608646,-0.028723970055580,-0.114975079894066,0.088532865047455,-0.044614534825087));
res += mul(Get(s1,-dx,0), float4x4(0.186589300632477,0.185517609119415,-0.041520729660988,-0.116439014673233,0.121230594813824,-0.098418794572353,0.133754342794418,0.043939910829067,-0.000260838365648,-0.070803008973598,0.085738629102707,0.057775370776653,-0.108126416802406,-0.084634125232697,-0.131960690021515,0.011008266359568));
res += mul(Get(s1,-dx,dy), float4x4(0.202849656343460,0.116601705551147,-0.075412817299366,0.093957483768463,0.130685597658157,-0.041856959462166,0.022768445312977,0.067292571067810,-0.127898067235947,-0.020306950435042,0.116197623312473,0.091029070317745,-0.168378397822380,-0.051448423415422,0.130500599741936,0.206944450736046));
res += mul(Get(s1,0,-dy), float4x4(-0.065383128821850,0.052222773432732,0.127554416656494,0.132533848285675,-0.103357270359993,-0.185125812888145,-0.055059947073460,-0.063313655555248,-0.075136542320251,-0.114465340971947,0.016372840851545,-0.176812306046486,0.153661727905273,0.084910221397877,-0.078771308064461,-0.098279476165771));
res += mul(Get(s1,0,0), float4x4(0.086578100919724,0.094343133270741,-0.063715159893036,-0.013468252494931,0.046651564538479,0.155553907155991,0.025053804740310,-0.075329080224037,-0.091065250337124,-0.113827750086784,-0.149559557437897,0.079224959015846,-0.075530245900154,0.129974275827408,-0.118338882923126,0.005021328106523));
res += mul(Get(s1,0,dy), float4x4(0.222303152084351,0.017928533256054,0.016402820125222,-0.037515055388212,0.027680613100529,0.145771563053131,0.042043447494507,-0.099585101008415,-0.221203029155731,-0.083347909152508,0.054110050201416,0.040447425097227,-0.084157861769199,0.001731789438054,0.230666488409042,0.099526509642601));
res += mul(Get(s1,dx,-dy), float4x4(0.023695813491940,0.055050179362297,-0.234284922480583,0.049155075103045,-0.071602411568165,0.088603042066097,-0.180713847279549,-0.010601942427456,-0.080606274306774,-0.076636031270027,-0.014854325912893,-0.000011139105482,-0.176896989345551,0.020887264981866,0.079832792282104,-0.046639282256365));
res += mul(Get(s1,dx,0), float4x4(0.116137549281120,0.187199592590332,-0.122674360871315,0.024186884984374,-0.016976397484541,-0.151072025299072,-0.215837240219116,0.282781600952148,-0.198955565690994,-0.007530355360359,0.035524368286133,-0.118107549846172,-0.046393644064665,0.056486688554287,0.175168097019196,-0.053264975547791));
res += mul(Get(s1,dx,dy), float4x4(0.032971609383821,0.148294314742088,0.047385752201080,0.145094186067581,0.248854920268059,-0.100649483501911,0.049592971801758,0.131864443421364,0.099142372608185,0.041455142199993,0.109888523817062,-0.164105415344238,-0.055089645087719,0.125837340950966,-0.024756789207458,0.160156965255737));
res += mul(Get(s2,-dx,-dy), float4x4(-0.130894809961319,0.153871327638626,-0.012849726714194,0.160048007965088,0.104866415262222,0.023767590522766,0.079006507992744,-0.124488666653633,0.050558254122734,0.183394521474838,-0.164005324244499,-0.025329567492008,-0.085631795227528,-0.037796709686518,-0.135973304510117,-0.078574508428574));
res += mul(Get(s2,-dx,0), float4x4(0.018773624673486,-0.208004429936409,-0.141101628541946,0.004092011135072,0.097358651459217,-0.014614515937865,-0.083621859550476,-0.194860741496086,0.065921440720558,-0.106858119368553,-0.000647587992717,-0.031282383948565,0.016440574079752,-0.180738031864166,0.021091612055898,-0.087759837508202));
res += mul(Get(s2,-dx,dy), float4x4(0.171940758824348,-0.096383519470692,0.004535989370197,-0.042952939867973,0.168650805950165,-0.073560528457165,-0.093082919716835,-0.116406008601189,0.113047063350677,-0.091238722205162,0.146926835179329,0.058444637805223,-0.054346539080143,-0.183520600199699,0.195992216467857,-0.139448374509811));
res += mul(Get(s2,0,-dy), float4x4(-0.041669514030218,0.177474498748779,-0.003946037031710,-0.017323115840554,0.074762672185898,0.070997193455696,-0.071583949029446,-0.023090498521924,0.042857889086008,-0.096365801990032,-0.018657328560948,0.059104021638632,-0.010624940507114,0.127788960933685,0.024385204538703,-0.173546120524406));
res += mul(Get(s2,0,0), float4x4(0.039632536470890,0.146334618330002,0.109884090721607,-0.077651366591454,0.086244001984596,-0.090962439775467,0.094893105328083,-0.010309628210962,0.041859928518534,-0.018309699371457,0.085160322487354,0.069261178374290,-0.094064690172672,-0.093636304140091,-0.137990012764931,-0.115021742880344));
res += mul(Get(s2,0,dy), float4x4(-0.054464612156153,-0.028070582076907,-0.004483314231038,-0.126603960990906,0.040266536176205,0.128690138459206,0.160098001360893,-0.049864381551743,-0.021974314004183,-0.092127077281475,0.027218097820878,-0.066601544618607,0.215477734804153,0.125752195715904,-0.001525416388176,-0.171911060810089));
res += mul(Get(s2,dx,-dy), float4x4(-0.080055072903633,0.032089918851852,0.083877749741077,0.035804577171803,-0.013146160170436,-0.166818231344223,-0.023137966170907,0.078167945146561,-0.081123962998390,-0.154261961579323,0.089123517274857,0.111556604504585,0.079230450093746,-0.123273573815823,0.099669918417931,0.008623169735074));
res += mul(Get(s2,dx,0), float4x4(0.075378961861134,-0.007815813645720,0.120892934501171,-0.069086335599422,0.107060864567757,0.004897785373032,0.010015682317317,0.103229060769081,0.009705751203001,-0.080955930054188,-0.034861866384745,0.081214666366577,0.134053990244865,0.022344242781401,0.037880059331656,-0.093315616250038));
res += mul(Get(s2,dx,dy), float4x4(-0.104299582540989,0.142214730381966,0.216276094317436,-0.010637242347002,-0.035183873027563,0.022666603326797,-0.114994257688522,0.008812779560685,0.066891416907310,0.180607229471207,0.026667939499021,0.005129962693900,-0.145391404628754,0.075870960950851,-0.246082454919815,0.005264502484351));
res += mul(Get(s3,-dx,-dy), float4x4(0.016382019966841,0.160942450165749,0.031662106513977,-0.095584511756897,-0.005479344632477,-0.037106655538082,-0.006276300642639,-0.059224884957075,-0.134044021368027,-0.185449674725533,-0.029078951105475,0.101681269705296,0.083097226917744,-0.185555174946785,0.023896686732769,0.003398182103410));
res += mul(Get(s3,-dx,0), float4x4(0.019424861297011,0.108048036694527,-0.005169487558305,-0.058388024568558,-0.018806725740433,-0.172884911298752,-0.173680230975151,-0.068308226764202,-0.160508051514626,-0.107039116322994,0.053336206823587,0.028289565816522,-0.051284734159708,0.018847404047847,-0.121251918375492,-0.110095389187336));
res += mul(Get(s3,-dx,dy), float4x4(0.089474566280842,0.079493939876556,0.063798956573009,0.132114455103874,0.035298239439726,0.026522252708673,-0.059653889387846,0.051486909389496,-0.070105671882629,-0.067080289125443,-0.062279570847750,-0.102575697004795,0.074139446020126,0.247651875019073,-0.072736173868179,0.050009600818157));
res += mul(Get(s3,0,-dy), float4x4(0.064618706703186,0.104933179914951,-0.056046687066555,0.149871766567230,-0.044721551239491,-0.119147546589375,-0.092705421149731,0.015441671945155,0.030516464263201,-0.244877010583878,-0.167945191264153,-0.068202704191208,0.025661256164312,0.049803443253040,-0.076635159552097,-0.137405708432198));
res += mul(Get(s3,0,0), float4x4(-0.137364417314529,-0.038756724447012,0.001664834795520,0.042563237249851,-0.213025495409966,-0.047059889882803,0.014484041370451,-0.137516885995865,-0.122668594121933,-0.045344006270170,0.080730490386486,0.007527569308877,0.090917296707630,0.092614606022835,-0.094794161617756,0.054237175732851));
res += mul(Get(s3,0,dy), float4x4(-0.092356391251087,-0.155276551842690,-0.048050194978714,-0.255844712257385,0.178137019276619,0.028524970635772,-0.073935575783253,0.054874315857887,0.153592646121979,0.302680253982544,0.133820608258247,-0.062498658895493,-0.203748270869255,-0.141625210642815,0.208059459924698,0.056569319218397));
res += mul(Get(s3,dx,-dy), float4x4(0.058545548468828,-0.021862931549549,0.082931481301785,0.011727801524103,-0.074425384402275,-0.042925849556923,0.045980978757143,-0.011373951099813,-0.160013779997826,-0.271992743015289,-0.194525048136711,-0.010381203144789,-0.063241690397263,-0.139389753341675,-0.049556609243155,-0.022683396935463));
res += mul(Get(s3,dx,0), float4x4(0.051691859960556,-0.181632399559021,-0.071652002632618,0.052989844232798,-0.116885058581829,0.102573871612549,-0.039055041968822,-0.003265542443842,-0.248125389218330,0.230503812432289,-0.231875941157341,0.017639527097344,0.152115449309349,-0.016601717099547,0.101579248905182,0.003073691390455));
res += mul(Get(s3,dx,dy), float4x4(-0.140746593475342,-0.079270787537098,-0.096061706542969,0.012900667265058,0.075500935316086,0.217788964509964,-0.005343830678612,0.092260554432869,0.158383056521416,-0.021982409060001,0.026752879843116,-0.157579094171524,-0.103036247193813,-0.072694569826126,-0.036684043705463,-0.088547021150589));
return max(float4(0,0,0,0), res);
}
