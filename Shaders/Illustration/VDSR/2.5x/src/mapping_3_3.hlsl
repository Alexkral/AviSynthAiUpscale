sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.038049802184105,0.063279651105404,0.060793988406658,0.119492344558239,0.131475597620010,0.038973852992058,0.128955736756325,-0.052052855491638,0.297818422317505,-0.075716584920883,-0.174675405025482,-0.026755200698972,0.000939495454077,-0.175326719880104,-0.016664933413267,0.177364751696587));
res += mul(Get(s0,-dx,0), float4x4(-0.062316868454218,-0.061187449842691,0.031270321458578,0.001012588851154,0.091552294790745,-0.016477337107062,-0.260529041290283,0.021366933360696,0.068625308573246,0.038204234093428,0.220541492104530,0.086572900414467,0.096585549414158,0.178390562534332,0.201523646712303,0.126807495951653));
res += mul(Get(s0,-dx,dy), float4x4(0.030372673645616,0.119570970535278,-0.159710213541985,0.168669611215591,-0.091052226722240,-0.138587087392807,0.048300661146641,-0.027442961931229,0.300329625606537,-0.169590801000595,0.138338238000870,0.050603423267603,0.075369119644165,-0.019230911508203,-0.215953245759010,-0.267733871936798));
res += mul(Get(s0,0,-dy), float4x4(0.186422511935234,-0.218472540378571,-0.227041795849800,-0.026206662878394,-0.087602384388447,0.167879134416580,-0.027262058109045,0.084497623145580,-0.139454230666161,-0.033313203603029,0.070574343204498,0.081061281263828,-0.001322804018855,0.087145239114761,-0.026869086548686,0.093173414468765));
res += mul(Get(s0,0,0), float4x4(0.007897561416030,-0.260175198316574,-0.048495665192604,0.113111786544323,0.014065110124648,0.010977665893734,-0.078469663858414,0.046938195824623,0.056940417736769,-0.268173575401306,-0.031927835196257,-0.066586114466190,0.017381185665727,0.076129324734211,0.019614178687334,-0.050761479884386));
res += mul(Get(s0,0,dy), float4x4(-0.094893619418144,-0.112128451466560,-0.252964705228806,0.104052819311619,-0.062174625694752,0.045128840953112,-0.123171836137772,-0.023717518895864,0.176136583089828,0.145631805062294,-0.015826623886824,0.244864940643311,-0.067213863134384,0.126001074910164,-0.112773820757866,0.099662467837334));
res += mul(Get(s0,dx,-dy), float4x4(0.051596812903881,0.116356804966927,0.065568134188652,0.153636485338211,0.056548833847046,0.125505104660988,-0.134677395224571,-0.077750042080879,0.174231320619583,-0.113179489970207,-0.044206760823727,-0.041910648345947,0.069806717336178,-0.073396310210228,-0.070903114974499,0.083816751837730));
res += mul(Get(s0,dx,0), float4x4(-0.116533346474171,-0.003798747435212,0.195331096649170,0.054396469146013,0.098120838403702,-0.045969352126122,0.091573767364025,0.063310660421848,-0.054113369435072,0.078480318188667,-0.135070383548737,-0.058972425758839,0.170817345380783,0.098745130002499,0.161350369453430,-0.291695088148117));
res += mul(Get(s0,dx,dy), float4x4(-0.041765831410885,-0.121285021305084,-0.022405022755265,0.009239546023309,-0.241731822490692,0.005747746676207,-0.292108565568924,-0.130567044019699,0.131383150815964,-0.227891087532043,-0.139951020479202,-0.046039987355471,-0.079552069306374,0.035776611417532,-0.049769915640354,-0.008746886625886));
res += mul(Get(s1,-dx,-dy), float4x4(-0.027233893051744,-0.027981463819742,-0.020124012604356,-0.025621173903346,-0.234884068369865,0.211074352264404,0.056502018123865,0.001383612281643,-0.043363157659769,0.195532992482185,0.064599275588989,-0.036375798285007,0.184954732656479,-0.026325942948461,-0.222701549530029,-0.190905764698982));
res += mul(Get(s1,-dx,0), float4x4(-0.041521921753883,0.029626088216901,-0.045714493840933,0.178433194756508,-0.018166935071349,-0.064966216683388,-0.103758439421654,-0.155008375644684,0.076968580484390,-0.136243999004364,0.050983436405659,-0.061858341097832,-0.088661454617977,-0.284828513860703,0.075534902513027,-0.071598313748837));
res += mul(Get(s1,-dx,dy), float4x4(-0.124140113592148,0.126955822110176,-0.138638928532600,0.065278343856335,0.011306824162602,-0.189901605248451,0.187395691871643,-0.081988617777824,-0.040347319096327,-0.130467593669891,-0.147204667329788,0.228351593017578,0.030102156102657,-0.080248966813087,-0.064838163554668,-0.042322658002377));
res += mul(Get(s1,0,-dy), float4x4(-0.097044475376606,0.136607855558395,-0.000522613932844,-0.040050480514765,-0.212250009179115,0.136240646243095,-0.021515719592571,0.038244359195232,-0.239647820591927,-0.054259773343801,0.109213411808014,-0.021281560882926,0.096241697669029,-0.133661001920700,-0.146666064858437,0.012637218460441));
res += mul(Get(s1,0,0), float4x4(0.130722478032112,-0.049613535404205,0.087973624467850,-0.027133777737617,0.019203621894121,0.049861941486597,-0.099948458373547,-0.057641461491585,-0.154521465301514,0.069584921002388,0.000976961106062,-0.035189040005207,0.086363032460213,0.137707978487015,-0.231050089001656,-0.175411880016327));
res += mul(Get(s1,0,dy), float4x4(-0.038267668336630,-0.040041763335466,-0.044414706528187,0.130408301949501,0.099199019372463,-0.125777184963226,-0.016187731176615,0.169536039233208,-0.022696617990732,-0.067629553377628,-0.055318884551525,-0.100692041218281,0.106087200343609,-0.025439925491810,-0.213730528950691,-0.242056652903557));
res += mul(Get(s1,dx,-dy), float4x4(-0.043311521410942,0.062862627208233,0.094145856797695,-0.108698412775993,0.049024466425180,-0.018968766555190,0.177957698702812,-0.007970321923494,-0.120740160346031,-0.014532653614879,0.000472793239169,0.154950752854347,-0.089310459792614,-0.063107267022133,-0.043347742408514,-0.124310150742531));
res += mul(Get(s1,dx,0), float4x4(0.021054180338979,-0.119862355291843,0.022962110117078,-0.078184299170971,-0.038529824465513,-0.023711936548352,-0.205967947840691,0.141847178339958,0.069187365472317,-0.170387595891953,-0.117751330137253,0.142774388194084,0.020404456183314,0.017461653798819,-0.127161577343941,-0.197877615690231));
res += mul(Get(s1,dx,dy), float4x4(-0.038748484104872,0.040390480309725,-0.123291753232479,0.060217648744583,-0.022646326571703,0.011766246519983,0.116121351718903,-0.049346469342709,-0.154225423932076,0.061831530183554,0.012463240884244,0.079465486109257,0.043236371129751,-0.062589399516582,-0.084027849137783,0.136746406555176));
res += mul(Get(s2,-dx,-dy), float4x4(0.059274062514305,-0.040992546826601,0.123425669968128,-0.133847534656525,0.106053359806538,-0.075072497129440,-0.057644084095955,-0.120809547603130,-0.214293777942657,-0.044798687100410,-0.069717973470688,0.016873341053724,-0.010738237760961,-0.020792130380869,-0.165048211812973,-0.135434865951538));
res += mul(Get(s2,-dx,0), float4x4(0.034176763147116,-0.020213479176164,0.169391334056854,-0.096941828727722,-0.109051823616028,0.078031070530415,-0.020952383056283,-0.025502549484372,-0.082295298576355,-0.082976356148720,0.145656347274780,-0.089844860136509,-0.022894147783518,-0.009681425057352,0.083116389811039,0.164684221148491));
res += mul(Get(s2,-dx,dy), float4x4(-0.157972514629364,0.187733441591263,0.111047483980656,-0.091321736574173,-0.053574591875076,-0.056177511811256,-0.028995197266340,-0.024566847831011,0.092795111238956,0.016675140708685,-0.050275783985853,-0.143920376896858,0.134984418749809,-0.021578470245004,-0.075206317007542,0.103443138301373));
res += mul(Get(s2,0,-dy), float4x4(-0.001418571802787,0.068023487925529,0.063480645418167,-0.295796006917953,0.054091032594442,-0.353463202714920,-0.065806433558464,-0.068514183163643,-0.028204867616296,0.160320878028870,-0.102968096733093,-0.183854773640633,0.069768875837326,-0.004367211367935,-0.016239093616605,0.034544643014669));
res += mul(Get(s2,0,0), float4x4(0.093003854155540,-0.043690182268620,-0.255682110786438,-0.072779566049576,-0.160985484719276,0.090490393340588,-0.086951412260532,-0.211568668484688,0.006140303332359,-0.122233092784882,0.060700751841068,-0.083469189703465,0.070457682013512,-0.080809533596039,0.226156592369080,-0.070208974182606));
res += mul(Get(s2,0,dy), float4x4(-0.037089411169291,0.057543355971575,0.021317880600691,-0.062525279819965,0.037379596382380,0.174333631992340,-0.000356326432666,-0.155557155609131,0.070831604301929,-0.015393677167594,0.257580339908600,-0.065951913595200,-0.027880068868399,0.026224832981825,0.010070006363094,-0.004928549751639));
res += mul(Get(s2,dx,-dy), float4x4(0.125443309545517,0.041458949446678,0.017455494031310,0.131573826074600,0.131625920534134,0.030717372894287,-0.071546345949173,-0.227149561047554,-0.074566937983036,-0.011714451014996,0.078951060771942,0.143781960010529,0.001944510382600,0.183149173855782,-0.124320626258850,0.045118417590857));
res += mul(Get(s2,dx,0), float4x4(-0.036940328776836,-0.054667595773935,0.007412553299218,-0.000421507138526,0.017584448680282,0.043650373816490,-0.010217592120171,-0.094232812523842,0.176034882664680,0.003879035357386,0.190411135554314,0.009977852925658,-0.149621427059174,-0.018891904503107,0.034411832690239,0.177750140428543));
res += mul(Get(s2,dx,dy), float4x4(-0.076277665793896,0.049984674900770,-0.061767417937517,0.082333289086819,-0.080807775259018,0.124851964414120,-0.162930965423584,-0.045295331627131,0.092936038970947,-0.083468019962311,0.010812205262482,0.104706011712551,0.001387999509461,0.009743345901370,0.025224769487977,0.293328881263733));
res += mul(Get(s3,-dx,-dy), float4x4(-0.018943456932902,-0.067493349313736,0.003372520441189,-0.027467871084809,0.018273482099175,-0.011426055803895,-0.109670326113701,0.083170488476753,-0.092464067041874,0.098578006029129,-0.050503652542830,-0.002508509438485,0.025641541928053,0.018514705821872,-0.152792423963547,-0.077581763267517));
res += mul(Get(s3,-dx,0), float4x4(0.075253948569298,-0.006414206698537,0.019300665706396,0.042200617492199,0.099895969033241,0.082249276340008,-0.030027713626623,0.055121928453445,-0.115905843675137,-0.098018415272236,0.106311336159706,-0.180835455656052,-0.075260631740093,-0.037653028964996,-0.105681657791138,0.011188545264304));
res += mul(Get(s3,-dx,dy), float4x4(-0.015001143328846,0.139284998178482,0.045584116131067,0.084653183817863,-0.297413676977158,-0.087309271097183,-0.015338487923145,0.022972676903009,-0.297640591859818,0.105570204555988,-0.229655176401138,-0.074407972395420,-0.002148150466383,0.122117511928082,0.041048917919397,-0.042083382606506));
res += mul(Get(s3,0,-dy), float4x4(-0.146944642066956,0.003406026633456,0.098412536084652,-0.010915545746684,-0.039232909679413,-0.102218158543110,0.099303029477596,0.192682132124901,-0.228417351841927,0.225913390517235,-0.029887940734625,0.068355605006218,0.034058555960655,-0.155783534049988,0.103905022144318,-0.002405734732747));
res += mul(Get(s3,0,0), float4x4(-0.142908737063408,0.029991744086146,-0.001015310874209,-0.079873949289322,0.098418675363064,-0.014950338751078,0.183369159698486,0.183395966887474,0.075807206332684,0.007831566967070,-0.084173932671547,-0.009964795783162,0.183801025152206,-0.028367146849632,0.060802169144154,-0.047470316290855));
res += mul(Get(s3,0,dy), float4x4(-0.150987595319748,-0.129515349864960,0.089948490262032,0.055620782077312,0.088246241211891,0.149238988757133,0.180732339620590,-0.121462456882000,-0.250555902719498,-0.045944005250931,0.073120385408401,0.018015932291746,-0.097955480217934,-0.164320334792137,-0.062871627509594,-0.093290157616138));
res += mul(Get(s3,dx,-dy), float4x4(-0.047841463238001,0.072737209498882,0.311696141958237,0.175528720021248,0.014725563116372,-0.156014576554298,0.025515761226416,-0.090818680822849,0.002121843397617,0.270550698041916,-0.055583097040653,-0.020519666373730,-0.118964754045010,-0.064846999943256,-0.202409863471985,-0.073519758880138));
res += mul(Get(s3,dx,0), float4x4(0.098010510206223,0.033914387226105,-0.068091303110123,-0.082836478948593,-0.003290582215413,-0.034668385982513,0.100111149251461,0.144780993461609,-0.087937235832214,0.016655975952744,0.109950326383114,0.293923944234848,-0.025774460285902,0.074651710689068,0.002223976887763,-0.146976143121719));
res += mul(Get(s3,dx,dy), float4x4(0.203247934579849,-0.152343466877937,0.072222560644150,-0.105852015316486,-0.087402954697609,0.074697300791740,0.144817799329758,0.061121061444283,-0.105782911181450,-0.048272471874952,0.039619930088520,-0.080680608749390,-0.051071163266897,-0.008891908451915,-0.146103307604790,0.122477866709232));
return max(float4(0,0,0,0), res);
}
