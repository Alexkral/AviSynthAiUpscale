sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.091527551412582,0.037436898797750,0.051656883209944,0.012121210806072,0.103930540382862,0.003244340186939,0.051038883626461,-0.036373294889927,-0.193149715662003,-0.137156292796135,0.045711107552052,-0.094229646027088,0.039713878184557,-0.081885904073715,-0.066604137420654,0.011488178744912));
res += mul(Get(s0,-dx,0), float4x4(-0.261231124401093,-0.071076370775700,-0.145759195089340,-0.045232921838760,-0.083327062427998,-0.120823919773102,-0.166160196065903,-0.124333761632442,-0.127284646034241,0.003281907178462,-0.122782930731773,-0.113827466964722,0.106457762420177,0.016372634097934,0.044398006051779,0.084752827882767));
res += mul(Get(s0,-dx,dy), float4x4(-0.166845142841339,-0.111373186111450,-0.022382754832506,0.134794175624847,0.144150093197823,0.194881409406662,-0.134290248155594,0.052032291889191,-0.060566537082195,-0.093381419777870,0.032173324376345,-0.016257865354419,0.202071189880371,0.028210965916514,0.138780176639557,0.011760755442083));
res += mul(Get(s0,0,-dy), float4x4(0.076907105743885,-0.074793025851250,0.106499955058098,0.014195027761161,0.418158054351807,0.197330012917519,-0.085030473768711,-0.028375469148159,0.080996520817280,-0.045368153601885,-0.163180053234100,0.059717904776335,0.173264712095261,-0.009668586775661,0.252364188432693,0.052092347294092));
res += mul(Get(s0,0,0), float4x4(0.215779617428780,0.205123975872993,-0.231834262609482,-0.028932832181454,0.420948237180710,0.371822774410248,-0.097447246313095,-0.070398785173893,0.042786415666342,-0.007880280725658,-0.038972474634647,0.265146553516388,0.133844777941704,0.085871018469334,0.364902645349503,0.001174306264147));
res += mul(Get(s0,0,dy), float4x4(0.023364465683699,-0.011338185518980,-0.020527720451355,0.175611391663551,0.075450584292412,0.142361521720886,0.179003611207008,0.084398120641708,0.095459498465061,-0.040356606245041,0.069590836763382,0.063991643488407,0.208692818880081,0.049803346395493,0.105301678180695,0.068275094032288));
res += mul(Get(s0,dx,-dy), float4x4(-0.083467565476894,-0.048640988767147,-0.005913292989135,-0.066825643181801,0.057633627206087,-0.097010768949986,0.049570582807064,-0.033328682184219,0.058234225958586,0.024056736379862,-0.083849415183067,0.017033860087395,0.013791512697935,-0.050714511424303,-0.029844196513295,-0.000489949248731));
res += mul(Get(s0,dx,0), float4x4(-0.008324051275849,0.039631351828575,-0.054078381508589,0.022776043042541,0.091774247586727,-0.114182643592358,0.130575299263000,-0.097721189260483,-0.099345073103905,-0.143867269158363,0.007825986482203,-0.093800395727158,0.023502029478550,-0.027194058522582,0.103566110134125,-0.032584615051746));
res += mul(Get(s0,dx,dy), float4x4(-0.042046364396811,0.006078639999032,-0.026522113010287,-0.048724032938480,-0.048220023512840,-0.209208622574806,-0.075599312782288,0.018617562949657,-0.099725037813187,-0.019695550203323,-0.036834597587585,0.069998055696487,-0.000024281360311,-0.077024623751640,-0.010146209970117,0.036159943789244));
res += mul(Get(s1,-dx,-dy), float4x4(-0.052614618092775,0.134971603751183,-0.142670556902885,-0.085510931909084,0.132264375686646,-0.135394573211670,-0.047554690390825,0.060830574482679,-0.054627839475870,-0.123780123889446,0.054807387292385,0.039869796484709,-0.059746913611889,-0.008551337756217,-0.092236630618572,0.127854168415070));
res += mul(Get(s1,-dx,0), float4x4(-0.169523566961288,-0.040096674114466,-0.025271739810705,0.110440909862518,0.107597440481186,-0.041152164340019,-0.082344852387905,0.039872955530882,0.006024070549756,0.000428377359640,0.246826738119125,-0.005465907976031,-0.134883269667625,0.040425419807434,0.216140136122704,0.035964481532574));
res += mul(Get(s1,-dx,dy), float4x4(-0.139211177825928,0.100716993212700,-0.014871553517878,0.011184537783265,0.033422909677029,-0.086020715534687,-0.109401546418667,0.052034813910723,-0.177980706095695,0.099477775394917,-0.045852459967136,-0.000766011013184,0.171836748719215,0.185730576515198,-0.004792628809810,-0.023245818912983));
res += mul(Get(s1,0,-dy), float4x4(0.116854809224606,0.045752409845591,-0.098005391657352,-0.080711282789707,0.052305556833744,-0.060523234307766,-0.034784015268087,0.065714009106159,-0.141257405281067,-0.223004892468452,0.468875616788864,0.071013331413269,0.136743888258934,-0.008637775667012,0.104524657130241,0.167682513594627));
res += mul(Get(s1,0,0), float4x4(0.000790766905993,0.123310565948486,-0.149747848510742,0.186749368906021,0.006050388328731,0.051871884614229,0.047381538897753,0.007984741590917,-0.104627542197704,-0.115773536264896,-0.078630350530148,0.001636027824134,-0.096296027302742,-0.012360278517008,0.158007606863976,-0.042571257799864));
res += mul(Get(s1,0,dy), float4x4(-0.010329822078347,-0.151482805609703,0.135434940457344,0.068321444094181,0.110553152859211,-0.033158570528030,-0.047008518129587,0.002448234707117,-0.071365714073181,0.043956324458122,-0.080940850079060,0.111002430319786,-0.093927830457687,0.072134025394917,0.359316587448120,-0.108387008309364));
res += mul(Get(s1,dx,-dy), float4x4(-0.138741597533226,-0.005741817876697,-0.095097608864307,-0.048809260129929,-0.061578061431646,-0.080728456377983,-0.158565819263458,0.109189875423908,-0.147361829876900,-0.283110857009888,-0.013663278892636,-0.073903389275074,0.028090288862586,-0.064704440534115,0.157671704888344,0.105789534747601));
res += mul(Get(s1,dx,0), float4x4(0.114077784121037,0.249568790197372,0.042839344590902,0.048276260495186,-0.046953584998846,0.070390745997429,-0.065339192748070,-0.021308688446879,-0.118032947182655,-0.021042644977570,-0.175338670611382,-0.044311687350273,0.147066205739975,0.148213893175125,0.035645630210638,0.225335091352463));
res += mul(Get(s1,dx,dy), float4x4(0.173507764935493,0.010037167929113,-0.044022034853697,0.073065333068371,0.082573480904102,0.075556516647339,-0.140535786747932,0.016512319445610,-0.085412427783012,0.144474864006042,-0.062098186463118,0.103197604417801,0.150636598467827,0.151468232274055,0.035293489694595,0.131943002343178));
res += mul(Get(s2,-dx,-dy), float4x4(-0.050398316234350,0.141962856054306,0.021588968113065,0.084381602704525,-0.134440958499908,0.114922396838665,-0.078500971198082,-0.022323064506054,-0.034684069454670,-0.049524612724781,0.191030502319336,0.117473930120468,0.264272212982178,0.364026993513107,-0.128121465444565,0.019106425344944));
res += mul(Get(s2,-dx,0), float4x4(-0.035885393619537,0.135524705052376,0.245002329349518,0.090321801602840,-0.201684564352036,0.286295741796494,-0.100936338305473,-0.019606053829193,0.053774259984493,0.036260992288589,0.115026757121086,-0.034479051828384,0.272539496421814,0.272334486246109,-0.044855620712042,0.037992436438799));
res += mul(Get(s2,-dx,dy), float4x4(-0.091938436031342,-0.064710550010204,0.113096050918102,-0.045274842530489,-0.044494416564703,0.014591046608984,-0.059331241995096,0.019520523026586,0.102140344679356,0.197593972086906,-0.177045524120331,0.018671918660402,0.023976899683475,0.102819956839085,-0.055755730718374,-0.047272548079491));
res += mul(Get(s2,0,-dy), float4x4(-0.090509086847305,0.103238284587860,0.170467570424080,0.042190093547106,-0.110132917761803,0.048838928341866,-0.023184582591057,-0.058160938322544,-0.015735484659672,-0.119538903236389,0.165655523538589,0.051953718066216,0.051707133650780,0.144959285855293,-0.103557325899601,0.044436823576689));
res += mul(Get(s2,0,0), float4x4(-0.150755047798157,0.008082939311862,0.139471158385277,0.066581077873707,-0.080078974366188,0.092683285474777,-0.052345335483551,-0.025872230529785,-0.017762500792742,0.001084576826543,0.113533318042755,-0.087751321494579,0.117679454386234,-0.026805492118001,0.014497471041977,0.032664243131876));
res += mul(Get(s2,0,dy), float4x4(0.024946266785264,0.057838480919600,-0.030614778399467,0.135445371270180,-0.133148103952408,-0.084607250988483,0.207871958613396,0.034072272479534,0.003711278783157,0.190947532653809,-0.018883859738708,0.035731937736273,0.228156030178070,0.038155391812325,-0.046232990920544,-0.011719403788447));
res += mul(Get(s2,dx,-dy), float4x4(-0.089956298470497,-0.085798978805542,0.182147637009621,0.104896515607834,-0.176094591617584,-0.023525413125753,-0.103888042271137,-0.041727706789970,0.044111963361502,0.032415278255939,-0.002549754921347,0.070399269461632,-0.055322512984276,-0.030930602923036,0.035494450479746,0.110808297991753));
res += mul(Get(s2,dx,0), float4x4(-0.152327239513397,-0.058637298643589,0.092653296887875,0.206498593091965,-0.080757811665535,0.116760388016701,0.019812038168311,-0.065673403441906,0.122161515057087,0.130800098180771,0.036302436143160,0.074298106133938,-0.123010978102684,-0.136676862835884,-0.052692808210850,0.027335103601217));
res += mul(Get(s2,dx,dy), float4x4(-0.024321904405951,0.060564309358597,-0.093244023621082,0.112451478838921,-0.131636455655098,-0.091778255999088,-0.014615834690630,-0.039132427424192,0.067835338413715,-0.092755965888500,-0.000207257049624,0.036492954939604,0.029307764023542,0.012494361959398,0.026675188913941,-0.052006024867296));
res += mul(Get(s3,-dx,-dy), float4x4(0.096126437187195,-0.109160281717777,-0.036142192780972,0.031003357842565,-0.106249414384365,0.048700787127018,0.129992842674255,-0.102961122989655,-0.102655768394470,-0.058376811444759,-0.033589541912079,-0.009000804275274,-0.064374186098576,-0.023614704608917,0.295432984828949,-0.064022518694401));
res += mul(Get(s3,-dx,0), float4x4(-0.047131069004536,-0.111143559217453,-0.063183777034283,-0.032515540719032,-0.199190512299538,-0.093918621540070,-0.173731669783592,-0.118383347988129,0.104200378060341,0.273527085781097,-0.106308735907078,0.118246227502823,-0.136379271745682,0.059843696653843,0.069839537143707,-0.095621228218079));
res += mul(Get(s3,-dx,dy), float4x4(-0.111802555620670,-0.198860883712769,-0.093713238835335,-0.053551789373159,-0.184815332293510,-0.042479190975428,-0.091502964496613,-0.069685712456703,0.029430888593197,0.085258863866329,-0.003198022022843,0.145344197750092,-0.114607080817223,-0.018914634361863,-0.008006443269551,0.004479689523578));
res += mul(Get(s3,0,-dy), float4x4(0.053465832024813,0.028889045119286,0.030106198042631,-0.012415680103004,0.199116021394730,0.055612873286009,-0.051005113869905,-0.247072964906693,-0.015138207934797,-0.001188235008158,-0.043265022337437,0.148232191801071,0.024709548801184,-0.049026217311621,-0.135138466954231,-0.059332910925150));
res += mul(Get(s3,0,0), float4x4(0.324982613325119,0.271023511886597,-0.088312797248363,0.023592624813318,0.139829054474831,0.065604463219643,-0.209274917840958,-0.152405217289925,0.090549565851688,0.041121907532215,0.166812703013420,0.070074155926704,-0.066835910081863,0.113685794174671,-0.102835170924664,-0.072215653955936));
res += mul(Get(s3,0,dy), float4x4(0.000151669752086,-0.080476120114326,0.057248782366514,-0.059262298047543,0.109167359769344,0.017122846096754,0.132628694176674,-0.145916089415550,0.155158951878548,0.051156654953957,0.121489986777306,0.081676304340363,-0.193663299083710,0.048524700105190,0.180721014738083,-0.017828835174441));
res += mul(Get(s3,dx,-dy), float4x4(0.011139610782266,-0.007049276027828,-0.056375119835138,0.024047574028373,-0.041526295244694,-0.038494642823935,-0.040261838585138,-0.175356537103653,0.191811472177505,0.236900135874748,0.079365834593773,0.149453729391098,0.006968268193305,-0.031310137361288,-0.178286150097847,0.093688175082207));
res += mul(Get(s3,dx,0), float4x4(0.133552491664886,0.040982853621244,0.065907023847103,-0.032628461718559,0.165875092148781,0.215501382946968,-0.029278732836246,-0.117560319602489,0.132759317755699,0.168510586023331,0.184960305690765,0.112066783010960,0.113983847200871,0.019639810547233,0.043212980031967,0.072821840643883));
res += mul(Get(s3,dx,dy), float4x4(0.138744786381721,0.063700832426548,-0.136256635189056,0.003745484165847,0.006366156507283,-0.008949943818152,0.111446812748909,-0.081739112734795,0.140239462256432,0.226143032312393,0.015686780214310,0.077505514025688,-0.060762990266085,0.024294961243868,0.091942012310028,0.044930379837751));
return max(float4(0,0,0,0), res);
}
