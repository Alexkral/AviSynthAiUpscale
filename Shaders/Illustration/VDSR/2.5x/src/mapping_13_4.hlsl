sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.062350034713745,-0.005482216831297,0.078852459788322,-0.046512480825186,-0.035704921931028,0.025074599310756,0.074199579656124,0.112225681543350,-0.183231234550476,-0.059171807020903,0.136216685175896,-0.025754921138287,-0.101344607770443,-0.095883138477802,0.048465624451637,-0.155663862824440));
res += mul(Get(s0,-dx,0), float4x4(-0.024226337671280,-0.131179362535477,-0.056732788681984,0.147950902581215,0.139044567942619,-0.100598812103271,0.224481746554375,0.083663880825043,-0.127276912331581,0.067822784185410,0.021922424435616,-0.060804858803749,-0.068467557430267,-0.084329500794411,0.126411080360413,-0.091571375727654));
res += mul(Get(s0,-dx,dy), float4x4(0.070491850376129,-0.063284054398537,0.099016740918159,-0.141447752714157,-0.022018274292350,-0.094251364469528,-0.014385513961315,0.038414396345615,-0.095215275883675,-0.035493057221174,0.044316973537207,-0.026313804090023,0.001128454925492,0.019775811582804,0.082194909453392,0.060187190771103));
res += mul(Get(s0,0,-dy), float4x4(0.114539951086044,-0.137657657265663,-0.015841493383050,0.105619184672832,-0.127923771739006,0.037648662924767,-0.253562808036804,-0.025233492255211,0.050110090523958,0.061737883836031,-0.215775161981583,0.073265410959721,0.040600903332233,-0.133815407752991,-0.054525028914213,0.203212901949883));
res += mul(Get(s0,0,0), float4x4(0.032339502125978,0.033381689339876,0.141074270009995,0.125227183103561,-0.090286850929260,-0.034818470478058,0.185558244585991,-0.030032055452466,-0.045981559902430,0.272289872169495,-0.063771121203899,0.075109072029591,-0.157806321978569,-0.007729959674180,-0.044704787433147,-0.147633448243141));
res += mul(Get(s0,0,dy), float4x4(-0.007014567032456,-0.055597573518753,-0.023580640554428,0.131508395075798,0.140668407082558,0.067955389618874,-0.153397738933563,0.114142216742039,0.070657938718796,0.080942973494530,0.056265931576490,0.025140454992652,0.077154517173767,-0.092948228120804,-0.034061893820763,0.019615182653069));
res += mul(Get(s0,dx,-dy), float4x4(-0.084052704274654,-0.093989238142967,-0.048896767199039,0.074966549873352,0.017496675252914,-0.079610176384449,-0.043264854699373,-0.088787652552128,0.036540504544973,0.083158545196056,0.009957249276340,0.001016958616674,0.062963813543320,0.043067906051874,-0.055114220827818,-0.123310379683971));
res += mul(Get(s0,dx,0), float4x4(0.002999400021508,-0.266588538885117,-0.155141532421112,-0.020601939409971,0.075724013149738,0.036270320415497,0.053342361003160,-0.051694065332413,0.218960374593735,0.063126385211945,0.157656624913216,-0.088099285960197,0.036474689841270,-0.028258420526981,0.028899570927024,-0.051973313093185));
res += mul(Get(s0,dx,dy), float4x4(0.011062397621572,-0.027396881952882,0.190445423126221,0.089035890996456,0.018520360812545,-0.018447410315275,0.253539323806763,-0.033726148307323,-0.128495305776596,0.002318221377209,-0.159923940896988,0.050030022859573,-0.167465627193451,-0.108148336410522,0.006545950192958,0.051092348992825));
res += mul(Get(s1,-dx,-dy), float4x4(-0.036573406308889,0.097375564277172,0.103816762566566,0.109975002706051,-0.005766312591732,-0.075558118522167,-0.078751727938652,-0.112753167748451,-0.063224844634533,0.097613111138344,-0.073523871600628,-0.021373951807618,-0.151218533515930,0.124717451632023,-0.206871360540390,0.001247513224371));
res += mul(Get(s1,-dx,0), float4x4(-0.099872738122940,0.138213410973549,0.067889809608459,-0.021811325103045,-0.003368149045855,-0.173699274659157,0.059390146285295,-0.068561233580112,-0.059559125453234,0.102699473500252,0.129787340760231,-0.135674610733986,-0.134187221527100,0.007359822280705,0.063686199486256,0.030162818729877));
res += mul(Get(s1,-dx,dy), float4x4(0.019134657457471,-0.109464913606644,-0.044435843825340,-0.068016938865185,0.118553817272186,0.038829136639833,0.218541532754898,-0.063766568899155,0.125167116522789,0.013122221454978,0.022056749090552,-0.033828441053629,0.015525411814451,-0.160124078392982,0.005457873456180,-0.190784856677055));
res += mul(Get(s1,0,-dy), float4x4(0.112169429659843,-0.047889333218336,-0.034292571246624,-0.047766242176294,0.008481563068926,0.112332783639431,-0.028576180338860,-0.143989399075508,-0.149947851896286,-0.013476114720106,-0.088000409305096,0.137426465749741,-0.237076416611671,0.032442148774862,0.000757219968364,0.017124274745584));
res += mul(Get(s1,0,0), float4x4(-0.085420928895473,0.250132113695145,0.029942223802209,0.023361552506685,0.294287472963333,-0.068809188902378,0.082921624183655,-0.051209658384323,0.065027110278606,0.034503921866417,-0.055115960538387,0.160837426781654,0.018832188099623,-0.054597593843937,0.032547160983086,-0.043139476329088));
res += mul(Get(s1,0,dy), float4x4(0.138494461774826,-0.092959083616734,-0.025527341291308,0.034196779131889,0.154201820492744,-0.014618838205934,0.003000322263688,0.094405271112919,-0.063576765358448,0.198724970221519,-0.112933278083801,0.038587912917137,-0.032772347331047,-0.179955169558525,-0.203590288758278,-0.079711757600307));
res += mul(Get(s1,dx,-dy), float4x4(-0.030265010893345,-0.112234964966774,0.215707316994667,0.056943401694298,0.039888080209494,-0.015030442737043,-0.014030745252967,-0.046805895864964,-0.023828441277146,-0.004971499554813,-0.132564678788185,0.020379703491926,-0.120675981044769,0.030419228598475,0.051231790333986,-0.106547750532627));
res += mul(Get(s1,dx,0), float4x4(-0.121334947645664,-0.054212559014559,0.057608380913734,-0.180652320384979,0.078159473836422,-0.114918515086174,-0.001959462650120,0.041127666831017,0.085391603410244,-0.090475685894489,0.043031707406044,0.026169471442699,0.365495294332504,0.042471203953028,0.025063449516892,-0.183865696191788));
res += mul(Get(s1,dx,dy), float4x4(-0.040346972644329,-0.025225805118680,0.185480773448944,-0.032010812312365,-0.113987393677235,0.055802810937166,-0.087996661663055,-0.003939355723560,0.045392829924822,0.115324206650257,0.029907774180174,-0.018468551337719,-0.034584727138281,-0.082988604903221,-0.076209269464016,0.094678729772568));
res += mul(Get(s2,-dx,-dy), float4x4(-0.085534378886223,0.153605222702026,-0.001367629738525,0.045463692396879,-0.194124072790146,-0.049158643931150,-0.104842707514763,-0.008811064064503,0.038284033536911,-0.222465395927429,0.091083772480488,-0.133361086249352,0.013901884667575,0.108490966260433,-0.007169144693762,-0.014584292657673));
res += mul(Get(s2,-dx,0), float4x4(0.043971698731184,-0.040871728211641,0.086167663335800,-0.032797645777464,0.135255247354507,-0.107597462832928,-0.149059638381004,-0.019144045189023,0.029901223257184,-0.042548321187496,-0.048883486539125,0.013854899443686,0.062866635620594,0.077329069375992,-0.088822126388550,-0.038585286587477));
res += mul(Get(s2,-dx,dy), float4x4(-0.153654426336288,-0.082504190504551,0.001590586849488,0.036224793642759,-0.045274622738361,-0.119856685400009,-0.157267451286316,0.100238226354122,-0.253608286380768,0.017496852204204,-0.083442881703377,-0.043453570455313,0.036003980785608,0.031734831631184,-0.047947503626347,-0.115537941455841));
res += mul(Get(s2,0,-dy), float4x4(0.167630434036255,-0.007658622227609,0.111216410994530,-0.044044703245163,-0.225907549262047,-0.013546238653362,0.108098559081554,-0.043511174619198,0.047271266579628,-0.036332231014967,-0.050296038389206,0.013338431715965,-0.017617184668779,0.072300806641579,0.047224365174770,-0.023719497025013));
res += mul(Get(s2,0,0), float4x4(-0.171507209539413,-0.183204382658005,-0.118422202765942,-0.051833368837833,-0.101175792515278,0.152269288897514,0.019185552373528,0.047832183539867,0.024561064317822,-0.049214154481888,0.161769866943359,0.118344947695732,0.016099529340863,-0.162496864795685,-0.018897725269198,-0.039755139499903));
res += mul(Get(s2,0,dy), float4x4(0.046723973006010,0.045581106096506,0.045022882521152,-0.056964654475451,-0.208703070878983,-0.213053241372108,0.136783316731453,-0.188672259449959,-0.060883339494467,-0.008543895557523,-0.050809387117624,0.003712297417223,0.090894415974617,0.034725647419691,-0.099320784211159,-0.109030455350876));
res += mul(Get(s2,dx,-dy), float4x4(0.016706356778741,-0.026289043948054,0.143364280462265,-0.173202797770500,-0.057231675833464,0.010221575386822,0.074161253869534,-0.191037669777870,-0.180017560720444,0.134233802556992,0.014660148881376,0.039786286652088,-0.047109007835388,0.058584090322256,0.039921715855598,0.073381565511227));
res += mul(Get(s2,dx,0), float4x4(0.116022080183029,-0.124161206185818,0.190338402986526,-0.025428779423237,0.104115143418312,-0.034592974931002,0.224897995591164,0.090870432555676,-0.028179094195366,-0.076499499380589,-0.014781664125621,-0.034135043621063,0.060554679483175,0.114797800779343,0.130982011556625,-0.000730054103769));
res += mul(Get(s2,dx,dy), float4x4(-0.063837923109531,0.052418150007725,0.054867170751095,0.000128974104882,0.050657697021961,-0.166834503412247,0.015461765229702,-0.110584780573845,0.157742887735367,0.056713223457336,-0.036708332598209,0.043800059705973,0.094615176320076,-0.006572356913239,0.308371126651764,0.050346653908491));
res += mul(Get(s3,-dx,-dy), float4x4(0.130997374653816,-0.001056596753187,0.155852288007736,0.153603196144104,-0.023298880085349,-0.008949767798185,-0.075250521302223,-0.083023414015770,-0.095997951924801,0.216401174664497,0.003185256617144,0.129859149456024,-0.144129395484924,0.174192085862160,0.030474526807666,0.038162250071764));
res += mul(Get(s3,-dx,0), float4x4(0.084517799317837,-0.013192869722843,-0.028043208643794,-0.154370486736298,0.101417571306229,0.035121120512486,-0.022814102470875,-0.040000982582569,-0.120689928531647,0.120064511895180,-0.016083069145679,-0.076108805835247,0.208034947514534,-0.118891276419163,0.043012309819460,0.153636425733566));
res += mul(Get(s3,-dx,dy), float4x4(0.218785986304283,0.124828219413757,0.112065322697163,0.071681573987007,-0.068159103393555,-0.094943873584270,0.029605699703097,0.056252405047417,0.141073390841484,0.126004889607430,-0.102127932012081,-0.078534141182899,0.159898638725281,-0.114002563059330,0.073529496788979,0.080864354968071));
res += mul(Get(s3,0,-dy), float4x4(-0.076108850538731,0.194869473576546,0.097478710114956,-0.025364022701979,-0.046494327485561,-0.217533215880394,-0.142209514975548,-0.050468653440475,0.153113409876823,0.103562675416470,0.140677869319916,0.010186027735472,0.023746231570840,0.010092212818563,-0.032371819019318,-0.077991910278797));
res += mul(Get(s3,0,0), float4x4(-0.077138207852840,-0.022994482889771,-0.029780765995383,-0.108824700117111,0.101400457322598,-0.033827826380730,0.064208894968033,0.075828626751900,0.186431437730789,0.026127023622394,0.031981326639652,-0.075087577104568,-0.037846922874451,-0.039958227425814,-0.257274240255356,0.106223829090595));
res += mul(Get(s3,0,dy), float4x4(0.051162239164114,-0.129031151533127,-0.142162084579468,0.064014740288258,0.066357254981995,0.157284811139107,0.139375597238541,0.047587022185326,0.105957798659801,0.077063709497452,0.018755109980702,0.032040122896433,0.077270381152630,-0.044280465692282,-0.001010606065392,-0.181599527597427));
res += mul(Get(s3,dx,-dy), float4x4(-0.033239237964153,0.032665807753801,0.241400122642517,-0.094716653227806,-0.033812414854765,0.002630031667650,0.061487574130297,0.060308028012514,0.299819469451904,0.107249684631824,-0.066955789923668,0.117010809481144,0.245055705308914,-0.097736872732639,0.016995334997773,-0.098405465483665));
res += mul(Get(s3,dx,0), float4x4(0.033484742045403,0.129690140485764,0.137403011322021,-0.093827776610851,0.081856481730938,-0.115227900445461,0.023605326190591,0.014065091498196,-0.121224984526634,-0.018223529681563,-0.026368159800768,0.075382113456726,-0.182939887046814,0.087206378579140,-0.124813146889210,0.001967147924006));
res += mul(Get(s3,dx,dy), float4x4(-0.099704951047897,-0.019351867958903,-0.049934111535549,0.069866426289082,0.194579079747200,0.006824750918895,0.051502615213394,0.013383940793574,-0.001264545600861,-0.026778325438499,0.014462104998529,0.043675325810909,-0.228238716721535,-0.000532309466507,-0.029139474034309,0.018909335136414));
return max(float4(0,0,0,0), res);
}
