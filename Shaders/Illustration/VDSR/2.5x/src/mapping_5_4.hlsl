sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.035387959331274,-0.006983745377511,0.012794446200132,0.114212386310101,-0.047399424016476,0.111594118177891,-0.096095621585846,-0.063306838274002,0.000380437093554,0.047596473246813,-0.066670268774033,0.030819831416011,0.191593050956726,-0.019021231681108,0.048803869634867,0.093725234270096));
res += mul(Get(s0,-dx,0), float4x4(0.014284874312580,0.050056181848049,-0.062748253345490,0.225935414433479,-0.061631225049496,-0.164572730660439,-0.076927460730076,-0.063569933176041,-0.071650423109531,0.026129376143217,0.087549276649952,-0.072021298110485,-0.038031592965126,0.032673016190529,0.077157013118267,-0.073116585612297));
res += mul(Get(s0,-dx,dy), float4x4(-0.063077844679356,-0.045324597507715,0.164169549942017,0.010076259262860,0.094791650772095,0.053853247314692,0.075180806219578,-0.123928509652615,-0.096509918570518,-0.006230278871953,0.106441497802734,0.017226072028279,0.181120231747627,0.008683762513101,0.058671437203884,-0.039142001420259));
res += mul(Get(s0,0,-dy), float4x4(-0.180712997913361,-0.044291067868471,-0.005498983431607,-0.047503829002380,0.240666106343269,-0.036337353289127,-0.205951929092407,-0.125738635659218,-0.093523733317852,0.058108568191528,0.115420334041119,-0.150900512933731,0.153571039438248,-0.083051174879074,-0.013948506675661,0.111718393862247));
res += mul(Get(s0,0,0), float4x4(-0.092327803373337,-0.144698202610016,0.017377793788910,0.073111996054649,-0.028063258156180,0.057200755923986,-0.082778774201870,0.076508842408657,0.005215395241976,0.161026984453201,-0.026695324108005,-0.096761502325535,-0.009004594758153,0.230062082409859,-0.215793490409851,0.003212165785953));
res += mul(Get(s0,0,dy), float4x4(0.034582536667585,-0.071635559201241,0.227468639612198,0.150283738970757,0.037346109747887,-0.134886056184769,-0.082728646695614,-0.083342328667641,-0.271770656108856,-0.131080493330956,-0.107539877295494,0.082368046045303,-0.011089440435171,0.064187847077847,-0.005975361913443,0.149618849158287));
res += mul(Get(s0,dx,-dy), float4x4(-0.036796361207962,-0.145098924636841,-0.073133833706379,0.084849841892719,0.043602630496025,-0.021391654387116,0.129911765456200,0.084767520427704,-0.126386001706123,0.065573751926422,0.204005777835846,0.054964993149042,0.059407956898212,0.132605955004692,-0.105906367301941,-0.028111234307289));
res += mul(Get(s0,dx,0), float4x4(0.035651322454214,0.093824282288551,-0.043966419994831,-0.025404946878552,-0.009849095717072,0.042652677744627,0.311751097440720,0.138073995709419,0.070090800523758,0.128299519419670,0.000144950128742,0.011042444966733,0.152421340346336,0.167004942893982,0.023785600438714,-0.100389704108238));
res += mul(Get(s0,dx,dy), float4x4(-0.145513519644737,-0.087673686444759,0.144372060894966,-0.080315835773945,-0.066653683781624,-0.127624347805977,0.047221213579178,-0.053195863962173,0.036262813955545,-0.080494783818722,-0.016979929059744,0.043638914823532,0.006256259977818,-0.079589396715164,0.114265739917755,0.050170365720987));
res += mul(Get(s1,-dx,-dy), float4x4(0.119278676807880,-0.023804914206266,0.076078303158283,-0.068895407021046,-0.086362719535828,0.044742945581675,-0.091652750968933,-0.083268761634827,-0.100045673549175,-0.063373647630215,0.111401401460171,-0.029833810403943,-0.000850596814416,-0.036015886813402,0.039924692362547,-0.053217772394419));
res += mul(Get(s1,-dx,0), float4x4(-0.106174826622009,0.062536254525185,-0.049149088561535,0.011603201739490,-0.043826323002577,0.220097258687019,-0.036390978842974,0.021834449842572,-0.079153686761856,0.023206174373627,0.071612074971199,0.027674006298184,-0.085072271525860,0.136408165097237,0.004878216423094,-0.189639776945114));
res += mul(Get(s1,-dx,dy), float4x4(0.126120254397392,0.191488966345787,0.087611250579357,0.104972131550312,-0.109849981963634,0.121873699128628,0.171449184417725,-0.011620653793216,0.005475383251905,0.122864201664925,-0.111699722707272,0.087137535214424,0.027545357123017,-0.172380954027176,0.031796600669622,0.104168787598610));
res += mul(Get(s1,0,-dy), float4x4(-0.207473993301392,0.114393927156925,-0.019098786637187,0.053193461149931,0.096054188907146,0.062477067112923,0.018825937062502,-0.267412275075912,-0.024286497384310,0.031726490706205,0.100040957331657,0.083624780178070,0.059275217354298,-0.047501109540462,-0.059111513197422,0.019417783245444));
res += mul(Get(s1,0,0), float4x4(-0.118961252272129,-0.011849815025926,0.049755025655031,0.093461461365223,-0.022652426734567,0.057030972093344,-0.068214491009712,-0.342878311872482,-0.180088743567467,-0.178119078278542,0.055053655058146,0.013743337243795,0.051304258406162,0.030663035809994,0.015252243727446,0.051063723862171));
res += mul(Get(s1,0,dy), float4x4(-0.035002045333385,-0.017648845911026,-0.079484738409519,-0.013466496020555,0.060151070356369,-0.085187435150146,0.029435899108648,0.009865212254226,-0.041346639394760,-0.085942074656487,-0.071054555475712,0.108034171164036,0.220154091715813,-0.052262239158154,0.188426002860069,0.101033680140972));
res += mul(Get(s1,dx,-dy), float4x4(-0.149355620145798,0.043382164090872,0.164909482002258,-0.166290581226349,0.032789710909128,0.097827248275280,-0.026146491989493,0.011791827157140,0.072840645909309,-0.018354710191488,-0.112238638103008,-0.032600440084934,-0.081401266157627,-0.260532408952713,0.142954200506210,-0.098968692123890));
res += mul(Get(s1,dx,0), float4x4(-0.131908744573593,-0.048716895282269,0.076217919588089,-0.089043706655502,0.020537747070193,-0.026671731844544,-0.086881771683693,-0.054158814251423,0.033016845583916,0.006484830286354,-0.000268497911748,0.169178634881973,-0.031011033803225,0.152083903551102,0.110659547150135,-0.134319409728050));
res += mul(Get(s1,dx,dy), float4x4(0.010725230909884,-0.154385000467300,-0.130268588662148,-0.099756382405758,0.084911569952965,-0.128479227423668,-0.027274176478386,-0.041168630123138,0.015128272585571,0.005684888921678,-0.137643367052078,0.103076115250587,0.215429499745369,-0.064034409821033,0.076162986457348,-0.057990320026875));
res += mul(Get(s2,-dx,-dy), float4x4(0.038342889398336,0.149912029504776,-0.033429443836212,0.072537846863270,0.120965652167797,0.160253360867500,0.108208984136581,-0.095559090375900,-0.143569648265839,-0.053270466625690,0.160658061504364,0.102670617401600,0.050412848591805,-0.003455315716565,0.055117223411798,0.175776436924934));
res += mul(Get(s2,-dx,0), float4x4(0.096699714660645,0.007445373572409,0.015549836680293,-0.102138251066208,0.180398702621460,0.010771809145808,-0.000438833027147,-0.006653475109488,0.072461426258087,-0.018910283222795,0.090939588844776,-0.166684463620186,0.009007497690618,0.061919387429953,0.086365319788456,-0.113714039325714));
res += mul(Get(s2,-dx,dy), float4x4(-0.030882326886058,0.002655548043549,-0.041765451431274,-0.108569033443928,0.002359790029004,-0.082356430590153,-0.006121201906353,0.051884233951569,0.142592102289200,-0.068162776529789,0.004945298191160,0.054644953459501,-0.234595209360123,0.258245617151260,-0.147043585777283,0.048446889966726));
res += mul(Get(s2,0,-dy), float4x4(-0.088569775223732,-0.082760743796825,0.061841927468777,0.131442755460739,0.042344618588686,0.212564840912819,0.090054497122765,-0.021199978888035,0.073701836168766,0.126246973872185,0.110555335879326,-0.072719059884548,-0.035143967717886,0.104815863072872,-0.083421252667904,0.218089252710342));
res += mul(Get(s2,0,0), float4x4(-0.061068676412106,-0.068877339363098,0.136314764618874,0.127195939421654,-0.068550825119019,-0.074836969375610,-0.038409277796745,-0.040633797645569,0.237196683883667,-0.118894524872303,-0.095128275454044,0.092844292521477,-0.049962621182203,-0.055715437978506,-0.072843953967094,-0.047495912760496));
res += mul(Get(s2,0,dy), float4x4(0.130545794963837,-0.074505247175694,0.149024620652199,-0.018252102658153,0.068050310015678,0.074114337563515,-0.126208603382111,0.250256836414337,0.168247833848000,-0.041508898139000,0.178169593214989,0.070178136229515,-0.128818750381470,0.026289785280824,-0.111810885369778,-0.019901424646378));
res += mul(Get(s2,dx,-dy), float4x4(0.083335168659687,0.037255339324474,0.109584480524063,-0.133463189005852,-0.042707700282335,0.267922610044479,-0.066463917493820,0.148462399840355,0.146154358983040,0.100975036621094,0.121068283915520,-0.217646941542625,-0.174361467361450,-0.108892560005188,-0.013423171825707,0.105175167322159));
res += mul(Get(s2,dx,0), float4x4(0.152585297822952,0.072352744638920,0.114207215607166,0.142278373241425,-0.035367377102375,0.090895108878613,0.082248151302338,-0.114750191569328,0.182880878448486,-0.085308752954006,-0.011954300105572,-0.106960333883762,-0.100100666284561,0.059136107563972,0.163826197385788,-0.003099533729255));
res += mul(Get(s2,dx,dy), float4x4(0.078769773244858,0.061448775231838,0.036873016506433,-0.031623777002096,0.140303239226341,-0.049017630517483,0.044087555259466,-0.075690448284149,-0.099070996046066,0.086914390325546,-0.190251916646957,-0.053881235420704,0.136573687195778,0.010562727227807,0.045155409723520,-0.120452716946602));
res += mul(Get(s3,-dx,-dy), float4x4(-0.066628806293011,-0.165615081787109,-0.044795941561460,-0.086500853300095,-0.008200581185520,-0.005535795353353,0.040840890258551,-0.063878111541271,-0.109257720410824,0.019004302099347,0.097621776163578,-0.062770836055279,-0.205404400825500,-0.145566835999489,-0.083566769957542,0.045369282364845));
res += mul(Get(s3,-dx,0), float4x4(0.079093612730503,-0.040209494531155,0.039965126663446,0.174630731344223,-0.156134262681007,-0.049132678657770,0.112806111574173,-0.030347488820553,-0.017964977771044,0.068004004657269,0.038416050374508,-0.075667008757591,-0.153717756271362,-0.109358623623848,-0.087161816656590,-0.224790200591087));
res += mul(Get(s3,-dx,dy), float4x4(-0.088517867028713,-0.165670603513718,0.071075022220612,0.059050600975752,0.087937518954277,-0.177308872342110,-0.047035679221153,0.081502795219421,-0.129289731383324,0.118418037891388,-0.051574114710093,-0.108143843710423,0.037422023713589,-0.003934207372367,0.082783482968807,0.176023080945015));
res += mul(Get(s3,0,-dy), float4x4(-0.281703382730484,-0.134559720754623,-0.027942445129156,-0.009447546675801,-0.000983538920991,0.023884011432528,-0.296471744775772,-0.003468455979601,-0.026779314503074,0.131816923618317,0.052751496434212,-0.035135075449944,-0.069503381848335,-0.087787300348282,0.071304023265839,0.071397602558136));
res += mul(Get(s3,0,0), float4x4(0.042827747762203,0.129083573818207,-0.066496357321739,-0.035461779683828,0.003672541584820,0.022183796390891,-0.063370674848557,-0.057732932269573,0.136511549353600,-0.003012654371560,0.025152698159218,0.091687254607677,-0.078620247542858,-0.057709142565727,0.310875475406647,-0.158047437667847));
res += mul(Get(s3,0,dy), float4x4(-0.001551698660478,-0.032563630491495,0.082529395818710,0.243527382612228,-0.071465209126472,0.029255591332912,-0.001102214097045,-0.131809383630753,0.013745778240263,-0.013412680476904,-0.292355597019196,-0.082066193223000,-0.016549292951822,0.099712967872620,-0.004052486736327,0.167793795466423));
res += mul(Get(s3,dx,-dy), float4x4(0.097275510430336,-0.035105682909489,-0.030177071690559,-0.183296695351601,-0.033688735216856,-0.155850827693939,0.086300432682037,-0.023419853299856,0.014319759793580,0.085087440907955,-0.078267201781273,0.072909496724606,0.027842890471220,-0.081878900527954,0.213913381099701,0.171830609440804));
res += mul(Get(s3,dx,0), float4x4(0.116919256746769,-0.042105287313461,0.021564187481999,0.062913827598095,-0.152268245816231,-0.045172926038504,0.005642913747579,0.037783563137054,0.235486835241318,-0.003615883877501,-0.003662655130029,0.100942023098469,0.046720262616873,0.048498954623938,0.039267349988222,0.003697063773870));
res += mul(Get(s3,dx,dy), float4x4(-0.171103447675705,-0.351568669080734,0.114226840436459,0.074658401310444,-0.016167061403394,-0.030489418655634,0.045979350805283,0.031450148671865,0.106009133160114,0.063009910285473,-0.018547637388110,0.150093644857407,-0.009060821495950,-0.011109229177237,0.093734368681908,-0.056695334613323));
return max(float4(0,0,0,0), res);
}
