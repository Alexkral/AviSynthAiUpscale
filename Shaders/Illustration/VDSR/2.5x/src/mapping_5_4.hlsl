sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.002565518254414,-0.138572067022324,0.057190816849470,0.111174941062927,0.088462926447392,-0.161031857132912,0.015670571476221,0.108685784041882,-0.058744512498379,-0.031381394714117,0.103062428534031,0.198500216007233,-0.211962535977364,0.269738107919693,-0.049381606280804,0.300172328948975));
res += mul(Get(s0,-dx,0), float4x4(-0.139388620853424,-0.097995407879353,-0.050103303045034,-0.051333047449589,-0.019583402201533,-0.069080173969269,-0.011257935315371,0.282888919115067,0.088130630552769,-0.088558390736580,-0.075342714786530,0.057661447674036,-0.020368063822389,0.032608434557915,-0.119653731584549,-0.091814145445824));
res += mul(Get(s0,-dx,dy), float4x4(-0.020560802891850,-0.042843714356422,-0.091036967933178,-0.021577466279268,0.148904383182526,0.005977555178106,-0.087725475430489,0.162326455116272,0.001023705350235,-0.008216450922191,-0.175183415412903,0.179207012057304,-0.008295451290905,-0.030833078548312,-0.133963391184807,-0.352096408605576));
res += mul(Get(s0,0,-dy), float4x4(-0.026810392737389,-0.013917602598667,0.098271064460278,-0.034507036209106,0.084747083485126,-0.170252114534378,0.111689038574696,-0.129922106862068,0.030921569094062,-0.058371480554342,-0.185194030404091,-0.103878386318684,-0.067655786871910,0.137526974081993,0.053712960332632,0.186593100428581));
res += mul(Get(s0,0,0), float4x4(-0.104853279888630,-0.116795822978020,0.127538904547691,0.010952556505799,0.175294965505600,-0.072119906544685,0.050522670149803,-0.193089470267296,-0.044204164296389,0.071374930441380,-0.085719123482704,0.042959559708834,-0.032644391059875,-0.094715893268585,-0.016113985329866,0.167767316102982));
res += mul(Get(s0,0,dy), float4x4(-0.079694494605064,0.080499216914177,-0.047822218388319,-0.026371039450169,0.199048683047295,-0.042846664786339,0.090426281094551,-0.041957732290030,-0.067571558058262,0.100965254008770,-0.016525076702237,-0.018431507050991,-0.045370087027550,0.036756586283445,0.011742501519620,-0.081712722778320));
res += mul(Get(s0,dx,-dy), float4x4(-0.065907798707485,0.136749297380447,-0.018186135217547,0.085016414523125,0.254853874444962,-0.138228893280029,-0.159034326672554,-0.208788886666298,-0.242651417851448,-0.103212580084801,-0.180056959390640,-0.135485023260117,-0.032800938934088,0.060841567814350,0.090350508689880,-0.020582279190421));
res += mul(Get(s0,dx,0), float4x4(0.070542335510254,0.081713080406189,-0.000841637083795,0.111380219459534,-0.163872212171555,-0.037468582391739,-0.100145474076271,-0.141759604215622,-0.214243695139885,-0.019637122750282,-0.018262311816216,-0.053118646144867,-0.140925794839859,0.050856918096542,-0.121119923889637,-0.207756549119949));
res += mul(Get(s0,dx,dy), float4x4(0.306718617677689,0.059532769024372,-0.082768872380257,-0.022985914722085,-0.145328775048256,-0.071790970861912,-0.099168084561825,0.027000378817320,-0.001751097617671,-0.071946315467358,0.054357614368200,-0.039626948535442,-0.102522343397141,-0.241716668009758,-0.117929883301258,0.021784825250506));
res += mul(Get(s1,-dx,-dy), float4x4(-0.112573333084583,-0.127688229084015,0.281912267208099,-0.083199314773083,-0.131101399660110,-0.063070587813854,0.082128509879112,0.170144572854042,-0.240570858120918,0.068753048777580,0.207617387175560,0.072004951536655,0.201393872499466,-0.180961683392525,-0.075916908681393,-0.031475026160479));
res += mul(Get(s1,-dx,0), float4x4(0.285260051488876,-0.038303390145302,0.057841137051582,0.106937669217587,0.022127417847514,-0.221890911459923,0.204055100679398,-0.093897007405758,-0.068964451551437,0.091277077794075,0.171322554349899,0.164625480771065,0.068131461739540,-0.000036333978642,-0.181603193283081,0.154636889696121));
res += mul(Get(s1,-dx,dy), float4x4(0.104432918131351,-0.061111122369766,0.017325395718217,-0.211407631635666,-0.130339995026588,-0.033755064010620,0.085704736411572,0.005358644761145,0.048440106213093,0.109176084399223,0.039063181728125,-0.100306719541550,0.266753792762756,0.096712611615658,0.055028606206179,0.158549338579178));
res += mul(Get(s1,0,-dy), float4x4(0.149513095617294,-0.038021657615900,0.032695207744837,0.113468624651432,-0.128178924322128,-0.100561477243900,0.048008091747761,0.458829730749130,-0.090660847723484,-0.033085305243731,-0.080221988260746,0.072349660098553,0.289909958839417,0.106684938073158,-0.030282901600003,-0.127717033028603));
res += mul(Get(s1,0,0), float4x4(0.135110586881638,0.111044101417065,-0.064145252108574,0.262913942337036,-0.067447029054165,-0.265061408281326,-0.099513620138168,0.006954370066524,-0.139636218547821,0.090604685246944,0.014124157838523,0.137219220399857,0.033063407987356,0.049086317420006,-0.049754902720451,-0.052686538547277));
res += mul(Get(s1,0,dy), float4x4(-0.113264679908752,0.018387373536825,0.003437376348302,0.405531346797943,-0.075508788228035,-0.208120211958885,0.009187221527100,0.014453830197453,-0.088459029793739,0.050155509263277,-0.075773797929287,-0.115550503134727,0.050351392477751,0.106853887438774,0.077199362218380,0.059370249509811));
res += mul(Get(s1,dx,-dy), float4x4(-0.011349101550877,-0.133560225367546,-0.106842845678329,-0.169896870851517,-0.103658482432365,-0.006963390391320,-0.032120667397976,0.241948798298836,-0.051073737442493,-0.113031744956970,-0.063081987202168,0.019503351300955,0.090091355144978,-0.102237999439240,0.121096700429916,0.072024084627628));
res += mul(Get(s1,dx,0), float4x4(-0.054298073053360,-0.181800320744514,-0.056497238576412,-0.224900454282761,-0.215579956769943,-0.130340322852135,-0.120334446430206,0.079493299126625,-0.269301265478134,-0.101444788277149,-0.007014086935669,0.076665237545967,0.181123182177544,0.081274718046188,0.128267109394073,0.092799052596092));
res += mul(Get(s1,dx,dy), float4x4(-0.046400383114815,-0.199154436588287,0.211100518703461,0.028041647747159,0.081443041563034,0.086419820785522,-0.001534979906864,-0.014584279619157,-0.234987616539001,0.018079875037074,-0.014528324827552,0.108993433415890,0.003570890054107,0.029609486460686,0.119468264281750,0.136008203029633));
res += mul(Get(s2,-dx,-dy), float4x4(-0.093645855784416,0.053603544831276,0.313528358936310,-0.088462710380554,-0.124324321746826,0.203591257333755,0.069186560809612,-0.185195297002792,-0.101048208773136,0.044205829501152,-0.026103019714355,-0.025370394811034,0.020267944782972,0.217820048332214,-0.018823420628905,-0.089306436479092));
res += mul(Get(s2,-dx,0), float4x4(-0.088138230144978,-0.032384179532528,0.314645320177078,0.012330071069300,-0.167033895850182,0.047348346561193,0.141851499676704,-0.074336826801300,0.019237238913774,-0.003908062819391,0.040241066366434,0.026151744648814,0.017769029363990,-0.081751726567745,0.043932560831308,-0.075030878186226));
res += mul(Get(s2,-dx,dy), float4x4(0.069256849586964,-0.059486381709576,0.168261319398880,-0.185832887887955,0.126648396253586,-0.179382994771004,0.178305968642235,-0.230067580938339,0.073866352438927,0.140208557248116,-0.226561516523361,-0.136206120252609,0.026963409036398,0.105448745191097,0.016454529017210,-0.116989508271217));
res += mul(Get(s2,0,-dy), float4x4(-0.040268462151289,-0.113684214651585,0.004520808812231,-0.072901941835880,0.052039500325918,0.114077135920525,-0.044074736535549,0.020756481215358,-0.035549215972424,0.084879130125046,0.339795559644699,-0.101581759750843,0.126683041453362,0.071564652025700,0.121516071259975,-0.119092203676701));
res += mul(Get(s2,0,0), float4x4(0.081103429198265,-0.128235161304474,-0.222738116979599,0.080286592245102,-0.046793274581432,0.075130194425583,-0.034357298165560,0.047672469168901,0.016803881153464,-0.001761752180755,-0.136750236153603,0.056500639766455,0.170023351907730,-0.195137664675713,-0.028910866007209,-0.123117074370384));
res += mul(Get(s2,0,dy), float4x4(0.213757604360580,-0.030668023973703,-0.132097855210304,0.080724731087685,0.129325717687607,0.108691684901714,-0.032657537609339,-0.079996302723885,0.066520787775517,0.093690469861031,0.068704381585121,-0.081562735140324,-0.037927914410830,0.127245649695396,0.025468152016401,-0.124845311045647));
res += mul(Get(s2,dx,-dy), float4x4(0.150030702352524,-0.025118390098214,-0.004817245062441,-0.112979076802731,0.009365677833557,0.055958125740290,-0.052764680236578,-0.310545772314072,0.070373639464378,0.019856246188283,-0.103963643312454,-0.110101744532585,0.252610117197037,-0.058941889554262,0.122203908860683,-0.020383814349771));
res += mul(Get(s2,dx,0), float4x4(0.247477844357491,0.026142347604036,0.017731191590428,-0.047777704894543,-0.213647782802582,0.000761565985158,-0.031894028186798,-0.021141946315765,0.050803616642952,-0.089205138385296,-0.058952640742064,0.018350362777710,0.221288830041885,-0.129721447825432,-0.086851209402084,-0.106175474822521));
res += mul(Get(s2,dx,dy), float4x4(0.120483383536339,0.173695296049118,-0.105885997414589,-0.023438690230250,0.094214178621769,0.214080646634102,0.019045094028115,0.007203495595604,-0.258653849363327,0.243876695632935,0.133507817983627,0.003873853245750,0.073943071067333,-0.014844134449959,0.138343021273613,-0.149137482047081));
res += mul(Get(s3,-dx,-dy), float4x4(-0.117696739733219,0.039166241884232,-0.097645342350006,0.186741620302200,-0.050337824970484,-0.022586621344090,0.132206365466118,0.090009085834026,0.172573849558830,-0.079230129718781,0.100487694144249,0.157099589705467,-0.004606952425092,0.099313080310822,-0.155933544039726,-0.118998482823372));
res += mul(Get(s3,-dx,0), float4x4(-0.133380562067032,-0.131020352244377,0.012439755722880,-0.091721110045910,-0.052204269915819,0.029052656143904,-0.022693991661072,0.047441504895687,0.012096645310521,-0.044532343745232,-0.028504466637969,-0.069303639233112,0.019722208380699,-0.112163126468658,-0.034474492073059,0.128593474626541));
res += mul(Get(s3,-dx,dy), float4x4(-0.021915746852756,-0.200414851307869,0.256943583488464,0.183836668729782,0.210275769233704,0.250655412673950,-0.152777731418610,-0.088401190936565,0.054719075560570,-0.030621867626905,-0.107944630086422,-0.076608300209045,0.117676526308060,-0.031302772462368,-0.129806637763977,0.008959989994764));
res += mul(Get(s3,0,-dy), float4x4(-0.128892660140991,-0.084446489810944,-0.061783522367477,-0.023416776210070,0.020696297287941,-0.003397110383958,0.092196464538574,-0.030022094026208,0.177664592862129,0.104809276759624,-0.101293630897999,-0.086872026324272,-0.148311465978622,-0.132360100746155,-0.052990749478340,-0.182953327894211));
res += mul(Get(s3,0,0), float4x4(-0.057980101555586,0.063074715435505,0.037529960274696,-0.185017436742783,-0.047862503677607,0.129516229033470,-0.053247731178999,0.036696773022413,0.054688092321157,0.280176311731339,-0.059041287750006,0.109462954103947,-0.107568271458149,-0.046077296137810,-0.166824951767921,0.123699598014355));
res += mul(Get(s3,0,dy), float4x4(-0.054910633713007,0.006244282703847,0.144012629985809,0.289083957672119,0.011754915118217,0.383997738361359,-0.095704026520252,-0.005709607154131,0.078128419816494,0.215239048004150,-0.041801266372204,-0.002108266577125,0.085133217275143,-0.204683557152748,-0.144919782876968,-0.038095418363810));
res += mul(Get(s3,dx,-dy), float4x4(-0.042017009109259,-0.020646622404456,-0.074445992708206,-0.264355480670929,0.065361581742764,0.314141750335693,0.056514870375395,0.013205173425376,-0.060116782784462,-0.022472733631730,-0.110257089138031,-0.214408338069916,0.031091403216124,0.027576455846429,-0.146878853440285,-0.178025752305984));
res += mul(Get(s3,dx,0), float4x4(0.137399166822433,0.204703584313393,0.024512425065041,-0.178958162665367,-0.107369557023048,0.288692325353622,-0.013286739587784,0.020875852555037,0.162817850708961,0.140605524182320,-0.048190396279097,0.054830890148878,0.169004052877426,-0.007350036408752,-0.180025160312653,-0.095034368336201));
res += mul(Get(s3,dx,dy), float4x4(-0.102940574288368,-0.152951106429100,0.083683274686337,0.179819285869598,-0.071785740554333,0.361253976821899,0.094000786542892,-0.037738811224699,0.277910470962524,-0.101348675787449,-0.142318353056908,-0.156825393438339,0.203741088509560,0.267169892787933,-0.149794399738312,-0.059717785567045));
return max(float4(0,0,0,0), res);
}
