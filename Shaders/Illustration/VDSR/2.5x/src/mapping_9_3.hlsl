sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.097485065460205,-0.099466659128666,-0.036519542336464,-0.070573762059212,-0.019895959645510,-0.060867663472891,-0.078833311796188,-0.102507270872593,-0.026072315871716,-0.119626276195049,0.009610869921744,0.074926808476448,-0.194387584924698,-0.026005236431956,0.335417181253433,0.220854043960571));
res += mul(Get(s0,-dx,0), float4x4(0.011229975149035,-0.060627263039351,-0.052171092480421,0.041772417724133,-0.090206205844879,-0.129023119807243,-0.092624984681606,0.027385571971536,-0.020759750157595,-0.068068444728851,0.040143799036741,0.064280524849892,-0.145408377051353,0.056503869593143,0.092753015458584,0.024464871734381));
res += mul(Get(s0,-dx,dy), float4x4(0.049854345619678,-0.156655147671700,-0.260839670896530,0.093129299581051,-0.073507070541382,-0.065468452870846,-0.106903910636902,0.205364912748337,-0.035084906965494,-0.037039496004581,-0.124618813395500,-0.036159493029118,-0.046950239688158,0.026366548612714,-0.016907393932343,-0.052055228501558));
res += mul(Get(s0,0,-dy), float4x4(-0.023958470672369,-0.047413401305676,-0.048517517745495,0.105487771332264,0.039959885179996,-0.095976836979389,-0.101318828761578,0.057427540421486,-0.066921740770340,-0.045365661382675,-0.124867871403694,-0.081976160407066,0.119749158620834,-0.067233398556709,-0.168137758970261,0.220564231276512));
res += mul(Get(s0,0,0), float4x4(0.117413356900215,-0.053739339113235,0.113403066992760,0.222885251045227,0.038769051432610,-0.121288701891899,-0.145926490426064,0.085850656032562,-0.158238396048546,-0.119308754801750,0.056551951915026,0.144611597061157,-0.090645484626293,0.079009510576725,0.076169133186340,-0.090516783297062));
res += mul(Get(s0,0,dy), float4x4(0.212221145629883,0.001014247653075,-0.154423460364342,0.010099413804710,-0.035656053572893,0.116607286036015,-0.216133520007133,0.186386346817017,0.005408427212387,-0.067764803767204,0.112168751657009,0.283671885728836,0.001928204204887,-0.011770835146308,0.089611500501633,0.072316318750381));
res += mul(Get(s0,dx,-dy), float4x4(-0.103477895259857,-0.123278118669987,-0.051489908248186,0.130635380744934,0.111206546425819,-0.029199175536633,0.035798043012619,-0.026195056736469,-0.046066176146269,0.011268472298980,-0.146198809146881,-0.056612696498632,-0.069525852799416,-0.035459429025650,-0.010135560296476,-0.052349254488945));
res += mul(Get(s0,dx,0), float4x4(-0.012074897065759,-0.021171566098928,0.131623715162277,0.033872857689857,-0.071706980466843,-0.007473191712052,0.019956346601248,0.013677526265383,-0.076344996690750,-0.008952548727393,-0.076606340706348,0.014908045530319,0.348150968551636,0.214762762188911,0.070167534053326,-0.174597993493080));
res += mul(Get(s0,dx,dy), float4x4(0.375339686870575,0.012222261168063,-0.079171001911163,-0.029653696343303,0.039677683264017,0.089030131697655,-0.156650915741920,0.044746320694685,0.006828352808952,-0.082869380712509,-0.159320324659348,-0.048683293163776,0.334812402725220,-0.110163688659668,0.170365706086159,-0.126278221607208));
res += mul(Get(s1,-dx,-dy), float4x4(-0.160721942782402,0.007693105842918,-0.077904127538204,-0.002835659543052,-0.144324705004692,-0.032789852470160,0.239730432629585,-0.022328829392791,0.015185089781880,-0.038114659488201,0.275128006935120,0.286866813898087,0.075341053307056,-0.050185590982437,-0.246271878480911,-0.054894339293242));
res += mul(Get(s1,-dx,0), float4x4(0.162292748689651,0.004198648966849,-0.104560941457748,-0.077604062855244,-0.058868214488029,-0.168960750102997,0.159755676984787,-0.039090350270271,-0.020261924713850,-0.154894873499870,0.325499683618546,0.242677018046379,-0.061211206018925,0.065412349998951,0.092142157256603,0.024363564327359));
res += mul(Get(s1,-dx,dy), float4x4(0.133496135473251,0.143325611948967,-0.137778341770172,-0.084639623761177,-0.110554456710815,-0.180256798863411,0.103478811681271,0.000158373237355,-0.068066023290157,0.057074427604675,0.060721397399902,-0.077310658991337,0.041262120008469,-0.023727267980576,0.354188978672028,0.107254646718502));
res += mul(Get(s1,0,-dy), float4x4(-0.127148255705833,-0.120666623115540,0.116013541817665,-0.075859934091568,-0.122592978179455,0.049040570855141,-0.173983067274094,-0.153788596391678,-0.138325944542885,-0.006356277968735,0.065505303442478,0.038003679364920,0.141496866941452,-0.193012788891792,-0.180948287248611,0.001402112655342));
res += mul(Get(s1,0,0), float4x4(-0.048398260027170,0.145397469401360,-0.183120191097260,-0.087183155119419,-0.114322923123837,-0.073817513883114,0.073154971003532,-0.013367464765906,-0.041030190885067,-0.068799540400505,0.018193036317825,0.303217262029648,-0.022810110822320,0.088840968906879,-0.109550833702087,-0.064659789204597));
res += mul(Get(s1,0,dy), float4x4(-0.053175956010818,0.161276936531067,-0.191946417093277,-0.141689032316208,-0.062438081949949,-0.111258313059807,0.193119883537292,0.061224680393934,-0.050523966550827,0.127155348658562,0.069746434688568,-0.073646783828735,-0.080239184200764,0.070499181747437,0.263306498527527,0.009242441505194));
res += mul(Get(s1,dx,-dy), float4x4(-0.167526781558990,-0.166874542832375,0.091498360037804,0.092708826065063,0.118613764643669,-0.040688779205084,-0.196670889854431,-0.035607419908047,-0.008521525189281,0.047664795070887,-0.179284334182739,-0.025278436020017,0.139664053916931,-0.068120107054710,-0.050437033176422,-0.017561709508300));
res += mul(Get(s1,dx,0), float4x4(-0.158679977059364,0.202361464500427,-0.113437183201313,0.039183892309666,-0.008451444096863,-0.040799248963594,-0.158010691404343,-0.105722054839134,-0.159755319356918,-0.039240963757038,-0.147111713886261,-0.041902706027031,0.186956077814102,-0.073454745113850,-0.060363959521055,0.145101159811020));
res += mul(Get(s1,dx,dy), float4x4(-0.118791773915291,0.189121752977371,-0.195120602846146,-0.133942335844040,0.027495699003339,-0.034559968858957,0.039699718356133,0.034702710807323,-0.231900453567505,0.002277803374454,-0.012579899281263,-0.038123033940792,-0.121692284941673,-0.085024274885654,0.210414141416550,-0.013382128439844));
res += mul(Get(s2,-dx,-dy), float4x4(0.057549972087145,-0.001694972976111,-0.116585128009319,-0.059473663568497,-0.052125696092844,0.038374695926905,-0.120450906455517,-0.055596280843019,0.186829268932343,-0.049957819283009,-0.095128566026688,0.287827193737030,-0.096455417573452,-0.003213012823835,0.087311483919621,-0.057912085205317));
res += mul(Get(s2,-dx,0), float4x4(-0.039420317858458,-0.126254305243492,-0.102800846099854,0.059301428496838,0.068191960453987,0.022536076605320,-0.046859819442034,-0.041085641831160,-0.048173513263464,-0.066553331911564,-0.083762750029564,-0.027874484658241,-0.044887270778418,0.014573709107935,-0.176207736134529,-0.040429264307022));
res += mul(Get(s2,-dx,dy), float4x4(0.148717537522316,0.116964377462864,-0.007663690485060,0.064160726964474,-0.037872627377510,-0.002676543081179,0.053159479051828,-0.008117444813251,0.105398751795292,0.087223492562771,0.092197284102440,0.074074178934097,-0.003399718552828,0.043184388428926,-0.144955590367317,-0.043673790991306));
res += mul(Get(s2,0,-dy), float4x4(0.063756965100765,0.030753780156374,-0.102856040000916,-0.067697189748287,-0.170027464628220,0.030135279521346,-0.179498180747032,-0.048921853303909,0.572706103324890,-0.073302268981934,-0.098748929798603,0.331982433795929,-0.031423542648554,0.040121678262949,0.032508306205273,0.119277663528919));
res += mul(Get(s2,0,0), float4x4(-0.013880326412618,0.071614921092987,-0.067624077200890,-0.022551614791155,-0.084280453622341,0.188193917274475,-0.125070661306381,0.062387209385633,-0.085519075393677,-0.038066778331995,-0.122994847595692,0.154318541288376,0.126020595431328,-0.053176723420620,0.091837204992771,0.044690951704979));
res += mul(Get(s2,0,dy), float4x4(-0.154123544692993,0.177633091807365,-0.061127424240112,0.060989975929260,-0.159532696008682,0.007861703634262,-0.126910239458084,0.168012261390686,0.195556983351707,0.131895527243614,-0.088882401585579,0.038735315203667,-0.030953859910369,-0.039582680910826,0.128213614225388,-0.005913896486163));
res += mul(Get(s2,dx,-dy), float4x4(0.222560867667198,0.027146365493536,0.271688342094421,0.172743320465088,0.103231616318226,0.117927610874176,-0.017382668331265,-0.060585062950850,-0.151855066418648,-0.008103549480438,-0.060165107250214,0.058835014700890,-0.008361864835024,0.039020355790854,0.017960324883461,-0.233996361494064));
res += mul(Get(s2,dx,0), float4x4(0.051011823117733,0.095312997698784,0.161438331007957,0.118530035018921,0.052300959825516,0.369791477918625,-0.177180126309395,0.126382887363434,0.090779691934586,-0.093865692615509,-0.010368814691901,-0.136960759758949,0.219249188899994,0.077829629182816,-0.024122901260853,-0.088150344789028));
res += mul(Get(s2,dx,dy), float4x4(0.050410278141499,0.456019669771194,0.161498963832855,0.127893790602684,0.166427612304688,0.168410405516624,-0.125621706247330,0.051739916205406,0.239790529012680,-0.013344773091376,-0.168950632214546,-0.072913855314255,0.079184189438820,-0.091442316770554,0.428226977586746,-0.060316532850266));
res += mul(Get(s3,-dx,-dy), float4x4(-0.055549159646034,0.071152597665787,-0.045406576246023,0.029538005590439,0.089433431625366,-0.125664904713631,-0.090999238193035,0.189010232686996,0.025115845724940,0.017725612968206,0.019081432372332,0.029525293037295,0.169650748372078,-0.019145123660564,-0.233766824007034,-0.011666137725115));
res += mul(Get(s3,-dx,0), float4x4(-0.026287423446774,0.045930236577988,-0.090320184826851,-0.092009872198105,0.139576107263565,-0.121320843696594,-0.031641907989979,0.154914677143097,0.007457776460797,0.007295600138605,-0.119325503706932,-0.090300709009171,0.145009964704514,-0.157052218914032,-0.138842388987541,-0.025495136156678));
res += mul(Get(s3,-dx,dy), float4x4(-0.008079304359853,-0.027025284245610,0.044713232666254,-0.094761162996292,0.169081076979637,-0.156090319156647,-0.062164004892111,-0.093363709747791,-0.098415754735470,0.106193251907825,-0.109183557331562,-0.057212915271521,0.237477883696556,-0.139814257621765,-0.014693954028189,-0.040649946779013));
res += mul(Get(s3,0,-dy), float4x4(0.043245978653431,-0.124218262732029,0.105402514338493,0.018632994964719,-0.042522788047791,-0.010778553783894,-0.017142759636045,0.102556504309177,0.062223907560110,-0.053669862449169,0.391962587833405,0.224392831325531,-0.039923947304487,0.057855922728777,-0.057064518332481,-0.021045330911875));
res += mul(Get(s3,0,0), float4x4(-0.077182196080685,0.083541654050350,0.019517559558153,-0.144451618194580,-0.043426517397165,0.146807134151459,0.087578862905502,-0.103334277868271,-0.083760686218739,-0.126116827130318,0.223312005400658,-0.133789137005806,-0.103025160729885,0.169579282402992,-0.060367695987225,-0.011323962360620));
res += mul(Get(s3,0,dy), float4x4(-0.066396504640579,0.098987974226475,-0.018347954377532,-0.083525642752647,0.004122976213694,-0.069835543632507,-0.055374085903168,-0.067286267876625,-0.051686462014914,0.145747050642967,0.076488859951496,-0.040859993547201,-0.048873130232096,0.014914921484888,-0.038562383502722,-0.220541447401047));
res += mul(Get(s3,dx,-dy), float4x4(0.162935093045235,-0.060038935393095,0.045684725046158,0.088197149336338,-0.066276825964451,0.133771955966949,-0.009125599637628,0.017713665962219,-0.065968640148640,0.216635093092918,0.026339154690504,-0.113318800926208,-0.073475837707520,0.015595097094774,0.237669631838799,-0.101136408746243));
res += mul(Get(s3,dx,0), float4x4(0.075959414243698,0.042796790599823,0.040721748024225,0.227426007390022,-0.185634955763817,-0.032541848719120,0.054227236658335,-0.019906669855118,0.101102381944656,-0.142494440078735,0.316257268190384,-0.173625469207764,-0.068530783057213,0.057755462825298,0.047631237655878,-0.068050161004066));
res += mul(Get(s3,dx,dy), float4x4(-0.191280007362366,0.192208886146545,-0.094777829945087,0.228126302361488,-0.003921887371689,-0.030089916661382,0.095440939068794,0.011308828368783,0.104077771306038,-0.047856971621513,0.205913856625557,-0.221369847655296,-0.122327253222466,-0.128159835934639,-0.076055422425270,-0.137746259570122));
return max(float4(0,0,0,0), res);
}
