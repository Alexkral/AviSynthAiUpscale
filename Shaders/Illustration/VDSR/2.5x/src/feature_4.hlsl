sampler s0 : register(s0);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(x, y)   tex2D(s0, tex + float2(x, y))[0]

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += float4(0.106345660984516,-0.090086430311203,-0.001531010959297,-0.100779354572296) * Get(-dx,-dy);
res += float4(1.082214355468750,-0.226133733987808,-0.002627136651427,-0.150779113173485) * Get(-dx,0);
res += float4(0.146515607833862,-0.000075252515671,0.001201448962092,-0.034345250576735) * Get(-dx,dy);
res += float4(-0.359548449516296,-0.170066773891449,0.001590444007888,-0.202023774385452) * Get(0,-dy);
res += float4(0.198980614542961,-0.044100943952799,0.000843370391522,0.954855561256409) * Get(0,0);
res += float4(-0.512731492519379,-0.085906051099300,-0.002998696174473,-0.225358098745346) * Get(0,dy);
res += float4(-0.395856857299805,0.074890702962875,-0.001173291122541,0.104104563593864) * Get(dx,-dy);
res += float4(-0.192880779504776,0.524063944816589,-0.003430140903220,-0.247614756226540) * Get(dx,0);
res += float4(-0.496170908212662,0.029518391937017,-0.001705585978925,-0.057270124554634) * Get(dx,dy);
return max(float4(0,0,0,0), res);
}
