sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.177976772189140,0.144626826047897,0.055417984724045,-0.138850495219231,-0.157312870025635,0.009923340752721,-0.100538350641727,-0.151735752820969,-0.124214299023151,-0.114322155714035,0.139973983168602,0.085071176290512,-0.047782938927412,-0.009715487249196,0.009891386143863,0.173551067709923));
res += mul(Get(s0,-dx,0), float4x4(0.399644851684570,-0.323856621980667,0.275671124458313,-0.143962532281876,-0.150572136044502,-0.031425654888153,0.094529151916504,-0.202868014574051,0.317222356796265,-0.009326104074717,0.043392572551966,-0.150499701499939,-0.030847569927573,0.014181041158736,0.085488654673100,0.119907252490520));
res += mul(Get(s0,-dx,dy), float4x4(-0.108878411352634,0.246911525726318,0.231104835867882,-0.294106006622314,0.074151456356049,0.064313299953938,-0.079646110534668,0.365766733884811,-0.178303897380829,-0.027031935751438,0.096001580357552,0.031436447054148,-0.075922682881355,-0.006105438340455,0.045517940074205,0.081638500094414));
res += mul(Get(s0,0,-dy), float4x4(0.352884709835052,-0.095527142286301,0.251482129096985,-0.002215278800577,0.006494509056211,-0.194332435727119,-0.131880432367325,0.281007975339890,-0.076799191534519,-0.121387928724289,0.152721256017685,-0.055623993277550,-0.028753448277712,-0.011439686641097,-0.052969306707382,-0.015715764835477));
res += mul(Get(s0,0,0), float4x4(0.046246115118265,-0.369366526603699,0.480528742074966,0.052762094885111,-0.203339144587517,-0.254636466503143,-0.019719332456589,-0.096657782793045,0.074653670191765,0.562242090702057,-0.171983018517494,-0.123441003262997,-0.026352077722549,0.034163851290941,-0.051842801272869,0.027330020442605));
res += mul(Get(s0,0,dy), float4x4(-0.172119036316872,-0.146241828799248,-0.216323092579842,0.073878012597561,-0.028104536235332,-0.121176488697529,-0.046956587582827,0.124781109392643,0.092150360345840,0.150665670633316,-0.017718421295285,-0.039058271795511,-0.041837215423584,0.018365748226643,0.007529384922236,0.076314575970173));
res += mul(Get(s0,dx,-dy), float4x4(0.055528026074171,-0.036153323948383,-0.187989234924316,0.045063354074955,0.232401058077812,0.043549802154303,-0.141834929585457,0.103783696889877,-0.071002796292305,-0.083757013082504,-0.159043028950691,-0.072367191314697,-0.059250734746456,-0.041993439197540,-0.138109251856804,-0.054946351796389));
res += mul(Get(s0,dx,0), float4x4(-0.011962816119194,-0.016977038234472,0.150013118982315,-0.135780274868011,-0.078751787543297,-0.187796786427498,0.011886930093169,0.003858443815261,0.041655361652374,0.124449327588081,-0.059188965708017,-0.145641118288040,-0.034496851265430,-0.049723412841558,-0.087402589619160,-0.020501455292106));
res += mul(Get(s0,dx,dy), float4x4(0.087649725377560,0.050251189619303,0.234735935926437,-0.089699774980545,-0.072829097509384,-0.181242674589157,-0.074625104665756,0.179620325565338,0.136099845170975,0.018478726968169,-0.002972328104079,0.005124912597239,-0.046780742704868,-0.073098719120026,-0.018776051700115,0.031260211020708));
res += mul(Get(s1,-dx,-dy), float4x4(-0.146862640976906,0.089145846664906,0.008019685745239,0.042621280997992,-0.037551254034042,0.020925804972649,-0.221488311886787,-0.011110403575003,-0.030210891738534,-0.237291201949120,0.021051993593574,-0.135849371552467,-0.142175972461700,-0.088943324983120,0.583580374717712,0.305509775876999));
res += mul(Get(s1,-dx,0), float4x4(-0.046452376991510,0.220196202397346,-0.076282501220703,-0.013008726760745,-0.064699813723564,0.140728950500488,0.009033824317157,0.090354852378368,-0.134555801749229,-0.142267674207687,0.066784307360649,0.090550430119038,-0.196173414587975,0.245437651872635,0.033378176391125,0.133157968521118));
res += mul(Get(s1,-dx,dy), float4x4(0.060159597545862,0.156897887587547,-0.005123047623783,0.074603386223316,-0.027654720470309,0.167239010334015,-0.083279713988304,-0.097181469202042,0.059522662311792,-0.079019404947758,0.099055767059326,-0.229144871234894,-0.268694996833801,0.362572461366653,-0.005281233228743,-0.078323066234589));
res += mul(Get(s1,0,-dy), float4x4(-0.061615981161594,0.053558904677629,-0.062289133667946,-0.106302171945572,-0.144810095429420,-0.065673202276230,0.009095401503146,0.025217646732926,-0.143570050597191,-0.066491596400738,-0.057162027806044,0.157501205801964,-0.097823917865753,-0.185788884758949,0.173893332481384,0.082969062030315));
res += mul(Get(s1,0,0), float4x4(-0.122321143746376,-0.019797848537564,-0.099100001156330,-0.112692542374134,-0.166648462414742,-0.086330801248550,-0.007856265641749,0.096411235630512,0.000261736568063,-0.155373051762581,-0.093609236180782,0.306295722723007,-0.049177367240191,-0.001270616427064,0.005959290545434,0.176325365900993));
res += mul(Get(s1,0,dy), float4x4(0.039032567292452,-0.033593729138374,-0.040025521069765,-0.006046008784324,-0.110638484358788,-0.181132286787033,-0.052086323499680,-0.071912065148354,0.064795382320881,-0.194882780313492,0.087904945015907,0.152195975184441,-0.107482813298702,0.220205903053284,-0.133032992482185,0.050986163318157));
res += mul(Get(s1,dx,-dy), float4x4(-0.095689803361893,-0.224272042512894,-0.091161087155342,-0.063393577933311,-0.178417667746544,-0.099857144057751,-0.042978901416063,-0.168944761157036,-0.001103782793507,0.094088040292263,0.117703475058079,-0.042297709733248,-0.102519430220127,-0.093203343451023,-0.336245179176331,-0.313421100378036));
res += mul(Get(s1,dx,0), float4x4(-0.044468816369772,-0.152860879898071,-0.020598907023668,-0.099463962018490,-0.045883875340223,0.031884782016277,0.022456718608737,-0.174015611410141,0.408320993185043,0.069594480097294,-0.039933741092682,-0.013877211138606,-0.077203661203384,-0.055503938347101,-0.041291717439890,-0.216783031821251));
res += mul(Get(s1,dx,dy), float4x4(0.167621389031410,-0.095560066401958,0.111679583787918,-0.006716501433402,-0.082347542047501,-0.061690736562014,0.059682998806238,-0.049731161445379,0.318042069673538,0.026701383292675,-0.054387159645557,0.092511989176273,-0.097533211112022,-0.021514656022191,-0.103030107915401,-0.155121326446533));
res += mul(Get(s2,-dx,-dy), float4x4(-0.091578915715218,-0.063602678477764,0.105236522853374,-0.015771590173244,-0.070384405553341,-0.155090838670731,0.111230008304119,0.034030482172966,0.189489036798477,0.294486552476883,0.257747679948807,-0.032736554741859,-0.022899191826582,0.141332700848579,0.196891948580742,0.034533888101578));
res += mul(Get(s2,-dx,0), float4x4(-0.063712373375893,0.199063092470169,0.091208130121231,0.240430533885956,-0.108497694134712,0.039401922374964,-0.022378427907825,0.129422679543495,0.131078332662582,0.044952005147934,0.225356340408325,-0.097415961325169,0.271219581365585,0.271481275558472,-0.092279158532619,0.070729799568653));
res += mul(Get(s2,-dx,dy), float4x4(-0.048191431909800,-0.001159948529676,-0.126873806118965,0.372575998306274,-0.073371738195419,0.109685376286507,0.101106636226177,0.210317745804787,0.169739842414856,0.066042073071003,0.138926535844803,-0.176672562956810,-0.147310853004456,0.000937175936997,-0.166943103075027,0.081409238278866));
res += mul(Get(s2,0,-dy), float4x4(0.013649329543114,-0.201265707612038,0.359177500009537,-0.093481384217739,-0.086917243897915,0.090283617377281,-0.158897206187248,0.023283408954740,0.164235904812813,-0.000568049785215,-0.111516021192074,0.052696399390697,-0.175419747829437,-0.054096031934023,0.004138941410929,0.032905351370573));
res += mul(Get(s2,0,0), float4x4(-0.064231991767883,0.009027344174683,0.164650112390518,-0.059323783963919,-0.002700756769627,0.143837422132492,-0.229553148150444,-0.030796520411968,-0.096379026770592,-0.103760294616222,-0.060326885432005,-0.056712631136179,-0.043110322207212,0.155005484819412,-0.058490425348282,-0.036321770399809));
res += mul(Get(s2,0,dy), float4x4(0.025013584643602,-0.096897326409817,-0.074890136718750,0.139540836215019,-0.037369053810835,0.026229517534375,0.100553713738918,-0.221933171153069,-0.099221140146255,0.338052242994308,-0.215953901410103,-0.131420090794563,-0.016994427889585,-0.065418951213360,-0.010520382784307,-0.128082543611526));
res += mul(Get(s2,dx,-dy), float4x4(0.144201949238777,-0.249254450201988,0.014163838699460,0.162574455142021,-0.120981015264988,0.029842672869563,0.017435371875763,-0.056309074163437,0.043690394610167,0.066784419119358,-0.201005384325981,0.088394179940224,-0.110814064741135,-0.220862761139870,-0.197624355554581,0.137975469231606));
res += mul(Get(s2,dx,0), float4x4(-0.198480814695358,-0.029341008514166,-0.117049381136894,0.038719382137060,0.130963012576103,0.053606651723385,-0.074058897793293,0.158197820186615,-0.057574391365051,-0.010933512821794,0.057009581476450,-0.062379337847233,-0.227056533098221,0.068366095423698,-0.038070049136877,0.104224286973476));
res += mul(Get(s2,dx,dy), float4x4(-0.086591497063637,-0.088699899613857,-0.059475533664227,0.003493624040857,0.096931368112564,0.157848626375198,0.116139791905880,0.178724333643913,-0.167627751827240,-0.153510004281998,0.125778630375862,-0.139640241861343,0.224283009767532,-0.197565406560898,0.039711356163025,0.210372611880302));
res += mul(Get(s3,-dx,-dy), float4x4(0.163785621523857,-0.051363937556744,0.026331920176744,0.017799003049731,0.080682300031185,-0.068453878164291,0.069515705108643,0.103099510073662,-0.018655132502317,-0.067699082195759,-0.030047073960304,0.004074388183653,0.039714772254229,0.016799135133624,0.088222600519657,0.143685609102249));
res += mul(Get(s3,-dx,0), float4x4(-0.001608371734619,-0.031853217631578,-0.079090833663940,0.124383717775345,0.028317051008344,-0.035617273300886,0.053487610071898,0.005612585693598,-0.137356847524643,-0.039272442460060,-0.007273896131665,-0.009534660726786,-0.005780664738268,0.127761632204056,0.034347821027040,0.149214670062065));
res += mul(Get(s3,-dx,dy), float4x4(-0.105021186172962,0.044199876487255,-0.075159706175327,-0.097037903964520,0.008998962119222,0.053783137351274,0.030689189210534,0.059292577207088,-0.045531149953604,0.117677338421345,0.011011770926416,0.146002173423767,-0.099421173334122,-0.043171696364880,0.057831972837448,-0.074444584548473));
res += mul(Get(s3,0,-dy), float4x4(0.090753912925720,-0.074376367032528,0.023732364177704,-0.129546388983727,0.116448774933815,-0.038494929671288,0.027789659798145,0.089523233473301,0.050036888569593,0.211612462997437,-0.136789396405220,0.303470015525818,-0.090486809611320,-0.117010608315468,0.259457141160965,-0.068420484662056));
res += mul(Get(s3,0,0), float4x4(0.067448876798153,-0.193838030099869,-0.041108742356300,-0.082496665418148,0.126470193266869,-0.018148530274630,0.020749157294631,-0.005836815107614,0.012441765516996,-0.030234683305025,-0.043139178305864,0.162584245204926,-0.058831803500652,0.052554275840521,-0.164252087473869,0.058313705027103));
res += mul(Get(s3,0,dy), float4x4(0.066835932433605,-0.040250770747662,-0.035233981907368,0.019416974857450,0.055163033306599,0.046640869230032,0.047618571668863,-0.005813611205667,0.079208835959435,0.030164770781994,0.085563533008099,0.098554946482182,-0.051415961235762,0.155555799603462,-0.095550999045372,0.075670816004276));
res += mul(Get(s3,dx,-dy), float4x4(-0.032139874994755,-0.049780450761318,0.002389540430158,-0.085124664008617,0.125909507274628,-0.026446279138327,0.155493944883347,-0.038854379206896,-0.066981032490730,0.279576450586319,-0.069368571043015,0.298059195280075,-0.133534505963326,0.045949850231409,-0.019538674503565,-0.007303395308554));
res += mul(Get(s3,dx,0), float4x4(0.083523355424404,-0.205567330121994,-0.118765607476234,-0.032898277044296,0.161810696125031,-0.020552180707455,0.107092246413231,-0.108079575002193,-0.013943201862276,0.157798826694489,-0.110669881105423,0.062694758176804,-0.061118565499783,0.096955001354218,0.002307783113793,-0.039806734770536));
res += mul(Get(s3,dx,dy), float4x4(0.264552921056747,-0.040134046226740,-0.031174767762423,0.244878217577934,0.089977763593197,0.001980178058147,0.100038550794125,-0.139754891395569,0.006301701068878,0.107720226049423,-0.100878320634365,-0.061589069664478,-0.095755986869335,0.033700261265039,-0.000140288757393,0.040724873542786));
return max(float4(0,0,0,0), res);
}
