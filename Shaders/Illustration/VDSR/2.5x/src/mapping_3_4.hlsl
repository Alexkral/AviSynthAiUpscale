sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.222446098923683,-0.017283495515585,0.064772017300129,-0.003918449860066,0.115208260715008,-0.047524321824312,-0.038587491959333,-0.015047348104417,-0.004427234642208,-0.101623430848122,-0.066472254693508,-0.182518377900124,0.029213337227702,0.001290137995966,0.053077414631844,0.090302824974060));
res += mul(Get(s0,-dx,0), float4x4(0.045123592019081,0.097222104668617,-0.044444352388382,0.033772025257349,-0.273172557353973,-0.083690196275711,0.003088613506407,-0.120793744921684,0.064532049000263,0.107028804719448,0.164257541298866,-0.119961790740490,0.020343190059066,0.147821113467216,0.129564315080643,0.130451261997223));
res += mul(Get(s0,-dx,dy), float4x4(0.138331606984138,-0.124164558947086,-0.128978863358498,0.040571540594101,-0.181797519326210,-0.027806211262941,-0.082721970975399,0.059472743421793,-0.078504726290703,-0.007903504185379,0.129786565899849,0.016097754240036,-0.028144331648946,0.057431258261204,0.032953128218651,0.043579544872046));
res += mul(Get(s0,0,-dy), float4x4(0.034570232033730,-0.113577485084534,-0.042363472282887,-0.055207353085279,-0.161214172840118,-0.154272153973579,0.190055593848228,-0.214829534292221,0.014154460281134,-0.232163399457932,-0.052609879523516,0.017542568966746,0.044806942343712,0.034115806221962,-0.257654845714569,-0.037270769476891));
res += mul(Get(s0,0,0), float4x4(-0.272996127605438,-0.066607438027859,0.119421258568764,0.125068411231041,0.078719682991505,0.158606544137001,0.156857937574387,-0.124097093939781,-0.026616685092449,0.100463598966599,0.041907444596291,0.049721039831638,-0.028522556647658,-0.015131548047066,-0.023322325199842,0.114618577063084));
res += mul(Get(s0,0,dy), float4x4(-0.204678997397423,0.101368278264999,-0.137149900197983,-0.232535347342491,-0.123067677021027,-0.104160316288471,0.114179633557796,0.046531740576029,0.224463284015656,-0.015419351868331,-0.093118436634541,0.088587224483490,0.079495489597321,0.112946145236492,-0.170885130763054,-0.110380008816719));
res += mul(Get(s0,dx,-dy), float4x4(-0.030178204178810,-0.114353641867638,0.034354727715254,-0.202759772539139,-0.117560699582100,0.036104455590248,-0.063763454556465,-0.086437352001667,0.069077737629414,-0.100340075790882,0.063179291784763,-0.090935990214348,-0.042462877929211,0.085810065269470,-0.025706056505442,-0.124284654855728));
res += mul(Get(s0,dx,0), float4x4(0.050485599786043,0.037522029131651,-0.075201354920864,-0.003833313006908,0.009402767755091,-0.154122814536095,0.099774457514286,0.059772800654173,-0.259423375129700,0.147944003343582,-0.005143426824361,0.059404727071524,0.030402822420001,0.007770237512887,0.126247823238373,-0.018803099170327));
res += mul(Get(s0,dx,dy), float4x4(0.002040232764557,-0.114732801914215,-0.181492313742638,-0.082461602985859,0.203495860099792,0.021500371396542,0.119323909282684,0.072243772447109,-0.035774350166321,0.080570057034492,-0.059288904070854,-0.113795712590218,-0.147387653589249,0.009449455887079,-0.002554762875661,-0.030984362587333));
res += mul(Get(s1,-dx,-dy), float4x4(-0.133856311440468,-0.115468986332417,-0.021772176027298,-0.074537612497807,0.195057541131973,0.052383005619049,0.226496070623398,-0.041093565523624,-0.025793958455324,-0.057365998625755,-0.238066673278809,0.169387444853783,0.023383537307382,0.044667817652225,-0.148967355489731,0.065561063587666));
res += mul(Get(s1,-dx,0), float4x4(-0.094936564564705,-0.019493535161018,-0.014894863590598,0.060771130025387,-0.073639824986458,-0.360429763793945,0.021334739401937,-0.238979965448380,0.093052774667740,-0.047507498413324,0.255294114351273,0.000398857577238,-0.009846068918705,-0.033921074122190,-0.063072435557842,0.056914906948805));
res += mul(Get(s1,-dx,dy), float4x4(-0.075503826141357,0.031910061836243,0.172920122742653,-0.060128834098577,0.014273779466748,0.059128470718861,-0.052249968051910,0.196428835391998,-0.188867226243019,-0.114810369908810,0.034244228154421,0.049885705113411,-0.043272141367197,-0.076790094375610,0.153406009078026,-0.040661823004484));
res += mul(Get(s1,0,-dy), float4x4(0.036203280091286,0.051613982766867,-0.105083480477333,-0.120753265917301,-0.023610418662429,0.092961080372334,-0.024392955005169,-0.001606347737834,0.019982581958175,0.094364464282990,0.063448391854763,-0.100087270140648,-0.261242657899857,0.019470771774650,0.252950906753540,-0.023425932973623));
res += mul(Get(s1,0,0), float4x4(0.073515981435776,-0.049620013684034,0.121579624712467,0.051215648651123,0.114118024706841,0.056965842843056,0.348731040954590,-0.092028565704823,0.046021085232496,0.082564935088158,-0.125689893960953,0.055008459836245,0.120952278375626,0.037216272205114,0.016943039372563,0.067787036299706));
res += mul(Get(s1,0,dy), float4x4(-0.122565478086472,0.100339584052563,-0.019671518355608,0.052174028009176,0.091137930750847,0.041771896183491,0.004259521607310,0.118671290576458,-0.044978212565184,-0.083388663828373,-0.074110418558121,0.188779339194298,0.074425034224987,-0.015528501942754,-0.231247007846832,-0.160985961556435));
res += mul(Get(s1,dx,-dy), float4x4(-0.056284639984369,-0.073964960873127,-0.085316732525826,-0.115878909826279,-0.007632562890649,-0.092558637261391,0.026884375140071,0.034642640501261,0.052710279822350,-0.098863422870636,-0.104442559182644,0.024873990565538,-0.012733416631818,-0.165383562445641,0.286231338977814,-0.013737411238253));
res += mul(Get(s1,dx,0), float4x4(-0.075083039700985,0.089455179870129,-0.036269217729568,0.060866799205542,0.079509772360325,-0.080466538667679,0.020800696685910,-0.051702704280615,-0.087594151496887,0.147842124104500,0.282257825136185,-0.075926214456558,0.079411290585995,-0.024744579568505,-0.076280221343040,-0.211843833327293));
res += mul(Get(s1,dx,dy), float4x4(0.063215605914593,-0.005306898616254,0.176628157496452,-0.121636070311069,-0.188150733709335,-0.030881211161613,-0.048856280744076,-0.052262090146542,0.078264504671097,-0.111780293285847,-0.078313849866390,0.019655043259263,-0.097764015197754,-0.090204313397408,-0.108219586312771,-0.136555358767509));
res += mul(Get(s2,-dx,-dy), float4x4(-0.117995515465736,-0.059059031307697,-0.076161973178387,0.234438598155975,-0.050381314009428,-0.106520369648933,-0.358176797628403,0.035238835960627,-0.040354821830988,-0.015838636085391,-0.043059136718512,-0.100307725369930,-0.095924623310566,0.135492280125618,-0.100664161145687,0.004428820218891));
res += mul(Get(s2,-dx,0), float4x4(-0.024872856214643,0.032600861042738,0.233488723635674,0.132376611232758,-0.024515729397535,-0.063386999070644,0.092344507575035,-0.192558258771896,-0.000904019689187,0.044340696185827,0.024484060704708,-0.087226234376431,0.060143936425447,0.076634839177132,0.117114976048470,-0.202306061983109));
res += mul(Get(s2,-dx,dy), float4x4(0.008956386707723,0.205183818936348,-0.119606353342533,0.096861921250820,-0.116363324224949,0.022079922258854,0.086572997272015,0.193325027823448,0.259137451648712,0.049490828067064,0.044875416904688,-0.058729860931635,0.153457343578339,-0.157521262764931,-0.110532939434052,0.027277115732431));
res += mul(Get(s2,0,-dy), float4x4(-0.025961805135012,-0.008485902100801,0.074409455060959,-0.020229466259480,0.092980258166790,0.133590131998062,-0.185495778918266,-0.006786403711885,-0.067460514605045,-0.051044002175331,0.064935535192490,-0.025575196370482,0.205953478813171,-0.028002640232444,0.024536836892366,0.088086396455765));
res += mul(Get(s2,0,0), float4x4(-0.177285596728325,-0.012407291680574,-0.070158846676350,-0.078515775501728,0.063646271824837,-0.128187179565430,0.085328452289104,-0.138228312134743,-0.147541522979736,-0.057723708450794,0.117635905742645,0.267376989126205,0.258618354797363,-0.074895285069942,0.035749111324549,-0.118236243724823));
res += mul(Get(s2,0,dy), float4x4(0.249459370970726,0.168602392077446,-0.025312056764960,-0.130762100219727,-0.139985561370850,0.137920275330544,0.096041046082973,-0.073470905423164,-0.097637310624123,-0.029945390298963,-0.146408721804619,-0.107486903667450,0.141918122768402,-0.028212824836373,0.072320803999901,0.040943741798401));
res += mul(Get(s2,dx,-dy), float4x4(-0.029718007892370,-0.014434893615544,-0.066952548921108,-0.087565258145332,0.040909703820944,-0.088276050984859,0.022438989952207,-0.158604979515076,0.041476011276245,0.004932321608067,-0.131789401173592,-0.151541233062744,0.017274055629969,0.159383073449135,0.043925460427999,0.076910465955734));
res += mul(Get(s2,dx,0), float4x4(-0.052065521478653,0.141894012689590,0.181100785732269,-0.027711028233171,-0.177923962473869,-0.027671117335558,0.066704906523228,0.097563505172729,0.082382701337337,0.015245838090777,-0.116155602037907,-0.197231978178024,0.088428750634193,-0.062418848276138,-0.167929843068123,-0.022901838645339));
res += mul(Get(s2,dx,dy), float4x4(0.118725381791592,-0.059502393007278,0.035854555666447,-0.154195576906204,0.046980638056993,-0.075441733002663,0.016672464087605,-0.084579542279243,0.053801391273737,-0.107957199215889,0.094153523445129,0.021868288516998,-0.063858240842819,0.028607949614525,-0.120840251445770,0.071299359202385));
res += mul(Get(s3,-dx,-dy), float4x4(0.093575485050678,0.156463116407394,0.031829211860895,-0.039924100041389,0.101634748280048,-0.171374246478081,0.133672937750816,-0.048928357660770,0.017393667250872,0.024542823433876,0.087717033922672,0.144096747040749,-0.172945782542229,-0.115186594426632,-0.025621153414249,-0.041202683001757));
res += mul(Get(s3,-dx,0), float4x4(0.093717589974403,-0.110440909862518,0.025736382231116,-0.148057460784912,-0.118449896574020,-0.178619965910912,0.120292760431767,0.101495981216431,-0.169139623641968,-0.010424572043121,0.086910210549831,0.078588441014290,0.053364928811789,0.057702165096998,0.105814754962921,0.101844780147076));
res += mul(Get(s3,-dx,dy), float4x4(-0.062353268265724,0.061416007578373,0.091336540877819,0.112281367182732,-0.214591965079308,0.016776988282800,0.070826202630997,0.100645519793034,0.024355592206120,0.210745111107826,0.006932917982340,0.135407820343971,-0.000311543903081,0.186212241649628,0.016876449808478,-0.046679228544235));
res += mul(Get(s3,0,-dy), float4x4(-0.123714543879032,-0.198289483785629,0.090651452541351,-0.170164376497269,-0.028861414641142,-0.007363641168922,-0.066482529044151,0.054070200771093,0.138049647212029,-0.010181941092014,0.123381212353706,-0.023479375988245,-0.086496718227863,-0.020135764032602,0.094195753335953,0.066847644746304));
res += mul(Get(s3,0,0), float4x4(-0.012236962094903,0.014940700493753,0.195525467395782,-0.039482451975346,-0.069716162979603,0.284023076295853,0.067683979868889,-0.030056107789278,0.021975865587592,0.033542528748512,0.069792509078979,-0.003241602331400,0.052493736147881,-0.049346297979355,0.074832983314991,0.045839529484510));
res += mul(Get(s3,0,dy), float4x4(0.037999730557203,-0.128513365983963,0.145266309380531,-0.049668546766043,-0.110055595636368,0.014809372834861,0.069529242813587,-0.138490051031113,-0.134266912937164,-0.146742939949036,-0.003237744560465,-0.113010682165623,0.210973054170609,-0.227599561214447,-0.002501111011952,-0.072857655584812));
res += mul(Get(s3,dx,-dy), float4x4(-0.036140758544207,0.161269858479500,0.083863086998463,-0.031578674912453,-0.031427573412657,-0.130546823143959,-0.217687949538231,0.075056895613670,-0.166480958461761,-0.021482024341822,0.135169312357903,-0.146892800927162,0.172112241387367,-0.021891020238400,-0.093371264636517,0.043428637087345));
res += mul(Get(s3,dx,0), float4x4(-0.059241898357868,0.221060648560524,-0.066715784370899,-0.109806902706623,-0.026446294039488,-0.254439443349838,-0.089139923453331,-0.034244097769260,-0.007484849542379,0.001426695496775,-0.051901519298553,0.077665179967880,0.000556828163099,-0.081267677247524,0.025782132521272,-0.222786232829094));
res += mul(Get(s3,dx,dy), float4x4(-0.108223006129265,-0.077723242342472,-0.217421740293503,0.001381067326292,0.040454939007759,0.124535657465458,0.093894086778164,-0.108843445777893,-0.048030778765678,0.095406085252762,-0.056890387088060,0.087000928819180,0.045597072690725,0.159500390291214,0.105232603847980,0.370729833841324));
return max(float4(0,0,0,0), res);
}
