sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.076966106891632,0.057840734720230,-0.150183260440826,-0.038784198462963,0.147706106305122,-0.086042284965515,-0.054364241659641,0.066401429474354,0.079124711453915,0.048617869615555,-0.049830876290798,-0.002099708421156,0.086579166352749,0.016200797632337,-0.066534452140331,0.173507168889046));
res += mul(Get(s0,-dx,0), float4x4(0.034883916378021,0.115865446627140,-0.065121322870255,-0.159787073731422,-0.185887470841408,0.013058828189969,0.112362638115883,0.088880948722363,-0.121050864458084,0.246503159403801,-0.009159424342215,-0.048266317695379,0.192905023694038,0.026679927483201,-0.027828447520733,-0.130668297410011));
res += mul(Get(s0,-dx,dy), float4x4(-0.093535631895065,0.107457935810089,-0.037141308188438,-0.160116836428642,0.200348481535912,-0.026326397433877,0.074844107031822,0.063650406897068,-0.032845929265022,-0.108932025730610,0.116938114166260,-0.051172975450754,-0.037756588310003,0.221527218818665,0.076978512108326,-0.100194834172726));
res += mul(Get(s0,0,-dy), float4x4(0.089484423398972,0.115274824202061,0.020427927374840,0.069179296493530,0.019019776955247,-0.055159162729979,-0.119046434760094,-0.079664029181004,-0.012696204707026,-0.210475996136665,-0.010691778734326,-0.067859560251236,0.168618321418762,0.105986729264259,-0.023626741021872,-0.148327305912971));
res += mul(Get(s0,0,0), float4x4(0.316043585538864,-0.090827912092209,-0.039879303425550,0.021495232358575,0.020476663485169,-0.094572611153126,-0.004792724270374,0.002682368503883,-0.258666813373566,0.108448125422001,-0.219294592738152,-0.175146490335464,-0.110325232148170,-0.049025859683752,-0.066553682088852,-0.055033896118402));
res += mul(Get(s0,0,dy), float4x4(0.202580466866493,-0.118238441646099,-0.044371064752340,-0.239041090011597,0.005544603336602,-0.125748112797737,-0.044262427836657,0.070496417582035,0.149610936641693,-0.026103999465704,0.102876715362072,0.079439021646976,-0.140554577112198,-0.071841217577457,0.114759661257267,0.098145693540573));
res += mul(Get(s0,dx,-dy), float4x4(0.047826882451773,0.141395270824432,0.016235800459981,0.033953111618757,0.206975504755974,0.029094858095050,0.024898422881961,0.210873961448669,-0.027866868302226,0.151604905724525,-0.024119451642036,-0.144326418638229,0.153063669800758,-0.064832925796509,0.067344121634960,0.045657832175493));
res += mul(Get(s0,dx,0), float4x4(0.080009944736958,-0.079628355801105,0.129802674055099,0.055625759065151,-0.034266870468855,0.196939304471016,-0.052769321948290,-0.039363879710436,-0.089064776897430,0.161318510770798,0.058905899524689,-0.008854478597641,-0.093675754964352,-0.145529776811600,-0.129038929939270,-0.054151669144630));
res += mul(Get(s0,dx,dy), float4x4(0.018131768330932,0.095359116792679,-0.131193488836288,0.057028692215681,0.000549386546481,-0.038224749267101,-0.025700723752379,-0.232349172234535,0.057599615305662,-0.027864564210176,0.086817085742950,-0.094841577112675,-0.006160444114357,-0.045178566128016,-0.238881677389145,-0.133331716060638));
res += mul(Get(s1,-dx,-dy), float4x4(0.112457416951656,0.082508236169815,-0.012730930000544,-0.139292612671852,0.059292681515217,0.170095145702362,-0.228412762284279,0.061571907252073,-0.037451982498169,0.021809365600348,0.001032382017002,-0.001459611114115,-0.029358658939600,-0.023324834182858,0.018525136634707,-0.004453021101654));
res += mul(Get(s1,-dx,0), float4x4(-0.151957303285599,0.117542766034603,-0.179190203547478,-0.141286894679070,0.091209620237350,0.017507012933493,-0.091218493878841,-0.047409884631634,-0.157226428389549,0.135393843054771,0.128374248743057,0.022453542798758,0.051109660416842,0.039471190422773,0.115954555571079,-0.032772798091173));
res += mul(Get(s1,-dx,dy), float4x4(0.207451984286308,-0.005833652801812,-0.109771072864532,0.015520796179771,-0.071709223091602,-0.022875379770994,-0.032983686774969,-0.115709215402603,0.114246197044849,-0.075738988816738,0.044861640781164,-0.016910096630454,0.000163258519024,0.125713929533958,-0.143926128745079,0.011062216013670));
res += mul(Get(s1,0,-dy), float4x4(0.030543431639671,-0.180511951446533,0.061438716948032,-0.108890101313591,0.149830192327499,-0.058670256286860,-0.057241812348366,0.007915084250271,-0.018412355333567,0.049290165305138,-0.125886768102646,-0.002045176923275,0.128696277737617,-0.019297145307064,0.248087957501411,0.228690594434738));
res += mul(Get(s1,0,0), float4x4(0.057400275021791,0.152841627597809,0.111369945108891,0.003420687280595,0.180910930037498,0.172931164503098,-0.134041860699654,-0.075438372790813,-0.077812522649765,0.155212089419365,-0.106639318168163,0.120904192328453,0.093690551817417,-0.084483318030834,0.047510992735624,-0.143536120653152));
res += mul(Get(s1,0,dy), float4x4(0.083017461001873,-0.044396206736565,0.034157130867243,0.061739575117826,0.022661162540317,0.144249230623245,0.066761478781700,0.174315080046654,0.003764046123251,-0.152753174304962,0.058513712137938,0.048364434391260,0.006849338766187,0.016289185732603,-0.044855639338493,-0.063612632453442));
res += mul(Get(s1,dx,-dy), float4x4(0.007682685274631,0.011532342061400,-0.052449546754360,-0.194747701287270,-0.222840189933777,-0.082808159291744,-0.116865046322346,0.009362806566060,0.075515933334827,-0.070983745157719,-0.002029117895290,0.056557729840279,-0.064706690609455,-0.035985600203276,-0.007986392825842,-0.069334313273430));
res += mul(Get(s1,dx,0), float4x4(0.038665492087603,0.099191293120384,0.007506060414016,0.068081647157669,-0.197381511330605,0.074175432324409,0.123122058808804,-0.044082164764404,-0.015750819817185,-0.004638894926757,-0.039022646844387,0.064369641244411,-0.038642175495625,-0.051409609615803,-0.067512169480324,0.020637385547161));
res += mul(Get(s1,dx,dy), float4x4(0.121139168739319,0.087215632200241,0.189702033996582,0.068514131009579,-0.099131964147091,0.095703125000000,0.033353772014380,0.020192150026560,0.016161551699042,0.049067944288254,0.053413614630699,0.139660015702248,0.330716013908386,-0.078554406762123,-0.020320422947407,-0.166813567280769));
res += mul(Get(s2,-dx,-dy), float4x4(-0.098122134804726,-0.120295092463493,0.029827697202563,-0.055018179118633,-0.140142664313316,0.133880898356438,0.008388994261622,-0.090398930013180,-0.043589994311333,-0.206559300422668,0.017186015844345,-0.076135337352753,-0.123448200523853,-0.061439108103514,0.016472477465868,0.015030071139336));
res += mul(Get(s2,-dx,0), float4x4(0.210382476449013,-0.031856253743172,0.081186152994633,0.105684854090214,0.022042253986001,0.129776477813721,0.007436908315867,-0.045260295271873,0.032815445214510,0.107743911445141,0.095798797905445,0.008487472310662,0.002335803117603,0.028270443901420,0.035326980054379,0.169954016804695));
res += mul(Get(s2,-dx,dy), float4x4(0.022012710571289,-0.025298424065113,-0.110242635011673,-0.011095451191068,-0.181794241070747,-0.106448851525784,0.006582135334611,0.115972921252251,-0.139321029186249,-0.079907558858395,0.063003219664097,0.058497183024883,0.089820966124535,0.061911318451166,0.046302471309900,-0.045826867222786));
res += mul(Get(s2,0,-dy), float4x4(-0.207557633519173,-0.213200166821480,-0.020213700830936,-0.089176259934902,0.024738123640418,0.142136901617050,-0.118089951574802,0.107576198875904,-0.120214447379112,0.041306141763926,-0.030067859217525,-0.007282251492143,-0.013855700381100,0.198590919375420,-0.098199322819710,0.116314172744751));
res += mul(Get(s2,0,0), float4x4(-0.179662257432938,-0.027013482525945,-0.054150220006704,0.035763904452324,0.020351633429527,0.121913038194180,0.012403914704919,0.049644701182842,0.079807192087173,-0.103421181440353,-0.071742713451385,0.041681077331305,0.022400256246328,-0.048772387206554,-0.046412095427513,0.027027981355786));
res += mul(Get(s2,0,dy), float4x4(0.079906031489372,-0.103918932378292,-0.094584770500660,0.032239980995655,-0.063658840954304,-0.007493683137000,0.222332850098610,-0.033477634191513,-0.069592647254467,-0.001502031576820,0.003239807207137,0.170459076762199,0.104021325707436,0.052033990621567,0.018081165850163,0.052262086421251));
res += mul(Get(s2,dx,-dy), float4x4(-0.112671472132206,-0.089521564543247,-0.070137292146683,0.036652762442827,0.066720291972160,0.065995924174786,-0.014055791310966,-0.070994921028614,-0.111370161175728,0.070643872022629,0.082820340991020,0.030842339619994,0.006193107925355,-0.044130638241768,-0.198062106966972,0.071344010531902));
res += mul(Get(s2,dx,0), float4x4(-0.143022254109383,-0.055257726460695,-0.043621379882097,0.034544389694929,-0.062518343329430,0.016047332435846,0.007962048985064,0.101731561124325,0.055090617388487,-0.065133400261402,0.094133675098419,0.007226138375700,0.128108993172646,-0.166817620396614,-0.179932937026024,0.061151564121246));
res += mul(Get(s2,dx,dy), float4x4(-0.130302414298058,-0.167880773544312,-0.102310165762901,0.105712175369263,-0.057774886488914,-0.061710938811302,-0.062954768538475,-0.114740312099457,0.127303823828697,0.086256965994835,0.037497248500586,0.008026495575905,-0.046627625823021,-0.067565381526947,-0.010848576202989,0.106937244534492));
res += mul(Get(s3,-dx,-dy), float4x4(0.027355389669538,0.051736369729042,-0.149067744612694,-0.029239043593407,-0.036250591278076,0.009692665189505,0.019771607592702,0.019081521779299,-0.190150961279869,-0.137556597590446,-0.007561318110675,0.138777136802673,0.038103699684143,-0.224425539374352,-0.080560885369778,-0.092031106352806));
res += mul(Get(s3,-dx,0), float4x4(0.000043059517338,-0.205521926283836,-0.063505761325359,0.004915032070130,0.103919260203838,0.057817444205284,0.083445452153683,0.092704258859158,-0.011115315370262,0.131409078836441,0.002703839447349,0.000075730320532,0.022400483489037,0.058938961476088,0.153733476996422,0.027795756235719));
res += mul(Get(s3,-dx,dy), float4x4(-0.083666309714317,-0.147165536880493,0.058509495109320,-0.089356027543545,-0.055827535688877,0.120998278260231,-0.006685172207654,-0.027641439810395,-0.050831891596317,-0.019525382667780,0.069183364510536,0.154866054654121,-0.142796933650970,-0.117470495402813,-0.019291192293167,0.223805695772171));
res += mul(Get(s3,0,-dy), float4x4(0.149083629250526,-0.147684529423714,-0.160811379551888,-0.017041290178895,0.120597533881664,0.020163662731647,-0.167858615517616,-0.058538403362036,-0.010157183744013,-0.074685141444206,-0.006662874948233,-0.201798468828201,-0.071157194674015,0.103358596563339,-0.097217053174973,0.089783236384392));
res += mul(Get(s3,0,0), float4x4(-0.028679573908448,-0.025964654982090,-0.047476582229137,-0.080574795603752,0.083071529865265,0.069569312036037,-0.024819800630212,0.059420160949230,0.099926233291626,0.064971096813679,0.120162062346935,0.112118475139141,-0.053301453590393,0.021178781986237,-0.064207509160042,0.294462800025940));
res += mul(Get(s3,0,dy), float4x4(-0.021203335374594,0.265096962451935,0.022986572235823,-0.060885388404131,0.012347120791674,0.012007127515972,-0.040918339043856,-0.022288337349892,0.081783674657345,-0.008905221708119,-0.000795697036665,0.012296289205551,-0.070969440042973,-0.130056723952293,-0.050424143671989,-0.138360694050789));
res += mul(Get(s3,dx,-dy), float4x4(0.002160680480301,0.221538871526718,-0.036857225000858,0.145111814141273,0.128838300704956,0.224566683173180,-0.010046595707536,0.033585008233786,-0.112970836460590,0.034614533185959,-0.141699329018593,0.283559054136276,0.151761695742607,0.157925799489021,0.181224092841148,0.017249345779419));
res += mul(Get(s3,dx,0), float4x4(-0.151011496782303,0.032672762870789,-0.059990316629410,0.011288947425783,0.159088388085365,0.019137378782034,-0.064432032406330,0.124730698764324,0.218191772699356,0.038537900894880,0.027602661401033,0.045849490910769,0.053914614021778,0.151767671108246,0.037782561033964,0.054752409458160));
res += mul(Get(s3,dx,dy), float4x4(0.128317266702652,0.096548900008202,0.131608694791794,0.014889740385115,-0.010376191698015,0.036427598446608,0.103902406990528,-0.137315228581429,-0.168856248259544,-0.080238007009029,0.002944303210825,-0.137915685772896,0.145024612545967,0.053520884364843,0.312884688377380,-0.071483984589577));
return max(float4(0,0,0,0), res);
}
