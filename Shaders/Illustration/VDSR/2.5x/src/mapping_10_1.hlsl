sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.077493578195572,0.102616295218468,-0.022527029737830,0.014649941585958,0.024909745901823,0.042488925158978,-0.115108639001846,0.040752552449703,0.233249351382256,-0.072097420692444,-0.133255586028099,-0.090711638331413,0.105122834444046,0.077073521912098,-0.188765063881874,0.084640495479107));
res += mul(Get(s0,-dx,0), float4x4(-0.072769083082676,-0.000401372439228,-0.066580079495907,0.109195187687874,0.108015544712543,-0.082449257373810,0.027908420190215,0.123975284397602,-0.280483484268188,-0.071871653199196,-0.131557703018188,0.171634674072266,0.012108610942960,-0.079339466989040,-0.000558748550247,0.024883011355996));
res += mul(Get(s0,-dx,dy), float4x4(0.018511658534408,0.053576927632093,0.018703151494265,0.025949800387025,0.088383175432682,-0.025571005418897,-0.081276804208755,-0.034668672829866,-0.232362762093544,0.154775425791740,0.166204243898392,0.016719589009881,0.031690493226051,-0.096941433846951,0.104642502963543,-0.201382070779800));
res += mul(Get(s0,0,-dy), float4x4(-0.035008046776056,0.046885777264833,0.158015087246895,-0.069315269589424,0.006984471809119,-0.096288748085499,-0.091593012213707,0.074837788939476,0.076631583273411,-0.061308611184359,-0.084554195404053,-0.104092165827751,0.082424946129322,0.051193032413721,0.029086943715811,0.240678027272224));
res += mul(Get(s0,0,0), float4x4(0.014645616523921,0.110511332750320,0.026700466871262,-0.065695308148861,0.079155199229717,-0.091849602758884,-0.107413679361343,0.031979989260435,-0.186083182692528,-0.006330446805805,-0.014138833619654,-0.139974460005760,0.001197195262648,0.049333304166794,0.085069708526134,-0.067605361342430));
res += mul(Get(s0,0,dy), float4x4(0.031403295695782,-0.030377091839910,-0.014925902709365,-0.015392154455185,0.004697927273810,0.091370426118374,-0.091744877398014,-0.099931240081787,-0.123712353408337,0.059967357665300,0.170242309570313,-0.022484490647912,-0.012647149153054,0.206999480724335,0.257146328687668,-0.123193182051182));
res += mul(Get(s0,dx,-dy), float4x4(-0.027239723131061,0.002477520611137,-0.365951687097549,0.003310452681035,-0.023665918037295,-0.020669335499406,0.101076386868954,0.407149314880371,0.113195262849331,-0.078298129141331,-0.003042083932087,0.037314046174288,0.001550547312945,0.250677019357681,-0.013635211624205,-0.059070672839880));
res += mul(Get(s0,dx,0), float4x4(0.011403036303818,-0.064570389688015,-0.238349065184593,-0.047081306576729,-0.001341277733445,0.115568108856678,-0.073490753769875,0.078805409371853,0.140447258949280,-0.058173324912786,-0.023050140589476,0.067678891122341,0.130702137947083,0.218874454498291,-0.041064552962780,-0.165485993027687));
res += mul(Get(s0,dx,dy), float4x4(0.112072139978409,-0.048724472522736,-0.109599418938160,0.143362835049629,-0.020907392725348,-0.179714053869247,0.086728498339653,0.069386474788189,0.050205942243338,0.305120319128036,-0.061029504984617,0.001540977740660,0.079029247164726,-0.169123724102974,-0.085788890719414,-0.023972718045115));
res += mul(Get(s1,-dx,-dy), float4x4(0.012211395427585,0.018930675461888,0.140628769993782,-0.116024382412434,0.015297698788345,-0.043183494359255,-0.027231210842729,-0.013975907117128,-0.055755402892828,-0.062149349600077,0.018861358985305,0.008757377974689,0.039681177586317,-0.112177088856697,-0.008915221318603,-0.100394397974014));
res += mul(Get(s1,-dx,0), float4x4(-0.063191190361977,-0.064436286687851,0.007656856905669,0.043174184858799,-0.062285576015711,0.186998710036278,0.050294425338507,-0.081568308174610,0.040006007999182,0.033790089190006,0.174559593200684,0.011056371964514,-0.059040386229753,-0.100028455257416,0.077398464083672,-0.052962973713875));
res += mul(Get(s1,-dx,dy), float4x4(0.047047249972820,0.147881075739861,0.083612225949764,0.024797748774290,0.227395474910736,0.133741006255150,0.011541239917278,-0.092225283384323,0.081864282488823,-0.001756175770424,0.127443268895149,-0.030956123024225,-0.030088534578681,-0.016649765893817,0.154694452881813,-0.071571551263332));
res += mul(Get(s1,0,-dy), float4x4(0.132547467947006,-0.017712345346808,0.115044459700584,0.019803391769528,0.036403454840183,0.011819435283542,0.067378595471382,0.023027816787362,-0.081900186836720,0.149211063981056,0.039011683315039,-0.221079826354980,0.127428323030472,0.000922594044823,0.099251158535480,0.381754070520401));
res += mul(Get(s1,0,0), float4x4(0.015528363175690,-0.166134148836136,-0.048717148602009,-0.025719346478581,-0.020422773435712,0.108723767101765,-0.039963804185390,-0.090655446052551,-0.110374026000500,-0.012903540395200,-0.083412416279316,-0.010334487073123,-0.057060871273279,-0.004907277878374,0.082694791257381,-0.014125754125416));
res += mul(Get(s1,0,dy), float4x4(0.120988704264164,0.014230589382350,0.033048547804356,-0.144549608230591,0.486570924520493,-0.109875239431858,-0.040865078568459,-0.095203392207623,-0.089411720633507,0.114463284611702,-0.076796151697636,0.102771282196045,-0.049325235188007,0.024338459596038,0.080278925597668,0.126599460840225));
res += mul(Get(s1,dx,-dy), float4x4(-0.127594098448753,0.101241856813431,0.466597586870193,0.004916653968394,0.015898583456874,-0.069083735346794,-0.107610151171684,0.046358730643988,-0.132010579109192,-0.013028826564550,-0.146340876817703,-0.002488384488970,-0.011028750799596,-0.046883367002010,-0.033755481243134,0.105500109493732));
res += mul(Get(s1,dx,0), float4x4(-0.065818585455418,0.110559999942780,-0.069317519664764,-0.044671338051558,0.066293805837631,-0.100736014544964,-0.075732707977295,0.087880000472069,-0.041658386588097,0.025880467146635,-0.154511913657188,0.146086305379868,-0.066958278417587,0.029140682891011,0.050295408815145,-0.037910848855972));
res += mul(Get(s1,dx,dy), float4x4(0.118033759295940,0.114599540829659,-0.067675881087780,-0.015976959839463,0.283491760492325,-0.185383126139641,0.032742738723755,-0.119913473725319,-0.009840552695096,0.055438313633204,-0.036724664270878,0.028374278917909,-0.022601744160056,-0.021919488906860,0.011354917660356,0.051017377525568));
res += mul(Get(s2,-dx,-dy), float4x4(-0.055003888905048,-0.062133073806763,-0.041496239602566,-0.028581602498889,-0.046757020056248,-0.100662313401699,0.008838410489261,-0.262963294982910,-0.079757176339626,0.024347105994821,0.159719198942184,0.112478241324425,0.087821453809738,0.039836868643761,-0.141423583030701,-0.068004764616489));
res += mul(Get(s2,-dx,0), float4x4(-0.000672942958772,-0.001934822183102,0.062285494059324,-0.062706433236599,-0.095920488238335,-0.076610736548901,-0.071032628417015,0.016529748216271,-0.052230920642614,0.047370489686728,0.375850290060043,0.009375463239849,0.098170012235641,0.211420357227325,0.012987798079848,-0.020278891548514));
res += mul(Get(s2,-dx,dy), float4x4(-0.102136150002480,-0.077220208942890,0.131035163998604,-0.053965330123901,-0.004165889695287,-0.128558725118637,-0.021827932447195,0.027590624988079,0.041251368820667,-0.068162031471729,-0.168945342302322,-0.004855770617723,0.038320917636156,0.135243147611618,-0.116920679807663,-0.070255510509014));
res += mul(Get(s2,0,-dy), float4x4(-0.081679500639439,-0.059293419122696,0.115629173815250,-0.139829710125923,-0.125253349542618,-0.055481199175119,0.108768425881863,0.006824869662523,0.053642489016056,-0.052142444998026,0.011639918200672,-0.009242719970644,0.121701277792454,0.069973625242710,-0.035227898508310,0.079527489840984));
res += mul(Get(s2,0,0), float4x4(-0.017133904621005,0.027156380936503,0.289761930704117,0.202152580022812,-0.096144370734692,-0.065524078905582,-0.134449318051338,0.003802537918091,-0.116633713245392,0.202858865261078,0.066573008894920,-0.024622851982713,0.006211434490979,0.239820793271065,-0.030953830108047,0.099404580891132));
res += mul(Get(s2,0,dy), float4x4(0.039198547601700,0.026741908863187,0.009102378040552,0.011303570121527,-0.057873088866472,-0.018827812746167,-0.115967363119125,0.048883359879255,0.619464457035065,-0.127831473946571,0.078426279127598,-0.036160435527563,-0.108351975679398,0.112019725143909,0.374088346958160,0.023461060598493));
res += mul(Get(s2,dx,-dy), float4x4(-0.133983492851257,-0.014261492528021,0.063433840870857,-0.236518815159798,0.023419227451086,-0.125313386321068,0.075032882392406,0.000483490148326,0.036957189440727,-0.119942367076874,0.053791653364897,-0.202358275651932,-0.035407248884439,0.047607112675905,-0.055449057370424,-0.055630147457123));
res += mul(Get(s2,dx,0), float4x4(-0.048566926270723,0.002410645363852,-0.136630728840828,0.085094943642616,0.342078775167465,-0.150787159800529,0.128019526600838,-0.075116991996765,-0.100389689207077,-0.054796002805233,-0.186740800738335,-0.082602679729462,-0.093933455646038,-0.232806533575058,-0.064738698303699,0.274085193872452));
res += mul(Get(s2,dx,dy), float4x4(-0.058213327080011,-0.161729291081429,-0.064576394855976,0.201899066567421,0.172316029667854,-0.206966549158096,0.031921811401844,0.123189538717270,0.147356390953064,-0.147369951009750,-0.088850282132626,-0.059505715966225,-0.136658415198326,-0.118180386722088,0.153301388025284,-0.029274486005306));
res += mul(Get(s3,-dx,-dy), float4x4(-0.077555596828461,-0.049672834575176,-0.096781812608242,-0.028849104419351,-0.127069160342216,0.141577735543251,0.181175455451012,0.127322971820831,0.100636735558510,0.041020903736353,0.042054355144501,-0.005874791648239,0.004589703865349,0.031022163107991,-0.130118966102600,0.377177864313126));
res += mul(Get(s3,-dx,0), float4x4(-0.186941251158714,0.035636655986309,-0.078098706901073,0.080454990267754,0.028562918305397,0.110405802726746,-0.004185995087028,-0.015458708629012,0.136604994535446,-0.041850224137306,-0.087289437651634,-0.114024825394154,0.155017569661140,0.297098904848099,0.061846021562815,-0.146988689899445));
res += mul(Get(s3,-dx,dy), float4x4(-0.240280598402023,0.197147399187088,-0.021207954734564,0.114708133041859,0.143232524394989,0.010307093150914,-0.080944567918777,0.022875322028995,0.115957401692867,-0.081662051379681,0.047741718590260,-0.075927004218102,0.154589384794235,0.148843720555305,-0.094372197985649,-0.074949137866497));
res += mul(Get(s3,0,-dy), float4x4(0.095228098332882,-0.042098965495825,-0.167069986462593,-0.190661326050758,0.030141120776534,0.178664088249207,0.203328162431717,-0.194588333368301,0.084879472851753,0.030078256502748,0.157629296183586,0.033249009400606,-0.002079831436276,0.253621667623520,0.000385288352845,0.336107552051544));
res += mul(Get(s3,0,0), float4x4(0.028530757874250,-0.001979354070500,-0.037482012063265,-0.122386857867241,-0.179599791765213,0.047088474035263,-0.125934675335884,-0.061327803879976,-0.006740247365087,0.090405918657780,0.172713473439217,0.129160180687904,0.189534038305283,0.156225875020027,0.120504930615425,-0.048843398690224));
res += mul(Get(s3,0,dy), float4x4(0.110199049115181,0.324244469404221,0.073554135859013,-0.024388555437326,0.019076665863395,0.106404773890972,-0.053247585892677,-0.111605189740658,-0.166561096906662,0.079612806439400,0.312333911657333,-0.010742656886578,0.000005320086075,-0.106356091797352,0.172143638134003,-0.070098057389259));
res += mul(Get(s3,dx,-dy), float4x4(-0.007127785123885,-0.169408157467842,0.041409324854612,-0.177696809172630,0.053174342960119,-0.014833328314126,0.155357539653778,0.151915356516838,0.145690530538559,0.000598708284087,0.032921049743891,-0.001499830395915,-0.033750969916582,0.188421279191971,-0.051836125552654,0.176836445927620));
res += mul(Get(s3,dx,0), float4x4(-0.011914042755961,-0.154261380434036,0.006258336361498,-0.065711967647076,-0.083349213004112,-0.160960152745247,-0.054593678563833,0.229552492499352,-0.019903045147657,0.000541332876310,0.043039724230766,0.097573816776276,0.005046814680099,-0.125628739595413,0.162259832024574,0.074953563511372));
res += mul(Get(s3,dx,dy), float4x4(-0.075640358030796,-0.008501642383635,0.205586075782776,-0.064074978232384,-0.035699117928743,-0.134773775935173,0.288702994585037,-0.048009943217039,-0.101258926093578,0.072428882122040,0.406389921903610,0.003214340191334,-0.047030039131641,-0.259752064943314,-0.057906515896320,-0.136170521378517));
return max(float4(0,0,0,0), res);
}
