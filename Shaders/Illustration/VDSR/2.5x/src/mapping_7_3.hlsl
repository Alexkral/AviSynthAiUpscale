sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.085729770362377,0.054431717842817,-0.059585276991129,-0.205268099904060,-0.153840631246567,-0.081463687121868,-0.034434918314219,-0.052436932921410,0.088754154741764,-0.105065271258354,0.241495847702026,-0.110764354467392,-0.123612321913242,0.032479744404554,-0.168288543820381,0.010204302147031));
res += mul(Get(s0,-dx,0), float4x4(-0.046892721205950,-0.080372847616673,0.245066195726395,-0.016922567039728,-0.085518009960651,-0.136295095086098,-0.009786438196898,-0.014828417450190,0.192239195108414,-0.178799420595169,-0.132670491933823,-0.263819485902786,-0.059567138552666,0.078629106283188,-0.068058930337429,0.053776387125254));
res += mul(Get(s0,-dx,dy), float4x4(0.220418825745583,0.011072369292378,0.123264670372009,-0.028539352118969,0.085356481373310,-0.049444902688265,-0.089654110372066,0.035765979439020,-0.044818270951509,-0.163450956344604,0.066824704408646,-0.115211591124535,0.072975493967533,0.021572967991233,0.051465310156345,-0.117671728134155));
res += mul(Get(s0,0,-dy), float4x4(0.001668777200393,0.076257385313511,-0.143450185656548,0.030499005690217,0.084407009184361,-0.043894328176975,-0.102474682033062,0.016523879021406,0.254624962806702,-0.147859171032906,0.124140202999115,-0.135011225938797,-0.070579707622528,0.287748605012894,0.142246559262276,0.085580237209797));
res += mul(Get(s0,0,0), float4x4(-0.050120357424021,-0.136680603027344,-0.005746785551310,-0.024822976440191,-0.167026728391647,0.002733383327723,-0.087654486298561,0.086602203547955,0.084376439452171,0.003344298806041,-0.185426384210587,0.120330169796944,-0.012354721315205,0.111185491085052,-0.185808211565018,0.188927039504051));
res += mul(Get(s0,0,dy), float4x4(0.184758603572845,-0.069096021354198,0.063467621803284,-0.150129705667496,-0.128842487931252,0.119396977126598,0.014044128358364,-0.055507827550173,0.220484614372253,-0.078554093837738,0.053383179008961,-0.071067288517952,0.065940089523792,0.128302335739136,-0.094843946397305,-0.028867606073618));
res += mul(Get(s0,dx,-dy), float4x4(-0.040955748409033,0.148115381598473,-0.099100895226002,-0.137353971600533,-0.063335649669170,0.012975268997252,-0.144030332565308,0.211203664541245,0.150566279888153,-0.021869616582990,-0.220968082547188,-0.021960273385048,-0.119526125490665,-0.052426803857088,0.033378284424543,0.036486603319645));
res += mul(Get(s0,dx,0), float4x4(0.217211544513702,-0.086970090866089,-0.062682159245014,0.096340209245682,0.072016157209873,0.042107898741961,-0.180797770619392,0.068056158721447,0.011904304847121,0.001390659715980,-0.052660666406155,0.128064706921577,-0.016120513901114,0.058610752224922,0.084568187594414,0.053828552365303));
res += mul(Get(s0,dx,dy), float4x4(0.022861449047923,-0.127559617161751,0.107287421822548,0.071967206895351,-0.080577716231346,0.018205095082521,0.147384732961655,-0.052672196179628,0.056754574179649,-0.109328486025333,-0.115890897810459,-0.140278950333595,-0.010924644768238,0.058177299797535,0.076508753001690,-0.037109788507223));
res += mul(Get(s1,-dx,-dy), float4x4(0.006487870588899,0.097062811255455,-0.107419185340405,-0.011326993815601,0.117369011044502,0.150039717555046,-0.105789095163345,-0.029319206252694,-0.029445433989167,-0.021983115002513,-0.065347939729691,0.093613281846046,0.018772045150399,-0.024587057530880,-0.154596447944641,-0.174420773983002));
res += mul(Get(s1,-dx,0), float4x4(-0.133611410856247,-0.075157463550568,-0.012996424920857,0.000643246457912,0.201427891850471,0.060550861060619,0.006400335580111,-0.067940652370453,-0.011638511903584,0.058727651834488,0.110213927924633,-0.048571906983852,-0.045992266386747,-0.112471796572208,-0.115787528455257,-0.008319263346493));
res += mul(Get(s1,-dx,dy), float4x4(0.054025605320930,-0.128722593188286,-0.087624125182629,0.040872339159250,-0.015779998153448,-0.002083260333166,-0.209288507699966,-0.170270189642906,0.162785634398460,-0.133547455072403,0.036355327814817,-0.021683223545551,-0.079261951148510,-0.096815302968025,-0.191049948334694,0.104230284690857));
res += mul(Get(s1,0,-dy), float4x4(0.213126167654991,-0.105694741010666,-0.051814205944538,-0.092428892850876,0.148849308490753,0.052943848073483,-0.158769562840462,0.163850232958794,0.013990749605000,0.063536688685417,-0.112885519862175,-0.125115662813187,-0.160424754023552,-0.158060878515244,0.031219080090523,-0.053878799080849));
res += mul(Get(s1,0,0), float4x4(-0.002398950979114,-0.091886244714260,-0.028681224212050,0.014677033759654,0.087192267179489,-0.073243975639343,-0.119102925062180,-0.085671402513981,-0.050225377082825,0.014163697138429,-0.141345068812370,-0.092906750738621,-0.095115184783936,0.043835565447807,-0.003314677160233,-0.208035677671432));
res += mul(Get(s1,0,dy), float4x4(-0.023275621235371,0.299441397190094,-0.106969244778156,0.116388149559498,-0.073422312736511,-0.106915846467018,-0.022847853600979,0.011924602091312,-0.031140081584454,0.096499040722847,0.028191963210702,0.020358758047223,0.125552996993065,0.001170973177068,-0.250814229249954,-0.139277815818787));
res += mul(Get(s1,dx,-dy), float4x4(0.008761047385633,0.177233323454857,-0.022484758868814,-0.176553338766098,-0.002310066716745,-0.209023356437683,-0.086698964238167,0.010759719647467,-0.049384713172913,0.143028408288956,-0.099522091448307,0.169772267341614,0.071922145783901,-0.017947856336832,0.086184754967690,-0.091752752661705));
res += mul(Get(s1,dx,0), float4x4(-0.054750028997660,0.011451536789536,-0.196695849299431,0.072702921926975,0.343014806509018,-0.036586865782738,-0.032613255083561,-0.063248671591282,0.090819641947746,-0.132774263620377,0.074568368494511,-0.046364985406399,-0.097584299743176,0.139142438769341,0.049715857952833,-0.060265664011240));
res += mul(Get(s1,dx,dy), float4x4(-0.118951395153999,0.085615858435631,-0.020563149824739,-0.066384434700012,-0.142553612589836,-0.040973167866468,-0.061389859765768,0.050551962107420,0.167330667376518,-0.038797825574875,0.011598286218941,0.108646370470524,0.018124368041754,-0.126345619559288,0.022769283503294,0.047728881239891));
res += mul(Get(s2,-dx,-dy), float4x4(0.172373339533806,0.077252276241779,-0.041139837354422,0.058396980166435,0.033618841320276,0.038886636495590,0.025578822940588,-0.128882139921188,-0.100277818739414,0.032003715634346,0.003040025942028,0.123526334762573,-0.045163225382566,0.075780488550663,-0.049198478460312,-0.041503787040710));
res += mul(Get(s2,-dx,0), float4x4(-0.018082624301314,0.004875460173935,0.097222886979580,-0.209060624241829,-0.130382180213928,-0.132733300328255,0.048642605543137,-0.020448619499803,-0.228339910507202,0.173493564128876,-0.037824247032404,-0.029044030234218,-0.053302876651287,-0.207260757684708,-0.014313542284071,0.085624285042286));
res += mul(Get(s2,-dx,dy), float4x4(-0.032405018806458,-0.000760833150707,0.061764724552631,-0.086374543607235,-0.123180791735649,-0.085687249898911,-0.078873373568058,0.056299384683371,-0.161577433347702,0.001089914934710,0.069801732897758,-0.065562665462494,0.064120143651962,-0.041920203715563,-0.055628504604101,-0.032743044197559));
res += mul(Get(s2,0,-dy), float4x4(-0.007905780337751,0.039059400558472,0.134367868304253,-0.001284812577069,-0.024371003732085,-0.020433096215129,0.016613021492958,-0.183299392461777,0.023618128150702,0.002748693572357,-0.062110170722008,0.003634856082499,0.171982824802399,-0.046195961534977,-0.266634583473206,-0.035791359841824));
res += mul(Get(s2,0,0), float4x4(0.088344052433968,0.121045753359795,-0.047910314053297,0.056594349443913,-0.169013530015945,0.201123267412186,-0.096048973500729,0.029160693287849,-0.102513968944550,0.026147205382586,-0.021364070475101,-0.040695238858461,0.061435226351023,0.113663986325264,-0.030692305415869,0.081275098025799));
res += mul(Get(s2,0,dy), float4x4(0.080495551228523,0.058470368385315,0.102417081594467,-0.142367660999298,0.099707305431366,0.132619515061378,0.069962792098522,-0.134628638625145,-0.025033574551344,-0.060956541448832,-0.147956371307373,-0.029281144961715,-0.216389760375023,-0.171459093689919,0.040536444634199,0.076209083199501));
res += mul(Get(s2,dx,-dy), float4x4(-0.032409455627203,-0.113234452903271,0.041192617267370,-0.120199948549271,0.216120287775993,0.108904071152210,0.026757579296827,-0.056031901389360,0.109489805996418,-0.033264100551605,-0.048933908343315,-0.106474488973618,-0.073701351881027,0.110564045608044,-0.090810604393482,0.005743024405092));
res += mul(Get(s2,dx,0), float4x4(-0.175582900643349,-0.122198842465878,-0.153711020946503,0.043310336768627,-0.185315698385239,-0.296798497438431,-0.170546233654022,0.040692184120417,-0.210115388035774,-0.170263320207596,0.054223198443651,0.041856985539198,0.097591429948807,-0.206109210848808,-0.106694072484970,0.002980080200359));
res += mul(Get(s2,dx,dy), float4x4(0.142070412635803,-0.055823244154453,-0.018188321962953,-0.026040658354759,-0.088140442967415,-0.066704683005810,0.100398391485214,0.045661635696888,0.029692444950342,-0.201944708824158,0.022333340719342,-0.122450634837151,-0.138605177402496,0.162292703986168,0.212923273444176,0.101416915655136));
res += mul(Get(s3,-dx,-dy), float4x4(0.018198644742370,-0.110612727701664,0.115301415324211,0.005399128422141,0.029369955882430,-0.140899181365967,0.097122266888618,0.129675865173340,-0.061936225742102,0.020623788237572,-0.209718525409698,-0.077240824699402,-0.036622963845730,0.168796598911285,-0.104839801788330,0.121420875191689));
res += mul(Get(s3,-dx,0), float4x4(-0.087429553270340,0.003895668545738,-0.006532223895192,-0.194805905222893,-0.120134510099888,0.118346475064754,-0.209973365068436,-0.146946847438812,-0.060367286205292,0.089762806892395,0.055274371057749,-0.116820484399796,0.072915934026241,-0.119571179151535,0.049899511039257,-0.123111203312874));
res += mul(Get(s3,-dx,dy), float4x4(-0.175967529416084,-0.075207412242889,-0.039322718977928,-0.134578302502632,-0.001438132370822,-0.079771526157856,-0.098990112543106,0.119464516639709,-0.080862000584602,0.209335252642632,0.002194645348936,0.111948490142822,-0.159861773252487,0.145755395293236,0.027419729158282,-0.170938059687614));
res += mul(Get(s3,0,-dy), float4x4(0.063260674476624,-0.079069301486015,0.000310973671731,-0.113251253962517,0.007000700570643,0.001816221629269,-0.267158091068268,0.050459668040276,-0.052856761962175,0.084935851395130,-0.010301163420081,-0.025873757898808,-0.033838085830212,-0.151326507329941,0.246436566114426,-0.114071838557720));
res += mul(Get(s3,0,0), float4x4(-0.098307043313980,0.005473405588418,0.034514747560024,-0.233021646738052,0.014777304604650,0.133013889193535,-0.193847149610519,0.150862917304039,-0.035978827625513,-0.121640510857105,-0.117478057742119,0.020376933738589,-0.023241709917784,0.219313949346542,-0.055597152560949,0.062027297914028));
res += mul(Get(s3,0,dy), float4x4(-0.070241428911686,0.194776266813278,-0.103197038173676,0.060727834701538,-0.039016220718622,-0.038010589778423,0.076511830091476,0.038519300520420,-0.017841860651970,0.134940013289452,0.093513086438179,-0.081739149987698,0.007313380483538,0.016818717122078,0.182903319597244,-0.145177766680717));
res += mul(Get(s3,dx,-dy), float4x4(-0.023338710889220,-0.066226027905941,-0.126151576638222,-0.114354722201824,-0.006439125631005,-0.112367473542690,0.139588147401810,0.004259568639100,-0.040378894656897,0.090013757348061,-0.020864443853498,0.020770616829395,0.012138072401285,-0.006705932319164,0.091057270765305,0.070589244365692));
res += mul(Get(s3,dx,0), float4x4(0.123351305723190,-0.000828190473840,0.145528271794319,0.049805324524641,-0.018793174996972,-0.048029523342848,0.035468328744173,-0.012282912619412,-0.045093253254890,-0.140617921948433,0.134864762425423,0.002569415140897,0.106570303440094,-0.108309544622898,0.040741465985775,0.147035434842110));
res += mul(Get(s3,dx,dy), float4x4(0.006061701104045,0.016095593571663,0.102548368275166,-0.127387404441833,0.120627172291279,-0.144531369209290,-0.015215245075524,0.014666702598333,0.029547594487667,-0.031049601733685,-0.163938567042351,0.076426602900028,-0.067417591810226,-0.075608752667904,0.082914672791958,-0.159328892827034));
return max(float4(0,0,0,0), res);
}
