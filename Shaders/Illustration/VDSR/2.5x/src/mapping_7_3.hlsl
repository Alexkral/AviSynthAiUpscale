sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.086795754730701,-0.066167652606964,0.221072494983673,0.302666276693344,-0.101901687681675,-0.150720447301865,-0.127739667892456,-0.027400420978665,0.374048024415970,-0.252979606389999,0.230351909995079,-0.139636486768723,0.016250289976597,0.101264208555222,-0.312355309724808,0.052158117294312));
res += mul(Get(s0,-dx,0), float4x4(-0.088124468922615,-0.152135044336319,-0.123830109834671,-0.051605109125376,0.014995806850493,-0.130040824413300,0.099963672459126,-0.016797749325633,0.111454956233501,-0.011311443522573,-0.078815817832947,-0.058215036988258,-0.083364695310593,-0.180895313620567,0.058967322111130,0.055974017828703));
res += mul(Get(s0,-dx,dy), float4x4(0.010913317091763,0.330410361289978,0.010717504657805,0.086238615214825,-0.116077139973640,0.069892458617687,-0.094779588282108,-0.011994371190667,-0.018216738477349,0.056706495583057,-0.050685208290815,0.005833420436829,-0.028556883335114,-0.237367063760757,-0.012959175743163,0.017993411049247));
res += mul(Get(s0,0,-dy), float4x4(0.090061351656914,-0.117148384451866,0.089619040489197,0.123404882848263,-0.172175586223602,-0.150853097438812,-0.059073396027088,-0.071011781692505,0.447882652282715,-0.184118345379829,0.197835966944695,-0.204885780811310,-0.134034886956215,0.146837294101715,-0.250797331333160,-0.298710972070694));
res += mul(Get(s0,0,0), float4x4(0.031605280935764,-0.052933309227228,-0.102170281112194,0.060348484665155,-0.043501581996679,-0.005347926635295,0.308351963758469,-0.028214333578944,0.100207053124905,-0.040759298950434,-0.087538175284863,0.114525400102139,-0.004834900610149,0.031345799565315,-0.021863652393222,-0.015012308023870));
res += mul(Get(s0,0,dy), float4x4(0.066558741033077,0.125601306557655,0.052480872720480,-0.098784528672695,-0.047025687992573,0.041487615555525,0.429520040750504,-0.054501418024302,0.023669047281146,-0.012172983959317,0.057828407734632,0.019720410928130,0.147247746586800,-0.200334072113037,-0.050847671926022,0.179017707705498));
res += mul(Get(s0,dx,-dy), float4x4(0.089548863470554,-0.255096495151520,0.094369828701019,0.053485877811909,-0.157040968537331,-0.164191484451294,-0.208867400884628,-0.091718032956123,0.107610605657101,-0.127339854836464,0.027692422270775,0.022369874641299,-0.252527624368668,0.108594037592411,-0.296003580093384,-0.307595968246460));
res += mul(Get(s0,dx,0), float4x4(-0.147494763135910,-0.033930532634258,-0.029822435230017,0.106021896004677,-0.059908684343100,-0.070331752300262,0.074513994157314,-0.030138226225972,0.224140837788582,-0.144700288772583,-0.093425735831261,0.153707906603813,-0.146702259778976,0.094674244523048,-0.048569794744253,-0.098721124231815));
res += mul(Get(s0,dx,dy), float4x4(0.044255230575800,0.020213892683387,-0.052587930113077,-0.041795924305916,-0.029253950342536,-0.147280097007751,-0.151756927371025,-0.037849102169275,0.024665011093020,-0.141764208674431,-0.082261532545090,0.140911877155304,-0.055593330413103,0.046017915010452,0.025374300777912,0.311499953269958));
res += mul(Get(s1,-dx,-dy), float4x4(0.047443460673094,0.160762146115303,0.187556758522987,0.043324116617441,-0.122229449450970,0.016346203163266,0.057387616485357,0.145880952477455,0.151323169469833,-0.113109722733498,0.029904281720519,-0.245679527521133,0.123017728328705,0.198323711752892,-0.099849328398705,-0.062120389193296));
res += mul(Get(s1,-dx,0), float4x4(0.003398370463401,0.124931752681732,-0.097165837883949,0.081813216209412,-0.104869358241558,0.278893083333969,0.144462227821350,0.102934598922729,-0.112916022539139,-0.186168789863586,0.039465799927711,-0.094516851007938,-0.026161793619394,-0.004428959917277,0.251768648624420,-0.035975646227598));
res += mul(Get(s1,-dx,dy), float4x4(0.219910532236099,-0.042538598179817,0.062649168074131,-0.069950386881828,0.020348863676190,0.179613649845123,0.030235495418310,0.166660055518150,0.006658258847892,-0.007812686264515,-0.109021611511707,-0.169166356325150,0.286037951707840,-0.088705532252789,-0.111458003520966,0.104542024433613));
res += mul(Get(s1,0,-dy), float4x4(0.042810391634703,0.232664838433266,0.105504103004932,-0.034028146415949,-0.118370421230793,-0.085327535867691,0.062112588435411,-0.006488405633718,-0.149045377969742,-0.063809834420681,-0.033187977969646,-0.134305834770203,0.156088560819626,0.116081491112709,-0.140764579176903,-0.125287100672722));
res += mul(Get(s1,0,0), float4x4(-0.057542249560356,-0.194603785872459,-0.096070773899555,-0.053932722657919,-0.145327121019363,0.111286729574203,0.107320964336395,-0.030421644449234,-0.104671351611614,0.083829864859581,-0.013609653338790,-0.114323280751705,0.031748916953802,-0.121450439095497,0.313027441501617,-0.056849271059036));
res += mul(Get(s1,0,dy), float4x4(-0.108382962644100,0.007937552407384,0.035086598247290,-0.020610511302948,-0.016401419416070,-0.011339061893523,-0.027277510613203,0.079751178622246,-0.048831462860107,-0.073290131986141,-0.114662468433380,-0.071021489799023,0.133698403835297,-0.102750368416309,0.176029160618782,0.095636568963528));
res += mul(Get(s1,dx,-dy), float4x4(0.096490450203419,-0.086216382682323,0.138268247246742,-0.419103205204010,0.046964585781097,-0.020131856203079,-0.053387016057968,0.011710682883859,0.258263200521469,0.023682758212090,-0.079922109842300,-0.351130515336990,0.067727863788605,-0.045101583003998,-0.120093666017056,-0.037998687475920));
res += mul(Get(s1,dx,0), float4x4(0.009718594141304,-0.109582774341106,-0.202158212661743,0.117231719195843,0.011145033873618,0.008029969409108,0.035632479935884,-0.106993749737740,0.058470647782087,-0.023435352370143,0.021513981744647,-0.072156973183155,0.208779051899910,-0.148581549525261,-0.107846401631832,0.007199920248240));
res += mul(Get(s1,dx,dy), float4x4(0.029544450342655,-0.056977342814207,-0.011246694251895,-0.058806959539652,0.150499090552330,-0.142783656716347,0.013884911313653,-0.074306719005108,0.028997134417295,-0.047865815460682,-0.081335037946701,-0.069021075963974,-0.088458284735680,-0.040941741317511,-0.277236998081207,0.349322080612183));
res += mul(Get(s2,-dx,-dy), float4x4(-0.189649686217308,0.071331627666950,0.113572083413601,-0.031989503651857,-0.044134341180325,-0.176091015338898,-0.155691459774971,-0.166804268956184,0.112539298832417,-0.046429984271526,-0.255912035703659,-0.102887347340584,0.065030567348003,-0.079812899231911,-0.097039885818958,0.002124934690073));
res += mul(Get(s2,-dx,0), float4x4(-0.077452041208744,0.055561516433954,-0.039442170411348,0.026444658637047,0.142116218805313,-0.097807325422764,0.017718398943543,-0.107331231236458,0.264478921890259,0.142330542206764,-0.159086853265762,-0.010042244568467,0.086151771247387,-0.097353950142860,-0.147867113351822,0.034752871841192));
res += mul(Get(s2,-dx,dy), float4x4(-0.072596713900566,0.055745296180248,0.046879313886166,0.126088887453079,-0.087098844349384,0.230798527598381,0.145871728658676,-0.036766819655895,0.260078638792038,0.127527192234993,0.053527384996414,0.155078008770943,0.101389110088348,-0.192010045051575,-0.014577101916075,-0.152617320418358));
res += mul(Get(s2,0,-dy), float4x4(-0.115095682442188,0.266683220863342,0.004392821341753,0.110367536544800,-0.121899858117104,-0.043531928211451,-0.270816296339035,-0.100278533995152,-0.154267609119415,0.133180230855942,-0.078480720520020,-0.091073870658875,0.079588949680328,-0.107981309294701,-0.090164199471474,0.095922000706196));
res += mul(Get(s2,0,0), float4x4(0.005285982508212,0.039890192449093,-0.179170563817024,0.159428939223289,0.019106529653072,-0.106705263257027,-0.197839215397835,-0.130446106195450,-0.056257814168930,0.030881907790899,-0.000170088766026,0.249409228563309,-0.014408115297556,0.026086177676916,-0.126302555203438,-0.010469526983798));
res += mul(Get(s2,0,dy), float4x4(0.057738818228245,-0.159640640020370,-0.072881780564785,0.023185836151242,-0.111699484288692,0.471549987792969,-0.049368601292372,-0.085176415741444,-0.079906463623047,0.032751213759184,0.144090637564659,0.048575058579445,-0.125462159514427,0.003064954420552,-0.196695715188980,-0.140546888113022));
res += mul(Get(s2,dx,-dy), float4x4(-0.227046385407448,0.019807737320662,-0.062254138290882,-0.040861383080482,-0.119819961488247,0.203103646636009,-0.101743310689926,-0.184308707714081,-0.065849147737026,0.100023634731770,-0.006296528503299,-0.126857236027718,0.029750606045127,-0.061314657330513,0.001164189307019,-0.056975450366735));
res += mul(Get(s2,dx,0), float4x4(-0.134606182575226,-0.016238005831838,-0.147698804736137,-0.249278858304024,-0.097188048064709,0.291070878505707,-0.106311433017254,-0.136661306023598,-0.035648144781590,-0.047088254243135,0.215714022517204,0.203157171607018,0.047275133430958,-0.091568544507027,-0.030142726376653,-0.020671486854553));
res += mul(Get(s2,dx,dy), float4x4(-0.147105172276497,-0.046819847077131,-0.050290085375309,0.185335800051689,-0.001038271700963,0.129103720188141,-0.005861576646566,-0.157231941819191,-0.099251322448254,-0.073384240269661,-0.012147257104516,-0.078705757856369,0.024621868506074,-0.246824577450752,0.001975410617888,-0.139554977416992));
res += mul(Get(s3,-dx,-dy), float4x4(-0.086901530623436,-0.164967522025108,0.040102347731590,-0.133945688605309,0.050568547099829,-0.094215326011181,0.013501537963748,0.017681606113911,-0.130915105342865,0.114684328436852,-0.065885111689568,0.078143425285816,-0.057731669396162,0.056993473321199,0.079298645257950,-0.037433099001646));
res += mul(Get(s3,-dx,0), float4x4(0.030533466488123,0.063398592174053,0.170678570866585,0.061094813048840,-0.182871401309967,-0.178033217787743,0.118542306125164,-0.041977647691965,0.135606184601784,-0.062167968600988,-0.100003242492676,0.169574409723282,0.053763285279274,0.231946706771851,-0.109945185482502,0.307204097509384));
res += mul(Get(s3,-dx,dy), float4x4(-0.019248995929956,-0.129602149128914,0.045879449695349,-0.164763569831848,-0.089800402522087,0.162211760878563,-0.011506359092891,-0.143980845808983,0.062453091144562,0.010404991917312,-0.115123137831688,0.075652711093426,0.052457954734564,0.067676305770874,-0.097778558731079,-0.018215386196971));
res += mul(Get(s3,0,-dy), float4x4(-0.049309216439724,-0.101369552314281,0.029362229630351,-0.212688639760017,0.042595911771059,0.134022161364555,-0.049448885023594,0.099856071174145,-0.122238993644714,0.140293702483177,-0.088671028614044,0.044766183942556,-0.109944559633732,-0.022969331592321,0.253019690513611,-0.084575898945332));
res += mul(Get(s3,0,0), float4x4(-0.083301499485970,0.196483701467514,0.198860675096512,0.080247633159161,-0.080118186771870,-0.171647727489471,0.031728964298964,0.076484367251396,0.054249931126833,0.060215655714273,0.078360736370087,0.220510736107826,0.005905988626182,0.227289617061615,0.150105237960815,0.031809933483601));
res += mul(Get(s3,0,dy), float4x4(0.047799486666918,0.147470220923424,-0.122091241180897,0.204768493771553,0.075005732476711,0.074298925697803,0.072569787502289,-0.143062680959702,0.146132543683052,0.076010361313820,0.365990549325943,-0.005404044874012,-0.071011692285538,0.060310732573271,0.145133897662163,0.082075722515583));
res += mul(Get(s3,dx,-dy), float4x4(0.016615344211459,-0.052390977740288,-0.099732458591461,-0.134193852543831,0.113613016903400,-0.057466335594654,0.109212696552277,-0.022212959825993,-0.109037160873413,-0.094093643128872,0.000133641646244,-0.103735037147999,0.087880708277225,-0.051025692373514,-0.025586040690541,0.051439456641674));
res += mul(Get(s3,dx,0), float4x4(-0.013827087357640,0.192110732197762,-0.095765613019466,-0.063239790499210,-0.089340597391129,-0.108155295252800,-0.020982490852475,0.109451368451118,0.061547581106424,-0.109253890812397,0.122445002198219,0.068719282746315,0.002158836927265,0.223197937011719,-0.054764684289694,0.128082185983658));
res += mul(Get(s3,dx,dy), float4x4(-0.016221638768911,0.095889240503311,-0.072451822459698,0.056122582405806,0.050028182566166,0.039371531456709,0.259621173143387,-0.018806083127856,-0.103239133954048,-0.085321225225925,0.054112151265144,-0.205851420760155,-0.149105533957481,0.083142250776291,0.027357427403331,0.080102980136871));
return max(float4(0,0,0,0), res);
}
