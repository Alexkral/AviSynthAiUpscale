sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.100034192204475,0.378875821828842,0.016511749476194,-0.065773636102676,-0.165185526013374,0.059442594647408,0.020774863660336,0.077866315841675,-0.103334903717041,0.291325658559799,0.155287683010101,-0.127292320132256,-0.010391659103334,0.023045027628541,-0.023794423788786,-0.055701944977045));
res += mul(Get(s0,-dx,0), float4x4(-0.059891790151596,0.409257411956787,-0.005905441939831,-0.046490389853716,-0.233284488320351,-0.013151810504496,-0.058964803814888,0.208837389945984,-0.093137823045254,0.154591694474220,0.165970727801323,0.137286812067032,-0.094357766211033,-0.070014633238316,0.132553368806839,0.037728261202574));
res += mul(Get(s0,-dx,dy), float4x4(0.313847929239273,0.400168627500534,-0.090014353394508,-0.075353853404522,0.038030996918678,-0.086868904531002,-0.154222369194031,0.067077420651913,-0.139850348234177,0.224899932742119,-0.006317155435681,0.088001213967800,0.117676325142384,-0.178904056549072,0.057325806468725,0.099007189273834));
res += mul(Get(s0,0,-dy), float4x4(-0.043524604290724,0.077558226883411,-0.120173484086990,-0.004988115746528,-0.025859907269478,-0.105978682637215,-0.000056434590078,0.078828260302544,-0.208571225404739,0.000395121605834,-0.040471419692039,0.048316422849894,0.021672399714589,-0.032351337373257,-0.032548476010561,0.006316517479718));
res += mul(Get(s0,0,0), float4x4(-0.167234599590302,-0.102421633899212,-0.098338462412357,0.096137046813965,-0.069226592779160,-0.269313335418701,-0.030968990176916,0.002925905631855,0.031989473849535,-0.113650880753994,-0.032062422484159,0.040075290948153,0.056277073919773,-0.117883697152138,-0.051118768751621,-0.100440710783005));
res += mul(Get(s0,0,dy), float4x4(0.179084420204163,-0.068782001733780,-0.005532131996006,0.066763736307621,0.016345992684364,-0.149341300129890,-0.080980561673641,-0.072280965745449,-0.123912714421749,0.155582159757614,0.019114324823022,-0.033831253647804,-0.093613475561142,-0.011252550408244,-0.100068598985672,0.071891412138939));
res += mul(Get(s0,dx,-dy), float4x4(0.116089954972267,-0.011556193232536,-0.062331113964319,0.070165157318115,0.001366534736007,-0.094386823475361,0.218659937381744,0.009706696495414,-0.120162323117256,-0.127727061510086,-0.103714250028133,0.026155913248658,0.076570108532906,-0.160213008522987,-0.028178513050079,-0.070707023143768));
res += mul(Get(s0,dx,0), float4x4(-0.025760643184185,0.013154633343220,-0.039013613015413,-0.055449508130550,-0.052475396543741,-0.028805421665311,0.294971734285355,-0.087541259825230,-0.026539962738752,-0.228298544883728,-0.024565583094954,-0.030989646911621,-0.076248638331890,-0.118109025061131,-0.083967186510563,-0.170052155852318));
res += mul(Get(s0,dx,dy), float4x4(-0.056128975003958,-0.063584625720978,-0.040732085704803,0.259895324707031,-0.120790414512157,-0.094565808773041,0.159042343497276,-0.195021003484726,-0.106042742729187,0.059514287859201,-0.158143520355225,0.015026018023491,-0.029803004115820,-0.046674888581038,-0.189111649990082,-0.136231675744057));
res += mul(Get(s1,-dx,-dy), float4x4(-0.169447138905525,0.187412053346634,0.114804387092590,-0.101351827383041,-0.240762382745743,0.106925688683987,0.004725527949631,-0.134500384330750,-0.002878181869164,0.061714403331280,0.013385644182563,0.064713656902313,0.038562476634979,-0.017196159809828,0.025818446651101,0.221533581614494));
res += mul(Get(s1,-dx,0), float4x4(-0.093513585627079,0.233502998948097,0.028281096369028,0.169365078210831,0.107497774064541,0.084849052131176,-0.040013469755650,0.203405156731606,-0.108451828360558,0.002673376351595,0.031092053279281,0.091583229601383,-0.166879132390022,0.245185285806656,0.002643839456141,0.004994713235646));
res += mul(Get(s1,-dx,dy), float4x4(0.154833436012268,0.071239098906517,-0.091005206108093,0.333172827959061,0.043047651648521,0.127872467041016,0.024072129279375,0.154818370938301,0.141928076744080,0.115198656916618,0.006509579718113,0.018546083942056,-0.067464664578438,0.247344553470612,-0.031679205596447,0.224083870649338));
res += mul(Get(s1,0,-dy), float4x4(-0.101203076541424,0.129295632243156,0.043486516922712,-0.010101060383022,-0.236968085169792,0.152213633060455,-0.007574545219541,-0.159822434186935,-0.022379711270332,-0.005503444466740,-0.015894683077931,-0.018990697339177,0.050011318176985,-0.121149383485317,0.024716867133975,0.263063371181488));
res += mul(Get(s1,0,0), float4x4(-0.074211522936821,-0.051577888429165,0.020609349012375,0.107830695807934,-0.009516006335616,-0.050280641764402,0.017359552904963,0.098129227757454,-0.066739693284035,0.000582901295274,-0.013741472736001,-0.067412510514259,0.006583613343537,-0.048128683120012,0.083273895084858,0.036491446197033));
res += mul(Get(s1,0,dy), float4x4(0.413822919130325,0.074257314205170,-0.007082236930728,0.074888072907925,0.223776459693909,0.116606600582600,-0.050115887075663,0.052116826176643,0.031309746205807,0.028221251443028,0.073628723621368,0.120182976126671,0.168607249855995,-0.040000937879086,-0.003355152904987,0.052722159773111));
res += mul(Get(s1,dx,-dy), float4x4(-0.154072761535645,-0.151244372129440,0.001876422902569,-0.148839041590691,-0.176394313573837,-0.125140771269798,0.062014464288950,-0.157180950045586,0.003360587172210,-0.105550959706306,-0.061464693397284,-0.096448414027691,-0.076572373509407,-0.047124437987804,0.152587562799454,-0.158529222011566));
res += mul(Get(s1,dx,0), float4x4(-0.052503582090139,-0.222719803452492,0.041725080460310,-0.186237186193466,0.147950500249863,-0.104681707918644,0.069649554789066,-0.249825909733772,-0.043036814779043,-0.033497791737318,-0.014229687862098,-0.029607657343149,-0.107721768319607,-0.189519852399826,0.166459560394287,-0.225640490651131));
res += mul(Get(s1,dx,dy), float4x4(0.082742042839527,-0.020379273220897,0.339397192001343,-0.198470145463943,-0.072534695267677,0.069847434759140,0.336353838443756,-0.048983328044415,-0.031406998634338,-0.019153315573931,0.111335530877113,0.215995088219643,0.116503104567528,-0.173636585474014,0.206702977418900,-0.120002716779709));
res += mul(Get(s2,-dx,-dy), float4x4(0.002697449875996,0.091189913451672,-0.007246232125908,0.076642692089081,-0.170851647853851,-0.096622325479984,0.004671641625464,-0.030527979135513,0.006052794400603,0.034922000020742,-0.043477375060320,0.031614877283573,-0.068640254437923,0.070644743740559,-0.071814782917500,-0.156312137842178));
res += mul(Get(s2,-dx,0), float4x4(0.169230028986931,0.098899841308594,0.025005776435137,-0.012159095145762,0.057980906218290,-0.042364992201328,0.005847792606801,0.025272117927670,-0.041606333106756,0.173403382301331,-0.021506134420633,-0.002687900327146,0.065012767910957,0.110091224312782,-0.051522925496101,-0.073725149035454));
res += mul(Get(s2,-dx,dy), float4x4(-0.022332528606057,0.146227583289146,0.037864908576012,0.119947023689747,0.375256091356277,0.109290093183517,0.030275680124760,0.041612528264523,0.172015443444252,-0.048495125025511,0.000413042493165,0.059073157608509,0.001968555385247,0.127088978886604,-0.057462610304356,-0.062772013247013));
res += mul(Get(s2,0,-dy), float4x4(-0.010256299749017,0.026743676513433,0.126289874315262,0.056714240461588,-0.005538254044950,-0.002392951166257,-0.093626864254475,-0.141053944826126,0.060635622590780,0.006936903111637,-0.153710857033730,0.156104832887650,-0.052339296787977,-0.098744049668312,0.092108994722366,0.267970204353333));
res += mul(Get(s2,0,0), float4x4(-0.013154190964997,0.103826545178890,0.028989057987928,0.176476135849953,0.007677555549890,-0.182483300566673,-0.039947044104338,-0.042823825031519,-0.027998784556985,0.098422445356846,-0.065642155706882,0.161841586232185,0.005451519507915,-0.112981639802456,-0.016457332298160,0.323849856853485));
res += mul(Get(s2,0,dy), float4x4(0.148229345679283,0.160315752029419,0.013777347281575,0.262897849082947,0.327679932117462,-0.111849747598171,-0.043460655957460,0.046004727482796,0.174279451370239,-0.153449535369873,-0.036785438656807,0.315496832132339,0.273742288351059,0.059684634208679,0.108990579843521,0.218926161527634));
res += mul(Get(s2,dx,-dy), float4x4(-0.012488250620663,-0.019906496629119,0.082660265266895,0.009468171745539,0.301771610975266,-0.040511846542358,-0.093477778136730,-0.118720360100269,-0.092961438000202,-0.072189427912235,0.023904411122203,-0.170209720730782,-0.015470511280000,-0.172113731503487,-0.048276428133249,-0.059107448905706));
res += mul(Get(s2,dx,0), float4x4(-0.093056559562683,0.042119819670916,-0.028384299948812,0.133314475417137,0.137665361166000,-0.101192310452461,-0.059970464557409,-0.214190974831581,-0.092414006590843,-0.058319136500359,-0.060890357941389,-0.089999750256538,0.061256777495146,-0.128328055143356,0.036772027611732,-0.201059520244598));
res += mul(Get(s2,dx,dy), float4x4(0.020168596878648,-0.070720091462135,-0.002652626484632,0.009371763095260,0.297333985567093,-0.144028186798096,0.006940971128643,0.183904573321342,0.047952398657799,-0.208643108606339,0.010859251953661,-0.240047216415405,0.062560029327869,-0.019153075292706,0.106223955750465,-0.101687364280224));
res += mul(Get(s3,-dx,-dy), float4x4(-0.181379511952400,0.088409356772900,0.123373322188854,-0.065660387277603,0.017339317128062,-0.019710619002581,-0.014228182844818,-0.010774467140436,0.092694476246834,0.032724853605032,-0.102288395166397,0.078350968658924,0.039779063314199,0.101596504449844,-0.031001824885607,-0.073993377387524));
res += mul(Get(s3,-dx,0), float4x4(-0.098127812147141,0.064085580408573,0.004666651133448,0.011260008439422,-0.075910449028015,0.272534906864166,-0.017518116161227,0.218566402792931,0.040876831859350,0.160221740603447,-0.139839172363281,-0.160962820053101,0.052954100072384,0.064165823161602,0.010321183130145,-0.158311516046524));
res += mul(Get(s3,-dx,dy), float4x4(-0.049541652202606,0.046464920043945,-0.122241422533989,0.002583052497357,0.060875002294779,0.087587796151638,-0.012342969886959,0.232609078288078,-0.072252891957760,0.130682408809662,0.022213997319341,-0.051053814589977,0.127448692917824,0.013668395578861,-0.078675635159016,0.286852061748505));
res += mul(Get(s3,0,-dy), float4x4(-0.065290793776512,0.105608411133289,0.169209420681000,-0.036778960376978,0.110471576452255,0.125473260879517,-0.091105863451958,0.073314458131790,0.052694432437420,-0.096325546503067,-0.044629640877247,0.033297121524811,0.045035991817713,0.217982426285744,-0.029930537566543,-0.048835832625628));
res += mul(Get(s3,0,0), float4x4(-0.086264483630657,0.052607499063015,0.059738863259554,-0.064078867435455,-0.013204129412770,0.133217796683311,-0.074547030031681,0.230786100029945,0.122070908546448,0.027742357924581,-0.063649527728558,-0.029279634356499,-0.067775003612041,0.166126176714897,-0.047154270112514,0.037203319370747));
res += mul(Get(s3,0,dy), float4x4(-0.016878023743629,-0.005517562851310,0.101440690457821,0.066513277590275,-0.022023927420378,0.018017753958702,-0.060982428491116,0.093959763646126,-0.047822169959545,0.141822531819344,0.149409174919128,-0.047369975596666,-0.072850912809372,0.143188461661339,-0.128838777542114,0.229603096842766));
res += mul(Get(s3,dx,-dy), float4x4(0.110875084996223,0.084931112825871,0.006170716602355,-0.024108212441206,-0.002960258396342,-0.081113159656525,-0.013580997474492,0.008822042495012,0.108417533338070,-0.064942665398121,0.270497739315033,-0.064792148768902,0.032580252736807,0.150357380509377,0.142740905284882,-0.094308860599995));
res += mul(Get(s3,dx,0), float4x4(0.131880015134811,0.092961572110653,0.025563985109329,0.041123311966658,-0.127674832940102,-0.150176048278809,0.012259690091014,0.109798744320869,0.054496042430401,0.096695765852928,0.040518499910831,-0.009221765212715,-0.049327958375216,0.052272945642471,0.096557095646858,-0.181644350290298));
res += mul(Get(s3,dx,dy), float4x4(0.104147017002106,0.079540967941284,0.045792672783136,-0.019371528178453,0.019391234964132,-0.019601739943027,0.046825598925352,-0.038499742746353,0.038824409246445,0.040188901126385,0.343277215957642,-0.102422282099724,-0.033197224140167,-0.072046376764774,0.003346674377099,-0.240217089653015));
return max(float4(0,0,0,0), res);
}
