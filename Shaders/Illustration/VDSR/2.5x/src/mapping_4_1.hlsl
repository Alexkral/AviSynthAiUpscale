sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.093185663223267,0.040639113634825,-0.000974492868409,-0.030265150591731,-0.025342028588057,0.025683427229524,-0.097440198063850,-0.013609333895147,0.153562739491463,-0.004124270286411,0.072095744311810,-0.000771674327552,0.005667545367032,0.009075050242245,-0.043479792773724,0.162506267428398));
res += mul(Get(s0,-dx,0), float4x4(0.129358291625977,0.040633007884026,-0.090745881199837,0.039055511355400,0.079077370464802,0.233806923031807,0.023100489750504,0.180054947733879,-0.073554322123528,0.039884839206934,0.008714859373868,0.187998145818710,0.032684084028006,0.051225233823061,0.069149248301983,-0.042247813194990));
res += mul(Get(s0,-dx,dy), float4x4(-0.070617415010929,-0.042260915040970,-0.128957897424698,-0.104404501616955,0.020180629566312,0.029789062216878,0.090347997844219,-0.013530684635043,-0.239032059907913,0.102634139358997,0.058461643755436,-0.061590835452080,0.007849792018533,0.096869543194771,-0.088111340999603,-0.066614083945751));
res += mul(Get(s0,0,-dy), float4x4(-0.134870097041130,0.082595355808735,0.002995444228873,-0.172281965613365,-0.058155871927738,-0.072048112750053,0.017769491299987,0.128003507852554,0.094085521996021,-0.105766050517559,-0.152903854846954,-0.088059239089489,0.008087052032351,-0.028851611539721,-0.128929764032364,0.164476871490479));
res += mul(Get(s0,0,0), float4x4(-0.112611547112465,-0.045182995498180,0.044109199196100,-0.158074736595154,-0.037269230931997,0.037113696336746,-0.023312892764807,0.160798728466034,0.019072974100709,-0.131920874118805,-0.010346180759370,-0.056472316384315,0.103887252509594,-0.068338550627232,-0.051464144140482,-0.014821290969849));
res += mul(Get(s0,0,dy), float4x4(0.011467888019979,-0.041602969169617,-0.033108372241259,0.074299827218056,0.056745100766420,0.245845109224319,-0.062587082386017,-0.151670888066292,0.159819468855858,0.055546436458826,0.315556526184082,-0.248646274209023,-0.003458907594904,-0.115023650228977,-0.057682421058416,-0.034585744142532));
res += mul(Get(s0,dx,-dy), float4x4(0.048140846192837,0.210551917552948,0.052540972828865,0.117503874003887,-0.001832538982853,-0.063021406531334,-0.220694929361343,-0.029606200754642,-0.073737040162086,0.184758424758911,0.040703456848860,0.020376954227686,0.046235438436270,0.041408561170101,-0.004590080585331,-0.126972928643227));
res += mul(Get(s0,dx,0), float4x4(0.095891363918781,-0.007145018782467,-0.101156912744045,0.060665149241686,0.094245128333569,0.022954078391194,-0.052261315286160,0.039248678833246,-0.053358472883701,0.180226966738701,-0.057729639112949,0.008904390968382,0.185482516884804,0.157014727592468,-0.101238764822483,0.013471837155521));
res += mul(Get(s0,dx,dy), float4x4(-0.069582112133503,-0.082634836435318,0.057630501687527,-0.180205747485161,0.073646344244480,0.117563031613827,-0.100335456430912,0.021288705989718,0.015272691845894,0.062813632190228,-0.108105987310410,-0.006642959080637,-0.152104958891869,0.063686795532703,-0.217781275510788,-0.035546317696571));
res += mul(Get(s1,-dx,-dy), float4x4(0.007450335659087,0.107456855475903,0.157957360148430,0.050450049340725,0.077462911605835,0.037005376070738,-0.241433277726173,0.015696138143539,0.133245229721069,-0.010324754752219,0.012014099396765,0.058654382824898,0.020615143701434,-0.120828159153461,0.018508374691010,0.106406472623348));
res += mul(Get(s1,-dx,0), float4x4(-0.018241900950670,0.209276333451271,-0.122810356318951,-0.073339857161045,-0.112547695636749,-0.064983420073986,0.160424441099167,-0.132728129625320,0.011868695728481,0.023869169875979,0.196138501167297,-0.095778033137321,0.239796593785286,-0.033183768391609,0.074334822595119,0.255010724067688));
res += mul(Get(s1,-dx,dy), float4x4(-0.227559819817543,0.019717052578926,-0.116155952215195,-0.077193185687065,0.138193815946579,0.031245106831193,-0.253746986389160,0.019373629242182,0.047964781522751,0.148766010999680,0.067690335214138,0.077273748815060,0.105479367077351,0.079193957149982,0.137065097689629,0.084098026156425));
res += mul(Get(s1,0,-dy), float4x4(-0.013538335449994,-0.063247531652451,-0.023414647206664,0.063706181943417,0.068686485290527,0.077914424240589,0.015748349949718,-0.348888546228409,-0.089505411684513,-0.071322530508041,0.083224602043629,-0.077144794166088,0.052923716604710,-0.060454607009888,0.019644107669592,-0.162893921136856));
res += mul(Get(s1,0,0), float4x4(-0.005258508492261,-0.121719256043434,0.087982684373856,0.072955451905727,-0.143241405487061,0.289516121149063,0.072824962437153,0.035581100732088,0.004446025937796,0.052071738988161,-0.023629195988178,0.004233834799379,0.157086938619614,0.001033183536492,0.025601884350181,-0.074449665844440));
res += mul(Get(s1,0,dy), float4x4(-0.082550995051861,-0.309495329856873,-0.132805392146111,-0.128001242876053,-0.170586720108986,-0.012697048485279,-0.162896379828453,0.062132719904184,0.017105132341385,-0.259929269552231,0.086251586675644,0.008316360414028,-0.003464290639386,0.058316390961409,0.057800088077784,-0.087767846882343));
res += mul(Get(s1,dx,-dy), float4x4(-0.191404908895493,0.085047878324986,-0.110146284103394,0.011564739979804,-0.138051703572273,-0.164887234568596,-0.003573068184778,-0.126545757055283,-0.013120149262249,-0.004499860573560,-0.021874014288187,-0.113777495920658,0.080820038914680,-0.137397497892380,0.098725341260433,-0.021419730037451));
res += mul(Get(s1,dx,0), float4x4(0.163583680987358,-0.073367327451706,-0.074511438608170,-0.065915994346142,0.017579903826118,-0.017124416306615,0.005313738714904,0.102084822952747,0.072360023856163,0.067348003387451,0.009734423831105,-0.097856961190701,0.060326196253300,-0.038108885288239,-0.046982239931822,0.084448918700218));
res += mul(Get(s1,dx,dy), float4x4(0.074526898562908,-0.067842192947865,-0.115758702158928,0.122432552278042,0.127788841724396,-0.043778214603662,0.119467467069626,0.029884997755289,0.031730812042952,0.060987826436758,-0.075935095548630,0.007878270000219,-0.150996297597885,-0.019633980467916,-0.003871478373185,-0.007866507396102));
res += mul(Get(s2,-dx,-dy), float4x4(0.142812147736549,-0.062842369079590,-0.004811920691282,0.158551663160324,-0.058417201042175,0.032170489430428,0.174055695533752,0.273633420467377,0.109134986996651,-0.076982267200947,0.307903140783310,-0.120788469910622,0.019848184660077,-0.065481506288052,-0.260585129261017,0.137412562966347));
res += mul(Get(s2,-dx,0), float4x4(-0.011662819422781,0.025678446516395,0.054494582116604,-0.071507871150970,-0.037593260407448,0.015637669712305,-0.061414595693350,-0.001418567611836,0.143236234784126,0.005143013317138,-0.029858950525522,-0.074440591037273,0.017952205613256,-0.065415218472481,0.086923643946648,0.047956060618162));
res += mul(Get(s2,-dx,dy), float4x4(-0.044727247208357,-0.064652174711227,0.106212146580219,-0.086259052157402,0.027901038527489,-0.020433409139514,0.084912091493607,0.040418922901154,0.118609257042408,-0.094496957957745,0.152949899435043,0.259907066822052,0.007669956423342,0.081541396677494,-0.197040364146233,-0.007280194666237));
res += mul(Get(s2,0,-dy), float4x4(0.175949111580849,0.092600151896477,0.072105832397938,-0.010674966499209,-0.017101500183344,0.029370578005910,0.145446509122849,0.085023812949657,-0.012578172609210,-0.003268236992881,0.037696100771427,0.071982420980930,0.195757105946541,0.016202980652452,0.010637055151165,-0.102615728974342));
res += mul(Get(s2,0,0), float4x4(0.039487447589636,-0.163788884878159,-0.154395908117294,-0.072441108524799,0.074422672390938,-0.095017701387405,-0.082140788435936,-0.062581963837147,0.187630131840706,0.003016455331817,-0.048744887113571,0.022814376279712,0.048661224544048,0.020813636481762,0.037068810313940,0.140149489045143));
res += mul(Get(s2,0,dy), float4x4(0.178439542651176,-0.141916692256927,-0.018066663295031,-0.025006085634232,-0.037006516009569,-0.030831100419164,0.010336058214307,-0.135527342557907,0.165089070796967,0.075237870216370,-0.160273641347885,-0.006626728456467,-0.089634068310261,0.078068174421787,-0.003668286604807,0.083207316696644));
res += mul(Get(s2,dx,-dy), float4x4(-0.157489836215973,-0.023886041715741,0.069090843200684,0.031686075031757,-0.015283228829503,0.006874050013721,0.072177574038506,-0.053439326584339,-0.064139395952225,-0.022639304399490,-0.010137530975044,-0.043498266488314,-0.036972422152758,0.088031835854053,-0.061114083975554,-0.166631698608398));
res += mul(Get(s2,dx,0), float4x4(0.268896460533142,0.028158003464341,-0.100799798965454,0.064506381750107,-0.113334894180298,-0.152277499437332,-0.065180346369743,-0.013781278394163,0.144769802689552,0.072105303406715,-0.171029955148697,0.142870858311653,-0.144377693533897,-0.038681436330080,-0.224966108798981,-0.063577450811863));
res += mul(Get(s2,dx,dy), float4x4(0.028004728257656,-0.051570910960436,0.035844016820192,0.032162398099899,-0.169713765382767,0.061747886240482,0.177431315183640,0.208237051963806,-0.078025303781033,-0.003345271339640,-0.025502815842628,-0.036247603595257,-0.119594618678093,-0.227485135197639,0.237358331680298,0.009588536806405));
res += mul(Get(s3,-dx,-dy), float4x4(-0.112279653549194,-0.149751365184784,0.115783527493477,-0.062260031700134,-0.280256211757660,-0.037272907793522,-0.090336717665195,0.113485850393772,-0.025642002001405,0.013273870572448,0.085501044988632,-0.166313603520393,-0.175303399562836,0.259147763252258,0.000148349106894,0.073169142007828));
res += mul(Get(s3,-dx,0), float4x4(0.157521441578865,0.032885003834963,0.231603384017944,0.132999867200851,0.091213971376419,0.032949358224869,0.001896752160974,0.167127013206482,0.148545593023300,0.017896126955748,-0.267584770917892,-0.139865323901176,-0.038571335375309,0.062615901231766,0.075824834406376,0.012931533157825));
res += mul(Get(s3,-dx,dy), float4x4(-0.139574214816093,-0.134997129440308,-0.217816293239594,0.082167215645313,-0.060571942478418,-0.166320830583572,-0.086397625505924,0.009340377524495,0.043274402618408,-0.009449436329305,-0.127117648720741,0.024009212851524,0.247555866837502,-0.094099432229996,0.097178243100643,0.076218403875828));
res += mul(Get(s3,0,-dy), float4x4(0.013907655142248,-0.173638403415680,0.179911792278290,0.187403649091721,0.314030379056931,-0.201240345835686,0.072173759341240,-0.086547441780567,-0.012050876393914,-0.123832926154137,-0.061821926385164,-0.175875842571259,0.035814184695482,0.182428613305092,-0.063960477709770,0.212724685668945));
res += mul(Get(s3,0,0), float4x4(-0.029985446482897,-0.116841793060303,0.115322872996330,0.015898985788226,-0.017148703336716,-0.008519621565938,0.036348655819893,-0.014540621079504,-0.010621900670230,0.008853946812451,0.061113301664591,-0.183040827512741,-0.006308952346444,0.208183273673058,-0.043671548366547,0.095038734376431));
res += mul(Get(s3,0,dy), float4x4(0.056649331003428,-0.094039618968964,0.050269924104214,-0.034089311957359,0.094716511666775,0.094910219311714,0.103234320878983,0.096764057874680,0.038376521319151,-0.004098413512111,0.105303145945072,0.063566163182259,0.057344768196344,0.037096008658409,-0.233579844236374,0.120550729334354));
res += mul(Get(s3,dx,-dy), float4x4(-0.036207262426615,0.365937530994415,0.251461595296860,0.015064346604049,0.088921405375004,0.082288078963757,0.100143678486347,0.021922530606389,0.089691363275051,-0.060727227479219,0.188877582550049,0.144294545054436,0.003116426523775,-0.203269496560097,0.067520640790462,0.097974985837936));
res += mul(Get(s3,dx,0), float4x4(0.033475570380688,0.174993127584457,0.112632244825363,-0.061275031417608,-0.164219886064529,-0.075974449515343,-0.115317732095718,-0.180365160107613,-0.212822988629341,-0.041336175054312,-0.273371785879135,0.133450925350189,0.005124023649842,-0.088953286409378,0.180406630039215,0.084229238331318));
res += mul(Get(s3,dx,dy), float4x4(0.214873507618904,0.056755512952805,0.113761685788631,0.206672847270966,0.067719131708145,-0.113417193293571,-0.090850569307804,-0.097663164138794,0.126610845327377,-0.081812910735607,-0.112648986279964,0.245879352092743,-0.008908669464290,0.235696032643318,0.019411355257034,0.051991898566484));
return max(float4(0,0,0,0), res);
}
