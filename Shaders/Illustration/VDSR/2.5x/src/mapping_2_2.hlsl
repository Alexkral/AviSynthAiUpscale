sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.001439217710868,-0.001236832467839,-0.000578688981477,0.004308435134590,-0.072937875986099,-0.060468692332506,-0.387790173292160,0.045547429472208,0.146035537123680,0.058684598654509,0.061474569141865,-0.063615106046200,0.011220213025808,-0.080499768257141,0.055549498647451,-0.007100722752512));
res += mul(Get(s0,-dx,0), float4x4(-0.000403909740271,-0.001681997324340,0.001285108039156,0.001857744879089,0.187924101948738,0.033208955079317,-0.569139242172241,0.089497700333595,0.143214687705040,0.036454647779465,-0.075323320925236,-0.086673282086849,0.166728079319000,-0.195292010903358,-0.040906064212322,-0.022675683721900));
res += mul(Get(s0,-dx,dy), float4x4(0.000415452581365,-0.003088172525167,-0.000779625610448,-0.001387453638017,0.228771448135376,-0.052265599370003,-0.422446548938751,0.043167755007744,0.172372564673424,0.088344827294350,-0.075730770826340,-0.038933742791414,-0.059626210480928,-0.118249714374542,-0.171030849218369,0.107399731874466));
res += mul(Get(s0,0,-dy), float4x4(-0.002784524811432,0.000994843896478,0.001957775559276,0.001947539043613,0.189890459179878,-0.179512292146683,0.056157667189837,0.049591541290283,0.120657816529274,-0.058136913925409,0.253369033336639,-0.095060490071774,0.011458666995168,-0.167968064546585,0.319851458072662,-0.101374983787537));
res += mul(Get(s0,0,0), float4x4(-0.000284118170384,-0.000820996297989,-0.001340405666269,-0.001478211372159,0.138878688216209,-0.097932748496532,-0.155060455203056,-0.058344714343548,-0.155952021479607,-0.001705499365926,-0.005806457251310,-0.067675419151783,-0.134660452604294,-0.205930516123772,-0.156157329678535,-0.112937361001968));
res += mul(Get(s0,0,dy), float4x4(-0.000561484717764,-0.001012452878058,-0.001411531586200,-0.003335018642247,-0.152237728238106,0.100578129291534,-0.101366832852364,-0.068096555769444,0.040820542722940,-0.015358369797468,0.025442617014050,-0.153774619102478,-0.236849501729012,-0.056128386408091,-0.380418539047241,0.108685441315174));
res += mul(Get(s0,dx,-dy), float4x4(-0.002619536127895,-0.000176238798304,0.000290010590106,-0.001246287138201,-0.071250557899475,0.080752342939377,-0.127246469259262,-0.028266659006476,0.011003948748112,-0.115751668810844,0.228542104363441,0.031269215047359,0.038897797465324,-0.184645935893059,0.014380646869540,-0.048541001975536));
res += mul(Get(s0,dx,0), float4x4(0.002328186063096,0.000061388498580,-0.002436158712953,-0.002695593284443,-0.009707535617054,0.136917635798454,0.171062961220741,0.055495988577604,-0.013285419903696,0.044340733438730,-0.075876459479332,0.011666569858789,-0.180743470788002,-0.180649474263191,0.133573278784752,-0.026681438088417));
res += mul(Get(s0,dx,dy), float4x4(-0.003785402048379,0.001234758412465,0.001020212774165,0.000380398269044,-0.081573516130447,0.183665245771408,0.080993890762329,0.066391602158546,-0.009657829068601,-0.017735905945301,-0.020548416301608,-0.005643614567816,-0.151186570525169,-0.010860968381166,-0.257889777421951,0.002923522610217));
res += mul(Get(s1,-dx,-dy), float4x4(0.032963450998068,0.048781741410494,0.077796719968319,-0.082988426089287,-0.046207420527935,-0.038701970130205,0.121580362319946,0.041574411094189,-0.019248615950346,-0.052349012345076,-0.032271422445774,0.048969700932503,-0.041521374136209,0.044023215770721,-0.057082317769527,-0.008802675642073));
res += mul(Get(s1,-dx,0), float4x4(-0.134070351719856,0.043003708124161,0.060075201094151,-0.309422552585602,-0.091093309223652,-0.060921404510736,0.028497146442533,0.027394164353609,-0.028012141585350,-0.025789823383093,-0.030656633898616,0.095175683498383,0.023482704535127,0.013343148864806,-0.029357371851802,0.127636507153511));
res += mul(Get(s1,-dx,dy), float4x4(-0.194074794650078,0.120890468358994,0.039606131613255,-0.133782997727394,-0.128486946225166,0.123272009193897,0.086268804967403,0.053363431245089,-0.012190330773592,0.002024915767834,-0.035745788365602,0.099251583218575,0.036693625152111,0.041363604366779,-0.118821047246456,-0.049200762063265));
res += mul(Get(s1,0,-dy), float4x4(-0.088924534618855,-0.061505742371082,-0.014769393950701,0.178876206278801,0.061828427016735,-0.087068699300289,0.004598485771567,-0.123241581022739,-0.034217268228531,-0.034186463803053,-0.013119787909091,0.009076225571334,-0.001706921029836,0.000769748876337,-0.049832053482533,-0.023337639868259));
res += mul(Get(s1,0,0), float4x4(-0.242093294858932,-0.035786852240562,-0.039991900324821,-0.195191338658333,-0.051152620464563,-0.177948758006096,-0.034850466996431,-0.026465278118849,-0.015567067079246,0.021238179877400,-0.008390990085900,0.023697413504124,0.102117665112019,-0.027216693386436,-0.023729668930173,-0.032426953315735));
res += mul(Get(s1,0,dy), float4x4(-0.233728945255280,-0.305837452411652,-0.094093933701515,0.199962511658669,0.115187652409077,-0.044620692729950,0.018207143992186,0.023498097434640,0.013383750803769,0.058025561273098,-0.016771290451288,0.050788089632988,0.087607890367508,-0.021572735160589,-0.048745483160019,0.035703673958778));
res += mul(Get(s1,dx,-dy), float4x4(-0.010037185624242,0.317021876573563,0.090966224670410,-0.074022695422173,-0.018342528492212,-0.089311443269253,0.097336404025555,0.028243087232113,-0.003876762930304,-0.019902963191271,-0.010707716457546,-0.068553544580936,0.014866577461362,0.048641216009855,-0.053674127906561,0.092637315392494));
res += mul(Get(s1,dx,0), float4x4(-0.065419718623161,0.379593163728714,0.124086894094944,0.796990454196930,-0.002807748038322,-0.043225187808275,-0.014326790347695,0.036675468087196,-0.018558632582426,0.005735998973250,-0.020153716206551,-0.031348515301943,0.061054520308971,0.059952691197395,-0.029957532882690,-0.021324139088392));
res += mul(Get(s1,dx,dy), float4x4(-0.234601721167564,-0.203478455543518,-0.041285227984190,0.341431647539139,0.055468108505011,0.029360853135586,-0.035599816590548,-0.018928760662675,-0.013791069388390,0.028510030359030,-0.027283158153296,-0.030419515445828,0.113398835062981,0.033224474638700,0.002166096121073,0.002166336867958));
res += mul(Get(s2,-dx,-dy), float4x4(0.029566489160061,-0.002289419528097,-0.061443816870451,-0.020215561613441,0.059158079326153,-0.059194028377533,-0.051582571119070,-0.005726022180170,0.116930060088634,-0.032817687839270,-0.122686780989170,0.004839841276407,-0.057253431528807,-0.164516806602478,0.002684625564143,-0.087174005806446));
res += mul(Get(s2,-dx,0), float4x4(0.011495057493448,0.000762216513976,0.018879445269704,-0.018967214971781,0.045447465032339,-0.109415978193283,0.071581706404686,-0.018798939883709,-0.105653755366802,-0.035813909024000,-0.230026274919510,-0.015891632065177,-0.021548958495259,-0.167321071028709,-0.025162994861603,-0.057590547949076));
res += mul(Get(s2,-dx,dy), float4x4(0.038286626338959,-0.010070129297674,0.010529066435993,0.036386564373970,-0.120568357408047,-0.014070324599743,-0.058803897351027,-0.066307365894318,-0.205429479479790,0.017358131706715,-0.114762723445892,-0.042248025536537,-0.111809968948364,-0.075895614922047,-0.093107715249062,-0.007571024354547));
res += mul(Get(s2,0,-dy), float4x4(0.024019069969654,-0.001604024204426,-0.066271089017391,-0.010401866398752,0.012617659755051,0.022426759824157,0.132917091250420,-0.016878368332982,-0.020817210897803,-0.035351306200027,0.102664664387703,-0.023823356255889,-0.098178699612617,-0.148323535919189,0.203605309128761,-0.067444324493408));
res += mul(Get(s2,0,0), float4x4(0.009615746326745,0.000246991985478,0.016921145841479,0.008161587640643,-0.029630437493324,0.020537219941616,0.508057177066803,-0.012496420182288,0.003526356071234,0.007302407640964,-0.004040032159537,-0.038082636892796,-0.045728217810392,-0.163254871964455,0.165211752057076,-0.052870877087116));
res += mul(Get(s2,0,dy), float4x4(0.042698875069618,-0.006366921123117,0.024174248799682,0.042791157960892,-0.110804826021194,0.044231548905373,0.103256903588772,-0.075051248073578,0.103161260485649,-0.038077015429735,-0.147534981369972,-0.028632113710046,-0.079698041081429,-0.112883076071739,-0.195100143551826,-0.038798887282610));
res += mul(Get(s2,dx,-dy), float4x4(0.023108180612326,0.001466535264626,-0.062053255736828,-0.006252321414649,0.103269554674625,0.086944296956062,0.015338253229856,-0.070768326520920,-0.008562151342630,0.273873299360275,-0.069040529429913,-0.089034378528595,-0.101316943764687,-0.105686657130718,0.058278813958168,-0.123367249965668));
res += mul(Get(s2,dx,0), float4x4(0.011858600191772,-0.003604389494285,0.013508811593056,0.009856122545898,0.044087428599596,0.144956246018410,0.206962630152702,-0.058167472481728,-0.029270146042109,0.262392729520798,0.035915605723858,0.024843866005540,-0.062189958989620,-0.098019875586033,0.019992725923657,-0.146206498146057));
res += mul(Get(s2,dx,dy), float4x4(0.052117187529802,-0.003029400715604,0.032552041113377,0.029682995751500,-0.070561677217484,0.151872962713242,-0.036569762974977,-0.102209411561489,-0.031889837235212,0.111852228641510,-0.015805127099156,0.091018706560135,-0.060090746730566,-0.048907894641161,-0.284670919179916,-0.075370609760284));
res += mul(Get(s3,-dx,-dy), float4x4(0.083262979984283,-0.259104430675507,0.010084866546094,-0.095766380429268,-0.001700232853182,0.000894252210855,0.003176413010806,-0.001834494993091,0.039188731461763,-0.023257968947291,0.007446697447449,-0.082198537886143,-0.054643515497446,-0.141321823000908,-0.112485900521278,-0.049593802541494));
res += mul(Get(s3,-dx,0), float4x4(-0.174329355359077,-0.296569496393204,0.186981514096260,-0.169372469186783,-0.001162553322501,-0.000237391999690,0.002942954422906,0.000615543744061,-0.053070489317179,-0.069802418351173,0.073262296617031,0.050960198044777,-0.007589485030621,-0.140502870082855,-0.043139919638634,-0.099363684654236));
res += mul(Get(s3,-dx,dy), float4x4(-0.216195389628410,-0.360052913427353,-0.084103472530842,-0.193973451852798,0.000349352660123,0.000355217780452,-0.001495636999607,-0.002207992831245,0.143285557627678,-0.047551475465298,-0.070933707058430,-0.040525756776333,0.131306052207947,-0.138261005282402,-0.037964947521687,-0.040067043155432));
res += mul(Get(s3,0,-dy), float4x4(-0.034560464322567,-0.154431536793709,-0.127925261855125,-0.023048905655742,0.000827629119158,0.000138205592521,-0.000380646204576,0.001877411035821,-0.057857658714056,-0.026857191696763,-0.069636799395084,0.088087216019630,-0.194006979465485,-0.116319052875042,-0.089535087347031,0.082488968968391));
res += mul(Get(s3,0,0), float4x4(-0.063936337828636,-0.121288947761059,-0.153239741921425,-0.051958300173283,-0.000395091570681,0.001073474530131,0.000218056375161,-0.000174107670318,0.046372022479773,0.105128698050976,-0.010872790589929,-0.033635564148426,0.537249505519867,-0.184251382946968,-0.112788878381252,0.039193708449602));
res += mul(Get(s3,0,dy), float4x4(-0.121941789984703,-0.205735087394714,0.103381201624870,0.031701859086752,-0.001199807040393,0.001917469897307,0.004584618378431,0.001164591754787,-0.061620954424143,0.143784776329994,-0.079826816916466,-0.089517802000046,0.037678796797991,0.059653829783201,0.001865074969828,-0.052417013794184));
res += mul(Get(s3,dx,-dy), float4x4(-0.026877423748374,0.010720276273787,-0.126055553555489,-0.073823064565659,0.000727174279746,0.000375280244043,-0.002751180669293,-0.000361288082786,0.060205709189177,-0.083524808287621,-0.009252254851162,-0.007837312296033,0.076472252607346,0.239096924662590,-0.138294637203217,0.002410528715700));
res += mul(Get(s3,dx,0), float4x4(-0.031699471175671,-0.019098246470094,-0.083683326840401,0.032360836863518,0.001244402606972,-0.000575639423914,-0.002526337280869,0.001326050492935,-0.047605272382498,0.033067498356104,0.008271280676126,0.090902328491211,0.073898002505302,0.090578213334084,-0.102458856999874,-0.040653709322214));
res += mul(Get(s3,dx,dy), float4x4(-0.060890149325132,-0.050411891192198,0.185844495892525,-0.014257000759244,0.000820089888293,-0.000412382505601,-0.003253735834733,0.002085437998176,-0.089831396937370,0.144041985273361,0.011660382151604,0.095073528587818,-0.250915348529816,0.437850356101990,0.081000171601772,-0.031326543539762));
return max(float4(0,0,0,0), res);
}
