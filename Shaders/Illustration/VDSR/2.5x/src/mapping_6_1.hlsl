sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.048891726881266,-0.111893773078918,0.059498108923435,-0.067870348691940,0.028532063588500,0.088146999478340,0.100134193897247,-0.068852074444294,-0.006334281992167,0.137557223439217,0.019935488700867,0.024983560666442,-0.113363169133663,-0.163280010223389,0.034779679030180,0.073499694466591));
res += mul(Get(s0,-dx,0), float4x4(0.125010401010513,0.019539456814528,0.143505707383156,0.058996066451073,0.235128119587898,-0.190437167882919,-0.009023588150740,-0.150670886039734,-0.073232144117355,-0.288420975208282,0.072928152978420,0.033068228513002,-0.056053843349218,-0.051263801753521,0.001635147258639,-0.054259594529867));
res += mul(Get(s0,-dx,dy), float4x4(-0.082647681236267,-0.075238943099976,0.083763010799885,0.182610183954239,0.161829590797424,-0.158366158604622,0.011372714303434,0.139242202043533,0.029175670817494,-0.174900457262993,-0.016893103718758,0.016254540532827,-0.025897558778524,-0.040428422391415,-0.102719902992249,-0.182462424039841));
res += mul(Get(s0,0,-dy), float4x4(-0.096197925508022,0.012693553231657,0.156875610351563,0.130556315183640,0.053887840360403,0.204435020685196,0.033791791647673,-0.036761447787285,-0.201079368591309,-0.064583554863930,-0.067530691623688,-0.075410813093185,0.223315194249153,0.080795176327229,-0.057991404086351,-0.045047368854284));
res += mul(Get(s0,0,0), float4x4(0.167815655469894,0.070357695221901,0.224365711212158,-0.040491368621588,-0.007985831238329,-0.190952926874161,0.097520418465137,0.116137601435184,0.033597543835640,-0.056896578520536,-0.144119620323181,0.122219033539295,0.001406055525877,-0.119894184172153,0.181109279394150,0.056395869702101));
res += mul(Get(s0,0,dy), float4x4(0.065386809408665,-0.004956400021911,0.072092272341251,0.033131003379822,0.014078858308494,-0.045955229550600,0.124673381447792,0.092021964490414,0.003741452237591,-0.075695730745792,-0.088935784995556,0.001122733578086,-0.142886742949486,-0.109105460345745,0.116530813276768,-0.142750158905983));
res += mul(Get(s0,dx,-dy), float4x4(-0.168167665600777,0.020224897190928,0.022562408819795,-0.016410904005170,-0.081572651863098,-0.041116647422314,0.097848847508430,-0.055116966366768,0.071316733956337,-0.269027829170227,-0.085894711315632,-0.033323138952255,-0.000149436818901,-0.024668855592608,-0.049150738865137,-0.052923511713743));
res += mul(Get(s0,dx,0), float4x4(-0.153634309768677,-0.080481737852097,-0.050848636776209,0.231410145759583,0.026628293097019,-0.332674831151962,0.097323574125767,-0.062020875513554,-0.145588010549545,-0.069944150745869,0.059092484414577,-0.053934205323458,0.137103483080864,-0.073421917855740,0.095796301960945,-0.111031323671341));
res += mul(Get(s0,dx,dy), float4x4(0.014074840582907,0.061476640403271,0.014909506775439,0.033044058829546,-0.035927828401327,-0.017431614920497,0.068012662231922,-0.010558488778770,0.005917222239077,0.009304667823017,0.102268658578396,-0.082562476396561,-0.118704810738564,0.128306418657303,-0.193826362490654,0.084172628819942));
res += mul(Get(s1,-dx,-dy), float4x4(0.134420171380043,0.143922671675682,-0.011430364102125,-0.014619756489992,-0.099498949944973,0.110901653766632,0.026495268568397,0.145446956157684,-0.095122404396534,-0.049562629312277,0.149795666337013,-0.097049355506897,0.043247066438198,-0.024280825629830,-0.139084324240685,0.047509208321571));
res += mul(Get(s1,-dx,0), float4x4(-0.122438929975033,0.222695648670197,0.322201460599899,0.007837452925742,0.047724254429340,-0.070262283086777,-0.040320347994566,-0.016837278380990,0.054314918816090,0.118037715554237,0.064515963196754,0.010597520507872,0.107229009270668,-0.006519242655486,0.034965489059687,0.034431714564562));
res += mul(Get(s1,-dx,dy), float4x4(-0.087825872004032,-0.043124653398991,-0.069845981895924,-0.067775808274746,0.057806469500065,-0.063034988939762,-0.182838320732117,-0.154722392559052,-0.023730885237455,0.177411496639252,0.005860602948815,-0.175710499286652,0.147609755396843,0.103298768401146,0.072914406657219,0.061246134340763));
res += mul(Get(s1,0,-dy), float4x4(-0.055494178086519,0.033180091530085,-0.006565561983734,-0.025031894445419,0.031565587967634,-0.068217001855373,0.163876757025719,0.007038713898510,0.056955840438604,0.007513409014791,-0.197678267955780,-0.055704347789288,-0.063346326351166,-0.157108575105667,0.211825206875801,-0.163201346993446));
res += mul(Get(s1,0,0), float4x4(0.290596872568130,0.101918190717697,-0.122318081557751,0.080292724072933,-0.031019421294332,0.029918670654297,-0.023341201245785,-0.007352519314736,0.233484968543053,-0.010414860211313,-0.165665283799171,-0.068601369857788,-0.299540340900421,0.121502667665482,0.065495394170284,-0.030265754088759));
res += mul(Get(s1,0,dy), float4x4(0.165874972939491,-0.050007723271847,-0.143298879265785,-0.006187476217747,-0.077103354036808,0.034478683024645,-0.108580380678177,-0.027850486338139,-0.135109663009644,0.030910596251488,-0.101616881787777,-0.021685669198632,-0.017056830227375,-0.250406622886658,0.216433569788933,0.089125387370586));
res += mul(Get(s1,dx,-dy), float4x4(-0.003884283360094,0.049237277358770,0.027079647406936,0.176664426922798,0.209280818700790,-0.298786044120789,0.148704841732979,-0.025440348312259,-0.163616269826889,0.072223246097565,-0.220901116728783,0.006173871457577,-0.110496491193771,0.110799744725227,0.148249357938766,-0.005218080710620));
res += mul(Get(s1,dx,0), float4x4(-0.027463743463159,-0.080217450857162,0.057286504656076,0.028481528162956,-0.001705162227154,-0.046859480440617,0.213344171643257,-0.100520446896553,-0.009880237281322,-0.108257584273815,0.014887315221131,0.019379980862141,0.068782709538937,0.163650617003441,-0.020181186497211,-0.120882742106915));
res += mul(Get(s1,dx,dy), float4x4(0.016906775534153,0.128035634756088,-0.164364486932755,-0.159773558378220,0.076638266444206,0.151938185095787,-0.007921300828457,0.011664701625705,-0.066702917218208,-0.064424410462379,0.103040240705013,0.080437734723091,0.158747076988220,-0.066521614789963,0.132225140929222,0.070491276681423));
res += mul(Get(s2,-dx,-dy), float4x4(-0.279387146234512,-0.004335804842412,-0.083194322884083,-0.146788045763969,-0.078655369579792,-0.065721847116947,0.005021241959184,0.043243564665318,-0.030176859349012,-0.084867969155312,-0.044531032443047,-0.000894210243132,0.031169738620520,0.080240130424500,-0.112424455583096,-0.059981271624565));
res += mul(Get(s2,-dx,0), float4x4(-0.028253749012947,-0.026811225339770,-0.125258371233940,0.399769484996796,-0.093108169734478,-0.050855409353971,-0.239150151610374,0.013343662954867,0.019103147089481,0.091863036155701,-0.016000563278794,0.074043571949005,0.183257803320885,0.067241072654724,0.236029177904129,-0.156057342886925));
res += mul(Get(s2,-dx,dy), float4x4(-0.028705425560474,-0.043648090213537,-0.143386155366898,0.102601602673531,0.056201558560133,-0.131143674254417,0.022609671577811,-0.011660237796605,-0.060558684170246,0.058892052620649,0.044934634119272,-0.112646348774433,-0.002123926999047,0.104962341487408,-0.029242863878608,-0.050120264291763));
res += mul(Get(s2,0,-dy), float4x4(0.159080594778061,0.066232651472092,0.050640352070332,0.032328076660633,0.006380029954016,-0.027097309008241,-0.031176988035440,0.012672243639827,-0.133269324898720,-0.126555576920509,0.128278419375420,0.091173559427261,0.118003152310848,-0.053563792258501,0.017183994874358,0.065820008516312));
res += mul(Get(s2,0,0), float4x4(-0.037933342158794,0.043474666774273,-0.020467413589358,-0.029949327930808,0.110286071896553,-0.107434771955013,0.090324066579342,-0.052206858992577,-0.169941857457161,0.218104481697083,-0.150731682777405,0.124523997306824,-0.047572590410709,-0.012087852694094,0.082262203097343,-0.143838301301003));
res += mul(Get(s2,0,dy), float4x4(0.265539914369583,-0.079092688858509,-0.016079375520349,-0.165349140763283,0.088904350996017,-0.066074252128601,-0.016280023381114,0.052948359400034,-0.032505057752132,-0.113262072205544,0.037290502339602,0.151289597153664,0.099890172481537,-0.015897884964943,0.085132941603661,-0.108587034046650));
res += mul(Get(s2,dx,-dy), float4x4(-0.142088696360588,0.196209236979485,-0.017462369054556,0.030817914754152,-0.151260763406754,-0.102238096296787,-0.036539908498526,-0.004917554091662,0.102918662130833,-0.027246193960309,0.039237618446350,-0.007793456315994,0.068921349942684,-0.020865259692073,-0.197706967592239,-0.003410198958591));
res += mul(Get(s2,dx,0), float4x4(0.126682937145233,0.168040305376053,0.048221439123154,0.170714154839516,-0.002446930622682,0.082047209143639,0.074261635541916,-0.018627120181918,-0.169208854436874,0.180411711335182,0.011047541163862,-0.026574783027172,-0.005060569383204,0.069380946457386,0.108773879706860,0.030485035851598));
res += mul(Get(s2,dx,dy), float4x4(0.114978224039078,0.019143860787153,-0.038574997335672,-0.114829882979393,-0.162756860256195,0.137845322489738,-0.129641681909561,0.013585582375526,-0.104115933179855,0.100971736013889,0.012888166122139,0.179731354117393,-0.046298135071993,-0.035335659980774,-0.094968944787979,0.211751937866211));
res += mul(Get(s3,-dx,-dy), float4x4(0.202626273036003,0.016930971294641,-0.021773384884000,0.007326978258789,0.030352238565683,-0.043177243322134,0.038397289812565,-0.156827658414841,-0.075987167656422,-0.184803530573845,0.057510253041983,-0.091136291623116,-0.092908687889576,-0.047778453677893,-0.066820099949837,-0.092424392700195));
res += mul(Get(s3,-dx,0), float4x4(0.197779506444931,-0.100891754031181,-0.189716279506683,-0.116260722279549,-0.043334458023310,-0.028285602107644,-0.037185899913311,0.035016786307096,0.040577881038189,-0.068511888384819,-0.009038421325386,0.354645907878876,-0.172210201621056,0.018302373588085,0.259379893541336,-0.005823505111039));
res += mul(Get(s3,-dx,dy), float4x4(0.036815911531448,0.093420088291168,0.056069273501635,0.244328707456589,-0.008930698037148,0.005446869879961,-0.190801322460175,-0.021568819880486,-0.037003207951784,0.019938893616199,0.164648994803429,0.226848110556602,-0.025764774531126,0.036834549158812,-0.042503722012043,0.071539402008057));
res += mul(Get(s3,0,-dy), float4x4(0.149303078651428,-0.128273859620094,-0.010246018879116,0.018608441576362,0.086638234555721,0.249575227499008,0.168509006500244,-0.059685081243515,0.117421321570873,0.029975835233927,0.019519191235304,0.064447849988937,-0.098952092230320,0.125607997179031,-0.000858373648953,0.130096673965454));
res += mul(Get(s3,0,0), float4x4(0.071385979652405,-0.166728913784027,0.183928877115250,0.066274680197239,-0.005441572051495,0.014176428318024,-0.093730106949806,-0.151873812079430,-0.115271329879761,-0.079714268445969,0.089916765689850,-0.064010284841061,-0.076458588242531,-0.039253447204828,0.010481772013009,-0.112431891262531));
res += mul(Get(s3,0,dy), float4x4(0.033148877322674,0.041461568325758,-0.009187266230583,0.007955699227750,-0.071835160255432,-0.084410533308983,0.105563260614872,-0.087507113814354,-0.009654771536589,0.217113584280014,-0.092809520661831,-0.197126254439354,0.189287543296814,-0.020106840878725,0.003717750078067,-0.039779558777809));
res += mul(Get(s3,dx,-dy), float4x4(0.145983368158340,-0.085865862667561,0.054293774068356,0.127080604434013,-0.174789041280746,0.039663828909397,-0.074907943606377,-0.025478234514594,0.007498587947339,0.040829848498106,0.174768120050430,0.061922762542963,-0.234788507223129,0.019266497343779,0.171647235751152,-0.184383943676949));
res += mul(Get(s3,dx,0), float4x4(-0.042341943830252,-0.019097229465842,0.012040167115629,-0.018384030088782,0.077850051224232,0.004441197495908,-0.046682715415955,-0.172823131084442,-0.200768485665321,-0.044277139008045,0.049208048731089,0.005847049877048,-0.103746287524700,0.054499246180058,0.142177864909172,-0.055715512484312));
res += mul(Get(s3,dx,dy), float4x4(0.098680295050144,0.203362837433815,-0.096193678677082,-0.176018044352531,-0.191990226507187,-0.029051862657070,-0.103920347988605,-0.041140090674162,0.089113943278790,-0.065759770572186,0.095535628497601,0.117432385683060,0.064250797033310,-0.102261155843735,-0.148838236927986,-0.065470293164253));
return max(float4(0,0,0,0), res);
}
