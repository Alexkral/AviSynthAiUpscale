sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.110471837222576,0.144744902849197,-0.017037574201822,-0.065405562520027,-0.012034267187119,-0.021736040711403,-0.167086526751518,0.185415610671043,0.239611580967903,0.158789202570915,0.227104276418686,-0.153388276696205,-0.070702731609344,0.174404338002205,0.157096922397614,0.059758778661489));
res += mul(Get(s0,-dx,0), float4x4(-0.059215128421783,0.091089308261871,0.019972790032625,0.026884520426393,-0.208978891372681,-0.057198312133551,0.011611179448664,0.163864940404892,-0.053289644420147,0.130768701434135,0.032383330166340,-0.138058602809906,0.013776002451777,0.024692419916391,0.057669345289469,-0.149801105260849));
res += mul(Get(s0,-dx,dy), float4x4(-0.041356757283211,0.188446655869484,0.115709193050861,-0.111205093562603,-0.171476423740387,-0.090855099260807,0.185762733221054,0.080122411251068,-0.013414152897894,0.139534011483192,0.040332764387131,-0.125042989850044,0.082957394421101,-0.004499849863350,0.030764851719141,-0.107635028660297));
res += mul(Get(s0,0,-dy), float4x4(0.120596520602703,0.103954099118710,0.060595538467169,-0.103429101407528,0.184935718774796,-0.152479603886604,-0.082669697701931,-0.170052513480186,0.055093042552471,-0.069638706743717,0.180071279406548,-0.087283343076706,-0.021563237532973,0.000355205149390,-0.116186499595642,0.013452280312777));
res += mul(Get(s0,0,0), float4x4(-0.078061334788799,0.051041118800640,-0.040520552545786,0.011747957207263,0.234926715493202,-0.124338582158089,-0.094810731709003,0.021199306473136,-0.216863930225372,-0.078903742134571,-0.090458028018475,-0.094748549163342,0.110343478620052,-0.167962789535522,-0.008781687356532,-0.059463791549206));
res += mul(Get(s0,0,dy), float4x4(-0.074897319078445,0.178928792476654,-0.004425152204931,0.009123844094574,0.012259745039046,-0.136224359273911,0.007336280308664,0.046040773391724,0.022426469251513,-0.037796087563038,0.050139181315899,-0.085032083094120,-0.075015448033810,-0.028862182050943,-0.063570804893970,-0.201753243803978));
res += mul(Get(s0,dx,-dy), float4x4(-0.099762417376041,-0.067529104650021,0.132486507296562,-0.259187728166580,-0.138005539774895,-0.220752701163292,-0.148697689175606,-0.164708152413368,-0.077277190983295,-0.227963969111443,0.355734318494797,-0.119809895753860,-0.235324263572693,0.059873182326555,-0.058427687734365,0.156614065170288));
res += mul(Get(s0,dx,0), float4x4(0.004685921594501,-0.119700133800507,-0.114285111427307,-0.158297315239906,0.077406667172909,-0.129861295223236,-0.092646449804306,0.090600982308388,-0.217960998415947,-0.248959138989449,0.014482856728137,-0.125889003276825,-0.098864659667015,-0.157544568181038,0.093525968492031,-0.039440993219614));
res += mul(Get(s0,dx,dy), float4x4(-0.028251169249415,0.027683477848768,-0.078382775187492,-0.149213477969170,-0.180075332522392,0.019021261483431,0.041498959064484,0.058759655803442,0.081838794052601,-0.126915767788887,-0.111500136554241,-0.188658133149147,-0.096683464944363,0.095222890377045,-0.026307353749871,-0.057608727365732));
res += mul(Get(s1,-dx,-dy), float4x4(-0.192414134740829,0.150076001882553,-0.186047613620758,0.140750020742416,-0.011833320371807,-0.117533788084984,0.152048632502556,0.064607426524162,0.025856398046017,0.152711018919945,0.029927395284176,-0.044334724545479,0.100103974342346,-0.104420065879822,-0.042914837598801,0.211098551750183));
res += mul(Get(s1,-dx,0), float4x4(-0.167858436703682,0.120523601770401,0.086019985377789,0.114376612007618,-0.043314486742020,-0.002800701418892,-0.038314919918776,0.113886088132858,0.001416300772689,0.202833369374275,0.006706099025905,-0.187357336282730,0.171267047524452,-0.031517252326012,0.139015108346939,0.022019850090146));
res += mul(Get(s1,-dx,dy), float4x4(0.059189222753048,-0.041290443390608,0.252296119928360,0.017709145322442,0.227653250098228,-0.139203161001205,0.281139135360718,-0.090573243796825,0.150394350290298,-0.042536582797766,-0.055803295224905,-0.075963504612446,-0.050346162170172,0.011204617097974,-0.029400590807199,-0.016840972006321));
res += mul(Get(s1,0,-dy), float4x4(-0.017411014065146,0.000339973892551,-0.071920596063137,0.164590716362000,0.087682969868183,-0.224738925695419,0.202550038695335,-0.072982169687748,-0.006516346242279,0.133599400520325,-0.122464731335640,0.180130168795586,0.125184565782547,0.054587565362453,0.070271320641041,0.045922953635454));
res += mul(Get(s1,0,0), float4x4(-0.105066247284412,-0.014149089343846,0.111738175153732,0.050365485250950,-0.035145219415426,0.026907056570053,-0.198755323886871,0.161715894937515,0.080389931797981,0.134001091122627,0.229545444250107,-0.106616340577602,0.430967032909393,-0.021969037130475,-0.106419019401073,-0.143143177032471));
res += mul(Get(s1,0,dy), float4x4(0.015110814943910,0.071884080767632,-0.011238328181207,-0.014386749826372,-0.006041592452675,-0.113756470382214,-0.012989897280931,-0.038765110075474,0.081459432840347,0.126918941736221,0.018178252503276,-0.081528350710869,-0.007574361283332,0.109775006771088,-0.143013387918472,-0.051805514842272));
res += mul(Get(s1,dx,-dy), float4x4(-0.143033266067505,0.013415289111435,-0.153337463736534,0.206786036491394,0.429185032844543,-0.315222620964050,0.275103420019150,-0.188507735729218,-0.105529032647610,-0.096979089081287,-0.082448601722717,0.047953166067600,-0.081173777580261,-0.155094623565674,0.047177940607071,-0.113551057875156));
res += mul(Get(s1,dx,0), float4x4(-0.028200419619679,0.129368215799332,0.029962804168463,0.127272844314575,-0.202885091304779,-0.217852279543877,-0.031559072434902,-0.177402868866920,-0.206661298871040,-0.179548501968384,-0.065695591270924,-0.114001929759979,-0.143067389726639,-0.294195801019669,-0.111434623599052,-0.139132216572762));
res += mul(Get(s1,dx,dy), float4x4(0.019290704280138,0.031785953789949,-0.063157297670841,-0.012843425385654,0.057304847985506,-0.083953484892845,-0.031589794903994,-0.163768991827965,0.086309798061848,-0.173951789736748,-0.034649014472961,-0.002414953429252,-0.058588601648808,0.007186076603830,-0.234274387359619,-0.058866649866104));
res += mul(Get(s2,-dx,-dy), float4x4(0.101849846541882,0.003616553265601,0.014984719455242,0.121685802936554,-0.004920884966850,-0.016045697033405,-0.134346932172775,-0.023134604096413,0.115881823003292,0.078546591103077,0.238909944891930,0.174191564321518,-0.112189359962940,-0.045838262885809,-0.188427701592445,-0.001897718058899));
res += mul(Get(s2,-dx,0), float4x4(0.104118108749390,0.039772760123014,-0.158932805061340,-0.111206017434597,0.085165694355965,-0.052219025790691,-0.000726583471987,0.067629411816597,-0.039205346256495,-0.035239484161139,0.123881615698338,0.088725492358208,-0.108961597084999,-0.063560687005520,0.052067846059799,-0.046911194920540));
res += mul(Get(s2,-dx,dy), float4x4(0.036883022636175,0.109010726213455,-0.133771806955338,-0.145631134510040,-0.071559086441994,-0.065020576119423,-0.092524588108063,-0.023005599156022,-0.082265287637711,-0.081941485404968,0.088647514581680,0.049191847443581,-0.035119228065014,-0.117370910942554,-0.007918010465801,0.142530694603920));
res += mul(Get(s2,0,-dy), float4x4(-0.009044501930475,-0.005592182744294,0.036474186927080,-0.136843338608742,-0.095167957246304,-0.011625379323959,-0.080188423395157,-0.124391309916973,0.285831302404404,0.118449471890926,0.154205784201622,0.017850486561656,-0.138916760683060,-0.064490348100662,-0.219917461276054,0.076793141663074));
res += mul(Get(s2,0,0), float4x4(0.171098679304123,-0.035426367074251,-0.109095267951488,-0.074061952531338,0.023163195699453,-0.069347716867924,-0.001220925827511,-0.011097933165729,-0.028272634372115,-0.047213762998581,0.015920341014862,-0.116741016507149,-0.138197585940361,-0.008982568979263,0.087377652525902,0.043352913111448));
res += mul(Get(s2,0,dy), float4x4(0.009560594335198,0.150191247463226,0.224055632948875,-0.128081947565079,-0.015047693625093,-0.133900687098503,-0.060774229466915,-0.111722610890865,-0.140035107731819,-0.081102423369884,-0.112436518073082,-0.143846452236176,-0.114753745496273,-0.079378396272659,0.437449455261230,-0.063446611166000));
res += mul(Get(s2,dx,-dy), float4x4(0.104669511318207,0.021167147904634,0.096150808036327,-0.059348288923502,-0.058892656117678,-0.092221736907959,-0.157142087817192,0.361260801553726,0.072217352688313,-0.219784095883369,-0.033061418682337,-0.003701831214130,-0.004909878131002,-0.245829969644547,-0.164788037538528,0.273921877145767));
res += mul(Get(s2,dx,0), float4x4(0.062420845031738,0.041920006275177,-0.055563449859619,0.012501905672252,0.033953312784433,-0.137868568301201,0.046517252922058,-0.080124832689762,0.159750550985336,-0.177458986639977,0.002825169591233,0.016922965645790,0.006114146206528,-0.094658233225346,-0.022682454437017,0.065941296517849));
res += mul(Get(s2,dx,dy), float4x4(0.013098642230034,0.210774362087250,0.000082195903815,0.026115549728274,-0.053532756865025,-0.176970496773720,0.192320883274078,0.115932740271091,-0.021895103156567,-0.022029137238860,-0.038407132029533,0.092019528150558,-0.083790823817253,-0.157677680253983,-0.025491474196315,-0.089955128729343));
res += mul(Get(s3,-dx,-dy), float4x4(0.263501256704330,-0.087639793753624,0.176228120923042,-0.048910927027464,-0.046052549034357,-0.022247115150094,-0.087528876960278,0.141253441572189,-0.027310227975249,0.021624032407999,-0.068318955600262,0.259025514125824,0.004320344887674,0.037330046296120,-0.251042217016220,-0.067158557474613));
res += mul(Get(s3,-dx,0), float4x4(-0.098924443125725,-0.148180112242699,-0.068924784660339,0.026155505329370,-0.001367016695440,0.088829405605793,0.042236268520355,-0.020789965987206,0.025596776977181,0.193711191415787,0.048917450010777,0.090091370046139,0.035131521522999,0.127526044845581,-0.191937088966370,-0.071363359689713));
res += mul(Get(s3,-dx,dy), float4x4(0.030439622700214,0.089595526456833,0.047766651958227,0.055734865367413,-0.085085429251194,0.253535300493240,0.119868442416191,0.006348670460284,-0.030490694567561,0.049891039729118,-0.108854494988918,-0.036896608769894,-0.112128697335720,0.187102422118187,-0.057164929807186,0.050035364925861));
res += mul(Get(s3,0,-dy), float4x4(0.136111140251160,0.108448080718517,0.199821352958679,0.117464467883110,0.133241981267929,-0.015741724520922,-0.086997650563717,-0.041872806847095,-0.041029497981071,0.126556292176247,-0.058651406317949,0.120076335966587,-0.088736161589622,0.107842996716499,-0.104439824819565,0.102804221212864));
res += mul(Get(s3,0,0), float4x4(0.048335585743189,-0.037817314267159,0.032830953598022,0.087850913405418,0.127485483884811,0.096400208771229,-0.029188985005021,-0.021912055090070,0.108868248760700,0.047579649835825,-0.063081979751587,-0.048205722123384,0.067751802504063,-0.110194109380245,-0.008619259111583,0.123059988021851));
res += mul(Get(s3,0,dy), float4x4(-0.011002258397639,0.197189703583717,0.003392903134227,0.157253339886665,0.123789079487324,0.034273497760296,0.078136011958122,0.006833881139755,0.016117317602038,-0.195640951395035,-0.152216330170631,-0.084803253412247,0.072678066790104,-0.140112921595573,0.027756515890360,-0.018638283014297));
res += mul(Get(s3,dx,-dy), float4x4(0.009624170139432,0.194677531719208,0.179644435644150,0.185970678925514,0.013652258552611,0.143184095621109,0.271546274423599,-0.089145272970200,-0.139768391847610,0.071916341781616,-0.163428768515587,-0.053777288645506,0.159233242273331,0.112620785832405,-0.073888957500458,0.041109539568424));
res += mul(Get(s3,dx,0), float4x4(0.004320258740336,0.160099312663078,-0.012424742802978,0.203393831849098,-0.161013960838318,0.070792831480503,0.188306570053101,-0.054846070706844,-0.021607929840684,-0.074774481356144,-0.119356200098991,-0.056386746466160,0.173754811286926,-0.162420302629471,-0.035832043737173,0.046369325369596));
res += mul(Get(s3,dx,dy), float4x4(-0.104134723544121,0.110433317720890,0.050323799252510,0.101977281272411,-0.024162793532014,-0.128999635577202,0.322783559560776,-0.022354792803526,0.003735004924238,0.156437873840332,-0.191923692822456,-0.107181340456009,-0.119208104908466,-0.176677450537682,0.089384287595749,-0.057703591883183));
return max(float4(0,0,0,0), res);
}
