sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.083955258131027,0.030310986563563,-0.123175598680973,-0.172938823699951,-0.019118886440992,-0.120408512651920,0.278433591127396,0.083669245243073,0.108147256076336,-0.071388699114323,0.044767871499062,0.212374776601791,-0.201223582029343,-0.070605240762234,-0.144998148083687,0.004568235017359));
res += mul(Get(s0,-dx,0), float4x4(0.140902027487755,0.076943397521973,0.341634631156921,-0.067306749522686,-0.020362310111523,0.096034228801727,0.310273170471191,0.074148088693619,0.209373295307159,-0.042609509080648,-0.033394634723663,0.032375782728195,-0.036199506372213,-0.083158634603024,0.053503580391407,0.032435618340969));
res += mul(Get(s0,-dx,dy), float4x4(0.417722791433334,-0.042393732815981,0.187157958745956,0.036296281963587,-0.068195164203644,0.014647167176008,0.102853707969189,0.061033703386784,0.084614641964436,-0.007026146631688,-0.098850831389427,0.062770217657089,0.040503241121769,-0.120974741876125,-0.129523769021034,-0.006784895434976));
res += mul(Get(s0,0,-dy), float4x4(-0.063730895519257,0.211530208587646,0.040192220360041,-0.150932878255844,0.106243982911110,-0.034292418509722,0.138001814484596,0.004293065052480,0.013120386749506,-0.128268748521805,0.037378296256065,-0.037028923630714,-0.149689003825188,-0.033950462937355,-0.157607808709145,-0.126465305685997));
res += mul(Get(s0,0,0), float4x4(-0.056339360773563,0.102747566998005,0.139417186379433,-0.103323146700859,0.056679107248783,0.084811761975288,0.041970755904913,-0.003958343993872,0.107830658555031,-0.151069328188896,0.001850814907812,-0.118704974651337,-0.032437901943922,-0.061920743435621,-0.057139322161674,-0.081570267677307));
res += mul(Get(s0,0,dy), float4x4(-0.001243241364136,-0.166412904858589,-0.160947039723396,0.074017658829689,0.029265472665429,0.179242804646492,0.106822535395622,-0.068569228053093,0.002477929927409,0.161381751298904,0.197343215346336,-0.233057335019112,0.030116600915790,-0.043453920632601,-0.057163778692484,0.011920480057597));
res += mul(Get(s0,dx,-dy), float4x4(0.057630985975266,0.201227352023125,0.004539611749351,-0.009869406931102,0.315763145685196,-0.020804941654205,0.044305574148893,0.054085355252028,-0.073133468627930,-0.109315045177937,-0.019410731270909,0.148810893297195,-0.230621740221977,-0.059927407652140,-0.269390553236008,-0.033960338681936));
res += mul(Get(s0,dx,0), float4x4(-0.020330773666501,0.288104116916656,0.134312018752098,-0.202190652489662,0.031397175043821,0.011675450019538,-0.066571593284607,0.031590543687344,-0.177682682871819,-0.079855516552925,0.095380134880543,0.076431848108768,-0.069908790290356,-0.084679529070854,-0.243867158889771,-0.128542765974998));
res += mul(Get(s0,dx,dy), float4x4(0.035021055489779,0.120796285569668,0.004489515442401,0.044107571244240,-0.094475127756596,-0.000702752731740,0.136764496564865,-0.067565090954304,-0.204684138298035,-0.056201368570328,-0.120975017547607,-0.110456682741642,0.070468142628670,0.018946927040815,-0.042410518974066,0.044302504509687));
res += mul(Get(s1,-dx,-dy), float4x4(-0.120819129049778,0.084610328078270,0.007876115851104,-0.016824793070555,0.178366571664810,-0.073739923536777,-0.164013728499413,-0.014912886545062,-0.036233294755220,-0.063127905130386,0.379149049520493,0.025322191417217,-0.033378906548023,-0.127168610692024,0.240591973066330,0.182697623968124));
res += mul(Get(s1,-dx,0), float4x4(-0.085195265710354,-0.034607768058777,0.044919982552528,0.097028031945229,-0.070303656160831,-0.075227379798889,-0.071804523468018,-0.130134612321854,0.222943872213364,-0.088383622467518,0.018979892134666,-0.169047206640244,0.079137004911900,0.082197323441505,0.281336575746536,-0.164390712976456));
res += mul(Get(s1,-dx,dy), float4x4(-0.000587763963267,0.226185515522957,-0.006958935409784,0.087552286684513,-0.193352416157722,-0.039018981158733,-0.047752697020769,-0.138534411787987,-0.052718020975590,0.048204474151134,-0.084453582763672,0.019570171833038,-0.041183128952980,-0.028961628675461,-0.091162875294685,0.093866646289825));
res += mul(Get(s1,0,-dy), float4x4(-0.050700709223747,-0.011122262105346,0.023560298606753,-0.013568951748312,0.042457114905119,-0.060150176286697,0.032811511307955,0.039238505065441,-0.061460934579372,-0.124940343201160,0.044258344918489,0.088951759040356,-0.201678410172462,-0.027130186557770,-0.051682036370039,0.163584128022194));
res += mul(Get(s1,0,0), float4x4(0.072795435786247,0.017071660608053,-0.160125747323036,0.089381590485573,-0.068751856684685,0.046003282070160,0.065061509609222,0.202791839838028,0.282696902751923,-0.115618951618671,-0.182160422205925,-0.168755874037743,0.158570677042007,0.048447176814079,-0.086852453649044,-0.087258398532867));
res += mul(Get(s1,0,dy), float4x4(0.074375696480274,0.224655151367188,0.032455865293741,0.090181380510330,-0.114182248711586,0.016244838014245,0.100684754550457,-0.015784386545420,0.083986841142178,-0.041085306555033,-0.137792140245438,-0.008977889083326,-0.003209404414520,0.098504066467285,0.033560641109943,-0.002453150693327));
res += mul(Get(s1,dx,-dy), float4x4(-0.127741962671280,0.001297756098211,-0.123285777866840,-0.111181236803532,-0.137538328766823,-0.104997850954533,0.114799089729786,-0.073422178626060,0.021777153015137,-0.100912623107433,-0.090908236801624,0.053490716964006,-0.164069101214409,0.029317371547222,-0.095700658857822,0.009842627681792));
res += mul(Get(s1,dx,0), float4x4(-0.028858905658126,0.114675998687744,-0.136910647153854,0.052417881786823,-0.143152579665184,0.084258288145065,0.064047694206238,-0.140252858400345,-0.029286090284586,-0.071845531463623,-0.037932202219963,-0.005852717440575,-0.026826908811927,-0.005029774736613,-0.096113085746765,0.008915506303310));
res += mul(Get(s1,dx,dy), float4x4(-0.060275092720985,-0.052188407629728,0.218058109283447,0.105934873223305,-0.147089421749115,-0.136374205350876,0.060896623879671,-0.108691677451134,-0.111985929310322,-0.034958682954311,-0.166791617870331,0.162514790892601,-0.078303307294846,0.093855507671833,0.169995367527008,-0.126176312565804));
res += mul(Get(s2,-dx,-dy), float4x4(0.042240571230650,0.017553461715579,-0.119300663471222,-0.234787344932556,-0.007687274832278,0.020301140844822,-0.166442975401878,0.041160926222801,0.097027599811554,-0.111751988530159,0.088952958583832,0.088113635778427,0.136580273509026,0.004420773126185,0.153749585151672,-0.039296034723520));
res += mul(Get(s2,-dx,0), float4x4(0.084628120064735,0.077520176768303,-0.174460008740425,-0.185324579477310,-0.021641625091434,-0.042336009442806,-0.182755500078201,-0.105940498411655,0.008485589176416,0.199635684490204,0.079271778464317,0.211452022194862,-0.027701837942004,-0.055031564086676,0.130263566970825,0.030819039791822));
res += mul(Get(s2,-dx,dy), float4x4(-0.060106378048658,0.022622097283602,-0.011827826499939,0.229250967502594,-0.079750761389732,0.105443187057972,0.210385039448738,-0.010154076851904,0.058008551597595,0.021804401651025,0.071356028318405,0.283137440681458,-0.013219691812992,-0.089692316949368,0.029073018580675,-0.099546961486340));
res += mul(Get(s2,0,-dy), float4x4(-0.049026265740395,0.002569249598309,-0.056692022830248,-0.221084535121918,0.061384141445160,-0.117933221161366,-0.088071547448635,-0.230497568845749,0.304619669914246,-0.049486033618450,0.028616212308407,-0.046486757695675,0.481513053178787,-0.067819558084011,-0.026093058288097,0.012227079831064));
res += mul(Get(s2,0,0), float4x4(-0.072409451007843,-0.103477627038956,-0.019565511494875,-0.053037624806166,-0.099297322332859,-0.105530269443989,-0.048312384635210,-0.006307705305517,0.022638505324721,0.056508548557758,0.045985732227564,-0.024936484172940,0.076203145086765,-0.098684385418892,-0.059476383030415,-0.031242625787854));
res += mul(Get(s2,0,dy), float4x4(-0.088079519569874,0.078323714435101,0.084807209670544,0.427306741476059,0.138817816972733,-0.038007780909538,-0.079993247985840,0.050076127052307,-0.066749490797520,0.054429493844509,-0.111203201115131,0.134008601307869,-0.131834894418716,-0.007322628982365,-0.064347557723522,-0.094860509037971));
res += mul(Get(s2,dx,-dy), float4x4(-0.150035932660103,-0.023703742772341,0.185597375035286,-0.297101318836212,-0.099150784313679,0.037409309297800,-0.107771970331669,-0.238956525921822,-0.044579029083252,-0.020577400922775,0.068519689142704,0.127129793167114,-0.029219591990113,-0.090908832848072,0.070734187960625,0.256452232599258));
res += mul(Get(s2,dx,0), float4x4(-0.342453151941299,-0.026921108365059,0.074850015342236,-0.325869143009186,-0.205875679850578,0.330152511596680,0.047711569815874,-0.141411155462265,-0.031175736337900,0.005544504150748,0.093130894005299,0.009508962742984,-0.003315947949886,-0.094523310661316,0.025879900902510,0.181852847337723));
res += mul(Get(s2,dx,dy), float4x4(-0.299541682004929,0.296855062246323,0.160126000642776,-0.015442459844053,-0.081688478589058,0.022232657298446,-0.014108252711594,0.001315099769272,-0.047754265367985,0.232990697026253,-0.004808626603335,-0.006000344175845,0.011072535999119,0.037326902151108,0.108970306813717,-0.092108152806759));
res += mul(Get(s3,-dx,-dy), float4x4(-0.018106022849679,-0.059742853045464,-0.130040839314461,-0.126439571380615,0.099714159965515,0.087407350540161,-0.170491099357605,0.028706464916468,0.290331453084946,-0.190083518624306,0.031873889267445,0.010898847132921,-0.098686806857586,0.024153789505363,0.107982203364372,0.228413537144661));
res += mul(Get(s3,-dx,0), float4x4(0.226570636034012,-0.000297612074064,-0.014633585698903,-0.040092341601849,-0.051225226372480,-0.056640781462193,-0.409513294696808,-0.171981781721115,0.186313539743423,-0.123389825224876,-0.260771423578262,-0.025665765628219,-0.020510273054242,0.043984774500132,0.173092350363731,-0.133002951741219));
res += mul(Get(s3,-dx,dy), float4x4(-0.095581479370594,-0.002975976793095,-0.042363151907921,0.053562112152576,-0.004905777517706,0.002714271890000,-0.067782104015350,-0.215523421764374,0.255085498094559,0.027154957875609,-0.205886006355286,-0.027875054627657,-0.084396339952946,-0.002491460414603,-0.083195455372334,0.119860380887985));
res += mul(Get(s3,0,-dy), float4x4(-0.085239030420780,-0.050870168954134,-0.120367020368576,0.116657920181751,0.172227576375008,0.025809055194259,-0.005396586842835,0.231487452983856,0.412608593702316,-0.094333969056606,0.039856560528278,-0.105974897742271,-0.142633676528931,-0.041406121104956,0.046160135418177,0.034051980823278));
res += mul(Get(s3,0,0), float4x4(-0.090188443660736,-0.027473883703351,0.002159347059205,0.145123302936554,0.027212468907237,-0.135701969265938,-0.116564579308033,-0.059735592454672,-0.032886832952499,-0.104370467364788,-0.047388955950737,-0.234926581382751,-0.130190312862396,-0.006273075938225,-0.042868066579103,0.039970278739929));
res += mul(Get(s3,0,dy), float4x4(-0.080520160496235,-0.010738972574472,0.060732509940863,0.214720770716667,0.074702501296997,-0.098075784742832,-0.028103733435273,-0.124227404594421,0.188915669918060,-0.041168443858624,0.047354333102703,-0.038972664624453,0.064490258693695,-0.130020052194595,-0.156756058335304,0.039045404642820));
res += mul(Get(s3,dx,-dy), float4x4(-0.036288108676672,0.178490012884140,-0.149251431226730,0.263375848531723,-0.059091642498970,0.228349700570107,-0.105281457304955,0.053106110543013,0.019070262089372,-0.017246188595891,0.017031384631991,0.171585232019424,0.000669946661219,-0.083088912069798,-0.183399856090546,-0.113548405468464));
res += mul(Get(s3,dx,0), float4x4(-0.165310993790627,-0.049295928329229,0.073931187391281,-0.104152351617813,-0.151706978678703,0.155173659324646,-0.011606844142079,0.233165368437767,0.033918309956789,-0.210703238844872,-0.040513414889574,-0.036870528012514,-0.035097159445286,0.046178445219994,-0.113033927977085,0.075618259608746));
res += mul(Get(s3,dx,dy), float4x4(-0.053240746259689,-0.033322818577290,0.167164206504822,0.175135180354118,-0.340529024600983,0.185575678944588,0.057745426893234,-0.015357186086476,0.099584996700287,-0.180520430207253,-0.077153377234936,0.130922004580498,-0.007484205998480,-0.040571611374617,-0.113963872194290,0.356435686349869));
return max(float4(0,0,0,0), res);
}
