sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.197706684470177,-0.111021526157856,0.133277401328087,-0.009410541504622,0.063537627458572,-0.064001865684986,0.179764032363892,-0.140976130962372,-0.047181297093630,0.089778706431389,-0.010561694391072,0.077960662543774,0.056952081620693,-0.138432368636131,-0.052772141993046,-0.067044101655483));
res += mul(Get(s0,-dx,0), float4x4(0.039894837886095,0.025034455582500,-0.082980878651142,-0.067264504730701,0.155438542366028,0.041369002312422,-0.082812562584877,0.054052200168371,-0.139785230159760,-0.019564663991332,-0.019503151997924,0.106662340462208,0.001176826190203,0.120313145220280,0.081521593034267,0.076060548424721));
res += mul(Get(s0,-dx,dy), float4x4(-0.047028206288815,-0.112280257046223,-0.047260433435440,-0.086864374577999,0.078848212957382,0.023284414783120,0.033761855214834,-0.258073538541794,0.139825761318207,0.059067308902740,-0.089481681585312,-0.069967389106750,0.140202611684799,-0.118126660585403,-0.113692484796047,0.038903858512640));
res += mul(Get(s0,0,-dy), float4x4(-0.039425205439329,0.074663363397121,-0.069529443979263,-0.015646560117602,-0.026434088125825,0.228033885359764,0.087387368083000,0.047491349279881,-0.026349486783147,-0.032735493034124,-0.029783016070724,-0.034041725099087,-0.136664599180222,-0.192683115601540,-0.096572555601597,-0.069962099194527));
res += mul(Get(s0,0,0), float4x4(0.191420331597328,0.112901553511620,0.121271453797817,0.151477903127670,0.234386384487152,-0.100255236029625,-0.124321788549423,0.151366621255875,-0.027674468234181,0.060646113008261,0.119893342256546,-0.047968670725822,0.260783612728119,-0.091191843152046,0.017120037227869,0.097340017557144));
res += mul(Get(s0,0,dy), float4x4(0.149122610688210,-0.105819396674633,0.254648506641388,-0.172437503933907,-0.124779842793941,-0.113855153322220,-0.019385283812881,0.197429344058037,-0.078878223896027,0.127126395702362,0.030896287411451,0.120155826210976,-0.147546410560608,0.082222662866116,0.074409954249859,0.021734243258834));
res += mul(Get(s0,dx,-dy), float4x4(0.114324346184731,-0.071613624691963,0.116553358733654,0.118218876421452,-0.024492286145687,-0.095873720943928,0.033253829926252,0.077634073793888,0.072052024304867,-0.089095897972584,0.048394858837128,0.026715887710452,-0.105497747659683,0.086988218128681,0.034843347966671,0.036955442279577));
res += mul(Get(s0,dx,0), float4x4(-0.079285413026810,0.082265257835388,0.016332512721419,-0.068145141005516,0.070061258971691,0.208059191703796,-0.007777820806950,0.096888005733490,0.013171992264688,0.042216751724482,0.005122466944158,-0.016259167343378,-0.096681416034698,-0.097875371575356,0.059143871068954,-0.190720871090889));
res += mul(Get(s0,dx,dy), float4x4(-0.064979381859303,-0.190301895141602,-0.115788489580154,0.131914690136909,-0.054170109331608,-0.002243615221232,0.003792178817093,0.017805540934205,-0.002507930621505,-0.196463078260422,-0.093946106731892,-0.014257061295211,0.239474087953568,-0.150154054164886,-0.018136758357286,-0.021006925031543));
res += mul(Get(s1,-dx,-dy), float4x4(0.065701074898243,-0.065652124583721,0.175192087888718,-0.026680354028940,-0.014793170616031,-0.104430913925171,0.140484794974327,-0.057106852531433,0.114296384155750,0.010216525755823,-0.156986117362976,-0.021890919655561,0.069364912807941,-0.116681247949600,0.072985574603081,-0.121229387819767));
res += mul(Get(s1,-dx,0), float4x4(0.092075705528259,-0.062518157064915,0.009877745062113,-0.108682714402676,-0.039605099707842,-0.200758740305901,-0.007263473700732,0.005563517101109,-0.089364267885685,-0.111853361129761,0.024746071547270,0.168811902403831,-0.011121496558189,-0.171614915132523,-0.037920165807009,-0.046570185571909));
res += mul(Get(s1,-dx,dy), float4x4(0.001866802573204,0.001515523646958,-0.021514251828194,-0.048395108431578,-0.183807879686356,-0.000577787577640,0.049095015972853,-0.002795353764668,-0.208585828542709,-0.183548197150230,-0.002944818232208,-0.027428276836872,0.036411024630070,0.021159019321203,0.078533545136452,-0.116328991949558));
res += mul(Get(s1,0,-dy), float4x4(-0.005624256562442,-0.008784858509898,0.216818615794182,-0.116473093628883,0.031400140374899,0.146839782595634,0.081050582230091,0.137525066733360,0.045257996767759,0.062087468802929,-0.065744116902351,-0.058311197906733,-0.158542290329933,-0.005044913850725,0.089684687554836,-0.083110094070435));
res += mul(Get(s1,0,0), float4x4(-0.005871715489775,-0.148406043648720,0.088891729712486,0.082591868937016,0.001922599622048,-0.021866967901587,-0.161950185894966,0.023631686344743,0.270481824874878,0.126367986202240,0.097512811422348,-0.065782077610493,-0.029255205765367,0.152918606996536,-0.010635077022016,0.010413629002869));
res += mul(Get(s1,0,dy), float4x4(0.161847323179245,-0.022760611027479,-0.200254470109940,-0.064834520220757,0.049444224685431,0.063329860568047,0.076430805027485,-0.015103243291378,0.127586945891380,0.215090394020081,0.077310293912888,0.081438690423965,-0.142452254891396,-0.071576505899429,0.084425166249275,0.115865886211395));
res += mul(Get(s1,dx,-dy), float4x4(-0.007191945798695,-0.092047825455666,0.051510222256184,0.083241075277328,0.060942512005568,0.109039902687073,-0.027716754004359,-0.008760828524828,-0.046021170914173,0.090052545070648,0.133059203624725,-0.065531849861145,-0.009767531417310,-0.048645779490471,-0.021324630826712,-0.072462148964405));
res += mul(Get(s1,dx,0), float4x4(-0.065164744853973,0.112327978014946,0.027440646663308,0.004626594018191,0.031220592558384,-0.148462712764740,0.051754921674728,-0.102294959127903,0.140167430043221,0.128814965486526,-0.138004034757614,-0.103125736117363,0.009936415590346,-0.007959800772369,-0.128844469785690,-0.036679405719042));
res += mul(Get(s1,dx,dy), float4x4(-0.219583228230476,0.252967715263367,0.020802360028028,0.124623700976372,-0.035051193088293,0.138527110219002,0.054183728992939,0.041041582822800,0.096679851412773,-0.113277554512024,-0.156873404979706,0.202229246497154,0.057168263942003,0.056519821286201,0.067322053015232,-0.073201902210712));
res += mul(Get(s2,-dx,-dy), float4x4(0.033390969038010,0.179026797413826,0.191990897059441,-0.059519480913877,0.108065411448479,0.131595268845558,-0.069025292992592,0.121493488550186,-0.116434752941132,0.155406191945076,-0.145174428820610,-0.032348409295082,-0.104975581169128,0.061692044138908,-0.050518695265055,0.041306328028440));
res += mul(Get(s2,-dx,0), float4x4(0.116700299084187,-0.004267747979611,0.057569611817598,-0.049295380711555,-0.228049352765083,-0.135133028030396,0.016263045370579,0.068811051547527,0.010843076743186,-0.028009731322527,0.013604233972728,0.043868735432625,-0.075290486216545,0.046226400882006,0.052725490182638,0.065167352557182));
res += mul(Get(s2,-dx,dy), float4x4(0.086672976613045,0.090712867677212,0.008554874919355,0.084604389965534,0.138084664940834,-0.050110820680857,-0.017759623005986,0.102790921926498,-0.119580216705799,0.028248997405171,-0.178141117095947,0.068158283829689,-0.064904928207397,0.198605597019196,0.103535301983356,0.162892296910286));
res += mul(Get(s2,0,-dy), float4x4(0.157817721366882,-0.012186356820166,-0.004291023593396,0.050747990608215,-0.074802502989769,-0.231100544333458,0.022110117599368,0.154988154768944,-0.051888249814510,0.069856472313404,-0.039391107857227,-0.029347382485867,0.054213862866163,-0.015385972335935,-0.058548506349325,0.030696386471391));
res += mul(Get(s2,0,0), float4x4(0.116602048277855,-0.046003136783838,-0.008742879144847,-0.010186068713665,-0.072736270725727,-0.009024554863572,0.134755715727806,-0.115311242640018,-0.168229192495346,0.051475010812283,0.155908927321434,0.024621507152915,0.136776089668274,-0.010121379047632,-0.081944927573204,-0.151086881756783));
res += mul(Get(s2,0,dy), float4x4(-0.020799361169338,0.063599556684494,0.168455883860588,-0.150891140103340,0.064569711685181,-0.002565921284258,-0.068007484078407,-0.275668263435364,-0.223224878311157,-0.028288008645177,-0.099598057568073,-0.136655956506729,0.092876300215721,-0.098867341876030,0.111331909894943,-0.069366864860058));
res += mul(Get(s2,dx,-dy), float4x4(-0.046243205666542,-0.090766452252865,-0.136563897132874,0.059816442430019,0.191281720995903,0.051483925431967,-0.104766227304935,-0.056607156991959,-0.048270378261805,0.037875071167946,0.224514454603195,0.071295492351055,0.143684148788452,-0.133760824799538,-0.077109202742577,0.107895508408546));
res += mul(Get(s2,dx,0), float4x4(0.153956696391106,-0.126573532819748,-0.137132197618484,0.109566390514374,-0.163921013474464,0.254185885190964,-0.126486718654633,-0.141671448945999,0.081714525818825,0.105353347957134,0.129179358482361,0.074681945145130,-0.137735471129417,-0.006071476731449,-0.060326851904392,0.051105070859194));
res += mul(Get(s2,dx,dy), float4x4(0.194852977991104,0.034783501178026,-0.011083102785051,-0.108793988823891,0.096713326871395,0.180061295628548,0.062298242002726,0.063286602497101,-0.115315780043602,-0.026928992941976,-0.086294747889042,0.043560560792685,0.101803705096245,-0.081747114658356,-0.138725325465202,0.163274973630905));
res += mul(Get(s3,-dx,-dy), float4x4(0.167797356843948,0.022216003388166,0.016757229343057,-0.037248771637678,0.099586166441441,0.036869931966066,-0.234946727752686,0.175007179379463,0.167246848344803,-0.028199849650264,-0.247275084257126,0.078411482274532,-0.002290510572493,-0.313220292329788,0.150312036275864,-0.031743597239256));
res += mul(Get(s3,-dx,0), float4x4(-0.006889703217894,0.185100167989731,-0.106699869036674,0.033339899033308,-0.024266673251987,-0.050596367567778,-0.094552896916866,0.182095289230347,0.116384826600552,-0.132774904370308,-0.118664681911469,-0.163263753056526,-0.179510980844498,0.043185800313950,-0.001145940041170,-0.002819301560521));
res += mul(Get(s3,-dx,dy), float4x4(-0.050058238208294,-0.155452042818069,-0.206022411584854,0.026128375902772,-0.179501786828041,-0.058969136327505,-0.123953528702259,-0.056185614317656,-0.267701178789139,-0.036036338657141,0.275524318218231,0.128164812922478,0.140258520841599,0.096687592566013,0.069477133452892,-0.000178639631486));
res += mul(Get(s3,0,-dy), float4x4(-0.012996908277273,-0.085134230554104,-0.035717535763979,0.073298253118992,0.027049478143454,-0.186182573437691,-0.024495864287019,-0.137901544570923,0.385193198919296,0.166058868169785,0.022540647536516,-0.126459047198296,0.022302325814962,-0.131805777549744,-0.185302972793579,0.080511994659901));
res += mul(Get(s3,0,0), float4x4(0.022068666294217,-0.222715750336647,0.162000551819801,-0.014814344234765,-0.046296730637550,0.017521230503917,0.126135617494583,-0.115028306841850,0.156695082783699,-0.002897280035540,0.216420963406563,0.069840781390667,-0.035035137087107,-0.176846191287041,0.038148701190948,0.179209694266319));
res += mul(Get(s3,0,dy), float4x4(0.035562057048082,-0.081442520022392,-0.078896380960941,0.018797717988491,0.035969074815512,0.045601885765791,-0.044969029724598,0.062552236020565,-0.072663359344006,-0.084284558892250,0.052616842091084,0.075690314173698,-0.103317968547344,0.315148442983627,0.112894460558891,0.063999995589256));
res += mul(Get(s3,dx,-dy), float4x4(0.238537088036537,-0.098579928278923,-0.017410939559340,-0.086836099624634,0.004346735309809,0.034760087728500,-0.016889486461878,-0.044969648122787,0.022793337702751,-0.140782162547112,0.121931895613670,0.036779530346394,0.126920506358147,-0.042472805827856,-0.077207580208778,-0.218277245759964));
res += mul(Get(s3,dx,0), float4x4(0.043705206364393,-0.037068489938974,0.106450557708740,0.136892780661583,-0.120232969522476,0.045345406979322,0.081835269927979,0.071227021515369,-0.085642270743847,0.210535973310471,-0.023053301498294,0.290702641010284,-0.037652496248484,-0.026054507121444,0.063560195267200,0.072957970201969));
res += mul(Get(s3,dx,dy), float4x4(0.054736852645874,0.021370975300670,0.182727470993996,-0.030093474313617,0.019613523036242,-0.048359211534262,0.009767306037247,-0.057747174054384,-0.106075145304203,0.191941529512405,-0.193796411156654,-0.061926987022161,0.005501626525074,-0.064451187849045,0.079739101231098,-0.209616333246231));
return max(float4(0,0,0,0), res);
}
