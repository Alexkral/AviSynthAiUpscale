sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.009701435454190,-0.041338294744492,-0.093536674976349,0.182877883315086,-0.034236833453178,0.037712290883064,-0.026368424296379,-0.128363430500031,-0.210266530513763,-0.125564306974411,0.032020565122366,-0.089649878442287,0.012406780384481,0.022921845316887,-0.163167878985405,0.024913979694247));
res += mul(Get(s0,-dx,0), float4x4(-0.048788018524647,0.022044466808438,-0.059019926935434,0.013629850931466,0.000891592702828,0.175198182463646,-0.063578173518181,0.017358355224133,0.048995036631823,-0.105810791254044,0.100593909621239,-0.026818171143532,-0.113983251154423,-0.029389662668109,0.147392287850380,-0.072449319064617));
res += mul(Get(s0,-dx,dy), float4x4(-0.296780288219452,-0.060760013759136,0.007744403555989,-0.152427971363068,0.042494844645262,0.033600173890591,0.281440109014511,-0.082777552306652,0.223643302917480,-0.031480927020311,-0.135764151811600,-0.093370296061039,-0.042305372655392,0.011639191769063,-0.061142127960920,-0.000901340215933));
res += mul(Get(s0,0,-dy), float4x4(-0.062661953270435,-0.119016163051128,-0.132097125053406,0.031766988337040,0.063143782317638,-0.076120488345623,-0.154555097222328,0.077963009476662,-0.074935771524906,-0.027834469452500,0.112518787384033,-0.004026177339256,-0.034389078617096,-0.169334709644318,-0.083627790212631,-0.047189235687256));
res += mul(Get(s0,0,0), float4x4(-0.076814241707325,-0.056757323443890,0.139732122421265,-0.059109617024660,-0.001400345703587,0.070042811334133,-0.077505260705948,0.001055342960171,0.171971261501312,0.096303150057793,0.042095880955458,0.053369905799627,-0.086712673306465,-0.152222067117691,0.043280560523272,0.030295271426439));
res += mul(Get(s0,0,dy), float4x4(-0.046579740941525,-0.041311468929052,0.030122363939881,-0.013449425809085,-0.048146467655897,-0.011921515688300,0.298853874206543,-0.059549123048782,0.069885909557343,0.143905818462372,-0.213003858923912,-0.079891338944435,-0.049669906497002,0.150341868400574,0.073426812887192,-0.175345242023468));
res += mul(Get(s0,dx,-dy), float4x4(-0.096055775880814,0.138845339417458,-0.066104732453823,-0.045293867588043,0.053179640322924,0.078232981264591,-0.047309033572674,0.079418294131756,0.086234807968140,-0.042196173220873,0.112224087119102,-0.170170783996582,-0.105822600424290,0.039470430463552,-0.175959572196007,0.090463533997536));
res += mul(Get(s0,dx,0), float4x4(-0.054676827043295,-0.107536815106869,0.134137064218521,0.030203560367227,0.207558915019035,0.010925519280136,0.227761402726173,-0.007107730023563,0.201946079730988,0.074476212263107,0.031664147973061,-0.285966038703918,-0.188262611627579,-0.010457142256200,0.001162422820926,-0.068802833557129));
res += mul(Get(s0,dx,dy), float4x4(0.081352360546589,0.124857783317566,0.232414245605469,-0.011206023395061,-0.090481340885162,-0.008087384514511,-0.043333053588867,-0.173843964934349,0.104694761335850,0.054746113717556,0.066720016300678,-0.231089144945145,-0.025103492662311,0.074412815272808,0.232274696230888,-0.095062494277954));
res += mul(Get(s1,-dx,-dy), float4x4(0.028251266106963,-0.186695769429207,0.003697601379827,0.081607088446617,0.145608648657799,0.194050654768944,0.327766090631485,-0.099589481949806,0.032130230218172,0.065844230353832,0.032628986984491,-0.030849438160658,0.073976546525955,-0.092134088277817,0.194272503256798,0.024778636172414));
res += mul(Get(s1,-dx,0), float4x4(-0.254587709903717,-0.064995743334293,0.205564185976982,0.158140107989311,0.167687475681305,0.079914323985577,0.141442403197289,0.054564356803894,0.031579934060574,-0.021873762831092,-0.009000557474792,0.018086325377226,-0.099912054836750,-0.059741009026766,0.002842158079147,0.323813736438751));
res += mul(Get(s1,-dx,dy), float4x4(0.054559621959925,0.034632779657841,0.155021935701370,-0.013925175182521,0.074303649365902,0.132734581828117,-0.067119136452675,0.061930648982525,-0.058185782283545,-0.201274424791336,-0.074301175773144,0.028501966968179,0.051455061882734,0.104239903390408,-0.181718662381172,0.229219183325768));
res += mul(Get(s1,0,-dy), float4x4(0.039871569722891,-0.098681613802910,0.196504965424538,-0.037920441478491,0.006699132733047,-0.163008630275726,0.153824970126152,0.174672856926918,0.158272266387939,0.005697217304260,0.079922139644623,0.006811197847128,-0.068642191588879,-0.122656024992466,0.055349495261908,0.012188552878797));
res += mul(Get(s1,0,0), float4x4(0.084683068096638,0.031634435057640,-0.091588765382767,-0.103898942470551,-0.216903045773506,-0.036913033574820,0.141372457146645,-0.083865225315094,-0.059769727289677,-0.127046123147011,0.258078455924988,0.254369974136353,-0.034593574702740,0.070443041622639,0.075808629393578,-0.216845855116844));
res += mul(Get(s1,0,dy), float4x4(-0.206072971224785,0.086630098521709,-0.029970804229379,-0.084805905818939,-0.262476384639740,-0.180246934294701,0.089907750487328,0.085162244737148,0.125575438141823,-0.156765446066856,-0.101975716650486,-0.041406080126762,-0.009218940511346,0.168625310063362,0.080742903053761,0.092161498963833));
res += mul(Get(s1,dx,-dy), float4x4(-0.133306160569191,-0.060077838599682,-0.048968125134706,0.064705505967140,0.037712279707193,-0.032208699733019,0.031693868339062,0.005874390248209,-0.011643772944808,-0.007690537255257,-0.113029442727566,0.194944769144058,0.129432827234268,0.010468135587871,0.136204853653908,-0.014418492093682));
res += mul(Get(s1,dx,0), float4x4(-0.121063247323036,-0.103009760379791,0.044142361730337,-0.087230972945690,-0.017921121791005,0.144072845578194,-0.017287999391556,-0.103163629770279,0.025066360831261,-0.196511656045914,0.153469026088715,0.043868258595467,0.207973673939705,0.056088656187057,-0.155676528811455,0.014443090185523));
res += mul(Get(s1,dx,dy), float4x4(-0.034646224230528,-0.025989208370447,-0.021755930036306,-0.047220099717379,0.126295551657677,0.016905674710870,0.031265296041965,0.122971288859844,0.122377268970013,-0.053445693105459,0.202805265784264,-0.076920211315155,0.079266950488091,0.012183844111860,0.046783272176981,0.036891244351864));
res += mul(Get(s2,-dx,-dy), float4x4(-0.033836327493191,0.111413255333900,0.176845952868462,0.045636996626854,0.040394905954599,0.214009195566177,-0.006037383340299,0.275378733873367,-0.040152788162231,0.125939995050430,0.067602917551994,0.086869694292545,0.084552824497223,0.051699865609407,-0.095003873109818,0.137981995940208));
res += mul(Get(s2,-dx,0), float4x4(-0.084695883095264,0.039905477315187,0.049815084785223,-0.020835772156715,0.135909780859947,0.010444094426930,-0.302664548158646,-0.049289643764496,-0.080894812941551,0.116988576948643,0.211089760065079,-0.005268685054034,0.053286347538233,-0.107165917754173,-0.129391208291054,-0.246448606252670));
res += mul(Get(s2,-dx,dy), float4x4(0.105583965778351,0.160607993602753,-0.055097486823797,0.019902361556888,0.101289160549641,0.089670561254025,0.189022883772850,-0.073233217000961,0.184024095535278,-0.143419176340103,0.194175705313683,0.034112893044949,0.037323366850615,0.069961033761501,-0.109020039439201,-0.032621946185827));
res += mul(Get(s2,0,-dy), float4x4(-0.009741083718836,-0.000901559949853,-0.090981401503086,0.213790714740753,-0.038375921547413,-0.163355574011803,-0.116274416446686,0.120815694332123,0.060800846666098,0.055634755641222,-0.040089599788189,-0.045925810933113,0.082184515893459,-0.101131618022919,-0.151592895388603,0.010661370120943));
res += mul(Get(s2,0,0), float4x4(-0.046134833246469,0.042144030332565,0.271275371313095,0.015029223635793,0.015619987621903,-0.172897398471832,-0.024446729570627,-0.023223347961903,0.103463843464851,0.236930757761002,0.135784789919853,0.039935722947121,0.058630570769310,0.112439587712288,0.034590888768435,-0.084910951554775));
res += mul(Get(s2,0,dy), float4x4(-0.085925459861755,0.221596941351891,0.001853243913502,-0.072371974587440,-0.048141874372959,-0.160095825791359,-0.034164253622293,0.000483525916934,0.012714949436486,-0.108930021524429,0.129132196307182,-0.027853311970830,0.092250540852547,-0.200889512896538,0.062609992921352,-0.189649283885956));
res += mul(Get(s2,dx,-dy), float4x4(0.021712273359299,0.069269992411137,-0.017073849216104,0.162871986627579,-0.050997931510210,-0.112110100686550,-0.110224708914757,-0.023248055949807,-0.108748912811279,0.004012812394649,-0.059728365391493,0.172784641385078,0.045800931751728,0.118594244122505,0.035735297948122,0.083372130990028));
res += mul(Get(s2,dx,0), float4x4(-0.039994534105062,-0.047826685011387,-0.061707913875580,-0.095639511942863,-0.122554488480091,-0.315446376800537,0.014994805678725,0.165118649601936,-0.017581513151526,0.114983901381493,0.080351263284683,-0.288523972034454,-0.105848670005798,0.038314551115036,0.125175461173058,0.021689269691706));
res += mul(Get(s2,dx,dy), float4x4(0.229875564575195,-0.121459260582924,-0.137594282627106,-0.070447213947773,-0.009307293221354,-0.021842429414392,-0.154518768191338,0.035813119262457,0.069161809980869,-0.092898234724998,-0.006057442165911,-0.146669104695320,0.107805222272873,-0.184242680668831,-0.122792072594166,-0.009625428356230));
res += mul(Get(s3,-dx,-dy), float4x4(0.139104068279266,-0.062191840261221,0.078482665121555,0.040656436234713,-0.034387085586786,-0.162563696503639,0.000738203583751,-0.069009169936180,0.068956643342972,-0.003390868194401,0.035236455500126,-0.106706134974957,0.051997724920511,0.084248237311840,-0.153457924723625,0.132465183734894));
res += mul(Get(s3,-dx,0), float4x4(0.128502413630486,-0.120686918497086,0.010210735723376,0.060375336557627,-0.148807033896446,-0.051671776920557,-0.183100894093513,0.035602785646915,-0.131004348397255,0.268032044172287,-0.181648060679436,-0.090892516076565,0.181435525417328,-0.097120344638824,0.083541654050350,-0.002825807081535));
res += mul(Get(s3,-dx,dy), float4x4(-0.059033460915089,-0.042134836316109,-0.257135361433029,-0.117152012884617,0.092629566788673,0.032968915998936,0.019288675859571,-0.005138867534697,-0.102692231535912,0.027283754199743,-0.034204579889774,0.103378571569920,-0.038626998662949,-0.112895280122757,0.218346387147903,0.053110715001822));
res += mul(Get(s3,0,-dy), float4x4(-0.023404411971569,-0.039732225239277,0.074795365333557,-0.135840028524399,-0.111142292618752,-0.027010127902031,-0.026839708909392,0.009596051648259,-0.016631154343486,-0.024307103827596,-0.030706483870745,0.146172195672989,0.079122491180897,0.136023059487343,-0.070460289716721,-0.078723981976509));
res += mul(Get(s3,0,0), float4x4(0.046858198940754,0.095294304192066,-0.079447045922279,0.077477112412453,0.136378958821297,-0.126661896705627,-0.053490679711103,-0.118715472519398,0.005060212220997,0.132642731070518,0.157865673303604,-0.057772789150476,0.028283357620239,0.014101702719927,-0.091033034026623,-0.171276092529297));
res += mul(Get(s3,0,dy), float4x4(-0.183831959962845,-0.000515545019880,-0.212799802422523,0.038576021790504,0.132513985037804,0.050087109208107,0.081811547279358,0.168104156851768,-0.199800014495850,-0.017556745558977,-0.126842081546783,-0.108647331595421,-0.108069986104965,-0.265746086835861,0.096761539578438,-0.007969686761498));
res += mul(Get(s3,dx,-dy), float4x4(-0.063402362167835,-0.036991406232119,-0.094028107821941,-0.005666213575751,0.005326269194484,0.036712374538183,-0.201136231422424,-0.146881908178329,-0.042740676552057,0.153184726834297,-0.152834191918373,-0.142519369721413,0.106657192111015,0.039950221776962,-0.042482946068048,0.130364373326302));
res += mul(Get(s3,dx,0), float4x4(0.070856727659702,-0.095501899719238,0.147793665528297,-0.238119214773178,0.006401682272553,-0.138486266136169,-0.093489743769169,0.055025845766068,-0.156849503517151,0.236615851521492,0.069663546979427,-0.014135308563709,-0.258839815855026,0.001702336594462,-0.174858421087265,0.089925803244114));
res += mul(Get(s3,dx,dy), float4x4(-0.037318736314774,0.086822755634785,-0.067821450531483,0.027009187266231,-0.168887838721275,0.153745949268341,-0.030116783455014,0.028892168775201,0.031943332403898,0.132975906133652,-0.093956805765629,0.054311744868755,-0.215929076075554,0.075350843369961,0.026832668110728,0.113497920334339));
return max(float4(0,0,0,0), res);
}
