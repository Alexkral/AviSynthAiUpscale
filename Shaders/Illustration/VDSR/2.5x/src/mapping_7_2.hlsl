sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.111620463430882,0.205779522657394,-0.150596931576729,-0.108422987163067,-0.137065961956978,-0.142426386475563,-0.009593402966857,-0.193062677979469,-0.091984048485756,0.192652657628059,0.211197137832642,-0.037893868982792,-0.155383974313736,-0.119055010378361,-0.020333891734481,0.029892755672336));
res += mul(Get(s0,-dx,0), float4x4(-0.148581296205521,0.159205004572868,0.045192815363407,0.180523335933685,-0.057276032865047,0.055714540183544,-0.118712574243546,-0.031767383217812,-0.060817699879408,-0.061157599091530,-0.062670938670635,0.270791500806808,-0.023279245942831,-0.090766564011574,-0.115320324897766,0.040988750755787));
res += mul(Get(s0,-dx,dy), float4x4(0.056832507252693,-0.005994154606014,-0.137412264943123,0.111277498304844,-0.052718188613653,0.130755126476288,-0.136298775672913,0.040288530290127,0.003569051623344,-0.087355405092239,0.159577265381813,0.115452758967876,-0.309726059436798,-0.189424127340317,-0.138458684086800,-0.047400090843439));
res += mul(Get(s0,0,-dy), float4x4(0.013699001632631,0.329787164926529,0.000733096792828,0.109576813876629,-0.063563324511051,-0.006668040528893,-0.045574948191643,-0.037176627665758,-0.081799678504467,0.186847582459450,0.104800947010517,-0.050211470574141,0.030959367752075,-0.050222691148520,-0.208099290728569,-0.042510308325291));
res += mul(Get(s0,0,0), float4x4(-0.025727422907948,0.232660830020905,0.057345505803823,0.070034883916378,-0.056138888001442,-0.001565037528053,-0.093079760670662,0.037104129791260,0.111017629504204,-0.029160326346755,0.112913109362125,-0.103414043784142,-0.014644740149379,-0.022763218730688,-0.093706324696541,-0.031448960304260));
res += mul(Get(s0,0,dy), float4x4(-0.022464871406555,0.049355100840330,-0.035345442593098,0.116227611899376,-0.080254256725311,0.259374290704727,-0.136604636907578,0.071124047040939,-0.025192201137543,0.042111422866583,-0.022836662828922,-0.070607110857964,-0.042648009955883,0.049211069941521,-0.038995910435915,-0.241100445389748));
res += mul(Get(s0,dx,-dy), float4x4(0.035432569682598,0.026944352313876,0.137636035680771,-0.058220636099577,-0.059928603470325,0.003875240683556,-0.165391623973846,-0.158889874815941,0.003674582112581,0.008341294713318,-0.114829853177071,-0.275644451379776,0.176668614149094,-0.028556758537889,-0.175785243511200,0.203657284379005));
res += mul(Get(s0,dx,0), float4x4(-0.000420722732088,-0.169059813022614,0.160632818937302,-0.099183447659016,-0.117927148938179,-0.156644344329834,-0.173796743154526,-0.161237031221390,0.042625140398741,-0.138409033417702,-0.025116369128227,-0.140018746256828,-0.063191913068295,-0.187161251902580,-0.167187288403511,0.141982331871986));
res += mul(Get(s0,dx,dy), float4x4(-0.069516420364380,-0.081736810505390,0.148527994751930,-0.077735692262650,-0.147101730108261,0.222871810197830,-0.216086983680725,-0.090228326618671,-0.095528520643711,-0.046211060136557,-0.037238933146000,-0.163162678480148,-0.038962665945292,-0.019796965643764,-0.118584662675858,-0.111955270171165));
res += mul(Get(s1,-dx,-dy), float4x4(0.180027902126312,-0.161789655685425,-0.068778112530708,-0.075971670448780,-0.039369326084852,0.091410115361214,0.058755680918694,-0.024451013654470,-0.049313809722662,-0.000806940079201,0.074321396648884,0.117614753544331,0.006293730810285,-0.189751178026199,-0.046938508749008,0.217680275440216));
res += mul(Get(s1,-dx,0), float4x4(0.062042213976383,-0.016469679772854,0.079095549881458,0.025817587971687,0.081202618777752,0.044620256870985,0.128983795642853,0.006360997911543,-0.028609031811357,-0.118106916546822,0.034160953015089,-0.198730528354645,0.096228264272213,-0.125327914953232,0.000242734240601,-0.067887626588345));
res += mul(Get(s1,-dx,dy), float4x4(-0.078785240650177,0.036335356533527,0.087782673537731,-0.028307326138020,0.187959894537926,0.076968938112259,0.048964802175760,-0.050007142126560,0.074337102472782,0.084474198520184,0.023230891674757,0.000367098458810,0.130422785878181,0.043016660958529,-0.071453437209129,0.051278676837683));
res += mul(Get(s1,0,-dy), float4x4(0.068685516715050,-0.098296046257019,0.155999556183815,-0.109915234148502,-0.081611163914204,0.026875730603933,-0.066510058939457,0.000422733050073,-0.157419234514236,-0.085003845393658,0.112972520291805,-0.016439780592918,0.089765228331089,-0.144207894802094,0.031906388700008,0.017651900649071));
res += mul(Get(s1,0,0), float4x4(-0.010319064371288,0.113582305610180,0.049264121800661,0.117384932935238,0.003013231558725,0.088074490427971,-0.186412557959557,0.033557943999767,-0.113436929881573,-0.062689043581486,-0.124981701374054,-0.058663703501225,0.113055266439915,-0.129941642284393,-0.057474520057440,-0.037661269307137));
res += mul(Get(s1,0,dy), float4x4(-0.045640446245670,0.139202117919922,-0.069601826369762,0.106775462627411,-0.005372453946620,0.067555584013462,-0.001418221974745,0.013353062793612,0.058203447610140,0.135352581739426,0.084946841001511,0.053362168371677,0.419915527105331,-0.088961035013199,-0.000530304212589,-0.014420887455344));
res += mul(Get(s1,dx,-dy), float4x4(-0.045693013817072,-0.121699668467045,0.023968603461981,-0.101305052638054,-0.044208284467459,-0.032585553824902,0.128213077783585,0.297985762357712,-0.117213346064091,0.125617429614067,0.096538759768009,-0.037721678614616,0.095203250646591,-0.094644650816917,0.092801399528980,0.145271688699722));
res += mul(Get(s1,dx,0), float4x4(0.027761060744524,0.027539910748601,0.350709438323975,0.289131611585617,0.012931415811181,0.010427405126393,-0.107972659170628,0.122237220406532,-0.061683669686317,-0.037019755691290,0.211661204695702,-0.203392580151558,0.035336606204510,0.226319134235382,-0.003070140723139,0.159538283944130));
res += mul(Get(s1,dx,dy), float4x4(-0.048052389174700,0.061818554997444,0.221105203032494,0.172966644167900,-0.167105138301849,0.090657971799374,-0.154905259609222,0.109228506684303,-0.064209289848804,0.160485178232193,-0.140497773885727,-0.181762263178825,0.149233266711235,0.109233975410461,-0.052267767488956,-0.022477390244603));
res += mul(Get(s2,-dx,-dy), float4x4(0.004185005091131,0.080443851649761,0.141019254922867,-0.097348354756832,-0.014258773997426,-0.089140675961971,-0.181174412369728,-0.005536131095141,0.079832725226879,0.003775901161134,0.201870232820511,-0.202254980802536,0.146949931979179,-0.001706663286313,-0.180078044533730,-0.041764527559280));
res += mul(Get(s2,-dx,0), float4x4(0.052720237523317,0.134608119726181,0.114509850740433,-0.080664031207561,-0.068407714366913,-0.253333091735840,-0.101595893502235,0.077017970383167,0.045762285590172,-0.211799159646034,0.204446002840996,-0.167417258024216,-0.119182847440243,-0.034416984766722,-0.099201686680317,-0.155030190944672));
res += mul(Get(s2,-dx,dy), float4x4(-0.280616939067841,0.081687673926353,0.167651101946831,-0.109922081232071,-0.079606242477894,-0.144303590059280,-0.149288967251778,0.019360611215234,-0.018671741709113,0.002083191415295,-0.031760331243277,-0.080016374588013,-0.109760917723179,-0.063784942030907,-0.113991700112820,-0.255798399448395));
res += mul(Get(s2,0,-dy), float4x4(-0.042439408600330,-0.042947776615620,-0.033022578805685,-0.028776282444596,-0.008198078721762,-0.134152561426163,0.023821223527193,-0.087840296328068,-0.003886826802045,0.037448260933161,-0.036027900874615,-0.099471688270569,0.085058689117432,-0.058033775538206,0.047212991863489,-0.046198759227991));
res += mul(Get(s2,0,0), float4x4(-0.026995535939932,-0.104281455278397,-0.150745645165443,-0.017887251451612,-0.069408193230629,-0.079560801386833,-0.203578531742096,0.000938985554967,0.056652922183275,-0.012838264927268,0.370544970035553,-0.114846572279930,-0.000716159353033,0.004346949979663,0.038697317242622,-0.033167980611324));
res += mul(Get(s2,0,dy), float4x4(-0.270779520273209,-0.111138962209225,0.163610771298409,0.073843158781528,-0.153848126530647,0.079782120883465,-0.067158117890358,-0.014290542341769,-0.025753105059266,0.162210881710052,-0.084949590265751,0.083034507930279,-0.020424675196409,-0.123611427843571,-0.156670525670052,-0.112693607807159));
res += mul(Get(s2,dx,-dy), float4x4(-0.063340522348881,-0.147348448634148,-0.193391367793083,-0.179211363196373,-0.021875541657209,-0.099334068596363,0.090923458337784,-0.052305299788713,-0.090980075299740,-0.038789376616478,-0.084902904927731,-0.055833045393229,0.085865676403046,-0.006296718027443,0.035429287701845,-0.055269680917263));
res += mul(Get(s2,dx,0), float4x4(0.208449065685272,-0.098065458238125,-0.231895193457603,0.022349137812853,-0.023977885022759,-0.098712302744389,-0.002449076389894,-0.100117571651936,-0.068912178277969,0.098276413977146,0.069183699786663,0.047430153936148,-0.058513555675745,-0.065401121973991,0.089046224951744,-0.068486914038658));
res += mul(Get(s2,dx,dy), float4x4(-0.213210389018059,-0.232222303748131,-0.070837274193764,0.104779899120331,0.091632336378098,0.043748226016760,0.045203924179077,0.142171993851662,-0.056876420974731,0.261994123458862,0.040350422263145,0.191784083843231,0.121630132198334,0.013043663464487,-0.016280001029372,-0.086772322654724));
res += mul(Get(s3,-dx,-dy), float4x4(0.088245131075382,-0.081616260111332,-0.221950948238373,0.122377358376980,0.142595216631889,0.171170711517334,0.018669323995709,-0.040302142500877,0.077077075839043,-0.221899047493935,-0.005475023761392,0.110449574887753,-0.152264177799225,-0.081747420132160,0.105131015181541,0.073545366525650));
res += mul(Get(s3,-dx,0), float4x4(0.089316606521606,-0.082519769668579,-0.045078795403242,0.252768605947495,0.015717750415206,0.292754828929901,-0.133148044347763,0.017407787963748,0.002788711804897,-0.123927816748619,0.011003109626472,-0.051468644291162,-0.068242222070694,0.098432086408138,0.017149558290839,0.096441142261028));
res += mul(Get(s3,-dx,dy), float4x4(-0.072098761796951,-0.165972650051117,0.124646365642548,0.384606599807739,0.266992688179016,0.061521153897047,-0.265176832675934,0.183791294693947,-0.107756860554218,-0.199547559022903,-0.033393073827028,0.017299894243479,-0.103601768612862,0.294519960880280,0.036014240235090,0.206678539514542));
res += mul(Get(s3,0,-dy), float4x4(0.041424036026001,-0.069113545119762,-0.070901304483414,0.155563727021217,0.103741250932217,0.188785120844841,0.093056797981262,0.088116332888603,0.193237334489822,-0.086152970790863,0.076201364398003,-0.012727803550661,-0.067538820207119,0.089561440050602,0.042888954281807,0.156880825757980));
res += mul(Get(s3,0,0), float4x4(0.047381300479174,-0.049340896308422,-0.050438463687897,-0.055594172328711,-0.030491255223751,0.242062300443649,-0.099226057529449,-0.176689088344574,0.223017454147339,0.049664206802845,0.145228460431099,-0.088320985436440,0.022382635623217,0.159896910190582,0.081325858831406,0.286873131990433));
res += mul(Get(s3,0,dy), float4x4(0.029050292447209,-0.133780702948570,-0.008212078362703,-0.143345162272453,0.099375687539577,-0.012448674067855,-0.065843246877193,0.083569288253784,0.041096642613411,0.012735003605485,0.003904144978151,-0.058310985565186,0.054237868636847,0.182271867990494,0.041513126343489,0.162054389715195));
res += mul(Get(s3,dx,-dy), float4x4(-0.163230523467064,-0.077261783182621,-0.134333848953247,0.231777101755142,0.055380642414093,-0.163886353373528,0.025175221264362,-0.011271062307060,0.194039151072502,-0.063249118626118,-0.022533413022757,-0.072348877787590,0.065713219344616,0.164557293057442,0.042334146797657,-0.010032337158918));
res += mul(Get(s3,dx,0), float4x4(0.004716739524156,0.064282365143299,-0.106039874255657,0.121667794883251,-0.013239014893770,0.065681651234627,-0.150258094072342,-0.062437638640404,0.071528725326061,0.062668204307556,0.014359022490680,-0.034953586757183,-0.036601055413485,0.201605796813965,0.004595017991960,0.021764764562249));
res += mul(Get(s3,dx,dy), float4x4(0.069237284362316,-0.038369003683329,-0.096923537552357,-0.137985765933990,-0.012861853465438,-0.038774196058512,0.000736222486012,0.040583606809378,-0.012923992238939,-0.099742591381073,-0.046742588281631,0.015057947486639,0.012328411452472,0.074428290128708,0.091547243297100,-0.072530873119831));
return max(float4(0,0,0,0), res);
}
