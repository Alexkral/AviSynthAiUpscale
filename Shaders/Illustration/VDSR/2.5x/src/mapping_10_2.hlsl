sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.066416926681995,-0.047528013586998,0.081585012376308,-0.130409866571426,-0.036648664623499,-0.105876207351685,-0.098211877048016,0.200598940253258,-0.018729815259576,0.062785834074020,-0.012645409442484,-0.064700789749622,-0.072190761566162,-0.073125049471855,-0.185191422700882,0.008821581490338));
res += mul(Get(s0,-dx,0), float4x4(-0.157943293452263,0.003752701682970,0.175022661685944,-0.056725166738033,0.119976550340652,-0.098953306674957,-0.076668836176395,0.250473737716675,-0.009882745333016,-0.068476438522339,-0.034536685794592,0.030691685155034,0.048524100333452,-0.112068846821785,0.259216189384460,-0.055876139551401));
res += mul(Get(s0,-dx,dy), float4x4(-0.117277450859547,0.099798426032066,0.142157688736916,-0.008480108343065,0.020596532151103,-0.078865371644497,-0.073100700974464,0.036856938153505,0.018258407711983,0.043456159532070,0.147765353322029,0.074882224202156,0.001319480477832,-0.166248545050621,0.563441455364227,0.012907946482301));
res += mul(Get(s0,0,-dy), float4x4(0.057709921151400,-0.010857240296900,-0.060432918369770,0.092417843639851,0.040614839643240,0.127776905894279,-0.100950188934803,0.117890290915966,-0.132192894816399,-0.086245864629745,0.001408587326296,-0.048250634223223,0.009269708767533,-0.103120692074299,-0.185583829879761,-0.042395688593388));
res += mul(Get(s0,0,0), float4x4(-0.102355122566223,0.093792505562305,0.039533622562885,0.173597127199173,0.304101377725601,-0.000010569116057,0.248703345656395,0.122096829116344,-0.105939261615276,-0.075992122292519,0.129998728632927,-0.050002004951239,0.011440394446254,-0.011485635302961,0.140120983123779,-0.013990645296872));
res += mul(Get(s0,0,dy), float4x4(-0.187655463814735,0.118924528360367,-0.186805948615074,-0.106471419334412,0.159363761544228,0.068154446780682,0.051650080829859,0.021800868213177,-0.008293435908854,-0.072897098958492,0.286096304655075,0.124750562012196,-0.026699256151915,0.088734559714794,0.075195990502834,-0.046419348567724));
res += mul(Get(s0,dx,-dy), float4x4(-0.198018357157707,-0.086968518793583,0.067866615951061,0.330489009618759,-0.009927378967404,-0.002802649978548,-0.029330791905522,-0.011368748731911,-0.146698951721191,-0.123967215418816,0.025896266102791,-0.067993380129337,0.129658907651901,-0.102592587471008,-0.305028408765793,-0.086513042449951));
res += mul(Get(s0,dx,0), float4x4(-0.209120079874992,0.284813284873962,0.140538975596428,-0.064437039196491,0.085267513990402,0.015838906168938,0.112135902047157,0.075804241001606,-0.175073906779289,-0.161386594176292,0.096553303301334,-0.202590078115463,0.110156781971455,-0.056802775710821,-0.118701137602329,0.223498702049255));
res += mul(Get(s0,dx,dy), float4x4(-0.190833359956741,-0.182819217443466,-0.016039235517383,-0.102353200316429,0.165601909160614,0.031634792685509,0.008128990419209,0.033081758767366,0.067715771496296,-0.055389940738678,-0.153054267168045,-0.095512323081493,-0.087665326893330,-0.044714249670506,-0.028391370549798,-0.002640359802172));
res += mul(Get(s1,-dx,-dy), float4x4(0.077679805457592,0.077883489429951,0.183588072657585,0.061704069375992,0.236450508236885,0.142713516950607,0.104307942092419,0.147836714982986,-0.079971008002758,0.060895685106516,0.021049829199910,-0.016126930713654,0.077834881842136,-0.046458236873150,-0.031949218362570,-0.098068505525589));
res += mul(Get(s1,-dx,0), float4x4(0.038034796714783,0.145147874951363,0.125057697296143,0.017591690644622,0.203831210732460,0.013196989893913,0.006882422603667,0.102967597544193,0.073315754532814,0.102874845266342,0.233143463730812,0.007260214071721,0.023357633501291,0.171064257621765,0.231648936867714,-0.130256250500679));
res += mul(Get(s1,-dx,dy), float4x4(0.015515907667577,0.129743576049805,0.083498895168304,0.099274083971977,0.059816803783178,0.289169788360596,-0.067485466599464,-0.072243660688400,-0.081003226339817,0.200099632143974,0.222284838557243,0.186163440346718,0.071748234331608,0.202607229351997,0.484793603420258,-0.200727343559265));
res += mul(Get(s1,0,-dy), float4x4(-0.082504637539387,-0.110050559043884,0.063099578022957,-0.063869431614876,-0.039560727775097,-0.065784491598606,-0.033967740833759,0.002675862051547,0.015982018783689,-0.064349032938480,-0.066181242465973,-0.001802236656658,-0.050306476652622,-0.116177693009377,-0.060884781181812,-0.033199202269316));
res += mul(Get(s1,0,0), float4x4(-0.026013709604740,0.089729480445385,0.143337741494179,-0.070943593978882,0.039849668741226,-0.007363602053374,0.069805257022381,0.077662117779255,-0.010345737449825,-0.092273883521557,-0.082458674907684,-0.000482491479488,-0.036655157804489,0.127141371369362,0.031466454267502,-0.199442639946938));
res += mul(Get(s1,0,dy), float4x4(0.066339492797852,0.096344858407974,0.092230826616287,0.029541414231062,0.007975080050528,0.084698848426342,-0.095637477934361,-0.053662106394768,-0.108197942376137,-0.043969668447971,0.028174385428429,-0.112076774239540,-0.119855977594852,-0.039118096232414,0.150091707706451,-0.151173740625381));
res += mul(Get(s1,dx,-dy), float4x4(0.109038256108761,0.172802895307541,-0.142074704170227,0.023948531597853,0.466781258583069,0.084290727972984,-0.059642475098372,-0.100605815649033,0.013575144112110,-0.195270270109177,-0.069536209106445,0.022648228332400,-0.009165721945465,-0.065187275409698,0.106501951813698,0.063207857310772));
res += mul(Get(s1,dx,0), float4x4(0.090152233839035,0.181543782353401,-0.042473301291466,0.056007649749517,0.147606655955315,0.078298754990101,0.157138824462891,-0.007062321528792,-0.003177477512509,-0.110775254666805,-0.021033544093370,0.130392149090767,0.006388512440026,0.064377903938293,0.102463670074940,0.102700106799603));
res += mul(Get(s1,dx,dy), float4x4(0.147839948534966,0.390126585960388,0.096169337630272,0.104481182992458,0.233771756291389,0.094628408551216,0.022573914378881,0.033238641917706,-0.008662088774145,-0.065554514527321,0.129566043615341,-0.067909747362137,-0.056082256138325,-0.027744727209210,0.208566725254059,0.070145480334759));
res += mul(Get(s2,-dx,-dy), float4x4(0.066235549747944,-0.090770691633224,-0.049604412168264,-0.021692549809813,0.069920204579830,-0.133758023381233,-0.095292866230011,-0.059910520911217,-0.020795470103621,-0.233291834592819,-0.178820952773094,0.448882102966309,0.045916635543108,0.029892569407821,-0.024328272789717,0.095696233212948));
res += mul(Get(s2,-dx,0), float4x4(-0.033285919576883,0.087134487926960,0.122121915221214,-0.016668533906341,-0.053748868405819,-0.176003843545914,0.001853795023635,-0.172610491514206,-0.063100203871727,-0.098651938140392,-0.007409063167870,0.141108110547066,0.109792709350586,-0.086300984025002,-0.011893488466740,0.168347358703613));
res += mul(Get(s2,-dx,dy), float4x4(0.148145690560341,0.008936224505305,0.047009326517582,-0.124172888696194,0.076380878686905,-0.022556694224477,-0.103713005781174,-0.086995922029018,-0.156061857938766,0.040256503969431,-0.085553921759129,-0.137493968009949,0.185334250330925,0.033993348479271,0.179800674319267,-0.044024564325809));
res += mul(Get(s2,0,-dy), float4x4(0.079143822193146,-0.162281468510628,-0.200056046247482,-0.056861970573664,-0.127759084105492,-0.002804945688695,-0.050476659089327,0.136121347546577,0.011491207405925,-0.239968702197075,-0.145557090640068,0.103166215121746,-0.019229397177696,-0.093098357319832,-0.111213468015194,-0.073991015553474));
res += mul(Get(s2,0,0), float4x4(0.182251542806625,-0.045707408338785,0.014593324624002,0.067045927047729,-0.001705724396743,-0.076375387609005,-0.021269069984555,-0.039039786905050,-0.168465510010719,-0.154313698410988,0.051030907779932,-0.065480150282383,0.101142913103104,-0.066422313451767,-0.108898110687733,-0.064737550914288));
res += mul(Get(s2,0,dy), float4x4(-0.017357867211103,-0.030848786234856,-0.000856138532981,-0.108049869537354,-0.042977046221495,0.024527352303267,-0.051336053758860,0.007391027174890,-0.138698995113373,0.179491743445396,0.143062144517899,0.188234314322472,0.052686844021082,0.031874034553766,0.281971901655197,0.165416881442070));
res += mul(Get(s2,dx,-dy), float4x4(-0.132217004895210,0.065351828932762,-0.130674436688423,0.032786399126053,0.040122441947460,-0.076758235692978,-0.216139465570450,0.008564740419388,0.017952570691705,0.082720153033733,-0.141777008771896,0.367948561906815,-0.002641628263518,-0.108904577791691,-0.247991368174553,0.018150683492422));
res += mul(Get(s2,dx,0), float4x4(0.122755400836468,0.313566684722900,0.137524262070656,0.163765177130699,-0.138902544975281,0.003394138533622,-0.135058790445328,0.043824642896652,0.150646314024925,0.108676508069038,0.097635909914970,-0.127320200204849,0.163155525922775,-0.045637100934982,-0.244445592164993,-0.170561462640762));
res += mul(Get(s2,dx,dy), float4x4(0.110233604907990,0.101964831352234,0.203029051423073,0.116505295038223,-0.026929285377264,-0.025224780663848,-0.087260916829109,0.002055598655716,-0.204569041728973,0.248658299446106,0.006628582254052,-0.171103805303574,0.121635489165783,-0.053855676203966,0.039782851934433,-0.174835324287415));
res += mul(Get(s3,-dx,-dy), float4x4(0.011434058658779,0.009832584299147,-0.029817083850503,-0.156203195452690,-0.042004894465208,0.206149742007256,0.099678024649620,-0.016679095104337,0.072440490126610,-0.037305369973183,0.150885537266731,-0.189719364047050,-0.084162890911102,0.074365086853504,0.121876358985901,-0.107147477567196));
res += mul(Get(s3,-dx,0), float4x4(0.047422576695681,-0.057853598147631,0.001932935556397,-0.090890429913998,-0.024420976638794,0.136414960026741,0.052396625280380,0.015477009117603,0.054765142500401,0.033509600907564,-0.038456995040178,-0.179946601390839,0.061038769781590,0.229770496487617,0.261110454797745,-0.051686007529497));
res += mul(Get(s3,-dx,dy), float4x4(-0.085338279604912,-0.097696594893932,-0.098938509821892,-0.083405658602715,0.039508678019047,0.024952964857221,-0.056719899177551,0.088364578783512,-0.061526075005531,-0.006952195428312,0.205438077449799,-0.120368346571922,0.075461819767952,0.118792325258255,0.082358583807945,0.011722785420716));
res += mul(Get(s3,0,-dy), float4x4(-0.125505983829498,-0.091401912271976,-0.181704118847847,0.132105991244316,0.124935299158096,0.218194216489792,-0.100134231150150,-0.056629225611687,0.102977685630322,0.169150024652481,0.099976979196072,0.128268063068390,0.292242586612701,-0.044373061507940,-0.094223260879517,-0.046600293368101));
res += mul(Get(s3,0,0), float4x4(-0.149860396981239,-0.015329278074205,0.029577618464828,0.057474553585052,0.008977279067039,0.076540030539036,-0.014313720166683,-0.008897769264877,-0.008622292429209,0.093949846923351,0.065545491874218,0.070617720484734,0.214757502079010,-0.011141833849251,-0.010394486598670,0.030781375244260));
res += mul(Get(s3,0,dy), float4x4(-0.072799272835255,-0.039246443659067,0.069350793957710,-0.030344244092703,-0.073861286044121,0.040428671985865,-0.024591704830527,-0.062186613678932,-0.091767512261868,-0.048735711723566,0.122804343700409,-0.091386012732983,0.211702167987823,-0.048559214919806,0.021495055407286,0.103470355272293));
res += mul(Get(s3,dx,-dy), float4x4(-0.163864001631737,-0.011600847356021,-0.202407255768776,-0.083839997649193,0.276811778545380,0.204819068312645,-0.091663375496864,-0.024489153176546,-0.012875941582024,0.053574725985527,-0.071614481508732,0.124511525034904,0.099367588758469,-0.166465803980827,-0.124457053840160,-0.101858161389828));
res += mul(Get(s3,dx,0), float4x4(-0.109344556927681,0.014705630019307,-0.053759336471558,-0.062206421047449,0.020107906311750,0.042363945394754,-0.013268027454615,-0.000226783668040,-0.082080140709877,-0.035874430090189,-0.062091920524836,0.000677782110870,0.144563630223274,-0.059636577963829,-0.007482245098799,0.049247082322836));
res += mul(Get(s3,dx,dy), float4x4(-0.160571262240410,0.177453875541687,-0.043201498687267,-0.031816139817238,0.182459071278572,0.082241222262383,0.051807966083288,-0.017747411504388,0.023527478799224,-0.097355693578720,-0.195396438241005,-0.048157390207052,0.015962829813361,0.012648276053369,0.018267927691340,-0.025676570832729));
return max(float4(0,0,0,0), res);
}
