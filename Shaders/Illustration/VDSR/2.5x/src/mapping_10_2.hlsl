sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.024713709950447,0.059853579849005,-0.048255100846291,-0.055528111755848,0.006373919080943,-0.082565806806087,-0.209727495908737,-0.073626920580864,-0.164767146110535,-0.142873615026474,-0.002829896751791,0.132130295038223,-0.177370503544807,-0.040257904678583,0.309073120355606,-0.036051154136658));
res += mul(Get(s0,-dx,0), float4x4(-0.213754579424858,-0.043544135987759,-0.139590352773666,-0.208747863769531,0.109341353178024,-0.155878126621246,-0.022514188662171,-0.051545742899179,-0.026340818032622,0.070676118135452,-0.037047576159239,-0.131854549050331,0.112407766282558,0.135081380605698,0.009771378710866,0.026177862659097));
res += mul(Get(s0,-dx,dy), float4x4(-0.271315783262253,-0.045420888811350,-0.125628933310509,0.176740080118179,-0.015067907050252,0.049384757876396,0.100335627794266,0.056679490953684,-0.000834558624774,0.075743511319160,0.125831782817841,0.124477557837963,-0.038651254028082,-0.074815414845943,-0.010896710678935,-0.005392670165747));
res += mul(Get(s0,0,-dy), float4x4(-0.079560071229935,0.138611957430840,0.075084857642651,-0.011434567160904,0.065068967640400,0.050274528563023,0.169600456953049,-0.060882814228535,-0.222070485353470,-0.088313706219196,-0.218796744942665,-0.075791336596012,-0.134417876601219,0.134143784642220,0.043133743107319,-0.196462899446487));
res += mul(Get(s0,0,0), float4x4(0.111811436712742,0.097280405461788,-0.120873667299747,0.129744946956635,-0.011112429201603,-0.070391014218330,-0.026543043553829,0.017155716195703,-0.123085640370846,0.187004342675209,-0.113796561956406,-0.192728206515312,-0.047339480370283,0.053562648594379,-0.008410961367190,-0.068890586495399));
res += mul(Get(s0,0,dy), float4x4(0.083855271339417,-0.149633616209030,0.075375065207481,-0.094333216547966,-0.039964459836483,0.076201073825359,0.035978142172098,-0.001452998374589,0.039513107389212,-0.055649030953646,-0.131057932972908,-0.047147970646620,-0.075522027909756,0.017029467970133,0.043549649417400,0.067449092864990));
res += mul(Get(s0,dx,-dy), float4x4(0.046567961573601,-0.001865884521976,-0.094225071370602,-0.074807278811932,0.061944775283337,0.149931788444519,-0.226547732949257,0.059029068797827,0.070228450000286,-0.029194436967373,0.027319472283125,-0.300044953823090,-0.031850390136242,0.011130535043776,-0.023452833294868,-0.167624711990356));
res += mul(Get(s0,dx,0), float4x4(-0.002933235606179,0.291003793478012,-0.044561289250851,-0.054594803601503,0.137647405266762,0.046605557203293,-0.052833281457424,0.109504289925098,0.219960406422615,0.025030381977558,0.161759078502655,-0.106588378548622,0.050836257636547,-0.130222946405411,-0.074551686644554,0.163155511021614));
res += mul(Get(s0,dx,dy), float4x4(-0.080556713044643,-0.134733185172081,0.041876457631588,-0.058194033801556,0.142333805561066,-0.031797822564840,0.135140150785446,-0.135145679116249,0.131639823317528,-0.000550511933398,-0.187488824129105,0.049694750458002,-0.007033627945930,-0.061452526599169,0.081426195800304,0.048148486763239));
res += mul(Get(s1,-dx,-dy), float4x4(0.001643082825467,-0.166942730545998,-0.016688536852598,-0.055021576583385,0.075733289122581,-0.134400039911270,0.050068240612745,0.168100386857986,-0.024778075516224,-0.189907625317574,-0.121055819094181,-0.044884126633406,-0.056697241961956,-0.049014788120985,0.138548359274864,-0.075167886912823));
res += mul(Get(s1,-dx,0), float4x4(0.050511233508587,0.074185788631439,-0.087060071527958,0.026877623051405,0.065097719430923,-0.191839084029198,-0.111765757203102,-0.004342834465206,-0.007888225838542,0.007986165583134,0.090853832662106,-0.066355735063553,0.145038917660713,0.054152462631464,0.135797902941704,0.080515637993813));
res += mul(Get(s1,-dx,dy), float4x4(0.033917482942343,0.208293214440346,0.007727175485343,0.034850090742111,-0.149684369564056,-0.234028205275536,-0.062369491904974,0.089708976447582,-0.001374347950332,-0.024646041914821,0.163793236017227,0.034067776054144,0.070497825741768,-0.034050270915031,0.089737221598625,0.049487553536892));
res += mul(Get(s1,0,-dy), float4x4(0.046218197792768,0.173262655735016,0.021025225520134,-0.001810136483982,0.117488071322441,-0.067958720028400,0.036201525479555,-0.224224358797073,0.165396928787231,0.121555894613266,-0.005792713724077,0.072314299643040,-0.013934313319623,-0.062967337667942,-0.099441438913345,0.082147769629955));
res += mul(Get(s1,0,0), float4x4(0.089257583022118,-0.013418536633253,-0.203195020556450,-0.096559725701809,0.229668483138084,-0.306347221136093,-0.295798122882843,0.030233092606068,0.049691777676344,-0.002895674435422,-0.058482944965363,0.055207911878824,0.001810318324715,0.073327250778675,0.027926545590162,0.226013660430908));
res += mul(Get(s1,0,dy), float4x4(-0.088443085551262,-0.016116559505463,-0.043514180928469,-0.031203174963593,-0.091735512018204,0.103890918195248,-0.166211634874344,0.143208354711533,-0.255533903837204,-0.105008989572525,-0.237005591392517,0.070725403726101,-0.174595162272453,0.055972982198000,0.044686075299978,-0.139454379677773));
res += mul(Get(s1,dx,-dy), float4x4(0.176647618412971,0.048901829868555,-0.078557401895523,-0.019956097006798,0.115219056606293,-0.000161300471518,-0.022464724257588,-0.174671456217766,-0.041434768587351,-0.139254510402679,-0.138705506920815,0.033749837428331,-0.007157603278756,-0.097599782049656,-0.176427707076073,0.175159543752670));
res += mul(Get(s1,dx,0), float4x4(0.196178600192070,-0.067701332271099,0.188874900341034,0.149888575077057,0.023076895624399,-0.135971561074257,-0.208449393510818,-0.038356706500053,-0.109778508543968,0.042770542204380,-0.021044552326202,-0.047917507588863,-0.041850298643112,0.033234015107155,0.088911198079586,0.065647810697556));
res += mul(Get(s1,dx,dy), float4x4(0.098062410950661,-0.054132591933012,-0.055840197950602,0.167165100574493,0.012792474590242,-0.238973379135132,0.055301360785961,-0.105433993041515,0.077257856726646,0.163996458053589,0.067766755819321,-0.028388723731041,-0.045511126518250,-0.051642544567585,0.117191269993782,-0.101177737116814));
res += mul(Get(s2,-dx,-dy), float4x4(0.071425527334213,-0.080323137342930,0.057173382490873,-0.132371485233307,0.061257757246494,-0.011974367313087,-0.186644986271858,0.046246349811554,-0.065121538937092,-0.081194579601288,-0.173355549573898,0.023837497457862,-0.017463490366936,-0.090554893016815,0.072721324861050,-0.272328585386276));
res += mul(Get(s2,-dx,0), float4x4(0.019555827602744,-0.040846090763807,-0.109495893120766,-0.070933394134045,-0.219757363200188,-0.016575969755650,0.175919070839882,-0.057834122329950,-0.109862260520458,0.130198821425438,0.081682421267033,-0.036398451775312,-0.096531048417091,-0.158893808722496,-0.118842720985413,0.197167649865150));
res += mul(Get(s2,-dx,dy), float4x4(-0.045169692486525,-0.088522709906101,0.023225447162986,0.061027672141790,-0.025388957932591,-0.084327884018421,-0.179209053516388,-0.153415128588676,0.333844453096390,-0.038733828812838,-0.111156649887562,-0.083476118743420,-0.003345789853483,-0.149978727102280,0.094450220465660,0.039377756416798));
res += mul(Get(s2,0,-dy), float4x4(0.077229887247086,0.010920146480203,0.021521370857954,0.240232244133949,0.111644327640533,0.043663520365953,0.068964980542660,-0.068792648613453,0.056932363659143,0.039587654173374,0.003952929284424,-0.052371907979250,-0.015927424654365,-0.069441966712475,0.119801737368107,0.025186834856868));
res += mul(Get(s2,0,0), float4x4(-0.062578238546848,0.047292642295361,-0.125997051596642,0.107021741569042,0.054855965077877,-0.055234562605619,0.141150519251823,0.052468508481979,-0.023087404668331,0.111811071634293,-0.254381626844406,-0.045437444001436,0.126631900668144,-0.108538173139095,0.037273775786161,0.107700303196907));
res += mul(Get(s2,0,dy), float4x4(-0.071517035365105,0.015507386997342,-0.024762459099293,0.002982113277540,-0.136479750275612,-0.029832903295755,-0.007679309230298,0.015090732835233,0.076376348733902,0.083180330693722,0.018234632909298,-0.259981393814087,-0.018050976097584,0.070475772023201,0.055399615317583,0.029603438451886));
res += mul(Get(s2,dx,-dy), float4x4(-0.052559383213520,-0.008075201883912,-0.073069699108601,0.060082901269197,0.002313520992175,-0.029062429443002,0.060432732105255,-0.019421231001616,0.070780657231808,0.120186716318130,0.044416636228561,0.030379764735699,0.013940379023552,-0.168997719883919,0.279212266206741,0.009686632081866));
res += mul(Get(s2,dx,0), float4x4(0.108317002654076,-0.143001258373260,0.064693175256252,0.049731224775314,-0.011113945394754,-0.026410901919007,0.011185859329998,0.062482092529535,-0.131265118718147,0.027804382145405,0.057020850479603,0.075742952525616,-0.140292227268219,0.089678794145584,-0.067469984292984,0.043051652610302));
res += mul(Get(s2,dx,dy), float4x4(0.056517139077187,-0.066495105624199,-0.173764884471893,0.204421460628510,0.122041471302509,0.107011243700981,-0.103192031383514,-0.076714232563972,-0.075727798044682,-0.103330813348293,0.023327302187681,0.088638022542000,0.163545906543732,-0.063868388533592,0.059252809733152,0.022044768556952));
res += mul(Get(s3,-dx,-dy), float4x4(0.141035437583923,-0.095636263489723,0.044947467744350,-0.148520082235336,0.118892967700958,-0.040049687027931,0.270109385251999,0.005497450474650,0.157538950443268,-0.084146670997143,0.057472515851259,0.023212274536490,-0.162617772817612,-0.133286729454994,0.096959725022316,0.035245385020971));
res += mul(Get(s3,-dx,0), float4x4(-0.109840646386147,0.073627851903439,0.082305543124676,0.022755729034543,0.025881195440888,-0.103306710720062,-0.053684260696173,0.022227065637708,-0.087434500455856,-0.082857817411423,0.022352518513799,0.178406164050102,-0.015242061577737,-0.069347985088825,-0.143866926431656,-0.164252147078514));
res += mul(Get(s3,-dx,dy), float4x4(-0.203910753130913,0.032411828637123,-0.038720957934856,0.126169428229332,0.021008312702179,0.131693527102470,0.056824441999197,0.201919898390770,0.034670528024435,-0.155251935124397,0.062495473772287,-0.195178076624870,0.072722449898720,0.074142873287201,-0.016323707997799,-0.132784739136696));
res += mul(Get(s3,0,-dy), float4x4(-0.054148118942976,0.163457855582237,0.009853563271463,-0.132405370473862,0.101353630423546,0.021771961823106,-0.019021945074201,-0.041923128068447,0.055153328925371,-0.009583598934114,-0.043145399540663,-0.191930010914803,-0.158751398324966,0.026888152584434,-0.150983273983002,0.087448671460152));
res += mul(Get(s3,0,0), float4x4(0.085511721670628,0.014788667671382,0.020344827324152,-0.171794652938843,0.051369149237871,-0.002170567400753,0.255308359861374,-0.031814306974411,0.067794203758240,-0.057068686932325,0.002915507182479,-0.007844200357795,-0.065908201038837,-0.059678889811039,0.168970644474030,0.008141821250319));
res += mul(Get(s3,0,dy), float4x4(-0.029107630252838,-0.012323481962085,0.108203001320362,-0.004583192989230,0.142048299312592,0.095015563070774,-0.121522374451160,-0.072306461632252,0.147096663713455,-0.056024536490440,-0.019073959439993,-0.141589805483818,-0.214577391743660,0.029096513986588,0.228996232151985,-0.123189531266689));
res += mul(Get(s3,dx,-dy), float4x4(-0.060032922774553,0.071456596255302,-0.075105138123035,-0.044059433043003,0.038535363972187,0.152467459440231,0.006075754296035,-0.066838964819908,-0.127891108393669,-0.105113744735718,-0.010092088952661,-0.255387067794800,-0.058988172560930,0.064208544790745,-0.119965046644211,0.014108214527369));
res += mul(Get(s3,dx,0), float4x4(-0.006110684480518,0.022201916202903,-0.104607105255127,0.013089485466480,0.044749751687050,0.031664438545704,-0.160034149885178,0.021236829459667,-0.085621148347855,-0.088049381971359,-0.047374479472637,0.150661408901215,-0.037246707826853,-0.002653662813827,0.039432317018509,-0.008807655423880));
res += mul(Get(s3,dx,dy), float4x4(-0.133369475603104,0.165176540613174,0.031056921929121,-0.029635533690453,0.058165930211544,0.078597486019135,-0.032270282506943,0.057289361953735,-0.022167773917317,-0.066378086805344,-0.020613074302673,-0.006401043850929,-0.181226789951324,-0.045332815498114,0.100384786725044,0.120988748967648));
return max(float4(0,0,0,0), res);
}
