sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.191096827387810,0.204508259892464,0.021734014153481,-0.250617951154709,0.155466958880424,-0.031737364828587,-0.052528552711010,-0.062640346586704,-0.073937304317951,-0.003916984423995,0.050700400024652,0.387651026248932,0.067613653838634,0.188453823328018,-0.006200727075338,0.212726145982742));
res += mul(Get(s0,-dx,0), float4x4(-0.085284173488617,-0.006945422384888,-0.096244134008884,0.024556161835790,0.108623020350933,-0.020141443237662,-0.223296836018562,-0.090264238417149,-0.045884750783443,-0.197687149047852,0.063660047948360,0.004379322286695,0.068589054048061,0.042910188436508,0.228690281510353,0.038263533264399));
res += mul(Get(s0,-dx,dy), float4x4(-0.122602172195911,-0.126758530735970,0.152458742260933,0.148243024945259,-0.093035846948624,-0.058429464697838,0.203472465276718,-0.104830846190453,-0.016015306115150,-0.151153817772865,0.112575575709343,0.008016756735742,-0.120251238346100,0.116777531802654,0.027719954028726,0.135286301374435));
res += mul(Get(s0,0,-dy), float4x4(0.130199715495110,0.218154370784760,0.033358711749315,-0.231132879853249,-0.002965906402096,0.069496773183346,-0.158676192164421,0.082130506634712,0.031459700316191,0.065476603806019,0.057758100330830,0.142078921198845,-0.130035921931267,0.032184630632401,-0.048061918467283,0.040633834898472));
res += mul(Get(s0,0,0), float4x4(-0.210504785180092,-0.052104331552982,0.129675582051277,-0.288953900337219,0.118317618966103,0.123355142772198,-0.136467292904854,0.113688759505749,0.122630067169666,-0.032222215086222,0.102318249642849,0.043444558978081,0.062906801700592,-0.185172632336617,-0.108337149024010,0.035597112029791));
res += mul(Get(s0,0,dy), float4x4(-0.068202786147594,-0.211291372776031,-0.061982203274965,0.058966707438231,0.059030048549175,-0.048614110797644,-0.146094754338264,0.146385669708252,-0.090346343815327,0.051886800676584,-0.065883770585060,0.018080938607454,0.005240679718554,0.135275050997734,-0.063099503517151,0.054631777107716));
res += mul(Get(s0,dx,-dy), float4x4(0.109216570854187,-0.009695288725197,0.011498800478876,-0.030354848131537,0.143905028700829,0.082555115222931,0.084961280226707,-0.097882851958275,0.049833320081234,0.188389346003532,0.024122446775436,0.024709658697248,0.165497720241547,0.168378919363022,0.000153330038302,-0.008771144784987));
res += mul(Get(s0,dx,0), float4x4(0.026561129838228,-0.088422089815140,0.076641604304314,-0.133381128311157,-0.127002641558647,-0.061901442706585,0.087901718914509,0.029720975086093,-0.101230710744858,-0.159552529454231,-0.013184986077249,-0.103237800300121,0.039773937314749,0.090704575181007,0.023504432290792,0.074637226760387));
res += mul(Get(s0,dx,dy), float4x4(-0.009665637277067,-0.109372168779373,0.127312451601028,-0.074525430798531,0.037652753293514,-0.290201425552368,-0.080086797475815,0.065718963742256,0.111995965242386,-0.009506316855550,0.086603112518787,-0.092647671699524,0.177926525473595,-0.200254365801811,-0.108181573450565,0.296480715274811));
res += mul(Get(s1,-dx,-dy), float4x4(-0.084091670811176,-0.090638399124146,-0.319227367639542,0.074514098465443,0.145659923553467,-0.121304437518120,-0.023083642125130,0.117710024118423,-0.073784768581390,0.043022517114878,-0.083640903234482,-0.196518287062645,0.116194441914558,0.138657629489899,0.021065371111035,-0.010286126285791));
res += mul(Get(s1,-dx,0), float4x4(0.068659625947475,-0.137164413928986,-0.127574026584625,-0.091253459453583,0.022862641140819,-0.055358190089464,0.062002379447222,0.094116687774658,0.181669861078262,-0.022624529898167,-0.068979367613792,-0.098279327154160,-0.123939491808414,-0.157408416271210,-0.002098608529195,-0.004288553725928));
res += mul(Get(s1,-dx,dy), float4x4(0.113037683069706,0.088698893785477,-0.184060290455818,-0.117646686732769,0.048426799476147,-0.251893520355225,-0.153782457113266,0.357775598764420,-0.021356655284762,-0.124273627996445,0.227371811866760,-0.016529360786080,-0.088877521455288,0.001770343515091,0.063604198396206,-0.068849548697472));
res += mul(Get(s1,0,-dy), float4x4(0.130954369902611,0.001268411637284,-0.189071625471115,-0.010074683465064,0.030449640005827,0.082849949598312,-0.185105100274086,0.001428594929166,0.354876965284348,-0.010028454475105,-0.150770902633667,-0.227891355752945,0.299053311347961,0.069551035761833,0.016434127464890,0.026895580813289));
res += mul(Get(s1,0,0), float4x4(-0.004088735673577,0.120990142226219,-0.088925048708916,-0.172692686319351,0.187257796525955,0.057037204504013,0.216170921921730,0.106798849999905,-0.151947304606438,0.089826084673405,0.112296089529991,-0.216472700238228,-0.314989209175110,0.065584279596806,-0.059326067566872,0.093656152486801));
res += mul(Get(s1,0,dy), float4x4(0.239523306488991,0.091646961867809,-0.022454921156168,-0.057001799345016,-0.194748669862747,-0.141759157180786,-0.108333885669708,-0.081736244261265,0.051988091319799,0.073362648487091,0.136597529053688,-0.051295828074217,0.069030597805977,0.049966230988503,-0.069833673536777,-0.137176603078842));
res += mul(Get(s1,dx,-dy), float4x4(0.078313641250134,0.057388804852962,-0.058387324213982,-0.244963094592094,0.048486046493053,0.075482651591301,-0.065041169524193,-0.020691461861134,0.024140845984221,-0.024271015077829,0.094957523047924,-0.046478126198053,0.072001062333584,-0.171189680695534,-0.069303587079048,-0.079572118818760));
res += mul(Get(s1,dx,0), float4x4(0.027721360325813,-0.119617998600006,0.067184433341026,-0.099927999079227,0.209384292364120,0.084365405142307,0.120688974857330,0.209422260522842,0.094721719622612,-0.138655588030815,0.144275411963463,0.058176118880510,-0.035006858408451,0.176845714449883,-0.017752859741449,-0.020830944180489));
res += mul(Get(s1,dx,dy), float4x4(-0.053744129836559,-0.032248254865408,-0.097456164658070,0.004902985878289,-0.086572051048279,-0.127334758639336,-0.098592542111874,0.163582712411880,0.083585426211357,-0.024711268022656,0.157878518104553,-0.281279414892197,-0.055304750800133,0.143684938549995,-0.063444785773754,-0.068585745990276));
res += mul(Get(s2,-dx,-dy), float4x4(-0.040295403450727,0.237165778875351,0.002713404828683,-0.117484994232655,-0.053651850670576,0.041912976652384,-0.065356291830540,0.250429153442383,0.018570614978671,0.167464450001717,0.029438488185406,-0.052124705165625,0.095141343772411,-0.098847523331642,-0.042189292609692,-0.048113703727722));
res += mul(Get(s2,-dx,0), float4x4(0.064627856016159,0.096077173948288,-0.091909334063530,0.101255528628826,-0.035698000341654,-0.001134836580604,0.127697885036469,0.211517095565796,0.018815547227859,0.052743643522263,0.072873830795288,-0.017149381339550,0.187052026391029,-0.223974689841270,-0.217801466584206,-0.253481119871140));
res += mul(Get(s2,-dx,dy), float4x4(-0.168620482087135,0.053211100399494,0.000219009307330,0.009915560483932,0.048938278108835,-0.060867063701153,0.103782773017883,-0.196579664945602,0.009332874789834,0.099742613732815,-0.164574086666107,-0.009479019790888,-0.067087210714817,-0.142170086503029,-0.029402071610093,0.041226297616959));
res += mul(Get(s2,0,-dy), float4x4(-0.033472292125225,0.029628930613399,0.096140682697296,0.008013149723411,0.126786381006241,-0.092436499893665,0.039878886193037,-0.116539582610130,0.001124480972067,-0.084698788821697,0.016554696485400,-0.214413404464722,-0.166857048869133,-0.090126357972622,0.026540841907263,-0.042132236063480));
res += mul(Get(s2,0,0), float4x4(-0.080137707293034,-0.026291461661458,0.233518108725548,-0.118613332509995,0.003945952747017,0.121784001588821,-0.031504970043898,-0.091799028217793,0.077892147004604,0.167756885290146,0.017593802884221,0.045178756117821,0.167837023735046,0.004242195282131,-0.061368819326162,0.072654306888580));
res += mul(Get(s2,0,dy), float4x4(0.007186208851635,-0.031653281301260,-0.039470836520195,-0.091783046722412,-0.055197849869728,-0.066576480865479,-0.004764124751091,0.088534340262413,-0.034204684197903,0.149821132421494,-0.286518633365631,-0.050981331616640,-0.075559541583061,0.075116001069546,0.089793726801872,-0.084512285888195));
res += mul(Get(s2,dx,-dy), float4x4(0.026349904015660,-0.044023666530848,0.180426955223083,0.022020241245627,-0.038329478353262,-0.016682507470250,0.292279154062271,-0.011958000250161,0.112695343792439,0.018329633399844,0.214784443378448,-0.035645820200443,0.034178163856268,-0.049366664141417,0.036520078778267,-0.034563969820738));
res += mul(Get(s2,dx,0), float4x4(0.074708476662636,-0.072537325322628,0.164896577596664,-0.006930259056389,-0.001386939547956,-0.056124925613403,-0.062360644340515,0.094757579267025,-0.052947442978621,0.161109626293182,0.030838958919048,0.102272868156433,0.020789682865143,0.011411663144827,0.062680684030056,0.090478539466858));
res += mul(Get(s2,dx,dy), float4x4(-0.064081475138664,0.039304066449404,-0.145935863256454,0.101682551205158,0.064151994884014,0.104916140437126,-0.037868145853281,-0.042489368468523,0.005070557352155,0.042898640036583,-0.070279262959957,-0.052409809082747,0.025151522830129,0.013260033912957,0.049004521220922,-0.169283613562584));
res += mul(Get(s3,-dx,-dy), float4x4(-0.071216017007828,-0.022336496040225,-0.074293591082096,0.116877622902393,-0.231011837720871,0.151945561170578,0.051794987171888,-0.139573067426682,-0.013782395049930,0.102300062775612,-0.144187971949577,0.009426457807422,-0.072806864976883,-0.143634945154190,-0.049547687172890,0.146735355257988));
res += mul(Get(s3,-dx,0), float4x4(-0.086388595402241,-0.014735141769052,-0.034470703452826,0.001984673319384,0.013973441906273,0.012333966791630,0.079507716000080,0.177686527371407,-0.230965629220009,0.002024984918535,-0.060928761959076,0.009521371684968,-0.059166785329580,0.243856072425842,-0.083055600523949,0.048832911998034));
res += mul(Get(s3,-dx,dy), float4x4(-0.156558662652969,0.079994469881058,0.020474171265960,0.166672661900520,-0.168312519788742,0.044129543006420,0.116325907409191,0.040290858596563,-0.189270243048668,0.099288351833820,-0.079665720462799,-0.029159637168050,-0.021535620093346,-0.040698267519474,0.269350737333298,-0.011175947263837));
res += mul(Get(s3,0,-dy), float4x4(-0.005874746479094,-0.015390632674098,-0.037910126149654,0.039724133908749,0.027147879824042,-0.069435790181160,-0.043577913194895,0.213477149605751,-0.018783342093229,0.110804349184036,-0.023468056693673,-0.117058925330639,0.176925629377365,0.066911332309246,-0.100089728832245,0.125698536634445));
res += mul(Get(s3,0,0), float4x4(0.100141718983650,0.126875922083855,0.141249164938927,-0.061440855264664,-0.074659556150436,0.079110272228718,-0.067874640226364,0.067302398383617,-0.048537634313107,-0.039699796587229,-0.055819738656282,0.272955089807510,-0.070744782686234,-0.123812653124332,0.252498656511307,0.254821181297302));
res += mul(Get(s3,0,dy), float4x4(0.168545722961426,0.075052827596664,0.074263982474804,0.116610847413540,0.026480101048946,0.070082336664200,-0.078758150339127,-0.040679089725018,-0.172943025827408,-0.148205891251564,0.105817712843418,0.111105002462864,0.057971227914095,0.091652557253838,-0.125841647386551,-0.099379226565361));
res += mul(Get(s3,dx,-dy), float4x4(-0.061065815389156,0.139152646064758,0.158023387193680,-0.084832578897476,-0.099020905792713,0.350366324186325,0.014268046244979,-0.199671849608421,0.000328429538058,-0.059774648398161,0.034638851881027,0.147418439388275,-0.112006992101669,-0.015899289399385,-0.013400713913143,0.013934627175331));
res += mul(Get(s3,dx,0), float4x4(0.064689904451370,-0.028691664338112,0.159888923168182,-0.093502469360828,-0.198876440525055,-0.054234299808741,0.309427231550217,0.111032441258430,0.086403436958790,-0.223335891962051,0.074254728853703,-0.038707517087460,0.095621019601822,0.105929262936115,0.025850107893348,0.004887426737696));
res += mul(Get(s3,dx,dy), float4x4(-0.035118650645018,-0.172980055212975,0.105576843023300,0.049296434968710,0.010430268011987,-0.051796503365040,0.034507915377617,-0.072219766676426,-0.107125848531723,0.104074075818062,0.056514859199524,-0.074076138436794,-0.043057579547167,0.141203343868256,-0.088092707097530,0.096244044601917));
return max(float4(0,0,0,0), res);
}
