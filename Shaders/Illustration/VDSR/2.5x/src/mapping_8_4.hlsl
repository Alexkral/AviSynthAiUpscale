sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.103210911154747,-0.117648951709270,-0.091402910649776,0.204217955470085,-0.183962017297745,-0.048025347292423,-0.238778710365295,-0.177862942218781,-0.079766847193241,-0.029837654903531,-0.092355109751225,-0.156305402517319,0.082308031618595,0.015163073316216,-0.237203821539879,-0.063290908932686));
res += mul(Get(s0,-dx,0), float4x4(-0.083629421889782,-0.106525912880898,-0.078721351921558,-0.063717998564243,0.185896918177605,-0.160751998424530,-0.098547376692295,-0.154796466231346,0.220525130629539,-0.030729109421372,-0.019897418096662,-0.119579598307610,-0.015134876593947,-0.143930613994598,-0.278382986783981,0.089537888765335));
res += mul(Get(s0,-dx,dy), float4x4(0.097193390130997,-0.075866162776947,0.031825762242079,-0.121856108307838,0.057031948119402,-0.054397191852331,-0.042421985417604,-0.074441760778427,-0.066994354128838,-0.060519713908434,0.200907245278358,-0.236122220754623,0.041368350386620,0.110571205615997,-0.122252255678177,0.158430516719818));
res += mul(Get(s0,0,-dy), float4x4(0.166406750679016,-0.021422937512398,-0.116044037044048,0.034728940576315,-0.102201104164124,0.177981823682785,-0.149649545550346,-0.111381344497204,-0.027951123192906,0.040488157421350,-0.143827363848686,-0.029770627617836,-0.172249838709831,0.063323758542538,0.068043909966946,0.214438155293465));
res += mul(Get(s0,0,0), float4x4(0.033323630690575,0.008692248724401,-0.011870468966663,-0.133391633629799,-0.009350007399917,-0.138119995594025,-0.131894096732140,-0.068284541368484,-0.016377635300159,-0.063138738274574,-0.048489995300770,-0.121818713843822,-0.094922617077827,-0.134620472788811,0.059701208025217,0.161382183432579));
res += mul(Get(s0,0,dy), float4x4(-0.041425742208958,0.131725877523422,-0.069596692919731,-0.103780433535576,-0.082134924829006,-0.129712983965874,0.014650639146566,-0.113028131425381,-0.063984110951424,-0.080677725374699,0.169985145330429,-0.156518697738647,0.201082244515419,0.201843604445457,0.110610961914063,-0.143047899007797));
res += mul(Get(s0,dx,-dy), float4x4(0.051572259515524,-0.006975520867854,-0.151284947991371,-0.077004186809063,-0.134792968630791,0.107769586145878,-0.043715286999941,-0.068464107811451,0.021774780005217,0.242507174611092,-0.069317266345024,-0.048835188150406,-0.176321983337402,-0.042707048356533,0.064778521656990,0.142007157206535));
res += mul(Get(s0,dx,0), float4x4(0.047996483743191,0.029480213299394,-0.075686834752560,-0.148860514163971,-0.205654755234718,-0.077734492719173,-0.061917219310999,-0.005540790036321,0.120971269905567,-0.049763347953558,-0.086458854377270,-0.085300192236900,0.042947370558977,-0.216161563992500,0.133150309324265,-0.023745628073812));
res += mul(Get(s0,dx,dy), float4x4(0.047175776213408,-0.067032389342785,-0.223019793629646,-0.226499587297440,0.102493517100811,0.269938677549362,-0.102650254964828,-0.015063333325088,-0.112372823059559,0.017691813409328,-0.101513631641865,-0.119947709143162,0.252980560064316,0.059094369411469,0.092882275581360,-0.150834083557129));
res += mul(Get(s1,-dx,-dy), float4x4(-0.066992394626141,0.093239217996597,-0.028028421103954,-0.082475908100605,-0.126161530613899,-0.281128197908401,0.153782516717911,0.120561741292477,-0.075722172856331,-0.262102782726288,-0.072745285928249,-0.005856483709067,-0.014387378469110,0.113247036933899,0.026921231299639,-0.195386588573456));
res += mul(Get(s1,-dx,0), float4x4(-0.003196807811037,0.106207959353924,-0.039867643266916,-0.014539914205670,0.055754020810127,0.065426088869572,0.088444083929062,0.062160268425941,-0.092308282852173,-0.175529435276985,-0.008129795081913,-0.056274820119143,0.108961030840874,0.293351083993912,0.133950144052505,0.029428994283080));
res += mul(Get(s1,-dx,dy), float4x4(0.004332326818258,-0.071271322667599,-0.065172828733921,0.112122893333435,0.091278411448002,0.012672280892730,0.152673512697220,-0.128926828503609,0.022575002163649,-0.291973650455475,0.157934725284576,-0.087721526622772,0.111438311636448,0.311086058616638,-0.036704093217850,-0.143347084522247));
res += mul(Get(s1,0,-dy), float4x4(-0.037712823599577,0.140208750963211,0.172607094049454,-0.094528362154961,-0.049139115959406,-0.137360781431198,-0.034877993166447,0.129516139626503,-0.040874239057302,-0.101617313921452,-0.074097052216530,0.544641196727753,-0.080427281558514,0.043388124555349,0.017408082261682,0.199569851160049));
res += mul(Get(s1,0,0), float4x4(0.021470306441188,-0.091917626559734,0.006526328157634,0.199254140257835,-0.005347558297217,0.109672926366329,-0.012488726526499,0.043640263378620,-0.093089297413826,0.146537274122238,-0.064025878906250,0.001077851629816,-0.049250338226557,-0.037731844931841,0.141918554902077,0.177555173635483));
res += mul(Get(s1,0,dy), float4x4(-0.043779175728559,-0.101334623992443,-0.139054268598557,0.040063180029392,0.166125774383545,0.078403852880001,0.158096998929977,-0.114028938114643,0.075067773461342,0.144426628947258,-0.079339213669300,-0.052684795111418,0.052621785551310,0.114159971475601,-0.020080937072635,0.139027088880539));
res += mul(Get(s1,dx,-dy), float4x4(-0.245289668440819,0.139634341001511,0.016084281727672,0.007310664281249,0.010188007727265,-0.032324947416782,-0.078415751457214,0.191795960068703,0.050691619515419,-0.055655743926764,0.017065396532416,0.194702148437500,-0.077305652201176,-0.051038514822721,-0.074315123260021,0.012874609790742));
res += mul(Get(s1,dx,0), float4x4(-0.151559412479401,-0.135502770543098,0.173501983284950,0.135025814175606,-0.028426980599761,0.245928496122360,-0.024653617292643,0.038477156311274,0.036334812641144,0.022584512829781,0.047106713056564,-0.013933199457824,-0.055443547666073,0.027812991291285,-0.045232415199280,-0.102755084633827));
res += mul(Get(s1,dx,dy), float4x4(-0.043099407106638,-0.159714147448540,-0.043359801173210,0.183897808194160,0.077289946377277,-0.057649377733469,0.153635293245316,0.082981958985329,0.181075155735016,0.180483892560005,-0.053252037614584,0.060601942241192,0.179802671074867,-0.028159730136395,0.312780678272247,-0.038948398083448));
res += mul(Get(s2,-dx,-dy), float4x4(-0.093400292098522,-0.258735984563828,-0.048925675451756,-0.139350891113281,-0.124944388866425,-0.064829029142857,0.128407925367355,-0.055492971092463,0.079819701611996,0.018372742459178,-0.019411066547036,0.042997054755688,0.005289932712913,-0.017464024946094,0.131072342395782,0.022543627768755));
res += mul(Get(s2,-dx,0), float4x4(-0.008137289434671,-0.066378571093082,-0.044480472803116,0.023200530558825,0.045060776174068,0.044999968260527,0.165997564792633,-0.137649863958359,-0.030657324939966,0.094194710254669,0.023555057123303,0.074918769299984,-0.030539700761437,-0.009157064370811,0.023333737626672,0.176212266087532));
res += mul(Get(s2,-dx,dy), float4x4(0.010593234561384,-0.022868067026138,0.101480551064014,-0.017783358693123,-0.047821428626776,-0.116723932325840,-0.061896897852421,-0.128097087144852,0.149496987462044,0.199934646487236,0.007112199906260,-0.097039923071861,0.053225863724947,-0.072089299559593,0.096096232533455,0.008304815739393));
res += mul(Get(s2,0,-dy), float4x4(0.208432361483574,-0.186363637447357,-0.086900927126408,0.062154497951269,-0.082751907408237,0.189851522445679,-0.001075459644198,0.045371714979410,0.211902543902397,0.079263485968113,0.057796627283096,0.147483959794044,-0.025861458852887,0.023229047656059,0.089496329426765,0.110749147832394));
res += mul(Get(s2,0,0), float4x4(-0.025338772684336,-0.034794863313437,0.035604029893875,0.007898544892669,0.066692419350147,-0.029622923582792,0.288878500461578,-0.055198770016432,-0.037620864808559,-0.071790426969528,0.098344959318638,0.045121882110834,-0.002389571629465,0.026983778923750,0.025064896792173,-0.046766575425863));
res += mul(Get(s2,0,dy), float4x4(-0.023459551855922,-0.024015413597226,-0.033047012984753,0.040031086653471,-0.051102906465530,-0.134461045265198,-0.075956389307976,-0.038874328136444,-0.003728037001565,0.055660836398602,0.075465328991413,-0.019604194909334,0.162227600812912,0.065132774412632,-0.027262425050139,-0.166841566562653));
res += mul(Get(s2,dx,-dy), float4x4(0.279425799846649,-0.193616583943367,0.128549262881279,0.065960563719273,-0.154234945774078,0.401284605264664,-0.140345171093941,0.040180314332247,0.010305913165212,-0.012491687200963,0.034594520926476,-0.037393189966679,-0.107349686324596,0.293881416320801,0.237915128469467,0.088493674993515));
res += mul(Get(s2,dx,0), float4x4(0.043998975306749,-0.007801345083863,-0.011399276554585,-0.149803251028061,-0.024802695959806,-0.187980920076370,0.143016964197159,-0.005309946835041,0.084875471889973,0.067084357142448,0.122110851109028,0.029871150851250,0.028551299124956,0.080436959862709,0.161945298314095,0.194880470633507));
res += mul(Get(s2,dx,dy), float4x4(-0.047105263918638,-0.022974580526352,0.007423625327647,0.027028709650040,-0.111032947897911,-0.040818855166435,-0.106020793318748,0.051832348108292,0.016457356512547,0.178674891591072,0.051227301359177,-0.111375167965889,-0.034135345369577,0.084829300642014,0.145758405327797,-0.049468848854303));
res += mul(Get(s3,-dx,-dy), float4x4(0.204626843333244,0.109665140509605,0.349454760551453,-0.020606840029359,0.200907632708549,-0.036312367767096,0.002497863257304,-0.055769015103579,-0.072408124804497,-0.002266550436616,-0.208752900362015,-0.031299870461226,-0.057055186480284,-0.198146551847458,-0.205115199089050,0.171013325452805));
res += mul(Get(s3,-dx,0), float4x4(0.157169282436371,0.034329481422901,0.095050387084484,0.060982033610344,-0.138195022940636,0.379155367612839,-0.064059801399708,0.030475443229079,-0.109751641750336,-0.129859164357185,-0.119823522865772,-0.076666004955769,-0.080966517329216,-0.076622650027275,-0.122665897011757,0.081071294844151));
res += mul(Get(s3,-dx,dy), float4x4(0.141798034310341,0.083365269005299,0.126829504966736,-0.055343635380268,-0.079606875777245,0.073386207222939,0.083251394331455,0.100853994488716,0.039245318621397,-0.026423715054989,0.060212705284357,-0.191890120506287,0.179456472396851,-0.178534641861916,-0.186349123716354,0.214324131608009));
res += mul(Get(s3,0,-dy), float4x4(0.103994272649288,0.180377826094627,0.182891175150871,0.008293470367789,-0.039164781570435,0.026953216642141,0.082104913890362,-0.007993602193892,0.027877517044544,0.028992949053645,0.002944818930700,0.012529906816781,-0.104488492012024,-0.152496367692947,-0.168171301484108,0.206570118665695));
res += mul(Get(s3,0,0), float4x4(0.003210871480405,0.059714369475842,0.225443959236145,0.119082517921925,-0.178615540266037,0.109495654702187,-0.005978843662888,0.016610328108072,-0.026152681559324,-0.021180940791965,0.063597589731216,-0.017848815768957,-0.033166810870171,0.329092919826508,-0.129592865705490,-0.017426842823625));
res += mul(Get(s3,0,dy), float4x4(0.097407616674900,0.129241868853569,0.293137907981873,-0.129427820444107,-0.004840321373194,-0.000512418686412,-0.087435767054558,0.070793807506561,0.030118698254228,0.291016846895218,-0.173743009567261,-0.135534435510635,0.018505113199353,-0.075466498732567,-0.115337803959846,-0.047085918486118));
res += mul(Get(s3,dx,-dy), float4x4(-0.149196088314056,-0.143274381756783,-0.073077246546745,0.138828262686729,0.490512758493423,0.074355691671371,-0.073565289378166,0.084663189947605,0.060487538576126,-0.005874593742192,-0.037119999527931,0.004177120514214,0.112211644649506,-0.148629128932953,-0.143842548131943,0.193675234913826));
res += mul(Get(s3,dx,0), float4x4(-0.114457234740257,-0.203870281577110,0.114993453025818,0.081189788877964,0.144217476248741,0.221428036689758,-0.158130541443825,-0.151700332760811,-0.094725109636784,0.027614079415798,0.040535718202591,-0.045813590288162,-0.025692483410239,0.181561633944511,-0.167199164628983,0.063703164458275));
res += mul(Get(s3,dx,dy), float4x4(0.014737524092197,-0.037294894456863,0.086682491004467,-0.126545906066895,0.002361677354202,-0.095388770103455,-0.205419048666954,-0.002612476702780,-0.079160265624523,0.033109139651060,0.038214869797230,-0.076416216790676,0.091462217271328,-0.202516362071037,-0.199249178171158,-0.078332029283047));
return max(float4(0,0,0,0), res);
}
