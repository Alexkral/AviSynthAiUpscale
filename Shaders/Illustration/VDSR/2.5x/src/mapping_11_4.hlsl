sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.051613770425320,-0.097755685448647,0.053896125406027,-0.242207169532776,0.023688070476055,0.225470319390297,-0.062578700482845,0.143875837326050,0.030559698119760,-0.012720173224807,-0.167001366615295,-0.142144486308098,-0.060058105736971,-0.095982223749161,-0.074507072567940,0.042365681380033));
res += mul(Get(s0,-dx,0), float4x4(0.028273005038500,0.013273501768708,-0.106356732547283,-0.020850310102105,0.019636195152998,0.190900236368179,-0.199524879455566,-0.042887777090073,-0.052239805459976,0.041406113654375,0.042713616043329,0.056800276041031,0.017979519441724,0.144303455948830,0.013979306444526,-0.016618438065052));
res += mul(Get(s0,-dx,dy), float4x4(0.092365339398384,-0.141622871160507,-0.206729546189308,0.068626925349236,-0.335120618343353,-0.095329537987709,0.165547445416451,0.063448302447796,0.023675005882978,0.186305940151215,-0.115227513015270,-0.043810993432999,0.160880714654922,0.053418945521116,0.126697957515717,0.056370154023170));
res += mul(Get(s0,0,-dy), float4x4(-0.184615984559059,-0.101334370672703,0.009011430665851,-0.076267927885056,-0.160933345556259,0.006631805561483,-0.014484488405287,-0.009171579964459,-0.041430991142988,-0.050414778292179,-0.015405822545290,-0.064319446682930,-0.020094119012356,-0.052300978451967,0.068580769002438,0.208440810441971));
res += mul(Get(s0,0,0), float4x4(0.260613739490509,-0.049909140914679,0.052701819688082,-0.076946340501308,-0.136978641152382,-0.112148709595203,0.039549972862005,-0.032122638076544,0.075230896472931,-0.065039187669754,0.054679546505213,0.054568525403738,0.063194595277309,0.037338465452194,0.134942308068275,0.012227962724864));
res += mul(Get(s0,0,dy), float4x4(-0.052883345633745,0.138726800680161,-0.174827307462692,0.126584321260452,-0.069396048784256,-0.123387850821018,0.138067528605461,-0.033074088394642,0.071013577282429,0.228678315877914,-0.069444172084332,-0.034251049160957,0.076739676296711,0.052626091986895,-0.038923006504774,0.020191194489598));
res += mul(Get(s0,dx,-dy), float4x4(-0.075777620077133,-0.079325556755066,0.157055571675301,0.180564567446709,-0.123206235468388,-0.198430553078651,0.153775036334991,0.105177044868469,0.198397666215897,0.102697074413300,0.029404707252979,0.059626210480928,0.085032224655151,-0.009638937190175,0.063181579113007,-0.050133131444454));
res += mul(Get(s0,dx,0), float4x4(0.021847557276487,0.108579836785793,-0.016195852309465,0.130590543150902,0.053737182170153,-0.076279327273369,0.099113315343857,-0.058432456105947,-0.026240084320307,-0.108941949903965,0.063053525984287,-0.003931700251997,-0.162845447659492,0.170728862285614,0.128555536270142,-0.005945111159235));
res += mul(Get(s0,dx,dy), float4x4(-0.147035017609596,0.031349144876003,0.077076770365238,-0.009141932241619,0.041977148503065,0.045267757028341,0.107951141893864,0.142898738384247,0.053287122398615,-0.088895298540592,-0.083079002797604,0.153180137276649,-0.026428464800119,0.094928294420242,0.021743001416326,0.071020126342773));
res += mul(Get(s1,-dx,-dy), float4x4(-0.097581572830677,0.063711121678352,0.109459511935711,-0.196838527917862,-0.152159363031387,-0.115800336003304,-0.016587538644671,-0.152067974209785,0.029070502147079,0.149303242564201,0.085407622158527,-0.086097426712513,0.095249153673649,0.054530035704374,0.035461883991957,-0.070395722985268));
res += mul(Get(s1,-dx,0), float4x4(0.091620631515980,0.051320672035217,-0.069653272628784,0.076521836221218,0.104176402091980,-0.083283565938473,-0.189636647701263,0.041313383728266,0.000717604765669,-0.097869314253330,0.021139333024621,0.096454016864300,-0.013054727576673,0.075166687369347,-0.079131685197353,0.008352460339665));
res += mul(Get(s1,-dx,dy), float4x4(0.036571618169546,0.050465986132622,-0.101367861032486,0.114083141088486,-0.008773565292358,-0.003207788802683,0.109544187784195,-0.154694944620132,0.017828876152635,0.197981804609299,0.010590782389045,0.061085026711226,0.016693454235792,0.042547889053822,-0.050996106117964,0.110134825110435));
res += mul(Get(s1,0,-dy), float4x4(0.105467788875103,-0.153531581163406,0.149764895439148,-0.042462185025215,-0.072502322494984,-0.134009048342705,-0.040792454034090,0.063559249043465,-0.072574980556965,0.210280656814575,0.034267976880074,0.004628988448530,0.057085298001766,0.143836751580238,0.023611100390553,-0.055769946426153));
res += mul(Get(s1,0,0), float4x4(0.048614088445902,-0.020551573485136,0.071326248347759,-0.081155367195606,-0.014845052734017,0.026955720037222,-0.030103169381618,-0.143145546317101,0.045195855200291,0.001855325768702,0.079063355922699,-0.007322402670979,0.057926815003157,0.146863728761673,0.007825205102563,-0.033417873084545));
res += mul(Get(s1,0,dy), float4x4(0.091575130820274,0.101171411573887,0.001676145941019,0.006305892951787,-0.075919471681118,0.021717697381973,0.033280551433563,-0.157454669475555,-0.083374299108982,0.060559265315533,0.122956603765488,-0.030401827767491,-0.098273865878582,-0.087303474545479,0.079224877059460,-0.227358579635620));
res += mul(Get(s1,dx,-dy), float4x4(0.130352333188057,0.054760366678238,-0.038139212876558,0.033215183764696,0.105065554380417,-0.082839451730251,-0.008791449479759,-0.030721152201295,-0.133332848548889,-0.000900319253560,0.095345251262188,-0.028469342738390,0.124418497085571,-0.019883960485458,0.209393739700317,-0.049063120037317));
res += mul(Get(s1,dx,0), float4x4(-0.132614240050316,0.103502839803696,0.150147601962090,0.117108911275864,0.132833272218704,-0.007701905909926,0.050160087645054,0.070637978613377,-0.106259159743786,0.149333894252777,0.002037590369582,-0.036284849047661,0.065148770809174,0.045811235904694,-0.272350877523422,0.180278941988945));
res += mul(Get(s1,dx,dy), float4x4(0.051140710711479,0.272379040718079,0.088360227644444,0.035170435905457,0.062307335436344,-0.090378716588020,-0.251265078783035,0.054247055202723,-0.017665777355433,0.153450861573219,0.008998283185065,-0.080615252256393,0.042597677558661,-0.090752951800823,0.020715888589621,-0.007728994358331));
res += mul(Get(s2,-dx,-dy), float4x4(0.028149494901299,-0.136918440461159,0.069396287202835,0.024158179759979,-0.022979388013482,0.069143101572990,0.142629131674767,-0.172610640525818,0.141308471560478,-0.119743376970291,0.022668253630400,0.057471685111523,-0.052355378866196,0.110133990645409,0.127155035734177,0.072823442518711));
res += mul(Get(s2,-dx,0), float4x4(0.002302655251697,0.028341423720121,0.024756532162428,-0.116586908698082,-0.126908719539642,0.168896615505219,0.135524615645409,0.172101825475693,0.043701473623514,0.039074763655663,0.143224105238914,-0.106660909950733,-0.265648275613785,0.214114695787430,-0.042538780719042,0.012190529145300));
res += mul(Get(s2,-dx,dy), float4x4(-0.174612909555435,-0.080505043268204,-0.128633067011833,-0.036638125777245,0.034096714109182,-0.054719090461731,0.072056986391544,0.033623993396759,-0.066178508102894,0.076164439320564,0.175612658262253,-0.036967307329178,-0.104407235980034,-0.129255428910255,-0.020258285105228,0.010120011866093));
res += mul(Get(s2,0,-dy), float4x4(-0.077736124396324,-0.120248846709728,0.122606061398983,-0.108873017132282,0.091776348650455,0.078158728778362,-0.084978491067886,0.081869080662727,0.001363826915622,-0.008296786807477,0.175868466496468,-0.085817053914070,-0.000284408568405,-0.043897610157728,-0.026829795911908,-0.103776670992374));
res += mul(Get(s2,0,0), float4x4(-0.120775170624256,-0.080532908439636,0.036047060042620,0.036208279430866,0.028200311586261,-0.034294683486223,0.053301293402910,-0.047177962958813,-0.115539371967316,-0.174389287829399,0.118227891623974,0.045318238437176,-0.144155547022820,0.053793907165527,-0.078545548021793,-0.137517437338829));
res += mul(Get(s2,0,dy), float4x4(0.078377716243267,-0.020694902166724,-0.095151051878929,0.095905944705009,-0.028725000098348,-0.104977682232857,0.162443995475769,-0.116374693810940,-0.026255743578076,-0.044922839850187,-0.099983170628548,-0.043680571019650,-0.217878177762032,0.000855995342135,-0.037037316709757,-0.231467083096504));
res += mul(Get(s2,dx,-dy), float4x4(-0.008674183860421,-0.021826636046171,-0.070910863578320,-0.115146033465862,0.115738384425640,-0.159605562686920,-0.116317845880985,0.062996678054333,-0.138322576880455,0.030757879838347,-0.173968419432640,0.024521656334400,-0.080809377133846,-0.113331340253353,0.084098279476166,-0.158405870199203));
res += mul(Get(s2,dx,0), float4x4(-0.078643344342709,-0.013525176793337,0.085584342479706,-0.060537256300449,-0.239648059010506,0.015114570967853,-0.028043212369084,-0.124694541096687,-0.215311720967293,0.108567915856838,-0.006262984592468,-0.185000389814377,0.103804282844067,-0.209358140826225,0.140422403812408,0.009463959373534));
res += mul(Get(s2,dx,dy), float4x4(0.188751161098480,-0.038936633616686,-0.137076273560524,-0.141052678227425,0.028784375637770,-0.140134856104851,0.238966658711433,-0.097147397696972,0.067422464489937,-0.004918931517750,-0.125579386949539,0.067837759852409,0.372802346944809,-0.048357266932726,0.038500048220158,0.290121406316757));
res += mul(Get(s3,-dx,-dy), float4x4(-0.016166038811207,0.041848067194223,-0.012129189446568,-0.068919457495213,-0.038501240313053,0.157689213752747,-0.023964477702975,-0.213072791695595,0.227633908390999,0.018948545679450,-0.113545738160610,-0.021228922531009,0.003208219073713,-0.135946512222290,0.124548979103565,-0.051468968391418));
res += mul(Get(s3,-dx,0), float4x4(-0.212477162480354,-0.186652719974518,-0.022350465878844,-0.029458152130246,-0.086074709892273,-0.027690203860402,-0.144243657588959,-0.069484554231167,0.188230559229851,0.277061134576797,0.165170982480049,0.143931284546852,-0.212289333343506,-0.195888325572014,0.111864820122719,0.167572319507599));
res += mul(Get(s3,-dx,dy), float4x4(0.119288638234138,-0.119556836783886,0.124519750475883,0.024436891078949,-0.056184008717537,0.147057101130486,-0.062846511602402,-0.075517527759075,0.044479247182608,0.043756730854511,-0.113748475909233,0.021226199343801,-0.088951401412487,0.075042456388474,-0.125907033681870,-0.082433640956879));
res += mul(Get(s3,0,-dy), float4x4(0.192940354347229,0.007208378519863,-0.137519285082817,0.183949485421181,-0.101917050778866,0.027922140434384,-0.029310116544366,-0.144719988107681,-0.011329405009747,-0.055820859968662,0.110742047429085,0.061242409050465,-0.123371928930283,-0.038694813847542,-0.065455265343189,-0.033454038202763));
res += mul(Get(s3,0,0), float4x4(0.138011023402214,-0.106626115739346,-0.033633168786764,0.017894886434078,0.087155781686306,0.174052461981773,0.028067314997315,-0.011890732683241,-0.073287583887577,0.114417068660259,-0.183047398924828,0.214353322982788,-0.068372890353203,0.017522361129522,0.072173699736595,-0.105887219309807));
res += mul(Get(s3,0,dy), float4x4(-0.041184414178133,-0.031771462410688,0.205334171652794,0.057470027357340,0.127175629138947,0.173653349280357,-0.042985484004021,0.134228378534317,-0.055442564189434,0.027589272707701,0.038598634302616,-0.158570498228073,-0.007977796718478,0.077367901802063,-0.012950191274285,0.110955983400345));
res += mul(Get(s3,dx,-dy), float4x4(-0.082534514367580,-0.070367574691772,0.142041012644768,-0.088390603661537,0.083924964070320,-0.234696134924889,0.168692320585251,0.013055477291346,-0.035059448331594,-0.032863557338715,-0.121796928346157,0.108726657927036,-0.111573152244091,0.026985540986061,0.104683741927147,0.059668999165297));
res += mul(Get(s3,dx,0), float4x4(0.121079638600349,0.053070727735758,0.044775813817978,0.074652776122093,0.294547259807587,-0.112198151648045,0.148205846548080,0.104024454951286,-0.062843956053257,-0.041789572685957,0.037822052836418,0.156557649374008,-0.163857236504555,0.019854260608554,-0.147935166954994,-0.030063571408391));
res += mul(Get(s3,dx,dy), float4x4(0.050548173487186,-0.249701231718063,-0.013359433040023,-0.024805534631014,0.109993994235992,0.157165244221687,0.061406608670950,-0.040664184838533,0.125937372446060,-0.033429808914661,0.118051037192345,0.203108429908752,-0.065751098096371,0.079791754484177,0.172980621457100,0.129681810736656));
return max(float4(0,0,0,0), res);
}
