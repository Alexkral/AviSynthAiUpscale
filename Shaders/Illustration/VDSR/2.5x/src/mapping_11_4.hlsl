sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.099292322993279,-0.254164904356003,0.001906717545353,0.150832787156105,-0.122758127748966,-0.048176795244217,-0.129417926073074,0.108827486634254,-0.025274971500039,-0.136434108018875,0.229658186435699,-0.188912466168404,0.119745261967182,-0.080624118447304,-0.038087408989668,-0.053778320550919));
res += mul(Get(s0,-dx,0), float4x4(0.036796122789383,0.077843390405178,-0.001073403167538,-0.066064447164536,0.073076754808426,0.038044191896915,0.048217669129372,-0.061279054731131,0.019550660625100,-0.143651485443115,-0.012157777324319,-0.134547874331474,0.056920405477285,0.000947713328060,-0.079554751515388,-0.054332356899977));
res += mul(Get(s0,-dx,dy), float4x4(0.013625349849463,-0.043290164321661,0.084004156291485,0.188902288675308,0.208724662661552,-0.033572554588318,-0.192938566207886,-0.068814352154732,0.023518377915025,0.099520936608315,0.023308897390962,-0.105304785072803,-0.016951262950897,-0.016374820843339,0.017293576151133,-0.121427431702614));
res += mul(Get(s0,0,-dy), float4x4(-0.115926481783390,-0.401811629533768,0.337337583303452,0.082489982247353,0.009277599863708,-0.157324820756912,-0.175287157297134,0.072169393301010,-0.035832393914461,0.050570096820593,0.216170415282249,-0.015526043251157,0.093922428786755,-0.106239438056946,-0.061145361512899,-0.036346640437841));
res += mul(Get(s0,0,0), float4x4(-0.161962553858757,0.195120200514793,-0.056310728192329,-0.192424759268761,-0.050667457282543,0.022876380011439,0.037433411926031,-0.065236963331699,-0.037691511213779,0.027285860851407,0.084465347230434,0.100457690656185,0.083165973424911,0.008625418879092,0.005130500067025,0.029426008462906));
res += mul(Get(s0,0,dy), float4x4(-0.124717608094215,0.362623691558838,-0.057028021663427,0.169164776802063,-0.015627991408110,0.017774326726794,-0.108660392463207,0.088273569941521,0.060695827007294,0.095882058143616,-0.033008810132742,0.049608759582043,-0.055825326591730,0.005059325601906,-0.006350717041641,-0.109457507729530));
res += mul(Get(s0,dx,-dy), float4x4(0.156115233898163,-0.082181617617607,0.066718183457851,-0.044251367449760,-0.152696162462234,-0.031527593731880,-0.140333026647568,0.002638998441398,-0.024604167789221,0.066511914134026,0.103599205613136,0.034521602094173,0.281800925731659,-0.079731941223145,-0.052280496805906,0.049444373697042));
res += mul(Get(s0,dx,0), float4x4(0.012074329890311,0.044749293476343,0.123939670622349,0.097758822143078,-0.048730265349150,0.055698163807392,-0.007225463632494,0.092769458889961,-0.044585086405277,-0.045054342597723,0.030229981988668,-0.102767042815685,-0.158322796225548,0.048752099275589,0.047809381037951,0.034926895052195));
res += mul(Get(s0,dx,dy), float4x4(-0.061946272850037,0.215671226382256,-0.044652678072453,0.454797059297562,-0.043844982981682,0.144576072692871,-0.036144003272057,0.035378757864237,0.103344857692719,0.049227643758059,0.130852818489075,-0.041268255561590,-0.169414386153221,-0.069077320396900,0.135081395506859,-0.006111834198236));
res += mul(Get(s1,-dx,-dy), float4x4(0.019665617495775,-0.129623696208000,0.101996466517448,-0.102474249899387,-0.029707428067923,-0.176685228943825,0.201765120029449,0.116891786456108,0.017980258911848,-0.143954068422318,0.057309806346893,0.185447871685028,0.101575307548046,-0.005788268987089,-0.068391948938370,0.048227947205305));
res += mul(Get(s1,-dx,0), float4x4(-0.158283323049545,-0.110741212964058,0.072639130055904,0.088248066604137,-0.144244059920311,0.084370680153370,-0.034317485988140,-0.022953651845455,0.064588360488415,0.149168208241463,0.075083620846272,0.109823286533356,0.129461944103241,-0.039161007851362,-0.137446105480194,-0.042108424007893));
res += mul(Get(s1,-dx,dy), float4x4(-0.039996687322855,-0.077271051704884,0.141556173563004,0.053430300205946,-0.072289362549782,0.143966630101204,0.053374227136374,0.082898721098900,0.082572959363461,0.139462321996689,0.083990126848221,0.220108330249786,0.118626415729523,0.237268924713135,0.094754397869110,-0.050626002252102));
res += mul(Get(s1,0,-dy), float4x4(-0.116245694458485,-0.006633890327066,-0.172595635056496,-0.084664553403854,-0.020535230636597,-0.099583931267262,0.043033771216869,-0.199026569724083,-0.007285614497960,0.045815896242857,-0.035287700593472,-0.040470778942108,0.008068359456956,-0.121742032468319,0.065914168953896,0.155365303158760));
res += mul(Get(s1,0,0), float4x4(-0.219537854194641,-0.034497112035751,-0.150301992893219,-0.175757393240929,-0.061130277812481,-0.007304570637643,-0.077864766120911,-0.110298983752728,-0.090727224946022,0.140138328075409,0.035633236169815,-0.044871166348457,-0.088100664317608,0.098454065620899,0.068830534815788,-0.070642367005348));
res += mul(Get(s1,0,dy), float4x4(-0.161455541849136,-0.054811716079712,0.028260773047805,-0.116697095334530,0.118852838873863,0.066781915724277,-0.065580345690250,0.003032622160390,-0.091055057942867,0.203999951481819,-0.070552214980125,-0.054734151810408,-0.109224215149879,0.119598142802715,0.007034447975457,-0.003962961491197));
res += mul(Get(s1,dx,-dy), float4x4(0.264780014753342,-0.040110852569342,0.067683942615986,0.029255665838718,-0.089387811720371,-0.055005379021168,-0.047265861183405,-0.168483600020409,-0.051662854850292,-0.026927290484309,0.081100016832352,0.202538907527924,0.102646209299564,0.036027573049068,0.028736408799887,0.027708305045962));
res += mul(Get(s1,dx,0), float4x4(0.064473927021027,-0.056930553168058,-0.186266079545021,0.152510285377502,0.042881891131401,-0.055181019008160,-0.025630133226514,-0.169276118278503,-0.047114986926317,0.104343347251415,-0.011381740681827,0.012635082937777,-0.045168347656727,0.038220122456551,0.097635641694069,-0.107053488492966));
res += mul(Get(s1,dx,dy), float4x4(0.045431576669216,-0.024166945368052,0.080149635672569,0.072969540953636,0.173414587974548,-0.060919586569071,-0.037411063909531,0.040853790938854,-0.137438356876373,0.112574778497219,0.003561713732779,0.111868284642696,-0.034099780023098,0.064008973538876,0.226885706186295,0.031446479260921));
res += mul(Get(s2,-dx,-dy), float4x4(0.025985341519117,-0.080995246767998,0.018769672140479,-0.034018427133560,0.174782082438469,-0.225303694605827,-0.053282108157873,-0.022507170215249,-0.001135484315455,-0.259370803833008,0.198569253087044,-0.167790338397026,0.273917585611343,-0.172191917896271,-0.135845467448235,-0.020223489031196));
res += mul(Get(s2,-dx,0), float4x4(0.003157270606607,-0.059474088251591,-0.208425819873810,-0.021935578435659,-0.025816125795245,-0.139203891158104,-0.143078565597534,-0.014625403098762,0.217337787151337,-0.100882917642593,-0.104594297707081,0.015771137550473,-0.107383392751217,-0.089030593633652,-0.026526320725679,-0.132908225059509));
res += mul(Get(s2,-dx,dy), float4x4(0.220563635230064,-0.132119953632355,-0.048901669681072,-0.110369361937046,-0.082026191055775,0.089756987988949,0.016028283163905,-0.039692740887403,0.175815701484680,-0.339073866605759,0.063592255115509,-0.061506289988756,0.006806872785091,-0.140703931450844,0.004116111434996,-0.149089246988297));
res += mul(Get(s2,0,-dy), float4x4(0.080453991889954,-0.135304331779480,0.074063085019588,0.031096018850803,0.058741975575686,-0.098406985402107,0.022477721795440,-0.027517978101969,-0.070583462715149,-0.058339100331068,0.012168971821666,-0.005097983404994,0.073139458894730,-0.068113550543785,-0.051772125065327,-0.111048780381680));
res += mul(Get(s2,0,0), float4x4(-0.001693053520285,-0.144270703196526,-0.198833212256432,0.106274448335171,0.086455531418324,-0.276198774576187,-0.079297952353954,-0.030177205801010,0.128606036305428,0.111480392515659,-0.108778469264507,-0.089337930083275,0.084591016173363,-0.148924112319946,-0.049852054566145,-0.055405274033546));
res += mul(Get(s2,0,dy), float4x4(0.062369685620070,0.000046217301133,-0.130105823278427,-0.024872947484255,0.281554967164993,-0.317105650901794,-0.059930250048637,-0.076447568833828,-0.013596072793007,-0.106864176690578,-0.126729577779770,-0.024753380566835,0.183926180005074,0.152912154793739,-0.059944022446871,-0.111831955611706));
res += mul(Get(s2,dx,-dy), float4x4(0.012176687829196,-0.120031513273716,0.060048609972000,-0.019841609522700,-0.142387375235558,-0.103663548827171,0.219941064715385,0.022380188107491,-0.080794617533684,-0.157140612602234,0.144355267286301,0.087979644536972,-0.097688570618629,-0.000213652601815,-0.039209004491568,-0.088464125990868));
res += mul(Get(s2,dx,0), float4x4(-0.150736331939697,-0.052053149789572,-0.036575566977262,0.201592251658440,-0.242002099752426,0.214139297604561,-0.045926988124847,-0.046389147639275,0.040230564773083,-0.053408514708281,-0.054020140320063,-0.004438780713826,-0.090321339666843,0.039419222623110,0.007229389622808,-0.021959932520986));
res += mul(Get(s2,dx,dy), float4x4(0.072301052510738,0.027842398732901,-0.032242238521576,0.170058295130730,0.081705227494240,0.427452981472015,-0.072059988975525,0.041648421436548,-0.153159037232399,0.153203234076500,-0.107031583786011,-0.077153734862804,0.086370430886745,0.241893976926804,-0.060405004769564,-0.152880877256393));
res += mul(Get(s3,-dx,-dy), float4x4(-0.008185636252165,0.002744336146861,0.022112129256129,0.097772054374218,0.000023346981834,-0.231294780969620,-0.047299798578024,-0.069126479327679,-0.160247877240181,-0.290284037590027,-0.054886531084776,0.059532921761274,0.147531762719154,-0.092143639922142,0.031765691936016,0.135733455419540));
res += mul(Get(s3,-dx,0), float4x4(0.091818854212761,-0.086599193513393,0.049966707825661,0.188665822148323,0.090348847210407,-0.102987952530384,-0.067194819450378,-0.004155834205449,-0.228276759386063,-0.073162332177162,0.165201619267464,0.055618286132813,0.139129221439362,-0.044600263237953,0.063395164906979,0.053528025746346));
res += mul(Get(s3,-dx,dy), float4x4(0.044068560004234,0.045610241591930,-0.001360008493066,0.027290351688862,0.020393406972289,0.138571456074715,0.018481308594346,-0.153083845973015,-0.138150200247765,0.088971599936485,0.107665337622166,-0.099972374737263,0.263576000928879,-0.021948704496026,-0.027693951502442,0.034316167235374));
res += mul(Get(s3,0,-dy), float4x4(0.096413187682629,-0.081894077360630,0.038292653858662,-0.051329158246517,0.049686651676893,-0.059983264654875,0.187032684683800,0.045231506228447,-0.077361449599266,-0.203312575817108,-0.158915087580681,0.016124142333865,0.080694213509560,0.179928004741669,0.073968723416328,0.051915924996138));
res += mul(Get(s3,0,0), float4x4(0.033465601503849,-0.064699396491051,0.039854105561972,0.135594934225082,0.006005804054439,0.049566730856895,0.023900708183646,0.116049662232399,-0.046497277915478,0.041179504245520,-0.112806357443333,0.006087318062782,0.036871027201414,0.228730067610741,0.053647149354219,0.130920648574829));
res += mul(Get(s3,0,dy), float4x4(0.014321831986308,-0.026673436164856,0.016814043745399,-0.086564823985100,0.092281967401505,-0.034943800419569,0.100305020809174,-0.029442625120282,-0.019555367529392,-0.064325094223022,-0.012456762604415,-0.189435333013535,0.146408379077911,0.114686563611031,0.068460844457150,0.105234734714031));
res += mul(Get(s3,dx,-dy), float4x4(-0.095650799572468,0.009278747253120,-0.031611699610949,-0.157566294074059,-0.058694273233414,0.072167754173279,0.005140946712345,0.052891541272402,-0.244513019919395,-0.038645893335342,0.023285249248147,0.019692121073604,0.138593003153801,-0.054126091301441,0.042587406933308,-0.038770373910666));
res += mul(Get(s3,dx,0), float4x4(0.117039188742638,0.176834464073181,-0.104601703584194,0.033131755888462,0.058574598282576,0.136195972561836,0.009370841085911,0.040805172175169,0.006723735015839,0.147406831383705,-0.013685378246009,0.047281432896852,-0.042359054088593,-0.107928954064846,-0.045079629868269,-0.011839474551380));
res += mul(Get(s3,dx,dy), float4x4(0.001147640170529,0.063789241015911,-0.031201098114252,-0.097287893295288,-0.038081008940935,0.090890601277351,-0.034853268414736,-0.029998499900103,-0.098867952823639,0.030438434332609,0.005934311542660,-0.059693600982428,0.017114050686359,0.006170942448080,-0.007594587281346,0.030869577080011));
return max(float4(0,0,0,0), res);
}
