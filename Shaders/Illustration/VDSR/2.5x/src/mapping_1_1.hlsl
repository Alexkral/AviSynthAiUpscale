sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.002011036500335,0.000188047401025,0.001099070184864,0.001089773140848,0.000251950783422,0.000647198350634,0.000124811995192,0.000984275480732,0.000343296793289,0.002497124485672,0.002896520309150,0.000972060719505,-0.003500955412164,-0.082600392401218,-0.473895043134689,0.419319331645966));
res += mul(Get(s0,-dx,0), float4x4(0.000730817264412,0.001166860107332,-0.000771499180701,0.001893757376820,0.000540534558240,0.002925271866843,0.001334617612883,0.000070517715358,-0.000418713316321,-0.001669737976044,0.000810472934972,-0.000674861483276,-0.003844746388495,0.007939749397337,-0.147619575262070,0.241793796420097));
res += mul(Get(s0,-dx,dy), float4x4(-0.000240082517848,0.000288288545562,-0.001694622333162,0.000482962670503,0.002962176455185,0.001440706313588,-0.000967273372225,0.000482597271912,0.002562927780673,0.001564430887811,0.000902535859495,0.001314532943070,-0.004206063691527,-0.494158208370209,-0.244980603456497,-0.260273754596710));
res += mul(Get(s0,0,-dy), float4x4(0.000472150568385,0.003051527775824,-0.001006580074318,-0.000426781742135,0.000734339584596,-0.000067094915721,0.001558251795359,0.000010374904377,0.002376477234066,-0.002884277608246,0.000212065904634,0.000905712833628,-0.003517078701407,-0.246009543538094,-0.175866916775703,0.161625400185585));
res += mul(Get(s0,0,0), float4x4(0.000327421701513,-0.002559250919148,0.000663481128868,-0.000388140993891,0.000788286793977,-0.000721419637557,0.002667854307219,0.000395729119191,-0.002255245344713,-0.000923500396311,0.001870654872619,0.001653719344176,-0.001045980490744,0.028620904311538,0.344426840543747,-0.182994291186333));
res += mul(Get(s0,0,dy), float4x4(0.001401958987117,0.000422652665293,0.002863286528736,-0.001713877776638,-0.001859321142547,-0.000317649100907,-0.002778823720291,0.000896424753591,0.001478696474805,0.001782909268513,-0.001858904375695,-0.000195602129679,0.002160640899092,0.196967735886574,-0.175516530871391,0.032823614776134));
res += mul(Get(s0,dx,-dy), float4x4(-0.000387346168282,-0.000193038402358,-0.000086814776296,0.001154113560915,-0.000511094520334,0.002461715135723,0.000266629533144,-0.002497417153791,0.000489374680910,-0.000495507847518,-0.000837179191876,-0.001050677732565,-0.000635593722109,0.204997792840004,-0.268863409757614,-0.103331401944160));
res += mul(Get(s0,dx,0), float4x4(-0.003541174810380,-0.001686736475676,0.000632478273474,0.001947613433003,0.000163617849466,0.001586848637089,0.001367296557873,-0.002580679953098,-0.002236342756078,-0.001119109452702,0.001230751047842,-0.001907224766910,0.001481659477577,0.208072915673256,0.472414106130600,-0.294420003890991));
res += mul(Get(s0,dx,dy), float4x4(0.000250793731539,0.000046510976972,0.000452660809970,0.001585211488418,0.001484610605985,-0.001992973266169,0.003566132625565,-0.001304417150095,0.000086350744823,0.001783641637303,-0.000945143285207,-0.000902676547412,-0.001635121065192,0.177420333027840,-0.007854608818889,0.010733667761087));
res += mul(Get(s1,-dx,-dy), float4x4(0.001072063460015,0.001175373326987,0.003052490996197,0.001022108597681,-0.001373142818920,-0.074354782700539,0.043362490832806,0.058867227286100,-0.001870455220342,-0.050437305122614,0.016838429495692,-0.253356844186783,0.000070251204306,0.002474100794643,0.002507036319003,0.000858186278492));
res += mul(Get(s1,-dx,0), float4x4(0.001175553887151,-0.001167401554994,0.001427753479220,0.000899135193322,-0.000477630179375,-0.006367798428982,-0.101518355309963,-0.215638786554337,-0.000343663734384,0.169254213571548,0.099600106477737,0.033185537904501,0.000665935105644,0.001181500381790,-0.001942486385815,0.000706700084265));
res += mul(Get(s1,-dx,dy), float4x4(0.002094350289553,0.000042694704462,0.000616695964709,-0.000180033675861,0.000212202998227,0.265740841627121,0.034087061882019,0.057446356862783,0.001167986076325,0.105412982404232,0.001539775519632,-0.091708287596703,0.000518857676070,0.001469624694437,-0.000845074187964,-0.001903973403387));
res += mul(Get(s1,0,-dy), float4x4(0.001327911741100,0.002599094528705,0.001473496551625,0.000599654333200,-0.001384116243571,0.156476378440857,0.056348651647568,0.198347702622414,-0.000984975136817,-0.065437249839306,0.060110509395599,-0.160613164305687,0.000898713769857,-0.000029141445339,0.000702105695382,-0.001796561875381));
res += mul(Get(s1,0,0), float4x4(0.000258036452578,0.001869046012871,0.003248081309721,-0.000814768427517,-0.001502865925431,0.147462204098701,-0.019590187817812,0.300571680068970,0.002911813789979,-0.012172343209386,0.175196439027786,0.407940417528152,0.002289407188073,0.001681133406237,0.000830593868159,0.000564541551284));
res += mul(Get(s1,0,dy), float4x4(0.001275526243262,0.000623736064881,0.001367739634588,-0.001480082864873,-0.000740676536225,-0.281161785125732,-0.047978557646275,-0.250210314989090,0.000432890607044,0.032604660838842,-0.095259658992290,-0.165745154023170,0.000188441932551,0.000098707125289,-0.000077159063949,-0.000563127454370));
res += mul(Get(s1,dx,-dy), float4x4(-0.000906379485969,0.000295905309031,-0.000953024718910,-0.001460676197894,-0.001162071130238,-0.369905918836594,0.091252639889717,-0.428144961595535,-0.000751847983338,-0.098813012242317,0.056025587022305,-0.093530640006065,0.002512618200853,0.001286728656851,-0.001506138010882,-0.001134209218435));
res += mul(Get(s1,dx,0), float4x4(0.002281268825755,0.001710910466500,-0.002660821424797,0.003301770426333,-0.000041468196287,0.166793867945671,0.060785856097937,0.204527795314789,-0.001308678882197,-0.156458705663681,-0.052330631762743,0.086268432438374,0.000427804770879,0.001980937551707,0.001009710715152,0.002487932331860));
res += mul(Get(s1,dx,dy), float4x4(0.000754718959797,0.000629813759588,0.002109699416906,0.000838479725644,0.001225984073244,0.016084715723991,-0.072858259081841,0.089021511375904,-0.000015528225049,0.098366849124432,-0.176773235201836,0.155287846922874,-0.000937186588999,-0.000776750384830,-0.001482769730501,-0.001730737858452));
res += mul(Get(s2,-dx,-dy), float4x4(-0.001917388755828,-0.010774801485240,-0.023178989067674,-0.135726898908615,-0.000634471478406,-0.204025447368622,-0.207345977425575,-0.341634899377823,-0.003312667831779,-0.010146848857403,-0.170977532863617,-0.140807256102562,-0.000624480075203,-0.102473422884941,0.053465824574232,0.085948593914509));
res += mul(Get(s2,-dx,0), float4x4(0.001611943473108,-0.139446496963501,-0.125260069966316,-0.413793772459030,-0.002433368237689,0.031737640500069,-0.037100281566381,0.013497564941645,0.001086401869543,0.076638922095299,-0.000075102623668,-0.205900713801384,-0.000680748315062,0.034710917621851,0.069763466715813,-0.106500223278999));
res += mul(Get(s2,-dx,dy), float4x4(-0.001585202408023,0.035428009927273,0.054564189165831,0.060969412326813,0.000399209413445,-0.005131536163390,-0.004198842216283,0.006727024912834,0.000564569549169,0.102475620806217,-0.278968155384064,0.097439825534821,0.000216026004637,-0.017394281923771,0.149600476026535,-0.052350547164679));
res += mul(Get(s2,0,-dy), float4x4(-0.003024099627510,-0.020007366314530,0.014023930765688,0.015008835121989,0.000247452320764,-0.176894783973694,0.045219961553812,-0.025649007409811,-0.000733806693461,0.047561481595039,-0.107411496341228,-0.195802733302116,-0.000139899610076,0.000446599617135,0.034611970186234,0.070463865995407));
res += mul(Get(s2,0,0), float4x4(-0.000197048517293,-0.022670051082969,-0.197898477315903,-0.247430130839348,0.000762090377975,-0.255185902118683,0.109382227063179,0.181324809789658,-0.001410336000845,0.021992143243551,0.255422472953796,-0.013029418885708,0.001232842681929,-0.134959131479263,0.038802668452263,-0.075708739459515));
res += mul(Get(s2,0,dy), float4x4(0.001172568299808,0.080028042197227,0.162454277276993,0.076490245759487,-0.001060619135387,-0.090853288769722,-0.022880077362061,-0.091613076627254,-0.000373937771656,-0.170332610607147,-0.264306515455246,-0.014311236329377,-0.003756412072107,-0.091241948306561,-0.082038424909115,-0.078771293163300));
res += mul(Get(s2,dx,-dy), float4x4(0.000057531957282,0.018350243568420,0.088371135294437,-0.357685685157776,-0.001061854301952,-0.105227597057819,-0.009594219736755,0.044544324278831,0.001132882549427,0.069901801645756,-0.106871396303177,-0.129577055573463,-0.001235835370608,-0.073782034218311,0.026191096752882,-0.054382629692554));
res += mul(Get(s2,dx,0), float4x4(0.000693850510288,0.357273668050766,-0.070808351039886,-0.082665346562862,-0.002970240777358,-0.178584158420563,-0.077855423092842,-0.026114221662283,-0.000244389753789,-0.146607905626297,0.292769849300385,0.031521331518888,-0.001168040442280,0.063147120177746,0.009447995573282,-0.131696805357933));
res += mul(Get(s2,dx,dy), float4x4(-0.000415920949308,-0.003333843545988,0.060925334692001,0.042442485690117,-0.000947181019001,-0.062964424490929,-0.194736316800117,-0.181464269757271,-0.001229048590176,-0.158997535705566,-0.201382830739021,-0.057036280632019,-0.001378754968755,0.048632025718689,-0.077286891639233,0.024084268137813));
res += mul(Get(s3,-dx,-dy), float4x4(0.000869930372573,-0.091223485767841,-0.070849016308784,-0.080105245113373,0.001006558304653,0.101027868688107,-0.137558817863464,-0.003621203824878,-0.002874894067645,-0.000871914962772,-0.000826392613817,0.000377892138204,-0.001525582396425,-0.039848480373621,0.012407547794282,0.041439890861511));
res += mul(Get(s3,-dx,0), float4x4(-0.003340626601130,-0.078681103885174,-0.072362221777439,-0.081179872155190,0.000246038951445,-0.259040325880051,-0.050958197563887,-0.094258047640324,0.002362839179114,0.001293333945796,0.000565449881833,-0.000558680389076,-0.000810843193904,-0.004720263648778,0.168838664889336,-0.020893888548017));
res += mul(Get(s3,-dx,dy), float4x4(-0.000281640968751,-0.052222348749638,-0.012212634086609,-0.107719376683235,-0.002044325927272,0.117868445813656,-0.131735056638718,0.079574003815651,0.000159003771842,0.001179621089250,-0.000287065602606,-0.001153795979917,-0.000002065598437,-0.008595369756222,0.145191967487335,0.109375745058060));
res += mul(Get(s3,0,-dy), float4x4(-0.000210438476643,-0.050386175513268,0.009866041131318,0.047831602394581,-0.001142615918070,0.146913006901741,0.008809730410576,0.105682864785194,-0.003237693803385,0.001048085629009,0.000514196581207,-0.000855885562487,-0.005113760475069,0.019902545958757,0.101401530206203,0.323595345020294));
res += mul(Get(s3,0,0), float4x4(-0.000840317516122,-0.044088389724493,0.060854785144329,-0.039073284715414,-0.003346854355186,0.212025210261345,-0.021915327757597,0.024172728881240,-0.001797216827981,0.000430473679444,-0.000165470672073,-0.001131059951149,-0.001843791105784,-0.264174044132233,-0.223505750298500,-0.367122739553452));
res += mul(Get(s3,0,dy), float4x4(-0.000418034702307,-0.079178385436535,-0.000521100766491,-0.026605688035488,-0.002358584897593,0.097533695399761,-0.060640253126621,-0.010914335027337,0.000843305839226,-0.000881788029801,-0.000360615551472,-0.002597136888653,-0.001038857502863,-0.178997024893761,0.106284178793430,-0.073645904660225));
res += mul(Get(s3,dx,-dy), float4x4(-0.001055737608112,-0.033867962658405,-0.010021830908954,-0.023463048040867,0.001098056090996,-0.134010866284370,0.048281051218510,-0.025858247652650,0.000297946069622,0.000270876334980,-0.000687985389959,-0.000563201494515,0.000699953117874,0.001009984407574,0.051822215318680,-0.020899141207337));
res += mul(Get(s3,dx,0), float4x4(0.000889579067007,-0.088405422866344,0.029057227075100,0.018811758607626,-0.001554224756546,-0.091759517788887,0.124524392187595,-0.058503787964582,0.000782555318438,0.001189374015667,-0.001405505463481,-0.000748682068661,-0.000151219472173,0.465755581855774,-0.279270261526108,-0.073311239480972));
res += mul(Get(s3,dx,dy), float4x4(-0.000145726866322,-0.054301720112562,0.004296644125134,0.016544686630368,0.000095416646218,-0.281262993812561,0.001760302344337,-0.071350619196892,0.000496409076732,-0.001384729868732,-0.000373741029762,0.000083977036411,0.000380138633773,0.001589777413756,0.142756119370461,-0.025125840678811));
return max(float4(0,0,0,0), res);
}
