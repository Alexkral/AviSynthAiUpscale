sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.095620930194855,0.138576343655586,-0.116813182830811,-0.196483463048935,0.185536012053490,0.008212009444833,-0.072216033935547,0.131215691566467,-0.074641041457653,-0.105198249220848,-0.066112287342548,0.003511340823025,-0.098268330097198,0.045760259032249,-0.097722932696342,-0.204931721091270));
res += mul(Get(s0,-dx,0), float4x4(-0.158820033073425,-0.052995141595602,-0.006215512286872,-0.036859408020973,0.040254179388285,0.219429135322571,0.074047826230526,-0.164640694856644,-0.027635611593723,0.038476552814245,-0.026634877547622,0.171378135681152,0.151593834161758,-0.031144371256232,-0.022321423515677,-0.017049226909876));
res += mul(Get(s0,-dx,dy), float4x4(-0.107255175709724,0.065479651093483,-0.051694836467505,-0.054401956498623,-0.097947642207146,0.046087779104710,-0.009995201602578,-0.131248161196709,0.089089021086693,0.105225309729576,-0.253055602312088,-0.086939707398415,-0.157682538032532,0.008808090351522,-0.047392897307873,0.053868148475885));
res += mul(Get(s0,0,-dy), float4x4(-0.156463786959648,0.170928105711937,0.142125591635704,0.015923596918583,-0.017514919862151,0.019744366407394,0.065248578786850,-0.005620245356113,0.101398617029190,0.157997176051140,0.006524608004838,-0.012891678139567,0.081887260079384,-0.210220292210579,0.233012810349464,-0.025246568024158));
res += mul(Get(s0,0,0), float4x4(0.102636486291885,-0.148621335625648,0.014080421067774,-0.179741114377975,-0.069152869284153,0.087655924260616,0.031885996460915,0.093669079244137,0.149768456816673,-0.066879428923130,-0.124681957066059,0.187004178762436,-0.064215831458569,-0.088247053325176,0.047707282006741,0.004014750476927));
res += mul(Get(s0,0,dy), float4x4(0.105418682098389,0.053843893110752,0.051956683397293,-0.218302860856056,0.021019985899329,-0.040762260556221,0.088961578905582,0.020545512437820,0.161131948232651,-0.030634958297014,-0.117010474205017,0.053368162363768,-0.021596660837531,0.004769680555910,0.004584631882608,0.031002178788185));
res += mul(Get(s0,dx,-dy), float4x4(-0.119186185300350,-0.004138067830354,-0.204698652029037,0.177628383040428,0.041916280984879,0.028821708634496,-0.037180379033089,-0.202259644865990,-0.079752229154110,-0.196044385433197,0.178494527935982,0.037087451666594,0.073539406061172,-0.007049352396280,-0.110694378614426,0.010237941518426));
res += mul(Get(s0,dx,0), float4x4(0.141041919589043,0.009325639344752,-0.070223413407803,0.096606805920601,-0.176357582211494,-0.138213694095612,0.152732893824577,0.105626665055752,-0.140047922730446,-0.072812885046005,-0.092880822718143,-0.039075609296560,-0.106725357472897,-0.020719131454825,0.114417210221291,-0.087714970111847));
res += mul(Get(s0,dx,dy), float4x4(-0.081954218447208,-0.105891264975071,0.011716687120497,0.104426123201847,0.000419640738983,0.014967514201999,-0.169082760810852,0.264986962080002,-0.118236593902111,-0.010613111779094,0.032478835433722,-0.038584146648645,0.027058338746428,-0.048128768801689,0.056515473872423,0.048458360135555));
res += mul(Get(s1,-dx,-dy), float4x4(-0.126442700624466,0.082988552749157,-0.025599582120776,-0.189277023077011,0.091182932257652,-0.090740635991096,-0.198289901018143,-0.008995420299470,-0.173363327980042,-0.181109458208084,-0.139889419078827,-0.133247748017311,0.170486956834793,-0.204406648874283,-0.111496798694134,-0.010361604392529));
res += mul(Get(s1,-dx,0), float4x4(-0.220176279544830,0.002612123731524,-0.194796010851860,0.089543573558331,0.232558578252792,-0.114932678639889,-0.169657498598099,-0.000805089133792,0.134276852011681,0.271862745285034,0.040513727813959,-0.203621983528137,-0.185258388519287,-0.081651091575623,0.027900487184525,0.067893937230110));
res += mul(Get(s1,-dx,dy), float4x4(0.043481785804033,0.028749590739608,0.004452787805349,-0.003691097721457,0.245556786656380,-0.086469195783138,0.087403491139412,0.031902633607388,-0.134401440620422,-0.032748293131590,0.103161156177521,-0.020511010661721,0.033050127327442,0.041873108595610,0.111523009836674,0.019171593710780));
res += mul(Get(s1,0,-dy), float4x4(0.170473843812943,-0.067686088383198,0.072621785104275,-0.092166617512703,0.051007993519306,-0.040426325052977,-0.033780977129936,0.003918445669115,0.002166019752622,-0.103725343942642,-0.024988859891891,-0.000503343180753,0.089147016406059,-0.039259213954210,-0.230829522013664,-0.079160757362843));
res += mul(Get(s1,0,0), float4x4(-0.088671810925007,-0.065599381923676,-0.043270293623209,0.159095868468285,-0.153039529919624,0.129714399576187,-0.108339235186577,0.053758084774017,-0.016796503216028,0.021343663334846,-0.012145481072366,-0.016965826973319,0.103492006659508,-0.007981307804585,-0.006650692317635,-0.034657299518585));
res += mul(Get(s1,0,dy), float4x4(-0.021429426968098,-0.093184635043144,0.021503308787942,-0.135394066572189,-0.123651579022408,-0.099806331098080,0.043922595679760,-0.066591493785381,-0.034267783164978,0.146271854639053,0.087896026670933,-0.042245309799910,-0.081174261868000,-0.173703581094742,0.081636339426041,0.128406211733818));
res += mul(Get(s1,dx,-dy), float4x4(0.111750520765781,0.247706308960915,-0.007919213734567,0.030451614409685,0.234808355569839,0.089337773621082,0.080101765692234,0.015083183534443,-0.121331885457039,-0.155482888221741,0.153231382369995,0.058087717741728,-0.017311096191406,-0.001108348718844,0.012083914130926,0.089483253657818));
res += mul(Get(s1,dx,0), float4x4(0.197780743241310,-0.177900314331055,-0.054919887334108,0.074889793992043,0.086335763335228,-0.074069850146770,-0.086291849613190,0.036635812371969,-0.007631127722561,0.089549094438553,-0.015176214277744,-0.091707631945610,0.172984287142754,-0.000951101130340,-0.003470824332908,-0.128290072083473));
res += mul(Get(s1,dx,dy), float4x4(0.078043334186077,-0.089118734002113,0.041814077645540,0.008726089261472,0.062638401985168,-0.075110234320164,-0.033054586499929,-0.039212364703417,-0.087040022015572,-0.038965132087469,0.092245876789093,0.249707221984863,-0.040127690881491,0.096262827515602,-0.002489806385711,0.007423008326441));
res += mul(Get(s2,-dx,-dy), float4x4(0.166370064020157,0.020133651793003,0.103628821671009,0.012302859686315,-0.092414192855358,0.098749309778214,-0.325275570154190,-0.107828743755817,-0.330353945493698,-0.149759292602539,-0.006825006101280,0.006193716544658,-0.121132075786591,-0.120140887796879,-0.248961597681046,-0.152484625577927));
res += mul(Get(s2,-dx,0), float4x4(-0.178462922573090,-0.013672014698386,-0.211602210998535,-0.054516725242138,0.190508291125298,-0.077485553920269,-0.008530869148672,0.019409099593759,0.205776512622833,-0.043524123728275,-0.096508182585239,0.087851904332638,0.084890224039555,-0.199215695261955,0.035801462829113,0.023457754403353));
res += mul(Get(s2,-dx,dy), float4x4(0.049425955861807,-0.068392850458622,-0.192464277148247,0.134072676301003,0.120853662490845,-0.002200309420004,0.148027986288071,-0.016663324087858,-0.080241635441780,0.023415170609951,-0.059548906981945,-0.024581156671047,-0.052845790982246,-0.011791751720011,0.144908994436264,0.116561032831669));
res += mul(Get(s2,0,-dy), float4x4(0.019063517451286,0.087690375745296,-0.206272810697556,0.114303685724735,-0.052839912474155,0.154206857085228,0.010869835503399,-0.147737294435501,0.205471023917198,0.113332420587540,-0.134683594107628,0.012149546295404,0.071124203503132,-0.134115278720856,0.134687140583992,0.067654289305210));
res += mul(Get(s2,0,0), float4x4(-0.164069548249245,0.092862069606781,0.106708541512489,-0.140942022204399,0.033946823328733,-0.140494585037231,0.105046130716801,-0.222339138388634,-0.080555237829685,-0.089167729020119,0.041094005107880,0.134207382798195,-0.149469316005707,-0.158943817019463,-0.233373567461967,0.006297579500824));
res += mul(Get(s2,0,dy), float4x4(-0.004200514871627,0.112970061600208,0.043973065912724,-0.044222977012396,0.076101720333099,-0.004670077003539,-0.148298263549805,0.111665219068527,0.259048163890839,-0.090108521282673,-0.121436178684235,-0.031943481415510,0.065963193774223,-0.033088017255068,0.016528949141502,0.013742854818702));
res += mul(Get(s2,dx,-dy), float4x4(-0.199767693877220,-0.058652624487877,-0.051390685141087,0.136497646570206,0.021553443744779,0.061861291527748,-0.053692281246185,0.249518364667892,0.032401099801064,-0.134067371487617,0.099442332983017,-0.055275261402130,0.142040938138962,0.117170251905918,-0.284179508686066,-0.076199904084206));
res += mul(Get(s2,dx,0), float4x4(0.007255088072270,-0.029650278389454,-0.036337736994028,0.017343750223517,-0.117691278457642,-0.052228443324566,0.060335986316204,0.113919340074062,-0.106595396995544,0.160751268267632,-0.104018986225128,0.053436297923326,-0.123748287558556,-0.021400360390544,0.169417306780815,-0.194778129458427));
res += mul(Get(s2,dx,dy), float4x4(0.112972661852837,0.140255704522133,-0.086547017097473,-0.046830303966999,-0.068126685917377,-0.090037375688553,-0.183307901024818,0.134826391935349,-0.112395122647285,-0.085909925401211,-0.213386937975883,0.004931445233524,0.085805997252464,0.110700115561485,-0.058336116373539,-0.033686071634293));
res += mul(Get(s3,-dx,-dy), float4x4(-0.011329499073327,-0.090283095836639,0.060689307749271,-0.147916793823242,-0.011151943355799,-0.071571901440620,0.008648802526295,-0.214955225586891,0.223492637276649,-0.065211683511734,-0.029116101562977,-0.125135168433189,0.014219204895198,0.043616086244583,0.127051442861557,0.147232845425606));
res += mul(Get(s3,-dx,0), float4x4(-0.179008215665817,-0.139222875237465,-0.066175192594528,0.076900057494640,0.110523775219917,-0.072414979338646,-0.015862558037043,0.010959991253912,-0.145189315080643,0.212872430682182,0.095698669552803,-0.077304109930992,-0.064286977052689,0.125726357102394,0.033151436597109,0.057971671223640));
res += mul(Get(s3,-dx,dy), float4x4(0.120217181742191,-0.054995816200972,-0.062188774347305,0.086614511907101,-0.125723332166672,0.026221247389913,0.052060391753912,-0.023378780111670,-0.042114619165659,0.159371301531792,-0.037865106016397,-0.007645606994629,-0.007761287037283,-0.075827889144421,0.093224123120308,0.102232635021210));
res += mul(Get(s3,0,-dy), float4x4(-0.279964357614517,-0.133497953414917,-0.146984562277794,0.064255647361279,0.040721036493778,-0.140469700098038,0.199813351035118,-0.003254552837461,-0.090038962662220,0.081047788262367,-0.156723082065582,0.076428942382336,0.064302340149879,0.282037258148193,-0.021292040124536,-0.087525099515915));
res += mul(Get(s3,0,0), float4x4(0.213428437709808,-0.035938218235970,0.139452785253525,-0.043752547353506,-0.031497944146395,0.213835626840591,-0.146969318389893,0.125733315944672,-0.128539279103279,0.176788315176964,-0.165712103247643,0.160008281469345,-0.065817713737488,-0.239184156060219,-0.161148160696030,-0.012602108530700));
res += mul(Get(s3,0,dy), float4x4(-0.072099529206753,-0.052540428936481,0.157002285122871,-0.047310467809439,0.063371688127518,0.152844071388245,-0.048502583056688,-0.010874810628593,0.051348373293877,0.081506945192814,-0.063889674842358,-0.153142467141151,-0.037459634244442,0.232023015618324,-0.071974217891693,0.076339669525623));
res += mul(Get(s3,dx,-dy), float4x4(-0.231560587882996,0.026661450043321,-0.155598059296608,0.074403412640095,-0.182769685983658,0.063041940331459,-0.103519722819328,-0.111600227653980,0.055539492517710,-0.050221856683493,0.023239661008120,0.110874898731709,0.001801909529604,-0.208671107888222,0.065185472369194,-0.010678105056286));
res += mul(Get(s3,dx,0), float4x4(-0.055159620940685,-0.010013980790973,0.067217282950878,0.143383741378784,-0.017594568431377,0.118544332683086,0.110481955111027,0.089759647846222,-0.148779839277267,-0.160802990198135,0.154861047863960,0.283390194177628,-0.058970801532269,0.023825578391552,-0.128241345286369,-0.132101953029633));
res += mul(Get(s3,dx,dy), float4x4(0.110321469604969,-0.003246388630942,-0.049255162477493,0.026303842663765,0.002614743076265,-0.111239187419415,0.121944941580296,-0.024628445506096,0.087129913270473,-0.175793871283531,-0.016224795952439,-0.000980513519607,-0.138523146510124,0.000143408498843,0.122422039508820,0.103936336934566));
return max(float4(0,0,0,0), res);
}
