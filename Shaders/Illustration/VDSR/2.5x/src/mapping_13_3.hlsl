sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.156770542263985,-0.017506796866655,-0.113887883722782,0.196839720010757,0.074095785617828,0.061238810420036,0.015491380356252,-0.091456785798073,0.014888016507030,-0.007515904493630,0.074369736015797,-0.076938956975937,0.128717288374901,-0.056095298379660,-0.031325478106737,0.089826047420502));
res += mul(Get(s0,-dx,0), float4x4(0.099662147462368,-0.034604743123055,0.087594561278820,-0.022686725482345,0.253271579742432,0.094503261148930,-0.039898540824652,-0.134813457727432,-0.036088902503252,-0.121558710932732,-0.077289186418056,-0.009205930866301,-0.044344656169415,0.031880151480436,-0.041405364871025,-0.041028108447790));
res += mul(Get(s0,-dx,dy), float4x4(-0.003698748536408,-0.006855471059680,0.205592796206474,-0.099055968225002,0.130979672074318,-0.101438798010349,-0.073967181146145,-0.085331201553345,-0.224762395024300,-0.159818246960640,-0.052267760038376,-0.091363035142422,0.009908000938594,0.030719868838787,0.014793601818383,0.109623484313488));
res += mul(Get(s0,0,-dy), float4x4(0.197365477681160,0.145146682858467,0.009718489833176,0.299368709325790,0.036094099283218,-0.086888574063778,0.168394654989243,0.102497279644012,-0.068637937307358,-0.131425395607948,0.069731712341309,0.015083558857441,0.105511479079723,0.390274286270142,0.017490146681666,0.148305371403694));
res += mul(Get(s0,0,0), float4x4(-0.006363701075315,-0.095489203929901,0.343255788087845,-0.233758181333542,-0.149320989847183,-0.186656534671783,0.142098233103752,-0.269015878438950,-0.124084696173668,-0.078979983925819,0.007527516689152,-0.200017511844635,0.106200352311134,0.299335122108459,0.150547400116920,0.093226633965969));
res += mul(Get(s0,0,dy), float4x4(-0.130574613809586,0.136511564254761,0.240165174007416,-0.201601073145866,-0.092398986220360,0.031354285776615,-0.179174423217773,-0.219135448336601,-0.177211776375771,-0.135999098420143,-0.153045400977135,-0.091448567807674,0.084525614976883,0.101626880466938,0.153417795896530,0.180690750479698));
res += mul(Get(s0,dx,-dy), float4x4(0.029324244707823,0.094266623258591,-0.193104341626167,0.216021105647087,0.222770929336548,0.121810689568520,0.064353309571743,0.091940112411976,0.034908045083284,-0.115024805068970,0.147187590599060,-0.088424168527126,0.089970298111439,-0.174025267362595,-0.121646828949451,0.156420111656189));
res += mul(Get(s0,dx,0), float4x4(0.143311917781830,0.066093459725380,0.234645947813988,0.039597496390343,0.338264912366867,-0.024660771712661,0.091658346354961,-0.088466323912144,0.030433492735028,-0.062241911888123,-0.055858608335257,-0.205050900578499,0.059556599706411,-0.010777861811221,0.061985176056623,0.091737449169159));
res += mul(Get(s0,dx,dy), float4x4(-0.104983359575272,0.018064379692078,0.122984841465950,0.023589799180627,0.276327848434448,0.040161497890949,-0.091924510896206,-0.103664472699165,0.015432685613632,-0.115443453192711,-0.097636528313160,-0.110391393303871,-0.006652141921222,-0.008994411677122,-0.025186236947775,0.001532369991764));
res += mul(Get(s1,-dx,-dy), float4x4(0.070091851055622,-0.000861653417815,0.003268338041380,-0.042524520307779,-0.046337503939867,0.135087445378304,0.028887094929814,0.051122903823853,-0.026815315708518,-0.114825136959553,0.082070745527744,-0.032120127230883,0.031272143125534,-0.000300295330817,-0.000100908509921,-0.043438855558634));
res += mul(Get(s1,-dx,0), float4x4(-0.011450580321252,0.003623584983870,-0.101405620574951,-0.167089283466339,0.172650113701820,0.007395936641842,0.009740985929966,-0.058803278952837,-0.074501909315586,-0.099242016673088,0.000669364701025,-0.045784264802933,0.053104888647795,0.225853055715561,-0.079233251512051,0.060652505606413));
res += mul(Get(s1,-dx,dy), float4x4(0.085345491766930,-0.119079925119877,-0.153931811451912,0.375993400812149,0.078694827854633,-0.000309979659505,0.125531673431396,0.019681630656123,0.015905957669020,-0.109219267964363,-0.091394007205963,-0.097725227475166,-0.011562149971724,-0.222712740302086,-0.228208675980568,0.396287739276886));
res += mul(Get(s1,0,-dy), float4x4(-0.088254600763321,-0.182175919413567,-0.028934549540281,0.056791432201862,-0.035053405910730,0.060409031808376,0.039499897509813,-0.024893566966057,-0.100336112082005,0.068657182157040,-0.120024725794792,0.269853442907333,-0.045615997165442,0.031908106058836,0.058513302356005,0.022134833037853));
res += mul(Get(s1,0,0), float4x4(-0.192925244569778,-0.004023958928883,-0.081745311617851,-0.254277974367142,0.041058242321014,-0.089015915989876,0.068813122808933,-0.029462812468410,0.114084437489510,-0.118452392518520,0.163815826177597,0.073407866060734,0.140683531761169,0.563774168491364,-0.044261664152145,0.011312930844724));
res += mul(Get(s1,0,dy), float4x4(-0.066585592925549,-0.209042787551880,-0.161488145589828,0.232953220605850,-0.007938218303025,-0.100055150687695,-0.037842903286219,-0.022155208513141,-0.118310637772083,0.104388527572155,0.054714780300856,-0.248334154486656,0.077809110283852,0.207559064030647,-0.076570801436901,0.211056634783745));
res += mul(Get(s1,dx,-dy), float4x4(0.009219418279827,-0.143045440316200,-0.190264046192169,0.273397952318192,-0.071978561580181,-0.100034378468990,0.083863407373428,-0.063051149249077,0.080138929188251,0.057463478296995,-0.077285706996918,0.208966404199600,-0.007645963225514,-0.113295376300812,0.020901519805193,0.193477571010590));
res += mul(Get(s1,dx,0), float4x4(-0.092275224626064,-0.186408653855324,-0.086100436747074,-0.142141908407211,0.001745907939039,0.008467120118439,-0.056946586817503,0.049833495169878,0.183203756809235,-0.048704564571381,0.139688923954964,0.100056529045105,-0.122961536049843,-0.117285177111626,0.145513355731964,-0.131979346275330));
res += mul(Get(s1,dx,dy), float4x4(-0.167192876338959,0.029639000073075,-0.206837788224220,0.234198763966560,-0.097011648118496,-0.280744671821594,0.066110625863075,0.024327090010047,-0.129996374249458,0.014467719942331,-0.025962257757783,-0.212395802140236,-0.140152245759964,-0.128060862421989,0.091083660721779,0.048694856464863));
res += mul(Get(s2,-dx,-dy), float4x4(-0.089974351227283,-0.067591987550259,0.096646420657635,0.021314539015293,-0.117832057178020,-0.107661902904510,-0.083222620189190,0.266230255365372,-0.044270806014538,-0.027129894122481,0.034300126135349,0.073271520435810,0.092793695628643,-0.032799802720547,0.086589984595776,0.065504685044289));
res += mul(Get(s2,-dx,0), float4x4(-0.157723203301430,-0.071520097553730,-0.008375234901905,-0.126805052161217,-0.103417888283730,-0.041984222829342,0.041374269872904,0.058264303952456,0.172662407159805,-0.080632716417313,0.014820383861661,0.304919362068176,-0.179826691746712,-0.014773008413613,0.084992930293083,-0.040228873491287));
res += mul(Get(s2,-dx,dy), float4x4(-0.179815396666527,-0.268546700477600,-0.028369132429361,0.256889075040817,0.025021804496646,-0.126425117254257,0.021434664726257,0.201141402125359,-0.017145717516541,0.112215220928192,0.011723881587386,-0.120634324848652,0.012162478640676,-0.078321695327759,-0.172323927283287,0.089086554944515));
res += mul(Get(s2,0,-dy), float4x4(-0.028718881309032,0.401726454496384,-0.085883647203445,-0.035983972251415,-0.101115696132183,-0.069946095347404,0.182419463992119,0.247649565339088,-0.121933117508888,0.029940757900476,-0.031597197055817,0.027782507240772,0.009473613463342,0.064324632287025,-0.081458181142807,-0.092607229948044));
res += mul(Get(s2,0,0), float4x4(-0.070441566407681,0.144189223647118,-0.068927817046642,-0.001297336537391,-0.179086819291115,-0.090060591697693,0.137038350105286,-0.077977530658245,0.229411035776138,0.300347030162811,-0.019869279116392,0.217837378382683,0.010675378143787,-0.022179037332535,0.118987053632736,0.100484631955624));
res += mul(Get(s2,0,dy), float4x4(0.268826752901077,-0.159422129392624,0.320752412080765,0.135957896709442,0.037016328424215,0.145014405250549,-0.112817429006100,0.114739000797272,-0.064963601529598,0.101035341620445,0.145678937435150,-0.147494181990623,-0.054169684648514,0.008399396203458,0.112199068069458,0.121423535048962));
res += mul(Get(s2,dx,-dy), float4x4(0.177403166890144,0.022882880643010,-0.057232826948166,-0.033598441630602,-0.047290854156017,0.017563104629517,0.085889011621475,0.304680913686752,-0.070405490696430,-0.023219965398312,-0.043587770313025,-0.045458342880011,0.242878973484039,0.101695470511913,-0.114201053977013,-0.064523525536060));
res += mul(Get(s2,dx,0), float4x4(0.174077376723289,0.031529869884253,-0.008801822550595,-0.035879444330931,-0.173186689615250,-0.027021372690797,-0.030480595305562,-0.088886499404907,0.028769874945283,-0.027772963047028,-0.018126081675291,0.174946829676628,0.336166054010391,0.204341694712639,-0.014701872132719,0.045769255608320));
res += mul(Get(s2,dx,dy), float4x4(0.087753325700760,-0.069806508719921,0.099055379629135,0.199170127511024,0.012738780118525,-0.097915172576904,-0.082409918308258,0.010447045788169,0.052439242601395,0.001926009776071,-0.006385245360434,0.039965905249119,0.187517628073692,-0.009637368842959,0.097131259739399,0.186419874429703));
res += mul(Get(s3,-dx,-dy), float4x4(-0.006000458262861,-0.044190071523190,0.001411909353919,-0.010197760537267,0.065062604844570,0.060659337788820,-0.019992101937532,0.058474980294704,0.170691192150116,-0.078182257711887,0.096113532781601,0.166680857539177,0.167912378907204,0.134444162249565,-0.000660492805764,0.158626735210419));
res += mul(Get(s3,-dx,0), float4x4(0.322553485631943,0.136485710740089,-0.000219614274101,-0.151069447398186,0.481581091880798,0.184175670146942,-0.123713806271553,-0.073064938187599,0.046924527734518,0.168982014060020,0.041045334190130,0.001046352786943,0.178564220666885,0.160964116454124,-0.047771167010069,-0.192620903253555));
res += mul(Get(s3,-dx,dy), float4x4(0.327673047780991,0.085501566529274,0.002231467748061,-0.003484861692414,0.347366809844971,0.041106469929218,0.014941890724003,-0.092591308057308,0.004368962720037,-0.145880565047264,-0.073079712688923,-0.078435994684696,-0.036015957593918,-0.100648984313011,-0.118921473622322,-0.170356377959251));
res += mul(Get(s3,0,-dy), float4x4(-0.042003817856312,0.038012962788343,0.237744763493538,0.303627461194992,0.079034604132175,-0.064348727464676,0.136684417724609,0.151373893022537,-0.014541421085596,-0.035893656313419,0.164853021502495,0.090710006654263,0.237306684255600,0.073242843151093,0.025338452309370,0.059334091842175));
res += mul(Get(s3,0,0), float4x4(-0.206535279750824,-0.053551197052002,0.153620138764381,-0.100547216832638,-0.011769549921155,-0.014961742796004,-0.060993012040854,-0.267259210348129,0.000291217496851,0.409727454185486,0.056867338716984,0.134712129831314,-0.043840270489454,-0.010485221631825,0.140962690114975,-0.182998016476631));
res += mul(Get(s3,0,dy), float4x4(-0.085864931344986,0.420460253953934,-0.064820773899555,-0.159081190824509,-0.116115055978298,0.027247341349721,-0.047415938228369,-0.074063621461391,0.017360722646117,-0.094587527215481,0.020452380180359,0.228911876678467,-0.137973934412003,-0.082552447915077,-0.139425083994865,-0.124580942094326));
res += mul(Get(s3,dx,-dy), float4x4(-0.022189754992723,-0.015100257471204,0.085213579237461,-0.006065579596907,0.034592483192682,-0.113857746124268,0.291111946105957,-0.032715752720833,-0.000268136034720,-0.082062087953091,0.151654064655304,-0.011909525841475,-0.207752645015717,-0.148784458637238,0.235406950116158,-0.015774801373482));
res += mul(Get(s3,dx,0), float4x4(-0.022472795099020,-0.048721183091402,0.026049150153995,0.216043755412102,-0.216627776622772,-0.130753159523010,-0.094226449728012,-0.134950757026672,0.156974673271179,0.346625447273254,0.017869584262371,0.242165818810463,-0.240720912814140,-0.027089593932033,-0.011182541958988,-0.199397310614586));
res += mul(Get(s3,dx,dy), float4x4(-0.046484168618917,-0.104501917958260,-0.131002351641655,-0.149504080414772,-0.120708443224430,-0.008084231987596,-0.091927364468575,-0.102707952260971,0.103045269846916,-0.017446121200919,0.014008766040206,0.275929719209671,-0.128580525517464,-0.042532693594694,-0.207731142640114,-0.098634608089924));
return max(float4(0,0,0,0), res);
}
