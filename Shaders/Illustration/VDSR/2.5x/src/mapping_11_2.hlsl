sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.183392718434334,0.009370776824653,-0.014187935739756,-0.075611509382725,0.447914421558380,0.308763444423676,-0.041660096496344,0.030058383941650,-0.037595078349113,0.238598421216011,-0.101774856448174,0.103161171078682,-0.147893071174622,-0.049689773470163,-0.074289634823799,0.025594277307391));
res += mul(Get(s0,-dx,0), float4x4(0.059475932270288,-0.103391125798225,-0.075683504343033,0.030059838667512,-0.007997589185834,0.054110713303089,-0.025437267497182,-0.037037506699562,-0.038628745824099,0.012957952916622,-0.092666260898113,0.143002673983574,0.024172108620405,0.098705440759659,0.019560968503356,0.047918096184731));
res += mul(Get(s0,-dx,dy), float4x4(0.240270063281059,-0.209862709045410,-0.134176090359688,-0.025423657149076,-0.172940909862518,-0.091797761619091,-0.027660835534334,0.024713668972254,-0.015744533389807,0.088934123516083,0.143194273114204,-0.070146851241589,0.005494603421539,0.156794264912605,-0.024267699569464,-0.001759681268595));
res += mul(Get(s0,0,-dy), float4x4(0.019288714975119,-0.080383121967316,-0.050872039049864,-0.009436941705644,0.009154359810054,0.002546225674450,-0.107325039803982,-0.131549432873726,0.005004775244743,0.213641732931137,-0.137792333960533,-0.160069152712822,0.206904023885727,-0.071369096636772,0.063750296831131,0.128764778375626));
res += mul(Get(s0,0,0), float4x4(0.213706016540527,0.041791904717684,-0.071247421205044,-0.037084940820932,-0.070194199681282,0.025920586660504,0.002411983208731,-0.085438668727875,0.057332474738359,-0.034319944679737,-0.035319108515978,0.053942620754242,0.019505484029651,0.016484383493662,0.181230917572975,0.061604708433151));
res += mul(Get(s0,0,dy), float4x4(0.087977416813374,-0.119171239435673,-0.014431139454246,-0.013907078653574,-0.183053150773048,0.062989711761475,0.018442988395691,-0.015877284109592,0.033886093646288,-0.012775531969965,-0.113568112254143,0.127149388194084,-0.126509189605713,-0.081720754504204,-0.062166702002287,-0.022829011082649));
res += mul(Get(s0,dx,-dy), float4x4(-0.065628528594971,0.067998208105564,-0.126115396618843,-0.092282094061375,0.058874100446701,0.076694078743458,-0.059304878115654,0.062236003577709,0.043575879186392,0.282945424318314,-0.108657620847225,-0.204714909195900,0.236374363303185,0.182392448186874,0.320482641458511,0.072643101215363));
res += mul(Get(s0,dx,0), float4x4(-0.160830944776535,0.010133721865714,-0.039306893944740,-0.082132838666439,-0.068330407142639,0.127878069877625,0.054423235356808,-0.059165529906750,0.000418831419665,0.081184498965740,0.059384930878878,-0.073980242013931,0.045307807624340,0.149975523352623,0.108735911548138,0.053553022444248));
res += mul(Get(s0,dx,dy), float4x4(-0.089568264782429,-0.007074498571455,-0.048690661787987,0.031588785350323,0.029539663344622,-0.034128479659557,-0.060852233320475,-0.043210238218307,0.046415012329817,0.181407809257507,-0.021247100085020,-0.009340407326818,-0.003460203995928,0.121541559696198,0.057058028876781,-0.067467279732227));
res += mul(Get(s1,-dx,-dy), float4x4(0.083218514919281,0.057348962873220,0.010591837577522,0.002975821262226,0.034530840814114,0.137317404150963,-0.047369550913572,0.090362839400768,-0.014240417629480,-0.037786979228258,-0.141574248671532,0.102167516946793,-0.207860887050629,-0.142475336790085,0.142696738243103,-0.093095332384109));
res += mul(Get(s1,-dx,0), float4x4(-0.113840907812119,-0.111219353973866,-0.056157276034355,0.044657215476036,0.043359063565731,0.149350985884666,-0.003407112788409,0.219639495015144,0.341381311416626,0.219829961657524,-0.002883777488023,0.130654171109200,-0.232834637165070,-0.098989188671112,0.057584978640079,0.012799751944840));
res += mul(Get(s1,-dx,dy), float4x4(-0.151658341288567,-0.034725472331047,-0.063198558986187,-0.044098399579525,0.092505596578121,0.087976239621639,-0.034449964761734,0.237485915422440,0.273932397365570,0.157516077160835,-0.093645974993706,0.242556095123291,-0.114027425646782,-0.029050959274173,0.418273210525513,-0.112058490514755));
res += mul(Get(s1,0,-dy), float4x4(-0.038563791662455,0.064148433506489,-0.072219818830490,0.035921201109886,-0.181448280811310,-0.182396739721298,-0.137011155486107,-0.120231106877327,0.087658494710922,0.004239998757839,-0.004266122821718,-0.087319344282150,0.125756204128265,-0.085222028195858,-0.006560943555087,-0.095808997750282));
res += mul(Get(s1,0,0), float4x4(-0.049753580242395,-0.008504828438163,-0.142140001058578,-0.038829870522022,-0.120133742690086,-0.027876747772098,0.055429447442293,-0.050568006932735,0.156666547060013,0.067818149924278,0.230974704027176,0.010404411703348,0.008955102413893,-0.087578482925892,-0.059174608439207,-0.080429047346115));
res += mul(Get(s1,0,dy), float4x4(-0.156758934259415,0.013019685633481,-0.109193898737431,-0.041226025670767,-0.058152452111244,0.020968660712242,0.055825393646955,0.055476047098637,0.021058160811663,-0.010618749074638,-0.004768828861415,0.200630575418472,0.086159713566303,-0.011746417731047,0.026906467974186,0.030784396454692));
res += mul(Get(s1,dx,-dy), float4x4(-0.075192876160145,-0.064313746988773,-0.034460600465536,-0.168047100305557,-0.066464968025684,-0.108273006975651,-0.090626657009125,-0.146053880453110,0.037947721779346,0.182325750589371,-0.084136493504047,-0.075913965702057,0.027763806283474,0.098904527723789,-0.047017589211464,0.058858517557383));
res += mul(Get(s1,dx,0), float4x4(-0.205958798527718,-0.228944614529610,-0.106719091534615,-0.164625704288483,-0.121165908873081,-0.096541732549667,0.233463078737259,-0.202715694904327,0.034116219729185,0.217816382646561,0.206719085574150,-0.009636571630836,-0.003358084708452,-0.097285382449627,0.026083137840033,0.029154557734728));
res += mul(Get(s1,dx,dy), float4x4(-0.285476326942444,-0.077343247830868,0.072740711271763,-0.161245822906494,-0.070629559457302,-0.076396167278290,0.130194708704948,-0.033769775182009,-0.036670468747616,-0.007977770641446,0.044608678668737,-0.119980707764626,-0.055845893919468,0.133422479033470,0.198833465576172,-0.036283213645220));
res += mul(Get(s2,-dx,-dy), float4x4(-0.004396617412567,0.086644507944584,0.415506303310394,-0.085251532495022,0.065189376473427,-0.013479257002473,0.035540234297514,0.082991339266300,-0.125068932771683,-0.256770849227905,-0.152823328971863,0.194099321961403,0.185385107994080,0.249837040901184,-0.141734212636948,0.065635748207569));
res += mul(Get(s2,-dx,0), float4x4(-0.035472277551889,-0.133463561534882,0.089556783437729,-0.010778684169054,-0.189062058925629,-0.116137973964214,-0.073980204761028,0.065601058304310,0.001501761958934,0.058280948549509,-0.104309499263763,0.075091116130352,-0.006865845993161,0.088646382093430,-0.099805578589439,0.028026221320033));
res += mul(Get(s2,-dx,dy), float4x4(-0.068926729261875,-0.240767061710358,0.125128075480461,-0.019437069073319,-0.086222723126411,-0.068292304873466,-0.015788830816746,0.072823219001293,-0.109763629734516,-0.239836364984512,-0.066697336733341,0.130264371633530,-0.036886628717184,0.065336301922798,-0.019302953034639,-0.062557615339756));
res += mul(Get(s2,0,-dy), float4x4(-0.012829102575779,-0.141422599554062,0.175622701644897,-0.084012828767300,-0.112327732145786,0.110331743955612,-0.078944370150566,0.248398467898369,-0.210185348987579,-0.285614430904388,-0.144486308097839,0.015555265359581,-0.065383605659008,0.095336116850376,-0.043659847229719,-0.016499917954206));
res += mul(Get(s2,0,0), float4x4(-0.031973864883184,-0.135010182857513,-0.081530548632145,-0.017877353355289,-0.210489109158516,0.006527310237288,-0.069324232637882,0.250389963388443,-0.034030877053738,-0.027620995417237,0.041354656219482,-0.151370644569397,-0.088914498686790,-0.006096855271608,-0.082465805113316,-0.123232744634151));
res += mul(Get(s2,0,dy), float4x4(-0.031322285532951,-0.161754012107849,-0.122990801930428,-0.099921718239784,-0.208508744835854,-0.041778925806284,0.041754804551601,-0.041049715131521,0.146927446126938,-0.080546051263809,-0.042997695505619,-0.305599540472031,0.042929258197546,0.036323279142380,-0.005333735141903,-0.111227147281170));
res += mul(Get(s2,dx,-dy), float4x4(0.218487158417702,-0.078425489366055,-0.027825061231852,0.097210444509983,-0.055571351200342,0.097711160778999,-0.016735801473260,0.030781608074903,-0.082266166806221,-0.011759258806705,-0.008069233037531,0.044785607606173,-0.051939498633146,0.174230217933655,0.007716683205217,-0.166548281908035));
res += mul(Get(s2,dx,0), float4x4(-0.063259884715080,-0.116069331765175,0.004052732139826,0.052864231169224,-0.080264896154404,-0.134329408407211,0.023432407528162,-0.056893792003393,0.014751708135009,0.044525310397148,-0.049985982477665,-0.054325796663761,-0.055982317775488,0.110518947243690,0.158496201038361,-0.152304559946060));
res += mul(Get(s2,dx,dy), float4x4(-0.064593225717545,-0.021516794338822,-0.144232645630836,-0.092150039970875,-0.078194998204708,-0.091335766017437,0.039467401802540,-0.156941428780556,-0.095502428710461,-0.013093821704388,0.056815154850483,-0.155442744493484,0.182294532656670,0.112577065825462,0.030565412715077,-0.223276391625404));
res += mul(Get(s3,-dx,-dy), float4x4(0.013009460642934,-0.201545864343643,-0.097764827311039,0.044672794640064,0.233597025275230,-0.040810909122229,-0.044767871499062,0.292096555233002,-0.146508947014809,0.008216809481382,-0.254737585783005,0.334686040878296,0.084329657256603,-0.056205719709396,0.006854418199509,0.096976079046726));
res += mul(Get(s3,-dx,0), float4x4(-0.031214015558362,-0.043181624263525,0.014382945373654,-0.069583818316460,0.058995138853788,-0.063045740127563,-0.106977492570877,0.166523039340973,-0.067434556782246,0.013412193395197,-0.159674227237701,0.170565336942673,0.000479961163364,0.043818894773722,0.011621110141277,0.328959375619888));
res += mul(Get(s3,-dx,dy), float4x4(-0.000167145772139,-0.035694040358067,-0.091195404529572,-0.058673836290836,0.096350148320198,0.052571132779121,-0.008952690288424,0.043155789375305,-0.087947279214859,0.137187913060188,-0.077399358153343,0.040061205625534,0.055172815918922,0.068566642701626,0.121599972248077,-0.078046359121799));
res += mul(Get(s3,0,-dy), float4x4(0.069905534386635,-0.089649498462677,-0.217389777302742,0.029717698693275,0.099663235247135,-0.091909401118755,-0.014961218461394,0.220866113901138,-0.177633166313171,-0.086985744535923,-0.130612820386887,0.015298315323889,0.026986176148057,0.112842947244644,0.014963594265282,-0.015661608427763));
res += mul(Get(s3,0,0), float4x4(-0.005980034824461,-0.001556720468216,0.036615230143070,0.110838308930397,0.115641757845879,0.066673018038273,0.032510053366423,0.154113456606865,-0.072695352137089,-0.014904417097569,-0.131092324852943,-0.130828872323036,0.082958474755287,0.170169189572334,0.045023389160633,0.209436237812042));
res += mul(Get(s3,0,dy), float4x4(0.031663794070482,0.020250400528312,0.102040953934193,0.026635829359293,-0.035632628947496,0.024442827329040,0.068195320665836,-0.134868323802948,-0.089400492608547,-0.029077850282192,0.053954795002937,0.044631298631430,0.215608239173889,0.065379820764065,0.093961305916309,-0.333450525999069));
res += mul(Get(s3,dx,-dy), float4x4(-0.049743115901947,-0.176095172762871,-0.156558647751808,-0.118986137211323,0.096478469669819,0.161798819899559,0.108560368418694,0.055935330688953,-0.150484830141068,0.006078261882067,-0.021221697330475,0.273175746202469,0.023333277553320,0.131684705615044,0.055297955870628,0.060965050011873));
res += mul(Get(s3,dx,0), float4x4(0.131693631410599,-0.041016962379217,0.068646334111691,-0.041473992168903,0.135510206222534,0.044601559638977,0.210292086005211,0.207072794437408,-0.053195599466562,-0.087810501456261,0.207807868719101,-0.172214403748512,0.013381331227720,0.077662892639637,-0.037477929145098,0.015312310308218));
res += mul(Get(s3,dx,dy), float4x4(0.130978941917419,-0.110933959484100,0.234896793961525,-0.153115063905716,-0.055806383490562,0.066227115690708,0.075208276510239,-0.114527001976967,0.025871763005853,0.029634673148394,0.249650463461876,-0.040634263306856,-0.125214412808418,0.023918343707919,0.028694283217192,-0.168366894125938));
return max(float4(0,0,0,0), res);
}
