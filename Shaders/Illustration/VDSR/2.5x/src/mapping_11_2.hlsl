sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.013711670413613,-0.178204417228699,0.033253554254770,0.094821073114872,-0.109448894858360,-0.160979390144348,-0.092399463057518,-0.055641304701567,0.119757086038589,-0.178158685564995,-0.051062736660242,0.048113334923983,-0.217751428484917,-0.104575745761395,0.147167071700096,-0.104549162089825));
res += mul(Get(s0,-dx,0), float4x4(-0.190374732017517,0.090058878064156,0.124443247914314,0.204044282436371,-0.019276324659586,-0.026033699512482,-0.186861157417297,0.072423532605171,0.019537637010217,-0.059081431478262,-0.096095748245716,-0.187380447983742,-0.031967714428902,-0.057627264410257,0.040796522051096,0.010918340645730));
res += mul(Get(s0,-dx,dy), float4x4(0.039210747927427,0.067759446799755,0.046785980463028,-0.187792643904686,0.045561041682959,-0.051744241267443,-0.235657393932343,0.101619988679886,0.033079661428928,0.042514748871326,0.068518511950970,-0.015176386572421,0.038855738937855,-0.017823088914156,-0.074978478252888,-0.150909751653671));
res += mul(Get(s0,0,-dy), float4x4(-0.043578006327152,-0.169762343168259,-0.041363701224327,-0.103035837411880,-0.126434564590454,-0.075508631765842,-0.020071672275662,0.071434743702412,-0.026975374668837,0.071031659841537,-0.101626746356487,0.003733810037374,-0.010904750786722,0.034654110670090,0.069743335247040,-0.134173795580864));
res += mul(Get(s0,0,0), float4x4(0.094967037439346,-0.118294522166252,0.194235846400261,0.020165450870991,0.008214510977268,-0.046908766031265,0.042318683117628,-0.030643949285150,0.158094376325607,0.006367814727128,-0.002230242360383,0.241780623793602,0.123307839035988,0.000840321707074,-0.073699854314327,0.031609904021025));
res += mul(Get(s0,0,dy), float4x4(-0.058238197118044,0.111373558640480,0.159774050116539,0.020167674869299,-0.146692708134651,-0.108364254236221,0.084809958934784,0.138766199350357,-0.006959171034396,0.008923293091357,0.045770935714245,-0.081271380186081,-0.126778259873390,0.042893782258034,-0.004010256845504,0.085631228983402));
res += mul(Get(s0,dx,-dy), float4x4(0.096607364714146,-0.036969222128391,0.086692743003368,0.022448737174273,0.077044256031513,0.159452959895134,0.022020006552339,0.175373733043671,-0.094169229269028,0.021657023578882,-0.240570455789566,0.133845150470734,0.011575449258089,0.004373150411993,-0.061877876520157,-0.039881605654955));
res += mul(Get(s0,dx,0), float4x4(-0.055865649133921,-0.103617802262306,-0.146675586700439,-0.090415120124817,-0.214001759886742,-0.121933601796627,-0.020897947251797,-0.101040661334991,-0.105584703385830,-0.029118876904249,0.092640258371830,-0.136476740241051,0.051394701004028,0.041618842631578,-0.159215405583382,0.149113699793816));
res += mul(Get(s0,dx,dy), float4x4(-0.026349199935794,-0.068208321928978,-0.092869691550732,-0.037331797182560,-0.021212378516793,-0.000098279808299,0.056682024151087,0.007448822259903,-0.120985783636570,-0.070354297757149,-0.102856144309044,-0.038438573479652,-0.007959012873471,0.002056361408904,-0.055886588990688,0.056885410100222));
res += mul(Get(s1,-dx,-dy), float4x4(0.098842494189739,0.242548942565918,0.222499802708626,0.088763207197189,0.037707671523094,0.083347871899605,0.042786721140146,-0.226941555738449,-0.100549943745136,-0.105948768556118,0.106297925114632,-0.021990902721882,0.045401122421026,-0.077717646956444,0.216515287756920,0.130610644817352));
res += mul(Get(s1,-dx,0), float4x4(0.063552744686604,-0.044059831649065,-0.057962778955698,0.094945661723614,-0.028234366327524,-0.030331306159496,-0.065774045884609,0.105121061205864,-0.012401850894094,0.151183605194092,0.094972230494022,-0.082959413528442,-0.015691494569182,0.114646457135677,0.203096374869347,-0.056407749652863));
res += mul(Get(s1,-dx,dy), float4x4(0.005072718486190,0.085629172623158,-0.123431414365768,-0.105259746313095,0.005181400571018,0.097496137022972,0.032388322055340,-0.127274379134178,-0.126776069402695,0.002309092786163,-0.112567156553268,0.049560979008675,0.094468213617802,0.163722500205040,-0.071610473096371,-0.105083726346493));
res += mul(Get(s1,0,-dy), float4x4(0.005231082439423,0.129945069551468,-0.014382943511009,0.016195103526115,0.031862411648035,0.088841155171394,-0.304047435522079,0.136739596724510,-0.093371778726578,-0.110775798559189,-0.077313415706158,-0.010660646483302,0.060957305133343,0.099002279341221,0.084749400615692,0.040602698922157));
res += mul(Get(s1,0,0), float4x4(-0.086750395596027,0.003152396064252,0.084353901445866,-0.037962768226862,0.084809668362141,0.158754065632820,0.033293534070253,-0.026766676455736,-0.003632413223386,-0.014748648740351,-0.067423850297928,-0.117542155086994,-0.070146329700947,0.029123101383448,-0.098298840224743,-0.014081148430705));
res += mul(Get(s1,0,dy), float4x4(-0.006757786031812,-0.069758579134941,-0.076950073242188,0.009347225539386,0.041468322277069,-0.142841577529907,0.053039640188217,-0.008016873151064,-0.069906324148178,0.086332000792027,0.026033770292997,-0.080749578773975,-0.135396435856819,0.175719603896141,0.033792153000832,0.166822150349617));
res += mul(Get(s1,dx,-dy), float4x4(0.180953189730644,0.074459157884121,0.059582967311144,0.125557899475098,0.025259980931878,0.169590294361115,-0.024694660678506,0.143088251352310,-0.149556905031204,0.076982408761978,-0.118695214390755,-0.097851246595383,-0.123123206198215,0.069874875247478,-0.181212618947029,-0.021838424727321));
res += mul(Get(s1,dx,0), float4x4(0.034586694091558,0.243907749652863,0.240991264581680,0.084735870361328,-0.077106982469559,-0.101398892700672,0.029451139271259,-0.054623205214739,0.177235871553421,-0.111862353980541,0.036734804511070,0.016763880848885,0.221375390887260,0.183072268962860,0.055996052920818,-0.096088297665119));
res += mul(Get(s1,dx,dy), float4x4(-0.038159277290106,0.153741434216499,-0.141786128282547,-0.053553722798824,-0.051640767604113,-0.163258388638496,0.063623711466789,0.093403227627277,-0.144389837980270,-0.081474371254444,-0.096293337643147,-0.048455435782671,0.004158285446465,0.092787057161331,-0.185115098953247,0.132739901542664));
res += mul(Get(s2,-dx,-dy), float4x4(-0.200665637850761,-0.085696242749691,-0.089937247335911,-0.121275983750820,-0.029167644679546,0.174505636096001,-0.042372882366180,0.037278424948454,0.116810984909534,-0.147520050406456,-0.072161130607128,0.258565783500671,0.146885886788368,-0.098140858113766,-0.118222482502460,-0.208747878670692));
res += mul(Get(s2,-dx,0), float4x4(-0.114557459950447,0.073574200272560,-0.110877007246017,-0.159743800759315,-0.060495037585497,-0.081922970712185,-0.065388701856136,0.115385860204697,-0.115390889346600,-0.086293593049049,-0.067116588354111,-0.038225710391998,0.071158878505230,0.101307690143585,-0.131259351968765,-0.058235630393028));
res += mul(Get(s2,-dx,dy), float4x4(0.086099669337273,-0.083620272576809,0.071873858571053,-0.065665483474731,-0.004256228450686,0.202809914946556,0.030784834176302,-0.037628419697285,-0.030313415452838,0.087299533188343,0.012152846902609,-0.067975759506226,0.003523329505697,0.171955764293671,0.041763585060835,0.136508449912071));
res += mul(Get(s2,0,-dy), float4x4(-0.196143791079521,0.062872298061848,0.057671397924423,-0.104317121207714,-0.045738190412521,-0.175806879997253,0.088465675711632,0.051803942769766,0.067942030727863,0.175877258181572,0.103726871311665,-0.139011427760124,0.047458566725254,0.136672869324684,0.223944261670113,-0.106337837874889));
res += mul(Get(s2,0,0), float4x4(0.077668145298958,0.070208229124546,0.042820625007153,-0.119403555989265,0.196268305182457,-0.157348603010178,0.022767739370465,-0.005089167505503,0.230544820427895,-0.018272517248988,0.091978721320629,0.140019237995148,-0.050679504871368,0.221915319561958,-0.293874353170395,-0.011633596383035));
res += mul(Get(s2,0,dy), float4x4(-0.130879953503609,0.056386239826679,0.154351025819778,-0.037216849625111,0.062085207551718,0.045469202101231,-0.120890855789185,0.102889455854893,0.058850195258856,0.113977700471878,0.105184428393841,0.062669999897480,-0.067081898450851,0.111118435859680,0.049800496548414,-0.024037970229983));
res += mul(Get(s2,dx,-dy), float4x4(0.030753135681152,0.094538390636444,-0.118550658226013,0.155507326126099,-0.031758286058903,-0.169218644499779,0.082172125577927,-0.172882586717606,-0.011491267010570,-0.110157355666161,-0.084533162415028,-0.037037871778011,-0.083849735558033,-0.048276908695698,0.069093361496925,-0.122678063809872));
res += mul(Get(s2,dx,0), float4x4(-0.160021409392357,0.124138504266739,-0.164463788270950,0.017583860084414,-0.158307775855064,0.116985902190208,-0.002610547468066,-0.037595998495817,-0.119480788707733,-0.024879619479179,-0.015224439091980,-0.162153199315071,-0.092721730470657,-0.093925483524799,-0.095066592097282,-0.087811976671219));
res += mul(Get(s2,dx,dy), float4x4(-0.053028158843517,0.023058874532580,0.052394162863493,-0.081762567162514,0.037453830242157,0.054805133491755,-0.027883408591151,-0.043198738247156,-0.026007410138845,-0.045412283390760,0.245638847351074,-0.036457460373640,-0.165603801608086,-0.062759108841419,-0.461216986179352,-0.093633003532887));
res += mul(Get(s3,-dx,-dy), float4x4(0.092691868543625,0.062904939055443,0.184907391667366,-0.066454574465752,-0.078372806310654,0.086544536054134,0.129191622138023,-0.203139394521713,0.146600320935249,-0.082880377769470,-0.057384628802538,0.129441067576408,0.050305988639593,-0.054382018744946,0.022822717204690,0.245997771620750));
res += mul(Get(s3,-dx,0), float4x4(-0.143168836832047,0.019857447594404,0.063642837107182,-0.085839189589024,-0.035938572138548,-0.003237259108573,0.239581182599068,-0.060540892183781,0.151347041130066,-0.088774524629116,0.031718455255032,-0.037433061748743,0.121784411370754,0.036370966583490,-0.032874643802643,-0.053285922855139));
res += mul(Get(s3,-dx,dy), float4x4(-0.019929014146328,-0.051713343709707,-0.086804658174515,-0.150792092084885,0.058101754635572,0.107455044984818,0.118902347981930,-0.074493244290352,0.130319878458977,-0.014095685444772,-0.145429030060768,0.049404408782721,-0.077352285385132,-0.174529373645782,-0.045370608568192,0.078349918127060));
res += mul(Get(s3,0,-dy), float4x4(0.126423522830009,-0.057470098137856,-0.043322093784809,0.190702125430107,0.062852568924427,0.100308954715729,0.261820167303085,-0.029887199401855,-0.057307019829750,0.017565928399563,-0.068267442286015,0.058782301843166,-0.113479040563107,0.041314490139484,0.018430734053254,0.136747449636459));
res += mul(Get(s3,0,0), float4x4(0.080080427229404,-0.040946770459414,-0.061989214271307,0.037938553839922,0.133159816265106,0.115732870995998,0.059803791344166,0.042030073702335,-0.062250833958387,0.026620607823133,-0.082247525453568,-0.140758901834488,-0.009320282377303,-0.197486117482185,0.104808382689953,-0.028572928160429));
res += mul(Get(s3,0,dy), float4x4(0.173819586634636,-0.001117374980822,-0.155084341764450,0.117830030620098,0.035973977297544,0.153358176350594,-0.095414273440838,0.089611768722534,-0.230601355433464,-0.068726278841496,-0.032955359667540,-0.065333113074303,0.046567946672440,0.043815545737743,-0.207249164581299,0.023676726967096));
res += mul(Get(s3,dx,-dy), float4x4(0.107535392045975,-0.083960048854351,0.118134431540966,-0.077738650143147,0.043529320508242,0.096341289579868,-0.093122929334641,-0.088022850453854,-0.133329987525940,0.159619107842445,0.090723462402821,0.095723770558834,-0.130630686879158,-0.122288919985294,0.100169688463211,0.165073826909065));
res += mul(Get(s3,dx,0), float4x4(0.011548130773008,-0.201999068260193,-0.217626094818115,0.021712793037295,-0.005560086574405,-0.153166860342026,-0.061334777623415,-0.185051858425140,-0.014509173110127,0.001167101552710,-0.056803848594427,-0.005607469938695,-0.049690406769514,0.083935879170895,-0.160662040114403,-0.060741208493710));
res += mul(Get(s3,dx,dy), float4x4(0.121058441698551,0.096286706626415,-0.056271065026522,-0.006631502881646,-0.064273625612259,0.029860757291317,-0.173195362091064,-0.015909153968096,-0.171694919466972,0.250610381364822,-0.066679835319519,0.003092418890446,-0.138238951563835,-0.112337484955788,-0.014272889122367,0.214627981185913));
return max(float4(0,0,0,0), res);
}
