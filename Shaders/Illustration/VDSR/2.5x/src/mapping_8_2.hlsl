sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.049415677785873,0.171168491244316,-0.050526153296232,-0.136098250746727,-0.306276738643646,0.158870682120323,0.678443312644958,-0.083273246884346,-0.122005589306355,0.088420473039150,0.215070024132729,0.032491758465767,-0.245159402489662,0.038115702569485,-0.097447171807289,0.024492142722011));
res += mul(Get(s0,-dx,0), float4x4(0.012412052601576,0.092604905366898,0.035027038305998,-0.182927817106247,-0.199480846524239,-0.017217591404915,0.168183878064156,-0.089810505509377,-0.136504873633385,-0.006846725940704,0.170521795749664,0.066838070750237,0.153576493263245,-0.053513314574957,-0.230827942490578,-0.227668642997742));
res += mul(Get(s0,-dx,dy), float4x4(-0.018784811720252,0.176608532667160,-0.073182277381420,-0.202381849288940,-0.150277122855186,0.032496273517609,0.136159181594849,-0.108185008168221,-0.270374745130539,-0.071600586175919,0.129296764731407,-0.051420796662569,0.029040349647403,-0.066361337900162,-0.157147482037544,-0.083475239574909));
res += mul(Get(s0,0,-dy), float4x4(-0.164084896445274,-0.120736621320248,-0.021678395569324,-0.029699703678489,-0.112623490393162,0.127478525042534,-0.063829131424427,-0.064202792942524,-0.051206685602665,0.020634857937694,0.012160280719399,0.221548631787300,0.002308633178473,-0.051079496741295,0.027856957167387,0.136416286230087));
res += mul(Get(s0,0,0), float4x4(-0.158764809370041,-0.067960068583488,-0.053781431168318,-0.083888992667198,-0.089161157608032,0.017423702403903,-0.030332550406456,0.067253828048706,-0.086728937923908,-0.042567845433950,-0.026628216728568,0.215854078531265,0.068015120923519,-0.118302330374718,0.114816926419735,-0.075985781848431));
res += mul(Get(s0,0,dy), float4x4(-0.100887805223465,0.004024588502944,-0.053075283765793,0.110995233058929,-0.181524202227592,0.239680051803589,-0.083012759685516,-0.044093213975430,-0.108418576419353,0.002896785736084,0.065710432827473,0.029157632961869,0.020670266821980,-0.122940942645073,0.165313795208931,-0.083626657724380));
res += mul(Get(s0,dx,-dy), float4x4(-0.106513127684593,0.195419177412987,-0.120322324335575,-0.100399814546108,0.010068924166262,-0.052713677287102,-0.008947205729783,-0.065438896417618,-0.090679071843624,0.129264250397682,-0.043113593012094,-0.030022336170077,-0.146945178508759,-0.097226060926914,0.202152371406555,0.245327666401863));
res += mul(Get(s0,dx,0), float4x4(-0.176361665129662,0.103750661015511,-0.081050157546997,-0.078423477709293,-0.028572207316756,0.039103407412767,0.017435353249311,0.196567282080650,-0.032572008669376,0.006258069071919,-0.099026858806610,0.016354808583856,-0.115348719060421,-0.155724808573723,-0.016133513301611,-0.143980145454407));
res += mul(Get(s0,dx,dy), float4x4(-0.106237038969994,0.184190019965172,-0.202771499752998,0.243234872817993,-0.029015511274338,-0.005293624475598,0.047656666487455,0.037051223218441,0.224619865417480,-0.109022021293640,0.018004402518272,0.058647677302361,0.016752636060119,-0.164490982890129,0.037313882261515,-0.121297411620617));
res += mul(Get(s1,-dx,-dy), float4x4(-0.034217692911625,0.068173095583916,-0.151845723390579,-0.017427487298846,-0.102040074765682,-0.038238823413849,-0.092282898724079,0.214924111962318,-0.089450977742672,-0.132096529006958,0.173202589154243,-0.064557224512100,0.077748678624630,-0.035244945436716,-0.046005118638277,0.002354690106586));
res += mul(Get(s1,-dx,0), float4x4(0.085873648524284,-0.037374597042799,-0.124095559120178,0.151726663112640,-0.199152857065201,-0.079595841467381,0.082439795136452,0.147222816944122,-0.185626983642578,-0.056602951139212,0.087770722806454,-0.090144313871861,0.333678305149078,-0.135346680879593,-0.094098754227161,-0.022634921595454));
res += mul(Get(s1,-dx,dy), float4x4(0.103550277650356,-0.063508264720440,0.012522317469120,0.183122530579567,0.020457856357098,0.042788360267878,0.092234313488007,0.020114155486226,-0.136456817388535,-0.151964679360390,-0.149687811732292,0.324087411165237,0.089419364929199,-0.118778392672539,-0.160538971424103,-0.044148851186037));
res += mul(Get(s1,0,-dy), float4x4(0.028407145291567,0.141425296664238,-0.015501941554248,-0.087207980453968,-0.030398851260543,0.101676791906357,0.121756330132484,0.156273901462555,-0.154609858989716,-0.134294316172600,0.010520731098950,-0.062691912055016,0.147791579365730,0.048322014510632,0.183056324720383,0.083497755229473));
res += mul(Get(s1,0,0), float4x4(-0.001771672628820,0.024591937661171,-0.039775434881449,-0.111143030226231,-0.014654204249382,-0.041403703391552,0.141217544674873,-0.023914072662592,-0.203953400254250,-0.083369590342045,-0.019222777336836,-0.116284802556038,0.034941986203194,-0.035335801541805,0.121745824813843,0.153799176216125));
res += mul(Get(s1,0,dy), float4x4(0.029464874416590,-0.064485244452953,0.007585877086967,0.017329974099994,0.089386217296124,0.166173636913300,0.094594404101372,-0.024849498644471,-0.150473862886429,-0.169898316264153,-0.048285521566868,0.038723960518837,0.000629168818705,-0.124294452369213,-0.074618965387344,0.017482589930296));
res += mul(Get(s1,dx,-dy), float4x4(-0.046019531786442,0.304756760597229,0.032564170658588,0.038804300129414,0.093714408576488,0.075957089662552,-0.039106745272875,-0.045018896460533,0.092965252697468,-0.111844196915627,-0.020936649292707,-0.027966568246484,-0.008313532918692,0.055379111319780,-0.075200878083706,0.081541396677494));
res += mul(Get(s1,dx,0), float4x4(-0.009555428288877,0.208366632461548,-0.139042869210243,-0.082032077014446,-0.030707895755768,-0.087093979120255,-0.124596960842609,-0.121435001492500,0.099544323980808,-0.093746885657310,-0.057856649160385,0.075846403837204,-0.099793419241905,0.058050442487001,-0.028370028361678,0.082429505884647));
res += mul(Get(s1,dx,dy), float4x4(0.070153146982193,0.061915479600430,-0.010933447629213,-0.034872487187386,0.060510154813528,-0.045646011829376,0.044673494994640,0.042511943727732,0.166453778743744,-0.135218814015388,-0.057568188756704,0.042607180774212,0.203495413064957,-0.142632156610489,-0.071613147854805,-0.076006956398487));
res += mul(Get(s2,-dx,-dy), float4x4(-0.077561661601067,0.139151886105537,0.179764792323112,-0.076685085892677,-0.050000812858343,-0.162944495677948,-0.104877397418022,0.036677226424217,0.012038532644510,0.031269505620003,-0.099221497774124,0.051411949098110,-0.151053652167320,-0.053853072226048,-0.189532443881035,-0.123319230973721));
res += mul(Get(s2,-dx,0), float4x4(0.098416022956371,0.066203400492668,0.101590320467949,0.002518661320210,0.000340195983881,-0.171210899949074,-0.086459554731846,-0.208729594945908,-0.006311385426670,-0.085228264331818,-0.034783173352480,0.060322087258101,0.257763892412186,-0.093487098813057,-0.082774773240089,0.035827163606882));
res += mul(Get(s2,-dx,dy), float4x4(-0.219045728445053,0.006030390504748,-0.025346923619509,0.001204399741255,0.101367041468620,-0.158275574445724,-0.012226155959070,-0.041745442897081,-0.026420289650559,0.058997523039579,0.078225597739220,0.235062226653099,0.009233686141670,-0.169509664177895,-0.018174869939685,0.005429293494672));
res += mul(Get(s2,0,-dy), float4x4(0.108112759888172,-0.094935603439808,-0.187896504998207,-0.047849010676146,-0.133079707622528,-0.016822744160891,0.137201473116875,-0.015506242401898,0.021726639941335,0.197543546557426,0.064073227345943,-0.036759059876204,-0.273505926132202,0.090056128799915,-0.121865428984165,-0.103707864880562));
res += mul(Get(s2,0,0), float4x4(0.148735836148262,-0.099067792296410,-0.022700553759933,0.009984808042645,-0.042920418083668,-0.145862266421318,-0.066071853041649,-0.163319885730743,-0.027278317138553,0.044699274003506,0.070597827434540,-0.163529396057129,0.095832511782646,-0.046629745513201,0.086682632565498,0.004036224447191));
res += mul(Get(s2,0,dy), float4x4(0.010735034942627,-0.055362518876791,-0.000933809264097,-0.030058464035392,0.194480866193771,-0.216070890426636,0.192529246211052,-0.112885341048241,0.026292834430933,0.023054881021380,0.101205982267857,0.063862256705761,-0.115252241492271,-0.191624417901039,0.155518159270287,-0.092154182493687));
res += mul(Get(s2,dx,-dy), float4x4(0.266874819993973,0.006887363269925,-0.014778182841837,0.006317326799035,0.104606658220291,0.035764206200838,0.085700228810310,0.066450916230679,-0.076901316642761,0.187458366155624,-0.110076427459717,-0.035944845527411,0.029293298721313,0.080152638256550,0.045059226453304,0.072045385837555));
res += mul(Get(s2,dx,0), float4x4(0.027493165805936,-0.083453208208084,-0.061229515820742,0.014467959292233,0.209089607000351,-0.088283471763134,0.080264389514923,0.014482070691884,0.056588981300592,0.140955194830894,-0.038521364331245,0.086871773004532,0.440362304449081,-0.152062654495239,-0.048063069581985,0.058737430721521));
res += mul(Get(s2,dx,dy), float4x4(0.143568262457848,-0.080985859036446,0.045612115412951,0.111435592174530,0.356434494256973,-0.160596266388893,0.190949335694313,0.311255365610123,0.042989131063223,0.143660694360733,0.032354548573494,0.116962000727654,-0.162144854664803,-0.227302998304367,0.106861107051373,-0.132148042321205));
res += mul(Get(s3,-dx,-dy), float4x4(0.014766635373235,0.123272225260735,0.086262375116348,-0.106237605214119,0.046834006905556,0.083457268774509,-0.090981952846050,0.102830119431019,-0.052915472537279,0.150872617959976,0.191865801811218,-0.098842531442642,0.168765246868134,-0.033040180802345,-0.078609272837639,-0.055676523596048));
res += mul(Get(s3,-dx,0), float4x4(0.173855230212212,-0.018462272360921,0.080361828207970,-0.055305626243353,0.193000674247742,0.104098536074162,-0.020835138857365,0.063624292612076,-0.078119836747646,0.074648894369602,0.126280948519707,-0.028454290702939,-0.018707599490881,0.043670196086168,0.062088917940855,-0.146157428622246));
res += mul(Get(s3,-dx,dy), float4x4(0.105682976543903,-0.014597742818296,-0.046866077929735,-0.077929139137268,0.294343233108521,-0.004700586199760,-0.019852643832564,0.123441778123379,-0.141376823186874,0.192076757550240,0.010215847752988,-0.095500782132149,-0.083895608782768,-0.033306330442429,-0.096971698105335,0.127296462655067));
res += mul(Get(s3,0,-dy), float4x4(-0.065477326512337,0.145341217517853,0.190367072820663,-0.040814105421305,0.070924311876297,0.214500114321709,-0.069108545780182,0.020508050918579,-0.008952349424362,-0.052240945398808,-0.084317222237587,0.123695068061352,0.094420894980431,0.012745523825288,-0.096017308533192,-0.015151346102357));
res += mul(Get(s3,0,0), float4x4(0.090157672762871,-0.032635752111673,0.179648950695992,0.019313622266054,0.052251551300287,0.086102612316608,0.022739317268133,0.075755722820759,-0.031628053635359,-0.095643095672131,-0.165842637419701,0.360175549983978,-0.200096771121025,0.088853612542152,-0.030276302248240,-0.111889086663723));
res += mul(Get(s3,0,dy), float4x4(0.030012862756848,0.127307519316673,0.188900560140610,0.046489942818880,0.013212367892265,-0.069209076464176,0.068552225828171,0.141508802771568,-0.012202819809318,0.226517736911774,0.082635015249252,0.311754941940308,-0.201246008276939,-0.032171387225389,-0.058891691267490,-0.049344234168530));
res += mul(Get(s3,dx,-dy), float4x4(-0.230893075466156,0.164452895522118,0.081336520612240,-0.124715045094490,0.078192494809628,-0.054395783692598,-0.022355999797583,0.015708912163973,0.063485532999039,0.221398726105690,-0.011306387372315,-0.001859747688286,0.110024206340313,0.066683650016785,-0.109115697443485,-0.059773631393909));
res += mul(Get(s3,dx,0), float4x4(-0.116944141685963,-0.059838380664587,0.023833069950342,-0.122207134962082,0.140985906124115,0.035881590098143,0.055404268205166,-0.116538278758526,0.088255867362022,-0.121438533067703,-0.069613724946976,0.018302481621504,-0.181120246648788,0.087780714035034,-0.177009612321854,-0.085161387920380));
res += mul(Get(s3,dx,dy), float4x4(-0.080871812999249,-0.026578266173601,-0.053446132689714,0.001773110707290,0.274953961372375,-0.080417677760124,-0.002854981925339,-0.028628058731556,-0.062480077147484,0.152917519211769,0.029910445213318,0.323033422231674,0.088836453855038,-0.104281395673752,0.003543553641066,-0.114709116518497));
return max(float4(0,0,0,0), res);
}
