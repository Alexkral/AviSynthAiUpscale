sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.012053169310093,0.090817742049694,0.040351971983910,0.203591391444206,-0.076722741127014,-0.009843764826655,-0.154217541217804,-0.074137531220913,-0.033185232430696,0.049644757062197,0.294908732175827,0.101594962179661,0.087235026061535,0.026405299082398,-0.273986935615540,0.071644380688667));
res += mul(Get(s0,-dx,0), float4x4(-0.008178303949535,-0.008382353000343,-0.052314568310976,0.037669405341148,-0.107369981706142,0.158377334475517,-0.079314932227135,0.126345545053482,-0.046575807034969,0.096188358962536,0.009275680407882,0.056475285440683,0.053876992315054,-0.008131377398968,-0.036679673939943,0.120825558900833));
res += mul(Get(s0,-dx,dy), float4x4(0.115877203643322,-0.073131263256073,-0.219145119190216,-0.017247740179300,0.010747285559773,0.031170211732388,0.108149610459805,0.058068681508303,0.022678878158331,-0.014179972931743,0.185207888484001,0.190336406230927,0.000950384419411,-0.039474405348301,-0.006634799297899,0.018248025327921));
res += mul(Get(s0,0,-dy), float4x4(0.132625445723534,0.187623575329781,0.262794137001038,0.128160923719406,-0.099417239427567,-0.039758700877428,-0.131194949150085,-0.046749066561460,-0.103129252791405,0.140516474843025,0.023684345185757,-0.209927141666412,0.034740403294563,0.073499627411366,0.090796709060669,0.135666579008102));
res += mul(Get(s0,0,0), float4x4(-0.068142451345921,-0.035575281828642,0.106375955045223,0.030573725700378,0.029186274856329,-0.197950273752213,-0.066713273525238,0.027342576533556,0.025833500549197,0.045533597469330,0.125414133071899,0.003841947298497,0.043807215988636,0.105583801865578,-0.019120318815112,0.061515152454376));
res += mul(Get(s0,0,dy), float4x4(0.035058733075857,-0.031592499464750,0.003576995339245,0.032953761518002,-0.068699739873409,0.140914037823677,-0.164758607745171,0.125218182802200,-0.061606254428625,-0.151921257376671,0.108244754374027,-0.147910848259926,0.206800833344460,-0.064118124544621,0.038955051451921,-0.005231819581240));
res += mul(Get(s0,dx,-dy), float4x4(-0.089896023273468,0.033830042928457,-0.162616521120071,0.057853110134602,0.262307226657867,-0.107969306409359,0.270323157310486,0.045375905930996,-0.001444177818485,-0.149964362382889,0.142237842082977,-0.015379372052848,0.103095874190331,0.124747626483440,0.182814016938210,-0.072716958820820));
res += mul(Get(s0,dx,0), float4x4(-0.138147369027138,0.032421909272671,0.153235897421837,-0.024870598688722,0.192867264151573,-0.095542125403881,0.011266739107668,0.018116755411029,0.110268831253052,-0.020858824253082,-0.091925084590912,0.166468217968941,-0.086050190031528,-0.046461928635836,0.050237540155649,0.016235874965787));
res += mul(Get(s0,dx,dy), float4x4(-0.091890536248684,0.057174973189831,0.078851610422134,-0.024597957730293,0.142986342310905,0.111799329519272,-0.048851147294044,-0.225037321448326,-0.032476391643286,-0.081717588007450,0.033261869102716,0.005455211736262,0.120935954153538,-0.093715645372868,-0.139406964182854,-0.067215800285339));
res += mul(Get(s1,-dx,-dy), float4x4(-0.009674516506493,0.033784650266171,-0.088765889406204,-0.041865155100822,0.001314882887527,-0.192314416170120,0.094763502478600,-0.032361891120672,0.025439608842134,-0.214500680565834,-0.018095711246133,-0.063260801136494,-0.229857787489891,-0.009377867914736,-0.030322283506393,-0.066112473607063));
res += mul(Get(s1,-dx,0), float4x4(-0.053306452929974,-0.026838822290301,0.041424907743931,-0.181564450263977,-0.287049174308777,-0.035429574549198,-0.025210851803422,-0.008084782399237,-0.067096501588821,0.189682662487030,0.152320101857185,0.073225304484367,-0.040442775934935,-0.032209888100624,-0.004889946896583,-0.176547676324844));
res += mul(Get(s1,-dx,dy), float4x4(0.196742653846741,0.105077572166920,-0.058426972478628,-0.013745513744652,-0.082554876804352,0.054418645799160,-0.133964657783508,-0.081176817417145,0.085127174854279,-0.021583817899227,-0.118300460278988,-0.081214159727097,0.137266367673874,-0.126246050000191,-0.020055500790477,0.266545504331589));
res += mul(Get(s1,0,-dy), float4x4(-0.087409324944019,0.017761154100299,-0.032700784504414,0.099882662296295,0.122355721890926,0.078784897923470,0.105092965066433,0.313198208808899,-0.095021694898605,0.072365097701550,-0.102840282022953,0.184042736887932,0.024858808144927,0.053824994713068,0.017346434295177,0.006365539040416));
res += mul(Get(s1,0,0), float4x4(0.082565382122993,0.025148088112473,0.128053084015846,-0.116925656795502,-0.096391640603542,-0.107686504721642,-0.123338624835014,0.106424160301685,0.003590166801587,-0.034274723380804,0.092780984938145,-0.010763726197183,-0.066135801374912,-0.080845236778259,0.078666292130947,0.143760561943054));
res += mul(Get(s1,0,dy), float4x4(0.115315228700638,0.119112752377987,0.004699307493865,0.009532871656120,0.095954231917858,0.050836257636547,0.057758696377277,0.226332247257233,0.026939852163196,0.007395591586828,-0.090044468641281,0.040411043912172,-0.005883243866265,-0.125992581248283,-0.029949041083455,-0.150192126631737));
res += mul(Get(s1,dx,-dy), float4x4(-0.067550703883171,-0.150708377361298,0.036886345595121,0.047135338187218,0.059566266834736,-0.065761283040047,-0.000150369916810,-0.042240325361490,-0.242004230618477,0.122040405869484,-0.232557535171509,-0.019140392541885,0.161549314856529,-0.160406947135925,-0.064209297299385,0.005971070379019));
res += mul(Get(s1,dx,0), float4x4(-0.057154987007380,-0.028594374656677,-0.024961719289422,0.178624957799911,-0.042133297771215,-0.128139510750771,-0.135655462741852,0.038770154118538,-0.291014581918716,0.217886433005333,-0.112049460411072,0.105477713048458,0.127727061510086,-0.008247289806604,0.009748242795467,0.061161641031504));
res += mul(Get(s1,dx,dy), float4x4(0.007098028436303,0.099256969988346,-0.207052245736122,0.099877573549747,-0.045887205749750,0.157066419720650,-0.072583846747875,-0.038063015788794,0.114587247371674,0.194810464978218,0.079843349754810,-0.026183092966676,0.118811614811420,-0.012395204976201,0.003040969138965,0.077043808996677));
res += mul(Get(s2,-dx,-dy), float4x4(-0.097972266376019,0.126693904399872,-0.040070850402117,0.086735188961029,0.268210768699646,0.087761253118515,0.033924806863070,0.153600990772247,0.004181406926364,-0.030877830460668,0.064504995942116,0.041123326867819,0.070546895265579,-0.092555128037930,0.037859886884689,-0.088783144950867));
res += mul(Get(s2,-dx,0), float4x4(0.112290911376476,-0.079634375870228,-0.280280500650406,-0.154252305626869,-0.141405001282692,-0.046283848583698,0.138812631368637,-0.039615243673325,0.001033866428770,0.141376599669456,0.006728335749358,-0.047230504453182,-0.121373802423477,-0.035724733024836,0.046547144651413,-0.044252075254917));
res += mul(Get(s2,-dx,dy), float4x4(0.030677556991577,0.310024499893188,-0.062565855681896,0.023639235645533,-0.015227458439767,0.153358697891235,-0.050353240221739,-0.169773593544960,-0.082365952432156,0.174205243587494,0.148077145218849,-0.083373688161373,-0.101792961359024,-0.010900787077844,0.076643124222755,-0.126185044646263));
res += mul(Get(s2,0,-dy), float4x4(-0.067643344402313,-0.188495725393295,0.216021046042442,0.033596009016037,-0.185098916292191,-0.033543370664120,0.016911858692765,-0.073694363236427,0.142346128821373,-0.095287509262562,-0.036620274186134,-0.002020672895014,0.054500550031662,0.003105150535703,-0.047608841210604,-0.206265896558762));
res += mul(Get(s2,0,0), float4x4(-0.003006889717653,0.114776484668255,-0.113753877580166,-0.045604437589645,-0.082093983888626,-0.083588428795338,-0.010455212555826,-0.053835339844227,0.085916310548782,-0.265110433101654,0.142396330833435,0.096790596842766,0.005814192816615,-0.024188606068492,-0.064270369708538,-0.130484148859978));
res += mul(Get(s2,0,dy), float4x4(-0.104230657219887,0.123710349202156,-0.021865373477340,-0.121792882680893,-0.091378316283226,-0.263288885354996,-0.211469173431396,-0.004982947371900,-0.051364324986935,-0.096867449581623,-0.116530165076256,0.078191645443439,-0.024651436135173,-0.033364199101925,-0.127355024218559,-0.046106871217489));
res += mul(Get(s2,dx,-dy), float4x4(-0.072223760187626,-0.104351073503494,-0.075330816209316,-0.186285838484764,0.070566318929195,-0.032331347465515,-0.048847965896130,0.103458158671856,-0.071383357048035,0.162613198161125,0.037025939673185,-0.002861429704353,0.122436560690403,-0.146746754646301,-0.029113447293639,0.167635589838028));
res += mul(Get(s2,dx,0), float4x4(-0.085592940449715,0.060173127800226,-0.029046541079879,0.054303698241711,0.053478624671698,0.026118259876966,-0.085691377520561,0.169172152876854,0.057048231363297,-0.047391965985298,0.098179973661900,-0.331736832857132,0.005326527170837,-0.088671199977398,-0.129458636045456,-0.005641433876008));
res += mul(Get(s2,dx,dy), float4x4(-0.043446116149426,-0.076699815690517,-0.052455976605415,-0.167304888367653,0.205166578292847,0.045940302312374,-0.046001616865396,0.091548770666122,-0.014128123410046,-0.014876785688102,-0.172305092215538,-0.009023425169289,-0.140111073851585,-0.059491034597158,0.031135987490416,0.000606723944657));
res += mul(Get(s3,-dx,-dy), float4x4(0.220150902867317,-0.031330287456512,-0.074883475899696,-0.092311494052410,0.151266187429428,-0.035429380834103,-0.246828019618988,0.074239678680897,0.049808964133263,0.014312304556370,0.054825734347105,0.100013330578804,-0.153863772749901,0.170229136943817,0.013892368413508,0.027854438871145));
res += mul(Get(s3,-dx,0), float4x4(0.112808696925640,-0.090147092938423,-0.008283457718790,0.003135158447549,0.125360876321793,-0.018190143629909,0.033129151910543,-0.062095802277327,-0.057577196508646,0.278979569673538,0.032770793884993,-0.066118784248829,0.024414105340838,0.059522513300180,-0.042358167469501,-0.117834255099297));
res += mul(Get(s3,-dx,dy), float4x4(0.140709444880486,-0.013842521235347,-0.115271046757698,0.013474714942276,0.032687306404114,0.144738748669624,-0.064085088670254,-0.179279774427414,0.158278554677963,0.188287541270256,-0.161534011363983,-0.082340665161610,-0.018173022195697,0.278667032718658,-0.006664599291980,0.166982248425484));
res += mul(Get(s3,0,-dy), float4x4(0.106778517365456,-0.073107451200485,0.055828269571066,0.211820647120476,-0.234743207693100,-0.098109401762486,0.140258416533470,0.056366350501776,0.169828936457634,0.025337167084217,0.087434291839600,0.167716324329376,-0.120280258357525,0.055270619690418,-0.123870998620987,0.158720195293427));
res += mul(Get(s3,0,0), float4x4(-0.069468460977077,-0.004208949394524,0.008549122139812,-0.025973105803132,0.087680988013744,0.126357540488243,0.071789525449276,0.153796657919884,0.141650944948196,-0.128820225596428,0.166916787624359,-0.146500661969185,0.059252586215734,0.016877681016922,-0.140919551253319,0.081297188997269));
res += mul(Get(s3,0,dy), float4x4(-0.085854172706604,0.171891957521439,-0.084787033498287,-0.038376357406378,-0.025513334199786,0.110431134700775,0.039495605975389,-0.169587939977646,-0.037367306649685,0.081918314099312,0.077401652932167,-0.167802527546883,-0.078068211674690,0.255726307630539,-0.164957895874977,0.102408342063427));
res += mul(Get(s3,dx,-dy), float4x4(-0.077389054000378,-0.113981217145920,0.136024653911591,0.117981597781181,-0.075215533375740,-0.040420949459076,-0.031222695484757,0.054827895015478,-0.092964738607407,0.071750506758690,0.129360973834991,0.218275353312492,0.195026725530624,0.081969380378723,-0.133701220154762,-0.265041202306747));
res += mul(Get(s3,dx,0), float4x4(0.173682942986488,0.004707965068519,0.273003697395325,-0.102748498320580,0.054490044713020,-0.019183717668056,-0.016123682260513,0.062333796173334,0.288302272558212,-0.223222121596336,0.037496943026781,0.119019381701946,0.040419865399599,0.060863599181175,-0.106610745191574,0.130702629685402));
res += mul(Get(s3,dx,dy), float4x4(0.022785337641835,-0.005392416380346,0.183449119329453,0.069169819355011,-0.108624219894409,0.024772586300969,0.163446530699730,-0.199290826916695,0.064802169799805,0.080059498548508,0.150977641344070,-0.024060901254416,0.060036331415176,-0.006572715006769,-0.165686056017876,0.049078058451414));
return max(float4(0,0,0,0), res);
}
