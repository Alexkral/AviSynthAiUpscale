sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.000011383485798,-0.000807061383966,-0.000821427209303,-0.000093346920039,0.123149730265141,-0.040606655180454,-0.297472953796387,0.076315544545650,-0.127119958400726,-0.048091061413288,-0.036170795559883,0.068009659647942,0.331609725952148,-0.080647878348827,-0.222096070647240,-0.092405259609222));
res += mul(Get(s0,-dx,0), float4x4(0.001031284802593,-0.002762672258541,-0.001881294767372,0.000850555486977,0.142038986086845,-0.092315584421158,-0.174723297357559,-0.033978264778852,0.024994451552629,-0.049486383795738,0.042760610580444,0.076099954545498,-0.431378960609436,-0.099489457905293,-0.139616757631302,-0.191011369228363));
res += mul(Get(s0,-dx,dy), float4x4(0.000576897989959,-0.001495926873758,-0.002211682032794,0.000537687679753,0.261420398950577,-0.057736217975616,-0.155501648783684,0.043033517897129,-0.102788612246513,-0.022765642032027,0.167415067553520,-0.046425245702267,-0.030715573579073,-0.127439588308334,-0.295397609472275,0.096561789512634));
res += mul(Get(s0,0,-dy), float4x4(0.000238975902903,0.001023365883157,-0.001250801025890,-0.000025536184694,-0.064562007784843,-0.066360943019390,-0.085273340344429,-0.148290649056435,0.046513818204403,-0.046310007572174,-0.003474361263216,-0.020383322611451,0.305046319961548,0.059882164001465,0.011258406564593,-0.041269227862358));
res += mul(Get(s0,0,0), float4x4(-0.001311778440140,-0.000940469151828,-0.000772602157667,-0.000195432192413,-0.072896465659142,-0.077220141887665,-0.095682106912136,-0.141865104436874,0.098487526178360,-0.042060270905495,-0.075408868491650,0.036081790924072,-0.248121410608292,0.082327120006084,-0.062042091041803,-0.196521162986755));
res += mul(Get(s0,0,dy), float4x4(-0.002077997429296,0.000461371702841,-0.000023274986233,0.001071836217307,-0.017050119116902,-0.058208789676428,-0.233194053173065,-0.234840765595436,0.020907243713737,-0.010526760481298,0.083109267055988,0.058593004941940,0.094517275691032,0.017305137589574,-0.145363807678223,-0.235048428177834));
res += mul(Get(s0,dx,-dy), float4x4(0.000898444617633,-0.000703737197910,0.001292716478929,0.002442270051688,-0.011683545075357,-0.039464090019464,0.200524359941483,-0.024503638967872,-0.082311339676380,-0.002141922479495,0.055586468428373,0.024779152125120,0.155269503593445,0.124813437461853,0.156928688287735,0.081439726054668));
res += mul(Get(s0,dx,0), float4x4(-0.000493567902595,-0.002018967643380,-0.000255379185546,-0.002229138510302,-0.064095914363861,-0.016833696514368,-0.028996393084526,0.177897989749908,0.123692594468594,0.002771454863250,-0.048875480890274,0.013337827287614,-0.026227498427033,0.242915183305740,-0.108930371701717,0.043856203556061));
res += mul(Get(s0,dx,dy), float4x4(-0.000283304485492,0.002365275751799,0.002373177791014,-0.001091873971745,0.026742497459054,-0.010008983314037,-0.206649288535118,0.100002594292164,0.012835078872740,0.045895978808403,0.050734348595142,0.032035551965237,0.219518095254898,0.278081715106964,-0.261981219053268,-0.009243576787412));
res += mul(Get(s1,-dx,-dy), float4x4(-0.139168992638588,-0.101692534983158,-0.029103787615895,-0.020648537203670,0.058365512639284,-0.039051149040461,-0.189119577407837,-0.150820940732956,-0.040024120360613,0.003704772563651,-0.006944508757442,0.028289243578911,-0.058142945170403,-0.000101608238765,-0.056080173701048,-0.026425275951624));
res += mul(Get(s1,-dx,0), float4x4(-0.195745319128036,-0.047800563275814,-0.135450094938278,-0.143375501036644,0.086289405822754,-0.004976166412234,-0.059114068746567,0.009757524356246,-0.035261716693640,0.003287132130936,-0.013565233908594,0.048112370073795,0.052549183368683,-0.031773541122675,0.023175174370408,-0.032442305237055));
res += mul(Get(s1,-dx,dy), float4x4(-0.108427897095680,-0.011605922132730,0.114414207637310,-0.034819483757019,0.091627195477486,-0.007294955663383,0.067535057663918,0.105570279061794,-0.034593529999256,-0.000844264810439,-0.015723278746009,0.057683415710926,-0.057464655488729,0.009047743864357,-0.043019004166126,0.016364604234695));
res += mul(Get(s1,0,-dy), float4x4(-0.058887086808681,-0.047551423311234,0.036511860787868,-0.085742339491844,0.010895228013396,-0.027942953631282,-0.202459394931793,0.099149465560913,-0.007965563796461,0.003028684295714,-0.008016476407647,0.002013498218730,-0.151817679405212,-0.022623959928751,-0.033790066838264,0.034682799130678));
res += mul(Get(s1,0,0), float4x4(-0.120601922273636,-0.034669008105993,-0.094536930322647,-0.083315163850784,-0.016133652999997,0.047365833073854,-0.107975170016289,0.557887077331543,-0.002536312444136,0.000736381625757,-0.003247126005590,0.016305858269334,0.044471524655819,-0.038131691515446,0.059498168528080,0.048832431435585));
res += mul(Get(s1,0,dy), float4x4(0.131989866495132,0.042078405618668,0.056414287537336,-0.069461666047573,-0.007477433886379,0.076789021492004,0.012393090873957,-0.121675334870815,-0.001467896043323,-0.000485332915559,-0.009948877617717,0.020335352048278,-0.106907017529011,0.010624023154378,0.029130382463336,0.043370608240366));
res += mul(Get(s1,dx,-dy), float4x4(-0.056795142591000,-0.066710114479065,-0.053459946066141,0.008338857442141,0.067942202091217,-0.027216838672757,-0.164211839437485,-0.236258924007416,0.004797100555152,0.007451155222952,-0.012939841486514,-0.025586521252990,-0.129221856594086,-0.045246362686157,-0.046336419880390,-0.024398559704423));
res += mul(Get(s1,dx,0), float4x4(0.129210382699966,-0.027420274913311,-0.023948989808559,0.102317415177822,0.127675145864487,0.065108560025692,-0.117592141032219,-0.000707673490979,0.008236868306994,0.002524143084884,-0.009644184261560,-0.002175699220970,0.087155237793922,-0.048465017229319,0.048245083540678,0.049733038991690));
res += mul(Get(s1,dx,dy), float4x4(0.167074605822563,0.040874022990465,0.091741956770420,-0.142657995223999,-0.070023640990257,0.098626106977463,-0.054300714284182,0.061789873987436,0.013749915175140,0.000937414763030,-0.010146332904696,-0.004910089075565,-0.028023891150951,-0.000780222762842,0.046749413013458,0.024733413010836));
res += mul(Get(s2,-dx,-dy), float4x4(-0.032544557005167,-0.002384893596172,-0.010419099591672,-0.002030431292951,0.161508500576019,-0.105149999260902,0.007420330308378,-0.043626714497805,0.218782901763916,-0.047509286552668,0.016184793785214,-0.030390983447433,0.316149294376373,-0.056737337261438,-0.101933367550373,0.022861577570438));
res += mul(Get(s2,-dx,0), float4x4(-0.000649671303108,0.011399373412132,-0.013990540057421,0.046454831957817,0.127370357513428,-0.090634100139141,0.103331610560417,-0.030055122449994,0.125003471970558,-0.024919269606471,-0.060859240591526,-0.024558158591390,-0.133845686912537,-0.081567607820034,0.016437474638224,-0.008114556781948));
res += mul(Get(s2,-dx,dy), float4x4(0.024915950372815,0.012307559140027,-0.006732127163559,0.030635943636298,-0.170016005635262,-0.129568621516228,0.111635409295559,-0.094260506331921,-0.031338825821877,-0.016704166308045,-0.031546175479889,-0.011810417287052,-0.086370237171650,-0.071581713855267,0.009425104595721,0.020943971350789));
res += mul(Get(s2,0,-dy), float4x4(-0.028171021491289,-0.004977829288691,-0.013049256987870,0.003631239291281,0.037234868854284,-0.110387712717056,0.120939120650291,0.004262594971806,0.121308036148548,-0.035772856324911,-0.073984809219837,-0.043789193034172,0.280070513486862,0.045614108443260,-0.018592841923237,0.064904205501080));
res += mul(Get(s2,0,0), float4x4(0.009861704893410,0.010116877965629,-0.026843316853046,0.055049743503332,-0.087962508201599,-0.088968716561794,0.155616939067841,0.040102284401655,-0.036634787917137,0.006498697679490,-0.171668365597725,0.164115503430367,-0.147553578019142,0.062959238886833,-0.007167844101787,0.003965017851442));
res += mul(Get(s2,0,dy), float4x4(0.031480289995670,0.007801678031683,-0.019344650208950,0.023970637470484,-0.216661810874939,-0.059690095484257,0.052616454660892,-0.033869080245495,0.030382787808776,0.018572166562080,-0.232397273182869,0.230915561318398,-0.051914408802986,0.046203710138798,-0.086471684277058,-0.051101237535477));
res += mul(Get(s2,dx,-dy), float4x4(-0.023472703993320,-0.000930764537770,-0.012029078789055,0.001856128103100,0.103859722614288,-0.049989622086287,0.114353626966476,0.056832827627659,-0.018624633550644,-0.069279268383980,-0.013190361671150,0.056017756462097,0.269293725490570,0.095958478748798,-0.007032180204988,0.110921584069729));
res += mul(Get(s2,dx,0), float4x4(0.016574384644628,0.014319734647870,-0.028801493346691,0.050139054656029,-0.015399892814457,0.015848303213716,0.081075221300125,0.087990783154964,0.072515636682510,-0.034105129539967,-0.043082334101200,0.124711297452450,-0.014947417192161,0.192549437284470,-0.089267924427986,0.102983042597771));
res += mul(Get(s2,dx,dy), float4x4(0.029931310564280,0.002744893543422,-0.025877080857754,0.008169682696462,-0.026272691786289,0.132112339138985,-0.035376276820898,0.047149032354355,0.081468373537064,0.001679901615717,-0.037804972380400,0.045423977077007,0.042709376662970,0.199460491538048,-0.145301491022110,0.038356624543667));
res += mul(Get(s3,-dx,-dy), float4x4(-0.075978621840477,-0.156817436218262,0.076396614313126,-0.231644764542580,-0.003105958690867,0.000601365638431,0.002534662140533,0.002254134276882,-0.294789344072342,0.004975525196642,0.021949077025056,0.227125316858292,-0.085735119879246,-0.001014993875287,-0.455084055662155,0.190266430377960));
res += mul(Get(s3,-dx,0), float4x4(-0.061665743589401,-0.071797557175159,0.480534404516220,-0.207989796996117,-0.002007316099480,0.001340216258541,0.000474815344205,0.000845050148200,0.037143461406231,0.084567718207836,0.284753918647766,0.107997298240662,0.117785699665546,0.019175780937076,-0.201815515756607,-0.007896055467427));
res += mul(Get(s3,-dx,dy), float4x4(-0.010366221889853,0.026914156973362,0.219541370868683,-0.140581563115120,0.000455606525065,0.001945902709849,0.002066232031211,0.001526799518615,-0.082601167261600,0.057171825319529,0.144396632909775,-0.001915723551065,0.083270236849785,0.026813447475433,0.032171245664358,-0.132173106074333));
res += mul(Get(s3,0,-dy), float4x4(-0.060692455619574,-0.082633666694164,-0.271842479705811,-0.092073015868664,0.000942295300774,-0.000263224181253,-0.001361237140372,0.002062719780952,-0.201606422662735,0.002419204218313,-0.114010252058506,-0.200015380978584,-0.371357113122940,0.003894807072356,-0.247942164540291,-0.032889418303967));
res += mul(Get(s3,0,0), float4x4(0.016741236671805,0.011810003779829,-0.294312924146652,-0.126558229327202,-0.001713365782052,0.000655795040075,0.001245576422662,0.002557437866926,0.103804863989353,0.050154946744442,0.041747346520424,-0.232864588499069,0.152381926774979,0.036579359322786,-0.192696377635002,-0.111461721360683));
res += mul(Get(s3,0,dy), float4x4(-0.060409385710955,0.092529647052288,-0.104270443320274,-0.148330256342888,-0.000850242096931,0.001373190549202,0.000552023877390,-0.001367910415865,-0.083912566304207,0.014813135378063,0.156510174274445,0.023846859112382,-0.074597202241421,0.088169619441032,0.066444970667362,-0.178601652383804));
res += mul(Get(s3,dx,-dy), float4x4(-0.043968945741653,-0.112401857972145,-0.263317614793777,0.119668997824192,-0.000851343909744,0.000670389679726,-0.000633923860732,0.000632066570688,0.069003440439701,0.019162215292454,-0.050043065100908,-0.101820774376392,0.048181183636189,0.013004343956709,-0.156296461820602,-0.162230998277664));
res += mul(Get(s3,dx,0), float4x4(-0.018054405227304,-0.035067275166512,-0.276525259017944,0.026705417782068,0.001817657030188,-0.001693203463219,-0.000562413886655,-0.000594754936174,0.107909947633743,0.052645459771156,-0.070481874048710,-0.116790272295475,0.043954562395811,0.030897770076990,-0.301256507635117,-0.083637595176697));
res += mul(Get(s3,dx,dy), float4x4(-0.072745755314827,0.014935386367142,-0.388485550880432,-0.103472553193569,-0.003060415852815,-0.000190313730855,-0.001415760139935,0.001137912739068,0.021859124302864,0.036854892969131,0.069756448268890,0.051430918276310,-0.044657208025455,0.142013326287270,-0.206127569079399,-0.108054168522358));
return max(float4(0,0,0,0), res);
}
