sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.186031118035316,-0.050279822200537,0.315267026424408,0.112649418413639,-0.039387945085764,0.342104792594910,-0.039542753249407,-0.024576799944043,0.114950411021709,0.032288495451212,0.142688274383545,0.027993235737085,-0.078279152512550,-0.159845560789108,-0.018445860594511,-0.144359588623047));
res += mul(Get(s0,-dx,0), float4x4(-0.065095208585262,-0.057658340781927,0.081628493964672,-0.033963464200497,-0.113552741706371,0.371639132499695,-0.116457037627697,0.020882338285446,0.062799930572510,-0.009988325648010,-0.002934819320217,-0.002847286872566,-0.019296960905194,-0.052089940756559,-0.012467298656702,0.093074373900890));
res += mul(Get(s0,-dx,dy), float4x4(-0.164815664291382,-0.168920382857323,-0.063684917986393,-0.005632635205984,0.028169533237815,0.031532537192106,-0.098854735493660,-0.083799317479134,0.034654613584280,-0.100578486919403,0.155155807733536,-0.069608032703400,0.137203976511955,-0.126815080642700,-0.068286336958408,0.043664041906595));
res += mul(Get(s0,0,-dy), float4x4(-0.089906580746174,0.049067981541157,0.154208496212959,0.138657256960869,0.044685125350952,0.064209587872028,-0.017799178138375,-0.085379585623741,0.151687294244766,-0.062204193323851,0.028659468516707,-0.065981648862362,0.050041377544403,-0.047237575054169,-0.103195577859879,-0.029152752831578));
res += mul(Get(s0,0,0), float4x4(0.005142126698047,0.097337417304516,-0.120864890515804,0.211508125066757,-0.138234868645668,0.010078976862133,-0.100844934582710,-0.040220189839602,-0.108008630573750,0.026124222204089,0.174342408776283,-0.032535061240196,0.010471014305949,0.046267226338387,-0.148041635751724,0.000445945537649));
res += mul(Get(s0,0,dy), float4x4(0.045072942972183,0.092106208205223,-0.018133999779820,0.160423859953880,0.026129791513085,-0.154516249895096,-0.052906058728695,-0.043216954916716,-0.076047569513321,0.014886142686009,-0.136878967285156,0.042872257530689,-0.161314949393272,0.146967440843582,0.094657957553864,0.085633829236031));
res += mul(Get(s0,dx,-dy), float4x4(0.085589684545994,-0.190281450748444,0.036641154438257,-0.088334657251835,0.158819079399109,0.034179080277681,-0.040802571922541,-0.174198716878891,-0.090758182108402,-0.099647887051105,0.189194664359093,-0.131596833467484,-0.007762701250613,0.416060507297516,-0.058625586330891,0.028977295383811));
res += mul(Get(s0,dx,0), float4x4(0.094652161002159,-0.038234662264585,0.186197087168694,-0.035878397524357,0.087093628942966,0.133595988154411,0.075729578733444,-0.124674245715141,0.173202618956566,-0.128248304128647,0.350587457418442,-0.051900438964367,0.116520784795284,0.023134946823120,-0.052343137562275,-0.053946502506733));
res += mul(Get(s0,dx,dy), float4x4(-0.131302595138550,-0.016739599406719,-0.019978031516075,0.038875650614500,-0.041650582104921,0.037484269589186,-0.052078679203987,-0.077928759157658,0.307819664478302,-0.101000480353832,0.377740472555161,0.002761738840491,-0.179321348667145,0.053698442876339,0.031001489609480,0.278378814458847));
res += mul(Get(s1,-dx,-dy), float4x4(-0.048664629459381,-0.116279274225235,-0.170561313629150,0.242189213633537,0.085628613829613,-0.012393470853567,-0.121158234775066,-0.036189258098602,-0.031331274658442,0.013692469336092,-0.166934058070183,0.104821711778641,0.243304908275604,0.062549322843552,-0.071543425321579,-0.161606132984161));
res += mul(Get(s1,-dx,0), float4x4(-0.097160048782825,-0.142321541905403,0.012673265300691,0.089413531124592,-0.107856884598732,0.150317370891571,-0.083564259111881,-0.096653223037720,-0.246861711144447,-0.055243741720915,-0.039613150060177,0.062262956053019,0.130927994847298,-0.006036690436304,-0.126301392912865,-0.011573366820812));
res += mul(Get(s1,-dx,dy), float4x4(-0.175800859928131,-0.062701091170311,0.210104227066040,-0.161749482154846,0.046075679361820,-0.090303584933281,-0.076638437807560,0.021253591403365,-0.041912969201803,0.006778316572309,0.100451827049255,-0.077036179602146,-0.015542358160019,-0.156877964735031,-0.119275368750095,-0.020151620730758));
res += mul(Get(s1,0,-dy), float4x4(0.015687393024564,0.164868563413620,-0.169991478323936,0.071871817111969,0.037504278123379,-0.207112893462181,-0.100621193647385,0.049585863947868,-0.072384327650070,0.064182251691818,-0.197887241840363,0.148377269506454,0.284603595733643,-0.139178037643433,-0.028620421886444,-0.080408573150635));
res += mul(Get(s1,0,0), float4x4(-0.004199342802167,0.044018790125847,0.131058931350708,-0.069247089326382,-0.007430798374116,-0.024543602019548,-0.231127575039864,-0.037878636270761,-0.153391912579536,-0.068767786026001,-0.128899604082108,-0.001594314817339,0.055071998387575,-0.069849692285061,-0.040786270052195,-0.054459139704704));
res += mul(Get(s1,0,dy), float4x4(-0.018992623314261,0.029479688033462,0.257550776004791,-0.048843838274479,-0.047039676457644,-0.091924317181110,-0.024919282644987,-0.090172812342644,0.091863699257374,-0.029198173433542,0.124498791992664,0.051898997277021,0.137010693550110,-0.133572518825531,0.043412677943707,-0.066034749150276));
res += mul(Get(s1,dx,-dy), float4x4(0.120491176843643,0.119473010301590,-0.068048447370529,-0.019526796415448,0.109114199876785,-0.006328676361591,0.034923829138279,0.043028831481934,0.015177086926997,0.005845224019140,-0.237875074148178,0.081562824547291,0.128836572170258,0.007900376804173,-0.128759339451790,-0.175363957881927));
res += mul(Get(s1,dx,0), float4x4(0.056639943271875,0.137448534369469,0.005435497965664,-0.086719848215580,-0.137864589691162,-0.002332309260964,-0.089445605874062,0.116779707372189,0.140466287732124,-0.188230231404305,-0.003526433138177,-0.034626673907042,-0.018395317718387,-0.038732733577490,0.239411965012550,-0.089454337954521));
res += mul(Get(s1,dx,dy), float4x4(-0.051123864948750,0.081558384001255,0.021240022033453,-0.096224702894688,-0.051153749227524,-0.054550278931856,-0.014350663870573,0.083618991076946,0.287435114383698,-0.063872635364532,0.085195705294609,-0.085257068276405,0.166740491986275,0.001952424412593,0.218555837869644,-0.064061842858791));
res += mul(Get(s2,-dx,-dy), float4x4(-0.184015214443207,0.123797342181206,-0.032050199806690,-0.004596638493240,-0.152280151844025,0.160243675112724,0.046935964375734,-0.145295441150665,0.088508747518063,-0.079429730772972,-0.077037133276463,-0.127592846751213,0.053106453269720,-0.127017661929131,0.046344015747309,-0.015851575881243));
res += mul(Get(s2,-dx,0), float4x4(-0.268710553646088,0.093115143477917,0.049774538725615,-0.065695129334927,0.392011672258377,-0.121835976839066,0.012676567770541,-0.259452521800995,-0.082559123635292,0.038215540349483,-0.031381081789732,-0.190753772854805,0.026499383151531,-0.179851651191711,0.094365984201431,0.102202050387859));
res += mul(Get(s2,-dx,dy), float4x4(-0.254977047443390,0.055052742362022,-0.013516760431230,0.027751844376326,0.081878319382668,-0.023136768490076,0.001347896992229,-0.145393431186676,0.001334564876743,-0.087030574679375,-0.090932622551918,0.005788655951619,0.068088330328465,-0.218299627304077,-0.101535946130753,-0.056819319725037));
res += mul(Get(s2,0,-dy), float4x4(-0.183540984988213,0.124425970017910,-0.035863559693098,-0.038733955472708,-0.114362813532352,0.353881508111954,0.030159737914801,-0.000016189967937,0.148051753640175,-0.160174727439880,0.029994189739227,-0.121011495590210,0.133617803454399,0.044400487095118,0.015734713524580,0.318253904581070));
res += mul(Get(s2,0,0), float4x4(-0.120224274694920,0.018416976556182,0.078592933714390,-0.099534250795841,0.185951575636864,0.048246365040541,-0.110316768288612,-0.131367266178131,-0.051935911178589,0.017998289316893,-0.063127614557743,-0.012489622458816,-0.086771078407764,0.047530282288790,0.010587748140097,0.195670023560524));
res += mul(Get(s2,0,dy), float4x4(-0.232564166188240,-0.116111636161804,-0.162357300519943,-0.093516670167446,0.060000818222761,0.005911934189498,0.147761598229408,-0.100399181246758,-0.068055562674999,-0.199390396475792,-0.062458481639624,-0.007225086912513,-0.064705029129982,-0.113777279853821,0.044558968394995,0.112539276480675));
res += mul(Get(s2,dx,-dy), float4x4(-0.080486916005611,0.200473293662071,0.081275396049023,-0.043160457164049,-0.032127089798450,-0.114168711006641,-0.122097201645374,0.065840661525726,0.042177051305771,-0.000588556576986,0.066063947975636,-0.061175636947155,0.148198768496513,0.027439819648862,-0.007426134310663,0.185722872614861));
res += mul(Get(s2,dx,0), float4x4(-0.150767773389816,0.267877489328384,-0.097252301871777,-0.038054183125496,-0.017121046781540,-0.059436332434416,-0.129073351621628,-0.038327839225531,0.185183107852936,0.137352615594864,0.135755389928818,-0.030183976516128,-0.029122266918421,0.048438936471939,0.164868041872978,0.103435896337032));
res += mul(Get(s2,dx,dy), float4x4(-0.237695842981339,-0.011627729982138,-0.153927668929100,-0.032338123768568,-0.037129331380129,-0.063494533300400,0.197785228490829,0.116098724305630,0.025968654081225,-0.023739093914628,-0.243324443697929,0.480050235986710,-0.153532043099403,-0.123971767723560,0.047591779381037,-0.063125438988209));
res += mul(Get(s3,-dx,-dy), float4x4(-0.088146798312664,0.051934793591499,0.320305407047272,0.140967309474945,0.125471279025078,0.087009236216545,0.049977142363787,0.093726150691509,0.046517893671989,-0.019877968356013,0.080349832773209,0.060415860265493,0.076803199946880,0.125949412584305,-0.038070805370808,0.042370978742838));
res += mul(Get(s3,-dx,0), float4x4(-0.076815165579319,-0.054486501961946,0.037429265677929,0.088338248431683,0.025400331243873,0.202419593930244,0.084764219820499,-0.031877413392067,-0.061106644570827,-0.084453254938126,-0.058261685073376,-0.094978347420692,0.200742781162262,0.031091693788767,-0.080086886882782,0.044906962662935));
res += mul(Get(s3,-dx,dy), float4x4(-0.107688061892986,-0.109753355383873,0.246076494455338,-0.054181940853596,0.080097235739231,0.075132347643375,-0.026731427758932,-0.000325809960486,-0.141669943928719,-0.062034673988819,-0.079727843403816,-0.045751970261335,0.010323452763259,0.236309334635735,-0.001349490485154,0.022846456617117));
res += mul(Get(s3,0,-dy), float4x4(0.034528799355030,0.001910908264108,0.234224870800972,-0.020419523119926,0.205631420016289,-0.005392350722104,0.062548071146011,0.019101921468973,-0.123488023877144,0.008204084821045,-0.105266146361828,0.048684574663639,0.157023817300797,0.098467044532299,-0.127552762627602,0.033148951828480));
res += mul(Get(s3,0,0), float4x4(-0.161572098731995,-0.001787911052816,-0.188487395644188,-0.208070665597916,0.059940140694380,0.009445034898818,0.024096591398120,0.033714298158884,-0.058359384536743,-0.133918076753616,-0.117601968348026,-0.049484334886074,-0.118642985820770,-0.086217612028122,-0.151773810386658,0.069437451660633));
res += mul(Get(s3,0,dy), float4x4(-0.117571569979191,-0.065700009465218,0.011818512342870,-0.021571507677436,0.184640973806381,-0.174708068370819,0.103302165865898,-0.027835696935654,-0.151895806193352,-0.237285956740379,0.017350658774376,0.043055087327957,0.117614701390266,0.027142135426402,0.041009005159140,-0.073676310479641));
res += mul(Get(s3,dx,-dy), float4x4(-0.159673124551773,-0.018955484032631,0.159567579627037,-0.038091309368610,-0.003342522773892,0.033755764365196,-0.178351640701294,0.110627338290215,0.046471707522869,0.065172895789146,-0.068770915269852,-0.073824979364872,0.010882350616157,0.137675046920776,-0.113885782659054,0.176440700888634));
res += mul(Get(s3,dx,0), float4x4(-0.010976181365550,0.110661081969738,-0.063925832509995,0.008801377378404,0.022890649735928,0.152073964476585,-0.163094177842140,0.024958549067378,-0.096455499529839,-0.048578470945358,0.049013521522284,-0.001911769737490,-0.103421039879322,-0.009743431583047,0.025294689461589,0.189991548657417));
res += mul(Get(s3,dx,dy), float4x4(0.064518950879574,0.077070072293282,0.115738391876221,0.110934965312481,0.070221625268459,-0.160373121500015,-0.068871125578880,0.000788924982771,-0.183550015091896,-0.049421638250351,0.291908949613571,-0.128379017114639,0.054279811680317,0.037885874509811,0.064079463481903,0.038993962109089));
return max(float4(0,0,0,0), res);
}
