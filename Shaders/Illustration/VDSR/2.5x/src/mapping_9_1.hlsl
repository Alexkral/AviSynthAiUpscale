sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.133720934391022,-0.021213065832853,-0.060606788843870,-0.133496940135956,0.144466251134872,-0.121039763092995,0.014171620830894,0.155264943838120,0.030215667560697,0.109986014664173,-0.207374110817909,0.095525637269020,0.101650126278400,0.020628301426768,0.107376575469971,0.051659412682056));
res += mul(Get(s0,-dx,0), float4x4(-0.035574469715357,-0.167838901281357,0.200396075844765,0.176032170653343,-0.031075142323971,-0.157416969537735,-0.109325818717480,-0.082212589681149,-0.139655277132988,0.036311335861683,-0.162439867854118,-0.017409078776836,0.080797448754311,-0.058806624263525,0.043961197137833,-0.019819291308522));
res += mul(Get(s0,-dx,dy), float4x4(-0.024343591183424,0.042507905513048,-0.138426616787910,0.075682267546654,-0.000429483770858,0.156390935182571,-0.177661567926407,0.074472501873970,-0.210820838809013,-0.181960999965668,0.003584027523175,-0.101941093802452,0.098320893943310,0.032691709697247,-0.057851601392031,0.145410284399986));
res += mul(Get(s0,0,-dy), float4x4(-0.009524446912110,0.195150256156921,0.010754786431789,-0.130471423268318,0.196935683488846,0.033132709562778,-0.093708157539368,0.110522985458374,-0.062365770339966,0.164050698280334,0.050090163946152,0.139916419982910,-0.128094732761383,-0.163085222244263,-0.094205699861050,0.000414690875914));
res += mul(Get(s0,0,0), float4x4(-0.058325923979282,-0.248594760894775,0.040191821753979,0.059045512229204,-0.171686872839928,0.101759046316147,0.025048708543181,0.193015262484550,-0.152745828032494,-0.071600973606110,-0.056771304458380,-0.043564457446337,-0.144617408514023,0.038003146648407,0.137175619602203,-0.083263494074345));
res += mul(Get(s0,0,dy), float4x4(0.046774208545685,0.055150207132101,-0.043919112533331,0.175601363182068,0.100284747779369,0.022793225944042,-0.090836405754089,0.087323002517223,-0.010596925392747,0.046012591570616,0.046864904463291,-0.150253430008888,0.060891527682543,0.037765603512526,-0.007359592709690,-0.009569572284818));
res += mul(Get(s0,dx,-dy), float4x4(0.067563422024250,0.007264533545822,-0.001223161350936,0.098714850842953,0.043180610984564,-0.050612926483154,-0.046836830675602,0.167331993579865,0.172111734747887,-0.199577853083611,-0.016682244837284,0.096418350934982,0.059926696121693,0.239375919103622,0.023684315383434,0.003795211203396));
res += mul(Get(s0,dx,0), float4x4(0.018337395042181,-0.046056684106588,0.049741894006729,0.019303645938635,0.038293164223433,-0.110347367823124,0.049399718642235,0.037476282566786,0.145623564720154,0.010242656804621,-0.073478288948536,-0.081753119826317,0.016048088669777,-0.204289868474007,-0.073947459459305,-0.038390710949898));
res += mul(Get(s0,dx,dy), float4x4(0.107500523328781,0.028270818293095,-0.009506558999419,0.010096025653183,-0.010067124851048,-0.242220386862755,-0.224733337759972,-0.068251594901085,0.235504865646362,-0.056311324238777,-0.034364402294159,-0.030307278037071,-0.039037540555000,-0.010313029401004,-0.027261273935437,-0.093743480741978));
res += mul(Get(s1,-dx,-dy), float4x4(0.087369829416275,0.235696017742157,0.152280911803246,0.118959628045559,-0.063767038285732,0.008153463713825,0.079675383865833,-0.022556174546480,0.323822796344757,-0.090176962316036,-0.040702674537897,-0.125791192054749,0.156097128987312,0.134731695055962,0.238491982221603,0.149129748344421));
res += mul(Get(s1,-dx,0), float4x4(0.149930208921432,-0.110980503261089,0.218826875090599,-0.026227522641420,-0.108555480837822,-0.044481217861176,0.125524848699570,-0.084972791373730,-0.154675245285034,0.037071838974953,0.063731670379639,0.020662683993578,0.125607058405876,-0.042547546327114,0.010207064449787,0.015675321221352));
res += mul(Get(s1,-dx,dy), float4x4(-0.016784712672234,0.052244659513235,-0.012937261722982,0.060707613825798,-0.070413604378700,0.116633191704750,-0.382027506828308,-0.053410012274981,0.049468062818050,0.106587208807468,0.032441575080156,-0.102636680006981,0.262803971767426,-0.049288980662823,0.067030459642410,0.070962838828564));
res += mul(Get(s1,0,-dy), float4x4(-0.093429453670979,0.084539078176022,0.147723868489265,-0.088939324021339,-0.051614176481962,-0.168820917606354,0.196110159158707,-0.213687017560005,0.085425548255444,-0.231660872697830,-0.106924571096897,-0.129439443349838,-0.061927381902933,0.123529858887196,-0.043624069541693,0.182014018297195));
res += mul(Get(s1,0,0), float4x4(-0.079198673367500,0.063307121396065,0.132360607385635,0.065399408340454,0.199192374944687,-0.163508594036102,-0.000450601888588,-0.068635627627373,-0.042748458683491,0.170719176530838,-0.072399109601974,-0.008550354279578,0.046547230333090,0.008810993283987,-0.083367317914963,0.097541689872742));
res += mul(Get(s1,0,dy), float4x4(0.114304214715958,-0.168885082006454,0.012477116659284,-0.076556012034416,0.088387697935104,-0.104985952377319,-0.084028184413910,0.323294371366501,-0.035838894546032,-0.176855668425560,-0.011167671531439,-0.088849812746048,0.070419788360596,0.033308651298285,-0.128767728805542,0.020578900352120));
res += mul(Get(s1,dx,-dy), float4x4(-0.151463761925697,0.192035868763924,0.074569076299667,0.017477789893746,-0.100533537566662,-0.012669913470745,0.010537250898778,0.059095803648233,-0.162270829081535,0.073679313063622,-0.215134695172310,0.104034960269928,0.085537113249302,-0.186717584729195,0.138441160321236,-0.046493466943502));
res += mul(Get(s1,dx,0), float4x4(0.021465890109539,0.044838499277830,0.270369768142700,-0.212238520383835,0.187303185462952,0.083598271012306,0.021335249766707,-0.218307405710220,0.061007570475340,0.057529952377081,-0.061076108366251,-0.024901228025556,0.296806186437607,-0.063911102712154,0.121492557227612,0.152126014232635));
res += mul(Get(s1,dx,dy), float4x4(0.039890058338642,-0.115700714290142,0.118758514523506,0.079033710062504,0.111001729965210,-0.163754165172577,-0.063466966152191,0.135911256074905,0.169798702001572,0.057864453643560,0.075856208801270,-0.020863004028797,0.107672207057476,-0.083244495093822,0.001038003480062,0.214802592992783));
res += mul(Get(s2,-dx,-dy), float4x4(0.027981588616967,0.127232402563095,-0.027439104393125,-0.196053281426430,-0.187644660472870,-0.021528942510486,0.009132076986134,-0.001019294490106,-0.117814227938652,0.076758593320847,-0.191117748618126,0.029827736318111,0.159342989325523,-0.069226719439030,-0.093611389398575,-0.038965772837400));
res += mul(Get(s2,-dx,0), float4x4(0.042589738965034,-0.087853476405144,-0.019596055150032,-0.077862687408924,-0.073678307235241,-0.111484982073307,0.137754902243614,-0.020762570202351,0.190520077943802,-0.113290525972843,0.194544360041618,0.074745140969753,0.035709127783775,-0.009986614808440,0.068322047591209,-0.123151838779449));
res += mul(Get(s2,-dx,dy), float4x4(-0.146639317274094,0.180423870682716,-0.127492576837540,0.146149560809135,-0.026209492236376,-0.213937476277351,0.035675644874573,0.012847640551627,0.073278911411762,-0.118402771651745,0.056828983128071,-0.035991135984659,0.030822854489088,0.028156165033579,-0.026641318574548,0.135750979185104));
res += mul(Get(s2,0,-dy), float4x4(0.135052993893623,0.092307008802891,0.043518472462893,-0.135403454303741,-0.124419502913952,0.109218463301659,0.144203186035156,-0.076387614011765,-0.096328362822533,0.142115622758865,-0.026123039424419,0.089994706213474,0.064461365342140,-0.167326733469963,-0.056708097457886,-0.236704364418983));
res += mul(Get(s2,0,0), float4x4(0.187728345394135,0.193460524082184,-0.064157500863075,0.096342675387859,0.168142482638359,0.132970288395882,0.003540336620063,-0.239784970879555,0.082999713718891,-0.082588687539101,-0.035034790635109,0.106915622949600,0.102809324860573,-0.011123165488243,-0.108015365898609,0.020258573815227));
res += mul(Get(s2,0,dy), float4x4(-0.190079465508461,-0.006970949005336,-0.128674134612083,0.056093297898769,0.109115324914455,0.055827096104622,-0.158193245530128,0.024057989940047,-0.122407056391239,-0.063066661357880,0.144028931856155,-0.070550441741943,0.004404926206917,-0.062609255313873,0.197566822171211,0.064176589250565));
res += mul(Get(s2,dx,-dy), float4x4(-0.133168563246727,0.118275731801987,-0.067543826997280,-0.169860780239105,-0.013721368275583,-0.145664721727371,0.053596753627062,-0.065768115222454,-0.045929104089737,-0.027065403759480,0.167021393775940,-0.070551857352257,0.080788195133209,0.027624301612377,-0.081267930567265,0.009562684223056));
res += mul(Get(s2,dx,0), float4x4(-0.034853860735893,-0.179673835635185,0.094270125031471,0.085012651979923,0.143953606486320,0.059248898178339,-0.086369469761848,0.144095569849014,-0.051549434661865,-0.141192212700844,0.001595156150870,-0.080074049532413,0.307805031538010,-0.082663968205452,-0.015537546016276,0.086825214326382));
res += mul(Get(s2,dx,dy), float4x4(-0.016384949907660,0.045272789895535,0.031379040330648,0.112325631082058,0.041212357580662,-0.100044928491116,0.088612772524357,0.037941865622997,-0.055790729820728,-0.022950848564506,0.018325701355934,0.032148454338312,0.010709455236793,-0.228777676820755,-0.222644776105881,-0.041895091533661));
res += mul(Get(s3,-dx,-dy), float4x4(0.011594760231674,-0.013868351466954,-0.119840450584888,-0.140204519033432,-0.100887514650822,0.155438274145126,0.132972806692123,0.139189690351486,0.131688743829727,-0.026183819398284,0.077139273285866,0.151036530733109,-0.224369972944260,0.004820684902370,-0.168383777141571,-0.088562145829201));
res += mul(Get(s3,-dx,0), float4x4(0.274535447359085,-0.071766950190067,-0.000016821944882,-0.192533463239670,0.006260235328227,0.020665463060141,0.005028465297073,0.022039148956537,-0.064273893833160,0.170471221208572,0.014859137125313,0.140891358256340,-0.085445158183575,0.115177042782307,-0.049337666481733,0.009973249398172));
res += mul(Get(s3,-dx,dy), float4x4(0.297950148582458,0.040089957416058,0.026162361726165,0.032391674816608,0.080227501690388,-0.059534076601267,0.195336878299713,0.137334197759628,-0.199542477726936,-0.028053469955921,-0.003228492103517,0.007766421884298,-0.014235083945096,-0.136476427316666,-0.127330675721169,0.122928351163864));
res += mul(Get(s3,0,-dy), float4x4(0.157909020781517,-0.107152923941612,-0.040256615728140,0.175484642386436,0.048786588013172,-0.118283756077290,0.048147328197956,-0.050144188106060,0.105413235723972,-0.030166888609529,-0.026080267503858,-0.068886153399944,0.139918163418770,-0.099169611930847,-0.089678436517715,-0.057589136064053));
res += mul(Get(s3,0,0), float4x4(-0.084808655083179,-0.138148978352547,-0.026333859190345,0.095307894051075,0.224825039505959,0.122393935918808,-0.111495353281498,0.005879504606128,-0.115827195346355,-0.045045211911201,-0.076082117855549,-0.000194781081518,0.140182271599770,-0.197012230753899,0.037941273301840,-0.194576382637024));
res += mul(Get(s3,0,dy), float4x4(-0.015547566115856,-0.174638465046883,-0.001203295541927,0.057362191379070,-0.063304699957371,-0.021258505061269,-0.081227310001850,0.150819808244705,-0.052199829369783,-0.116115354001522,-0.092731587588787,-0.091982334852219,-0.006893132347614,-0.161783576011658,-0.121951483190060,0.032387878745794));
res += mul(Get(s3,dx,-dy), float4x4(-0.139104127883911,0.216763108968735,-0.025645622983575,0.182103872299194,-0.061099123209715,-0.165099442005157,0.027083192020655,-0.031019367277622,0.023160628974438,-0.029065502807498,-0.083903126418591,-0.144712910056114,-0.079147763550282,0.067592687904835,-0.087092652916908,0.039591163396835));
res += mul(Get(s3,dx,0), float4x4(-0.163219422101974,-0.109439127147198,-0.052575089037418,0.081748098134995,-0.074885994195938,0.217701703310013,-0.002513793297112,-0.007333645131439,0.114203751087189,0.016542958095670,0.055707484483719,0.123226217925549,0.089720092713833,-0.081695988774300,-0.063299544155598,-0.090318225324154));
res += mul(Get(s3,dx,dy), float4x4(0.046743627637625,0.090926229953766,0.078680731356144,-0.008766576647758,-0.023014578968287,0.005374121014029,-0.118170104920864,0.239798292517662,-0.118430025875568,0.056451655924320,-0.120058678090572,0.100315511226654,0.021628117188811,0.117456428706646,-0.088006071746349,0.131012156605721));
return max(float4(0,0,0,0), res);
}
