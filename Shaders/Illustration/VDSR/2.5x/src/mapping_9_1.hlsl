sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.036676604300737,-0.097660690546036,-0.018337115645409,0.106343656778336,0.298197090625763,-0.166116282343864,-0.147127091884613,0.155709579586983,-0.252895951271057,0.076384983956814,0.031210405752063,0.092892415821552,-0.162742644548416,0.009159320965409,0.024148732423782,-0.043432317674160));
res += mul(Get(s0,-dx,0), float4x4(0.002572361147031,-0.146124035120010,0.011029447428882,-0.047363206744194,0.014625417068601,-0.059516396373510,-0.001413079560734,-0.006640195380896,0.032718710601330,0.269188344478607,0.057299200445414,0.081969700753689,-0.088753908872604,0.238911375403404,-0.108332715928555,-0.054181735962629));
res += mul(Get(s0,-dx,dy), float4x4(-0.065172940492630,0.024681638926268,0.091329187154770,0.051614824682474,-0.031608249992132,0.016430864110589,-0.126598060131073,0.128693893551826,-0.015028962865472,0.110342472791672,-0.072029463946819,0.151470780372620,-0.040031362324953,-0.051615159958601,-0.088844545185566,-0.073983252048492));
res += mul(Get(s0,0,-dy), float4x4(-0.021242225542665,-0.050501715391874,-0.098036527633667,-0.033239576965570,0.147836819291115,-0.161053761839867,-0.079755991697311,0.125843554735184,-0.022886553779244,0.061149861663580,-0.010206797160208,0.257126152515411,-0.119977928698063,-0.232929810881615,-0.055673494935036,0.176458179950714));
res += mul(Get(s0,0,0), float4x4(0.029757060110569,-0.096073880791664,0.110585980117321,-0.095607511699200,0.119164153933525,0.068656899034977,-0.052030127495527,0.175183385610580,-0.185981586575508,0.005561418831348,0.081883788108826,-0.089454986155033,-0.092278875410557,-0.187138661742210,-0.159651741385460,0.254315257072449));
res += mul(Get(s0,0,dy), float4x4(0.019506050273776,0.018171099945903,-0.044071435928345,0.296042174100876,0.054353151470423,0.099350959062576,-0.028329689055681,0.306123137474060,-0.052658580243587,0.037825219333172,-0.121894292533398,0.115851208567619,0.341689854860306,-0.000276751728961,-0.083777301013470,0.127666309475899));
res += mul(Get(s0,dx,-dy), float4x4(-0.127698153257370,0.081188753247261,0.029455209150910,0.092904113233089,0.274088829755783,-0.136507362127304,-0.042986188083887,0.029074678197503,-0.132978647947311,0.051941905170679,0.017059393227100,-0.004577663727105,0.051179841160774,-0.021790424361825,0.024861030280590,0.125569015741348));
res += mul(Get(s0,dx,0), float4x4(-0.033783193677664,-0.058265648782253,-0.088047400116920,0.014817526564002,0.218277424573898,0.122560970485210,0.017373213544488,-0.084709040820599,-0.115256175398827,0.200960934162140,0.275170505046844,-0.012157001532614,0.148977488279343,0.131473705172539,-0.173437282443047,0.079527251422405));
res += mul(Get(s0,dx,dy), float4x4(0.145610243082047,0.023562194779515,-0.101347021758556,0.219506621360779,-0.038094002753496,0.104907996952534,-0.019037580117583,0.043801724910736,-0.064655236899853,0.354963600635529,-0.114729486405849,0.087576024234295,0.049479808658361,0.162206843495369,-0.192104503512383,0.006719579920173));
res += mul(Get(s1,-dx,-dy), float4x4(0.403267443180084,-0.137829706072807,-0.124570801854134,0.256904780864716,-0.106746815145016,0.131275817751884,-0.060675945132971,0.117421947419643,0.213718727231026,0.027107367292047,-0.026570606976748,0.016058746725321,0.241538807749748,-0.127866953611374,0.013998996466398,-0.008573506958783));
res += mul(Get(s1,-dx,0), float4x4(-0.079745456576347,-0.191168352961540,-0.133283108472824,0.013141962699592,-0.178682118654251,0.031217617914081,-0.157759398221970,0.042900480329990,-0.057945892214775,-0.080856584012508,-0.072668679058552,-0.129657238721848,-0.173055410385132,-0.076126776635647,-0.004634674172848,-0.074027910828590));
res += mul(Get(s1,-dx,dy), float4x4(-0.206372022628784,-0.100181385874748,-0.017372643575072,0.007744749542326,-0.045241270214319,0.177020773291588,-0.235425516963005,-0.001130315125920,-0.069956049323082,0.138752505183220,0.093852519989014,-0.124028339982033,0.078399576246738,-0.103622831404209,-0.027460811659694,-0.094224534928799));
res += mul(Get(s1,0,-dy), float4x4(0.212270990014076,-0.194397509098053,-0.288286596536636,-0.019353397190571,-0.038347449153662,-0.021824426949024,-0.052082978188992,-0.008354407735169,0.035005457699299,0.089661084115505,0.112169794738293,-0.084975562989712,0.022819451987743,0.001544130500406,-0.017184572294354,0.015520931221545));
res += mul(Get(s1,0,0), float4x4(-0.051253415644169,-0.212833404541016,-0.046229291707277,-0.133813515305519,-0.052161160856485,0.020175803452730,-0.103326886892319,0.029960626736283,-0.148771956562996,-0.339644670486450,0.083188794553280,-0.083370961248875,-0.124287024140358,0.114674866199493,-0.126218095421791,0.063316330313683));
res += mul(Get(s1,0,dy), float4x4(-0.120013810694218,-0.077506855130196,0.150637522339821,-0.062467943876982,0.112458102405071,0.050301842391491,-0.194876313209534,-0.076334729790688,-0.071454845368862,-0.060738231986761,0.012392457574606,0.086869731545448,0.008248074911535,0.214400380849838,0.061613742262125,-0.072395436465740));
res += mul(Get(s1,dx,-dy), float4x4(0.134897559881210,-0.214010745286942,-0.227870792150497,-0.024133129045367,-0.092526063323021,-0.191895827651024,-0.074160993099213,0.189569279551506,-0.036405041813850,0.225403964519501,0.104785665869713,0.064329691231251,-0.017277648672462,0.024443076923490,0.046100303530693,0.010377241298556));
res += mul(Get(s1,dx,0), float4x4(0.052074316889048,0.113870710134506,0.110604196786880,0.005614356137812,-0.119498491287231,-0.049769021570683,-0.102492392063141,0.122150480747223,-0.041928209364414,0.042647615075111,-0.053821437060833,0.273442894220352,-0.072652719914913,0.250065773725510,-0.119429193437099,0.066030122339725));
res += mul(Get(s1,dx,dy), float4x4(-0.069075249135494,0.068220742046833,-0.025904379785061,0.168338820338249,-0.114068500697613,-0.015953384339809,-0.109286464750767,-0.003965981304646,-0.017138021066785,0.161401703953743,-0.082873083651066,0.173850879073143,0.075519450008869,0.179630905389786,-0.136043131351471,0.023147027939558));
res += mul(Get(s2,-dx,-dy), float4x4(-0.000828458985779,-0.180285990238190,-0.165473148226738,-0.156949356198311,-0.064957723021507,0.000734827190172,-0.040104743093252,-0.212371364235878,-0.078921295702457,-0.207848966121674,0.094891473650932,-0.091048121452332,-0.046665944159031,-0.054677862673998,0.055490151047707,0.267373651266098));
res += mul(Get(s2,-dx,0), float4x4(0.141414254903793,-0.068838611245155,0.149601370096207,-0.123693920671940,-0.038749001920223,-0.088222213089466,0.098431624472141,-0.031577285379171,-0.022662550210953,0.210924983024597,-0.067839577794075,0.071835651993752,0.131875976920128,-0.047146920114756,0.131613537669182,0.059570085257292));
res += mul(Get(s2,-dx,dy), float4x4(-0.031357705593109,-0.074412785470486,-0.045573495328426,-0.163741618394852,-0.038997076451778,-0.137447938323021,0.082889981567860,-0.083061188459396,-0.066614776849747,0.124011211097240,-0.015051040798426,-0.130996152758598,0.220904976129532,-0.066896617412567,0.050938110798597,-0.070108979940414));
res += mul(Get(s2,0,-dy), float4x4(0.102096050977707,-0.135095328092575,-0.133566856384277,-0.123830348253250,0.048904474824667,0.051275104284286,0.073205769062042,-0.131342276930809,-0.160323381423950,0.009250504896045,0.032893110066652,0.065633326768875,0.016052410006523,0.022127840667963,0.096261627972126,0.288318127393723));
res += mul(Get(s2,0,0), float4x4(0.030746530741453,-0.056949172168970,-0.044615868479013,-0.061077095568180,0.010033660568297,0.182332336902618,0.187582820653915,-0.122496999800205,0.053205918520689,0.047633375972509,-0.095066547393799,0.096475876867771,0.322557628154755,0.223751589655876,0.020075248554349,-0.009615290910006));
res += mul(Get(s2,0,dy), float4x4(-0.160925194621086,0.010182176716626,0.242315322160721,-0.018006494268775,-0.085040688514709,0.084197990596294,0.203278690576553,-0.097259424626827,-0.046213906258345,0.205467611551285,-0.088298194110394,-0.017052527517080,0.219830274581909,0.034523703157902,0.073680818080902,-0.082163795828819));
res += mul(Get(s2,dx,-dy), float4x4(-0.158016532659531,-0.056794270873070,-0.001678440254182,-0.094672612845898,0.137935101985931,0.028732335194945,0.107488319277763,-0.026135444641113,-0.015282238833606,0.105120427906513,0.008579481393099,-0.178532645106316,-0.096242770552635,0.029883882030845,0.075271889567375,0.253834247589111));
res += mul(Get(s2,dx,0), float4x4(0.117807462811470,-0.081335335969925,0.110374137759209,-0.048119124025106,-0.059981901198626,0.239398047327995,0.244386076927185,-0.088114902377129,0.093972861766815,0.179246768355370,-0.219784080982208,-0.049568828195333,0.081561066210270,0.060354430228472,-0.119106255471706,0.052922368049622));
res += mul(Get(s2,dx,dy), float4x4(-0.127528816461563,-0.001310137915425,0.175436615943909,-0.062434162944555,-0.107082433998585,-0.077900089323521,0.171062961220741,-0.060679536312819,-0.077502653002739,0.118555165827274,-0.085342280566692,-0.044367186725140,0.160566493868828,0.090141348540783,0.065128870308399,-0.087398439645767));
res += mul(Get(s3,-dx,-dy), float4x4(-0.078314423561096,0.070899806916714,0.118344120681286,-0.073690272867680,-0.208483636379242,-0.054328761994839,0.083854138851166,0.342468887567520,-0.084779880940914,-0.059535551816225,-0.091944053769112,0.071413837373257,-0.026648333296180,-0.035555701702833,-0.117501452565193,0.086586989462376));
res += mul(Get(s3,-dx,0), float4x4(-0.084523953497410,0.151594802737236,0.035724584013224,-0.030875464901328,-0.059322636574507,-0.195123434066772,-0.055490907281637,0.162280097603798,0.242883488535881,-0.060014069080353,-0.051763951778412,-0.113529369235039,-0.070277482271194,-0.088625721633434,0.079290397465229,-0.043553743511438));
res += mul(Get(s3,-dx,dy), float4x4(0.024691086262465,-0.115640401840210,-0.183341175317764,-0.019563555717468,0.092877827584743,0.044846497476101,-0.104078814387321,0.242399647831917,-0.150429636240005,-0.161915495991707,-0.118836261332035,-0.095999874174595,-0.111577764153481,0.132148489356041,0.239368215203285,-0.099074810743332));
res += mul(Get(s3,0,-dy), float4x4(0.013580386526883,-0.066268153488636,0.017648104578257,-0.034144546836615,0.017976213246584,0.132400348782539,0.111780904233456,-0.052256491035223,-0.102229610085487,0.020321218296885,0.041980016976595,0.066372357308865,-0.034490503370762,-0.112389430403709,-0.204477280378342,-0.038264919072390));
res += mul(Get(s3,0,0), float4x4(-0.002583903493360,0.333280205726624,-0.092944428324699,0.101145528256893,0.031434830278158,0.013268122449517,-0.107424937188625,0.016266524791718,0.017099192366004,0.082870282232761,-0.052524797618389,-0.140102669596672,-0.021487420424819,-0.152990132570267,0.317466109991074,-0.132940575480461));
res += mul(Get(s3,0,dy), float4x4(0.014338197186589,0.037495315074921,-0.142844155430794,-0.051383186131716,0.017089819535613,0.007518399972469,-0.070544220507145,-0.146493032574654,0.036830317229033,-0.031391780823469,0.020125126466155,-0.135848447680473,-0.014254374429584,0.103598922491074,0.352399736642838,-0.111067332327366));
res += mul(Get(s3,dx,-dy), float4x4(-0.080112732946873,-0.033859983086586,-0.084907159209251,0.149816468358040,-0.044629335403442,0.278887242078781,-0.097817666828632,0.061579298228025,0.104954592883587,0.130412369966507,0.079531826078892,-0.019615001976490,0.087811931967735,-0.150429725646973,-0.026769561693072,-0.035271156579256));
res += mul(Get(s3,dx,0), float4x4(0.028617423027754,0.080488093197346,-0.095318712294102,-0.012800272554159,0.099599838256836,-0.009212415665388,-0.014994340948761,-0.002484591910616,0.194020956754684,0.166487857699394,-0.048813294619322,-0.115274973213673,-0.123634636402130,-0.076467618346214,0.415743678808212,-0.056285090744495));
res += mul(Get(s3,dx,dy), float4x4(-0.132321760058403,-0.052695173770189,-0.110816158354282,-0.025414461269975,0.032676883041859,0.071173764765263,-0.073156900703907,0.180050984025002,-0.134705424308777,0.006224778480828,-0.033703483641148,0.037298630923033,0.063788488507271,0.188645720481873,0.023346474394202,0.201186031103134));
return max(float4(0,0,0,0), res);
}
