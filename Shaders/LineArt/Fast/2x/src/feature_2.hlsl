sampler s0 : register(s0);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define ddx  (dx * 2.0)
#define ddy  (dy * 2.0)
#define Get(x, y)   tex2D(s0, tex + float2(x, y))[0]

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(-0.312106132507324,-0.019866446033120,0.023503053933382,0.041388545185328);
res += float4(0.040336199104786,0.025533137843013,0.018938109278679,0.026842718943954) * Get(-ddx,-ddy);
res += float4(-0.051138892769814,-0.045314937829971,0.024322494864464,-0.046733256429434) * Get(-ddx,-dy);
res += float4(-0.062752068042755,0.158131271600723,0.018128823488951,-0.024185813963413) * Get(-ddx,0);
res += float4(0.081180758774281,0.029721025377512,-0.018943846225739,0.137283518910408) * Get(-ddx,dy);
res += float4(-0.031558159738779,-0.009394542314112,-0.091402538120747,-0.077975980937481) * Get(-ddx,ddy);
res += float4(0.037992857396603,0.036705955862999,-0.003116278210655,-0.013497349806130) * Get(-dx,-ddy);
res += float4(-0.236959919333458,0.000022441823603,-0.054450996220112,0.075343444943428) * Get(-dx,-dy);
res += float4(0.241317763924599,0.428404390811920,-0.023018125444651,0.166674822568893) * Get(-dx,0);
res += float4(-0.235230460762978,-0.067075401544571,-0.373220294713974,0.533369004726410) * Get(-dx,dy);
res += float4(0.026717098429799,0.067622564733028,0.476012140512466,0.075860515236855) * Get(-dx,ddy);
res += float4(0.067869193851948,0.103160627186298,-0.032777018845081,-0.026644926518202) * Get(0,-ddy);
res += float4(0.510445296764374,-0.032161038368940,0.029866855591536,-0.018969057127833) * Get(0,-dy);
res += float4(0.531620562076569,-0.065795868635178,-0.228498920798302,-0.652894973754883) * Get(0,0);
res += float4(-0.295637696981430,-0.052997533231974,-0.264509826898575,-0.208871752023697) * Get(0,dy);
res += float4(-0.011213548481464,0.086542814970016,0.613577008247375,0.029332637786865) * Get(0,ddy);
res += float4(0.108126707375050,-0.025205181911588,0.032626330852509,-0.020322829484940) * Get(dx,-ddy);
res += float4(-0.144593551754951,0.012110869400203,-0.043950818479061,0.024691518396139) * Get(dx,-dy);
res += float4(-0.148947253823280,-0.657900273799896,0.138900816440582,0.033318258821964) * Get(dx,0);
res += float4(0.018024016171694,0.168622165918350,0.000887042202521,-0.021186413243413) * Get(dx,dy);
res += float4(-0.022370425984263,-0.058895081281662,-0.169206365942955,0.005358071532100) * Get(dx,ddy);
res += float4(-0.049466669559479,-0.028655944392085,0.001288246596232,0.012576470151544) * Get(ddx,-ddy);
res += float4(0.056070607155561,0.029346616938710,-0.029511597007513,-0.000165130681125) * Get(ddx,-dy);
res += float4(0.060464970767498,-0.016084436327219,0.020493708550930,-0.060361780226231) * Get(ddx,0);
res += float4(-0.051773250102997,0.040376141667366,-0.026859689503908,0.041012506932020) * Get(ddx,dy);
res += float4(-0.018275614827871,-0.071620538830757,0.027407577261329,-0.010338113643229) * Get(ddx,ddy);
res = max(float4(0, 0, 0, 0), res) + float4(0.375031948089600,0.994763791561127,-0.451971352100372,-0.316970795392990) * min(float4(0, 0, 0, 0), res);
return res;
}
