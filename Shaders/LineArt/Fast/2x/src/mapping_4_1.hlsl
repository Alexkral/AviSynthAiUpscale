sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(-0.117517225444317,-0.071299411356449,-0.017691923305392,-0.107226081192493);
res += mul(Get(s0,-dx,-dy), float4x4(0.044409979134798,0.049563039094210,0.055495779961348,0.000459660659544,-0.033617664128542,0.253040641546249,-0.033765420317650,0.109158053994179,0.035014696419239,-0.142656192183495,-0.065599441528320,0.093656502664089,0.063065603375435,0.017433898523450,0.063682921230793,-0.027208741754293));
res += mul(Get(s0,-dx,0), float4x4(-0.090333700180054,0.115618690848351,0.042285550385714,0.024968804791570,0.048090983182192,0.096586577594280,-0.052181500941515,0.100583881139755,-0.120951205492020,0.117220245301723,-0.038431432098150,0.179718226194382,0.080572851002216,-0.205345720052719,0.150831043720245,-0.194566860795021));
res += mul(Get(s0,-dx,dy), float4x4(0.050444431602955,0.045084275305271,-0.003114552004263,0.060113392770290,-0.058630444109440,0.052747849375010,0.009019774384797,0.065197996795177,0.088822491466999,-0.124340854585171,0.039733126759529,-0.061494000256062,0.009653366170824,-0.059644743800163,0.007201933301985,-0.002565964125097));
res += mul(Get(s0,0,-dy), float4x4(-0.271394997835159,0.080086596310139,0.090492941439152,0.153583616018295,-0.011093128472567,0.137787401676178,-0.017381284385920,0.207110926508904,-0.117876268923283,0.057402011007071,-0.085437096655369,-0.215907052159309,0.289536029100418,-0.111432120203972,0.111764304339886,0.066480614244938));
res += mul(Get(s0,0,0), float4x4(0.554963827133179,-0.233698651194572,0.000389313820051,-0.093314960598946,-0.118032872676849,0.145282417535782,0.028558596968651,-0.063881203532219,-0.092480480670929,0.350497514009476,0.043337527662516,0.018777752295136,0.221894502639771,0.461202532052994,0.005645560566336,0.308750510215759));
res += mul(Get(s0,0,dy), float4x4(-0.053717248141766,0.109382316470146,-0.012939383275807,0.223899245262146,-0.112380146980286,0.078578263521194,-0.009372025728226,0.059340626001358,0.294513851404190,-0.166850417852402,0.084770239889622,-0.227934122085571,0.189908653497696,-0.094878628849983,0.033151675015688,-0.059201128780842));
res += mul(Get(s0,dx,-dy), float4x4(-0.019443729892373,0.014064440503716,0.030147613957524,0.075880832970142,0.042337529361248,-0.107460439205170,0.014733826741576,-0.052227988839149,-0.019348092377186,-0.003260387573391,0.068487606942654,0.083755917847157,-0.030424250289798,-0.060402147471905,0.014236762188375,-0.198717623949051));
res += mul(Get(s0,dx,0), float4x4(-0.107412897050381,0.099758908152580,0.016470469534397,-0.002714938251302,0.061811875551939,-0.111302495002747,0.081456124782562,0.144057437777519,0.137434303760529,-0.039289895445108,0.107512421905994,0.302643835544586,0.315320909023285,-0.105538949370384,0.178962990641594,0.213382631540298));
res += mul(Get(s0,dx,dy), float4x4(-0.030147088691592,0.048659961670637,0.002810292411596,0.095173396170139,-0.074170514941216,0.025060551241040,0.063852027058601,-0.000344720174326,-0.008195002563298,0.025647597387433,0.051517788320780,-0.103408649563789,0.247112169861794,-0.071315072476864,0.023571431636810,-0.187029823660851));
res += mul(Get(s1,-dx,-dy), float4x4(-0.168202891945839,0.125207737088203,-0.000511710532010,0.034721836447716,0.147953644394875,0.127031460404396,-0.033046834170818,-0.015311032533646,0.114975839853287,-0.341077327728271,0.055031862109900,-0.148086264729500,-0.051785904914141,-0.086564831435680,-0.058230001479387,0.051674619317055));
res += mul(Get(s1,-dx,0), float4x4(0.012250134721398,-0.048949271440506,-0.030574373900890,0.089904479682446,0.202820375561714,0.084856256842613,-0.010670532472432,0.030338322743773,0.057019136846066,-0.159695163369179,0.241263821721077,-0.139551162719727,0.173075094819069,0.175190880894661,0.042359091341496,0.129141628742218));
res += mul(Get(s1,-dx,dy), float4x4(0.017620399594307,0.012611811980605,0.042110607028008,-0.086266435682774,0.016719583421946,-0.084419757127762,-0.000875748286489,-0.037305958569050,0.289881318807602,-0.084678478538990,0.043220989406109,-0.154729396104813,0.130752295255661,-0.123250655829906,-0.006906350608915,-0.090984858572483));
res += mul(Get(s1,0,-dy), float4x4(-0.286306053400040,-0.008099372498691,0.075367890298367,0.201019242405891,0.479944407939911,0.041942093521357,-0.032026767730713,0.357762515544891,0.149784833192825,-0.248968973755836,-0.093793116509914,-0.297954976558685,0.148582190275192,0.154237508773804,-0.091213323175907,-0.149305552244186));
res += mul(Get(s1,0,0), float4x4(0.289208680391312,0.317691087722778,0.067471362650394,0.038316283375025,-0.433577299118042,0.312460064888000,-0.036707796156406,0.352512866258621,0.182712063193321,-0.307480871677399,0.018301278352737,-0.386047542095184,-0.003288746811450,0.633919060230255,0.227092519402504,0.402631819248199));
res += mul(Get(s1,0,dy), float4x4(-0.364590346813202,0.069366268813610,-0.009294502437115,0.104999564588070,0.359561830759048,-0.233922913670540,0.062713839113712,-0.170562520623207,-0.242278963327408,0.044526543468237,-0.102174907922745,0.167486280202866,0.608663022518158,-0.098781399428844,-0.075857952237129,-0.178355962038040));
res += mul(Get(s1,dx,-dy), float4x4(0.019836701452732,-0.103162981569767,-0.000534846680239,-0.163444712758064,0.168187305331230,0.050879977643490,-0.097872301936150,0.148920238018036,0.040384747087955,-0.032656561583281,-0.015541122294962,-0.121609814465046,0.004803662654012,-0.024582108482718,-0.045926239341497,0.092605009675026));
res += mul(Get(s1,dx,0), float4x4(0.063824273645878,-0.055863026529551,0.012821259908378,0.099481098353863,0.057454120367765,0.016203653067350,-0.040118921548128,0.262548565864563,0.201123744249344,-0.025629280135036,0.040921505540609,-0.189635545015335,0.065886735916138,-0.080999620258808,-0.028716757893562,0.203248992562294));
res += mul(Get(s1,dx,dy), float4x4(-0.164371579885483,0.044982157647610,0.026525061577559,0.092314429581165,0.081689268350601,-0.060914505273104,-0.008414132520556,-0.188365474343300,0.127140820026398,-0.076199777424335,0.014326153323054,-0.121851854026318,0.107812277972698,-0.008638504892588,-0.092598564922810,0.012438545934856));
res += mul(Get(s2,-dx,-dy), float4x4(-0.103734165430069,0.127984702587128,0.041339982300997,-0.029253257438540,0.035831913352013,-0.013236969709396,-0.100333362817764,0.026869019493461,0.080134727060795,0.118463315069675,0.017843473702669,0.053647790104151,-0.062753431499004,0.152002662420273,0.061884980648756,-0.072246670722961));
res += mul(Get(s2,-dx,0), float4x4(0.058751337230206,-0.430044710636139,-0.039012424647808,-0.190245553851128,0.001160469604656,0.040253683924675,-0.252264648675919,0.166007772088051,0.132187500596046,0.196656450629234,-0.022050911560655,0.096510589122772,-0.074749588966370,-0.126952558755875,0.070591025054455,-0.264114022254944));
res += mul(Get(s2,-dx,dy), float4x4(-0.261207699775696,0.122966162860394,0.005589888896793,0.063497886061668,-0.096367165446281,0.096443310379982,-0.052153304219246,0.076141633093357,0.040769945830107,0.018387829884887,0.011909164488316,0.029993807896972,0.078951947391033,0.004738412331790,0.013654297217727,0.033852133899927));
res += mul(Get(s2,0,-dy), float4x4(-0.143882393836975,-0.110235013067722,0.010957606136799,0.134199574589729,-0.112271405756474,-0.128445446491241,-0.096610903739929,-0.166220247745514,-0.296687722206116,-0.190211713314056,0.035875897854567,-0.062832430005074,-0.084888085722923,-0.259820759296417,0.110459901392460,0.189165294170380));
res += mul(Get(s2,0,0), float4x4(0.186213955283165,0.069401167333126,-0.111178867518902,-0.288650721311569,0.039630409330130,-0.500145196914673,0.635309100151062,-0.557660579681396,0.238455757498741,-0.338624179363251,-0.071285955607891,0.014959396794438,-0.071448527276516,-0.211680218577385,0.127154663205147,0.280659914016724));
res += mul(Get(s2,0,dy), float4x4(-0.355469107627869,0.045506723225117,-0.077445633709431,0.180777415633202,-0.238064572215080,0.047337844967842,-0.136891975998878,0.174400612711906,-0.223718702793121,0.010238034650683,-0.074667461216450,0.041116900742054,-0.189211398363113,0.106760852038860,0.077334947884083,0.123168662190437));
res += mul(Get(s2,dx,-dy), float4x4(-0.031814031302929,0.012399710714817,0.007210162002593,-0.130014047026634,-0.033677369356155,0.007982145994902,-0.017061561346054,-0.051405414938927,-0.116084367036819,-0.040778752416372,0.061537083238363,-0.144355416297913,-0.010216131806374,0.072331480681896,-0.062164124101400,-0.110586926341057));
res += mul(Get(s2,dx,0), float4x4(-0.078273572027683,-0.039367448538542,-0.040617350488901,0.046276293694973,-0.011639011092484,-0.068104922771454,-0.051363807171583,-0.190701454877853,0.264787971973419,0.105635471642017,-0.081333197653294,-0.029474142938852,-0.142820939421654,0.076923280954361,-0.165866807103157,-0.124669969081879));
res += mul(Get(s2,dx,dy), float4x4(-0.004839443601668,-0.003540440928191,0.019909752532840,-0.064901053905487,-0.146058335900307,0.037388503551483,-0.086071103811264,-0.016544569283724,-0.395709753036499,0.156314328312874,-0.084159113466740,0.076660811901093,0.102170944213867,-0.063257053494453,-0.067527547478676,0.060466788709164));
res = max(float4(0, 0, 0, 0), res) + float4(0.471280932426453,-0.234713166952133,0.996697127819061,-0.198741450905800) * min(float4(0, 0, 0, 0), res);
return res;
}
