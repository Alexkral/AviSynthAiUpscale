sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0.002957660239190,0.011972633190453,0.013229725882411,0.021615564823151);
res += mul(Get(s0,-dx,-dy), float4x4(-0.112254031002522,0.165823429822922,0.181089237332344,-0.198745980858803,0.183872163295746,-0.091220997273922,-0.210799112915993,-0.046070709824562,0.305879086256027,0.027775468304753,0.083937741816044,-0.236305698752403,-0.123843312263489,-0.043496135622263,-0.255440026521683,-0.131761834025383));
res += mul(Get(s0,-dx,0), float4x4(-0.110528200864792,0.307401746511459,-0.055956717580557,-0.017187023535371,0.112205177545547,-0.159421846270561,-0.224188029766083,-0.111940227448940,-0.042054146528244,-0.050874195992947,-0.269840776920319,-0.076599664986134,0.197111681103706,-0.171600162982941,-0.126084759831429,0.207640960812569));
res += mul(Get(s0,-dx,dy), float4x4(-0.073778577148914,0.090960919857025,-0.017604261636734,-0.115058280527592,-0.154956281185150,-0.027572557330132,-0.314918637275696,-0.037162616848946,-0.157695129513741,0.000493043160532,-0.047642119228840,0.052801519632339,-0.110646769404411,-0.035410601645708,0.116378933191299,0.193424656987190));
res += mul(Get(s0,0,-dy), float4x4(-0.040564499795437,-0.077717378735542,0.327845960855484,0.079653084278107,-0.080815203487873,0.001233413699083,0.149902999401093,0.100287966430187,0.205780908465385,-0.348651558160782,0.067355327308178,-0.101618573069572,0.115720562636852,0.131444454193115,-0.177181780338287,-0.305465251207352));
res += mul(Get(s0,0,0), float4x4(-0.085829690098763,-0.246166184544563,0.165936887264252,0.244385525584221,-0.083717748522758,0.307928234338760,-0.224773764610291,0.057522155344486,0.044152650982141,0.113419763743877,-0.029557252302766,0.294566422700882,-0.283173501491547,0.041950047016144,-0.453981667757034,-0.103877931833267));
res += mul(Get(s0,0,dy), float4x4(0.273225814104080,0.039638336747885,-0.127720236778259,0.104253120720387,-0.388525456190109,0.328857481479645,-0.126442685723305,-0.125282362103462,0.018832230940461,-0.141414016485214,-0.144676432013512,0.032566320151091,-0.066100314259529,-0.207240477204323,0.184150725603104,0.113048449158669));
res += mul(Get(s0,dx,-dy), float4x4(0.032227966934443,0.002777733607218,-0.271087437868118,-0.185545295476913,-0.002416731789708,0.107458882033825,-0.105333223938942,-0.047614436596632,-0.121707551181316,0.277779251337051,-0.055246945470572,-0.039141308516264,0.089895956218243,-0.102373152971268,0.277923077344894,0.105195328593254));
res += mul(Get(s0,dx,0), float4x4(0.050019156187773,-0.194760769605637,0.013506980612874,-0.024225361645222,-0.025786897167563,-0.134867459535599,0.090324513614178,-0.033855941146612,-0.347324818372726,0.083526335656643,-0.047242216765881,0.054305493831635,-0.123610101640224,0.124501675367355,-0.001587924314663,0.213930264115334));
res += mul(Get(s0,dx,dy), float4x4(0.127142593264580,-0.069201819598675,-0.083913110196590,0.050253614783287,-0.018665172159672,-0.025624571368098,-0.014941543340683,-0.166886135935783,0.001088185701519,-0.044840089976788,0.015793822705746,-0.283327162265778,0.170078828930855,0.115324176847935,0.138927593827248,-0.219030648469925));
res += mul(Get(s1,-dx,-dy), float4x4(0.096968099474907,-0.145278051495552,-0.072144895792007,-0.075279891490936,0.212567433714867,0.006790278479457,0.161200419068336,0.330280512571335,0.135594129562378,-0.062495574355125,0.034576673060656,-0.056010827422142,-0.049640785902739,-0.134780913591385,0.054817605763674,-0.014726433902979));
res += mul(Get(s1,-dx,0), float4x4(0.147937297821045,0.288251101970673,-0.020563671365380,0.045299857854843,-0.280086547136307,0.397704631090164,-0.336161971092224,-0.279987215995789,0.072990134358406,0.042579501867294,0.142322033643723,0.095341451466084,0.103070080280304,-0.062399316579103,0.040890332311392,-0.127713963389397));
res += mul(Get(s1,-dx,dy), float4x4(-0.301756441593170,0.169593691825867,-0.213790267705917,-0.212578222155571,-0.112910300493240,-0.145171165466309,0.036780133843422,-0.153679654002190,-0.044400285929441,-0.046132922172546,0.049710232764482,0.072514995932579,-0.034468710422516,0.060144439339638,-0.018445223569870,0.138982549309731));
res += mul(Get(s1,0,-dy), float4x4(-0.186558768153191,0.085533894598484,-0.335642516613007,0.108037076890469,-0.042533479630947,-0.071681112051010,-0.109393090009689,0.165136709809303,0.238792046904564,-0.143857315182686,-0.397548735141754,-0.524081468582153,-0.403322815895081,0.366524636745453,-0.178645968437195,0.012139176018536));
res += mul(Get(s1,0,0), float4x4(-0.109316185116768,-0.254605084657669,0.482762366533279,0.078312210738659,-0.266174316406250,0.029097719117999,-0.116633184254169,-0.077634543180466,0.128163382411003,0.083645991981030,-0.041000202298164,-0.374908506870270,-0.198058754205704,0.151486039161682,0.013396474532783,0.218024790287018));
res += mul(Get(s1,0,dy), float4x4(0.079419277608395,-0.152453809976578,0.329843163490295,0.142622038722038,0.143825009465218,-0.024795135483146,0.037182807922363,-0.372370600700378,0.092594109475613,0.066092990338802,-0.060042306780815,-0.229796379804611,-0.005103359464556,-0.123578384518623,-0.045738764107227,0.015431241132319));
res += mul(Get(s1,dx,-dy), float4x4(-0.124882645905018,-0.072079271078110,-0.370127141475677,-0.069712862372398,0.055706795305014,0.071209952235222,0.356687545776367,-0.142942517995834,-0.247734159231186,0.007208976894617,0.192842215299606,0.005701521411538,0.081140801310539,0.014590107835829,-0.106635116040707,0.176342129707336));
res += mul(Get(s1,dx,0), float4x4(0.225930824875832,0.067905269563198,0.079844035208225,0.002930667484179,0.027952147647738,0.080066233873367,0.206335872411728,0.346279710531235,-0.056568842381239,-0.067829154431820,0.260798066854477,-0.029531199485064,0.027465879917145,0.217895194888115,-0.044200029224157,-0.051178302615881));
res += mul(Get(s1,dx,dy), float4x4(-0.034699346870184,-0.010986369103193,-0.188719809055328,-0.010136092081666,0.085539095103741,-0.028556235134602,0.074800536036491,0.005072129424661,-0.013613393530250,-0.015418259426951,0.075677216053009,0.187328413128853,0.024513438344002,-0.042104311287403,-0.142682328820229,0.074739374220371));
res += mul(Get(s2,-dx,-dy), float4x4(0.026088263839483,0.082380734384060,-0.078271903097630,-0.204407423734665,0.021392922848463,-0.044699583202600,0.064426504075527,-0.039561469107866,-0.139058455824852,0.077877148985863,-0.050670683383942,0.210551515221596,-0.521921515464783,-0.086187362670898,0.495282381772995,-0.314767897129059));
res += mul(Get(s2,-dx,0), float4x4(-0.063098184764385,-0.226816445589066,0.398323476314545,-0.163912042975426,-0.421829402446747,0.715150058269501,-0.196036174893379,-0.131705790758133,-0.397387862205505,0.581375360488892,0.055833533406258,0.109955340623856,0.302797853946686,-0.057389460504055,0.297048330307007,0.469483196735382));
res += mul(Get(s2,-dx,dy), float4x4(-0.148782417178154,-0.088595315814018,-0.081556499004364,0.466764867305756,-0.274089902639389,0.025252060964704,0.100684918463230,-0.235644698143005,0.037988070398569,-0.115146264433861,0.077372863888741,-0.010324176400900,0.573422133922577,0.096929669380188,-0.232220530509949,-0.049700040370226));
res += mul(Get(s2,0,-dy), float4x4(0.079272545874119,0.112659849226475,-0.379138529300690,0.134934470057487,-0.114635266363621,0.078324005007744,0.273774564266205,0.165259107947350,-0.341013312339783,0.072541229426861,0.089260555803776,-0.237287953495979,0.045147635042667,0.121599823236465,-0.053625065833330,-0.232737109065056));
res += mul(Get(s2,0,0), float4x4(0.018809854984283,0.261628627777100,-0.038486212491989,-0.090346954762936,0.939779818058014,-0.593747437000275,0.340830534696579,0.148642659187317,0.157385781407356,-0.352375656366348,-0.064486764371395,0.091297715902328,-0.172491192817688,0.016714507713914,-0.057450313121080,-0.130055949091911));
res += mul(Get(s2,0,dy), float4x4(-0.149852871894836,-0.003476504702121,0.076089479029179,-0.132953181862831,0.056818492710590,-0.070827879011631,-0.144193008542061,-0.015768276527524,0.407723665237427,-0.132366254925728,-0.048138417303562,0.042731981724501,-0.061238367110491,-0.089133985340595,0.190615728497505,0.268866449594498));
res += mul(Get(s2,dx,-dy), float4x4(0.033545061945915,-0.206349387764931,0.204887971282005,0.162873908877373,0.195876598358154,-0.067819930613041,-0.276634007692337,-0.061770245432854,-0.054306909441948,-0.159832447767258,0.250990837812424,-0.202758654952049,-0.127646774053574,-0.001760888611898,-0.026879962533712,0.215190231800079));
res += mul(Get(s2,dx,0), float4x4(0.049319200217724,0.040378719568253,-0.050086706876755,-0.232902020215988,-0.123260959982872,0.040343225002289,-0.100301414728165,-0.071631364524364,0.159222111105919,-0.109121859073639,-0.281396061182022,0.031852304935455,0.040874760597944,-0.148210272192955,-0.053250756114721,-0.020119674503803));
res += mul(Get(s2,dx,dy), float4x4(0.076387219130993,0.058315739035606,-0.071602679789066,-0.332454055547714,-0.181671917438507,0.014370807446539,-0.119201786816120,0.203869387507439,-0.041232269257307,0.044929560273886,-0.096830353140831,0.139167934656143,0.170399442315102,0.142391160130501,-0.073343686759472,-0.263586223125458));
res = max(float4(0, 0, 0, 0), res) + float4(-0.187493816018105,-0.515969276428223,-0.249988809227943,-0.473946839570999) * min(float4(0, 0, 0, 0), res);
return res;
}
