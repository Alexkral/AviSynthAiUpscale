sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0.080422513186932,0.092760801315308,-0.063474558293819,0.111290469765663);
res += mul(Get(s0,-dx,-dy), float4x4(-0.059298384934664,-0.099694989621639,0.056295074522495,0.173447966575623,0.065626844763756,0.026470702141523,-0.120126873254776,0.057246167212725,0.132354870438576,-0.165744885802269,0.019678629934788,0.087578579783440,-0.062949903309345,0.084998466074467,-0.346592664718628,0.021298894658685));
res += mul(Get(s0,-dx,0), float4x4(-0.155792236328125,-0.035228531807661,0.236386954784393,0.203883662819862,0.177859082818031,0.041120432317257,-0.265892595052719,-0.095432206988335,0.224306181073189,0.013867549598217,0.352852791547775,-0.349726080894470,0.310358196496964,0.023172086104751,-0.462555259466171,-0.328225672245026));
res += mul(Get(s0,-dx,dy), float4x4(-0.230740457773209,-0.070868104696274,0.270989030599594,0.401460886001587,0.114108718931675,-0.014242826960981,-0.171812042593956,-0.174242570996284,-0.062964551150799,-0.021321106702089,-0.391922265291214,0.092304654419422,0.004888503346592,0.001283021993004,-0.539543807506561,-0.042742758989334));
res += mul(Get(s0,0,-dy), float4x4(0.002791229402646,-0.034586001187563,-0.098353959619999,0.047983288764954,0.092977367341518,0.004932080861181,0.101493045687675,0.037689276039600,0.135908037424088,-0.056923877447844,-0.164016589522362,-0.027807626873255,-0.049171023070812,0.103616736829281,-0.106537386775017,-0.096819713711739));
res += mul(Get(s0,0,0), float4x4(-0.250001281499863,-0.013295440003276,0.149793967604637,0.073776200413704,-0.616896569728851,0.146024569869041,-0.051104437559843,-0.290212869644165,0.035083539783955,0.291418701410294,0.127077832818031,0.325680196285248,-0.128500238060951,0.051970634609461,0.310304731130600,0.128091588616371));
res += mul(Get(s0,0,dy), float4x4(0.037501499056816,-0.105386383831501,-0.354792296886444,-0.112956956028938,0.362502634525299,-0.216524153947830,-0.143964484333992,-0.723870933055878,0.016600590199232,-0.165455788373947,-0.213750451803207,-0.021170577034354,-0.071390755474567,0.017592830583453,0.158492460846901,0.421944797039032));
res += mul(Get(s0,dx,-dy), float4x4(0.107856363058090,0.006235341541469,0.229416295886040,0.068255141377449,-0.027177168056369,0.006768127903342,-0.072095364332199,-0.098253339529037,-0.106369480490685,-0.031955387443304,-0.026212312281132,-0.136958181858063,-0.257343053817749,0.220008715987206,-0.090704910457134,0.012752343900502));
res += mul(Get(s0,dx,0), float4x4(-0.164221242070198,-0.028604878112674,0.258741259574890,-0.062459737062454,-0.280377537012100,0.068184599280357,-0.075850747525692,0.122770771384239,-0.008046247996390,0.032230786979198,-0.021223051473498,-0.448291450738907,0.340278744697571,0.036647222936153,-0.191745266318321,0.293777316808701));
res += mul(Get(s0,dx,dy), float4x4(-0.211134120821953,0.079747438430786,-0.118518315255642,0.119701236486435,0.193560734391212,-0.029939467087388,-0.023065574467182,0.065340869128704,0.092594690620899,0.064918816089630,0.014860524795949,-0.143318518996239,0.163201808929443,0.141318976879120,0.097599796950817,0.151253208518028));
res += mul(Get(s1,-dx,-dy), float4x4(0.001533430651762,0.035534720867872,-0.307800948619843,-0.131306976079941,0.044731453061104,0.053996957838535,0.017922397702932,0.116083525121212,-0.007202440407127,0.085654713213444,-0.078316383063793,-0.152288451790810,0.058594960719347,-0.065265268087387,0.337461054325104,-0.059956520795822));
res += mul(Get(s1,-dx,0), float4x4(0.145348072052002,0.071195885539055,-0.570189237594604,-0.419178605079651,0.041796982288361,0.030785601586103,0.088561996817589,-0.125660642981529,-0.118058331310749,0.130119785666466,-0.238396868109703,-0.597230672836304,0.147695541381836,0.112255692481995,0.429119884967804,-0.323108375072479));
res += mul(Get(s1,-dx,dy), float4x4(0.013918645679951,-0.066170267760754,-0.454096913337708,0.074654176831245,-0.067441642284393,-0.033320359885693,-0.148604542016983,-0.005625580437481,-0.202446311712265,0.060064982622862,0.020850466564298,-0.104558296501637,-0.009706373326480,-0.001572385663167,0.186719596385956,-0.149858862161636));
res += mul(Get(s1,0,-dy), float4x4(-0.141387656331062,-0.201283365488052,-0.120502866804600,-0.077914886176586,-0.383688926696777,0.157042965292931,-0.095820263028145,-0.313450008630753,-0.113600589334965,-0.034262444823980,0.136305674910545,0.046755068004131,0.073936022818089,0.199761539697647,0.110784143209457,0.159759789705276));
res += mul(Get(s1,0,0), float4x4(0.134372204542160,-0.087228365242481,-0.109231665730476,0.392341077327728,-0.035867661237717,0.164647057652473,-0.024501679465175,-0.157860055565834,-0.142739042639732,0.035159669816494,-0.012859541922808,0.241531908512115,-0.396131575107574,-0.404447078704834,0.138387590646744,0.193342402577400));
res += mul(Get(s1,0,dy), float4x4(-0.159261882305145,-0.108773089945316,-0.238620489835739,0.031129656359553,-0.001781972823665,-0.025533866137266,-0.215921908617020,0.008356316946447,-0.053266335278749,0.064744018018246,0.389706820249557,0.039977669715881,0.057394370436668,-0.050621163100004,0.105899013578892,-0.022090155631304));
res += mul(Get(s1,dx,-dy), float4x4(0.277503728866577,-0.246422931551933,-0.154431298375130,0.225448325276375,-0.209048122167587,0.032254446297884,-0.035646341741085,-0.037599321454763,0.054671056568623,-0.024978626519442,0.090602822601795,-0.111361443996429,-0.112796738743782,-0.016154948621988,-0.035355642437935,-0.167526856064796));
res += mul(Get(s1,dx,0), float4x4(0.297954261302948,-0.452559471130371,-0.071763671934605,0.269267529249191,-0.381220757961273,0.122191250324249,0.039566833525896,-0.449295192956924,-0.175063416361809,-0.141783282160759,-0.091631561517715,-0.299044430255890,-0.209884628653526,-0.168846279382706,-0.180575683712959,-0.278800964355469));
res += mul(Get(s1,dx,dy), float4x4(0.219085872173309,-0.209989041090012,0.030971422791481,0.215397536754608,0.096186332404613,-0.018901046365499,-0.114562317728996,-0.215285867452621,0.043703876435757,-0.046341702342033,-0.026133958250284,-0.163726761937141,-0.059604872018099,0.027394969016314,-0.025068499147892,-0.092164285480976));
res += mul(Get(s2,-dx,-dy), float4x4(-0.070466227829456,-0.005348711274564,0.082963474094868,0.113263219594955,-0.032556023448706,0.046662416309118,-0.116524919867516,0.020988941192627,-0.069204226136208,0.045450679957867,-0.096142619848251,-0.005972453393042,0.058787744492292,0.104927599430084,-0.371455520391464,-0.242383569478989));
res += mul(Get(s2,-dx,0), float4x4(0.010104800574481,-0.045464839786291,-0.225468173623085,0.342261999845505,0.000655925599858,0.080291487276554,0.064409069716930,0.154206439852715,0.035448350012302,0.053210914134979,0.312543481588364,0.115913048386574,-0.018442444503307,0.078296601772308,-0.082736924290657,-0.348500251770020));
res += mul(Get(s2,-dx,dy), float4x4(0.131797641515732,0.044564250856638,0.538302838802338,0.007770739495754,0.006889044772834,0.091375261545181,-0.459290593862534,0.010989718139172,0.288511097431183,-0.028605500236154,0.183466494083405,-0.134497120976448,-0.012141590937972,0.014812803827226,-0.354723632335663,0.043062336742878));
res += mul(Get(s2,0,-dy), float4x4(-0.100102379918098,0.013128692284226,-0.268601715564728,-0.050696436315775,-0.160649508237839,0.332274615764618,-0.247416049242020,0.021560540422797,-0.055541962385178,0.165695264935493,-0.253377765417099,-0.088311955332756,0.211302101612091,0.502332985401154,0.018315533176064,-0.091982990503311));
res += mul(Get(s2,0,0), float4x4(0.330321937799454,-0.065931826829910,-0.161591023206711,-0.174633547663689,-0.135744020342827,0.309696853160858,0.067349083721638,-0.623372912406921,0.055290848016739,0.115469045937061,0.020621085539460,-0.045813027769327,-0.038749229162931,-0.481016069650650,-0.172648370265961,0.130702972412109));
res += mul(Get(s2,0,dy), float4x4(0.174509927630424,0.017074586823583,0.079981058835983,-0.075386993587017,0.154526457190514,0.138733357191086,-0.206446349620819,-0.173441454768181,0.013793274760246,0.080405183136463,-0.435677349567413,-0.087873168289661,-0.216127514839172,-0.067190200090408,-0.011099527589977,0.068665303289890));
res += mul(Get(s2,dx,-dy), float4x4(0.239963814616203,0.012215927243233,0.052321296185255,0.154625669121742,0.140347883105278,0.048255387693644,0.157017141580582,0.106390818953514,-0.303425282239914,0.254116743803024,-0.123174838721752,-0.127712801098824,-0.068973518908024,0.272816061973572,-0.073417164385319,-0.083453319966793));
res += mul(Get(s2,dx,0), float4x4(0.314236253499985,0.079260759055614,0.093599095940590,0.375727802515030,0.136898070573807,0.182271227240562,0.022567540407181,-0.719025194644928,-0.175698667764664,0.195922359824181,0.046436712145805,-0.213853701949120,0.099672913551331,0.469463855028152,-0.082207150757313,-0.176565259695053));
res += mul(Get(s2,dx,dy), float4x4(0.074153341352940,-0.018832277506590,-0.063167333602905,0.110524751245975,0.140775024890900,-0.025417199358344,0.146608367562294,-0.078804738819599,0.175409018993378,0.110106796026230,0.087565414607525,-0.042387623339891,-0.096716508269310,0.131538540124893,0.060746099799871,0.044933076947927));
res = max(float4(0, 0, 0, 0), res) + float4(0.234880536794662,0.908308327198029,0.123141139745712,-0.065067417919636) * min(float4(0, 0, 0, 0), res);
return res;
}
