sampler s0 : register(s0);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define ddx  (dx * 2.0)
#define ddy  (dy * 2.0)
#define Get(x, y)   tex2D(s0, tex + float2(x, y))[0]

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(-0.539191305637360,0.277382731437683,-0.617810368537903,0.039647415280342);
res += float4(0.006262045819312,0.017077706754208,0.004244436509907,0.010471122339368) * Get(-ddx,-ddy);
res += float4(-0.086801707744598,-0.004759592004120,0.047096889466047,0.060549758374691) * Get(-ddx,-dy);
res += float4(-0.011660901829600,0.024818252772093,-0.046807538717985,-0.066063933074474) * Get(-ddx,0);
res += float4(0.086639910936356,0.031454563140869,0.000464152428322,0.005171841010451) * Get(-ddx,dy);
res += float4(-0.013627504929900,-0.003443336114287,-0.021084843203425,-0.032106924802065) * Get(-ddx,ddy);
res += float4(-0.026829907670617,-0.077761128544807,0.012456827796996,0.041256450116634) * Get(-dx,-ddy);
res += float4(0.278277516365051,0.051522731781006,-0.002479495014995,-0.052208032459021) * Get(-dx,-dy);
res += float4(0.153036192059517,-0.013675984926522,-0.317380130290985,-0.033246561884880) * Get(-dx,0);
res += float4(-0.059866346418858,-0.123155377805233,0.044885564595461,0.016254570335150) * Get(-dx,dy);
res += float4(-0.007731942925602,0.013712778687477,0.025388449430466,0.064197577536106) * Get(-dx,ddy);
res += float4(-0.034470114856958,0.175483971834183,-0.058333676308393,-0.096010014414787) * Get(0,-ddy);
res += float4(-0.113916203379631,-0.230543658137321,-0.029983339831233,0.785015225410461) * Get(0,-dy);
res += float4(0.570366263389587,0.000639406382106,0.215639650821686,-0.793384850025177) * Get(0,0);
res += float4(0.133340820670128,0.152556374669075,0.472402662038803,0.155792146921158) * Get(0,dy);
res += float4(0.054132092744112,-0.008665294386446,0.026281936094165,-0.067448616027832) * Get(0,ddy);
res += float4(0.161798149347305,-0.100079782307148,0.001026283251122,0.054324012249708) * Get(dx,-ddy);
res += float4(-0.168895050883293,-1.683550834655762,-0.131180286407471,0.095399886369705) * Get(dx,-dy);
res += float4(0.155352160334587,-0.234387427568436,-0.133371666073799,0.000502487295307) * Get(dx,0);
res += float4(0.121440351009369,-0.031455975025892,0.745539724826813,-0.143123462796211) * Get(dx,dy);
res += float4(0.000443953060312,0.030699886381626,-0.099280774593353,0.019527506083250) * Get(dx,ddy);
res += float4(-0.009948460385203,-0.007026913575828,0.016002357006073,-0.012939351610839) * Get(ddx,-ddy);
res += float4(0.003442508168519,-0.143174856901169,0.032952133566141,0.018689213320613) * Get(ddx,-dy);
res += float4(-0.032433968037367,0.131974428892136,0.002190307946876,-0.104551725089550) * Get(ddx,0);
res += float4(-0.005127062555403,-0.043060116469860,-0.176293730735779,0.084049373865128) * Get(ddx,dy);
res += float4(-0.001307674101554,-0.000514422543347,0.104910127818584,-0.006930842529982) * Get(ddx,ddy);
res = max(float4(0, 0, 0, 0), res) + float4(1.058173298835754,0.038373485207558,-0.004138693679124,0.325625121593475) * min(float4(0, 0, 0, 0), res);
return res;
}
