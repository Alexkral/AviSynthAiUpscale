sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(-0.046586867421865,-0.233908891677856,-0.112804122269154,0.004820751026273);
res += mul(Get(s0,-dx,-dy), float4x4(-0.056147914379835,0.079310901463032,0.052489750087261,0.093695998191833,0.131694808602333,-0.016220001503825,0.104632467031479,0.027199402451515,-0.121389165520668,-0.197942167520523,0.103938363492489,0.204837322235107,0.016206724569201,0.009047842584550,-0.172752946615219,-0.160038799047470));
res += mul(Get(s0,-dx,0), float4x4(-0.158228799700737,0.043165974318981,0.075755827128887,-0.097310729324818,-0.070141851902008,-0.019696075469255,0.241076782345772,0.012362271547318,-0.123291797935963,-0.078916676342487,-0.121315933763981,-0.276340156793594,0.428108125925064,0.175081878900528,0.005453843623400,0.057315357029438));
res += mul(Get(s0,-dx,dy), float4x4(-0.090161591768265,0.093543000519276,0.167952939867973,-0.104630269110203,0.111050881445408,-0.009930753149092,0.130565002560616,0.015106570906937,-0.072948396205902,0.056129962205887,-0.045308075845242,0.276344805955887,0.000721670978237,0.059125389903784,-0.169656440615654,-0.093035049736500));
res += mul(Get(s0,0,-dy), float4x4(-0.018379488959908,0.350412160158157,-0.094332359731197,-0.508992671966553,-0.019007854163647,0.181924700737000,0.102407865226269,0.053803827613592,-0.240435853600502,-0.135952815413475,0.059219971299171,0.303712606430054,-0.046077203005552,0.078225046396255,-0.219637736678123,-0.192247316241264));
res += mul(Get(s0,0,0), float4x4(-0.062778957188129,0.039254393428564,-0.071867302060127,-0.055274084210396,-0.271179318428040,0.045531600713730,0.179889455437660,-0.207077741622925,-0.274369746446609,-0.574567794799805,0.066087260842323,-0.245869472622871,-0.330708205699921,0.070435822010040,0.480178266763687,0.205408260226250));
res += mul(Get(s0,0,dy), float4x4(0.023261252790689,-0.019268460571766,0.173414558172226,0.006611719261855,-0.117644771933556,0.131494864821434,0.085265330970287,0.014888753183186,-0.020594500005245,0.107312880456448,0.113550521433353,0.217315360903740,-0.126877218484879,-0.011909819208086,0.142007052898407,0.061722703278065));
res += mul(Get(s0,dx,-dy), float4x4(-0.055151205509901,0.027346011251211,0.026109555736184,-0.185722351074219,0.091654315590858,0.072012327611446,-0.023726586252451,-0.186681032180786,0.170757934451103,-0.097479090094566,0.017517773434520,-0.031577400863171,-0.215121537446976,-0.146338671445847,-0.096199877560139,-0.041106682270765));
res += mul(Get(s0,dx,0), float4x4(-0.134134471416473,-0.208428323268890,0.075775600969791,-0.115603297948837,0.557176887989044,0.116837292909622,-0.161873325705528,0.161244168877602,0.289810717105865,0.002384177409112,0.059795904904604,0.136068031191826,-0.080963373184204,0.010051656514406,-0.024299591779709,0.119982518255711));
res += mul(Get(s0,dx,dy), float4x4(-0.041232887655497,-0.039128813892603,0.063222296535969,0.012828078120947,0.132605418562889,-0.004113340750337,-0.055904496461153,-0.079069249331951,-0.028761832043529,-0.039533980190754,-0.041721627116203,-0.068532139062881,0.123176708817482,0.039202753454447,-0.058026351034641,0.171457678079605));
res += mul(Get(s1,-dx,-dy), float4x4(0.000041996408982,-0.095565490424633,0.048570509999990,-0.441584140062332,-0.095979608595371,0.021919796243310,0.107135407626629,0.053894866257906,-0.099724903702736,-0.140317589044571,-0.197432443499565,-0.252522528171539,0.111111484467983,-0.152904435992241,0.056985467672348,-0.028119696304202));
res += mul(Get(s1,-dx,0), float4x4(-0.017232792451978,-0.061306562274694,0.104515776038170,-0.167007148265839,-0.313222616910934,0.048622094094753,0.061147976666689,0.040779590606689,-0.111019589006901,0.012673421762884,-0.529708564281464,0.010369272902608,0.141202434897423,-0.004037952516228,-0.222740083932877,0.089190058410168));
res += mul(Get(s1,-dx,dy), float4x4(0.007927317172289,0.049799337983131,0.064704522490501,-0.415501117706299,0.106850735843182,0.051788233220577,-0.028897222131491,0.256697505712509,0.133766949176788,0.070348128676414,0.044494766741991,-0.174860715866089,0.075848087668419,0.037608087062836,0.070003926753998,0.275757908821106));
res += mul(Get(s1,0,-dy), float4x4(0.025603769347072,0.164954081177711,-0.146109551191330,-0.505858778953552,0.123270533978939,-0.034731600433588,0.297423422336578,0.400165438652039,-0.119052909314632,-0.048902034759521,-0.057557631283998,-0.143698588013649,-0.063683480024338,-0.319655358791351,0.199953138828278,0.268173009157181));
res += mul(Get(s1,0,0), float4x4(-0.200199976563454,0.057839021086693,0.414171695709229,-0.019924007356167,0.228820577263832,-0.008246499113739,-0.034286320209503,-0.030681220814586,-0.022749613970518,-0.097761720418930,-0.401223450899124,-0.052009277045727,-0.031853355467319,-0.329744189977646,0.292759299278259,-0.006151439622045));
res += mul(Get(s1,0,dy), float4x4(0.008085948415101,-0.004787759389728,0.153756856918335,-0.398059010505676,-0.036536589264870,0.184823915362358,0.077597245573997,0.031534451991320,0.016795760020614,0.024632956832647,-0.038490384817123,-0.200485810637474,0.066750884056091,0.323551982641220,0.201435610651970,0.016138754785061));
res += mul(Get(s1,dx,-dy), float4x4(-0.131266489624977,0.002820631023496,-0.054137095808983,-0.433750003576279,-0.058229755610228,0.231007367372513,0.054137516766787,0.251509308815002,0.066529445350170,-0.045229118317366,-0.019858047366142,0.073459841310978,0.137095585465431,-0.119461514055729,-0.011529109440744,0.177252471446991));
res += mul(Get(s1,dx,0), float4x4(0.195802226662636,0.191244944930077,-0.068358890712261,-0.197783038020134,-0.110346682369709,0.039779413491488,0.067731454968452,0.040490493178368,-0.018677173182368,-0.194812238216400,-0.081697255373001,-0.052527327090502,0.308158010244370,0.050157129764557,-0.059061102569103,0.097203947603703));
res += mul(Get(s1,dx,dy), float4x4(0.102571748197079,0.012012409046292,-0.023169055581093,-0.200032815337181,0.027697114273906,0.046598151326180,-0.052787691354752,-0.017120214179158,0.037140108644962,-0.168266594409943,-0.010648002848029,0.056885190308094,-0.073499061167240,0.231968358159065,-0.037477038800716,0.011844793334603));
res += mul(Get(s2,-dx,-dy), float4x4(0.017036126926541,0.203808665275574,-0.110742449760437,-0.086680479347706,-0.149374559521675,0.039503324776888,-0.066678009927273,0.074483484029770,-0.318612784147263,0.096528351306915,0.147882252931595,-0.120812296867371,0.138589859008789,0.093877993524075,0.071581371128559,-0.198302999138832));
res += mul(Get(s2,-dx,0), float4x4(-0.090144105255604,-0.080344170331955,-0.063864037394524,0.052316851913929,-0.342644512653351,0.003378949360922,0.132774010300636,0.116705887019634,-0.178081929683685,0.264108598232269,0.194271132349968,0.362645983695984,0.321896016597748,0.141171216964722,0.005806033033878,-0.198021277785301));
res += mul(Get(s2,-dx,dy), float4x4(-0.170371815562248,-0.196988955140114,-0.121756233274937,-0.410306841135025,-0.265016257762909,-0.000209539386560,0.072188623249531,-0.231025114655495,-0.005713359452784,0.119963847100735,0.157120630145073,-0.224577203392982,0.109276294708252,0.021366531029344,-0.026862693950534,0.020400900393724));
res += mul(Get(s2,0,-dy), float4x4(0.091727033257484,0.322201460599899,-0.084726825356483,-0.233885347843170,0.045485425740480,0.119906313717365,-0.107267431914806,0.037114631384611,-0.367467969655991,-0.019372709095478,-0.317281246185303,-0.062344644218683,0.165829837322235,0.018176052719355,0.007388644851744,-0.084483802318573));
res += mul(Get(s2,0,0), float4x4(-0.040940888226032,0.400583326816559,-0.106493785977364,-0.162127837538719,0.217698886990547,0.479857504367828,-0.347777396440506,-0.191161960363388,-0.448402196168900,0.246510893106461,-0.095085792243481,0.384875208139420,0.357246369123459,0.186364889144897,-0.436290085315704,-0.240104109048843));
res += mul(Get(s2,0,dy), float4x4(-0.099387779831886,0.004518668632954,0.122776232659817,-0.086514115333557,-0.052467327564955,-0.090839266777039,-0.254978716373444,0.122210383415222,-0.171201586723328,-0.220874056220055,-0.243228301405907,0.121528163552284,0.206934571266174,0.131424993276596,0.036741349846125,0.006578581873327));
res += mul(Get(s2,dx,-dy), float4x4(-0.156158179044724,-0.023257516324520,-0.007958704605699,0.026656277477741,-0.042440481483936,-0.061306253075600,0.026044018566608,-0.030571222305298,0.152540966868401,0.204026043415070,-0.103516034781933,-0.054453484714031,-0.325092107057571,-0.004098981618881,-0.047916963696480,0.055579159408808));
res += mul(Get(s2,dx,0), float4x4(-0.100493147969246,-0.036178577691317,0.054463058710098,0.054244488477707,-0.086096532642841,0.125222936272621,0.009742451831698,0.047529473900795,-0.058789372444153,0.156051710247993,0.415877133607864,0.360324770212173,-0.258176386356354,-0.257134884595871,0.224821969866753,-0.279345750808716));
res += mul(Get(s2,dx,dy), float4x4(0.028838876634836,-0.044742759317160,-0.037567630410194,0.095147177577019,-0.030576458200812,-0.254062443971634,-0.042574204504490,0.032715860754251,-0.092537224292755,-0.093752987682819,-0.028164559975266,0.122959762811661,-0.251491934061050,0.002444050041959,-0.039253629744053,0.032263793051243));
res = max(float4(0, 0, 0, 0), res) + float4(0.132890328764915,0.027708375826478,-0.186630576848984,-0.076486371457577) * min(float4(0, 0, 0, 0), res);
return res;
}
