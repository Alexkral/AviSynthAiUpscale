sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0.047979388386011,0.096796207129955,-0.036398213356733,0.131663560867310);
res += mul(Get(s0,-dx,-dy), float4x4(-0.025219095870852,-0.274517893791199,0.075624205172062,-0.011726357042789,0.142266064882278,0.025983938947320,-0.115686856210232,-0.056325115263462,0.095096468925476,-0.217077299952507,0.106305047869682,0.022743122652173,-0.105763673782349,0.285333484411240,-0.061907742172480,0.075070179998875));
res += mul(Get(s0,-dx,0), float4x4(-0.188693091273308,-0.264241546392441,0.097160719335079,-0.052851170301437,0.371068447828293,0.086362339556217,0.001200162805617,-0.129666760563850,-0.054270464926958,-0.089412614703178,-0.112353853881359,0.005544209387153,0.027464149519801,0.160216808319092,-0.200594723224640,0.051392246037722));
res += mul(Get(s0,-dx,dy), float4x4(0.028702890500426,0.109537594020367,0.168474376201630,-0.127312600612640,0.109720952808857,0.094946995377541,0.023069983348250,-0.037406180053949,-0.065652929246426,-0.053639099001884,-0.096571981906891,-0.030880743637681,-0.014171081595123,0.181953907012939,-0.002190034836531,0.010350708849728));
res += mul(Get(s0,0,-dy), float4x4(0.069753155112267,-0.216715842485428,0.195422500371933,-0.009726579301059,0.152345031499863,0.057625617831945,-0.133685156702995,-0.060653373599052,0.137074440717697,-0.056602578610182,-0.111867308616638,0.063413120806217,0.082998551428318,0.227942034602165,-0.165655553340912,0.154484778642654));
res += mul(Get(s0,0,0), float4x4(0.311538577079773,-0.437937766313553,0.123646840453148,-0.022123541682959,-0.129990860819817,0.159873440861702,-0.255197882652283,-0.237338885664940,0.222862258553505,0.011087997816503,0.321312665939331,0.017267646268010,-0.043476384133101,0.336691737174988,-0.024858942255378,0.097825676202774));
res += mul(Get(s0,0,dy), float4x4(0.013310336507857,-0.447971761226654,-0.065750136971474,-0.145464971661568,0.098043717443943,0.258892327547073,0.023362103849649,-0.061517123132944,0.120978124439716,0.251907318830490,-0.020849755033851,-0.118750125169754,-0.016002617776394,0.177103966474533,-0.055380083620548,0.090605713427067));
res += mul(Get(s0,dx,-dy), float4x4(0.008400390855968,-0.131109073758125,0.147170528769493,-0.247376695275307,-0.130749434232712,0.264734506607056,-0.117707692086697,-0.046312592923641,0.045725841075182,0.190440475940704,-0.141208097338676,0.105034962296486,0.054474510252476,0.286649316549301,0.020800875499845,0.028663985431194));
res += mul(Get(s0,dx,0), float4x4(0.064794048666954,-0.475594788789749,-0.008059170097113,-0.161835268139839,-0.167851597070694,0.026706444099545,-0.201105102896690,-0.103023059666157,-0.096418119966984,0.071167141199112,-0.012876045890152,0.005292198155075,-0.047328602522612,0.260485380887985,-0.116000011563301,0.087510049343109));
res += mul(Get(s0,dx,dy), float4x4(0.029521921649575,-0.670580685138702,0.015543279238045,0.044728271663189,-0.009540630504489,0.160932019352913,-0.066171422600746,-0.108639359474182,-0.046965740621090,0.095727935433388,-0.067896917462349,0.067673981189728,-0.067985668778419,0.336459726095200,0.000269575975835,0.095432452857494));
res += mul(Get(s1,-dx,-dy), float4x4(0.146546617150307,0.042386133223772,0.053700942546129,-0.041317019611597,-0.078656934201717,-0.056938648223877,-0.009717945009470,0.100835666060448,-0.290270239114761,-0.131007611751556,0.041692014783621,0.174338176846504,-0.307840347290039,-0.397432476282120,0.207520857453346,-0.060647431761026));
res += mul(Get(s1,-dx,0), float4x4(0.098709858953953,0.036959152668715,-0.173465013504028,-0.275257706642151,-0.357172846794128,-0.152239218354225,0.035029716789722,0.110494300723076,-0.186774060130119,-0.133978813886642,0.150303453207016,0.054519969969988,-0.029711995273829,-0.458232432603836,0.180125385522842,-0.130728647112846));
res += mul(Get(s1,-dx,dy), float4x4(0.352321356534958,0.288114279508591,0.329839438199997,-0.060505472123623,-0.208571329712868,0.041535221040249,0.074420042335987,-0.000854882935528,0.057530485093594,-0.064800769090652,0.034654252231121,0.058692164719105,-0.068431869149208,-0.191178455948830,0.186829924583435,-0.000166319907294));
res += mul(Get(s1,0,-dy), float4x4(-0.034448217600584,-0.117364063858986,-0.028594367206097,0.221965476870537,-0.023269703611732,0.101998485624790,-0.045935310423374,0.236131832003593,-0.168144777417183,0.196519970893860,0.348003864288330,0.153335854411125,-0.075658984482288,-0.423069983720779,0.294115275144577,-0.113105386495590));
res += mul(Get(s1,0,0), float4x4(-0.483066856861115,0.242074966430664,0.337212830781937,0.381721019744873,-0.592349469661713,0.186209738254547,0.202303960919380,-0.084386736154556,-0.165491968393326,-0.093865662813187,-0.232955038547516,-0.520412623882294,-0.189391329884529,-0.551925539970398,0.424023449420929,-0.049782935529947));
res += mul(Get(s1,0,dy), float4x4(-0.077957913279533,-0.124447375535965,-0.068913169205189,-0.150406464934349,-0.681071698665619,0.046542547643185,-0.066487170755863,0.651558399200439,-0.222437039017677,0.240455925464630,0.031842190772295,-0.351959049701691,-0.054973665624857,-0.235973641276360,0.229504510760307,-0.098252609372139));
res += mul(Get(s1,dx,-dy), float4x4(0.056154582649469,-0.006951564457268,-0.116000369191170,0.135218963027000,-0.184426978230476,0.196340784430504,0.170686602592468,0.135313078761101,0.014942412264645,0.162797987461090,0.094552934169769,-0.052727952599525,0.083258666098118,-0.272607594728470,0.205658346414566,-0.130050152540207));
res += mul(Get(s1,dx,0), float4x4(0.074915833771229,-0.108778126537800,-0.053291391581297,-0.010147501714528,0.224265471100807,-0.102788880467415,0.129676997661591,0.037775408476591,0.209251061081886,0.039506997913122,-0.209599226713181,0.092076309025288,0.016867738217115,-0.273342728614807,0.189298421144485,-0.254469364881516));
res += mul(Get(s1,dx,dy), float4x4(-0.114855892956257,0.108356982469559,0.200611323118210,0.012055591680110,0.138508901000023,-0.106886051595211,-0.007297187577933,0.047559969127178,0.484500706195831,0.050077084451914,0.042289704084396,0.140704333782196,0.024048762395978,-0.074375435709953,0.071088030934334,-0.177223369479179));
res += mul(Get(s2,-dx,-dy), float4x4(0.281005263328552,0.002507668454200,-0.046345364302397,-0.101720988750458,0.122663840651512,-0.057614814490080,-0.259803116321564,0.015782929956913,-0.100105606019497,0.112098433077335,-0.227422580122948,-0.096055999398232,0.019601535052061,-0.043981600552797,0.055952079594135,0.085532568395138));
res += mul(Get(s2,-dx,0), float4x4(-0.424834817647934,-0.163970008492470,0.014690359123051,-0.070682108402252,0.022173864766955,0.148483559489250,0.007669746410102,-0.021606286987662,-0.289504081010818,-0.040487043559551,0.072532169520855,0.041789520531893,-0.262040585279465,0.042386263608932,-0.279041379690170,0.184731945395470));
res += mul(Get(s2,-dx,dy), float4x4(-0.024284154176712,0.195888161659241,-0.072421804070473,-0.065783903002739,0.030579818412662,0.183395013213158,0.055161193013191,-0.106515340507030,0.023117044940591,0.168502062559128,0.236604437232018,-0.174370020627975,-0.023218585178256,-0.121304772794247,-0.003079208312556,-0.106204494833946));
res += mul(Get(s2,0,-dy), float4x4(0.152125552296638,-0.021785898134112,-0.141245335340500,-0.243887677788734,0.012747077271342,0.056233398616314,-0.162991777062416,-0.121765002608299,0.118479147553444,0.121799044311047,-0.256282716989517,-0.043294124305248,-0.149612993001938,-0.004708685446531,0.287619411945343,0.124572269618511));
res += mul(Get(s2,0,0), float4x4(-0.540717065334320,0.011562001891434,0.741078019142151,0.680190801620483,0.114701434969902,0.008238686248660,-0.242645889520645,-0.248982802033424,-0.136695116758347,0.391426682472229,0.123175852000713,0.015397329814732,0.380420625209808,0.112875729799271,-0.149638280272484,-0.734881103038788));
res += mul(Get(s2,0,dy), float4x4(-0.156090229749680,0.084938555955887,-0.071208484470844,-0.173962354660034,0.044379521161318,-0.146099448204041,-0.111697316169739,-0.186499521136284,0.104939997196198,-0.066124327480793,-0.013396790251136,0.092905521392822,0.063781335949898,0.200974851846695,-0.336715221405029,0.546220898628235));
res += mul(Get(s2,dx,-dy), float4x4(-0.072231650352478,-0.011419093236327,-0.043073408305645,-0.093564435839653,-0.242035597562790,0.216980949044228,-0.057611830532551,0.034178037196398,0.044374182820320,-0.016061639413238,-0.027084825560451,0.008988133631647,0.047820016741753,-0.032560728490353,0.021036595106125,0.102678470313549));
res += mul(Get(s2,dx,0), float4x4(0.507772326469421,0.157878562808037,-0.169848710298538,-0.143637567758560,-0.100948967039585,-0.110664315521717,-0.120514094829559,0.102780647575855,0.272841066122055,0.134620964527130,-0.231621578335762,0.093572609126568,-0.210065111517906,0.075707666575909,0.191024154424667,0.152756378054619));
res += mul(Get(s2,dx,dy), float4x4(0.182499065995216,-0.071708381175995,-0.061578880995512,0.034884277731180,-0.069220170378685,-0.204153165221214,-0.018712380900979,0.092012226581573,0.011486750096083,0.009478210471570,-0.203207463026047,-0.016321739181876,0.045272082090378,-0.024534756317735,0.142943456768990,-0.052547849714756));
res = max(float4(0, 0, 0, 0), res) + float4(0.069020017981529,-0.131332054734230,-0.256481289863586,0.737325012683868) * min(float4(0, 0, 0, 0), res);
return res;
}
