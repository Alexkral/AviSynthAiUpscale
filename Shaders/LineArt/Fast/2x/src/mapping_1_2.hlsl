sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0.056612953543663,0.114736534655094,0.078510470688343,0.016043638810515);
res += mul(Get(s0,-dx,-dy), float4x4(0.080838695168495,-0.155155196785927,0.094384692609310,0.158624172210693,-0.148072287440300,0.006692624650896,0.104813277721405,0.092655688524246,0.188456818461418,0.338132649660110,-0.185379520058632,0.005376487504691,0.165168985724449,-0.205116257071495,0.181712016463280,-0.262796908617020));
res += mul(Get(s0,-dx,0), float4x4(-0.180878221988678,0.381310731172562,0.225049316883087,0.108070798218250,0.169022336602211,0.308379203081131,0.221367850899696,-0.144097074866295,-0.074208810925484,-0.397208124399185,0.362266659736633,-0.691964089870453,-0.020342011004686,0.107726752758026,-0.095470465719700,-0.292954564094543));
res += mul(Get(s0,-dx,dy), float4x4(0.067965753376484,-0.106762506067753,-0.141682446002960,-0.111710339784622,0.091591618955135,0.013073311187327,0.297376036643982,-0.184826523065567,0.007798267062753,0.270965605974197,-0.020798776298761,0.181355670094490,0.426657199859619,0.172387033700943,0.111814051866531,0.144161954522133));
res += mul(Get(s0,0,-dy), float4x4(-0.091926991939545,-0.173579618334770,0.119254134595394,0.308573395013809,0.060541119426489,0.144848972558975,-0.081400148570538,0.093562118709087,0.321095496416092,0.081432402133942,0.118745498359203,-0.051908157765865,0.060057852417231,0.401015996932983,0.505171835422516,0.271288007497787));
res += mul(Get(s0,0,0), float4x4(-0.329897165298462,0.183041393756866,-0.100090615451336,0.066819638013840,-0.195662945508957,0.098063342273235,-0.099243767559528,-0.167893916368484,0.197873756289482,-0.061308462172747,0.300770044326782,0.256017595529556,0.119602918624878,-0.804308652877808,-0.005842407234013,0.011628294363618));
res += mul(Get(s0,0,dy), float4x4(0.042945839464664,-0.060964163392782,0.180558055639267,-0.044312477111816,-0.307969629764557,-0.107969760894775,-0.155049636960030,0.071099139750004,0.122300550341606,0.081179529428482,-0.045884832739830,0.140823781490326,-0.095791704952717,0.374296545982361,-0.457473337650299,0.319029241800308));
res += mul(Get(s0,dx,-dy), float4x4(0.020950341597199,-0.128149017691612,0.083826877176762,-0.209273889660835,0.003045496530831,0.100279495120049,-0.196935340762138,-0.087262354791164,-0.144941255450249,-0.004793462809175,0.189076811075211,-0.100654758512974,0.221843391656876,0.005308968480676,0.059394013136625,-0.287435591220856));
res += mul(Get(s0,dx,0), float4x4(0.021929243579507,-0.082234963774681,-0.181561216711998,-0.124431341886520,-0.070807956159115,0.053774759173393,-0.192512989044189,-0.130820825695992,-0.021211648359895,0.077584095299244,0.125077426433563,-0.198013052344322,-0.178176969289780,-0.229242056608200,-0.105963259935379,0.223568633198738));
res += mul(Get(s0,dx,dy), float4x4(0.085239052772522,0.096195489168167,-0.149634435772896,-0.125851824879646,-0.089148111641407,0.022857468575239,-0.104430772364140,0.010075155645609,0.107903823256493,0.151371717453003,0.042642198503017,0.007194528821856,-0.130379363894463,-0.070414513349533,-0.109287291765213,-0.010056185536087));
res += mul(Get(s1,-dx,-dy), float4x4(-0.160877093672752,0.192608714103699,-0.014460958540440,-0.142696410417557,-0.143288403749466,0.063178814947605,0.092001765966415,-0.084602162241936,0.101911939680576,0.220085471868515,0.026322226971388,0.081639252603054,0.139849960803986,-0.107789985835552,0.094544745981693,-0.013590528629720));
res += mul(Get(s1,-dx,0), float4x4(-0.067591778934002,-0.138908341526985,0.088273145258427,-0.110670477151871,0.202172398567200,-0.093117706477642,-0.048230335116386,-0.084095925092697,0.067109212279320,-0.097611449658871,0.126730859279633,0.023667110130191,0.089882619678974,0.042398508638144,0.100474871695042,0.028036847710609));
res += mul(Get(s1,-dx,dy), float4x4(0.092636443674564,0.159507229924202,0.058858882635832,0.122640959918499,-0.070555396378040,0.096777744591236,-0.107918508350849,0.306149095296860,0.038023307919502,0.022723553702235,0.082908391952515,0.116751171648502,-0.039356905966997,0.029145659878850,-0.076162636280060,-0.086633041501045));
res += mul(Get(s1,0,-dy), float4x4(0.010858259163797,-0.218441769480705,-0.111924692988396,0.032332889735699,0.199123457074165,-0.009819133207202,-0.207677811384201,-0.364356637001038,-0.074703089892864,-0.177229836583138,-0.316466957330704,-0.279478728771210,-0.321376234292984,0.192562177777290,-0.097553893923759,-0.002882662229240));
res += mul(Get(s1,0,0), float4x4(0.304894506931305,0.397738844156265,-0.097441986203194,0.334729641675949,0.072551198303699,0.237757891416550,0.201083913445473,0.001258321455680,0.019938118755817,-0.045838139951229,-0.199482053518295,-0.241224735975266,0.075448110699654,-0.164108186960220,0.298346966505051,-0.098848760128021));
res += mul(Get(s1,0,dy), float4x4(0.055432863533497,0.224178224802017,-0.015333639457822,0.423377692699432,-0.000134282672661,-0.199537083506584,-0.044156420975924,-0.030596811324358,0.006496068090200,-0.026755873113871,-0.024449434131384,-0.062467955052853,-0.022283472120762,-0.016367079690099,-0.110901445150375,-0.021633639931679));
res += mul(Get(s1,dx,-dy), float4x4(-0.116630718111992,0.051315907388926,-0.132983639836311,-0.351125657558441,-0.052295524626970,-0.094043388962746,-0.037596184760332,0.243576779961586,-0.094186604022980,-0.020704841241241,0.086224921047688,-0.738782644271851,-0.216304242610931,0.283697903156281,-0.306548178195953,0.092315167188644));
res += mul(Get(s1,dx,0), float4x4(-0.123094543814659,-0.180767059326172,0.186372593045235,-0.238073527812958,-0.279131978750229,0.094865299761295,-0.079764015972614,0.386207252740860,-0.106161832809448,0.028358953073621,-0.046333882957697,-0.062991812825203,-0.138479351997375,-0.038959234952927,-0.136680707335472,-0.407223701477051));
res += mul(Get(s1,dx,dy), float4x4(0.181029379367828,-0.248511612415314,0.138822332024574,-0.157791092991829,-0.000180035887752,0.030069202184677,0.187660112977028,-0.083072803914547,-0.031794209033251,-0.034182921051979,0.016259279102087,0.054769404232502,-0.008288016542792,0.012778753414750,0.065285302698612,-0.006116273812950));
res += mul(Get(s2,-dx,-dy), float4x4(-0.010866307653487,-0.026491295546293,-0.085038430988789,0.018943388015032,0.079062171280384,-0.023580856621265,0.009443344548345,-0.134811073541641,0.166368991136551,-0.086364544928074,0.180647239089012,-0.414110988378525,-0.783655226230621,0.137541219592094,-0.598704099655151,0.158525690436363));
res += mul(Get(s2,-dx,0), float4x4(-0.017175808548927,0.003828166518360,-0.143336296081543,-0.197358429431915,0.065742298960686,0.280675679445267,0.153968855738640,0.011244196444750,-0.184836104512215,-0.151482135057449,0.254401445388794,0.268265098333359,0.419636785984039,0.445195496082306,-0.446344524621964,0.527006864547729));
res += mul(Get(s2,-dx,dy), float4x4(0.048249397426844,0.003757388330996,0.053490363061428,-0.244514971971512,-0.111984737217426,0.041277728974819,-0.216771066188812,0.280222892761230,0.064218364655972,0.096882738173008,-0.154243692755699,0.354008942842484,0.161278665065765,-0.113013803958893,0.338155627250671,-0.278644919395447));
res += mul(Get(s2,0,-dy), float4x4(-0.080881938338280,0.243619099259377,0.294809490442276,-0.034486562013626,0.130146965384483,-0.275744974613190,0.150239780545235,-0.130727276206017,0.008313787169755,-0.188253208994865,0.338010579347610,0.104846976697445,-0.389922380447388,-0.282132059335709,0.371016532182693,-0.020710455253720));
res += mul(Get(s2,0,0), float4x4(-0.014226296916604,-0.107709921896458,-0.180659949779510,-0.222973510622978,-0.162594243884087,-0.054852768778801,-0.016040181741118,0.182268708944321,-0.379312247037888,0.192130342125893,-0.249259412288666,0.298263221979141,0.290588051080704,-0.198480561375618,0.582393705844879,-0.025377416983247));
res += mul(Get(s2,0,dy), float4x4(0.096939623355865,0.188073053956032,0.027651662006974,0.095250368118286,-0.117518737912178,0.134390756487846,-0.105127610266209,-0.056329075247049,-0.071706168353558,0.092077963054180,-0.151469275355339,-0.168418109416962,0.417804807424545,-0.064573884010315,-0.114897720515728,-0.255363464355469));
res += mul(Get(s2,dx,-dy), float4x4(-0.073699124157429,-0.013413499109447,0.106627963483334,-0.128750562667847,-0.121724732220173,-0.164633572101593,0.078153930604458,0.125465020537376,0.181676596403122,-0.001705650356598,0.151685550808907,-0.017308922484517,0.217980831861496,-0.078702308237553,-0.190857842564583,-0.064483314752579));
res += mul(Get(s2,dx,0), float4x4(-0.296244174242020,-0.408828586339951,0.184104740619659,0.175652816891670,0.427066624164581,0.149814248085022,0.273856639862061,-0.364333271980286,0.247892200946808,0.005845620762557,-0.250378429889679,0.096831880509853,-0.027837943285704,0.024630278348923,-0.160493984818459,0.011328502558172));
res += mul(Get(s2,dx,dy), float4x4(0.045123092830181,0.035405542701483,-0.107707537710667,0.376285821199417,0.040943518280983,-0.080090068280697,-0.114024884998798,-0.062135893851519,0.089808121323586,0.116816334426403,-0.152696669101715,-0.335263133049011,-0.134185895323753,0.042663026601076,0.070070080459118,0.154556453227997));
res = max(float4(0, 0, 0, 0), res) + float4(0.315799593925476,-0.041854195296764,0.755152523517609,-0.311556607484818) * min(float4(0, 0, 0, 0), res);
return res;
}
