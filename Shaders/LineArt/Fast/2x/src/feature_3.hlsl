sampler s0 : register(s0);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define ddx  (dx * 2.0)
#define ddy  (dy * 2.0)
#define Get(x, y)   tex2D(s0, tex + float2(x, y))[0]

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0.140430271625519,-0.151781484484673,0.002198288450018,-0.618502914905548);
res += float4(-0.000778346380685,-0.025163007900119,0.016709014773369,-0.009116593748331) * Get(-ddx,-ddy);
res += float4(0.101254187524319,0.008070921525359,0.017703840509057,-0.001410847529769) * Get(-ddx,-dy);
res += float4(-0.126164063811302,0.100553020834923,0.025880344212055,-0.000857143662870) * Get(-ddx,0);
res += float4(-0.048165235668421,-0.112631350755692,-0.064828954637051,-0.025638982653618) * Get(-ddx,dy);
res += float4(0.063150331377983,0.015671489760280,-0.032383393496275,0.014054712839425) * Get(-ddx,ddy);
res += float4(-0.012219865806401,-0.007379897870123,-0.053074419498444,-0.025795659050345) * Get(-dx,-ddy);
res += float4(-0.192441806197166,0.075875520706177,-0.228154674172401,0.028403438627720) * Get(-dx,-dy);
res += float4(0.141931533813477,-0.477644056081772,-0.115552321076393,0.032150067389011) * Get(-dx,0);
res += float4(0.293662875890732,0.082034200429916,0.286199241876602,0.023281220346689) * Get(-dx,dy);
res += float4(-0.162600815296173,-0.018298115581274,0.001282571698539,-0.052039187401533) * Get(-dx,ddy);
res += float4(-0.062358535826206,0.011324237100780,0.139481723308563,-0.023873966187239) * Get(0,-ddy);
res += float4(-0.062495216727257,0.163302302360535,-0.386368066072464,0.048460125923157) * Get(0,-dy);
res += float4(-0.566209316253662,0.843068897724152,0.939581394195557,-0.138158932328224) * Get(0,0);
res += float4(0.434049129486084,0.030503699555993,-0.283933758735657,-0.078670307993889) * Get(0,dy);
res += float4(0.125737354159355,0.058341525495052,0.035114429891109,0.047245912253857) * Get(0,ddy);
res += float4(0.033314540982246,-0.126795664429665,-0.055896598845720,0.014121511951089) * Get(dx,-ddy);
res += float4(-0.146218731999397,-0.062778048217297,0.239930808544159,-0.068220548331738) * Get(dx,-dy);
res += float4(0.017461983487010,-0.469472765922546,-0.214360088109970,0.937980532646179) * Get(dx,0);
res += float4(0.084082700312138,0.062942802906036,-0.085939794778824,-0.022835515439510) * Get(dx,dy);
res += float4(-0.063653446733952,-0.047257546335459,-0.068397574126720,0.003096282016486) * Get(dx,ddy);
res += float4(0.040143851190805,-0.017744265496731,-0.050145152956247,0.018266111612320) * Get(ddx,-ddy);
res += float4(0.025199817493558,-0.010188092477620,-0.021982485428452,0.016723811626434) * Get(ddx,-dy);
res += float4(-0.097811207175255,0.087773002684116,0.064133569598198,0.052429065108299) * Get(ddx,0);
res += float4(0.022480500862002,-0.011875919066370,-0.059472430497408,-0.035158533602953) * Get(ddx,dy);
res += float4(0.018616834655404,-0.027907434850931,0.007534605916589,0.013704584911466) * Get(ddx,ddy);
res = max(float4(0, 0, 0, 0), res) + float4(0.324052333831787,1.169241786003113,0.857008039951324,-0.216048374772072) * min(float4(0, 0, 0, 0), res);
return res;
}
