sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(-0.450182139873505,0.047509476542473,-0.335448712110519,-0.132635369896889);
res += mul(Get(s0,-dx,-dy), float4x4(-0.055632937699556,0.039427429437637,0.045369401574135,-0.029389383271337,-0.074676506221294,-0.110748462378979,-0.008237731643021,-0.026107292622328,-0.091069467365742,0.157629087567329,0.469115316867828,0.118954554200172,0.015026167035103,-0.145357280969620,0.066720984876156,0.038270022720098));
res += mul(Get(s0,-dx,0), float4x4(-0.218118056654930,0.157714545726776,0.305320203304291,-0.062367081642151,-0.038780961185694,-0.172851875424385,-0.006224536802620,-0.141368150711060,0.172343611717224,-0.228598117828369,0.269246459007263,0.107784502208233,0.084489889442921,-0.174839675426483,0.004002972040325,-0.041343517601490));
res += mul(Get(s0,-dx,dy), float4x4(0.201235964894295,-0.118691198527813,-0.097475565969944,0.045941658318043,1.681796669960022,0.033889539539814,0.040816705673933,0.128402471542358,-0.112431421875954,0.217609211802483,-0.368746787309647,0.015042765066028,0.028762949630618,-0.034855239093304,0.026050955057144,0.238427385687828));
res += mul(Get(s0,0,-dy), float4x4(-0.179184362292290,0.109823979437351,0.042318105697632,0.023034691810608,-0.149355277419090,0.201053485274315,0.184075385332108,0.104423277080059,-0.056226015090942,-0.072882682085037,0.408348649740219,0.075215280056000,0.159764319658279,0.108370736241341,0.301936089992523,0.277585864067078));
res += mul(Get(s0,0,0), float4x4(-0.890524268150330,0.270558118820190,0.374112755060196,0.810579359531403,0.136146470904350,-0.268640428781509,-0.253990709781647,-0.322169840335846,0.324645757675171,-0.326280295848846,0.307685494422913,0.075792767107487,0.141266301274300,-0.159068048000336,-0.881311058998108,-0.356320023536682));
res += mul(Get(s0,0,dy), float4x4(0.098514489829540,-0.543859660625458,0.176626726984978,-0.450735598802567,0.242409467697144,-0.007753529585898,-0.090208142995834,-0.172057867050171,-0.000923039740883,0.249327734112740,-0.460338294506073,0.112498961389065,-0.294468164443970,0.733480632305145,0.031617030501366,0.346612811088562));
res += mul(Get(s0,dx,-dy), float4x4(0.100401543080807,0.060555178672075,-0.014845307916403,0.107200831174850,-0.012818587943912,-0.094596117734909,-0.010107548907399,0.061095140874386,0.064148299396038,-0.216853007674217,-0.231106013059616,-0.139880418777466,0.012076792307198,0.001599064213224,0.053707968443632,-0.102123551070690));
res += mul(Get(s0,dx,0), float4x4(-0.268702626228333,0.104399763047695,-0.177998423576355,0.015863306820393,0.002088425913826,-0.015093922615051,0.099552549421787,0.089191570878029,0.025178059935570,0.203718662261963,-0.329015284776688,-0.044309627264738,0.110978603363037,-0.085728198289871,0.353006362915039,-0.169990137219429));
res += mul(Get(s0,dx,dy), float4x4(-0.059410419315100,-0.105654083192348,0.206420481204987,0.080015629529953,-0.089454039931297,0.075025863945484,0.376542568206787,-0.014017250388861,0.061914224177599,0.192938983440399,-0.180463194847107,0.070608042180538,0.116564340889454,-0.089075170457363,0.077703848481178,0.055150486528873));
res += mul(Get(s1,-dx,-dy), float4x4(0.061456546187401,0.061903480440378,-0.101344607770443,-0.064396671950817,-0.010328360833228,0.003502083476633,0.198582723736763,0.124611787497997,0.001361083821394,0.195897027850151,0.070652432739735,-0.003860245924443,0.143743798136711,0.092420227825642,0.017186148092151,0.152350202202797));
res += mul(Get(s1,-dx,0), float4x4(-0.059983100742102,-0.193350717425346,-0.251723170280457,-0.104765094816685,0.242873936891556,-0.261496603488922,-0.120030939579010,-0.466954678297043,0.076287373900414,-0.038217775523663,0.139800593256950,0.006552409380674,0.101390175521374,-0.019791366532445,0.045422054827213,0.083477593958378));
res += mul(Get(s1,-dx,dy), float4x4(0.060347542166710,-0.065523333847523,-0.358573734760284,-0.161699458956718,-0.073003090918064,0.198477938771248,0.037300799041986,0.002168159466237,0.084898151457310,0.042480800300837,-0.045389585196972,-0.000320523540722,0.085269883275032,-0.044937193393707,-0.024264022707939,0.018878405913711));
res += mul(Get(s1,0,-dy), float4x4(-0.008610933087766,-0.070081919431686,-0.009945530444384,-0.142291754484177,0.131504803895950,-0.030950153246522,-0.115158669650555,-0.014336089603603,-0.037303999066353,-0.440782904624939,-0.082733944058418,-0.037983447313309,-0.007579400669783,-0.078236959874630,-0.136018499732018,0.033349581062794));
res += mul(Get(s1,0,0), float4x4(-0.133529350161552,0.024495242163539,0.211953982710838,0.226705551147461,0.086655542254448,0.149602591991425,-0.119157984852791,-0.117991857230663,0.035858985036612,-0.312514454126358,-0.064005956053734,0.113205850124359,-0.043650019913912,-0.081534445285797,-0.645661771297455,0.043163787573576));
res += mul(Get(s1,0,dy), float4x4(-0.269124656915665,0.359464347362518,0.358212292194366,0.071531303226948,-0.019259683787823,-0.051146294921637,-0.108653657138348,0.039536215364933,0.036095105111599,-0.036788001656532,0.022298917174339,0.002842410700396,-0.001000107382424,0.158072158694267,0.040227137506008,0.034105006605387));
res += mul(Get(s1,dx,-dy), float4x4(0.072726935148239,-0.118952356278896,-0.102097623050213,-0.067796453833580,0.092429555952549,-0.014758740551770,-0.030616665259004,-0.149564281105995,-0.032302588224411,-0.243341907858849,-0.140687838196754,-0.027141075581312,-0.191930875182152,0.115072980523109,0.172128960490227,-0.036471981555223));
res += mul(Get(s1,dx,0), float4x4(0.093298532068729,0.053693044930696,0.136126920580864,0.168814107775688,-0.274326682090759,0.286399543285370,0.161928236484528,0.355254262685776,0.022089663892984,-0.003176954807714,0.276453107595444,0.040141306817532,-0.050133571028709,-0.412945002317429,0.166592225432396,0.003744662040845));
res += mul(Get(s1,dx,dy), float4x4(0.022455483675003,0.020879864692688,-0.154702574014664,0.076535880565643,0.004470805637538,-0.249201402068138,0.008918469771743,-0.056900322437286,0.040065854787827,0.020583324134350,-0.041797392070293,-0.030797559767962,0.067368373274803,0.182780101895332,0.030663006007671,0.109133563935757));
res += mul(Get(s2,-dx,-dy), float4x4(-0.099336497485638,-0.027806865051389,0.071189664304256,0.056987717747688,0.070146262645721,0.033015910536051,0.052907429635525,-0.133326023817062,-0.082511335611343,-0.099292248487473,0.008150774985552,0.125899627804756,-0.035806581377983,-0.129144161939621,-0.482913076877594,-0.260634392499924));
res += mul(Get(s2,-dx,0), float4x4(-0.118853628635406,0.134319305419922,-0.057326421141624,-0.032634936273098,0.256719529628754,0.003859187010676,0.045456495136023,-0.492932498455048,0.149148836731911,-0.212561577558517,0.092835567891598,-0.062994934618473,-0.045411475002766,0.124650739133358,0.972705185413361,0.260449349880219));
res += mul(Get(s2,-dx,dy), float4x4(-0.349462509155273,0.150710582733154,-0.055812556296587,0.062995225191116,0.034778811037540,0.135513439774513,0.006565207615495,0.071868211030960,0.030655182898045,0.176878809928894,0.166774496436119,-0.105117365717888,-0.333229124546051,0.120956458151340,0.308322995901108,-0.110894739627838));
res += mul(Get(s2,0,-dy), float4x4(-0.014421559870243,-0.001078887260519,0.272655516862869,0.225865051150322,-0.104431755840778,0.101013258099556,-0.013597015291452,-0.039110653102398,0.331608653068542,0.110248506069183,-0.194699004292488,-0.267877280712128,-0.068640954792500,-0.128697752952576,-0.260774850845337,0.024669978767633));
res += mul(Get(s2,0,0), float4x4(0.308018177747726,-0.891866922378540,-0.425037205219269,-0.045212406665087,-0.436433941125870,0.061743084341288,0.445690035820007,0.839050948619843,-0.755663931369781,0.624450981616974,0.181177616119385,0.531529247760773,-0.041395284235477,0.003273219102994,-0.164042875170708,-0.127325937151909));
res += mul(Get(s2,0,dy), float4x4(-0.006272019818425,0.177413910627365,0.191916391253471,-0.103796854615211,-0.194232493638992,-0.192456647753716,0.182986378669739,0.011035920120776,0.216621920466423,-0.681608796119690,-0.064461685717106,-0.418012201786041,-0.080107450485229,0.237104952335358,0.040751580148935,0.070156708359718));
res += mul(Get(s2,dx,-dy), float4x4(-0.071238324046135,0.231029838323593,0.175146743655205,0.067494198679924,-0.097947135567665,-0.039300993084908,0.124895758926868,0.158793851733208,-0.098283462226391,0.181902900338173,-0.025112474337220,0.114042527973652,0.046721067279577,0.025224754586816,-0.003449913347140,0.050851766020060));
res += mul(Get(s2,dx,0), float4x4(0.070306845009327,-0.029204506427050,-0.049933589994907,0.009372157044709,0.400749653577805,-0.300063252449036,-0.333438366651535,-0.488494038581848,-0.049898087978363,0.086121097207069,-0.084704242646694,-0.123355977237225,-0.101012133061886,0.158593729138374,-0.162264034152031,0.158605903387070));
res += mul(Get(s2,dx,dy), float4x4(0.189471602439880,-0.067170277237892,-0.201062425971031,-0.126498907804489,0.024818906560540,0.293439686298370,-0.136734113097191,0.032687775790691,-0.043819751590490,-0.131944298744202,-0.058967597782612,0.069239705801010,-0.154630586504936,-0.183460280299187,-0.171323642134666,0.102134235203266));
res = max(float4(0, 0, 0, 0), res) + float4(0.000992948538624,-0.324742972850800,-0.047679647803307,0.898422420024872) * min(float4(0, 0, 0, 0), res);
return res;
}
