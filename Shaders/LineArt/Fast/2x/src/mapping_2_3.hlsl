sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(-0.036406628787518,-0.079052411019802,0.256988018751144,0.009149949066341);
res += mul(Get(s0,-dx,-dy), float4x4(-0.155500233173370,0.154857203364372,0.178209245204926,-0.028330421075225,0.024126449599862,0.036900799721479,0.065053388476372,0.089219592511654,0.029095020145178,0.152236312627792,0.204300597310066,0.025711135938764,0.283225029706955,-0.148759305477142,-0.098318569362164,-0.006224836688489));
res += mul(Get(s0,-dx,0), float4x4(-0.197703361511230,-0.006833624094725,-0.157681241631508,-0.023368766531348,-0.014564524404705,-0.003103336319327,0.038870107382536,0.189403235912323,0.016105633229017,0.071039110422134,-0.136062785983086,-0.050614424049854,0.055075388401747,-0.040605768561363,0.005798931699246,-0.039807617664337));
res += mul(Get(s0,-dx,dy), float4x4(-0.077669747173786,-0.032854393124580,0.072302706539631,-0.029612233862281,0.037588104605675,0.074895218014717,0.109644308686256,0.114115275442600,0.183470681309700,0.364936798810959,-0.171194925904274,-0.058636289089918,0.189637720584869,0.038875617086887,-0.041088245809078,0.076195262372494));
res += mul(Get(s0,0,-dy), float4x4(-0.108949773013592,0.246016517281532,0.298675954341888,-0.093885026872158,-0.040653567761183,-0.025054989382625,-0.516423463821411,0.007559792138636,0.037060458213091,0.182883962988853,0.070809692144394,0.019509140402079,0.350721508264542,0.099206216633320,-0.097157172858715,-0.118412196636200));
res += mul(Get(s0,0,0), float4x4(-0.164591416716576,0.151048883795738,-0.043372347950935,0.068423874676228,-0.099277183413506,-0.455493479967117,-0.901685118675232,0.065653979778290,0.112309955060482,0.400318294763565,0.323671221733093,-0.161356881260872,0.311171859502792,0.009496909566224,0.008818257600069,-0.019409494474530));
res += mul(Get(s0,0,dy), float4x4(-0.066592611372471,-0.016193754971027,-0.042912647128105,0.035699237138033,0.067919373512268,-0.056169454008341,-0.030723463743925,0.007690658327192,0.123389497399330,0.422284752130508,-0.112838819622993,0.016256351023912,0.140015572309494,0.144675269722939,0.021834356710315,0.002450923901051));
res += mul(Get(s0,dx,-dy), float4x4(-0.099994488060474,0.066504664719105,-0.208438590168953,0.071382179856300,-0.087883785367012,-0.180080756545067,-0.346156150102615,-0.021154351532459,0.123863123357296,0.084236413240433,0.124997831881046,-0.077679418027401,0.263909161090851,-0.003404296701774,0.053371857851744,-0.012638160027564));
res += mul(Get(s0,dx,0), float4x4(-0.591640114784241,-0.457903653383255,-0.040094472467899,0.059199381619692,-0.011628900654614,-0.698691427707672,-0.443317860364914,-0.026588065549731,-0.019804868847132,0.152212753891945,0.017974471673369,-0.035135906189680,0.268391102552414,-0.003356994828209,0.048275843262672,-0.007791796699166));
res += mul(Get(s0,dx,dy), float4x4(0.000645451073069,-0.074929937720299,0.002305763075128,0.009960440918803,0.003004859667271,-0.037952564656734,0.017960006371140,-0.074290879070759,0.160859867930412,0.122805021703243,-0.004811856895685,-0.066919177770615,0.165841892361641,0.056933078914881,-0.001925848657265,-0.032975506037474));
res += mul(Get(s1,-dx,-dy), float4x4(0.120996475219727,0.227060750126839,0.320687681436539,0.120464637875557,0.132320553064346,0.236178711056709,0.078241772949696,0.053974557667971,-0.070312865078449,-0.122429952025414,0.068552337586880,-0.017384685575962,-0.298352718353271,-0.190690100193024,0.356760442256927,0.007149631157517));
res += mul(Get(s1,-dx,0), float4x4(0.007493572775275,-0.074386805295944,-0.081517025828362,-0.018049281090498,-0.072372511029243,-0.047401893883944,-0.048331089317799,-0.018524523824453,-0.018289105966687,0.123594410717487,-0.065307252109051,-0.143039792776108,-0.182532146573067,-0.211579546332359,0.014008309692144,-0.058034755289555));
res += mul(Get(s1,-dx,dy), float4x4(-0.130541771650314,-0.070848554372787,0.082504138350487,-0.034912802278996,0.101598560810089,-0.123909048736095,-0.217815011739731,-0.045148849487305,-0.001428653136827,0.097173996269703,0.004948007874191,-0.304399728775024,-0.198907628655434,-0.000211597522139,0.065120398998260,-0.040922697633505));
res += mul(Get(s1,0,-dy), float4x4(-0.073087811470032,0.332586735486984,0.000344106374541,0.152607217431068,-0.056987211108208,0.123025953769684,-0.127663239836693,0.004518770147115,0.056935209780931,0.082789748907089,-0.069294504821301,-0.018016744405031,-0.187378153204918,-0.047666497528553,0.196991458535194,0.013273539952934));
res += mul(Get(s1,0,0), float4x4(0.207072287797928,-0.057884536683559,-0.122947722673416,-0.150998756289482,0.078267864882946,0.124282546341419,-0.202343240380287,0.082824885845184,-0.231239959597588,-0.254821240901947,0.018082896247506,-0.045567683875561,-0.244229331612587,0.010442852042615,0.486139982938766,-0.041078444570303));
res += mul(Get(s1,0,dy), float4x4(0.060873433947563,0.014806219376624,0.140670165419579,-0.087046697735786,0.005183735396713,-0.646167874336243,-0.105296798050404,-0.404005646705627,0.164923220872879,-0.162155821919441,-0.103624477982521,-0.259415447711945,-0.119389258325100,-0.001075865817256,-0.001935611828230,-0.067451283335686));
res += mul(Get(s1,dx,-dy), float4x4(0.065943971276283,0.051952872425318,0.193655386567116,-0.036959875375032,0.166999936103821,-0.026712369173765,0.124330885708332,0.000634832540527,0.168458238244057,-0.122752875089645,0.009964657016098,-0.019649110734463,-0.239181116223335,0.019927181303501,0.041688021272421,0.040978267788887));
res += mul(Get(s1,dx,0), float4x4(-0.033078588545322,-0.150547951459885,0.064616814255714,-0.168513432145119,0.187371879816055,0.423026412725449,0.013797903433442,-0.090662270784378,0.091836966574192,0.228060379624367,-0.066583506762981,-0.091716632246971,-0.039964143186808,-0.227309361100197,0.079598903656006,0.085796177387238));
res += mul(Get(s1,dx,dy), float4x4(0.092139050364494,-0.036565661430359,0.088825076818466,-0.058126483112574,-0.036688175052404,-0.071651391685009,0.087966628372669,-0.031890317797661,0.077760756015778,0.143558263778687,0.036274887621403,-0.031547952443361,-0.081904008984566,0.061419758945704,-0.002262447495013,0.000845000613481));
res += mul(Get(s2,-dx,-dy), float4x4(-0.100357078015804,-0.058303784579039,0.197559252381325,0.107485793530941,-0.004004761110991,0.099377855658531,-0.328595966100693,0.053725060075521,0.190976157784462,-0.246768683195114,-0.396301895380020,0.075993791222572,-0.151846528053284,-0.075527109205723,0.198890000581741,0.136047929525375));
res += mul(Get(s2,-dx,0), float4x4(-0.077366076409817,-0.160579830408096,-0.065750896930695,0.211431518197060,-0.029227396473289,0.071530334651470,0.007978745736182,0.100409850478172,0.033588875085115,-0.351674497127533,-0.066549733281136,0.141331478953362,0.344728827476501,0.069422826170921,-0.024762799963355,0.185559704899788));
res += mul(Get(s2,-dx,dy), float4x4(0.082896776497364,-0.120773307979107,0.092614538967609,0.123864717781544,-0.064068756997585,-0.065760001540184,0.020827297121286,0.051830347627401,0.170219987630844,-0.085965842008591,-0.077408567070961,0.224293023347855,0.092398658394814,0.033367957919836,0.105084910988808,0.432682365179062));
res += mul(Get(s2,0,-dy), float4x4(-0.204071208834648,-0.403977334499359,-0.312559604644775,0.024811288341880,-0.240005284547806,-0.988678932189941,-0.941771328449249,0.150180444121361,0.075863882899284,0.168642640113831,0.366856515407562,-0.172169178724289,0.171152800321579,-0.180108368396759,0.054796893149614,-0.092304110527039));
res += mul(Get(s2,0,0), float4x4(0.392982959747314,0.047670174390078,-0.299017399549484,-0.352672487497330,-0.033659081906080,-0.340140283107758,-0.360879361629486,0.251360505819321,0.438391596078873,0.922804117202759,0.322928965091705,0.105136901140213,0.085062876343727,0.548588693141937,0.242689862847328,-0.739722132682800));
res += mul(Get(s2,0,dy), float4x4(0.038367543369532,-0.195124745368958,-0.065868616104126,0.322735786437988,0.017575621604919,-0.090696625411510,0.014228127896786,0.125910967588425,-0.350299298763275,-0.453016251325607,-0.006732196081430,0.294600754976273,-0.219692394137383,-0.111066184937954,0.022133793681860,0.346756070852280));
res += mul(Get(s2,dx,-dy), float4x4(-0.037616536021233,-0.027572600170970,-0.030497409403324,-0.016132667660713,-0.047498080879450,-0.106131955981255,-0.294297963380814,0.057782497256994,-0.011294381693006,-0.047866247594357,0.014907715842128,-0.092158854007721,0.175471752882004,-0.001263911020942,0.081299640238285,-0.025985047221184));
res += mul(Get(s2,dx,0), float4x4(-0.075228683650494,-0.115083873271942,0.015341545455158,0.044628120958805,0.038425892591476,-0.035398561507463,-0.056490741670132,0.039102733135223,0.075219810009003,0.186085313558578,0.196073085069656,-0.094686269760132,-0.363240927457809,-0.161432072520256,-0.045039918273687,0.175161659717560));
res += mul(Get(s2,dx,dy), float4x4(-0.008014876395464,0.003546400228515,0.158013090491295,0.031297579407692,-0.023481162264943,-0.069370329380035,0.079074986279011,0.060120169073343,0.071569986641407,-0.157909274101257,-0.016962204128504,0.097751751542091,-0.061637792736292,-0.019336152821779,-0.025807173922658,0.098545975983143));
res = max(float4(0, 0, 0, 0), res) + float4(-0.705877065658569,0.010770569555461,0.064978405833244,0.938159406185150) * min(float4(0, 0, 0, 0), res);
return res;
}
